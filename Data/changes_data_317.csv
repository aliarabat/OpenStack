id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fansible-role-collect-logs~master~I2a805ff896f1e75e17a5c9405054dce37ee3a50f,openstack/ansible-role-collect-logs,master,nowarn,I2a805ff896f1e75e17a5c9405054dce37ee3a50f,Fix warnings of unquoted strings in influxdb module,MERGED,2019-08-08 14:13:29.000000000,2019-08-09 01:34:17.000000000,2019-08-09 01:34:16.000000000,6,4,0,675344,9dc533daf21a8d16ca56c76513c4bd5f2161357d,10,4,2,3,10969,Shnaidman Sagi (Sergey),sergsh,"Fix warnings of unquoted strings in influxdb module

It disables ansible 2.8 warnings about strings and variables.
Change-Id: I2a805ff896f1e75e17a5c9405054dce37ee3a50f
"
openstack%2Fzun~master~I9197c771e426f7077e55b0b6f718b915408c941a,openstack/zun,master,,I9197c771e426f7077e55b0b6f718b915408c941a,Fix format issue on private registry doc,MERGED,2019-08-03 16:12:36.000000000,2019-08-09 01:33:52.000000000,2019-08-09 01:33:52.000000000,18,6,0,674464,935639c106078bdde3064c54898e6bb45a23d683,6,2,1,1,11536,hongbin,hongbin,"Fix format issue on private registry doc

Change-Id: I9197c771e426f7077e55b0b6f718b915408c941a
"
openstack%2Fpython-manilaclient~master~If81fef04885a43e01e53de7980ebc0c651540934,openstack/python-manilaclient,master,,If81fef04885a43e01e53de7980ebc0c651540934,wip: Add update share type functional tests,ABANDONED,2019-07-17 09:40:38.000000000,2019-08-09 00:52:56.000000000,,91,5,0,671226,4ee5a525ad925935d4e9414b16e69aad9287edac,3,1,1,3,30407,haixin,haixin,"wip: Add update share type functional tests

Depends-on: https://review.opendev.org/#/c/669651/
Depends-on: https://review.opendev.org/#/c/670750/
Part-of blueprint update-share-type-name-or-description

Change-Id: If81fef04885a43e01e53de7980ebc0c651540934
"
openstack%2Fmanila-specs~master~Ia0a8394d20615062e91eed918589ab70a4388c39,openstack/manila-specs,master,,Ia0a8394d20615062e91eed918589ab70a4388c39,remove error code,ABANDONED,2019-08-08 07:37:17.000000000,2019-08-09 00:42:01.000000000,,1,1,0,675259,b3e38ed69feb65fc0eb2f238cfe0f45c5b28561f,4,3,1,1,30407,haixin,haixin,"remove error code

the error code 409 isn't valid for share_type_update API.

Change-Id: Ia0a8394d20615062e91eed918589ab70a4388c39
"
openstack%2Frequirements~master~I4bec7591cd7b5e9ca4ba84517554081b057acfef,openstack/requirements,master,new-release,I4bec7591cd7b5e9ca4ba84517554081b057acfef,update constraint for python-designateclient to new release 2.12.0,MERGED,2019-08-08 16:19:17.000000000,2019-08-09 00:31:43.000000000,2019-08-09 00:31:43.000000000,1,1,0,675401,553c279f8e0ce643315564f89b169f5f2b82e09e,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-designateclient to new release 2.12.0

Change-Id: I4bec7591cd7b5e9ca4ba84517554081b057acfef
meta:version: 2.12.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Dirk Mueller <dirk@dmllr.de>
meta:release:Commit: Dirk Mueller <dirk@dmllr.de>
meta:release:Change-Id: I4019cfff92b0174721177aaa175c3ef4da2dffaa
meta:release:Code-Review+1: Graham Hayes <gr@ham.ie>
meta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Frequirements~master~I009b90fdf7bcf9f0c85f150d06e797e738653161,openstack/requirements,master,new-release,I009b90fdf7bcf9f0c85f150d06e797e738653161,update constraint for python-solumclient to new release 2.9.0,MERGED,2019-08-08 16:16:33.000000000,2019-08-09 00:14:01.000000000,2019-08-09 00:14:01.000000000,1,1,0,675400,776fe11e826a897e29ebafd9d304f8b2a0eae72d,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-solumclient to new release 2.9.0

Change-Id: I009b90fdf7bcf9f0c85f150d06e797e738653161
meta:version: 2.9.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: yes
meta:release:Author: Dirk Mueller <dirk@dmllr.de>
meta:release:Commit: Dirk Mueller <dirk@dmllr.de>
meta:release:Change-Id: I4019cfff92b0174721177aaa175c3ef4da2dffaa
meta:release:Code-Review+1: Graham Hayes <gr@ham.ie>
meta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Fnova~master~Ia69fabce8e7fd7de101e291fe133c6f5f5f7056a,openstack/nova,master,bug/1771806,Ia69fabce8e7fd7de101e291fe133c6f5f5f7056a,Match ComputeNode.uuid to ironic node uuid in RT,MERGED,2018-05-31 17:35:37.000000000,2019-08-08 23:25:48.000000000,2018-06-29 18:09:59.000000000,8,4,0,571535,9f28727eb75e05e07bad51b6eecce667d09dfb65,39,18,2,4,6873,Matt Riedemann,mriedem,"Match ComputeNode.uuid to ironic node uuid in RT

When the ResourceTracker creates a new ComputeNode
record, when using the Ironic driver, we can use
the ironic node uuid to set the compute node uuid
which will then also get reflected as the compute
node resource provider uuid in Placement, which
will be a nice link between the three resources
which should be 1:1:1 with each other. This isn't
mandatory nor does it fix any bugs, but it will
be nice for debugging.

Change-Id: Ia69fabce8e7fd7de101e291fe133c6f5f5f7056a
Related-Bug: #1771806
"
openstack%2Fswift~master~I4a32239eec37eed4085fbc2a283def4b69c816ac,openstack/swift,master,IPv6-support-and-testing,I4a32239eec37eed4085fbc2a283def4b69c816ac,Bring our IPv6 setup more in line with devstack's,MERGED,2019-08-08 16:02:40.000000000,2019-08-08 23:13:34.000000000,2019-08-08 23:10:00.000000000,1,2,0,675395,e095bf3dabad005d48985f06f6bfe14683621a59,7,2,1,1,15343,Tim Burke,tburke,"Bring our IPv6 setup more in line with devstack's

Change-Id: I4a32239eec37eed4085fbc2a283def4b69c816ac
"
openstack%2Ftripleo-common~master~I9fc504944e2067d9f87a5ad6ca0fe19097d1dd2d,openstack/tripleo-common,master,bug/1831246,I9fc504944e2067d9f87a5ad6ca0fe19097d1dd2d,Add shim for package module,ABANDONED,2019-05-31 15:04:43.000000000,2019-08-08 22:50:34.000000000,,139,0,2,662496,ebfa882a29699683994cf5dd41ec5583de78a7c0,39,6,9,2,7353,Kevin Carter,cloudnull,"Add shim for package module

This change adds an action plugin shim for the package module
so that we can port our existing puppet logic into ansible
by using the tripleo_enable_package_install option as a variable
defined in inventory or at runtime. If this option is unset the
normal package module will be used.

Closes-Bug: #1831246
Change-Id: I9fc504944e2067d9f87a5ad6ca0fe19097d1dd2d
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fkeystone~master~I2de4a106a366a966251e866482f255aa94631855,openstack/keystone,master,fix-policies,I2de4a106a366a966251e866482f255aa94631855,Clean up irrelevant comment,MERGED,2019-08-06 21:32:03.000000000,2019-08-08 22:14:50.000000000,2019-08-08 22:14:50.000000000,0,8,0,674935,2df534efce8f88542dc55d72a521eedfc09015ba,7,3,1,1,8482,Colleen Murphy,krinkle,"Clean up irrelevant comment

scope_types is no longer commented out for the app cred policies, so
remove misleading comment.

Change-Id: I2de4a106a366a966251e866482f255aa94631855
"
openstack%2Fkeystone~master~I3fc1cff61df6d64ea1fc98f54f98aba0cd35145c,openstack/keystone,master,fix-policies,I3fc1cff61df6d64ea1fc98f54f98aba0cd35145c,Fix list_mappings deprecation warning message,MERGED,2019-08-06 21:27:45.000000000,2019-08-08 22:14:47.000000000,2019-08-08 22:14:47.000000000,1,1,0,674934,3c665395ccdfbbaf4dbd140a28f989cafba8aac4,13,5,1,1,8482,Colleen Murphy,krinkle,"Fix list_mappings deprecation warning message

Without this patch, the identity:list_mappings policy uses the
deprecated name and check string for the old identity:get_mapping rule,
which means the resulting OR'd policy is wrong and the deprecation
message is confusing. Use the right one.

Change-Id: I3fc1cff61df6d64ea1fc98f54f98aba0cd35145c
"
openstack%2Fnova~stable%2Fpike~Ie621686053ad774c4ae4f22bb2a455f98900b611,openstack/nova,stable/pike,bug/1837877,Ie621686053ad774c4ae4f22bb2a455f98900b611,Implement power_off/power_on for the FakeDriver,MERGED,2019-08-06 16:57:19.000000000,2019-08-08 22:14:43.000000000,2019-08-08 22:14:43.000000000,23,15,0,674876,4a3eea8c30f5a452bcf82b145c66de3d3416a1cd,10,6,1,12,6873,Matt Riedemann,mriedem,"Implement power_off/power_on for the FakeDriver

When trying to recreate hundreds of instance action
events for scale testing with the FakeDriver, a nice
simple way to do that is by stopping those instances
and starting them again.

However, since power_off/on aren't implemented, once
you ""stop"" them the sync_instance_power_state periodic
task in the compute manager thinks they are still running
on the ""hypervisor"" and will stop them again via the API,
which records yet another instance action and set of
events.

This just toggles the power state bit on the fake instance
in the FakeDriver to make the periodic task do the right
thing.

As a result, we also have more realistic API and
notification samples.

Change-Id: Ie621686053ad774c4ae4f22bb2a455f98900b611
(cherry picked from commit 211e9b1961a14e22b39194fdd90e40738fc27202)
"
openstack%2Fcongress-tempest-plugin~master~I171eb7efc0e34b4451a1b3539ae6655f81dd2312,openstack/congress-tempest-plugin,master,retire-api-site,I171eb7efc0e34b4451a1b3539ae6655f81dd2312,Update api-ref location,MERGED,2019-07-30 17:39:52.000000000,2019-08-08 21:54:01.000000000,2019-08-08 21:54:01.000000000,10,10,0,673588,e0a0125a01a8436b364e49c19f62efd66c5398f1,9,8,1,2,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I171eb7efc0e34b4451a1b3539ae6655f81dd2312
"
openstack%2Freleases~master~I7592130bd689f7fc5c1e25ecbca71d4d934d429f,openstack/releases,master,oslo-master,I7592130bd689f7fc5c1e25ecbca71d4d934d429f,Oslo releases for 2019-8-6,MERGED,2019-08-06 16:06:55.000000000,2019-08-08 21:35:39.000000000,2019-08-08 21:35:38.000000000,12,0,0,674861,e85044317d41387c3521e0a228c30310509e57b2,8,4,1,3,6928,Ben Nemec,bnemec,"Oslo releases for 2019-8-6

Change-Id: I7592130bd689f7fc5c1e25ecbca71d4d934d429f
"
openstack%2Fcongress~master~Ib4c5aff2fe02d9511e38e2e26b4361d81d853263,openstack/congress,master,retire-api-site,Ib4c5aff2fe02d9511e38e2e26b4361d81d853263,Update api-ref location,MERGED,2019-07-30 17:46:23.000000000,2019-08-08 21:24:53.000000000,2019-08-08 21:24:53.000000000,3,3,0,673591,3c9ca637124301a2b014e6a1bd46f6f01fa37a3f,8,3,1,1,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ib4c5aff2fe02d9511e38e2e26b4361d81d853263
"
openstack%2Fcongress~master~I1bbc3539a751f7c0c0f54ec046f88a847b4647f9,openstack/congress,master,ipv6-only-deployment-and-testing,I1bbc3539a751f7c0c0f54ec046f88a847b4647f9,update devstack plugin for ipv6,MERGED,2019-08-07 23:38:24.000000000,2019-08-08 21:24:52.000000000,2019-08-08 21:24:52.000000000,2,0,0,675230,5d8d0e7c7efe4e46bb6f8946e1bf899017465ff9,8,3,1,2,18591,Eric Kao,ekcs,"update devstack plugin for ipv6

Set listen address to devstack variable SERVICE_LISTEN_ADDRESS
to override the default 0.0.0.0 (which does not listen to ipv6 addresses).

Change-Id: I1bbc3539a751f7c0c0f54ec046f88a847b4647f9
Story: #2005477
"
openstack%2Fpuppet-tripleo~master~I507efdf3e771789de8cae5e29bc312b4d27f6b25,openstack/puppet-tripleo,master,todo,I507efdf3e771789de8cae5e29bc312b4d27f6b25,Clean up a few FIXME,MERGED,2019-08-07 00:44:27.000000000,2019-08-08 21:21:54.000000000,2019-08-08 21:21:54.000000000,5,17,0,674964,0a2469304e1e6c4a8598e8ab1769361e76333739,14,5,1,4,3153,Emilien Macchi,emilienm,"Clean up a few FIXME

Change-Id: I507efdf3e771789de8cae5e29bc312b4d27f6b25
glance: remove useless comments, they were implemented.
ironic: remove the useless condition
rabbitmq: remove useless comment
zaqar: remove useless parameter, call class directly
"
openstack%2Fpuppet-tripleo~master~If68485390dc11295872f7c3b859234cbf40a7796,openstack/puppet-tripleo,master,midonet,If68485390dc11295872f7c3b859234cbf40a7796,"Remove Midonet, Cassandra and Zookeeper",MERGED,2019-08-07 00:48:28.000000000,2019-08-08 21:21:52.000000000,2019-08-08 21:21:52.000000000,0,401,0,674967,1fa66c49c036bf473ef7bb7008778331e117bb71,14,5,1,6,3153,Emilien Macchi,emilienm,"Remove Midonet, Cassandra and Zookeeper

We removed Midonet from THT, we can now cleanup puppet-tripleo.
It also removes the cassandra & zookeeper cluster manifests, created by
the Midonet integrators.

Note that Contrail is also using Cassandra and Zookeeper but not the
removed code to deploy these components.

Change-Id: If68485390dc11295872f7c3b859234cbf40a7796
"
openstack%2Fopenstack-helm-infra~master~I0c5456a01b3a36fee8ee4c986d25c4a1d807cb77,openstack/openstack-helm-infra,master,psql-replication-tls,I0c5456a01b3a36fee8ee4c986d25c4a1d807cb77,(postgresql) Cert auth for replication connections,MERGED,2019-06-04 19:54:27.000000000,2019-08-08 21:16:14.000000000,2019-08-08 21:16:14.000000000,162,42,13,663129,9c27dd75763d420d9ffbe0abbda273065ab3f3dd,152,11,67,6,26449,Scott Hussey,sh8121,"(postgresql) Cert auth for replication connections

- Change the Postgres configuration to use x509 client
  certs for authenticating the connections for replicating
  between Patroni nodes. This is a straightforward solution
  for support credential rotation for the replication user.
  Password authentication is problematic due to the declartive
  nature of helm charts and requiring an existing replication
  connection to replicate the rotated password.

Change-Id: I0c5456a01b3a36fee8ee4c986d25c4a1d807cb77
"
openstack%2Ftripleo-heat-templates~master~I33d62bbef3a19af0898f8047af436ed05c9a90a8,openstack/tripleo-heat-templates,master,,I33d62bbef3a19af0898f8047af436ed05c9a90a8,Fix typo in barbican deployment,MERGED,2019-08-02 19:22:46.000000000,2019-08-08 21:13:57.000000000,2019-08-05 22:29:53.000000000,1,1,0,674410,06c8ab8beff4d9ba26b574c1c391d2d103e715a7,13,5,2,1,7973,Douglas Mendizábal,dougmendizabal,"Fix typo in barbican deployment

Change-Id: I33d62bbef3a19af0898f8047af436ed05c9a90a8
"
openstack%2Fansible-role-thales-hsm~master~I188fd02d3a8d017ea1ea0894ea3b8d9318321dad,openstack/ansible-role-thales-hsm,master,,I188fd02d3a8d017ea1ea0894ea3b8d9318321dad,Ensure libnsl is installed,MERGED,2019-07-30 14:31:47.000000000,2019-08-08 21:04:10.000000000,2019-07-30 18:58:42.000000000,11,0,0,673538,0133696ce670c3e1d55524a990fe56374a711934,10,4,2,1,7973,Douglas Mendizábal,dougmendizabal,"Ensure libnsl is installed

Change-Id: I188fd02d3a8d017ea1ea0894ea3b8d9318321dad
"
openstack%2Fcongress~master~I0e1e695eb266665280f01847eab1771a9904ff06,openstack/congress,master,ipv6-only-deployment-and-testing,I0e1e695eb266665280f01847eab1771a9904ff06,WIP - update devstack plugin for ipv6,ABANDONED,2019-08-05 23:40:04.000000000,2019-08-08 20:24:18.000000000,,16,14,0,674712,f0816e6028458f9616b71077fb0ad969b36a3755,12,1,6,3,18591,Eric Kao,ekcs,"WIP - update devstack plugin for ipv6

Set listen address to devstack variable SERVICE_LISTEN_ADDRESS
to override the default 0.0.0.0 (which does not listen to ipv6 addresses).

Change-Id: I0e1e695eb266665280f01847eab1771a9904ff06
"
openstack%2Fneutron~master~I93e8d21d612e343479f26f8adc4477473579bab1,openstack/neutron,master,bug/1838563,I93e8d21d612e343479f26f8adc4477473579bab1,Add 3 retry attempts to initialize ovs agent,MERGED,2019-08-01 16:13:00.000000000,2019-08-08 20:07:56.000000000,2019-08-08 20:07:56.000000000,21,6,4,674085,30a60d04f098581340f83b38b7a79104308c66bc,45,9,2,1,11975,Slawek Kaplonski,slaweq,"Add 3 retry attempts to initialize ovs agent

In case when TimeoutException will be raised by ovsdbapp during
initialization of neutron-ovs-agent, it will now try to create
object of agents class 3 times before agent will be terminated.

Such timeouts shouldn't happend usually but if for some reason
it happens e.g. once, e.g. in CI job, it should be better to just
retry and initialize this agent instead of left it dead on the
node.

Change-Id: I93e8d21d612e343479f26f8adc4477473579bab1
Closes-Bug: #1838563
"
openstack%2Fmagnum~master~I2ba32844b822ffc14da043e6ef7d071bb62a22ee,openstack/magnum,master,,I2ba32844b822ffc14da043e6ef7d071bb62a22ee,k8s: stop introspecting instance name,MERGED,2019-06-27 21:37:09.000000000,2019-08-08 19:50:58.000000000,2019-08-08 19:50:58.000000000,17,25,0,668059,2f2d05c826a35dbc89199f49560bb68cd14f49f4,26,7,6,11,1004,Mohammed Naser,mnaser,"k8s: stop introspecting instance name

We kept introspecting the name of the instance with the assumption
that the network always existed under .novalocal

This is not always the case, with certain variables changed inside
Neutron it is possible to control this, therefore, leading in failing
deploys.

With this change, we pass the instance name directly to the cluster
and therefore we always have the accurate name.

Task: 36160
Story: 2006371

Change-Id: I2ba32844b822ffc14da043e6ef7d071bb62a22ee
"
openstack%2Ftripleo-quickstart~master~Iee4eaaad37d1ac1d595e2430c1cbea09349522b8,openstack/tripleo-quickstart,master,ruck_sprint13,Iee4eaaad37d1ac1d595e2430c1cbea09349522b8,Generate fs matrix from source yaml files,MERGED,2019-07-26 15:08:58.000000000,2019-08-08 19:47:48.000000000,2019-08-08 19:47:48.000000000,414,203,31,673005,edaa1be4bcb53db87ea61a3bfd26e94a012cb5bc,51,12,7,6,8175,Rafael Folco,rfolco,"Generate fs matrix from source yaml files

Use featureset yaml files as the unique source of truth.

When updating fs yaml files, one should run 'tox -e docs'
to update the featureset matrix. Tox calls a python code
to parse featureset yaml files and generate the matrix in
doc/source/featureset-configuration-generated.rst, which
in turn, is imported into the featureset configuration page.

Change includes:

  - Normalized matrix headers w/ 5 chars
  - Legend w/ acronyms and symbols automatically generated
  - Features marked as enabled, disabled, not found, or enabled by
    release.
  - Removed default settings enabled after release XYZ that are
    not controlled by the featureset file: e.g. cnf-dl.
  - Removed settings not present in any fs: ssl uc
    (SSL Undercloud), NI Bond (Network Isolation Bond), nonha
    (non-HA), PM (Pacemaker), IPSec (IPSec tunnels).
  - Merged SSL overcloud INT and EXT into a single SSL OC.

Change-Id: Iee4eaaad37d1ac1d595e2430c1cbea09349522b8
Task: https://tree.taiga.io/project/tripleo-ci-board/task/1202
Co-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>
"
openstack%2Foslo.config~master~I4c4a2083d6578c625b948b1458412b832264f11e,openstack/oslo.config,master,sphinx,I4c4a2083d6578c625b948b1458412b832264f11e,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-05 02:06:58.000000000,2019-08-08 19:29:22.000000000,2019-08-08 19:29:22.000000000,1,1,1,669234,1d1067445994fc1b1fa4d30c14fe444102dd4dad,14,8,2,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I4c4a2083d6578c625b948b1458412b832264f11e
"
openstack%2Ftripleo-ci~master~I0799fd3f6e89ac408d2987477f52f1952bc96686,openstack/tripleo-ci,master,buuldimg,I0799fd3f6e89ac408d2987477f52f1952bc96686,Move buildimages playbook tasks from config to tripleo,MERGED,2019-08-07 23:14:03.000000000,2019-08-08 19:21:45.000000000,2019-08-08 19:21:45.000000000,64,0,7,675225,f30dce2993d7b99a095ac120217e73c68bc8bd12,13,7,1,2,10969,Shnaidman Sagi (Sergey),sergsh,"Move buildimages playbook tasks from config to tripleo

Tasks that are in config/ repo don't have any secrets and should
be in tripleoc-ci, because they should be used in check jobs too.
RHEL-8 jobs fail because of lack of these tasks.

Change-Id: I0799fd3f6e89ac408d2987477f52f1952bc96686
"
openstack%2Ftripleo-docs~master~Ifb9a9edf699aa3b01584c6628c459b9d38edea2a,openstack/tripleo-docs,master,missing_oslo_password,Ifb9a9edf699aa3b01584c6628c459b9d38edea2a,Add step to DCN doc to include oslo_messaging passwords,ABANDONED,2019-08-08 15:59:03.000000000,2019-08-08 19:17:19.000000000,,19,2,0,675392,f47e8f89cc3893e52f547d484777f56222833ea9,3,2,1,1,18002,John Fulton,fultonj,"Add step to DCN doc to include oslo_messaging passwords

Without this missing step I run into this error:

""puppet-user: Error: Function lookup() did not find a
 value for the name 'oslo_messaging_rpc_password'""

Change-Id: Ifb9a9edf699aa3b01584c6628c459b9d38edea2a
"
openstack%2Fplacement~master~If9e6693da9ea09966b4282369cd99516658507b6,openstack/placement,master,cd/usages-bindparam,If9e6693da9ea09966b4282369cd99516658507b6,Use another expanding bindparam in _get_usages_by_provider_trees,MERGED,2019-08-08 10:30:56.000000000,2019-08-08 18:59:58.000000000,2019-08-08 18:59:58.000000000,2,1,4,675287,f69f584577eedf07b45862d65fce2c7217634b8f,8,4,1,1,11564,Chris Dent,chdent,"Use another expanding bindparam in _get_usages_by_provider_trees

We had already [1] changed one in_ in _get_usages_by_provider_trees to
be an expanding bindparam. This changes the other based on new profiling
results. The same value is used for the param.

[1] I121e5ac6e8202467bf72d9de7ac452d5b5804da1h

Change-Id: If9e6693da9ea09966b4282369cd99516658507b6
"
openstack%2Fplacement~master~Ief3e86ca0d722035809115818d38fb14a89a7a39,openstack/placement,master,cd/de-tuple,Ief3e86ca0d722035809115818d38fb14a89a7a39,Move provider_ids_from_rp_ids to allocation_candidate and fix,MERGED,2019-08-07 10:34:02.000000000,2019-08-08 18:59:17.000000000,2019-08-08 18:59:17.000000000,36,34,1,675084,6de94f98e54343ee8619cb51b3e1d949fc1a4cc5,26,5,6,2,11564,Chris Dent,chdent,"Move provider_ids_from_rp_ids to allocation_candidate and fix

Right now the only consumer of provider_ids_from_rp_ids is
_build_summaries, which is private to allocation_candidates.

Since provider_ids_from_rp_ids has evolved to have a fairly
specific behavior, with some tricky considerations for how
it is used, this patch moves it to allocation_candidate.py
and makes it private to make it a bit more clear that it is
special.

If/when it gains more uses we can reconsider.

This change also returns the expanding bindparam functionality
added in [1] and removed in [2] as part of a rebasing mistake.
See above about ""tricky"".

[1] Ic4e0cdd87f8f2d76b921059ac4bf16a838913abf
[2] If937053a8af3f0eecdd90aa807be0abc316d8c4f

Change-Id: Ief3e86ca0d722035809115818d38fb14a89a7a39
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I5e73660e23fef15d1cae4c89d8b45b2456b0a110,openstack/tripleo-heat-templates,stable/rocky,mgmt_plugin,I5e73660e23fef15d1cae4c89d8b45b2456b0a110,Enable rabbitmq_management plugin,MERGED,2019-08-07 08:34:29.000000000,2019-08-08 18:44:57.000000000,2019-08-08 18:44:57.000000000,12,0,0,675057,04b83ec504391b0dac0fbc38b8168c160c3399e0,13,5,2,2,20172,Michele Baldessari,michele,"Enable rabbitmq_management plugin

Enable the RabbitMQ managment plugin. RabbitMQ managment
will listen on localhost (127.0.0.1) only.

NOTE: This depend on this upstream change:
  https://github.com/voxpupuli/puppet-rabbitmq/pull/777

Also to optimize for performance:
 - Disables message rates in the management plugin.
 - Raises the collect_statistics_interval from 5000ms to
   30000ms.

NB: Cherry-pick was not clean so I tested this manually on queens
and got the expected result:
~]# pcs status |grep -e 'rabbitmq.*Started'
  rabbitmq-bundle-0    (ocf::heartbeat:rabbitmq-cluster):      Started controller-0
  rabbitmq-bundle-1    (ocf::heartbeat:rabbitmq-cluster):      Started controller-1
  rabbitmq-bundle-2    (ocf::heartbeat:rabbitmq-cluster):      Started controller-2

~]# curl -sS  -u guest:$(hiera -c /etc/puppet/hiera.yaml rabbitmq::default_pass) http://127.0.0.1:15672/api/queues/ 2> /dev/null  |jq . |head -n5
[
  {
    ""memory"": 10936,
    ""idle_since"": ""2019-08-08 8:49:23"",
    ""consumer_utilisation"": null,

Related-Bug: #1815675
Change-Id: I5e73660e23fef15d1cae4c89d8b45b2456b0a110
(cherry-picked from commit d6727aff73276446f34dde4de724984bc381fa3f
"
openstack%2Ftripleo-validations~master~I66b796fab1d8651163226febbc4e99648a9ecc6a,openstack/tripleo-validations,master,bp/validation-framework-infra,I66b796fab1d8651163226febbc4e99648a9ecc6a,Linting hardening with pre-commit,MERGED,2019-07-26 15:28:52.000000000,2019-08-08 18:44:56.000000000,2019-08-08 18:44:56.000000000,255,102,1,673007,cac3e7101d89c743ce2593141b9da4735be2fd33,61,9,26,28,11491,Gael Chamoulaud,gchamoul,"Linting hardening with pre-commit

- Adds bashate test using v0.6.0
- Bump pre-commit-hooks release to v2.2.4
- Bump ansible-lint release to v4.1.0a0
- Fix some minor flake8 errors

Change-Id: I66b796fab1d8651163226febbc4e99648a9ecc6a
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fcharm-deployment-guide~master~I373eb238f10ab31ee43fdea251747393bc95b44b,openstack/charm-deployment-guide,master,bug/1833625,I373eb238f10ab31ee43fdea251747393bc95b44b,clarify data-port for neutron,MERGED,2019-08-07 21:40:49.000000000,2019-08-08 18:40:10.000000000,2019-08-08 18:40:10.000000000,22,15,1,675208,1b9afc876a9e24a17e65f36b10fd73c4c6836c72,10,3,2,2,30561,Peter Matulis,pmatulis,"clarify data-port for neutron

Update metadata.yaml snippet for neutron-gateway.

Add 'NICs' column to a table on the install-maas page.

Clarify what 'data-port' is and how to configure all MAAS nodes so that
an unused network interface is left in the 'Unconfigured' state.

It is odd to have the user do this but the alternative was to be invasive in
terms of changes, which would result in a high risk of breakage later on. This
entire guide will be revisited and reviewed at a later date.

Closes-Bug: #1833625

Change-Id: I373eb238f10ab31ee43fdea251747393bc95b44b
"
openstack%2Fkuryr-kubernetes~master~I6af8eb8790f0bdafa5ffcaa4465b9cad6bfec50f,openstack/kuryr-kubernetes,master,,I6af8eb8790f0bdafa5ffcaa4465b9cad6bfec50f,Add PodResources gRPC API updating guide,MERGED,2019-08-01 11:27:16.000000000,2019-08-08 18:19:26.000000000,2019-08-08 18:19:26.000000000,210,7,3,674008,8442d47f5ac7d927bc0e7282159056ea11e752b1,14,7,2,4,30247,Ilya Maximets,i.maximets,"Add PodResources gRPC API updating guide

Change-Id: I6af8eb8790f0bdafa5ffcaa4465b9cad6bfec50f
Signed-off-by: Ilya Maximets <i.maximets@samsung.com>
"
openstack%2Fkayobe~stable%2Fqueens~I104d6af48ddd916460ee454e17a50a2475de6bff,openstack/kayobe,stable/queens,story/2004805-stable/queens,I104d6af48ddd916460ee454e17a50a2475de6bff,Ignore --limit for localhost plays,MERGED,2019-08-04 14:06:22.000000000,2019-08-08 18:16:07.000000000,2019-08-08 18:16:07.000000000,117,56,0,674493,2b5078b656859f906183cb295f274d78e3700e95,19,3,3,4,15197,Pierre Riteau,priteau,"Ignore --limit for localhost plays

If using the kayobe --limit <hosts> argument, only those hosts matching
the limit will have an inventory generated for Kolla Ansible. This can
cause problems for Kolla Ansible, even when using a similar limit via
--kolla-limit <hosts>, since it gathers facts for all hosts, and expects
all host variables to be defined.

This change adds a new 'ignore_limit' argument to the playbook running
methods, which allows us to override and ignore the --limit argument
provided by the user, ensuring that we always run these plays.

Conflicts:
	kayobe/cli/commands.py
	kayobe/tests/unit/cli/test_commands.py

Change-Id: I104d6af48ddd916460ee454e17a50a2475de6bff
Story: 2004805
Task: 28960
(cherry picked from commit 0b4b6cb79deb96f5cd4ada4212037032e0f79e00)
"
openstack%2Foslo.messaging~master~I8fd1624834510f8dee81ab9342c708d726b8f827,openstack/oslo.messaging,master,rabbitmq_driver_doc,I8fd1624834510f8dee81ab9342c708d726b8f827,Introduce RabbitMQ driver documentation,MERGED,2019-06-21 15:11:51.000000000,2019-08-08 18:13:19.000000000,2019-08-08 18:13:18.000000000,268,0,44,666863,b56380654a4b695a8a27827621b185ee3991ce92,48,6,14,2,28522,Hervé Beraud,hberaud,"Introduce RabbitMQ driver documentation

Introduce a RabbitMQ driver documentation for admin.

Describing:
- some RabbitMQ and AMQP specifications (exchanges, queues, routing-key)
- the heartbeat specification and the type of used threads
- the driver options

Change-Id: I8fd1624834510f8dee81ab9342c708d726b8f827
"
openstack%2Fopenstack-ansible~master~Id6112e130f3fb5994f046e60c8520adc787685a5,openstack/openstack-ansible,master,,Id6112e130f3fb5994f046e60c8520adc787685a5,Set default for nova_cinder_rbd_inuse,ABANDONED,2019-08-07 10:08:36.000000000,2019-08-08 18:05:40.000000000,,1,1,0,675077,824ccec117c4491b58fe998aed935dfbb3169b33,14,3,7,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Set default for nova_cinder_rbd_inuse

During lxc builds nova-api is deployed first, so nova_cinder_rbd_inuse
fact is not gathered, which makes role to fail.

Change-Id: Id6112e130f3fb5994f046e60c8520adc787685a5
"
openstack%2Fpython-manilaclient~master~Id65bac35f99483ca8fd55c645d47f4e882f6e191,openstack/python-manilaclient,master,bug/1832023,Id65bac35f99483ca8fd55c645d47f4e882f6e191,"Add ""functional tests"" documentation",MERGED,2019-06-10 19:34:47.000000000,2019-08-08 18:00:29.000000000,2019-08-08 18:00:29.000000000,195,25,2,664427,6ed5fa8056caa44c3c9b22608312419019ee2b2a,15,5,3,2,6413,Victoria Martinez de la Cruz,vkmc,"Add ""functional tests"" documentation

Add a base set of instructions with examples
on how contributors can run the functional tests

Change-Id: Id65bac35f99483ca8fd55c645d47f4e882f6e191
Closes-Bug: #1832023
"
openstack%2Fpuppet-tripleo~master~I6eb75c88e06281c61e4317fe8722e4bdfa572fe4,openstack/puppet-tripleo,master,haproxy_rules/empty-set,I6eb75c88e06281c61e4317fe8722e4bdfa572fe4,Ensure we set $haproxy_firewall_rules variable,MERGED,2019-08-08 08:05:07.000000000,2019-08-08 17:57:54.000000000,2019-08-08 17:18:12.000000000,2,0,0,675266,34bf20d668d228f8c3ee09e0d3354b22dc4fd6b6,10,9,1,1,28223,Cedric Jeanneret,cjeanner,"Ensure we set $haproxy_firewall_rules variable

If we do not set a default value for that one, we might hit the
following puppet warning:

Warning: Unknown variable: 'haproxy_firewall_rules'. (file:
/etc/puppet/modules/tripleo/manifests/haproxy/endpoint.pp, line: 303,
column: 54)

Change-Id: I6eb75c88e06281c61e4317fe8722e4bdfa572fe4
"
openstack%2Fhorizon~master~I8acea40851c7e9dc248751be967859b2b9430af7,openstack/horizon,master,bug/1836580,I8acea40851c7e9dc248751be967859b2b9430af7,Use the python real executable,MERGED,2019-07-15 13:51:36.000000000,2019-08-08 17:47:37.000000000,2019-08-08 17:47:37.000000000,30,7,8,670840,66144165ff39b8b7b5257e141c51a081d498963f,20,9,2,4,8674,Yves-Gwenael Bourhis,yves,"Use the python real executable

Use the real python executable as shebang
Use exec instead of execfile if using python 3

Change-Id: I8acea40851c7e9dc248751be967859b2b9430af7
Closes-Bug: #1836580
"
openstack%2Ftripleo-repos~master~Ie4963b8cb269171eb73dfd3fc82643bd0f284122,openstack/tripleo-repos,master,add-rhel8-support,Ie4963b8cb269171eb73dfd3fc82643bd0f284122,add support for RHEL8,ABANDONED,2019-06-27 18:29:23.000000000,2019-08-08 17:22:09.000000000,,24,7,1,668015,324e037bc5b47bdcc83f0ff93f43bff6032e2e8f,13,4,5,1,9592,wes hayutin,weshayutin,"add support for RHEL8

Add support for running on RHEL8 / CentOS8
There are some additional defaults that need 
to be added to support the tripleo-repos workflow
when running on ubuntu / debian.

Change-Id: Ie4963b8cb269171eb73dfd3fc82643bd0f284122
"
openstack%2Fdevstack-plugin-ceph~master~I7a709d49ec4c93b2a06e961ca8ca1414cf4c1918,openstack/devstack-plugin-ceph,master,bug/1838790,I7a709d49ec4c93b2a06e961ca8ca1414cf4c1918,Update syntax for cephfs snapshot enablement,MERGED,2019-08-02 16:31:51.000000000,2019-08-08 17:18:14.000000000,2019-08-08 17:18:13.000000000,1,1,0,674348,ae9d524b79d97cb6a7992f36eb51bca2d667d67e,6,2,1,1,6413,Victoria Martinez de la Cruz,vkmc,"Update syntax for cephfs snapshot enablement

We should be using ""ceph fs set <fs_name> allow_new_snaps true""
instead of using the mds call

Change-Id: I7a709d49ec4c93b2a06e961ca8ca1414cf4c1918
Closes-Bug: #1838790
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I1681a5e5ac7842500fc5e9dd0900ee6121773537,openstack/tripleo-heat-templates,stable/stein,bug/1832588,I1681a5e5ac7842500fc5e9dd0900ee6121773537,Handle edge cases in staged upgrade hiera data,MERGED,2019-07-31 12:12:30.000000000,2019-08-08 17:18:10.000000000,2019-08-08 17:18:10.000000000,28,14,0,673799,945a22166c48079d903d88287870e0391b772f45,28,6,1,7,8042,Jiří Stránský,jistr,"Handle edge cases in staged upgrade hiera data

We make sure the hiera is set in an either-or branches so that we
prevent from executing both at the same time or none at all.

Edge case 1 which is not that much of an edge case --
single-controller environment with Pacemaker. Previously we ran both
branches resulting in duplicate entries.

Edge case 2 -- having the service in roles data but having no node
assigned to that role. In that case previously we wouldn't set the
variables and the upgrade would fail.

Change-Id: I1681a5e5ac7842500fc5e9dd0900ee6121773537
Partial-Bug: #1831690
(cherry picked from commit 2b427970a36a63cc2b9afbd61f10fe033287aca5)
"
openstack%2Fdevstack-plugin-ceph~master~Ie1a41f67bbf1c7a58e89168b0c8ad63f101648b4,openstack/devstack-plugin-ceph,master,bug/1838453,Ie1a41f67bbf1c7a58e89168b0c8ad63f101648b4,Update call for keys creation,MERGED,2019-07-30 18:07:21.000000000,2019-08-08 17:15:55.000000000,2019-08-08 17:15:55.000000000,24,26,9,673608,cbdcb8c10adce03d32c8eb92b31ea5ffb6ab235c,36,8,9,1,6413,Victoria Martinez de la Cruz,vkmc,"Update call for keys creation

ceph-create-keys was being used to create keys.
This command has been deprecated and it does nothing.
For this reason, keys were not available when starting
daemons and this made the deployment to fail.

This change adds the correct key creation using ceph-authtool.

Change-Id: Ie1a41f67bbf1c7a58e89168b0c8ad63f101648b4
Co-Authored-By: Giulio Fidente <gfidente@redhat.com>
"
openstack%2Fdevstack-plugin-ceph~master~I9010f0d6226304537adcbe4e3f97250c754a7de9,openstack/devstack-plugin-ceph,master,,I9010f0d6226304537adcbe4e3f97250c754a7de9,Add stable versions of devstack-plugin-ceph-tempest-py3,MERGED,2019-06-28 18:06:57.000000000,2019-08-08 17:15:54.000000000,2019-08-08 17:15:54.000000000,26,1,0,668223,0a8488b07139a9347dcb7fa314bce3b9ba1be5a1,22,3,4,1,8556,Ghanshyam,ghanshyam,"Add stable versions of devstack-plugin-ceph-tempest-py3

devstack-plugin-ceph is branchless and its jobs run on
stable branches. To tests the devstack-plugin-ceph changes
for stable branches, let' add the stable version of
devstack-plugin-ceph-tempest-py3 job in experimental pipeline.

Adding in experimental pipeline as we do not really have to run
those all the time on check gate but can be run on demand.

Change-Id: I9010f0d6226304537adcbe4e3f97250c754a7de9
"
openstack%2Fnova~master~I107d842520c088b4859a3b36621ce6bd8e970475,openstack/nova,master,bug/1836369,I107d842520c088b4859a3b36621ce6bd8e970475,Add functional test for resize crash compute restart revert,MERGED,2019-07-11 21:18:26.000000000,2019-08-08 17:11:19.000000000,2019-08-06 20:10:44.000000000,120,0,11,670393,8db712fe040b15f2b8bc5538338658d3aac246e3,53,12,5,1,6873,Matt Riedemann,mriedem,"Add functional test for resize crash compute restart revert

During review of change I51673e58fc8d5f051df911630f6d7a928d123a5b
there was discussion about the RESIZE_MIGRATING crashed resize
cleanup on restart of the compute service and how it may or may
not work but is likely missing some things to cleanup like fields
set on the instance during prep_resize and resource allocations
in placement.

This adds a functional test to hit that code and make assertions
about what it does and does not cleanup after the crashed resize.

Related-Bug: #1836369

Change-Id: I107d842520c088b4859a3b36621ce6bd8e970475
"
openstack%2Frally-openstack~master~I6a12bdce95aef34a85cfae306c475905c6b19e7c,openstack/rally-openstack,master,barbican,I6a12bdce95aef34a85cfae306c475905c6b19e7c,Add barbican scenarios for orders,MERGED,2019-01-15 18:11:48.000000000,2019-08-08 17:09:30.000000000,2019-08-08 17:09:30.000000000,480,0,0,631042,ae2e04d82d0183ba3b51eaf4ad5eb0fac4056e29,42,4,10,14,24,Chuck Short,zulcss,"Add barbican scenarios for orders

Added the following scenarios:

- BarbicanOrders.list
- BarbicanOrders.create_key_and_delete
- BarbicanOrders.create_certificate_and_delete
- BarbicanOrders.create_asymmetric_and_delete

Change-Id: I6a12bdce95aef34a85cfae306c475905c6b19e7c
Signed-off-by: Charles Short <chucks@redhat.com>
"
openstack%2Fhorizon~master~Ic65d84d00a9113b7ee71f06b9c41cd09dcaa1325,openstack/horizon,master,bp/multi-attach-volume,Ic65d84d00a9113b7ee71f06b9c41cd09dcaa1325,Allow to select multiattach volume that has been attached,MERGED,2019-05-27 03:56:59.000000000,2019-08-08 17:08:10.000000000,2019-08-08 07:52:15.000000000,75,4,59,661526,86e1960f99d3163eaead4968cf67fdbf43d8ba76,73,11,12,3,27738,mashuting,mashuting,"Allow to select multiattach volume that has been attached

When one multiattach enable volume is attached to one instance,
it can be only attached to another instance by cli. This patch
allows users to do so from horizon

Part of blueprint multi-attach-volume

Change-Id: Ic65d84d00a9113b7ee71f06b9c41cd09dcaa1325
Co-Authored-By: Vishal Manchanda <manchandavishal143@gmail.com>
"
openstack%2Fnova~stable%2Frocky~I1c62a0a5be6c44176b5714af00cc181eb5437585,openstack/nova,stable/rocky,bug/1764556,I1c62a0a5be6c44176b5714af00cc181eb5437585,Add functional regression test for bug 1778305,MERGED,2019-07-31 13:52:03.000000000,2019-08-08 17:02:34.000000000,2019-08-08 17:02:34.000000000,67,0,0,673818,36246000949f29036ed5b9eed563975d063b29c9,8,5,1,1,6873,Matt Riedemann,mriedem,"Add functional regression test for bug 1778305

This tests the scenario where an operator has upgraded from Ocata =>
Pike but has old, deleted services that share the same hostname with
currently existing, running services. The current behavior is that
ServiceTooOld is raised when we try to generate a UUID for the old,
deleted service while querying for a list of instances. After the bug
is fixed, we should be able to successfully query for a list of
instances.

Related-Bug: #1778305

Change-Id: I1c62a0a5be6c44176b5714af00cc181eb5437585
(cherry picked from commit 1d9aaef3d1c880b02d6b7c186e8de79cbaac9ae0)
(cherry picked from commit 06ae1ff21495a51d24376c457f51162e17ae3235)
"
openstack%2Fnova~stable%2Frocky~I4d60da26fcf0a77628d1fdf4e818884614fa4f02,openstack/nova,stable/rocky,bug/1764556,I4d60da26fcf0a77628d1fdf4e818884614fa4f02,Add functional recreate test for bug 1764556,MERGED,2019-07-31 13:48:42.000000000,2019-08-08 17:02:26.000000000,2019-08-08 17:02:25.000000000,163,2,2,673816,eadd78efe39e1958d14319cfcdbda15862485845,11,7,1,2,6873,Matt Riedemann,mriedem,"Add functional recreate test for bug 1764556

This attempts to recreate the following scenario:

1) boot instance on ocata host where the compute service
   does not have a uuid
2) migrate instance
3) delete the ocata service (thus deleting the compute node)
4) start compute service with the same name
5) migrate instance to newly-created compute node
6) upgrade to pike where services.uuid data migration happens
7) list instances as admin to join on the services table

The failure occurs when listing instances because the deleted
service with the same name as the compute host that the instance
is running on gets pulled from the DB and the Service object
attempts to set a uuid on it, which fails since it's not using
a read_deleted=""yes"" context.

While working on this, the service_get_all_by_binary DB API
method had to be fixed to not hard-code read_deleted=""no"" since
the test needs to be able to read deleted services, which it can
control via its own context object (note that
RequestContext.read_deleted already defaults to ""no"" so the
hard-coding in the DB API is unnecessarily restrictive).

NOTE(mriedem): This backport needed to account for not having
change Idaed39629095f86d24a54334c699a26c218c6593 in Rocky so
the PlacementFixture comes from the same module as the other
nova fixtures.

Change-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02
Related-Bug: #1764556
(cherry picked from commit 81f05f53d357a546c7f9a53cae6ef45b92e28bc1)
(cherry picked from commit 44709cfb5cfa6a8a384eb391ad520de55b2fa247)
"
openstack%2Fnova~stable%2Frocky~I52c8d038118c858004e17e71b2fba9e9e2714815,openstack/nova,stable/rocky,bug/1825537,I52c8d038118c858004e17e71b2fba9e9e2714815,Drop source node allocations if finish_resize fails,MERGED,2019-07-05 16:15:51.000000000,2019-08-08 17:02:18.000000000,2019-08-08 17:02:18.000000000,82,18,3,669393,cbf6a46d8fcd3236bff44439c8d143a77167dfe2,14,8,2,4,6873,Matt Riedemann,mriedem,"Drop source node allocations if finish_resize fails

By the time finish_resize runs on the dest host, the instance
host/node values are already pointing at the dest (they are
set by resize_instance on the source compute before casting to
finish_resize on the dest). If finish_resize fails, the instance
is essentially stuck on the dest host so rather than revert the
allocations (which will drop the new flavor allocations against
the dest host where the instance now lives) we should just drop
the old flavor allocations on the source node resource provider,
which is what this change does.

The functional regression recreate test is updated to show this
working.

Conflicts:
      nova/tests/functional/regressions/test_bug_1825537.py
      nova/tests/functional/test_servers.py

NOTE(mriedem): The functional test conflicts are due to not having
change If6aa37d9b6b48791e070799ab026c816fda4441c in Rocky.
The code fix is also different because we don't have change
I0851e2d54a1fdc82fe3291fb7e286e790f121e92 in Rocky and cannot use
the _delete_allocation_after_move method as documented inline.
This also means we have to deal with migration-based and legacy
tracked allocations (where the source and dest node allocations
are both on the instance consumer). As such, similar logic to
_delete_allocation_after_move is used to try and delete the
migration-based allocations first and failing that, attempt
to cleanup the source node allocations the legacy way by removing
them from the ""doubled up"" allocations created by the scheduler.
Since this is new logic in the backport, a functional test is
added to cover the legacy cleanup flow.

Change-Id: I52c8d038118c858004e17e71b2fba9e9e2714815
Closes-Bug: #1825537
(cherry picked from commit ea297d6ffba81c5dc982afe6519de09ff3744cad)
(cherry picked from commit e6c6178d22db43959103da1400017fa49b18f514)
"
openstack%2Fneutron~master~Ibd3fb9286cbf6906eb4a1bc5a43194fbf36f8a60,openstack/neutron,master,,Ibd3fb9286cbf6906eb4a1bc5a43194fbf36f8a60,remove try_again from _commit_port_binding,MERGED,2019-08-07 06:39:01.000000000,2019-08-08 17:02:12.000000000,2019-08-08 17:02:11.000000000,4,5,4,675034,296f92f5c4158162f9cbf2558b52d2cf7cf3178c,18,8,2,2,30380,ZhouHeng,zhouhenglc,"remove try_again from _commit_port_binding

the parameter try_again is not used in the method.

Change-Id: Ibd3fb9286cbf6906eb4a1bc5a43194fbf36f8a60
"
openstack%2Fnova~stable%2Frocky~I7d761dc269f8c12c4a76ba14201ccdd82a04d01d,openstack/nova,stable/rocky,bug/1195361,I7d761dc269f8c12c4a76ba14201ccdd82a04d01d,"Revert ""[libvirt] Filter hypervisor_type by virt_type""",MERGED,2019-07-25 14:35:08.000000000,2019-08-08 17:02:07.000000000,2019-08-08 17:02:07.000000000,4,26,0,672747,5f0497e5952eab583346c96b56e4110041ab4f27,11,7,1,2,6873,Matt Riedemann,mriedem,"Revert ""[libvirt] Filter hypervisor_type by virt_type""

This reverts commit eaa766ee2093c24fd61c61e52f46bdd9ff9e93d2.

The change regressed the behavior of the ImagePropertiesFilter
because existing images with hypervisor_type=QEMU, which would
match what is reported for hypervisor_type in the API for both
qemu/kvm virt_type nodes, will now get filtered out for hosts
where the configured virt_type is kvm.

Note that both the ImagePropertiesFilter docs [1] and
hypervisor_type image property docs [2] mention that for both
qemu and kvm nodes the value to use is qemu since that is the
actual hypervisor.

Presumably the change was made for a deployment with some
hosts configured with virt_type=qemu and other hosts configured
with virt_type=kvm and there were separate images with
hypervisor_type=qemu and hypervisor_type=kvm to match those hosts
for scheduler filter, but as noted this was a regression in
behavior for something that could have been achieved using
host aggregates and the AggregateImagePropertiesIsolation filter.

We could even use traits and a placement request pre-filter these
days for a more modern approach.

Also, since the API continues to report hypervisor_type=QEMU it's
doubly confusing for operators to have to configure their images
to use hypervisor_type=kvm (despite the docs).

And finally, any existing instances which have hypervisor_type=qemu
embedded in their RequestSpec can no longer be migrated to kvm
hosts without manually fixing the entries in the request_specs
table in the API DB.

Note that this is not a clean revert because of change
I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4 made in Stein.

[1] https://docs.openstack.org/nova/latest/admin/configuration/schedulers.html#imagepropertiesfilter
[2] https://docs.openstack.org/glance/latest/admin/useful-image-properties.html

Change-Id: I7d761dc269f8c12c4a76ba14201ccdd82a04d01d
Closes-Bug: #1837756
(cherry picked from commit 743dc083bb5628554d9abfa82665738233ed47e9)
(cherry picked from commit 45f290e36c797a271a20a3055ee866fa5b7997a8)
"
openstack%2Fnova~master~Id112098ef7603d0e514120ac9b7ed861dfa32bd3,openstack/nova,master,bug/1833581,Id112098ef7603d0e514120ac9b7ed861dfa32bd3,Functional reproduce for bug 1833581,MERGED,2019-06-27 12:21:30.000000000,2019-08-08 16:49:00.000000000,2019-08-06 22:01:25.000000000,73,0,21,667913,d2e0bd81df6a732f9c78df29538db89dda37b246,28,12,2,1,9708,Balazs Gibizer,gibi,"Functional reproduce for bug 1833581

Change-Id: Id112098ef7603d0e514120ac9b7ed861dfa32bd3
Related-Bug: #1833581
"
openstack%2Fdevstack~stable%2Fstein~I92146e04731efc6dcc632ae6c3a7c374e783cdba,openstack/devstack,stable/stein,,I92146e04731efc6dcc632ae6c3a7c374e783cdba,Fix double quoting issue when writing localconf,ABANDONED,2019-07-31 08:31:28.000000000,2019-08-08 16:28:33.000000000,,23,1,0,673754,e5410548190860a25c6fbea03737169f1c36d410,4,3,1,2,10459,Luigi Toscano,ltoscano,"Fix double quoting issue when writing localconf

When [0] introduced quoting all arguments, it broke existing consumers
that already quote their value themselves. Fix this by avoiding to add
additional quotes to the value when it already starts with a double
quote.

[0] https://review.openstack.org/636078

Cherry-pick note: the original commit fixed a regression (1822453)
introduced by [0] by replacing it completely; the original commit
has not thus been backported.

Change-Id: I92146e04731efc6dcc632ae6c3a7c374e783cdba
(cherry picked from commit 7f0b4f3001575d1419c5020e007ce2c841c88f2f)
"
openstack%2Fkuryr-kubernetes~master~Ie1b80082627bc49fc3e396333dedbf79e22e63c4,openstack/kuryr-kubernetes,master,pools-with-tags,Ie1b80082627bc49fc3e396333dedbf79e22e63c4,Ensure leftover ports are deleted upon kuryr-controller restart,MERGED,2019-08-05 12:17:28.000000000,2019-08-08 16:26:40.000000000,2019-08-08 16:26:40.000000000,152,0,3,674585,e727a529998dee495a152dea03746bdb84f68527,33,6,6,2,23567,Luis Tomas Bolivar,ltomasbo,"Ensure leftover ports are deleted upon kuryr-controller restart

This patch ensures that no leftover ports are left behind. It may
happen that the kuryr-controller crashes before either attaching
the subports to the trunk or before tagging them. This patch checks
the existing ports in properly created (and tagged) networks and
deletes the ones that did not complete their creation process, i.e.,
Device Owner set to compute:kuryr and status DOWN with:
- Not properly tagged if tags are used
- No binding information in the non-nested case

Closes-Bug: 1839062
Change-Id: Ie1b80082627bc49fc3e396333dedbf79e22e63c4
"
openstack%2Fnova~stable%2Frocky~I6a2c63a4c33e783100208fd3f45eb52aad49e3d6,openstack/nova,stable/rocky,bug/1837955,I6a2c63a4c33e783100208fd3f45eb52aad49e3d6,Cleanup when hitting MaxRetriesExceeded from no host_available,MERGED,2019-07-30 15:05:21.000000000,2019-08-08 16:22:10.000000000,2019-08-08 16:22:10.000000000,60,43,4,673553,e3b68a1c8bbedd877cfc988898f7e458ab067f28,15,7,3,3,6873,Matt Riedemann,mriedem,"Cleanup when hitting MaxRetriesExceeded from no host_available

Prior to this patch there was a condition when no
host_available was true and an exception would get
raised without first cleaning up the instance.
This causes instances to get indefinitely stuck in
a scheduling state.

This patch fixes this by calling the clean up function
and then exits build_instances using a return statement.

The related functional regression recreate test is updated
to show this fixes the bug.

NOTE(mriedem): There are three changes in this backport. First,
since bug 1819460 and change I78fc2312274471a7bd85a263de12cc5a0b19fd10
do not apply to Rocky, _cleanup_when_reschedule_fails is added here.
Second, the test_bug_1837955 setUp needed to stub notifications
since change I017d1a31139c9300642dd706eadc265f7c954ca8 is not
in Rocky to do that in ProviderUsageBaseTestCase. Third, the unit
test is changed to mock _set_vm_state_and_notify since
change Ibfb0a6db5920d921c4fc7cabf3f4d2838ea7f421 is not in Rocky
for compute utils to call notify_about_compute_task_error.

Change-Id: I6a2c63a4c33e783100208fd3f45eb52aad49e3d6
Closes-bug: #1837955
(cherry picked from commit b98d4ba6d54f5ca2999a8fe6b6d7dfcc134061df)
(cherry picked from commit fcc2b9e33ed2b3d9f469b458e0f46011fe9883ac)
"
openstack%2Fnova~stable%2Frocky~I4ca64dd60d883356880680fb1f04cee4136c2e00,openstack/nova,stable/rocky,bug/1837955,I4ca64dd60d883356880680fb1f04cee4136c2e00,Add functional regression test for bug 1837955,MERGED,2019-07-30 14:25:47.000000000,2019-08-08 16:19:54.000000000,2019-08-08 16:19:54.000000000,115,0,2,673536,f292a92a89b452c66b5799ac309a5f623ee7b16c,8,4,1,1,6873,Matt Riedemann,mriedem,"Add functional regression test for bug 1837955

This adds a functional regression recreate test for
bug 1837955 which was introduced with change
Iae904afb6cb4fcea8bb27741d774ffbe986a5fb4 in the Queens
release.

In this scenario, the primary (and potentially alternate)
hosts for a server build fail and reschedule to conductor.
Eventually all alternate hosts are exhausted and specifically
trying to claim allocations against the alternates fails,
probably because between the time of initial scheduling and
rescheduling something else took up the spare capacity on the
alternate host.

When this happens, MaxRetriesExceeded is raised but the
instance is stuck in BUILD status rather than set to ERROR
status with a fault message.

NOTE(mriedem): In this backport the test is changed slighty
since change Id8b5c48a6e8cf65dc0a7dc13a80a0a72684f70d9 is
not in Rocky so the ProviderUsageBaseTestCase.neutron
attribute does not exist.

Change-Id: I4ca64dd60d883356880680fb1f04cee4136c2e00
Related-Bug: #1837955
(cherry picked from commit 5cc39fc51eee6e39f584394283f009aa6809d17b)
(cherry picked from commit 0d2e27fd018e08617964dc38321ebfa8f1a5a4f9)
"
openstack%2Fnova~stable%2Frocky~Icce1e31fe3ebcbf9e4897bbfa57b7f3d1fba67a3,openstack/nova,stable/rocky,bug/1836212-stable/rocky,Icce1e31fe3ebcbf9e4897bbfa57b7f3d1fba67a3,Avoid logging traceback when detach device not found,MERGED,2019-08-01 15:07:15.000000000,2019-08-08 16:19:47.000000000,2019-08-08 16:19:47.000000000,10,1,0,674068,3a1be7afd0f11a2123c59b0ddea63f08bb4436ce,10,6,1,2,4690,melanie witt,melwitt,"Avoid logging traceback when detach device not found

We use the oslo.utils save_and_reraise_exception context manager in our
detach device code and catch specific exceptions that mean 'not found'
and raise DeviceNotFound instead. When we do that, the
save_and_reraise_exception context manager logs an ERROR traceback of
the original exception, for informational purposes. This is misleading
when trying to debug other issues, as it makes it look like the caught
exception caused a problem.

This passes the reraise=False keyword arg to the context manager and
sets the 'reraise' attribute to True only if we are not going to raise
a different exception.

Related-Bug: #1836212

Change-Id: Icce1e31fe3ebcbf9e4897bbfa57b7f3d1fba67a3
(cherry picked from commit 738774b942dab21d8c03c70b4e74b6a487515ff5)
(cherry picked from commit d83342226470e1957525978d7bec7d98db9bb695)
"
openstack%2Fopenstack-ansible-os_trove~master~If4896f1711ac655c33b6d4132ffd74085cb0f3b1,openstack/openstack-ansible-os_trove,master,osa/service_refactor,If4896f1711ac655c33b6d4132ffd74085cb0f3b1,service_setup: refactor service setup to a single file,MERGED,2019-08-08 11:10:07.000000000,2019-08-08 16:19:42.000000000,2019-08-08 16:19:41.000000000,189,110,0,675293,4e93d821332349aef4cf6f175e0e0baccab5f2d8,7,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: If4896f1711ac655c33b6d4132ffd74085cb0f3b1
"
openstack%2Fopenstack-ansible-os_tacker~master~I4af14b99ec618bb9c26c77a4e43b6e6d3b968d35,openstack/openstack-ansible-os_tacker,master,osa/service_refactor,I4af14b99ec618bb9c26c77a4e43b6e6d3b968d35,service_setup: refactor service setup to a single file,MERGED,2019-08-08 10:40:03.000000000,2019-08-08 16:16:09.000000000,2019-08-08 16:16:09.000000000,185,95,0,675289,2690cb845a2a08aa9ec957099e4415924a8b284b,7,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: I4af14b99ec618bb9c26c77a4e43b6e6d3b968d35
"
openstack%2Fkolla-ansible~master~Iaf80815cff1cac9f0d42466b7cdd8e0d39020ce6,openstack/kolla-ansible,master,bp/support-nova-cells,Iaf80815cff1cac9f0d42466b7cdd8e0d39020ce6,[WIP] Minimal support for deploying multiple instances of HAProxy,NEW,2018-11-23 15:56:47.000000000,2019-08-08 16:08:28.000000000,,200,151,2,619755,c2675e6830bea445af32ee70bdcbc8cd17440f48,10,3,2,56,17669,Doug Szumski,DougSzumski,"[WIP] Minimal support for deploying multiple instances of HAProxy

This change adds minimal support for deploying multiple
instances of HAProxy / Keepalived. It enables the internal VIP
address and the group name to be customised from group_vars. This
could be extended to support the customisation of other variables
such as the external VIP address in the future. Note that variables
which are not defined in group_vars/all.yml, or as extra vars can be
readily overridden and as such do not need to be changed. For
example: 'keepalived_virtual_router_id'.

Partially Implements: blueprint support-nova-cells
Change-Id: Iaf80815cff1cac9f0d42466b7cdd8e0d39020ce6
"
openstack%2Freleases~master~I4019cfff92b0174721177aaa175c3ef4da2dffaa,openstack/releases,master,,I4019cfff92b0174721177aaa175c3ef4da2dffaa,Release designateclient and solumclient be able to uncap jsonschema,MERGED,2019-08-06 17:38:56.000000000,2019-08-08 15:54:47.000000000,2019-08-08 15:54:47.000000000,10,0,2,674887,661f097ec71d05a14b2fb24545b20fc1a8be3aca,20,8,3,2,6593,Dirk Mueller,dmllr,"Release designateclient and solumclient be able to uncap jsonschema

    We have jsonschema capped at a fairly old version. Other than some
    specific releases, it looks like keeping it below 3.0 was added in
    I943fd68b9fab3bce1764305a5058df5339470757 without really any explanation
    why.

    In order to update to a 3.x release we need to:
    1. Remove the cap from global-requirements.txt, leaving
       upper-constraints.txt at a 2.x release
    2. Remove the cap from all consumers
    3. Release a new version of consumers that are published to pypi (this change)
    4. Update upper-constraints.txt with those new releases

This review perfoms step 3.

Change-Id: I4019cfff92b0174721177aaa175c3ef4da2dffaa
"
openstack%2Foslo.messaging~master~If8846599efc48fe18ecfb99c04e2c38f9a45b9ed,openstack/oslo.messaging,master,bug/1826281,If8846599efc48fe18ecfb99c04e2c38f9a45b9ed,Allow users run the rabbitmq heartbeat inside a standard pthread.,MERGED,2019-06-04 15:54:44.000000000,2019-08-08 15:50:07.000000000,2019-08-08 15:50:07.000000000,57,1,19,663074,22f240b82fffbd62be8568a7d0d3369134596ace,73,9,21,2,28522,Hervé Beraud,hberaud,"Allow users run the rabbitmq heartbeat inside a standard pthread.

This is an experimental feature.

The proposed changes will fix related issues when we run
heartbeat under apache/httpd enviornment with the apache MPM `prefork`
[1] engine and mod_wsgi or uwsgi in a monkey patched environment.

Propose changes to allow user to choose to run the rabbitmq health check
heartbeat in a standard python thread.

Issue
=====

We facing an issue with the rabbitmq driver heartbeat
under apache MPM `prefork` module and mod_wsgi when nova_api monkey
patched the stdlib by using eventlet.

nova_api calling eventlet.monkey_patch() [2] when it runs under mod_wsgi.

This impacts the AMQP heartbeat thread,
which is meant to be a native thread. Instead of checking AMQP sockets
every 15s, It is now suspended and resumed by eventlet. However,
resuming greenthreads can take a very long time if mod_wsgi isn't
processing traffic regularly, which can cause rabbitmq to close the AMQP
connection.

Root Cause
==========

The oslo.messaging RabbitMQ driver and especially the heartbeat
suffer to inherit the execution model of the service which consume him.

In this scenario nova_api need green threads to manage cells and edge
features so nova_api monkey patch the stdlib to obtain async features,
and the oslo.messaging rabbitmq driver endure these changes.

I think the main issue here is that nova_api want async and use eventlet green
threads to obtain it.

Solution
========

We want to allow user to isolate the heartbeat execution model
from the parent process inherited execution model by passing the
`heartbeat_in_pthread` option through the driver config.

While we use MPM `prefork` we want to avoid to use libevent and epoll.

If the `heartbeat_in_pthread` option is given we want to force to use the
python stdlib threading module to run the
rabbitmq heartbeat to avoid issue related to a non ""standard""
environment. I mean ""standard"" because async features isn't the default
config in mostly case, starting by apache which define `prefork` is the
default engine.

This is an experimental feature, we can help us to ensure to run heartbeat
through a classical python thread

Specifications
==============

- https://review.opendev.org/661314

[1] https://httpd.apache.org/docs/2.4/fr/mod/prefork.html
[2] https://github.com/openstack/nova/commit/3c5e2b0e9fac985294a949852bb8c83d4ed77e04

Change-Id: If8846599efc48fe18ecfb99c04e2c38f9a45b9ed
"
openstack%2Frpm-packaging-tools~master~I182c3e4c8a0e0d3bad7e9636050a328d6ca72b03,openstack/rpm-packaging-tools,master,improve,I182c3e4c8a0e0d3bad7e9636050a328d6ca72b03,"Move current CLI behaviour to a subcommand called ""status""",MERGED,2019-08-06 12:14:17.000000000,2019-08-08 15:46:21.000000000,2019-08-08 15:46:21.000000000,106,97,0,674795,f4b0814a306ddc898ba0bcb8500a096a625d2042,9,4,2,2,7102,Thomas Bechtold,toabctl,"Move current CLI behaviour to a subcommand called ""status""

Instead of calling

./tools/rpm-packaging-status.py ../releases/ ../rpm-packaging/ \
    ../requirements train

do now

./tools/rpm-packaging-status.py status ../releases/ \
    ../rpm-packaging/ ../requirements train

With that we can introduce other commands in the future.

Change-Id: I182c3e4c8a0e0d3bad7e9636050a328d6ca72b03
"
openstack%2Frpm-packaging-tools~master~Iba609c18e173301ca8c4d4c584431a98f332dad3,openstack/rpm-packaging-tools,master,improve,Iba609c18e173301ca8c4d4c584431a98f332dad3,Use python3 in shebang,MERGED,2019-08-06 12:14:17.000000000,2019-08-08 15:46:20.000000000,2019-08-08 15:46:20.000000000,1,1,0,674794,59c9ae3dc5be1ec410a8cb0ba4063ec9fbcc5628,7,4,1,1,7102,Thomas Bechtold,toabctl,"Use python3 in shebang

Get rid of python2

Change-Id: Iba609c18e173301ca8c4d4c584431a98f332dad3
"
openstack%2Fopenstack-ansible-os_zun~master~I8c9d80b5396ef486f1fd70857b0d8ebbffdf87a6,openstack/openstack-ansible-os_zun,master,osa/service_refactor,I8c9d80b5396ef486f1fd70857b0d8ebbffdf87a6,service_setup: refactor service setup to a single file,MERGED,2019-08-08 11:32:29.000000000,2019-08-08 15:33:49.000000000,2019-08-08 15:33:49.000000000,188,103,0,675300,54c580ced05d2bd65846d0a08877a2de327b17fa,7,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: I8c9d80b5396ef486f1fd70857b0d8ebbffdf87a6
"
openstack%2Fsahara-tests~master~I5683245c0a9373e299a647f7f61d3e6a2de284e6,openstack/sahara-tests,master,ssh-key,I5683245c0a9373e299a647f7f61d3e6a2de284e6,"Force the format of ssh key to PEM, at least for now",MERGED,2019-07-29 08:11:46.000000000,2019-08-08 15:32:56.000000000,2019-08-08 15:32:55.000000000,10,0,0,673229,9f57fcaa9fbd46f2ed4f6f44a13f2b4553f3b7b4,7,3,1,2,10459,Luigi Toscano,ltoscano,"Force the format of ssh key to PEM, at least for now

Unfortunately it is not possible to switch to the new, more secure, native
format of OpenSSH >=6.5, because paramiko does not support it:
https://github.com/paramiko/paramiko/issues/602

A similar change has been applied to sahara some time ago:
https://review.opendev.org/605028

Story: 2003674
Task: 35983
Change-Id: I5683245c0a9373e299a647f7f61d3e6a2de284e6
"
openstack%2Foslo.policy~master~I7c761710e88d144fef4736295e8d9dd85bf72396,openstack/oslo.policy,master,addtest,I7c761710e88d144fef4736295e8d9dd85bf72396,Add unit tests on the sphinxext indent function,MERGED,2019-07-17 10:51:35.000000000,2019-08-08 15:27:26.000000000,2019-08-08 15:27:26.000000000,30,0,2,671241,0d01756c1db9a6c19d263edadeda775adf5291af,24,5,3,1,28522,Hervé Beraud,hberaud,"Add unit tests on the sphinxext indent function

Change-Id: I7c761710e88d144fef4736295e8d9dd85bf72396
"
openstack%2Frally-openstack~master~I21ffc24304596ea53451e603299146644084c5e2,openstack/rally-openstack,master,octaviaDelete,I21ffc24304596ea53451e603299146644084c5e2,Add waiting for delete of octavia load balancer,NEW,2019-08-06 15:53:57.000000000,2019-08-08 15:18:03.000000000,,28,7,0,674855,a93c5a8c030648fa47a1b353df185b412e046862,8,1,4,1,9545,Andrey Kurilin,akurilin,"Add waiting for delete of octavia load balancer

Change-Id: I21ffc24304596ea53451e603299146644084c5e2
"
openstack%2Frpm-packaging~master~Icb00b38b639da7b3f20b472fb39efbc72b44f81c,openstack/rpm-packaging,master,,Icb00b38b639da7b3f20b472fb39efbc72b44f81c,neutron/networking-generic-switch: switch to python3,MERGED,2019-07-11 17:20:18.000000000,2019-08-08 15:04:50.000000000,2019-08-08 15:04:50.000000000,134,133,0,670357,77f2fcb936a7da56239cdbe52e5f1154184f8f48,67,7,8,2,6593,Dirk Mueller,dmllr,"neutron/networking-generic-switch: switch to python3

We need both to merge at the same time as they
depend on each other.

Co-Authored-By: Jaime Caamaño Ruiz <jcaamano@suse.com>

Change-Id: Icb00b38b639da7b3f20b472fb39efbc72b44f81c
"
openstack%2Fopenstacksdk~master~I38fd8c38d6f0ff08effdc39afbdfa90fb87adf83,openstack/openstacksdk,master,,I38fd8c38d6f0ff08effdc39afbdfa90fb87adf83,Fix dns return values,MERGED,2019-08-08 11:25:06.000000000,2019-08-08 15:01:17.000000000,2019-08-08 15:01:16.000000000,10,3,2,675298,1a4b61d51dfcf7666a32d1323c9e70e1706fa98e,11,5,2,2,2,Monty Taylor,mordred,"Fix dns return values

The dns layer started returning False instead of None when things
aren't found. Fix it.

Change-Id: I38fd8c38d6f0ff08effdc39afbdfa90fb87adf83
"
openstack%2Fkolla-ansible~stable%2Frocky~I6946290cd890f74c59ed5394e8382a8b75c0c4cd,openstack/kolla-ansible,stable/rocky,feature/ceph-ci-nfs-stable/stein-stable/rocky,I6946290cd890f74c59ed5394e8382a8b75c0c4cd,Add ceph-mds/rgw/nfs to gate,MERGED,2019-08-04 09:08:46.000000000,2019-08-08 15:00:45.000000000,2019-08-08 15:00:45.000000000,4,0,0,674479,211b0b34737d3478cba6ff425a09c32ae1c984ab,27,4,7,1,30491,Radosław Piliszek,yoctozepto,"Add ceph-mds/rgw/nfs to gate

Change-Id: I6946290cd890f74c59ed5394e8382a8b75c0c4cd
Depends-On: https://review.opendev.org/675040
Depends-On: https://review.opendev.org/675096
Depends-On: https://review.opendev.org/675048
(cherry picked from commit a77b0f624ea3d7a1640cf4aefbee007422806690)
"
openstack%2Fkolla-ansible~stable%2Frocky~I347107bc33733061ad043bffe38ecc1d16770afc,openstack/kolla-ansible,stable/rocky,bug/1811581-stable/rocky,I347107bc33733061ad043bffe38ecc1d16770afc,repair ceph_nfs container start failed,MERGED,2019-08-07 11:29:44.000000000,2019-08-08 15:00:43.000000000,2019-08-08 15:00:43.000000000,27,2,0,675096,07082c508ec498a29c1ebda2b54960a923f37669,8,6,1,4,30491,Radosław Piliszek,yoctozepto,"repair ceph_nfs container start failed

when enable ceph_nfs,it deploy failed, because no ganesha config
file, and the 'ganesha.nfs' command need root privilege to run.
i will modify ceph_nfs dockerfile,please review. thanks

https://review.openstack.org/#/c/630510/

Change-Id: I347107bc33733061ad043bffe38ecc1d16770afc
Closes-Bug: #1811581
(cherry picked from commit d35f9a4b706f10bfc1add7fa36dad2b334348afb)
"
openstack%2Fsphinx-feature-classification~master~I2ab037bbab84fc8873a1f714013a10aa1b254cba,openstack/sphinx-feature-classification,master,python3-train,I2ab037bbab84fc8873a1f714013a10aa1b254cba,Add Python 3 Train unit tests,MERGED,2019-07-05 19:14:58.000000000,2019-08-08 14:58:08.000000000,2019-08-08 14:58:08.000000000,4,4,1,669468,acebe59fe8209576ac653df204beacb8dfc7284f,8,4,1,3,11805,Corey Bryant,coreycb,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I2ab037bbab84fc8873a1f714013a10aa1b254cba
Story: #2005924
Task: #34234
"
openstack%2Ftripleo-heat-templates~master~Ic2fb37d6ff872840ec4fc506c6949327d2d9705c,openstack/tripleo-heat-templates,master,,Ic2fb37d6ff872840ec4fc506c6949327d2d9705c,Ensure libnsl dependency is available,MERGED,2019-07-30 15:00:44.000000000,2019-08-08 14:57:56.000000000,2019-08-05 23:57:05.000000000,3,0,0,673551,af3208c743d2c2940a3a5c5721e1a1e04ef50f6c,16,6,2,1,7973,Douglas Mendizábal,dougmendizabal,"Ensure libnsl dependency is available

libnsl is a dependency of the nfast client software, so it must
also be mounted on the container for the nfast tools to work.

Change-Id: Ic2fb37d6ff872840ec4fc506c6949327d2d9705c
"
openstack%2Fopenstack-ansible-os_aodh~master~I7c0dac84dd127a9c33a8a3eb97d547e3d04497f5,openstack/openstack-ansible-os_aodh,master,osa/service-refactor,I7c0dac84dd127a9c33a8a3eb97d547e3d04497f5,service_setup: refactor service setup to a single file,MERGED,2019-07-30 12:21:08.000000000,2019-08-08 14:54:12.000000000,2019-08-08 14:54:12.000000000,185,94,0,673495,97c03b8decb175176299e6fceb3e275323c0f08a,18,4,4,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Depends-On: https://review.opendev.org/674295/
Change-Id: I7c0dac84dd127a9c33a8a3eb97d547e3d04497f5
"
openstack%2Fopenstack-ansible-os_ironic~master~I5765e4e1e0ca29517a04976111ef14f20f77607c,openstack/openstack-ansible-os_ironic,master,osa/service_refactor,I5765e4e1e0ca29517a04976111ef14f20f77607c,service_setup: refactor service setup to a single file,MERGED,2019-08-07 11:04:33.000000000,2019-08-08 14:47:48.000000000,2019-08-08 14:47:48.000000000,185,93,0,675090,61d96ee0cc5e857dc73eb18d47f6256683827638,10,3,3,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: I5765e4e1e0ca29517a04976111ef14f20f77607c
"
openstack%2Fheat~stable%2Fqueens~Ie2e9251245e7e16309661154e17724e5984c21e6,openstack/heat,stable/queens,stx-enhancements-stable/queens,Ie2e9251245e7e16309661154e17724e5984c21e6,Do not perform the tenant stack limit check for admin user,MERGED,2019-07-26 04:22:53.000000000,2019-08-08 14:46:21.000000000,2019-08-08 14:46:21.000000000,7,5,0,672863,cc01d5da4e8b8afc1fe4ca8b250ab0f1020d88eb,7,4,1,1,8833,Rabi Mishra,rabi,"Do not perform the tenant stack limit check for admin user

Removing stack creation limit for admin since admin can view all stacks,
and stacks created by other tenants would have been counted in the limit
check.

Change-Id: Ie2e9251245e7e16309661154e17724e5984c21e6
Story: 2003487
Task: 24756
(cherry picked from commit 22b14ff975f885c26b861d4d1b22577cca189e04)
"
openstack%2Fheat~stable%2Fqueens~I0f6a30e06bb214bb673930b31a2db946600926b0,openstack/heat,stable/queens,,I0f6a30e06bb214bb673930b31a2db946600926b0,Show an engine as down if service record is not updated twice,MERGED,2019-07-29 04:53:46.000000000,2019-08-08 14:46:16.000000000,2019-08-08 14:46:16.000000000,10,14,0,673207,c5d417927470f12426a0f1b95991a688b7c8dec3,8,3,1,2,8833,Rabi Mishra,rabi,"Show an engine as down if service record is not updated twice

We use the same periodic_interval to update the service record
and compare it with current time when doing 'service list'. So, It's
possible there will be a small window where 'service list' would show
the engine as down. Tools that use service list for monitoring would
wrongly assume the service as down. Let's change service list to
report the service as down if it's not updated in 2*periodic_interval.

Change-Id: I0f6a30e06bb214bb673930b31a2db946600926b0
Task: 35946
(cherry picked from commit fd23308f6ec20e4441d8da486a4f6930a2ba366d)
"
openstack%2Fopenstack-ansible-os_cinder~master~I562fea6d7c58e69d59588ccc411437b110077f4d,openstack/openstack-ansible-os_cinder,master,osa/service-refactor,I562fea6d7c58e69d59588ccc411437b110077f4d,Replace include with import,MERGED,2019-08-07 11:13:19.000000000,2019-08-08 14:44:01.000000000,2019-08-08 14:44:01.000000000,2,2,0,675091,5d27a4d84730684c777fc66956a8f826f7347126,9,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Replace include with import

During previous commit include_task was accidentally copy-pasted.

Change-Id: I562fea6d7c58e69d59588ccc411437b110077f4d
"
openstack%2Fopenstack-ansible-os_panko~master~I2d849e55a1bb300e3f9290ef173b259f71cf3b45,openstack/openstack-ansible-os_panko,master,osa/service_refactor,I2d849e55a1bb300e3f9290ef173b259f71cf3b45,service_setup: refactor service setup to a single file,MERGED,2019-08-07 17:23:31.000000000,2019-08-08 14:43:56.000000000,2019-08-08 14:43:56.000000000,185,93,0,675159,ece27edf705ea85698a44251b21f720437c85349,7,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: I2d849e55a1bb300e3f9290ef173b259f71cf3b45
"
openstack%2Fheat~stable%2Frocky~I2cc2785cb32cf8d788af6262992b1b76107c8292,openstack/heat,stable/rocky,,I2cc2785cb32cf8d788af6262992b1b76107c8292,Fix allowed address pair validation,MERGED,2019-08-05 11:15:22.000000000,2019-08-08 14:41:08.000000000,2019-08-08 14:41:08.000000000,54,21,0,674577,ac3bf784ff9eabf3010ac377e5727893a583c3f9,7,3,1,4,26106,Tom Stappaerts,TomStappaerts,"Fix allowed address pair validation

Neutron requires the allowed address pair ip address to be
either an ip or a cidr.
https://review.opendev.org/#/c/575265/ made heat verify for
cidr only.

Change-Id: I2cc2785cb32cf8d788af6262992b1b76107c8292
Story: 2005674
Task: 30985
(cherry picked from commit 5e93b3e4cf60310d33bf397fd11b4ec50e6067a0)
(cherry picked from commit cec8b079c006522b2b2eaeede49a7a7229f7ae2d)
"
openstack%2Fnova~stable%2Frocky~Ie9e294db7e24d0e3cbe83eee847f0fbfb7478900,openstack/nova,stable/rocky,bug/1825537,Ie9e294db7e24d0e3cbe83eee847f0fbfb7478900,Add functional recreate test for regression bug 1825537,MERGED,2019-07-05 14:23:13.000000000,2019-08-08 14:37:01.000000000,2019-08-01 19:49:01.000000000,90,0,0,669361,9a977cb28c1c4f2e8d950476fa373326f636dfd6,12,6,1,3,6873,Matt Riedemann,mriedem,"Add functional recreate test for regression bug 1825537

Change I2d9ab06b485f76550dbbff46f79f40ff4c97d12f in Rocky
(and backported through to Pike) added error handling to
the resize_instance and finish_resize methods to revert
allocations in placement when a failure occurs.

This is OK for resize_instance, which runs on the source
compute, as long as the instance.host/node values have not
yet been changed to the dest host/node before RPC casting
to the finish_resize method on the dest compute. It's OK
because the instance is still on the source compute and the
DB says so, so any attempt to recover the instance via hard
reboot or rebuild will be on the source host.

This is not OK for finish_resize because if we fail there
and revert the allocations, the instance host/node values
are already pointing at the dest compute and by reverting
the allocations in placement, placement will be incorrectly
tracking the instance usage with the old flavor against the
source node resource provider rather than the new flavor
against the dest node resource provider - where the instance
is actually running and the nova DB says the instance lives.

This change adds a simple functional regression test to
recreate the bug with a multi-host resize. There is already
a same-host resize functional test marked here which will
need to be fixed as well.

Conflicts:
      nova/tests/functional/test_servers.py
      nova/virt/fake.py

NOTE(mriedem): The test_servers conflict is due to not having
change If6aa37d9b6b48791e070799ab026c816fda4441c in Rocky. As
a result, the new regression test also had to be modified for
the call to assertFlavorMatchesAllocation. The fake module
conflict is due to not having change
Iefff121640e04abdbb6a4ae546c447f168dc8af9 in Rocky.

Change-Id: Ie9e294db7e24d0e3cbe83eee847f0fbfb7478900
Related-Bug: #1825537
(cherry picked from commit f4bb67210602914e1b9a678419cf22cfbeaf1431)
(cherry picked from commit eaa1fc6159ca4437a1e0cbaa77a3da779afb8cb2)
"
openstack%2Fopenstack-ansible-os_octavia~master~If0169e5d307f1b75087e2459226102b47c1cdee0,openstack/openstack-ansible-os_octavia,master,osa/service-refactor,If0169e5d307f1b75087e2459226102b47c1cdee0,service_setup: refactor service setup to a single file,MERGED,2019-08-07 16:47:04.000000000,2019-08-08 14:33:30.000000000,2019-08-08 14:33:29.000000000,191,113,0,675153,263266b9595ab54672a6962e18007d2e769175cd,7,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.
We can ignore octavia_v2 condition, since v1 was dropped in train [1]

[1] https://review.opendev.org/#/c/656707/

Change-Id: If0169e5d307f1b75087e2459226102b47c1cdee0
"
openstack%2Fopenstack-ansible-os_octavia~master~I447c0096708c50c2a3b003af84ca7af4dd72c5f5,openstack/openstack-ansible-os_octavia,master,static_imports,I447c0096708c50c2a3b003af84ca7af4dd72c5f5,Convert dynamic includes to static imports,MERGED,2019-08-07 16:27:36.000000000,2019-08-08 14:33:29.000000000,2019-08-08 14:33:29.000000000,23,24,0,675144,56ee4fe9285689e369e7d551bc7f718f0a076e6b,7,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Convert dynamic includes to static imports

When task/role files are included using include_tasks, tags are not
passed to the included tasks. As a result, tags like swift-config
do not have the intended effect. This patch changes include_tasks
to import_tasks for all cases where dynamic vars or loops are not used
so that tags are properly handled.

Reference -
https://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse.html
https://bugs.launchpad.net/openstack-ansible/+bug/1815043

Change-Id: I447c0096708c50c2a3b003af84ca7af4dd72c5f5
"
openstack%2Fopenstack-ansible-os_magnum~master~Iec426e8161da2e92f075d87bae3f4a28a05dd2b1,openstack/openstack-ansible-os_magnum,master,osa/service-refactor,Iec426e8161da2e92f075d87bae3f4a28a05dd2b1,service_setup: refactor service setup to a single file,MERGED,2019-08-07 12:04:37.000000000,2019-08-08 14:33:11.000000000,2019-08-08 14:33:11.000000000,247,134,0,675100,d36311c6e4f8458e8adf9ae58f0c5b2a9c95cb46,9,3,2,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: Iec426e8161da2e92f075d87bae3f4a28a05dd2b1
"
openstack%2Fopenstack-ansible-os_mistral~master~I31cad6851c7508dcad681ca4f97eac4dfce1a7b4,openstack/openstack-ansible-os_mistral,master,osa/service_refactor,I31cad6851c7508dcad681ca4f97eac4dfce1a7b4,service_setup: refactor service setup to a single file,MERGED,2019-08-07 16:20:15.000000000,2019-08-08 14:32:33.000000000,2019-08-08 14:32:33.000000000,185,93,0,675143,296fee49697bd90c94e122e99c5f9f83be421435,7,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: I31cad6851c7508dcad681ca4f97eac4dfce1a7b4
"
openstack%2Fopenstack-ansible-os_designate~master~I230a6b46d91b71881c91b1f4f93d03676a3a0afa,openstack/openstack-ansible-os_designate,master,static_imports,I230a6b46d91b71881c91b1f4f93d03676a3a0afa,Convert dynamic includes to static imports,MERGED,2019-08-07 11:19:34.000000000,2019-08-08 14:30:34.000000000,2019-08-08 14:30:34.000000000,16,16,0,675094,af1cd0ac8f9f8db7cc84e1c23f26c9b1b7e4bda0,9,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Convert dynamic includes to static imports

When task/role files are included using include_tasks, tags are not
passed to the included tasks. As a result, tags like swift-config
do not have the intended effect. This patch changes include_tasks
to import_tasks for all cases where dynamic vars or loops are not used
so that tags are properly handled.

Reference -
https://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse.html
https://bugs.launchpad.net/openstack-ansible/+bug/1815043

Change-Id: I230a6b46d91b71881c91b1f4f93d03676a3a0afa
"
openstack%2Fopenstack-ansible-os_congress~master~I2ac03af80fb57eeaf839ab72c91aaba0e2da3be0,openstack/openstack-ansible-os_congress,master,osa/service-refactor,I2ac03af80fb57eeaf839ab72c91aaba0e2da3be0,Replace include with import,MERGED,2019-08-07 11:20:55.000000000,2019-08-08 14:29:30.000000000,2019-08-08 14:29:30.000000000,1,1,0,675095,9a22bc42e569d2c425bdc8c8dc91ba5245c29318,7,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Replace include with import

During previous commit include_task was accidentally copy-pasted.

Change-Id: I2ac03af80fb57eeaf839ab72c91aaba0e2da3be0
"
openstack%2Fopenstack-ansible-os_masakari~master~Id0d68668cdbf9c9e9c4738c8e1dd053586f6a5c0,openstack/openstack-ansible-os_masakari,master,osa/service_refactor,Id0d68668cdbf9c9e9c4738c8e1dd053586f6a5c0,service_setup: refactor service setup to a single file,MERGED,2019-08-07 16:11:33.000000000,2019-08-08 14:23:21.000000000,2019-08-08 14:23:21.000000000,185,93,0,675141,be0a6d48b9120a3d50f9a75886a1fa594109c49d,7,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: Id0d68668cdbf9c9e9c4738c8e1dd053586f6a5c0
"
openstack%2Fnova~master~Ie6391576b3baed14f761bb64a98835f023e8f49d,openstack/nova,master,fakelibvirt,Ie6391576b3baed14f761bb64a98835f023e8f49d,libvirt: add generater of fake pci devices capabilities,ABANDONED,2018-07-17 13:59:13.000000000,2019-08-08 14:22:29.000000000,,64,0,0,583251,4719137a785e90f440f7d67f295aa5adfc951023,17,8,2,2,7730,Sahid Orentino Ferdjaoui,sahid,"libvirt: add generater of fake pci devices capabilities

This class to generate devices capabilities. That will be used by
functional tests

Change-Id: Ie6391576b3baed14f761bb64a98835f023e8f49d
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>
"
openstack%2Fopenstack-ansible-os_placement~master~I9c222cfc28c6838099bc155bf2d023cfd6112816,openstack/openstack-ansible-os_placement,master,static-imports,I9c222cfc28c6838099bc155bf2d023cfd6112816,Convert dynamic includes to static imports,MERGED,2019-08-07 17:27:39.000000000,2019-08-08 14:22:22.000000000,2019-08-08 14:22:22.000000000,5,5,0,675161,b561dbf67af61ff07543b469000d3692f4f9184d,7,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Convert dynamic includes to static imports

When task/role files are included using include_tasks, tags are not
passed to the included tasks. As a result, tags like swift-config
do not have the intended effect. This patch changes include_tasks
to import_tasks for all cases where dynamic vars or loops are not used
so that tags are properly handled.

Reference -
https://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse.html
https://bugs.launchpad.net/openstack-ansible/+bug/1815043

Change-Id: I9c222cfc28c6838099bc155bf2d023cfd6112816
"
openstack%2Fnova~master~Ic0e97039be07a29fc66478b585effe95c030b38f,openstack/nova,master,fakelibvirt,Ic0e97039be07a29fc66478b585effe95c030b38f,libvirt: add format_dom() method for LibvirtConfigNodeDevice,ABANDONED,2018-07-17 13:59:13.000000000,2019-08-08 14:21:58.000000000,,15,3,0,583250,5eea8a816d8fabcbe75f64e4ce9c8050b4e2a8f0,34,14,2,2,7730,Sahid Orentino Ferdjaoui,sahid,"libvirt: add format_dom() method for LibvirtConfigNodeDevice

This will be necessary for fakelibvirt to generate XML that will be
used by functiona tests

Change-Id: Ic0e97039be07a29fc66478b585effe95c030b38f
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>
"
openstack%2Fnova~master~Ib7d6830d438225784a5d558aa99c3ffea1970e13,openstack/nova,master,fakelibvirt,Ib7d6830d438225784a5d558aa99c3ffea1970e13,libvirt: add format_dom() for config LibvirtConfigNodeDevicePciCap,ABANDONED,2018-07-17 13:59:13.000000000,2019-08-08 14:21:54.000000000,,30,2,2,583249,a2f7123dbfe73e5bce06783ad7029f284d947125,34,16,2,2,7730,Sahid Orentino Ferdjaoui,sahid,"libvirt: add format_dom() for config LibvirtConfigNodeDevicePciCap

This will be necessary for fakelibvirt to generate XML that will be
used by functiona tests

Change-Id: Ib7d6830d438225784a5d558aa99c3ffea1970e13
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>
"
openstack%2Fnova~master~Ibed8309fb7568edf169124f80b3f03b7984a2147,openstack/nova,master,fakelibvirt,Ibed8309fb7568edf169124f80b3f03b7984a2147,libvirt: add missing type for LibvirtConfigNodeDevicePciCap,ABANDONED,2018-07-17 13:59:13.000000000,2019-08-08 14:21:50.000000000,,4,0,2,583248,4efe5b089c1a07e9eabff529da087cce5360fe0a,38,18,2,2,7730,Sahid Orentino Ferdjaoui,sahid,"libvirt: add missing type for LibvirtConfigNodeDevicePciCap

libvirt is reporting capabaility per type. It will be useful to have
the XML well formatted that to help generating accurate data used by
functional tests in future

Change-Id: Ibed8309fb7568edf169124f80b3f03b7984a2147
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>
"
openstack%2Fnova~master~Ib877a78413247bfee9f0e8a40c53649202e8387e,openstack/nova,master,fakelibvirt,Ib877a78413247bfee9f0e8a40c53649202e8387e,libvirt: add format_dom for ConfigNodeDevicePciSubFunctionCap,ABANDONED,2018-07-17 13:59:13.000000000,2019-08-08 14:21:46.000000000,,16,2,3,583247,06bd7b25a52b1460543cdbd16355f1d1b63b844e,42,19,2,2,7730,Sahid Orentino Ferdjaoui,sahid,"libvirt: add format_dom for ConfigNodeDevicePciSubFunctionCap

This will be necessary for fakelibvirt to generate XML that will be
used by functiona tests

Change-Id: Ib877a78413247bfee9f0e8a40c53649202e8387e
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>
"
openstack%2Fopenstack-ansible-os_blazar~master~Id42d77095754fefff640a4d48c6a3f48f2997f25,openstack/openstack-ansible-os_blazar,master,osa/service-refactor,Id42d77095754fefff640a4d48c6a3f48f2997f25,Replace include with import,MERGED,2019-08-07 11:16:22.000000000,2019-08-08 14:20:41.000000000,2019-08-08 14:20:41.000000000,1,1,0,675093,5cecf29e03ec7a74a4e09da5f05fa90af3c0cf1f,7,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Replace include with import

During previous commit include_task was accidentally copy-pasted.

Change-Id: Id42d77095754fefff640a4d48c6a3f48f2997f25
"
openstack%2Fopenstack-ansible-os_sahara~master~I45b018381a9958e3df12d1eccd5fafc0fcc45ad0,openstack/openstack-ansible-os_sahara,master,osa/service-refactor,I45b018381a9958e3df12d1eccd5fafc0fcc45ad0,service_setup: refactor service setup to a single file,MERGED,2019-08-07 17:57:55.000000000,2019-08-08 14:20:12.000000000,2019-08-08 14:20:11.000000000,186,103,0,675167,6d8b558f1783577cc07c225cccdab761e8d1ff46,7,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: I45b018381a9958e3df12d1eccd5fafc0fcc45ad0
"
openstack%2Ftripleo-quickstart-extras~master~I1cd87401058929f578e6b12b5501eba480562343,openstack/tripleo-quickstart-extras,master,ovb8,I1cd87401058929f578e6b12b5501eba480562343,Add py3 support for ARA install in mistral,MERGED,2019-08-02 17:39:43.000000000,2019-08-08 14:13:20.000000000,2019-08-08 13:37:45.000000000,6,14,4,674366,9dfb4084c207181afaf5e2d85d89ce2cdbf7be45,52,7,13,3,10969,Shnaidman Sagi (Sergey),sergsh,"Add py3 support for ARA install in mistral

In py3 containers there is no easy_install, but there is pip3.
Use pip3 ad failover to install ARA in py3 container.
Change-Id: I1cd87401058929f578e6b12b5501eba480562343
"
openstack%2Fcinderlib~master~Ia4cf0044c23665e715ff45a4fc6d0e6e472b6c4e,openstack/cinderlib,master,,Ia4cf0044c23665e715ff45a4fc6d0e6e472b6c4e,Bump openstackdocstheme to 1.20.0,MERGED,2019-07-16 09:35:20.000000000,2019-08-08 13:58:01.000000000,2019-08-08 13:58:01.000000000,2,4,0,670990,8974ba2529c7d61eed29f4252f99750c11ef9527,7,3,1,3,30092,Xuan Yandong,xuanyandong,"Bump openstackdocstheme to 1.20.0

Change-Id: Ia4cf0044c23665e715ff45a4fc6d0e6e472b6c4e
"
openstack%2Fcinder~stable%2Fstein~Iac785eef9be4b9cdb5c739ee0a87949805282867,openstack/cinder,stable/stein,bug/1834845,Iac785eef9be4b9cdb5c739ee0a87949805282867,Fix DetachedInstanceError for VolumeAttachment,MERGED,2019-08-07 10:25:49.000000000,2019-08-08 13:58:00.000000000,2019-08-08 13:58:00.000000000,34,9,0,675081,44a15be6a71ebdaf0e5d1663fc31011ff43ef37b,19,14,1,4,935,James Page,james-page,"Fix DetachedInstanceError for VolumeAttachment

Patch I253123d5451b32f0e3143916e41aaa1af75561c2 fixed the
DetachedInstanceError for VolumeAttachment OVOs but only partially, as
apparently it was dependent on the SQLAlchemy version due to the use os
""hasattr"".

This patch replaces ""hasattr"" with a check on the object's dictionary,
which will never trigger a Lazy Load.

Closes-Bug: #1834845
Change-Id: Iac785eef9be4b9cdb5c739ee0a87949805282867
(cherry picked from commit 2e73bede80cc2acdb3527f06bc5c5f9c1a8463a7)
"
openstack%2Fnova~stable%2Frocky~I3e53c76812ac6614d10a7fdbbc0584c81a4b60b2,openstack/nova,stable/rocky,bug/1832028,I3e53c76812ac6614d10a7fdbbc0584c81a4b60b2,[DNM] testing bug/1813789 revert resize events,ABANDONED,2019-07-17 14:09:35.000000000,2019-08-08 13:56:33.000000000,,131,119,0,671303,b65bee242a7240a570c07d288dd645caf40c9ea6,13,6,2,5,8864,Artom Lifshitz,artom,"[DNM] testing bug/1813789 revert resize events

This is a combination of 3 commits.
which have been modifed to test revert resize on
stable branches.

This is the 1st commit message:

  Run revert resize tests in nova-live-migration

  In order to test multinode resize revert (which is currently only
  tested in the single node tempest-full-py3 job), this patch renames
  the nova-live-migration job to nova-multinode and makes it run revert
  resize test via a Tempest RC file. The existing live migration and
  evacuate tests are left as post-test hook scripts because they do
  things like change Tempest settings, start Glance, and force down
  compute nodes.

  Change-Id: I980177410c16ecbd809856440ac633453fa20ea8

This is the commit message #2:

  [DNM] use iptables in nova-multinode

  This patch is jsut for testing to see if we can repoduce the
  issue we are seeing downstrem upstream.

  my current working theroy is because we are using iptables
  in the downstream ci which enable the hybrid plug workflow it
  change the timeing of when the network events are sent.

  in a non hybrid plug case the network events are sent after the
  vm is resumed and libvirt plugs the interface back into ovs
  in the hybrid plug case as we have not called unplug on the souce
  node the veth pair and intermeidate linux bridge still exist when
  we activate the souce binding so the event woudl be sent imedetly before
  we start waithgin for it. this is what we belive is the souce of the
  bug and this shoudl hopefully repoduce it.

  Change-Id: Idf0ed84bae0bedbb70b5a65ee804ec1f2f4a27ee

This is the commit message #3:

  Add neutron-tempest-iptables_hybrid job to experimental queue

  Due to regression bug 1833902 we should have the option to
  run the neutron job that tests the OVS hybrid plug configuration
  on specific patches.

  We could eventually consider running this in the check queue
  like neutron-tempest-linuxbridge with a strict set of irrelevant
  files but that would require some thought, i.e. we'd want to run
  the job on changes to nova/compute/manager.py since the network
  vif model bind events code is used in the ComputeManager and is
  specific to OVS hybrid plug ports. Rather than get bogged down in
  thinking up what that set is, this change takes the easy path and
  just throws the job into the on-demand experimental queue.

  Change-Id: Id5172d97b349abe59b47d1284e97943091652419
  Related-Bug: #1833902

this modifed versions of those commits will run
3 jobs in the check queue
  - nova-live-migration
  - nova-live-migration-iptables
  - neutron-tempest-iptables_hybrid

nova-live-migartion and the iptables variant
will test teh multi node case
and the neutron-tempest-iptables_hybrid will test
same host resize.

Change-Id: I3e53c76812ac6614d10a7fdbbc0584c81a4b60b2
"
openstack%2Ftripleo-ansible~master~If6a32a38fdfd6096028d01f2c1a287e68f7b91c3,openstack/tripleo-ansible,master,bp/reduce-deployment-resources,If6a32a38fdfd6096028d01f2c1a287e68f7b91c3,Add extraconfig/role_extraconfig template to hieradata,ABANDONED,2019-08-05 16:11:57.000000000,2019-08-08 13:48:39.000000000,,10,9,0,674646,7e35be199fbf79a8c75e404ec9c7a072362baed9,16,5,3,7,7353,Kevin Carter,cloudnull,"Add extraconfig/role_extraconfig template to hieradata

Change-Id: If6a32a38fdfd6096028d01f2c1a287e68f7b91c3
Related-Change: I8f173d125e7407a80c9ddb89e5272fe2a829b1cb
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-ansible~master~Iefd11a58f6b9c212eee13474ce019f0d99eecb24,openstack/tripleo-ansible,master,bp/reduce-deployment-resources,Iefd11a58f6b9c212eee13474ce019f0d99eecb24,Add service_configs template to tripleo-hieradata,ABANDONED,2019-08-05 15:48:11.000000000,2019-08-08 13:48:35.000000000,,4,0,0,674637,9c7cf599d41b2dcbde807510e87d4d1287f14e0c,14,4,4,3,7353,Kevin Carter,cloudnull,"Add service_configs template to tripleo-hieradata

Molecule tests have been extended to exercise this new template.

Change-Id: Iefd11a58f6b9c212eee13474ce019f0d99eecb24
Related-Change: Icbc66dc91b03adf329ad0c3680a343e64373eaf2
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fpython-cinderclient~master~I1d923d9922bdaaca381611cba299522c21546736,openstack/python-cinderclient,master,sphinx,I1d923d9922bdaaca381611cba299522c21546736,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-19 07:29:31.000000000,2019-08-08 13:43:10.000000000,2019-08-08 13:43:10.000000000,1,1,1,671666,2134e92b668607d71654fa281920ce62a8223284,10,4,2,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I1d923d9922bdaaca381611cba299522c21546736
"
openstack%2Fpython-cinderclient~master~I9488156cbf606731d8ce3f16857da7aeca2e85e6,openstack/python-cinderclient,master,doc-warnings,I9488156cbf606731d8ce3f16857da7aeca2e85e6,Enable warnings-as-error for doc builds,MERGED,2019-04-17 15:44:24.000000000,2019-08-08 13:43:09.000000000,2019-08-08 13:43:09.000000000,1,1,0,653477,34ff180981352dc192255f84c0377a419bffe99c,14,4,1,1,11904,Sean McGinnis,SeanM,"Enable warnings-as-error for doc builds

Change-Id: I9488156cbf606731d8ce3f16857da7aeca2e85e6
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fopenstack-ansible-os_cloudkitty~master~Ib03d9af5f2492564bdc5c16b139d7ef1bcdfe354,openstack/openstack-ansible-os_cloudkitty,master,osa/service-refactor,Ib03d9af5f2492564bdc5c16b139d7ef1bcdfe354,Replace include with import,MERGED,2019-08-07 11:15:17.000000000,2019-08-08 13:34:33.000000000,2019-08-08 13:34:33.000000000,1,1,0,675092,9832403d003f3a065e4e61bf1c562b4baaeab1f3,7,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Replace include with import

During previous commit include_task was accidentally copy-pasted.

Change-Id: Ib03d9af5f2492564bdc5c16b139d7ef1bcdfe354
"
openstack%2Ftripleo-heat-templates~master~Id4bba3df475582fa3884e38d17ca66913da83657,openstack/tripleo-heat-templates,master,bug/1839305,Id4bba3df475582fa3884e38d17ca66913da83657,Redis HA TLS: do not use the pacemaker image tag for redis_tls_proxy,MERGED,2019-08-07 10:58:04.000000000,2019-08-08 13:32:20.000000000,2019-08-08 13:32:20.000000000,1,1,0,675089,e29fa2361766d13c3deec7879ed824f8bfd21ea8,15,7,1,1,20778,Damien Ciabrini,dciabrin,"Redis HA TLS: do not use the pacemaker image tag for redis_tls_proxy

When running a 3-nodes Redis cluster with TLS, we use an intermediate
container redis_tls_proxy for all the encrypted communication between
the redis nodes.

The intermediate container is managed by paunch, so it shouldn't use
the container image tagged :pcmklatest. This tag is a intermediate
tag only meant to be consumed by pacemaker to implement container
update without service disruption. When used in paunch, it causes
the deployment to fail at step 2.

Configure redis_tls_proxy to use heat parameter ContainerRedisImage
instead. That is the image meant to be consumed by paunch containers.

Closes-Bug: 1839305

Change-Id: Id4bba3df475582fa3884e38d17ca66913da83657
"
openstack%2Ftripleo-common~stable%2Frocky~I242f7bb718b08724da21cafa86d3e8853d0ff453,openstack/tripleo-common,stable/rocky,bug/1835171,I242f7bb718b08724da21cafa86d3e8853d0ff453,Use internal endpoints for configuration in octavia nodes,MERGED,2019-08-06 08:06:28.000000000,2019-08-08 13:29:24.000000000,2019-08-08 13:29:24.000000000,6,2,0,674751,36fad5f7d8749e54168f0e731fd73d5a0b169483,8,3,1,1,29244,Gregory Thiemonge,gthiemonge,"Use internal endpoints for configuration in octavia nodes

When running configuration steps for octavia in octavia nodes, use
internal endpoints since public endpoints may not be available due to
network topology (spine-leaf network + octavia in networkers).

Depends-On: https://review.opendev.org/#/c/674749/

Closes-Bug: #1835171
Change-Id: I242f7bb718b08724da21cafa86d3e8853d0ff453
(cherry picked from tripleo-ansible commit
6deec581ac00b3901570f9f4e4768a266cea37e1)
(cherry picked from commit fd44741029dc65d934d8c32b5d8fa5cbc70eefe4)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I0f38df69777340ebbdc5c419f121524dbc74cad7,openstack/tripleo-heat-templates,stable/stein,stein,I0f38df69777340ebbdc5c419f121524dbc74cad7,Add missing update_serial key to compute roles,MERGED,2019-08-06 15:58:29.000000000,2019-08-08 13:29:23.000000000,2019-08-08 13:29:23.000000000,24,1,0,674857,7b72488d2ef12d99524f6926fca0efe310ff453e,13,7,1,4,23811,Oliver Walsh,owalsh,"Add missing update_serial key to compute roles

I missed this the changes from I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5 when
rebasing I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c.

Add the missing key to the roles and add some validation to catch this.

Change-Id: I0f38df69777340ebbdc5c419f121524dbc74cad7
Related-bug: #1831617
Implements: blueprint nova-backend-per-role
(cherry picked from commit c2977e3c00c08eca8d5f52f7fb9c61abdf0ef28f)
"
openstack%2Fgovernance~master~I27131c648b65365098e3e533c1edfbe1877943ad,openstack/governance,master,formal-vote,I27131c648b65365098e3e533c1edfbe1877943ad,Resolution: Mandatory Repository Retirement,MERGED,2019-07-14 21:51:45.000000000,2019-08-08 13:28:26.000000000,2019-08-08 13:28:26.000000000,90,0,27,670741,57ab6aef3900690e9ac48b974be1065962358097,37,14,3,1,5263,Jeremy Stanley,fungi,"Resolution: Mandatory Repository Retirement

See the transcript of the 2019-07-11 TC meeting for background:

http://eavesdrop.openstack.org/meetings/tc/2019/tc.2019-07-11-14.00.log.html#l-214

Corresponding ML thread:

http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007749.html

Change-Id: I27131c648b65365098e3e533c1edfbe1877943ad
"
openstack%2Fcinder~master~Ifc4f816ae1a5e7d40775c9c8243bce8d43ac9f32,openstack/cinder,master,doc_additions,Ifc4f816ae1a5e7d40775c9c8243bce8d43ac9f32,Fix formatting issues in PowerMax docs,MERGED,2019-05-30 16:39:35.000000000,2019-08-08 13:19:34.000000000,2019-08-08 13:19:33.000000000,56,56,0,662257,1ca347c1159e2f9fd28ea7c91a601de4d07a9c59,48,26,1,1,11904,Sean McGinnis,SeanM,"Fix formatting issues in PowerMax docs

Indentation was causing some sections to be block quoted or included in
previous code blocks.

Change-Id: Ifc4f816ae1a5e7d40775c9c8243bce8d43ac9f32
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fplacement~master~Ic0bf2ab666dab546dd7b03955473c246fd0f380a,openstack/placement,master,story/2005443,Ic0bf2ab666dab546dd7b03955473c246fd0f380a,Add apache benchmark (ab) to end of perfload jobs,MERGED,2019-07-30 14:35:48.000000000,2019-08-08 13:19:32.000000000,2019-08-08 13:19:32.000000000,30,3,1,673540,ed030851874c1b747d7a4e44233fccdb170bb308,25,5,6,4,11564,Chris Dent,chdent,"Add apache benchmark (ab) to end of perfload jobs

Start the process of reporting some concurrency numbers by including
a 500 x 10 'ab' run against the query URL used in each perfload job.

There's duplication removal that could be done here, but we leave
that until we've determined if this is working well.

The PLACEMENT_URL is updated to use 127.0.0.1 instead of localhost;
ab will attempt to use the IPV6 version of localhost if that's the
case, and we've not bound the placement server to that interface.

The timeout on the placement-nested-perfload job has been raised to
1 hour as the default 30 minutes is leading to a timeout. If that's
still not enough we'll explore lowering concurrency.

We will quite likely need to adapt the mysql configuration if we
intend to continue down this road.

Change-Id: Ic0bf2ab666dab546dd7b03955473c246fd0f380a
"
openstack%2Fdevstack~stable%2Frocky~Ia703af54a7131843fc2b0ae34efcfe0f5507acbf,openstack/devstack,stable/rocky,,Ia703af54a7131843fc2b0ae34efcfe0f5507acbf,Fix quoting for devstack_localrc arguments,MERGED,2019-08-05 12:29:41.000000000,2019-08-08 13:19:31.000000000,2019-08-08 13:19:31.000000000,25,3,0,674590,11c5aa83281dffa035b367da637346df3548bcbf,11,4,1,2,10459,Luigi Toscano,ltoscano,"Fix quoting for devstack_localrc arguments

This is a combination of the following commits:
- ""Quote devstack_localrc arguments""
  https://review.opendev.org/636078
  Ia63a53d745dfea7262bcdb5d46425f431c3ccfe5
- ""Fix double quoting issue when writing localconf""
  https://review.opendev.org/648951
  I92146e04731efc6dcc632ae6c3a7c374e783cdba

They have been merged together because the first commit introduces
a bug, and it looks a bit pointless to deliberately introduce
a potentially breaking change on the process of backporting a fix.

Co-Authored-By: Ian Wienand <iwienand@redhat.com>
Co-Authored-By: Jens Harbott <j.harbott@x-ion.de>

Change-Id: Ia703af54a7131843fc2b0ae34efcfe0f5507acbf
(cherry picked from commit 2e1393621a4d4321e5437b63d6ac97011f089c45)
"
openstack%2Fgovernance~master~I1cb1d9b66a8c7278ff481e6c25239ea8fd339eab,openstack/governance,master,project-update,I1cb1d9b66a8c7278ff481e6c25239ea8fd339eab,Add URL to rpm-packaging,MERGED,2019-07-31 14:44:11.000000000,2019-08-08 13:08:22.000000000,2019-08-08 13:08:22.000000000,1,0,0,673837,f2d9e4bd454a77342cf1f91c49a004f254bc68ad,16,9,1,1,17068,Jean-Philippe Evrard,evrardjp,"Add URL to rpm-packaging

Rpm-packaging is the only project to not have a url.

Without this patch, it will be impossible to enforce a schema
validation on the presence of an URL.

This is a problem as I believe that we should validate the
presence of an URL, because a link is one of the best ways to
get started with a problem.

This fixes it by providing the rpm-packaging landing page,
pointing to each of the project's source code and documentation.

Change-Id: I1cb1d9b66a8c7278ff481e6c25239ea8fd339eab
"
openstack%2Ftripleo-quickstart-extras~master~I0417beb7f2adb06545b740a2beb829ba1a2e7c4b,openstack/tripleo-quickstart-extras,master,,I0417beb7f2adb06545b740a2beb829ba1a2e7c4b,Display errors when validations failed,ABANDONED,2018-09-12 11:14:51.000000000,2019-08-08 13:07:49.000000000,,1,1,0,602005,afd6f4357560f0cf15dcb7e19b177b3b0a5ff290,14,5,2,1,11491,Gael Chamoulaud,gchamoul,"Display errors when validations failed

This patch displays stderr instead of stdout when validations failed through
Mistral framework.

Change-Id: I0417beb7f2adb06545b740a2beb829ba1a2e7c4b
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Ftripleo-ci~master~I32f5e8d85b15dec1400b9ca71df2fda6124bdf5e,openstack/tripleo-ci,master,st,I32f5e8d85b15dec1400b9ca71df2fda6124bdf5e,Run upgrades-stein job in CI repos on master,ABANDONED,2019-07-16 14:45:31.000000000,2019-08-08 13:06:29.000000000,,11,4,0,671055,7b937a7dfb2937d52bc7565bc046cbc543f6f55a,12,3,5,2,10969,Shnaidman Sagi (Sergey),sergsh,"Run upgrades-stein job in CI repos on master

upgrade-stein job will run only on rocky/stein branches, but we
need to test it on CI repos that have only master. Define a new
job for such tests, which will run on CI repos only and master.
Change-Id: I32f5e8d85b15dec1400b9ca71df2fda6124bdf5e
"
openstack%2Ftripleo-ci~master~I74ad1acbc2054889c50ea85db2b88711b96a47c8,openstack/tripleo-ci,master,,I74ad1acbc2054889c50ea85db2b88711b96a47c8,Add /var/lib/ironic-inspector to logs collection,ABANDONED,2019-06-06 09:27:14.000000000,2019-08-08 13:06:08.000000000,,1,0,0,663558,9dd21175f0c809aa10a4f05c7bd198f0536a74cc,10,4,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add /var/lib/ironic-inspector to logs collection

Change-Id: I74ad1acbc2054889c50ea85db2b88711b96a47c8
"
openstack%2Ftripleo-common~master~I3814d839739b230b00bcf83efe1aeecad67cc021,openstack/tripleo-common,master,,I3814d839739b230b00bcf83efe1aeecad67cc021,DNM: test tripleo-ansible,ABANDONED,2019-07-11 10:47:57.000000000,2019-08-08 13:05:52.000000000,,1,0,0,670276,6ac07d722a8965b6d4d6b910791b3ce52eab9931,16,3,4,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: test tripleo-ansible

Depends-On: https://review.opendev.org/#/c/670796/
Change-Id: I3814d839739b230b00bcf83efe1aeecad67cc021
"
openstack%2Ftripleo-heat-templates~master~If2ae9f802892ff2bfcd7e200092477a5240d395e,openstack/tripleo-heat-templates,master,670034,If2ae9f802892ff2bfcd7e200092477a5240d395e,DNM: login-defs in 004 standalone,ABANDONED,2019-07-10 11:07:12.000000000,2019-08-08 13:05:44.000000000,,6,5,0,670034,11778c59c7c6c52b179248b2c576d9aebf641b9f,10,2,3,2,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: login-defs in 004 standalone

Change-Id: If2ae9f802892ff2bfcd7e200092477a5240d395e
"
openstack%2Ftripleo-ci~master~I4e9edfe731de36f385d49dc4de340ca07aebaa8f,openstack/tripleo-ci,master,speedlogs,I4e9edfe731de36f385d49dc4de340ca07aebaa8f,DNM: try mitogen for logs,ABANDONED,2019-05-26 15:06:14.000000000,2019-08-08 13:03:22.000000000,,30,1,0,661488,111f2d8ff4e3d752d6ab7dd72c1abdcad10fabf9,11,2,4,2,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: try mitogen for logs

Change-Id: I4e9edfe731de36f385d49dc4de340ca07aebaa8f
"
openstack%2Ftripleo-ci~master~I28efefd1a23b9ffc0001c69ad7de9782bd611af6,openstack/tripleo-ci,master,noverbose,I28efefd1a23b9ffc0001c69ad7de9782bd611af6,DNM: no verbosity in logs,ABANDONED,2019-05-21 13:21:28.000000000,2019-08-08 13:03:19.000000000,,0,1,0,660382,3ef07a107fd9a12b01248456f49d05cb71075db1,4,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: no verbosity in logs

Change-Id: I28efefd1a23b9ffc0001c69ad7de9782bd611af6
"
openstack%2Ftripleo-heat-templates~master~I01ca6fe6c55af8bd00644ca2e468e0f9aef0291c,openstack/tripleo-heat-templates,master,mitogen,I01ca6fe6c55af8bd00644ca2e468e0f9aef0291c,DNM: test oooq mitogen on sa jobs,ABANDONED,2019-05-21 13:07:36.000000000,2019-08-08 13:03:16.000000000,,9,0,0,660380,f9240ca4dfdd3c458a88b7c24b758f7a14fd4e9e,10,3,2,8,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: test oooq mitogen on sa jobs

Change-Id: I01ca6fe6c55af8bd00644ca2e468e0f9aef0291c
Depends-On: https://review.opendev.org/#/c/659906/
Depends-On: https://review.opendev.org/661505/
"
openstack%2Ftripleo-quickstart-extras~master~Id0e836c2e5871e51d45f2b9559fd2cecbf419b22,openstack/tripleo-quickstart-extras,master,testcont,Id0e836c2e5871e51d45f2b9559fd2cecbf419b22,DNM: hack for containers name prefix,ABANDONED,2019-05-20 16:57:59.000000000,2019-08-08 13:02:59.000000000,,5,1,0,660176,4bd04547498ebb4b8fba67e1b3d0fa63929b7ea3,28,3,8,2,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: hack for containers name prefix

Change-Id: Id0e836c2e5871e51d45f2b9559fd2cecbf419b22
"
openstack%2Ftripleo-quickstart-extras~master~I98a900ea10b64999dd52ea161b2815e6c6c70032,openstack/tripleo-quickstart-extras,master,ooomitogen,I98a900ea10b64999dd52ea161b2815e6c6c70032,DNM: run mitogen on undercloud too,ABANDONED,2019-05-18 13:45:45.000000000,2019-08-08 13:02:55.000000000,,46,1,0,659909,796ba34311490c2eb24bb1b83ec624d5db22b27c,22,3,6,2,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: run mitogen on undercloud too

Change-Id: I98a900ea10b64999dd52ea161b2815e6c6c70032
"
openstack%2Ftripleo-quickstart-extras~master~I7fb830ad4723d46c5f36f451ce5f342dbfc320aa,openstack/tripleo-quickstart-extras,master,ooomitogen,I7fb830ad4723d46c5f36f451ce5f342dbfc320aa,DNM: discover mitogen path and try to run it in overcloud,ABANDONED,2019-05-18 13:27:56.000000000,2019-08-08 13:02:52.000000000,,6,1,0,659907,ae2aa5ea3602b49c527e541cc8432ee0c3b60705,23,3,6,2,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: discover mitogen path and try to run it in overcloud

Change-Id: I7fb830ad4723d46c5f36f451ce5f342dbfc320aa
"
openstack%2Ftripleo-quickstart~master~Ieabd2bf4fcc3e5bdebe02e85eca0cb9b92b934e7,openstack/tripleo-quickstart,master,mitogen,Ieabd2bf4fcc3e5bdebe02e85eca0cb9b92b934e7,DNM: try mitogen with quickstart,ABANDONED,2019-05-18 13:16:01.000000000,2019-08-08 13:02:49.000000000,,5,1,0,659906,7129f07b9657699dacd37551d1b60776f32c7afb,37,5,10,2,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: try mitogen with quickstart

Depends-On: https://review.opendev.org/660382
Change-Id: Ieabd2bf4fcc3e5bdebe02e85eca0cb9b92b934e7
"
openstack%2Fplacement~master~Iec2b235187e4c56a25d5a708d7abead68983e62e,openstack/placement,master,cd/de-dict-list-rps,Iec2b235187e4c56a25d5a708d7abead68983e62e,_get_all_by_filters_from_db do not cast to list of dict,MERGED,2019-08-01 10:07:03.000000000,2019-08-08 13:02:39.000000000,2019-08-08 13:02:39.000000000,1,2,1,673991,069c531b1a0a1aa981aa894e603a15b736e75df5,11,5,1,1,11564,Chris Dent,chdent,"_get_all_by_filters_from_db do not cast to list of dict

The RowProxy objects in the `res` list are already dict-like,
so casting them to dict is redundant.

In an environment with 1623 resource providers, the list
comprehension that does the dict-ification contributes 36%
of the time.

Change-Id: Iec2b235187e4c56a25d5a708d7abead68983e62e
"
openstack%2Ftripleo-quickstart-extras~master~I6a3f539853dfbb46fc6d7658f50071f673bd8e3c,openstack/tripleo-quickstart-extras,master,test11,I6a3f539853dfbb46fc6d7658f50071f673bd8e3c,DNM: test sa prefix containers,ABANDONED,2019-04-11 15:44:18.000000000,2019-08-08 13:02:26.000000000,,3,0,0,651817,bc52301ac3964047efa38cb54a52390e6a16c2e5,11,3,4,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: test sa prefix containers

Change-Id: I6a3f539853dfbb46fc6d7658f50071f673bd8e3c
"
openstack%2Ftripleo-ci~master~I56c90f85b66cafd3c886c108ff3f86d42393cad1,openstack/tripleo-ci,master,periodicall,I56c90f85b66cafd3c886c108ff3f86d42393cad1,Add OR condition to periodic job detection,ABANDONED,2019-03-18 09:59:08.000000000,2019-08-08 13:01:55.000000000,,1,1,2,643906,1b1a8c62529b85762651e9268c6fbb2ebd044ecb,12,6,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add OR condition to periodic job detection

When we want to run periodic jobs by demand we should have such
option, so it's enough to have ""periodic"" in the name, not only
periodic pipeline.
Change-Id: I56c90f85b66cafd3c886c108ff3f86d42393cad1
"
openstack%2Fopenstack-virtual-baremetal~master~Ie66080e8cc9f145a6b15e69d05b57e664b557e50,openstack/openstack-virtual-baremetal,master,,Ie66080e8cc9f145a6b15e69d05b57e664b557e50,WIP: use relative import in OVB,ABANDONED,2019-01-29 07:57:36.000000000,2019-08-08 13:00:55.000000000,,4,1,0,633668,70a1934f8a7492e3c1d0a5c411cf6fde6aa09f13,12,2,4,1,10969,Shnaidman Sagi (Sergey),sergsh,"WIP: use relative import in OVB

Change-Id: Ie66080e8cc9f145a6b15e69d05b57e664b557e50
"
openstack%2Ftripleo-quickstart-extras~master~I6e6e4af92aab592a2614da4dded1fefcfee08a61,openstack/tripleo-quickstart-extras,master,,I6e6e4af92aab592a2614da4dded1fefcfee08a61,"WIP: Revert ""Revert ""Don't trigger repo injection if nothing was built""""",ABANDONED,2018-07-15 12:27:40.000000000,2019-08-08 13:00:32.000000000,,50,13,0,582763,1acb89c18638a20a3cafa5f279eba2befae2184f,9,3,2,6,10969,Shnaidman Sagi (Sergey),sergsh,"WIP: Revert ""Revert ""Don't trigger repo injection if nothing was built""""

This reverts commit b4e000cc6d7365e0f1ac844467886852fd7fc296.

Change-Id: I6e6e4af92aab592a2614da4dded1fefcfee08a61
"
openstack%2Ftripleo-quickstart-extras~master~Ic6e82699ff50037e4c38568f3fa399e8f6d5e994,openstack/tripleo-quickstart-extras,master,verb,Ic6e82699ff50037e4c38568f3fa399e8f6d5e994,Make reproducer more verbose,ABANDONED,2018-05-22 14:00:45.000000000,2019-08-08 13:00:18.000000000,,5,5,0,569985,756192b43cf2d2e781c532db3e270e340541f65c,20,7,4,1,10969,Shnaidman Sagi (Sergey),sergsh,"Make reproducer more verbose

Run ansible playbooks in reproducer with more verbosity, it will
help to diagnose failures and will be useful for debugging.

Change-Id: Ic6e82699ff50037e4c38568f3fa399e8f6d5e994
"
openstack%2Ftripleo-quickstart-extras~master~I879d2c0fd0a81ffaa23e84fe4366519175340334,openstack/tripleo-quickstart-extras,master,collectd,I879d2c0fd0a81ffaa23e84fe4366519175340334,Install collectd on undercloud,ABANDONED,2018-04-10 15:18:43.000000000,2019-08-08 12:59:39.000000000,,33,0,0,560048,15e5896b7a5d71d7ae5ec1eb7588b01ab1c2ceaf,20,4,6,3,10969,Shnaidman Sagi (Sergey),sergsh,"Install collectd on undercloud

install collectd on undercloud

Change-Id: I879d2c0fd0a81ffaa23e84fe4366519175340334
Depends-On: I14c45f807f4cfcbcccc54fd8a50ad3f6212b7808
Depends-On: Ideaa8b782bebbb97cbbdb09c7ab8354f3f97f25d
"
openstack%2Ftripleo-ci~master~I3f903d7a6f25bf4ea7a2a1ae9c798d4c23dcc1b0,openstack/tripleo-ci,master,col,I3f903d7a6f25bf4ea7a2a1ae9c798d4c23dcc1b0,DNM: testing build images,ABANDONED,2019-07-24 14:00:20.000000000,2019-08-08 12:59:26.000000000,,31,1,0,672531,d19dbc651914425e42034d8f28b3a2f7456c4d4f,19,2,8,3,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: testing build images

Change-Id: I3f903d7a6f25bf4ea7a2a1ae9c798d4c23dcc1b0
"
openstack%2Ftripleo-quickstart-extras~master~Ia5e5cd8a7b18d8014f7000a3b57829bf0f32c6b3,openstack/tripleo-quickstart-extras,master,,Ia5e5cd8a7b18d8014f7000a3b57829bf0f32c6b3,DNM: don't build image,ABANDONED,2019-07-31 06:56:58.000000000,2019-08-08 12:59:04.000000000,,0,5,0,673743,7fa27a3dc2e1e63c27ede3303a77dda994f768f7,6,4,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: don't build image

Change-Id: Ia5e5cd8a7b18d8014f7000a3b57829bf0f32c6b3
"
openstack%2Ftripleo-ci~master~Ib96bf3162a27711460d6cc1369eaecc0077c6eba,openstack/tripleo-ci,master,,Ib96bf3162a27711460d6cc1369eaecc0077c6eba,DNM: test SA rhel8,ABANDONED,2019-08-06 17:29:08.000000000,2019-08-08 12:58:42.000000000,,1,0,0,674885,c19759b3508d53f21553c1772676b9ef67ce1a6c,7,3,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: test SA rhel8

Depends-On: https://review.opendev.org/674572
Change-Id: Ib96bf3162a27711460d6cc1369eaecc0077c6eba
"
openstack%2Ftripleo-heat-templates~master~I22aa13728aaebf69b9d89ebcd7b3731458fb8fbe,openstack/tripleo-heat-templates,master,build8,I22aa13728aaebf69b9d89ebcd7b3731458fb8fbe,DNM: testing build,ABANDONED,2019-08-06 22:23:30.000000000,2019-08-08 12:58:25.000000000,,2,0,0,674944,11c93e894a9dcdadcd2b46b9ca48f48c7e3d701f,5,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: testing build

Depends-On: https://review.opendev.org/#/c/674943
Change-Id: I22aa13728aaebf69b9d89ebcd7b3731458fb8fbe
"
openstack%2Ftripleo-ci~master~Id89d95608ab867bb9e503b60ddd8ca1d0c33f8c3,openstack/tripleo-ci,master,build8,Id89d95608ab867bb9e503b60ddd8ca1d0c33f8c3,DNM: test build 8,ABANDONED,2019-08-06 22:25:07.000000000,2019-08-08 12:58:15.000000000,,1,0,0,674946,6aed4eb46d9bfe90443b024134fc9f70cec3421f,4,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: test build 8

Depends-On: https://review.opendev.org/674944
Change-Id: Id89d95608ab867bb9e503b60ddd8ca1d0c33f8c3
"
openstack%2Fopenstack-ansible-os_manila~master~I294a9dd1939f7392806ba6e1db2bf3de56cb4dcb,openstack/openstack-ansible-os_manila,master,fix_manila,I294a9dd1939f7392806ba6e1db2bf3de56cb4dcb,Set defaults for project-specific variables,MERGED,2019-07-29 19:01:34.000000000,2019-08-08 12:57:05.000000000,2019-08-08 12:57:04.000000000,8,14,0,673350,7364011f4d14333be6b78711092f06932123fb70,12,4,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Set defaults for project-specific variables

Since neutron, nova and cinder variables are not defined in manila scope,
we need to set defaults for them.
Also some options are not used so there is no reason to carry them.

Change-Id: I294a9dd1939f7392806ba6e1db2bf3de56cb4dcb
"
openstack%2Fopenstack-ansible-os_manila~master~I98fc2e4703cfec45da118958bf79a4bea70b5ff9,openstack/openstack-ansible-os_manila,master,osa/db_refactor,I98fc2e4703cfec45da118958bf79a4bea70b5ff9,Fix db_setup condition,MERGED,2019-07-29 17:14:57.000000000,2019-08-08 12:52:16.000000000,2019-08-08 12:52:16.000000000,2,2,0,673343,924fe699cd51fba1a26b3335afa81788e6b923ce,9,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix db_setup condition

This patch changes condition when db_setup is launched
since it used non-existent key for retrieving host for execution.

Change-Id: I98fc2e4703cfec45da118958bf79a4bea70b5ff9
"
openstack%2Fkolla-cli~master~Icdfc2c8d63d6122a624e13e3d498ef98abbb0636,openstack/kolla-cli,master,,Icdfc2c8d63d6122a624e13e3d498ef98abbb0636,Typo fix: update aciton to action,MERGED,2019-08-08 03:46:52.000000000,2019-08-08 12:51:02.000000000,2019-08-08 12:51:02.000000000,6,6,0,675242,d9d50149a12c8dd2640c25f90ed63ac1bd45619a,8,4,1,1,27781,zhulingjie,zhulingjie,"Typo fix: update aciton to action

Change-Id: Icdfc2c8d63d6122a624e13e3d498ef98abbb0636
"
openstack%2Fpython-tripleoclient~stable%2Fstein~I0668241a1675dd4e344cc24b6ff2cbb8f93b7a45,openstack/python-tripleoclient,stable/stein,bp/validation-framework-stable/stein,I0668241a1675dd4e344cc24b6ff2cbb8f93b7a45,Add gathering_policy parameter to run_ansible_playbook function,MERGED,2019-08-01 09:39:30.000000000,2019-08-08 12:49:08.000000000,2019-08-08 12:49:08.000000000,64,3,0,673985,aec307d1767027f31e4e17db094b08e33f940965,37,9,1,4,11491,Gael Chamoulaud,gchamoul,"Add gathering_policy parameter to run_ansible_playbook function

This patch adds a new parameter called 'gathering_policy' (Defaults to
None) to the 'run_ansible_playbook' function. This parameter will
control the default policy of the Ansible fact gathering. Sets to None
by default, it will use the default policy for Ansible (ie. 'implicit').

Change-Id: I0668241a1675dd4e344cc24b6ff2cbb8f93b7a45
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit d7793ce1a5eef8b076318aecc17ecbe5dcb418d6)
"
openstack%2Ftripleo-common~master~I8f173d125e7407a80c9ddb89e5272fe2a829b1cb,openstack/tripleo-common,master,bp/reduce-deployment-resources,I8f173d125e7407a80c9ddb89e5272fe2a829b1cb,Add extraconfig/role_extraconfig template to hieradata,MERGED,2019-07-31 05:05:48.000000000,2019-08-08 12:18:47.000000000,2019-08-08 12:18:47.000000000,6,2,5,673728,9a25d23d096c85136f109b8bafd6043ae0052350,31,7,2,3,8833,Rabi Mishra,rabi,"Add extraconfig/role_extraconfig template to hieradata

Change-Id: I8f173d125e7407a80c9ddb89e5272fe2a829b1cb
"
openstack%2Ftripleo-ci~master~I9e65aa973ebd5c2f499b25e61cd14f440e9a7878,openstack/tripleo-ci,master,remove-image-ovb-settings,I9e65aa973ebd5c2f499b25e61cd14f440e9a7878,Switch image path definitions based on distro,MERGED,2019-07-31 18:11:07.000000000,2019-08-08 12:18:46.000000000,2019-08-08 12:18:46.000000000,26,9,5,673891,092e342cbfe824611d9889235558b3a0efc3ad77,26,5,6,3,9976,Ronelle Landy,rlandy,"Switch image path definitions based on distro

Use the rcm server path when using RHEL 8 in OVB
settings files.

Change-Id: I9e65aa973ebd5c2f499b25e61cd14f440e9a7878
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I399098bf734aa3b2862e1713d4b1f429d180afbc,openstack/tripleo-heat-templates,stable/stein,pcmkremote_restart2-stable/stein,I399098bf734aa3b2862e1713d4b1f429d180afbc,Fix pcmk remote podman bundle restarts,MERGED,2019-08-07 16:08:59.000000000,2019-08-08 12:18:45.000000000,2019-08-08 12:18:44.000000000,94,26,0,675139,e20d02a8b63e83deca47d3d53128c44b4e5ce629,9,5,1,10,20172,Michele Baldessari,michele,"Fix pcmk remote podman bundle restarts

We blindly bind mount /etc/corosync/corosync.conf from the host to the
container as that is required by pcs when running on pacemaker nodes
when using pcs 0.9/pcmk 1.x.

When running on a pacemaker remote node, this will actually barf on it
because that file does not exist on a remote node:

        ""stderr: error checking path \""/etc/corosync/corosync.conf\"": stat /etc/corosync/corosync.conf: no such file or directory"",

This is not an issue with docker because docker simply creates non
existing host bind mount points.
So we should not bind mount this when we run podman because podman and
HA only works on RHEL/CentOS 8 and it is not required there.

Tested this on an Stein deployment with RHEL8 as OS and I correctly
get a composable HA environment using pacemaker remote:
overcloud-database-0    (ocf::pacemaker:remote):        Started overcloud-controller-0
overcloud-database-1    (ocf::pacemaker:remote):        Started overcloud-controller-1
overcloud-database-2    (ocf::pacemaker:remote):        Started overcloud-controller-2
overcloud-messaging-0   (ocf::pacemaker:remote):        Started overcloud-controller-0
overcloud-messaging-1   (ocf::pacemaker:remote):        Started overcloud-controller-1
overcloud-messaging-2   (ocf::pacemaker:remote):        Started overcloud-controller-2
 podman container set: galera-bundle [192.168.24.1:8787/rhosp15/openstack-mariadb:pcmklatest]
   galera-bundle-0      (ocf::heartbeat:galera):        Master overcloud-database-0
   galera-bundle-1      (ocf::heartbeat:galera):        Master overcloud-database-1
   galera-bundle-2      (ocf::heartbeat:galera):        Master overcloud-database-2
 podman container set: redis-bundle [192.168.24.1:8787/rhosp15/openstack-redis:pcmklatest]
   redis-bundle-0       (ocf::heartbeat:redis): Master overcloud-controller-0
   redis-bundle-1       (ocf::heartbeat:redis): Slave overcloud-controller-1
   redis-bundle-2       (ocf::heartbeat:redis): Slave overcloud-controller-2
 podman container set: rabbitmq-bundle [192.168.24.1:8787/rhosp15/openstack-rabbitmq:pcmklatest]
   rabbitmq-bundle-0    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-messaging-0
   rabbitmq-bundle-1    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-messaging-1
   rabbitmq-bundle-2    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-messaging-2
ip-192.168.24.12        (ocf::heartbeat:IPaddr2):       Started overcloud-controller-0
ip-10.0.0.106   (ocf::heartbeat:IPaddr2):       Started overcloud-controller-1
ip-172.17.1.68  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-2
ip-172.17.1.89  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-0
ip-172.17.3.23  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-1
ip-172.17.4.41  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-2
 podman container set: haproxy-bundle [192.168.24.1:8787/rhosp15/openstack-haproxy:pcmklatest]
   haproxy-bundle-podman-0      (ocf::heartbeat:podman):        Started overcloud-controller-0
   haproxy-bundle-podman-1      (ocf::heartbeat:podman):        Started overcloud-controller-1
   haproxy-bundle-podman-2      (ocf::heartbeat:podman):        Started overcloud-controller-2
 podman container set: ovn-dbs-bundle [192.168.24.1:8787/rhosp15/openstack-ovn-northd:pcmklatest]
   ovn-dbs-bundle-0     (ocf::ovn:ovndb-servers):       Master overcloud-controller-0
   ovn-dbs-bundle-1     (ocf::ovn:ovndb-servers):       Slave overcloud-controller-1
   ovn-dbs-bundle-2     (ocf::ovn:ovndb-servers):       Slave overcloud-controller-2
stonith-fence_ipmilan-5254008aa119      (stonith:fence_ipmilan):        Started overcloud-controller-0
stonith-fence_ipmilan-5254003d74a4      (stonith:fence_ipmilan):        Started overcloud-controller-0
stonith-fence_ipmilan-525400092968      (stonith:fence_ipmilan):        Started overcloud-controller-1
stonith-fence_ipmilan-525400439c7e      (stonith:fence_ipmilan):        Started overcloud-controller-0
stonith-fence_ipmilan-5254002beafa      (stonith:fence_ipmilan):        Started overcloud-controller-2
stonith-fence_ipmilan-525400bbb6cb      (stonith:fence_ipmilan):        Started overcloud-controller-1
stonith-fence_ipmilan-5254001b9a8f      (stonith:fence_ipmilan):        Started overcloud-controller-2
stonith-fence_ipmilan-525400367613      (stonith:fence_ipmilan):        Started overcloud-controller-1
stonith-fence_ipmilan-525400150f28      (stonith:fence_ipmilan):        Started overcloud-controller-2
 podman container: openstack-cinder-volume [192.168.24.1:8787/rhosp15/openstack-cinder-volume:pcmklatest]
   openstack-cinder-volume-podman-0     (ocf::heartbeat:podman):        Started overcloud-controller-0

Closes-Bug: #1838279

Change-Id: I399098bf734aa3b2862e1713d4b1f429d180afbc
(cherry picked from commit bdf742d05f90a57fdd08e73409d417bfcffdb8ab)
"
openstack%2Fkolla-ansible~stable%2Frocky~I6fd092f6599c1f9549108715ca7bf7f836dae146,openstack/kolla-ansible,stable/rocky,rocky-centos-ganesha,I6fd092f6599c1f9549108715ca7bf7f836dae146,Rocky-only: add rpcbind to CentOS as well,MERGED,2019-08-07 07:36:35.000000000,2019-08-08 12:11:08.000000000,2019-08-08 12:11:08.000000000,14,1,0,675048,783ae9336d1ac3181694d40401a75985cff5ebfc,14,4,2,2,30491,Radosław Piliszek,yoctozepto,"Rocky-only: add rpcbind to CentOS as well

Ganesha version in CentOS Rocky requires rpcbind just like Ubuntu.
Moreover, due to RedHat policy of not starting services after
package installation, it has to be started by k-a.

Change-Id: I6fd092f6599c1f9549108715ca7bf7f836dae146
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fneutron~master~I40d388543387ebdd72f26d761339c1829bef9413,openstack/neutron,master,,I40d388543387ebdd72f26d761339c1829bef9413,fix update port bug,MERGED,2019-07-30 12:06:22.000000000,2019-08-08 11:53:37.000000000,2019-08-07 00:32:50.000000000,9,1,9,673486,dd080c70b423a56a69abf7e52d1fee0cb7988c92,107,13,6,2,30380,ZhouHeng,zhouhenglc,"fix update port bug

when update port set body={""port"": {}}, neutron server will return 500.

In function _process_port_binding_attributes(plugins/ml2/plugin.py),
when update port body={""port"": {}}
attrs={}
vnic_type = attrs and attrs.get(portbindings.VNIC_TYPE)
vnic_type = {}
because attrs as False, will not execute attrs.get(portbindings.VNIC_TYPE)
vnic_type will be replicated as attrs.

Change-Id: I40d388543387ebdd72f26d761339c1829bef9413
Partial-bug: #1838396
"
openstack%2Foctavia-tempest-plugin~master~I9fa9d7e16f32f516592bf155045d4f4e6a15ed6c,openstack/octavia-tempest-plugin,master,story/2006280,I9fa9d7e16f32f516592bf155045d4f4e6a15ed6c,Fix VIP IPv6 subnet discovery order,MERGED,2019-07-25 14:00:07.000000000,2019-08-08 11:44:54.000000000,2019-08-08 11:44:54.000000000,4,3,6,672732,84af48c0f095b515a1f7bceb68a2991deff7c85d,17,4,2,1,6469,Carlos Gonçalves,cgoncalves,"Fix VIP IPv6 subnet discovery order

Code was assuming the subnet existed already and only after creating one
if not. On environments where the subnet does not exist, it raises an
IndexError exception as there are no elements in priv_ipv6_subnet. This
patch fixes the order of the code to first create the subnet if ones
does not exist yet.

Story: 2006280
Task: 35982

Change-Id: I9fa9d7e16f32f516592bf155045d4f4e6a15ed6c
"
openstack%2Fkolla-ansible~master~I4f4cbb09df752d00073a606463c62f0a6ca6c067,openstack/kolla-ansible,master,bug/1833835,I4f4cbb09df752d00073a606463c62f0a6ca6c067,Stop using MountFlags=shared in Docker configuration,MERGED,2019-08-05 12:19:54.000000000,2019-08-08 11:27:13.000000000,2019-08-08 10:57:03.000000000,0,17,4,674587,35941738d59002f8bbf55d25b3468619983dcea6,20,5,2,2,24072,Marcin Juszkiewicz,hrw,"Stop using MountFlags=shared in Docker configuration

According to Docker upstream release notes [1] MountFlags should be
empty.

1. https://docs.docker.com/engine/release-notes/#18091

""Important notes about this release

In Docker versions prior to 18.09, containerd was managed by the Docker
engine daemon. In Docker Engine 18.09, containerd is managed by systemd.
Since containerd is managed by systemd, any custom configuration to the
docker.service systemd configuration which changes mount settings (for
example, MountFlags=slave) breaks interactions between the Docker Engine
daemon and containerd, and you will not be able to start containers.

Run the following command to get the current value of the MountFlags
property for the docker.service:

sudo systemctl show --property=MountFlags docker.service
MountFlags=

Update your configuration if this command prints a non-empty value for
MountFlags, and restart the docker service.""

Closes-bug: #1833835

Change-Id: I4f4cbb09df752d00073a606463c62f0a6ca6c067
"
openstack%2Fcinderlib~master~I4be36c173796e85379fac0091dc36ce55832d70a,openstack/cinderlib,master,sphinx,I4be36c173796e85379fac0091dc36ce55832d70a,Sync Sphinx requirement,MERGED,2019-07-31 09:28:07.000000000,2019-08-08 11:01:55.000000000,2019-08-08 11:01:55.000000000,2,1,0,673776,a6c33c2f7fc6c239218612d712bfe35a38db9bab,7,3,1,1,27822,pengyuesheng,pengyuesheng,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I4be36c173796e85379fac0091dc36ce55832d70a
"
openstack%2Fkolla-ansible~master~Iddaece4b8e4972614b77237fb02920dbfd8d96ba,openstack/kolla-ansible,master,manila-event,Iddaece4b8e4972614b77237fb02920dbfd8d96ba,Add event definitions for manila,NEW,2019-08-08 09:29:00.000000000,2019-08-08 10:59:44.000000000,,30,0,0,675280,d7f30cd1094408431d93f3305ce393d0ec2af8e0,2,1,1,1,28367,Zijian Guo,ZijianGuo,"Add event definitions for manila

The event of manila is available, refer to link [1].

[1] https://github.com/openstack/ceilometer/blob/stable/rocky/ceilometer/pipeline/data/event_definitions.yaml#L101

Change-Id: Iddaece4b8e4972614b77237fb02920dbfd8d96ba
Signed-off-by: ZijianGuo <guozijn@gmail.com>
"
openstack%2Ftripleo-common~stable%2Fqueens~I242f7bb718b08724da21cafa86d3e8853d0ff453,openstack/tripleo-common,stable/queens,bug/1835171,I242f7bb718b08724da21cafa86d3e8853d0ff453,Use internal endpoints for configuration in octavia nodes,MERGED,2019-08-06 08:07:00.000000000,2019-08-08 10:53:43.000000000,2019-08-08 10:53:43.000000000,9,2,0,674752,6d75852f822c78766ba53024d09f4fd666399d3c,7,3,1,2,29244,Gregory Thiemonge,gthiemonge,"Use internal endpoints for configuration in octavia nodes

When running configuration steps for octavia in octavia nodes, use
internal endpoints since public endpoints may not be available due to
network topology (spine-leaf network + octavia in networkers).

Specific to stable/queens: updated workbooks/octavia_post.yaml to
export os_int_auth_url variable.

Depends-On: https://review.opendev.org/#/c/674750/

Closes-Bug: #1835171
Change-Id: I242f7bb718b08724da21cafa86d3e8853d0ff453
(cherry picked from tripleo-ansible commit
6deec581ac00b3901570f9f4e4768a266cea37e1)
(cherry picked from commit fd44741029dc65d934d8c32b5d8fa5cbc70eefe4)
(cherry picked from commit 3d537b21ecae9b413514e5d3c7b878ae5bb5dc81)
"
openstack%2Ftripleo-common~stable%2Fstein~I242f7bb718b08724da21cafa86d3e8853d0ff453,openstack/tripleo-common,stable/stein,bug/1835171,I242f7bb718b08724da21cafa86d3e8853d0ff453,Use internal endpoints for configuration in octavia nodes,MERGED,2019-08-06 08:04:33.000000000,2019-08-08 10:53:42.000000000,2019-08-08 10:53:42.000000000,6,2,0,674748,bffd83737a22ff5c40c8dca4830ca4e20615d496,7,3,1,1,29244,Gregory Thiemonge,gthiemonge,"Use internal endpoints for configuration in octavia nodes

When running configuration steps for octavia in octavia nodes, use
internal endpoints since public endpoints may not be available due to
network topology (spine-leaf network + octavia in networkers).

Depends-On: https://review.opendev.org/#/c/674747/

Closes-Bug: #1835171
Change-Id: I242f7bb718b08724da21cafa86d3e8853d0ff453
(cherry picked from tripleo-ansible commit
6deec581ac00b3901570f9f4e4768a266cea37e1)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I6f4abab5ea6963f6f5ac55e6b85bb80e1e68753d,openstack/tripleo-heat-templates,stable/queens,bug/1835171,I6f4abab5ea6963f6f5ac55e6b85bb80e1e68753d,Add internal keystone endpoint in octavia variables,MERGED,2019-08-06 08:06:04.000000000,2019-08-08 10:53:40.000000000,2019-08-08 10:53:39.000000000,1,0,0,674750,937bae534abd059318a31c87dc3bd3dbbfbc42e3,7,3,1,1,29244,Gregory Thiemonge,gthiemonge,"Add internal keystone endpoint in octavia variables

Added a new variable for using internal keystone endpoint in octavia
ansible playbooks when deploying and configuring octavia services.

Closes-Bug: #1835171
Change-Id: I6f4abab5ea6963f6f5ac55e6b85bb80e1e68753d
(cherry picked from commit 92be0c603c90285528a703dc9028204e2b59b09f)
(cherry picked from commit 1a74f7557ec159e9e844c7b5897aaf566a9b3a0c)
(cherry picked from commit de71fbfcaa9f6e0632d1704f4acfae756711906b)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I6f4abab5ea6963f6f5ac55e6b85bb80e1e68753d,openstack/tripleo-heat-templates,stable/rocky,bug/1835171,I6f4abab5ea6963f6f5ac55e6b85bb80e1e68753d,Add internal keystone endpoint in octavia variables,MERGED,2019-08-06 08:05:15.000000000,2019-08-08 10:53:38.000000000,2019-08-08 10:53:38.000000000,1,0,0,674749,de71fbfcaa9f6e0632d1704f4acfae756711906b,7,3,1,1,29244,Gregory Thiemonge,gthiemonge,"Add internal keystone endpoint in octavia variables

Added a new variable for using internal keystone endpoint in octavia
ansible playbooks when deploying and configuring octavia services.

Closes-Bug: #1835171
Change-Id: I6f4abab5ea6963f6f5ac55e6b85bb80e1e68753d
(cherry picked from commit 92be0c603c90285528a703dc9028204e2b59b09f)
(cherry picked from commit 1a74f7557ec159e9e844c7b5897aaf566a9b3a0c)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I6f4abab5ea6963f6f5ac55e6b85bb80e1e68753d,openstack/tripleo-heat-templates,stable/stein,bug/1835171,I6f4abab5ea6963f6f5ac55e6b85bb80e1e68753d,Add internal keystone endpoint in octavia variables,MERGED,2019-08-06 08:04:08.000000000,2019-08-08 10:53:36.000000000,2019-08-08 10:53:36.000000000,1,0,0,674747,1a74f7557ec159e9e844c7b5897aaf566a9b3a0c,7,3,1,1,29244,Gregory Thiemonge,gthiemonge,"Add internal keystone endpoint in octavia variables

Added a new variable for using internal keystone endpoint in octavia
ansible playbooks when deploying and configuring octavia services.

Closes-Bug: #1835171
Change-Id: I6f4abab5ea6963f6f5ac55e6b85bb80e1e68753d
(cherry picked from commit 92be0c603c90285528a703dc9028204e2b59b09f)
"
openstack%2Fpython-tripleoclient~master~Ic3af7eb49ee6db5bc0ab10302c3f2a2c616db7b6,openstack/python-tripleoclient,master,in-flight,Ic3af7eb49ee6db5bc0ab10302c3f2a2c616db7b6,Allows to disable in-flight validations,MERGED,2019-08-06 12:55:33.000000000,2019-08-08 10:53:35.000000000,2019-08-08 10:53:35.000000000,13,2,0,674802,32e53e60596094290298ffd9f9e6be754fd21825,16,8,1,2,28223,Cedric Jeanneret,cjeanner,"Allows to disable in-flight validations

Up to now, the in-flight validations were launched without any way to
deactivate them. This patch intends to change that fact.

Depends-On: https://review.opendev.org/674801
Change-Id: Ic3af7eb49ee6db5bc0ab10302c3f2a2c616db7b6
"
openstack%2Fpython-tripleoclient~stable%2Frocky~I53eab2c41c80f5dafff9824bf3086e1d9a369e22,openstack/python-tripleoclient,stable/rocky,bug/1838828,I53eab2c41c80f5dafff9824bf3086e1d9a369e22,Disable telemetry if it's not enabled,MERGED,2019-08-07 13:22:36.000000000,2019-08-08 10:53:33.000000000,2019-08-08 10:53:33.000000000,25,0,0,675116,2e0b581f728c4d744793e96bf85954fab98f75fa,8,3,1,2,14985,Alex Schultz,mwhahaha,"Disable telemetry if it's not enabled

The disable-telemetry.yaml environment is used to disable all the
telemetry services and to disable the notification drivers. Since we
didn't have this by default, notifications were still being sent to
the undercloud rabbitmq and never consumed.

Conflicts:
	tripleoclient/tests/v1/undercloud/test_undercloud.py

Change-Id: I53eab2c41c80f5dafff9824bf3086e1d9a369e22
Closes-Bug: #1838828
(cherry picked from commit 0faa33a6b07f711054ebd8deeaad34a1704745b6)
"
openstack%2Fkolla-ansible~master~I25e28d150f2a8d4a7f87bb119d9fb1c46cfe926f,openstack/kolla-ansible,master,bug/1826327,I25e28d150f2a8d4a7f87bb119d9fb1c46cfe926f,Add support for sha256 in ceph key distribution,MERGED,2019-04-26 09:18:01.000000000,2019-08-08 10:52:32.000000000,2019-08-08 10:52:32.000000000,35,8,7,655845,ad9e8786a3823895624e892c6a233d16d530d830,22,5,6,2,22629,Michal Nasiadka,mnasiadka,"Add support for sha256 in ceph key distribution

- add support for sha256 in bslurp module
- change sha1 to sha256 in ceph-mon ansible role

Depends-On: https://review.opendev.org/655623
Change-Id: I25e28d150f2a8d4a7f87bb119d9fb1c46cfe926f
Closes-Bug: #1826327
"
openstack%2Fos-vif~master~I95612352de6cdb47de98eb80c208dd1a74499d41,openstack/os-vif,master,bug/1837252,I95612352de6cdb47de98eb80c208dd1a74499d41,only disable mac ageing for ovs hybrid plug,MERGED,2019-07-25 22:22:41.000000000,2019-08-08 10:50:10.000000000,2019-08-08 10:50:10.000000000,64,7,35,672834,655c83d706f5de8a8cf23430782e065219297aef,15,4,3,7,11604,sean mooney,sean-k-mooney,"only disable mac ageing for ovs hybrid plug

The mac ageing configuration on linux bridges is now
conditional and caller controlled. By default mac ageing
is unspecified and will use the kernel's default of 300
seconds. For ovs with hybrid plug we override this to
0 to prevent packet loss issue during some migration
edgecases. This change reverts disabling mac ageing
for the linux bridge plugin which was accidentally
introduced during the brctl removal via inheriting the
ovs plugin's default behavior when the bridge create
code became shared.

Change-Id: I95612352de6cdb47de98eb80c208dd1a74499d41
Closes-bug: #1837252
"
openstack%2Fpython-tripleoclient~stable%2Fstein~I53eab2c41c80f5dafff9824bf3086e1d9a369e22,openstack/python-tripleoclient,stable/stein,bug/1838828,I53eab2c41c80f5dafff9824bf3086e1d9a369e22,Disable telemetry if it's not enabled,MERGED,2019-08-07 13:11:13.000000000,2019-08-08 10:38:28.000000000,2019-08-08 10:38:27.000000000,24,0,0,675114,d5edfc3aeab96958cc7e5bac2184dd24a3aed037,9,4,1,2,14985,Alex Schultz,mwhahaha,"Disable telemetry if it's not enabled

The disable-telemetry.yaml environment is used to disable all the
telemetry services and to disable the notification drivers. Since we
didn't have this by default, notifications were still being sent to
the undercloud rabbitmq and never consumed.

Conflicts:
	tripleoclient/tests/v1/undercloud/test_install_upgrade.py

Change-Id: I53eab2c41c80f5dafff9824bf3086e1d9a369e22
Closes-Bug: #1838828
(cherry picked from commit 0faa33a6b07f711054ebd8deeaad34a1704745b6)
"
openstack%2Fmurano~master~Id21850ce27f596d7bacc54fdccbaca766b40b568,openstack/murano,master,,Id21850ce27f596d7bacc54fdccbaca766b40b568,Fix IPV6 rabbit host,MERGED,2019-07-31 08:02:23.000000000,2019-08-08 10:26:53.000000000,2019-08-08 10:26:53.000000000,5,1,0,673751,9c7fa9048c51c81e7135429bd0f3d49b55b07263,14,2,3,1,14107,zhurong,zhurong,"Fix IPV6 rabbit host

Change-Id: Id21850ce27f596d7bacc54fdccbaca766b40b568
"
openstack%2Fcharm-keystone~master~I67cec15f3590ac6c7efb0686c81b8dcb5f150dbd,openstack/charm-keystone,master,trial_change_branch,I67cec15f3590ac6c7efb0686c81b8dcb5f150dbd,I changed a readme ending.,ABANDONED,2019-08-08 09:16:35.000000000,2019-08-08 10:23:11.000000000,,3,0,1,675277,13f52fc96b13c49672b77ccc716d06735a558720,6,4,1,1,30796,Natalia,natalytvinova,"I changed a readme ending.

Change-Id: I67cec15f3590ac6c7efb0686c81b8dcb5f150dbd
"
openstack%2Frally~master~I6f5e97fcdc2309550f693670ffb1aba8026563d8,openstack/rally,master,openstack-region,I6f5e97fcdc2309550f693670ffb1aba8026563d8,Add openstack-ansible deployment engine,ABANDONED,2015-07-20 04:37:18.000000000,2019-08-08 10:22:08.000000000,,633,0,8,203482,def28f753830c06b99db9012b4f7ecd5dc63a200,31,3,9,5,11279,Angus Lees,gus,"Add openstack-ansible deployment engine

This change adds a new deployment engine that uses
openstack-ansible.

Includes two sample deployments: multinode and all-in-one.

Change-Id: I6f5e97fcdc2309550f693670ffb1aba8026563d8
"
openstack%2Fmagnum~master~I4bab333c97c94610cad95f06932266f243392726,openstack/magnum,master,readme,I4bab333c97c94610cad95f06932266f243392726,Update links in README,ABANDONED,2018-08-18 20:18:31.000000000,2019-08-08 10:20:51.000000000,,4,4,0,593351,35fc37a30693071ac9abeb55d61f38d2683cbb05,6,3,1,1,17130,melissaml,malei,"Update links in README

Change the outdated links to the latest links in README

Change-Id: I4bab333c97c94610cad95f06932266f243392726
"
openstack%2Fironic-prometheus-exporter~master~I3be63badc93514b771470fb41bf8953e2614e0c2,openstack/ironic-prometheus-exporter,master,releasenote_voltage,I3be63badc93514b771470fb41bf8953e2614e0c2,Release note for ipmi Voltage metrics,MERGED,2019-08-06 14:58:17.000000000,2019-08-08 09:51:32.000000000,2019-08-08 09:51:32.000000000,4,0,1,674823,ced215379e00e9d9285c891e60ca5dc11c6b581d,10,3,2,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Release note for ipmi Voltage metrics

Change-Id: I3be63badc93514b771470fb41bf8953e2614e0c2
"
openstack%2Freleases~master~I0fb852f85e435c1ec53b4e250255534c708eab0b,openstack/releases,master,python3-train,I0fb852f85e435c1ec53b4e250255534c708eab0b,Add Python 3 Train unit tests,MERGED,2019-07-12 20:13:01.000000000,2019-08-08 09:50:12.000000000,2019-08-08 09:50:12.000000000,8,8,0,670641,49154ccfd07742689d0a46d7cbade0eb21880d7d,15,7,2,3,11805,Corey Bryant,coreycb,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I0fb852f85e435c1ec53b4e250255534c708eab0b
Story: #2005924
Task: #34242
"
openstack%2Freleases~master~I2cbe7a174b3cc14bf10fffa2a6dfbf8ea0b344ab,openstack/releases,master,ironic-stein,I2cbe7a174b3cc14bf10fffa2a6dfbf8ea0b344ab,Release ironic 12.1.2 for Stein,MERGED,2019-07-24 07:13:44.000000000,2019-08-08 09:50:11.000000000,2019-08-08 09:50:11.000000000,4,0,0,672409,45548b29ae9b5134b21d89c1301b6970f8594a29,13,7,1,1,10239,Dmitry Tantsur,dtantsur,"Release ironic 12.1.2 for Stein

Change-Id: I2cbe7a174b3cc14bf10fffa2a6dfbf8ea0b344ab
"
openstack%2Freleases~master~I96e0ade6ddaa353e43c40c714034378d23607a44,openstack/releases,master,ironic-python-agent-stein,I96e0ade6ddaa353e43c40c714034378d23607a44,Release ironic-python-agent 3.6.2 for Stein,MERGED,2019-07-24 07:09:20.000000000,2019-08-08 09:38:52.000000000,2019-08-08 09:38:52.000000000,4,0,0,672408,03a5df151c286bb7f26dc7c81c780370c05ba9e6,10,5,1,1,10239,Dmitry Tantsur,dtantsur,"Release ironic-python-agent 3.6.2 for Stein

Change-Id: I96e0ade6ddaa353e43c40c714034378d23607a44
"
openstack%2Fvirtualbmc~master~Id62ca8c569f5b99f61e8f2908f899c18ceec2be6,openstack/virtualbmc,master,,Id62ca8c569f5b99f61e8f2908f899c18ceec2be6,CI: clean up required projects,MERGED,2019-07-30 08:25:54.000000000,2019-08-08 09:33:27.000000000,2019-08-08 09:33:27.000000000,1,2,0,673445,c17eaf241723fbe367497353281826593932f4f3,11,4,2,1,10239,Dmitry Tantsur,dtantsur,"CI: clean up required projects

Add virtualbmc explicitly in case it ever gets removed from ironic-base.

Change-Id: Id62ca8c569f5b99f61e8f2908f899c18ceec2be6
"
openstack%2Freleases~master~Id3910b6aed1df4f69d500e2bdeafe7ef8e38b52d,openstack/releases,master,,Id3910b6aed1df4f69d500e2bdeafe7ef8e38b52d,Release new version of neutron-tempest-plugin,MERGED,2019-08-05 10:44:12.000000000,2019-08-08 09:32:08.000000000,2019-08-08 09:32:08.000000000,4,0,3,674573,e8578fc74ebc7de1e76579a68a33993336a0ce28,13,8,1,1,11975,Slawek Kaplonski,slaweq,"Release new version of neutron-tempest-plugin

This patch propose to release new version of neutron-tempest-plugin
(version 0.5.0) as it has some important new tests included, like
for example multicast traffic test added in [1].

[1] https://review.opendev.org/#/c/566103/

Change-Id: Id3910b6aed1df4f69d500e2bdeafe7ef8e38b52d
"
openstack%2Freleases~master~Idb00166d16f17dcb12e3c982f02b25dd75909f53,openstack/releases,master,train-late-additions,Idb00166d16f17dcb12e3c982f02b25dd75909f53,Add cyborg-tempest-plugin to Train deliverables,MERGED,2019-08-02 11:44:39.000000000,2019-08-08 09:31:28.000000000,2019-08-08 09:31:28.000000000,10,0,0,674278,57d61fe00e31167c43eb2e378b5c2d6f957aa498,8,5,1,1,308,Thierry Carrez,ttx,"Add cyborg-tempest-plugin to Train deliverables

Cyborg tempest plugin should probably be released automatically at
the end of the Train cycle. To be confirmed by Cyborg PTL.

Change-Id: Idb00166d16f17dcb12e3c982f02b25dd75909f53
"
openstack%2Fmistral~master~I4bc6feec72973469ddafab1ce06cff9c8affd48c,openstack/mistral,master,bug/1757102,I4bc6feec72973469ddafab1ce06cff9c8affd48c,Create docs for the workflow namespaces feature,MERGED,2019-08-06 11:18:05.000000000,2019-08-08 09:31:02.000000000,2019-08-08 09:31:02.000000000,212,0,0,674781,059248f86eb5800fef42fffe9ed737b6f2729626,20,8,8,3,8731,Renat Akhmerov,rakhmerov,"Create docs for the workflow namespaces feature

Closes-Bug: #1757102

Change-Id: I4bc6feec72973469ddafab1ce06cff9c8affd48c
"
openstack%2Fmistral~master~Ia018b8962f2e998352784bd54d8d2b24892825d3,openstack/mistral,master,assertTrue,Ia018b8962f2e998352784bd54d8d2b24892825d3,Fix invalid assert states,MERGED,2019-06-27 08:59:11.000000000,2019-08-08 09:31:01.000000000,2019-08-08 09:31:01.000000000,6,6,1,667814,93dce86ffd5f3dcda4cd87ff7ddfcb757465de8d,24,7,5,2,20190,zhufl,zhufl,"Fix invalid assert states

Assert states like self.assertTrue(1, len(fetched)) should use
self.assertEqual, not assertTrue.

Change-Id: Ia018b8962f2e998352784bd54d8d2b24892825d3
"
openstack%2Fpython-ironicclient~master~Id56a6fdb5a14c19673bafba4a787e78e05480b5d,openstack/python-ironicclient,master,bug/101,Id56a6fdb5a14c19673bafba4a787e78e05480b5d,add a hello.txt,ABANDONED,2019-08-08 09:16:58.000000000,2019-08-08 09:21:09.000000000,,1,0,0,675278,2f541e9acb430ba919b420a5456578b47d9a99f9,3,1,1,1,30794,CHENGLEI,chengleihuaian,"add a hello.txt

Change-Id: Id56a6fdb5a14c19673bafba4a787e78e05480b5d
"
openstack%2Freleases~master~I9483b75b0ec807ee9d7c15a53910e5f63494e780,openstack/releases,master,train-late-additions,I9483b75b0ec807ee9d7c15a53910e5f63494e780,Adding python-adjutantclient to Train deliverables,ABANDONED,2019-08-02 11:40:25.000000000,2019-08-08 09:19:02.000000000,,8,0,0,674277,277ed9075b76d073233eb3cb0261995e12f25b13,4,2,1,1,308,Thierry Carrez,ttx,"Adding python-adjutantclient to Train deliverables

Adjutant was added to the Train deliverables, so it makes
sense to propose python-adjutantclient too. This should be
confirmed by the Adjutant PTL.

Change-Id: I9483b75b0ec807ee9d7c15a53910e5f63494e780
"
openstack%2Fplacement~master~If937053a8af3f0eecdd90aa807be0abc316d8c4f,openstack/placement,master,cd/de-tuple,If937053a8af3f0eecdd90aa807be0abc316d8c4f,Remove double join in provider_ids_from_rp_ids,MERGED,2019-08-01 12:26:11.000000000,2019-08-08 09:18:21.000000000,2019-08-07 15:15:36.000000000,8,21,4,674017,8da825efc93b4379a4cd2edcff54acfad88f76d3,22,5,5,2,11564,Chris Dent,chdent,"Remove double join in provider_ids_from_rp_ids

provider_ids_from_rp_ids is only used in _build_provider_summaries.
It is passed a collection of usages dict created
_get_usages_by_provider_tree this has usage information for _all_
the providers in the contributing trees, even those providers that
do not provide any resources (otherwise we wouldn't be able to
build a complete summary).

This means that the list of rp ids passed to provider_ids_from_rp_ids
includes all the relevant rps and the returned data structure can
itself be used to find root_provider_uuid and parent_provider_uuid,
instead of doing the join.

This speeds up the database query. Combined with the expanding
bindparam in the previous patch, this cleans up provider_ids_from_rp_ids
nicely.

Change-Id: If937053a8af3f0eecdd90aa807be0abc316d8c4f
"
openstack%2Fnova~master~Ieccbbb2fb3991c951f5cb7753c094d14a97226f6,openstack/nova,master,,Ieccbbb2fb3991c951f5cb7753c094d14a97226f6,DNM - Testing I41b7c1653c6a887ee4b08e588c5d422409aebfba with grenade,ABANDONED,2019-08-06 09:02:37.000000000,2019-08-08 09:15:57.000000000,,0,0,0,674760,89cd62008794f2dc5ca9da7e6cb62c41c555a37d,19,10,1,1,10135,Lee Yarwood,lyarwood,"DNM - Testing I41b7c1653c6a887ee4b08e588c5d422409aebfba with grenade

Change-Id: Ieccbbb2fb3991c951f5cb7753c094d14a97226f6
Depends-On: https://review.opendev.org/#/c/674755/
"
openstack%2Ftripleo-upgrade~master~I947b41c0b25dc9a7b67a7d44507c36d6bfe891e6,openstack/tripleo-upgrade,master,bug/1785040,I947b41c0b25dc9a7b67a7d44507c36d6bfe891e6,Remove unused files,ABANDONED,2018-08-02 13:13:05.000000000,2019-08-08 09:13:23.000000000,,0,2,0,588241,42cffee48305c9baf738603cb53d3d54ccb5680a,5,3,1,1,20775,Carlos Camacho,ccamacho,"Remove unused files

We have several files unused in different branches.
This patch remove those unused files that creates confusion.

Change-Id: I947b41c0b25dc9a7b67a7d44507c36d6bfe891e6
Partial-bug: 1785040
"
openstack%2Ftripleo-heat-templates~master~Idf92cd22f57cda7a979c330d829aad9d921c3fc1,openstack/tripleo-heat-templates,master,,Idf92cd22f57cda7a979c330d829aad9d921c3fc1,Change package names to python3,ABANDONED,2019-05-30 08:31:06.000000000,2019-08-08 09:12:55.000000000,,32,32,0,662161,643a47d810234edf8584af9a51a988bf64d84003,5,3,1,4,20775,Carlos Camacho,ccamacho,"Change package names to python3

We need to start using package names with the major Python version

Change-Id: Idf92cd22f57cda7a979c330d829aad9d921c3fc1
"
openstack%2Fironic-prometheus-exporter~master~I0e66b637ae0b14f9588ce0923c7b9e92d8185483,openstack/ironic-prometheus-exporter,master,releasenote_timestamp,I0e66b637ae0b14f9588ce0923c7b9e92d8185483,Release note for timestamp metric,MERGED,2019-08-06 15:16:54.000000000,2019-08-08 09:04:00.000000000,2019-08-08 09:04:00.000000000,6,0,2,674844,edef5f206f4562567d2d610260a598004f1de486,10,3,2,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Release note for timestamp metric

Change-Id: I0e66b637ae0b14f9588ce0923c7b9e92d8185483
"
openstack%2Fmistral~master~I396bbe8d2933121eb9d65b4804d72b3a5811cc2a,openstack/mistral,master,bp/mistral-filter-event-notifications,I396bbe8d2933121eb9d65b4804d72b3a5811cc2a,Allow to filter event notifications by their type,MERGED,2019-07-12 00:00:18.000000000,2019-08-08 09:02:16.000000000,2019-08-08 09:02:16.000000000,81,3,1,670417,12c84dc936ac3f23702728d2d51bc677415b9af5,17,8,2,3,29124,Oleg Ovcharuk,vgvoleg,"Allow to filter event notifications by their type

Change-Id: I396bbe8d2933121eb9d65b4804d72b3a5811cc2a
Implements: blueprint mistral-filter-event-notifications
Signed-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>
"
openstack%2Fnetworking-ovn~master~If2e23a45624d2221d42bd1437babc4bb65f2900d,openstack/networking-ovn,master,bug/1839434,If2e23a45624d2221d42bd1437babc4bb65f2900d,Fix test_update_port_with_empty_data,ABANDONED,2019-08-08 07:48:38.000000000,2019-08-08 08:59:57.000000000,,12,0,2,675261,9eb4b19ec85fc7ad6ac752dbc4d565783ac71cd5,6,2,3,1,24791,Maciej Jozefczyk,maciej.jozefczyk,"Fix test_update_port_with_empty_data

Test test_update_port_with_empty_data from TestOVNMechanismDriverPortsV2
class in neutron is runned agains:
neutron.tests.unit.plugins.ml2.drivers.mechanism_test.TestMechanismDriver
which in fact during update_port_postcommit() does nothing with
the port, only validates it [0].

In networking-ovn this test is runned against real mechanism driver:
networking_ovn.ml2.mech_driver.OVNMechanismDriver. This ends with
little difference - to port dict 'network' information is added
during call of update_port_postcommit(). The port data itself
remains the same.

This patch modifies the test to pop('network'), and checks if other
fields were not modified, like in neutron tests.

[0] https://github.com/openstack/neutron/blob/master/neutron/tests/unit/plugins/ml2/drivers/mechanism_test.py#L208
Change-Id: If2e23a45624d2221d42bd1437babc4bb65f2900d
Closes-Bug: #1839434
"
openstack%2Fnova-specs~master~Ie8145705690789f940e1295770d554954336b13f,openstack/nova-specs,master,bp/ironic-instance-switchover,Ie8145705690789f940e1295770d554954336b13f,Ironic: Instance switchover,ABANDONED,2017-03-23 13:46:47.000000000,2019-08-08 08:59:16.000000000,,257,0,76,449155,cbaa50f0b210ac19049b06703b719bd5265ea56b,48,22,10,1,13689,Hironori Shiina,shiina,"Ironic: Instance switchover

Since Pike release, ironic supports booting a server from a remote
volume. It can separate servers and volumes. It enables to switch
servers with keeping the data in a remote volume. For nova instances,
resize and cold migration can be supported with using remote volumes.

Change-Id: Ie8145705690789f940e1295770d554954336b13f
Implements: blueprint ironic-instance-switchover
"
openstack%2Fnova-specs~master~I873695fba6c64adba9c666693ad81d1d80e2ae2e,openstack/nova-specs,master,bp/cpu-resources,I873695fba6c64adba9c666693ad81d1d80e2ae2e,Follow up for I9200c2b18369da8b9194a8ccbbf6f1baf6a9613c,MERGED,2019-05-15 14:31:40.000000000,2019-08-08 08:57:04.000000000,2019-05-17 21:49:51.000000000,11,12,1,659300,68282ddbd04ce3507d10b79ce1d850490bbfc04f,9,4,1,1,15334,Stephen Finucane,sfinucan,"Follow up for I9200c2b18369da8b9194a8ccbbf6f1baf6a9613c

Address some comments and issues with the initial version of the spec.

Change-Id: I873695fba6c64adba9c666693ad81d1d80e2ae2e
Blueprint: cpu-resources
"
openstack%2Fhorizon~master~I7223ae5bd931202c95602ec9674ae86b4708368d,openstack/horizon,master,bug/1835724,I7223ae5bd931202c95602ec9674ae86b4708368d,Preserve form field order in python 3,MERGED,2019-07-12 12:42:53.000000000,2019-08-08 08:54:58.000000000,2019-08-08 08:54:58.000000000,12,1,4,670517,9c30ca9c13f59267c1045d9faaca1eac1259fd41,17,9,3,1,8674,Yves-Gwenael Bourhis,yves,"Preserve form field order in python 3

In python 3, the ExternalUploadMeta metaclass does not preserve the
order of the fields of the class it is modifying.
First we add a __prepare__() method which returns an empty
collections.OrderedDict.
That mapping records the methods and attributes of the class it is
metaclassing as they are defined within the body of the class statement.
Then we send a collections.OrderedDict to create the new class.

Change-Id: I7223ae5bd931202c95602ec9674ae86b4708368d
Closes-Bug: #1835724
"
openstack%2Fironic-python-agent~master~I89fa09a52a776e8b5abf02889b1e87ac17556381,openstack/ironic-python-agent,master,gpt_mbr_alternative_follow_up,I89fa09a52a776e8b5abf02889b1e87ac17556381,Release note update,ABANDONED,2019-08-08 08:30:30.000000000,2019-08-08 08:51:34.000000000,,2,2,1,675271,4b84077f017a2b7847d5bc25a97eaf7b1d806706,4,2,1,1,15064,raphael.glon,raphael,"Release note update

Change-Id: I89fa09a52a776e8b5abf02889b1e87ac17556381
"
openstack%2Fmagnum~master~Ib719dc4ce8b00eb7ebbef663c99c4d2117590c2f,openstack/magnum,master,story/2005124-36111,Ib719dc4ce8b00eb7ebbef663c99c4d2117590c2f,"Release k8s images v1.15.2, v1.14.5, v1.13.9 and v1.12.10",MERGED,2019-08-07 01:53:41.000000000,2019-08-08 08:51:02.000000000,2019-08-08 08:51:02.000000000,4,4,0,675019,243eb6aa7398eeffbbab4a035d9a51f49008cfc5,9,5,1,1,6484,Feilong Wang,flwang,"Release k8s images v1.15.2, v1.14.5, v1.13.9 and v1.12.10

Story: 2005124
Task: 36111

Change-Id: Ib719dc4ce8b00eb7ebbef663c99c4d2117590c2f
"
openstack%2Fkolla~master~I0b25bf33a1ab77a0e84c1eac1caa3184601849d9,openstack/kolla,master,,I0b25bf33a1ab77a0e84c1eac1caa3184601849d9,cleanup image squashing,ABANDONED,2019-06-18 14:39:35.000000000,2019-08-08 08:27:46.000000000,,9,53,0,666000,8b1bda59eba4e3e8362b0cb9497af41ba92f5894,5,3,1,2,24072,Marcin Juszkiewicz,hrw,"cleanup image squashing

Docker has image squashing as experimental feature. So let's use it
instead of 'docker-squash' command.

Requires 'Experimental': true in daemon.json configuration of Docker.

Full of issues anyway - building Ceph images means base is OK,
ceph-base is OK but rest of ceph-* images fail as parent layer
dissappeared.

Change-Id: I0b25bf33a1ab77a0e84c1eac1caa3184601849d9
"
openstack%2Fkolla-ansible~master~I8e12850e8f1cc4aa88f49a8faa6067b9191bf9b4,openstack/kolla-ansible,master,,I8e12850e8f1cc4aa88f49a8faa6067b9191bf9b4,On Debian/Ubuntu systems install Docker from distribution,ABANDONED,2019-07-25 11:33:23.000000000,2019-08-08 08:22:52.000000000,,1,44,5,672701,bcb5c27a475bdc49ae360934f83c0bf1f754ad25,20,5,2,2,24072,Marcin Juszkiewicz,hrw,"On Debian/Ubuntu systems install Docker from distribution

Both Debian 'buster' and Ubuntu 'bionic' ship Docker 18.09 version.
So let just use it instead of checking is newest upstream one works or
not.

Change-Id: I8e12850e8f1cc4aa88f49a8faa6067b9191bf9b4
"
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Fstein~I14f040c7549fabfe88882dc609f62cd08ab130db,openstack/openstack-ansible-os_ceilometer,stable/stein,,I14f040c7549fabfe88882dc609f62cd08ab130db,Change default username for oslo from designate to designate-rpc,MERGED,2019-08-07 10:44:52.000000000,2019-08-08 08:01:51.000000000,2019-08-08 08:01:51.000000000,1,1,0,675088,40f176986d42f656390e25cad77d52b9d502f4ed,8,4,1,1,22018,Ionuț Bîru,ionutbiru,"Change default username for oslo from designate to designate-rpc

In designate ansible role the default username for oslo is designate-rpc.
If ceilometer is used for designate, ceilometer configuration is generated incorrectly
and it doesn't start, returning ACCESS_REFUSED

Change-Id: I14f040c7549fabfe88882dc609f62cd08ab130db
(cherry picked from commit 1e17662057d55392284b765ac9367179d98ba096)
"
openstack%2Fcharm-percona-cluster~master~I37813e594c31b3266084fcbd6fb67f8180461971,openstack/charm-percona-cluster,master,bug/1838124,I37813e594c31b3266084fcbd6fb67f8180461971,Use a local cache to store current root password,ABANDONED,2019-07-27 09:03:33.000000000,2019-08-08 07:53:38.000000000,,232,70,3,673132,704316df3c6fd67f666f644b1b4ff65708f26590,25,7,3,4,12549,gnuoy,gnuoy,"Use a local cache to store current root password

To ensure a charm can always connect to its local database, store
the current root password and only update the local store when an
update has succesfully completed. The leader-db cannot be trusted
as the root password is not replicated due to the way it is
changed ('update' rather than 'alter user').

The previous method of using cfg.changed('root-password') to check
whether an update is needed has also been changed as the old method
could incorrectly assert no update was needed.

Note: This patch is very cautious and only uses the cached password
for connections if a connection test passes with it. If the
connection test fails then the old behaviour is used.

Change-Id: I37813e594c31b3266084fcbd6fb67f8180461971
Closes-Bug: #1838124
Closes-Bug: #1838125
"
openstack%2Fhorizon~master~If47aa64a8539bcc3996aa484db1e847a3059c2aa,openstack/horizon,master,bug/1821851,If47aa64a8539bcc3996aa484db1e847a3059c2aa,"After deleting the server group, jump to the correct page",MERGED,2019-03-27 06:52:21.000000000,2019-08-08 07:13:58.000000000,2019-08-08 07:13:58.000000000,30,2,1,648013,6dc4bd203d3e44ce6500a4b81a27158d6c73185c,20,5,6,2,27822,pengyuesheng,pengyuesheng,"After deleting the server group, jump to the correct page

On the server group Details page, after deleting the server group,
jump to a wrong page.

This patch jump to the correct page after deleting the server group.

Change-Id: If47aa64a8539bcc3996aa484db1e847a3059c2aa
Closes-Bug: #1821851
"
openstack%2Ftempest~master~I029aa08cb7286e1b4cd995642928d667b87afb44,openstack/tempest,master,,I029aa08cb7286e1b4cd995642928d667b87afb44,add show detail for volume Api V3,MERGED,2019-07-29 10:15:57.000000000,2019-08-08 07:05:06.000000000,2019-08-08 07:05:06.000000000,103,0,37,673260,db10fb0703eefd3ee69d9c9e76da748fc0403868,51,10,10,4,30409,wangzhiguang,wangzhiguang,"add show detail for volume Api V3

add show details for volume api v3 and add unit test

Change-Id: I029aa08cb7286e1b4cd995642928d667b87afb44
"
openstack%2Ftripleo-docs~master~I9d5cf96622b895cd0dad83b6fd3e41ed7204d50e,openstack/tripleo-docs,master,bp/ceph-config-overrides,I9d5cf96622b895cd0dad83b6fd3e41ed7204d50e,Override multiple ceph.conf sections using CephConfigOverrides,MERGED,2019-08-02 08:58:46.000000000,2019-08-08 06:47:13.000000000,2019-08-08 06:47:13.000000000,9,5,2,674234,341b9936607b576d15b01dd52acb0c2a5f7fd65b,15,8,2,1,25402,Francesco Pantano,fmount,"Override multiple ceph.conf sections using CephConfigOverrides

With the latest ceph-base change we now have the ability to
override the variables in multiple sections of ceph.conf other
than global.
This change improves the existing example of CephConfigOverrides
definition with an additional parameter in the [osd] section.

Depends-On: https://review.opendev.org/#/c/658161
Change-Id: I9d5cf96622b895cd0dad83b6fd3e41ed7204d50e
"
openstack%2Fironic~master~I1cae6e9b4ff124e3404bd55638bc77bdf3465fe0,openstack/ironic,master,raid,I1cae6e9b4ff124e3404bd55638bc77bdf3465fe0,Clean up RAID documentation,MERGED,2019-08-07 16:28:08.000000000,2019-08-08 06:21:48.000000000,2019-08-08 06:21:48.000000000,154,137,0,675145,7a3d9a664efc75b7f3e8a7397ca06ba2e4bb474f,8,4,1,1,10239,Dmitry Tantsur,dtantsur,"Clean up RAID documentation

* Use more copy-paste friendly indentation in the examples
* Use subheadings for properties
* Render JSON examples as JSON
* Remove explicit API version from CLI, we've been defaulting
  to latest for several releases.
* Small fixes

Change-Id: I1cae6e9b4ff124e3404bd55638bc77bdf3465fe0
"
openstack%2Fmasakari~master~Id11324a568ac3b79f19244f1a72dbe784d2a1979,openstack/masakari,master,install-host-monitor,Id11324a568ac3b79f19244f1a72dbe784d2a1979,Add devstack support to install host-monitor,NEW,2019-07-17 07:14:25.000000000,2019-08-08 06:11:54.000000000,,153,7,7,671200,1298945943e24ac993a978124b070d75878c5f34,18,8,4,2,27302,Shilpa Devharakar,shilpa.devharakar,"Add devstack support to install host-monitor

Added support to install host-monitor service. It configures the
pacemaker and corosync services and also configures stonith resource
``external/ipmi`` which by default will power off the compute host if
it detects corosync service on the failed host is offline.

Change-Id: Id11324a568ac3b79f19244f1a72dbe784d2a1979
"
openstack%2Fhorizon~master~I1acdff5f2389ae88872ed198a2b3cee9dc61f705,openstack/horizon,master,ipv6-only-deployment-and-testing,I1acdff5f2389ae88872ed198a2b3cee9dc61f705,Define new 'horizon-tempest-plugin-ipv6' job in gate,MERGED,2019-07-20 20:04:01.000000000,2019-08-08 05:49:29.000000000,2019-08-08 05:49:28.000000000,12,3,7,671910,3aac4a257d6e89a62281e5a3302e66c491a9883d,24,4,2,1,8556,Ghanshyam,ghanshyam,"Define new 'horizon-tempest-plugin-ipv6' job in gate

As part of Train community goal 'Support IPv6-Only Deployments and
Testing'[1], Tempest has defined the base job 'devstack-tempest-ipv6'
(adding in Depends-On patch) which will deploy services on IPv6.

This commit adds the new job 'horizon-tempest-plugin-ipv6'
run on gate which is derived from 'devstack-tempest-ipv6'.

Verification structure will be:
- 'devstack-IPv6' deploy the service on IPv6
- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and
  listen address
- 'horizon-tempest-plugin-ipv6' will run the tests.

Story: #2005477
Task: #35893

Depends-On: https://review.opendev.org/#/c/671231/

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: I1acdff5f2389ae88872ed198a2b3cee9dc61f705
"
openstack%2Fdevstack~master~Ib2c85ec262b027351872e2b5a39b06a4ba1b880a,openstack/devstack,master,ipv6-only-deployment-and-testing,Ib2c85ec262b027351872e2b5a39b06a4ba1b880a,Add 'tempest-ipv6-only' job on devstack gate,MERGED,2019-07-31 12:42:09.000000000,2019-08-08 05:24:10.000000000,2019-08-08 05:24:09.000000000,8,0,0,673806,99bcaf5721b89a7e74b6ac8888d82e3f83b04ef4,9,3,2,1,8556,Ghanshyam,ghanshyam,"Add 'tempest-ipv6-only' job on devstack gate

We recently added the 'tempest-ipv6-only' job on
tempest side which will use the devstack base job
'devstack-ipv6' job and add more verification and testing
for IPv6 deployment.

Let's add that job on devstack gate also to avoid any
break due to devstack changes.

Change-Id: Ib2c85ec262b027351872e2b5a39b06a4ba1b880a
Story: #2005477
Task: #35923
"
openstack%2Ftripleo-heat-templates~master~I60855988c1b465312e66b6850cb49a0884766f03,openstack/tripleo-heat-templates,master,bug/1839302,I60855988c1b465312e66b6850cb49a0884766f03,fix /var/lib/vhost_sockets permission issue,ABANDONED,2019-08-07 10:18:21.000000000,2019-08-08 04:31:50.000000000,,1,0,0,675079,756c1058a04a9698dfd32d71cd98d5165ba42147,8,5,1,1,21778,junbo,junbo,"fix /var/lib/vhost_sockets permission issue

Change-Id: I60855988c1b465312e66b6850cb49a0884766f03
Closes-Bug: 1839302
"
openstack%2Ftrove~master~I26aa1619cfc6d5d65692ad0047f632731a00cfc7,openstack/trove,master,667488,I26aa1619cfc6d5d65692ad0047f632731a00cfc7,Added a bindep file to install binaries in CI,ABANDONED,2019-06-26 01:59:16.000000000,2019-08-08 04:30:09.000000000,,41,0,1,667488,6c011a69e0a331ea5c3dff4568e3e6ec9109acc2,28,5,3,2,3031,Sam Morrison,sorrison,"Added a bindep file to install binaries in CI

Change-Id: I26aa1619cfc6d5d65692ad0047f632731a00cfc7
"
openstack%2Fmanila~master~Icdd7eafac412982e5770f9a8a7b7d57c91ad6cea,openstack/manila,master,,Icdd7eafac412982e5770f9a8a7b7d57c91ad6cea,Fix incorrect 'cephfnfs1' to 'cephfsnfs1',MERGED,2019-08-08 01:31:02.000000000,2019-08-08 04:18:18.000000000,2019-08-08 01:58:18.000000000,1,1,0,675237,0f4997d0eef319c35bc95ff30f48ce153507217d,12,6,1,1,23950,Eric Xie,ericxie,"Fix incorrect 'cephfnfs1' to 'cephfsnfs1'

Change-Id: Icdd7eafac412982e5770f9a8a7b7d57c91ad6cea
"
openstack%2Fplacement~master~I88e42ef18bd5b2616a93730241d2419c6b431276,openstack/placement,master,cd/trait-create-order,I88e42ef18bd5b2616a93730241d2419c6b431276,Optimize trait creation to check existence first,MERGED,2019-07-30 15:18:46.000000000,2019-08-08 03:47:24.000000000,2019-08-08 03:47:24.000000000,85,11,19,673555,5fd2d18c30642786b2475762c2f054a953f79c22,36,5,7,2,11564,Chris Dent,chdent,"Optimize trait creation to check existence first

Comparing benchmarks of creating (repeated) resource classes with
traits, it became clear that creating resource classes [1] was about
1/3rd faster. Comparing the code, they were very similar, however
the resource class side was ordered to check for existence first
before attempting to do a create(). This meant that in the fairly common
case where a resource class already existed we could finish early.

This change updates the code so that the common idiom used in clients
of ""ensuring a trait"" with PUT /traits/$name routine to be the same
as the ""ensuring a resource class"" with PUT /resource_classes/$name
routine: check that it is already there, first. Since it is best
practice to always ensure trait or resource class before using a
CUSTOM_ one, this is a good orientation.

Note that with the recent addition of the AttributeCache, these queries
for get_by_name [2] go to the ResourceClass or Trait cache. However, at
this stage in processing, the cache is empty and calls to get_by_name
will fill it.

A unit test is added to confirm that the 'put_trait' handler will look
at get_by_name and then go back to assuming the trait exists if the
create() fails because it already exists. The general behavior of
whether a trait is created or updated is confirmed by the gabbit
tests in trait.yaml. That test also confirms that we have a legit
last-modified time when we fall through both exceptions and make
the assumption that a trait was created by some other thread. It is
safe to use 'now' as the last-modified time because it was created
in this same second, just not by us.

[1] https://opendev.org/openstack/placement/src/commit/2f56f379a568d427ac9057086386074a7801b00c/placement/handlers/resource_class.py#L209
[2] https://opendev.org/openstack/placement/src/commit/2f56f379a568d427ac9057086386074a7801b00c/placement/objects/resource_class.py#L72

Change-Id: I88e42ef18bd5b2616a93730241d2419c6b431276
"
openstack%2Fcinder~master~I7c0abd7ff0bcb620b3e686885e7e6f04b9f9a519,openstack/cinder,master,bug/1838714,I7c0abd7ff0bcb620b3e686885e7e6f04b9f9a519,extend_volume method fails if volume size is float,NEW,2019-08-02 02:35:25.000000000,2019-08-08 03:37:33.000000000,,1,1,5,674154,088a78ee7f42c9b738f7c6b4a711d9bb96bc76d6,68,42,2,1,29964,Tejdeep Kautharam,tejdeep,"extend_volume method fails if volume size is float

RSD driver method fails when float volume size is passed to the
extend_volume method. Fixed this bug by casting size_in_gb to int

Change-Id: I7c0abd7ff0bcb620b3e686885e7e6f04b9f9a519
Closes-Bug: #1838714
"
openstack%2Fneutron~master~I40a8a3905435233e6c00c5439df287db5ab10ed6,openstack/neutron,master,bug/1839246,I40a8a3905435233e6c00c5439df287db5ab10ed6,test_l3: Be a bit more selective where to inject a failiure,MERGED,2019-08-07 07:23:50.000000000,2019-08-08 03:28:53.000000000,2019-08-08 03:28:53.000000000,21,10,3,675044,330b6d6ba0fbfed92f4a785b301010e787cfdd27,36,10,5,1,6854,YAMAMOTO Takashi,yamamoto,"test_l3: Be a bit more selective where to inject a failiure

Instead of blindly making the first publish() fail.

Remove assumptions about how many publish() calls are made.

These problems were exposed by the recent change. [1]

[1] https://review.opendev.org/#/c/638274/

Closes-Bug: #1839246
Change-Id: I40a8a3905435233e6c00c5439df287db5ab10ed6
"
openstack%2Foctavia~master~I2bab434523efee0ad755e794f00c3a1ca85ec68f,openstack/octavia,master,,I2bab434523efee0ad755e794f00c3a1ca85ec68f,Re-enable the py36 tox environment,MERGED,2019-08-07 00:15:53.000000000,2019-08-08 03:03:03.000000000,2019-08-08 03:03:03.000000000,1,1,0,674962,518241816c587315f59b56452b901bb339500372,11,4,1,1,11628,Michael Johnson,johnsom,"Re-enable the py36 tox environment

A recent automated patch[1] removed py36 from the tox default
environment list. Since Ubuntu 18.04 includes python 3.6 and we
still include a functional-3.6 test, we should keep the py36
environment in the list.

[1] https://review.opendev.org/#/c/669440/

Change-Id: I2bab434523efee0ad755e794f00c3a1ca85ec68f
"
openstack%2Fwatcher~master~I992b56b64d56f35c8355b22707c3db5112964b31,openstack/watcher,master,fix_var_src_extra_specs_use_error,I992b56b64d56f35c8355b22707c3db5112964b31,Fix var src_extra_specs error,MERGED,2019-08-06 03:07:01.000000000,2019-08-08 02:50:48.000000000,2019-08-08 02:50:48.000000000,1,0,0,674721,cbc2b9eb374a5787477a56e4fb7603aa0cbd8442,14,5,2,1,28748,chenker,chenke,"Fix var src_extra_specs error

This error was discovered by tool coverity. If we don't
initialize this var src_extra_specs, line 225 may sometimes
raise an error.

Change-Id: I992b56b64d56f35c8355b22707c3db5112964b31
"
openstack%2Foctavia~stable%2Frocky~If0eb6e934e8bfb6759c61db3f1f1b89fe02264eb,openstack/octavia,stable/rocky,,If0eb6e934e8bfb6759c61db3f1f1b89fe02264eb,Add octavia-v2-dsvm jobs to the gate queue,MERGED,2019-07-31 10:55:46.000000000,2019-08-08 02:32:29.000000000,2019-08-08 02:32:29.000000000,8,8,0,673783,eb9ebe4cf7e4fa638d8e3e7b34d38ae9d8debf78,8,3,1,1,6469,Carlos Gonçalves,cgoncalves,"Add octavia-v2-dsvm jobs to the gate queue

Octavia is a standalone project and supports the LBaaSv2.
We should be gating on octavia-v2-dsvm jobs in stable/rocky.

Change-Id: If0eb6e934e8bfb6759c61db3f1f1b89fe02264eb
"
openstack%2Fglance~master~I10979ac996196ea4b8ff632d52f9d323d3c1fca4,openstack/glance,master,bug/1799588,I10979ac996196ea4b8ff632d52f9d323d3c1fca4,Updates glance config to honor documented default paste_deploy,ABANDONED,2018-10-26 19:16:40.000000000,2019-08-08 02:31:11.000000000,,1,1,6,613671,98c866baf8497a321affec4cccfffa9138181f95,18,8,3,1,29380,Michael Moore,mdmoore,"Updates glance config to honor documented default paste_deploy

Updates glance config to use the documented default value 'keystone' for paste_deploy

Change-Id: I10979ac996196ea4b8ff632d52f9d323d3c1fca4
Closes-Bug: 1799588
"
openstack%2Fnova~master~I7ed7ca80c4b553a1a4429febac9461bad7598bac,openstack/nova,master,bp/cpu-model-selection,I7ed7ca80c4b553a1a4429febac9461bad7598bac,Select cpu model from a list of cpu models,ABANDONED,2019-02-19 12:35:35.000000000,2019-08-08 02:16:57.000000000,,344,71,80,637834,9b898cc0870b6b3116e20a55640b96af41466a8d,90,21,7,9,27614,ya.wang,ya.wang,"Select cpu model from a list of cpu models

Add configuration item: `cpu_model_list`, an ordered list of CPU models
the host supports. Older configuration item `cpu_model` is deprecated.

Add a precheck method when service starts: check if the configuration
`cpu_mode` and `cpu_model_list` is correct and the compatibility
between `cpu_model`, `cpu_model_extra_flags` and host cpu by using
host.compare_cpu()

Change the method of report cpu traits, the reported cpu feature traits
will be the union of features of all the cpu models and host cpu when
`cpu_mode` is `custom`.

Change the method of generate guest cpu xml, if the `cpu_mode` is set
to custom, and set the trait in flavor, libvirt driver will select
first matching CPU model in the `cpu_model_list`, if no trait set,
libvirt driver will select the first CPU model in the `cpu_model_list`.

Change-Id: I7ed7ca80c4b553a1a4429febac9461bad7598bac
Implements: blueprint cpu-model-selection
"
openstack%2Fopenstack-ansible~stable%2Fstein~I4bd706cfc58034a3d8052ad44cea7c8ad6e2fd2c,openstack/openstack-ansible,stable/stein,make-centos-great-stable/stein,I4bd706cfc58034a3d8052ad44cea7c8ad6e2fd2c,doc: stop marking CentOS as experimental,MERGED,2019-07-31 17:12:40.000000000,2019-08-08 02:06:42.000000000,2019-08-07 17:35:30.000000000,1,1,0,673880,76aeb3abb783d9cff367afd2d57b14c75b871ca8,8,4,1,1,1004,Mohammed Naser,mnaser,"doc: stop marking CentOS as experimental

Change-Id: I4bd706cfc58034a3d8052ad44cea7c8ad6e2fd2c
(cherry picked from commit 1db702d0e99bf72c8e9b724212ca9476002f5be3)
"
openstack%2Fnova~stable%2Fstein~I347096a527c257075cefe7b81210622f6cd87daf,openstack/nova,stable/stein,bug/1764556,I347096a527c257075cefe7b81210622f6cd87daf,Don't generate service UUID for deleted services,MERGED,2019-07-31 13:44:47.000000000,2019-08-08 01:53:49.000000000,2019-08-08 01:53:49.000000000,13,26,0,673814,11fde850e6163b68e006e746406e6c5e6ac980e0,17,6,2,3,6873,Matt Riedemann,mriedem,"Don't generate service UUID for deleted services

In Pike, we added a UUID field to services and during an upgrade from
Ocata => Pike, when instances are accessed joined with their associated
services, we generate a UUID for the services on-the-fly.

This causes a problem in the scenario where an operator upgrades their
cluster and has old, deleted services with hostnames matching existing
services associated with instances. When we go to generate the service
UUID for the old, deleted service, we hit a ServiceTooOld exception.

This addresses the problem by not bothering to generate a UUID for a
deleted service. One alternative would be to exclude deleted services
when we join the 'instances' and 'services' tables, but I'm not sure
whether that approach might cause unintended effects where service
information that used to be viewable for instances becomes hidden.

Closes-Bug: #1778305
Closes-Bug: #1764556

Change-Id: I347096a527c257075cefe7b81210622f6cd87daf
(cherry picked from commit 16e163053ca39886f11fdb8a3af10a28619fc105)
"
openstack%2Fkeystoneauth~master~I4b5469aefbe9b91c125da482509cdc627faa5525,openstack/keystoneauth,master,,I4b5469aefbe9b91c125da482509cdc627faa5525,Add remove_service to token fixtures,MERGED,2019-08-07 18:34:20.000000000,2019-08-08 01:47:04.000000000,2019-08-08 01:47:04.000000000,17,0,1,675174,8e59fb20b35d024dd7a01439dce0e90f92eba886,12,3,2,3,2,Monty Taylor,mordred,"Add remove_service to token fixtures

SDK is going to start using these Token fixtures to programmatically
create fake service catalogs in the test suite containing entries
for everything in service-types-authority.

In order to be able to test code paths where some service does not
exist, it would be good to be able to just remove a service from
the catalog, instead of needing to construct a full new one from
scratch.

Change-Id: I4b5469aefbe9b91c125da482509cdc627faa5525
"
openstack%2Ftripleo-ansible~master~I0a2b2241a38f3d98ac421e6106fb81210961c1f5,openstack/tripleo-ansible,master,THT2TA,I0a2b2241a38f3d98ac421e6106fb81210961c1f5,Separate tripleo-time into two distinct roles,MERGED,2019-08-06 21:13:10.000000000,2019-08-08 01:43:43.000000000,2019-08-08 01:43:43.000000000,56,48,4,674932,3d4093672a0611963a4388bcab1d6834c2b0c660,23,6,3,28,7353,Kevin Carter,cloudnull,"Separate tripleo-time into two distinct roles

This change converts the tripleo time role into two roles:

  - tripleo-ptp
  - tripleo-timezone

This change will ensure we're able to cleanly install and setup
ptp when needed while also providing a well defined interface
for setting the timezone on systems.

Change-Id: I0a2b2241a38f3d98ac421e6106fb81210961c1f5
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fpython-novaclient~master~I078add63896c7455be7e3672b7172debb962a5e2,openstack/python-novaclient,master,bp/more-migration-list-filters,I078add63896c7455be7e3672b7172debb962a5e2,docs: clarify nova migration-list --host option,MERGED,2019-08-06 22:45:48.000000000,2019-08-08 01:41:36.000000000,2019-08-08 01:41:36.000000000,4,4,3,674950,e281368c9679b385ecfb05737e614a05a9bab291,14,4,3,2,6873,Matt Riedemann,mriedem,"docs: clarify nova migration-list --host option

The GET /os-migrations API takes both a host and
source_compute filter parameter. The former filters
on either the source or destination compute, so this
change clarifies that in the command help for the
--host option.

Change-Id: I078add63896c7455be7e3672b7172debb962a5e2
"
openstack%2Fstorlets~master~Ie1721c016b10b6562b131eb39e3dc84b1d8d473f,openstack/storlets,master,sbusclient,Ie1721c016b10b6562b131eb39e3dc84b1d8d473f,Add basic client implementation for sbus protocol,MERGED,2016-12-02 06:19:13.000000000,2019-08-08 01:32:30.000000000,2019-08-08 01:32:30.000000000,584,348,65,405937,a21a14f13af9b77f5ab7ada992973fd8f09a3384,107,4,42,15,9816,Takashi Kajinami,kajinamit,"Add basic client implementation for sbus protocol

This patch introduces basic implementation of the client to communicate
with remote process using sbus, to gather all codes which deeply depend
on the sbus protocol into the one place.

This patch also introduces sbus CLI, which enables operators to send
sbus command like halt easily.

Change-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f
"
openstack%2Fpuppet-neutron~master~I5a03a74e68d2b8b7364341ba2ed77dfb419ebc58,openstack/puppet-neutron,master,,I5a03a74e68d2b8b7364341ba2ed77dfb419ebc58,Support connecting OVN DB over SSL,MERGED,2019-08-05 13:01:48.000000000,2019-08-08 00:46:27.000000000,2019-08-08 00:46:27.000000000,87,0,0,674603,c6881ea3febb1d8ccf2b1ca48d22cb89dd11f5ca,11,4,2,4,11082,Kamil Sambor,ksambor,"Support connecting OVN DB over SSL

This patch introduce parameters which support using SSL to connect to
OVN_Northbound DB and OVN_Southbound DB.

Change-Id: I5a03a74e68d2b8b7364341ba2ed77dfb419ebc58
Signed-off-by: Kamil Sambor <ksambor@redhat.com>
"
openstack%2Fbarbican~stable%2Fstein~Ic9824657bafafdabda7fe3a983c5fee37f7981d7,openstack/barbican,stable/stein,create-stein,Ic9824657bafafdabda7fe3a983c5fee37f7981d7,Update UPPER_CONSTRAINTS_FILE for stable/stein,MERGED,2019-03-21 20:25:18.000000000,2019-08-08 00:31:00.000000000,2019-08-08 00:31:00.000000000,1,1,0,645332,c7d48bb36cd7059675761c38f7988539ae1dd054,24,6,4,1,22816,OpenStack Release Bot,release,"Update UPPER_CONSTRAINTS_FILE for stable/stein

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/stein branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ic9824657bafafdabda7fe3a983c5fee37f7981d7
"
openstack%2Fbarbican~stable%2Fstein~Ifafe54acbac00fa0927bc4d1b580cfbc382aef01,openstack/barbican,stable/stein,create-stein,Ifafe54acbac00fa0927bc4d1b580cfbc382aef01,Update .gitreview for stable/stein,MERGED,2019-03-21 20:25:13.000000000,2019-08-08 00:29:28.000000000,2019-08-08 00:29:28.000000000,1,0,0,645331,cefccb07f2fb2e2eb1fb81ea8db251e33422d5b0,29,6,5,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/stein

Change-Id: Ifafe54acbac00fa0927bc4d1b580cfbc382aef01
"
openstack%2Ftripleo-ci~master~I61cd114ec7150d2c6156c5d8a2fe105fdd458348,openstack/tripleo-ci,master,container_build,I61cd114ec7150d2c6156c5d8a2fe105fdd458348,Fixed containers-build role to compare built containers,MERGED,2019-08-05 07:24:46.000000000,2019-08-07 23:53:04.000000000,2019-08-07 23:53:04.000000000,10,8,8,674539,667ef1614f47c582e7d86e0dbbb7c18082da4782,27,11,5,2,12393,chandan kumar,chkumar246,"Fixed containers-build role to compare built containers

Since podman is not installed by default in containers-build job
so the Built var is returning zero and further giving
[: -l: binary operator expected error.

In order to fix the above issue, It adds task
to set proper container_cli and reuse buildah and docker
and compare the build containers status using returncode.

Use sudo while cating the files as buildah is runned via
sudo and it will fix permission issue.

Change-Id: I61cd114ec7150d2c6156c5d8a2fe105fdd458348
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fswift~stable%2Fstein~I20f1743756b001deeddb105fdc0c55ee5b7a419c,openstack/swift,stable/stein,zanata/translations,I20f1743756b001deeddb105fdc0c55ee5b7a419c,Imported Translations from Zanata,MERGED,2019-08-04 07:54:33.000000000,2019-08-07 23:51:06.000000000,2019-08-07 23:51:05.000000000,220,3753,0,674477,0dabd1883decb574dcf30c49b2cd2c196d12564e,13,4,1,15,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I20f1743756b001deeddb105fdc0c55ee5b7a419c
"
openstack%2Fpython-swiftclient~stable%2Frocky~I3c6bca460ee5ff99195495a29e8b8bbf4ed804ff,openstack/python-swiftclient,stable/rocky,,I3c6bca460ee5ff99195495a29e8b8bbf4ed804ff,Fix up stable gate,MERGED,2019-08-07 19:18:34.000000000,2019-08-07 23:45:01.000000000,2019-08-07 23:45:01.000000000,143,121,0,675184,12bd870a02fc3528f45d27152c62fb0b9598bc84,6,2,1,12,15343,Tim Burke,tburke,"Fix up stable gate

This is a combination of three commits from master:

---

Isolate docs requirements

...since modern sphinx won't install on py27.

While we're at it, clean up some warnings and treat warnings as errors.

Also, fix up how we parse test configs so we can run func tests.

Related-Change: Id3c2ed87230c5918c18e2c01d086df8157f036b1
(cherry picked from commit 113eacf3b80f61d366b3e95b558b40f82ff728a4)

---

Drag forward prettytable in lower-constraints

Apparently version 0.7 got unpublished recently.

(cherry picked from commit 5bd66947fc3d8987d4b24d5119a346031004229e)

---

docs: Clean up formatting

(cherry-picked from commit 7563d9cb5642c85a31708fd863e2737f9d6c9419)

---

Change-Id: I3c6bca460ee5ff99195495a29e8b8bbf4ed804ff
(cherry picked from commit 172aa9016977a3b03f07da0350c6aa9ade1e55a0)
"
openstack%2Fopenstack-ansible-os_neutron~stable%2Fstein~Id4a70270d4032ff1c3f0089360e897e5c82c394b,openstack/openstack-ansible-os_neutron,stable/stein,,Id4a70270d4032ff1c3f0089360e897e5c82c394b,config: disable notifications by default,MERGED,2019-08-07 12:49:24.000000000,2019-08-07 22:54:57.000000000,2019-08-07 22:54:57.000000000,1,1,0,675109,01cead9ce6fd1e3d62b8544ddaae675a724c709f,7,3,1,1,1004,Mohammed Naser,mnaser,"config: disable notifications by default

We are currently pushing out notifications even if Ceilometer is
not enabled resulting in huge queues.  Let's not do that.

Change-Id: Id4a70270d4032ff1c3f0089360e897e5c82c394b
(cherry picked from commit 752f261ab6dc986ca1e9b0f16189f20d7ab8a15d)
"
openstack%2Fbarbican~stable%2Fstein~Ic1b8c3a4bfd67fff082297b881df66ffb9ca2c50,openstack/barbican,stable/stein,fix-builds,Ic1b8c3a4bfd67fff082297b881df66ffb9ca2c50,Fix the bug of pep8 and building api-guide,MERGED,2019-08-05 16:40:11.000000000,2019-08-07 22:39:02.000000000,2019-08-07 21:19:44.000000000,30,29,1,674651,367453b54319b90d2660013a98b15cbd9e0c0846,15,7,2,9,6547,Andreas Jaeger,jaegerandi,"Fix the bug of pep8 and building api-guide

`sphinx-build` command is not found in test-env.

To fix pep8, also blacklist the new bandit warning B105, this will
be fixed in a followup.

(cherry picked from commit bf95c37b84688c99bda0849230508d955fc62f82)
Change-Id: Ic1b8c3a4bfd67fff082297b881df66ffb9ca2c50
"
openstack%2Fpuppet-pacemaker~master~I88c1188b2202e0cf70b82db629c3dd748ad01bf3,openstack/puppet-pacemaker,master,bug/1839209,I88c1188b2202e0cf70b82db629c3dd748ad01bf3,pcs 0.10: authenticate nodes before adding them to the cluster,MERGED,2019-08-06 20:07:54.000000000,2019-08-07 22:15:22.000000000,2019-08-07 22:15:22.000000000,10,0,4,674925,8b30131ef70007a050f9f1aafd7cb695bae7a72a,18,8,2,1,20778,Damien Ciabrini,dciabrin,"pcs 0.10: authenticate nodes before adding them to the cluster

With pcs 0.10 and RHEL/CentOS 8, every node that needs to be
added into a running cluster muste be authenticated first in pcsd.

So when replacing a cluster node or automatically scaling up the
cluster, make sure that we run a ""pcs host auth"" command prior to
any ""pcs cluster node add"".

Change-Id: I88c1188b2202e0cf70b82db629c3dd748ad01bf3
Closes-Bug: #1839209
"
openstack%2Fswift~master~Id7e2891b6600af102176eaa2e87f81b528adde8d,openstack/swift,master,,Id7e2891b6600af102176eaa2e87f81b528adde8d,py3: port RBAC func tests,MERGED,2019-08-05 21:49:29.000000000,2019-08-07 22:12:19.000000000,2019-08-07 22:10:07.000000000,2,1,0,674703,2e4c8a924e2c11e0cbabfd1353de49602d1aaef1,7,2,1,2,15343,Tim Burke,tburke,"py3: port RBAC func tests

Yes, it really is just the import.

Change-Id: Id7e2891b6600af102176eaa2e87f81b528adde8d
"
openstack%2Fplacement~master~I4958ba0b208ca457e049875433dc0826eaab8795,openstack/placement,master,cd/de-tuple,I4958ba0b208ca457e049875433dc0826eaab8795,Improve docs and comments for provider_ids_from_rp_ids,MERGED,2019-08-07 10:26:46.000000000,2019-08-07 22:10:05.000000000,2019-08-07 22:10:05.000000000,17,2,3,675082,d65fb81039ae9953883396d6c51611206f89f622,12,4,2,2,11564,Chris Dent,chdent,"Improve docs and comments for provider_ids_from_rp_ids

When the double join was removed from provider_ids_from_rp_ids [1]
it became clear that additional docs and commentary were required
to avoid future confusion over why the new way of using it will
work. This adds it.

[1] If937053a8af3f0eecdd90aa807be0abc316d8c4f

Change-Id: I4958ba0b208ca457e049875433dc0826eaab8795
"
openstack%2Fplacement~master~I79dac6c83d9c118bd6a66cdc3cd300c3c12af538,openstack/placement,master,optimize-_build_provider_summaries,I79dac6c83d9c118bd6a66cdc3cd300c3c12af538,Clean up the extend_usages_by_provider_tree method,MERGED,2019-08-07 09:55:29.000000000,2019-08-07 21:46:55.000000000,2019-08-07 21:46:55.000000000,83,78,1,675074,9820b1bd20469946cd9278478796a09fc0928d40,8,4,1,1,11564,Chris Dent,chdent,"Clean up the extend_usages_by_provider_tree method

In review of the change [1] that created
extend_usages_by_provider_tree some issues with the docs and the
layout of the code were identified. This change attempts to address
them:

* Doc comment on self.usages updated to show more of the content.

* The SQL-half of the extend_usages_by_provider_tree method is
  extracted to its own function.

[1] I5d05d15d33beb1622a06bde0e32c3f52ba01b448

Change-Id: I79dac6c83d9c118bd6a66cdc3cd300c3c12af538
"
openstack%2Fnova~master~I680f0bab766693b8cc6f0f912f0b7987a9debec9,openstack/nova,master,bp/cpu-resources,I680f0bab766693b8cc6f0f912f0b7987a9debec9,trivial: Remove unused '_instance_to_allocations_dict' function,MERGED,2019-08-06 17:55:24.000000000,2019-08-07 21:38:25.000000000,2019-08-07 07:01:11.000000000,0,103,0,674893,c686544e286613d5e18894f75608d2bb140aa3b9,29,12,3,2,15334,Stephen Finucane,sfinucan,"trivial: Remove unused '_instance_to_allocations_dict' function

This appears to have been unused since commit 73d7ef428. Remove both the
function and its tests.

Change-Id: I680f0bab766693b8cc6f0f912f0b7987a9debec9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fmanila-tempest-plugin~master~I5507295baa85bdf911732309d6c1876dc0d5a559,openstack/manila-tempest-plugin,master,fix_gluster_ci,I5507295baa85bdf911732309d6c1876dc0d5a559,Fix snapshot condition error,ABANDONED,2019-08-06 06:47:18.000000000,2019-08-07 21:32:21.000000000,,6,4,3,674739,eb73ad2aeced1e646f9c9fc841aa4f1758611c99,12,4,3,2,30722,WooHyung Han,whhan91,"Fix snapshot condition error

When run_snapshot_tests==false but CONF.share.capability_create
_share_from_snapshot_support==true, resource_setup() makes no
cls.shares[1] and cls.snap. Check both conditions to make sure
object exists.

Change-Id: I5507295baa85bdf911732309d6c1876dc0d5a559
"
openstack%2Ftripleo-validations~stable%2Fstein~I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3,openstack/tripleo-validations,stable/stein,,I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3,Add autodocumentation for roles and library,MERGED,2019-08-05 10:26:09.000000000,2019-08-07 21:06:20.000000000,2019-08-07 21:06:20.000000000,973,14,0,674568,6af82c136e6928acc24612cb1f893e4fac4f1aea,10,7,1,78,11491,Gael Chamoulaud,gchamoul,"Add autodocumentation for roles and library

This patch adds automation to add documentation for each Ansible roles
and custom modules for TripleO-Validations.

Patch-Inspired-By: tripleo-ansible-Team++
Change-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 218bef9cbe384a4d77b46b6f8b7cdd35387cfe3e)
"
openstack%2Ftripleo-validations~stable%2Fstein~I483d5e7b11376dc0141c506bf07ccd5876e4076e,openstack/tripleo-validations,stable/stein,,I483d5e7b11376dc0141c506bf07ccd5876e4076e,Adding new role automation with Ansible,MERGED,2019-08-05 10:26:09.000000000,2019-08-07 21:06:18.000000000,2019-08-07 21:06:18.000000000,249,0,0,674567,88641966d31d1d18bd11208214e0f58bae6f2cba,8,7,1,10,11491,Gael Chamoulaud,gchamoul,"Adding new role automation with Ansible

This patch adds a basic skeleton to create a new roles including
molecule structure.

Change-Id: I483d5e7b11376dc0141c506bf07ccd5876e4076e
Patch-Inspired-By: tripleo-ansible-Team++
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 9bbd3b26df331ad7307d8f0fe69894277eafdecc)
"
openstack%2Ftripleo-heat-templates~master~Ifa05dc0bce634ad06efa7f4658845c8d6d044818,openstack/tripleo-heat-templates,master,bp/reduce-deployment-resources,Ifa05dc0bce634ad06efa7f4658845c8d6d044818,Use ansible group_vars for service_configs hieradata,MERGED,2019-07-31 05:14:41.000000000,2019-08-07 21:06:16.000000000,2019-08-07 21:06:16.000000000,5,2,0,673730,5b2d2795a8aac2c34f846d1719bfe9d7e95f5c2d,30,5,3,2,8833,Rabi Mishra,rabi,"Use ansible group_vars for service_configs hieradata

Change-Id: Ifa05dc0bce634ad06efa7f4658845c8d6d044818
Depends-On: https://review.opendev.org/#/c/673727
"
openstack%2Ftripleo-common~master~I6f3e4fb279146a0f292818929092d1aeb1d3fced,openstack/tripleo-common,master,in-flight,I6f3e4fb279146a0f292818929092d1aeb1d3fced,Allows to disable in-flight validations,MERGED,2019-08-06 12:50:23.000000000,2019-08-07 21:06:14.000000000,2019-08-07 21:06:14.000000000,2,0,0,674801,04b106cb97aea0a5a09d6fcddc5e42a42a543e69,10,7,1,1,28223,Cedric Jeanneret,cjeanner,"Allows to disable in-flight validations

This patches adds the possibility to deactivate in-flight validations by
skipping the ""opendev-validation"" ansible tag.

It does it in a generic way, meaning we might pass other tags to skip.

Change-Id: I6f3e4fb279146a0f292818929092d1aeb1d3fced
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I0f38df69777340ebbdc5c419f121524dbc74cad7,openstack/tripleo-heat-templates,stable/queens,queens,I0f38df69777340ebbdc5c419f121524dbc74cad7,Add missing update_serial key to compute roles,MERGED,2019-08-06 16:08:01.000000000,2019-08-07 21:06:13.000000000,2019-08-07 21:06:13.000000000,24,1,0,674862,3a69cc589e5b4280d259fc49ff7cf342dc9f8cac,7,6,1,4,23811,Oliver Walsh,owalsh,"Add missing update_serial key to compute roles

I missed this the changes from I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5 when
rebasing I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c.

Add the missing key to the roles and add some validation to catch this.

Change-Id: I0f38df69777340ebbdc5c419f121524dbc74cad7
Related-bug: #1831617
Implements: blueprint nova-backend-per-role
(cherry picked from commit c2977e3c00c08eca8d5f52f7fb9c61abdf0ef28f)
(cherry picked from commit 7b72488d2ef12d99524f6926fca0efe310ff453e)
(cherry picked from commit d9dcd8d51677c0435fc74ac7f40a544fa4ac41af)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I0f38df69777340ebbdc5c419f121524dbc74cad7,openstack/tripleo-heat-templates,stable/rocky,rocky,I0f38df69777340ebbdc5c419f121524dbc74cad7,Add missing update_serial key to compute roles,MERGED,2019-08-06 16:05:21.000000000,2019-08-07 21:06:11.000000000,2019-08-07 21:06:11.000000000,24,1,0,674860,d9dcd8d51677c0435fc74ac7f40a544fa4ac41af,7,6,1,4,23811,Oliver Walsh,owalsh,"Add missing update_serial key to compute roles

I missed this the changes from I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5 when
rebasing I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c.

Add the missing key to the roles and add some validation to catch this.

Change-Id: I0f38df69777340ebbdc5c419f121524dbc74cad7
Related-bug: #1831617
Implements: blueprint nova-backend-per-role
(cherry picked from commit c2977e3c00c08eca8d5f52f7fb9c61abdf0ef28f)
(cherry picked from commit 7b72488d2ef12d99524f6926fca0efe310ff453e)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ib179e3bbc827cc438519b19e85bda4a9994376b9,openstack/tripleo-heat-templates,stable/stein,bug/1832090-stable/stein,Ib179e3bbc827cc438519b19e85bda4a9994376b9,keystone: drop duplicate -DFOREGROUND,MERGED,2019-08-05 08:46:39.000000000,2019-08-07 21:06:09.000000000,2019-08-07 21:06:09.000000000,1,1,0,674554,f4a3563bc3e599f54281d6b3d20feb406e0a6920,24,9,1,1,25613,Keigo Noha,knoha,"keystone: drop duplicate -DFOREGROUND

No need to specify this as kolla adds this arg automatically
when using kolla_start.

Change-Id: Ib179e3bbc827cc438519b19e85bda4a9994376b9
Closes-bug: #1832090
(cherry picked from commit 8eaac3026e54a057287301c8c844b54d2c310bc7)
"
openstack%2Ftripleo-common~stable%2Fstein~Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10,openstack/tripleo-common,stable/stein,ceph-ansible-inventory-stable/stein,Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10,Add ceph-ansible support to tripleo-ansible-inventory,MERGED,2019-08-06 14:52:22.000000000,2019-08-07 21:06:08.000000000,2019-08-07 21:06:08.000000000,29,2,0,674822,65ab6278f1515fa13252af2832cbf3287bbc9932,11,6,1,2,18002,John Fulton,fultonj,"Add ceph-ansible support to tripleo-ansible-inventory

The tripleo-ansible-inventory command produces an inventory
which works with TripleO but not with ceph-ansible. TripleO
ceph-ansible integration then creates its own inventory for
the ceph-ansible playbook run. This patch makes generating
a separate inventory for ceph-ansible no longer necessary.

TripleO services already map to the same inventory groups
used by ceph-ansible, e.g. ceph_clients:clients, ceph_mons:
mons, ceph_osds:osds, etc. This patch maps the names of the
TripleO inventory Ceph groups to the names of the inventory
groups used by ceph-ansible and creates a duplicate group
entry in the inventory, but with the names that ceph-ansible
expects.

Change-Id: Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10
(cherry picked from commit 3f48630791f5051b97afba1365d8f5defb797951)
"
openstack%2Fnova~master~Idc38751e1629947f5842651d99b1528f74247b42,openstack/nova,master,trivial,Idc38751e1629947f5842651d99b1528f74247b42,tox: Keeping going with docs,MERGED,2019-07-11 15:22:27.000000000,2019-08-07 20:39:56.000000000,2019-08-07 20:39:56.000000000,6,6,2,670332,81dff47a190bea2e550fb9fcc061d0a45e22a617,33,10,3,2,15334,Stephen Finucane,sfinucan,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Idc38751e1629947f5842651d99b1528f74247b42
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpython-swiftclient~stable%2Fstein~I3c6bca460ee5ff99195495a29e8b8bbf4ed804ff,openstack/python-swiftclient,stable/stein,,I3c6bca460ee5ff99195495a29e8b8bbf4ed804ff,Fix up stable gate,MERGED,2019-08-02 04:14:04.000000000,2019-08-07 20:39:52.000000000,2019-08-07 20:39:52.000000000,143,121,0,674180,172aa9016977a3b03f07da0350c6aa9ade1e55a0,8,2,2,12,15343,Tim Burke,tburke,"Fix up stable gate

This is a combination of three commits from master:

---

Isolate docs requirements

...since modern sphinx won't install on py27.

While we're at it, clean up some warnings and treat warnings as errors.

Also, fix up how we parse test configs so we can run func tests.

Related-Change: Id3c2ed87230c5918c18e2c01d086df8157f036b1
(cherry picked from commit 113eacf3b80f61d366b3e95b558b40f82ff728a4)

---

Drag forward prettytable in lower-constraints

Apparently version 0.7 got unpublished recently.

(cherry picked from commit 5bd66947fc3d8987d4b24d5119a346031004229e)

---

docs: Clean up formatting

(cherry-picked from commit 7563d9cb5642c85a31708fd863e2737f9d6c9419)

---

Change-Id: I3c6bca460ee5ff99195495a29e8b8bbf4ed804ff
"
openstack%2Fcinder~master~Ief0d14e3a0bbe8f8e013b2622c0a76717d7aa21b,openstack/cinder,master,91_endpoint,Ief0d14e3a0bbe8f8e013b2622c0a76717d7aa21b,PowerMax Driver - Create Volume from SG Payload Change,MERGED,2019-07-09 10:25:45.000000000,2019-08-07 20:39:49.000000000,2019-08-07 20:39:48.000000000,59,11,0,669835,f4cee575ba0e2f5d76f9248a5f53cb22b78d6f71,137,38,5,3,30165,Simon O'Donovan,odonos12,"PowerMax Driver - Create Volume from SG Payload Change

Change to REST payload passed when creating new volumes via
existing storage group.

Change-Id: Ief0d14e3a0bbe8f8e013b2622c0a76717d7aa21b
"
openstack%2Fplacement~master~I67d8091b464cd7b875b37766f52818a5a2faa780,openstack/placement,master,story/2005443,I67d8091b464cd7b875b37766f52818a5a2faa780,Implement a more complex nested-perfload topology,MERGED,2019-07-30 13:10:03.000000000,2019-08-07 20:39:44.000000000,2019-08-07 20:39:44.000000000,139,35,9,673513,07d7749cff47c142a48aaf892f115c3b11f1b383,20,5,3,3,11564,Chris Dent,chdent,"Implement a more complex nested-perfload topology

This changes gabbits/nested-perfload.yaml to create a tree of
providers based on one of the compute nodes in the NUMANetworkFixture
used in the functional tests. For the time being only one type of
compute node is created (of which there will be 1000 instances).
Room is left for future expansion as requirements expand.

The resulting hierarchy has 7 resource providers.

The allocation candidates query is:

GET /allocation_candidates?
    resources=DISK_GB:10&
    required=COMPUTE_VOLUME_MULTI_ATTACH&
    resources_COMPUTE=VCPU:1,MEMORY_MB:256&
    required_COMPUTE=CUSTOM_FOO&
    resources_FPGA=FPGA:1&
    group_policy=none&
    same_subtree=_COMPUTE,_FPGA

This is a step in the right direction but is not yet a complete
exercising of all the nested functionality. It is, however, more
complex than prior, notably testing 'same_subtree'. We should
continue to iterate to get it doing more.

Change-Id: I67d8091b464cd7b875b37766f52818a5a2faa780
Story: 2005443
Task: 35669
"
openstack%2Fnova~stable%2Fstein~I1c62a0a5be6c44176b5714af00cc181eb5437585,openstack/nova,stable/stein,bug/1764556,I1c62a0a5be6c44176b5714af00cc181eb5437585,Add functional regression test for bug 1778305,MERGED,2019-07-31 13:40:27.000000000,2019-08-07 20:39:36.000000000,2019-08-07 20:39:36.000000000,67,0,0,673813,06ae1ff21495a51d24376c457f51162e17ae3235,9,5,1,1,6873,Matt Riedemann,mriedem,"Add functional regression test for bug 1778305

This tests the scenario where an operator has upgraded from Ocata =>
Pike but has old, deleted services that share the same hostname with
currently existing, running services. The current behavior is that
ServiceTooOld is raised when we try to generate a UUID for the old,
deleted service while querying for a list of instances. After the bug
is fixed, we should be able to successfully query for a list of
instances.

Related-Bug: #1778305

Change-Id: I1c62a0a5be6c44176b5714af00cc181eb5437585
(cherry picked from commit 1d9aaef3d1c880b02d6b7c186e8de79cbaac9ae0)
"
openstack%2Fnova~stable%2Fstein~I4d60da26fcf0a77628d1fdf4e818884614fa4f02,openstack/nova,stable/stein,bug/1764556,I4d60da26fcf0a77628d1fdf4e818884614fa4f02,Add functional recreate test for bug 1764556,MERGED,2019-07-31 13:39:14.000000000,2019-08-07 20:39:29.000000000,2019-08-07 20:39:29.000000000,164,2,0,673812,44709cfb5cfa6a8a384eb391ad520de55b2fa247,19,9,1,2,6873,Matt Riedemann,mriedem,"Add functional recreate test for bug 1764556

This attempts to recreate the following scenario:

1) boot instance on ocata host where the compute service
   does not have a uuid
2) migrate instance
3) delete the ocata service (thus deleting the compute node)
4) start compute service with the same name
5) migrate instance to newly-created compute node
6) upgrade to pike where services.uuid data migration happens
7) list instances as admin to join on the services table

The failure occurs when listing instances because the deleted
service with the same name as the compute host that the instance
is running on gets pulled from the DB and the Service object
attempts to set a uuid on it, which fails since it's not using
a read_deleted=""yes"" context.

While working on this, the service_get_all_by_binary DB API
method had to be fixed to not hard-code read_deleted=""no"" since
the test needs to be able to read deleted services, which it can
control via its own context object (note that
RequestContext.read_deleted already defaults to ""no"" so the
hard-coding in the DB API is unnecessarily restrictive).

NOTE(mriedem): This backport needed to use the set_nodes/restore_nodes
methods on the fake virt module since change
I2cf2fcbaebc706f897ce5dfbff47d32117064f9c is not in Stein.

Change-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02
Related-Bug: #1764556
(cherry picked from commit 81f05f53d357a546c7f9a53cae6ef45b92e28bc1)
"
openstack%2Frequirements~master~I8fc85b8ee8239ea216702b2e261455a6f68707a2,openstack/requirements,master,bug/1837741,I8fc85b8ee8239ea216702b2e261455a6f68707a2,Update docutils with 0.15.1,ABANDONED,2019-07-24 14:15:58.000000000,2019-08-07 20:37:56.000000000,,1,1,0,672535,7a11aa1e0144aad3419299ec14b5173115748a88,10,2,2,1,18955,dharmendra,dharmendra,"Update docutils with 0.15.1

docutils 0.15 breaks the pep8 tests with error:
""ImportError: cannot import name nodes"" (as in mentioned bug).
Fix available in  0.15.1 , So updating version with the same.

Closes-Bug:#1837741

Change-Id: I8fc85b8ee8239ea216702b2e261455a6f68707a2
"
openstack%2Fnova~master~I11755edf2a48ce3bc8f6207df6e8535d50b9c89e,openstack/nova,master,bp/nova-cyborg-interaction,I11755edf2a48ce3bc8f6207df6e8535d50b9c89e,Define new exceptions related to device profiles and ARQs.,ABANDONED,2019-07-31 05:36:29.000000000,2019-08-07 20:34:43.000000000,,9,0,0,673733,3be8670d0189d14d417fa9beafd8bc05bcd548e5,25,13,2,1,21672,Sundar Nadathur,nsundar,"Define new exceptions related to device profiles and ARQs.

These exceptions are parametrized to log additional info.
Example:
    raise exception.AcceleratorRequestOpFailed(
        op='retrieve',
        param='instance %s' % instance_uuid)
should produce:
    Accelerator Request (ARQ): failed to retrieve for instance <uuid>

Change-Id: I11755edf2a48ce3bc8f6207df6e8535d50b9c89e
Blueprint: nova-cyborg-interaction
"
openstack%2Fopenstack-ansible-os_gnocchi~master~Ic126b9ad6fa4905514f356b98690e04965f4d93c,openstack/openstack-ansible-os_gnocchi,master,osa/service-refactor,Ic126b9ad6fa4905514f356b98690e04965f4d93c,service_setup: refactor service setup to a single file,MERGED,2019-07-12 08:15:54.000000000,2019-08-07 20:27:56.000000000,2019-08-07 20:27:55.000000000,164,61,0,670471,17a2175bdadef30e582ccbb5ee4a09f46f4b7c95,59,4,9,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: Ic126b9ad6fa4905514f356b98690e04965f4d93c
"
openstack%2Fcharm-aodh~master~I81ce8f745542625897f353f0b2560a695e74a3ea,openstack/charm-aodh,master,bug/1838696,I81ce8f745542625897f353f0b2560a695e74a3ea,"Revert back to using ""rabbit_use_ssl"" for ocata",MERGED,2019-08-05 13:57:40.000000000,2019-08-07 20:17:03.000000000,2019-08-07 20:17:03.000000000,0,0,0,674614,0367da08cf7342b467a9d8eef17a87e7bae370fe,24,6,1,1,11805,Corey Bryant,coreycb,"Revert back to using ""rabbit_use_ssl"" for ocata

Ensure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]
config section instead of ""ssl"" for Ocata, since ""ssl"" was not yet
introduced.

This is fixed by using section-oslo-messaging-rabbit for pike and
above rather than ocata and above, thus reverting back to using
section-rabbitmq-oslo for ocata.

Change-Id: I81ce8f745542625897f353f0b2560a695e74a3ea
Closes-Bug: #1838696
"
openstack%2Fos-brick~master~I9c2ff1de1f89fb49dd6c5a90679d5c4238d5476a,openstack/os-brick,master,,I9c2ff1de1f89fb49dd6c5a90679d5c4238d5476a,Fix bad argument to iscsiadm in iSCSI discovery,MERGED,2019-08-05 18:20:46.000000000,2019-08-07 20:08:45.000000000,2019-08-07 20:08:45.000000000,3,3,0,674669,81f26f822d66c71c29ea25fd4158ac41fc162964,37,21,2,2,17042,Chris M,pots,"Fix bad argument to iscsiadm in iSCSI discovery

Fix a call to _iscsiadm_update() in which a list was being passed as
the target_iqn connection property.  This property is used directly as
an argument to the iscsiadm -T option, so it must be a plain string.

Change-Id: I9c2ff1de1f89fb49dd6c5a90679d5c4238d5476a
Closes-bug: 1838820
"
openstack%2Foctavia~master~If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602,openstack/octavia,master,udp_mixed_ipv4_ipv6,If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602,Prevent UDP LBs to use different IP protocol versions in amphora driver,MERGED,2019-07-02 07:01:24.000000000,2019-08-07 19:53:00.000000000,2019-08-07 19:52:59.000000000,307,2,5,668617,56bb1e134d670901bdfe0526495f5794a55f139a,18,5,4,5,29244,Gregory Thiemonge,gthiemonge,"Prevent UDP LBs to use different IP protocol versions in amphora driver

The amphora doesn't support mixing IPv4 and IPv6 addresses for its
members and its VIP when using UDP load balancers.
This commit adds a validation step in the member_create and th e
member_batch_update functions of the amphora driver to ensure that IP
protocol versions are the same in a UDP load balancer.

Story: 2005876
Task: 33689

Change-Id: If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602
"
openstack%2Ftripleo-quickstart-extras~master~I6fa5ebee8a4cbcc65b78654072a6102b742d8b9c,openstack/tripleo-quickstart-extras,master,freeipa-firewall,I6fa5ebee8a4cbcc65b78654072a6102b742d8b9c,Configure supplemental node firewall for FreeIPA ports,ABANDONED,2019-06-08 09:07:58.000000000,2019-08-07 19:42:13.000000000,,31,0,2,664133,5d22be44d80d09bc580ce3b0190ce69818ffa3f6,8,6,1,1,9098,Nathan Kinder,nkinder,"Configure supplemental node firewall for FreeIPA ports

The supplemental node that is used for deploying FreeIPA does not
configure the firewall to allow traffic to its required ports.  This
has not been a problem thus far, but the supplemental node is being
expanded to also run Keycloak for the purpose of enabling Keystone
to use it for OpenID Connect or SAML based federation.  The ansible
role that will be used to deploy Keycloak (nkinder.keycloak) will
configure firewalld for the Keycloak ports, which results in blocking
access to any of the FreeIPA services by other nodes such as the
undercloud.

This patch configures firewalld on the supplemental node to allow
traffic into the FreeIPA ports when deploying FreeIPA.

Change-Id: I6fa5ebee8a4cbcc65b78654072a6102b742d8b9c
"
openstack%2Ftripleo-quickstart~master~Id38b54997d95c18096f5e5e6db7f150398275735,openstack/tripleo-quickstart,master,tls-vlan-isolation,Id38b54997d95c18096f5e5e6db7f150398275735,Use vlans for isolation for featureset039,ABANDONED,2019-07-19 19:38:04.000000000,2019-08-07 19:38:42.000000000,,2,5,0,671850,9248d6983084f9d43569aacc00dd16812f8c882d,4,5,1,1,9098,Nathan Kinder,nkinder,"Use vlans for isolation for featureset039

Using the ""multiple-nics"" network isolation type does not work
properly when using featureset039 in a OOOQ virthost environment.
This changes the network isolation type to use VLANs.  This also
requires using 192.168.23.0/24 as the external network to avoid
networking conflicts with the created VLANs.

Change-Id: Id38b54997d95c18096f5e5e6db7f150398275735
"
openstack%2Ftripleo-quickstart-extras~master~Idfd77716b0e9e49385b5ae952dc168821934676a,openstack/tripleo-quickstart-extras,master,ovb_freeipa,Idfd77716b0e9e49385b5ae952dc168821934676a,Add ability  to deploy FreeIPA on OVB,ABANDONED,2018-01-16 20:32:33.000000000,2019-08-07 19:34:43.000000000,,158,1,0,534435,7db9c1f6735e9ff80e01d390c5c895ba6295da7b,194,10,33,7,11589,Harry Rybacki,hrybacki,"Add ability  to deploy FreeIPA on OVB

Modifies existing OVB deployment flow to allow for FreeIPA role
execution on a supplemental node prior to undercloud installation.

Depends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd
Change-Id: Idfd77716b0e9e49385b5ae952dc168821934676a
"
openstack%2Ftripleo-ci~master~I607cf4e4536aca0204c52301c9d1667a0c9ae129,openstack/tripleo-ci,master,562327,I607cf4e4536aca0204c52301c9d1667a0c9ae129,DNM: Enable verbose output from toci_quickstart,ABANDONED,2018-04-18 16:04:26.000000000,2019-08-07 19:33:10.000000000,,1,0,0,562327,c0dabe3be4013c014caa549a9199a78ff35f4b2e,19,4,7,1,11589,Harry Rybacki,hrybacki,"DNM: Enable verbose output from toci_quickstart

Change-Id: I607cf4e4536aca0204c52301c9d1667a0c9ae129
"
openstack%2Ftripleo-ansible~master~I4fcc0858cac8f59d797d62f6de18c02e4b1819dc,openstack/tripleo-ansible,master,stop-pre-upgrade,I4fcc0858cac8f59d797d62f6de18c02e4b1819dc,Add playbook to stop containers,MERGED,2019-07-08 12:38:14.000000000,2019-08-07 19:29:41.000000000,2019-08-07 19:29:41.000000000,479,0,51,669650,27a4d63c8581db2514dc643ec0226fd1420e35c5,91,10,20,14,20775,Carlos Camacho,ccamacho,"Add playbook to stop containers

We need to stop several containers on the upgrades workflow.

This submission allows to reduce the duplicated code in THT.
It also handles the case in which we have podman as the CLI
but the containers running with docker.

Change-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc
"
openstack%2Fnetworking-odl~master~I48d03d3113ee8383beec1d35520de79e34a1fec4,openstack/networking-odl,master,,I48d03d3113ee8383beec1d35520de79e34a1fec4,Use extras for ceilometer dependency,MERGED,2018-09-14 13:59:42.000000000,2019-08-07 19:23:58.000000000,2019-08-07 19:23:58.000000000,23,3,3,602622,d2f7bc051694441e971e2d8aaf7519be97e26a7b,55,10,15,5,21883,Manuel Buil,mbuil,"Use extras for ceilometer dependency

Ceilometer should only be installed when opendaylight_v2 is defined as
network.statistics.drivers. It does not make sense that ceilometer needs
to get installed any time we install networking-odl

Based on:

https://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras

Taking as example:

https://github.com/openstack/oslo.messaging/blob/master/setup.cfg#L21-L29

Depends-On: https://review.openstack.org/611248/
Change-Id: I48d03d3113ee8383beec1d35520de79e34a1fec4
Signed-off-by: Manuel Buil <mbuil@suse.com>
"
openstack%2Fkolla~master~I0aa375ff4b26a3216839d69dff8e843584a3ecee,openstack/kolla,master,monasca-grafana-v4-2-0,I0aa375ff4b26a3216839d69dff8e843584a3ecee,Change monasca-grafana source branch to use grafana v4.2.0 with keystone changes,MERGED,2019-07-25 12:55:25.000000000,2019-08-07 19:12:15.000000000,2019-08-07 19:12:15.000000000,1,1,0,672717,438ef928f3d5ce3ebad5c471afa4d7f5df99bf7c,14,5,3,1,30438,Isaac Prior,Wasaac,"Change monasca-grafana source branch to use grafana v4.2.0
with keystone changes

Change-Id: I0aa375ff4b26a3216839d69dff8e843584a3ecee
"
openstack%2Frally-openstack~master~I942667988e2cd76a599ffb3d9773a757c6a512df,openstack/rally-openstack,master,zuul_jobs,I942667988e2cd76a599ffb3d9773a757c6a512df,[ci] Fail gracefuly in case of wrong path for task file,MERGED,2019-07-30 19:51:29.000000000,2019-08-07 19:11:54.000000000,2019-08-07 19:11:54.000000000,8,1,0,673671,432d11e19d5ca1dc4a65a96a3f8a7236025d8adb,22,2,5,2,9545,Andrey Kurilin,akurilin,"[ci] Fail gracefuly in case of wrong path for task file

Change-Id: I942667988e2cd76a599ffb3d9773a757c6a512df
"
openstack%2Fopenstack-ansible-os_cinder~stable%2Fstein~I0c8aed4d0608c1f117e1baa1f428875956159ffd,openstack/openstack-ansible-os_cinder,stable/stein,bug/1837403-stable/stein,I0c8aed4d0608c1f117e1baa1f428875956159ffd,rbd: start using active-active,MERGED,2019-08-05 13:45:05.000000000,2019-08-07 19:01:34.000000000,2019-08-07 19:01:34.000000000,16,3,0,674610,918b9077c816be5fc056637301265e0be2f245ab,7,3,1,2,1004,Mohammed Naser,mnaser,"rbd: start using active-active

This patch drops the hacky workaround of using backend_host which
is not recommended by the Cinder team and instead uses active-active
RBD which has been implemented since Rocky.

Closes-Bug: #1837403
Change-Id: I0c8aed4d0608c1f117e1baa1f428875956159ffd
(cherry picked from commit c148d77e29af6faebc1c9b012ae08aed447cd179)
"
openstack%2Fnova~master~Ic1f4400aa30686b467d0dbef7f7dbd24b0124c71,openstack/nova,master,make-global_request_id-useful,Ic1f4400aa30686b467d0dbef7f7dbd24b0124c71,WIP: Correct global_request_id sent to Placement,NEW,2019-08-01 20:29:01.000000000,2019-08-07 18:32:10.000000000,,175,204,4,674129,ff68d681fba8dd8301ada3d3c17dbdd3b661e0f9,52,16,5,2,14070,Eric Fried,efried,"WIP: Correct global_request_id sent to Placement

SchedulerReportClient methods invoke Placement APIs with the
X-Openstack-Request-Id header (via the global_request_id kwarg to SDK
Proxy methods) so that log entries on both sides can be correlated as
being associated with a single workflow.

Previously, SchedulerReportClient was using context.global_id of the
context passed in from the caller. This was (always? usually? often?) a
different RequestContext than the one in oslo.context's
threadlocal storage, which is the one oslo.log uses for logging. This
meant that the X-Openstack-Request-Id being sent to Placement was
worthless because it didn't show up *anywhere* in the logs on the Nova
side.

At some point to work around this problem a method
get_placement_request_id was written to extract the
X-Openstack-Request-Id from Placement's Response, and that request ID
was then being prepended to log messages. Since that value corresponded
to the Placement request's (not-global) request_id, which was being
logged properly on the Placement side, it provided a way to correlate
the log entries as desired.

Since [1] we *should* be properly overwriting or *not* overwriting the
thread's RequestContext, and properly copying forward its
global_request_id regardless, so it should now be safe and effective to
use context.global_id for X-Openstack-Request-Id. However, I'm still not
confident this is working properly, so what this commit does is to
retrieve the global_id from the context in oslo.context's threadlocal
storage and compare it to context.global_id, issuing error logs if it
(the threadlocal one) is either unset or different from the one we
should be using. In the latter case, we'll use the threadlocal one so
that it's actually useful, but hopefully we should be able to get rid of
this.

[1] I47b48f661f4b3ebb1865357bce39610c4b26aeec

Change-Id: Ic1f4400aa30686b467d0dbef7f7dbd24b0124c71
"
openstack%2Fnova~master~I47b48f661f4b3ebb1865357bce39610c4b26aeec,openstack/nova,master,make-global_request_id-useful,I47b48f661f4b3ebb1865357bce39610c4b26aeec,WIP: Always set a global_request_id in RequestContext,NEW,2019-08-01 22:12:11.000000000,2019-08-07 18:30:44.000000000,,54,25,2,674138,672e67d7a94549395f309112ac9fd59c4549da1b,53,13,6,5,14070,Eric Fried,efried,"WIP: Always set a global_request_id in RequestContext

Change-Id: I47b48f661f4b3ebb1865357bce39610c4b26aeec
"
openstack%2Foctavia~master~Iaa34db6cb1dfed98e96a585c5d105e263c7efa65,openstack/octavia,master,udp_states,Iaa34db6cb1dfed98e96a585c5d105e263c7efa65,Fixed down server issue after reloading keepalived,MERGED,2019-05-24 14:43:22.000000000,2019-08-07 17:59:23.000000000,2019-08-07 17:59:23.000000000,20,0,2,661310,0a9f587015176723768a8a861265fda797c5d52e,32,5,10,3,29244,Gregory Thiemonge,gthiemonge,"Fixed down server issue after reloading keepalived

When removing a UDP health monitor, keepalived is reloaded with a
configuration without any checkers.
But if keepalived has previously detected a down server, the state of
the server is unchanged and it will never be added to the list of IPVS
servers.

Restarting keepalived on configuration change works around this issue.

This issue is fixed in keepalived (>=2.0.14):
https://github.com/acassen/keepalived/issues/1163

Story: 2005774
Task: 33491

Change-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65
"
openstack%2Fkayobe~master~I97827a9cf0056b5341811c37dc996fd6b69f2f1f,openstack/kayobe,master,story/2006050,I97827a9cf0056b5341811c37dc996fd6b69f2f1f,"Revert ""Workaround: stop bifrost services before seed upgrade""",MERGED,2019-07-03 12:25:08.000000000,2019-08-07 17:52:50.000000000,2019-08-07 17:52:50.000000000,0,14,0,668888,0fe787ee081f6ccc8f19297c33168f1ff6d81598,25,5,5,1,14826,Mark Goddard,mgoddard,"Revert ""Workaround: stop bifrost services before seed upgrade""

This reverts commit 77e8044a406b0cfeef377e0155b2fbcb5f05a67e.

Change-Id: I97827a9cf0056b5341811c37dc996fd6b69f2f1f
Depends-On: https://review.opendev.org/667630
"
openstack%2Foctavia~master~I75cde3ff820f085aebbdffd1e40c5ff40f16835d,openstack/octavia,master,udp_states,I75cde3ff820f085aebbdffd1e40c5ff40f16835d,Fixed pool and members status with UDP loadbalancers,MERGED,2019-05-24 14:43:22.000000000,2019-08-07 17:52:36.000000000,2019-08-07 17:52:36.000000000,128,19,0,661309,4decb6d53c728ba0e7b15c6f46a9c2b5251b4088,32,5,8,4,29244,Gregory Thiemonge,gthiemonge,"Fixed pool and members status with UDP loadbalancers

This commit fixes pool and members status when using UDP loadbalancers.

Story: 2005736
Task: 33394

Change-Id: I75cde3ff820f085aebbdffd1e40c5ff40f16835d
"
openstack%2Fkayobe~master~If0fe1115f01738254a61c0f5460548b0d6ae6b9a,openstack/kayobe,master,story/2006050,If0fe1115f01738254a61c0f5460548b0d6ae6b9a,Use new kolla-ansible upgrade-bifrost command,MERGED,2019-06-26 14:26:11.000000000,2019-08-07 17:48:19.000000000,2019-08-07 17:48:19.000000000,2,3,0,667632,cd97a9d721bc8d9536f7b24bce09fa07487b25a8,33,5,5,2,14826,Mark Goddard,mgoddard,"Use new kolla-ansible upgrade-bifrost command

This command slightly modifies the deploy operation to first stop the
bifrost services and container if they are running.

Change-Id: If0fe1115f01738254a61c0f5460548b0d6ae6b9a
Depends-On: https://review.opendev.org/667630
Story: 2006050
Task: 34743
"
openstack%2Fplacement~master~Ic39d9c65c1c15401da81725491090149d3c430ec,openstack/placement,master,trivial,Ic39d9c65c1c15401da81725491090149d3c430ec,Trivial: Remove duplicate usage of db context,MERGED,2019-08-07 08:49:15.000000000,2019-08-07 17:41:17.000000000,2019-08-07 17:41:17.000000000,0,1,0,675060,d6c151f277c061506f450594b5b13ad16a2e9672,7,3,1,1,25625,Tetsuro Nakamura,tetsuro0907,"Trivial: Remove duplicate usage of db context

The change to use cache in Trait object [1] moved the raw database
query to deeper layer from ids_from_names() function, but it was
still decorated with the db context manager, so this patch removes it.

[1] Ia19ea2b4ecdde25323579edf60ad6269d05e75a2

Change-Id: Ic39d9c65c1c15401da81725491090149d3c430ec
"
openstack%2Ftempest~master~I58bdb453052286a152a008bc1a51cc9eb34ce821,openstack/tempest,master,bug/1763620,I58bdb453052286a152a008bc1a51cc9eb34ce821,"Skip some tests in ""network.admin.test_ports"" if nova is not enabled",MERGED,2018-04-13 09:01:04.000000000,2019-08-07 17:41:16.000000000,2019-08-07 17:41:16.000000000,10,2,15,561166,11f5fbedc36ae0a470deec3ba2820c9c66409ce3,54,13,7,1,22078,Damon Li,likai,"Skip some tests in ""network.admin.test_ports"" if nova is not enabled

Some tests in ""tempest.api.network.admin.test_ports"" need to enable nova
service, skip them if nova service is not enabled.

Change-Id: I58bdb453052286a152a008bc1a51cc9eb34ce821
Closes-Bug: #1763620
"
openstack%2Ftripleo-heat-templates~master~I6f71ce62b1c5f3de175d7a50ee7229d3047a379a,openstack/tripleo-heat-templates,master,neutron,I6f71ce62b1c5f3de175d7a50ee7229d3047a379a,neutron-api: remove /usr/share/neutron mount,MERGED,2018-08-23 16:54:18.000000000,2019-08-07 17:35:58.000000000,2018-08-25 17:32:04.000000000,0,1,4,595834,191841339bf67b73172250bfcf7d4eed4ffa809b,28,8,4,1,3153,Emilien Macchi,emilienm,"neutron-api: remove /usr/share/neutron mount

We don't need to mount /usr/share/neutron, the directory is provided in
openstack-neutron rpm, so we don't need to manage this directory. It
should be in all neutron containers, including the neutron_db_sync.

Change-Id: I6f71ce62b1c5f3de175d7a50ee7229d3047a379a
"
openstack%2Fnova~master~I3c140f58e90784ffc3c10f8402f4bff5a86b44b6,openstack/nova,master,,I3c140f58e90784ffc3c10f8402f4bff5a86b44b6,Added Cyborg accelerator external events to Nova,ABANDONED,2019-07-10 03:36:05.000000000,2019-08-07 17:29:10.000000000,,49,1,1,669975,ac842de7d7bc4afb92c2aeaefd38b24d0f3ccc60,10,9,1,4,27458,Li Liu,liliu,"Added Cyborg accelerator external events to Nova

Change-Id: I3c140f58e90784ffc3c10f8402f4bff5a86b44b6
"
openstack%2Fproject-config~master~I851a4b7ac6dc88a4a7d806530643a16a9ed4fa5b,openstack/project-config,master,add-monitoring,I851a4b7ac6dc88a4a7d806530643a16a9ed4fa5b,projects: add vexxhost/ansible-role-openmanage,MERGED,2019-08-07 16:48:01.000000000,2019-08-07 17:26:42.000000000,2019-08-07 17:26:42.000000000,4,0,0,675154,6e1ffe20ec210840f44ebc6906c7d8a8acbf9c1e,7,3,1,2,1004,Mohammed Naser,mnaser,"projects: add vexxhost/ansible-role-openmanage

This will be a role that is used to deploy the OpenManage tools
for systems that use Dell hardware.

Change-Id: I851a4b7ac6dc88a4a7d806530643a16a9ed4fa5b
"
openstack%2Fironic-python-agent~master~I2bb595ef29abdc98bd887bdf41c3c7f64cc3a7e6,openstack/ironic-python-agent,master,zram,I2bb595ef29abdc98bd887bdf41c3c7f64cc3a7e6,Do not try to use zRAM devices for anything,MERGED,2019-08-07 14:13:21.000000000,2019-08-07 17:21:20.000000000,2019-08-07 17:21:20.000000000,12,1,0,675126,88796a8936ca99f8eb03a483a02ee6b62139a60e,8,4,1,3,10239,Dmitry Tantsur,dtantsur,"Do not try to use zRAM devices for anything

These devices are mapped into memory, but nonetheless can appear
in lsblk output. Ignore them explicitly.

Change-Id: I2bb595ef29abdc98bd887bdf41c3c7f64cc3a7e6
"
openstack%2Fcharm-keystone~master~Ic5ed6cf354d5545b9e554e205a048955a381e0f5,openstack/charm-keystone,master,bug/1839021,Ic5ed6cf354d5545b9e554e205a048955a381e0f5,Ensure that keystone service is paused if needed on series upgrade,MERGED,2019-08-07 14:13:37.000000000,2019-08-07 17:06:39.000000000,2019-08-07 17:06:38.000000000,6,0,0,675127,21d212cb2739a3ff1b08d8d96916dfd638f06ffe,10,6,1,1,20870,Alex Kavanagh,ajkavanagh,"Ensure that keystone service is paused if needed on series upgrade

During series upgrade, the keystone packages get re-installed as the
underlying Linux has been upgraded and new package sets are updated and
then pulled in.  For trusty->xenial this means that keystone.service
gets enabled which then breaks haproxy.  On install, on xenial+, the
keystone.service is disabled in the install hook.  This just replicates
this in the series-upgrade hook.

Change-Id: Ic5ed6cf354d5545b9e554e205a048955a381e0f5
Closed-Bug: #1839021
"
openstack%2Fopenstack-ansible-os_nova~master~I01df855d8b9255d24efe16ab053ffa491fda351f,openstack/openstack-ansible-os_nova,master,use-integrated-repo-for-all-tests,I01df855d8b9255d24efe16ab053ffa491fda351f,Use integrated repo for nova-lxd job,MERGED,2019-05-11 05:19:21.000000000,2019-08-07 17:02:43.000000000,2019-05-14 11:34:34.000000000,34,9,0,658523,8f55c68d8371a50625c3fdb5b82cbeb62f2808c4,58,4,12,5,17799,Logan V,Logan2211,"Use integrated repo for nova-lxd job

Depends-On: I8ec359f5c65c957064a39b75b9c3ea3d3a9d9e89
Depends-On: I2d49b6802d8cf99f6d7ac74ae4ce0ab8f6d1c7a5
Depends-On: I0e77423a1f28d9a53215ae68c1f9f3e2af00f340
Depends-On: I621660f39c4e51db4b8063feee782aae5cd16840
Change-Id: I01df855d8b9255d24efe16ab053ffa491fda351f
"
openstack%2Fkayobe~stable%2Fqueens~I8a69ccd5192c0c5beeb7efb36c09b2c4643ef150,openstack/kayobe,stable/queens,story/2004426-stable/queens,I8a69ccd5192c0c5beeb7efb36c09b2c4643ef150,Generate bifrost hostvars prior to provisioning,MERGED,2019-08-04 17:56:11.000000000,2019-08-07 16:55:31.000000000,2019-08-07 16:55:31.000000000,94,7,0,674506,58cfbda7ab8f1ab063148520512b62380d47a1fb,7,3,1,2,15197,Pierre Riteau,priteau,"Generate bifrost hostvars prior to provisioning

The 'kayobe overcloud inventory discover' command can be used to discover an
overcloud inventory from the nodes in the ironic service running on the seed.
This works well for cases where the nodes have been autodiscovered, and as such
do not exist in the kayobe inventory.

There is another use case where overcloud nodes already exist in the kayobe
inventory. In that case we don't want to run the above command, as it will
create duplicate hosts in the inventory. We do however want the part of that
command that generates bifrost host variables for the overcloud nodes.

This change moves the generation of bifrost host variables to the 'kayobe
overcloud provision' and 'kayobe overcloud hardware inspect' commands,
which are used in each of these cases.

Conflicts:
	kayobe/tests/unit/cli/test_commands.py

Change-Id: I8a69ccd5192c0c5beeb7efb36c09b2c4643ef150
Story: 2004426
Task: 28079
(cherry picked from commit bff985330af53f65b2ff2328acb76a835866387b)
"
openstack%2Fgovernance~master~I4dd637d0db02b7ecbd9c2d2a63827f11afa93efb,openstack/governance,master,documentation-change,I4dd637d0db02b7ecbd9c2d2a63827f11afa93efb,remove Tony's name as naming poll coordinator,MERGED,2019-08-04 14:14:24.000000000,2019-08-07 16:49:02.000000000,2019-08-07 16:49:02.000000000,1,1,2,674494,c391f597f8339d3a3b741a79899211893084842d,23,10,2,1,2472,Doug Hellmann,doug-hellmann,"remove Tony's name as naming poll coordinator

Tony has indicated in the review for
https://review.opendev.org/#/c/674465/ that he would prefer to have
his name removed as polling coordinator.

Add Rico, who volunteer to be naming poll coordinator

Change-Id: I4dd637d0db02b7ecbd9c2d2a63827f11afa93efb
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fopenstack-ansible-plugins~master~I0c2815c4257298ed60d44e48cbbfe7cd405e5955,openstack/openstack-ansible-plugins,master,delegation-tests,I0c2815c4257298ed60d44e48cbbfe7cd405e5955,Fix regression with container_name var,NEW,2017-07-05 13:53:11.000000000,2019-08-07 16:45:02.000000000,,30,1,0,480591,ddae6eacd4d45ea95afe86d38283ce2c94626353,11,1,3,3,17799,Logan V,Logan2211,"Fix regression with container_name var

As of I56d8afddbccf01f2944d2fdd505b601a4b048374 the container_name
var is no longer referenced by the strategy plugin to identify the
name of the LXC container on the physical host. Instead, only
inventory_hostname is referenced.

The regression breaks cases where the container_name may not match
the inventory_hostname var. This fix repairs the strategy plugin to
again reference the container_name var, and performs the required
templating lookup to ensure container_name=""{{ inventory_hostname }}""
is resolved properly.

Change-Id: I0c2815c4257298ed60d44e48cbbfe7cd405e5955
"
openstack%2Fcharm-nova-compute~master~I29421ce240a3810d945b76e662a743b4b8497ac8,openstack/charm-nova-compute,master,bug/1835045,I29421ce240a3810d945b76e662a743b4b8497ac8,Reverting changes from commit 69a6fde,MERGED,2019-08-07 09:36:41.000000000,2019-08-07 16:30:17.000000000,2019-08-07 16:30:17.000000000,0,15,1,675069,c0607560ba1b7c98d1aad4351240477973f04202,17,4,3,2,6737,Edward Hope-Morley,hopem,"Reverting changes from commit 69a6fde

This patch reverts the non-charmhelpers changes from
the patch landed for bug 1835045 that is causing a
regression whereby new deployments that relate to
ceph-mon are prevented from sending broker requests
to do e.g. create the pool needed by
libvirt-image-backend=rbd.

Change-Id: I29421ce240a3810d945b76e662a743b4b8497ac8
Related-Bug: 1835045
Closes-Bug: 1839297
"
openstack%2Fheat~master~I7574a273e1c0511c56370b2203694dc52d963afc,openstack/heat,master,,I7574a273e1c0511c56370b2203694dc52d963afc,Change HOST_IP to SERVICE_HOST,MERGED,2019-07-31 09:30:46.000000000,2019-08-07 16:29:42.000000000,2019-08-07 16:29:42.000000000,2,2,1,673777,47a3004de49a63f278f4996994dc31523846948f,15,11,3,1,14107,zhurong,zhurong,"Change HOST_IP to SERVICE_HOST

HOST_IP is only for ipv4,
SERVICE_HOST can fit for ipv4 and ipv6.
IPV6 log can check here:
http://logs.openstack.org/51/673751/1/check/murano-tempest-api-ipv6-only/f947d0e/job-output.txt.gz#_2019-07-31_08_54_25_077300

Change-Id: I7574a273e1c0511c56370b2203694dc52d963afc
"
openstack%2Fcinder~master~Ib64c86fa5e3791dfa5386b58b468a91f1a190de6,openstack/cinder,master,,Ib64c86fa5e3791dfa5386b58b468a91f1a190de6,solidfire: Enable SSL with requests,MERGED,2018-08-02 19:44:39.000000000,2019-08-07 16:29:00.000000000,2018-08-07 15:40:34.000000000,2,1,1,588365,61eeb626e67942f77f41e8589c2dd1f9a6c75345,42,25,2,1,24,Chuck Short,zulcss,"solidfire: Enable SSL with requests

SSL requests are not being verified when contacting
the REST API. Use the driver_ssl_cert_verify
config option to turn on or off. Defaults to False.

Change-Id: Ib64c86fa5e3791dfa5386b58b468a91f1a190de6
Signed-off-by: Chuck Short <chucks@redhat.com>
"
openstack%2Fheat~master~Ie4071c904fcf4756bc840beb98ebe80e2b838423,openstack/heat,master,add-server-base-auth-url,Ie4071c904fcf4756bc840beb98ebe80e2b838423,Add dedicated auth endpoint config for virtual machines,ABANDONED,2019-03-12 16:22:23.000000000,2019-08-07 16:15:05.000000000,,44,5,14,642812,5672738156f127ecf30c01e72d604bfb586e3df7,24,6,7,5,29865,Georgina Shippey,gshippey,"Add dedicated auth endpoint config for virtual machines

This addresses some of the issues discussed here:
http://lists.openstack.org/pipermail/openstack-discuss/2019-February/002925.html

Clarification of the keystone endpoint handling can be in a
different patch. This leaves the current behavior unaffected.

Change-Id: Ie4071c904fcf4756bc840beb98ebe80e2b838423
"
openstack%2Fplacement~master~I121e5ac6e8202467bf72d9de7ac452d5b5804da1,openstack/placement,master,optimize-_build_provider_summaries,I121e5ac6e8202467bf72d9de7ac452d5b5804da1,Use expanding bindparam in extend_usages_by_provider_tree,MERGED,2019-08-05 16:21:47.000000000,2019-08-07 16:11:49.000000000,2019-08-07 16:11:49.000000000,5,2,1,674647,5883c794f969b8fda14078137704b4dd34919ab0,10,3,2,1,11564,Chris Dent,chdent,"Use expanding bindparam in extend_usages_by_provider_tree

When doing a non-nested GET /allocation_candidates query, the
`in_` handling in extend_usages_by_provider_tree is a measurable
contributor to CPU time, so we lighten that somewhat with an
expanding bindparam, as done early in provider_ids_from_rp_ids [1]

[1] Ic4e0cdd87f8f2d76b921059ac4bf16a838913abf

Change-Id: I121e5ac6e8202467bf72d9de7ac452d5b5804da1
"
openstack%2Fplacement~master~I202f6114648a69a3bf54fe2c3a67b5cab55e8925,openstack/placement,master,optimize-_build_provider_summaries,I202f6114648a69a3bf54fe2c3a67b5cab55e8925,Make _get_trees_with_traits return a set,MERGED,2019-08-05 15:03:08.000000000,2019-08-07 16:11:48.000000000,2019-08-07 16:11:48.000000000,1,1,3,674630,51e4f4195e8a00f131afb025adb96afaaea5472f,14,4,3,1,11564,Chris Dent,chdent,"Make _get_trees_with_traits return a set

The docstring says it returns a set, but it is a list. The output
is immediately used for membership checking in filter_by_rp. Sets
are better for membership checking, so we'd like this to be a set.

Change-Id: I202f6114648a69a3bf54fe2c3a67b5cab55e8925
"
openstack%2Fplacement~master~Ie4809abc31212711b96f69e5f291104ae761059e,openstack/placement,master,story/2005443,Ie4809abc31212711b96f69e5f291104ae761059e,Run nested-perfload parallel correctly,MERGED,2019-07-30 12:49:26.000000000,2019-08-07 16:11:45.000000000,2019-08-07 16:11:45.000000000,3,3,7,673505,7464ff6e24c34e412ec3def799edbc9dedd3a2ef,25,5,3,1,11564,Chris Dent,chdent,"Run nested-perfload parallel correctly

While experimenting with expanding the nested perfload tests,
it became clear that the call to parallel was not working as
expected because the documents were misread. With help from
Tetsuro the correct incantation was determined so that we
use 50% of available CPUs.

This should leave some space for the database and the web
server.

Subsequent patches will add a more complicated nested structure.

Co-Authored-By: Tetsuro Nakamura <tetsuro.nakamura.bc@hco.ntt.co.jp>
Change-Id: Ie4809abc31212711b96f69e5f291104ae761059e
"
openstack%2Fnova~stable%2Fstein~I7d761dc269f8c12c4a76ba14201ccdd82a04d01d,openstack/nova,stable/stein,bug/1195361,I7d761dc269f8c12c4a76ba14201ccdd82a04d01d,"Revert ""[libvirt] Filter hypervisor_type by virt_type""",MERGED,2019-07-25 13:31:38.000000000,2019-08-07 16:11:41.000000000,2019-08-07 16:11:41.000000000,4,26,0,672723,45f290e36c797a271a20a3055ee866fa5b7997a8,15,8,1,2,6873,Matt Riedemann,mriedem,"Revert ""[libvirt] Filter hypervisor_type by virt_type""

This reverts commit eaa766ee2093c24fd61c61e52f46bdd9ff9e93d2.

The change regressed the behavior of the ImagePropertiesFilter
because existing images with hypervisor_type=QEMU, which would
match what is reported for hypervisor_type in the API for both
qemu/kvm virt_type nodes, will now get filtered out for hosts
where the configured virt_type is kvm.

Note that both the ImagePropertiesFilter docs [1] and
hypervisor_type image property docs [2] mention that for both
qemu and kvm nodes the value to use is qemu since that is the
actual hypervisor.

Presumably the change was made for a deployment with some
hosts configured with virt_type=qemu and other hosts configured
with virt_type=kvm and there were separate images with
hypervisor_type=qemu and hypervisor_type=kvm to match those hosts
for scheduler filter, but as noted this was a regression in
behavior for something that could have been achieved using
host aggregates and the AggregateImagePropertiesIsolation filter.

We could even use traits and a placement request pre-filter these
days for a more modern approach.

Also, since the API continues to report hypervisor_type=QEMU it's
doubly confusing for operators to have to configure their images
to use hypervisor_type=kvm (despite the docs).

And finally, any existing instances which have hypervisor_type=qemu
embedded in their RequestSpec can no longer be migrated to kvm
hosts without manually fixing the entries in the request_specs
table in the API DB.

Note that this is not a clean revert because of change
I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4 made in Stein.

[1] https://docs.openstack.org/nova/latest/admin/configuration/schedulers.html#imagepropertiesfilter
[2] https://docs.openstack.org/glance/latest/admin/useful-image-properties.html

Change-Id: I7d761dc269f8c12c4a76ba14201ccdd82a04d01d
Closes-Bug: #1837756
(cherry picked from commit 743dc083bb5628554d9abfa82665738233ed47e9)
"
openstack%2Fnova~stable%2Fstein~I5e0a43ec59341c9ac62f89105ddf82c4a014df81,openstack/nova,stable/stein,bug/1837877,I5e0a43ec59341c9ac62f89105ddf82c4a014df81,Replace non-nova server fault message,MERGED,2019-08-06 15:05:14.000000000,2019-08-07 16:11:34.000000000,2019-08-07 16:11:34.000000000,184,16,0,674828,67651881163b75eb1983eaf753471a91ecec35eb,15,5,1,4,6873,Matt Riedemann,mriedem,"Replace non-nova server fault message

The server fault ""message"" is always shown in the API
server response, regardless of policy or user role.

The fault ""details"" are only shown to users with the
admin role when the fault code is 500.

The problem with this is for non-nova exceptions, the
fault message is a string-ified version of the exception
(see nova.compute.utils.exception_to_dict) which can
contain sensitive information which the non-admin owner
of the server can see.

This change adds a functional test to recreate the issue
and a change to exception_to_dict which for the non-nova
case changes the fault message by simply storing the
exception type class name. Admins can still see the fault
traceback in the ""details"" key of the fault dict in the
server API response. Note that _get_fault_details is
changed so that the details also includes the exception
value which is what used to be in the fault message for
non-nova exceptions. This is necessary so admins can still
get the exception message with the traceback details.

Note that nova exceptions with a %(reason)s replacement
variable could potentially be leaking sensitive details as
well but those would need to be cleaned up on a case-by-case
basis since we don't want to change the behavior of all
fault messages otherwise users might not see information
like NoValidHost when their server goes to ERROR status
during scheduling.

SecurityImpact: This change contains a fix for CVE-2019-14433.

Change-Id: I5e0a43ec59341c9ac62f89105ddf82c4a014df81
Closes-Bug: #1837877
(cherry picked from commit 298b337a16c0d10916b4431c436d19b3d6f5360e)
"
openstack%2Fvirtualbmc~master~Ic5aed1275984f35f541c3be2b229945c8ec4558a,openstack/virtualbmc,master,bindep,Ic5aed1275984f35f541c3be2b229945c8ec4558a,Add a bindep file,MERGED,2019-08-07 10:18:08.000000000,2019-08-07 16:11:11.000000000,2019-08-07 16:11:11.000000000,10,0,0,675078,d4f5312a5658d1a161893c9a2a97c36c4ad3af8f,9,3,3,1,10239,Dmitry Tantsur,dtantsur,"Add a bindep file

Change-Id: Ic5aed1275984f35f541c3be2b229945c8ec4558a
"
openstack%2Ftripleo-heat-templates~master~I399098bf734aa3b2862e1713d4b1f429d180afbc,openstack/tripleo-heat-templates,master,pcmkremote_restart2,I399098bf734aa3b2862e1713d4b1f429d180afbc,Fix pcmk remote podman bundle restarts,MERGED,2019-07-28 09:27:29.000000000,2019-08-07 16:08:59.000000000,2019-08-07 15:34:33.000000000,94,26,1,673164,bdf742d05f90a57fdd08e73409d417bfcffdb8ab,41,7,6,10,20172,Michele Baldessari,michele,"Fix pcmk remote podman bundle restarts

We blindly bind mount /etc/corosync/corosync.conf from the host to the
container as that is required by pcs when running on pacemaker nodes
when using pcs 0.9/pcmk 1.x.

When running on a pacemaker remote node, this will actually barf on it
because that file does not exist on a remote node:

        ""stderr: error checking path \""/etc/corosync/corosync.conf\"": stat /etc/corosync/corosync.conf: no such file or directory"",

This is not an issue with docker because docker simply creates non
existing host bind mount points.
So we should not bind mount this when we run podman because podman and
HA only works on RHEL/CentOS 8 and it is not required there.

Tested this on an Stein deployment with RHEL8 as OS and I correctly
get a composable HA environment using pacemaker remote:
overcloud-database-0    (ocf::pacemaker:remote):        Started overcloud-controller-0
overcloud-database-1    (ocf::pacemaker:remote):        Started overcloud-controller-1
overcloud-database-2    (ocf::pacemaker:remote):        Started overcloud-controller-2
overcloud-messaging-0   (ocf::pacemaker:remote):        Started overcloud-controller-0
overcloud-messaging-1   (ocf::pacemaker:remote):        Started overcloud-controller-1
overcloud-messaging-2   (ocf::pacemaker:remote):        Started overcloud-controller-2
 podman container set: galera-bundle [192.168.24.1:8787/rhosp15/openstack-mariadb:pcmklatest]
   galera-bundle-0      (ocf::heartbeat:galera):        Master overcloud-database-0
   galera-bundle-1      (ocf::heartbeat:galera):        Master overcloud-database-1
   galera-bundle-2      (ocf::heartbeat:galera):        Master overcloud-database-2
 podman container set: redis-bundle [192.168.24.1:8787/rhosp15/openstack-redis:pcmklatest]
   redis-bundle-0       (ocf::heartbeat:redis): Master overcloud-controller-0
   redis-bundle-1       (ocf::heartbeat:redis): Slave overcloud-controller-1
   redis-bundle-2       (ocf::heartbeat:redis): Slave overcloud-controller-2
 podman container set: rabbitmq-bundle [192.168.24.1:8787/rhosp15/openstack-rabbitmq:pcmklatest]
   rabbitmq-bundle-0    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-messaging-0
   rabbitmq-bundle-1    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-messaging-1
   rabbitmq-bundle-2    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-messaging-2
ip-192.168.24.12        (ocf::heartbeat:IPaddr2):       Started overcloud-controller-0
ip-10.0.0.106   (ocf::heartbeat:IPaddr2):       Started overcloud-controller-1
ip-172.17.1.68  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-2
ip-172.17.1.89  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-0
ip-172.17.3.23  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-1
ip-172.17.4.41  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-2
 podman container set: haproxy-bundle [192.168.24.1:8787/rhosp15/openstack-haproxy:pcmklatest]
   haproxy-bundle-podman-0      (ocf::heartbeat:podman):        Started overcloud-controller-0
   haproxy-bundle-podman-1      (ocf::heartbeat:podman):        Started overcloud-controller-1
   haproxy-bundle-podman-2      (ocf::heartbeat:podman):        Started overcloud-controller-2
 podman container set: ovn-dbs-bundle [192.168.24.1:8787/rhosp15/openstack-ovn-northd:pcmklatest]
   ovn-dbs-bundle-0     (ocf::ovn:ovndb-servers):       Master overcloud-controller-0
   ovn-dbs-bundle-1     (ocf::ovn:ovndb-servers):       Slave overcloud-controller-1
   ovn-dbs-bundle-2     (ocf::ovn:ovndb-servers):       Slave overcloud-controller-2
stonith-fence_ipmilan-5254008aa119      (stonith:fence_ipmilan):        Started overcloud-controller-0
stonith-fence_ipmilan-5254003d74a4      (stonith:fence_ipmilan):        Started overcloud-controller-0
stonith-fence_ipmilan-525400092968      (stonith:fence_ipmilan):        Started overcloud-controller-1
stonith-fence_ipmilan-525400439c7e      (stonith:fence_ipmilan):        Started overcloud-controller-0
stonith-fence_ipmilan-5254002beafa      (stonith:fence_ipmilan):        Started overcloud-controller-2
stonith-fence_ipmilan-525400bbb6cb      (stonith:fence_ipmilan):        Started overcloud-controller-1
stonith-fence_ipmilan-5254001b9a8f      (stonith:fence_ipmilan):        Started overcloud-controller-2
stonith-fence_ipmilan-525400367613      (stonith:fence_ipmilan):        Started overcloud-controller-1
stonith-fence_ipmilan-525400150f28      (stonith:fence_ipmilan):        Started overcloud-controller-2
 podman container: openstack-cinder-volume [192.168.24.1:8787/rhosp15/openstack-cinder-volume:pcmklatest]
   openstack-cinder-volume-podman-0     (ocf::heartbeat:podman):        Started overcloud-controller-0

Closes-Bug: #1838279

Change-Id: I399098bf734aa3b2862e1713d4b1f429d180afbc
"
openstack%2Fopenstack-ansible-os_placement~master~I5190507d44b38e451b22e45615371897485016ff,openstack/openstack-ansible-os_placement,master,osa-placement-migration,I5190507d44b38e451b22e45615371897485016ff,Add nova placement to placement migration,ABANDONED,2019-06-12 11:26:38.000000000,2019-08-07 15:42:55.000000000,,106,0,2,664862,1589b04eb7c516a9cb8856da82dfaca43408b255,5,2,1,4,6816,Jesse Pretorius,jesse-pretorius,"Add nova placement to placement migration

In order to facilitate the nova placement -> placement
database migration, we add the necessary tasks to the
role, activated by a boolean flag. The flag will be set
during the major upgrade scripts.

This ensures that the nova placement service stays live
until the very last minute before the database migration
is executed, and with these tasks being the last in the
placement role the placement service will be started by
the handler immediately after the database migration
completes.

We also add a notification to the handler if the placement
configuration changes to ensure that the service is
restarted to pick up the changed configuration.

Change-Id: I5190507d44b38e451b22e45615371897485016ff
"
openstack%2Fopenstack-ansible-os_barbican~master~I20d13e094c1e9820f416fc8ae2cf0327cf63e925,openstack/openstack-ansible-os_barbican,master,atomic-policy-file-change,I20d13e094c1e9820f416fc8ae2cf0327cf63e925,Perform an atomic policy file change,ABANDONED,2017-04-28 15:34:19.000000000,2019-08-07 15:40:32.000000000,,83,87,2,461081,315f88cd6d2c28a66f6c6dbf71d14adcf7c157f2,23,2,9,14,6816,Jesse Pretorius,jesse-pretorius,"Perform an atomic policy file change

The policy.json file is currently read continually by the
services and is not only read on service start. We therefore
cannot template directly to the file read by the service
(if the service is already running) because the new policies
may not be valid until the service restarts. This is
particularly important during a major upgrade. We therefore
only put the policy file in place after the service restart.

This patch also tidies up the handlers and some of the install
tasks to simplify them and reduce the tasks/code a little.

Change-Id: I20d13e094c1e9820f416fc8ae2cf0327cf63e925
"
openstack%2Fopenstack-ansible-tests~master~I665aff4c5d5f6af167f0a10485f20d27a5537698,openstack/openstack-ansible-tests,master,simplify-osa-role-tests,I665aff4c5d5f6af167f0a10485f20d27a5537698,[WIP] Remove tox from lint/functional testing,ABANDONED,2018-03-26 11:01:41.000000000,2019-08-07 15:40:22.000000000,,221,37,0,556484,854aa259434f29b9bda6d0eb26e4b60b948d9a8d,10,2,4,3,6816,Jesse Pretorius,jesse-pretorius,"[WIP] Remove tox from lint/functional testing

Using tox adds an unnecessary layer of misdirection
to the testing setup. This patch aims to remove that
extra layer in such a way that we can make use of
Ansible as early as possible in the test execution.

The intent is when tests are executed outside of
OpenStack-CI, a thin layer sets up an Ansible venv
and executes the tests like zuul would. Inside
OpenStack-CI we should be able to just execute the
plays using zuul's Ansible.

TODO:
- Instead of executing the test scripts in qequence,
  have something that can figure out the jobs for
  the repository, then execute them using Ansible.

Change-Id: I665aff4c5d5f6af167f0a10485f20d27a5537698
"
openstack%2Fopenstack-ansible~master~Iedfd8481718b59e63fa6aed7c2ffaa615d7da000,openstack/openstack-ansible,master,bug/1758144,Iedfd8481718b59e63fa6aed7c2ffaa615d7da000,Implement unbound client config in containers as early as possible,ABANDONED,2018-05-30 11:52:44.000000000,2019-08-07 15:40:11.000000000,,5,131,1,571178,f2c8b757b432a588cc9edd141ca32a9417b18aa5,8,4,2,31,6816,Jesse Pretorius,jesse-pretorius,"Implement unbound client config in containers as early as possible

The JIT implementation of the unbound client config is at odds with
the way that the pip install and proxy configuration is done in that:

1. For apt to update after configuring the proxy, it needs working DNS
   resolution.
2. For the pip_install role to execute successfully, it needs working
   DNS resolution.

As such we need to revert them implementation of the JIT unbound client
configuration and do it once for all containers immediately after their
creation.

Change-Id: Iedfd8481718b59e63fa6aed7c2ffaa615d7da000
Closes-Bug: #1758144
"
openstack%2Fopenstack-ansible-tests~master~I5b7d5829f35965c594c9c57c2062bab93b655569,openstack/openstack-ansible-tests,master,common-role-python-reqs,I5b7d5829f35965c594c9c57c2062bab93b655569,Use the TESTING_BRANCH env var for constraints,ABANDONED,2018-07-01 14:01:39.000000000,2019-08-07 15:40:03.000000000,,23,12,1,579371,64999337a2616a5f1ce593640096a77d5ce3a824,17,3,6,3,6816,Jesse Pretorius,jesse-pretorius,"Use the TESTING_BRANCH env var for constraints

The TESTING_BRANCH environment variable is provided by the
run_tests.sh script and is derived from the .gitreview file.

This ensures that once the master branch becomes a stable
branch, the constraints from the stable branch in the
integrated repository will automatically get used once the
.gitreview file is updated.

To achieve this benefit, however, we now force the use of
run_tests.sh to execute tests instead of allowing the use
of 'tox -e ...' after the initial setup. As such, we check
for the presence of the required environment variables which
should be setup by run_tests.sh and if they're not there,
then we exit and inform the user.

To ensure that the required environment variables are present
we export them appropriately in run_tests.sh and modify the
tox configuration to pass them into the tox test.

Change-Id: I5b7d5829f35965c594c9c57c2062bab93b655569
"
openstack%2Fopenstack-ansible-tests~master~Ia21b6a2423072f4787b75fdb2a55257ef7f614dc,openstack/openstack-ansible-tests,master,common-role-python-reqs,Ia21b6a2423072f4787b75fdb2a55257ef7f614dc,Make run_tests_common idempotent,ABANDONED,2018-07-01 14:37:23.000000000,2019-08-07 15:39:58.000000000,,23,16,1,579372,404bb09f431a2fbc1081c242850c492754367784,18,6,5,1,6816,Jesse Pretorius,jesse-pretorius,"Make run_tests_common idempotent

With the increase in the forced use of run_tests.sh for test
purposes, it's qute painful for the apt cache and package
install changes to execute every time unnecessarily. This
patch makes the script execution idempotent to cut down on
log noise and time taken for a happier, healthier developer
life.

Change-Id: Ia21b6a2423072f4787b75fdb2a55257ef7f614dc
"
openstack%2Fopenstack-ansible-tests~master~Ie37e9f79273a459ec714b555955129f7fce78025,openstack/openstack-ansible-tests,master,bp/python-build-install-simplification,Ie37e9f79273a459ec714b555955129f7fce78025,Install hacking first and let it pull in right linter versions,ABANDONED,2018-07-02 13:40:53.000000000,2019-08-07 15:39:51.000000000,,2,1,0,579562,5e2dfa8e8e5f60547ef0a30ef9a7d4938c2cd043,5,2,2,1,6816,Jesse Pretorius,jesse-pretorius,"Install hacking first and let it pull in right linter versions

hacking pulls in the right versions of flake8 and flake8 does
depend on the right versions of mccabe, flake8, pycodestyle by itself,
so install that one first and remove the explicit listing of those
dependencies.

This relates to https://review.openstack.org/515374

Change-Id: Ie37e9f79273a459ec714b555955129f7fce78025
"
openstack%2Fopenstack-ansible-os_tacker~stable%2Fqueens~I944a8163a34b51258a4f0da92cfcd6f046fd1961,openstack/openstack-ansible-os_tacker,stable/queens,cleanup-role-tests-stable/queens,I944a8163a34b51258a4f0da92cfcd6f046fd1961,Clean up role tests,ABANDONED,2018-09-19 19:29:59.000000000,2019-08-07 15:39:44.000000000,,0,45,0,603883,085cee116e97ef032e0d79c613e4b748afa43e12,5,2,1,3,6816,Jesse Pretorius,jesse-pretorius,"Clean up role tests

Now that we're using the general templates, we can slim down
the role test definitions. We can also remove tests which are
not being watched, or which are fundamentally broken. With
this we can also remove unused scripts/plays.

We do the following:

1. We remove the 'ssl' job, given that the person working on
   that is no longer doing so, and no-one else has picked up
   the work.
2. We remove the 'func_base' and 'func_log'. They are unused
   relics of the past.

Change-Id: I944a8163a34b51258a4f0da92cfcd6f046fd1961
(cherry picked from commit 8b9b70845f27b86301a38736f502652bf4770394)
"
openstack%2Fopenstack-ansible~master~I3585bbcf950153fa885c9bdd384b7a5b2c84ccfc,openstack/openstack-ansible,master,,I3585bbcf950153fa885c9bdd384b7a5b2c84ccfc,[WIP] Add custom playbook examples,ABANDONED,2018-10-22 15:37:23.000000000,2019-08-07 15:39:22.000000000,,52,0,0,612425,91591c357c52a1e52167b52806107cad5ed2545e,4,2,1,1,6816,Jesse Pretorius,jesse-pretorius,"[WIP] Add custom playbook examples

Change-Id: I3585bbcf950153fa885c9bdd384b7a5b2c84ccfc
"
openstack%2Fopenstack-ansible-os_barbican~master~I5bb076cb0854bcd5d542e84dac8a92683243908f,openstack/openstack-ansible-os_barbican,master,reduce-unnecessary-package-installs,I5bb076cb0854bcd5d542e84dac8a92683243908f,Remove unnecessary package install duplication,ABANDONED,2018-10-30 19:18:10.000000000,2019-08-07 15:39:11.000000000,,1,9,0,614336,2d8d53af6c0789667209d3b869bf1fd6ab3cd525,21,3,3,5,6816,Jesse Pretorius,jesse-pretorius,"Remove unnecessary package install duplication

Currently the devel packages are installed everywhere,
but they only need to be where the wheels are built.

Also, there is already a task to install the packages
needed on the target hosts when installing - so we do
not need to give the same list to the venv install role
because they will already have been installed.

Finally, we remove the unnecessary installation of the
compiling packages because the python venv build role
already does it.

Depends-On: https://review.openstack.org/619024
Change-Id: I5bb076cb0854bcd5d542e84dac8a92683243908f
"
openstack%2Fopenstack-ansible-os_cloudkitty~master~I38ec583aa9229e7cf25c3051b9f1678b4d31bbfd,openstack/openstack-ansible-os_cloudkitty,master,reduce-unnecessary-package-installs,I38ec583aa9229e7cf25c3051b9f1678b4d31bbfd,Remove unnecessary package install duplication,ABANDONED,2018-10-30 19:50:18.000000000,2019-08-07 15:38:51.000000000,,2,6,0,614343,ad47c02257bb77cbcbf4546fe9a682aeca037d68,7,4,1,3,6816,Jesse Pretorius,jesse-pretorius,"Remove unnecessary package install duplication

We remove the unnecessary installation of the
compiling packages because the python venv build role
already does it. We also move the git package install
to the devel package list because it's only needed
where the wheels are built.

Depends-On: https://review.openstack.org/613585
Change-Id: I38ec583aa9229e7cf25c3051b9f1678b4d31bbfd
"
openstack%2Fopenstack-ansible~master~I4c5c6915e14449b34ca8750049fc0a4932b10a83,openstack/openstack-ansible,master,ubuntu-tempest-distro,I4c5c6915e14449b34ca8750049fc0a4932b10a83,Always use source installs for tempest on ubuntu,ABANDONED,2018-11-23 13:19:56.000000000,2019-08-07 15:38:43.000000000,,7,1,0,619732,b2e32fb7937d8c664bb26cd656c67e810837fc38,8,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"Always use source installs for tempest on ubuntu

Ubuntu does not publish tempest plugin packages. They do
all their testing using the source-based installation of
tempest. As such, for all ubuntu distribution tests we
force the use of the source install for tempest.

Change-Id: I4c5c6915e14449b34ca8750049fc0a4932b10a83
"
openstack%2Fopenstack-ansible-os_keystone~master~Iad3c03fee1e643d6ca44e09d15bbc0dbbadc6103,openstack/openstack-ansible-os_keystone,master,622551,Iad3c03fee1e643d6ca44e09d15bbc0dbbadc6103,Allow messaging to be disabled,ABANDONED,2018-12-04 18:49:09.000000000,2019-08-07 15:38:37.000000000,,7,12,0,622551,702e59a36e162a91c9fd45c25ad9b1d28ac0658e,15,3,5,5,6816,Jesse Pretorius,jesse-pretorius,"Allow messaging to be disabled

In recent changes, the conditions which used keystone_messaging_enabled
to skip adding the messaging config into keystone.conf and skip adding
the MQ users were removed.

This is sometimes useful in tests, so we add them back. We also make
the default value dynamic based on the inventory.

Change-Id: Iad3c03fee1e643d6ca44e09d15bbc0dbbadc6103
"
openstack%2Fopenstack-ansible-os_nova~master~I1a74e2f259635d9e70671b806389afc3581f4a06,openstack/openstack-ansible-os_nova,master,bug/1803019,I1a74e2f259635d9e70671b806389afc3581f4a06,Only enable oslo notifications when appropriate,ABANDONED,2019-01-07 15:55:59.000000000,2019-08-07 15:38:29.000000000,,25,11,0,629005,f0325bfd18d1d38a24c6440453c77ab66aa4d3ca,9,3,3,4,6816,Jesse Pretorius,jesse-pretorius,"Only enable oslo notifications when appropriate

In Ia66fe9a4c5c18f31fa50e06017389489be8c66a4 we changed the implementation
for nova.conf to always include the notifications, but if nothing is reading
the notifications then they build up and eventually make the rabbitmq service
run out of disk space, causing an outage.

The oslo messaging notification topics can now be customised for nova using
the ``nova_oslomsg_notify_topics`` list variable. By default it will be
populated based on the presence of integrated services such as ``ceilometer``
and ``designate`` in the inventory. If the list is empty then notifications
will be disabled.

The variable ``nova_ceilometer_enabled`` has been renamed to
``nova_oslomsg_notify_enabled`` to reflect its broader purpose. This variable
will be enabled by default if the host group ``ceilometer_all`` is populated,
but this may be changed via an override.

This also resolves the issue where notifications are sent to the
``versioned_notifications`` topic, but never consumed because ceilometer is
not deployed and nothing else is set to consume those messages. With this
patch the state changes will not be published unless
``nova_oslomsg_notify_enabled`` is True.

Related-Bug: #1803019
Change-Id: I1a74e2f259635d9e70671b806389afc3581f4a06
"
openstack%2Fansible-hardening~stable%2Frocky~Idff86d4a90d3309f0e9ae3b9f0559b37e25dc26f,openstack/ansible-hardening,stable/rocky,629158,Idff86d4a90d3309f0e9ae3b9f0559b37e25dc26f,Switch to using import_tasks for static inclusion,ABANDONED,2019-01-11 10:47:37.000000000,2019-08-07 15:38:21.000000000,,50,50,0,630139,c2724a6c5a46ba2279c8aada624c9ef20382e04f,5,2,1,2,6816,Jesse Pretorius,jesse-pretorius,"Switch to using import_tasks for static inclusion

Using dynamic inclusion (include_tasks) should only be done
if the tasks to include are based on a conditional and there
is no expectation for the tag on the include task to be applied
to all included tasks. Using include_tasks for static inclusion
dramatically raises memory consumption. Using include_tasks also
breaks the ability to use a tag applied to the include.

In this patch we fix all inclusions to ensure that they are set
properly to dynamic or static inclusions where necessary.

We also remove the unnecessary leading whitespace in the main
task file.

Change-Id: Idff86d4a90d3309f0e9ae3b9f0559b37e25dc26f
Closes-Bug: #1800169
(cherry picked from commit f381cc02af7914bbf4bcb081a64baafabbbd2a31)
"
openstack%2Fopenstack-ansible~master~I47bcaf5af259fe1ecb91ff0fb94d6eb454875079,openstack/openstack-ansible,master,630728,I47bcaf5af259fe1ecb91ff0fb94d6eb454875079,Remove unused openstack_user_config file,ABANDONED,2019-01-14 16:37:54.000000000,2019-08-07 15:38:13.000000000,,1,121,0,630728,cb1d1d666d3ede6d659aad2d39a18dd1dd85c39f,9,5,2,2,6816,Jesse Pretorius,jesse-pretorius,"Remove unused openstack_user_config file

This file is only used for inventory testsing, so we switch that
test to use the same one as the AIO bootstrap to ensure that we
reduce the confusion caused by two similar files.

Change-Id: I47bcaf5af259fe1ecb91ff0fb94d6eb454875079
"
openstack%2Fopenstack-ansible-os_aodh~master~If693c0b5195d21414dc2217c0c04cb3bfe11049e,openstack/openstack-ansible-os_aodh,master,dynamic-aio-scenario,If693c0b5195d21414dc2217c0c04cb3bfe11049e,Use the dynamic aio scenario,ABANDONED,2019-05-10 15:59:30.000000000,2019-08-07 15:38:07.000000000,,1,1,0,658405,cf02fe8a6347db8bc353667b0ed303fadde181c5,23,3,2,1,6816,Jesse Pretorius,jesse-pretorius,"Use the dynamic aio scenario

Rather than have to define a job per non-aio service, we have
zuul introspect the origin test repo and add the service name
to the scenario variable on the fly. This allows us to simplify
our job definitions and simply use the AIO job template for all
repositories.

Depends-On: https://review.opendev.org/658398
Change-Id: If693c0b5195d21414dc2217c0c04cb3bfe11049e
"
openstack%2Fopenstack-ansible-os_blazar~master~I16d64df228e6230d1a19ba75f2d4925e7026b3cc,openstack/openstack-ansible-os_blazar,master,dynamic-aio-scenario,I16d64df228e6230d1a19ba75f2d4925e7026b3cc,Use the dynamic aio scenario,ABANDONED,2019-05-10 17:47:00.000000000,2019-08-07 15:37:56.000000000,,1,57,0,658430,ac044b89ab40996903f2677fc1df737c1ce4412d,13,3,1,2,6816,Jesse Pretorius,jesse-pretorius,"Use the dynamic aio scenario

Rather than have to define a job per non-aio service, we have
zuul introspect the origin test repo and add the service name
to the scenario variable on the fly. This allows us to simplify
our job definitions and simply use the AIO job template for all
repositories.

Depends-On: https://review.opendev.org/658398
Change-Id: I16d64df228e6230d1a19ba75f2d4925e7026b3cc
"
openstack%2Fopenstack-ansible-os_congress~master~Ie9fa312e7fdc10f7daf5224e9acc0f799b46e51b,openstack/openstack-ansible-os_congress,master,dynamic-aio-scenario,Ie9fa312e7fdc10f7daf5224e9acc0f799b46e51b,Use the dynamic aio scenario,ABANDONED,2019-05-10 17:50:26.000000000,2019-08-07 15:37:49.000000000,,1,57,0,658432,31f6939a30ae56a31adcfcf69f69dfd2e2a912ef,11,2,1,2,6816,Jesse Pretorius,jesse-pretorius,"Use the dynamic aio scenario

Rather than have to define a job per non-aio service, we have
zuul introspect the origin test repo and add the service name
to the scenario variable on the fly. This allows us to simplify
our job definitions and simply use the AIO job template for all
repositories.

Depends-On: https://review.opendev.org/658398
Change-Id: Ie9fa312e7fdc10f7daf5224e9acc0f799b46e51b
"
openstack%2Fopenstack-ansible-os_horizon~master~I82a38e9de25af0bf618fba6fa136b3e2460da3aa,openstack/openstack-ansible-os_horizon,master,dynamic-aio-scenario,I82a38e9de25af0bf618fba6fa136b3e2460da3aa,Use the dynamic aio scenario,ABANDONED,2019-05-10 18:02:59.000000000,2019-08-07 15:37:40.000000000,,2,2,0,658436,46fc93af25df1589c8c2dad3f38dff147e025340,9,2,1,1,6816,Jesse Pretorius,jesse-pretorius,"Use the dynamic aio scenario

Rather than have to define a job per non-aio service, we have
zuul introspect the origin test repo and add the service name
to the scenario variable on the fly. This allows us to simplify
our job definitions and simply use the AIO job template for all
repositories.

Depends-On: https://review.opendev.org/658398
Change-Id: I82a38e9de25af0bf618fba6fa136b3e2460da3aa
"
openstack%2Ftripleo-validations~stable%2Fstein~I53ac2804d8c2f95ab5831088a70d096a65272c9b,openstack/tripleo-validations,stable/stein,molecule-stable-stein,I53ac2804d8c2f95ab5831088a70d096a65272c9b,Corrected how hiera is installed,MERGED,2019-08-01 11:10:19.000000000,2019-08-07 15:35:53.000000000,2019-08-07 15:35:53.000000000,51,2,0,674004,65395ba4c83d17c83241ae919394c916fe2a7854,20,5,3,2,11491,Gael Chamoulaud,gchamoul,"Corrected how hiera is installed

Pointing to a static link isn't good - installing EPEL + hiera package
allows to get a smooth test without having to update the package link.

Also uses ""prepare.yml"" in order to get a cleaner playbook.

Change-Id: I53ac2804d8c2f95ab5831088a70d096a65272c9b
(cherry picked from commit 90f477c42796d68481f6a442f4e1cc5ca1c5906b)
"
openstack%2Ftripleo-quickstart~master~I58aaa6951764cb484909897fcf2c5d3ce72ed90e,openstack/tripleo-quickstart,master,ovb8,I58aaa6951764cb484909897fcf2c5d3ce72ed90e,Add py3 support for get-overcloud-nodes script,MERGED,2019-08-03 15:40:57.000000000,2019-08-07 15:35:52.000000000,2019-08-07 15:35:52.000000000,6,3,4,674462,bb7a19d5b8bc21604292dc62e7a1870f3d74a3b0,27,6,5,2,10969,Shnaidman Sagi (Sergey),sergsh,"Add py3 support for get-overcloud-nodes script

Add import of urljoin for py3
Add command line execution depending on python/python3 presence
Change shebang to be python3.

Change-Id: I58aaa6951764cb484909897fcf2c5d3ce72ed90e
"
openstack%2Frpm-packaging~master~I3112d98f52e2e92c221be995a297f8b2bf5e9b93,openstack/rpm-packaging,master,,I3112d98f52e2e92c221be995a297f8b2bf5e9b93,monasca-persister: Switch to python 3.x,MERGED,2019-08-05 15:17:25.000000000,2019-08-07 15:35:33.000000000,2019-08-07 15:35:33.000000000,26,28,0,674633,2a70290aae9b0afd34eace6e0f42fb441f403cfb,31,6,6,1,6593,Dirk Mueller,dmllr,"monasca-persister: Switch to python 3.x

Change-Id: I3112d98f52e2e92c221be995a297f8b2bf5e9b93
"
openstack%2Ftripleo-quickstart-extras~master~I121bf00dfe535e3803501c1b2962eab2ba6bac07,openstack/tripleo-quickstart-extras,master,build8,I121bf00dfe535e3803501c1b2962eab2ba6bac07,Allow building packages for RHEL8 jobs,MERGED,2019-08-06 22:14:48.000000000,2019-08-07 15:34:41.000000000,2019-08-07 15:34:41.000000000,8,2,2,674943,8bb2dc094c17dbdb4c3dfbd6ce05bfb658d84d3c,18,10,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Allow building packages for RHEL8 jobs

Change-Id: I121bf00dfe535e3803501c1b2962eab2ba6bac07
"
openstack%2Ftripleo-heat-templates~master~Icaba7a58f458d853912d038f24c0cb4f853e0166,openstack/tripleo-heat-templates,master,bp/ceph-config-overrides,Icaba7a58f458d853912d038f24c0cb4f853e0166,Allow overrides in non global ceph.conf sections,MERGED,2019-05-09 17:33:19.000000000,2019-08-07 15:34:39.000000000,2019-08-07 15:34:38.000000000,46,18,12,658161,2501f4747c609482ac4e500aaf8ed5519e174bc7,53,8,10,3,25402,Francesco Pantano,fmount,"Allow overrides in non global ceph.conf sections

In current ceph-base version there is a CephConfigOverride
parameter which allows to override ceph.conf params in global
section only.

This change will permit overrides to specify the ceph.conf
section into which they apply, while retaining backward
compatiblity.

Also adds in scenarios 001 and 004 some test cases.

Co-Authored-By: Giulio Fidente <gfidente@redhat.com>
Change-Id: Icaba7a58f458d853912d038f24c0cb4f853e0166
Implements: blueprint ceph-config-overrides
"
openstack%2Fvitrage~master~Ibb70a8d5be79af89faf625b939bb959661231aa3,openstack/vitrage,master,eyalb/strings,Ibb70a8d5be79af89faf625b939bb959661231aa3,Use raw strings in all pattern matching strings,MERGED,2019-08-07 11:37:08.000000000,2019-08-07 15:30:54.000000000,2019-08-07 15:30:54.000000000,22,20,0,675097,f11565a317fb9976cb1370b001303c968f712686,7,3,1,11,19134,Eyal,eyalb,"Use raw strings in all pattern matching strings

This removes some of the deprecation warnings on
unsupported escape sequence for python3.6 and up

Change-Id: Ibb70a8d5be79af89faf625b939bb959661231aa3
"
openstack%2Ftempest~master~I5ec01ff7783dd5be0e82fac0aa591221548b0664,openstack/tempest,master,,I5ec01ff7783dd5be0e82fac0aa591221548b0664,Modify the API reference,MERGED,2019-08-02 10:04:03.000000000,2019-08-07 15:15:35.000000000,2019-08-07 15:15:35.000000000,48,48,1,674251,18cf132af180f9c3422d33162dc1535873b3d523,25,6,2,10,30410,linanbj,linanbj,"Modify the API reference

Modify the API reference in the following files:
    tempest/lib/services/network/security_group_rules_client.py
    tempest/lib/services/network/tags_client.py
    tempest/lib/services/network/subnets_client.py
    tempest/lib/services/network/subnetpools_client.py
    tempest/lib/services/network/routers_client.py
    tempest/lib/services/network/metering_labels_client.py
    tempest/lib/services/network/floating_ips_client.py
    tempest/lib/services/network/ports_client.py
    tempest/lib/services/network/security_groups_client.py
    tempest/lib/services/network/networks_client.py

Change-Id: I5ec01ff7783dd5be0e82fac0aa591221548b0664
"
openstack%2Foslo.messaging~master~I4116e8871436097dea650f56e7b187358367d92e,openstack/oslo.messaging,master,choice-nit,I4116e8871436097dea650f56e7b187358367d92e,Fix nits on kafka compression help text,MERGED,2019-08-06 19:02:14.000000000,2019-08-07 14:43:16.000000000,2019-08-07 14:43:16.000000000,3,3,0,674914,39196a4e90f0d46f6b8122b2e421b519b9c6d93f,7,3,1,1,6928,Ben Nemec,bnemec,"Fix nits on kafka compression help text

There is no need to explicitly list the choices in the help text.
The oslo.config sample generator will include the choices automatically[0]

Also tweaks the wording of text to make it clear that it is the allowed
values which vary based on kafka version.

Change-Id: I4116e8871436097dea650f56e7b187358367d92e
0: https://github.com/openstack/oslo.config/blob/2488c1e1cee151a3a65c60f371f0bea2f15d4bca/oslo_config/generator.py#L263
"
openstack%2Fnova~stable%2Fstein~Idee55cd85c12a336dd980c69839fc11188019d3c,openstack/nova,stable/stein,,Idee55cd85c12a336dd980c69839fc11188019d3c,Add glanceclient method call debug log,ABANDONED,2019-08-06 12:05:02.000000000,2019-08-07 14:06:18.000000000,,1,0,0,674791,5edf0ac8d6353d4fdbd454736649d5082b9777a1,9,5,1,1,8864,Artom Lifshitz,artom,"Add glanceclient method call debug log

In situations when calling Glance isn't successfull (for example when
the network is experiencing interruptions or packet loss), it may be
useful have each Glance request logged at debug level. This patch does
that.

Change-Id: Idee55cd85c12a336dd980c69839fc11188019d3c
"
openstack%2Fopenstack-helm~master~I44a0693a1885450cbd13b3b05e3a7aa08b489f2b,openstack/openstack-helm,master,,I44a0693a1885450cbd13b3b05e3a7aa08b489f2b,[DNM] Test gates,ABANDONED,2019-08-07 08:02:57.000000000,2019-08-07 14:04:49.000000000,,1,0,0,675050,7aaf20fa8c15a0090b30f87896eaa1316bffd1d8,3,1,1,1,21883,Manuel Buil,mbuil,"[DNM] Test gates

Change-Id: I44a0693a1885450cbd13b3b05e3a7aa08b489f2b
Signed-off-by: Manuel Buil <mbuil@suse.com>
"
openstack%2Fopenstack-helm-infra~master~Ic57c11f7c60e5203bcd48fce06dd52bfb306dff7,openstack/openstack-helm-infra,master,fix-ceph-test-failures,Ic57c11f7c60e5203bcd48fce06dd52bfb306dff7,WIP: Update upgrade-host role with new hwe kernel package,ABANDONED,2019-07-10 15:15:04.000000000,2019-08-07 13:55:38.000000000,,10,4,1,670088,2e5db8932d9497f6a1daeb94cadbb096baefc3ea,26,4,5,5,17591,Steve Wilkerson,srwilkers,"WIP: Update upgrade-host role with new hwe kernel package

This updates the hwe kernel package installed in the upgrade-host
role to the 18.04 version. This also sets the variable required
to install this package in each of the multinode jobs that deploy
the cephfs provisioner

Change-Id: Ic57c11f7c60e5203bcd48fce06dd52bfb306dff7
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fopenstack-helm-infra~master~I39cd635fca190b7cf9e73930f25873898d34d5cb,openstack/openstack-helm-infra,master,kubeadm-aio-base,I39cd635fca190b7cf9e73930f25873898d34d5cb,DNM: Update kubeadm-aio base image,ABANDONED,2019-08-06 18:09:03.000000000,2019-08-07 13:55:24.000000000,,5,12,0,674900,8a43827774387b82b237c27609a14fc0565d0d5d,9,2,3,4,17591,Steve Wilkerson,srwilkers,"DNM: Update kubeadm-aio base image

Change-Id: I39cd635fca190b7cf9e73930f25873898d34d5cb
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fnetworking-ovn~stable%2Frocky~I18f1ff0832354ae8109323e5202e1681fc60a167,openstack/networking-ovn,stable/rocky,bug/1835226,I18f1ff0832354ae8109323e5202e1681fc60a167,OVN Metadata: Fix registration after Chassis entry is recreated,MERGED,2019-07-17 14:33:57.000000000,2019-08-07 13:43:36.000000000,2019-08-07 13:43:36.000000000,44,5,0,671310,b54009636719aaeb3c6967c866da2f7f80c840e9,25,5,1,3,6773,Lucas Alvares Gomes,lucasagomes,"OVN Metadata: Fix registration after Chassis entry is recreated

This patch is re-registring the OVN metadata agent to its Chassis when the
entry is recreated. The Chassis entry gets deleted by the ovn-controller
process when it's gracefully shutdown and recreated when restarted.

Conflicts:
	networking_ovn/tests/functional/test_metadata_agent.py

Closes-Bug: #1835226
Change-Id: I18f1ff0832354ae8109323e5202e1681fc60a167
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit adb0d45613ca1493289410b53b16fe9f731d1141)
"
openstack%2Fproject-config~master~I2f87ef53a8d3bce01ae7b75c4fd27edcfad5111d,openstack/project-config,master,new-ovs-scenario-job,I2f87ef53a8d3bce01ae7b75c4fd27edcfad5111d,Add new Neutron jobs to Grafana dashboard,MERGED,2019-08-07 06:48:23.000000000,2019-08-07 13:26:15.000000000,2019-08-07 13:26:15.000000000,8,0,0,675036,f3c8a6320011ce1a95a4bb74498bb3860261638a,7,3,1,1,11975,Slawek Kaplonski,slaweq,"Add new Neutron jobs to Grafana dashboard

Recently 2 new Neutron jobs were added to Neutron CI
in [1] and [2].
Lets add them to the Neutron Grafana dashboard also.

[1] https://review.opendev.org/#/c/670738/
[2] https://review.opendev.org/#/c/674274/

Depends-On: https://review.opendev.org/#/c/670738/
Depends-On: https://review.opendev.org/#/c/674274/
Change-Id: I2f87ef53a8d3bce01ae7b75c4fd27edcfad5111d
"
openstack%2Fcinder~master~I62b2175fc531ba764b1baf18ac6d2578ac147320,openstack/cinder,master,bug/1839057,I62b2175fc531ba764b1baf18ac6d2578ac147320,upload_volume() should accept 'compress' paramter.,ABANDONED,2019-08-06 06:55:51.000000000,2019-08-07 13:19:06.000000000,,2,2,0,674740,73d30cf22f9ed41a319baf71cbad065950e152f2,47,29,1,1,14624,Sam Wan,samwan,"upload_volume() should accept 'compress' paramter.

This is to fix the bug introduced by the change 'Compress images
uploaded to Glance' (Change-Id:
I22bd2be6653bdc4e755ea8a9d8780e8e67b4485a)

Change-Id: I62b2175fc531ba764b1baf18ac6d2578ac147320
Closes-Bug: #1839057
"
openstack%2Fironic~master~I305fc3712b1ac0cf2fe64569729e236c7b614bb4,openstack/ironic,master,story/2006175/conf-deploy-image,I305fc3712b1ac0cf2fe64569729e236c7b614bb4,Allow configuring global deploy and rescue kernel/ramdisk,MERGED,2019-07-26 14:27:46.000000000,2019-08-07 13:18:22.000000000,2019-08-07 13:18:22.000000000,63,11,3,672989,f06240f7dd2b0314068f3f9dc6a82667d658bc28,50,10,6,6,10239,Dmitry Tantsur,dtantsur,"Allow configuring global deploy and rescue kernel/ramdisk

The devstack plugin was updated to configure basic ops before
ironic starts, so that we can put links to deploy images
in the ironic.conf.

Change-Id: I305fc3712b1ac0cf2fe64569729e236c7b614bb4
Story: #2006175
Task: #35699
"
openstack%2Fironic-inspector~master~I78ffdeeb502cbed0550152b19efbb224f47c65af,openstack/ironic-inspector,master,tooz-lock,I78ffdeeb502cbed0550152b19efbb224f47c65af,Adds tooz locking driver,MERGED,2019-07-15 06:49:23.000000000,2019-08-07 13:18:17.000000000,2019-08-07 13:18:17.000000000,302,4,23,670763,1bed47540908127c1bb84684f7b097a081b766c2,43,7,7,13,24828,Kaifeng Wang,wangkf,"Adds tooz locking driver

Adds tooz requirements, configuration options and locking support.

Story: 2001842
Task: 30376

Change-Id: I78ffdeeb502cbed0550152b19efbb224f47c65af
"
openstack%2Fhorizon~master~I0db8a05e488eb6bf276760d5116d05633c882701,openstack/horizon,master,bug/1834747,I0db8a05e488eb6bf276760d5116d05633c882701,Do not always assume image_id in volume_image_metadata,MERGED,2019-07-02 05:07:20.000000000,2019-08-07 13:08:20.000000000,2019-08-07 13:08:19.000000000,33,8,6,668595,42f4ef334d89a492103fdea2df982e108d5713ea,24,5,5,2,841,Akihiro Motoki,amotoki,"Do not always assume image_id in volume_image_metadata

volume_image_metadata can contain only fields other than image_id.
We should not assume volume_image_metadata always contain image_id
when volume_image_metadata exists.

Change-Id: I0db8a05e488eb6bf276760d5116d05633c882701
Closes-Bug: #1834747
"
openstack%2Fhorizon~master~I7ebb68220f75fef36b43b89e32e5aff18fc0fe25,openstack/horizon,master,bug/1834747,I7ebb68220f75fef36b43b89e32e5aff18fc0fe25,Fix boot-from-volume test in project.instances.tests,MERGED,2019-07-12 07:38:22.000000000,2019-08-07 13:08:17.000000000,2019-08-07 13:08:17.000000000,29,7,0,670456,82a20c670a54554571a92a0c4663f29dcfbbacbf,15,5,2,2,841,Akihiro Motoki,amotoki,"Fix boot-from-volume test in project.instances.tests

The test for the instance table with boot-from-volume had
several issues previously.

a) api.cinder.volume_list is mocked but return_value was not
   specified and called arguments were not checked.
b) The mocked api.nova.server_list returned Server instance
   from novaclient, but it should return Server instance from
   the horizon API wrapper (api.nova.Server). As a result,
   for example, ""image_name"" property in api.nova.Server
   was skipped.
c) Test data for cinder volumes had wrong attachment information.
   attachment ID must match a volume ID, but it did not.

This commit fixes the above issues and adds a test logic to
check volume_image_metadata handling in instances/views.py.

This is a preparation to implement a unit test in
https://review.opendev.org/#/c/668595/.

NOTE:
The issues (a) and (b) above need to be fixed globally
in the openstack_dashboard testing, but it will be covered
by follow-up commit(s). This commit focues to prepare for
https://review.opendev.org/#/c/668595/.

Change-Id: I7ebb68220f75fef36b43b89e32e5aff18fc0fe25
"
openstack%2Fhorizon~master~I4b7707d95756501e0622460e3ddc4e3f7624f02e,openstack/horizon,master,bp/volume-snapshot-backups,I4b7707d95756501e0622460e3ddc4e3f7624f02e,Enable volume snapshot backups,MERGED,2019-06-26 18:35:04.000000000,2019-08-07 13:08:14.000000000,2019-08-07 13:08:14.000000000,291,25,32,667703,9fa1cddf0922af186bd102768416ec9c5b84f511,42,5,6,13,29260,Jesper Schmitz Mouridsen,jsmdk,"Enable volume snapshot backups

Make it possible to use horizon for backing
up snapshots.

 * Add snapshot column to backups table
 * Add snapshot information to backup detail
 * Fix wrong template path in create_backup.html
 * Add ChoiceField with snapshots belonging
   to the volume in create backup form
 * Add create backup option in snapshots table
 * Adjust tests and test data

When backing up from snapshots table the snapshot
ChoiceField is preset with the choosen snapshot
as the only option.
Implements: blueprint volume-snapshot-backups

Change-Id: I4b7707d95756501e0622460e3ddc4e3f7624f02e
"
openstack%2Fmistral~master~I61fca207f375f3d43241da59d7c9213ac9401a21,openstack/mistral,master,eyalb/hacking,I61fca207f375f3d43241da59d7c9213ac9401a21,Upgrade hacking,MERGED,2019-08-06 12:11:19.000000000,2019-08-07 12:57:06.000000000,2019-08-07 12:57:06.000000000,10,9,0,674793,d8a127abe257cbecf19606608540a5820da15b8c,13,3,2,4,19134,Eyal,eyalb,"Upgrade hacking

Added some pep exclusion to tox
Change in test the import from pep8 to pycodestyle
needed by the new version of hacking

Change-Id: I61fca207f375f3d43241da59d7c9213ac9401a21
"
openstack%2Frpm-packaging~master~I9af246de6d5e07316e400adea4b99f9698899b79,openstack/rpm-packaging,master,,I9af246de6d5e07316e400adea4b99f9698899b79,networking-generic-switch: switch to python3,ABANDONED,2019-07-18 10:53:36.000000000,2019-08-07 12:56:33.000000000,,38,38,0,671455,958a27e6b0252c466b4ea6f69e25e68035b6c6d1,18,5,3,1,27532,Jaime Caamaño Ruiz,jaicaa,"networking-generic-switch: switch to python3

Change-Id: I9af246de6d5e07316e400adea4b99f9698899b79
"
openstack%2Fopenstack-ansible-os_nova~master~I0f8f5e3beaf9eca9127f1a37ffa93e0a5dac2974,openstack/openstack-ansible-os_nova,master,,I0f8f5e3beaf9eca9127f1a37ffa93e0a5dac2974,config: disable notifications by default,MERGED,2019-07-31 17:07:47.000000000,2019-08-07 12:49:32.000000000,2019-08-01 22:18:05.000000000,1,1,0,673878,edde66b9a0dae24a9288da240455890c2f100282,13,3,1,1,1004,Mohammed Naser,mnaser,"config: disable notifications by default

We are currently pushing out notifications even if Ceilometer is
not enabled resulting in huge queues.  Let's not do that.

Change-Id: I0f8f5e3beaf9eca9127f1a37ffa93e0a5dac2974
"
openstack%2Fopenstack-ansible-os_neutron~master~Id4a70270d4032ff1c3f0089360e897e5c82c394b,openstack/openstack-ansible-os_neutron,master,,Id4a70270d4032ff1c3f0089360e897e5c82c394b,config: disable notifications by default,MERGED,2019-07-31 17:17:17.000000000,2019-08-07 12:49:24.000000000,2019-08-01 20:03:08.000000000,1,1,0,673882,752f261ab6dc986ca1e9b0f16189f20d7ab8a15d,13,3,1,1,1004,Mohammed Naser,mnaser,"config: disable notifications by default

We are currently pushing out notifications even if Ceilometer is
not enabled resulting in huge queues.  Let's not do that.

Change-Id: Id4a70270d4032ff1c3f0089360e897e5c82c394b
"
openstack%2Fmonasca-common~master~I488d6c99e2f2ad857d44b471c5b62e549062a46e,openstack/monasca-common,master,confluent_kafka,I488d6c99e2f2ad857d44b471c5b62e549062a46e,Fix Confluent Kafka consumer topics subscription,MERGED,2019-08-06 12:56:23.000000000,2019-08-07 12:41:48.000000000,2019-08-07 12:41:47.000000000,4,1,0,674804,875c233fd70d3c83413d9ee80e363174e79bde0e,10,4,1,1,16222,witek,witek,"Fix Confluent Kafka consumer topics subscription

The change fixes:

`TypeError: on_revoke expects a callable`

when `repartition_callback` is not set.

Change-Id: I488d6c99e2f2ad857d44b471c5b62e549062a46e
Story: 2003705
Task: 36093
"
openstack%2Fmonasca-persister~master~Iea4d74dffb28c3315761de464840e8c4cda57c0a,openstack/monasca-persister,master,test_repo_influxdb,Iea4d74dffb28c3315761de464840e8c4cda57c0a,Add tests for influxdb/metrics_repository.py,MERGED,2019-04-12 13:15:39.000000000,2019-08-07 12:41:41.000000000,2019-08-07 12:41:41.000000000,63,0,2,652070,8f1d672f2315502befe2f83212b54bc6eff5dd7f,23,5,6,1,30221,Arseni Lipinski,arseni.lipinski,"Add tests for influxdb/metrics_repository.py

Change-Id: Iea4d74dffb28c3315761de464840e8c4cda57c0a
"
openstack%2Fnetworking-ovn~master~I0bd8591a42a7f32b3ea9a6af8a74613367c58d61,openstack/networking-ovn,master,metadata-port-delay,I0bd8591a42a7f32b3ea9a6af8a74613367c58d61,Delay metadata port creation/update,ABANDONED,2018-12-18 14:04:29.000000000,2019-08-07 12:32:33.000000000,,109,77,1,625921,bae2e15e996b751fb3a365854d456cc371823070,7,3,2,3,6773,Lucas Alvares Gomes,lucasagomes,"Delay metadata port creation/update

In order to match the ml2/ovs behavior and also speed up the API request
reponses when creating/updating networks and subnets this patch is
changing the ml2/ovn driver to perform the metadata port create/update
asynchronously.

Change-Id: I0bd8591a42a7f32b3ea9a6af8a74613367c58d61
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fnetworking-ovn~stable%2Frocky~I0f57a1706d41836b35ffd33bb154af6a5667b7cd,openstack/networking-ovn,stable/rocky,bug/1837870,I0f57a1706d41836b35ffd33bb154af6a5667b7cd,Replace httplib2 with requests in metadata agent,MERGED,2019-07-30 12:40:32.000000000,2019-08-07 12:29:56.000000000,2019-08-07 12:29:56.000000000,50,52,0,673503,cded136f5096d91c8da5b85e000d2c692464e2e0,27,4,4,4,24791,Maciej Jozefczyk,maciej.jozefczyk,"Replace httplib2 with requests in metadata agent

httplib2 uses PROTOCOL_TLSv1 which in fact restricts
connection to TLS v1.0 only.
This patch moves to use requests library that uses
PROTOCOL_TLS, that supports all versions supported
SSL library.
Same change was made a while ago in neutron [0].

[0] https://review.opendev.org/#/c/593641/

Co-Authored-By: James Page <james.page@ubuntu.com>

Change-Id: I0f57a1706d41836b35ffd33bb154af6a5667b7cd
Closes-Bug: #1837870
(cherry picked from commit c3b9cdccd6422d22f904e6594b392131fff7ed98)
"
openstack%2Fkolla~stable%2Fstein~I67e1d77d34a7198321d170d8ffacff9b39308170,openstack/kolla,stable/stein,auto-update,I67e1d77d34a7198321d170d8ffacff9b39308170,Stein-only: update packages,MERGED,2019-08-07 08:53:13.000000000,2019-08-07 12:29:47.000000000,2019-08-07 12:29:47.000000000,5,5,0,675062,cd4d4b37be3ad75d23a48fd58a550ff08684e270,8,4,1,1,30491,Radosław Piliszek,yoctozepto,"Stein-only: update packages

Change-Id: I67e1d77d34a7198321d170d8ffacff9b39308170
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fkolla~stable%2Frocky~I1822a8c610db72654bbacc7148e25a837090b680,openstack/kolla,stable/rocky,,I1822a8c610db72654bbacc7148e25a837090b680,ceph mds cap 'allow *' in extend_start,MERGED,2019-08-07 07:17:27.000000000,2019-08-07 12:29:46.000000000,2019-08-07 12:29:45.000000000,1,1,0,675042,97b004af90dcf36ba67137917290614015eba8fc,9,4,1,1,30491,Radosław Piliszek,yoctozepto,"ceph mds cap 'allow *' in extend_start

This applies the fix made in kolla-ansible (see [1])
to kolla ceph mon image directly.

[1] https://review.opendev.org/670035

Change-Id: I1822a8c610db72654bbacc7148e25a837090b680
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit b1d4ed51f41721c86a33d766fdfd80aaccf1df60)
(cherry picked from commit 2f45d6810e341cd89a20d5fceff0179cde768acc)
"
openstack%2Fkolla-ansible~stable%2Fqueens~Iaf7862be1affab390f811fc485fd0eb6879fd583,openstack/kolla-ansible,stable/queens,bug/1834467,Iaf7862be1affab390f811fc485fd0eb6879fd583,Fixes for MariaDB bootstrap and recovery,MERGED,2019-07-08 15:32:28.000000000,2019-08-07 12:29:45.000000000,2019-08-07 12:29:45.000000000,99,53,0,669703,9ec00c24eb09bc7bc6ab533022f56837b7505253,8,3,1,2,14826,Mark Goddard,mgoddard,"Fixes for MariaDB bootstrap and recovery

* Fix wsrep sequence number detection. Log message format is
  'WSREP: Recovered position: <UUID>:<seqno>' but we were picking out
  the UUID rather than the sequence number. This is as good as random.

* Add become: true to log file reading and removal since
  I4a5ebcedaccb9261dbc958ec67e8077d7980e496 added become: true to the
  'docker cp' command which creates it.

* Don't run handlers during recovery. If the config files change we
  would end up restarting the cluster twice.

* Wait for wsrep recovery container completion (don't detach). This
  avoids a potential race between wsrep recovery and the subsequent
  'stop_container'.

* Finally, we now wait for the bootstrap host to report that it is in
  an OPERATIONAL state. Without this we can see errors where the
  MariaDB cluster is not ready when used by other services.

Change-Id: Iaf7862be1affab390f811fc485fd0eb6879fd583
Closes-Bug: #1834467
(cherry picked from commit 86f373a198620a7082db8e243644fd8d53802c73)
"
openstack%2Fkolla-ansible~stable%2Frocky~I1cf0ad10b80552f503898e723f0c4bd00a38f143,openstack/kolla-ansible,stable/rocky,,I1cf0ad10b80552f503898e723f0c4bd00a38f143,ceph: fixes to deployment and upgrade,MERGED,2019-08-06 17:51:51.000000000,2019-08-07 12:29:44.000000000,2019-08-07 12:29:44.000000000,47,52,0,674889,93df0e86da901959f227e8d25b0fb59e41d936d2,7,3,1,6,30491,Radosław Piliszek,yoctozepto,"ceph: fixes to deployment and upgrade

1) ceph-nfs (ganesha-ceph) - use NFSv4 only
This is recommended upstream.
v3 and UDP require portmapper (aka rpcbind) which we
do not want, except where Ubuntu ganesha version (2.6)
forces it by requiring enabled UDP, see [1].
The issue has been fixed in 2.8, included in CentOS.
Additionally disable v3 helper protocols and kerberos
to avoid meaningless warnings.

2) ceph-nfs (ganesha-ceph) - do not export host dbus
It is not in use. This avoids the temptation to try
handling it on host.

3) Properly handle ceph services deploy and upgrade
Upgrade runs deploy.
The order has been corrected - nfs goes after mds.
Additionally upgrade takes care of rgw for keystone
(for swift emulation).

4) Enhance ceph keyring module with error detection
Now it does not blindly try to create a keyring after
any failure. This used to hide real issue.

5) Retry ceph admin keyring update until cluster works
Reordering deployment caused issue with ceph cluster not being
fully operational before taking actions on it.

6) CI: Remove osd df from collected logs as it may hang CI
Hangs are caused by healthy MON and no healthy MGR.
A descriptive note is left in its place.

7) CI: Add 5s timeout to ceph informational commands
This decreases the timeout from the default 300s.

[1] https://review.opendev.org/669315

Change-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 826f6850d06afbbad95727bdf6cf53fb986b7cf8)
(cherry picked from commit b26f397bfebfd2d2d70608855178017653f33d26)
"
openstack%2Fglance~master~I82e0438de5aaed2ef1975a5aa61062637e32a69e,openstack/glance,master,glance-store,I82e0438de5aaed2ef1975a5aa61062637e32a69e,Do not use glance_store 0.29.0,MERGED,2019-06-27 07:37:49.000000000,2019-08-07 12:22:35.000000000,2019-08-07 12:22:35.000000000,1,1,0,667799,f6a938660bc6e8108b0e7ec70a4c8b1879abf9d6,7,3,1,1,27822,pengyuesheng,pengyuesheng,"Do not use glance_store 0.29.0

glance_store 0.29.0 introduced backwards incompatible change
breaking multi-store feature that was supposed to be included in
1.0.0 release without any mention in release notes. Revert is in
process and 0.29.1 will be released after. 0.29.0 should not be
used.

Change-Id: I82e0438de5aaed2ef1975a5aa61062637e32a69e
"
openstack%2Fglance~master~I641f6bb61e545617b9ad971b1215294cf335adbc,openstack/glance,master,Bug#4,I641f6bb61e545617b9ad971b1215294cf335adbc,Modify the url of upper_constraints_file,MERGED,2019-06-19 04:38:43.000000000,2019-08-07 12:20:29.000000000,2019-08-07 12:20:29.000000000,4,4,1,666215,5cab93f8c3917bb3042b36e5c94282652edad3d8,7,6,1,1,27822,pengyuesheng,pengyuesheng,"Modify the url of upper_constraints_file

Depends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I641f6bb61e545617b9ad971b1215294cf335adbc
"
openstack%2Fkolla-ansible~stable%2Frocky~I47587cbeb8be0e782c13ba7f40367409e2daa8a8,openstack/kolla-ansible,stable/rocky,bug/ceph_mds_allow-stable/stein-stable/rocky,I47587cbeb8be0e782c13ba7f40367409e2daa8a8,Add 'allow *' to getting ceph mds keyring,MERGED,2019-08-07 07:13:50.000000000,2019-08-07 12:19:29.000000000,2019-08-07 12:19:29.000000000,2,2,0,675040,de34995bd6106efd9103e269ec862122bc3e2fbb,7,3,1,1,30491,Radosław Piliszek,yoctozepto,"Add 'allow *' to getting ceph mds keyring

* Sometimes getting/creating ceph mds keyring fails, similar to https://tracker.ceph.com/issues/16255

Change-Id: I47587cbeb8be0e782c13ba7f40367409e2daa8a8
(cherry picked from commit 4e3054b5dac2f0a0f7b128377231b112b4818700)
(cherry picked from commit a579e19b460662cb5ef26e04e31f0462ae54639c)
"
openstack%2Fkolla-ansible~stable%2Fstein~Ia4801d09ff1165c44561fd286fc57e903da2c602,openstack/kolla-ansible,stable/stein,bug/ceph_upgrade-stable/stein,Ia4801d09ff1165c44561fd286fc57e903da2c602,Add mon address to ceph release version check,MERGED,2019-08-06 17:52:35.000000000,2019-08-07 12:19:28.000000000,2019-08-07 12:19:28.000000000,2,2,0,674891,2085a9c98eee37d1bb7c7477ba689611d7653f91,7,3,1,1,30491,Radosław Piliszek,yoctozepto,"Add mon address to ceph release version check

Change-Id: Ia4801d09ff1165c44561fd286fc57e903da2c602
(cherry picked from commit b2c17d60515bbbe283f534d7d0c9034e57589929)
"
openstack%2Fmonasca-notification~master~I111e9923ceb12f364febf33c0b59bdbdac53d5fe,openstack/monasca-notification,master,,I111e9923ceb12f364febf33c0b59bdbdac53d5fe,Add PagerDuty notification plugin documentation,MERGED,2019-05-02 08:53:17.000000000,2019-08-07 12:13:46.000000000,2019-08-07 12:13:46.000000000,20,1,0,656750,48ca39876e9296a23e6dd51b7abd0ee34880583f,21,5,1,1,17669,Doug Szumski,DougSzumski,"Add PagerDuty notification plugin documentation

Story: 2005551
Task: 30699
Change-Id: I111e9923ceb12f364febf33c0b59bdbdac53d5fe
"
openstack%2Fcharm-glance~master~I2ba0066e1b296ad61837f94c7f44014293963166,openstack/charm-glance,master,bug/1477137,I2ba0066e1b296ad61837f94c7f44014293963166,[WIP] Add HTTPS tests,ABANDONED,2018-07-31 14:18:27.000000000,2019-08-07 12:08:24.000000000,,500,0,0,587481,ca8178b7b88b650e091ca196b4ab67ea392a4722,9,2,3,2,28608,Nicolas Pochet,npochet,"[WIP] Add HTTPS tests

Test that the services are still available and usable after a change of
configuration that enables HTTPS.

Change-Id: I2ba0066e1b296ad61837f94c7f44014293963166
Related-Bug: #1477137
"
openstack%2Fmonasca-notification~master~Id936c3dc8b4f3e2430de20c8b69d0e703b1cf9ef,openstack/monasca-notification,master,bp/templates-for-slack-notifications,Id936c3dc8b4f3e2430de20c8b69d0e703b1cf9ef,Templates for Slack notifications,MERGED,2017-11-14 12:09:55.000000000,2019-08-07 12:04:51.000000000,2019-08-07 12:04:50.000000000,134,2,3,519630,39a906b8fba280707e457052224210022407e140,26,6,7,4,17669,Doug Szumski,DougSzumski,"Templates for Slack notifications

This change adds an optional, user configurable template which
may be used to format the text contained in Slack notifications.

Story: 2001308
Task: 5859
Change-Id: Id936c3dc8b4f3e2430de20c8b69d0e703b1cf9ef
"
openstack%2Ftripleo-ci~master~I3577433ada3a9166fac16cfaaba60c01bff6420d,openstack/tripleo-ci,master,ovb8,I3577433ada3a9166fac16cfaaba60c01bff6420d,Use podman as default container CLI for RHEL,MERGED,2019-08-06 16:36:15.000000000,2019-08-07 11:48:58.000000000,2019-08-07 11:48:57.000000000,3,1,5,674866,5047ed026c593ac23f93a8c1590e32f5f3a8427f,14,6,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Use podman as default container CLI for RHEL

Change-Id: I3577433ada3a9166fac16cfaaba60c01bff6420d
"
openstack%2Foctavia~master~I3be0fa18578c7c1552f24842a09e18c01e34358a,openstack/octavia,master,,I3be0fa18578c7c1552f24842a09e18c01e34358a,Fix wrong package names or versions for centos-minimal images,MERGED,2019-08-01 16:36:28.000000000,2019-08-07 11:48:04.000000000,2019-08-07 11:48:04.000000000,8,5,2,674087,50c168e860b0947b33109dd4d94beea44400f671,26,6,3,3,29244,Gregory Thiemonge,gthiemonge,"Fix wrong package names or versions for centos-minimal images

Since centos-minimal is used as base for centos image, dib installs
haproxy 1.5.x instead of haproxy 1.8.x, and dhcp client is missing
(dhclient package).

Depends-On: https://review.opendev.org/#/c/673172/

Story: 2006323
Task: 36056

Change-Id: I3be0fa18578c7c1552f24842a09e18c01e34358a
"
openstack%2Fpython-tripleoclient~stable%2Fstein~I27e3f209f948b4c7c04e7994fc4dc7489f28f720,openstack/python-tripleoclient,stable/stein,bug/1837393,I27e3f209f948b4c7c04e7994fc4dc7489f28f720,Additional resource cleanup,MERGED,2019-08-06 18:39:29.000000000,2019-08-07 11:31:08.000000000,2019-08-07 11:31:07.000000000,44,12,0,674905,fd7f4ec14acad2757b0fd4c5ab4f74a83545042c,7,3,1,7,14985,Alex Schultz,mwhahaha,"Additional resource cleanup

These resources were previously not properly closed when leading to
ResourceWarnings being printed to the end user.

Change-Id: I27e3f209f948b4c7c04e7994fc4dc7489f28f720
Related-Bug: #1837393
(cherry picked from commit 6e13179ecd5ff56df746cb0926cfd16f41ac75e4)
"
openstack%2Fkolla-ansible~master~I347107bc33733061ad043bffe38ecc1d16770afc,openstack/kolla-ansible,master,bug/1811581,I347107bc33733061ad043bffe38ecc1d16770afc,repair ceph_nfs container start failed,MERGED,2019-01-13 13:59:24.000000000,2019-08-07 11:29:44.000000000,2019-01-23 07:21:51.000000000,27,2,2,630509,d35f9a4b706f10bfc1add7fa36dad2b334348afb,21,6,4,4,26285,wu.chunyang,wu.chunyang,"repair ceph_nfs container start failed

when enable ceph_nfs,it deploy failed, because no ganesha config
file, and the 'ganesha.nfs' command need root privilege to run.
i will modify ceph_nfs dockerfile,please review. thanks

https://review.openstack.org/#/c/630510/

Change-Id: I347107bc33733061ad043bffe38ecc1d16770afc
Closes-Bug: #1811581
"
openstack%2Fironic~stable%2Fstein~Id35dcf8ddc209bb8318433d6bf26aba848e074ee,openstack/ironic,stable/stein,ansible_early_glance_info_preload-stable/stein,Id35dcf8ddc209bb8318433d6bf26aba848e074ee,Ansible module: fix deployment for private and/or shared images,MERGED,2019-07-29 12:28:30.000000000,2019-08-07 11:26:19.000000000,2019-08-07 11:26:19.000000000,42,23,0,673283,9dbec70d7c7e33c67c2091dc829f6a5f768b990c,40,8,1,3,15064,raphael.glon,raphael,"Ansible module: fix deployment for private and/or shared images

The ansible module deployment was broken for private/shared images
because the original request context was not available anymore
at the time the image informations were fetched

Change-Id: Id35dcf8ddc209bb8318433d6bf26aba848e074ee
Story: #2006178
Task: #35702
(cherry picked from commit d0c31d748d3e6ccc05a0452bac5eb67eaca19763)
"
openstack%2Fopenstack-ansible-os_ceilometer~master~I14f040c7549fabfe88882dc609f62cd08ab130db,openstack/openstack-ansible-os_ceilometer,master,,I14f040c7549fabfe88882dc609f62cd08ab130db,Change default username for oslo from designate to designate-rpc,MERGED,2019-08-06 11:14:17.000000000,2019-08-07 10:44:52.000000000,2019-08-07 08:02:49.000000000,1,1,0,674780,1e17662057d55392284b765ac9367179d98ba096,8,3,1,1,22018,Ionuț Bîru,ionutbiru,"Change default username for oslo from designate to designate-rpc

In designate ansible role the default username for oslo is designate-rpc.
If ceilometer is used for designate, ceilometer configuration is generated incorrectly
and it doesn't start, returning ACCESS_REFUSED

Change-Id: I14f040c7549fabfe88882dc609f62cd08ab130db
"
openstack%2Fironic-prometheus-exporter~master~I3f897e0dab56500c18bb01ce35b7071a7df9bad1,openstack/ironic-prometheus-exporter,master,releasenote_flask,I3f897e0dab56500c18bb01ce35b7071a7df9bad1,Release note for Flask Application,MERGED,2019-08-06 14:37:02.000000000,2019-08-07 10:40:15.000000000,2019-08-07 10:40:15.000000000,9,0,0,674818,458bc25deb4c651f6b550083ac83051b0b13520b,7,3,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Release note for Flask Application

Change-Id: I3f897e0dab56500c18bb01ce35b7071a7df9bad1
"
openstack%2Fhorizon~master~Iab6be5ed94d794ff5ef6a201671165aaba89f3ec,openstack/horizon,master,bug/1824076,Iab6be5ed94d794ff5ef6a201671165aaba89f3ec,Correct error messages on detach volume form under instance panel,MERGED,2019-04-10 07:00:22.000000000,2019-08-07 10:32:23.000000000,2019-08-07 10:32:23.000000000,4,4,10,651445,26c5c8c34392124a5c81859ef0acfffd371e6743,36,6,12,1,27822,pengyuesheng,pengyuesheng,"Correct error messages on detach volume form under instance panel

On instance panel，if the volume is the root device volume,
the detached volume will fail,
but the error message does not explain the cause of the error.
This patch corrects the error message.

Co-Authored-By: Vishal Manchanda <manchandavishal143@gmail.com>

Change-Id: Iab6be5ed94d794ff5ef6a201671165aaba89f3ec
Closes-Bug: #1824076
"
openstack%2Fpython-ironic-inspector-client~master~Ibf9315a6e786c56d2c0cda5d7e9444692986169d,openstack/python-ironic-inspector-client,master,sphinx,Ibf9315a6e786c56d2c0cda5d7e9444692986169d,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-08-02 06:10:28.000000000,2019-08-07 10:30:50.000000000,2019-08-07 10:30:50.000000000,1,1,0,674185,2cd0a230a65482fa138b3a9aa1af880f867986a0,12,3,2,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Ibf9315a6e786c56d2c0cda5d7e9444692986169d
"
openstack%2Fkarbor~master~If548e667f44f671278b2b13c19f97a15d867d905,openstack/karbor,master,image-boot-server-backup,If548e667f44f671278b2b13c19f97a15d867d905,Add support for image boot server backup with data,MERGED,2019-07-28 02:04:36.000000000,2019-08-07 10:07:57.000000000,2019-08-07 10:07:57.000000000,169,16,0,673157,68afbfea71434ad34b8bc0c473d36f1a04e74290,13,4,3,4,21224,jiaopengju,jiaopengju,"Add support for image boot server backup with data

This patch added support for image boot server backup with
data. If the image's parent resource is server type, and
the option 'enable_server_backup' is True, it will take
snapshot at first, then backup the new created image by
doing snapshot.

Change-Id: If548e667f44f671278b2b13c19f97a15d867d905
Story: 1712059
Task: 33997
"
openstack%2Fmetalsmith~master~I40bbf155421cd2b382f8262eb38393c3300478cd,openstack/metalsmith,master,display_name,I40bbf155421cd2b382f8262eb38393c3300478cd,Set instance_info.display_name to the hostname,MERGED,2019-08-06 22:54:10.000000000,2019-08-07 10:04:56.000000000,2019-08-07 10:04:56.000000000,5,0,0,674952,6f316bbad4e8a82ab1d77e0ee2fcc7fbe7f0c476,6,2,1,2,4571,Steve Baker,steve-stevebaker,"Set instance_info.display_name to the hostname

This makes metalsmith consistent with what the nova ironic driver
does, and provides a way of discovering the hostname for a node
without needing to query the allocation API.

Change-Id: I40bbf155421cd2b382f8262eb38393c3300478cd
"
openstack%2Fplacement~master~I8120b30271ecdaf7f557a965102d03f67b6fce85,openstack/placement,master,optimize-_build_provider_summaries,I8120b30271ecdaf7f557a965102d03f67b6fce85,Further optimize _build_provider_summaries,MERGED,2019-08-02 16:34:37.000000000,2019-08-07 09:45:08.000000000,2019-08-07 09:45:08.000000000,15,4,1,674349,0386f5340787091970ebb0c4b96535635a7f405b,17,4,4,1,14070,Eric Fried,efried,"Further optimize _build_provider_summaries

Since usages don't change per operation, if we enter
_build_provider_summaries having already created a summary for a given
resource provider, we can skip processing all the usages for that
resource provider.

And, if we have no rp_ids left over, we can skip the method
entirely.

Change-Id: I8120b30271ecdaf7f557a965102d03f67b6fce85
"
openstack%2Fplacement~master~I43ae1118421366336b4e96738c2981e07caebec8,openstack/placement,master,optimize-_build_provider_summaries,I43ae1118421366336b4e96738c2981e07caebec8,Add RequestWideSearchContext.summaries_by_id,MERGED,2019-08-02 10:06:46.000000000,2019-08-07 09:45:07.000000000,2019-08-07 09:45:07.000000000,27,19,6,674254,6ef820c98272d20b1d153ab35873536c64a0e4ae,18,4,4,2,11564,Chris Dent,chdent,"Add RequestWideSearchContext.summaries_by_id

When making a GET /allocation_candidates request, ProviderSummaries
are created for each request group. This can lead to duplicate calls
to creating the ProviderSummary objects and the ResourceProvider
object each contains.

The usage info is fixed for the duration of the request so there is
no difference between ProviderSummaries with the same id

Therefore a summaries_by_id dict is added to the
RequestWideSearchContext to operate as a single-request-wide cache of
ProviderSummary objects so that we don't need to create duplicates.

In testing using a large number of providers modeled after an
enhanced nested perfload topology [1], adding the cache more than
halfed the number of ProviderSummary and ResourceProvider objects
created. Since creating objects in Python is expensive, this is a
a win.

[1] I67d8091b464cd7b875b37766f52818a5a2faa780

Change-Id: I43ae1118421366336b4e96738c2981e07caebec8
"
openstack%2Fneutron~master~Ib6bd097ec5fc55a3447b5406d5e4c5e3976b48ab,openstack/neutron,master,trivial_fix,Ib6bd097ec5fc55a3447b5406d5e4c5e3976b48ab,Remove default getattr values in RouterFipRateLimitMaps,MERGED,2019-08-05 15:20:46.000000000,2019-08-07 09:45:05.000000000,2019-08-07 09:45:05.000000000,3,6,0,674634,6da30d3ae2f8f27719ae6978ea2872b70689336d,16,9,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Remove default getattr values in RouterFipRateLimitMaps

When retrieving the class attributes, used as cache variables, the
getattr function should always return a class member and not a default
value, raising an exception if the attribute does not exist.

In case of using the default value, the data could be stored in a
temporary variable not stored in the class.

TrivialFix

Change-Id: Ib6bd097ec5fc55a3447b5406d5e4c5e3976b48ab
"
openstack%2Fkolla-ansible~stable%2Fstein~I6946290cd890f74c59ed5394e8382a8b75c0c4cd,openstack/kolla-ansible,stable/stein,feature/ceph-ci-nfs-stable/stein,I6946290cd890f74c59ed5394e8382a8b75c0c4cd,Add ceph-mds/rgw/nfs to gate,MERGED,2019-07-29 14:35:10.000000000,2019-08-07 09:10:18.000000000,2019-08-07 09:10:18.000000000,4,0,0,673302,5cbc52f9c21c4b1e4cd2b95d65677655777c76a7,17,5,5,1,30491,Radosław Piliszek,yoctozepto,"Add ceph-mds/rgw/nfs to gate

Change-Id: I6946290cd890f74c59ed5394e8382a8b75c0c4cd
(cherry picked from commit a77b0f624ea3d7a1640cf4aefbee007422806690)
"
openstack%2Fnetworking-ovn~master~I9e83989f400652476a9fd24cdad450aa3b10215e,openstack/networking-ovn,master,sphinx,I9e83989f400652476a9fd24cdad450aa3b10215e,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-25 09:18:02.000000000,2019-08-07 09:05:34.000000000,2019-08-07 09:05:33.000000000,1,1,1,672672,012eebf40e50d0edb526e5de82576fcf3df0bf30,16,5,3,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I9e83989f400652476a9fd24cdad450aa3b10215e
"
openstack%2Fmistral~master~I2a6b99aeb3db3b45e0a4c76f1ea4af3b798de73d,openstack/mistral,master,eyalb/raw_string,I2a6b99aeb3db3b45e0a4c76f1ea4af3b798de73d,Use raw strings in all pattern matching strings,MERGED,2019-08-06 14:58:27.000000000,2019-08-07 09:01:34.000000000,2019-08-07 09:01:34.000000000,17,17,0,674824,9b576aec7c2ecc56d7c105b80cee3e2ad3dc66e4,7,2,1,7,19134,Eyal,eyalb,"Use raw strings in all pattern matching strings

This removes some of the deprecation warnings on
unsupported escape sequence for python3.6 and up

Change-Id: I2a6b99aeb3db3b45e0a4c76f1ea4af3b798de73d
"
openstack%2Fmonasca-log-api~master~I6c551573e053785a0983cf72eab802aa240f89de,openstack/monasca-log-api,master,upgrade_elkstack,I6c551573e053785a0983cf72eab802aa240f89de,[WIP] Upgrade Elkstack,ABANDONED,2019-07-29 14:19:39.000000000,2019-08-07 08:52:55.000000000,,132,211,0,673297,b9dbb18134e6eb845fa955de517effcd6fb018db,9,1,4,11,30221,Arseni Lipinski,arseni.lipinski,"[WIP] Upgrade Elkstack

Change-Id: I6c551573e053785a0983cf72eab802aa240f89de
"
openstack%2Fironic-prometheus-exporter~master~Ibe7207e4ac75c70e0478b25d2e51650a2aebb994,openstack/ironic-prometheus-exporter,master,release_info,Ibe7207e4ac75c70e0478b25d2e51650a2aebb994,Release note for initial ipmi support,MERGED,2019-08-06 13:04:22.000000000,2019-08-07 08:39:41.000000000,2019-08-07 08:39:41.000000000,8,0,0,674809,573c2e6144c6a3ac637b3a9c1212feff31445038,7,3,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Release note for initial ipmi support

This patch adds a release note about the initial payloads
from ipmi that were converted into metrics.

Change-Id: Ibe7207e4ac75c70e0478b25d2e51650a2aebb994
"
openstack%2Fironic-prometheus-exporter~master~Iec81269baffa34f5db256be9c40f363e7609d462,openstack/ironic-prometheus-exporter,master,minor-fixes,Iec81269baffa34f5db256be9c40f363e7609d462,Move metric creation logic from messaging module,MERGED,2019-07-31 15:58:27.000000000,2019-08-07 08:39:41.000000000,2019-08-07 08:39:40.000000000,156,166,0,673861,b2e391653bda65b2e0b9218e0c5fef87c37ff476,11,4,2,3,15519,Iury Gregory Melo Ferreira,iurygregory,"Move metric creation logic from messaging module

This patch moves the logic to create each metric from the messaging
module to the ipmi module.

- Updated parameters in ipmi to work with the dictionary of parameters,
instead of hardcoded positional arguments.
- Updated tests to match the changes.

Change-Id: Iec81269baffa34f5db256be9c40f363e7609d462
"
openstack%2Ftripleo-validations~master~I1f21ac212b62ec440b3a55cd26d4f8255e5d98a5,openstack/tripleo-validations,master,bp/validation-framework-infra,I1f21ac212b62ec440b3a55cd26d4f8255e5d98a5,Make xfs-check-ftype molecule test voting again,ABANDONED,2019-08-06 10:52:34.000000000,2019-08-07 08:39:05.000000000,,0,1,0,674774,af69944822f95d3a55e7cc9d71bfc4e4157e762c,5,3,3,1,11491,Gael Chamoulaud,gchamoul,"Make xfs-check-ftype molecule test voting again

Change-Id: I1f21ac212b62ec440b3a55cd26d4f8255e5d98a5
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fcookbook-openstack-block-storage~stable%2Fqueens~I225a30379820e6e033bcea987fbf1a4db33dbd3a,openstack/cookbook-openstack-block-storage,stable/queens,prevent_vanilla_conf_queens,I225a30379820e6e033bcea987fbf1a4db33dbd3a,api: prevent installation of invalid apache2 conf file,MERGED,2019-08-06 16:39:12.000000000,2019-08-07 08:22:02.000000000,2019-08-07 08:22:02.000000000,11,1,0,674868,f662bc35fddad1ba718106dc96c1a0f612b1797b,7,3,1,2,11109,Roger Luethi,rluethi,"api: prevent installation of invalid apache2 conf file

If apache is (re)starting while the chef-client installs the cinder-api
package, it may pick up the package-supplied cinder-wsgi apache2 conf
file before chef-client gets around to disabling it which may result in
apache2 failing due to a non-working configuration.

This changeset eliminates the race by creating an empty configuration
file before installing the software. The solution is based on the
assumption that no reasonably configured package manager will overwrite
an existing, user-created configuration file. The empty configuration
file is left in place to avoid its creation and removal during every
recipe run.

backport: queens

Change-Id: I225a30379820e6e033bcea987fbf1a4db33dbd3a
(cherry picked from commit 8c0d728d13dffeed1c6a9f51d0422230f2a24671)
"
openstack%2Fceilometer~master~Id583cd0d9dcc30b59d2d70391ea5b1e6483decda,openstack/ceilometer,master,,Id583cd0d9dcc30b59d2d70391ea5b1e6483decda,Get output for processutils.execute impi command,MERGED,2019-08-07 05:29:07.000000000,2019-08-07 08:00:38.000000000,2019-08-07 07:59:52.000000000,1,1,0,675029,d8ae0e96bbb62adff3a82878d882e5a7e5b55051,7,2,1,1,14107,zhurong,zhurong,"Get output for processutils.execute impi command

Without return will ony execute the command, but impi command need
a output to parse, so this commit add a return for command execute.

Change-Id: Id583cd0d9dcc30b59d2d70391ea5b1e6483decda
"
openstack%2Ftempest~master~I8ccd26ad5c49009699dc9fdf65f773c0edc92ec4,openstack/tempest,master,,I8ccd26ad5c49009699dc9fdf65f773c0edc92ec4,Add unit test for backup of volume,ABANDONED,2019-08-06 06:38:55.000000000,2019-08-07 08:00:22.000000000,,226,9,0,674737,29ad265b300de1cca3b91620ab60ec05b2a7c71f,6,1,3,3,30643,wanglbj,wanglbj,"Add unit test for backup of volume

This commit Add unit test for backup of volume for volume Api V3, include the following API:
https://docs.openstack.org/api-ref/block-storage/v3/index.html#create-a-backup
https://docs.openstack.org/api-ref/block-storage/v3/index.html#restore-a-backup
https://docs.openstack.org/api-ref/block-storage/v3/index.html#delete-a-backup
https://docs.openstack.org/api-ref/block-storage/v3/index.html#show-backup-detail
https://docs.openstack.org/api-ref/block-storage/v3/index.html#export-a-backup
https://docs.openstack.org/api-ref/block-storage/v3/index.html#import-a-backup
https://docs.openstack.org/api-ref/block-storage/v3/index.html#reset-a-backup-s-status
https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup

Change-Id: I8ccd26ad5c49009699dc9fdf65f773c0edc92ec4
"
openstack%2Fpython-cinderclient~master~I9c13afc35e0c5f129865a9c88e078ad59f4a0c6e,openstack/python-cinderclient,master,retire-api-site,I9c13afc35e0c5f129865a9c88e078ad59f4a0c6e,Update api-ref location,MERGED,2019-07-25 16:10:00.000000000,2019-08-07 07:39:14.000000000,2019-08-07 07:39:14.000000000,1,1,0,672770,1b8d5c20fb94eb21a8611b045778f80256b0b4ac,8,4,1,1,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I9c13afc35e0c5f129865a9c88e078ad59f4a0c6e
"
openstack%2Foctavia~master~I6dc4a7626cd5244b445893b96a7d7351ca528dc1,openstack/octavia,master,,I6dc4a7626cd5244b445893b96a7d7351ca528dc1,Add missing lib dependencies to requirements.txt,MERGED,2019-07-29 19:54:43.000000000,2019-08-07 07:30:42.000000000,2019-08-07 07:30:42.000000000,3,0,0,673359,262a89c7ed5d3da113e4f1c62130efe12b8defb8,19,3,2,1,6469,Carlos Gonçalves,cgoncalves,"Add missing lib dependencies to requirements.txt

Some Python libraries were missing in requirements.txt. This patch adds
them to the list of dependencies.

Change-Id: I6dc4a7626cd5244b445893b96a7d7351ca528dc1
"
openstack%2Fneutron~master~Ic189ee18ccbb6c11c65e95d18eb47431e10dadc5,openstack/neutron,master,,Ic189ee18ccbb6c11c65e95d18eb47431e10dadc5,add .idea to .gitignore,ABANDONED,2019-08-05 06:37:08.000000000,2019-08-07 07:29:07.000000000,,3,0,2,674535,00ddde3c2d8b7f883e832bd1a83505ce3ee09f6d,27,7,2,1,30380,ZhouHeng,zhouhenglc,"add .idea to .gitignore

The .idea folder is used to save the compiler's project configuration
information, should be added to .gitignore.

Change-Id: Ic189ee18ccbb6c11c65e95d18eb47431e10dadc5
"
openstack%2Fkolla-ansible~stable%2Fstein~I47587cbeb8be0e782c13ba7f40367409e2daa8a8,openstack/kolla-ansible,stable/stein,bug/ceph_mds_allow-stable/stein,I47587cbeb8be0e782c13ba7f40367409e2daa8a8,Add 'allow *' to getting ceph mds keyring,MERGED,2019-07-29 15:54:57.000000000,2019-08-07 07:13:50.000000000,2019-08-02 08:10:24.000000000,2,2,0,673320,a579e19b460662cb5ef26e04e31f0462ae54639c,12,5,2,1,30491,Radosław Piliszek,yoctozepto,"Add 'allow *' to getting ceph mds keyring

* Sometimes getting/creating ceph mds keyring fails, similar to https://tracker.ceph.com/issues/16255

Change-Id: I47587cbeb8be0e782c13ba7f40367409e2daa8a8
(cherry picked from commit 4e3054b5dac2f0a0f7b128377231b112b4818700)
"
openstack%2Fpython-cyborgclient~master~I4c2ebfc809dd037ad1388ed5fe6398859ab0915b,openstack/python-cyborgclient,master,retire-api-site,I4c2ebfc809dd037ad1388ed5fe6398859ab0915b,Update api-ref location,MERGED,2019-07-25 16:10:45.000000000,2019-08-07 06:57:59.000000000,2019-08-07 06:57:59.000000000,1,1,0,672771,6e0c821b4d34f16afc2d8f5dcfaee21cef66ac22,7,13,1,1,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I4c2ebfc809dd037ad1388ed5fe6398859ab0915b
"
openstack%2Fopenstack-ansible~master~I0368e509ba6702e0da1a9c96f7cee76a6d35b3e0,openstack/openstack-ansible,master,fix-links,I0368e509ba6702e0da1a9c96f7cee76a6d35b3e0,Update links,MERGED,2019-08-04 14:20:37.000000000,2019-08-07 06:25:57.000000000,2019-08-07 06:25:57.000000000,43,40,0,674495,96c6635a1596184fb982f8c599196c52101b6d05,9,3,2,19,6547,Andreas Jaeger,jaegerandi,"Update links

Replace moved networking-guide with current location.
Replace non-existing anchor in https://galeracluster.com with page link.
Replace some more moved pages with new location.
Fix many places to use https instead of http.

Use internal RST link that can be verified instead of external one
for /user/security/index.html.

Checked with:
sphinx-build -a -E -W -d doc/build/doctrees -b linkcheck doc/source doc/build/html

Change-Id: I0368e509ba6702e0da1a9c96f7cee76a6d35b3e0
"
openstack%2Fnova~master~Id70be2f547b089d3f7c63a75145ded5f80238e8a,openstack/nova,master,bp/virtual-persistent-memory,Id70be2f547b089d3f7c63a75145ded5f80238e8a,db: Add vpmems to instance_extra,MERGED,2019-06-03 07:46:48.000000000,2019-08-07 06:19:33.000000000,2019-07-10 16:48:07.000000000,42,2,4,662697,041285d76a6db9d9fe6fe00c56f7e981e160d4cd,41,17,4,5,23598,Zhong Luyao,ZhongLuyao,"db: Add vpmems to instance_extra

This change adds a vpmems deferred-load column to
instance_extras, which stores a list of vpmem for a given instance
in the form of a JSON blob.

Change-Id: Id70be2f547b089d3f7c63a75145ded5f80238e8a
Partially-Implements: blueprint virtual-persistent-memory
Co-Authored-By: He Jie Xu <hejie.xu@intel.com>
"
openstack%2Fironic~stable%2Fstein~Ia1dcc68d7e75a931e01829ce23da36c978a70765,openstack/ironic,stable/stein,,Ia1dcc68d7e75a931e01829ce23da36c978a70765,Direct bridge to be setup,MERGED,2019-08-06 12:00:29.000000000,2019-08-07 06:04:11.000000000,2019-08-07 05:43:30.000000000,6,2,0,674790,1ab940a2ea93d874ec1df76d575f0dc165db78bc,17,8,1,2,11655,Julia Kreger,jkreger,"Direct bridge to be setup

The multinode jobs are failing because the br-infra bridge
is not being setup. It is not being setup because somewhere
in the infra, the multi-node-bridge role is never established
as a requirement. Realistically, only ironic does this, but
we need to ensure it is present.

Change-Id: Ia1dcc68d7e75a931e01829ce23da36c978a70765
(cherry picked from commit bda02c43fb022a155157402764cd5a74478b8cf1)
"
openstack%2Fneutron~stable%2Fstein~I26115932ef4775f157297be1637ee26a4fca4666,openstack/neutron,stable/stein,fix-rpc-workers-default,I26115932ef4775f157297be1637ee26a4fca4666,Fix default RPC worker count,MERGED,2019-08-02 08:46:25.000000000,2019-08-07 05:46:33.000000000,2019-08-07 05:46:33.000000000,6,2,0,674227,2e7dd4db88a37726ed71e3e9215b7392a1aa9c42,22,7,1,2,2394,Adam Spiers,adam.spiers,"Fix default RPC worker count

The help for the rpc_workers config option is:

    Number of RPC worker processes for service.  If not specified, the
    default is equal to half the number of API workers.

However, this does not accurately describe the current behaviour,
which is to default to half the _default_ number of API workers.  This
can make a big difference; for example on a 256-CPU machine with 256GB
of RAM which has api_workers configured to 8 but rpc_workers not
configured to anything, this will result in 64 RPC workers, which is 8
for every API worker!

Therefore tweak the default to rely on the actual value of
api_workers, which may be different than the default value.

Change-Id: I26115932ef4775f157297be1637ee26a4fca4666
Related-Bug: #1838688
Closes-Bug: #1838689
(cherry picked from commit 61d149c0123997accc5c48994d7a4d1514eb49c9)
"
openstack%2Ftripleo-heat-templates~master~I0ada9fc8e7e919a763ef4f524449265963264fc0,openstack/tripleo-heat-templates,master,service_token,I0ada9fc8e7e919a763ef4f524449265963264fc0,Enable service token in nova and cinder,MERGED,2019-06-21 00:49:06.000000000,2019-08-07 04:27:22.000000000,2019-08-07 04:27:22.000000000,10,0,4,666744,9dfdc9ef692d891550dfd4101cca9522a29e340e,67,8,8,2,9816,Takashi Kajinami,kajinamit,"Enable service token in nova and cinder

This patch enables service token feature in nova and cinder, which
can be used to avoid problems in inter-component request caused by
token expiration for long running tasks.

Depends-on: https://review.opendev.org/#/c/666467/
Depends-on: https://review.opendev.org/#/c/666471/
Depends-on: https://review.opendev.org/#/c/666746/
Depends-on: https://review.opendev.org/#/c/670424/
Change-Id: I0ada9fc8e7e919a763ef4f524449265963264fc0
"
openstack%2Fpython-tripleoclient~master~I53eab2c41c80f5dafff9824bf3086e1d9a369e22,openstack/python-tripleoclient,master,bug/1838828,I53eab2c41c80f5dafff9824bf3086e1d9a369e22,Disable telemetry if it's not enabled,MERGED,2019-08-05 15:50:59.000000000,2019-08-07 03:25:49.000000000,2019-08-07 03:25:49.000000000,25,0,0,674639,0faa33a6b07f711054ebd8deeaad34a1704745b6,14,6,1,2,14985,Alex Schultz,mwhahaha,"Disable telemetry if it's not enabled

The disable-telemetry.yaml environment is used to disable all the
telemetry services and to disable the notification drivers. Since we
didn't have this by default, notifications were still being sent to
the undercloud rabbitmq and never consumed.

Change-Id: I53eab2c41c80f5dafff9824bf3086e1d9a369e22
Closes-Bug: #1838828
"
openstack%2Fpuppet-watcher~master~I6da8ab2d259079449747c19c624a0a3d260b0f78,openstack/puppet-watcher,master,fix-sphinx,I6da8ab2d259079449747c19c624a0a3d260b0f78,Sync Sphinx requirement,MERGED,2019-08-07 01:13:41.000000000,2019-08-07 02:56:30.000000000,2019-08-07 02:56:29.000000000,2,1,0,674981,e209101ea78e17f91b3aafdf607260235c7af6e0,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I6da8ab2d259079449747c19c624a0a3d260b0f78
"
openstack%2Fpuppet-aodh~master~I86587072a7489fc250603c8730f3e8946995bada,openstack/puppet-aodh,master,fix-sphinx,I86587072a7489fc250603c8730f3e8946995bada,Sync Sphinx requirement,MERGED,2019-08-07 01:13:39.000000000,2019-08-07 02:54:14.000000000,2019-08-07 02:54:14.000000000,2,1,0,674975,37e640aa58e6da16acb965a6fc6b3ef8afe57dbd,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I86587072a7489fc250603c8730f3e8946995bada
"
openstack%2Fpuppet-panko~master~I97aefadedc7b8ac5e06014bd985344f2e5ec9592,openstack/puppet-panko,master,fix-sphinx,I97aefadedc7b8ac5e06014bd985344f2e5ec9592,Sync Sphinx requirement,MERGED,2019-08-07 01:13:42.000000000,2019-08-07 02:52:19.000000000,2019-08-07 02:52:19.000000000,2,1,0,674982,96ad098bed3f67a2f5a4efa0e39728418bd396f2,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I97aefadedc7b8ac5e06014bd985344f2e5ec9592
"
openstack%2Fpuppet-oslo~master~I7151639e8955770185913d922b1517a8f5aa2ffd,openstack/puppet-oslo,master,fix-sphinx,I7151639e8955770185913d922b1517a8f5aa2ffd,Sync Sphinx requirement,MERGED,2019-08-07 01:13:41.000000000,2019-08-07 02:51:23.000000000,2019-08-07 02:51:23.000000000,2,1,0,674980,e69e317002222a372d1e2afb2b969d3d17122ac7,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I7151639e8955770185913d922b1517a8f5aa2ffd
"
openstack%2Fpuppet-neutron~master~I51dc3789c4aa6db7d2958d7056511a9164b1ebaa,openstack/puppet-neutron,master,fix-sphinx,I51dc3789c4aa6db7d2958d7056511a9164b1ebaa,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 02:38:42.000000000,2019-08-07 02:38:41.000000000,2,1,0,674996,c820e3f8ec3dbfe53bfaee2557e392cac9774350,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I51dc3789c4aa6db7d2958d7056511a9164b1ebaa
"
openstack%2Foctavia-tempest-plugin~master~Ic3f620dcf02c756395da760f8b73874b40318cb6,openstack/octavia-tempest-plugin,master,,Ic3f620dcf02c756395da760f8b73874b40318cb6,Sync enabled_provider_drivers config help message,MERGED,2019-07-25 17:35:13.000000000,2019-08-07 02:34:58.000000000,2019-08-07 02:34:58.000000000,6,5,1,672799,decfc35aa862128228196c1113923b54d57ceb96,9,4,1,1,6469,Carlos Gonçalves,cgoncalves,"Sync enabled_provider_drivers config help message

Update the help message to match the same help message in octavia.conf.
Users were confused because the example was in Python dictionary format.

Change-Id: Ic3f620dcf02c756395da760f8b73874b40318cb6
"
openstack%2Fpuppet-gnocchi~master~I62ba78166e2fdf7c963689a09786ba7e795b04da,openstack/puppet-gnocchi,master,fix-sphinx,I62ba78166e2fdf7c963689a09786ba7e795b04da,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 02:32:05.000000000,2019-08-07 02:32:05.000000000,2,1,0,675001,614643b6b3b8e05e439573cfb4195bd863e53149,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I62ba78166e2fdf7c963689a09786ba7e795b04da
"
openstack%2Fpuppet-swift~master~Ifa007810bc904d13a0dbd6531e6e8799896c0916,openstack/puppet-swift,master,fix-sphinx,Ifa007810bc904d13a0dbd6531e6e8799896c0916,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 02:31:33.000000000,2019-08-07 02:31:33.000000000,2,1,0,674997,573d1ca67ae8ecf60320da97c86343ea09eee65f,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ifa007810bc904d13a0dbd6531e6e8799896c0916
"
openstack%2Fpuppet-tacker~master~I30ca8f02cef62bb3ba859096fb5e068547aecb3a,openstack/puppet-tacker,master,fix-sphinx,I30ca8f02cef62bb3ba859096fb5e068547aecb3a,Sync Sphinx requirement,MERGED,2019-08-07 01:13:47.000000000,2019-08-07 02:31:11.000000000,2019-08-07 02:31:11.000000000,2,1,0,674985,f0bdaf19b326b97f1c3b58973a2d6132fa607187,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I30ca8f02cef62bb3ba859096fb5e068547aecb3a
"
openstack%2Fpuppet-zaqar~master~I27e1c465cf0addaf2c4199a28e17c430a29a5334,openstack/puppet-zaqar,master,fix-sphinx,I27e1c465cf0addaf2c4199a28e17c430a29a5334,Sync Sphinx requirement,MERGED,2019-08-07 01:13:58.000000000,2019-08-07 02:30:51.000000000,2019-08-07 02:30:50.000000000,2,1,0,675012,015989f10daecbc9ef2d693d6f50857cccce0aef,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I27e1c465cf0addaf2c4199a28e17c430a29a5334
"
openstack%2Fpuppet-murano~master~I6b1a478f0fe628f00a0ecaf20c4c19f5d63c689e,openstack/puppet-murano,master,fix-sphinx,I6b1a478f0fe628f00a0ecaf20c4c19f5d63c689e,Sync Sphinx requirement,MERGED,2019-08-07 01:13:45.000000000,2019-08-07 02:29:41.000000000,2019-08-07 02:29:41.000000000,2,1,0,674984,a132c26abb4a018763fc945177fe4f59cf943155,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I6b1a478f0fe628f00a0ecaf20c4c19f5d63c689e
"
openstack%2Fpuppet-placement~master~Ife13841a285fc311e9f67c446ace699776a1a31d,openstack/puppet-placement,master,fix-sphinx,Ife13841a285fc311e9f67c446ace699776a1a31d,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 02:28:51.000000000,2019-08-07 02:28:51.000000000,2,1,0,674993,9d05a5eb75fdb07d5124d3348320624021af6359,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ife13841a285fc311e9f67c446ace699776a1a31d
"
openstack%2Fpuppet-octavia~master~Ia6a86f42d9973a74059c237ea1e624cd1ac9cca7,openstack/puppet-octavia,master,fix-sphinx,Ia6a86f42d9973a74059c237ea1e624cd1ac9cca7,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 02:28:35.000000000,2019-08-07 02:28:35.000000000,2,1,0,674999,4b2bb2ff0efa5f751359b3449da8bf63524ca035,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ia6a86f42d9973a74059c237ea1e624cd1ac9cca7
"
openstack%2Fpuppet-ceph~master~Id9ba7eb2efe6d550ce41f28cd48fccab6a64a3a1,openstack/puppet-ceph,master,fix-sphinx,Id9ba7eb2efe6d550ce41f28cd48fccab6a64a3a1,Sync Sphinx requirement,MERGED,2019-08-07 01:13:40.000000000,2019-08-07 02:28:12.000000000,2019-08-07 02:28:12.000000000,2,1,0,674978,63a275df89ff3eacc5e5a83c03eac28795bf23eb,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Id9ba7eb2efe6d550ce41f28cd48fccab6a64a3a1
"
openstack%2Fpuppet-congress~master~Iffddd8d88a553bc78b4ed7c95ba4e7ceb5e68928,openstack/puppet-congress,master,fix-sphinx,Iffddd8d88a553bc78b4ed7c95ba4e7ceb5e68928,Sync Sphinx requirement,MERGED,2019-08-07 01:13:39.000000000,2019-08-07 02:27:17.000000000,2019-08-07 02:27:17.000000000,2,1,0,674974,f704c71c1cee55d1962a815e3fd775c0799939a0,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Iffddd8d88a553bc78b4ed7c95ba4e7ceb5e68928
"
openstack%2Fpuppet-designate~master~Iaa7cb6befdca1816dea643dc2ee0de5e06447a6b,openstack/puppet-designate,master,fix-sphinx,Iaa7cb6befdca1816dea643dc2ee0de5e06447a6b,Sync Sphinx requirement,MERGED,2019-08-07 01:13:55.000000000,2019-08-07 02:27:13.000000000,2019-08-07 02:27:12.000000000,2,1,0,675003,026fa9c4f544b841130e8eb9c3e1a12397c541cb,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Iaa7cb6befdca1816dea643dc2ee0de5e06447a6b
"
openstack%2Fpuppet-rally~master~I2e2441d83141dbbb00d29ca9bec9e3726a2db0b5,openstack/puppet-rally,master,fix-sphinx,I2e2441d83141dbbb00d29ca9bec9e3726a2db0b5,Sync Sphinx requirement,MERGED,2019-08-07 01:13:55.000000000,2019-08-07 02:27:02.000000000,2019-08-07 02:27:02.000000000,2,1,0,675004,6db60b1e949ae894b48f6f2c776301dde836d557,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I2e2441d83141dbbb00d29ca9bec9e3726a2db0b5
"
openstack%2Fpuppet-freezer~master~I3b6ac418c007e3e79ce8dd2928676c39b3c6a541,openstack/puppet-freezer,master,fix-sphinx,I3b6ac418c007e3e79ce8dd2928676c39b3c6a541,Sync Sphinx requirement,MERGED,2019-08-07 01:13:40.000000000,2019-08-07 02:26:40.000000000,2019-08-07 02:26:40.000000000,2,1,0,674976,656bd5df9069da3a572485208ce6e28f68e5f99f,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I3b6ac418c007e3e79ce8dd2928676c39b3c6a541
"
openstack%2Fpuppet-ceilometer~master~Ia2fdfd2e99f0528c1322c08a745b651fbf5b1f73,openstack/puppet-ceilometer,master,fix-sphinx,Ia2fdfd2e99f0528c1322c08a745b651fbf5b1f73,Sync Sphinx requirement,MERGED,2019-08-07 01:13:40.000000000,2019-08-07 02:24:55.000000000,2019-08-07 02:24:55.000000000,2,1,0,674979,6f69b2b9245da2995d0e63be8f2067c20a849766,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ia2fdfd2e99f0528c1322c08a745b651fbf5b1f73
"
openstack%2Fpuppet-keystone~master~I70a14b036f37f3bb8950a61d9282fea980fa393d,openstack/puppet-keystone,master,fix-sphinx,I70a14b036f37f3bb8950a61d9282fea980fa393d,Sync Sphinx requirement,MERGED,2019-08-07 01:13:55.000000000,2019-08-07 02:24:41.000000000,2019-08-07 02:24:41.000000000,2,1,0,675002,f6530c918a9c48a83c63e31fc269eec05246b055,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I70a14b036f37f3bb8950a61d9282fea980fa393d
"
openstack%2Fpuppet-monasca~master~I4256b8a55b5209fa11f737d5d27b29c2b3380997,openstack/puppet-monasca,master,fix-sphinx,I4256b8a55b5209fa11f737d5d27b29c2b3380997,Sync Sphinx requirement,MERGED,2019-08-07 01:13:40.000000000,2019-08-07 02:21:00.000000000,2019-08-07 02:21:00.000000000,2,1,0,674977,0dcbb05883e508a5e1c4eb90905894178964afeb,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I4256b8a55b5209fa11f737d5d27b29c2b3380997
"
openstack%2Fpuppet-horizon~master~Id3459aab4bad0909217da87671a0bb25c8a8a9b0,openstack/puppet-horizon,master,fix-sphinx,Id3459aab4bad0909217da87671a0bb25c8a8a9b0,Sync Sphinx requirement,MERGED,2019-08-07 01:13:42.000000000,2019-08-07 02:20:33.000000000,2019-08-07 02:20:33.000000000,2,1,0,674983,26b6f38c60af5f677964c73e1f4e115b0eec2d24,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Id3459aab4bad0909217da87671a0bb25c8a8a9b0
"
openstack%2Fnetworking-ovn~stable%2Fstein~I229b01f88d97cadfd8d3acff94e01fed87671d79,openstack/networking-ovn,stable/stein,ovn_driver_stein_cherry_picks,I229b01f88d97cadfd8d3acff94e01fed87671d79,Only initialize the ovsdb connection on first start,MERGED,2019-07-25 07:20:29.000000000,2019-08-07 02:16:52.000000000,2019-08-07 02:16:52.000000000,13,5,0,672648,aefa80f0ddb15e1fc420f934417654f3bfda39d0,16,5,3,2,24791,Maciej Jozefczyk,maciej.jozefczyk,"Only initialize the ovsdb connection on first start

Cache the ovsdb connection on the first driver start so that we don't
pull in the whole DB with every single update to the octavia driver.

Story: 2006196
Change-Id: I229b01f88d97cadfd8d3acff94e01fed87671d79
(cherry picked from commit 35044ae5a8ac12892b638e297302efc0276d80c6)
"
openstack%2Fpuppet-cloudkitty~master~I14d5de3a11588d236de5351bdf71e1f3c296e757,openstack/puppet-cloudkitty,master,fix-sphinx,I14d5de3a11588d236de5351bdf71e1f3c296e757,Sync Sphinx requirement,MERGED,2019-08-07 01:13:39.000000000,2019-08-07 02:13:10.000000000,2019-08-07 02:13:09.000000000,2,1,0,674972,c5dbebf0a153adf8716b29ed403465de946bc9d1,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I14d5de3a11588d236de5351bdf71e1f3c296e757
"
openstack%2Fpuppet-tempest~master~I5203c7fb211747ffd7f386db5950c02e3d4549e9,openstack/puppet-tempest,master,fix-sphinx,I5203c7fb211747ffd7f386db5950c02e3d4549e9,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 02:12:01.000000000,2019-08-07 02:12:01.000000000,2,1,0,674995,483805f5e8c3d6b16010f143f16a77f90e65df7f,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I5203c7fb211747ffd7f386db5950c02e3d4549e9
"
openstack%2Fpuppet-glance~master~I7a65118e9c5d12555a58c2a2f12638e2f02968f1,openstack/puppet-glance,master,fix-sphinx,I7a65118e9c5d12555a58c2a2f12638e2f02968f1,Sync Sphinx requirement,MERGED,2019-08-07 01:13:52.000000000,2019-08-07 02:08:26.000000000,2019-08-07 02:08:26.000000000,2,1,0,674988,22eab9f31ca7c6fc11a8b50a8e0f92574764f4c6,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I7a65118e9c5d12555a58c2a2f12638e2f02968f1
"
openstack%2Fpuppet-vitrage~master~Ic17c1533571cc1d5f15a36a55ccdf7c3ec422318,openstack/puppet-vitrage,master,fix-sphinx,Ic17c1533571cc1d5f15a36a55ccdf7c3ec422318,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 02:08:24.000000000,2019-08-07 02:08:24.000000000,2,1,0,674998,df9c408363df120fc6cbbca3155ff075711ececd,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ic17c1533571cc1d5f15a36a55ccdf7c3ec422318
"
openstack%2Fpuppet-glare~master~I9f2ce84523e08c9e8c0849874a098bd750a4fb0c,openstack/puppet-glare,master,fix-sphinx,I9f2ce84523e08c9e8c0849874a098bd750a4fb0c,Sync Sphinx requirement,MERGED,2019-08-07 01:13:39.000000000,2019-08-07 02:07:04.000000000,2019-08-07 02:07:04.000000000,2,1,0,674973,6514505bee0e237def913cb2234bc2a58b6f9490,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I9f2ce84523e08c9e8c0849874a098bd750a4fb0c
"
openstack%2Fpuppet-heat~master~I21e65c659533f407581653b5fa7a6233fc56ef44,openstack/puppet-heat,master,fix-sphinx,I21e65c659533f407581653b5fa7a6233fc56ef44,Sync Sphinx requirement,MERGED,2019-08-07 01:14:13.000000000,2019-08-07 02:02:31.000000000,2019-08-07 02:02:30.000000000,2,1,0,675013,734f083417376fe97d7983918e7e2370d85e4dc0,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I21e65c659533f407581653b5fa7a6233fc56ef44
"
openstack%2Fpuppet-trove~master~Idbdc701d619d0a29f2642d77af95d600cf6254db,openstack/puppet-trove,master,fix-sphinx,Idbdc701d619d0a29f2642d77af95d600cf6254db,Sync Sphinx requirement,MERGED,2019-08-07 01:13:57.000000000,2019-08-07 02:02:30.000000000,2019-08-07 02:02:30.000000000,2,1,0,675011,88392fb6a4e70fcf2e6da2ddeb0ae1d55a043aa6,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Idbdc701d619d0a29f2642d77af95d600cf6254db
"
openstack%2Fpuppet-openstack-cookiecutter~master~Ic5a70a7e7bada1bbd13ebaf3d188e0fdabdebc64,openstack/puppet-openstack-cookiecutter,master,fix-sphinx,Ic5a70a7e7bada1bbd13ebaf3d188e0fdabdebc64,Sync Sphinx requirement,MERGED,2019-08-07 01:13:53.000000000,2019-08-07 02:01:25.000000000,2019-08-07 02:01:24.000000000,2,1,0,674992,e515faad5d539ec0ffceccb6d737c745f3780e3f,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ic5a70a7e7bada1bbd13ebaf3d188e0fdabdebc64
"
openstack%2Fpuppet-openstack-specs~master~Id6bf855311e0a360da996c03c1378812642d03a4,openstack/puppet-openstack-specs,master,fix-sphinx,Id6bf855311e0a360da996c03c1378812642d03a4,Sync Sphinx requirement,MERGED,2019-08-07 01:34:28.000000000,2019-08-07 02:01:24.000000000,2019-08-07 02:01:24.000000000,2,1,0,675018,22072a17f3b1b866aa1c9debb73150e1daa56d32,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Id6bf855311e0a360da996c03c1378812642d03a4
"
openstack%2Fpuppet-openstack_spec_helper~master~I4cb098cc276718d270f59596ba48f096fb744684,openstack/puppet-openstack_spec_helper,master,fix-sphinx,I4cb098cc276718d270f59596ba48f096fb744684,Sync Sphinx requirement,MERGED,2019-08-07 01:13:47.000000000,2019-08-07 02:01:07.000000000,2019-08-07 02:01:07.000000000,2,1,0,674986,4a00016fd5a22cdb26b960e4725c5bffa62ea038,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I4cb098cc276718d270f59596ba48f096fb744684
"
openstack%2Fpuppet-ec2api~master~Ic7cd2ed8ab74665a63327a31a862d25299a0a604,openstack/puppet-ec2api,master,fix-sphinx,Ic7cd2ed8ab74665a63327a31a862d25299a0a604,Sync Sphinx requirement,MERGED,2019-08-07 01:13:52.000000000,2019-08-07 02:00:47.000000000,2019-08-07 02:00:47.000000000,2,1,0,674989,70aa7cb339311366e870e5ab24d1a902674a1096,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ic7cd2ed8ab74665a63327a31a862d25299a0a604
"
openstack%2Fpuppet-mistral~master~I978599639072da42f8ecbb9b9eb73c90f7a7aa1f,openstack/puppet-mistral,master,fix-sphinx,I978599639072da42f8ecbb9b9eb73c90f7a7aa1f,Sync Sphinx requirement,MERGED,2019-08-07 01:13:55.000000000,2019-08-07 02:00:29.000000000,2019-08-07 02:00:29.000000000,2,1,0,675005,14963c5c0a6a979405deaada5ebd4c9129069d7e,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I978599639072da42f8ecbb9b9eb73c90f7a7aa1f
"
openstack%2Fpuppet-openstack_extras~master~Ie5223b8853fb329ed3aaa84a83efca538055d16d,openstack/puppet-openstack_extras,master,fix-sphinx,Ie5223b8853fb329ed3aaa84a83efca538055d16d,Sync Sphinx requirement,MERGED,2019-08-07 01:13:55.000000000,2019-08-07 01:59:44.000000000,2019-08-07 01:59:44.000000000,2,1,0,675006,4dc0d827334280c97a0a37fb5ec9d0e3f87ae609,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ie5223b8853fb329ed3aaa84a83efca538055d16d
"
openstack%2Fpuppet-vswitch~master~I06295c4d26f47b50390e27ffda72e1ef0e0a234c,openstack/puppet-vswitch,master,fix-sphinx,I06295c4d26f47b50390e27ffda72e1ef0e0a234c,Sync Sphinx requirement,MERGED,2019-08-07 01:13:56.000000000,2019-08-07 01:59:30.000000000,2019-08-07 01:59:30.000000000,2,1,0,675010,44b66ca9038538c981c474333d682eed467ba6c9,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I06295c4d26f47b50390e27ffda72e1ef0e0a234c
"
openstack%2Fpuppet-barbican~master~I4ab7a2b508820f5fb4416009203dad37e1c3663d,openstack/puppet-barbican,master,fix-sphinx,I4ab7a2b508820f5fb4416009203dad37e1c3663d,Sync Sphinx requirement,MERGED,2019-08-07 01:13:55.000000000,2019-08-07 01:59:08.000000000,2019-08-07 01:59:08.000000000,2,1,0,675008,0b456c73e12e90bffc1b988acfdcbdec8f26d040,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I4ab7a2b508820f5fb4416009203dad37e1c3663d
"
openstack%2Fpuppet-ironic~master~Ic04efcdfd9a617748873f9de18a9452c3a3f1c5c,openstack/puppet-ironic,master,fix-sphinx,Ic04efcdfd9a617748873f9de18a9452c3a3f1c5c,Sync Sphinx requirement,MERGED,2019-08-07 01:13:52.000000000,2019-08-07 01:59:06.000000000,2019-08-07 01:59:06.000000000,2,1,0,674987,eb9f7146f3d4c6eb4f6f41a3a474e57693f5fce8,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ic04efcdfd9a617748873f9de18a9452c3a3f1c5c
"
openstack%2Fpuppet-qdr~master~I946686cd36bb8ebf607ee53df77d26846841e27e,openstack/puppet-qdr,master,fix-sphinx,I946686cd36bb8ebf607ee53df77d26846841e27e,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 01:59:00.000000000,2019-08-07 01:58:59.000000000,2,1,0,675000,3fc3c04ba480f4e3ac03887afc7e979bd3ee3e98,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I946686cd36bb8ebf607ee53df77d26846841e27e
"
openstack%2Fpuppet-magnum~master~Id96d80ca2bf2e8126cdb2f0dfa8004c762ffabac,openstack/puppet-magnum,master,fix-sphinx,Id96d80ca2bf2e8126cdb2f0dfa8004c762ffabac,Sync Sphinx requirement,MERGED,2019-08-07 01:33:45.000000000,2019-08-07 01:58:55.000000000,2019-08-07 01:58:55.000000000,2,1,0,675016,6d9a4f16a96d34a87a65cda1927a876d8fc5d9c1,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Id96d80ca2bf2e8126cdb2f0dfa8004c762ffabac
"
openstack%2Fpuppet-openstacklib~master~I1115e2eb6d15af3ea69ef561fa6dc57d198922ab,openstack/puppet-openstacklib,master,fix-sphinx,I1115e2eb6d15af3ea69ef561fa6dc57d198922ab,Sync Sphinx requirement,MERGED,2019-08-07 01:13:56.000000000,2019-08-07 01:58:47.000000000,2019-08-07 01:58:46.000000000,2,1,0,675009,39a2ddbcce4e95fa4a55ecb7c9261a44ffeae3f1,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I1115e2eb6d15af3ea69ef561fa6dc57d198922ab
"
openstack%2Fpuppet-sahara~master~I25b8928dc4727845a6b55b24fe0f3f56c9fbc3c7,openstack/puppet-sahara,master,fix-sphinx,I25b8928dc4727845a6b55b24fe0f3f56c9fbc3c7,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 01:58:25.000000000,2019-08-07 01:58:25.000000000,2,1,0,674990,d221c5b312063edda14bc3cd044ececf80e8b619,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I25b8928dc4727845a6b55b24fe0f3f56c9fbc3c7
"
openstack%2Fpuppet-manila~master~I4abbbe7f74c57bb49e24620199277624d23bc27d,openstack/puppet-manila,master,fix-sphinx,I4abbbe7f74c57bb49e24620199277624d23bc27d,Sync Sphinx requirement,MERGED,2019-08-07 01:13:55.000000000,2019-08-07 01:58:14.000000000,2019-08-07 01:58:14.000000000,2,1,0,675007,90137b342064b5b39523430c5a0f5d03631bea75,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I4abbbe7f74c57bb49e24620199277624d23bc27d
"
openstack%2Fpuppet-senlin~master~I12369c6a8a4875ec394287baaf0471261a0d8739,openstack/puppet-senlin,master,fix-sphinx,I12369c6a8a4875ec394287baaf0471261a0d8739,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 01:58:09.000000000,2019-08-07 01:58:09.000000000,2,1,0,674994,1071192e98adaec308dfb42a4ad393bc1136da65,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I12369c6a8a4875ec394287baaf0471261a0d8739
"
openstack%2Fpuppet-cinder~master~I66118675cabafe475eb6647534f3a69c3ebd9b28,openstack/puppet-cinder,master,fix-sphinx,I66118675cabafe475eb6647534f3a69c3ebd9b28,Sync Sphinx requirement,MERGED,2019-08-07 01:34:03.000000000,2019-08-07 01:57:32.000000000,2019-08-07 01:57:31.000000000,2,1,0,675017,40c0d79ebcad9f626f91d5d2c7984f7a5e51b80a,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I66118675cabafe475eb6647534f3a69c3ebd9b28
"
openstack%2Fpuppet-nova~master~Ifb49b0e4f60c3cc536973f0cdb5b5d147fe52a01,openstack/puppet-nova,master,fix-sphinx,Ifb49b0e4f60c3cc536973f0cdb5b5d147fe52a01,Sync Sphinx requirement,MERGED,2019-08-07 01:25:24.000000000,2019-08-07 01:45:38.000000000,2019-08-07 01:45:38.000000000,2,1,0,675015,33385ce1909e8baf5b0000522da2ba566ce59ecc,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ifb49b0e4f60c3cc536973f0cdb5b5d147fe52a01
"
openstack%2Fpuppet-openstack-guide~master~I301306f3d83f5ea7378204ee81773629c9aec757,openstack/puppet-openstack-guide,master,fix-sphinx,I301306f3d83f5ea7378204ee81773629c9aec757,Sync Sphinx requirement,MERGED,2019-08-07 01:13:53.000000000,2019-08-07 01:42:15.000000000,2019-08-07 01:42:15.000000000,2,1,0,674991,04ae879a5c4dcaaf338743fdccf50e97b013e312,6,2,1,1,9414,zhongshengping,ZhongShengping,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I301306f3d83f5ea7378204ee81773629c9aec757
"
openstack%2Ftacker-specs~master~I5e85d70dac2c8f2f9b509f0f41d8fd50e19f21ea,openstack/tacker-specs,master,bp/force-delete-resources,I5e85d70dac2c8f2f9b509f0f41d8fd50e19f21ea,Minor update on force-delete resources spec,MERGED,2019-02-14 11:04:47.000000000,2019-08-07 01:23:21.000000000,2019-08-07 01:23:21.000000000,25,23,0,636922,fa1f7e506e7e3623ea77c567de90b820c1e509bb,24,10,6,1,27153,Nguyen Hai,nguyentrihai,"Minor update on force-delete resources spec

- Minor update to clarify the spec.
- Add myself as a other contributor.

blueprint force-delete-resources

Change-Id: I5e85d70dac2c8f2f9b509f0f41d8fd50e19f21ea
"
openstack%2Fswift~master~I668b11251a3d1192d42dfe914010d089df413da7,openstack/swift,master,,I668b11251a3d1192d42dfe914010d089df413da7,Use `is` to compare against sentinel object,MERGED,2019-08-06 17:15:05.000000000,2019-08-07 00:34:20.000000000,2019-08-07 00:32:53.000000000,1,1,0,674883,a10d936ee57c5eb331b56965fa79779e77978c84,7,2,1,1,15343,Tim Burke,tburke,"Use `is` to compare against sentinel object

...since `==` can have repercussions by way of __eq__()

Change-Id: I668b11251a3d1192d42dfe914010d089df413da7
"
openstack%2Ftripleo-heat-templates~master~Ia1dd8eb26a2645a65854dfb97e99c711fc1d3b95,openstack/tripleo-heat-templates,master,tacker,Ia1dd8eb26a2645a65854dfb97e99c711fc1d3b95,scenario007: re-enabled Tacker service testing,ABANDONED,2019-08-06 16:26:48.000000000,2019-08-07 00:31:21.000000000,,2,8,0,674864,ac19aa489745c176aa59d426464f98b36977c378,4,2,1,2,3153,Emilien Macchi,emilienm,"scenario007: re-enabled Tacker service testing

Tacker doesn't seem to be WIP anymore, let's test it.

Change-Id: Ia1dd8eb26a2645a65854dfb97e99c711fc1d3b95
"
openstack%2Fsushy~master~Ib1e24ea0b2ab81a4dad207ef8f76f1cef3a799c3,openstack/sushy,master,01-shared-message-registries,Ib1e24ea0b2ab81a4dad207ef8f76f1cef3a799c3,Make message registries available to all resources,MERGED,2019-07-12 14:59:10.000000000,2019-08-06 23:42:07.000000000,2019-07-26 09:13:56.000000000,278,184,13,670579,9351999582e396bf60d286ea25dc67b57687cb5e,14,8,3,32,26340,Ilya Etingof,etingof,"Make message registries available to all resources

This patch makes parsed message registries accessible to all sushy
resource objects for consumption. Prior to that, only System resource
had access to message registries what proved insufficient.

Change-Id: Ib1e24ea0b2ab81a4dad207ef8f76f1cef3a799c3
Co-Authored-By: Richard.Pioso@dell.com
"
openstack%2Foctavia~master~I426255f587f36b415eb999a9eb28cf0f91de94b0,openstack/octavia,master,,I426255f587f36b415eb999a9eb28cf0f91de94b0,Fix listener deletion in ACTIVE/STANDBY topology,MERGED,2019-08-02 08:53:16.000000000,2019-08-06 23:16:35.000000000,2019-08-06 23:16:35.000000000,84,1,0,674229,b1a4758f583badf996be2fc4c405efb4cb533e5a,19,5,2,2,29244,Gregory Thiemonge,gthiemonge,"Fix listener deletion in ACTIVE/STANDBY topology

When removing listeners, listeners are removed from the load balancer's
listener list just before reconfiguring each amphora.
In case of ACTIVE/STANDBY topology, the code is performed on both
amphorae, so the listener is removed twice from the list.
This commit ensures that we don't remove an already removed listener.

Story: 2006329
Task: 36065

Change-Id: I426255f587f36b415eb999a9eb28cf0f91de94b0
"
openstack%2Foctavia~master~Iaa0f763005529cc394d3b95ce07f2be71e9b3778,openstack/octavia,master,,Iaa0f763005529cc394d3b95ce07f2be71e9b3778,Install missing packages in nodepool instance,MERGED,2019-08-02 10:43:43.000000000,2019-08-06 23:16:34.000000000,2019-08-06 23:16:34.000000000,4,0,2,674259,6e57e6fd3d046ad55d39535c2493cce997b54380,26,4,5,2,6469,Carlos Gonçalves,cgoncalves,"Install missing packages in nodepool instance

The 'rpm', 'yumdownloader' and 'bc' tools do not come installed in the
Ubuntu nodepool image. We need 'rpm' and 'yumdownloader' to build
centos-minimal amphora images and 'bc' for checking minimum supported
Ubuntu version in diskimage-create.sh

This patch also adds octavia-lib to the required projects.

Change-Id: Iaa0f763005529cc394d3b95ce07f2be71e9b3778
"
openstack%2Fnetworking-ovn~stable%2Fstein~Ibb958ea5acaaf07af8ebed5d9552036db9469346,openstack/networking-ovn,stable/stein,ovn_driver_stein_cherry_picks,Ibb958ea5acaaf07af8ebed5d9552036db9469346,Handle FIP for Loadbalancer VIP,MERGED,2019-07-25 07:20:29.000000000,2019-08-06 23:06:29.000000000,2019-08-06 23:06:29.000000000,291,2,0,672647,36e8146d99d76fadec37e1dda39b35f263cd33dd,15,5,3,4,24791,Maciej Jozefczyk,maciej.jozefczyk,"Handle FIP for Loadbalancer VIP

If a floating IP is associated to Loadbalancer VIP
then given floating IP should be added as vip under
loadbalancer external_ids column.

Closes-Bug: #1834453

Change-Id: Ibb958ea5acaaf07af8ebed5d9552036db9469346
Signed-off-by: Numan Siddique <nusiddiq@redhat.com>
Co-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>
(cherry picked from commit 01b0b572c7e9ce8a3530f4e73d04a2f7a43e2e7c)
"
openstack%2Fcinderlib~master~I2c184af9e48c3b2f4af7182fb000272f9e162be4,openstack/cinderlib,master,update-docs-validation,I2c184af9e48c3b2f4af7182fb000272f9e162be4,Add validation and validated documentation,MERGED,2019-04-11 17:06:04.000000000,2019-08-06 22:01:31.000000000,2019-08-06 22:01:30.000000000,719,0,12,651880,bee4135ee9778e1ed380f02cbfc86842d842b37a,12,3,4,4,9535,Gorka Eguileor,Gorka,"Add validation and validated documentation

This patch adds documentation related to the validation of Cinder
drivers for cinderlib usage.

With a guide on how to manually validate a driver using DevStack, and
how to add cinderlib functional tests to gate jobs.

Also presents a list of cinderlib validated drivers with their
configuration to serve as a reference for developers.

Depends-On: I25c19cf1f7da6881807e729a326cd94d07b4c42d
Depends-On: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0
Change-Id: I2c184af9e48c3b2f4af7182fb000272f9e162be4
"
openstack%2Fnova~master~I9095c1be65b127d40f5bbe7af5d63fefedb73d33,openstack/nova,master,bug/1836369,I9095c1be65b127d40f5bbe7af5d63fefedb73d33,Pass migration to finish_revert_migration(),MERGED,2019-07-02 08:17:31.000000000,2019-08-06 22:01:18.000000000,2019-08-06 22:01:17.000000000,53,64,18,668631,78a08d44ea68b31e27ce344f452756886ad309bd,111,16,9,11,8864,Artom Lifshitz,artom,"Pass migration to finish_revert_migration()

In order to obtain plug-time events, the libvirt driver needs to pass
a Migration object to the network model. Previously [1], this object
was obtained with a database lookup. This was done to avoid modifying
the virt driver interface, thus making the fix backportable. This
patch makes the compute manager pass the migration object to the virt
driver in order to avoid a needless database query.

[1] https://review.opendev.org/#/c/667177/

Change-Id: I9095c1be65b127d40f5bbe7af5d63fefedb73d33
"
openstack%2Fheat~master~I76b8dc215352d1dffa9b36c8f00b2aecbcf6400d,openstack/heat,master,link,I76b8dc215352d1dffa9b36c8f00b2aecbcf6400d,Fix broken RST link,MERGED,2019-07-26 07:22:04.000000000,2019-08-06 21:46:54.000000000,2019-08-06 21:46:54.000000000,1,1,0,672897,b31af77e1d4ec9674b1d489766e810d5a0e3f245,6,2,1,1,6547,Andreas Jaeger,jaegerandi,"Fix broken RST link

Links are of the form
.. _name: http://

If you use ""<http://>"" instead, the ""<"" and "">"" will be part of the URL
and break, see the link on https://docs.openstack.org/heat/latest/admin/auth-model.html

Fix this.

Change-Id: I76b8dc215352d1dffa9b36c8f00b2aecbcf6400d
"
openstack%2Fopenstack-helm-infra~master~If18a18949f8093747b3f9ba819e036778c40b84e,openstack/openstack-helm-infra,master,calico-dashboard,If18a18949f8093747b3f9ba819e036778c40b84e,Grafana: Code for Calico Dashboard,MERGED,2019-07-31 20:51:20.000000000,2019-08-06 21:39:48.000000000,2019-08-06 21:39:47.000000000,1035,0,0,673911,a37925c7e8a643495e9c1aebf8f24a5cc24e1ef6,11,9,2,1,30582,RADHIKA PAI,rp592h,"Grafana: Code for Calico Dashboard

Appended the code that will add the calico dashboard to the Grafana. This will
display the felix metrics which are collected by the prometheus.

Change-Id: If18a18949f8093747b3f9ba819e036778c40b84e
"
openstack%2Foslo.policy~master~Ibf184d03620c294806938d06247776081efee36b,openstack/oslo.policy,master,batch-deprecation-warnings,Ibf184d03620c294806938d06247776081efee36b,(WIP) Batch deprecation warnings,ABANDONED,2019-08-05 23:29:58.000000000,2019-08-06 21:21:20.000000000,,39,18,0,674711,794d1e5d75e4b9ff577477cf64a8deaaf35581c6,3,1,1,1,8482,Colleen Murphy,krinkle,"(WIP) Batch deprecation warnings

Rather than log a warning for each deprecated rule, collect all of them
and log the deprecation warning all at once. This makes the format of
the changed policies a little prettier and easier to understand, as well
as reduces the number of total logs emitted which makes filtering them
more manageable.

Related-bug: #1836568

Change-Id: Ibf184d03620c294806938d06247776081efee36b
"
openstack%2Ftripleo-common~stable%2Fstein~I3743b7212d5c5f0d4496ffb4134a1891587de01a,openstack/tripleo-common,stable/stein,,I3743b7212d5c5f0d4496ffb4134a1891587de01a,Add reauthentication to sessions,MERGED,2019-08-05 18:53:03.000000000,2019-08-06 21:00:17.000000000,2019-08-06 21:00:17.000000000,40,18,0,674672,edb1c3e4b067dfbe00e45499e9b417127aa0d179,8,4,1,1,7353,Kevin Carter,cloudnull,"Add reauthentication to sessions

This change allows a session to reauthenticate as needed. To accomplish this
a function object for authentication is set within the session which will
allow any method estabilishing a session to authenticate using the existing
credentials as needed. To ensure we're not breaking our workflow or
existing retry logic, conditions have been added to check for a 401 status
code. If a 401 is found, the session will now reauthenticate and raise an
HTTPError exception. This will allow our tenacity retry decorators to
provide for task retries, in the same way they have been, and to ensure
the way requests exceptions are raised are identical.

Change-Id: I3743b7212d5c5f0d4496ffb4134a1891587de01a
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 0775e8d13024b7578f90ecd893ba1fe869fee045)
"
openstack%2Ftripleo-ansible~master~I4c36c5058c901cb4ead5f781082e5f97014221cb,openstack/tripleo-ansible,master,THT2TA,I4c36c5058c901cb4ead5f781082e5f97014221cb,Create a time role,MERGED,2019-07-16 22:45:18.000000000,2019-08-06 20:52:01.000000000,2019-07-30 03:26:15.000000000,652,0,7,671165,c1e098de6d8e3936e379bc82215338fdc715e5dd,25,6,4,19,7353,Kevin Carter,cloudnull,"Create a time role

This change creates a role using the time content from
THT[0]. This role will run through all of the tasks found
within the THT file, and implements molecule tests coving
the functionality.

Test Matrix:
    - default - Runs through the role top to bottom,
                installing and configuring ptp.
    - ntp_stop - Sets up an environment and ensures we
                 properly stop ntpd when directed to.

[0] - https://github.com/openstack/tripleo-heat-templates/tree/master/deployment/time

Story: 2006028
Task: 34653
Task: 34655
Task: 34656
Change-Id: I4c36c5058c901cb4ead5f781082e5f97014221cb
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fopenstack-chef~master~Ie6d7b56a78f7fadbd28e6d27a46446a46c3c5ebd,openstack/openstack-chef,master,dokkenandocken,Ie6d7b56a78f7fadbd28e6d27a46446a46c3c5ebd,Refactor and update test-kitchen suites,MERGED,2019-07-07 23:50:23.000000000,2019-08-06 20:43:26.000000000,2019-08-06 20:43:26.000000000,149,467,4,669581,5280706daa5929ff51f0fa1eac164201d3f7bbd1,13,4,2,12,21961,Lance Albertson,ramereth,"Refactor and update test-kitchen suites

This provides a large collection of updates and refactoring to improve
the development environment for the cookbooks using test-kitchen.

The primary change this provides is the addition of the 'minimal' suite
which replicates what the integration test jobs run in Zuul. This is
useful for testing and debugging issues that might be found during CI
jobs.

- Switch run_list to using roles to better match how the zuul jobs work
- Update to using Ubuntu 18.04 instead of 16.04
- Move all attributes from .kitchen.yml files to environments
- Update multi-node and dokken test-kitchen
- Use MariaDB 10.1 by default as 10.0 has been deprecated upstream for
  ubuntu 18.04. Also use OSUOSL mirror as it's more stable than
  upstream
- Don't disable EPEL on RHEL systems
- Synchronize attributes (within reason) between test-kitchen files
- Update roles run_list
- Create openstack_test cookbook and update /etc/apt/sources.list to
  OSUOSL mirrors to improve stability on Ubuntu

Change-Id: Ie6d7b56a78f7fadbd28e6d27a46446a46c3c5ebd
Signed-off-by: Lance Albertson <lance@osuosl.org>
"
openstack%2Fsenlin~master~I78bbcc0eba298d3905d3702c8397a90449a81e1d,openstack/senlin,master,,I78bbcc0eba298d3905d3702c8397a90449a81e1d,Cap sphinx for py2 to match global requirements,ABANDONED,2019-05-17 08:52:39.000000000,2019-08-06 20:43:24.000000000,,2,1,1,659752,ada0ab9560af0913b876b99d50c99945eca0c563,8,5,1,1,30077,Qiu Fossen,qiufossen,"Cap sphinx for py2 to match global requirements

Change-Id: I78bbcc0eba298d3905d3702c8397a90449a81e1d
"
openstack%2Fsenlin~master~I8bb297c4497b83e06d558a812219d2a56c2e1ee1,openstack/senlin,master,,I8bb297c4497b83e06d558a812219d2a56c2e1ee1,Cap sphinx for py2 to match global requirements,ABANDONED,2019-06-06 09:21:10.000000000,2019-08-06 20:42:02.000000000,,2,1,0,663556,c331dda25f5b1536702d0ecc237097bcb23ad376,7,3,2,1,30384,zhangboye,zhangboye,"Cap sphinx for py2 to match global requirements

Change-Id: I8bb297c4497b83e06d558a812219d2a56c2e1ee1
"
openstack%2Ftripleo-validations~master~I14bdbbea58dce26993c98f959320dbf063406268,openstack/tripleo-validations,master,,I14bdbbea58dce26993c98f959320dbf063406268,"Revert ""Improve Ceph health checks to work with custom cluster names""",MERGED,2019-08-06 10:36:25.000000000,2019-08-06 20:22:00.000000000,2019-08-06 20:22:00.000000000,2,9,0,674771,e19638c93e352970b27ae556faac70baabac73ea,12,7,2,1,6796,Giulio Fidente,gfidente,"Revert ""Improve Ceph health checks to work with custom cluster names""

Breaking validations

This reverts commit ff4d7ceec5a24e0b53d0b2effc2e7d23cb895344.

Change-Id: I14bdbbea58dce26993c98f959320dbf063406268
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I7b5f6e0a2c8ba77fd575cf1a1003a1553f96efff,openstack/tripleo-heat-templates,stable/queens,,I7b5f6e0a2c8ba77fd575cf1a1003a1553f96efff,Update mysql url for cell0 in step3,MERGED,2019-08-02 18:32:13.000000000,2019-08-06 20:21:59.000000000,2019-08-06 20:21:58.000000000,20,15,1,674402,9a6be5798f1654c883ed09e4086df53ffb236971,19,9,1,2,9914,Ade Lee,alee,"Update mysql url for cell0 in step3

When doing a TLS brown field deployment (ie. updating a previously
deployed system without internal TLS to using internal TLS), the
database endpoint stored in the db for the default cell and cell0
must be changed in step3.

Logic already exists in step 3 to change the default cell, and the
FFU group added logic to update cell0 in step 5.  We just need to
move that logic to step 3.

Note that this is not a problem in stein+ because we have already
added logic to set the db endpoint for both cells using
templated values for both cells in step 3.

Closes-Bug: 1838804

Change-Id: I7b5f6e0a2c8ba77fd575cf1a1003a1553f96efff
"
openstack%2Fironic~stable%2Fstein~Ib1b1e32bc60d7ec271098dcd17086f79518c09df,openstack/ironic,stable/stein,gate-stable/stein,Ib1b1e32bc60d7ec271098dcd17086f79518c09df,CI: stop using pyghmi from git master,MERGED,2019-07-30 08:27:23.000000000,2019-08-06 20:20:28.000000000,2019-08-06 17:22:33.000000000,0,8,0,673446,8c401536466e039b76f4c4cf4fe44bf0a21b8f93,53,11,1,4,10239,Dmitry Tantsur,dtantsur,"CI: stop using pyghmi from git master

It's just a library we consume, there is no reason to use its
git head. Currently 1.4.0 is breaking us.

Story: #2006301
Task: #36014
Change-Id: Ib1b1e32bc60d7ec271098dcd17086f79518c09df
(cherry picked from commit 3dfce5f2de6377d74632bb2a7fe3d382ccc629b0)
"
openstack%2Fkolla-ansible~stable%2Fstein~I1cf0ad10b80552f503898e723f0c4bd00a38f143,openstack/kolla-ansible,stable/stein,fix-ceph-very-much-stable/stein,I1cf0ad10b80552f503898e723f0c4bd00a38f143,ceph: fixes to deployment and upgrade,MERGED,2019-08-03 08:11:34.000000000,2019-08-06 20:11:00.000000000,2019-08-06 20:11:00.000000000,48,54,0,674443,b26f397bfebfd2d2d70608855178017653f33d26,13,4,2,6,30491,Radosław Piliszek,yoctozepto,"ceph: fixes to deployment and upgrade

1) ceph-nfs (ganesha-ceph) - use NFSv4 only
This is recommended upstream.
v3 and UDP require portmapper (aka rpcbind) which we
do not want, except where Ubuntu ganesha version (2.6)
forces it by requiring enabled UDP, see [1].
The issue has been fixed in 2.8, included in CentOS.
Additionally disable v3 helper protocols and kerberos
to avoid meaningless warnings.

2) ceph-nfs (ganesha-ceph) - do not export host dbus
It is not in use. This avoids the temptation to try
handling it on host.

3) Properly handle ceph services deploy and upgrade
Upgrade runs deploy.
The order has been corrected - nfs goes after mds.
Additionally upgrade takes care of rgw for keystone
(for swift emulation).

4) Enhance ceph keyring module with error detection
Now it does not blindly try to create a keyring after
any failure. This used to hide real issue.

5) Retry ceph admin keyring update until cluster works
Reordering deployment caused issue with ceph cluster not being
fully operational before taking actions on it.

6) CI: Remove osd df from collected logs as it may hang CI
Hangs are caused by healthy MON and no healthy MGR.
A descriptive note is left in its place.

7) CI: Add 5s timeout to ceph informational commands
This decreases the timeout from the default 300s.

[1] https://review.opendev.org/669315

Change-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 826f6850d06afbbad95727bdf6cf53fb986b7cf8)
"
openstack%2Fnova~master~I25e5b3bfe2c6a2a0ee506350730071711a368f6f,openstack/nova,master,,I25e5b3bfe2c6a2a0ee506350730071711a368f6f,Change the response to migrations of Show Migration Details API,ABANDONED,2019-08-06 15:00:00.000000000,2019-08-06 20:09:47.000000000,,6,6,0,674825,5e1831987196fd135f54f91192b8d6ddada70fcf,6,5,1,6,26458,Brin Zhang,zhangbailin,"Change the response to migrations of Show Migration Details API

Since the server's migration record is generally >=1, returning
{'migrations"":{}} is more appropriate than returning {'migration':{}}.

Related-on: https://review.opendev.org/#/c/674243/
Change-Id: I25e5b3bfe2c6a2a0ee506350730071711a368f6f
"
openstack%2Fossa~master~I22c4b17a0ad1b6197a97c6b2670fe5d1a6a7406f,openstack/ossa,master,ossa-2019-003,I22c4b17a0ad1b6197a97c6b2670fe5d1a6a7406f,Add OSSA-2019-003 (CVE-2019-14433),MERGED,2019-08-06 18:41:55.000000000,2019-08-06 19:58:47.000000000,2019-08-06 19:58:47.000000000,60,0,0,674909,6b0b3a50e69e0a8f6f3207ed15a2aaaa30391580,10,5,1,1,5263,Jeremy Stanley,fungi,"Add OSSA-2019-003 (CVE-2019-14433)

Change-Id: I22c4b17a0ad1b6197a97c6b2670fe5d1a6a7406f
Related-Bug: #1837877
"
openstack%2Ftripleo-docs~master~I08ba71dbc437102b4d53d65a7c357cfc026ffe33,openstack/tripleo-docs,master,ceph_ansible_config_download_key,I08ba71dbc437102b4d53d65a7c357cfc026ffe33,Include SSH key in manual config-download Ceph example,MERGED,2019-06-26 18:59:41.000000000,2019-08-06 19:55:00.000000000,2019-08-06 19:55:00.000000000,1,0,4,667708,999cd5b0580b1e854ba553d2bf8b87b1f0302602,13,5,1,1,18002,John Fulton,fultonj,"Include SSH key in manual config-download Ceph example

Example from Ibe2e2302b47efea1c747c0166d552fab4feb31c8
was missing ANSIBLE_PRIVATE_KEY_FILE which will likely
also be needed with CephAnsibleEnvironmentVariables.

Change-Id: I08ba71dbc437102b4d53d65a7c357cfc026ffe33
"
openstack%2Fironic-python-agent~master~Ia725fcaee6018255af3dd7ff0eb2fb1cfbd2b322,openstack/ironic-python-agent,master,softraid_fix_nvme,Ia725fcaee6018255af3dd7ff0eb2fb1cfbd2b322,Adds software raid creation support on nvme drives.,MERGED,2019-08-06 09:27:58.000000000,2019-08-06 19:47:42.000000000,2019-08-06 19:47:42.000000000,135,5,4,674767,570584f9abc5216b5fdea8e9923758cc3def2816,19,5,5,3,15064,raphael.glon,raphael,"Adds software raid creation support on nvme drives.

Change-Id: Ia725fcaee6018255af3dd7ff0eb2fb1cfbd2b322
Story: #2006341
Task: #36091
"
openstack%2Frpm-packaging~stable%2Fstein~Ie58ad13cab219926af5a633027f50372d81ddabd,openstack/rpm-packaging,stable/stein,,Ie58ad13cab219926af5a633027f50372d81ddabd,os-faults: Fix doc group,MERGED,2019-08-06 17:09:15.000000000,2019-08-06 19:44:52.000000000,2019-08-06 19:44:52.000000000,1,1,0,674880,e9e4bb24f2e5b04fd53c631d136cc2c7ebd8b5a9,8,4,1,1,6593,Dirk Mueller,dmllr,"os-faults: Fix doc group

Change-Id: Ie58ad13cab219926af5a633027f50372d81ddabd
(cherry picked from commit d7d4512d3a7c4fb4e6cb66c2ba053f14d8938c26)
"
openstack%2Fossa~master~Iac7072dc2b67327b320ec89158ba5e2c4c22c263,openstack/ossa,master,sphinx-theme,Iac7072dc2b67327b320ec89158ba5e2c4c22c263,"Update documentation on finding OSSA rst ""source""",MERGED,2019-03-18 17:28:49.000000000,2019-08-06 19:37:07.000000000,2019-08-06 19:37:07.000000000,5,3,0,644370,3b09898b2cdf40e77449c94984a9d34a3004fcfb,12,3,2,1,5263,Jeremy Stanley,fungi,"Update documentation on finding OSSA rst ""source""

With the semi-recent switch in Sphinx themes, there is no longer a
""Show Source"" button or link on rendered HTML pages. Instead
document how to alter the URL to find the generated reStructuredText
""source"" files.

Change-Id: Iac7072dc2b67327b320ec89158ba5e2c4c22c263
"
openstack%2Fnova~master~Ib5760da617182f7153ccfc7c47b50d45bcb8c064,openstack/nova,master,,Ib5760da617182f7153ccfc7c47b50d45bcb8c064,Poison context usage in periodic tasks,NEW,2018-02-09 15:35:59.000000000,2019-08-06 19:27:47.000000000,,91,0,2,542891,4d1123581e9dc693695f401727b2d727261acfe7,42,15,5,2,9708,Balazs Gibizer,gibi,"Poison context usage in periodic tasks

The pervious patch introduced an admin context to the service object
with the intention that every periodic task should use that context
instead of creating a new one.

This patch poisons the context calls inside periodic tasks in the test
environments.

Ideally we should simply wrap the run_periodic_tasks from oslo and make
sure that everything that runs from it sees a poisoned nova.context
module. Unfortunately nova doesn't have any unit or functional tests
that enables periodic tasks [1] so this approach doesn't work.
In the other hand we have tests that call the periodic task functions
directly e.g.: [2]. As those functions are decorated with the
periodic_task decorator we have a chance to poison these direct calls
as well by dynamically wrapping the fuction during the decoration.

So this patch redirects the periodic_task decorator. As decoration
happens at import time this patch needs to do the instrumentation
at the module level of the nova.test module to be able to redirect
the decorator early enough. The new decorator applies the original
decoration first to allow future test to turn on periodic tasks
by enabling the related config in test [1].
Then it wraps the result of the original decoration in yet another
function and that extra layer is used to set up the poisoning.

[1]https://github.com/openstack/nova/blob/2c1874a0ecdd1b5ce7670cdfc42396e90e3a55aa/nova/tests/unit/conf_fixture.py#L47
[2]https://github.com/openstack/nova/blob/2c1874a0ecdd1b5ce7670cdfc42396e90e3a55aa/nova/tests/functional/test_servers.py#L1605

Change-Id: Ib5760da617182f7153ccfc7c47b50d45bcb8c064
"
openstack%2Fnova~master~I222301c6a6e6faeb524154c30a35ad228f93aa21,openstack/nova,master,log-global_request_id,I222301c6a6e6faeb524154c30a35ad228f93aa21,WIP: Generate and log global_request_id properly,ABANDONED,2019-07-31 22:10:52.000000000,2019-08-06 18:46:35.000000000,,6,3,3,673924,bb7eeffef28344a28a07b5978fba67c7d7648ba8,22,11,2,2,14070,Eric Fried,efried,"WIP: Generate and log global_request_id properly

Change-Id: I222301c6a6e6faeb524154c30a35ad228f93aa21
"
openstack%2Fos-net-config~master~I36d28270744c6eb17bf3b9484b33f0dff70cfff4,openstack/os-net-config,master,sphinx,I36d28270744c6eb17bf3b9484b33f0dff70cfff4,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-31 08:33:59.000000000,2019-08-06 18:29:21.000000000,2019-08-06 18:29:21.000000000,1,1,0,673755,f9c3e08bd05553ce7fcead14338a8b41b585db7a,7,3,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I36d28270744c6eb17bf3b9484b33f0dff70cfff4
"
openstack%2Fpython-tripleoclient~master~I27e3f209f948b4c7c04e7994fc4dc7489f28f720,openstack/python-tripleoclient,master,bug/1837393,I27e3f209f948b4c7c04e7994fc4dc7489f28f720,Additional resource cleanup,MERGED,2019-08-02 16:10:10.000000000,2019-08-06 18:29:19.000000000,2019-08-06 18:29:18.000000000,44,12,0,674343,6e13179ecd5ff56df746cb0926cfd16f41ac75e4,13,5,2,7,14985,Alex Schultz,mwhahaha,"Additional resource cleanup

These resources were previously not properly closed when leading to
ResourceWarnings being printed to the end user.

Change-Id: I27e3f209f948b4c7c04e7994fc4dc7489f28f720
Related-Bug: #1837393
"
openstack%2Fkeystone~master~Id423f8a304abffbe0c7814ab2ab4458e6a403bb1,openstack/keystone,master,fix-websso,Id423f8a304abffbe0c7814ab2ab4458e6a403bb1,Fix websso auth loop,MERGED,2019-08-01 19:42:01.000000000,2019-08-06 18:22:45.000000000,2019-08-06 18:22:45.000000000,17,2,0,674122,d8f3ba0429c535cdc9dbde83d948b816ae7d760b,8,4,1,2,8482,Colleen Murphy,krinkle,"Fix websso auth loop

In bf67b3c8[1] we introduced an error whereby trying to use WebSSO to
authenticate with one protocol would fail with an uncaught HTTP 404 if
an IdP was found that did not use that protocol. This patch fixes the
issue by ensuring that during the search for an IdP that matches the
given protocol, we ignore invalid IdPs.

This is tested by the existing WebSSOTests unit test class simply by
inserting a dummy IdP and protocol combination into the test data during
setup, since the problem arises when the protocol you are *not* trying
to authenticate with is indexed first in the database.

Since the breaking change was not released yet, this bugfix does not
need a release note.

[1] https://review.opendev.org/637305

Change-Id: Id423f8a304abffbe0c7814ab2ab4458e6a403bb1
Closes-bug: #1838592
"
openstack%2Fneutron~master~Ida9212f45ec5219fcd40787bbc94320056bd702a,openstack/neutron,master,new-ovs-scenario-job,Ida9212f45ec5219fcd40787bbc94320056bd702a,[DOC] Add info about new CI job to jobs list,MERGED,2019-08-02 11:17:56.000000000,2019-08-06 18:22:41.000000000,2019-08-06 18:22:41.000000000,5,0,0,674272,c5e8d1123a4c42d614b3b645bbf7536917305a77,15,7,2,1,11975,Slawek Kaplonski,slaweq,"[DOC] Add info about new CI job to jobs list

In patches [1] and [2]  we are adding new scenario job:
""neutron-tempest-plugin-scenario-openvswitch"" and
""neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid""
which will be run in check and gate queue in Neutron.

This patch adds info about those new jobs to the document with list
of CI scenario and Grenade jobs.

[1] https://review.opendev.org/#/c/670738/
[2] https://review.opendev.org/#/c/674274/

Depends-On: https://review.opendev.org/#/c/670738/
Depends-On: https://review.opendev.org/#/c/674274/

Change-Id: Ida9212f45ec5219fcd40787bbc94320056bd702a
"
openstack%2Fneutron-tempest-plugin~master~I37c43e0fbb434a53f1b971895dd3d6e9ab7b617f,openstack/neutron-tempest-plugin,master,new-ovs-scenario-job,I37c43e0fbb434a53f1b971895dd3d6e9ab7b617f,Add new job neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid,MERGED,2019-08-02 11:28:11.000000000,2019-08-06 18:22:39.000000000,2019-08-06 18:22:39.000000000,60,0,1,674274,9f868d1c7fa1ba7a909b6a8d7184203e4e80dad7,14,5,2,1,11975,Slawek Kaplonski,slaweq,"Add new job neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid

This new scenario job is single node job which will run
neutron-tempest-plugin scenario tests with openvswitch agent and
iptables_hybrid firewall driver.
Since in Rocky we switched default fw driver in devstack to be
""openvswitch"" we are didn't have any job which would run
neutron-tempest-plugin tests on openvswitch agent with iptables_hybrid
driver. And it's necessary to have such job.

This patch don't add such job for Queens release because in Queens
iptables_hybrid was default driver so
""neutron-tempest-plugin-scenario-openvswitch"" job will cover this
case for this release.

Change-Id: I37c43e0fbb434a53f1b971895dd3d6e9ab7b617f
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f,openstack/tripleo-heat-templates,stable/stein,stop-pre-upgrade,Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f,Stop services for unupgraded controllers,MERGED,2019-07-08 09:32:30.000000000,2019-08-06 18:18:57.000000000,2019-08-06 18:18:57.000000000,486,13,1,669628,8a9e8ae528c1077a2a3940cd909ae5a084636c23,58,9,18,32,20775,Carlos Camacho,ccamacho,"Stop services for unupgraded controllers

Before we start services on upgraded bootstrap
controller (usually controller-0), we need to
stop services on unupgraded controllers
(usually controller-1 and controller-2).

Also we need to move the mysql data transfer
to the step 2 as we need to first stop the
services.

Depends-On: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee
Change-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f
(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)
"
openstack%2Fopenstack-helm-infra~master~I14610ab66b72ddd5e6e45f57b56968e462416234,openstack/openstack-helm-infra,master,psql-replication-tls,I14610ab66b72ddd5e6e45f57b56968e462416234,Generate CA crt and key if needed,MERGED,2019-06-26 16:47:59.000000000,2019-08-06 18:14:08.000000000,2019-08-06 18:14:08.000000000,16,3,9,667681,db164a29255d19dd37318fec3b4c4e6dde8d23ac,48,14,12,1,28664,Ahmad Mahmoudi,ahmad,"Generate CA crt and key if needed

Generate CA cert and CA key, if they are not present in
the values.

Change-Id: I14610ab66b72ddd5e6e45f57b56968e462416234
"
openstack%2Fbarbican~master~I0a372d28a2be787ca850702a8a381f0c41d9a557,openstack/barbican,master,Bug#pep8,I0a372d28a2be787ca850702a8a381f0c41d9a557,Force to use markdown to prevent pypi issue,ABANDONED,2019-07-01 16:00:51.000000000,2019-08-06 17:53:47.000000000,,2,1,5,668502,bcc287da16ec83f34afafa544c9247d7e9d06ddd,17,6,2,1,28522,Hervé Beraud,hberaud,"Force to use markdown to prevent pypi issue

https://github.com/pypa/warehouse/issues/5890#issuecomment-494868157

Change-Id: I0a372d28a2be787ca850702a8a381f0c41d9a557
"
openstack%2Fkolla-ansible~master~Ia4801d09ff1165c44561fd286fc57e903da2c602,openstack/kolla-ansible,master,bug/ceph_upgrade,Ia4801d09ff1165c44561fd286fc57e903da2c602,Add mon address to ceph release version check,MERGED,2019-07-05 06:53:17.000000000,2019-08-06 17:52:35.000000000,2019-08-06 17:04:13.000000000,2,2,3,669269,b2c17d60515bbbe283f534d7d0c9034e57589929,16,4,2,1,22629,Michal Nasiadka,mnasiadka,"Add mon address to ceph release version check

Change-Id: Ia4801d09ff1165c44561fd286fc57e903da2c602
"
openstack%2Fsenlin~master~Ia34415e18f3c3c10ba3c669967cf4f5ab0e6ad11,openstack/senlin,master,sphinx,Ia34415e18f3c3c10ba3c669967cf4f5ab0e6ad11,Sync Sphinx requirement,MERGED,2019-08-01 09:11:25.000000000,2019-08-06 17:49:12.000000000,2019-08-06 17:49:12.000000000,2,1,0,673966,179a4a4ab08e7b47cbe69807f9b6ae63d19586f2,7,3,1,1,27822,pengyuesheng,pengyuesheng,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ia34415e18f3c3c10ba3c669967cf4f5ab0e6ad11
"
openstack%2Fhorizon~master~I17469f7f710a0ea6c72a0b265e6f42698c57b602,openstack/horizon,master,zanata/translations,I17469f7f710a0ea6c72a0b265e6f42698c57b602,Imported Translations from Zanata,MERGED,2019-08-06 09:39:10.000000000,2019-08-06 17:40:06.000000000,2019-08-06 17:40:05.000000000,1355,46,0,674768,d109135367b12f752c0dda5ff3fd43d9ca29c435,11,4,1,3,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I17469f7f710a0ea6c72a0b265e6f42698c57b602
"
openstack%2Fdesignate~master~Iddb4a46ab1c22e84212932342b80c19194adcf3e,openstack/designate,master,sphinx,Iddb4a46ab1c22e84212932342b80c19194adcf3e,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-08-01 09:21:45.000000000,2019-08-06 17:36:21.000000000,2019-08-06 17:36:20.000000000,1,1,0,673971,7ea925553960e5a4380c21f8102245e766e85b08,6,2,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Iddb4a46ab1c22e84212932342b80c19194adcf3e
"
openstack%2Fdesignate~master~I7e657d9fa4502621f48c6e40a7a2eb5e48a3ac3d,openstack/designate,master,,I7e657d9fa4502621f48c6e40a7a2eb5e48a3ac3d,Use zone.tenant_id as tenant if context.project_id is None,MERGED,2019-07-30 08:45:02.000000000,2019-08-06 17:36:19.000000000,2019-08-06 17:36:19.000000000,2,1,2,673452,1ac2c8db9af6941be4ca936b3b6c53f051dff6c7,20,5,3,1,22078,Damon Li,likai,"Use zone.tenant_id as tenant if context.project_id is None

When enable multi-tenant in infoblox integration, designate infoblox
plugin need to get dns view. The input of this function is project_id in
context. But when do periodic recovery job, the context is generated via
init DesignateContext. We don't set project_id in it. So use
zone.tenant_id instead on this situation.

Closes-Bug: #1838379

Change-Id: I7e657d9fa4502621f48c6e40a7a2eb5e48a3ac3d
"
openstack%2Fhorizon~master~Ia14806c8bc256ff37f288f00302dbf9a1dda8f04,openstack/horizon,master,bug/1838749,Ia14806c8bc256ff37f288f00302dbf9a1dda8f04,"Show username and user ID on ""User Credentials Details"" popup",MERGED,2019-08-02 09:34:32.000000000,2019-08-06 17:34:49.000000000,2019-08-06 17:34:49.000000000,5,1,1,674242,d86b940192dd409ff67ca567afeb8fb8f059f02e,12,5,2,1,1736,Ivan Kolodyazhny,e0ne,"Show username and user ID on ""User Credentials Details"" popup

Change-Id: Ia14806c8bc256ff37f288f00302dbf9a1dda8f04
Closes-Bug: #1838749
"
openstack%2Fbarbican-tempest-plugin~master~I49d3790c3f649a3d84e9d31f00b3f15a5dbaa36f,openstack/barbican-tempest-plugin,master,tempest-sanity-gate,I49d3790c3f649a3d84e9d31f00b3f15a5dbaa36f,Remove Manager class,MERGED,2019-02-04 06:57:51.000000000,2019-08-06 17:31:43.000000000,2019-08-06 17:31:43.000000000,0,11,0,634631,488fd6157e199815169f0f81347945bf3b39a811,9,12,1,2,5689,Masayuki Igawa,igawa,"Remove Manager class

This commit removes Manager class which is unused now.

Change-Id: I49d3790c3f649a3d84e9d31f00b3f15a5dbaa36f
"
openstack%2Fbarbican~master~I40f2a4932eaafa61fcdc3884c0d7e3f3470788c2,openstack/barbican,master,650415,I40f2a4932eaafa61fcdc3884c0d7e3f3470788c2,Update Castellan minimum version,MERGED,2019-04-05 18:26:55.000000000,2019-08-06 17:31:38.000000000,2019-08-06 17:31:38.000000000,2,2,0,650414,a5c1ae6acee17fee3b056e5280a699a6e80164d4,17,4,5,2,7973,Douglas Mendizábal,dougmendizabal,"Update Castellan minimum version

Barbican added support for AppRole in the Vault backend
for Stein.  It requires at least version 1.2.1 to work.

Change-Id: I40f2a4932eaafa61fcdc3884c0d7e3f3470788c2
Story: 2005359
Task: 30329
"
openstack%2Fnetworking-ovn~stable%2Fqueens~I0faa19ef48f2dc5591c0337ae5a0599abc2e4168,openstack/networking-ovn,stable/queens,bug/1837003,I0faa19ef48f2dc5591c0337ae5a0599abc2e4168,Maintenance task: Enhance debug logging,MERGED,2019-07-26 15:06:49.000000000,2019-08-06 17:28:31.000000000,2019-08-06 17:28:31.000000000,86,6,0,673003,5fed25fdef377207a2a2240d6385ae187a8ee384,12,4,1,2,6773,Lucas Alvares Gomes,lucasagomes,"Maintenance task: Enhance debug logging

This patch is enhancing the maintenance task debug logs by:

* Logging a summary with the number of failures on each resource type
* Logging the UUID and type of the resource being fixed at that time
* Changing the prefix of the maintenance logs for easy grepping

Conflicts:
	networking_ovn/common/maintenance.py

Closes-Bug: #1837003
Change-Id: I0faa19ef48f2dc5591c0337ae5a0599abc2e4168
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit f59acf38968ce9c6129f1a1bffd277af8406a2d0)
"
openstack%2Fnetworking-ovn~stable%2Fstein~Ia63a375e360fb7b1ee31e4d9f96b38d9f31f4096,openstack/networking-ovn,stable/stein,ovn_driver_stein_cherry_picks,Ia63a375e360fb7b1ee31e4d9f96b38d9f31f4096,Store the FIP associated to a port in the OVN Northbound db.,MERGED,2019-07-25 07:20:29.000000000,2019-08-06 17:28:29.000000000,2019-08-06 17:28:29.000000000,77,0,0,672646,3e90354f11a3e5b4499499ba8cedd33721a6c011,15,7,3,4,24791,Maciej Jozefczyk,maciej.jozefczyk,"Store the FIP associated to a port in the OVN Northbound db.

If a floating ip is associated to a port, it will be stored as
Logical_Switch_Port.external_ids:neutron:port_fip=FIP

OVN octavia driver will use this information to associate the floating ip
to the load balancer vip if the port is a virtual ip port created by
OVN octavia driver.

Change-Id: Ia63a375e360fb7b1ee31e4d9f96b38d9f31f4096
Signed-off-by: Numan Siddique <nusiddiq@redhat.com>
Co-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>
(cherry picked from commit c8e8cdbb4b38afe70ff1d36044bab05e30ddc7e5)
"
openstack%2Fneutron~master~Iacd9e2d00838b402c8ab385044a7e294831a1ddc,openstack/neutron,master,use-callback-payloads,Iacd9e2d00838b402c8ab385044a7e294831a1ddc,use payloads for ROUTER_GATEWAY events,MERGED,2019-02-20 21:37:28.000000000,2019-08-06 17:27:44.000000000,2019-08-06 17:27:44.000000000,61,45,0,638274,42c4b1e0874652d629afda118da59265a9eb5590,52,15,4,4,5367,boden,boden,"use payloads for ROUTER_GATEWAY events

This patch switches the code over to the payload style of callbacks [1]
for PORT ROUTER_GATEWAY events for those that are not using them yet.
The unit tests are also updated where needed to account for the
payload style callbacks and publish() method. Finally the patch
normalizes the passing of gateway IPs which are currently referred to
as 'gw_ips' and 'gateway_ips' depending on the event; now all events use
'gateway_ips'.

NeutronLibImpact

[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html

Change-Id: Iacd9e2d00838b402c8ab385044a7e294831a1ddc
"
openstack%2Frpm-packaging~master~I034e59d2d88771ee5e71837bbd0fb0e1fe611de7,openstack/rpm-packaging,master,,I034e59d2d88771ee5e71837bbd0fb0e1fe611de7,monasca-api: add new requests-mock test dependency,MERGED,2019-08-05 18:43:07.000000000,2019-08-06 17:21:01.000000000,2019-08-06 17:21:01.000000000,1,0,0,674671,4c6f98f917a4f90c2dc95016a73bfc24501ebf0d,13,5,2,1,6593,Dirk Mueller,dmllr,"monasca-api: add new requests-mock test dependency

Change-Id: I034e59d2d88771ee5e71837bbd0fb0e1fe611de7
"
openstack%2Ftripleo-common~stable%2Fstein~I3c0580893aed5bda46d9104ffcee0f00cbabd9ee,openstack/tripleo-common,stable/stein,stop-pre-upgrade,I3c0580893aed5bda46d9104ffcee0f00cbabd9ee,Add playbook to stop containers (stein only),MERGED,2019-07-05 12:17:23.000000000,2019-08-06 17:16:23.000000000,2019-08-06 17:16:23.000000000,62,0,6,669345,14244253ea1eccc7935f86e1e2a1fa18449d09a9,60,8,11,4,20775,Carlos Camacho,ccamacho,"Add playbook to stop containers (stein only)

We need to stop several containers on the upgrades workflow.

This submission allows to reduce the duplicated code in THT.
It also handles the case in which we have podman as the CLI
but the containers running with docker.

The submission is proposed for tripleo-common only for
stable/stein, the master patch needs to be moved to the
tripleo-ansible repository as all the Ansible automation
is moved to that new repository.

Change-Id: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee
"
openstack%2Ftripleo-common~stable%2Frocky~I260501e6061c0d6652b22504e7284940b2c64709,openstack/tripleo-common,stable/rocky,,I260501e6061c0d6652b22504e7284940b2c64709,Fix expensive api call to get deployment_name,MERGED,2019-08-05 12:09:07.000000000,2019-08-06 17:16:17.000000000,2019-08-06 17:16:17.000000000,3,2,0,674583,652aad411fe217247b5612b533a9a5a1ff1aa013,10,5,1,1,3153,Emilien Macchi,emilienm,"Fix expensive api call to get deployment_name

We filter all resources for overcloud root stack with a
non-indexed field 'physical_resource_id' (nova_instance).
This is very inefficient.

With this patch, though there would still be making heat api
calls for every deployment, it won't be so expensive.

Change-Id: I260501e6061c0d6652b22504e7284940b2c64709
Closes-Bug: #1838861
(cherry picked from commit 3df3719e82bedb0a167d5b981668403e2bd4e316)
"
openstack%2Frpm-packaging~master~Ie58ad13cab219926af5a633027f50372d81ddabd,openstack/rpm-packaging,master,,Ie58ad13cab219926af5a633027f50372d81ddabd,os-faults: Fix doc group,MERGED,2019-08-06 06:22:50.000000000,2019-08-06 17:09:15.000000000,2019-08-06 16:55:02.000000000,1,1,0,674733,d7d4512d3a7c4fb4e6cb66c2ba053f14d8938c26,10,5,1,1,7102,Thomas Bechtold,toabctl,"os-faults: Fix doc group

Change-Id: Ie58ad13cab219926af5a633027f50372d81ddabd
"
openstack%2Ftripleo-quickstart-extras~master~I11f88eefce4ee3f22551c09bd5b8a812ac25808e,openstack/tripleo-quickstart-extras,master,,I11f88eefce4ee3f22551c09bd5b8a812ac25808e,DNM: install openvswitch,ABANDONED,2019-08-05 11:14:16.000000000,2019-08-06 17:01:16.000000000,,1,0,0,674576,68629566525bb011f5d8aec6bafd8deafb2b7775,5,3,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: install openvswitch

Change-Id: I11f88eefce4ee3f22551c09bd5b8a812ac25808e
"
openstack%2Fhorizon~master~If767cbc6c027060d564bdc2839bf6e61f6425d01,openstack/horizon,master,log-level-example,If767cbc6c027060d564bdc2839bf6e61f6425d01,Set log devel to DEBUG in local_settings.py.example,MERGED,2019-08-06 12:08:18.000000000,2019-08-06 17:01:00.000000000,2019-08-06 17:01:00.000000000,1,1,0,674792,3e12c2cc48e3657f1ea4ab5271d5d22b6a503d21,9,3,1,1,841,Akihiro Motoki,amotoki,"Set log devel to DEBUG in local_settings.py.example

Log level 'DEBUG' is useful to debug our CI.
local_settings.py.example is used as a template of local_settings.py
in our CI and it is not easy to change the log level in
local_settings.py using a shell script.
This commit sets the log level of 'console' to 'DEBUG'
when DEBUG settings is true.

Note that this does not mean the change of the default value.

Change-Id: If767cbc6c027060d564bdc2839bf6e61f6425d01
"
openstack%2Fmonasca-tempest-plugin~master~I5d405167c73b6e2409d6673e116475c67b18b96e,openstack/monasca-tempest-plugin,master,openstackdocstheme,I5d405167c73b6e2409d6673e116475c67b18b96e,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-29 07:09:57.000000000,2019-08-06 16:58:38.000000000,2019-08-06 16:58:38.000000000,1,14,0,673215,e8db39351c75898f5c88619c3bad5e8b9f744947,14,2,3,3,27822,pengyuesheng,pengyuesheng,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I5d405167c73b6e2409d6673e116475c67b18b96e
"
openstack%2Ftripleo-common~stable%2Fstein~I260501e6061c0d6652b22504e7284940b2c64709,openstack/tripleo-common,stable/stein,,I260501e6061c0d6652b22504e7284940b2c64709,Fix expensive api call to get deployment_name,MERGED,2019-08-05 12:08:49.000000000,2019-08-06 16:48:23.000000000,2019-08-06 16:48:23.000000000,3,2,0,674582,142ae92f8ba20e1dfca811182d92f74553cb546d,13,5,1,1,3153,Emilien Macchi,emilienm,"Fix expensive api call to get deployment_name

We filter all resources for overcloud root stack with a
non-indexed field 'physical_resource_id' (nova_instance).
This is very inefficient.

With this patch, though there would still be making heat api
calls for every deployment, it won't be so expensive.

Change-Id: I260501e6061c0d6652b22504e7284940b2c64709
Closes-Bug: #1838861
(cherry picked from commit 3df3719e82bedb0a167d5b981668403e2bd4e316)
"
openstack%2Ftripleo-common~stable%2Fqueens~I260501e6061c0d6652b22504e7284940b2c64709,openstack/tripleo-common,stable/queens,,I260501e6061c0d6652b22504e7284940b2c64709,Fix expensive api call to get deployment_name,MERGED,2019-08-05 12:09:20.000000000,2019-08-06 16:41:54.000000000,2019-08-06 16:41:54.000000000,3,2,0,674584,e3ca555245cf2a6eec22d3473a3ea2dc4538bbb6,14,5,1,1,3153,Emilien Macchi,emilienm,"Fix expensive api call to get deployment_name

We filter all resources for overcloud root stack with a
non-indexed field 'physical_resource_id' (nova_instance).
This is very inefficient.

With this patch, though there would still be making heat api
calls for every deployment, it won't be so expensive.

Change-Id: I260501e6061c0d6652b22504e7284940b2c64709
Closes-Bug: #1838861
(cherry picked from commit 3df3719e82bedb0a167d5b981668403e2bd4e316)
"
openstack%2Fmonasca-notification~master~I8e2775a283b4670a8979541602a3f245c18e5d35,openstack/monasca-notification,master,fix-python3-json-loads-bug,I8e2775a283b4670a8979541602a3f245c18e5d35,Fix python3 json loads error,MERGED,2019-08-02 00:42:38.000000000,2019-08-06 16:30:35.000000000,2019-08-06 16:30:35.000000000,2,5,1,674146,3db7b179ef531e18e5e3b17c54838147ddf3411c,10,2,2,1,29970,jianweizhang,zhangjianwei,"Fix python3 json loads error

`oslo_serialization.jsonutils.loads` is a more appropriate solution
Task: 36071
Story: 2006285

Change-Id: I8e2775a283b4670a8979541602a3f245c18e5d35
"
openstack%2Ftripleo-common~stable%2Fstein~I169b07553b171fcacb532bf58acc4200e270bfbb,openstack/tripleo-common,stable/stein,swift-proxy-healthcheck-stable/stein,I169b07553b171fcacb532bf58acc4200e270bfbb,Fix swift-proxy healthcheck,MERGED,2019-08-02 22:09:28.000000000,2019-08-06 16:09:52.000000000,2019-08-06 16:09:52.000000000,1,1,0,674431,e2c5deba1d1fce3c9001364f51aa09565223aee3,19,6,1,1,17216,Martin Schuppert,mcschupp,"Fix swift-proxy healthcheck

With the current swift-proxy healthcheck the container status is
unhealty even the service is up.

The used ps/grep won't return the swift proxy processes as the
output gets truncated:

()[root@overcloud-controller-0 /]$ ps -e
    PID TTY          TIME CMD
      1 ?        00:00:00 dumb-init
      6 ?        00:02:52 swift-proxy-ser
     28 ?        00:00:25 swift-proxy-ser
   4753 pts/1    00:00:00 sh
   4797 pts/1    00:00:00 ps

As a result we end up in the else, checking the cache.

This moves the if to use pgrep instead.

Change-Id: I169b07553b171fcacb532bf58acc4200e270bfbb
(cherry picked from commit 3ddb77e34096a095909ea4dc5a18d478eeb93cab)
"
openstack%2Fsushy~stable%2Fqueens~I721c6284b938d5a47dbe0b298467c15ca4bd1517,openstack/sushy,stable/queens,disable-connection-pooling-stable/stein-stable/rocky-stable/queens,I721c6284b938d5a47dbe0b298467c15ca4bd1517,Disable HTTP connection pooling,MERGED,2019-08-05 19:34:49.000000000,2019-08-06 15:54:28.000000000,2019-08-06 15:54:28.000000000,15,0,0,674684,efadfc76208ca0aebd140c633995f755b4cb4202,8,5,1,2,11655,Julia Kreger,jkreger,"Disable HTTP connection pooling

Disable HTTP connection pooling by asking HTTP server to close our
connection right upon use. The rationale is that some BMC observed in
the wild seem to close persistent connections abruptly upon eventual
re-use failing completely unrelated operation. So in ``sushy`` we
just try not to maintain persistent connections with BMC at all.

Story: 2006336
Task: 36084

Change-Id: I721c6284b938d5a47dbe0b298467c15ca4bd1517
(cherry picked from commit 84e085f9a2460218bf52315a21ee4dcf8365e3e1)
"
openstack%2Fsushy~stable%2Frocky~I721c6284b938d5a47dbe0b298467c15ca4bd1517,openstack/sushy,stable/rocky,disable-connection-pooling-stable/stein-stable/rocky,I721c6284b938d5a47dbe0b298467c15ca4bd1517,Disable HTTP connection pooling,MERGED,2019-08-05 19:34:34.000000000,2019-08-06 15:54:17.000000000,2019-08-06 15:54:17.000000000,15,0,0,674683,e534332c1acf749d962bfa2015b16d9464f8dfbb,9,5,1,2,11655,Julia Kreger,jkreger,"Disable HTTP connection pooling

Disable HTTP connection pooling by asking HTTP server to close our
connection right upon use. The rationale is that some BMC observed in
the wild seem to close persistent connections abruptly upon eventual
re-use failing completely unrelated operation. So in ``sushy`` we
just try not to maintain persistent connections with BMC at all.

Story: 2006336
Task: 36084

Change-Id: I721c6284b938d5a47dbe0b298467c15ca4bd1517
(cherry picked from commit 84e085f9a2460218bf52315a21ee4dcf8365e3e1)
"
openstack%2Ftripleo-validations~stable%2Fstein~I8abe0b2fc8b3619c227da01d145355c2d8d1d15d,openstack/tripleo-validations,stable/stein,molecule/undercloud-debug-stable/stein,I8abe0b2fc8b3619c227da01d145355c2d8d1d15d,Add molecule testing on undercloud-debug role,MERGED,2019-08-01 11:03:33.000000000,2019-08-06 15:54:05.000000000,2019-08-06 15:54:05.000000000,142,0,0,673996,3e513ca2a04823d65d2529eb8802b52bf44b4105,8,6,2,3,11491,Gael Chamoulaud,gchamoul,"Add molecule testing on undercloud-debug role

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: I8abe0b2fc8b3619c227da01d145355c2d8d1d15d
(cherry picked from commit 95e9eabaa6d4218550278f4b05116bf2de7629d7)
"
openstack%2Ftripleo-validations~stable%2Fstein~Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed,openstack/tripleo-validations,stable/stein,optimization/no-fact-gathering-stable/stein,Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed,Enable fact gathering for needed validations,MERGED,2019-08-01 10:34:06.000000000,2019-08-06 15:48:08.000000000,2019-08-06 15:48:08.000000000,5,0,0,673994,000718fa93aced3beea549ee0c810572a1836168,9,5,1,5,11491,Gael Chamoulaud,gchamoul,"Enable fact gathering for needed validations

Implicit fact gathering is disabled since
https://review.opendev.org/672278

This means, for some validations, we must explicitly enable fact
gathering.

Depends-On: https://review.opendev.org/672278
Change-Id: Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed
(cherry picked from commit 2affbb11f82afcdfcd77c282f718c92595cad291)
"
openstack%2Fos-apply-config~master~I4379a60f3e6a511b714a4df1502d068bc1aaf6a3,openstack/os-apply-config,master,python3-train,I4379a60f3e6a511b714a4df1502d068bc1aaf6a3,Add Python 3 Train unit tests,MERGED,2019-07-12 20:40:52.000000000,2019-08-06 15:47:56.000000000,2019-08-06 15:47:56.000000000,7,3,0,670661,d9df1dbd367d42430aa9abfe90d5aec572ec152b,20,3,1,3,11805,Corey Bryant,coreycb,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I4379a60f3e6a511b714a4df1502d068bc1aaf6a3
Story: #2005924
Task: #34253
"
openstack%2Fproject-config~master~Ifb440750c18aef96b42080cc50799e5ed8703619,openstack/project-config,master,,Ifb440750c18aef96b42080cc50799e5ed8703619,Default zuul tenant to use ansible 2.8 for jobs,MERGED,2019-07-29 14:40:18.000000000,2019-08-06 15:47:43.000000000,2019-08-06 15:47:43.000000000,1,0,0,673304,9fdebd38e34cab742a718c775b5774ce37304131,8,4,1,1,4162,Paul Belanger,pabelanger,"Default zuul tenant to use ansible 2.8 for jobs

After some basic testing of jobs in the zuul tenant, we don't appear to
have any issues using ansible 2.8. With that in mind, switch the default
for all jobs to ansible 2.8. We also only do this on the zuul tenant, to
ensure this tenant works properly before moving to other tenants.

Change-Id: Ifb440750c18aef96b42080cc50799e5ed8703619
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
"
openstack%2Fmistral~master~Ibb0daac0f5f155f4aa7458ab81044fa097c0ea29,openstack/mistral,master,bug/1781556,Ibb0daac0f5f155f4aa7458ab81044fa097c0ea29,"Provide better docs for the ""target"" task attribute",MERGED,2019-08-02 08:36:32.000000000,2019-08-06 15:45:40.000000000,2019-08-06 15:45:40.000000000,13,6,0,674224,7ae3ec0caf7b0778d1e4cb0e3c0783d711d317b7,18,4,1,2,8731,Renat Akhmerov,rakhmerov,"Provide better docs for the ""target"" task attribute

Change-Id: Ibb0daac0f5f155f4aa7458ab81044fa097c0ea29
Closes-Bug: #1781556
"
openstack%2Fironic~stable%2Frocky~I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f,openstack/ironic,stable/rocky,story/2006256-stable/rocky,I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f,Filter security group list on the ID's we expect,MERGED,2019-07-30 10:45:52.000000000,2019-08-06 15:45:11.000000000,2019-08-06 15:45:11.000000000,32,17,0,673474,1939909563e51d7a917226ee597ac696a58fc7e2,24,9,1,3,10239,Dmitry Tantsur,dtantsur,"Filter security group list on the ID's we expect

Filter the list of security groups based on the security
group IDs we plan on using for the network. Also only
get the id field as this is all we need to compare.

Fixes an issue where deployment fail on systems with a
high number of security groups.

Story: 2006256
Task: 35871
Change-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f
(cherry picked from commit 59787768cbf1d757611be27406777a088fb16659)
"
openstack%2Fcharm-nova-cloud-controller~master~I062acd8c403a6805a1b33fad5b45accb1270aa0e,openstack/charm-nova-cloud-controller,master,improve-ssh-key-management,I062acd8c403a6805a1b33fad5b45accb1270aa0e,Add SSH knownhosts caching info to README,MERGED,2019-08-02 15:42:09.000000000,2019-08-06 15:43:24.000000000,2019-08-06 15:43:24.000000000,38,0,4,674332,1bcc17fe6a05d6973b091ede2599b8ab49fa687b,10,5,1,1,20870,Alex Kavanagh,ajkavanagh,"Add SSH knownhosts caching info to README

Change-Id: I062acd8c403a6805a1b33fad5b45accb1270aa0e
"
openstack%2Fsushy~stable%2Fstein~I721c6284b938d5a47dbe0b298467c15ca4bd1517,openstack/sushy,stable/stein,disable-connection-pooling-stable/stein,I721c6284b938d5a47dbe0b298467c15ca4bd1517,Disable HTTP connection pooling,MERGED,2019-08-05 19:34:17.000000000,2019-08-06 15:39:44.000000000,2019-08-06 15:39:44.000000000,15,0,0,674681,a738cd7ec13c191a479f8fa4dcc3857eb92f5951,9,5,1,2,11655,Julia Kreger,jkreger,"Disable HTTP connection pooling

Disable HTTP connection pooling by asking HTTP server to close our
connection right upon use. The rationale is that some BMC observed in
the wild seem to close persistent connections abruptly upon eventual
re-use failing completely unrelated operation. So in ``sushy`` we
just try not to maintain persistent connections with BMC at all.

Story: 2006336
Task: 36084

Change-Id: I721c6284b938d5a47dbe0b298467c15ca4bd1517
(cherry picked from commit 84e085f9a2460218bf52315a21ee4dcf8365e3e1)
"
