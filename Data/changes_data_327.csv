id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fcookbook-openstack-compute~master~I99dceff452695302865d267ca4cd5e8aa094ead5,openstack/cookbook-openstack-compute,master,fog-openstack-1.x,I99dceff452695302865d267ca4cd5e8aa094ead5,Fixes to support fog-openstack-1.x,MERGED,2019-06-18 22:50:46.000000000,2019-07-05 08:41:43.000000000,2019-07-05 08:41:42.000000000,7,5,0,666184,5d469d044e7c1023ff1ae1b1d85bad81cd136370,15,3,5,2,21961,Lance Albertson,ramereth,"Fixes to support fog-openstack-1.x

fog-openstack-1.x already appends ""auth/tokens"" so we no longer need to
do that.  In addition, comment out endpoint type until this PR [1] gets
merged and released.

[1] https://github.com/fog/fog-openstack/pull/494

Depends-On: https://review.opendev.org/666176
Change-Id: I99dceff452695302865d267ca4cd5e8aa094ead5
Signed-off-by: Lance Albertson <lance@osuosl.org>
"
openstack%2Fcookbook-openstack-block-storage~master~Id090b2f70bf2844ce73fc75a1fe4871d3465485d,openstack/cookbook-openstack-block-storage,master,fog-openstack-1.x,Id090b2f70bf2844ce73fc75a1fe4871d3465485d,Fixes to support fog-openstack-1.x,MERGED,2019-06-18 22:53:24.000000000,2019-07-05 08:39:09.000000000,2019-07-05 08:39:09.000000000,2,2,0,666189,f2a4e0c7ee8d217a49ff82acd527bf1e2b10c600,13,4,3,2,21961,Lance Albertson,ramereth,"Fixes to support fog-openstack-1.x

fog-openstack-1.x already appends ""auth/tokens"" so we no longer need to
do that.

Depends-On: https://review.opendev.org/666176
Change-Id: Id090b2f70bf2844ce73fc75a1fe4871d3465485d
Signed-off-by: Lance Albertson <lance@osuosl.org>
"
openstack%2Fos-net-config~master~I61c59e162bc5d15c063f52612e198d93f4433db1,openstack/os-net-config,master,bug/1830716,I61c59e162bc5d15c063f52612e198d93f4433db1,Restructuring the method of vf-representor renaming,MERGED,2019-06-13 10:48:25.000000000,2019-07-05 08:37:22.000000000,2019-07-04 12:46:01.000000000,97,29,40,665108,5d44b582b514dd91c14c12614a6d003591876054,80,10,13,1,25241,waleed mousa,waleedm,"Restructuring the method of vf-representor renaming

The old way of renmaing depended on adding udev rule
before creating vf-representors and so we faced race condition on
uplink representor rename.
So now we are creating vf-representors and after that we adding the
udev rules and trigerring them at the end
Also because the old name of UDEV_RULE_FILE(70-persistent-net.rules) is
used by another module, so we renamed the udev_rule_file to
(80-persistent-os-net-config.rules) and with that way it will override
any previouse rules in (70-persistent-net.rules) and will not any cause
any confustion
Addition to that, we also added a udev rule to make vf-representors
unmanaged by NetworkManager in order to be renamed successfully

Change-Id: I61c59e162bc5d15c063f52612e198d93f4433db1
Closes-Bug: #1830716
"
openstack%2Fcookbook-openstack-identity~master~I2a73e87648bff58180c6ee2355a733a8e030fa4b,openstack/cookbook-openstack-identity,master,fog-openstack-1.x,I2a73e87648bff58180c6ee2355a733a8e030fa4b,Fixes to support fog-openstack-1.x,MERGED,2019-06-17 23:48:06.000000000,2019-07-05 08:37:21.000000000,2019-07-05 08:37:21.000000000,7,5,3,665827,b185a5205d7cb9262b593c7c5f82514be6bdb772,31,4,12,2,21961,Lance Albertson,ramereth,"Fixes to support fog-openstack-1.x

fog-openstack-1.x already appends ""auth/tokens"" so we no longer need to
do that.  In addition, comment out endpoint type until this PR [1] gets
merged and released.

[1] https://github.com/fog/fog-openstack/pull/494

Depends-On: https://review.opendev.org/666176
Change-Id: I2a73e87648bff58180c6ee2355a733a8e030fa4b
Signed-off-by: Lance Albertson <lance@osuosl.org>
"
openstack%2Ftelemetry-tempest-plugin~master~I723f99e5b19ddf4dc2d9c20738e818b7399f54a4,openstack/telemetry-tempest-plugin,master,improvement,I723f99e5b19ddf4dc2d9c20738e818b7399f54a4,Use gnocchi search api to check gnocchi resources,MERGED,2019-07-01 06:24:05.000000000,2019-07-05 08:35:47.000000000,2019-07-05 08:35:47.000000000,9,5,2,668357,e94a3f619afb0ad514b054f879ba93f18b0fac45,12,4,2,1,26721,Rocky,Rocky,"Use gnocchi search api to check gnocchi resources

When running the tests against production cloud, the resource list call
would return tons of records, so it's better to use resource search api
instead to check the resources.

Change-Id: I723f99e5b19ddf4dc2d9c20738e818b7399f54a4
"
openstack%2Fironic-specs~master~I9f2b868b93f2d527f6f1352dbdca29274ff4b851,openstack/ironic-specs,master,idrac_supports_redfish,I9f2b868b93f2d527f6f1352dbdca29274ff4b851,Add spec for idrac HW type support of Redfish,MERGED,2019-06-17 03:56:31.000000000,2019-07-05 08:29:09.000000000,2019-07-05 08:29:09.000000000,496,0,33,665576,0d139e3567eb211a62fdbc643c2ec50f04f37351,42,11,8,2,23847,Richard G. Pioso,richard.pioso,"Add spec for idrac HW type support of Redfish

This adds a specification for defining idrac hardware type support of
Redfish interface implementations.

Story: 2004592
Task: 28470
Change-Id: I9f2b868b93f2d527f6f1352dbdca29274ff4b851
"
openstack%2Fcookbook-openstack-identity~master~Ib52a4d5195f9ef8d7caa8478c8293fe894624ee5,openstack/cookbook-openstack-identity,master,early_keystone_uca_disable,Ib52a4d5195f9ef8d7caa8478c8293fe894624ee5,Disable UCA keystone apache2 site early,MERGED,2019-07-05 06:37:31.000000000,2019-07-05 08:24:51.000000000,2019-07-05 08:24:51.000000000,6,6,0,669264,f9a1116736811d85ceb837fc27669f628dbf67b8,8,3,2,1,11109,Roger Luethi,rluethi,"Disable UCA keystone apache2 site early

If the chef-client fails between keystone package installation and the
disabling of the default keystone config file from UCA package, then
apache2 may end up with conflicting site configurations trying to bind
to the same port.

backport: stable/queens

Change-Id: Ib52a4d5195f9ef8d7caa8478c8293fe894624ee5
"
openstack%2Fopenstack-chef~master~I0b0c2eb80dc0d831685cc7f69a1186a6148e6258,openstack/openstack-chef,master,chef-client-proper,I0b0c2eb80dc0d831685cc7f69a1186a6148e6258,Install and use Chef Client instead of ChefDK on integration tests,MERGED,2019-06-18 22:00:04.000000000,2019-07-05 08:23:39.000000000,2019-07-05 08:23:39.000000000,842,10,11,666176,9a1672a07273ac4f42d906adb01ee1a2688e675f,32,4,10,7,21961,Lance Albertson,ramereth,"Install and use Chef Client instead of ChefDK on integration tests

Using the chef-client baked into ChefDK is causing issues with the
fog-openstack gem since it is locked in ChefDK. To work around this and
better mimic how this is used in production, switch the integration
tests to installing chef-client instead of ChefDK.

- Split out pre-run playbooks between delivery and integration (keep
  ChefDK for delivery)
- Install Chef 14 by default
- Install Berkshelf in Chef
- Install cookstyle which is needed in the Rakefile
- Update command paths so that berkshelf is available with Chef and
  ChefDK
- Update ChefDK to 3.2.30 but not higher due to issues with chefspec and
  apache2 [1]
- Upgrade fog-openstack gem to work around extraneous warnings to match
  cookbook-openstackclient
- Remove unneeded pip downgrade

[1] https://github.com/sous-chefs/apache2/issues/588

Change-Id: I0b0c2eb80dc0d831685cc7f69a1186a6148e6258
Signed-off-by: Lance Albertson <lance@osuosl.org>
"
openstack%2Fmagnum~master~I2935d34ace08800c805028f1673bc515f2f577e6,openstack/magnum,master,kubernetes-images,I2935d34ace08800c805028f1673bc515f2f577e6,Add build-arg for --allow-privileged,MERGED,2019-06-19 23:42:00.000000000,2019-07-05 08:18:09.000000000,2019-07-05 08:18:09.000000000,15,15,0,666464,fe0f0efa7237f676faf5a94201b2f18982ceef34,13,3,3,11,20498,Spyros Trigazis,strigazi,"Add build-arg for --allow-privileged

https://github.com/kubernetes/kubernetes/pull/77820
https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG-1.15.md#node

story: 2005124

Change-Id: I2935d34ace08800c805028f1673bc515f2f577e6
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
"
openstack%2Fnova~stable%2Frocky~I9e852e25ea89f32bf19cdaeb1f5dac8f749f5dbc,openstack/nova,stable/rocky,bug/1811726,I9e852e25ea89f32bf19cdaeb1f5dac8f749f5dbc,Delete resource providers for all nodes when deleting compute service,MERGED,2019-06-21 14:44:30.000000000,2019-07-05 08:15:54.000000000,2019-07-04 18:03:33.000000000,32,9,0,666854,64d52788831f0e676f0b9bf9780eeadb38232def,17,7,1,3,6873,Matt Riedemann,mriedem,"Delete resource providers for all nodes when deleting compute service

Change I7b8622b178d5043ed1556d7bdceaf60f47e5ac80 started deleting the
compute node resource provider associated with a compute node when
deleting a nova-compute service. However, it would only delete the
first compute node associated with the service which means for an
ironic compute service that is managing multiple nodes, the resource
providers were not cleaned up in placement. This fixes the issue by
iterating all the compute nodes and cleaning up their providers.
Note this could be potentially a lot of nodes, but we don't really
have many good options here but to iterate them and clean them up
one at a time.

Note that this is best-effort but because of how the
SchedulerReportClient.delete_resource_provider method ignores
ResourceProviderInUse errors, and we could have stale allocations
on the host for which delete_resource_provider is not accounting,
namely allocations from evacuated instances (or incomplete migrations
though you can't migrate baremetal instances today), we could still
delete the compute service and orphan those in-use providers. That,
however, is no worse than before this change where we did not try
to cleanup all providers. The issue described above is being tracked
with bug 1829479 and will be dealt with separately.

Change-Id: I9e852e25ea89f32bf19cdaeb1f5dac8f749f5dbc
Closes-Bug: #1811726
(cherry picked from commit 650fe118d128f09f78552b82abc114bb4b84930e)
(cherry picked from commit e9889be94ee58a6da78ef96d09d8f5282b86f648)
"
openstack%2Fkeystone~master~I8231f95e13ffad8f57ea6d7ae28216bfa27dc3d3,openstack/keystone,master,fix-sphinx-again,I8231f95e13ffad8f57ea6d7ae28216bfa27dc3d3,"Revert ""Exclude constants from autodoc""",MERGED,2019-06-11 18:54:17.000000000,2019-07-05 08:12:41.000000000,2019-07-05 08:12:41.000000000,0,10,0,664669,10b7708ff8037121a25d301443ccdebebcf54ea6,8,4,1,1,8482,Colleen Murphy,krinkle,"Revert ""Exclude constants from autodoc""

This reverts commit 485a6b2170fe7d62a7ce9b29ccd874ed0f280d77.

With the release of Sphinx 2.1.1[1] constants are no longer autodoc'd so
we don't have this problem any more.

[1] https://github.com/sphinx-doc/sphinx/issues/6447

Change-Id: I8231f95e13ffad8f57ea6d7ae28216bfa27dc3d3
"
openstack%2Fkeystone~master~Id9164a0311a59a78cb2b9018c95809d0fccc54f7,openstack/keystone,master,fix-sphinx-again,Id9164a0311a59a78cb2b9018c95809d0fccc54f7,"Revert ""Ignore boilerplate constants in autodoc""",MERGED,2019-06-11 18:54:17.000000000,2019-07-05 08:12:38.000000000,2019-07-05 08:12:38.000000000,1,5,0,664668,f828bb872129b5082d07efdaf3da0c3722640013,8,4,1,1,8482,Colleen Murphy,krinkle,"Revert ""Ignore boilerplate constants in autodoc""

This reverts commit 698c20577e736496f1219832494f77000f90c2ad.

With the release of Sphinx 2.1.1[1] constants are no longer autodoc'd so
we don't have this problem any more.

[1] https://github.com/sphinx-doc/sphinx/issues/6447

Change-Id: Id9164a0311a59a78cb2b9018c95809d0fccc54f7
"
openstack%2Fkeystone~master~I283ee3eb587199339987bb6c2c5a54d10cebaabc,openstack/keystone,master,log_regex_master,I283ee3eb587199339987bb6c2c5a54d10cebaabc,Incorrect behavior of validate_password method,MERGED,2019-07-03 10:50:07.000000000,2019-07-05 08:12:36.000000000,2019-07-05 08:12:36.000000000,1,1,0,668861,72af26168752b58b8c236b79b20d195083f6302d,8,4,1,1,27838,Vadym Markov,vmarkov,"Incorrect behavior of validate_password method

Logging fails when security_compliance is turn on and password_regex is
invalid.

Change-Id: I283ee3eb587199339987bb6c2c5a54d10cebaabc
"
openstack%2Fpython-openstackclient~master~Ifab30432cc7a84980fdba826dae5b6065f49b81f,openstack/python-openstackclient,master,bug/1687955,Ifab30432cc7a84980fdba826dae5b6065f49b81f,Fix cliff formattable columns in volume type,ABANDONED,2019-07-05 07:34:01.000000000,2019-07-05 07:49:29.000000000,,2,2,0,669280,e3f53c3fa3b0c1a68892ae7d795682ab3e0e9dc4,2,0,1,2,29539,zhangqing,zhangqing,"Fix cliff formattable columns in volume type

Partial-Bug: #1687955
Cliff formattable columns not be used in class

Change-Id: Ifab30432cc7a84980fdba826dae5b6065f49b81f
"
openstack%2Fsearchlight-ui~master~If69c009824de4bbf8e862904afd49b1858f83352,openstack/searchlight-ui,master,zanata/translations,If69c009824de4bbf8e862904afd49b1858f83352,Imported Translations from Zanata,MERGED,2019-07-05 07:13:43.000000000,2019-07-05 07:47:29.000000000,2019-07-05 07:47:28.000000000,7,3,0,669276,07766fc29144e87926bd7414b230a59b5bf9f210,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If69c009824de4bbf8e862904afd49b1858f83352
"
openstack%2Fplacement~master~I0b12a8ac80e42c605cfd26a3adc1312dedaa3f99,openstack/placement,master,nested-magic,I0b12a8ac80e42c605cfd26a3adc1312dedaa3f99,Recreate: incorrect mappings with group_policy=none,MERGED,2019-06-29 18:01:28.000000000,2019-07-05 07:25:33.000000000,2019-07-05 07:25:33.000000000,34,6,2,668302,7cadf3e82a290fb6f211d5b1a2712a36c112eed2,12,4,3,3,14070,Eric Fried,efried,"Recreate: incorrect mappings with group_policy=none

Adds a gabbi test demonstrating the bug in the associated story:

GET /allocation_candidates
with group_policy=none
and two request groups
which consolidate to land on the same provider

In this case, the mappings should show two entries: one from each
request group to the (same) provider.

However, the test demonstrates that only one mapping is returned. (I
think it's arbitrary which request group will be represented, so the
test only asserts that the size of the mappings dict is one instead of
two.)

Story: #2006068
Task: #34786

Change-Id: I0b12a8ac80e42c605cfd26a3adc1312dedaa3f99
"
openstack%2Fneutron~master~I4689e508ed74339903901d4c03fed7bf9547a185,openstack/neutron,master,bug/1834753,I4689e508ed74339903901d4c03fed7bf9547a185,"TC filter functions should pass ""prio"" parameter",MERGED,2019-06-29 20:12:10.000000000,2019-07-05 07:25:30.000000000,2019-07-05 07:25:30.000000000,2,2,0,668308,12e3b20736e7afe1b659fd147b3171018959c2e7,40,7,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"TC filter functions should pass ""prio"" parameter

Pyroute2 TC filter function accept ""prio"" parameter to define
the filter priority [1].

[1]https://github.com/svinota/pyroute2/blob/0.5.6/pyroute2/netlink/rtnl/tcmsg/cls_u32.py#L28

Change-Id: I4689e508ed74339903901d4c03fed7bf9547a185
Closes-Bug: #1834753
"
openstack%2Fpuppet-nova~master~I772046f81fe5570a68512c2607ca9cbf8b1fe8c7,openstack/puppet-nova,master,bug/1835161,I772046f81fe5570a68512c2607ca9cbf8b1fe8c7,Manage oslo_middleware/max_request_body_size,MERGED,2019-07-04 03:44:21.000000000,2019-07-05 07:18:44.000000000,2019-07-05 07:18:44.000000000,48,25,1,669036,bb4afe7d3d725334f0976de9c69c4a7d8be453b0,15,5,1,5,9414,zhongshengping,ZhongShengping,"Manage oslo_middleware/max_request_body_size

So that we can increase it from the default 114688

Useful in case for example the OS-Federation mapping is too large.

If this limit is breached nova will return a 413 Entity Too Large
and not log anything to nova.log.

Change-Id: I772046f81fe5570a68512c2607ca9cbf8b1fe8c7
Closes-Bug: #1835161
"
openstack%2Fcyborg-tempest-plugin~master~I48556abe8a3680af6e5d4f0b2a5312c4d805ea60,openstack/cyborg-tempest-plugin,master,,I48556abe8a3680af6e5d4f0b2a5312c4d805ea60,For test,ABANDONED,2019-07-05 05:21:10.000000000,2019-07-05 07:00:03.000000000,,1,1,0,669249,3796dc20abd383913dbe4fdd47495d83dda18413,3,1,1,1,14107,zhurong,zhurong,"For test

Depends-On: https://review.opendev.org/#/c/667231/
Depends-On: https://review.opendev.org/#/c/669010/
Depends-On: https://review.opendev.org/#/c/626057/
Change-Id: I48556abe8a3680af6e5d4f0b2a5312c4d805ea60
"
openstack%2Frpm-packaging~master~Ic1d3da79f356ecbf79c93908479901a1db91fb7f,openstack/rpm-packaging,master,os-ken,Ic1d3da79f356ecbf79c93908479901a1db91fb7f,update os-ken to 0.4.0,MERGED,2019-06-14 06:09:55.000000000,2019-07-05 06:56:02.000000000,2019-07-05 06:56:02.000000000,1,198,2,665303,aa9d0efe3acc5cafffb22fd516933f5f6e68350f,21,7,2,3,28654,chenming,mmbbz,"update os-ken to 0.4.0

Change-Id: Ic1d3da79f356ecbf79c93908479901a1db91fb7f
"
openstack%2Ftripleo-heat-templates~master~Ica532e7fe2c4578ec273855cb69179864f4746b4,openstack/tripleo-heat-templates,master,bug/1832537,Ica532e7fe2c4578ec273855cb69179864f4746b4,Also set nova::network::neutron::dhcp_domain,MERGED,2019-06-12 16:01:52.000000000,2019-07-05 06:53:22.000000000,2019-06-13 20:53:58.000000000,1,0,0,664966,12aaf4b54c7dfe2e5e3044882af78bb340a5d63c,15,7,1,1,13861,yatin,yatinkarel,"Also set nova::network::neutron::dhcp_domain

https://review.opendev.org/#/c/659394 set dhcp_domain
config with metadata manifest, but still nova hosts have dhcp_domain
set to default i.e. novalocal. Until it's clear why api/dhcp_domain
set in nova_metadata volume is not entertained by nova, let's set
nova::network::neutron::dhcp_domain also to ''.

Partial-Bug: #1832537
Change-Id: Ica532e7fe2c4578ec273855cb69179864f4746b4
"
openstack%2Fnova~master~I207e1c810bb3ef3a7427a01d60186212eb2d0fa4,openstack/nova,master,1819923,I207e1c810bb3ef3a7427a01d60186212eb2d0fa4,WIP: Add rollback to heal port allocation,ABANDONED,2019-06-28 14:29:37.000000000,2019-07-05 06:50:47.000000000,,149,140,5,668184,7aacf08a5b8d81a9391cf5280f7651077b0447ed,28,10,3,3,9708,Balazs Gibizer,gibi,"WIP: Add rollback to heal port allocation

Change-Id: I207e1c810bb3ef3a7427a01d60186212eb2d0fa4
"
openstack%2Frpm-packaging~master~Ia469d012604aaec204eec80762b5f96940082bb8,openstack/rpm-packaging,master,octavia-lib,Ia469d012604aaec204eec80762b5f96940082bb8,update octavia-lib to 1.2.0,MERGED,2019-06-14 06:18:54.000000000,2019-07-05 06:50:40.000000000,2019-07-05 06:50:40.000000000,1,31,1,665307,252b472b64a412417d6ef78fc869f1fa84d41300,22,7,3,2,28654,chenming,mmbbz,"update octavia-lib to 1.2.0

Change-Id: Ia469d012604aaec204eec80762b5f96940082bb8
"
openstack%2Fhorizon~master~I8ae82e37be53b8b7642534e4f6772cb1e52ef3d6,openstack/horizon,master,Bug#test1,I8ae82e37be53b8b7642534e4f6772cb1e52ef3d6,Add unit test for image detail,MERGED,2019-06-20 06:25:10.000000000,2019-07-05 06:45:56.000000000,2019-07-05 06:45:56.000000000,31,0,0,666494,f0fff4fe4f8e5fffa984b55d90c0a70d6e302fe2,11,4,1,1,27822,pengyuesheng,pengyuesheng,"Add unit test for image detail

Change-Id: I8ae82e37be53b8b7642534e4f6772cb1e52ef3d6
"
openstack%2Frequirements~master~I496de2f6eae3401c674ae8530d02ba10c5d3ea75,openstack/requirements,master,new-release,I496de2f6eae3401c674ae8530d02ba10c5d3ea75,update constraint for pbr to new release 5.4.0,MERGED,2019-07-04 10:25:22.000000000,2019-07-05 06:42:29.000000000,2019-07-05 06:42:29.000000000,1,1,0,669133,1c3f0bf16cb6f4ce6dbd17af037c31f509b72809,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for pbr to new release 5.4.0

Change-Id: I496de2f6eae3401c674ae8530d02ba10c5d3ea75
meta:version: 5.4.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I216cfb0c14af6f88b3a9a2210ad8b03c088440fe
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Frequirements~master~I6dd55d56d31d7d12cb9c2225747df55a8272e834,openstack/requirements,master,new-release,I6dd55d56d31d7d12cb9c2225747df55a8272e834,update constraint for python-qinlingclient to new release 2.2.0,MERGED,2019-07-04 10:25:56.000000000,2019-07-05 06:42:28.000000000,2019-07-05 06:42:27.000000000,1,1,0,669134,537d05ef32128813951d351f34b6064a2fbb61c0,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-qinlingclient to new release 2.2.0

Change-Id: I6dd55d56d31d7d12cb9c2225747df55a8272e834
meta:version: 2.2.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Change-Id: Ie283fc131be43a0a33efe94a61529eb1effd2278
meta:release:Code-Review+1: Gaëtan Trellu <gaetan.trellu@incloudus.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Frequirements~master~I5260bf2aea190c556fa885dd4a0423bf429c266a,openstack/requirements,master,new-release,I5260bf2aea190c556fa885dd4a0423bf429c266a,update constraint for oslo.config to new release 6.11.0,MERGED,2019-07-04 10:25:59.000000000,2019-07-05 06:42:27.000000000,2019-07-05 06:42:26.000000000,1,1,0,669135,97432fbad31603f3d99adbaf41d763eea10ab1e8,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.config to new release 6.11.0

Change-Id: I5260bf2aea190c556fa885dd4a0423bf429c266a
meta:version: 6.11.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I216cfb0c14af6f88b3a9a2210ad8b03c088440fe
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Frequirements~master~I52cf003d36ba7b57bd1e5f754def2a3fbc54e715,openstack/requirements,master,new-release,I52cf003d36ba7b57bd1e5f754def2a3fbc54e715,update constraint for oslo.upgradecheck to new release 0.3.0,MERGED,2019-07-04 10:28:49.000000000,2019-07-05 06:42:26.000000000,2019-07-05 06:42:25.000000000,1,1,0,669138,af8115a90668bd305944c59d585bed051929ac48,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.upgradecheck to new release 0.3.0

Change-Id: I52cf003d36ba7b57bd1e5f754def2a3fbc54e715
meta:version: 0.3.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I216cfb0c14af6f88b3a9a2210ad8b03c088440fe
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Fkolla-ansible~master~I5a552dbd3a823b974656b70cd568cb9f5b0a171b,openstack/kolla-ansible,master,dnm-ironic,I5a552dbd3a823b974656b70cd568cb9f5b0a171b,DNM: Test ironic after change to nova discovery,ABANDONED,2019-07-02 19:10:52.000000000,2019-07-05 06:37:53.000000000,,2,0,0,668742,9b251b8b8c4178f0b3fcbaa07f61c118e9215165,9,2,1,1,30491,Radosław Piliszek,yoctozepto,"DNM: Test ironic after change to nova discovery

Depends-On: https://review.opendev.org/668623
Change-Id: I5a552dbd3a823b974656b70cd568cb9f5b0a171b
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fheat-tempest-plugin~master~Ic03976ecd8994dd3a52e776c66e6397ba5d022f1,openstack/heat-tempest-plugin,master,,Ic03976ecd8994dd3a52e776c66e6397ba5d022f1,Provide software config name in api test,MERGED,2019-05-30 07:13:24.000000000,2019-07-05 06:34:26.000000000,2019-07-05 06:34:26.000000000,1,0,0,662144,123ca2df28b304d67f4870ed87f862c0fdaadca5,22,3,1,1,8833,Rabi Mishra,rabi,"Provide software config name in api test

This is mandatory in api but not for SoftwareConfig
resource in the template.

Change-Id: Ic03976ecd8994dd3a52e776c66e6397ba5d022f1
Task: 33531
"
openstack%2Fironic~master~Iec2284c2d101aebadd9d1b531c44794e2d4efacf,openstack/ironic,master,bug/1628069,Iec2284c2d101aebadd9d1b531c44794e2d4efacf,Deal with iPXE boot interface incompatibility in Train,MERGED,2019-06-28 06:36:32.000000000,2019-07-05 06:19:07.000000000,2019-07-03 07:50:15.000000000,29,2,6,668097,66b07398310db1b4c26e1ba9fda247328478ed67,57,14,10,3,30566,Vanou Ishii,vanou,"Deal with iPXE boot interface incompatibility in Train

In Train cycle, iPXE boot with [pxe]ipxe_enabled option in
ironic.conf file will be removed. And ipxe boot interface
will be the only boot interface to deploy Ironic node with
iPXE. Till Train, iRMC driver has supported iPXE boot with
[pxe]ipxe_enabled option.

This commit copes with this incompatibility and supports
ipxe boot interface by adding ipxe.iPXEBoot to
supported_boot_interface.

Change-Id: Iec2284c2d101aebadd9d1b531c44794e2d4efacf
Related-Bug: #1628069
"
openstack%2Fkeystone~master~Idd96526bbc78c95ddac1e7a8d7ad46886fbecdae,openstack/keystone,master,bug/333333,Idd96526bbc78c95ddac1e7a8d7ad46886fbecdae,试验,ABANDONED,2019-06-20 05:31:07.000000000,2019-07-05 06:10:36.000000000,,1,0,0,666489,496c05ff7942ddd2f1444f598ee7043a7a6839dd,7,3,1,1,30599,王婷婷,wangtingting,"试验

Change-Id: Idd96526bbc78c95ddac1e7a8d7ad46886fbecdae
"
openstack%2Ftripleo-heat-templates~master~I3c2f92b0b187fd1fdbcc7476ec58e0fb81e5c8c4,openstack/tripleo-heat-templates,master,disable_libvirtd,I3c2f92b0b187fd1fdbcc7476ec58e0fb81e5c8c4,Disable libvirtd service on controller node,ABANDONED,2019-04-17 08:52:22.000000000,2019-07-05 06:03:04.000000000,,17,1,3,653359,9792fa0b78170b4c4456fe3ce8d3fb31aeb144a6,9,8,1,1,20733,Rajesh Tailor,rajesht,"Disable libvirtd service on controller node

The libvirtd service is enabled and running unnecessarily
on controller node.
This change disables and stop the libvirtd service on
controller nodes.

Change-Id: I3c2f92b0b187fd1fdbcc7476ec58e0fb81e5c8c4
"
openstack%2Fpuppet-neutron~master~I0834578df444671bbf86b4d08e6b719ece16c661,openstack/puppet-neutron,master,bug/1835161,I0834578df444671bbf86b4d08e6b719ece16c661,Manage oslo_middleware/max_request_body_size,MERGED,2019-07-04 03:44:21.000000000,2019-07-05 04:00:44.000000000,2019-07-05 04:00:44.000000000,22,0,0,669042,380ed979d4a4c9fa82b902ff7697158be524aaf6,8,4,1,3,9414,zhongshengping,ZhongShengping,"Manage oslo_middleware/max_request_body_size

So that we can increase it from the default 114688

Useful in case for example the OS-Federation mapping is too large.

If this limit is breached neutron will return a 413 Entity Too Large
and not log anything to neutron.log.

Change-Id: I0834578df444671bbf86b4d08e6b719ece16c661
Closes-Bug: #1835161
"
openstack%2Ftripleo-common~master~Icb72dbfc1634f4de91f071a9b3bf5aa9c3e7f1f6,openstack/tripleo-common,master,bug/1835456,Icb72dbfc1634f4de91f071a9b3bf5aa9c3e7f1f6,Use py3 compatible expression in j2,ABANDONED,2019-07-05 03:21:09.000000000,2019-07-05 03:22:11.000000000,,2,2,0,669243,b366f680eb47e635903e3719451577f47d99f9c9,2,0,1,2,5803,Attila Fazekas,afazekas,"Use py3 compatible expression in j2

py3 does not have has_key or iteritems on dicts.
2 offending expression found and fixed,
the expressions added few weeks before.

Change-Id: Icb72dbfc1634f4de91f071a9b3bf5aa9c3e7f1f6
Closes-Bug: #1835456
"
openstack%2Fmurano~master~I4019f41d9ddd843872855e6e80c0667ee2df758a,openstack/murano,master,,I4019f41d9ddd843872855e6e80c0667ee2df758a,Bump to hacking 1.1.0,MERGED,2019-07-04 08:34:37.000000000,2019-07-05 03:04:05.000000000,2019-07-05 03:04:04.000000000,60,51,0,669100,4ee97f7b7afba37b945289d117c24299cab63543,12,2,5,19,14107,zhurong,zhurong,"Bump to hacking 1.1.0

Change-Id: I4019f41d9ddd843872855e6e80c0667ee2df758a
"
openstack%2Fpuppet-ironic~master~Icd4f0e41da2917ae9e0411ad774fe9b0bec2849f,openstack/puppet-ironic,master,bug/1835161,Icd4f0e41da2917ae9e0411ad774fe9b0bec2849f,Manage oslo_middleware/max_request_body_size,MERGED,2019-07-04 03:44:19.000000000,2019-07-05 02:48:32.000000000,2019-07-05 02:48:32.000000000,22,0,0,669031,cd37458f67f33f8424fdb3bbeab2a4c58f915ad5,8,4,1,3,9414,zhongshengping,ZhongShengping,"Manage oslo_middleware/max_request_body_size

So that we can increase it from the default 114688

Useful in case for example the OS-Federation mapping is too large.

If this limit is breached ironic will return a 413 Entity Too Large
and not log anything to ironic.log.

Change-Id: Icd4f0e41da2917ae9e0411ad774fe9b0bec2849f
Closes-Bug: #1835161
"
openstack%2Fzun~stable%2Fstein~Ibfa5cd8a48502c3dec357437fef0094ab8960a77,openstack/zun,stable/stein,stable/glance_endpoint_type2,Ibfa5cd8a48502c3dec357437fef0094ab8960a77,Endpoint type for glanceclient,MERGED,2019-07-03 18:45:49.000000000,2019-07-05 02:47:35.000000000,2019-07-05 02:47:35.000000000,24,3,0,668977,28fb8324b7a0feb88899d5d855519f03dbab4e9f,13,2,2,2,30609,Stanislav Dmitriev,sdmitriev,"Endpoint type for glanceclient

At this moment nevertheless of 'endpoint_type' parameter from
'glance_client' section Zun always tries to interact with Glance
public API endpoint. If public API endpoint unaccessible from
compute nodes zun-compute service is unable to run new container
from image stored in the glance repository.

This patch intended to make Zun use 'endpoint_type' parameter
from 'glance_client' section of zun.conf file and pass the same
type of endpoint to the glanceclient.

Change-Id: Ibfa5cd8a48502c3dec357437fef0094ab8960a77
(cherry picked from commit bcd102c97e7aa6cff77273aa487c7dd70704d8d0)
"
openstack%2Fpuppet-heat~master~I90f15091088db67e6d33ef6272e59de69c4fe601,openstack/puppet-heat,master,bug/1835161,I90f15091088db67e6d33ef6272e59de69c4fe601,Manage oslo_middleware/max_request_body_size,MERGED,2019-07-04 03:44:19.000000000,2019-07-05 02:44:23.000000000,2019-07-05 02:44:23.000000000,12,0,0,669032,1d6872a85672eac87019dea95b8e8983ab4d0c22,8,4,1,3,9414,zhongshengping,ZhongShengping,"Manage oslo_middleware/max_request_body_size

So that we can increase it from the default 114688

Useful in case for example the OS-Federation mapping is too large.

If this limit is breached heat will return a 413 Entity Too Large
and not log anything to heat.log.

Change-Id: I90f15091088db67e6d33ef6272e59de69c4fe601
Closes-Bug: #1835161
"
openstack%2Fpuppet-glance~master~If15f7cc9cef9a3bca855a3cd02068d45eedd171f,openstack/puppet-glance,master,bug/1835161,If15f7cc9cef9a3bca855a3cd02068d45eedd171f,Manage oslo_middleware/max_request_body_size,MERGED,2019-07-04 03:44:21.000000000,2019-07-05 02:35:34.000000000,2019-07-05 02:35:34.000000000,21,0,0,669037,643f342304f6ed704202f065a9794e397d12e5b9,11,4,1,3,9414,zhongshengping,ZhongShengping,"Manage oslo_middleware/max_request_body_size

So that we can increase it from the default 114688

Useful in case for example the OS-Federation mapping is too large.

If this limit is breached glance will return a 413 Entity Too Large
and not log anything to glance.log.

Change-Id: If15f7cc9cef9a3bca855a3cd02068d45eedd171f
Closes-Bug: #1835161
"
openstack%2Fpuppet-mistral~master~I3a658d4426689ba09188b0889082b63a744065fc,openstack/puppet-mistral,master,bug/1835161,I3a658d4426689ba09188b0889082b63a744065fc,Manage oslo_middleware/max_request_body_size,MERGED,2019-07-04 03:44:21.000000000,2019-07-05 02:34:39.000000000,2019-07-05 02:34:39.000000000,23,0,0,669034,8a28a993c98cbeb3328eadbb3c0b63e3e60e2e25,8,4,1,3,9414,zhongshengping,ZhongShengping,"Manage oslo_middleware/max_request_body_size

So that we can increase it from the default 114688

Useful in case for example the OS-Federation mapping is too large.

If this limit is breached mistral will return a 413 Entity Too Large
and not log anything to mistral.log.

Change-Id: I3a658d4426689ba09188b0889082b63a744065fc
Closes-Bug: #1835161
"
openstack%2Fwatcher-dashboard~master~I8bf5a22599c750ec85c4d873008ff790f3e4ef83,openstack/watcher-dashboard,master,sphinx,I8bf5a22599c750ec85c4d873008ff790f3e4ef83,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-06-28 07:09:00.000000000,2019-07-05 02:34:09.000000000,2019-07-05 02:34:08.000000000,1,1,0,668101,be0ac7981f193d91cbfcc4bac1c55250724c150a,8,3,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I8bf5a22599c750ec85c4d873008ff790f3e4ef83
"
openstack%2Fpuppet-keystone~master~Ib1d2378a2d0b0c54fec50bd50190dac20bbd8f42,openstack/puppet-keystone,master,standard-oslo-middleware-params,Ib1d2378a2d0b0c54fec50bd50190dac20bbd8f42,oslo middleware: check puppet resource instead of actual config in spec,MERGED,2019-07-04 05:35:49.000000000,2019-07-05 02:24:20.000000000,2019-07-05 02:24:20.000000000,3,1,0,669050,31c32e0611f55b8bf8b50f5d4c326819d013e756,7,3,1,1,9414,zhongshengping,ZhongShengping,"oslo middleware: check puppet resource instead of actual config in spec

Change-Id: Ib1d2378a2d0b0c54fec50bd50190dac20bbd8f42
"
openstack%2Fpuppet-panko~master~Ifc011b5a261b7dfd13edf606c8f3cc711ca53489,openstack/puppet-panko,master,bug/1835161,Ifc011b5a261b7dfd13edf606c8f3cc711ca53489,Manage oslo_middleware/max_request_body_size,MERGED,2019-07-04 03:44:21.000000000,2019-07-05 01:55:00.000000000,2019-07-05 01:55:00.000000000,22,0,0,669040,dfdb5f7d5370f24d77b25d5dd81040700aa4aeb2,7,3,1,3,9414,zhongshengping,ZhongShengping,"Manage oslo_middleware/max_request_body_size

So that we can increase it from the default 114688

Useful in case for example the OS-Federation mapping is too large.

If this limit is breached panko will return a 413 Entity Too Large
and not log anything to panko.log.

Change-Id: Ifc011b5a261b7dfd13edf606c8f3cc711ca53489
Closes-Bug: #1835161
"
openstack%2Fpuppet-barbican~master~I2beb72f1ab37130eca340e691ca2dfd15cb5aa61,openstack/puppet-barbican,master,bug/1835161,I2beb72f1ab37130eca340e691ca2dfd15cb5aa61,Manage oslo_middleware/max_request_body_size,MERGED,2019-07-04 03:44:21.000000000,2019-07-05 01:52:52.000000000,2019-07-05 01:52:52.000000000,28,0,0,669035,def436a021fe877d498d9152e2893d9a5d493865,9,3,2,3,9414,zhongshengping,ZhongShengping,"Manage oslo_middleware/max_request_body_size

So that we can increase it from the default 114688

Useful in case for example the OS-Federation mapping is too large.

If this limit is breached barbican will return a 413 Entity Too Large
and not log anything to barbican.log.

Change-Id: I2beb72f1ab37130eca340e691ca2dfd15cb5aa61
Closes-Bug: #1835161
"
openstack%2Fpuppet-aodh~master~I3ce3523f00a88dece33657a583d661eea58e90a4,openstack/puppet-aodh,master,bug/1835161,I3ce3523f00a88dece33657a583d661eea58e90a4,Manage oslo_middleware/max_request_body_size,MERGED,2019-07-04 03:44:21.000000000,2019-07-05 01:50:44.000000000,2019-07-05 01:50:44.000000000,22,0,0,669038,31b4547b05ae38846a9874115d3e803944512c6c,7,3,1,3,9414,zhongshengping,ZhongShengping,"Manage oslo_middleware/max_request_body_size

So that we can increase it from the default 114688

Useful in case for example the OS-Federation mapping is too large.

If this limit is breached aodh will return a 413 Entity Too Large
and not log anything to aodh.log.

Change-Id: I3ce3523f00a88dece33657a583d661eea58e90a4
Closes-Bug: #1835161
"
openstack%2Fpuppet-gnocchi~master~Icef45885a9089360bfb7cd414581c4b04809e4f7,openstack/puppet-gnocchi,master,bug/1835161,Icef45885a9089360bfb7cd414581c4b04809e4f7,Manage oslo_middleware/max_request_body_size,MERGED,2019-07-04 03:44:21.000000000,2019-07-05 01:47:24.000000000,2019-07-05 01:47:24.000000000,22,0,0,669039,9ae01ae5ee922206a1fe08a39e951b8f6632228b,7,3,1,3,9414,zhongshengping,ZhongShengping,"Manage oslo_middleware/max_request_body_size

So that we can increase it from the default 114688

Useful in case for example the OS-Federation mapping is too large.

If this limit is breached gnocchi will return a 413 Entity Too Large
and not log anything to gnocchi.log.

Change-Id: Icef45885a9089360bfb7cd414581c4b04809e4f7
Closes-Bug: #1835161
"
openstack%2Fpuppet-vitrage~master~I93f10e095da309301bede49e2259e553618fbc04,openstack/puppet-vitrage,master,bug/1835161,I93f10e095da309301bede49e2259e553618fbc04,Manage oslo_middleware/max_request_body_size,MERGED,2019-07-04 03:44:21.000000000,2019-07-05 01:47:23.000000000,2019-07-05 01:47:23.000000000,22,0,0,669043,d6cc940b6762e9a9d2ae6b33fc6a191ead64c7de,6,2,1,3,9414,zhongshengping,ZhongShengping,"Manage oslo_middleware/max_request_body_size

So that we can increase it from the default 114688

Useful in case for example the OS-Federation mapping is too large.

If this limit is breached vitrage will return a 413 Entity Too Large
and not log anything to vitrage.log.

Change-Id: I93f10e095da309301bede49e2259e553618fbc04
Closes-Bug: #1835161
"
openstack%2Fpuppet-manila~master~I69a790df4774fa4010c356033b8a8167569321c1,openstack/puppet-manila,master,bug/1835161,I69a790df4774fa4010c356033b8a8167569321c1,Manage oslo_middleware/max_request_body_size,MERGED,2019-07-04 03:44:21.000000000,2019-07-05 01:42:56.000000000,2019-07-05 01:42:56.000000000,24,0,0,669033,9fb1805e1b16e44bfa9402eaaf22aba2a4449bde,7,3,1,3,9414,zhongshengping,ZhongShengping,"Manage oslo_middleware/max_request_body_size

So that we can increase it from the default 114688

Useful in case for example the OS-Federation mapping is too large.

If this limit is breached manila will return a 413 Entity Too Large
and not log anything to manila.log.

Change-Id: I69a790df4774fa4010c356033b8a8167569321c1
Closes-Bug: #1835161
"
openstack%2Fneutron~master~I76783a4edaf46e184b4dea1d572b89e594bad0ac,openstack/neutron,master,bug/1792901,I76783a4edaf46e184b4dea1d572b89e594bad0ac,Implement subnetpool prefix operations,MERGED,2019-03-27 17:49:57.000000000,2019-07-05 01:17:14.000000000,2019-07-05 01:17:14.000000000,372,1,38,648197,7eb74d2c4aa9bf1db0f165bee64fdf856fc94a2a,142,14,11,5,4187,Ryan Tidwell,ryan-tidwell,"Implement subnetpool prefix operations

This changes provides the implementation of the subnetpool prefix
operations extension. This exposes explicit API's for adding to and
removing from the prefix list of a subnetpool. Prefixes added to a
subnetpool are subject to the prefix uniqueness constraints imposed
by address scopes. Prefixes to be removed from a subnetpool must not
be allocated to an existing subnet, and the subnet using the prefix
must be deleted before the prefix can be removed from the subnetpool.

Change-Id: I76783a4edaf46e184b4dea1d572b89e594bad0ac
Related-Bug: #1792901
"
openstack%2Fmagnum~master~I8b0ca3f87c9a52d48ecb75e4dd8de18a61a10d6f,openstack/magnum,master,story/2002210-35653,I8b0ca3f87c9a52d48ecb75e4dd8de18a61a10d6f,[fedora-atomic] kube_tag is not respcted,MERGED,2019-07-02 02:52:52.000000000,2019-07-04 23:14:14.000000000,2019-07-04 23:14:14.000000000,6,0,0,668575,a4d34490c3a6b12c63106628bae2c66c9564879c,9,3,2,2,6484,Feilong Wang,flwang,"[fedora-atomic] kube_tag is not respcted

This is a regression issue introduced by the rolling upgrade feature,
without setting the master_kube_tag and minion_kube_tag, they will
be set with the default value. This patch fixes it by keeping them
consistent with the kube_tag label.

Change-Id: I8b0ca3f87c9a52d48ecb75e4dd8de18a61a10d6f
"
openstack%2Fopenstack-helm~master~I4ae6722a5bcb350e64995fbd2e1010153b0c29e6,openstack/openstack-helm,master,,I4ae6722a5bcb350e64995fbd2e1010153b0c29e6,Allow keystone pods to connect to kube-dns,MERGED,2019-05-09 10:07:09.000000000,2019-07-04 21:56:23.000000000,2019-07-04 21:56:23.000000000,5,1,0,657970,0a965cf4c75345fd6236ef58efbe0719fd6b40f4,10,4,2,1,21883,Manuel Buil,mbuil,"Allow keystone pods to connect to kube-dns

When deploying keystone, two pods fail with error:

Temporary failure in name resolution

These pods are executing fernet_manage.py and fetch secrets using:
https://github.com/openstack/openstack-helm/blob/master/keystone/templates/bin/_fernet-manage.py.tpl#L60

However, the current network policy blocks the connection to kube-dns.
This patch fixes it

Change-Id: I4ae6722a5bcb350e64995fbd2e1010153b0c29e6
Signed-off-by: Manuel Buil <mbuil@suse.com>
"
openstack%2Ftripleo-heat-templates~master~I98a527f363056767fea45ab4828ae61c01de20ca,openstack/tripleo-heat-templates,master,bug/1833584,I98a527f363056767fea45ab4828ae61c01de20ca,Add container engine authentication support,MERGED,2019-06-20 17:02:51.000000000,2019-07-04 21:04:07.000000000,2019-06-28 18:35:35.000000000,62,0,2,666646,ea37ee6638b08375974ae3ceddd6dc136c67b983,33,8,11,3,14985,Alex Schultz,mwhahaha,"Add container engine authentication support

We need to be able to run a docker or podman login during the
deployment if the overcloud needs to pull images from an auth
required container registry when deploying with docker. Add
ContainerImageRegistryLogin as a flag to use
ContainerImageRegistryCredentials to perform docker or podman logins
when deploying.

Closes-Bug: #1833584
Change-Id: I98a527f363056767fea45ab4828ae61c01de20ca
Depends-On: https://review.opendev.org/#/c/666644/
"
openstack%2Fopenstack-helm-infra~master~I0f5283a8a54b563199528bb612aa0cdc6cf238e2,openstack/openstack-helm-infra,master,update-grafana-settings,I0f5283a8a54b563199528bb612aa0cdc6cf238e2,Grafana: Disable analytics settings,MERGED,2019-06-26 14:20:08.000000000,2019-07-04 18:36:59.000000000,2019-07-04 18:36:58.000000000,3,0,0,667627,4b8fdc390a8bda7b170e45016f685f691156c5bb,10,5,1,1,17591,Steve Wilkerson,srwilkers,"Grafana: Disable analytics settings

This disables the analytics settings for Grafana that will check
grafana.com for plugin/dashboard updates every 10 minutes and for
sending anonymous usage statistics

Change-Id: I0f5283a8a54b563199528bb612aa0cdc6cf238e2
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fopenstack-helm-infra~master~I619351d846253bf17caa922ad7f7b0ff19c778a2,openstack/openstack-helm-infra,master,helm-2.14.0,I619351d846253bf17caa922ad7f7b0ff19c778a2,Update helm version to 2.14.1,MERGED,2019-06-04 21:14:12.000000000,2019-07-04 18:36:57.000000000,2019-07-04 18:36:57.000000000,5,6,1,663145,b117b14c3ab54dbd96f2630af1c41ba32c7ab696,36,6,10,6,17591,Steve Wilkerson,srwilkers,"Update helm version to 2.14.1

This updates the helm version from 2.13.1 to 2.14.1

Change-Id: I619351d846253bf17caa922ad7f7b0ff19c778a2
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fopenstack-helm-infra~master~I088b33fe994281dca6997baa87a6b599c3f10c14,openstack/openstack-helm-infra,master,,I088b33fe994281dca6997baa87a6b599c3f10c14,MariaDB: Disable SSL chain completion on ingress controller,MERGED,2019-07-04 06:20:16.000000000,2019-07-04 18:32:26.000000000,2019-07-04 18:32:26.000000000,1,0,0,669062,09bf431fe736c0bf78ad13e1e50f700c0f581c17,7,5,1,1,28719,Phil Sphicas,ps3910,"MariaDB: Disable SSL chain completion on ingress controller

This PS sets `--enable-ssl-chain-completion=false` for the MariaDB
ingress controller. This is the default for current versions of
the nginx-ingress-controller, but for 0.9.0 needs to be set.

If enableSSLChainCompletion is left on, nginx will attempt to
autocomplete SSL certificate chains with missing intermediate CA
certificates, causing unnecessary network and errors in pod logs.

Change-Id: I088b33fe994281dca6997baa87a6b599c3f10c14
Closes-Bug: #1835364
"
openstack%2Fnova~master~I02179e5d1138278021200d2bad7c7d05efda0ea2,openstack/nova,master,bp/bandwidth-resource-provider,I02179e5d1138278021200d2bad7c7d05efda0ea2,Refactor bandwidth related functional tests,MERGED,2019-03-07 14:32:41.000000000,2019-07-04 18:07:03.000000000,2019-07-04 18:07:03.000000000,61,45,4,641679,c0c6afdb95bcd0f655ce90a01fdd27434726ed79,47,17,2,2,9708,Balazs Gibizer,gibi,"Refactor bandwidth related functional tests

The common code that checked the allocation on the compute RP is move to
a separate function.

The PCI addresses used by the fake virt driver are moved to a constant.

Change-Id: I02179e5d1138278021200d2bad7c7d05efda0ea2
"
openstack%2Fmonasca-api~master~I489d66d623c3e27ca28ba87ebde32264b13ac0f3,openstack/monasca-api,master,633194,I489d66d623c3e27ca28ba87ebde32264b13ac0f3,Use monasca-notification.conf during devstack runs,MERGED,2019-01-25 12:54:34.000000000,2019-07-04 17:54:12.000000000,2019-07-04 17:54:12.000000000,23,155,6,633194,2bf341c6ddb68b2560ade5c7fb2d2df58b9280f9,46,7,9,3,7102,Thomas Bechtold,toabctl,"Use monasca-notification.conf during devstack runs

Since [1], monasca-notification supports the standard oslo.config
based configuration style (ini file instead of yaml). The old
notification.yaml file still works but is deprecated.
So switching to use the new oslo.config based file is the way to go
forward.
Also adjust the zuul job to copy /var/log/monasca/notification and
/etc/monasca/notification.conf so debugging will be a bit easier.

[1] https://review.openstack.org/#/c/464768/

Story: 2004862
Task: 35646

Depends-On: https://review.opendev.org/668508
Depends-On: https://review.opendev.org/663960
Change-Id: I489d66d623c3e27ca28ba87ebde32264b13ac0f3
"
openstack%2Frpm-packaging~master~I60d345edcb1756f31e804ec006d6fda05eedaa4c,openstack/rpm-packaging,master,,I60d345edcb1756f31e804ec006d6fda05eedaa4c,Update to this week's releases,MERGED,2019-06-19 11:34:52.000000000,2019-07-04 17:19:10.000000000,2019-07-04 17:19:09.000000000,43,33,1,666270,e89d0fb30ca53bf0d41ef79553f5e34d280ba678,23,6,5,10,6593,Dirk Mueller,dmllr,"Update to this week's releases

Change-Id: I60d345edcb1756f31e804ec006d6fda05eedaa4c
"
openstack%2Fneutron~stable%2Fqueens~Ide78b0b90cf6d6069ce3787fc60766be52062da0,openstack/neutron,stable/queens,custom_ethertypes-stable/stein-stable/rocky-stable/queens,Ide78b0b90cf6d6069ce3787fc60766be52062da0,Add custom ethertype processing,MERGED,2019-07-01 11:01:56.000000000,2019-07-04 17:02:07.000000000,2019-07-04 17:02:07.000000000,38,1,0,668425,51d71097c99ad9ad67fca1530be69101a70e411e,9,6,1,3,11975,Slawek Kaplonski,slaweq,"Add custom ethertype processing

The OVS Firewall blocks traffic that does not have either the IPv4 or
IPv6 ethertypes at present.  This is a behavior change compared to the
iptables_hybrid firewall, which only operates on IP packets and thus
does not address other ethertypes.

This is a lightweight change that sets a configuration option in the
neutron openvswitch agent configuration file for permitted ethertypes
and then ensures that the requested ethertypes are permitted on
initialization.  This addresses the security and usability concerns on
both master and stable branches while a full-fledged extension to the
security groups API is considered.

Change-Id: Ide78b0b90cf6d6069ce3787fc60766be52062da0
Related-Bug: #1832758
(cherry picked from commit 9ea6a616658268b833ccb787c181962898863058)
"
openstack%2Fneutron~stable%2Fstein~Ide78b0b90cf6d6069ce3787fc60766be52062da0,openstack/neutron,stable/stein,custom_ethertypes-stable/stein,Ide78b0b90cf6d6069ce3787fc60766be52062da0,Add custom ethertype processing,MERGED,2019-07-01 11:01:34.000000000,2019-07-04 16:53:07.000000000,2019-07-04 16:53:06.000000000,38,1,0,668423,0be471486bf957971394990ac3b57f83aadba674,10,6,1,3,11975,Slawek Kaplonski,slaweq,"Add custom ethertype processing

The OVS Firewall blocks traffic that does not have either the IPv4 or
IPv6 ethertypes at present.  This is a behavior change compared to the
iptables_hybrid firewall, which only operates on IP packets and thus
does not address other ethertypes.

This is a lightweight change that sets a configuration option in the
neutron openvswitch agent configuration file for permitted ethertypes
and then ensures that the requested ethertypes are permitted on
initialization.  This addresses the security and usability concerns on
both master and stable branches while a full-fledged extension to the
security groups API is considered.

Change-Id: Ide78b0b90cf6d6069ce3787fc60766be52062da0
Related-Bug: #1832758
(cherry picked from commit 9ea6a616658268b833ccb787c181962898863058)
"
openstack%2Fnova~master~Ia88d9721059edd9d8c7dacc7de6e45cbd80f56e5,openstack/nova,master,bug/1789074,Ia88d9721059edd9d8c7dacc7de6e45cbd80f56e5,vif: Skip most of 'get_base_config' if not using virtio,MERGED,2019-06-20 16:18:41.000000000,2019-07-04 16:53:00.000000000,2019-07-04 16:53:00.000000000,25,24,2,666629,bdb1230c87b2fee32d9f5886060e2a5d6ae52c7e,34,15,1,1,15334,Stephen Finucane,sfinucan,"vif: Skip most of 'get_base_config' if not using virtio

All of the conditionals in the second half of this function rely on
'vnic_type=""virtio""'. We should split this into multiple functions but
for now, simply return early and simplify all those conditionals.

Change-Id: Ia88d9721059edd9d8c7dacc7de6e45cbd80f56e5
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fneutron~master~Ibf6a85d470f179ee996dcc4e6717d433dd860752,openstack/neutron,master,bug/1792936,Ibf6a85d470f179ee996dcc4e6717d433dd860752,change from fixup_uca to fixup_ubuntu,MERGED,2019-07-04 07:09:12.000000000,2019-07-04 16:31:21.000000000,2019-07-04 10:50:56.000000000,1,1,0,669067,d9e61138ffa458d95137264b6b66a4981deeaf57,14,7,2,1,8313,Lajos Katona,elajkat,"change from fixup_uca to fixup_ubuntu

In a recent change [0] in devstack fixup_uca (Universal Cloud Archive)
was changed to fixup_ubuntu. This change follows this in
configure_for_func_testing.sh

[0]: https://review.opendev.org/619562

Change-Id: Ibf6a85d470f179ee996dcc4e6717d433dd860752
Related-Bug: #1792936
"
openstack%2Ftripleo-repos~master~If340ce5d06708cffc073fae5d06f6327ec5a6339,openstack/tripleo-repos,master,add-rhel8-support,If340ce5d06708cffc073fae5d06f6327ec5a6339,Add support for RHEL8,MERGED,2019-06-20 15:08:04.000000000,2019-07-04 16:11:44.000000000,2019-07-04 16:11:44.000000000,64,34,19,666607,99d78f28f1ee2cf545a473091b668131cece3b16,58,9,15,2,10022,Gabriele Cerami,panda,"Add support for RHEL8

- adds support for a platform that returns RHEL8 during
information gathering in a run.
- changes the release gathering so the python script receives two
variables directly and doesn't need to reparse ouput
- Updates the path function to the new $DISTRO-$BRANCH default

Story: https://tree.taiga.io/project/tripleo-ci-board/task/1142
Change-Id: If340ce5d06708cffc073fae5d06f6327ec5a6339
"
openstack%2Fpython-tripleoclient~stable%2Fqueens~Ifd4229b68571fd6b91574675c1f04d7b5c755eab,openstack/python-tripleoclient,stable/queens,bug/1834307-stable/stein-stable/rocky-stable/queens,Ifd4229b68571fd6b91574675c1f04d7b5c755eab,Ensure files exist before building/uploading plan,MERGED,2019-07-03 15:38:42.000000000,2019-07-04 16:09:36.000000000,2019-07-04 16:09:36.000000000,16,0,0,668940,9e5ec97754eeb152fb92e5a27904bb8eb1378db4,7,3,1,1,28223,Cedric Jeanneret,cjeanner,"Ensure files exist before building/uploading plan

Until now, only environment files were tested for their eXistenZ. This
patch corrects this issue, allowing to get a graceful failure before
plan is compiled and uploaded.

The following files are now checked, and deploy will gracefully fail in
case of non-existing file:
- plan-environment-file
- answers-file
- networks-file

No Bioport nor Pod was harmed for this patch.

Change-Id: Ifd4229b68571fd6b91574675c1f04d7b5c755eab
Closes-Bug: #1834307
(cherry picked from commit bd354f1fc8ae7a36898a22e01e52815d85d8378d)
(cherry picked from commit f78809a3e3122f268bcc8fa1a9c12974735654b9)
(cherry picked from commit cb976f672959f3a14360390d6bc8b6ba8e873fa2)
"
openstack%2Frpm-packaging~master~I99bc67ba6032016a3b9b9628c0421c7c1b34c508,openstack/rpm-packaging,master,,I99bc67ba6032016a3b9b9628c0421c7c1b34c508,futurist: re-add doc artifact cleanup,MERGED,2019-07-04 10:08:59.000000000,2019-07-04 15:57:41.000000000,2019-07-04 15:57:41.000000000,2,0,0,669130,7cab991855ba887b0595fad9d0538b3fc922d53f,11,5,1,1,1446,Bernhard M. Wiedemann,ubuntubmw,"futurist: re-add doc artifact cleanup

this was lost in commit 6457817237a6d6d6738c6826fb9bebb17008f68c

Change-Id: I99bc67ba6032016a3b9b9628c0421c7c1b34c508
"
openstack%2Frpm-packaging~master~I65728987eb64724f9a490a8dbe994ec0063de274,openstack/rpm-packaging,master,,I65728987eb64724f9a490a8dbe994ec0063de274,os-api-ref: Add patches to support newer Sphinx versions,MERGED,2019-07-03 11:25:08.000000000,2019-07-04 15:57:40.000000000,2019-07-04 15:57:40.000000000,315,0,0,668869,010c8097a20eda7bd98c007b13413978ed45fbb4,18,5,2,3,7102,Thomas Bechtold,toabctl,"os-api-ref: Add patches to support newer Sphinx versions

Change-Id: I65728987eb64724f9a490a8dbe994ec0063de274
"
openstack%2Fdesignate~master~Ie0ae122c46c49d07e0a29e5777fafdb02ce05703,openstack/designate,master,akamai_path,Ie0ae122c46c49d07e0a29e5777fafdb02ce05703,Fixed akamai default wsdl path,MERGED,2019-07-02 04:02:29.000000000,2019-07-04 15:53:21.000000000,2019-07-04 15:53:20.000000000,6,6,0,668587,851d974a33c8f47544e959d262876efded2402ec,11,6,1,1,22623,Erik Olof Gunnar Andersson,eoandersson,"Fixed akamai default wsdl path

The previous default would never really work.
> file:///designate/resources/wsdl/EnhancedDNS.xml

The new default should work in most situations.
> file:///home/workspace/designate/resources/wsdl/EnhancedDNS.xml

Change-Id: Ie0ae122c46c49d07e0a29e5777fafdb02ce05703
"
openstack%2Fnova~master~I4a6f6782e2fb9af4c4cb6d111299ac1a64dabcd9,openstack/nova,master,Bump_min_libvirt_and_QEMU_for_Stein,I4a6f6782e2fb9af4c4cb6d111299ac1a64dabcd9,"libvirt: vif: Remove MIN_{LIBVIRT,QEMU}_RX_QUEUE_SIZE",ABANDONED,2019-07-04 12:59:36.000000000,2019-07-04 15:44:42.000000000,,2,17,0,669171,a45dd612f0f0069e3841d2051d129fe1d860a89d,5,2,2,2,6962,Kashyap Chamarthy,kashyapc,"libvirt: vif: Remove MIN_{LIBVIRT,QEMU}_RX_QUEUE_SIZE

The MIN_LIBVIRT_RX_QUEUE_SIZE and MIN_LIBVIRT_RX_QUEUE_SIZE version
constants are now longer required.  The updated minimum required libvirt
(3.0.0) and QEMU (2.8.0) for ""Stein"" satisfy the version requirements.
This was added in Change-Id: I408baef12 (commit 0b1548a988 — libvirt:
Bump MIN_{LIBVIRT,QEMU}_VERSION for ""Stein"", 2019-01-22).

Drop the compatibility code, remove / fix relevant unit tests.

Change-Id: I4a6f6782e2fb9af4c4cb6d111299ac1a64dabcd9
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
"
openstack%2Fpython-tripleoclient~stable%2Fstein~I15511b4f36260292e0ea4100b15b8e65a701b38b,openstack/python-tripleoclient,stable/stein,bp/validation-framework-stable/stein,I15511b4f36260292e0ea4100b15b8e65a701b38b,Allow run_update_ansible_action run with Mistral or Ansible,MERGED,2019-07-02 14:57:18.000000000,2019-07-04 15:41:35.000000000,2019-07-04 15:41:35.000000000,139,25,0,668685,09d0a03d3dc6ff0b8108d1e415beeb508490f3b1,12,8,2,7,11491,Gael Chamoulaud,gchamoul,"Allow run_update_ansible_action run with Mistral or Ansible

We extend run_update_ansible_action
to allow running the Ansible playbooks with Mistral
or executing directly thru Ansible.

This is needed  in case we need to run
exceptionally a task depending on Mistral
but Mistral is broken. For example, retry
an upgrade operation after having Mistral broken.

Change-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b
(cherry picked from commit 5249fbb2623165ef40098631fad18104579450c9)
"
openstack%2Fmonasca-agent~master~Ifd84147e701544880ee96a0d6c92fe62fe9ba0a8,openstack/monasca-agent,master,,Ifd84147e701544880ee96a0d6c92fe62fe9ba0a8,"Fix the misspelling of ""configuration""",ABANDONED,2018-12-27 03:57:24.000000000,2019-07-04 15:23:06.000000000,,1,1,1,627451,67c50025c7d6075573f7653ea74e6dd8c1ed15e0,5,3,1,1,29721,lijunjie,lijunjie,"Fix the misspelling of ""configuration""

Change-Id: Ifd84147e701544880ee96a0d6c92fe62fe9ba0a8
"
openstack%2Fmonasca-tempest-plugin~master~I015ea18ccd1a91e4618cd1f2af3d62b061b33dea,openstack/monasca-tempest-plugin,master,hacking,I015ea18ccd1a91e4618cd1f2af3d62b061b33dea,Fix version in test-requirements.txt,ABANDONED,2019-01-26 03:52:36.000000000,2019-07-04 15:21:19.000000000,,1,1,1,633316,68b4ec731bbc813336aa8ae0ac97f75a487729e4,10,6,1,1,29423,zhouxinyong,zhouxinyong,"Fix version in test-requirements.txt

Change-Id: I015ea18ccd1a91e4618cd1f2af3d62b061b33dea
"
openstack%2Fmonasca-persister~master~I4aa834b2300262370aab07b29139feb73d4fe66d,openstack/monasca-persister,master,docker-support-cache-size,I4aa834b2300262370aab07b29139feb73d4fe66d,Support cache_size option in docker env,MERGED,2019-06-10 09:04:15.000000000,2019-07-04 15:13:05.000000000,2019-07-04 15:13:05.000000000,3,0,0,664229,390714224116e49fb64e66c6b1cb024922dcb2fe,11,3,1,3,29970,jianweizhang,zhangjianwei,"Support cache_size option in docker env

Add option cache_size which set maximum number of cached metric definition entries in memory.

Change-Id: I4aa834b2300262370aab07b29139feb73d4fe66d
"
openstack%2Fpython-tripleoclient~master~Ia0291073a142748bb66081aa634e022cff383808,openstack/python-tripleoclient,master,persist-working-files,Ia0291073a142748bb66081aa634e022cff383808,persist temporary installation  working files in archive dir,ABANDONED,2018-08-08 14:45:35.000000000,2019-07-04 15:02:46.000000000,,17,22,0,589929,f18b13264330cf9ba1258fb26deaec01d68f9a39,10,3,2,2,27427,David Peacock,davidjpeacock,"persist temporary installation  working files in archive dir

This change alters the way we archive temporary working files from
a bzip2'd tar file, to a simple directory.  This is necessary since
changes such as containerized undercloud validations rely on the
presence of some of the working files such as the containerized
undercloud's inventory, and as such there is a requirement on the
operator to unpack the bzip2 in order to run validations.

This change simply places the temporary working files inside an
appropriately named directory for such use.

Change-Id: Ia0291073a142748bb66081aa634e022cff383808
"
openstack%2Fdesignate~master~I5fbe877f8d05c1b25bf760e52ea8abdfd0a2d8d9,openstack/designate,master,hacking-update,I5fbe877f8d05c1b25bf760e52ea8abdfd0a2d8d9,Bump to hacking 1.1.0,MERGED,2019-07-04 07:31:06.000000000,2019-07-04 15:01:50.000000000,2019-07-04 15:01:50.000000000,44,50,0,669080,2c9e9f5f41d4fdf6a5f4f9870e0bb261c53d4e94,9,4,2,11,22623,Erik Olof Gunnar Andersson,eoandersson,"Bump to hacking 1.1.0

* Minor changes to fix some new checks.
* Use pycodestyle directly instead of pep8.

Change-Id: I5fbe877f8d05c1b25bf760e52ea8abdfd0a2d8d9
"
openstack%2Fblazar~master~If951f82d6610c6ee54d594d9a8985bc78e135d2b,openstack/blazar,master,bindep,If951f82d6610c6ee54d594d9a8985bc78e135d2b,Add bindep.txt to fix unit tests,MERGED,2019-07-02 09:33:04.000000000,2019-07-04 14:55:39.000000000,2019-07-04 14:55:39.000000000,19,0,2,668642,64a1d26aaf0368af4ea4773b41520a0802786fb3,9,7,1,2,15197,Pierre Riteau,priteau,"Add bindep.txt to fix unit tests

The unit tests fail since no mysqladmin command is installed. Add
bindep.txt to install the needed binaries in our CI environment.

Add also the usual bindep tox environment for developers.

Change-Id: If951f82d6610c6ee54d594d9a8985bc78e135d2b
"
openstack%2Fmonasca-tempest-plugin~master~I619562474501922fd3fa250da0835cc5e3ff42cd,openstack/monasca-tempest-plugin,master,,I619562474501922fd3fa250da0835cc5e3ff42cd,Update sphinx version in test-requirement.txt,MERGED,2019-05-30 08:08:08.000000000,2019-07-04 14:43:20.000000000,2019-07-04 14:43:20.000000000,2,1,0,662158,f3696e3818351b0f53b9d85e27d9527b17debce0,28,3,2,1,25553,Akhil jain,akhil,"Update sphinx version in test-requirement.txt

Update sphinx dependency to avoid gate failure.
Global requirement link [1]

[1] https://github.com/openstack/requirements/blob/23ff2adcec1fd5e485d7f7319c6e516125e7aed1/global-requirements.txt#L455

Change-Id: I619562474501922fd3fa250da0835cc5e3ff42cd
"
openstack%2Ftaskflow~master~I08797a99c7ba019a4b2dd640a83f45fea8e589bd,openstack/taskflow,master,bindep-fallback,I08797a99c7ba019a4b2dd640a83f45fea8e589bd,Add local bindep.txt,MERGED,2019-06-26 14:50:08.000000000,2019-07-04 14:25:49.000000000,2019-07-04 14:25:49.000000000,24,0,0,667639,a081180238feac761c655ece2de3b0e9b68075fa,10,4,3,2,17685,Elod Illes,elod.illes,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I08797a99c7ba019a4b2dd640a83f45fea8e589bd
"
openstack%2Fkolla-ansible~stable%2Fstein~I824857ddfb1dd026f93994a4ac8db8f80e64072e,openstack/kolla-ansible,stable/stein,bug/1833729-stable/stein,I824857ddfb1dd026f93994a4ac8db8f80e64072e,Don't rotate keystone fernet keys during deploy,MERGED,2019-07-04 10:20:14.000000000,2019-07-04 14:19:36.000000000,2019-07-04 14:19:36.000000000,16,6,0,669132,61406fe9251f63c05c5423511a8d480c8d7d6433,7,3,1,5,30491,Radosław Piliszek,yoctozepto,"Don't rotate keystone fernet keys during deploy

When running deploy or reconfigure for Keystone,
ansible/roles/keystone/tasks/deploy.yml calls init_fernet.yml,
which runs /usr/bin/fernet-rotate.sh, which calls keystone-manage
fernet_rotate.

This means that a token can become invalid if the operator runs
deploy or reconfigure too often.

This change splits out fernet-push.sh from the fernet-rotate.sh
script, then calls fernet-push.sh after the fernet bootstrap
performed in deploy.

Change-Id: I824857ddfb1dd026f93994a4ac8db8f80e64072e
Closes-Bug: #1833729
(cherry picked from commit 09e29d0db9b895b97470c9c8a60442b980a3eb3c)
"
openstack%2Fnova-specs~master~Ie45afa4711a7a25e5f24ca0799eee6e1533b0481,openstack/nova-specs,master,bp/policy-defaults-refresh,Ie45afa4711a7a25e5f24ca0799eee6e1533b0481,Policy Default Refresh spec,MERGED,2018-02-25 17:48:32.000000000,2019-07-04 14:07:46.000000000,2019-07-02 22:22:59.000000000,548,0,237,547850,4c2e45430952a47643e58e829faf5c3bd5ae5e5d,107,16,22,1,8556,Ghanshyam,ghanshyam,"Policy Default Refresh spec

Support new roles of System Scoped Admin, Project Scoped Member,
System Scoped Reader and Project Scoped Reader.

Partial implement blueprint policy-defaults-refresh

APIImpact

Change-Id: Ie45afa4711a7a25e5f24ca0799eee6e1533b0481
"
openstack%2Fcloudkitty~master~I722377a0df5586977184518733fe1cff341ad68f,openstack/cloudkitty,master,,I722377a0df5586977184518733fe1cff341ad68f,Add an option for the metric project to the Monasca collector,MERGED,2019-06-18 12:14:38.000000000,2019-07-04 14:05:54.000000000,2019-07-04 14:05:54.000000000,130,2,0,665962,b88c937891385bf7b3ebe2724bd33cd37166ca0e,11,3,3,6,23060,Luka Peschke,lukapeschke,"Add an option for the metric project to the Monasca collector

In case metrics are not available from within the project cloudkitty is
identified in, the project to fetch a specific metric can now be
specified in the metric's extra_args.

Change-Id: I722377a0df5586977184518733fe1cff341ad68f
"
openstack%2Ftripleo-heat-templates~master~I31c6bbcafac62f29e5575c72b2257f224d20724b,openstack/tripleo-heat-templates,master,fix_ml2_ansible_job,I31c6bbcafac62f29e5575c72b2257f224d20724b,ml2-ansible: Switch to default Neutron backend,ABANDONED,2019-02-21 13:17:09.000000000,2019-07-04 14:02:43.000000000,,9,10,3,638416,46d716e6045acbf5ef4315e7bf927dd5da631d57,35,11,8,4,8655,Jakub Libosvar,jlibosva,"ml2-ansible: Switch to default Neutron backend

TripleO default Neutron ML2 networking backend has changed to OVN
recently. ml2-ansible THTs don't contain configuration for the used
network backend so we should stick to what is default.

Change-Id: I31c6bbcafac62f29e5575c72b2257f224d20724b
"
openstack%2Fcharm-ceph-mon~master~If15a0480476ad570f71f3eaec7da489f32d7dd5c,openstack/charm-ceph-mon,master,pg-autotune,If15a0480476ad570f71f3eaec7da489f32d7dd5c,Manager upgrades should be performed on some upgrades,ABANDONED,2019-06-24 08:43:01.000000000,2019-07-04 13:54:17.000000000,,151,44,0,667043,3b101c7b3241bcaa85defc69d073a1c538f0c479,7,2,2,2,20634,Chris MacNaughton,Chris.MacNaughton,"Manager upgrades should be performed on some upgrades

Ceph adds mgr modules during upgrades, so it should be possible
to initialize those modules on cluster upgrade or setup.

Change-Id: If15a0480476ad570f71f3eaec7da489f32d7dd5c
"
openstack%2Fvitrage~master~I56f49e5a6b17b0a4bda06b0b335172d5660a2ce1,openstack/vitrage,master,eyalb/sphinx,I56f49e5a6b17b0a4bda06b0b335172d5660a2ce1,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-04 11:28:19.000000000,2019-07-04 13:53:58.000000000,2019-07-04 13:53:58.000000000,1,1,0,669149,c72bf0817f73ced9b3b9e15355f2cb0eae0bc04d,7,3,1,1,19134,Eyal,eyalb,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I56f49e5a6b17b0a4bda06b0b335172d5660a2ce1
"
openstack%2Fdesignate~master~I3906d465ff090c37ef5f86b0354eb0f04255a43a,openstack/designate,master,,I3906d465ff090c37ef5f86b0354eb0f04255a43a,Update hacking version to latest,ABANDONED,2019-01-04 15:59:16.000000000,2019-07-04 13:50:06.000000000,,1,1,0,628503,f912cbeda955738f350bbac8169cc41d86c23eb3,10,6,2,1,27781,zhulingjie,zhulingjie,"Update hacking version to latest

Change-Id: I3906d465ff090c37ef5f86b0354eb0f04255a43a
"
openstack%2Fnova~master~I7767f61506bf229dfcd20be8e4f251785111b980,openstack/nova,master,,I7767f61506bf229dfcd20be8e4f251785111b980,WIP compute: Split shared instance storage and disk checks,ABANDONED,2018-12-04 12:39:17.000000000,2019-07-04 13:47:59.000000000,,68,25,0,622300,8362d79d95a1f54d406f03bb1e04fbc098b1ee11,13,11,1,3,10135,Lee Yarwood,lyarwood,"WIP compute: Split shared instance storage and disk checks

Change-Id: I7767f61506bf229dfcd20be8e4f251785111b980
"
openstack%2Fnova~master~I6e6b1f6f6002f1464d3626fef9fe1e706f17f7b7,openstack/nova,master,bug/1414895,I6e6b1f6f6002f1464d3626fef9fe1e706f17f7b7,fixtures: Return a mocked class instead of method within fake_imagebackend,ABANDONED,2018-11-23 22:12:35.000000000,2019-07-04 13:47:57.000000000,,15,7,2,619804,0bae4669c34e8650944f6a017e2edfd48ceaf611,68,11,8,1,10135,Lee Yarwood,lyarwood,"fixtures: Return a mocked class instead of method within fake_imagebackend

This change correctly mimics the behaviour of the original imagebackend
by returning a mock to act as the returned class. This allows any static
methods present in the underlying imagebackend.Image class to be
accessed by tests using the fake_imagebackend fixture.

Change-Id: I6e6b1f6f6002f1464d3626fef9fe1e706f17f7b7
"
openstack%2Fnova~master~Id40dc7e6cf06b2ff9607845d68f0bb08bf3731e8,openstack/nova,master,,Id40dc7e6cf06b2ff9607845d68f0bb08bf3731e8,WIP compute: Unreserve volumes attached to offloaded instances before detach,ABANDONED,2018-09-14 20:44:57.000000000,2019-07-04 13:47:52.000000000,,7,0,0,602743,a3d2ac6b0bd1cae4d864a2afa6f88fea05fc6b40,12,10,1,1,10135,Lee Yarwood,lyarwood,"WIP compute: Unreserve volumes attached to offloaded instances before detach

Change-Id: Id40dc7e6cf06b2ff9607845d68f0bb08bf3731e8
Closes-bug: #
"
openstack%2Fnova~master~I4717b18c284110814d0e78d487d107ab68127c3e,openstack/nova,master,bug/1787606,I4717b18c284110814d0e78d487d107ab68127c3e,scheduler: Increase alternate count in smaller environments,ABANDONED,2018-08-17 15:14:29.000000000,2019-07-04 13:47:17.000000000,,62,7,14,593074,85dc05fdbb3a93e73b845145bc127e17f9080fbf,68,17,5,4,10135,Lee Yarwood,lyarwood,"scheduler: Increase alternate count in smaller environments

Previously the number of alternates provided when scheduling multiple
instances in a single request would be limited in smaller environments
due to hosts being discounted as alternates if they were already
selected by one or more instance in the request.

The number of alternates provided in such environments has now been
increased when scheduling more instances than the total number of hosts.
This should ensure instances are able to reschedule in these smaller
environments if issues are encountered with the host initially selected.

Closes-Bug: #1787606
Change-Id: I4717b18c284110814d0e78d487d107ab68127c3e
"
openstack%2Fnova~master~I006fe2b8fccd08d95af5fbeea7cee60ea084cc4d,openstack/nova,master,bug/1787606,I006fe2b8fccd08d95af5fbeea7cee60ea084cc4d,Add regression for bug 1787606,ABANDONED,2018-08-17 15:14:29.000000000,2019-07-04 13:47:15.000000000,,79,0,4,593073,6e6298a20b7f727c7f9d243bd4dadfedac3d6b05,33,10,4,1,10135,Lee Yarwood,lyarwood,"Add regression for bug 1787606

Related-Bug: #1787606
Change-Id: I006fe2b8fccd08d95af5fbeea7cee60ea084cc4d
"
openstack%2Fnova~master~Iff5b73d8e818fb1145690d0eeff880d98424fa1d,openstack/nova,master,bug/1819923,Iff5b73d8e818fb1145690d0eeff880d98424fa1d,reorder conditions in _heal_allocations_for_instance,MERGED,2019-04-24 14:24:31.000000000,2019-07-04 13:21:07.000000000,2019-06-27 19:47:55.000000000,10,18,2,655458,9adcf53210747d34248702874494537ef2a46781,91,19,6,1,9708,Balazs Gibizer,gibi,"reorder conditions in _heal_allocations_for_instance

The new order will make it simple to pull the placement update out from
the different healing steps to a single place.

Related-Bug: #1819923
Change-Id: Iff5b73d8e818fb1145690d0eeff880d98424fa1d
"
openstack%2Fkolla-cli~master~I9e6dce8bc94fe104ff53eb87dbe2c56a34c16195,openstack/kolla-cli,master,,I9e6dce8bc94fe104ff53eb87dbe2c56a34c16195,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 02:40:04.000000000,2019-07-04 13:06:23.000000000,2019-07-04 13:06:23.000000000,8,8,1,654678,2eb7b085a1100f1f903c7802c84acae984c79243,13,2,3,2,28614,jacky06,jacky06,"Replace git.openstack.org URLs with opendev.org URLs

1. Replace git.openstack.org URLs with opendev.org URLs
2. Update some URLs to latest

Change-Id: I9e6dce8bc94fe104ff53eb87dbe2c56a34c16195
"
openstack%2Fcharm-nova-cloud-controller~master~I589f00e0f7b612611bbec8ca176e798c133b8341,openstack/charm-nova-cloud-controller,master,improve-ssh-key-management,I589f00e0f7b612611bbec8ca176e798c133b8341,"Refactor ""unit"" to ""remote_service"" param",ABANDONED,2019-07-02 11:18:27.000000000,2019-07-04 13:06:02.000000000,,234,103,0,668653,beb4cf67abfa7cea13041a1250ce2c423f8a63fa,12,5,2,5,20870,Alex Kavanagh,ajkavanagh,"Refactor ""unit"" to ""remote_service"" param

When handling ssh keys and known hosts for the relation(s) to the
nova-compute units, the unit is passed to many of the utility functions.
The purpose of the unit param is to derive a consistent remote_service
string with which to create a pair of associated known_hosts and
authorized_keys files.  However, it's not obvious that this is being
done, when reading the code.

This patch refactors many of those functions so that a remote_service
param is passed; this has the benefit of making it clear that it's the
remote_service that is being made unique (for the known_hosts and
authorized keys) as well as the optional user param, but also so that
the deriving of the remote_service is reduced (where possible).

Change-Id: I589f00e0f7b612611bbec8ca176e798c133b8341
"
openstack%2Foslo-specs~master~I814783df719a9e4590e25ad202ecb884aefe3cb6,openstack/oslo-specs,master,story/2001439,I814783df719a9e4590e25ad202ecb884aefe3cb6,Initial Spec for common healthcheck middleware,ABANDONED,2018-01-05 18:03:23.000000000,2019-07-04 12:46:33.000000000,,328,0,119,531456,e21c5f57482ba2a12f1f1823baaf447f58a26fcb,78,23,7,5,8099,Graham Hayes,graham,"Initial Spec for common healthcheck middleware

I have tried to keep it as it was discussed in sydney,
but may have had my own interpretation.

Story: 2001439
Task: 6156

Change-Id: I814783df719a9e4590e25ad202ecb884aefe3cb6
"
openstack%2Fkolla-cli~master~Ic8c4bafd1e4e0cc2304ccf0e5161a331ac31a2ff,openstack/kolla-cli,master,class_description,Ic8c4bafd1e4e0cc2304ccf0e5161a331ac31a2ff,change the description of the class,MERGED,2018-12-04 02:51:21.000000000,2019-07-04 12:43:51.000000000,2019-07-04 12:43:51.000000000,1,1,0,621883,d2d9444b6e07e3f2c031ab173d01ab1afa87a58c,28,7,2,1,27385,lvxianguo,lvxianguo,"change the description of the class

Change-Id: Ic8c4bafd1e4e0cc2304ccf0e5161a331ac31a2ff
"
openstack%2Fvitrage-dashboard~master~I617139ebde72eafde01e2fc3bef9d917fd6ca2da,openstack/vitrage-dashboard,master,sphinx,I617139ebde72eafde01e2fc3bef9d917fd6ca2da,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-04 02:25:12.000000000,2019-07-04 12:42:50.000000000,2019-07-04 12:42:50.000000000,1,1,0,669023,2b8c9b92b087a35873d42e65a13493b7508661cc,7,3,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I617139ebde72eafde01e2fc3bef9d917fd6ca2da
"
openstack%2Fkolla-cli~master~I456f4b04c0ca8fcc8c46bdd9dc43fe5e8ce4ad5f,openstack/kolla-cli,master,fix-email-list,I456f4b04c0ca8fcc8c46bdd9dc43fe5e8ce4ad5f,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 03:40:26.000000000,2019-07-04 12:40:57.000000000,2019-07-04 12:40:57.000000000,1,1,0,621950,056df0181537ae5732a9aa300c6a285c92b3cbc9,47,5,3,1,26458,Brin Zhang,zhangbailin,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces
openstack-dev.

Change-Id: I456f4b04c0ca8fcc8c46bdd9dc43fe5e8ce4ad5f
"
openstack%2Fpython-vitrageclient~master~Ib80a4499eeff18d2d414fe6f6f0f45034b6eb657,openstack/python-vitrageclient,master,python3-train,Ib80a4499eeff18d2d414fe6f6f0f45034b6eb657,Add Python 3 Train unit tests,MERGED,2019-07-04 02:32:53.000000000,2019-07-04 12:39:21.000000000,2019-07-04 12:39:21.000000000,1,2,0,669024,67bf5214e5e5d101003481eebd063f755b12fc3e,7,3,1,1,27822,pengyuesheng,pengyuesheng,"Add Python 3 Train unit tests

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ib80a4499eeff18d2d414fe6f6f0f45034b6eb657
"
openstack%2Fpython-vitrageclient~master~I305b4704e581edb33f193494819be85bb6dabb28,openstack/python-vitrageclient,master,sphinx,I305b4704e581edb33f193494819be85bb6dabb28,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-04 02:36:04.000000000,2019-07-04 12:39:20.000000000,2019-07-04 12:39:20.000000000,1,1,0,669025,543a91b476e364bf10387101e1940013f2894ac4,7,3,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I305b4704e581edb33f193494819be85bb6dabb28
"
openstack%2Fvitrage-dashboard~master~Ic509bdfc23d95d709db8b534827ab141e3d2a0b0,openstack/vitrage-dashboard,master,python3-train,Ic509bdfc23d95d709db8b534827ab141e3d2a0b0,Add Python 3 Train unit tests,MERGED,2019-07-04 02:21:45.000000000,2019-07-04 12:36:41.000000000,2019-07-04 12:36:41.000000000,1,2,0,669022,23cbc09b4dd047a93e81be6185d41eb8118c5ad4,7,3,1,1,27822,pengyuesheng,pengyuesheng,"Add Python 3 Train unit tests

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ic509bdfc23d95d709db8b534827ab141e3d2a0b0
"
openstack%2Fmurano~master~I9ffdc1077842968b0b53ced732b6c8c52afba453,openstack/murano,master,openstackdocstheme,I9ffdc1077842968b0b53ced732b6c8c52afba453,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-04 08:12:45.000000000,2019-07-04 12:34:36.000000000,2019-07-04 12:34:36.000000000,2,46,0,669093,e64e96ce3d084889882e5cf997e83cb4e4530d70,6,2,1,5,27822,pengyuesheng,pengyuesheng,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I9ffdc1077842968b0b53ced732b6c8c52afba453
"
openstack%2Fpython-muranoclient~master~If2ca7919c0a4a488b2719e4063a2c700f23d3e59,openstack/python-muranoclient,master,openstackdocstheme,If2ca7919c0a4a488b2719e4063a2c700f23d3e59,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-04 08:21:13.000000000,2019-07-04 12:26:44.000000000,2019-07-04 12:26:44.000000000,5,25,0,669096,b3f4d15e14bc51af2cd299ade7f95231bc406f6c,6,2,1,4,27822,pengyuesheng,pengyuesheng,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: If2ca7919c0a4a488b2719e4063a2c700f23d3e59
"
openstack%2Fkolla~stable%2Fstein~If58f15e18e420aca790496132352f1c1dcdb2640,openstack/kolla,stable/stein,extract-ci-vars_stable/stein,If58f15e18e420aca790496132352f1c1dcdb2640,Extract CI vars for use in kolla-ansible jobs,MERGED,2019-07-03 07:51:54.000000000,2019-07-04 11:56:46.000000000,2019-07-04 11:56:46.000000000,12,10,0,668815,ac66f586981b5333448545403242c2a5ebc90371,16,5,1,2,30491,Radosław Piliszek,yoctozepto,"Extract CI vars for use in kolla-ansible jobs

Adapted for stable/stein (oraclelinux still tested)

Change-Id: If58f15e18e420aca790496132352f1c1dcdb2640
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 8270ae20f9a8d528d5bea9e275a84a3ef4cf23aa)
"
openstack%2Fmurano-dashboard~master~Id44a25bf49cf3454651cd8ce90f34d93f9e6e511,openstack/murano-dashboard,master,sphinx,Id44a25bf49cf3454651cd8ce90f34d93f9e6e511,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-04 07:39:06.000000000,2019-07-04 11:55:38.000000000,2019-07-04 11:55:37.000000000,1,1,0,669083,66a34475cc0f6e0aa5154f0702e58409f0d08b03,6,2,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: Id44a25bf49cf3454651cd8ce90f34d93f9e6e511
"
openstack%2Fmurano-dashboard~master~I8c9dbce32c592a99671716c249b1a338824169c0,openstack/murano-dashboard,master,openstackdocstheme,I8c9dbce32c592a99671716c249b1a338824169c0,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-04 07:43:52.000000000,2019-07-04 11:53:53.000000000,2019-07-04 11:53:53.000000000,2,46,0,669084,090fa214f83cf237ebf9dd55f37b433104144ef8,8,2,2,4,27822,pengyuesheng,pengyuesheng,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I8c9dbce32c592a99671716c249b1a338824169c0
"
openstack%2Fmurano~master~Id8e5adb6bd9b66318729cb5f222ee8dfb53e2e78,openstack/murano,master,sphinx,Id8e5adb6bd9b66318729cb5f222ee8dfb53e2e78,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-04 08:05:44.000000000,2019-07-04 11:53:47.000000000,2019-07-04 11:53:47.000000000,1,1,0,669092,3d816575020366debbe15f7d8f7729c916626f10,6,2,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: Id8e5adb6bd9b66318729cb5f222ee8dfb53e2e78
"
openstack%2Fpython-muranoclient~master~I8751db5a1446be78b07608d39fb9c741bae78fde,openstack/python-muranoclient,master,sphinx,I8751db5a1446be78b07608d39fb9c741bae78fde,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-04 08:16:45.000000000,2019-07-04 11:51:41.000000000,2019-07-04 11:51:41.000000000,1,1,0,669094,8ff63983f23e87b7042378eb3faf0e4e2c179916,6,2,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I8751db5a1446be78b07608d39fb9c741bae78fde
"
openstack%2Fkolla-ansible~stable%2Frocky~Ib2d88471ac5730c00b5a9721066d1fb3f2998c9c,openstack/kolla-ansible,stable/rocky,ci-gate-queue-stable/rocky,Ib2d88471ac5730c00b5a9721066d1fb3f2998c9c,CI: set the same gate queue for kolla and kolla-ansible,MERGED,2019-07-04 08:41:46.000000000,2019-07-04 11:44:59.000000000,2019-07-04 11:44:59.000000000,1,0,0,669108,cf3d42d463ed1ba0741cc202820bc67709a01125,7,3,1,1,30491,Radosław Piliszek,yoctozepto,"CI: set the same gate queue for kolla and kolla-ansible

This is to ensure that any Depends-On does not cause Zuul not to pick up
the change for gating due to no notifications between queues.
Previously W+1-ing a change which depended on non-merged change from
the other project caused it to remain in the same state.

Change-Id: Ib2d88471ac5730c00b5a9721066d1fb3f2998c9c
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 9c815fa50350bae7a2c9b1edb17611707f9506f0)
"
openstack%2Fkolla-ansible~stable%2Fstein~Ib2d88471ac5730c00b5a9721066d1fb3f2998c9c,openstack/kolla-ansible,stable/stein,ci-gate-queue-stable/stein,Ib2d88471ac5730c00b5a9721066d1fb3f2998c9c,CI: set the same gate queue for kolla and kolla-ansible,MERGED,2019-07-04 08:41:36.000000000,2019-07-04 11:40:38.000000000,2019-07-04 11:40:38.000000000,1,0,0,669106,25befa3d271016416ea0f91e01a2f9a9a74294c2,7,3,1,1,30491,Radosław Piliszek,yoctozepto,"CI: set the same gate queue for kolla and kolla-ansible

This is to ensure that any Depends-On does not cause Zuul not to pick up
the change for gating due to no notifications between queues.
Previously W+1-ing a change which depended on non-merged change from
the other project caused it to remain in the same state.

Change-Id: Ib2d88471ac5730c00b5a9721066d1fb3f2998c9c
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 9c815fa50350bae7a2c9b1edb17611707f9506f0)
"
openstack%2Fcyborg-tempest-plugin~master~Iece2fd824ae457d929db50a1b5dd523cf8978e12,openstack/cyborg-tempest-plugin,master,,Iece2fd824ae457d929db50a1b5dd523cf8978e12,Switch to the new canonical constraints URL on master,MERGED,2019-06-17 14:02:47.000000000,2019-07-04 11:37:06.000000000,2019-07-04 11:37:06.000000000,3,2,3,665678,7f1c922745d75be3bc0cfb0622817132bb8f9ac4,15,8,2,1,28748,chenker,chenke,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Iece2fd824ae457d929db50a1b5dd523cf8978e12
"
openstack%2Foslo.policy~master~Iafa01298a49342ce8b0a1405d2d8ea2b61b3e198,openstack/oslo.policy,master,openstack/requirements,Iafa01298a49342ce8b0a1405d2d8ea2b61b3e198,Updated from global requirements,MERGED,2018-03-23 01:40:43.000000000,2019-07-04 11:11:11.000000000,2019-07-04 11:11:11.000000000,2,2,1,555580,2fe652067b8572b48a926f2fb647d6bf2911a8ab,26,8,3,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Iafa01298a49342ce8b0a1405d2d8ea2b61b3e198
"
openstack%2Fkolla-cli~master~I850d3dc1ecca513c05823520c34cc84b7f39d344,openstack/kolla-cli,master,,I850d3dc1ecca513c05823520c34cc84b7f39d344,Update hacking version,MERGED,2018-12-26 06:51:01.000000000,2019-07-04 11:10:23.000000000,2019-07-04 11:10:23.000000000,41,28,0,627351,14e691bac71ffecb3e8884f6a10dd700cd188602,25,7,4,9,27781,zhulingjie,zhulingjie,"Update hacking version

Co-authored-by: confi-surya <singh.surya64mnnit@gmail.com>
Change-Id: I850d3dc1ecca513c05823520c34cc84b7f39d344
"
openstack%2Fmox3~master~I1bb1b6861f804f3a28d863bcab795ed39819d3aa,openstack/mox3,master,,I1bb1b6861f804f3a28d863bcab795ed39819d3aa,Sync Sphinx requirement,MERGED,2019-06-18 16:52:22.000000000,2019-07-04 11:01:39.000000000,2019-07-04 11:01:39.000000000,8,7,0,666051,a176de01d73739b7084f808c35c0a574aa62f843,11,3,2,4,28614,jacky06,jacky06,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Update some URLs to latest

Change-Id: I1bb1b6861f804f3a28d863bcab795ed39819d3aa
"
openstack%2Foslo.db~master~I6b237ecf55ff440b5f5c956ee849a1927bb15441,openstack/oslo.db,master,bindep-fallback,I6b237ecf55ff440b5f5c956ee849a1927bb15441,Add local bindep.txt,MERGED,2019-06-26 14:04:55.000000000,2019-07-04 10:48:43.000000000,2019-07-04 10:48:43.000000000,20,0,0,667623,f34e53ebf7670f51f16d5d96412a42fa7f3a8232,12,7,1,2,17685,Elod Illes,elod.illes,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I6b237ecf55ff440b5f5c956ee849a1927bb15441
"
openstack%2Fcookbook-openstack-common~stable%2Fqueens~Ic8ddf736193a6a7cea5372f2fd09e2def3634333,openstack/cookbook-openstack-common,stable/queens,drop_poise_python,Ic8ddf736193a6a7cea5372f2fd09e2def3634333,Drop poise-python in favor of directly installing python packages,MERGED,2019-07-03 11:25:22.000000000,2019-07-04 10:43:54.000000000,2019-07-04 10:43:53.000000000,44,19,0,668870,02fbaadf12e601229f519f9c4a34ec9fc4d55707,8,4,1,5,11109,Roger Luethi,rluethi,"Drop poise-python in favor of directly installing python packages

The poise-python cookbook is no longer maintained by the upstream maintainer and
is causing lots of issues for the testing pipeline. Originally we needed this to
install a newer openstack-client via pip, but we no longer do that.

The one exception is in the integration cookbook which I'll be pushing a change
for that as well.

In order to do this, we need to include EPEL on RHEL which doesn't seem to have
any current dependency issues so I think it's safe to bring back.

Depends-On: https://review.opendev.org/665493
Change-Id: Ic8ddf736193a6a7cea5372f2fd09e2def3634333
Signed-off-by: Lance Albertson <lance@osuosl.org>
(cherry picked from commit 16441178af93ca8c0ba4f680800d965f518e26f8)
"
openstack%2Fcloudkitty~master~Ieb195255fc80c55c2083b499ec880cca01f7ca9e,openstack/cloudkitty,master,,Ieb195255fc80c55c2083b499ec880cca01f7ca9e,"Add a ""delete"" method to the v2 storage interface",MERGED,2019-05-27 08:14:02.000000000,2019-07-04 10:42:47.000000000,2019-07-04 10:42:47.000000000,121,7,0,661561,f02196f8a6be5fa428e551f06c9125e2506e3665,22,5,7,5,23060,Luka Peschke,lukapeschke,"Add a ""delete"" method to the v2 storage interface

This adds support for data deletion to the v2 storage backend. A ""delete""
method has been added to the v2 storage interface and has been implemented
in the cloudkitty storage backend.

Change-Id: Ieb195255fc80c55c2083b499ec880cca01f7ca9e
Story: 2005395
Task: 30388
"
openstack%2Fneutron~stable%2Fstein~I79bb8054c113c77e7c96d64ec1408236d24b23b6,openstack/neutron,stable/stein,bug/1834825-stable/stein,I79bb8054c113c77e7c96d64ec1408236d24b23b6,Don't match input interface in POSTROUTING table,MERGED,2019-07-02 15:00:05.000000000,2019-07-04 10:36:58.000000000,2019-07-04 10:36:58.000000000,2,3,0,668686,ccf5b7ea0abeba5dcdc9ec4173dd7f89bc29f3bf,25,7,1,1,11975,Slawek Kaplonski,slaweq,"Don't match input interface in POSTROUTING table

Netfilter postrouting hooks don't provide the input interface. That
works fine in iptables implementation as the comparison simply happens
against an empty string, but cause problems with nftables which
aborts rule processing due to no data to compare against and
the rule doesn't match.
This is a problem in systems where nftables are used (e.g. RHEL 8).

This patch fixes this issue by removing input interface from
POSTROUTING rule used to prevent SNAT for router's internal traffic.

Change-Id: I79bb8054c113c77e7c96d64ec1408236d24b23b6
Closes-Bug: #1834825
(cherry picked from commit dfa37b2233b2dbe6dd12ec5e2ee4f1f32a4be4ba)
"
openstack%2Fnetworking-ovn~master~I15419c029cd9e60a1a6164f97fa893611994b8f3,openstack/networking-ovn,master,bug/1835375,I15419c029cd9e60a1a6164f97fa893611994b8f3,Functional tests: Fix setup error due to missing function,MERGED,2019-07-04 08:29:42.000000000,2019-07-04 10:36:15.000000000,2019-07-04 10:36:15.000000000,0,4,5,669099,dd5f1656b54822883f6c73ee68149f3312e02819,18,5,3,1,6773,Lucas Alvares Gomes,lucasagomes,"Functional tests: Fix setup error due to missing function

The ""fixup_uca"" was recently renamed in DevStack to ""fixup_ubuntu""
as part of https://review.opendev.org/#/c/619562 and that broke our
functional gate setup. The functional itself does not seeing to be
needed anymore (functional tests passes without it) so this patch is
getting rid of it to avoid another renaming in the future.

Change-Id: I15419c029cd9e60a1a6164f97fa893611994b8f3
Closes-Bug: #1835375
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fkolla-ansible~stable%2Fstein~I154ac727305635bf28ce0f33ffb72deab47eaf2d,openstack/kolla-ansible,stable/stein,,I154ac727305635bf28ce0f33ffb72deab47eaf2d,DNM: try sleeping after mariadb master recover,ABANDONED,2019-06-29 10:03:57.000000000,2019-07-04 10:23:51.000000000,,5,6,0,668289,badef45b70f808e32cf9be457d87a90123302172,10,3,1,3,14826,Mark Goddard,mgoddard,"DNM: try sleeping after mariadb master recover

Change-Id: I154ac727305635bf28ce0f33ffb72deab47eaf2d
"
openstack%2Fkolla-ansible~stable%2Fstein~Ib38343cccd687ae7d42b655481dd70c5ec3036b8,openstack/kolla-ansible,stable/stein,,Ib38343cccd687ae7d42b655481dd70c5ec3036b8,DNM: try waiting for mariadb to become operational,ABANDONED,2019-07-01 16:16:34.000000000,2019-07-04 10:22:49.000000000,,178,138,1,668514,f8b444e696e1a2bd85921ade139d870daa3f680b,17,3,3,6,14826,Mark Goddard,mgoddard,"DNM: try waiting for mariadb to become operational

Change-Id: Ib38343cccd687ae7d42b655481dd70c5ec3036b8
"
openstack%2Fkolla-ansible~master~I824857ddfb1dd026f93994a4ac8db8f80e64072e,openstack/kolla-ansible,master,bug/1833729,I824857ddfb1dd026f93994a4ac8db8f80e64072e,Don't rotate keystone fernet keys during deploy,MERGED,2019-06-21 15:54:16.000000000,2019-07-04 10:20:14.000000000,2019-07-04 10:18:27.000000000,16,6,6,666882,09e29d0db9b895b97470c9c8a60442b980a3eb3c,32,9,5,5,14826,Mark Goddard,mgoddard,"Don't rotate keystone fernet keys during deploy

When running deploy or reconfigure for Keystone,
ansible/roles/keystone/tasks/deploy.yml calls init_fernet.yml,
which runs /usr/bin/fernet-rotate.sh, which calls keystone-manage
fernet_rotate.

This means that a token can become invalid if the operator runs
deploy or reconfigure too often.

This change splits out fernet-push.sh from the fernet-rotate.sh
script, then calls fernet-push.sh after the fernet bootstrap
performed in deploy.

Change-Id: I824857ddfb1dd026f93994a4ac8db8f80e64072e
Closes-Bug: #1833729
"
openstack%2Freleases~master~Idfe85b68852902bc90fe351bd6fd9e368ca1cd81,openstack/releases,master,neutron-queens-12.0.7,Idfe85b68852902bc90fe351bd6fd9e368ca1cd81,Neutron Queens 12.1.0,MERGED,2019-06-24 15:08:09.000000000,2019-07-04 10:19:16.000000000,2019-07-04 10:19:16.000000000,4,0,2,667124,34f3a79c00ace6741c6949eaca06835857d95dd0,15,8,2,1,1131,Brian Haley,brian-haley,"Neutron Queens 12.1.0

Change-Id: Idfe85b68852902bc90fe351bd6fd9e368ca1cd81
"
openstack%2Fkolla~stable%2Fpike~If5670473b69578f2a35646a54be9be88aee6bbb2,openstack/kolla,stable/pike,pike-em,If5670473b69578f2a35646a54be9be88aee6bbb2,Move pike jobs to use validated RDO Trunk,MERGED,2019-07-01 16:38:01.000000000,2019-07-04 10:18:26.000000000,2019-07-04 10:18:26.000000000,4,5,0,668522,430f2587125c1d5f305f05653ee3ea06d064f1ff,23,6,2,2,16312,Alfredo Moralejo,amoralej,"Move pike jobs to use validated RDO Trunk

Pike is EM now which means that projects are not creating new releases.
For RDO this means official repos are not considered supported anymore
and may be removed at some point.

The recommendation for CI is to use RO Trunk repo for pike which follows
the stable/pike branches instead of last releases.

Change-Id: If5670473b69578f2a35646a54be9be88aee6bbb2
"
openstack%2Fkolla-ansible~stable%2Fstein~I5ce06cc6f2c7403a1c36aadf9e55068c780f05ac,openstack/kolla-ansible,stable/stein,,I5ce06cc6f2c7403a1c36aadf9e55068c780f05ac,Check for 'become' in tasks that use Docker in pep8,MERGED,2019-06-18 18:28:29.000000000,2019-07-04 10:18:25.000000000,2019-07-04 10:18:25.000000000,46,1,2,666141,920943b7ea66f6e0450b821a3fe21ba276c33d50,33,6,6,1,14826,Mark Goddard,mgoddard,"Check for 'become' in tasks that use Docker in pep8

We should use become: true for all tasks that use Docker.

Change-Id: I5ce06cc6f2c7403a1c36aadf9e55068c780f05ac
"
openstack%2Fnova-specs~master~Ib88c9b95364ca7e2b9feff3140b77d70faa6ce1c,openstack/nova-specs,master,bp/allow-secure-boot-for-qemu-kvm-guests,Ib88c9b95364ca7e2b9feff3140b77d70faa6ce1c,"Add ""Secure Boot support for KVM & QEMU guests"" spec",MERGED,2017-09-22 17:03:07.000000000,2019-07-04 10:14:50.000000000,2019-07-04 10:14:50.000000000,461,0,154,506720,f4c79e4f1a90a328f3373a3540fea331288080f2,101,17,14,1,6962,Kashyap Chamarthy,kashyapc,"Add ""Secure Boot support for KVM & QEMU guests"" spec

Allow Secure Boot (SB) support for KVM- and QEMU-based instances,
using OVMF (Open Virtual Machine Firmware), and other SB-related
features in libvirt and QEMU.

What exactly is OVMF?

    An open source project that enables UEFI (Unified Extensible
    Firmware Interface) support for KVM- and QEMU-based virtual
    machines.

Key benefits of Secure Boot:

  - It provides protection from boot-time malware
  - Provides a trusted boot path

For a more in-depth treatment on Secure Boot, refer to this[1].

NB: Support for Hyper-V in Nova was added in:
    http://git.openstack.org/cgit/openstack/nova/commit/?h=master&id=29dab99
    -- Hyper-V: Adds Hyper-V UEFI Secure Boot

Blueprint: allow-secure-boot-for-qemu-kvm-guests

[1] http://www.rodsbooks.com/efi-bootloaders/secureboot.html

Change-Id: Ib88c9b95364ca7e2b9feff3140b77d70faa6ce1c
"
openstack%2Freleases~master~Ifb5484977ffbf79e6e0e601af431466d10d9def8,openstack/releases,master,sahara-tests-090,Ifb5484977ffbf79e6e0e601af431466d10d9def8,Second release of sahara-tests for Stein (0.9.0),MERGED,2019-06-27 18:53:34.000000000,2019-07-04 10:10:06.000000000,2019-07-04 10:10:06.000000000,4,0,0,668022,7462fec122eb54519f2be6b4db6d4dd368a85ca4,9,5,1,1,10459,Luigi Toscano,ltoscano,"Second release of sahara-tests for Stein (0.9.0)

There are enough changes to warrant a bump of the 0.y number.

Change-Id: Ifb5484977ffbf79e6e0e601af431466d10d9def8
"
openstack%2Freleases~master~Ie283fc131be43a0a33efe94a61529eb1effd2278,openstack/releases,master,python-qinlingclient-2.2.0,Ie283fc131be43a0a33efe94a61529eb1effd2278,Release python-qinlingclient 2.2.0 for Train,MERGED,2019-07-02 03:26:38.000000000,2019-07-04 10:10:05.000000000,2019-07-04 10:10:05.000000000,5,0,0,668584,1eaa7af7bc4236f1649c968477ff833ffc4897a2,8,4,1,1,6732,Lingxian Kong,kong,"Release python-qinlingclient 2.2.0 for Train

Change-Id: Ie283fc131be43a0a33efe94a61529eb1effd2278
"
openstack%2Freleases~master~I697b956d11ce1463c2053b5f50fa625d4041cb44,openstack/releases,master,rhsm,I697b956d11ce1463c2053b5f50fa625d4041cb44,Release ansible-role-redhat-subscription,MERGED,2019-07-01 13:52:10.000000000,2019-07-04 10:10:04.000000000,2019-07-04 10:10:04.000000000,4,0,0,668471,69599c77b372ecd93840a2667465a80c04c61905,9,4,1,1,14985,Alex Schultz,mwhahaha,"Release ansible-role-redhat-subscription

The last one failed during teh release process.

Change-Id: I697b956d11ce1463c2053b5f50fa625d4041cb44
"
openstack%2Freleases~master~I216cfb0c14af6f88b3a9a2210ad8b03c088440fe,openstack/releases,master,oslo-master,I216cfb0c14af6f88b3a9a2210ad8b03c088440fe,Oslo releases for 2019-07-01,MERGED,2019-07-01 18:49:31.000000000,2019-07-04 10:05:52.000000000,2019-07-04 10:05:52.000000000,17,0,0,668546,73f6bb045ed59a49e4835b0763957463ad03aacf,7,3,1,4,6928,Ben Nemec,bnemec,"Oslo releases for 2019-07-01

Change-Id: I216cfb0c14af6f88b3a9a2210ad8b03c088440fe
"
openstack%2Fnova~master~I958005b6a3e2b90ca6fe6046e4dbcc5991581245,openstack/nova,master,,I958005b6a3e2b90ca6fe6046e4dbcc5991581245,Changing scheduler sync event from INFO to DEBUG,MERGED,2018-05-04 19:27:48.000000000,2019-07-04 10:05:20.000000000,2018-05-08 14:34:17.000000000,2,2,1,566392,e86ac82bbdd365eb0085697ba3b634c55c4016e7,70,19,2,1,22623,Erik Olof Gunnar Andersson,eoandersson,"Changing scheduler sync event from INFO to DEBUG

We don't need to log every single sync event, this can get
pretty spammy, especially when you have computes in the hundreds.

Change-Id: I958005b6a3e2b90ca6fe6046e4dbcc5991581245
"
openstack%2Fnetworking-l2gw~master~I82c02fb516eac2e357c6a7ee02ae8ed1c432530e,openstack/networking-l2gw,master,start_looping_task,I82c02fb516eac2e357c6a7ee02ae8ed1c432530e,Start agent looping task anyway,MERGED,2019-06-18 14:26:13.000000000,2019-07-04 10:05:00.000000000,2019-07-04 10:05:00.000000000,3,0,0,665995,23f0fb2df6a6a1f6d908efb99cdf0281b07cf15f,6,2,1,1,8313,Lajos Katona,elajkat,"Start agent looping task anyway

In some cases agent looping tasks didn't start, but the _running
property was set. Even with extra debug logs I can't get the roor cause.
Other agents do call start() [0] as well after initializing
FixedIntervalLoopingCall.

[0] https://opendev.org/openstack/neutron/src/branch/master/neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py#L323-L325

Change-Id: I82c02fb516eac2e357c6a7ee02ae8ed1c432530e
"
openstack%2Freleases~master~I01cd1163fd773b669fa1dea73c87c177e13dd17e,openstack/releases,master,cd/placement-liaisons,I01cd1163fd773b669fa1dea73c87c177e13dd17e,Update placement release liaisons,MERGED,2019-07-01 13:55:17.000000000,2019-07-04 09:55:35.000000000,2019-07-04 09:55:35.000000000,6,3,1,668472,1a3517fdaa0200640318cb845dbcf6e26d8ab463,8,5,1,1,11564,Chris Dent,chdent,"Update placement release liaisons

Add Eric Fried and Matt Riedemann as designated release liaisons
for placement projects.

Change-Id: I01cd1163fd773b669fa1dea73c87c177e13dd17e
"
openstack%2Fos-acc~master~Ifd8282b1b61b06042132dcb51cd871e3653dbe36,openstack/os-acc,master,parser,Ifd8282b1b61b06042132dcb51cd871e3653dbe36,Add a parser to help nova parse the input device spec to cyborg.,ABANDONED,2018-09-28 11:20:31.000000000,2019-07-04 09:53:21.000000000,,118,0,2,606036,369b79bf77ed5200f9e61e95bc29b25d6c5d82e8,4,5,1,2,25738,Xinran WANG,Xinran,"Add a parser to help nova parse the input device spec to cyborg.

In this patch, we provide a new function named parser() which can help nova
to parse its input accelerator device spec to an acceptable format for Cyborg
in order to pass it to cyborg API.

Change-Id: Ifd8282b1b61b06042132dcb51cd871e3653dbe36
"
openstack%2Fcloudkitty~master~I192b244c9ccdfa73f50a14efdc5efe9547906758,openstack/cloudkitty,master,,I192b244c9ccdfa73f50a14efdc5efe9547906758,Add quotes to InfluxDb queries,MERGED,2019-07-03 15:21:14.000000000,2019-07-04 09:05:17.000000000,2019-07-04 09:05:17.000000000,24,3,0,668937,1797c6c0d16aac78b8d7438939879e713f1c5fe4,8,3,2,2,23060,Luka Peschke,lukapeschke,"Add quotes to InfluxDb queries

This adds additional quotes around tag and field names for InfluxDB
queries, in order to avoid ambiguities when a tag/field's name is an
InfluxDB/InfluxQL keyword.

Change-Id: I192b244c9ccdfa73f50a14efdc5efe9547906758
"
openstack%2Fcharm-nova-compute~master~Ie69eec881b9418838ef4fcc65674cf7dd590008c,openstack/charm-nova-compute,master,wip-test,Ie69eec881b9418838ef4fcc65674cf7dd590008c,WIP: test if head of master passes,ABANDONED,2019-07-04 08:51:15.000000000,2019-07-04 09:03:30.000000000,,0,0,0,669112,d1e90c669ed9bf829c173c384d3f46bbcbd4bc5d,3,1,1,1,9146,Mark Maglana,relaxdiego,"WIP: test if head of master passes

Change-Id: Ie69eec881b9418838ef4fcc65674cf7dd590008c
"
openstack%2Fkolla-cli~master~I347cda4bbdc6ed7dc4857cb1865da578670235fb,openstack/kolla-cli,master,fix_unreachable_change,I347cda4bbdc6ed7dc4857cb1865da578670235fb,Fixing test failures,MERGED,2019-05-03 23:17:24.000000000,2019-07-04 08:56:48.000000000,2019-07-04 08:56:48.000000000,15,19,1,657086,8a4993465352fdbcad58e1be33219d2d96f09438,14,6,3,4,16520,Borne Mace,bmace,"Fixing test failures

It seems that in newer ansible versions the error strings have
changed and we are no longer able to use the hard coded
""UNREACHABLE"" string in our stop test.  For now changing the
test to just skip the string investigation.  Also updating some
package dependencies to match those in kolla-ansible.

We need the 3.5 to 3.6 migration along with the UNREACHABLE
string change together to clean up the test failures  Neither
can be fixed without the other.  Thanks zhulingjie!!

Co-Authored-By: zhulingjie <easyzlj@gmail.com>
Change-Id: I347cda4bbdc6ed7dc4857cb1865da578670235fb
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ia455702d75a450f1c3ac88ed69853e9b98b98644,openstack/tripleo-heat-templates,stable/stein,ovn-fix-ctrlport-fw-stable/stein,Ia455702d75a450f1c3ac88ed69853e9b98b98644,Fix ovn dbs control port,MERGED,2019-07-03 12:06:24.000000000,2019-07-04 08:49:49.000000000,2019-07-04 08:49:49.000000000,8,0,0,668882,743b8169299eb7a7c261e82127a899d08375c3b4,9,4,1,1,20172,Michele Baldessari,michele,"Fix ovn dbs control port

When an OCF bundle is managed by pacemaker it runs pacemaker-remote
inside the container. The communication between the pacemaker cluster
and the remote happens through a so-called control port. In the case of
ovn-dbs, this port is set to 3125 by default:
https://github.com/openstack/puppet-tripleo/blob/master/manifests/profile/pacemaker/ovn_dbs_bundle.pp#L62

We need to make sure that the cluster is always able to connect to said
port as the connection might come from a cluster node that is not the
same node where the ovn bundle is running.

This has worked so far only by pure luck because pacemaker will retry
the connection from each controller node and eventually when the
connection comes from the same host as the one where the bundle is
running it succeeds (INPUT rules do not apply to same-host connections).

Tested and correctly observed port 3125/tcp being open in iptables:
* Before
[root@controller-0]# iptables -nvL INPUT |grep 3125
[root@controller-0]#

* After
[root@controller-0]# iptables -nvL INPUT |grep 3125
    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 3125,6641,6642 state NEW /* 121 OVN DB server ports ipv4 */

Closes-Bug: #1834856
Change-Id: Ia455702d75a450f1c3ac88ed69853e9b98b98644
"
openstack%2Fkolla~stable%2Fqueens~I1815c3f30c3208b31501d1b7c2bd6be99db437e5,openstack/kolla,stable/queens,ci-gate-queue-stable/queens,I1815c3f30c3208b31501d1b7c2bd6be99db437e5,CI: set the same gate queue for kolla and kolla-ansible,ABANDONED,2019-07-04 08:41:17.000000000,2019-07-04 08:46:47.000000000,,2,0,0,669105,b01e581a86d046db2b827779b76ba79045463596,2,0,1,2,30491,Radosław Piliszek,yoctozepto,"CI: set the same gate queue for kolla and kolla-ansible

This is to ensure that any Depends-On does not cause Zuul not to pick up
the change for gating due to no notifications between queues.
Previously W+1-ing a change which depended on non-merged change from
the other project caused it to remain in the same state.

Change-Id: I1815c3f30c3208b31501d1b7c2bd6be99db437e5
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 4884203a9ed8e1a2e67d3877e195359d4e3ad726)
"
openstack%2Fkolla-ansible~master~Ib2d88471ac5730c00b5a9721066d1fb3f2998c9c,openstack/kolla-ansible,master,ci-gate-queue,Ib2d88471ac5730c00b5a9721066d1fb3f2998c9c,CI: set the same gate queue for kolla and kolla-ansible,MERGED,2019-07-03 17:59:32.000000000,2019-07-04 08:41:46.000000000,2019-07-03 21:21:51.000000000,1,0,0,668967,9c815fa50350bae7a2c9b1edb17611707f9506f0,10,3,2,1,30491,Radosław Piliszek,yoctozepto,"CI: set the same gate queue for kolla and kolla-ansible

This is to ensure that any Depends-On does not cause Zuul not to pick up
the change for gating due to no notifications between queues.
Previously W+1-ing a change which depended on non-merged change from
the other project caused it to remain in the same state.

Change-Id: Ib2d88471ac5730c00b5a9721066d1fb3f2998c9c
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fkolla~master~I1815c3f30c3208b31501d1b7c2bd6be99db437e5,openstack/kolla,master,ci-gate-queue,I1815c3f30c3208b31501d1b7c2bd6be99db437e5,CI: set the same gate queue for kolla and kolla-ansible,MERGED,2019-07-03 18:20:47.000000000,2019-07-04 08:41:17.000000000,2019-07-04 07:39:55.000000000,2,0,0,668971,4884203a9ed8e1a2e67d3877e195359d4e3ad726,12,4,1,2,30491,Radosław Piliszek,yoctozepto,"CI: set the same gate queue for kolla and kolla-ansible

This is to ensure that any Depends-On does not cause Zuul not to pick up
the change for gating due to no notifications between queues.
Previously W+1-ing a change which depended on non-merged change from
the other project caused it to remain in the same state.

Change-Id: I1815c3f30c3208b31501d1b7c2bd6be99db437e5
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fnova~master~Iad4f40658d44f39993309173c3abc82496664920,openstack/nova,master,bug/1832860,Iad4f40658d44f39993309173c3abc82496664920,Update docs on db sync ordering & exit code,ABANDONED,2019-06-17 09:38:13.000000000,2019-07-04 08:18:33.000000000,,11,4,2,665627,586b7b1b4587b55bd872a8306188df50ef936d87,11,8,2,2,14826,Mark Goddard,mgoddard,"Update docs on db sync ordering & exit code

Since cells v2 was introduced, nova operators must run two commands to
migrate the database schemas of nova's databases - nova-manage api_db
sync and nova-manage db sync. It is necessary to run them in this order,
since the db sync may depend on schema changes made to the api database
in the api_db sync.

This change clarifies this ordering in the upgrade and nova-manage
documentation. It also states that the return code should be zero for a
successful DB sync.

Change-Id: Iad4f40658d44f39993309173c3abc82496664920
Related-Bug: #1832860
"
openstack%2Fkeystonemiddleware~master~Iae72e055b0f407c1643b6c6161af28b535712a7d,openstack/keystonemiddleware,master,python3-train,Iae72e055b0f407c1643b6c6161af28b535712a7d,Add Python 3 Train unit tests,MERGED,2019-06-26 22:44:51.000000000,2019-07-04 07:59:55.000000000,2019-07-01 19:42:40.000000000,2,3,0,667748,2d3765ed565aba3b9793efcfc5c2d1ea534f1a0d,8,5,1,2,11805,Corey Bryant,coreycb,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Iae72e055b0f407c1643b6c6161af28b535712a7d
Story: #2005924
Task: #34215
"
openstack%2Ftooz~master~I93e2780f56003bd107f2c9cf9284e70fe5c8a848,openstack/tooz,master,,I93e2780f56003bd107f2c9cf9284e70fe5c8a848,Add leader election support to the etcd3gw driver.,ABANDONED,2018-06-14 09:44:14.000000000,2019-07-04 07:53:18.000000000,,34,3,2,575383,d67ab659ad2e999db5f101a4d2b0fd3539109900,36,5,13,1,14512,Tomaz Muraus,Kami,"Add leader election support to the etcd3gw driver.

Change-Id: I93e2780f56003bd107f2c9cf9284e70fe5c8a848
"
openstack%2Fkolla-ansible~master~Ia42ac9b90a17245e9df277c40bda24308ebcd11d,openstack/kolla-ansible,master,ci-keep-logs-in-order,Ia42ac9b90a17245e9df277c40bda24308ebcd11d,CI: Keep stderr in ansible logs,MERGED,2019-07-02 18:49:41.000000000,2019-07-04 07:48:15.000000000,2019-07-04 07:45:54.000000000,13,13,0,668739,b9aa8b38f4cfa504b3068f596d42a8c69c09091a,10,5,1,6,30491,Radosław Piliszek,yoctozepto,"CI: Keep stderr in ansible logs

Otherwise ara had only the stderr part and logs only the
stdout part which made ordered analysis harder.

Additionally add -vvv for the bootstrap-servers run.

Change-Id: Ia42ac9b90a17245e9df277c40bda24308ebcd11d
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fnova-powervm~master~I3c33984993ec87b42140b293d4ca450f6e1d872d,openstack/nova-powervm,master,,I3c33984993ec87b42140b293d4ca450f6e1d872d,"Use new ``initial_xxx_allocation_ratio`` CONF ""https://github.com/openstack/nova/commit/ 08f3ae960623c94bdd997cacb3e81f04b4bbba69# diff-46d49d172cae6b899c1be3628dede5d1""",ABANDONED,2019-07-04 07:25:19.000000000,2019-07-04 07:28:41.000000000,,15,13,0,669075,0fdc48776d7da299972208589deeec33b007a089,2,0,1,2,28063,VEDA,VedaAnnayappa,"Use new ``initial_xxx_allocation_ratio`` CONF
""https://github.com/openstack/nova/commit/
08f3ae960623c94bdd997cacb3e81f04b4bbba69#
diff-46d49d172cae6b899c1be3628dede5d1""

Change-Id: I3c33984993ec87b42140b293d4ca450f6e1d872d
"
openstack%2Fnova-powervm~master~I833157818de14b123dc823f7e0e95c5f7b069216,openstack/nova-powervm,master,,I833157818de14b123dc823f7e0e95c5f7b069216,"Merged changes : Add image type capability flags: ""https://github.com/openstack/nova/commit/ aafd873e2176076609ff17d63137dd6f84ddf8d3# diff-98d1a06e0feb7e5ff43a21433afd9f34""",ABANDONED,2019-07-04 07:25:19.000000000,2019-07-04 07:28:26.000000000,,16,3,0,669076,d3c05ad21ed81b038487676f33a1f34ca386e9d9,2,0,1,2,28063,VEDA,VedaAnnayappa,"Merged changes :
Add image type capability flags:
""https://github.com/openstack/nova/commit/
aafd873e2176076609ff17d63137dd6f84ddf8d3#
diff-98d1a06e0feb7e5ff43a21433afd9f34""

Use new ``initial_xxx_allocation_ratio`` CONF
""https://github.com/openstack/nova/commit/
08f3ae960623c94bdd997cacb3e81f04b4bbba69#
diff-46d49d172cae6b899c1be3628dede5d1""

Change-Id: I833157818de14b123dc823f7e0e95c5f7b069216
"
openstack%2Fmurano-dashboard~master~I46bf2d43794a67a4dc080afa9f1740a582cb7631,openstack/murano-dashboard,master,bug/1805193,I46bf2d43794a67a4dc080afa9f1740a582cb7631,Remove the dependency of floppyforms,MERGED,2019-02-27 03:06:09.000000000,2019-07-04 07:15:51.000000000,2019-07-04 07:15:50.000000000,130,5,0,639482,dc0bc457139214251e483ed279f99c0cbafd1a7b,10,2,2,4,14107,zhurong,zhurong,"Remove the dependency of floppyforms

django-floppyforms is not very well supported anymore
and was dropped from Ubuntu in Xenial.

Closes-bug: #1805193
Change-Id: I46bf2d43794a67a4dc080afa9f1740a582cb7631
"
openstack%2Ftripleo-validations~master~I645af2be9a1c269ed4a635e3299164c94d6ac810,openstack/tripleo-validations,master,ceph-health_vars,I645af2be9a1c269ed4a635e3299164c94d6ac810,Fix variables indentation for ceph-health validation,MERGED,2019-07-03 11:16:18.000000000,2019-07-04 07:15:25.000000000,2019-07-03 18:22:02.000000000,2,2,0,668866,bb48a7f577ffe4d40b95c92b151122a9d581505b,9,3,1,1,11491,Gael Chamoulaud,gchamoul,"Fix variables indentation for ceph-health validation

The default variables for a validation playbook should not be included
in the metadata array level.

Change-Id: I645af2be9a1c269ed4a635e3299164c94d6ac810
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fcharm-ceph-osd~master~I10cac1cf43c11cf11fde196244820ac28b5a47d0,openstack/charm-ceph-osd,master,bug/1835145,I10cac1cf43c11cf11fde196244820ac28b5a47d0,Fix bdev-enable-discard to honor the documentation,MERGED,2019-07-03 02:30:46.000000000,2019-07-04 07:04:40.000000000,2019-07-04 07:04:40.000000000,85,6,0,668776,0a0b9ba3160f29649c239d4a5eeb76bc04b5aeac,22,5,4,2,2424,Felipe Reyes,freyes,"Fix bdev-enable-discard to honor the documentation

When the user provides an unexpected value in this configuration option
a warning message is logged and the workload is set to blocked.

Closes-Bug: #1835145
Change-Id: I10cac1cf43c11cf11fde196244820ac28b5a47d0
"
openstack%2Fwatcher~master~I1a5b87b5771b9fd8f7ccdd6fd83f7ed0d7bfef64,openstack/watcher,master,Bug#sphinx,I1a5b87b5771b9fd8f7ccdd6fd83f7ed0d7bfef64,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-01 06:59:45.000000000,2019-07-04 06:34:40.000000000,2019-07-04 06:34:40.000000000,1,1,0,668363,dd1800fbc17a03832dd4d03d12a5d2a1b2184cae,8,4,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I1a5b87b5771b9fd8f7ccdd6fd83f7ed0d7bfef64
"
openstack%2Frpm-packaging~master~Ifbcc99ce8c1b82b1359a74a152803d4384033a32,openstack/rpm-packaging,master,neutron,Ifbcc99ce8c1b82b1359a74a152803d4384033a32,update neutron to 14.0.1,ABANDONED,2019-06-14 06:21:51.000000000,2019-07-04 06:34:03.000000000,,1,1,0,665308,5ed5ae076893d8840a313d93711eb7d7cb4aaa3d,5,3,1,1,28654,chenming,mmbbz,"update neutron to 14.0.1

Change-Id: Ifbcc99ce8c1b82b1359a74a152803d4384033a32
"
openstack%2Frpm-packaging~master~I0fa37cc9a6a29a0648e3f602578b0e0e6e07c6b2,openstack/rpm-packaging,master,openstacksdk,I0fa37cc9a6a29a0648e3f602578b0e0e6e07c6b2,Update to 0.28.0,ABANDONED,2019-05-29 02:20:30.000000000,2019-07-04 06:33:10.000000000,,1,1,1,661878,e563fb4db009bf67b3f5c81e941b8575231dd92e,10,5,1,1,28613,tony_zhang,tonybrad,"Update to 0.28.0

Change-Id: I0fa37cc9a6a29a0648e3f602578b0e0e6e07c6b2
"
openstack%2Fproject-config~master~I3c6f6f915510b6d837701261b4d9fca59ab58515,openstack/project-config,master,project-yaml-normalization,I3c6f6f915510b6d837701261b4d9fca59ab58515,Normalize projects.yaml,MERGED,2019-07-04 06:08:05.000000000,2019-07-04 06:28:23.000000000,2019-07-04 06:28:23.000000000,4,3,0,669055,f47578a938a8fac1d1206eef49597ec1b25d533f,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Normalize projects.yaml

Change-Id: I3c6f6f915510b6d837701261b4d9fca59ab58515
"
openstack%2Fnetworking-midonet~master~I57958f8388505aee5654f20c0c9c60f0e3ceea15,openstack/networking-midonet,master,legacy-ocata,I57958f8388505aee5654f20c0c9c60f0e3ceea15,Remove ocata jobs from branch,MERGED,2019-06-25 12:48:20.000000000,2019-07-04 06:17:55.000000000,2019-07-04 02:56:23.000000000,0,18,0,667356,431ad460f85136fcad773818f3b12f3a17917b95,12,15,1,1,6547,Andreas Jaeger,jaegerandi,"Remove ocata jobs from branch

This repo configures two ocata jobs to run as periodic jobs, these
need to be only in the stable/ocata and not in this branch - remove
them.

The stable/ocata branch has these jobs configured, so the jobs continue
to run - but the Zuul setup is simplified.

Change-Id: I57958f8388505aee5654f20c0c9c60f0e3ceea15
"
openstack%2Fhorizon~master~I8450ad55585791c8472ec233b9535809716ed12a,openstack/horizon,master,bug/1821284,I8450ad55585791c8472ec233b9535809716ed12a,"Replace ""group spec"" with ""group type spec""",MERGED,2019-06-12 06:23:40.000000000,2019-07-04 06:16:25.000000000,2019-07-03 16:20:54.000000000,3,3,0,664792,6c8674dc5d14c6a3d5bfcdadfce49a55232ca2ed,21,6,4,3,29313,Vishal Manchanda,vishalmanchanda,"Replace ""group spec"" with ""group type spec""

In the group type spec page, title ""group type spec"" and
""group spec"" are used inconsistently. So this patch
replace ""group spec"" with ""group type spec""

Closes-bug: #1821284

Change-Id: I8450ad55585791c8472ec233b9535809716ed12a
"
openstack%2Frpm-packaging~master~I9980554cd229b6a3494e7d065b501baee181e932,openstack/rpm-packaging,master,py3-keystone,I9980554cd229b6a3494e7d065b501baee181e932,watcher: update filelist,MERGED,2019-06-27 21:05:07.000000000,2019-07-04 06:11:32.000000000,2019-07-04 06:11:32.000000000,1,0,0,668051,1bf2a53010ea7baf57cede0e3326d5dc50cd653b,17,5,3,1,6593,Dirk Mueller,dmllr,"watcher: update filelist

Change-Id: I9980554cd229b6a3494e7d065b501baee181e932
"
openstack%2Fmurano-dashboard~master~Ia4d824788f3080566b7394f43c6312c43d12c605,openstack/murano-dashboard,master,,Ia4d824788f3080566b7394f43c6312c43d12c605,Add Python 3 Train unit tests,MERGED,2019-07-03 09:16:59.000000000,2019-07-04 05:23:43.000000000,2019-07-04 05:23:42.000000000,3,2,0,668837,08fffa32752848caef238df798754a6659b138cb,8,2,1,3,14107,zhurong,zhurong,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ia4d824788f3080566b7394f43c6312c43d12c605
Story: #2005924
Task: #34214
"
openstack%2Fnova-powervm~master~I2e9ab6aba52a7782c941e9f6d684e052f666f6bb,openstack/nova-powervm,master,,I2e9ab6aba52a7782c941e9f6d684e052f666f6bb,Use new ``initial_xxx_allocation_ratio`` CONF,ABANDONED,2019-07-03 17:54:37.000000000,2019-07-04 04:18:36.000000000,,3,4,0,668966,2756aa2fcb402a360a424368ff303f96aea7c4ab,6,2,3,1,28063,VEDA,VedaAnnayappa,"Use new ``initial_xxx_allocation_ratio`` CONF

Change-Id: I2e9ab6aba52a7782c941e9f6d684e052f666f6bb
"
openstack%2Ftooz~master~Ie2a1e1b309d9b1e58fbd97d46adad55868e4c565,openstack/tooz,master,,Ie2a1e1b309d9b1e58fbd97d46adad55868e4c565,Add leader election methods to the etcd3 driver.,ABANDONED,2018-06-15 13:39:08.000000000,2019-07-04 03:56:27.000000000,,24,6,0,575738,cb13087a900c4c226d30c60e1555a657d9590e54,6,2,1,1,14512,Tomaz Muraus,Kami,"Add leader election methods to the etcd3 driver.

Change-Id: Ie2a1e1b309d9b1e58fbd97d46adad55868e4c565
"
openstack%2Fzun~master~Ie4fc9c5f1af94e68e71e6035106e84b13e1edddd,openstack/zun,master,sphinx,Ie4fc9c5f1af94e68e71e6035106e84b13e1edddd,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-03 01:51:08.000000000,2019-07-04 03:48:05.000000000,2019-07-04 03:48:05.000000000,1,1,0,668770,d614126de8e650e720d7ccaa227854270fc3e396,6,2,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: Ie4fc9c5f1af94e68e71e6035106e84b13e1edddd
"
openstack%2Fkolla-ansible~master~I65670cb827f8ca5f8529e1786ece635fe44475b0,openstack/kolla-ansible,master,cloudkitty_storage-v2_kolla,I65670cb827f8ca5f8529e1786ece635fe44475b0,Cloudkitty InfluxDB Storage backend via Kolla-ansible,MERGED,2019-05-10 16:41:12.000000000,2019-07-04 03:45:40.000000000,2019-07-04 03:45:40.000000000,79,2,17,658418,97cb30cdd8041210a09167b8458a08f985892f1f,54,10,11,6,28356,Rafael Weingartner,rafaelweingartner,"Cloudkitty InfluxDB Storage backend via Kolla-ansible

This proposal will add support to Kolla-Ansible for Cloudkitty
 InfluxDB storage system deployment. The feature of InfluxDB as the
 storage backend for Cloudkitty was created with the following commit
 https://github.com/openstack/cloudkitty/commit/
 c4758e78b49386145309a44623502f8095a2c7ee

Problem Description
===================

With the addition of support for InfluxDB in Cloudkitty, which is
achieving general availability via Stein release, we need a method to
easily configure/support this storage backend system via Kolla-ansible.

Kolla-ansible is already able to deploy and configure an InfluxDB
system. Therefore, this proposal will use the InfluxDB deployment
configured via Kolla-ansible to connect to CloudKitty and use it as a
storage backend.

If we do not provide a method for users (operators) to manage
Cloudkitty storage backend via Kolla-ansible, the user has to execute
these changes/configurations manually (or via some other set of
automated scripts), which creates distributed set of configuration
files, ""configurations"" scripts that have different versioning schemas
and life cycles.

Proposed Change
===============

Architecture
------------

We propose a flag that users can use to make Kolla-ansible configure
CloudKitty to use InfluxDB as the storage backend system. When
enabling this flag, Kolla-ansible will also enable the deployment of
the InfluxDB via Kolla-ansible automatically.

CloudKitty will be configured accordingly to [1] and [2]. We will also
externalize the ""retention_policy"", ""use_ssl"", and ""insecure"", to
allow fine granular configurations to operators. All of these
configurations will only be used when configured; therefore, when they
are not set, the default value/behavior defined in Cloudkitty will be
used. Moreover, when we configure ""use_ssl"" to ""true"", the user will
be able to set ""cafile"" to a custom trusted CA file. Again, if these
variables are not set, the default ones in Cloudkitty will be used.

Implementation
--------------
We need to introduce a new variable called
`cloudkitty_storage_backend`. Valid options are `sqlalchemy` or
`influxdb`. The default value in Kolla-ansible is `sqlalchemy` for
backward compatibility. Then, the first step is to change the
definition for the following variable:
`/ansible/group_vars/all.yml:enable_influxdb: ""{{ enable_monasca |
bool }}""`

We also need to enable InfluxDB when CloudKitty is configured to use
it as the storage backend. Afterwards, we need to create tasks in
CloudKitty configurations to create the InfluxDB schema and configure
the configuration files accordingly.

Alternatives
------------
The alternative would be to execute the configurations manually or
handle it via a different set of scripts and configurations files,
which can become cumbersome with time.

Security Impact
---------------
None identified by the author of this spec

Notifications Impact
--------------------
Operators that are already deploying CloudKitty with InfluxDB as
storage backend would need to convert their configurations to
Kolla-ansible (if they wish to adopt Kolla-ansible to execute these
tasks).

Also, deployments (OpenStack environments) that were created with
Cloudkitty using storage v1 will need to migrate all of their data to
V2 before enabling InfluxDB as the storage system.

Other End User Impact
---------------------
None.

Performance Impact
------------------
None.

Other Deployer Impact
---------------------
New configuration options will be available for CloudKitty.
* cloudkitty_storage_backend
* cloudkitty_influxdb_retention_policy
* cloudkitty_influxdb_use_ssl
* cloudkitty_influxdb_cafile
* cloudkitty_influxdb_insecure_connections
* cloudkitty_influxdb_name

Developer Impact
----------------
None

Implementation
==============

Assignee
--------
* `Rafael Weingärtner <rafaelweingartne>`

Work Items
----------
 * Extend InfluxDB ""enable/disable"" variable
 * Add new tasks to configure Cloudkitty accordingly to these new
 variables that are presented above
 * Write documentation and release notes

Dependencies
============
None

Documentation Impact
====================
New documentation for the feature.

References
==========
[1] `https://docs.openstack.org/cloudkitty/latest/admin/configuration/storage.html#influxdb-v2`
[2] `https://docs.openstack.org/cloudkitty/latest/admin/configuration/collector.html#metric-collection`

Change-Id: I65670cb827f8ca5f8529e1786ece635fe44475b0
Signed-off-by: Rafael Weingärtner <rafael@apache.org>
"
openstack%2Fheat-tempest-plugin~master~I01313d557e415bb0b0d8df310c445e63190f4505,openstack/heat-tempest-plugin,master,story/2006144,I01313d557e415bb0b0d8df310c445e63190f4505,Use floating_network_name instead of 'public',MERGED,2019-07-01 13:14:16.000000000,2019-07-04 03:42:09.000000000,2019-07-04 03:42:09.000000000,1,1,0,668458,374fdb793bd6573a0e1479396930ea2dc1b5c66f,15,3,2,1,25613,Keigo Noha,knoha,"Use floating_network_name instead of 'public'

In RemoteDeeplyNestedStackTest, network name is assigned as 'public'.
However, there is no guarantee to have 'public' network.
Instead of using the hardcoded network name, we should use
floating_network_name assigned in conf file.

Change-Id: I01313d557e415bb0b0d8df310c445e63190f4505
Story: #2006144
Task: 35640
"
openstack%2Fkolla-ansible~stable%2Fstein~I4a5ebcedaccb9261dbc958ec67e8077d7980e496,openstack/kolla-ansible,stable/stein,,I4a5ebcedaccb9261dbc958ec67e8077d7980e496,Use become for all docker tasks,MERGED,2019-06-18 18:28:29.000000000,2019-07-04 03:30:57.000000000,2019-07-04 03:30:57.000000000,403,17,0,666140,a11d376389fed5a7c61c2f5e0e368a007bcea33e,29,7,6,203,14826,Mark Goddard,mgoddard,"Use become for all docker tasks

Many tasks that use Docker have become specified already, but
not all. This change ensures all tasks that use the following
modules have become:

* kolla_docker
* kolla_ceph_keyring
* kolla_toolbox
* kolla_container_facts

It also adds become for 'command' tasks that use docker CLI.

Change-Id: I4a5ebcedaccb9261dbc958ec67e8077d7980e496
(cherry picked from commit b123bf662129fea4ad44dbc7975009a081dded1c)
"
openstack%2Fmurano~master~I8f239503acb2f7d9a7330ed093e77e69ff52701c,openstack/murano,master,,I8f239503acb2f7d9a7330ed093e77e69ff52701c,Add Python 3 Train unit tests,MERGED,2019-07-03 09:06:20.000000000,2019-07-04 03:30:53.000000000,2019-07-04 03:30:53.000000000,3,3,0,668834,e9cde491c08caa49af0dadc38071ab0589e85465,6,2,1,3,14107,zhurong,zhurong,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I8f239503acb2f7d9a7330ed093e77e69ff52701c
Story: #2005924
Task: #34214
"
openstack%2Fpython-muranoclient~master~I7234a0d87b66095a2acabbb0f17cbc0438de0ee0,openstack/python-muranoclient,master,,I7234a0d87b66095a2acabbb0f17cbc0438de0ee0,Add Python 3 Train unit tests,MERGED,2019-07-03 09:19:15.000000000,2019-07-04 03:28:46.000000000,2019-07-04 03:28:46.000000000,3,3,0,668838,e4db579c4be4a94c74a958857b33fa1d5d972f6c,8,2,1,3,14107,zhurong,zhurong,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I7234a0d87b66095a2acabbb0f17cbc0438de0ee0
Story: #2005924
Task: #34214
"
openstack%2Fpython-tripleoclient~master~I1f028e9ea14f6f5a9fe6ccf608be08b9fd569b9e,openstack/python-tripleoclient,master,bp/podman-support,I1f028e9ea14f6f5a9fe6ccf608be08b9fd569b9e,Implement tripleo container image delete command,MERGED,2019-06-05 17:50:44.000000000,2019-07-04 03:12:09.000000000,2019-07-04 03:12:09.000000000,118,0,4,663391,978e16efdb7e88b13bd572412dc989e00ba17064,53,7,12,4,27427,David Peacock,davidjpeacock,"Implement tripleo container image delete command

This patch implements the tripleo container image delete command.

Change-Id: I1f028e9ea14f6f5a9fe6ccf608be08b9fd569b9e
"
openstack%2Fmurano-agent~master~I98fd786e292e1da946181f15dd3fe91ff3338508,openstack/murano-agent,master,,I98fd786e292e1da946181f15dd3fe91ff3338508,Add Python 3 Train unit tests,MERGED,2019-07-03 09:21:21.000000000,2019-07-04 02:48:26.000000000,2019-07-04 02:48:26.000000000,3,3,0,668839,a026aa2e2f38bcfe072fb9cdfa6e9719f6fda5c6,8,2,1,3,14107,zhurong,zhurong,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I98fd786e292e1da946181f15dd3fe91ff3338508
Story: #2005924
Task: #34214
"
openstack%2Fmurano-pkg-check~master~I0422484258cd7590853f6de978a174a47d1d202a,openstack/murano-pkg-check,master,,I0422484258cd7590853f6de978a174a47d1d202a,Add Python 3 Train unit tests,MERGED,2019-07-03 09:23:21.000000000,2019-07-04 02:47:09.000000000,2019-07-04 02:47:09.000000000,3,3,0,668841,18119f5e9d5a9d706c13188e057cb5b242c51f89,8,2,1,3,14107,zhurong,zhurong,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I0422484258cd7590853f6de978a174a47d1d202a
Story: #2005924
Task: #34214
"
openstack%2Fkarbor~master~I92d973712c9d3c560dd9cbcf019e480a9697243c,openstack/karbor,master,,I92d973712c9d3c560dd9cbcf019e480a9697243c,Add unit test for protect_operation,ABANDONED,2019-07-02 08:55:11.000000000,2019-07-04 02:46:03.000000000,,11,0,0,668637,b1502ae3468566cf15d753ec2293a581abec02f7,3,2,1,1,29572,YUHAN,YUHAN,"Add unit test for protect_operation

Change-Id: I92d973712c9d3c560dd9cbcf019e480a9697243c
"
openstack%2Fpuppet-keystone~master~I67259233996caed153446d70ecf037a9bae1c908,openstack/puppet-keystone,master,bug/1835162,I67259233996caed153446d70ecf037a9bae1c908,Change memcache_socket_timeout to a float,MERGED,2019-07-03 07:23:41.000000000,2019-07-04 02:24:18.000000000,2019-07-04 02:24:18.000000000,14,9,0,668805,be06ab40d321e09185f61990e601436df129e3d7,8,4,1,3,9414,zhongshengping,ZhongShengping,"Change memcache_socket_timeout to a float

see https://review.opendev.org/#/c/519353/

Change-Id: I67259233996caed153446d70ecf037a9bae1c908
Closes-Bug: #1835162
"
openstack%2Frequirements~master~I5b82b6d734cbf37d15b61d6b83fcb1e53d1eb2b9,openstack/requirements,master,new-release,I5b82b6d734cbf37d15b61d6b83fcb1e53d1eb2b9,update constraint for neutron-lib to new release 1.28.0,MERGED,2019-07-03 14:47:43.000000000,2019-07-04 01:56:02.000000000,2019-07-04 01:56:02.000000000,1,1,0,668928,526227ae9ebee78cf655de44368482f8aabfae2e,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for neutron-lib to new release 1.28.0

Change-Id: I5b82b6d734cbf37d15b61d6b83fcb1e53d1eb2b9
meta:version: 1.28.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Jens Harbott <j.harbott@x-ion.de>
meta:release:Commit: Jens Harbott <j.harbott@x-ion.de>
meta:release:Change-Id: If9bcfc80cb75382b70ddc5937ed39a176ab8956f
"
openstack%2Fnova~master~Id4a4e1ae4c0acd40c1fc32c3b82a8d8a62d4624d,openstack/nova,master,bug/1555521,Id4a4e1ae4c0acd40c1fc32c3b82a8d8a62d4624d,Require at least cryptography>=2.7,MERGED,2019-06-27 01:15:42.000000000,2019-07-04 01:55:58.000000000,2019-07-04 01:55:58.000000000,2,2,0,667765,6caedfd97675940eb3cf07e2f019926dae45d02c,37,15,2,2,4690,melanie witt,melwitt,"Require at least cryptography>=2.7

Version 2.6 of the cryptography library [1] added support for ed25519
ssh keys. This works with OpenSSL >= 1.1.1b.

In nova, we can enable people to use ed25519 ssh keys by using the
necessary cryptography library version. Users must make sure they have
a new enough OpenSSL version, else they won't be able to generate
ed25519 ssh keys using ssh-keygen in the first place. I did a local
test using Ubuntu 18.04 and things ""just worked"" when I generated a
ed25519 ssh key and imported it into nova. I left a comment on the
launchpad bug accordingly.

This updates our minimum version to the latest available version 2.7.

Closes-Bug: #1555521

[1] https://cryptography.io/en/latest/changelog/#v2-6

Change-Id: Id4a4e1ae4c0acd40c1fc32c3b82a8d8a62d4624d
"
openstack%2Fironic-inspector~master~Ie369251bb11f36006c3921b3b40800288b49bbc2,openstack/ironic-inspector,master,665836,Ie369251bb11f36006c3921b3b40800288b49bbc2,Enable processing of active nodes,MERGED,2019-06-18 00:42:22.000000000,2019-07-04 01:23:24.000000000,2019-07-04 01:23:23.000000000,74,6,17,665836,46a90d6dad73b32862abc59c6a7ec163ef144640,27,7,4,5,11655,Julia Kreger,jkreger,"Enable processing of active nodes

Change-Id: Ie369251bb11f36006c3921b3b40800288b49bbc2
Story: 2005896
Task: 33755
"
openstack%2Fopenstack-helm-infra~master~I25eb8a237a6f8ad63bde725b1d4f31a928fa7c49,openstack/openstack-helm-infra,master,,I25eb8a237a6f8ad63bde725b1d4f31a928fa7c49,Add a configmap for mariadb ingress controller,MERGED,2019-05-16 13:15:06.000000000,2019-07-04 01:07:53.000000000,2019-07-04 01:07:53.000000000,31,0,3,659560,c53b1fa86d8b6a38fa75629d5a8d8ef86f9a5052,16,5,4,3,28412,Yi Wang,wangyi4,"Add a configmap for mariadb ingress controller

The configmap is for mariab ingress controller configuration. It is
to enable the capability of overriding default nginx configurations
in the controller.

Change-Id: I25eb8a237a6f8ad63bde725b1d4f31a928fa7c49
Signed-off-by: Yi Wang <yi.c.wang@intel.com>
"
openstack%2Fcontributor-guide~master~Ib9e85ce3a7cd7f2ec1bdf5fb84cded06d5326d31,openstack/contributor-guide,master,,Ib9e85ce3a7cd7f2ec1bdf5fb84cded06d5326d31,Fix translation error,ABANDONED,2019-07-03 09:22:30.000000000,2019-07-04 00:40:08.000000000,,1,1,0,668840,adb6dbfa0ff1edb2e190cb0da76c10b6b11295b9,5,3,1,1,20100,Shaoman Zhang,zhang.shaoman,"Fix translation error

Fix translation error for zh_CN

Change-Id: Ib9e85ce3a7cd7f2ec1bdf5fb84cded06d5326d31
"
openstack%2Fopenstack-helm-infra~master~I6e7f7b32572308345963728f2f884c1514ca122d,openstack/openstack-helm-infra,master,osd-cron-move,I6e7f7b32572308345963728f2f884c1514ca122d,[Ceph Enhancement] Move ceph-defragosds cron job to ceph-client chart,MERGED,2019-03-06 04:56:18.000000000,2019-07-04 00:36:12.000000000,2019-07-04 00:36:12.000000000,51,18,0,641198,25f4f17f8ebba1fab8040c07c0192850ed260a15,32,10,9,6,24165,Renis Makadia,renmak,"[Ceph Enhancement] Move ceph-defragosds cron job to ceph-client chart

- Move the cron manifests to ceph-client chart
- Keep the script that actually does the work in Ceph-OSD
- with this PS, ceph-defragosds will be started after Ceph-Client chart
gets deployed. In the cronjob, it will exec to a running OSD pod and
execute the script.

Change-Id: I6e7f7b32572308345963728f2f884c1514ca122d
"
openstack%2Fopenstack-helm-infra~master~I4b2e4b0eee244d102b503bee4adbbae857863c8d,openstack/openstack-helm-infra,master,ceph-charts-cleanup,I4b2e4b0eee244d102b503bee4adbbae857863c8d,Ceph-Client: Cleanup for unused values,MERGED,2019-06-25 16:03:18.000000000,2019-07-04 00:30:31.000000000,2019-07-04 00:30:30.000000000,0,12,0,667394,8275ad7d2f42431caca141bb790156c639c0e8f2,20,8,5,1,28372,chinasubbareddy mallavarapu,chinasubbareddy,"Ceph-Client: Cleanup for unused values

This is just to cleanup client chart for provisioner references.

Change-Id: I4b2e4b0eee244d102b503bee4adbbae857863c8d
"
openstack%2Fopenstack-helm-infra~master~I98971106e202a9c4fd9d236f368492c6c6498ce1,openstack/openstack-helm-infra,master,,I98971106e202a9c4fd9d236f368492c6c6498ce1,Ceph-osd: update helm tests logic for osds,MERGED,2019-07-02 19:16:14.000000000,2019-07-04 00:30:29.000000000,2019-07-04 00:30:29.000000000,8,3,0,668744,c8dd26f1d331a520f64cbc090726696e03d407e7,18,6,6,1,28372,chinasubbareddy mallavarapu,chinasubbareddy,"Ceph-osd: update helm tests logic for osds

This is to update helm test logic to test and exit if
there are no osds up in the cluster.

This may heppen when we miss ceph-osd label on the nodes.

Change-Id: I98971106e202a9c4fd9d236f368492c6c6498ce1
"
openstack%2Fopenstack-helm-infra~master~I42c62bca73dd3d257154a3141f8902d607789ac3,openstack/openstack-helm-infra,master,,I42c62bca73dd3d257154a3141f8902d607789ac3,Add OpenStack instance panel to grafana dashboard,MERGED,2019-06-20 10:56:14.000000000,2019-07-04 00:09:45.000000000,2019-07-04 00:09:44.000000000,106,0,0,666538,79a2b09d4b6bcc2527e9a91590aa9a793169b1dc,11,6,1,1,30252,Hemant Sonawane,hemant.sonawane@itera.io,"Add OpenStack instance panel to grafana dashboard

Add new openstack instance panel to grafana dashboard to see the status
of instances.

Change-Id: I42c62bca73dd3d257154a3141f8902d607789ac3
"
openstack%2Fgovernance-uc~master~I100af39a24a5cc436a18116c04a76eecf2cdcb1f,openstack/governance-uc,master,,I100af39a24a5cc436a18116c04a76eecf2cdcb1f,Corrected pointer to the UC wiki page,MERGED,2019-03-19 21:42:30.000000000,2019-07-03 23:38:24.000000000,2019-07-03 23:38:24.000000000,1,1,0,644686,ef83b58a36988a82237e25d10b5b7d86fcd709ff,11,7,1,1,24100,John Studarus,john.studarus,"Corrected pointer to the UC wiki page

The old link points to a page that doesn't exist anymore...
This new link has the correct wiki as well as a link to the user-committee mailing list allowing users to reach the UC

Change-Id: I100af39a24a5cc436a18116c04a76eecf2cdcb1f
"
openstack%2Fproject-team-guide~master~I8ef7cbd5fc81fd1e33e081bd460554a247e89bf5,openstack/project-team-guide,master,updates_and_onboarding,I8ef7cbd5fc81fd1e33e081bd460554a247e89bf5,Add Project Update info to Events Section,MERGED,2019-06-26 19:02:33.000000000,2019-07-03 23:21:25.000000000,2019-07-03 23:21:25.000000000,13,2,3,667709,aeeb60e202ca58d0943f4960d4f2000a7eeee55d,18,5,4,1,16708,Kendall Nelson,kjnelson,"Add Project Update info to Events Section

I routinely have PTLs ask if they need to submit project
updates or onboarding to the CFP. They do not. Both
types of sessions are handled separately. This patch
adds directions about the project updates.

Since project onboarding will be different for Shanghai I did
not add that info in this patch. For Shanghai, the project
onboarding sessions will be a part of the PTG, where normally
they would be part of the Forum.

Change-Id: I8ef7cbd5fc81fd1e33e081bd460554a247e89bf5
"
openstack%2Ftripleo-heat-templates~master~Ia455702d75a450f1c3ac88ed69853e9b98b98644,openstack/tripleo-heat-templates,master,ovn-fix-ctrlport-fw,Ia455702d75a450f1c3ac88ed69853e9b98b98644,Fix ovn dbs control port,MERGED,2019-07-01 13:38:20.000000000,2019-07-03 23:16:33.000000000,2019-07-03 23:16:33.000000000,8,0,3,668462,8775e2d5aa3e29137aadd2419ca89fbec4beb499,27,11,1,1,20172,Michele Baldessari,michele,"Fix ovn dbs control port

When an OCF bundle is managed by pacemaker it runs pacemaker-remote
inside the container. The communication between the pacemaker cluster
and the remote happens through a so-called control port. In the case of
ovn-dbs, this port is set to 3125 by default:
https://github.com/openstack/puppet-tripleo/blob/master/manifests/profile/pacemaker/ovn_dbs_bundle.pp#L62

We need to make sure that the cluster is always able to connect to said
port as the connection might come from a cluster node that is not the
same node where the ovn bundle is running.

This has worked so far only by pure luck because pacemaker will retry
the connection from each controller node and eventually when the
connection comes from the same host as the one where the bundle is
running it succeeds (INPUT rules do not apply to same-host connections).

Tested and correctly observed port 3125/tcp being open in iptables:
* Before
[root@controller-0]# iptables -nvL INPUT |grep 3125
[root@controller-0]#

* After
[root@controller-0]# iptables -nvL INPUT |grep 3125
    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 3125,6641,6642 state NEW /* 121 OVN DB server ports ipv4 */

Closes-Bug: #1834856
Change-Id: Ia455702d75a450f1c3ac88ed69853e9b98b98644
"
openstack%2Fmanila~stable%2Fqueens~I90cda99692359dfb7d228a031688b2ce245365ff,openstack/manila,stable/queens,,I90cda99692359dfb7d228a031688b2ce245365ff,DNM - test only,ABANDONED,2019-07-03 13:45:19.000000000,2019-07-03 23:09:11.000000000,,0,0,0,668908,a6ea5844920ffcbb2b98a8cdc7a40a97595d369b,5,3,1,1,9003,Tom Barron,tbarron,"DNM - test only

Change-Id: I90cda99692359dfb7d228a031688b2ce245365ff
"
openstack%2Fnova~master~Ie29307d7b4a6d0118a93d2390141403ebe8d5353,openstack/nova,master,CinderFixture,Ie29307d7b4a6d0118a93d2390141403ebe8d5353,Rename CinderFixtureNewAttachFlow to CinderFixture,MERGED,2019-07-01 21:03:14.000000000,2019-07-03 23:00:19.000000000,2019-07-03 23:00:19.000000000,48,49,0,668561,86b78739b8cb9aebe96e474b69a4977a92e2472f,15,10,1,19,14070,Eric Fried,efried,"Rename CinderFixtureNewAttachFlow to CinderFixture

The old CinderFixture is gone, so CinderFixtureAttachNewFlow is the new
CinderFixture.

Change-Id: Ie29307d7b4a6d0118a93d2390141403ebe8d5353
"
openstack%2Fpython-tripleoclient~master~I7222a116974458b9149771cb44f7d5f7bc51bc79,openstack/python-tripleoclient,master,bp/validation-framework,I7222a116974458b9149771cb44f7d5f7bc51bc79,Add log_path_dir parameter,MERGED,2019-07-02 12:59:52.000000000,2019-07-03 22:58:54.000000000,2019-07-03 22:58:54.000000000,14,4,0,668672,9de3452cf39d5d8bbb75f20a5e8b444793d98000,19,9,4,2,11491,Gael Chamoulaud,gchamoul,"Add log_path_dir parameter

This patch adds a new parameter called 'log_path_dir' (Defaults to None)
to the 'run_ansible_playbook' function. The Ansible log file will be
created in the location of the playbook by default, otherwise in the given
directory path.

Change-Id: I7222a116974458b9149771cb44f7d5f7bc51bc79
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Ftripleo-common~stable%2Fstein~I1809400d798d4350f9642a348ecbe81714e6af47,openstack/tripleo-common,stable/stein,lp1834456-stable/stein,I1809400d798d4350f9642a348ecbe81714e6af47,Check third-party container image metadata.,MERGED,2019-07-01 16:11:43.000000000,2019-07-03 22:53:47.000000000,2019-07-03 22:53:47.000000000,7,2,0,668511,bc54316c2a68b980ce795f30b81ebb1cc044e9be,11,11,1,1,25402,Francesco Pantano,fmount,"Check third-party container image metadata.

During the evaluation of a third parties image that doesn't
contain the expected metadata json, the image_uploader section
fails.
This commit adds the check on the returned dict and adds the
ability to use the fallback_tag.

Change-Id: I1809400d798d4350f9642a348ecbe81714e6af47
Closes-Bug: #1834456
(cherry picked from commit 67440277926e73ea0f8f913170c0013b068a99e6)
"
openstack%2Fplacement~master~I5469ce9c8bd35800d095a6026857e00888bcff03,openstack/placement,master,story/2006068,I5469ce9c8bd35800d095a6026857e00888bcff03,Inline AllocationRequestResource.__copy__ logic,ABANDONED,2019-06-29 20:53:26.000000000,2019-07-03 22:14:16.000000000,,8,14,1,668310,566b97fa040779105b547607a1cb9b8f807ffeb9,10,4,1,1,14070,Eric Fried,efried,"Inline AllocationRequestResource.__copy__ logic

The fix for story 2006068 via Ifb687698dd1aa434781d06c7f111d8969120bf71
included creating a __copy__ method in AllocationRequestResource to deal
with the way _consolidate_allocation_requests was merging
AllocationRequestResourceZ with the same rp+rc. That smelled a bit of
tight coupling, so this commit does it a different way: by explicitly
constructing the new AllocationRequestResource (without the error-prone
copy()ing) directly in _consolidate_allocation_requests.

Change-Id: I5469ce9c8bd35800d095a6026857e00888bcff03
Related-Story: #2006068
"
openstack%2Fplacement~master~I5e61c5aa1b384c1cd8cd14a49f69e09c726cf880,openstack/placement,master,story/2006068,I5e61c5aa1b384c1cd8cd14a49f69e09c726cf880,Move combining into AllocationRequestResource,ABANDONED,2019-06-29 20:45:25.000000000,2019-07-03 22:13:59.000000000,,29,12,0,668309,f5a1dee08e8d350e24719d426d1cfe8d871339a1,3,1,1,1,14070,Eric Fried,efried,"Move combining into AllocationRequestResource

The fix for story 2006068 via Ifb687698dd1aa434781d06c7f111d8969120bf71
included creating a __copy__ method in AllocationRequestResource to deal
with the way _consolidate_allocation_requests was merging
AllocationRequestResourceZ with the same rp+rc. That smelled a bit of
tight coupling, so this commit does it a different way: by creating a
static AllocationRequestResource.combine() method to house that logic.

Change-Id: I5e61c5aa1b384c1cd8cd14a49f69e09c726cf880
Related-Story: #2006068
"
openstack%2Fplacement~master~Ifb687698dd1aa434781d06c7f111d8969120bf71,openstack/placement,master,story/2006068,Ifb687698dd1aa434781d06c7f111d8969120bf71,Fix rg-rp mappings with group_policy=none,ABANDONED,2019-06-29 19:37:09.000000000,2019-07-03 22:13:30.000000000,,100,28,6,668307,71da565ec0cdebd285d31b35a4fd775846278a6a,9,3,2,4,14070,Eric Fried,efried,"Fix rg-rp mappings with group_policy=none

Under the bug in the referenced story, [restated] below,
_consolidate_allocation_requests was copying the first
AllocationRequestResource it saw for a givin rp+rc, and subsequently
just adding resource amounts to it, thereby losing the suffix
(RequestGroup) information from the 2nd+ AllocationRequestResourceZ for
that rp+rc.

This commit resolves the bug by changing
AllocationRequestResource.suffix (previously a single string) to
.suffixes (a set() of strings), and fixing
_consolidate_allocation_requests to properly add to that set when
merging AllocationRequestResourceZ for a given rp+rc combination.

The handler code to produce the rg-rp mappings is modified accordingly
to handle multiple suffixes (instead of just one) per
AllocationRequestResource.

[restated]
GET /allocation_candidates
with group_policy=none
and two request groups
which consolidate to land on the same provider
should generate RequestGroup-to-ResourceProvider mappings with two
entries: one from each request group to the (same) provider.

However, under the referenced bug, only one mapping was returned.

Change-Id: Ifb687698dd1aa434781d06c7f111d8969120bf71
Story: #2006068
Task: #34785
"
openstack%2Fnova~master~Ib4bcc6dc36723b9ddc9d8f8c2656d6e6b18bdeff,openstack/nova,master,bp/remove-cells-v1,Ib4bcc6dc36723b9ddc9d8f8c2656d6e6b18bdeff,Follow-up for I6a777b4b7a5729488f939df8c40e49bd40aec3dd,MERGED,2019-06-12 16:01:55.000000000,2019-07-03 21:42:10.000000000,2019-07-03 21:42:09.000000000,6,86,14,664967,215475e054d144deb945b7ead93adb1b8f8978b4,48,12,5,2,15334,Stephen Finucane,sfinucan,"Follow-up for I6a777b4b7a5729488f939df8c40e49bd40aec3dd

Remove some tests that, due to changes in the aforementioned patch, are
essentially duplicates now.

Change-Id: Ib4bcc6dc36723b9ddc9d8f8c2656d6e6b18bdeff
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~stable%2Fstein~Ie217523a8969326b27930d7f74e50e9b352ab7a1,openstack/nova,stable/stein,bug/1835070,Ie217523a8969326b27930d7f74e50e9b352ab7a1,Stabilize unshelve notification sample tests,MERGED,2019-07-03 07:25:21.000000000,2019-07-03 21:42:03.000000000,2019-07-03 21:42:03.000000000,2,0,0,668806,3bc6ff029ff24083844db363010988d8d08cff00,8,3,1,1,9708,Balazs Gibizer,gibi,"Stabilize unshelve notification sample tests

The notification sample test for unshelve waits for the instance to
reach ACTIVE state and then asserts if unshelve.end notification is
emitted properly. However the instance.vm_state is set to ACTIVE earlier[1]
than emitting the unshelve.end notification[2]. This can cause two
different test case failure.

1) _test_unshelve_server() fails with no ushelve.end notification
received.

2) _test_shelve_and_shelve_offload_server() also has a unshelve action
at the end and that test step also only waits for the the ACTIVE state.
So the unshelve.end notification from the end of
_test_shelve_and_shelve_offload_server() can bleed into the
_test_unshelve_server() step causing that it receive one more
notifications.

So this patch adds an extra
self._wait_for_notification('instance.unshelve.end') call to each test
step to prevent the instability.

[1] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5322-L5326
[2] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5329
[3] https://github.com/openstack/nova/blob/5c6c1f8f/nova/tests/functional/notification_sample_tests/test_instance.py#L836

Closes-Bug: #1835070

Change-Id: Ie217523a8969326b27930d7f74e50e9b352ab7a1
(cherry picked from commit 40f1e7c4c22dc6023614b34f28bb7fc416b668a8)
"
openstack%2Fopenstack-helm-images~master~I7061bdc3c7c325a8978cee4f6946649b2e4f7a1c,openstack/openstack-helm-images,master,,I7061bdc3c7c325a8978cee4f6946649b2e4f7a1c,Upstream to new location first time (5th trial),ABANDONED,2019-07-03 11:37:09.000000000,2019-07-03 21:40:47.000000000,,329,0,4,668871,aa8e9edab722a0693e09d710959975c0a3a94431,6,5,1,1,30120,Colbert Philippe,cp0396,"Upstream to new location first time (5th trial)

Change-Id: I7061bdc3c7c325a8978cee4f6946649b2e4f7a1c
"
openstack%2Fpuppet-ironic~master~I08016ca7b82e6987a341ffb8e3c0e5bfc872e46f,openstack/puppet-ironic,master,,I08016ca7b82e6987a341ffb8e3c0e5bfc872e46f,Do not use deprecated wsgi_script_source,MERGED,2019-07-03 14:05:26.000000000,2019-07-03 21:29:12.000000000,2019-07-03 21:29:12.000000000,11,4,0,668913,e7516d3dc8d9cdd101538b222c19aa562e931fc0,14,6,2,3,13861,yatin,yatinkarel,"Do not use deprecated wsgi_script_source

app.wsgi script is deprecated for long in ironic
in favor of ironic-api-wsgi script, the deprecated script
is now removed in [1]. Let's use ironic-api-wsgi script
as a wsgi_script_source path.

[1] https://review.opendev.org/#/c/668515/

Change-Id: I08016ca7b82e6987a341ffb8e3c0e5bfc872e46f
"
openstack%2Fironic-inspector~master~Ida731235367ea9931e9e6b2bd848f1c7ca657075,openstack/ironic-inspector,master,668712,Ida731235367ea9931e9e6b2bd848f1c7ca657075,"Revert ""Lets temporarily disable broken templates so we can fix gate""",MERGED,2019-07-02 16:50:17.000000000,2019-07-03 21:18:59.000000000,2019-07-03 21:18:59.000000000,11,11,0,668713,a6509bad53116919e3fdb8ccfaf3c1ef22740a79,22,4,2,1,11655,Julia Kreger,jkreger,"Revert ""Lets temporarily disable broken templates so we can fix gate""

This reverts commit 497db8479bfb2f1d2895f65bb6e721b6259b8a66.

Change-Id: Ida731235367ea9931e9e6b2bd848f1c7ca657075
"
openstack%2Fopenstack-helm-infra~master~I48048cffc70c67894db23477b7e0c9bc460fed89,openstack/openstack-helm-infra,master,backup-date-fix,I48048cffc70c67894db23477b7e0c9bc460fed89,WIP: MariaDB: Update backup scripts,ABANDONED,2019-04-08 16:20:43.000000000,2019-07-03 21:09:05.000000000,,28,47,2,650950,7f6d727227343bbc7ca38f3410e4254ab24ef639,10,4,3,1,23928,Pete Birley,portdirect,"WIP: MariaDB: Update backup scripts

Change-Id: I48048cffc70c67894db23477b7e0c9bc460fed89
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fopenstack-helm~master~I52dd8b5513062242ad4f2c89bb4cc998dc5ef9c5,openstack/openstack-helm,master,,I52dd8b5513062242ad4f2c89bb4cc998dc5ef9c5,Using htk for glance security policies,MERGED,2019-07-01 17:51:48.000000000,2019-07-03 20:59:11.000000000,2019-07-03 20:59:11.000000000,8,2,1,668534,9d72b805d021a7a31f3635a08ccf387cd0a748df,12,10,2,2,29144,PRATEEK REDDY DODDA,pd2839,"Using htk for glance security policies

Overriding the values in values.yaml

Change-Id: I52dd8b5513062242ad4f2c89bb4cc998dc5ef9c5
"
openstack%2Fcharm-nova-cloud-controller~master~I81d9924bebe4009119505b1d5dccf2e498925c7e,openstack/charm-nova-cloud-controller,master,improve-ssh-key-management,I81d9924bebe4009119505b1d5dccf2e498925c7e,Refactor region notification code to not need unit,MERGED,2019-07-02 16:43:35.000000000,2019-07-03 20:18:27.000000000,2019-07-03 20:18:27.000000000,29,37,0,668711,452ac31663a87fd3198896fe2ff498a1fbade769,12,3,3,2,20870,Alex Kavanagh,ajkavanagh,"Refactor region notification code to not need unit

The (already) refactored region notification code checked for the
'region' value in the remote unit, despite the nova-compute charm not
setting the value.  This has been removed.  Now that the function only
needs to be set for the relation, it is no longer included in 'unit'
loops.

The utility function is also renamed to
set_region_on_relation_from_config to better reflect it's actual
function.

Change-Id: I81d9924bebe4009119505b1d5dccf2e498925c7e
Related-Bug: #1833420
"
openstack%2Fdevstack-plugin-ceph~master~Iea948bcc43315286e5c130485728152d4710bfcb,openstack/devstack-plugin-ceph,master,disable-ssh-validation,Iea948bcc43315286e5c130485728152d4710bfcb,Disable [validation]/run_validation in tempest.conf,MERGED,2019-04-24 15:31:44.000000000,2019-07-03 20:17:18.000000000,2019-07-03 20:17:18.000000000,2,0,0,655472,4a4481995303d97b5f646c6d3d008fbb3eab554e,11,6,1,1,6873,Matt Riedemann,mriedem,"Disable [validation]/run_validation in tempest.conf

Devstack and tempest default to enable ssh validation in
a lot of API tests which can fail intermittently:

  http://status.openstack.org/elastic-recheck/#1808010

Also see bug 1802971.

Since a ceph backend for storage shouldn't really have
any impact on whether or not ssh is going to work in a
tempest run, this change disables it in the
devstack-plugin-ceph-tempest jobs which should make the
job faster and more stable.

Change-Id: Iea948bcc43315286e5c130485728152d4710bfcb
"
openstack%2Fcharm-nova-cloud-controller~master~Id2774bb1551e4826a2fd71d1a371d65ab2439a7d,openstack/charm-nova-cloud-controller,master,improve-ssh-key-management,Id2774bb1551e4826a2fd71d1a371d65ab2439a7d,Refactor ssh_known_hosts_lines() and ssh_authorized_keys_lines(),MERGED,2019-07-01 09:33:11.000000000,2019-07-03 20:16:19.000000000,2019-07-03 20:16:18.000000000,240,107,0,668401,afa3c9a58e6b4cea4df3ed3921fa0e119d60028d,15,4,3,5,20870,Alex Kavanagh,ajkavanagh,"Refactor ssh_known_hosts_lines() and ssh_authorized_keys_lines()

Refactor ssh_known_hosts_lines() and ssh_authorized_keys_lines to be
easier to maintain and only call rstrip() once (per function).

Change-Id: Id2774bb1551e4826a2fd71d1a371d65ab2439a7d
"
openstack%2Fpython-openstackclient~master~I0a87e02e71ff025d30181fc17ebcd003a590f110,openstack/python-openstackclient,master,forced_down,I0a87e02e71ff025d30181fc17ebcd003a590f110,compute: limit the service's force down command above 2.10,MERGED,2018-06-19 13:08:10.000000000,2019-07-03 20:16:17.000000000,2018-06-24 13:28:43.000000000,25,11,1,576514,956eabe96783727d6e86e3896cacf89fb893e0f5,13,5,1,2,5754,Alex Xu,xuhj,"compute: limit the service's force down command above 2.10

The force down action is added in Microversion 2.11, we should limit
the command only can be executed when the microversion is above 2.10.

Change-Id: I0a87e02e71ff025d30181fc17ebcd003a590f110
"
openstack%2Fcharm-nova-cloud-controller~master~I45bc9a889968796572a61c199ac25d543c064670,openstack/charm-nova-cloud-controller,master,improve-ssh-key-management,I45bc9a889968796572a61c199ac25d543c064670,Refactor update_ssh_keys_and_notify_compute_units(),MERGED,2019-06-28 15:21:29.000000000,2019-07-03 20:15:53.000000000,2019-07-03 20:15:53.000000000,152,56,15,668190,0c96b7177ac3c19665d2b8205dac32ac2096098d,20,4,3,2,20870,Alex Kavanagh,ajkavanagh,"Refactor update_ssh_keys_and_notify_compute_units()

This patchset refactors the update_ssh_keys_and_notify_compute_units()
into two separate halves: one is ""update keys and hosts from a specified
unit on a relation (or the current relation/unit for the hook)"" and the
other is update the relation_set data for the relation with the found
keys/hosts.

This is a precusor patch to reducing the number of dns queries and
setting of relation data, and to eliminate repeated operations on the
same data/result (which currently happens).

Change-Id: I45bc9a889968796572a61c199ac25d543c064670
Related-Bug: 1833420
"
openstack%2Fcharm-nova-cloud-controller~master~I59e52076480729beec9e125f66714a208303908d,openstack/charm-nova-cloud-controller,master,improve-ssh-key-management,I59e52076480729beec9e125f66714a208303908d,Refactor compute_changed() hook handler,MERGED,2019-06-26 15:29:17.000000000,2019-07-03 20:15:52.000000000,2019-07-03 20:15:52.000000000,100,33,12,667652,cb60bab6f7124bf6ba42d0b4fd1470e8b6dc3991,16,4,2,2,20870,Alex Kavanagh,ajkavanagh,"Refactor compute_changed() hook handler

The compute_changed() function (which handled the cloud-compute relation
changed hook event) was also used in the config-changed and update-charm
hooks.  This meant that it did a lot of work that wasn't necessary for
those hooks.

This patch splits the function up into separate functions that deal with
one thing, and then introduces a new function to call those.  This means
that the other usages compute_changed() now use the actual features that
they need.

Change-Id: I59e52076480729beec9e125f66714a208303908d
Related-Bug: 1833420
"
openstack%2Fironic-inspector~master~Id6d56860a4e47f28c875ed6032e1f99a997aea9b,openstack/ironic-inspector,master,bmc-v6address,Id6d56860a4e47f28c875ed6032e1f99a997aea9b,Use bmc ipv6 address while processing introspection data,MERGED,2019-05-27 08:31:21.000000000,2019-07-03 20:01:29.000000000,2019-07-03 20:01:29.000000000,87,18,48,661563,fcb0ca8a6e79e3fea766bfa0e0380933a48008ba,52,8,6,9,8767,Nikolay Fedotov,nfedotov,"Use bmc ipv6 address while processing introspection data

Change-Id: Id6d56860a4e47f28c875ed6032e1f99a997aea9b
Story: #2005779
Task: #33503
"
openstack%2Fcharm-keystone-saml-mellon~master~Ia73cd633f2948080e9a892869074ed2775ecc33c,openstack/charm-keystone-saml-mellon,master,bug/1833202,Ia73cd633f2948080e9a892869074ed2775ecc33c,Fix get-sp-metadata sp-metadata file location,MERGED,2019-06-18 10:35:50.000000000,2019-07-03 20:01:03.000000000,2019-07-03 20:01:03.000000000,13,4,0,665946,8a4b2cb7ccc311070e518201f0b762d8113eb328,14,5,3,3,24824,Dmitrii Shcherbakov,dmitriis,"Fix get-sp-metadata sp-metadata file location

get-sp-metadata action hardcodes the location of an sp metadata file
which is incorrect - it should use the application name to allow custom
application names and usage of multiple keystone-saml-mellon
applications (to have multiple IdPs).

In order to make unit testing easier the global variable for the sp
metadata file in actions.py is moved into a function so that it is
evaluated at the function call time, not module import time.

Change-Id: Ia73cd633f2948080e9a892869074ed2775ecc33c
Closes-Bug: #1833202
"
openstack%2Fpuppet-nova~master~I1abc672e58d4685f75fa7c237486e781dcc9227e,openstack/puppet-nova,master,remove_deprecated_metadata,I1abc672e58d4685f75fa7c237486e781dcc9227e,Remove deprecated metadata option from nova::api,MERGED,2019-07-02 12:33:19.000000000,2019-07-03 19:46:32.000000000,2019-07-03 19:46:32.000000000,5,35,0,668666,66f2e8e509941391c172b56f5b9e4310e5fa72dd,27,7,4,3,17216,Martin Schuppert,mcschupp,"Remove deprecated metadata option from nova::api

Removes deprecated neutron_metadata_proxy_shared_secret and
metadata_cache_expiration parameter from nova::api class.

Change-Id: I1abc672e58d4685f75fa7c237486e781dcc9227e
"
openstack%2Fmanila-tempest-plugin~master~I1490bf8f424181233aa3ea04a8410052b385699c,openstack/manila-tempest-plugin,master,bug/1833766,I1490bf8f424181233aa3ea04a8410052b385699c,"Look for api microversion header in ""Vary"" header data",MERGED,2019-07-02 07:29:48.000000000,2019-07-03 19:41:36.000000000,2019-07-03 19:41:36.000000000,10,5,2,668622,0ac95412b1b0555775b4d45f51c27af2fa84724a,13,5,2,1,19262,Liron Kuchlani,lkuchlan,"Look for api microversion header in ""Vary"" header data

Apache configuration adds ""Accept-Encoding"" to the ""Vary"" header
in its responses, this causes to failures in some tests which check
the ""Vary"" header content of the response.
In order to avoid this issue we should only check that api microversion
header axists in ""Vary"" header data.

Change-Id: I1490bf8f424181233aa3ea04a8410052b385699c
Related-bug: #1833766
"
openstack%2Fswift~master~I71f411a2e99fa8259b86f11ed29d1b816ff469cb,openstack/swift,master,,I71f411a2e99fa8259b86f11ed29d1b816ff469cb,s3token: fix conf option name,MERGED,2019-07-03 14:28:51.000000000,2019-07-03 19:39:21.000000000,2019-07-03 19:38:03.000000000,1,1,1,668919,345f577ff191ee01c3cb4626805338028815c2b4,7,2,1,1,15343,Tim Burke,tburke,"s3token: fix conf option name

Related-Change: Ica740c28b47aa3f3b38dbfed4a7f5662ec46c2c4
Change-Id: I71f411a2e99fa8259b86f11ed29d1b816ff469cb
"
openstack%2Fpython-novaclient~master~I76c9f982ff6cf46db25f626575257af483e3434e,openstack/python-novaclient,master,modify-url-of-upper_constraints_file,I76c9f982ff6cf46db25f626575257af483e3434e,Modify the url of upper_constraints_file,MERGED,2019-06-18 10:06:11.000000000,2019-07-03 19:34:58.000000000,2019-07-03 19:34:58.000000000,4,4,2,665934,54904711a29687fa9e5aa7981dd6da6443608a39,23,14,4,1,28239,zhaixiaojun,zhaixiaojun,"Modify the url of upper_constraints_file

As described at [1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I76c9f982ff6cf46db25f626575257af483e3434e
"
openstack%2Fkolla-ansible~master~I27f714fdf05e521aa8ce25c5683a452ceb35eeb8,openstack/kolla-ansible,master,use-template-override,I27f714fdf05e521aa8ce25c5683a452ceb35eeb8,CI: Use template-overrides.j2 from kolla,MERGED,2019-06-27 16:02:37.000000000,2019-07-03 19:34:51.000000000,2019-07-03 19:22:20.000000000,16,1,0,667971,20ab480ca541ad2c76d7bcdc57e0a076c7bf6df4,35,4,11,3,30491,Radosław Piliszek,yoctozepto,"CI: Use template-overrides.j2 from kolla

Some kolla-ansible jobs failed due to using external mirrors
instead of local ones.
This was due to not using the template override provided by kolla.
This patch fixes that.

Depends-On: https://review.opendev.org/668226
Change-Id: I27f714fdf05e521aa8ce25c5683a452ceb35eeb8
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fkolla-ansible~master~Ie5f9ae1bd5c45617c6b7fde0e490d471e172c24e,openstack/kolla-ansible,master,,Ie5f9ae1bd5c45617c6b7fde0e490d471e172c24e,Update the UPPER_CONSTRAINTS_FILE to releases.openstack.org,MERGED,2019-07-03 02:38:50.000000000,2019-07-03 19:28:15.000000000,2019-07-03 19:28:14.000000000,6,6,3,668777,f41531851f698a06664dbc857f59387f873b1f77,15,6,3,2,30356,gugug,gujin,"Update the UPPER_CONSTRAINTS_FILE to releases.openstack.org

1. Update the UPPER_CONSTRAINTS_FILE to releases.openstack.org[1]
2. Blacklist sphinx 2.1.0[2]

[1]: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
[2]: https://github.com/sphinx-doc/sphinx/issues/6440

Change-Id: Ie5f9ae1bd5c45617c6b7fde0e490d471e172c24e
"
openstack%2Fheat~stable%2Fstein~If9befe4115c64c2fda52321002ba5fe1124eaf7c,openstack/heat,stable/stein,bindep-fallback,If9befe4115c64c2fda52321002ba5fe1124eaf7c,Add local bindep.txt and limit bandit version,MERGED,2019-06-28 11:14:14.000000000,2019-07-03 19:26:22.000000000,2019-07-03 19:26:22.000000000,54,1,1,668144,916fd05627dddce33a577038f983e17295cc44e8,20,5,4,3,17685,Elod Illes,elod.illes,"Add local bindep.txt and limit bandit version

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

(cherry picked from commit d116b216965bbfc80840f5bfc994b731e2d29d81)

Note(elod.illes): patch was modified so that the test-requires files
are kept. An upper constraint was also added for bandit. This actually
freezes requirements (required by bandit) on stable branch.

Change-Id: If9befe4115c64c2fda52321002ba5fe1124eaf7c
"
openstack%2Fkayobe~master~I06c07108693766fd436a60a39f270c116931941e,openstack/kayobe,master,gnocchi-custom-config,I06c07108693766fd436a60a39f270c116931941e,Add support for custom Gnocchi configuration,MERGED,2019-05-31 14:49:21.000000000,2019-07-03 19:13:07.000000000,2019-07-03 19:13:07.000000000,35,0,0,662491,603527c215b08c47e213cd5115bc1637c9706ade,29,7,4,8,15197,Pierre Riteau,priteau,"Add support for custom Gnocchi configuration

Change-Id: I06c07108693766fd436a60a39f270c116931941e
Story: 2005810
Task: 33550
"
openstack%2Fkolla-ansible~master~Ie70e78869e628898f6a5e581d6db6b1457858815,openstack/kolla-ansible,master,fix-ceph-nfs-deploy,Ie70e78869e628898f6a5e581d6db6b1457858815,CI: Test ceph-nfs as well when testing ceph,ABANDONED,2019-06-19 07:51:53.000000000,2019-07-03 19:01:08.000000000,,1,0,0,666240,d31062a6a47a05cc11789aa5af007a9a0aa447f7,7,3,1,1,30491,Radosław Piliszek,yoctozepto,"CI: Test ceph-nfs as well when testing ceph

Depends-On: https://review.opendev.org/666239

Change-Id: Ie70e78869e628898f6a5e581d6db6b1457858815
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fpuppet-tripleo~master~Ie97449b6f3e5d3a6481e087803d1982d7c6387f3,openstack/puppet-tripleo,master,rsyslog-tls,Ie97449b6f3e5d3a6481e087803d1982d7c6387f3,Add TLS support for rsyslog,MERGED,2019-06-20 13:27:49.000000000,2019-07-03 18:40:12.000000000,2019-07-03 18:40:12.000000000,103,13,1,666573,bcb17115a375a291b7cb7872f272bb78e508cdd9,31,6,10,3,5241,Martin Magr,mmagr,"Add TLS support for rsyslog

This patch implements creation of TLS certs and key for Elasticsearch
connection.

Change-Id: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3
"
openstack%2Fopenstack-helm-infra~master~I4e5a44d4eb32052c565a443d9a159ac12ca49295,openstack/openstack-helm-infra,master,,I4e5a44d4eb32052c565a443d9a159ac12ca49295,Create new PS to delete number is square bracket.,ABANDONED,2019-07-01 13:51:45.000000000,2019-07-03 18:35:18.000000000,,144,0,0,668470,f8f5f12c52ca75950d92d60c52e32a9bd7d31177,3,1,1,1,30120,Colbert Philippe,cp0396,"Create new PS to delete number is square bracket.

Change-Id: I4e5a44d4eb32052c565a443d9a159ac12ca49295
"
openstack%2Fopenstack-helm-infra~master~Idabf7cc700447db4a523008e6a3a1581f98516c2,openstack/openstack-helm-infra,master,,Idabf7cc700447db4a523008e6a3a1581f98516c2,Second try to push changes to delete spaces,ABANDONED,2019-07-01 11:30:55.000000000,2019-07-03 18:34:18.000000000,,158,0,4,668442,91f6ad0193f82872c1e1440592ee112a74402a3c,4,5,1,5,30120,Colbert Philippe,cp0396,"Second try to push changes to delete spaces

Change-Id: Idabf7cc700447db4a523008e6a3a1581f98516c2
"
openstack%2Fdesignate~master~I312c1e364643daad6754c743678a9d5b4a6f9984,openstack/designate,master,postgress-job,I312c1e364643daad6754c743678a9d5b4a6f9984,Fix postgres job and make it non-voting for now,MERGED,2019-07-02 11:26:20.000000000,2019-07-03 18:29:23.000000000,2019-07-03 18:29:23.000000000,5,2,0,668657,d491cd78ff3ef85d1459977571e527e17c8d08bb,14,4,2,1,8099,Graham Hayes,graham,"Fix postgres job and make it non-voting for now

The job has been running with mysql instead of postgres for some time
and we need to iteratively fix the issues that have accumulated in the
meantime.

Change-Id: I312c1e364643daad6754c743678a9d5b4a6f9984
Signed-off-by: Graham Hayes <gr@ham.ie>
"
openstack%2Frenderspec~master~I273919cf4f47bf9859d71bc216cbf96e82a2a6f7,openstack/renderspec,master,,I273919cf4f47bf9859d71bc216cbf96e82a2a6f7,Add contextfunctions 'py2' and 'py3',MERGED,2019-07-03 12:30:58.000000000,2019-07-03 18:12:51.000000000,2019-07-03 18:12:51.000000000,54,0,0,668890,8083f1ed3c66d9eb5f369db37f52d1b9e9c1eecc,8,4,1,3,7102,Thomas Bechtold,toabctl,"Add contextfunctions 'py2' and 'py3'

Both are shortcuts to 'py2pkg' with specific py_versions set.
This is useful when defining BuildRequires that are eg. python3 only.

Change-Id: I273919cf4f47bf9859d71bc216cbf96e82a2a6f7
"
openstack%2Fironic-inspector~master~Icc055980c13696b29c512edf8c48abba924aa244,openstack/ironic-inspector,master,bandit,Icc055980c13696b29c512edf8c48abba924aa244,Adds bandit template and exclude some of tests,MERGED,2019-06-20 03:33:32.000000000,2019-07-03 18:06:48.000000000,2019-07-03 18:06:48.000000000,403,2,0,666480,30a4e0981ffa61cb33a9f5f46983bc6f70836323,18,7,2,3,24828,Kaifeng Wang,wangkf,"Adds bandit template and exclude some of tests

Adds bandit configuration template and exclude some of
tests that we don't want to fix for the moment.

Keeping job unvoted so that we can keep an eye on possible
issues while not breaking gate.

Change-Id: Icc055980c13696b29c512edf8c48abba924aa244
Story: 2005791
Task: 33563
"
openstack%2Fgovernance-uc~master~I54d0b0bd93ba4d152c2c7a55d105f3d749570546,openstack/governance-uc,master,Elections-August2019,I54d0b0bd93ba4d152c2c7a55d105f3d749570546,Use upper-constraints in tox runs,ABANDONED,2019-07-02 21:13:18.000000000,2019-07-03 17:54:22.000000000,,7,2,0,668758,b5014936d0df5e3af4f93ff883de92e5dae1b1f1,3,1,1,1,24100,John Studarus,john.studarus,"Use upper-constraints in tox runs

This fix stolen from:
https://review.opendev.org/#/c/658567/

The upper-constraints file wasn't being enforced
when installing dependencies in tox runs which can
lead to failures like installing Sphinx>2.0 in py27
where it's not supported.

This is loosely based on novaclient change
I8be883215f27abb58d15b85e8542cbdf32000bac for the
same kind of issue.

Change-Id: I54d0b0bd93ba4d152c2c7a55d105f3d749570546
"
openstack%2Fpuppet-heat~master~I00f5e43146a0b937d2dfafa080f37c3601eed809,openstack/puppet-heat,master,bug/1835162,I00f5e43146a0b937d2dfafa080f37c3601eed809,Change memcache_socket_timeout to a float,MERGED,2019-07-03 07:19:46.000000000,2019-07-03 17:49:33.000000000,2019-07-03 17:49:33.000000000,7,3,0,668804,169e0ad3ce99f21f6f468cabe7d4a61460faa987,8,4,1,3,9414,zhongshengping,ZhongShengping,"Change memcache_socket_timeout to a float

see https://review.opendev.org/#/c/519353/

Change-Id: I00f5e43146a0b937d2dfafa080f37c3601eed809
Closes-Bug: #1835162
"
openstack%2Fos-service-types~master~I48206450371b557f51b0842976d48c9042173df2,openstack/os-service-types,master,,I48206450371b557f51b0842976d48c9042173df2,Sync Sphinx requirement,MERGED,2019-06-19 16:29:52.000000000,2019-07-03 17:47:09.000000000,2019-07-03 17:47:09.000000000,8,7,0,666384,36a0dcaf8dd9159b59ee5dcf8dd3957ecfe0f188,9,5,1,4,28614,jacky06,jacky06,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Update some URLs to latest
3. Remove unncessary ""==""

Change-Id: I48206450371b557f51b0842976d48c9042173df2
"
openstack%2Ftripleo-heat-templates~master~I9222fb6cc0c84d871bd7d8a4808e1212fbaf3a4e,openstack/tripleo-heat-templates,master,bug/1832441,I9222fb6cc0c84d871bd7d8a4808e1212fbaf3a4e,"Revert ""Revert ""Remove os-collect-config related poperties and attributes""""",MERGED,2019-07-03 08:53:29.000000000,2019-07-03 17:44:32.000000000,2019-07-03 17:44:32.000000000,0,55,0,668831,5ba1fd2bc71081d510a272a8b3be347074e30328,9,8,1,2,8833,Rabi Mishra,rabi,"Revert ""Revert ""Remove os-collect-config related poperties and attributes""""

Root cause fix in heat https://review.opendev.org/#/c/668718/ has landed. 

This reverts commit b5a2a61dfea167ed96b52098dbd5807b3fae44a6.

Change-Id: I9222fb6cc0c84d871bd7d8a4808e1212fbaf3a4e
"
openstack%2Fgovernance-uc~master~Icd5f312d0a660d61b97cac70dff38b4b9e15fbb7,openstack/governance-uc,master,Elections-August2019,Icd5f312d0a660d61b97cac70dff38b4b9e15fbb7,August 2019 election details,MERGED,2019-07-01 16:50:58.000000000,2019-07-03 17:39:52.000000000,2019-07-03 17:39:52.000000000,56,0,0,668525,05c60479cd8c755eb4a0b34e47a45608a98a875f,25,6,5,1,24100,John Studarus,john.studarus,"August 2019 election details

includes fix where wrong version of Python was installed

Change-Id: Icd5f312d0a660d61b97cac70dff38b4b9e15fbb7
"
openstack%2Fpuppet-nova~master~I961ceec3b79ea876a02867482db995fd5499526c,openstack/puppet-nova,master,bug/1835162,I961ceec3b79ea876a02867482db995fd5499526c,Change memcache_socket_timeout to a float,MERGED,2019-07-03 07:25:41.000000000,2019-07-03 17:21:31.000000000,2019-07-03 17:21:31.000000000,7,3,0,668807,deb6a5da4b9a86e7b03af4df8c178cd71cc46200,10,4,1,3,9414,zhongshengping,ZhongShengping,"Change memcache_socket_timeout to a float

see https://review.opendev.org/#/c/519353/

Change-Id: I961ceec3b79ea876a02867482db995fd5499526c
Closes-Bug: #1835162
"
openstack%2Fpuppet-keystone~master~If9fc5c0bb5d6216b8656ee1673e1812c543de305,openstack/puppet-keystone,master,bug/1835161,If9fc5c0bb5d6216b8656ee1673e1812c543de305,Manage oslo_middleware/max_request_body_size,MERGED,2019-07-03 07:41:52.000000000,2019-07-03 17:21:30.000000000,2019-07-03 17:21:30.000000000,19,0,1,668812,a60980f3da715b5d4ac986ae515e5aed88b35b74,13,5,3,3,28248,Johan Guldmyr,martbhell,"Manage oslo_middleware/max_request_body_size

So that we can increase it from the default 114688

Useful in case for example the OS-Federation mapping is too large.

If this limit is breached keystone will return a 413 Entity Too Large
and not log anything to keystone.log.

Closes-Bug: #1835161

Change-Id: If9fc5c0bb5d6216b8656ee1673e1812c543de305
Signed-off-by: Johan Guldmyr <johan.guldmyr@csc.fi>
"
openstack%2Fironic-python-agent~stable%2Fqueens~I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909,openstack/ironic-python-agent,stable/queens,lshw-stable/queens,I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909,"Stop logging lshw output, collect it with other logs instead",MERGED,2019-06-18 05:46:13.000000000,2019-07-03 17:21:29.000000000,2019-07-03 17:21:28.000000000,13,5,0,665864,d0d47ce08f0cebed9eeb7e8d4d61219b267c06f7,8,4,1,4,10239,Dmitry Tantsur,dtantsur,"Stop logging lshw output, collect it with other logs instead

The lshw output is huge even on virtual machines, and it pollutes
the debug logging. This change silences it. Instead, the lshw output
is collected as part of the ramdisk logs.

Depends-On: https://review.opendev.org/#/c/665635/
Change-Id: I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909
(cherry picked from commit 94048fe97e93af3ad6902c3c1aa4ec5d92b41747)
"
openstack%2Fironic-python-agent~stable%2Fstein~I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909,openstack/ironic-python-agent,stable/stein,lshw-stable/stein,I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909,"Stop logging lshw output, collect it with other logs instead",MERGED,2019-06-18 05:45:53.000000000,2019-07-03 17:21:28.000000000,2019-07-03 17:21:27.000000000,13,5,0,665862,b41e98d04fb644b82c3b399fec3903c9632bc43e,8,4,1,4,10239,Dmitry Tantsur,dtantsur,"Stop logging lshw output, collect it with other logs instead

The lshw output is huge even on virtual machines, and it pollutes
the debug logging. This change silences it. Instead, the lshw output
is collected as part of the ramdisk logs.

Depends-On: https://review.opendev.org/#/c/665635/
Change-Id: I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909
(cherry picked from commit 94048fe97e93af3ad6902c3c1aa4ec5d92b41747)
"
openstack%2Fironic-python-agent~stable%2Fqueens~I7c55aee4b3b52cb414a595cf548e1f22e954f619,openstack/ironic-python-agent,stable/queens,formatting-stable/queens,I7c55aee4b3b52cb414a595cf548e1f22e954f619,Correct formatting of a warning when lshw cannot be run,MERGED,2019-06-27 10:24:23.000000000,2019-07-03 17:21:27.000000000,2019-07-03 17:21:27.000000000,1,1,0,667882,64548591bc87f36228414bb777825c38e5346335,6,2,1,1,10239,Dmitry Tantsur,dtantsur,"Correct formatting of a warning when lshw cannot be run

Change-Id: I7c55aee4b3b52cb414a595cf548e1f22e954f619
(cherry picked from commit 69064a8610134f7e6777083375487f15f7dbbc7b)
"
openstack%2Fironic-python-agent~stable%2Fstein~I7c55aee4b3b52cb414a595cf548e1f22e954f619,openstack/ironic-python-agent,stable/stein,formatting-stable/stein,I7c55aee4b3b52cb414a595cf548e1f22e954f619,Correct formatting of a warning when lshw cannot be run,MERGED,2019-06-27 10:24:03.000000000,2019-07-03 17:21:26.000000000,2019-07-03 17:21:26.000000000,1,1,0,667877,00d90387227165efa136441d5487a061e8ab2622,7,3,1,1,10239,Dmitry Tantsur,dtantsur,"Correct formatting of a warning when lshw cannot be run

Change-Id: I7c55aee4b3b52cb414a595cf548e1f22e954f619
(cherry picked from commit 69064a8610134f7e6777083375487f15f7dbbc7b)
"
openstack%2Fironic-inspector~stable%2Focata~Ic17e59267bf4ae814c5e734603b5c9307819e086,openstack/ironic-inspector,stable/ocata,bindep-fallback-stable/ocata,Ic17e59267bf4ae814c5e734603b5c9307819e086,add local bindep.txt,MERGED,2019-06-29 16:33:38.000000000,2019-07-03 17:21:25.000000000,2019-07-03 17:21:25.000000000,6,0,0,668299,36af5a5f34e90620f58ecc9da81d7eb90e2ca095,9,4,1,1,23851,Riccardo Pittau,elfosardo,"add local bindep.txt

Global bindep-fallback.txt was removed [1] and now projects need
to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086
"
openstack%2Fironic-inspector~stable%2Fpike~Ic17e59267bf4ae814c5e734603b5c9307819e086,openstack/ironic-inspector,stable/pike,bindep-fallback-stable/pike,Ic17e59267bf4ae814c5e734603b5c9307819e086,add local bindep.txt,MERGED,2019-06-29 16:33:26.000000000,2019-07-03 17:21:24.000000000,2019-07-03 17:21:24.000000000,6,0,0,668298,9a1e8823050bd1e9f4d25075c30fe49d6b45274b,7,3,1,1,23851,Riccardo Pittau,elfosardo,"add local bindep.txt

Global bindep-fallback.txt was removed [1] and now projects need
to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086
"
openstack%2Fironic-inspector~stable%2Fqueens~Ic17e59267bf4ae814c5e734603b5c9307819e086,openstack/ironic-inspector,stable/queens,bindep-fallback-stable/queens,Ic17e59267bf4ae814c5e734603b5c9307819e086,add local bindep.txt,MERGED,2019-06-29 16:33:16.000000000,2019-07-03 17:21:23.000000000,2019-07-03 17:21:23.000000000,6,0,0,668297,5d6796b38966bf29f748b8dbc167ff481cfed116,7,3,1,1,23851,Riccardo Pittau,elfosardo,"add local bindep.txt

Global bindep-fallback.txt was removed [1] and now projects need
to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086
"
openstack%2Fpuppet-oslo~master~Ia727f5467a3b499bc2af78868adf8c872be684e1,openstack/puppet-oslo,master,bug/1835162,Ia727f5467a3b499bc2af78868adf8c872be684e1,Change memcache_socket_timeout to a float,MERGED,2019-07-03 06:47:08.000000000,2019-07-03 17:04:15.000000000,2019-07-03 17:04:15.000000000,7,3,0,668792,08476e4e737ecf93dac4529071090738885e4bf2,7,3,1,3,9414,zhongshengping,ZhongShengping,"Change memcache_socket_timeout to a float

see https://review.opendev.org/#/c/519353/

Change-Id: Ia727f5467a3b499bc2af78868adf8c872be684e1
Closes-Bug: #1835162
"
openstack%2Fironic-inspector~stable%2Frocky~Ic17e59267bf4ae814c5e734603b5c9307819e086,openstack/ironic-inspector,stable/rocky,bindep-fallback-stable/rocky,Ic17e59267bf4ae814c5e734603b5c9307819e086,add local bindep.txt,MERGED,2019-06-29 16:33:04.000000000,2019-07-03 17:01:49.000000000,2019-07-03 17:01:49.000000000,6,0,0,668296,adc63686dffbdf2bc2d0fd16fa234bfd21c85514,7,3,1,1,23851,Riccardo Pittau,elfosardo,"add local bindep.txt

Global bindep-fallback.txt was removed [1] and now projects need
to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086
"
openstack%2Fironic-inspector~stable%2Fstein~Ic17e59267bf4ae814c5e734603b5c9307819e086,openstack/ironic-inspector,stable/stein,bindep-fallback-stable/stein,Ic17e59267bf4ae814c5e734603b5c9307819e086,add local bindep.txt,MERGED,2019-06-29 16:32:51.000000000,2019-07-03 17:01:48.000000000,2019-07-03 17:01:48.000000000,6,0,0,668295,a2913fc91663d5aa0a5476207b1c7c8539bdad01,8,4,1,1,23851,Riccardo Pittau,elfosardo,"add local bindep.txt

Global bindep-fallback.txt was removed [1] and now projects need
to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086
"
openstack%2Fnova~master~Ie217523a8969326b27930d7f74e50e9b352ab7a1,openstack/nova,master,bug/1835070,Ie217523a8969326b27930d7f74e50e9b352ab7a1,Stabilize unshelve notification sample tests,MERGED,2019-07-02 13:10:26.000000000,2019-07-03 16:59:58.000000000,2019-07-03 00:45:29.000000000,2,0,11,668675,40f1e7c4c22dc6023614b34f28bb7fc416b668a8,28,11,2,1,9708,Balazs Gibizer,gibi,"Stabilize unshelve notification sample tests

The notification sample test for unshelve waits for the instance to
reach ACTIVE state and then asserts if unshelve.end notification is
emitted properly. However the instance.vm_state is set to ACTIVE earlier[1]
than emitting the unshelve.end notification[2]. This can cause two
different test case failure.

1) _test_unshelve_server() fails with no ushelve.end notification
received.

2) _test_shelve_and_shelve_offload_server() also has a unshelve action
at the end and that test step also only waits for the the ACTIVE state.
So the unshelve.end notification from the end of
_test_shelve_and_shelve_offload_server() can bleed into the
_test_unshelve_server() step causing that it receive one more
notifications.

So this patch adds an extra
self._wait_for_notification('instance.unshelve.end') call to each test
step to prevent the instability.

[1] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5322-L5326
[2] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5329
[3] https://github.com/openstack/nova/blob/5c6c1f8f/nova/tests/functional/notification_sample_tests/test_instance.py#L836

Closes-Bug: #1835070

Change-Id: Ie217523a8969326b27930d7f74e50e9b352ab7a1
"
openstack%2Fmonasca-notification~master~I5c5a5089f0d78bd7c6b137876b22f439a41ab219,openstack/monasca-notification,master,,I5c5a5089f0d78bd7c6b137876b22f439a41ab219,Prevent infinite loop when initializing plugins,ABANDONED,2019-07-01 16:14:02.000000000,2019-07-03 16:57:26.000000000,,1,0,0,668512,cddaf47973fee4ff5c2bd166547cbff53673f258,6,3,1,1,16222,witek,witek,"Prevent infinite loop when initializing plugins

Change-Id: I5c5a5089f0d78bd7c6b137876b22f439a41ab219
Story: 2006148
Task: 35645
"
openstack%2Fmonasca-notification~master~I99d7750fac6d0355d182df1612c6a5abbbad7fc6,openstack/monasca-notification,master,plugin-detection-loop-fix,I99d7750fac6d0355d182df1612c6a5abbbad7fc6,Fix notification type plugin install loop,MERGED,2019-06-07 14:32:07.000000000,2019-07-03 16:50:44.000000000,2019-07-03 16:50:44.000000000,13,7,0,663960,df2f1ef228c0d33cc9f8c34f80221f2ac624e3ca,14,3,6,1,30438,Isaac Prior,Wasaac,"Fix notification type plugin install loop

The 'insert_configured_plugins' function occasionally gets into an infinite loop.
This patch ensures the loop fails properly after max_retries is met.

Story: 2005540
Task: 30680
Change-Id: I99d7750fac6d0355d182df1612c6a5abbbad7fc6
"
openstack%2Fopenstack-helm~master~I95ff59ce024747f7af40c6bef0661bb3743b0af1,openstack/openstack-helm,master,l2gateway,I95ff59ce024747f7af40c6bef0661bb3743b0af1,[neutron] Bring in L2 gateway support,MERGED,2019-06-20 12:29:27.000000000,2019-07-03 16:47:37.000000000,2019-07-03 16:47:37.000000000,235,0,0,666550,8c9374304131968863ba008ac579b3bc42ff75eb,14,7,3,13,16771,mpolenchuk,mpolenchuk,"[neutron] Bring in L2 gateway support

L2 Gateway (L2GW) is an API framework that offers bridging 2+
networks together to make them look as a single broadcast domain.
A typical use case is bridging the virtual with the physical networks.

Change-Id: I95ff59ce024747f7af40c6bef0661bb3743b0af1
"
openstack%2Fpython-tripleoclient~master~I96709e67064c8b3347c9dfcd511ba823eb9dc370,openstack/python-tripleoclient,master,remove-undercloud-deploy,I96709e67064c8b3347c9dfcd511ba823eb9dc370,Remove undercloud deploy,MERGED,2019-06-26 13:25:13.000000000,2019-07-03 16:45:31.000000000,2019-07-03 16:45:31.000000000,5,84,0,667612,e096cca54a49af22d09b5bce8cecf3dac297234b,10,5,1,4,14985,Alex Schultz,mwhahaha,"Remove undercloud deploy

This was a left over from the development of the containerized
undercloud and has been deprecated for some time. Additionally it just
redirected to the undercloud install logic anyway.

Change-Id: I96709e67064c8b3347c9dfcd511ba823eb9dc370
"
openstack%2Fpython-tripleoclient~master~I1f22b5b4aa79e5a1f7d340054e08423cd1b1c090,openstack/python-tripleoclient,master,bug/1833452,I1f22b5b4aa79e5a1f7d340054e08423cd1b1c090,Use wait for stack ready from utils for tripleo deploy,MERGED,2019-06-19 19:58:04.000000000,2019-07-03 16:45:30.000000000,2019-07-03 16:45:30.000000000,5,8,0,666432,06fddc5550cd1c62e2c970e8365bfd4da95c1fee,15,6,1,2,14985,Alex Schultz,mwhahaha,"Use wait for stack ready from utils for tripleo deploy

The tripleo deploy command was duplicating a function call to the heat
stack that we already had a shared function for in utils. Let's use that
instead as it now has additional retry logic improvements.

Change-Id: I1f22b5b4aa79e5a1f7d340054e08423cd1b1c090
"
openstack%2Fdevstack~master~I1b4c9571b8f3dece270865fb336e73aca3a36a76,openstack/devstack,master,openstack/devstack/plugins,I1b4c9571b8f3dece270865fb336e73aca3a36a76,Updated from generate-devstack-plugins-list,MERGED,2019-04-21 06:14:22.000000000,2019-07-03 16:38:23.000000000,2019-07-03 16:38:23.000000000,0,1,0,654164,45ded1cca01bfa31dcb3ad1591125e4890d6f562,32,6,11,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-devstack-plugins-list

Change-Id: I1b4c9571b8f3dece270865fb336e73aca3a36a76
"
openstack%2Fdevstack~master~Ifcb7ecd78fb25ca2136f5848c19b74500e520873,openstack/devstack,master,bug/1792936,Ifcb7ecd78fb25ca2136f5848c19b74500e520873,Enable universe repository on Ubuntu,MERGED,2018-11-22 13:20:28.000000000,2019-07-03 16:38:21.000000000,2019-07-03 16:38:21.000000000,13,5,0,619562,8d1b20b4c2334dc3045cea93441568657869f6d1,18,7,1,1,13252,Dr. Jens Harbott,jrosenboom,"Enable universe repository on Ubuntu

The universe repository is not enabled when installing Ubuntu from an
ISO (at least for Bionic). This leads to some errors during the devstack
run that are not seen when running based on a cloud image which has that
repo enabled by default. Enable that repository unconditionally, the
operation is idempotent.

Change-Id: Ifcb7ecd78fb25ca2136f5848c19b74500e520873
Closes-Bug: 1792936
"
openstack%2Fproject-config~master~Iab6cb4039aaaba2773fc1a92d341b707b8bd99ba,openstack/project-config,master,fortnebula-images,Iab6cb4039aaaba2773fc1a92d341b707b8bd99ba,Upload test images to fortnebula cloud,MERGED,2019-07-03 16:03:47.000000000,2019-07-03 16:27:34.000000000,2019-07-03 16:27:34.000000000,6,0,0,668952,3ced74e1f71e1ed705fb8e6c1d7d7fa523aaa82a,7,3,1,1,4146,Clark Boylan,cboylan,"Upload test images to fortnebula cloud

This should be safe to get running prior to the mirror being fully
deployed. We only need the mirror when we add test nodes.

Change-Id: Iab6cb4039aaaba2773fc1a92d341b707b8bd99ba
"
openstack%2Fhorizon~master~I38f0385a1fd676a4ba18259af7ad384af31ebe5a,openstack/horizon,master,openstackdocstheme,I38f0385a1fd676a4ba18259af7ad384af31ebe5a,Bump the openstackdocstheme extension to 1.20,MERGED,2019-06-28 03:15:58.000000000,2019-07-03 16:20:50.000000000,2019-07-03 16:20:50.000000000,3,46,13,668080,b529f009373dedf8bd344aaf7221eff3e1e94de4,32,7,7,4,27822,pengyuesheng,pengyuesheng,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

This will shows the version selector of the doc, too.

Change-Id: I38f0385a1fd676a4ba18259af7ad384af31ebe5a
"
openstack%2Fheat~master~I73e73455139a87fb798fd8a4651c075a91be75fd,openstack/heat,master,trust_fix,I73e73455139a87fb798fd8a4651c075a91be75fd,Allow creating trusts with allow_redelegation,MERGED,2019-02-21 12:53:58.000000000,2019-07-03 16:19:19.000000000,2019-07-03 16:19:18.000000000,50,6,4,638413,e377658586c737150dad1bfd80b7b2267d46be51,54,9,10,4,28032,Oleksiy Petrenko,enacero,"Allow creating trusts with allow_redelegation

If you set up heat with trusts enabled, heat fails to create remote
stack since by default it creates trusts with turned off redelegation.

This commit adds a new option `allow_trusts_redelegation`
(False by default) which, when enabled together with
`reauthentication_auth_method` set to `trusts` will make Heat to create
trusts with allow_redelegation=True, both for trusts used for deferred
auth and for long creating stacks.

Change-Id: I73e73455139a87fb798fd8a4651c075a91be75fd
Story: #2005062
Task: 29606
Task: 17266
"
openstack%2Fvitrage~master~Ifcbdaffd12496c29efc6594aa2bb1111c0d6dfad,openstack/vitrage,master,,Ifcbdaffd12496c29efc6594aa2bb1111c0d6dfad,Bugfix - If graph is empty is_alive returns false.,MERGED,2019-07-02 11:40:12.000000000,2019-07-03 16:16:43.000000000,2019-07-03 16:16:43.000000000,1,1,0,668658,194e547fc8ef66e024e3c606adae094673949bd2,20,3,1,1,19184,Idan Hefetz,idan-hefetz,"Bugfix - If graph is empty is_alive returns false.

Because self.graph evaluates to False

Change-Id: Ifcbdaffd12496c29efc6594aa2bb1111c0d6dfad
"
openstack%2Fcharm-ceph-radosgw~master~If24a0a94bfef0f5b078d410abc272a624b684615,openstack/charm-ceph-radosgw,master,,If24a0a94bfef0f5b078d410abc272a624b684615,[DEBUG] Testing CI,ABANDONED,2019-06-14 13:56:44.000000000,2019-07-03 16:14:24.000000000,,2,0,0,665397,d1a8286bc7c6255ef5f9f226ea5eab0289b500f8,33,3,6,1,14567,Rodrigo Barbieri,ganso,"[DEBUG] Testing CI

Change-Id: If24a0a94bfef0f5b078d410abc272a624b684615
"
openstack%2Fsahara~master~Ic763c2b52501867aeee2b1d014ab1f9e9c84e145,openstack/sahara,master,cinderclient,Ic763c2b52501867aeee2b1d014ab1f9e9c84e145,Blacklist python-cinderclient 4.0.0,MERGED,2019-06-26 02:01:48.000000000,2019-07-03 16:04:37.000000000,2019-07-03 16:04:37.000000000,1,1,0,667490,ee46e8cb7f8267b5ddfcea8fe939855c44a55619,9,5,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist python-cinderclient 4.0.0

This release of the Cinder client broke support for the v3
volume-transfer APIs unless microversion 3.55 or higher was requested.

Change-Id: Ic763c2b52501867aeee2b1d014ab1f9e9c84e145
"
openstack%2Fkolla~master~I346c06631ea4ed57ecec94aa31b787c649085346,openstack/kolla,master,,I346c06631ea4ed57ecec94aa31b787c649085346,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-03 03:30:45.000000000,2019-07-03 16:01:44.000000000,2019-07-03 16:01:44.000000000,1,1,0,668779,3ada73ba6d34859a76b73bbd907c675630d93657,11,5,2,1,28743,huang liujie,ljhuang,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I346c06631ea4ed57ecec94aa31b787c649085346
"
openstack%2Fpython-brick-cinderclient-ext~master~I9e999382493c5e491fff9e003e68746b7e8302aa,openstack/python-brick-cinderclient-ext,master,u-c,I9e999382493c5e491fff9e003e68746b7e8302aa,Update to use static upper-constraints URL,MERGED,2019-06-21 15:32:30.000000000,2019-07-03 15:59:53.000000000,2019-07-03 15:59:53.000000000,3,3,0,666867,47865bf3f77c0a0f116769c3131780c464bb46d5,6,2,1,1,11904,Sean McGinnis,SeanM,"Update to use static upper-constraints URL

There is a new upper-constraints URL to use that will make it easier to
handle when new stable branches are created. All projects should now be
updated to use these new static URLs hosted on releases.openstack.org.

Change-Id: I9e999382493c5e491fff9e003e68746b7e8302aa
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fnova-specs~master~I5912498e7f5f449c44884d93585362e1a04185a9,openstack/nova-specs,master,bp/flavor-extra-spec-image-property-validation-extended,I5912498e7f5f449c44884d93585362e1a04185a9,Add 'flavor-extra-spec-image-property-validation-extended' spec,MERGED,2019-02-22 17:54:36.000000000,2019-07-03 15:55:37.000000000,2019-07-03 15:55:37.000000000,393,0,123,638734,9e4114fb4994aade7859f13308a94ffee599030a,49,9,10,1,15334,Stephen Finucane,sfinucan,"Add 'flavor-extra-spec-image-property-validation-extended' spec

It's quite a mouthful, yes.

Blueprint: flavor-extra-spec-image-property-validation-extended

Change-Id: I5912498e7f5f449c44884d93585362e1a04185a9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I7fa26a8d9d3b4029bdd518409013246720b057e3,openstack/tripleo-heat-templates,stable/queens,bug/1762455,I7fa26a8d9d3b4029bdd518409013246720b057e3,Add ContainerNovaLibvirtUlimit to tweak Ulimits,MERGED,2019-07-01 13:07:20.000000000,2019-07-03 15:53:52.000000000,2019-07-03 15:53:52.000000000,11,0,0,668457,7ad2741d5e3585589359868b3ab00b783971d61e,11,4,1,2,6926,Bogdan Dobrelya,bogdando,"Add ContainerNovaLibvirtUlimit to tweak Ulimits

Ulimit defaults in Kolla for libvirt container provide sub-uptimal
performance. Allow to override those and also provide opinionated
defaults for TripleO. Keep those defaults in sync with that we need
in the nova-compute & cinder-volume containers to avoid potential
issues with ceph.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1721434

Related-bug: #1762455

Change-Id: I7fa26a8d9d3b4029bdd518409013246720b057e3
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 8ef4f3cac8ad2ded4214a3ee26cd919ace0af9be)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I7fa26a8d9d3b4029bdd518409013246720b057e3,openstack/tripleo-heat-templates,stable/rocky,bug/1762455-stable/rocky,I7fa26a8d9d3b4029bdd518409013246720b057e3,Add ContainerNovaLibvirtUlimit to tweak Ulimits,MERGED,2019-07-02 15:12:02.000000000,2019-07-03 15:52:52.000000000,2019-07-03 15:52:52.000000000,11,0,0,668688,27cbefab71737b1970bf371b746041d6d332ccce,10,5,1,2,6926,Bogdan Dobrelya,bogdando,"Add ContainerNovaLibvirtUlimit to tweak Ulimits

Ulimit defaults in Kolla for libvirt container provide sub-uptimal
performance. Allow to override those and also provide opinionated
defaults for TripleO. Keep those defaults in sync with that we need
in the nova-compute & cinder-volume containers to avoid potential
issues with ceph.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1721434

Related-bug: #1762455

Change-Id: I7fa26a8d9d3b4029bdd518409013246720b057e3
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 8ef4f3cac8ad2ded4214a3ee26cd919ace0af9be)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I7fa26a8d9d3b4029bdd518409013246720b057e3,openstack/tripleo-heat-templates,stable/stein,bug/1762455,I7fa26a8d9d3b4029bdd518409013246720b057e3,Add ContainerNovaLibvirtUlimit to tweak Ulimits,MERGED,2019-07-02 15:13:41.000000000,2019-07-03 15:52:51.000000000,2019-07-03 15:52:51.000000000,11,0,0,668690,581d2d544928c75de8c20f68c90846c4f9e9bfae,10,5,1,2,6926,Bogdan Dobrelya,bogdando,"Add ContainerNovaLibvirtUlimit to tweak Ulimits

Ulimit defaults in Kolla for libvirt container provide sub-uptimal
performance. Allow to override those and also provide opinionated
defaults for TripleO. Keep those defaults in sync with that we need
in the nova-compute & cinder-volume containers to avoid potential
issues with ceph.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1721434

Related-bug: #1762455

Change-Id: I7fa26a8d9d3b4029bdd518409013246720b057e3
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 8ef4f3cac8ad2ded4214a3ee26cd919ace0af9be)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34,openstack/tripleo-heat-templates,stable/queens,,I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34,Add missing tag 'role_specific' for NovaPciPassthrough parameter,MERGED,2019-07-02 04:09:17.000000000,2019-07-03 15:52:49.000000000,2019-07-03 15:52:49.000000000,2,0,0,668590,77f36d37a402cf36173ddc9edf558d382bcbb25b,12,7,1,1,18575,Saravanan KR,saravanankr,"Add missing tag 'role_specific' for NovaPciPassthrough parameter

Change-Id: I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34
Closes-Bug: #1834557
(cherry picked from commit 8860eee23138f48756a684f2954352004ba766d4)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I131cbafc126bcc4dbea5d38e0ff7adc177d114bd,openstack/tripleo-heat-templates,stable/stein,bug/1832441-stable/stein,I131cbafc126bcc4dbea5d38e0ff7adc177d114bd,"Revert ""Remove os-collect-config related poperties and attributes""",ABANDONED,2019-07-03 11:48:20.000000000,2019-07-03 15:52:17.000000000,,55,0,0,668875,16f91bc1a037eb8dcc1e31a89bb951f8a2b7d3f8,5,5,1,2,11090,Sergii Golovatiuk,holser,"Revert ""Remove os-collect-config related poperties and attributes""

This reverts commit 89e9fe53b20ee87a6a7ebe41af48f7ab206ebf05.

Closes-Bug:  #1834881

Change-Id: I131cbafc126bcc4dbea5d38e0ff7adc177d114bd
(cherry picked from commit b5a2a61dfea167ed96b52098dbd5807b3fae44a6)
"
openstack%2Fopenstack-helm-infra~master~Id48c3ee9976823b2bdb4395a029fe75476bdaa62,openstack/openstack-helm-infra,master,pvc_bug,Id48c3ee9976823b2bdb4395a029fe75476bdaa62,Postgres PVC Soak Fix,MERGED,2019-07-02 17:43:23.000000000,2019-07-03 15:50:12.000000000,2019-07-03 15:50:12.000000000,6,15,0,668721,4a730bb34bfc5c7e7b7776f7b2e87ab305b5c104,13,12,1,1,28718,Doug Aaser,daaser,"Postgres PVC Soak Fix

This patch fixes an issue with Postgres HA where
the PVC which stores the database was filling up with
WAL records and not deleting them due to some
misconfigurations with Postgres. Once the PVC
would fill up, replication would fail across the node
and the database would not be able to start, crashing
the system.

Specifically, archive_mode was turned on, but was not
supplied with a function through which to archive the
logs. When WAL archiving is turned on, old WAL files
cannot be removed until the system has archived them first.
However, since we never told the system how to archive the
files, it would repeatedly fail so the WAL files would
never be cleaned up.

Also in this patch are some small house keeping items:
- Lowered the wal_keep_segments drastically so Postgres
  can't keep as many WAL segments around to minimize the
  chance of PVC fill issues
- Turned the wal_level from 'logical' to 'hot_standby'
  to keep it consistent with the fact that Patroni uses
  streaming replication and not logical replication
- Removed the autovaccuum configurations as they are not
  needed

Change-Id: Id48c3ee9976823b2bdb4395a029fe75476bdaa62
"
openstack%2Fpython-tripleoclient~stable%2Frocky~Ifd4229b68571fd6b91574675c1f04d7b5c755eab,openstack/python-tripleoclient,stable/rocky,bug/1834307-stable/stein-stable/rocky,Ifd4229b68571fd6b91574675c1f04d7b5c755eab,Ensure files exist before building/uploading plan,MERGED,2019-07-02 15:12:25.000000000,2019-07-03 15:38:42.000000000,2019-07-03 15:37:02.000000000,16,0,0,668689,cb976f672959f3a14360390d6bc8b6ba8e873fa2,14,5,1,1,28223,Cedric Jeanneret,cjeanner,"Ensure files exist before building/uploading plan

Until now, only environment files were tested for their eXistenZ. This
patch corrects this issue, allowing to get a graceful failure before
plan is compiled and uploaded.

The following files are now checked, and deploy will gracefully fail in
case of non-existing file:
- plan-environment-file
- answers-file
- networks-file

No Bioport nor Pod was harmed for this patch.

Change-Id: Ifd4229b68571fd6b91574675c1f04d7b5c755eab
Closes-Bug: #1834307
(cherry picked from commit bd354f1fc8ae7a36898a22e01e52815d85d8378d)
(cherry picked from commit f78809a3e3122f268bcc8fa1a9c12974735654b9)
"
openstack%2Fopenstack-helm~master~I26ea5b859ab3d494bd6432039d67683ee5632759,openstack/openstack-helm,master,,I26ea5b859ab3d494bd6432039d67683ee5632759,[ceph] Cleanup install scripts for  duplicate variables,MERGED,2019-06-06 21:22:47.000000000,2019-07-03 15:34:04.000000000,2019-07-03 15:34:03.000000000,0,14,0,663775,f11a51fc61dcee4535d7c691a66b6f503e252076,11,5,3,3,28372,chinasubbareddy mallavarapu,chinasubbareddy,"[ceph] Cleanup install scripts for  duplicate variables

This is just to  remove duplicate variables from scripts.

Change-Id: I26ea5b859ab3d494bd6432039d67683ee5632759
"
openstack%2Fcharm-keystone~master~Ie160095789f5c34bc3509ffce4a7c5c0ec430632,openstack/charm-keystone,master,bug/1834442,Ie160095789f5c34bc3509ffce4a7c5c0ec430632,Ensure federated identity backend are TLS aware,MERGED,2019-07-03 13:22:50.000000000,2019-07-03 15:28:33.000000000,2019-07-03 15:28:33.000000000,5,1,0,668903,15250435f69b6ca4ed024bb68d941243fa57bcde,7,3,1,2,935,James Page,james-page,"Ensure federated identity backend are TLS aware

When the certificates endpoint has completed TLS configuration
via Vault, ensure that any federated identity backends are
updated for the switch to TLS, other the generated SP data
incorrectly used http:// instead of https://

Closes-Bug: 1834442

Change-Id: Ie160095789f5c34bc3509ffce4a7c5c0ec430632
"
openstack%2Fkolla-ansible~master~I94f875ebe522154eb3318feffbe72019c43fd66e,openstack/kolla-ansible,master,,I94f875ebe522154eb3318feffbe72019c43fd66e,Fix the build-openstack-deploy-guide failed,ABANDONED,2019-07-03 05:25:25.000000000,2019-07-03 15:28:28.000000000,,1,1,1,668786,874e8b58ef37a6c4fdcd73b5d6cf43ae0bc9b52b,12,4,4,1,30356,gugug,gujin,"Fix the build-openstack-deploy-guide failed

more error info: http://logs.openstack.org/73/668773/2/check/build-openstack-deploy-guide/70bc34c/job-output.txt.gz#_2019-07-03_02_46_44_645020

Change-Id: I94f875ebe522154eb3318feffbe72019c43fd66e
"
openstack%2Fpython-keystoneclient~master~Ia235adfd512e0196b4b13eed900abfd9414f62e4,openstack/python-keystoneclient,master,,Ia235adfd512e0196b4b13eed900abfd9414f62e4,Sync Sphinx requirement,ABANDONED,2019-06-18 17:08:22.000000000,2019-07-03 15:24:35.000000000,,5,3,2,666065,1dcc99f974f8518c38e8b7b45523865bb85f23b3,7,3,2,3,28614,jacky06,jacky06,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. cleanup of .keys() from dict_object.keys() *in* operator

Change-Id: Ia235adfd512e0196b4b13eed900abfd9414f62e4
"
openstack%2Fopenstack-helm-infra~master~Iaa2b23c464a3422fb9340d7691631482e503ab18,openstack/openstack-helm-infra,master,armada-lma/min_ready,Iaa2b23c464a3422fb9340d7691631482e503ab18,WIP/DNM Set min_ready ratios for Armada LMA controller types,ABANDONED,2019-06-27 14:52:23.000000000,2019-07-03 15:16:17.000000000,,29,15,1,667950,7a6b227c4795c683072d484cb1d807ed035c23fa,5,2,2,2,28849,Meghan Heisler,mh783g,"WIP/DNM Set min_ready ratios for Armada LMA controller types

Change-Id: Iaa2b23c464a3422fb9340d7691631482e503ab18
"
openstack%2Fwatcher~master~I11f7aafdfb3a45569b021df748ea32ebddc4ba6b,openstack/watcher,master,python3-train,I11f7aafdfb3a45569b021df748ea32ebddc4ba6b,Add Python 3 Train unit tests,MERGED,2019-07-01 06:57:26.000000000,2019-07-03 15:14:53.000000000,2019-07-03 15:14:53.000000000,3,3,0,668362,148ae3688d706bce8a93e422159530160158f708,12,3,1,3,27822,pengyuesheng,pengyuesheng,"Add Python 3 Train unit tests

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I11f7aafdfb3a45569b021df748ea32ebddc4ba6b
"
openstack%2Fvitrage-dashboard~master~Ide32366aaa21750619afc73c19be7ed9a9e15894,openstack/vitrage-dashboard,master,,Ide32366aaa21750619afc73c19be7ed9a9e15894,Update the constraints url,MERGED,2019-07-01 14:03:58.000000000,2019-07-03 15:07:14.000000000,2019-07-03 15:07:14.000000000,2,2,0,668473,1f39f50f4a083fa8444c2e7d0b20c5d5f7c5ad80,8,5,1,1,29313,Vishal Manchanda,vishalmanchanda,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ide32366aaa21750619afc73c19be7ed9a9e15894
"
openstack%2Fhorizon~master~I4f61870175081f70e11f617930b1a5f5d38520c8,openstack/horizon,master,bug/1533910,I4f61870175081f70e11f617930b1a5f5d38520c8,Horizon template loader to index by actual panel directory,NEW,2016-01-22 09:33:19.000000000,2019-07-03 15:01:55.000000000,,28,8,1,271201,6173505cc37c3f651d1e72917eb83fe76f462415,21,7,8,2,14078,Alan Fung,alanfung,"Horizon template loader to index by actual panel directory

Since the introduction of Pluggable Settings, specifically
PANEL_DASHBOARD, panel can now be reassigned to a different dashboard
than the directory structure would suggest. This extends the indexing
logic to maintain a lookup dict with keys derived from the actual
panel directory as well.

Change-Id: I4f61870175081f70e11f617930b1a5f5d38520c8
Closes-Bug: #1533910
"
openstack%2Fopenstack-helm-infra~master~Id1d63d8c99850b960eb352361d7796162bd6be2f,openstack/openstack-helm-infra,master,nagios-init-hosts,Id1d63d8c99850b960eb352361d7796162bd6be2f,Nagios: Add init container for generating hosts,MERGED,2019-06-28 16:16:51.000000000,2019-07-03 14:59:36.000000000,2019-07-03 14:59:36.000000000,17,14,0,668200,cb35bd16164ab7d9e2df0fdc27c3d8f28d44a0d0,20,3,8,2,17591,Steve Wilkerson,srwilkers,"Nagios: Add init container for generating hosts

This updates the Nagios chart to include an init container for
generating the host and host group definitions Nagios requires to
function. The benefit is that Nagios does not need to constantly
attempt to update its host and host group definitions, which
currently triggers a restart of the Nagios service even in cases
where the host file hasn't changed.  With the introduction of an
init container for handling this, we can also remove the service
check definition and command definition for executing the plugin
at periodic intervals

Depends-On: https://review.opendev.org/668197

Change-Id: Id1d63d8c99850b960eb352361d7796162bd6be2f
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Frpm-packaging~master~I88135780c5a0eb8a25303e224566c0b16ea3bbc7,openstack/rpm-packaging,master,,I88135780c5a0eb8a25303e224566c0b16ea3bbc7,oslotest: Add patch to fix current build failures,MERGED,2019-07-03 11:15:02.000000000,2019-07-03 14:58:33.000000000,2019-07-03 14:58:33.000000000,44,1,0,668865,5fdcab1d9476fee06adcc85481e7d88e15ec8e5e,8,4,1,2,7102,Thomas Bechtold,toabctl,"oslotest: Add patch to fix current build failures

Change-Id: I88135780c5a0eb8a25303e224566c0b16ea3bbc7
"
openstack%2Ffreezer~master~I52bd48a18fa0354840bfb7d47b84671eac88619b,openstack/freezer,master,,I52bd48a18fa0354840bfb7d47b84671eac88619b,Cap sphinx for py2 to match global requirements,ABANDONED,2019-06-07 02:16:46.000000000,2019-07-03 14:58:32.000000000,,2,1,0,663823,2e6f8442943fb363903412bacb48adc3ab809c37,3,1,1,1,30384,zhangboye,zhangboye,"Cap sphinx for py2 to match global requirements

Change-Id: I52bd48a18fa0354840bfb7d47b84671eac88619b
"
openstack%2Fhorizon~master~I7de31d811e4c339b303db36ba2b42e467289d2a9,openstack/horizon,master,bug/1519560,I7de31d811e4c339b303db36ba2b42e467289d2a9,Unify volume type extra specs dialogue,NEW,2019-06-18 09:59:12.000000000,2019-07-03 14:57:54.000000000,,11,11,0,665932,d9376b6c66b73079425baf6de66b5963bc3065de,8,4,2,3,29313,Vishal Manchanda,vishalmanchanda,"Unify volume type extra specs dialogue

When a user create, edit or delete ""extra spec""
under volume type panel it will redirect it to
'horizon:admin:volume_types:extras:index' after sucessful operation.
This patch changes the sucess url to 'horizon:admin:volume_types:index'
similar to what is done in group type specs.

Change-Id: I7de31d811e4c339b303db36ba2b42e467289d2a9
Closes-Bug: #1519560
"
openstack%2Fautomaton~master~Ied4095b176b20795f6a8d4d7a84d01d958d76896,openstack/automaton,master,,Ied4095b176b20795f6a8d4d7a84d01d958d76896,Sync Sphinx requirement,MERGED,2019-06-18 14:29:29.000000000,2019-07-03 14:55:23.000000000,2019-07-03 14:55:23.000000000,10,9,0,665997,d92ea1f8be490e5c47aed72dc7ed114372f0b9bd,23,7,2,5,28614,jacky06,jacky06,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Remove unncessary ""==""

Change-Id: Ied4095b176b20795f6a8d4d7a84d01d958d76896
"
openstack%2Fsahara-dashboard~master~I803117010bfbf6a7a5a17c1f6ca6109fc465e187,openstack/sahara-dashboard,master,openstackdocstheme,I803117010bfbf6a7a5a17c1f6ca6109fc465e187,Bump the openstackdocstheme extension to 1.20,MERGED,2019-06-28 03:26:08.000000000,2019-07-03 14:53:34.000000000,2019-07-03 14:53:34.000000000,1,24,1,668082,a97d060ab919afbcd50859a3c921828ae1da342b,20,5,3,2,27822,pengyuesheng,pengyuesheng,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

This will show other versions of the doc, too.

Change-Id: I803117010bfbf6a7a5a17c1f6ca6109fc465e187
"
openstack%2Fkuryr-tempest-plugin~master~I1066713defcc77e8d1cf1a599edcc2922e535646,openstack/kuryr-tempest-plugin,master,real-resp,I1066713defcc77e8d1cf1a599edcc2922e535646,Ensure empty/fail replies are not counted,MERGED,2019-07-01 16:54:22.000000000,2019-07-03 14:50:20.000000000,2019-07-03 14:50:19.000000000,7,9,1,668528,8a20593db2c7e0aa7ccc01729d113083476849e2,26,7,4,1,23567,Luis Tomas Bolivar,ltomasbo,"Ensure empty/fail replies are not counted

This patch removes the empty replies from the response, and it
also makes sure we wait enough (increase the number of retries)
for the service to be ready

Change-Id: I1066713defcc77e8d1cf1a599edcc2922e535646
"
openstack%2Fpuppet-nova~master~I87e9c1af1a4b400d3c90c97418050bebde4d4c91,openstack/puppet-nova,master,remove_deprecated_vendordata,I87e9c1af1a4b400d3c90c97418050bebde4d4c91,Remove deprecated vendordata* params from api/metadata,MERGED,2019-07-02 12:07:57.000000000,2019-07-03 14:45:11.000000000,2019-07-03 14:45:11.000000000,6,256,2,668663,296b10691680dd364ba8eaa0e938f9691c3744bb,21,7,5,5,17216,Martin Schuppert,mcschupp,"Remove deprecated vendordata* params from api/metadata

The deprecated ``vendordata*`` config option has been
removed from api and metadata class.

Change-Id: I87e9c1af1a4b400d3c90c97418050bebde4d4c91
"
openstack%2Fdevstack~master~If9a02b640e6c2e1300c7b11b7552ba13c1496d79,openstack/devstack,master,bp/remove-cells-v1,If9a02b640e6c2e1300c7b11b7552ba13c1496d79,nova: Set '[neutron] default_floating_pool' instead,MERGED,2019-05-22 09:48:25.000000000,2019-07-03 14:35:49.000000000,2019-07-03 14:35:49.000000000,1,1,0,660619,283e86fbb59aa11afb21b916d3a106e442baee0e,22,5,2,1,15334,Stephen Finucane,sfinucan,"nova: Set '[neutron] default_floating_pool' instead

In change I2ce8ff3d7c33a402b8af50182ec01f512859c388, we duplicated the
'default_floating_pool' option, found in the '[DEFAULT]' group, to the
'[neutron]' group. This allowed us to continue with our deprecation
plans for the former option, which should be retired along with
nova-network.

Update the nova lib module so it'll set the new option, we can safely
assume to be the correct one now that we've removed support for cells v1
and nova-network.

Change-Id: If9a02b640e6c2e1300c7b11b7552ba13c1496d79
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Freleases~master~If9bcfc80cb75382b70ddc5937ed39a176ab8956f,openstack/releases,master,release-neutron-lib,If9bcfc80cb75382b70ddc5937ed39a176ab8956f,Release neutron-lib 1.28.0,MERGED,2019-06-21 15:37:43.000000000,2019-07-03 14:25:16.000000000,2019-07-03 14:25:16.000000000,4,0,0,666870,b2b30afe3bc8cb7d0d5bf9d49f293f3dbe739596,21,10,2,1,13252,Dr. Jens Harbott,jrosenboom,"Release neutron-lib 1.28.0

Make new additions available for consumption in networking projects.

Change-Id: If9bcfc80cb75382b70ddc5937ed39a176ab8956f
"
openstack%2Fcloudkitty~master~I6f6f87d727b4b1874aa10ad7fd8add8cafee3211,openstack/cloudkitty,master,,I6f6f87d727b4b1874aa10ad7fd8add8cafee3211,Add Monasca collector auth options to the sample config,MERGED,2019-06-18 07:54:24.000000000,2019-07-03 14:23:45.000000000,2019-07-03 14:23:45.000000000,6,8,0,665899,a9a56fb3bb5154c925998f0b40e0dba56e213c5d,15,3,2,2,23060,Luka Peschke,lukapeschke,"Add Monasca collector auth options to the sample config

This adds the keystoneauth options used by the Monasca collector to the config
file generated by oslo-config-generator.

Change-Id: I6f6f87d727b4b1874aa10ad7fd8add8cafee3211
"
openstack%2Fopenstack-helm-images~master~I6ab0fcaa6461daa73d497dce8f7bed2c1b7582c2,openstack/openstack-helm-images,master,os-exporter-update,I6ab0fcaa6461daa73d497dce8f7bed2c1b7582c2,OpenStack-Exporter: Update airship health api endpoints,MERGED,2019-07-02 19:33:43.000000000,2019-07-03 14:22:34.000000000,2019-07-03 14:21:18.000000000,5,5,0,668746,fccbfb1907fe90c5f5b4e2a8d701a6b0ba916279,10,5,1,1,17591,Steve Wilkerson,srwilkers,"OpenStack-Exporter: Update airship health api endpoints

This updates the health status endpoint for the airship components
as the current path is incorrect. This correction will allow for
the use of the openstack exporter to correctly identify the status
of airship components deployed and tracked in the service catalog

Change-Id: I6ab0fcaa6461daa73d497dce8f7bed2c1b7582c2
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fkayobe~master~I5a2c71e7e65f99687437f6a26a0c4a942022f4e9,openstack/kayobe,master,uuid-token-provider,I5a2c71e7e65f99687437f6a26a0c4a942022f4e9,Remove mentions of UUID Keystone token provider,MERGED,2019-06-12 12:23:25.000000000,2019-07-03 14:19:43.000000000,2019-07-03 14:19:43.000000000,2,8,0,664870,5d82c788a8a3af943abf4001ab393bc490d9ad3a,23,4,1,2,15197,Pierre Riteau,priteau,"Remove mentions of UUID Keystone token provider

Keystone removed the UUID token provider in Rocky and Kolla Ansible
removed support for configuring it. This commit reflects these changes
in Kayobe.

Change-Id: I5a2c71e7e65f99687437f6a26a0c4a942022f4e9
"
openstack%2Fkayobe~master~Id090348a6f22f251555fa286a7d24923087122a9,openstack/kayobe,master,kolla-enable-keystone,Id090348a6f22f251555fa286a7d24923087122a9,Provide keystone.conf to kolla-ansible by default,MERGED,2019-06-21 13:04:51.000000000,2019-07-03 14:19:13.000000000,2019-07-03 14:19:13.000000000,5,4,0,666831,ec9b4826515f28dab43846cb80dcb58b9a5b0a6e,34,4,2,3,15197,Pierre Riteau,priteau,"Provide keystone.conf to kolla-ansible by default

Commit d8ee0fa027140fb8a7504bd6685b6dcdfe3ac8fe introduced the variable
kolla_enable_keystone without setting a default value and used it to
check whether to template and provide keystone.conf to kolla-ansible,
unlike the extended keystone configuration which was always copied. This
resulted in non-intuitive behaviour if kolla_enable_keystone wasn't
explicitly set by the operator.

This commit sets kolla_enable_keystone to true by default, which matches
the default in kolla-ansible, and uses it instead of hardcoded true
values.

Change-Id: Id090348a6f22f251555fa286a7d24923087122a9
Story: 2005930
Task: 34273
"
openstack%2Fwatcher~master~Ieff571a6ee2d1a2ced9776a8e4800d5d6f2d95eb,openstack/watcher,master,perf-tests,Ieff571a6ee2d1a2ced9776a8e4800d5d6f2d95eb,Improve logging in building of nova data model,MERGED,2019-06-27 17:50:44.000000000,2019-07-03 14:14:07.000000000,2019-07-03 14:14:07.000000000,4,1,5,668005,052fae4b6212188f727bdc581bf5dcb7620744f3,18,6,3,1,29911,Dantali0n,Dantali0n,"Improve logging in building of nova data model

Improves logging during the building of the nova data model

Change-Id: Ieff571a6ee2d1a2ced9776a8e4800d5d6f2d95eb
"
openstack%2Frally-openstack~master~If4574456a07056670581e64c8bfc1672b733dfa8,openstack/rally-openstack,master,tempest,If4574456a07056670581e64c8bfc1672b733dfa8,[verify ci] Fix various issues for `rally verify tempest`,MERGED,2019-06-18 02:02:54.000000000,2019-07-03 14:09:24.000000000,2019-07-03 14:09:24.000000000,8,4,0,665842,47ef72c7b5facc6a8ce10f32c349594aca3743cb,36,4,9,2,21528,chenhb,chenhb,"[verify ci] Fix various issues for `rally verify tempest`

1. try to fix encoding issue, need to decode Exception.output, otherwise
   cause an decode error while comparing with string.
2. Fix KeyError exception. to_html() would be raised an exception
   since some cases was skipped.
3. Update SQLAlchemy version in upper-constraints.txt

Change-Id: If4574456a07056670581e64c8bfc1672b733dfa8
"
openstack%2Fnetworking-generic-switch~master~I4fa70c4a705b4ef6937ad5b00fc31454ba4b591f,openstack/networking-generic-switch,master,Blacklist_sphinx_2.1.0,I4fa70c4a705b4ef6937ad5b00fc31454ba4b591f,Blacklist sphinx 2.1.0,MERGED,2019-07-03 06:04:23.000000000,2019-07-03 14:08:11.000000000,2019-07-03 14:08:11.000000000,1,1,0,668790,e5dfa9cc7d9aafe371ff1a7dd4ce78a301f8d5f3,12,4,1,1,29071,norman shen,ushen,"Blacklist sphinx 2.1.0

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I4fa70c4a705b4ef6937ad5b00fc31454ba4b591f
Depend-On: https://review.opendev.org/#/c/663060/
"
openstack%2Fplacement~stable%2Fstein~I818d8ae8ffc1082ddb3677e0c1df91e5bc2dff11,openstack/placement,stable/stein,story/2005910,I818d8ae8ffc1082ddb3677e0c1df91e5bc2dff11,[Stein only] Correct Ubuntu package name,ABANDONED,2019-07-02 14:14:57.000000000,2019-07-03 14:04:42.000000000,,1,1,0,668680,c2b29040235eb0e77c263ef7c52b5c809be4cb88,10,5,2,1,14070,Eric Fried,efried,"[Stein only] Correct Ubuntu package name

Per the referenced story, Ubuntu's name for the placement apt package
was 'nova-placement-api' in stein, and changed to 'placement-api' in
train. Currently both stein and master (train) reflect the latter; this
commit corrects stein only to reflect the former.

Change-Id: I818d8ae8ffc1082ddb3677e0c1df91e5bc2dff11
Story: #2005910
Task: #34169
"
openstack%2Fdevstack~master~I363cf41d117017d72f5c62ddf25bf21976526bf2,openstack/devstack,master,store_journal,I363cf41d117017d72f5c62ddf25bf21976526bf2,Fetch journal log after tox jobs,ABANDONED,2019-03-17 14:25:25.000000000,2019-07-03 13:58:49.000000000,,1,0,0,643734,38913856a63e90025d43a84deaa46a3fb557199b,10,5,1,1,11975,Slawek Kaplonski,slaweq,"Fetch journal log after tox jobs

Journal log from test node may be useful for debug issues e.g. with
keepalived, dnsmasq and neutron-keepalived-state-change processes.

Depends-On: https://review.openstack.org/#/c/643733/
Change-Id: I363cf41d117017d72f5c62ddf25bf21976526bf2
"
openstack%2Fopenstack-helm-infra~master~I4f97fad96f63d42fdb3bb5b8958dbed3dfd7dfc7,openstack/openstack-helm-infra,master,tolerate-selenium-errors,I4f97fad96f63d42fdb3bb5b8958dbed3dfd7dfc7,Ignore Selenium test failures in jobs,MERGED,2019-07-02 15:13:48.000000000,2019-07-03 13:28:25.000000000,2019-07-03 13:28:25.000000000,8,8,2,668691,c1d9063a86a87054c763a966af2adf34e928fb0f,13,6,2,1,17591,Steve Wilkerson,srwilkers,"Ignore Selenium test failures in jobs

This adds the ability to tolerate failures of the selenium tests
in our jobs, as we intermittenly see these tests fail. The failure
of these tests should not necessarily indicate failure of the job
overall, so this change prevents exactly that

Change-Id: I4f97fad96f63d42fdb3bb5b8958dbed3dfd7dfc7
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I8776a8f1a620ea102681791e5bf2bd368424ffdc,openstack/tripleo-heat-templates,stable/stein,bug/1835031-stable/stein,I8776a8f1a620ea102681791e5bf2bd368424ffdc,Fix nova compute container depends_on to be list,MERGED,2019-07-02 13:29:42.000000000,2019-07-03 12:46:01.000000000,2019-07-03 12:46:01.000000000,2,1,0,668678,6c8a064c1adfb3c14a5dc907b37572186ab58a50,12,5,2,1,17216,Martin Schuppert,mcschupp,"Fix nova compute container depends_on to be list

depends_on needs to be a list, not a string. Otherwise the Wants=
entry in the unit file gets created with a wrong dependecy list:

Wants=t.service r.service i.service p.service l.service ...

Change-Id: I8776a8f1a620ea102681791e5bf2bd368424ffdc
Closes-Bug: #1835031
(cherry picked from commit f5295ed3acda48f9d57a51d84929776469c9f7ec)
"
openstack%2Ftripleo-common~master~I2927240638ad1a1d43450e2d94771436e2775637,openstack/tripleo-common,master,ceph_dashboard,I2927240638ad1a1d43450e2d94771436e2775637,Add new images for ceph dashboard composable service.,MERGED,2019-06-26 07:57:16.000000000,2019-07-03 12:46:00.000000000,2019-07-03 12:46:00.000000000,82,1,2,667538,8fb1b9edf1cdb6b2c7a4904d3661d97b0561c353,37,6,10,7,25402,Francesco Pantano,fmount,"Add new images for ceph dashboard composable service.

This review adds the grafana, prometheus, alertmanager
and node-exporter images to make them available as
parameters in the tht template. This also covers the
password generation for tht templates.

Depends-on: https://review.opendev.org/#/c/667837
Change-Id: I2927240638ad1a1d43450e2d94771436e2775637
"
openstack%2Fglance~master~I2ac631fa4d6a97003296d1d006c855cf538a785d,openstack/glance,master,bug/1281453,I2ac631fa4d6a97003296d1d006c855cf538a785d,Bug #1281453,ABANDONED,2019-06-26 11:09:55.000000000,2019-07-03 12:46:00.000000000,,99,50,0,667581,130ffbc8a7c1a0428459e6f6a51aaa2be57364c2,4,2,1,20,30459,Artem V. Okhotnikov,nominedei,"Bug #1281453

Change-Id: I2ac631fa4d6a97003296d1d006c855cf538a785d
"
openstack%2Fvitrage~stable%2Fstein~Ifcbdaffd12496c29efc6594aa2bb1111c0d6dfad,openstack/vitrage,stable/stein,,Ifcbdaffd12496c29efc6594aa2bb1111c0d6dfad,Bugfix - If graph is empty is_alive returns false.,MERGED,2019-07-02 11:40:55.000000000,2019-07-03 12:43:41.000000000,2019-07-03 12:43:41.000000000,1,1,0,668659,3267bffbea503b94e8846a7b9bd4f83ad4ccd8f4,18,5,1,1,19184,Idan Hefetz,idan-hefetz,"Bugfix - If graph is empty is_alive returns false.

Because self.graph evaluates to False

Change-Id: Ifcbdaffd12496c29efc6594aa2bb1111c0d6dfad
"
openstack%2Fgovernance-uc~master~I47d12348e5a80048785a93842f0dfd3060bdbc24,openstack/governance-uc,master,tox-fix,I47d12348e5a80048785a93842f0dfd3060bdbc24,Use upper-constraints in tox runs,MERGED,2019-07-02 20:22:12.000000000,2019-07-03 12:33:29.000000000,2019-07-03 12:33:28.000000000,7,2,0,668753,3ab144f096a8e940bd2a7b4fbfd85c657e88f15b,12,6,3,1,24100,John Studarus,john.studarus,"Use upper-constraints in tox runs

This fix stolen from:
https://review.opendev.org/#/c/658567/

The upper-constraints file wasn't being enforced
when installing dependencies in tox runs which can
lead to failures like installing Sphinx>2.0 in py27
where it's not supported.

This is loosely based on novaclient change
I8be883215f27abb58d15b85e8542cbdf32000bac for the
same kind of issue.

Change-Id: I47d12348e5a80048785a93842f0dfd3060bdbc24
"
openstack%2Fproject-config~master~Iba75d255f39313702ee9e95cf6d29a1e02489ac9,openstack/project-config,master,release-schedule-generator,Iba75d255f39313702ee9e95cf6d29a1e02489ac9,Retire the release-schedule-generator project,MERGED,2019-06-27 20:45:47.000000000,2019-07-03 12:32:15.000000000,2019-07-03 12:32:14.000000000,2,21,1,668045,24f4f352c92d9f1f09c2a124f5d6523abe3c1212,12,4,2,4,11904,Sean McGinnis,SeanM,"Retire the release-schedule-generator project

The functionality of this project is now included in tooling in the
openstack/releases repo and is no longer needed.

This is step 4 of the retire process.

Depends-on: https://review.opendev.org/668041
Change-Id: Iba75d255f39313702ee9e95cf6d29a1e02489ac9
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fproject-config~master~I3fe01ec5465e4ddc1eb7966beca96823c2dbda4b,openstack/project-config,master,new-project,I3fe01ec5465e4ddc1eb7966beca96823c2dbda4b,Moving ironic-prometheus-exporter under Ironic,MERGED,2019-06-14 07:49:08.000000000,2019-07-03 12:29:21.000000000,2019-07-03 12:29:21.000000000,9,0,2,665321,461b0584bf0b0ec088e0b4679a1e5242253480f4,15,5,4,3,15519,Iury Gregory Melo Ferreira,iurygregory,"Moving ironic-prometheus-exporter under Ironic

This commit moves the ironic-prometheus-exporter[1]
under the Ironic umbrella in OpenStack.

[1] https://github.com/metal3-io/ironic-prometheus-exporter

Needed-By: I396e0f8732370dcba1c8b04932b85380a236929e
Change-Id: I3fe01ec5465e4ddc1eb7966beca96823c2dbda4b
"
openstack%2Fkolla-ansible~master~I9e3650e83c72081ef2679fe01842bb9be6a4eb7c,openstack/kolla-ansible,master,fix-deploy-guide-build-v2,I9e3650e83c72081ef2679fe01842bb9be6a4eb7c,Fix deploy guide build (missing kolla project reference),MERGED,2019-07-03 07:04:01.000000000,2019-07-03 12:27:02.000000000,2019-07-03 12:27:02.000000000,1,0,0,668801,fd0607dc47363a986f9669eded19917bee4e35d9,9,3,1,1,30491,Radosław Piliszek,yoctozepto,"Fix deploy guide build (missing kolla project reference)

Change-Id: I9e3650e83c72081ef2679fe01842bb9be6a4eb7c
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fkayobe~master~Ic3932d4af5c0a7639dfeb6cda7e1cd3f61d287c6,openstack/kayobe,master,story/2006050,Ic3932d4af5c0a7639dfeb6cda7e1cd3f61d287c6,Workaround: stop bifrost services before seed upgrade,MERGED,2019-07-02 08:23:02.000000000,2019-07-03 12:25:08.000000000,2019-07-03 10:29:10.000000000,14,0,4,668632,77e8044a406b0cfeef377e0155b2fbcb5f05a67e,16,4,3,1,14826,Mark Goddard,mgoddard,"Workaround: stop bifrost services before seed upgrade

This avoids mariadb being ungracefully shut down, which prevents it from
being started again.

This should be reverted once bug 1834332 has been fixed in kolla ansible
stein.

Change-Id: Ic3932d4af5c0a7639dfeb6cda7e1cd3f61d287c6
Story: 2006050
Task: 34743
"
openstack%2Fopenstack-zuul-jobs~master~I3e775300bbdbad1f6e5f9e287a1d1e74e391563e,openstack/openstack-zuul-jobs,master,python3-train,I3e775300bbdbad1f6e5f9e287a1d1e74e391563e,Set python_version: 3.7 for openstack-tox-functional-py37,MERGED,2019-07-01 13:45:48.000000000,2019-07-03 12:16:04.000000000,2019-07-03 12:16:04.000000000,1,0,0,668466,3873c37403e71a78361daac1194c378ce1bbdf3e,7,3,1,1,11904,Sean McGinnis,SeanM,"Set python_version: 3.7 for openstack-tox-functional-py37

Explicitly set the Python version for the py37 job to make sure the
right interpreter is available.

Change-Id: I3e775300bbdbad1f6e5f9e287a1d1e74e391563e
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Frelease-schedule-generator~master~I0500fca26dc01b155c4f57097bbf2f976d13a6c8,openstack/release-schedule-generator,master,release-schedule-generator,I0500fca26dc01b155c4f57097bbf2f976d13a6c8,Retire repo,MERGED,2019-06-27 20:38:46.000000000,2019-07-03 12:15:38.000000000,2019-07-03 12:15:38.000000000,10,519,0,668041,a0a9baeaddac3f18743ad52c0f463f8bb058ae04,9,6,1,9,11904,Sean McGinnis,SeanM,"Retire repo

This repo is no longer needed. Tools for generating the release schedule
are now located in the openstack/releases repo.

Change-Id: I0500fca26dc01b155c4f57097bbf2f976d13a6c8
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Frenderspec~master~I08573b53609d67ebe829bfbb3f82edd7fac43f20,openstack/renderspec,master,py-versions-default,I08573b53609d67ebe829bfbb3f82edd7fac43f20,Add new context variable 'py_versions_default',ABANDONED,2019-07-03 09:15:28.000000000,2019-07-03 12:15:14.000000000,,44,0,0,668836,c356499d0e8fce7565b0e05e8de64ed8d6fe97ba,3,1,1,3,7102,Thomas Bechtold,toabctl,"Add new context variable 'py_versions_default'

The new variable 'py_versions_default' is useful for porting services
to python3.
When the variable is set, all py2pkg() calls that don't have
'py_versions' explicit set will use the 'py_versions_default' value.
x

Change-Id: I08573b53609d67ebe829bfbb3f82edd7fac43f20
"
openstack%2Ftripleo-heat-templates~master~I4c102d8f728a90cf9eb90f6129738377a8d2503c,openstack/tripleo-heat-templates,master,bug/1834306,I4c102d8f728a90cf9eb90f6129738377a8d2503c,Use per-subnet DNS nameservers for ctlplane,MERGED,2019-06-25 15:06:37.000000000,2019-07-03 12:12:19.000000000,2019-07-03 12:12:19.000000000,4,5,0,667381,dae0a89a80c5636a4b6d175501e009beb7071cf5,12,6,2,2,24245,Harald Jensås,harald.jensas,"Use per-subnet DNS nameservers for ctlplane

Use the DNS nameservers for each ctlplane subnet,
instead of using the same DNSServers for all subnets.

Related-Bug: #1834306
Depends-On: I0dc03eddf9ea00ff33cd3ae0cdc8f42a4961e89c
Change-Id: I4c102d8f728a90cf9eb90f6129738377a8d2503c
"
openstack%2Fos-brick~master~I0010e9014c06a3a812d24d9d5ef598425ac5d5d4,openstack/os-brick,master,bug/1834851,I0010e9014c06a3a812d24d9d5ef598425ac5d5d4,luks: Explicitly use the luks1 type to ensure LUKS v1 is used,MERGED,2019-07-01 11:54:55.000000000,2019-07-03 11:50:37.000000000,2019-07-03 11:50:37.000000000,3,3,0,668448,97b085f448e15269c28ed8adc60601894c470747,34,16,2,2,10135,Lee Yarwood,lyarwood,"luks: Explicitly use the luks1 type to ensure LUKS v1 is used

I152fe10ff5a3131950b789d3fd4efa15c554ff09 attempted to ensure LUKS
volumes were formatted using the LUKS v1 header format by using a type
of `luks`. However from cryptsetup 2.1.0 (incorrectly referenced as
2.0.6 in the previous change) this type can actually refer to the newer
LUKS v2 header format in environments where cryptsetup has not complied
with the `--with-default-luks-format=LUKS1` build time configuration
option [1].

This change now explicitly uses the luks1 type when formatting a device
to ensure the correct LUKS v1 header format is used.

[1] https://gitlab.com/cryptsetup/cryptsetup/blob/master/docs/v2.1.0-ReleaseNotes

Closes-Bug: #1834851
Change-Id: I0010e9014c06a3a812d24d9d5ef598425ac5d5d4
"
openstack%2Ftripleo-heat-templates~master~I131cbafc126bcc4dbea5d38e0ff7adc177d114bd,openstack/tripleo-heat-templates,master,bug/1832441,I131cbafc126bcc4dbea5d38e0ff7adc177d114bd,"Revert ""Remove os-collect-config related poperties and attributes""",MERGED,2019-07-01 14:43:20.000000000,2019-07-03 11:48:20.000000000,2019-07-02 16:32:44.000000000,55,0,0,668482,b5a2a61dfea167ed96b52098dbd5807b3fae44a6,17,8,2,2,11090,Sergii Golovatiuk,holser,"Revert ""Remove os-collect-config related poperties and attributes""

This reverts commit 89e9fe53b20ee87a6a7ebe41af48f7ab206ebf05.

Closes-Bug:  #1834881

Change-Id: I131cbafc126bcc4dbea5d38e0ff7adc177d114bd
"
openstack%2Fplacement~master~I625118e934154249287d45ed114ed093531994eb,openstack/placement,master,can_split,I625118e934154249287d45ed114ed093531994eb,Gabbi test cases for can_split,ABANDONED,2019-05-09 19:18:25.000000000,2019-07-03 11:47:17.000000000,,124,0,0,658192,ee4dad77d82735361643177f18b82e4a8173e8eb,13,3,4,1,14070,Eric Fried,efried,"Gabbi test cases for can_split

Introduce gabbit allocation-candidates-can-split with some test cases
for the upcoming can_split feature. These are (mostly) set up to xfail
right now. When the feature is implemented, change this file as follows:

- Bump the microversion in the header
- Remove xfail:true
- Adjust any error strings etc. according to the real implementation

Change-Id: I625118e934154249287d45ed114ed093531994eb
Story: #2005575
"
openstack%2Fwatcher~master~Ia33cd4576e4b55e651f3f3779a01f2867126138d,openstack/watcher,master,improve-optgroup-consistency,Ia33cd4576e4b55e651f3f3779a01f2867126138d,improve OptGroup consistency across configuration,MERGED,2019-06-26 06:44:56.000000000,2019-07-03 11:45:00.000000000,2019-07-03 11:45:00.000000000,62,50,14,667522,cebee2c4d715b83e86b1b06e4960e4ae471700ec,22,5,5,20,29911,Dantali0n,Dantali0n,"improve OptGroup consistency across configuration

This is a follow-up to: https://review.opendev.org/#/c/666897/
and makes sure titles and help information get rendered in
the configuration documentation and configuration samples.

The options for the placement_client group are already changed
and left untouched as a result. The changes to grafana_client
are already done in another patch and also untouched.

Change-Id: Ia33cd4576e4b55e651f3f3779a01f2867126138d
"
openstack%2Fcinder~master~I88ed5ba7c7b186cc8f2af35b30f01d09b2ac5a19,openstack/cinder,master,sphinx,I88ed5ba7c7b186cc8f2af35b30f01d09b2ac5a19,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-06-26 07:07:05.000000000,2019-07-03 11:40:50.000000000,2019-07-03 11:40:50.000000000,1,1,0,667525,a49f8c42f93459ee42a6030b132c90cb94df0f23,26,21,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I88ed5ba7c7b186cc8f2af35b30f01d09b2ac5a19
"
openstack%2Foperations-guide~master~I809124fef1fd480a5561ca94c8357bf9f3d3cd7d,openstack/operations-guide,master,fix-translations,I809124fef1fd480a5561ca94c8357bf9f3d3cd7d,Add bindep.txt,MERGED,2019-07-03 09:33:57.000000000,2019-07-03 11:26:34.000000000,2019-07-03 11:26:34.000000000,11,0,0,668845,a3c10f68b947cf9409331985dac997fdb5c82bc7,7,3,1,1,6547,Andreas Jaeger,jaegerandi,"Add bindep.txt

For translations, we need gettext installed. With the recent removal
of the bindep fallback file, we need to provide our own.

Change-Id: I809124fef1fd480a5561ca94c8357bf9f3d3cd7d
"
openstack%2Fmanila-ui~master~I7effff7fbd26b475fdc9b595bfdd5fcc788dd2cc,openstack/manila-ui,master,python3-train,I7effff7fbd26b475fdc9b595bfdd5fcc788dd2cc,Use openstack-python3-train-jobs for python3 test runtime,MERGED,2019-06-21 06:04:18.000000000,2019-07-03 11:25:26.000000000,2019-07-03 11:25:26.000000000,1,2,1,666776,386735f691e0bd8679b084953d69b9b9db4c1a8d,11,10,2,1,27822,pengyuesheng,pengyuesheng,"Use openstack-python3-train-jobs for python3 test runtime

Change-Id: I7effff7fbd26b475fdc9b595bfdd5fcc788dd2cc
"
openstack%2Fopenstack-helm-images~master~Ibbd43c931f26611027a8331fb0c0391f62e8d734,openstack/openstack-helm-images,master,,Ibbd43c931f26611027a8331fb0c0391f62e8d734,Upstream to new location first time,ABANDONED,2019-07-03 11:21:38.000000000,2019-07-03 11:25:15.000000000,,329,8577,0,668867,634d94f51cac32c063c63e3cd3207485ee07ca2f,2,0,1,146,30120,Colbert Philippe,cp0396,"Upstream to new location first time

Change-Id: Ibbd43c931f26611027a8331fb0c0391f62e8d734
"
openstack%2Fsahara~master~I2ad546957b8fa3251df869a048b5fe44eaa17fc1,openstack/sahara,master,zanata/translations,I2ad546957b8fa3251df869a048b5fe44eaa17fc1,Imported Translations from Zanata,MERGED,2019-07-03 08:01:57.000000000,2019-07-03 10:52:36.000000000,2019-07-03 10:52:36.000000000,162,2,0,668820,36dfcd77590345c770453f5bfad66d45f217de8f,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2ad546957b8fa3251df869a048b5fe44eaa17fc1
"
openstack%2Fcyborg~master~Idc3e5ce0678adcbd488e11f3057e7e4aae1f7dde,openstack/cyborg,master,resource-report,Idc3e5ce0678adcbd488e11f3057e7e4aae1f7dde,Resource report to placement,ABANDONED,2018-09-10 03:07:10.000000000,2019-07-03 10:37:28.000000000,,274,32,9,601150,16d82f2dcbd1f515d93fd203430c53254259ff94,13,5,3,8,25738,Xinran WANG,Xinran,"Resource report to placement

Generate resource provider tree, report resource to placement.

Change-Id: Idc3e5ce0678adcbd488e11f3057e7e4aae1f7dde
"
openstack%2Fkarbor-dashboard~master~I1eea1cf828ada4c4ee59dc4621f60c90cf521655,openstack/karbor-dashboard,master,,I1eea1cf828ada4c4ee59dc4621f60c90cf521655,Switch to the new canonical constraints URL on master,MERGED,2019-07-03 07:59:07.000000000,2019-07-03 09:44:33.000000000,2019-07-03 09:44:33.000000000,1,1,0,668818,e06dbf28252ba1fa27f032381de81500a70f2c8e,7,3,1,1,28748,chenker,chenke,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
2. https://github.com/openstack/nova/blob/master/tox.ini#L17

Change-Id: I1eea1cf828ada4c4ee59dc4621f60c90cf521655
"
openstack%2Fpython-watcherclient~master~Id5a150cbfa658383f6ae7958a06ebe3a4f9047e6,openstack/python-watcherclient,master,python3-train,Id5a150cbfa658383f6ae7958a06ebe3a4f9047e6,Add Python3 Train unit tests,MERGED,2019-07-03 03:20:15.000000000,2019-07-03 09:29:06.000000000,2019-07-03 09:29:06.000000000,3,3,0,668778,3caa385548839f54ba0ade522c53fbfbdc6feb5f,7,3,1,3,21692,licanwei,licanwei,"Add Python3 Train unit tests

This is one goal of Train Cycle.
See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Id5a150cbfa658383f6ae7958a06ebe3a4f9047e6
"
openstack%2Fcharm-deployment-guide~master~Ic2652ba7d317e5adb93a5cf93a813d37f29efd87,openstack/charm-deployment-guide,master,bug/1835165,Ic2652ba7d317e5adb93a5cf93a813d37f29efd87,Use explicit relations for vault and etcd,MERGED,2019-07-03 08:51:37.000000000,2019-07-03 09:27:17.000000000,2019-07-03 09:27:16.000000000,5,5,0,668830,0ef6df3e8288c6df09442677e9b27d9668fa3f77,6,2,1,1,8108,Nobuto Murata,nobuto-m,"Use explicit relations for vault and etcd

Now etcd and vault have two relations. Also, it's nice to have explicit
relations for others for the future.

Change-Id: Ic2652ba7d317e5adb93a5cf93a813d37f29efd87
Close-Bug: #1835165
"
openstack%2Fopenstack-chef~master~I59ecca24bb691c03aa261ad5380f8ee688c9df72,openstack/openstack-chef,master,chef-client-proper,I59ecca24bb691c03aa261ad5380f8ee688c9df72,DNM: Install chef pkg safely,ABANDONED,2019-07-01 08:21:03.000000000,2019-07-03 09:25:54.000000000,,3,1,0,668386,732663d9e258c3521e09065d25299c46002481da,3,1,1,1,13252,Dr. Jens Harbott,jrosenboom,"DNM: Install chef pkg safely

This is just to verify whether this works properly, would need to be
amended into 666176 then.

Change-Id: I59ecca24bb691c03aa261ad5380f8ee688c9df72
"
openstack%2Fkolla-ansible~stable%2Frocky~I4f45cd18b86ebe0efcc3101e31e4bcafdc83eb57,openstack/kolla-ansible,stable/rocky,rocky-fix-ceph-jobs-for-kolla,I4f45cd18b86ebe0efcc3101e31e4bcafdc83eb57,(Rocky and Queens only) CI: Fix ceph jobs for kolla,MERGED,2019-06-30 18:54:43.000000000,2019-07-03 09:13:19.000000000,2019-07-03 09:13:19.000000000,1,3,0,668335,1d22714cfeb5bdde43255286549ea781d67f52dd,12,3,2,1,30491,Radosław Piliszek,yoctozepto,"(Rocky and Queens only) CI: Fix ceph jobs for kolla

The way Zuul handles job dependencies caused the computed path
to setup_ceph_disks.sh to be wrong when job was run due to kolla
(as opposed to kolla-ansible) change.

This patch uses a relative path as is the case in Stein and later.

Change-Id: I4f45cd18b86ebe0efcc3101e31e4bcafdc83eb57
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fcharm-swift-proxy~master~I348ded9f94f2bcb7a680b2c2280ff163cde65c46,openstack/charm-swift-proxy,master,bug/1328064,I348ded9f94f2bcb7a680b2c2280ff163cde65c46,Dispersion report,MERGED,2019-03-27 12:40:09.000000000,2019-07-03 09:08:06.000000000,2019-07-03 09:08:05.000000000,144,3,2,648114,f9a02a3f584dd3ec6ad70493ad671818a42822ef,51,4,7,10,24504,Tytus Kurek,tkurek,"Dispersion report

This patchset adds a template for the 'dispersion.conf' file which is
used for swift cluster health monitoring.

Change-Id: I348ded9f94f2bcb7a680b2c2280ff163cde65c46
Closes-Bug: 1328064
"
openstack%2Fdesignate~master~Ia6bb9d3f670f24377da870a1197f90785f249c9c,openstack/designate,master,drop-postgres-job,Ia6bb9d3f670f24377da870a1197f90785f249c9c,Drop designate-pdns4-postgres job,ABANDONED,2019-07-02 10:19:07.000000000,2019-07-03 08:44:46.000000000,,0,8,0,668648,91e00952596d7b7d8817a0b18535c0fbffbb7578,4,2,1,1,13252,Dr. Jens Harbott,jrosenboom,"Drop designate-pdns4-postgres job

This didn't use postgres anymore since we switched from the
devstack-gate legacy jobs to the Zuul v3 version.

Change-Id: Ia6bb9d3f670f24377da870a1197f90785f249c9c
"
openstack%2Fkuryr-tempest-plugin~master~I1e539802426e530ba00213f02d839d5e220ad3dc,openstack/kuryr-tempest-plugin,master,remove-test-something,I1e539802426e530ba00213f02d839d5e220ad3dc,Remove test_kuryr_tempest_plugin.py,MERGED,2019-06-26 16:10:04.000000000,2019-07-03 08:32:42.000000000,2019-07-03 08:32:42.000000000,0,32,0,667670,ee968d17998dab8919f624a0396a4764f97249fd,8,4,1,1,11600,Michał Dulko,dulek,"Remove test_kuryr_tempest_plugin.py

I assume we don't need a noop test_something() anymore.

Change-Id: I1e539802426e530ba00213f02d839d5e220ad3dc
"
openstack%2Ftricircle~master~I5a4557446264766c5ad974fe6797db6fb92ecff0,openstack/tricircle,master,,I5a4557446264766c5ad974fe6797db6fb92ecff0,Add more unit test case more than 80%,MERGED,2019-04-22 03:56:07.000000000,2019-07-03 08:10:40.000000000,2019-07-03 08:10:40.000000000,2175,111,0,654291,dd9b42bf6a614047982ec6910ed52cb7ed0d7291,24,2,11,13,26133,zhangxiaohan,zhangxiaohan,"Add more unit test case more than 80%

Change-Id: I5a4557446264766c5ad974fe6797db6fb92ecff0
Signed-off-by: zhang xiaohan <zhangxiaohan@szzt.com.cn>
Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>
"
openstack%2Ftempest~master~I08049c7f4102dd8fb70342e42967bbc4e7dec673,openstack/tempest,master,,I08049c7f4102dd8fb70342e42967bbc4e7dec673,add volume_type_encryption operate interface methods in /v3/types_client.py file,ABANDONED,2019-07-02 07:09:09.000000000,2019-07-03 08:08:39.000000000,,80,1,2,668618,9a0a4506a2596cfda9c61a2091b9d1d318329797,5,3,1,1,30409,wangzhiguang,wangzhiguang,"add volume_type_encryption operate interface methods in /v3/types_client.py file

Change-Id: I08049c7f4102dd8fb70342e42967bbc4e7dec673
"
openstack%2Fkolla~master~I78e9574ea01d84051dbc649fea1b5b9556778a15,openstack/kolla,master,,I78e9574ea01d84051dbc649fea1b5b9556778a15,base: do not put grafana repo twice,MERGED,2019-06-26 12:05:02.000000000,2019-07-03 07:38:04.000000000,2019-07-03 07:38:04.000000000,0,2,0,667587,91b7bcd297515354af2aa83d714638787ad68db5,19,6,1,1,24072,Marcin Juszkiewicz,hrw,"base: do not put grafana repo twice

By mistake I added it second time in
1e7a78932dc0461c60d9fd6e613b252d8b22ff01 commit.

Change-Id: I78e9574ea01d84051dbc649fea1b5b9556778a15
"
openstack%2Fkolla~master~Id13545224fa0fbb729d46386a10505e0989fc3c6,openstack/kolla,master,667588,Id13545224fa0fbb729d46386a10505e0989fc3c6,build: add timestamps to start/end of build,MERGED,2019-06-26 12:05:39.000000000,2019-07-03 07:38:02.000000000,2019-07-03 07:38:02.000000000,5,2,2,667588,6e505affde45168ca3246f9377fa880dbe624c76,22,6,2,1,24072,Marcin Juszkiewicz,hrw,"build: add timestamps to start/end of build

During recent CI issues I got an idea that it would be nice to have
information how much time building specific image took. On local systems
we can do log and then check 'modified_time - creation_time' but not on
CI jobs.

Fresh image:

INFO:kolla.common.utils.base:Building started at 2019-06-26 13:53:08.393544
INFO:kolla.common.utils.base:Ended at 2019-06-26 13:56:40.354761 (took 0:03:31.961225)

Rebuild:

INFO:kolla.common.utils.base:Building started at 2019-06-26 14:00:34.913194
INFO:kolla.common.utils.base:Built at 2019-06-26 14:00:38.988874 (took 0:00:04.075686)

Failed images do not get second line due to logger.exception() being
used.

Change-Id: Id13545224fa0fbb729d46386a10505e0989fc3c6
"
openstack%2Fkolla~master~I410cb943b766284a6b7bf11b0dd53bd2cdc75749,openstack/kolla,master,,I410cb943b766284a6b7bf11b0dd53bd2cdc75749,"Enable CI jobs for ceph upgrade, NFV, cinder LVM, ironic",MERGED,2019-06-18 17:29:09.000000000,2019-07-03 07:38:00.000000000,2019-07-03 07:38:00.000000000,20,4,8,666068,0a4649aadd2166ca0819a5b427fd2e2b533bdedc,34,8,7,2,14826,Mark Goddard,mgoddard,"Enable CI jobs for ceph upgrade, NFV, cinder LVM, ironic

Change-Id: I410cb943b766284a6b7bf11b0dd53bd2cdc75749
"
openstack%2Fkolla~master~Ie259a38aad84bd8f5392f19791edfbd1f8ec4b1a,openstack/kolla,master,667797,Ie259a38aad84bd8f5392f19791edfbd1f8ec4b1a,Add more entries into SKIPPED_IMAGES,MERGED,2019-06-27 07:15:19.000000000,2019-07-03 07:37:58.000000000,2019-07-03 07:37:58.000000000,35,0,4,667797,fadabf0e46d89c85e656ff3b86c7cd01f0356219,21,6,3,1,24072,Marcin Juszkiewicz,hrw,"Add more entries into SKIPPED_IMAGES

Did build of all images for AArch64, looked at failures and here is a
list of ones which never build due to lack of packages.

There are some images which could get to the list but there are already
patches for them in Gerrit.

Also added three more entries for Debian due to missing packages.

Change-Id: Ie259a38aad84bd8f5392f19791edfbd1f8ec4b1a
"
openstack%2Fkolla~master~If58f15e18e420aca790496132352f1c1dcdb2640,openstack/kolla,master,extract-ci-vars,If58f15e18e420aca790496132352f1c1dcdb2640,Extract CI vars for use in kolla-ansible jobs,MERGED,2019-06-28 18:18:57.000000000,2019-07-03 07:37:56.000000000,2019-07-03 07:37:56.000000000,11,9,1,668226,8270ae20f9a8d528d5bea9e275a84a3ef4cf23aa,14,5,1,2,30491,Radosław Piliszek,yoctozepto,"Extract CI vars for use in kolla-ansible jobs

Change-Id: If58f15e18e420aca790496132352f1c1dcdb2640
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fkolla~master~I98405e3fb32cbec2d9863817a913ed71c5597e15,openstack/kolla,master,,I98405e3fb32cbec2d9863817a913ed71c5597e15,Fixes ceph-osd deploys with loop devices.,MERGED,2019-06-28 18:04:48.000000000,2019-07-03 07:37:55.000000000,2019-07-03 07:37:54.000000000,6,1,0,668222,f5ac80e332c2a057ee68d95983492bc7e1156b9a,16,6,1,1,30523,Dincer Celik,osmanlicilegi,"Fixes ceph-osd deploys with loop devices.

Change-Id: I98405e3fb32cbec2d9863817a913ed71c5597e15
Closes-Bug: #1834678
"
openstack%2Fkolla~stable%2Frocky~I1d69ec0ca97dbbacccfe737fca03c9739244b900,openstack/kolla,stable/rocky,fix-ceph-nfs-deploy-stable/rocky,I1d69ec0ca97dbbacccfe737fca03c9739244b900,Fix deployment of ceph-nfs container failing due to wrong USER,MERGED,2019-06-27 09:10:54.000000000,2019-07-03 07:37:54.000000000,2019-07-03 07:37:53.000000000,0,3,0,667825,eaccc3b27d4e7fda400fa29a01bad83714496048,18,7,1,1,14826,Mark Goddard,mgoddard,"Fix deployment of ceph-nfs container failing due to wrong USER

The startup script requires to be run as root, not ceph.
All other ceph images follow this rule.

Also removed redundant blank line.

Change-Id: I1d69ec0ca97dbbacccfe737fca03c9739244b900
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit dc879dff3bf5cea9d64469395fe140b2ac7e4a3d)
"
openstack%2Fkolla~stable%2Fstein~Ie856fcc179933c5b58f8944ea6b57a402d83843b,openstack/kolla,stable/stein,stub/neutron-14.0.2,Ie856fcc179933c5b58f8944ea6b57a402d83843b,Update versions: ./tools/version-check.py,MERGED,2019-07-01 15:23:26.000000000,2019-07-03 07:37:52.000000000,2019-07-03 07:37:52.000000000,2,2,0,668491,6fd4b02178653b94ea87e085c1e4148d38e28494,11,7,1,1,30484,Michael,mabarkdoll,"Update versions:
./tools/version-check.py

Update ironic-inspector-8.2.2
Update neutron-14.0.2

Change-Id: Ie856fcc179933c5b58f8944ea6b57a402d83843b
"
openstack%2Fkolla~stable%2Fpike~I9828c23e4bcec7553a69aa5f20e990e0ef0538ea,openstack/kolla,stable/pike,pike-em,I9828c23e4bcec7553a69aa5f20e990e0ef0538ea,Fix bandit failure B105 in keystone fernet,MERGED,2019-07-02 07:41:30.000000000,2019-07-03 07:37:50.000000000,2019-07-03 07:37:50.000000000,2,1,0,668625,658090a3af8756f625ea9db08ea0826953b9264a,8,4,1,1,16312,Alfredo Moralejo,amoralej,"Fix bandit failure B105 in keystone fernet

>> Issue: [B105:hardcoded_password_string] Possible hardcoded password: '/etc/keystone/fernet-keys'
   Severity: Low Confidence: Medium
      Location: docker/keystone/keystone-fernet/fetch_fernet_tokens.py:27
         More Info: https://bandit.readthedocs.io/en/latest/plugins/b105_hardcoded_password_string.html

Ignore bandit failures on this line.

Change-Id: I9828c23e4bcec7553a69aa5f20e990e0ef0538ea
Closes-Bug: #1828416
(cherry picked from commit e6387634c6a7170e96606b9a8ff680f08d81e801)
"
openstack%2Fkolla~master~If75db0f9fc1bfe82a4ace2cd5bfe603cfe5a5396,openstack/kolla,master,,If75db0f9fc1bfe82a4ace2cd5bfe603cfe5a5396,ubuntu: use UCA/train,MERGED,2019-06-18 08:31:38.000000000,2019-07-03 07:37:49.000000000,2019-07-03 07:37:48.000000000,3,3,0,665908,7dab1fedd044a95fa1203b9ca809e13330f5936b,31,6,1,3,24072,Marcin Juszkiewicz,hrw,"ubuntu: use UCA/train

Change-Id: If75db0f9fc1bfe82a4ace2cd5bfe603cfe5a5396
"
openstack%2Fkolla-ansible~stable%2Fstein~Ia6fc9011ee6f5461f40a1307b72709d769814a79,openstack/kolla-ansible,stable/stein,bug/1821362,Ia6fc9011ee6f5461f40a1307b72709d769814a79,Restart all nova services after upgrade,MERGED,2019-06-27 14:17:41.000000000,2019-07-03 07:29:59.000000000,2019-07-03 07:29:59.000000000,61,42,0,667934,96a96a26557092971604441a53f74a0cb98979a5,7,3,1,5,14826,Mark Goddard,mgoddard,"Restart all nova services after upgrade

During an upgrade, nova pins the version of RPC calls to the minimum
seen across all services. This ensures that old services do not receive
data they cannot handle. After the upgrade is complete, all nova
services are supposed to be reloaded via SIGHUP to cause them to check
again the RPC versions of services and use the new latest version which
should now be supported by all running services.

Due to a bug [1] in oslo.service, sending services SIGHUP is currently
broken. We replaced the HUP with a restart for the nova_compute
container for bug 1821362, but not other nova services. It seems we need
to restart all nova services to allow the RPC version pin to be removed.

Testing in a Queens to Rocky upgrade, we find the following in the logs:

Automatically selected compute RPC version 5.0 from minimum service
version 30

However, the service version in Rocky is 35.

There is a second issue in that it takes some time for the upgraded
services to update the nova services database table with their new
version. We need to wait until all nova-compute services have done this
before the restart is performed, otherwise the RPC version cap will
remain in place. There is currently no interface in nova available for
checking these versions [2], so as a workaround we use a configurable
delay with a default duration of 30 seconds. Testing showed it takes
about 10 seconds for the version to be updated, so this gives us some
headroom.

This change restarts all nova services after an upgrade, after a 30
second delay.

[1] https://bugs.launchpad.net/oslo.service/+bug/1715374
[2] https://bugs.launchpad.net/nova/+bug/1833542

Change-Id: Ia6fc9011ee6f5461f40a1307b72709d769814a79
Closes-Bug: #1833069
Related-Bug: #1833542
(cherry picked from commit e6d2b92200d02715649d923b0ef2d6981905a6b9)
"
openstack%2Frpm-packaging~master~I5cc849d94f5b6345997599bd0d77eab44d3f9493,openstack/rpm-packaging,master,python-glareclient,I5cc849d94f5b6345997599bd0d77eab44d3f9493,update python-glareclient to 1.0.0,ABANDONED,2019-06-12 07:44:38.000000000,2019-07-03 07:06:56.000000000,,1,1,0,664815,3c653339cf740e2c092cec8330860a9c8000f39a,6,4,1,1,28654,chenming,mmbbz,"update python-glareclient to 1.0.0

Change-Id: I5cc849d94f5b6345997599bd0d77eab44d3f9493
"
openstack%2Fironic-inspector~master~Ic17e59267bf4ae814c5e734603b5c9307819e086,openstack/ironic-inspector,master,bindep-fallback,Ic17e59267bf4ae814c5e734603b5c9307819e086,add local bindep.txt,MERGED,2019-06-28 16:11:14.000000000,2019-07-03 07:02:43.000000000,2019-07-03 07:02:43.000000000,6,0,1,668199,b7bb38777882bbbd0f9931b1ec98266331a71be7,52,10,2,1,23851,Riccardo Pittau,elfosardo,"add local bindep.txt

Global bindep-fallback.txt was removed [1] and now projects need
to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086
"
openstack%2Ftripleo-heat-templates~master~Id54477ca5581e1f5fe8a09c3bc60a238d114dbb2,openstack/tripleo-heat-templates,master,bug/1821377,Id54477ca5581e1f5fe8a09c3bc60a238d114dbb2,Per-Role krb-service-principal for CompactServices,MERGED,2019-07-01 10:13:17.000000000,2019-07-03 07:01:41.000000000,2019-07-02 19:40:21.000000000,14,3,0,668407,578bcb2ffad32c6a39d68b5dc360504e95972ffa,20,7,4,1,24245,Harald Jensås,harald.jensas,"Per-Role krb-service-principal for CompactServices

Filter krb-service-principals for the CompactServices
based on the networks associated with the role.

Filtering for the IndividualServices was added in previous
fix https://review.openstack.org/646005, which did'nt
fully fix the bug.

Closes-Bug: #1821377
Change-Id: Id54477ca5581e1f5fe8a09c3bc60a238d114dbb2
"
openstack%2Fmanila~stable%2Fstein~I83a1fbeb8cc7f40e07017541283418da65f0fc36,openstack/manila,stable/stein,,I83a1fbeb8cc7f40e07017541283418da65f0fc36,Remove the redunant table from windows' editor,MERGED,2019-07-03 02:10:17.000000000,2019-07-03 06:59:39.000000000,2019-07-03 02:26:43.000000000,1,1,0,668774,1f68a8ffc55520272235b8165cd32abf6e6b3689,9,5,1,1,16643,Goutham Pacha Ravi,gouthamr,"Remove the redunant table from windows' editor

In windows env, cannot deal with '\t\t\t', maybe this is mistake
result in 'git pull' faild on windows env. In linux env show that(from
table):
[root@localhost manila]# vim releasenotes/notes/bug-1818081
bug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml^I^I^I

Change-Id: I83a1fbeb8cc7f40e07017541283418da65f0fc36
(cherry picked from commit d3b26f3d93adffee2f9b6bbbc78768d8752becdd)
"
openstack%2Fstorlets~master~Icd81d28b9b3555bce365e7b279ada074d239fddc,openstack/storlets,master,restart,Icd81d28b9b3555bce365e7b279ada074d239fddc,Prevent undesired retry when starting container,MERGED,2017-01-14 17:00:54.000000000,2019-07-03 06:41:34.000000000,2019-07-03 06:41:33.000000000,93,34,7,420356,25e72012034a03e429562623dfeff01f90003036,25,4,7,3,9816,Takashi Kajinami,kajinamit,"Prevent undesired retry when starting container

Previously, if we fail to start a storlet container using tenant
image, we retry to start it using default tenant image. However,
that sometimes causes unexpected retry, for example when there is
something wrong in tenant image which prevents daemon factory to
launch in time.

This patch makes docker runtime to check return code of container
restarting script, so that we only restart container when the
runtime fails in container operation using tenant image.
In addition, it lets docker runtime to log stdout/stderr output
generated by restart_docker_container, to help us to debug what
is happening about container management.

Change-Id: Icd81d28b9b3555bce365e7b279ada074d239fddc
"
openstack%2Fdiskimage-builder~master~I6206b19891bd6fb27e61ce85cdcb856f0663471e,openstack/diskimage-builder,master,,I6206b19891bd6fb27e61ce85cdcb856f0663471e,WIP: Adds release->rhel8 for ironic-agent pkg-map,ABANDONED,2019-07-01 11:18:19.000000000,2019-07-03 06:16:41.000000000,,11,0,1,668436,e05b1ff219af662c367d2f6e431dd865260289c4,17,6,3,1,8449,Marios Andreou,marios,"WIP: Adds release->rhel8 for ironic-agent pkg-map

As tracked in [1] by tripleo-ci squad we need this for rhel8
I cannot find the right scsi-target-utils so """" for now

Related-Bug: 1834624
[1] https://tree.taiga.io/project/tripleo-ci-board/task/1114

Change-Id: I6206b19891bd6fb27e61ce85cdcb856f0663471e
"
openstack%2Fmanila~master~I83a1fbeb8cc7f40e07017541283418da65f0fc36,openstack/manila,master,,I83a1fbeb8cc7f40e07017541283418da65f0fc36,Remove the redunant table from windows' editor,MERGED,2019-07-03 01:51:32.000000000,2019-07-03 05:51:23.000000000,2019-07-03 02:10:03.000000000,1,1,0,668771,d3b26f3d93adffee2f9b6bbbc78768d8752becdd,15,7,2,1,26458,Brin Zhang,zhangbailin,"Remove the redunant table from windows' editor

In windows env, cannot deal with '\t\t\t', maybe this is mistake
result in 'git pull' faild on windows env. In linux env show that(from
table):
[root@localhost manila]# vim releasenotes/notes/bug-1818081
bug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml^I^I^I

Change-Id: I83a1fbeb8cc7f40e07017541283418da65f0fc36
"
openstack%2Fstorlets~master~I99cd167ef5c5fb6a12208cb16b2f26e7b1f00547,openstack/storlets,master,unused,I99cd167ef5c5fb6a12208cb16b2f26e7b1f00547,Fix docs for docker host_root,MERGED,2019-07-03 04:40:37.000000000,2019-07-03 05:34:59.000000000,2019-07-03 05:34:59.000000000,1,1,0,668783,e93ce579c17c43331b614623ef6b91f5119b45e5,6,2,1,1,4608,Kota Tsuyuzaki,tsuyuzaki-kota,"Fix docs for docker host_root

Change-Id: I99cd167ef5c5fb6a12208cb16b2f26e7b1f00547
"
openstack%2Fdevstack~stable%2Fstein~Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1,openstack/devstack,stable/stein,bug/1833696-stable/stein,Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1,Fix rdo-release install,MERGED,2019-07-02 17:42:21.000000000,2019-07-03 05:34:49.000000000,2019-07-03 01:49:16.000000000,7,1,0,668720,fb3b6e4baa5a990da70c8b43bca181959a610278,8,3,1,1,16643,Goutham Pacha Ravi,gouthamr,"Fix rdo-release install

The URL for rdo-release package is version-less and redirects to latest
stable version. This becomes problematic when stacking older stable
versions as dependencies might not be met or newer and incompatibile
ones might get installed.

Closes-Bug: #1833696

Change-Id: Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1
(cherry picked from commit 8b31dce38b630ba3ed1883bcf91a90d296ae44f2)
"
openstack%2Fpython-keystoneclient~master~I18a82c23881484276b7b317b6c5b42c263dcd59a,openstack/python-keystoneclient,master,660609,I18a82c23881484276b7b317b6c5b42c263dcd59a,[WIP] update keyring version,ABANDONED,2019-05-29 06:48:53.000000000,2019-07-03 05:24:53.000000000,,4,2,0,661897,cb46a15f4daeb78f414b3a15060e9f1d2e627ad6,5,1,2,2,27621,Vishakha Agarwal,Vishakha,"[WIP] update keyring version

Change-Id: I18a82c23881484276b7b317b6c5b42c263dcd59a
"
openstack%2Fstorlets~master~I883cc6fdd71c6907ac3ed5e8f593b0662936d557,openstack/storlets,master,unused,I883cc6fdd71c6907ac3ed5e8f593b0662936d557,Remove unused parameters from sample conf files,MERGED,2019-05-03 09:29:16.000000000,2019-07-03 05:22:47.000000000,2019-07-03 05:22:47.000000000,1,3,1,656936,575b39510dda599d6933712f8e9d2e444dad6753,8,2,2,2,9816,Takashi Kajinami,kajinamit,"Remove unused parameters from sample conf files

There are some old parameters in current sample conf files.
This patch updates these files, to have only available parameters
are listed.

TrivialFix

Change-Id: I883cc6fdd71c6907ac3ed5e8f593b0662936d557
"
openstack%2Fheat~master~I4cf72ae6d11ffbedc20adedfe7b6d2a1d47e23ee,openstack/heat,master,bug/1834881,I4cf72ae6d11ffbedc20adedfe7b6d2a1d47e23ee,Don't resolve properties for OS::Heat::None resource,MERGED,2019-07-02 17:13:16.000000000,2019-07-03 05:17:44.000000000,2019-07-03 05:14:05.000000000,4,0,1,668718,7066bccc538574de5424ff0b79ce1e2feeb6e2ad,14,3,2,1,8833,Rabi Mishra,rabi,"Don't resolve properties for OS::Heat::None resource

We don't store resource_properties_data for OS::Heat::None.
There is no point trying to resolve the properties for old resource
which would fail at times.

Change-Id: I4cf72ae6d11ffbedc20adedfe7b6d2a1d47e23ee
Task: 35661
Closes-Bug: #1834881
"
openstack%2Fswift~master~Ica740c28b47aa3f3b38dbfed4a7f5662ec46c2c4,openstack/swift,master,,Ica740c28b47aa3f3b38dbfed4a7f5662ec46c2c4,Add information about secret_cache_duration to sample config,MERGED,2019-07-02 18:21:52.000000000,2019-07-03 05:10:02.000000000,2019-07-03 05:08:47.000000000,14,0,0,668727,4f7c44a9d7921849da0f3eecd23c26b65ec71435,10,3,2,1,15343,Tim Burke,tburke,"Add information about secret_cache_duration to sample config

Related-Change-Id: Id0c01da6aa6ca804c8f49a307b5171b87ec92228
Change-Id: Ica740c28b47aa3f3b38dbfed4a7f5662ec46c2c4
"
openstack%2Ftricircle~master~I0400cff6f98797f21f81b787958c13b271ac730f,openstack/tricircle,master,bug/functional-test-with-py3,I0400cff6f98797f21f81b787958c13b271ac730f,Make tricircle function test work with python3 Change-Id: I0400cff6f98797f21f81b787958c13b271ac730f Signed-off-by: zhangchi <zhangchi@szzt.com.cn> Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>,MERGED,2019-05-21 08:30:25.000000000,2019-07-03 05:05:26.000000000,2019-07-03 05:05:25.000000000,16,0,0,660285,8a9388aad81b9f62316846f82fd35389c2f320df,12,4,2,1,28071,chzhang8,chzhang,"Make tricircle function test work with python3
Change-Id: I0400cff6f98797f21f81b787958c13b271ac730f
Signed-off-by: zhangchi <zhangchi@szzt.com.cn>
Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>
"
openstack%2Fmanila~stable%2Frocky~I83a1fbeb8cc7f40e07017541283418da65f0fc36,openstack/manila,stable/rocky,,I83a1fbeb8cc7f40e07017541283418da65f0fc36,Remove the redunant table from windows' editor,MERGED,2019-07-03 02:26:55.000000000,2019-07-03 04:59:04.000000000,2019-07-03 04:23:40.000000000,1,1,0,668775,1e938ac5281a227b9f29b64dc7444ec9de437f08,9,5,1,1,16643,Goutham Pacha Ravi,gouthamr,"Remove the redunant table from windows' editor

In windows env, cannot deal with '\t\t\t', maybe this is mistake
result in 'git pull' faild on windows env. In linux env show that(from
table):
[root@localhost manila]# vim releasenotes/notes/bug-1818081
bug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml^I^I^I

Change-Id: I83a1fbeb8cc7f40e07017541283418da65f0fc36
(cherry picked from commit d3b26f3d93adffee2f9b6bbbc78768d8752becdd)
(cherry picked from commit 1f68a8ffc55520272235b8165cd32abf6e6b3689)
"
openstack%2Fopenstack-helm-infra~master~I3353262644ae649ed9f495ac83a2567d9da263ae,openstack/openstack-helm-infra,master,wait-for-active-pgs,I3353262644ae649ed9f495ac83a2567d9da263ae,Ceph-Client: Wait for inactive pgs in ceph cluster,MERGED,2019-06-25 15:57:07.000000000,2019-07-03 04:28:45.000000000,2019-07-03 04:28:45.000000000,12,0,3,667392,b69f393b549ed839440478a25d3416deb68e9866,39,7,10,1,28372,chinasubbareddy mallavarapu,chinasubbareddy,"Ceph-Client: Wait for inactive pgs in ceph cluster

This is to add wait logic for inactive pgs after adjusting pgs in
manage pool job.

Change-Id: I3353262644ae649ed9f495ac83a2567d9da263ae
"
openstack%2Frally-openstack~master~Ib68711fad110ca7ab58274aa654cb433d371f2d6,openstack/rally-openstack,master,tox,Ib68711fad110ca7ab58274aa654cb433d371f2d6,[gates] Fix `tox` command issue to unblock gate,MERGED,2019-06-28 08:34:28.000000000,2019-07-03 04:11:40.000000000,2019-07-03 04:11:40.000000000,2,2,0,668113,8918b76bd24cc731e9358ba170f2a441a392fdff,32,4,10,1,21528,chenhb,chenhb,"[gates] Fix `tox` command issue to unblock gate

The error Info:
  py.error.EACCES: [Permission denied]: mkdir('/home/zuul/src/opendev.org/openstack/rally-openstack/.tox',)

looks it is access right issue.

Change-Id: Ib68711fad110ca7ab58274aa654cb433d371f2d6
"
openstack%2Fpython-openstackclient~master~I897645a4cb9f03ca464daa14f0895572212b81d9,openstack/python-openstackclient,master,python3-train,I897645a4cb9f03ca464daa14f0895572212b81d9,Add Python 3 Train unit tests,MERGED,2019-07-01 07:08:24.000000000,2019-07-03 04:03:30.000000000,2019-07-03 04:03:30.000000000,3,3,0,668364,5986f473064cd43bf09909b5c3f616bf44329724,10,2,1,3,27822,pengyuesheng,pengyuesheng,"Add Python 3 Train unit tests

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I897645a4cb9f03ca464daa14f0895572212b81d9
"
openstack%2Frpm-packaging~stable%2Fstein~Id16dd75c34e1287c3d090dba82b3fbed62313d7e,openstack/rpm-packaging,stable/stein,,Id16dd75c34e1287c3d090dba82b3fbed62313d7e,reno: Add missing pbr Requires,MERGED,2019-06-12 06:43:48.000000000,2019-07-03 04:01:22.000000000,2019-07-03 04:01:22.000000000,1,0,0,664796,abd148e33c86607fc5a14c2de190d78426854476,17,5,3,1,7102,Thomas Bechtold,toabctl,"reno: Add missing pbr Requires

Change-Id: Id16dd75c34e1287c3d090dba82b3fbed62313d7e
(cherry picked from commit a8b175aa7f1ccf04712de9a4096dda70c70114c1)
"
openstack%2Fironic-inspector~master~Ia4927fd8eca671414bd77f3d0ef188ba94cc0e2d,openstack/ironic-inspector,master,bindep-fallback,Ia4927fd8eca671414bd77f3d0ef188ba94cc0e2d,Comment out race prone sqlite db model sync test,MERGED,2019-07-02 13:03:29.000000000,2019-07-03 03:36:07.000000000,2019-07-03 03:36:07.000000000,10,5,0,668673,f3fd8e9a23697d519d1ceb4a3a2dc24e6ffab073,16,6,1,1,11655,Julia Kreger,jkreger,"Comment out race prone sqlite db model sync test

The nature of the unit tests with sqlite means that it is
easy to get into a race condition with the tests where one
worker thread makes changes to the database that essentially
causes another test to fail.

Since we don't run these sorts of sync tests in ironic for
similar reasons, I've commented out the test that is causing
numerous false failures due to race conditions.

Change-Id: Ia4927fd8eca671414bd77f3d0ef188ba94cc0e2d
"
openstack%2Fpuppet-nova~master~Ifd751feecb4bdbece138fec3a7c90ba5377bd0d0,openstack/puppet-nova,master,bug/1832537,Ifd751feecb4bdbece138fec3a7c90ba5377bd0d0,Set DEFAULT/enabled_apis in nova::api,MERGED,2019-06-13 12:54:28.000000000,2019-07-03 03:36:05.000000000,2019-07-03 03:36:05.000000000,19,8,0,665131,919a4ce5a9942393403804635676e493420117f3,26,7,5,4,17216,Martin Schuppert,mcschupp,"Set DEFAULT/enabled_apis in nova::api

enabled_apis [1] won't get set in nova::api when
nova_metadata_wsgi_enabled == true.
But the enabled_apis list get also modified for this case, so
we need to move setting the config outside the conditional at [3].
Since the config is right now also set in nova::metadata this
deprecates it in nova::metadata to only use nova::api.

Related-Bug: #1832537

[1] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L401
[2] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L353
[3] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L379

Change-Id: Ifd751feecb4bdbece138fec3a7c90ba5377bd0d0
"
openstack%2Ftempest~master~Ia82ef2aa9cb0959ccee1600feff297abb451176a,openstack/tempest,master,raise-http-error,Ia82ef2aa9cb0959ccee1600feff297abb451176a,Raise non 404 Error in generate-tempest-plugin-list.py,MERGED,2019-06-24 06:28:47.000000000,2019-07-03 03:13:04.000000000,2019-07-03 03:13:04.000000000,2,0,0,667019,2957b4020a7c3eeeaab63d0f5088b47b9b53395c,19,4,1,1,5689,Masayuki Igawa,igawa,"Raise non 404 Error in generate-tempest-plugin-list.py

This commit makes the tempest plugin function raise non 404 errors
when it catches them. Without doing that, we just ignore the errors.
However we shouldn't do that because it just causes another error when
the variable is used.

Change-Id: Ia82ef2aa9cb0959ccee1600feff297abb451176a
"
openstack%2Fnova~stable%2Fqueens~Id670f13a7f197e71c77dc91276fc2fba2fc5f314,openstack/nova,stable/queens,bug/1821696,Id670f13a7f197e71c77dc91276fc2fba2fc5f314,libvirt: Avoid using os-brick encryptors when device_path isn't provided,MERGED,2019-04-30 08:28:09.000000000,2019-07-03 02:06:58.000000000,2019-07-03 02:06:57.000000000,35,2,0,656464,ec43a1348d871b52473b46bd895b609dc16fe8fe,29,8,1,2,10135,Lee Yarwood,lyarwood,"libvirt: Avoid using os-brick encryptors when device_path isn't provided

When disconnecting an encrypted volume the Libvirt driver uses the
presence of a Libvirt secret associated with the volume to determine if
the new style native QEMU LUKS decryption or original decryption method
using os-brick encrytors is used.

While this works well in most deployments some issues have been observed
in Kolla based environments where the Libvirt secrets are not fully
persisted between host reboots or container upgrades. This can lead to
_detach_encryptor attempting to build an encryptor which will fail if
the associated connection_info for the volume does not contain a
device_path, such as in the case for encrypted rbd volumes.

This change adds a simple conditional to _detach_encryptor to ensure we
return when device_path is not present in connection_info and native
QEMU LUKS decryption is available. This handles the specific use
case where we are certain that the encrypted volume was never decrypted
using the os-brick encryptors, as these require a local block device on
the compute host and have thus never supported rbd.

It is still safe to build an encryptor and call detach_volume when a
device_path is present however as change I9f52f89b8466d036 made such
calls idempotent within os-brick.

Change-Id: Id670f13a7f197e71c77dc91276fc2fba2fc5f314
Closes-bug: #1821696
(cherry picked from commit 56ca4d32ddf944b541b8a6c46f07275e7d8472bc)
(cherry picked from commit c6432ac0212d15b6d8f1620b42937b2abcb66d46)
(cherry picked from commit 2c6e59e835b123d6040e2a059aaa98bf9cced392)
"
openstack%2Fneutron~stable%2Fqueens~I38615c0d18bb5a1f22f3e7865ce24615a540aa9a,openstack/neutron,stable/queens,bug/1833455-stable/queens,I38615c0d18bb5a1f22f3e7865ce24615a540aa9a,Treat networks shared by RBAC in same way as shared with all tenants,MERGED,2019-06-28 06:05:44.000000000,2019-07-03 02:06:53.000000000,2019-07-03 02:06:53.000000000,4,2,0,668091,9dc82e90670e289759442cf4919b9fd0655f3c43,19,5,1,1,11975,Slawek Kaplonski,slaweq,"Treat networks shared by RBAC in same way as shared with all tenants

In patch [1] handle of networks with ""shared"" flag set to True was
fixed and it is now possible to use ""rule:shared"" in API policy in
actions related e.g. to ports or subnets.
But network can be shared with some specific tenant only by doing it
with RBAC mechanism and in such case it didn't work with [1] only.
It was like that because context.get_admin_context() was used to get
network so this returned network had got shared=False set even if
request comes from tenant for which network was shared through RBAC.

Now network will be always get with context which have got set proper
tenant_id so ""shared"" flag will be set properly even in case if it's
shared through RBAC.

[1] https://review.opendev.org/#/c/652636/

Change-Id: I38615c0d18bb5a1f22f3e7865ce24615a540aa9a
Closes-Bug: #1833455
(cherry picked from commit d5edb080b080bc5d5221f8586fc6ffdca7ab8b67)
"
openstack%2Fopenstack-helm~master~Icfad3434ca496a841993b95adaf5d853728d920f,openstack/openstack-helm,master,stein,Icfad3434ca496a841993b95adaf5d853728d920f,OpenStack: Check Stein release on Ubuntu Bionic,MERGED,2019-06-26 15:41:55.000000000,2019-07-03 01:53:41.000000000,2019-07-03 01:53:41.000000000,196,1,0,667655,74e4474ec6f3a34cc795ddaf5ac602995431cdd6,29,4,11,11,23928,Pete Birley,portdirect,"OpenStack: Check Stein release on Ubuntu Bionic

This PS adds checks for the Stein Release of OpenStack in Ubuntu Bionic
containers.

Depends-On: https://review.opendev.org/667726

Change-Id: Icfad3434ca496a841993b95adaf5d853728d920f
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fironic~master~Ic90123a7de8fba6850ecfa15d0f7b26949d27564,openstack/ironic,master,,Ic90123a7de8fba6850ecfa15d0f7b26949d27564,Test Commit for IPA Change,ABANDONED,2019-06-20 13:31:20.000000000,2019-07-03 01:52:52.000000000,,0,0,0,666576,36b8a4b29fbaf47d6a5c35e358e66f86d598b41a,10,5,1,0,11655,Julia Kreger,jkreger,"Test Commit for IPA Change

Depends-On: https://review.opendev.org/#/c/666198/
Change-Id: Ic90123a7de8fba6850ecfa15d0f7b26949d27564
"
openstack%2Fironic-inspector~master~Id180deced7a1d199bc7c8c1f086df9158b6c5007,openstack/ironic-inspector,master,668712,Id180deced7a1d199bc7c8c1f086df9158b6c5007,Lets temporarily disable broken templates so we can fix gate,MERGED,2019-07-02 16:49:17.000000000,2019-07-03 01:24:59.000000000,2019-07-03 01:24:59.000000000,11,11,0,668712,da7d3bb806c5c315fccc87c76c0aab7a41a63b2d,14,4,3,1,11655,Julia Kreger,jkreger,"Lets temporarily disable broken templates so we can fix gate

Change-Id: Id180deced7a1d199bc7c8c1f086df9158b6c5007
"
openstack%2Fmagnum~stable%2Frocky~Ib93a7c0f761d047da3408703a5cf4208821acb33,openstack/magnum,stable/rocky,fix-registry-on-k8s-fedora-stable/rocky,Ib93a7c0f761d047da3408703a5cf4208821acb33,Fix registry on k8s_fedora_atomic,MERGED,2019-04-30 15:54:05.000000000,2019-07-03 01:23:44.000000000,2019-07-03 01:23:43.000000000,4,0,0,656535,acb30af7b9f511acda7687d13355f6cdbe90f5be,19,4,3,2,6834,Adolfo R. Brandes,arbrandes,"Fix registry on k8s_fedora_atomic

This fixes an issue with --registry-enabled in k8s_fedora_atomic where
the registry container fails to start in the minion due to two missing
heat parameters: TRUSTEE_USERNAME and TRUSTEE_DOMAIN_ID.

Change-Id: Ib93a7c0f761d047da3408703a5cf4208821acb33
Task: 23067
Story: 2003033
(cherry picked from commit 00522c5ba20bdd8939e3ff1d8daca48c2507dde7)
(cherry picked from commit 9b53aac3774420122fb85ad0977224caf8182c07)
"
openstack%2Ftacker~master~I0e23da2d63bf3bcedfea78e6e88575cb7a7adfeb,openstack/tacker,master,bug/1834178,I0e23da2d63bf3bcedfea78e6e88575cb7a7adfeb,FIX: nfv event list failed with internal server error,MERGED,2019-06-26 07:22:28.000000000,2019-07-03 01:23:06.000000000,2019-07-03 01:23:06.000000000,14,4,0,667528,ecd78c6048ea3234aec93ceef13942b86251f2b0,18,5,2,2,18955,dharmendra,dharmendra,"FIX: nfv event list failed with internal server error

In case of invalid id of resource-id, event list command failed
with inappropriate error(i.e. internal server error). Fixing this issue
with propper error handling.

Change-Id: I0e23da2d63bf3bcedfea78e6e88575cb7a7adfeb
Closes-Bug:#1834178
"
openstack%2Fnova-specs~master~I9aadc5e653e9f5af0d47028ffe74eaf439658950,openstack/nova-specs,master,bp/openstacksdk-in-nova,I9aadc5e653e9f5af0d47028ffe74eaf439658950,Spec: Use OpenStack SDK in Nova,MERGED,2019-06-03 23:41:47.000000000,2019-07-03 00:30:21.000000000,2019-07-02 22:47:50.000000000,278,0,51,662881,13184aea4b7f54c4c980334441e5ac342dac9662,46,12,8,1,29745,Dustin Cowles,dustinc,"Spec: Use OpenStack SDK in Nova

This is a proposal to get rid of Nova's use of python-${service}client
for $service in glance, ironic, neutron, cinder, etc and replace them
with the OpenStack SDK.

Change-Id: I9aadc5e653e9f5af0d47028ffe74eaf439658950
Implements: blueprint openstacksdk-in-nova
"
openstack%2Fpuppet-tripleo~stable%2Fstein~If42bb74d2f9af3183145d204776d4846d2dd2bbc,openstack/puppet-tripleo,stable/stein,stein-release,If42bb74d2f9af3183145d204776d4846d2dd2bbc,Bump metadata for a stein release,MERGED,2019-07-02 17:03:50.000000000,2019-07-03 00:29:32.000000000,2019-07-03 00:29:32.000000000,1,1,0,668717,fa51726240000662058a3f3739a54d2a0956dc09,10,3,1,1,14985,Alex Schultz,mwhahaha,"Bump metadata for a stein release

Change-Id: If42bb74d2f9af3183145d204776d4846d2dd2bbc
"
openstack%2Fpuppet-tripleo~stable%2Frocky~I82f62df0a95f03afbda1b6a4ddaa67ef908030a9,openstack/puppet-tripleo,stable/rocky,bug/1831938-stable/stein-stable/rocky,I82f62df0a95f03afbda1b6a4ddaa67ef908030a9,Allow enabling custom backends with manila,MERGED,2019-07-01 15:39:35.000000000,2019-07-03 00:29:31.000000000,2019-07-03 00:29:31.000000000,22,18,0,668494,fdab9a16995083123c00b89b414d0a737fbd121f,8,4,1,1,16643,Goutham Pacha Ravi,gouthamr,"Allow enabling custom backends with manila

It is possible to provide the config settings
to add an arbitrary and unmanaged backend to Manila
at deployment time via Heat environment files. However,
puppet-tripleo doesn't support extending the
list of enabled backends. Add this capability.

Change-Id: I82f62df0a95f03afbda1b6a4ddaa67ef908030a9
Closes-Bug: #1831938
(cherry picked from commit 914cf1f124fa5617373ce2f779b1eff202da2e87)
(cherry picked from commit ecbec17a339f0965c65ba29a182e571fd6a625cb)
"
openstack%2Ftripleo-heat-templates~master~I2acae0155fa4ca07a2e61019d94a8985b31dd003,openstack/tripleo-heat-templates,master,ceph_refactor,I2acae0155fa4ca07a2e61019d94a8985b31dd003,Prepare for Ceph by including Ansible roles,MERGED,2019-05-23 13:31:21.000000000,2019-07-03 00:29:26.000000000,2019-07-03 00:29:26.000000000,46,260,9,661001,47f3af726ae541cb5fb59dfefa8ac913c17234d4,91,9,21,1,18002,John Fulton,fultonj,"Prepare for Ceph by including Ansible roles

Ansible tasks which were embedded in ceph-base have been
moved to depends-on patch as Ansible roles. Replace calls
to those tasks with include_role.

Task: 34721
Story: 2006041
Depends-On: I19cd58275a0b8f8f84776a98008cd9b10ceda908
Change-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003
"
openstack%2Fpython-zunclient~master~I9eba2e21784854e74639dd2b7737d9731150fa1e,openstack/python-zunclient,master,sphinx,I9eba2e21784854e74639dd2b7737d9731150fa1e,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-02 06:26:11.000000000,2019-07-03 00:28:14.000000000,2019-07-03 00:28:13.000000000,1,1,0,668607,e77934d082de7b81e4884922067c7da252a8dd40,6,2,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I9eba2e21784854e74639dd2b7737d9731150fa1e
"
openstack%2Fpython-openstackclient~master~Ie0a41fa97696bcd8b5fd2e670efdf9379ff1080e,openstack/python-openstackclient,master,url,Ie0a41fa97696bcd8b5fd2e670efdf9379ff1080e,Update the constraints url,MERGED,2019-07-01 07:13:35.000000000,2019-07-03 00:09:04.000000000,2019-07-03 00:09:04.000000000,4,4,0,668366,d16d98b27b87ea5d6186c241a19b1c60e00db3bb,8,3,1,1,27822,pengyuesheng,pengyuesheng,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ie0a41fa97696bcd8b5fd2e670efdf9379ff1080e
"
openstack%2Fironic-python-agent~master~Ia037f84e17c34e3436b83e8bb8e1094b1473d398,openstack/ironic-python-agent,master,,Ia037f84e17c34e3436b83e8bb8e1094b1473d398,Bump python hardware to the latest version,ABANDONED,2019-06-21 13:31:49.000000000,2019-07-03 00:01:47.000000000,,1,1,0,666836,10e7fda9586ffb7903f643ac60d7cf484a40779a,8,4,1,1,11655,Julia Kreger,jkreger,"Bump python hardware to the latest version

Latest python-hardware includes fixes for nvme device
detection during introspection.

Change-Id: Ia037f84e17c34e3436b83e8bb8e1094b1473d398
"
openstack%2Fopenstack-helm-infra~master~I8a0c524feadd79bc0632b3c4cff2f692b10633de,openstack/openstack-helm-infra,master,stein,I8a0c524feadd79bc0632b3c4cff2f692b10633de,Libvirt: Add Ubuntu Bionic image for stein openstack,MERGED,2019-06-26 20:43:07.000000000,2019-07-02 23:26:40.000000000,2019-07-02 23:26:40.000000000,4,0,0,667726,4a8167d718ce8b3aabc498b73ec9db2705efa439,19,6,3,1,23928,Pete Birley,portdirect,"Libvirt: Add Ubuntu Bionic image for stein openstack

This PS adds a libvirt image based on Ubuntu Bionic for
use with the stein release of nova.

Change-Id: I8a0c524feadd79bc0632b3c4cff2f692b10633de
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fopenstack-helm-infra~master~I026d6cc378053e805680c31d75fdfb40bbb636f5,openstack/openstack-helm-infra,master,wait-for-active-pgs,I026d6cc378053e805680c31d75fdfb40bbb636f5,Ceph-client: update pg validation  in helm tests.,MERGED,2019-07-02 17:40:32.000000000,2019-07-02 23:10:49.000000000,2019-07-02 23:10:49.000000000,7,23,0,668719,897ebbc75c90f781d48bb33b119bf901f80dafe1,11,5,1,1,28372,chinasubbareddy mallavarapu,chinasubbareddy,"Ceph-client: update pg validation  in helm tests.

This is to update the logic to check for incomplete pgs in ceph
cluster and proceed if there are no incomplete/inactive pgs and
will not wait for healthy ceph cluster.

Change-Id: I026d6cc378053e805680c31d75fdfb40bbb636f5
"
openstack%2Fnova-specs~master~Id759c7fb42b878bc0bb237558aa2e9548d995320,openstack/nova-specs,master,bp/libvirt-pmu-configuration,Id759c7fb42b878bc0bb237558aa2e9548d995320,Libvirt: add vPMU spec for train,MERGED,2019-04-09 15:05:50.000000000,2019-07-02 23:08:22.000000000,2019-07-02 23:08:22.000000000,195,0,38,651269,91c922a0f37482accc8591e102539a9a5f6dc6d9,26,9,5,1,11604,sean mooney,sean-k-mooney,"Libvirt: add vPMU spec for train

This spec adds a way for tenants to control
the emulation of a virtual performacne monitoring
unit when using the libvirt virt dirver.

blueprint libvirt-pmu-configuration
Change-Id: Id759c7fb42b878bc0bb237558aa2e9548d995320
"
openstack%2Fopenstack-zuul-jobs~master~Ic8d9d02c54cf674a2023dd377f46bb6d9c7ffda6,openstack/openstack-zuul-jobs,master,legacy-puppet-beaker,Ic8d9d02c54cf674a2023dd377f46bb6d9c7ffda6,Make infra puppet beaker jobs parent to legacy-base,MERGED,2019-07-02 21:56:52.000000000,2019-07-02 23:02:19.000000000,2019-07-02 23:02:19.000000000,1,0,0,668761,c33f888937bc796068e0891c12801e532c8b3156,9,3,1,1,4146,Clark Boylan,cboylan,"Make infra puppet beaker jobs parent to legacy-base

We need deps out of the global bindep fallback file to avoid adding
bindep.txt files to all of our puppet modules. Since puppet is
effectively on life support for us lets just use the legacy base parent
job instead of updating every module.

Change-Id: Ic8d9d02c54cf674a2023dd377f46bb6d9c7ffda6
"
openstack%2Ftripleo-ansible~master~I830532ca78855f29dffb05bbaf3c688c8d50f7ff,openstack/tripleo-ansible,master,,I830532ca78855f29dffb05bbaf3c688c8d50f7ff,Update jobs so we're targeting only what we need,MERGED,2019-06-26 14:24:51.000000000,2019-07-02 22:51:14.000000000,2019-07-02 22:51:14.000000000,27,20,16,667631,71aa1abc867abfe14373fa7c66408a0d1422f155,44,9,9,1,7353,Kevin Carter,cloudnull,"Update jobs so we're targeting only what we need

This change updates our jobs so we're only running jobs that are
required based on the proposed changed. To ensure we're doing
everything possible to conserve gate resources the layout has
been updated to be more targeted.

* The layout was updated, removing the docs and realsenote templates. This was
  removed because templates can not be augmented at the project level and we
  only want those jobs to run when required.
* Scenario job will only run when something changes in the core project and
  now filter ""irrelevant-files"". At this time irrelevant files are anything
  within the molecule testing structure and documentation files.
* The check pipeline will now fail fast. If anything in the gate check fails
  all pending or queued jobs will be terminated giving the developer
  rapid feedback on what is wrong. While this option could end up requiring
  developers to make multiple commits, faster feedback should help developers
  fix problems more quickly, especially as we add long running scenario jobs.

Change-Id: I830532ca78855f29dffb05bbaf3c688c8d50f7ff
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fproject-config~master~Ic077eb39c6ad331dabe905773784a027d736ccaa,openstack/project-config,master,,Ic077eb39c6ad331dabe905773784a027d736ccaa,Cleanup zuul-worker pkg-map,MERGED,2017-09-22 18:33:50.000000000,2019-07-02 22:36:05.000000000,2017-09-22 19:24:13.000000000,8,8,1,506746,726d199eef852c3396d0ec415fc11d9d765c5d69,8,3,1,1,4162,Paul Belanger,pabelanger,"Cleanup zuul-worker pkg-map

Default pkg-map to empty packages, and opt-in for each distro. This
fixes fedora builds.

Change-Id: Ic077eb39c6ad331dabe905773784a027d736ccaa
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
"
openstack%2Fnova~stable%2Fqueens~Ic4bbc075127823abfc559693a0db79e5e23f8209,openstack/nova,stable/queens,bug/1780973,Ic4bbc075127823abfc559693a0db79e5e23f8209,Restore connection_info after live migration rollback,MERGED,2019-05-31 13:55:17.000000000,2019-07-02 22:31:11.000000000,2019-07-02 22:31:11.000000000,119,40,2,662471,95a3e0cf6aee8f278a1441f3e50517f08c6f3038,13,10,1,3,10135,Lee Yarwood,lyarwood,"Restore connection_info after live migration rollback

Building on I0390c9ff51f49b063f736ca6ef868a4fa782ede5 we can now restore
the original connection_info for a volume bdm when rolling back after a
live migration failure.

NOTE(lyarwood): Conflicts as I3689dd6544c387676983be47cf925c3fd7ce72f1
and Ia9ea1e164fb3b4a386405538eed58d94ad115172 are not present in
stable/queens.

Conflicts:
    nova/compute/manager.py
    nova/tests/unit/compute/test_compute_mgr.py

NOTE(lyarwood): Conflict as I8da38aec0fe4808273b8587ace3df9dbbc3ab576 is
not present in stable/rocky.

Conflicts:
    nova/compute/manager.py

NOTE(lyarwood): Conflict as Ib61913d9d6ef6148170963463bb71c13f4272c5d is
not present in stable/stein.

Conflicts:
    nova/compute/manager.py

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Closes-Bug: #1780973
Change-Id: Ic4bbc075127823abfc559693a0db79e5e23f8209
(cherry picked from commit 1c480a75edc0f5f1b446121491869c02f30437a0)
(cherry picked from commit 4ff46ff7677530bce3ef268b6a0d85b50308d2fd)
(cherry picked from commit 0c9f98f64fdd845c1a26348418164e55a37042d0)
"
openstack%2Fironic~stable%2Fstein~I34569806c3d34628b688661a3796e8d9b394135c,openstack/ironic,stable/stein,sushy-bios-stable/stein,I34569806c3d34628b688661a3796e8d9b394135c,redfish: handle missing Bios attribute,MERGED,2019-06-18 05:48:39.000000000,2019-07-02 22:29:23.000000000,2019-07-02 22:29:23.000000000,103,19,0,665866,0ea884d804c8d4104c91696b1863967decd819fe,14,7,2,6,10239,Dmitry Tantsur,dtantsur,"redfish: handle missing Bios attribute

Currently we log tracebacks on cleaning if a System doesn't have
a Bios attribute (seems the case for some Seamicro systems). This
patch turns it into a warning and provides correct handling of
such cases in other BIOS calls.

Also cleans up mocking in the BIOS tests since the current approach
can yield surprising results with error inheritance.

Change-Id: I34569806c3d34628b688661a3796e8d9b394135c
(cherry picked from commit 46884deba3c271b7aae493729635b3c84343d55f)
"
openstack%2Ftripleo-common~master~I02129adf193f7a4a8b38411f3a20079d10cfa872,openstack/tripleo-common,master,bug/1834094,I02129adf193f7a4a8b38411f3a20079d10cfa872,Handle empty NetworkConfig,MERGED,2019-07-01 20:56:25.000000000,2019-07-02 22:26:55.000000000,2019-07-02 22:26:55.000000000,30,10,6,668560,ecd3738077f54ce5440a66bbb616b1e32295e896,25,9,3,2,7144,James Slagle,slagle,"Handle empty NetworkConfig

In some cases the NetworkConfig config resource may come back as an
empty dict from Heat, such as when using net-config-noop.yaml. In that
case, we should not attempt to write any config.

Change-Id: I02129adf193f7a4a8b38411f3a20079d10cfa872
Related-bug: #1834094
"
openstack%2Fcharm-ceph-radosgw~master~Ic0b9aa39eef9fbc6c43eb4e66ab72d90787c2017,openstack/charm-ceph-radosgw,master,bug/1831577,Ic0b9aa39eef9fbc6c43eb4e66ab72d90787c2017,Add config option for keystone admin roles,MERGED,2019-06-13 15:48:39.000000000,2019-07-02 21:39:41.000000000,2019-07-02 21:39:41.000000000,65,26,0,665164,fb2f757494173ba45a631d945a936459f5ccc529,33,5,5,6,14567,Rodrigo Barbieri,ganso,"Add config option for keystone admin roles

RADOS Gateway supports setting keystone operator and admin
roles. RADOS Gateway requires admin roles for keystone users
to change their user quota. Regular operator/member roles
are not allowed to do so.

The lack of this config option prevents swift users with admin
roles from being able to set their quotas. Therefore, a config
option 'admin-roles' is now added to the charm to map to
'rgw keystone accepted admin roles' RADOS Gateway config.

Please note that this is only effective from Luminous
Ceph Release.

Change-Id: Ic0b9aa39eef9fbc6c43eb4e66ab72d90787c2017
Closes-Bug: #1831577
"
openstack%2Ftripleo-quickstart~master~I73bec0a54dc3ccbd090f64e955a9941e4e78f0cb,openstack/tripleo-quickstart,master,664971,I73bec0a54dc3ccbd090f64e955a9941e4e78f0cb,Turn off ansible lint after deployment.,MERGED,2019-06-12 16:37:56.000000000,2019-07-02 21:12:16.000000000,2019-07-02 21:12:15.000000000,0,1,1,664971,ef7964c018dccfcdf8a6bf3ac0243b9570463c8a,18,7,3,1,1926,Derek Higgins,derekh,"Turn off ansible lint after deployment.

This has also been truned off in other jobs(e.g. featureset052.yml)
as it isn't working. Also turn this off here until it can be addressed.

Change-Id: I73bec0a54dc3ccbd090f64e955a9941e4e78f0cb
"
openstack%2Fnova~stable%2Frocky~If2035cac931c42c440d61ba97ebc7e9e92141a28,openstack/nova,stable/rocky,bug/1353939,If2035cac931c42c440d61ba97ebc7e9e92141a28,libvirt: Rework 'EBUSY' (SIGKILL) error handling code path,MERGED,2019-06-25 18:39:06.000000000,2019-07-02 21:02:09.000000000,2019-07-02 21:02:08.000000000,67,13,0,667436,75985e25bc147369efb90d4fa9f046631766c14c,39,10,1,2,6962,Kashyap Chamarthy,kashyapc,"libvirt: Rework 'EBUSY' (SIGKILL) error handling code path

Change ID I128bf6b939 (libvirt: handle code=38 + sigkill (ebusy) in
_destroy()) handled the case where a QEMU process ""refuses to die"" within
a given timeout period set by libvirt.

Originally, libvirt sent SIGTERM (allowing the process to clean-up
resources), then waited 10 seconds, if the guest didn't go away.  Then
it sent, the more lethal, SIGKILL and waited another 5 seconds for it to
take effect.

From libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits
for a guest hard shutdown to complete.  It now waits for 30 seconds for
SIGKILL to work (instead of 5).  Also, additional wait time is added if
there are assigned PCI devices, as some of those tend to slow things
down.

In this change:

  - Increment the counter to retry the _destroy() call from 3 to 6, thus
    increasing the total time from 15 to 30 seconds, before SIGKILL
    takes effect.  And it matches the (more graceful) behaviour of
    libvirt v4.7.0.  This also gives breathing room for Nova instances
    running in environments with large compute nodes with high instance
    creation or delete churn, where the current timout may not be
    sufficient.

  - Retry the _destroy() API call _only_ if MIN_LIBVIRT_VERSION is lower
    than 4.7.0.

[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9
    (process: wait longer 5->30s on hard shutdown)
[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:
    wait longer on kill per assigned Hostdev"")

Conflicts:
    nova/virt/libvirt/driver.py

    (Trivial conflict: Rocky didn't have the QEMU-native TLS feature
    yet.)

Related-bug: #1353939

Change-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
(cherry picked from commit 10d50ca4e210039aeae84cb9bd5d18895948af54)
"
openstack%2Fcinder~master~I643975024268d4bac6739f97f07ab0b20aa1ab2b,openstack/cinder,master,bug/1733179,I643975024268d4bac6739f97f07ab0b20aa1ab2b,Fix wrong quota deduction when concurrent deletion for None host volume.,NEW,2017-12-10 04:38:26.000000000,2019-07-02 20:46:46.000000000,,47,33,4,526893,741c56c5e7a1a59222c0fdbcdc73061e3d4ecd91,103,40,4,2,27319,zhangchangfeng,zhangchangfeng,"Fix wrong quota deduction when concurrent deletion for None host volume.

1. Put the delete logic of None host volume after the conditional_update,
   let the volume's status change to 'deleting', so that avoid the quota
   to be decreased many times in a concurrent delete situation.
2. Add volume host not None be an AND logical to volume.assert_not_frozen()

Change-Id: I643975024268d4bac6739f97f07ab0b20aa1ab2b
Closes-Bug: #1733179
"
openstack%2Fironic~master~I776ae5cd383da936e909d1971a4109fbb2d4cf9b,openstack/ironic,master,,I776ae5cd383da936e909d1971a4109fbb2d4cf9b,Updating ironic-lib requirement to 2.18.0,ABANDONED,2019-06-20 22:26:55.000000000,2019-07-02 20:43:07.000000000,,1,1,0,666738,4b761827db47f91e23c2a84edc271212a99c46cc,9,7,1,1,11655,Julia Kreger,jkreger,"Updating ironic-lib requirement to 2.18.0

2.18.0 brings a new multicast DNS option for
limiting the interfaces on which are leveraged.

As such, it is preferable for such controls to be
present.

Change-Id: I776ae5cd383da936e909d1971a4109fbb2d4cf9b
"
openstack%2Fopenstack-helm~master~I439dce38a1b7df8c798f10f7fad406f9b0dfe3e6,openstack/openstack-helm,master,probe-params,I439dce38a1b7df8c798f10f7fad406f9b0dfe3e6,Neutron: allow control of probes,MERGED,2019-07-02 16:39:55.000000000,2019-07-02 20:35:31.000000000,2019-07-02 20:35:31.000000000,211,119,0,668710,03efee0abbd60b766f68932b7fe3a97d9f768169,13,3,4,8,23928,Pete Birley,portdirect,"Neutron: allow control of probes

This PS allows the probes in containers/pods to be tuned via values
overrides.

Depends-On: https://review.opendev.org/#/c/631597/

Change-Id: I439dce38a1b7df8c798f10f7fad406f9b0dfe3e6
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fproject-config~master~I36c1f99207a723bff626daed9e57a956ced5ace4,openstack/project-config,master,,I36c1f99207a723bff626daed9e57a956ced5ace4,Remove zuul-jobs config,MERGED,2019-07-02 15:32:00.000000000,2019-07-02 20:11:45.000000000,2019-07-02 20:11:45.000000000,0,55,0,668699,09f70b6722e1d1f4b8b3108be7dad7c0a2f2daa4,9,4,1,1,1,James E. Blair,corvus,"Remove zuul-jobs config

This config has been moved in-repo.

Depends-On: https://review.opendev.org/668698
Change-Id: I36c1f99207a723bff626daed9e57a956ced5ace4
"
openstack%2Ftripleo-heat-templates~master~I50765338ba646851b79dd404d2dbdfe2c521a2d5,openstack/tripleo-heat-templates,master,,I50765338ba646851b79dd404d2dbdfe2c521a2d5,Remove environments to enable/disable config-download,MERGED,2019-05-14 19:55:18.000000000,2019-07-02 19:40:19.000000000,2019-07-02 19:40:19.000000000,6,0,0,659150,059792eae55a08c2094ac580d86c73eb769e5310,10,4,2,1,7144,James Slagle,slagle,"Remove environments to enable/disable config-download

Remove the environment to disable config-download as it was deprecated
in Stein. Remove the environment to enable config-download as it was
enabled by default in Rocky, and can no longer be disabled.

Change-Id: I50765338ba646851b79dd404d2dbdfe2c521a2d5
"
openstack%2Fpython-tripleoclient~master~I0dc03eddf9ea00ff33cd3ae0cdc8f42a4961e89c,openstack/python-tripleoclient,master,bug/1834306,I0dc03eddf9ea00ff33cd3ae0cdc8f42a4961e89c,Allow per-subnet DNSNameServers for ctlplane network,MERGED,2019-06-25 15:06:22.000000000,2019-07-02 19:40:17.000000000,2019-07-02 19:40:17.000000000,89,16,5,667380,ee16c094472ee988b85aa81ce8fa9f5da8e61ad9,17,6,2,6,24245,Harald Jensås,harald.jensas,"Allow per-subnet DNSNameServers for ctlplane network

Add a new option ``dns_nameservers`` in the subnet sections
for the undercloud ctlplane network. By default the option
is not set, and in that case the ``undercloud_nameservers``
are used, maintaining the current behaviour.

This decouples the nameservers used on the undercloud and
the ones used for the overcloud nodes. In a DCN setting
different DNS server may be preferred per-site.

Related-Bug: #1834306
Change-Id: I0dc03eddf9ea00ff33cd3ae0cdc8f42a4961e89c
"
openstack%2Fopenstack-helm-infra~master~I0862ae59c87b8c0c4e2412030b1801bceb3e3c99,openstack/openstack-helm-infra,master,htk/probe-snippet,I0862ae59c87b8c0c4e2412030b1801bceb3e3c99,Helm-toolkit: Add snippet template for kubernetes probes,MERGED,2019-01-17 18:42:29.000000000,2019-07-02 19:37:39.000000000,2019-07-02 19:37:39.000000000,57,0,3,631597,b7e2d6839ce600a7c1e2103f55d208ad3f5029ca,29,6,8,1,17591,Steve Wilkerson,srwilkers,"Helm-toolkit: Add snippet template for kubernetes probes

This adds a basic helm-toolkit snippet template for adding
kubernetes liveness and readiness probes to a container. This adds
flexibility by defining the probes contents via values overrides
wholesale

Change-Id: I0862ae59c87b8c0c4e2412030b1801bceb3e3c99
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Ftripleo-validations~stable%2Fstein~I335fbe0562f33f1adb80ea3aa7650b6dfac259aa,openstack/tripleo-validations,stable/stein,,I335fbe0562f33f1adb80ea3aa7650b6dfac259aa,Remove useless cookiecutter files,MERGED,2019-06-26 09:02:17.000000000,2019-07-02 19:21:12.000000000,2019-07-02 19:21:12.000000000,0,35,0,667556,dbc943d269ba5c5d6a6f2a4f2e8c6ccc4a9aa5ce,9,5,1,2,11491,Gael Chamoulaud,gchamoul,"Remove useless cookiecutter files

A useless unit test and a totally incorrect doc.

Change-Id: I335fbe0562f33f1adb80ea3aa7650b6dfac259aa
(cherry picked from commit eed1c117395d66f6b18c76615caf896b37fb591f)
"
openstack%2Fdevstack-plugin-ceph~master~Ibb752a1d9aa818dd6862bcbbce4d6b6e366b4800,openstack/devstack-plugin-ceph,master,manila-experimental,Ibb752a1d9aa818dd6862bcbbce4d6b6e366b4800,Change experimental pipeline jobs,MERGED,2019-06-13 00:30:15.000000000,2019-07-02 19:16:44.000000000,2019-07-02 19:16:44.000000000,4,6,0,665041,0ba1a7215c5e4cb5292fb2c60febb712ee38ce15,6,4,1,1,16643,Goutham Pacha Ravi,gouthamr,"Change experimental pipeline jobs

The manila CentOS jobs break often, and are not
maintained. Let's move them to experimental
so they don't gate every patch. The other manila
jobs currently provide necessary test coverage
to cephfs-native and cephfs-nfs protocols/drivers.
These jobs also run with python3, and we don't
need to support python3.5 any longer.

Change-Id: Ibb752a1d9aa818dd6862bcbbce4d6b6e366b4800
"
openstack%2Fnova-specs~master~Ia605b2a64a468be264be86f27d46ce00e6a16b10,openstack/nova-specs,master,bp/introduce-pending-vm-state,Ia605b2a64a468be264be86f27d46ce00e6a16b10,Add PENDING vm state,MERGED,2019-03-29 13:36:14.000000000,2019-07-02 19:09:15.000000000,2019-07-02 19:09:15.000000000,268,0,34,648687,4b063ad53aa8b413cd5f83c505c8e27f72e65490,29,7,4,1,27057,Theodoros Tsioutsias,ttsiouts,"Add PENDING vm state

This feature adds support for the PENDING server state. Instead of
setting a server to the ERROR state when the Placement returns no
valid hosts for the requested server, the PENDING state is used if
the operator wishes so. This will allow the execution of subsequent
actions transparently to the end user.

Previously-approved: Stein
Change-Id: Ia605b2a64a468be264be86f27d46ce00e6a16b10
Implements: blueprint introduce-pending-vm-state
"
openstack%2Fvitrage~master~Icf39361ae47bc132bab760507967907f34b81821,openstack/vitrage,master,eyalb/status,Icf39361ae47bc132bab760507967907f34b81821,Add new api vitrage status,MERGED,2019-07-01 09:56:31.000000000,2019-07-02 19:06:37.000000000,2019-07-02 19:06:37.000000000,216,3,6,668405,5212c8021cf13e58ffff77694a81cc7553c91817,33,5,7,9,19134,Eyal,eyalb,"Add new api vitrage status

To Check if vitrage is ready then you can check its
status some users don't want to check on every api call
if vitrage is ready, in that case you can check ad hoc

Change-Id: Icf39361ae47bc132bab760507967907f34b81821
"
openstack%2Fnetworking-ovn~stable%2Fqueens~I406204fc751387c02517286c87fe45533d70b93d,openstack/networking-ovn,stable/queens,bug/1828891-stable/queens,I406204fc751387c02517286c87fe45533d70b93d,Floating IP does not work with VLAN tenant networks,MERGED,2019-06-18 19:52:08.000000000,2019-07-02 18:54:40.000000000,2019-07-02 18:54:40.000000000,34,9,0,666160,dcd1ff9afdb88110d16609a5b317ee468d65bc26,13,5,2,2,1131,Brian Haley,brian-haley,"Floating IP does not work with VLAN tenant networks

When trying to use the Floating IP address of an instance
in a OVN-DVR setup while using VLAN tenant network type
the traffic does not pass. This is because of limitations
with VLAN tenant network types, which doesn't support
distributed VLAN routing.

The problem is the external_mac should not be set in the
NAT table for the Floating IP which belongs to the logical
port of a VLAN tenant logical switch. Otherwise, the compute
node which is binding the logical port will send the GARP
where as the routing for VLAN tenant networks is centralized.

Conflicts:
    networking_ovn/tests/unit/l3/test_l3_ovn.py

Change-Id: I406204fc751387c02517286c87fe45533d70b93d
Closes-bug: #1828891
(cherry picked from commit c5aef51edc9843db605303ec8bd8610b6c55e9c2)
"
openstack%2Fmanila~master~Ica87f9e0cc6b1747638025b66c2efa8a17edc66e,openstack/manila,master,cephfs-nfs-scenario-gate,Ica87f9e0cc6b1747638025b66c2efa8a17edc66e,Add a new Zuul job for conducting scenario testing with CephFS,ABANDONED,2018-02-13 14:38:19.000000000,2019-07-02 18:48:15.000000000,,83,0,8,543952,c6d6107d9df2d24382278d788179e4a136aba294,88,21,6,2,27697,Rishabh Dave,rishabh-d-dave,"Add a new Zuul job for conducting scenario testing with CephFS

This job would conduct scenario testing with CephFS as backend and NFS
as the storage protocol for Manila.

Change-Id: Ica87f9e0cc6b1747638025b66c2efa8a17edc66e
Signed-off-by: Rishabh Dave <ridave@redhat.com>
"
openstack%2Foslo.limit~master~Idc787052ac41744075d4a4860d06a3529fd271bb,openstack/oslo.limit,master,rewrite,Idc787052ac41744075d4a4860d06a3529fd271bb,Rename filter_resource resource_filters,MERGED,2019-07-01 16:44:58.000000000,2019-07-02 18:42:12.000000000,2019-07-02 18:42:12.000000000,4,4,0,668523,90acc274f7f944e4eab4de2a114253ea24c5e6af,9,3,2,1,5046,Lance Bragstad,ldbragst,"Rename filter_resource resource_filters

filter_resources doesn't make as much sense as resource_filters.
filter_resources almost sounds like a boolean, when the argument is
designed to contain a list of strings that represent resources to
filter.

Change-Id: Idc787052ac41744075d4a4860d06a3529fd271bb
"
openstack%2Fopenstack-helm-images~master~I40c313e83f38cef74d81ebbd393056f3867c74d8,openstack/openstack-helm-images,master,,I40c313e83f38cef74d81ebbd393056f3867c74d8,Added Dockerfile for postgresql-Utility container.,ABANDONED,2019-05-20 11:28:52.000000000,2019-07-02 18:39:11.000000000,,92,0,7,660095,be5745e20412e4a87527c11ea9b2c1b335e9a6f0,20,11,4,3,29367,varagini karthik,varaginikarthik,"Added Dockerfile for postgresql-Utility container.

This utility container will help to connect with
UCP Postgresql container, so that only authorized users
will be able to run the queries with the help of nccli.

Change-Id: I40c313e83f38cef74d81ebbd393056f3867c74d8
"
openstack%2Fcharm-octavia~master~I4fe6e3bdfc98dbb65363e2eddf8e9008b7b64515,openstack/charm-octavia,master,,I4fe6e3bdfc98dbb65363e2eddf8e9008b7b64515,Add end to end payload test,MERGED,2019-06-21 12:52:54.000000000,2019-07-02 17:59:46.000000000,2019-07-02 17:59:46.000000000,5,1,0,666828,27c96245743aa3fd712b72f3663aed707c5e828e,7,3,1,1,13686,Frode Nordahl,fnordahl,"Add end to end payload test

Change-Id: I4fe6e3bdfc98dbb65363e2eddf8e9008b7b64515
"
openstack%2Fopenstack-helm-infra~master~If3440ca9be3227fc48cd698a7d44501e6747bb1e,openstack/openstack-helm-infra,master,update-nagios-image,If3440ca9be3227fc48cd698a7d44501e6747bb1e,"Nagios: Update Nagios image, check_prometheus_hosts command",MERGED,2019-06-27 12:41:12.000000000,2019-07-02 17:59:43.000000000,2019-07-02 17:59:43.000000000,2,2,0,667917,b2415bf023671ce09089274e973c2883eb21801f,22,5,6,1,17591,Steve Wilkerson,srwilkers,"Nagios: Update Nagios image, check_prometheus_hosts command

This updates the Nagios image used to the image that is built
out of openstack-helm-images instead of the image hosted in quay.

This new image includes the updated host definition plugin that
uses the kubernetes python client instead of prometheus queries,
so the check_prometheus_hosts command has also been updated to
reflect the change in required arguments

Change-Id: If3440ca9be3227fc48cd698a7d44501e6747bb1e
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Ftripleo-ansible~master~I115a3ba6fca5f989299136ec40da37f52b6cddef,openstack/tripleo-ansible,master,localTesting,I115a3ba6fca5f989299136ec40da37f52b6cddef,Move test_json_error_callback params into molecule,MERGED,2019-07-01 14:37:01.000000000,2019-07-02 17:52:46.000000000,2019-07-02 17:52:46.000000000,4,5,0,668481,0bf4186e3d35843a631b0ca13b9c155b9cd7950e,15,5,3,2,7353,Kevin Carter,cloudnull,"Move test_json_error_callback params into molecule

This change moves the environment parameters from the tox
config into the role specific molecule config. This is being
done for test clarity as the tox environment is obscuring the
required configuration for the plugin.

Change-Id: I115a3ba6fca5f989299136ec40da37f52b6cddef
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-ansible~master~If7d1ba7e59a1d6918d9606c9df8bfad21c0c47da,openstack/tripleo-ansible,master,localTesting,If7d1ba7e59a1d6918d9606c9df8bfad21c0c47da,Enforce testing consistency,MERGED,2019-07-01 20:38:36.000000000,2019-07-02 17:52:45.000000000,2019-07-02 17:52:45.000000000,257,195,3,668558,7c23a01bd765f9094cc739a2cb4c1b39f48b6ede,16,5,7,18,7353,Kevin Carter,cloudnull,"Enforce testing consistency

The upstream OpenStack gate installs docker using the ""install-docker""
from within the zuul-jobs repository. To ensure we're able to test role
consistently this change removes our internal docker install tasks
and simply uses the role as provided by zuul.

All of the requirements we were installing for molecule via built in
tox configuration  have all been moved to the unmanaged requirements
file, ""molecule-requirements.txt"". This file will ensure anything we
install in a virtual-environment is consistent throughout our stack.

The `run-local-test` script has been added to the scripts directory
allowing local development to be setup and executed with minimal,
to no, pre-configuration or setup. This script and its usage has
been documented in the contributing guide.

Change-Id: If7d1ba7e59a1d6918d9606c9df8bfad21c0c47da
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fopenstack-helm~master~I9721e2e33212918d402bce295c02b1869dce67f7,openstack/openstack-helm,master,,I9721e2e33212918d402bce295c02b1869dce67f7,Support for RabbitMQ HA,MERGED,2019-06-18 23:52:16.000000000,2019-07-02 17:47:39.000000000,2019-07-02 17:47:38.000000000,45,14,0,666193,287602fe20eaf3a81d6f7236c832c6a2d4bde146,18,6,3,2,18256,Hemachandra Reddy,hr858f,"Support for RabbitMQ HA

There can be more than one RabbitMQ node in
transport_url in conf file when RabbitMQ is
configured in HA mode.

Change-Id: I9721e2e33212918d402bce295c02b1869dce67f7
"
openstack%2Fdevstack~master~Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1,openstack/devstack,master,bug/1833696,Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1,Fix rdo-release install,MERGED,2019-06-21 11:33:15.000000000,2019-07-02 17:42:21.000000000,2019-07-02 05:43:34.000000000,7,1,7,666817,8b31dce38b630ba3ed1883bcf91a90d296ae44f2,24,7,3,1,6469,Carlos Gonçalves,cgoncalves,"Fix rdo-release install

The URL for rdo-release package is version-less and redirects to latest
stable version. This becomes problematic when stacking older stable
versions as dependencies might not be met or newer and incompatibile
ones might get installed.

Closes-Bug: #1833696

Change-Id: Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1
"
openstack%2Fkeystone-specs~master~I58b1b57febaea7f8bc75bf9e737e2d42f7823cf6,openstack/keystone-specs,master,access-rules,I58b1b57febaea7f8bc75bf9e737e2d42f7823cf6,Update access rules spec with decisions from PTG,MERGED,2019-05-28 15:25:14.000000000,2019-07-02 17:38:38.000000000,2019-07-02 17:38:38.000000000,105,124,10,661784,94df8711bc838cb28512e1ad3fc9b8d8480cd87d,18,4,4,1,8482,Colleen Murphy,krinkle,"Update access rules spec with decisions from PTG

Change-Id: I58b1b57febaea7f8bc75bf9e737e2d42f7823cf6
"
openstack%2Fpaunch~stable%2Frocky~I04d2f141370cd88787422d6adf4b22cc54ecf028,openstack/paunch,stable/rocky,666891,I04d2f141370cd88787422d6adf4b22cc54ecf028,Quote the health check command argument during a debug with print-cmd.,MERGED,2019-06-27 12:56:06.000000000,2019-07-02 17:31:58.000000000,2019-07-02 17:31:58.000000000,16,2,0,667923,b1ed7cc2366b8108f0a8f2fd1a08fcabf1525ec8,13,6,2,3,8655,Jakub Libosvar,jlibosva,"Quote the health check command argument during a debug with print-cmd.

This is one of the few arguments that sometimes requires the use of
spaces. `paunch debug --action print-cmd` will now display a command
to stdout that can be copied, pasted, and executed reliability.

Conflicts:
	paunch/__init__.py

Change-Id: I04d2f141370cd88787422d6adf4b22cc54ecf028
Resolves: rhbz#1694572
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit a3041539488254ae7743d7f36f743a6ea1bae97e)
"
openstack%2Fnova-specs~master~I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948,openstack/nova-specs,master,bp/cpu-model-selection,I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948,Re-propose the spec to allow specifying a list of CPU models,MERGED,2019-03-08 14:24:10.000000000,2019-07-02 17:29:16.000000000,2019-07-02 16:47:49.000000000,204,0,79,642030,045eec5e460fc062fa4f824543fa1fd5e8b3dc27,93,15,13,1,6962,Kashyap Chamarthy,kashyapc,"Re-propose the spec to allow specifying a list of CPU models

[The spec was originally proposed for Stein, by Jack Ding
<jack.ding@windriver.com>, here:
https://review.openstack.org/#/c/620959/
The spec was abandoned by Kashyap Chamarthy, and Ya Wang
took it over.]

Changes in this re-proposal:

  - Write additional context based on further thinking and feedback from
    reviewers.

  - Touch up a couple of ultra minor things: use correct capitalization
    for acronyms like CPU and QEMU; use the rST inline literals
    consistently; a grammar fix and a sentence rephrasing here and
    there.

  - Elide incorrect claim about host.compare_cpu().

  - Add missing references (e.g. the work to add more
    ""hypervisor-literate"" CPU APIs to Nova).

Previously-approved: Stein
Co-Authored-By: Jack Ding <jack.ding@windriver.com>
blueprint: cpu-model-selection

Change-Id: I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948
"
openstack%2Fnova~master~I2b284d69d345d15287f04a7ca4cd422155768525,openstack/nova,master,kill-safe_connect-and-publicize-get_providers_in_tree,I2b284d69d345d15287f04a7ca4cd422155768525,Un-safe_connect and publicize get_providers_in_tree,MERGED,2019-06-27 22:04:14.000000000,2019-07-02 17:28:17.000000000,2019-07-02 17:28:17.000000000,30,19,8,668062,0652a4c7a5cbe99654a7e878edcfb477b6df38c0,18,13,1,3,14070,Eric Fried,efried,"Un-safe_connect and publicize get_providers_in_tree

In the continuing saga to wipe @safe_connect from the annals of history,
and in preparation, for its use outside of SchedulerReportClient, this
commit does two things to _get_providers_in_tree:

- Removes @safe_connect from it. Callers now need to be aware that they
  can get ClientExceptionZ from ksa. (The two existing callers were
  vetted and needed no additional handling - it's way more appropriate
  for them to raise ClientException than a mysterious NoneType error
  somewhere down the line as they would have been doing previously.)
- Renames it to get_providers_in_tree.

Change-Id: I2b284d69d345d15287f04a7ca4cd422155768525
"
openstack%2Fnova~master~Ib638c772e0527f4657062499b0b84b93969a5519,openstack/nova,master,bp/mox-removal-train,Ib638c772e0527f4657062499b0b84b93969a5519,Clean up TestDriverBlockDevice helper Of DOOOOOM,NEW,2019-07-01 20:23:46.000000000,2019-07-02 17:08:58.000000000,,104,142,0,668556,14d331de29146de57aa7363a5ace094a568fab0e,8,7,1,1,14070,Eric Fried,efried,"Clean up TestDriverBlockDevice helper Of DOOOOOM

While reviewing [1] I noticed a few opportunities to clean up and make
more readable the _test_volume_attach helper.

(Better, IMO, would be to break this massively branched helper apart and
make the test cases readable on their own. But I wasn't feeling that
ambitious.)

[1] https://review.opendev.org/#/c/566153

Change-Id: Ib638c772e0527f4657062499b0b84b93969a5519
"
openstack%2Fkolla-ansible~master~I43de0460370547bd9c5ff303f8d412f407025331,openstack/kolla-ansible,master,bug/1835002,I43de0460370547bd9c5ff303f8d412f407025331,WIP: Wait for all nova computes to be up before discovery,ABANDONED,2019-07-01 19:31:49.000000000,2019-07-02 17:05:56.000000000,,38,1,2,668553,85d990eb3f04886388f61c7212c3eef59dfc2b51,16,4,7,2,30491,Radosław Piliszek,yoctozepto,"WIP: Wait for all nova computes to be up before discovery

Change-Id: I43de0460370547bd9c5ff303f8d412f407025331
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fproject-config~master~I7690c7945312988fe06c6d5b16f7a832e54fa350,openstack/project-config,master,ovn-voting,I7690c7945312988fe06c6d5b16f7a832e54fa350,Mark networking-ovn-tempest-dsvm-ovs-release voting,ABANDONED,2019-07-02 16:55:59.000000000,2019-07-02 16:56:31.000000000,,2,2,0,668714,e8954b5249e2638ca7d98a026d37c48e82e07948,2,0,1,1,1131,Brian Haley,brian-haley,"Mark networking-ovn-tempest-dsvm-ovs-release voting

networking-ovn-tempest-dsvm-ovs-release was changed to
voting status in https://review.opendev.org/#/c/640812/
so remove the 'non-voting' string.

Change-Id: I7690c7945312988fe06c6d5b16f7a832e54fa350
"
openstack%2Fnetworking-ovn~stable%2Frocky~Ieb48056ef728b12ced01f2829dc2d57b9bb6b4dc,openstack/networking-ovn,stable/rocky,bug/1830221,Ieb48056ef728b12ced01f2829dc2d57b9bb6b4dc,functional: Wait for PB event before binding the port,MERGED,2019-05-30 10:46:15.000000000,2019-07-02 16:54:08.000000000,2019-07-02 16:54:08.000000000,27,7,0,662181,495b451e61c24f60c48a0a64214c7cdbfbab414b,15,5,4,3,8655,Jakub Libosvar,jlibosva,"functional: Wait for PB event before binding the port

On busy boxes there is a chance ovn-northd doesn't create a port binding
entry quick enough in the Southbound DB when a new logical switch port
is created. It can happen that test attempts to bind a port that doesn't
exist in the southbound DB yet, because it's being processed by
ovn-northd.

This patch adds a one time event and the test waits 5 seconds for the
port binding to be created. Only after that it calls lsp_bind().

The patch also makes the lsp_bind fails in case of failure inside of
ovsdbapp, previously, the exception was swallowed and it made debugging
a lot harder.

It was required to bump ovsdbapp version from 0.10.0 to 0.14.0 because
that's the version that implements WaitEvent class.

UPDATE: Rocky has ovsdbapp version of 0.12.3 - this patch bumps the
        version to 0.12.4 that is about to be released and contains the
        change this patch requires.

Closes bug: #1830221

Depends-On: https://review.opendev.org/#/c/661797

Change-Id: Ieb48056ef728b12ced01f2829dc2d57b9bb6b4dc
(cherry picked from commit e9c4a51e8179245eb308d90e1b35baa914227e64)
(cherry picked from commit 57160e81b50b93dbdf64b92c0b4aa5dead7effe2)
"
openstack%2Fnetworking-ovn~stable%2Frocky~Idafb884982743b9e9050ea92ab4f98d7b4928993,openstack/networking-ovn,stable/rocky,bug/1832831,Idafb884982743b9e9050ea92ab4f98d7b4928993,Sync sphinx requirements,MERGED,2019-06-14 10:27:35.000000000,2019-07-02 16:54:07.000000000,2019-07-02 16:54:07.000000000,2,1,2,665349,504645e8071dc99cd8f99a59b5912fef80a3bab9,13,7,2,1,8655,Jakub Libosvar,jlibosva,"Sync sphinx requirements

Closes-Bug: #1832831

Change-Id: Idafb884982743b9e9050ea92ab4f98d7b4928993
"
openstack%2Fnetworking-ovn~master~I8ad44a236062d23df520646396e459208404a061,openstack/networking-ovn,master,ovsdbapp-adapt,I8ad44a236062d23df520646396e459208404a061,functional: Import event module from ovsdbapp,MERGED,2019-05-30 08:11:29.000000000,2019-07-02 16:54:05.000000000,2019-07-02 16:54:04.000000000,14,3,2,662160,3ea7064e61066f7f1f5d280a37d2cfc23494f0ac,13,6,2,1,8655,Jakub Libosvar,jlibosva,"functional: Import event module from ovsdbapp

Originally the code imported the whole module including tests for
ovsdbapp. After [1] is merged, we no longer need those tests and can
import only event module.

This patch attempts to load the new module first. Because the module was
introduced in [1], in case of older ovsdbapp version, the import will
fail. In such case it falls back to original location.

[1] https://review.opendev.org/#/c/661632/

Change-Id: I8ad44a236062d23df520646396e459208404a061
"
openstack%2Fnetworking-ovn~master~I600c4d22db71a08b1576bb583620b525aa529264,openstack/networking-ovn,master,zuul.d-tempest_test_regex,I600c4d22db71a08b1576bb583620b525aa529264,Expand the tempest_test_regex variable,MERGED,2019-05-17 12:59:21.000000000,2019-07-02 16:50:18.000000000,2019-07-02 16:50:18.000000000,30,1,4,659788,19f99dcd220dc5713b2267c1a147d36fd63c4a75,50,7,13,1,6773,Lucas Alvares Gomes,lucasagomes,"Expand the tempest_test_regex variable

The tempest_test_regex variable from the networking-ovn-jobs.yaml is
just a long string with no line breaks which makes it really hard to
read to know what is enabled or disabled in the tempest tests.

This patch expands that variable to make it more readable and easy to
expand/contract if needed.

TrivialFix

Change-Id: I600c4d22db71a08b1576bb583620b525aa529264
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fwatcher~master~I94c2d14477da185310e0fec596a1ad6436b802f1,openstack/watcher,master,bug/1831917,I94c2d14477da185310e0fec596a1ad6436b802f1,Configure nova notification_format for grenade,MERGED,2019-06-24 17:10:09.000000000,2019-07-02 16:49:51.000000000,2019-07-02 16:49:51.000000000,7,0,2,667161,9c9f336f1086256452554b236954753f15b9d4a8,18,5,2,1,6873,Matt Riedemann,mriedem,"Configure nova notification_format for grenade

Nova changed the default notification_format from ""both"" to
""unversioned"" in Train [1]. Without configuring nova in the
grenade job we are not testing the nova versioned notification
handler code during upgrades.

Note that grenade only runs stack.sh on the base (old) side so
this change has to depend on a devstack stable/stein change to
add the NOVA_NOTIFICATION_FORMAT variable that we override.

Closes-Bug: #1831917

Depends-On: Ied9d50b07c368d5c2be658c744f340a8d1ee41e0

[1] https://review.opendev.org/603079/

Change-Id: I94c2d14477da185310e0fec596a1ad6436b802f1
"
openstack%2Fopenstack-helm-infra~master~Ib03bb979dc681a647abd36df77f55fd82e0d4df6,openstack/openstack-helm-infra,master,ldap_values,Ib03bb979dc681a647abd36df77f55fd82e0d4df6,Update ldap overrides values file reference,MERGED,2019-07-02 03:10:57.000000000,2019-07-02 16:48:43.000000000,2019-07-02 16:48:43.000000000,1,1,0,668579,13c89f97219f386d20c167467ace0c9792fb6a9f,9,5,1,1,29668,cheng li,chengli3,"Update ldap overrides values file reference

The ldap overrides values file had been moved to
keystone/values_overrides[1]. This patch is to update the reference.

[1]
https://github.com/openstack/openstack-helm/commit/cede6c0d482b22258c60b6f7ea9e24ac6cfcf68d#diff-89208df3c46570cf56141a9353ce27a7

Change-Id: Ib03bb979dc681a647abd36df77f55fd82e0d4df6
"
openstack%2Fopenstack-helm-infra~master~I4201cc353848a8f121c2a755a93c1b462d1ab816,openstack/openstack-helm-infra,master,prometheus/fix_rule,I4201cc353848a8f121c2a755a93c1b462d1ab816,Fix templates of alert rules (ceph.rules),MERGED,2019-02-26 04:51:18.000000000,2019-07-02 16:48:42.000000000,2019-07-02 16:48:42.000000000,4,4,0,639251,fae650722f7db1e0f98b2d5de24c83679a9a2b12,17,6,3,1,26931,Sungil Im,sungil,"Fix templates of alert rules (ceph.rules)

This PS fix templates which generate errors on alert-manager.

Change-Id: I4201cc353848a8f121c2a755a93c1b462d1ab816
"
openstack%2Ftripleo-heat-templates~master~I8776a8f1a620ea102681791e5bf2bd368424ffdc,openstack/tripleo-heat-templates,master,bug/1835031,I8776a8f1a620ea102681791e5bf2bd368424ffdc,Fix nova compute container depends_on to be list,MERGED,2019-07-02 10:01:07.000000000,2019-07-02 16:47:46.000000000,2019-07-02 16:47:46.000000000,2,1,0,668644,f5295ed3acda48f9d57a51d84929776469c9f7ec,11,6,1,1,17216,Martin Schuppert,mcschupp,"Fix nova compute container depends_on to be list

depends_on needs to be a list, not a string. Otherwise the Wants=
entry in the unit file gets created with a wrong dependecy list:

Wants=t.service r.service i.service p.service l.service ...

Change-Id: I8776a8f1a620ea102681791e5bf2bd368424ffdc
Closes-Bug: #1835031
"
openstack%2Ftripleo-heat-templates~master~Ibd2c7d96a6ad8d207cbb484b7e211909f897e43f,openstack/tripleo-heat-templates,master,bp/reduce-deployment-resources,Ibd2c7d96a6ad8d207cbb484b7e211909f897e43f,Run NetworkConfig if never run previously,MERGED,2019-06-28 14:25:03.000000000,2019-07-02 16:47:42.000000000,2019-07-02 16:47:42.000000000,3,1,0,668183,02fe40cd8b26129394ed4a8ccdf2ed3ac94cca78,10,5,1,1,7144,James Slagle,slagle,"Run NetworkConfig if never run previously

Update the condition to test if NetworkConfig should be run to also
include logic to run if it was never run previously. Matches prior
behavior when using a SoftwareDeployment resource

Change-Id: Ibd2c7d96a6ad8d207cbb484b7e211909f897e43f
"
openstack%2Ftripleo-heat-templates~master~I5412f26423a1739088f12705fa47bac2377b9817,openstack/tripleo-heat-templates,master,bp/reduce-deployment-resources,I5412f26423a1739088f12705fa47bac2377b9817,Use Ansible for vip_data hieradata,MERGED,2019-06-19 21:10:38.000000000,2019-07-02 16:47:38.000000000,2019-07-02 16:47:38.000000000,73,202,0,666447,a7661065743086961b8ef93056b810e7d2a49eda,64,5,18,5,7144,James Slagle,slagle,"Use Ansible for vip_data hieradata

Migrates the vip_data hieradata to the tripleo-hieradata role which will
use a jinja2 template to create this file on the deployed nodes. Allows
for removing the AllNodesConfig resource/template completely.

Change-Id: I5412f26423a1739088f12705fa47bac2377b9817
Depends-On: Iaf91f36a189d8e00627c21f14ca992a4d60fa10f
"
openstack%2Ftripleo-heat-templates~master~I9a37d1faec73a81a28d8f89d86375fb15ee765c7,openstack/tripleo-heat-templates,master,bp/reduce-deployment-resources,I9a37d1faec73a81a28d8f89d86375fb15ee765c7,Use Ansible for all_nodes hieradata,MERGED,2019-06-13 18:59:51.000000000,2019-07-02 16:47:32.000000000,2019-07-02 16:47:31.000000000,229,300,1,665213,4c34147cc1d268116421252d46a7204227f10fb3,79,5,20,9,7144,James Slagle,slagle,"Use Ansible for all_nodes hieradata

Migrate the generation of the all_nodes hieradata from Heat to using the
tripleo-hieradata role instead.

Change-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7
Depends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8
"
openstack%2Ftripleo-common~master~I0ef61bc49d31247a408e340d33a2ae239e1f11fe,openstack/tripleo-common,master,,I0ef61bc49d31247a408e340d33a2ae239e1f11fe,Don't force verbosity of 1 for config-download,MERGED,2019-05-20 21:47:00.000000000,2019-07-02 16:37:38.000000000,2019-07-02 16:37:38.000000000,8,1,0,660223,86bb40cf0431b5e94f23771379773a8d33fbe24c,11,5,1,2,7144,James Slagle,slagle,"Don't force verbosity of 1 for config-download

Instead, honor the value of verbosity that was specified on the command
line. This will make the ansible tasks less verbose by default, so that
we don't have to add no_log everywhere which actually ends up hiding
useful output.

Change-Id: I0ef61bc49d31247a408e340d33a2ae239e1f11fe
Depends-On: Ib5060a3e9679b105c76c3c72011c23aee0093dc1
"
openstack%2Fpython-tripleoclient~stable%2Fstein~I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e,openstack/python-tripleoclient,stable/stein,fix_validations_run-stable/stein,I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e,Improve validations run outputs through the CLI,MERGED,2019-07-02 09:03:10.000000000,2019-07-02 16:32:47.000000000,2019-07-02 16:32:46.000000000,21,21,0,668638,9bd04ae335323e2779937ab47d6370f6a2ac6bbb,7,7,1,3,11491,Gael Chamoulaud,gchamoul,"Improve validations run outputs through the CLI

When the tripleo.messaging.v1.send workflow fails with the error
'Workflow failed due to message status', the return message is None and
we don't have more information about what's failing. The same happens if
the validation runs well.

This patch improves the output in case of a messaging workflow failure.

Change-Id: I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 1acbef8a0630d2d4a0ae9909269b81364ef481b9)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34,openstack/tripleo-heat-templates,stable/stein,bug/1834557-stable/stein,I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34,Add missing tag 'role_specific' for NovaPciPassthrough parameter,MERGED,2019-07-02 03:03:43.000000000,2019-07-02 16:32:43.000000000,2019-07-02 16:32:43.000000000,2,0,0,668577,23d2bd9a7d0d1a5945eb7390041ede652b00e265,8,5,1,1,18575,Saravanan KR,saravanankr,"Add missing tag 'role_specific' for NovaPciPassthrough parameter

Change-Id: I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34
Closes-Bug: #1834557
(cherry picked from commit 8860eee23138f48756a684f2954352004ba766d4)
"
openstack%2Fcharm-neutron-openvswitch~stable%2F19.04~I224e778de0ed6e279b2de7f4f46781df33121165,openstack/charm-neutron-openvswitch,stable/19.04,bug/1833734,I224e778de0ed6e279b2de7f4f46781df33121165,dpdk: misc fixes for EAL initialization,MERGED,2019-07-02 08:43:40.000000000,2019-07-02 16:22:28.000000000,2019-07-02 16:22:28.000000000,136,18,0,668635,bd354841d5422f5d936c9f031228c3d5889368df,9,4,1,4,935,James Page,james-page,"dpdk: misc fixes for EAL initialization

For OpenStack Queens and later instances are setup with vhostuser
ports in server mode, with the OVS side of the port connecting
as a client to the vhostuser socket on disk; as a result we no
longer need to pass permissions information via dpdk-extra (the
two passed options are not valid in later OVS versions).

In addition, we should also whitelist the devices we're going to
use; this ensures that EAL initialization does not take an extended
period of time reducing the amount of time taken to restart OVS.

Change-Id: I224e778de0ed6e279b2de7f4f46781df33121165
Closes-Bug: 1833734
Closes-Bug: 1793729
(cherry picked from commit 3c66c48bbd11922aa4740e752dfdb5e4f35a959d)
"
openstack%2Fliberasurecode~master~I1ab792c3c509539a73a1808b8c28c6748185ae00,openstack/liberasurecode,master,,I1ab792c3c509539a73a1808b8c28c6748185ae00,Update test to build on FreeBSD 12,MERGED,2019-07-02 15:25:04.000000000,2019-07-02 16:19:49.000000000,2019-07-02 16:19:49.000000000,1,0,0,668694,135c3a272fccd983174cbfe10ef2b01e142dc4ee,7,3,1,1,20754,Donny Davis,donnydavis,"Update test to build on FreeBSD 12

Change-Id: I1ab792c3c509539a73a1808b8c28c6748185ae00
Closes-Bug: 1835071
"
openstack%2Ftripleo-ansible~master~Icf1e636bd1fbb73fd6d06a8e43fe55bcbe482122,openstack/tripleo-ansible,master,localTesting,Icf1e636bd1fbb73fd6d06a8e43fe55bcbe482122,Remove ansible from our requirements file,MERGED,2019-07-01 13:43:35.000000000,2019-07-02 16:19:28.000000000,2019-07-02 16:19:28.000000000,2,1,0,668465,f16b6e0935fa469afea5dc79b060d53e4d2261ac,13,4,3,2,7353,Kevin Carter,cloudnull,"Remove ansible from our requirements file

In order to have tripleo-ansible added to global requirements
the ""ansible"" requirement must be removed[0]. This change
transitions the requirement from an upstream maintained file
to our tox config, which we maintained outside of requirements
and is only ever used in local testing. With this package
removed we'll be able to have tripleo-ansible part of the
global requirements sync.

[0] - https://review.opendev.org/#/c/667413/1/projects.txt

Change-Id: Icf1e636bd1fbb73fd6d06a8e43fe55bcbe482122
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-ansible~master~Ib642b8c15224300d727a03146da783f225142c82,openstack/tripleo-ansible,master,localTesting,Ib642b8c15224300d727a03146da783f225142c82,Remove docker package from bindep,MERGED,2019-07-01 23:30:34.000000000,2019-07-02 16:19:27.000000000,2019-07-02 16:19:27.000000000,0,3,0,668566,816462dbf2fd47f18f323ef97071771bf264817d,10,5,1,1,7353,Kevin Carter,cloudnull,"Remove docker package from bindep

This change removes the docker package from bindep because it
can create a conflict with the way infra installs docker(ce).
To ensure we're not installing a conflicting package in test
we're removing this package from our general bindep file.

Change-Id: Ib642b8c15224300d727a03146da783f225142c82
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-ansible~master~I19cd58275a0b8f8f84776a98008cd9b10ceda908,openstack/tripleo-ansible,master,ceph_refactor,I19cd58275a0b8f8f84776a98008cd9b10ceda908,Introduce ansible roles for ceph preparation,MERGED,2019-06-11 21:35:15.000000000,2019-07-02 16:19:26.000000000,2019-07-02 16:19:26.000000000,961,0,51,664706,4d38019467694469c5df1e549e8a0be73b727814,54,6,11,21,18002,John Fulton,fultonj,"Introduce ansible roles for ceph preparation

Create five ansible roles prefixed with ""tripleo-ceph-"" to
prepare the undercloud to run ceph-ansible. These roles were
previously embedded as tasks in tripleo-heat-templates.
ceph-ansible assumes its working directory persists and is
configured by the user manually. TripleO integration requires
that these steps be automated and these roles perform that
automation.

The roles may be used to create an ansible working directory
with inventory, a ceph-ansible fetch directory, a system uuid
map for node-specific-overrides, and runs ceph-ansible with
the required options.

Add ceph.yaml to the playbooks directory which can be used for
development of these roles with --skip-tags run_ceph_ansible.

Change-Id: I19cd58275a0b8f8f84776a98008cd9b10ceda908
"
openstack%2Fproject-config~master~Iecf1030a69310af674120ee919ae613b23ade285,openstack/project-config,master,,Iecf1030a69310af674120ee919ae613b23ade285,Zuul-jobs: load extra config in openstack tenant,MERGED,2019-07-02 15:53:07.000000000,2019-07-02 16:17:01.000000000,2019-07-02 16:17:01.000000000,3,3,0,668703,a8fec769be694c22d6e2d67fc1dd924fd55e7028,7,3,1,1,1,James E. Blair,corvus,"Zuul-jobs: load extra config in openstack tenant

Before we can move gating for this repo into the zuul tenant, we
have to finish moving the rest of the jobs currently defined in
the openstack tenant in-repo.  Since they are gating in the
openstack tenant, let's load the extra config there for now.

Change-Id: Iecf1030a69310af674120ee919ae613b23ade285
"
openstack%2Fneutron~master~Ic6966d466aea10a3ac79441c6b401368787212a9,openstack/neutron,master,test_br_vlan,Ic6966d466aea10a3ac79441c6b401368787212a9,DNM: testing br-vlan,ABANDONED,2019-06-05 06:52:32.000000000,2019-07-02 16:16:44.000000000,,2,2,0,663250,d997026501d1388f29c1274ffaa02def94392412,5,3,1,1,9531,liuyulong,LIU-Yulong,"DNM: testing br-vlan

Change-Id: Ic6966d466aea10a3ac79441c6b401368787212a9
"
openstack%2Fneutron-tempest-plugin~master~I5bdb33f4615c5bb452f038238bc5b42382b5b657,openstack/neutron-tempest-plugin,master,bug/1831534,I5bdb33f4615c5bb452f038238bc5b42382b5b657,Add case of east-west traffic for vlan networks,ABANDONED,2019-06-04 03:25:55.000000000,2019-07-02 16:15:58.000000000,,45,15,0,662925,9f8a8e92f127c8fc208dcc4f078aa60536546250,14,3,6,2,9531,liuyulong,LIU-Yulong,"Add case of east-west traffic for vlan networks

Vlan connectivity testing for distributed router should be covered.

Depends-On: https://review.opendev.org/#/c/663008/

Related-Bug: #1831534
Change-Id: I5bdb33f4615c5bb452f038238bc5b42382b5b657
"
openstack%2Fnetworking-midonet~master~Ie49b7703dbe5ebf66d9c0abd1bee830044f6b71b,openstack/networking-midonet,master,bindep,Ie49b7703dbe5ebf66d9c0abd1bee830044f6b71b,Add bindep.txt to fix unit tests,MERGED,2019-06-26 05:48:19.000000000,2019-07-02 16:02:32.000000000,2019-07-02 16:02:32.000000000,37,0,0,667513,5a978840f0c9550b8fa51f84c67c5649caf0ae37,9,15,2,2,6547,Andreas Jaeger,jaegerandi,"Add bindep.txt to fix unit tests

The unit tests fail since no mysqladmin command is installed, add
bindep.txt to install the needed binaries in our CI environment.

Add also the usual bindep tox environment for developers.

Change-Id: Ie49b7703dbe5ebf66d9c0abd1bee830044f6b71b
"
openstack%2Fopenstack-helm-infra~master~I049c696c7fb0d7cadb527a9f17dd01a42a671baa,openstack/openstack-helm-infra,master,,I049c696c7fb0d7cadb527a9f17dd01a42a671baa,ignore errors if set zuul_site_mirror_fqdn fails,MERGED,2019-07-01 13:26:21.000000000,2019-07-02 15:47:19.000000000,2019-07-02 15:47:19.000000000,1,0,0,668461,1ef750c8bb41908390427e5378b55acbf2d276c7,8,4,1,1,21991,Kostyantyn Kalynovskyi,kkalynovskyi,"ignore errors if set zuul_site_mirror_fqdn fails

It can be that zuul_site_mirror_fqdn env variable will not be set,
in this case the whole job will fail, instead of simply not configuring
mirrors during image build. With this patch, if set_fact fails, mirrors
simply will not be configured during image build, as planned in lines 62
and 88 in this playbook

Change-Id: I049c696c7fb0d7cadb527a9f17dd01a42a671baa
"
openstack%2Fopenstack-helm-infra~master~I9f20ca28e9c840fb3f4fa0707a43c9419fafa2c1,openstack/openstack-helm-infra,master,update-grafana-tests,I9f20ca28e9c840fb3f4fa0707a43c9419fafa2c1,Grafana: Remove tests that query API,MERGED,2019-06-26 14:29:40.000000000,2019-07-02 15:47:18.000000000,2019-07-02 15:47:18.000000000,0,81,0,667634,c7290b7ffefc50c6ae002546d979bfa7649c5ab6,8,4,1,4,17591,Steve Wilkerson,srwilkers,"Grafana: Remove tests that query API

This removes the tests that query the Grafana API for checking
whether the prometheus datasource has been provisioned and for
checking the number of active dashboards against the number of
expected dashboards determined via the chart's values.yaml.

The reason for removing these is that Grafana can be configured
to use data source types beyond just Prometheus and additional
dashboards can be added to Grafana via the Grafana UI.  In cases
where dashboards are added via the Grafana UI, they are persisted
in the grafana database which will cause helm test failures during
upgrade scenarios.  Now that we have selenium tests executed as
part of the Grafana helm tests that validate Grafana is
functional, these API tests add little value

Change-Id: I9f20ca28e9c840fb3f4fa0707a43c9419fafa2c1
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fheat~master~Ic88257fd36bdde884e8ac4f17186c42b76ec538b,openstack/heat,master,635651,Ic88257fd36bdde884e8ac4f17186c42b76ec538b,Log args during list_concat,MERGED,2019-02-07 21:29:08.000000000,2019-07-02 15:43:54.000000000,2019-07-02 15:43:54.000000000,5,2,6,635651,a8c44bddaaa40828981a10f20c0cedb22540751f,38,5,3,1,7144,James Slagle,slagle,"Log args during list_concat

list_concat checks that all args are lists. If that fails, the exception
will now show which args aren't a list, and show all the args. This is
useful context to help find the error in the template.

Change-Id: Ic88257fd36bdde884e8ac4f17186c42b76ec538b
"
openstack%2Fcharm-guide~master~I941a67dcb98b50bb2bd842e93664194fb9015533,openstack/charm-guide,master,add-unit-test-philosophy,I941a67dcb98b50bb2bd842e93664194fb9015533,Add a section on unit test philosophy,MERGED,2019-06-21 13:04:59.000000000,2019-07-02 15:37:38.000000000,2019-07-02 15:37:38.000000000,81,0,0,666832,96e2d23f0f809078c0fa4e47c85579a8c65e1dbb,9,5,1,1,20870,Alex Kavanagh,ajkavanagh,"Add a section on unit test philosophy

Change-Id: I941a67dcb98b50bb2bd842e93664194fb9015533
"
openstack%2Fcharm-neutron-openvswitch~master~Ica9848dcefb43f8a05546b77024d4b7d35dde4f9,openstack/charm-neutron-openvswitch,master,extra-dpdk-logging,Ica9848dcefb43f8a05546b77024d4b7d35dde4f9,Add extra DEBUG logging for DPDK,MERGED,2019-06-07 08:41:31.000000000,2019-07-02 15:30:10.000000000,2019-07-02 15:30:10.000000000,24,0,0,663861,365ff6cec46e50b712442b88b53c9a2753111f3f,13,5,2,1,935,James Page,james-page,"Add extra DEBUG logging for DPDK

To improve visibility of DPDK configuration issues, sprinkle
DPDK part of configure_ovs with lots of DEBUG level log messages.

Change-Id: Ica9848dcefb43f8a05546b77024d4b7d35dde4f9
"
openstack%2Fpython-tripleoclient~stable%2Fstein~Ifd4229b68571fd6b91574675c1f04d7b5c755eab,openstack/python-tripleoclient,stable/stein,bug/1834307-stable/stein,Ifd4229b68571fd6b91574675c1f04d7b5c755eab,Ensure files exist before building/uploading plan,MERGED,2019-07-02 05:37:07.000000000,2019-07-02 15:12:25.000000000,2019-07-02 11:36:06.000000000,16,0,0,668596,f78809a3e3122f268bcc8fa1a9c12974735654b9,9,4,1,1,28223,Cedric Jeanneret,cjeanner,"Ensure files exist before building/uploading plan

Until now, only environment files were tested for their eXistenZ. This
patch corrects this issue, allowing to get a graceful failure before
plan is compiled and uploaded.

The following files are now checked, and deploy will gracefully fail in
case of non-existing file:
- plan-environment-file
- answers-file
- networks-file

No Bioport nor Pod was harmed for this patch.

Change-Id: Ifd4229b68571fd6b91574675c1f04d7b5c755eab
Closes-Bug: #1834307
(cherry picked from commit bd354f1fc8ae7a36898a22e01e52815d85d8378d)
"
openstack%2Fproject-config~master~I6cb0aa525dca0ee700d2d7548ccbb8d6af6ae92e,openstack/project-config,master,,I6cb0aa525dca0ee700d2d7548ccbb8d6af6ae92e,Cache dstast_graph on nodepool images,MERGED,2019-07-02 14:33:36.000000000,2019-07-02 15:10:50.000000000,2019-07-02 15:10:50.000000000,1,0,0,668683,fc792f33712acdb06dcb6431bb78ba903482320a,7,3,1,1,1,James E. Blair,corvus,"Cache dstast_graph on nodepool images

So that we can create dstat graphs at the end of devstack and other
jobs, cache the dstat_graph repository on our images.

dstat_graph is MIT licensed, but as far as I can tell, does not
have a release and is not packaged in Debian or Ubuntu.

Change-Id: I6cb0aa525dca0ee700d2d7548ccbb8d6af6ae92e
"
openstack%2Fnetworking-ovn~master~I42b5abee298dd352f968f80031c15d784e3205f0,openstack/networking-ovn,master,625252,I42b5abee298dd352f968f80031c15d784e3205f0,DNM: DVR multinode tempest job,ABANDONED,2018-12-14 13:11:06.000000000,2019-07-02 15:02:45.000000000,,146,26,5,625252,8754f95dac5b260f59aa5597228ed13a8e53c90c,15,1,8,3,23804,Daniel Alvarez,dalvarez,"DNM: DVR multinode tempest job

Change-Id: I42b5abee298dd352f968f80031c15d784e3205f0
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
"
openstack%2Fnetworking-ovn~master~I2a34d78926e9a15043345dcad185886e430bd6ea,openstack/networking-ovn,master,625199,I2a34d78926e9a15043345dcad185886e430bd6ea,DNM: Fix legacy multinode tempest job,ABANDONED,2018-12-14 10:02:12.000000000,2019-07-02 15:02:39.000000000,,9,24,0,625199,c6dd5ac8a9c212a6a029c768c78c6b9e808e7272,12,2,3,4,23804,Daniel Alvarez,dalvarez,"DNM: Fix legacy multinode tempest job

This should be done in zuulv3 already.

Change-Id: I2a34d78926e9a15043345dcad185886e430bd6ea
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
"
openstack%2Fneutron~master~I79bb8054c113c77e7c96d64ec1408236d24b23b6,openstack/neutron,master,bug/1834825,I79bb8054c113c77e7c96d64ec1408236d24b23b6,Don't match input interface in POSTROUTING table,MERGED,2019-07-01 07:49:36.000000000,2019-07-02 15:00:05.000000000,2019-07-02 14:59:25.000000000,2,3,3,668378,dfa37b2233b2dbe6dd12ec5e2ee4f1f32a4be4ba,23,8,1,1,11975,Slawek Kaplonski,slaweq,"Don't match input interface in POSTROUTING table

Netfilter postrouting hooks don't provide the input interface. That
works fine in iptables implementation as the comparison simply happens
against an empty string, but cause problems with nftables which
aborts rule processing due to no data to compare against and
the rule doesn't match.
This is a problem in systems where nftables are used (e.g. RHEL 8).

This patch fixes this issue by removing input interface from
POSTROUTING rule used to prevent SNAT for router's internal traffic.

Change-Id: I79bb8054c113c77e7c96d64ec1408236d24b23b6
Closes-Bug: #1834825
"
openstack%2Fglance~master~I8c91468dce50f2404e3689d939cfd482a613b015,openstack/glance,master,Bug#1,I8c91468dce50f2404e3689d939cfd482a613b015,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-06-10 03:37:11.000000000,2019-07-02 14:59:31.000000000,2019-07-02 14:59:30.000000000,2,2,1,664192,fd6f2fa02702a908cf0d4b2d36e8de8abc6497a9,19,7,4,2,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I8c91468dce50f2404e3689d939cfd482a613b015
"
openstack%2Fkeystone~master~Icca6ef602af26a1d10766fd416011cdcceaa00a1,openstack/keystone,master,bug#openstackdocstheme,Icca6ef602af26a1d10766fd416011cdcceaa00a1,Bump openstackdocstheme to 1.20.0,MERGED,2019-06-05 06:19:44.000000000,2019-07-02 14:59:28.000000000,2019-07-02 14:59:28.000000000,1,7,0,663243,6fef498ff3e665b4446cb653ca1b1190d37dcbd6,19,6,2,2,28239,zhaixiaojun,zhaixiaojun,"Bump openstackdocstheme to 1.20.0

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: Icca6ef602af26a1d10766fd416011cdcceaa00a1
"
openstack%2Fpython-tripleoclient~master~I15511b4f36260292e0ea4100b15b8e65a701b38b,openstack/python-tripleoclient,master,bp/validation-framework,I15511b4f36260292e0ea4100b15b8e65a701b38b,Allow run_update_ansible_action run with Mistral or Ansible,MERGED,2019-02-12 08:49:18.000000000,2019-07-02 14:57:18.000000000,2019-06-18 13:43:56.000000000,139,25,20,636282,5249fbb2623165ef40098631fad18104579450c9,81,15,18,7,16515,mbu,matbu,"Allow run_update_ansible_action run with Mistral or Ansible

We extend run_update_ansible_action
to allow running the Ansible playbooks with Mistral
or executing directly thru Ansible.

This is needed  in case we need to run
exceptionally a task depending on Mistral
but Mistral is broken. For example, retry
an upgrade operation after having Mistral broken.

Change-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b
"
openstack%2Fos-traits~master~Ia8e4487bfb59f764a6817ec8650785ffa902eab5,openstack/os-traits,master,bp/pre-filter-disabled-computes,Ia8e4487bfb59f764a6817ec8650785ffa902eab5,Add COMPUTE_STATUS_DISABLED trait,MERGED,2019-06-24 20:00:00.000000000,2019-07-02 14:43:14.000000000,2019-06-27 07:32:13.000000000,18,0,4,667209,74f8a3fe097bfde1cae3c58c2d8bf6f92ae192ba,11,4,1,1,6873,Matt Riedemann,mriedem,"Add COMPUTE_STATUS_DISABLED trait

This will be used by nova to signal when a compute node
resource provider is disabled so that a placement request
pre-filter in the nova scheduler can ask placement to filter
out compute node allocation candidates that are disabled,
similar to the post-placement ComputeFilter.

Part of nova blueprint pre-filter-disabled-computes

Change-Id: Ia8e4487bfb59f764a6817ec8650785ffa902eab5
"
openstack%2Fopenstack-zuul-jobs~master~If587345d22ee7d488e358ac3ef5919dd3b4ffa27,openstack/openstack-zuul-jobs,master,build-pdf-docs,If587345d22ee7d488e358ac3ef5919dd3b4ffa27,Add binary dependencies for building TeX docs,ABANDONED,2019-07-01 13:42:50.000000000,2019-07-02 14:36:33.000000000,,21,0,1,668464,ff36158b2fa6590700cb8a96d7885cee003873a5,10,4,1,1,6926,Bogdan Dobrelya,bogdando,"Add binary dependencies for building TeX docs

Provides requirements for the accepted community goal of
building LaTeX documentation for OpenStack projects.

Depends-On: https://review.opendev.org/668463
Change-Id: If587345d22ee7d488e358ac3ef5919dd3b4ffa27
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fopenstack-ansible-os_swift~master~Iff4011c5a6531fa3f74acfeb6fa980c493246a63,openstack/openstack-ansible-os_swift,master,,Iff4011c5a6531fa3f74acfeb6fa980c493246a63,Fix distro package lists for openSUSE 15,MERGED,2019-06-29 07:40:59.000000000,2019-07-02 14:33:12.000000000,2019-07-02 14:33:12.000000000,1,4,0,668287,dc04fc27bfaf45670a85143be7517b2de5cf7210,11,3,1,1,6593,Dirk Mueller,dmllr,"Fix distro package lists for openSUSE 15

Explicitly pulling in packages that are dependencies of the main
package can cause issues with newer releases where those packages
don't exist anymore - e.g. python-swift is renamed to python3-swift.
similarly python-keystonemiddleware (which is a dep of openstack-swift)
is actually called python3-keystonemiddleware these days.

Change-Id: Iff4011c5a6531fa3f74acfeb6fa980c493246a63
"
openstack%2Ftripleo-docs~master~I82d77aa08cd8e3ac09fe55ce67af6da01b577eaf,openstack/tripleo-docs,master,,I82d77aa08cd8e3ac09fe55ce67af6da01b577eaf,Move the Backup and Restore documentation to its own folder and add support for ReaR,MERGED,2019-06-20 14:43:12.000000000,2019-07-02 14:28:14.000000000,2019-07-02 14:28:14.000000000,226,5,11,666595,7f171b7556f1f94cd3f2c7e67587605f66f6636d,16,5,6,10,20775,Carlos Camacho,ccamacho,"Move the Backup and Restore documentation to its own folder and add support for ReaR

The backup and restore doc is getting bigger, now its moved to its own section
also we add support for ReaR.

Change-Id: I82d77aa08cd8e3ac09fe55ce67af6da01b577eaf
Co-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>
"
openstack%2Fnetworking-ovn~master~Iea0dbf555040d40817cfc6daae69ab53fa57c849,openstack/networking-ovn,master,,Iea0dbf555040d40817cfc6daae69ab53fa57c849,Fix discription error of loadbalancer,MERGED,2019-06-25 03:16:23.000000000,2019-07-02 14:23:53.000000000,2019-07-02 14:23:53.000000000,2,2,0,667258,d765aa622525c9247e6f9828ebc55003b9d8f20a,7,4,1,1,29874,Taoyunxiang,Yunxiang,"Fix discription error of loadbalancer

The NorthBound DB is updated till a member is added to the
LoadBalancer

Change-Id: Iea0dbf555040d40817cfc6daae69ab53fa57c849
"
openstack%2Fnetworking-l2gw~master~Iad7a49bae622cbae5203d69170e52c81e3066ba1,openstack/networking-l2gw,master,bindep-fallback,Iad7a49bae622cbae5203d69170e52c81e3066ba1,Add local bindep.txt,MERGED,2019-06-28 08:37:43.000000000,2019-07-02 14:23:15.000000000,2019-07-02 14:23:15.000000000,20,0,0,668114,5469040a1a2b71b02ca9b5624d78ab02ca7bbbf8,8,2,1,2,17685,Elod Illes,elod.illes,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Iad7a49bae622cbae5203d69170e52c81e3066ba1
"
openstack%2Fneutron~master~I355c39bde8d2d16baddf08af61b780b71981abab,openstack/neutron,master,bp/enginefacade-switch,I355c39bde8d2d16baddf08af61b780b71981abab,Switch to new engine facade for ExtraRoute_dbonly_mixin,MERGED,2019-05-29 08:45:21.000000000,2019-07-02 14:22:18.000000000,2019-07-02 14:22:18.000000000,9,8,5,661916,d279ec11800538bccd947e64dc84eb3b3e96fc86,80,11,7,4,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Switch to new engine facade for ExtraRoute_dbonly_mixin

Partially-Implements blueprint: enginefacade-switch

Change-Id: I355c39bde8d2d16baddf08af61b780b71981abab
"
openstack%2Fovsdbapp~master~I6d4b6a378435d89d409bb92e60bb34ca6dfd5af8,openstack/ovsdbapp,master,,I6d4b6a378435d89d409bb92e60bb34ca6dfd5af8,Sync Sphinx requirement,MERGED,2019-06-27 12:44:11.000000000,2019-07-02 14:21:05.000000000,2019-07-02 14:21:05.000000000,2,1,0,667919,81c124fe291e3156473ec9ffdd1087202c4974c8,7,3,1,1,28743,huang liujie,ljhuang,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I6d4b6a378435d89d409bb92e60bb34ca6dfd5af8
"
openstack%2Fproject-config~master~I613142d1103fdc238aa38403dbd268934efbf74d,openstack/project-config,master,,I613142d1103fdc238aa38403dbd268934efbf74d,Load extra Zuul config from zuul-jobs,MERGED,2019-07-01 21:54:50.000000000,2019-07-02 14:18:06.000000000,2019-07-02 14:18:06.000000000,3,1,0,668563,4ad35cc72d9ff536c1e85642329f2ea0c526d92f,7,3,1,1,1,James E. Blair,corvus,"Load extra Zuul config from zuul-jobs

In the ""zuul"" Zuul tenant only, load extra Zuul config from the
zuul-tests.d/ directory of the zuul-jobs project.  This is so
we can continue to keep the upstream testing of zuul-jobs out
of the repo itself (to make for easier downstream consumption).
In the ""zuul"" tenant, these extra jobs and in-repo project config
will be loaded.

Change-Id: I613142d1103fdc238aa38403dbd268934efbf74d
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Fstein~I8c89be0ffb4f23b79c0463bff2eb135b9769eb2a,openstack/openstack-ansible-os_keystone,stable/stein,bug/1829438,I8c89be0ffb4f23b79c0463bff2eb135b9769eb2a,Execute the keystone db setup earlier in the process,MERGED,2019-06-13 19:10:13.000000000,2019-07-02 14:10:43.000000000,2019-07-02 14:10:43.000000000,6,6,0,665218,d074c927fdc372441d04764e2d1471bf11330909,13,5,1,1,14552,Bjoern Teipel,bjoern,"Execute the keystone db setup earlier in the process

As the keystone credential_migrate command can access
the keystone database in cases the os_keystone role
stopped prematurely, the db setup playbook is moved
in front of the `keystone_credential_create.yml` playbook
to prevent and race condition.

Change-Id: I8c89be0ffb4f23b79c0463bff2eb135b9769eb2a
Closed-Bug: #1829438
(cherry picked from commit 3afb763c103665f8c04f3d8ebeda8b207e1fcab7)
"
openstack%2Fpython-vitrageclient~master~I0817016538a6b286816b99176339262c6453dc08,openstack/python-vitrageclient,master,eyalb/status,I0817016538a6b286816b99176339262c6453dc08,Add new api vitrage status,MERGED,2019-07-01 09:56:17.000000000,2019-07-02 14:06:40.000000000,2019-07-02 14:06:39.000000000,71,3,0,668404,ba5f71feccf19f361c3d8b73a5606dd66fca7c57,9,3,2,8,19134,Eyal,eyalb,"Add new api vitrage status

To Check if vitrage is ready then you can check its
status some users don't want to check on every api call
if vitrage is ready, in that case you can check ad hoc

Change-Id: I0817016538a6b286816b99176339262c6453dc08
"
openstack%2Ftripleo-ansible~master~Ib0fcae4670d0c39a6c85e788072af0751ed3c9a7,openstack/tripleo-ansible,master,jobs,Ib0fcae4670d0c39a6c85e788072af0751ed3c9a7,Add standalone jobs to gate tripleo-ansible,MERGED,2019-06-27 12:19:36.000000000,2019-07-02 14:03:20.000000000,2019-07-02 14:03:20.000000000,24,3,26,667912,a3be1b63b76197940eef3ef345a4bc796adf6c43,47,9,5,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add standalone jobs to gate tripleo-ansible

Run jobs according to their coverage of tripleo-ansible roles,
use standalone004 scenario as covering all standalone.

Change-Id: Ib0fcae4670d0c39a6c85e788072af0751ed3c9a7
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Freleases~master~Ie1a42d4eaa394352b22ef19415d992e7e469ab87,openstack/releases,master,,Ie1a42d4eaa394352b22ef19415d992e7e469ab87,Release neutron-lib 1.28.0,ABANDONED,2019-06-27 20:43:50.000000000,2019-07-02 14:01:38.000000000,,4,0,0,668044,94a5e483ba32b1041f20117bcec7fb6e709a1b97,7,6,1,1,4187,Ryan Tidwell,ryan-tidwell,"Release neutron-lib 1.28.0

Release the latest code from neutron-lib so that we can begin to
consume it in networking related projects.

Change-Id: Ie1a42d4eaa394352b22ef19415d992e7e469ab87
"
openstack%2Fkolla-ansible~stable%2Fqueens~I4f45cd18b86ebe0efcc3101e31e4bcafdc83eb57,openstack/kolla-ansible,stable/queens,,I4f45cd18b86ebe0efcc3101e31e4bcafdc83eb57,(Rocky and Queens only) CI: Fix ceph jobs for kolla,MERGED,2019-06-30 19:03:52.000000000,2019-07-02 13:56:42.000000000,2019-07-02 13:56:42.000000000,3,4,0,668336,20b40798d626f1b2668868a68fd008f81c908660,7,3,1,1,30491,Radosław Piliszek,yoctozepto,"(Rocky and Queens only) CI: Fix ceph jobs for kolla

The way Zuul handles job dependencies caused the computed path
to setup_ceph_disks.sh to be wrong when job was run due to kolla
(as opposed to kolla-ansible) change.

This patch uses a relative path as is the case in Stein and later.

Change-Id: I4f45cd18b86ebe0efcc3101e31e4bcafdc83eb57
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 1d22714cfeb5bdde43255286549ea781d67f52dd)
"
openstack%2Fopenstack-ansible-os_zun~master~If1c35513a02a4162db05fcea5a68d643c2c21e83,openstack/openstack-ansible-os_zun,master,,If1c35513a02a4162db05fcea5a68d643c2c21e83,Switch to the new canonical constraints URL on master,MERGED,2019-06-20 13:06:32.000000000,2019-07-02 13:46:16.000000000,2019-07-02 13:46:16.000000000,1,1,0,666564,3551a3afbb536598ac962941279693a95f5417b2,25,7,2,1,28748,chenker,chenke,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: If1c35513a02a4162db05fcea5a68d643c2c21e83
"
openstack%2Fironic~master~If103606e41be38d23867572d065d98338980f98c,openstack/ironic,master,remove-app-wsgi,If103606e41be38d23867572d065d98338980f98c,Remove deprecated app.wsgi script,MERGED,2019-07-01 16:18:07.000000000,2019-07-02 13:23:57.000000000,2019-07-02 13:23:57.000000000,6,27,0,668515,401cfbc6e2e2ac310f8ec2be97fe147c0ec47ef9,17,7,1,3,23851,Riccardo Pittau,elfosardo,"Remove deprecated app.wsgi script

This patch removes the deprecated 'ironic/api/app.wsgi' script that
was marked for removal in Rocky.
The automatically generated 'ironic-api-wsgi' script should be used
instead.

Change-Id: If103606e41be38d23867572d065d98338980f98c
"
openstack%2Fcharm-ceph-osd~master~I535373fe68f19d7ff3c39d2c6cd7b696ba89afb5,openstack/charm-ceph-osd,master,,I535373fe68f19d7ff3c39d2c6cd7b696ba89afb5,[DEBUG] testing CI,ABANDONED,2019-06-25 19:38:43.000000000,2019-07-02 13:19:13.000000000,,1,0,0,667448,c0a582e75586965d280a8de80593b3eabe836554,4,2,1,1,14567,Rodrigo Barbieri,ganso,"[DEBUG] testing CI

debug purposes only

Change-Id: I535373fe68f19d7ff3c39d2c6cd7b696ba89afb5
"
openstack%2Fnetworking-ovn~master~I0d63fc127da9ab37bb217678a1c47961c17d3eda,openstack/networking-ovn,master,bug/1834453,I0d63fc127da9ab37bb217678a1c47961c17d3eda,Omit Octavia code from coverage report,MERGED,2019-06-06 08:53:37.000000000,2019-07-02 13:17:31.000000000,2019-07-02 13:17:31.000000000,4,2,3,663546,e444b45ac160204c8659d38b9f24684caa0424eb,46,6,7,2,6854,YAMAMOTO Takashi,yamamoto,"Omit Octavia code from coverage report

There is a patch in progress [0] to increase the test
coverage in the Octavia code. Until then, omit it from
the report so the coverage test will pass, so we can
make it voting.
For now we have test coverage at level of 66%.
As a good start set 65% to start voting and then
successfully increase it.

[0] https://review.opendev.org/#/c/601948/

Co-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>
Change-Id: I0d63fc127da9ab37bb217678a1c47961c17d3eda
"
openstack%2Fplacement~master~If1dbb3d4d1b23787d4c42a2ab17a762002ad920c,openstack/placement,master,nested-magic,If1dbb3d4d1b23787d4c42a2ab17a762002ad920c,WIP: Support resourceless request before same_subtree,ABANDONED,2019-06-04 11:17:35.000000000,2019-07-02 12:46:19.000000000,,110,17,10,663009,730b4aa61ce463505090830bba5e84f64d3583ae,16,4,4,6,25625,Tetsuro Nakamura,tetsuro0907,"WIP: Support resourceless request before same_subtree

This patch supports resourceless request preparing for support
for new `same_subtree` queryparam with resourceless requests.

Adding `same_subtree` is coming in a follow up. This patch includes
test cases for resourceless requests without same_subtree which is
going to be changed to make sure they are blocked in the follow up.

Co-Authored-By: Chris Dent <cdent@anticdent.org>
Change-Id: If1dbb3d4d1b23787d4c42a2ab17a762002ad920c
Story: 2005575
Task: 30784
"
openstack%2Ftripleo-heat-templates~master~I6d367a5d8e93992a4a8065baa84d8265f5bcab26,openstack/tripleo-heat-templates,master,,I6d367a5d8e93992a4a8065baa84d8265f5bcab26,Delete external resource ipv6 ports during clean,ABANDONED,2019-06-07 11:43:15.000000000,2019-07-02 12:19:29.000000000,,0,0,0,663910,fb70879373fa6e026671703bc7c421a3ccf904bc,12,4,2,0,7144,James Slagle,slagle,"Delete external resource ipv6 ports during clean

Adds a step to also delete the rendered files for external resource ipv6
ports when running process-templates.py with --clean.

Change-Id: I6d367a5d8e93992a4a8065baa84d8265f5bcab26
"
openstack%2Fmanila~master~Icb4c948e9f8ea879f5c2bc5d854df6696ee8e6a7,openstack/manila,master,openstack/requirements,Icb4c948e9f8ea879f5c2bc5d854df6696ee8e6a7,Blacklist python-cinderclient 4.0.0,MERGED,2019-06-04 03:06:55.000000000,2019-07-02 12:06:59.000000000,2019-07-02 12:06:58.000000000,1,1,2,662920,c2953972607c2399a99343e19e28f806fe0260e3,22,16,2,1,27822,pengyuesheng,pengyuesheng,"Blacklist python-cinderclient 4.0.0

This release of the Cinder client broke support for the v3
volume-transfer APIs unless microversion 3.55 or higher was requested.
depend on https://review.opendev.org/#/c/587877/

Depends-On: Ibbc3a3f04ea6253139112944cf7e0f6c265d0f26

Change-Id: Icb4c948e9f8ea879f5c2bc5d854df6696ee8e6a7
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I3cfd4272449b207874723682903505d2bbdb435b,openstack/tripleo-heat-templates,stable/stein,bug/1831690,I3cfd4272449b207874723682903505d2bbdb435b,Setup cluster definition based on the ansible limit option.,MERGED,2019-06-24 15:28:48.000000000,2019-07-02 11:36:05.000000000,2019-07-02 11:36:05.000000000,358,19,0,667145,534a23576cd8820439d6e9a79b9c1e58362e6bcc,18,6,2,8,8042,Jiří Stránský,jistr,"Setup cluster definition based on the ansible limit option.

During upgrade we're re-creating the pacemaker cluster one node at a
time. So we need to override the cluster definition. We do this by
collecting the ansible_limit variable and mapping the controller
defined as member of the cluster.

Co-Authored-By: Jose Luis Franco Arza <jfrancoa@redhat.com>
Co-Authored-By: Jiri Stransky <jistr@redhat.com>
Implements: blueprint upgrades-with-os
Closes-Bug: #1832361
Depends-On: Ibd95f4536c033af2094bd079cc81eeba18a36352
Depends-On: Ia108af3799dfd1be24c6ea738e42f0cde19c90c3
Depends-On: I3fa0717203f3f6eae852d019bec71e97eb485aa2
Change-Id: I3cfd4272449b207874723682903505d2bbdb435b
(cherry picked from commit cb8caaae4381e6a3de81a517dc7c6b23d272e024)
"
openstack%2Fmanila~master~I931902901668c295fb12523bf3d414a897c36275,openstack/manila,master,bp/inspur-instorage-manila-driver,I931902901668c295fb12523bf3d414a897c36275,Manila share driver for Inspur InStorage series.,MERGED,2019-02-14 03:56:37.000000000,2019-07-02 11:32:42.000000000,2019-07-02 11:32:42.000000000,2658,4,53,636819,54d855877bf7b7de7208ac63611882692e33f581,82,20,5,9,25648,wang yong,wangyong,"Manila share driver for Inspur InStorage series.

Features that Inspur InStorage driver support:
share create/delete.
extend share size.
update_access.
protocol: NFS/CIFS.
ThirdPartySystem: INSPUR CI

Change-Id: I931902901668c295fb12523bf3d414a897c36275
Implements: Blueprint inspur-instorage-manila-driver
"
openstack%2Fironic~master~I73cab832cf8099c02b3e29df84618c88e5fb5065,openstack/ironic,master,pkvmci,I73cab832cf8099c02b3e29df84618c88e5fb5065,devstack: Install arch specific debs only when deploying to that arch,MERGED,2019-06-28 14:40:34.000000000,2019-07-02 11:27:06.000000000,2019-07-02 11:27:06.000000000,6,2,0,668186,bc84b7bce6ae97641b3049a1c608e01f831ce8ed,28,9,3,2,11929,Michael Turek,mjturek,"devstack: Install arch specific debs only when deploying to that arch

Because the shim and grub-efi-amd64-signed packages are specific to
x86_64 [0][1], they should only be installed when deploying to an x86_64 node.
This removes the packages from the debs/ironic file and moves their
installation to lib/ironic, allowing us to install it them based on architecture.

[0] https://packages.ubuntu.com/eoan/shim
[1] https://packages.ubuntu.com/eoan/grub-efi-amd64-signed

Change-Id: I73cab832cf8099c02b3e29df84618c88e5fb5065
"
openstack%2Fnova~stable%2Frocky~I8bca5d84c37d02331d2f9968a674f3398c1a8f5b,openstack/nova,stable/rocky,bug/1832720,I8bca5d84c37d02331d2f9968a674f3398c1a8f5b,Grab fresh power state info from the driver,MERGED,2019-06-27 15:09:07.000000000,2019-07-02 11:23:27.000000000,2019-07-01 16:33:01.000000000,18,3,0,667955,0ac4a97204b129a10e9cc7fa1154dc24711281bd,13,10,1,2,26936,Surya Seetharaman,tssurya,"Grab fresh power state info from the driver

In drivers that use a cache to store the node info (presently only
ironic since [1]), the ""_get_power_state"" function called during
instance actions like start or stop grabs the information from the node
cache and saves it in the nova database instead of getting fresh
information from the driver. This leads to inconsistency between
the vm_state and power_state for an instance in the nova database
(which remains until a power_sync happens between nova and ironic).
This can be confusing for a user when doing ""nova list"" where the
power_state might still be shutdown when the vm_state has already
become active. On a default environment this inconsistency lasts
for about ten minutes which is the default value for the
sync_power_state_interval interval.

This patch changes the ""use_cache"" to False in the compute manager
when triggering an action on an instance like start/stop/reboot.

[1] I0069cbc327d952d42dbb8fe54949faab89995a7e

Change-Id: I8bca5d84c37d02331d2f9968a674f3398c1a8f5b
Closes-Bug: #1832720
(cherry picked from commit 5b1c9dd05ccc0488e4d47bfc2442e46adb82b765)
(cherry picked from commit 16449cbfe97eef1500f5a73a9d30e7abf4249b99)
"
openstack%2Fcharm-neutron-api~master~I18aabe17549d99383d9c13c24879d794719feca7,openstack/charm-neutron-api,master,bug/1832918,I18aabe17549d99383d9c13c24879d794719feca7,Pass global-physnet-mtu on neutron-plugin-api,MERGED,2019-06-21 09:08:31.000000000,2019-07-02 11:17:57.000000000,2019-07-02 11:17:57.000000000,16,0,1,666793,573997fa381038031476b79d76a022d8d34ec0a1,19,5,4,2,12549,gnuoy,gnuoy,"Pass global-physnet-mtu on neutron-plugin-api

Charms related to neutron-api on the neutron-plugin-api relation
can use the global-physnet-mtu and physical-network-mtus
to set mtus on the devices they manage.

Change-Id: I18aabe17549d99383d9c13c24879d794719feca7
"
openstack%2Ftripleo-common~stable%2Fstein~I3fa0717203f3f6eae852d019bec71e97eb485aa2,openstack/tripleo-common,stable/stein,bug/1832827-stable/stein,I3fa0717203f3f6eae852d019bec71e97eb485aa2,Fix tripleo-upgrade-hiera key deleting,MERGED,2019-07-01 16:20:33.000000000,2019-07-02 11:10:30.000000000,2019-07-02 11:10:30.000000000,9,3,0,668519,f48331f36b5d00f5a28249da5f6f31e9bbf64db7,8,4,1,1,11090,Sergii Golovatiuk,holser,"Fix tripleo-upgrade-hiera key deleting

The commit fixes these issues:

* When tripleo-upgrade-hiera key deleting was used multiple times in a
  playbook, the fact tripleo_upgrade_hiera_data_del persisted from the
  previous invocation instead of getting gradually filled from empty
  dict. This resulted in never deleting the keys except on the first
  run of the task.

* When the key deleting was called in an Ansible `loop`, the external
  `item` variable and the internal `item` in the deleting code
  conflicted on naming, breaking the removal of the key. We now use
  `loop_var: upgrade_hiera_item` to avoid naming collisions.

Closes-Bug: #1832827
Change-Id: I3fa0717203f3f6eae852d019bec71e97eb485aa2
(cherry picked from commit 6cfc204630c6771e27f946d64befa5d4107785ba)
"
openstack%2Ftripleo-upgrade~stable%2Fstein~Ia108af3799dfd1be24c6ea738e42f0cde19c90c3,openstack/tripleo-upgrade,stable/stein,leapp-stable/stein,Ia108af3799dfd1be24c6ea738e42f0cde19c90c3,Disable Leapp when using OOOQ,MERGED,2019-07-01 16:19:57.000000000,2019-07-02 11:10:29.000000000,2019-07-02 11:10:29.000000000,13,0,0,668518,7a426c01eae0229669b7305e00d5934b8ee00c81,8,4,1,3,11090,Sergii Golovatiuk,holser,"Disable Leapp when using OOOQ

When using OOOQ, don't enable the Leapp chunks of upgrade workflow yet.

Change-Id: Ia108af3799dfd1be24c6ea738e42f0cde19c90c3
(cherry picked from commit 181111e62de7f0f3fd0d6fd8cd62834f1783f148)
"
openstack%2Fpuppet-tripleo~stable%2Fstein~Ibd95f4536c033af2094bd079cc81eeba18a36352,openstack/puppet-tripleo,stable/stein,leapp-stable/stein,Ibd95f4536c033af2094bd079cc81eeba18a36352,Allow overriding pacemaker_node_ips for staged upgrade,MERGED,2019-06-25 12:43:28.000000000,2019-07-02 11:10:28.000000000,2019-07-02 11:10:28.000000000,2,2,0,667352,74a7262e2d689f9dc28a611fc5c417a7c9d23999,10,4,1,1,8042,Jiří Stránský,jistr,"Allow overriding pacemaker_node_ips for staged upgrade

We already have pacemaker_short_node_names_override, and we need a
matching pacemaker_node_ips_override as the two variables must be
overriden together.

Change-Id: Ibd95f4536c033af2094bd079cc81eeba18a36352
Partial-Bug: #1832361
(cherry picked from commit 42f07b25f784b8b8bb3e58fcbe5db79a0a3abaff)
"
openstack%2Fcharm-neutron-openvswitch~master~I7ad1ebc16883bda23cbad89a852e7e8f88f49c49,openstack/charm-neutron-openvswitch,master,bug/1832379,I7ad1ebc16883bda23cbad89a852e7e8f88f49c49,Replace SR-IOV systemd unit script,MERGED,2019-06-14 06:50:53.000000000,2019-07-02 10:31:26.000000000,2019-07-02 10:31:26.000000000,557,146,3,665314,d02fad482d328a3368ccdbad8a5f253a774a03cc,20,4,5,12,28608,Nicolas Pochet,npochet,"Replace SR-IOV systemd unit script

* The goal of this change is to enable the ability to configure only the
VFs that are configured through the charm and not fallback to the
blanket configuration.
* This python version of the script brings unit-tests that fully covers
it.
* Move the the template files to `files` and modify `neutron_ovs_utils`
accordingly.

Closes-Bug: 1832379
Depends-On: https://review.opendev.org/#/c/664837/

Change-Id: I7ad1ebc16883bda23cbad89a852e7e8f88f49c49
"
openstack%2Ftricircle~master~I04ce70414b2728662c7b97f373d4cfee635e1e16,openstack/tricircle,master,bug/specs_join_tricircle_and_trio2o_together,I04ce70414b2728662c7b97f373d4cfee635e1e16,add spec join tricircle-and-trio2o together,MERGED,2019-07-02 04:05:19.000000000,2019-07-02 10:28:10.000000000,2019-07-02 10:28:10.000000000,37,5,0,668589,3ba476ec46de685bebcc32f70fa98d40e0828fc1,10,2,5,1,28071,chzhang8,chzhang,"add spec join tricircle-and-trio2o together

Change-Id: I04ce70414b2728662c7b97f373d4cfee635e1e16
"
openstack%2Ftricircle~master~Ie0c03e401d64845ed81b17b81e0696a56dc7c213,openstack/tricircle,master,bug/specs_join_tricircle_and_trio2o_together,Ie0c03e401d64845ed81b17b81e0696a56dc7c213,join tricircle and trio2o together,MERGED,2019-07-02 03:50:54.000000000,2019-07-02 10:27:53.000000000,2019-07-02 10:27:53.000000000,19,0,0,668586,1a1740b7cd66feb60de3d76e57eb6bdf1a983fd2,10,2,1,1,28071,chzhang8,chzhang,"join tricircle and trio2o together

Change-Id: Ie0c03e401d64845ed81b17b81e0696a56dc7c213
signed-off-by: zhangchi <zhangchi@szzt.com.cn>
Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>
"
openstack%2Ftempest~master~I1c846fd8f8e2c1f5fdac5b2a58106ed1b709ee58,openstack/tempest,master,bug/1821912,I1c846fd8f8e2c1f5fdac5b2a58106ed1b709ee58,DNM Dump routers' namespaces when ssh to instance fails,ABANDONED,2019-04-24 14:32:16.000000000,2019-07-02 10:24:26.000000000,,38,0,0,655461,27709906276fce553befc9f4c3d6594117b01cca,3,1,1,1,11975,Slawek Kaplonski,slaweq,"DNM Dump routers' namespaces when ssh to instance fails

Change-Id: I1c846fd8f8e2c1f5fdac5b2a58106ed1b709ee58
Related-Bug: #1821912
"
openstack%2Fneutron-tempest-plugin~master~Ic2ca50902112517586f1cc911ca1c39419bfd429,openstack/neutron-tempest-plugin,master,bug/1821912,Ic2ca50902112517586f1cc911ca1c39419bfd429,DNM Dump router's namespace if ssh fails,ABANDONED,2019-04-24 13:39:38.000000000,2019-07-02 10:24:23.000000000,,42,6,0,655431,d4dbe59839a18dfa221db7c752e2f20281fa7b53,4,2,1,4,11975,Slawek Kaplonski,slaweq,"DNM Dump router's namespace if ssh fails

Change-Id: Ic2ca50902112517586f1cc911ca1c39419bfd429
Related-Bug: #1821912
"
openstack%2Fdiskimage-builder~master~I9774488a307d384565331441e5e31cfc96a251a7,openstack/diskimage-builder,master,,I9774488a307d384565331441e5e31cfc96a251a7,Mailing lists change openstack-dev to openstack-discuss,MERGED,2019-07-01 11:17:36.000000000,2019-07-02 09:53:21.000000000,2019-07-02 09:53:21.000000000,2,2,0,668435,d1661e922fbb6688bea27a1d19200dedc7ea9211,8,2,2,1,27565,inspurericzhang,inspurericzhang,"Mailing lists change openstack-dev to openstack-discuss

Change-Id: I9774488a307d384565331441e5e31cfc96a251a7
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34,openstack/tripleo-heat-templates,stable/rocky,,I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34,Add missing tag 'role_specific' for NovaPciPassthrough parameter,MERGED,2019-07-02 04:03:57.000000000,2019-07-02 09:48:22.000000000,2019-07-02 09:48:22.000000000,2,0,0,668588,a247ee0278cd2b2bff94e4567c207089b73ec5c9,9,6,1,1,18575,Saravanan KR,saravanankr,"Add missing tag 'role_specific' for NovaPciPassthrough parameter

Change-Id: I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34
Closes-Bug: #1834557
(cherry picked from commit 8860eee23138f48756a684f2954352004ba766d4)
"
openstack%2Fmonasca-notification~master~Icb91feaf7821fe014542350125c5011bab530103,openstack/monasca-notification,master,,Icb91feaf7821fe014542350125c5011bab530103,Add default notification plugins to configuration,MERGED,2019-07-01 16:01:19.000000000,2019-07-02 09:28:29.000000000,2019-07-02 09:28:29.000000000,1,1,0,668508,fd1c6dfab9719b4252da29789aeb1f7974419e54,7,3,1,1,16222,witek,witek,"Add default notification plugins to configuration

In the past email, pagerduty and webhook notification plugins had been
hard coded and always enabled. This situation is still reflected in the
deprecated YAML configuration file [1]. These notification method types
are also expected by tempest tests.

This change sets email, pagerduty and webhook as the default list of
enabled notifiers. This corresponds to the old behavior and testing but
can be easily modified by overwriting the list in the configuration
file.

[1] https://opendev.org/openstack/monasca-api/src/branch/master/devstack/files/monasca-notification/notification.yaml#L51-L54

Change-Id: Icb91feaf7821fe014542350125c5011bab530103
Story: 2000959
Task: 35644
"
openstack%2Fopenstack-ansible-os_neutron~master~I10f350d40f9291c7688b336291f433ee3c4072d1,openstack/openstack-ansible-os_neutron,master,fix-credentials-scoping,I10f350d40f9291c7688b336291f433ee3c4072d1,Use neutron credentials when connecting to other APIs,MERGED,2019-07-01 20:49:31.000000000,2019-07-02 09:16:49.000000000,2019-07-02 09:16:48.000000000,14,17,0,668559,edcbdf4b53b3476228568a409d7b4311a3c30b53,7,3,1,1,17799,Logan V,Logan2211,"Use neutron credentials when connecting to other APIs

When neutron is connecting to another service's API, ex. neutron,
it should use its own credentials to obtain an authtoken when
accessing the other service's API as a client. Only the other
service (eg. nova) should use its own service credentials
when obtaining auth tokens.

Change-Id: I10f350d40f9291c7688b336291f433ee3c4072d1
"
openstack%2Fpython-tripleoclient~master~I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e,openstack/python-tripleoclient,master,fix_validations_run,I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e,Improve validations run outputs through the CLI,MERGED,2019-05-16 15:20:21.000000000,2019-07-02 09:03:10.000000000,2019-07-02 09:02:24.000000000,21,21,4,659597,1acbef8a0630d2d4a0ae9909269b81364ef481b9,41,9,8,3,11491,Gael Chamoulaud,gchamoul,"Improve validations run outputs through the CLI

When the tripleo.messaging.v1.send workflow fails with the error
'Workflow failed due to message status', the return message is None and
we don't have more information about what's failing. The same happens if
the validation runs well.

This patch improves the output in case of a messaging workflow failure.

Change-Id: I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fkolla-ansible~master~Iead068d6d683249d5ba520fa1913f2c881618f90,openstack/kolla-ansible,master,test-nfv,Iead068d6d683249d5ba520fa1913f2c881618f90,DNM: Test nfv scenario CI job,NEW,2018-12-19 18:58:13.000000000,2019-07-02 08:52:01.000000000,,1,0,0,626373,aa81e6829a06ae4e24cd18ac5653ede7bd6f91b4,12,2,3,1,19316,Eduardo Gonzalez,egonzalez90,"DNM: Test nfv scenario CI job

Change-Id: Iead068d6d683249d5ba520fa1913f2c881618f90
Depends-On: I2920c17a374d04b451c73e37b844881e5b71a162
"
openstack%2Fkolla-ansible~master~Ifc898015b9b523ef4c50fc969e464f05762f2151,openstack/kolla-ansible,master,add-note,Ifc898015b9b523ef4c50fc969e464f05762f2151,Add note to CI config regarding registry during upgrade,MERGED,2019-07-01 16:47:23.000000000,2019-07-02 08:51:26.000000000,2019-07-02 08:51:26.000000000,3,0,0,668524,a0bdc3669a4432723e1a2756150c05a28a9affbc,7,3,1,1,30491,Radosław Piliszek,yoctozepto,"Add note to CI config regarding registry during upgrade

Change-Id: Ifc898015b9b523ef4c50fc969e464f05762f2151
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fsahara~master~I5e445c1885bc13561556e01357f28872329399f2,openstack/sahara,master,zanata/translations,I5e445c1885bc13561556e01357f28872329399f2,Imported Translations from Zanata,MERGED,2019-07-02 08:02:31.000000000,2019-07-02 08:44:32.000000000,2019-07-02 08:44:32.000000000,63,2,0,668628,22e1d9acb93c421854652fb6c21235e7f3ec8683,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5e445c1885bc13561556e01357f28872329399f2
"
openstack%2Fadjutant~master~Ic6165de66d7969adf03152f9a5c34e68782f47c8,openstack/adjutant,master,format-markdown,Ic6165de66d7969adf03152f9a5c34e68782f47c8,Force to use markdown to prevent pypi issue,ABANDONED,2019-07-01 18:09:47.000000000,2019-07-02 08:28:48.000000000,,1,0,0,668536,6535f84d26f51a48451626deca02bcf44581441d,5,3,1,1,28522,Hervé Beraud,hberaud,"Force to use markdown to prevent pypi issue

Recently the pypi team have reintroduce some deactivated tests
on package deployment and especially tests concerning long_description
syntaxe.

If projects don't specify that they use the markdown format the
package deployment will fail if something went wrong in the markdown format.

By example if a project use inline literal this can be an issue due to
the fact that if `long_description_content_type` is missing [1]. The
default format will be `text/x-rst` where code block is different from
markdown.

These changes force to use the markdown format to avoid this kind of issue
on project who use `README` at markdown format.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007459.html

For more details:
https://github.com/pypa/warehouse/issues/5890#issuecomment-494868157

Change-Id: Ic6165de66d7969adf03152f9a5c34e68782f47c8
"
openstack%2Fopenstack-ansible-os_cinder~master~Ib9ffa6c270091cb438c8e25af5026a7d2d6a1e9a,openstack/openstack-ansible-os_cinder,master,,Ib9ffa6c270091cb438c8e25af5026a7d2d6a1e9a,Switch to the new canonical constraints URL on master,MERGED,2019-06-20 13:44:24.000000000,2019-07-02 08:17:27.000000000,2019-07-02 08:17:27.000000000,1,1,0,666580,74fee6e786a4fe7ad5c3d77f089cb48819aa19c0,15,6,1,1,28748,chenker,chenke,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ib9ffa6c270091cb438c8e25af5026a7d2d6a1e9a
"
openstack%2Fnetworking-ovn~master~Icc29a41f1201a979d35cfa72a9ea9704df8d0e2c,openstack/networking-ovn,master,bug/1708594,Icc29a41f1201a979d35cfa72a9ea9704df8d0e2c,Fix synchronization failure of acl rules,ABANDONED,2019-02-14 08:32:15.000000000,2019-07-02 07:59:33.000000000,,10,5,0,636854,98fc08fd745a9de1b2c17e4758bbf85113a1f82f,7,2,2,2,29874,Taoyunxiang,Yunxiang,"Fix synchronization failure of acl rules

Fix the problem of parameters mismatch of acl rule between neutron
and nb, in the process  of neutron and ovn's db synchronization
(nb's acl has more 'severity' and 'name' attributes),
resulting in wrong synchronization.The cmd of synchronization
is 'neutron-ovn-db-sync-util --config-file /etc/neutron/neutron.conf
--config-file /etc/neutron/plugins/ml2/ml2_conf.ini
--ovn-neutron_sync_mode repair'

Change-Id: Icc29a41f1201a979d35cfa72a9ea9704df8d0e2c
"
openstack%2Fdevstack~stable%2Fstein~Idcf7cefa8be5d7990e9c597ff7d371d5fc3103d9,openstack/devstack,stable/stein,f29,Idcf7cefa8be5d7990e9c597ff7d371d5fc3103d9,Remove the devstack-single-node-fedora-latest definition,MERGED,2019-05-31 18:29:08.000000000,2019-07-02 07:57:12.000000000,2019-07-02 07:57:12.000000000,0,10,0,662538,f7678c90d4cfce1a8b3f48bbf59a52ac78991c16,10,4,1,1,1131,Brian Haley,brian-haley,"Remove the devstack-single-node-fedora-latest definition

This should have been removed when stable/stein was branched,
and is preventing changing the definition in master to use f29.

Change-Id: Idcf7cefa8be5d7990e9c597ff7d371d5fc3103d9
"
openstack%2Ftripleo-validations~stable%2Fstein~I2d5ec11b3c71312970f5ab5b352c9b6e776e8647,openstack/tripleo-validations,stable/stein,,I2d5ec11b3c71312970f5ab5b352c9b6e776e8647,Deprecate all the `validations` directory contents,MERGED,2019-07-01 11:16:08.000000000,2019-07-02 07:53:12.000000000,2019-07-02 07:53:12.000000000,109,3,0,668434,fb838d37a45f2fe498eaa3c4de822d11a02ecff1,8,5,1,50,11491,Gael Chamoulaud,gchamoul,"Deprecate all the `validations` directory contents

All the validation includes a task which warns the operator that
everything in this directory is deprecated and points them to the latest
official documentation.

Change-Id: I2d5ec11b3c71312970f5ab5b352c9b6e776e8647
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fnetworking-ovn~master~Ibd529907d60ee5a1f4b0b1d16571c3ecba1b5e68,openstack/networking-ovn,master,,Ibd529907d60ee5a1f4b0b1d16571c3ecba1b5e68,Remove those copy words occured twice times in migration.rst,ABANDONED,2018-11-13 09:58:36.000000000,2019-07-02 07:36:59.000000000,,1,1,0,617548,664be90af062eaa208a5c2b2aa54953f997707a3,4,2,1,1,27366,guotao,taoguo,"Remove those copy words occured twice times in migration.rst

Change-Id: Ibd529907d60ee5a1f4b0b1d16571c3ecba1b5e68
"
openstack%2Fnetworking-ovn~master~I9673c611ba4bcccbd1853bad9e8f02310de02ae9,openstack/networking-ovn,master,,I9673c611ba4bcccbd1853bad9e8f02310de02ae9,Omit the twice occured words in  tripleo.rst,ABANDONED,2018-11-13 09:51:33.000000000,2019-07-02 07:35:30.000000000,,1,1,4,617546,bfacef6accaf754743256c2e42d5a48777b27db4,7,5,1,1,27366,guotao,taoguo,"Omit the twice occured words in  tripleo.rst

Change-Id: I9673c611ba4bcccbd1853bad9e8f02310de02ae9
"
openstack%2Fdiskimage-builder~master~I8580849ceaa7a5152c94f29afa890ac6d6983fb1,openstack/diskimage-builder,master,app-apt-keys,I8580849ceaa7a5152c94f29afa890ac6d6983fb1,install gnupg2 by default in debian-minimal,MERGED,2019-07-01 19:34:13.000000000,2019-07-02 07:32:52.000000000,2019-07-02 07:32:52.000000000,2,0,0,668554,d8f796e153ef02067bc1504e97ac24a60c3a3017,16,6,1,1,14288,Matthew Thode,prometheanfire,"install gnupg2 by default in debian-minimal

debian-minimal depends on debootstrap which depends on dpkg

This needs to be installed early as dpkg installs the apt keys early via
02-add-apt-keys in pre-install.d

Change-Id: I8580849ceaa7a5152c94f29afa890ac6d6983fb1
"
openstack%2Ffreezer-api~master~I601c668bac078e983113c34ec1a8d06294b0c12a,openstack/freezer-api,master,,I601c668bac078e983113c34ec1a8d06294b0c12a,Rebuild elasticsearch DSL,NEW,2019-03-01 15:53:56.000000000,2019-07-02 07:10:38.000000000,,92,66,0,640408,cca7398ce57aa1566041a2200ea4df1902bd3ddb,10,3,3,2,26285,wu.chunyang,wu.chunyang,"Rebuild elasticsearch DSL

when use elasticsearch as storage backend, freezer-api can not
work well,it report ""transport error"", this is because after
elasticsearch 5.x version, it has remove filtered section,
but now we still use it.so we need to rebuild elasticsearch DSL.
filtered deprecated in ES 2.x and remove in ES 5.x
refer to [0][1]
[0]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-filtered-query.html
[1]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html

Change-Id: I601c668bac078e983113c34ec1a8d06294b0c12a
"
openstack%2Fplacement~master~Ie3e81c28bf3c26d3a15d19acd657a46fd739819d,openstack/placement,master,cd/htmlifyperflog,Ie3e81c28bf3c26d3a15d19acd657a46fd739819d,WIP: Try to get perfload api log htmlified,ABANDONED,2019-05-16 10:41:43.000000000,2019-07-02 07:00:09.000000000,,1,1,0,659525,90007c7c58689df927ce2789d56c4b1c561e54be,6,3,1,1,11564,Chris Dent,chdent,"WIP: Try to get perfload api log htmlified

If the htmlify role is present by default, then a file in
the log dir with a .txt extension ought to get htmlified.
Let's see what happens. It might be that the role needs to
be requested explicitly.

Change-Id: Ie3e81c28bf3c26d3a15d19acd657a46fd739819d
"
openstack%2Fplacement~master~Ic8677b3b5bbc513098e5471f6267b38e3bac294b,openstack/placement,master,story/2005443,Ic8677b3b5bbc513098e5471f6267b38e3bac294b,Adjust parallel concurrency to 2*nproc in nested-perfload,ABANDONED,2019-06-20 14:47:19.000000000,2019-07-02 06:59:13.000000000,,6,1,2,666597,e164410fabbe5477fe49896eba652c35001aad83,9,3,3,1,11564,Chris Dent,chdent,"Adjust parallel concurrency to 2*nproc in nested-perfload

3*nproc seems to cause a bit too much congestion, but 1*nproc is slower
still, so we're going to try 2*.

Since client, server and db are all on the same host, there's less spare
time available while I/O is happening. It might be it's just going to be
slow and that's the way it goes.

The perfload-nested-runner script is adjusted to provider a variable
where this can be controlled.

Change-Id: Ic8677b3b5bbc513098e5471f6267b38e3bac294b
"
openstack%2Fceilometermiddleware~master~I2dfd62da4757b7adb42cfd24f5ff7840d016a234,openstack/ceilometermiddleware,master,,I2dfd62da4757b7adb42cfd24f5ff7840d016a234,Mailing lists change openstack-dev to openstack-discuss,ABANDONED,2019-07-01 10:59:31.000000000,2019-07-02 06:51:07.000000000,,2,2,1,668421,f6cbccbf23ce67849c163f4f1e49d618902191b2,7,2,2,1,27565,inspurericzhang,inspurericzhang,"Mailing lists change openstack-dev to openstack-discuss

Change-Id: I2dfd62da4757b7adb42cfd24f5ff7840d016a234
"
openstack%2Fdesignate~stable%2Fstein~Id87bd31513517190474f425acc1b6b0d77279108,openstack/designate,stable/stein,bug/1834993,Id87bd31513517190474f425acc1b6b0d77279108,sqlalchemy: Fix migrations for PostgreSQL,ABANDONED,2019-07-02 06:50:00.000000000,2019-07-02 06:50:58.000000000,,4,2,0,668616,378c418b9ff613b573062c2833259ddef593abf2,2,0,1,2,27056,Sven Wegener,swegener,"sqlalchemy: Fix migrations for PostgreSQL

PostgreSQL does not support specifying the same name for the column, but
does require a name for the enum.

This fixes:

sqlalchemy.exc.CompileError: PostgreSQL ENUM type requires a name.

oslo_db.exception.DBMigrationError: (psycopg2.ProgrammingError) column ""type"" of relation ""recordsets"" already exists
 [SQL: '\nALTER TABLE recordsets RENAME COLUMN type TO type'] (Background on this error at: http://sqlalche.me/e/f405)

Change-Id: Id87bd31513517190474f425acc1b6b0d77279108
Closes-Bug: 1834993
Signed-off-by: Sven Wegener <sven.wegener@inovex.de>
"
openstack%2Fkuryr-kubernetes~master~I7eb253ef49cfc3a9808679123bbc9d14b3284d9e,openstack/kuryr-kubernetes,master,bug/1834301,I7eb253ef49cfc3a9808679123bbc9d14b3284d9e,Support None from Octavia get_api_major_version(),MERGED,2019-06-26 09:04:17.000000000,2019-07-02 06:44:36.000000000,2019-07-01 19:17:18.000000000,6,2,0,667557,446a73fc691d5eda786ba6e8be50e1be012adf9a,18,6,1,1,11600,Michał Dulko,dulek,"Support None from Octavia get_api_major_version()

Change-Id: I7eb253ef49cfc3a9808679123bbc9d14b3284d9e
Closes-Bug: 1834301
"
