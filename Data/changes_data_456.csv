id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fopenstack-ansible-os_aodh~master~Ia05fc004e11eada426bc81c45bbc3732b9126bbe,openstack/openstack-ansible-os_aodh,master,bp/python-build-install-simplification,Ia05fc004e11eada426bc81c45bbc3732b9126bbe,Execute service setup against a delegated host using Ansible built-in modules,MERGED,2018-07-31 11:54:06.000000000,2018-07-31 19:02:31.000000000,2018-07-31 19:02:31.000000000,98,95,0,587395,30ec2a87f657fc1c40fd950a8b3983863937564f,7,3,1,5,6816,Jesse Pretorius,jesse-pretorius,"Execute service setup against a delegated host using Ansible built-in modules

In order to reduce the packages required to pip install on to the hosts,
we allow the service setup to be delegated to a specific host, defaulting
to the deploy host. We also switch as many tasks as possible to using the
built-in Ansible modules which make use of the shade library.

The 'virtualenv' package is now installed appropriately by the openstack_hosts
role, so there's no need to install it any more. The 'httplib2' package is a
legacy Ansible requirement for the get_url/get_uri module which is no longer
needed. The keystone client library is not required any more now that we're
using the upstream modules. As there are no required packages left, the task
to install them is also removed.

Change-Id: Ia05fc004e11eada426bc81c45bbc3732b9126bbe
"
openstack%2Finstack-undercloud~master~Ibb6fe24abbb92fa922966cdae1235a2945288ab8,openstack/instack-undercloud,master,469474,Ibb6fe24abbb92fa922966cdae1235a2945288ab8,WIP check add uc restore,ABANDONED,2017-06-05 15:30:48.000000000,2018-07-31 19:02:26.000000000,,28,0,0,471023,0991adbb41a5129ab376ad712a3d82e8905e3955,5,0,1,1,20775,Carlos Camacho,ccamacho,"WIP check add uc restore

Change-Id: Ibb6fe24abbb92fa922966cdae1235a2945288ab8
"
openstack%2Fpython-tripleoclient~master~I08c20e02c41417e75c7a205ac82754735ec6fced,openstack/python-tripleoclient,master,upgrade-steps,I08c20e02c41417e75c7a205ac82754735ec6fced,WIP track upgrade status in mistral env,ABANDONED,2017-06-02 20:55:58.000000000,2018-07-31 19:02:22.000000000,,25,0,0,470436,87e20fa6e15f1b36d232178365e62c21e5c8dc03,9,0,3,1,16515,mbu,matbu,"WIP track upgrade status in mistral env

In order to be able to track the progress of the upgrade
this review add the status for each steps in mistral env
This is POC for now, maybe in a near futur we can totaly
skip the selection of the steps manually, by adding
something more automated.
Like steps['ctlplane'] is Done, so now give me a set of
non controller nodes to upgrade
(with a such solution, we should still keep an option to
enforce the step)

Change-Id: I08c20e02c41417e75c7a205ac82754735ec6fced
"
openstack%2Ftraining-guides~master~I5e60a3fd6c15697f523229c20b8d29b982737ce2,openstack/training-guides,master,bug/1784680,I5e60a3fd6c15697f523229c20b8d29b982737ce2,Fixing a broken link,MERGED,2018-07-31 17:36:33.000000000,2018-07-31 19:02:16.000000000,2018-07-31 19:02:16.000000000,1,1,0,587558,08196e66013400c4812f8feba0db19ca76b0d842,7,3,1,1,28815,Elvis Nobrega de Alcantara,arctos,"Fixing a broken link

Fixing a broken link in OpenStack Upstream Institute Training Content,
after Configuring Your Gerrit Account Module, in Setting Up Your Gerrit
Account.

Change-Id: I5e60a3fd6c15697f523229c20b8d29b982737ce2
Closes-Bug: 1784680
"
openstack%2Ftripleo-heat-templates~master~I7cc8169eed89caec850b10ff3d74955384a953f8,openstack/tripleo-heat-templates,master,,I7cc8169eed89caec850b10ff3d74955384a953f8,WIP - Ansible driven Upgrade for Neutron service,ABANDONED,2016-06-08 08:50:39.000000000,2018-07-31 19:02:12.000000000,,201,0,5,326923,12c6752af1fa9f322de26f10d03166f6e712895e,14,4,2,14,16515,mbu,matbu,"WIP - Ansible driven Upgrade for Neutron service

Change-Id: I7cc8169eed89caec850b10ff3d74955384a953f8
"
openstack%2Ftripleo-heat-templates~master~I4d706efc1f03847233347ff47154bfa59931b444,openstack/tripleo-heat-templates,master,,I4d706efc1f03847233347ff47154bfa59931b444,Handle upgrading manila-share under pacemaker,ABANDONED,2017-06-06 07:04:58.000000000,2018-07-31 19:02:02.000000000,,15,0,1,471227,b752ffa7a544335b0f45c94f8a807e716c4cb327,8,4,1,1,7582,Jan Provaznik,jprovazn,"Handle upgrading manila-share under pacemaker

Add upgrade tasks for manila-share when it's controlled by pacemaker:

o Stop the service before the entire pacemaker cluster is stopped.
  This ensures the service is stopped before infrastructure services
  (e.g. rabbitmq) go away.
o Migrate the manila DB prior to restarting the service. This covers
  the situation when puppet-manila (who otherwise would handle the db
  sync) isn't managing the service.
o Start the service after the rest of the pacemaker cluster has been
  started.

This is a copy of the same patch for cinder-volume service:
I5874ab862964fadb68320d5c4de39b20f53dc25c

Change-Id: I4d706efc1f03847233347ff47154bfa59931b444
Related-To: I5874ab862964fadb68320d5c4de39b20f53dc25c
"
openstack%2Ftripleo-quickstart-extras~master~I1651ffb4bc01793eaea056c2f8d6fe7ba5a95f19,openstack/tripleo-quickstart-extras,master,devmode-containerized-long,I1651ffb4bc01793eaea056c2f8d6fe7ba5a95f19,WIP: split devmode config into general config and featuresets,ABANDONED,2017-06-08 22:13:57.000000000,2018-07-31 19:01:57.000000000,,42,18,0,472458,1fa3a3a3c95847a4097aad201b81a05938b7a955,9,3,1,4,10022,Gabriele Cerami,panda,"WIP: split devmode config into general config and featuresets

Change-Id: I1651ffb4bc01793eaea056c2f8d6fe7ba5a95f19
"
openstack%2Ftripleo-common~stable%2Focata~Ifc1091a8fc49b8bca9c10d4eccb6191bfc62863d,openstack/tripleo-common,stable/ocata,add_pull_puppet_modules_to_binaries,Ifc1091a8fc49b8bca9c10d4eccb6191bfc62863d,Add pull-puppet-modules script to binaries,ABANDONED,2017-03-16 13:12:10.000000000,2018-07-31 19:01:49.000000000,,4,3,0,446511,97743665174fe26dbe4036ffecba7074c9c9ed70,27,6,2,1,12715,John Trowbridge,trown,"Add pull-puppet-modules script to binaries

The script landed with 69173bb but was not added to added so the
scripts variable of setup.cfg.

Change-Id: Ifc1091a8fc49b8bca9c10d4eccb6191bfc62863d
(cherry picked from commit f642c091293f23ae3fcda4655994fccfdf44b2e6)
"
openstack%2Ftripleo-quickstart-extras~master~Ib3ea337e3bc8a47d5659e028ed6dc29470a61f3f,openstack/tripleo-quickstart-extras,master,bug/1661317,Ib3ea337e3bc8a47d5659e028ed6dc29470a61f3f,Implement predictable placement feature,ABANDONED,2017-06-13 10:19:39.000000000,2018-07-31 19:01:36.000000000,,156,0,0,473773,736f9607eea66b8806bac4ea45ab36bfd02330d9,18,3,3,6,10022,Gabriele Cerami,panda,"Implement predictable placement feature

This patch add a predictable_placement_map variable that can be used to
arbitrarily assign labels to available nodes to specify their
destination of use

Closes-Bug: 1661317
Change-Id: Ib3ea337e3bc8a47d5659e028ed6dc29470a61f3f
"
openstack%2Fpuppet-tripleo~master~I1449ac7e7c93810a34d7e1ce89e8df410ba3e8a1,openstack/puppet-tripleo,master,update_cinder_volume_rgd,I1449ac7e7c93810a34d7e1ce89e8df410ba3e8a1,Add support for cinder::volume::rbd hiera parameters,ABANDONED,2016-06-28 17:18:49.000000000,2018-07-31 19:01:09.000000000,,2,2,1,335137,6e1fd074afd86fc448f3190735a6c9718cf97c6f,16,3,2,1,19564,Keith Schincke,colonwq,"Add support for cinder::volume::rbd hiera parameters

This patch updates cinder_rbd_pool_name and cinder_rbd_user_name
in tripleo::profile::base::cinder::volume::rbd to look at hiera
data before falling back to the default value

Change-Id: I1449ac7e7c93810a34d7e1ce89e8df410ba3e8a1
Depends-On: I1921115cb6218c7554348636c404245c79937673
"
openstack%2Ftripleo-common~master~I5344336ecbf5282f7ffcb929e170c4e549741553,openstack/tripleo-common,master,logging,I5344336ecbf5282f7ffcb929e170c4e549741553,Use oslo.log library instead of system logging module,ABANDONED,2017-02-06 12:44:14.000000000,2018-07-31 19:00:46.000000000,,21,34,1,429677,64c26103f618deb57c56be7e875c708b2d2a0317,17,3,3,21,20401,M V P Nitesh,mvpnitesh,"Use oslo.log library instead of system logging module

The constants of log levels were added in the 1.8 version of
the oslo.log library. So we can replace all usage of system
logging module with log module from oslo.log.
Use WritableLogger class from the loggers module of the oslo.log
library.

Change-Id: I5344336ecbf5282f7ffcb929e170c4e549741553
"
openstack%2Ftripleo-docs~master~Ic1a3726e89433ac988361ec5b2c6ff602cac1388,openstack/tripleo-docs,master,add-deployment-diagram,Ic1a3726e89433ac988361ec5b2c6ff602cac1388,add deployment diagram,ABANDONED,2016-09-19 07:04:36.000000000,2018-07-31 19:00:39.000000000,,673,0,0,372257,d475701c91a0fd9c56a44e7e9f5bcb720492029b,7,2,1,3,13809,Alexandre Maumené,alexandreno,"add deployment diagram

Change-Id: Ic1a3726e89433ac988361ec5b2c6ff602cac1388
"
openstack%2Ftripleo-docs~master~I8af6451f47aa72dcc250db2632962f6a3f2538e9,openstack/tripleo-docs,master,426276,I8af6451f47aa72dcc250db2632962f6a3f2538e9,Adds image building command when on stable branch,ABANDONED,2017-01-27 15:47:46.000000000,2018-07-31 18:59:37.000000000,,7,0,4,426276,3956c518fdb76d65a6c6565ba1d13f5ebfb282e1,14,4,2,1,22064,Alejandro Andreu,alejandro,"Adds image building command when on stable branch

As --config-file is not a valid option when on the Newton release.

Change-Id: I8af6451f47aa72dcc250db2632962f6a3f2538e9
"
openstack%2Ftripleo-docs~master~Ic201c11f628bfa109c94039eb17373cb0d91f8b0,openstack/tripleo-docs,master,multi-line-extraconfig,Ic201c11f628bfa109c94039eb17373cb0d91f8b0,Documentation of complex data in ExtraConfig,ABANDONED,2016-06-14 22:28:41.000000000,2018-07-31 18:59:20.000000000,,25,0,0,329699,1516734b837c6cc05ec91f0d7bd2620d938313bc,11,6,1,1,10910,Stig Telfer,stigtelfer,"Documentation of complex data in ExtraConfig

Provide an example using SR-IOV passthrough data of how complex
structured data can be passed through hiera preserved as strings.

Change-Id: Ic201c11f628bfa109c94039eb17373cb0d91f8b0
"
openstack%2Ftripleo-docs~master~I388c109a6a7d7743f7d51850cc3bf78cbf0b8a39,openstack/tripleo-docs,master,debug-failed-pxe-boot-introspection,I388c109a6a7d7743f7d51850cc3bf78cbf0b8a39,Add how to fix firewall not adding the correct rules with node's MAC address,ABANDONED,2016-09-19 06:34:48.000000000,2018-07-31 18:57:57.000000000,,24,0,0,372248,eaf2f063ffef1c4f0bedcd1c7119f23e0ac31fbc,7,2,1,1,13809,Alexandre Maumené,alexandreno,"Add how to fix firewall not adding the correct rules with node's MAC address

This describe how to fix when introspection is not adding the fw rule.

Change-Id: I388c109a6a7d7743f7d51850cc3bf78cbf0b8a39
"
openstack%2Ftripleo-docs~master~Ib154da80c9acca72433df0160116803b29f5449a,openstack/tripleo-docs,master,upgrade-ceph,Ib154da80c9acca72433df0160116803b29f5449a,Document Ceph repo switch for Upgrade,ABANDONED,2016-11-15 14:49:05.000000000,2018-07-31 18:57:18.000000000,,4,0,4,397777,f0b4599ac1d28c019649ffcd275d70a7258200db,8,3,1,1,16515,mbu,matbu,"Document Ceph repo switch for Upgrade

In some cases, the repo switch tools or commands won't enable
the Jewel repo, which would result of the non-upgrade of the
Ceph services and nodes

Change-Id: Ib154da80c9acca72433df0160116803b29f5449a
"
openstack%2Ftripleo-heat-templates~master~I53c92f0b47882ef0ce4dd7619421806a79a0625c,openstack/tripleo-heat-templates,master,docker-swift-containersync,I53c92f0b47882ef0ce4dd7619421806a79a0625c,Add missing Swift containersync service for containerized deployments,ABANDONED,2017-06-16 12:49:49.000000000,2018-07-31 18:56:58.000000000,,19,0,0,474964,edaf11a8866f19b602fd51ced48cec2b4aa39883,7,0,2,1,6968,Christian Schwede,cschwede,"Add missing Swift containersync service for containerized deployments

This patch adds the missing Swift containersync service when using a
container deployment. While Swift is somewhat working without it, this
is required to fully support container to container synchronization
between different clusters.

Change-Id: I53c92f0b47882ef0ce4dd7619421806a79a0625c
Depends-On: I6c1f953efe5df32160719ea1de2dd718f281cec0
"
openstack%2Fpuppet-tripleo~stable%2Focata~If272345e96988778ceccb8f2f624db1c38aea365,openstack/puppet-tripleo,stable/ocata,bug/1704327,If272345e96988778ceccb8f2f624db1c38aea365,Modified glance stores parameter values,ABANDONED,2017-07-18 05:41:04.000000000,2018-07-31 18:56:49.000000000,,4,4,0,484628,07de09c422f94fdef598c60fbacc295bbc5e80cc,6,2,1,1,19138,Pranali Deore,PranaliD,"Modified glance stores parameter values

The stores parameter should be set with the new parameters
as they are going to be deprecated in the old method.

Change-Id: If272345e96988778ceccb8f2f624db1c38aea365
Closes-Bug: 1704327
(cherry picked from commit acafaf0bdeac625d634e62ce4cfdaac2b46aa812)
"
openstack%2Ftripleo-heat-templates~master~I794aa7022390685a0c038f33841b023f3e149844,openstack/tripleo-heat-templates,master,docker-puppet,I794aa7022390685a0c038f33841b023f3e149844,"Specify step as a fact, mount /etc/puppet readonly",ABANDONED,2017-05-17 03:46:34.000000000,2018-07-31 18:56:34.000000000,,28,43,11,465232,3077c2e25010bf2b087335e486be372d6258d68b,90,10,12,13,4571,Steve Baker,steve-stevebaker,"Specify step as a fact, mount /etc/puppet readonly

Since the hiera value step is the one value which can change on each
invocation of puppet it would be better passed in as an argument
instead of persisted to a hieradata file.

For containers this allows /etc/puppet to be mounted directly as
read-only. This avoids the complexity of copying in
/etc/puppet from /tmp.

Change-Id: I794aa7022390685a0c038f33841b023f3e149844
"
openstack%2Ftripleo-quickstart~master~Iacfc85bd466fd4237bd29fb71ae927981464ddb7,openstack/tripleo-quickstart,master,yum-retries,Iacfc85bd466fd4237bd29fb71ae927981464ddb7,tripleo-ci/master release: set retries=0 in yum.conf,ABANDONED,2017-07-19 21:28:58.000000000,2018-07-31 18:56:17.000000000,,1,0,0,485361,047ecfbdbb0734afacf8f94486f081bd7b338865,22,6,1,1,10022,Gabriele Cerami,panda,"tripleo-ci/master release: set retries=0 in yum.conf

as a workaround for the networking problems we're hitting in some infra
regions, we set retries=0 in yum.conf to indefinitely retry a mirror

Change-Id: Iacfc85bd466fd4237bd29fb71ae927981464ddb7
"
openstack%2Ftraining-guides~master~Iba762f4080911bbd464fd744e5010eb44c2badd4,openstack/training-guides,master,bug/1784677,Iba762f4080911bbd464fd744e5010eb44c2badd4,changing jenkins to zuul,MERGED,2018-07-31 17:26:37.000000000,2018-07-31 18:53:08.000000000,2018-07-31 18:53:08.000000000,1,1,0,587547,18f14d4df0bc757314851b96eb91e72c51b1d9d0,9,5,1,1,28811,Felipe,felipelm,"changing jenkins to zuul

We don't use jenkins anymore it should be Zuul now.

Change-Id: Iba762f4080911bbd464fd744e5010eb44c2badd4
Closes-bug: 1784677
"
openstack%2Fnova~stable%2Fqueens~Idca5998da8bb42b29a8fffdf52b4af3a043c6326,openstack/nova,stable/queens,bug/1754360,Idca5998da8bb42b29a8fffdf52b4af3a043c6326,unquiesce instance after quiesce failure,MERGED,2018-07-10 18:56:11.000000000,2018-07-31 18:53:04.000000000,2018-07-31 18:53:04.000000000,42,16,0,581451,bcae081c4672a13eb1a75d1d3d81a439b5fdb796,13,10,1,2,6873,Matt Riedemann,mriedem,"unquiesce instance after quiesce failure

If the call to compute_rpcapi.quisece_instance() raises an exception,
any uncaught exception will break out of the function
snapshot_volume_backed(). This can leave the instance in frozen state.

This patch adds a blanket Exception catch to the try block and calls
compute_rpcapi.unquiesce_instance() before reraising.

This has been seen in the wild with RPC timeouts, but this is not the
only possible genesis for an unknown error from quiesce_instance.

Change-Id: Idca5998da8bb42b29a8fffdf52b4af3a043c6326
Closes-Bug: #1754360
(cherry picked from commit 1e77faaa412ab9909dd9491cab4a819b5c84d3e8)
"
openstack%2Fos-loganalyze~master~I3cb0894014bfbf0e376b8bb60c8da738d93aaffb,openstack/os-loganalyze,master,,I3cb0894014bfbf0e376b8bb60c8da738d93aaffb,Fix HTMLify CLI,MERGED,2018-07-30 23:32:46.000000000,2018-07-31 18:43:35.000000000,2018-07-31 18:43:35.000000000,4,2,1,587253,21c2a8234a5a19caf1addad24343c80df1663fd4,9,3,2,2,1,James E. Blair,corvus,"Fix HTMLify CLI

The facility to HTMLify a file from the command line has been
broken since the severity filter was added.  This gets it working
again.

Change-Id: I3cb0894014bfbf0e376b8bb60c8da738d93aaffb
"
openstack%2Fpython-dracclient~master~I5003785dee922920dcdd95c8d7e2a26e0bf97a7d,openstack/python-dracclient,master,bug/1779412,I5003785dee922920dcdd95c8d7e2a26e0bf97a7d,Filter out non-ASCII characters on invalid UTF8,MERGED,2018-07-02 19:39:40.000000000,2018-07-31 18:40:23.000000000,2018-07-31 18:40:23.000000000,19,1,1,579673,0de8b417683527132f7ae6bc9a403a5a83b99488,16,6,4,2,10250,Christopher Dearborn,cdearbor,"Filter out non-ASCII characters on invalid UTF8

When an enumerate is done, it is possible that the iDRAC may return
invalid UTF8 that contains non-ASCII characters.  This causes an
XMLSyntaxError to be thrown.  This fix detects that situation and
filters out all non-ASCII characters to bypass the error.

See the following bug for further details:
https://bugs.launchpad.net/python-dracclient/+bug/1779412

Closes-Bug: #1779412
Change-Id: I5003785dee922920dcdd95c8d7e2a26e0bf97a7d
"
openstack%2Fnova~stable%2Fqueens~I0d7644db3537a67b94e75972b3c4fce25a623763,openstack/nova,stable/queens,bug/1780727-stable/queens,I0d7644db3537a67b94e75972b3c4fce25a623763,Handle HostMappingNotFound when deleting a compute service,MERGED,2018-07-18 12:59:07.000000000,2018-07-31 18:28:46.000000000,2018-07-31 18:28:46.000000000,41,2,0,583566,0be8cbc302aa77b312e031f6a7a419e83afd6e3b,16,12,1,2,6873,Matt Riedemann,mriedem,"Handle HostMappingNotFound when deleting a compute service

If the compute service we're deleting has never been
discovered (mapped to a cell using discover_hosts) or the
host mapping was already deleted, we need to handle the
HostMappingNotFound error when deleting a compute service
so that we (1) don't 500 out of the API and (2) continue to
delete the compute service.

Change-Id: I0d7644db3537a67b94e75972b3c4fce25a623763
Closes-Bug: #1780727
(cherry picked from commit ee6e0c1e7eb861e56915c5b6c60a214b75240366)
"
openstack%2Fnova~stable%2Fqueens~I0ec0c2d3f7ef8d2274b97a28a175d53921edc9db,openstack/nova,stable/queens,bug/1781100,I0ec0c2d3f7ef8d2274b97a28a175d53921edc9db,Fix TypeError in prep_resize allocation cleanup,MERGED,2018-07-11 13:17:08.000000000,2018-07-31 18:28:24.000000000,2018-07-31 18:28:24.000000000,10,1,0,581741,246c61d82b6d2a4249cf2408268830dfbd71b8f6,14,10,1,2,6873,Matt Riedemann,mriedem,"Fix TypeError in prep_resize allocation cleanup

The CachingScheduler doesn't create allocations in
placement so when prep_resize fails and it tries
to revert allocations, the _revert_allocation() method
returns False and then prep_resize calls
delete_allocation_for_failed_resize() which since change
I7891b98f225f97ad47f189afb9110ef31c810717 has taken a
context argument, but that's not being passed so it
results in a TypeError.

This fixes the TypeError and adds a functional test case
which runs a resize reschedule scenario with the
CachingScheduler.

Change-Id: I0ec0c2d3f7ef8d2274b97a28a175d53921edc9db
Closes-Bug: #1781100
(cherry picked from commit 78af1de1587fb83e09d1c0639fb5a28eb6e51a27)
"
openstack%2Fopenstack-helm-infra~master~I396fe0c0e276d17eb52bfe289a464b7008b8d4d2,openstack/openstack-helm-infra,master,k8s/1.10.6,I396fe0c0e276d17eb52bfe289a464b7008b8d4d2,K8s: update to 1.10.6 in OSH gates,MERGED,2018-07-30 23:31:31.000000000,2018-07-31 18:20:33.000000000,2018-07-31 18:20:33.000000000,2,2,0,587252,9e2d684188000cef2db436c84d13b9d9c3edf1d2,8,4,1,2,23928,Pete Birley,portdirect,"K8s: update to 1.10.6 in OSH gates

This PS bumps the version of k8s used in the gates to 1.10.6

Change-Id: I396fe0c0e276d17eb52bfe289a464b7008b8d4d2
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fmanila~stable%2Fpike~I67602bae1f928769d768008deca7bd0f2fef1ac2,openstack/manila,stable/pike,bug/1639662-stable/queens-stable/pike,I67602bae1f928769d768008deca7bd0f2fef1ac2,Fix share-service VM restart problem,MERGED,2018-06-08 02:22:10.000000000,2018-07-31 18:07:32.000000000,2018-07-31 18:07:32.000000000,73,38,0,573480,7b306c0676c90a484230afb5fff6f1d02ec3a285,17,13,1,4,27173,shuaili.wang,shuaili.wang,"Fix share-service VM restart problem

The /etc/mtab file may have mount information such as 'nfsd'
that if copied to /etc/fstab will cause the share server to
hang when rebooted.

Update /etc/fstab with exactly the newly mounted or unmounted
shares rather than simply overwriting /etc/fstab with /etc/mtab.

Change-Id: I67602bae1f928769d768008deca7bd0f2fef1ac2
Close-Bug: #1639662
(cherry picked from commit b76934770b0f42950cad35a3e2a5a8e060462332)
(cherry picked from commit 344d4aa91c848447002d1b297884d52060d274b2)
"
openstack%2Fsahara-dashboard~master~I7696d4bda30c72d3930fe01790903ab814246771,openstack/sahara-dashboard,master,,I7696d4bda30c72d3930fe01790903ab814246771,One missed hadoop_version->plugin_version,MERGED,2018-07-31 15:30:35.000000000,2018-07-31 18:02:56.000000000,2018-07-31 18:02:56.000000000,8,4,0,587501,4585a9d004427f52e34f0cd89374e8ba1cba2dff,7,3,1,1,23078,Jeremy Freudberg,jeremyfreudberg,"One missed hadoop_version->plugin_version

Change-Id: I7696d4bda30c72d3930fe01790903ab814246771
"
openstack%2Fheat~master~I14d0a88b94f7e56e03683021c9c29a55dac9e516,openstack/heat,master,,I14d0a88b94f7e56e03683021c9c29a55dac9e516,Unit tests: Fix slow Manila test,MERGED,2018-07-31 15:47:40.000000000,2018-07-31 18:02:53.000000000,2018-07-31 18:02:53.000000000,7,2,0,587507,20c53bb03d627e0303ec797631b9529a4efee5a7,6,2,1,1,4257,Zane Bitter,zaneb,"Unit tests: Fix slow Manila test

We were retrying the create due to the client_plugin being mocked out,
which resulted in the test taking >60s instead of ~0.3s.

Change-Id: I14d0a88b94f7e56e03683021c9c29a55dac9e516
Story: #1745010
Task: 23347
"
openstack%2Fdevstack~master~I51c0283ee4e7905b4d8fbf71d867039cfd245a7d,openstack/devstack,master,Pikachu_Branch2.0,I51c0283ee4e7905b4d8fbf71d867039cfd245a7d,Changes on Thunder and Tackle base attack,ABANDONED,2018-07-31 17:07:06.000000000,2018-07-31 17:41:35.000000000,,1020,0,0,587529,42990b2b4d594168634295a5c14dd315b9b66dc3,2,3,1,69,28821,Leonardo Gomes,lgomes,"Changes on Thunder and Tackle base attack

Change-Id: I51c0283ee4e7905b4d8fbf71d867039cfd245a7d
"
openstack%2Ftripleo-ui~master~Ide45310ebbaf428b960c7db467777e75ff755529,openstack/tripleo-ui,master,bp/config-download-ui,Ide45310ebbaf428b960c7db467777e75ff755529,List deployment failures on deployment failure,MERGED,2018-06-28 07:28:22.000000000,2018-07-31 17:27:06.000000000,2018-07-31 17:27:06.000000000,556,17,3,578712,0dcce58279efe26bca00e7ec708b21c24ef5775d,26,4,10,14,7509,Jiri Tomasek,jtomasek,"List deployment failures on deployment failure

On deployment failure, a general deployment failure message is displayed
along with either a list of stack resources or deployment failures based
on the deployment phase the deployment failed at

Implements: blueprint config-download-ui
Change-Id: Ide45310ebbaf428b960c7db467777e75ff755529
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~If70818db9577b7d80c4acd0d0577d9432b5c8bef,openstack/tripleo-heat-templates,stable/queens,containers-default-stable/queens,If70818db9577b7d80c4acd0d0577d9432b5c8bef,Adds docker SFC and cleans up ODL envs,MERGED,2018-06-13 14:15:10.000000000,2018-07-31 17:27:03.000000000,2018-07-31 17:27:03.000000000,82,126,3,575122,922f81cc33f6931a97b6cf63868361fc7c4c1489,24,7,4,9,6926,Bogdan Dobrelya,bogdando,"Adds docker SFC and cleans up ODL envs

There are now duplicate places where environment files for deployments
are kept.  Those include environments/ and environments/services.  The
files in environments/ are incorrect and should be removed to leave only
a single place (environments/services) to store docker services.
environments/services-baremetal house the legacy bm services.

This patch also adds a missing docker service for SFC so that we can
also include an ODL SFC docker env file.

Change-Id: If70818db9577b7d80c4acd0d0577d9432b5c8bef
Signed-off-by: Tim Rozet <trozet@redhat.com>
(cherry picked from commit cfb5fdbd22cd81027018a0809f7466640ea0f0d6)
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~I5cdfdf25e009eec7d0ad786be1a183e497561e50,openstack/tripleo-heat-templates,master,congress_test,I5cdfdf25e009eec7d0ad786be1a183e497561e50,Adding congress datasource to pingtest scn001,ABANDONED,2017-02-28 02:24:08.000000000,2018-07-31 17:26:56.000000000,,6,0,0,438769,19e880b51d7706504dcd1a711dd8f97b6430ea74,15,3,4,1,5792,Dan Radez,dradez,"Adding congress datasource to pingtest scn001

Depends-On: I4516739685496c8af078dfa19b8551024e9c1989

Change-Id: I5cdfdf25e009eec7d0ad786be1a183e497561e50
"
openstack%2Fpuppet-tripleo~master~I7ed62ceb5a351f7194b42c96c01cbcc02b5f9aba,openstack/puppet-tripleo,master,haproxy_local,I7ed62ceb5a351f7194b42c96c01cbcc02b5f9aba,WIP DNR Add some local stanzas to haproxy,ABANDONED,2017-08-25 17:26:08.000000000,2018-07-31 17:26:51.000000000,,32,0,0,497989,9b26266f34496c2cdab69f12965e71938d353d04,6,1,1,1,20172,Michele Baldessari,michele,"WIP DNR Add some local stanzas to haproxy

This helps prefer locality but it is really just a POC to
explore a few ideas.

Change-Id: I7ed62ceb5a351f7194b42c96c01cbcc02b5f9aba
"
openstack%2Finstack-undercloud~master~I29bec188519b43eac37a45425cc5af25f043ef0c,openstack/instack-undercloud,master,mistral-wsgi,I29bec188519b43eac37a45425cc5af25f043ef0c,Enable mistral mod_wsgi in undercloud,ABANDONED,2017-04-20 12:24:13.000000000,2018-07-31 17:26:46.000000000,,5,0,4,458482,a93c53d79227cc9da19060a2f9c7d3e859ea3eb2,52,5,12,2,7065,Brad P. Crochet,bcrochet,"Enable mistral mod_wsgi in undercloud

Make mistral run under apache in the undercloud. The desire is to have
as many services running under apache as possible.

Change-Id: I29bec188519b43eac37a45425cc5af25f043ef0c
Depends-On: I61199f53d7e32fcb3d068ccaf548a836b5bb58e9
"
openstack%2Ftripleo-common~master~I455b053eb9bc1191674b83d7fb1b0afc785479c7,openstack/tripleo-common,master,ansible-swap-setup,I455b053eb9bc1191674b83d7fb1b0afc785479c7,[DNM] Testing ansible setup of swap,ABANDONED,2017-09-05 21:59:37.000000000,2018-07-31 17:26:37.000000000,,4,0,0,501006,fb82f9a8869717fe8fbdc7a919f67bf57118963f,28,2,3,2,7118,Ian Wienand,iwienand,"[DNM] Testing ansible setup of swap

v2

Change-Id: I455b053eb9bc1191674b83d7fb1b0afc785479c7
Depends-On: Icd4e6d8ab84471ad06e69c3e0f9bac92776efc78
"
openstack%2Ftripleo-heat-templates~master~Ib61736a0d14ccd6f5b556183d822babbb944a6c7,openstack/tripleo-heat-templates,master,,Ib61736a0d14ccd6f5b556183d822babbb944a6c7,implement scenario008 for containerized composable networker deployment,ABANDONED,2017-09-10 06:40:15.000000000,2018-07-31 17:26:22.000000000,,245,0,0,502295,74ca791a1ea56264d81d3a1eb72847ecb6d02b60,5,0,1,1,16615,abregman,abregman,"implement scenario008 for containerized composable networker deployment

3 controllers, 2 compute and 2 networker nodes.

Change-Id: Ib61736a0d14ccd6f5b556183d822babbb944a6c7
"
openstack%2Fpython-tripleoclient~master~Ic6ce807e3c357fdac8b66f6d00f1a0338838457f,openstack/python-tripleoclient,master,bug/1617199,Ic6ce807e3c357fdac8b66f6d00f1a0338838457f,WIP: Replacing print statement with log,ABANDONED,2017-09-18 05:00:23.000000000,2018-07-31 17:26:12.000000000,,332,100,1,504848,ddf749142fee2a64ddfb1e55df519cec1fd1707c,7,2,1,21,18009,Md Nadeem,mail2nadeem92,"WIP: Replacing print statement with log

Removing the print statements from tripleoclient and replace with log.(debug|info|warning)
Closes-Bug: #1617199

Change-Id: Ic6ce807e3c357fdac8b66f6d00f1a0338838457f
"
openstack%2Fqa-specs~master~Ie6fb25402d8d3b1d49fed906d4a62d91836c9cba,openstack/qa-specs,master,bp/tempest-resources,Ie6fb25402d8d3b1d49fed906d4a62d91836c9cba,Add bp tempest-resources,ABANDONED,2015-04-14 14:01:53.000000000,2018-07-31 17:26:10.000000000,,277,0,174,173334,569130f575625057d05f24f6cc165f7fa20d08e1,87,18,18,1,1921,Andrea Frittoli,andrea-frittoli,"Add bp tempest-resources

Remove tempest conf dependencies from run time test resource
details. Introduce resource.yml to define test resources as
a dedicated configuration file. Allow for tests to run against
matrixes of test resources.

Change-Id: Ie6fb25402d8d3b1d49fed906d4a62d91836c9cba
"
openstack%2Ftripleo-ui~master~If5c1d905f3b88157bb124f38bb721d6758d32687,openstack/tripleo-ui,master,semicolons,If5c1d905f3b88157bb124f38bb721d6758d32687,Remove semicolons,ABANDONED,2017-08-29 14:09:20.000000000,2018-07-31 17:25:45.000000000,,5455,5513,0,498822,ea1a4d5f9c55757b6e1277c58440c5daa04a17e7,14,4,2,289,7509,Jiri Tomasek,jtomasek,"Remove semicolons

Change-Id: If5c1d905f3b88157bb124f38bb721d6758d32687
"
openstack%2Finstack-undercloud~master~I5b9414b0e3a7e644461e8173f12b3b3a70a2ead6,openstack/instack-undercloud,master,ipv6-undercloud,I5b9414b0e3a7e644461e8173f12b3b3a70a2ead6,Configure dnsmasq for provisioning over IPv6,ABANDONED,2017-09-07 16:22:37.000000000,2018-07-31 17:25:39.000000000,,23,2,6,501796,79206907593f2b9ceed2c824584c1bd62d6cbc68,12,3,1,3,1926,Derek Higgins,derekh,"Configure dnsmasq for provisioning over IPv6

dnsmasq wont give out an static IP address to a device if it
has already given out that IP to the same MAC address with a
different dhcp6 ClientID or IAID[1]

when provisioning over IPv6 this is a problem because these ID's change
between the dhcp client in PXE, iPXE and in the deployed OS.

In order to work around this we need to use statless addressing, but we
still need dnsmasq as PXE doesn't appear to support statless addressing
and dhcp is still needed in order to provide the bootfile-url for both
tftp and http

So on the provisioning network the boot process looks like this
PXE -
   IP and bootfile-url from dnsmasq over dhcp6
iPXE -
   IP using the statless IP being advertised by radvd
   bootfile-url from dnsmasq over dhcp6
deployed OS
   IP using the statless IP being advertised by radvd

[1] - http://lists.thekelleys.org.uk/pipermail/dnsmasq-discuss/2017q1/011267.html

Change-Id: I5b9414b0e3a7e644461e8173f12b3b3a70a2ead6
"
openstack%2Fpython-tripleoclient~master~Ia41ebdc992f531ce041731a1bb8edfb911f358f2,openstack/python-tripleoclient,master,bug/1713539,Ia41ebdc992f531ce041731a1bb8edfb911f358f2,tripleoclient uses print rather than LOG.warning,ABANDONED,2017-09-05 06:05:52.000000000,2018-07-31 17:25:26.000000000,,13,9,0,500680,6a876bbd27270a64688e223ecccbc4bb18e6de4b,9,2,1,1,25571,Rajat Sharma,rajat29,"tripleoclient uses print rather than LOG.warning

Change-Id: Ia41ebdc992f531ce041731a1bb8edfb911f358f2
Closes-Bug: #1713539
"
openstack%2Ftripleo-heat-templates~master~I1231ffe7eff62a20a776f4b331a6a6ce01b02e00,openstack/tripleo-heat-templates,master,pacemaker-tls,I1231ffe7eff62a20a776f4b331a6a6ce01b02e00,WIP Handle using encryption by default for pacemaker in upgrade,ABANDONED,2017-07-31 08:36:41.000000000,2018-07-31 17:25:07.000000000,,40,0,9,489132,cbc5847742df7a537454d06f1bc851a773a25b60,48,5,5,2,10873,Juan Antonio Osorio Robles,ejuaoso,"WIP Handle using encryption by default for pacemaker in upgrade

This requires us to comment the secauth configuration option from the
corosync conf file. This enables it by default when the corresponding
THT parameter is set to true (which it is) and thus allows us to use
encryption on upgrades. We also distribute the corosync authkey
to all nodes before we start the cluster.

Change-Id: I1231ffe7eff62a20a776f4b331a6a6ce01b02e00
Depends-On: I349b8bf79eeeaa4ddde1c17b7014603913f184cf
Depends-On: Id066f644e08ac9860c38c22607c55e6da60a1675
"
openstack%2Ftripleo-ui~master~I4bc3e0e313a2cd55ca28995e69a4c86a5db81b13,openstack/tripleo-ui,master,bug/1676105,I4bc3e0e313a2cd55ca28995e69a4c86a5db81b13,"Change ""SSH Key"" to ""Private Key"" in ""Register Nodes"" Window by modifying English locale data",ABANDONED,2017-09-12 00:16:33.000000000,2018-07-31 17:25:01.000000000,,1,1,0,502868,b245cc951eeff607be65f684156c658dbb9e42d0,7,1,2,1,26868,Michael Bonifacio,michaelbonifacio,"Change ""SSH Key"" to ""Private Key"" in ""Register Nodes"" Window by modifying English locale data

Closes-Bug: #1676105
Change-Id: I4bc3e0e313a2cd55ca28995e69a4c86a5db81b13
"
openstack%2Ftripleo-common~master~I835d3b9842fd3849e684924b2d86f371cad94d7d,openstack/tripleo-common,master,link-address,I835d3b9842fd3849e684924b2d86f371cad94d7d,Optimize the link address,ABANDONED,2017-07-07 11:06:45.000000000,2018-07-31 17:24:43.000000000,,5,5,0,481578,b0fd00550c42f55782d1f4b9fd05978cadc3dccf,6,1,1,1,21204,iswarya vakati,iswarya_vakati,"Optimize the link address

Use https instead of http to ensure the safety

Change-Id: I835d3b9842fd3849e684924b2d86f371cad94d7d
"
openstack%2Fpython-tripleoclient~master~Iaf59e3b32ccf791686aefa1eb1fad9d1fbc473de,openstack/python-tripleoclient,master,bug/1630144,Iaf59e3b32ccf791686aefa1eb1fad9d1fbc473de,Changed the home-page link,ABANDONED,2016-10-05 18:27:04.000000000,2018-07-31 17:24:39.000000000,,1,1,2,382609,3542a78736b93d12d478aed28c3e64359e240b31,13,4,1,1,22837,Deepak,Deepak,"Changed the home-page link

Set the correct url link for home-page

Change-Id: Iaf59e3b32ccf791686aefa1eb1fad9d1fbc473de
Closes-Bug: #1630144
"
openstack%2Ftripleo-heat-templates~master~I3938593eaaa47a32df2a9a9a5ffe3bd9b4560db3,openstack/tripleo-heat-templates,master,bug/1722881,I3938593eaaa47a32df2a9a9a5ffe3bd9b4560db3,Fixes OpenDaylight deployments docker support,ABANDONED,2017-10-11 18:34:54.000000000,2018-07-31 17:24:28.000000000,,8,12,0,511319,c9af07c43bfe3ca9555dda9cce6a6d72728da06e,21,6,1,2,17280,Tim Rozet,trozet,"Fixes OpenDaylight deployments docker support

Rather than copy all of the env files used in traditional deployments to
enable other ODL deployment scenarios, this patch modifies the docker
env file to only include the docker related changes.  This allows a user
to deploy any ODL related scenario by including the docker env file arg
after specifying the traditional service env file argument.

Closes-Bug: 1722881

Change-Id: I3938593eaaa47a32df2a9a9a5ffe3bd9b4560db3
Signed-off-by: Tim Rozet <trozet@redhat.com>
"
openstack%2Ftripleo-quickstart-extras~master~Idd015e49c44b63f63be40b31cdfc0e9c2fc2d506,openstack/tripleo-quickstart-extras,master,local-repo,Idd015e49c44b63f63be40b31cdfc0e9c2fc2d506,[WIP] locally sync delorean repo,ABANDONED,2017-05-19 10:02:02.000000000,2018-07-31 17:24:19.000000000,,68,0,0,466248,872e4a389c91fc455d9f05b463910163f7d259c7,18,3,4,3,10022,Gabriele Cerami,panda,"[WIP] locally sync delorean repo

In containerized deployment gating, a simple change can lead to a
cascade of packages and containers to be rebuilt. Letting all the
containers to update packages from remote repositories may take too long
to meet gate timeout requirements.
This is one of the approach possible, create a local repo synced from
the remote, from which all the containers can take their packages
The role
- identifies enabled delorean repos
- syncs them locally
- create repos out of the local dir
- installs and execute a lighttpd to serve the repos
- create repo files to use those repos, using default ipv4 address

On current ovb test environment, the complete repos sync may take up to
7 minutes.

Change-Id: Idd015e49c44b63f63be40b31cdfc0e9c2fc2d506
"
openstack%2Ftripleo-heat-templates~master~I46209fededb0982cabad166d6f0fc3f94d40af90,openstack/tripleo-heat-templates,master,docker-swift-reconstructor,I46209fededb0982cabad166d6f0fc3f94d40af90,Add missing Swift object reconstructor for containerized deployments,ABANDONED,2017-03-15 11:39:34.000000000,2018-07-31 17:23:57.000000000,,19,0,2,445891,a5042907c0a96d0b04ddeff2679c180de933f28c,60,6,8,1,6968,Christian Schwede,cschwede,"Add missing Swift object reconstructor for containerized deployments

This patch adds the missing Swift object reconstructor service when
using a container deployment. While Swift is somewhat working without
it, this is required to fully support erasure coding.

Depends-On: If388bcc1532d7db2132d4b206e13252a30fa9041
Change-Id: I46209fededb0982cabad166d6f0fc3f94d40af90
"
openstack%2Ftripleo-heat-templates~master~I541426fd51046477022e6b77dbad5e76ece03172,openstack/tripleo-heat-templates,master,ceph-hostname-format,I541426fd51046477022e6b77dbad5e76ece03172,Drop default HostnameFormatDefault parameter from roles defintions.,ABANDONED,2017-11-14 14:09:25.000000000,2018-07-31 17:23:36.000000000,,4,16,12,519658,9ae3b84a3530d0a460c160cf26b5e98aa7b64bef,27,8,5,15,21537,Yurii Prokulevych,yprokule,"Drop default HostnameFormatDefault parameter from roles defintions.

HostnameFormatDefault parameter defined in roles mimics values
generated from overcloud.j2.yaml:
    default: ""%stackname%-{{role.name.lower()}}-%index%""

At the same time some role definitions don't have this parameter
set. For consistency it's dropped from all roles where it's defined
and may be set later if needed.

Change-Id: I541426fd51046477022e6b77dbad5e76ece03172
"
openstack%2Ftripleo-quickstart~master~Ic65d5dacbdd10af3f3257751b4d4fb7b29926e51,openstack/tripleo-quickstart,master,,Ic65d5dacbdd10af3f3257751b4d4fb7b29926e51,Only deploy cloud when environment tag used,ABANDONED,2016-12-29 20:29:50.000000000,2018-07-31 17:22:35.000000000,,2,0,0,415754,c5852f3f29f0a08236261772e8cd892eba381597,16,10,2,1,7294,Leif Madsen,leifmadsen,"Only deploy cloud when environment tag used

Apply the environment tag to the undercloud and overcloud setup. If
you're simply trying to teardown an environment, then the undercloud
and overcloud environment setup gets in the way.

Change-Id: Ic65d5dacbdd10af3f3257751b4d4fb7b29926e51
"
openstack%2Fsushy-tools~master~If306e0fdf7a63d800524240c77eebcc4f26d129c,openstack/sushy-tools,master,stestr,If306e0fdf7a63d800524240c77eebcc4f26d129c,Switch to use stestr for unit test,MERGED,2018-07-19 03:10:49.000000000,2018-07-31 17:22:14.000000000,2018-07-31 17:22:14.000000000,17,13,4,583832,278abf56607860f9660fb95a6d9a32c00fc9a7b8,20,4,5,6,28176,Ha Manh Dong,donghm,"Switch to use stestr for unit test

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
So we should switch to stestr.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: If306e0fdf7a63d800524240c77eebcc4f26d129c
"
openstack%2Fpython-tripleoclient~master~I2c12255fce11a8f6976fe5afc76357446c1e32aa,openstack/python-tripleoclient,master,pike-minor-update,I2c12255fce11a8f6976fe5afc76357446c1e32aa,Add setup-heat-outputs option to get heat stack outputs,ABANDONED,2017-08-20 21:32:18.000000000,2018-07-31 17:21:57.000000000,,63,2,14,495658,ec9f708d71b9e69dfee5bbad30368bbc78ff25d7,72,14,9,3,11166,Lukas Bezdicka,xbezdick,"Add setup-heat-outputs option to get heat stack outputs

For minor update workflow we need heat stack outputs but we
don't want to touch actual deployment, for that we noop most of
the tasks.

Change-Id: I2c12255fce11a8f6976fe5afc76357446c1e32aa
"
openstack%2Ftripleo-heat-templates~master~I6ec05704aba96426668903095b9505ad7e7ca131,openstack/tripleo-heat-templates,master,,I6ec05704aba96426668903095b9505ad7e7ca131,DNM: test,ABANDONED,2017-11-10 02:45:00.000000000,2018-07-31 17:21:48.000000000,,2,0,0,518819,5ddc5a2f44d078779d26ac4848404cee20ac08f1,6,3,1,2,23811,Oliver Walsh,owalsh,"DNM: test

Change-Id: I6ec05704aba96426668903095b9505ad7e7ca131
"
openstack%2Fsushy-tools~master~I73bfc62568d36eefd8dcef2c85f15dd55b55ed04,openstack/sushy-tools,master,cleanup-bios-emulator,I73bfc62568d36eefd8dcef2c85f15dd55b55ed04,Cleanup libvirt driver for BIOS emulator,MERGED,2018-07-30 08:09:15.000000000,2018-07-31 17:21:47.000000000,2018-07-31 17:21:47.000000000,6,4,0,586967,fecfe5ecc6baa018e7167dd2330305b641c7ea71,7,4,1,1,27909,Aija Jauntēva,ajya,"Cleanup libvirt driver for BIOS emulator

- changed to create namedtuple class at module level
- changed to use list when defining namedtuple attributes
- fixed docstring param 'update' name

Followup to I3b9e7683934e4448bedf3933f1a2fe222d70c208

Change-Id: I73bfc62568d36eefd8dcef2c85f15dd55b55ed04
"
openstack%2Ftripleo-heat-templates~master~I92a4566c101de0f3b37eec5479efd559d1d740a3,openstack/tripleo-heat-templates,master,bug/1640449,I92a4566c101de0f3b37eec5479efd559d1d740a3,Remove str_replace for bootstrap_server_id in deploy_steps.j2,ABANDONED,2017-10-19 17:08:07.000000000,2018-07-31 17:21:44.000000000,,18,25,3,513449,089ef9e53a31af5c44d08b2019cabaf689348881,16,7,2,1,4328,Steven Hardy,shardy,"Remove str_replace for bootstrap_server_id in deploy_steps.j2

This was recently added via https://review.openstack.org/#/c/505827
but I don't think it should be required, because we already set this
via vars in the tripleo-ansible-inventory.

Also, we need to move away from the name based lookup of '0' as it'll
break if the first controller is ever removed (this is actually
a regression which crept in during the switch to containers I think,
and this doesn't completely fix it)

Change-Id: I92a4566c101de0f3b37eec5479efd559d1d740a3
Partial-Bug: #1724888
"
openstack%2Ftripleo-heat-templates~master~I9a68f0e013525903553b87e049e8d20b210d9df0,openstack/tripleo-heat-templates,master,kubespray,I9a68f0e013525903553b87e049e8d20b210d9df0,Increase Kubespray verbosity when config_debug is defined,ABANDONED,2017-10-19 16:17:23.000000000,2018-07-31 17:21:35.000000000,,1,0,2,513440,713d9a1945a477f57b6db37e601f77365f2b2d97,6,3,1,1,8042,Jiří Stránský,jistr,"Increase Kubespray verbosity when config_debug is defined

Change-Id: I9a68f0e013525903553b87e049e8d20b210d9df0
"
openstack%2Ftripleo-heat-templates~master~I61d3d71dc8a3c8804faeb8e77eaa89d4f4f3c011,openstack/tripleo-heat-templates,master,bug/1723163,I61d3d71dc8a3c8804faeb8e77eaa89d4f4f3c011,DO NOT MERGE testing containerized scenarios,ABANDONED,2017-10-06 09:53:07.000000000,2018-07-31 17:21:30.000000000,,21,0,0,510040,d0e2cedc532c5c864cd070ca1fc3e8b07d34be3e,28,5,9,7,13039,Martin André,mandre,"DO NOT MERGE testing containerized scenarios

Change-Id: I61d3d71dc8a3c8804faeb8e77eaa89d4f4f3c011
"
openstack%2Ftripleo-quickstart~master~I5e742615d54d09b788d987c30ee6a887853c25d6,openstack/tripleo-quickstart,master,default_containerized_overcloud,I5e742615d54d09b788d987c30ee6a887853c25d6,Change devmode to deploy containerized services by default,ABANDONED,2017-06-08 21:10:31.000000000,2018-07-31 17:21:22.000000000,,95,15,34,472412,d5e4116878dc359e2bbd0ece0d74d94777f1ae55,413,18,68,3,10022,Gabriele Cerami,panda,"Change devmode to deploy containerized services by default

With this change devmode will deploy containerized services in the
overcloud by default when devmode for releases Pike and later.

Since the option to update containers has been added, gate jobs will
also run with a containerized overcloud by default for relevant
releases. Updating containers is enabled by default in devmode and
the ci-scripts when deploying with a containerized overcloud.

Two options are added:
--non-containerized-overcloud to change the default for non-gate mode
--containerized-overcloud to force containerized overcloud even in gate mode

Depends-On: I7fc3a83c95a76fe5005eeb084ad044fee9084bdb
Change-Id: I5e742615d54d09b788d987c30ee6a887853c25d6
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Icf9b40eed56f69a7ebe4d6c22e6365c2e90a7209,openstack/tripleo-heat-templates,stable/queens,,Icf9b40eed56f69a7ebe4d6c22e6365c2e90a7209,Adding HeatEngineVolumes and HeatEngineOptEnvVars support,MERGED,2018-06-25 07:29:37.000000000,2018-07-31 17:18:19.000000000,2018-07-31 17:18:18.000000000,13,1,0,577737,38ed564230914b5d8ea112f064694d0dc5772072,8,4,1,1,12080,Damian Szeluga,dszeluga,"Adding HeatEngineVolumes and HeatEngineOptEnvVars support

Change-Id: Icf9b40eed56f69a7ebe4d6c22e6365c2e90a7209
Closes-Bug: #1777852
(cherry picked from commit 637f335d105a2a14c024d12c4729a09cd4c88673)
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~I50ca550d225e52ba44b76a70b1db1c34088b88d7,openstack/tripleo-upgrade,stable/queens,verbose-check,I50ca550d225e52ba44b76a70b1db1c34088b88d7,Make service check output more verbose.,MERGED,2018-07-06 15:12:51.000000000,2018-07-31 17:18:18.000000000,2018-07-31 17:18:18.000000000,14,5,0,580685,4ad84a809f395ae612328a84ac3b213aac28a9d2,8,4,1,5,21537,Yurii Prokulevych,yprokule,"Make service check output more verbose.

Checks used to assert services' status post upgrade don't log
much on success or failure, for e.g:
  Waiting for haproxy pcs resource to start
  FAILURE: Haproxy pcs resource didn't get started after reboot
This change adds some extra info to be displayed to make
 troubleshooting easier.

Change-Id: I50ca550d225e52ba44b76a70b1db1c34088b88d7
(cherry picked from commit 0d471e91ef52573ca3b7df259e61a0c9b4111b2c)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I68c5e6c6dd969934c85409b8cee9919454e88474,openstack/tripleo-heat-templates,stable/queens,bug/1780134,I68c5e6c6dd969934c85409b8cee9919454e88474,Add FFU upgrade steps to Sahara services,MERGED,2018-07-13 09:08:23.000000000,2018-07-31 17:18:16.000000000,2018-07-31 17:18:16.000000000,50,0,0,582472,8ce40b751fa926eb6c4347e630033900d48a5db1,8,4,1,2,10459,Luigi Toscano,ltoscano,"Add FFU upgrade steps to Sahara services

Those steps should be enough to have Sahara properly working,
following the patterns established by other services:
- the non-containerized services are disabled between Ocata and Pike;
- the database is upgrades.

Closes-Bug: #1780134
Change-Id: I68c5e6c6dd969934c85409b8cee9919454e88474
(cherry picked from commit e38f6e935418fc1f17ceda3c8a5e4b75aed9ef98)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I94bd6aaa5f9da86fa642ac1225db1aa3ad3d2754,openstack/tripleo-heat-templates,stable/queens,bug/1780722-stable/queens,I94bd6aaa5f9da86fa642ac1225db1aa3ad3d2754,Fluentd configures rsyslog to send logs properly,MERGED,2018-07-18 07:40:58.000000000,2018-07-31 17:18:14.000000000,2018-07-31 17:18:14.000000000,1,0,0,583478,7616d3c1e4528e79c764df720ea8120263ad00f0,11,4,1,1,22954,Juan Badia Payno,jbadiapa,"Fluentd configures rsyslog to send logs properly

Fluentd configures rsyslog on the docker, but as the /etc/rsyslog.d directory
is not mounted, the rsyslog service is not configured.

This patch add the /etc/rsyslog.d directory to the fluentd container, so
rsyslog service is configured

Closes-Bug: #1780722
Change-Id: I94bd6aaa5f9da86fa642ac1225db1aa3ad3d2754
(cherry picked from commit d30adea380f37280308d71c44c9f94e2ba3b1b15)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Icdec38004df28988aa3a62019cb092c59d915f0e,openstack/tripleo-heat-templates,stable/queens,bug/1767998-stable/queens,Icdec38004df28988aa3a62019cb092c59d915f0e,Copy-in libvirt certs via kolla extended/start,MERGED,2018-07-30 08:40:21.000000000,2018-07-31 17:18:13.000000000,2018-07-31 17:18:13.000000000,11,6,0,586977,d47a9904116a30e08924123be3eab04839d11bae,12,5,1,1,6926,Bogdan Dobrelya,bogdando,"Copy-in libvirt certs via kolla extended/start

Instead of bind-mounting directly into the libvirt container,
follow the established approach for ditributing certificates
in containers.

Change-Id: Icdec38004df28988aa3a62019cb092c59d915f0e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit be5fd4eaeb514d659e1c684bfbd084aee9e7d519)
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~Iee64ad8843bc7827cf1101544b1c52c69fa49298,openstack/tripleo-upgrade,stable/queens,workload-disk-size-stable/queens,Iee64ad8843bc7827cf1101544b1c52c69fa49298,Workload flavor customization.,MERGED,2018-07-31 07:21:50.000000000,2018-07-31 17:18:12.000000000,2018-07-31 17:18:12.000000000,36,2,0,587313,836d31b7b6454d6b8bf22fadcf3a9f86b1f948f1,7,5,1,4,21537,Yurii Prokulevych,yprokule,"Workload flavor customization.

In order to spawn workload vms with images different than cirros,
 it might be needed to adjust disk's size/vcpus/swap's size.
This change allows this customization leaving defaults intact.

Change-Id: Iee64ad8843bc7827cf1101544b1c52c69fa49298
(cherry picked from commit 0228961c2a30cfd5b19addea0b41f349526fcd96)
"
openstack%2Fpuppet-tripleo~master~I4d7a8299d57e9c5f6effea19f0b630f4a092ff7e,openstack/puppet-tripleo,master,,I4d7a8299d57e9c5f6effea19f0b630f4a092ff7e,Enable HAProxy mode http for Swift and Ceph RGW,MERGED,2018-07-16 16:01:44.000000000,2018-07-31 17:18:11.000000000,2018-07-31 17:18:11.000000000,2,0,0,582991,d85cd3f3650d5f85a67170c27dac9f022a480d32,39,9,2,1,6796,Giulio Fidente,gfidente,"Enable HAProxy mode http for Swift and Ceph RGW

Previously we missed to enable http mode for the Swift and Ceph
RGW listeners in HAProxy.

Change-Id: I4d7a8299d57e9c5f6effea19f0b630f4a092ff7e
"
openstack%2Ftripleo-heat-templates~master~Ie7f000c658cab31dd6f453e02b55ac244d0328e2,openstack/tripleo-heat-templates,master,bug/1779706,Ie7f000c658cab31dd6f453e02b55ac244d0328e2,OVN: Add exec puppet tag to ovn-controller service file,MERGED,2018-07-17 16:43:50.000000000,2018-07-31 17:18:09.000000000,2018-07-31 17:18:09.000000000,1,1,0,583306,ddb211680421a6ea6458c924b599ff3cbdf25b99,9,6,1,1,10237,Numan Siddique,numansiddique,"OVN: Add exec puppet tag to ovn-controller service file

The depends on patch (in puppet-ovn) now makes use of ""exec"" to set
mac table size of provider bridges. We need ""exec"" puppet tag
to run that successfully.

Depends-On: I8f392c7807c4c6a152dfa4b77c7f4350b44324c0
Change-Id: Ie7f000c658cab31dd6f453e02b55ac244d0328e2
Closes-bug: #1779706
"
openstack%2Ftripleo-common~master~If80f9cc2f4cb32610dc5eb87159872e28363a21a,openstack/tripleo-common,master,external-update-upgrade,If80f9cc2f4cb32610dc5eb87159872e28363a21a,Add default for ceph_ansible_playbook in update/upgrade prepare workflow,MERGED,2018-07-24 13:58:40.000000000,2018-07-31 17:18:08.000000000,2018-07-31 17:18:08.000000000,1,1,0,585367,fb1a97cf66a2941b51fb47130a26f21739c56eb0,18,6,2,1,8042,Jiří Stránský,jistr,"Add default for ceph_ansible_playbook in update/upgrade prepare workflow

The end goal here is to remove it completely, but there's a
chicken-and-egg issue between removing it from tripleoclient and
tripleo-common. First we default it here, then we remove it from
tripleoclient, then we remove it here.

Partial-Bug: #1783949
Change-Id: If80f9cc2f4cb32610dc5eb87159872e28363a21a
"
openstack%2Ftripleo-ui~master~I6717b5e9141f38236ebac251a0afa078799e5a0b,openstack/tripleo-ui,master,bp/config-download-ui,I6717b5e9141f38236ebac251a0afa078799e5a0b,Update way to determine deployment status in plans list,MERGED,2018-07-17 11:59:35.000000000,2018-07-31 17:18:08.000000000,2018-07-31 17:18:08.000000000,145,139,0,583219,a45c59772d177e7ccb1f936f4bcd397f66526d31,15,4,5,6,7509,Jiri Tomasek,jtomasek,"Update way to determine deployment status in plans list

Deployment status in plans list is now determined from deployment
status in Swift rather than from Heat stack status

Implements: blueprint config-download-ui
Change-Id: I6717b5e9141f38236ebac251a0afa078799e5a0b
"
openstack%2Ftripleo-quickstart-extras~master~Ic4a2740ef08c3f2a9746f78b69186a4feec9af3c,openstack/tripleo-quickstart-extras,master,Ic4a2740ef08c3f2a9746f78b69186a4feec9af3c,Ic4a2740ef08c3f2a9746f78b69186a4feec9af3c,Adds reproducer check+exit+warning dependencies - virtualenv+others,MERGED,2018-06-26 12:06:34.000000000,2018-07-31 17:18:06.000000000,2018-07-31 17:18:06.000000000,20,0,39,578081,d2b8a9ffd3e35d1eefe6b36370eef204d6733b8e,141,15,14,1,8449,Marios Andreou,marios,"Adds reproducer check+exit+warning dependencies - virtualenv+others

Running reproducer fails if you don't have python-virtualenv installed.
This adds a check and warning which is nicer than the usual error
""reproducer-quickstart.sh: line 199: virtualenv: command not found""

After discussion also added check for pip and further testing also
showed the need for ansible and openstackclient.

Related-Bug: 1769538
Change-Id: Ic4a2740ef08c3f2a9746f78b69186a4feec9af3c
"
openstack%2Ftripleo-validations~master~Ieaf7e7200ad58ee2c33428a4fd3d70fbc066b377,openstack/tripleo-validations,master,netenv-validation-pool-files,Ieaf7e7200ad58ee2c33428a4fd3d70fbc066b377,Check static IPs in optional environment files,ABANDONED,2017-07-25 13:23:04.000000000,2018-07-31 17:16:03.000000000,,50,14,2,487054,382eb96659399912826dab66061ffc7da4b2dd40,11,9,2,2,17888,Florian Fuchs,flfuchs,"Check static IPs in optional environment files

The network environment validation currently only checks the
network settings in the environments/network-environment-yaml file.
However, some operators use the environments/ips-from-pool*.yaml files
to define static IPs. These files are not validated, so errors like IP
collisions and duplications might go unnoticed if these files are used
in a deployment.

This patch extends the network environment validation to check these
files as well. But because we don't know if those files are being
used for a deployment at the of the validation, any errors found in
these files are shown as warnings, while the validation will only fail
if there are errors in the main network-environment.yaml file.

Change-Id: Ieaf7e7200ad58ee2c33428a4fd3d70fbc066b377
"
openstack%2Ftripleo-ui~master~I334a262a36e996eb2f713c612d8018b1b78a7780,openstack/tripleo-ui,master,bp/gui-node-discovery-by-range,I334a262a36e996eb2f713c612d8018b1b78a7780,Add 'discover and enroll nodes' workflow,ABANDONED,2017-07-28 16:39:52.000000000,2018-07-31 17:15:23.000000000,,397,5,10,488526,00c0704bba00994d47df5dc54444d9c27b36a57f,30,5,9,9,20970,Honza Pokorny,hpokorny,"Add 'discover and enroll nodes' workflow

Change-Id: I334a262a36e996eb2f713c612d8018b1b78a7780
Implements: blueprint gui-node-discovery-by-range
"
openstack%2Fpython-tripleoclient~master~Ia33a93ebf78f9412e4c826dcdb346d78d2b143b6,openstack/python-tripleoclient,master,update-validation,Ia33a93ebf78f9412e4c826dcdb346d78d2b143b6,Implement pre validation for package update,ABANDONED,2017-05-22 21:55:05.000000000,2018-07-31 17:14:51.000000000,,30,1,9,466921,bf91e1d3cca194590f48ea8e607ed8962271c0e1,9,5,2,2,16515,mbu,matbu,"Implement pre validation for package update

related tripleo-common change: https://review.openstack.org/462961

Change-Id: Ia33a93ebf78f9412e4c826dcdb346d78d2b143b6
Depends-On: Ibe12e91e848c38e1746e242844a2b45c23f90863
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I8eba6edec0a63b7de0b677ecbbadc9a781591014,openstack/tripleo-heat-templates,stable/pike,bug/1694044,I8eba6edec0a63b7de0b677ecbbadc9a781591014,Removing the MistralEventEngine from the roles_data.yaml,ABANDONED,2018-02-20 22:40:33.000000000,2018-07-31 17:10:41.000000000,,0,1,0,546422,8f5905879800675c4c527413312076890c5cee43,5,3,1,1,16365,Remo Mattei,itlinux,"Removing the MistralEventEngine from the roles_data.yaml

Change-Id: I8eba6edec0a63b7de0b677ecbbadc9a781591014
"
openstack%2Fpuppet-tripleo~master~I617e9800a20525e353b334592e23a95bedc9bb8e,openstack/puppet-tripleo,master,alias_sriov_name,I617e9800a20525e353b334592e23a95bedc9bb8e,Add interface mapping support for sriov configuration,ABANDONED,2017-08-31 04:07:25.000000000,2018-07-31 17:09:38.000000000,,78,3,4,499448,7bfdc1990cdd6f3637a2742f73af98197cdceb60,32,8,9,2,21151,zenghui.shi,zshi,"Add interface mapping support for sriov configuration

Depends-On: I28fae19f8c1c8dacad38d10513330b15bd6cdbe6
Change-Id: I617e9800a20525e353b334592e23a95bedc9bb8e
"
openstack%2Fcharm-glance~master~Ie1aad136c8f8ded971f26af36a229b4493353fb5,openstack/charm-glance,master,tests/python3_support,Ie1aad136c8f8ded971f26af36a229b4493353fb5,[WIP] Make unit_test pass with Python 3,ABANDONED,2018-07-31 17:02:24.000000000,2018-07-31 17:09:37.000000000,,6,17,0,587526,7081f2ac6ddaa85ca1945790bb9586f23acf4d95,2,0,1,2,28608,Nicolas Pochet,npochet,"[WIP] Make unit_test pass with Python 3

Work in Progress. Do not merge.

Change-Id: Ie1aad136c8f8ded971f26af36a229b4493353fb5
"
openstack%2Ftripleo-heat-templates~master~Id4f522ff90176b0ec22e27ff4e1a5f40b65f0a16,openstack/tripleo-heat-templates,master,alias_sriov_name,Id4f522ff90176b0ec22e27ff4e1a5f40b65f0a16,Add interface mapping support for sriov configuration,ABANDONED,2017-08-31 04:06:42.000000000,2018-07-31 17:09:32.000000000,,8,4,1,499447,1e007a3e328a23cf8abf7dbf5a1428debcab1979,20,7,4,2,21151,zenghui.shi,zshi,"Add interface mapping support for sriov configuration

Depends-On: I617e9800a20525e353b334592e23a95bedc9bb8e
Change-Id: Id4f522ff90176b0ec22e27ff4e1a5f40b65f0a16
"
openstack%2Fpython-tripleoclient~master~Iab69404637686c6bb5c3872c6fb47568062e2cbc,openstack/python-tripleoclient,master,upgrade/step/converge,Iab69404637686c6bb5c3872c6fb47568062e2cbc,Remove converge env file option and re-use Deploy code,ABANDONED,2018-02-15 12:54:17.000000000,2018-07-31 17:08:53.000000000,,2,17,0,544928,88d8e013c4acf267e68044d37f3e2a24a5a68452,9,4,2,1,16515,mbu,matbu,"Remove converge env file option and re-use Deploy code

Since we inherit from DeployCommand class, we dont need to
take care of the converge env file.
It should be handle now by the -e option.
The converge env file should re-op the postdeploy step btw

Change-Id: Iab69404637686c6bb5c3872c6fb47568062e2cbc
"
openstack%2Ftripleo-heat-templates~master~I748246821e7f7f138288389860d1ab216897b5e0,openstack/tripleo-heat-templates,master,bug/1665287,I748246821e7f7f138288389860d1ab216897b5e0,Removes remaining AdminToken references,ABANDONED,2017-08-14 12:13:20.000000000,2018-07-31 17:08:31.000000000,,2,17,1,493524,acade83d85b6be266164531c682ed258f13ce4ab,31,8,2,3,19740,Christopher Brown,snecklifter,"Removes remaining AdminToken references

As per https://bugs.launchpad.net/bugs/1665287 there are some
redundant references to AdminToken remaining and this removes them.
I think. I'm really not sure if this commit is correct so please
review with alacrity.

Change-Id: I748246821e7f7f138288389860d1ab216897b5e0
Closes-Bug: #1665287
"
openstack%2Ftripleo-heat-templates~master~I75268e24fd8d8b168ac27ae19f140381fcb2b32b,openstack/tripleo-heat-templates,master,,I75268e24fd8d8b168ac27ae19f140381fcb2b32b,DNM - WIP: add manila cephnfs to scenario004,ABANDONED,2018-02-14 19:58:28.000000000,2018-07-31 17:08:16.000000000,,13,0,0,544623,af1cc59074d9aa13efc94c8c6f3a4ceddcde76d8,4,2,1,1,9003,Tom Barron,tbarron,"DNM - WIP: add manila cephnfs to scenario004

Well, let's see what breaks.

Change-Id: I75268e24fd8d8b168ac27ae19f140381fcb2b32b
"
openstack%2Ftripleo-heat-templates~master~Iee0dc78991b0e4b01018134dc61a22a2de65fb26,openstack/tripleo-heat-templates,master,docker_service_name_unit_test,Iee0dc78991b0e4b01018134dc61a22a2de65fb26,docker: Add unit tests on service_name,ABANDONED,2017-03-07 19:40:45.000000000,2018-07-31 17:08:09.000000000,,96,89,2,442755,fca1c595b75a069e7675c12aa8bf5c7f5bab7164,137,11,32,89,360,Dan Prince,dan-prince,"docker: Add unit tests on service_name

This patch updates the docker services so that we maintain
the service_name (a required interface) within the docker/services
themselves rather than ""extend"" this value from the puppet service.

The primary benefit is that we can add unit tests on this interface.
It also simplifies the templates a bit.

Change-Id: Iee0dc78991b0e4b01018134dc61a22a2de65fb26
"
openstack%2Ftripleo-quickstart-extras~master~Id6c98556d35462f54f3c216ff93b89ff1c5f2b4a,openstack/tripleo-quickstart-extras,master,modify_pep8,Id6c98556d35462f54f3c216ff93b89ff1c5f2b4a,"assertEquals is deprecated, use assertEqual",ABANDONED,2018-01-23 03:12:31.000000000,2018-07-31 17:07:43.000000000,,39,39,0,536659,888aa2ae78c85e7faa97e39ce69a38fe73140d09,12,5,1,1,27385,lvxianguo,lvxianguo,"assertEquals is deprecated, use assertEqual

Change-Id: Id6c98556d35462f54f3c216ff93b89ff1c5f2b4a
"
openstack%2Fpython-tripleoclient~master~I5c59a2e180084c3e133ff4ea31008d567d6ad565,openstack/python-tripleoclient,master,ansible/update/output,I5c59a2e180084c3e133ff4ea31008d567d6ad565,Dont show the mistral failure when ansible has failed,ABANDONED,2018-01-18 10:22:58.000000000,2018-07-31 17:07:31.000000000,,1,5,0,535276,8802d399a485b3e1d79c72779e5faf17d8aa22cd,5,2,1,1,16515,mbu,matbu,"Dont show the mistral failure when ansible has failed

Since we are printing all the ansible run to the console
we dont have to print the payload result when the ansible
run has failed.
If the payload message is huge, we will miss the ansible
failure output. Having only the Play Recap is enough for
being aware of the issue.

Change-Id: I5c59a2e180084c3e133ff4ea31008d567d6ad565
"
openstack%2Ftripleo-common~master~I05c2b35b10b0e7ab05dfe730fdf8c299d87034f2,openstack/tripleo-common,master,bug/1733640,I05c2b35b10b0e7ab05dfe730fdf8c299d87034f2,Remove the overcloudrc v3 generation,ABANDONED,2017-11-21 16:55:16.000000000,2018-07-31 17:06:59.000000000,,1,6,0,521942,d2baa1fb5a66dcfffb081c2155172cf21284cca0,17,3,4,2,9712,Dougal Matthews,dougal,"Remove the overcloudrc v3 generation

v3 is now the default and thus we are outputting the same details twice.

Closes-Bug: #1733640
Depends-On: I3612c58c356f8955bd44655cf5aacc20be532cbc
Change-Id: I05c2b35b10b0e7ab05dfe730fdf8c299d87034f2
"
openstack%2Ftripleo-heat-templates~master~I28863cd6af188a0221ab7a8dd99af60ba506a1ab,openstack/tripleo-heat-templates,master,bug/1721038,I28863cd6af188a0221ab7a8dd99af60ba506a1ab,Dynamically renders network isolation resource registry,ABANDONED,2017-10-03 14:06:01.000000000,2018-07-31 17:05:13.000000000,,75,49,12,509190,1c3a3b0db95983917ca33280e925ac0433d2d155,28,6,5,9,17280,Tim Rozet,trozet,"Dynamically renders network isolation resource registry

Automatically renders the resource registry for networks and ports
defined in network_data.yaml.  This eliminates the need to use
network-isolation.yaml unless there is a desire to override the
default registry.

Also deprecates the use of 'noop.yaml' in order to fallback network VIPs
to ctlplane network.  Now if a network is disabled in network_data the
VIP object for that network will not be created, and any service that
uses that network will automatically use the ctlplane VIP.

Closes-Bug: 1721038

Change-Id: I28863cd6af188a0221ab7a8dd99af60ba506a1ab
Signed-off-by: Tim Rozet <trozet@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~I61e63b358bf4c319d58fb045915c1e71472538be,openstack/tripleo-heat-templates,master,bug/1742915,I61e63b358bf4c319d58fb045915c1e71472538be,WIP write per-service data,ABANDONED,2018-01-16 18:02:29.000000000,2018-07-31 17:04:56.000000000,,18,0,1,534400,9f0c65e26c7d92f5bb447b87b28b4456f5f84e53,15,4,3,2,4328,Steven Hardy,shardy,"WIP write per-service data

Calculate per-service data & write it for debugging

Change-Id: I61e63b358bf4c319d58fb045915c1e71472538be
"
openstack%2Ftripleo-heat-templates~master~Icba0d2364f56b6ececc3f22d8eddfa367a1b7b58,openstack/tripleo-heat-templates,master,undercloud_container,Icba0d2364f56b6ececc3f22d8eddfa367a1b7b58,Fix ownership of password files after creation.,ABANDONED,2018-01-15 22:53:08.000000000,2018-07-31 17:04:38.000000000,,5,1,3,533812,411481f2389a0a3510a3241ed8f9eaa6bf4e2bb2,7,4,1,1,2011,Ian Main,imain,"Fix ownership of password files after creation.

Depends-On: I1c60fd2f2732acb343a2f128258dbf0141ba0c82
Change-Id: Icba0d2364f56b6ececc3f22d8eddfa367a1b7b58
"
openstack%2Ftripleo-heat-templates~master~Ie23c0f4cabb3cb682bf67e10dc45e3254794950d,openstack/tripleo-heat-templates,master,bug/1669739,Ie23c0f4cabb3cb682bf67e10dc45e3254794950d,Add additional sysctl values to enhance security,ABANDONED,2018-01-04 18:22:49.000000000,2018-07-31 17:04:27.000000000,,54,13,0,531210,4167ea12a13f4a0f4269262440452804c3f403c1,10,7,2,2,11391,Mikhail Fedosin,fedosinme,"Add additional sysctl values to enhance security

This patch adds several sysctl values that improve
secutiry of the system (see LP bug).

Also it disables setting of ipv6 values if it is disabled.

Closes-Bug: #1669739

Change-Id: Ie23c0f4cabb3cb682bf67e10dc45e3254794950d
"
openstack%2Ftripleo-ui~master~I6187119a6be0db49ed97acedc02afdc2b908a416,openstack/tripleo-ui,master,enforce-npm-version,I6187119a6be0db49ed97acedc02afdc2b908a416,Enforce npm version when building the project,ABANDONED,2018-01-08 14:16:42.000000000,2018-07-31 17:03:53.000000000,,35,1,6,531769,dff42b9b83eaf65ebff926e713464a61587861b1,13,3,4,2,20970,Honza Pokorny,hpokorny,"Enforce npm version when building the project

Yes, this is a hack.  Unfortunately, bindep is useless when checking for
versions, and npm's own ""engines"" and ""engineStrict"" settings don't even
provide a warning mechanism (let alone enforcement).

Change-Id: I6187119a6be0db49ed97acedc02afdc2b908a416
"
openstack%2Ftripleo-ui~master~Ic8763fb4239a380253defdf07f5a45368707fc01,openstack/tripleo-ui,master,npm5,Ic8763fb4239a380253defdf07f5a45368707fc01,Upgrade to npm 5,ABANDONED,2018-01-09 14:15:11.000000000,2018-07-31 17:03:45.000000000,,10205,511,3,532192,c5afc7307be46669e3768c739ebf8bd69442ab50,10,3,3,1,20970,Honza Pokorny,hpokorny,"Upgrade to npm 5

This means a few things:

* Updating the verify-version script
* Updating the shrinkwrap file to the new lockfile format

Change-Id: Ic8763fb4239a380253defdf07f5a45368707fc01
"
openstack%2Ftripleo-heat-templates~master~I2c64ba268931c2bb69158888165e286c34d40631,openstack/tripleo-heat-templates,master,enable_image_signing,I2c64ba268931c2bb69158888165e286c34d40631,Set nova to verify glance images in scenario 2,ABANDONED,2017-12-11 15:43:35.000000000,2018-07-31 17:03:36.000000000,,1,0,0,527136,78b320350714511a46e4a9fa21be6ea043b9dc2f,38,5,4,1,9914,Ade Lee,alee,"Set nova to verify glance images in scenario 2

We do not want to set this by default when barbican is enabled because
this will prevent all unsigned images from booting, causing potential
migration issues.

This patch depends on a patch to tripleo-quickstart which creates
signed images in the tempest test environment.  Otherwise, the
existing tests will fail because unsigned images will not boot.

A subsequent patch will enable the image signing tests in oooq.

Change-Id: I2c64ba268931c2bb69158888165e286c34d40631
Depends-On: Ie62025da5bd3ea495ef706f2cd18860a94c27e16
"
openstack%2Fpuppet-tripleo~master~Ie0cfce121f76bc23dc98aa9c22a2d9e5799e8105,openstack/puppet-tripleo,master,nexenta_backend,Ie0cfce121f76bc23dc98aa9c22a2d9e5799e8105,Cinder: Add NexentaStor Support,ABANDONED,2016-09-15 15:42:51.000000000,2018-07-31 17:03:11.000000000,,153,8,2,370956,21bea06a7f1da2e3230aaf34998714ef1329be49,50,5,8,5,14270,Dimitri Savineau,dsavineau,"Cinder: Add NexentaStor Support

This adds NexentaStor iSCSI backend support to cinder volume.

Change-Id: Ie0cfce121f76bc23dc98aa9c22a2d9e5799e8105
Depends-on: Ib8ece62f9fb5ff38ccdcf1e19fd84375b8595234
"
openstack%2Fopenstack-ansible-os_magnum~master~I8d022156ee5dd6fc30e33f822b40a7bc885ed13e,openstack/openstack-ansible-os_magnum,master,osprofiler,I8d022156ee5dd6fc30e33f822b40a7bc885ed13e,Add packages required for osprofiler,MERGED,2018-06-08 04:32:36.000000000,2018-07-31 17:02:23.000000000,2018-07-31 17:02:23.000000000,3,3,0,573509,d041d4ff52c0763967dac02eb2c1f3f1c8aff152,39,5,4,1,7353,Kevin Carter,cloudnull,"Add packages required for osprofiler

The following packages are required in-order to run osprofiler.
these packages will provide deployers the ability to profile
a service on demand should they choose to enable the profile
functionality.

Depends-On: Ife5023bc4752cf3c2d7221f9f8772990c6bc09df
Change-Id: I8d022156ee5dd6fc30e33f822b40a7bc885ed13e
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Ftripleo-common~master~Iad84df670cacfb822f8ccddff46dc2819426ceb1,openstack/tripleo-common,master,bug/1701532,Iad84df670cacfb822f8ccddff46dc2819426ceb1,Make docker.yaml and docker-ha.yaml default env file,ABANDONED,2017-10-06 13:34:09.000000000,2018-07-31 17:02:21.000000000,,5,0,1,510115,c9dd5ba9c8c6c08e6977fe2daad4f0836fb8accd,11,6,1,1,20866,Janki Chhatbar,janki,"Make docker.yaml and docker-ha.yaml default env file

This patch makes docker.yaml and docker-ha.yaml env files
default during overcloud deployment defaulting to containarised
services deployment. This ensures that it is default for both
CLI and UI.

Change-Id: Iad84df670cacfb822f8ccddff46dc2819426ceb1
Closes-Bug: #1701532
"
openstack%2Ftripleo-common~master~I750b85bdb0f5c27dc38a4dbfc5bb5238561c1a71,openstack/tripleo-common,master,,I750b85bdb0f5c27dc38a4dbfc5bb5238561c1a71,Make config_volume consistent with ODL container name,ABANDONED,2017-10-04 10:27:46.000000000,2018-07-31 17:02:07.000000000,,1,1,0,509396,5d30c67e1cd50603755fe6543be7940c948adcb2,27,7,2,1,20866,Janki Chhatbar,janki,"Make config_volume consistent with ODL container name

Change volume name to opendaylight_api, same as container name

Change-Id: I750b85bdb0f5c27dc38a4dbfc5bb5238561c1a71
"
openstack%2Ftripleo-common~master~Ie02be0d27f6450a619973c4c0c61f32862d81041,openstack/tripleo-common,master,bug/1723051,Ie02be0d27f6450a619973c4c0c61f32862d81041,"Install package ""less"" in all tripleo containers",ABANDONED,2017-10-12 10:49:43.000000000,2018-07-31 17:01:35.000000000,,2,1,0,511455,a3c80caf30802377885e502a62ac378720b19353,11,5,2,1,20778,Damien Ciabrini,dciabrin,"Install package ""less"" in all tripleo containers

All tripleo container images that extend openstack-base currently
have ""less"" installed, due to a rpm dependency.

Install this package explicitely, and make it available for all
container images (e.g. swift, redis, mariadb, rabbitmq...)

Closes-Bug: #1723051

Change-Id: Ie02be0d27f6450a619973c4c0c61f32862d81041
"
openstack%2Fglance_store~master~I7a94dfffb61fc212abb58c1e1aec5884474b6aa8,openstack/glance_store,master,bug/1784420,I7a94dfffb61fc212abb58c1e1aec5884474b6aa8,Wrap interface function for multihash correctly,MERGED,2018-07-30 15:57:06.000000000,2018-07-31 17:01:28.000000000,2018-07-31 17:01:28.000000000,19,0,0,587098,4d4cf1559cf393a2a10a458f83209cbeb2756e49,15,5,3,2,5314,Brian Rosmaita,brian-rosmaita,"Wrap interface function for multihash correctly

The store_add_to_backend_with_multihash() function was not wrapped
correctly so that Glance could consume the secure hash value.  This
patch adds the correct wrapping.

Closes-bug: #1784420

Change-Id: I7a94dfffb61fc212abb58c1e1aec5884474b6aa8
"
openstack%2Ftripleo-heat-templates~master~I58a5d586a173c3a4e2256142ccea599fbdc57818,openstack/tripleo-heat-templates,master,bug/1738216,I58a5d586a173c3a4e2256142ccea599fbdc57818,Adding Support for RadosGW using external Ceph Clusters,ABANDONED,2017-12-14 14:50:45.000000000,2018-07-31 17:00:41.000000000,,9,0,2,527980,7d8ac2e938b73816bbb35008c161ca5e5e9835f7,12,4,3,1,26370,Donny Davis,donny.davis,"Adding Support for RadosGW using external Ceph Clusters

Closes-Bug: 1738216
Change-Id: I58a5d586a173c3a4e2256142ccea599fbdc57818
"
openstack%2Ftripleo-common~master~Ib3fecae4b42d7cde941a3208bb0e256a5eb06740,openstack/tripleo-common,master,neutron_driver,Ib3fecae4b42d7cde941a3208bb0e256a5eb06740,"WIP test for an ""all"" neutron_driver for build pipelines",ABANDONED,2017-12-12 04:03:02.000000000,2018-07-31 17:00:28.000000000,,7,5,0,527297,2b1b037aee22dfc733de0f04274e3b310d501e42,5,3,1,1,4571,Steve Baker,steve-stevebaker,"WIP test for an ""all"" neutron_driver for build pipelines

This change adds an ""all"" option to the neutron_driver template
mapping, which gives image build pipelines an option to ensure there
are image entries for ovn, odl, and plain ovs.

Change-Id: Ib3fecae4b42d7cde941a3208bb0e256a5eb06740
"
openstack%2Ftripleo-heat-templates~master~Ic80b0034356d62963c4f510d0f2e181126161bda,openstack/tripleo-heat-templates,master,kubespray-ci-fixes,Ic80b0034356d62963c4f510d0f2e181126161bda,Set coe_ facts for APBs,ABANDONED,2017-11-28 16:00:42.000000000,2018-07-31 17:00:20.000000000,,6,0,0,523451,38cb5fd880efce592d8a05f87a22bf9260ad0ff0,13,4,3,1,8042,Jiří Stránský,jistr,"Set coe_ facts for APBs

The coe_* variables are accepted by APBs to tell where to find
Kubernetes and which credentials to use to access it.

Change-Id: Ic80b0034356d62963c4f510d0f2e181126161bda
"
openstack%2Ftripleo-heat-templates~master~I61a77823778d6b25b67c56031ffb900f97828850,openstack/tripleo-heat-templates,master,,I61a77823778d6b25b67c56031ffb900f97828850,WIP: Mount etc/my.cnf.d/tripleo.cnf in all db_sync containers,ABANDONED,2017-11-17 17:30:22.000000000,2018-07-31 17:00:09.000000000,,12,0,1,521139,bbaa88f798f077b5378b8e18aaa161cc46425d37,23,8,4,12,23811,Oliver Walsh,owalsh,"WIP: Mount etc/my.cnf.d/tripleo.cnf in all db_sync containers

I had to fix this in cinder-api to get a TLS deployment working with
containers. Also had to include this for ec2api in
https://review.openstack.org/520547.

I've not looked at any of the other services yet but I suspect some/all
will aslo fail in db sync when deploying TLS & containers.

Change-Id: I61a77823778d6b25b67c56031ffb900f97828850
"
openstack%2Ftripleo-heat-templates~master~I0ed3ad1d3dbf9941c9e09eed1aa657df786bca20,openstack/tripleo-heat-templates,master,mysql,I0ed3ad1d3dbf9941c9e09eed1aa657df786bca20,WIP: integrating tht and ansible-role-k8s-*,ABANDONED,2017-11-06 02:38:03.000000000,2018-07-31 16:59:56.000000000,,226,0,2,517844,2b467aa66c79717c8ecb5f9f579c509b935ca8bd,7,4,1,1,6159,Flavio Percoco Premoli,flaper87,"WIP: integrating tht and ansible-role-k8s-*

Change-Id: I0ed3ad1d3dbf9941c9e09eed1aa657df786bca20
"
openstack%2Fneutron~master~Iaef91d7b048283c15f099aeee433ed1e994ee876,openstack/neutron,master,cleanup_post_jobs,Iaef91d7b048283c15f099aeee433ed1e994ee876,"Remove repeated role of copying,",ABANDONED,2018-07-31 16:41:37.000000000,2018-07-31 16:59:53.000000000,,0,260,0,587518,b36d2fba4afef3ff091efa40975c3222d012549c,4,0,2,4,17120,Manjeet Singh Bhatia,manjeets,"Remove repeated role of copying,

seems like the post copying role is repeated so many times in
post.yaml run, which can be removed.

Change-Id: Iaef91d7b048283c15f099aeee433ed1e994ee876
"
openstack%2Ftripleo-heat-templates~master~I8b510a9e5493dcf7b20e4317a477204607f58f11,openstack/tripleo-heat-templates,master,gate-test,I8b510a9e5493dcf7b20e4317a477204607f58f11,Gate test - do not merged,ABANDONED,2017-08-17 14:56:57.000000000,2018-07-31 16:59:42.000000000,,4,0,0,494593,9cef23138c4089291954531d654b0a825cbc8196,8,4,2,1,16515,mbu,matbu,"Gate test - do not merged

Change-Id: I8b510a9e5493dcf7b20e4317a477204607f58f11
Depends-On: Ic0e8dcf22444ece6fa5f9459f6aec3b2c0f08c80
"
openstack%2Ftripleo-common~master~Ie0c53fc236217ebc668e0fefa33988ebf63ad95f,openstack/tripleo-common,master,bug/1759845,Ie0c53fc236217ebc668e0fefa33988ebf63ad95f,"Ensure tripleo-admin user exists after ""update/upgrade prepare""",ABANDONED,2018-03-29 13:04:41.000000000,2018-07-31 16:59:12.000000000,,35,1,2,557700,bab1c09fad99f498baf3024c43f34aafe6fcebd7,7,3,1,2,8042,Jiří Stránský,jistr,"Ensure tripleo-admin user exists after ""update/upgrade prepare""

WIP

Related-Bug: #1759845
Change-Id: Ie0c53fc236217ebc668e0fefa33988ebf63ad95f
"
openstack%2Ftripleo-common~master~I8b85b36ea371bff8d3861123749ed05efbf0d295,openstack/tripleo-common,master,uuid,I8b85b36ea371bff8d3861123749ed05efbf0d295,Replaces uuid.uuid4 with uuidutils.generate_uuid(),ABANDONED,2017-07-05 13:00:27.000000000,2018-07-31 16:58:03.000000000,,6,6,0,480571,91debdabff1b7a8ea2e150822a96d452fef81038,19,6,4,3,21204,iswarya vakati,iswarya_vakati,"Replaces uuid.uuid4 with uuidutils.generate_uuid()

Openstack common has a wrapper for generating uuids.
We should use that function when generating uuids for consistency.

Change-Id: I8b85b36ea371bff8d3861123749ed05efbf0d295
"
openstack%2Fpython-tripleoclient~master~I66e694d51ea45e2c37940502140dbf34c730906e,openstack/python-tripleoclient,master,501600,I66e694d51ea45e2c37940502140dbf34c730906e,Check the role data flags and failed is missing,ABANDONED,2017-09-07 07:26:39.000000000,2018-07-31 16:57:52.000000000,,53,12,7,501600,47ade0cc2e52571b8af20a2eda4d775a4b05dcf9,18,7,4,3,16515,mbu,matbu,"Check the role data flags and failed is missing

Check the roles data flags and failed is
the required flags is not set.
The patch is needed for upgrade to ensure
that the old roles data file has all
the deprecated flags

Change-Id: I66e694d51ea45e2c37940502140dbf34c730906e
"
openstack%2Ftripleo-heat-templates~master~Idc8d5817f8c9187546cc195fd5a21bc1dcc1c99f,openstack/tripleo-heat-templates,master,,Idc8d5817f8c9187546cc195fd5a21bc1dcc1c99f,Make config_volume consistent with ODL container name,ABANDONED,2017-09-29 09:54:31.000000000,2018-07-31 16:57:37.000000000,,4,4,0,508478,d06826745ae546da25694c41ef0fa8eb96e0199c,27,8,4,1,20866,Janki Chhatbar,janki,"Make config_volume consistent with ODL container name

Change volume name to opendaylight_api, same as container name

Change-Id: Idc8d5817f8c9187546cc195fd5a21bc1dcc1c99f
Depends-On: I750b85bdb0f5c27dc38a4dbfc5bb5238561c1a71
"
openstack%2Fpython-tripleoclient~master~I2d703c7270d89246d61cd9162750351269682c75,openstack/python-tripleoclient,master,zero_bm_nodes,I2d703c7270d89246d61cd9162750351269682c75,Display error if no bare metal nodes,ABANDONED,2017-04-25 13:48:21.000000000,2018-07-31 16:57:31.000000000,,9,4,4,459699,96704db8c5eaba1364093b994fb569e418989431,21,6,4,2,18242,Mark Hamzy,hamzy,"Display error if no bare metal nodes

Change-Id: I2d703c7270d89246d61cd9162750351269682c75
"
openstack%2Ftripleo-quickstart-extras~master~I2ff04efde3d30360aa9eda5e20528d5e7f6d1cf0,openstack/tripleo-quickstart-extras,master,validate-cleanups,I2ff04efde3d30360aa9eda5e20528d5e7f6d1cf0,Use openstack CLI in overcloud-validate,ABANDONED,2018-01-24 09:50:47.000000000,2018-07-31 16:56:20.000000000,,11,9,0,537329,cde0a5d46b714755928773bcd5f5e9469da1892c,28,11,2,1,7385,Thomas Herve,therve,"Use openstack CLI in overcloud-validate

Let's use the openstack CLI for neutron comments in overcloud-validate.

Change-Id: I2ff04efde3d30360aa9eda5e20528d5e7f6d1cf0
"
openstack%2Ftripleo-heat-templates~master~Ib98d5e5103a1dc22a2840a9e902c6e4132c82f2e,openstack/tripleo-heat-templates,master,add_dns_entries_1534070,Ib98d5e5103a1dc22a2840a9e902c6e4132c82f2e,Add call to workflow to store DNS entries in IPA,ABANDONED,2018-03-13 18:52:22.000000000,2018-07-31 16:55:49.000000000,,39,1,0,552662,dce14ed0badf6413822e541d8320bb42a3c34eea,8,4,1,3,9914,Ade Lee,alee,"Add call to workflow to store DNS entries in IPA

This patch adds a call to a mistral script to store DNS entries in
the FreeIPA server.

Partially resolves 1534070
Depends-On: I56e66fbca14cf1c63ad0410037df8cac251f5d09
Change-Id: Ib98d5e5103a1dc22a2840a9e902c6e4132c82f2e
"
openstack%2Fmasakari~master~I11700d7d15105833352bd98fffd50badb0f475a6,openstack/masakari,master,,I11700d7d15105833352bd98fffd50badb0f475a6,delete unnecessary '.',NEW,2018-07-31 15:28:20.000000000,2018-07-31 16:55:29.000000000,,1,1,0,587499,eb8b7a884de93e51d45134e9d9c55e6d2d36dc6a,2,1,1,1,21486,wangqi,wangqi,"delete unnecessary '.'

Change-Id: I11700d7d15105833352bd98fffd50badb0f475a6
"
openstack%2Ftripleo-quickstart-extras~master~I324c927fa0ebf7d625271d596d2bab3ed1d2e833,openstack/tripleo-quickstart-extras,master,undercloud,I324c927fa0ebf7d625271d596d2bab3ed1d2e833,Introduce undercloud_templates_* variables,ABANDONED,2018-01-10 12:52:23.000000000,2018-07-31 16:55:25.000000000,,127,26,10,532516,739009064c38436b788bbdd6dcb4786d9f25d912,50,14,6,13,11166,Lukas Bezdicka,xbezdick,"Introduce undercloud_templates_* variables

Containerized undercloud requires THT which in our case can be in
different version for Overcloud and for Undercloud. To solve this
we add undercloud_templates_* variables and we by default get only
overcloud templates, unless undercloud_templates_path is different
from overcloud_templates_path.

Change-Id: I324c927fa0ebf7d625271d596d2bab3ed1d2e833
"
openstack%2Fproject-config~master~Ib9145d91de9b5cd574cbe203037a2144dcd53b9a,openstack/project-config,master,,Ib9145d91de9b5cd574cbe203037a2144dcd53b9a,Promote bast-test change for configure-unbound,MERGED,2018-07-30 23:05:50.000000000,2018-07-31 16:55:18.000000000,2018-07-31 16:55:18.000000000,13,2,1,587246,74f80a3e76c63e8e50c9b7e823ae068813f0e56b,12,4,2,2,4162,Paul Belanger,pabelanger,"Promote bast-test change for configure-unbound

This has been tested with:

  http://logs.openstack.org/28/587128/1/check/windmill-fedora-latest/c1fb677/job-output.txt.gz

And does seem to address the validate-host error:

  No viable v4 or v6 route found to git.openstack.org. The build node is
  assumed to be invalid

Change-Id: Ib9145d91de9b5cd574cbe203037a2144dcd53b9a
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
"
openstack%2Ftripleo-quickstart-extras~master~I9d7aa7286b4de51e5b08dec11cf9ed6672352cfa,openstack/tripleo-quickstart-extras,master,undercloud_upgrade_refactor,I9d7aa7286b4de51e5b08dec11cf9ed6672352cfa,Create import-role role.,ABANDONED,2018-03-15 17:02:15.000000000,2018-07-31 16:54:09.000000000,,133,0,2,553492,c99e95bb1c9b12a33d0250a9f48b196ef4e78e46,56,9,9,8,8297,Sofer Athlan-Guyot,chem,"Create import-role role.

This ansible role allows us loading other
roles setting a specific branch, to then
be used from any ansible playbook.

Co-Authored-By: Jose Luis Franco <jfrancoa@redhat.com>

Closes-Bug: #1749740

Change-Id: I9d7aa7286b4de51e5b08dec11cf9ed6672352cfa
"
openstack%2Ftripleo-quickstart~master~I9d56606fd034415d450a32cd04e537713e340ff9,openstack/tripleo-quickstart,master,release-update,I9d56606fd034415d450a32cd04e537713e340ff9,Add previous master release,ABANDONED,2018-02-12 11:31:36.000000000,2018-07-31 16:53:49.000000000,,122,0,1,543430,3b9d89dcc0491bdfa511478bf89cdf698572f03d,10,8,1,1,10022,Gabriele Cerami,panda,"Add previous master release

in updates job, we need to deploy a good know hash that is anterior the
the latest.
This release file will be used in updates jobs, and will install the
previous known good hash first, so the update process can then update
everything to the latest hash

Change-Id: I9d56606fd034415d450a32cd04e537713e340ff9
"
openstack%2Fopenstack-ansible-os_nova~master~I8ab82f2b063621bae904510b0648fabc2b90d7c9,openstack/openstack-ansible-os_nova,master,bionic-vars,I8ab82f2b063621bae904510b0648fabc2b90d7c9,Use generic vars file for ubuntu,MERGED,2018-07-27 21:30:35.000000000,2018-07-31 16:38:32.000000000,2018-07-31 16:38:32.000000000,0,0,0,586704,160375c2681512639ddc097bd65153d5632dbd87,19,4,7,1,25023,Jonathan Rosser,jrosser,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I8ab82f2b063621bae904510b0648fabc2b90d7c9
"
openstack%2Fopenstack-ansible-os_nova~master~I283628e6d42c6708934975d272712353472e066b,openstack/openstack-ansible-os_nova,master,bionic-vars,I283628e6d42c6708934975d272712353472e066b,Remove dosfstools-dbg package from ubuntu installs,MERGED,2018-07-31 10:19:46.000000000,2018-07-31 16:38:31.000000000,2018-07-31 16:38:31.000000000,0,3,0,587374,b4cc9b36ee755c0e73cee0f13d7a41e88531cbbf,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove dosfstools-dbg package from ubuntu installs

This packages was added in [1] without an explanation of why the
debug symbols are required. The symbols package is not built for
bionic [2] so we remove it allowing the common vars file to work
for both Xenial and Bionic releases.

[1] https://github.com/openstack/openstack-ansible-os_nova/commit/e771983f2cb05f8b6912bcf02e661658d9970fc0
[2] http://archive.ubuntu.com/ubuntu/pool/main/d/dosfstools/dosfstools_4.1-1.dsc

Change-Id: I283628e6d42c6708934975d272712353472e066b
"
openstack%2Fvitrage~master~If99fd31dae55b30f199f261adb6a6de933857ad2,openstack/vitrage,master,prometheus_datasource,If99fd31dae55b30f199f261adb6a6de933857ad2,Adjust Vitrage api to support Prometheus datasource,MERGED,2018-07-22 15:48:08.000000000,2018-07-31 16:38:29.000000000,2018-07-31 16:38:28.000000000,454,96,41,584649,034a597c9fec31bb4f635ebfb9d75f88ac830931,53,8,8,9,26339,Muhamad Najjar,7mode3294,"Adjust Vitrage api to support Prometheus datasource

This includes adding support to basic mode auth along side to keystone auth.

documentation commits coming after

Change-Id: If99fd31dae55b30f199f261adb6a6de933857ad2
"
openstack%2Fopenstack-ansible-os_cinder~master~I59130799ae9697a762182644737911c774a3932d,openstack/openstack-ansible-os_cinder,master,bionic-vars,I59130799ae9697a762182644737911c774a3932d,Use generic vars file for ubuntu,MERGED,2018-07-27 21:12:43.000000000,2018-07-31 16:38:28.000000000,2018-07-31 16:38:28.000000000,0,0,0,586690,537961be52190e34e6b5cec88673d2ae1e8004e6,16,4,2,1,25023,Jonathan Rosser,jrosser,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic.

Change-Id: I59130799ae9697a762182644737911c774a3932d
"
openstack%2Fopenstack-helm~master~Ib6704725c7415e95237f633d340479e33b43d85b,openstack/openstack-helm,master,bug/1781340,Ib6704725c7415e95237f633d340479e33b43d85b,Tempest: change manifests.pvc to pvc.enabled from pvc-tempest.yaml,MERGED,2018-07-12 07:20:51.000000000,2018-07-31 16:29:11.000000000,2018-07-31 16:28:58.000000000,1,1,0,581980,be471eaaee5f5f618fdd8e358a11f231c7a9ecf7,14,6,1,1,21892,Siri Kim,shiriul,"Tempest: change manifests.pvc to pvc.enabled from pvc-tempest.yaml

This PS remove change pvc-tempest.yaml from manifests.pvc to
pvc.enabled as there is no manifests enabled value for pvc.
Bug was tempest pod is in pending state as pvc is not found.

Change-Id: Ib6704725c7415e95237f633d340479e33b43d85b
"
openstack%2Fopenstack-ansible-os_neutron~master~Ib455edadfe59ffe5635a2e3d9075786e45ebc0b4,openstack/openstack-ansible-os_neutron,master,bionic-vars,Ib455edadfe59ffe5635a2e3d9075786e45ebc0b4,Use generic vars file for ubuntu,MERGED,2018-07-27 21:29:13.000000000,2018-07-31 16:28:57.000000000,2018-07-31 16:28:57.000000000,0,0,0,586702,ad1dc4141a95b640ebc188a183e80e719d20551a,13,4,3,1,25023,Jonathan Rosser,jrosser,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: Ib455edadfe59ffe5635a2e3d9075786e45ebc0b4
"
openstack%2Fopenstack-ansible-tests~master~Ie6f06eb5b0488005263aed397fab7dedc5a287a0,openstack/openstack-ansible-tests,master,common-systemd-service,Ie6f06eb5b0488005263aed397fab7dedc5a287a0,Add missing services and collect journal logs,MERGED,2018-07-31 00:46:46.000000000,2018-07-31 16:28:56.000000000,2018-07-31 16:28:56.000000000,47,2,0,587259,3939092fecbb41069e933d7ccaf5bb7360c561e7,15,4,5,1,7353,Kevin Carter,cloudnull,"Add missing services and collect journal logs

This change adds several services to the collection list which are part
of our deliverables yet we've no logging for. This change also
implements journal log collection when a given service is found which
should help folks better debug issues with various services, especially
as we transition to all journal logging.

Change-Id: Ie6f06eb5b0488005263aed397fab7dedc5a287a0
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fopenstack-ansible-os_ironic~master~Ic1dfcd5413c3baafea82903122a7fa5a4b63d1c4,openstack/openstack-ansible-os_ironic,master,bionic-vars,Ic1dfcd5413c3baafea82903122a7fa5a4b63d1c4,Use generic vars file for ubuntu,MERGED,2018-07-27 21:21:58.000000000,2018-07-31 16:14:00.000000000,2018-07-31 16:14:00.000000000,0,0,0,586698,da9de911ec64aca8f97b327bfce79257572d8b77,11,4,2,1,25023,Jonathan Rosser,jrosser,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: Ic1dfcd5413c3baafea82903122a7fa5a4b63d1c4
"
openstack%2Fopenstack-ansible-os_glance~master~I9831b8b6e9150346b8e8216ac9bc9f0a724b8dbe,openstack/openstack-ansible-os_glance,master,bionic-vars,I9831b8b6e9150346b8e8216ac9bc9f0a724b8dbe,Use generic vars file for ubuntu,MERGED,2018-07-27 21:16:22.000000000,2018-07-31 16:13:23.000000000,2018-07-31 16:13:23.000000000,0,0,0,586692,b46f6e07e9cc5c3648039be35bd1e809e4927d64,20,4,4,1,25023,Jonathan Rosser,jrosser,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I9831b8b6e9150346b8e8216ac9bc9f0a724b8dbe
"
openstack%2Fgovernance~master~I4b27c9a003df9db9a240bde85d8d46cf1f1ce381,openstack/governance,master,typo-fix,I4b27c9a003df9db9a240bde85d8d46cf1f1ce381,typo fix in voting description for chair-proposed typo fixes,MERGED,2018-07-31 13:33:48.000000000,2018-07-31 16:13:20.000000000,2018-07-31 16:13:20.000000000,1,1,0,587432,988091f300fda76cb54b367613545da8b4d22676,10,6,1,1,2472,Doug Hellmann,doug-hellmann,"typo fix in voting description for chair-proposed typo fixes

Change-Id: I4b27c9a003df9db9a240bde85d8d46cf1f1ce381
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fopenstack-ansible-os_gnocchi~master~I9ea1808851c94f943d66ab6cc1a3f4b41fa3e425,openstack/openstack-ansible-os_gnocchi,master,bionic-vars,I9ea1808851c94f943d66ab6cc1a3f4b41fa3e425,Use generic vars file for ubuntu,MERGED,2018-07-27 21:17:51.000000000,2018-07-31 16:13:00.000000000,2018-07-31 16:13:00.000000000,0,0,0,586693,88ffeaea7953823c77d9f96e559669678c21c62f,13,4,2,1,25023,Jonathan Rosser,jrosser,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I9ea1808851c94f943d66ab6cc1a3f4b41fa3e425
"
openstack%2Fopenstack-ansible-os_sahara~master~I8b1d4eeeb127d7254afa5f11cbab18cc1be025cf,openstack/openstack-ansible-os_sahara,master,bionic-vars,I8b1d4eeeb127d7254afa5f11cbab18cc1be025cf,Use generic vars file for ubuntu,MERGED,2018-07-27 21:34:20.000000000,2018-07-31 16:11:28.000000000,2018-07-31 16:11:28.000000000,0,0,0,586707,4c3c81a4587d471e506deaac7c56606f5000f9af,15,4,3,1,25023,Jonathan Rosser,jrosser,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I8b1d4eeeb127d7254afa5f11cbab18cc1be025cf
"
openstack%2Fopenstack-ansible-os_trove~master~If9412b3da3f0dc777316ca06ba4de92986950f65,openstack/openstack-ansible-os_trove,master,bionic-vars,If9412b3da3f0dc777316ca06ba4de92986950f65,Use generic vars file for ubuntu,MERGED,2018-07-27 21:39:48.000000000,2018-07-31 16:09:25.000000000,2018-07-31 16:09:25.000000000,0,0,0,586711,fe543ebbf1b2c96e40ffec4679182d1ded3ac03e,9,3,2,1,25023,Jonathan Rosser,jrosser,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: If9412b3da3f0dc777316ca06ba4de92986950f65
"
openstack%2Fopenstack-ansible-os_tacker~master~I01868fde2f449505e3750819bf9261c33fade283,openstack/openstack-ansible-os_tacker,master,bionic-vars,I01868fde2f449505e3750819bf9261c33fade283,Use generic vars file for ubuntu,MERGED,2018-07-27 21:36:18.000000000,2018-07-31 16:06:51.000000000,2018-07-31 16:06:51.000000000,0,0,0,586708,3645174149c6a6461750a62984e6d4baedeed0ac,11,4,2,1,25023,Jonathan Rosser,jrosser,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I01868fde2f449505e3750819bf9261c33fade283
"
openstack%2Fopenstack-ansible-os_ceilometer~master~Iedcf7fbf93d1a4fc1549834dfd74468f5e78c53f,openstack/openstack-ansible-os_ceilometer,master,bionic-vars,Iedcf7fbf93d1a4fc1549834dfd74468f5e78c53f,Use generic vars file for ubuntu,MERGED,2018-07-27 21:10:14.000000000,2018-07-31 16:06:11.000000000,2018-07-31 16:06:11.000000000,0,0,0,586689,f0621d6e64aef83196fd47dd08622db3a1a9a29a,13,4,3,1,25023,Jonathan Rosser,jrosser,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic.

Change-Id: Iedcf7fbf93d1a4fc1549834dfd74468f5e78c53f
"
openstack%2Fopenstack-ansible-os_heat~master~Ic80e766b45bc8a9136a6f5000f2495b807748f0a,openstack/openstack-ansible-os_heat,master,bionic-vars,Ic80e766b45bc8a9136a6f5000f2495b807748f0a,Use generic vars file for ubuntu,MERGED,2018-07-27 21:19:39.000000000,2018-07-31 16:04:19.000000000,2018-07-31 16:04:19.000000000,0,0,0,586696,9fa5aba36f39e403552afc99ed2304231816daac,11,4,2,1,25023,Jonathan Rosser,jrosser,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: Ic80e766b45bc8a9136a6f5000f2495b807748f0a
"
openstack%2Freleases~master~Ie1fc997c1f5f0f3c6af1d048fcc4b25a4608e70f,openstack/releases,master,stein,Ie1fc997c1f5f0f3c6af1d048fcc4b25a4608e70f,Add stein to docs landing page,MERGED,2018-07-30 17:27:44.000000000,2018-07-31 15:46:48.000000000,2018-07-31 15:46:48.000000000,19,1,0,587174,22f923d104ae15da1512f915d2ccf14943c0fe80,7,3,1,6,11904,Sean McGinnis,SeanM,"Add stein to docs landing page

Include stein in the index page list. This also adds support for
a ""future"" status since validation was add/changed since the
start of the last cycle.

Change-Id: Ie1fc997c1f5f0f3c6af1d048fcc4b25a4608e70f
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fcharm-glance~master~I43522a0654b21d7fb098090b5ef3c74b26edaf50,openstack/charm-glance,master,amulet-zaza,I43522a0654b21d7fb098090b5ef3c74b26edaf50,[WIP] PoC of running both Amulet and Zaza tests,ABANDONED,2018-07-31 15:01:35.000000000,2018-07-31 15:43:33.000000000,,23,2,0,587494,a37956f67ee70f3ed7a290c1bfdf8fed748a4528,3,1,1,5,13686,Frode Nordahl,fnordahl,"[WIP] PoC of running both Amulet and Zaza tests

Change-Id: I43522a0654b21d7fb098090b5ef3c74b26edaf50
"
openstack%2Fheat~master~I6be5b302883f1a0c6418d466dc521cd1f79eccae,openstack/heat,master,default-glance-v2,I6be5b302883f1a0c6418d466dc521cd1f79eccae,Default to Glance v2 for real,ABANDONED,2018-07-31 12:29:37.000000000,2018-07-31 15:32:27.000000000,,1,1,1,587403,af7fcef65ce4d1c91e1920cf71d5821f8dc79f22,6,5,1,1,17505,Saverio Proto,zioproto,"Default to Glance v2 for real

In review https://review.openstack.org/#/c/418987/ I think there
was a copy and paste error because the goal was to default V2
and not V1. Fixing this now.

Change-Id: I6be5b302883f1a0c6418d466dc521cd1f79eccae
"
openstack%2Fopenstack-ansible-os_molteniron~master~I5f2aeb60371ced8b69c42b60a0cd0f30fa5a7651,openstack/openstack-ansible-os_molteniron,master,bionic-vars,I5f2aeb60371ced8b69c42b60a0cd0f30fa5a7651,Use generic vars file for ubuntu,MERGED,2018-07-27 21:25:48.000000000,2018-07-31 15:31:34.000000000,2018-07-31 15:31:34.000000000,0,0,0,586701,249edd9812520a64c579b13474882a464398c399,9,3,2,1,25023,Jonathan Rosser,jrosser,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I5f2aeb60371ced8b69c42b60a0cd0f30fa5a7651
"
openstack%2Fheat~master~Ib767ce8b39293c2279bf570d8399c49799cbaa70,openstack/heat,master,,Ib767ce8b39293c2279bf570d8399c49799cbaa70,Eliminate client race condition in convergence delete,MERGED,2018-07-25 00:01:50.000000000,2018-07-31 15:31:30.000000000,2018-07-31 15:31:29.000000000,38,15,0,585572,e63778efc91869efbd41e2f96b0c554aef1c80e5,18,5,3,6,4257,Zane Bitter,zaneb,"Eliminate client race condition in convergence delete

Previously when doing a delete in convergence, we spawned a new thread to
start the delete. This was to ensure the request returned without waiting
for potentially slow operations like deleting snapshots and stopping
existing workers (which could have caused RPC timeouts).

The result, however, was that the stack was not guaranteed to be
DELETE_IN_PROGRESS by the time the request returned. In the case where a
previous delete had failed, a client request to show the stack issued soon
after the delete had returned would likely show the stack status as
DELETE_FAILED still. Only a careful examination of the updated_at timestamp
would reveal that this corresponded to the previous delete and not the one
just issued. In the case of a nested stack, this could leave the parent
stack effectively undeletable. (Since the updated_at time is not modified
on delete in the legacy path, we never checked it when deleting a nested
stack.)

To prevent this, change the order of operations so that the stack is first
put into the DELETE_IN_PROGRESS state before the delete_stack call returns.
Only after the state is stored, spawn a thread to complete the operation.

Since there is no stack lock in convergence, this gives us the flexibility
to cancel other in-progress workers after we've already written to the
Stack itself to start a new traversal.

The previous patch in the series means that snapshots are now also deleted
after the stack is marked as DELETE_IN_PROGRESS. This is consistent with
the legacy path.

Change-Id: Ib767ce8b39293c2279bf570d8399c49799cbaa70
Story: #1669608
Task: 23174
"
openstack%2Fnova~stable%2Fqueens~Icb268ca2f792bfcefd152ba4c6aa13270d9a7900,openstack/nova,stable/queens,bug/1780373,Icb268ca2f792bfcefd152ba4c6aa13270d9a7900,Add functional regressions tests for server_group_members OverQuota,MERGED,2018-07-11 19:06:03.000000000,2018-07-31 15:29:22.000000000,2018-07-31 15:29:22.000000000,121,0,0,581845,c7b0779632a8df7d988e9b52ae1f341af0b0df30,10,6,1,1,6873,Matt Riedemann,mriedem,"Add functional regressions tests for server_group_members OverQuota

Since we started counting quotas in Pike, it is possible to bypass
the server_group_members qouta check if either creating multiple
servers in a single request or creating one server each in multiple
concurrent requests. This is because the server_group_members
count is based on existing server group members in the cell database
and those group members (instances) don't get created in a cell until
we get to conductor and after the scheduler picks a host. In other
words, the server_group_members quota check in the API does not account
for build requests.

Change-Id: Icb268ca2f792bfcefd152ba4c6aa13270d9a7900
Related-Bug: #1780373
(cherry picked from commit f9874e059df50dc81803fcfdfd1045cc09624894)
"
openstack%2Fopenstack-ansible-os_cloudkitty~master~I6a8e8b3ec8b00790416648beb1c4ce0257406409,openstack/openstack-ansible-os_cloudkitty,master,remove-cruft-in-osa,I6a8e8b3ec8b00790416648beb1c4ce0257406409,"Cleanup playbook, vars and overrides",MERGED,2018-07-29 13:40:34.000000000,2018-07-31 15:24:02.000000000,2018-07-31 15:24:02.000000000,24,120,2,586878,1ab9470007427fc3f5fcae9e3aeea4cfbdb63249,13,4,4,3,6816,Jesse Pretorius,jesse-pretorius,"Cleanup playbook, vars and overrides

1. The venv tag override is unnecessary, given there is a default.
2. The install branch override is unnecessary, given there is a
   default. The constraint in defaults was set to use the
   'cloudkitty_requirements_git_install_branch' instead of this
   variable anyway. This has been corrected to the right var.
3. The galera address for role tests has a specific var for it.
4. The 'cloudkitty_requirements_git_install_branch' is a relic
   of the past, and has been removed.
5. The playbook is very dated and is using a lot of old mechanisms
   and unnecessary vars. It is updated to be normalised with the
   playbooks from the integrated build.

Change-Id: I6a8e8b3ec8b00790416648beb1c4ce0257406409
"
openstack%2Fopenstack-ansible-os_cloudkitty~master~Iac217b80df3da79a944185a90ba4c1ff5409945b,openstack/openstack-ansible-os_cloudkitty,master,move-mq-setup-into-roles,Iac217b80df3da79a944185a90ba4c1ff5409945b,Move MQ vhost/user creation into role,MERGED,2018-07-28 12:17:28.000000000,2018-07-31 15:24:01.000000000,2018-07-31 15:24:01.000000000,80,25,0,586784,19f299854e2df9509839a53d5a90bb9971ba3fac,14,4,4,6,6816,Jesse Pretorius,jesse-pretorius,"Move MQ vhost/user creation into role

There is no record for why we implement the MQ vhost/user creation
outside of the role in the playbook, when we could do it inside the
role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we implement two new variables:
- cloudkitty_oslomsg_rpc_setup_host
- cloudkitty_oslomsg_notify_setup_host

These are used in the role to allow delegation of the MQ vhost/user
setup for each type to any host, but they default to using the first
member of the applicable oslomsg host group.

We also adjust some of the defaults to automatically inherit existing
vars set in group_vars form the integrated build so that we do not
need to do the wiring in the integrated build's group vars. We still
default them in the role too for independent role usage.

Finally, we remove the test mq setup tasks and clean up any unused
or unnecessary variables configured in tests.

Change-Id: Iac217b80df3da79a944185a90ba4c1ff5409945b
"
openstack%2Fopenstack-ansible-os_cloudkitty~master~I0612252927f81b3584054f6cd77a2826c5d3fc3b,openstack/openstack-ansible-os_cloudkitty,master,bp/hybrid-messaging,I0612252927f81b3584054f6cd77a2826c5d3fc3b,Update to use oslo.messaging service RPC and Notify,MERGED,2018-07-27 14:39:27.000000000,2018-07-31 15:24:01.000000000,2018-07-31 15:24:01.000000000,91,30,0,586586,cfddca21ebd89c8733e425318749dd90855a14af,15,3,4,8,20523,Andy Smith,ajssmith,"Update to use oslo.messaging service RPC and Notify

This introduces oslo.messaging variables that define the RPC and
Notify transports for the OpenStack services. These parameters replace
the rabbitmq values and are used to generate the messaging
transport_url for the service.

This patch:
* Add oslo.messaging variables for RPC and Notify to defaults
* Update transport_url generation in conf
* Add oslo.messaging to tests inventory and update tests
* Install extra packages for optional drivers
* Add release note

Change-Id: I0612252927f81b3584054f6cd77a2826c5d3fc3b
"
openstack%2Fopenstack-ansible-os_octavia~master~Idf152f2d62466ea53959619c60dd62062d590382,openstack/openstack-ansible-os_octavia,master,move-mq-setup-into-roles,Idf152f2d62466ea53959619c60dd62062d590382,Default MQ RPC/Notify credentials/vhosts to match,MERGED,2018-07-30 12:17:01.000000000,2018-07-31 15:18:36.000000000,2018-07-31 15:18:36.000000000,3,2,0,587038,53efcc8798bfd6cbabd686f5c2c728cd1da9f8cb,10,3,2,1,6816,Jesse Pretorius,jesse-pretorius,"Default MQ RPC/Notify credentials/vhosts to match

When the RPC and Notify service are the same, the credentials
must match - otherwise the tasks to create the user/password
will overwrite with each other.

If the two clusters are different, then the matching credentials
and vhost will not be a problem. However, if the deployer really
wishes to make sure they're different, then the vars can be
overridden.

Also, to ensure that the SSL value is consistently set in the
conf file, we apply the bool filter. We also use the 'notify'
SSL setting as the messaging system for Notifications is more
likely to remain rabbitmq in our default deployment with qrouterd
becoming the default for RPC messaging.

Change-Id: Idf152f2d62466ea53959619c60dd62062d590382
"
openstack%2Fopenstack-ansible-os_nova~master~I17067d734d9388f9bb2b9b88463bc8b4e2b1c9a1,openstack/openstack-ansible-os_nova,master,move-mq-setup-into-roles,I17067d734d9388f9bb2b9b88463bc8b4e2b1c9a1,Default MQ RPC/Notify credentials/vhosts to match,MERGED,2018-07-30 12:07:10.000000000,2018-07-31 15:18:12.000000000,2018-07-31 15:18:12.000000000,3,2,0,587031,341f12af5b68d411173bca5c9936cc446621b159,7,3,1,1,6816,Jesse Pretorius,jesse-pretorius,"Default MQ RPC/Notify credentials/vhosts to match

When the RPC and Notify service are the same, the credentials
must match - otherwise the tasks to create the user/password
will overwrite with each other.

If the two clusters are different, then the matching credentials
and vhost will not be a problem. However, if the deployer really
wishes to make sure they're different, then the vars can be
overridden.

Also, to ensure that the SSL value is consistently set in the
conf file, we apply the bool filter. We also use the 'notify'
SSL setting as the messaging system for Notifications is more
likely to remain rabbitmq in our default deployment with qrouterd
becoming the default for RPC messaging.

Change-Id: I17067d734d9388f9bb2b9b88463bc8b4e2b1c9a1
"
openstack%2Fopenstack-ansible-os_magnum~master~Ibc217400d16ce06f9943d69e2305e46762ec2662,openstack/openstack-ansible-os_magnum,master,move-mq-setup-into-roles,Ibc217400d16ce06f9943d69e2305e46762ec2662,Remove unnecessary MQ vhost/user creation tasks/vars,MERGED,2018-07-27 12:41:33.000000000,2018-07-31 15:17:14.000000000,2018-07-31 15:17:14.000000000,7,25,0,586534,2bf14e21224714cdac7a23b4dfabc9c2a976cb35,10,4,2,3,6816,Jesse Pretorius,jesse-pretorius,"Remove unnecessary MQ vhost/user creation tasks/vars

There is no record for why we implement the MQ vhost/user creation
outside of the role in the playbook, when we could do it inside the
role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we remove the test vars and tasks which were duplicated
as they are no longer required.

Change-Id: Ibc217400d16ce06f9943d69e2305e46762ec2662
"
openstack%2Fopenstack-ansible-os_nova~stable%2Fqueens~I38002a18dff4dbd44bd3df9e1969c9d50ab12705,openstack/openstack-ansible-os_nova,stable/queens,bug/1729661-stable/queens,I38002a18dff4dbd44bd3df9e1969c9d50ab12705,Map instances to cell_v2 only once.,MERGED,2018-07-24 07:09:25.000000000,2018-07-31 15:15:41.000000000,2018-07-31 15:15:41.000000000,2,0,0,585156,d0cc02fc82af1d6230ddcf8eb35f90671f40528a,8,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"Map instances to cell_v2 only once.

If nova-manage cell_v2 create_cell returns 2, it's because the cell already
exists and all instances are correctly mapped to the cell. The cell_v2
map_instances doesn't need to run.

Change-Id: I38002a18dff4dbd44bd3df9e1969c9d50ab12705
Related-Bug: 1729661
(cherry picked from commit 0f24bb8bd45e6c3c4f1dc0fed1418c6be79525ee)
"
openstack%2Fopenstack-ansible-os_ironic~master~I8e917033595660bf30c0b897f07db1bdfc2ff6d8,openstack/openstack-ansible-os_ironic,master,move-mq-setup-into-roles,I8e917033595660bf30c0b897f07db1bdfc2ff6d8,Default MQ RPC/Notify credentials/vhosts to match,MERGED,2018-07-30 12:00:06.000000000,2018-07-31 15:13:36.000000000,2018-07-31 15:13:36.000000000,3,2,0,587023,595af4fe6a25e5ceba7870111450d7e7e403ac56,7,3,1,1,6816,Jesse Pretorius,jesse-pretorius,"Default MQ RPC/Notify credentials/vhosts to match

When the RPC and Notify service are the same, the credentials
must match - otherwise the tasks to create the user/password
will overwrite with each other.

If the two clusters are different, then the matching credentials
and vhost will not be a problem. However, if the deployer really
wishes to make sure they're different, then the vars can be
overridden.

Also, to ensure that the SSL value is consistently set in the
conf file, we apply the bool filter. We also use the 'notify'
SSL setting as the messaging system for Notifications is more
likely to remain rabbitmq in our default deployment with qrouterd
becoming the default for RPC messaging.

Change-Id: I8e917033595660bf30c0b897f07db1bdfc2ff6d8
"
openstack%2Fopenstack-ansible-os_neutron~master~I6e3adf764db87d7bced8a2f7eef957cbb2215572,openstack/openstack-ansible-os_neutron,master,move-mq-setup-into-roles,I6e3adf764db87d7bced8a2f7eef957cbb2215572,Default MQ RPC/Notify credentials/vhosts to match,MERGED,2018-07-30 12:05:43.000000000,2018-07-31 15:13:35.000000000,2018-07-31 15:13:35.000000000,3,2,0,587029,a2df4a99ccad92f0745d0ff38014c1bda4cc9a89,7,3,1,1,6816,Jesse Pretorius,jesse-pretorius,"Default MQ RPC/Notify credentials/vhosts to match

When the RPC and Notify service are the same, the credentials
must match - otherwise the tasks to create the user/password
will overwrite with each other.

If the two clusters are different, then the matching credentials
and vhost will not be a problem. However, if the deployer really
wishes to make sure they're different, then the vars can be
overridden.

Also, to ensure that the SSL value is consistently set in the
conf file, we apply the bool filter. We also use the 'notify'
SSL setting as the messaging system for Notifications is more
likely to remain rabbitmq in our default deployment with qrouterd
becoming the default for RPC messaging.

Change-Id: I6e3adf764db87d7bced8a2f7eef957cbb2215572
"
openstack%2Fopenstack-ansible-os_glance~master~I11d083788cd388dab0695878193ab18af1b5038b,openstack/openstack-ansible-os_glance,master,bug/1774037,I11d083788cd388dab0695878193ab18af1b5038b,Convert role to use a common systemd mount role,MERGED,2018-03-13 00:01:59.000000000,2018-07-31 15:13:33.000000000,2018-07-31 15:13:33.000000000,30,32,2,552185,659e3278d06f72605eb0c7092221db7a2152e93b,104,7,25,4,7353,Kevin Carter,cloudnull,"Convert role to use a common systemd mount role

The systemd unit files are being converted to use common roles to reduce
code sprawl throughout the playbooks. This change allows us to use a
common systemd_mount role as an include which will give us a consistent
experience when deploying services and setting up their resournces on
OS's that uses systemd.

Closes-Bug: #1774037
Change-Id: I11d083788cd388dab0695878193ab18af1b5038b
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fopenstack-ansible-os_ceilometer~master~I0bd200f584919196e1c4066abed380bf60cd7218,openstack/openstack-ansible-os_ceilometer,master,move-mq-setup-into-roles,I0bd200f584919196e1c4066abed380bf60cd7218,Remove unnecessary MQ vhost/user creation tasks/vars,MERGED,2018-07-27 12:33:08.000000000,2018-07-31 15:13:32.000000000,2018-07-31 15:13:32.000000000,2,18,0,586530,8160968d27104acc7cca0a77ec6525565270fe58,13,4,3,2,6816,Jesse Pretorius,jesse-pretorius,"Remove unnecessary MQ vhost/user creation tasks/vars

There is no record for why we implement the MQ vhost/user creation
outside of the role in the playbook, when we could do it inside the
role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we remove the test vars and tasks which were duplicated
as they are no longer required.

Change-Id: I0bd200f584919196e1c4066abed380bf60cd7218
"
openstack%2Fopenstack-ansible-os_ceilometer~master~Icfebf314963dabd93dd0c5effdbcd0bb4b15571e,openstack/openstack-ansible-os_ceilometer,master,move-mq-setup-into-roles,Icfebf314963dabd93dd0c5effdbcd0bb4b15571e,Default MQ RPC/Notify credentials/vhosts to match,MERGED,2018-07-30 11:52:59.000000000,2018-07-31 15:13:31.000000000,2018-07-31 15:13:31.000000000,3,2,0,587017,73d4158214b95368917773bb8a34bf2121c69e41,7,3,1,1,6816,Jesse Pretorius,jesse-pretorius,"Default MQ RPC/Notify credentials/vhosts to match

When the RPC and Notify service are the same, the credentials
must match - otherwise the tasks to create the user/password
will overwrite with each other.

If the two clusters are different, then the matching credentials
and vhost will not be a problem. However, if the deployer really
wishes to make sure they're different, then the vars can be
overridden.

Also, to ensure that the SSL value is consistently set in the
conf file, we apply the bool filter. We also use the 'notify'
SSL setting as the messaging system for Notifications is more
likely to remain rabbitmq in our default deployment with qrouterd
becoming the default for RPC messaging.

Change-Id: Icfebf314963dabd93dd0c5effdbcd0bb4b15571e
"
openstack%2Fopenstack-ansible-tests~master~Ib16ff1400d0e5c3e6536a70b4e31e15849958a1c,openstack/openstack-ansible-tests,master,bp/python-build-install-simplification,Ib16ff1400d0e5c3e6536a70b4e31e15849958a1c,Add openstack client to Ansible venv,MERGED,2018-07-13 09:47:47.000000000,2018-07-31 15:13:30.000000000,2018-07-31 15:13:29.000000000,6,0,0,582494,e3f380d947ada71b22453ed14a855cab5d354068,13,5,2,1,6816,Jesse Pretorius,jesse-pretorius,"Add openstack client to Ansible venv

In order for the octavia role to upload the amphora image using
tags, we need to have access to the openstack CLI.

This will be necessary until the Ansible os_image module can
replace this shell task.

Change-Id: Ib16ff1400d0e5c3e6536a70b4e31e15849958a1c
"
openstack%2Fopenstack-ansible-os_trove~master~Ife325741032bf6bcda7db6a1fa8b2cba216eeabd,openstack/openstack-ansible-os_trove,master,move-mq-setup-into-roles,Ife325741032bf6bcda7db6a1fa8b2cba216eeabd,Remove unnecessary MQ vhost/user creation tasks/vars,MERGED,2018-07-27 12:45:26.000000000,2018-07-31 15:13:29.000000000,2018-07-31 15:13:29.000000000,3,33,0,586535,5cebe63e354288548d23e1bff05b15e524c9e224,12,4,3,3,6816,Jesse Pretorius,jesse-pretorius,"Remove unnecessary MQ vhost/user creation tasks/vars

There is no record for why we implement the MQ vhost/user creation
outside of the role in the playbook, when we could do it inside the
role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we remove the test vars and tasks which were duplicated
as they are no longer required.

Change-Id: Ife325741032bf6bcda7db6a1fa8b2cba216eeabd
"
openstack%2Ftrove-tempest-plugin~master~I580405e2cb8a15e5735ae413ad2186c620f018bc,openstack/trove-tempest-plugin,master,,I580405e2cb8a15e5735ae413ad2186c620f018bc,Create base class for client to avoid code duplication,MERGED,2018-07-06 20:55:08.000000000,2018-07-31 15:13:28.000000000,2018-07-31 15:13:27.000000000,79,54,12,580763,0dea14df865249d96b79f139392e119f3dd9a61d,23,15,5,9,27733,Krzysztof Opasiak,kopasiak,"Create base class for client to avoid code duplication

Implementing listing or showing resource in every client leads to
a lot of duplicated code. This change adds a base client class
which implements common helpers.

Removes ""Database"" prefix from class names and ""db"" infix
from method signatures for alignment with standards from the rest
of the community.

Also, adds doseq option by URL encoding to handle sequence field
values.

Change-Id: I580405e2cb8a15e5735ae413ad2186c620f018bc
Co-Authored-By: Przemyslaw Godek <p.godek@partner.samsung.com>
Co-Authored-By: Krzysztof Opasiak <k.opasiak@samsung.com>
Signed-off-by: Bartosz Zurkowski <b.zurkowski@samsung.com>
"
openstack%2Fopenstack-ansible-os_magnum~master~If49da70b8b9768d48c09b8fcfca734c9531f1181,openstack/openstack-ansible-os_magnum,master,move-mq-setup-into-roles,If49da70b8b9768d48c09b8fcfca734c9531f1181,Default MQ RPC/Notify credentials/vhosts to match,MERGED,2018-07-30 12:01:35.000000000,2018-07-31 15:13:27.000000000,2018-07-31 15:13:27.000000000,3,2,0,587027,ed2595a0d4b8484e5acd1bff2f0c04b2d2af4f4f,7,3,1,1,6816,Jesse Pretorius,jesse-pretorius,"Default MQ RPC/Notify credentials/vhosts to match

When the RPC and Notify service are the same, the credentials
must match - otherwise the tasks to create the user/password
will overwrite with each other.

If the two clusters are different, then the matching credentials
and vhost will not be a problem. However, if the deployer really
wishes to make sure they're different, then the vars can be
overridden.

Also, to ensure that the SSL value is consistently set in the
conf file, we apply the bool filter. We also use the 'notify'
SSL setting as the messaging system for Notifications is more
likely to remain rabbitmq in our default deployment with qrouterd
becoming the default for RPC messaging.

Change-Id: If49da70b8b9768d48c09b8fcfca734c9531f1181
"
openstack%2Fnova~master~I4a307759f9e8fa80d003d92142f8e99b2c09c9fe,openstack/nova,master,bug/1778670,I4a307759f9e8fa80d003d92142f8e99b2c09c9fe,[placement] api-ref: add traits parameter,MERGED,2018-06-26 09:26:29.000000000,2018-07-31 15:13:22.000000000,2018-07-31 15:13:21.000000000,83,2,10,578048,cc7d5f836f47442393739804cbfb7a4043593487,53,17,4,3,7634,Takashi Natsume,natsumet,"[placement] api-ref: add traits parameter

In the ""List allocation candidates"" API,
the 'traits' parameter is missing.
So add it and update examples.

Change-Id: I4a307759f9e8fa80d003d92142f8e99b2c09c9fe
Partial-Bug: #1778670
"
openstack%2Fopenstack-ansible-os_sahara~master~I0d5285eeebe94adda39b93e61e79be5673b7347d,openstack/openstack-ansible-os_sahara,master,move-mq-setup-into-roles,I0d5285eeebe94adda39b93e61e79be5673b7347d,Default MQ RPC/Notify credentials/vhosts to match,MERGED,2018-07-30 12:08:07.000000000,2018-07-31 15:13:11.000000000,2018-07-31 15:13:11.000000000,3,2,0,587033,51abb016b32b6db291d5acf4d6052b019fad99c0,7,3,1,1,6816,Jesse Pretorius,jesse-pretorius,"Default MQ RPC/Notify credentials/vhosts to match

When the RPC and Notify service are the same, the credentials
must match - otherwise the tasks to create the user/password
will overwrite with each other.

If the two clusters are different, then the matching credentials
and vhost will not be a problem. However, if the deployer really
wishes to make sure they're different, then the vars can be
overridden.

Also, to ensure that the SSL value is consistently set in the
conf file, we apply the bool filter. We also use the 'notify'
SSL setting as the messaging system for Notifications is more
likely to remain rabbitmq in our default deployment with qrouterd
becoming the default for RPC messaging.

Change-Id: I0d5285eeebe94adda39b93e61e79be5673b7347d
"
openstack%2Fopenstacksdk~master~Ia8af5ebc9aec46d405180f6894dd4228eb816b59,openstack/openstacksdk,master,baremetal-functional,Ia8af5ebc9aec46d405180f6894dd4228eb816b59,Add a simple baremetal functional job,MERGED,2018-07-27 14:21:57.000000000,2018-07-31 15:01:38.000000000,2018-07-31 15:01:38.000000000,164,16,0,586574,7fd4c3309162f34b7bf8aa2785372c944ec15965,20,2,7,4,10239,Dmitry Tantsur,dtantsur,"Add a simple baremetal functional job

This creates a new job with a limites set of services, including
ironic. Since many regular tests won't work with the baremetal
backend or will take too much, only baremetal tests are run in it.

Change-Id: Ia8af5ebc9aec46d405180f6894dd4228eb816b59
"
openstack%2Fopenstacksdk~master~If46e339070514bcd34bc3ba336f0cfb5556a5cea,openstack/openstacksdk,master,baremetal-microversions,If46e339070514bcd34bc3ba336f0cfb5556a5cea,Support for microversions in baremetal resources,MERGED,2018-07-18 09:26:54.000000000,2018-07-31 15:01:37.000000000,2018-07-31 15:01:37.000000000,270,4,0,583532,100fd90401bd05893f9b4d6552dd3793971f37b8,18,3,8,8,10239,Dmitry Tantsur,dtantsur,"Support for microversions in baremetal resources

The baremetal resources are updated with a _max_microversion reflecting
the currently supported set of fields. Doing that would make create()
call create nodes in the ""enroll"" state, which would be a breaking change.
Thus, the create() call is updated to handle provision_state being set
to enroll, manageable or available, with available being the default.

Change-Id: If46e339070514bcd34bc3ba336f0cfb5556a5cea
"
openstack%2Fopenstack-ansible-os_zun~master~I639a3fa3e138b1ae190325b9794969820267ec23,openstack/openstack-ansible-os_zun,master,move-mq-setup-into-roles,I639a3fa3e138b1ae190325b9794969820267ec23,Move MQ vhost/user creation into role,MERGED,2018-07-17 21:11:21.000000000,2018-07-31 14:59:19.000000000,2018-07-31 14:59:19.000000000,78,53,0,583399,d4edcbde6dae443164e58660bc377f0bec730a83,10,4,2,5,6816,Jesse Pretorius,jesse-pretorius,"Move MQ vhost/user creation into role

There is no record for why we implement the MQ vhost/user creation
outside of the role in the playbook, when we could do it inside the
role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we implement two new variables:
- zun_oslomsg_rpc_setup_host
- zun_oslomsg_notify_setup_host

These are used in the role to allow delegation of the MQ vhost/user
setup for each type to any host, but they default to using the first
member of the applicable oslomsg host group.

We also adjust some of the defaults to automatically inherit existing
vars set in group_vars form the integrated build so that we do not
need to do the wiring in the integrated build's group vars. We still
default them in the role too for independent role usage.

Finally, we remove the test mq setup tasks and clean up any unused
or unnecessary variables configured in tests.

Change-Id: I639a3fa3e138b1ae190325b9794969820267ec23
"
openstack%2Fopenstack-ansible-tests~master~I1c5813a63c5f4056bb1a2ca306b2bfac2c3d2563,openstack/openstack-ansible-tests,master,,I1c5813a63c5f4056bb1a2ca306b2bfac2c3d2563,Set lxc_* vars in one place,MERGED,2018-07-17 13:49:32.000000000,2018-07-31 14:55:47.000000000,2018-07-31 14:55:46.000000000,0,3,0,583241,fe834734390aba96e3b6d60c92a1a5018c8ce000,10,5,1,1,6816,Jesse Pretorius,jesse-pretorius,"Set lxc_* vars in one place

Currently there are differing settings for the lxc_* variables
between the test-prepare-host.yml playbook and the test-vars.yml
vars_file. Given that the vars file is used by the same play,
we remove the additional settings given to the roles directly
so that the settings are in one place only.

Change-Id: I1c5813a63c5f4056bb1a2ca306b2bfac2c3d2563
"
openstack%2Fopenstack-ansible-os_cinder~master~I488970b695ce439c2de8fa0ad8f04b62882630ff,openstack/openstack-ansible-os_cinder,master,move-mq-setup-into-roles,I488970b695ce439c2de8fa0ad8f04b62882630ff,Default MQ RPC/Notify credentials/vhosts to match,MERGED,2018-07-30 11:59:00.000000000,2018-07-31 14:55:08.000000000,2018-07-31 14:55:08.000000000,3,2,0,587022,da509488d73502fd8295e5801cf9e45ffe394d74,7,3,1,1,6816,Jesse Pretorius,jesse-pretorius,"Default MQ RPC/Notify credentials/vhosts to match

When the RPC and Notify service are the same, the credentials
must match - otherwise the tasks to create the user/password
will overwrite with each other.

If the two clusters are different, then the matching credentials
and vhost will not be a problem. However, if the deployer really
wishes to make sure they're different, then the vars can be
overridden.

Also, to ensure that the SSL value is consistently set in the
conf file, we apply the bool filter. We also use the 'notify'
SSL setting as the messaging system for Notifications is more
likely to remain rabbitmq in our default deployment with qrouterd
becoming the default for RPC messaging.

Change-Id: I488970b695ce439c2de8fa0ad8f04b62882630ff
"
openstack%2Fopenstack-ansible-os_aodh~master~I1d56fc82eebfb2d2ed421fd1c589e1b912328c08,openstack/openstack-ansible-os_aodh,master,move-mq-setup-into-roles,I1d56fc82eebfb2d2ed421fd1c589e1b912328c08,Default MQ RPC/Notify credentials/vhosts to match,MERGED,2018-07-30 11:41:39.000000000,2018-07-31 14:53:00.000000000,2018-07-31 14:53:00.000000000,3,2,0,587011,4b41de0570bb7cc8f4313718b135885614313f3b,9,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"Default MQ RPC/Notify credentials/vhosts to match

When the RPC and Notify service are the same, the credentials
must match - otherwise the tasks to create the user/password
will overwrite with each other.

If the two clusters are different, then the matching credentials
and vhost will not be a problem. However, if the deployer really
wishes to make sure they're different, then the vars can be
overridden.

Also, to ensure that the SSL value is consistently set in the
conf file, we apply the bool filter. We also use the 'notify'
SSL setting as the messaging system for Notifications is more
likely to remain rabbitmq in our default deployment with qrouterd
becoming the default for RPC messaging.

Change-Id: I1d56fc82eebfb2d2ed421fd1c589e1b912328c08
"
openstack%2Fopenstack-ansible-os_aodh~master~I4901fb117ac87ce37e2d07b1691f56820e7b0f70,openstack/openstack-ansible-os_aodh,master,move-mq-setup-into-roles,I4901fb117ac87ce37e2d07b1691f56820e7b0f70,Remove unnecessary MQ vhost/user creation tasks/vars,MERGED,2018-07-27 12:30:17.000000000,2018-07-31 14:53:00.000000000,2018-07-31 14:53:00.000000000,2,26,0,586529,f64d1dce9b4f6ee6bbaed974bcdc8fb59292f678,10,4,2,3,6816,Jesse Pretorius,jesse-pretorius,"Remove unnecessary MQ vhost/user creation tasks/vars

There is no record for why we implement the MQ vhost/user creation
outside of the role in the playbook, when we could do it inside the
role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we remove the test vars and tasks which were duplicated
as they are no longer required.

Change-Id: I4901fb117ac87ce37e2d07b1691f56820e7b0f70
"
openstack%2Fopenstack-ansible-os_trove~master~I618e393b9332eac6fd35472c58dfa2935da09a4d,openstack/openstack-ansible-os_trove,master,move-mq-setup-into-roles,I618e393b9332eac6fd35472c58dfa2935da09a4d,Default MQ RPC/Notify credentials/vhosts to match,MERGED,2018-07-30 12:09:56.000000000,2018-07-31 14:52:59.000000000,2018-07-31 14:52:59.000000000,3,2,0,587036,c93be4372d15c0e70539ff7ba331eed394c576cb,9,3,2,1,6816,Jesse Pretorius,jesse-pretorius,"Default MQ RPC/Notify credentials/vhosts to match

When the RPC and Notify service are the same, the credentials
must match - otherwise the tasks to create the user/password
will overwrite with each other.

If the two clusters are different, then the matching credentials
and vhost will not be a problem. However, if the deployer really
wishes to make sure they're different, then the vars can be
overridden.

Also, to ensure that the SSL value is consistently set in the
conf file, we apply the bool filter. We also use the 'notify'
SSL setting as the messaging system for Notifications is more
likely to remain rabbitmq in our default deployment with qrouterd
becoming the default for RPC messaging.

Change-Id: I618e393b9332eac6fd35472c58dfa2935da09a4d
"
openstack%2Fopenstack-ansible-os_tacker~master~I481b2358bf3b93fba3057b825fc9e0f626d616ba,openstack/openstack-ansible-os_tacker,master,move-mq-setup-into-roles,I481b2358bf3b93fba3057b825fc9e0f626d616ba,Move MQ vhost/user creation into role,MERGED,2018-07-17 21:09:55.000000000,2018-07-31 14:51:55.000000000,2018-07-31 14:51:54.000000000,82,35,0,583394,59e61f13906447b43a12393b181caf05b57afe9f,16,4,6,5,6816,Jesse Pretorius,jesse-pretorius,"Move MQ vhost/user creation into role

There is no record for why we implement the MQ vhost/user creation
outside of the role in the playbook, when we could do it inside the
role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we implement two new variables:
- tacker_oslomsg_rpc_setup_host
- tacker_oslomsg_notify_setup_host

These are used in the role to allow delegation of the MQ vhost/user
setup for each type to any host, but they default to using the first
member of the applicable oslomsg host group.

We also adjust some of the defaults to automatically inherit existing
vars set in group_vars form the integrated build so that we do not
need to do the wiring in the integrated build's group vars. We still
default them in the role too for independent role usage.

Finally, we remove the test mq setup tasks and clean up any unused
or unnecessary variables configured in tests.

Change-Id: I481b2358bf3b93fba3057b825fc9e0f626d616ba
"
openstack%2Fopenstack-ansible-os_trove~master~I18a99443d457a7b50f4c1beb7cc123f716f1ad20,openstack/openstack-ansible-os_trove,master,bp/python-build-install-simplification,I18a99443d457a7b50f4c1beb7cc123f716f1ad20,Add missing domain_id argument to os_project task,MERGED,2018-07-30 13:23:37.000000000,2018-07-31 14:51:40.000000000,2018-07-31 14:51:40.000000000,1,0,0,587057,63afb90d829d1f37c46ecef8f30bc75b07dfd7dc,7,3,1,1,6816,Jesse Pretorius,jesse-pretorius,"Add missing domain_id argument to os_project task

Somehow the previous patch merged without this required
argument.

Change-Id: I18a99443d457a7b50f4c1beb7cc123f716f1ad20
"
openstack%2Fopenstack-ansible-os_keystone~master~I0293fef6effefb1e3e7b74e11a10421eb1621b39,openstack/openstack-ansible-os_keystone,master,move-mq-setup-into-roles,I0293fef6effefb1e3e7b74e11a10421eb1621b39,Default MQ RPC/Notify credentials/vhosts to match,MERGED,2018-07-30 12:00:44.000000000,2018-07-31 14:49:32.000000000,2018-07-31 14:49:32.000000000,3,2,0,587026,57d0caf087c5425afa474e6c4c4bfa09f0e73a28,8,3,1,1,6816,Jesse Pretorius,jesse-pretorius,"Default MQ RPC/Notify credentials/vhosts to match

When the RPC and Notify service are the same, the credentials
must match - otherwise the tasks to create the user/password
will overwrite with each other.

If the two clusters are different, then the matching credentials
and vhost will not be a problem. However, if the deployer really
wishes to make sure they're different, then the vars can be
overridden.

Also, to ensure that the SSL value is consistently set in the
conf file, we apply the bool filter. We also use the 'notify'
SSL setting as the messaging system for Notifications is more
likely to remain rabbitmq in our default deployment with qrouterd
becoming the default for RPC messaging.

Change-Id: I0293fef6effefb1e3e7b74e11a10421eb1621b39
"
openstack%2Fopenstack-ansible-os_glance~master~If95706a85c68767936e7e9d3618e95f5658f5200,openstack/openstack-ansible-os_glance,master,move-mq-setup-into-roles,If95706a85c68767936e7e9d3618e95f5658f5200,Default MQ RPC/Notify credentials/vhosts to match,MERGED,2018-07-26 08:13:54.000000000,2018-07-31 14:48:33.000000000,2018-07-31 14:48:32.000000000,5,4,3,585990,1bff76c624d92543621ee3b46b351edd0719b0e4,13,4,3,3,6816,Jesse Pretorius,jesse-pretorius,"Default MQ RPC/Notify credentials/vhosts to match

When the RPC and Notify service are the same, the credentials
must match - otherwise the tasks to create the user/password
will overwrite with each other.

If the two clusters are different, then the matching credentials
and vhost will not be a problem. However, if the deployer really
wishes to make sure they're different, then the vars can be
overridden.

Also, to ensure that the SSL value is consistently set in the
conf file, we apply the bool filter. We also use the 'notify'
SSL setting as the messaging system for Notifications is more
likely to remain rabbitmq in our default deployment with qrouterd
becoming the default for RPC messaging.

Change-Id: If95706a85c68767936e7e9d3618e95f5658f5200
"
openstack%2Fopenstack-ansible-tests~master~Ib515630c8fbf793258b40f15a4c9f2c18c4c7531,openstack/openstack-ansible-tests,master,move-mq-setup-into-roles,Ib515630c8fbf793258b40f15a4c9f2c18c4c7531,Remove all MQ vhost/user creation tasks/vars,MERGED,2018-07-27 12:19:24.000000000,2018-07-31 14:47:52.000000000,2018-07-31 14:47:52.000000000,17,404,0,586524,3e595367db3cf78451059876bc9709f5f5112cde,8,3,1,10,6816,Jesse Pretorius,jesse-pretorius,"Remove all MQ vhost/user creation tasks/vars

There is no record for why we implement the MQ vhost/user creation
outside of the role in the playbook, when we could do it inside the
role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we remove the test-vars which were duplicated from the
role, and remove the MQ setup tasks as they are no longer required.

Change-Id: Ib515630c8fbf793258b40f15a4c9f2c18c4c7531
"
openstack%2Fmanila-ui~master~I91eb8e8584e2a9b1a5f371646f4b7736b15b8b8d,openstack/manila-ui,master,bug/1783232,I91eb8e8584e2a9b1a5f371646f4b7736b15b8b8d,Fix quotas retrieval for shares and snapshots tables,ABANDONED,2018-07-31 14:21:04.000000000,2018-07-31 14:47:12.000000000,,37,73,2,587482,9156ab08587f4a46d6653a3b1fe15e0232fb53a7,5,3,2,7,9003,Tom Barron,tbarron,"Fix quotas retrieval for shares and snapshots tables

After refactoring manila-ui plugin to adapt
to the tabbed quotas interface in horizon,
we stopped accesing the usages data structure
which (in horizon side) carries quotas information.
In this patch set we perform quotas control by
querying manilaclient directly.

Change-Id: I2896d54fde0d5e3975afbb7274faadf2a1a81d7c
Closes-Bug: #1783232
Co-Authored-By: Tom Barron <tpb@dyncloud.net>
"
openstack%2Fopenstack-ansible-os_heat~master~I9aa597705514a460a6bc57137b7d2d06bf6b7f05,openstack/openstack-ansible-os_heat,master,move-mq-setup-into-roles,I9aa597705514a460a6bc57137b7d2d06bf6b7f05,Default MQ RPC/Notify credentials/vhosts to match,MERGED,2018-07-30 11:58:12.000000000,2018-07-31 14:44:37.000000000,2018-07-31 14:44:37.000000000,3,2,0,587021,43f4033e41562123bafcb7d6ee6a06bb75ef47a0,7,3,1,1,6816,Jesse Pretorius,jesse-pretorius,"Default MQ RPC/Notify credentials/vhosts to match

When the RPC and Notify service are the same, the credentials
must match - otherwise the tasks to create the user/password
will overwrite with each other.

If the two clusters are different, then the matching credentials
and vhost will not be a problem. However, if the deployer really
wishes to make sure they're different, then the vars can be
overridden.

Also, to ensure that the SSL value is consistently set in the
conf file, we apply the bool filter. We also use the 'notify'
SSL setting as the messaging system for Notifications is more
likely to remain rabbitmq in our default deployment with qrouterd
becoming the default for RPC messaging.

Change-Id: I9aa597705514a460a6bc57137b7d2d06bf6b7f05
"
openstack%2Fopenstack-ansible-os_congress~master~I97770819e9421ed27575f3fe181b4420742b0820,openstack/openstack-ansible-os_congress,master,move-mq-setup-into-roles,I97770819e9421ed27575f3fe181b4420742b0820,Move MQ vhost/user creation into role,MERGED,2018-07-17 21:03:37.000000000,2018-07-31 14:42:29.000000000,2018-07-31 14:42:29.000000000,79,30,0,583369,341ad85ea052150ab9db23213b9ae4f131879918,11,4,3,5,6816,Jesse Pretorius,jesse-pretorius,"Move MQ vhost/user creation into role

There is no record for why we implement the MQ vhost/user creation
outside of the role in the playbook, when we could do it inside the
role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we implement two new variables:
- congress_oslomsg_rpc_setup_host
- congress_oslomsg_notify_setup_host

These are used in the role to allow delegation of the MQ vhost/user
setup for each type to any host, but they default to using the first
member of the applicable oslomsg host group.

We also adjust some of the defaults to automatically inherit existing
vars set in group_vars form the integrated build so that we do not
need to do the wiring in the integrated build's group vars. We still
default them in the role too for independent role usage.

Finally, we remove the test mq setup tasks and clean up any unused
or unnecessary variables configured in tests.

Change-Id: I97770819e9421ed27575f3fe181b4420742b0820
"
openstack%2Fopenstack-ansible-os_rally~stable%2Fqueens~If3d0120cf6f6f78463cf7805bc046382c3b6d44e,openstack/openstack-ansible-os_rally,stable/queens,bug/1782372,If3d0120cf6f6f78463cf7805bc046382c3b6d44e,Implement pypi-based install and package pinning for non u-c packages,MERGED,2018-07-24 08:20:50.000000000,2018-07-31 14:40:48.000000000,2018-07-31 14:40:47.000000000,16,7,0,585170,6baad96a484172794ffe7c7c637cd3562bcc061a,13,4,2,2,6816,Jesse Pretorius,jesse-pretorius,"Implement pypi-based install and package pinning for non u-c packages

Rally does not adhere to the global requirements process, so its
requirements extend beyond those managed by upper-constraints, and
sometimes are incompatible with upper constraints.

We have no need to track their development from git commit to git
commit, and can rather rely on stable releases which we verify are
working with the upper constraints whenever we do a pinning bump.

This keeps things simpler for us, and also allows the repo build
process in the integrated build to do a constrained venv build
instead of doing it unconstrained and breaking stable branch builds
down the line.

Closes-Bug: 1782372
Needed-By: https://review.openstack.org/585165
Change-Id: If3d0120cf6f6f78463cf7805bc046382c3b6d44e
(cherry picked from commit 321fb7e69aa4d87b07b1725f37adf0e1b596fcf5)
"
openstack%2Fopenstack-ansible-os_watcher~master~I6b781cde4e075dee9d79cf28a55eeda00460c37d,openstack/openstack-ansible-os_watcher,master,move-mq-setup-into-roles,I6b781cde4e075dee9d79cf28a55eeda00460c37d,Move MQ vhost/user creation into role,MERGED,2018-07-17 21:10:46.000000000,2018-07-31 14:40:06.000000000,2018-07-31 14:40:06.000000000,77,43,0,583397,2ab1b994468bfe412f7158e557c80f7d63be0b8e,12,4,4,5,6816,Jesse Pretorius,jesse-pretorius,"Move MQ vhost/user creation into role

There is no record for why we implement the MQ vhost/user creation
outside of the role in the playbook, when we could do it inside the
role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we implement two new variables:
- watcher_oslomsg_rpc_setup_host
- watcher_oslomsg_notify_setup_host

These are used in the role to allow delegation of the MQ vhost/user
setup for each type to any host, but they default to using the first
member of the applicable oslomsg host group.

We also adjust some of the defaults to automatically inherit existing
vars set in group_vars form the integrated build so that we do not
need to do the wiring in the integrated build's group vars. We still
default them in the role too for independent role usage.

Finally, we remove the test mq setup tasks and clean up any unused
or unnecessary variables configured in tests.

Change-Id: I6b781cde4e075dee9d79cf28a55eeda00460c37d
"
openstack%2Ftripleo-common~master~I1b632b836df81f6f86a7c90ae6d86ed2eb38772a,openstack/tripleo-common,master,test-dnm,I1b632b836df81f6f86a7c90ae6d86ed2eb38772a,TEST - DNM - Test suppress swift exception log,ABANDONED,2018-04-03 14:36:47.000000000,2018-07-31 14:33:27.000000000,,3,3,0,558526,8182c096bc09798d366fef41f757e36df3cce4c7,6,2,2,3,7065,Brad P. Crochet,bcrochet,"TEST - DNM - Test suppress swift exception log

Change-Id: I1b632b836df81f6f86a7c90ae6d86ed2eb38772a
Depends-On: I5e453e8d4c08bbcd72d6df61fbea269424c65618
"
openstack%2Fmistral~master~I5e453e8d4c08bbcd72d6df61fbea269424c65618,openstack/mistral,master,bug/1760883,I5e453e8d4c08bbcd72d6df61fbea269424c65618,Add ability to suppress OpenStack action exception logging,ABANDONED,2018-04-03 13:35:10.000000000,2018-07-31 14:33:17.000000000,,93,1,2,558505,241559d46fe3d27bddbf405167d5cb6fef420067,11,4,3,3,7065,Brad P. Crochet,bcrochet,"Add ability to suppress OpenStack action exception logging

When OpenStack actions are called, they can sometimes raise exceptions.
Sometimes, those 'exceptions' are actually expected. For instance, if
one wants to probe whether a Swift container exists, one may want the
error, but don't want to log the exception, as it could lead to false
positives in the logs. The 'log_exceptions' parameter to the action
will suppress that log. It defaults to True, as this is the existing
behavior.

Change-Id: I5e453e8d4c08bbcd72d6df61fbea269424c65618
Closes-Bug: #1760883
"
openstack%2Fmistral~master~I2b90354c33052c4b7ae3a98a08e7df1055524a25,openstack/mistral,master,bug/1783349,I2b90354c33052c4b7ae3a98a08e7df1055524a25,Improve std.email action,MERGED,2018-07-24 14:52:42.000000000,2018-07-31 14:32:33.000000000,2018-07-31 14:32:33.000000000,210,23,0,585396,3c430ef0a2ae54ae7e42fead98015f6a1d2740e9,13,4,3,5,5575,Jose Castro Leon,jose-castro-leon,"Improve std.email action

Adds support for cc and bcc addresses to send mails as copy to
administrators and also html formatting. If the html body is specified
the mail will be sent as multipart.

Closes-Bug: #1783349

Change-Id: I2b90354c33052c4b7ae3a98a08e7df1055524a25
"
openstack%2Felection~master~I66c8d4c09c33df43ec4c02b1130af47b3e21cd24,openstack/election,master,candidate_edmondsw,I66c8d4c09c33df43ec4c02b1130af47b3e21cd24,Adding Matthew Edmonds candidacy for PowerVMStackers,MERGED,2018-07-24 16:55:20.000000000,2018-07-31 14:27:23.000000000,2018-07-26 20:46:33.000000000,35,0,0,585483,8bac69bc137b8d798a71a83791e800d8e0cc2aed,10,4,1,1,10608,Matthew Edmonds,edmondsw,"Adding Matthew Edmonds candidacy for PowerVMStackers

Change-Id: I66c8d4c09c33df43ec4c02b1130af47b3e21cd24
"
openstack%2Fnetworking-ovn~master~Iea6505f5fece4d1eb7cf4980efba9dcc28bfa1b3,openstack/networking-ovn,master,,Iea6505f5fece4d1eb7cf4980efba9dcc28bfa1b3,DO NOT REVIEW: FOR TESTING IPv6 failure,ABANDONED,2018-07-16 09:48:47.000000000,2018-07-31 14:27:10.000000000,,5,0,1,582909,f41deda2b194c9fe8733d0642e94ed89952dfd2a,5,3,1,1,10237,Numan Siddique,numansiddique,"DO NOT REVIEW: FOR TESTING IPv6 failure

Suspecting if the commit ""a4c029e3d3 flow: Fix buffer overread for crafted IPv6 packets.""
is the reason for failure. Testing out with v2.9.2.

Change-Id: Iea6505f5fece4d1eb7cf4980efba9dcc28bfa1b3
"
openstack%2Fzun~master~I67c2d3e40a65350f6f8fe6ef2ca5cc63371c194e,openstack/zun,master,bug/1783517,I67c2d3e40a65350f6f8fe6ef2ca5cc63371c194e,Delete volume when failed to attach,MERGED,2018-07-31 09:23:29.000000000,2018-07-31 14:23:19.000000000,2018-07-31 14:23:19.000000000,11,1,0,587358,81701eb5bf90b469697af223fd66df92a8a72583,6,3,1,2,23829,weikeyou,weikeyou,"Delete volume when failed to attach

If failed to attach the volume while calling self.driver.attach_volume,
the function _attach_volume will destroy the Volumemapping table of this
failed volume. So, this failed volume will not be deleted in
_fail_container.
  Delete the volume which auto_remove is true before destroying its
    volumemapping.

    Change-Id: Ie17290703241a2d2ff0a3185cc65eca2bd75f333
    Closes-bug: #1783517

Change-Id: I67c2d3e40a65350f6f8fe6ef2ca5cc63371c194e
"
openstack%2Felection~master~Ibaec3ee105737c1ba77751450042f8eb9f46668b,openstack/election,master,Stein-ptl-candidates,Ibaec3ee105737c1ba77751450042f8eb9f46668b,Adding wanghao candidacy for Zaqar,MERGED,2018-07-30 05:47:21.000000000,2018-07-31 14:07:07.000000000,2018-07-31 14:07:07.000000000,37,0,0,586940,dbc98d272ca1580bb538f0a679f20f098535f10c,11,4,2,1,8846,Hao Wang,sxmatch,"Adding wanghao candidacy for Zaqar

Change-Id: Ibaec3ee105737c1ba77751450042f8eb9f46668b
"
openstack%2Felection~master~Ib0a0f0f6a0a7e986ca7d78ab39a2900058f235a9,openstack/election,master,,Ib0a0f0f6a0a7e986ca7d78ab39a2900058f235a9,Adding Dharmendra Kushwaha candidacy for Tacker,MERGED,2018-07-29 05:42:44.000000000,2018-07-31 14:05:01.000000000,2018-07-31 14:05:01.000000000,50,0,0,586854,0f1c6060592351c8f086428876eda8d653b38498,10,6,1,1,18955,dharmendra,dharmendra,"Adding Dharmendra Kushwaha candidacy for Tacker

Change-Id: Ib0a0f0f6a0a7e986ca7d78ab39a2900058f235a9
"
openstack%2Felection~master~I6b4066c6234a29e2e44c6e1034761ee6bdffdbf1,openstack/election,master,,I6b4066c6234a29e2e44c6e1034761ee6bdffdbf1,Adding Adrian Turjak candidacy for Adjutant,MERGED,2018-07-31 00:45:39.000000000,2018-07-31 14:05:00.000000000,2018-07-31 14:05:00.000000000,19,0,0,587258,0d2b61e0474a56e38eac314fbe489a8412270b8c,10,4,2,1,10420,Adrian Turjak,adriant,"Adding Adrian Turjak candidacy for Adjutant

Change-Id: I6b4066c6234a29e2e44c6e1034761ee6bdffdbf1
"
openstack%2Felection~master~I85f1bd2f622065ed9f2be0b45c39e9b45d3be446,openstack/election,master,add_alee_candidacy_stein,I85f1bd2f622065ed9f2be0b45c39e9b45d3be446,Add Ade Lee candidacy for Barbican,MERGED,2018-07-27 11:11:58.000000000,2018-07-31 14:03:48.000000000,2018-07-31 14:03:48.000000000,31,0,0,586512,9cbe5de2871036ff6a03f3bb8ed0b697b9dd5fbf,12,5,2,1,9914,Ade Lee,alee,"Add Ade Lee candidacy for Barbican

Change-Id: I85f1bd2f622065ed9f2be0b45c39e9b45d3be446
"
openstack%2Felection~master~Ib7387e4d168f18283c749e6f370601481a06c2d2,openstack/election,master,,Ib7387e4d168f18283c749e6f370601481a06c2d2,Adding Witold Bedyk candidacy for Monasca,MERGED,2018-07-30 12:25:30.000000000,2018-07-31 14:03:28.000000000,2018-07-31 14:03:28.000000000,20,0,0,587040,9a1419cf9551d90263ddb69221465c76493600f7,7,3,1,1,16222,witek,witek,"Adding Witold Bedyk candidacy for Monasca

Change-Id: Ib7387e4d168f18283c749e6f370601481a06c2d2
"
openstack%2Fmonasca-common~master~I3ae6830fbbe80bf56726886d658c55dda965d717,openstack/monasca-common,master,goal-python35,I3ae6830fbbe80bf56726886d658c55dda965d717,Ensures that messages pass to kafka client are bytes string,MERGED,2018-07-26 09:54:48.000000000,2018-07-31 14:03:05.000000000,2018-07-31 14:03:05.000000000,6,5,2,586035,304772fa1816e40abdbeff20f9e38ec5d1f57402,20,5,5,1,26141,Adrian Czarnecki,czarneckia,"Ensures that messages pass to kafka client are bytes string

Story: 2003178
Task: 23324

Change-Id: I3ae6830fbbe80bf56726886d658c55dda965d717
"
openstack%2Fmonasca-log-api~master~I3d199fac244eca94fc434d19c78bc5a17e804c37,openstack/monasca-log-api,master,policy-and-docs-in-code,I3d199fac244eca94fc434d19c78bc5a17e804c37,Using oslo.policy for monasca-log-api,MERGED,2018-06-26 10:54:43.000000000,2018-07-31 14:03:04.000000000,2018-07-31 14:03:03.000000000,639,149,37,578061,5729d7e7c8bcaae3001042c6dc1f38ce2b35cc76,15,4,4,32,26733,Amir Mofakhar,amofakhar,"Using oslo.policy for monasca-log-api

Added policies and used policy enforcement engine
from monasca-common.

- Updated role_middleware to remove authorization into the routes.
- Updated unit tests and implemented some new tests.
- Added a new entry point for generating sample policy file by tox.

story: 2001233
task: 22086

Change-Id: I3d199fac244eca94fc434d19c78bc5a17e804c37
Signed-off-by: Amir Mofakhar <amofakhar@op5.com>
"
openstack%2Fopenstack-ansible-os_designate~stable%2Fqueens~I4dd96cb87130c3ec3caaa487384874229acb7356,openstack/openstack-ansible-os_designate,stable/queens,bug/1783132-stable/queens,I4dd96cb87130c3ec3caaa487384874229acb7356,Use designate_galera_database,MERGED,2018-07-25 12:01:45.000000000,2018-07-31 14:03:02.000000000,2018-07-31 14:03:02.000000000,1,1,0,585722,3d4280b8b82a6492ac4bfea835119442e804a55e,9,4,1,1,28008,Guilherme,guilhermesp,"Use designate_galera_database

Use the designate_galera_database instead of
hardcoded database name.

Closes-Bug: 1783132
Change-Id: I4dd96cb87130c3ec3caaa487384874229acb7356
(cherry picked from commit 9b5d91d520660150f28a8b5060dc008acf0f808f)
"
openstack%2Fopenstack-ansible-os_monasca~master~I4e66f9293e0b1148540bad69254c3cbfc4f80a59,openstack/openstack-ansible-os_monasca,master,,I4e66f9293e0b1148540bad69254c3cbfc4f80a59,Upgrade kafka repository,MERGED,2018-07-30 17:25:09.000000000,2018-07-31 14:00:45.000000000,2018-07-31 14:00:44.000000000,1,1,0,587173,ab9ca00b2ab2971bb40d33f723c44009239ad5cb,8,4,1,1,28008,Guilherme,guilhermesp,"Upgrade kafka repository

Since the old repository is not maintained this patch
aims to change to a repository that can be maintained
for now, providing faster way to make changes as necessary.

Change-Id: I4e66f9293e0b1148540bad69254c3cbfc4f80a59
"
openstack%2Felection~master~Icfdceb7b01158e8a275fa997fb196d80b4716dfb,openstack/election,master,,Icfdceb7b01158e8a275fa997fb196d80b4716dfb,Adding Sampath Priyankara candidacy for Masakari,MERGED,2018-07-30 12:38:59.000000000,2018-07-31 13:57:45.000000000,2018-07-31 13:57:45.000000000,29,0,0,587045,7f7f3160b6d42528bf729a207d9ca85bceb14b5e,7,3,1,1,8716,Sampath Priyankara,sampath,"Adding Sampath Priyankara candidacy for Masakari

Change-Id: Icfdceb7b01158e8a275fa997fb196d80b4716dfb
Signed-off-by: Sampath Priyankara <sam47priya@gmail.com>
"
openstack%2Felection~master~I26436859ae99fb6c0a8ccba21518ae507111b16d,openstack/election,master,,I26436859ae99fb6c0a8ccba21518ae507111b16d,Add Julia Kreger for Ironic PTL,MERGED,2018-07-30 13:04:36.000000000,2018-07-31 13:57:00.000000000,2018-07-31 13:57:00.000000000,27,0,0,587054,e1ad18e84cd6157e9aacb112b5b2056091b45ccc,8,3,2,1,11655,Julia Kreger,jkreger,"Add Julia Kreger for Ironic PTL

Change-Id: I26436859ae99fb6c0a8ccba21518ae507111b16d
"
openstack%2Felection~master~Id9833bed2a536c9dc93e9b56d01d78ee708199ce,openstack/election,master,osa-201807,Id9833bed2a536c9dc93e9b56d01d78ee708199ce,Add Mohammed Naser for OpenStack-Ansible,MERGED,2018-07-30 13:31:45.000000000,2018-07-31 13:56:56.000000000,2018-07-31 13:56:56.000000000,37,0,0,587059,f0f52837b3780bf6b155b53c8d274e5187530c4c,7,3,1,1,1004,Mohammed Naser,mnaser,"Add Mohammed Naser for OpenStack-Ansible

Change-Id: Id9833bed2a536c9dc93e9b56d01d78ee708199ce
"
openstack%2Felection~master~Ia1f156203f4096adbb12dd43920e3a6e240e6c4a,openstack/election,master,,Ia1f156203f4096adbb12dd43920e3a6e240e6c4a,Add Telles Nobrega for Sahara PTL,MERGED,2018-07-30 13:58:31.000000000,2018-07-31 13:56:46.000000000,2018-07-31 13:56:46.000000000,34,0,0,587069,6a08ddf430ae14316324fe08a05f07b3d1cd4f80,7,3,1,1,8932,Telles Mota Vidal Nóbrega,tellesnobrega,"Add Telles Nobrega for Sahara PTL

Change-Id: Ia1f156203f4096adbb12dd43920e3a6e240e6c4a
"
openstack%2Felection~master~Ib70ee2d255924bd5d0326f572597830cb13cf477,openstack/election,master,horizon-ptl-stein,Ib70ee2d255924bd5d0326f572597830cb13cf477,Add Ivan Kolodyazhny candidacy for Horizon PTL,MERGED,2018-07-30 14:34:34.000000000,2018-07-31 13:56:18.000000000,2018-07-31 13:56:18.000000000,34,0,0,587079,3f6d146551910ccca3215e51635c343927fae4c3,7,3,1,1,1736,Ivan Kolodyazhny,e0ne,"Add Ivan Kolodyazhny candidacy for Horizon PTL

Change-Id: Ib70ee2d255924bd5d0326f572597830cb13cf477
"
openstack%2Felection~master~Ib8969f38d7de5d194819dc9306f4910324182ced,openstack/election,master,oslo-stein,Ib8969f38d7de5d194819dc9306f4910324182ced,Add bnemec candidacy for Oslo,MERGED,2018-07-30 15:45:07.000000000,2018-07-31 13:54:35.000000000,2018-07-31 13:54:35.000000000,11,0,0,587096,4e4ac0281ea4d9bae407f3e41bc368094e3e264e,7,3,1,1,6928,Ben Nemec,bnemec,"Add bnemec candidacy for Oslo

Change-Id: Ib8969f38d7de5d194819dc9306f4910324182ced
"
openstack%2Ftripleo-heat-templates~master~Ide061ca5e4495495658380499c62862e43441e25,openstack/tripleo-heat-templates,master,bug/1775186,Ide061ca5e4495495658380499c62862e43441e25,Fix GlanceRegistry FFU cleanup,MERGED,2018-06-05 13:28:04.000000000,2018-07-31 13:48:43.000000000,2018-07-26 09:23:42.000000000,0,1,0,572389,1b6e061692eaf78e0cefcb9aa32c1ae7e7f2d5fd,17,6,1,1,11166,Lukas Bezdicka,xbezdick,"Fix GlanceRegistry FFU cleanup

Instead of nooping the service we need it to run in order to
remove if from the overcloud.

Change-Id: Ide061ca5e4495495658380499c62862e43441e25
Resolves: rhbz#1562199
Closes-Bug: #1775186
"
openstack%2Fopenstacksdk~stable%2Frocky~I6efd25959127bbe28e76b1967caa5b3716346c7e,openstack/openstacksdk,stable/rocky,,I6efd25959127bbe28e76b1967caa5b3716346c7e,Pass microversion info through from Profile,ABANDONED,2018-07-31 13:38:20.000000000,2018-07-31 13:39:56.000000000,,4,0,0,587436,2fb3b132227ed6e562652b419e010821570a418e,2,0,1,1,2,Monty Taylor,mordred,"Pass microversion info through from Profile

Even though Profile is going away, senlinclient is still using it.
There is a patch up to fix that, but in the meantime, let's fix it for
their issue. api_version in Profile is the variable for setting a
default microversion, but the translation method didn't set it.

Story: 2003146
Change-Id: I6efd25959127bbe28e76b1967caa5b3716346c7e
"
openstack%2Fnova~master~Ia685bb931811a343dd8d89c9e005bffdcda9ece4,openstack/nova,master,nit_fix_comments,Ia685bb931811a343dd8d89c9e005bffdcda9ece4,NIT: Delete duplicated word in comments,ABANDONED,2018-07-31 07:10:52.000000000,2018-07-31 13:37:25.000000000,,1,1,0,587302,312e84fd164178865167dd2443b8ff631fe2afdd,15,12,1,1,26286,huanhongda,huanhongda,"NIT: Delete duplicated word in comments

That line has two words 'all', so fix it.

Change-Id: Ia685bb931811a343dd8d89c9e005bffdcda9ece4
"
openstack%2Fopenstack-ansible-galera_server~master~Id70a5d6c9a6fbd8733a211ab9f6963d1f672a78a,openstack/openstack-ansible-galera_server,master,,Id70a5d6c9a6fbd8733a211ab9f6963d1f672a78a,Remove the unnecessary space,MERGED,2018-07-30 15:29:56.000000000,2018-07-31 13:34:25.000000000,2018-07-31 13:34:25.000000000,17,17,0,587094,1cea6fca846ddf0fa7e89733f9f3e43fe6cf3c1b,7,2,1,9,27143,Kaio Oliveira (kaiokmo),kaiokassiano,"Remove the unnecessary space

Change-Id: Id70a5d6c9a6fbd8733a211ab9f6963d1f672a78a
"
openstack%2Felection~master~Id41e979222a5749cc0f34b7f1570aee418b61307,openstack/election,master,tripleo-ptl,Id41e979222a5749cc0f34b7f1570aee418b61307,Add jaosorior as TripleO PTL candidate,MERGED,2018-07-25 12:03:59.000000000,2018-07-31 13:34:21.000000000,2018-07-31 13:34:21.000000000,42,0,0,585723,31926af21be0fed1142e7cc97c0490d0838f45b4,21,5,5,1,10873,Juan Antonio Osorio Robles,ejuaoso,"Add jaosorior as TripleO PTL candidate

Change-Id: Id41e979222a5749cc0f34b7f1570aee418b61307
"
openstack%2Felection~master~I36d774e803831d31c06abeb2e26ffb907a1e6c96,openstack/election,master,dt-ptl-2018-07,I36d774e803831d31c06abeb2e26ffb907a1e6c96,Dean Troyer nomination for OpenStackClient PTL,MERGED,2018-07-30 14:48:37.000000000,2018-07-31 13:34:20.000000000,2018-07-31 13:34:20.000000000,11,0,0,587086,63acc8358900b05203d4ff97a40cb858d65e41a4,9,3,2,1,970,Dean Troyer,dtroyer,"Dean Troyer nomination for OpenStackClient PTL

Change-Id: I36d774e803831d31c06abeb2e26ffb907a1e6c96
"
openstack%2Fbarbican~master~I88acad7bc3ac1abc2755e255974f638bcab823b0,openstack/barbican,master,test1,I88acad7bc3ac1abc2755e255974f638bcab823b0,Initial the unit-tests of OVO for Barbican,MERGED,2018-06-19 08:06:04.000000000,2018-07-31 13:33:37.000000000,2018-07-31 13:33:37.000000000,331,1,12,576409,d6bc46076304d6bda5ec7066aa92e674bdf7a958,30,4,5,5,19554,Nam,namnh,"Initial the unit-tests of OVO for Barbican

This patch set is implement OVOBaseTest
class which will be inherited by subclasses.

It adds TestBarbicanObject and ProjectQuotas class to test
BarbicanObject and ProjectQuotas.

Partial Implements: blueprint rolling-upgrade

Change-Id: I88acad7bc3ac1abc2755e255974f638bcab823b0
"
openstack%2Fpuppet-pacemaker~master~Icea3f0535fd8da8d28d269f0984453668424c28d,openstack/puppet-pacemaker,master,remove-is-pcmk-remote,Icea3f0535fd8da8d28d269f0984453668424c28d,Remove the pcmk_is_remote fact,MERGED,2018-07-18 07:56:25.000000000,2018-07-31 13:32:48.000000000,2018-07-31 13:32:48.000000000,0,8,0,583482,8d09c3f5cec9751c6adbb3b81a8f7f9f4078020a,14,4,2,1,20172,Michele Baldessari,michele,"Remove the pcmk_is_remote fact

Since change I61f3393b88b65d29e2f2a5fdf6c2e2a112bfc9a1
(Switch requires for wait-for-settle into resource collectors) we
are not using the pcmk_is_remote fact any longer:
$ grep -r pcmk_is_remote puppet-pacemaker puppet-tripleo
$

It was partially broken anyway: facts run before package installation,
so if pacemaker-remote was not installed it would have returned
false before the configuration.

Let's save ourselves a systemctl call.

Change-Id: Icea3f0535fd8da8d28d269f0984453668424c28d
"
openstack%2Fvirtualbmc~master~I413ea7ec5db3316f985c38900aa46b8cdfd5d138,openstack/virtualbmc,master,,I413ea7ec5db3316f985c38900aa46b8cdfd5d138,Specifiy encoding for xml string,MERGED,2018-07-30 11:00:56.000000000,2018-07-31 13:31:54.000000000,2018-07-31 13:31:54.000000000,6,1,3,587000,cad28ace1750503abd6808970f96b3b8b30c0d6c,12,5,2,1,1926,Derek Higgins,derekh,"Specifiy encoding for xml string

In python 3 we need to specify the encoding as ""unicode""
otherwise bytes are returned.

Change-Id: I413ea7ec5db3316f985c38900aa46b8cdfd5d138
"
openstack%2Felection~master~Icc88dfdf4b613b604fa1253156a4ce1bc0fe315f,openstack/election,master,Jay_Bryant_S_Cinder_PTL,Icc88dfdf4b613b604fa1253156a4ce1bc0fe315f,Adding Jay Bryant candidacy for Cinder PTL,MERGED,2018-07-30 16:51:36.000000000,2018-07-31 13:30:05.000000000,2018-07-31 13:30:05.000000000,32,0,0,587139,9732a5b541b6b249e915857e0483e2b07ddb92da,8,3,2,1,7198,Jay Bryant,jsbryant,"Adding Jay Bryant candidacy for Cinder PTL

This patch officially announces my Cinder PTL
candidacy for the Stein release.

Change-Id: Icc88dfdf4b613b604fa1253156a4ce1bc0fe315f
"
openstack%2Felection~master~I23b6e76d4497adf7c3328b71fada62cff5372711,openstack/election,master,stein_candidacy,I23b6e76d4497adf7c3328b71fada62cff5372711,Adding Ifat Afek candidacy for Stein,MERGED,2018-07-30 16:58:27.000000000,2018-07-31 13:29:00.000000000,2018-07-31 13:29:00.000000000,31,0,0,587158,18a89d59924dcb6a0c73c7d9ef09c522e56d8615,7,3,1,1,19159,Ifat Afek,ifat_afek,"Adding Ifat Afek candidacy for Stein

Change-Id: I23b6e76d4497adf7c3328b71fada62cff5372711
"
openstack%2Felection~master~Ic7f1607a744db14bbd633145403d054e75f4bacd,openstack/election,master,osh-ptl,Ic7f1607a744db14bbd633145403d054e75f4bacd,Adding Pete Birley as OpenStack-Helm PTL Candidate,MERGED,2018-07-30 20:39:22.000000000,2018-07-31 13:28:59.000000000,2018-07-31 13:28:59.000000000,28,0,0,587219,5ace74f218359407d99cbebd153282dd3ad14f7a,8,3,2,1,23928,Pete Birley,portdirect,"Adding Pete Birley as OpenStack-Helm PTL Candidate

Change-Id: Ic7f1607a744db14bbd633145403d054e75f4bacd
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Felection~master~I842a2facee7594d7def124e3fc7151387121038e,openstack/election,master,nova-stein,I842a2facee7594d7def124e3fc7151387121038e,Adding Melanie Witt candidacy for Nova,MERGED,2018-07-30 23:38:11.000000000,2018-07-31 13:28:58.000000000,2018-07-31 13:28:58.000000000,41,0,0,587254,996cd6f20c177a8bfd8d715aeb124a2e3a511f02,7,3,1,1,4690,melanie witt,melwitt,"Adding Melanie Witt candidacy for Nova

Change-Id: I842a2facee7594d7def124e3fc7151387121038e
"
openstack%2Felection~master~Ic33803c15ffb729c10c1c1c00babb519b4c013c0,openstack/election,master,,Ic33803c15ffb729c10c1c1c00babb519b4c013c0,Adding Michael Johnson candidacy for Octavia,MERGED,2018-07-30 21:53:35.000000000,2018-07-31 13:28:57.000000000,2018-07-31 13:28:57.000000000,17,0,0,587236,bc2bbf5e365d687fb1f96f2766326ee887d97421,7,3,1,1,11628,Michael Johnson,johnsom,"Adding Michael Johnson candidacy for Octavia

Change-Id: Ic33803c15ffb729c10c1c1c00babb519b4c013c0
"
openstack%2Felection~master~Ida3a74f600bf57a8442c1c95e38645798fccbe56,openstack/election,master,,Ida3a74f600bf57a8442c1c95e38645798fccbe56,Add Tom Barron PTL candidacy for manila,MERGED,2018-07-29 20:00:57.000000000,2018-07-31 13:27:31.000000000,2018-07-31 13:27:31.000000000,58,0,0,586899,1480c3413ab672d10d89b023314ac6205c155b7a,7,3,1,1,9003,Tom Barron,tbarron,"Add Tom Barron PTL candidacy for manila

Change-Id: Ida3a74f600bf57a8442c1c95e38645798fccbe56
"
openstack%2Fgovernance~master~Iefb135d9fac29b5700cc19c9080e0d651f818d49,openstack/governance,master,typo-fix,Iefb135d9fac29b5700cc19c9080e0d651f818d49,fix a typo in projects.yaml,ABANDONED,2018-05-18 16:45:46.000000000,2018-07-31 13:24:51.000000000,,1,1,1,569465,f281106a696bfe4c9d3e608c4a1de0e6dc6cb4d7,17,3,4,1,17130,melissaml,malei,"fix a typo in projects.yaml

Change-Id: Iefb135d9fac29b5700cc19c9080e0d651f818d49
"
openstack%2Fgovernance~master~Ia57aa41dd923d1fbc53512f5e10580d5575a4e5f,openstack/governance,master,formal-vote,Ia57aa41dd923d1fbc53512f5e10580d5575a4e5f,Add Scientific Computing constellation,ABANDONED,2018-05-01 08:50:04.000000000,2018-07-31 13:24:35.000000000,,103,0,16,565466,11be4be1aece08117ff3806155d033c5ea257daa,14,11,1,3,782,John Garbutt,johngarbutt,"Add Scientific Computing constellation

Here is a first draft of what we could include in a constellation,
including a quick introduction to the concept of constellations.

Change-Id: Ia57aa41dd923d1fbc53512f5e10580d5575a4e5f
Task: 8695
"
openstack%2Fgovernance~master~I6859a76846779ef687422dbbb86483c4a41b55a0,openstack/governance,master,on-hold,I6859a76846779ef687422dbbb86483c4a41b55a0,Allow projects to drop py27 support in the PTI,ABANDONED,2018-04-17 12:12:11.000000000,2018-07-31 13:24:02.000000000,,8,2,0,561922,4edf0e9f6947edec73848a4d564d35e6f26c996a,27,11,1,1,8099,Graham Hayes,graham,"Allow projects to drop py27 support in the PTI

With the very short timescales left on python 2.7 [1] we should
allow projects to choose to drop py27 support, and only support
py3.

This makes ``tox -epy27`` optional, like ``tox -epy3`` currently is.

1 - https://pythonclock.org/

Change-Id: I6859a76846779ef687422dbbb86483c4a41b55a0
Signed-off-by: Graham Hayes <gr@ham.ie>
"
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fqueens~I579484ccefe0f29c40f8fed4b2d1b73aaeb917b1,openstack/openstack-ansible-openstack_hosts,stable/queens,bug/1783342-stable/queens,I579484ccefe0f29c40f8fed4b2d1b73aaeb917b1,Do not install linux-image-extra by default,MERGED,2018-07-30 14:32:14.000000000,2018-07-31 13:22:05.000000000,2018-07-31 13:22:05.000000000,0,1,0,587076,40c1e84c87e75cdcbf5b3603a907eb04c3fa452f,8,4,1,1,17068,Jean-Philippe Evrard,evrardjp,"Do not install linux-image-extra by default

In Ubuntu 14.04, the kernel shipped was lightweight, and some
extra features like using vhost_net, required the package
linux-image-extra.

In Ubuntu 16.04 and above, this is not the case anymore,
as many kernel packages ship with extra features.

vhost_net is generally shipped with the kernel package nowadays
and was the only one documented for the addition of the
linux-image-extra into our roles.

Change-Id: I579484ccefe0f29c40f8fed4b2d1b73aaeb917b1
Closes-Bug: 1783342
(cherry picked from commit 8c46d189889987148d6f6906ef2ea66c17f69bed)
"
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fpike~I579484ccefe0f29c40f8fed4b2d1b73aaeb917b1,openstack/openstack-ansible-openstack_hosts,stable/pike,bug/1783342-stable/pike,I579484ccefe0f29c40f8fed4b2d1b73aaeb917b1,Do not install linux-image-extra by default,MERGED,2018-07-30 14:30:56.000000000,2018-07-31 13:20:00.000000000,2018-07-31 13:20:00.000000000,0,1,0,587075,a94d802963c78d16e1cca3c86b9d2df7131262c8,8,5,1,1,25600,Ebbex,ebbex,"Do not install linux-image-extra by default

In Ubuntu 14.04, the kernel shipped was lightweight, and some
extra features like using vhost_net, required the package
linux-image-extra.

In Ubuntu 16.04 and above, this is not the case anymore,
as many kernel packages ship with extra features.

vhost_net is generally shipped with the kernel package nowadays
and was the only one documented for the addition of the
linux-image-extra into our roles.

Change-Id: I579484ccefe0f29c40f8fed4b2d1b73aaeb917b1
Closes-Bug: 1783342
(cherry picked from commit 8c46d189889987148d6f6906ef2ea66c17f69bed)
"
openstack%2Foslo.rootwrap~master~Ic1ad7446fce80d7ff92285d64f9c39486441c490,openstack/oslo.rootwrap,master,reno-rocky,Ic1ad7446fce80d7ff92285d64f9c39486441c490,Update reno for stable/rocky,MERGED,2018-07-26 12:39:54.000000000,2018-07-31 13:20:00.000000000,2018-07-31 13:20:00.000000000,7,0,0,586155,b20c51dbdc5e64b20d2b398a6fd390bd93642787,7,3,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: Ic1ad7446fce80d7ff92285d64f9c39486441c490
"
openstack%2Foslo.rootwrap~stable%2Frocky~I5593265bd51bab850bfa291ac268034396ed94b0,openstack/oslo.rootwrap,stable/rocky,create-rocky,I5593265bd51bab850bfa291ac268034396ed94b0,Update .gitreview for stable/rocky,MERGED,2018-07-26 12:39:50.000000000,2018-07-31 13:19:59.000000000,2018-07-31 13:19:59.000000000,1,0,0,586153,a91b59b0310249ae8f1485abd992cecbafcdf008,7,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/rocky

Change-Id: I5593265bd51bab850bfa291ac268034396ed94b0
"
openstack%2Fopenstack-helm-infra~master~I849814ee96b99e77940904e0d0dfb210a0915560,openstack/openstack-helm-infra,master,os_exporter_keystone,I849814ee96b99e77940904e0d0dfb210a0915560,Openstack Exporter: Use service domain for service user,MERGED,2018-07-27 17:47:14.000000000,2018-07-31 13:18:43.000000000,2018-07-29 16:07:55.000000000,2,2,0,586630,cc9944f74a18073dcaa5c82dcc18b3d40ffdb7a2,8,3,1,1,17591,Steve Wilkerson,srwilkers,"Openstack Exporter: Use service domain for service user

This changes the openstack exporters service user to use the
service domain instead of the default domain

Change-Id: I849814ee96b99e77940904e0d0dfb210a0915560
"
openstack%2Freleases~master~I6d0b184b326fe0fe4f2540c7b95024a18418a2c4,openstack/releases,master,doc-start,I6d0b184b326fe0fe4f2540c7b95024a18418a2c4,"Add ""---"" document-start to os-acc rocky deliverable",MERGED,2018-07-30 18:35:12.000000000,2018-07-31 13:17:20.000000000,2018-07-31 13:17:20.000000000,1,0,0,587192,7093a9b55bcdae3bd6c69508beb22d6fde24aead,6,2,1,1,11904,Sean McGinnis,SeanM,"Add ""---"" document-start to os-acc rocky deliverable

Validation tests emit warnings due to this deliverable missing the
opening document start.

Change-Id: I6d0b184b326fe0fe4f2540c7b95024a18418a2c4
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fopenstack-helm~master~Ia57e63bbfb7d4266d58711cfb5644ecad34e2280,openstack/openstack-helm,master,rehome/rabbitmq,Ia57e63bbfb7d4266d58711cfb5644ecad34e2280,RabbitMQ: move RabbitMQ chart to OSH-Infra,MERGED,2018-07-25 13:36:23.000000000,2018-07-31 13:09:58.000000000,2018-07-31 13:09:49.000000000,12,1104,0,585749,beda7f77485db6afe8ff8e9ddc93c59a59311c92,17,5,3,24,23928,Pete Birley,portdirect,"RabbitMQ: move RabbitMQ chart to OSH-Infra

This PS moves the RabbitMQ chart to OSH-Infra

Story: 2002204
Task: 585554
Depends-On: https://review.openstack.org/#/c/585746

Change-Id: Ia57e63bbfb7d4266d58711cfb5644ecad34e2280
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fopenstack-ansible-os_barbican~master~I8e873ad9dc8184ec387fe5e1bd95af1b90bb7233,openstack/openstack-ansible-os_barbican,master,move-mq-setup-into-roles,I8e873ad9dc8184ec387fe5e1bd95af1b90bb7233,Move MQ vhost/user creation into role,MERGED,2018-07-17 21:02:13.000000000,2018-07-31 13:09:57.000000000,2018-07-31 13:09:56.000000000,82,29,0,583363,8557ee5bc54d32c5b4a4822fc3fe46081ed52f8e,18,6,4,5,6816,Jesse Pretorius,jesse-pretorius,"Move MQ vhost/user creation into role

There is no record for why we implement the MQ vhost/user creation
outside of the role in the playbook, when we could do it inside the
role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we implement two new variables:
- barbican_oslomsg_rpc_setup_host
- barbican_oslomsg_notify_setup_host

These are used in the role to allow delegation of the MQ vhost/user
setup for each type to any host, but they default to using the first
member of the applicable oslomsg host group.

We also adjust some of the defaults to automatically inherit existing
vars set in group_vars form the integrated build so that we do not
need to do the wiring in the integrated build's group vars. We still
default them in the role too for independent role usage.

Finally, we remove the test mq setup tasks and clean up any unused
or unnecessary variables configured in tests.

Change-Id: I8e873ad9dc8184ec387fe5e1bd95af1b90bb7233
"
openstack%2Fnova~master~I6b0b9bd8baa2e07f7e2b5717067125fbd9b59cdc,openstack/nova,master,,I6b0b9bd8baa2e07f7e2b5717067125fbd9b59cdc,WIP workaround for RHEL7.5 qemu 2.0,ABANDONED,2018-07-31 12:56:33.000000000,2018-07-31 12:56:41.000000000,,1,1,0,587409,05c6448ee8954623df114bdc0b45b3bf70661b83,2,0,1,1,14807,Lenny,lennyb,"WIP workaround for RHEL7.5 qemu 2.0

Change-Id: I6b0b9bd8baa2e07f7e2b5717067125fbd9b59cdc
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I1602f2b90d7166df05e9a34057064010d6a31afe,openstack/tripleo-heat-templates,stable/pike,bug/1784205,I1602f2b90d7166df05e9a34057064010d6a31afe,Do not target Redis over TLS when using HA Redis profile,MERGED,2018-07-29 07:39:16.000000000,2018-07-31 12:56:21.000000000,2018-07-31 12:56:21.000000000,8,1,0,586863,59f4dabd96164045fdead2b71f3d604e1f07ad26,14,5,1,1,20778,Damien Ciabrini,dciabrin,"Do not target Redis over TLS when using HA Redis profile

In Pike, Redis doesn't support being accessed over a TLS tunnel when
configured for HA deployments.

Fix the Redis service configuration by force-disabling the TLS
bits in the generated Redis config, as well as in the Redis clients
configuration (gnocchi_api and HAProxy). The hiera keys are
defined in service_config_settings to be compatible with composable HA.

Change-Id: I1602f2b90d7166df05e9a34057064010d6a31afe
Closes-Bug: 1784205
Depends-On: I3b50ebf50046d33d49fbb555c2ee3bc6b3c2eaf9
"
openstack%2Fpuppet-tripleo~stable%2Fpike~I3b50ebf50046d33d49fbb555c2ee3bc6b3c2eaf9,openstack/puppet-tripleo,stable/pike,bug/1784205,I3b50ebf50046d33d49fbb555c2ee3bc6b3c2eaf9,Do not target Redis over TLS when using HA Redis profile,MERGED,2018-07-29 07:25:05.000000000,2018-07-31 12:56:20.000000000,2018-07-31 12:56:20.000000000,16,2,4,586862,e856816558e2d28dd6e52885089b3685a8cc145f,17,6,1,2,20778,Damien Ciabrini,dciabrin,"Do not target Redis over TLS when using HA Redis profile

In Pike Redis doesn't support being accessed over a TLS tunnel when
configured for HA deployments.

Make sure the Redis clients (gnocchi and HAProxy) won't use TLS to
access Redis and will still honor the other bits of TLS everywhere
configuration. Also, make that change limited to HA and allow
non-HA stack to connect to Redis over a TLS tunnel.

Change-Id: I3b50ebf50046d33d49fbb555c2ee3bc6b3c2eaf9
Partial-Bug: 1784205
"
openstack%2Fpython-senlinclient~master~Ibe30c1402c80061a60b9499681fe00771d72ab0e,openstack/python-senlinclient,master,cluster_functional,Ibe30c1402c80061a60b9499681fe00771d72ab0e,Add cluster and receiver function test,MERGED,2018-03-02 13:30:02.000000000,2018-07-31 12:47:19.000000000,2018-07-31 12:47:19.000000000,414,1,18,549213,b6107826f4a57b7c60f4d2744e63df28e6b0cca7,65,8,10,4,23517,chenyb4,Yuanbin.Chen,"Add cluster and receiver function test

- cluster function test
- policy attach/detach function test
- receiver function test

Add api microversion openstacksdk bug report link:
https://storyboard.openstack.org/#!/story/2003146

Change-Id: Ibe30c1402c80061a60b9499681fe00771d72ab0e
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
"
openstack%2Fsenlin~master~I283d8acc6be49262a3f40e62c84688a0b121b68c,openstack/senlin,master,,I283d8acc6be49262a3f40e62c84688a0b121b68c,Remove TODO doc migrate record,MERGED,2018-07-30 06:19:41.000000000,2018-07-31 12:43:10.000000000,2018-07-31 12:43:10.000000000,0,1,0,586944,412ec0be6603c89824a5c9c6e3e59fc6c646ee1b,9,5,1,1,23517,chenyb4,Yuanbin.Chen,"Remove TODO doc migrate record

In this patch was support nova profile migrate operation.
https://review.openstack.org/#/c/571396/

Change-Id: I283d8acc6be49262a3f40e62c84688a0b121b68c
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
"
openstack%2Fneutron-lib~master~I175969c989c4c3a287693691579b3ec6ae8bdad2,openstack/neutron-lib,master,zuulv3-jobs,I175969c989c4c3a287693691579b3ec6ae8bdad2,add tempest full neutron src zuul job,ABANDONED,2018-07-27 16:23:55.000000000,2018-07-31 12:35:14.000000000,,10,0,11,586613,0f5c9df0c5348bf653d41d591338a374771f982f,22,3,6,1,5367,boden,boden,"add tempest full neutron src zuul job

As part of the migration to zuul v3 the legacy-tempest-dsvm-neutron-src
was created with the end goal of replacing the legacy job with a v3
based job. This patch adds a new in-repo zuul v3 job that runs the
tempest full suite with neutron/master that will replace the legacy
job.

See https://review.openstack.org/#/c/587112/ for details on removing
the legacy job from neutron-lib in the project-config.

Change-Id: I175969c989c4c3a287693691579b3ec6ae8bdad2
"
openstack%2Ftripleo-ci~master~I9a3fcaed9bbc84bee390295d393d75611cfe11d6,openstack/tripleo-ci,master,bug/1783399,I9a3fcaed9bbc84bee390295d393d75611cfe11d6,Remove STATS vars from TOCI,ABANDONED,2018-07-31 12:07:43.000000000,2018-07-31 12:24:22.000000000,,0,5,0,587398,c969fd189cc95d7b03c691e65190797ac7ae9277,2,0,1,2,27898,Quique Llorente,quiquell,"Remove STATS vars from TOCI

They will be re-implemented after TOCI refactoring

Change-Id: I9a3fcaed9bbc84bee390295d393d75611cfe11d6
"
openstack%2Ftripleo-heat-templates~master~I33fa198228e3e3adcb8e93146d9a9caa46a28895,openstack/tripleo-heat-templates,master,bug/1780932/role_specific_defaults,I33fa198228e3e3adcb8e93146d9a9caa46a28895,Add OVS-DPDK parameter as part of roles file,MERGED,2018-07-10 12:43:48.000000000,2018-07-31 12:21:09.000000000,2018-07-31 12:21:08.000000000,12,0,4,581352,e7d39847bc8d2829a40104a62d8064535910ac95,21,9,2,3,18575,Saravanan KR,saravanankr,"Add OVS-DPDK parameter as part of roles file

Adding mandatory OVS-DPDK parameter to the roles file instead of
environment file, as it requires to be added for each custom role.

Change-Id: I33fa198228e3e3adcb8e93146d9a9caa46a28895
"
openstack%2Fopenstack-ansible-os_swift~master~I7f2de9d1afa25f385ab4b174da1cc4d27db55338,openstack/openstack-ansible-os_swift,master,bp/python-build-install-simplification,I7f2de9d1afa25f385ab4b174da1cc4d27db55338,Switch swift to use different inventory_hostname,ABANDONED,2018-07-22 12:24:36.000000000,2018-07-31 12:20:31.000000000,,6,5,0,584633,1bec733d8af629306b1ee47213c3dfb1e79bad47,9,2,3,5,6816,Jesse Pretorius,jesse-pretorius,"Switch swift to use different inventory_hostname

Our role tests execute as non-root users, and the roles
need to access the environment variables for that non-root
user. Ansible, when targeting localhost, changes to
'connection: local' and thus breaks everything we need
to do against localhost as root unless we use 'become: true',
but we if generally use that against remote hosts we lose
the environment variables for the non-root user.

As such, we switch the inventory to target 'swift-host1'
instead, which has the address '127.0.0.1', so that we do not
have to deal with the implict connection type changes implemented
by Ansible.

We also add the rabbitmq/oslomsg groups to the inventory as they
are now required by the keystone role.

Depends-On: https://review.openstack.org/584632
Change-Id: I7f2de9d1afa25f385ab4b174da1cc4d27db55338
"
openstack%2Fglance~master~I210bf81823ca30ba0e3679fe722e4e9518273a5a,openstack/glance,master,bug/1783734,I210bf81823ca30ba0e3679fe722e4e9518273a5a,Fix RuntimeError when running under py37 - StopIteration,ABANDONED,2018-07-26 09:50:30.000000000,2018-07-31 12:03:05.000000000,,2,0,0,586034,d50e775201f8f91794c970e841ee0dfba2fb5a99,4,2,1,1,27339,Michal Arbet,michalarbet,"Fix RuntimeError when running under py37 - StopIteration

Change-Id: I210bf81823ca30ba0e3679fe722e4e9518273a5a
"
openstack%2Fcinder~master~I660c934da053b576f817cdd349949873b0c30193,openstack/cinder,master,bug/1783028,I660c934da053b576f817cdd349949873b0c30193,Add release note for force delete MV fix,MERGED,2018-07-26 17:34:33.000000000,2018-07-31 11:50:44.000000000,2018-07-27 00:42:08.000000000,9,0,0,586302,fe69f679369057a7c381178f770bf68d0bc1cee0,31,25,1,1,11904,Sean McGinnis,SeanM,"Add release note for force delete MV fix

Change Ida04fc8a7a7af541547ea196a3cbb5a287714eea fixed an issue where we
were checking the wrong microversion for support of the force delete
functionality. This adds a release note to call out that previously this
call might have been working when using a lower microversion but will no
longer be allowed.

Related-bug: #1783028

Change-Id: I660c934da053b576f817cdd349949873b0c30193
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fkuryr-tempest-plugin~master~I37a5805f7670f905db24ddf86d3a4b4839453a6d,openstack/kuryr-tempest-plugin,master,route_tests,I37a5805f7670f905db24ddf86d3a4b4839453a6d,Get rid of cmp() usage and randomize pod labels,MERGED,2018-07-17 11:00:50.000000000,2018-07-31 11:45:37.000000000,2018-07-31 11:45:37.000000000,54,17,6,583200,d8c3bf13ecccbf69078adac895b8d769efe41a0d,48,7,8,2,11600,Michał Dulko,dulek,"Get rid of cmp() usage and randomize pod labels

cmp() builtin is not available in Python 3. This commit removes its
usages. It also turns out we were comparing int to string in
assertNotEqual() in Services tests, so that was always passing.

Also tests were interfering with each other as labels added for pods in
Services tests were hardcoded. That's fixed here as well.

Change-Id: I37a5805f7670f905db24ddf86d3a4b4839453a6d
"
openstack%2Fmistral~master~Ic0a3c24f72d91a8a87ffcf81db763058bcbf8566,openstack/mistral,master,bug/1783291,Ic0a3c24f72d91a8a87ffcf81db763058bcbf8566,Support Manila actions in Mistral,MERGED,2018-07-24 10:04:01.000000000,2018-07-31 11:30:40.000000000,2018-07-31 11:30:40.000000000,246,1,0,585199,a2756a34c2638a202c99d960f6c1f86e48c7b626,14,4,2,9,5575,Jose Castro Leon,jose-castro-leon,"Support Manila actions in Mistral

Adds manila actions into the available list of actions for mistral

Change-Id: Ic0a3c24f72d91a8a87ffcf81db763058bcbf8566
Closes-Bug: #1783291
"
openstack%2Fmonasca-common~master~I103c864832cd85ec528080cb7d49393c09127c60,openstack/monasca-common,master,docker,I103c864832cd85ec528080cb7d49393c09127c60,Implement MySQL check script for Docker,MERGED,2018-07-25 12:06:09.000000000,2018-07-31 11:23:22.000000000,2018-07-31 11:23:21.000000000,83,9,0,585725,dcea427a6201e31308219313ef9539557062614b,12,4,3,2,21922,Dobroslaw Zybort,dobrolaw.zybort,"Implement MySQL check script for Docker

Story: 2001694
Task: 23321

Change-Id: I103c864832cd85ec528080cb7d49393c09127c60
"
openstack%2Fopenstacksdk~master~I288f02551555fff3e8b350fc6d7c6ae8f60c405c,openstack/openstacksdk,master,,I288f02551555fff3e8b350fc6d7c6ae8f60c405c,python-shade expose MTU setting.,MERGED,2018-07-30 17:16:15.000000000,2018-07-31 11:06:09.000000000,2018-07-31 11:06:09.000000000,58,3,0,587167,a1fc820a2f3669f64d222506c17be99c4d6be7b7,14,4,2,3,2,Monty Taylor,mordred,"python-shade expose MTU setting.

The networking API v2 specification, which is implemented by
openstack neutron, features an optional MTU parameter - when
creating a network, this allows operators to specify the value
for the maximum transmission unit value.

Change-Id: I288f02551555fff3e8b350fc6d7c6ae8f60c405c
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I4514ac51729a3156ed263d680e23ef5292fc5fca,openstack/tripleo-heat-templates,stable/queens,bug/1784084_queens,I4514ac51729a3156ed263d680e23ef5292fc5fca,Fix errors using multiple-nics templates w/o VLANs defined,MERGED,2018-07-27 23:15:05.000000000,2018-07-31 11:06:07.000000000,2018-07-31 11:06:07.000000000,3,3,0,586722,4da8dfee18fc3e1b13e48ae44645e8b5da5fd278,11,7,1,3,12398,Dan Sneddon,dsneddon,"Fix errors using multiple-nics templates w/o VLANs defined

The multiple-nics templates shouldn't require VLANs to be
defined for the networks, since the networks are delivered
on flat interfaces without VLANs. However, since no default
is defined, the templates fail if VLANs are not defined in
network_data.yaml. This change adds a default of """".

Closes-bug: 1784084
Change-Id: I4514ac51729a3156ed263d680e23ef5292fc5fca
(cherry picked from commit 8ec80c7cfd94f1a380207283da3cd74dd6e7153b)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Idab11c77d576ed682ff7068674ac294554baa58e,openstack/tripleo-heat-templates,stable/queens,containers-default-stable/queens,Idab11c77d576ed682ff7068674ac294554baa58e,"Revert ""Move remnants of environments/services-docker""",MERGED,2018-07-27 08:40:23.000000000,2018-07-31 11:06:06.000000000,2018-07-31 11:06:06.000000000,18,0,0,586484,7881d577b0e3f131a071add68cbb90b1ed28722a,15,8,3,2,6926,Bogdan Dobrelya,bogdando,"Revert ""Move remnants of environments/services-docker""

This partially reverts commit
ed22431c8d77aa4c0f8aef7a87b1fc98ddd547bd.

Only restore the removed services-docker env files to not
break minor updates and follow stable branch.

Change-Id: Idab11c77d576ed682ff7068674ac294554baa58e
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I5517241d78f396faefde41dceba8db4a866dffed,openstack/tripleo-heat-templates,stable/queens,containers-default-stable/queens,I5517241d78f396faefde41dceba8db4a866dffed,"Revert ""Delete not-used services-docker files""",MERGED,2018-07-27 08:31:04.000000000,2018-07-31 11:06:04.000000000,2018-07-31 11:06:04.000000000,321,3,0,586480,3bee49b5d6f5a6f41345275dc94dd6c154958dd7,20,14,4,35,6926,Bogdan Dobrelya,bogdando,"Revert ""Delete not-used services-docker files""

This partially reverts commit
fcbaf113f4e35613dd68866e0260d686f4534dfb.

Only restore the removed services-docker env files to not
break minor updates and follow stable branch.
Adjust YAML validator to not fail on services-docker files
int the repo tree.

Change-Id: I5517241d78f396faefde41dceba8db4a866dffed
"
openstack%2Ftripleo-quickstart-extras~master~I6af87d5013c8311eb36ebddf947bd921c6fe13f0,openstack/tripleo-quickstart-extras,master,remove_spaces,I6af87d5013c8311eb36ebddf947bd921c6fe13f0,Remove single quote from docker inspect command in tempest run,MERGED,2018-07-26 13:28:51.000000000,2018-07-31 11:06:03.000000000,2018-07-31 11:06:03.000000000,7,3,3,586213,5241e085dae699ac836f8969e8064e79fb674d04,59,11,9,2,12393,chandan kumar,chkumar246,"Remove single quote from docker inspect command in tempest run

* Shell commands are not interpreted in single quotes and
  this patch fixes it.
* It also remove tempest_data dir created in previous tempest
  container run to fix dir exists

Change-Id: I6af87d5013c8311eb36ebddf947bd921c6fe13f0
"
openstack%2Fopenstacksdk~master~If984a82ca5f6fb69ee644f4fa84333df09d7f8bc,openstack/openstacksdk,master,,If984a82ca5f6fb69ee644f4fa84333df09d7f8bc,Adds toggle port security on network create,MERGED,2018-07-30 17:16:15.000000000,2018-07-31 11:02:29.000000000,2018-07-31 11:02:29.000000000,53,1,0,587166,8eb788af07ed88166db7b8a58ce1fecacd7a29b1,14,4,2,4,2,Monty Taylor,mordred,"Adds toggle port security on network create

Added a new property, 'port_security_enabled' which is a boolean to
enable or disable port_secuirty during network creation. The default
behavior will enable port security, security group and anti spoofing
will act as before. When the attribute is set to False, security
group and anti spoofing are disabled on the ports created on this
network.

Change-Id: If984a82ca5f6fb69ee644f4fa84333df09d7f8bc
"
openstack%2Fkolla-ansible~master~Id690a652bc9facf1c3e39358f548ab7ddd967d80,openstack/kolla-ansible,master,bug/1731498,Id690a652bc9facf1c3e39358f548ab7ddd967d80,Restructure the vpnaas roles,MERGED,2017-12-25 10:40:33.000000000,2018-07-31 11:00:59.000000000,2018-05-04 06:36:12.000000000,34,214,0,530022,9fe70f45f3316b9afe0f946fc412d11aa66b6fba,53,11,14,17,19779,Chason Chan,chenxing,"Restructure the vpnaas roles

As neutron-vpnaas-agent has been loaded just inside of the existing l3 agent
rather than requiring operators to run a completely different binary with a
subclass of the existing L3 agent[1]. We need restructure this role to fit
with this new feature.

[1] https://review.openstack.org/488247

Depends-On: I47cd8ba5a14da3c76d5b1eb0b4c0cf0c729eb2ff
Change-Id: Id690a652bc9facf1c3e39358f548ab7ddd967d80
Implements: blueprint restructure-neutron-vpnaas
Closes-Bug: #1731498
"
openstack%2Fnova~master~I295fe539321bcce3449b522d54121985577c4b35,openstack/nova,master,bug/1778227,I295fe539321bcce3449b522d54121985577c4b35,Update install guide for placement database configuration,MERGED,2018-06-26 07:41:26.000000000,2018-07-31 10:32:49.000000000,2018-07-31 10:32:48.000000000,49,17,9,578013,e06c287cbf0639d85533b27527ffd562898db9af,33,20,2,3,19779,Chason Chan,chenxing,"Update install guide for placement database configuration

Change-Id: I295fe539321bcce3449b522d54121985577c4b35
Partial-Bug: #1778227
"
openstack%2Fnova~master~I5a21350e48a637e581d269fb567bb96c1899e174,openstack/nova,master,bug/1768927,I5a21350e48a637e581d269fb567bb96c1899e174,Fix being able to hard reboot a pausing instance,MERGED,2018-05-03 19:09:21.000000000,2018-07-31 10:32:41.000000000,2018-07-31 10:32:41.000000000,37,20,10,566143,3437baedf646c7cd3da43440368edc194a880db8,38,20,2,4,6873,Matt Riedemann,mriedem,"Fix being able to hard reboot a pausing instance

The allowed task states for a hard reboot include 'pausing'
but the instance.save(expected_task_states) doesn't include
'pausing', so if you try to hard reboot a pausing instance
it will fail with UnexpectedTaskStateError.

This makes the expected_task_states passed to Instance.save
use the same list of allowed task states that we use in the
check_instance_state decorator, and re-writes the unit test
to use an actual database to verify the Instance.save()
behavior and task state check in the DB API.

While we're at it, the API reference is updated to indicate
the allowed states for each type of reboot.

Change-Id: I5a21350e48a637e581d269fb567bb96c1899e174
Closes-Bug: #1768927
"
openstack%2Fnetworking-odl~master~I510f9ff841bc97fdb420e39fc5c56e0d2ef51242,openstack/networking-odl,master,functional_tests_l3_flavors-patch46,I510f9ff841bc97fdb420e39fc5c56e0d2ef51242,ODL l3 service provider,MERGED,2017-09-14 19:44:05.000000000,2018-07-31 10:30:46.000000000,2018-07-31 10:30:46.000000000,381,0,186,504182,ce493919ca7089ac14e48ef779575614baba923e,156,9,47,4,333,Isaku Yamahata,yamahata,"ODL l3 service provider

L3 flavor drivers to enable flavor with ODL backend

Co-Authored-By: Manjeet Singh Bhatia<manjeet.s.bhatia@intel.com>
Depends-On: If20b11f0587f1ed30db72d97c15b20d4c6e87543
Change-Id: I510f9ff841bc97fdb420e39fc5c56e0d2ef51242
"
openstack%2Fmanila~stable%2Fqueens~I27bf9f0d1be666f4151281ca52d6bb3377f856ff,openstack/manila,stable/queens,bug/1772026,I27bf9f0d1be666f4151281ca52d6bb3377f856ff,[NetApp driver] NVE License not present fix,MERGED,2018-07-30 18:05:05.000000000,2018-07-31 10:23:51.000000000,2018-07-31 10:23:51.000000000,21,13,0,587184,31f35aed04d7ca2ac76ebe5c6df09e22331849cb,11,6,1,3,14567,Rodrigo Barbieri,ganso,"[NetApp driver] NVE License not present fix

Since the addition of NVE support in the NetApp ONTAP driver,
the driver fails to start when a VE license is not present on
a 9.1 (or later) ONTAP box.

This patch fixes the problem by improving error handling.

Change-Id: I27bf9f0d1be666f4151281ca52d6bb3377f856ff
Closes-Bug: #1772026
(cherry picked from commit 61f82e492ec95befd9fa623ec035439a6b4a4671)
"
openstack%2Fneutron-lib~master~I8a9464e372eee0dde7804003868c24db026b4396,openstack/neutron-lib,master,,I8a9464e372eee0dde7804003868c24db026b4396,Add keyword 'is_filter' to binding extended,MERGED,2018-07-18 02:50:54.000000000,2018-07-31 10:20:16.000000000,2018-07-31 10:20:16.000000000,5,3,4,583437,2847043efd0724d3b948daee5b44fb3bf2c11303,15,4,2,1,27654,Hongbin Lu,hongbin.lu,"Add keyword 'is_filter' to binding extended

Change-Id: I8a9464e372eee0dde7804003868c24db026b4396
"
openstack%2Fnetworking-calico~master~I3578365248e7535a5ed6b9041eacf77b07537750,openstack/networking-calico,master,watcher-loop-connectivity-loss,I3578365248e7535a5ed6b9041eacf77b07537750,Handle connectivity loss when reading etcd snapshot,MERGED,2018-07-30 18:39:31.000000000,2018-07-31 10:18:30.000000000,2018-07-31 10:18:30.000000000,21,14,0,587193,8b5691fbd1b1f3a3d64e1775b1e40fb53d07bd69,6,2,1,1,13734,Neil Jerram,neiljerram,"Handle connectivity loss when reading etcd snapshot

The thinking here was that no time passes between reading the cluster
status and ID, and reading a new snapshot, and therefore that if we've
just successfully read cluster ID and status, the etcd server must be
available and so it should be exceedingly unlikely for the etcd server
to be unavailable for the snapshot read.

However, a customer has reported just such a problem, with these
timings:

13:56:00 A subnet was created or updated.
13:56:00 Start watching for further changes after that.
13:56:12 Start of loop again, successfully read cluster ID and current revision.
13:56:19 ConnectionFailedError while trying to read new snapshot.

Detailed traceback:

2018-04-19 13:56:12,623 [140364445874128] (INFO) etcdutils: Current cluster_id 12001907477082097778, revision 57024
2018-04-19 13:56:19,628 [140364445874128] (ERROR) dhcp_agent: Exception in SubnetWatcher.start()
2018-04-19 13:56:19.628 46885 ERROR networking_calico.agent.dhcp_agent Traceback (most recent call last):
2018-04-19 13:56:19.628 46885 ERROR networking_calico.agent.dhcp_agent File ""/usr/lib/python2.7/dist-packages/networking_calico/agent/dhcp_agent.py"", line 495, in start
2018-04-19 13:56:19.628 46885 ERROR networking_calico.agent.dhcp_agent super(SubnetWatcher, self).start()
2018-04-19 13:56:19.628 46885 ERROR networking_calico.agent.dhcp_agent File ""/usr/lib/python2.7/dist-packages/networking_calico/etcdutils.py"", line 167, in start
2018-04-19 13:56:19.628 46885 ERROR networking_calico.agent.dhcp_agent revision=last_revision):
2018-04-19 13:56:19.628 46885 ERROR networking_calico.agent.dhcp_agent File ""/usr/lib/python2.7/dist-packages/networking_calico/etcdv3.py"", line 276, in get_prefix
2018-04-19 13:56:19.628 46885 ERROR networking_calico.agent.dhcp_agent revision=str(revision))
2018-04-19 13:56:19.628 46885 ERROR networking_calico.agent.dhcp_agent File ""/usr/local/lib/python2.7/dist-packages/etcd3gw/client.py"", line 216, in get
2018-04-19 13:56:19.628 46885 ERROR networking_calico.agent.dhcp_agent json=payload)
2018-04-19 13:56:19.628 46885 ERROR networking_calico.agent.dhcp_agent File ""/usr/local/lib/python2.7/dist-packages/etcd3gw/client.py"", line 82, in post
2018-04-19 13:56:19.628 46885 ERROR networking_calico.agent.dhcp_agent raise _EXCEPTIONS_BY_CODE[resp.status_code](resp.reason)
2018-04-19 13:56:19.628 46885 ERROR networking_calico.agent.dhcp_agent ConnectionFailedError: Service Unavailable
2018-04-19 13:56:19.628 46885 ERROR networking_calico.agent.dhcp_agent
2018-04-19 13:56:19,630 [140364445874128] (INFO) etcdutils: Stop watching status tree

So let's allow for etcd connectivity loss while reading the snapshot,
and handle the same as earlier in the loop, i.e. by waiting 5s and then
retrying.

Change-Id: I3578365248e7535a5ed6b9041eacf77b07537750
"
openstack%2Fnetworking-calico~master~I8a68ccc98e7c2125d12612b84aba8b1a85a2ae58,openstack/networking-calico,master,dhcp-ut,I8a68ccc98e7c2125d12612b84aba8b1a85a2ae58,Fix DHCP UT so that it works locally as well as in Zuul CI,MERGED,2018-07-30 16:54:42.000000000,2018-07-31 10:17:11.000000000,2018-07-31 10:17:11.000000000,3,2,0,587141,80749d65a7760c7a11b1c02f48e4d1af92e26c49,6,2,1,2,13734,Neil Jerram,neiljerram,"Fix DHCP UT so that it works locally as well as in Zuul CI

Zuul CI runs with Neutron master code (so effectively ignoring the
neutron line in test-requirements.txt), whereas running 'tox -r -e py27'
checks out the version that test-requirements.txt says.

Going from Neutron master back to Neutron 12.0.0, there are changes such
that test_build_cmdline fails, and also such that there's a bad
import (to/from neutron-lib) for an L3 constant.  The changes here fix
both of those problems.

Change-Id: I8a68ccc98e7c2125d12612b84aba8b1a85a2ae58
"
openstack%2Fopenstack-ansible-tests~master~I87b26cda63211fbafab3fd636861eb538cbd1408,openstack/openstack-ansible-tests,master,bp/python-build-install-simplification,I87b26cda63211fbafab3fd636861eb538cbd1408,Use root remote_user for swift setup,ABANDONED,2018-07-22 12:05:04.000000000,2018-07-31 10:17:04.000000000,,3,16,0,584632,6ec0a78f853cc30e56931dd47ed1102c71cb01ef,7,2,2,2,6816,Jesse Pretorius,jesse-pretorius,"Use root remote_user for swift setup

Our role tests execute as non-root users, and the roles
need to access the environment variables for that non-root
user. Ansible, when targeting localhost, changes to
'connection: local' and thus breaks everything we need
to do against localhost as root unless we use 'become: true',
but we if generally use that against remote hosts we lose
the environment variables for the non-root user.

As such, we set the play to use 'remote_user: root' and will
change the test inventory to not use localhost so that we do
not have to deal with the implict connection type changes
implemented by Ansible.

Change-Id: I87b26cda63211fbafab3fd636861eb538cbd1408
"
openstack%2Ftempest~master~I919d79443a1bf044a1b6e56a60fe7f6009ac4f8e,openstack/tempest,master,invalid_image_url,I919d79443a1bf044a1b6e56a60fe7f6009ac4f8e,Fix broken image api ref url,MERGED,2018-07-27 03:03:30.000000000,2018-07-31 10:17:02.000000000,2018-07-31 09:37:43.000000000,5,5,3,586399,2cdc78f3fdbfe75dbd900d74de0febedca637aa0,30,8,2,1,20190,zhufl,zhufl,"Fix broken image api ref url

This is to fix some broken image api ref urls.

Change-Id: I919d79443a1bf044a1b6e56a60fe7f6009ac4f8e
"
openstack%2Frally~master~I124986ee83f32627699973d47c62ee706c485cc2,openstack/rally,master,functionalBug,I124986ee83f32627699973d47c62ee706c485cc2,[ci] Fix floating-bug in functional tests,MERGED,2018-07-26 10:22:44.000000000,2018-07-31 10:10:08.000000000,2018-07-31 10:10:07.000000000,8,13,0,586037,199650701a7cd384721cf8d13421822710b84766,10,3,2,1,9545,Andrey Kurilin,akurilin,"[ci] Fix floating-bug in functional tests

There are 2 functional tests `TaskTestCase.test_new_report_one_uuid_one_file`
and `TaskTestCase.test_new_report_one_file_with_static_libs`. There
tests use the same path path for temporary results file. Depending on
the order of execution, one of these tests can remove the result file of
another which produces an issue.

Let's do not use hardcoded paths and use just random ones.

Change-Id: I124986ee83f32627699973d47c62ee706c485cc2
"
openstack%2Frally~master~Ib4d00b40ffea91bbaaefabe1382bd0cc76888798,openstack/rally,master,changelog,Ib4d00b40ffea91bbaaefabe1382bd0cc76888798,Update the new feature of `rally task detailed` into CHANGELOG,MERGED,2018-07-26 08:09:07.000000000,2018-07-31 10:09:20.000000000,2018-07-31 10:09:20.000000000,8,0,4,585988,95d25e552ae903cb5978d04de8cef5ef9a6eb260,9,2,2,1,21528,chenhb,chenhb,"Update the new feature of `rally task detailed` into CHANGELOG

Change-Id: Ib4d00b40ffea91bbaaefabe1382bd0cc76888798
"
openstack%2Fkolla-ansible~master~Id4bcbffad2392d8b2dabd8359330139448c6f7b7,openstack/kolla-ansible,master,add-chrony-image,Id4bcbffad2392d8b2dabd8359330139448c6f7b7,Fix depends on kolla changes,MERGED,2018-07-31 08:13:22.000000000,2018-07-31 10:07:44.000000000,2018-07-31 10:07:44.000000000,1,1,0,587331,cc5cdba7c8fd397857ecbc45abbdb78386cb0bde,8,4,1,1,19316,Eduardo Gonzalez,egonzalez90,"Fix depends on kolla changes

Depends on needs chrony image to succeed deploy

Change-Id: Id4bcbffad2392d8b2dabd8359330139448c6f7b7
"
openstack%2Fmonasca-common~master~I4486c4974de38dea33739fdc470f38fd99d428fa,openstack/monasca-common,master,docker,I4486c4974de38dea33739fdc470f38fd99d428fa,Make health checks more frequent in Docker,MERGED,2018-07-23 12:04:21.000000000,2018-07-31 10:01:40.000000000,2018-07-31 10:01:40.000000000,3,2,4,584844,2c1a2ed2258e6139a12aac7f7daddafd6b1a84bb,34,6,4,2,21922,Dobroslaw Zybort,dobrolaw.zybort,"Make health checks more frequent in Docker

5 min was copy/paste from official docs. After reading more about health
checks in real world usage most examples was using duration around
5 seconds for interval. By default docker will show if service is
unhealthy after 3 intervals return error. So in previous timing service
would be taken out of poll (by e.g. docker swarm) after 15 min. For all
this time it would be returning errors for any communication to it. Now
it will be removed from poll of running services after 15 seconds.

Regarding timeout more examples was using something shorter. For all
services we are using if anything respond longer than 2 seconds then
something is wrong with this service. Monasca is not web service but
back-end service that should have high throughput.

Change-Id: I4486c4974de38dea33739fdc470f38fd99d428fa
"
openstack%2Fnetworking-onos~stable%2Focata~If3ef8828affb2fb169fb1aac87729dfd118e3d29,openstack/networking-onos,stable/ocata,ocata,If3ef8828affb2fb169fb1aac87729dfd118e3d29,Fixes multiple python files to follow up Ocata changes.,MERGED,2018-07-27 07:43:48.000000000,2018-07-31 09:54:55.000000000,2018-07-31 09:54:55.000000000,14,44,0,586460,5a100f7e6897f98dd525ff8679d9f12293cbc4cf,14,3,5,3,26288,Daniel Park,DanielPark,"Fixes multiple python files to follow up Ocata changes.

Change-Id: If3ef8828affb2fb169fb1aac87729dfd118e3d29
"
openstack%2Ftraining-guides~master~I0f28396f763072cfb9fbecc82f0bad99bd6ca92a,openstack/training-guides,master,releases_fix,I0f28396f763072cfb9fbecc82f0bad99bd6ca92a,[upstream] Add/ Break up Release Cycle Exercises,MERGED,2018-07-30 14:49:41.000000000,2018-07-31 09:54:28.000000000,2018-07-31 09:54:28.000000000,24,22,0,587088,687396ce0a90de1fe0919899ca42b2cc0b391b70,10,4,2,1,16708,Kendall Nelson,kjnelson,"[upstream] Add/ Break up Release Cycle Exercises

This patch breaks up the first long exercise into smaller ones and
adds a few new ones.

Change-Id: I0f28396f763072cfb9fbecc82f0bad99bd6ca92a
"
openstack%2Fnetworking-onos~stable%2Fpike~Ia3b751dec56496318937e8a6fc4d228b5f9205f1,openstack/networking-onos,stable/pike,586475,Ia3b751dec56496318937e8a6fc4d228b5f9205f1,"Supports smart NIC feature - LiquidIO from Cavium provides full offloading of OVS on it's NIC card. - LiquidIO support sriov port and it uses direct port type. - When VM with direct port is instantiated, networking-onos bind port and transmit appropriate REST msg to ONOS",MERGED,2018-07-27 08:23:05.000000000,2018-07-31 09:50:22.000000000,2018-07-31 09:50:22.000000000,50,8,0,586475,9b437e4cf02782f2408de66bcb444f548835de89,8,3,2,2,26288,Daniel Park,DanielPark,"Supports smart NIC feature
- LiquidIO from Cavium provides full offloading of OVS on it's NIC card.
- LiquidIO support sriov port and it uses direct port type.
- When VM with direct port is instantiated, networking-onos bind port and transmit appropriate REST msg to ONOS

Change-Id: Ia3b751dec56496318937e8a6fc4d228b5f9205f1
"
openstack%2Fnetworking-onos~stable%2Fpike~I2d5668aa316ab9189b0132800af256dc842f32ab,openstack/networking-onos,stable/pike,flat_support,I2d5668aa316ab9189b0132800af256dc842f32ab,Supports flat type.,MERGED,2018-07-27 07:47:10.000000000,2018-07-31 09:50:06.000000000,2018-07-31 09:50:06.000000000,4,2,0,586461,88184375e1c8456f329a04e71a260b4dd041e870,8,3,1,2,26288,Daniel Park,DanielPark,"Supports flat type.

Change-Id: I2d5668aa316ab9189b0132800af256dc842f32ab
"
openstack%2Fvitrage~master~Ic491fcfcbf4d1d2def7b9e18974ea771a4a90916,openstack/vitrage,master,eyalb/deprecated,Ic491fcfcbf4d1d2def7b9e18974ea771a4a90916,deprecate the static_physical options,MERGED,2018-07-26 12:43:49.000000000,2018-07-31 09:47:22.000000000,2018-07-31 09:47:22.000000000,43,3,0,586199,c2c273d7c14e0048b121e197e6f0a81137e08f3b,14,4,3,2,19134,Eyal,eyalb,"deprecate the static_physical options

Story: 2002674
Task: 22491

Change-Id: Ic491fcfcbf4d1d2def7b9e18974ea771a4a90916
"
openstack%2Fpython-cinderclient~master~I37744bfd0b0bc59682c3e680c1200f608ad3991b,openstack/python-cinderclient,master,fix_unecessary_params,I37744bfd0b0bc59682c3e680c1200f608ad3991b,Remove unnecessary parameters from volume create APIs,MERGED,2018-06-08 08:40:44.000000000,2018-07-31 09:40:55.000000000,2018-07-26 21:27:19.000000000,9,70,2,573622,8d566689001a442c2312e366acc167af88888fd3,20,8,2,6,24645,Pooja Jadhav,poojajadhav,"Remove unnecessary parameters from volume create APIs

As per Cinder code, following parameters are not required to be
passed in the request body of create volume API.

    * status
    * user_id
    * attach_status
    * project_id
    * source_replica

If you pass these parameters, previously it was ignored but in the
schema validation changes[1] we don't allow additionalProperties to be
passed in the request body. If user passes additional parameters which
are not as per API specs[2], then it will be rejected with 400 error.
On patch[3], tempest tests: test_volume_snapshot_create_get_list_delete,
test_volume_create_get_delete"" are failing because of these unnecessary
parameters.

This patch removes these unnecessary parameters passed to the create
Volume API.

[1]https://blueprints.launchpad.net/cinder/+spec/json-schema-validation
[2]https://review.openstack.org/#/c/507386/
[3]https://review.openstack.org/#/c/573093/

Change-Id: I37744bfd0b0bc59682c3e680c1200f608ad3991b
"
openstack%2Fironic~master~Ib35f095807f6bb3f6df97b007f171f678e5a1d5b,openstack/ironic,master,bug/1628434,Ib35f095807f6bb3f6df97b007f171f678e5a1d5b,"Improve the ""Ironic behind mod wsgi"" documentation",ABANDONED,2018-07-31 09:36:14.000000000,2018-07-31 09:37:55.000000000,,4,4,0,587361,85377d65c0f4ca61194bd96198c8ce46e45b7628,2,0,1,1,28427,Tuan Do Anh,tuanda,"Improve the ""Ironic behind mod wsgi"" documentation

Change-Id: Ib35f095807f6bb3f6df97b007f171f678e5a1d5b
Co-authored-By: Do Anh Tuan <tuanda@vn.fujitsu.com>
"
openstack%2Fzun~master~Ie17290703241a2d2ff0a3185cc65eca2bd75f333,openstack/zun,master,bug/1783517,Ie17290703241a2d2ff0a3185cc65eca2bd75f333,Delete volume when failed to attach,ABANDONED,2018-07-30 05:30:02.000000000,2018-07-31 09:29:14.000000000,,7,1,2,586938,377ce7567cdd09af02f9e27ed5c150e5af8ed76a,7,5,1,2,23829,weikeyou,weikeyou,"Delete volume when failed to attach

If failed to attach the volume while calling self.driver.attach_volume,
the function _attach_volume will destroy the Volumemapping table of this
failed volume. So, this failed volume will not be deleted in
_fail_container.
  Delete the volume which auto_remove is true before destroying its
  volumemapping.

Change-Id: Ie17290703241a2d2ff0a3185cc65eca2bd75f333
Closes-bug: #1783517
"
openstack%2Fmanila~master~Ia94ad4334f8332ce8aeea312c866bc2de07ce826,openstack/manila,master,,Ia94ad4334f8332ce8aeea312c866bc2de07ce826,QNAP: Add support for QES 2.1.0,ABANDONED,2018-07-19 06:57:32.000000000,2018-07-31 09:18:55.000000000,,8,3,0,583869,60fa019f8e94869abe81194a15f96602be90ea99,10,3,1,2,26134,Chris Yang,chrisyang,"QNAP: Add support for QES 2.1.0

This patch do the following change to the QNAP Manila driver:
1. Add support for QNAP QES firmware 2.1.0.

Change-Id: Ia94ad4334f8332ce8aeea312c866bc2de07ce826
"
openstack%2Fos-collect-config~master~I88182a9a9af74e9760b2ec9b500971f06293f0b8,openstack/os-collect-config,master,story/2002781,I88182a9a9af74e9760b2ec9b500971f06293f0b8,Add region support,MERGED,2018-07-06 04:32:38.000000000,2018-07-31 09:11:59.000000000,2018-07-11 03:30:00.000000000,27,13,1,580554,5bebbf1654f8eea8d74a4e403ac6bd3331a7fedf,14,6,2,2,6484,Feilong Wang,flwang,"Add region support

Now Heat is missing the region support for software deployment
and so did os-collect-config. This patch fixes it but keeps the
backward compatibility.

For changes in Heat pls refer Iec6f3606c9fdf8474f393b0990356f34d38bcf75
and https://review.openstack.org/580470

For changes in Heat agents please refer
I8e0518fa61e237ec055834dd4bebe0fc87cd6627

Story: 2002781

Change-Id: I88182a9a9af74e9760b2ec9b500971f06293f0b8
"
openstack%2Fneutron-vpnaas~master~I613f7670f10c0a176757907181dd687d18632edd,openstack/neutron-vpnaas,master,,I613f7670f10c0a176757907181dd687d18632edd,Function argument name not used correctly,MERGED,2018-07-06 10:07:36.000000000,2018-07-31 09:09:15.000000000,2018-07-31 09:09:15.000000000,1,1,0,580595,da4fff7e7aa756cd8280e8dd14fb8cccc5777277,10,4,2,1,18320,Dao Cong Tien,TienDC,"Function argument name not used correctly

This will cause an error when generating docs
with python3.

Change-Id: I613f7670f10c0a176757907181dd687d18632edd
"
openstack%2Fopenstack-ansible-os_neutron~master~I2947a633ea256460db4f43f7921d20d6dfec5aab,openstack/openstack-ansible-os_neutron,master,lxc3,I2947a633ea256460db4f43f7921d20d6dfec5aab,Add lxc3 compatibility to tests,MERGED,2018-07-29 15:52:26.000000000,2018-07-31 09:07:15.000000000,2018-07-31 09:07:15.000000000,9,2,0,586887,0d770a8b22a5cd59a8321c6f48482c631a626456,13,5,3,2,25023,Jonathan Rosser,jrosser,"Add lxc3 compatibility to tests

lxc3 deprecates many legacy config keys [1].

[1] https://discuss.linuxcontainers.org/t/lxc-2-1-has-been-released/487

Depends-On: https://review.openstack.org/#/c/586898
Change-Id: I2947a633ea256460db4f43f7921d20d6dfec5aab
"
openstack%2Fneutron-vpnaas~master~I8b77b4259ea53c0c9f13eda3dd29df3c780d321f,openstack/neutron-vpnaas,master,add_release_notes,I8b77b4259ea53c0c9f13eda3dd29df3c780d321f,Add release notes link in README,ABANDONED,2018-07-10 09:38:36.000000000,2018-07-31 09:02:17.000000000,,3,0,0,581291,2b906bc50c11359a57e3f51f17f0018b38536968,8,3,2,1,28427,Tuan Do Anh,tuanda,"Add release notes link in README

Change-Id: I8b77b4259ea53c0c9f13eda3dd29df3c780d321f
"
openstack%2Fpython-watcherclient~master~I42ddf63dd73559e43efce401f3912c4b9413a6d4,openstack/python-watcherclient,master,,I42ddf63dd73559e43efce401f3912c4b9413a6d4,Organize the use of 'log' and replace 'log' with LOG,MERGED,2018-07-31 03:26:31.000000000,2018-07-31 09:00:35.000000000,2018-07-31 09:00:35.000000000,2,4,0,587273,3926dcc541f2f23e5668d72778a544075310e281,7,12,1,1,28748,chenker,chenke,"Organize the use of 'log' and replace 'log' with LOG

Change-Id: I42ddf63dd73559e43efce401f3912c4b9413a6d4
"
openstack%2Fceilometer~stable%2Frocky~I86d20354633042685feaf86cd7f2005529e73e32,openstack/ceilometer,stable/rocky,create-rocky,I86d20354633042685feaf86cd7f2005529e73e32,Update .gitreview for stable/rocky,MERGED,2018-07-30 17:58:36.000000000,2018-07-31 08:54:12.000000000,2018-07-31 08:54:12.000000000,1,0,0,587181,5783f0744ba092aa2fd15e73b5cd5e815f29e64c,6,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/rocky

Change-Id: I86d20354633042685feaf86cd7f2005529e73e32
"
openstack%2Fmistral~master~I8bd637f7de63f02c63f3c304cb6f5198fc0c5f42,openstack/mistral,master,bug/1779293,I8bd637f7de63f02c63f3c304cb6f5198fc0c5f42,Add a policy to control the right to publish resources,MERGED,2018-07-02 07:33:01.000000000,2018-07-31 08:51:12.000000000,2018-07-31 08:51:12.000000000,573,78,2,579477,522f38870916e6d2ddbe07b040e96b1fbe85595d,40,6,4,9,28101,Pierre Gaxatte,pgaxatte,"Add a policy to control the right to publish resources

This change intends to add the following policies:
- actions:publicize
- workflows:publicize

A refactor of the policy tests is included to increase the coverage.

Change-Id: I8bd637f7de63f02c63f3c304cb6f5198fc0c5f42
Closes-Bug: 1779293
"
openstack%2Fopenstack-ansible-os_glance~master~I7b19b483f32ba46cbc87a8586ae092e96f067090,openstack/openstack-ansible-os_glance,master,lxc3,I7b19b483f32ba46cbc87a8586ae092e96f067090,Add lxc3 compatibility to tests,MERGED,2018-07-29 15:09:43.000000000,2018-07-31 08:48:41.000000000,2018-07-31 08:48:41.000000000,7,2,0,586885,1b4d4212c83367d5e2918aa3a63355821ba5d3ea,16,5,3,1,25023,Jonathan Rosser,jrosser,"Add lxc3 compatibility to tests

lxc3 deprecates many legacy config keys [1].

[1] https://discuss.linuxcontainers.org/t/lxc-2-1-has-been-released/487

Change-Id: I7b19b483f32ba46cbc87a8586ae092e96f067090
"
openstack%2Fkolla-ansible~master~Ibb7d6981d9d7fed2293af6533e54fb9c768cace6,openstack/kolla-ansible,master,bug/1784497,Ibb7d6981d9d7fed2293af6533e54fb9c768cace6,Fix magnum api dimensions,MERGED,2018-07-31 06:28:23.000000000,2018-07-31 08:29:36.000000000,2018-07-31 08:29:36.000000000,1,1,0,587297,5d25f77fcc9a314951ed38bd675e5728073629af,7,3,1,1,19316,Eduardo Gonzalez,egonzalez90,"Fix magnum api dimensions

Change-Id: Ibb7d6981d9d7fed2293af6533e54fb9c768cace6
Closes-Bug: #1784497
"
openstack%2Fmistral~master~Ia450ea9635bc75c204fe031cfeeab154f1d03862,openstack/mistral,master,bug/1738769,Ia450ea9635bc75c204fe031cfeeab154f1d03862,Remove extra a specification validation,MERGED,2018-07-29 14:19:08.000000000,2018-07-31 08:27:18.000000000,2018-07-31 08:27:18.000000000,90,61,4,586883,4bf03d8e7df0ecc418b7069819cf3b59898c1eb8,22,5,3,14,27008,Vitalii Solodilov,mcdoker18,"Remove extra a specification validation

Currently when we get a specification using the instantiate_spec function,
we always validate their schema and semantics over and over again.
To prevent it we add new validate parameter to a Spec class.
The validate parameter must be True when we create a workflow, workbook
or action using a mistral-api. In all other cases, it must be False.

Change-Id: Ia450ea9635bc75c204fe031cfeeab154f1d03862
Closes-Bug: #1738769
Signed-off-by: Vitalii Solodilov <mcdkr@yandex.ru>
"
openstack%2Fdiskimage-builder~master~I35c5a473509f17a70270a2cbf5bf579faaeb123a,openstack/diskimage-builder,master,bug/1777861,I35c5a473509f17a70270a2cbf5bf579faaeb123a,Only detach device if all partitions have been cleaned,MERGED,2018-06-20 14:27:55.000000000,2018-07-31 08:21:27.000000000,2018-07-31 08:21:26.000000000,255,10,5,576876,64bb87f7b500d95c54bae70c30507687948af963,64,6,9,3,6133,yolanda.robla,yolanda.robla,"Only detach device if all partitions have been cleaned

Currently there is a bug, that tries to detach the device from a
partition at the first try, without considering that there may be
other partitions and volumes on it. Ensure that the detach is done
properly, and add a test to ensure that this happens correctly.

Change-Id: I35c5a473509f17a70270a2cbf5bf579faaeb123a
Fixes-Bug: #1777861
"
openstack%2Fzun~master~Ibe17875455d85128a1f06c079f65d5e568c2bfae,openstack/zun,master,bp/support-healthycheck,Ibe17875455d85128a1f06c079f65d5e568c2bfae,support-healthycheck,ABANDONED,2018-05-30 11:58:54.000000000,2018-07-31 08:21:20.000000000,,94,1,4,571179,7536b90a857b93ca5c233886f6aa8ce5f8d5f385,7,4,1,10,23829,weikeyou,weikeyou,"support-healthycheck

The docker has supported healthcheck. It is useful for application container.
Zun may integration these options.

HEALTHCHECK

  --health-cmd Command to run to check health
  --health-interval Time between running the check
  --health-retries Consecutive failures needed to report unhealthy
  --health-timeout Maximum time to allow one check to run
  In zun, the four parameter are cmd, interval, retries, timeout.

 Partial-Implements: blueprint support-healthycheck

Change-Id: Ibe17875455d85128a1f06c079f65d5e568c2bfae
"
openstack%2Fopenstack-ansible-os_almanach~master~Id817631699d711993bbdad08660d8067550430e6,openstack/openstack-ansible-os_almanach,master,common-systemd-service,Id817631699d711993bbdad08660d8067550430e6,Convert role to use a common systemd service role,MERGED,2018-07-30 14:00:51.000000000,2018-07-31 08:20:54.000000000,2018-07-31 08:20:54.000000000,119,133,0,587070,eac3740711ba9672d46cb91e2e99c583d2371eb4,18,2,7,11,7353,Kevin Carter,cloudnull,"Convert role to use a common systemd service role

This removes the systemd service templates and tasks from this role and
leverages a common systemd service role instead. This change removes a
lot of code duplication across all roles all without sacrificing features
or functionality. The intention of this change is to ensure uniformity and
reduce the maintenance burden on the community when sweeping changes are
needed.

Change-Id: Id817631699d711993bbdad08660d8067550430e6
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fopenstack-ansible~stable%2Focata~Iae61951c48847d343391e5b88bdcb0c9607d8336,openstack/openstack-ansible,stable/ocata,release_osa,Iae61951c48847d343391e5b88bdcb0c9607d8336,Update all SHAs for 15.1.25,MERGED,2018-07-23 13:04:10.000000000,2018-07-31 08:19:08.000000000,2018-07-31 08:19:08.000000000,36,36,0,584858,693d3d63c1b43ebdc6eb2c691e2748ecac4bf3ca,9,3,2,4,17068,Jean-Philippe Evrard,evrardjp,"Update all SHAs for 15.1.25

This patch:
- updates all the roles to the latest available stable SHAs
- copies the release notes from the updated roles into the integrated repo
- updates all the OpenStack Service SHAs

Depends-On: https://review.openstack.org/#/c/584821/
Change-Id: Iae61951c48847d343391e5b88bdcb0c9607d8336
"
openstack%2Ftripleo-heat-templates~master~I5eab6994d39f60b0a5f3d8e3277408fdf474e0cd,openstack/tripleo-heat-templates,master,,I5eab6994d39f60b0a5f3d8e3277408fdf474e0cd,[DNM] To test coverage of common,ABANDONED,2018-07-30 12:56:32.000000000,2018-07-31 08:16:23.000000000,,1,0,0,587052,403169f0997a39a70beda0e5ca9de1178ea53f54,5,3,1,1,27898,Quique Llorente,quiquell,"[DNM] To test coverage of common

Change-Id: I5eab6994d39f60b0a5f3d8e3277408fdf474e0cd
"
openstack%2Ftripleo-ci~master~I3db02d1cc4b47739afd22302d53b4e0127b7913e,openstack/tripleo-ci,master,toci_jobtype,I3db02d1cc4b47739afd22302d53b4e0127b7913e,Duplicate of I8330687ec64f1ebb7e3b100410d5bdc3e67ae7f0,ABANDONED,2018-07-27 05:59:32.000000000,2018-07-31 08:16:16.000000000,,34,36,0,586444,492fa3afebf8e43aa9a4dca473c2a51f7da773bd,7,3,2,2,27898,Quique Llorente,quiquell,"Duplicate of I8330687ec64f1ebb7e3b100410d5bdc3e67ae7f0

To test with Depends-On tht change

Depends-On: I9983a7c5175fce1c991301cb6583265fb7dfb9c1
Change-Id: I3db02d1cc4b47739afd22302d53b4e0127b7913e
"
openstack%2Ftripleo-ci~master~I9cefb4f8c1d5d18fb19ff254d979023289eaecd9,openstack/tripleo-ci,master,,I9cefb4f8c1d5d18fb19ff254d979023289eaecd9,Try to revert https://review.openstack.org/#/c/582384,ABANDONED,2018-07-25 15:00:23.000000000,2018-07-31 08:16:11.000000000,,25,25,0,585776,96f6aebd07268d47d642dafb9ee8286f04c7b3e7,6,2,3,1,27898,Quique Llorente,quiquell,"Try to revert https://review.openstack.org/#/c/582384

Change-Id: I9cefb4f8c1d5d18fb19ff254d979023289eaecd9
"
openstack%2Ftripleo-heat-templates~master~I9983a7c5175fce1c991301cb6583265fb7dfb9c1,openstack/tripleo-heat-templates,master,585955,I9983a7c5175fce1c991301cb6583265fb7dfb9c1,[DNM] To debug fix tags,ABANDONED,2018-07-26 05:45:09.000000000,2018-07-31 08:16:04.000000000,,2,2,0,585955,bd18badc551ba58b421ec383ffa06c6f4db6f203,9,2,3,1,27898,Quique Llorente,quiquell,"[DNM] To debug fix tags

Change-Id: I9983a7c5175fce1c991301cb6583265fb7dfb9c1
"
openstack%2Ftripleo-ci~master~I849e74956b7323539a09d3f88dd7b100b560a023,openstack/tripleo-ci,master,bug/1783399,I849e74956b7323539a09d3f88dd7b100b560a023,Move toci variables to yaml,ABANDONED,2018-07-26 06:11:27.000000000,2018-07-31 08:15:55.000000000,,102,25,0,585964,bf8b0b42bfd922bd7a2bb93f4096a8047e39f57b,4,5,1,9,27898,Quique Llorente,quiquell,"Move toci variables to yaml

This are the variable replaced
- $UNDERCLOUD -> {{ undercloud }}
- $ENVIRONMENT ->  {{ environment_infra }}
- $PLAYBOOKS -> {{ playbooks }}
- $TAGS -> {{ tags }}

NOTE: 'environment' variable name is already taken
      that's why we use 'environment_infra'

They are stored at vars/{{ environment_type }}.yaml or job yaml

Replace TAGS with ansible var

No longer using the bash function is_featureset() to match a
particular tag to a featureset config. Now upgrade_tags are set
in the job definition and tags are specified for each environment.

Change-Id: I849e74956b7323539a09d3f88dd7b100b560a023
Closes-Bug: #1783399
"
openstack%2Fkolla-ansible~master~I1fd4dcae8da4e807b8eaefa65607671bf7a9a19a,openstack/kolla-ansible,master,,I1fd4dcae8da4e807b8eaefa65607671bf7a9a19a,Enable chrony container by default,MERGED,2017-12-25 14:44:10.000000000,2018-07-31 08:01:52.000000000,2018-07-31 03:21:52.000000000,5,2,10,530039,bc65fa51b2233b387f73c5321ac05be5715e7999,67,31,11,3,22165,caoyuan,caoyuan,"Enable chrony container by default

Since chrony container is supported by kolla [1], we should enable it by
default.

[1] https://github.com/openstack/kolla-ansible/tree/master/ansible/roles/chrony

Change-Id: I1fd4dcae8da4e807b8eaefa65607671bf7a9a19a
"
openstack%2Fnova~stable%2Focata~I407034374fe17c4795762aa32575ba72d3a46fe8,openstack/nova,stable/ocata,bug/1414559,I407034374fe17c4795762aa32575ba72d3a46fe8,libvirt: slow live-migration to ensure network is ready,ABANDONED,2018-04-05 09:18:26.000000000,2018-07-31 08:01:38.000000000,,273,32,1,559034,5e5e1ff9aa7090e84471332a22ec960981182915,40,10,6,4,10135,Lee Yarwood,lyarwood,"libvirt: slow live-migration to ensure network is ready

In Neutron, commit b7c303ee0a16a05c1fdb476dc7f4c7ca623a3f58 introduced
events sent during a live migration when the VIFs are plugged on
destination node.

The Linux bridge agent mechanism driver is detecting new networks on
the destination host only when the TAP devices are created, and these
tap devices are only created when libvirt starts the migration. As a
result, we must actually start the migration and then slow it as we
wait for the neutron events.

This change ensures we wait for these events.

Depends-On: Icb039ae2d465e3822ab07ae4f9bc405c1362afba

Conflicts:
        nova/tests/unit/virt/libvirt/test_driver.py
        nova/virt/libvirt/driver.py

NOTE(lyarwood): Part of the driver.py conflict is due to additional QEMU
and LIBVIRT version constants being present in Queens. Additionally
get_network_info was moved from compute_utils to the Instance object
during Pike via I32231126483d419358acc40d353edd45af744a1f. The
test_driver.py conflict being the result of our need to assert byte
strings in Pike as also seen by
I9b545ca8aa6dd7b41ddea2d333190c9fbed19bc1 and resolved by
I85cd9a903fba310b5ae7bedeed118ca4ea98dff6 in Queens.

Closes-Bug: #1414559
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>
Change-Id: I407034374fe17c4795762aa32575ba72d3a46fe8
(cherry picked from commit 8e6d5d404cf49e5b68b43c62e7f6d7db2771a1f4)
(cherry picked from commit 224ac25cb1cca60e051cf4dc821eb549e8b36ff2)
(cherry picked from commit ff747792b8f5aefe1bebb01bdf49dacc01353348)
"
openstack%2Ftripleo-ci~master~I70cbcf82e3e916bbbf380082cf09eecdd942a425,openstack/tripleo-ci,master,toci_jobtype,I70cbcf82e3e916bbbf380082cf09eecdd942a425,Take playbooks from ansible,ABANDONED,2018-07-27 11:14:16.000000000,2018-07-31 07:48:33.000000000,,2,14,1,586513,955c25ba2650bd86fd2654be00f15d603e9ddaec,10,11,5,2,27898,Quique Llorente,quiquell,"Take playbooks from ansible

After reverting ansible playbook list to bash at https://review.openstack.org/#/c/585528/,
let's read it again from ansible but maintain bash loop.

Change-Id: I70cbcf82e3e916bbbf380082cf09eecdd942a425
"
openstack%2Fkeystone~master~Icf3b2699429adf16fbd0b3657ebdf17b973432bf,openstack/keystone,master,docs,Icf3b2699429adf16fbd0b3657ebdf17b973432bf,Adding missing comma in docs,MERGED,2018-07-30 12:38:36.000000000,2018-07-31 07:46:47.000000000,2018-07-30 15:02:32.000000000,1,1,0,587044,a272b66181f23c0b9b5b56f7656a805958da9049,8,3,1,1,28062,Martin Chacon Piza,martinchacon,"Adding missing comma in docs

Change-Id: Icf3b2699429adf16fbd0b3657ebdf17b973432bf
"
openstack%2Fzun~master~Icf2a1a85cd0c8eccb291dd05f43c0d6150665df3,openstack/zun,master,,Icf2a1a85cd0c8eccb291dd05f43c0d6150665df3,Add legacy init script for Ubuntu,MERGED,2018-07-15 18:30:22.000000000,2018-07-31 07:45:20.000000000,2018-07-31 07:45:20.000000000,77,0,6,582803,ebd57ddf4c442c7677223e7e6800f51bceff26e6,13,4,4,4,11536,hongbin,hongbin,"Add legacy init script for Ubuntu

For users who are using Ubuntu 14.04, systemd is not supported.
This patch add the sample init script for Ubuntu 14.04.

Change-Id: Icf2a1a85cd0c8eccb291dd05f43c0d6150665df3
"
openstack%2Fheat~master~Ic25c35098cff8b68e184a336b21f2e8df70bb1ee,openstack/heat,master,fix_translation,Ic25c35098cff8b68e184a336b21f2e8df70bb1ee,Ignore RESOLVE translation errors when translating before_props,MERGED,2018-07-24 08:24:18.000000000,2018-07-31 07:44:45.000000000,2018-07-30 16:47:55.000000000,57,14,2,585171,8c39f3bb8b08ad37cb5411b448ef2acde6345d55,29,5,6,4,8833,Rabi Mishra,rabi,"Ignore RESOLVE translation errors when translating before_props

When translating name to id, if we don't find the resource it's
better to ignore the error and return the non-translated value
for before properties.

Change-Id: Ic25c35098cff8b68e184a336b21f2e8df70bb1ee
Story: #2003015
Task: 23103
"
openstack%2Fheat~master~I9275610931a174919076330ec443f54f68cc1371,openstack/heat,master,story/2003015,I9275610931a174919076330ec443f54f68cc1371,Ignore NotFound error in prepare_for_replace,MERGED,2018-07-21 06:40:27.000000000,2018-07-31 07:42:46.000000000,2018-07-25 15:08:47.000000000,26,5,3,584564,3d542935fbe7def5e785c26a1b6a8b468cfeaa48,14,5,2,2,8833,Rabi Mishra,rabi,"Ignore NotFound error in prepare_for_replace

If the port is already deleted in neutron, we don't need to do
anything.

Change-Id: I9275610931a174919076330ec443f54f68cc1371
Story: #2003015
Task: 23035
"
openstack%2Fopenstack-ansible-os_glance~master~I90f0b7c6963c433aba6d91e7f4df4401e410439e,openstack/openstack-ansible-os_glance,master,remove-glance-v1,I90f0b7c6963c433aba6d91e7f4df4401e410439e,Remove glance v1 api and tests,MERGED,2018-07-30 15:25:26.000000000,2018-07-31 07:40:23.000000000,2018-07-31 07:40:22.000000000,11,41,6,587093,33b0e35e06681e1f0d2e8d0dc3c42b2da3480a6d,15,4,3,9,25023,Jonathan Rosser,jrosser,"Remove glance v1 api and tests

The glance v1 endpoints were removed in [1].

[1] https://github.com/openstack/glance/commit/3dde3204d5c1b5323dba2d7b7607e69bcc58bbb2

Change-Id: I90f0b7c6963c433aba6d91e7f4df4401e410439e
"
openstack%2Fvitrage-tempest-plugin~master~Id7b93392c4d0cdd2097dd4da7f3cb1328fc08feb,openstack/vitrage-tempest-plugin,master,eyalb/networkx,Id7b93392c4d0cdd2097dd4da7f3cb1328fc08feb,should use networkx 2,MERGED,2018-07-29 10:50:38.000000000,2018-07-31 07:39:00.000000000,2018-07-31 07:39:00.000000000,1,1,0,586868,5b79ab35afc9ff34cc41def2f20153653c43ebd6,7,3,1,1,19134,Eyal,eyalb,"should use networkx 2

Change-Id: Id7b93392c4d0cdd2097dd4da7f3cb1328fc08feb
"
openstack%2Fpatrole~master~I79707c3223122bd15cca30386717d8deab2e2fd7,openstack/patrole,master,regex,I79707c3223122bd15cca30386717d8deab2e2fd7,Mark raw strings as such,NEW,2018-07-07 03:15:56.000000000,2018-07-31 07:29:55.000000000,,16,16,0,580791,bebcb47a9b175c8fac52e45229d818c4b5fd7d9f,16,3,4,6,23186,Felipe Monteiro,felipe.monteiro,"Mark raw strings as such

This is raising warnings now and will be an error in future versions of
Python 3.

Based off https://review.openstack.org/#/c/580633/1

Change-Id: I79707c3223122bd15cca30386717d8deab2e2fd7
"
openstack%2Ftripleo-upgrade~master~Iee64ad8843bc7827cf1101544b1c52c69fa49298,openstack/tripleo-upgrade,master,workload-disk-size,Iee64ad8843bc7827cf1101544b1c52c69fa49298,Workload flavor customization.,MERGED,2018-07-30 07:34:16.000000000,2018-07-31 07:21:50.000000000,2018-07-30 16:11:49.000000000,36,2,0,586961,0228961c2a30cfd5b19addea0b41f349526fcd96,9,6,1,4,21537,Yurii Prokulevych,yprokule,"Workload flavor customization.

In order to spawn workload vms with images different than cirros,
 it might be needed to adjust disk's size/vcpus/swap's size.
This change allows this customization leaving defaults intact.

Change-Id: Iee64ad8843bc7827cf1101544b1c52c69fa49298
"
openstack%2Fcharm-neutron-api~master~I0405c698190c84b521e52ba02e6fb1c5396be9be,openstack/charm-neutron-api,master,bug/1784405,I0405c698190c84b521e52ba02e6fb1c5396be9be,Update `api-paste.ini` for Rocky,MERGED,2018-07-31 05:27:26.000000000,2018-07-31 07:21:16.000000000,2018-07-31 07:21:16.000000000,53,0,0,587282,bc8a91dea05b62b8ce0c9e83f539a0f321b9b1b4,8,4,1,1,13686,Frode Nordahl,fnordahl,"Update `api-paste.ini` for Rocky

Removal of entrypoint `neutron.api.versions:Versions.factory`
mandates a new version of the `api-paste.ini` file for Rocky.

Reference:
https://github.com/openstack/neutron/blob/master/releasenotes/notes/noneutronversions-fbbdb98f350767d8.yaml

Change-Id: I0405c698190c84b521e52ba02e6fb1c5396be9be
Closes-Bug: #1784405
"
openstack%2Fansible-role-container-registry~master~I8f3d3eb9ba2cc4b3d46d8748bc1340500fc7be0e,openstack/ansible-role-container-registry,master,,I8f3d3eb9ba2cc4b3d46d8748bc1340500fc7be0e,Fix package README errors,MERGED,2018-07-30 19:36:53.000000000,2018-07-31 07:21:15.000000000,2018-07-31 07:21:15.000000000,88,51,0,587205,4d0ffa4da7086e089900b9ce8267f30f186a4d8a,8,4,1,3,11904,Sean McGinnis,SeanM,"Fix package README errors

With the README file used as the package long description, errors would
cause the package checks to fail when uploading to PyPi. This switches
the README to be in RST format and gets rid of validation errors.

Change-Id: I8f3d3eb9ba2cc4b3d46d8748bc1340500fc7be0e
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fpython-tripleoclient~master~I69a30be9372dc2349b3339019be9d45b632f4a74,openstack/python-tripleoclient,master,bug/1783204,I69a30be9372dc2349b3339019be9d45b632f4a74,"Prepare defaults, defer detecting undercloud registry",MERGED,2018-07-25 02:06:40.000000000,2018-07-31 07:21:14.000000000,2018-07-31 07:21:14.000000000,3,6,0,585590,205431b179d751e26b9a9d5f490e923893f21535,17,6,1,2,4571,Steve Baker,steve-stevebaker,"Prepare defaults, defer detecting undercloud registry

Now that the undercloud is containerized, the following command will
sometimes need to be run before the undercloud is installed:

  openstack tripleo container image prepare default --local-push-destination

Doing this currently results in push_destination:localhost:8787
because the required network interface doesn't yet exist for the
registry detection logic.

This change will make push_destination be set to True, so that the
registry address is detected at upload time, which is late enough in
the undercloud install to actually work.

Change-Id: I69a30be9372dc2349b3339019be9d45b632f4a74
Closes-Bug: #1783204
Depends-On: I8a35755ac28c419490159f3cb0f60b7d54f3958d
"
openstack%2Ftripleo-common~master~I8a35755ac28c419490159f3cb0f60b7d54f3958d,openstack/tripleo-common,master,bug/1783204,I8a35755ac28c419490159f3cb0f60b7d54f3958d,Allow deferred undercloud push_destination detection,MERGED,2018-07-25 01:50:42.000000000,2018-07-31 07:21:14.000000000,2018-07-31 07:21:14.000000000,42,3,0,585589,b5a2730ea2b0cac69ca410ec4840e29e6b81c3de,18,5,2,2,4571,Steve Baker,steve-stevebaker,"Allow deferred undercloud push_destination detection

By setting push_destination: True, it is possible to indicate that
images should be uploaded to the undercloud registry before the
registry is even installed. At upload time push_destination:True will
be converted into the discovered undercloud registry.

Change-Id: I8a35755ac28c419490159f3cb0f60b7d54f3958d
Partial-Bug: #1783204
"
openstack%2Ftripleo-common~master~Ie761103eacd1b6bd09c8058bf21cf592e2e1dbe2,openstack/tripleo-common,master,remove_unused_clients,Ie761103eacd1b6bd09c8058bf21cf592e2e1dbe2,Remove unused clients from container images,MERGED,2018-07-13 16:34:10.000000000,2018-07-31 07:21:13.000000000,2018-07-31 07:21:12.000000000,6,1,0,582637,7c5f7883c4bd98526bb989e8be81a1aed7181027,21,5,2,1,13039,Martin André,mandre,"Remove unused clients from container images

These clients can sometime bring surprising dependencies, such as git
for cloudkitty client. It is now being fixed in
https://review.rdoproject.org/r/#/c/14827/ but still, if we don't need
these clients, we shouldn't be installing them in the containers in the
first place.

Change-Id: Ie761103eacd1b6bd09c8058bf21cf592e2e1dbe2
"
openstack%2Ftripleo-heat-templates~master~I8500de7ec71a8efa567a0b3aa29725ef235795bc,openstack/tripleo-heat-templates,master,networking-ansible,I8500de7ec71a8efa567a0b3aa29725ef235795bc,Add support for containerized networking-ansible ML2 plugin,MERGED,2018-07-24 09:41:33.000000000,2018-07-31 07:16:48.000000000,2018-07-31 07:16:48.000000000,83,2,5,585194,26e0ce7702fe0b5379b181ad8726dc1f0d2bdbb2,64,11,4,5,1926,Derek Higgins,derekh,"Add support for containerized networking-ansible ML2 plugin

Co-Authored-By: Derek Higgins <derekh@redhat.com>
Change-Id: I8500de7ec71a8efa567a0b3aa29725ef235795bc
"
openstack%2Fansible-role-tripleo-modify-image~master~I8c1803906c74fcf9bf703090052fb164fcfa4ebf,openstack/ansible-role-tripleo-modify-image,master,release,I8c1803906c74fcf9bf703090052fb164fcfa4ebf,Zuul: add missing jobs for release,MERGED,2018-07-27 00:45:34.000000000,2018-07-31 07:16:47.000000000,2018-07-31 07:16:47.000000000,7,2,0,586380,30475179d2782ce8fa10cd9edf58a9fc33b166eb,17,2,3,1,3153,Emilien Macchi,emilienm,"Zuul: add missing jobs for release

Change-Id: I8c1803906c74fcf9bf703090052fb164fcfa4ebf
"
openstack%2Fopenstack-ansible-ops~master~I38268e33b370da0f1e186ecf65911d4a312c3e6a,openstack/openstack-ansible-ops,master,,I38268e33b370da0f1e186ecf65911d4a312c3e6a,Convert logstash groks to a multi-pipeline setup,MERGED,2018-07-27 03:48:48.000000000,2018-07-31 07:15:15.000000000,2018-07-31 07:15:15.000000000,777,591,0,586419,b6343c57a43a4d021c462bb54e7cbda4d165d5d7,14,2,5,33,7353,Kevin Carter,cloudnull,"Convert logstash groks to a multi-pipeline setup

The logstash groks were running in line using the legacy method which uses
lexical sorting of all logstash filter files and loads them in order. While
this works it makes it so all data has to travel through all filters.
This change makes use of the logstash multi-pipeline capabilities
using a distributor and fork pattern. This allows data to flow through
logstash more quickly and not block whenever there's an issue with an
output plugin.

Finger-prints using SHA1 when there's a message and UUID when not. This
will ensure we're duplicating log entries which will help speed up
transations and further reduce the storage required.

Change-Id: I38268e33b370da0f1e186ecf65911d4a312c3e6a
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fopenstack-ansible-os_designate~master~If62ec06a8fa9459f307db296870acff4cc4b271c,openstack/openstack-ansible-os_designate,master,,If62ec06a8fa9459f307db296870acff4cc4b271c,Trivial: Fix the pep8 warning,MERGED,2018-06-20 07:59:06.000000000,2018-07-31 06:59:30.000000000,2018-07-31 06:59:29.000000000,4,0,0,576777,b65faedbbe18df958f2286b52e8d7188c7a48d44,15,4,1,4,25284,fupingxie,fpxie,"Trivial: Fix the pep8 warning

The yaml should start with ""---""

Change-Id: If62ec06a8fa9459f307db296870acff4cc4b271c
"
openstack%2Fzun~master~Ie92f95830b4196e57e6191445450de5773411ded,openstack/zun,master,bug/1744264,Ie92f95830b4196e57e6191445450de5773411ded,remove sg when network detach,ABANDONED,2018-01-19 09:54:51.000000000,2018-07-31 06:52:49.000000000,,34,0,2,535695,0b7ee86e37c76399483e5156100ffc3490955c5b,9,2,2,2,23365,feng.shengqin,FengShengqin,"remove sg when network detach

Change-Id: Ie92f95830b4196e57e6191445450de5773411ded
Closes-Bug: #1744264
"
openstack%2Fzun~master~I8c20b314ea8be06384f67f7ae35ece5df26510df,openstack/zun,master,,I8c20b314ea8be06384f67f7ae35ece5df26510df,Refactor pull_image in glance,ABANDONED,2018-03-03 06:57:34.000000000,2018-07-31 06:51:55.000000000,,12,22,2,549401,6601403780d6b954fecd21b08754417c46ea9b91,14,5,1,2,23365,feng.shengqin,FengShengqin,"Refactor pull_image in glance

utils.find_image is called in _search_image_on_host,
when downloading from glance, it is called again.

Change-Id: I8c20b314ea8be06384f67f7ae35ece5df26510df
"
openstack%2Fzun~master~I79829755570b3988e6536d0920d2a8b7eab2d0da,openstack/zun,master,,I79829755570b3988e6536d0920d2a8b7eab2d0da,check new name for container,ABANDONED,2018-04-09 10:51:24.000000000,2018-07-31 06:51:18.000000000,,3,0,1,559698,44b59c56dc5438d80fa76b854e30efe5b64a6604,4,2,1,1,23365,feng.shengqin,FengShengqin,"check new name for container

Change-Id: I79829755570b3988e6536d0920d2a8b7eab2d0da
"
openstack%2Ftempest~master~I996d257e089f0676e316f2b14207c343063ccf8e,openstack/tempest,master,bug/1748377,I996d257e089f0676e316f2b14207c343063ccf8e,Skip adding host to aggregate with az if host already in other zone,MERGED,2018-02-09 07:14:33.000000000,2018-07-31 06:49:21.000000000,2018-07-31 06:49:21.000000000,21,9,18,542653,34afeb295a8c99846144abfd78fab6e5a9b4121f,44,15,3,1,20190,zhufl,zhufl,"Skip adding host to aggregate with az if host already in other zone

Running test_aggregate_add_host_create_server_with_az fails if all
hosts are already in other zones, with error info like:
   ""conflictingRequest"":
       {""message"": ""Cannot add host to aggregate 62.
                    Reason: One or more hosts already in availability
                    zone(s)[u'rally_test']."", ""code"": 409}

This is to find a host that has not been added to other zone, and
skip test_aggregate_add_host_create_server_with_az if all hosts in
the system are already in other zones.

Change-Id: I996d257e089f0676e316f2b14207c343063ccf8e
Closes-Bug: #1748377
"
openstack%2Fopenstack-ansible-os_barbican~master~I4ed52cfba51d63bc22346f0a5fa8555674d97d54,openstack/openstack-ansible-os_barbican,master,,I4ed52cfba51d63bc22346f0a5fa8555674d97d54,Add the project source code repository in README,ABANDONED,2018-07-23 12:04:05.000000000,2018-07-31 06:37:25.000000000,,3,0,0,584835,9e4b00132fb7b771ccc11ee22ed34106bc3d5279,3,1,1,1,28614,jacky06,jacky06,"Add the project source code repository in README

Change-Id: I4ed52cfba51d63bc22346f0a5fa8555674d97d54
"
openstack%2Fmistral~master~I500312bb039260853a4d96a54c3395992947b9d5,openstack/mistral,master,bug/1676411,I500312bb039260853a4d96a54c3395992947b9d5,remove invalid todo comment,MERGED,2018-07-30 14:38:20.000000000,2018-07-31 06:33:01.000000000,2018-07-31 06:33:01.000000000,0,5,0,587081,36050224ee83a14cb4c4f7ff0b80fef804fbe86c,8,7,1,1,28726,Huang.Xiangdong,privaterooie,"remove invalid todo comment

remove invalid todo comment in std_actions.py, since there is no
need to implement this feature.

Change-Id: I500312bb039260853a4d96a54c3395992947b9d5
Related-Bug:#1676411
"
openstack%2Fopenstack-ansible-os_searchlight~master~Ibd4fd8564ae5f858a2a2676d35de417e673c483c,openstack/openstack-ansible-os_searchlight,master,remove-cruft-in-osa,Ibd4fd8564ae5f858a2a2676d35de417e673c483c,"Clean up vars, tests and overrides",MERGED,2018-07-27 12:57:28.000000000,2018-07-31 06:32:11.000000000,2018-07-31 06:32:11.000000000,7,55,0,586539,76421ccb31a74764e70401952d413d39a81abd4e,10,3,3,5,6816,Jesse Pretorius,jesse-pretorius,"Clean up vars, tests and overrides

1. It would appear that searchlight does not make use of rabbitmq,
   so we remove the vhost/user setup and vars.
2. The searchlight_requirements_git_repo repo was cloned, but not
   used anywhere. This is a relic of the past and has now been
   removed.
3. The service URI defaults use the load balancer addresses, so
   so instead of overriding all the URI's we simply set the load
   balancer addresses.
4. The 'functional test' installed curl, but didn't use it. It
   used a var to refer to the correct port. This requires the
   duplicating of the var in overrides which is a bit over the top.

Change-Id: Ibd4fd8564ae5f858a2a2676d35de417e673c483c
"
openstack%2Fopenstack-ansible-ops~master~If14dbdfe7ba3e69a50127fa724ad3f2a8ed58c1a,openstack/openstack-ansible-ops,master,undefine_vms,If14dbdfe7ba3e69a50127fa724ad3f2a8ed58c1a,Undefine existing VM configurations during rebuild,MERGED,2018-07-23 19:02:01.000000000,2018-07-31 06:19:26.000000000,2018-07-31 06:19:26.000000000,9,0,0,585001,ef560373e3e43e45a7097595ebf5d6787aa20071,7,3,1,1,290,Antony Messerli,antonym,"Undefine existing VM configurations during rebuild

Allows for configuration changes to be redeployed on a
rebuild where previously it didn't attempt to update
the VMs configuration.
`

Change-Id: If14dbdfe7ba3e69a50127fa724ad3f2a8ed58c1a
"
openstack%2Fopenstack-ansible-ops~master~Ie0989062ee3ab28bf8fc4d096899826254a8df65,openstack/openstack-ansible-ops,master,,Ie0989062ee3ab28bf8fc4d096899826254a8df65,Delete duplicate 'Release notes' in README,MERGED,2018-07-28 11:23:58.000000000,2018-07-31 06:13:55.000000000,2018-07-31 06:13:55.000000000,0,6,0,586776,cebc05a8d9f61e111fa150bb8308c2bdbb1f4a95,7,4,1,1,14320,xuan.mingyi,mingyi,"Delete duplicate 'Release notes' in README

Change-Id: Ie0989062ee3ab28bf8fc4d096899826254a8df65
"
openstack%2Fopenstack-ansible-os_blazar~master~I4c55200cdeb62317f6b6919d7b65872594cbfea3,openstack/openstack-ansible-os_blazar,master,,I4c55200cdeb62317f6b6919d7b65872594cbfea3,Add the project source code repository in README,MERGED,2018-07-28 12:21:44.000000000,2018-07-31 06:08:46.000000000,2018-07-31 06:08:45.000000000,3,0,0,586785,8cc6d336f2a397e1c0df2d572fcf7d2d74c81218,7,4,1,1,14320,xuan.mingyi,mingyi,"Add the project source code repository in README

Change-Id: I4c55200cdeb62317f6b6919d7b65872594cbfea3
"
openstack%2Fopenstack-ansible-os_blazar~master~If6dbfc672a3db9e984cec7728ea7c750506c64fb,openstack/openstack-ansible-os_blazar,master,,If6dbfc672a3db9e984cec7728ea7c750506c64fb,Optimize the link address in docs,MERGED,2018-07-03 08:37:01.000000000,2018-07-31 06:08:46.000000000,2018-07-31 06:08:46.000000000,1,1,0,579811,6222c8e458deb16de625bfa7d65a4dec465ff4da,7,3,1,1,26435,Pan Xingyu,pxy,"Optimize the link address in docs

Change-Id: If6dbfc672a3db9e984cec7728ea7c750506c64fb
"
openstack%2Fmistral~master~Ib341b0ae4bff6f74c412f62678a5a663a99b0b0b,openstack/mistral,master,,Ib341b0ae4bff6f74c412f62678a5a663a99b0b0b,Fix flaky cron trigger test,MERGED,2018-07-30 12:05:11.000000000,2018-07-31 06:05:10.000000000,2018-07-31 06:05:10.000000000,7,8,0,587028,66f6c90f6655b8274f8d81b56375649ab3a3b3e9,8,5,1,1,21970,Andras Kovi,andras.kovi,"Fix flaky cron trigger test

Checking for equality of times is flaky because if the
samplig happens around the boundady of a second, then
it can cause an off by 1 error. The test is modified
to tolerate these errors.

Change-Id: Ib341b0ae4bff6f74c412f62678a5a663a99b0b0b
"
openstack%2Fopenstack-ansible-os_blazar~master~I31303456a680e0c38fbeeac3de7921c4ee62617a,openstack/openstack-ansible-os_blazar,master,remove-cruft-in-osa,I31303456a680e0c38fbeeac3de7921c4ee62617a,Remove unnecessary inventory configuration,MERGED,2018-07-27 09:25:14.000000000,2018-07-31 05:47:58.000000000,2018-07-31 05:47:57.000000000,3,7,0,586489,347d2e2da13f2f9a37eb28cddfe112073069b334,8,4,1,4,6816,Jesse Pretorius,jesse-pretorius,"Remove unnecessary inventory configuration

Neither nova nor neutron are deployed in the tests,
so these inventory bits are unnecessary.

Change-Id: I31303456a680e0c38fbeeac3de7921c4ee62617a
"
openstack%2Fopenstack-ansible-os_blazar~master~I3aa2a7e38fcd78212b4b88aa2b7bb28d598eaf7f,openstack/openstack-ansible-os_blazar,master,remove-cruft-in-osa,I3aa2a7e38fcd78212b4b88aa2b7bb28d598eaf7f,Remove unnecessary RabbitMQ setup/vars,MERGED,2018-07-27 08:12:51.000000000,2018-07-31 05:47:57.000000000,2018-07-31 05:47:57.000000000,1,14,0,586472,57d0799ba79f1d68ccd4e64d3012bbc94eb55b4d,8,4,1,2,6816,Jesse Pretorius,jesse-pretorius,"Remove unnecessary RabbitMQ setup/vars

It would appear that blazar does not make use of rabbitmq,
so we remove the vhost/user setup and vars.

Change-Id: I3aa2a7e38fcd78212b4b88aa2b7bb28d598eaf7f
"
openstack%2Fkolla-ansible~master~I9b3d874fe39488206ce880247b51d0a26826eeb6,openstack/kolla-ansible,master,init-runonce,I9b3d874fe39488206ce880247b51d0a26826eeb6,Update the help text of init-runonce,MERGED,2018-07-27 02:05:23.000000000,2018-07-31 05:38:45.000000000,2018-07-31 05:38:45.000000000,1,1,0,586390,380647ffb559407314b7ab77a655e047f1b738fa,10,6,1,1,19779,Chason Chan,chenxing,"Update the help text of init-runonce

openrc should be admin-openrc.sh

Change-Id: I9b3d874fe39488206ce880247b51d0a26826eeb6
"
openstack%2Ftripleo-docs~master~I88353551ac9e07484ad585ef6c17415645d13121,openstack/tripleo-docs,master,bp/can,I88353551ac9e07484ad585ef6c17415645d13121,"Document ""openstack tripleo container image prepare""",MERGED,2018-03-15 00:05:42.000000000,2018-07-31 05:38:30.000000000,2018-07-31 05:38:30.000000000,274,138,11,553104,241fef316759bce40034c73aaae5e85fe1384129,28,10,8,5,4571,Steve Baker,steve-stevebaker,"Document ""openstack tripleo container image prepare""

This documents container image prepare for the undercloud and
overcloud as currently implemented. This means prepare occurs during
undercloud install, but overcloud still requires calling the new
command ""openstack tripleo container image prepare"". There will be a
futher docs change when blueprint container-prepare-workflow is
complete, but these docs are ready to land now.

Change-Id: I88353551ac9e07484ad585ef6c17415645d13121
Blueprint: container-prepare-workflow
"
openstack%2Fkeystone~master~I73705131f15dc7df764de21ad116f28e77230b6e,openstack/keystone,master,bug/1784375,I73705131f15dc7df764de21ad116f28e77230b6e,Api-ref: Correct response code,MERGED,2018-07-31 01:52:14.000000000,2018-07-31 05:09:16.000000000,2018-07-31 05:09:16.000000000,1,1,1,587262,68dfd78c359098bf6a77d0668f09ec3d6efa0ad1,12,4,3,1,28730,Bi wei,biwei,"Api-ref: Correct response code

The response code for PUT /groups/{group_id}/users/{user_id} should be 204, not 200.

Closes-bug: #1784375
Change-Id: I73705131f15dc7df764de21ad116f28e77230b6e
"
openstack%2Ftempest~master~I51d82e9856d6dc8984a4348d9e8ca86c5fe809ab,openstack/tempest,master,bp/clear-deprecated-api,I51d82e9856d6dc8984a4348d9e8ca86c5fe809ab,Set max_microversion 2.35 for nova network tests,MERGED,2018-03-29 06:29:48.000000000,2018-07-31 05:09:14.000000000,2018-07-31 05:09:14.000000000,3,0,0,557617,daba94fcadd6ada65aaca47399958e4586f6e88b,20,6,2,2,20190,zhufl,zhufl,"Set max_microversion 2.35 for nova network tests

The compute os-networks API is deprecated from the Microversion 2.36,
so we should set max_microversion = '2.35' for compute network tests.

ref: https://developer.openstack.org/api-ref/compute/#list-networks

Implements blueprint: clear-deprecated-api

Change-Id: I51d82e9856d6dc8984a4348d9e8ca86c5fe809ab
"
openstack%2Fproject-config~master~Ied980e7a9d7906c916984f300d517da2a9222846,openstack/project-config,master,,Ied980e7a9d7906c916984f300d517da2a9222846,Swift logs: don't compress ara html,MERGED,2018-07-30 23:28:03.000000000,2018-07-31 05:02:07.000000000,2018-07-31 05:02:07.000000000,1,0,0,587251,aae9515bbc494a0ffcc53cd11ec3c11d1462e8e4,8,4,1,1,1,James E. Blair,corvus,"Swift logs: don't compress ara html

This is handled transparently with the swift upload.

Change-Id: Ied980e7a9d7906c916984f300d517da2a9222846
"
openstack%2Fbarbican~master~If416f38cb87bdb279a05263b99b5f2af916c1229,openstack/barbican,master,skip-tests-vault,If416f38cb87bdb279a05263b99b5f2af916c1229,Skip some tests for vault plugin,MERGED,2018-07-27 02:49:14.000000000,2018-07-31 04:54:22.000000000,2018-07-31 04:54:22.000000000,17,16,2,586395,809ae5c5d02a67550907ed84a599f8b3a8d1977a,15,13,2,5,6732,Lingxian Kong,kong,"Skip some tests for vault plugin

Vault secretstore plugin doesn't support asymmetric key generation for
now, so disable the related functional tests.

With this patch, the following functional tests sould be skipped:

api.v1.functional.test_orders.OrdersTestCase.test_encryption_using_generated_key
api.v1.functional.test_rsa.RSATestCase.test_rsa_order_certificate_from_ordered_container
api.v1.functional.test_rsa.RSATestCase.test_rsa_order_certificate_from_ordered_container_with_pass
api.v1.functional.test_rsa.RSATestCase.test_rsa_order_container
api.v1.functional.test_rsa.RSATestCase.test_rsa_order_container_with_passphrase

Change-Id: If416f38cb87bdb279a05263b99b5f2af916c1229
"
openstack%2Fheat-dashboard~master~I03a1ed564cf857316382aa159fdcc5e5de3110b3,openstack/heat-dashboard,master,lib-xstatic-angular-material,I03a1ed564cf857316382aa159fdcc5e5de3110b3,Remove embedded angular-material files,NEW,2018-07-30 05:48:22.000000000,2018-07-31 04:25:54.000000000,,5,54533,0,586941,8f2a6e7c9640a1043ee537e3241ecd3453e3969c,5,2,2,6,19224,Xinni Ge,irisayame,"Remove embedded angular-material files

The following files should be removed from source code,
 and imported as the xstatic module.
angular-material.js
angular-material.scss

Change-Id: I03a1ed564cf857316382aa159fdcc5e5de3110b3
"
openstack%2Frequirements~master~I2ac1bba39422be763e239ff3d1b6c1fb7a208121,openstack/requirements,master,xstatic-requirement,I2ac1bba39422be763e239ff3d1b6c1fb7a208121,Add xstatic-angular-material,ABANDONED,2018-07-30 08:27:48.000000000,2018-07-31 04:19:57.000000000,,2,0,0,586973,abaf43b631f009e984735072b50bc557735937ce,7,4,1,2,19224,Xinni Ge,irisayame,"Add xstatic-angular-material

xstatic-angular-material is published in pypi,
add in global-requirements to be referenced
by other projects.

* Is the library actively maintained?
Yes. Maintained by xstatic team.

* Is the library good code?
Yes. Released javascript code are adopted.

* Is the library python 3 compatible?
Yes.

* Is the library license compatible?
Yes. All provided with MIT License.

* Is the library already packaged in the distros we target
(Ubuntu latest / Fedora latest)?
Yes. Published on pypi site and can be installed with pip.

* Is the function of this library already covered
by other libraries in global-requirements.txt?
No. New functions are provided.

* Is the library required for OpenStack project
or related dev or infrastructure setup?
Yes. openstack/release changes are as follows.
xstatic-angular-material 577018

* If the library release is managed by the Openstack release process
does it use the cycle-with-intermediary release type?
No. Managed by openstack/release as xstatic type.

* Do I need to update anything else?
No.

Change-Id: I2ac1bba39422be763e239ff3d1b6c1fb7a208121
"
openstack%2Ftripleo-common~master~I8bacdf2811bfbe95010360cf4e99879ae1f313b2,openstack/tripleo-common,master,bug/1774674,I8bacdf2811bfbe95010360cf4e99879ae1f313b2,"Revert ""Add disable-nouveau element to tripleo images""",MERGED,2018-07-27 14:56:14.000000000,2018-07-31 04:10:14.000000000,2018-07-31 04:10:14.000000000,2,12,0,586591,28384614a52b0b75fc2fcd40103ec6cfd3d86a69,20,8,2,5,14985,Alex Schultz,mwhahaha,"Revert ""Add disable-nouveau element to tripleo images""

This reverts commit 7c396455739209e102ea2409e557373f9c5afd9c.

Without a promoted DIB package, this causes OVB jobs to fail.

Change-Id: I8bacdf2811bfbe95010360cf4e99879ae1f313b2
Closes-Bug: #1784015
"
openstack%2Ftempest~master~Ifa246ca59f98f91334fe1a8ee16915558a98b76d,openstack/tempest,master,bp/full-schema-for-all-microversions,Ifa246ca59f98f91334fe1a8ee16915558a98b76d,Add server tags schema in servers.py,MERGED,2018-07-23 08:33:12.000000000,2018-07-31 03:55:12.000000000,2018-07-31 03:55:12.000000000,52,5,9,584766,c6e5128840e48eab22f9a126156946195694be7d,42,7,3,5,20190,zhufl,zhufl,"Add server tags schema in servers.py

Server tags testcases are introduced in microversion 2.26,
and if we run these testcases with min_microversion = 2.53, we
will get errors like
  ""File ""tempest/lib/services/compute/servers_client.py"",
       line 836, in update_tag
    self.validate_response(schema.update_tag, resp, body)
   AttributeError: 'module' object has no attribute 'update_tag'""

So this is to add server tags schema in servers.py with
microversion higher than 2.26.

Implements blueprint: full-schema-for-all-microversions

Change-Id: Ifa246ca59f98f91334fe1a8ee16915558a98b76d
"
openstack%2Fpuppet-magnum~master~Ic96b59db6c7b505afaa31f7d6b74ec621a2ba686,openstack/puppet-magnum,master,conductor_keystone_authtoken,Ic96b59db6c7b505afaa31f7d6b74ec621a2ba686,add keystone_authtoken to conductor,MERGED,2018-07-06 07:03:43.000000000,2018-07-31 03:38:50.000000000,2018-07-31 03:38:50.000000000,10,0,0,580566,fbd5517abd1ae11eedeea9726a8daf704307079c,9,3,2,2,8064,Jake Yip,jake,"add keystone_authtoken to conductor

magnum-conductor's keystone client appears to still require access to
keystone_authtoken auth_uri [1]

[1] https://github.com/openstack/magnum/blob/stable/queens/magnum/common/keystone.py#L47

Change-Id: Ic96b59db6c7b505afaa31f7d6b74ec621a2ba686
"
openstack%2Fpuppet-pacemaker~master~I38111592862a883496127da4c5b658766063f7d2,openstack/puppet-pacemaker,master,,I38111592862a883496127da4c5b658766063f7d2,Pin net-telnet to 0.1.1,MERGED,2018-07-30 19:33:53.000000000,2018-07-31 03:32:08.000000000,2018-07-31 03:32:07.000000000,1,0,0,587202,a82e35575c4360bcb508cffc493abd4baa567711,9,3,2,1,20172,Michele Baldessari,michele,"Pin net-telnet to 0.1.1

Via http://logs.openstack.org/50/585150/2/check/puppet-openstack-unit-4.8-centos-7/fc22685/job-output.txt.gz
we are currently getting the following error:

  Installing net-telnet 0.2.0
  Gem::InstallError: net-telnet requires Ruby version >= 2.3.0.
  An error occurred while installing net-telnet (0.2.0), and Bundler cannot continue.
  Make sure that `gem install net-telnet -v '0.2.0' --source 'https://rubygems.org/'` succeeds before bundling.

Let's pin net-telnet to 0.1.1 as we do not have a recent enough ruby
atm.

Change-Id: I38111592862a883496127da4c5b658766063f7d2
"
openstack%2Fpython-watcherclient~master~If99b325ff6625abc0e5e40bdfb83c9097413a822,openstack/python-watcherclient,master,,If99b325ff6625abc0e5e40bdfb83c9097413a822,remove LOG definitions that have not been used,ABANDONED,2018-07-31 01:51:09.000000000,2018-07-31 03:20:45.000000000,,0,5,0,587261,fb690aa34a11ca1fdaddc34f7926b7f85f899c07,6,4,3,1,28748,chenker,chenke,"remove LOG definitions that have not been used

Change-Id: If99b325ff6625abc0e5e40bdfb83c9097413a822
"
openstack%2Fopenstack-ansible-os_barbican~master~I67fa14cb8b23b29f78a9668fa7fe1ceedf0f18f7,openstack/openstack-ansible-os_barbican,master,common-systemd-service,I67fa14cb8b23b29f78a9668fa7fe1ceedf0f18f7,Convert role to use a common systemd service role,ABANDONED,2018-03-12 15:55:08.000000000,2018-07-31 03:20:00.000000000,,33,141,1,552071,c1614a6e3ba51e440ae91e4f0a290a49dc276cc7,41,3,12,7,7353,Kevin Carter,cloudnull,"Convert role to use a common systemd service role

This removes the systemd service templates and tasks from this role and
leverages a common systemd service role instead. This change removes a
lot of code duplication across all roles all without sacrificing features
or functionality. The intention of this change is to ensure uniformity and
reduce the maintenance burden on the community when sweeping changes are
needed.

In converting this role to use the common systemd_service role a
service dictionary was created in the defaults main.yml file.
This change follows the pattern of other services.

Change-Id: I67fa14cb8b23b29f78a9668fa7fe1ceedf0f18f7
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fopenstack-ansible-os_barbican~master~Ia69aaec00e3b7731d72fcba0d25179a1787b7177,openstack/openstack-ansible-os_barbican,master,common-systemd-service,Ia69aaec00e3b7731d72fcba0d25179a1787b7177,Add systemd tags to include role,ABANDONED,2018-06-28 00:00:56.000000000,2018-07-31 03:19:31.000000000,,1,0,0,578598,7306482099df5e378204ed84e669114c5468d9c9,5,2,1,1,7353,Kevin Carter,cloudnull,"Add systemd tags to include role

There are times when a deployer will need to reconfigure parts of
an environment and having a general purpose tag to run said operation
will be important especicially should the deployer be needing to
reconfigure systemd unit files in a downtime event. This change adds
a general purpose systemd tag where include_role and systemd is found
which will assit operators with day2 operational tasks.

Change-Id: Ia69aaec00e3b7731d72fcba0d25179a1787b7177
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fopenstack-ansible-ops~master~I9a19e49bf1030996f2cfa6b65d237c819488bef8,openstack/openstack-ansible-ops,master,,I9a19e49bf1030996f2cfa6b65d237c819488bef8,[WIP] Add XPACK monitoring to ELK and Beats,ABANDONED,2018-04-27 23:08:59.000000000,2018-07-31 03:16:44.000000000,,500,445,0,564926,d3d664cf1ad408029ec3af42d8e4dd0613220f88,4,1,2,14,7353,Kevin Carter,cloudnull,"[WIP] Add XPACK monitoring to ELK and Beats

X-Pack provides a lot of features for understanding data and building
out alerting and machine learning. This change introduces xpack to the
system as a first step using the ""Basic"" license.

Change-Id: I9a19e49bf1030996f2cfa6b65d237c819488bef8
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fopenstacksdk~master~I0429f7e77f42180f27bbdd063790474a9fd96cbb,openstack/openstacksdk,master,timeout,I0429f7e77f42180f27bbdd063790474a9fd96cbb,Add some backoff to find_best_address,MERGED,2018-06-15 00:58:12.000000000,2018-07-31 02:56:02.000000000,2018-07-31 02:56:02.000000000,24,11,3,575580,850b99bf8ccf7e3fe5baf4dd90232cc1bea0be59,21,5,3,1,7118,Ian Wienand,iwienand,"Add some backoff to find_best_address

I'm seeing

  The cloud returned multiple addresses, and none of them seem to
  work. That might be what you wanted, but we have no clue what's
  going on, so we just picked one at random

Which isn't super helpful.  The problem turns out to be that the
address that is being probed returned ""no route to host"" (errno 113)
temporarily while the interface came up; with just a second or two
more this interface was actually active.

It's hard to say exactly, as this is all a bit hand-wavy ... but I
think it's worth guessing that a socket.error on a booting host *may*
resolve itself, and is worth a few retries to be a bit more generous.
Emperically, this has made finding the address more reliable when
bringing up nodes from puppetmaster->packethost in infra.

This also adds some more info to the debug message.

Change-Id: I0429f7e77f42180f27bbdd063790474a9fd96cbb
"
openstack%2Fneutron-fwaas~master~Iec1cfc0902a516f63af552c7f53c7099a33f253e,openstack/neutron-fwaas,master,follow_up,Iec1cfc0902a516f63af552c7f53c7099a33f253e,Follow-up to fix some namespace tests,MERGED,2018-07-09 01:45:47.000000000,2018-07-31 02:48:04.000000000,2018-07-31 02:48:04.000000000,12,20,8,580885,81d41e27b6b3b2c318477c2aebe53b9db015457b,31,7,6,2,25254,Nguyen Van Trung,trungnv,"Follow-up to fix some namespace tests

- FD in pyroute2 doesn't need to close any sessions [1] when use in
  neutron-fwaas.

- Indicate arguments for setns() method.

[1] https://github.com/svinota/pyroute2/blob/master/pyroute2/netns/__init__.py#L247

Change-Id: Iec1cfc0902a516f63af552c7f53c7099a33f253e
"
openstack%2Fzun~master~Ibc122332c03812c5eec60b554621a14774aebb48,openstack/zun,master,,Ibc122332c03812c5eec60b554621a14774aebb48,Just modify database when updating the name of container,MERGED,2018-07-30 08:42:50.000000000,2018-07-31 02:34:08.000000000,2018-07-31 02:34:08.000000000,8,2,0,586979,e1bbd028a2271fef943c655fa3c8d21476679020,7,3,1,1,23365,feng.shengqin,FengShengqin,"Just modify database when updating the name of container

Change-Id: Ibc122332c03812c5eec60b554621a14774aebb48
"
openstack%2Fpython-masakariclient~stable%2Frocky~Ie207012913856120639e4f0bad9519efddbd6a4f,openstack/python-masakariclient,stable/rocky,create-rocky,Ie207012913856120639e4f0bad9519efddbd6a4f,Update UPPER_CONSTRAINTS_FILE for stable/rocky,MERGED,2018-07-26 13:49:34.000000000,2018-07-31 02:28:10.000000000,2018-07-31 02:28:10.000000000,1,1,0,586224,9108e326ab4fdec6becb6d4bc3cb53b7e53b3f28,6,2,1,1,22816,OpenStack Release Bot,release,"Update UPPER_CONSTRAINTS_FILE for stable/rocky

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Ie207012913856120639e4f0bad9519efddbd6a4f
"
openstack%2Fpython-openstackclient~master~I6e15badcece1dfd99d7039297916b2c0f5fc1876,openstack/python-openstackclient,master,remove-volume-replication-v1-support,I6e15badcece1dfd99d7039297916b2c0f5fc1876,Remove volume replication v1 support.,ABANDONED,2018-07-30 11:34:18.000000000,2018-07-31 02:26:03.000000000,,4,67,1,587008,e1bfd945ecee3c9a8828ed064bd535bdba6134d1,7,5,3,3,25113,Fan Zhang,fanzhang,"Remove volume replication v1 support.

Due to patch [1] in cinder, now the gate jobs fail.
So try to remove parameter `--source-replicated` to
fix the gate jobs.

[1].https://review.openstack.org/#/c/586293/

Change-Id: I6e15badcece1dfd99d7039297916b2c0f5fc1876
Signed-off-by: Fan Zhang <zh.f@outlook.com>
"
openstack%2Fpython-masakariclient~stable%2Frocky~I15156e4a789e2bfa14a91d15d73adff732f1a8a8,openstack/python-masakariclient,stable/rocky,create-rocky,I15156e4a789e2bfa14a91d15d73adff732f1a8a8,Update .gitreview for stable/rocky,MERGED,2018-07-26 13:49:33.000000000,2018-07-31 02:24:37.000000000,2018-07-31 02:24:37.000000000,1,0,0,586223,4bf0b23e769d893ebc0641f38c44ff5689c3197e,6,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/rocky

Change-Id: I15156e4a789e2bfa14a91d15d73adff732f1a8a8
"
openstack%2Fpython-masakariclient~master~I5be7cbe607d0bc0c4e91c00f82ef426ccfce0e53,openstack/python-masakariclient,master,reno-rocky,I5be7cbe607d0bc0c4e91c00f82ef426ccfce0e53,Update reno for stable/rocky,MERGED,2018-07-26 13:49:36.000000000,2018-07-31 02:22:46.000000000,2018-07-31 02:22:46.000000000,7,0,0,586225,930d448f30de3da68e70deb0db2e22d664a08ba3,6,2,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: I5be7cbe607d0bc0c4e91c00f82ef426ccfce0e53
"
openstack%2Fmagnum~master~Icf7487cb936382adff93ace2fb71588e9b055f08,openstack/magnum,master,bug/1737809,Icf7487cb936382adff93ace2fb71588e9b055f08,[WIP] Support basic monitor for node status,ABANDONED,2017-12-14 10:57:36.000000000,2018-07-31 02:13:05.000000000,,43,4,0,527933,aa0ac4f9b9e2955333f01d26ed84ce9ffdd30f52,4,1,2,2,6484,Feilong Wang,flwang,"[WIP] Support basic monitor for node status

To get a better monitor for node status, this patch is adding a new
metric key to existing monitor to send the node status as notification.
As a result, operators can get a general idea about cluster status by
extracting the notifications.

Closes-Bug: #1737809

Change-Id: Icf7487cb936382adff93ace2fb71588e9b055f08
"
openstack%2Fkarbor-dashboard~master~Ie14819fe7be1fc6d7d8e04f2aa9f123bb6ad17e6,openstack/karbor-dashboard,master,,Ie14819fe7be1fc6d7d8e04f2aa9f123bb6ad17e6,fix tox python3 overrides,MERGED,2018-06-09 01:22:26.000000000,2018-07-31 02:02:14.000000000,2018-07-31 02:02:14.000000000,5,0,0,573859,86f514e9ccf3200df94ac26a30b57ad109415b38,14,4,1,1,26297,pippo,huang.zhiping,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ie14819fe7be1fc6d7d8e04f2aa9f123bb6ad17e6
"
openstack%2Fkarbor-dashboard~master~I5842ed05896f6a76b718fd835867cfb0b01f8b4e,openstack/karbor-dashboard,master,zanata/translations,I5842ed05896f6a76b718fd835867cfb0b01f8b4e,Imported Translations from Zanata,MERGED,2018-05-10 06:55:36.000000000,2018-07-31 02:02:14.000000000,2018-07-31 02:02:13.000000000,773,0,0,567486,8c851fce3914cdc3b190eb60f418f2b5ccf0bcea,16,10,2,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5842ed05896f6a76b718fd835867cfb0b01f8b4e
"
openstack%2Fpython-openstackclient~master~I51ed81ef792e920a7dea9f2e17ce66b05d57e7ff,openstack/python-openstackclient,master,bug/890098776,I51ed81ef792e920a7dea9f2e17ce66b05d57e7ff,test,ABANDONED,2018-07-16 02:34:11.000000000,2018-07-31 02:00:49.000000000,,1,0,0,582821,ac94a6b90859f846b4c6117cb3219ea5d7b46045,3,1,1,1,28654,chenming,mmbbz,"test

Change-Id: I51ed81ef792e920a7dea9f2e17ce66b05d57e7ff
"
openstack%2Frpm-packaging~master~Ied0f7c2e83afb15d78b89b6707303a7b3d69a4fa,openstack/rpm-packaging,master,bug/mistral-0,Ied0f7c2e83afb15d78b89b6707303a7b3d69a4fa,alter mistral.spec.j2,ABANDONED,2018-07-16 03:35:15.000000000,2018-07-31 02:00:18.000000000,,1,1,0,582827,5bf13dad22a5e3bac1bb5f4970845b5ce670162c,5,3,1,1,28654,chenming,mmbbz,"alter mistral.spec.j2

Change-Id: Ied0f7c2e83afb15d78b89b6707303a7b3d69a4fa
"
openstack%2Frpm-packaging~master~I6afe47a8f9bdd037e1e101b437d8a9f7a6fd55cf,openstack/rpm-packaging,master,oslo.cache-url,I6afe47a8f9bdd037e1e101b437d8a9f7a6fd55cf,fix oslo.cache url error,ABANDONED,2018-07-30 05:08:54.000000000,2018-07-31 01:55:57.000000000,,1,1,0,586937,fd77c6b1603ca77a09171a979494f7e7b48e5c18,5,3,1,1,28654,chenming,mmbbz,"fix oslo.cache url error

Change-Id: I6afe47a8f9bdd037e1e101b437d8a9f7a6fd55cf
"
openstack%2Frpm-packaging~master~I191830f9763a8fcfb13f61df9cecf8a871a6ce04,openstack/rpm-packaging,master,oslo-cache-url,I191830f9763a8fcfb13f61df9cecf8a871a6ce04,fix oslo.cache url link error,ABANDONED,2018-07-30 03:25:53.000000000,2018-07-31 01:55:40.000000000,,1,1,0,586929,760d14a25a66beda083f9365e1a63f99ab47bfaa,5,3,1,1,28654,chenming,mmbbz,"fix oslo.cache url link error

Change-Id: I191830f9763a8fcfb13f61df9cecf8a871a6ce04
"
openstack%2Fpython-muranoclient~master~I8d21c6e54bab1c6e191fd426e3bf09b3c9e0820d,openstack/python-muranoclient,master,,I8d21c6e54bab1c6e191fd426e3bf09b3c9e0820d,Move legacy-muranoclient-dsvm-functional-mysql-backend job to muranoclient,MERGED,2018-07-28 05:20:29.000000000,2018-07-31 01:47:51.000000000,2018-07-31 01:47:51.000000000,170,0,0,586746,0a20058342966b15f01efcc02a7a14792bd1ba55,11,2,3,3,14107,zhurong,zhurong,"Move legacy-muranoclient-dsvm-functional-mysql-backend job to muranoclient

Change-Id: I8d21c6e54bab1c6e191fd426e3bf09b3c9e0820d
"
openstack%2Fpython-openstackclient~master~Ia16314952d26100d0cc6219a3507a9684eae1d2e,openstack/python-openstackclient,master,fix-func-test,Ia16314952d26100d0cc6219a3507a9684eae1d2e,Fix broken functional tests,ABANDONED,2018-07-30 19:34:43.000000000,2018-07-31 01:38:58.000000000,,7,2,0,587203,8d148cec578a2c1b5d7b3c4af452a8b898f6716c,3,1,1,2,970,Dean Troyer,dtroyer,"Fix broken functional tests

Bundled together to pass tests:
* image test needs to be more resilient about schema changes
* cinderclient removed a bunch of v1 REST API bits from the Python
  API the day before cutting a stable release.  Cap our usage.

Change-Id: Ia16314952d26100d0cc6219a3507a9684eae1d2e
"
openstack%2Fzun~master~I222270163ca39649f03b3c6734b3fb62849790a3,openstack/zun,master,,I222270163ca39649f03b3c6734b3fb62849790a3,Add a comment for Container Object version.,MERGED,2018-07-30 09:14:51.000000000,2018-07-31 01:27:03.000000000,2018-07-31 01:27:03.000000000,1,0,0,586989,8ce961e969b93031a928b7192db70fcf9e811462,7,3,1,1,23829,weikeyou,weikeyou,"Add a comment for Container Object version.

Change-Id: I222270163ca39649f03b3c6734b3fb62849790a3
"
openstack%2Fpuppet-tripleo~stable%2Fpike~I6d0cfc9aafd2184161666bb9edcce16a0ec5a06f,openstack/puppet-tripleo,stable/pike,bug/1736587-stable/pike,I6d0cfc9aafd2184161666bb9edcce16a0ec5a06f,Remove INSECURE_REGISTRY from docker_registry.pp,MERGED,2018-07-30 18:30:43.000000000,2018-07-31 01:18:19.000000000,2018-07-31 01:18:19.000000000,10,16,0,587190,80c5a07aa5a0a9042789a067aa175a1ddfe0a193,9,4,2,1,3153,Emilien Macchi,emilienm,"Remove INSECURE_REGISTRY from docker_registry.pp

This patch removes the INSECURE_REGISTRY options from the
docker_registry manifest. These configuration options can
conflict with the configuration done in the docker
profile. Furthermore they are not directly related to
the docker registry service itself and are better managed
as part of the other profile.

Change-Id: I6d0cfc9aafd2184161666bb9edcce16a0ec5a06f
Closes-bug: #1736587
Closes-bug: #1736803
(cherry picked from commit b2521749561bc7b1d6da9e5b776c2945c65977a0)
"
openstack%2Ftripleo-heat-templates~master~I12a91da7df6079d391fa9583c4f2c926d123044f,openstack/tripleo-heat-templates,master,bug/1783341,I12a91da7df6079d391fa9583c4f2c926d123044f,Fix parameter name used to create the Manila CephX keyring,MERGED,2018-07-24 21:56:12.000000000,2018-07-31 01:18:18.000000000,2018-07-31 01:18:18.000000000,15,4,0,585562,787e7910a8e277a3be7eab0a632ec5746bf6a27d,33,9,4,3,6796,Giulio Fidente,gfidente,"Fix parameter name used to create the Manila CephX keyring

We obsoleted the CephFS native parameter but missed to update it
in the Ceph profile.

Change-Id: I12a91da7df6079d391fa9583c4f2c926d123044f
Closes-Bug: #1783341
"
openstack%2Ftripleo-quickstart~master~Ib0f96f658cf83661c7abae87a5bb77abe12d3f14,openstack/tripleo-quickstart,master,reqs,Ib0f96f658cf83661c7abae87a5bb77abe12d3f14,Add option to install additional roles,MERGED,2018-06-20 10:10:40.000000000,2018-07-31 01:16:42.000000000,2018-07-31 01:16:41.000000000,11,1,0,576816,0a30e04efe41c8e1579731c848e4d78f4a3768da,23,8,3,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add option to install additional roles

Add option to quickstart to install additional roles via command
line. Sometimes we need to install external role and we can't
or don't want to create another requirement file for that.
Let's add command line option for that.
The default behaviour will remain the same - installing only
quickstart and extras requirements.
If external or any other requirement is specified, the quickstart
requirements file will be installed automatically,
but not the extras.

Change-Id: Ib0f96f658cf83661c7abae87a5bb77abe12d3f14
"
openstack%2Ftripleo-quickstart-extras~master~I06099486f9b0be9e7bed40ac6b351658a612b3df,openstack/tripleo-quickstart-extras,master,reproimage,I06099486f9b0be9e7bed40ac6b351658a612b3df,Search for last public image for reproducer,MERGED,2018-07-17 10:48:05.000000000,2018-07-31 01:16:41.000000000,2018-07-31 01:16:41.000000000,1,1,0,583198,417ec7dd0c3cb296b39cb321e38f4d0d121ad436,9,9,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Search for last public image for reproducer

In order to filter out saved snapshots in the tenant, look for
public images when calculating the last one.

Change-Id: I06099486f9b0be9e7bed40ac6b351658a612b3df
"
openstack%2Felection~master~I429f538215180323753749e1c99c93df983e98e6,openstack/election,master,rally_stein,I429f538215180323753749e1c99c93df983e98e6,[rally] Nominate Andrey Kurilin for PTL role,MERGED,2018-07-30 10:44:34.000000000,2018-07-31 01:09:46.000000000,2018-07-31 01:09:46.000000000,20,0,0,586995,43bf5e6c4d1a2a17f0ddc36cf2f3dd657f2419ba,7,3,1,1,9545,Andrey Kurilin,akurilin,"[rally] Nominate Andrey Kurilin for PTL role

Change-Id: I429f538215180323753749e1c99c93df983e98e6
"
openstack%2Felection~master~Ic255a98df529a6282be204be21f3285f9f51d959,openstack/election,master,,Ic255a98df529a6282be204be21f3285f9f51d959,Adding Eduardo Gonzalez candidacy for Kolla,MERGED,2018-07-30 08:39:19.000000000,2018-07-31 01:09:07.000000000,2018-07-31 01:09:06.000000000,44,0,0,586975,1418a95c0b3534262ff7bac0d9da6a7ddb859eb4,9,3,2,1,19316,Eduardo Gonzalez,egonzalez90,"Adding Eduardo Gonzalez candidacy for Kolla

Change-Id: Ic255a98df529a6282be204be21f3285f9f51d959
"
openstack%2Ftripleo-quickstart~master~I6ae8593f58653f236f212ac927fdd7e16bc95ba0,openstack/tripleo-quickstart,master,debugcurl,I6ae8593f58653f236f212ac927fdd7e16bc95ba0,save curl errors in separate file for future debug,MERGED,2018-07-04 17:05:27.000000000,2018-07-31 01:05:39.000000000,2018-07-31 01:05:39.000000000,38,38,2,580214,d8b116ec32dbea7523b547cbae4e15afa65bb673,19,11,1,19,10969,Shnaidman Sagi (Sergey),sergsh,"save curl errors in separate file for future debug

Sometimes curl fails to retrieve DLRN repo files, but we can't
know what was the problem because of ""--silent"".
Save errors into separate file in ~/dlrn_repo_curl_errors.log
for investigation

Change-Id: I6ae8593f58653f236f212ac927fdd7e16bc95ba0
"
openstack%2Ftripleo-common~master~I49805f1e2ce845b1cebc04df813261cca12ec431,openstack/tripleo-common,master,bug/1779093,I49805f1e2ce845b1cebc04df813261cca12ec431,Update failures listing to use latest ansible-errors.json location,MERGED,2018-07-17 15:55:56.000000000,2018-07-31 00:58:46.000000000,2018-07-31 00:58:46.000000000,6,74,0,583293,eec131ee5e7c3070bfef441d143202bf9255b2e2,53,6,6,3,7509,Jiri Tomasek,jtomasek,"Update failures listing to use latest ansible-errors.json location

Since the config-download files are stored per plan name, we don't need
to reach for deployment status object and execution any more.

This change also updates get_deployment_failures workflow to set status
FAILED when an error message is returned from the action.

Closes-Bug: 1779093
Change-Id: I49805f1e2ce845b1cebc04df813261cca12ec431
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Iff1a757c4893698ba550143d786088e5b9ffd714,openstack/tripleo-heat-templates,stable/queens,bug/1767998-stable/queens,Iff1a757c4893698ba550143d786088e5b9ffd714,Copy-in redis certs via kolla extended/start,MERGED,2018-07-30 08:40:32.000000000,2018-07-31 00:58:45.000000000,2018-07-31 00:58:45.000000000,2,2,0,586978,ff7a9780a6ad35c4a1cfb1d542c8289fc8042b99,8,4,1,1,6926,Bogdan Dobrelya,bogdando,"Copy-in redis certs via kolla extended/start

Instead of bind-mounting directly into the redis container,
follow the established approach for ditributing certificates
in containers.

Partial-bug: #1767998

Change-Id: Iff1a757c4893698ba550143d786088e5b9ffd714
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 04fd6ff1b1641d79ca96c073d88a5b8a3f8c73ca)
"
openstack%2Felection~master~I56feffa81fd94c55fb81b562809cd35e1905ffa5,openstack/election,master,587209,I56feffa81fd94c55fb81b562809cd35e1905ffa5,Adding Alex Chadin as Watcher PTL,MERGED,2018-07-30 19:52:08.000000000,2018-07-31 00:50:49.000000000,2018-07-31 00:50:49.000000000,18,0,0,587209,bbdc91b627550a8f3f74f968a5894d9b278fceb7,14,3,4,1,19055,Alexander Chadin,joker946,"Adding Alex Chadin as Watcher PTL

Change-Id: I56feffa81fd94c55fb81b562809cd35e1905ffa5
"
openstack%2Fpbr~master~Id1626580dc76e2b2105b549873e88225186cb4fd,openstack/pbr,master,,Id1626580dc76e2b2105b549873e88225186cb4fd,Ignore Zuul when generating AUTHORS,MERGED,2018-07-30 19:44:38.000000000,2018-07-31 00:33:26.000000000,2018-07-31 00:33:26.000000000,1,1,0,587208,1ee21f6cd8546553106f02942d765cd9c9117c97,7,3,1,1,15343,Tim Burke,tburke,"Ignore Zuul when generating AUTHORS

Change-Id: Id1626580dc76e2b2105b549873e88225186cb4fd
"
openstack%2Fdiskimage-builder~master~I1c5f4ffc9619c774f78d21b918a81647b3dc28f5,openstack/diskimage-builder,master,bug/1777861,I1c5f4ffc9619c774f78d21b918a81647b3dc28f5,Move LVM cleanup phase into cleanup,MERGED,2018-06-29 08:50:13.000000000,2018-07-31 00:30:47.000000000,2018-07-31 00:30:47.000000000,35,49,0,579102,7302f38f97a071fc16c4763f12220623d6bf82fb,18,5,2,2,7118,Ian Wienand,iwienand,"Move LVM cleanup phase into cleanup

A recap -- we run umount phase then cleanup phase.

Currently we register a object to do the final LVM cleanup based on
the parent PV.  In light of I697bfbf042816c5ddf170bde9534cc4f0c7279ff,
I believe this should just be done in the cleanup phase.  Note there
was probably additional confusion because the partition removal was
done in the cleanup phase until
I7af3c5cf66afd81a481f454b5207af552ad52a32, where is was moved into the
umount phase.

Thus it is moved into the cleanup() function and this should now run,
per the comment, after everything is unmounted in umount phase.

This also exposes that we didn't have the cleanup phase in the unit
tests (because it wasn't doing anything I guess).  Add it.

Change-Id: I1c5f4ffc9619c774f78d21b918a81647b3dc28f5
"
openstack%2Felection~master~I588463e5527c4ebfd24dc8f0d94d56d18f5d5673,openstack/election,master,587209,I588463e5527c4ebfd24dc8f0d94d56d18f5d5673,Lookup gerrit username and use that for looking for changes,MERGED,2018-07-31 00:04:01.000000000,2018-07-31 00:29:38.000000000,2018-07-31 00:29:38.000000000,2,1,3,587257,d7645d2a8e7bdfee948473992cef2c436bf47c58,7,3,1,1,12898,Tony Breeds,tonyb,"Lookup gerrit username and use that for looking for changes

In the situation that a candidate has registered an email address with
the Foundation and that address is a secondary address in gerrit we'll
fail to fin any validating changes.

So fix that by finding an account that matches the email address under
review and use that gerrit account for looking for change owners.

Change-Id: I588463e5527c4ebfd24dc8f0d94d56d18f5d5673
"
openstack%2Fcinder~stable%2Fqueens~I660c934da053b576f817cdd349949873b0c30193,openstack/cinder,stable/queens,bug/1783028-stable/queens,I660c934da053b576f817cdd349949873b0c30193,Add release note for force delete MV fix,MERGED,2018-07-27 00:43:48.000000000,2018-07-31 00:22:28.000000000,2018-07-31 00:22:28.000000000,9,0,0,586378,869fab393b13d056a702c899d073c48b6bea6f50,28,14,1,1,11904,Sean McGinnis,SeanM,"Add release note for force delete MV fix

Change Ida04fc8a7a7af541547ea196a3cbb5a287714eea fixed an issue where we
were checking the wrong microversion for support of the force delete
functionality. This adds a release note to call out that previously this
call might have been working when using a lower microversion but will no
longer be allowed.

Related-bug: #1783028

Change-Id: I660c934da053b576f817cdd349949873b0c30193
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit fe69f679369057a7c381178f770bf68d0bc1cee0)
"
openstack%2Fswift~master~Id932780c2e555b77a0066c70641684c0ddfdd79e,openstack/swift,master,,Id932780c2e555b77a0066c70641684c0ddfdd79e,Add some reno artifacts to .gitignore,MERGED,2018-07-30 19:27:20.000000000,2018-07-31 00:22:26.000000000,2018-07-31 00:22:26.000000000,2,0,0,587201,6f920fd4372621e8ca06eb5cdc07a6f399b0d2db,6,2,1,1,15343,Tim Burke,tburke,"Add some reno artifacts to .gitignore

I don't see why running `python setup.py sdist` should leave me
with a dirty checkout.

Change-Id: Id932780c2e555b77a0066c70641684c0ddfdd79e
"
openstack%2Fdiskimage-builder~master~Ibd66c2ca4f8cc423783555d8a99b1184f43adff2,openstack/diskimage-builder,master,,Ibd66c2ca4f8cc423783555d8a99b1184f43adff2,cache-url requires curl,MERGED,2018-02-08 18:05:08.000000000,2018-07-31 00:20:56.000000000,2018-07-31 00:20:56.000000000,9,0,0,542350,d8907e78b578cca6c238aed785fbd7b655a6ed76,24,6,3,3,6488,Clint Byrum,clint-fewbar,"cache-url requires curl

In some cases cache-url can get pulled in without curl, causing it to
fail.

Co-Authored-By: Adam Harwell <flux.adam@gmail.com>

Change-Id: Ibd66c2ca4f8cc423783555d8a99b1184f43adff2
"
openstack%2Fopenstack-helm-infra~master~I2a763b6730bcbef1900f7cd4c5a05066bfffadf2,openstack/openstack-helm-infra,master,rehome/rabbitmq,I2a763b6730bcbef1900f7cd4c5a05066bfffadf2,Fix to configure RABBIT_CAPABILITIES,MERGED,2018-07-30 17:50:36.000000000,2018-07-31 00:10:48.000000000,2018-07-31 00:10:47.000000000,2,1,0,587177,141a1a98df657bc06274462ed286f090e4e56cad,7,3,1,2,23928,Pete Birley,portdirect,"Fix to configure RABBIT_CAPABILITIES

This PS fixes the rabbitmq exporter configurations.

Now, RABBIT_CAPABILITIES env values can not be set because of dummy
values.

After fix values, it needs to upgrade exporter image version because
of string parsing problem in the exporter.

Additional, bert option is added.

https://github.com/kbudde/rabbitmq_exporter

Change-Id: I2a763b6730bcbef1900f7cd4c5a05066bfffadf2
co-authored-by: DaeSeong Kim <powerds0111@gmail.com>
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fopenstack-helm-infra~master~Ib94f7ea92aacfd35f0a13672d2a94335335575ad,openstack/openstack-helm-infra,master,rehome/rabbitmq,Ib94f7ea92aacfd35f0a13672d2a94335335575ad,RabbitMQ: move RabbitMQ chart to OSH-Infra,MERGED,2018-07-25 13:32:25.000000000,2018-07-31 00:10:47.000000000,2018-07-31 00:10:47.000000000,1094,0,0,585746,59fc23abdc515c5fe0cbe58d7acb3ef26e7e6ee9,9,3,2,21,23928,Pete Birley,portdirect,"RabbitMQ: move RabbitMQ chart to OSH-Infra

This PS moves the RabbitMQ chart to OSH-Infra

Story: 2002204
Task: 585554

Change-Id: Ib94f7ea92aacfd35f0a13672d2a94335335575ad
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fpython-magnumclient~master~Idb7fcf13759a2714d06ce34b3a66aaca8651fe24,openstack/python-magnumclient,master,story/2002805,Idb7fcf13759a2714d06ce34b3a66aaca8651fe24,Support y/N prompt for cluster delete,ABANDONED,2018-07-03 04:34:42.000000000,2018-07-30 23:53:00.000000000,,34,0,0,579762,79c2528e30154b2913166882fc5c27f6c40bafe2,7,4,1,2,6484,Feilong Wang,flwang,"Support y/N prompt for cluster delete

Delete COE cluster means all the resources/services running on the
cluster will be permanently deleted. So it would be nice to have a
y/N prompt for user to confirm the deletion. This patch fixes it.

Task: 22715
Story: 2002805

Change-Id: Idb7fcf13759a2714d06ce34b3a66aaca8651fe24
"
openstack%2Fopenstack-helm-infra~master~I055c7b02d9af68f6e3c5eda33d69dd0b8b1b70ca,openstack/openstack-helm-infra,master,enable_ingresses,I055c7b02d9af68f6e3c5eda33d69dd0b8b1b70ca,Deploy ingress in osh-infra dev and multinode gates,MERGED,2018-07-27 20:18:43.000000000,2018-07-30 23:51:24.000000000,2018-07-30 23:51:24.000000000,311,303,0,586680,9fd4cd0917bd4dc0de45e66abc6bebfc411c412a,9,3,2,56,17591,Steve Wilkerson,srwilkers,"Deploy ingress in osh-infra dev and multinode gates

This deploys the ingress chart in the openstack-helm-infra dev
and multinode gates, which allows for enabling ingresses in the
charts where defined

Change-Id: I055c7b02d9af68f6e3c5eda33d69dd0b8b1b70ca
"
openstack%2Fopenstacksdk~master~I259ae3b9c729de44f219a1ad2dbe0082e2967409,openstack/openstacksdk,master,swift-streaming,I259ae3b9c729de44f219a1ad2dbe0082e2967409,Remove the auto-creation of containers in create_object,MERGED,2018-07-27 16:34:03.000000000,2018-07-30 23:33:28.000000000,2018-07-30 23:33:28.000000000,15,235,0,586616,8ccece34fffad58d764a5bbffa9b1b8adcbb8b68,13,4,3,3,2,Monty Taylor,mordred,"Remove the auto-creation of containers in create_object

The auto-creation of containers in create_object came from shade and
seemed like a good idea at the time. However, containers are where
things like storage policies and other metadata/config go, so it's
actually important that a user create those themselves. Removing the
autocreation means create_object no longer does a HEAD call to check to
see if the container exists first.

Change-Id: I259ae3b9c729de44f219a1ad2dbe0082e2967409
"
openstack%2Fopenstacksdk~master~I6f7ae89799e733657adc9989b3accfdf6e3f2f82,openstack/openstacksdk,master,swift-streaming,I6f7ae89799e733657adc9989b3accfdf6e3f2f82,Add support for streaming object responses,MERGED,2018-07-26 14:28:51.000000000,2018-07-30 23:33:27.000000000,2018-07-30 23:33:27.000000000,70,7,0,586250,96eac6a018ebb7b9b7b909a927b1190c33367e58,16,3,7,3,2,Monty Taylor,mordred,"Add support for streaming object responses

When getting objects, sometimes you want a stream rather than reading
the whole value or passing to a file-like object. Add a stream_object
method that returns an iterator over the content to be returned.

Change-Id: I6f7ae89799e733657adc9989b3accfdf6e3f2f82
"
openstack%2Fproject-config~master~I737aafb2935c3c62758612ef82e7c80db07380c0,openstack/project-config,master,remove-heat-template-python-job,I737aafb2935c3c62758612ef82e7c80db07380c0,Remove heat-templates python jobs,MERGED,2018-07-23 08:49:19.000000000,2018-07-30 23:27:58.000000000,2018-07-30 23:27:58.000000000,0,6,1,584774,d1e0cfcbefd27b60b51617706061893780734f26,19,5,5,1,12404,Rico Lin,rico.lin,"Remove heat-templates python jobs

Those jobs are for deprecated hooks which now already replaced by
heat-agents (so as python jobs). Those deprecated hooks should be
remove soon, so do not need to check them in heat-templates.

Change-Id: I737aafb2935c3c62758612ef82e7c80db07380c0
"
openstack%2Fopenstacksdk~master~I03f31f33cbef93c30acf56de5e06acf0d721bc03,openstack/openstacksdk,master,swift-streaming,I03f31f33cbef93c30acf56de5e06acf0d721bc03,Add method for returning a raw response for an object,MERGED,2018-07-26 15:01:40.000000000,2018-07-30 23:27:57.000000000,2018-07-30 23:27:57.000000000,67,35,0,586262,de981a324a8cd967c946812895ccdc0a7e4d6145,16,3,6,3,2,Monty Taylor,mordred,"Add method for returning a raw response for an object

Some use cases are complex and need access to the raw response object.
Add a method, get_object_raw, which just returns the requests response
object.

python-requests needs at least 2.18 for Response to be a contextmanager.

Change-Id: I03f31f33cbef93c30acf56de5e06acf0d721bc03
"
openstack%2Fproject-config~master~I6ad353b67ce7f1d2c8dcbd8d2b24ed706974a712,openstack/project-config,master,releases,I6ad353b67ce7f1d2c8dcbd8d2b24ed706974a712,Skip releases jobs on doc updates,MERGED,2018-07-20 21:05:58.000000000,2018-07-30 23:27:47.000000000,2018-07-30 23:27:47.000000000,3,0,0,584515,81889b6ccbc842091d4b45d0a976964480d60da4,8,4,1,1,11904,Sean McGinnis,SeanM,"Skip releases jobs on doc updates

Unit tests and pep8 checks not needed when only updating
documentation. Skip so we don't waste gate resources.

Change-Id: I6ad353b67ce7f1d2c8dcbd8d2b24ed706974a712
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fproject-config~master~I24ccca767300e128f4bb1651aeaa12b379436dda,openstack/project-config,master,,I24ccca767300e128f4bb1651aeaa12b379436dda,Swift logs: don't run the regular log upload script,MERGED,2018-07-30 22:17:49.000000000,2018-07-30 23:10:58.000000000,2018-07-30 23:10:58.000000000,0,2,0,587241,c3fd0d9de96049e9dfbd15f9cdbc94fd8c1e143d,8,3,2,1,1,James E. Blair,corvus,"Swift logs: don't run the regular log upload script

This works well enough that we don't need the fallback.

Change-Id: I24ccca767300e128f4bb1651aeaa12b379436dda
"
openstack%2Fopenstacksdk~master~I14205b6bb071d0b46967f29b6287f74d8796add8,openstack/openstacksdk,master,,I14205b6bb071d0b46967f29b6287f74d8796add8,Add support for static routes,MERGED,2018-07-30 17:11:51.000000000,2018-07-30 23:02:13.000000000,2018-07-30 23:02:13.000000000,51,1,0,587163,4c49acd831e17a2eeeb2c77e1cff7648025a3490,7,4,1,3,2,Monty Taylor,mordred,"Add support for static routes

The networking API v2 specification, which is implemented by OpenStack
Neutron, features an optional routes parameter - when updating a router
PUT requests). Static routes are crucial for routers to handle traffic
from subnets not directly connected to a router.  This patch adds the
routes parameter to the OpenStackCloud.update_router method as a list of
dictionaries with destination and nexthop parameters.

Example:
[
   {
      ""destination"": ""179.24.1.0/24"",
      ""nexthop"": ""172.24.3.99""
    }
]

Change-Id: I14205b6bb071d0b46967f29b6287f74d8796add8
"
openstack%2Ftripleo-ci~master~I8330687ec64f1ebb7e3b100410d5bdc3e67ae7f0,openstack/tripleo-ci,master,toci_jobtype,I8330687ec64f1ebb7e3b100410d5bdc3e67ae7f0,Fix TAG and playbooks logic for all upgrade type jobs,MERGED,2018-07-24 19:55:21.000000000,2018-07-30 22:35:01.000000000,2018-07-30 22:35:01.000000000,34,36,1,585528,9c7e375473a8d88fb4433971618940ff8e707ecf,81,14,10,2,3153,Emilien Macchi,emilienm,"Fix TAG and playbooks logic for all upgrade type jobs

Some work in:
https://review.openstack.org/#/q/topic:toci_jobtype+(status:open+OR+status:merged)

Broke the containerized undercloud upgrade jobs and probably other
upgrade jobs, the TAG variable was overriden by featureset tags while we
need the upgrade tags as well.
This patch moves the logic after the 'case' that already managed a bunch
of tag. So as a result, we should have tags from the case and the tags
needed for the upgrade jobs.

Some other work in

https://review.openstack.org/582466

Broke our ability to stop at the first playbook failure, so if a
playbook fails, we continue to test the next in the list, and if that
passes, we are reporting a false positive

tripleo-common: Fix overwriting downloaded config files
Depends-On: Ib1d3c68ec3c4048ffc7277daf84834288ea50e48

Change-Id: I8330687ec64f1ebb7e3b100410d5bdc3e67ae7f0
Closes-Bug: #1783399
Closes-Bug: #1783857
"
openstack%2Fpuppet-tripleo~stable%2Focata~I1570f59be977773ba8a0ff1222b57f88a9954ca8,openstack/puppet-tripleo,stable/ocata,bug/1782720,I1570f59be977773ba8a0ff1222b57f88a9954ca8,Remove notification_driver parameter from heat profile,MERGED,2018-07-25 04:10:26.000000000,2018-07-30 22:30:28.000000000,2018-07-30 22:30:28.000000000,0,6,0,585620,f34d66471457e95b50fd5c9762023f4e9ac46f39,11,5,1,1,8833,Rabi Mishra,rabi,"Remove notification_driver parameter from heat profile

The service profile has a default that overrides the one set either
by 'NotificationDriver' parameter or 'heat::notification_driver' in
ExtraConfig.

This parameter is not there in any other service profile and can
be removed as it's not used by the service.

Change-Id: I1570f59be977773ba8a0ff1222b57f88a9954ca8
Closes-Bug: #1782720
(cherry picked from commit 77a158bdd8ce13800d61b262a27b00e91945dba2)
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~I1570f59be977773ba8a0ff1222b57f88a9954ca8,openstack/puppet-tripleo,stable/queens,bug/1782720-stable/queens,I1570f59be977773ba8a0ff1222b57f88a9954ca8,Remove notification_driver parameter from heat profile,MERGED,2018-07-24 04:28:23.000000000,2018-07-30 22:30:28.000000000,2018-07-30 22:30:27.000000000,0,6,0,585129,83e4253289589d26372cd8170669f1afad620a96,8,4,1,1,8833,Rabi Mishra,rabi,"Remove notification_driver parameter from heat profile

The service profile has a default that overrides the one set either
by 'NotificationDriver' parameter or 'heat::notification_driver' in
ExtraConfig.

This parameter is not there in any other service profile and can
be removed as it's not used by the service.

Change-Id: I1570f59be977773ba8a0ff1222b57f88a9954ca8
Closes-Bug: #1782720
(cherry picked from commit 77a158bdd8ce13800d61b262a27b00e91945dba2)
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~I38d175361e7ad3fe38c27bbdc6d29dc6587635dc,openstack/puppet-tripleo,stable/queens,bug/1782376,I38d175361e7ad3fe38c27bbdc6d29dc6587635dc,"[Ocata,Pike,Queens-Only] Fix Cinder's Netapp backend",MERGED,2018-07-18 20:37:55.000000000,2018-07-30 22:30:27.000000000,2018-07-30 22:30:27.000000000,36,3,0,583734,3eea8289f0ba91e73631e9698ae8cefed29e2185,12,5,2,2,21129,Alan Bishop,ASBishop,"[Ocata,Pike,Queens-Only] Fix Cinder's Netapp backend

The cinder::backend::netapp resource has logic to determine whether
deprecated parameters are in use. THT supplies empty strings for default
values, which worked fine with Puppet 3.x, where empty strings are treated
as boolean False. When TripleO upgraded to Puppet 4.x in Ocata, the empty
strings are now treated as boolean True. This results in an invalid
configuration, which causes the Netapp backend to fail.

This is not an issue in Rocky, where the deprecated parameters are
being removed.

Closes-Bug: #1782376
Change-Id: I38d175361e7ad3fe38c27bbdc6d29dc6587635dc
"
openstack%2Fproject-config~master~I1db6ba6b2bd974d2b78626ae0005190e4784a938,openstack/project-config,master,,I1db6ba6b2bd974d2b78626ae0005190e4784a938,Move configure-unbound into its own play,MERGED,2018-07-30 22:10:43.000000000,2018-07-30 22:30:00.000000000,2018-07-30 22:30:00.000000000,6,4,0,587238,d2e0926f2e5524c3c4fc9258c41211d68e51d861,6,2,1,1,4162,Paul Belanger,pabelanger,"Move configure-unbound into its own play

Clean up pre.yaml based on previous comments.

Change-Id: I1db6ba6b2bd974d2b78626ae0005190e4784a938
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
"
openstack%2Fpuppet-tripleo~master~I32f37522b012967f12c459cdf4cf14c43c079231,openstack/puppet-tripleo,master,bug/1781534,I32f37522b012967f12c459cdf4cf14c43c079231,Remove setting root user for ovn dbs pacemaker bundle,MERGED,2018-07-13 10:34:40.000000000,2018-07-30 22:23:23.000000000,2018-07-30 22:23:23.000000000,1,1,0,582500,bebc5848da710ce6cfbbd495da47f4d70c3c86b1,19,8,2,1,10237,Numan Siddique,numansiddique,"Remove setting root user for ovn dbs pacemaker bundle

This patch removes the option ""--user=root"" from the docker options.
Right now the kolla image - ovn-northd which is used for ovn dbs pacemaker
bundle doesn't set the user 'openvswitch'. So even after this patch
is merged, the ovn bundle will be started as root user.

This patch is 1st step towards running ovn dbs pacemaker as a non root user.

It requires changes in
 - in ovn-northd kolla image and
 - in the ovn-dbs.yaml pacemaker service file in T-H-T to give the proper
   permissions to the log and data folders
to run the ovn pacemaker bundle as a non root user which will be handled
in follow up patches.

Related-bug: #1781534
Change-Id: I32f37522b012967f12c459cdf4cf14c43c079231
"
openstack%2Fgovernance-uc~master~Idc7fa37f923474d5833d1ed90de56c5a8889a598,openstack/governance-uc,master,uc-election-aug2018,Idc7fa37f923474d5833d1ed90de56c5a8889a598,Add August 2018 election link,MERGED,2018-07-24 16:34:57.000000000,2018-07-30 22:05:34.000000000,2018-07-30 22:05:34.000000000,1,0,0,585470,81dd1c4e341506160478fa0be4bff1dbe8b5d502,10,5,1,1,17556,Melvin Hillsman,mrhillsman,"Add August 2018 election link

Change-Id: Idc7fa37f923474d5833d1ed90de56c5a8889a598
Signed-off-by: Melvin Hillsman <mrhillsman@gmail.com>
"
openstack%2Ftripleo-heat-templates~master~I34da92f57ef96dd3c1f6c3c525a366a578f720aa,openstack/tripleo-heat-templates,master,,I34da92f57ef96dd3c1f6c3c525a366a578f720aa,Exercise scenarios with changes at common,MERGED,2018-07-30 12:50:35.000000000,2018-07-30 21:25:16.000000000,2018-07-30 21:25:16.000000000,14,0,0,587051,6978fa1743d91b03de2c78bf04a76847a50f2f23,15,11,2,1,27898,Quique Llorente,quiquell,"Exercise scenarios with changes at common

Some stuff like the new health check were not exercising the
scenarios, the core part of THT need more covarage.

Change-Id: I34da92f57ef96dd3c1f6c3c525a366a578f720aa
"
openstack%2Fopenstacksdk~master~I70af6c8a0faf935b321d778d978ce77cda17ccae,openstack/openstacksdk,master,,I70af6c8a0faf935b321d778d978ce77cda17ccae,Support passing profile to get_one,MERGED,2018-07-25 15:02:16.000000000,2018-07-30 21:21:26.000000000,2018-07-30 21:21:26.000000000,5,2,0,585780,73ab97c5572369cea7b9646d7ba09f4cd9e759b3,7,3,1,1,2,Monty Taylor,mordred,"Support passing profile to get_one

If someone is constructing a CloudRegion programmatically, we actually
don't let them pass a profile in the kwargs to get_one. Extract it and
pass it to expand_vendor_profile.

Change-Id: I70af6c8a0faf935b321d778d978ce77cda17ccae
"
openstack%2Fpuppet-ironic~master~I34bacb5cd1bf20b61dba454ccce2638ee14185c7,openstack/puppet-ironic,master,default-boot-mode,I34bacb5cd1bf20b61dba454ccce2638ee14185c7,Support ironic::conductor::default_boot_mode parameter,MERGED,2018-07-30 12:00:21.000000000,2018-07-30 21:20:46.000000000,2018-07-30 21:20:46.000000000,17,0,0,587025,a14f9ec73fcc0d910f122389859013965551dbbb,7,3,1,3,10239,Dmitry Tantsur,dtantsur,"Support ironic::conductor::default_boot_mode parameter

Change-Id: I34bacb5cd1bf20b61dba454ccce2638ee14185c7
"
openstack%2Fopenstack-helm-infra~master~I13befe8684d975f310f2723c5172b8a0f9f365d6,openstack/openstack-helm-infra,master,fix_configmap_annotations,I13befe8684d975f310f2723c5172b8a0f9f365d6,Nagios/Kibana: Update configmap annotations,MERGED,2018-07-30 17:40:01.000000000,2018-07-30 21:20:26.000000000,2018-07-30 21:20:26.000000000,4,1,0,587175,6f6c6b8b9964e1f543cc6cb5129e4355b937db41,7,3,1,2,17591,Steve Wilkerson,srwilkers,"Nagios/Kibana: Update configmap annotations

This changes the ordering of the configmap annotations for kibana,
as older versions of helm require the configmap with the values
template definition for the apache proxy to be listed last. This
was addressed in the elasticsearch-client template but missed in
kibana.

This also adds the configmap hash annotations to the nagios chart
as they were previously missing. It also places them in the
correct order as above

Change-Id: I13befe8684d975f310f2723c5172b8a0f9f365d6
"
openstack%2Fproject-config~master~I83437c2d363f2408a4e779e2f0e38eaf28467d8a,openstack/project-config,master,,I83437c2d363f2408a4e779e2f0e38eaf28467d8a,Fix vexxhost secret,MERGED,2018-07-30 20:44:44.000000000,2018-07-30 21:08:13.000000000,2018-07-30 21:08:13.000000000,10,10,0,587220,b199b3e47e2b25b72ba13abae408cee721eea052,7,3,1,1,1,James E. Blair,corvus,"Fix vexxhost secret

The password was entered incorrectly.

Change-Id: I83437c2d363f2408a4e779e2f0e38eaf28467d8a
"
openstack%2Fpuppet-ironic~master~Ia74085a7906c1c36afafb91d285e47f53c933e45,openstack/puppet-ironic,master,conductor-groups,Ia74085a7906c1c36afafb91d285e47f53c933e45,Support ironic::conductor::conductor_group parameter,MERGED,2018-07-30 11:53:18.000000000,2018-07-30 21:07:32.000000000,2018-07-30 21:07:32.000000000,15,0,0,587018,bca7eb56502aadc258d41eaa728308370b4800a1,8,4,1,3,10239,Dmitry Tantsur,dtantsur,"Support ironic::conductor::conductor_group parameter

Change-Id: Ia74085a7906c1c36afafb91d285e47f53c933e45
"
openstack%2Fnetworking-generic-switch~master~I1489894edcd94dbfb65ef1903e8c3a5181b33a79,openstack/networking-generic-switch,master,,I1489894edcd94dbfb65ef1903e8c3a5181b33a79,Follow up for Juniper Junos OS device support,MERGED,2018-07-27 09:31:57.000000000,2018-07-30 21:01:41.000000000,2018-07-30 21:01:41.000000000,10,12,3,586490,a98cb0daf02d16be26462488c58370b9e19ad32f,10,6,1,4,14826,Mark Goddard,mgoddard,"Follow up for Juniper Junos OS device support

Fixes minor issues found in I6e82c43887721517b543c54cf8b958b5a918bd1b.

Change-Id: I1489894edcd94dbfb65ef1903e8c3a5181b33a79
Story: #1740587
Task: 11730
"
openstack%2Fglance~master~I37934fdf873095dd60b84890b525f9e954a07b34,openstack/glance,master,bp/multihash,I37934fdf873095dd60b84890b525f9e954a07b34,[WIP] SHA Implementation for Glance,ABANDONED,2018-01-10 18:31:05.000000000,2018-07-30 21:01:15.000000000,,45,13,0,532592,5d3b8153e61479bfbca407b039c5dbfb4a7a9c93,8,4,2,12,26734,Scott McClymont,smcclymont,"[WIP] SHA Implementation for Glance

SHA implementation for Glance images

Partially implements blueprint multihash
Change-Id: I37934fdf873095dd60b84890b525f9e954a07b34
"
openstack%2Ftripleo-common~master~I24395d602c3616d0acf315e372a72b7445e02d88,openstack/tripleo-common,master,bp/container-prepare-workflow,I24395d602c3616d0acf315e372a72b7445e02d88,Add tripleoclient to mistral image,ABANDONED,2018-07-27 03:44:40.000000000,2018-07-30 20:58:20.000000000,,1,1,1,586417,a5b9aeae21ac39a7e3236c3e148ba49c26103c08,13,8,1,1,4571,Steve Baker,steve-stevebaker,"Add tripleoclient to mistral image

This is required so that the command ""openstack tripleo container
image prepare"" can be run during overcloud deploy inside a mistral
executor, as needed by this change:

  https://review.openstack.org/#/c/581918/10/puppet/services/container-image-prepare.j2.yaml

Change-Id: I24395d602c3616d0acf315e372a72b7445e02d88
Blueprint: container-prepare-workflow
"
openstack%2Fcinder~master~I135d2e5aa8a0a82ddd212eb8eba393e2fbef73ca,openstack/cinder,master,bp/pure-sync-rep,I135d2e5aa8a0a82ddd212eb8eba393e2fbef73ca,ActiveCluster support for Pure Storage drivers,MERGED,2018-07-03 23:19:18.000000000,2018-07-30 20:54:15.000000000,2018-07-30 20:53:47.000000000,2531,998,15,580003,715069f6155ca292dbe1bddef7b6bd1ec8ea0ccc,93,37,2,4,12924,Patrick East,patrick.east,"ActiveCluster support for Pure Storage drivers

This adds sync-rep support for cheesecake api's via
Pure's ActiveCluster feature leaning on stretched Pods.

This is done by specifying the ""type"" of replication on
""replication_device"" options in cinder.conf to be 'sync'.
With an optional 'uniform' boolean.

One thing to note is that we needed to start using
the provider_id field on volumes. With volumes in Purity
Pods the names change, so our quick formula for name
prediction goes out the window. Luckily there is already
a field on the volume objects for this.. provider_id.
Any volumes without one already set will get one updated
when the driver starts up.

Depends-On: https://review.openstack.org/#/c/571332/
Implements: blueprint pure-sync-rep
Change-Id: I135d2e5aa8a0a82ddd212eb8eba393e2fbef73ca
"
openstack%2Frequirements~master~I9823840cab7a6c5589055470355f40cc85b16326,openstack/requirements,master,new-release,I9823840cab7a6c5589055470355f40cc85b16326,update constraint for openstacksdk to new release 0.17.1,MERGED,2018-07-30 16:24:18.000000000,2018-07-30 20:53:48.000000000,2018-07-30 20:53:48.000000000,1,1,0,587111,1577daf86ddcbe0eaf00c47320c99c1c1a907780,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for openstacksdk to new release 0.17.1

Change-Id: I9823840cab7a6c5589055470355f40cc85b16326
meta:version: 0.17.1
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: I935b98620c6ede2b6097f12ab153fa29bbb9b64a
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Frequirements~master~Ib484ac114327aacd238ff43d11094fa2fb3fa265,openstack/requirements,master,new-release,Ib484ac114327aacd238ff43d11094fa2fb3fa265,update constraint for python-manilaclient to new release 1.24.1,MERGED,2018-07-30 16:20:04.000000000,2018-07-30 20:45:37.000000000,2018-07-30 20:45:37.000000000,1,1,0,587109,d48b1c83a6ecc0be2f4b41b39476fdf97355066f,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-manilaclient to new release 1.24.1

Change-Id: Ib484ac114327aacd238ff43d11094fa2fb3fa265
meta:version: 1.24.1
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Tom Barron <tpb@dyncloud.net>
meta:release:Commit: Tom Barron <tpb@dyncloud.net>
meta:release:Change-Id: Id41be1323afe6de862dd64f7d1ffc733bf18a75a
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fpuppet-tripleo~master~If7cceaf4787660facb2b100eb1076899dfeeae53,openstack/puppet-tripleo,master,bug/1744075,If7cceaf4787660facb2b100eb1076899dfeeae53,WIP - Force utf8 on openstack-db execs,ABANDONED,2018-07-18 17:37:51.000000000,2018-07-30 20:30:46.000000000,,7,0,0,583675,f9b040f415e41104161eb4fc8b2b2ea52eaeeb83,8,4,2,1,3153,Emilien Macchi,emilienm,"WIP - Force utf8 on openstack-db execs

Do not merge this patch but we're investigating:
https://bugs.launchpad.net/tripleo/+bug/1744075

Change-Id: If7cceaf4787660facb2b100eb1076899dfeeae53
Closes-Bug: #1744075
"
openstack%2Freleases~master~Id85d3badd3193b1c46adfff7e11b94cf84b40be2,openstack/releases,master,,Id85d3badd3193b1c46adfff7e11b94cf84b40be2,ec2-api: add stable/rocky branch,MERGED,2018-07-30 20:06:44.000000000,2018-07-30 20:24:22.000000000,2018-07-30 20:24:22.000000000,3,0,0,587212,5b0dfa801c8cc266b5ce0e85ab235f10fdae3f17,6,2,1,1,10234,Andrey Pavlov,andrey-mp,"ec2-api: add stable/rocky branch

Change-Id: Id85d3badd3193b1c46adfff7e11b94cf84b40be2
"
openstack%2Fgovernance~master~Id29f79e907ab8622a5f74bdee8acf4b5af9042a8,openstack/governance,master,code-change,Id29f79e907ab8622a5f74bdee8acf4b5af9042a8,Fix crash with None value when no topic is set,MERGED,2018-07-30 13:41:41.000000000,2018-07-30 20:22:39.000000000,2018-07-30 20:22:39.000000000,1,0,0,587063,381d29e5d35aad1e6776ec67c9f9e3c6cbd0b825,10,4,2,1,1004,Mohammed Naser,mnaser,"Fix crash with None value when no topic is set

Change-Id: Id29f79e907ab8622a5f74bdee8acf4b5af9042a8
"
openstack%2Fgovernance~master~I917e2749dd3a0ab80a0dfffbb7dfa9423e7cf5c7,openstack/governance,master,code-change,I917e2749dd3a0ab80a0dfffbb7dfa9423e7cf5c7,Add vice-chair to check-review-status,MERGED,2018-07-30 13:41:41.000000000,2018-07-30 20:22:38.000000000,2018-07-30 20:22:38.000000000,1,1,0,587062,b26fb21a468127f7f469dc36f3a2f40009a67868,10,4,2,1,1004,Mohammed Naser,mnaser,"Add vice-chair to check-review-status

Change-Id: I917e2749dd3a0ab80a0dfffbb7dfa9423e7cf5c7
"
openstack%2Freleases~master~I7026c18b43ca732d5fd1dcd357d25ebb57df4aab,openstack/releases,master,release_osa,I7026c18b43ca732d5fd1dcd357d25ebb57df4aab,Release OpenStack-Ansible ocata/15.1.24,MERGED,2018-07-23 11:42:32.000000000,2018-07-30 20:12:40.000000000,2018-07-30 20:12:40.000000000,4,0,0,584821,a0aa628e4c4e44216be55fc93bf8bc95f9cdf000,7,3,1,1,17068,Jean-Philippe Evrard,evrardjp,"Release OpenStack-Ansible ocata/15.1.24

Change-Id: I7026c18b43ca732d5fd1dcd357d25ebb57df4aab
"
openstack%2Foslo.middleware~stable%2Frocky~Iab510996f51c17dc017bd062a7c4b4a7c7043178,openstack/oslo.middleware,stable/rocky,create-rocky,Iab510996f51c17dc017bd062a7c4b4a7c7043178,Update .gitreview for stable/rocky,MERGED,2018-07-26 12:38:55.000000000,2018-07-30 20:09:05.000000000,2018-07-30 20:09:05.000000000,2,1,0,586140,0057ded6352beac2e202ec7aa70497feb6d16138,6,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/rocky

Change-Id: Iab510996f51c17dc017bd062a7c4b4a7c7043178
"
openstack%2Fnetworking-sfc~master~I7f4d0777d0e0f4d5ded5d834ec971c777ed3b260,openstack/networking-sfc,master,bug/1783997,I7f4d0777d0e0f4d5ded5d834ec971c777ed3b260,Disable port security in tempest tests,ABANDONED,2018-06-15 09:35:27.000000000,2018-07-30 20:08:36.000000000,,2,14,0,575705,ee1153d3ca985f625a596306a73ffff0a6426fb6,17,5,5,2,21798,Bernard Cafarelli,bcafarel,"Disable port security in tempest tests

Something changed in Rocky cycle (OVS firewall by default maybe?) that
causes tracroute tests to fail.

As current tests already run with a wildcard security group to allow all
traffic, switching to port security disabled does not change much

Partial-Bug: #1783997

Change-Id: I7f4d0777d0e0f4d5ded5d834ec971c777ed3b260
"
openstack%2Ftripleo-heat-templates~stable%2Focata~I941763531e521b28d729fb50d2ef5c873b603f05,openstack/tripleo-heat-templates,stable/ocata,mgmt-default-route,I941763531e521b28d729fb50d2ef5c873b603f05,Define default route for Management network,MERGED,2018-07-03 20:08:04.000000000,2018-07-30 20:02:47.000000000,2018-07-30 20:02:47.000000000,1,1,0,579961,c1a1ec0a1bbe306937b60f409574d0f93e55ecc6,13,4,2,1,21909,Bob Fournier,bfournie,"Define default route for Management network

Set the ManagementInterfaceDefaultRoute to a valid string, not null.
This change is added to Ocata and will be backported to Newton, since
later releases (Pike, Queens) handle ManagementInterfaceDefaultRoute
properly.

For reference, see https://bugzilla.redhat.com/show_bug.cgi?id=1393641.

Change-Id: I941763531e521b28d729fb50d2ef5c873b603f05
"
openstack%2Freleases~master~I8b3ec5e23b1c8b66fd5ff577b391ce32925190d9,openstack/releases,master,release_osa,I8b3ec5e23b1c8b66fd5ff577b391ce32925190d9,Release OpenStack-Ansible pike/16.0.16,MERGED,2018-07-23 11:15:14.000000000,2018-07-30 19:54:08.000000000,2018-07-30 19:54:08.000000000,4,0,0,584802,90b40cface35a2524d95628f220dc8722964a015,9,5,1,1,17068,Jean-Philippe Evrard,evrardjp,"Release OpenStack-Ansible pike/16.0.16

Change-Id: I8b3ec5e23b1c8b66fd5ff577b391ce32925190d9
"
openstack%2Fpuppet-tripleo~master~I976c2d5c8d1f47a837dadddc9dbccb49e7defbde,openstack/puppet-tripleo,master,bug/1784422,I976c2d5c8d1f47a837dadddc9dbccb49e7defbde,Pull in redis for unit tests,MERGED,2018-07-30 17:02:48.000000000,2018-07-30 19:54:07.000000000,2018-07-30 19:54:07.000000000,6,0,0,587162,85a302b9a1bf4cb5c4baace4b0159f51a44bd8e5,7,3,1,1,14985,Alex Schultz,mwhahaha,"Pull in redis for unit tests

We used to get this from puppet-openstack-integration, but since they
dropped this module we need to include it in puppet-tripleo.

Change-Id: I976c2d5c8d1f47a837dadddc9dbccb49e7defbde
Closes-Bug: #1784422
"
openstack%2Ftripleo-heat-templates~master~I318ba9c262f64c0d416a017ed836ae0729acedb4,openstack/tripleo-heat-templates,master,bp/numa-aware-vswitches,I318ba9c262f64c0d416a017ed836ae0729acedb4,NUMA aware vswitches,MERGED,2018-06-28 09:34:31.000000000,2018-07-30 19:54:05.000000000,2018-07-30 19:54:05.000000000,21,0,8,578742,1b8e78af037c6a487aa8fe1adcaa62000c704e21,52,12,6,2,20733,Rajesh Tailor,rajesht,"NUMA aware vswitches

Expose configuration parameteres for NUMA
aware vswitches.
The related nova changes are done in change:
https://review.openstack.org/#/c/564440/

Depends-On: Ia8fd65a75bc732087128e9e32ba72b2491423898
Change-Id: I318ba9c262f64c0d416a017ed836ae0729acedb4
"
openstack%2Foslo.db~stable%2Frocky~I58d9197c20a83263e9ba9351e332d385f8041634,openstack/oslo.db,stable/rocky,create-rocky,I58d9197c20a83263e9ba9351e332d385f8041634,Update .gitreview for stable/rocky,MERGED,2018-07-26 12:37:54.000000000,2018-07-30 19:37:13.000000000,2018-07-30 19:37:13.000000000,1,0,0,586128,4f9e71020163a36114df3f665c4030768f88f240,6,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/rocky

Change-Id: I58d9197c20a83263e9ba9351e332d385f8041634
"
openstack%2Fpuppet-keystone~master~I276cae48430370b8c6d8f26dd371dde8fb13cc46,openstack/puppet-keystone,master,,I276cae48430370b8c6d8f26dd371dde8fb13cc46,Release note about the keystone port changes,MERGED,2018-07-28 12:42:29.000000000,2018-07-30 19:35:41.000000000,2018-07-30 19:35:41.000000000,11,0,0,586791,ad4c3dc443d7e6b45d09dd227ad289338d3b8841,8,3,2,1,16137,Tobias Urdin,tobasco,"Release note about the keystone port changes

Change-Id: I276cae48430370b8c6d8f26dd371dde8fb13cc46
"
openstack%2Ftempest~master~Ib91d8108e37d91be82f4f0919da0381d40439211,openstack/tempest,master,,Ib91d8108e37d91be82f4f0919da0381d40439211,Move server groups schema into its own file,MERGED,2018-07-26 10:46:41.000000000,2018-07-30 19:33:04.000000000,2018-07-30 19:33:04.000000000,75,59,0,586047,1290e4904f80e44079e2f738f9b2520cb2c67e10,33,9,2,4,23717,Surya Prakash Singh,SuryaPrakash,"Move server groups schema into its own file

compute response schema for server groups API are present
in servers.py where service client is in its own file.

We need to have schema also into separate file as service client
methods.

Change-Id: Ib91d8108e37d91be82f4f0919da0381d40439211
"
openstack%2Foslo.i18n~stable%2Frocky~I797ca1931c1530a4e3b8e881055848b9b2d04002,openstack/oslo.i18n,stable/rocky,create-rocky,I797ca1931c1530a4e3b8e881055848b9b2d04002,Update .gitreview for stable/rocky,MERGED,2018-07-26 12:38:08.000000000,2018-07-30 19:31:10.000000000,2018-07-30 19:31:10.000000000,1,0,0,586131,e157f3561ef9c95551e80b27a3b6c883d4ee3084,6,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/rocky

Change-Id: I797ca1931c1530a4e3b8e881055848b9b2d04002
"
openstack%2Fopenstack-ansible-os_barbican~master~I896bd3a4043f98e70943ec620dba392d44921179,openstack/openstack-ansible-os_barbican,master,,I896bd3a4043f98e70943ec620dba392d44921179,Add the project source code repository in README,MERGED,2018-07-28 11:35:15.000000000,2018-07-30 19:29:58.000000000,2018-07-30 19:29:58.000000000,3,0,0,586779,f9ef4cc3912071b3cdcd7e7df73a47720cce25fd,7,4,1,1,14320,xuan.mingyi,mingyi,"Add the project source code repository in README

Change-Id: I896bd3a4043f98e70943ec620dba392d44921179
"
openstack%2Fdebtcollector~stable%2Frocky~I3b3063ab6b01ee72f257d9c51fb0e1d1c2969ce2,openstack/debtcollector,stable/rocky,create-rocky,I3b3063ab6b01ee72f257d9c51fb0e1d1c2969ce2,Update .gitreview for stable/rocky,MERGED,2018-07-26 12:33:07.000000000,2018-07-30 19:29:58.000000000,2018-07-30 19:29:58.000000000,1,0,0,586072,4a97f8831d406827d709ecee23e62ee3bfd19202,6,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/rocky

Change-Id: I3b3063ab6b01ee72f257d9c51fb0e1d1c2969ce2
"
openstack%2Fproject-config~master~Ie09b27cb915d029241f2703476033dc5fe5eb9c4,openstack/project-config,master,,Ie09b27cb915d029241f2703476033dc5fe5eb9c4,Add auth_url to vexxhost secret,MERGED,2018-07-30 18:40:51.000000000,2018-07-30 19:23:27.000000000,2018-07-30 19:23:27.000000000,2,0,0,587194,979a72b34aa4925745a9c0d7c1d04e6279aa4a6b,7,3,1,1,1,James E. Blair,corvus,"Add auth_url to vexxhost secret

The profile parameter is currently ignored by openstacksdk until
https://review.openstack.org/585780 lands.

Change-Id: Ie09b27cb915d029241f2703476033dc5fe5eb9c4
"
openstack%2Fopenstack-ansible-tests~master~I0d30d749ef2e00c1d199e53a837462619a9b2650,openstack/openstack-ansible-tests,master,unpin-ceph,I0d30d749ef2e00c1d199e53a837462619a9b2650,Add ceph-ansible library and callback path,MERGED,2018-03-08 08:31:21.000000000,2018-07-30 19:21:02.000000000,2018-06-29 10:51:07.000000000,4,2,0,550747,0943a630bb303d9badf9edfdcc466abf1c211304,30,4,7,2,6816,Jesse Pretorius,jesse-pretorius,"Add ceph-ansible library and callback path

The ceph-ansible project has created a new library which
is held in the root folder. We need to ensure that the
library path is included.

Additionally a callback plugins directory inside plugins/callback has
been added, along with an action plugins directory inside
plugins/actions.

Finally, the sed command we use to replace the default roles directory
was causing issues in that it applied to any lines that were not
necessarily the roles_path. This PR adjusts the sed to ensure it is only
the roles_path line that is replaced.

Change-Id: I0d30d749ef2e00c1d199e53a837462619a9b2650
"
openstack%2Fautomaton~stable%2Frocky~Ib96726da846c1d30f949ee2eceb51f9b99ae80b4,openstack/automaton,stable/rocky,create-rocky,Ib96726da846c1d30f949ee2eceb51f9b99ae80b4,Update .gitreview for stable/rocky,MERGED,2018-07-26 12:32:28.000000000,2018-07-30 19:19:18.000000000,2018-07-30 19:19:18.000000000,1,0,0,586064,4f08c890f864b2a295c91da1151b30df0577dbdd,6,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/rocky

Change-Id: Ib96726da846c1d30f949ee2eceb51f9b99ae80b4
"
openstack%2Fneutron~stable%2Fpike~Ic350c88e59c33d98b54086707c9add05cf137dc2,openstack/neutron,stable/pike,bug/1781915,Ic350c88e59c33d98b54086707c9add05cf137dc2,Add list of all working DSCP marks,MERGED,2018-07-20 10:40:09.000000000,2018-07-30 19:16:17.000000000,2018-07-30 19:16:16.000000000,9,0,0,584312,ed4a70c9eaa347c4775ab8cd9f336ca1579b9336,11,7,1,1,11975,Slawek Kaplonski,slaweq,"Add list of all working DSCP marks

There is no place in the documentation that explicitly lists the valid
DSCP marks, except for an incomplete hint in the DSCP spec in
neutron-specs.  This provides an explicit list.

Change-Id: Ic350c88e59c33d98b54086707c9add05cf137dc2
Closes-Bug: #1781915
(cherry picked from commit b935f9d9a7c7bc872b49d66ce6ee586283ce69c0)
"
openstack%2Ftripleo-common~master~Ifb1f81d4f7db3efd2799beca8705957e29ba16bd,openstack/tripleo-common,master,bp/container-prepare-workflow,Ifb1f81d4f7db3efd2799beca8705957e29ba16bd,Action to perform container image prepare,MERGED,2018-04-05 00:47:26.000000000,2018-07-30 19:04:04.000000000,2018-07-25 03:29:19.000000000,137,2,12,558972,49c169a144b6bbe23f1f1ff525183ce8c0351fc1,62,9,12,4,4571,Steve Baker,steve-stevebaker,"Action to perform container image prepare

This action runs in the deployment workflow just after validation. It
does the following:

- Fetches the plan, environment files and role data
- Builds a merged environment from the fetched plans
- If a ContainerImagePrepare parameter is defined, do a dry-run
  prepare to determine the image parameters for when the actual prepare
  is run during the deployment.
- Write the resulting image parameters to
  environments/containers-default-parameters.yaml and insert that file
  into the environments file list in the plan

If no ContainerImagePrepare parameter, this action has no effect, so
it can be inserted into the deployment workflow now without affecting
any existing image prepare.

This dry-run prepare is the same approach used for containerized
undercloud deployment. Doing a dry-run is fast compared to a full
deploy because there are no image transfers or build performed, only
inspect calls to image registries. The actual prepare will be done
during the deployment when change
I8b0c5e630e63ef6a2e6f70f1eb00fd02f4cfd1c0 lands.

Change-Id: Ifb1f81d4f7db3efd2799beca8705957e29ba16bd
Blueprint: container-prepare-workflow
"
openstack%2Fproject-config~master~Ife54e000ecc36396f37c6da3bd992283628fa831,openstack/project-config,master,,Ife54e000ecc36396f37c6da3bd992283628fa831,Publish swift logs also to static fileserver,MERGED,2018-07-30 18:17:59.000000000,2018-07-30 18:55:11.000000000,2018-07-30 18:55:11.000000000,2,0,0,587188,4495323faa1294e4b5c63d73d3b7b8e8c3ed6619,7,3,1,1,1,James E. Blair,corvus,"Publish swift logs also to static fileserver

While we're testing/debugging the upload-logs-swift role, it would
be nice to still see the logs when it fails.  So publish logs to
both places temporarily.  Since it runs last, the static URL will
be the one reported to Gerrit.

Change-Id: Ife54e000ecc36396f37c6da3bd992283628fa831
"
openstack%2Fopenstack-ansible-os_swift~master~I5d3a265ee6fd71c9f47dcd6226b1698eae3c470a,openstack/openstack-ansible-os_swift,master,bionic-check,I5d3a265ee6fd71c9f47dcd6226b1698eae3c470a,Switch to using project-templates,MERGED,2018-07-28 15:05:26.000000000,2018-07-30 18:55:09.000000000,2018-07-30 18:55:08.000000000,4,9,2,586817,c86e949b840901d35a9cd6de51b7c10b8eb5110f,11,3,3,1,25023,Jonathan Rosser,jrosser,"Switch to using project-templates

In order to have more centralized configuration, switch the role
to use the project-template instead.

Change-Id: I5d3a265ee6fd71c9f47dcd6226b1698eae3c470a
"
openstack%2Fironic~master~I5235edb4e0e98d255fa4787493c96ffcf7c8b33a,openstack/ironic,master,583555,I5235edb4e0e98d255fa4787493c96ffcf7c8b33a,Switch ironic-tempest-dsvm-ipa-partition-uefi-pxe_ipmitool-tinyipa,MERGED,2018-07-18 11:30:32.000000000,2018-07-30 18:55:05.000000000,2018-07-30 18:55:04.000000000,9,89,0,583551,90f7a8901637ebec9a42158443fb40146f991247,22,9,3,3,1926,Derek Higgins,derekh,"Switch ironic-tempest-dsvm-ipa-partition-uefi-pxe_ipmitool-tinyipa

Switch ironic-tempest-dsvm-ipa-partition-uefi-pxe_ipmitool-tinyipa
to zuulv3 native

Change-Id: I5235edb4e0e98d255fa4787493c96ffcf7c8b33a
"
openstack%2Fironic~master~I0daef9b62cedc5de50d5b51d6ae79046160750d1,openstack/ironic,master,583555,I0daef9b62cedc5de50d5b51d6ae79046160750d1,Switch ironic-tempest-dsvm-ipa-wholedisk-bios-pxe_snmp-tinyipa,MERGED,2018-07-18 10:38:13.000000000,2018-07-30 18:55:03.000000000,2018-07-30 18:55:03.000000000,12,90,0,583546,7ea0ff45bd3988c65c9f4e677a92e7e2065c2fe6,26,9,3,3,1926,Derek Higgins,derekh,"Switch ironic-tempest-dsvm-ipa-wholedisk-bios-pxe_snmp-tinyipa

Switch ironic-tempest-dsvm-ipa-wholedisk-bios-pxe_snmp-tinyipa
to zuulv3 native.

Change-Id: I0daef9b62cedc5de50d5b51d6ae79046160750d1
"
openstack%2Fironic~master~I343c05727dbd1fd06f3a2c2beb1b7d6fe8d218bf,openstack/ironic,master,583555,I343c05727dbd1fd06f3a2c2beb1b7d6fe8d218bf,Switch ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa,MERGED,2018-07-17 18:50:44.000000000,2018-07-30 18:46:57.000000000,2018-07-30 18:46:57.000000000,18,91,4,583337,d11700c3e9175cd4c0ba4560298addb17a8449a0,37,10,5,3,1926,Derek Higgins,derekh,"Switch ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa

Switch ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa to zuulv3 native

Change-Id: I343c05727dbd1fd06f3a2c2beb1b7d6fe8d218bf
"
openstack%2Fproject-config~master~If1b6a327c586e8b187022de9f6347a782c294ffc,openstack/project-config,master,translation-jobs-rocky,If1b6a327c586e8b187022de9f6347a782c294ffc,Setup translation jobs for Rocky,MERGED,2018-07-30 17:11:56.000000000,2018-07-30 18:46:54.000000000,2018-07-30 18:46:54.000000000,45,8,0,587164,2cae3245f934a3a8a6aeaea7af7e917c88bb1bc7,9,3,1,1,17765,Frank Kloeker,eumel8,"Setup translation jobs for Rocky

ceilometer
cinder
designate
designate-dashboard
freezer-web-ui
glance
heat
heat-dashboard
horizon
ironic
ironic-inspector
ironic-ui
karbor
karbor-dashboard
keystone
magnum
manila
monasca-ui
murano
murano-dashboard
networking-ovn
neutron
neutron-fwaas-dashboard
neutron-vpnaas-dashboard
nova
octavia
octavia-dashboard
sahara
sahara-dashboard
searchlight
searchlight-ui
senlin
senlin-dashboard
solum
solum-dashboard
swift
tacker
tripleo-ui
trove-dashboard
watcher
watcher-dashboard
zaqar
zaqar-ui
zun-ui

Removed obselete Pike jobs

Change-Id: If1b6a327c586e8b187022de9f6347a782c294ffc
Depends-On: https://review.openstack.org/#/c/587055/
"
openstack%2Fironic~master~I618f11871258b9052eea725325656a05b2cb7478,openstack/ironic,master,583555,I618f11871258b9052eea725325656a05b2cb7478,Switch ironic-tempest-dsvm-pxe_ipmitool-postgres,MERGED,2018-07-17 09:56:41.000000000,2018-07-30 18:32:19.000000000,2018-07-30 18:32:19.000000000,13,92,10,583185,0b87e6140be6a109539a8d1e0c0a2a3c5603e18d,37,9,4,3,1926,Derek Higgins,derekh,"Switch ironic-tempest-dsvm-pxe_ipmitool-postgres

Switch ironic-tempest-dsvm-pxe_ipmitool-postgres to zuulv3 native

Change-Id: I618f11871258b9052eea725325656a05b2cb7478
"
openstack%2Fpuppet-tripleo~master~I6d0cfc9aafd2184161666bb9edcce16a0ec5a06f,openstack/puppet-tripleo,master,bug/1736587,I6d0cfc9aafd2184161666bb9edcce16a0ec5a06f,Remove INSECURE_REGISTRY from docker_registry.pp,MERGED,2017-12-05 21:17:42.000000000,2018-07-30 18:30:43.000000000,2017-12-10 01:05:53.000000000,10,16,5,525761,b2521749561bc7b1d6da9e5b776c2945c65977a0,47,9,5,1,360,Dan Prince,dan-prince,"Remove INSECURE_REGISTRY from docker_registry.pp

This patch removes the INSECURE_REGISTRY options from the
docker_registry manifest. These configuration options can
conflict with the configuration done in the docker
profile. Furthermore they are not directly related to
the docker registry service itself and are better managed
as part of the other profile.

Depends-On: I9e9c495b9095590dcee14e0705728c68c058d2b5

Change-Id: I6d0cfc9aafd2184161666bb9edcce16a0ec5a06f
Closes-bug: #1736587
"
openstack%2Fopenstack-ansible-os_rally~master~I9121867301fc69ba6623110fa6e54c2da0b5ae2c,openstack/openstack-ansible-os_rally,master,bug/1782372,I9121867301fc69ba6623110fa6e54c2da0b5ae2c,Change rally pip package,MERGED,2018-07-19 20:23:32.000000000,2018-07-30 18:29:11.000000000,2018-07-30 18:29:11.000000000,1,1,2,584096,3da7a036d9e3738b8802470127ccb0f20da3882b,17,4,3,1,28008,Guilherme,guilhermesp,"Change rally pip package

This is motivated by the recent change of rally
project [1] which states that In-tree OpenStack
plugins will be removed from the Rally main package soon.

Also, we do not have constraint for it, we need to pin it
to keep consistent build.

[1] https://github.com/openstack/rally/blob/master/CHANGELOG.rst#100---2018-06-20

Change-Id: I9121867301fc69ba6623110fa6e54c2da0b5ae2c
Closes-Bug: 1782372
"
openstack%2Fopenstack-helm-infra~master~Ic6ec270a880216daff10d1f22128c6377ebf9933,openstack/openstack-helm-infra,master,fix_fluent_resources,Ic6ec270a880216daff10d1f22128c6377ebf9933,Resources: Fix erroneous resource definitions,MERGED,2018-07-27 16:12:56.000000000,2018-07-30 18:29:10.000000000,2018-07-30 18:29:09.000000000,3,4,0,586610,397eebf995ae63aee15658d07c31c239987559c6,12,3,4,3,17591,Steve Wilkerson,srwilkers,"Resources: Fix erroneous resource definitions

This fixes the resource trees for the fluent-logging and
openstack-exporter charts to match the other charts. This
also fixes the elasticsearch master template to use the
correct indentation level for the resource template

Change-Id: Ic6ec270a880216daff10d1f22128c6377ebf9933
"
openstack%2Fopenstack-zuul-jobs~master~Ia333be62afa0ff8cb7024c676b968c35b396f174,openstack/openstack-zuul-jobs,master,,Ia333be62afa0ff8cb7024c676b968c35b396f174,Extend project translation template for Rocky,MERGED,2018-07-30 13:10:03.000000000,2018-07-30 18:20:59.000000000,2018-07-30 18:20:59.000000000,17,0,0,587055,9186832d8d46e2b2ba9b7587cbcf2e4f3d8cc28c,7,3,1,1,17765,Frank Kloeker,eumel8,"Extend project translation template for Rocky

Change-Id: Ia333be62afa0ff8cb7024c676b968c35b396f174
"
openstack%2Fshade~master~I288f02551555fff3e8b350fc6d7c6ae8f60c405c,openstack/shade,master,add_mtu_setting,I288f02551555fff3e8b350fc6d7c6ae8f60c405c,python-shade expose MTU setting.,MERGED,2018-06-28 15:52:50.000000000,2018-07-30 18:17:45.000000000,2018-07-30 18:17:45.000000000,58,3,5,578861,545b5aae28c9ab513f543ced35fa41c16dd6f732,26,8,6,3,11085,Toure Dunnon,Toure,"python-shade expose MTU setting.

The networking API v2 specification, which is implemented by
openstack neutron, features an optional MTU parameter - when
creating a network, this allows operators to specify the value
for the maximum transmission unit value.

Change-Id: I288f02551555fff3e8b350fc6d7c6ae8f60c405c
"
openstack%2Fheat~master~I1d239e9fcda30fec4795a82eba20c3fb11e9e72a,openstack/heat,master,,I1d239e9fcda30fec4795a82eba20c3fb11e9e72a,Delete snapshots using contemporary resources,MERGED,2018-07-25 00:01:50.000000000,2018-07-30 18:06:36.000000000,2018-07-30 18:06:36.000000000,63,15,0,585571,5ec5a061ea48efb8407b7da5b6a9055b56132ea3,13,4,1,3,4257,Zane Bitter,zaneb,"Delete snapshots using contemporary resources

When deleting a snapshot, we used the current resources in the stack to
call delete_snapshot() on. However, there is no guarantee that the
resources that existed at the time the snapshot was created were of the
same type as any current resources of the same name.

Use resources created using the template in the snapshot to do the
snapshot deletion.

This also solves the problem addressed in
df1708b1a83f21f249aa08827fa88a25fc62c9e5, whereby snapshots had to be
deleted before the stack deletion was started in convergence because
otherwise the 'latest' template contained no resources.

That allows us to once again move the snapshot deletion after the start of
the stack deletion, which is consistent with when it happens in the legacy
path. Amongst other things, this ensures that any failures can be reported
correctly.

Change-Id: I1d239e9fcda30fec4795a82eba20c3fb11e9e72a
"
openstack%2Fshade~master~I14205b6bb071d0b46967f29b6287f74d8796add8,openstack/shade,master,580661,I14205b6bb071d0b46967f29b6287f74d8796add8,Add support for static routes,MERGED,2018-07-06 13:47:14.000000000,2018-07-30 18:06:35.000000000,2018-07-30 18:06:35.000000000,51,1,6,580661,1ddc618d2d75f7f773063a77cb8925ad02a151b7,25,7,5,3,8532,Ryan Brady,rbrady,"Add support for static routes

The networking API v2 specification, which is implemented by OpenStack
Neutron, features an optional routes parameter - when updating a router
PUT requests). Static routes are crucial for routers to handle traffic
from subnets not directly connected to a router.  This patch adds the
routes parameter to the OpenStackCloud.update_router method as a list of
dictionaries with destination and nexthop parameters.

Example:
[
   {
      ""destination"": ""179.24.1.0/24"",
      ""nexthop"": ""172.24.3.99""
    }
]

Change-Id: I14205b6bb071d0b46967f29b6287f74d8796add8
"
openstack%2Fneutron~stable%2Fqueens~Ic350c88e59c33d98b54086707c9add05cf137dc2,openstack/neutron,stable/queens,bug/1781915,Ic350c88e59c33d98b54086707c9add05cf137dc2,Add list of all working DSCP marks,MERGED,2018-07-20 10:38:43.000000000,2018-07-30 17:55:19.000000000,2018-07-30 17:55:19.000000000,9,0,0,584311,55d90d99125451a27d0b8241407fc50bb8ba99bf,10,6,1,1,11975,Slawek Kaplonski,slaweq,"Add list of all working DSCP marks

There is no place in the documentation that explicitly lists the valid
DSCP marks, except for an incomplete hint in the DSCP spec in
neutron-specs.  This provides an explicit list.

Change-Id: Ic350c88e59c33d98b54086707c9add05cf137dc2
Closes-Bug: #1781915
(cherry picked from commit b935f9d9a7c7bc872b49d66ce6ee586283ce69c0)
"
openstack%2Fnova~stable%2Fqueens~I24e5ff1b446f2ac41d589c026ce8ee8adad4bcbc,openstack/nova,stable/queens,bug/1743458,I24e5ff1b446f2ac41d589c026ce8ee8adad4bcbc,Consider hostdev devices when building metadata,MERGED,2018-07-10 15:21:53.000000000,2018-07-30 17:55:02.000000000,2018-07-30 17:55:01.000000000,63,3,0,581399,e57f66a26daf858d1348c8406108a33a323b7b2e,16,10,1,2,8864,Artom Lifshitz,artom,"Consider hostdev devices when building metadata

Previously, device role tagging metadata would only be built for
LibvirtConfigGuestInterface and LibvirtConfigGuestDisk. This didn't
account for passed through PFs, which can also be tagged and appear as
<hostdev> in the libvirt XML. This caused device role tagging to not
work for PFs. This patch adds support for <hostdev> devices to
_build_device_metadata.

NOTE(artom): Conflicts in nova/tests/unit/virt/libvirt/test_driver.py
due to trusted VFs not being present in Queens.

Change-Id: I24e5ff1b446f2ac41d589c026ce8ee8adad4bcbc
Closes-bug: 1743458
Closes-bug: 1694183
(cherry picked from commit abd01a757b8a83d714a6ab8b5085e7cc1b4a2c5c)
"
openstack%2Fnova~stable%2Fqueens~I318b9118c97d7bf2b61bc45698443e8d0255ff6f,openstack/nova,stable/queens,bug/1743458,I318b9118c97d7bf2b61bc45698443e8d0255ff6f,Refactor _build_device_metadata,MERGED,2018-07-10 15:21:53.000000000,2018-07-30 17:54:55.000000000,2018-07-30 17:54:55.000000000,53,28,0,581398,0f253ea9c5f3f3d97bc049f00d1bcdf2761f0736,12,8,1,1,8864,Artom Lifshitz,artom,"Refactor _build_device_metadata

This patch splits out interface and disk metadata generation into its
own function each, in preparation for handling hostdev metadata
generation in a subsequent patch. It also adds some debug logging.

NOTE(artom): Conflicts in nova/virt/libvirt/driver.py due to trusted
VFs not being present in Queens.

Related-bug: 1743458
Change-Id: I318b9118c97d7bf2b61bc45698443e8d0255ff6f
(cherry picked from commit d16d0d553b20fd45a83cf7c68bc477b97aece9a1)
"
openstack%2Fnova~stable%2Fpike~Iad256079945bf8b5745ebdcc393c55115dbcab75,openstack/nova,stable/pike,bug/1775863-stable/queens-stable/pike,Iad256079945bf8b5745ebdcc393c55115dbcab75,Fix unbound local when saving an unchanged RequestSpec,MERGED,2018-07-09 07:54:05.000000000,2018-07-30 17:54:49.000000000,2018-07-30 17:54:49.000000000,19,4,0,580951,6d60c74191f271c1fcea2ff1556a1f00baaa3f58,14,10,1,2,9708,Balazs Gibizer,gibi,"Fix unbound local when saving an unchanged RequestSpec

RequestSpec._get_update_primitives() tried to return the unitialized
db_updates field when the object has no changes. This patch initalizes
that local to None and handles that None in create() and save() where
the RequestSpec._get_update_primitives() is called.

Change-Id: Iad256079945bf8b5745ebdcc393c55115dbcab75
Closes-Bug: #1775863
(cherry picked from commit 08fb09e878dcaedbb446e18502a6172fa4d43121)
(cherry picked from commit a31ebd87ba9a9c0ab0013fe59b6d5056c1193f4c)
"
openstack%2Fswift~master~Idc01970b37d1b77e1d48f9c4f4979f63ee771093,openstack/swift,master,fix-replication-head,Idc01970b37d1b77e1d48f9c4f4979f63ee771093,Make X-Backend-Replication consistent for HEAD,MERGED,2017-08-25 22:18:22.000000000,2018-07-30 17:54:48.000000000,2017-08-29 17:42:34.000000000,15,9,1,498107,2e0ca543e8c74fa7e99d79cdd6e8509c58e7dad3,9,3,1,2,1179,Clay Gerrard,clay-gerrard,"Make X-Backend-Replication consistent for HEAD

Current an X-Backend-Replication GET request for an expired object will
still open the expired datafile and return the object, but HEAD request
with the same headers will 404.  This can lead to some bad assumptions
in probetests and other places where we make direct HEAD requests

N.B. Because SSYNC replication does not make any HEAD requests this
change is immaterial to the correctness of the consistency engine.

Related-Change-Id: I7f90b732c3268cb852b64f17555c631d668044a8
Change-Id: Idc01970b37d1b77e1d48f9c4f4979f63ee771093
"
openstack%2Fnova~stable%2Fpike~Iee4b9bbf412adfdc6fdc62ea3429fb960d6ac2a2,openstack/nova,stable/pike,bug/1709260-stable/queens-stable/pike,Iee4b9bbf412adfdc6fdc62ea3429fb960d6ac2a2,Make host_aggregate_map dictionary case-insensitive,MERGED,2018-07-24 12:19:11.000000000,2018-07-30 17:54:41.000000000,2018-07-30 17:54:41.000000000,14,3,0,585335,8f5fbd83de3759407b8f928159067211af156d60,21,9,2,2,20733,Rajesh Tailor,rajesht,"Make host_aggregate_map dictionary case-insensitive

As of now, if hostname is set as ""compute0.example.com"" (in lower case)
and user tries to add this host to host-aggregate but by-mistake types
""COMPUTE0.example.com"" (in capital case), then instead of throwing
HostNotFound error, that host is successfully added to host-aggregate
as ""COMPUTE0.example.com"". And after that if instance creation request
with flavor matching metadata as host-aggregate metadata comes, this
host is not filtered by scheduler, since there is no host with hostname
COMPUTE0.example.com, as added in host-aggregate.

Fixed the issue by lowercasing all hostnames in host_aggregate_map
dictionary.

Change-Id: Iee4b9bbf412adfdc6fdc62ea3429fb960d6ac2a2
Closes-Bug: 1709260
(cherry picked from commit 0dc0db932e3ad5ad911f2072015cb9854f6e4e23)
"
openstack%2Fneutron~stable%2Fpike~I6e5783c44c77ec07371921e900ed45efd031ebdb,openstack/neutron,stable/pike,bug/1715163,I6e5783c44c77ec07371921e900ed45efd031ebdb,Refactor DVR HA migarations DB operations,MERGED,2018-07-23 10:14:40.000000000,2018-07-30 17:54:37.000000000,2018-07-30 17:54:37.000000000,16,13,0,584785,ac6ae10bcd65267345632cbbc424d22330914808,9,6,1,2,11975,Slawek Kaplonski,slaweq,"Refactor DVR HA migarations DB operations

when a router is migrated from/to HA, router interface device_owner
in DB is updated in the AFTER_UPDATE event handler. Because of this
we see StaleDataError Trace as described in the bug report.
Instead, we follow DVR approach and update it in PRECOMMIT_UPDATE
handler, which only does DB changes. Here we update device_owner only
between legacy and HA router modes as migration involving DVR is
already handled in DVR code.

Also update distributed flag after all DB operations. Otherwise existing
code may affect router unbinding during retry as distributed flag
already updated before retry.

Testing is covered with scenario tempest test i.e
DVR HA migrations tests from gate job
""legacy-tempest-dsvm-neutron-dvr-multinode-scenario"".

Closes-Bug: 1715163
Change-Id: I6e5783c44c77ec07371921e900ed45efd031ebdb
(cherry picked from commit 7910c3a1c090ed7a46a32b371ecf73157ddba88f)
"
openstack%2Fpanko~master~I969a67c4ff22795a0f185e4e8923133abb892397,openstack/panko,master,reno-rocky,I969a67c4ff22795a0f185e4e8923133abb892397,Update reno for stable/rocky,NEW,2018-07-30 16:48:41.000000000,2018-07-30 17:53:29.000000000,,7,0,0,587136,be7dc0f934725e8bef8799faea5ffc1c759b4df7,2,1,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: I969a67c4ff22795a0f185e4e8923133abb892397
"
openstack%2Freleases~master~I92b1c52b241a716ca19a7d6aeda962fbb2f31bd2,openstack/releases,master,ceilometer-rocky,I92b1c52b241a716ca19a7d6aeda962fbb2f31bd2,Release Ceilometer 11.0.0 for Rocky,MERGED,2018-07-30 14:45:51.000000000,2018-07-30 17:49:11.000000000,2018-07-30 17:49:11.000000000,8,0,1,587084,ac3195514ecfb53fba331475ed90784dcf063f7b,11,2,3,1,1669,Julien Danjou,jdanjou,"Release Ceilometer 11.0.0 for Rocky

Change-Id: I92b1c52b241a716ca19a7d6aeda962fbb2f31bd2
"
openstack%2Fpython-pankoclient~master~Ia31e94a6195e27248ee00782aa8a1f887649af41,openstack/python-pankoclient,master,reno-rocky,Ia31e94a6195e27248ee00782aa8a1f887649af41,Update reno for stable/rocky,NEW,2018-07-30 16:59:27.000000000,2018-07-30 17:49:03.000000000,,7,0,0,587161,0b236cd5ae88de7266b34f582ec1b5c05436f479,2,1,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: Ia31e94a6195e27248ee00782aa8a1f887649af41
"
openstack%2Ftripleo-heat-templates~master~Ia2c12d7455564b6297c5f0934812b10fabbdc914,openstack/tripleo-heat-templates,master,587006,Ia2c12d7455564b6297c5f0934812b10fabbdc914,"Revert ""Fix deploy health checks""",MERGED,2018-07-30 11:28:35.000000000,2018-07-30 17:47:45.000000000,2018-07-30 17:29:08.000000000,0,53,0,587006,2f44dbd93809faa25cd774aee278e3723da1c2a1,17,9,2,1,27898,Quique Llorente,quiquell,"Revert ""Fix deploy health checks""

This reverts commit bd1d5d72caf25010e373f1ad2ed6ebc5aee96914.

Closes-Bug: #1784307
Change-Id: Ia2c12d7455564b6297c5f0934812b10fabbdc914
"
openstack%2Fopenstacksdk~stable%2Frocky~I6ae42b44b5460fed5291584576bb9eb7bcdfecb4,openstack/openstacksdk,stable/rocky,ironic-provision-state-stable/rocky,I6ae42b44b5460fed5291584576bb9eb7bcdfecb4,baremetal: correct the default timeout in Node.set_provision_state,MERGED,2018-07-30 10:51:46.000000000,2018-07-30 17:39:49.000000000,2018-07-30 17:39:49.000000000,1,1,0,586997,004f35ffd1594467dbe8d4e795136e7ff7e1e434,6,3,1,1,10239,Dmitry Tantsur,dtantsur,"baremetal: correct the default timeout in Node.set_provision_state

It should be None, which allows the client to wait until the server
side timeout. True is probably cast to 1, which is incorrect.

Change-Id: I6ae42b44b5460fed5291584576bb9eb7bcdfecb4
(cherry picked from commit 031acd99916d6835399a777cbbad476f63d68646)
"
openstack%2Fpatrole~master~I8a4da457c2d40ebddbfe5492dc1cbba87288c0da,openstack/patrole,master,remove-todo,I8a4da457c2d40ebddbfe5492dc1cbba87288c0da,Remove misleading todo from config.py,MERGED,2018-07-29 06:09:19.000000000,2018-07-30 17:39:48.000000000,2018-07-30 17:39:48.000000000,0,2,0,586856,d48d892355069aa8540d3b85d9a1c3dd5f7eda9d,7,3,1,1,23186,Felipe Monteiro,felipe.monteiro,"Remove misleading todo from config.py

This patch set removes a misleading todo from config.py which
suggests that it might be possible to leverage Keystone's
Policy API to derive policy information from remote hosts. But
this is not possible as the Policy API is deprecated [0].

If we want to get policy information from a remote host we will
need to pursue some SSH alternative instead, but this is not
planned anytime soon.

[0] https://docs.openstack.org/releasenotes/keystone/queens.html#deprecation-notes

Change-Id: I8a4da457c2d40ebddbfe5492dc1cbba87288c0da
"
openstack%2Fproject-config~master~Icbf5d4b2f58ec31b215328c2cf1482892fa4dc53,openstack/project-config,master,,Icbf5d4b2f58ec31b215328c2cf1482892fa4dc53,Add a base job to test storing logs in swift,MERGED,2018-07-25 17:09:20.000000000,2018-07-30 17:39:46.000000000,2018-07-30 17:39:46.000000000,63,0,1,585830,56d9fa29a55826a9ddad7c741588f291b250a944,15,4,2,3,1,James E. Blair,corvus,"Add a base job to test storing logs in swift

Change-Id: Icbf5d4b2f58ec31b215328c2cf1482892fa4dc53
"
openstack%2Fnova~stable%2Fpike~I35470773b8c467449ed71217fdb4b6c82f455e33,openstack/nova,stable/pike,bug/1414559-stable/pike,I35470773b8c467449ed71217fdb4b6c82f455e33,libvirt: add method to configure migration speed,MERGED,2018-07-30 07:57:13.000000000,2018-07-30 17:39:40.000000000,2018-07-30 17:39:40.000000000,14,0,3,586965,e0f1c2cbfd46c0dad72a7f0fb0a1c7fb91fd0c6b,14,9,2,3,10135,Lee Yarwood,lyarwood,"libvirt: add method to configure migration speed

In this commit we are enhancing guest object to control the maximum bw
to perform migration.

Closes-Bug: #1783635
Related-Bug: #1414559
Change-Id: I35470773b8c467449ed71217fdb4b6c82f455e33
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>
(cherry picked from commit 23446a9552b5be3b040278646149a0f481d0a005)
"
openstack%2Fcinder~master~I656aed531fdec9a8eb6c10915d736769a712e7d8,openstack/cinder,master,run-tempest-scenario-all-job,I656aed531fdec9a8eb6c10915d736769a712e7d8,"Revert ""Use Tempest scenario job to run all scenario tests""",MERGED,2018-07-30 01:32:55.000000000,2018-07-30 17:29:19.000000000,2018-07-30 17:29:19.000000000,0,15,0,586918,af173843e1bc42d86077eea3547f868da78156bc,29,34,1,1,8556,Ghanshyam,ghanshyam,"Revert ""Use Tempest scenario job to run all scenario tests""

Let's revert the scenario job things till Rocky release and discussion in ML[1].


[1] http://lists.openstack.org/pipermail/openstack-dev/2018-May/130394.html

This reverts commit 5408617a8313a464c98f2b304f3e8aa32ef0312b.

Change-Id: I656aed531fdec9a8eb6c10915d736769a712e7d8
"
openstack%2Fneutron~stable%2Fpike~I32e76a83443dd8e7d79b396499747f29b4762e92,openstack/neutron,stable/pike,bug/1757482,I32e76a83443dd8e7d79b396499747f29b4762e92,Disallow router interface out of subnet IP range,MERGED,2018-07-20 11:10:22.000000000,2018-07-30 17:29:16.000000000,2018-07-30 17:29:15.000000000,81,0,0,584325,988eceac27a9ad91775376b3b3fedf84963663a5,15,7,2,2,11975,Slawek Kaplonski,slaweq,"Disallow router interface out of subnet IP range

Currently, a non privileged tenant can add a router interface to a
shared / external network's subnet with an IP address outside the
subnet's allocation pool, creating a security risk. This patch prevents
tenants who are not the subnet's owner or admin from assigning a router
interface an IP address outside the subnet's allocation pool.

Change-Id: I32e76a83443dd8e7d79b396499747f29b4762e92
Closes-Bug: #1757482
(cherry picked from commit 54aa6e81cb17b33ce4d5d469cc11dec2869c762d)
"
openstack%2Fnetworking-odl~master~I83eb82a2064026220c2d5a8455e34e5a965f9ea5,openstack/networking-odl,master,narrow-tempest,I83eb82a2064026220c2d5a8455e34e5a965f9ea5,Narrow down tempest tests to relevant tests,MERGED,2018-07-12 13:03:30.000000000,2018-07-30 17:18:57.000000000,2018-07-30 17:18:57.000000000,4,21,2,582176,46964bcd1b9df0fde10965936a84aec55fe935d0,33,4,6,2,7921,Mike Kolesnik,mkolesni,"Narrow down tempest tests to relevant tests

The only tests that actually test that ODL is working or not end-to-end
are the scenario tests, and some of the compute API tests that bring up
servers (thus verifying that ODL is actually running).
Hence, the tempest tests should focus on these tests as we're not making
any API changes and thus have no impact on these tests, but they yield
enough false positives to warrant not running as part of networking-odl.

The blacklist has been updated to point to relevant tests.

Change-Id: I83eb82a2064026220c2d5a8455e34e5a965f9ea5
"
openstack%2Fneutron-lbaas~master~I3f9214d9494bcf15976b7a721a9a34b17abb6c0c,openstack/neutron-lbaas,master,,I3f9214d9494bcf15976b7a721a9a34b17abb6c0c,[WIP] DO NOT MERGE,ABANDONED,2018-07-30 12:46:08.000000000,2018-07-30 17:17:40.000000000,,300,25,0,587047,cac9b4a6bdba75bb0a18cbcc4b64e6dc3b190562,4,2,1,5,12907,Jan Zerebecki,jzerebecki,"[WIP] DO NOT MERGE

Testing for I32328c5206b9cd6fb8d8764c079f22b6ea8bfa9e
Improve speed of listing from DB

Change-Id: I3f9214d9494bcf15976b7a721a9a34b17abb6c0c
"
openstack%2Fopenstack-ansible-os_designate~master~Ib6bdf4155a83fe23e771c16314a673c4313fa143,openstack/openstack-ansible-os_designate,master,fix_ansible,Ib6bdf4155a83fe23e771c16314a673c4313fa143,"Fix usage of ""is"" instead of the ""|"" in Ansible",ABANDONED,2018-07-18 02:51:58.000000000,2018-07-30 17:01:33.000000000,,0,0,0,583438,a2a308f08c35600e5adceb709f904a15453af194,6,3,2,0,28427,Tuan Do Anh,tuanda,"Fix usage of ""is"" instead of the ""|"" in Ansible

With the more recent versions of Ansible,
we should now use ""is"" instead of the ""|"" sign for the tests.

This should fix it.

Change-Id: Ib6bdf4155a83fe23e771c16314a673c4313fa143
"
openstack%2Fpuppet-openstack-integration~master~I6f94e214a70f92278f1f3806471ef2f622a938c3,openstack/puppet-openstack-integration,master,ubuntu-bionic,I6f94e214a70f92278f1f3806471ef2f622a938c3,Add Ubuntu 18.04 Bionic to CI,MERGED,2018-05-06 12:25:55.000000000,2018-07-30 16:57:10.000000000,2018-07-25 01:42:09.000000000,92,80,1,566465,a696192bf25199d8e1b19a05165e19d1de65c08d,54,7,11,6,16137,Tobias Urdin,tobasco,"Add Ubuntu 18.04 Bionic to CI

We now have support to Mimic and can select that version
and this patch fixes Puppet 5 for Bionic we can add it to CI.

When this is fixed the only thing left is to add beaker acceptance
testing for Bionic.

Bionic only has Puppet 5 and can currently only use Ceph Mimic.

Change-Id: I6f94e214a70f92278f1f3806471ef2f622a938c3
"
openstack%2Fopenstack-ansible-os_trove~master~I69d0d0a43e1e268d0034fc763f87b32f64a63d27,openstack/openstack-ansible-os_trove,master,suse-vars,I69d0d0a43e1e268d0034fc763f87b32f64a63d27,Add variables for opensuse-423,ABANDONED,2018-07-30 12:37:08.000000000,2018-07-30 16:48:42.000000000,,23,0,0,587043,533f36f1ac597c4e1403b4d40f813176d0d2eac0,3,1,1,1,25023,Jonathan Rosser,jrosser,"Add variables for opensuse-423

Change-Id: I69d0d0a43e1e268d0034fc763f87b32f64a63d27
"
openstack%2Ftripleo-heat-templates~master~I8d21233e917b5d36be385d59f1a7c9a0588aea2d,openstack/tripleo-heat-templates,master,bug/1783988,I8d21233e917b5d36be385d59f1a7c9a0588aea2d,Fix python3 support in yaml-validate script.,MERGED,2018-07-27 11:49:11.000000000,2018-07-30 16:47:41.000000000,2018-07-30 16:47:41.000000000,2,1,0,586518,d37308d63c0b94ab0815416eaae9fe282c8181e4,21,8,4,2,28223,Cedric Jeanneret,cjeanner,"Fix python3 support in yaml-validate script.

Python3 drops the ""iteritems"" method for dict in favor to
""items"".

Change-Id: I8d21233e917b5d36be385d59f1a7c9a0588aea2d
Closes-Bug: 1783988
"
openstack%2Fneutron~stable%2Fqueens~I2acc9c720b39271bde2a89da4a66958f7aba5b7d,openstack/neutron,stable/queens,bug/1777968,I2acc9c720b39271bde2a89da4a66958f7aba5b7d,Reduce IP address collision during port creating,MERGED,2018-07-20 10:35:24.000000000,2018-07-30 16:44:04.000000000,2018-07-30 16:44:04.000000000,3,2,0,584307,1511c5f9dd4de11f666ff151f5cdaacc580f4c08,12,8,1,1,11975,Slawek Kaplonski,slaweq,"Reduce IP address collision during port creating

Try to give it a large random chance during generate IP
address.

The DB retry mechanism change moved to neutron-lib:
I5ad139bdfb3ae125658b36d05f85f139a1b47bee

Closes-Bug: #1777968
Change-Id: I2acc9c720b39271bde2a89da4a66958f7aba5b7d
(cherry picked from commit ec5cd0d1b85d56adef836bf1167287993ec35ca6)
"
openstack%2Ftempest~master~I53e2ee82c9c52afb0a56526c655eb9b3b6b8f483,openstack/tempest,master,bp/clear-deprecated-api,I53e2ee82c9c52afb0a56526c655eb9b3b6b8f483,Modify limits fields according to microversion,MERGED,2018-03-29 02:21:28.000000000,2018-07-30 16:44:02.000000000,2018-07-30 16:44:02.000000000,129,24,28,557574,8013413d8c5ee00469197dd0d018c4a6225974ea,94,11,11,9,20190,zhufl,zhufl,"Modify limits fields according to microversion

1. Some limits fields are removed from Microversion 2.35/2.38/2.56,
   so we should check limits fields according to microversion.
2. In test_max_metadata_exceed_limit, maxImageMeta is deprecated from
   Microversion 2.38, so maxServerMeta is used instead, btw, maxServerMeta
   seems to be more suitable for this testcase.
   Besides, test_max_metadata_exceed_limit is not used in interop, so we
   can safely change its name.

ref: https://developer.openstack.org/api-ref/compute/#show-rate-and-absolute-limits

Implements blueprint: clear-deprecated-api

Change-Id: I53e2ee82c9c52afb0a56526c655eb9b3b6b8f483
"
openstack%2Freleases~master~I07c4b07e18017d4572f2e23a3480a87ad4cf3092,openstack/releases,master,pankoclient-rocky,I07c4b07e18017d4572f2e23a3480a87ad4cf3092,Release pankoclient 0.5.0 for Rocky,MERGED,2018-07-30 14:49:21.000000000,2018-07-30 16:42:42.000000000,2018-07-30 16:42:41.000000000,9,0,0,587087,491550ae799db53e5e3bbf97276f731142acfe86,6,2,1,1,1669,Julien Danjou,jdanjou,"Release pankoclient 0.5.0 for Rocky

Change-Id: I07c4b07e18017d4572f2e23a3480a87ad4cf3092
"
openstack%2Freleases~master~Ia9494174a09cf144065df04574fc7b10c00d18a1,openstack/releases,master,aodhclient-rocky,Ia9494174a09cf144065df04574fc7b10c00d18a1,Release aodhclient 1.1.1 for Rocky,MERGED,2018-07-30 14:47:41.000000000,2018-07-30 16:42:42.000000000,2018-07-30 16:42:42.000000000,5,0,0,587085,ec0a406497bdc7c2097942da1e3db00707ce9d4f,6,2,1,1,1669,Julien Danjou,jdanjou,"Release aodhclient 1.1.1 for Rocky

Change-Id: Ia9494174a09cf144065df04574fc7b10c00d18a1
"
openstack%2Fnetworking-baremetal~master~I88a3c02a2c2f2c264f589c49a36f2d6f8b65da6f,openstack/networking-baremetal,master,,I88a3c02a2c2f2c264f589c49a36f2d6f8b65da6f,Update neutron-lib requirement for rocky,MERGED,2018-07-24 18:44:02.000000000,2018-07-30 16:42:05.000000000,2018-07-30 16:42:05.000000000,2,2,1,585510,51e685bdae9a4f0a91cb2e507bfc2d2d7a8e6261,7,3,1,2,11655,Julia Kreger,jkreger,"Update neutron-lib requirement for rocky

Per the mailing list post[1], updating the requirement
to 1.18.0 for the rocky release.

[1]: http://lists.openstack.org/pipermail/openstack-dev/2018-July/132412.html

Change-Id: I88a3c02a2c2f2c264f589c49a36f2d6f8b65da6f
"
openstack%2Freleases~master~I64f369e26ba39f5f7bbc0078eab9b8d4443c2314,openstack/releases,master,panko-rocky,I64f369e26ba39f5f7bbc0078eab9b8d4443c2314,Release Panko 5.0.0 for Rocky,MERGED,2018-07-30 14:42:52.000000000,2018-07-30 16:41:14.000000000,2018-07-30 16:41:14.000000000,8,0,0,587083,504aa29517b14c7b9bad776f17105c315533d4d0,8,2,2,1,1669,Julien Danjou,jdanjou,"Release Panko 5.0.0 for Rocky

Change-Id: I64f369e26ba39f5f7bbc0078eab9b8d4443c2314
"
openstack%2Freleases~master~I35327c54549b9da45d2e6effa3f1d8def5f68ad1,openstack/releases,master,aodh-rocky,I35327c54549b9da45d2e6effa3f1d8def5f68ad1,Release Aodh 7.0.0 for Rocky,MERGED,2018-07-30 14:41:35.000000000,2018-07-30 16:41:14.000000000,2018-07-30 16:41:14.000000000,8,0,0,587082,0b4a5395223fbb6c794bdb38771bff1671ae9089,8,2,2,1,1669,Julien Danjou,jdanjou,"Release Aodh 7.0.0 for Rocky

Change-Id: I35327c54549b9da45d2e6effa3f1d8def5f68ad1
"
openstack%2Freleases~master~Ic84a3a87d8ef53ae839a2c65cb553cf926f7663f,openstack/releases,master,stein,Ic84a3a87d8ef53ae839a2c65cb553cf926f7663f,Proposed release schedule for Stein,MERGED,2018-06-15 17:03:56.000000000,2018-07-30 16:29:24.000000000,2018-07-30 16:29:24.000000000,363,0,1,575794,1aaa9af451db7f02b5b428702df99821ff1946d7,12,5,1,5,11904,Sean McGinnis,SeanM,"Proposed release schedule for Stein

This is a proposed schedule for the Stein release extending
the cycle to 32 weeks to align with a combined Summit/PTG
event in March 2019.

Change-Id: Ic84a3a87d8ef53ae839a2c65cb553cf926f7663f
"
openstack%2Fproject-config~master~Ida150b3d484538caf0b040c417c391c7cd76dcc5,openstack/project-config,master,,Ida150b3d484538caf0b040c417c391c7cd76dcc5,Split roles after unbound into own play,MERGED,2018-07-29 02:55:48.000000000,2018-07-30 16:27:40.000000000,2018-07-30 16:27:40.000000000,7,0,1,586851,c446f90a2a987927d42b3ff417b46cf038d3d40f,7,3,1,1,4162,Paul Belanger,pabelanger,"Split roles after unbound into own play

This is because we actually want unbound to finish reloading before
running any other roles. Without this, we only restart unbound after
all roles have run.

This is to help debug an issue in fedora, where we cannot traceroute
to git.o.o properly, and think we are failing to resolve DNS properly.

  http://logs.openstack.org/47/586847/1/gate/windmill-fedora-27/2f06941/job-output.txt.gz

Change-Id: Ida150b3d484538caf0b040c417c391c7cd76dcc5
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
"
openstack%2Fopenstack-helm-infra~master~Ief1b6890444ff90cc9c0ca872087af74836c0771,openstack/openstack-helm-infra,master,elasticsearch_master_update,Ief1b6890444ff90cc9c0ca872087af74836c0771,Drive apache proxy configuration via values templates,MERGED,2018-07-05 22:41:44.000000000,2018-07-30 16:27:25.000000000,2018-07-30 16:27:25.000000000,303,748,13,580519,4f78e1f6fc72f302ef3dc77202de921f70b6c957,40,8,17,18,17591,Steve Wilkerson,srwilkers,"Drive apache proxy configuration via values templates

This proposes defining the apache proxy hosts entirely via values
templates. While complicated on its face, this gives flexibility
by allowing the ability to define the desired authentication
mechanism via values templates. These options can range from
using http basic auth for development purposes to defining more
complex ldap configurations without a need to modify the chart
directly

Change-Id: Ief1b6890444ff90cc9c0ca872087af74836c0771
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fneutron~master~Ib9e8554eade9ee3b95a38149661256e5d1068acb,openstack/neutron,master,zuulv3-jobs,Ib9e8554eade9ee3b95a38149661256e5d1068acb,DNM: Testing lib neutron src zuul job,ABANDONED,2018-07-30 15:21:40.000000000,2018-07-30 16:27:21.000000000,,1,0,0,587092,50c891121f59335c7042210301055df041033c06,6,4,1,1,5367,boden,boden,"DNM: Testing lib neutron src zuul job

DO NOT MERGE

This is a sample change to test with [1] to ensure [1] is pulling in
neutron/master + depends change.

[1] https://review.openstack.org/#/c/586613/

Change-Id: Ib9e8554eade9ee3b95a38149661256e5d1068acb
"
openstack%2Fneutron~stable%2Focata~I32e76a83443dd8e7d79b396499747f29b4762e92,openstack/neutron,stable/ocata,bug/1757482-stable/ocata,I32e76a83443dd8e7d79b396499747f29b4762e92,Disallow router interface out of subnet IP range,MERGED,2018-07-20 11:11:04.000000000,2018-07-30 16:27:15.000000000,2018-07-30 16:27:14.000000000,81,0,0,584326,c1d2f13495b2eb925be6495840795ead5929fd0e,21,7,2,2,11975,Slawek Kaplonski,slaweq,"Disallow router interface out of subnet IP range

Currently, a non privileged tenant can add a router interface to a
shared / external network's subnet with an IP address outside the
subnet's allocation pool, creating a security risk. This patch prevents
tenants who are not the subnet's owner or admin from assigning a router
interface an IP address outside the subnet's allocation pool.

Change-Id: I32e76a83443dd8e7d79b396499747f29b4762e92
Closes-Bug: #1757482
(cherry picked from commit 54aa6e81cb17b33ce4d5d469cc11dec2869c762d)
"
openstack%2Fswift~master~I34ed9e1c4b822f700e42fb07937df7be72cbaf4e,openstack/swift,master,zuulv3-native,I34ed9e1c4b822f700e42fb07937df7be72cbaf4e,Native Zuul v3 tox jobs,MERGED,2017-12-17 18:49:58.000000000,2018-07-30 16:19:32.000000000,2017-12-21 05:36:36.000000000,151,0,9,528582,dc1c55c9a07c03fe85f4bcc52419a42d75ae30fa,33,7,8,2,6547,Andreas Jaeger,jaegerandi,"Native Zuul v3 tox jobs

Convert the legacy tox jobs to Zuul v3 native and use the
tools/test_setup.sh script to setup a XFS file like it's done in the
legacy job.

Needed-By: Id2b5cff998ac3a825a8f515c7bae3b433f30d272
Change-Id: I34ed9e1c4b822f700e42fb07937df7be72cbaf4e
"
openstack%2Fnetworking-odl~master~Iacba50efe8fc4eee3ebac14423852aa87f2d72e8,openstack/networking-odl,master,bug/1686625,Iacba50efe8fc4eee3ebac14423852aa87f2d72e8,Enabled feature negotation for qos rules,MERGED,2018-05-10 16:01:49.000000000,2018-07-30 16:12:14.000000000,2018-07-30 16:12:14.000000000,50,15,21,567626,86175e8f557f1f7930e097cab8345a40b8bce6f8,54,9,9,3,13912,rajiv,rajiv.kumar,"Enabled feature negotation for qos rules

This patch enables feature negotiations for qos rules. Now
configuration of rules are being fetched from the get_config
api of the odl_feature

Change-Id: Iacba50efe8fc4eee3ebac14423852aa87f2d72e8
Closes-bug: #1686625
"
openstack%2Ftripleo-common~stable%2Fqueens~Ibabe216d3e2b1ea33adc1feaae7095e76cfad19d,openstack/tripleo-common,stable/queens,bug/1739024,Ibabe216d3e2b1ea33adc1feaae7095e76cfad19d,ensure unique ironic node ID with UCS driver,MERGED,2018-07-19 15:10:15.000000000,2018-07-30 16:11:48.000000000,2018-07-30 16:11:48.000000000,80,1,0,583985,17e786f83aacd7994e1071835c62e91c49febc79,10,5,2,3,21909,Bob Fournier,bfournie,"ensure unique ironic node ID with UCS driver

The UCS driver info handling is split off the common
PrefixedDriverInfo implementation for the purpose of
generating unique node IDs in a driver-specific and
clean way.

This change un-deprecates `pm_service_profile` option
support.

Conflicts: tripleo_common/utils/nodes.py

Closes-Bug: #1739024
Change-Id: Ibabe216d3e2b1ea33adc1feaae7095e76cfad19d
(cherry picked from commit ea50e58eb6c4d0aab9d79a531a3644fd136993c5)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I8aaabf013b50b963e9a973b2ccedcbd4f6a9197d,openstack/tripleo-heat-templates,stable/queens,bug/1782392,I8aaabf013b50b963e9a973b2ccedcbd4f6a9197d,Mount my.cnf.d into the db_sync container for Barbican and Octavia.,MERGED,2018-07-27 17:00:20.000000000,2018-07-30 16:11:47.000000000,2018-07-30 16:11:47.000000000,2,0,0,586621,ce074d32878599aa92f4bf58c4950a9a84924aa0,11,4,2,2,26359,Andrew Austin,aaustin,"Mount my.cnf.d into the db_sync container for Barbican and Octavia.

This ensures that the generated my.cnf.d configurations are present
in the Barbican and Octavia db_sync containers. Without these settings,
a MySQL authentication error stops the db sync when TLS is enabled for
MySQL.

Change-Id: I8aaabf013b50b963e9a973b2ccedcbd4f6a9197d
Closes-Bug: 1782392
(cherry picked from commit d10ba6f84ad5a25cea7d7ebc415d0f7c6e9f14d4)
"
openstack%2Fopenstack-ansible-os_monasca-ui~master~I3abb2843fa8ba23d0f8a7df2aead374315807396,openstack/openstack-ansible-os_monasca-ui,master,zuulv3-jobs,I3abb2843fa8ba23d0f8a7df2aead374315807396,Initial OSA zuul v3 role jobs,ABANDONED,2017-11-01 10:15:16.000000000,2018-07-30 16:11:06.000000000,,122,2,0,516922,ec138906b15176aa69fbd7ab7275b21fb48200ff,10,3,3,4,6816,Jesse Pretorius,jesse-pretorius,"Initial OSA zuul v3 role jobs

This patch implements an initial set of jobs intended to match
the current job execution method. It does not intend to improve
how the jobs are executed - only to replicate what is currently
in openstack-infra/openstack-zuul-jobs and provide the platform
to iterate on.

Change-Id: I3abb2843fa8ba23d0f8a7df2aead374315807396
Co-Authored-By: Jean-Philippe Evrard <jean-philippe@evrard.me>
"
openstack%2Fmagnum~master~Ie51449fe3c308b785c3e2569d7520141cef54b2d,openstack/magnum,master,,Ie51449fe3c308b785c3e2569d7520141cef54b2d,Adding git-submodule connecting kubernetes fedora atomic images,ABANDONED,2018-07-02 17:23:43.000000000,2018-07-30 16:07:02.000000000,,17,0,1,579646,b08521beb1d48807e36010b47d5bfca894a6c363,8,4,1,3,28411,Jim Bach,imdigitaljim,"Adding git-submodule connecting kubernetes fedora atomic images

This git-submodule links the kubernetes image Dockerfiles for others
to determine the origin of the images. This also enables others to be
able to provide their own images.

Change-Id: Ie51449fe3c308b785c3e2569d7520141cef54b2d
Task: 22680
Story: 2002795
"
openstack%2Fpanko~master~Icb8e7ff374ded41f33dd678ad45e3ab7c3459671,openstack/panko,master,bp/s,Icb8e7ff374ded41f33dd678ad45e3ab7c3459671,Add README.rst record more project message,MERGED,2017-12-04 08:53:46.000000000,2018-07-30 16:04:22.000000000,2018-07-30 16:04:22.000000000,25,4,1,525097,87e654c1ae780a69fa55a7342f39ff9dceaa7b61,16,5,4,1,23517,chenyb4,Yuanbin.Chen,"Add README.rst record more project message

Change-Id: Icb8e7ff374ded41f33dd678ad45e3ab7c3459671
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
"
openstack%2Fcharm-cinder~master~I77f9351da8516e5af40fea57400101e6dd16b528,openstack/charm-cinder,master,bug/1782008,I77f9351da8516e5af40fea57400101e6dd16b528,"Revert ""Add policy.json to allow owner to force delete volumes""",MERGED,2018-07-30 15:19:47.000000000,2018-07-30 16:04:05.000000000,2018-07-30 16:04:05.000000000,1,163,0,587091,79f9ff5c7095e3ac070293be01949878d78a008f,7,6,1,3,20634,Chris MacNaughton,Chris.MacNaughton,"Revert ""Add policy.json to allow owner to force delete volumes""

This reverts commit 4ddea990d0fb142313b10bf87ebcb554b20ec37c.

Change-Id: I77f9351da8516e5af40fea57400101e6dd16b528
"
openstack%2Fopenstack-helm-infra~master~I69acdbce604864882d642e44c09a5f0b9c454a61,openstack/openstack-helm-infra,master,prometheus_updates,I69acdbce604864882d642e44c09a5f0b9c454a61,Prometheus: Update command line flags,MERGED,2018-07-26 18:29:45.000000000,2018-07-30 16:04:05.000000000,2018-07-30 16:04:05.000000000,14,6,1,586316,a861c27a34ff9374cb9f2044c1f86a14cbf40a00,13,4,3,2,17591,Steve Wilkerson,srwilkers,"Prometheus: Update command line flags

This updates the default command line flags for Prometheus. It
explicitly sets the HTTP administrative settings to false and
gives a brief explanation of the security concerns associated
with enabling them

This also removes the honor_labels setting where set to false, as
false is the default setting for honor_labels

Change-Id: I69acdbce604864882d642e44c09a5f0b9c454a61
"
openstack%2Freleases~master~I935b98620c6ede2b6097f12ab153fa29bbb9b64a,openstack/releases,master,,I935b98620c6ede2b6097f12ab153fa29bbb9b64a,Cut bugfix release 0.17.1 for openstacksdk,MERGED,2018-07-28 00:02:45.000000000,2018-07-30 16:04:04.000000000,2018-07-30 16:04:04.000000000,4,0,0,586730,1aa9e860818791b3863b67ed64c0f8b9f8f65ae1,10,4,1,1,2,Monty Taylor,mordred,"Cut bugfix release 0.17.1 for openstacksdk

One of the new features in 0.17.0 was broken and was discovered by the
user for which the new feature was added (zuul swift log uploads to be
precise)

Followup bugfix. The patch has landed in master and this is the commit
from it having been backported to stable/rocky

Change-Id: I935b98620c6ede2b6097f12ab153fa29bbb9b64a
"
openstack%2Freleases~master~Id41be1323afe6de862dd64f7d1ffc733bf18a75a,openstack/releases,master,,Id41be1323afe6de862dd64f7d1ffc733bf18a75a,Release phython-manila-client 1.24.1,MERGED,2018-07-28 11:48:53.000000000,2018-07-30 15:55:08.000000000,2018-07-30 15:55:08.000000000,4,0,0,586781,d461146f55a0ad3bd2199125ad8441fde1820f4e,12,5,3,1,9003,Tom Barron,tbarron,"Release phython-manila-client 1.24.1

1.24.1 includes a requirements fix [1] and is intended
to be the actual Rocky release.

[1] I92fcf6a516339a660395e5cd48e0a496158447e8

Change-Id: Id41be1323afe6de862dd64f7d1ffc733bf18a75a
"
openstack%2Freleases~master~I03358f3d601af3554f251fdb14f60dd98b6fd0a1,openstack/releases,master,md-tag0.1.0,I03358f3d601af3554f251fdb14f60dd98b6fd0a1,Release masakari-dashboard 0.1.0,MERGED,2018-07-26 07:32:07.000000000,2018-07-30 15:55:08.000000000,2018-07-30 15:55:08.000000000,5,0,0,585980,07636920bcc472270cb0db310c95cf1d87ff3cc6,11,4,2,1,8716,Sampath Priyankara,sampath,"Release masakari-dashboard 0.1.0

Depends-On: I9d19dae05d7ca30f7d204d7d1836543528cba98d
Change-Id: I03358f3d601af3554f251fdb14f60dd98b6fd0a1
Signed-off-by: Sampath Priyankara <sam47priya@gmail.com>
"
openstack%2Freleases~master~I65cdff93b4bb9d67cf05d0518f5027b7684a73dc,openstack/releases,master,nova-rocky-18.0.0.0b3,I65cdff93b4bb9d67cf05d0518f5027b7684a73dc,nova: release rocky 18.0.0.0b3,MERGED,2018-07-26 22:28:53.000000000,2018-07-30 15:55:07.000000000,2018-07-30 15:55:07.000000000,4,0,0,586368,b0954b736967e80b1a6638e91ad1b6eab097cf7c,13,5,3,1,4690,melanie witt,melwitt,"nova: release rocky 18.0.0.0b3

Depends-On: https://review.openstack.org/564452
Depends-On: https://review.openstack.org/566813

Change-Id: I65cdff93b4bb9d67cf05d0518f5027b7684a73dc
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Focata~I420e291807434382b4d3cd4c8809c7540a419f5a,openstack/openstack-ansible-os_keystone,stable/ocata,bug/1772772-stable/ocata,I420e291807434382b4d3cd4c8809c7540a419f5a,Use correct variable for sso_callback_template deployment,ABANDONED,2018-06-14 08:46:03.000000000,2018-07-30 15:53:49.000000000,,7,2,0,575375,08ff096a24e0ca1889b6f7510594376db8eeae70,7,3,1,2,6816,Jesse Pretorius,jesse-pretorius,"Use correct variable for sso_callback_template deployment

The sso_callback_template file needs to be deployed for a
Keystone SP, not IDP. This patch fixes the conditional.

Closes-Bug: #1772772
Change-Id: I420e291807434382b4d3cd4c8809c7540a419f5a
(cherry picked from commit f88841f37ff6293b6913d1e16d864703c2a080c6)
"
openstack%2Fopenstack-ansible-os_monasca~master~I560cbc1398e89872f00a279e60f1aa8f1342f279,openstack/openstack-ansible-os_monasca,master,move-mq-setup-into-roles,I560cbc1398e89872f00a279e60f1aa8f1342f279,Move MQ vhost/user creation into role,ABANDONED,2018-07-17 21:06:43.000000000,2018-07-30 15:52:43.000000000,,68,0,0,583382,b228cb2e53253b9f1a6ad04a84b00b28b2c989bd,4,2,1,3,6816,Jesse Pretorius,jesse-pretorius,"Move MQ vhost/user creation into role

There is no record for why we implement the MQ vhost/user creation
outside of the role in the playbook, when we could do it inside the
role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we implement two new variables:
- monasca_oslomsg_rpc_setup_host
- monasca_oslomsg_notify_setup_host

These are used in the role to allow delegation of the MQ vhost/user
setup for each type to any host, but they default to using the first
member of the applicable oslomsg host group.

We also adjust some of the defaults to automatically inherit existing
vars set in group_vars form the integrated build so that we do not
need to do the wiring in the integrated build's group vars. We still
default them in the role too for independent role usage.

Change-Id: I560cbc1398e89872f00a279e60f1aa8f1342f279
"
openstack%2Freleases~master~I57092d1d3af249fc2bf2a1a9798fd2d3d3fccfd0,openstack/releases,master,,I57092d1d3af249fc2bf2a1a9798fd2d3d3fccfd0,Release zun 2.0.0,MERGED,2018-07-28 04:27:14.000000000,2018-07-30 15:49:41.000000000,2018-07-30 15:49:41.000000000,5,0,0,586743,97c34a3cd83798beed50f717f48c311966a88e69,6,2,1,1,11536,hongbin,hongbin,"Release zun 2.0.0

Change-Id: I57092d1d3af249fc2bf2a1a9798fd2d3d3fccfd0
"
openstack%2Foslo.messaging~master~I708c3d6676b974d8daac6817c15f596cdf35817b,openstack/oslo.messaging,master,bug/1695746,I708c3d6676b974d8daac6817c15f596cdf35817b,Issue blocking ACK for RPC requests from the consumer thread,MERGED,2018-07-10 16:17:01.000000000,2018-07-30 15:48:21.000000000,2018-07-30 15:48:21.000000000,74,10,3,581417,26b0be585a0b681d011edcb688750770bcdae199,14,6,3,2,8770,Ken Giusti,kgiusti,"Issue blocking ACK for RPC requests from the consumer thread

The patch for https://review.openstack.org/#/c/436958/ fixed a
threading problem by moving the ack back to the polling
thread. However the RPC server expects to catch any failures of the
ACK and abort the request.  This patch adds the ACK error handling
back to the polling thread.

This patch is based heavily off the original work done by Mehdi
Abaakouk (sileht).

Change-Id: I708c3d6676b974d8daac6817c15f596cdf35817b
Closes-Bug: #1695746
"
openstack%2Fdebtcollector~master~I7ea0515c7daa472b18425e318f83a0ec9c7d7629,openstack/debtcollector,master,,I7ea0515c7daa472b18425e318f83a0ec9c7d7629,Add release note link in README,MERGED,2018-07-05 16:02:30.000000000,2018-07-30 15:45:42.000000000,2018-07-30 15:45:42.000000000,1,0,0,580437,95a8842719b15a90d036577b31521e31c1d218c9,6,2,1,1,26285,wu.chunyang,wu.chunyang,"Add release note link in README

Change-Id: I7ea0515c7daa472b18425e318f83a0ec9c7d7629
"
openstack%2Fopenstack-helm~master~Ia6bd4382750bde1b0a0e4db174d2de11626a1826,openstack/openstack-helm,master,glance/disable-v1,Ia6bd4382750bde1b0a0e4db174d2de11626a1826,Glance: disable V1 API and registry,MERGED,2018-07-26 23:02:11.000000000,2018-07-30 15:39:13.000000000,2018-07-30 15:39:02.000000000,74,8,0,586373,664bdc8a1e1dcd5f5585da742847b915d795ff18,16,6,5,5,23928,Pete Birley,portdirect,"Glance: disable V1 API and registry

This PS disables the depreciated glance V1 API and registry
by default. For newton gates the registry is enabled, as newton
heat still used it.

Change-Id: Ia6bd4382750bde1b0a0e4db174d2de11626a1826
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fmistral~master~If90ee5f787e4587a25c156d12c7750407081bf0d,openstack/mistral,master,582966,If90ee5f787e4587a25c156d12c7750407081bf0d,Allow engine commands as task name,MERGED,2018-07-16 14:37:19.000000000,2018-07-30 15:39:01.000000000,2018-07-30 15:39:01.000000000,67,41,3,582966,c08e44f17b605f7ca8703902c54711a3b5cdbaef,33,8,8,11,21970,Andras Kovi,andras.kovi,"Allow engine commands as task name

A change for disabling some task names has introduced a massively
backward incompatible behavior. E.g. even though there is a 'noop' engine
command, the usual way of handling noop is in many cases is to create a
task called the same. The other commands are not used that often but
noop is massively present in currently deployed workflows and it is
not possible to mitigate the error if the workflows are coming from
3rd parties.

This change re-enables the usage of the engine commands as task names
and adds documentation on why this is a useful feature.

Change-Id: If90ee5f787e4587a25c156d12c7750407081bf0d
Related-Change: https://review.openstack.org/#/c/535297
"
openstack%2Fopenstack-helm~master~I4a2ab99bd3b1586703bf53e54231b0f08623a7d8,openstack/openstack-helm,master,gate/set-release,I4a2ab99bd3b1586703bf53e54231b0f08623a7d8,Gate: allow OS release version to be used in scripts,MERGED,2018-07-27 19:23:00.000000000,2018-07-30 15:32:05.000000000,2018-07-30 15:32:05.000000000,426,128,0,586640,a9d23fbb6e8ec0dc21ed3344f5c3eeefcaa29ec6,12,6,3,6,23928,Pete Birley,portdirect,"Gate: allow OS release version to be used in scripts

This PS updates the gate playbooks to both be slightly more
uniform in their instantiation, and also exposes the targeted
openstack release as an env var in scripts ran.

Change-Id: I4a2ab99bd3b1586703bf53e54231b0f08623a7d8
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fnetworking-generic-switch~stable%2Fqueens~I85ee380c5188689c35ff9cf0c334a4cb31ff6029,openstack/networking-generic-switch,stable/queens,tox-install-branch-name,I85ee380c5188689c35ff9cf0c334a4cb31ff6029,Set neutron branch name in tox_install.sh,MERGED,2018-07-27 16:17:50.000000000,2018-07-30 15:30:57.000000000,2018-07-30 15:30:57.000000000,1,1,0,586611,4706c3ed3bcfc50ced8fc50d8a7580f73f0fe465,8,4,1,1,14826,Mark Goddard,mgoddard,"Set neutron branch name in tox_install.sh

This ensures that we are using the correct branch of neutron for local testing.

Change-Id: I85ee380c5188689c35ff9cf0c334a4cb31ff6029
"
openstack%2Fnetworking-generic-switch~master~I4dba5a926357b731c0d9ebad8ba9fcf65b1847bd,openstack/networking-generic-switch,master,hp_comware,I4dba5a926357b731c0d9ebad8ba9fcf65b1847bd,add alias for hpe_comware,MERGED,2018-07-27 20:28:15.000000000,2018-07-30 15:26:10.000000000,2018-07-30 15:26:10.000000000,13,1,0,586681,79e397b7696cf0aa04996fff54ebc677392a0ae7,7,3,1,3,1916,Guang Yee,guang-yee,"add alias for hpe_comware

Netmiko has not changed the device name for hp_comware to hpe_comware
yet. See

https://github.com/ktbyers/netmiko/blob/develop/netmiko/ssh_dispatcher.py

Therefore, the device will fail to load as netmiko will only recognize
""hp_comware"". We'll need to alias ""hpe_comware"" with ""hp_comware"" till
netmiko recognizes HPE.

Change-Id: I4dba5a926357b731c0d9ebad8ba9fcf65b1847bd
"
openstack%2Fnova~master~Ife2bc2d063486031e3e6832b5434388683c0ee7f,openstack/nova,master,sharing-func-test,Ife2bc2d063486031e3e6832b5434388683c0ee7f,WIP: funtional test with sharing providers,ABANDONED,2018-07-27 14:49:45.000000000,2018-07-30 15:19:49.000000000,,78,0,5,586589,79ac1228dbd4ad2ea1e022a3b809d0c101fce51d,15,12,2,2,4393,Dan Smith,danms,"WIP: funtional test with sharing providers

Change-Id: Ife2bc2d063486031e3e6832b5434388683c0ee7f
"
openstack%2Fcharm-cinder~master~I703a21b68186059a63f0d06d88cd2528e821f3d3,openstack/charm-cinder,master,bug/1782008,I703a21b68186059a63f0d06d88cd2528e821f3d3,Add policy.json to allow owner to force delete volumes,MERGED,2018-07-17 08:07:05.000000000,2018-07-30 15:19:47.000000000,2018-07-27 16:17:50.000000000,163,1,1,583139,4ddea990d0fb142313b10bf87ebcb554b20ec37c,30,6,6,3,20634,Chris MacNaughton,Chris.MacNaughton,"Add policy.json to allow owner to force delete volumes

The default in cinder is to only allow the admin to
force delete a volume; this change allows the
admin_or_owner to force delete a volume.

Change-Id: I703a21b68186059a63f0d06d88cd2528e821f3d3
Closes-Bug: #1782008
"
openstack%2Freleases~master~I9528f1799c4299f3a802369b35792af5bec05ae3,openstack/releases,master,,I9528f1799c4299f3a802369b35792af5bec05ae3,ec2-api: release rocky 7.0.0,MERGED,2018-07-30 07:21:48.000000000,2018-07-30 15:14:37.000000000,2018-07-30 15:14:37.000000000,6,0,0,586956,1d686545ef0bfa58c456f35c7f4772e210cf5d7b,7,3,2,1,10234,Andrey Pavlov,andrey-mp,"ec2-api: release rocky 7.0.0

Change-Id: I9528f1799c4299f3a802369b35792af5bec05ae3
"
openstack%2Fkolla-cli~master~I9a2bbc51feaaa49b6ab8b2351d338024151b5837,openstack/kolla-cli,master,,I9a2bbc51feaaa49b6ab8b2351d338024151b5837,"Remove the unnecessary "">""",MERGED,2018-06-13 09:06:00.000000000,2018-07-30 15:10:30.000000000,2018-06-13 13:38:29.000000000,3,3,0,575039,50f3f5802a05b89c4096901b5ccc7ba5270de104,9,3,2,1,27781,zhulingjie,zhulingjie,"Remove the unnecessary "">""

1. Remove the unnecessary "">""
2. Add ""``"" for command

Change-Id: I9a2bbc51feaaa49b6ab8b2351d338024151b5837
"
openstack%2Fneutron~master~Ic7543d276f7cfa2ee70f6b97340d70db5cc12d10,openstack/neutron,master,bug-deputy-routines,Ic7543d276f7cfa2ee70f6b97340d70db5cc12d10,Bug deputy routines for dummies,MERGED,2018-07-27 09:22:10.000000000,2018-07-30 15:02:26.000000000,2018-07-30 15:02:26.000000000,19,0,0,586488,7c7e9380eec1e1b84a1d1bbff2c177e8112bf47a,11,7,1,1,6854,YAMAMOTO Takashi,yamamoto,"Bug deputy routines for dummies

I always keep forgetting what to do and it's
a little time consuming to re-read the previous
sections at the beginning of every my weeks.
Hopefully, this can be useful for others too.

Change-Id: Ic7543d276f7cfa2ee70f6b97340d70db5cc12d10
"
openstack%2Fnova~master~I229e1961a66db08be2d4f7235d2c3724e875f13b,openstack/nova,master,python3-first,I229e1961a66db08be2d4f7235d2c3724e875f13b,tox: Reuse envdirs,MERGED,2018-01-16 17:04:38.000000000,2018-07-30 15:02:21.000000000,2018-07-30 15:02:21.000000000,15,0,26,534382,df669cafa5299b04d5e16dc5533f53ce9508bc67,94,20,10,1,15334,Stephen Finucane,sfinucan,"tox: Reuse envdirs

This massively reduces the amount of time needed to install dependencies
and saves a lot of disk space to boot #winning

Note that it's not possible to use 'envdir = {[testenv:py27]envdir}' as
that syntax doesn't work with implicit attributes.

Change-Id: I229e1961a66db08be2d4f7235d2c3724e875f13b
"
openstack%2Fmonasca-ui~master~Ib6505e2f5be49b928713a9b4cb8c70dd46ebf9bd,openstack/monasca-ui,master,,Ib6505e2f5be49b928713a9b4cb8c70dd46ebf9bd,"Kill mox, no longer needed",ABANDONED,2018-07-23 11:05:29.000000000,2018-07-30 14:57:02.000000000,,0,1,0,584800,b5f46803924a20f9297903f30e529854a4598510,6,1,3,1,24,Chuck Short,zulcss,"Kill mox, no longer needed

This fullfills the community goal
""Remove Use of mox/mox3 for Testing"" set for Rocky:
https://governance.openstack.org/tc/goals/rocky/mox_removal.html

Remove the use_mox flag

Change-Id: Ib6505e2f5be49b928713a9b4cb8c70dd46ebf9bd
Signed-off-by: Chuck Short <chucks@redhat.com>
"
openstack%2Fneutron-lib~master~Id6a129a18bcd12af5d5580860d9e9cf57a9fdbb8,openstack/neutron-lib,master,,Id6a129a18bcd12af5d5580860d9e9cf57a9fdbb8,Mac learning extension description,MERGED,2018-07-18 19:55:54.000000000,2018-07-30 14:55:57.000000000,2018-07-30 14:55:57.000000000,37,0,3,583718,baf4789b1415792865b51269b7bb45beaa2cadaa,16,5,4,3,16274,Mykola Yakovliev,vegasq,"Mac learning extension description

Change-Id: Id6a129a18bcd12af5d5580860d9e9cf57a9fdbb8
"
openstack%2Fnova~stable%2Fpike~I407034374fe17c4795762aa32575ba72d3a46fe8,openstack/nova,stable/pike,bug/1414559,I407034374fe17c4795762aa32575ba72d3a46fe8,libvirt: slow live-migration to ensure network is ready,MERGED,2018-04-05 09:15:16.000000000,2018-07-30 14:55:35.000000000,2018-07-04 16:46:18.000000000,273,32,6,559032,ff747792b8f5aefe1bebb01bdf49dacc01353348,71,12,4,4,10135,Lee Yarwood,lyarwood,"libvirt: slow live-migration to ensure network is ready

In Neutron, commit b7c303ee0a16a05c1fdb476dc7f4c7ca623a3f58 introduced
events sent during a live migration when the VIFs are plugged on
destination node.

The Linux bridge agent mechanism driver is detecting new networks on
the destination host only when the TAP devices are created, and these
tap devices are only created when libvirt starts the migration. As a
result, we must actually start the migration and then slow it as we
wait for the neutron events.

This change ensures we wait for these events.

Depends-On: Icb039ae2d465e3822ab07ae4f9bc405c1362afba

Conflicts:
        nova/tests/unit/virt/libvirt/test_driver.py
        nova/virt/libvirt/driver.py

NOTE(lyarwood): The driver.py conflict is due to additional QEMU and
LIBVIRT version constants being present in Queens. The test_driver.py
conflict being the result of our need to assert byte strings in Pike as
also seen by I9b545ca8aa6dd7b41ddea2d333190c9fbed19bc1 and resolved by
I85cd9a903fba310b5ae7bedeed118ca4ea98dff6 in Queens.

Closes-Bug: #1414559
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>
Change-Id: I407034374fe17c4795762aa32575ba72d3a46fe8
(cherry picked from commit 8e6d5d404cf49e5b68b43c62e7f6d7db2771a1f4)
(cherry picked from commit 224ac25cb1cca60e051cf4dc821eb549e8b36ff2)
"
