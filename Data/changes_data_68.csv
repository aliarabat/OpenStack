id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fcloudkitty~master~I4a8e7c63c6f8df2fee40de324c9970e00d23c48b,openstack/cloudkitty,master,,I4a8e7c63c6f8df2fee40de324c9970e00d23c48b,Update sample configuration file,MERGED,2022-02-07 14:55:40.000000000,2022-02-08 09:16:41.000000000,2022-02-08 09:14:55.000000000,18,16,0,828163,839fdf7b0a44bec34fc154b2b97647f21af8ab32,8,3,1,1,15197,Pierre Riteau,priteau,"Update sample configuration file

Change-Id: I4a8e7c63c6f8df2fee40de324c9970e00d23c48b
"
openstack%2Fkolla-ansible~stable%2Fxena~Ie56868d5e9ed37a9274b8cbe65895f3634b895c8,openstack/kolla-ansible,stable/xena,,Ie56868d5e9ed37a9274b8cbe65895f3634b895c8,Deploy Zun with Cinder Ceph support,MERGED,2022-02-03 16:31:38.000000000,2022-02-08 08:58:44.000000000,2022-02-08 08:57:02.000000000,168,1,0,827649,920089c9fab3bc32356419c03a9f977b69708cc6,9,3,1,10,28295,Buddhika Sanjeewa,bsanjeewa,"Deploy Zun with Cinder Ceph support

Enables zun to access cinder volumes when cinder is configured to use
external ceph.
Copies ceph config file and ceph cinder keyring to /etc/ceph in
zun_compute container.

Closes-Bug: 1848934
Change-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8
(cherry picked from commit eb7e0f6fdac86ea9501b98e6e71554b024bffe96)
"
openstack%2Fneutron-specs~master~I9f1d3add93b5a7ab95264fc9fba9efccbe392e87,openstack/neutron-specs,master,elastic_snat,I9f1d3add93b5a7ab95264fc9fba9efccbe392e87,Add spec for elastic snat,ABANDONED,2021-01-13 08:22:12.000000000,2022-02-08 08:56:39.000000000,,461,0,132,770540,8c55c102f5ed9493e03e3417243c21c55e54d53a,67,6,16,1,9531,liuyulong,LIU-Yulong,"Add spec for elastic snat

Closes-Bug: #1911126
Change-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87
"
openstack%2Fneutron-tempest-plugin~master~I95d9fd3224300c4406a1a397e514989d7495b370,openstack/neutron-tempest-plugin,master,bug/1922653,I95d9fd3224300c4406a1a397e514989d7495b370,Remove the case of multiple fip:port to one fixed_ip:port,ABANDONED,2021-04-22 07:04:54.000000000,2022-02-08 08:53:17.000000000,,0,22,11,787474,68915476b81f26dcfefd463c6b64f00107e253ce,36,4,4,1,9531,liuyulong,LIU-Yulong,"Remove the case of multiple fip:port to one fixed_ip:port

Remove this check because Neutron is going to remove this
unique constraint, it will allow creating portforwardings
which have multiple floating_IP:port to one same fixed_IP:port.

And, this case looks redundant, there are API tests in Neutron.

If Neutron stable branches do not use the master branch of
neutron-tempest-plugin, new test cases after the constraint
removal will be added.

Related-Bug: #1922653
Change-Id: I95d9fd3224300c4406a1a397e514989d7495b370
"
openstack%2Fneutron~master~I3bcee11982e98b438e4d12f1b40f3b2290321b6b,openstack/neutron,master,bug/1952867,I3bcee11982e98b438e4d12f1b40f3b2290321b6b,Support multiple types net map to one ovs bridge,ABANDONED,2021-12-01 09:29:51.000000000,2022-02-08 08:53:03.000000000,,35,7,12,820006,be7b17b43c5d2c9b3b543cde19a6b50d55e2089b,28,7,3,5,9531,liuyulong,LIU-Yulong,"Support multiple types net map to one ovs bridge

In real cloud production environment, there are many
hosts, which can access external network, which may not.
Some have enough NICs to work for different networks,
while some are lack of NICs.

For instance, an external network, provider:network_type is
``vlan``, provider:physical_network is ``external``,
provider:segmentation_id is ``4000``.
While tenant network, provider:network_type is ``vlan``,
provider:physical_network is ``user``, provider:segmentation_id
is ``1000-3000``.

So for neutron's limitation, in one single host, you have
to add two ovs-bridges which are mapping external->br-ex,
user->br-usr. And br-ex adds physical port eth0,
br-usr adds eth1.

But, in real world, these vlans can work in same physical
nic, and physical hosts may be lack of NICs, which means,
Neutron should allow set bridge mapping like this:
{""external"": br-vlan, ""user"": br-vlan}

Then, for those hosts with only one NIC (or one bond NIC),
can work for both physical types of network.

This patch will make this available. Two logical type of network
can work together on one physical. In real world,
external_vlan=4000 and user_vlan=1000-3000 can be set for one
single port in TOR for some hosts.

Closes-Bug: #1952867
Change-Id: I3bcee11982e98b438e4d12f1b40f3b2290321b6b
"
openstack%2Fneutron-specs~master~Ifa2baca64dfbadc2d9473eba2999839ecdadac31,openstack/neutron-specs,master,neutron_detector,Ifa2baca64dfbadc2d9473eba2999839ecdadac31,Neutron detector resource and agent,ABANDONED,2019-05-31 18:46:00.000000000,2022-02-08 08:52:48.000000000,,279,0,132,662541,cb68a59600cfe49f8510721af476952ef4d910f0,24,9,6,1,9531,liuyulong,LIU-Yulong,"Neutron detector resource and agent

Related-Bug: #1830014
Change-Id: Ifa2baca64dfbadc2d9473eba2999839ecdadac31
"
openstack%2Fneutron~master~Ibf7c08e147ace055114556eb14ca013fcf71fe6e,openstack/neutron,master,bug/1922653,Ibf7c08e147ace055114556eb14ca013fcf71fe6e,[L3][Port forwarding] multiple floating_ip:port to same fixed_ip:port,ABANDONED,2021-04-21 00:46:37.000000000,2022-02-08 08:52:33.000000000,,148,8,3,787304,7d61950d58274137fe57095b4de97a8e4e72f3ac,58,6,6,8,9531,liuyulong,LIU-Yulong,"[L3][Port forwarding] multiple floating_ip:port to same fixed_ip:port

Floating ip port forwradings table has constraints:

  op.create_unique_constraint(
      constraint_name=('uniq_port_forwardings0floatingip_id0'
                       'external_port0protocol'),
      table_name=TABLE_NAME,
      columns=['floatingip_id', 'external_port', 'protocol']
  )
  op.create_unique_constraint(
      constraint_name=('uniq_port_forwardings0internal_neutron_port_id0'
                       'socket0protocol'),
      table_name=TABLE_NAME,
      columns=['internal_neutron_port_id', 'socket', 'protocol']
  )

It does not support N-to-1 rule (failed on constraint
uniq_port_forwardings0internal_neutron_port_id0socket0protocol):

172.24.4.64:22 -> tcp -> 192.168.111.45:22
172.24.4.64:122 -> tcp -> 192.168.111.45:22
172.24.4.168:22 -> tcp -> 192.168.111.45:22

This patch removes this uniq constraint to support multiple
floating_ip:port to same fixed_ip:port.

Depends-On: I95d9fd3224300c4406a1a397e514989d7495b370

Change-Id: Ibf7c08e147ace055114556eb14ca013fcf71fe6e
Closes-Bug: #1922653
"
openstack%2Fneutron~master~I352b0ff734682dfa8c3f95e938fd8455f720c674,openstack/neutron,master,bug/1845145,I352b0ff734682dfa8c3f95e938fd8455f720c674,Ensure iptables rule was added only once,ABANDONED,2019-09-24 08:28:31.000000000,2022-02-08 08:51:53.000000000,,72,11,13,684237,ee4fc5db95c03b8d8281572190b7d5b1c6b2273c,94,11,13,3,9531,liuyulong,LIU-Yulong,"Ensure iptables rule was added only once

This patch adds a check for iptables_manager to ensure the rule
was added only once to the list. This will avoid some unexpected
behavior during rule removal procedure.

Closes-Bug: #1845145
Change-Id: I352b0ff734682dfa8c3f95e938fd8455f720c674
"
openstack%2Fneutron~master~I00c5e6e0b11929a5b98e21e21a1090b60466515e,openstack/neutron,master,bug/1813787,I00c5e6e0b11929a5b98e21e21a1090b60466515e,Check dvr local router is up during port creation,ABANDONED,2019-01-30 06:00:31.000000000,2022-02-08 08:51:04.000000000,,206,3,118,633871,39f961b35c63b62a19e23f6a6878499d7615571f,272,14,32,9,9531,liuyulong,LIU-Yulong,"Check dvr local router is up during port creation

Sometimes the dvr local router can be still in processing
but the VM needs to send traffic via it or the proxy. So
this patch adds a status check during port creation. If
the local router is not up, then provisioning_complete
will not be sent.

Closes-Bug: #1813787
Change-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e
"
openstack%2Fneutron~master~I422d987eaa87ca2b93746e754487729ae42a60b2,openstack/neutron,master,change-661492-8,I422d987eaa87ca2b93746e754487729ae42a60b2,Router scheduler based on bandwidth,ABANDONED,2019-05-26 17:54:01.000000000,2022-02-08 08:50:40.000000000,,688,33,0,661492,7f70ffca9221605fd8992e635e4e18d37d5523d7,58,10,9,16,9531,liuyulong,LIU-Yulong,"Router scheduler based on bandwidth

Add `bandwidth` to the router to indicate the total
bandwidth of a router can service.

Add new L3 router scheduler:
    BandwidthLeastRoutersScheduler
    AZBandwidthLeastRoutersScheduler
those schedulers will chose the agent which has the least
router and its free bandwidth can meet the router total
bandwidth.

Closes-Bug: #1828494
Change-Id: I422d987eaa87ca2b93746e754487729ae42a60b2
"
openstack%2Fneutron~master~I1dd056f60df5cb971c7e601035baefc225a91763,openstack/neutron,master,bug/1919107-2,I1dd056f60df5cb971c7e601035baefc225a91763,[L2 pop] Not clean table flows not handled by neutron,ABANDONED,2021-03-23 01:56:36.000000000,2022-02-08 08:50:27.000000000,,50,6,10,782345,1bc22350b7f4c0bd03538f5465f8c38e6d13cb6a,19,6,3,4,9531,liuyulong,LIU-Yulong,"[L2 pop] Not clean table flows not handled by neutron

For bagpipe_bgpvpn it will handle the ARP responder and
tunnel direct flows. For neutron we can disable the
``arp_responder`` and ``l2_population`` when there are
alternatives. So if Neutron does not handle related flows,
it should not delete the flow during the agent restart.

Related-Bug: #1919107
Related-Bug: #1919104

Change-Id: I1dd056f60df5cb971c7e601035baefc225a91763
"
openstack%2Fneutron~master~Ibd44042ef4e87f52d818178a6391c02b21f4f30f,openstack/neutron,master,dvr_revert,Ibd44042ef4e87f52d818178a6391c02b21f4f30f,"Revert ""DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table""",ABANDONED,2021-03-05 02:12:25.000000000,2022-02-08 08:50:11.000000000,,29,230,11,778820,ece54ae014d0619430ef1fc5984bcf1a1eefc6a7,60,17,9,10,9531,liuyulong,LIU-Yulong,"Revert ""DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table""

This reverts commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c [5].

Reason for revert:  The follow-up patch [1] will not be accepted.
And this may be the reason of bug [2] and [3].

This also reverts commit 3027b66c3854c183899e4e0774a92b965aa049d4 [4],
because it is a follow-up fix for [5].

This also reverts commit ea85e39660abaa224c159c42214fdb7042302bea [7]
since [5] and [8] are all reverted.

This revert has conflicts with commit 329ea19f8b881421b9b5ae2fcc855f96af72a9f5 [6],
needs pay attention to that.

[1] https://review.opendev.org/c/openstack/neutron/+/601336
[2] https://bugs.launchpad.net/neutron/+bug/1913646
[3] https://bugs.launchpad.net/neutron/+bug/1916761
[4] https://review.opendev.org/c/openstack/neutron/+/665175
[5] https://review.opendev.org/c/openstack/neutron/+/651905
[6] https://review.opendev.org/c/openstack/neutron/+/752248
[7] https://review.opendev.org/c/openstack/neutron/+/669938
[8] https://review.opendev.org/c/openstack/neutron/+/653883

Change-Id: Ibd44042ef4e87f52d818178a6391c02b21f4f30f
"
openstack%2Fbifrost~stable%2Fxena~I17becbd7848e42ce51c2176cff886f23f35364f4,openstack/bifrost,stable/xena,,I17becbd7848e42ce51c2176cff886f23f35364f4,"Revert ""Install libvirt-python from source instead of a wheel""",MERGED,2022-02-07 18:26:00.000000000,2022-02-08 08:49:46.000000000,2022-02-08 08:47:58.000000000,2,15,0,828178,fe0bccb56d8b12a76fb0290a99149b7a78b1682d,8,3,1,2,10239,Dmitry Tantsur,dtantsur,"Revert ""Install libvirt-python from source instead of a wheel""

This reverts commit 79c8418ead5ead97494497b998aa6c03e27b87bf.

Reason for revert: hopefully no longer needed.

Change-Id: I17becbd7848e42ce51c2176cff886f23f35364f4
(cherry picked from commit 6323ae7706d34494060d9ab50e21c282dcb80b27)
"
openstack%2Fneutron-specs~master~I61340bba49ed3ffd33566ff505b074a4a5109337,openstack/neutron-specs,master,bug/1817881,I61340bba49ed3ffd33566ff505b074a4a5109337,L3 agent self-service metering,ABANDONED,2019-05-11 00:23:18.000000000,2022-02-08 08:49:40.000000000,,201,0,66,658511,2aa6a0116a2c1c7bb337688f8bec16a8ef0d4dff,57,10,17,1,9531,liuyulong,LIU-Yulong,"L3 agent self-service metering

Change-Id: I61340bba49ed3ffd33566ff505b074a4a5109337
Partial-Bug: #1817881
"
openstack%2Fneutron-specs~master~I56588948485c4274f7e0cc1dd0542e09d824719f,openstack/neutron-specs,master,l3_capacity,I56588948485c4274f7e0cc1dd0542e09d824719f,L3 agent capacity and scheduling,ABANDONED,2019-05-10 18:35:23.000000000,2022-02-08 08:49:08.000000000,,172,0,93,658451,d283134c8e2888c3d6451a51b9a7dc73c60e21c2,46,10,10,1,9531,liuyulong,LIU-Yulong,"L3 agent capacity and scheduling

Partial-Bug: #1828494
Change-Id: I56588948485c4274f7e0cc1dd0542e09d824719f
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I6aa9056939c9cc5311034160c790e4893e7d7ce5,openstack/python-tripleoclient,stable/train,upgrade_inventory,I6aa9056939c9cc5311034160c790e4893e7d7ce5,[TRAIN-ONLY] Fix inventory path when upgrading,MERGED,2021-04-01 13:35:42.000000000,2022-02-08 08:42:20.000000000,2021-09-21 12:00:00.000000000,4,2,3,784416,320fbda95346d71d67946c64ba94dd66944cc17d,32,11,6,2,7353,Kevin Carter,cloudnull,"[TRAIN-ONLY] Fix inventory path when upgrading

This change ensures that the inventory function returns the inventory file
path instead of the inventory content when we run
external_update/upgrade. Without this review the funtion
returns inventory content which may not be parsed correctly as
external_* don't use mistral when the playbooks are executed.

rhbz: 1944321
Change-Id: I6aa9056939c9cc5311034160c790e4893e7d7ce5
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fkolla~master~I3e599f780e8f84ea131988f4a9a45f17055c8ab2,openstack/kolla,master,,I3e599f780e8f84ea131988f4a9a45f17055c8ab2,nova-compute: 'ndctl' is available on all archs,MERGED,2022-02-04 16:58:49.000000000,2022-02-08 08:41:16.000000000,2022-02-08 08:38:00.000000000,1,8,0,827885,c638e768a84b2544924293fb382fe326c16a0022,12,3,2,1,24072,Marcin Juszkiewicz,hrw,"nova-compute: 'ndctl' is available on all archs

In past 'ndctl' was x86-64 only in Ubuntu. This changed in 19.04 so time
to adapt.

Change-Id: I3e599f780e8f84ea131988f4a9a45f17055c8ab2
"
openstack%2Fkolla~master~I667ccda5bb4edbfbfb97dfb0cea264837ed05cae,openstack/kolla,master,827656-patch3,I667ccda5bb4edbfbfb97dfb0cea264837ed05cae,erlang: use packages from Erlang Solutions on AArch64,MERGED,2022-02-03 13:16:06.000000000,2022-02-08 08:39:48.000000000,2022-02-08 08:37:57.000000000,25,30,6,827663,f943c7d773a280b832dde9edf9d615540b259b5c,21,4,6,5,24072,Marcin Juszkiewicz,hrw,"erlang: use packages from Erlang Solutions on AArch64

RabbitMQ requires Erlang 23+ and soon will bump to 24+.

On AArch64 we used version 22 as there was no other option. Now it is.

Change-Id: I667ccda5bb4edbfbfb97dfb0cea264837ed05cae
"
openstack%2Fansible-collections-openstack~master~I1f577fae27c24c257571d1cf90e49527470edace,openstack/ansible-collections-openstack,master,,I1f577fae27c24c257571d1cf90e49527470edace,Move identity domain to use proxy layer,MERGED,2022-02-01 11:26:34.000000000,2022-02-08 08:36:40.000000000,2022-02-08 08:36:40.000000000,34,13,1,827267,bdf472a53fd353b51114f27985774a9c29e29399,20,5,5,2,10969,Shnaidman Sagi (Sergey),sergsh,"Move identity domain to use proxy layer

Make it compatible with new SDK and fix bug with ""enabled""

Change-Id: I1f577fae27c24c257571d1cf90e49527470edace
"
openstack%2Fkolla~master~I8c740655c7f7803d9ab36dac79d30e35e65dd586,openstack/kolla,master,,I8c740655c7f7803d9ab36dac79d30e35e65dd586,pin out some package from Debian OpenStack Team repos,MERGED,2022-02-04 11:36:29.000000000,2022-02-08 08:36:36.000000000,2022-02-08 08:33:44.000000000,5,0,2,827848,2553c1845c7c4cf04d720b820e4bb13519eca4c9,14,4,2,1,24072,Marcin Juszkiewicz,hrw,"pin out some package from Debian OpenStack Team repos

Debian OpenStack Team backports many packages to get their stuff done.
Sometimes something goes wrong:

INFO:kolla.common.utils.kolla-toolbox:The following packages have unmet dependencies:
INFO:kolla.common.utils.kolla-toolbox: git : Depends: git-man (< 1:2.30.2-.) but 1:2.34.1-1~bpo11+1 is to be installed
INFO:kolla.common.utils.kolla-toolbox:E: Unable to correct problems, you have held broken packages.

So let pin out problematic packages as we are fine with bullseye version
of git.

Change-Id: I8c740655c7f7803d9ab36dac79d30e35e65dd586
"
openstack%2Fcinder-tempest-plugin~master~Ice1bf9b085270f0a705c17af5eb34c3c298387a6,openstack/cinder-tempest-plugin,master,,Ice1bf9b085270f0a705c17af5eb34c3c298387a6,Updating python testing as per Yoga testing runtime,ABANDONED,2022-02-08 05:12:48.000000000,2022-02-08 08:19:58.000000000,,23,1,0,828216,7e4c3954fabce009fe3beb0d2da9d20f5adadf7d,5,2,1,2,30615,Tushar Trambak Gite,tushargite96,"Updating python testing as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting and as we are testing py3.6 and py3.9
we do not need to test py3.7|8 explicitly. Unit tests update are
handled by the job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit update the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Ice1bf9b085270f0a705c17af5eb34c3c298387a6
"
openstack%2Fbifrost~master~I02ee6c32f8216f33dc10315a35fe8f6b52770cea,openstack/bifrost,master,test,I02ee6c32f8216f33dc10315a35fe8f6b52770cea,DNM test the CI,ABANDONED,2022-02-07 19:02:05.000000000,2022-02-08 08:06:40.000000000,,1,0,0,828182,0b05bd7bf101f74ef8946ade6e3fffda61920c41,3,1,1,1,10239,Dmitry Tantsur,dtantsur,"DNM test the CI

Depends-On: https://review.opendev.org/c/openstack/bifrost/+/828178/
Change-Id: I02ee6c32f8216f33dc10315a35fe8f6b52770cea
"
openstack%2Fneutron-specs~master~Ied444b627f7f2cc7e0fcbb56d17a25bf48aeb5e7,openstack/neutron-specs,master,off-path-smartnic-dpu-port-binding-with-ovn,Ied444b627f7f2cc7e0fcbb56d17a25bf48aeb5e7,Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC,ABANDONED,2022-02-08 08:02:38.000000000,2022-02-08 08:05:34.000000000,,9,7,0,828225,284787abfbd055e479c717d8651731a5d802e4f3,2,0,1,1,13686,Frode Nordahl,fnordahl,"Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC

After a round of reviews of Nova patches that utilized VNIC_SMARTNIC for
the off-path backend spec

https://review.opendev.org/q/topic:2021-09-10-off-path-net-backends-dep

it was determined that the Ironic's usage of VNIC_SMARTNIC would be
affected by how the decision is made whether a port is remote-managed or
not during the resource request creation.

https://review.opendev.org/c/openstack/nova/+/824835/13/nova/network/neutron.py#2325

See the following log for the relevant discussion:

https://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-02-07.log.html#t2022-02-07T15:49:56

Therefore, this change introduces a spec update to use a new VNIC
type.

Nova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458
Nova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends
Partial-Bug: #1932154
Change-Id: I63f156c5bfb5a41e5ebf94dc8f069828569e270a

Change-Id: Ied444b627f7f2cc7e0fcbb56d17a25bf48aeb5e7
"
openstack%2Fproject-config~master~I4bc674875e8d3010bcfd8db8955019d8d791f075,openstack/project-config,master,retire-security-specs,I4bc674875e8d3010bcfd8db8955019d8d791f075,Retire security-specs repo - Step 3,MERGED,2022-01-31 21:20:52.000000000,2022-02-08 08:05:26.000000000,2022-02-08 07:35:46.000000000,2,23,3,827178,7aa2e80f5fa583456248826b3b5cf1e745450141,20,3,4,5,21420,Gage Hugo,ghugo,"Retire security-specs repo - Step 3

The security-specs repo is slated for retirement[0] as per the
security-sig. This change is part of the step to remove the
project from infrastructure systems.

[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026323.html

Depends-on: https://review.opendev.org/c/openstack/security-specs/+/827177

Change-Id: I4bc674875e8d3010bcfd8db8955019d8d791f075
"
openstack%2Fneutron-specs~master~Ice5c5cdcd4451f5066579c246db2ee60ad6b8b99,openstack/neutron-specs,master,off-path-smartnic-dpu-port-binding-with-ovn,Ice5c5cdcd4451f5066579c246db2ee60ad6b8b99,Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC,ABANDONED,2022-02-08 08:03:13.000000000,2022-02-08 08:05:24.000000000,,9,7,0,828226,13f59a6cfba8abc939a1d066e9cd33ac1d1c0076,2,0,1,1,13686,Frode Nordahl,fnordahl,"Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC

After a round of reviews of Nova patches that utilized VNIC_SMARTNIC for
the off-path backend spec

https://review.opendev.org/q/topic:2021-09-10-off-path-net-backends-dep

it was determined that the Ironic's usage of VNIC_SMARTNIC would be
affected by how the decision is made whether a port is remote-managed or
not during the resource request creation.

https://review.opendev.org/c/openstack/nova/+/824835/13/nova/network/neutron.py#2325

See the following log for the relevant discussion:

https://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-02-07.log.html#t2022-02-07T15:49:56

Therefore, this change introduces a spec update to use a new VNIC
type.

Nova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458
Nova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends
Partial-Bug: #1932154
Change-Id: I63f156c5bfb5a41e5ebf94dc8f069828569e270a

Change-Id: Ice5c5cdcd4451f5066579c246db2ee60ad6b8b99
"
openstack%2Fkolla-ansible~master~I031c8bb595c06176e763e9452b349db3c96528dd,openstack/kolla-ansible,master,precheck-AlmaLinux8,I031c8bb595c06176e763e9452b349db3c96528dd,Add support for AlmaLinux 8,NEW,2022-01-28 16:28:54.000000000,2022-02-08 07:52:55.000000000,,2,0,2,826916,b9ed9f794029df45b66e398b02d0e1f2f5013bde,5,3,1,1,34521,Paul Mooney,pmooney1,"Add support for AlmaLinux 8

Change-Id: I031c8bb595c06176e763e9452b349db3c96528dd
"
openstack%2Fpuppet-tempest~master~Ia2137a49a0610924d9a476c62ae31270a5a9acf9,openstack/puppet-tempest,master,,Ia2137a49a0610924d9a476c62ae31270a5a9acf9,Support [load_balancer] test_with_noop,MERGED,2022-02-07 02:14:42.000000000,2022-02-08 07:45:18.000000000,2022-02-08 07:35:55.000000000,9,0,2,828063,d65c6ab9a704a8b5fdc66ea314401c3f9791f256,15,3,2,3,9816,Takashi Kajinami,kajinamit,"Support [load_balancer] test_with_noop

... so that we can set this parameter in our integration tests, which
use noop drivers.

Change-Id: Ia2137a49a0610924d9a476c62ae31270a5a9acf9
"
openstack%2Fpuppet-tempest~master~Idad462f8d52cb1f439ea137d4844a4872a20133e,openstack/puppet-tempest,master,,Idad462f8d52cb1f439ea137d4844a4872a20133e,Support [load_balancer] *_role parameters,MERGED,2022-02-06 23:34:35.000000000,2022-02-08 07:43:47.000000000,2022-02-08 07:35:53.000000000,140,110,3,828059,e919c537f91e2422345b2241b415f29a572fd7a1,18,3,2,3,9816,Takashi Kajinami,kajinamit,"Support [load_balancer] *_role parameters

Change-Id: Idad462f8d52cb1f439ea137d4844a4872a20133e
"
openstack%2Fcyborg~master~Id39016e295bafc7a6a124c093f3c837a24d61ecd,openstack/cyborg,master,fix-exc,Id39016e295bafc7a6a124c093f3c837a24d61ecd,no type field in ExpectedOneObject format message,ABANDONED,2022-02-07 10:06:48.000000000,2022-02-08 07:30:42.000000000,,20,1,0,828100,7308078fb5717eced5c0243da72ae11dc041faff,6,2,1,2,23950,Eric Xie,ericxie,"no type field in ExpectedOneObject format message

Change-Id: Idac2258cb411c2065212d4b76989d572b9f86f3d

Co-Authored-By: Eric Xie <eric-xiett@163.com>
Change-Id: Id39016e295bafc7a6a124c093f3c837a24d61ecd
"
openstack%2Fheat~stable%2Ftrain~I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8,openstack/heat,stable/train,,I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8,Fallback to upstream for Fedora image,MERGED,2022-01-19 06:17:44.000000000,2022-02-08 07:12:02.000000000,2022-02-08 07:10:12.000000000,12,6,4,825258,bd38beda6608b5efa5330fd0619ec3487ecd8992,19,5,3,2,8833,Rabi Mishra,rabi,"Fallback to upstream for Fedora image

OpenDev infra only keep around the latest two Fedora releases in their
mirrors.  Probe for the image from the local test mirror, but if not
found, fallback to upstream.  This will be much less reliable, but can
avoid gate breakage until new images can be used.

This also fixes tempest venv to use correct constraints file.

Change-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8
"
openstack%2Fproject-config~master~I93a03daa4715cba6527ab550817106c6a37b8a44,openstack/project-config,master,,I93a03daa4715cba6527ab550817106c6a37b8a44,Rename openstack/neutron-fwass* to x/neutron-fwaas*,ABANDONED,2022-01-17 09:01:52.000000000,2022-02-08 06:59:07.000000000,,41,41,9,824905,2ca380b4c18a5f88e7a2b840af4797a4e7ec88da,9,6,1,5,30380,ZhouHeng,zhouhenglc,"Rename openstack/neutron-fwass* to x/neutron-fwaas*

neutron-fwaas has been deprecated as neutron stadium project.
many users still need L3 firewalls. our team wants to continue
to maintain this project in the x namespace.
ovn is the default ML2 driver for neutron. neutron-fwass support
for ovn is also planned.

Change-Id: I93a03daa4715cba6527ab550817106c6a37b8a44
"
openstack%2Ftripleo-heat-templates~master~I66a97b37bfaae0c5931d32ec877a6230b5b6cefd,openstack/tripleo-heat-templates,master,trustee-opts,I66a97b37bfaae0c5931d32ec877a6230b5b6cefd,Add heat::trustee parameters,MERGED,2021-10-13 04:48:42.000000000,2022-02-08 06:55:27.000000000,2022-02-08 06:55:27.000000000,4,0,3,813740,b2b9e983c1efe06e6fa5aa3bf6ee6310fa0a9c32,25,5,6,1,9816,Takashi Kajinami,kajinamit,"Add heat::trustee parameters

This is the prep work to use the new heat::trustee parameters and
defines parameter for the new class.

Depends-on: https://review.opendev.org/824827
Change-Id: I66a97b37bfaae0c5931d32ec877a6230b5b6cefd
"
openstack%2Fneutron-fwaas~master~I561504160e5548c54d1af31821c3366ab34cf0ec,openstack/neutron-fwaas,master,retire-neutron-fwaas,I561504160e5548c54d1af31821c3366ab34cf0ec,Retire neutron-fwaas project,MERGED,2020-06-16 09:25:06.000000000,2022-02-08 06:18:55.000000000,2020-06-18 14:54:53.000000000,8,25642,0,735829,caae7b6a6f5e8944dbe359b6472be2507bbf5e12,18,7,2,283,11975,Slawek Kaplonski,slaweq,"Retire neutron-fwaas project

Governance change is proposed at [1] and project config patch is
proposed at [2]

[1] https://review.opendev.org/735828
[2] https://review.opendev.org/#/c/735812/

Change-Id: I561504160e5548c54d1af31821c3366ab34cf0ec
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4,openstack/tripleo-heat-templates,stable/train,,I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4,Use only internal endpoints in Octavia controller services,MERGED,2022-01-17 16:27:21.000000000,2022-02-08 06:08:28.000000000,2022-02-08 06:08:28.000000000,4,0,0,824992,a6c91404889df7d55153b99fd86f402bdcbfa5c0,8,4,1,1,29244,Gregory Thiemonge,gthiemonge,"Use only internal endpoints in Octavia controller services

Octavia controller services should use internal endpoints instead of the
default public endpoints.
Some deployment topologies (composable networkers) don't allow
communication between the nodes that run Octavia and the public
endpoints.

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/824989

Conflicts:
	deployment/octavia/octavia-base.yaml

Change-Id: I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4
(cherry picked from commit 3055a4f118a48d7c23a0095675bdd30f69acd622)
(cherry picked from commit 2ca0ebbdddeb18d9bedfe2177feed033ddb2c334)
(cherry picked from commit 7a54602e444bd69eac187952ff61f67987d65244)
"
openstack%2Fopenstack-zuul-jobs~master~Ice106cfee23c514a5e5716d4368af9f62360e2f7,openstack/openstack-zuul-jobs,master,centos-8-stream,Ice106cfee23c514a5e5716d4368af9f62360e2f7,wheel-cache: update openstack package for 8-stream,MERGED,2022-02-08 03:37:44.000000000,2022-02-08 05:51:06.000000000,2022-02-08 05:49:44.000000000,3,3,1,828213,d7cfa6b0030fe4df7b1bbfd5c29f1775892e258f,9,3,1,1,7118,Ian Wienand,iwienand,"wheel-cache: update openstack package for 8-stream

This old openstack package brings in centos-release-ceph-nautilus
which actually has an incorrect mirrorlist entry in it's .repo file
that tries to point it at the centos-8 repos [1].  When upstream
retired CentOS 8 this stopped responding.  Update to Xena (we don't
rely on any of these bits, it's just one or two packages we need
bindep to install for the wheel builds).

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2051792

Change-Id: Ice106cfee23c514a5e5716d4368af9f62360e2f7
"
openstack%2Fpython-glanceclient~master~I3d9360785a759e4a6e7905710400baea80776052,openstack/python-glanceclient,master,bp/glance-unified-quotas,I3d9360785a759e4a6e7905710400baea80776052,Add support for usage API,MERGED,2022-01-31 20:23:10.000000000,2022-02-08 05:09:55.000000000,2022-02-08 05:08:22.000000000,82,0,1,827174,3f001f5f11941203cc6c2d8505e84ab31891bd0e,9,3,1,5,4393,Dan Smith,danms,"Add support for usage API

This is really a very simple activity of fetching and showing the
results of the usage API in table form for the user.

Depends-On: https://review.opendev.org/c/openstack/glance/+/794860
Change-Id: I3d9360785a759e4a6e7905710400baea80776052
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4,openstack/tripleo-heat-templates,stable/ussuri,,I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4,Use only internal endpoints in Octavia controller services,MERGED,2022-01-17 16:23:16.000000000,2022-02-08 04:14:19.000000000,2022-02-08 04:14:19.000000000,4,0,0,824988,7a54602e444bd69eac187952ff61f67987d65244,8,4,1,1,29244,Gregory Thiemonge,gthiemonge,"Use only internal endpoints in Octavia controller services

Octavia controller services should use internal endpoints instead of the
default public endpoints.
Some deployment topologies (composable networkers) don't allow
communication between the nodes that run Octavia and the public
endpoints.

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/824987

Change-Id: I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4
(cherry picked from commit 3055a4f118a48d7c23a0095675bdd30f69acd622)
(cherry picked from commit 2ca0ebbdddeb18d9bedfe2177feed033ddb2c334)
"
openstack%2Fpuppet-tripleo~master~If263e44583e0e1eb005edefe3b90868aea750dee,openstack/puppet-tripleo,master,trustee-opts,If263e44583e0e1eb005edefe3b90868aea750dee,Heat: include an independent class to set up [trustee],MERGED,2022-01-16 01:56:34.000000000,2022-02-08 04:14:16.000000000,2022-02-08 04:14:16.000000000,5,1,2,824827,4f93834438502fab680a8a240d93941ab82cd430,16,4,1,2,9816,Takashi Kajinami,kajinamit,"Heat: include an independent class to set up [trustee]

The new heat::trustee class was added to puppet-heat, which will be
required to set up the [trustee] parameters. This change ensures that
the new class is included.

Depends-on: https://review.opendev.org/813739
Change-Id: If263e44583e0e1eb005edefe3b90868aea750dee
"
openstack%2Fswift~master~If1f119efbbad35bfa2fb39804aaedc5dd51ad5ef,openstack/swift,master,ring-v2,If1f119efbbad35bfa2fb39804aaedc5dd51ad5ef,ring: Introduce a V2 format (PTG edition),NEW,2022-02-01 12:26:39.000000000,2022-02-08 04:07:55.000000000,,335,66,4,827276,8d43adfa6f94cae4d66d7f06d81cbb0010dd4a59,17,1,5,3,7233,Matthew Oliver,mattoliverau,"ring: Introduce a V2 format (PTG edition)

Here is a follow up to Tim's V2 that starts to implement v2 that I think
addressed what was discussed at the PTG.

See: https://etherpad.opendev.org/p/swift-ring-v2-serialization

The python gzip module now supports seeking so it can be used to seek to
the end, pull off the metadata and the index. Then work through from the
start and read off each chunk to pull off the ring _and_ to generate the
correct MD5.

In this patch, the RingReader is used to just calculate MD5 and size.
It's also grown a raw_size property that pulls the raw size out of the
.gz.

Gzip is a streaming compression, so seek isn't the most efficient. If it
becomes a problem we could consider moving to BZip2 as it's block based
and so is seekable like a file.

Change-Id: If1f119efbbad35bfa2fb39804aaedc5dd51ad5ef
"
openstack%2Fglance~master~I50c98bac50f815bdb9baae024e77afd388f74554,openstack/glance,master,bp/glance-unified-quotas,I50c98bac50f815bdb9baae024e77afd388f74554,[APIImpact] Quota usage API,MERGED,2021-06-04 16:19:54.000000000,2022-02-08 03:35:59.000000000,2022-02-08 03:33:58.000000000,259,11,17,794860,f865b8cac7fb008c870e433d22fb4216ed95e285,50,3,16,12,4393,Dan Smith,danms,"[APIImpact] Quota usage API

This adds a /v2/info/usage API endpoint which exposes to the user
their current limits and usage.

The discovery API does not (appear to) have existing tests, so this
adds a module for that, although only usage tests are added currently.

Implements: blueprint quota-api
Change-Id: I50c98bac50f815bdb9baae024e77afd388f74554
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id13a221726af88dd229cf8e12462eabb4027b377,openstack/tripleo-heat-templates,stable/wallaby,bug/1959353,Id13a221726af88dd229cf8e12462eabb4027b377,Nova: Use internal endpoint to access Keystone,MERGED,2022-02-02 23:09:29.000000000,2022-02-08 03:34:06.000000000,2022-02-08 03:34:06.000000000,1,1,0,827408,b67137ae93a1ce4612c6ac82eeabbec6abac70aa,10,4,1,1,9816,Takashi Kajinami,kajinamit,"Nova: Use internal endpoint to access Keystone

The Keystone admin endpoint is deployed on the provisioning network by
default, and usually this network has no redundancy. We don't expect
outage in provisioning network affects functionality of overcloud so
services should not be rely on connectivity in provisioning network.

This change ensures that internal endpoint, which is deployed on
internal api network, is used instead.

Closes-Bug: #1959353
Change-Id: Id13a221726af88dd229cf8e12462eabb4027b377
(cherry picked from commit c3affa49a33bb62e019263186e446a1a70194970)
"
openstack%2Ftripleo-heat-templates~master~I17eac95937d3234cddfd03d99addb9bdd6613a1d,openstack/tripleo-heat-templates,master,,I17eac95937d3234cddfd03d99addb9bdd6613a1d,Nova: Use cross_az_attach from nova::cinder,MERGED,2022-02-05 09:03:08.000000000,2022-02-08 03:34:02.000000000,2022-02-08 03:34:02.000000000,1,1,0,827944,a3fa2a052bc131335e6df9b737700845da9ca5cc,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Nova: Use cross_az_attach from nova::cinder

... because the one in the base nova class was deprecated.

Depends-on: https://review.opendev.org/824396
Change-Id: I17eac95937d3234cddfd03d99addb9bdd6613a1d
"
openstack%2Ftripleo-heat-templates~master~I00ca1f4da82cdc25737f462fa024e31316216c12,openstack/tripleo-heat-templates,master,horizon-policies,I00ca1f4da82cdc25737f462fa024e31316216c12,Horizon: Manage policy files,MERGED,2022-01-08 06:51:33.000000000,2022-02-08 03:25:12.000000000,2022-02-08 03:25:12.000000000,32,7,3,823891,f63176e97a19f5587e5cc8a7064109d6b8a4441c,21,5,3,9,9816,Takashi Kajinami,kajinamit,"Horizon: Manage policy files

This change enables management of policy files for Horizon so that
customized policy rules are injected into horizon policy files in
addition to service policy files.

Depends-on: https://review.opendev.org/823890
Change-Id: I00ca1f4da82cdc25737f462fa024e31316216c12
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I93d3eae0a738782f071a839ba7b41107a597e2fa,openstack/tripleo-heat-templates,stable/wallaby,,I93d3eae0a738782f071a839ba7b41107a597e2fa,Start the neutron metadata agent with cgroupns host,MERGED,2022-02-07 11:43:01.000000000,2022-02-08 03:10:24.000000000,2022-02-08 03:10:24.000000000,1,0,0,827969,354232139417f6db028e773d86187b1bf6e89cf2,9,5,1,1,9976,Ronelle Landy,rlandy,"Start the neutron metadata agent with cgroupns host

This container got missed in the fixups.

Closes-Bug: #1959582
Change-Id: I93d3eae0a738782f071a839ba7b41107a597e2fa
(cherry picked from commit d3a6e7a99ad090bd7ef06b7bd84cf8558e5fdae5)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I3a914414eb59a0c1c5695d8dc60edec9c35a5ec8,openstack/tripleo-ansible,stable/wallaby,BnR_Ironic_Parameter,I3a914414eb59a0c1c5695d8dc60edec9c35a5ec8,[Only Wallaby] BnR added ramdisk_kernel_arguments to the restoration process,MERGED,2022-01-31 16:30:17.000000000,2022-02-08 03:07:44.000000000,2022-02-08 03:07:44.000000000,1,0,4,827151,1b56e74a960cd2321551411e2dfcd93d040d88d0,20,6,1,1,22954,Juan Badia Payno,jbadiapa,"[Only Wallaby] BnR added ramdisk_kernel_arguments to the restoration process

BnR needed to add a kernel parameter, from victoria onwards the way is kernel_append_params.
For Wallaby the way is to add the ramdisk_kernel_arguments.

The kernel_append_params is skipped and only the ramdisk_kernel_argument
is used.

Change-Id: I3a914414eb59a0c1c5695d8dc60edec9c35a5ec8
"
openstack%2Fswift~master~I7692860e3b741e1bc10626e26bb7b27399c325ab,openstack/swift,master,p-deprecate-set-statsd-prefix,I7692860e3b741e1bc10626e26bb7b27399c325ab,Deprecate LogAdapter.set_statsd_prefix,MERGED,2022-02-04 11:18:55.000000000,2022-02-08 03:01:37.000000000,2022-02-08 02:07:25.000000000,177,36,10,827845,eda7d5fe3c9527ae20850b38f8b626782dd5efec,19,2,3,9,7847,Alistair Coles,acoles,"Deprecate LogAdapter.set_statsd_prefix

Previously, the set_statsd_prefix method was used to mutate a logger's
StatsdClient tail prefix after a logger was instantiated. This pattern
had led to unexpected mutations (see Related-Change). The tail_prefix
can now be passed as an argument to get_logger(), and is then
forwarded to the StatsdClient constructor, for a more explicit
assignment pattern.

The set_statsd_prefix method is left in place for backwards
compatibility. A DeprecationWarning will be raised if it is used
to mutate the StatsdClient tail prefix.

Change-Id: I7692860e3b741e1bc10626e26bb7b27399c325ab
Related-Change: I0522b1953722ca96021a0002cf93432b973ce626
"
openstack%2Fpython-tripleoclient~master~Ie9bf98d665940c0e3539e4ab03a640f06af00a12,openstack/python-tripleoclient,master,baremetal_cli,Ie9bf98d665940c0e3539e4ab03a640f06af00a12,Move baremetal CLI commands,ABANDONED,2021-12-06 01:42:41.000000000,2022-02-08 02:10:27.000000000,,1659,146,136,820463,47b6bf49d5d7ff6582be48d7359a5cab424949e1,104,5,41,11,30073,Brendan Shephard,bshephar,"Move baremetal CLI commands

Currently, we use Ansible for all of the
overcloud node commands. To better support
the work around Tripleo.Next, these commands
should be moved into tripleoclient.

To accomplish this, this change is also
consolodating the functions in
workflows/baremetal.py into classes where they
will be better organised and more manageable
moving forward.

Change-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12
"
openstack%2Fpython-tripleoclient~master~Iecf1f887cbf226eb178d345bc61b16a3ddd0e72d,openstack/python-tripleoclient,master,ooonext_bm_introspect,Iecf1f887cbf226eb178d345bc61b16a3ddd0e72d,Move baremetal Introspect commands from Ansible,ABANDONED,2022-01-10 03:31:06.000000000,2022-02-08 02:09:41.000000000,,494,57,4,823925,1318838c26a50af280fcbbfeb6cd4749b280459a,11,4,3,3,30073,Brendan Shephard,bshephar,"Move baremetal Introspect commands from Ansible

Currently, we leverage Ansible to handle the
baremetal introspeciton process. As part of our efforts
to support work on Tripleo.Next, these Ansible
workflows will need to be migrated to tripleoclient.

This change is consolodating Python methods from
tripleo-ansible into tripleoclient.

Change-Id: Iecf1f887cbf226eb178d345bc61b16a3ddd0e72d
"
openstack%2Fmanila~master~I27c24c71a7c388033fbdf206c2d3e8004839d98a,openstack/manila,master,bug/1958072,I27c24c71a7c388033fbdf206c2d3e8004839d98a,[DOC] Incorrect response code for share network creation,MERGED,2022-01-31 08:50:45.000000000,2022-02-08 01:45:05.000000000,2022-02-08 01:43:21.000000000,1,1,1,826998,96823254c1bc78b96a63a554aa263a93a4a7130c,12,3,2,1,33380,Archana Kumari,archanaserver,"[DOC] Incorrect response code for share network creation

The response code of share network creation operation is
mentioned 202 while it should be 200.

Closes-Bug: #1958072

Change-Id: I27c24c71a7c388033fbdf206c2d3e8004839d98a
"
openstack%2Fmanila~stable%2Fvictoria~I0524554dae2d6970191ba3afa583480c391b5c3c,openstack/manila,stable/victoria,,I0524554dae2d6970191ba3afa583480c391b5c3c,Modify docker instalation for fedora systems,MERGED,2022-01-27 20:50:12.000000000,2022-02-08 01:45:00.000000000,2022-02-08 01:43:19.000000000,1,1,1,826621,2b2e16bf83515680d4f0705a25f91359aa3edcb8,11,2,1,1,29632,Carlos Eduardo,silvacarlos,"Modify docker instalation for fedora systems

Use install_package instead of using a specific package manager
while installing docker on fedora systems. With DNF also a
possibility, the better option is to do not take a stand in chosing
which package manager will be used to install packages.

We have a install_package function that will use the appropriate
package manager to install the programs we need to install.

Change-Id: I0524554dae2d6970191ba3afa583480c391b5c3c
(cherry picked from commit 7500d22bca4061a3dda8fd3f5c8c5ed21e747987)
"
openstack%2Fpuppet-vitrage~master~Ia154dc7c4fbda86f941b935ae782442627cd2d31,openstack/puppet-vitrage,master,key-deps,Ia154dc7c4fbda86f941b935ae782442627cd2d31,Ensure keystone resources are created during service startup,MERGED,2022-02-06 15:23:45.000000000,2022-02-08 01:29:12.000000000,2022-02-08 01:29:12.000000000,2,0,1,828052,40acf1a75953b9b29d73bf12cada300251e50795,11,3,1,1,9816,Takashi Kajinami,kajinamit,"Ensure keystone resources are created during service startup

This change ensures keystone resources like the mistral service user
are created before completing service setup, so that we can use
the service::end anchor to ensure Vitrage service is fully available.

Change-Id: Ia154dc7c4fbda86f941b935ae782442627cd2d31
"
openstack%2Ftripleo-common~stable%2Fwallaby~I015f2354426cf816a2e320a94b154f9b7ba1531f,openstack/tripleo-common,stable/wallaby,fips-compatibility-stable/wallaby,I015f2354426cf816a2e320a94b154f9b7ba1531f,DNM/TEST add new rabbitmq to image,NEW,2022-02-07 21:12:58.000000000,2022-02-08 01:13:02.000000000,,2,0,0,828147,46f04dca09512e83bcbe131e688b630d804cfc4a,3,2,1,1,9914,Ade Lee,alee,"DNM/TEST add new rabbitmq to image

Add a new rabbitmq version and erlang-ets to support FIPS.  This is just
for testing right now.

Change-Id: I015f2354426cf816a2e320a94b154f9b7ba1531f
"
openstack%2Fdesignate~stable%2Fwallaby~I43dcc43309b7da8ca077fce2d1950940971a3dbe,openstack/designate,stable/wallaby,fips-compatibility,I43dcc43309b7da8ca077fce2d1950940971a3dbe,Add fips jobs,MERGED,2022-02-04 21:51:51.000000000,2022-02-07 23:29:50.000000000,2022-02-07 23:24:38.000000000,13,0,1,827905,9e2618a229f8b1c6065f80736ad45af80a249db6,12,3,2,2,9914,Ade Lee,alee,"Add fips jobs

Added job to test whether things work when fips is enabled.
The job appears to be passing successfully.

Change-Id: I43dcc43309b7da8ca077fce2d1950940971a3dbe
(cherry picked from commit 604fd8cf7468a54125486e45959f717cf182ece8)
"
openstack%2Fpuppet-openstack-integration~master~I16985ae8e1793ac9e745d33d4ec6cf42be357335,openstack/puppet-openstack-integration,master,octavia-integration,I16985ae8e1793ac9e745d33d4ec6cf42be357335,Octavia: Enable tempest scenario tests,ABANDONED,2022-02-07 09:47:07.000000000,2022-02-07 23:25:00.000000000,,3,0,0,828097,e1b391276bce366f1582bb0858936805dca04fec,6,1,3,1,9816,Takashi Kajinami,kajinamit,"Octavia: Enable tempest scenario tests

Change-Id: I16985ae8e1793ac9e745d33d4ec6cf42be357335
"
openstack%2Fdesignate~stable%2Fwallaby~Ic2571caa71dc99c417ea0933d5d4947287cbe312,openstack/designate,stable/wallaby,fix_md5-stable/wallaby,Ic2571caa71dc99c417ea0933d5d4947287cbe312,Replace md5 for fips,MERGED,2022-02-07 16:14:54.000000000,2022-02-07 23:18:44.000000000,2022-02-07 23:16:25.000000000,7,7,2,828136,e1ee648fc0936fb7b990b76e336a99586146859b,9,4,1,3,34120,Andre Aranha,afariasa,"Replace md5 for fips

md5 is not an approved algorithm in FIPS mode, and trying to
instantiate a hashlib.md5() will fail when the system is running in
FIPS mode.

md5 is allowed when in a non-security context.  There is a plan to
add a keyword parameter (usedforsecurity) to hashlib.md5() to annotate
whether or not the instance is being used in a security context.

In the case where it is not, the instantiation of md5 will be allowed.
See https://bugs.python.org/issue9216 for more details.

Some downstream python versions already support this parameter.  To
support these versions, a new encapsulation of md5() has been added to
oslo_utils.  See https://review.opendev.org/#/c/750031/

In this case, md5 is used to calculate the hash of a database record
to ensure record uniqueness.

Change-Id: Ic2571caa71dc99c417ea0933d5d4947287cbe312
(cherry picked from commit 7ea564329097c078ac4db9ed02dac7d54ef467db)
"
openstack%2Fnova~master~I293adc69db58123919589297f495737fe7f2b521,openstack/nova,master,bug/1960247,I293adc69db58123919589297f495737fe7f2b521,Allow authorization by user_id for server resume action,ABANDONED,2022-02-07 16:01:12.000000000,2022-02-07 23:16:57.000000000,,30,1,3,828168,db9e2b886ac3a6c8cf4b07af8078aa86ea5226f7,15,3,3,3,9816,Takashi Kajinami,kajinamit,"Allow authorization by user_id for server resume action

Since commit 90f0e3d4abecb44e24654c1912893a4492feb1a9 was merged, nova
allows defining policy rules based on user_id for server suspend
action. However the same has not yet been implemented in resume action
and operators can't define consistent rules for these two corresponding
operations.

This change introduces capability to define a policy rule using user_id
for resume action to resolve that inconsistency.

Change-Id: I293adc69db58123919589297f495737fe7f2b521
Closes-Bug: #1960247
"
openstack%2Fdevstack~master~I82b3b8fe56275aed72e13f6d1bd9170c50e5da0d,openstack/devstack,master,fips-compatibility,I82b3b8fe56275aed72e13f6d1bd9170c50e5da0d,Add openstack-two-node-centos-8-stream,MERGED,2022-01-25 21:47:22.000000000,2022-02-07 22:47:52.000000000,2022-02-07 22:42:44.000000000,30,0,3,826391,1fd45940f370dc3aab6a5e9492c36e735f673c8a,18,4,2,1,9914,Ade Lee,alee,"Add openstack-two-node-centos-8-stream

This will allow multinode FIPS testing

Change-Id: I82b3b8fe56275aed72e13f6d1bd9170c50e5da0d
"
openstack%2Fbarbican-tempest-plugin~master~I8698fc7a9ac849b8c24adfe824ca44dd3e42b999,openstack/barbican-tempest-plugin,master,secure-rbac,I8698fc7a9ac849b8c24adfe824ca44dd3e42b999,Temporarily delete two bad tests for consumers,MERGED,2021-11-11 20:56:21.000000000,2022-02-07 22:28:02.000000000,2022-02-07 22:28:02.000000000,2,23,0,817644,263a326d05663692427870a665e0615c512e4b76,8,4,1,1,7973,Douglas Mendizábal,dougmendizabal,"Temporarily delete two bad tests for consumers

These two tests are breaking the gate in barbican for a bugfix
patch. [1]

As currently written, the tests are checking the buggy behavior and they
break with the bugfix.

The main issue with the tests is that the different persona classes are
not overriding the cls.consumer_client object to match the persona under
test.  This results in the member client being used throughout, which
before the bufix was wrongly returning a 403.

These test are being re-written in a follow up patch. [2]

[1] https://review.opendev.org/c/openstack/barbican/+/816756/
[2] https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/815071

Change-Id: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999
"
openstack%2Fkeystone~master~I1a3c5541798c41ddf15eb89cc4f60578140c0dd1,openstack/keystone,master,bp/remove-sqlalchemy-migrate,I1a3c5541798c41ddf15eb89cc4f60578140c0dd1,sql: Squash newton migrations (part 2),MERGED,2022-01-14 19:14:29.000000000,2022-02-07 21:23:00.000000000,2022-02-07 21:21:03.000000000,41,520,0,824778,4fe0f10b6e21f48a131b8660d610d0bbb877ec64,12,3,2,14,15334,Stephen Finucane,sfinucan,"sql: Squash newton migrations (part 2)

Make the following changes to the new ""initial"" migrations.

- Add 'key_hash' and 'encrypted_blob' columns to 'credential' table,
  drop 'blob' column (003)
- Add a (now unused) procedure for postgresql backends (003)
- Change 'created_at' column of 'password' table to non-nullable, and
  set to non-nullable (002, 004)

Change-Id: I1a3c5541798c41ddf15eb89cc4f60578140c0dd1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcinder~master~Iea1f29ce269107cd6422c40ca2e42ddb7354486b,openstack/cinder,master,,Iea1f29ce269107cd6422c40ca2e42ddb7354486b,Remove various unused code,MERGED,2021-07-13 18:02:01.000000000,2022-02-07 21:05:25.000000000,2022-02-07 19:52:17.000000000,0,114,11,800703,36bd8f5c9773caf3c87e4683948bd32ed99ac3cf,133,5,4,5,4523,Eric Harney,eharney,"Remove various unused code

Remove code that does not appear to be called/used.

Change-Id: Iea1f29ce269107cd6422c40ca2e42ddb7354486b
"
openstack%2Fkeystone~master~I2450a6e077ea9fce0f957a0c239ea168c9930c30,openstack/keystone,master,bp/remove-sqlalchemy-migrate,I2450a6e077ea9fce0f957a0c239ea168c9930c30,sql: Remove duplicated constants,MERGED,2022-01-19 18:50:03.000000000,2022-02-07 20:46:26.000000000,2022-02-07 20:43:57.000000000,48,42,1,825377,5823f218443fe0559570395cf4ed68fc61524b19,12,6,1,1,15334,Stephen Finucane,sfinucan,"sql: Remove duplicated constants

Change-Id: I2450a6e077ea9fce0f957a0c239ea168c9930c30
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I6dc238c2b59c5c1d89d54a2dd1fbf7cef0d16313,openstack/tripleo-heat-templates,stable/wallaby,secure-rbac,I6dc238c2b59c5c1d89d54a2dd1fbf7cef0d16313,Allow neutron to configure secure RBAC options,MERGED,2022-01-27 07:50:18.000000000,2022-02-07 20:39:19.000000000,2022-02-07 20:36:51.000000000,23,0,2,826591,4f0ad599b82706cd1385b7823ec66a3dbd868904,16,3,2,2,11975,Slawek Kaplonski,slaweq,"Allow neutron to configure secure RBAC options

This updates the neutron api container to set the appropriate
configuration options when EnforceSecureRbac is True. This will be
needed when more OpenStack services support system-scope and deployers
want to enable those personas.

Conflicts:
    deployment/neutron/neutron-api-container-puppet.yaml

Change-Id: I6dc238c2b59c5c1d89d54a2dd1fbf7cef0d16313
(cherry picked from commit 8e28fde39cbc0aca03afdc30d4f4fce43ea92013)
"
openstack%2Fmistral~master~I11caebaf5979ae4774139ddc8f7f98d64ebaffeb,openstack/mistral,master,add-yoga-python-jobtemplates,I11caebaf5979ae4774139ddc8f7f98d64ebaffeb,Add Python3 yoga unit tests,NEW,2021-09-17 16:22:44.000000000,2022-02-07 20:32:53.000000000,,1,1,1,809821,a8e79642279e3c5425512505bf2f165cf5e9b881,9,4,1,1,22816,OpenStack Release Bot,release,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I11caebaf5979ae4774139ddc8f7f98d64ebaffeb
"
openstack%2Fironic-python-agent~stable%2Ftrain~I231ccadebe54bb965481b3c6ddd2b4117284ecdc,openstack/ironic-python-agent,stable/train,c7-py3,I231ccadebe54bb965481b3c6ddd2b4117284ecdc,Run centos7-python3 job instead of centos7,ABANDONED,2022-01-28 01:35:28.000000000,2022-02-07 20:27:47.000000000,,1,1,0,826792,8f991276dc72368d0bb76f8a5be0a52f31bcf7c5,4,1,1,1,4571,Steve Baker,steve-stevebaker,"Run centos7-python3 job instead of centos7

Change-Id: I231ccadebe54bb965481b3c6ddd2b4117284ecdc
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Iadd24554727d9a5000c6842954fe1deede833a8e,openstack/tripleo-heat-templates,stable/wallaby,secure-rbac,Iadd24554727d9a5000c6842954fe1deede833a8e,Implement project personas in custom barbican policy file,MERGED,2021-11-19 20:34:34.000000000,2022-02-07 20:15:56.000000000,2022-02-07 20:15:56.000000000,69,99,3,818631,1269dafd2446232b5bd908b8e976fd72c0de8f13,16,7,2,1,5046,Lance Bragstad,ldbragst,"Implement project personas in custom barbican policy file

This commit updates the default barbican policies in enable-secure-rbac.yaml to
implement consistent support for project personas (project-admin,
project-member, and project-reader) with other OpenStack services. The
project-admin is still considered a system administrator.

This behavior will change in future releases (likely Yoga) when we have
a community wide goal to finish system-scope adoption. At that point, we
can remove these overrides and use the defaults in barbican, which is working
to adopt full support for system peronas in Yoga, and we'll get more
functionality without these overrides.

Change-Id: Iadd24554727d9a5000c6842954fe1deede833a8e
(cherry picked from commit 839ddccdbd43b5eb41441c75a953647995f89959)
"
openstack%2Fironic~master~I4ce5f7a2317d952f976194d2022328f4afbb0258,openstack/ironic,master,image-type,I4ce5f7a2317d952f976194d2022328f4afbb0258,Explicit parameter to distinguish partition/whole-disk images,MERGED,2022-01-19 12:45:28.000000000,2022-02-07 20:08:04.000000000,2022-02-07 20:04:45.000000000,267,51,3,825305,a813c769e8d27803e87d46280db84607fdfce153,38,3,6,18,10239,Dmitry Tantsur,dtantsur,"Explicit parameter to distinguish partition/whole-disk images

Using kernel/ramdisk makes no sense with local boot, we need a better
way. We already have an internal image_type instance parameter, let's
make it public.

Glance support will be added in the next patch.

Change-Id: I4ce5f7a2317d952f976194d2022328f4afbb0258
"
openstack%2Fneutron~master~I974c7d04d13a87bbbd4de6164578724a2cfd85cc,openstack/neutron,master,fips-compatibility,I974c7d04d13a87bbbd4de6164578724a2cfd85cc,Add FIPS enabled scenario jobs,MERGED,2021-06-22 19:58:17.000000000,2022-02-07 20:07:26.000000000,2022-02-07 20:01:24.000000000,40,0,25,797537,a1a895a6e56c3e261f9e98b2a0e0896442185d07,159,7,37,2,9914,Ade Lee,alee,"Add FIPS enabled scenario jobs

Add ML2/OVS and ML2/OVN tempest jobs with FIPS enabled.
Right now, the FIPS jobs run on Centos 8 stream.

For now those jobs are added to the experimental queue but
we should think about adding them to periodic maybe.

Co-Authored-By: Slawek Kaplonski <skaplons@redhat.com>

Depends-On: https://review.opendev.org/c/openstack/tempest/+/822560
Change-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc
"
openstack%2Fironic~master~I691ae5b67358ced5f0aa860b9ca6ccec58c897ad,openstack/ironic,master,deploy-utils-properties,I691ae5b67358ced5f0aa860b9ca6ccec58c897ad,deploy_utils: only check glance for image properties kernel/ramdisk,MERGED,2022-01-28 17:57:33.000000000,2022-02-07 19:56:29.000000000,2022-02-07 19:53:10.000000000,3,32,2,826927,374d5e5a3037a6b985933e734e902b2e05d805bb,17,3,1,2,10239,Dmitry Tantsur,dtantsur,"deploy_utils: only check glance for image properties kernel/ramdisk

Other image services cannot have them, not use making a network call.

Change-Id: I691ae5b67358ced5f0aa860b9ca6ccec58c897ad
"
openstack%2Fkeystone-tempest-plugin~master~Iee1fe30420d5ec4721a444e3a10985b31ec23601,openstack/keystone-tempest-plugin,master,bug/1959930,Iee1fe30420d5ec4721a444e3a10985b31ec23601,Replace Identity client endpoint type,MERGED,2022-02-04 17:48:00.000000000,2022-02-07 19:52:15.000000000,2022-02-07 19:52:15.000000000,1,1,1,827910,4eff632695fe79a5d78f400dca3ceab663c83788,14,11,1,1,30002,Douglas Viroel,dviroel,"Replace Identity client endpoint type

This patch replaces Identity client default endpoint type,
which is set to 'adminURL', to use the 'v3_endpoint_type'
from identity configuration.

Related-Bug: #1959930
Change-Id: Iee1fe30420d5ec4721a444e3a10985b31ec23601
Signed-off-by: Douglas Viroel <dviroel@redhat.com>
"
openstack%2Frequirements~stable%2Fxena~I34db535f7073943d1b8dde1961fc15b96e241cff,openstack/requirements,stable/xena,new-release,I34db535f7073943d1b8dde1961fc15b96e241cff,update constraint for oslo.messaging to new release 12.9.2,MERGED,2022-02-07 10:32:53.000000000,2022-02-07 19:52:12.000000000,2022-02-07 19:52:12.000000000,1,1,0,828105,630e737e2f3072b54aa01f465834e142407aea50,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.messaging to new release 12.9.2

meta: version: 12.9.2
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I431930ef1ca69a324898acc36d6b4c30fa892e44
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I34db535f7073943d1b8dde1961fc15b96e241cff
"
openstack%2Fironic~master~Ib460622d69a9cb1cb82e796a6ab294bbbb40c359,openstack/ironic,master,service-wait,Ib460622d69a9cb1cb82e796a6ab294bbbb40c359,Wait for conductor start before notifying systemd,MERGED,2022-01-26 13:59:46.000000000,2022-02-07 19:49:20.000000000,2022-02-07 19:45:55.000000000,69,0,2,826470,2c58ab3703675b43d9f197f609fc576e850ac0da,20,3,3,5,10239,Dmitry Tantsur,dtantsur,"Wait for conductor start before notifying systemd

Currently, the launcher first notifies systemd, then starts checking the
services (RPC and WSGI). So any failures will be reported, but only
after systemd declares the service ready.

This change adds a polling loop to make sure RpcService.start() finishes
successfully.

Change-Id: Ib460622d69a9cb1cb82e796a6ab294bbbb40c359
"
openstack%2Fironic~master~I38bf39e4e4845415640b3468e9fb3029f70dcded,openstack/ironic,master,service-exit,I38bf39e4e4845415640b3468e9fb3029f70dcded,Return non-zero exit code on failures,MERGED,2022-01-26 13:40:10.000000000,2022-02-07 19:47:55.000000000,2022-02-07 19:45:52.000000000,8,3,0,826467,e841fa05456ae8cfa35222fc6b787d9aadababe6,13,3,1,4,10239,Dmitry Tantsur,dtantsur,"Return non-zero exit code on failures

Launcher.wait() does not raise, it returns an integer code. Propagate it
to sys.exit() so that failures are correctly recognized.

Change-Id: I38bf39e4e4845415640b3468e9fb3029f70dcded
"
openstack%2Fbifrost~master~I17becbd7848e42ce51c2176cff886f23f35364f4,openstack/bifrost,master,gate,I17becbd7848e42ce51c2176cff886f23f35364f4,"Revert ""Install libvirt-python from source instead of a wheel""",MERGED,2022-02-03 16:21:56.000000000,2022-02-07 19:25:53.000000000,2022-02-07 19:24:12.000000000,2,15,2,827648,6323ae7706d34494060d9ab50e21c282dcb80b27,9,5,1,2,10239,Dmitry Tantsur,dtantsur,"Revert ""Install libvirt-python from source instead of a wheel""

This reverts commit 79c8418ead5ead97494497b998aa6c03e27b87bf.

Reason for revert: hopefully no longer needed.

Change-Id: I17becbd7848e42ce51c2176cff886f23f35364f4
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I3adb4dd75198935c4656d0208043ad8051f29312,openstack/openstack-ansible-lxc_hosts,master,,I3adb4dd75198935c4656d0208043ad8051f29312,Ensure that the legacy network-scripts package is present,MERGED,2022-02-07 11:32:45.000000000,2022-02-07 19:15:26.000000000,2022-02-07 19:14:00.000000000,1,0,1,828113,9a4004169450a0bb68ffe0fec31e6887a9c075f3,13,4,1,1,25023,Jonathan Rosser,jrosser,"Ensure that the legacy network-scripts package is present

The lxc_hosts ansible role currently relies on the ifup / ifdown
commands.

Change-Id: I3adb4dd75198935c4656d0208043ad8051f29312
"
openstack%2Frequirements~stable%2Fvictoria~I84609ffce41ac143d7cdf24c3e1a02c8a9c1f8e6,openstack/requirements,stable/victoria,new-release,I84609ffce41ac143d7cdf24c3e1a02c8a9c1f8e6,update constraint for oslo.utils to new release 4.6.1,MERGED,2022-02-07 10:27:40.000000000,2022-02-07 19:05:34.000000000,2022-02-07 19:05:34.000000000,1,1,0,828102,8b422b75cbf4b2e2441a1baedd426c60116a964f,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.utils to new release 4.6.1

meta: version: 4.6.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: If10337ef96594c5432a82d35a64a457446b8a246
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I84609ffce41ac143d7cdf24c3e1a02c8a9c1f8e6
"
openstack%2Foctavia~master~I3f9d08fd4ce038208b8c2d160e6abecae8c8383d,openstack/octavia,master,c9,I3f9d08fd4ce038208b8c2d160e6abecae8c8383d,Add support for Centos 9 Stream,MERGED,2021-11-02 16:10:46.000000000,2022-02-07 19:02:28.000000000,2022-02-07 19:00:40.000000000,12,1,28,816370,0a9f3a8e6f728ceef4c1dc992b513dc5c0e3a6e0,80,6,12,2,29244,Gregory Thiemonge,gthiemonge,"Add support for Centos 9 Stream

Update elements for c9s

Change-Id: I3f9d08fd4ce038208b8c2d160e6abecae8c8383d
"
openstack%2Fnova~master~Idb55c81639139efbd44b9f8c938276827898ae44,openstack/nova,master,bug/1952915,Idb55c81639139efbd44b9f8c938276827898ae44,[WIP] Set resize claim resource when changing host,ABANDONED,2021-12-03 13:28:52.000000000,2022-02-07 18:45:25.000000000,,32,1,16,820381,1c1fde108737c8718974ee24f531414d7e6d26a1,30,2,4,2,33608,Gabriel Silva Trevisan,gtrevisan,"[WIP] Set resize claim resource when changing host

When single-cell migrating/resizing (with migrate) an instance, the
update_available_resource [1] task may execute while the instance being
migrated is in an inconsistent state. This may cause the destination
host resource inventory to be incorrectly updated, and a subsequent
revert attempt to fail when trying to drop the resource claims.

An observed effect of this is that the revert operation may fail to
unpin the CPUs from the destination host, leaving the instance in
""ERROR"" state, with a ""fault"" message similar to the following:

""CPU set to unpin [8] must be a subset of pinned CPU set []""

This issue occurs when the periodic task executes between two events
during the resize operation:
    - The instance host being updated and saved as the destination host
      [2]
    - The instance configuration (such as flavor and NUMA topology)
      being updated and saved to reflect its selected configuration for
      the destination host [3]

During this interval, the task will consider that the instance belongs
the destination host, but since it is still with its source
configuration, it will allocate the resources based on the source host.
More specifically, regarding CPU pinning, the task will attempt to pin
the CPU numbers that were pinned for the source host on the destination.

The resize/migration itself will work as expected, since it will update
the configuration accordingly afterwards. However, if the selected CPU
numbers for the destination differ from the original ones on the source,
the PCPU inventory in the resource_tracker will be temporarily
incorrect. If the revert operation tries to drop the claims before the
inventory is corrected, then it will fail to unpin the CPUs, because
they will not be considered as pinned.

Adding a simple fix to the specific issue of CPU pinning. It consists of
moving the 'instance.apply_migration_context()' call from
_finish_resize() [4] to the same update where the instance host is saved
as the destination host, on _resize_instance() [2]. This way, if the
periodic task runs before [3], the instance will already reference the
correct resource when the inventory is updated.

Note: This change should only affect single-cell resize/migrate behavior.
Cross-cell resize/migrate behavior should not be affected by it, since
the code flow differs.

Test Plan:

PASS: verify that the periodic task updates the destination
host NUMA topology accordingly, when executed between both mentioned
events

PASS: verify that the revert operation executes successfully,
when the periodic task runs between the two events during the
resize/migration

[1]
https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L10045
[2]
https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5653
[3]
https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5795
[4]
https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5780

Partial-Bug: #1952915
Signed-off-by: Gabriel Silva Trevisan <gabriel.silvatrevisan@windriver.com>
Co-Authored-By: Marcelo Mistutoshi Uesono <marcelomitsutoshi.uesono@windriver.com>
Co-Authored-By: Ricardo Soares Sarto <ricardo.soaressarto@windriver.com>
Change-Id: Idb55c81639139efbd44b9f8c938276827898ae44
"
openstack%2Fpuppet-neutron~master~I61d0a5340da6216fb4d885abebc4f109a6fe22b4,openstack/puppet-neutron,master,rp,I61d0a5340da6216fb4d885abebc4f109a6fe22b4,ovs: Add support for packet processing info report,MERGED,2022-02-04 06:22:31.000000000,2022-02-07 18:41:58.000000000,2022-02-07 18:40:17.000000000,96,6,0,827803,9441d9657e4d5411da7697fb406e37c9e26e38a1,16,3,6,3,9816,Takashi Kajinami,kajinamit,"ovs: Add support for packet processing info report

This change introduces support for parameters used to report packet
processing info to placement, which was added during the current Yoga
cycle[1].

[1] 1ea26616b41335b24b9c162062740ee3de78372d

Change-Id: I61d0a5340da6216fb4d885abebc4f109a6fe22b4
"
openstack%2Fpuppet-neutron~master~I26c2a1121169446a34815260f574f85b49619461,openstack/puppet-neutron,master,key-deps,I26c2a1121169446a34815260f574f85b49619461,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:17:48.000000000,2022-02-07 18:40:19.000000000,2022-02-07 18:40:19.000000000,1,6,0,828046,14dda75aed90471cd5d24e6831920cd9d40a8e03,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I26c2a1121169446a34815260f574f85b49619461
"
openstack%2Ffreezer-api~master~Id4e3b2dd78dfce7f3c9eabf513efff291c47522e,openstack/freezer-api,master,reno-xena,Id4e3b2dd78dfce7f3c9eabf513efff291c47522e,Update master for stable/xena,NEW,2021-09-17 14:19:46.000000000,2022-02-07 18:19:42.000000000,,7,0,0,809736,cd3eef1f73b2baaf92e9b52a467f2eb1575abcc0,3,2,1,2,22816,OpenStack Release Bot,release,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: Id4e3b2dd78dfce7f3c9eabf513efff291c47522e
"
openstack%2Fbarbican-ui~master~Idebe434ae4f7b2f0f88c61e68b4108d20ec04723,openstack/barbican-ui,master,,Idebe434ae4f7b2f0f88c61e68b4108d20ec04723,setup.cfg: Replace dashes by underscores,NEW,2022-02-05 16:39:44.000000000,2022-02-07 18:16:16.000000000,,3,3,0,827987,9cf68e481c56bb58a7885d94be71204f4f1ec93c,3,2,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Idebe434ae4f7b2f0f88c61e68b4108d20ec04723
"
openstack%2Fpuppet-ironic~master~I74e90c764e09b6ecfb7efb88efbfc22d5b06ed6c,openstack/puppet-ironic,master,cleanup-db-params,I74e90c764e09b6ecfb7efb88efbfc22d5b06ed6c,Clean up deprecated database parameters,MERGED,2022-02-07 03:07:39.000000000,2022-02-07 18:15:36.000000000,2022-02-07 18:13:52.000000000,23,120,0,828067,f27dd22cbdc4876f35d0db557adb3b376d9abd5a,8,3,1,4,9816,Takashi Kajinami,kajinamit,"Clean up deprecated database parameters

Change-Id: I74e90c764e09b6ecfb7efb88efbfc22d5b06ed6c
"
openstack%2Fsushy-tools~master~Icdf030b9a0fa0d785d309335e0ab2e82e25e0acf,openstack/sushy-tools,master,bios-settings-integer,Icdf030b9a0fa0d785d309335e0ab2e82e25e0acf,Accept non-string types for BIOS settings,MERGED,2022-02-03 22:02:04.000000000,2022-02-07 18:06:39.000000000,2022-02-07 18:04:49.000000000,18,0,2,827769,1553bf31823c2a36a90830de8e95e85d96af78dc,12,3,2,3,21909,Bob Fournier,bfournie,"Accept non-string types for BIOS settings

    For BIOS settings allow non-string types to be set.

Change-Id: Icdf030b9a0fa0d785d309335e0ab2e82e25e0acf
"
openstack%2Fopenstack-helm~master~Ib1b24466678a0df28a3ce7ba4d3fe94bfb169702,openstack/openstack-helm,master,remove-ssh-config,Ib1b24466678a0df28a3ce7ba4d3fe94bfb169702,Remove ssh-config,MERGED,2022-01-24 17:04:48.000000000,2022-02-07 18:05:06.000000000,2022-02-07 18:03:11.000000000,2,6,0,826128,3ff41ce11cf4ebca35f1ac047d6a24175017d6d4,20,4,4,4,14675,Hugo Nicodemos,nicodemos,"Remove ssh-config

All ssh configurations for the nova-compute pods
are now done by _ssh-init.sh.tpl . This patch removes
the ssh-config that is not needed anymore.

Signed-off-by: Hugo Brito <hugo.brito@windriver.com>
Change-Id: Ib1b24466678a0df28a3ce7ba4d3fe94bfb169702
"
openstack%2Fpuppet-ironic~master~I036ad287761fa6c4361a45e8d2d9711509a1ade9,openstack/puppet-ironic,master,key-deps,I036ad287761fa6c4361a45e8d2d9711509a1ade9,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:10:47.000000000,2022-02-07 17:53:18.000000000,2022-02-07 17:53:18.000000000,2,12,0,828042,9f34e8b03e1f8d5bdc97f30f27e4b86f9f136b4e,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I036ad287761fa6c4361a45e8d2d9711509a1ade9
"
openstack%2Fpuppet-heat~master~I9d77ce1cbbd3fb8f7af2f144101ad064d760934e,openstack/puppet-heat,master,cleanup-db-params,I9d77ce1cbbd3fb8f7af2f144101ad064d760934e,Clean up deprecated database parameters,MERGED,2022-02-07 03:01:52.000000000,2022-02-07 17:47:59.000000000,2022-02-07 17:45:55.000000000,23,94,0,828066,c543bd33ae2389e64f932441c719fcc105a2f2da,9,3,2,3,9816,Takashi Kajinami,kajinamit,"Clean up deprecated database parameters

Change-Id: I9d77ce1cbbd3fb8f7af2f144101ad064d760934e
"
openstack%2Fpuppet-heat~master~Ie28adb28dba6f8fd04520b1e5deea30fa66d775b,openstack/puppet-heat,master,key-deps,Ie28adb28dba6f8fd04520b1e5deea30fa66d775b,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:08:57.000000000,2022-02-07 17:45:53.000000000,2022-02-07 17:45:53.000000000,2,12,0,828041,6ce889d3f29c9c1c94c015d1d82ebfbb6bc90cef,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ie28adb28dba6f8fd04520b1e5deea30fa66d775b
"
openstack%2Fbarbican~stable%2Fwallaby~Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b,openstack/barbican,stable/wallaby,fips-compatibility,Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b,Add FIPS gate job,MERGED,2022-02-04 21:57:17.000000000,2022-02-07 17:42:54.000000000,2022-02-07 17:36:18.000000000,19,3,0,827906,a66d17653c721de93f2e618c5cfbd98f0cb3d5b6,10,3,1,3,9914,Ade Lee,alee,"Add FIPS gate job

Add a new FIPS enabled gate job  This job will be
for Centos 8 with FIPS enabled, and will use a playbook in
zuul-jobs to enable FIPS.

The dogtag bindep dependencies are curently broken.  Lets
temporarily remove them here until we can figure out how to
fix them and thereby fix the dogtag gate.

Change-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b
Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/788778
(cherry picked from commit 94a45c1ecdaa87791e97bed73d0468f056532570)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~If11f21c05a795108d76a3d210e2ebf11d7114c50,openstack/tripleo-ansible,stable/ussuri,bug/1881593,If11f21c05a795108d76a3d210e2ebf11d7114c50,Make template ovn_chassis_mac_map backwards-compatible,MERGED,2022-01-31 16:23:17.000000000,2022-02-07 17:40:43.000000000,2022-02-07 17:40:43.000000000,7,1,3,827148,36dd9e91ee23d087d8be5e9cc438508487c7a85e,16,2,2,1,6681,Brent Eagles,beagles,"Make template ovn_chassis_mac_map backwards-compatible

Conflicts:
  tripleo_ansible/roles/tripleo_hieradata/templates/ovn_chassis_mac_map.j2

Related-Bug: #1881593
Change-Id: If11f21c05a795108d76a3d210e2ebf11d7114c50
(cherry picked from commit 528888a664d0792b182a890aee5ed9bce6871208)
"
openstack%2Ftempest~master~I834300ee8d9ee8952284b55f53d97456a1ca6032,openstack/tempest,master,bug/1959467,I834300ee8d9ee8952284b55f53d97456a1ca6032,Make stable/ussuri job voting,MERGED,2022-02-06 01:52:09.000000000,2022-02-07 17:36:56.000000000,2022-02-07 17:31:47.000000000,0,1,2,828020,eb1afd539aa1fadbc6aa3bccf87af7cb5e0f0abb,8,3,1,1,8556,Ghanshyam,ghanshyam,"Make stable/ussuri job voting

stable/ussuri job was made non voting due to
bug#1959467

- https://review.opendev.org/c/openstack/tempest/+/827258

As bug is fixed now, let's revert it to voting again.

Change-Id: I834300ee8d9ee8952284b55f53d97456a1ca6032
"
openstack%2Fpuppet-placement~master~I9dd7848b0808c1c53c9f82839df60106f7a2e7ae,openstack/puppet-placement,master,key-deps,I9dd7848b0808c1c53c9f82839df60106f7a2e7ae,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:20:25.000000000,2022-02-07 17:35:22.000000000,2022-02-07 17:35:22.000000000,1,6,0,828048,d167d51b7cfb42e6595429364ca0d1c4d74cd280,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I9dd7848b0808c1c53c9f82839df60106f7a2e7ae
"
openstack%2Fpuppet-nova~master~I2a5b782ee453f59a754660af6a34bc0cdcd60b15,openstack/puppet-nova,master,,I2a5b782ee453f59a754660af6a34bc0cdcd60b15,Fix typo causing a warning message,MERGED,2022-02-06 17:05:01.000000000,2022-02-07 17:35:20.000000000,2022-02-07 17:35:20.000000000,1,1,0,828057,0378d590d310b9fce866c6fde46923dab155de44,8,3,2,1,9816,Takashi Kajinami,kajinamit,"Fix typo causing a warning message

This is follow up of 3c376bd733bff778002a01fb7b5f0dbc645d0e05 and fixes
one typo included in that commit. Because of this, the following
warning is always logged.

(warning): The cross_az_attach parameter is deprecated. \
Use nova::cinder::cross_az_attach instead.

Change-Id: I2a5b782ee453f59a754660af6a34bc0cdcd60b15
"
openstack%2Fkeystonemiddleware~master~Id05ff8460cfa4f1762f2d0096088bc341e95c1da,openstack/keystonemiddleware,master,reno-victoria,Id05ff8460cfa4f1762f2d0096088bc341e95c1da,Update master for stable/victoria,MERGED,2020-09-10 17:06:24.000000000,2022-02-07 17:25:01.000000000,2022-02-07 17:23:18.000000000,7,0,3,751057,220914527f97334479cb8bd3d12f1ee002e8bc89,19,6,2,2,22816,OpenStack Release Bot,release,"Update master for stable/victoria

Add file to the reno documentation build to show release notes for
stable/victoria.

Change-Id: Id05ff8460cfa4f1762f2d0096088bc341e95c1da
"
openstack%2Fpuppet-nova~master~I67aa61335f635e5cdc3176616d55f6e6002064fa,openstack/puppet-nova,master,key-deps,I67aa61335f635e5cdc3176616d55f6e6002064fa,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 14:58:58.000000000,2022-02-07 17:24:30.000000000,2022-02-07 17:24:30.000000000,2,10,0,828033,d47a0d7bfbf275b57056039975076df123a7d997,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I67aa61335f635e5cdc3176616d55f6e6002064fa
"
openstack%2Fpuppet-keystone~master~I1bacb6a08fe7e04732a870aa46512c21c298f328,openstack/puppet-keystone,master,cleanup-db-params,I1bacb6a08fe7e04732a870aa46512c21c298f328,Clean up deprecated database parameters,MERGED,2022-02-07 07:27:39.000000000,2022-02-07 17:22:49.000000000,2022-02-07 17:21:04.000000000,17,78,2,828071,845eb1c9a1ae492675e299d7f1f6e0287842b1c5,11,3,1,3,9816,Takashi Kajinami,kajinamit,"Clean up deprecated database parameters

Change-Id: I1bacb6a08fe7e04732a870aa46512c21c298f328
"
openstack%2Fpuppet-sahara~master~I0c799a1469493f4d6d581195d10411322116b386,openstack/puppet-sahara,master,cleanup-db-params,I0c799a1469493f4d6d581195d10411322116b386,Clean up deprecated database parameters,MERGED,2022-02-07 07:39:34.000000000,2022-02-07 17:20:23.000000000,2022-02-07 17:18:23.000000000,22,94,0,828075,846dc297b84c1490150a1b0f0144fff22d7c6bbd,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Clean up deprecated database parameters

Change-Id: I0c799a1469493f4d6d581195d10411322116b386
"
openstack%2Fpuppet-sahara~master~I7837827dc6adec5e89d7061689e326a4499389c8,openstack/puppet-sahara,master,key-deps,I7837827dc6adec5e89d7061689e326a4499389c8,Ensure keystone resources are created during service startup,MERGED,2022-02-06 15:21:22.000000000,2022-02-07 17:18:21.000000000,2022-02-07 17:18:21.000000000,2,0,0,828049,faaa76198238f3b4fcb73efd273bb6c7e3a459f1,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Ensure keystone resources are created during service startup

This change ensures keystone resources like the mistral service user
are created before completing service setup, so that we can use
the service::end anchor to ensure Sahara service is fully available.

Change-Id: I7837827dc6adec5e89d7061689e326a4499389c8
"
openstack%2Fpuppet-openstack_extras~stable%2Fussuri~I66bbc9c84a309da451748734f23f43d4f4277cc1,openstack/puppet-openstack_extras,stable/ussuri,,I66bbc9c84a309da451748734f23f43d4f4277cc1,Add stream parameter to openstack_extras::repo::redhat::redhat,MERGED,2022-02-04 12:53:31.000000000,2022-02-07 17:17:42.000000000,2022-02-07 17:10:27.000000000,40,4,0,827853,f5dde77810fd465b4b70e370c3a2c632147239bf,13,3,4,3,9816,Takashi Kajinami,kajinamit,"Add stream parameter to openstack_extras::repo::redhat::redhat

Backport note:
Fixed the release version used in unit tests.

Change-Id: I66bbc9c84a309da451748734f23f43d4f4277cc1
(cherry picked from commit 3ecddc59263d1d5263e4d977523fd58860145afc)
(cherry picked from commit 248294304a73b78df200dcb2ac4eec631ee6cbaa)
(cherry picked from commit e44d8698db42c1b539bba9af2e75ef6977fde79f)
"
openstack%2Fpuppet-glance~master~Iec6917c4ca352f7b8d18a3c823768a9599b86109,openstack/puppet-glance,master,key-deps,Iec6917c4ca352f7b8d18a3c823768a9599b86109,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:05:26.000000000,2022-02-07 17:10:37.000000000,2022-02-07 17:10:37.000000000,1,6,1,828039,a221b7291830a1cbcf80523070ea2a1638842e31,10,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Iec6917c4ca352f7b8d18a3c823768a9599b86109
"
openstack%2Fpuppet-openstack_extras~stable%2Fussuri~I91c4890e40c12c740db543af5749db1e73bf26fc,openstack/puppet-openstack_extras,stable/ussuri,,I91c4890e40c12c740db543af5749db1e73bf26fc,Disable integration/beaker job,MERGED,2022-02-04 12:56:43.000000000,2022-02-07 17:10:25.000000000,2022-02-07 17:10:25.000000000,2,2,2,827854,9cb16d1c9fdd0c31eaa16df29c4249d7768ef516,13,4,2,1,9816,Takashi Kajinami,kajinamit,"Disable integration/beaker job

... until we get p-o-i fixed.

Change-Id: I91c4890e40c12c740db543af5749db1e73bf26fc
"
openstack%2Fpuppet-openstack_extras~stable%2Fwallaby~I5f46cb0fad7cc036231bf2d97649114a98238c23,openstack/puppet-openstack_extras,stable/wallaby,default-release,I5f46cb0fad7cc036231bf2d97649114a98238c23,Wallaby-only: Use stable/wallaby release by default,MERGED,2022-02-05 16:14:21.000000000,2022-02-07 17:10:23.000000000,2022-02-07 17:10:23.000000000,16,16,0,827978,360fe51a0189b2fcee13c781caa09970496eed9c,11,3,4,5,9816,Takashi Kajinami,kajinamit,"Wallaby-only: Use stable/wallaby release by default

Change-Id: I5f46cb0fad7cc036231bf2d97649114a98238c23
"
openstack%2Fpuppet-openstack_extras~master~I29d6a3043260a3258266b87ca50bcc90befb42ee,openstack/puppet-openstack_extras,master,default-release,I29d6a3043260a3258266b87ca50bcc90befb42ee,Use stable/xena release by default,MERGED,2022-02-05 16:23:23.000000000,2022-02-07 17:10:21.000000000,2022-02-07 17:10:21.000000000,16,16,0,827981,0271adfc05738c34ae148c28ae98b14828c85c81,9,3,2,5,9816,Takashi Kajinami,kajinamit,"Use stable/xena release by default

... instead of old stable/victoria.

Change-Id: I29d6a3043260a3258266b87ca50bcc90befb42ee
"
openstack%2Fpuppet-ec2api~master~Ib493021ea91d6dd131d4e506735eb611444f5fef,openstack/puppet-ec2api,master,key-deps,Ib493021ea91d6dd131d4e506735eb611444f5fef,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:04:44.000000000,2022-02-07 17:08:39.000000000,2022-02-07 17:08:39.000000000,1,8,0,828038,a0c29e242028478622bd72f78deac5d41f20b06d,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ib493021ea91d6dd131d4e506735eb611444f5fef
"
openstack%2Fcloudkitty-tempest-plugin~master~Ied9ee5d61f7fb8a37a9718f6eed9e04bad80026b,openstack/cloudkitty-tempest-plugin,master,,Ied9ee5d61f7fb8a37a9718f6eed9e04bad80026b,Update python testing classifier,MERGED,2021-12-21 10:48:25.000000000,2022-02-07 17:06:29.000000000,2022-02-07 17:06:29.000000000,1,0,2,822475,74e213315b6954542af3cfcc71225bf32d4b6bc6,15,5,1,1,31412,Wenping Song,songwenping,"Update python testing classifier

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Ied9ee5d61f7fb8a37a9718f6eed9e04bad80026b
"
openstack%2Fpuppet-zaqar~master~I5989b330cd55328510cc1bb20b6c00eeac18353b,openstack/puppet-zaqar,master,key-deps,I5989b330cd55328510cc1bb20b6c00eeac18353b,Ensure keystone resources are created during service startup,MERGED,2022-02-06 15:25:31.000000000,2022-02-07 17:05:20.000000000,2022-02-07 17:05:20.000000000,4,0,0,828054,f92eb3478597deeb0ce5e6da466e7025a65711eb,8,3,2,2,9816,Takashi Kajinami,kajinamit,"Ensure keystone resources are created during service startup

This change ensures keystone resources like the mistral service user
are created before completing service setup, so that we can use
the service::end anchor to ensure Zaqar service is fully available.

Change-Id: I5989b330cd55328510cc1bb20b6c00eeac18353b
"
openstack%2Fpuppet-trove~master~Ida8de2bfea71a3c783f4b0e4503f284e0b89aeec,openstack/puppet-trove,master,key-deps,Ida8de2bfea71a3c783f4b0e4503f284e0b89aeec,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:22:57.000000000,2022-02-07 17:01:56.000000000,2022-02-07 17:01:56.000000000,1,4,0,828051,69eb2582c16733f1d796af284cc9c326b6d2c6af,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ida8de2bfea71a3c783f4b0e4503f284e0b89aeec
"
openstack%2Fpuppet-manila~master~Iad736721337d46147a37ad3e7ee223867a796128,openstack/puppet-manila,master,cleanup-db-params,Iad736721337d46147a37ad3e7ee223867a796128,Clean up deprecated database parameters,MERGED,2022-02-07 07:36:14.000000000,2022-02-07 17:00:52.000000000,2022-02-07 16:55:56.000000000,25,95,1,828074,3224797a87f3e905bfab6030bfef6b450bc019a4,13,4,2,4,9816,Takashi Kajinami,kajinamit,"Clean up deprecated database parameters

Change-Id: Iad736721337d46147a37ad3e7ee223867a796128
"
openstack%2Fpuppet-gnocchi~master~Iaa635579908ded39130305170ac3f8feaef2d9ed,openstack/puppet-gnocchi,master,key-deps,Iaa635579908ded39130305170ac3f8feaef2d9ed,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:07:43.000000000,2022-02-07 16:59:46.000000000,2022-02-07 16:59:46.000000000,1,6,1,828040,e5edd14ed1a9dcaed7e93fab1e11d9b17fdeca50,9,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Iaa635579908ded39130305170ac3f8feaef2d9ed
"
openstack%2Fpuppet-cinder~master~I0900b756cb8cef92c5d451d9cce7ef8da4a0d7a4,openstack/puppet-cinder,master,key-deps,I0900b756cb8cef92c5d451d9cce7ef8da4a0d7a4,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:01:12.000000000,2022-02-07 16:58:53.000000000,2022-02-07 16:58:53.000000000,2,6,0,828034,574fbdbe45fcb8567ad9fee8a02b30462aa4c7b6,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I0900b756cb8cef92c5d451d9cce7ef8da4a0d7a4
"
openstack%2Fpuppet-manila~master~I6d29d4f82463067068e8e353a924495533107f28,openstack/puppet-manila,master,,I6d29d4f82463067068e8e353a924495533107f28,Remove integration job,MERGED,2022-02-07 09:35:52.000000000,2022-02-07 16:55:59.000000000,2022-02-07 16:55:59.000000000,0,1,0,828094,b7b2ef06cb1ed4a8127a7e4605998ab103d327b5,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Remove integration job

... because Manila is not enabled in any scenarios at this moment.

Change-Id: I6d29d4f82463067068e8e353a924495533107f28
"
openstack%2Fpuppet-designate~master~If969163b4b1df813341569ca7c626a35253cefd5,openstack/puppet-designate,master,key-deps,If969163b4b1df813341569ca7c626a35253cefd5,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:03:54.000000000,2022-02-07 16:53:52.000000000,2022-02-07 16:53:52.000000000,1,6,0,828037,19149dda5db9c5091cc109ad86cb360cd2e1987f,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: If969163b4b1df813341569ca7c626a35253cefd5
"
openstack%2Fpuppet-mistral~master~I074bdda1edca71b623852df25441fa255f2aa898,openstack/puppet-mistral,master,cleanup-db-params,I074bdda1edca71b623852df25441fa255f2aa898,Clean up deprecated database parameters,MERGED,2022-02-07 02:59:12.000000000,2022-02-07 16:48:27.000000000,2022-02-07 16:46:33.000000000,13,37,0,828065,fd77f30dde51fc4ea7ed51d57d0c9640fac78527,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Clean up deprecated database parameters

Change-Id: I074bdda1edca71b623852df25441fa255f2aa898
"
openstack%2Fpuppet-manila~master~I864d67c7ccd161450fb1c63f337675da45337c14,openstack/puppet-manila,master,rootwrap,I864d67c7ccd161450fb1c63f337675da45337c14,Add support for rootwrap.conf,MERGED,2022-02-05 10:18:35.000000000,2022-02-07 16:47:04.000000000,2022-02-07 16:45:18.000000000,181,3,0,827946,356a31d0ab28d10e5f0bdcbb71bf5ca283701a3a,8,3,1,8,9816,Takashi Kajinami,kajinamit,"Add support for rootwrap.conf

Change-Id: I864d67c7ccd161450fb1c63f337675da45337c14
"
openstack%2Fpuppet-magnum~master~I04b4e77bb8c7818b23f82248f3149e9e1069c0d3,openstack/puppet-magnum,master,key-deps,I04b4e77bb8c7818b23f82248f3149e9e1069c0d3,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:12:16.000000000,2022-02-07 16:45:54.000000000,2022-02-07 16:45:54.000000000,1,6,0,828043,bd1433a7b576dc82f0e2aea1bd80e707b0bbcaf9,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I04b4e77bb8c7818b23f82248f3149e9e1069c0d3
"
openstack%2Fpuppet-barbican~master~I21e05882b2685d8d312f4d6cc516ebcaf2ba6677,openstack/puppet-barbican,master,key-deps,I21e05882b2685d8d312f4d6cc516ebcaf2ba6677,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:01:55.000000000,2022-02-07 16:45:41.000000000,2022-02-07 16:45:41.000000000,1,6,0,828035,12a5b23668805eee82051d51f87d926b3a9b8c8e,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I21e05882b2685d8d312f4d6cc516ebcaf2ba6677
"
openstack%2Fpuppet-manila~master~Ia2c9fe8bc4aa9c41b714e58b412ed51ede74386e,openstack/puppet-manila,master,key-deps,Ia2c9fe8bc4aa9c41b714e58b412ed51ede74386e,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:14:38.000000000,2022-02-07 16:45:19.000000000,2022-02-07 16:45:19.000000000,2,10,0,828044,24e66402e3fbb63a41c0002e43acc5b5e49781c1,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ia2c9fe8bc4aa9c41b714e58b412ed51ede74386e
"
openstack%2Fopenstack-helm-infra~master~I3ac4a75f776760425c88a0ba1edae5fb339f128d,openstack/openstack-helm-infra,master,,I3ac4a75f776760425c88a0ba1edae5fb339f128d,Move ceph-mgr deployment to the ceph-mon chart,MERGED,2022-02-02 20:11:39.000000000,2022-02-07 16:42:32.000000000,2022-02-07 16:39:59.000000000,199,123,4,827552,ea2c0115c4c0d38e7f52037860017241792a87b7,41,7,16,17,29974,Stephen Taylor,st053q,"Move ceph-mgr deployment to the ceph-mon chart

This change moves the ceph-mgr deployment from the ceph-client
chart to the ceph-mon chart. Its purpose is to facilitate the
proper Ceph upgrade procedure, which prescribes restarting mgr
daemons before mon daemons.

There will be additional work required to implement the correct
daemon restart procedure for upgrades. This change only addresses
the move of the ceph-mgr deployment.

Change-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d
"
openstack%2Fneutron~master~Ie670fba4b3afe427747732d2c3948d92311e960e,openstack/neutron,master,bug/1958363,Ie670fba4b3afe427747732d2c3948d92311e960e,Use a thread local variable to store the Nova Notifier enable flag,MERGED,2022-02-01 17:47:52.000000000,2022-02-07 16:42:21.000000000,2022-02-07 16:38:34.000000000,48,15,13,827331,507989fc622a6633926c4288827f482bae6054dd,34,7,2,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Use a thread local variable to store the Nova Notifier enable flag

The Nova Notifier can be called simultaneously by several RPC
callbacks from the agents (DHCP, L2), trying to update the provisioning
status of a port. In order to handle each context notifier enable flag,
a thread local variable is used. This will isolate the flag update
if two entities inform at the same time and one RPC callback is attended
during the processing of the other one.

This patch also removes the debug messages added to debug this issue.

Closes-Bug: #1958363
Change-Id: Ie670fba4b3afe427747732d2c3948d92311e960e
"
openstack%2Fblazar-nova~master~I294c22b22a1d9e3df01c56a518476a33782d1196,openstack/blazar-nova,master,preemptibles,I294c22b22a1d9e3df01c56a518476a33782d1196,Allow preemptible instances to run on unused hosts,MERGED,2020-08-31 20:07:16.000000000,2022-02-07 16:42:18.000000000,2022-02-04 16:04:54.000000000,119,7,13,749151,3d01888c14a785e796393d7f6a2b0792b1b1f2e0,19,3,4,3,15197,Pierre Riteau,priteau,"Allow preemptible instances to run on unused hosts

Preemptible instances run on a configurable host aggregate, using the
freepool by default.

Compared to the proposed spec, the use of a separate aggregate allows to
better control scheduling of preemptibles. For example, we can prevent
preemptible instances from being launched on hosts that are about to be
used by reservations. To be used, this feature will need additional
support in the main Blazar service.

Blueprint: blazar-preemptible-instances
Change-Id: I294c22b22a1d9e3df01c56a518476a33782d1196
"
openstack%2Fpuppet-openstack_extras~stable%2Fxena~I29d6a3043260a3258266b87ca50bcc90befb42ee,openstack/puppet-openstack_extras,stable/xena,default-release,I29d6a3043260a3258266b87ca50bcc90befb42ee,Use stable/xena release by default,MERGED,2022-02-05 16:20:26.000000000,2022-02-07 16:41:12.000000000,2022-02-07 16:41:12.000000000,16,16,0,827980,ff5aacfd3ef407de0132f1f6d64c2a655feefaf1,9,3,2,5,9816,Takashi Kajinami,kajinamit,"Use stable/xena release by default

... instead of old stable/victoria.

Change-Id: I29d6a3043260a3258266b87ca50bcc90befb42ee
(cherry picked from commit 0271adfc05738c34ae148c28ae98b14828c85c81)
"
openstack%2Fpuppet-mistral~master~I5b667a809caf746b7ea72b70f475438523361bd4,openstack/puppet-mistral,master,key-deps,I5b667a809caf746b7ea72b70f475438523361bd4,Ensure keystone resources are created during service startup,MERGED,2022-02-06 15:16:57.000000000,2022-02-07 16:41:10.000000000,2022-02-07 16:41:10.000000000,2,0,0,828045,15d5e9f99bb655d68fe454b8386a9c3d1a54c4de,9,3,1,1,9816,Takashi Kajinami,kajinamit,"Ensure keystone resources are created during service startup

This change ensures keystone resources like the mistral service user
are created before completing service setup, so that we can use
the service::end anchor to ensure Mistral service is fully available.

Change-Id: I5b667a809caf746b7ea72b70f475438523361bd4
"
openstack%2Fpuppet-watcher~master~I84ad764718f7dbd7b9c8209b2cd29bf531dff4c2,openstack/puppet-watcher,master,key-deps,I84ad764718f7dbd7b9c8209b2cd29bf531dff4c2,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:24:30.000000000,2022-02-07 16:31:07.000000000,2022-02-07 16:31:07.000000000,1,7,0,828053,b4a725b35486dba288ade4bab4e0b6fc194bb5f6,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I84ad764718f7dbd7b9c8209b2cd29bf531dff4c2
"
openstack%2Fpuppet-aodh~master~Ie36c8a096c33a475b21a1dc02a04de49d35be9c9,openstack/puppet-aodh,master,key-deps,Ie36c8a096c33a475b21a1dc02a04de49d35be9c9,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 07:58:14.000000000,2022-02-07 16:24:13.000000000,2022-02-07 16:24:13.000000000,1,6,1,828026,1b70d0c3802df6a86fc3eb6f523ec9b6f7f17fa2,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ie36c8a096c33a475b21a1dc02a04de49d35be9c9
"
openstack%2Fpuppet-octavia~master~If2d0dce800e767f7341b718a44af0edb97e26946,openstack/puppet-octavia,master,cleanup-db-params,If2d0dce800e767f7341b718a44af0edb97e26946,Clean up deprecated database parameters,MERGED,2022-02-07 07:31:00.000000000,2022-02-07 16:04:12.000000000,2022-02-07 15:57:13.000000000,26,118,0,828073,f3646c17556ef0b6fd4cf3eb81b6751c7f0aec7b,10,3,2,3,9816,Takashi Kajinami,kajinamit,"Clean up deprecated database parameters

Change-Id: If2d0dce800e767f7341b718a44af0edb97e26946
"
openstack%2Fcloudkitty-tempest-plugin~master~I18f469a60f70afeffa470dbf9db56b64871607f1,openstack/cloudkitty-tempest-plugin,master,xena-stable-jobs,I18f469a60f70afeffa470dbf9db56b64871607f1,Add stable/xena jobs on master gate,MERGED,2022-01-19 00:40:17.000000000,2022-02-07 15:57:11.000000000,2022-02-07 15:57:11.000000000,6,9,0,825194,ac9b0905166d2936fa2ecaf1af8e75d95f80b913,7,3,1,1,8556,Ghanshyam,ghanshyam,"Add stable/xena jobs on master gate

We have stable/xena released so we should add
their job on master gate to keep branchless tempest
plugins compatible to stable branch.

This also removes the stable/train job as that is in EM
state now.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I18f469a60f70afeffa470dbf9db56b64871607f1
"
openstack%2Fceilometer~stable%2Fxena~I93b6e92a5f46de5486f30a99fa3917a5932f7360,openstack/ceilometer,stable/xena,nova-meta-versions-stable/xena,I93b6e92a5f46de5486f30a99fa3917a5932f7360,Support two nova metadata versions in instance XML,MERGED,2022-02-07 10:07:03.000000000,2022-02-07 15:55:51.000000000,2022-02-07 15:53:35.000000000,36,11,0,827967,c724307a080469e25950e25093b3e70b92794415,7,2,1,2,16137,Tobias Urdin,tobasco,"Support two nova metadata versions in instance XML

this is followup to I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981

In order to support discovery of instances booted before Wallaby,
ceilometer must support working with both 1.0 (old, Victoria and before)
and 1.1 (new, Wallaby and for now newer) versions of nova metadata.

Change-Id: I93b6e92a5f46de5486f30a99fa3917a5932f7360
Related-Bug: #1930446
(cherry picked from commit 2fc72043d31af7acd45f918eeb290d9d7564d168)
"
openstack%2Fkayobe~stable%2Ftrain~Ie9b15db6563546ede9ce9735292ec566d540432a,openstack/kayobe,stable/train,story/2009721-stable/train,Ie9b15db6563546ede9ce9735292ec566d540432a,Fix installation prefix detection,ABANDONED,2021-12-06 12:06:53.000000000,2022-02-07 15:55:46.000000000,,16,6,0,820503,e42baedeed513c6e2147a2e5b07c252de8481356,3,1,1,3,15197,Pierre Riteau,priteau,"Fix installation prefix detection

When multiple 'lib' components are present in the installation path,
Kayobe fails to detect the right installation prefix which causes
various commands to raise an error.

Rewrite logic to detect the last 'lib' component in path instead. This
should work as long as this function is not stored under a lib directory
inside the Kayobe source tree.

Change-Id: Ie9b15db6563546ede9ce9735292ec566d540432a
Story: 2009721
Task: 44109
(cherry picked from commit e438189a198a3bc656a99be9d82793ddf6077c53)
"
openstack%2Fpuppet-octavia~master~Ia6cc999d7a008dbd51b28b4c9bc869c723a8be83,openstack/puppet-octavia,master,key-deps,Ia6cc999d7a008dbd51b28b4c9bc869c723a8be83,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:19:21.000000000,2022-02-07 15:52:12.000000000,2022-02-07 15:52:12.000000000,1,6,0,828047,6732e2664d027178fd6a7f284b0064d7d220b960,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ia6cc999d7a008dbd51b28b4c9bc869c723a8be83
"
openstack%2Fpuppet-octavia~master~I7a0d4f170a2a58c635240ad7c305467df8f4af2e,openstack/puppet-octavia,master,,I7a0d4f170a2a58c635240ad7c305467df8f4af2e,Remove unused logic,MERGED,2022-02-06 14:01:25.000000000,2022-02-07 15:52:10.000000000,2022-02-07 15:52:10.000000000,5,9,0,828031,c1c20ee0e83281d675699f676882a8d8e5c863be,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Remove unused logic

The python-octaviaclient package is available in all distros we
currently support.

Change-Id: I7a0d4f170a2a58c635240ad7c305467df8f4af2e
"
openstack%2Fpuppet-tacker~master~I3457c3746f798548f6026b503f279d6ae94f7c32,openstack/puppet-tacker,master,key-deps,I3457c3746f798548f6026b503f279d6ae94f7c32,Ensure keystone resources are created during service startup,MERGED,2022-02-06 15:22:04.000000000,2022-02-07 15:47:33.000000000,2022-02-07 15:47:33.000000000,1,6,0,828050,cb1078196438f444c1d77852bf2a980fa456116d,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Ensure keystone resources are created during service startup

This change ensures keystone resources like the mistral service user
are created before completing service setup, so that we can use
the service::end anchor to ensure Mistral service is fully available.

Change-Id: I3457c3746f798548f6026b503f279d6ae94f7c32
"
openstack%2Fpuppet-cloudkitty~master~I7d1b55e83a097e558db9e1f315c1ee85256d9419,openstack/puppet-cloudkitty,master,key-deps,I7d1b55e83a097e558db9e1f315c1ee85256d9419,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:02:56.000000000,2022-02-07 15:44:48.000000000,2022-02-07 15:44:48.000000000,1,7,0,828036,3c3dc10c81966e9bec66a92954e007f5c8b68df1,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I7d1b55e83a097e558db9e1f315c1ee85256d9419
"
openstack%2Fpython-heatclient~master~I660fadc0b9798214719fe1a1aac0731584806503,openstack/python-heatclient,master,,I660fadc0b9798214719fe1a1aac0731584806503,setup.cfg: Replace dashes by underscores,MERGED,2022-02-07 07:47:29.000000000,2022-02-07 15:42:54.000000000,2022-02-07 15:39:13.000000000,4,4,1,828080,a9abc54844fd7deb25e6860f1114dd22db367281,10,5,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I660fadc0b9798214719fe1a1aac0731584806503
"
openstack%2Fpuppet-openstack-cookiecutter~master~I3cae6998ec9a2157f507650859e030c576a3cd8c,openstack/puppet-openstack-cookiecutter,master,,I3cae6998ec9a2157f507650859e030c576a3cd8c,Add support for MultiStrOpt,MERGED,2022-02-06 15:58:36.000000000,2022-02-07 15:42:45.000000000,2022-02-07 15:42:45.000000000,17,8,0,828056,a7b1d301490c317ff3ab9faf3ab84495dbd79f62,7,3,1,4,9816,Takashi Kajinami,kajinamit,"Add support for MultiStrOpt

This replaces the provider implementation of aodh_config type so that
MultiStrOpt, which is used by several options like
 - oslo_messaging_notifications/driver
 - oslo_policy/policy_dirs
are handled correctly.

Change-Id: I3cae6998ec9a2157f507650859e030c576a3cd8c
"
openstack%2Fpuppet-openstack-cookiecutter~master~I1c0739759c43996def7777c4f9aec667d45c2afc,openstack/puppet-openstack-cookiecutter,master,,I1c0739759c43996def7777c4f9aec667d45c2afc,Allow purging policy files,MERGED,2022-02-06 15:53:47.000000000,2022-02-07 15:42:43.000000000,2022-02-07 15:42:43.000000000,76,31,0,828055,740d1bb822e8543535a2fccb4f2eab4b5809422c,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Allow purging policy files

This change introduces the new purge_config parameter to the policy
class so that any policy rules not managed by puppet manifests can be
cleared.

Change-Id: I1c0739759c43996def7777c4f9aec667d45c2afc
Co-Authored-By: Martin Schuppert <mschuppert@redhat.com>
Depends-On: https://review.opendev.org/802305
"
openstack%2Fpuppet-manila~master~Iccaebec444416f77ff90e1ff62de2de486c802c9,openstack/puppet-manila,master,rootwrap,Iccaebec444416f77ff90e1ff62de2de486c802c9,Add unit tests of manila::config,MERGED,2022-02-05 10:18:35.000000000,2022-02-07 15:35:14.000000000,2022-02-07 15:35:14.000000000,49,0,0,827945,3eaf89cd58dba239b969d5f69ae69da8c7c1be19,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Add unit tests of manila::config

Change-Id: Iccaebec444416f77ff90e1ff62de2de486c802c9
"
openstack%2Foslo.utils~stable%2Ftrain~I941750b4d49d2d75f0831b24d6dd17f4040f70a2,openstack/oslo.utils,stable/train,,I941750b4d49d2d75f0831b24d6dd17f4040f70a2,Fix regex used to mask password,MERGED,2022-02-04 10:09:29.000000000,2022-02-07 15:07:42.000000000,2022-02-07 15:05:51.000000000,35,1,1,827830,473f300b07641d79d5253208a4058e773857bec5,12,3,1,3,31245,Daniel Bengtsson,damani42,"Fix regex used to mask password

Some use cases are poorly handled by the regex used
to mask password. Indeed when the password contains
quotes or double quotes in the middle such as `pass""word`,
the mask_password method will return `***""word`.

For more details please see
https://bugs.launchpad.net/oslo.utils/+bug/1949623

Closes-Bug: #1949623
Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2
(cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)
(cherry picked from commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba)
(cherry picked from commit 143d3fbfa1e04778884de5acc08fa6f7fdabb265)
(cherry picked from commit 65aa4226d4bf286468da6df6759e364c1eb3e049)
(cherry picked from commit 5e9dfa3408a6fac7e870a9b86ee774b5fd71a595)
"
openstack%2Fcharm-manila-ganesha~master~I4236cb4784062807d53381380d9d161ce2f450ee,openstack/charm-manila-ganesha,master,bug/1880644,I4236cb4784062807d53381380d9d161ce2f450ee,Use hacluster.add_location(),MERGED,2022-02-04 17:33:08.000000000,2022-02-07 15:05:33.000000000,2022-02-07 15:05:33.000000000,6,16,0,827889,f2d9ed37090607676c5c6b54ea797c55e228d2af,7,3,1,1,2424,Felipe Reyes,freyes,"Use hacluster.add_location()

This change removes the workaround that was needed when the hacluster
interface didn't have a method to define colocations.

Related-Bug: #1880644
Change-Id: I4236cb4784062807d53381380d9d161ce2f450ee
"
openstack%2Fpython-ironic-inspector-client~master~I8cc51ddb1130cebbb9ee68b1f2abc1e7849c1fa9,openstack/python-ironic-inspector-client,master,,I8cc51ddb1130cebbb9ee68b1f2abc1e7849c1fa9,setup.cfg: Replace dashes by underscores,MERGED,2022-02-07 07:48:14.000000000,2022-02-07 15:02:24.000000000,2022-02-07 15:00:48.000000000,4,4,1,828081,61a323fac9497d53dbbbcb41f6a3c46961b1eb37,7,2,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I8cc51ddb1130cebbb9ee68b1f2abc1e7849c1fa9
"
openstack%2Fcinder~master~Ide303685a4cd1477c319b36e67a3b05c8d129126,openstack/cinder,master,off-book,Ide303685a4cd1477c319b36e67a3b05c8d129126,Update volume api microversion doc and tests,MERGED,2021-05-13 13:50:33.000000000,2022-02-07 14:35:44.000000000,2021-08-03 17:19:57.000000000,1862,121,12,791239,dab5df1747a47570cc48c2dad663afce1a25be41,48,4,4,59,9535,Gorka Eguileor,Gorka,"Update volume api microversion doc and tests

We have many microversions but we but we haven't kept the samples, docs,
and tests up to date with them.

Of the many microversions this patch will focus on the ones that have
updated the fields returned for volumes updating the docs, adding the
appropriate json samples, updating the tests, and updating the
contributor docs to highlight the need to keep these up to date.

Some convenience methods have been added to facilitate the testing:

- use_versions: class decorator that allows us to run the same tests
  with different microversions, each using their respective json and
  templates.

- override_mv: method decorator to change the microversion in a single
  test.

- common_api_sample: context manager to use the base sample instead of a
  microversion specific one.

Change-Id: Ide303685a4cd1477c319b36e67a3b05c8d129126
"
openstack%2Fcinder~master~I3df06461ec4b4e770067714f82ca856800eadd6f,openstack/cinder,master,824031,I3df06461ec4b4e770067714f82ca856800eadd6f,"NO merge, test lightbits third party ci",ABANDONED,2022-01-10 16:57:42.000000000,2022-02-07 14:24:23.000000000,,1,0,49,824031,552192461dcb0812d8a494a8153ae3bc6e11b446,196,1,4,1,33612,yuval,yuval,"NO merge, test lightbits third party ci

Change-Id: I3df06461ec4b4e770067714f82ca856800eadd6f
"
openstack%2Ftripleo-quickstart-extras~master~I70cbf111e0fdce47386cac3b50688cbf86558dd5,openstack/tripleo-quickstart-extras,master,,I70cbf111e0fdce47386cac3b50688cbf86558dd5,Make sure container_build_id is removed before writing new one,MERGED,2021-12-17 00:29:34.000000000,2022-02-07 14:15:06.000000000,2022-02-07 14:15:06.000000000,8,0,4,822060,1c264319f59bf341893b5f324fed01d2f825b903,29,7,1,1,6681,Brent Eagles,beagles,"Make sure container_build_id is removed before writing new one

If the container_build_id file exists, copying in a new one may fail
because of permission issues on os.rename().

Change-Id: I70cbf111e0fdce47386cac3b50688cbf86558dd5
"
openstack%2Fpython-aodhclient~master~I5aa097573e323ec0c34cb9d621e85d5259195f21,openstack/python-aodhclient,master,setup-cfg,I5aa097573e323ec0c34cb9d621e85d5259195f21,setup.cfg: Replace dashes by underscores,MERGED,2022-02-07 07:43:04.000000000,2022-02-07 13:42:54.000000000,2022-02-07 13:41:07.000000000,4,4,0,828077,20f4372c00e0d33a9e0c4b3ce38fe8b07de5afef,7,2,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I5aa097573e323ec0c34cb9d621e85d5259195f21
"
openstack%2Ftripleo-validations~master~I90171b424f0678001c2ca53a1fee819993fff6f5,openstack/tripleo-validations,master,image-serve/1959864,I90171b424f0678001c2ca53a1fee819993fff6f5,Substituting 'localhost' for wildcard '*' in image-serve validation,MERGED,2022-02-03 12:31:07.000000000,2022-02-07 13:15:30.000000000,2022-02-07 13:13:10.000000000,2,2,6,827654,16dfbae6a0b36922497a124426d59a934b9d4256,16,5,2,1,32926,Jiri Podivin,jpodivin,"Substituting 'localhost' for wildcard '*' in image-serve validation

Recent changes to the httpd config template[0] have led to
failure of the image-serve validation during the ""Ensure registry does answer""
task as the '*' host was not reachable.

Substitution of the 'localhost' for '*' should resolve the issue.

Same modification was applied to the ""Ensure port is open"" task
for the sake of consistency.

Closes-Bug: #1959864

[0] https://opendev.org/openstack/tripleo-ansible/commit/9b2ffd10dccefcb5462a12ffb86d1eaf8b64adb5
Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I90171b424f0678001c2ca53a1fee819993fff6f5
"
openstack%2Fgovernance~master~I24e21c78b4424b974d1f55c57ff62f91820bb66b,openstack/governance,master,project-update,I24e21c78b4424b974d1f55c57ff62f91820bb66b,Add dummy charm project,ABANDONED,2022-02-01 15:43:49.000000000,2022-02-07 12:17:07.000000000,,4,0,0,827312,1722708d581366397f7641904d4eb222c1d76eab,3,1,1,1,31289,Aurelien Lourot,lourot,"Add dummy charm project

The default git branch in the upstream project is
`main` instead of `master. The goal here is to verify
if such a project can successfully be imported.

Depends-On: I5e4db08f9d7600f7ea045907813d4fb0f6264436
Change-Id: I24e21c78b4424b974d1f55c57ff62f91820bb66b
"
openstack%2Fproject-config~master~I5e4db08f9d7600f7ea045907813d4fb0f6264436,openstack/project-config,master,new-project,I5e4db08f9d7600f7ea045907813d4fb0f6264436,Add dummy charm project,ABANDONED,2022-02-01 15:31:38.000000000,2022-02-07 12:16:49.000000000,,8,0,4,827307,bf6b539f68a51aa038f0018864150fdbdc7eac6e,8,2,3,2,31289,Aurelien Lourot,lourot,"Add dummy charm project

The default git branch in the upstream project is
`main` instead of `master. The goal here is to verify
if such a project can successfully be imported.

Change-Id: I5e4db08f9d7600f7ea045907813d4fb0f6264436
Required-By: I24e21c78b4424b974d1f55c57ff62f91820bb66b
"
openstack%2Fneutron~stable%2Fxena~Iab45da2c1b0be682ab56303ee9b4ee12e09721d4,openstack/neutron,stable/xena,,Iab45da2c1b0be682ab56303ee9b4ee12e09721d4,[stable-only] Remove binding:profile.allocation when QoS policy is changed to None,NEW,2021-11-15 13:46:25.000000000,2022-02-07 12:11:26.000000000,,78,33,2,817951,a9724e04547a6b27f4606dc1f814a447fa49d591,16,5,3,2,33652,Przemyslaw Szczerbik,pszczerbik,"[stable-only] Remove binding:profile.allocation when QoS policy is changed to None

This patch fixes an issue with Placement allocation update, when
QoS policy is changed in following sequence:

QoS(min_bw) -> None -> QoS(min_bw)

When QoS policy is set to None, it's necessary to remove RP UUID from
binding:profile.allocation. This prevents an error caused by an attempt
to update non-existent Placement allocation record during subsequent QoS
policy updates.

This is critical, as not all users use Placement enforcement, but
they still expect dataplane enforcement to happen.

This commit is based on 8db15cb2f3dec37441103df15ff28c7e72de682c.

Closes-Bug: #1915856
Change-Id: Iab45da2c1b0be682ab56303ee9b4ee12e09721d4
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I8ee338c3f3e20f1826d98efb38d3b21fefda5031,openstack/tripleo-heat-templates,stable/victoria,bug/1959726-stable/wallaby-stable/victoria,I8ee338c3f3e20f1826d98efb38d3b21fefda5031,Add parameter IronicIPXEUefiSnpOnly,MERGED,2022-02-05 04:16:26.000000000,2022-02-07 11:58:07.000000000,2022-02-07 11:56:32.000000000,21,0,0,827908,371bb6528fa25935770ba6e4023048bda9f2110e,8,3,1,2,24245,Harald Jensås,harald.jensas,"Add parameter IronicIPXEUefiSnpOnly

Add new parameter IronicIPXEUefiSnpOnly (default: true).
When `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi
is used.

'snponly.efi' is the default in puppet-ironic master branch, however
in Wallaby and earlier releases 'ipxe.efi' is the default. Since
'ipxe.efi' is not compatible with a lot of hardware TripleO should
change this default.

Conflicts:
  deployment/ironic/ironic-conductor-container-puppet.yaml

Related: RHBZ#2049179
Closes-Bug: 1959726
Change-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031
(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)
"
openstack%2Ftripleo-ansible~master~I73b0d054644eb43016d61299b7c372ca86b18472,openstack/tripleo-ansible,master,historical_bool,I73b0d054644eb43016d61299b7c372ca86b18472,historical variable evaluated as bool,MERGED,2022-02-06 23:10:54.000000000,2022-02-07 11:56:35.000000000,2022-02-07 11:56:35.000000000,2,2,0,828058,ca7425d3728b4ba16a283440960fd6e180f24c74,8,5,1,1,32968,Juan Larriba,jlarriba,"historical variable evaluated as bool

The tripleo_backup_and_restore_historical variable is checked by some
tasks using when, but as it lacks the | bool extension, it is being
evaluated as string, meaning that ""false"" is considered a valid and not
empty string and as such evaluated as true. This patch fixes this
behaviour by evaluating the variable as as boolean value

Change-Id: I73b0d054644eb43016d61299b7c372ca86b18472
"
openstack%2Fnova~master~I1973d5bb711a3898d7e21525723701fa9b88978a,openstack/nova,master,bug/1959899,I1973d5bb711a3898d7e21525723701fa9b88978a,DNM: troubleshoot nova-next tagged attach test,NEW,2022-02-03 13:10:06.000000000,2022-02-07 11:52:02.000000000,,0,0,2,827661,89c9eb8e8415175e0b9a3a0a58caef4827a1b58a,13,1,1,1,9708,Balazs Gibizer,gibi,"DNM: troubleshoot nova-next tagged attach test

Depends-On: https://review.opendev.org/c/openstack/tempest/+/827659
Change-Id: I1973d5bb711a3898d7e21525723701fa9b88978a
Related-Bug: #1959899
"
openstack%2Fnova~master~I85183b36499ba93364c113c7746752d0178eb6d9,openstack/nova,master,bug/1943724,I85183b36499ba93364c113c7746752d0178eb6d9,DNM: trigger nova-next with new tempest test,NEW,2022-01-13 16:40:22.000000000,2022-02-07 11:51:13.000000000,,0,0,3,824607,e1cf58d6f383e85dfad68cad4ac70a1f7912ae00,35,1,2,1,9708,Balazs Gibizer,gibi,"DNM: trigger nova-next with new tempest test

Depends-On: https://review.opendev.org/c/openstack/tempest/+/809198
Change-Id: I85183b36499ba93364c113c7746752d0178eb6d9
"
openstack%2Fnova~master~I6903ce53b9b91325f7268cf2ebd02e4488579560,openstack/nova,master,bug/1958075,I6903ce53b9b91325f7268cf2ebd02e4488579560,Move ReaderWriterLock to the test tree,MERGED,2022-01-17 12:35:38.000000000,2022-02-07 11:49:51.000000000,2022-01-18 06:26:58.000000000,38,37,6,824931,a341851f15060efc2e6e30717339c47c015ed0b7,28,4,1,4,9708,Balazs Gibizer,gibi,"Move ReaderWriterLock to the test tree

The commit I168fffac8002f274a905cfd53ac4f6c9abe18803 added a wrapper
around fasteners.ReaderWriterLock to fix up an issue with eventlet. But
the wrapper was added to nova.utils module that is use not only by the
nova tests but also the nova production code. This made the fixture
library a dependency of the nova production code. While the current
ReaderWriterLock usage only limited to the nova test sub tree. The
I712f88fc1b6053fe6d1f13e708f3bd8874452a8f commit fix the issue of not
having fixtures in the nova requirements.txt. However I think a better
fix is to move the wrapper to the test subtree instead. This patch does
that and restores the state of the requirements.txt

Change-Id: I6903ce53b9b91325f7268cf2ebd02e4488579560
Related-Bug: #1958075
"
openstack%2Fpuppet-nova~stable%2Fwallaby~Iff9daf3d284c725d40ecfb85500d77951c3fefcd,openstack/puppet-nova,stable/wallaby,bug/1959601,Iff9daf3d284c725d40ecfb85500d77951c3fefcd,CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists,MERGED,2022-02-03 09:47:30.000000000,2022-02-07 11:17:40.000000000,2022-02-07 11:17:40.000000000,53,3,3,827631,5c8d68ab5e207ec1784ce4c1a9d29f778d4cfaf8,15,6,2,4,16312,Alfredo Moralejo,amoralej,"CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists

Last build of libvirt in CentOS9 has removed default config files in
/etc/sysconfig . This is making some file_line resources to fail as
the original files no longer exist.

This patch is creating empty files if the target files don't exist, so
that this is compatible with centos8 and centos9 (before and after
default config files removal).

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529

Closes-Bug: #1959601
Change-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd
(cherry picked from commit 99830f8a2d5f3f2b56ed4c050b36fd363c8911e6)
(cherry picked from commit b9398853358be5cb2075cdbb18eff8fd9e22b2dd)
"
openstack%2Foctavia-tempest-plugin~master~Ia1ecf95d269af2f6edbd562f31fb69c2cc884cf0,openstack/octavia-tempest-plugin,master,xena-stable-jobs,Ia1ecf95d269af2f6edbd562f31fb69c2cc884cf0,Add stable/xena jobs on master gate,MERGED,2022-01-19 01:43:55.000000000,2022-02-07 11:04:17.000000000,2022-02-07 10:58:45.000000000,35,34,11,825208,6b04038940d5b39539f55555c8bfe7f9d1646ccb,32,3,2,2,8556,Ghanshyam,ghanshyam,"Add stable/xena jobs on master gate

We have stable/xena released so we should add
their job on master gate to keep branchless tempest
plugins compatible to stable branch.

This also removes the stable/train job as that is in EM
state now.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Ia1ecf95d269af2f6edbd562f31fb69c2cc884cf0
"
openstack%2Fopenstack-ansible-os_gnocchi~master~Idaec9f48bb1c7aff926071979773bca97f9ef2b3,openstack/openstack-ansible-os_gnocchi,master,,Idaec9f48bb1c7aff926071979773bca97f9ef2b3,Remove apache to uwsgi migration tasks and variables,MERGED,2022-02-02 09:12:25.000000000,2022-02-07 10:31:24.000000000,2022-02-07 10:29:22.000000000,0,44,0,827439,24356495c324463b2911bc46ef5176754b43b66b,10,3,2,4,25023,Jonathan Rosser,jrosser,"Remove apache to uwsgi migration tasks and variables

Change-Id: Idaec9f48bb1c7aff926071979773bca97f9ef2b3
"
openstack%2Fnova~master~I44920f20213462a3abe743ccd38b356d6490a7b4,openstack/nova,master,docs,I44920f20213462a3abe743ccd38b356d6490a7b4,"docs: Follow-ups for cells v2, architecture docs",MERGED,2022-02-01 18:32:50.000000000,2022-02-07 10:29:41.000000000,2022-02-07 10:27:51.000000000,103,114,17,827336,136f1deb6ec312c1ddd6a1356e2e2dbf6290a2e4,26,4,3,5,15334,Stephen Finucane,sfinucan,"docs: Follow-ups for cells v2, architecture docs

Based on review feedback on [1] and [2].

[1] If39db50fd8b109a5a13dec70f8030f3663555065
[2] I518bb5d586b159b4796fb6139351ba423bc19639

Change-Id: I44920f20213462a3abe743ccd38b356d6490a7b4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fpuppet-nova~stable%2Fxena~Iff9daf3d284c725d40ecfb85500d77951c3fefcd,openstack/puppet-nova,stable/xena,bug/1959601,Iff9daf3d284c725d40ecfb85500d77951c3fefcd,CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists,MERGED,2022-02-02 23:05:50.000000000,2022-02-07 10:24:02.000000000,2022-02-07 10:24:02.000000000,53,3,2,827407,b9398853358be5cb2075cdbb18eff8fd9e22b2dd,13,8,1,4,9816,Takashi Kajinami,kajinamit,"CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists

Last build of libvirt in CentOS9 has removed default config files in
/etc/sysconfig . This is making some file_line resources to fail as
the original files no longer exist.

This patch is creating empty files if the target files don't exist, so
that this is compatible with centos8 and centos9 (before and after
default config files removal).

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529

Closes-Bug: #1959601
Change-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd
(cherry picked from commit 99830f8a2d5f3f2b56ed4c050b36fd363c8911e6)
"
openstack%2Freleases~master~Ic06f0a9e70386de2e0a1a757c72a1f4cdbdd2d19,openstack/releases,master,manila,Ic06f0a9e70386de2e0a1a757c72a1f4cdbdd2d19,Add release liaisons for manila,MERGED,2022-01-26 16:13:59.000000000,2022-02-07 10:21:31.000000000,2022-02-07 10:21:31.000000000,6,0,1,826496,8ba936119404943a60915ff00a60c78fb46488bf,9,7,1,1,16643,Goutham Pacha Ravi,gouthamr,"Add release liaisons for manila

A couple of other maintainers can help propose
and review releases.

Change-Id: Ic06f0a9e70386de2e0a1a757c72a1f4cdbdd2d19
"
openstack%2Freleases~master~If10337ef96594c5432a82d35a64a457446b8a246,openstack/releases,master,oslo-victoria,If10337ef96594c5432a82d35a64a457446b8a246,[victoria] release oslo deliverables,MERGED,2022-02-03 14:18:14.000000000,2022-02-07 10:16:33.000000000,2022-02-07 10:16:33.000000000,4,0,1,827672,295a157c246220e99918a8dcc8c66e3d8ae4570a,8,4,1,1,28522,Hervé Beraud,hberaud,"[victoria] release oslo deliverables

Change-Id: If10337ef96594c5432a82d35a64a457446b8a246
"
openstack%2Freleases~master~I2eb663d659d180566b1ad9e54844584d9c75fcb9,openstack/releases,master,ironic-xena-1821,I2eb663d659d180566b1ad9e54844584d9c75fcb9,Release ironic 18.2.1 for xena,MERGED,2022-01-25 08:33:12.000000000,2022-02-07 10:16:30.000000000,2022-02-07 10:16:30.000000000,4,0,3,826254,5e8436ae019d11c2e49624d1304b35c5de984b2f,11,5,1,1,23851,Riccardo Pittau,elfosardo,"Release ironic 18.2.1 for xena

Change-Id: I2eb663d659d180566b1ad9e54844584d9c75fcb9
"
openstack%2Freleases~master~I431930ef1ca69a324898acc36d6b4c30fa892e44,openstack/releases,master,oslo-xena,I431930ef1ca69a324898acc36d6b4c30fa892e44,[xena] release oslo deliverables,MERGED,2022-02-03 14:22:27.000000000,2022-02-07 10:16:28.000000000,2022-02-07 10:16:28.000000000,8,0,2,827675,8c866a0ec436c7fbb19012ca29422737365e3997,10,4,1,2,28522,Hervé Beraud,hberaud,"[xena] release oslo deliverables

Change-Id: I431930ef1ca69a324898acc36d6b4c30fa892e44
"
openstack%2Fceilometer~master~I93b6e92a5f46de5486f30a99fa3917a5932f7360,openstack/ceilometer,master,nova-meta-versions,I93b6e92a5f46de5486f30a99fa3917a5932f7360,Support two nova metadata versions in instance XML,MERGED,2022-01-10 12:33:35.000000000,2022-02-07 09:55:58.000000000,2022-02-07 09:54:23.000000000,36,11,8,823976,2fc72043d31af7acd45f918eeb290d9d7564d168,15,4,2,2,9542,Pavlo Shchelokovskyy,pshchelo,"Support two nova metadata versions in instance XML

this is followup to I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981

In order to support discovery of instances booted before Wallaby,
ceilometer must support working with both 1.0 (old, Victoria and before)
and 1.1 (new, Wallaby and for now newer) versions of nova metadata.

Change-Id: I93b6e92a5f46de5486f30a99fa3917a5932f7360
Related-Bug: #1930446
"
openstack%2Fhorizon~master~I5a389e5fd04ff07cd0821712a56a319e21d91891,openstack/horizon,master,,I5a389e5fd04ff07cd0821712a56a319e21d91891,Make stack template page handle session expiration,MERGED,2021-11-24 15:24:39.000000000,2022-02-07 09:51:26.000000000,2022-02-07 05:58:11.000000000,5,0,3,819124,0bba95f190594120c21b8aac1852f113eb902ea6,20,4,3,1,27838,Vadym Markov,vmarkov,"Make stack template page handle session expiration

Currently, stack template diagram ignores user session timeout and
silently tries to update diagram data getting 401 response for the every
request. Proposed patch redirects to logout if Heat API returns 401 or 403

Closes-Bug: #1952112
Change-Id: I5a389e5fd04ff07cd0821712a56a319e21d91891
"
openstack%2Fcharm-barbican-vault~master~Icf3da0aa6e1820b10f211eb5ab779ff5d3d3f394,openstack/charm-barbican-vault,master,charmhub-migration-master,Icf3da0aa6e1820b10f211eb5ab779ff5d3d3f394,Update to build using charmcraft,MERGED,2022-01-26 12:08:25.000000000,2022-02-07 09:45:35.000000000,2022-02-07 09:45:35.000000000,165,636,3,826450,c3718862fe8b6388fb861574df671bb384ce4f6e,20,4,3,23,20870,Alex Kavanagh,ajkavanagh,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: Icf3da0aa6e1820b10f211eb5ab779ff5d3d3f394
"
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fvictoria~I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b,openstack/openstack-ansible-lxc_container_create,stable/victoria,osa/remove-centos8,I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b,Remove legacy centos-8 jobs,MERGED,2022-02-07 07:45:32.000000000,2022-02-07 09:34:55.000000000,2022-02-07 09:30:04.000000000,0,18,0,827960,ca18916930b05575e44279d8a11e08345f9581f4,10,3,1,2,25023,Jonathan Rosser,jrosser,"Remove legacy centos-8 jobs

Change-Id: I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b
(cherry picked from commit e68754dc009059f9dc7fdd394eef327082ca384a)
"
openstack%2Freleases~master~I4264e264e5160eb6fbcca5807afbeef39c8d197f,openstack/releases,master,victoria-stable,I4264e264e5160eb6fbcca5807afbeef39c8d197f,Release trove for stable/victoria,MERGED,2022-01-21 15:47:45.000000000,2022-02-07 09:29:04.000000000,2022-02-07 09:29:04.000000000,4,0,3,825827,ab94a54bd801179b3b669d5c0b50bf06ecca6f94,14,4,2,1,17685,Elod Illes,elod.illes,"Release trove for stable/victoria

This release picks up new commits to trove since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I4264e264e5160eb6fbcca5807afbeef39c8d197f
"
openstack%2Fcyborg~master~Ib7ab4565dc3f1b1fc0ca4330884d75dec0817b3b,openstack/cyborg,master,,Ib7ab4565dc3f1b1fc0ca4330884d75dec0817b3b,Add ut for placement API,NEW,2021-04-08 08:22:51.000000000,2022-02-07 09:27:50.000000000,,37,0,4,785340,0a1864573e249121caf5403a09472ee2e122042c,5,3,2,1,31412,Wenping Song,songwenping,"Add ut for placement API

Add Placement get API ut

Change-Id: Ib7ab4565dc3f1b1fc0ca4330884d75dec0817b3b
"
openstack%2Frequirements~stable%2Fvictoria~I96bc4d745e6846961573ffd7c7326aa7f725ef2e,openstack/requirements,stable/victoria,,I96bc4d745e6846961573ffd7c7326aa7f725ef2e,Bump pyroute2 version to 0.6.5,ABANDONED,2022-02-07 09:00:44.000000000,2022-02-07 09:26:54.000000000,,8,1,0,828090,14908261b2eb0632d481df910266f078e8bd5c60,3,0,1,1,6773,Lucas Alvares Gomes,lucasagomes,"Bump pyroute2 version to 0.6.5

The version 0.5.14 of pyroute2 has a memory leak problem [0] in its NDB
module which causes services using it to be killed by the OOM killer.
Bumping the pyroute2 version to 0.6.5 fixes the problem and matches the
pyroute2 version used in stable/xena.

[0] https://github.com/svinota/pyroute2/issues/789

Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I96bc4d745e6846961573ffd7c7326aa7f725ef2e
"
openstack%2Fglance~master~I060d8247c7b09f63990ea411e6c6a056bb50410d,openstack/glance,master,fips-compatibility,I060d8247c7b09f63990ea411e6c6a056bb50410d,Add fips check jobs,MERGED,2021-05-11 00:51:46.000000000,2022-02-07 09:22:48.000000000,2022-02-07 09:18:00.000000000,44,4,37,790536,0f13754f84919ce095cd6962e4b369c926738b77,156,7,37,3,9914,Ade Lee,alee,"Add fips check jobs

Some jobs have been modified to run to confirm that functionality is
still working when FIPS is enabled on the nodes.

As the FIPS tests currently run on centos nodes, code is added
to the test-setup script to set up the databases correctly.  Also had
to increase the swap space on the nodes; see [0] for an explanation.

The current FIPS jobs run using python 3.6 on centos-8-stream.  We will
modify these to run on centos-9-stream and python 3.9 in a
subsequent patch.

[0] https://review.opendev.org/c/openstack/devstack/+/803706

Change-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d
"
openstack%2Fopenstack-ansible-plugins~master~Iacfa3ac92aba39e75934f3cf0814fc4cff20d262,openstack/openstack-ansible-plugins,master,,Iacfa3ac92aba39e75934f3cf0814fc4cff20d262,Convert infra-journal-remote playbook to role,MERGED,2022-01-14 16:36:59.000000000,2022-02-07 09:13:49.000000000,2022-02-07 09:12:22.000000000,271,0,0,824731,9bfa2597ed341e94edd76f9a891a76cc0db3fc53,8,3,1,8,28619,Dmitriy Rabotyagov,noonedeadpunk,"Convert infra-journal-remote playbook to role

This creates a role that can be re-usable outside of the OSA
and distributed now as collection instead of the playbook
infra-journal-remote.yml that was handling all tasks and logic.

This also adds some features like being able to provide multiple
destinations for journal and makes things more configurable.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/816531
Change-Id: Iacfa3ac92aba39e75934f3cf0814fc4cff20d262
"
openstack%2Fcharm-manila~master~I7e48c6515f48e77a4045bc5f899e8ca963e1671a,openstack/charm-manila,master,charmhub-migration-master,I7e48c6515f48e77a4045bc5f899e8ca963e1671a,Update to build using charmcraft,MERGED,2022-02-01 20:23:11.000000000,2022-02-07 08:46:18.000000000,2022-02-07 08:46:18.000000000,84,8,1,827356,9f3caabb33c93fe0dabf03540a6ce600712936e4,7,3,1,12,20870,Alex Kavanagh,ajkavanagh,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I7e48c6515f48e77a4045bc5f899e8ca963e1671a
"
openstack%2Fceilometermiddleware~master~Iafa5424d5c337226f5795f6e79b530f4e8b499e2,openstack/ceilometermiddleware,master,,Iafa5424d5c337226f5795f6e79b530f4e8b499e2,setup.cfg: Replace dashes with underscores,MERGED,2021-04-26 06:52:34.000000000,2022-02-07 08:40:02.000000000,2022-02-07 08:34:46.000000000,4,4,0,787920,f588aba8b51e5b4d498821b1e795f2f33f4773ad,8,3,1,1,30092,Xuan Yandong,xuanyandong,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: Iafa5424d5c337226f5795f6e79b530f4e8b499e2
"
openstack%2Fceilometermiddleware~stable%2Fxena~I7e395355cb008486fff1b1683364bad9e0e14980,openstack/ceilometermiddleware,stable/xena,add-xena-python-jobtemplates-stable/xena,I7e395355cb008486fff1b1683364bad9e0e14980,Add Python3 xena unit tests,MERGED,2022-02-06 12:03:59.000000000,2022-02-07 08:39:03.000000000,2022-02-07 08:34:45.000000000,1,1,0,827951,2f651b1e4652ccdadc9b2e6057957af0b48d143a,7,2,1,1,9816,Takashi Kajinami,kajinamit,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I7e395355cb008486fff1b1683364bad9e0e14980
(cherry picked from commit 335ea3f0b59a3e0531e94cfb677b3f82dd60aa80)
"
openstack%2Fpython-aodhclient~master~I26a2474826a83750f3b5546c0688cb282d780324,openstack/python-aodhclient,master,reno-xena,I26a2474826a83750f3b5546c0688cb282d780324,Update master for stable/xena,MERGED,2021-09-17 16:43:30.000000000,2022-02-07 08:28:02.000000000,2022-02-07 08:26:24.000000000,7,0,0,809849,bc7a4834db9e26c855be35c6826b62a60897b9fe,9,4,1,2,22816,OpenStack Release Bot,release,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I26a2474826a83750f3b5546c0688cb282d780324
"
openstack%2Fceilometermiddleware~master~If3069c1711dfda9ab19bf15c335c09db566bf3c1,openstack/ceilometermiddleware,master,add-yoga-python-jobtemplates,If3069c1711dfda9ab19bf15c335c09db566bf3c1,Add Python3 yoga unit tests,MERGED,2022-02-06 12:09:15.000000000,2022-02-07 08:21:21.000000000,2022-02-07 08:17:24.000000000,1,1,0,828027,acdfd6b04aefb5f70698dc72a6528f247d4f3a40,7,2,1,1,9816,Takashi Kajinami,kajinamit,"Add Python3 yoga unit tests

This is a patch to ensure unit testing is in place for all the of
the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

This patch is manually created, because the previous patch was not
merged before Xena release and release bot didn't create the automated
patch at that time.

Change-Id: If3069c1711dfda9ab19bf15c335c09db566bf3c1
"
openstack%2Fpython-aodhclient~stable%2Fxena~I55c5a8568ccd93e504120365d4d2f3107cf0aa06,openstack/python-aodhclient,stable/xena,add-xena-python-jobtemplates-stable/xena,I55c5a8568ccd93e504120365d4d2f3107cf0aa06,Add Python3 xena unit tests,MERGED,2022-02-06 12:04:21.000000000,2022-02-07 07:59:16.000000000,2022-02-07 07:55:00.000000000,1,1,0,827952,2aafc2729e5920fedfe9cef238a5904d60756c6a,7,2,1,1,9816,Takashi Kajinami,kajinamit,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I55c5a8568ccd93e504120365d4d2f3107cf0aa06
(cherry picked from commit 60df9b4035a40cfd1071731a966e99789e624dea)
"
openstack%2Fpython-aodhclient~master~I902f342800d6ea7dda3eff2a10f7c9dd54fa6151,openstack/python-aodhclient,master,add-yoga-python-jobtemplates,I902f342800d6ea7dda3eff2a10f7c9dd54fa6151,Add Python3 yoga unit tests,MERGED,2022-02-06 12:10:37.000000000,2022-02-07 07:59:08.000000000,2022-02-07 07:54:59.000000000,1,1,0,828028,d978eb75d129b9f2c9608341fc60ccc5d0aaa164,7,2,1,1,9816,Takashi Kajinami,kajinamit,"Add Python3 yoga unit tests

This is a patch to ensure unit testing is in place for all the of
the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

This patch is manually created, because the previous patch was not
merged before Xena release and release bot didn't create the automated
patch at that time.

Change-Id: I902f342800d6ea7dda3eff2a10f7c9dd54fa6151
"
openstack%2Fpython-mistralclient~master~Ie1e63254166a10f7c46187b57a5f80bbb0261ed0,openstack/python-mistralclient,master,,Ie1e63254166a10f7c46187b57a5f80bbb0261ed0,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-07 07:49:15.000000000,2022-02-07 07:52:37.000000000,,4,4,0,828082,fcb8ecb5b284ceca27d79b27e01d00d38f62c529,2,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ie1e63254166a10f7c46187b57a5f80bbb0261ed0
"
openstack%2Ftelemetry-tempest-plugin~master~I415bf77ae1bb7ff9360d74b827593ddfb016676e,openstack/telemetry-tempest-plugin,master,,I415bf77ae1bb7ff9360d74b827593ddfb016676e,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-07 07:50:22.000000000,2022-02-07 07:51:05.000000000,,4,4,0,828083,e188e0e64b7821cff38fd98894171ff0cd601b2f,2,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I415bf77ae1bb7ff9360d74b827593ddfb016676e
"
openstack%2Fceilometermiddleware~master~I366b1816ee9e77fd2a4ad74fa13cc02989475004,openstack/ceilometermiddleware,master,,I366b1816ee9e77fd2a4ad74fa13cc02989475004,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-07 07:43:40.000000000,2022-02-07 07:44:03.000000000,,4,4,0,828079,13e84654914b21e2092b448cc27142e878545feb,2,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I366b1816ee9e77fd2a4ad74fa13cc02989475004
"
openstack%2Ftripleo-common~master~Ied7c791327bce204e452a166a57628d0d1809349,openstack/tripleo-common,master,pmu,Ied7c791327bce204e452a166a57628d0d1809349,Skip pmu for now,ABANDONED,2021-09-27 14:04:51.000000000,2022-02-07 07:42:39.000000000,,0,1,0,811138,dcb35924a85a4f8ec568c8dfe023f4e9087ea008,7,4,1,1,4264,Matthias Runge,mrunge,"Skip pmu for now

it misses a dependency

Change-Id: Ied7c791327bce204e452a166a57628d0d1809349
"
openstack%2Fsecurity-specs~master~Ifba5759507c4aa73415052458ead08f831b057ce,openstack/security-specs,master,retire-repo,Ifba5759507c4aa73415052458ead08f831b057ce,Retire security-specs repo,MERGED,2022-01-31 21:07:01.000000000,2022-02-07 07:39:01.000000000,2022-02-07 07:39:01.000000000,8,1221,1,827177,f8c36fa51873159fb8f0b4b1e89bcd2df0460588,9,3,1,21,21420,Gage Hugo,ghugo,"Retire security-specs repo

This change removes the content from the security-specs repo
as part of the process to retire the repo.

Step 2 as defined in the guide[0].

[0] https://docs.opendev.org/opendev/infra-manual/latest/drivers.html#retiring-a-project

Change-Id: Ifba5759507c4aa73415052458ead08f831b057ce
"
openstack%2Freleases~master~I4a96f0cb79547b2d65abcb606472ea41b21c9ad6,openstack/releases,master,pbr-5.8.1,I4a96f0cb79547b2d65abcb606472ea41b21c9ad6,Release PBR 5.8.1,MERGED,2022-02-05 19:57:02.000000000,2022-02-07 07:37:12.000000000,2022-02-07 07:37:12.000000000,4,0,2,828016,a5f44dac22229fc19cd8b405f1e791304cfe4019,10,4,1,1,5263,Jeremy Stanley,fungi,"Release PBR 5.8.1

This releases PBR 5.8.1 fixing a regression which caused pbr.json
metadata files not to be included in packages built with the
previous version.

Change-Id: I4a96f0cb79547b2d65abcb606472ea41b21c9ad6
"
openstack%2Fproject-config~master~I752f9adcf34c15eefc4524c3933e4e493be883a4,openstack/project-config,master,retire-security-specs,I752f9adcf34c15eefc4524c3933e4e493be883a4,Retire security-specs repo,MERGED,2022-01-19 21:04:36.000000000,2022-02-07 07:34:26.000000000,2022-02-07 07:34:26.000000000,1,0,5,825401,f8df49c2338882cfa75565528173e06c727701cb,18,3,3,1,21420,Gage Hugo,ghugo,"Retire security-specs repo

The security-specs repo is slated for retirement[0] as per the
security-sig. This change is part of the step to end project
gating for the repo.

[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026323.html

Change-Id: I752f9adcf34c15eefc4524c3933e4e493be883a4
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I8ee338c3f3e20f1826d98efb38d3b21fefda5031,openstack/tripleo-heat-templates,stable/wallaby,bug/1959726-stable/wallaby,I8ee338c3f3e20f1826d98efb38d3b21fefda5031,Add parameter IronicIPXEUefiSnpOnly,MERGED,2022-02-05 04:06:42.000000000,2022-02-07 07:24:45.000000000,2022-02-07 07:23:29.000000000,21,0,0,827907,dea0c72b56ee581273d7330ccc373bb3c670e1b3,11,4,2,2,24245,Harald Jensås,harald.jensas,"Add parameter IronicIPXEUefiSnpOnly

Add new parameter IronicIPXEUefiSnpOnly (default: true).
When `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi
is used.

'snponly.efi' is the default in puppet-ironic master branch, however
in Wallaby and earlier releases 'ipxe.efi' is the default. Since
'ipxe.efi' is not compatible with a lot of hardware TripleO should
change this default.

Conflicts:
  deployment/ironic/ironic-conductor-container-puppet.yaml

Related: RHBZ#2049179
Closes-Bug: 1959726
Change-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031
(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)
"
openstack%2Fdevstack~master~I3009a9aced3c588142aef673e26c5b0811bd89b8,openstack/devstack,master,f35,I3009a9aced3c588142aef673e26c5b0811bd89b8,Test F35 without horizon,ABANDONED,2022-02-03 15:40:24.000000000,2022-02-07 06:58:21.000000000,,2,49,5,827699,eb8a32f73eaeb46b068f98efa9104ad624e40c55,9,1,1,1,13252,Dr. Jens Harbott,jrosenboom,"Test F35 without horizon

We know horizon is broken with py3.10, let's see what else we've got.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I3009a9aced3c588142aef673e26c5b0811bd89b8
"
openstack%2Fdevstack~stable%2Fxena~I947022db335f30756bad5eeec943b9e84b0b31aa,openstack/devstack,stable/xena,,I947022db335f30756bad5eeec943b9e84b0b31aa,Remove Fedora testing from stable branch,MERGED,2022-02-03 00:27:58.000000000,2022-02-07 06:55:14.000000000,2022-02-07 06:51:21.000000000,0,32,1,827578,381cf373ab44a98bd31e4b2bbfc17cc4047d8281,8,3,1,1,7118,Ian Wienand,iwienand,"Remove Fedora testing from stable branch

Fedora tests are maintained on master branch only

Change-Id: I947022db335f30756bad5eeec943b9e84b0b31aa
"
openstack%2Fpuppet-neutron~master~I141405a16a85e262b0c3427558fc59a48a5a6190,openstack/puppet-neutron,master,rp,I141405a16a85e262b0c3427558fc59a48a5a6190,Add support for the resource_provider_inventory_defaults parameters,MERGED,2022-02-04 06:13:15.000000000,2022-02-07 06:02:34.000000000,2022-02-07 06:01:16.000000000,84,1,1,827801,a6cc96f09860732b5753d84e0feed1b27b9f5351,14,3,3,5,9816,Takashi Kajinami,kajinamit,"Add support for the resource_provider_inventory_defaults parameters

This change introduces support of the following two parameters.

[ovs] resource_provider_inventory_defaults
[sriov_nic] resource_provider_inventory_defaults

Change-Id: I141405a16a85e262b0c3427558fc59a48a5a6190
"
openstack%2Ftacker~master~I2380ee72d058ec3cac93f941fda602cf8b0aadd7,openstack/tacker,master,refactoring,I2380ee72d058ec3cac93f941fda602cf8b0aadd7,[WIP] Refactor v1 LCM operation,ABANDONED,2021-11-15 04:40:33.000000000,2022-02-07 05:18:31.000000000,,309,339,2,817893,1a7375c6ad2842e1d00f06cd788cd50d41b73095,19,1,5,8,33455,Hiromu Asahina,h_asahina,"[WIP] Refactor v1 LCM operation

In the current codes about LCM operation, there are some codes that are
hard to trace, which can cause an additional error and makes bug-fixing
a time-consuming task.

This patch refactors parts of these codes such as implicit arguments,
definitions in an inappropriate place, confusing variable names,
unnecessary dependencies, inappropriate ``else`` use, unused variables,
and redundant functions, though the tip of the iceberg.  In addition,
this patch refactor tests such as tests that take too much time, and
tests that cannot run correctly in places other than the root
directory.

The details of the refactoring are listed below.

- controller.py:VnfLcmController._notification_process (implicit
  arguments)

  Better to explicitly specify the operation_state and
  notification_state

- conductor_server.py:constants (inappropriate definition place)

  A group of constants should be declared in constants.py

- conductor_server.py:Conductor._change_vnf_status (confusing variable
  names)

  The variable name `current_status` is confusing. It is a condition
  indicating the state to which is allowed to transition to the next
  state.

- conductor_server.py:Conductor._send_lcm_op_occ_notification
  (confusing variable names)

  The variable name `vnf_notif` is confusing. This is just a
  `VnfLcmOpOcc`

- conductor_server.py:Conductor._get_vnf_notify (redundant functions)

- conductor_server.py:Conductor._send_lcm_op_occ_notification (implicit
  arguments)

  Better to explicitly specify the operation_state and operation

- conductor_server.py:Conductor.instantiate (unnecessary dependencies)

  The error points should be updated by vnflcm_driver.

- vnfm_db.py (other)

  Explicitly import Vim table. Due to the dependency from vnfm_db to
  nfvo_db, if we import vnfm_db before importing nfvo_db, an error
  happens, which is not explicitly indicated.

- vnfm_db.py:VNFMPluginDb._update_vnf_scaling (unnecessary
  dependencies)
- vnfm_db.py:VNFMPluginDb._update_vnf_rollback (unnecessary
  dependencies)

  Implecitly saving these two objects: vnf_instance and vnf_lcm_op_occ
  looks not good idea. The parent methods calling this method should
  save them.

- vnfm_db.py:VNFMPluginDb.update_vnf_rollback_status_err (inappropriate
  ``else`` use)
- vnfm_db.py:VNFMPluginDb._update_vnf_rollback_pre (inappropriate
  ``else`` use)
- vnfm_db.py:VNFMPluginDb._update_vnf_rollback (inappropriate ``else``
  use)

  Looks redundant.

-
  test_conductor_server:TestConductor.test_terminate_vnf_instance_exception
  (other)

  Improved side effect usage.

- test_conductor_server:TestConductor.test_send_notification_timeout
  (tests that take too long time)
- test_conductor_server:TestConductor.test_get_notification_retry
  (tests that take too long time)
- test_conductor_server:TestConductor.test_get_notification_timeout
  (tests that take too long time)

  Mocked timers by setting `retry_wait` 0 in time-consuming tests.

- utils.py (absolute test file paths)

  In the current implementation, a relative path from the project root
  is used. Due to this, it's not possible to run test in different
  place from the project root. Thus, this patch change it to relative
  paths from a test file.

- vnflcm_driver.py:VnfLcmDriver._scale_vnf_pre (unused variables)

  `scale_id_list` is not used

- vnflcm_driver.py:VnfLcmDriver._scale_vnf_pre (inappropriate ``else``
  use)

  Better to write ``elif scale_vnf_request.type == 'SCALE_OUT':``
  explicitly because all unknown request types are considered as
  'SCALE_OUT'

- vnflcm_driver.py:VnfLcmDriver._scale_vnf_post (unused variables)

  `id_list` is not used

- vnflcm_driver.py:VnfLcmDriver._scale_vnf (redundant functions)

  These two methods: `scale` and `_scale_vnf` can be merged. Since most
  LCM operation methods consist of a pair of a protected method and
  public method, e.g., `heal_vnf and _heal_vnf`, I merged
  ``_scale_vnf`` and ``scale`` and then renamed it to ``_scale_vnf``.

Change-Id: I2380ee72d058ec3cac93f941fda602cf8b0aadd7
"
openstack%2Fglance~master~I71be65ef7b8f710e9317419d7b38559b39f461b0,openstack/glance,master,remove-six,I71be65ef7b8f710e9317419d7b38559b39f461b0,Remove six.moves.urllib usage,MERGED,2021-12-22 16:14:34.000000000,2022-02-07 04:50:53.000000000,2022-02-07 04:49:15.000000000,24,23,1,822737,87ba56161b6e458b5dfb47c39ec09e279c3ac4b5,16,4,3,20,15334,Stephen Finucane,sfinucan,"Remove six.moves.urllib usage

Change-Id: I71be65ef7b8f710e9317419d7b38559b39f461b0
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpuppet-openstack-integration~master~I808c9e927d8f52f596292d3525d00d7429bb87e2,openstack/puppet-openstack-integration,master,,I808c9e927d8f52f596292d3525d00d7429bb87e2,Capture redis.conf,MERGED,2022-02-05 13:35:13.000000000,2022-02-07 04:39:48.000000000,2022-02-07 04:39:48.000000000,6,0,2,827948,7fa5072e280208b23975d7a58d97c3080e2e6ab5,12,3,2,1,9816,Takashi Kajinami,kajinamit,"Capture redis.conf

... so that we can check behavior of puppet-redis.

Change-Id: I808c9e927d8f52f596292d3525d00d7429bb87e2
"
openstack%2Fzaqar~master~I8669061e00fd929c24e62ce9fd4ba31aab63e0d4,openstack/zaqar,master,,I8669061e00fd929c24e62ce9fd4ba31aab63e0d4,[Part 10] Remove all usage of six library,MERGED,2020-10-15 09:39:19.000000000,2022-02-07 03:34:23.000000000,2022-02-07 03:32:44.000000000,8,9,2,758379,963ef01c6f253b365e6831eee4a00f7c9bcd12ea,14,2,2,6,17130,melissaml,malei,"[Part 10] Remove all usage of six library

We don't need this in a Python 3-only world.

Remove six in follows:
1. lower-constraints.txt
2. requirements.txt
3. zaqar/bench/observer.py
4. zaqar/common/api/api.py
5. zaqar/common/api/request.py
6. zaqar/common/api/response.py
7. zaqar/common/pipeline.py
8. zaqar/common/storage/select.py

Change-Id: I8669061e00fd929c24e62ce9fd4ba31aab63e0d4
"
openstack%2Fcharm-ceph-mon~master~Ifaac1f371119d7430b6274f9d299fbe0288bac43,openstack/charm-ceph-mon,master,,Ifaac1f371119d7430b6274f9d299fbe0288bac43,Fix typo in functional test definition,MERGED,2022-01-27 01:43:48.000000000,2022-02-07 02:54:22.000000000,2022-02-07 02:54:22.000000000,1,1,3,826570,1f1f4c78f4539302b8ee95efc5244842ff7bb26b,15,3,2,1,34352,Samuel Walladge,swalladge,"Fix typo in functional test definition

impist -> impish;
this should fix the functional tests for impish-xena.

Change-Id: Ifaac1f371119d7430b6274f9d299fbe0288bac43
"
openstack%2Ftripleo-puppet-elements~stable%2Fussuri~I835511b960df09bd05bd8aaf1695757f0b079c12,openstack/tripleo-puppet-elements,stable/ussuri,wallaby/fence-agents-stable/victoria-stable/ussuri,I835511b960df09bd05bd8aaf1695757f0b079c12,Only install required/supported fence agents,MERGED,2022-01-31 00:34:59.000000000,2022-02-07 02:52:49.000000000,2022-02-07 02:52:49.000000000,2,2,1,826849,92190ae5fc47b90020a3465a7196dd1ebfda19d4,10,2,1,1,25613,Keigo Noha,knoha,"Only install required/supported fence agents

Now that the hardened whole-disk image is the default, installing only
the required fence agents will avoid agents which depend on packages
which the openstack-secure element will delete (specifically, telnet).

Change-Id: I835511b960df09bd05bd8aaf1695757f0b079c12
Blueprint: whole-disk-default
(cherry picked from commit d11a7055603d414cd958e149ea167f7e51389a3a)
(cherry picked from commit 1f1605cd51b2ed38c06988634286fdff5d7247c3)
(cherry picked from commit c04cfea2412593322e88766fb08b2502fd800be0)
"
openstack%2Fcharm-glance~master~I0e037fd484a7a77b15095caa1f350e638410fcb6,openstack/charm-glance,master,charmhub-migration-master,I0e037fd484a7a77b15095caa1f350e638410fcb6,Migrate charm to charmhub latest/edge track,MERGED,2022-01-27 13:19:38.000000000,2022-02-07 02:43:14.000000000,2022-02-07 02:43:14.000000000,118,835,6,826660,3c32cab85585511558e25e50c12d8e1e1e6315eb,24,5,3,17,20870,Alex Kavanagh,ajkavanagh,"Migrate charm to charmhub latest/edge track

Change-Id: I0e037fd484a7a77b15095caa1f350e638410fcb6
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
"
openstack%2Felection~master~Id0c1109b9f1d71ad9048c31b322f7b2ac38a85d2,openstack/election,master,z-elections,Id0c1109b9f1d71ad9048c31b322f7b2ac38a85d2,Set up candidacy directories for Z elections,MERGED,2022-02-06 03:35:29.000000000,2022-02-07 01:16:27.000000000,2022-02-07 01:14:43.000000000,0,0,1,828021,c2f475b4e55c14cd3bc5867602eadb50768b3ced,7,2,1,50,8556,Ghanshyam,ghanshyam,"Set up candidacy directories for Z elections

This is the result of ""tox -evenv -- create-directories""
for the Z technical election. It exclude the projects
with DPL model which does not need PTL election.

Change-Id: Id0c1109b9f1d71ad9048c31b322f7b2ac38a85d2
"
openstack%2Fsenlin-dashboard~stable%2Fxena~I124531d9580fd8783b99307247574e1788261fb8,openstack/senlin-dashboard,stable/xena,create-xena,I124531d9580fd8783b99307247574e1788261fb8,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-17 14:39:38.000000000,2022-02-07 01:10:42.000000000,2022-02-07 01:08:07.000000000,2,2,6,809756,fc3ed3ec66dc31126329125983c58220f923b220,19,5,1,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I124531d9580fd8783b99307247574e1788261fb8
"
openstack%2Fsenlin-dashboard~stable%2Fxena~I8913f195c7e9174fde135a3cc66e1d657f38d3f4,openstack/senlin-dashboard,stable/xena,create-xena,I8913f195c7e9174fde135a3cc66e1d657f38d3f4,Update .gitreview for stable/xena,MERGED,2021-09-17 14:39:37.000000000,2022-02-07 01:09:19.000000000,2022-02-07 01:08:03.000000000,1,0,9,809755,8a559b852ecd5d2784458fc3fee4524f27346f6a,24,5,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/xena

Change-Id: I8913f195c7e9174fde135a3cc66e1d657f38d3f4
"
openstack%2Fzaqar-ui~master~I802b0e4b017d8a9b7501ee1bcfaa444a08aeea1b,openstack/zaqar-ui,master,,I802b0e4b017d8a9b7501ee1bcfaa444a08aeea1b,setup.cfg: Replace dashes by underscores,MERGED,2022-02-05 17:05:00.000000000,2022-02-07 01:03:55.000000000,2022-02-07 01:02:36.000000000,3,3,0,827998,d0dbfd41bdcb9e9eb0fe5cac86efab139b3091b0,8,2,2,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I802b0e4b017d8a9b7501ee1bcfaa444a08aeea1b
"
openstack%2Felection~master~Iaea37142ac34a4c83fe208d74097cb2210329ae9,openstack/election,master,z-elections,Iaea37142ac34a4c83fe208d74097cb2210329ae9,Setup dates for Z combined election,MERGED,2022-01-17 22:04:22.000000000,2022-02-07 00:21:52.000000000,2022-02-07 00:20:32.000000000,19,19,8,825017,4906439c85e8855c429250724b04f32cf9a89c09,25,9,4,1,8556,Ghanshyam,ghanshyam,"Setup dates for Z combined election

Z cycle is going to have combined election.

As per the TC charter:
- TC election needs to be held in between of R6 to R4 week of Yoga release
- PTL election needs to be held on or before R3 week.

Ref: https://governance.openstack.org/tc/reference/charter.html

Release dates:
If we combine both election schedule as per TC charter it comes as:
between R6 to R4 week:
R-6: Feb 18
R-4: Mar 11

Ref: https://releases.openstack.org/yoga/schedule.html
Change-Id: Iaea37142ac34a4c83fe208d74097cb2210329ae9
"
openstack%2Fswift~master~Ibd98ad3bdedc6c80d275a37697de0943e3e8fb4f,openstack/swift,master,p-fix-statsd-prefix,Ibd98ad3bdedc6c80d275a37697de0943e3e8fb4f,proxy-server: add stats for backend shard_listing requests,MERGED,2022-01-25 16:53:44.000000000,2022-02-06 22:39:32.000000000,2022-02-04 09:18:31.000000000,91,31,33,826326,114440487889ebcc58c010a4986c406adcb18f0c,39,3,6,2,7847,Alistair Coles,acoles,"proxy-server: add stats for backend shard_listing requests

Add statsd metrics 'container.shard_listing.backend.<status_int>'.

Change-Id: Ibd98ad3bdedc6c80d275a37697de0943e3e8fb4f
"
openstack%2Fpuppet-tripleo~master~I58e39004591dd05b3c6c26db75dcee891abdfe6c,openstack/puppet-tripleo,master,,I58e39004591dd05b3c6c26db75dcee891abdfe6c,DNM: Testing unit tests,ABANDONED,2022-01-27 03:46:16.000000000,2022-02-06 15:30:12.000000000,,1,0,0,826578,955f16cc3bf57334f6f7a1da5a0b70ff688de51b,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Testing unit tests

Depends-on: https://review.opendev.org/c/openstack/puppet-glance/+/826546
Change-Id: I58e39004591dd05b3c6c26db75dcee891abdfe6c
"
openstack%2Fpuppet-openstack-integration~master~Ib6322dd676b050ff27c01ec04e75b8032ad4578c,openstack/puppet-openstack-integration,master,,Ib6322dd676b050ff27c01ec04e75b8032ad4578c,DNM: Debugging API failure,ABANDONED,2021-08-31 14:32:54.000000000,2022-02-06 15:29:55.000000000,,2,1,0,806758,46dc4e0311e4a30fc8789f65d9b544253ce3fc16,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Debugging API failure

Depends-on: https://review.opendev.org/c/openstack/puppet-keystone/+/806474/
Change-Id: Ib6322dd676b050ff27c01ec04e75b8032ad4578c
"
openstack%2Fpuppet-openstack-integration~master~I4b22bd6841484f9ab55f83ddd61595875d1d7c04,openstack/puppet-openstack-integration,master,,I4b22bd6841484f9ab55f83ddd61595875d1d7c04,DNM: Use internal endpoint to access keystone,ABANDONED,2021-12-09 15:40:00.000000000,2022-02-06 15:28:39.000000000,,1,0,0,821234,8009f8614fd809eee2e3392b79887effa3b00faa,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Use internal endpoint to access keystone

Depends-on: https://review.opendev.org/821167
Change-Id: I4b22bd6841484f9ab55f83ddd61595875d1d7c04
"
openstack%2Fzaqar~master~I1bea33c07e454dd6c062546e095f4a1f14425845,openstack/zaqar,master,reno-xena,I1bea33c07e454dd6c062546e095f4a1f14425845,Update master for stable/xena,MERGED,2021-09-15 17:14:08.000000000,2022-02-06 13:39:58.000000000,2022-02-06 13:38:37.000000000,7,0,1,809255,0afdaa06eb93e3684da6fe7b588f720bd4b84368,11,2,1,2,22816,OpenStack Release Bot,release,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I1bea33c07e454dd6c062546e095f4a1f14425845
"
openstack%2Fceilometermiddleware~master~I7e395355cb008486fff1b1683364bad9e0e14980,openstack/ceilometermiddleware,master,add-xena-python-jobtemplates,I7e395355cb008486fff1b1683364bad9e0e14980,Add Python3 xena unit tests,MERGED,2021-03-12 12:30:42.000000000,2022-02-06 11:41:59.000000000,2022-02-06 11:38:49.000000000,1,1,2,780246,335ea3f0b59a3e0531e94cfb677b3f82dd60aa80,9,2,1,1,22816,OpenStack Release Bot,release,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I7e395355cb008486fff1b1683364bad9e0e14980
"
openstack%2Fpython-aodhclient~master~I55c5a8568ccd93e504120365d4d2f3107cf0aa06,openstack/python-aodhclient,master,add-xena-python-jobtemplates,I55c5a8568ccd93e504120365d4d2f3107cf0aa06,Add Python3 xena unit tests,MERGED,2021-03-12 12:39:48.000000000,2022-02-06 10:58:28.000000000,2022-02-06 10:55:17.000000000,1,1,2,780250,60df9b4035a40cfd1071731a966e99789e624dea,14,3,1,1,22816,OpenStack Release Bot,release,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I55c5a8568ccd93e504120365d4d2f3107cf0aa06
"
openstack%2Fdesignate~master~I5d566588be66e9ed0df9484e36504a69b4f4b5a9,openstack/designate,master,,I5d566588be66e9ed0df9484e36504a69b4f4b5a9,Updated status logic to always NOTIFY on change,MERGED,2022-01-06 05:50:23.000000000,2022-02-06 10:08:43.000000000,2022-02-06 10:07:18.000000000,288,108,12,823624,3c495ed76dae17a0d74d4afe5b666f6068cafa47,52,3,21,9,22623,Erik Olof Gunnar Andersson,eoandersson,"Updated status logic to always NOTIFY on change

In this patch we revise the workflow after the zone api has
finished updating the upstream dns servers after a change. The goal
is to fix issues with actions that would overwrite other actions,
potentially causing zone change notifications to not be sent in a
timely manner.

Additional changes.
- Changed update_status method args
- Improved unit test coverage of multiple code paths.

Change-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9
"
openstack%2Fpuppet-openstack-integration~master~I993ce7a4870dc84745e391872b6165bfdbc56053,openstack/puppet-openstack-integration,master,gnocchi-swift,I993ce7a4870dc84745e391872b6165bfdbc56053,Enable Telemetry service in scenario002,MERGED,2022-01-22 14:16:39.000000000,2022-02-06 08:52:31.000000000,2022-02-06 08:52:31.000000000,68,14,7,825929,558ab6a54a71f37e5c4d32f8bb84c502011d052c,49,3,16,3,9816,Takashi Kajinami,kajinamit,"Enable Telemetry service in scenario002

... to test usage of Swift backend in Gnocchi.

Change-Id: I993ce7a4870dc84745e391872b6165bfdbc56053
"
openstack%2Fmanila-tempest-plugin~master~I14481f5a63990fb6f44dd5dcb40d24b74862a98f,openstack/manila-tempest-plugin,master,,I14481f5a63990fb6f44dd5dcb40d24b74862a98f,Force create snapshot for invalid share,NEW,2022-01-07 07:36:51.000000000,2022-02-06 08:00:31.000000000,,24,0,12,823774,69fcf8fea13a2b5609348fe5e530f7b01d28dd0b,39,4,9,1,31280,lkk,likangkang,"Force create snapshot for invalid share

Source share status must be available when create snapshot

Change-Id: I14481f5a63990fb6f44dd5dcb40d24b74862a98f
"
openstack%2Foslo-cookiecutter~master~I22b98e7235c221e44c2b13a25f30f3bd18e53ba5,openstack/oslo-cookiecutter,master,,I22b98e7235c221e44c2b13a25f30f3bd18e53ba5,Drop lower constraints testing,ABANDONED,2022-02-06 05:49:09.000000000,2022-02-06 05:50:40.000000000,,1,14,0,828023,33f6ab315918764f18fda043bc945bad2a0871bd,3,0,2,3,9816,Takashi Kajinami,kajinamit,"Drop lower constraints testing

The lower constraints testing was removed from the repositories managed
by the Oslo project. This change removes that test from cookiecutter
as well.

Change-Id: I22b98e7235c221e44c2b13a25f30f3bd18e53ba5
"
openstack%2Ftempest~master~I76e15b6b52bb44fec550ead510186c644c4a1c7f,openstack/tempest,master,bug/1959467,I76e15b6b52bb44fec550ead510186c644c4a1c7f,Fix TypeError in QoSBandwidthAndPacketRateTests,MERGED,2022-02-01 09:53:39.000000000,2022-02-06 01:52:46.000000000,2022-02-02 09:44:54.000000000,2,1,14,827258,115065a239a8e1ab50b6070a3c6ebfeabd0ad6fc,29,11,3,2,13861,yatin,yatinkarel,"Fix TypeError in QoSBandwidthAndPacketRateTests

[1] Added random int to flavor name but that resulted into
TypeError: can only concatenate str (not ""int"") to str.

Concatenate using % operator to fix it.

Also make tempest-full-ussuri-py3 job non-voting temporary
to unblock gate, can be reverted once [2] is fixed.

[1] https://review.opendev.org/c/openstack/tempest/+/826946
[2] https://launchpad.net/bugs/1959600

Related-Bug: #1959467
Change-Id: I76e15b6b52bb44fec550ead510186c644c4a1c7f
"
openstack%2Fcinder~stable%2Fwallaby~Iaf149dadad5791e81a3c0efd089d0ee66a1a5614,openstack/cinder,stable/wallaby,detach-vol-status,Iaf149dadad5791e81a3c0efd089d0ee66a1a5614,Fix: Race between attachment and volume deletion,MERGED,2021-11-23 11:52:30.000000000,2022-02-06 00:55:41.000000000,2022-02-06 00:54:09.000000000,127,113,5,818886,7210c914c4ee08a06e6ec00e9a861b977d794ec8,48,4,2,8,9535,Gorka Eguileor,Gorka,"Fix: Race between attachment and volume deletion

There are cases where requests to delete an attachment made by Nova can
race other third-party requests to delete the overall volume.

This has been observed when running cinder-csi, where it first requests
that Nova detaches a volume before itself requesting that the overall
volume is deleted once it becomes `available`.

This is a cinder race condition, and like most race conditions is not
simple to explain.

Some context on the issue:

- Cinder API uses the volume ""status"" field as a locking mechanism to
  prevent concurrent request processing on the same volume.

- Most cinder operations are asynchronous, so the API returns before the
  operation has been completed by the cinder-volume service, but the
  attachment operations such as creating/updating/deleting an attachment
  are synchronous, so the API only returns to the caller after the
  cinder-volume service has completed the operation.

- Our current code **incorrectly** modifies the status of the volume
  both on the cinder-volume and the cinder-api services on the
  attachment delete operation.

The actual set of events that leads to the issue reported in this bug
are:

[Cinder-CSI]
- Requests Nova to detach volume (Request R1)

[Nova]
- R1: Asks cinder-api to delete the attachment and **waits**

[Cinder-API]
- R1: Checks the status of the volume
- R1: Sends terminate connection request (R1) to cinder-volume and
  **waits**

[Cinder-Volume]
- R1: Ask the driver to terminate the connection
- R1: The driver asks the backend to unmap and unexport the volume
- R1: The last attachment is removed from the DB and the status of the
      volume is changed in the DB to ""available""

[Cinder-CSI]
- Checks that there are no attachments in the volume and asks Cinder to
  delete it (Request R2)

[Cinder-API]

- R2: Check that the volume's status is valid. It doesn't have
  attachments and is available, so it can be deleted.
- R2: Tell cinder-volume to delete the volume and return immediately.

[Cinder-Volume]
- R2: Volume is deleted and DB entry is deleted
- R1: Finish the termination of the connection

[Cinder-API]
- R1: Now that cinder-volume has finished the termination the code
  continues
- R1: Try to modify the volume in the DB
- R1: DB layer raises VolumeNotFound since the volume has been deleted
  from the DB
- R1: VolumeNotFound is converted to HTTP 404 status code which is
  returned to Nova

[Nova]
- R1: Cinder responds with 404 on the attachment delete request
- R1: Nova leaves the volume as attached, since the attachment delete
  failed

At this point the Cinder and Nova DBs are out of sync, because Nova
thinks that the attachment is connected and Cinder has detached the
volume and even deleted it.

Hardening is also being done on the Nova side [2] to accept that the
volume attachment may be gone.

This patch fixes the issue mentioned above, but there is a request on
Cinder-CSI [1] to use Nova as the source of truth regarding its
attachments that, when implemented, would also fix the issue.

[1]: https://github.com/kubernetes/cloud-provider-openstack/issues/1645
[2]: https://review.opendev.org/q/topic:%2522bug/1937084%2522+project:openstack/nova

Closes-Bug: #1937084
Change-Id: Iaf149dadad5791e81a3c0efd089d0ee66a1a5614
(cherry picked from commit 2ec2222841f6116707fe25bdcdae6ad6c2b9beb7)
Conflicts:
	cinder/tests/unit/attachments/test_attachments_manager.py
	cinder/volume/manager.py
(cherry picked from commit ed0be0c8fa1d26c3f366dd3d58ad4a8318695dcb)
"
openstack%2Fdesignate~master~I0db8243e1bcd474928d55f19083cbba0725b55ec,openstack/designate,master,,I0db8243e1bcd474928d55f19083cbba0725b55ec,Move to a batch model for incrementing serial,NEW,2022-01-04 02:29:28.000000000,2022-02-05 23:37:31.000000000,,244,260,0,823325,0af15aa71a62279087991e4d86a14bc7798144b5,57,1,36,19,22623,Erik Olof Gunnar Andersson,eoandersson,"Move to a batch model for incrementing serial

This patch moves the responsibility of incrementing the
serial on a zone from central to the producer. This also
means that NOTIFY is triggered by the producer after the
serial has been incremented. The advantage of this approach
is that we can now batch requests which means less work
for the DNS servers, and it removes the risk of
race-conditions when updating the serial. Finally, the
producer is sharded and is easy to scale which means that
this approach should scale well with many zones.

The disadvantage is that it may take up to 5 seconds longer
for the DNS record to be updated on the DNS server. This
can be lowered by increasing the frequency of the task
that is responsible for incrementing the serial.

Change-Id: I0db8243e1bcd474928d55f19083cbba0725b55ec
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Fvictoria~I1457d563abcbc9e62c331375ed677758b5f73927,openstack/openstack-ansible-os_keystone,stable/victoria,osa/remove-centos8,I1457d563abcbc9e62c331375ed677758b5f73927,Restore CI jobs,MERGED,2022-02-03 08:51:56.000000000,2022-02-05 21:18:22.000000000,2022-02-05 21:14:50.000000000,9,9,3,827603,526a3b6e89f1d4eee9065517180d677cd5410d55,20,2,4,1,25023,Jonathan Rosser,jrosser,"Restore CI jobs

Change-Id: I1457d563abcbc9e62c331375ed677758b5f73927
"
openstack%2Fcinder~master~Ib861e1bc35247f932fbae3796ed9025a560461c4,openstack/cinder,master,bug/1916843,Ib861e1bc35247f932fbae3796ed9025a560461c4,Rework backup process to make it async,MERGED,2021-04-01 20:39:29.000000000,2022-02-05 19:02:30.000000000,2022-02-05 19:00:43.000000000,190,159,8,784477,e38fb71aac05a9ddc29670d4395c408d565f5d37,323,10,14,7,5997,Walt,walter-boring,"Rework backup process to make it async

This patch updates the backup process to call the volume manager
asynchronously to get the backup device in which to do the backup on.
This fixes a major issue with certain cinder drivers that take a long
time to create a temporary clone of the volume being backed up.

Closes-Bug: #1916843
Change-Id: Ib861e1bc35247f932fbae3796ed9025a560461c4
"
openstack%2Fpbr~master~I3f0e48c215e890f9b26bae6600d5fcacf67831c6,openstack/pbr,master,,I3f0e48c215e890f9b26bae6600d5fcacf67831c6,Add release note about missing pbr.json fix,MERGED,2022-02-05 16:09:07.000000000,2022-02-05 18:48:11.000000000,2022-02-05 18:46:54.000000000,6,0,0,827977,407d9217511d73b34b40d330520480353790ec90,7,2,1,1,5263,Jeremy Stanley,fungi,"Add release note about missing pbr.json fix

Include a release note for I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16
which corrected a regression for missing pbr.json metadata files in
packages.

Change-Id: I3f0e48c215e890f9b26bae6600d5fcacf67831c6
"
openstack%2Fosc-lib~master~Ic7ba548e3dc9776963df9a9be3560e6eb7ce90df,openstack/osc-lib,master,,Ic7ba548e3dc9776963df9a9be3560e6eb7ce90df,setup.cfg: Replace dashes with underscores,NEW,2021-04-29 12:17:05.000000000,2022-02-05 18:17:16.000000000,,4,4,0,788727,31af2c06d122bd4d2760a31c0c97e150cb4e6fd7,9,1,3,1,31412,Wenping Song,songwenping,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ic7ba548e3dc9776963df9a9be3560e6eb7ce90df
"
openstack%2Foslo-cookiecutter~master~Icce6025ac4fd646752891fa9081fe16528583237,openstack/oslo-cookiecutter,master,,Icce6025ac4fd646752891fa9081fe16528583237,Fix inconsistent requirement about hacking,NEW,2022-02-05 17:57:30.000000000,2022-02-05 18:04:34.000000000,,1,1,0,828014,b4469c4c6c27c19d286541d28bb25bc35069dbad,2,1,1,1,9816,Takashi Kajinami,kajinamit,"Fix inconsistent requirement about hacking

... to fix the following failure in CI.

The conflict is caused by:
    The user requested hacking<3.1.0 and >=3.0
    The user requested (constraint) hacking==2.0.0

Change-Id: Icce6025ac4fd646752891fa9081fe16528583237
"
openstack%2Foslo-cookiecutter~master~I8323baaeca1aca5025fa7407769ef5e534bcac2e,openstack/oslo-cookiecutter,master,,I8323baaeca1aca5025fa7407769ef5e534bcac2e,setup.cfg: Replace dashes by underscores,NEW,2022-02-05 17:17:17.000000000,2022-02-05 17:23:28.000000000,,4,4,0,828007,9411937e2aab563a427684c3cc4a93c9618f259f,2,1,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I8323baaeca1aca5025fa7407769ef5e534bcac2e
"
openstack%2Fzaqar-tempest-plugin~master~I17df9c3485983d273b76860e52e12e4e186c1e4e,openstack/zaqar-tempest-plugin,master,,I17df9c3485983d273b76860e52e12e4e186c1e4e,setup.cfg: Replace dashes with underscores,NEW,2021-04-27 05:58:24.000000000,2022-02-05 17:07:07.000000000,,3,3,0,788135,594a3048986c530c53e1560ebff31a43b5a85d58,3,2,1,1,31027,MaAoyu,maaoyu,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I17df9c3485983d273b76860e52e12e4e186c1e4e
"
openstack%2Fzaqar-tempest-plugin~master~I69f19d1a25bef024eb49d9b64da04c88d9ae24a4,openstack/zaqar-tempest-plugin,master,,I69f19d1a25bef024eb49d9b64da04c88d9ae24a4,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 17:05:42.000000000,2022-02-05 17:07:03.000000000,,3,3,0,827999,b77e34a0c7bd25299e77db7a62b6f29d5a898351,2,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the example file described in documentation
accordingly to use the new parameters.

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I69f19d1a25bef024eb49d9b64da04c88d9ae24a4
"
openstack%2Fpuppet-nova~master~I2a007f5e4eeb71b94b59a0e0b5c54f20ad9535c0,openstack/puppet-nova,master,cinder-debug,I2a007f5e4eeb71b94b59a0e0b5c54f20ad9535c0,Add support for [cinder] debug,MERGED,2022-02-04 03:32:30.000000000,2022-02-05 17:03:04.000000000,2022-02-05 17:03:04.000000000,11,0,3,827792,f626e649f1c3e8ac783251e7959ee05c7d350018,19,3,1,2,9816,Takashi Kajinami,kajinamit,"Add support for [cinder] debug

Depends-on: https://review.opendev.org/820399
Change-Id: I2a007f5e4eeb71b94b59a0e0b5c54f20ad9535c0
"
openstack%2Fhorizon~stable%2Ftrain~I222f40c7cccd3304aca812ddfb14d3876a77407d,openstack/horizon,stable/train,,I222f40c7cccd3304aca812ddfb14d3876a77407d,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 16:44:20.000000000,2022-02-05 16:44:55.000000000,,3,3,0,827990,760aaabd2e22d08392e22a710430208f59cbdd0e,2,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I222f40c7cccd3304aca812ddfb14d3876a77407d
"
openstack%2Fbarbican-ui~master~Ia34763b4eda76dcc78b470fd31dfb630701fb10e,openstack/barbican-ui,master,,Ia34763b4eda76dcc78b470fd31dfb630701fb10e,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 16:36:00.000000000,2022-02-05 16:39:58.000000000,,3,3,0,827983,d7fe8837e6820d5f91785c4a29c64617481f7bb3,2,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with underscore have been
deprecated.

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ia34763b4eda76dcc78b470fd31dfb630701fb10e
"
openstack%2Fcinderlib~master~I47c26e06485b251f1cc68d5323759d110794f994,openstack/cinderlib,master,,I47c26e06485b251f1cc68d5323759d110794f994,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 16:37:15.000000000,2022-02-05 16:39:55.000000000,,4,4,0,827984,b237143452c317bb54d79c0f6a8b1c2e1c24a164,3,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with underscore have been
deprecated.

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I47c26e06485b251f1cc68d5323759d110794f994
"
openstack%2Fcinderlib~master~I540be3186db979326a09e517d080c4715f2e3630,openstack/cinderlib,master,,I540be3186db979326a09e517d080c4715f2e3630,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 16:38:18.000000000,2022-02-05 16:39:53.000000000,,4,4,0,827985,e36d052caa2ad3c8dd17dc1f2a9928ba76014f6d,3,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
Change-Id: I47c26e06485b251f1cc68d5323759d110794f994

Change-Id: I540be3186db979326a09e517d080c4715f2e3630
"
openstack%2Fbarbican-ui~master~I2628b5dd7b24fcd754ab8ca722bc626ed40d7e03,openstack/barbican-ui,master,,I2628b5dd7b24fcd754ab8ca722bc626ed40d7e03,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 16:38:51.000000000,2022-02-05 16:39:43.000000000,,3,3,0,827986,a4f2ef2834e12e89022beb4eb8625ae0e9b09d0f,2,0,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
Change-Id: Idff426a874426fcae7df6b8ca7523fb8e97ac7a2

Change-Id: I2628b5dd7b24fcd754ab8ca722bc626ed40d7e03
"
openstack%2Fglance~master~I895f8352a374905922247d1d406c2b2417041840,openstack/glance,master,update-migration-const,I895f8352a374905922247d1d406c2b2417041840,Update migration constant part 2,ABANDONED,2022-02-04 20:36:20.000000000,2022-02-05 15:02:42.000000000,,1,1,0,827920,0cf3738763a2a1e01b05644b6ffe56e5c1b20123,3,1,1,1,5314,Brian Rosmaita,brian-rosmaita,"Update migration constant part 2

Update the data migration current release to 'yoga'.  This
is a follow-up to change Ibdbeb752d29a, which triggered an
update to the version number in master, which will allow the
glance.tests.unit.gate.test_data_migration_version to pass.

Change-Id: I895f8352a374905922247d1d406c2b2417041840
"
openstack%2Ftripleo-ansible~master~I5c2e5caa1579af5cf206633447b92e8fdffdda16,openstack/tripleo-ansible,master,ceph_vip_provision,I5c2e5caa1579af5cf206633447b92e8fdffdda16,Provision VIPs for ceph related services,MERGED,2022-01-20 13:44:42.000000000,2022-02-05 14:13:31.000000000,2022-02-05 14:12:08.000000000,134,15,30,825502,2636e84c41f8be28c9f72e8ce126beb72b2cb32c,79,8,14,5,25402,Francesco Pantano,fmount,"Provision VIPs for ceph related services

This change adds a new task within cli-deployed-ceph that will be
triggered by tripleoclient when --ceph-vip option is set.
The extra_var input file defines the mapping between the ceph services
and their network, and produces (as output) the VIPs associated to the
specified daemons.
It uses the improved version of ""tripleo_service_vip"" ansible module
that now supports an output path instead only a playbook dir, and is
able to return a payload (the generated data map) that can be used by
other tasks: this ensures we have more control over the provided input
and output.

Change-Id: I5c2e5caa1579af5cf206633447b92e8fdffdda16
"
openstack%2Fkolla-ansible~master~I53c02bb2151473b85aaae4480a81e13d766cad00,openstack/kolla-ansible,master,dnm-ci-test-zun-ubuntu,I53c02bb2151473b85aaae4480a81e13d766cad00,[DNM] Test kolla-ansible-ubuntu-source-zun job,ABANDONED,2022-02-02 14:55:01.000000000,2022-02-05 13:52:25.000000000,,1,0,6,827512,41940e70221c4f434014569ff6d5a4ef671b2889,14,1,2,1,30491,Radosław Piliszek,yoctozepto,"[DNM] Test kolla-ansible-ubuntu-source-zun job

Change-Id: I53c02bb2151473b85aaae4480a81e13d766cad00
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I3e3692030b86e4afff6fc5e09cd763ee1e184cfa,openstack/tripleo-ansible,stable/train,bug/1958332-stable/train,I3e3692030b86e4afff6fc5e09cd763ee1e184cfa,Disable cloud-init netconfig post os-net-config,MERGED,2022-01-25 22:22:59.000000000,2022-02-05 10:57:57.000000000,2022-02-05 10:56:39.000000000,26,0,1,826396,a63697ffd67f24f65feec88acd8d164154f01d9f,15,5,1,2,24245,Harald Jensås,harald.jensas,"Disable cloud-init netconfig post os-net-config

This is a combination of 2 commits.

This is the 1st commit message:

After a successfull os-net-config run disable network config
in cloud-init.

There has been reports of cloud-init re-writing network config
files on reboot, resulting in incorrect network configuration.

This is the 2nd commit message:

Ensure cloud-init config dir exists

In some cases, it may happen cloud-init isn't installed (on the UC, for
instance).
In such cases, the directory doesn't exist, and ansible fails to push
the file to this location, leading to a deploy error.

Closes-Bug: #1958332
Change-Id: I3e3692030b86e4afff6fc5e09cd763ee1e184cfa
(cherry picked from commit 85bcbfb8a6d53cbcf2b727e0b0bf12b3e4281567)
(cherry picked from commit 7d16b0f33f37ba9196838003e5da578239273473)
(cherry picked from commit daf76eb86a4bcf9b14e0b2c5125bfb5a7ce5e20f)
"
openstack%2Fnova~master~I6445433142286728a8c7efadcf80d07082d60bc3,openstack/nova,master,2021-09-10-off-path-net-backends-dep,I6445433142286728a8c7efadcf80d07082d60bc3,[yoga] Add PCI VPD Capability Handling,MERGED,2021-09-10 10:33:31.000000000,2022-02-05 09:35:23.000000000,2022-02-05 09:33:35.000000000,642,31,104,808199,ab49f97b2c08294234c7bfd3dedb75780ca519e6,178,6,16,11,24824,Dmitrii Shcherbakov,dmitriis,"[yoga] Add PCI VPD Capability Handling

This change comes as a part of the ""Off-path Networking Backends
Support"" spec implementation.

https://review.opendev.org/c/openstack/nova-specs/+/787458

* Add VPD capability parsing support
  * The XML data from libvirt is parsed and formatted into PCI device
    JSON dict that is sent to Nova API and is stored in the extra_info
    column of a PciDevice.

    The code gracefully handles the lack of the capability since it is
    optional or Libvirt may not support it in a particular release.
    https://libvirt.org/news.html#v7-9-0-2021-11-01 (VPD capability
    was added in 7.9.0).
* Pass the serial number to Neutron in port updates
  If a card serial number is present based on the information from PCI
  VPD, pass it to Neutron along with other PCI-related information.

Change-Id: I6445433142286728a8c7efadcf80d07082d60bc3
Implements: blueprint integration-with-off-path-network-backends
"
openstack%2Fkolla~master~Iad7e7ebb1fbf4d14f20960d6257345db71d0e214,openstack/kolla,master,,Iad7e7ebb1fbf4d14f20960d6257345db71d0e214,collectd: pcie-errors is x86-64 only now,MERGED,2022-02-04 16:15:45.000000000,2022-02-05 07:38:02.000000000,2022-02-04 23:29:10.000000000,1,6,4,827883,941d021e091567d2709bbb868768c6dc4a3372e0,15,4,2,1,24072,Marcin Juszkiewicz,hrw,"collectd: pcie-errors is x86-64 only now

Change-Id: Iad7e7ebb1fbf4d14f20960d6257345db71d0e214
"
openstack%2Fpuppet-openstack-integration~master~I6f766331e7e4f2f0b97ca4e9a3e655a480ecb28f,openstack/puppet-openstack-integration,master,,I6f766331e7e4f2f0b97ca4e9a3e655a480ecb28f,Tempest: Update options to include/exclude tests,MERGED,2022-02-03 16:02:04.000000000,2022-02-05 05:00:12.000000000,2022-02-05 05:00:12.000000000,27,27,2,827702,dab263aae2f473e1587f8b6d8acd7fcc8755b67c,14,3,2,1,9816,Takashi Kajinami,kajinamit,"Tempest: Update options to include/exclude tests

Some options to include/exclude specific tests have been updated[1] in
Tempest and old options are deprecated now.

[1] dc84423b7294a19cbea4bf1e4b75a59625dec1e9

Change-Id: I6f766331e7e4f2f0b97ca4e9a3e655a480ecb28f
"
openstack%2Fpuppet-aodh~master~I0dd1bf37160e76856d8055e033aa0d0c3ca4a244,openstack/puppet-aodh,master,wsgi-script,I0dd1bf37160e76856d8055e033aa0d0c3ca4a244,Use generated script instead of app.wsgi,MERGED,2022-02-04 00:16:14.000000000,2022-02-05 04:48:01.000000000,2022-02-05 04:48:01.000000000,2,2,1,827781,2bf346a6dd0de295ae7832fa93de3aa64521d437,12,3,1,2,9816,Takashi Kajinami,kajinamit,"Use generated script instead of app.wsgi

Change-Id: I0dd1bf37160e76856d8055e033aa0d0c3ca4a244
"
openstack%2Fproject-config~master~Iba9332655cd98c4c3b1f8eae70775313abc0b220,openstack/project-config,master,project-yaml-normalization,Iba9332655cd98c4c3b1f8eae70775313abc0b220,Normalize projects.yaml,MERGED,2022-02-05 02:52:47.000000000,2022-02-05 04:43:51.000000000,2022-02-05 04:38:19.000000000,0,1,0,827938,ccb14469e8c64fc8f1386bb7ad05579dd0df6e0c,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Normalize projects.yaml

Change-Id: Iba9332655cd98c4c3b1f8eae70775313abc0b220
"
openstack%2Fcinder~stable%2Fwallaby~I6576832b2c2722ab749cfe70bbc2058ead816c36,openstack/cinder,stable/wallaby,detach-vol-status,I6576832b2c2722ab749cfe70bbc2058ead816c36,Expose volume_attachments in Volume OVO,MERGED,2021-11-23 11:52:30.000000000,2022-02-05 04:04:15.000000000,2022-02-05 04:01:58.000000000,43,21,5,818885,a5b67fd959fb837120745e1a2757f18060dd6ecc,54,3,2,6,9535,Gorka Eguileor,Gorka,"Expose volume_attachments in Volume OVO

In change-id Iabf9c3fab56ffef50695ce45745f193273822b39 we left the
`volume_attachment` out of the expected attributes of the Volume OVO
(even when te DB layer is providing that information) because it was
breaking some unit tests.

This means that in some cases we are unnecessarily loading the
attachments again (manually or via lazy loading) once we have the volume
OVO because that field is not set.

In this patch we populate the `volume_attachment` when we load the
Volume OVO from the DB.

Change-Id: I6576832b2c2722ab749cfe70bbc2058ead816c36
(cherry picked from commit e07bf3787a7c1a8a55b8f69290cf6166719f6a5e)
Conflicts:
	cinder/objects/volume.py
	cinder/tests/unit/objects/test_volume.py
(cherry picked from commit e85c22cef7bd502db44f837e626b7262f4dc8241)
"
openstack%2Ftripleo-heat-templates~master~I8ee338c3f3e20f1826d98efb38d3b21fefda5031,openstack/tripleo-heat-templates,master,bug/1959726,I8ee338c3f3e20f1826d98efb38d3b21fefda5031,Add parameter IronicIPXEUefiSnpOnly,MERGED,2022-02-02 02:51:12.000000000,2022-02-05 03:54:19.000000000,2022-02-05 03:52:38.000000000,20,0,1,827387,bd13adefd106864504240566d2a3530211cc464f,16,7,2,2,24245,Harald Jensås,harald.jensas,"Add parameter IronicIPXEUefiSnpOnly

Add new parameter IronicIPXEUefiSnpOnly (default: true).
When `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi
is used.

'snponly.efi' is the default in puppet-ironic master branch, however
in Wallaby and earlier releases 'ipxe.efi' is the default. Since
'ipxe.efi' is not compatible with a lot of hardware TripleO should
change this default.

Related: RHBZ#2049179
Closes-Bug: 1959726
Change-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031
"
openstack%2Ftripleo-quickstart-extras~master~I3d5146041df88fbcaad6b0f6d6dcb05d734251b0,openstack/tripleo-quickstart-extras,master,bug/1959930,I3d5146041df88fbcaad6b0f6d6dcb05d734251b0,Add identity.v3_endpoint_type to extra facts in tempestconf,MERGED,2022-02-03 23:59:02.000000000,2022-02-05 03:52:45.000000000,2022-02-05 03:52:45.000000000,3,1,2,827779,67cf0fbabc101affc3b53dee3e23e4f66946073d,20,4,3,1,8367,Arx Cruz,arxcruz,"Add identity.v3_endpoint_type to extra facts in tempestconf

Some tests are failing because it's using the adminURL instead of
publicURL. This patch add the config option to tempestconf to force the
use of the publicURL.

Change-Id: I3d5146041df88fbcaad6b0f6d6dcb05d734251b0
Related-Bug: #1959930
"
openstack%2Ftripleo-heat-templates~master~I93d3eae0a738782f071a839ba7b41107a597e2fa,openstack/tripleo-heat-templates,master,,I93d3eae0a738782f071a839ba7b41107a597e2fa,Start the neutron metadata agent with cgroupns host,MERGED,2022-02-03 11:40:57.000000000,2022-02-05 03:52:41.000000000,2022-02-05 03:52:41.000000000,1,0,1,827629,d3a6e7a99ad090bd7ef06b7bd84cf8558e5fdae5,11,5,1,1,6681,Brent Eagles,beagles,"Start the neutron metadata agent with cgroupns host

This container got missed in the fixups.

Closes-Bug: #1959582
Change-Id: I93d3eae0a738782f071a839ba7b41107a597e2fa
"
openstack%2Fpbr~master~I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16,openstack/pbr,master,,I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16,Avoid recursive calls into SetupTools entrypoint,MERGED,2022-02-04 21:58:41.000000000,2022-02-05 03:09:10.000000000,2022-02-05 03:06:19.000000000,21,8,1,827931,949c47c97966b22bc3a7a33c08bc8535969e3fa0,11,2,2,2,5263,Jeremy Stanley,fungi,"Avoid recursive calls into SetupTools entrypoint

Add a check in pbr.core.pbr() to make sure it hasn't already run,
and return immediately if it has. This replaces the earlier attempt
at loop-busting by setting the entrypoint to None in the dist, in
order to support PEP 517 builds without setup_requires.

Also test that pbr.json is now included in the dist tree, in order
to avoid future regressions.

Change-Id: I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16
"
openstack%2Fpython-openstackclient~master~I042db99c9d7a0d8d207f8cdf69d786bd4fe904e7,openstack/python-openstackclient,master,needs-completion,I042db99c9d7a0d8d207f8cdf69d786bd4fe904e7,Switch server lock to sdk.,NEW,2021-11-28 18:55:02.000000000,2022-02-05 02:38:41.000000000,,53,24,36,819517,a57141941107826f070b923c41afa091715e3ae0,22,4,8,4,34061,Suneeth Ravi,suneethravi,"Switch server lock to sdk.

Switch server lock commands from novaclient to SDK.

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/819293

Change-Id: I042db99c9d7a0d8d207f8cdf69d786bd4fe904e7
"
openstack%2Fpython-openstackclient~master~If0baca719b8d68dcf76755f0ffc6034bbae8715c,openstack/python-openstackclient,master,needs-completion,If0baca719b8d68dcf76755f0ffc6034bbae8715c,compute: Switch server group to SDK,NEW,2021-12-01 21:17:07.000000000,2022-02-05 02:38:16.000000000,,93,22,42,820070,3eb0de28b3123e20bb2812158f300e1a3da139a2,9,4,3,3,34313,Ujjval,ujjvalksharma,"compute: Switch server group to SDK

Change-Id: If0baca719b8d68dcf76755f0ffc6034bbae8715c
"
openstack%2Fopenstacksdk~master~Ief29ab9794590b7c996e23cac38464888fba2865,openstack/openstacksdk,master,needs-completion,Ief29ab9794590b7c996e23cac38464888fba2865,Add os-instance-actions API,NEW,2021-06-23 00:33:49.000000000,2022-02-05 02:38:04.000000000,,127,0,3,797551,21575d938d384e2a4bd155e21ee24f8d957e9724,13,2,3,4,33012,Ryan Zimmerman,zimmerry,"Add os-instance-actions API

The os-instance-actions API [1] from the Compute API was missing.

[1] https://docs.openstack.org/api-ref/compute/?expanded=#list-actions-for-server

Change-Id: Ief29ab9794590b7c996e23cac38464888fba2865
"
openstack%2Fopenstacksdk~master~I98729a73338048207aebebdd3bcc87ffb3af70a8,openstack/openstacksdk,master,,I98729a73338048207aebebdd3bcc87ffb3af70a8,Adds volume migrate capability to v3 cinder proxy,NEW,2022-01-20 18:41:24.000000000,2022-02-05 02:37:06.000000000,,68,0,0,825664,aedf99236239afcfe2caa5254ee6f34e2ee5eff7,7,1,1,4,5997,Walt,walter-boring,"Adds volume migrate capability to v3 cinder proxy

This patch adds the ability to migrate a volume.  This was missing
in the block storage api.

Change-Id: I98729a73338048207aebebdd3bcc87ffb3af70a8
"
openstack%2Fnova~master~I845ca5989a8ad84d7c04971316fd892cd29cfe1f,openstack/nova,master,bug/1959899,I845ca5989a8ad84d7c04971316fd892cd29cfe1f,skip test_tagged_attachment in nova-next,MERGED,2022-02-04 12:35:56.000000000,2022-02-05 02:02:56.000000000,2022-02-05 00:36:44.000000000,1,1,3,827851,b00ce99dd456ab701cef0a9d4429920834d3d840,22,2,1,1,11604,sean mooney,sean-k-mooney,"skip test_tagged_attachment in nova-next

This change adds
tempest.api.compute.servers.test_device_tagging.TaggedAttachmentsTest.test_tagged_attachment
to the tempest exclude regex

over the past few weeks we have noticed this test failing intermitently
and it has not started to become a gate blocker. This test is executed in other
jobs that use the PC machine type and is only failing in the nova-next
job which uses q35. As such while we work out how to address this properly
we skip it in the nova-next.

Change-Id: I845ca5989a8ad84d7c04971316fd892cd29cfe1f
Related-Bug: #1959899
"
openstack%2Fnova~stable%2Fwallaby~I39241223b447fcc671161c370dbf16e1773b684a,openstack/nova,stable/wallaby,bug/1853009,I39241223b447fcc671161c370dbf16e1773b684a,Clear rebalanced compute nodes from resource tracker,MERGED,2021-09-29 23:51:11.000000000,2022-02-05 01:07:51.000000000,2022-02-05 00:31:10.000000000,66,18,9,811806,f950cedf17cc4c3ce9d094dbfde5e4cf013260f7,48,8,1,5,4690,melanie witt,melwitt,"Clear rebalanced compute nodes from resource tracker

There is a race condition in nova-compute with the ironic virt driver as
nodes get rebalanced. It can lead to compute nodes being removed in the
DB and not repopulated. Ultimately this prevents these nodes from being
scheduled to.

The issue being addressed here is that if a compute node is deleted by a host
which thinks it is an orphan, then the compute host that actually owns the node
might not recreate it if the node is already in its resource tracker cache.

This change fixes the issue by clearing nodes from the resource tracker cache
for which a compute node entry does not exist. Then, when the available
resource for the node is updated, the compute node object is not found in the
cache and gets recreated.

Change-Id: I39241223b447fcc671161c370dbf16e1773b684a
Partial-Bug: #1853009
(cherry picked from commit 32676a9f45807ea8770dc7bdff1e859673af1b61)
"
openstack%2Fcinder~stable%2Fwallaby~I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6,openstack/cinder,stable/wallaby,improve-retype-migration,I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6,Driver assisted migration on retype when it's safe,MERGED,2021-11-25 15:34:52.000000000,2022-02-05 00:42:51.000000000,2022-02-05 00:39:14.000000000,99,3,3,819346,afc90f8912ad555feacb0921226a75eb0aeaa975,26,3,1,3,9535,Gorka Eguileor,Gorka,"Driver assisted migration on retype when it's safe

When doing a retype of a volume that requires a migration, the manager
only uses driver assisted migration when the source and the destination
belong to the same backend (different pools).

Driver assisted migration should also be tried for other cases, just
like when we do a normal migration.

One case were this would be beneficial is when doing migrations from one
pool to another on the same storage system on single pool drivers (such
as RBD/Ceph).

This patch checks what are the changes between the types to see if it is
safe to use driver assisted migration (from the perspective of keeping
the resulting volume consistent with the volume type) and when it is it
tries to use it.

If driver assisted migration indicates that it couldn't move the volume,
then we go with the generic volume migration like we used to.

Closes-Bug: #1886543
Change-Id: I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6
(cherry picked from commit 5edc77a18c505e22ee56e3ebda6d400cded6fa32)
"
openstack%2Fcinder~stable%2Fwallaby~I05d83d73de69c57d885e0c417e8a376f7cfb1e4f,openstack/cinder,stable/wallaby,bug/1924643,I05d83d73de69c57d885e0c417e8a376f7cfb1e4f,NetApp ONTAP: Fix sub-clone zapi call,MERGED,2021-12-15 20:10:08.000000000,2022-02-05 00:41:18.000000000,2022-02-05 00:36:53.000000000,48,2,4,821892,fffe9b57b984ba402fbe9f0c578b419926491b5b,40,4,3,3,33431,Fábio Oliveira,fabiooliveira1,"NetApp ONTAP: Fix sub-clone zapi call

The ONTAP documentation states that the `clone-create` ZAPI call
fails with `block-ranges` and `space-reserve` parameters sent
together. The sub-clone uses the `block-ranges` and is failing
because of that restriction.

This patch fixes the `clone-create` operation by using exactly one
of `block-ranges` or `space-reserve`.

Change-Id: I05d83d73de69c57d885e0c417e8a376f7cfb1e4f
Closes-Bug: #1924643
(cherry picked from commit dd0b1076df936b9cb1111567f6b4c3b747744b72)
(cherry picked from commit 344f3e8b098ff52c137ece8a28b3b40a5893e30e)
"
openstack%2Fdevstack~master~I9a05051e5a297cfaf78d097fa5f90a7c5fd254a6,openstack/devstack,master,revert-stackrc-permissions,I9a05051e5a297cfaf78d097fa5f90a7c5fd254a6,revert stackrc execute permissions,MERGED,2022-02-04 08:36:31.000000000,2022-02-05 00:33:52.000000000,2022-02-05 00:32:06.000000000,0,0,6,827815,85c7d8db4eef2e367a7466a39b4f1fba7a983eef,14,3,2,1,11604,sean mooney,sean-k-mooney,"revert stackrc execute permissions

This change reverts the execute permissions from
stackrc which is not meant to be run as a script but sourced
as part of stack.sh

Change-Id: I9a05051e5a297cfaf78d097fa5f90a7c5fd254a6
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I7e79ea64870fb07ba80d132e30ac02545faac1dc,openstack/python-tripleoclient,stable/wallaby,config-desc-stable/wallaby,I7e79ea64870fb07ba80d132e30ac02545faac1dc,Deprecate enable_novajoin,MERGED,2022-02-04 15:19:23.000000000,2022-02-05 00:28:50.000000000,2022-02-05 00:27:10.000000000,8,0,0,827749,cc0ec235efc0a71b6870652c4620cb644656e245,9,7,2,2,26343,Jose Luis Franco,jfrancoa,"Deprecate enable_novajoin

... because support for the novajoin metadata service was already
deprecated[1].

[1] bf910512c344f55d01303409f6c2151d89347583

Change-Id: I7e79ea64870fb07ba80d132e30ac02545faac1dc
(cherry picked from commit a9d4d523cc5846d6e98730857f33768d370fc4b1)
"
openstack%2Fdevstack~master~I518a739a3daac941880463cde6b47951331d0911,openstack/devstack,master,,I518a739a3daac941880463cde6b47951331d0911,Adapt compute node local.conf to OVN,MERGED,2022-01-21 09:07:17.000000000,2022-02-05 00:27:57.000000000,2022-02-05 00:26:11.000000000,1,1,6,825726,0a31630323cc172561d6544c8bee50004538cfb2,13,4,1,1,15197,Pierre Riteau,priteau,"Adapt compute node local.conf to OVN

The default Neutron configuration is now using OVN, but the multinode
lab was using an incompatible configuration:

    The q-agt/neutron-agt service must be disabled with OVN.

Change-Id: I518a739a3daac941880463cde6b47951331d0911
"
openstack%2Frequirements~master~Ide17d3eb11d89b948a4618e850d968698206fc4c,openstack/requirements,master,openstack/requirements/constraints/noclob,Ide17d3eb11d89b948a4618e850d968698206fc4c,Updated from generate-constraints,MERGED,2022-02-04 02:50:14.000000000,2022-02-05 00:27:52.000000000,2022-02-05 00:26:08.000000000,19,18,0,827787,698f8e89b69fc29b7f494ead0f04c9d629e10cb5,12,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ide17d3eb11d89b948a4618e850d968698206fc4c
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I672627f4f97d241abaab47f56dc92b36d778ac97,openstack/python-tripleoclient,stable/wallaby,config-desc-stable/wallaby,I672627f4f97d241abaab47f56dc92b36d778ac97,Standalone: Remove undercloud from parameter descriptions,MERGED,2022-02-04 15:20:46.000000000,2022-02-05 00:24:23.000000000,2022-02-05 00:22:52.000000000,7,11,0,827890,1f4e3f93a343fa7c3a0ab4eb3546279b649a9db2,8,5,1,1,26343,Jose Luis Franco,jfrancoa,"Standalone: Remove undercloud from parameter descriptions

... becuase these parameters are used not only in undercloud deployment
but also in standalone deployment.

Change-Id: I672627f4f97d241abaab47f56dc92b36d778ac97
(cherry picked from commit 5f8bd7781b0a776ea308ccb3eb16ac353a273096)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I447e2ec4187de9d8342f43e9012acccc725eded9,openstack/tripleo-ansible,stable/wallaby,storagenfs-stable/wallaby,I447e2ec4187de9d8342f43e9012acccc725eded9,Added controller_group_name to override group name,MERGED,2022-01-27 23:04:00.000000000,2022-02-05 00:22:49.000000000,2022-02-05 00:22:49.000000000,15,3,5,826625,c943c6ad88ea2731f5cb072aef996480025f44ca,23,3,1,3,22954,Juan Badia Payno,jbadiapa,"Added controller_group_name to override group name

Added controller_group_name to override the Controller group name from
which a backup would be taken.  ie:
```
openstack overcloud backup \
--extra-vars ""{'controller_group_name':'ControllerStandalone'}""
```
This is useful if you are not using the default Controller group but
something else such as one of these:
    ControllerAllNovaStandalone
    ControllerNoCeph
    ControllerNovaStandalone
    ControllerOpenstack
    ControllerSriov
    ControllerStorageDashboard
    ControllerStorageNfs

Change-Id: I447e2ec4187de9d8342f43e9012acccc725eded9
(cherry picked from commit da5ce4cbebd362d85c0f2ce7e374c5ba2a3858fa)
"
openstack%2Fmanila~master~I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24,openstack/manila,master,bp/metadata-for-share-resources,I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24,Add admin only keys to share metadata,MERGED,2021-08-30 21:33:41.000000000,2022-02-05 00:20:14.000000000,2022-02-05 00:18:07.000000000,243,12,116,806647,0f161ce17a3116c0777091e1551204fecccabc61,155,6,21,8,32594,Ashley Rodriguez,ashrod98,"Add admin only keys to share metadata

In this change, we add admin policy check for metadata keys
""__affinity_same_host"" and ""__affinity_different_host"".
These keys are added an constants, allowing for the addition of other
admin only keys if necessary in future changes.

This change allows for the affinity filter spec[1] implementation without
the additional changes necessary in the metadata spec[2].

Bumps microversion to 2.68.

[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html
[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html

Partially-Implements: metadata-for-share-resources
Change-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24
"
openstack%2Fpython-manilaclient~master~I2207da7b2d157681747e22570bed0ca18a72d717,openstack/python-manilaclient,master,,I2207da7b2d157681747e22570bed0ca18a72d717,Add missing space in server migration complete,MERGED,2022-02-03 20:59:45.000000000,2022-02-05 00:08:13.000000000,2022-02-05 00:06:43.000000000,1,1,5,827764,20a4a0ac54934b768fee18aa0752e6dd6c01c46d,13,4,2,1,32411,Eduardo Santos,ecsantos,"Add missing space in server migration complete

TrivialFix

Change-Id: I2207da7b2d157681747e22570bed0ca18a72d717
"
openstack%2Fcharm-magnum~master~If2788f63ccfa9724e06ba37c007f4168ed6f5ac3,openstack/charm-magnum,master,charmhub-migration-master,If2788f63ccfa9724e06ba37c007f4168ed6f5ac3,Update to build using charmcraft,MERGED,2022-02-01 20:19:30.000000000,2022-02-05 00:02:28.000000000,2022-02-05 00:02:28.000000000,78,8,2,827353,69ddf12d611395b98ddd2a97144b769abd301155,11,3,1,12,20870,Alex Kavanagh,ajkavanagh,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: If2788f63ccfa9724e06ba37c007f4168ed6f5ac3
"
openstack%2Ftripleo-heat-templates~master~I755ef460ca06fdc5bed3a05bba75c63b288b3af8,openstack/tripleo-heat-templates,master,fips-compatibility,I755ef460ca06fdc5bed3a05bba75c63b288b3af8,Added rabbit FIPS flag to FIPS env fle,MERGED,2021-11-29 19:01:50.000000000,2022-02-05 00:01:10.000000000,2022-02-05 00:01:10.000000000,3,0,5,819697,ff7bc29c77180827436efabbaa08343ddddebb11,40,6,11,1,9914,Ade Lee,alee,"Added rabbit FIPS flag to FIPS env fle

FIPS requires rabbit to start up in FIPS mode or it will generate an
ed25519 key by default on startup.  The Rabbit FIPS flag sets the
appropriate parameters for this to happen.

Change-Id: I755ef460ca06fdc5bed3a05bba75c63b288b3af8
"
openstack%2Ftripleo-ansible~master~Id644bc5b3d780555a175a659709dd6181fb71392,openstack/tripleo-ansible,master,image_serve-seport,Id644bc5b3d780555a175a659709dd6181fb71392,"Revert ""Ensure httpd is allowed to listen on the port""",MERGED,2022-02-04 14:13:24.000000000,2022-02-05 00:01:08.000000000,2022-02-05 00:01:08.000000000,0,22,2,827748,95a40f167093d19f512c5adc12b6a6b625d7e744,13,9,1,4,28223,Cedric Jeanneret,cjeanner,"Revert ""Ensure httpd is allowed to listen on the port""

This reverts commit 8378ac7ae4f21dc99347a432df878d911ec8efc4.

Reason for revert: zuul is crashing with this on the periodic build job:
ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path.

Change-Id: Id644bc5b3d780555a175a659709dd6181fb71392
"
openstack%2Fvalidations-common~master~I24d04038b5add2a02577c94a5d7642e2e620088a,openstack/validations-common,master,component-pipeline,I24d04038b5add2a02577c94a5d7642e2e620088a,Modifying catalogue execution test to resolve component pipeline issue,MERGED,2022-02-03 08:04:43.000000000,2022-02-05 00:01:05.000000000,2022-02-05 00:01:05.000000000,25,2,0,827599,d7821d134744119076399b2cf8dd632f6c25f010,16,5,6,5,32926,Jiri Podivin,jpodivin,"Modifying catalogue execution test to resolve component pipeline issue

Following validations were detecting changes in the image
used by CI and reporting them as issues.
While correct in case of a customer deployment,
it is unnecessary within the component pipeline.

The catalogue test will now no longer execute this validation.
    - image-serve

Following validations will recieve variable overrides.
    - check-disk-space
    - check-disk-space-pre-upgrade
    - undercloud-disk-space-pre-upgrade
    - undercloud-disk-space

Closes-Bug: #1959864

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I24d04038b5add2a02577c94a5d7642e2e620088a
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I79d8011d128357282fd1a847a24fb11971eb1487,openstack/tripleo-ansible,stable/train,remove_nfs_variables-stable/ussuri-stable/train,I79d8011d128357282fd1a847a24fb11971eb1487,Rename variables to keep being the same as in wallaby,MERGED,2022-02-03 09:38:01.000000000,2022-02-05 00:01:03.000000000,2022-02-05 00:01:03.000000000,13,13,0,827630,21fbf621f37da669793bc8a28b5fdea1fed63595,9,4,2,4,32968,Juan Larriba,jlarriba,"Rename variables to keep being the same as in wallaby

Some variables needed to be changed to adapt to the new process of doing
restores using PXE/Ironic. Even if this feature is not going back to v,
u and t, we would want to keep the variables that do the same called the
same among all versions of the product. This change renames some
variables to achieve this.

Change-Id: I79d8011d128357282fd1a847a24fb11971eb1487
(cherry picked from commit c6a27f9b53e18794fb2b345dcfec9138ceef78bc)
"
openstack%2Fpbr~master~Ic9e02eb33fcc86e8e21737e47921b06eb5be6335,openstack/pbr,master,break-recursion,Ic9e02eb33fcc86e8e21737e47921b06eb5be6335,Break pbr() recursion via alternative method,ABANDONED,2022-02-04 21:58:20.000000000,2022-02-04 23:55:21.000000000,,12,9,0,827930,4775cc3863da6b6e960dd05f03d6485587c81b4a,2,0,1,1,4146,Clark Boylan,cboylan,"Break pbr() recursion via alternative method

Setting dist.pbr to None broke writing of metadata to a json file. We
need to check PBR is in use when writing metadata to a json file because
it is triggered via a separate entrypoint than pbr(). To fix this we go
back to allowing dist.pbr to be True but check if we are recursing with
a pbr() entries counter. We return immediately if the count isn't 0.

Change-Id: Ic9e02eb33fcc86e8e21737e47921b06eb5be6335
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I79d8011d128357282fd1a847a24fb11971eb1487,openstack/tripleo-ansible,stable/ussuri,remove_nfs_variables-stable/ussuri,I79d8011d128357282fd1a847a24fb11971eb1487,Rename variables to keep being the same as in wallaby,MERGED,2022-02-03 09:31:20.000000000,2022-02-04 23:49:39.000000000,2022-02-04 23:49:39.000000000,13,13,1,827409,d0aa366c10b20adad512722ba5514924f6360671,11,3,3,4,32968,Juan Larriba,jlarriba,"Rename variables to keep being the same as in wallaby

Some variables needed to be changed to adapt to the new process of doing
restores using PXE/Ironic. Even if this feature is not going back to v,
u and t, we would want to keep the variables that do the same called the
same among all versions of the product. This change renames some
variables to achieve this.

Change-Id: I79d8011d128357282fd1a847a24fb11971eb1487
(cherry picked from commit c6a27f9b53e18794fb2b345dcfec9138ceef78bc)
"
openstack%2Fmanila~master~I3ddfad568a1b578bee23a6d1a96de9551e336bb4,openstack/manila,master,manila_remove_six,I3ddfad568a1b578bee23a6d1a96de9551e336bb4,Remove usage of six lib for third party/vendors drivers.,MERGED,2021-12-09 08:22:43.000000000,2022-02-04 23:41:09.000000000,2022-02-04 23:39:20.000000000,332,398,43,821162,a73b29937420598a741dcc56bfc48a436ec83a3f,62,6,7,72,30407,haixin,haixin,"Remove usage of six lib for third party/vendors drivers.

Python2 is no longer supported, so in this patch
set we remove the usage of the six (py2 and py3
compatibility library) in favor of py3 syntax.

Change-Id: I3ddfad568a1b578bee23a6d1a96de9551e336bb4
"
openstack%2Fpbr~master~I3398b2534e513039e922056e2cb3059768621e72,openstack/pbr,master,,I3398b2534e513039e922056e2cb3059768621e72,Import pbr.util directly to break import loops,ABANDONED,2022-02-04 20:50:24.000000000,2022-02-04 23:40:27.000000000,,3,2,1,827922,9ab99d6d9e8f801058d86ce42cb3d77ce5c0a307,3,1,1,1,5263,Jeremy Stanley,fungi,"Import pbr.util directly to break import loops

If you have a cycle of ""from x import y"" across modules, Python
2.7's importer gives up and raises ImportError. This does not occur
if the module is imported canonically. In preparation for an
upcoming change where we need to import core in pbr_json, switch
core's import of util to a loop-resistant style.

Change-Id: I3398b2534e513039e922056e2cb3059768621e72
"
openstack%2Fpbr~master~Ia2b79ae622ec4a0647984dc3be4266c85d352b11,openstack/pbr,master,,Ia2b79ae622ec4a0647984dc3be4266c85d352b11,Always write pbr.json,ABANDONED,2022-02-04 21:38:27.000000000,2022-02-04 23:40:03.000000000,,1,1,0,827927,acba296d32ad2121cbd10ec66d585b24f554d7cc,4,1,2,1,5263,Jeremy Stanley,fungi,"Always write pbr.json

Drop the safeguard which checks that PBR's SetupTools entrypoint is
True before writing the pbr.json metadata file. If the dist has a
""pbr"" attribute, it's safe to say this is a PBR-style dist. This
becomes necessary with the removal of setup_requires for PEP 517
builds, because we need to toggle the entrypoint off after it's been
called into once, in order to avoid recursion.

Change-Id: Ia2b79ae622ec4a0647984dc3be4266c85d352b11
"
openstack%2Fpbr~master~Ice845dc93925f516721b54d3269c8485a8278d75,openstack/pbr,master,,Ice845dc93925f516721b54d3269c8485a8278d75,Correctly evaluate whether we're in a dist context,ABANDONED,2022-02-04 18:40:51.000000000,2022-02-04 23:39:29.000000000,,11,1,2,827914,692d8a247f0e3cea995002fef7800b102cda4e8a,9,2,4,3,5263,Jeremy Stanley,fungi,"Correctly evaluate whether we're in a dist context

With the change to support PEP 517 build backend use cases without
setup_requires, a recursion-buster was added to toggle the
setuptools entrypoint off. Unfortunately, this happened before
writing the pbr.json file, and was how the write function identified
whether the call was within the context of a dist build.

Add a global module attribute when entering the setuptools
entrypoint, so that it can be used as the new identifier when
writing metadata.

Change-Id: Ice845dc93925f516721b54d3269c8485a8278d75
"
openstack%2Fpbr~master~Ic5e431aee3ed0447db2f838a853fa3c051f9889e,openstack/pbr,master,,Ic5e431aee3ed0447db2f838a853fa3c051f9889e,Test that pbr.json is included in sdists,ABANDONED,2022-02-04 18:40:51.000000000,2022-02-04 23:38:25.000000000,,6,0,0,827913,1a7417accf341b5e85a62738f7e74b7a584b1edf,8,2,4,1,5263,Jeremy Stanley,fungi,"Test that pbr.json is included in sdists

A recent regression resulted in PBR no longer writing its metadata
file due to incorrectly misidentifying whether we were in a dist
context. Make sure this regression test correctly reproduces the
problem.

Change-Id: Ic5e431aee3ed0447db2f838a853fa3c051f9889e
"
openstack%2Ftripleo-quickstart~master~If7db210eefad08904f4cad4d87795c3711976700,openstack/tripleo-quickstart,master,cs9-libvirt-repro,If7db210eefad08904f4cad4d87795c3711976700,Add variables for RHEL/CentOS9,MERGED,2022-02-04 10:01:55.000000000,2022-02-04 23:33:56.000000000,2022-02-04 23:32:24.000000000,20,0,5,827828,2ce46f8205098327b0dbf2cec08d16bd52638296,18,7,1,1,16312,Alfredo Moralejo,amoralej,"Add variables for RHEL/CentOS9

Those variables are needed to use oooq in libvirt provisioning cases on CentOS9.

Change-Id: If7db210eefad08904f4cad4d87795c3711976700
"
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I78cf0220e403add9d88ad457979704693c641f67,openstack/tripleo-upgrade,stable/wallaby,,I78cf0220e403add9d88ad457979704693c641f67,Remove stein and ceph3 parameters for T to W.,MERGED,2022-02-04 12:38:11.000000000,2022-02-04 23:32:27.000000000,2022-02-04 23:32:27.000000000,0,43,0,827747,0585a0a4fa02c6c4c264bc82df7d8cc68af405d6,9,4,2,3,26343,Jose Luis Franco,jfrancoa,"Remove stein and ceph3 parameters for T to W.

The stein and ceph3 parameters are not needed any more in tripleo-upgrade
to upgrade from T(16.X) to W(17.X). Removing them to avoid issues during
the upgrade.

Change-Id: I78cf0220e403add9d88ad457979704693c641f67
(cherry picked from commit a90df48bd58515b8ffaf2ed1e1eb84ae5f06a31c)
"
openstack%2Fopenstack-helm-infra~master~I3b43ed6de3a90af49cfc7124fdee542831f73f40,openstack/openstack-helm-infra,master,,I3b43ed6de3a90af49cfc7124fdee542831f73f40,Use bandit 1.7.1 to avoid Python version issues,MERGED,2022-02-04 15:22:02.000000000,2022-02-04 23:22:00.000000000,2022-02-04 23:20:14.000000000,1,1,1,827876,4296b7d486628ad944f6d340fc0ca6fdc38d50e7,16,5,2,1,29974,Stephen Taylor,st053q,"Use bandit 1.7.1 to avoid Python version issues

The following error is appearing when the bandit playbook is used:
bandit requires Python '>=3.7' but the running Python is 3.6.9

This change specifies bandit 1.7.1 in the playbook, which is
compatible with Python 3.5+

Change-Id: I3b43ed6de3a90af49cfc7124fdee542831f73f40
"
openstack%2Fkeystone~master~Iad41407e6ad1f9e2f33d228da914a302d4123ecc,openstack/keystone,master,bp/remove-sqlalchemy-migrate,Iad41407e6ad1f9e2f33d228da914a302d4123ecc,sql: Remove 'get_init_version',MERGED,2022-01-19 18:50:03.000000000,2022-02-04 23:01:02.000000000,2022-02-04 22:56:25.000000000,39,120,0,825376,06b47cbc8d29a7c3247518f2c6a6ab067b888d99,11,5,1,3,15334,Stephen Finucane,sfinucan,"sql: Remove 'get_init_version'

Initializing and synchronizing the database are done using the same
'keystone-manage' command, 'db_sync'. The bulk of this command is
implemented via '_sync_repo' in 'keystone.common.sql.upgrades'. This
calls two functions in 'oslo_db.sqlalchemy.migration':
'db_version_control', which would attempt to mark a database as version
controlled (by creating the 'migrate_version' table in said database),
followed by 'db_sync'. We are passing an 'init_version' argument to the
latter, and this value is cleverly calculated (in the 'get_init_version'
helper) by retrieving the lowest version found in a migration repository.
All of this seems well and good, but upon attempting to raise the
initial version (as part of the upcoming database migration squashing)
we start seeing errors like this:

  oslo_db.exception.DBMigrationError: ""Database schema file with version
  1 doesn't exist.""

It turns out that the 'init_version' argument here is effectively
useless. The value in providing this argument to the oslo.db's
'db_sync' function is to allow it to optionally mark the database as
version controlled if necessary [1][2], or do what 'db_version_control'
is doing. However, none of the code to do this was being executed
because we were already calling 'db_version_control' manually.

The minimal solution here would be pass an 'init_version' argument to
'db_version_control' instead, ensuring things are initialized with the
correct initial version. However, since we 'db_sync' will do this for
us, we choose instead to remove our invocation of 'db_version_control'
entirely and let 'db_sync' manage everything. We also go a step further
and remove 'get_init_version'. It's clever, but we won't be creating any
new SQLAlchemy-Migrate-based migrations so a simple constant would be
more than okay.

Change-Id: Iad41407e6ad1f9e2f33d228da914a302d4123ecc
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fkeystone~master~Ib27532005c0f297b2b328cccd8d9528731ec1179,openstack/keystone,master,bp/remove-sqlalchemy-migrate,Ib27532005c0f297b2b328cccd8d9528731ec1179,Add generate schemas tool,MERGED,2022-01-14 19:14:29.000000000,2022-02-04 22:59:14.000000000,2022-02-04 22:56:22.000000000,144,1,1,824777,837a55c3b590545c48d2daabe86a5ef0990ad463,10,3,1,2,15334,Stephen Finucane,sfinucan,"Add generate schemas tool

This is a variant of a tool added to nova during their migration to
alembic. It will be helpful as we continue expanding the repo.

Change-Id: Ib27532005c0f297b2b328cccd8d9528731ec1179
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fneutron~master~I15dc080129582a0303dda499322b7aae2f4d6565,openstack/neutron,master,I15dc080129582a0303dda499322b7aae2f4d6565,I15dc080129582a0303dda499322b7aae2f4d6565,Cosmetic: Change ._ovn to ._nb_ovn to match ._sb_ovn,MERGED,2020-04-09 18:26:38.000000000,2022-02-04 22:59:03.000000000,2022-02-04 22:56:29.000000000,195,185,18,718767,92b081145ef55f0e9ff2042eb06db89eb389a654,167,18,10,6,5756,Terry Wilson,otherwiseguy,"Cosmetic: Change ._ovn to ._nb_ovn to match ._sb_ovn

Change-Id: I15dc080129582a0303dda499322b7aae2f4d6565
"
openstack%2Fkeystone~master~Ib04bb9a8d86bce0d5a8de1749954c805d1550a83,openstack/keystone,master,bp/remove-sqlalchemy-migrate,Ib04bb9a8d86bce0d5a8de1749954c805d1550a83,sql: Rename initial migrations,MERGED,2022-01-06 10:48:49.000000000,2022-02-04 22:56:46.000000000,2022-02-04 22:54:25.000000000,0,0,0,823667,2264f43308faa63721acadd98b8d58fb7937d2ac,12,3,2,3,15334,Stephen Finucane,sfinucan,"sql: Rename initial migrations

This is done separately to prove we don't break anything by doing things
this way.

Change-Id: Ib04bb9a8d86bce0d5a8de1749954c805d1550a83
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fkeystone~master~Ia1090f1810d6cddda724a8a048647b4ffeaa733e,openstack/keystone,master,bp/remove-sqlalchemy-migrate,Ia1090f1810d6cddda724a8a048647b4ffeaa733e,Add 'StandardLogging' fixture,MERGED,2022-01-14 19:14:29.000000000,2022-02-04 22:54:28.000000000,2022-02-04 22:54:28.000000000,133,2,0,824776,36f2ee58d517c945d13cb8caa6bd01ee0c1450a3,9,4,1,5,15334,Stephen Finucane,sfinucan,"Add 'StandardLogging' fixture

Another fixture taken wholesale from nova. This configures our logging
to ensure we trigger but don't capture DEBUG-level logs. It also lowers
the level of some less important logs like sqlalchemy-migrate.

Change-Id: Ia1090f1810d6cddda724a8a048647b4ffeaa733e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fkeystone~master~I59882d88fe593ec1ae37415b2157584f7f3c85f8,openstack/keystone,master,bp/remove-sqlalchemy-migrate,I59882d88fe593ec1ae37415b2157584f7f3c85f8,sql: Remove legacy 'migrate_repo' migration repo,MERGED,2022-01-06 10:48:49.000000000,2022-02-04 22:44:06.000000000,2022-02-04 22:41:29.000000000,867,1063,5,823666,503421d3d492cad1bd110ec72870f05d80fe021c,18,4,2,16,15334,Stephen Finucane,sfinucan,"sql: Remove legacy 'migrate_repo' migration repo

This is now folded into the initial migration of the 'expand_repo'
repository. Previously, this was a dummy migration. We simply move
things across and remove any code that was trying to work with the older
repo since it's no longer necessary.

A release note is added, even though it's not really necessary since
nothing will change for users. It's more of a heads up that things are
afoot.

Change-Id: I59882d88fe593ec1ae37415b2157584f7f3c85f8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstack-helm-infra~master~Ia4801b47f44df91db10886f7cb4e8e174557aded,openstack/openstack-helm-infra,master,,Ia4801b47f44df91db10886f7cb4e8e174557aded,memcached: switch to sidecar,MERGED,2022-01-26 21:09:30.000000000,2022-02-04 22:25:47.000000000,2022-02-04 22:23:05.000000000,37,178,1,826533,696e37e3f760b2119024fe3b95c0a322e6b5f677,10,3,2,10,1004,Mohammed Naser,mnaser,"memcached: switch to sidecar

Instead of running the exporter as a seperate deployemnt that talks
to the service, which will NOT be reporting reliable information if
you have more than 1 replica of memcached, this patch insteads moves
things into a sidecar model that runs in the same pod and exposes
the service.

Change-Id: Ia4801b47f44df91db10886f7cb4e8e174557aded
"
openstack%2Fkolla~stable%2Fvictoria~I95ea4a66a80bf035f8bd1180790c7e0c85d759ed,openstack/kolla,stable/victoria,,I95ea4a66a80bf035f8bd1180790c7e0c85d759ed,Drop CentOS Linux 8 image builds,MERGED,2022-02-03 09:20:01.000000000,2022-02-04 22:00:39.000000000,2022-02-04 21:31:40.000000000,24,106,8,827608,07f519996381789c1f21850cfc9b27f3b86a6f4c,39,5,10,8,22629,Michal Nasiadka,mnasiadka,"Drop CentOS Linux 8 image builds

Included patch:

Remove missing collectd packages

Since CentOS Linux 8 repository retirement from
CentOS mirrors - we need to use CentOS Stream 8
version of Opstools repo.

Listed below packages are missing from the repo,
and according to the maintainer dpdk_telemetry is
not going to show up at all (it's basically dead).

The rest of the packages might show up at a later
stage - but it's not a priority for the maintainer.

- collectd-dpdk_telemetry
- collectd-libpod-stats
- collectd-sensubility
- python3-sqlalchemy-collectd

(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)

Change-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed
"
openstack%2Fnova~master~I6996eb5082ede0dc4d75a9d5e15b57fa0ec4f512,openstack/nova,master,bug/1959682,I6996eb5082ede0dc4d75a9d5e15b57fa0ec4f512,DNM: Run Nova gate on Neutron notifier patch,ABANDONED,2022-02-04 19:56:22.000000000,2022-02-04 21:53:16.000000000,,1,0,0,827917,c82e2eef124d546dd4ac1d29ed7208968ae8ac94,6,1,1,1,8864,Artom Lifshitz,artom,"DNM: Run Nova gate on Neutron notifier patch

Depends-on: https://review.opendev.org/c/openstack/neutron/+/827331
Change-Id: I6996eb5082ede0dc4d75a9d5e15b57fa0ec4f512
"
openstack%2Fkolla~stable%2Fwallaby~I5f446fc276e245c1e6974ceeb6ff3dccd84ee502,openstack/kolla,stable/wallaby,,I5f446fc276e245c1e6974ceeb6ff3dccd84ee502,Remove missing collectd packages,MERGED,2022-02-04 06:24:25.000000000,2022-02-04 21:11:54.000000000,2022-02-04 14:49:26.000000000,7,5,3,827741,f439afa42e9f5074e4680987e6185c4bd93aa090,16,3,3,3,22629,Michal Nasiadka,mnasiadka,"Remove missing collectd packages

Since CentOS Linux 8 repository retirement from
CentOS mirrors - we need to use CentOS Stream 8
version of Opstools repo.

Listed below packages are missing from the repo,
and according to the maintainer dpdk_telemetry is
not going to show up at all (it's basically dead).

The rest of the packages might show up at a later
stage - but it's not a priority for the maintainer.

- collectd-dpdk_telemetry
- collectd-libpod-stats
- collectd-sensubility
- python3-sqlalchemy-collectd

Template override used to temporarily use Ceph Nautilus
repo from RDO.

Change-Id: I5f446fc276e245c1e6974ceeb6ff3dccd84ee502
(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)
"
openstack%2Ftripleo-heat-templates~master~Icf1ca1a5e93f74e8f166c78746ba839cccbd4dde,openstack/tripleo-heat-templates,master,secure-rbac,Icf1ca1a5e93f74e8f166c78746ba839cccbd4dde,Keystone: Use system-admin to create resources,MERGED,2022-01-31 05:07:20.000000000,2022-02-04 21:08:03.000000000,2022-02-04 21:08:03.000000000,5,1,1,826981,caed5081e56d84bf01d549275d1cefa5165899f9,12,4,2,1,9816,Takashi Kajinami,kajinamit,"Keystone: Use system-admin to create resources

When SRBAC is enforced, Keystone allows only system-admin to create
some resources like endpoints. This change switches the credential used
for keystone resource creation from project-admin to system-admin, to
prepare for the complete switch to new SRBAC policy rules.

Change-Id: Icf1ca1a5e93f74e8f166c78746ba839cccbd4dde
"
openstack%2Ftripleo-ci~master~I4c47797c5b656af9e42b2401201b885380a29039,openstack/tripleo-ci,master,use_release_file,I4c47797c5b656af9e42b2401201b885380a29039,Use release file for C8 images,MERGED,2022-01-06 13:11:10.000000000,2022-02-04 21:07:59.000000000,2022-02-04 21:07:59.000000000,33,14,68,823688,63a0dbc3fc937f1c0aceefce21569e2ebeccddcb,120,8,28,8,30750,amolkahat,amolkahat,"Use release file for C8 images

This change implements similar solution to another,
implemented for C9: I39fc32cf1249b4f14bdc35a4af7a1f8784c19801

Testproject: https://review.rdoproject.org/r/c/testproject/+/38921

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/827544

Change-Id: I4c47797c5b656af9e42b2401201b885380a29039
Co-Authored-By: Dariusz Smigiel <dsmigiel@redhat.com>
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
"
openstack%2Fswift~master~Ia62456be136f4e32288dd19d8061708e9e7b7cb2,openstack/swift,master,ci-lockup,Ia62456be136f4e32288dd19d8061708e9e7b7cb2,DNM: try to repro CI test lockup,ABANDONED,2022-01-29 05:11:39.000000000,2022-02-04 20:56:04.000000000,,37,658,11,826950,bfc71b5e7c0c3969f1aa7faef16eb77c5429a362,28,1,4,3,15343,Tim Burke,tburke,"DNM: try to repro CI test lockup

Change-Id: Ia62456be136f4e32288dd19d8061708e9e7b7cb2
"
openstack%2Fopenstack-ansible-os_manila~stable%2Fvictoria~I2bbbfed4dd2d253532d6609540d42e1974028c82,openstack/openstack-ansible-os_manila,stable/victoria,osa/remove-centos8,I2bbbfed4dd2d253532d6609540d42e1974028c82,Restore CI jobs,MERGED,2022-02-03 08:56:34.000000000,2022-02-04 20:40:20.000000000,2022-02-04 20:34:57.000000000,8,8,2,827604,b74ea053b839e2bc4fdcbf495c756dd5202568a1,13,3,2,1,25023,Jonathan Rosser,jrosser,"Restore CI jobs

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/827618
Change-Id: I2bbbfed4dd2d253532d6609540d42e1974028c82
"
openstack%2Fkolla~stable%2Fxena~I5f446fc276e245c1e6974ceeb6ff3dccd84ee502,openstack/kolla,stable/xena,,I5f446fc276e245c1e6974ceeb6ff3dccd84ee502,Remove missing collectd packages,MERGED,2022-02-04 06:24:06.000000000,2022-02-04 20:33:13.000000000,2022-02-04 11:56:09.000000000,0,5,0,827740,c6a972e5dbbfa357e45e196215faa1519f5a3167,10,4,1,2,22629,Michal Nasiadka,mnasiadka,"Remove missing collectd packages

Since CentOS Linux 8 repository retirement from
CentOS mirrors - we need to use CentOS Stream 8
version of Opstools repo.

Listed below packages are missing from the repo,
and according to the maintainer dpdk_telemetry is
not going to show up at all (it's basically dead).

The rest of the packages might show up at a later
stage - but it's not a priority for the maintainer.

- collectd-dpdk_telemetry
- collectd-libpod-stats
- collectd-sensubility
- python3-sqlalchemy-collectd

Change-Id: I5f446fc276e245c1e6974ceeb6ff3dccd84ee502
(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)
"
openstack%2Fironic~stable%2Frocky~I3f303a3005fd6129e3f6df87c1dd482236b6562b,openstack/ironic,stable/rocky,,I3f303a3005fd6129e3f6df87c1dd482236b6562b,Cleanup stable/rocky legacy jobs,MERGED,2022-02-03 16:23:43.000000000,2022-02-04 19:40:34.000000000,2022-02-04 19:28:40.000000000,0,22,2,827709,bfdc4aa49a024ae252513b912c6d6294b38bf3c8,11,2,1,2,11655,Julia Kreger,jkreger,"Cleanup stable/rocky legacy jobs

Deleted two experimental jobs which have invalid references and
no longer work in zuul, as this is a branch which is no longer
seeing activity.

Change-Id: I3f303a3005fd6129e3f6df87c1dd482236b6562b
"
openstack%2Fnova~stable%2Ftrain~I2da867f2734b590a884b1fe1200c402cbf7e9e1c,openstack/nova,stable/train,workaround-disable-apic,I2da867f2734b590a884b1fe1200c402cbf7e9e1c,workarounds: Add libvirt_disable_apic,NEW,2021-08-23 13:00:59.000000000,2022-02-04 19:04:42.000000000,,52,1,0,805631,c50e6a501e6340efb1af98135c3b3ce4b826930c,6,2,2,4,10135,Lee Yarwood,lyarwood,"workarounds: Add libvirt_disable_apic

This change adds a new workaround config option to allow disabling the
guest apic.

NOTE(lyarwood): Conflicts caused by
If874f018ea996587e178219569c2903c2ee923cf,
Ied3732042738a6194b635c55e0304d71a6fb66e3 and
Ia500eb614cf575ab846f64f4b69c9068274c8c1f not being present in
stable/train.

Conflicts:
    nova/conf/workarounds.py

Co-authored-by: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1939108
Change-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c
(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)
(cherry picked from commit caeecdec5f32e4c63f3edf6442734e44cfb06f14)
(cherry picked from commit 0c5d9d1d257b6afa88f3e5d1bd2c0f6b42e161a2)
(cherry picked from commit 3240f9c28411e5e7efe04a3fcbe1465ec016c65b)
"
openstack%2Fnova~stable%2Fussuri~I2da867f2734b590a884b1fe1200c402cbf7e9e1c,openstack/nova,stable/ussuri,workaround-disable-apic,I2da867f2734b590a884b1fe1200c402cbf7e9e1c,workarounds: Add libvirt_disable_apic,NEW,2021-08-23 12:55:41.000000000,2022-02-04 19:04:36.000000000,,52,1,0,805630,3240f9c28411e5e7efe04a3fcbe1465ec016c65b,7,2,2,4,10135,Lee Yarwood,lyarwood,"workarounds: Add libvirt_disable_apic

This change adds a new workaround config option to allow disabling the
guest apic.

Co-authored-by: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1939108
Change-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c
(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)
(cherry picked from commit caeecdec5f32e4c63f3edf6442734e44cfb06f14)
(cherry picked from commit 0c5d9d1d257b6afa88f3e5d1bd2c0f6b42e161a2)
"
openstack%2Fnova~stable%2Fvictoria~I2da867f2734b590a884b1fe1200c402cbf7e9e1c,openstack/nova,stable/victoria,workaround-disable-apic,I2da867f2734b590a884b1fe1200c402cbf7e9e1c,workarounds: Add libvirt_disable_apic,NEW,2021-08-23 12:55:25.000000000,2022-02-04 19:04:29.000000000,,52,1,0,805629,0c5d9d1d257b6afa88f3e5d1bd2c0f6b42e161a2,12,2,2,4,10135,Lee Yarwood,lyarwood,"workarounds: Add libvirt_disable_apic

This change adds a new workaround config option to allow disabling the
guest apic.

Co-authored-by: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1939108
Change-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c
(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)
(cherry picked from commit caeecdec5f32e4c63f3edf6442734e44cfb06f14)
"
openstack%2Fdevstack~stable%2Ftrain~Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b,openstack/devstack,stable/train,workaround-disable-apic,Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b,nova: Enable apic removal workaround for bug #1939108 when using QEMU,NEW,2021-08-23 13:05:27.000000000,2022-02-04 19:04:14.000000000,,5,0,0,805636,dcae124042cd7cb8e01fac4f587c28641e953c75,5,2,1,1,10135,Lee Yarwood,lyarwood,"nova: Enable apic removal workaround for bug #1939108 when using QEMU

This change enables [workarounds]libvirt_disable_apic when devstack is
deployed using the libvirt virt driver and qemu virt type in an effort
to avoid issues outlined in bug #1939108 caused by the older kernel
currently used in Cirros 0.5.2.

Depends-On: https://review.opendev.org/c/openstack/nova/+/805631
Closes-Bug: #1939108
Change-Id: Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b
(cherry picked from commit 1e86a25cc28e34d7f73a4c6ccbbc3fc667598d50)
(cherry picked from commit e5255369207f78747b59fe187f910de9a8daff58)
(cherry picked from commit 3730e91e153bacd9021cddd04346d60944aedab2)
(cherry picked from commit d9c6a27149f0c0cd3a7ba93689e93f2979f6a5ed)
"
openstack%2Fdevstack~stable%2Fussuri~Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b,openstack/devstack,stable/ussuri,workaround-disable-apic,Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b,nova: Enable apic removal workaround for bug #1939108 when using QEMU,NEW,2021-08-23 13:05:12.000000000,2022-02-04 19:04:07.000000000,,5,0,0,805634,d9c6a27149f0c0cd3a7ba93689e93f2979f6a5ed,6,2,1,1,10135,Lee Yarwood,lyarwood,"nova: Enable apic removal workaround for bug #1939108 when using QEMU

This change enables [workarounds]libvirt_disable_apic when devstack is
deployed using the libvirt virt driver and qemu virt type in an effort
to avoid issues outlined in bug #1939108 caused by the older kernel
currently used in Cirros 0.5.2.

Depends-On: https://review.opendev.org/c/openstack/nova/+/805630
Closes-Bug: #1939108
Change-Id: Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b
(cherry picked from commit 1e86a25cc28e34d7f73a4c6ccbbc3fc667598d50)
(cherry picked from commit e5255369207f78747b59fe187f910de9a8daff58)
(cherry picked from commit 3730e91e153bacd9021cddd04346d60944aedab2)
"
openstack%2Fdevstack~stable%2Fvictoria~Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b,openstack/devstack,stable/victoria,workaround-disable-apic,Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b,nova: Enable apic removal workaround for bug #1939108 when using QEMU,NEW,2021-08-23 13:04:37.000000000,2022-02-04 19:04:01.000000000,,5,0,0,805633,3730e91e153bacd9021cddd04346d60944aedab2,5,2,1,1,10135,Lee Yarwood,lyarwood,"nova: Enable apic removal workaround for bug #1939108 when using QEMU

This change enables [workarounds]libvirt_disable_apic when devstack is
deployed using the libvirt virt driver and qemu virt type in an effort
to avoid issues outlined in bug #1939108 caused by the older kernel
currently used in Cirros 0.5.2.

NOTE(lyarwood): Conflict caused by Ie6eec4e140c7464936cf0b0c6307026a94c9f4ee
not being present in stable/victoria.

Conflicts:
    lib/nova

Depends-On: https://review.opendev.org/c/openstack/nova/+/805629
Closes-Bug: #1939108
Change-Id: Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b
(cherry picked from commit 1e86a25cc28e34d7f73a4c6ccbbc3fc667598d50)
(cherry picked from commit e5255369207f78747b59fe187f910de9a8daff58)
"
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fxena~I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b,openstack/openstack-ansible-lxc_container_create,stable/xena,osa/remove-centos8,I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b,Remove legacy centos-8 jobs,MERGED,2022-02-02 10:40:20.000000000,2022-02-04 19:01:04.000000000,2022-02-04 18:54:59.000000000,0,18,2,827473,e68754dc009059f9dc7fdd394eef327082ca384a,15,3,1,2,25023,Jonathan Rosser,jrosser,"Remove legacy centos-8 jobs

Change-Id: I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b
"
openstack%2Fpuppet-openstack-integration~master~Ic323266a5a7f2b7e478c18ed762643a5561433bf,openstack/puppet-openstack-integration,master,,Ic323266a5a7f2b7e478c18ed762643a5561433bf,Tempest: Stop setting deprecated glance APIs version parameters,MERGED,2022-02-03 14:22:26.000000000,2022-02-04 18:58:27.000000000,2022-02-04 18:58:27.000000000,0,2,0,827674,07edcf92251f4f29c9b017be0ac30bb8877e85d1,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Tempest: Stop setting deprecated glance APIs version parameters

Depends-on: https://review.opendev.org/825473
Change-Id: Ic323266a5a7f2b7e478c18ed762643a5561433bf
"
openstack%2Fpuppet-openstack-integration~master~Ib31d94819d41dac99021d231927a3325816ecb72,openstack/puppet-openstack-integration,master,openstack/puppet/constraints,Ib31d94819d41dac99021d231927a3325816ecb72,Updated from Puppet OpenStack modules constraints,MERGED,2022-02-03 02:35:15.000000000,2022-02-04 18:58:25.000000000,2022-02-04 18:58:25.000000000,2,2,0,827583,7059fe25f087ca4b9d557ff107a2abd3cf53371f,10,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from Puppet OpenStack modules constraints

Change-Id: Ib31d94819d41dac99021d231927a3325816ecb72
"
openstack%2Fhorizon~master~I5ceda006ed56b21b10b7f1810d37f6ee93530688,openstack/horizon,master,add_fips_job,I5ceda006ed56b21b10b7f1810d37f6ee93530688,DNM - Testing a version of django that allows works with fips,ABANDONED,2021-09-08 04:59:50.000000000,2022-02-04 18:58:07.000000000,,1,1,1,807813,6c26e02c4926a930d7a10f9c0f35cae5ec273563,9,3,3,1,9914,Ade Lee,alee,"DNM - Testing a version of django that allows works with fips

Change-Id: I5ceda006ed56b21b10b7f1810d37f6ee93530688
"
openstack%2Fkayobe~master~I9e99c04173acb7adb0d0e367b6db388b86baf5f2,openstack/kayobe,master,,I9e99c04173acb7adb0d0e367b6db388b86baf5f2,Drop kolla-host.yml playbook,MERGED,2022-01-18 17:03:45.000000000,2022-02-04 18:53:10.000000000,2022-02-04 18:51:28.000000000,2,30,0,825143,b273af0e89500154e8e0e5a6dfce3ba558f0466f,8,3,1,3,14826,Mark Goddard,mgoddard,"Drop kolla-host.yml playbook

This playbook is no longer necessary following the removal of the iSCSI
deploy driver from Ironic.

Change-Id: I9e99c04173acb7adb0d0e367b6db388b86baf5f2
"
openstack%2Fkeystone~master~I07616c1470cd89130250cc89635a508f48c2be06,openstack/keystone,master,,I07616c1470cd89130250cc89635a508f48c2be06,Add details to bootstrap docs for system role assignments,MERGED,2021-01-13 17:42:01.000000000,2022-02-04 18:51:56.000000000,2022-02-04 18:49:30.000000000,6,4,1,770651,876ee4b01a712c407f2d78e0ced80d360ba95b22,12,7,1,1,5046,Lance Bragstad,ldbragst,"Add details to bootstrap docs for system role assignments

In queens we added support for `keystone-manage bootstrap` to
populate a system admin role assignment:

  I6b7196a28867d9a699716c8fef2609d608a5b2a2

The end-user/deployer facing documentation doesn't mention this though
and it should because it ensures deployers have a user for system-level
APIs.

Change-Id: I07616c1470cd89130250cc89635a508f48c2be06
"
openstack%2Fos-brick~master~Ic6c3bdb09e7c4679a710271802102888f2f3c254,openstack/os-brick,master,irrelevant-files,Ic6c3bdb09e7c4679a710271802102888f2f3c254,Prevent CI from running on irrelevant files,MERGED,2021-11-08 21:57:01.000000000,2022-02-04 18:19:52.000000000,2022-02-04 18:12:46.000000000,8,3,11,817111,d2f602f77bf4e00bdd24cbe5dd5f77c180ccdb53,36,5,2,1,5314,Brian Rosmaita,brian-rosmaita,"Prevent CI from running on irrelevant files

We shouldn't be running tempest tests on doc-only changes.

Change-Id: Ic6c3bdb09e7c4679a710271802102888f2f3c254
"
openstack%2Fovsdbapp~stable%2Fussuri~I64fe61678d90de59f5a94c49e1959165ac3646c9,openstack/ovsdbapp,stable/ussuri,fix-func-tests-stable/ussuri,I64fe61678d90de59f5a94c49e1959165ac3646c9,tools: run functional tests against ovn/main branch,MERGED,2022-02-04 16:44:21.000000000,2022-02-04 17:48:47.000000000,2022-02-04 17:46:13.000000000,1,1,0,827893,ce5c016bfecad70be47c55af27b200a1e6cfea88,8,3,1,1,5756,Terry Wilson,otherwiseguy,"tools: run functional tests against ovn/main branch

According to https://mail.openvswitch.org/pipermail/ovs-dev/2021-October/388309.html

Closes-Bug: #1946362
Change-Id: I64fe61678d90de59f5a94c49e1959165ac3646c9
(cherry picked from commit c43f8a00a769464bb4a55397527c3c12cf8fa7d2)
"
openstack%2Fovsdbapp~stable%2Fvictoria~I64fe61678d90de59f5a94c49e1959165ac3646c9,openstack/ovsdbapp,stable/victoria,fix-func-tests-stable/victoria,I64fe61678d90de59f5a94c49e1959165ac3646c9,tools: run functional tests against ovn/main branch,MERGED,2022-02-04 16:44:05.000000000,2022-02-04 17:48:38.000000000,2022-02-04 17:46:15.000000000,1,1,0,827892,e5a97ed8360d3d85052b7c3bdb7c860d8cf330f2,8,3,1,1,5756,Terry Wilson,otherwiseguy,"tools: run functional tests against ovn/main branch

According to https://mail.openvswitch.org/pipermail/ovs-dev/2021-October/388309.html

Closes-Bug: #1946362
Change-Id: I64fe61678d90de59f5a94c49e1959165ac3646c9
(cherry picked from commit c43f8a00a769464bb4a55397527c3c12cf8fa7d2)
"
openstack%2Fovsdbapp~stable%2Fxena~Ic67575ff26c689ec8ab1a5c619ae0b0a2846b05f,openstack/ovsdbapp,stable/xena,improve-errors-logging-stable/xena,Ic67575ff26c689ec8ab1a5c619ae0b0a2846b05f,Log what exception caused abort of the transaction,MERGED,2022-01-27 07:32:25.000000000,2022-02-04 17:48:27.000000000,2022-02-04 17:46:08.000000000,8,1,1,826564,3a0cd11c6517c227cbc123dacecd884a2bef657d,9,4,1,1,11975,Slawek Kaplonski,slaweq,"Log what exception caused abort of the transaction

In some cases, when ovsdb transaction is aborted, knowing what error
caused that can help to understand the root cause of the problem
so this patch adds such logging on the DEBUG level.

Change-Id: Ic67575ff26c689ec8ab1a5c619ae0b0a2846b05f
(cherry picked from commit dc15bfd5729eb9f2b404288a4aa901c318274507)
"
openstack%2Fovsdbapp~stable%2Fwallaby~I64fe61678d90de59f5a94c49e1959165ac3646c9,openstack/ovsdbapp,stable/wallaby,fix-func-tests-stable/wallaby,I64fe61678d90de59f5a94c49e1959165ac3646c9,tools: run functional tests against ovn/main branch,MERGED,2022-02-04 16:43:45.000000000,2022-02-04 17:48:18.000000000,2022-02-04 17:46:10.000000000,1,1,0,827891,eaa64061fb75e44de6b19d89d44f454349e90876,8,3,1,1,5756,Terry Wilson,otherwiseguy,"tools: run functional tests against ovn/main branch

According to https://mail.openvswitch.org/pipermail/ovs-dev/2021-October/388309.html

Closes-Bug: #1946362
Change-Id: I64fe61678d90de59f5a94c49e1959165ac3646c9
(cherry picked from commit c43f8a00a769464bb4a55397527c3c12cf8fa7d2)
"
openstack%2Fovsdbapp~stable%2Ftrain~I64fe61678d90de59f5a94c49e1959165ac3646c9,openstack/ovsdbapp,stable/train,fix-func-tests-stable/train,I64fe61678d90de59f5a94c49e1959165ac3646c9,tools: run functional tests against ovn/main branch,MERGED,2022-02-04 16:44:34.000000000,2022-02-04 17:46:11.000000000,2022-02-04 17:46:11.000000000,1,1,0,827894,48b6a8354d34bb5cc21afbaa7a3f1a9e34f4cbc8,7,3,1,1,5756,Terry Wilson,otherwiseguy,"tools: run functional tests against ovn/main branch

According to https://mail.openvswitch.org/pipermail/ovs-dev/2021-October/388309.html

Closes-Bug: #1946362
Change-Id: I64fe61678d90de59f5a94c49e1959165ac3646c9
(cherry picked from commit c43f8a00a769464bb4a55397527c3c12cf8fa7d2)
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~I7451cce7f74a7dd59222cbc37541ed84f2371f9d,openstack/openstack-ansible,stable/victoria,osa/remove-centos8,I7451cce7f74a7dd59222cbc37541ed84f2371f9d,Define max microversion for manila tempest,MERGED,2022-02-03 10:06:01.000000000,2022-02-04 17:37:08.000000000,2022-02-04 17:33:56.000000000,3,2,2,827618,9816a63e30f11525fccd2da9cfb9858d062c4137,15,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Define max microversion for manila tempest

We also increase flavor ram to allow instances to boot properly.

Change-Id: I7451cce7f74a7dd59222cbc37541ed84f2371f9d
"
openstack%2Fironic-tempest-plugin~master~I82588707fd1207caef56caba2e9c1e91c3ae9031,openstack/ironic-tempest-plugin,master,,I82588707fd1207caef56caba2e9c1e91c3ae9031,WIP: An idea for rbac positive/negative testing,NEW,2021-11-24 21:16:52.000000000,2022-02-04 17:32:59.000000000,,1221,50,52,819165,902693b2e83f14ceb4bba6dab06bce74ad35f219,31,3,18,4,11655,Julia Kreger,jkreger,"WIP: An idea for rbac positive/negative testing

Change-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031
"
openstack%2Fmetalsmith~master~I0d8c85cdc071f4495d8122f936a058337cd72e8a,openstack/metalsmith,master,,I0d8c85cdc071f4495d8122f936a058337cd72e8a,DNM: Test CI,ABANDONED,2021-03-18 19:19:04.000000000,2022-02-04 17:28:36.000000000,,2,0,0,781549,bb4a7e0a49e0456c0627441c1a4d2db013d79846,9,1,3,1,11655,Julia Kreger,jkreger,"DNM: Test CI

Change-Id: I0d8c85cdc071f4495d8122f936a058337cd72e8a
"
openstack%2Fcharm-deployment-guide~master~I997131b67b0aefe9b61d01545de15bd6dc5595a0,openstack/charm-deployment-guide,master,review-openstack-upgrades-2204,I997131b67b0aefe9b61d01545de15bd6dc5595a0,Review OpenStack upgrades,MERGED,2022-01-28 02:40:45.000000000,2022-02-04 17:23:02.000000000,2022-02-04 17:20:49.000000000,191,141,25,826794,1db32e34b8963ad179d6afde1d16f6094231cb86,37,3,11,1,30561,Peter Matulis,pmatulis,"Review OpenStack upgrades

Make the upgrade-openstack page more correct.

Improve wording/formatting and refactor.

For database backups the `backup` action for percona-cluster
was swapped out for the `mysqldump` action to be consistent
with the lack of a `backup` action for mysql-innodb-cluster.

Change-Id: I997131b67b0aefe9b61d01545de15bd6dc5595a0
"
openstack%2Fpython-manilaclient~master~If695bb7c2ffb4c57d6b70dcb9871c5f78da7c47f,openstack/python-manilaclient,master,,If695bb7c2ffb4c57d6b70dcb9871c5f78da7c47f,Add missing space in server migration complete,ABANDONED,2022-02-04 17:07:55.000000000,2022-02-04 17:08:50.000000000,,1,1,0,827886,0522cb6e1ca2ac4b224e96cc77ec062d17331c6c,2,0,1,1,32411,Eduardo Santos,ecsantos,"Add missing space in server migration complete

TrivialFix
Change-Id: I2207da7b2d157681747e22570bed0ca18a72d717

Change-Id: If695bb7c2ffb4c57d6b70dcb9871c5f78da7c47f
"
openstack%2Fpuppet-ceilometer~master~Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760,openstack/puppet-ceilometer,master,cache-opts,Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760,Deprecate cache parameters in the base class,MERGED,2022-01-27 05:04:53.000000000,2022-02-04 17:08:39.000000000,2022-02-04 17:03:57.000000000,296,145,2,826581,a7cf7060ddfeab7440bf2e84522d220014c10bd8,33,4,13,4,9816,Takashi Kajinami,kajinamit,"Deprecate cache parameters in the base class

in favor of the new ceilometer::cache class. This should have been done
when we added that class.

Change-Id: Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760
"
openstack%2Freleases~master~If83c3660674b85b02c8fdefafc59380082288d2c,openstack/releases,master,not-yet-released-yoga,If83c3660674b85b02c8fdefafc59380082288d2c,[ovn-octavia-provider] Propose to switch the release model,MERGED,2022-01-25 17:09:34.000000000,2022-02-04 17:08:36.000000000,2022-02-04 17:08:36.000000000,1,1,4,826331,bc0c1bc10f10d59271fab093597366c9c262e44a,12,8,1,1,17685,Elod Illes,elod.illes,"[ovn-octavia-provider] Propose to switch the release model

Intermediary-released deliverables that did release only once during
the last cycle, and have not done a release yet are good candidates
to switch to the cycle-with-rc model, which is much more suitable for
deliverables that are only released once per cycle.

These changes are not mandatory and this patch is a conveniences to
highlight this point and open the discussion.

PTLs and release liaisons please decide to:
- immediately release an intermediary release (and -1 the proposed change)
- confirm the release model change (+1 the proposed change)
- stay uncertain for this cycle of how many releases will be made, but
  acknowledge that they need to do a release before RC1 (-1 the proposed
  change)

Change-Id: If83c3660674b85b02c8fdefafc59380082288d2c
"
openstack%2Fpuppet-ceilometer~master~Iaf92d94c834e6b34c54d4f270fb007caa37fb367,openstack/puppet-ceilometer,master,,Iaf92d94c834e6b34c54d4f270fb007caa37fb367,Update outdated example,MERGED,2022-02-04 03:11:02.000000000,2022-02-04 17:04:00.000000000,2022-02-04 17:04:00.000000000,9,8,0,827789,c456f0b60b347dc54dacba4b1649830454705dc5,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Update outdated example

The ceilometer::dispatcher class no longer exists, and its parameters
were replaced by the ones of ceilometer::agent::notification.

Change-Id: Iaf92d94c834e6b34c54d4f270fb007caa37fb367
"
openstack%2Freleases~master~I11e91edfef11812999b6081d1a35d6e01643e5e8,openstack/releases,master,not-yet-released-yoga,I11e91edfef11812999b6081d1a35d6e01643e5e8,[swift] Propose to switch the release model,ABANDONED,2022-01-25 17:04:24.000000000,2022-02-04 16:55:27.000000000,,1,1,2,826329,69f63aae0db1d7272f729519a1acaa7f716b8fab,5,2,1,1,17685,Elod Illes,elod.illes,"[swift] Propose to switch the release model

Intermediary-released deliverables that did release only once during
the last cycle, and have not done a release yet are good candidates
to switch to the cycle-with-rc model, which is much more suitable for
deliverables that are only released once per cycle.

These changes are not mandatory and this patch is a conveniences to
highlight this point and open the discussion.

PTLs and release liaisons please decide to:
- immediately release an intermediary release (and -1 the proposed change)
- confirm the release model change (+1 the proposed change)
- stay uncertain for this cycle of how many releases will be made, but
  acknowledge that they need to do a release before RC1 (-1 the proposed
  change)

Change-Id: I11e91edfef11812999b6081d1a35d6e01643e5e8
"
openstack%2Fblazar~master~Id7771b63116064f2adc0cdfd700f14afa1ea6170,openstack/blazar,master,bug/1957761,Id7771b63116064f2adc0cdfd700f14afa1ea6170,Fix lease update when resource_type parameter is missing,MERGED,2022-01-13 14:26:11.000000000,2022-02-04 16:51:58.000000000,2022-02-04 16:49:05.000000000,21,0,2,824579,caf4b282f046d1f50d46eb657f575fda1a4fdae3,8,3,1,2,15197,Pierre Riteau,priteau,"Fix lease update when resource_type parameter is missing

Change-Id: Id7771b63116064f2adc0cdfd700f14afa1ea6170
Closes-Bug: #1957761
"
openstack%2Fnova~master~I3cb39a9ec2c260f422b3c48122b9db512cdd799b,openstack/nova,master,,I3cb39a9ec2c260f422b3c48122b9db512cdd799b,"Revert ""Revert resize: wait for events according to hybrid plug""",MERGED,2021-11-26 20:59:34.000000000,2022-02-04 16:47:06.000000000,2022-02-04 15:23:28.000000000,52,286,32,819494,0b0f40d1b308b29da537859b72080488560c23d4,118,5,6,10,8864,Artom Lifshitz,artom,"Revert ""Revert resize: wait for events according to hybrid plug""

This reverts commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.

That commit was added because - tl'dr - upon revert resize, Neutron
with the OVS backend and the iptables security group driver would send
us the network-vif-plugged event as soon as we updated the port
binding.

That behaviour has changed with commit 66c7f00e1d9. With that commit,
we started unplugging the vifs on the source compute host when doing a
resize. When reverting the resize, the vifs had to be re-plugged again,
regarldess of the networking backend in use. This renders commit
7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b. pointless, and it can be
reverted.

Conflicts - most have to do with context around this commit's code:

nova/compute/manager.py

    a2984b647a4 added provider_mappings to
    _finish_revert_resize_network_migrate_finish()'s signature

    750aef54b19 started using
    _finish_revert_resize_network_migrate_finish() in
    _finish_revert_snapshot_based_resize_at_source()

nova/network/model.py

    8b33ac06445 added get_live_migration_plug_time_events() and
    has_live_migration_plug_time_event()

    7da94440db1 added has_port_with_allocation()

nova/objects/migration.py

    f203da38387 added is_resize() and is_live_migration()

nova/tests/unit/compute/test_compute.py

    a0e60feb3ec added request_spec to the test

nova/tests/unit/compute/test_compute_mgr.py

    be278006a58 added unit tests below ours

nova/tests/unit/network/test_network_info.py

    7da94440db1 (again) added tests for has_port_with_allocation()

nova/tests/unit/virt/libvirt/test_driver.py and
nova/virt/libvirt/driver.py are different in that attempting to
identify individual conflicts is a pointless exercise, as so much has
changed (mdev, vtmp, the recent wait for events during hard reboot
workaround config option, etc). They can be treated as
manual removal of any code that had to do with the bind-time events
logic (though guided by the conflict markers in git).

TODO(artom) There was a follow up commit,
78a08d44ea68b31e27ce344f452756886ad309bd, that added the migration
parameter to finish_revert_migration(). This is no longer needed, as
the migration was only used to obtain plug-time events. We'll have to
undo that as well.

Closes-bug: 1952003
Change-Id: I3cb39a9ec2c260f422b3c48122b9db512cdd799b
"
openstack%2Fpuppet-oslo~stable%2Fxena~I90d8e2b0cf231c9bd0fe97d4f363795886ccf8c7,openstack/puppet-oslo,stable/xena,xena,I90d8e2b0cf231c9bd0fe97d4f363795886ccf8c7,Add pymemcache's HashClient retrying options to oslo.cache,MERGED,2022-01-31 10:12:22.000000000,2022-02-04 16:46:13.000000000,2022-02-04 16:43:54.000000000,36,0,3,827035,edf16447f0a8fa8be0000a3ecf7d751142048a49,14,4,1,3,28522,Hervé Beraud,hberaud,"Add pymemcache's HashClient retrying options to oslo.cache

This patch specifies a set of options required to setup pymemcache's
HashClient retrying feature (dogpile.cache) cache backend.

Original oslo.cache change:
https://review.opendev.org/c/openstack/oslo.cache/+/824944

Change-Id: I90d8e2b0cf231c9bd0fe97d4f363795886ccf8c7
(cherry picked from commit 34e1446f44d66a96c8fbe631fc29413de0a51551)
"
openstack%2Fnova~stable%2Fwallaby~Icaad155e22c9e2d86e464a0deb741c73f0dfb28a,openstack/nova,stable/wallaby,bug/1953359,Icaad155e22c9e2d86e464a0deb741c73f0dfb28a,[rt] Apply migration context for incoming migrations,MERGED,2021-12-06 16:23:44.000000000,2022-02-04 16:45:35.000000000,2022-02-04 15:43:13.000000000,40,24,29,820555,5f2f283a75243d2e2629d3c5f7e5ef4b3994972d,107,7,2,2,9708,Balazs Gibizer,gibi,"[rt] Apply migration context for incoming migrations

There is a race condition between an incoming resize and an
update_available_resource periodic in the resource tracker. The race
window starts when the resize_instance RPC finishes  and ends when the
finish_resize compute RPC finally applies the migration context on the
instance.

In the race window, if the update_available_resource periodic is run on
the destination node, then it will see the instance as being tracked on
this host as the instance.node is already pointing to the dest. But the
instance.numa_topology still points to the source host topology as the
migration context is not applied yet. This leads to CPU pinning error if
the source topology does not fit to the dest topology. Also it stops the
periodic task and leaves the tracker in an inconsistent state. The
inconsistent state only cleanup up after the periodic is run outside of
the race window.

This patch applies the migration context temporarily to the specific
instances during the periodic to keep resource accounting correct.

Change-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a
Closes-Bug: #1953359
Closes-Bug: #1952915
(cherry picked from commit 32c1044d86a8d02712c8e3abdf8b3e4cff234a9c)
(cherry picked from commit 1235dc324ebc1c6ac6dc94da0f45ffffcc546d2c)
"
openstack%2Fpuppet-magnum~master~I1315b3f38ae52df40c29196e6f2dd92198bd4237,openstack/puppet-magnum,master,wsgi-script,I1315b3f38ae52df40c29196e6f2dd92198bd4237,Use generated script instead of app.wsgi,MERGED,2022-02-04 00:14:04.000000000,2022-02-04 16:44:21.000000000,2022-02-04 16:44:21.000000000,2,2,0,827780,760d4dfa0aa08e04c5f8d24ca29465250227846a,9,3,2,2,9816,Takashi Kajinami,kajinamit,"Use generated script instead of app.wsgi

Change-Id: I1315b3f38ae52df40c29196e6f2dd92198bd4237
"
openstack%2Fpuppet-watcher~master~Ie57cff772e13ea0c1c8bbc13d67b29ea8dbcd08d,openstack/puppet-watcher,master,wsgi-script,Ie57cff772e13ea0c1c8bbc13d67b29ea8dbcd08d,Use generated script instead of app.wsgi,MERGED,2022-02-03 23:37:34.000000000,2022-02-04 16:40:10.000000000,2022-02-04 16:40:10.000000000,7,18,0,827777,b1ab43e98c174f72e426f9a3510c6a1030dfb233,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Use generated script instead of app.wsgi

because app.wsgi was deprecated by [1].

[1] c1a5e443fee632192af0b4f8488d900bbbba6149

Change-Id: Ie57cff772e13ea0c1c8bbc13d67b29ea8dbcd08d
"
openstack%2Fblazar~master~Ic5fa07c4b1fffc763302b07e8a5f6fe0e15e019e,openstack/blazar,master,preemptibles,Ic5fa07c4b1fffc763302b07e8a5f6fe0e15e019e,Delete preemptible instances on reservation start,MERGED,2020-08-31 20:07:21.000000000,2022-02-04 16:35:55.000000000,2022-02-04 16:32:54.000000000,30,0,4,749152,9264905508c821fe64c96b5a4dd1941135ecf2e3,15,3,3,2,15197,Pierre Riteau,priteau,"Delete preemptible instances on reservation start

Blueprint: blazar-preemptible-instances
Change-Id: Ic5fa07c4b1fffc763302b07e8a5f6fe0e15e019e
"
openstack%2Fpython-tripleoclient~master~I5be7a6ccbd67e1acc4bc829701ab57f55ff6172c,openstack/python-tripleoclient,master,change-797314-6,I5be7a6ccbd67e1acc4bc829701ab57f55ff6172c,Adding --mode option to specify the type of ReaR configuration,ABANDONED,2021-06-21 13:37:08.000000000,2022-02-04 16:10:43.000000000,,92,1,8,797314,3f41bb4baa75db01f898ff3e0e3b81f825dfd127,24,6,8,2,32728,Juan Pablo Lopez,jplopezgu,"Adding --mode option to specify the type of ReaR configuration

- '--mode' option was added to specify which type of configuration
  to be used while setting up ReaR on the controllers when running
  '--init rear' or '--setup-rear'. This will overwrite the
  tripleo_backup_and_restore_mode. If '--mode' is not used
  tripleo_backup_and_restore_mode defaults to nfs to keep
  original functionality. Options available currently are: nfs and
  pxe.

- '--mode' option can also be used with '--setup-nfs' in order
  to configure the BackupNode or Undercloud. If '--mode' is
  not used it will execute 'prepare-nfs-backup.yaml', which is
  the same behaviour as using nfs as argument. eg. '--mode nfs'.
  On the other hand, '--mode pxe' will execute 'prepare-nfs-pxe.yaml'.

Depends-on: I1b712b57941c328681d23273f669bba83c163d7c
Change-Id: I5be7a6ccbd67e1acc4bc829701ab57f55ff6172c
"
openstack%2Fblazar-dashboard~master~I80026407ab537b7967ccbd2965d66f40018c4c0e,openstack/blazar-dashboard,master,calendar_docs,I80026407ab537b7967ccbd2965d66f40018c4c0e,Add documentation for configuring availability calendar,MERGED,2022-01-28 17:54:10.000000000,2022-02-04 16:06:25.000000000,2022-02-04 16:04:31.000000000,37,0,4,826926,96b3921d7780c5f0a40a4b84152e98efbc66e0fe,12,3,2,2,33582,Mark Powers,markpowers,"Add documentation for configuring availability calendar

This adds documentation explaining how to enable, configure the
calendar attribute, and what permissions are needed to use the
calendar.

Change-Id: I80026407ab537b7967ccbd2965d66f40018c4c0e
"
openstack%2Fneutron~stable%2Fwallaby~Id127675793cfd3b9d4e7e328fde64f8595c7b00d,openstack/neutron,stable/wallaby,neutron-ci-improvements,Id127675793cfd3b9d4e7e328fde64f8595c7b00d,Update irrelevant-files for non scenario jobs,MERGED,2022-01-28 05:35:24.000000000,2022-02-04 15:55:50.000000000,2022-02-04 15:43:18.000000000,66,4,4,826830,859726bc38bd6e5c253517fbc2a68f6557a78be9,35,5,2,4,13861,yatin,yatinkarel,"Update irrelevant-files for non scenario jobs

Update irrelevant-files for non scenario jobs to
avoid unnecessary jobs, like skip ovs/linuxbridge
jobs on ovn related changes, same for non-ovn jobs.

Also skip running these jobs on functional and
fullstack tests changes.

Change-Id: Id127675793cfd3b9d4e7e328fde64f8595c7b00d
(cherry picked from commit 722fca928dc7e04705bc148e40135064d6566e8d)
"
openstack%2Ftripleo-ansible~master~I1b712b57941c328681d23273f669bba83c163d7c,openstack/tripleo-ansible,master,change-797035-22,I1b712b57941c328681d23273f669bba83c163d7c,Add backup and restore mode for ReaR configuration,ABANDONED,2021-06-18 09:29:51.000000000,2022-02-04 15:55:50.000000000,,89,3,19,797035,0ca056ad4de5396b01c6e07df67af583ca06cfdf,92,7,23,5,32728,Juan Pablo Lopez,jplopezgu,"Add backup and restore mode for ReaR configuration

- Adding tripleo_backup_and_restore_mode to defaults/main.yaml
  for determine which configuration to use: PXE of NFS.
  Defaults to NFS, original behaviour.
- Adding tripleo_backup_and_restore_output_server,
  tripleo_backup_and_restore_pxe_storage_folder and
  tripleo_backup_and_restore_pxe_output_url to
  defaults/main.yaml for defining the OUTPUT_URL
  for PXE ReaR configuration. This will allow to
  copy the kernel and ramdisk to the Undercloud
  for automating the restoration.
- Adding tripleo_backup_and_restore_user_timeout
  to defaults/main.yaml for defining the timeout
  before using the default option if a user prompt
  is required during the restoration.
- Adding tripleo_backup_and_restore_pxe_local_config,
  which are the dictionary used for configuring local.conf
- Modifying templates/local.conf.j2 for configuring
  ReaR depending on the mode NFS or PXE.
- Adding tripleo_backup_and_restore_network_preparation_commands
  to defaults/main.yaml for defining the commands
  to be run for preparing the network during the
  restoration phase. Because ReaR does not support
  ovs, it is required to setup the network for
  connecting to the backup node.
- Adding prepare-nfs-pxe.yaml for setting up and
  configuring NFS on the Undercloud to copy the
  ramdisk and kernel.
- OUTPUT_URL extract executed when
  tripleo_backup_and_restore_mode != 'PXE'
- setup_nfs.yml modified for configuring /etc/exports
  when using pxe.

Change-Id: I1b712b57941c328681d23273f669bba83c163d7c
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a,openstack/kolla-ansible,stable/wallaby,,I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a,Add OIDCDiscoverURL mod_oidc option,MERGED,2022-02-03 11:26:27.000000000,2022-02-04 15:30:31.000000000,2022-02-04 15:21:00.000000000,8,0,1,827638,501c8dec82599f5da420473828003f9660d284ac,14,3,1,2,32657,Piotr Parczewski,piotrp,"Add OIDCDiscoverURL mod_oidc option

This gets rid of one of the steps in the authentication flow.

Closes-Bug: 1930055
Change-Id: I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a
(cherry picked from commit e7455759ad4be5e1212d84e08612a4ff4ece8717)
"
openstack%2Ftempest~master~I07b1376173dbcba6b666f246036c4371121d3fdc,openstack/tempest,master,fips-compatibility,I07b1376173dbcba6b666f246036c4371121d3fdc,Add skip for tests that wont work under fips,ABANDONED,2021-09-24 03:31:12.000000000,2022-02-04 15:24:02.000000000,,7,0,13,810808,19a7f18a1f6182af31ed0f53ae11be437323becb,57,6,19,2,9914,Ade Lee,alee,"Add skip for tests that wont work under fips

The plain encryptor for cryptsetup uses a disallowed algorithm
under fips (ripemd160) and has been deprecated for a long time now.
Unless we choose to fix the encryptor in os-brick to work under fips,
we should disable this test in FIPS mode as it is invalid.

In general, we may expect that other tests may also fail under fips
for similar reasons.  We add a generic flag to be used here to skip
such tests.

Change-Id: I07b1376173dbcba6b666f246036c4371121d3fdc
"
openstack%2Fproject-config~master~I188ad6803015b880f8f952052012fa1c3c8b52fc,openstack/project-config,master,import-cirros,I188ad6803015b880f8f952052012fa1c3c8b52fc,Add cirros/cirros project,MERGED,2022-02-03 16:45:11.000000000,2022-02-04 15:21:07.000000000,2022-02-04 14:58:59.000000000,19,0,4,827719,c50e9fba0e3a53187ff2b9e1871e9baea94e94b4,18,5,4,3,13252,Dr. Jens Harbott,jrosenboom,"Add cirros/cirros project

Since the Travis CI is no longer useable, we want to build new jobs for
CirrOS on the OpenDev platform. Since at a later stage some testing
involving a Devstack deployment may be helpful, this is placed into the
openstack tenant.

Change-Id: I188ad6803015b880f8f952052012fa1c3c8b52fc
"
openstack%2Fcinder~master~Ia3dbffc337551e26f43fc5b6eefe01621ca9fcf0,openstack/cinder,master,,Ia3dbffc337551e26f43fc5b6eefe01621ca9fcf0,DOC: Remove NetApp dependecy from 'table/*.inc' files,NEW,2022-01-11 14:10:41.000000000,2022-02-04 15:20:50.000000000,,339,333,45,824187,5e70ec53e45be693d846610cadc553baafa6e9d3,110,1,7,19,33986,Lucas Morais de oliveira,lucasmoliveira059,"DOC: Remove NetApp dependecy from 'table/*.inc' files

Removes the dependency from 'table/*.inc' files for NetApp
documentation by using sphinx 'config-table' on
'/cinder/volume/drivers/netapp/options.py'.

Changes the 'options.py' file to fix the size of tables and deletes
the old 'table/*.inc' files.

Partial-Bug: 1847600
Co-Authored-By: Leonardo Campelo <leocampelo16@gmail.com>
Change-Id: Ia3dbffc337551e26f43fc5b6eefe01621ca9fcf0
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I1f109492edf96c5dcca6fca5b40809cd48587111,openstack/kolla-ansible,stable/victoria,temp_disable_rmq_tls-stable/victoria,I1f109492edf96c5dcca6fca5b40809cd48587111,"Revert ""CI: Temporarily disable rabbitmq internal tls""",ABANDONED,2021-03-08 11:28:50.000000000,2022-02-04 15:14:30.000000000,,3,2,4,779148,f9dba319768b1c62dae4960c35a90e4644c490f2,23,3,5,1,14826,Mark Goddard,mgoddard,"Revert ""CI: Temporarily disable rabbitmq internal tls""

This reverts commit d7ba5efab1295f2a84e24a678162196f1eef18b2.

Since RabbitMQ TLS is still not supported in Ussuri, it is
not enabled for upgrade jobs.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/779146

Change-Id: I1f109492edf96c5dcca6fca5b40809cd48587111
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8,openstack/openstack-ansible,stable/victoria,osa/remove-centos8,Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8,Fix rich version for ansible-lint,MERGED,2022-01-11 12:12:51.000000000,2022-02-04 14:37:05.000000000,2022-02-04 14:31:40.000000000,2,1,3,824028,ea22c0f1088a3741cecea2d8c5fdd29fce01a36e,20,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix rich version for ansible-lint

Ansible-lint prior to v5.3.1 has issue with reach version >=11.0.0.
In order to cherry-pick fix to stable branches we fix rich version.

We can't use requirements as rich is neither in blacklist nor in
global-requirements, so must be handled independently

This should be reverted with ansible-lint version bump.

Change-Id: Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8
(cherry picked from commit a67fd5e4c5ec9d93110c92aac44bf16056389199)
"
openstack%2Fnova~master~I812d720555bdf008c83cae3d81541a37bd99e594,openstack/nova,master,bug/1952941,I812d720555bdf008c83cae3d81541a37bd99e594,Migrate RequestSpec.numa_topology to use pcpuset,MERGED,2021-12-02 12:12:14.000000000,2022-02-04 14:20:52.000000000,2022-02-04 14:18:09.000000000,47,42,14,820153,e853bb57181721725a89656b3cb3058636630a6e,29,3,4,4,9708,Balazs Gibizer,gibi,"Migrate RequestSpec.numa_topology to use pcpuset

When the InstanceNUMATopology OVO has changed in
I901fbd7df00e45196395ff4c69e7b8aa3359edf6 to separately track
pcpus from vcpus a data migration was added. This data migration is
triggered when the InstanceNUMATopology object is loaded from the
instance_extra table. However that patch is missed the fact that the
InstanceNUMATopology object can be loaded from the request_spec table as
well. So InstanceNUMATopology object in RequestSpec are not migrated.
This could lead to errors in the scheduler when such RequestSpec object
is used for scheduling (e.g. during a migration of a pre Victoria
instance with cpu pinning)

This patch adds the missing data migration.

Change-Id: I812d720555bdf008c83cae3d81541a37bd99e594
Closes-Bug: #1952941
"
openstack%2Ftripleo-ansible~master~I4953aeeef1588538448696ffbb463f9da3ff0571,openstack/tripleo-ansible,master,image_serve-seport,I4953aeeef1588538448696ffbb463f9da3ff0571,Ensure httpd is allowed to listen on the port,MERGED,2022-01-13 10:45:18.000000000,2022-02-04 14:13:24.000000000,2022-02-04 11:22:30.000000000,22,0,11,824524,8378ac7ae4f21dc99347a432df878d911ec8efc4,35,6,7,4,28223,Cedric Jeanneret,cjeanner,"Ensure httpd is allowed to listen on the port

Apparently, starting cs9, httpd isn't allowed to listen on the default
image_serve port (8787) anymore.

While tripleo-heat-templates modifies the selinux type for this port,
there are some cases where we run this tripleo_image_serve role from
outside the deploy, and we'll face denials for that port.

Since we already manage some of the SELinux configs for the directory,
we can also manage the port.

We also need to add a new dependency in order to run molecule.

Change-Id: I4953aeeef1588538448696ffbb463f9da3ff0571
"
openstack%2Ftempest~master~I76d64b500d1b8cb4a1b4e91b1f401c1a35fe9e10,openstack/tempest,master,change-820860,I76d64b500d1b8cb4a1b4e91b1f401c1a35fe9e10,WIP - Refactor ssh.Client to allow other clients,NEW,2021-12-07 12:46:46.000000000,2022-02-04 14:03:12.000000000,,369,276,11,820860,d8b9a7896675e5412d99b4672810e8653b94c309,69,4,37,11,34120,Andre Aranha,afariasa,"WIP - Refactor ssh.Client to allow other clients

paramiko is not fips certified, and so, cannot execute on a system
where fips is enabled.  This is an initial patch to use libssh
instead of paramiko when CONF.validation.fips is enabled.

This patch is nowhere near complete - for one thing, proxy channel
stuff is not finished at all, and tests have not yet been updated.
But I want to put this up and see if it works for other reviews
as a starter.

Change-Id: I76d64b500d1b8cb4a1b4e91b1f401c1a35fe9e10
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Fwallaby~I56a6c47e4d95e86dc1e0d731f1e39eeec6ac7dc8,openstack/openstack-ansible-os_keystone,stable/wallaby,osa_tls13-stable/xena-stable/wallaby,I56a6c47e4d95e86dc1e0d731f1e39eeec6ac7dc8,Fix ordering error enabling/disabling Apache modules,MERGED,2022-01-26 21:46:17.000000000,2022-02-04 13:54:08.000000000,2022-02-04 13:50:25.000000000,16,1,1,826551,38fd9f6349b031c5451518be13e38b0b7b90de8c,12,3,1,1,25023,Jonathan Rosser,jrosser,"Fix ordering error enabling/disabling Apache modules

When site configuration already exists, a change to make a module
'absent' would fail as the module was removed before the
configuration.

This change ensures modules are enabled first, before site
configuration changes, and finally any required modules are
disabled.

Change-Id: I56a6c47e4d95e86dc1e0d731f1e39eeec6ac7dc8
(cherry picked from commit 236f11c31d6b2d395a9ec8846e240841510825ce)
"
openstack%2Ftripleo-heat-templates~master~Ibd2200aa912960b267a9975571e05665a29e40f0,openstack/tripleo-heat-templates,master,,Ibd2200aa912960b267a9975571e05665a29e40f0,Skip podman purge on Undercloud,MERGED,2022-02-02 18:16:42.000000000,2022-02-04 13:51:52.000000000,2022-02-03 21:36:23.000000000,31,0,1,827539,7eb280ace819e7fa7d8e16a6328a5b3ff6fa00a5,12,4,1,2,7144,James Slagle,slagle,"Skip podman purge on Undercloud

With the undercloud using ephemeral Heat, there will be images for
ephemeral Heat in the local container storage that do not have any
associated containers. Podman purge would delete these images, and they
then wouldn't be available for overcloud commands.

Instead, skip running the podman purge tasks on the Undercloud. This
means that the local container image storage will grow over time. Given
the reduced number of services on the undercloud, the storage usage is
not as bad as it was previously. However, operators will need to be
aware.

While ""podman image prune"" does have a --filter option to preserve
images, it does not work in the version of podman in
container-tools:3.0. When the needed patch[1] is available, the podman
purge tasks can be re-enabled, which would address the issue of growing
local storage.

[1] https://github.com/containers/podman/commit/a5ad36c65ea07d839fd9bf55a820c8cb9884eed1
[2] https://github.com/containers/podman/pull/10390

Change-Id: Ibd2200aa912960b267a9975571e05665a29e40f0
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fkayobe~master~I4b8a42704f2b0a145ee9dec433d91df67628cd9d,openstack/kayobe,master,,I4b8a42704f2b0a145ee9dec433d91df67628cd9d,ntp: Fix service mask when service doesn't exist,MERGED,2022-02-02 12:12:19.000000000,2022-02-04 13:39:50.000000000,2022-02-04 13:37:58.000000000,11,1,4,827486,7173a9f73126eca1cc36bd6997acf10ac75832ff,21,5,3,2,14826,Mark Goddard,mgoddard,"ntp: Fix service mask when service doesn't exist

The ntp role attempts to mask NTP services that may conflict with
chrony. Currently we are seeing the following failure:

    TASK ntp : Mask alternative NTP clients to prevent conflicts
    Could not find the requested service systemd-timesyncd.service: host

The service_facts module shows that the service is not found:

    ""systemd-timesyncd.service"": {
        ""name"": ""systemd-timesyncd.service"",
        ""source"": ""systemd"",
        ""state"": ""stopped"",
        ""status"": ""not-found""
    },

According to the Internet, this can happen if there are After/Before
dependencies in one service on another that does not exist.

This change fixes the handling of these not-found services to avoid the
error.

Story: 2009821
Task: 44401

Depends-On: https://review.opendev.org/c/openstack/kayobe/+/827404

Change-Id: I4b8a42704f2b0a145ee9dec433d91df67628cd9d
"
openstack%2Ftripleo-quickstart~master~I3457e03cbb0bbd639597d2e61b6f85eccea50adf,openstack/tripleo-quickstart,master,cs9-libvirt-repro,I3457e03cbb0bbd639597d2e61b6f85eccea50adf,[cs9] add requirements for virt-* commands,ABANDONED,2021-12-14 12:41:37.000000000,2022-02-04 13:25:45.000000000,,17,0,3,821700,dd79556f2464ca22d9ee5f1252ed3ac3b38b793e,40,6,7,1,6926,Bogdan Dobrelya,bogdando,"[cs9] add requirements for virt-* commands

For cs9 in libvirt mode, virt-* commands should be installed from
guestfs-tools.

Change-Id: I3457e03cbb0bbd639597d2e61b6f85eccea50adf
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fkolla~master~I5e620cd07326b3d69b07f7c4667176918d7c1b24,openstack/kolla,master,,I5e620cd07326b3d69b07f7c4667176918d7c1b24,Switch to use Yoga binary packages,MERGED,2022-01-26 15:26:21.000000000,2022-02-04 13:12:13.000000000,2022-02-04 11:56:11.000000000,4,4,8,826488,57f56e70623a5cb9bec3a97a1f05b087c99f1ccd,29,5,4,3,24072,Marcin Juszkiewicz,hrw,"Switch to use Yoga binary packages

At R-8 week we are moving to current release binary packages for CentOS
and Ubuntu (Debian OpenStack team do not publish before RC).

Change-Id: I5e620cd07326b3d69b07f7c4667176918d7c1b24
"
openstack%2Fnova~master~I672af45a1d1c7fb428b1c4983d4f856852829fb9,openstack/nova,master,bug/1952941,I672af45a1d1c7fb428b1c4983d4f856852829fb9,Reproduce bug 1952941,MERGED,2021-12-02 08:52:24.000000000,2022-02-04 12:45:56.000000000,2022-02-04 12:42:47.000000000,69,5,3,820121,05e8977cb2fd660dcf6af32c5804f7548bf722a7,19,3,2,2,9708,Balazs Gibizer,gibi,"Reproduce bug 1952941

The added unit test proves that pre-Victoria RequestSpec objects
describing a cpu pinned Instance are not migrated to a proper format
in Victoria or newer.

Related-Bug: #1952941

Change-Id: I672af45a1d1c7fb428b1c4983d4f856852829fb9
"
openstack%2Fpuppet-openstack-integration~stable%2Fvictoria~I97995b6821a24b64edbc5b1e874ba67a0418f96a,openstack/puppet-openstack-integration,stable/victoria,,I97995b6821a24b64edbc5b1e874ba67a0418f96a,Ceph: Use centos-8-stream instead of centos-8,MERGED,2022-02-03 16:27:14.000000000,2022-02-04 12:41:12.000000000,2022-02-04 12:41:12.000000000,8,3,0,827711,0a9eec11e0db740bac5ee4e4a303e710c41137a7,11,3,4,2,9816,Takashi Kajinami,kajinamit,"Ceph: Use centos-8-stream instead of centos-8

Conflicts:
	configure_facts.sh
	manifests/repos.pp

Backport note:
This backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48
which fixed the repository url used when mirror info is not available.

Also, this adds a puppet-openstack_extras parameter to enforce usage of
stream repo. Default was changed during Xena cycle by [1] but that
is not present in stable/wallaby and older.
  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3

Finally, Nautilus is not available in ceph mirror so we'll switch to
the mirror repo currently RDO is hosting.

Change-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a
(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)
(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)
(cherry picked from commit 4d6a35effa25b23e1f345402ca5ef34df74b7674)
"
openstack%2Fpython-heatclient~stable%2Fvictoria~I67b4957cea1ccbd5cdc0314d2eaddef0c24f7dfc,openstack/python-heatclient,stable/victoria,migrate-to-focal-stable/victoria,I67b4957cea1ccbd5cdc0314d2eaddef0c24f7dfc,[goal] Migrate testing to ubuntu focal,ABANDONED,2020-10-28 15:44:11.000000000,2022-02-04 12:40:02.000000000,,7,7,0,760169,cfd44d849f95e066ca5db4a402820d7acd6f5ce2,8,3,1,3,11904,Sean McGinnis,SeanM,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8
support in their later version.

- noqa for pep8 C901 check.

Closes-Bug: #1886298

Story: #2007865
Task: #40186

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal

Change-Id: I67b4957cea1ccbd5cdc0314d2eaddef0c24f7dfc
(cherry picked from commit 17958681f6b2f076b54951680843b2d2eac59494)
"
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I97995b6821a24b64edbc5b1e874ba67a0418f96a,openstack/puppet-openstack-integration,stable/wallaby,,I97995b6821a24b64edbc5b1e874ba67a0418f96a,Ceph: Use centos-8-stream instead of centos-8,MERGED,2022-02-03 16:22:54.000000000,2022-02-04 12:35:58.000000000,2022-02-04 12:35:58.000000000,21,13,1,827708,4d6a35effa25b23e1f345402ca5ef34df74b7674,11,3,3,7,9816,Takashi Kajinami,kajinamit,"Ceph: Use centos-8-stream instead of centos-8

Conflicts:
	configure_facts.sh

Backport note:
This backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48
which fixed the repository url used when mirror info is not available.

Also, this adds a puppet-openstack_extras parameter to enforce usage of
stream repo. Default was changed during Xena cycle by [1] but that
is not present in stable/wallaby and older.
  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3

In addition, because Octopus is not currently available, this reverts
the following commit to switch to Nautilus. ROD has been using Nautilus
for their Wallaby release and it's known to work.

    a13001fc36b9db0ee00d58eac8b0b07bae0f84a8.
    ""Switch to Ceph Octopus from Nautilus""

Finally, Nautilus is not available in ceph mirror so we'll switch to
the mirror repo currently RDO is hosting.

Change-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a
(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)
(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)
"
openstack%2Fswift~master~I0f5477f383e496ec94816439d404ad6a4cfc075b,openstack/swift,master,p-fix-statsd-prefix,I0f5477f383e496ec94816439d404ad6a4cfc075b,Make NodeIter require a logger argument,MERGED,2022-01-19 15:38:51.000000000,2022-02-04 12:33:25.000000000,2022-02-04 08:50:33.000000000,13,10,5,825335,a50726f27a1cf76339fb23253389bc58539979b7,25,2,4,3,7847,Alistair Coles,acoles,"Make NodeIter require a logger argument

Change-Id: I0f5477f383e496ec94816439d404ad6a4cfc075b
"
openstack%2Fpython-tripleoclient~master~I58f7b3dc111fc930ebbffa8389d0bf222d3239b4,openstack/python-tripleoclient,master,deprecate-overcloud-profiles,I58f7b3dc111fc930ebbffa8389d0bf222d3239b4,Deprecate 'overcloud profiles' commands,MERGED,2022-01-19 02:47:23.000000000,2022-02-04 12:33:19.000000000,2022-02-04 12:28:23.000000000,18,0,3,825237,482b0acd0dcf5c68f5e30502edcacd4352f26126,18,4,2,2,24245,Harald Jensås,harald.jensas,"Deprecate 'overcloud profiles' commands

Since we do not use nova on the undercloud by default
let's add a deprecation warning for removal of the commands.

Change-Id: I58f7b3dc111fc930ebbffa8389d0bf222d3239b4
"
openstack%2Fnova~master~I3ec5f479653637824883058b18126d0e18c9b46d,openstack/nova,master,vmware_indentation,I3ec5f479653637824883058b18126d0e18c9b46d,Vmware: Fix indentation in conditionals,NEW,2021-08-27 10:46:59.000000000,2022-02-04 12:30:42.000000000,,15,13,5,806391,9cbca48c5eab68e5f74faa6790359d0605f2746b,26,2,3,4,24434,Fabian Wiesel,fwiesel,"Vmware: Fix indentation in conditionals

The conditions are often aligned with the next block,
which makes the code harder to read.

Change-Id: I3ec5f479653637824883058b18126d0e18c9b46d
"
openstack%2Fdevstack~stable%2Fussuri~I02e3208df53e7744c4be9c62172b78f08da0514e,openstack/devstack,stable/ussuri,bug/1959600-stable/ussuri,I02e3208df53e7744c4be9c62172b78f08da0514e,Stop gating on grenade,MERGED,2022-02-02 11:29:47.000000000,2022-02-04 12:19:02.000000000,2022-02-04 12:10:50.000000000,5,1,1,827478,7ffa73a7825a4a699913409ba4df9a084889e330,10,5,2,1,13252,Dr. Jens Harbott,jrosenboom,"Stop gating on grenade

We have made the grenade job non-voting in the check queue, but it is
stilled pulled in as voting in gate via the integrated-gate-py3
template. Stop using that template and instead reference the
tempest-full-py3 job directly in check and gate.

Change-Id: I02e3208df53e7744c4be9c62172b78f08da0514e
"
openstack%2Fopenstack-ansible-galera_server~master~I57187bab2ee35521c275f0f0b99c1ca8fd1830ad,openstack/openstack-ansible-galera_server,master,,I57187bab2ee35521c275f0f0b99c1ca8fd1830ad,Listen on an additional port for monitoring/diagnostic purposes,MERGED,2021-04-15 09:53:53.000000000,2022-02-04 12:06:12.000000000,2022-02-04 12:02:05.000000000,27,0,5,786381,da6bdafd65b028d3db6abab7f1a63ff203596688,24,5,4,4,31542,Andrew Bonney,andrewbonney,"Listen on an additional port for monitoring/diagnostic purposes

If the Galera cluster hits its configured max_connections value
then only the super-users can still connect for debug purposes.
As the monitoring user cannot connect, this can cause a cascading
failure as HAProxy marks the instance as unreachable.

This configuration adds an extra listening port with a limited
number of connections to allow the monitoring user to connect at
all times.

Change-Id: I57187bab2ee35521c275f0f0b99c1ca8fd1830ad
"
openstack%2Fkayobe~stable%2Fxena~I4b8a42704f2b0a145ee9dec433d91df67628cd9d,openstack/kayobe,stable/xena,,I4b8a42704f2b0a145ee9dec433d91df67628cd9d,ntp: Fix service mask when service doesn't exist,MERGED,2022-02-02 16:45:44.000000000,2022-02-04 11:55:28.000000000,2022-02-04 11:51:29.000000000,11,1,5,827404,816456972eb48adc03135b455928fb3b3ea58fdd,19,5,1,2,14826,Mark Goddard,mgoddard,"ntp: Fix service mask when service doesn't exist

The ntp role attempts to mask NTP services that may conflict with
chrony. Currently we are seeing the following failure:

    TASK ntp : Mask alternative NTP clients to prevent conflicts
    Could not find the requested service systemd-timesyncd.service: host

The service_facts module shows that the service is not found:

    ""systemd-timesyncd.service"": {
        ""name"": ""systemd-timesyncd.service"",
        ""source"": ""systemd"",
        ""state"": ""stopped"",
        ""status"": ""not-found""
    },

According to the Internet, this can happen if there are After/Before
dependencies in one service on another that does not exist.

This change fixes the handling of these not-found services to avoid the
error.

Story: 2009821
Task: 44401

Depends-On: https://review.opendev.org/c/openstack/kayobe/+/827403

Change-Id: I4b8a42704f2b0a145ee9dec433d91df67628cd9d
"
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fwallaby~I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b,openstack/openstack-ansible-lxc_container_create,stable/wallaby,osa/remove-centos8,I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b,Remove legacy centos-8 jobs,MERGED,2022-02-02 10:40:48.000000000,2022-02-04 11:44:59.000000000,2022-02-04 11:36:43.000000000,0,18,1,827399,35cd4ab6f5f6749d84fff4ca3dfe35fe06cffaae,11,3,1,2,25023,Jonathan Rosser,jrosser,"Remove legacy centos-8 jobs

Change-Id: I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b
"
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fvictoria~I216e5ba34afaf51ec2b3e7c6460ed45378ef8678,openstack/openstack-ansible-openstack_hosts,stable/victoria,osa/remove-centos8,I216e5ba34afaf51ec2b3e7c6460ed45378ef8678,Add data to disable the advanced-virtualisation repository,MERGED,2022-02-03 09:58:31.000000000,2022-02-04 11:30:26.000000000,2022-02-04 11:22:00.000000000,5,0,1,827634,fd93bbaf19974d6444a91be57bd322225c078a15,13,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add data to disable the advanced-virtualisation repository

This repo no longer exists as part of the EOL of centos-8.
Disable the repo.

Change-Id: I216e5ba34afaf51ec2b3e7c6460ed45378ef8678
(cherry picked from commit 7152a838952b658b9ce453235a61c79769ae50ed)
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Fwallaby~Icb81d95dc11462f09d5603bfd94014f1ee3f5bf1,openstack/openstack-ansible-os_keystone,stable/wallaby,osa/remove-centos8,Icb81d95dc11462f09d5603bfd94014f1ee3f5bf1,Remove legacy centos-8 CI jobs,MERGED,2022-02-02 10:44:24.000000000,2022-02-04 11:28:57.000000000,2022-02-04 11:21:53.000000000,0,6,2,827474,8a847844104a1484fe873bf987442dee55a4a02b,13,3,1,2,25023,Jonathan Rosser,jrosser,"Remove legacy centos-8 CI jobs

Change-Id: Icb81d95dc11462f09d5603bfd94014f1ee3f5bf1
"
openstack%2Fswift~master~I0522b1953722ca96021a0002cf93432b973ce626,openstack/swift,master,p-fix-statsd-prefix,I0522b1953722ca96021a0002cf93432b973ce626,Fix statsd prefix mutation in proxy controllers,MERGED,2022-01-13 16:41:54.000000000,2022-02-04 11:21:18.000000000,2022-02-04 06:56:53.000000000,311,172,62,824608,6942b25cc109258804989c32fa3ffe2b536c6e77,48,5,9,12,7847,Alistair Coles,acoles,"Fix statsd prefix mutation in proxy controllers

Swift loggers encapsulate a StatsdClient that is typically initialised
with a prefix, equal to the logger name (e.g. 'proxy_server'), that is
prepended to metrics names. The proxy server would previously mutate
its logger's prefix, using its set_statsd_prefix method, each time a
controller was instantiated, extending it with the controller type
(e.g. changing the prefix 'proxy_server.object'). As a result, when an
object request spawned container subrequests, for example, the statsd
client would be left with a 'proxy_server.container' prefix part for
subsequent object request related metrics.

The proxy server logger is now wrapped with a new
MetricsPrefixLoggerAdapter each time a controller is instantiated, and
the adapter applies the correct prefix for the controller type for the
lifetime of the controller.

Change-Id: I0522b1953722ca96021a0002cf93432b973ce626
"
openstack%2Frally~master~Ide6fe395c604bfd0c03ddb0ee939a67eddcb7de4,openstack/rally,master,remove-centos-8,Ide6fe395c604bfd0c03ddb0ee939a67eddcb7de4,Migrate jobs from CentOS 8 to CentOS 8 Stream,ABANDONED,2022-01-12 01:04:30.000000000,2022-02-04 11:17:57.000000000,,4,4,2,824271,5a70d5976b6fc01f4de5fe9373672b80ee1185dd,6,3,1,2,9816,Takashi Kajinami,kajinamit,"Migrate jobs from CentOS 8 to CentOS 8 Stream

CentOS 8 is being removed from CI because of its EOL[1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html

Change-Id: Ide6fe395c604bfd0c03ddb0ee939a67eddcb7de4
"
openstack%2Fpuppet-nova~master~I7ba317045e9811873c00ff9cc052932ec444d3bd,openstack/puppet-nova,master,cinder-opts,I7ba317045e9811873c00ff9cc052932ec444d3bd,Migrate cross_az_attach from nova to nova::cinder,MERGED,2022-01-12 11:36:19.000000000,2022-02-04 11:06:06.000000000,2022-02-04 11:02:33.000000000,33,16,5,824396,3c376bd733bff778002a01fb7b5f0dbc645d0e05,32,4,9,5,9816,Takashi Kajinami,kajinamit,"Migrate cross_az_attach from nova to nova::cinder

... to manage all [cinder] parameters by nova::cinder.

Change-Id: I7ba317045e9811873c00ff9cc052932ec444d3bd
"
openstack%2Fpuppet-nova~master~I9f45c9aea59793a9d3807af4e5fe53e347d81541,openstack/puppet-nova,master,cinder-opts,I9f45c9aea59793a9d3807af4e5fe53e347d81541,Deprecate support for unused [cinder] region_name,MERGED,2022-01-12 09:50:02.000000000,2022-02-04 11:04:45.000000000,2022-02-04 11:02:30.000000000,23,11,8,824366,e2889d1bf629484fea216a458163f1dec95868ea,31,3,8,3,9816,Takashi Kajinami,kajinamit,"Deprecate support for unused [cinder] region_name

The [cinder] region_name parameter is not used by nova, while nova uses
the [cinder] os_region_name parameter instead.
This change deprecates the unused region_name parameter.

Change-Id: I9f45c9aea59793a9d3807af4e5fe53e347d81541
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ibd21764992f401d06b24718ea28cb2735de53858,openstack/tripleo-heat-templates,stable/train,,Ibd21764992f401d06b24718ea28cb2735de53858,[train-only][ffwd][hybrid-mode] Hardcode neutron rpc_response_timeout to 60 on hybrid mode,MERGED,2022-02-02 10:38:18.000000000,2022-02-04 10:56:19.000000000,2022-02-04 10:56:19.000000000,6,0,1,827472,02ffa12743952db0e03f4f24fae60c684d18b9e0,20,9,3,1,11166,Lukas Bezdicka,xbezdick,"[train-only][ffwd][hybrid-mode] Hardcode neutron rpc_response_timeout to 60 on hybrid mode

During hybrid mode we often hit case when rpc_response_timeout 10+min
which would be fine value of big environments but neutron does not
have heartbeat. This means that by the time control plane gets up
we might end up with 10min of outage before the neutron agents connect.

There is expectation that during hybrid mode only live migrations are
done so low value should be safe enough. This will get reset to
whatever value was set in templates on the node upgrade.

Closes-bug: rhbz#2049690

Change-Id: Ibd21764992f401d06b24718ea28cb2735de53858
"
openstack%2Fneutron~stable%2Fxena~Id127675793cfd3b9d4e7e328fde64f8595c7b00d,openstack/neutron,stable/xena,neutron-ci-improvements,Id127675793cfd3b9d4e7e328fde64f8595c7b00d,Update irrelevant-files for non scenario jobs,MERGED,2022-01-28 05:34:41.000000000,2022-02-04 10:48:59.000000000,2022-02-04 10:32:35.000000000,66,4,4,826811,d317bedb7d41e09a22a12891735abc5df51c0d19,33,5,2,4,13861,yatin,yatinkarel,"Update irrelevant-files for non scenario jobs

Update irrelevant-files for non scenario jobs to
avoid unnecessary jobs, like skip ovs/linuxbridge
jobs on ovn related changes, same for non-ovn jobs.

Also skip running these jobs on functional and
fullstack tests changes.

Change-Id: Id127675793cfd3b9d4e7e328fde64f8595c7b00d
(cherry picked from commit 722fca928dc7e04705bc148e40135064d6566e8d)
"
openstack%2Fopenstack-ansible-os_nova~master~I44cc4ffc00d1be90e5be6307b0f8a1cc02099c7a,openstack/openstack-ansible-os_nova,master,827501,I44cc4ffc00d1be90e5be6307b0f8a1cc02099c7a,Add advancedvirt-common repository,NEW,2022-02-02 13:56:59.000000000,2022-02-04 10:47:47.000000000,,50,0,4,827501,75c432c9cb71c69d210836651f5fcc958c63fbe1,18,3,5,4,25023,Jonathan Rosser,jrosser,"Add advancedvirt-common repository

This contains libvirt and guestfs tools. This repository is now
managed in the nova role rather than the openstack_hosts role as it
is only required on compute hosts.

Change-Id: I44cc4ffc00d1be90e5be6307b0f8a1cc02099c7a
"
openstack%2Fneutron~stable%2Fwallaby~Ida7c3ac974058769eb7ff901715e9b17a998bf79,openstack/neutron,stable/wallaby,neutron-ci-improvements,Ida7c3ac974058769eb7ff901715e9b17a998bf79,Update irrelevant-files to skip run of untouched jobs,MERGED,2022-02-04 05:05:06.000000000,2022-02-04 10:45:00.000000000,2022-02-04 10:32:39.000000000,15,0,0,827796,67f36f0c5c2165df71e980ac7121d9db14487227,11,4,1,6,13861,yatin,yatinkarel,"Update irrelevant-files to skip run of untouched jobs

Currently when a job config is updated, all other
jobs are triggered unnecessary.

This patch updates irrelevant files to ignore changes
in all job config files except zuul.d/project.yaml(as
this contains the list of jobs to run not their definitions).
With this only the jobs whose definitions are updated(along with
it's child jobs) will be triggered because by default
match-on-config-updates is set to true for a job[1] and
that ignores files or irrelevant-files for a job inclusion.

[1] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates

Change-Id: Ida7c3ac974058769eb7ff901715e9b17a998bf79
(cherry picked from commit ca8b40403f7e1ab1f383da01b4a18b066fd35b93)
Conflicts: zuul.d/rally.yaml
 	zuul.d/tempest-multinode.yaml
 	zuul.d/tempest-singlenode.yaml
"
openstack%2Fneutron~stable%2Fxena~Ida7c3ac974058769eb7ff901715e9b17a998bf79,openstack/neutron,stable/xena,neutron-ci-improvements,Ida7c3ac974058769eb7ff901715e9b17a998bf79,Update irrelevant-files to skip run of untouched jobs,MERGED,2022-02-04 05:00:56.000000000,2022-02-04 10:44:59.000000000,2022-02-04 10:32:32.000000000,13,0,0,827794,25e8ec0c565a27fcb35761c0708b4b83f1c9e20c,10,4,1,5,13861,yatin,yatinkarel,"Update irrelevant-files to skip run of untouched jobs

Currently when a job config is updated, all other
jobs are triggered unnecessary.

This patch updates irrelevant files to ignore changes
in all job config files except zuul.d/project.yaml(as
this contains the list of jobs to run not their definitions).
With this only the jobs whose definitions are updated(along with
it's child jobs) will be triggered because by default
match-on-config-updates is set to true for a job[1] and
that ignores files or irrelevant-files for a job inclusion.

[1] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates

Change-Id: Ida7c3ac974058769eb7ff901715e9b17a998bf79
(cherry picked from commit ca8b40403f7e1ab1f383da01b4a18b066fd35b93)
Conflicts: zuul.d/rally.yaml
 	zuul.d/tempest-singlenode.yaml
 	zuul.d/tripleo.yaml
"
openstack%2Fneutron~master~Ica3bb4d44133e5d2d58f5bbb4a3747cf3d8811e2,openstack/neutron,master,bug/1920778,Ica3bb4d44133e5d2d58f5bbb4a3747cf3d8811e2,"Revert ""Switch neutron-grenade-dvr-multinode to be non voting temporary""",MERGED,2022-02-02 07:11:50.000000000,2022-02-04 10:44:57.000000000,2022-02-04 10:32:27.000000000,2,5,1,827419,2d6b33445c2124a04f84d4d4e8d27675ba9d0b57,14,3,1,1,11975,Slawek Kaplonski,slaweq,"Revert ""Switch neutron-grenade-dvr-multinode to be non voting temporary""

This reverts commit 04e5a42f70605b0d1e5a3cc33bf4ee09a0da1052.

Related bug is fixed, grenade dvr job is stable since long time so we
can make it voting again.

Related-Bug: #1920778
Change-Id: Ica3bb4d44133e5d2d58f5bbb4a3747cf3d8811e2
"
openstack%2Fpuppet-oslo~stable%2Fxena~If4622f85e1e7f715805b205bfc3c16cb1e53b943,openstack/puppet-oslo,stable/xena,xena,If4622f85e1e7f715805b205bfc3c16cb1e53b943,Add retrying options to oslo.cache,MERGED,2022-01-31 10:12:22.000000000,2022-02-04 10:32:43.000000000,2022-02-04 10:28:46.000000000,34,0,2,827034,88197f306123c521967b5a16b4909e5227554325,10,4,1,3,28522,Hervé Beraud,hberaud,"Add retrying options to oslo.cache

This patch specifies a set of options required to setup the retrying wrapper
feature of pymemcache (dogpile.cache) cache backend.

Original oslo.cache change:
https://review.opendev.org/c/openstack/oslo.cache/+/803747

Change-Id: If4622f85e1e7f715805b205bfc3c16cb1e53b943
(cherry picked from commit f7dbe8aa5f4ebc31d77344932fef2eea84a32906)
"
openstack%2Fpuppet-oslo~stable%2Fxena~I7deed1bca1ce2f715967e966d4b0cedc1f227027,openstack/puppet-oslo,stable/xena,xena,I7deed1bca1ce2f715967e966d4b0cedc1f227027,Add socket keepalive options for the pymemcache backend,MERGED,2022-01-31 10:12:22.000000000,2022-02-04 10:31:06.000000000,2022-02-04 10:28:43.000000000,46,0,2,827033,ba251d3e2d85c1c247968c5103805ba6f144a536,10,4,1,3,28522,Hervé Beraud,hberaud,"Add socket keepalive options for the pymemcache backend

This patch specifies a set of options required to setup the socket
keepalive feature of pymemcache (dogpile.cache) cache backend.

Depends-On: https://review.opendev.org/803716
Change-Id: I7deed1bca1ce2f715967e966d4b0cedc1f227027
(cherry picked from commit 60495a42c9e46144dc3625cef6ede24e18245011)
"
openstack%2Fironic~stable%2Fxena~I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb,openstack/ironic,stable/xena,api-none-stable/xena,I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb,Fix resource_url in the remaining resources,MERGED,2022-02-03 17:30:30.000000000,2022-02-04 10:19:12.000000000,2022-02-04 10:16:41.000000000,83,52,0,827731,f5615dc815f80c3830a7ddfe341856533223dff5,10,2,1,16,10239,Dmitry Tantsur,dtantsur,"Fix resource_url in the remaining resources

Node history was particularly affected: limit was not converted from
string to integer, so ""next"" link was never added.

Add some safeguards to the generic API code.

Change-Id: I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb
(cherry picked from commit 55144d3bd262be35c7a034fea083c3ed73fd63d8)
"
openstack%2Fironic~bugfix%2F19.0~I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb,openstack/ironic,bugfix/19.0,api-none-bugfix/19.0,I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb,Fix resource_url in the remaining resources,MERGED,2022-02-03 17:30:42.000000000,2022-02-04 10:14:24.000000000,2022-02-04 10:10:15.000000000,83,52,0,827732,78703943c9bcf548acdb0f47e388213e66075e41,10,2,1,16,10239,Dmitry Tantsur,dtantsur,"Fix resource_url in the remaining resources

Node history was particularly affected: limit was not converted from
string to integer, so ""next"" link was never added.

Add some safeguards to the generic API code.

Change-Id: I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb
(cherry picked from commit 55144d3bd262be35c7a034fea083c3ed73fd63d8)
"
openstack%2Fopenstack-ansible-os_nova~stable%2Fxena~Iee1dca9221b6968d11be54fc1df03b2f8a6c3f44,openstack/openstack-ansible-os_nova,stable/xena,,Iee1dca9221b6968d11be54fc1df03b2f8a6c3f44,Fix nova-key tag handling,MERGED,2022-02-03 19:57:13.000000000,2022-02-04 10:13:38.000000000,2022-02-04 10:09:48.000000000,4,0,0,827738,961f471f9a2b65d0147d4f1c845876dcd00ccf19,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix nova-key tag handling

It appears that this tag stopped working recently when switching
from import to include syntax. This patch adds the necessary
'always' tag to ensure the 'nova-key' tag gets carried through.

Change-Id: Iee1dca9221b6968d11be54fc1df03b2f8a6c3f44
(cherry picked from commit 7a0c0f0ad27c9eae188f33d99b95f5299b9b7fc4)
"
openstack%2Fnetworking-ovn~stable%2Ftrain~Ie609bc79790d0dcc97a1134cbc16d643cede3104,openstack/networking-ovn,stable/train,train-octavia-tempest-cap,Ie609bc79790d0dcc97a1134cbc16d643cede3104,Pin octavia-tempest-plugin to last train tag,NEW,2022-02-03 17:45:26.000000000,2022-02-04 10:00:54.000000000,,2,1,1,827751,2be9ec5eb2ad5acdd6e9aa9a171532ff10c9346d,4,3,1,1,21798,Bernard Cafarelli,bcafarel,"Pin octavia-tempest-plugin to last train tag

networking-ovn-octavia-v2-dsvm-scenario started failing as
octavia-tempest-plugin does not support this EM branch anymore:
oslo_config.cfg.NoSuchOptError: no such option ssh_key_type in group [validation]'

Use train-last version of the plugin for this job

Note: we should also look into making the job voting again, to validate
ovn-octavia-provider backports

Change-Id: Ie609bc79790d0dcc97a1134cbc16d643cede3104
"
openstack%2Ftripleo-ci~master~Id0f956787a9553e4fb476aa6e428c889fe86cb73,openstack/tripleo-ci,master,,Id0f956787a9553e4fb476aa6e428c889fe86cb73,[DNM] test only: allow 'enable_fips' overrides,ABANDONED,2022-02-02 15:15:53.000000000,2022-02-04 09:27:51.000000000,,8,1,0,827514,5652f4836e34e0cb7c7d753904faf1b851e91707,8,3,2,2,6926,Bogdan Dobrelya,bogdando,"[DNM] test only: allow 'enable_fips' overrides

Change-Id: Id0f956787a9553e4fb476aa6e428c889fe86cb73
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fopenstack-ansible-os_keystone~master~I91a83f4a238b6ece458578f206dfc9cf41c0dbd0,openstack/openstack-ansible-os_keystone,master,,I91a83f4a238b6ece458578f206dfc9cf41c0dbd0,Fix oidc apache module installation for centos,NEW,2022-02-01 16:55:22.000000000,2022-02-04 09:24:30.000000000,,13,1,3,827321,b96b8d8000e7fc65ecee1aa0ab830cd23fe3b5ad,8,3,2,2,25023,Jonathan Rosser,jrosser,"Fix oidc apache module installation for centos

The package name was wrong and the dnf module must be enabled before
the package can be installed.

Ansible does not seem to handle dnf module enablement cleanly, see [1]

[1] https://github.com/ansible/ansible/issues/64852

Change-Id: I91a83f4a238b6ece458578f206dfc9cf41c0dbd0
"
openstack%2Fswift~master~I923033e863b2faf3826a0f5ba84307addc34f986,openstack/swift,master,,I923033e863b2faf3826a0f5ba84307addc34f986,Fix multipart upload listings,MERGED,2021-10-12 23:37:13.000000000,2022-02-04 09:16:27.000000000,2022-02-04 08:15:49.000000000,117,35,26,813715,363aa3319eda33af9699916cbc75cf5d779a7352,27,3,4,2,17363,Timur Alperovich,timuralp,"Fix multipart upload listings

When listing current multipart uploads, we have to keep listing the
container until we either list all the entries or there are enough MPUs
to return to the caller. Otherwise, it is impossible to list all of the
multipart uploads when some of them have > 1000 parts.

Change-Id: I923033e863b2faf3826a0f5ba84307addc34f986
"
openstack%2Fmonasca-api~stable%2Fwallaby~Ieeaa0331b32a6beb9bf81c292c862128ac5f02fc,openstack/monasca-api,stable/wallaby,827617,Ieeaa0331b32a6beb9bf81c292c862128ac5f02fc,Enable again Zuul checks:,NEW,2022-02-03 09:54:19.000000000,2022-02-04 09:16:06.000000000,,7,3,1,827617,e1482db17f9a8c1efccf556e5e1bef0f8e3d807e,10,1,5,3,28062,Martin Chacon Piza,martinchacon,"Enable again Zuul checks:

- openstack-lower-constraints-jobs
- publish-openstack-docs-pti
- release-notes-jobs-python3
- Bump Mako to 1.0.7 in lower-constraints.txt
- Bump decorator to 4.1.0 in lower-constraints.txt
- Update devdocs build [1]

[1] http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: Ieeaa0331b32a6beb9bf81c292c862128ac5f02fc
"
openstack%2Fblazar~master~I73df4587d223dc4582cb15e0f4cb8de1a02ffee7,openstack/blazar,master,bug/1786031,I73df4587d223dc4582cb15e0f4cb8de1a02ffee7,Restore lease status during a non fatal lease update exception,MERGED,2021-09-20 20:43:03.000000000,2022-02-04 09:00:32.000000000,2022-02-04 08:58:21.000000000,74,10,12,810126,d4cb8f428e4f23add5fc643ad23366ec58d7ec9d,32,3,6,5,33582,Mark Powers,markpowers,"Restore lease status during a non fatal lease update exception

If a lease update raises an exception that is recoverable (such as
specifying an invalid date range) the lease would be set to ERROR
status. Other cases with wrong input have similar effects.

This change allows for non fatal exceptions to be specified in
the lease status code. If one is raised, the lease is restored
to the original status.

Closes-Bug: #1786031
Change-Id: I73df4587d223dc4582cb15e0f4cb8de1a02ffee7
"
openstack%2Fpuppet-ovn~master~I1b7092f09d766d11b526a10598fc6d6057b00ac7,openstack/puppet-ovn,master,,I1b7092f09d766d11b526a10598fc6d6057b00ac7,Allow managing vswitch separately,ABANDONED,2022-01-24 13:34:43.000000000,2022-02-04 08:52:31.000000000,,63,16,0,826087,040b3534c00aed17340c61cad353cf4bc29909f2,5,1,2,3,9816,Takashi Kajinami,kajinamit,"Allow managing vswitch separately

This introduces the functionality similar to the one in puppet-neutron
and allows disabling vswitch configurations. This is useful mainly
when implementing vs_bridge/vs_port resource separately.

Change-Id: I1b7092f09d766d11b526a10598fc6d6057b00ac7
"
openstack%2Fpuppet-openstack-integration~master~I5ad5ab345546f60949d1342209291749e63d0697,openstack/puppet-openstack-integration,master,dnm,I5ad5ab345546f60949d1342209291749e63d0697,DNM: Enable puppet debug,ABANDONED,2021-11-08 12:29:51.000000000,2022-02-04 08:50:16.000000000,,1,1,0,817000,741b21caee2446270e2f389180e6e2bfe34044b2,6,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Enable puppet debug

Depends-on: https://review.opendev.org/c/openstack/puppet-keystone/+/806474
Change-Id: I5ad5ab345546f60949d1342209291749e63d0697
"
openstack%2Fpuppet-openstack-integration~master~I64c848a132cbd58366685f1897372018e54e62fc,openstack/puppet-openstack-integration,master,,I64c848a132cbd58366685f1897372018e54e62fc,DNN: Testing,ABANDONED,2021-11-26 11:14:40.000000000,2022-02-04 08:50:06.000000000,,2,1,0,819429,3cddfba7ac099456c0d4d4748df19d930d7ce6c0,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNN: Testing

Depends-on: https://review.opendev.org/c/openstack/puppet-nova/+/819427
Change-Id: I64c848a132cbd58366685f1897372018e54e62fc
"
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I6972c251e000d835e565bc96b208043092901c76,openstack/puppet-openstack-integration,stable/train,c8job,I6972c251e000d835e565bc96b208043092901c76,[Train-only] Run syntax/unit tests only on CentOS8,ABANDONED,2021-04-23 14:19:12.000000000,2022-02-04 08:49:37.000000000,,3,22,0,787752,a33740ecfd4ecad3203b3c43293673c3cc45d61f,5,3,1,3,9816,Takashi Kajinami,kajinamit,"[Train-only] Run syntax/unit tests only on CentOS8

Currently syntax tests and unit tests are executed both on CentOS7
and CentOS8 but this is very redundant because these jobs are not
really affected by host OS where the tests are executed.

Let's drop CentOS7 jobs and replace them by CentOS8 jobs, to reduce
number of jobs in stable/train.

Change-Id: I6972c251e000d835e565bc96b208043092901c76
"
openstack%2Fneutron~master~I676c7d19956b963ddeba0d281716324f19930ed2,openstack/neutron,master,bug/1930200,I676c7d19956b963ddeba0d281716324f19930ed2,Add local_ip entrypoints,MERGED,2022-02-03 09:51:56.000000000,2022-02-04 08:18:43.000000000,2022-02-04 08:15:53.000000000,2,0,0,827616,1c3d90e3da2c29ffe297d2f9322bd88b861d6cf8,10,3,1,1,32667,Mamatisa Nurmatov,isabek,"Add local_ip entrypoints

Added local_ip entrypoints in setup.cfg neutron.objects

Change-Id: I676c7d19956b963ddeba0d281716324f19930ed2
"
openstack%2Fswift~master~I71fd7f50d1aafc001d6905438f42de4e58af8421,openstack/swift,master,sigs-in-logs_1_1_1,I71fd7f50d1aafc001d6905438f42de4e58af8421,Move *_swift_info functions into a new registry module,MERGED,2022-01-21 00:20:32.000000000,2022-02-04 07:03:17.000000000,2022-02-04 07:01:15.000000000,455,392,20,825694,589ac355f3ddf505983925d80b81c20107ceace0,32,3,6,44,7233,Matthew Oliver,mattoliverau,"Move *_swift_info functions into a new registry module

The *_swift_info functions use in module global dicts to provide a
registry mechanism for registering and getting swift info.

This is an abnormal pattern and doesn't quite fit into utils. Further
we looking at following this pattern for sensitive info to trim in the
future.
So this patch does some house cleaning and moves this registry to a new
module swift.common.registry. And updates all the references to it.

For backwards compat we still import the *_swift_info methods into utils
for any 3rd party tools or middleware.

Change-Id: I71fd7f50d1aafc001d6905438f42de4e58af8421
"
openstack%2Fneutron~master~Ib3927c7c32102495fe32e838bf7ac5e6f2a872b9,openstack/neutron,master,bug/1863577,Ib3927c7c32102495fe32e838bf7ac5e6f2a872b9,[DNM] Test test_network_v6.TestGettingAddress,ABANDONED,2022-02-03 06:13:11.000000000,2022-02-04 05:34:41.000000000,,2,47,0,827593,9f4ddabf715ef50a96f7b98503dfd7ab67e0a8b5,4,1,1,1,13861,yatin,yatinkarel,"[DNM] Test test_network_v6.TestGettingAddress

Change-Id: Ib3927c7c32102495fe32e838bf7ac5e6f2a872b9
"
openstack%2Fneutron~master~I8620f8fa637961c09d2a13c1866997548590de1a,openstack/neutron,master,neutron-ci-improvements,I8620f8fa637961c09d2a13c1866997548590de1a,Set SIGTERM_TIMEOUT to 0 for dhcp/l3 agent unit tests,ABANDONED,2021-12-10 13:53:42.000000000,2022-02-04 05:33:06.000000000,,2,0,2,821403,51689cb620b30e793e17bb2b6c0ec0c8c65bbdd9,10,4,1,2,13861,yatin,yatinkarel,"Set SIGTERM_TIMEOUT to 0 for dhcp/l3 agent unit tests

Without this tests were taking atleast 5 seconds
to complete.

Change-Id: I8620f8fa637961c09d2a13c1866997548590de1a
"
openstack%2Fswift~master~I2fbb21cabf72849ce84760a6d2607aa2af67f286,openstack/swift,master,bug/1883324,I2fbb21cabf72849ce84760a6d2607aa2af67f286,Get rid of pipeline_property,MERGED,2021-12-15 23:21:56.000000000,2022-02-04 03:48:11.000000000,2022-02-04 01:48:38.000000000,98,170,35,821920,9bc1c008a56fbc4a69aafd3d3177d7be368b181d,80,4,14,9,15343,Tim Burke,tburke,"Get rid of pipeline_property

Instead, ensure every middleware gets a reference to the final WSGI
application. Note that this reimplements much of paste.deploy's pipeline
handling, but that code hasn't changed in years, anyway.

Change-Id: I2fbb21cabf72849ce84760a6d2607aa2af67f286
"
openstack%2Ftacker~master~I029d858d730ef8d462a179e9943f003b9445a9c8,openstack/tacker,master,vim_reg_conf,I029d858d730ef8d462a179e9943f003b9445a9c8,[WIP] Remove templates for registering VIM in FT,NEW,2021-10-18 08:24:32.000000000,2022-02-04 03:09:31.000000000,,43,168,12,814366,fdc97bf34dce52bab10fa8797a79597ef1228518,35,1,13,4,25701,Yasufumi Ogawa,yasufum,"[WIP] Remove templates for registering VIM in FT

Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: I029d858d730ef8d462a179e9943f003b9445a9c8
"
openstack%2Fdesignate~master~Ief33213ab5cc549b7fa4babc4eabf72aaeb98b6b,openstack/designate,master,,Ief33213ab5cc549b7fa4babc4eabf72aaeb98b6b,Add non-voting dnspython latest release unit test,MERGED,2022-01-24 23:04:05.000000000,2022-02-04 02:47:23.000000000,2022-02-04 02:37:33.000000000,15,0,15,826192,07a8a9d693c0674af134c443260ed58c9badcfb0,34,4,4,2,11628,Michael Johnson,johnsom,"Add non-voting dnspython latest release unit test

This patch adds a non-voting job that runs the Designate unit tests
with the latest release of the dnspython package.

Change-Id: Ief33213ab5cc549b7fa4babc4eabf72aaeb98b6b
"
openstack%2Ftripleo-quickstart-extras~master~I89dbe57f0d4c0d3fb9b59e92cb04cba8d8f3e616,openstack/tripleo-quickstart-extras,master,bug/1959930,I89dbe57f0d4c0d3fb9b59e92cb04cba8d8f3e616,Temptest - Use public identity endpoint,ABANDONED,2022-02-03 21:40:53.000000000,2022-02-04 02:27:50.000000000,,2,1,1,827767,584a51eeb2354596f4a10904dfd1e000b6d4954a,6,2,1,1,24245,Harald Jensås,harald.jensas,"Temptest - Use public identity endpoint

Set [identity]\v3_endpoint_type = public in temptest.conf.

Change-Id: I89dbe57f0d4c0d3fb9b59e92cb04cba8d8f3e616
Closes-Bug: 1959930
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140,openstack/tripleo-heat-templates,stable/wallaby,precheck-no-redis-stable/wallaby,Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140,Check that redis is removed prior to FFU,MERGED,2022-01-19 10:11:48.000000000,2022-02-04 02:14:21.000000000,2022-02-04 02:01:37.000000000,32,1,0,825213,9bd96ff045e5a27d3431b6a88a6d4186f0527749,11,6,1,4,20778,Damien Ciabrini,dciabrin,"Check that redis is removed prior to FFU

We want to disable Redis by default in new deployments, without
impacting upgrade of existing deployments.

Add a pre-check during upgrade and bail out if Redis is not
enabled explicitely during upgrade and if the resource already
exists in pacemaker. The pre-check is performed prior to
os upgrade so that pacemaker is still installed and the cluster
can still be inspected.

Tested as follows:
  . FFU with redis-bundle not removed fails as expected
  . FFU with redis-bundle removed finishes
  . FFU when redis service is enabled post-FFU always finishes
  . re-running os-upgrade is idempotent

Change-Id: Icd7503c9b9b5edc7ecfe20e6217fb8efeebf3140
Closes-Bug: #1872645
(cherry picked from commit 4236449451d4053fa5944fb4c9c78ea083d4145e)
"
openstack%2Frequirements~stable%2Fwallaby~I66b7e7bd95d7fd5cfc5efe0c87a0a41ecec5176e,openstack/requirements,stable/wallaby,new-release,I66b7e7bd95d7fd5cfc5efe0c87a0a41ecec5176e,update constraint for ovsdbapp to new release 1.9.1,MERGED,2022-01-24 14:55:45.000000000,2022-02-04 02:12:07.000000000,2022-02-04 02:12:07.000000000,1,1,0,826096,5e8c9f4b4bc5a537a5c4659e5e96953c9c6ff94e,16,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for ovsdbapp to new release 1.9.1

meta: version: 1.9.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: elajkat <lajos.katona@est.tech>
meta: release:Commit: elajkat <lajos.katona@est.tech>
meta: release:Change-Id: I7b6ff4c1f3c539eb4f82ce8a0f66e87f6c531b58
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I66b7e7bd95d7fd5cfc5efe0c87a0a41ecec5176e
"
openstack%2Ftripleo-ansible~stable%2Ftrain~If4450e8cf1be8231f06033b603dba41dfa65ffbb,openstack/tripleo-ansible,stable/train,mtu4-stable/wallaby-stable/ussuri-stable/victoria-stable/ussuri-stable/train,If4450e8cf1be8231f06033b603dba41dfa65ffbb,Add the MTU size to ping to catch network issues,MERGED,2021-11-19 01:49:27.000000000,2022-02-04 02:01:34.000000000,2022-02-04 02:01:34.000000000,47,4,7,818481,ce3f30f910303ae1d5b8009a1344039a411d9b5a,31,4,5,2,7130,David Hill,dhill,"Add the MTU size to ping to catch network issues

Many times users hit this issue where nic templates set jumbo
frames properly but switches are not properly configured and this
situation creates random issues hard to troubleshoot ranging from
a CEPH cluster not forming to swift not syncing properly.  Adding
an early test for MTU sizes in the ansible playbooks should fail
early and put us on a path to early solve this issue instead of
spending a week or more trying to figure out why CEPH batch LVM
is not working.

Change-Id: If4450e8cf1be8231f06033b603dba41dfa65ffbb
(cherry picked from commit 6acde891f85a06117dc39438bf78a8f9ef562a36)
"
openstack%2Fopenstack-helm~master~I8c4f71bf72994f55001fc0e83d23a43dd1264a44,openstack/openstack-helm,master,tls_minimum_2,I8c4f71bf72994f55001fc0e83d23a43dd1264a44,Correct ssl_minimum_version,MERGED,2022-01-27 18:19:31.000000000,2022-02-04 00:56:35.000000000,2022-02-04 00:54:47.000000000,3,2,0,826760,dac65cc6f6cd0731a0d2294cf7791b9d38441dc7,16,9,2,3,32190,Frank Ritchie,fr801x,"Correct ssl_minimum_version

This setting needs to be in the console ini section:

https://docs.openstack.org/nova/latest/configuration/sample-config.html

Change-Id: I8c4f71bf72994f55001fc0e83d23a43dd1264a44
"
openstack%2Fbarbican~master~I55660e53496c814116311ecacacfdf1716297761,openstack/barbican,master,,I55660e53496c814116311ecacacfdf1716297761,DNF - Testing gate health,ABANDONED,2022-02-03 22:09:57.000000000,2022-02-04 00:43:26.000000000,,1,10,0,827771,040e97276dcf874ff4e12cb27e7a8e9c273f2850,3,1,1,1,7973,Douglas Mendizábal,dougmendizabal,"DNF - Testing gate health

Change-Id: I55660e53496c814116311ecacacfdf1716297761
"
openstack%2Fopenstack-ansible-os_octavia~master~I7f7e9a5a4a12afff994f548abff2482818a43ccb,openstack/openstack-ansible-os_octavia,master,,I7f7e9a5a4a12afff994f548abff2482818a43ccb,Remove legacy db pooling variables,MERGED,2022-02-01 09:20:56.000000000,2022-02-04 00:21:08.000000000,2022-02-04 00:19:35.000000000,6,2,1,827252,d736c640722c6c3fd419c6da5edf7c698b8fcd3f,12,3,1,2,25023,Jonathan Rosser,jrosser,"Remove legacy db pooling variables

Change-Id: I7f7e9a5a4a12afff994f548abff2482818a43ccb
"
openstack%2Frequirements~stable%2Fwallaby~Idc012bb1e79c3a9e3859b0cc30b46fe873f26fb9,openstack/requirements,stable/wallaby,new-release,Idc012bb1e79c3a9e3859b0cc30b46fe873f26fb9,update constraint for os-ken to new release 1.4.1,MERGED,2022-01-24 15:03:20.000000000,2022-02-04 00:13:20.000000000,2022-02-04 00:13:20.000000000,1,1,0,826098,9246471317e2f29cb7e216c0e0a4c0ffff68d83a,24,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os-ken to new release 1.4.1

meta: version: 1.4.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: elajkat <lajos.katona@est.tech>
meta: release:Commit: elajkat <lajos.katona@est.tech>
meta: release:Change-Id: I8ef64f405d0e9588d49c99e6a955ddd88f39d521
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Idc012bb1e79c3a9e3859b0cc30b46fe873f26fb9
"
openstack%2Fopenstack-ansible-os_keystone~master~Ia3f22083aab60bca3a64f989f2f94120a95504b9,openstack/openstack-ansible-os_keystone,master,,Ia3f22083aab60bca3a64f989f2f94120a95504b9,Remove legacy nginx cleanup tasks,MERGED,2022-02-01 08:53:30.000000000,2022-02-03 23:59:37.000000000,2022-02-03 23:58:05.000000000,0,40,1,827220,63b5981152ce5686ac302511ab50015dc1595b8d,12,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy nginx cleanup tasks

Change-Id: Ia3f22083aab60bca3a64f989f2f94120a95504b9
"
openstack%2Fopenstack-ansible-os_masakari~master~Iec7ca7458c973048d3d6c9c1d4f27eb7bc9deb45,openstack/openstack-ansible-os_masakari,master,,Iec7ca7458c973048d3d6c9c1d4f27eb7bc9deb45,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:18:14.000000000,2022-02-03 23:48:46.000000000,2022-02-03 23:47:16.000000000,0,9,2,827446,d9d1fc8b94fbc42b37283f2e1065fcbbddd6675e,13,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy policy.json cleanup handler

Change-Id: Iec7ca7458c973048d3d6c9c1d4f27eb7bc9deb45
"
openstack%2Fswift~master~I57430790c9c22bc7902bd9c8f8cbfadb47115bd0,openstack/swift,master,,I57430790c9c22bc7902bd9c8f8cbfadb47115bd0,CI: Use xena on CentOS 8 Stream,MERGED,2022-02-03 18:43:30.000000000,2022-02-03 23:18:11.000000000,2022-02-03 21:26:55.000000000,1,1,1,827754,7f2adb4e8b0f483bb01ff9b71747d76ebb14ef38,8,2,1,1,15343,Tim Burke,tburke,"CI: Use xena on CentOS 8 Stream

Change-Id: I57430790c9c22bc7902bd9c8f8cbfadb47115bd0
"
openstack%2Fopenstack-helm-infra~master~I005857bd9aa43a20fce3575269b4681cdeb9e12e,openstack/openstack-helm-infra,master,,I005857bd9aa43a20fce3575269b4681cdeb9e12e,Syslog Fix,ABANDONED,2022-02-02 17:56:36.000000000,2022-02-03 23:15:59.000000000,,1,1,1,827534,9db8f5020a917780f74c3948bb85443c642cfe1c,5,1,1,1,31660,Francis Bacon Yi,francisy,"Syslog Fix

Logs are created when kubelet creates a new connection to CSI driver.
To stop these logs, prefix must be added

Change-Id: I005857bd9aa43a20fce3575269b4681cdeb9e12e
"
openstack%2Foctavia~master~I550c7d2563a2d3ada07e2162383f59f104bcbbd5,openstack/octavia,master,c9,I550c7d2563a2d3ada07e2162383f59f104bcbbd5,Restart rsyslog from cloud-init,MERGED,2022-01-27 19:12:29.000000000,2022-02-03 23:14:23.000000000,2022-02-03 23:12:37.000000000,54,22,5,826769,cbffae6eb684629a19844b5f2f4b7523b77a725e,17,3,1,5,29244,Gregory Thiemonge,gthiemonge,"Restart rsyslog from cloud-init

Octavia uploads a rsyslog configuration file using cloud-init but
doesn't ensure that rsyslog is restarted. In some cases (CentOS 9
Stream), rsyslog is started before cloud-init and doesn't use the
provided configuration file.
This commit ensures that rsyslog is restarted by cloud-init.

Change-Id: I550c7d2563a2d3ada07e2162383f59f104bcbbd5
"
openstack%2Fcinder~stable%2Fwallaby~Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782,openstack/cinder,stable/wallaby,img-fmt-wallaby,Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782,Reject bad img formats for uploaded encrypted vols,MERGED,2022-01-14 21:41:07.000000000,2022-02-03 23:10:47.000000000,2022-02-03 23:08:53.000000000,68,2,2,824801,12f7376fe44ea53e6e84dfd12577953bd841d25d,19,3,1,5,5314,Brian Rosmaita,brian-rosmaita,"Reject bad img formats for uploaded encrypted vols

Cinder only supports uploading volumes of encrypted volume types as
images with disk format 'raw' and container format 'bare'.  Screen
for this at the REST API layer when the request is made.

This change is applied directly to the VolumeActionsController in
the cinder.api.contrib module, so it affects both the Block Storage
API v2 and v3.

Change-Id: Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782
Closes-bug: #1935688
(cherry picked from commit de8b3b0b00421a01ed777880d2b5bf6fffc068d5)
(cherry picked from commit 78682022d2dcf07c270356d23a27843578466469)
"
openstack%2Fopenstack-ansible-openstack_hosts~master~Ic71d947de77377c88b34cf6d588f674ae8a27bf4,openstack/openstack-ansible-openstack_hosts,master,osa/centos-9,Ic71d947de77377c88b34cf6d588f674ae8a27bf4,Add centos-9 support,MERGED,2022-01-04 18:24:20.000000000,2022-02-03 23:10:01.000000000,2022-02-03 23:08:11.000000000,110,0,0,823420,9979b26d75d0d6c8ad77103e7d847930630db177,8,3,1,2,25023,Jonathan Rosser,jrosser,"Add centos-9 support

Change-Id: Ic71d947de77377c88b34cf6d588f674ae8a27bf4
"
openstack%2Fproject-config~master~I9f70506143fc5084ab923c82387b22fe7092313b,openstack/project-config,master,,I9f70506143fc5084ab923c82387b22fe7092313b,Add extra operators to #openstack-ansible channel,MERGED,2022-02-03 21:45:59.000000000,2022-02-03 22:58:59.000000000,2022-02-03 22:05:04.000000000,3,0,0,827768,8ac2014110d467ece0756805a49ad56785bf2b9b,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add extra operators to #openstack-ansible channel

Change-Id: I9f70506143fc5084ab923c82387b22fe7092313b
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I80c48048995d845e63b1d1eb55470a0b9381d711,openstack/openstack-ansible-openstack_hosts,master,,I80c48048995d845e63b1d1eb55470a0b9381d711,Simplify generation of osbpo repo name,MERGED,2022-02-02 09:42:32.000000000,2022-02-03 22:42:49.000000000,2022-02-03 22:41:02.000000000,1,1,1,827460,ab68220a5cbcbc2fe477c7fc4bc670a5bf84d4cb,12,3,1,1,25023,Jonathan Rosser,jrosser,"Simplify generation of osbpo repo name

We only support one version of Debian so simplify the logic supporting
older versions.

Change-Id: I80c48048995d845e63b1d1eb55470a0b9381d711
"
openstack%2Fcinder-specs~master~Ic6040bce9e89f2927a479f5d9b49065961831e26,openstack/cinder-specs,master,,Ic6040bce9e89f2927a479f5d9b49065961831e26,Update metadata in setup.cfg,MERGED,2021-12-25 08:14:36.000000000,2022-02-03 22:41:37.000000000,2022-02-03 22:39:34.000000000,4,5,5,822918,f6ac9319d2288f50085620d6cce6a480cc5a110c,11,7,1,1,30615,Tushar Trambak Gite,tushargite96,"Update metadata in setup.cfg

This is follow-up patch for [1]
[1]: https://review.opendev.org/c/openstack/cinder-specs/+/819262

Change-Id: Ic6040bce9e89f2927a479f5d9b49065961831e26
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I2a9c6139b317f3209a30c21dd2b33fb3bb7c41de,openstack/openstack-ansible-openstack_hosts,master,,I2a9c6139b317f3209a30c21dd2b33fb3bb7c41de,Remove ubuntu bionic vars file,MERGED,2022-02-02 09:01:40.000000000,2022-02-03 22:40:29.000000000,2022-02-03 22:37:53.000000000,0,102,1,827428,e84f92976c2f6397fe22df1fcc4fd2cb571e2004,12,3,1,2,25023,Jonathan Rosser,jrosser,"Remove ubuntu bionic vars file

Generalise the ubuntu variables into one vars file.

Change-Id: I2a9c6139b317f3209a30c21dd2b33fb3bb7c41de
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I724c315e3e30f54c4bc71c84f61beabc7c1c5a5d,openstack/openstack-ansible-openstack_hosts,master,,I724c315e3e30f54c4bc71c84f61beabc7c1c5a5d,Remove condtionals for kernel module installation on debian,MERGED,2022-02-02 09:01:40.000000000,2022-02-03 22:39:09.000000000,2022-02-03 22:37:32.000000000,0,5,1,827427,0838c951a106222dc0519d5aa74c36daaf5334ca,12,3,1,1,25023,Jonathan Rosser,jrosser,"Remove condtionals for kernel module installation on debian

The supported versions of debian are now on kernel 5.x

Change-Id: I724c315e3e30f54c4bc71c84f61beabc7c1c5a5d
"
openstack%2Fopenstack-helm-infra~master~I041d83211f08a8d0c9c22a66e16e6b7652bfc7d9,openstack/openstack-helm-infra,master,,I041d83211f08a8d0c9c22a66e16e6b7652bfc7d9,Postgresql: Enhance postgresql backup,MERGED,2022-01-25 21:03:32.000000000,2022-02-03 22:29:50.000000000,2022-02-03 22:28:19.000000000,18,1,1,826367,25d1eedc59bf4775fb7df4d2b1fde49ad9d0a56d,14,9,1,6,18236,Sophie Huang,SophieHuang,"Postgresql: Enhance postgresql backup

Pick up the helm-toolkit DB backup enhancement in postgresql
to add capability to retry uploading backup to remote server.

Change-Id: I041d83211f08a8d0c9c22a66e16e6b7652bfc7d9
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I29e1b1b6ad1b5b3664f608a780512e1cbe3acacf,openstack/python-tripleoclient,stable/wallaby,1959662-stable/wallaby,I29e1b1b6ad1b5b3664f608a780512e1cbe3acacf,Deprecate and unwire enable_nova UC option,MERGED,2022-02-03 14:47:12.000000000,2022-02-03 22:28:21.000000000,2022-02-03 22:26:44.000000000,6,4,0,827647,9fd8583f306413f422dd08a731e51e33ad03aff8,8,5,1,2,26343,Jose Luis Franco,jfrancoa,"Deprecate and unwire enable_nova UC option

Since Wallaby Nova services aren't required in the Undercloud,
therefore deprecate the enable_nova flag from the undercloud.conf.

The undercloud-enable-nova.yaml env file will no longer be added
to the deployment command, even if enable_nova is set in the config.

Related-bug: #1959662
Change-Id: I29e1b1b6ad1b5b3664f608a780512e1cbe3acacf
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit a3c8ecf325b3b00c0f3d60398966b8b0d8e68ad0)
"
openstack%2Fopenstack-ansible-tests~master~Ibc033f79a2ef434e1e57bd44de857c862edfd622,openstack/openstack-ansible-tests,master,,Ibc033f79a2ef434e1e57bd44de857c862edfd622,Gather /etc/pki directory,MERGED,2021-06-29 15:42:28.000000000,2022-02-03 22:21:39.000000000,2022-02-03 22:20:10.000000000,1,0,0,798703,96b1a0e98ccb2af3c1d0dc89dcfd8f943a794425,15,4,5,1,25023,Jonathan Rosser,jrosser,"Gather /etc/pki directory

Change-Id: Ibc033f79a2ef434e1e57bd44de857c862edfd622
"
openstack%2Fansible-hardening~master~If86dd75bbf444eaacf9eb7a890f17fa7593a1099,openstack/ansible-hardening,master,osa/centos-9,If86dd75bbf444eaacf9eb7a890f17fa7593a1099,Add centos-9 support,MERGED,2022-01-06 14:37:18.000000000,2022-02-03 22:15:43.000000000,2022-02-03 22:14:03.000000000,130,0,0,823697,11ae75f92bb6fe611f307ad4516ab2e50b8a193b,9,3,1,1,25023,Jonathan Rosser,jrosser,"Add centos-9 support

Change-Id: If86dd75bbf444eaacf9eb7a890f17fa7593a1099
"
openstack%2Frequirements~stable%2Fvictoria~I85c3652bf5b4bbccd17eeed6d1e4445839940f30,openstack/requirements,stable/victoria,new-release,I85c3652bf5b4bbccd17eeed6d1e4445839940f30,update constraint for oslo.service to new release 2.4.1,MERGED,2022-01-24 12:10:37.000000000,2022-02-03 22:08:54.000000000,2022-02-03 22:08:54.000000000,1,1,0,826075,36a1c410a5d81fbdb42b065b1c3b7b8663061f2d,17,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.service to new release 2.4.1

meta: version: 2.4.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Id7665ba8e8904201f322a1102236fb24a55df8db
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I85c3652bf5b4bbccd17eeed6d1e4445839940f30
"
openstack%2Fcinder-specs~master~I233af09553830f0f3c93d30cd313d498f2da4233,openstack/cinder-specs,master,update-redirects,I233af09553830f0f3c93d30cd313d498f2da4233,Update redirects,MERGED,2021-12-22 22:13:16.000000000,2022-02-03 22:08:30.000000000,2022-02-03 22:04:32.000000000,6,4,4,822765,ecd6e34320a43be16a2755444713ed6df81ec0c3,10,4,1,2,5314,Brian Rosmaita,brian-rosmaita,"Update redirects

Add a redirect for change I067d113cacaf and fix some existing
redirects that were referring incorrectly to the .rst files
instead of the generated .html files.

Change-Id: I233af09553830f0f3c93d30cd313d498f2da4233
"
openstack%2Ftripleo-upgrade~master~I78cf0220e403add9d88ad457979704693c641f67,openstack/tripleo-upgrade,master,,I78cf0220e403add9d88ad457979704693c641f67,Remove stein and ceph3 parameters for T to W.,MERGED,2022-02-02 13:48:42.000000000,2022-02-03 22:08:26.000000000,2022-02-03 22:08:26.000000000,0,43,0,827499,a90df48bd58515b8ffaf2ed1e1eb84ae5f06a31c,8,5,1,3,26343,Jose Luis Franco,jfrancoa,"Remove stein and ceph3 parameters for T to W.

The stein and ceph3 parameters are not needed any more in tripleo-upgrade
to upgrade from T(16.X) to W(17.X). Removing them to avoid issues during
the upgrade.

Change-Id: I78cf0220e403add9d88ad457979704693c641f67
"
openstack%2Fcinder-specs~master~I313a16f1615b6253432f3fdbdfa0b5d5eb56bf1f,openstack/cinder-specs,master,ref-followup,I313a16f1615b6253432f3fdbdfa0b5d5eb56bf1f,Correct reference list formatting,MERGED,2022-01-25 19:51:51.000000000,2022-02-03 22:03:32.000000000,2022-02-03 22:01:55.000000000,3,0,2,826363,19a277acdfc37fd325bd48afdec3362a5cc81e7f,9,3,1,1,5314,Brian Rosmaita,brian-rosmaita,"Correct reference list formatting

For the reference style used in this spec, each reference needs
to separated by a blank line or they are all rendered together in
a single paragraph.  (Alternatively, they could be included in an
ordered or unordered list, according to taste.)

Change-Id: I313a16f1615b6253432f3fdbdfa0b5d5eb56bf1f
"
openstack%2Ftripleo-heat-templates~master~Ifae47bf9494c2c2a938e8fba49ac32ce29cc1c51,openstack/tripleo-heat-templates,master,bug/1959459,Ifae47bf9494c2c2a938e8fba49ac32ce29cc1c51,"Revert ""Use Internal API by default for Keystone admin endpoint""",ABANDONED,2022-02-03 19:56:03.000000000,2022-02-03 21:44:58.000000000,,7,5,3,827736,3a0ada5f503dc6b58ca0d34243d70bd9884a8252,5,9,1,3,14611,dasm,dasm,"Revert ""Use Internal API by default for Keystone admin endpoint""

This reverts commit c2d110257446498821346fd1cd0577eadbb99dad.

Reason for revert: This change broke OVB for TripleO

Change-Id: Ifae47bf9494c2c2a938e8fba49ac32ce29cc1c51
"
openstack%2Ftripleo-heat-templates~master~Iac7a5f0f4751347e42b4f477e0f2a169b6c9d04a,openstack/tripleo-heat-templates,master,bug/1959353,Iac7a5f0f4751347e42b4f477e0f2a169b6c9d04a,"Revert ""Nova: Use internal endpoint to access Keystone""",ABANDONED,2022-02-03 19:56:19.000000000,2022-02-03 21:44:45.000000000,,1,1,3,827737,9e134ae20a871e6597c1b21bbb675ca8315854f8,5,11,1,1,14611,dasm,dasm,"Revert ""Nova: Use internal endpoint to access Keystone""

This reverts commit c3affa49a33bb62e019263186e446a1a70194970.

Reason for revert: This change broke OVB for TripleO

Change-Id: Iac7a5f0f4751347e42b4f477e0f2a169b6c9d04a
"
openstack%2Fkolla~master~I5f446fc276e245c1e6974ceeb6ff3dccd84ee502,openstack/kolla,master,,I5f446fc276e245c1e6974ceeb6ff3dccd84ee502,Remove missing collectd packages,MERGED,2022-02-03 14:53:41.000000000,2022-02-03 21:44:24.000000000,2022-02-03 21:04:10.000000000,0,5,1,827679,405fca90f2c8d3763ac56ce8b925611d136bba6c,12,4,2,2,22629,Michal Nasiadka,mnasiadka,"Remove missing collectd packages

Since CentOS Linux 8 repository retirement from
CentOS mirrors - we need to use CentOS Stream 8
version of Opstools repo.

Listed below packages are missing from the repo,
and according to the maintainer dpdk_telemetry is
not going to show up at all (it's basically dead).

The rest of the packages might show up at a later
stage - but it's not a priority for the maintainer.

- collectd-dpdk_telemetry
- collectd-libpod-stats
- collectd-sensubility
- python3-sqlalchemy-collectd

Change-Id: I5f446fc276e245c1e6974ceeb6ff3dccd84ee502
"
openstack%2Fkolla-ansible~stable%2Fxena~I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a,openstack/kolla-ansible,stable/xena,,I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a,Add OIDCDiscoverURL mod_oidc option,MERGED,2022-02-03 11:25:17.000000000,2022-02-03 21:41:19.000000000,2022-02-03 21:39:01.000000000,8,0,0,827637,827656dbbdae866e9c037ad288ad4ed759e5b192,9,3,1,2,32657,Piotr Parczewski,piotrp,"Add OIDCDiscoverURL mod_oidc option

This gets rid of one of the steps in the authentication flow.

Closes-Bug: 1930055
Change-Id: I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a
(cherry picked from commit e7455759ad4be5e1212d84e08612a4ff4ece8717)
"
openstack%2Fopenstack-ansible-specs~master~Iacbe7e87410a9f5bdb674be03735d2a869e1ef10,openstack/openstack-ansible-specs,master,738910,Iacbe7e87410a9f5bdb674be03735d2a869e1ef10,Add zuul CI spec,ABANDONED,2020-07-01 18:26:16.000000000,2022-02-03 21:40:25.000000000,,139,1,0,738910,250ca94197c26ac6d672538b0eb5077a85dbd859,16,2,6,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add zuul CI spec

Change-Id: Iacbe7e87410a9f5bdb674be03735d2a869e1ef10
"
openstack%2Ftripleo-common~stable%2Fwallaby~I7d7c47d32e50dad3d34959e8ce447f84957329ea,openstack/tripleo-common,stable/wallaby,containers/openstack-selinux-stable/wallaby,I7d7c47d32e50dad3d34959e8ce447f84957329ea,Don't install openstack-selinux in containers,MERGED,2022-02-03 10:35:58.000000000,2022-02-03 21:38:34.000000000,2022-02-03 21:36:27.000000000,0,1,1,827635,afb6de6a1054e7f1670c35c572e6ac4abacc8714,10,9,1,1,28223,Cedric Jeanneret,cjeanner,"Don't install openstack-selinux in containers

There's no use for selinux policies within container, container don't
manage selinux, all is on the host side.

Dropping this package will also drop container-selinux, and we should
get a faster build for the base image, since no selinux related task
should happen.

Change-Id: I7d7c47d32e50dad3d34959e8ce447f84957329ea
(cherry picked from commit 01bb19a9a9200e9132225a652966c3a90e1c5b83)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I35b3fe177f08214d06e20334e08be9bfe06f16d1,openstack/tripleo-heat-templates,stable/ussuri,nicpart_merged-stable/ussuri,I35b3fe177f08214d06e20334e08be9bfe06f16d1,Update dervice_pci script to handle pci address formats,MERGED,2022-02-02 10:32:26.000000000,2022-02-03 21:38:34.000000000,2022-02-03 21:36:17.000000000,1595,134,1,827397,6586120e8f57a198b8119294111fe1da19d92d0f,13,2,3,3,18904,Karthik S,karthiks,"Update dervice_pci script to handle pci address formats

When using nic paritioning feature, the VFs used
by host has to be excluded from passthrough
whitelist. Added support to the derive pci script
to support pci address as string or dict format.
Specifying product_id, vendor_id is also allowed.
Added test cases for the derive pci script.

Change-Id: I35b3fe177f08214d06e20334e08be9bfe06f16d1
(cherry picked from commit dde9a258d85964d781962d556bc3221d925fa984)
"
openstack%2Fos-net-config~stable%2Fussuri~Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51,openstack/os-net-config,stable/ussuri,,Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51,"For linux bond over VFs, disable spoofcheck by default",MERGED,2022-02-02 06:33:43.000000000,2022-02-03 21:38:26.000000000,2022-02-03 21:36:31.000000000,9,9,1,827395,3ebf87b434a77e9d37c7d4324dda804c5418e6bc,12,3,1,4,18904,Karthik S,karthiks,"For linux bond over VFs, disable spoofcheck by default

In case of linux bonds using NIC Partitioning, the spoofcheck shall
be disabled for it to work well with mellanox cards as well as
intel cards.

Change-Id: Ib3cc7e3287e6332b0ab11e3a227396f9dd62ee51
(cherry picked from commit 404bafa095df12b38b87e7b20f6fdf4440a79eae)
"
openstack%2Ftripleo-quickstart~master~I5fdbf511ffafd8e75c10433918fa1c2c64fd7744,openstack/tripleo-quickstart,master,,I5fdbf511ffafd8e75c10433918fa1c2c64fd7744,Add subscription-manager to tuned package installation,MERGED,2022-02-03 09:19:15.000000000,2022-02-03 21:38:25.000000000,2022-02-03 21:36:29.000000000,4,1,4,827607,1157553dcae23fd3f2dfce4caad6bf84720a6944,15,5,1,1,16312,Alfredo Moralejo,amoralej,"Add subscription-manager to tuned package installation

After [1], subscription-manager has been removed as requirement and that
has broken tuned automatic detection. Until there is a fix for that,
let's make sure subscription-manager is installed before starting tuned
service.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2029405

Change-Id: I5fdbf511ffafd8e75c10433918fa1c2c64fd7744
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic83e946e1f3dc912bc4cf8270d66ecc7c2324c96,openstack/tripleo-heat-templates,stable/wallaby,,Ic83e946e1f3dc912bc4cf8270d66ecc7c2324c96,Start the l3 agent with cgroupns: host,MERGED,2022-02-03 13:09:01.000000000,2022-02-03 21:36:34.000000000,2022-02-03 21:36:34.000000000,1,0,1,827642,f962b8e14829d896b732867e2a9b862b4323ecb4,9,4,2,1,11975,Slawek Kaplonski,slaweq,"Start the l3 agent with cgroupns: host

Since the l3 agent is spinning containers, it should use the host cgroups
namespaces just like we did in nova [1]

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/802489/

Related-Bug: #1936005
Closes-Bug: #1953738
Closes-Bug: #1959582
Change-Id: Ic83e946e1f3dc912bc4cf8270d66ecc7c2324c96
(cherry picked from commit 157d0c112bf21139b4d9ca076f1121a941a35114)
"
openstack%2Fpuppet-tripleo~master~Ibe9e1903945cfa30780bca54e2935bbc023627c7,openstack/puppet-tripleo,master,,Ibe9e1903945cfa30780bca54e2935bbc023627c7,Designate: Manage [network_api:neutron] parameters,MERGED,2022-01-17 23:15:21.000000000,2022-02-03 21:36:20.000000000,2022-02-03 21:36:20.000000000,11,0,2,825021,0ba4a7bc23d71e9e20581a2c3ddbeef32bb25846,19,4,4,2,9816,Takashi Kajinami,kajinamit,"Designate: Manage [network_api:neutron] parameters

Depends-on: https://review.opendev.org/824974
Change-Id: Ibe9e1903945cfa30780bca54e2935bbc023627c7
"
openstack%2Fwhitebox-tempest-plugin~master~Iced8698e4de1bcecd3130f68b6017c84dd7f7750,openstack/whitebox-tempest-plugin,master,vgpu_flavor_client,Iced8698e4de1bcecd3130f68b6017c84dd7f7750,Use admin client for vgpu flavor,MERGED,2022-02-03 18:58:09.000000000,2022-02-03 21:36:07.000000000,2022-02-03 21:36:07.000000000,3,2,1,827756,f2ea0341054a339ca74f77ae7214846847cceedd,7,4,1,1,31033,James Parker,jparker,"Use admin client for vgpu flavor

Needed to update the client vGPU was using flavor creation to admin
after [1] was commited.

[1] https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/805300

Change-Id: Iced8698e4de1bcecd3130f68b6017c84dd7f7750
"
openstack%2Fos-brick~master~Idb9c9b711bf729e8f8dfd83db2e81f6f95a4f789,openstack/os-brick,master,muli/lightosrelnote1,Idb9c9b711bf729e8f8dfd83db2e81f6f95a4f789,releasenotes: add Lightbits LightOS connector release note,MERGED,2022-02-02 08:30:56.000000000,2022-02-03 21:35:43.000000000,2022-02-03 21:33:38.000000000,10,0,2,827423,593870338e48dec94a0fcd1e32edc9b40bafef8c,17,3,2,1,34459,Muli Ben-Yehuda,muliby,"releasenotes: add Lightbits LightOS connector release note

Signed-Off-By: Muli Ben-Yehuda <muli@lightbitslabs.com>
Change-Id: Idb9c9b711bf729e8f8dfd83db2e81f6f95a4f789
"
openstack%2Frequirements~stable%2Fxena~I88c554503086272a13f4db4a28649bccf8e92a7a,openstack/requirements,stable/xena,new-release,I88c554503086272a13f4db4a28649bccf8e92a7a,update constraint for horizon to new release 20.1.1,MERGED,2022-02-03 15:33:14.000000000,2022-02-03 21:26:51.000000000,2022-02-03 21:26:51.000000000,1,1,1,827696,f3cf1c18d715f1f848d0b95956922e255d8b0686,10,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for horizon to new release 20.1.1

meta: version: 20.1.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: manchandavishal <manchandavishal143@gmail.com>
meta: release:Commit: manchandavishal <manchandavishal143@gmail.com>
meta: release:Change-Id: I3308eadb54628e4f9efcd2733c056bac5dd97e95
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I88c554503086272a13f4db4a28649bccf8e92a7a
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I1c3396bb166424724ceb2745295dafe81c65e50a,openstack/python-tripleoclient,stable/wallaby,,I1c3396bb166424724ceb2745295dafe81c65e50a,Exposes the community validation init command,MERGED,2022-01-20 10:33:56.000000000,2022-02-03 21:25:31.000000000,2022-02-03 21:23:29.000000000,16,2,3,825477,f4652163457bd0d4dd4101cf3fb088a1d92e460d,19,8,4,5,32926,Jiri Podivin,jpodivin,"Exposes the community validation init command

[downstream-only]
This patch exposes the community validation init command to
the openstack cli.

Change-Id: I1c3396bb166424724ceb2745295dafe81c65e50a
(cherry picked from commit 4ce46dcae1c6619ad9241f8dc7654c474e0ac2c5)
"
openstack%2Ftripleo-validations~stable%2Fwallaby~Iae6f9ee539bdd0ef97aed0997bbefbe10727ec3f,openstack/tripleo-validations,stable/wallaby,,Iae6f9ee539bdd0ef97aed0997bbefbe10727ec3f,Fixing formatting of the nfv_ovsdpdk_zero_packet_loss role docs,MERGED,2022-02-02 09:43:19.000000000,2022-02-03 21:25:23.000000000,2022-02-03 21:23:31.000000000,12,1,0,827461,0f09550e3be6d1fcd78af1479ca33ee22a7bac58,8,5,1,1,32926,Jiri Podivin,jpodivin,"Fixing formatting of the nfv_ovsdpdk_zero_packet_loss role docs

The existing documentation, while technically correct, was
rendered in a suboptimal way due to the missing empty lines around
section titles.

This patch adds them to resolve the issue.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iae6f9ee539bdd0ef97aed0997bbefbe10727ec3f
(cherry picked from commit 9cbe84f641107cce56b4b2d222c650a90e8e659d)
"
openstack%2Ftripleo-validations~stable%2Ftrain~Ib3ca74caf747c13937a4efa8c20a6fd789ede43b,openstack/tripleo-validations,stable/train,,Ib3ca74caf747c13937a4efa8c20a6fd789ede43b,oslo-config-validator: invalidating configs only when necessary,MERGED,2021-10-15 12:14:00.000000000,2022-02-03 21:23:27.000000000,2022-02-03 21:23:27.000000000,4,3,0,813947,d9afa02a66a08afee83c4a5b53f956200fc26661,13,6,3,2,27419,David Vallee Delisle,dvd,"oslo-config-validator: invalidating configs only when necessary

Some nodes with no settings to invalidate as per their role will have
an empty config_invalidations list thus breaking the related tasks and
returning an error.

Skipping these tasks when config_invalidations is undefined will prevent
this false negative and will not block other nodes from runnnig the
tasks.

Also, adding some defaults to prevent failures when items are missing
from config.

Change-Id: Ib3ca74caf747c13937a4efa8c20a6fd789ede43b
(cherry picked from commit 9c62de3d4c5f0c78445b450da917a6183e81f93b)
(cherry picked from commit 6d8ea31cbcda2cc915350eb3152c6ea9466a925a)
(cherry picked from commit ea51007651ba0e13c44f97fcf535a9c84c628b34)
(cherry picked from commit bee63bba7c9ae659eeab07ac5b20b5cc39a24af1)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia6618111be285d6883bd7adfa2ac39d205d9fcc3,openstack/tripleo-heat-templates,stable/train,,Ia6618111be285d6883bd7adfa2ac39d205d9fcc3,Fix cloud-init detection rules,MERGED,2022-01-26 14:59:56.000000000,2022-02-03 21:23:25.000000000,2022-02-03 21:23:25.000000000,6,0,5,826384,4d5a8985970a4ca6e3e6c04e8d8627cbaf338a05,21,6,2,1,6926,Bogdan Dobrelya,bogdando,"Fix cloud-init detection rules

Do not wait for cloud init, when it's disabled via kernel args.

Change-Id: Ia6618111be285d6883bd7adfa2ac39d205d9fcc3
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit cef35a45a9a84fd10bdb1959923449f617fbc3ad)
"
openstack%2Fcharm-vault~master~Icb73919f247c60a9e18cc2e563f0fda9c620cb14,openstack/charm-vault,master,charmhub-migration-master,Icb73919f247c60a9e18cc2e563f0fda9c620cb14,Update to build using charmcraft,MERGED,2022-02-01 21:10:27.000000000,2022-02-03 21:21:53.000000000,2022-02-03 21:21:53.000000000,87,13,0,827372,b797fcfcbf2e70c1d5c1ab4f4e2e5c39add04d95,11,4,2,12,20870,Alex Kavanagh,ajkavanagh,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: Icb73919f247c60a9e18cc2e563f0fda9c620cb14
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
"
openstack%2Fcharm-cinder~master~Ida0ad9ac927de7ed8f9206521014404b38187cd6,openstack/charm-cinder,master,charmhub-migration-master,Ida0ad9ac927de7ed8f9206521014404b38187cd6,Migrate charm to charmhub latest/edge track,MERGED,2022-01-27 11:40:56.000000000,2022-02-03 21:10:45.000000000,2022-02-03 21:10:45.000000000,162,1905,2,826641,7c551e4dfa40500cfa77d6a1852c005aac648984,17,4,3,21,20870,Alex Kavanagh,ajkavanagh,"Migrate charm to charmhub latest/edge track

Change-Id: Ida0ad9ac927de7ed8f9206521014404b38187cd6
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
"
openstack%2Fcharm-aodh~master~Ic5d06e404f307409db960a98538310e1e0e80308,openstack/charm-aodh,master,charmhub-migration-master,Ic5d06e404f307409db960a98538310e1e0e80308,Update to build using charmcraft,MERGED,2022-01-31 15:41:08.000000000,2022-02-03 21:10:20.000000000,2022-02-02 13:12:14.000000000,80,10,1,827133,b44e3bd667bea59b00392c5d341501a467a63531,32,5,10,12,20870,Alex Kavanagh,ajkavanagh,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: Ic5d06e404f307409db960a98538310e1e0e80308
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~I0e2a037311f216e6bb172e2f36892054968202b9,openstack/openstack-ansible,stable/victoria,osa/remove-centos8,I0e2a037311f216e6bb172e2f36892054968202b9,Remove CI jobs for centos-8,MERGED,2022-01-13 14:05:03.000000000,2022-02-03 21:07:13.000000000,2022-02-03 20:58:35.000000000,0,90,14,824570,df309d6d312db6a783f3acbea2d331b31abae913,43,4,2,3,25023,Jonathan Rosser,jrosser,"Remove CI jobs for centos-8

Centos-8 is becoming EOL so we remove the CI jobs.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-qdrouterd/+/824538
(cherry-picked from commit 81c24da82298f735170e516fe436d6582f527d52)

Change-Id: I0e2a037311f216e6bb172e2f36892054968202b9
"
openstack%2Fkayobe~stable%2Fwallaby~I4b8a42704f2b0a145ee9dec433d91df67628cd9d,openstack/kayobe,stable/wallaby,,I4b8a42704f2b0a145ee9dec433d91df67628cd9d,ntp: Fix service mask when service doesn't exist,MERGED,2022-02-02 16:45:19.000000000,2022-02-03 20:52:10.000000000,2022-02-03 19:33:25.000000000,15,1,7,827403,180fd4ba38061365e790699fff0e87c5ce4a5b98,31,6,4,3,14826,Mark Goddard,mgoddard,"ntp: Fix service mask when service doesn't exist

The ntp role attempts to mask NTP services that may conflict with
chrony. Currently we are seeing the following failure:

    TASK ntp : Mask alternative NTP clients to prevent conflicts
    Could not find the requested service systemd-timesyncd.service: host

The service_facts module shows that the service is not found:

    ""systemd-timesyncd.service"": {
        ""name"": ""systemd-timesyncd.service"",
        ""source"": ""systemd"",
        ""state"": ""stopped"",
        ""status"": ""not-found""
    },

According to the Internet, this can happen if there are After/Before
dependencies in one service on another that does not exist.

This change fixes the handling of these not-found services to avoid the
error.

Note this patch also reduces reserved blocks on the root file system to
work around disk space issues in CI.

Story: 2009821
Task: 44401

Change-Id: I4b8a42704f2b0a145ee9dec433d91df67628cd9d
"
openstack%2Fproject-config~master~I5c46c503159ff272f191bea8d4fa1cee7c0bccdb,openstack/project-config,master,,I5c46c503159ff272f191bea8d4fa1cee7c0bccdb,Parent OSA roles to openstack-ansible repo,MERGED,2022-02-03 19:16:16.000000000,2022-02-03 20:48:26.000000000,2022-02-03 20:23:39.000000000,63,61,1,827757,ca7d1ec9e345bce53ce887872334aa96b3842776,8,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Parent OSA roles to openstack-ansible repo

This introduces new ACL file that aims only to make repos parented to
the integrated repo. With that it should be easier to
search OSA-related changes in gerrit along with building dashboards.

Change-Id: I5c46c503159ff272f191bea8d4fa1cee7c0bccdb
"
openstack%2Fmanila~master~Ic5b8a76a225f20f68b32066a296dd50399209d46,openstack/manila,master,bp/metadata-for-share-resources,Ic5b8a76a225f20f68b32066a296dd50399209d46,Metadata for Share Snapshots Resource,ABANDONED,2022-02-03 16:40:07.000000000,2022-02-03 20:46:06.000000000,,1089,91,0,827717,10920e259e71f07672446b8cba839124a4b16b9b,3,0,1,24,32594,Ashley Rodriguez,ashrod98,"Metadata for Share Snapshots Resource

    This change adds metadata controller for Snapshots resource

    DocImpact
    APIImpact
    Partially-implements: bp/metadata-for-share-resources

    Depends-On: Depends-On: I3e7d3a49cec6af347368757f30d4478841dabeaa
    Change-Id: I91151792d033a4297557cd5f330053d78895eb78

Change-Id: Ic5b8a76a225f20f68b32066a296dd50399209d46
"
openstack%2Fopenstack-ansible-os_glance~master~Icbf12fb0c09ef2e0a856e7339fa43aaf3557715a,openstack/openstack-ansible-os_glance,master,,Icbf12fb0c09ef2e0a856e7339fa43aaf3557715a,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:11:26.000000000,2022-02-03 20:35:41.000000000,2022-02-03 20:33:40.000000000,0,9,0,827438,cab9cb90f5d48919388ab3d2bda4ea50f01d1c7f,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy policy.json cleanup handler

Change-Id: Icbf12fb0c09ef2e0a856e7339fa43aaf3557715a
"
openstack%2Fopenstack-ansible~master~I166b1a6a43582c97ef1f4f481cfee3cc6072cbe9,openstack/openstack-ansible,master,bug/1667789,I166b1a6a43582c97ef1f4f481cfee3cc6072cbe9,[TEST] Enable Galera SSL by default,ABANDONED,2017-12-14 20:46:57.000000000,2022-02-03 20:34:53.000000000,,1,0,0,528079,a20afc7cc78a63c53a42f3aad63a2d63353ff211,17,4,2,1,14805,Jimmy McCrory,jimmy-mccrory,"[TEST] Enable Galera SSL by default

Add the 'galera_use_ssl' group var to enable SSL connections to the
database by default.

Closes-Bug: 1667789

Change-Id: I166b1a6a43582c97ef1f4f481cfee3cc6072cbe9
Depends-On: I0f8c62412e088ebb9b0ed21f7ce707b14f69d62a
Depends-On: I10c578f32c54138cac87ad42adc0ab38d62da9a6
Depends-On: I18e9d47e88e61ff287e5120dead49b02cdf1f8ac
Depends-On: Ifeda0acb4b70ba313e6572c806125d31ab3eb300
Depends-On: I9f9a130be3a4920170295b041b94dd435e3781d1
Depends-On: Id576553bd481ed786ff0ed4948ce79bb74544000
Depends-On: I8d582a5fe18b33592461f3ea23551c97720b8e7d
Depends-On: Ie7e0e5f7fc89978126d0d735367d8ecf3e007cfc
Depends-On: I0d8e3b685faa8d394fd56f8fbfd9b492d2c2cb60
Depends-On: Ib5a87e9366cd9e5a78ccb774ced46e1791e7691d
Depends-On: I1c0598a2f83d330014ffbb2612386016347d3425
Depends-On: I1ac622926542ff6a3dfca7be3703f33ede4013df
Depends-On: Ia453e842cabbb46e25f9918e88738340ff08f2ab
Depends-On: Ie39024c99cad0932f464707adc43019bc1062317
Depends-On: I7a43d313474e17d7e968a5a9510368e3abdf6682
Depends-On: I9165a04de869197ac05e60be799f59a263e98a7b
Depends-On: I24f06aeacd92d6eead4100009301e0fb975bc552
"
openstack%2Fproject-config~master~I57ef2c10d2c29142801ba134c8183bb0393771a8,openstack/project-config,master,import-cirros,I57ef2c10d2c29142801ba134c8183bb0393771a8,Allow default-branch in our projects.yaml checking,MERGED,2022-02-03 18:37:28.000000000,2022-02-03 20:32:58.000000000,2022-02-03 20:32:58.000000000,9,7,1,827753,81e58b7893078cca3ac4de1bcf8d1ac6252c9bd2,10,4,2,1,4146,Clark Boylan,cboylan,"Allow default-branch in our projects.yaml checking

Some projects may not be created with a master branch and choose to use
a different default-branch value. There is support for this in jeepyb
and our gitea git repo management role but we don't allow it in linting.
Update our linting to accomodate projects making this change.

Change-Id: I57ef2c10d2c29142801ba134c8183bb0393771a8
"
openstack%2Ftripleo-heat-templates~master~I9322cd2a2f274daba1d02d5bf98e5abbca795df0,openstack/tripleo-heat-templates,master,bug/1956400,I9322cd2a2f274daba1d02d5bf98e5abbca795df0,Enable notification from Keystone when Barbican is enabled,MERGED,2022-01-05 00:50:20.000000000,2022-02-03 20:22:58.000000000,2022-02-03 20:20:56.000000000,25,1,0,823441,3a04690cda3332b539445d07ff2f24f7425796af,14,4,3,4,9816,Takashi Kajinami,kajinamit,"Enable notification from Keystone when Barbican is enabled

Barbican, especially the barbican-keystone-listener service, consumes
notifications from Keystone so that secrets associated with deleted
users are purged. This change ensures notification is enabled in
Keystone when Barbican is enabled to use that feature properly.

Closes-Bug: #1956400
Change-Id: I9322cd2a2f274daba1d02d5bf98e5abbca795df0
"
openstack%2Fansible-role-collect-logs~master~Id58b76ffa608654418e41cd8ab4c3d1021102ceb,openstack/ansible-role-collect-logs,master,,Id58b76ffa608654418e41cd8ab4c3d1021102ceb,Fix slow timings regex matcher,MERGED,2022-01-27 09:30:41.000000000,2022-02-03 20:20:53.000000000,2022-02-03 20:20:53.000000000,1,1,0,826599,d8fdd04f9351dc33202c4d01fad8cba299824c03,7,3,1,1,6926,Bogdan Dobrelya,bogdando,"Fix slow timings regex matcher

Change-Id: Id58b76ffa608654418e41cd8ab4c3d1021102ceb
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~I2b61ba7ffa16a2f60617cee948ecc47e6d9ccd2e,openstack/tripleo-heat-templates,master,novajoin-cleanup-default,I2b61ba7ffa16a2f60617cee948ecc47e6d9ccd2e,Enable clean-up service for novajoin by default,MERGED,2022-02-02 15:30:53.000000000,2022-02-03 20:20:51.000000000,2022-02-03 20:20:51.000000000,4,0,0,827517,7bb44f26be411bc2e903856b2dc55c82e8029317,9,4,1,2,9816,Takashi Kajinami,kajinamit,"Enable clean-up service for novajoin by default

Currently we include environments/services/novajoin.yaml always in
undercloud deploy or undercloud upgrade. However this implementation
is redundant and requires two repositories maintained consistently.

This change enables the clean-up service by default, so that we no
longer need to include an additional environment file in tripleoclient.

Change-Id: I2b61ba7ffa16a2f60617cee948ecc47e6d9ccd2e
"
openstack%2Fansible-role-python_venv_build~master~I8ac4d9e45708d17bf4e3af99249b4cb204da29ea,openstack/ansible-role-python_venv_build,master,,I8ac4d9e45708d17bf4e3af99249b4cb204da29ea,Remove legacy comment,MERGED,2022-02-01 09:26:10.000000000,2022-02-03 20:14:19.000000000,2022-02-03 20:12:24.000000000,0,7,0,827253,4c0fe473fc0a8410193083c5d63d612cca58e100,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy comment

The repo-build process is removed long ago so this comment is no
longer required.

Change-Id: I8ac4d9e45708d17bf4e3af99249b4cb204da29ea
"
openstack%2Fopenstack-ansible-os_neutron~master~Ie04bea4468c9fe789195857d9d47a02470cda6e3,openstack/openstack-ansible-os_neutron,master,,Ie04bea4468c9fe789195857d9d47a02470cda6e3,Remove legacy db pooling variables,MERGED,2022-02-01 09:18:18.000000000,2022-02-03 20:13:18.000000000,2022-02-03 20:10:46.000000000,6,2,0,827250,65016f288325f38e4259a162820160f102904923,9,3,2,2,25023,Jonathan Rosser,jrosser,"Remove legacy db pooling variables

Change-Id: Ie04bea4468c9fe789195857d9d47a02470cda6e3
"
openstack%2Fopenstack-ansible-os_neutron~master~I4f4e1863d3b1810d47899911828714958cfd3ba3,openstack/openstack-ansible-os_neutron,master,,I4f4e1863d3b1810d47899911828714958cfd3ba3,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:20:16.000000000,2022-02-03 19:58:23.000000000,2022-02-03 19:56:29.000000000,0,8,0,827449,cf7296023538dcc999405d483c4d92acd323cac6,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy policy.json cleanup handler

Change-Id: I4f4e1863d3b1810d47899911828714958cfd3ba3
"
openstack%2Ftripleo-heat-templates~master~Id13a221726af88dd229cf8e12462eabb4027b377,openstack/tripleo-heat-templates,master,bug/1959353,Id13a221726af88dd229cf8e12462eabb4027b377,Nova: Use internal endpoint to access Keystone,MERGED,2022-01-28 01:51:47.000000000,2022-02-03 19:56:19.000000000,2022-02-02 18:18:46.000000000,1,1,1,826793,c3affa49a33bb62e019263186e446a1a70194970,13,9,2,1,9816,Takashi Kajinami,kajinamit,"Nova: Use internal endpoint to access Keystone

The Keystone admin endpoint is deployed on the provisioning network by
default, and usually this network has no redundancy. We don't expect
outage in provisioning network affects functionality of overcloud so
services should not be rely on connectivity in provisioning network.

This change ensures that internal endpoint, which is deployed on
internal api network, is used instead.

Closes-Bug: #1959353
Change-Id: Id13a221726af88dd229cf8e12462eabb4027b377
"
openstack%2Ftripleo-heat-templates~master~I931e4c3c8a081adb144d915410e0d38760466561,openstack/tripleo-heat-templates,master,bug/1959459,I931e4c3c8a081adb144d915410e0d38760466561,Use Internal API by default for Keystone admin endpoint,MERGED,2022-01-28 22:42:53.000000000,2022-02-03 19:56:03.000000000,2022-02-02 19:07:54.000000000,5,7,5,826945,c2d110257446498821346fd1cd0577eadbb99dad,17,7,1,3,9816,Takashi Kajinami,kajinamit,"Use Internal API by default for Keystone admin endpoint

We have been using ctlplane network by default for Keystone admin
endpoint. The intention was to let undercloud talk with the endpoint to
create resources like endpoints, but that requirement is not true,
since we use tripleo-ansible, which relies on public endpoint, to
create keystone resources.

This change updates the default to internal api network. The ctlplane
network, which is the provisioning network, usually has no redundancy,
and we should not make any of overcloud functionalities rely on this
network if there is no actual requirement to do so.

Closes-Bug: #1959459
Change-Id: I931e4c3c8a081adb144d915410e0d38760466561
"
openstack%2Fopenstack-ansible-os_aodh~master~I3f63f7b01dfa99a90d69534dd2fea90bc2b1b422,openstack/openstack-ansible-os_aodh,master,,I3f63f7b01dfa99a90d69534dd2fea90bc2b1b422,Remove legacy apache variables,MERGED,2022-02-02 09:04:43.000000000,2022-02-03 19:54:03.000000000,2022-02-03 19:51:23.000000000,0,16,0,827431,2e3e39ab6b28425c7dd6c00ec761673e74f2d3f6,8,3,1,2,25023,Jonathan Rosser,jrosser,"Remove legacy apache variables

Change-Id: I3f63f7b01dfa99a90d69534dd2fea90bc2b1b422
"
openstack%2Fopenstack-ansible~master~I28a7cec6e1e0654381f9f8f5fa50b297eab89315,openstack/openstack-ansible,master,,I28a7cec6e1e0654381f9f8f5fa50b297eab89315,Bump ansible to 2.12.2,MERGED,2022-02-01 16:00:49.000000000,2022-02-03 19:52:28.000000000,2022-02-03 19:49:25.000000000,1,1,1,827313,2e67a07068bdd537157b4ced15129e88e68d9f2f,10,3,1,1,25023,Jonathan Rosser,jrosser,"Bump ansible to 2.12.2

Change-Id: I28a7cec6e1e0654381f9f8f5fa50b297eab89315
"
openstack%2Frequirements~master~I1a52e7de8274a655a6dc89178843396573f43323,openstack/requirements,master,new-release,I1a52e7de8274a655a6dc89178843396573f43323,update constraint for oslo.messaging to new release 12.12.0,MERGED,2022-02-03 11:54:45.000000000,2022-02-03 19:50:22.000000000,2022-02-03 19:47:26.000000000,1,1,1,827652,8e3f76297d4d3a12f5c3b24f3694372b463b91d7,11,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.messaging to new release 12.12.0

meta: version: 12.12.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I27c955b47fafcb9db3be70d2a8f508fe9def348b
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I1a52e7de8274a655a6dc89178843396573f43323
"
openstack%2Fopenstack-ansible-galera_server~master~I62fe8a2a828ef2f25608ac507e22b6d051365667,openstack/openstack-ansible-galera_server,master,,I62fe8a2a828ef2f25608ac507e22b6d051365667,Remove legacy cleanup tasks,MERGED,2022-02-01 08:30:31.000000000,2022-02-03 19:46:46.000000000,2022-02-03 19:44:56.000000000,0,28,0,827216,349df7b50c40485442512c3515ed727f1afd6039,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy cleanup tasks

These should have been removed in the Pike release.

Change-Id: I62fe8a2a828ef2f25608ac507e22b6d051365667
"
openstack%2Fkolla~master~I0c8f5d38d84dc189cfa829a624447cc424788b75,openstack/kolla,master,,I0c8f5d38d84dc189cfa829a624447cc424788b75,collectd: dpdk telemetry is gone for good,ABANDONED,2022-02-02 15:28:21.000000000,2022-02-03 19:43:30.000000000,,0,1,1,827516,93bf846854d5ae0663d2fda37bd3530be56d9d8c,6,3,1,1,24072,Marcin Juszkiewicz,hrw,"collectd: dpdk telemetry is gone for good

Change-Id: I0c8f5d38d84dc189cfa829a624447cc424788b75
"
openstack%2Fcinder~stable%2Fwallaby~I1c1420a99e2185116a674c3d8bd23d33e12a253f,openstack/cinder,stable/wallaby,manoj_docchange_SVF-stable/wallaby,I1c1420a99e2185116a674c3d8bd23d33e12a253f,Doc: Typos in Spectrum Virtulize family user guide,ABANDONED,2022-02-03 14:25:44.000000000,2022-02-03 19:41:50.000000000,,53,42,0,827646,3a0f26efabb3654e4721008fa3eaa55f1a96aa25,3,0,1,1,32036,katari manoj kumar,katarimanojkumar,"Doc: Typos in Spectrum Virtulize family user guide

Corrected the missing spaces, typos and removed
unsupported product (IBM Spectrum Virtualize for Public Cloud)

Change-Id: I1c1420a99e2185116a674c3d8bd23d33e12a253f
(cherry picked from commit 73d0818a96ecbb22f2243b76b5b8ceb67d332e12)
"
openstack%2Fopenstack-ansible-os_aodh~master~I331169ba48ff07d600c257a64db224517a5f36b9,openstack/openstack-ansible-os_aodh,master,,I331169ba48ff07d600c257a64db224517a5f36b9,Remove policy.json cleanup handler,MERGED,2022-02-02 09:04:43.000000000,2022-02-03 19:31:59.000000000,2022-02-03 19:29:42.000000000,0,9,0,827430,b7ff1830da49baa9322b77d5aa16f97b25028326,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove policy.json cleanup handler

Change-Id: I331169ba48ff07d600c257a64db224517a5f36b9
"
openstack%2Fopenstack-ansible-os_ceilometer~master~I566019a0af35436c93d1b25494ed5e89aa081807,openstack/openstack-ansible-os_ceilometer,master,,I566019a0af35436c93d1b25494ed5e89aa081807,Remove legacy pipeline cleanup task,MERGED,2022-02-02 09:07:49.000000000,2022-02-03 19:31:50.000000000,2022-02-03 19:29:01.000000000,0,7,0,827434,0524ffc5dca7d8dd27a8b0c05573eb4ae431c2e1,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy pipeline cleanup task

Change-Id: I566019a0af35436c93d1b25494ed5e89aa081807
"
openstack%2Fopenstack-ansible-os_tacker~master~I70befc610166e7be23cf8deeec2fc0653ed5ea36,openstack/openstack-ansible-os_tacker,master,,I70befc610166e7be23cf8deeec2fc0653ed5ea36,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:23:50.000000000,2022-02-03 19:31:00.000000000,2022-02-03 19:28:18.000000000,0,9,0,827454,67eefea7773842e1923cb1a8834eab73cb9ec377,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy policy.json cleanup handler

Change-Id: I70befc610166e7be23cf8deeec2fc0653ed5ea36
"
openstack%2Fopenstack-ansible-ceph_client~master~I2bfbd657bf7ed5b042c3640586d8ae80c5b85136,openstack/openstack-ansible-ceph_client,master,,I2bfbd657bf7ed5b042c3640586d8ae80c5b85136,Simpify selection of the python interpreter.,MERGED,2022-02-02 09:41:29.000000000,2022-02-03 19:30:46.000000000,2022-02-03 19:28:39.000000000,1,1,0,827459,1c427078c2cc7a0a655b61d0e089d256d1f57d32,8,3,1,1,25023,Jonathan Rosser,jrosser,"Simpify selection of the python interpreter.

We only support python3 so remove the logic supporting python2

Change-Id: I2bfbd657bf7ed5b042c3640586d8ae80c5b85136
"
openstack%2Fopenstack-ansible-os_senlin~master~Idd4b404b4e49bf25e689e2b12e317e1de0aea9c7,openstack/openstack-ansible-os_senlin,master,,Idd4b404b4e49bf25e689e2b12e317e1de0aea9c7,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:23:16.000000000,2022-02-03 19:27:21.000000000,2022-02-03 19:25:06.000000000,0,9,0,827453,da97f453008ddb95023df7417c6b815f13468f2e,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy policy.json cleanup handler

Change-Id: Idd4b404b4e49bf25e689e2b12e317e1de0aea9c7
"
openstack%2Fopenstack-ansible-os_keystone~master~I54edc22032950f640d824bb8baf170d3599d0f4b,openstack/openstack-ansible-os_keystone,master,,I54edc22032950f640d824bb8baf170d3599d0f4b,Remove legacy db pooling variables,MERGED,2022-02-01 09:13:00.000000000,2022-02-03 19:27:11.000000000,2022-02-03 19:25:08.000000000,10,4,0,827228,7424f8f69a7e19fec6a9994a171d21415395760b,8,3,1,2,25023,Jonathan Rosser,jrosser,"Remove legacy db pooling variables

Change-Id: I54edc22032950f640d824bb8baf170d3599d0f4b
"
openstack%2Fopenstack-ansible-os_trove~master~I0078082f2701f4bec072c0c931996c2ee8c4af76,openstack/openstack-ansible-os_trove,master,,I0078082f2701f4bec072c0c931996c2ee8c4af76,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:24:34.000000000,2022-02-03 19:27:11.000000000,2022-02-03 19:25:05.000000000,0,12,0,827455,9762f84a3443f8ca45f2e8e5a434da8dde8ee459,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy policy.json cleanup handler

Change-Id: I0078082f2701f4bec072c0c931996c2ee8c4af76
"
openstack%2Fopenstack-ansible-os_heat~master~Ic78fa04baba562f20a7e2288e0834fb3eb825503,openstack/openstack-ansible-os_heat,master,,Ic78fa04baba562f20a7e2288e0834fb3eb825503,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:13:12.000000000,2022-02-03 19:23:50.000000000,2022-02-03 19:21:35.000000000,1,9,0,827440,42fadbc03f3612fd86ef07024e24171c2623926f,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy policy.json cleanup handler

Change-Id: Ic78fa04baba562f20a7e2288e0834fb3eb825503
"
openstack%2Fopenstack-ansible-os_nova~master~Ic587e1a55b6f15c66e01176dac7b6acdb0abd240,openstack/openstack-ansible-os_nova,master,,Ic587e1a55b6f15c66e01176dac7b6acdb0abd240,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:20:59.000000000,2022-02-03 19:23:49.000000000,2022-02-03 19:19:51.000000000,0,9,0,827450,3df42220d0b55866d5aaaaf9dbab80557d4b24cc,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy policy.json cleanup handler

Change-Id: Ic587e1a55b6f15c66e01176dac7b6acdb0abd240
"
openstack%2Fopenstack-ansible-os_nova~master~Iee1dca9221b6968d11be54fc1df03b2f8a6c3f44,openstack/openstack-ansible-os_nova,master,,Iee1dca9221b6968d11be54fc1df03b2f8a6c3f44,Fix nova-key tag handling,MERGED,2022-01-13 11:42:40.000000000,2022-02-03 19:22:04.000000000,2022-02-03 19:19:49.000000000,4,0,0,824551,7a0c0f0ad27c9eae188f33d99b95f5299b9b7fc4,10,5,1,1,31542,Andrew Bonney,andrewbonney,"Fix nova-key tag handling

It appears that this tag stopped working recently when switching
from import to include syntax. This patch adds the necessary
'always' tag to ensure the 'nova-key' tag gets carried through.

Change-Id: Iee1dca9221b6968d11be54fc1df03b2f8a6c3f44
"
openstack%2Fopenstack-ansible-os_ceilometer~master~Ie71d28d67e10df4923f057484216cf9010f2fd6b,openstack/openstack-ansible-os_ceilometer,master,,Ie71d28d67e10df4923f057484216cf9010f2fd6b,Remove py2/py3 compatibility notes,MERGED,2022-02-02 09:07:49.000000000,2022-02-03 19:18:43.000000000,2022-02-03 19:16:16.000000000,0,4,0,827433,ff47557775b6a5b1bce4ad788ef0a50a05791f99,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove py2/py3 compatibility notes

We only support python3 now.

Change-Id: Ie71d28d67e10df4923f057484216cf9010f2fd6b
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I57560b416b03afffe7498609490da04d1a851f11,openstack/openstack-ansible-lxc_hosts,master,,I57560b416b03afffe7498609490da04d1a851f11,Remove vars files for EOL version of centos-8,MERGED,2022-02-02 08:59:21.000000000,2022-02-03 19:18:04.000000000,2022-02-03 19:13:53.000000000,0,54,0,827426,2bb97a64ac5d5ca0a8132003216fedd8ea288322,8,3,1,3,25023,Jonathan Rosser,jrosser,"Remove vars files for EOL version of centos-8

Change-Id: I57560b416b03afffe7498609490da04d1a851f11
"
openstack%2Fopenstack-ansible-os_barbican~master~I1868ec2320ca057ed4c47d6ddaa56f07b91f0a59,openstack/openstack-ansible-os_barbican,master,,I1868ec2320ca057ed4c47d6ddaa56f07b91f0a59,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:05:34.000000000,2022-02-03 19:17:04.000000000,2022-02-03 19:14:32.000000000,0,9,0,827432,02fefcce4e955a09dcd727c4e414bd18319058e2,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy policy.json cleanup handler

Change-Id: I1868ec2320ca057ed4c47d6ddaa56f07b91f0a59
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I9567a0319a4763ad3e37e4a8704751d7dfbf8b29,openstack/openstack-ansible-lxc_hosts,master,,I9567a0319a4763ad3e37e4a8704751d7dfbf8b29,Remove legacy network scripts cleanup task,MERGED,2022-02-02 08:59:21.000000000,2022-02-03 19:16:19.000000000,2022-02-03 19:13:52.000000000,0,7,0,827425,0c99f74c03cc80bb1fcdb19c5586ed8d9983aa90,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy network scripts cleanup task

Change-Id: I9567a0319a4763ad3e37e4a8704751d7dfbf8b29
"
openstack%2Fkolla-ansible~master~Ica304685b043f699799ccee6c9c2fbcf968888db,openstack/kolla-ansible,master,libvirt-on-host,Ica304685b043f699799ccee6c9c2fbcf968888db,CI: enable libvirt TLS in TLS jobs,MERGED,2022-01-21 17:51:09.000000000,2022-02-03 19:16:10.000000000,2022-02-03 19:11:05.000000000,2,0,3,825845,b29298ed2abf53b1ef540c71cb03ce3ea5b95faa,34,3,8,1,14826,Mark Goddard,mgoddard,"CI: enable libvirt TLS in TLS jobs

Enable libvirt TLS in CI jobs with TLS enabled.

Uses the new functionality of the certificates command to generate
certificates for both libvirt client and server (added in
I1bde9fa018f66037aec82dc74c61ad1f477a7c12).

Change-Id: Ica304685b043f699799ccee6c9c2fbcf968888db
"
openstack%2Fopenstack-ansible-os_ironic~master~Icacceda4d73caaef54a2efca83a08dd7487bef83,openstack/openstack-ansible-os_ironic,master,,Icacceda4d73caaef54a2efca83a08dd7487bef83,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:13:57.000000000,2022-02-03 19:15:18.000000000,2022-02-03 19:13:13.000000000,0,9,0,827442,809e2dd185f5fa6a17a1bc7340d1c648498eb737,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy policy.json cleanup handler

Change-Id: Icacceda4d73caaef54a2efca83a08dd7487bef83
"
openstack%2Fkolla-ansible~master~I1bde9fa018f66037aec82dc74c61ad1f477a7c12,openstack/kolla-ansible,master,,I1bde9fa018f66037aec82dc74c61ad1f477a7c12,certificates: generate libvirt TLS certificates,MERGED,2022-01-27 16:26:00.000000000,2022-02-03 19:14:10.000000000,2022-02-03 19:11:03.000000000,122,1,7,826723,33e93ab323a570d9140168c967a37c311e0052d6,24,3,3,6,14826,Mark Goddard,mgoddard,"certificates: generate libvirt TLS certificates

Adds support to the 'kolla-ansible certificates' command for generating
certificates for libvirt TLS, when libvirt_tls is true. The same
certificate and key are used for the libvirt client and server.

The certificates use the same root CA as the other generated
certificates, and are written to
{{ node_custom_config }}/nova/nova-libvirt/, ready to be picked up by
nova-libvirt and nova-compute.

Change-Id: I1bde9fa018f66037aec82dc74c61ad1f477a7c12
"
openstack%2Fopenstack-ansible-os_designate~master~Ie2bc614e675de22eb7c7829efd638673f285e626,openstack/openstack-ansible-os_designate,master,,Ie2bc614e675de22eb7c7829efd638673f285e626,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:10:33.000000000,2022-02-03 19:12:51.000000000,2022-02-03 19:09:47.000000000,0,9,0,827437,4d081680652ef5e35193f13c2363097dd974f249,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy policy.json cleanup handler

Change-Id: Ie2bc614e675de22eb7c7829efd638673f285e626
"
openstack%2Fopenstack-ansible-os_octavia~master~Ia37876caa7b627e66d5e703262a8b060c46fa25d,openstack/openstack-ansible-os_octavia,master,,Ia37876caa7b627e66d5e703262a8b060c46fa25d,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:21:52.000000000,2022-02-03 19:12:19.000000000,2022-02-03 19:09:45.000000000,0,8,0,827451,57400fb6a669ca585dd4a6b6328d06a82af0874f,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy policy.json cleanup handler

Change-Id: Ia37876caa7b627e66d5e703262a8b060c46fa25d
"
openstack%2Fopenstack-ansible-os_barbican~master~I6b06486328ec0af05a17272be99a14911be9f4f7,openstack/openstack-ansible-os_barbican,master,,I6b06486328ec0af05a17272be99a14911be9f4f7,Remove SSL variables which appear to be unused,MERGED,2022-01-10 10:54:31.000000000,2022-02-03 19:11:27.000000000,2022-02-03 19:09:01.000000000,0,16,1,823957,38c39642550f436ba97c99f6175c3f527785bd1c,11,4,1,1,31542,Andrew Bonney,andrewbonney,"Remove SSL variables which appear to be unused

Whilst enabling TLS v1.3 in other roles these variables were noted
which don't appear to be used anywhere in the role.

Change-Id: I6b06486328ec0af05a17272be99a14911be9f4f7
"
openstack%2Fopenstack-ansible-lxc_hosts~master~Iafa0ae54538be2690a813c05fadb472c15a01b5a,openstack/openstack-ansible-lxc_hosts,master,,Iafa0ae54538be2690a813c05fadb472c15a01b5a,Ansible systemd module can reload units without specifying a service,MERGED,2022-02-01 08:32:08.000000000,2022-02-03 19:10:11.000000000,2022-02-03 19:07:28.000000000,0,3,0,827217,c844e21a6e561770858152a47f62d5ac9b955313,10,3,2,1,25023,Jonathan Rosser,jrosser,"Ansible systemd module can reload units without specifying a service

Remove an old workaround for ansible <2.4

Change-Id: Iafa0ae54538be2690a813c05fadb472c15a01b5a
"
openstack%2Frequirements~stable%2Fvictoria~I4fa007356bdbb55621dcbe070158c077dc9496aa,openstack/requirements,stable/victoria,new-release,I4fa007356bdbb55621dcbe070158c077dc9496aa,update constraint for python-troveclient to new release 5.1.2,MERGED,2022-02-03 15:31:49.000000000,2022-02-03 19:07:26.000000000,2022-02-03 19:07:26.000000000,1,1,0,827695,b887ddf49b599b666f1ff8468ad589c0ba6e3092,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-troveclient to new release 5.1.2

meta: version: 5.1.2
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: If861dbbe5c411b31e40598f3abe8ea1657d1cf8c
meta: release:Code-Review+1: Lingxian Kong <anlin.kong@gmail.com>
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I4fa007356bdbb55621dcbe070158c077dc9496aa
"
openstack%2Ftripleo-validations~master~Ia4cca68d185feb6e1370589caccc4e198af098ce,openstack/tripleo-validations,master,check_roles_data,Ia4cca68d185feb6e1370589caccc4e198af098ce,[WIP] Introduce check_roles_data role,ABANDONED,2021-03-31 17:17:21.000000000,2022-02-03 19:07:10.000000000,,298,0,2,784137,eeb0e1cb5b25d71586c6c95477398982ae5c139e,5,1,2,11,11090,Sergii Golovatiuk,holser,"[WIP] Introduce check_roles_data role

This role checks roles_data.yaml. It should not contain any deprecated
services.

Change-Id: Ia4cca68d185feb6e1370589caccc4e198af098ce
"
openstack%2Fopenstack-ansible-os_sahara~master~If85dd0ec4105c216047bd05b101e98b95a7eb6c1,openstack/openstack-ansible-os_sahara,master,,If85dd0ec4105c216047bd05b101e98b95a7eb6c1,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:22:28.000000000,2022-02-03 19:06:04.000000000,2022-02-03 19:03:24.000000000,0,9,0,827452,bcf2711ff0eaf45cd08a955d63f91d2df23e6b53,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy policy.json cleanup handler

Change-Id: If85dd0ec4105c216047bd05b101e98b95a7eb6c1
"
openstack%2Fopenstack-ansible-os_cinder~master~Icc44bcf02229ad7d18853a47924b4aa3d3d1b7cd,openstack/openstack-ansible-os_cinder,master,,Icc44bcf02229ad7d18853a47924b4aa3d3d1b7cd,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:08:46.000000000,2022-02-03 18:55:36.000000000,2022-02-03 18:52:50.000000000,0,9,0,827435,a9eec797b7b015dcd6b7646c78ef42ea6bfe7319,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy policy.json cleanup handler

Change-Id: Icc44bcf02229ad7d18853a47924b4aa3d3d1b7cd
"
openstack%2Fnova~master~I405d0324abe32b31a434105cf2c104876fe9c127,openstack/nova,master,bp/multiqueue-flavor-extra-spec,I405d0324abe32b31a434105cf2c104876fe9c127,Add 'hw:vif_multiqueue_enabled' flavor extra spec,MERGED,2021-05-20 11:25:28.000000000,2022-02-03 18:54:49.000000000,2022-02-03 18:51:08.000000000,164,36,40,792356,f42fb1241bb70b03b0715412b99257339e6bdc8d,98,7,8,7,15334,Stephen Finucane,sfinucan,"Add 'hw:vif_multiqueue_enabled' flavor extra spec

This mirrors the 'hw_vif_multiqueue_enabled' image metadata property.
Providing a way to set this via flavor extra specs allows admins to
enable this by default and easily enable it for existing instances
without the need to rebuild (a destructive operation).

Note that, in theory at least, the image import workflow provided by
glance should allows admins to enable this by default, but the legacy
image create workflow does not allow this and admins cannot really
control which API end users use when uploading their own images.

Also note that we could provide this behavior using a host-level
configuration option. This would be similar to what we do for other
attributes such as machine type ('hw_machine_type' image meta prop or
'[libvirt] hw_machine_type' config option) or pointer model
('hw_pointer_model' image meta prop or '[compute] pointer_model' config
option) and would be well suited to things that we don't expect to
change, such as enabling multiqueue (it's a sensible default). However,
we would need to start storing this information in system_metadata, like
we do for machine type (since Wallaby) to prevent things changing over
live migration. We have also started avoiding host-level config options
for things like this since one must ensure that the value configured are
consistent across deployments to behavior that varies depending on the
host the guest is initially created on.

Change-Id: I405d0324abe32b31a434105cf2c104876fe9c127
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcontributor-guide~master~I1d549944740e2f2cc1ec4b3902ec1da69fec1c56,openstack/contributor-guide,master,memberships_screenshot,I1d549944740e2f2cc1ec4b3902ec1da69fec1c56,Replace memberships.png with latest content,MERGED,2022-01-25 18:29:48.000000000,2022-02-03 18:48:14.000000000,2022-02-03 18:44:45.000000000,0,0,4,826352,67b4500d6e620eaa24c8e6605646ec371285f3a2,10,4,1,1,34373,Jason Paroly,jparoly,"Replace memberships.png with latest content

The existing screenshot is not what you actually see here:https://docs.openstack.org/contributors/common/accounts.html
Simply took a new screenshot and replacing the existing one.

Change-Id: I1d549944740e2f2cc1ec4b3902ec1da69fec1c56
"
openstack%2Fnova~master~I518bb5d586b159b4796fb6139351ba423bc19639,openstack/nova,master,docs,I518bb5d586b159b4796fb6139351ba423bc19639,docs: Add new architecture guide,MERGED,2021-10-19 11:52:31.000000000,2022-02-03 18:36:38.000000000,2022-02-03 18:28:02.000000000,240,274,18,814563,ef4d759e87d11e6d53c22cf57a3b9296fa00c642,15,3,1,7,15334,Stephen Finucane,sfinucan,"docs: Add new architecture guide

As with the cells v2 docs before this, we have a number of architecture
focused documents in tree. The 'user/architecture' guide is relatively
up-to-date but is quite shallow, while the 'admin/arch' guide is
in-depth but almost a decade out-of-date, with references to things
like nova's in-built block storage service. Replace most of the latter
with more up-to-date information and the merge the former into it,
before renaming the file to 'admin/architecture'.

Change-Id: I518bb5d586b159b4796fb6139351ba423bc19639
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fplacement~master~I67d1af5b8b6e945c744180358d588e95e13c33f6,openstack/placement,master,any-traits-support,I67d1af5b8b6e945c744180358d588e95e13c33f6,Extra tests around required traits,MERGED,2022-01-21 18:21:38.000000000,2022-02-03 18:36:36.000000000,2022-02-03 18:27:56.000000000,77,0,5,825846,396634e07cd7d7e07c27fdb43d06271713f4049a,15,3,3,2,9708,Balazs Gibizer,gibi,"Extra tests around required traits

This patch adds some tests to prove the following for both GET
/resource_providers and /allocation_candidates API:

* in:trait1,trait2 is not yet supported, this will makes sure we don't
  leak the support to older microversions

* repeated `required` query params are not supported. Interestingly the
  current behavior is that one `required` query param will overwrite the
  rest.

Story: 2005345
Story: 2005346

Change-Id: I67d1af5b8b6e945c744180358d588e95e13c33f6
"
openstack%2Frequirements~master~Iaeb3800e32c36b7dde66ef0cdee6dba14fe9151a,openstack/requirements,master,new-release,Iaeb3800e32c36b7dde66ef0cdee6dba14fe9151a,update constraint for oslo.cache to new release 2.10.0,MERGED,2022-02-03 11:49:39.000000000,2022-02-03 18:36:36.000000000,2022-02-03 18:27:53.000000000,1,1,0,827650,cc9439a8355322899ddf1d7d957da5c3175f9d5f,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.cache to new release 2.10.0

meta: version: 2.10.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I27c955b47fafcb9db3be70d2a8f508fe9def348b
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Iaeb3800e32c36b7dde66ef0cdee6dba14fe9151a
"
openstack%2Fneutron-tempest-plugin~master~I73c3d6caeaf578fb032750c34e1aaa1ac041da9a,openstack/neutron-tempest-plugin,master,bug/1881558,I73c3d6caeaf578fb032750c34e1aaa1ac041da9a,Re-enable IPv6Test in OVN scenario job,MERGED,2022-02-01 14:44:54.000000000,2022-02-03 18:27:58.000000000,2022-02-03 18:27:58.000000000,11,3,2,827303,88fc3fb64e9901ec64b141cbcad1e0fc5325fedf,11,6,2,2,13861,yatin,yatinkarel,"Re-enable IPv6Test in OVN scenario job

The related bug is fixed in ovn with[1], so issue
should not be see with ovn-20.03.2+ releases. This
patch re-enables the test by removing it from blacklist,
and adding it to ussuri ovn job as that is running with
ovn-20.03.0.

[1] https://github.com/ovn-org/ovn/commit/53285ae

Depends-On: https://review.opendev.org/c/openstack/networking-sfc/+/827410/
Related-Bug: #1881558
Change-Id: I73c3d6caeaf578fb032750c34e1aaa1ac041da9a
"
openstack%2Frequirements~stable%2Fvictoria~I162e7d1dd359ce602f193888fbda0df8595ae31b,openstack/requirements,stable/victoria,new-release,I162e7d1dd359ce602f193888fbda0df8595ae31b,update constraint for ironic-lib to new release 4.4.2,MERGED,2022-01-24 12:00:21.000000000,2022-02-03 18:27:49.000000000,2022-02-03 18:27:49.000000000,1,1,0,826072,10cea6ad14a418e5625bad5428d4e57aeab9df8e,14,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for ironic-lib to new release 4.4.2

meta: version: 4.4.2
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Ic2859b8be6cb19d380948a11e4872c69b035c09c
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I162e7d1dd359ce602f193888fbda0df8595ae31b
"
openstack%2Frequirements~stable%2Fvictoria~I2cea59558f70680fec4af972dd3dee4c6b0e7050,openstack/requirements,stable/victoria,new-release,I2cea59558f70680fec4af972dd3dee4c6b0e7050,update constraint for python-ironicclient to new release 4.4.1,MERGED,2022-01-24 12:00:16.000000000,2022-02-03 18:27:47.000000000,2022-02-03 18:27:47.000000000,1,1,0,826071,cfb93af68d0bf45317b366ffd5655c93c2096a7b,14,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-ironicclient to new release 4.4.1

meta: version: 4.4.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Ie1fa3096e84253d76ce20c979821c2f7a31bd400
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I2cea59558f70680fec4af972dd3dee4c6b0e7050
"
openstack%2Frequirements~stable%2Fvictoria~Ie891008b10f90f83332ae65db5c5c95c6a48e663,openstack/requirements,stable/victoria,new-release,Ie891008b10f90f83332ae65db5c5c95c6a48e663,update constraint for sushy to new release 3.4.5,MERGED,2022-01-24 11:52:54.000000000,2022-02-03 18:27:44.000000000,2022-02-03 18:27:44.000000000,1,1,0,826049,160eb878e1d937e131a9757d6e1523a7cd124c53,20,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for sushy to new release 3.4.5

meta: version: 3.4.5
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Ib27d51485700555369a9bf51bafbe3f1da9a5b72
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ie891008b10f90f83332ae65db5c5c95c6a48e663
"
openstack%2Frequirements~stable%2Fvictoria~Ifecf3b41b5c323996ab214faf92579da8baeb0e2,openstack/requirements,stable/victoria,new-release,Ifecf3b41b5c323996ab214faf92579da8baeb0e2,update constraint for glance_store to new release 2.3.1,MERGED,2022-01-24 11:50:30.000000000,2022-02-03 18:27:41.000000000,2022-02-03 18:27:41.000000000,1,1,0,826047,ef8f6ef61087a122b42aec35faa5e6de3f29f6c4,21,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for glance_store to new release 2.3.1

meta: version: 2.3.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Előd Illés <elod.illes@est.tech>
meta: release:Commit: Előd Illés <elod.illes@est.tech>
meta: release:Change-Id: I2c354abb8b13d31cccbc0129291c5a25df2909dc
meta: release:Code-Review+1: Abhishek Kekane <akekane@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ifecf3b41b5c323996ab214faf92579da8baeb0e2
"
openstack%2Frequirements~stable%2Fvictoria~Ie5f13c9dfdd3277273752304895ef24259b14ad3,openstack/requirements,stable/victoria,new-release,Ie5f13c9dfdd3277273752304895ef24259b14ad3,update constraint for ceilometer to new release 15.1.0,MERGED,2022-01-24 11:47:35.000000000,2022-02-03 18:27:38.000000000,2022-02-03 18:27:38.000000000,1,1,0,826046,f6ebd639e77180b21fe8a4c1285a1c39edd8e8e5,20,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for ceilometer to new release 15.1.0

meta: version: 15.1.0
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Előd Illés <elod.illes@est.tech>
meta: release:Change-Id: I0dd2a898d7b47f118537c31e52ed1ac252cefdc8
meta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ie5f13c9dfdd3277273752304895ef24259b14ad3
"
openstack%2Fcharm-rabbitmq-server~master~I04094f4392ba1057202fa3f4d58720bc9c14048b,openstack/charm-rabbitmq-server,master,charmhub-migration-master,I04094f4392ba1057202fa3f4d58720bc9c14048b,Migrate charm to charmhub latest/edge track,MERGED,2022-01-27 17:03:46.000000000,2022-02-03 18:23:44.000000000,2022-02-03 18:23:44.000000000,72,848,0,826741,009ef87594ca50e47750246c78219b429695c696,15,4,3,18,20870,Alex Kavanagh,ajkavanagh,"Migrate charm to charmhub latest/edge track

Change-Id: I04094f4392ba1057202fa3f4d58720bc9c14048b
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
"
openstack%2Ftripleo-upgrade~master~Ie018f714d41feec57208501f468e0822604d7784,openstack/tripleo-upgrade,master,molecule_bump,Ie018f714d41feec57208501f468e0822604d7784,Remove constraints for sh and molecule,ABANDONED,2021-07-02 14:33:36.000000000,2022-02-03 18:20:17.000000000,,2,2,0,799214,c0b4d82a1b71f83adb3939966067496801856f48,5,1,2,1,11090,Sergii Golovatiuk,holser,"Remove constraints for sh and molecule

Since we don't use CentOS 7 anymore there is no need to stick with sh
and molecule. This patch removes version constraints for these python
packages.

Change-Id: Ie018f714d41feec57208501f468e0822604d7784
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I4fa6a5996ac777c6595380dbee39f9462b6cea2a,openstack/tripleo-upgrade,stable/train,,I4fa6a5996ac777c6595380dbee39f9462b6cea2a,Change the path according to leapp-0.13,MERGED,2022-01-25 22:08:19.000000000,2022-02-03 18:18:55.000000000,2022-01-26 18:50:14.000000000,1,1,4,826393,e54d36332e7483a115ddc7f1244d35a42667231f,12,4,1,1,11090,Sergii Golovatiuk,holser,"Change the path according to leapp-0.13

The path was changed in leapp-0.13. This patch changes it accordingly.

Change-Id: I4fa6a5996ac777c6595380dbee39f9462b6cea2a
"
openstack%2Frequirements~stable%2Fwallaby~I8e338cefb460ce1618e938e768e829e2375c6841,openstack/requirements,stable/wallaby,new-release,I8e338cefb460ce1618e938e768e829e2375c6841,update constraint for python-manilaclient to new release 2.6.2,MERGED,2022-01-26 12:32:16.000000000,2022-02-03 18:17:48.000000000,2022-02-03 18:17:48.000000000,1,1,0,826457,bbeb3dbe43d34c3c4c13e5a0219df3aa734cb48e,13,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-manilaclient to new release 2.6.2

meta: version: 2.6.2
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Commit: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Change-Id: I45600e997dcc33dd05ae3d03ebb9289ffb7af344
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Tom Barron <tpb@dyncloud.net>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I8e338cefb460ce1618e938e768e829e2375c6841
"
openstack%2Frequirements~stable%2Fxena~I048d6e7c257dcd22acc479eed6d56109b8c0e4d6,openstack/requirements,stable/xena,new-release,I048d6e7c257dcd22acc479eed6d56109b8c0e4d6,update constraint for python-manilaclient to new release 3.0.1,MERGED,2022-01-26 11:46:05.000000000,2022-02-03 18:17:43.000000000,2022-02-03 18:17:43.000000000,1,1,0,826448,f58ce88ea4b82c276d612ad3f4139c53b20e3af0,14,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-manilaclient to new release 3.0.1

meta: version: 3.0.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Commit: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Change-Id: I6a6427b9720a4314de7423b8b8628f9132b2c091
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I048d6e7c257dcd22acc479eed6d56109b8c0e4d6
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If3570f9f920f0dff0b0a90c2d8629a91abdafdeb,openstack/tripleo-heat-templates,stable/train,add_sleep_after_docker_restart,If3570f9f920f0dff0b0a90c2d8629a91abdafdeb,[Train-only] Add sleep after docker restart,ABANDONED,2021-11-09 20:21:46.000000000,2022-02-03 18:12:40.000000000,,2,0,4,817304,1564f792f09c114b32c9c6521802cc73994027ef,17,6,4,2,11090,Sergii Golovatiuk,holser,"[Train-only] Add sleep after docker restart

Containers don't start immediately after docker restart. It means we
need some time. Otherwise RUNNING may be empty in some cases

Change-Id: If3570f9f920f0dff0b0a90c2d8629a91abdafdeb
"
openstack%2Fironic-python-agent~master~I568d7edfe81e928e6d7f09bd4a7933ca72b8813a,openstack/ironic-python-agent,master,reno,I568d7edfe81e928e6d7f09bd4a7933ca72b8813a,Clean up release notes,MERGED,2022-02-03 13:49:53.000000000,2022-02-03 18:08:50.000000000,2022-02-03 18:05:27.000000000,11,10,0,827666,b8b1991bea20bb34075cb9295b16256cf0dabc95,8,3,1,2,10239,Dmitry Tantsur,dtantsur,"Clean up release notes

Change-Id: I568d7edfe81e928e6d7f09bd4a7933ca72b8813a
"
openstack%2Fansible-role-qdrouterd~master~I4aef99914e8ea07014c44f1d70ae71b1c82e6a31,openstack/ansible-role-qdrouterd,master,,I4aef99914e8ea07014c44f1d70ae71b1c82e6a31,Only support python3 for the qpid bindings,MERGED,2022-02-02 09:44:28.000000000,2022-02-03 17:55:43.000000000,2022-02-03 17:52:44.000000000,1,1,0,827463,d9b6cfdced3a03b6d19a617a29708c0c1c1437aa,8,3,1,1,25023,Jonathan Rosser,jrosser,"Only support python3 for the qpid bindings

Change-Id: I4aef99914e8ea07014c44f1d70ae71b1c82e6a31
"
openstack%2Fironic~master~I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb,openstack/ironic,master,api-none,I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb,Fix resource_url in the remaining resources,MERGED,2022-01-24 18:11:01.000000000,2022-02-03 17:33:57.000000000,2022-02-03 17:30:12.000000000,83,52,0,826143,55144d3bd262be35c7a034fea083c3ed73fd63d8,12,3,1,16,10239,Dmitry Tantsur,dtantsur,"Fix resource_url in the remaining resources

Node history was particularly affected: limit was not converted from
string to integer, so ""next"" link was never added.

Add some safeguards to the generic API code.

Change-Id: I1328e2f07621bf7e39b96eb4a7ddb66c9a2b65bb
"
