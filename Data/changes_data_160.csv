id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Foctavia-lib~master~I01268f7afac8f6356616f3926d6fe9c1ec31b2b5,openstack/octavia-lib,master,http2,I01268f7afac8f6356616f3926d6fe9c1ec31b2b5,Add alpn_protocols to the pool data model,MERGED,2020-09-15 18:56:13.000000000,2021-01-25 17:11:16.000000000,2021-01-25 17:09:00.000000000,19,3,0,752094,0bc8c6a0b843ecd71ba3795ca7010ca42b3c417f,21,5,3,3,6469,Carlos Gonçalves,cgoncalves,"Add alpn_protocols to the pool data model

This change completes the ALPN support started in Victoria and initially
limited to listeners. Now with pools supported as well, this feature
work is completed in octavia-lib.

Change-Id: I01268f7afac8f6356616f3926d6fe9c1ec31b2b5
"
openstack%2Ftripleo-validations~master~I2bc8a79629518d23b45621d3cf079edc44ef802f,openstack/tripleo-validations,master,pep8/rangeredefinition,I2bc8a79629518d23b45621d3cf079edc44ef802f,Local var was redefining built-in range,MERGED,2021-01-13 10:13:10.000000000,2021-01-25 16:59:22.000000000,2021-01-19 13:38:32.000000000,4,4,0,770567,cdae6dd822124674d016cac7453cf4eb7e4d7805,9,6,1,1,32926,Jiri Podivin,jpodivin,"Local var was redefining built-in range

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I2bc8a79629518d23b45621d3cf079edc44ef802f
"
openstack%2Fcharm-nova-cell-controller~master~I15770da6cfae46446c361cbff83940f4036c1cac,openstack/charm-nova-cell-controller,master,groovy-charm-gate,I15770da6cfae46446c361cbff83940f4036c1cac,Add Groovy to the test gate,MERGED,2020-11-05 11:51:47.000000000,2021-01-25 16:58:31.000000000,2021-01-25 16:58:31.000000000,1,3,0,761577,e94a55a11a8321640a289f3057b61bbed482b27b,22,3,4,1,31289,Aurelien Lourot,lourot,"Add Groovy to the test gate

Change-Id: I15770da6cfae46446c361cbff83940f4036c1cac
"
openstack%2Foctavia-lib~master~Id0c035fd8e83ad088520b264e2727fc1a42dd3e2,openstack/octavia-lib,master,,Id0c035fd8e83ad088520b264e2727fc1a42dd3e2,Fix lower-constraints,MERGED,2021-01-22 15:47:08.000000000,2021-01-25 16:44:58.000000000,2021-01-25 16:41:26.000000000,3,3,1,771997,c6fb93a53d4824a5c53ae7428dc3fb3e74abf8c0,13,4,2,2,29244,Gregory Thiemonge,gthiemonge,"Fix lower-constraints

Change-Id: Id0c035fd8e83ad088520b264e2727fc1a42dd3e2
"
openstack%2Fpuppet-aodh~master~If82dc6054483893433634ca81f446e6959dcd038,openstack/puppet-aodh,master,coordination_url-default,If82dc6054483893433634ca81f446e6959dcd038,Ensure coordination_url is unset by default,MERGED,2020-12-30 12:00:48.000000000,2021-01-25 16:30:07.000000000,2021-01-25 16:27:22.000000000,25,13,0,768777,bc846d7f150926da2b0e469a978ea6c5c00e9c67,21,3,5,3,9816,Takashi Kajinami,kajinamit,"Ensure coordination_url is unset by default

This change ensures that the coordination_url option is not unmanaged
but unset, to make sure that the default value defined in aodh itself
is used.

Change-Id: If82dc6054483893433634ca81f446e6959dcd038
"
openstack%2Fpuppet-aodh~master~Id64fc407d19aa546512078f67df3a727fd9f5525,openstack/puppet-aodh,master,coordination_url-default,Id64fc407d19aa546512078f67df3a727fd9f5525,Add support for workers option,MERGED,2020-12-30 11:50:12.000000000,2021-01-25 16:28:48.000000000,2021-01-25 16:27:18.000000000,104,7,2,768776,ae9b91107dffa80c3674a80f6c3a28ffa403d5bb,25,3,5,7,9816,Takashi Kajinami,kajinamit,"Add support for workers option

This change introduces support for workers option of aodh services
(evaluator, listener, notifier) so that operators can define number
of processes used in each service.

Change-Id: Id64fc407d19aa546512078f67df3a727fd9f5525
"
openstack%2Fkolla~master~I616ab0d81b961effaa3b4a8639b1d06327473f08,openstack/kolla,master,remove-unicode,I616ab0d81b961effaa3b4a8639b1d06327473f08,remove unicode from code,MERGED,2021-01-03 04:57:46.000000000,2021-01-25 16:12:15.000000000,2021-01-25 16:10:18.000000000,13,13,0,768951,62b37f04539f861b6b40783a4d8ea5f1dc0197d7,12,6,1,3,32029,likui,likui,"remove unicode from code

Change-Id: I616ab0d81b961effaa3b4a8639b1d06327473f08
Implements: blueprint remove-unicode
"
openstack%2Fproject-config~master~Ib0ba945e91956cb76504893bd9924d4b70d4ffb6,openstack/project-config,master,inap-nodes,Ib0ba945e91956cb76504893bd9924d4b70d4ffb6,"Revert ""Revert ""Revert ""Revert ""Temporarily stop booting nodes in inap-mtl01""""""""",MERGED,2021-01-25 15:20:15.000000000,2021-01-25 15:54:58.000000000,2021-01-25 15:47:52.000000000,1,1,0,772355,7181a05d964d6b323107c11bcd76e76aae44164c,8,3,1,1,5263,Jeremy Stanley,fungi,"Revert ""Revert ""Revert ""Revert ""Temporarily stop booting nodes in inap-mtl01""""""""

This reverts commit fa9e37d729869698f7f9149f4cdb533a79e8a5cf.

Still seeing a significant percentage of nodes becoming
unreachable/broken during builds, turn it back off again while we
dig deeper in service logs.

Change-Id: Ib0ba945e91956cb76504893bd9924d4b70d4ffb6
"
openstack%2Fkolla~master~I87208f28d768fb7cbadd13424a3bc2debaec22df,openstack/kolla,master,,I87208f28d768fb7cbadd13424a3bc2debaec22df,version-check: handle more situations,ABANDONED,2020-02-27 11:06:18.000000000,2021-01-25 15:53:23.000000000,,19,6,4,710229,d78cefc367bfbdaa1da96ae16e37de59ee72c63b,13,4,1,1,24072,Marcin Juszkiewicz,hrw,"version-check: handle more situations

In Train mistal-dashboard got own YAML file and has version 9.0.0 there.
But there was also 9.0.1 mistral-dashboard release which is not listed
there. Instead it is listed in mistal.yaml file.

So in order to handle it version-check script first checks is project
already in table and compares versions to make sure we do not overwrite
with older version.

Change-Id: I87208f28d768fb7cbadd13424a3bc2debaec22df
"
openstack%2Fnetworking-baremetal~master~I95854d2f83aa158b7805f86b9f98b739f9f2e6b7,openstack/networking-baremetal,master,fix-relmgt-pip-doc,I95854d2f83aa158b7805f86b9f98b739f9f2e6b7,Add doc/requirements,MERGED,2021-01-04 17:31:11.000000000,2021-01-25 15:45:00.000000000,2021-01-25 15:41:31.000000000,11,9,3,769172,c43a6f419c854f0b945981230b389a83f39b01a6,15,4,3,3,15519,Iury Gregory Melo Ferreira,iurygregory,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver for the release team.
Removed specific doc requirements from test-requirements.txt

Change-Id: I95854d2f83aa158b7805f86b9f98b739f9f2e6b7
"
openstack%2Fkolla~master~I7ad2373327be29cd307db5ce4f7db022829e3b35,openstack/kolla,master,,I7ad2373327be29cd307db5ce4f7db022829e3b35,Bump up rally and rally-openstack,MERGED,2021-01-08 11:29:53.000000000,2021-01-25 15:20:15.000000000,2021-01-08 16:21:41.000000000,2,2,0,769909,c0eef769db3d951f1e051af49ffcd95b6d6dfb87,11,5,1,1,22629,Michal Nasiadka,mnasiadka,"Bump up rally and rally-openstack

New rally and rally-openstack versions released due to incompatibility
with latest oslo.config.

Change-Id: I7ad2373327be29cd307db5ce4f7db022829e3b35
"
openstack%2Fkolla~master~I3d101f171bd1cc6f3c192ddc98cea0d63bccb739,openstack/kolla,master,feat/remove-nova-mksproxy-image,I3d101f171bd1cc6f3c192ddc98cea0d63bccb739,Remove nova-mksproxy image,MERGED,2021-01-14 08:15:03.000000000,2021-01-25 15:17:55.000000000,2021-01-19 13:31:03.000000000,3,25,0,770729,36e5ef2d78dda256efc87242d22baffb7059802b,15,4,2,8,167,Christian Berendt,berendt,"Remove nova-mksproxy image

Signed-off-by: Christian Berendt <berendt@betacloud-solutions.de>
Change-Id: I3d101f171bd1cc6f3c192ddc98cea0d63bccb739
"
openstack%2Fkolla~stable%2Fussuri~I6a06607434b2e30d841d543ea2922f0c13d463f2,openstack/kolla,stable/ussuri,ci-stop-checking-tripleo,I6a06607434b2e30d841d543ea2922f0c13d463f2,[CI] Stop checking TripleO,MERGED,2021-01-24 10:48:33.000000000,2021-01-25 14:48:59.000000000,2021-01-25 14:38:04.000000000,0,8,0,772190,6c2f355adc3355af04b83bdb544b403bbba9ee3e,8,3,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Stop checking TripleO

It has been confirmed [1] that TripleO does not rely on Kolla
since Ussuri.
The job has been long broken and this patch removes it from the
check queue for Kolla Ussuri.

[1] http://eavesdrop.openstack.org/irclogs/%23openstack-kolla/%23openstack-kolla.2021-01-22.log.html#t2021-01-22T16:30:13

Change-Id: I6a06607434b2e30d841d543ea2922f0c13d463f2
"
openstack%2Fkolla-ansible~master~If30b166160136c32dd0b892e4093b1798662e872,openstack/kolla-ansible,master,mariabackup,If30b166160136c32dd0b892e4093b1798662e872,remove the unused variable in mariabackup,MERGED,2021-01-25 06:40:28.000000000,2021-01-25 14:48:38.000000000,2021-01-25 14:37:29.000000000,0,1,0,772249,27f8403ad58f923b7c49d6d5be02d220d22c2f23,10,3,1,1,32245,fudunwei,fudunwei,"remove the unused variable in mariabackup

Remove the unused variable ""mariadb_backup_database_address""

Change-Id: If30b166160136c32dd0b892e4093b1798662e872
"
openstack%2Fkolla~stable%2Fussuri~I7f85f17e7b9a8a6d7bc656abbc39ba3dd2deda3a,openstack/kolla,stable/ussuri,revert-virtualenv-workaround,I7f85f17e7b9a8a6d7bc656abbc39ba3dd2deda3a,Revert virtualenv workaround,MERGED,2021-01-24 16:11:04.000000000,2021-01-25 14:45:39.000000000,2021-01-25 14:36:45.000000000,1,1,0,772206,d555005ba01c08fe85a55ef779f6a1e7832edfa6,9,3,1,1,30491,Radosław Piliszek,yoctozepto,"Revert virtualenv workaround

It should no longer be necessary.

Ussuri only.

Change-Id: I7f85f17e7b9a8a6d7bc656abbc39ba3dd2deda3a
"
openstack%2Fkolla-ansible~master~Id9110a1f536377cea0386dda6814035d73de13b1,openstack/kolla-ansible,master,remove-unicode,Id9110a1f536377cea0386dda6814035d73de13b1,remove unicode from code,MERGED,2021-01-03 05:01:17.000000000,2021-01-25 14:45:25.000000000,2021-01-25 14:37:08.000000000,24,24,0,768952,341a6ed08ef100e2db62d9c0d4db728036ecc1c4,16,5,2,4,32029,likui,likui,"remove unicode from code

Change-Id: Id9110a1f536377cea0386dda6814035d73de13b1
Implements: blueprint remove-unicode
"
openstack%2Fkolla~master~I4371daf7b28c8a057364d17e2e47f6e22665447c,openstack/kolla,master,,I4371daf7b28c8a057364d17e2e47f6e22665447c,base: Debian has QEMU 5.2 now so update pinning,MERGED,2021-01-18 09:53:34.000000000,2021-01-25 14:45:09.000000000,2021-01-25 14:36:38.000000000,2,2,0,771177,94271224234932e5572908afc3d07c4f24784d63,15,3,2,1,24072,Marcin Juszkiewicz,hrw,"base: Debian has QEMU 5.2 now so update pinning

Change-Id: I4371daf7b28c8a057364d17e2e47f6e22665447c
"
openstack%2Fproject-config~master~I486caabe056d077d6b895221c6e6518d4c7023b3,openstack/project-config,master,,I486caabe056d077d6b895221c6e6518d4c7023b3,Add swift-proxy repo in vexxhost tenant,ABANDONED,2021-01-25 12:23:04.000000000,2021-01-25 14:43:20.000000000,,4,0,0,772331,d9a155c98528ce75d2d1b49d77370e6b49685830,4,3,1,2,31746,Oleksandr Kozachenko,okozachenko,"Add swift-proxy repo in vexxhost tenant

related to https://review.opendev.org/c/zuul/zuul/+/708233

Change-Id: I486caabe056d077d6b895221c6e6518d4c7023b3
"
openstack%2Fneutron~master~I0c2062619a72184e6681530de6c074fb3c23635f,openstack/neutron,master,secure-rbac,I0c2062619a72184e6681530de6c074fb3c23635f,Implement secure RBAC for security group API,MERGED,2020-12-03 23:04:21.000000000,2021-01-25 14:14:05.000000000,2021-01-25 14:12:32.000000000,91,41,4,765394,e302cba68a13a3b92180c37ac9331f9855e921f1,25,5,4,1,5046,Lance Bragstad,ldbragst,"Implement secure RBAC for security group API

This commit updates the security group policies to understand scope checking
and account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: I0c2062619a72184e6681530de6c074fb3c23635f
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~Id563806777679998412a53c693b02152df1e800e,openstack/tripleo-heat-templates,stable/rocky,rocky,Id563806777679998412a53c693b02152df1e800e,[Rocky&QueensOnly] Update ovs to 2.11 without network loss,MERGED,2019-11-28 09:29:39.000000000,2021-01-25 14:11:39.000000000,2021-01-25 14:11:39.000000000,84,0,2,696482,483b615bdddc2bdc11babeda67e1261a15edc0f6,44,9,5,1,11166,Lukas Bezdicka,xbezdick,"[Rocky&QueensOnly] Update ovs to 2.11 without network loss

During the minor update from ovs2.9 to ovs2.11,
handled the package name changes to ensure that
ovs is not restarted. This change have been handled
already on the upgrade path (queens -> rocky). Handle
the same in the minor update (update_steps).

This change is not required in master or other stable
versions, because all other versions are already
migrated to ovs2.11 package and the upgrade path
is handled.

Change-Id: Id563806777679998412a53c693b02152df1e800e
(cherry picked from commit bdea2c17f50c2947d9746e55ca6bb91f6659745c)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I0e041c6a95a7f53019967f9263df2326b1408c6f,openstack/tripleo-heat-templates,stable/victoria,pcmk-shutdown-lock-stable/victoria,I0e041c6a95a7f53019967f9263df2326b1408c6f,Serialize shutdown of pacemaker nodes,MERGED,2021-01-21 13:15:12.000000000,2021-01-25 14:11:34.000000000,2021-01-25 14:11:34.000000000,161,2,0,771612,8e9798caf65296e3849afad3a5dbed12f23c735a,11,4,1,4,20778,Damien Ciabrini,dciabrin,"Serialize shutdown of pacemaker nodes

When running minor update in a composable HA, different
roles could run ansible tasks concurrently. However,
there is currently a race when pacemaker nodes are
stopped in parallel [1,2], that could cause nodes to
incorrectly stop themselves once they reconnect to the
cluster.

To prevent concurrent shutdown, use a cluster-wide lock
to signals that one node is about to shutdown, and block
the others until the node disconnects from the cluster.

Tested the minor update in a composable HA environment:
  . when run with ""openstack update run"", every role
    is updated sequentially, and the shutdown lock
    doesn't interfere.
  . when running multiple ansible tasks in parallel
    ""openstack update run --limit role<X>"", pacemaker
    nodes are correctly stopped sequentially thanks
    to the shutdown lock.
  . when updating an existing overcloud, the new
    locking script used in the review is correctly
    injected on the overcloud, thanks to [3].

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404
[3] I2ac6bb98e1d4183327e888240fc8d5a70e0d6fcb

Closes-Bug: #1904193
Change-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f
(cherry picked from commit cb55cc8ce538f3e075754b0328872ec075f4cde9)
"
openstack%2Fcharm-deployment-guide~master~I47cdf53b2e0a965732994225631c9c5624430582,openstack/charm-deployment-guide,master,bug/1902756,I47cdf53b2e0a965732994225631c9c5624430582,Clarify octavia upgrades,MERGED,2021-01-15 02:55:18.000000000,2021-01-25 13:58:54.000000000,2021-01-25 13:57:35.000000000,30,12,2,770879,a9e47eee393c30eba450167850635de9c13fc10a,13,2,3,2,30561,Peter Matulis,pmatulis,"Clarify octavia upgrades

Add Octavia to the payload upgrade order table, with
considerations given to the update of the amphorae.

Driveby changes related to upgrades:

a) terms (Data Plane, Control Plane): to maintain consistency
   with the rest of the guide

b) charm upgrades: be explicit that subordinate charms are
   treated like any other

Closes-Bug: #1902756

Change-Id: I47cdf53b2e0a965732994225631c9c5624430582
"
openstack%2Fcharm-octavia~master~I1c045b5990ceba68c9a560e76a8746659e2f8663,openstack/charm-octavia,master,bug/1912505,I1c045b5990ceba68c9a560e76a8746659e2f8663,Rebuild for haproxy address bug 1912505,ABANDONED,2021-01-25 11:04:20.000000000,2021-01-25 13:51:30.000000000,,1,1,0,772316,d4c49a61193d68145fdb013a1965393b87ddd1b5,3,1,1,1,20870,Alex Kavanagh,ajkavanagh,"Rebuild for haproxy address bug 1912505

Ensures that haproxy.cfg is written with the correct
space address for peer backends.

Related-Bug: #1912505
Change-Id: I1c045b5990ceba68c9a560e76a8746659e2f8663
"
openstack%2Fcharm-barbican~master~I6dfb492b7438bbf8a812f8b580098dddcce06b61,openstack/charm-barbican,master,bug/1912505,I6dfb492b7438bbf8a812f8b580098dddcce06b61,Rebuild for haproxy address bug 1912505,ABANDONED,2021-01-25 11:02:21.000000000,2021-01-25 13:50:15.000000000,,1,1,0,772306,bd808886c1725cc63ef6819af083607e498794ab,4,2,1,1,20870,Alex Kavanagh,ajkavanagh,"Rebuild for haproxy address bug 1912505

Ensures that haproxy.cfg is written with the correct
space address for peer backends.

Related-Bug: #1912505
Change-Id: I6dfb492b7438bbf8a812f8b580098dddcce06b61
"
openstack%2Fcharm-masakari~master~I587d14a334ce017a9d9d81fa4171d0e4b473a5c9,openstack/charm-masakari,master,bug/1912505,I587d14a334ce017a9d9d81fa4171d0e4b473a5c9,Rebuild for haproxy address bug 1912505,ABANDONED,2021-01-25 11:03:49.000000000,2021-01-25 13:48:09.000000000,,1,1,0,772314,f44308be4f48a7b409f272f0b277e55bc87e89d2,4,2,1,1,20870,Alex Kavanagh,ajkavanagh,"Rebuild for haproxy address bug 1912505

Ensures that haproxy.cfg is written with the correct
space address for peer backends.

Related-Bug: #1912505
Change-Id: I587d14a334ce017a9d9d81fa4171d0e4b473a5c9
"
openstack%2Fswift~master~I1b7f367b36c4a7d075bf79e8ac7b8f15c5429e14,openstack/swift,master,p-sharder-audit-unit-test,I1b7f367b36c4a7d075bf79e8ac7b8f15c5429e14,Clarify test for get of overlapping shard ranges,NEW,2020-11-17 14:45:45.000000000,2021-01-25 13:16:52.000000000,,26,10,0,763029,d30035aa4e2e8b19be03748f5090e9e39513c77e,4,1,2,1,7847,Alistair Coles,acoles,"Clarify test for get of overlapping shard ranges

Define overlapping shards and sub-shards separately to add clarity to
the test assertions.

Change-Id: I1b7f367b36c4a7d075bf79e8ac7b8f15c5429e14
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2,openstack/python-tripleoclient,stable/train,workflow-resilience-stable/victoria-stable/ussuri-stable/train,Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2,Make workflow monitoring more resilient,MERGED,2021-01-22 12:59:07.000000000,2021-01-25 12:51:54.000000000,2021-01-25 12:45:59.000000000,8,1,0,771923,7f001ff7b61ab5762679b353e818bd3ca73dbebe,10,3,1,1,20172,Michele Baldessari,michele,"Make workflow monitoring more resilient

Let's make the monitoring of the mistral executions a bit more robust.
If for some reason a tcp reset occurs while monitoring the execution
state of a workflow, tripleoclient completely gives up:

  2020-12-21 17:16:25 | 2020-12-21 17:16:25.015 297753 ERROR tripleoclient.v1.overcloud_upgrade.UpgradeRun [-] Exception occured while running the command:
  keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/dfe7ee67-6cd0-407c-9f61-b355a1cf0b25:
  ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))

This is bad UX because the execution is actually running via mistral
in the background just fine, it's just the monitoring that did not
survive a hiccup.

With this patch we were able to inject artificial problems on mistral
with the reproducer below [1] and the client survived them just fine:

TASK [Gathering Facts] *********************************************************
Tuesday 22 December 2020  13:27:38 +0000 (0:00:03.337)       0:00:03.438 ******
ok: [controller-1]

2020-12-22 13:27:41.242 3728 WARNING tripleoclient.workflows.base [-] Connection failure while fetching execution ID. Retrying: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',)): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',))^[[00m
ok: [controller-0]

PLAY [Load global variables] ***************************************************

The mistral execution continues correctly and tripleoclient deals with the hiccup without erroring out.

[1] A quick reproducer for this issue is to run a longer workflow (minor
update or ffu of a node) and once tripleoclient is just monitoring the
mistral execution just run:
iptables -I INPUT -p tcp --dport 13989 -j REJECT
sleep 13
iptables -D INPUT 1

Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>

Change-Id: Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2
Closes-Bug: #1909019
(cherry picked from commit 01fb0efda0efa1379aa9b053688bb82441ee72cf)
"
openstack%2Fopenstack-ansible-rsyslog_client~stable%2Fvictoria~Iff24f559bae42ec347148933fb603154f6002d6e,openstack/openstack-ansible-rsyslog_client,stable/victoria,openstack/openstack-ansible-tests/sync-tests,Iff24f559bae42ec347148933fb603154f6002d6e,Updated from OpenStack Ansible Tests,MERGED,2020-12-18 16:21:40.000000000,2021-01-25 12:26:07.000000000,2021-01-25 12:24:37.000000000,3,6,0,767914,011f261aabf0de8ab57e2a33525e1334466b67e8,20,3,3,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Iff24f559bae42ec347148933fb603154f6002d6e
"
openstack%2Freleases~master~I12e6a9232b0dc7c7ae325cb7394a8923e4733902,openstack/releases,master,w2-c-w-i,I12e6a9232b0dc7c7ae325cb7394a8923e4733902,Wallaby-2 Release for osc-placement,MERGED,2021-01-15 06:30:01.000000000,2021-01-25 11:58:44.000000000,2021-01-25 11:58:44.000000000,5,0,0,770887,465504eab3ce0dc0e3cedcdf54acb0b256d09118,9,3,2,1,28522,Hervé Beraud,hberaud,"Wallaby-2 Release for osc-placement

This is the Wallaby milestone-2 release for osc-placement.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 21.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I12e6a9232b0dc7c7ae325cb7394a8923e4733902
"
openstack%2Fnova~master~I66cc2c5549833f269872748fb1532438f9ba8489,openstack/nova,master,,I66cc2c5549833f269872748fb1532438f9ba8489,docs: Add reference docs for internal block device structures,MERGED,2021-01-20 19:31:58.000000000,2021-01-25 11:50:06.000000000,2021-01-25 11:44:42.000000000,232,2,40,771711,d5420bbb50ec414d619fa7546d6a05d1b5b1f0bc,24,3,3,3,10135,Lee Yarwood,lyarwood,"docs: Add reference docs for internal block device structures

It's time to shine a light on this area of the codebase ahead of some
much required cleanup. This documentation is based on an email sent
almost 5 years ago but is still accurate today.

Change-Id: I66cc2c5549833f269872748fb1532438f9ba8489
"
openstack%2Fopenstack-ansible~stable%2Ftrain~I6ffa7f10af02901fa3e5b4ef1fd4884178efc95b,openstack/openstack-ansible,stable/train,,I6ffa7f10af02901fa3e5b4ef1fd4884178efc95b,[doc] Cleanup heading page,MERGED,2021-01-21 13:25:20.000000000,2021-01-25 11:48:59.000000000,2021-01-25 11:46:21.000000000,2,90,0,771810,6740214cfd2c787d4537eba8227e70727f1f3b73,9,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[doc] Cleanup heading page

We don't need previous releases documentation when specific
one is explicitly selected. This was the behaviour for previous releases

Change-Id: I6ffa7f10af02901fa3e5b4ef1fd4884178efc95b
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~I3ab5981d2aa7c1c6d45e2f9ea6ffabc5003a17c5,openstack/openstack-ansible,stable/victoria,,I3ab5981d2aa7c1c6d45e2f9ea6ffabc5003a17c5,[doc] Release Victoria,MERGED,2021-01-21 13:18:39.000000000,2021-01-25 11:48:07.000000000,2021-01-25 11:45:13.000000000,1,117,0,771809,a9cdaab9682a9bd15acb1bdd05e61e6bb4cdacfd,9,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[doc] Release Victoria

Change-Id: I3ab5981d2aa7c1c6d45e2f9ea6ffabc5003a17c5
"
openstack%2Fopenstack-ansible~stable%2Fussuri~I5473c153c006aac7471d2d6cc40d46eb0b5fc8bb,openstack/openstack-ansible,stable/ussuri,,I5473c153c006aac7471d2d6cc40d46eb0b5fc8bb,[doc] Cleanup heading page,MERGED,2021-01-21 13:28:47.000000000,2021-01-25 11:48:05.000000000,2021-01-25 11:45:22.000000000,0,101,0,771811,8385b26f519f2b430932ab143f7ef25b3bf6b884,9,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[doc] Cleanup heading page

We don't need previous releases documentation when specific
one is explicitly selected. This was the behaviour for previous releases

Change-Id: I5473c153c006aac7471d2d6cc40d46eb0b5fc8bb
"
openstack%2Fnova~master~Ifd9657f3357bc39cb904caa65168d38def8c9184,openstack/nova,master,change-770926-3,Ifd9657f3357bc39cb904caa65168d38def8c9184,api: Log os-resetState as an instance action,MERGED,2021-01-15 11:29:44.000000000,2021-01-25 11:47:26.000000000,2021-01-25 11:44:15.000000000,44,2,0,770926,534b4f38958af2fbf4392e445ddb1b2bad4179ed,28,4,4,4,10135,Lee Yarwood,lyarwood,"api: Log os-resetState as an instance action

It appears this was missed as this action never hits the compute API and
is fully handled within the API itself. This change simply records an
instance action directly in the API for this admin action providing a
breadcrumb to operators and users.

Closes-Bug: #1911924
Change-Id: Ifd9657f3357bc39cb904caa65168d38def8c9184
"
openstack%2Foslo.metrics~master~I3a5b1a5ebcadfd0c64fcbea0216503dd7f984411,openstack/oslo.metrics,master,handle_sigterm,I3a5b1a5ebcadfd0c64fcbea0216503dd7f984411,Handle Sigterm Properly,MERGED,2020-11-30 06:48:07.000000000,2021-01-25 11:34:08.000000000,2021-01-25 11:32:45.000000000,12,0,4,764604,4fcf2c16b21f9514589b0159df1fafb962608532,10,2,2,1,32523,Ching Kuo,genekuo,"Handle Sigterm Properly

Currently oslo.metrics http server doesn't handle sigterm signal. This
commit added support to handle sigterm and shutdown gracefully.

Change-Id: I3a5b1a5ebcadfd0c64fcbea0216503dd7f984411
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2,openstack/python-tripleoclient,stable/ussuri,workflow-resilience-stable/victoria-stable/ussuri,Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2,Make workflow monitoring more resilient,MERGED,2021-01-22 12:58:21.000000000,2021-01-25 11:15:16.000000000,2021-01-25 11:13:15.000000000,8,1,0,771922,44571fb5b8849a4fd14d65edf1347a58865be0f2,8,3,1,1,20172,Michele Baldessari,michele,"Make workflow monitoring more resilient

Let's make the monitoring of the mistral executions a bit more robust.
If for some reason a tcp reset occurs while monitoring the execution
state of a workflow, tripleoclient completely gives up:

  2020-12-21 17:16:25 | 2020-12-21 17:16:25.015 297753 ERROR tripleoclient.v1.overcloud_upgrade.UpgradeRun [-] Exception occured while running the command:
  keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/dfe7ee67-6cd0-407c-9f61-b355a1cf0b25:
  ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))

This is bad UX because the execution is actually running via mistral
in the background just fine, it's just the monitoring that did not
survive a hiccup.

With this patch we were able to inject artificial problems on mistral
with the reproducer below [1] and the client survived them just fine:

TASK [Gathering Facts] *********************************************************
Tuesday 22 December 2020  13:27:38 +0000 (0:00:03.337)       0:00:03.438 ******
ok: [controller-1]

2020-12-22 13:27:41.242 3728 WARNING tripleoclient.workflows.base [-] Connection failure while fetching execution ID. Retrying: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',)): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',))^[[00m
ok: [controller-0]

PLAY [Load global variables] ***************************************************

The mistral execution continues correctly and tripleoclient deals with the hiccup without erroring out.

[1] A quick reproducer for this issue is to run a longer workflow (minor
update or ffu of a node) and once tripleoclient is just monitoring the
mistral execution just run:
iptables -I INPUT -p tcp --dport 13989 -j REJECT
sleep 13
iptables -D INPUT 1

Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>

Change-Id: Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2
Closes-Bug: #1909019
(cherry picked from commit 01fb0efda0efa1379aa9b053688bb82441ee72cf)
"
openstack%2Ftripleo-common~stable%2Ftrain~If79f7051fec4b4f648c4acf9d62474028e0831bd,openstack/tripleo-common,stable/train,,If79f7051fec4b4f648c4acf9d62474028e0831bd,[stable] Raise proper error for None network config,MERGED,2020-12-22 05:08:22.000000000,2021-01-25 11:14:48.000000000,2021-01-25 11:13:11.000000000,12,3,0,768140,d6b98f25103c68efc4a59643d8b2e5e6bc44f453,23,3,1,2,8833,Rabi Mishra,rabi,"[stable] Raise proper error for None network config

When using custom network configs, if the 'outputs' section is
not correct in the template, there won't be any error in stack
create/update. HostnameNetworkConfigMap would have configs as
null i.e {HOSTNAME: null,} and we'll look for None software
configs using heat api resulting in a traceback not easy to
understand. Let's add a check to notify the user with a proper
error.

This is not required in master and victoria branches, as we've
moved away from using heat software configs for network config.

Closes-Bug: #1907746
Change-Id: If79f7051fec4b4f648c4acf9d62474028e0831bd
(cherry picked from commit 0dc90c97d2d7959e59184be501c739694412a55b)
"
openstack%2Fmanila-tempest-plugin~master~I142038f39c611df70aacc387a6225f28040c42c0,openstack/manila-tempest-plugin,master,fix-ipv6-cephfsnfs,I142038f39c611df70aacc387a6225f28040c42c0,Enable IPV6 in the CephFS NFS job,ABANDONED,2020-10-28 21:20:22.000000000,2021-01-25 10:55:19.000000000,,1,1,0,760245,69b533bb2d37dd782843ccdcfd96bec6c08805fa,19,5,6,1,6413,Victoria Martinez de la Cruz,vkmc,"Enable IPV6 in the CephFS NFS job

The CephFS NFS job was running ipv6 tests but we were not
setting Devstack properly. Precisely, we were missing the
SERVICE_IP_VERSION=""6"" flag in the local.conf file.

In this patch set we fix this by inheriting from
the manila-tempest-plugin-ipv6-base job.

Depends-On: https://review.opendev.org/#/c/760397/

Change-Id: I142038f39c611df70aacc387a6225f28040c42c0
"
openstack%2Frequirements~master~I37489632fb937a3ede8ffcff40a4996e716f6a31,openstack/requirements,master,openstack/requirements/constraints/noclob,I37489632fb937a3ede8ffcff40a4996e716f6a31,Updated from generate-constraints,MERGED,2021-01-25 06:21:26.000000000,2021-01-25 10:48:20.000000000,2021-01-25 10:46:12.000000000,7,7,0,772248,1be19b0999c56b9c721104241c791c4054d2facf,10,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I37489632fb937a3ede8ffcff40a4996e716f6a31
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fcharms.openstack~master~Id7f1d457911374620e9a7ee3069376a1752160f5,openstack/charms.openstack,master,bug/1912505,Id7f1d457911374620e9a7ee3069376a1752160f5,Ensure PeerHARelationAdapter has correct backend IP addresses,MERGED,2021-01-24 16:21:42.000000000,2021-01-25 10:34:22.000000000,2021-01-25 10:34:22.000000000,9,4,0,772208,946ee47cf0f17ab90562e7ae7ea8502a39bdc898,6,2,1,1,20870,Alex Kavanagh,ajkavanagh,"Ensure PeerHARelationAdapter has correct backend IP addresses

In the linked bug, the designate charm ended up with the wrong IP
addresses in the haproxy.cfg due to the method add_default_addresses()
overwriting the correctly determined addresses obtained by the method
add_network_split_addresses().

It's not clear whether this has always been broken, and recent tests
have exposed it, or whether changes in charms.reactive have resulted in
add_default_addresses() adding more addresses than it used to.

However, it seems correct that the default addresses are added first and
then the ones from the relations/spaces add/overwrite the default ones
to provide the correct set.

Change-Id: Id7f1d457911374620e9a7ee3069376a1752160f5
Closes-Bug: #1912505
"
openstack%2Fkolla-ansible~master~I3ceb6960c3b38f371d0d4163ee37d4b34e61f401,openstack/kolla-ansible,master,,I3ceb6960c3b38f371d0d4163ee37d4b34e61f401,Correct spell error,MERGED,2021-01-25 02:03:30.000000000,2021-01-25 10:22:31.000000000,2021-01-25 10:19:43.000000000,1,1,0,772242,aec42f0f5f2809444a9ec4ab639f3af205f91605,10,15,1,1,32245,fudunwei,fudunwei,"Correct spell error

correct spell 'Cheching' to 'Checking'

Change-Id: I3ceb6960c3b38f371d0d4163ee37d4b34e61f401
"
openstack%2Fkolla-ansible~stable%2Ftrain~I15acbdf7d47b8b1e07eb9587462d8a3a0d7c40ef,openstack/kolla-ansible,stable/train,,I15acbdf7d47b8b1e07eb9587462d8a3a0d7c40ef,CI: Use Python2 compatible pip,MERGED,2021-01-24 12:21:39.000000000,2021-01-25 10:22:18.000000000,2021-01-25 10:19:55.000000000,1,1,3,772198,3be1493ce818e03c93df3087d1b5cea5c07e07a5,16,5,1,1,24072,Marcin Juszkiewicz,hrw,"CI: Use Python2 compatible pip

pip 21 requires Python 3.6+

Change-Id: I15acbdf7d47b8b1e07eb9587462d8a3a0d7c40ef
"
openstack%2Freleases~master~I567f28a0eff6c6573c01142ae8401ac2594f7150,openstack/releases,master,release_osa,I567f28a0eff6c6573c01142ae8401ac2594f7150,Release OpenStack-Ansible Ussuri,MERGED,2021-01-19 13:43:21.000000000,2021-01-25 10:20:58.000000000,2021-01-25 10:20:58.000000000,4,0,0,771447,fb9622acf66c67ca79b1d1f2fa455beca9d125bf,14,4,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Release OpenStack-Ansible Ussuri

Change-Id: I567f28a0eff6c6573c01142ae8401ac2594f7150
"
openstack%2Freleases~master~Ifaba5f4e460c2a8ee8d00d430678f82dbfb6b321,openstack/releases,master,tempest-plugin-stein-last,Ifaba5f4e460c2a8ee8d00d430678f82dbfb6b321,[Tempest Plugins] Tag stein-last,MERGED,2020-12-26 18:47:49.000000000,2021-01-25 10:15:49.000000000,2021-01-25 10:15:49.000000000,9,0,0,768543,629acf42d0339af3bf04c71819f9a434ec4713e4,21,5,5,2,8556,Ghanshyam,ghanshyam,"[Tempest Plugins] Tag stein-last

Stein branch is in Extended Maintenance now[1]. All Tempest
plugins are branchless which means master version of Tempest
and its plugins is used to test the supported stable branches.

Once stable branch is moved to EM state then, Tempest and its
plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with this tag once master
Tempest and its plugins are not compatible[2].

This tag will help for testing the stable/stein with single
compatible tag of Tempest and its plugins.

Tagging 'stein-last' as well as a new version also with same hash.
Documenting this new tag name here
- https://review.opendev.org/c/openstack/project-team-guide/+/769821

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/stein/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: Ifaba5f4e460c2a8ee8d00d430678f82dbfb6b321
"
openstack%2Fkuryr-tempest-plugin~master~I4b6d3a0e8bff7fdeb23ec8de046ea71dbf690069,openstack/kuryr-tempest-plugin,master,bp/sctp-support,I4b6d3a0e8bff7fdeb23ec8de046ea71dbf690069,Adds Kuryr-sctp-demo application,MERGED,2021-01-11 16:08:37.000000000,2021-01-25 10:15:18.000000000,2021-01-25 10:12:47.000000000,106,0,19,770143,60f778805d6ef28703767d98269c54a94e42efdd,42,5,8,4,32533,Tabitha Fasoyin,tabbie-fash,"Adds Kuryr-sctp-demo application

Adds the sctp-demo server and client application to test_container.

Partially-Implements: blueprint sctp-support
Change-Id: I4b6d3a0e8bff7fdeb23ec8de046ea71dbf690069
"
openstack%2Fos-brick~master~I247d42305005c86b1f0eb9e9b74c4aea5c7107bc,openstack/os-brick,master,bug/1884707,I247d42305005c86b1f0eb9e9b74c4aea5c7107bc,Failed to discover the volumes on ppc64le,NEW,2020-06-23 07:20:38.000000000,2021-01-25 10:08:58.000000000,,26,15,28,737446,fcd259dc819a71a42dcc0dd3b6ef2c0c2c7f81c0,103,10,21,3,32132,Suman Shaw,sumashaw,"Failed to discover the volumes on ppc64le

On ppc64le volumes are not discovered on
running cinder backup commands.

In the backup logs the following error was seen:
    _get_host_devices() missing 1 required
    positional argument:'lun'

Modified the _get_host_devices() method to
add the lun argument.

Tested cinder backup-create.

Change-Id: I247d42305005c86b1f0eb9e9b74c4aea5c7107bc
Closes-Bug: #1884707
"
openstack%2Fblazar~master~Ib49d7820b2ce4bc6cc9bbbd91c075631b7fb56bb,openstack/blazar,master,reuse,Ib49d7820b2ce4bc6cc9bbbd91c075631b7fb56bb,Re-use rpc transport,MERGED,2021-01-16 21:14:04.000000000,2021-01-25 10:00:16.000000000,2021-01-25 09:58:42.000000000,58,10,0,771110,7d131c96d11799a463e8e8e0d15251175fb48ea1,12,2,2,2,22623,Erik Olof Gunnar Andersson,eoandersson,"Re-use rpc transport

Blazar is currently not re-using the rpc transport, this
will cause connections to leak. This patch introduces
a commonly shared rpc pattern for openstack services
that ensures that the transport is always re-used.

Change-Id: Ib49d7820b2ce4bc6cc9bbbd91c075631b7fb56bb
"
openstack%2Ftacker~stable%2Fvictoria~Ib4f9e19450a093c5ed9bd9c68ea7980f98980682,openstack/tacker,stable/victoria,fix-lc,Ib4f9e19450a093c5ed9bd9c68ea7980f98980682,Fix a failure in tox lower-constraints,MERGED,2021-01-04 07:53:57.000000000,2021-01-25 09:48:28.000000000,2021-01-25 09:43:12.000000000,20,20,0,769099,91cc4c2d2c96e880fab28580cb6792690ef2e4d4,20,4,5,4,17255,Toshiaki Takahashi,takahashi_ts,"Fix a failure in tox lower-constraints

To resolve a failure in checking lower-constraints on zuul [1], update
depending packages as below. This update is a cherry-pick from
master(wallaby) and modified for victoria. It's also including a
change for reverting [2].

* glance-store 0.26.1 is not compatible with jsonschema 3.2.0.
  It was updated in [3] becuase jsonschema<3.2.0 doesn't support
  python3.8, so update to introduce glance-store>=2.3.0 for considering
  running in victoria [4].

* requests 2.14.2 is not compatible with heat-translator 2.0.0.
  Although requests>=2.18.0 is required from heat-translator, use 2.20.0
  for avoiding another dependency between kubernetes 11.0.0 which
  requires urllib3>=1.24.2. It's because requests 2.18.0 has dependency
  'urllib3<1.22'.

* tosca-parser 1.6.0 is not compatible with heat-translator 2.0.0.
  It is updated to 1.6.1 as required as tosca-parser>=1.6.1.

* amqp>=2.4.0,<3.0 should be installed. Add it in `requirements.txt`
  and amqp==2.4.0 in `lower-constraints.txt`.

* keystoneauth1>=3.18.0 and futurist>=2.1.0 are required for
  openstacksdk 0.44.0.

* alembic>=0.9.6 is required for oslo-db 5.0.0.

* eventlet!=0.18.3,!=0.20.1,>=0.18.2 is required for glance-store 2.3.0
  and oslo-service 1.24.0.

* Update tempest 17.1.0 requires jsonschema<3.0.0 to tempest 22.0.0
  requires jsonschema>=3.2.0.

* Update warlock from 1.3.0 to 1.3.3 for avoiding to download several
  versions of depending packages might be happend for a recent pip's
  update [5].

* jsonschema 3.2.0 depends on six>=1.11.0.

[1] https://zuul.opendev.org/t/openstack/build/fa38f87776d942248fb32ef7c8afe3e2
[2] https://review.opendev.org/c/openstack/tacker/+/771580
[3] commit 38a171cc ""Cap jsonschema 3.2.0 as the minimal version""
[4] https://releases.openstack.org/victoria/index.html
[5] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html

Change-Id: Ib4f9e19450a093c5ed9bd9c68ea7980f98980682
Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
"
openstack%2Fkolla-ansible~master~Ie44d5dd57e1567428002b58daf9f763a38b97d19,openstack/kolla-ansible,master,,Ie44d5dd57e1567428002b58daf9f763a38b97d19,Replace db-sock with db-sb-sock in template ovn-sb-db,ABANDONED,2021-01-20 11:52:28.000000000,2021-01-25 09:47:08.000000000,,1,1,0,771617,cb763342ec98315e16060359375ed2992984d610,5,2,1,1,30380,ZhouHeng,zhouhenglc,"Replace db-sock with db-sb-sock in template ovn-sb-db

--db-sock JSON-RPC socket name
--db-sb-sock OVN_Southbound db socket [1]
so should use --db-sb-sock

[1] https://github.com/ovn-org/ovn/blob/master/utilities/ovn-ctl

Change-Id: Ie44d5dd57e1567428002b58daf9f763a38b97d19
"
openstack%2Fcharm-openstack-dashboard~master~Iba6539941996aabb00b1bc8815e25af7e9a999c4,openstack/charm-openstack-dashboard,master,groovy-charm-gate,Iba6539941996aabb00b1bc8815e25af7e9a999c4,Add Groovy to the test gate,MERGED,2020-11-05 11:53:01.000000000,2021-01-25 09:37:38.000000000,2021-01-25 09:37:38.000000000,0,1,0,761582,9c1d038211a6d0e1f0246b681ef740d8fba7ca20,40,4,5,1,31289,Aurelien Lourot,lourot,"Add Groovy to the test gate

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/485
Change-Id: Iba6539941996aabb00b1bc8815e25af7e9a999c4
"
openstack%2Fopenstack-ansible-rsyslog_client~stable%2Fvictoria~I769febbf95e1a1d714e37215f43ff387a745d3ea,openstack/openstack-ansible-rsyslog_client,stable/victoria,create-victoria,I769febbf95e1a1d714e37215f43ff387a745d3ea,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2020-12-18 15:55:12.000000000,2021-01-25 09:29:06.000000000,2021-01-25 09:27:30.000000000,1,1,0,767902,def71c03c2bca788a73aecad01e2c3efca8353d1,20,3,2,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I769febbf95e1a1d714e37215f43ff387a745d3ea
"
openstack%2Fcharm-neutron-api-plugin-arista~master~I26db827a423c5061be3bbdc0fcc9c9c0a0e230f9,openstack/charm-neutron-api-plugin-arista,master,groovy-charm-gate,I26db827a423c5061be3bbdc0fcc9c9c0a0e230f9,Add Groovy support,MERGED,2020-11-05 11:13:52.000000000,2021-01-25 09:28:52.000000000,2021-01-25 09:28:52.000000000,5,4,1,761538,d3b623ab4026aee861ad56823eeaf2934e0a79bd,62,3,6,4,31289,Aurelien Lourot,lourot,"Add Groovy support

Change-Id: I26db827a423c5061be3bbdc0fcc9c9c0a0e230f9
"
openstack%2Fblazar-nova~master~I53ee9b459c595d80768650ba20665bc633e90b71,openstack/blazar-nova,master,,I53ee9b459c595d80768650ba20665bc633e90b71,remove py37,ABANDONED,2021-01-03 07:21:21.000000000,2021-01-25 09:13:52.000000000,,0,1,0,768975,ff07a94a2425b411d49d70a7052f94a37b77dc7e,10,3,2,1,31828,yang yawei,yangyawei,"remove py37

Remove python3.7 from setup.cfg, since Wallaby's python
supported runtimes are python 3.6 and python 3.8[1]:

[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html

Change-Id: I53ee9b459c595d80768650ba20665bc633e90b71
"
openstack%2Ftacker~stable%2Fvictoria~I027efb616df574f225ba763b94d8b10f0feaeb45,openstack/tacker,stable/victoria,revert-lc,I027efb616df574f225ba763b94d8b10f0feaeb45,Revert lower-constraints check,ABANDONED,2021-01-25 03:17:03.000000000,2021-01-25 09:01:46.000000000,,1,2,1,772243,c66bbf392345385450a731eaa17239003583f268,9,5,2,1,25701,Yasufumi Ogawa,yasufum,"Revert lower-constraints check

As [1] was merged for introducing functional test on stable/victoria
branch, revert `openstack-lower-constraints-jobs` was interrupting [1].

[1] https://review.opendev.org/c/openstack/tacker/+/770536

Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: I027efb616df574f225ba763b94d8b10f0feaeb45
"
openstack%2Fopenstack-ansible-rsyslog_client~stable%2Fvictoria~I39d3b5b6d938cb863c60ae2baf79ad402d8a48c0,openstack/openstack-ansible-rsyslog_client,stable/victoria,create-victoria,I39d3b5b6d938cb863c60ae2baf79ad402d8a48c0,Update .gitreview for stable/victoria,MERGED,2020-12-18 15:54:43.000000000,2021-01-25 08:36:09.000000000,2020-12-18 20:39:01.000000000,1,0,0,767901,586f0e9f9e6dd0f0466a2fa686c5c865f69106ac,8,2,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/victoria

Change-Id: I39d3b5b6d938cb863c60ae2baf79ad402d8a48c0
"
openstack%2Fpanko~master~Ia301d56d675557e81b873ddd68f1faeb051dfe93,openstack/panko,master,six-remove,Ia301d56d675557e81b873ddd68f1faeb051dfe93,Remove six,MERGED,2020-12-01 08:22:28.000000000,2021-01-25 08:35:06.000000000,2021-01-25 08:33:20.000000000,45,76,0,764906,f95cff99e24dddefc817f2db55f0debf99f17cb0,35,2,5,21,32238,wdd,wangzihao,"Remove six

Remove six Replace the following items with Python 3 style code.

- six.text_type
- six.PY3
- six.moves.urllib
- six.string_types
- six.iteritems
- six.integer_types
- six.binary_type
- six.add_metaclass
- six.moves.reprlib

Depends-on: https://review.opendev.org/c/openstack/telemetry-tempest-plugin/+/770955
Change-Id: Ia301d56d675557e81b873ddd68f1faeb051dfe93
"
openstack%2Fec2-api~master~I280d3c009893c67d215b0c7106eec7fe2435c335,openstack/ec2-api,master,bug/1908993,I280d3c009893c67d215b0c7106eec7fe2435c335,Use volume v3 API by default,MERGED,2020-12-22 09:28:36.000000000,2021-01-25 08:17:51.000000000,2021-01-25 08:15:17.000000000,9,3,2,768182,eb3b4851a95a4d6a7d14dd55940a54864431f89e,22,2,3,4,9816,Takashi Kajinami,kajinamit,"Use volume v3 API by default

Currently ec2api uses the volume v2 API by default, but v2 API was
deprecated a while ago and will be removed fron cinder shortly.
This patch ensures that ec2api uses the volume v3 API instead by
default.

Closes-Bug: #1908993
Change-Id: I280d3c009893c67d215b0c7106eec7fe2435c335
"
openstack%2Fec2-api~master~I757ef4591d4ae386cfe71f268008efe251f05e86,openstack/ec2-api,master,lc-const,I757ef4591d4ae386cfe71f268008efe251f05e86,Bump mccabe in lower-constraints.txt,MERGED,2021-01-23 14:52:06.000000000,2021-01-25 08:16:35.000000000,2021-01-25 08:15:13.000000000,1,1,0,772155,87bf8222831625ffb3aff7a36240338ea6afe84b,15,2,2,1,9816,Takashi Kajinami,kajinamit,"Bump mccabe in lower-constraints.txt

... to solve the following conflict detected in lower-constraints job.

ERROR: Cannot install hacking because these package versions have conflicting dependencies.

The conflict is caused by: 
    flake8 3.7.9 depends on mccabe<0.7.0 and >=0.6.0
    flake8 3.7.8 depends on mccabe<0.7.0 and >=0.6.0
    flake8 3.7.7 depends on mccabe<0.7.0 and >=0.6.0
    flake8 3.7.6 depends on mccabe<0.7.0 and >=0.6.0
    flake8 3.7.5 depends on mccabe<0.7.0 and >=0.6.0
    flake8 3.7.4 depends on mccabe<0.7.0 and >=0.6.0
    flake8 3.7.3 depends on mccabe<0.7.0 and >=0.6.0
    flake8 3.7.2 depends on mccabe<0.7.0 and >=0.6.0
    flake8 3.7.1 depends on mccabe<0.7.0 and >=0.6.0
    flake8 3.7.0 depends on mccabe<0.7.0 and >=0.6.0
    flake8 3.6.0 depends on mccabe<0.7.0 and >=0.6.0

Change-Id: I757ef4591d4ae386cfe71f268008efe251f05e86
"
openstack%2Fec2-api~master~I250ae7a2a3bc9363bb573d979c05ec302e3347b9,openstack/ec2-api,master,,I250ae7a2a3bc9363bb573d979c05ec302e3347b9,test commit,ABANDONED,2021-01-25 05:47:23.000000000,2021-01-25 06:52:27.000000000,,1,1,0,772247,3df03cc8d553b90544825fecd3f51b8c9e27a49e,3,1,1,1,10234,Andrey Pavlov,andrey-mp,"test commit

Change-Id: I250ae7a2a3bc9363bb573d979c05ec302e3347b9
"
openstack%2Fpuppet-nova~master~I94d110f0dfe89afb6bbd066d9abc3b72ebc10e52,openstack/puppet-nova,master,rbd-download,I94d110f0dfe89afb6bbd066d9abc3b72ebc10e52,Separate a class for Glance configurations,MERGED,2021-01-14 00:45:03.000000000,2021-01-25 06:46:00.000000000,2021-01-25 06:43:23.000000000,112,30,0,770684,6b99fa975e5be025ee5813544a19dcfda950ccf6,26,4,5,5,9816,Takashi Kajinami,kajinamit,"Separate a class for Glance configurations

This change introduces a new nova::glance class, so that we can easily
maintain parameters for Glance service.
Some new parameters will be added in subsequent commits.

Change-Id: I94d110f0dfe89afb6bbd066d9abc3b72ebc10e52
"
openstack%2Fwatcher~master~I8654f0c197bfe88796b56e9d85f563cdded6e8a8,openstack/watcher,master,,I8654f0c197bfe88796b56e9d85f563cdded6e8a8,remove bandit B322 check,MERGED,2020-12-24 07:46:26.000000000,2021-01-25 06:43:08.000000000,2021-01-25 06:40:08.000000000,1,1,0,768445,262edc8cc96e6bb1d1328e19c279cdf9eedb9cc5,21,10,2,1,24501,sue,suzhengwei,"remove bandit B322 check

The check for this call to input() has been removed.
The input method in Python 2 will read from standard input, evaluate and
run the resulting string as python source code. This is similar, though
in many ways worse, than using eval. On Python 2, use raw_input instead,
input is safe in Python 3.

Change-Id: I8654f0c197bfe88796b56e9d85f563cdded6e8a8
"
openstack%2Ftacker~stable%2Fvictoria~I0ee9d7e1e0c4ea26dd5894ad4fca302fe9bfd4d1,openstack/tacker,stable/victoria,bug/1902194,I0ee9d7e1e0c4ea26dd5894ad4fca302fe9bfd4d1,Fix for package error during vnflcm creation,ABANDONED,2020-10-09 04:11:50.000000000,2021-01-25 06:34:40.000000000,,0,0,1,756994,7136098447198185546ed4d79efd36bc684675ab,20,5,6,0,17255,Toshiaki Takahashi,takahashi_ts,"Fix for package error during vnflcm creation

Execution ""openstack vnflcm create"" raises some package errors.
In order to avoid them, the exception process in vnflcm creation
is fixed.

Closes-bug: #1898963
Closes-bug: #1899112
Closes-bug: #1899134

Additional Information:
---------------------------------------
- vnf_lcm_subscription.id was decoded. The code we developed in
advance was created on the premise of varbinary and there was an
unmatch, therefore, at first, the DB type was matched. To modify
the code correctly, id decode was removed.
- Spec (Support LCM notifications for VNF based on ETSI NFV-SOL
specification)
There was a discrepancy with the content and I fixed the registered
migration, but the procedure was incorrect, so it was restored.
- Spec (Support LCM notifications for VNF based on ETSI NFV-SOL
specification)
I found that some columns were not added to the DB due to a mismatch
with the contents, so I am adding a new migration file. Also, since
the type definition was different for the already registered columns,
it was also corrected.

Change-Id: I0ee9d7e1e0c4ea26dd5894ad4fca302fe9bfd4d1
"
openstack%2Fmanila-tempest-plugin~master~Ibdeb62ddd3d1ae813b90989ae27497874ee0dbe9,openstack/manila-tempest-plugin,master,DNM,Ibdeb62ddd3d1ae813b90989ae27497874ee0dbe9,DNM,ABANDONED,2021-01-22 08:07:12.000000000,2021-01-25 05:45:14.000000000,,2,1,0,771941,fcd8d207f37bc42c7cecd0272cb7218735af9f64,4,1,1,1,19262,Liron Kuchlani,lkuchlan,"DNM

Change-Id: Ibdeb62ddd3d1ae813b90989ae27497874ee0dbe9
"
openstack%2Ffreezer-dr~master~Ibe6b223cd17603977981a044eece3981fcbbbcdf,openstack/freezer-dr,master,,Ibe6b223cd17603977981a044eece3981fcbbbcdf,update py37 to py38,MERGED,2020-12-22 06:09:12.000000000,2021-01-25 05:24:02.000000000,2021-01-25 05:22:40.000000000,3,3,0,768146,fa5c86624504d5a96fadeb0881926f435680dfa2,9,2,2,1,21069,Carl caihui,caihui,"update py37 to py38

Change-Id: Ibe6b223cd17603977981a044eece3981fcbbbcdf
"
openstack%2Ftacker~stable%2Fvictoria~Iba573634a2a4fca60d6fb403ce8bdb2dfe8aaf55,openstack/tacker,stable/victoria,turn-on-ft-voting-for-stable-victoria,Iba573634a2a4fca60d6fb403ce8bdb2dfe8aaf55,Turn on FT voting for stable/victoria,MERGED,2021-01-13 06:42:58.000000000,2021-01-25 03:02:56.000000000,2021-01-25 02:59:58.000000000,231,77,2,770536,e685613b3d11c40d4edbe9f4c07f22dad286a5cb,23,5,5,22,32395,Koichiro Den,kden,"Turn on FT voting for stable/victoria

Cherry-picked the following commits from the master branch.
No functional changes are included.

* b1a02ec Turn on FT voting
* d886ac7 Fix missing vnfc resource updating on vnf respawn via SOL003-style Heal API call
* 7e3f2d7 Fix test_vnf_alarm_scale_with_instance_reservation
* 0e11720 Add a dedicated compute node, disburden the controller node
* 594e214 Allow wait_until_vnf_* to withstand temporary backend failures
* 8ed9f5f Skip test_vnf_alarm_(respawn|scale) until ceilometer is restored
* 32b51d7 Always hold VnfDf InstantiationLevels type in JSON even if it's empty
* 0291c31 Fix for invalid LOG method syntax
* 0b4b671 Fix for package error during vnflcm creation
* 3798c9f Fix and avoid an erroneous heat API call
* efbafb9 Introduce FT keystone client initialization retry
* 180ff8a Minor fixes and clean-ups
* d6cd251 Workaround for unsuccessfully parsed duplicate key error
* b4d4996 Fix functional test of RemoteCommandExecutor

Change-Id: Iba573634a2a4fca60d6fb403ce8bdb2dfe8aaf55
"
openstack%2Fwatcher~master~I588fa809839cf3112dae24e356547100f7e89bc5,openstack/watcher,master,,I588fa809839cf3112dae24e356547100f7e89bc5,Drop lower-constraints,MERGED,2021-01-08 09:14:55.000000000,2021-01-25 02:08:45.000000000,2021-01-25 02:05:44.000000000,1,157,0,769890,63b6997c83f44e97ada94a4b9d83363443ac87dc,14,4,3,3,24501,sue,suzhengwei,"Drop lower-constraints

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: I588fa809839cf3112dae24e356547100f7e89bc5
"
openstack%2Fwatcher~master~Iba560701d3f8c993333cbe5ec8d3bf8b4230ac80,openstack/watcher,master,,Iba560701d3f8c993333cbe5ec8d3bf8b4230ac80,fix watcher-tempest-strategies job,ABANDONED,2021-01-08 08:57:24.000000000,2021-01-25 01:21:31.000000000,,1,1,0,769886,564bf85591eb058f27c402e9dfaf24b8723c6c1e,3,1,1,1,24501,sue,suzhengwei,"fix watcher-tempest-strategies job

In the job, it failed building wheel for some Python packages,
due to invaild command 'bdist_wheel'.

Change-Id: Iba560701d3f8c993333cbe5ec8d3bf8b4230ac80
"
openstack%2Fpuppet-openstack-integration~master~I015770275192d9834e38593e249b472f56d7ccd4,openstack/puppet-openstack-integration,master,bug/1912871,I015770275192d9834e38593e249b472f56d7ccd4,CentOS: Install new gpg key for puppet packages,MERGED,2021-01-23 06:15:10.000000000,2021-01-25 00:54:27.000000000,2021-01-25 00:54:27.000000000,54,0,1,772147,3f3da39c6804ef5c9bcb3cbee311fbc2b50e0c75,21,6,10,2,9816,Takashi Kajinami,kajinamit,"CentOS: Install new gpg key for puppet packages

This change ensures that the new gpg key for puppet packages[1] are
install before installing puppet-agent, so that we can install any
package signed with the new gpg key.

[1] https://puppet.com/blog/updated-puppet-gpg-signing-key-2020-edition/

Closes-Bug: #1912871
Change-Id: I015770275192d9834e38593e249b472f56d7ccd4
"
openstack%2Fmanila-ui~master~Ib665c7a9b02be902c89422221f640364390d7eba,openstack/manila-ui,master,689681,Ib665c7a9b02be902c89422221f640364390d7eba,"API v2.41, create share type with description",MERGED,2019-10-21 07:38:50.000000000,2021-01-25 00:22:36.000000000,2021-01-25 00:21:02.000000000,34,15,10,689681,15d2e64d63ac35ebb4ab7b1e1f61e832fcf4d144,45,10,13,7,30407,haixin,haixin,"API v2.41, create share type with description

Added possibility to create share type with description.

Partial-Bug: #1823078

Change-Id: Ib665c7a9b02be902c89422221f640364390d7eba
"
openstack%2Fpython-manilaclient~master~Ie65fdd644e7161d94947614a87933f36c1826bed,openstack/python-manilaclient,master,openstack-client-support,Ie65fdd644e7161d94947614a87933f36c1826bed,[OSC] Implement Share Export Location Commands,MERGED,2020-11-05 20:06:07.000000000,2021-01-25 00:22:25.000000000,2021-01-25 00:20:57.000000000,162,2,3,761661,3c65e6f9bfb20267e6603a870871c45d64d8fb38,30,4,9,5,31213,Maari Tamm,maaritamm,"[OSC] Implement Share Export Location Commands

This commit implements the following openstack share commands:

openstack share export location show <share> <export_location>
openstack share export location list <share>

Partially-implements bp openstack-client-support

Change-Id: Ie65fdd644e7161d94947614a87933f36c1826bed
"
openstack%2Fmonasca-tempest-plugin~master~Ifa77c4685e8f056b3a26531ad0c27830034cd8cb,openstack/monasca-tempest-plugin,master,770485,Ifa77c4685e8f056b3a26531ad0c27830034cd8cb,[WIP] Check timerange tests,NEW,2021-01-12 22:56:06.000000000,2021-01-24 19:57:57.000000000,,12,34,0,770485,10a76f19036afee333d47391537e1f98c2469914,5,2,2,2,28062,Martin Chacon Piza,martinchacon,"[WIP] Check timerange tests

Change-Id: Ifa77c4685e8f056b3a26531ad0c27830034cd8cb
"
openstack%2Fnova~master~I2623bd4fe91906e928e891fb3250c02873d7fb09,openstack/nova,master,bp/compact-db-migrations-wallaby,I2623bd4fe91906e928e891fb3250c02873d7fb09,"db: Drop ""remove"" of index",MERGED,2020-10-14 15:25:02.000000000,2021-01-24 18:48:59.000000000,2021-01-24 18:46:49.000000000,0,2,5,758157,4701d28da39f2fe843f90ce02084132de9170c52,155,20,4,1,15334,Stephen Finucane,sfinucan,"db: Drop ""remove"" of index

We were simply referencing this function - not calling it. This has been
this way since commit 817baeb9374 was first merged way back in 2013 so
it clearly has not been missed.

Change-Id: I2623bd4fe91906e928e891fb3250c02873d7fb09
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftripleo-ansible~master~I16ed9e104d9daaa56ecf691f90dee492c6d06348,openstack/tripleo-ansible,master,fix-bare-vars,I16ed9e104d9daaa56ecf691f90dee492c6d06348,Fix bare variable warning,MERGED,2021-01-21 17:50:11.000000000,2021-01-24 17:58:08.000000000,2021-01-24 17:58:08.000000000,1,1,0,771868,197ea933c47a4265997f5538d13f276d760cbc0d,22,5,1,1,14985,Alex Schultz,mwhahaha,"Fix bare variable warning

[DEPRECATION WARNING]: evaluating 'environment_directories' as a bare
variable, this behaviour will go away and you might need to add |bool to
the expression in the future. Also see CONDITIONAL_BARE_VARS
configuration toggle. This feature will be removed in version 2.12.
Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.

Change-Id: I16ed9e104d9daaa56ecf691f90dee492c6d06348
"
openstack%2Fironic-python-agent-builder~master~I5875b1ab383fef4bc49432e678e38941a7f5763e,openstack/ironic-python-agent-builder,master,tox-min-version-parse-comments,I5875b1ab383fef4bc49432e678e38941a7f5763e,Reconfigure tox.ini,MERGED,2021-01-23 17:51:58.000000000,2021-01-24 16:10:34.000000000,2021-01-24 16:07:12.000000000,6,13,1,772164,55972ab6fb656bdb8317367ef3f05159a78d2508,9,3,2,3,23851,Riccardo Pittau,elfosardo,"Reconfigure tox.ini

Update minversion of tox to 3.9.0 to support inline comments [1]

Remove test-requirements and move pep8 requirements to tox.ini

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17

Change-Id: I5875b1ab383fef4bc49432e678e38941a7f5763e
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iaef7c01127327f709577bef3d2e96db840ba2b80,openstack/tripleo-heat-templates,stable/train,ussuri-memcached-connections-stable/train,Iaef7c01127327f709577bef3d2e96db840ba2b80,Add setting to override max memcached connections,MERGED,2021-01-14 10:54:07.000000000,2021-01-24 15:34:58.000000000,2021-01-24 15:33:45.000000000,11,0,0,770738,8cc56bb50aa448774e19b9e2ba485bfc13d570f0,10,5,1,2,20172,Michele Baldessari,michele,"Add setting to override max memcached connections

Added MemcachedMaxConnections to allow max connection override as
actually the limit is 8192 connections but in some cases the environment
will create more than 8192 connections to each memcached server.

Closes-Bug: #1911664

NB:
Conflicts: deployment/memcached/memcached-container-puppet.yaml

Change-Id: Iaef7c01127327f709577bef3d2e96db840ba2b80
(cherry picked from commit bbed1ef736dff02bf54e03dfe72322a6344adc5e)
(cherry picked from commit 751b03c7878c264b449894f8d4ff238d66a2e8a6)
"
openstack%2Fansible-role-collect-logs~master~I8e058a9c0292259748f758e3a04b6326992528b9,openstack/ansible-role-collect-logs,master,,I8e058a9c0292259748f758e3a04b6326992528b9,Also collect journal errors and send to logstash,MERGED,2021-01-21 16:47:40.000000000,2021-01-24 15:33:50.000000000,2021-01-24 15:33:50.000000000,3,0,0,771851,33d4c58669022b35abcce4ef0620adb507f08137,16,7,1,1,6926,Bogdan Dobrelya,bogdando,"Also collect journal errors and send to logstash

Change-Id: I8e058a9c0292259748f758e3a04b6326992528b9
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fironic~master~I4d2aaf97459344ca01e5ccd6e563474c094a4678,openstack/ironic,master,tox-min-version-parse-comments,I4d2aaf97459344ca01e5ccd6e563474c094a4678,Update minversion of tox,MERGED,2021-01-21 13:57:29.000000000,2021-01-24 15:03:56.000000000,2021-01-24 15:02:18.000000000,1,1,0,771815,5165edaf93be028a659d346c58ab3bf374faa18d,9,3,1,1,23851,Riccardo Pittau,elfosardo,"Update minversion of tox

The minimum version since when tox accepts having inline comments
in deps is 3.9.0

https://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17

Change-Id: I4d2aaf97459344ca01e5ccd6e563474c094a4678
"
openstack%2Fnetworking-generic-switch~master~I45cf88aaa13a3899a5576b7ac34ddc0e3907478b,openstack/networking-generic-switch,master,tox-min-version-parse-comments,I45cf88aaa13a3899a5576b7ac34ddc0e3907478b,Update minversion of tox,MERGED,2021-01-23 17:28:36.000000000,2021-01-24 14:53:37.000000000,2021-01-24 14:52:16.000000000,1,1,0,772160,6b1fca9439b8df5ad26b6ac9374733b62c5ddee9,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Update minversion of tox

The minimum version since when tox accepts having inline comments
in deps is 3.9.0

https://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17

Change-Id: I45cf88aaa13a3899a5576b7ac34ddc0e3907478b
"
openstack%2Fironic-inspector~master~I2a42de56b0d1c48604f026d27c1d262181cfe29b,openstack/ironic-inspector,master,tox-min-version-parse-comments,I2a42de56b0d1c48604f026d27c1d262181cfe29b,Update minversion of tox,MERGED,2021-01-22 07:56:35.000000000,2021-01-24 14:52:38.000000000,2021-01-24 14:51:25.000000000,1,1,0,771940,e670c24ea25e9e9276ef3704aa604b241c391a60,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Update minversion of tox

The minimum version since when tox accepts having inline comments
in deps is 3.9.0

https://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17

Change-Id: I2a42de56b0d1c48604f026d27c1d262181cfe29b
"
openstack%2Fbifrost~master~Ibe03e0aeac8bab767e9897b9c34d9a954a0d678e,openstack/bifrost,master,tox-min-version-parse-comments,Ibe03e0aeac8bab767e9897b9c34d9a954a0d678e,Update minversion of tox,MERGED,2021-01-23 17:27:13.000000000,2021-01-24 14:50:38.000000000,2021-01-24 14:49:00.000000000,1,1,0,772158,c9c17627551874e97694b8ddea15e739cc1e585d,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Update minversion of tox

The minimum version since when tox accepts having inline comments
in deps is 3.9.0

https://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17

Change-Id: Ibe03e0aeac8bab767e9897b9c34d9a954a0d678e
"
openstack%2Fnetworking-baremetal~master~Ife38fa8d304a26ed82272d329516e8a0905615db,openstack/networking-baremetal,master,tox-min-version-parse-comments,Ife38fa8d304a26ed82272d329516e8a0905615db,Update minversion of tox,MERGED,2021-01-23 17:27:52.000000000,2021-01-24 14:50:02.000000000,2021-01-24 14:48:39.000000000,1,1,0,772159,4ed7b744de84ae1f3dc22a54a131dcc94023855b,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Update minversion of tox

The minimum version since when tox accepts having inline comments
in deps is 3.9.0

https://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17

Change-Id: Ife38fa8d304a26ed82272d329516e8a0905615db
"
openstack%2Fmanila~master~I5a043a50a4db75e0ca2d7a675b9a91c81efee81c,openstack/manila,master,quota-opts,I5a043a50a4db75e0ca2d7a675b9a91c81efee81c,Migrate all quota parameters to [quotas] section.,ABANDONED,2021-01-24 11:52:55.000000000,2021-01-24 13:52:24.000000000,,51,31,0,772195,0bf3ae6173c8848337080ee491d2c68f1cb7f3ac,3,0,1,5,9816,Takashi Kajinami,kajinamit,"Migrate all quota parameters to [quotas] section.

Currently we register all parameters about the quota feature to
[DEFAULT] section. However it is difficult for operators to identity
that some of these parameters like reservation_expire are used in the
quota feature, based of names and descriptions of the parameters.

This change migrates all quota options to the new [quotas] section,
so that operators can easily understand which parameters are used
in the quota feature.

DocImpact
Change-Id: I0af5bb7375ea50fb7e352424e24dee93e190654a

Change-Id: I5a043a50a4db75e0ca2d7a675b9a91c81efee81c
"
openstack%2Fmanila~master~Ic36defb9f70a4d91cbfc32ae23ce0ba2254f4e81,openstack/manila,master,quota-opts,Ic36defb9f70a4d91cbfc32ae23ce0ba2254f4e81,Migrate all quota parameters to [quotas] section.,ABANDONED,2021-01-24 11:52:04.000000000,2021-01-24 13:34:32.000000000,,51,31,0,772194,733f7516f25fbf5efbf3b1c4add5e9d8ef8359fb,3,0,1,5,9816,Takashi Kajinami,kajinamit,"Migrate all quota parameters to [quotas] section.

Currently we register all parameters about the quota feature to
[DEFAULT] section. However it is difficult for operators to identity
that some of these parameters like reservation_expire are used in the
quota feature, based of names and descriptions of the parameters.

This change migrates all quota options to the new [quotas] section,
so that operators can easily understand which parameters are used
in the quota feature.

DocImpact
Change-Id: I0af5bb7375ea50fb7e352424e24dee93e190654a

Change-Id: Ic36defb9f70a4d91cbfc32ae23ce0ba2254f4e81
"
openstack%2Fmanila~master~I0af5bb7375ea50fb7e352424e24dee93e190654a,openstack/manila,master,quota-opts,I0af5bb7375ea50fb7e352424e24dee93e190654a,Migrate all quota parameters to [quotas] section.,ABANDONED,2021-01-24 11:22:39.000000000,2021-01-24 13:07:02.000000000,,51,31,0,772191,cb375524de7668d66bc5520c92c7d74ad994ddb2,3,0,1,5,9816,Takashi Kajinami,kajinamit,"Migrate all quota parameters to [quotas] section.

Currently we register all parameters about the quota feature to
[DEFAULT] section. However it is difficult for operators to identity
that some of these parameters like reservation_expire are used in the
quota feature, based of names and descriptions of the parameters.

This change migrates all quota options to the new [quotas] section,
so that operators can easily understand which parameters are used
in the quota feature.

DocImpact
Change-Id: I0b908337cf9ececf328df4e7b464a6861fd22aec

Change-Id: I0af5bb7375ea50fb7e352424e24dee93e190654a
"
openstack%2Fec2api-tempest-plugin~master~I429d4ebc8f9898a1f67ba0c8ca8f918afd2aadcf,openstack/ec2api-tempest-plugin,master,,I429d4ebc8f9898a1f67ba0c8ca8f918afd2aadcf,avoid additional virtualenv package,MERGED,2021-01-23 21:02:12.000000000,2021-01-24 12:39:16.000000000,2021-01-24 12:39:16.000000000,4,11,9,772167,a086dcfa5ca1b31f846cbd3617921e01282fbfa6,13,2,4,5,10234,Andrey Pavlov,andrey-mp,"avoid additional virtualenv package

unpin hacking requirement
move two tests to flaky for some time
ignore new pep8 issues

Change-Id: I429d4ebc8f9898a1f67ba0c8ca8f918afd2aadcf
"
openstack%2Fmanila~master~I0b908337cf9ececf328df4e7b464a6861fd22aec,openstack/manila,master,quota-opts,I0b908337cf9ececf328df4e7b464a6861fd22aec,Migrate all quota parameters to [quotas] section.,ABANDONED,2021-01-24 08:45:30.000000000,2021-01-24 11:51:45.000000000,,50,30,1,772187,f3683a50a9f95307c7f9a0c2b1ae09c99170e551,7,1,1,5,9816,Takashi Kajinami,kajinamit,"Migrate all quota parameters to [quotas] section.

Currently we register all parameters about the quota feature to
[DEFAULT] section. However it is difficult for operators to identity
that some of these parameters like reservation_expire are used in the
quota feature, based of names and descriptions of the parameters.

This change migrates all quota options to the new [quotas] section,
so that operators can easily understand which parameters are used
in the quota feature.

DocImpact

Change-Id: I0b908337cf9ececf328df4e7b464a6861fd22aec
"
openstack%2Fsushy~stable%2Fvictoria~I2d082762fcf59d7b9bc8adc7c5159520ac628043,openstack/sushy,stable/victoria,extendedinfo,I2d082762fcf59d7b9bc8adc7c5159520ac628043,Fix ExtendedInfo error handling for non-list item,MERGED,2021-01-22 20:00:44.000000000,2021-01-24 11:05:49.000000000,2021-01-24 11:04:17.000000000,42,7,0,772089,dfe6b33fa66072e9ead784d06fa30946ef922cb8,9,4,1,4,15519,Iury Gregory Melo Ferreira,iurygregory,"Fix ExtendedInfo error handling for non-list item

Conflicts:
        sushy/exceptions.py

Change-Id: I2d082762fcf59d7b9bc8adc7c5159520ac628043
(cherry picked from commit 7ec04224b4e80225ff3db51d860210e8e160f02f)
"
openstack%2Foctavia-tempest-plugin~master~Ice60084d5fefc27726c9666ee83c31406484918b,openstack/octavia-tempest-plugin,master,change-771251-4,Ice60084d5fefc27726c9666ee83c31406484918b,Modified for PEO8 Conforming,ABANDONED,2021-01-24 10:23:22.000000000,2021-01-24 10:24:45.000000000,,49,15,0,772189,399c4e6754e07b63d81ccb80ef94aa6aa53b0533,2,0,1,1,32137,Arieh Maron,amaron,"Modified for PEO8 Conforming

Removed repeated code and unnecassary steps

Change-Id: Ice60084d5fefc27726c9666ee83c31406484918b
"
openstack%2Foctavia-tempest-plugin~master~I04f21bc8bbdcbe23bcdd08a86742a39c04004e6c,openstack/octavia-tempest-plugin,master,change-770163-9,I04f21bc8bbdcbe23bcdd08a86742a39c04004e6c,Fixes to conform to PEP8,ABANDONED,2021-01-24 10:03:31.000000000,2021-01-24 10:17:12.000000000,,9,8,0,772188,9edccb645cd557c16cc4cf5b046e531c0bf9d78a,2,0,1,1,32137,Arieh Maron,amaron,"Fixes to conform to PEP8

Cleaning up some repeated code

Change-Id: I04f21bc8bbdcbe23bcdd08a86742a39c04004e6c
"
openstack%2Fironic-lib~master~I1976e24792d506003962cf970cd59b8d47891f4a,openstack/ironic-lib,master,tox-min-version-parse-comments,I1976e24792d506003962cf970cd59b8d47891f4a,Update minversion of tox,MERGED,2021-01-21 10:52:53.000000000,2021-01-24 09:54:09.000000000,2021-01-24 09:52:39.000000000,1,1,0,771790,c9764a2df00c11f1675d14236890c8dde93c99bc,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Update minversion of tox

The minimum version since when tox accepts having inline comments
in deps is 3.9.0

https://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17

Change-Id: I1976e24792d506003962cf970cd59b8d47891f4a
"
openstack%2Fironic-python-agent~master~Ice30f3c900dd87c07f29a96cdbeef9899ead6777,openstack/ironic-python-agent,master,tox-min-version-parse-comments,Ice30f3c900dd87c07f29a96cdbeef9899ead6777,Update minversion of tox,MERGED,2021-01-22 08:16:40.000000000,2021-01-24 09:54:08.000000000,2021-01-24 09:52:42.000000000,1,1,0,771942,c72e58b2fac474a97d39b452a93e0afb4794f56e,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Update minversion of tox

The minimum version since when tox accepts having inline comments
in deps is 3.9.0

https://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17

Change-Id: Ice30f3c900dd87c07f29a96cdbeef9899ead6777
"
openstack%2Fpython-ironic-inspector-client~master~Ia388cbb585d4304c9c86baa6d160ae061e0a3fd4,openstack/python-ironic-inspector-client,master,tox-min-version-parse-comments,Ia388cbb585d4304c9c86baa6d160ae061e0a3fd4,Update minversion of tox,MERGED,2021-01-22 09:26:46.000000000,2021-01-24 09:50:35.000000000,2021-01-24 09:47:17.000000000,1,1,0,771953,c4919b8265ea38e6af9c951f40d2417363fcddfd,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Update minversion of tox

The minimum version since when tox accepts having inline comments
in deps is 3.9.0

https://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17

Change-Id: Ia388cbb585d4304c9c86baa6d160ae061e0a3fd4
"
openstack%2Fironic-ui~master~Iff7ebc1359f7920c797b684e2d2c94639c0a42bb,openstack/ironic-ui,master,fix-unittest-coverage,Iff7ebc1359f7920c797b684e2d2c94639c0a42bb,Fix unittest coverage bug,MERGED,2021-01-18 09:52:40.000000000,2021-01-24 09:50:32.000000000,2021-01-24 09:47:02.000000000,6,1,2,771176,12eca8ae610a22b0f23003ebdea35267b26c0b2e,28,4,7,2,33003,Shuai Qian,qianshuai01,"Fix unittest coverage bug

change the way of unittest coverage checking.
Story: #2008517

Change-Id: Iff7ebc1359f7920c797b684e2d2c94639c0a42bb
"
openstack%2Fpython-ironicclient~master~I4915b3898ca8b5e88b5b0114c9e83475223d50bf,openstack/python-ironicclient,master,tox-min-version-parse-comments,I4915b3898ca8b5e88b5b0114c9e83475223d50bf,Update minversion of tox,MERGED,2021-01-22 09:09:26.000000000,2021-01-24 09:46:20.000000000,2021-01-24 09:45:08.000000000,1,1,0,771948,1e02b3e5eb0ee8ee05ef8c6056dc88524985f249,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Update minversion of tox

The minimum version since when tox accepts having inline comments
in deps is 3.9.0

https://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17

Change-Id: I4915b3898ca8b5e88b5b0114c9e83475223d50bf
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Iaef7c01127327f709577bef3d2e96db840ba2b80,openstack/tripleo-heat-templates,stable/ussuri,ussuri-memcached-connections,Iaef7c01127327f709577bef3d2e96db840ba2b80,Add setting to override max memcached connections,MERGED,2021-01-14 10:53:30.000000000,2021-01-24 08:38:03.000000000,2021-01-24 08:36:23.000000000,11,0,0,770785,bc23f0e3110d7463c8a29a8d1b1bb9c16b833198,36,5,1,2,20172,Michele Baldessari,michele,"Add setting to override max memcached connections

Added MemcachedMaxConnections to allow max connection override as
actually the limit is 8192 connections but in some cases the environment
will create more than 8192 connections to each memcached server.

Closes-Bug: #1911664

NB:
Conflicts: deployment/memcached/memcached-container-puppet.yaml

Change-Id: Iaef7c01127327f709577bef3d2e96db840ba2b80
(cherry picked from commit bbed1ef736dff02bf54e03dfe72322a6344adc5e)
(cherry picked from commit 751b03c7878c264b449894f8d4ff238d66a2e8a6)
"
openstack%2Fneutron~stable%2Ftrain~Ifb9df94128b7069e78e193bc289be17e15968167,openstack/neutron,stable/train,train-backport,Ifb9df94128b7069e78e193bc289be17e15968167,Use consistent filter API syntax,MERGED,2021-01-20 15:32:28.000000000,2021-01-24 07:47:31.000000000,2021-01-23 06:50:36.000000000,1,1,0,771599,1b8f449e25726874e63cd792ad4742778c3d037d,48,6,2,1,18031,Thomas Bachman,bachmantech,"Use consistent filter API syntax

Change ID Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8 introduced a
call to get_subnets, using a filter to select all subnets on a
network. The syntax for the filter in get_subnets has been to
provide a dictionary where the values are lists. The change
doesn't cause an exception because the OVO layer code handles
scalar values. Tbis commit changes the filter syntax to be
consistent.

Change-Id: Ifb9df94128b7069e78e193bc289be17e15968167
(cherry picked from commit e7d126f9bccaa13c50ee0f5345174f1c10f14a7e)
(cherry picked from commit 06cbfe0e1d2680db4bebac816b3c5f1a0a616af5)
(cherry picked from commit 16befa0385c1a44b095a2c7e549caa453157b57a)
"
openstack%2Fneutron~stable%2Ftrain~Ic1d5f893a81b7b841745da82f38b7583e47e468d,openstack/neutron,stable/train,bug/1896735-stable/victoria-stable/ussuri-stable/train,Ic1d5f893a81b7b841745da82f38b7583e47e468d,Add locks for methods which sets nat rules in router,MERGED,2020-12-04 11:46:56.000000000,2021-01-24 07:32:05.000000000,2021-01-23 22:00:21.000000000,6,3,0,765413,08377bc1bc1d1de45be9be8ef5c5890a5327b134,71,3,1,2,11975,Slawek Kaplonski,slaweq,"Add locks for methods which sets nat rules in router

Router_info class and port_forwarding L3 extensions are using same
instance of the iptables manager class and it could happend that
method which sets address scope rules and method which sets
port forwarding nat rules where run in almost same time and
one of them was adding rules which wasn't expected to be added.
Because of that port forwarding rules wasn't configured properly.

This patch fixed that by adding lock for methods which are changing
rules in iptables_manager's nat table in both router_info and
port_forwarding extension.

Change-Id: Ic1d5f893a81b7b841745da82f38b7583e47e468d
Closes-Bug: #1896735
(cherry picked from commit 2325ad1950412d3eef0cde848c56bb94fbbb7495)
"
openstack%2Frequirements~master~Ie1eb4bd19dacb7698b756baf35d02bbd6b4dc5ce,openstack/requirements,master,openstack/requirements/constraints,Ie1eb4bd19dacb7698b756baf35d02bbd6b4dc5ce,Updated from generate-constraints,ABANDONED,2021-01-24 06:28:14.000000000,2021-01-24 06:51:36.000000000,,6,6,0,772186,b86078e63973d316309ad0e737eb16a723e28dc7,2,0,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ie1eb4bd19dacb7698b756baf35d02bbd6b4dc5ce
"
openstack%2Fpuppet-tripleo~master~I4e7c200865ef86a1abd9238e85ea117ee33ca19b,openstack/puppet-tripleo,master,,I4e7c200865ef86a1abd9238e85ea117ee33ca19b,Fix container and user name when restarting memcached,MERGED,2021-01-21 14:55:31.000000000,2021-01-24 05:40:57.000000000,2021-01-24 05:40:57.000000000,3,3,0,771824,203d8aee073ea6ac41d24581ab73f14bd2c8cb69,18,8,2,1,27954,Moisés Guimarães de Medeiros,moguimar,"Fix container and user name when restarting memcached

Change-Id: I4e7c200865ef86a1abd9238e85ea117ee33ca19b
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
"
openstack%2Ftripleo-common~master~If56cd0fa986ef193d036b73e0ab84a88d59147e3,openstack/tripleo-common,master,healthcheck/http,If56cd0fa986ef193d036b73e0ab84a88d59147e3,Conditionally use python instead of cURL,MERGED,2021-01-19 10:46:06.000000000,2021-01-24 05:25:54.000000000,2021-01-24 05:24:45.000000000,54,1,40,771422,2185d9a8599f4efb79fe38b188bc48e931eba625,55,9,10,2,28223,Cedric Jeanneret,cjeanner,"Conditionally use python instead of cURL

The healthcheck_curl has always been a bit bonky with the proxies
management, especially the ""no_proxy"" environment variable: since there
isn't any real RFC describing the content of this variable, there isn't
any unified handling.

This leads to situation where an Operator puts some CIDR notation inside
this variable, while curl doesn't handle it.

This change adds a new python script. Since it uses python-requests, it
will have a proper support for the CIDR notation[1].

It will be called if and only if either NO_PROXY or no_proxy environment
variables are set and non-empty.

One can also force the script usage by passing HEALTHCHECK_CURL_PY=1,
such as:
podman exec -e ""HEALTHCHECK_CURL_PY=1"" container /healthchecks/you-healthcheck

The output is 100% iso-compatible, and if someone wants to know what
healthcheck is used, they can check the User-Agent on the target logs.

This change is motivated by, at least, the following existing issues:
https://bugzilla.redhat.com/show_bug.cgi?id=1837458
https://bugzilla.redhat.com/show_bug.cgi?id=1883657

[1] https://github.com/psf/requests/blob/589c4547338b592b1fb77c65663d8aa6fbb7e38b/requests/utils.py#L663-L684

Change-Id: If56cd0fa986ef193d036b73e0ab84a88d59147e3
"
openstack%2Fnova~master~I7f708e93d5074395f962dc8f6b1ee355ddab66e8,openstack/nova,master,bp/compact-db-migrations-wallaby,I7f708e93d5074395f962dc8f6b1ee355ddab66e8,db: Merge in unique constraints,MERGED,2020-10-14 15:25:02.000000000,2021-01-24 04:00:15.000000000,2021-01-24 03:40:41.000000000,67,102,43,758156,b7ba576cddf720082ee7dab7ff3884841b59eb6d,91,17,4,1,15334,Stephen Finucane,sfinucan,"db: Merge in unique constraints

These can go inline, so do just that.

Change-Id: I7f708e93d5074395f962dc8f6b1ee355ddab66e8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fpython-tripleoclient~stable%2Fvictoria~Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2,openstack/python-tripleoclient,stable/victoria,workflow-resilience-stable/victoria,Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2,Make workflow monitoring more resilient,MERGED,2021-01-12 17:41:43.000000000,2021-01-24 01:22:25.000000000,2021-01-24 01:20:54.000000000,8,1,0,770192,d3085ad493c622b70da7cf92480f3d4b87abb010,26,3,1,1,20172,Michele Baldessari,michele,"Make workflow monitoring more resilient

Let's make the monitoring of the mistral executions a bit more robust.
If for some reason a tcp reset occurs while monitoring the execution
state of a workflow, tripleoclient completely gives up:

  2020-12-21 17:16:25 | 2020-12-21 17:16:25.015 297753 ERROR tripleoclient.v1.overcloud_upgrade.UpgradeRun [-] Exception occured while running the command:
  keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/dfe7ee67-6cd0-407c-9f61-b355a1cf0b25:
  ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))

This is bad UX because the execution is actually running via mistral
in the background just fine, it's just the monitoring that did not
survive a hiccup.

With this patch we were able to inject artificial problems on mistral
with the reproducer below [1] and the client survived them just fine:

TASK [Gathering Facts] *********************************************************
Tuesday 22 December 2020  13:27:38 +0000 (0:00:03.337)       0:00:03.438 ******
ok: [controller-1]

2020-12-22 13:27:41.242 3728 WARNING tripleoclient.workflows.base [-] Connection failure while fetching execution ID. Retrying: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',)): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',))^[[00m
ok: [controller-0]

PLAY [Load global variables] ***************************************************

The mistral execution continues correctly and tripleoclient deals with the hiccup without erroring out.

[1] A quick reproducer for this issue is to run a longer workflow (minor
update or ffu of a node) and once tripleoclient is just monitoring the
mistral execution just run:
iptables -I INPUT -p tcp --dport 13989 -j REJECT
sleep 13
iptables -D INPUT 1

Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>

Change-Id: Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2
Closes-Bug: #1909019
(cherry picked from commit 01fb0efda0efa1379aa9b053688bb82441ee72cf)
"
openstack%2Fnova~master~Ib45df16aaf718850ccdaf4b001f3b7c03b2f1d04,openstack/nova,master,story/2007938,Ib45df16aaf718850ccdaf4b001f3b7c03b2f1d04,add openstack-python3-wallaby-jobs-arm64 job,MERGED,2020-07-21 08:18:31.000000000,2021-01-23 20:05:16.000000000,2021-01-23 20:01:21.000000000,1,0,0,742094,af15488be9d6f02b5bb893beb8a429d274a01ed4,75,9,5,1,12404,Rico Lin,rico.lin,"add openstack-python3-wallaby-jobs-arm64 job

This is a non-voting job to validate py3 unittests on ARM64

Task: 40400
Story: 2007938
Change-Id: Ib45df16aaf718850ccdaf4b001f3b7c03b2f1d04
"
openstack%2Fkolla-ansible~stable%2Ftrain~I86a13d2476644bfa2545a6737752cda1ade34d23,openstack/kolla-ansible,stable/train,fix-dpdk-stable/victoria-stable/ussuri-stable/train,I86a13d2476644bfa2545a6737752cda1ade34d23,Fix dpdk deploy failed,MERGED,2021-01-13 08:18:47.000000000,2021-01-23 13:52:32.000000000,2021-01-23 13:51:09.000000000,13,5,0,770508,3d063186371dfe4847d075efa37bfe4d28c9da76,18,4,3,4,30491,Radosław Piliszek,yoctozepto,"Fix dpdk deploy failed

This change fix ansible deploy ovs-dpdk failed and
neutron_openvswitch_agent container can't start..

dpdk_tunnel is a role variable, but kolla_address gets vaule
from hostvars. so we need remove this variable and it's friends
to group/all.yaml

neutron_openvswitch_agent connects to ovs-db with 127.0.0.1,
but ovs-db listen on management interface.

Closes-Bug: 1908850

Change-Id: I86a13d2476644bfa2545a6737752cda1ade34d23
(cherry picked from commit b12be305cb82481b4fd8887fc803b59f845bb866)
"
openstack%2Ftripleo-common~master~Ia00ef50d6272fd1b3dd6dbbf7ff6edd2472d7dd0,openstack/tripleo-common,master,network-data-v2,Ia00ef50d6272fd1b3dd6dbbf7ff6edd2472d7dd0,Re-factor inventory.py use setdefault pervasively,MERGED,2020-12-08 23:58:02.000000000,2021-01-23 13:46:13.000000000,2021-01-23 13:42:47.000000000,153,147,10,766109,131ff2b4b8311e0d5066cbe5d756d27d2e46735d,56,7,11,3,24245,Harald Jensås,harald.jensas,"Re-factor inventory.py use setdefault pervasively

This refactors the inventory code to pervasively
use 'setdefault' to assign values to all inventory
keys.

The idea is to use multiple sources in order, and
build up the inventory enriching it with more data as
it becomes available.

With the pervasive 'setdefault' usage all values in
the inventory will reflect the value first discovered.

The follow up change
  I9e1851aeb92c9e257fd18fdc500ee5c01b1eb53e
adds support to use neutron as a source of data for
the inventory in addition to the heat stack.

Discovery order will be neutron then heat.

Partial-Implements: blueprint network-data-v2-ports
Change-Id: Ia00ef50d6272fd1b3dd6dbbf7ff6edd2472d7dd0
"
openstack%2Ftripleo-common~stable%2Fussuri~I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b,openstack/tripleo-common,stable/ussuri,bug/1908750,I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b,TCIB: Add cinder-volume extend_start.sh script,MERGED,2021-01-21 13:42:49.000000000,2021-01-23 13:46:09.000000000,2021-01-23 13:42:18.000000000,10,1,0,771812,b7e584e4cb612acf43148988fe481ad03ddbe2de,22,4,1,3,21129,Alan Bishop,ASBishop,"TCIB: Add cinder-volume extend_start.sh script

Add an extend_start.sh script for the cinder-volume service that
recursively chowns /var/lib/cinder to cinder:kolla. This ensures
cinder has permission to access the directory, especially in
situations where the directory may be owned by root.

Just like kolla itself did prior to tripleo's switch to TCIB, the
recursive chown is conditional on whether the top level /var/lib/cinder
directory isn't already owned by cinder:kolla. This is done so the
chown is only run once, which prevents slow service startups when the
directory contains a large number of entries.

Note: There was an initial fear that a recursive chown could traverse
onto any NFS share mounted by cinder. However, the extend_start.sh
script runs on container startup, prior to when cinder would create
any mounts. Even restarting the cinder-volume container is safe,
because NFS shares are automatically unmounted during the container
restart.

Closes-Bug: #1908750
Change-Id: I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b
(cherry picked from commit 1b45bb88383ad09fe534eacda66e18e5862a2037)
(cherry picked from commit 5668f2397500847590f6c682681591247c1f141e)
"
openstack%2Ftripleo-common~stable%2Ftrain~I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b,openstack/tripleo-common,stable/train,bug/1908750-stable/train,I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b,TCIB: Add cinder-volume extend_start.sh script,MERGED,2021-01-22 08:50:39.000000000,2021-01-23 13:46:06.000000000,2021-01-23 13:42:21.000000000,10,1,0,771919,ae31ba5e04320b5d75e8a13bfd9cd8963548b62e,8,4,1,3,13861,yatin,yatinkarel,"TCIB: Add cinder-volume extend_start.sh script

Add an extend_start.sh script for the cinder-volume service that
recursively chowns /var/lib/cinder to cinder:kolla. This ensures
cinder has permission to access the directory, especially in
situations where the directory may be owned by root.

Just like kolla itself did prior to tripleo's switch to TCIB, the
recursive chown is conditional on whether the top level /var/lib/cinder
directory isn't already owned by cinder:kolla. This is done so the
chown is only run once, which prevents slow service startups when the
directory contains a large number of entries.

Note: There was an initial fear that a recursive chown could traverse
onto any NFS share mounted by cinder. However, the extend_start.sh
script runs on container startup, prior to when cinder would create
any mounts. Even restarting the cinder-volume container is safe,
because NFS shares are automatically unmounted during the container
restart.

Closes-Bug: #1908750
Change-Id: I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b
(cherry picked from commit 1b45bb88383ad09fe534eacda66e18e5862a2037)
(cherry picked from commit 5668f2397500847590f6c682681591247c1f141e)
"
openstack%2Fpuppet-oslo~master~I5f9c13df71be9aa7203483cccaa23710354f15af,openstack/puppet-oslo,master,prep-release-wallaby-m2,I5f9c13df71be9aa7203483cccaa23710354f15af,Prepare Wallaby M2,MERGED,2021-01-19 03:21:15.000000000,2021-01-23 13:42:50.000000000,2021-01-23 13:42:50.000000000,2,2,0,771323,4bc7174f524da320897b2cc3bf73cedb19db6207,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I5f9c13df71be9aa7203483cccaa23710354f15af
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I8fab60b2b450d175aa5f4f8cc786112cbb5c74c2,openstack/puppet-tripleo,stable/ussuri,,I8fab60b2b450d175aa5f4f8cc786112cbb5c74c2,Bump metadata for stable/ussuri release,MERGED,2021-01-22 16:25:29.000000000,2021-01-23 13:42:28.000000000,2021-01-23 13:42:28.000000000,1,1,0,772029,06eb278207952175c9c5bd3f78ff4c3699743890,7,3,1,1,8449,Marios Andreou,marios,"Bump metadata for stable/ussuri release

Needed by Id460b7656e9c4e9e00ed19f3bcf35411f668a74e

Change-Id: I8fab60b2b450d175aa5f4f8cc786112cbb5c74c2
"
openstack%2Fansible-role-collect-logs~master~I8da10ef160e21fcc3ae18d07e63d91b8b840a688,openstack/ansible-role-collect-logs,master,unvote,I8da10ef160e21fcc3ae18d07e63d91b8b840a688,"Revert ""Disable voting of broken job""",MERGED,2021-01-22 14:03:07.000000000,2021-01-23 13:42:24.000000000,2021-01-23 13:42:24.000000000,11,9,0,771924,0548c386717c57fc9b5aa2f539a66aaab1baa0e7,12,7,2,2,24162,Sorin Sbârnea,ssbarnea,"Revert ""Disable voting of broken job""

This reverts commit 9733aaaf2bfa230b813d0548263183f7f6701cf1.

Reason for revert: Test code must run an pass.

Change-Id: I8da10ef160e21fcc3ae18d07e63d91b8b840a688
"
openstack%2Fkolla-ansible~stable%2Ftrain~Idcbc134cdfa4a598d3e4510df7b1040cb656aece,openstack/kolla-ansible,stable/train,dnm-dummy,Idcbc134cdfa4a598d3e4510df7b1040cb656aece,[DNM] Dummy (Train),ABANDONED,2020-09-13 09:10:57.000000000,2021-01-23 13:17:36.000000000,,0,0,0,751605,7882b3cd8c5caf7dac06356e69e35ba5eca5ce70,4,2,1,0,30491,Radosław Piliszek,yoctozepto,"[DNM] Dummy (Train)

To run all jobs.

Change-Id: Idcbc134cdfa4a598d3e4510df7b1040cb656aece
"
openstack%2Fkolla~stable%2Fstein~If708c819af94a70d4413e7405398753627f7a097,openstack/kolla,stable/stein,ci-healthcheck,If708c819af94a70d4413e7405398753627f7a097,[DNM] [CI] Healthcheck run,ABANDONED,2020-12-15 12:25:28.000000000,2021-01-23 13:17:01.000000000,,0,0,0,767124,04022f60bcd5b4fcdf99f3f9270fdeea34e7373a,7,1,2,1,30491,Radosław Piliszek,yoctozepto,"[DNM] [CI] Healthcheck run

Change-Id: If708c819af94a70d4413e7405398753627f7a097
"
openstack%2Fkolla~stable%2Ftrain~I53e8ba8d4baa4434cf3c49ed94d1f7cb44099bee,openstack/kolla,stable/train,,I53e8ba8d4baa4434cf3c49ed94d1f7cb44099bee,Add a storm-base image,MERGED,2021-01-13 10:56:30.000000000,2021-01-23 13:09:25.000000000,2021-01-23 13:07:17.000000000,16,8,1,770580,890d199e98dcc0edaf0ccc5ac8a0c479d3209efc,25,3,7,4,14826,Mark Goddard,mgoddard,"Add a storm-base image

Refactor storm image dependencies. Previously we had:

base -> storm -> monasca-thresh

Both storm and monasca-thresh images are final, and each includes a
footer. This causes issues when the footer expects to be at the end of
the image, or there to be only a single footer. In particular, since
I2592a736206eaec811290e9fbdbf2540c0518ffe, the footer used in CI jobs
reverts to the public package mirrors.

This change introduces a storm-base image, and refactors the dependency
chain:

base -> storm-base -> storm
base -> storm-base -> monasca-thresh

Related-Bug: #1902101

Change-Id: I53e8ba8d4baa4434cf3c49ed94d1f7cb44099bee
(cherry picked from commit 93204ecfeca7ba394bd4c3872147357aa708f46e)
"
openstack%2Fkolla~stable%2Ftrain~I95e5bb5583be2a76e289749e8adfc303a4e7197a,openstack/kolla,stable/train,bug/1902101-stable/train,I95e5bb5583be2a76e289749e8adfc303a4e7197a,Remove footer block from intermediate images,MERGED,2021-01-11 12:28:53.000000000,2021-01-23 13:08:28.000000000,2021-01-23 13:07:13.000000000,11,4,0,770087,297c15de4b92425286cba2eb3977ec5d877a7e9a,22,3,7,7,14826,Mark Goddard,mgoddard,"Remove footer block from intermediate images

Only the final image in a hierarchy should have the footer block.

neutron-infoblox-ipam-agent image still has two footers because it
inherits from the neutron-server image. We set the user to root at the
beginning of that Dockerfile, so that headers and footers have the right
context.

Change-Id: I95e5bb5583be2a76e289749e8adfc303a4e7197a
(cherry picked from commit 4b792b9a43bee3bfb499cea14924527550f2bce0)
"
openstack%2Fneutron~stable%2Frocky~Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8,openstack/neutron,stable/rocky,bug/1903433-stable/rocky,Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8,Improve the CIDRs overlap check method for router add interface,MERGED,2021-01-11 09:03:30.000000000,2021-01-23 12:46:16.000000000,2021-01-23 12:46:16.000000000,73,21,0,770035,a1a03385c5f6b87e66b8f5df2711fd0976545bca,44,5,1,2,28329,yangjianfeng,yangjianfeng,"Improve the CIDRs overlap check method for router add interface

If an external network have multiple subnets, the router whose
external gateway at the network will have all routes about those
subnets. So, when a internal subnet was added to the router, all
subnets of the the network which the router's external gateway
belong to need to be joined to check whether the CIDRs is
overlapped.

Also, this patch revert the patch [1]
[1] https://review.opendev.org/#/c/473356/

Change-Id: Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8
Closes-Bug: #1903433
Depends-On: https://review.opendev.org/763621
Depends-On: https://review.opendev.org/763626
(cherry picked from commit 8ebd54d1bcb6d4437cf9501f1c5993177747fac2)
"
openstack%2Fpython-tripleoclient~master~I7531612a49527f8a21df415c648acb41ac7a0b10,openstack/python-tripleoclient,master,config-download/swift,I7531612a49527f8a21df415c648acb41ac7a0b10,Update client to create archive and use tripleo-common,MERGED,2020-10-13 14:03:52.000000000,2021-01-23 12:41:29.000000000,2021-01-23 12:39:57.000000000,188,1028,11,757868,7c40575d7bb0c69b61f31f3413010a7e3c2db151,46,5,11,23,7353,Kevin Carter,cloudnull,"Update client to create archive and use tripleo-common

The client utils will now run a new playbook to ensure that the local
archive directory is created early in the deployment process. This
change will allow us to build toward a swift-less deployment. All of
the client calls, save one, has been moved to use tripleo-common which
will assist us to better manage, and migrate from swift storage to a
local archive.

> As a product of this change all of the ""webhook"" calls have been
  removed. which was deprecated as part of the Zaqar and Mistral work.
  These calls were removed because several swift calls were tied into
  them, and because mistral is no longer part of the stack, and has
  been gone for a few cycles, we can safely remove these calls which
  do nothing.

Depends-On: Ibe9b2ffe94cdf493fc84366979d1d78b8528ea1b
Change-Id: I7531612a49527f8a21df415c648acb41ac7a0b10
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fnova~master~I883562754f9330f9c797813714d8fe5b74227027,openstack/nova,master,bp/compact-db-migrations-wallaby,I883562754f9330f9c797813714d8fe5b74227027,db: Clean up base migration,MERGED,2020-10-14 15:25:02.000000000,2021-01-23 12:39:55.000000000,2021-01-23 12:38:11.000000000,148,153,5,758155,d693d755db6089afa046ea5877ac31ea00f35073,117,16,4,1,15334,Stephen Finucane,sfinucan,"db: Clean up base migration

We're going to be flattening these migrations is short order. Start by
cleaning up the existing base migration to remove some of the oddities
and generally make merging of migrations as painless as possible.

A comparison of schemas before and after this [1] shows no significant
differences.

[1] https://that.guru/blog/comparing-nova-db-migrations/

Change-Id: I883562754f9330f9c797813714d8fe5b74227027
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fpython-tripleoclient~master~Ia161b57b1442c2cc4bc83b1c7f94bfaf59548e2c,openstack/python-tripleoclient,master,DeprecationWarning/warn,Ia161b57b1442c2cc4bc83b1c7f94bfaf59548e2c,Correct a noisy DeprecationWarning,MERGED,2021-01-22 12:22:58.000000000,2021-01-23 12:25:39.000000000,2021-01-23 12:24:13.000000000,2,2,0,771967,f7fd2ed9eb0a63f67a2a639ab43693fa511c6ab5,8,3,1,1,28223,Cedric Jeanneret,cjeanner,"Correct a noisy DeprecationWarning

Let's drop this annoying thing:
/usr/lib/python3.6/site-packages/tripleoclient/workflows/plan_management.py:328: DeprecationWarning: The 'warn' method is deprecated, use 'warning' instead
  ""Updating plan with passwords."".format(name))

Change-Id: Ia161b57b1442c2cc4bc83b1c7f94bfaf59548e2c
"
openstack%2Frequirements~master~Ibe3c8ea4b5156a319036dff6592f3bd6ddce873f,openstack/requirements,master,openstack/requirements/constraints/noclob,Ibe3c8ea4b5156a319036dff6592f3bd6ddce873f,Updated from generate-constraints,MERGED,2021-01-23 06:21:01.000000000,2021-01-23 10:55:16.000000000,2021-01-23 10:53:48.000000000,7,7,0,772148,42a7a33cb14dc5e24bec27a3df315b5990f99084,10,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ibe3c8ea4b5156a319036dff6592f3bd6ddce873f
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fpuppet-openstack-integration~master~I7332540c8801418c797790e4e91b064607a0d5a9,openstack/puppet-openstack-integration,master,unused-pre-run,I7332540c8801418c797790e4e91b064607a0d5a9,Remove unused prepare-node-common.yaml,ABANDONED,2021-01-23 10:29:01.000000000,2021-01-23 10:42:28.000000000,,0,166,0,772152,046e138a59113d5148f87152064bd342c2051c91,2,0,1,2,9816,Takashi Kajinami,kajinamit,"Remove unused prepare-node-common.yaml

The prepare-node-common.yaml playbook is currenly assigned to pre-run
of the puppet-openstack-base job, but all of its child jobs override
pre-run thus no jobs are actually using the playbook.

Change-Id: I7332540c8801418c797790e4e91b064607a0d5a9
"
openstack%2Fpuppet-openstack-integration~master~Id9252a8cf5a1072e9d2160ab5fd41a88356a4143,openstack/puppet-openstack-integration,master,bug/1912871,Id9252a8cf5a1072e9d2160ab5fd41a88356a4143,Install gpg keys for puppet packages from repository,ABANDONED,2021-01-23 06:24:23.000000000,2021-01-23 10:36:29.000000000,,4,87,0,772149,4037fe4c4237121d8a883fb069f839c0bc76e4b8,4,1,2,3,9816,Takashi Kajinami,kajinamit,"Install gpg keys for puppet packages from repository

Change-Id: Id9252a8cf5a1072e9d2160ab5fd41a88356a4143
"
openstack%2Ftripleo-common~master~I96ab407ba50e2183141daec3341dbb29545d5beb,openstack/tripleo-common,master,bug/1912645,I96ab407ba50e2183141daec3341dbb29545d5beb,Check existence of expires_in for auth,MERGED,2021-01-21 15:57:00.000000000,2021-01-23 10:11:01.000000000,2021-01-23 10:08:43.000000000,2,1,0,771842,e04774948e8cfa8ac4d2a1f57f0e53e2ef0861ee,10,5,1,1,14985,Alex Schultz,mwhahaha,"Check existence of expires_in for auth

If a registries doesn't provide an expires_in with their token, the
current code fails doing the comparison. If no such header is included,
let's assume there is no expire time so we can just use the cached
token.  If the token expires, we'll reauth as usual.

Change-Id: I96ab407ba50e2183141daec3341dbb29545d5beb
Closes-Bug: #1912645
"
openstack%2Fpython-tripleoclient~master~Ic8f1b9aa61327c246ac062243b7b17844998698a,openstack/python-tripleoclient,master,oc/pre-deployed/validations,Ic8f1b9aa61327c246ac062243b7b17844998698a,We don't have to disable validations anymore for pre-deployed OC,MERGED,2021-01-22 10:24:01.000000000,2021-01-23 10:10:53.000000000,2021-01-23 10:09:20.000000000,0,22,0,771960,7c066dec13aa09c414f911aa257ab09e5b2b96a1,18,10,2,2,28223,Cedric Jeanneret,cjeanner,"We don't have to disable validations anymore for pre-deployed OC

The need of disabling validations when deploying an OC over pre-deployed
nodes is no longer a thing. Let's drop this requirement from now on and
get a validated deploy!

Change-Id: Ic8f1b9aa61327c246ac062243b7b17844998698a
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I084f3b974e37c9f5a4d720747e408645deb50995,openstack/tripleo-upgrade,stable/train,fix_error_handling_system_upgrde-stable/train,I084f3b974e37c9f5a4d720747e408645deb50995,Handle errors on system upgrade,MERGED,2021-01-11 08:49:45.000000000,2021-01-23 10:09:13.000000000,2021-01-23 10:09:13.000000000,14,2,0,770030,969cba7519eb9bef9f6fc9e9607e010936ceda03,23,4,3,1,18575,Saravanan KR,saravanankr,"Handle errors on system upgrade

Using 'wait' will not return error if any of the
child background process fails. This results in
unexpected behavior of triggering upgrade run
eventhough system upgrade failed. Observed this
issue during the integration of NFV's NIC partitioning
feature, in which system upgrade hangs on SR-IOV
cleanup step.

Used `wait $PID` to handle the states of all child
processes and wait for all to complete. Exit with error
if anyone of the childs exited with error.

Change-Id: I084f3b974e37c9f5a4d720747e408645deb50995
(cherry picked from commit 9ab549df7de36e43923b5d2ed43fdb3961872489)
"
openstack%2Fansible-role-collect-logs~master~I6e1f80a7ecea65f42479376ce1a53c519f56bd68,openstack/ansible-role-collect-logs,master,ffs,I6e1f80a7ecea65f42479376ce1a53c519f56bd68,Reinstate functional testing,MERGED,2021-01-22 12:14:38.000000000,2021-01-23 10:09:07.000000000,2021-01-23 10:09:07.000000000,6,1,0,771966,0ab1c4196e19b884c9bea8ae11ef83ab2e2f6fc7,13,5,2,1,24162,Sorin Sbârnea,ssbarnea,"Reinstate functional testing

None of our molecule tests were running but the job was executed.

This includes a fail-safe guard that should prevent such accidents
in the future. This assures the expected number of tests passed.

Change-Id: I6e1f80a7ecea65f42479376ce1a53c519f56bd68
"
openstack%2Ftripleo-heat-templates~master~I1d99dccc3ad8c6550581e69d48c7e7b365d53c7a,openstack/tripleo-heat-templates,master,fix-bare-vars,I1d99dccc3ad8c6550581e69d48c7e7b365d53c7a,Fix swift bare variable warning,MERGED,2021-01-21 17:45:11.000000000,2021-01-23 10:08:49.000000000,2021-01-23 10:08:49.000000000,3,3,0,771866,48dc38f322689ab065d529a0d80ee6337e4afb4c,11,5,2,1,14985,Alex Schultz,mwhahaha,"Fix swift bare variable warning

[DEPRECATION WARNING]: evaluating 'swift_raw_disks' as a bare variable,
this behaviour will go away and you might need to add |bool to the
expression in the future. Also see CONDITIONAL_BARE_VARS configuration
toggle. This feature will be removed in version 2.12. Deprecation
warnings can be disabled by setting deprecation_warnings=False in
ansible.cfg.

Change-Id: I1d99dccc3ad8c6550581e69d48c7e7b365d53c7a
"
openstack%2Fkolla~stable%2Ftrain~I0c4d5e1ea16c6677813a334b38b3a22ad811531d,openstack/kolla,stable/train,,I0c4d5e1ea16c6677813a334b38b3a22ad811531d,CI: Use Docker proxy for pulls + Ruby fixes,MERGED,2021-01-16 15:03:55.000000000,2021-01-23 10:00:12.000000000,2021-01-23 09:58:45.000000000,22,2,0,770975,36126c08255fcf8a201167b5d63f23f6bfdeceec,25,5,7,3,30491,Radosław Piliszek,yoctozepto,"CI: Use Docker proxy for pulls + Ruby fixes

For Train (due to CentOS 7) includes as well:

- sensu-client: Pin simpleidn Ruby gem

  simpleidn Ruby gem started requiring Ruby 2.2.

- monasca-grafana: Pin git Ruby gem

  fpm Ruby gem started requiring git Ruby gem
  git Ruby gem started requiring Ruby 2.3

Change-Id: I0c4d5e1ea16c6677813a334b38b3a22ad811531d
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/772077
(cherry picked from commit a8c12def858b57349207cab5fa8dabb3c23bdfa0)
"
openstack%2Ftripleo-quickstart~master~I1f7e848cd81fa3d1d0798c0e90e7ceaf778e17da,openstack/tripleo-quickstart,master,bug/1906769,I1f7e848cd81fa3d1d0798c0e90e7ceaf778e17da,DNM Use ovn scratch build to test fix for ssh issue,ABANDONED,2020-12-21 11:28:52.000000000,2021-01-23 09:57:33.000000000,,4,0,1,768079,0fbf67c83d54a3aa09f9e68af5e735afee114e90,10,2,3,1,11975,Slawek Kaplonski,slaweq,"DNM Use ovn scratch build to test fix for ssh issue

Related-Bug: #1906769
Change-Id: I1f7e848cd81fa3d1d0798c0e90e7ceaf778e17da
"
openstack%2Fneutron-tempest-plugin~master~Ifc71b0e0abdb36c1620f4d35a1c4fb3bc355113b,openstack/neutron-tempest-plugin,master,bug/1906769,Ifc71b0e0abdb36c1620f4d35a1c4fb3bc355113b,DNM This is test for some tripleo failures,ABANDONED,2020-12-14 10:52:13.000000000,2021-01-23 09:56:43.000000000,,3,0,2,766927,020311032208d4becf5a8dc3e420261d7823392d,7,1,4,2,11975,Slawek Kaplonski,slaweq,"DNM This is test for some tripleo failures

Related-Bug: #1906769

Change-Id: Ifc71b0e0abdb36c1620f4d35a1c4fb3bc355113b
"
openstack%2Fkolla-ansible~stable%2Ftrain~I41ac1bbc49e35553a830a6b58fab26fb6453a9d4,openstack/kolla-ansible,stable/train,fix-alembic-sqlalchemy-for-ara-py2,I41ac1bbc49e35553a830a6b58fab26fb6453a9d4,CI: Pin alembic to avoid ARA failure,MERGED,2021-01-22 18:09:49.000000000,2021-01-23 09:32:55.000000000,2021-01-23 09:31:26.000000000,3,0,0,772077,9a333b1fad031530e46952dd1f2625800ddea284,10,3,2,1,30491,Radosław Piliszek,yoctozepto,"CI: Pin alembic to avoid ARA failure

alembic 1.5.0 dropped support for SQLAlchemy 1.2.
This patch pins alembic on Python 2 to avoid the failure.
It does not affect Python 3 where pip uses the new resolver.

Change-Id: I41ac1bbc49e35553a830a6b58fab26fb6453a9d4
"
openstack%2Foslo.cache~master~I75b20f8325df4110e0cf33a89a0d127a8db3fe46,openstack/oslo.cache,master,py38,I75b20f8325df4110e0cf33a89a0d127a8db3fe46,Bump py37 to py38 in tox.ini,ABANDONED,2021-01-16 04:12:11.000000000,2021-01-23 09:11:58.000000000,,2,1,0,771097,77bd82e460f4907279dde6b08f95c26dab482009,5,2,1,2,32029,likui,likui,"Bump py37 to py38 in tox.ini

In 'Wallaby' cycle, we should test py38 by default.
Remove python3.7 from setup.cfg, since Wallaby's python
supported runtimes are python 3.6 and python 3.8[1]:

[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html

Change-Id: I75b20f8325df4110e0cf33a89a0d127a8db3fe46
"
openstack%2Fpuppet-swift~stable%2Ftrain~If85df5dd8fd70329500db858dc81346e52640b47,openstack/puppet-swift,stable/train,swift3,If85df5dd8fd70329500db858dc81346e52640b47,Remove unused swift3 middleware,ABANDONED,2020-04-28 07:09:26.000000000,2021-01-23 07:15:18.000000000,,7,62,0,723818,869d6980b8db08914ecf2c87bbe2ae47b1d24a26,7,3,2,5,26721,Rocky,Rocky,"Remove unused swift3 middleware

Change-Id: If85df5dd8fd70329500db858dc81346e52640b47
(cherry picked from commit 8e4a40b67eb5cd511affcef5da5b46300c51351e)
"
openstack%2Fpuppet-swift~master~If85df5dd8fd70329500db858dc81346e52640b47,openstack/puppet-swift,master,swift3,If85df5dd8fd70329500db858dc81346e52640b47,Remove unused swift3 middleware,ABANDONED,2020-04-28 07:01:06.000000000,2021-01-23 07:13:29.000000000,,7,62,1,723816,8e4a40b67eb5cd511affcef5da5b46300c51351e,11,4,2,5,26721,Rocky,Rocky,"Remove unused swift3 middleware

Change-Id: If85df5dd8fd70329500db858dc81346e52640b47
"
openstack%2Fansible-role-container-registry~master~I1e31af24a4c1b9356a5971c6c1cb717d39d1e9b2,openstack/ansible-role-container-registry,master,cap-ansible,I1e31af24a4c1b9356a5971c6c1cb717d39d1e9b2,Stop using handlers,MERGED,2021-01-11 16:32:13.000000000,2021-01-23 04:29:51.000000000,2021-01-23 04:29:51.000000000,73,24,6,770148,dc3a577652b2ecc39866bfba5f123a0510cc2502,40,5,10,3,14985,Alex Schultz,mwhahaha,"Stop using handlers

With the switch to tripleo_free in stable/train, we can no longer
reliably use handlers.  That being said, handlers don't make sense when
you are forcing them to run with a flush handlers anyway. So this change
takes the code we used in the handler and makes them explicit tasks in
the required locations where we used to do a flush handlers.  This
change should also improve the scope of some tasks to only occur when
necessary.

Change-Id: I1e31af24a4c1b9356a5971c6c1cb717d39d1e9b2
Closes-Bug: #1909750
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I85599dbb985a9d45e2e7587170c39aa2940ca939,openstack/tripleo-heat-templates,stable/ussuri,,I85599dbb985a9d45e2e7587170c39aa2940ca939,Filter computes with nova_host defined,MERGED,2020-11-11 03:12:44.000000000,2021-01-23 04:14:46.000000000,2021-01-23 04:14:46.000000000,1,1,0,762275,15a196e79f7cff7fb219c7bb9e26c790e1e8717b,26,6,1,1,8833,Rabi Mishra,rabi,"Filter computes with nova_host defined

When adding hosts to aggregates/availability zones, use the nodes
that have nova_host defined. This would exclude blacklisted nodes.

Change-Id: I85599dbb985a9d45e2e7587170c39aa2940ca939
(cherry picked from commit 00a22232fc3fc4c16f4c4cea820f76b47ad744a4)
"
openstack%2Fpuppet-tripleo~master~Ie9ba1a6e199d96293006939d0f7ced787d418b47,openstack/puppet-tripleo,master,,Ie9ba1a6e199d96293006939d0f7ced787d418b47,Bump metadata for wallaby-2 release,MERGED,2021-01-21 15:30:56.000000000,2021-01-23 04:14:27.000000000,2021-01-23 04:14:27.000000000,1,1,1,771829,9692df80053a6f6fa2a2d4606a3a133a03eece37,11,4,2,1,8449,Marios Andreou,marios,"Bump metadata for wallaby-2 release

Bumping major to 14 since this is the first wallaby series
release. Needed by [1]

[1] I42b1e3cfa9e22e1a6c483c6c4c96a97a8957872b

Change-Id: Ie9ba1a6e199d96293006939d0f7ced787d418b47
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I56b5792c1d53bb8659e440f598006e471894ff2e,openstack/tripleo-heat-templates,stable/train,cinder-volume-edge,I56b5792c1d53bb8659e440f598006e471894ff2e,Define a new CinderVolumeEdge service,MERGED,2021-01-05 03:19:07.000000000,2021-01-23 04:14:18.000000000,2021-01-23 04:14:18.000000000,6,3,0,769240,d539906eef25802059c87a65dbe3f3d0a5635aa9,26,4,2,5,21129,Alan Bishop,ASBishop,"Define a new CinderVolumeEdge service

CinderVolumeEdge is an optional service (defaults to OS::Heat::None)
that can be enabled on DCN/Edge nodes for edge sites that support
persistent block storage (i.e. cinder). The dcn-hci.yaml environment
file enables the service.

The new service supports the following edge deployment models:
1. Edge site with no block storage
   - Deploy DistributedCompute nodes
   - Use dcn.yaml environment file (the CinderVolumeEdge service
     remains disabled)
2. Edge site with traditional HCI storage
   - Deploy DistributedComputeHCI nodes
   - Use dcn-hci.yaml env file to enable the CinderVolumeEdge service
   - Use ceph-ansible.yaml env file to deploy ceph for the RBD backend
3. Edge site with quasi-hyperconverged storage
   - Deploy DistributedCompute nodes
   - Use dcn-hci.yaml env file to enable the CinderVolumeEdge service
   - Use ceph-ansible-external.yaml env file so the RBD backend can
     access an external ceph cluster

This patch adds support for number 3, which is a new capability. Whereas
traditional HCI means ceph and cinder services run on compute nodes, the
new model is still quasi-hyperconverged because cinder (as well as
glance) runs on the compute nodes.

Change-Id: I56b5792c1d53bb8659e440f598006e471894ff2e
(cherry picked from commit 2d60799c49b4b153f59c19c766cf8c6e06312cd2)
(cherry picked from commit 8e316d7f1b033fcb32dee399d1ed360101e9a00e)
(cherry picked from commit 3b9e1dad6622fb085bce5aa72ac1271256501a99)
"
openstack%2Flogstash-filters~master~I6fb5dcc0cbeaa10aa73f00b6c2418a49fa3ef4a3,openstack/logstash-filters,master,syslog-traceback-multiline,I6fb5dcc0cbeaa10aa73f00b6c2418a49fa3ef4a3,Add multiline filtering for journald based tracebacks,NEW,2021-01-23 03:36:26.000000000,2021-01-23 03:59:03.000000000,,22,0,0,772145,794f93372f77586ab86577badfbe1dd47c2abff7,3,2,1,1,4690,melanie witt,melwitt,"Add multiline filtering for journald based tracebacks

The format of the logs changed when we moved to journald based logs,
so we need to define new multiline filtering patterns to tell logstash
which log lines to fold together with the new format.

Folding multiple lines into single events will allow us to perform
more robust logstash queries of the form:

  message:""in <function>"" AND message:""<exception name>""

Change-Id: I6fb5dcc0cbeaa10aa73f00b6c2418a49fa3ef4a3
"
openstack%2Fnova~master~Ib5d9da46b1a0e467b968e3ec3e61125e06f99bfc,openstack/nova,master,filter-glance-admin-props,Ib5d9da46b1a0e467b968e3ec3e61125e06f99bfc,Do not inherit os_glance properties on snapshot,MERGED,2021-01-18 15:31:17.000000000,2021-01-23 03:54:08.000000000,2021-01-23 03:52:36.000000000,12,0,0,771234,dda179d3f901e4f23091f3095f1af58bc26e222e,48,5,1,2,4393,Dan Smith,danms,"Do not inherit os_glance properties on snapshot

Glance uses properties like os_glance_importing_to_stores for internal
purposes. These should never be copied to a snapshot by nova. Further,
Glance would like to disallow setting these properties by namespace
entirely in the future.

This patch adds namespace support to our existing list of static
properties which are non-inheritable.

Change-Id: Ib5d9da46b1a0e467b968e3ec3e61125e06f99bfc
"
openstack%2Fpuppet-swift~master~Ie80137a592c413fce43e6d9d5b72c416d5f98673,openstack/puppet-swift,master,prep-release-wallaby-m2,Ie80137a592c413fce43e6d9d5b72c416d5f98673,Prepare Wallaby M2,MERGED,2021-01-19 03:21:36.000000000,2021-01-23 02:48:41.000000000,2021-01-23 02:48:41.000000000,3,3,0,771328,a0c98dfc901d0b25b56ff4c06fee651245d10eef,11,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Ie80137a592c413fce43e6d9d5b72c416d5f98673
"
openstack%2Fpuppet-glare~master~I4450d401874a5da46351cb2f6f18ac1ff34b148a,openstack/puppet-glare,master,prep-release-wallaby-m2,I4450d401874a5da46351cb2f6f18ac1ff34b148a,Prepare Wallaby M2,MERGED,2021-01-19 03:22:00.000000000,2021-01-23 02:35:15.000000000,2021-01-23 02:35:15.000000000,4,4,0,771331,bf947a6749c659704736339de02801182c6a7b43,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I4450d401874a5da46351cb2f6f18ac1ff34b148a
"
openstack%2Fsushy~stable%2Fvictoria~I3f2d89ec88c65856e3dca391ff3ba17644331e77,openstack/sushy,stable/victoria,more_logs,I3f2d89ec88c65856e3dca391ff3ba17644331e77,Catch errors when retriving severe index,ABANDONED,2021-01-08 15:56:06.000000000,2021-01-23 02:34:53.000000000,,23,2,9,769950,7d5f7a2576dde6e94f8c48849424cf69e63462a7,15,3,3,2,15519,Iury Gregory Melo Ferreira,iurygregory,"Catch errors when retriving severe index

In some cases it may not be possible to get
the severe index, this patch adds a try/except
that will help to debug why the issue happened.

Change-Id: I3f2d89ec88c65856e3dca391ff3ba17644331e77
"
openstack%2Fpuppet-sahara~master~Ib70496041283fb958b721a05cc05d499027e34cd,openstack/puppet-sahara,master,prep-release-wallaby-m2,Ib70496041283fb958b721a05cc05d499027e34cd,Prepare Wallaby M2,MERGED,2021-01-19 03:22:24.000000000,2021-01-23 02:34:01.000000000,2021-01-23 02:34:01.000000000,4,4,0,771337,c3660ea06712e41c62bc4aaa1222bd55637820b3,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Ib70496041283fb958b721a05cc05d499027e34cd
"
openstack%2Fpuppet-cinder~master~Ifbc5d143a9f9ff8826cc25caa14cd5e41ab88f86,openstack/puppet-cinder,master,prep-release-wallaby-m2,Ifbc5d143a9f9ff8826cc25caa14cd5e41ab88f86,Prepare Wallaby M2,MERGED,2021-01-19 03:20:29.000000000,2021-01-23 02:33:24.000000000,2021-01-23 02:33:24.000000000,4,4,0,771316,d024bf909d6aa479e041c0fcd89f9ddc8531b848,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Ifbc5d143a9f9ff8826cc25caa14cd5e41ab88f86
"
openstack%2Fpuppet-rally~master~I95bb94c5d2aae177e9c9c764c706569398ee6969,openstack/puppet-rally,master,prep-release-wallaby-m2,I95bb94c5d2aae177e9c9c764c706569398ee6969,Prepare Wallaby M2,MERGED,2021-01-19 03:20:25.000000000,2021-01-23 02:32:49.000000000,2021-01-23 02:32:49.000000000,3,3,0,771313,1b806a0250fcc6747ef983a7ca985a710e3454d4,6,2,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I95bb94c5d2aae177e9c9c764c706569398ee6969
"
openstack%2Fpuppet-openstack_extras~master~I9af7d597162c3d525af79a2692d57d3c5af67171,openstack/puppet-openstack_extras,master,prep-release-wallaby-m2,I9af7d597162c3d525af79a2692d57d3c5af67171,Prepare Wallaby M2,MERGED,2021-01-19 03:20:42.000000000,2021-01-23 02:32:33.000000000,2021-01-23 02:32:33.000000000,1,1,0,771318,ecd46284c365357118f4ba4f9f42907bf89824d2,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I9af7d597162c3d525af79a2692d57d3c5af67171
"
openstack%2Fpuppet-horizon~master~Ie0db41c7a7bb7d7418ba9fe1be7f5e8a6960a54b,openstack/puppet-horizon,master,prep-release-wallaby-m2,Ie0db41c7a7bb7d7418ba9fe1be7f5e8a6960a54b,Prepare Wallaby M2,MERGED,2021-01-19 03:22:02.000000000,2021-01-23 02:32:19.000000000,2021-01-23 02:32:19.000000000,2,2,0,771332,4a4272f746e717433bdf45ab24dffe98e41454ef,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Ie0db41c7a7bb7d7418ba9fe1be7f5e8a6960a54b
"
openstack%2Fpuppet-cloudkitty~master~I0c74bc650930c3d3122752ae9e98aa66cbfab954,openstack/puppet-cloudkitty,master,prep-release-wallaby-m2,I0c74bc650930c3d3122752ae9e98aa66cbfab954,Prepare Wallaby M2,MERGED,2021-01-19 03:20:20.000000000,2021-01-23 02:31:36.000000000,2021-01-23 02:31:36.000000000,4,4,0,771300,bee6d42b45d90914670e6595a90cbcf9e2edc986,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I0c74bc650930c3d3122752ae9e98aa66cbfab954
"
openstack%2Fpuppet-senlin~master~I427f9a2f4db53ac794045ba89fc7f01b2dd7e983,openstack/puppet-senlin,master,prep-release-wallaby-m2,I427f9a2f4db53ac794045ba89fc7f01b2dd7e983,Prepare Wallaby M2,MERGED,2021-01-19 03:20:34.000000000,2021-01-23 02:31:20.000000000,2021-01-23 02:31:20.000000000,4,4,0,771317,490af73d555d8faf36e47bdc684b6d30d10f24f5,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I427f9a2f4db53ac794045ba89fc7f01b2dd7e983
"
openstack%2Fpuppet-openstacklib~master~I8fd5b2b1426ba2ef1dd841ed4dfba460727cbb80,openstack/puppet-openstacklib,master,prep-release-wallaby-m2,I8fd5b2b1426ba2ef1dd841ed4dfba460727cbb80,Prepare Wallaby M2,MERGED,2021-01-19 03:20:21.000000000,2021-01-23 02:31:03.000000000,2021-01-23 02:31:03.000000000,1,1,0,771304,f8c74c7681a585df544a4d52863ea7b3645d7849,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I8fd5b2b1426ba2ef1dd841ed4dfba460727cbb80
"
openstack%2Fpuppet-vswitch~master~I7df9304955b47370ce185410936b364ce2c34004,openstack/puppet-vswitch,master,prep-release-wallaby-m2,I7df9304955b47370ce185410936b364ce2c34004,Prepare Wallaby M2,MERGED,2021-01-19 03:22:05.000000000,2021-01-23 02:30:49.000000000,2021-01-23 02:30:49.000000000,1,1,0,771333,352a0d3ad5de0a11a7a100140fbdc58ef98d30bc,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I7df9304955b47370ce185410936b364ce2c34004
"
openstack%2Fpuppet-panko~master~I8c430248a6e4036be935bb9510fe6e10beeb5ec3,openstack/puppet-panko,master,prep-release-wallaby-m2,I8c430248a6e4036be935bb9510fe6e10beeb5ec3,Prepare Wallaby M2,MERGED,2021-01-19 03:21:16.000000000,2021-01-23 02:30:45.000000000,2021-01-23 02:30:45.000000000,4,4,0,771324,47b3fac0e7dd8e3fe3d1154d15f7fde479636a61,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I8c430248a6e4036be935bb9510fe6e10beeb5ec3
"
openstack%2Fpuppet-watcher~master~Ib9245f9d1acaafd3e28e727f573cc2fc8ec1c63a,openstack/puppet-watcher,master,prep-release-wallaby-m2,Ib9245f9d1acaafd3e28e727f573cc2fc8ec1c63a,Prepare Wallaby M2,MERGED,2021-01-19 03:20:25.000000000,2021-01-23 02:30:41.000000000,2021-01-23 02:30:41.000000000,3,3,0,771312,8015ae602aff7da93d63ae615df8623271d23ad2,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Ib9245f9d1acaafd3e28e727f573cc2fc8ec1c63a
"
openstack%2Fpuppet-aodh~master~Ic1c5ecdee0182829b3acb641a52c7d33f0cf1407,openstack/puppet-aodh,master,prep-release-wallaby-m2,Ic1c5ecdee0182829b3acb641a52c7d33f0cf1407,Prepare Wallaby M2,MERGED,2021-01-19 03:22:19.000000000,2021-01-23 02:30:24.000000000,2021-01-23 02:30:24.000000000,4,4,0,771335,3a9e594ad7ff2fd85675a72ddc6f96b4ca45a90a,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Ic1c5ecdee0182829b3acb641a52c7d33f0cf1407
"
openstack%2Fpuppet-freezer~master~Id292a0a7ae292c20134898aa81e1bb18b066e933,openstack/puppet-freezer,master,prep-release-wallaby-m2,Id292a0a7ae292c20134898aa81e1bb18b066e933,Prepare Wallaby M2,MERGED,2021-01-19 03:21:25.000000000,2021-01-23 02:30:17.000000000,2021-01-23 02:30:17.000000000,4,4,0,771326,dace20c9407a70c1aa3d050e22bb0430e6780305,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Id292a0a7ae292c20134898aa81e1bb18b066e933
"
openstack%2Fpuppet-ironic~master~Ic5f1f7a9a9698013a93e9946a26b78d1efbcfe4a,openstack/puppet-ironic,master,prep-release-wallaby-m2,Ic5f1f7a9a9698013a93e9946a26b78d1efbcfe4a,Prepare Wallaby M2,MERGED,2021-01-19 03:20:53.000000000,2021-01-23 02:30:07.000000000,2021-01-23 02:30:07.000000000,4,4,0,771320,c68470678a2684d4b47c4a5058f98e17ce12046b,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Ic5f1f7a9a9698013a93e9946a26b78d1efbcfe4a
"
openstack%2Fpuppet-mistral~master~Ie9e3bee2ce38925f7b94c0e9094b2c60bf444bec,openstack/puppet-mistral,master,prep-release-wallaby-m2,Ie9e3bee2ce38925f7b94c0e9094b2c60bf444bec,Prepare Wallaby M2,MERGED,2021-01-19 03:21:31.000000000,2021-01-23 02:29:43.000000000,2021-01-23 02:29:43.000000000,4,4,0,771327,b0589d88b0c5bf0e636d5c48e4f9c3ddd46a540d,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Ie9e3bee2ce38925f7b94c0e9094b2c60bf444bec
"
openstack%2Fpuppet-glance~master~I26fa0c05409b57378d16945adbf277d112f30829,openstack/puppet-glance,master,prep-release-wallaby-m2,I26fa0c05409b57378d16945adbf277d112f30829,Prepare Wallaby M2,MERGED,2021-01-19 03:22:24.000000000,2021-01-23 02:29:29.000000000,2021-01-23 02:29:29.000000000,5,5,0,771338,9f99b918f19ddef66015f3377d7d39cd228de6ce,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I26fa0c05409b57378d16945adbf277d112f30829
"
openstack%2Fpuppet-ceilometer~master~I9662290ac2b88393b28c31f8c95a32927040a7ab,openstack/puppet-ceilometer,master,prep-release-wallaby-m2,I9662290ac2b88393b28c31f8c95a32927040a7ab,Prepare Wallaby M2,MERGED,2021-01-19 03:21:48.000000000,2021-01-23 02:28:53.000000000,2021-01-23 02:28:53.000000000,4,4,0,771330,621b9062f82cd0c4ee9e0071136723a2469fb243,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I9662290ac2b88393b28c31f8c95a32927040a7ab
"
openstack%2Fpuppet-manila~master~I735159b32109ea0f81a4712c7f639ef66303f061,openstack/puppet-manila,master,prep-release-wallaby-m2,I735159b32109ea0f81a4712c7f639ef66303f061,Prepare Wallaby M2,MERGED,2021-01-19 03:22:19.000000000,2021-01-23 02:28:49.000000000,2021-01-23 02:28:49.000000000,5,5,0,771336,eed9bbd8ef720bdecda522007ea39a8c7654b382,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I735159b32109ea0f81a4712c7f639ef66303f061
"
openstack%2Fpuppet-trove~master~I73735f0d6347ad839b0fc1fe0c00d3afa4effbb7,openstack/puppet-trove,master,prep-release-wallaby-m2,I73735f0d6347ad839b0fc1fe0c00d3afa4effbb7,Prepare Wallaby M2,MERGED,2021-01-19 03:20:27.000000000,2021-01-23 02:28:35.000000000,2021-01-23 02:28:35.000000000,4,4,0,771315,68f32eb70a65e12b4f0e07d49165433b7e42f913,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I73735f0d6347ad839b0fc1fe0c00d3afa4effbb7
"
openstack%2Fpuppet-barbican~master~Ic46f19f9e8e05ed2c5d45453b1352cc5bdfc24f0,openstack/puppet-barbican,master,prep-release-wallaby-m2,Ic46f19f9e8e05ed2c5d45453b1352cc5bdfc24f0,Prepare Wallaby M2,MERGED,2021-01-19 03:21:42.000000000,2021-01-23 02:28:31.000000000,2021-01-23 02:28:31.000000000,4,4,0,771329,de19fdedf7611bf86ab8fc9fe53bcec3cc33e1ac,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Ic46f19f9e8e05ed2c5d45453b1352cc5bdfc24f0
"
openstack%2Fpuppet-tempest~master~I712bd2ed5be6e6d567a0b98c66e0618d95034901,openstack/puppet-tempest,master,prep-release-wallaby-m2,I712bd2ed5be6e6d567a0b98c66e0618d95034901,Prepare Wallaby M2,MERGED,2021-01-19 03:22:08.000000000,2021-01-23 02:28:17.000000000,2021-01-23 02:28:17.000000000,3,3,0,771334,38eb425412a4004f7625f9f22ab329bd8ede9d9c,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I712bd2ed5be6e6d567a0b98c66e0618d95034901
"
openstack%2Fpuppet-neutron~master~Ic30818837c942ab61afd4742449aa9867149d50c,openstack/puppet-neutron,master,prep-release-wallaby-m2,Ic30818837c942ab61afd4742449aa9867149d50c,Prepare Wallaby M2,MERGED,2021-01-19 03:22:27.000000000,2021-01-23 02:28:10.000000000,2021-01-23 02:28:10.000000000,5,5,0,771339,c844e4bea4e48991ed8aeadb503e89ebd18d84a8,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Ic30818837c942ab61afd4742449aa9867149d50c
"
openstack%2Fpuppet-ovn~master~I1663ccf0bdacd5cb50583a78a5b13a9e818fa43c,openstack/puppet-ovn,master,prep-release-wallaby-m2,I1663ccf0bdacd5cb50583a78a5b13a9e818fa43c,Prepare Wallaby M2,MERGED,2021-01-19 03:20:47.000000000,2021-01-23 02:28:02.000000000,2021-01-23 02:28:02.000000000,3,3,0,771319,3aa6ee0de90a2e5e7f57224c8ea5a641967fba86,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I1663ccf0bdacd5cb50583a78a5b13a9e818fa43c
"
openstack%2Fpuppet-ec2api~master~I3f8985d7aa310229e958a436bf3a6969f23a8082,openstack/puppet-ec2api,master,prep-release-wallaby-m2,I3f8985d7aa310229e958a436bf3a6969f23a8082,Prepare Wallaby M2,MERGED,2021-01-19 03:21:23.000000000,2021-01-23 02:27:47.000000000,2021-01-23 02:27:47.000000000,4,4,0,771325,2d2c4b6599dd1ae1fc2e43e8e91f01df23ee8c2c,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I3f8985d7aa310229e958a436bf3a6969f23a8082
"
openstack%2Fpuppet-monasca~master~Id223c152c5d3cd9c545484c33d14bbf3386e0199,openstack/puppet-monasca,master,prep-release-wallaby-m2,Id223c152c5d3cd9c545484c33d14bbf3386e0199,Prepare Wallaby M2,MERGED,2021-01-19 03:20:21.000000000,2021-01-23 02:27:44.000000000,2021-01-23 02:27:44.000000000,3,3,0,771305,00b5658c9dad4d7d866069d4969799a7bded22ce,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Id223c152c5d3cd9c545484c33d14bbf3386e0199
"
openstack%2Fpuppet-nova~master~Iffbf4227b63542b89a94b50f68c2dd46918f700b,openstack/puppet-nova,master,prep-release-wallaby-m2,Iffbf4227b63542b89a94b50f68c2dd46918f700b,Prepare Wallaby M2,MERGED,2021-01-19 03:21:08.000000000,2021-01-23 02:26:51.000000000,2021-01-23 02:26:51.000000000,6,6,0,771322,e16ef8f32e7b236c9e57ec23199839c61c244945,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Iffbf4227b63542b89a94b50f68c2dd46918f700b
"
openstack%2Fpuppet-qdr~master~I8c18d419452e81af3dc82a8a09202fea0adec2ba,openstack/puppet-qdr,master,prep-release-wallaby-m2,I8c18d419452e81af3dc82a8a09202fea0adec2ba,Prepare Wallaby M2,MERGED,2021-01-19 03:20:21.000000000,2021-01-23 02:26:47.000000000,2021-01-23 02:26:47.000000000,1,1,0,771303,5c6da3e066d53a9fa73537c54a1ad6c123e7589c,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I8c18d419452e81af3dc82a8a09202fea0adec2ba
"
openstack%2Fpuppet-keystone~master~Ia3838dfb55fdb914aec32767bc4003a2acdd9c13,openstack/puppet-keystone,master,prep-release-wallaby-m2,Ia3838dfb55fdb914aec32767bc4003a2acdd9c13,Prepare Wallaby M2,MERGED,2021-01-19 03:20:19.000000000,2021-01-23 02:26:42.000000000,2021-01-23 02:26:42.000000000,3,3,0,771299,4a31e7917f2e0b2b3b7f13447c3cd4618220c1ed,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Ia3838dfb55fdb914aec32767bc4003a2acdd9c13
"
openstack%2Fpuppet-designate~master~Ib06bb5d1a11ca3642a122c0ee6d93e2cb5ca9715,openstack/puppet-designate,master,prep-release-wallaby-m2,Ib06bb5d1a11ca3642a122c0ee6d93e2cb5ca9715,Prepare Wallaby M2,MERGED,2021-01-19 03:20:22.000000000,2021-01-23 02:25:30.000000000,2021-01-23 02:25:30.000000000,4,4,0,771306,03afe4fe4769036cc4fc356af879cfdc2d9bf820,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Ib06bb5d1a11ca3642a122c0ee6d93e2cb5ca9715
"
openstack%2Fpuppet-vitrage~master~Ia3e056c28e2fbed4759193e34ed3a85777769223,openstack/puppet-vitrage,master,prep-release-wallaby-m2,Ia3e056c28e2fbed4759193e34ed3a85777769223,Prepare Wallaby M2,MERGED,2021-01-19 03:20:23.000000000,2021-01-23 02:25:17.000000000,2021-01-23 02:25:17.000000000,4,4,0,771307,424864bc34d516ec075886b40b92d343ae0487d0,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Ia3e056c28e2fbed4759193e34ed3a85777769223
"
openstack%2Fpuppet-murano~master~Idc2fe9c79404e279fabf08bc47f36f9102006581,openstack/puppet-murano,master,prep-release-wallaby-m2,Idc2fe9c79404e279fabf08bc47f36f9102006581,Prepare Wallaby M2,MERGED,2021-01-19 03:20:25.000000000,2021-01-23 02:25:13.000000000,2021-01-23 02:25:13.000000000,4,4,0,771311,066cd2e58368d90a7a07a3052b98b84680516812,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Idc2fe9c79404e279fabf08bc47f36f9102006581
"
openstack%2Fpuppet-octavia~master~I74e543532f22f8dcdcdd664649f5ac032f58b4c6,openstack/puppet-octavia,master,prep-release-wallaby-m2,I74e543532f22f8dcdcdd664649f5ac032f58b4c6,Prepare Wallaby M2,MERGED,2021-01-19 03:21:00.000000000,2021-01-23 02:25:08.000000000,2021-01-23 02:25:08.000000000,5,5,0,771321,aecfe7006c7dd01f9717d808ba22eb2c710dba5f,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I74e543532f22f8dcdcdd664649f5ac032f58b4c6
"
openstack%2Fpuppet-tacker~master~I4f98af134c2e0b4a55f0a4b3f512d9fd24e2ef2e,openstack/puppet-tacker,master,prep-release-wallaby-m2,I4f98af134c2e0b4a55f0a4b3f512d9fd24e2ef2e,Prepare Wallaby M2,MERGED,2021-01-19 03:20:24.000000000,2021-01-23 02:24:20.000000000,2021-01-23 02:24:20.000000000,4,4,0,771309,2d27e156f9621d3636a57956e66d24d37b2fb29e,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I4f98af134c2e0b4a55f0a4b3f512d9fd24e2ef2e
"
openstack%2Fpuppet-placement~master~I8e27a24442bed3cdd973cf99b680a71b4939cb2b,openstack/puppet-placement,master,prep-release-wallaby-m2,I8e27a24442bed3cdd973cf99b680a71b4939cb2b,Prepare Wallaby M2,MERGED,2021-01-19 03:20:21.000000000,2021-01-23 02:24:05.000000000,2021-01-23 02:24:05.000000000,4,4,0,771302,f005cde8322d70d1120d9519966fb3930f5b3e85,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I8e27a24442bed3cdd973cf99b680a71b4939cb2b
"
openstack%2Fpuppet-magnum~master~I0074da974a29ec522ac58300254a3bf415ccb93b,openstack/puppet-magnum,master,prep-release-wallaby-m2,I0074da974a29ec522ac58300254a3bf415ccb93b,Prepare Wallaby M2,MERGED,2021-01-19 03:20:25.000000000,2021-01-23 02:23:08.000000000,2021-01-23 02:23:08.000000000,4,4,0,771310,c4cb4a12a828e8e582a963c9d2f317b7a9fa815e,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I0074da974a29ec522ac58300254a3bf415ccb93b
"
openstack%2Fpuppet-gnocchi~master~If9005d11ca33a7465332083161e41647bf3aa346,openstack/puppet-gnocchi,master,prep-release-wallaby-m2,If9005d11ca33a7465332083161e41647bf3aa346,Prepare Wallaby M2,MERGED,2021-01-19 03:20:21.000000000,2021-01-23 02:22:46.000000000,2021-01-23 02:22:46.000000000,4,4,0,771301,c58e9ed23a5d7d2d414e3ca17bd5ac0c4949841f,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: If9005d11ca33a7465332083161e41647bf3aa346
"
openstack%2Fpuppet-zaqar~master~I1f6df0e69a00359bb712d47233cec299c0fa0389,openstack/puppet-zaqar,master,prep-release-wallaby-m2,I1f6df0e69a00359bb712d47233cec299c0fa0389,Prepare Wallaby M2,MERGED,2021-01-19 03:20:24.000000000,2021-01-23 02:21:52.000000000,2021-01-23 02:21:52.000000000,4,4,0,771308,0056ac9dc1442da7599210c786fa478fb95f6461,7,3,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: I1f6df0e69a00359bb712d47233cec299c0fa0389
"
openstack%2Fpuppet-heat~master~Icee2db9baa6110b075708232a06c2cfd11971c0e,openstack/puppet-heat,master,prep-release-wallaby-m2,Icee2db9baa6110b075708232a06c2cfd11971c0e,Prepare Wallaby M2,MERGED,2021-01-19 03:20:26.000000000,2021-01-23 02:21:44.000000000,2021-01-23 02:21:44.000000000,4,4,0,771314,8aa892a54c9ea7f713a542eb2c8fe3234524b9e4,7,4,1,1,9414,zhongshengping,ZhongShengping,"Prepare Wallaby M2

Update the version metadata for Wallaby milestone M2

Change-Id: Icee2db9baa6110b075708232a06c2cfd11971c0e
"
openstack%2Fpuppet-nova~stable%2Fqueens~I29a4d7698c52383be1e0ff1fdb6d350e44b4f151,openstack/puppet-nova,stable/queens,barbican-opts,I29a4d7698c52383be1e0ff1fdb6d350e44b4f151,Create an independent class for Barbican options,ABANDONED,2021-01-23 02:10:48.000000000,2021-01-23 02:18:39.000000000,,147,41,0,772140,cdf62f22abb948bda13f04bbe9a2915d25e2aea9,3,0,2,5,9816,Takashi Kajinami,kajinamit,"Create an independent class for Barbican options

This change introduces the new nova::barbican class. This class can
be used to maintain options under [barbican] section, which are
implemented in the barbican key manager of the castellan library.

Change-Id: I29a4d7698c52383be1e0ff1fdb6d350e44b4f151
"
openstack%2Fdevstack~master~Icfaaefe1aa576733764b393cba96d276c9b1cf68,openstack/devstack,master,fix-tempest-pip,Icfaaefe1aa576733764b393cba96d276c9b1cf68,Also cap pip in tempest tox venv,MERGED,2021-01-13 19:32:17.000000000,2021-01-23 01:20:55.000000000,2021-01-23 01:19:20.000000000,3,0,0,770662,bcd0acf6c0b5d6501e91133c3a937b3fc40f7122,45,9,1,1,4393,Dan Smith,danms,"Also cap pip in tempest tox venv

I am still unable to stack because of pip 20.3, but this time
because of the tempest venv build. This forces it to the same
capped pip, which further works around the problem.

Change-Id: Icfaaefe1aa576733764b393cba96d276c9b1cf68
Related-Bug: #1906367
"
openstack%2Fneutron~stable%2Fstein~Iadc1671c862f8c01e5761e92b82a04849d4bb411,openstack/neutron,stable/stein,bug/1892405,Iadc1671c862f8c01e5761e92b82a04849d4bb411,Fix removal of dvr-src mac flows when non-gateway port on router is deleted,MERGED,2021-01-22 02:36:18.000000000,2021-01-23 01:16:32.000000000,2021-01-23 01:12:32.000000000,217,19,0,771906,35726e18e7e698378a33a5ff3f038fb3b6f0942e,10,5,1,2,10366,Hemanth N,Hemanth,"Fix removal of dvr-src mac flows when non-gateway port on router is deleted

Removal of non-gateway port on DVR router deletes all the DVR to
SRC mac flows for the instances of same subnet on that compute node.
The instances are not reachable from any other network.

This patch checks if the DVR router port is gateway for the subnet
or not. And deletes the DVR-SRC mac flows only if it is gateway port.
The DVR-SRC mac flows are deleted if the gateway is not set for the subnet.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py

arp_responder_enabled check added for the ARP flow rule.
The unit test case have arp_responder false by default, so adjusted
the br_int mock calls accordingly.

Change-Id: Iadc1671c862f8c01e5761e92b82a04849d4bb411
Closes-Bug: #1892405
(cherry picked from commit 329ea19f8b881421b9b5ae2fcc855f96af72a9f5)
(cherry picked from commit bf8fc2db0ca74631b60475103a4d3f543d052203)
"
openstack%2Ftripleo-upgrade~stable%2Fstein~Ibbadb4d18df073914087a07dceeed9215be343f6,openstack/tripleo-upgrade,stable/stein,tripleo-c7-update-upgrade-removal,Ibbadb4d18df073914087a07dceeed9215be343f6,Remove centos-7 upgrade and update jobs,MERGED,2021-01-22 09:15:48.000000000,2021-01-23 01:09:35.000000000,2021-01-23 01:09:35.000000000,0,4,0,771950,3b9cea523c112eafaf8d6215fbbe4efcde67810f,7,8,1,1,8449,Marios Andreou,marios,"Remove centos-7 upgrade and update jobs

See topic branch [1] for related patches

[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal

Change-Id: Ibbadb4d18df073914087a07dceeed9215be343f6
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~I517b630fa692cc778f385bc7f5658acfd4a438dd,openstack/tripleo-upgrade,stable/queens,tripleo-c7-update-upgrade-removal,I517b630fa692cc778f385bc7f5658acfd4a438dd,Remove centos-7 upgrade and update jobs,MERGED,2021-01-22 09:17:49.000000000,2021-01-23 01:09:12.000000000,2021-01-23 01:09:12.000000000,0,5,0,771952,54795225c2ba4b010e6c0f7f583df0743736b916,7,9,1,1,8449,Marios Andreou,marios,"Remove centos-7 upgrade and update jobs

See topic branch [1] for related patches

[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal

Change-Id: I517b630fa692cc778f385bc7f5658acfd4a438dd
"
openstack%2Ftripleo-upgrade~stable%2Frocky~I4fa38b96edf50c9c788c14cd72bd2035bec12b38,openstack/tripleo-upgrade,stable/rocky,tripleo-c7-update-upgrade-removal,I4fa38b96edf50c9c788c14cd72bd2035bec12b38,Remove centos-7 upgrade and update jobs,MERGED,2021-01-22 09:17:06.000000000,2021-01-23 01:09:06.000000000,2021-01-23 01:09:06.000000000,0,5,0,771951,0e6dd3639f8af45d52af31b6be1e269e2683c15e,7,9,1,1,8449,Marios Andreou,marios,"Remove centos-7 upgrade and update jobs

See topic branch [1] for related patches

[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal

Change-Id: I4fa38b96edf50c9c788c14cd72bd2035bec12b38
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ic1ece9e867c92009b1cb313c657956cc1dcd69ba,openstack/tripleo-upgrade,stable/train,tripleo-c7-update-upgrade-removal,Ic1ece9e867c92009b1cb313c657956cc1dcd69ba,Remove centos-7 upgrade and update jobs,MERGED,2021-01-22 09:15:00.000000000,2021-01-23 01:09:03.000000000,2021-01-23 01:09:03.000000000,0,15,0,771949,6def063ef03502d798aa06fd5604b827f0ecbd5b,10,8,1,1,8449,Marios Andreou,marios,"Remove centos-7 upgrade and update jobs

See topic branch [1] for related patches

[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal

Change-Id: Ic1ece9e867c92009b1cb313c657956cc1dcd69ba
"
openstack%2Fcinder-tempest-plugin~master~I50d3b874b7e0676436c434be6c059f221041560f,openstack/cinder-tempest-plugin,master,bug/1912607,I50d3b874b7e0676436c434be6c059f221041560f,test_volume_encrypted: Stop creating an image for each instance,MERGED,2021-01-21 15:43:51.000000000,2021-01-23 01:02:25.000000000,2021-01-23 01:02:25.000000000,1,2,0,771835,3c96bfb431ec3fb0d5fa2bf68595e013e4ade822,13,4,1,1,10135,Lee Yarwood,lyarwood,"test_volume_encrypted: Stop creating an image for each instance

An independent image isn't required for these tests and additionally
isn't required when calling create_server as the lack of an image
results in CONF.compute.image_ref being used by
tempest.common.compute.create_test_server [1].

The creation of this image resulted in the nova-ceph-multistore job
breaking as documented in bug #1912607. This broke as we use the job to
provide both our core ceph coverage and slightly more edgey topologies
using Glance multistore and the [workarounds]/ workaround option. This
option blocking the download of rbd images via g-api when n-cpu can't
clone the rbd volumes directly, as caused by the image creation in
test_volume_encrypted.

Iaf6f6e0dbcb25561bf00e969e1964cd30e974e64 is currently skipping any
encryption test in the nova-ceph-multistore job to workaround bug
 #1912607 for the time being but we would obviously like to revert that
if possible and expand our coverage.

A follow up change will also propose adding nova-ceph-multistore to the
gate of this plugin to avoid future breakage.

Related-Bug: #1912607

[1] https://opendev.org/openstack/tempest/src/branch/master/tempest/common/compute.py#L108-L109

Change-Id: I50d3b874b7e0676436c434be6c059f221041560f
"
openstack%2Fpatrole~master~I67c009b658acbefcbe297155c52d53f26c8a07f6,openstack/patrole,master,,I67c009b658acbefcbe297155c52d53f26c8a07f6,Change mutilnode to voting gates,ABANDONED,2020-09-11 02:57:44.000000000,2021-01-23 00:56:05.000000000,,6,4,0,751157,0599373979a4e95b93946eec08cba90de631c452,105,14,9,1,17887,Doug Schveninger,Doug.Schveninger,"Change mutilnode to voting gates

The mutlinode job runs the slow test on a multinode
deployment.  Trying to make them a voting gate
so we can try to get all patrole test running all
of the time.

When tried to use default concurrency and saw random
timeouts and failure so we are keeping the concurrency to
1.

NOTES:

I recheck patch-set 6 time on top of the normal gate run
without any failures.

The end change was just to document the issue and make
multinode a voting gate.

Here is the history of the change of this patch set:

All test direction made all multinode gates voting
first try: plus default concurrency - I saw random
timeouts

second try: changed http timeout with default concurrency -
still had random failure from volume in error state and
timeout to get volume to correct state

thrid try: add concurrency back to 1 add 5 runs in a
row and they all worked

final try: remove http timeout and going to run
at least 5 rechecks to see if the issue was running
the slow test must happen with concurrency of 1

Change-Id: I67c009b658acbefcbe297155c52d53f26c8a07f6
"
openstack%2Fopenstack-helm-infra~master~I22c02af78b6ce979d0c70b420c106917b0fc5a4e,openstack/openstack-helm-infra,master,,I22c02af78b6ce979d0c70b420c106917b0fc5a4e,Add elasticsearch ILM functionality,MERGED,2021-01-13 19:47:38.000000000,2021-01-22 23:44:25.000000000,2021-01-22 23:43:07.000000000,32,2,0,770663,c1241918c2c34a97d08e3f7382fa1c51715e3891,22,6,6,5,32090,Graham Steffaniak,gs909v,"Add elasticsearch ILM functionality

Add functionality to delete indexes older than 14 days. ILM api
will handle deleting indexes.

Change-Id: I22c02af78b6ce979d0c70b420c106917b0fc5a4e
"
openstack%2Fopenstack-helm~master~Iff8681c697957e4711754fc20b07fa6b728eb584,openstack/openstack-helm,master,osh-reno,Iff8681c697957e4711754fc20b07fa6b728eb584,Add reno job to Openstack-Helm,MERGED,2021-01-06 22:23:56.000000000,2021-01-22 23:33:39.000000000,2021-01-22 23:29:23.000000000,164,0,3,769622,6ea15a7f9d17498a66ed746be53d648b7d5ec968,42,5,13,27,21420,Gage Hugo,ghugo,"Add reno job to Openstack-Helm

With OSH now publishing charts regularly with each change, there
needs to be a way to track these changes in order to track the
changes between chart versions.

This proposed change adds in a reno check job to publish notes
based from the changes to each chart by version as a way to
track and document all the changes that get made to OSH
and published to tarballs.o.o.

Change-Id: Iff8681c697957e4711754fc20b07fa6b728eb584
"
openstack%2Fmanila~master~Ie9849ed875b996cf33aeb296f258ec84c8b720ef,openstack/manila,master,bug1804667,Ie9849ed875b996cf33aeb296f258ec84c8b720ef,Adds missing caps for mgr in cephfs configuration,MERGED,2020-12-09 15:17:08.000000000,2021-01-22 23:17:14.000000000,2021-01-22 21:15:14.000000000,2,0,1,766239,ba3275e9baca8ea9575aa4abf8543447ab0dfee7,27,3,3,2,5575,Jose Castro Leon,jose-castro-leon,"Adds missing caps for mgr in cephfs configuration

Adds a missing cap to access mgr and be able to list subvolumegroups
and subvolumes in a cephfs volume

Change-Id: Ie9849ed875b996cf33aeb296f258ec84c8b720ef
Closes-Bug: #1907467
"
openstack%2Fcharm-neutron-openvswitch~master~I37d21fbaf951b1fe5bc03306b67012ac37b2e75b,openstack/charm-neutron-openvswitch,master,sync-for-21-01,I37d21fbaf951b1fe5bc03306b67012ac37b2e75b,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:25:32.000000000,2021-01-22 23:13:32.000000000,2021-01-22 23:13:32.000000000,4,1,0,771635,292876f387acffae28b35bcba8c5f205540aec75,18,4,2,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I37d21fbaf951b1fe5bc03306b67012ac37b2e75b
"
openstack%2Frequirements~master~Idabd9f6a071799b6900b7892e9b5d25dd4fc3500,openstack/requirements,master,openstack/requirements/constraints/noclob,Idabd9f6a071799b6900b7892e9b5d25dd4fc3500,Updated from generate-constraints,MERGED,2021-01-21 06:42:02.000000000,2021-01-22 22:58:44.000000000,2021-01-22 22:55:18.000000000,18,15,0,771753,b8a4c4f6e1454c9f26eab68fe70b9e5e01d8650f,26,2,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Idabd9f6a071799b6900b7892e9b5d25dd4fc3500
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Frpm-packaging~master~Iae1089f742fc47bbfff6ef3f1a40e7077bdfc002,openstack/rpm-packaging,master,add-sushy-tools,Iae1089f742fc47bbfff6ef3f1a40e7077bdfc002,Add sushy-tools project,MERGED,2021-01-11 09:49:11.000000000,2021-01-22 22:24:51.000000000,2021-01-22 22:24:51.000000000,137,0,9,770072,2afb49cd36b91cad76eec7aed336cc343316efd0,55,6,9,3,23851,Riccardo Pittau,elfosardo,"Add sushy-tools project

The sushy-tools project provides a set of tools to support the development
and test of the Sushy library, including a Redfish Emulator.

Change-Id: Iae1089f742fc47bbfff6ef3f1a40e7077bdfc002
"
openstack%2Fopenstack-zuul-jobs~master~I8b9a312bd5eb8b92e12307cd9b70371e7f62f4be,openstack/openstack-zuul-jobs,master,,I8b9a312bd5eb8b92e12307cd9b70371e7f62f4be,WIP: Generate SSH keys in PEM format,ABANDONED,2021-01-21 17:22:18.000000000,2021-01-22 21:54:18.000000000,,1,1,0,771858,5c27a2628d5c72dd4f199300bb6d185a083c2410,3,1,1,1,8864,Artom Lifshitz,artom,"WIP: Generate SSH keys in PEM format

PEM format is more widely supported.

Change-Id: I8b9a312bd5eb8b92e12307cd9b70371e7f62f4be
"
openstack%2Ftripleo-ci~master~I52cc54227f0f896713ef165903262e9c8be206a7,openstack/tripleo-ci,master,,I52cc54227f0f896713ef165903262e9c8be206a7,DNM: Generate PEM SSH private keys,ABANDONED,2021-01-21 15:26:51.000000000,2021-01-22 21:53:51.000000000,,1,1,0,771828,e6a2a369e364dffd3b9f0f1fd5b4bc0e6267ebcd,4,2,1,1,8864,Artom Lifshitz,artom,"DNM: Generate PEM SSH private keys

In [1] the whitebox-tempest-plugin is using the nodepool SSH private
key to access overcloud hosts. Paramiko doesn't support that key
format (probably related to [2]). This patch tries to generate keys in
PRM format to see if that fixes the whitebox issue. We'll figure out
how to do it ""officially"" once the concept has been proven out.

[1] https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/762866
[2] https://github.com/paramiko/paramiko/issues/1015

Change-Id: I52cc54227f0f896713ef165903262e9c8be206a7
"
openstack%2Fmanila-tempest-plugin~master~I15bfbf6e1ca604f2bf2fcf12dcd4e67bc728fe5e,openstack/manila-tempest-plugin,master,fix-more-ddtdata-randomness,I15bfbf6e1ca604f2bf2fcf12dcd4e67bc728fe5e,Remove further randomness when calling ddt.data(),MERGED,2021-01-15 15:51:50.000000000,2021-01-22 21:28:49.000000000,2021-01-22 21:15:10.000000000,3,3,2,770954,fe6e603e4dbcea2e9fd632ce983c7d69cc18dcd4,24,4,2,3,10459,Luigi Toscano,ltoscano,"Remove further randomness when calling ddt.data()

Avoid the usage of set to dedeplicate the lists and
instead use the specific utils.deduplicate function,
which preserves the original order.

This is a follow-up of: I9cbd26016238c25487ac8104c1188cd2cf4f467e

Change-Id: I15bfbf6e1ca604f2bf2fcf12dcd4e67bc728fe5e
"
openstack%2Fcinder~master~Ia7d2056e0a49032654812da74dac514dfac83529,openstack/cinder,master,bp/toyou-acs5000-driver,Ia7d2056e0a49032654812da74dac514dfac83529,Add Cinder driver for TOYOU ACS5000,MERGED,2020-12-16 09:48:03.000000000,2021-01-22 20:48:40.000000000,2021-01-22 20:42:27.000000000,2406,0,823,767290,fe0822b1bcd42d3d77e06b3e383d5ee6b22f25e9,505,5,17,10,32833,yangheng,yangheng,"Add Cinder driver for TOYOU ACS5000

* Supported Protocol
 - iSCSI

* Supported Feature
 - Volume Create/Delete
 - Volume Attach/Detach
 - Snapshot Create/Delete
 - Create Volume from Snapshot
 - Get Volume Stats
 - Copy Image to Volume
 - Copy Volume to Image
 - Clone Volume
 - Extend Volume
 - Volume Migration

ThirdPartySystems: TOYOU ACS5000 CI
Change-Id: Ia7d2056e0a49032654812da74dac514dfac83529
Implement: blueprint toyou-acs5000-driver
"
openstack%2Fcharm-glance~master~Ie7d5df9d44f687303898d2568205285e645a6fcd,openstack/charm-glance,master,sync-for-21-01,Ie7d5df9d44f687303898d2568205285e645a6fcd,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:29:44.000000000,2021-01-22 20:46:57.000000000,2021-01-22 20:46:57.000000000,123,29,0,771016,bd40cf2d9a18fe05a3f88f8cf70ebb35103cf953,24,3,2,6,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers
* Include fix for local_address()

Change-Id: Ie7d5df9d44f687303898d2568205285e645a6fcd
"
openstack%2Fpython-openstackclient~master~I4c222ac334d3a0a0ee568ed1e0bc8518baa375e1,openstack/python-openstackclient,master,bug/1906602,I4c222ac334d3a0a0ee568ed1e0bc8518baa375e1,Add device profile to ``port``,MERGED,2020-12-17 17:20:53.000000000,2021-01-22 20:45:17.000000000,2021-01-22 20:42:58.000000000,44,2,0,767594,0cc878e5b053765a0d3c13f5588bc160b05a388b,22,3,4,6,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add device profile to ``port``

Added device profile parameter to ``port create`` command.

Related-Bug: #1906602

Change-Id: I4c222ac334d3a0a0ee568ed1e0bc8518baa375e1
"
openstack%2Fneutron~stable%2Ftrain~I87489596e2ff224431f7e83f43a1725172ee0953,openstack/neutron,stable/train,bug/1901527-stable/ussuri-stable/train,I87489596e2ff224431f7e83f43a1725172ee0953,Avoid race condition when processing RowEvents,ABANDONED,2021-01-22 20:20:23.000000000,2021-01-22 20:21:23.000000000,,573,0,0,772099,dad69ac12f240d47f47a9e9e8b6df9b73d610cc7,2,0,1,2,5756,Terry Wilson,otherwiseguy,"Avoid race condition when processing RowEvents

In https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability
to pass a ""frozen"" object to the RowEventHandler so that if a
transaction is started from the main thread that changes the row,
it won't step on the values that the Event is trying to process.

This patch switches to using the ovs_idl backend-specific
RowEventHandler which converts the row to a frozen_row.

Change-Id: I87489596e2ff224431f7e83f43a1725172ee0953
Related-Bug: #1896816
(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)
"
openstack%2Fpython-manilaclient~master~I21ff413b3e13824367dbaad8745f11d733b34ece,openstack/python-manilaclient,master,,I21ff413b3e13824367dbaad8745f11d733b34ece,Replace deprecated UPPER_CONSTRAINTS_FILE variable,MERGED,2020-11-27 09:32:01.000000000,2021-01-22 20:07:06.000000000,2021-01-22 20:03:52.000000000,3,3,0,764428,b77a8c1baf1c1d0b67c01cc19efa6c2ef3c1fa7c,12,6,1,1,26285,wu.chunyang,wu.chunyang,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I21ff413b3e13824367dbaad8745f11d733b34ece
"
openstack%2Fsushy~master~I2d082762fcf59d7b9bc8adc7c5159520ac628043,openstack/sushy,master,,I2d082762fcf59d7b9bc8adc7c5159520ac628043,Fix ExtendedInfo error handling for non-list item,MERGED,2021-01-22 14:53:40.000000000,2021-01-22 19:19:50.000000000,2021-01-22 19:18:17.000000000,41,6,0,771988,7ec04224b4e80225ff3db51d860210e8e160f02f,13,3,2,4,27909,Aija Jauntēva,ajya,"Fix ExtendedInfo error handling for non-list item

Change-Id: I2d082762fcf59d7b9bc8adc7c5159520ac628043
"
openstack%2Frequirements~master~I588de72013abc731b113aad0fb855c82829dac19,openstack/requirements,master,new-release,I588de72013abc731b113aad0fb855c82829dac19,update constraint for python-novaclient to new release 17.3.0,MERGED,2021-01-22 08:37:09.000000000,2021-01-22 18:58:42.000000000,2021-01-22 18:54:47.000000000,1,1,0,771944,b18a5a4e1ae131f3526a4ccc2ed0f6577bcde64d,8,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-novaclient to new release 17.3.0

meta: version: 17.3.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Balazs Gibizer <balazs.gibizer@est.tech>
meta: release:Change-Id: I8ad78d906fc03a5bb46a75c120ae21950b64403a
meta: release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
Change-Id: I588de72013abc731b113aad0fb855c82829dac19
"
openstack%2Fnova-specs~master~Ice40f4ad60c9625b3f95c4bf429991412d183a8f,openstack/nova-specs,master,bp/configurable-instance-hostnames,Ice40f4ad60c9625b3f95c4bf429991412d183a8f,Update spec for configurable-instance-hostnames,MERGED,2021-01-22 16:45:08.000000000,2021-01-22 18:32:49.000000000,2021-01-22 18:30:43.000000000,6,0,0,772065,95e7b32e7bac391d76524f74b90fd149007a4d36,9,4,1,1,15334,Stephen Finucane,sfinucan,"Update spec for configurable-instance-hostnames

We're going to allow non-admin users to see 'OS-EXT-SRV-ATTR:hostname',
since they can now configure this.

Change-Id: Ice40f4ad60c9625b3f95c4bf429991412d183a8f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Foperations-guide~master~Ib2a9a34183390f9840420b3f86268e2b40844c65,openstack/operations-guide,master,openstack/openstack-manuals,Ib2a9a34183390f9840420b3f86268e2b40844c65,Updated from openstack-manuals,MERGED,2021-01-22 17:31:52.000000000,2021-01-22 18:27:58.000000000,2021-01-22 18:25:22.000000000,5,0,0,772073,057072559f2c70052b905816b9a256325904b45e,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from openstack-manuals

Change-Id: Ib2a9a34183390f9840420b3f86268e2b40844c65
"
openstack%2Fos-brick~stable%2Fvictoria~I9a1746658474c0f1be7ec29a36767085aaf2ab7f,openstack/os-brick,stable/victoria,,I9a1746658474c0f1be7ec29a36767085aaf2ab7f,Improve error handling on target query,MERGED,2021-01-15 16:49:58.000000000,2021-01-22 18:27:38.000000000,2021-01-22 18:25:12.000000000,19,1,0,770957,958e4f5fb8ec788fe92eff67eeb3adf0ab7b06a8,15,3,1,2,9236,Jon Bernard,jbernard,"Improve error handling on target query

The command 'iscsiadm -m node' will return entries for corrupt targets
in the form '[]:port,-1' instead of the expected format.  This causes an
IndexError exception during parsing.  This patch skips invalid entries.

Closes-bug: #1886855
Change-Id: I9a1746658474c0f1be7ec29a36767085aaf2ab7f
(cherry picked from commit 4fabe1b33d497b5f017f07b4b5d7fce0c0eabd00)
"
openstack%2Fsecurity-doc~master~I279d548eef63e728abd4bf57ab4cc83f5a1c6069,openstack/security-doc,master,openstack/openstack-manuals,I279d548eef63e728abd4bf57ab4cc83f5a1c6069,Updated from openstack-manuals,MERGED,2021-01-22 17:31:05.000000000,2021-01-22 18:27:04.000000000,2021-01-22 18:24:43.000000000,5,0,0,772071,79784daac3f8a0ba8ace287ded68d8d19faa5310,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from openstack-manuals

Change-Id: I279d548eef63e728abd4bf57ab4cc83f5a1c6069
"
openstack%2Fha-guide~master~Ic29f42ff62b1b27e36c9d043e700f26802723e08,openstack/ha-guide,master,openstack/openstack-manuals,Ic29f42ff62b1b27e36c9d043e700f26802723e08,Updated from openstack-manuals,MERGED,2021-01-22 17:31:30.000000000,2021-01-22 18:20:38.000000000,2021-01-22 18:18:01.000000000,5,0,0,772072,dff839df173c2b0c342cace5c4dc6e7da118d665,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from openstack-manuals

Change-Id: Ic29f42ff62b1b27e36c9d043e700f26802723e08
"
openstack%2Fopenstack-ansible-rsyslog_client~stable%2Fvictoria~Ia0ae332f89168851cc2c68dc0ad9696ba3bcae8c,openstack/openstack-ansible-rsyslog_client,stable/victoria,,Ia0ae332f89168851cc2c68dc0ad9696ba3bcae8c,Update role for Ubuntu Focal and Centos-8,MERGED,2021-01-19 17:42:47.000000000,2021-01-22 17:53:42.000000000,2021-01-22 17:50:51.000000000,78,0,4,771409,68b81142ccb62f139f5a01a6a10c319418357e71,16,4,1,2,25023,Jonathan Rosser,jrosser,"Update role for Ubuntu Focal and Centos-8

Change-Id: Ia0ae332f89168851cc2c68dc0ad9696ba3bcae8c
(cherry picked from commit 6defc982de5a04a7a7a3b07cc24171c8dad4a9ae)
"
openstack%2Frally~master~Ie49856573dbf5bcf87837c555c046b06c569b3e9,openstack/rally,master,return_code,Ie49856573dbf5bcf87837c555c046b06c569b3e9,Let verify command return different return codes depending on results.,MERGED,2021-01-19 15:32:15.000000000,2021-01-22 17:52:04.000000000,2021-01-22 17:52:04.000000000,15,0,1,771480,a72a6e1ce515e0f6720fea6a3ffbdfdea7d4e3ac,11,2,3,2,27052,Marian Gasparovic,marian,"Let verify command return different return codes depending on results.

Change-Id: Ie49856573dbf5bcf87837c555c046b06c569b3e9
"
openstack%2Fpython-manilaclient~master~I6e5f53941b8ee3572340d63070603a10d0957417,openstack/python-manilaclient,master,,I6e5f53941b8ee3572340d63070603a10d0957417,[DNM] Testing master branch,ABANDONED,2020-04-14 17:42:58.000000000,2021-01-22 17:31:41.000000000,,0,0,0,720038,4b4f7082b3f7e4dc09a7186ed7b6eda54c2daafd,3,1,1,1,6413,Victoria Martinez de la Cruz,vkmc,"[DNM] Testing master branch

Change-Id: I6e5f53941b8ee3572340d63070603a10d0957417
"
openstack%2Fvalidations-libs~master~Iecdcae0be0d8363668f77f9de4f8a431a8162f5e,openstack/validations-libs,master,style/builtinredefinition1,Iecdcae0be0d8363668f77f9de4f8a431a8162f5e,Local vars were redefining builtins,MERGED,2021-01-14 11:55:06.000000000,2021-01-22 17:27:22.000000000,2021-01-22 17:12:53.000000000,18,18,0,770795,8dc1549ddd6a5b79c65c200090aabc1a5cb5454c,8,4,1,4,32926,Jiri Podivin,jpodivin,"Local vars were redefining builtins

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iecdcae0be0d8363668f77f9de4f8a431a8162f5e
"
openstack%2Fos-net-config~master~I17d19715a1f7c231630416d6fea06fe9afe44e9b,openstack/os-net-config,master,avoid_dpdk_sriov_vf,I17d19715a1f7c231630416d6fea06fe9afe44e9b,Exclude DPDK mapped VF device even if not present,MERGED,2021-01-12 05:45:52.000000000,2021-01-22 17:27:09.000000000,2021-01-22 17:11:49.000000000,33,1,0,770230,4f2ebfd6bd90e5247dc2bddf67146e713919a437,10,4,1,2,18575,Saravanan KR,saravanankr,"Exclude DPDK mapped VF device even if not present

As part of FFU from queens to train, os-net-config
will run after the RHEL update. At this point, DPDK
mapping file will have VF if it has been used as
part of NIC partitioning feature, but the physically
the VF will not be present as it is yet to be created.
During the active nic list creation (before creating
VFs), DPDK mapped VF will be used as regular nic,
which results in wrong nic numbering.

This patch excludes the VFs by checking the device
type in the sriov_config.yaml mapping file, so that
the nic numbering will be kept same.

Change-Id: I17d19715a1f7c231630416d6fea06fe9afe44e9b
"
openstack%2Ftempest~master~Id2ced856a41548a0b49e594ee5fed6ed28785f24,openstack/tempest,master,merge-horizon-test,Id2ced856a41548a0b49e594ee5fed6ed28785f24,Move horizon test from tempest-horizon to tempest,MERGED,2021-01-20 21:42:56.000000000,2021-01-22 17:26:49.000000000,2021-01-22 17:08:10.000000000,169,0,4,771727,eb3c7e37bcf6acae63e15e7ae57f8daf0a261c73,27,5,6,5,8556,Ghanshyam,ghanshyam,"Move horizon test from tempest-horizon to tempest

As disscussed in Wallaby PTG[1], QA and Horizon team
decided to move the horizon dashboard test from tempest-horizon
to Tempest. As next step, we can remove the tempest-horizon
plugin which will ease the maintaince of horizon tempest test.

[1] https://etherpad.opendev.org/p/qa-wallaby-ptg

Change-Id: Id2ced856a41548a0b49e594ee5fed6ed28785f24
"
openstack%2Fswift~master~Ic08e6e7df7162a4c1283a3ef6e67c3b21a4ce494,openstack/swift,master,p-fix-get-from-shard-logs,Ic08e6e7df7162a4c1283a3ef6e67c3b21a4ce494,Fix logging in proxy container GET path,MERGED,2021-01-22 13:17:47.000000000,2021-01-22 17:26:44.000000000,2021-01-22 17:08:46.000000000,11,10,3,771975,0a230e5aed3150bcdbf0f9659ee1ab2f74a305eb,7,2,1,2,7847,Alistair Coles,acoles,"Fix logging in proxy container GET path

The proxy tried to map the x-backend-sharding-state header value to
a ShardRange state, but the value is the container *db* state. The
attempted mapping would commonly fail because db state names do not
always correspond to ShardRange state names, in which the case the
fallback was to log the header value i.e. the correct outcome.

Sometimes the attempted mapping would succeed because for example
'sharded' is both a db state name and a ShardRange state name. In that
case the log message would look something like:

  ""Found 1024 objects in shard (state=(70, 'sharded')), total = 1024""

i.e. the tuple of ShardRange state name and number was logged, which
was inappropriate.

Change-Id: Ic08e6e7df7162a4c1283a3ef6e67c3b21a4ce494
"
openstack%2Fopenstack-manuals~master~Ie693ee1ee35aa273ccd6b9602ca4092802e0c85a,openstack/openstack-manuals,master,xana,Ie693ee1ee35aa273ccd6b9602ca4092802e0c85a,[glossary] Add Xena,MERGED,2021-01-04 06:39:20.000000000,2021-01-22 17:24:56.000000000,2021-01-22 17:02:15.000000000,5,0,1,769087,4ad12a815d31a64874b5ccbd751273035aff2b51,10,2,2,1,6547,Andreas Jaeger,jaegerandi,"[glossary] Add Xena

Xena is the next release name, add it to glossary.

Change-Id: Ie693ee1ee35aa273ccd6b9602ca4092802e0c85a
"
openstack%2Ftripleo-validations~stable%2Fussuri~I1bdbbde0bd2102847a3ab061969115030ea207a6,openstack/tripleo-validations,stable/ussuri,rhbz1891200-stable/ussuri,I1bdbbde0bd2102847a3ab061969115030ea207a6,replace max_fds with sysctl call,MERGED,2020-11-26 13:24:16.000000000,2021-01-22 17:12:17.000000000,2021-01-22 17:12:17.000000000,1,1,0,764300,34d064ad85c3b01f2424d79ea5565bc6de79915d,22,2,1,1,27427,David Peacock,davidjpeacock,"replace max_fds with sysctl call

The call to max_fds no longer appears valid.  This approach of calling
sysctl is standard across Linux based systems and would be the more
established way to obtain this value.

Change-Id: I1bdbbde0bd2102847a3ab061969115030ea207a6
(cherry picked from commit 6925f256edb08065ab78ff18cb773bdb30b4c847)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ic7bd6956f869acbee6a253269d4c3972532499e2,openstack/tripleo-heat-templates,stable/ussuri,,Ic7bd6956f869acbee6a253269d4c3972532499e2,Ensure LANG env is properly set when puppet runs.,MERGED,2020-09-22 16:59:34.000000000,2021-01-22 17:11:05.000000000,2021-01-22 17:11:05.000000000,10,8,0,753407,b3521d5423d329892710b83afc88681f2195667f,23,7,2,2,8297,Sofer Athlan-Guyot,chem,"Ensure LANG env is properly set when puppet runs.

When puppet run it must support UTF-8 or whatever is the locale on the
host.  So we make sure that we pass down the LANG to the container and
that the puppet process collect it properly.

Closes-Bug: #1896640

Change-Id: Ic7bd6956f869acbee6a253269d4c3972532499e2
Co-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>
Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>
Co-Authored-By: Daniel Bengtsson <dbengt@redhat.com>
"
openstack%2Ftripleo-validations~stable%2Fussuri~I73d2de81dfd0eba89aaee195f6f0d18adb9d364a,openstack/tripleo-validations,stable/ussuri,__init__dot_py-stable/ussuri,I73d2de81dfd0eba89aaee195f6f0d18adb9d364a,Remove useless __init__.py file in library,MERGED,2021-01-21 11:25:05.000000000,2021-01-22 17:04:49.000000000,2021-01-22 17:04:49.000000000,0,0,0,771795,14bbbbce81916c55f983e87be736eec03e040d6f,11,7,1,1,11491,Gael Chamoulaud,gchamoul,"Remove useless __init__.py file in library

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I73d2de81dfd0eba89aaee195f6f0d18adb9d364a
(cherry picked from commit 949cc1c18ea7c166b999fd0375f61b62f7e02340)
(cherry picked from commit 3866628db31da0b2fb6d2a05a58422d283beee80)
"
openstack%2Ftripleo-heat-templates~master~Ib4f918c01e2fc71eedf7e6c90ca1dc5ccf8ff688,openstack/tripleo-heat-templates,master,cinder-v2-cleanup,Ib4f918c01e2fc71eedf7e6c90ca1dc5ccf8ff688,Remove cinder v2 API keystone service and endpoints,MERGED,2020-11-15 20:15:33.000000000,2021-01-22 17:04:37.000000000,2020-12-24 13:32:39.000000000,10,15,12,762768,d0c9b6d0ce049a75cc8177a84ab67c3e659178c7,40,7,3,1,21129,Alan Bishop,ASBishop,"Remove cinder v2 API keystone service and endpoints

Cinder's v2 API has been deprecated since Pike, and the cinder
community is looking to remove support for it in the Wallaby cycle.

Change-Id: Ib4f918c01e2fc71eedf7e6c90ca1dc5ccf8ff688
"
openstack%2Ftripleo-validations~stable%2Fvictoria~I73d2de81dfd0eba89aaee195f6f0d18adb9d364a,openstack/tripleo-validations,stable/victoria,__init__dot_py-stable/victoria,I73d2de81dfd0eba89aaee195f6f0d18adb9d364a,Remove useless __init__.py file in library,MERGED,2021-01-21 11:18:02.000000000,2021-01-22 17:03:35.000000000,2021-01-22 17:03:35.000000000,0,0,0,771605,3866628db31da0b2fb6d2a05a58422d283beee80,11,6,2,1,11491,Gael Chamoulaud,gchamoul,"Remove useless __init__.py file in library

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I73d2de81dfd0eba89aaee195f6f0d18adb9d364a
(cherry picked from commit 949cc1c18ea7c166b999fd0375f61b62f7e02340)
"
openstack%2Ftripleo-validations~master~I73d2de81dfd0eba89aaee195f6f0d18adb9d364a,openstack/tripleo-validations,master,__init__dot_py,I73d2de81dfd0eba89aaee195f6f0d18adb9d364a,Remove useless __init__.py file in library,MERGED,2021-01-21 10:56:20.000000000,2021-01-22 17:02:44.000000000,2021-01-22 17:02:44.000000000,0,0,0,771792,949cc1c18ea7c166b999fd0375f61b62f7e02340,11,7,1,1,11491,Gael Chamoulaud,gchamoul,"Remove useless __init__.py file in library

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I73d2de81dfd0eba89aaee195f6f0d18adb9d364a
"
openstack%2Fpython-openstackclient~master~I0e52acccfcd8f631fd4415ab99c07d6e7069a5ea,openstack/python-openstackclient,master,new/list-container-storage-policies,I0e52acccfcd8f631fd4415ab99c07d6e7069a5ea,List swift storage policies,NEW,2021-01-12 07:09:01.000000000,2021-01-22 16:54:08.000000000,,161,5,14,770238,966b14ba7d4a04967423525be1f0b6697937bcb1,11,3,5,9,30447,Simon Merrick,iokiwi,"List swift storage policies

Adds a command to conveniently list swift storage
policies available when creating a new container

Change-Id: I0e52acccfcd8f631fd4415ab99c07d6e7069a5ea
"
openstack%2Fdevstack-plugin-ceph~master~Id1351205b3cf52ece7405877eaf191229eca1a91,openstack/devstack-plugin-ceph,master,,Id1351205b3cf52ece7405877eaf191229eca1a91,Try to detect bug #1908607,ABANDONED,2021-01-05 15:05:38.000000000,2021-01-22 16:48:44.000000000,,3,0,0,769379,54c2e844f238bafc3fdcea29990deb71d5df99dc,5,2,1,1,4523,Eric Harney,eharney,"Try to detect bug #1908607

Test patch to see if this bug triggers in the gate.

Related-Bug: #1908607
Change-Id: Id1351205b3cf52ece7405877eaf191229eca1a91
"
openstack%2Fcinder-tempest-plugin~master~I5deebc0d1b17342f4278afec2a5d065b1748e3f0,openstack/cinder-tempest-plugin,master,,I5deebc0d1b17342f4278afec2a5d065b1748e3f0,Try to detect bug #1908607,ABANDONED,2021-01-05 19:05:34.000000000,2021-01-22 16:48:39.000000000,,1,0,0,769413,1bc0d668cc221365aa59d70bd590c43e472b6317,4,2,1,1,4523,Eric Harney,eharney,"Try to detect bug #1908607

Test patch to see if this bug triggers in the gate.

Depends-On: https://review.opendev.org/769379
Change-Id: I5deebc0d1b17342f4278afec2a5d065b1748e3f0
Related-Bug: #1908607
"
openstack%2Fnova-specs~master~I2baabd802dce9ce98e05f416f07a19501f1dd905,openstack/nova-specs,master,bp/configurable-instance-hostnames,I2baabd802dce9ce98e05f416f07a19501f1dd905,Add spec for configurable-instance-hostnames,MERGED,2021-01-14 17:37:04.000000000,2021-01-22 16:47:07.000000000,2021-01-22 16:27:08.000000000,217,0,11,770842,a218e65dc0ff22d5fa481d6cabcfea2d0b264cf3,17,5,2,1,15334,Stephen Finucane,sfinucan,"Add spec for configurable-instance-hostnames

Add a way to configure instance hostnames explicitly.

Change-Id: I2baabd802dce9ce98e05f416f07a19501f1dd905
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftripleo-operator-ansible~master~I0c797c76632de1e063d0d05c67e785dc9fabd052,openstack/tripleo-operator-ansible,master,fix-requirements,I0c797c76632de1e063d0d05c67e785dc9fabd052,Adjust requirements,ABANDONED,2020-12-17 15:43:04.000000000,2021-01-22 16:14:35.000000000,,1,1,0,767572,b7d71caebe7d5020cbe5adb60c0c120bc6891c24,4,2,1,1,14985,Alex Schultz,mwhahaha,"Adjust requirements

The new pip dependency solver changes what we need to require.

Change-Id: I0c797c76632de1e063d0d05c67e785dc9fabd052
"
openstack%2Fnova~stable%2Fqueens~I7eb86edc130d186a66c04b229d46347ec5c0b625,openstack/nova,stable/queens,bug/1887946,I7eb86edc130d186a66c04b229d46347ec5c0b625,libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices,MERGED,2020-07-22 13:12:36.000000000,2021-01-22 16:11:08.000000000,2021-01-22 16:11:08.000000000,73,60,0,742424,541336a688478c8a09d28e73ccf7c418c1f308ec,43,9,4,3,10135,Lee Yarwood,lyarwood,"libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices

Introduced in libvirt v4.1.0 [1] this error code replaces the previously
raised VIR_ERR_INVALID_ARG, VIR_ERR_OPERATION_FAILED and
VIR_ERR_INVALID_ARG codes [2][3].

VIR_ERR_OPERATION_FAILED was introduced and tested as an
active/live/hot unplug config device detach error code in
I131aaf28d2f5d5d964d4045e3d7d62207079cfb0.

VIR_ERR_INTERNAL_ERROR was introduced and tested as an
active/live/hot unplug config device detach error code in
I3055cd7641de92ab188de73733ca9288a9ca730a.

VIR_ERR_INVALID_ARG was introduced and tested as an
inactive/persistent/cold unplug config device detach error code in
I09230fc47b0950aa5a3db839a070613c9c817576.

This change introduces support for the new VIR_ERR_DEVICE_MISSING error
code while also retaining coverage for these codes until
MIN_LIBVIRT_VERSION is bumped past v4.1.0.

The majority of this change is test code motion with the existing tests
being modified to run against either the active or inactive versions of
the above  error codes for the time being.

test_detach_device_with_retry_operation_internal and
test_detach_device_with_retry_invalid_argument_no_live have been removed
as they duplicate the logic within the now refactored
_test_detach_device_with_retry_second_detach_failure.

[1] https://libvirt.org/git/?p=libvirt.git;a=commit;h=bb189c8e8c93f115c13fa3bfffdf64498f3f0ce1
[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=126db34a81bc9f9f9710408f88cceaa1e34bbbd7
[3] https://libvirt.org/git/?p=libvirt.git;a=commit;h=2f54eab7c7c618811de23c60a51e910274cf30de

Closes-Bug: #1887946
Change-Id: I7eb86edc130d186a66c04b229d46347ec5c0b625
(cherry picked from commit 902f09af251d2b2e56fb2f2900a3510baf38a508)
(cherry picked from commit 93058ae1b8bc1b1728f08b9e606b68318751fc3b)
(cherry picked from commit 863d6ef7601302901fa3368ea8457b3564eeb501)
(cherry picked from commit 76428c1a6a7796391957a3e83207f85cfe924505)
(cherry picked from commit 74b053f47a659a0250d051020d6c8b4e3c256e7d)
"
openstack%2Fironic-python-agent-builder~master~I1fafbf31b8fb2fc411b722cec11b94b4b765c995,openstack/ironic-python-agent-builder,master,no-sdparm,I1fafbf31b8fb2fc411b722cec11b94b4b765c995,Removes unnecessary requirement of sdparm,MERGED,2021-01-22 11:41:02.000000000,2021-01-22 16:07:33.000000000,2021-01-22 16:05:11.000000000,5,1,0,771965,55375641217ce199b0cb211addae8648bc48aa79,9,4,1,2,10239,Dmitry Tantsur,dtantsur,"Removes unnecessary requirement of sdparm

Change-Id: I1fafbf31b8fb2fc411b722cec11b94b4b765c995
"
openstack%2Fcharm-cinder~master~Id18634579d221aa2d501188975119c5c4f05c47f,openstack/charm-cinder,master,sync-for-21-01,Id18634579d221aa2d501188975119c5c4f05c47f,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:22:04.000000000,2021-01-22 16:07:12.000000000,2021-01-22 16:07:12.000000000,4,1,0,771630,f4e552de22318579101e387ae8db34454b384318,13,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: Id18634579d221aa2d501188975119c5c4f05c47f
"
openstack%2Fcharm-keystone~master~I83f12c9e010468be34637056e645f2bfc732f2df,openstack/charm-keystone,master,sync-for-21-01,I83f12c9e010468be34637056e645f2bfc732f2df,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:30:41.000000000,2021-01-22 16:07:06.000000000,2021-01-22 16:07:06.000000000,469,76,0,771022,31649bee99800c6c62e3b84f26e3d14582977d54,25,3,2,16,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

* Fixes to unit tests due to removal of unit_get from context.

Change-Id: I83f12c9e010468be34637056e645f2bfc732f2df
"
openstack%2Fopenstack-ansible~stable%2Ftrain~I7f188ca12506e0f45bf3111cbf6e19aaf9865414,openstack/openstack-ansible,stable/train,bug/1908791,I7f188ca12506e0f45bf3111cbf6e19aaf9865414,Change format of rows,MERGED,2021-01-20 15:14:32.000000000,2021-01-22 16:06:34.000000000,2021-01-22 16:04:28.000000000,26,0,0,771659,67a24c010799e7fbe74bf8d50089c4b59488f153,15,3,3,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Change format of rows

During S->T nova may fail with DB migrations because of the insufficient
size of the table type.

Change-Id: I7f188ca12506e0f45bf3111cbf6e19aaf9865414
Closes-Bug: #1908791
"
openstack%2Fcharm-nova-cell-controller~master~Id9d36ae950300b1c3f461928908e56bd2d49b37a,openstack/charm-nova-cell-controller,master,sync-for-21-01,Id9d36ae950300b1c3f461928908e56bd2d49b37a,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:33:24.000000000,2021-01-22 16:05:41.000000000,2021-01-22 16:05:41.000000000,5,1,0,771039,f46c60c084d833dda1db9390b6fef59d7776ee89,16,3,1,2,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

Change-Id: Id9d36ae950300b1c3f461928908e56bd2d49b37a
"
openstack%2Fopenstack-health~master~Iefa8795ba985f502f952001cdc616dae20847ef9,openstack/openstack-health,master,feature/pdf_doc,Iefa8795ba985f502f952001cdc616dae20847ef9,Create tox environment to build pdf documentation,MERGED,2020-09-16 13:12:54.000000000,2021-01-22 16:01:15.000000000,2021-01-22 16:01:15.000000000,20,4,1,752235,4f14a185aaa024f8a653f66df48f886b470326e9,31,15,4,3,30674,Lukas Piwowarski,lukas-piwowarski,"Create tox environment to build pdf documentation

This patch enables building .pdf documentation using new 'pdf-docs'
tox environment. The newly created tox environment creates latex
source codes using sphinx-build and then builds the pdf
documentation using make.

Story: 2006070
Task: 35466

Change-Id: Iefa8795ba985f502f952001cdc616dae20847ef9
"
openstack%2Fglance~master~I81f9d0a53493a1b9793bdaae082093f30df6e032,openstack/glance,master,bp/distributed-image-import,I81f9d0a53493a1b9793bdaae082093f30df6e032,Fix a typo in functional helper class,MERGED,2021-01-13 17:03:28.000000000,2021-01-22 15:48:48.000000000,2021-01-22 15:38:19.000000000,1,1,0,770646,4d9c7b573ee2dc75fcf393ddab0a66fcd0a470b9,7,2,1,1,4393,Dan Smith,danms,"Fix a typo in functional helper class

This was a typo (by me) in the original implementation, but since
nothing was testing DELETE calls, it was never noticed.

Change-Id: I81f9d0a53493a1b9793bdaae082093f30df6e032
"
openstack%2Fswift~master~I1a1d78ed91d940ef0b4eba186dcafd714b4fb808,openstack/swift,master,,I1a1d78ed91d940ef0b4eba186dcafd714b4fb808,docs: Clarify that encryption should not be in reconciler pipeline,MERGED,2021-01-21 20:01:16.000000000,2021-01-22 15:47:44.000000000,2021-01-22 15:35:16.000000000,9,2,2,771880,13c0980e7101840fa5792b249cc3cb393e147ecc,12,3,2,2,15343,Tim Burke,tburke,"docs: Clarify that encryption should not be in reconciler pipeline

UpgradeImpact
=============
Operators should verify that encryption is not enabled in their
reconciler pipelines; having it enabled there may harm data durability.
For more information, see https://launchpad.net/bugs/1910804

Change-Id: I1a1d78ed91d940ef0b4eba186dcafd714b4fb808
Closes-Bug: #1910804
"
openstack%2Fneutron~stable%2Fussuri~I660baccde67a040731538276fc6dff05a10efb68,openstack/neutron,stable/ussuri,bug/1910717,I660baccde67a040731538276fc6dff05a10efb68,Add WaitForPortCreateEvent in BaseOVSTestCase,MERGED,2021-01-13 09:05:23.000000000,2021-01-22 15:47:10.000000000,2021-01-22 15:34:31.000000000,15,0,0,770547,daba68d43ea5794f23b6a5072157be464fc4faeb,40,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add WaitForPortCreateEvent in BaseOVSTestCase

When a port is created, the test case will wait until the IDL event
is raised and the port is effectively created and the local DB
cache is updated.

Change-Id: I660baccde67a040731538276fc6dff05a10efb68
Related-Bug: #1910717
(cherry picked from commit e0f15c59828bc95c7de56475f036b8867f85d3f6)
"
openstack%2Fnova~stable%2Frocky~Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a,openstack/nova,stable/rocky,bug/1907438,Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a,[stable-only] Cap bandit and make lower-constraints job non-voting,MERGED,2020-12-10 15:03:43.000000000,2021-01-22 15:46:34.000000000,2021-01-22 15:37:10.000000000,17,4,0,766492,ddbcf5794773515fc782436a1b0871011dea6cce,62,4,7,3,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit and make lower-constraints job non-voting

The 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2
when using py2.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615

doc/requirements.txt also updated to make requirements-check job pass.

Closes-Bug: #1907438
Change-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a
"
openstack%2Fglance~master~Idbc6ab16ecac2eb9c83c58432f98414d68e16a52,openstack/glance,master,bp/distributed-image-import,Idbc6ab16ecac2eb9c83c58432f98414d68e16a52,Move some helper functions to base class,MERGED,2021-01-12 17:14:30.000000000,2021-01-22 15:46:30.000000000,2021-01-22 15:37:51.000000000,65,65,0,770456,f32d39230d0ee949bdb996be3aea2c8f3dd35dd3,8,3,1,2,4393,Dan Smith,danms,"Move some helper functions to base class

The ImageImportLocking test class has some useful helper functions
that are general enough to be used elsewhere. This moves those
to the SynchronousAPIBase test class.

Change-Id: Idbc6ab16ecac2eb9c83c58432f98414d68e16a52
"
openstack%2Fnova~master~If02a263055376442a116d00c18a1599b436f21d2,openstack/nova,master,,If02a263055376442a116d00c18a1599b436f21d2,libvirt: Load and cache volume drivers on-demand,MERGED,2020-07-16 21:08:21.000000000,2021-01-22 15:46:27.000000000,2021-01-22 15:33:18.000000000,147,65,18,741545,684780ac0d9d76af336bb6d8c43ccc8e92d5444c,25,7,4,3,10135,Lee Yarwood,lyarwood,"libvirt: Load and cache volume drivers on-demand

This change completes a long standing TODO in the libvirt driver where
volume drivers had previously been loaded at startup. While quick this
can result in drivers being dropped from the resulting list on hosts
that don't support the underlying connector protocols as checked in
os-brick.

We should instead load and cache these drivers on-demand ensuring the
same instance is reused by repeat callers to _get_volume_driver.

An additional TODO is left in place to make this dict configurable in
the future, allowing drivers to be replaced by different volume driver
implementations. An example being the replacment of the os-brick `iscsi`
volume driver with a native `iscsi` QEMU driver.

Change-Id: If02a263055376442a116d00c18a1599b436f21d2
"
openstack%2Frequirements~master~I78c3a87c06b9eaf5df4c93031a53f19f7c84f95a,openstack/requirements,master,new-release,I78c3a87c06b9eaf5df4c93031a53f19f7c84f95a,update constraint for openstacksdk to new release 0.53.0,MERGED,2021-01-21 09:22:22.000000000,2021-01-22 15:40:02.000000000,2021-01-22 15:22:39.000000000,1,1,0,771771,738c2ce5c65e72e5b824c2dfd26137c9ba5c9e31,18,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for openstacksdk to new release 0.53.0

meta: version: 0.53.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Commit: Artem Goncharov <artem.goncharov@gmail.com>
meta: release:Change-Id: Idb4a7f7c88d712354396a016bc2c54508c5a4a5f
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I78c3a87c06b9eaf5df4c93031a53f19f7c84f95a
"
openstack%2Fopenstack-health~master~I0247031614ae75c1fd9f93898b7fb57838eb593f,openstack/openstack-health,master,,I0247031614ae75c1fd9f93898b7fb57838eb593f,Replace assertItemsEqual with assertCountEqual,MERGED,2020-07-12 03:16:00.000000000,2021-01-22 15:39:30.000000000,2021-01-22 15:39:30.000000000,15,15,0,740564,29fe21adc40a3f7ae152d97cb2df17fa718e2ab5,13,5,1,3,30356,gugug,gujin,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I0247031614ae75c1fd9f93898b7fb57838eb593f
"
openstack%2Fnova~stable%2Fqueens~If869470216600c303d47cf79f12c4fc88abcf813,openstack/nova,stable/queens,,If869470216600c303d47cf79f12c4fc88abcf813,libvirt: Remove reference to transient domain when detaching devices,MERGED,2018-10-05 09:01:16.000000000,2021-01-22 15:36:42.000000000,2021-01-22 15:36:42.000000000,15,12,1,608186,be83c7ecc09fac5ef88e6624c9e026bf730a5ff3,27,13,3,3,10135,Lee Yarwood,lyarwood,"libvirt: Remove reference to transient domain when detaching devices

When detaching a device from a domain we first attempt to remove the
device from both the persistent and live configs before looping to
ensure the device has really been detached from the running live config.

Previously when this failed we logged an error message that suggested
that this was due to issues detaching the device from a transient
domain, however this is not the case as the domain is persistent.

This change simply updates the error and associated comments to only
reference the live config of the domain.

Additionally a DEBUG line claiming that a device has been successfully
detached is now only logged once the device is removed from the live
config, hopefully avoiding any confusion from this line been logged
each time an attempt is made to detach the device.

Change-Id: If869470216600c303d47cf79f12c4fc88abcf813
(cherry picked from commit 636c7461dee4002571da6e99986eb17e9a28b0f4)
"
openstack%2Fnova~stable%2Fqueens~I84ddb9c434625fd4a57a4f54d0856044e1c56f3f,openstack/nova,stable/queens,,I84ddb9c434625fd4a57a4f54d0856044e1c56f3f,sync_guest_time: use the proper errno,MERGED,2020-07-22 13:12:36.000000000,2021-01-22 15:36:03.000000000,2021-01-22 15:36:03.000000000,2,1,2,742423,e2caea6cae13304c314fdd10ba78b689bb5a90d0,23,10,2,2,10135,Lee Yarwood,lyarwood,"sync_guest_time: use the proper errno

In qemuDomainSetTime, VIR_ERR_OPERATION_UNSUPPORTED
is used to report qemu doesn't support it.

[1]: https://github.com/libvirt/libvirt/blob/228ae70938d0cb85353e35f744fbc494de619481/src/qemu/qemu_driver.c#L19437

Change-Id: I84ddb9c434625fd4a57a4f54d0856044e1c56f3f
Signed-off-by: Chen Hanxiao <chenhx@certusnet.com.cn>
(cherry picked from commit a991471f3e14298a8b32d1b5d566c895cea1c8e4)
"
openstack%2Fneutron~stable%2Ftrain~Iafa68a98861f971f62c373d69e16c4dbaad383e9,openstack/neutron,stable/train,fix-pip,Iafa68a98861f971f62c373d69e16c4dbaad383e9,Re-enable networking-ovn job,MERGED,2021-01-05 11:23:50.000000000,2021-01-22 15:32:26.000000000,2021-01-22 15:22:09.000000000,2,4,0,769323,b37f0df9352f24a881a33db554f10ff381cedca5,21,4,1,1,21798,Bernard Cafarelli,bcafarel,"Re-enable networking-ovn job

It was disabled in previous commit to allow pip resolver fixes for
neutron and networking-ovn to go in. Once the later is merged, we can
get the job back

Change-Id: Iafa68a98861f971f62c373d69e16c4dbaad383e9
Depends-On: https://review.opendev.org/c/openstack/networking-ovn/+/767424
"
openstack%2Fnova~master~Id917d715c0c0955fbc6761d4b5af386514a343d2,openstack/nova,master,,Id917d715c0c0955fbc6761d4b5af386514a343d2,libvirt: Stop NVMe and ScaleIO unit tests from calling os-brick,MERGED,2021-01-21 13:00:17.000000000,2021-01-22 15:32:12.000000000,2021-01-22 15:19:53.000000000,26,20,0,771806,0f558749d1489c6399bb009dfd2a1aeda8d85f9c,11,3,1,2,10135,Lee Yarwood,lyarwood,"libvirt: Stop NVMe and ScaleIO unit tests from calling os-brick

Both sets of tests would allow calls to the InitiatorConnector.factory
within os-brick that returns an arch specific connector. When running
tests on ppc64le hosts this would result in failures are the SCALEIO and
NVME protocols are not supported on these architectures.

Closes-Bug: #1912608
Change-Id: Id917d715c0c0955fbc6761d4b5af386514a343d2
"
openstack%2Fneutron~stable%2Fstein~Ifb9df94128b7069e78e193bc289be17e15968167,openstack/neutron,stable/stein,stein-backport,Ifb9df94128b7069e78e193bc289be17e15968167,Use consistent filter API syntax,MERGED,2021-01-20 15:33:48.000000000,2021-01-22 15:31:44.000000000,2021-01-22 15:21:11.000000000,1,1,0,771600,e1b6a90ce2226b40d9f78a7e674fb24e559dcc6d,20,6,2,1,18031,Thomas Bachman,bachmantech,"Use consistent filter API syntax

Change ID Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8 introduced a
call to get_subnets, using a filter to select all subnets on a
network. The syntax for the filter in get_subnets has been to
provide a dictionary where the values are lists. The change
doesn't cause an exception because the OVO layer code handles
scalar values. Tbis commit changes the filter syntax to be
consistent.

Change-Id: Ifb9df94128b7069e78e193bc289be17e15968167
(cherry picked from commit e7d126f9bccaa13c50ee0f5345174f1c10f14a7e)
(cherry picked from commit 06cbfe0e1d2680db4bebac816b3c5f1a0a616af5)
(cherry picked from commit 16befa0385c1a44b095a2c7e549caa453157b57a)
(cherry picked from commit 1b8f449e25726874e63cd792ad4742778c3d037d)
"
openstack%2Frequirements~master~I05046492f29774031012bafabd2733def97f6dbe,openstack/requirements,master,new-release,I05046492f29774031012bafabd2733def97f6dbe,update constraint for ironic-lib to new release 4.5.0,MERGED,2021-01-21 09:27:22.000000000,2021-01-22 15:31:36.000000000,2021-01-22 15:20:32.000000000,1,1,0,771774,802c5b21ae8dbc30410244165442eeafe5425e00,17,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for ironic-lib to new release 4.5.0

meta: version: 4.5.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Change-Id: I7c4286c9cba33de85b18e585e6787ab4c3e08c8f
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I05046492f29774031012bafabd2733def97f6dbe
"
openstack%2Fdevstack~stable%2Fstein~Ic6056218e51e6b0da554bcdf139214d2229ba3c1,openstack/devstack,stable/stein,support-move-ops-with-qos-ports-ussur-stable/train-stable/stein,Ic6056218e51e6b0da554bcdf139214d2229ba3c1,Setting available_features for stable branch,MERGED,2021-01-19 09:23:44.000000000,2021-01-22 15:31:17.000000000,2021-01-22 15:19:45.000000000,11,0,0,771398,eae384e19743f0e5c4e53b472774b4b32511db8b,8,3,1,1,8313,Lajos Katona,elajkat,"Setting available_features for stable branch

available_features for Neutron tempest tests is default to ""all"" and
used from Victoria to enable/disable tests that has no API extension.
It is added here to make sure that stable gating will not execute these
tests (like for IPv6 metadata in neutron-tempest-plugin or updating
min_bw QoS values for port already attached to VMs)

Cherry-picked from stable/victoria patch
(https://review.opendev.org/c/openstack/devstack/+/769885), but the list
for available_features is empty on Ussuri and Train.

Change-Id: Ic6056218e51e6b0da554bcdf139214d2229ba3c1
Related-Bug: #1882804
(cherry picked from commit e34a8720bfb263a0b4d585929ef9f035c3ba0f36)
(cherry picked from commit ef784e195f85fe4ab28eb0c115e49a63cb3db76a)
(cherry picked from commit 2f573b79bee3cc581ffc6b510924b24ddebe9f7b)
"
openstack%2Fcharm-ceilometer-agent~master~I9a1ed8146233997cbad86a329e8a0067a6966b00,openstack/charm-ceilometer-agent,master,sync-for-21-01,I9a1ed8146233997cbad86a329e8a0067a6966b00,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:19:58.000000000,2021-01-22 15:16:24.000000000,2021-01-22 15:16:24.000000000,4,1,0,771625,4f711cdf8fea0cebd707d57648f7fdf85470d697,10,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I9a1ed8146233997cbad86a329e8a0067a6966b00
"
openstack%2Fcharm-cinder-backup~master~Ic6d547cb068122ed5c0050e65125faaf614fe754,openstack/charm-cinder-backup,master,sync-for-21-01,Ic6d547cb068122ed5c0050e65125faaf614fe754,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:22:38.000000000,2021-01-22 15:15:35.000000000,2021-01-22 15:15:35.000000000,4,1,0,771631,96076e3f1c9857948bf3ab54d715de90d6638e62,11,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: Ic6d547cb068122ed5c0050e65125faaf614fe754
"
openstack%2Fcharm-ceph-osd~master~I3a7d4e5093f15a1fb32310522229d0b4ebd61c59,openstack/charm-ceph-osd,master,sync-for-21-01,I3a7d4e5093f15a1fb32310522229d0b4ebd61c59,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:20:27.000000000,2021-01-22 15:14:22.000000000,2021-01-22 15:14:22.000000000,4,1,0,771627,da7953396fb5ef9a96313902474c5b677e5e58bf,13,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I3a7d4e5093f15a1fb32310522229d0b4ebd61c59
"
openstack%2Fopenstack-ansible-rsyslog_client~master~Ife37fe62aea5ce131c106a2f1708a727341bc2f4,openstack/openstack-ansible-rsyslog_client,master,,Ife37fe62aea5ce131c106a2f1708a727341bc2f4,Remove examples for variables which no longer exist,MERGED,2021-01-20 08:49:53.000000000,2021-01-22 15:09:48.000000000,2021-01-22 15:08:01.000000000,0,12,2,771575,271be6c8d93aed12bb5e77119573144a64122c61,12,4,2,3,25023,Jonathan Rosser,jrosser,"Remove examples for variables which no longer exist

See I113c9803495f2a935b99f272c387a4304a149cbf

Change-Id: Ife37fe62aea5ce131c106a2f1708a727341bc2f4
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib388af0a06bbb6172593dc2fd19748b770b2e335,openstack/tripleo-heat-templates,stable/train,,Ib388af0a06bbb6172593dc2fd19748b770b2e335,Set up right DNF module stream for Upgrades and Updates.,MERGED,2020-08-06 20:02:10.000000000,2021-01-22 15:01:11.000000000,2021-01-22 15:01:11.000000000,49,0,0,745211,6dde10a5235c0be3dc0fe305c5bb58f6b8fae697,54,5,14,5,26343,Jose Luis Franco,jfrancoa,"Set up right DNF module stream for Upgrades and Updates.

To ensure we get the right package versions we need to
make sure the right stream is configured for the
container-tools module.

This patch leverages the dnf module, which when passing as name
the @ identifier allows us to enable a stream for some specific
module [0], configuring the stream passed in DnfStreams heat parameter
in updates/upgrades task for step0.

If the stream passed in such parameter is alredy set, then the
module won't do anything else. On the contrary, it will disable
the current stream, enable the ones from DnfStreams and synchronize
the content.

By default the new Heat parameter defaults to empty list and it is
in the environment files where we set the right values depending
on the operation to perform (undercloud upgrade, overcloud update
or overcloud upgrade).

*****************************************************************
*BACKPORT NOTE: Add DNF module stream virt:8.2 in the overcloud *
*upgrade/update environment files.                              *
*****************************************************************

[0] - https://docs.ansible.com/ansible/latest/modules/dnf_module.html#examples
Closes-Bug: #1890631
Resolves: rhbz#1866479

Change-Id: Ib388af0a06bbb6172593dc2fd19748b770b2e335
(cherry picked from commit d3ef7c0faf1998e143dc43512ed0983d6f83df4e)
"
openstack%2Fcharm-glance-simplestreams-sync~master~Ifa4f404a0f8283659448c2b8a3d622768d2c4c8f,openstack/charm-glance-simplestreams-sync,master,bug/1912234,Ifa4f404a0f8283659448c2b8a3d622768d2c4c8f,Update location for CA cert,MERGED,2021-01-21 14:09:48.000000000,2021-01-22 14:59:19.000000000,2021-01-22 14:13:37.000000000,18,3,1,771816,9c7c4c47367f94eae79f3cef536ab60e2d9c11d0,15,3,2,1,12549,gnuoy,gnuoy,"Update location for CA cert

Look for ca cert using new name `vault_juju_ca_cert.crt` and
fallback to the old name `keystone_juju_ca_cert.crt` if needed.

Change-Id: Ifa4f404a0f8283659448c2b8a3d622768d2c4c8f
Closes-Bug: #1912234
"
openstack%2Fopenstack-health~master~Icd33d84d94d58ba36b296d46f4397227fa36ef9c,openstack/openstack-health,master,,Icd33d84d94d58ba36b296d46f4397227fa36ef9c,Cap pandas to < 1.2.0 to fix gates,MERGED,2021-01-22 13:26:19.000000000,2021-01-22 14:57:55.000000000,2021-01-22 14:57:55.000000000,1,1,0,771976,23f9274a1a0c4f3c1c5b6535c5c9b5b029f75a8c,8,3,2,1,22873,Martin Kopec,mkopec,"Cap pandas to < 1.2.0 to fix gates

pandas>=1.2.0 contains some changes in rounding numbers which makes
the following tests fail when executed by py38

 - test_get_numeric_data_diff_build_name
 - test_get_numeric_data_diff_build_name

with the following assert error

'2018-06-23T00:00:00': 4766.42225,
'2018-06-23T00:00:00': 4766.4222500000005,
                                 ++++++++
'2018-06-24T00:00:00': 4899.55725,
'2018-06-25T00:00:00': 5042.148499999999}}
                               ^^^^^^^^^

Change-Id: Icd33d84d94d58ba36b296d46f4397227fa36ef9c
"
openstack%2Fansible-role-collect-logs~master~Ie9cbc94efd2aecfbc42f54ea01bf1b0bfc987188,openstack/ansible-role-collect-logs,master,unvote,Ie9cbc94efd2aecfbc42f54ea01bf1b0bfc987188,Disable voting of broken job,MERGED,2020-07-31 13:41:52.000000000,2021-01-22 14:03:07.000000000,2020-07-31 23:08:07.000000000,1,0,0,744172,9733aaaf2bfa230b813d0548263183f7f6701cf1,9,3,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Disable voting of broken job

Change-Id: Ie9cbc94efd2aecfbc42f54ea01bf1b0bfc987188
"
openstack%2Fneutron~master~I7950de04c497b14d9225abe6584b7bb7d056f79c,openstack/neutron,master,improve-neutron-ci,I7950de04c497b14d9225abe6584b7bb7d056f79c,Don't run some more complex CI jobs on unrelated changes,MERGED,2021-01-21 08:23:26.000000000,2021-01-22 13:56:12.000000000,2021-01-22 13:50:24.000000000,25,14,3,771763,9d63e4c149716149ce29e71158d9c8ab38170f3d,20,4,2,1,11975,Slawek Kaplonski,slaweq,"Don't run some more complex CI jobs on unrelated changes

We don't need to run e.g. functional, fullstack and all scenario jobs
on patches which are changing e.g. only documentation or release notes
or other things like that.

This patch also removes test-requirements.txt and requirements.txt files
from that list of unrelated files as we want to run our ci jobs when
requirements are changed.

Change-Id: I7950de04c497b14d9225abe6584b7bb7d056f79c
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I33110599dc80cb264ca3dd1570d866c19b212597,openstack/tripleo-heat-templates,stable/queens,venv-py3,I33110599dc80cb264ca3dd1570d866c19b212597,[DNM] python3 dlrn-venv centos7,ABANDONED,2021-01-06 11:54:29.000000000,2021-01-22 13:52:17.000000000,,2,120,0,769534,5d8398a71b8ab8e903ef32e098a0235ca915cd59,4,2,1,1,13861,yatin,yatinkarel,"[DNM] python3 dlrn-venv centos7

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/764232
Change-Id: I33110599dc80cb264ca3dd1570d866c19b212597
"
openstack%2Fmanila~stable%2Ftrain~I48509e5c9be41c04d00aa86efd4d657b067d9521,openstack/manila,stable/train,bug/1908838,I48509e5c9be41c04d00aa86efd4d657b067d9521,Update doc for manila-service-image download,MERGED,2021-01-22 01:29:57.000000000,2021-01-22 13:40:44.000000000,2021-01-22 13:38:22.000000000,2,1,0,771917,960e45bd255dafacef7c6f895aca9477fcd12d9b,9,2,1,1,16643,Goutham Pacha Ravi,gouthamr,"Update doc for manila-service-image download

It currently refers to the old openstack repository and as written
downloads redirect information rather than the image itself.

Add a '-L' argument to the ``curl`` command to handle redirects and
update the URL to use the opendev repository.

Related-bug: #1908838
Change-Id: I48509e5c9be41c04d00aa86efd4d657b067d9521
(cherry picked from commit dcdc1a98bb2e0027f87184eee0080283f9b2ae33)
(cherry picked from commit a5bd828cbf4545872c0fef596929134b488d5241)
(cherry picked from commit 9828e16968c77892cf5ecf31016ffcb09a6b32f1)
"
openstack%2Fmanila~stable%2Fussuri~I48509e5c9be41c04d00aa86efd4d657b067d9521,openstack/manila,stable/ussuri,bug/1908838,I48509e5c9be41c04d00aa86efd4d657b067d9521,Update doc for manila-service-image download,MERGED,2021-01-22 01:29:13.000000000,2021-01-22 13:22:15.000000000,2021-01-22 13:20:12.000000000,2,1,0,771916,9828e16968c77892cf5ecf31016ffcb09a6b32f1,10,2,1,1,16643,Goutham Pacha Ravi,gouthamr,"Update doc for manila-service-image download

It currently refers to the old openstack repository and as written
downloads redirect information rather than the image itself.

Add a '-L' argument to the ``curl`` command to handle redirects and
update the URL to use the opendev repository.

Related-bug: #1908838
Change-Id: I48509e5c9be41c04d00aa86efd4d657b067d9521
(cherry picked from commit dcdc1a98bb2e0027f87184eee0080283f9b2ae33)
(cherry picked from commit a5bd828cbf4545872c0fef596929134b488d5241)
"
openstack%2Fcharm-openstack-dashboard~master~I1283293c200d46651834bf27fbb9c3bd654a2901,openstack/charm-openstack-dashboard,master,sync-for-21-01,I1283293c200d46651834bf27fbb9c3bd654a2901,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:26:07.000000000,2021-01-22 13:20:54.000000000,2021-01-22 13:20:54.000000000,4,1,0,771637,360a678d1f47939de48da67fa1eb69852a10fe32,11,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I1283293c200d46651834bf27fbb9c3bd654a2901
"
openstack%2Fcharm-hacluster~master~I61df39b093515dd4128b9083f852dfcf1a04895f,openstack/charm-hacluster,master,sync-for-21-01,I61df39b093515dd4128b9083f852dfcf1a04895f,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:30:07.000000000,2021-01-22 13:19:46.000000000,2021-01-22 13:19:46.000000000,122,6,0,771018,49a9b21e5791284100d9127066386e2f94d20f78,22,3,2,7,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers
* Add hotfix for local_address() with NoBindingError

Change-Id: I61df39b093515dd4128b9083f852dfcf1a04895f
"
openstack%2Fcharm-swift-storage~master~Icfa65b0e02060e63fa90a57cd95da1dcac729c06,openstack/charm-swift-storage,master,sync-for-21-01,Icfa65b0e02060e63fa90a57cd95da1dcac729c06,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:26:49.000000000,2021-01-22 12:47:21.000000000,2021-01-22 12:47:21.000000000,4,1,0,771640,19d501090261b4e005696990267144a2491929dc,11,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: Icfa65b0e02060e63fa90a57cd95da1dcac729c06
"
openstack%2Fopenstack-ansible~master~Ie27f59075b4bf419b898955048c4bdcd9da7f859,openstack/openstack-ansible,master,,Ie27f59075b4bf419b898955048c4bdcd9da7f859,[doc] Release Victoria,MERGED,2021-01-21 10:37:16.000000000,2021-01-22 11:39:03.000000000,2021-01-22 11:36:46.000000000,10,10,0,771786,316eaf8233681d46c15cf31f110b5340807380a5,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[doc] Release Victoria

Change-Id: Ie27f59075b4bf419b898955048c4bdcd9da7f859
"
openstack%2Foslo.rootwrap~master~Ic211834cf66fd2f9e4fc4ce97f839b2362cc1f70,openstack/oslo.rootwrap,master,tox-python38,Ic211834cf66fd2f9e4fc4ce97f839b2362cc1f70,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:04:29.000000000,2021-01-22 11:31:26.000000000,2021-01-22 11:29:17.000000000,1,1,0,761312,0d1bcc5496888cf9a8df649fa7f82a0104d9f432,13,2,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Ic211834cf66fd2f9e4fc4ce97f839b2362cc1f70
"
openstack%2Fansible-collections-openstack~master~Ie7e6d04ea298ba068f547a53643806b6bc84f873,openstack/ansible-collections-openstack,master,,Ie7e6d04ea298ba068f547a53643806b6bc84f873,Add stack_info module,MERGED,2021-01-06 11:02:55.000000000,2021-01-22 11:30:06.000000000,2021-01-22 11:30:06.000000000,169,1,15,769516,70c773fe6d10dbe7f0eb627bc14993a70c7966c1,28,3,7,6,27900,Artem Goncharov,gtema,"Add stack_info module

We lost stack_info module during transition from github. Implement it
using newer interface and add tests. Change depends on SDK change adding
missing query filters.

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/769484
Change-Id: Ie7e6d04ea298ba068f547a53643806b6bc84f873
"
openstack%2Fstevedore~master~I03900ffe9e59ad3f4f8f89329a9e1b9c6844b1b1,openstack/stevedore,master,tox_constraints_file,I03900ffe9e59ad3f4f8f89329a9e1b9c6844b1b1,Use TOX_CONSTRAINTS_FILE,MERGED,2020-11-04 09:53:28.000000000,2021-01-22 11:21:34.000000000,2021-01-22 11:19:37.000000000,3,3,0,761362,8b6b861813428163e1d286339dd736ca925502ca,17,3,1,1,28522,Hervé Beraud,hberaud,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://review.opendev.org/#/c/722814/
[2] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: I03900ffe9e59ad3f4f8f89329a9e1b9c6844b1b1
"
openstack%2Ftempest~master~Ia6d31980d42861ba5d4f53f99ffd59d0bfed4dd9,openstack/tempest,master,,Ia6d31980d42861ba5d4f53f99ffd59d0bfed4dd9,Fix project/domain scope in dynamic_creds,MERGED,2021-01-21 14:16:39.000000000,2021-01-22 10:45:52.000000000,2021-01-22 10:43:50.000000000,3,3,1,771817,a28849ff7f714c6b5055687051a7ccea0a7a153f,13,14,2,1,22873,Martin Kopec,mkopec,"Fix project/domain scope in dynamic_creds

Lately merged review [1] changed a nature of a condition
setting domain / project scope. Before identity_admin_domain_scope
was a trigger between domain and project scope, however after
[1] change got merged the domain scope is not set only when
identity_admin_domain_scope is true but also when domain_id or
domain_name of default_admin_creds are set.

identity_admin_domain_scope var should be the only var which decides
whether domain scope will be set or not - in other words, if it's
false it shouldn't matter whether domain_id/domain_name are set at all.

https: //review.opendev.org/c/openstack/tempest/+/686073
Change-Id: Ia6d31980d42861ba5d4f53f99ffd59d0bfed4dd9
"
openstack%2Fpython-tripleoclient~stable%2Fvictoria~I9b5445cbccf34e31daf055d264975d0a1eba9aba,openstack/python-tripleoclient,stable/victoria,validator_show_run/validation_output-stable/victoria,I9b5445cbccf34e31daf055d264975d0a1eba9aba,Dumping task key instead of tasks from validation_output,MERGED,2021-01-05 16:49:39.000000000,2021-01-22 10:28:27.000000000,2021-01-22 10:26:20.000000000,1,1,0,769399,f5af50f5dc5370c61eba073076dc8e786aacc741,16,6,1,1,11491,Gael Chamoulaud,gchamoul,"Dumping task key instead of tasks from validation_output

Change-Id: I9b5445cbccf34e31daf055d264975d0a1eba9aba
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit c8137f8f016e26043903f63b4ec794467b69eea5)
"
openstack%2Fopenstack-helm~master~I6cdd599320103349d2fd2486670859a6ef970886,openstack/openstack-helm,master,makefile,I6cdd599320103349d2fd2486670859a6ef970886,chore(make): updates Makefile,MERGED,2020-10-25 01:02:21.000000000,2021-01-22 09:05:08.000000000,2021-01-22 09:03:08.000000000,4,3,0,759576,fc726aa9c0fe1cfbab4da137108101b3cb7f8ef6,23,8,4,1,20466,Tin Lam,tinlam,"chore(make): updates Makefile

This patch set updates the Makefile to use a helm variable so it has
parity with OpenStack-Helm-Infra repository.

Change-Id: I6cdd599320103349d2fd2486670859a6ef970886
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Frequirements~master~I494727a9212c18cdcd8c36b00e392cb87896508e,openstack/requirements,master,new-release,I494727a9212c18cdcd8c36b00e392cb87896508e,update constraint for python-tackerclient to new release 1.5.0,MERGED,2021-01-21 17:46:46.000000000,2021-01-22 08:44:18.000000000,2021-01-22 08:40:59.000000000,1,1,0,771867,eece8ca8855023773dd8c0a7ad0ded809e04d4f0,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-tackerclient to new release 1.5.0

meta: version: 1.5.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ib419a77c99b4099e418f13815258230dd69c281d
meta: release:Code-Review+1: Yasufumi Ogawa <yasufum.o@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I494727a9212c18cdcd8c36b00e392cb87896508e
"
openstack%2Frequirements~master~I4b94edb2b26e9692ee3a99c8423beb972a5a57bd,openstack/requirements,master,new-release,I4b94edb2b26e9692ee3a99c8423beb972a5a57bd,update constraint for sushy to new release 3.6.0,MERGED,2021-01-21 17:37:32.000000000,2021-01-22 08:42:53.000000000,2021-01-22 08:40:55.000000000,1,1,0,771864,6082ca391c412277bc08e50971abede99861a652,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for sushy to new release 3.6.0

meta: version: 3.6.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Commit: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Change-Id: I19814fbb51fc040a761de1d95612bb9edc637fa8
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
Change-Id: I4b94edb2b26e9692ee3a99c8423beb972a5a57bd
"
openstack%2Fapi-site~master~Ib224dfe036543c8ec7fe3074fe4280586d35de97,openstack/api-site,master,fix-relmgt-pip-doc,Ib224dfe036543c8ec7fe3074fe4280586d35de97,Add doc/requirements,MERGED,2021-01-05 10:23:49.000000000,2021-01-22 08:30:27.000000000,2021-01-22 08:28:37.000000000,11,9,6,769310,20ed3307d11801f079fab2ccd361613ee1f682e5,27,3,6,3,28522,Hervé Beraud,hberaud,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver [1] for the release team [2][3].
Removed specific doc requirements from test-requirements.txt.

The problem here is that this repos haven't doc/requirements.txt file
and by default in this case zuul will use the test-requirements.txt file
to
pull requirements [4].

This requirements file contains extra requirements like flake8 that
collided with those allowed in our job environment and so the new pip
resolver fails to install these requirements and the job exits in error.

This project meet the conditions leading to the bug.

/!\/!\/!\
Notice that I voluntarily added the doc directory even if no docs
are generated here because zuul will try to pull this requirements from
there first and the contained requirements are needed for reno but AFAIK
the releasenotes dir is ignored by zuul. c.f [4] for further details.
/!\/!\/!\

[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html
[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36

Change-Id: Ib224dfe036543c8ec7fe3074fe4280586d35de97
"
openstack%2Ftempest~master~I64c0cf7ebf47b92133691ffa2dbe4ed07981d894,openstack/tempest,master,bp/remove-tenant-id,I64c0cf7ebf47b92133691ffa2dbe4ed07981d894,Skipped the stable branch tests for usage's apis,ABANDONED,2021-01-08 02:09:38.000000000,2021-01-22 08:18:43.000000000,,15,0,1,769857,36d76af3aff316f28b45b3c329b18bcf45ccef72,35,1,9,1,26458,Brin Zhang,zhangbailin,"Skipped the stable branch tests for usage's apis

Skip Nova usage scenario tests.
Since Wallaby release, we removed tenant_id, and replaced tenant* with
project* in nova project refer [1], so the tests for usage* commands are invalid
in stable Victoria, Ussuri and Train branch.

When the smallest version we tested is Wallay release, we will restore
this modification.

[1]https://review.opendev.org/c/openstack/nova/+/768852

part of blueprint remove-tenant-id

Change-Id: I64c0cf7ebf47b92133691ffa2dbe4ed07981d894
"
openstack%2Freleases~master~I8ad78d906fc03a5bb46a75c120ae21950b64403a,openstack/releases,master,w2-c-w-i,I8ad78d906fc03a5bb46a75c120ae21950b64403a,Wallaby-2 Release for python-novaclient,MERGED,2021-01-15 06:52:34.000000000,2021-01-22 08:15:52.000000000,2021-01-22 08:15:52.000000000,5,0,0,770899,c0ffc7e71c1552699e63cdd50625d8b18b9eb290,13,4,3,1,28522,Hervé Beraud,hberaud,"Wallaby-2 Release for python-novaclient

This is the Wallaby milestone-2 release for python-novaclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 21.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I8ad78d906fc03a5bb46a75c120ae21950b64403a
"
openstack%2Ftacker~master~I6fc6f7d95e4efde6ea3bd0f1e4134aa54ce3889a,openstack/tacker,master,policy-json-to-yaml,I6fc6f7d95e4efde6ea3bd0f1e4134aa54ce3889a,[goal] Deprecate the JSON formatted policy file,MERGED,2020-12-24 16:02:34.000000000,2021-01-22 07:13:12.000000000,2021-01-22 07:11:33.000000000,77,37,1,768478,40a48bde6b08132f148166633d0809559a29ebaf,41,6,9,11,8556,Ghanshyam,ghanshyam,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file''
config option from 'policy.json' to 'policy.yaml' with
upgrade checks.

2. Deprecate the JSON formatted policy file on the project side
via warning in doc and releasenotes.

Also replace policy.json to policy.yaml ref from doc and tests.

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: I6fc6f7d95e4efde6ea3bd0f1e4134aa54ce3889a
"
openstack%2Ftripleo-validations~stable%2Fvictoria~I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,openstack/tripleo-validations,stable/victoria,755390-stable/victoria,I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,Add tripleo-validations role for component testing,MERGED,2021-01-13 07:08:36.000000000,2021-01-22 07:10:50.000000000,2021-01-22 07:10:50.000000000,263,0,0,770503,671349e63b9c952bf13a317733abefacc8663a33,15,6,1,6,16515,mbu,matbu,"Add tripleo-validations role for component testing

This role used component vars dictionary.
The list of components and associated validations
is not exhautive yet, but will be add in a follow up
review, when the role will be experienced in the pipeline

Depends-On: https://review.rdoproject.org/r/#/c/31281/
Change-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98
(cherry picked from commit 02b1fcfdbef8bd685036833fc9d28451bd8b880f)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib2b62e33b34cf72edfdae6299cf432259bf960a2,openstack/tripleo-heat-templates,stable/ussuri,pcmk-shutdown-lock-stable/ussuri,Ib2b62e33b34cf72edfdae6299cf432259bf960a2,Rolling certificate update for HA services,MERGED,2020-10-28 12:25:23.000000000,2021-01-22 07:10:45.000000000,2021-01-22 07:10:45.000000000,342,0,0,760117,8968c7efd67a8a2f1bc12dc517961d1d32172b01,50,6,2,4,20778,Damien Ciabrini,dciabrin,"Rolling certificate update for HA services

(manually squashed the subsequent fix [1] into a single commit)
(also manually squashed [2] because of #1906505)

There are certain HA clustered services (e.g. galera) that don't
have the ability natively to reload their TLS certificate without
being restarted. If too many replicas are restarted concurrently
this might result in full service disruption.

To ensure service availability, provide a means to ensure that
only one service replica is restarted at a time in the cluster.
This works by using pacemaker's CIB to implement a cluster-wide
restart lock for a service. The lock has a TTL so it's guaranteed
to be eventually released without requiring complex contingency
cleanup in case of failures.

Tested locally by running the following:
1. force recreate certificate on all nodes at once for galera
   (ipa-cert resubmit -i mysql), and verify that the resources
   restart one after the other

2. create a lock manually in pacemaker, recreate certificate for
   galera on all nodes, and verify that no resource is restarted
   before the manually created lock expires.

3. create a lock manually, let it expires, recreate a certificate,
   and verify that the resource is restarted appropriately and the
   lock gets cleaned up from pacemaker once the restart finished.

[1] Id10f026c8b31cad7b7313ac9427a99b3e6744788
[2] I17f1364932e43b8487515084e41b525e186888db

Related-Bug: #1904193
Closes-Bug: #1885113
Change-Id: Ib2b62e33b34cf72edfdae6299cf432259bf960a2
(cherry picked from commit 0f5488940899fec23ca7385fef200155dc3a71dd)
(cherry picked from commit c8f5fdfc3609d38bea46f96ef378dcb5ecd14a2b)
(cherry picked from commit 8b16911cc26ced10316fdd37a818fc1cb6fe5ece)
"
openstack%2Frequirements~master~I06f60ee5be7a3e0f3cd1f7a3b868f0f91ea1d9fb,openstack/requirements,master,openstack/requirements/constraints,I06f60ee5be7a3e0f3cd1f7a3b868f0f91ea1d9fb,Updated from generate-constraints,ABANDONED,2021-01-22 06:28:37.000000000,2021-01-22 06:29:24.000000000,,29,26,0,771911,f610e9aa887fd9590b37f09595e2896eac9af1d3,2,0,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I06f60ee5be7a3e0f3cd1f7a3b868f0f91ea1d9fb
"
openstack%2Fpython-manilaclient~master~I6d573655b7b28e0378df9917b597875acb12cca2,openstack/python-manilaclient,master,openstack-client-support,I6d573655b7b28e0378df9917b597875acb12cca2,[OSC] Implement the second part of share snapshots commands,MERGED,2020-08-17 08:43:07.000000000,2021-01-22 06:15:22.000000000,2021-01-22 02:24:36.000000000,842,0,15,746458,d832baa3121ea1c54e1d26eaa123a4c58589a415,46,6,14,4,31213,Maari Tamm,maaritamm,"[OSC] Implement the second part of share snapshots commands

In this patch we add openstack commands for:
share snapshot adopt
share snapshot abandon
share snapshot export location list
share snapshot export location show
share snapshot access create
share snapshot access delete
share snapshot access list

Partially-implements bp openstack-client-support

Change-Id: I6d573655b7b28e0378df9917b597875acb12cca2
"
openstack%2Fironic~master~I162eb5d7d764a5665ce2fa51012e80aa0ce4e490,openstack/ironic,master,task/41609,I162eb5d7d764a5665ce2fa51012e80aa0ce4e490,idrac ipmi support intial version,ABANDONED,2021-01-21 17:33:19.000000000,2021-01-22 05:25:40.000000000,,87,14,5,771860,a926facd7ac52ff58b12cc620509a24412eda52f,6,2,1,9,32108,Yogesh,yogeshr20,"idrac ipmi support intial version

adding ipmi support for idrac

Change-Id: I411aa257b532ebe630de7debf7e8a26244d356dd

WIP Add idrac HW type IPMI interface support

This change adds initial idrac hardware type support of interface
implementations vendor-independent IPMI hardware interface
implementations and are compatible with the integrated Dell
Remote Access Controller (iDRAC) baseboard management controller
(BMC), presently those of the management,console,vendorpassthrough
and power hardware interfaces. They are named `idrac-ipmi`.

The idrac hardware type declares support for those new interface
implementations, in addition to all interface implementations it has
been supporting. The priority order of supported interfaces remains
the same.

Story: 2008528
Task: 41609
Change-Id: I241c830167752014835845cb32663514220a9996

WIP Add idrac HW type IPMI interface support

    This change adds initial idrac hardware type support of interface
    implementations vendor-independent IPMI hardware interface
    implementations and are compatible with the integrated Dell
    Remote Access Controller (iDRAC) baseboard management controller
    (BMC), presently those of the management,console,vendorpassthrough
    and power hardware interfaces. They are named `idrac-ipmi`.

    The idrac hardware type declares support for those new interface
    implementations, in addition to all interface implementations it has
    been supporting. The priority order of supported interfaces remains
    the same.

    Story: 2008528
    Task: 41609

resolved conflict

Change-Id: I162eb5d7d764a5665ce2fa51012e80aa0ce4e490
"
openstack%2Ftempest~master~Ie430b2ef0cadf6af3813d82812cce27729d27af1,openstack/tempest,master,admin-auth-system-scope,Ie430b2ef0cadf6af3813d82812cce27729d27af1,Add client methods and tests for system grants,MERGED,2020-07-30 02:38:30.000000000,2021-01-22 04:46:21.000000000,2021-01-22 04:44:35.000000000,165,0,0,743865,5dbaaed88e4e034cca8d8ba80ecff585a376db5b,45,8,4,3,8482,Colleen Murphy,krinkle,"Add client methods and tests for system grants

Add tempest client methods and API tests for grant operations on the
system scope, similar to the existing grant operations for users and
groups on project and domain scopes.

Change-Id: Ie430b2ef0cadf6af3813d82812cce27729d27af1
"
openstack%2Fneutron~master~Iacce53c737bf610ff3fc11cd14d6d011aab85f88,openstack/neutron,master,secure-rbac,Iacce53c737bf610ff3fc11cd14d6d011aab85f88,Implement secure RBAC for the network segment range API,MERGED,2020-12-07 18:03:49.000000000,2021-01-22 03:31:48.000000000,2021-01-22 03:28:23.000000000,48,20,1,765841,4e18e62e6e5f2091643a72104a14fb1884f9d0d7,25,5,3,1,5046,Lance Bragstad,ldbragst,"Implement secure RBAC for the network segment range API

This commit updates the network segment range policies to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: Iacce53c737bf610ff3fc11cd14d6d011aab85f88
"
openstack%2Fneutron~master~I109c73b7ad5f1157f40b8340723084f8c51272b2,openstack/neutron,master,secure-rbac,I109c73b7ad5f1157f40b8340723084f8c51272b2,Implement secure RBAC for auto_allocated_topology API,MERGED,2020-12-03 15:45:32.000000000,2021-01-22 03:30:18.000000000,2021-01-22 03:28:09.000000000,25,10,0,765343,05ab8c591f487aec84b68832393cd2fdca68ef38,16,7,2,1,11975,Slawek Kaplonski,slaweq,"Implement secure RBAC for auto_allocated_topology API

This commit updates the policies for auto_allocated_topology
API to understand scope checking and account for a read-only
role.

This is part of a broader series of changes across OpenStack to
provide a consistent RBAC experience and improve security.

Partially-Implements blueprint: secure-rbac-roles

Change-Id: I109c73b7ad5f1157f40b8340723084f8c51272b2
"
openstack%2Fneutron~stable%2Fussuri~I2e784ea7e00c145135288bf309bb34ce311ac15c,openstack/neutron,stable/ussuri,bug/1908057,I2e784ea7e00c145135288bf309bb34ce311ac15c,"Ensure ""keepalived"" is correcly disabled",MERGED,2021-01-14 16:35:42.000000000,2021-01-22 02:35:11.000000000,2021-01-22 02:33:03.000000000,51,1,0,770835,3fd93470c03f5c263e3fb493e5bb889da42b082b,34,4,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Ensure ""keepalived"" is correcly disabled

To stop a ""keepalived"" process, a SIGTERM signal is sent. This patch
checks if the process is not present in the system. If the instance
is still running after a short time, a SIGKILL signal is sent.

Change-Id: I2e784ea7e00c145135288bf309bb34ce311ac15c
Closes-Bug: #1908057
(cherry picked from commit 2618acff516e5cfd2437dabf550cc3c3c7972b9f)
"
openstack%2Fneutron~stable%2Fussuri~Ifb9df94128b7069e78e193bc289be17e15968167,openstack/neutron,stable/ussuri,ussuri-backport,Ifb9df94128b7069e78e193bc289be17e15968167,Use consistent filter API syntax,MERGED,2021-01-20 15:29:38.000000000,2021-01-22 02:33:53.000000000,2021-01-22 02:31:43.000000000,1,1,0,771598,16befa0385c1a44b095a2c7e549caa453157b57a,15,6,2,1,18031,Thomas Bachman,bachmantech,"Use consistent filter API syntax

Change ID Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8 introduced a
call to get_subnets, using a filter to select all subnets on a
network. The syntax for the filter in get_subnets has been to
provide a dictionary where the values are lists. The change
doesn't cause an exception because the OVO layer code handles
scalar values. Tbis commit changes the filter syntax to be
consistent.

Change-Id: Ifb9df94128b7069e78e193bc289be17e15968167
(cherry picked from commit e7d126f9bccaa13c50ee0f5345174f1c10f14a7e)
(cherry picked from commit 06cbfe0e1d2680db4bebac816b3c5f1a0a616af5)
"
openstack%2Fneutron~stable%2Fvictoria~Ifb9df94128b7069e78e193bc289be17e15968167,openstack/neutron,stable/victoria,victoria-backport,Ifb9df94128b7069e78e193bc289be17e15968167,Use consistent filter API syntax,MERGED,2021-01-20 13:27:05.000000000,2021-01-22 02:33:51.000000000,2021-01-22 02:31:35.000000000,1,1,0,771597,06cbfe0e1d2680db4bebac816b3c5f1a0a616af5,22,8,2,1,18031,Thomas Bachman,bachmantech,"Use consistent filter API syntax

Change ID Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8 introduced a
call to get_subnets, using a filter to select all subnets on a
network. The syntax for the filter in get_subnets has been to
provide a dictionary where the values are lists. The change
doesn't cause an exception because the OVO layer code handles
scalar values. Tbis commit changes the filter syntax to be
consistent.

Change-Id: Ifb9df94128b7069e78e193bc289be17e15968167
(cherry picked from commit e7d126f9bccaa13c50ee0f5345174f1c10f14a7e)
"
openstack%2Fmanila~stable%2Fvictoria~I48509e5c9be41c04d00aa86efd4d657b067d9521,openstack/manila,stable/victoria,bug/1908838,I48509e5c9be41c04d00aa86efd4d657b067d9521,Update doc for manila-service-image download,MERGED,2021-01-22 01:28:41.000000000,2021-01-22 02:24:56.000000000,2021-01-22 01:57:27.000000000,2,1,0,771615,a5bd828cbf4545872c0fef596929134b488d5241,9,2,1,1,16643,Goutham Pacha Ravi,gouthamr,"Update doc for manila-service-image download

It currently refers to the old openstack repository and as written
downloads redirect information rather than the image itself.

Add a '-L' argument to the ``curl`` command to handle redirects and
update the URL to use the opendev repository.

Related-bug: #1908838
Change-Id: I48509e5c9be41c04d00aa86efd4d657b067d9521
(cherry picked from commit dcdc1a98bb2e0027f87184eee0080283f9b2ae33)
"
openstack%2Fadjutant~master~Ib09692b1451f1493394af755cbcd14cc96a36b02,openstack/adjutant,master,,Ib09692b1451f1493394af755cbcd14cc96a36b02,Add service helper for trove quota management,MERGED,2021-01-20 02:12:08.000000000,2021-01-22 02:08:09.000000000,2021-01-22 02:03:46.000000000,150,11,18,771528,45160d33783674c2cde69dc00508b054f44f5daf,24,2,7,8,30447,Simon Merrick,iokiwi,"Add service helper for trove quota management

Change-Id: Ib09692b1451f1493394af755cbcd14cc96a36b02
"
openstack%2Fproject-config~master~If407e4c4fa9d81c13577bac6240e02472a7fb6b2,openstack/project-config,master,openinfra-channel,If407e4c4fa9d81c13577bac6240e02472a7fb6b2,Set up access for #openinfra channel,MERGED,2021-01-15 19:55:41.000000000,2021-01-22 02:07:36.000000000,2021-01-22 01:57:36.000000000,1,0,0,771073,82a2e6a629f06896610f7f6dffd59cc0e0e6edba,11,3,1,1,5263,Jeremy Stanley,fungi,"Set up access for #openinfra channel

The Open Infrastructure Foundation is going to work on consolidating
its IRC channel names under a common namespace, #openinfra on
Freenode. Access has been granted to our bot account by the original
channel operators.

Change-Id: If407e4c4fa9d81c13577bac6240e02472a7fb6b2
"
openstack%2Ftacker~stable%2Fvictoria~I7aba5fcd2d13d1ea0a69b4b5705782c2c97af28b,openstack/tacker,stable/victoria,,I7aba5fcd2d13d1ea0a69b4b5705782c2c97af28b,Temporary deactivate lower-constraints check,MERGED,2021-01-20 09:30:48.000000000,2021-01-22 01:49:50.000000000,2021-01-22 01:45:33.000000000,2,1,0,771580,4fa0bb880a9c2e9e73b2fc73934c991cf2ab9ac2,13,5,2,1,25701,Yasufumi Ogawa,yasufum,"Temporary deactivate lower-constraints check

This update is to cancel the zuul test `openstack-tox-cover` to avoid
deadlock-like situation in which we should merge [1] for making FT as
voting before other one [2] for fixing lower-constraints, but [2]
cannot be merged because of failure of lower-constraints.

We should revert the zuul test soon after [1] is merged.

[1] https://review.opendev.org/c/openstack/tacker/+/770536
[2] https://review.opendev.org/c/openstack/tacker/+/769099

Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: I7aba5fcd2d13d1ea0a69b4b5705782c2c97af28b
"
openstack%2Ftacker~master~I649d2407e18d19161a629b8dbfa4e9c7b2f9c9fd,openstack/tacker,master,revise-doc,I649d2407e18d19161a629b8dbfa4e9c7b2f9c9fd,Add doc of ETSI VNF Scaling,MERGED,2021-01-06 08:14:33.000000000,2021-01-22 01:49:48.000000000,2021-01-22 01:45:36.000000000,312,0,10,769466,70a6d5ab2687d22f2520757fe7b38e9d71cb85f8,30,7,5,2,31072,Hiroo Kitamura,Hiroo.Kitamura,"Add doc of ETSI VNF Scaling

Usage guide for ETSI NFV-SOL VNF Scaling is added in user docs.

Change-Id: I649d2407e18d19161a629b8dbfa4e9c7b2f9c9fd
"
openstack%2Fmanila~master~I48509e5c9be41c04d00aa86efd4d657b067d9521,openstack/manila,master,,I48509e5c9be41c04d00aa86efd4d657b067d9521,Update doc for manila-service-image download,MERGED,2021-01-21 16:01:14.000000000,2021-01-22 01:20:39.000000000,2021-01-21 22:47:56.000000000,2,1,4,771843,dcdc1a98bb2e0027f87184eee0080283f9b2ae33,24,2,3,1,9003,Tom Barron,tbarron,"Update doc for manila-service-image download

It currently refers to the old openstack repository and as written
downloads redirect information rather than the image itself.

Add a '-L' argument to the ``curl`` command to handle redirects and
update the URL to use the opendev repository.

Related-bug: #1908838
Change-Id: I48509e5c9be41c04d00aa86efd4d657b067d9521
"
openstack%2Fswift~master~I13bdef7e9c63325d93076b6a172a7c3ee06b2e5c,openstack/swift,master,p-fix-EC-bucket-timestamp,I13bdef7e9c63325d93076b6a172a7c3ee06b2e5c,Separate EC response bucket handling,NEW,2021-01-21 19:26:04.000000000,2021-01-22 01:16:15.000000000,,35,11,5,771878,bd05bc786efc0e8065d9d17bd3707df7ac7c629e,5,2,1,1,1179,Clay Gerrard,clay-gerrard,"Separate EC response bucket handling

Our EC Controller needs to group successful responses by their frag data
timestamp, and unsuccessful responses by status.  Largely this process is
similar, but the differences in timestamp handling require special care.

This refactoring introduces a class hierarchy to EC Buckets in order to
explicitly define the buckets themselves in charge of behavioral
differences, rather than polymorphic adaptation of behavior based on how
their initialized or what we put into them.

Change-Id: I13bdef7e9c63325d93076b6a172a7c3ee06b2e5c
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~Ide062e65b0a76078b5d3ce55a60df3cb5be34a0e,openstack/python-tripleoclient,stable/ussuri,UX-stable/victoria-stable/ussuri,Ide062e65b0a76078b5d3ce55a60df3cb5be34a0e,[UX] Align to left the table for the validations run results,MERGED,2021-01-08 10:22:11.000000000,2021-01-22 01:12:42.000000000,2021-01-22 01:10:23.000000000,1,0,0,769745,de50061231821f849b90463f34c16b26e300b23e,12,7,1,1,11491,Gael Chamoulaud,gchamoul,"[UX] Align to left the table for the validations run results

All the PrettyTables are aligned to left and this patch standardizes all
the tables.

Change-Id: Ide062e65b0a76078b5d3ce55a60df3cb5be34a0e
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit c6f22c1f3c0ed775b8276895eb017616cf46c033)
(cherry picked from commit cdaf01d1058e9070dcc57f768f532e55b222c225)
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~I578c13b91d5cb65229d18a87f3fcff0c28c14427,openstack/tripleo-upgrade,stable/queens,,I578c13b91d5cb65229d18a87f3fcff0c28c14427,[Queens only] Correct microversion settings,MERGED,2021-01-20 13:44:45.000000000,2021-01-22 01:10:36.000000000,2021-01-22 01:10:36.000000000,5,5,1,771646,c704d084e0b03ec71b6bcb3a384246e8996559c0,7,2,1,1,6816,Jesse Pretorius,jesse-pretorius,"[Queens only] Correct microversion settings

The microversions aren't correct for an Queens undercloud
and a Newton overcloud, causing the workload testing to
fail with:

Creating overcloud instance instance_1742604c63
FAILURE: Instance failed to boot within 120 seconds
Version 2.60 is not supported by the API. Minimum is 2.1
and maximum is 2.38. (HTTP 406) (Request-ID: <snip>)

Change-Id: I578c13b91d5cb65229d18a87f3fcff0c28c14427
"
openstack%2Ftripleo-validations~stable%2Fussuri~I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,openstack/tripleo-validations,stable/ussuri,755390-stable/victoria-stable/ussuri,I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,Add tripleo-validations role for component testing,MERGED,2021-01-13 07:09:32.000000000,2021-01-21 23:33:04.000000000,2021-01-21 23:33:04.000000000,263,0,0,770504,2a3c64c843aef543130d5d6b367471b967b6e506,17,5,2,6,16515,mbu,matbu,"Add tripleo-validations role for component testing

This role used component vars dictionary.
The list of components and associated validations
is not exhautive yet, but will be add in a follow up
review, when the role will be experienced in the pipeline

Depends-On: https://review.rdoproject.org/r/#/c/31281/
Change-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98
(cherry picked from commit 02b1fcfdbef8bd685036833fc9d28451bd8b880f)
"
openstack%2Fswift~master~I6236f20d736c119947e50540b16d212dba1ec20c,openstack/swift,master,p-fix-EC-bucket-timestamp,I6236f20d736c119947e50540b16d212dba1ec20c,Fix 503s from EC GETs of objects with POST metadata,MERGED,2021-01-15 22:17:21.000000000,2021-01-21 22:51:11.000000000,2021-01-21 22:47:08.000000000,41,6,15,771089,cc3fa3cc0fa51df0e3eb872744da428a7e742cea,13,3,2,2,7847,Alistair Coles,acoles,"Fix 503s from EC GETs of objects with POST metadata

When an ECGetResponseBucket is used to collect 'good' backend
responses, its timestamp is used to construct fragment preferences
that govern the choice of fragments that a backend might return with
subsequent reponses. The bucket timestamp should remain fixed and
equal to the X-Backend-Data-Timestamp of the responses that it is
collecting when the responses are successful.

Previously the bucket timestamp was updated by each response's
X-Backend-Timestamp, which could be newer than the
X-Backend-Data-Timestamp if the object had newer metadata from a
POST. This caused the fragment preferences mechanism to fail,
potentially resulting in no bucket of durable fragments being
assembled even when sufficient durable fragments existed on backend
servers. In this case teh proxy would return a 503 response to the
client.

The bucket timestamp should be updated by X-Backend-Timestamp when
collecting bad responses, but not when collecting good responses.

Change-Id: I6236f20d736c119947e50540b16d212dba1ec20c
Closes-Bug: #1912014
"
openstack%2Fpython-openstackclient~stable%2Fussuri~I8ec738fbcabc8d8553db79a876e5592576cd18fa,openstack/python-openstackclient,stable/ussuri,pip-20.3,I8ec738fbcabc8d8553db79a876e5592576cd18fa,Fix lower-constraints job,MERGED,2021-01-21 14:22:17.000000000,2021-01-21 22:50:18.000000000,2021-01-21 22:47:40.000000000,7,6,0,771818,595139cee783518cccd15125925012a3209a76f9,8,3,1,3,15334,Stephen Finucane,sfinucan,"Fix lower-constraints job

pip 20.3 finally includes a proper dependency resolver. Its use is
causing the following error messages on the lower-constraints job:

  ERROR: Cannot install ... because these package versions have
  conflicting dependencies.

  The conflict is caused by:
      bandit 1.1.0 depends on PyYAML>=3.1.0
      cliff 3.4.0 depends on PyYAML>=3.12
      openstacksdk 0.52.0 depends on PyYAML>=3.13

Bump our lower constraint for PyYAML to resolve this issue. With that
resolved, we see a new issue:

  ERROR: Could not find a version that satisfies the requirement
  cryptography>=2.7 (from openstacksdk)
  ERROR: No matching distribution found for cryptography>=2.7

This is less self-explanatory but looking at the lower-constraints for
openstacksdk 0.52.0 shows a dependency on cryptography 2.7 [1], meaning
we need to bump this also.

Next up, flake8-import-order seems to cause the dependency resolver to
go nuts, eventually ending with the following error message in a Python
3.6 environment:

  Using cached enum34-1.1.2.zip (49 kB)
    ERROR: Command errored out with exit status 1:
     command: ...
         cwd: ...
    Complete output (9 lines):
    Traceback (most recent call last):
      File ""<string>"", line 1, in <module>
      File "".../lib/python3.6/site-packages/setuptools/__init__.py"", line 7, in <module>
        import setuptools.distutils_patch  # noqa: F401
      File "".../lib/python3.6/site-packages/setuptools/distutils_patch.py"", line 9, in <module>
        import re
      File ""/usr/lib64/python3.6/re.py"", line 142, in <module>
        class RegexFlag(enum.IntFlag):
    AttributeError: module 'enum' has no attribute 'IntFlag'
    ----------------------------------------

A quick Google suggests this is because the enum34 package is not
complete [2]. We shouldn't even be using it since our base virtualenv
should at least use Python 3.6, but I guess some dependency doesn't
properly restrict the dependency to <= Python 3.4. This is moved from
'test-requirements.txt' to 'tox.ini' since we don't need to use our
constraints machinery for linters.

Finally, the versions of bandit and hacking that pip is bringing in both
requires in a newer version of babel, which in turn requires a new
version of pytz.

  Collecting hacking>=2.0.0
  ...
  ERROR: Cannot install oslo.i18n because these package versions have
  conflicting dependencies.
  The conflict is caused by:
      babel 2.9.0 depends on pytz>=2015.7
      babel 2.8.1 depends on pytz>=2015.7
      babel 2.8.0 depends on pytz>=2015.7
      babel 2.7.0 depends on pytz>=2015.7

Seeing as we shouldn't be tracking bandit in
lower-constraints, I'm not sure why we're want to bump these
dependencies for just that. As above, we move these dependencies out of
'test-requirements' and into 'tox.ini' since we can do that for linters.

Conflicts:
  lower-constraints.txt
  test-requirements.txt

NOTE(stephenfin): Conflicts are due to the absence of ddt and presence
of mock in lower-constraints.txt and test-requirements.txt,
respectively.

Modifications:
  lower-constraints.txt

NOTE(stephenfin): There's no need to bump cryptography here since we're
using an older version of openstacksdk.

[1] https://opendev.org/openstack/openstacksdk/src/tag/0.52.0/requirements.txt#L19
[2] https://github.com/iterative/dvc/issues/1995#issuecomment-491889669

Change-Id: I8ec738fbcabc8d8553db79a876e5592576cd18fa
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit 20769cd7b27d51da84a324a17922427eba5c6eac)
(cherry picked from commit 83cd9b5b9c3b4c471b41190675f880599b78e44e)
"
openstack%2Frequirements~master~Ie5ef2b2a7a8386897690ab9007955be09710f8c3,openstack/requirements,master,new-release,Ie5ef2b2a7a8386897690ab9007955be09710f8c3,update constraint for python-ironicclient to new release 4.5.0,MERGED,2021-01-21 09:24:34.000000000,2021-01-21 22:50:17.000000000,2021-01-21 22:46:36.000000000,1,1,0,771772,250cfab0be0235a24711305db28e5cc990e92422,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-ironicclient to new release 4.5.0

meta: version: 4.5.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Iad2557888fe4d548ad32b2fa218104bc8ed42a77
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ie5ef2b2a7a8386897690ab9007955be09710f8c3
"
openstack%2Fopenstacksdk~master~If08fa34672ff32dda139b0b50cc7c4af89107846,openstack/openstacksdk,master,,If08fa34672ff32dda139b0b50cc7c4af89107846,Add id query parameter to sg rules,MERGED,2020-12-08 11:49:06.000000000,2021-01-21 22:50:01.000000000,2021-01-21 22:46:40.000000000,2,1,1,765980,b86edc3683ea73e0ecbe3d7d2c1495a1842d836c,16,3,1,2,32673,Tino Schreiber,tischrei,"Add id query parameter to sg rules

id paramter is needed for filter functionality in Ansible modules. See PR https://review.opendev.org/c/openstack/ansible-collections-openstack/+/765580

Change-Id: If08fa34672ff32dda139b0b50cc7c4af89107846
"
openstack%2Fswift~master~I357537492733b97e5afab4a7b8e6a5c527c650e4,openstack/swift,master,p-s3api-pipeline-check,I357537492733b97e5afab4a7b8e6a5c527c650e4,s3api: actually execute check_pipeline in real world,MERGED,2021-01-19 14:44:19.000000000,2021-01-21 22:49:50.000000000,2021-01-21 22:46:45.000000000,74,51,4,771467,6896f1f54b511f90414f414a07371b1101e59931,14,3,2,6,7847,Alistair Coles,acoles,"s3api: actually execute check_pipeline in real world

Previously, S3ApiMiddleware.check_pipeline would always exit early
because the __file__ attribute of the Config instance passed to
check_pipeline was never set. The __file__ key is typically passed to
the S3ApiMiddleware constructor in the wsgi config dict, so this dict
is now passed to check_pipeline() for it to test for the existence of
__file__.

Also, the use of a Config object is replaced with a dict where it
mimics the wsgi conf object in the unit tests setup.

UpgradeImpact
=============

The bug prevented the pipeline order checks described in
proxy-server.conf-sample being made on the proxy-server pipeline when
s3api middleware was included. With this change, these checks will now
be made and an invalid pipeline configuration will result in a
ValueError being raised during proxy-server startup.

A valid pipeline has another middleware (presumed to be an auth
middleware) between s3api and the proxy-server app. If keystoneauth is
found, then a further check is made that s3token is configured after
s3api and before keystoneauth.

The pipeline order checks can be disabled by setting the s3api
auth_pipeline_check option to False in proxy-server.conf. This
mitigation is recommended if previously operating with what will now
be considered an invalid pipeline.

The bug also prevented a check for slo middleware being in the
pipeline between s3api and the proxy-server app. If the slo middleware
is not found then multipart uploads will now not be supported,
regardless of the value of the allow_multipart_uploads option
described in proxy-server.conf-sample. In this case a warning will be
logged during startup but no exception is raised.

Closes-Bug: #1912391
Change-Id: I357537492733b97e5afab4a7b8e6a5c527c650e4
"
openstack%2Fmanila~master~Ieb828f4bce8964709bf5a18e19be6a3f4c484625,openstack/manila,master,bug/1878477,Ieb828f4bce8964709bf5a18e19be6a3f4c484625,Refactors code to avoid adding unnecessary config options,ABANDONED,2020-10-06 21:52:20.000000000,2021-01-21 22:36:11.000000000,,11,5,4,756405,25c4e944e83b6bac12ae67c50f0edaa790de892f,8,3,2,1,6413,Victoria Martinez de la Cruz,vkmc,"Refactors code to avoid adding unnecessary config options

We are setting up in manila.conf the configuration options
for the default backends even in the case that the default
config is not needed

This patch set refactors the code slightly so we only add the
required config options for the desired backend

Change-Id: Ieb828f4bce8964709bf5a18e19be6a3f4c484625
Closes-Bug: #1878477
"
openstack%2Fcharm-nova-cloud-controller~master~I758571613a945631e16412c9515b931029538c00,openstack/charm-nova-cloud-controller,master,sync-for-21-01,I758571613a945631e16412c9515b931029538c00,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:25:51.000000000,2021-01-21 22:31:52.000000000,2021-01-21 22:31:52.000000000,4,1,0,771636,0e02c9a207a20dc429e742b75f8a675eb9c142d3,20,3,3,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Note: func-test-pr is to test a change in zaza around model deletion.

Change-Id: I758571613a945631e16412c9515b931029538c00
func-test-pr: https://github.com/openstack-charmers/zaza/pull/410
"
openstack%2Fopenstack-helm-deployments~master~Ib0d15343fc28603d1a3e24fafb62f1b2fead1ba9,openstack/openstack-helm-deployments,master,,Ib0d15343fc28603d1a3e24fafb62f1b2fead1ba9,Update for Airshipctl changes,MERGED,2021-01-15 18:40:53.000000000,2021-01-21 21:51:49.000000000,2021-01-21 21:51:49.000000000,80,4,0,771061,a2daf3a7c8b0ea30faa97c7b7e0ced2281babf42,55,8,27,4,29585,Jeremy Houser,jh629g,"Update for Airshipctl changes

Secret generator phase patch:
http://review.opendev.org/766484/

Remove document plugin subcommand:
https://review.opendev.org/759279/

Change-Id: Ib0d15343fc28603d1a3e24fafb62f1b2fead1ba9
"
openstack%2Fnova-specs~master~Ia8100220268d1555aef4532d24e48e5152cd9db8,openstack/nova-specs,master,port-scoped-sriov-numa-affinity,Ia8100220268d1555aef4532d24e48e5152cd9db8,add port scoped numa affinity spec,MERGED,2020-12-08 02:08:29.000000000,2021-01-21 21:23:26.000000000,2021-01-21 21:21:14.000000000,205,0,79,765901,559fde0e335b5189a4feb466c3f9c36a6947ffeb,25,5,3,1,11604,sean mooney,sean-k-mooney,"add port scoped numa affinity spec

This change adds a spec to detail the extension
of the existing VM-scoped PCI NUMA affinity
feature and NUMA aware vswitch feature to support
port-scoped NUMA affinity policies.

Change-Id: Ia8100220268d1555aef4532d24e48e5152cd9db8
"
openstack%2Fneutron~stable%2Fvictoria~I7b12a469ae7197028cf3695520084597f4256480,openstack/neutron,stable/victoria,bug/1910213-stable/victoria,I7b12a469ae7197028cf3695520084597f4256480,ovn: Support live migration to DPDK nodes,MERGED,2021-01-18 09:20:16.000000000,2021-01-21 21:19:45.000000000,2021-01-21 21:10:02.000000000,3,1,0,771123,411fbdd205631ebca9093415b2b59c503d16587b,19,3,1,1,8655,Jakub Libosvar,jlibosva,"ovn: Support live migration to DPDK nodes

Previously, the vif-plugged event was emitted only when port VIF type
was set to normal. In DPDK case, the type is vhostuser. This patch
matches the type too and emits the notification to Nova.

Closes-bug: #1910213

Co-Authored-By: Flavio Fernandes <flaviof@redhat.com>

Change-Id: I7b12a469ae7197028cf3695520084597f4256480
(cherry picked from commit 2340ad217b198735b6bdcddf86d40d0f8c79f7bf)
"
openstack%2Fneutron~master~I91c55c9151a11401bd3a7fbe94e378a027bc97df,openstack/neutron,master,improve-neutron-ci,I91c55c9151a11401bd3a7fbe94e378a027bc97df,"Move ""Co-gating"" jobs to the periodic queue",MERGED,2021-01-19 16:12:25.000000000,2021-01-21 21:18:21.000000000,2021-01-21 21:10:11.000000000,18,43,2,771486,0afa1b24eef291f4abb4e9ac0e4b10fd480056a9,24,3,2,1,11975,Slawek Kaplonski,slaweq,"Move ""Co-gating"" jobs to the periodic queue

To use less infra resources by every Neutron patch, let's move
co-gating jobs, like Ironic, Openstacksdk and Tripleo based jobs
to the periodic queue.
Those jobs will be still run daily so we should have pretty good
coverage if (and when) some neutron change broke those projects but
we will use less infra resources by running jobs for every patch
proposed to Neutron.

Change-Id: I91c55c9151a11401bd3a7fbe94e378a027bc97df
"
openstack%2Fneutron~stable%2Fvictoria~Ib4b06c7877a7343f4204d4f4f5863931717ff507,openstack/neutron,stable/victoria,bug/1910946-stable/victoria,Ib4b06c7877a7343f4204d4f4f5863931717ff507,Do not report ovs agent state if ovs is dead,MERGED,2021-01-17 11:43:50.000000000,2021-01-21 21:18:17.000000000,2021-01-21 21:09:55.000000000,24,4,0,771119,7756940d8a723f388ae0faad2e095843de47d77c,18,3,1,3,29071,norman shen,ushen,"Do not report ovs agent state if ovs is dead

Do not report ovs agent state when ovs is dead,
and let neutron-server mark service as down. So
cluster admin could determine there is a problem
of the given ovs agent

Change-Id: Ib4b06c7877a7343f4204d4f4f5863931717ff507
Closes-Bug: #1910946
(cherry picked from commit 5d8f3fd614e4149dfd6ab67749f64ee0ef62afc7)
"
openstack%2Fossa~master~I3f8d3760daceb9e62396ae21b0d915ae07eff303,openstack/ossa,master,bug/1815422,I3f8d3760daceb9e62396ae21b0d915ae07eff303,More accurately match paths in safe path example,MERGED,2021-01-21 16:56:21.000000000,2021-01-21 21:09:26.000000000,2021-01-21 21:07:45.000000000,6,5,0,771854,0e4118d19efc43733d4d93f5fe7ccc359dcadcb2,8,3,1,1,5263,Jeremy Stanley,fungi,"More accurately match paths in safe path example

As was pointed out in a bug report, the example for safe path
matching should not be comparing substrings, but actual path
components. As OpenStack projects currently no longer support Python
interpreter versions prior to 3.5, we can take advantage of
os.path.commonpath() for confirming this correctly.

Change-Id: I3f8d3760daceb9e62396ae21b0d915ae07eff303
Closes-Bug: #1815422
"
openstack%2Fmanila-tempest-plugin~master~I9f0d50a325139e6067e4339533d4b01a322df7a8,openstack/manila-tempest-plugin,master,waiters,I9f0d50a325139e6067e4339533d4b01a322df7a8,Moving resource waiters to a new module,MERGED,2021-01-19 16:09:35.000000000,2021-01-21 20:30:56.000000000,2021-01-21 20:30:56.000000000,722,653,5,771485,540e74ac3da07cf62a00ab7976fb9382cf2e59a8,31,5,9,34,19262,Liron Kuchlani,lkuchlan,"Moving resource waiters to a new module

Currently, resource waiters methods are placed under
service clients modules. There are three duplicated
waiters in both v1 and v2 modules:
- wait_for_share_status
- wait_for_snapshot_status
- wait_for_access_rule_status

This patch suggests to separate the waiter functions
from client modules and collect them in one place.

Change-Id: I9f0d50a325139e6067e4339533d4b01a322df7a8
"
openstack%2Foctavia~stable%2Fussuri~I86add89ed7ea474dcb24962547c78460bc2e260c,openstack/octavia,stable/ussuri,,I86add89ed7ea474dcb24962547c78460bc2e260c,Add missing log line for finishing amp operations,MERGED,2020-09-21 06:09:16.000000000,2021-01-21 20:25:07.000000000,2021-01-21 20:22:51.000000000,12,2,0,752860,0afb17c434d1c385eb3b7f4859060de35a0d6f67,18,7,1,2,6469,Carlos Gonçalves,cgoncalves,"Add missing log line for finishing amp operations

Both amp config and amp cert rotate were missing Finished log lines.

Change-Id: I86add89ed7ea474dcb24962547c78460bc2e260c
(cherry picked from commit 6b182b50cda83bc83aa5cc1edd72e3dd6609de17)
"
openstack%2Fkayobe~master~I2c428ffc2b285aee03d8f59ae7cd3fb7230ce4ae,openstack/kayobe,master,story/2008180,I2c428ffc2b285aee03d8f59ae7cd3fb7230ce4ae,Add variables for API VIP address and FQDN,MERGED,2020-09-22 11:20:54.000000000,2021-01-21 20:16:29.000000000,2021-01-21 20:14:37.000000000,126,57,0,753289,1862e24bb5062be181e3462a773b96b214cd8be8,14,5,3,8,14826,Mark Goddard,mgoddard,"Add variables for API VIP address and FQDN

Kayobe currently supports definition of various different networks -
public, internal, tunnel, etc. These typically map to a VLAN or flat
network, with an IP subnet. When a cloud exceeds the size of a single
VLAN/subnet, this approach no longer works.

One way to resolve this is to have multiple subnets that map to a single
logical network, and provide routing between them. This is a similar
concept to neutron's routed networks, but for the control plane.

An issue arising from this is that if different hosts can have different
network definitions for the internal and public networks, it is no
longer trivial to use a network attribute [1] to specify the VIP address
and FQDN. Furthermore, the play that generates Kolla Ansible's
globals.yml containing the VIP and FQDN variables runs as localhost,
which does not necessarily have the internal and public networks
defined.

To resolve this, we add global variables for the VIPs and FQDNs. The
default values are as before, except in the case where HAProxy is
disabled, which we no longer provide a useful default for. That
configuration is very rarely used in practice, and the need to reference
the IP address of a host in the network group makes it difficult to
define safely.

[1] https://docs.openstack.org/kayobe/latest/configuration/reference/network.html#global-network-configuration

Story: 2008180
Task: 40937

Change-Id: I2c428ffc2b285aee03d8f59ae7cd3fb7230ce4ae
"
openstack%2Fneutron~stable%2Ftrain~Iadc1671c862f8c01e5761e92b82a04849d4bb411,openstack/neutron,stable/train,bug/1892405-stable/train,Iadc1671c862f8c01e5761e92b82a04849d4bb411,Fix removal of dvr-src mac flows when non-gateway port on router is deleted,MERGED,2021-01-07 04:15:01.000000000,2021-01-21 19:49:06.000000000,2021-01-21 19:44:55.000000000,219,19,0,769589,bf8fc2db0ca74631b60475103a4d3f543d052203,24,3,4,2,10366,Hemanth N,Hemanth,"Fix removal of dvr-src mac flows when non-gateway port on router is deleted

Removal of non-gateway port on DVR router deletes all the DVR to
SRC mac flows for the instances of same subnet on that compute node.
The instances are not reachable from any other network.

This patch checks if the DVR router port is gateway for the subnet
or not. And deletes the DVR-SRC mac flows only if it is gateway port.
The DVR-SRC mac flows are deleted if the gateway is not set for the subnet.

Change-Id: Iadc1671c862f8c01e5761e92b82a04849d4bb411
Closes-Bug: #1892405
(cherry picked from commit 329ea19f8b881421b9b5ae2fcc855f96af72a9f5)
"
openstack%2Fnova~master~Iaf6f6e0dbcb25561bf00e969e1964cd30e974e64,openstack/nova,master,,Iaf6f6e0dbcb25561bf00e969e1964cd30e974e64,zuul: Skip test_attach_cloned_encrypted_volume in nova-ceph-multistore,MERGED,2021-01-21 09:43:48.000000000,2021-01-21 19:14:56.000000000,2021-01-21 19:07:54.000000000,1,1,0,771777,6eae97843a21f7b7f58ce69328761b8fc8df6b6e,11,3,1,1,10135,Lee Yarwood,lyarwood,"zuul: Skip test_attach_cloned_encrypted_volume in nova-ceph-multistore

As with the already listed encrypted volume tests this job specifically
blocks us from downloading non-raw images via Glance as part of these
tests so skip it.

Change-Id: Iaf6f6e0dbcb25561bf00e969e1964cd30e974e64
Closes-Bug: #1912607
"
openstack%2Fdevstack~master~Ic460bdc3267059ecfae39ba53cb69144e5790ce0,openstack/devstack,master,posix-fix,Ic460bdc3267059ecfae39ba53cb69144e5790ce0,Small posix test to for zsh,ABANDONED,2019-04-16 23:15:32.000000000,2021-01-21 19:05:02.000000000,,1,1,0,653166,6970a3f53a71b8fffff0acdbc8f483c3e244c3cc,10,4,3,1,5997,Walt,walter-boring,"Small posix test to for zsh

This patch changes the test for OS_CACRT to a posix compliant test
that will work in zsh as well as bash.

Change-Id: Ic460bdc3267059ecfae39ba53cb69144e5790ce0
"
openstack%2Fopenstacksdk~master~I570a98328188979f453bed98a2f8d6e35c569f19,openstack/openstacksdk,master,,I570a98328188979f453bed98a2f8d6e35c569f19,Support SNAP_REAL_HOME when using openstacksdk inside a snap package,MERGED,2020-12-22 15:24:44.000000000,2021-01-21 18:56:36.000000000,2021-01-21 18:54:29.000000000,11,2,2,768223,78dd1a73d8ff063612560a9882b26bffa5f9e51a,12,4,2,1,7102,Thomas Bechtold,toabctl,"Support SNAP_REAL_HOME when using openstacksdk inside a snap package

When the openstacksdk is used inside a snap package (eg. [1]), $HOME
is re-written by snapd so that each snap appears to have a dedicated
home directory that is a subdirectory of the real home directory [2].
But the clouds.yaml file is still in the real home directory.
To be able to use that file, let openstacksdk look for $SNAP_REAL_HOME
and if available, use that variable to construct the path for the
clouds.yaml file.

[1] https://opendev.org/x/snap-openstackclients
[2] https://snapcraft.io/docs/environment-variables

Change-Id: I570a98328188979f453bed98a2f8d6e35c569f19
"
openstack%2Ftripleo-common~stable%2Fstein~Ia4998fbfe2ec3944f36b1d70a39ac432442aefbc,openstack/tripleo-common,stable/stein,tripleo-c7-update-upgrade-removal,Ia4998fbfe2ec3944f36b1d70a39ac432442aefbc,Remove centos-7 upgrade and update jobs and lower-constraints,MERGED,2021-01-19 07:43:32.000000000,2021-01-21 18:35:52.000000000,2021-01-21 18:29:39.000000000,0,12,0,771371,5194d273005192b5990f349e0617f3c48c19dc52,20,7,3,1,8449,Marios Andreou,marios,"Remove centos-7 upgrade and update jobs and lower-constraints

See topic branch [1] for related patches. Per the related bug it
also removes the lower-constraints jobs. These were removed for
stable/train at [2].

[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal
[2] https://review.opendev.org/c/openstack/tripleo-common/+/766517
Related-Bug: 1907236

Change-Id: Ia4998fbfe2ec3944f36b1d70a39ac432442aefbc
"
openstack%2Fautomaton~master~Iaaa6d1b7b0a957da75b0819c2d10b639463f9d23,openstack/automaton,master,tox-python38,Iaaa6d1b7b0a957da75b0819c2d10b639463f9d23,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:00:24.000000000,2021-01-21 18:25:10.000000000,2021-01-21 18:23:47.000000000,1,1,0,761298,86a214fc68e2d183bf6142c51ccde807207e36bc,11,2,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Iaaa6d1b7b0a957da75b0819c2d10b639463f9d23
"
openstack%2Freleases~master~Ibc97661927fefc0deab2c4a7b2739493051b92d7,openstack/releases,master,w2-c-w-i,Ibc97661927fefc0deab2c4a7b2739493051b92d7,Wallaby-2 Release for python-cyborgclient,MERGED,2021-01-15 06:41:30.000000000,2021-01-21 18:19:53.000000000,2021-01-21 18:19:53.000000000,5,0,0,770891,324ceffbdb5ffcfeeb9a80190fbaca576c46b3cc,11,5,2,1,28522,Hervé Beraud,hberaud,"Wallaby-2 Release for python-cyborgclient

This is the Wallaby milestone-2 release for python-cyborgclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 21.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ibc97661927fefc0deab2c4a7b2739493051b92d7
"
openstack%2Foslo.service~master~If79bec3c1ae3df62d2af057e748d6110952f9dcc,openstack/oslo.service,master,tox-python38,If79bec3c1ae3df62d2af057e748d6110952f9dcc,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:05:05.000000000,2021-01-21 18:13:15.000000000,2021-01-21 18:11:36.000000000,1,1,0,761314,8b8e0717bfb1ef7194e1efeb4338d7c8e3c24874,11,2,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: If79bec3c1ae3df62d2af057e748d6110952f9dcc
"
openstack%2Fnetworking-bagpipe~stable%2Fstein~I63aa2fed96c064f0cd778ea702ecd7a56d44014f,openstack/networking-bagpipe,stable/stein,oslo_lc_drop,I63aa2fed96c064f0cd778ea702ecd7a56d44014f,Dropping lower constraints testing (stable Stein),MERGED,2021-01-12 16:33:22.000000000,2021-01-21 18:06:32.000000000,2021-01-21 17:59:57.000000000,2,165,1,770451,47e77c975ec44cc20888a3dbc74340321c9ce47e,14,4,2,4,8313,Lajos Katona,elajkat,"Dropping lower constraints testing (stable Stein)

This topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

As decided in Neutron meeting, stable branches will drop this
CI job [2].

[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html

Change-Id: I63aa2fed96c064f0cd778ea702ecd7a56d44014f
"
openstack%2Fovn-octavia-provider~master~I46e01fe30bb98b51e392d15bf3597bdfe0ecc633,openstack/ovn-octavia-provider,master,,I46e01fe30bb98b51e392d15bf3597bdfe0ecc633,[DNM] Please ignore,ABANDONED,2021-01-21 16:25:24.000000000,2021-01-21 17:58:02.000000000,,1,2,0,771845,bd3110504f6586c8868a41a0c452c932719316a1,3,1,1,1,11952,Flavio Fernandes,ffernand,"[DNM] Please ignore

Change-Id: I46e01fe30bb98b51e392d15bf3597bdfe0ecc633
"
openstack%2Fopenstack-ansible-os_designate~master~I9490820bf344fc387a15020d0c5dedf08ab925f1,openstack/openstack-ansible-os_designate,master,copy-policy-json-in-place,I9490820bf344fc387a15020d0c5dedf08ab925f1,Adds handler for copying policy.json to the right place,NEW,2020-07-31 12:59:07.000000000,2021-01-21 17:57:34.000000000,,2,0,2,744149,07e8bf0534d5058d6bf2b33d078ebd605b8a9a10,5,2,2,2,30660,Jan Marquardt,janno,"Adds handler for copying policy.json to the right place

If designate_policy_overrides existed, the changes were written to
/etc/designate/policy.json-{{ designate_venv_tag  }}, but not
copied to /etc/designate/policy.json.

Change-Id: I9490820bf344fc387a15020d0c5dedf08ab925f1
"
openstack%2Fproject-config~master~I8d48371b592a54809f9845baf6110dc8fb7deca2,openstack/project-config,master,enable-inap-again,I8d48371b592a54809f9845baf6110dc8fb7deca2,"Revert ""Revert ""Revert ""Temporarily stop booting nodes in inap-mtl01""""""",MERGED,2021-01-21 17:08:59.000000000,2021-01-21 17:50:43.000000000,2021-01-21 17:42:42.000000000,1,1,0,771857,fa9e37d729869698f7f9149f4cdb533a79e8a5cf,7,2,1,1,4146,Clark Boylan,cboylan,"Revert ""Revert ""Revert ""Temporarily stop booting nodes in inap-mtl01""""""

This reverts commit 91d811b005d58576faeb00c40cb43a1a6d7b1c15.

We're going to try this again to see if the duplicate IPs (and resulting
ARP fights) persist. This is being done to balance against long queues
in Zuul.

Change-Id: I8d48371b592a54809f9845baf6110dc8fb7deca2
"
openstack%2Foslo.db~master~I66af9ab9bba12cdbb4a3652991f62aa98fa67450,openstack/oslo.db,master,tox-python38,I66af9ab9bba12cdbb4a3652991f62aa98fa67450,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:01:56.000000000,2021-01-21 17:50:28.000000000,2021-01-21 17:48:02.000000000,1,1,0,761303,6c3b36a28ddc1eabe76f1a4082fe4c4dd43fae70,12,3,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I66af9ab9bba12cdbb4a3652991f62aa98fa67450
"
openstack%2Fhorizon~master~I7222496d2c2b714b4037637104ae5c1ccbaf0665,openstack/horizon,master,deprecate-nova-ext-blacklist,I7222496d2c2b714b4037637104ae5c1ccbaf0665,"Revert ""Deprecate OPENSTACK_NOVA_EXTENSIONS_BLACKLIST""",ABANDONED,2020-07-28 17:29:58.000000000,2021-01-21 17:42:42.000000000,,0,11,1,743600,e647fc576f92939ef7d150d2a227889837ba17e8,11,5,1,2,1004,Mohammed Naser,mnaser,"Revert ""Deprecate OPENSTACK_NOVA_EXTENSIONS_BLACKLIST""

This option is extremely useful and needed inside environments where specific
extensions that need to be disabled which cause performance issues.  In large
environments, SimpleTenantUsage absolutely tears up the system and causes 504
gateway timeouts.

This reverts commit 523fbce3deeb7a79da34ad28e609ca25c3346c38.

Change-Id: I7222496d2c2b714b4037637104ae5c1ccbaf0665
"
openstack%2Foslo.versionedobjects~master~Ib41e75006acf4dd72968ab1896034f75899e8c34,openstack/oslo.versionedobjects,master,tox-python38,Ib41e75006acf4dd72968ab1896034f75899e8c34,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:05:41.000000000,2021-01-21 17:39:20.000000000,2021-01-21 17:37:26.000000000,1,1,0,761316,7ce947c8feeac967a3a5ce3f3c307b6665475e06,11,2,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Ib41e75006acf4dd72968ab1896034f75899e8c34
"
openstack%2Fswift~master~Ib225abd17666e8c966ebb4a559cef3851bcab844,openstack/swift,master,simple-manual-shrink,Ib225abd17666e8c966ebb4a559cef3851bcab844,Add swift-manage-shard-ranges shrink command,ABANDONED,2020-07-31 21:28:14.000000000,2021-01-21 17:30:04.000000000,,1337,27,35,744256,9793b7604aaabcfae6b9418c6a64c332d6caed22,13,3,5,6,15343,Tim Burke,tburke,"Add swift-manage-shard-ranges shrink command

... and some new probe tests and code for finding acceptors

Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>
Change-Id: Ib225abd17666e8c966ebb4a559cef3851bcab844
"
openstack%2Fnetworking-bagpipe~stable%2Ftrain~I5ea4bb27361df3c489deedb51d7ca8ea64bb923b,openstack/networking-bagpipe,stable/train,bug/1863021-stable/train,I5ea4bb27361df3c489deedb51d7ca8ea64bb923b,Monkey patch original current_thread _active,MERGED,2020-05-07 09:42:47.000000000,2021-01-21 17:29:36.000000000,2021-01-21 17:27:25.000000000,6,0,0,726074,2512a2b7a0553856d4bfd73d1b25542dd6939e91,19,6,4,1,21798,Bernard Cafarelli,bcafarel,"Monkey patch original current_thread _active

Monkey patch the original current_thread to use the up-to-date _active
global variable. This solution is based on that documented at:
https://github.com/eventlet/eventlet/issues/592

Change-Id: I5ea4bb27361df3c489deedb51d7ca8ea64bb923b
Closes-Bug: #1863021
(cherry picked from commit f0db421843f1161f4daa1e08b83eb2b11e78d9dd)
"
openstack%2Foslo.log~master~I4bad27f2daab336437ae7a85c79a4928b9fe894c,openstack/oslo.log,master,tox-python38,I4bad27f2daab336437ae7a85c79a4928b9fe894c,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:02:33.000000000,2021-01-21 17:24:15.000000000,2021-01-21 17:22:25.000000000,1,1,0,761306,a3d9c99dedd466baf4791f697112bfbcb3151ef9,13,3,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I4bad27f2daab336437ae7a85c79a4928b9fe894c
"
openstack%2Freleases~master~Ib419a77c99b4099e418f13815258230dd69c281d,openstack/releases,master,w2-c-w-i,Ib419a77c99b4099e418f13815258230dd69c281d,Wallaby-2 Release for python-tackerclient,MERGED,2021-01-15 06:57:36.000000000,2021-01-21 17:20:47.000000000,2021-01-21 17:20:47.000000000,4,0,0,770903,741fe7600ce6891b16be138bd008a09692e8478e,15,4,2,1,28522,Hervé Beraud,hberaud,"Wallaby-2 Release for python-tackerclient

This is the Wallaby milestone-2 release for python-tackerclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 21.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ib419a77c99b4099e418f13815258230dd69c281d
"
openstack%2Fnova~master~Ic23ca5fb1ad84d7300eb087b67a9e10d101cdf56,openstack/nova,master,bug/1899835,Ic23ca5fb1ad84d7300eb087b67a9e10d101cdf56,Add regression test for bug #1899835,MERGED,2020-10-14 20:17:04.000000000,2021-01-21 17:16:40.000000000,2021-01-21 17:08:37.000000000,106,0,1,758239,2317b92f4e80d82263e1b5f8f081e28361cc42c9,42,11,4,1,10135,Lee Yarwood,lyarwood,"Add regression test for bug #1899835

Related-Bug: #1899835
Change-Id: Ic23ca5fb1ad84d7300eb087b67a9e10d101cdf56
"
openstack%2Fneutron~stable%2Fstein~If19803ab6db144e2d17d6805d379c1c76d8fa343,openstack/neutron,stable/stein,bug/1906366-stable/stein,If19803ab6db144e2d17d6805d379c1c76d8fa343,Limit usage of resources in the fullstack tests job,MERGED,2021-01-11 11:47:25.000000000,2021-01-21 17:16:23.000000000,2021-01-21 17:08:28.000000000,8,4,0,770111,1fb797898b7bc1b349f00edb8088ab5c85cf6c67,17,3,2,5,11975,Slawek Kaplonski,slaweq,"Limit usage of resources in the fullstack tests job

To limit usage of resources (mostly memory) in the fullstack job and
to avoid oom killer to kill e.g. mysqld service, this patch:

* Makes number of API workers changeable by tests, as a parameter to
  EnvironmentDescription and defaults its value to 1. As neutron server
  is spawned separately for each test and is used only to process just
  few API requests during that single test so this should be still
  enough there, and where more API workers are needed (like some dhcp HA
  tests: TestDhcpAgentHARaceCondition) it can be changed,
* reduces number of test run workers from 4 to 3 - job will run slower
  but hopefully more stable,
* in the functional and fullstack tests job definition disable etcd3
  service - this will not save us a lot of memory but still it's not
  needed at all so why to run it there.

Conflicts:
    neutron/tests/fullstack/resources/environment.py
    neutron/tests/fullstack/test_dhcp_agent.py
    zuul.d/base.yaml

Change-Id: If19803ab6db144e2d17d6805d379c1c76d8fa343
Closes-Bug: #1906366
(cherry picked from commit f63dc09206a41c85edc92117c3e9cf3a3d49b820)
"
openstack%2Freleases~master~If62c81e75653c005b50d2ece2f3cc91ff595d78b,openstack/releases,master,release_osa,If62c81e75653c005b50d2ece2f3cc91ff595d78b,Release OpenStack-Ansible Train,MERGED,2021-01-19 13:44:11.000000000,2021-01-21 17:14:14.000000000,2021-01-21 17:14:14.000000000,4,0,0,771448,5340fcd22a51af44df0016e6963e64a661df3877,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Release OpenStack-Ansible Train

Change-Id: If62c81e75653c005b50d2ece2f3cc91ff595d78b
"
openstack%2Freleases~master~I19814fbb51fc040a761de1d95612bb9edc637fa8,openstack/releases,master,,I19814fbb51fc040a761de1d95612bb9edc637fa8,Release sushy 3.6.0 for Wallaby,MERGED,2021-01-20 12:34:27.000000000,2021-01-21 17:14:09.000000000,2021-01-21 17:14:09.000000000,4,0,0,771641,4a73339e7255390735026906ef415607d20531df,9,6,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Release sushy 3.6.0 for Wallaby

Change-Id: I19814fbb51fc040a761de1d95612bb9edc637fa8
"
openstack%2Freleases~master~If4227df0cc4a70d3bfad44c20d7d527eb66a431b,openstack/releases,master,glance-wallaby-m2,If4227df0cc4a70d3bfad44c20d7d527eb66a431b,Release Glance wallaby m-2 (22.0.0.0b2),MERGED,2021-01-20 11:53:13.000000000,2021-01-21 17:09:22.000000000,2021-01-21 17:09:22.000000000,5,0,0,771618,94a01d4d22bdbf3c13e88c2aab2611b6120734ae,9,4,1,1,5202,Erno Kuvaja,jokke,"Release Glance wallaby m-2 (22.0.0.0b2)

Change-Id: If4227df0cc4a70d3bfad44c20d7d527eb66a431b
"
openstack%2Fneutron~stable%2Fussuri~If19803ab6db144e2d17d6805d379c1c76d8fa343,openstack/neutron,stable/ussuri,bug/1906366-stable/victoria-stable/ussuri,If19803ab6db144e2d17d6805d379c1c76d8fa343,Limit usage of resources in the fullstack tests job,MERGED,2021-01-11 11:37:52.000000000,2021-01-21 16:55:11.000000000,2021-01-21 16:47:13.000000000,9,3,0,770080,1780962bed763e87c2ecaf7379b3368695faad16,16,4,1,5,11975,Slawek Kaplonski,slaweq,"Limit usage of resources in the fullstack tests job

To limit usage of resources (mostly memory) in the fullstack job and
to avoid oom killer to kill e.g. mysqld service, this patch:

* Makes number of API workers changeable by tests, as a parameter to
  EnvironmentDescription and defaults its value to 1. As neutron server
  is spawned separately for each test and is used only to process just
  few API requests during that single test so this should be still
  enough there, and where more API workers are needed (like some dhcp HA
  tests: TestDhcpAgentHARaceCondition) it can be changed,
* reduces number of test run workers from 4 to 3 - job will run slower
  but hopefully more stable,
* in the functional and fullstack tests job definition disable etcd3
  service - this will not save us a lot of memory but still it's not
  needed at all so why to run it there.

Change-Id: If19803ab6db144e2d17d6805d379c1c76d8fa343
Closes-Bug: #1906366
(cherry picked from commit f63dc09206a41c85edc92117c3e9cf3a3d49b820)
"
openstack%2Fopenstack-ansible-os_manila~master~Ie2c30dcc3640361b91e602125e98996c897f0f06,openstack/openstack-ansible-os_manila,master,osa/service_variables,Ie2c30dcc3640361b91e602125e98996c897f0f06,Use global service variables,MERGED,2021-01-08 15:35:41.000000000,2021-01-21 16:52:11.000000000,2021-01-21 16:45:07.000000000,17,10,1,769944,b5aed5c1301f60aea8fe34daefed8a6cb9572f14,19,4,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: Ie2c30dcc3640361b91e602125e98996c897f0f06
"
openstack%2Fironic~stable%2Fvictoria~I6cf7169f83356c248d4df61e1d9bba157c8499db,openstack/ironic,stable/victoria,,I6cf7169f83356c248d4df61e1d9bba157c8499db,Add a delay/retry is vmedia insert fails,MERGED,2021-01-18 16:04:09.000000000,2021-01-21 16:35:24.000000000,2021-01-21 16:32:38.000000000,59,2,2,771243,0e4e00e820b3cb320c1cb3c7fb7df7e181d3bf30,21,3,2,4,1926,Derek Higgins,derekh,"Add a delay/retry is vmedia insert fails

If media had been ejected beforehand then an immediate
insert may fail.

Change-Id: I6cf7169f83356c248d4df61e1d9bba157c8499db
Story: #2008504
Task: #41572
(cherry picked from commit 1a0f1cd545f0ff22e72d89fda40b1e64d61401f5)
"
openstack%2Ftempest~master~I840b273c37ca7cc4592c43813abfb424337e2836,openstack/tempest,master,admin-auth-system-scope,I840b273c37ca7cc4592c43813abfb424337e2836,Add system scope for admin auth,MERGED,2019-10-01 23:26:57.000000000,2021-01-21 16:26:35.000000000,2021-01-21 05:18:24.000000000,160,26,31,686073,cd0bbbdad37a31248d479ef78df948da0a1e850e,90,12,10,9,8482,Colleen Murphy,krinkle,"Add system scope for admin auth

Keystone is moving away from using either project-scope or domain-scope
for the main cloud administrator user, and instead moving toward the
admin user having a role assignment on the ""system"" scope[1]. This will
mean that no particular project or domain is special, and instead the
cloud administrator scopes to the system in order to make
deployment-wide changes. Keystone has now migrated all of its policies
to understand system scope[2], and if a deployment sets
[oslo_policy]/enforce_scope=true in keystone.conf and uses the new
policies, an admin user scoped to the admin project will not be able to
create dynamic credentials for tempest.

This patch adds a new parameter ``[auth]/admin_system`` to indicate that
neither the ``admin_project`` or ``admin_domain`` parameters apply to
the admin user and that the user should instead authenticate with the
system scope. This also adds ``admin_user_domain_name`` so that the
admin user can be found in its domain (namespace) without setting
``domain_name``, and for completeness also adds
``admin_project_domain_name`` so that ``domain_name`` could be omitted
even if using project scope.

[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html
[2] https://bugs.launchpad.net/keystone/+bugs?field.status%3Alist=FIXRELEASED&field.tag=system-scope

Depends-on: https://review.opendev.org/739262

Change-Id: I840b273c37ca7cc4592c43813abfb424337e2836
"
openstack%2Fcharm-guide~master~Ife2a40cfaa60a82986ff61bcad7498f93fe5c7eb,openstack/charm-guide,master,cinder-ceph-replication,Ife2a40cfaa60a82986ff61bcad7498f93fe5c7eb,Add cinder-ceph image mirroring to release notes,MERGED,2021-01-20 17:00:43.000000000,2021-01-21 15:34:18.000000000,2021-01-21 15:32:45.000000000,16,0,7,771672,30896c27fb9147ac6ec06d8e4736f1a2a614d573,13,3,2,1,31289,Aurelien Lourot,lourot,"Add cinder-ceph image mirroring to release notes

Change-Id: Ife2a40cfaa60a82986ff61bcad7498f93fe5c7eb
"
openstack%2Fkolla-ansible~master~I0da97d5a5b0a58d5c5e0e52b0687e2249d3fd222,openstack/kolla-ansible,master,update-release-notes,I0da97d5a5b0a58d5c5e0e52b0687e2249d3fd222,[docs] Correct project naming on Release Notes page,MERGED,2021-01-18 17:21:45.000000000,2021-01-21 15:22:18.000000000,2021-01-21 15:20:25.000000000,13,23,6,771253,0707100a853876813fe3adb1f158bca9210f3c4d,17,5,5,2,32657,Piotr Parczewski,piotrp,"[docs] Correct project naming on Release Notes page

Kolla Ansible's release notes page [1] has the same heading as
Kolla project's [2] which is confusing. This commit aims to fix
that, as well as to do some minor cleanup of docs configuration
by removing part that is never used.

[1] - https://docs.openstack.org/releasenotes/kolla-ansible/
[2] - https://docs.openstack.org/releasenotes/kolla/

Change-Id: I0da97d5a5b0a58d5c5e0e52b0687e2249d3fd222
"
openstack%2Ftacker~master~I4c66353eada16f7e51d7ed1c1999cf50635b9dce,openstack/tacker,master,change-770609-9,I4c66353eada16f7e51d7ed1c1999cf50635b9dce,Split FT to Legacy and SOL implementation,MERGED,2021-01-13 12:55:13.000000000,2021-01-21 15:16:53.000000000,2021-01-21 15:10:59.000000000,45,22,2,770609,ba813054a4a896d551e3c7a4927416d787e31bf1,35,8,10,32,27880,Yoshito Ito,yoshito-ito,"Split FT to Legacy and SOL implementation

FT execution time in Zuul is about to exceed its timeout. This patch
make the existing dsvm-functional FT job to be separated to two jobs;
* dsvm-functional-legacy
* dsvm-functional-sol

This patch fixes the unstable FT results in zuul FT jobs:
* test_rollback_instantiate:
  ``depends_on`` in BaseHOT makes stable deletion of stacks, otherwise
  Heat fails to delete subnets due to missing dependency with ports.
* test_vnf_alarm_scale_with_instance_reservation:
   ""--concurrency 1"" enables to run test without any VMs on hosts,
  otherwise Blazar fails to add hosts into the freepool.

Changes:
* Split the FT directory to legacy and sol
* Create new tox envs for FT of legacy and of SOL
* Relative path are changed due to the new directory structure
* Add ``depends_on` parameter in BaseHOT
* Set ""--concurrency 1"" for both of the new FT jobs

Change-Id: I4c66353eada16f7e51d7ed1c1999cf50635b9dce
"
openstack%2Foslotest~master~I06b805afb6c3c936b55a9e322cf406e424aeb8bc,openstack/oslotest,master,tox-python38,I06b805afb6c3c936b55a9e322cf406e424aeb8bc,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:06:18.000000000,2021-01-21 15:07:49.000000000,2021-01-21 15:05:26.000000000,1,1,0,761318,b591174f3b2d496ecd2051079b1363a60bca5bc9,11,2,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I06b805afb6c3c936b55a9e322cf406e424aeb8bc
"
openstack%2Fopenstack-doc-tools~master~I07c86686aa5bdd8658616c901cba262e4394bb12,openstack/openstack-doc-tools,master,tox-python38,I07c86686aa5bdd8658616c901cba262e4394bb12,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:07:55.000000000,2021-01-21 14:59:10.000000000,2021-01-21 14:57:40.000000000,1,1,0,761324,31c0b1901c0d19c9c5f8aa63086557c6bed75a31,11,2,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I07c86686aa5bdd8658616c901cba262e4394bb12
"
openstack%2Fproject-config~master~Ibb64ff8dbdac9eb483dc9bb9397bd3bed9a04293,openstack/project-config,master,story/2007196,Ibb64ff8dbdac9eb483dc9bb9397bd3bed9a04293,Add ubuntu bionic and focal with xxxlarge flavor,MERGED,2021-01-20 07:30:17.000000000,2021-01-21 14:55:57.000000000,2021-01-21 14:42:17.000000000,14,0,1,771565,031c748dded22f3e8389f986044106910233fddc,16,5,3,1,12404,Rico Lin,rico.lin,"Add ubuntu bionic and focal with xxxlarge flavor

ubuntu-focal-arm64-xxxlarge and ubuntu-bionic-arm64-xxxlarge
will use m1.xxxlarge as flavor

Change-Id: Ibb64ff8dbdac9eb483dc9bb9397bd3bed9a04293
"
openstack%2Fnova~master~I544b35eb6f8777a2356ccce90edc47ee8b4cf9bc,openstack/nova,master,no-cinder-in-multistore,I544b35eb6f8777a2356ccce90edc47ee8b4cf9bc,Try harder to exclude encrypted volumes,ABANDONED,2021-01-21 14:40:12.000000000,2021-01-21 14:52:02.000000000,,1,1,1,771822,84872e9b46ec9f474b0c7f2e960dfc252bcfc5b6,3,0,1,1,4393,Dan Smith,danms,"Try harder to exclude encrypted volumes

We planned to not run the cinder encryption tests in the
nova-ceph-multistore job, but lately we've been hitting tons of
failures in some of those tests that come in via the cinder
tempest plugin. This tries to make the regex hit more of them.

Change-Id: I544b35eb6f8777a2356ccce90edc47ee8b4cf9bc
"
openstack%2Fneutron~stable%2Fvictoria~If33c49c0f3e1e6696f5d2aa4008b287dc3f76c61,openstack/neutron,stable/victoria,bug/1902678-stable/victoria,If33c49c0f3e1e6696f5d2aa4008b287dc3f76c61,Add process name to AsyncProcess,MERGED,2020-12-04 11:42:15.000000000,2021-01-21 14:38:03.000000000,2021-01-21 14:35:19.000000000,37,9,5,765410,dd46044fce288f4ba44079772cbc08fcdcb1a404,21,3,2,4,11975,Slawek Kaplonski,slaweq,"Add process name to AsyncProcess

Since [1], Neutron sets the name of some processes (Neutron agents).
The ""ps"" output is modified consequently according to the defined
string:
  ""<process name> (<process command>)""

""AsyncProcess"" class should use the process name to parse the ""ps""
output correctly.

Closes-Bug: #1902678

[1]https://review.opendev.org/#/c/735125/

Change-Id: If33c49c0f3e1e6696f5d2aa4008b287dc3f76c61
(cherry picked from commit ad0605f9c3cced115c829c57dbeb0ee96b5ad8bb)
"
openstack%2Fopenstack-ansible~master~If3f28603b591782d851c4f333e3b1dcee39a0aac,openstack/openstack-ansible,master,,If3f28603b591782d851c4f333e3b1dcee39a0aac,Limit threads and processes for Senlin in AIO configuration,MERGED,2021-01-18 17:37:46.000000000,2021-01-21 14:11:48.000000000,2021-01-21 14:08:38.000000000,5,0,0,771256,cac849f791a6189a7c29748bf362f589dbef447c,13,4,1,1,25023,Jonathan Rosser,jrosser,"Limit threads and processes for Senlin in AIO configuration

Change-Id: If3f28603b591782d851c4f333e3b1dcee39a0aac
"
openstack%2Fironic~master~I4b06478a14ab514d785f8e3972e5afbd79f8d3b5,openstack/ironic,master,ramdisk-configdrive,I4b06478a14ab514d785f8e3972e5afbd79f8d3b5,Follow-up for ramdisk deploy configdrive support,MERGED,2021-01-11 19:02:51.000000000,2021-01-21 14:08:11.000000000,2021-01-21 14:06:14.000000000,55,19,3,770172,fe380bbbab9d99554ceff82404f6033215c36063,21,3,1,7,10239,Dmitry Tantsur,dtantsur,"Follow-up for ramdisk deploy configdrive support

1) Do not issue a warning if the boot interface supports configdrive
2) Implement missing support for Swift URLs in configdrives

Change-Id: I4b06478a14ab514d785f8e3972e5afbd79f8d3b5
"
openstack%2Fceilometer~master~If5ce1830aab844fa34ec375e474fa1651693cad9,openstack/ceilometer,master,tox,If5ce1830aab844fa34ec375e474fa1651693cad9,Update requirements URLs in tox config,MERGED,2020-10-29 12:04:25.000000000,2021-01-21 14:05:52.000000000,2021-01-21 14:03:50.000000000,1,1,0,760347,55c7f3127454a43de6274509b5844bca7b5ea81c,12,3,2,1,32029,likui,likui,"Update requirements URLs in tox config

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org

Change-Id: If5ce1830aab844fa34ec375e474fa1651693cad9
"
openstack%2Fceilometer~master~I3aab355f80940f8d5cb11987c1f336827fe4ed47,openstack/ceilometer,master,,I3aab355f80940f8d5cb11987c1f336827fe4ed47,Use TOX_CONSTRAINTS_FILE,ABANDONED,2020-11-03 07:53:24.000000000,2021-01-21 14:05:15.000000000,,2,2,0,761068,8034200d7ff27a08e151ed79f77256734ec3e92d,4,2,1,1,32291,wushiming,wushiming,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://review.opendev.org/#/c/722814/

Change-Id: I3aab355f80940f8d5cb11987c1f336827fe4ed47
"
openstack%2Fneutron~stable%2Fvictoria~I360ba1d074ecfac66f52656b61b5c27db72e9d26,openstack/neutron,stable/victoria,,I360ba1d074ecfac66f52656b61b5c27db72e9d26,"Add missing ""process_name"" argument on Windows",MERGED,2021-01-18 14:00:29.000000000,2021-01-21 13:58:41.000000000,2021-01-21 13:47:29.000000000,1,1,0,771201,80f4b8f9c6693ad74db04857cc9c5fcfb74ccb02,11,4,1,1,11975,Slawek Kaplonski,slaweq,"Add missing ""process_name"" argument on Windows

A recent change [1] added a ""process_name"" argument to the
""pid_invoked_with_cmdline"" function. The Windows version wasn't
updated, so the ovs agent is now failing [2].

This change adds the missing argument to the Windows
""pid_invoked_with_cmdline"" function.

[1] If33c49c0f3e1e6696f5d2aa4008b287dc3f76c61
[2] http://paste.openstack.org/raw/800146/

Change-Id: I360ba1d074ecfac66f52656b61b5c27db72e9d26
(cherry picked from commit 77db2cf7bd383b224b8f98b2aafd20571d055c79)
"
openstack%2Fnetworking-bagpipe~stable%2Ftrain~I321dcffc1ab2494de4bc398dfc97e5b5a6666495,openstack/networking-bagpipe,stable/train,oslo_lc_drop,I321dcffc1ab2494de4bc398dfc97e5b5a6666495,Dropping lower constraints testing (stable Train),MERGED,2021-01-12 16:31:32.000000000,2021-01-21 13:56:58.000000000,2021-01-21 13:43:19.000000000,5,164,0,770450,f58058aa06eb5648950e9c2a6f663843570ed8cd,17,6,6,5,8313,Lajos Katona,elajkat,"Dropping lower constraints testing (stable Train)

This topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

As decided in Neutron meeting, stable branches will drop this
CI job [2].

For train, add isort to test-requirements to pass tests with new pip
resolver, and use upper-constraints in doc requirements to cap neutron.

[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html

Change-Id: I321dcffc1ab2494de4bc398dfc97e5b5a6666495
"
openstack%2Fvalidations-libs~master~Ife26091f2a751347f315ffa7e493b8db6a203dc7,openstack/validations-libs,master,tox/pep8,Ife26091f2a751347f315ffa7e493b8db6a203dc7,pep8 is now run along with linter envs,ABANDONED,2021-01-20 07:49:05.000000000,2021-01-21 13:51:58.000000000,,1,0,1,771567,7b98fdf2c29ace1e4da79cc47c2f9b8006d8f29d,5,3,1,1,32926,Jiri Podivin,jpodivin,"pep8 is now run along with linter envs

tox.ini already defined pep8 env,
but only used it if specifically requested.
Now it is included with linter envs in general run.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ife26091f2a751347f315ffa7e493b8db6a203dc7
"
openstack%2Fheat~stable%2Fvictoria~Ic67b22c435e29f67bafa8e14ab502ebec5b07ec5,openstack/heat,stable/victoria,story/2002671-stable/victoria,Ic67b22c435e29f67bafa8e14ab502ebec5b07ec5,Delete the default value of domain in role creation,MERGED,2020-11-16 15:14:33.000000000,2021-01-21 13:35:22.000000000,2021-01-21 13:29:53.000000000,14,2,0,762859,996884da68469e91f9e13539f53c50fe10320dc2,7,3,1,2,12404,Rico Lin,rico.lin,"Delete the default value of domain in role creation

The default value of domain caused the user to be unable to create
role which no domain.
The patch delete the default value of domain.

Change-Id: Ic67b22c435e29f67bafa8e14ab502ebec5b07ec5
Story: 2002671
Task: 22488
(cherry picked from commit e5b00ddfafe2613440fd4992ca468b805276e58a)
"
openstack%2Fansible-collections-openstack~master~I0432e5d5d6d5f5ce935cf59a00f35153649c22dd,openstack/ansible-collections-openstack,master,protocols,I0432e5d5d6d5f5ce935cf59a00f35153649c22dd,Remove protocols choice in security rules,MERGED,2021-01-15 17:35:47.000000000,2021-01-21 13:34:43.000000000,2021-01-21 13:34:43.000000000,4,8,0,771055,a3f809eb998275fb1f8decb2c1a5e18206e8f44d,10,5,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Remove protocols choice in security rules

Security group rule can support a lot of protocols now and their
integer representations in 0-255 range. Let's not limit for this
option anymore.

Change-Id: I0432e5d5d6d5f5ce935cf59a00f35153649c22dd
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~I7d61841c551b26f098f854a161677e94a613c6be,openstack/openstack-ansible,stable/victoria,,I7d61841c551b26f098f854a161677e94a613c6be,Disable repeatedly failing zun tempest test,MERGED,2021-01-20 08:50:06.000000000,2021-01-21 13:22:37.000000000,2021-01-21 13:20:00.000000000,6,0,0,771548,2decd1df4e735d522c86ad0fab405fec666a3c39,12,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Disable repeatedly failing zun tempest test

This test regularly fails in CI for Ubuntu Focal in particular,
but occasionally for other distributions too. There may be an
occasional timing error causing it to end prematurely.

Change-Id: I7d61841c551b26f098f854a161677e94a613c6be
(cherry picked from commit dd35de4ccd8d89750667e47da5ae40797fd7095d)
"
openstack%2Fneutron~master~I0e186c3f5c06082ab64bffb51809a35ed8a8c63b,openstack/neutron,master,update-py3-to-wallaby,I0e186c3f5c06082ab64bffb51809a35ed8a8c63b,Switch to openstack-python3-wallaby-jobs,ABANDONED,2020-12-08 08:51:38.000000000,2021-01-21 13:17:43.000000000,,1,1,0,765923,287e0feee531d51afd31cae21922863f9286f02f,5,2,1,1,12404,Rico Lin,rico.lin,"Switch to openstack-python3-wallaby-jobs

Change-Id: I0e186c3f5c06082ab64bffb51809a35ed8a8c63b
"
openstack%2Fnova-specs~master~Id70e73ed0bfd44e9f3ef540614f1dda0cc925ba9,openstack/nova-specs,master,vhost-vdpa,Id70e73ed0bfd44e9f3ef540614f1dda0cc925ba9,[FUP] remove final reference to trait in vdpa spec,MERGED,2021-01-21 11:25:58.000000000,2021-01-21 12:49:58.000000000,2021-01-21 12:46:01.000000000,1,5,0,771796,0ecdd57bb7255ed928547a8b4bd4d13bb4fdaa2c,8,3,1,1,11604,sean mooney,sean-k-mooney,"[FUP] remove final reference to trait in vdpa spec

This is a trivial change to remove references to
a new standard trait in the upgrade impact
section since we choose not to add one.

This was missed when the trait was moved to the alternitives
section.

Change-Id: Id70e73ed0bfd44e9f3ef540614f1dda0cc925ba9
"
openstack%2Fnova-specs~master~I74a78223254194ae660aa6d851029c992ba581e2,openstack/nova-specs,master,vhost-vdpa,I74a78223254194ae660aa6d851029c992ba581e2,libvirt: support vdpa kernel networking,MERGED,2020-12-01 20:00:43.000000000,2021-01-21 12:48:00.000000000,2021-01-21 12:45:58.000000000,272,0,104,764999,e0588b5de707f59c6ade97b602fd97abd9f3e5fc,35,4,5,1,11604,sean mooney,sean-k-mooney,"libvirt: support vdpa kernel networking

This change adds a spec to describe enhancements
to the libvirt driver to support the new vdpa bus
for harware offloaded virtio devices.

blueprint: libvirt-vdpa-support
Change-Id: I74a78223254194ae660aa6d851029c992ba581e2
"
openstack%2Fkayobe~master~I7fa88a203274c3030b3d8e5208f94b2230d43c68,openstack/kayobe,master,,I7fa88a203274c3030b3d8e5208f94b2230d43c68,Fix /tmp/swift-rings/backups/ files deletion,MERGED,2020-11-30 05:10:51.000000000,2021-01-21 12:27:33.000000000,2021-01-21 12:26:03.000000000,7,0,0,764600,f811d3148ac542f32b476146ffc791aa4ea72693,30,6,3,2,23871,MargaritaShakhova,MargaritaShakhova,"Fix /tmp/swift-rings/backups/ files deletion

Add permission escalation to the swift ring generation playbook

Task: 41256
Story: 2008354
Change-Id: I7fa88a203274c3030b3d8e5208f94b2230d43c68
"
openstack%2Fironic~master~I9a3eb62bb41e0623df9aa5c34fde6f343053dd76,openstack/ironic,master,secure-rbac,I9a3eb62bb41e0623df9aa5c34fde6f343053dd76,Attempt to slim down protection test base class,MERGED,2021-01-13 22:35:06.000000000,2021-01-21 11:37:42.000000000,2021-01-21 11:33:13.000000000,15,63,6,770673,c7f24e8ceb9b49ed0fcdc94353240f5c1cfa65e2,23,4,4,2,5046,Lance Bragstad,ldbragst,"Attempt to slim down protection test base class

This commit builds on an attempt to introduce a base class that we can
use for protection testing. I'm removing the majority of the fake tokens
and context objects, ultimately removing anything that
keystonemiddleware_authtoken middleware does.

Doing this allows us to set authorization headers directly in the test,
which makes the test case really clear from an input and outcome
perspective because we can see who is make the request and the intended
outcome.

It also removes any need to mock or understand keystonemiddleware
implementation details to implement protection testing in ironic.

Change-Id: I9a3eb62bb41e0623df9aa5c34fde6f343053dd76
"
openstack%2Foctavia~stable%2Ftrain~I806d220236ad741b638ad9315537334f2d923031,openstack/octavia,stable/train,,I806d220236ad741b638ad9315537334f2d923031,Fix amphora failover when VRRP port is missing,MERGED,2020-09-21 23:52:25.000000000,2021-01-21 11:36:20.000000000,2021-01-21 11:33:31.000000000,98,25,0,753193,ea7351efe96fcf49ad42b4a62ebe7df70cbc9902,15,6,2,5,11628,Michael Johnson,johnsom,"Fix amphora failover when VRRP port is missing

In an amphora failover situation, if the VRRP port of the other
amphora in an active/standby pair is missing from neutron, the amphora
failover may fail with a ""port not found"" error.
This patch corrects this issue by allowing the amphora failover in
progress to complete even if the other amphora is also in a failed
state.

Train-Only: this commit also fixes the order of parameters in
v1/.../amphora_driver_tasks.py. It was fixed on other stable branches in
""Update amphora v2 for the failover refactor"" (From
https://review.opendev.org/c/openstack/octavia/+/738292).

Story: 2008127
Task: 40851

Change-Id: I806d220236ad741b638ad9315537334f2d923031
(cherry picked from commit 66f3a63f442bb790dea5c529aa56a462d9515363)
"
openstack%2Fironic~master~Iee91d80cef3b9e6024507171352c6de9e89ce36e,openstack/ironic,master,secure-rbac,Iee91d80cef3b9e6024507171352c6de9e89ce36e,Write stub ACL test for every existing API call,MERGED,2020-12-17 02:10:19.000000000,2021-01-21 11:36:12.000000000,2021-01-21 11:29:03.000000000,670,4,27,767445,36d819e2fb8e27f8c900cf50c6c6fde1bde68a41,31,4,6,2,4571,Steve Baker,steve-stevebaker,"Write stub ACL test for every existing API call

This adds a skipped test for every documented path and method
to aid in getting test coverage of existing ACL behaviour, in
preparation for doing the same for secure-rbac.

When adding test coverage, the skip keys should be removed, and
specific test inputs and asserts should be added. The test can be
duplicated and renamed to get the required allow/deny test coverage.

Its possible we can delete some of these stubs as the path/method
shares a policy name with another path/method that has test coverage.

test_acl_existing.yaml was generated with the script
http://paste.openstack.org/show/801106/

Change-Id: Iee91d80cef3b9e6024507171352c6de9e89ce36e
"
openstack%2Fblazar~stable%2Fstein~Id9d4ef57e2cdbb727470120eced1acdc53617372,openstack/blazar,stable/stein,,Id9d4ef57e2cdbb727470120eced1acdc53617372,Remove lower-constraints job on stable branches,MERGED,2021-01-21 08:47:22.000000000,2021-01-21 11:36:08.000000000,2021-01-21 11:25:27.000000000,0,1,0,771769,02d02edd37243434cad82764894dc5204f70ee55,7,2,1,1,15197,Pierre Riteau,priteau,"Remove lower-constraints job on stable branches

It is preventing us from merging patches. Remove until it can be fixed.

Change-Id: Id9d4ef57e2cdbb727470120eced1acdc53617372
(cherry picked from commit e0bd740e9e01764aac06ba28b4a7d856a68b4145)
"
openstack%2Fblazar~stable%2Ftrain~Id9d4ef57e2cdbb727470120eced1acdc53617372,openstack/blazar,stable/train,,Id9d4ef57e2cdbb727470120eced1acdc53617372,Remove lower-constraints job on stable branches,MERGED,2021-01-21 08:46:38.000000000,2021-01-21 11:36:03.000000000,2021-01-21 11:25:18.000000000,0,1,0,771768,09167ec01b2fc681b5553555bf158bcd41e07ebf,7,2,1,1,15197,Pierre Riteau,priteau,"Remove lower-constraints job on stable branches

It is preventing us from merging patches. Remove until it can be fixed.

Change-Id: Id9d4ef57e2cdbb727470120eced1acdc53617372
(cherry picked from commit e0bd740e9e01764aac06ba28b4a7d856a68b4145)
"
openstack%2Fblazar~stable%2Fussuri~Id9d4ef57e2cdbb727470120eced1acdc53617372,openstack/blazar,stable/ussuri,,Id9d4ef57e2cdbb727470120eced1acdc53617372,Remove lower-constraints job on stable branches,MERGED,2021-01-21 08:45:56.000000000,2021-01-21 11:35:44.000000000,2021-01-21 11:21:47.000000000,0,1,0,771767,6922665ea0dc831186a48a3cc0a45750d566055d,7,2,1,1,15197,Pierre Riteau,priteau,"Remove lower-constraints job on stable branches

It is preventing us from merging patches. Remove until it can be fixed.

Change-Id: Id9d4ef57e2cdbb727470120eced1acdc53617372
(cherry picked from commit e0bd740e9e01764aac06ba28b4a7d856a68b4145)
"
openstack%2Fblazar~stable%2Fvictoria~Id9d4ef57e2cdbb727470120eced1acdc53617372,openstack/blazar,stable/victoria,,Id9d4ef57e2cdbb727470120eced1acdc53617372,Remove lower-constraints job on stable branches,MERGED,2021-01-21 08:44:27.000000000,2021-01-21 11:33:52.000000000,2021-01-21 11:21:43.000000000,0,1,0,771765,e0bd740e9e01764aac06ba28b4a7d856a68b4145,7,2,1,1,15197,Pierre Riteau,priteau,"Remove lower-constraints job on stable branches

It is preventing us from merging patches. Remove until it can be fixed.

Change-Id: Id9d4ef57e2cdbb727470120eced1acdc53617372
"
openstack%2Fkayobe~master~I2482c86efebd66a5d22a761df82763cecd764386,openstack/kayobe,master,fix-macos-tests,I2482c86efebd66a5d22a761df82763cecd764386,Fix unit tests on macOS,MERGED,2021-01-20 11:58:17.000000000,2021-01-21 11:04:15.000000000,2021-01-21 11:02:46.000000000,3,2,0,771620,e0120b43ed9b4e243fd9efaba3a9b1c33f94a958,10,2,1,1,15197,Pierre Riteau,priteau,"Fix unit tests on macOS

This unit test was failing because /tmp is a symlink to /private/tmp on
macOS. _detect_install_prefix() returns a different path because it
calls os.path.realpath().

Change-Id: I2482c86efebd66a5d22a761df82763cecd764386
"
openstack%2Ftripleo-ansible~master~Icac9faa562ed9e48e483d4c5901cc2f9abb0daa2,openstack/tripleo-ansible,master,cephadm_integration,Icac9faa562ed9e48e483d4c5901cc2f9abb0daa2,Change-Id: I834a21f94c92dd0653e1ade202bb2fd55be33811,ABANDONED,2021-01-21 11:00:36.000000000,2021-01-21 11:01:20.000000000,,7,2,0,771793,b05ee4a2c290459d6978746792c800334615503a,2,0,1,1,25402,Francesco Pantano,fmount,"Change-Id: I834a21f94c92dd0653e1ade202bb2fd55be33811

Change-Id: Icac9faa562ed9e48e483d4c5901cc2f9abb0daa2
"
openstack%2Foctavia~stable%2Fstein~If5b6411a0b7c75441a406234c2792ea68d35d0fe,openstack/octavia,stable/stein,,If5b6411a0b7c75441a406234c2792ea68d35d0fe,Fix listener update with SNI certificates,MERGED,2020-12-16 11:09:25.000000000,2021-01-21 10:55:51.000000000,2021-01-21 10:53:45.000000000,83,17,0,767338,ec260571ce552f144ac91e359eac9a7e5e6a7e9b,12,4,3,9,29244,Gregory Thiemonge,gthiemonge,"Fix listener update with SNI certificates

SNI certificates were not being set in the database on listener update.
A listener GET would not show the certificates in the sni_container_refs
attribute. Also, the API was allowing set of SNI certs on non
TERMINATED_HTTPS listeners.

Task: 39042
Story: 2007421
Story: 2007430

Change-Id: If5b6411a0b7c75441a406234c2792ea68d35d0fe
(cherry picked from commit 9e070e6e6df6468a0b8f792cb089de0d9fc180b5)
(cherry picked from commit 7c6fef82ac3afbd6e47d3b2ad6341fc1accb8c54)
(cherry picked from commit b9dd09450863a155490f9bbaf4b0dd1f23a00b02)
"
openstack%2Foctavia-tempest-plugin~master~Ia61e0246a0ed8d81540aa7a6c051495bfc531313,openstack/octavia-tempest-plugin,master,change-770163-9,Ia61e0246a0ed8d81540aa7a6c051495bfc531313,Updating _test_pool_CRUD to enable testing of updates to the load balancer algorithm:,ABANDONED,2021-01-21 10:20:34.000000000,2021-01-21 10:50:45.000000000,,9,8,0,771781,99fc5698261cde09639a38317bd51ba1099d6220,2,0,1,1,32137,Arieh Maron,amaron,"Updating _test_pool_CRUD to enable testing of updates to the
load balancer algorithm:

Added a new parameter ""next_algorithm"" that defaults to None.
If next_algorithm is not None then the update of the pool
will also update the pool's loadbalancing algorithm.
Previous tests without this parameter ARE NOT AFFECTED.
New Test:
test_UDP_SIP_to_LC_pool_with_listener_CRUD
tests the result of updating the pool's
loadbalancing algorithm

Change-Id: Ia61e0246a0ed8d81540aa7a6c051495bfc531313
"
openstack%2Ftripleo-heat-templates~master~I0814bd8794ab82792837b27d0128e15c34b90adc,openstack/tripleo-heat-templates,master,virt-guest-shutdown-exists,I0814bd8794ab82792837b27d0128e15c34b90adc,Making sure virt-guest-shutdown.target exists,MERGED,2020-12-23 15:01:30.000000000,2021-01-21 10:42:18.000000000,2021-01-21 10:42:18.000000000,14,0,9,768348,93b5c3a20e113a38aa99ab8266681f4554b1ac97,31,8,5,1,7130,David Hill,dhill,"Making sure virt-guest-shutdown.target exists

libvirt-daemon is part of the default overcloud image but it's also
possible that it's not installed or simply removed by operators. In this
case, tripleo_nova_libvirt_guests will fail.

Related: https://bugzilla.redhat.com/1810319
Change-Id: I0814bd8794ab82792837b27d0128e15c34b90adc
"
openstack%2Fcharm-ceph-radosgw~master~I442967e1a616fe85426aa3eff9517b7615c83dd4,openstack/charm-ceph-radosgw,master,sync-for-21-01,I442967e1a616fe85426aa3eff9517b7615c83dd4,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:21:37.000000000,2021-01-21 10:20:29.000000000,2021-01-21 08:51:04.000000000,4,1,0,771629,2d292253ed2c5d6bed339a6c10f709f7f77121cb,19,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I442967e1a616fe85426aa3eff9517b7615c83dd4
"
openstack%2Fopenstack-ansible~master~I5b272cdfdba9fabc1c28ca7884074c1e96b80e4d,openstack/openstack-ansible,master,,I5b272cdfdba9fabc1c28ca7884074c1e96b80e4d,Switch from ansible-base + collections to ansible package,ABANDONED,2020-10-15 13:59:12.000000000,2021-01-21 10:20:23.000000000,,20,20,0,758431,b43a98c2469fef2b56e94d4a1eefcfa93f5424ca,3,1,1,2,25023,Jonathan Rosser,jrosser,"Switch from ansible-base + collections to ansible package

Installing collections with ansible-galaxy is causing a large number
of CI job failures [1].

This patch switches ansible-base to ansible which incorporates the
current set of collections [2].

[1] http://paste.openstack.org/show/799081/
[2] https://github.com/ansible-community/ansible-build-data/blob/main/2.10/CHANGELOG-v2.10.rst#changed-collections

Change-Id: I5b272cdfdba9fabc1c28ca7884074c1e96b80e4d
"
openstack%2Fos-net-config~master~Idbee49ce02d000043d0fa8e398aeb82f032c32aa,openstack/os-net-config,master,bug/1912409,Idbee49ce02d000043d0fa8e398aeb82f032c32aa,Check to ensure active DPDK NICs only mapped once,MERGED,2021-01-19 22:20:40.000000000,2021-01-21 10:12:19.000000000,2021-01-21 10:10:14.000000000,4,2,0,771522,ba93c36044a271b52fedb8a275f6b8e05fbe2a62,9,4,1,1,12398,Dan Sneddon,dsneddon,"Check to ensure active DPDK NICs only mapped once

This change ensures that active DPDK NICs are only added
to the list of mapped NICs once, and avoids duplicate entries.

When os-net-config runs for the first time there is no entry
in /sys/net for the DPDK NICs, so we look in
/var/lib/os-net-config/dpdk_mapping.yaml for the list of
DPDK NICs and add them to the NIC mapping list.

If os-net-config has been run before and the DPDK NICs are
already active, there is an entry in /sys/net and also an
entry in /var/lib/os-net-config/dpdk_mapping.yaml for the NIC.
This results in the same NIC being added to the list of active
NICs twice.

Change-Id: Idbee49ce02d000043d0fa8e398aeb82f032c32aa
Closes-Bug: #1912409
"
openstack%2Ftripleo-common~stable%2Fvictoria~I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b,openstack/tripleo-common,stable/victoria,bug/1908750,I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b,TCIB: Add cinder-volume extend_start.sh script,MERGED,2021-01-12 14:31:57.000000000,2021-01-21 10:12:14.000000000,2021-01-21 10:10:10.000000000,10,1,0,770349,5668f2397500847590f6c682681591247c1f141e,44,5,2,3,21129,Alan Bishop,ASBishop,"TCIB: Add cinder-volume extend_start.sh script

Add an extend_start.sh script for the cinder-volume service that
recursively chowns /var/lib/cinder to cinder:kolla. This ensures
cinder has permission to access the directory, especially in
situations where the directory may be owned by root.

Just like kolla itself did prior to tripleo's switch to TCIB, the
recursive chown is conditional on whether the top level /var/lib/cinder
directory isn't already owned by cinder:kolla. This is done so the
chown is only run once, which prevents slow service startups when the
directory contains a large number of entries.

Note: There was an initial fear that a recursive chown could traverse
onto any NFS share mounted by cinder. However, the extend_start.sh
script runs on container startup, prior to when cinder would create
any mounts. Even restarting the cinder-volume container is safe,
because NFS shares are automatically unmounted during the container
restart.

Closes-Bug: #1908750
Change-Id: I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b
(cherry picked from commit 1b45bb88383ad09fe534eacda66e18e5862a2037)
"
openstack%2Ftripleo-heat-templates~master~I97b42e618bcd31e408374157eb10d315ac62f306,openstack/tripleo-heat-templates,master,ffu-fix,I97b42e618bcd31e408374157eb10d315ac62f306,Remove pcs/pacemaker package installation from upgrade tasks,MERGED,2021-01-14 12:52:24.000000000,2021-01-21 09:56:05.000000000,2021-01-21 09:56:05.000000000,0,2,0,770804,4a599e3721472626673179f32eb6968978760a20,17,4,1,1,20172,Michele Baldessari,michele,"Remove pcs/pacemaker package installation from upgrade tasks

We currently forcefully install pacemaker + pcs in a number of upgrade
tasks.  This is suboptimal because on certain nodes pcs/pacemaker repos
are not enabled.  Let's let puppet pull in those packages normally.

Tested this during a queen -> train FFU successfully on a composable
roles environment.

Closes-Bug: #1911684

Change-Id: I97b42e618bcd31e408374157eb10d315ac62f306
"
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fussuri~I69c01f330feb67d92b6b01fea589a35969879da2,openstack/openstack-ansible-haproxy_server,stable/ussuri,change-768739-2,I69c01f330feb67d92b6b01fea589a35969879da2,Python3 supported version of hatop,MERGED,2020-12-29 18:13:56.000000000,2021-01-21 09:34:15.000000000,2021-01-21 09:32:15.000000000,44,30,0,768739,4485110ab3b0beb4f9b0687ac32389caa15be327,19,5,3,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Python3 supported version of hatop

New hatop package has python3 support.

Change-Id: I69c01f330feb67d92b6b01fea589a35969879da2
(cherry picked from commit a46106d4e7efabf5f74acc0c344975e7ab465f46)
"
openstack%2Fnova-specs~master~Ib73f88be0fbc18fcbb100111989399faf8cbfb2b,openstack/nova-specs,master,,Ib73f88be0fbc18fcbb100111989399faf8cbfb2b,libvirt: Add support for flavor and image defined ephemeral encryption,MERGED,2021-01-19 15:08:56.000000000,2021-01-21 09:32:36.000000000,2021-01-21 09:30:31.000000000,280,0,23,771474,30254be04ed5197b151eef2ababa176df8a17460,25,3,5,1,10135,Lee Yarwood,lyarwood,"libvirt: Add support for flavor and image defined ephemeral encryption

This spec introduces the libvirt driver implementation of the flavor and
image defined ephemeral encryption feature introduced by
I23379c73be6f7215b5cb31b523ff5371ee17c038.

Part of blueprint ephemeral-storage-encryption
Change-Id: Ib73f88be0fbc18fcbb100111989399faf8cbfb2b
"
openstack%2Fi18n~master~Ic53539e0813be1c9801ff131520c523174ace5c0,openstack/i18n,master,fix-relmgt-pip-doc,Ic53539e0813be1c9801ff131520c523174ace5c0,Move doc dependencies to doc/requirements.txt,ABANDONED,2021-01-08 07:06:02.000000000,2021-01-21 09:30:23.000000000,,6,3,0,769874,6896c4ab951a7dafbfca5d8af2a62ab3ee929590,4,1,1,3,841,Akihiro Motoki,amotoki,"Move doc dependencies to doc/requirements.txt

Splitting document dependencies into a separate requirements file
is our current best practice in OpenStack.
i18n repo has no release deliverable and does not affect the release
process, but I believe it is a good idea to follow the practice.

Change-Id: Ic53539e0813be1c9801ff131520c523174ace5c0
"
openstack%2Ftripleo-common~stable%2Fstein~Ic4781de4f51d8a0aedc09fffd9a1e1197f1a7c11,openstack/tripleo-common,stable/stein,,Ic4781de4f51d8a0aedc09fffd9a1e1197f1a7c11,Remove centos-7 upgrade and update jobs and lower-constraints,ABANDONED,2021-01-20 10:39:07.000000000,2021-01-21 09:14:03.000000000,,0,12,0,771588,ab541bc77a5920aaabc7c9ef6f37a90a00192aa0,5,0,1,1,8449,Marios Andreou,marios,"Remove centos-7 upgrade and update jobs and lower-constraints

See topic branch [1] for related patches. Per the related bug it
also removes the lower-constraints jobs. These were removed for
stable/train at [2].

[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal
[2] https://review.opendev.org/c/openstack/tripleo-common/+/766517
Related-Bug: 1907236
Change-Id: Ia4998fbfe2ec3944f36b1d70a39ac432442aefbc

Change-Id: Ic4781de4f51d8a0aedc09fffd9a1e1197f1a7c11
"
openstack%2Freleases~master~I95ef209e4f1a6fabd01eab2d796c5b933f1c3b62,openstack/releases,master,tempest-plugin-stein-last,I95ef209e4f1a6fabd01eab2d796c5b933f1c3b62,[Tempest Plugins] Tag stein-last,MERGED,2020-12-26 18:32:14.000000000,2021-01-21 09:05:33.000000000,2021-01-21 09:05:33.000000000,4,0,2,768538,437bb5a7d2c16ebc65167c0b80535f9a9c8ddbd7,39,4,9,1,8556,Ghanshyam,ghanshyam,"[Tempest Plugins] Tag stein-last

Stein branch is in Extended Maintenance now[1]. All Tempest
plugins are branchless which means master version of Tempest
and its plugins is used to test the supported stable branches.

Once stable branch is moved to EM state then, Tempest and its
plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with this tag once master
Tempest and its plugins are not compatible[2].

This tag will help for testing the stable/stein with single
compatible tag of Tempest and its plugins.

Tagging 'stein-last' with the commit used for 0.6.0.

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/stein/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: I95ef209e4f1a6fabd01eab2d796c5b933f1c3b62
"
openstack%2Freleases~master~I4a8e162442c84ab49c0654ef3264bcc9e74f1ae2,openstack/releases,master,tempest-plugin-stein-last,I4a8e162442c84ab49c0654ef3264bcc9e74f1ae2,[Tempest] Tag stein-last,MERGED,2020-12-26 19:16:31.000000000,2021-01-21 09:04:46.000000000,2021-01-21 09:04:46.000000000,4,0,0,768565,b3ca5a255c6e9e940d19b57556ac639f5d55cd97,20,3,5,1,8556,Ghanshyam,ghanshyam,"[Tempest] Tag stein-last

Stein branch is in Extended Maintenance now[1]. All Tempest
plugins are branchless which means master version of Tempest
and its plugins is used to test the supported stable branches.

Once stable branch is moved to EM state then, Tempest and its
plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with this tag once master
Tempest and its plugins are not compatible[2].

Documenting this new tag name here
- https://review.opendev.org/c/openstack/project-team-guide/+/769821

This tag will help for testing the stable/stein with single
compatible tag of Tempest and its plugins.

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/stein/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: I4a8e162442c84ab49c0654ef3264bcc9e74f1ae2
"
openstack%2Fswift~master~Iea376379ac7dd6a349d9ab29a4abe48e33dc1621,openstack/swift,master,,Iea376379ac7dd6a349d9ab29a4abe48e33dc1621,swift-init: Include message when no executables found,NEW,2021-01-14 22:45:42.000000000,2021-01-21 09:04:22.000000000,,7,8,0,770872,db5e074cd24ae5f74149125b6948b0b64374d186,11,3,2,2,15343,Tim Burke,tburke,"swift-init: Include message when no executables found

Otherwise, it's not obvious that there was a error at all.

Note that this won't impact, for example, `swift-init start main` when
there's no swift-proxy-server; the message only appears if *none* of the
(potentially aliased or globbed) services were found.

Change-Id: Iea376379ac7dd6a349d9ab29a4abe48e33dc1621
Related-Bug: #1079075
Related-Change: I09143ae20bd6249083c0b80cdaa9d561e6abb301
"
openstack%2Freleases~master~I7c4286c9cba33de85b18e585e6787ab4c3e08c8f,openstack/releases,master,w2-c-w-i,I7c4286c9cba33de85b18e585e6787ab4c3e08c8f,Wallaby-2 Release for ironic-lib,MERGED,2021-01-15 06:23:03.000000000,2021-01-21 09:03:09.000000000,2021-01-21 09:03:09.000000000,5,0,0,770883,141495ed7055b9cab39f13c09d921b01d2f3bc96,14,6,3,1,28522,Hervé Beraud,hberaud,"Wallaby-2 Release for ironic-lib

This is the Wallaby milestone-2 release for ironic-lib.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 21.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I7c4286c9cba33de85b18e585e6787ab4c3e08c8f
"
openstack%2Freleases~master~Idb4a7f7c88d712354396a016bc2c54508c5a4a5f,openstack/releases,master,openstacksdk-0.53.0,Idb4a7f7c88d712354396a016bc2c54508c5a4a5f,Release openstacksdk 0.53.0,MERGED,2021-01-08 09:28:44.000000000,2021-01-21 09:02:49.000000000,2021-01-21 09:02:49.000000000,4,0,0,769897,f6457132182f5335dda679af695dfb8f704a7572,19,6,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Release openstacksdk 0.53.0

Change-Id: Idb4a7f7c88d712354396a016bc2c54508c5a4a5f
"
openstack%2Freleases~master~Iad2557888fe4d548ad32b2fa218104bc8ed42a77,openstack/releases,master,w2-c-w-i,Iad2557888fe4d548ad32b2fa218104bc8ed42a77,Wallaby-2 Release for python-ironicclient,MERGED,2021-01-15 06:45:34.000000000,2021-01-21 08:59:21.000000000,2021-01-21 08:59:21.000000000,5,0,0,770894,79e36634ae28a7aa0d9cb4544f2f193ba4f7f04e,10,6,2,1,28522,Hervé Beraud,hberaud,"Wallaby-2 Release for python-ironicclient

This is the Wallaby milestone-2 release for python-ironicclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 21.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Iad2557888fe4d548ad32b2fa218104bc8ed42a77
"
openstack%2Freleases~master~I30f8e568e3d3b277799b516a1f2a400c5a070ddb,openstack/releases,master,release_osa,I30f8e568e3d3b277799b516a1f2a400c5a070ddb,Release OpenStack-Ansible Victoria,MERGED,2021-01-15 19:49:42.000000000,2021-01-21 08:57:32.000000000,2021-01-21 08:57:32.000000000,5,0,0,771072,d35b5cce08ff8ffe44a20e4928013e6466dda761,19,4,5,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Release OpenStack-Ansible Victoria

Change-Id: I30f8e568e3d3b277799b516a1f2a400c5a070ddb
"
openstack%2Freleases~master~I1f6d82af5fddc01a777fb105b05974f5ae2f39d1,openstack/releases,master,,I1f6d82af5fddc01a777fb105b05974f5ae2f39d1,Generalize usage of tools/process_auto_releases.sh,MERGED,2021-01-15 12:08:25.000000000,2021-01-21 08:51:42.000000000,2021-01-21 08:51:42.000000000,37,4,0,770930,3cf523a861f2b22e5c592bc212902620a9dca96a,7,3,1,1,28522,Hervé Beraud,hberaud,"Generalize usage of tools/process_auto_releases.sh

As it was proposed during the PTG these changes update our PROCESS as we go
during this cycle.

Change-Id: I1f6d82af5fddc01a777fb105b05974f5ae2f39d1
"
openstack%2Foctavia~master~I4b1d5c338361012c745b49462df20d5b9edeb2df,openstack/octavia,master,,I4b1d5c338361012c745b49462df20d5b9edeb2df,Use TOX_CONSTRAINTS_FILE,ABANDONED,2020-12-24 06:40:39.000000000,2021-01-21 08:48:15.000000000,,4,4,0,768423,be90a221f59fa4ca61c592fde30c603bd4117bfa,6,3,1,1,30384,zhangboye,zhangboye,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I4b1d5c338361012c745b49462df20d5b9edeb2df
"
openstack%2Fblazar~stable%2Fvictoria~I55fbae296f5582148f5b48b7cf96fbd77d014227,openstack/blazar,stable/victoria,,I55fbae296f5582148f5b48b7cf96fbd77d014227,Make lower-constraints job non-voting,ABANDONED,2021-01-20 20:58:12.000000000,2021-01-21 08:44:40.000000000,,2,0,0,771720,9873cd6c5abe1e6e445b5431c47ff9283cc5a22e,6,2,1,1,15197,Pierre Riteau,priteau,"Make lower-constraints job non-voting

It is preventing us from merging some patches. Disable until it can be
fixed.

Change-Id: I55fbae296f5582148f5b48b7cf96fbd77d014227
(cherry picked from commit 37bee67efde42f9e3926e74b0f9e29f94f843c62)
"
openstack%2Fansible-config_template~master~I03d890efc7213194556c0e17b4d141ff98640c79,openstack/ansible-config_template,master,,I03d890efc7213194556c0e17b4d141ff98640c79,Cleanup after repo_build and pip_install retirement,ABANDONED,2020-12-18 09:14:22.000000000,2021-01-21 08:37:57.000000000,,0,4,0,767680,31fbd9530ca8767f1894d86f4ff5cbb5424c8c24,11,1,1,1,32291,wushiming,wushiming,"Cleanup after repo_build and pip_install retirement

Change-Id: I03d890efc7213194556c0e17b4d141ff98640c79
"
openstack%2Frequirements~master~I268ed59527d5b7228a1a983b902432072d6c0f9a,openstack/requirements,master,bp/s,I268ed59527d5b7228a1a983b902432072d6c0f9a,Added IPy,ABANDONED,2021-01-21 06:54:01.000000000,2021-01-21 08:34:27.000000000,,2,0,0,771754,41300cf6b0bfd77415d3eaf00ac0a46dcc448060,4,0,2,2,31821,LiangLu,LiangLu,"Added IPy

https://review.opendev.org/c/openstack/tacker/+/771434
https://blueprints.launchpad.net/tacker/+spec/cnf-support-with-etsi-nfv-specs

[Q] Is the library actively maintained?
[A] Yes

[Q] Is the library good code?
[A] Yes

[Q] Is the library python 3 compatible?
[A] Yes, Python version 2.6 - 3.7.

[Q] Is the library license compatible?
[A] Yes, BSD 3-clause License

[Q] Is the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?
[A] No

[Q] Is the function of this library already covered by other libraries in global-requirements.txt?
[A] No

[Q] Is the library required for OpenStack project or related dev or infrastructure setup?
[A] Yes, it is a requirement to parse CIDR and convert it to IP address.

[Q] Do I need to update anything else?
[A] No

Change-Id: I268ed59527d5b7228a1a983b902432072d6c0f9a
"
openstack%2Fcharm-ceilometer~master~Id064f767cb896e55c6b59f47ff2f22b09e7eee1e,openstack/charm-ceilometer,master,sync-for-21-01,Id064f767cb896e55c6b59f47ff2f22b09e7eee1e,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:19:44.000000000,2021-01-21 08:26:42.000000000,2021-01-21 08:26:42.000000000,4,1,0,771624,397d315af7d3e9aedce95610aca5f1eb8d77cbd2,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: Id064f767cb896e55c6b59f47ff2f22b09e7eee1e
"
openstack%2Fcharm-rabbitmq-server~master~I4077102a0b979af0f4fc4172f48f7fe795beac41,openstack/charm-rabbitmq-server,master,sync-for-21-01,I4077102a0b979af0f4fc4172f48f7fe795beac41,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:26:21.000000000,2021-01-21 08:26:03.000000000,2021-01-21 08:26:03.000000000,4,1,0,771638,9ec3f641191b502bd51954beca0d5bbdc1c769f6,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I4077102a0b979af0f4fc4172f48f7fe795beac41
"
openstack%2Fcharm-percona-cluster~master~I1a97004410c5cf4ef98164281137bce46756b12c,openstack/charm-percona-cluster,master,sync-for-21-01,I1a97004410c5cf4ef98164281137bce46756b12c,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:07:49.000000000,2021-01-21 08:25:59.000000000,2021-01-21 08:25:59.000000000,23,1,0,770999,af9c467e353ca8e9254809f8f289fc383284da5e,29,3,3,1,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers
* Include NoNetworkBinding late fix.

func-test-pr: https://github.com/openstack-charmers/zaza/pull/409
Change-Id: I1a97004410c5cf4ef98164281137bce46756b12c
"
openstack%2Fcharm-neutron-api~master~I6268134218b6e3e9b96e5c0d25e02a2f473e19b6,openstack/charm-neutron-api,master,sync-for-21-01,I6268134218b6e3e9b96e5c0d25e02a2f473e19b6,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:25:08.000000000,2021-01-21 08:25:56.000000000,2021-01-21 08:25:56.000000000,4,1,0,771634,d4e4eeb743fe8682b41af2b32cdfda01a8914139,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I6268134218b6e3e9b96e5c0d25e02a2f473e19b6
"
openstack%2Fcharm-cinder-ceph~master~I7deee35df63f8f17bc1da5c4f303bef9f227bb9b,openstack/charm-cinder-ceph,master,sync-for-21-01,I7deee35df63f8f17bc1da5c4f303bef9f227bb9b,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:23:45.000000000,2021-01-21 08:25:34.000000000,2021-01-21 08:25:34.000000000,4,1,0,771632,165da3b8116f8eed0f86131968db2b3364a9da55,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I7deee35df63f8f17bc1da5c4f303bef9f227bb9b
"
openstack%2Fcharm-ceph-mon~master~I39648aa65299c77abe5790e5ac3cc29541142d46,openstack/charm-ceph-mon,master,sync-for-21-01,I39648aa65299c77abe5790e5ac3cc29541142d46,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:20:11.000000000,2021-01-21 08:25:00.000000000,2021-01-21 08:25:00.000000000,4,1,0,771626,6c7a168f81ee261c818d77bd55e4c26078ee8795,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I39648aa65299c77abe5790e5ac3cc29541142d46
"
openstack%2Fcharm-swift-proxy~master~I1faf793d433e1a0c61b8ad8efd1291cd77133ff6,openstack/charm-swift-proxy,master,sync-for-21-01,I1faf793d433e1a0c61b8ad8efd1291cd77133ff6,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:26:35.000000000,2021-01-21 08:24:45.000000000,2021-01-21 08:24:45.000000000,4,1,0,771639,dee0aa7c2ee6a825c6fb464f319100267fefd22c,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I1faf793d433e1a0c61b8ad8efd1291cd77133ff6
"
openstack%2Fcharm-heat~master~I8e7f6a5c19daca65b0561a4ea2e85b8e8adbfff9,openstack/charm-heat,master,sync-for-21-01,I8e7f6a5c19daca65b0561a4ea2e85b8e8adbfff9,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:24:34.000000000,2021-01-21 08:24:41.000000000,2021-01-21 08:24:41.000000000,4,1,0,771633,29be9de9ea499745eef2f912cc837f693cc397d1,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I8e7f6a5c19daca65b0561a4ea2e85b8e8adbfff9
"
openstack%2Fcharm-neutron-gateway~master~I7d8b1ac654f1c7b394c9218c7dbbbe8e6980632d,openstack/charm-neutron-gateway,master,sync-for-21-01,I7d8b1ac654f1c7b394c9218c7dbbbe8e6980632d,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:32:59.000000000,2021-01-21 08:24:37.000000000,2021-01-21 08:24:37.000000000,468,69,0,771037,033500842d5cb5ad0ddbf16d5370f994529a47b6,15,3,2,15,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers
* include fix for local_address() with NoBindingError

Change-Id: I7d8b1ac654f1c7b394c9218c7dbbbe8e6980632d
"
openstack%2Fcharm-ceph-proxy~master~I309ef298fecfe8d5cb2fd4c3322c3d734094f5d4,openstack/charm-ceph-proxy,master,sync-for-21-01,I309ef298fecfe8d5cb2fd4c3322c3d734094f5d4,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:20:50.000000000,2021-01-21 08:23:18.000000000,2021-01-21 08:23:18.000000000,4,1,0,771628,6cdbf7f367d2c8d8de6d28392283143092762d0b,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I309ef298fecfe8d5cb2fd4c3322c3d734094f5d4
"
openstack%2Fcharm-neutron-api-plugin-ovn~master~I064d38d207b6dc6e7c8fd64facb2105f88ea23ce,openstack/charm-neutron-api-plugin-ovn,master,sync-for-21-01,I064d38d207b6dc6e7c8fd64facb2105f88ea23ce,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:32:41.000000000,2021-01-21 08:22:30.000000000,2021-01-21 08:22:30.000000000,7,1,0,771035,9ea642b7037a68647a5cbfe50ba5e4f1946c76b9,13,3,1,3,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

Change-Id: I064d38d207b6dc6e7c8fd64facb2105f88ea23ce
"
openstack%2Fcharm-nova-compute~master~If413a2bdd97bf5a751eba7fd74664525be39bd8c,openstack/charm-nova-compute,master,sync-for-21-01,If413a2bdd97bf5a751eba7fd74664525be39bd8c,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:33:42.000000000,2021-01-21 08:20:26.000000000,2021-01-21 08:20:26.000000000,443,64,0,771040,e316cc66c343505354d83adeb90694c5c6f14f81,18,3,3,14,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers
* Include fix for local_address() and NoBindingError

Change-Id: If413a2bdd97bf5a751eba7fd74664525be39bd8c
"
openstack%2Fcharm-trilio-horizon-plugin~master~I37f8564685e13b29f4a30577d23cc0c4d8892da3,openstack/charm-trilio-horizon-plugin,master,sync-for-21-01,I37f8564685e13b29f4a30577d23cc0c4d8892da3,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:35:30.000000000,2021-01-21 08:19:41.000000000,2021-01-21 08:19:41.000000000,7,1,0,771046,22aaeeaabe5ab68dbbb4d112d2694a3e9b47757e,20,3,2,3,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

Change-Id: I37f8564685e13b29f4a30577d23cc0c4d8892da3
"
openstack%2Fpython-cinderclient~master~I1234f6d59c8371d5418e3784c6cecd5739537010,openstack/python-cinderclient,master,,I1234f6d59c8371d5418e3784c6cecd5739537010,Drop lower-constraints job,ABANDONED,2021-01-15 09:36:15.000000000,2021-01-21 05:57:19.000000000,,0,1,0,770916,6a2b647dfcfd3d52f8ba2298baf508937f501f92,4,2,1,1,32326,YuehuiLei,YuehuiLei,"Drop lower-constraints job

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: I1234f6d59c8371d5418e3784c6cecd5739537010
"
openstack%2Fblazar~master~I539fa4cc6f17829f8e139498e629588ded03aa02,openstack/blazar,master,,I539fa4cc6f17829f8e139498e629588ded03aa02,Drop lower-constraints job,ABANDONED,2021-01-15 09:58:15.000000000,2021-01-21 05:56:14.000000000,,0,1,0,770919,3b9522c10caad9e952da7c5b471eadf648579d95,4,2,1,1,32326,YuehuiLei,YuehuiLei,"Drop lower-constraints job

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: I539fa4cc6f17829f8e139498e629588ded03aa02
"
openstack%2Fneutron~stable%2Fvictoria~Ibcc29c998065da521b35e5845727794a68782db0,openstack/neutron,stable/victoria,bug/1899864-stable/victoria,Ibcc29c998065da521b35e5845727794a68782db0,Neutron ovs agent: set mtu of smartnic port,MERGED,2020-11-30 10:13:25.000000000,2021-01-21 05:21:01.000000000,2021-01-21 05:18:18.000000000,58,22,0,764512,ab4206560f4112256b6875612935f9e2ff9afe97,36,6,2,2,12171,Moshe Levi,moshele,"Neutron ovs agent: set mtu of smartnic port

The smartnic port's MTU should be set according to the network's MTU
which the port belongs to.

Closes-Bug: #1899864
Change-Id: Ibcc29c998065da521b35e5845727794a68782db0
Signed-off-by: Xiaoyu Min <jackmin@nvidia.com>
(cherry picked from commit fc1fe016aa4e77c982da8ea0e6c7b88d7c1dad68)
"
openstack%2Fneutron~stable%2Ftrain~I2e784ea7e00c145135288bf309bb34ce311ac15c,openstack/neutron,stable/train,bug/1908057,I2e784ea7e00c145135288bf309bb34ce311ac15c,"Ensure ""keepalived"" is correcly disabled",MERGED,2021-01-14 16:36:04.000000000,2021-01-21 04:22:37.000000000,2021-01-21 04:21:09.000000000,51,1,0,770836,f65bea4943036d425f01768a8ef12120603c8095,26,4,2,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Ensure ""keepalived"" is correcly disabled

To stop a ""keepalived"" process, a SIGTERM signal is sent. This patch
checks if the process is not present in the system. If the instance
is still running after a short time, a SIGKILL signal is sent.

Conflicts:
    neutron/tests/unit/agent/linux/test_keepalived.py

Change-Id: I2e784ea7e00c145135288bf309bb34ce311ac15c
Closes-Bug: #1908057
(cherry picked from commit 2618acff516e5cfd2437dabf550cc3c3c7972b9f)
"
openstack%2Fneutron~stable%2Fussuri~Ibcc29c998065da521b35e5845727794a68782db0,openstack/neutron,stable/ussuri,bug/1899864-stable/ussuri,Ibcc29c998065da521b35e5845727794a68782db0,Neutron ovs agent: set mtu of smartnic port,MERGED,2020-11-30 10:14:23.000000000,2021-01-21 04:22:27.000000000,2021-01-21 04:21:01.000000000,58,22,0,764513,b82e2f735e9fb3cb837fab930f879f282166d42f,33,6,2,2,12171,Moshe Levi,moshele,"Neutron ovs agent: set mtu of smartnic port

The smartnic port's MTU should be set according to the network's MTU
which the port belongs to.

Closes-Bug: #1899864
Change-Id: Ibcc29c998065da521b35e5845727794a68782db0
Signed-off-by: Xiaoyu Min <jackmin@nvidia.com>
(cherry picked from commit fc1fe016aa4e77c982da8ea0e6c7b88d7c1dad68)
"
openstack%2Fpython-tripleoclient~master~I8cba98b97ebb6d18fce84c86cceb5c30b93dd194,openstack/python-tripleoclient,master,pylint,I8cba98b97ebb6d18fce84c86cceb5c30b93dd194,Enable pylint,MERGED,2021-01-08 13:41:19.000000000,2021-01-21 04:05:11.000000000,2021-01-21 04:03:58.000000000,87,2,0,769922,04c1466c44cec7a9c20e9eef8f480875907d0e3c,19,6,1,4,24162,Sorin Sbârnea,ssbarnea,"Enable pylint

Related-Bug: #1910543
Change-Id: I8cba98b97ebb6d18fce84c86cceb5c30b93dd194
"
openstack%2Ftripleo-common~stable%2Fussuri~I10ab0cbfbaab77b9208e9a5d74d59eb041cb16ee,openstack/tripleo-common,stable/ussuri,pylint-stable/ussuri,I10ab0cbfbaab77b9208e9a5d74d59eb041cb16ee,Enable pylint,MERGED,2021-01-07 11:01:20.000000000,2021-01-21 04:05:07.000000000,2021-01-21 04:03:54.000000000,89,7,0,769595,088d57870c7621cb4f70f1f097ceb708a0176a53,47,8,1,8,24162,Sorin Sbârnea,ssbarnea,"Enable pylint

This is a follow-up from [1] which underlined that the code lacks even basic coverage as it allow
us to introduce a costly regression which could have being detected by pylint no-member test.

- enables pylint with most checks temporary disabled, so we have time
  to address them gradually
- fixes few minor issues reported by the tool
- adds skips for some known ""no-member"" errors but avoids adding it to the exclude list, as this
  in order to prevent further regressions.
- once landed we can easily address the temporary disabled errors, one by one. In fact this is could
  prove as a very good learning experience for newer team members. They can start by removing on
  random exclusion and fixing it. As a hint: leave the missing docstrings for the end, some problems
  are more important to fix first.

1: https://review.opendev.org/c/openstack/tripleo-common/+/762892/6/tripleo_common/image/builder/buildah.py

Change-Id: I10ab0cbfbaab77b9208e9a5d74d59eb041cb16ee
(cherry picked from commit 13ac87ba36be2d8cddb37cd82d242dcb0a8717f5)
"
openstack%2Fcinder~master~If6ff252216f94a6d6deeceb33de8c23af3277e3b,openstack/cinder,master,more-user-messages,If6ff252216f94a6d6deeceb33de8c23af3277e3b,Extend use of user message in volume action,NEW,2017-05-11 08:38:39.000000000,2021-01-21 03:29:51.000000000,,204,19,16,463936,5f262639e569e57d80c9a03e6957b85b21fe78a8,160,66,5,4,23083,TommyLike,TommyLike,"Extend use of user message in volume action

Add user message support in these volume actions below.

1. delete volume
2. extend volume
3. migrate volume

Co-authored-by: TommyLike <tommylikehu@gmail.com>
Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: If6ff252216f94a6d6deeceb33de8c23af3277e3b
"
openstack%2Fovsdbapp~master~Iebdb417bf2147b13d871409f58d6d9ea8183895f,openstack/ovsdbapp,master,,Iebdb417bf2147b13d871409f58d6d9ea8183895f,enhancing lb_del so that removal of lb can optionally take logical routers,ABANDONED,2021-01-06 03:29:22.000000000,2021-01-21 02:55:48.000000000,,10,3,0,769448,6b6e878580acd4e4afbeaf00200c75213b5a53b9,4,1,2,2,30380,ZhouHeng,zhouhenglc,"enhancing lb_del so that removal of lb can optionally take logical routers

no vips will delete lb, if some routers ref to the lb, lb it will not be
deleted successfully

Change-Id: Iebdb417bf2147b13d871409f58d6d9ea8183895f
"
openstack%2Fneutron~stable%2Ftrain~I574fb07b3bd7813723377121c63eeec028e3c838,openstack/neutron,stable/train,bug/1867119-stable/train,I574fb07b3bd7813723377121c63eeec028e3c838,"Revert ""[Security] fix allowed-address-pair 0.0.0.0/0 issue""",MERGED,2020-11-17 14:33:47.000000000,2021-01-21 02:50:38.000000000,2021-01-21 02:48:55.000000000,43,95,0,763023,cce4120e5dec5e82721e7e6849d829b5e02568b5,40,9,2,12,11975,Slawek Kaplonski,slaweq,"Revert ""[Security] fix allowed-address-pair 0.0.0.0/0 issue""

This reverts commit 551130e9f4e8c89821d73881ad8e90a0208adb3e.

Conflict:
    neutron/tests/functional/agent/test_firewall.py

Change-Id: I574fb07b3bd7813723377121c63eeec028e3c838
Closes-Bug: #1903531
"
openstack%2Fneutron-vpnaas~master~Ib36524b413bf706ba275e1911c5468bb42a755ac,openstack/neutron-vpnaas,master,bp/enginefacade-switch,Ib36524b413bf706ba275e1911c5468bb42a755ac,Switch to the new db engine facade,MERGED,2021-01-14 12:30:16.000000000,2021-01-21 02:30:12.000000000,2021-01-21 02:28:43.000000000,23,22,4,770800,3d084bf48360a03cea8eb8e2a24149d09ea5c6a6,11,5,1,1,11975,Slawek Kaplonski,slaweq,"Switch to the new db engine facade

Partially-Implements blueprint: enginefacade-switch

Change-Id: Ib36524b413bf706ba275e1911c5468bb42a755ac
"
openstack%2Fkayobe~stable%2Fussuri~I82313fcd258e58969e0b68ae91a78943df537a7f,openstack/kayobe,stable/ussuri,,I82313fcd258e58969e0b68ae91a78943df537a7f,Fix overcloud host image resolv workaround on CentOS 8.3,MERGED,2021-01-18 16:07:50.000000000,2021-01-21 01:23:13.000000000,2021-01-21 01:21:38.000000000,7,1,0,771245,304a869fe1658e461af777974c97df6e5966610f,12,3,1,2,15197,Pierre Riteau,priteau,"Fix overcloud host image resolv workaround on CentOS 8.3

If a seed's bifrost_deploy container is deployed using a CentOS 8.2 base
image, prior to the CentOS 8.3 release, then a user runs 'kayobe seed
service deploy', the following task may fail:

    TASK [Ensure the overcloud host image has bogus name server entries removed]

This seems to be an issue with libgcrypt not being upgraded with
qemu-kvm, and becoming incompatible. The workaround is to ensure
libgcrypt is upgraded also.

Story: 2008430
Task: 41379

Change-Id: I82313fcd258e58969e0b68ae91a78943df537a7f
(cherry picked from commit bd5c5c018783028a4748de28d1287f29ef714c8e)
"
openstack%2Fmanila~master~Ia4e69219b107fc0630cb9e97401b9a8bda5b1adc,openstack/manila,master,bug/1868644,Ia4e69219b107fc0630cb9e97401b9a8bda5b1adc,Fix missing group and group_snapshots in absolute limits,MERGED,2020-10-01 22:32:31.000000000,2021-01-21 01:19:56.000000000,2021-01-21 01:09:26.000000000,33,4,1,755666,6bb021375ca837d218d9d9db23d025073ac3d4eb,24,6,3,4,29632,Carlos Eduardo,silvacarlos,"Fix missing group and group_snapshots in absolute limits

Modified limits API to make it return the max number of
share_groups and share_group_snapshots, as well as the total number
of resources used

Change-Id: Ia4e69219b107fc0630cb9e97401b9a8bda5b1adc
Closes-Bug: #1868644
"
openstack%2Ftripleo-common~master~I8b8879c2030cc705d5f32ba7abfef6d723c27121,openstack/tripleo-common,master,env_merging,I8b8879c2030cc705d5f32ba7abfef6d723c27121,Drop stack_update function,MERGED,2021-01-14 11:42:26.000000000,2021-01-21 01:12:36.000000000,2021-01-21 01:11:05.000000000,0,150,0,770793,77ba253261b811fea0c89d17f214636ee2dd96df,9,4,1,2,8833,Rabi Mishra,rabi,"Drop stack_update function

We don't use it anymore after change[1].

[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/769449

Change-Id: I8b8879c2030cc705d5f32ba7abfef6d723c27121
"
openstack%2Ftripleo-ci~master~If67428f417b6718bbc313440c867f1c163f6a0b2,openstack/tripleo-ci,master,reduce-content-providers,If67428f417b6718bbc313440c867f1c163f6a0b2,Remove excess content providers and upgrade jobs layouts,MERGED,2021-01-04 12:05:12.000000000,2021-01-21 01:00:40.000000000,2021-01-21 01:00:40.000000000,0,209,0,769131,d9f2ad3bb247db97dc4780db141d3bcac210846f,27,11,4,3,8449,Marios Andreou,marios,"Remove excess content providers and upgrade jobs layouts

In [1] we added new per-branch zuul-templates for upgrades jobs.
After the templates in [1] are wired up across TripleO this
patch removes the excess content providers and all the upgrade
jobs from the various job templates.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/761188

Change-Id: If67428f417b6718bbc313440c867f1c163f6a0b2
"
openstack%2Fadjutant~master~Ib8e546d5fbfbcb561e5b139893605d05c1a8ad62,openstack/adjutant,master,keystone,Ib8e546d5fbfbcb561e5b139893605d05c1a8ad62,Make identity interface configurable,MERGED,2021-01-20 02:19:35.000000000,2021-01-21 00:54:11.000000000,2021-01-21 00:52:35.000000000,9,0,3,771529,84270add343d06202e6680de7556ab4aba9d168f,13,2,3,2,33014,Uriel Medina,urimeba,"Make identity interface configurable

Keystone middleware sets the default identity interface as ""internal"".
This was causing issues with DevStack where ""internal"" endpoints
weren't being created.

We added a new config for interface, and have it default to 'public'.

Task: 41593
Story: 2008515
Change-Id: Ib8e546d5fbfbcb561e5b139893605d05c1a8ad62
"
openstack%2Fmanila~master~Ia72cf037d2b7dc9fb9d4f19ce141cc044206d6fc,openstack/manila,master,bug/1897903,Ia72cf037d2b7dc9fb9d4f19ce141cc044206d6fc,Add developer reference to share server migration,MERGED,2020-10-06 13:28:36.000000000,2021-01-21 00:01:45.000000000,2021-01-21 00:00:12.000000000,249,0,10,756297,281b7dd1cd07ba666ca865d53348907d04a46b83,20,7,2,3,29632,Carlos Eduardo,silvacarlos,"Add developer reference to share server migration

Updates the developer reference with informations regarding the
share server migration feature implemented during Victoria release.

Change-Id: Ia72cf037d2b7dc9fb9d4f19ce141cc044206d6fc
Partial-bug: #1897903
"
openstack%2Fneutron~stable%2Fussuri~If4476725f72bde110f9ce1a1507c672d428d52e5,openstack/neutron,stable/ussuri,bug/1884986,If4476725f72bde110f9ce1a1507c672d428d52e5,[FT] Add the datapath binding wait event to the watched list,MERGED,2021-01-15 17:45:35.000000000,2021-01-20 23:50:47.000000000,2021-01-20 23:48:20.000000000,3,1,0,771057,72189fff4ac69468f87e1e0b129146036c2cbf5b,19,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[FT] Add the datapath binding wait event to the watched list

In other to wait for a OVN DB event, the WaitEvent subclass must be
added to the DB notification handler.

Change-Id: If4476725f72bde110f9ce1a1507c672d428d52e5
Related-Bug: #1884986
(cherry picked from commit d4ae574fd3cfac631ad46a437b0d81f7f60e0c38)
"
openstack%2Fpython-tripleoclient~stable%2Fstein~Ia8dd58dcbce9574d3b1573c16fdab9d2c3f8c424,openstack/python-tripleoclient,stable/stein,tripleo-c7-update-upgrade-removal,Ia8dd58dcbce9574d3b1573c16fdab9d2c3f8c424,Remove centos-7 upgrade and update jobs and lower-constraints,MERGED,2021-01-19 07:47:13.000000000,2021-01-20 23:49:45.000000000,2021-01-20 23:44:26.000000000,0,7,0,771372,0779264c3eae72e16fd3aa5b4d0228859dbf9636,16,6,2,1,8449,Marios Andreou,marios,"Remove centos-7 upgrade and update jobs and lower-constraints

See topic branch [1] for related patches. Per the related bug it
also removes the lower-constraints jobs. These were removed for
stable/train at [2].

[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal
[2] https://review.opendev.org/c/openstack/python-tripleoclient/+/766514
Related-Bug: 1907236
Change-Id: Ia8dd58dcbce9574d3b1573c16fdab9d2c3f8c424
"
openstack%2Ftripleo-heat-templates~master~Ic41738392fbbe9239b927e26c0b2ed3b7abe3a09,openstack/tripleo-heat-templates,master,deprecate_novajoin,Ic41738392fbbe9239b927e26c0b2ed3b7abe3a09,Turn off the etcd TLS workaround used with novajoin,MERGED,2021-01-08 19:56:46.000000000,2021-01-20 23:47:31.000000000,2021-01-20 23:44:02.000000000,27,3,0,769985,9949a8efeb0723b65d2a16160cfc70c14d6638a5,22,7,2,4,21129,Alan Bishop,ASBishop,"Turn off the etcd TLS workaround used with novajoin

[1] introduced a workaround that was required when TLS-everywhere was
implemented with novajoin. The workaround is no longer required because
novajoin is deprecated in favor of the tripleo-ipa ansible module. The
workaround is disabled by changing the EnableEtcdInternalTLS parameter's
default value changes from False to True.

[1] Iec0d02f8f51067098dd58beb4fe57a7fd5ab5651

Change-Id: Ic41738392fbbe9239b927e26c0b2ed3b7abe3a09
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I17f1364932e43b8487515084e41b525e186888db,openstack/tripleo-heat-templates,stable/victoria,pcmk-shutdown-lock-stable/victoria,I17f1364932e43b8487515084e41b525e186888db,Revert rolling certificate updates for HA services,MERGED,2021-01-06 10:29:10.000000000,2021-01-20 23:44:20.000000000,2021-01-20 23:44:20.000000000,0,4,0,769501,864e4fdd79d608ed62c7b2844c014e2595931fc2,31,5,1,2,20778,Damien Ciabrini,dciabrin,"Revert rolling certificate updates for HA services

Currently galera and ovn require a coordinated restart across
the controller node when certmonger determines the certificate
for a node has expired and it needs to regenerate it.

But right now, when the tripleo certmonger puppet module is
called to assert to state of the certificates, it ends up
regenerating new certificate unconditionally. So the galera and
ovn get restarted on stack update, even when there is no need to.

To mitigate these unecessary restarts, disable the post-action
for now until we fix the behaviour of tripleo's certmonger puppet
module. This has the side effect that services won't get restarted
automatically if no stack update takes place until the certificate
expiration date is reached.

Related-Bug: #1906505

Change-Id: I17f1364932e43b8487515084e41b525e186888db
(cherry picked from commit 8b16911cc26ced10316fdd37a818fc1cb6fe5ece)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Id10f026c8b31cad7b7313ac9427a99b3e6744788,openstack/tripleo-heat-templates,stable/victoria,pcmk-shutdown-lock-stable/victoria,Id10f026c8b31cad7b7313ac9427a99b3e6744788,HA: reimplement resource locks with cibadmin,MERGED,2021-01-06 09:22:44.000000000,2021-01-20 23:43:57.000000000,2021-01-20 23:43:57.000000000,50,50,0,769497,f62b0533315d636654627349a67667790d138a7b,23,3,1,1,20778,Damien Ciabrini,dciabrin,"HA: reimplement resource locks with cibadmin

A resource lock is used as a synchronization point between
pacemaker cluster nodes. It is currently implemented
by adding an attribute in an offline copy of CIB, and merging
the update in the CIB only if no concurrent updates has
occurred in the mean time.

The problem with that approach is that - even if the concurrency
is enforced by pacemaker - the offline CIB contains a snapshot
of the cluster state; so pushing back the entire offline CIB
pushes old resources' state back into the cluster. This causes
additional burden on the cluster and sometimes caused unexpected
cluster state transition.

Reimplement the locking strategy with cibadmin; It's a much faster
approach, that provides the same concurrency guarantees, and only
changes one attribute rather than the entire CIB, so it doesn't
cause unexpected cluster state transition.

Closes-Bug: #1905585
Change-Id: Id10f026c8b31cad7b7313ac9427a99b3e6744788
(cherry picked from commit c8f5fdfc3609d38bea46f96ef378dcb5ecd14a2b)
"
openstack%2Fneutron~master~Icd376c144e1993ca84890c76743fda4196662d9b,openstack/neutron,master,improve-neutron-ci,Icd376c144e1993ca84890c76743fda4196662d9b,Switch tempest jobs to neutron specific ones,MERGED,2021-01-13 14:47:01.000000000,2021-01-20 23:41:00.000000000,2021-01-20 23:34:58.000000000,61,10,0,770630,d1ab4e26ea4e8a767e52f3e9b711021bd66edaf3,27,6,1,4,11975,Slawek Kaplonski,slaweq,"Switch tempest jobs to neutron specific ones

In neutron CI queues we were running tempest-slow-py3 and
tempest-ipv6-only jobs which are defined in tempest repository and runs
all tests, e.g related to Swift or Cinder.
This patch defines new jobs: ""neutron-tempest-slow-py3"" and
""neutron-tempest-ipv6-only"" which inherits from the tempest jobs but
disables Cinder and Swift services.
Additionally ""neutron-tempest-ipv6-only"" job now runs only
""integrated-networking"" tox_envlist.

Change-Id: Icd376c144e1993ca84890c76743fda4196662d9b
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I230dc58d401e8feb1e38cc8bad276690d141ce73,openstack/tripleo-heat-templates,stable/train,,I230dc58d401e8feb1e38cc8bad276690d141ce73,[TRAIN ONLY] Remove duplicate /var/run/openvswitch bind mount,MERGED,2021-01-15 23:30:29.000000000,2021-01-20 23:38:31.000000000,2021-01-20 23:38:31.000000000,2,3,0,770970,e14489eef2dc91e817bbb974e6cc852da69d01ce,14,6,2,1,29268,Matthew Heler,mheler,"[TRAIN ONLY] Remove duplicate /var/run/openvswitch bind mount

This duplicate bindmount is causing namespaces to leak.
Fixes BZ# 1903091

Partially cherry picked from
Change-Id: Iaced2ba676a4e4f651c67da082797cc1c1ffccd1

Change-Id: I230dc58d401e8feb1e38cc8bad276690d141ce73
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I230dc58d401e8feb1e38cc8bad276690d141ce73,openstack/tripleo-heat-templates,stable/ussuri,,I230dc58d401e8feb1e38cc8bad276690d141ce73,[USSURI ONLY] Remove duplicate /var/run/openvswitch bind mount,MERGED,2021-01-15 23:29:40.000000000,2021-01-20 23:18:39.000000000,2021-01-20 23:18:39.000000000,2,3,2,771093,0f3cc2653c26e741f5e4e9a309fa63d32b6729bb,22,7,4,1,29268,Matthew Heler,mheler,"[USSURI ONLY] Remove duplicate /var/run/openvswitch bind mount

This duplicate bindmount is causing namespaces to leak.
Fixes BZ# 1903091

Partially cherry picked from
Change-Id: Iaced2ba676a4e4f651c67da082797cc1c1ffccd1

Change-Id: I230dc58d401e8feb1e38cc8bad276690d141ce73
"
openstack%2Fopenstack-ansible~stable%2Fussuri~Ief0ee81a11b7385d9eb6bc498ecef9eab147d898,openstack/openstack-ansible,stable/ussuri,bump_osa,Ief0ee81a11b7385d9eb6bc498ecef9eab147d898,Bump SHAs for stable/ussuri,MERGED,2021-01-17 17:25:48.000000000,2021-01-20 23:16:42.000000000,2021-01-20 23:14:40.000000000,54,54,0,771148,e383e97aa398b128e26157c933ed9e32a663d018,14,3,1,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump SHAs for stable/ussuri

Change-Id: Ief0ee81a11b7385d9eb6bc498ecef9eab147d898
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Iaef7c01127327f709577bef3d2e96db840ba2b80,openstack/tripleo-heat-templates,stable/victoria,victoria-memcached-connections,Iaef7c01127327f709577bef3d2e96db840ba2b80,Add setting to override max memcached connections,MERGED,2021-01-14 10:48:34.000000000,2021-01-20 23:08:24.000000000,2021-01-20 23:06:28.000000000,11,0,0,770779,1ec4e5eceb44a5368ff4d3fed5355ee2cbd4755b,19,6,2,2,20172,Michele Baldessari,michele,"Add setting to override max memcached connections

Added MemcachedMaxConnections to allow max connection override as
actually the limit is 8192 connections but in some cases the environment
will create more than 8192 connections to each memcached server.

Closes-Bug: #1911664

Change-Id: Iaef7c01127327f709577bef3d2e96db840ba2b80
(cherry picked from commit bbed1ef736dff02bf54e03dfe72322a6344adc5e)
"
openstack%2Fopenstacksdk~stable%2Ftrain~I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77,openstack/openstacksdk,stable/train,bug/39843-stable/train,I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77,Don't set list_type to dict for server groups.,MERGED,2020-11-18 03:01:42.000000000,2021-01-20 23:05:22.000000000,2021-01-20 23:03:16.000000000,3,1,0,763121,7f6fbb27ca06eebc4ea1c5d564eb81a3ffb78332,25,3,1,2,3153,Emilien Macchi,emilienm,"Don't set list_type to dict for server groups.

When server_groups is present for retrieved server, this ends up
with the following exception [1]. So we should rather have
regular list instead of dict.

[1] http://paste.openstack.org/show/797758/

Change-Id: I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77
Story: 2007710
Task: 39843
(cherry picked from commit 1c2a06350d615af6bef2615a94224ec49ac155b4)
"
openstack%2Fopenstack-helm~master~I2804cb540e64537f1bd6a9187ebeab8e5741b3ba,openstack/openstack-helm,master,opa-job,I2804cb540e64537f1bd6a9187ebeab8e5741b3ba,WIP - Add conftest gate,ABANDONED,2020-02-18 21:59:35.000000000,2021-01-20 22:47:19.000000000,,29,0,0,708523,b1a8d6e92fc317155bfe19c9493546c2b3c44b37,10,1,3,3,21420,Gage Hugo,ghugo,"WIP - Add conftest gate

Change-Id: I2804cb540e64537f1bd6a9187ebeab8e5741b3ba
"
openstack%2Fopenstack-helm-infra~master~I03df5bd1cab3a54f58af5848f8368b26a34777e6,openstack/openstack-helm-infra,master,test-unicode-ldap,I03df5bd1cab3a54f58af5848f8368b26a34777e6,DNM - LDAP Testing,ABANDONED,2020-06-05 15:38:09.000000000,2021-01-20 22:43:26.000000000,,9,9,0,733870,8f07c3b050d241d01e1b101ec38da7e48cff8adf,18,2,8,1,21420,Gage Hugo,ghugo,"DNM - LDAP Testing

Change-Id: I03df5bd1cab3a54f58af5848f8368b26a34777e6
"
openstack%2Fopenstack-helm~master~I6c53ebb5b8bde4c4b68de8162e15b583cc73bf86,openstack/openstack-helm,master,test-unicode-ldap,I6c53ebb5b8bde4c4b68de8162e15b583cc73bf86,DNM - Testing LDAP,ABANDONED,2020-06-05 15:45:20.000000000,2021-01-20 22:43:22.000000000,,11,40,0,733874,afa5f1ca35e6f04ffa28ce029c8944f560651b15,9,2,1,2,21420,Gage Hugo,ghugo,"DNM - Testing LDAP

Depends-On: https://review.opendev.org/#/c/733870/
Change-Id: I6c53ebb5b8bde4c4b68de8162e15b583cc73bf86
"
openstack%2Fopenstack-helm-deployments~master~Ib2158ba779a5b8c455f819c506b060278cb8629d,openstack/openstack-helm-deployments,master,dnm/test,Ib2158ba779a5b8c455f819c506b060278cb8629d,DNM: test,ABANDONED,2021-01-20 05:56:52.000000000,2021-01-20 22:43:15.000000000,,0,1,0,771560,95f353619150c16ec1f8ce2b15ec060b664ecc40,6,1,1,1,20466,Tin Lam,tinlam,"DNM: test

Signed-off-by: Tin Lam <tin@irrational.io>
Change-Id: Ib2158ba779a5b8c455f819c506b060278cb8629d
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I23b469057e4c47c42601beb166f815ee71147c14,openstack/tripleo-heat-templates,stable/ussuri,,I23b469057e4c47c42601beb166f815ee71147c14,Fix swift containers idempotency,MERGED,2021-01-13 15:44:49.000000000,2021-01-20 22:33:14.000000000,2021-01-20 22:33:14.000000000,23,3,0,770638,a7b1c81a0c7e3608d94324a1d8e5e3797a497966,12,4,1,3,6926,Bogdan Dobrelya,bogdando,"Fix swift containers idempotency

The change https://review.opendev.org/#/c/616116 unwinded the swift
part of the https://review.opendev.org/#/c/590008/ changes. So the
contents of the /var/lib/config-data/swift_ringbuilder config volume
used to be managed by container-puppet tool. That made swift containers
always restarted because the puppet-generated rings are always changing
on each deployment/update execution.

Restore that unwinded change back and exclude swift rings from the
management of container-puppet tooling. Instead make init containers
swift_copy_rings and swift_setup_srv to be always executed (takes
the same approach as in https://review.opendev.org/#/c/564798/).

That also fixes the issue with swift_copy_rings seems never been
executed - at least there is no traces of it in CI jobs logs for swift
init containers.

Change-Id: I23b469057e4c47c42601beb166f815ee71147c14
Closes-Bug: #1867765
Related-Bug: #1802066
Related-Bug: #1786065
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 9bc664090741d43fd49857230238fc345bf8d0c9)
"
openstack%2Fopenstack-helm-infra~master~I0b65412f4689c763b3f035055ecbb4ca63c21048,openstack/openstack-helm-infra,master,grafana-version,I0b65412f4689c763b3f035055ecbb4ca63c21048,Update Grafana version,MERGED,2021-01-14 16:38:12.000000000,2021-01-20 22:26:28.000000000,2021-01-20 22:23:58.000000000,13,54,6,770838,0e66ef972ac6e6e3198dd31432232b95d5b8159e,34,7,8,4,28849,Meghan Heisler,mh783g,"Update Grafana version

This brings the Grafana version up to the current version
and fixes the selenium helm and gate test for the new login
dashboard.

Change-Id: I0b65412f4689c763b3f035055ecbb4ca63c21048
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ibdd783b484a84c0fdfaac84d892a8ea46be85fde,openstack/tripleo-heat-templates,stable/ussuri,,Ibdd783b484a84c0fdfaac84d892a8ea46be85fde,Refresh Swift ring files without restarting containers,MERGED,2021-01-13 15:43:07.000000000,2021-01-20 22:15:04.000000000,2021-01-20 22:15:04.000000000,38,0,0,770636,de5fcf0d31c04113bd700f69a2a34f045d180354,14,5,1,3,6926,Bogdan Dobrelya,bogdando,"Refresh Swift ring files without restarting containers

Updating rings consists of multiple steps today:
1. Apply puppet in the swift_ringbuilder container
2. Copying files in step 3 using swift_copy_rings
3. Run kolla_set_config to copy files to /etc/swift before starting
   Swift service processes

This needs a container restart today, because kolla_set_config will be
executed only on container (re-)starts.

This patch will execute kolla_set_configs at the step 5 of deployment,
and apply all ring changes, if any, for the Swift processes without
a container restart. Swift processes will notice the changed ring files
within 15 seconds and will use the updated rings.

Co-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: Ibdd783b484a84c0fdfaac84d892a8ea46be85fde
(cherry picked from commit cb982440d74731e4943b75ea51feaa4f0fdcb938)
"
openstack%2Fansible-role-collect-logs~master~Id2e48021c8c92facba829c38205bee6d35aa55b5,openstack/ansible-role-collect-logs,master,newp,Id2e48021c8c92facba829c38205bee6d35aa55b5,Add pattern to packages download failure,MERGED,2021-01-19 11:20:09.000000000,2021-01-20 22:14:50.000000000,2021-01-20 22:14:50.000000000,5,0,0,771425,503fa8250f6a6e8044a20f03121deb90b4971d50,7,3,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add pattern to packages download failure

Change-Id: Id2e48021c8c92facba829c38205bee6d35aa55b5
"
openstack%2Ftripleo-ci~master~I395b05ea9353be5ea3694a206519944601143f3b,openstack/tripleo-ci,master,,I395b05ea9353be5ea3694a206519944601143f3b,Ensure logs directory exists,MERGED,2021-01-18 08:27:44.000000000,2021-01-20 22:14:45.000000000,2021-01-20 22:14:45.000000000,8,2,2,771167,889ec435020157dc9c9922eb942d1470f8bd6d7e,18,7,2,1,13861,yatin,yatinkarel,"Ensure logs directory exists

[1] changed logs path to workspace/logs, so we need to
ensure that the path exists before using it.
In zuul jobs it's being created by prepare-node role, but since this
role can be used outside of zuul like jenkins jobs let's
ensure the directory exists before utilizing it.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/755124/
Change-Id: I395b05ea9353be5ea3694a206519944601143f3b
"
openstack%2Ftripleo-upgrade~stable%2Fussuri~I084f3b974e37c9f5a4d720747e408645deb50995,openstack/tripleo-upgrade,stable/ussuri,fix_error_handling_system_upgrde-stable/ussuri,I084f3b974e37c9f5a4d720747e408645deb50995,Handle errors on system upgrade,MERGED,2021-01-14 17:43:14.000000000,2021-01-20 22:14:34.000000000,2021-01-20 22:14:34.000000000,14,2,0,770753,951d9e5bc8500a0ff6291806739cf5787b16212e,8,3,1,1,6816,Jesse Pretorius,jesse-pretorius,"Handle errors on system upgrade

Using 'wait' will not return error if any of the
child background process fails. This results in
unexpected behavior of triggering upgrade run
eventhough system upgrade failed. Observed this
issue during the integration of NFV's NIC partitioning
feature, in which system upgrade hangs on SR-IOV
cleanup step.

Used `wait $PID` to handle the states of all child
processes and wait for all to complete. Exit with error
if anyone of the childs exited with error.

Change-Id: I084f3b974e37c9f5a4d720747e408645deb50995
(cherry picked from commit 9ab549df7de36e43923b5d2ed43fdb3961872489)
"
openstack%2Fpython-openstackclient~master~Ib1972244d484839943bc3cda07519a6c6d4b945a,openstack/python-openstackclient,master,bp/address-groups-in-sg-rules,Ib1972244d484839943bc3cda07519a6c6d4b945a,Support remote-address-group in SG rules,MERGED,2020-10-14 16:52:44.000000000,2021-01-20 22:14:13.000000000,2021-01-20 17:03:39.000000000,67,0,0,758211,e01e59caeb56cb7bf4f38403b82d0a265b163098,16,6,3,4,28159,Hang Yang,hangyang,"Support remote-address-group in SG rules

Add support for using remote-address-group in security group rules.

Change-Id: Ib1972244d484839943bc3cda07519a6c6d4b945a
Implements: blueprint address-groups-in-sg-rules
Depends-On: https://review.opendev.org/755644
"
openstack%2Fblazar~master~I55fbae296f5582148f5b48b7cf96fbd77d014227,openstack/blazar,master,,I55fbae296f5582148f5b48b7cf96fbd77d014227,Make lower-constraints job non-voting,MERGED,2021-01-20 09:00:24.000000000,2021-01-20 22:06:57.000000000,2021-01-20 22:00:38.000000000,2,0,0,771576,37bee67efde42f9e3926e74b0f9e29f94f843c62,11,2,2,1,15197,Pierre Riteau,priteau,"Make lower-constraints job non-voting

It is preventing us from merging some patches. Disable until it can be
fixed.

Change-Id: I55fbae296f5582148f5b48b7cf96fbd77d014227
"
openstack%2Fswift~master~Ie44cd975e827d4cd95dc126f4379840a21e79e01,openstack/swift,master,collapse_empty_followup,Ie44cd975e827d4cd95dc126f4379840a21e79e01,Add root aceptor as root if root has been deleted,NEW,2021-01-19 05:15:13.000000000,2021-01-20 21:38:30.000000000,,47,14,4,771343,34fd06ab0b832991be4e6a79355902e9f6a7f145,4,1,1,1,7233,Matthew Oliver,mattoliverau,"Add root aceptor as root if root has been deleted

The basic idea is this. Clay's patch before this one adds to
the container backend so that a root container isn't reclaimable
if there are still shard ranges.

This means until we have autosharding or rather auto shrinking enabled
these empty sharded containers (roots and shards) could hang around
indefinitely.

This patch makes it possible for someone, say an op or in the future the
autosharder, to mark all the shards in the empty and deleted root
container SHRINKING. And when the shards pull these into themselves
they'll collapse into the root container.

Currently when we shrink, the shard needs to have an acceptor pushed
into it's shard range table. And that's alot of work for an op. This
patch makes is that:
  - If the root is deleted
  - the delete timestamp is older then reclaim_age
  - and the shardrange the shard pulls from the deleted root is in the
    SHRINKING state.
It'll insert the root shardrange as an acceptor so it can cleave and
delete itself back into the root (collapse).

Bonus here, is if there does happen to be an object in a shard somewhere
it'll push it back into the root where an op can deal with it.

We may still need to think about what happens if the root container
actually doesn't exist (404s), but if there is nothing the shard, it
""should"" be an no-op. Maybe 404s after reclaim should warn so an op can
look?

Change-Id: Ie44cd975e827d4cd95dc126f4379840a21e79e01
"
openstack%2Fopenstack-helm~master~Iea57c999abf42e364f78d1bd352fa4414e7f1f83,openstack/openstack-helm,master,fix-credential-reset,Iea57c999abf42e364f78d1bd352fa4414e7f1f83,"Revert ""[keystone] Fix fernet secret reset""",ABANDONED,2021-01-20 21:21:26.000000000,2021-01-20 21:23:07.000000000,,1,5,0,771603,11f3c8a235c61272389c44aa48e566a104446ffd,4,5,1,3,21420,Gage Hugo,ghugo,"Revert ""[keystone] Fix fernet secret reset""

This reverts commit f5a757b1065d26593bdf6fca55ed70772d5ff722.

Reason for revert: This breaks the upgrade path for helm2, the secrets are deleted since they have changed and not-recreated.

Change-Id: Iea57c999abf42e364f78d1bd352fa4414e7f1f83
"
openstack%2Fopenstack-helm~master~I7c1c97f38877e0e54bea7fc09b37dd6f77c9dc8a,openstack/openstack-helm,master,fix-credential-reset,I7c1c97f38877e0e54bea7fc09b37dd6f77c9dc8a,[keystone] Fix fernet secret reset,MERGED,2020-10-21 20:14:17.000000000,2021-01-20 21:21:26.000000000,2020-10-22 06:15:26.000000000,5,1,0,759136,f5a757b1065d26593bdf6fca55ed70772d5ff722,13,4,1,3,1004,Mohammed Naser,mnaser,"[keystone] Fix fernet secret reset

This patch makes the fernet and credential secret something that gets
created only once when the deployment is first done, as when using Helm,
it's possible that it overrides it's values with an empty secret in the
runs afterwards.

By making it a hook, it will instead create it and leave an owner
reference in Helm 3 to delete it later if the release is deleted.  It
will not manage it afterwards as well.

Change-Id: I7c1c97f38877e0e54bea7fc09b37dd6f77c9dc8a
"
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I084f3b974e37c9f5a4d720747e408645deb50995,openstack/tripleo-upgrade,stable/victoria,fix_error_handling_system_upgrde-stable/victoria,I084f3b974e37c9f5a4d720747e408645deb50995,Handle errors on system upgrade,MERGED,2021-01-14 17:42:50.000000000,2021-01-20 21:21:04.000000000,2021-01-20 21:21:04.000000000,14,2,0,770752,ac69c47bb4ba7b6da926a46608075c0b3e026320,10,3,1,1,6816,Jesse Pretorius,jesse-pretorius,"Handle errors on system upgrade

Using 'wait' will not return error if any of the
child background process fails. This results in
unexpected behavior of triggering upgrade run
eventhough system upgrade failed. Observed this
issue during the integration of NFV's NIC partitioning
feature, in which system upgrade hangs on SR-IOV
cleanup step.

Used `wait $PID` to handle the states of all child
processes and wait for all to complete. Exit with error
if anyone of the childs exited with error.

Change-Id: I084f3b974e37c9f5a4d720747e408645deb50995
(cherry picked from commit 9ab549df7de36e43923b5d2ed43fdb3961872489)
"
openstack%2Fcinder-tempest-plugin~master~I846b96ef925c34162cf462da91d854ceacabe022,openstack/cinder-tempest-plugin,master,change-737884-10,I846b96ef925c34162cf462da91d854ceacabe022,Encryption Test Scenario for clone volume,MERGED,2020-06-24 22:51:40.000000000,2021-01-20 21:12:07.000000000,2021-01-20 21:12:07.000000000,183,0,16,737884,5ab3fef76283ca91b92fa130ba2685886bd8af68,72,6,13,1,20813,Sofia Enriquez,enriquetaso,"Encryption Test Scenario for clone volume

Due to an error in the _setup_encryption_keys volume rekey code, a
cloned encrypted volume that has been rekeyed will specify an
encryption key different from the key used to format the volume,
so it cannot be attached.

This test scenario will cover this feature and also the case of
source-vol feature.

Related-Bug: #1904440
Depends-on: https://review.opendev.org/#/c/762884/
Change-Id: I846b96ef925c34162cf462da91d854ceacabe022
"
openstack%2Fopenstack-ansible-os_horizon~stable%2Fvictoria~I77246d51a7880ef373ef4b33e199032d204f8b89,openstack/openstack-ansible-os_horizon,stable/victoria,,I77246d51a7880ef373ef4b33e199032d204f8b89,Add missing 'horizon-config' tag,MERGED,2021-01-20 09:58:59.000000000,2021-01-20 21:03:29.000000000,2021-01-20 21:01:49.000000000,2,0,0,771549,9af2d8a58e12e08559fbb970760bb566d0b80140,8,4,1,1,25023,Jonathan Rosser,jrosser,"Add missing 'horizon-config' tag

There is a missing tag in the os-horizon-install.yml
file that leads to an undefined variable error when
running the playbook with '--tags horizon-config'

Change-Id: I77246d51a7880ef373ef4b33e199032d204f8b89
(cherry picked from commit 8e1b3f522ad94375519bbb11127b3087a9653c47)
"
openstack%2Fnova~master~I2aee364cc03656a372b29038c59d7377fc654400,openstack/nova,master,vhost-vdpa,I2aee364cc03656a372b29038c59d7377fc654400,[WIP] add vdpa prefilter,ABANDONED,2021-01-13 05:47:27.000000000,2021-01-20 21:02:16.000000000,,48,0,0,770534,401f4bd1e3c3d3d7e7c9e16600ff849947c0262a,8,1,1,2,11604,sean mooney,sean-k-mooney,"[WIP] add vdpa prefilter

This change add a placement prefilter for vdpa
interfaces and a corresponding config option.
It is disabled by default as it is only supported
by the libvirt driver.

Change-Id: I2aee364cc03656a372b29038c59d7377fc654400
Partial-implements: blueprint libvirt-vdpa-support
"
openstack%2Fhorizon~master~Ied681bc3d1b4213bd6bacb3042b377ec2ac10855,openstack/horizon,master,bug/1895588,Ied681bc3d1b4213bd6bacb3042b377ec2ac10855,Show project name at launch instance dialog,MERGED,2020-09-14 21:00:50.000000000,2021-01-20 20:41:33.000000000,2021-01-20 20:39:43.000000000,30,2,2,751899,b65700a86584c14308c71ce778f698cc24ac1995,30,6,3,4,6914,Tatiana Ovchinnikova,tmazur,"Show project name at launch instance dialog

It is easy enough to create instances in the wrong project.
This patch displays project name at launch instance dialog.

Closes-Bug: #1895588

Change-Id: Ied681bc3d1b4213bd6bacb3042b377ec2ac10855
"
openstack%2Ftripleo-ansible~master~I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf,openstack/tripleo-ansible,master,fix-ffu,I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf,Remove pcs/pacemaker package installation from upgrade tasks,MERGED,2021-01-14 12:52:20.000000000,2021-01-20 20:19:34.000000000,2021-01-20 20:19:34.000000000,0,2,0,770803,62010a641d1794d4e708e31de6a386f99ab8d52f,22,4,1,1,20172,Michele Baldessari,michele,"Remove pcs/pacemaker package installation from upgrade tasks

We currently forcefully install pacemaker + pcs in a number of upgrade
tasks.  This is suboptimal because on certain nodes pcs/pacemaker repos
are not enabled.  Let's let puppet pull in those packages normally.

Tested this during a queen -> train FFU successfully on a composable
roles environment.

Closes-Bug: #1911684

Change-Id: I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf
"
openstack%2Foctavia-tempest-plugin~master~I9eb3c7ce8af879cd910b06234c99b53670907e49,openstack/octavia-tempest-plugin,master,fix-oper-status-with-listener,I9eb3c7ce8af879cd910b06234c99b53670907e49,Change pool create scenario test to wait for operating status,MERGED,2020-08-12 20:47:46.000000000,2021-01-20 19:56:54.000000000,2021-01-20 19:54:47.000000000,10,1,3,745962,aaa6fc7fde3064888f7935ee3d9bded8a0d219b6,74,8,11,2,1131,Brian Haley,brian-haley,"Change pool create scenario test to wait for operating status

The API test for pool creation has a check to wait for the
operating status of a pool to transition to ONLINE if a
listener has been provided.

The scenario test for pool creation doesn't wait for any
operating status transition after a pool is created with
a listener, and instead always assumes it's OFFLINE.

They should both wait for a transition, since otherwise
drivers that transition to ONLINE quickly, like OVN, can
race and fail the scenario test.

Depends-on: https://review.opendev.org/c/openstack/octavia/+/763530

Change-Id: I9eb3c7ce8af879cd910b06234c99b53670907e49
Story: 2008009
Task: 40659
"
openstack%2Fxstatic-jquery-migrate~master~I96d5af00c33c464cd293e4fde648569ea949516d,openstack/xstatic-jquery-migrate,master,,I96d5af00c33c464cd293e4fde648569ea949516d,Update to 3.3.2,MERGED,2020-11-30 14:52:01.000000000,2021-01-20 19:43:22.000000000,2021-01-20 19:43:22.000000000,778,440,0,764769,2d1952a662abbc344bf6380d64988e2c8cba1b5b,9,5,1,3,8648,Radomir Dopieralski,thesheep,"Update to 3.3.2

Change-Id: I96d5af00c33c464cd293e4fde648569ea949516d
"
openstack%2Fgovernance~master~Ic34080d6e97bbbf1978f0cc114eacc4582513642,openstack/governance,master,2021,Ic34080d6e97bbbf1978f0cc114eacc4582513642,Add QA in 2021 upstream investment opportunities,ABANDONED,2021-01-20 19:14:25.000000000,2021-01-20 19:34:36.000000000,,109,0,0,771708,f36c4b69ffeded1159333fb92915b0d701c01e17,3,1,1,1,8556,Ghanshyam,ghanshyam,"Add QA in 2021 upstream investment opportunities

Change-Id: Ic34080d6e97bbbf1978f0cc114eacc4582513642
"
openstack%2Fgovernance~master~I4d610df057c8edbba4f312abd420dd926278b89f,openstack/governance,master,2021-help,I4d610df057c8edbba4f312abd420dd926278b89f,Add RBAC work in 2021 upstream investment opportunities,ABANDONED,2021-01-20 19:16:05.000000000,2021-01-20 19:34:20.000000000,,90,0,0,771709,0d8af03f2d66d83d3e09c7f1c957d13cb98f6ad8,3,1,1,1,8556,Ghanshyam,ghanshyam,"Add RBAC work in 2021 upstream investment opportunities

Change-Id: I4d610df057c8edbba4f312abd420dd926278b89f
"
openstack%2Fmanila~master~Ia0cc534e0bfb2ca5e495e575237e9911c746691b,openstack/manila,master,bug/1659025,Ia0cc534e0bfb2ca5e495e575237e9911c746691b,[Doc] Add admin doc for share group,MERGED,2017-09-12 09:56:19.000000000,2021-01-20 19:14:49.000000000,2021-01-20 19:12:30.000000000,508,0,157,502936,3fa5cf4ed2d4196e606c2bdf36403702ce05fd53,187,29,19,3,15100,zhongjun,zhongjun2,"[Doc] Add admin doc for share group

Partial-Bug: #1659025
Change-Id: Ia0cc534e0bfb2ca5e495e575237e9911c746691b
"
openstack%2Fmanila~stable%2Fqueens~Id9bdd5df0ff05ea08881dd2c83397f0a367d9945,openstack/manila,stable/queens,bug/1879368,Id9bdd5df0ff05ea08881dd2c83397f0a367d9945,[NetApp] Fix CIFS promote back issue,MERGED,2021-01-19 19:46:12.000000000,2021-01-20 19:14:44.000000000,2021-01-20 19:12:26.000000000,93,2,0,771412,ada0998b766c42200978f6a21ad8591201edf0ac,14,5,1,7,16643,Goutham Pacha Ravi,gouthamr,"[NetApp] Fix CIFS promote back issue

This change fixes the NetApp promote back issue when using CIFS
protocol. When promoting a replica, the NetApp ONTAP driver
attempts to create a new CIFS share entity (an access point as
defined in [1]) for the new active replica. This behavior
causes a failure since the storage identifies that a current
backend CIFS share with the same name exists, considering
that the reffered replica was once the active one.

This issue is addressed by removing the related CIFS share
entity when the replica gets promoted.

[1] https://library.netapp.com/ecmdocs/ECMP1401220/html/GUID-1898D717-A510-4B3D-B2E3-CCDDD5BD0089.html

Closes-Bug: #1879368
Change-Id: Id9bdd5df0ff05ea08881dd2c83397f0a367d9945
(cherry picked from commit c3aed22f9454ca684af45c929be19b8593d55609)
(cherry picked from commit d2514735141bcf982e4bf043802591b3d017b526)
(cherry picked from commit 226f7e758a0b704e023e6aec0dfd271d9c4d3716)
(cherry picked from commit ef8d704c3b08d7de64926549a2f8f14cec3bfd0b)
(cherry picked from commit f8f3d82c5fb8a494309e5fc07ca8f92458266d42)
"
openstack%2Fkayobe~stable%2Fvictoria~I82313fcd258e58969e0b68ae91a78943df537a7f,openstack/kayobe,stable/victoria,,I82313fcd258e58969e0b68ae91a78943df537a7f,Fix overcloud host image resolv workaround on CentOS 8.3,MERGED,2021-01-18 16:07:17.000000000,2021-01-20 18:33:47.000000000,2021-01-20 18:31:21.000000000,7,1,0,771244,e660db0088d2553d43e8859573c88c94da061ebb,10,3,1,2,15197,Pierre Riteau,priteau,"Fix overcloud host image resolv workaround on CentOS 8.3

If a seed's bifrost_deploy container is deployed using a CentOS 8.2 base
image, prior to the CentOS 8.3 release, then a user runs 'kayobe seed
service deploy', the following task may fail:

    TASK [Ensure the overcloud host image has bogus name server entries removed]

This seems to be an issue with libgcrypt not being upgraded with
qemu-kvm, and becoming incompatible. The workaround is to ensure
libgcrypt is upgraded also.

Story: 2008430
Task: 41379

Change-Id: I82313fcd258e58969e0b68ae91a78943df537a7f
(cherry picked from commit bd5c5c018783028a4748de28d1287f29ef714c8e)
"
openstack%2Fblazar~master~I05541da4d87575f65d8e78f0fc54bd415328b9f2,openstack/blazar,master,bug/1912502,I05541da4d87575f65d8e78f0fc54bd415328b9f2,Fix use of legacy Alembic API,MERGED,2021-01-20 15:29:28.000000000,2021-01-20 18:31:39.000000000,2021-01-20 18:29:23.000000000,7,2,0,771661,b1841dc4b90d9127884379d4fe1cccf99c7a579c,7,2,1,2,15197,Pierre Riteau,priteau,"Fix use of legacy Alembic API

The `name` keyword argument for Operations.alter_column() has been
deprecated since version 0.8. It was finally removed in Alembic 1.5.0,
causing the following error during installation of Blazar:

TypeError: alter_column() got multiple values for keyword argument 'name'

Change-Id: I05541da4d87575f65d8e78f0fc54bd415328b9f2
Closes-Bug: #1912502
"
openstack%2Fpython-ironic-inspector-client~stable%2Fussuri~I4c940c72c0d93be0b6800aab55f0c2457d7ed07f,openstack/python-ironic-inspector-client,stable/ussuri,remove-l-c-job,I4c940c72c0d93be0b6800aab55f0c2457d7ed07f,Remove lower-constraints job,MERGED,2020-12-19 14:35:19.000000000,2021-01-20 18:25:15.000000000,2021-01-20 18:17:56.000000000,2,3,0,767795,34019fd082c66dff62576cf4d7c447eb925e3182,21,2,5,2,23851,Riccardo Pittau,elfosardo,"Remove lower-constraints job

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020, the lower-constraints job is being removed.

Also increase memory for base job.

Change-Id: I4c940c72c0d93be0b6800aab55f0c2457d7ed07f
(cherry picked from commit 4a92b65bf113d0f7c68b8821435e2cb1407e5169)
"
openstack%2Fneutron~stable%2Ftrain~I660baccde67a040731538276fc6dff05a10efb68,openstack/neutron,stable/train,bug/1910717,I660baccde67a040731538276fc6dff05a10efb68,Add WaitForPortCreateEvent in BaseOVSTestCase,MERGED,2021-01-13 09:07:44.000000000,2021-01-20 18:25:11.000000000,2021-01-20 18:21:47.000000000,15,0,0,770549,c121b1caa9150ab6d9bfe4a626b7e01eae48ca3d,17,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add WaitForPortCreateEvent in BaseOVSTestCase

When a port is created, the test case will wait until the IDL event
is raised and the port is effectively created and the local DB
cache is updated.

Conflicts:
      neutron/tests/functional/agent/common/test_ovs_lib.py

Change-Id: I660baccde67a040731538276fc6dff05a10efb68
Related-Bug: #1910717
(cherry picked from commit e0f15c59828bc95c7de56475f036b8867f85d3f6)
"
openstack%2Fnova~master~Ic2ef0d3040e29b1b75583bfa34fd3cd48c775c63,openstack/nova,master,bp/pci-socket-affinity,Ic2ef0d3040e29b1b75583bfa34fd3cd48c775c63,WIP: Start pupulating `socket` in PCI devices,ABANDONED,2020-12-23 17:02:56.000000000,2021-01-20 18:24:11.000000000,,25,6,0,768359,83021f289fe145bf07a761f035d59a99afd65dc3,5,1,1,3,8864,Artom Lifshitz,artom,"WIP: Start pupulating `socket` in PCI devices

Implements: blueprint pci-socket-affinity
Change-Id: Ic2ef0d3040e29b1b75583bfa34fd3cd48c775c63
"
openstack%2Fnova~master~Ib076310053c861770df0642f395b0e1f87252fd5,openstack/nova,master,bp/pci-socket-affinity,Ib076310053c861770df0642f395b0e1f87252fd5,WIP: objects: Add `socket` to NUMACell and PciDevice,ABANDONED,2020-12-11 21:38:18.000000000,2021-01-20 18:23:38.000000000,,65,9,0,766795,a75a8f93c8da128d0eaf4979d094a93d6d245ec2,25,1,6,7,8864,Artom Lifshitz,artom,"WIP: objects: Add `socket` to NUMACell and PciDevice

Also add unit testing for PciDevice.obj_make_compatible()

Implements: blueprint pci-socket-affinity
Change-Id: Ib076310053c861770df0642f395b0e1f87252fd5
"
openstack%2Fnova~master~Ia9df5835b17e9779f8a813c01b8d3dd7c2a134c0,openstack/nova,master,bp/pci-socket-affinity,Ia9df5835b17e9779f8a813c01b8d3dd7c2a134c0,WIP: db: Add `socket` to pci_devices,ABANDONED,2020-12-13 19:09:01.000000000,2021-01-20 18:23:01.000000000,,40,0,0,766862,eb80b7185a706a200ad11ef3fc82c84acb2bdf49,16,1,4,4,8864,Artom Lifshitz,artom,"WIP: db: Add `socket` to pci_devices

Change-Id: Ia9df5835b17e9779f8a813c01b8d3dd7c2a134c0
Implements: blueprint pci-socket-affinity
"
openstack%2Fnova~master~I338408b01b1d2328035dd92d2588710a20aba323,openstack/nova,master,,I338408b01b1d2328035dd92d2588710a20aba323,Docs: correct cpu_thread_policy explanation,MERGED,2020-12-02 16:33:00.000000000,2021-01-20 18:04:02.000000000,2021-01-20 17:55:32.000000000,7,10,4,765172,3cb1215f1932bbde891be76d899b5b4fdec1c439,14,4,2,1,8864,Artom Lifshitz,artom,"Docs: correct cpu_thread_policy explanation

With the landing of the cpu-resources series in train [1], the
hw:cpu_thread_policy extra spec has a different effect than before.
Correct our documentation.

[1] https://review.opendev.org/q/topic:bp/cpu-resources

Change-Id: I338408b01b1d2328035dd92d2588710a20aba323
"
openstack%2Fkeystone~stable%2Fvictoria~I47e747058891596e7717848a0b0bc10f0a235b2f,openstack/keystone,stable/victoria,,I47e747058891596e7717848a0b0bc10f0a235b2f,Drop lower-constraints job,MERGED,2021-01-08 16:10:41.000000000,2021-01-20 18:02:52.000000000,2021-01-20 17:56:00.000000000,0,1,0,769953,42faeb277b6eb4b4a772f516a6e2b547f2b2a2b4,11,4,1,1,5046,Lance Bragstad,ldbragst,"Drop lower-constraints job

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: I47e747058891596e7717848a0b0bc10f0a235b2f
(cherry picked from commit d6610594d1b766a8ee3ac65182b951f2a3d431f7)
"
openstack%2Fnova~master~Ia39c0bad4c1c03b3ffb4a162c2afddb44ebaf6a1,openstack/nova,master,bp/smarter-usb-devices,Ia39c0bad4c1c03b3ffb4a162c2afddb44ebaf6a1,libvirt: Remove support for '[libvirt] use_usb_tablet',MERGED,2020-10-07 16:09:44.000000000,2021-01-20 18:02:31.000000000,2021-01-20 17:53:13.000000000,33,96,0,756550,5b0343d3e131aadfd0e51a91f0671b57aac23662,27,12,3,5,15334,Stephen Finucane,sfinucan,"libvirt: Remove support for '[libvirt] use_usb_tablet'

This was replaced by the '[DEFAULT] pointer_model' config option was
back in the 14.0.0 (Newton) release.

Change-Id: Ia39c0bad4c1c03b3ffb4a162c2afddb44ebaf6a1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fironic-prometheus-exporter~stable%2Fussuri~If0f75dc5e4f6a862dde7b120a33e1e5b7a936029,openstack/ironic-prometheus-exporter,stable/ussuri,remove-l-c-job,If0f75dc5e4f6a862dde7b120a33e1e5b7a936029,Remove lower-constraints job,MERGED,2020-12-19 14:38:57.000000000,2021-01-20 18:00:33.000000000,2021-01-20 17:48:42.000000000,1,2,0,767977,5744d42ddbade54f8c149780fba7b2b0f5be3f2a,16,2,3,1,23851,Riccardo Pittau,elfosardo,"Remove lower-constraints job

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020, the lower-constraints job is being removed.

Also increase memory for redfish job.

Change-Id: If0f75dc5e4f6a862dde7b120a33e1e5b7a936029
(cherry picked from commit 36f2ccb44f1a8d9853326a5d5dd809f17e7c9de5)
"
openstack%2Fnova~master~Id367ee53ef1458b6a90fc107ab14f5b3cbba7a86,openstack/nova,master,,Id367ee53ef1458b6a90fc107ab14f5b3cbba7a86,api-ref: Add notes about volume attach and detach being async,MERGED,2020-12-21 16:23:07.000000000,2021-01-20 17:54:42.000000000,2021-01-20 17:54:42.000000000,9,0,0,768104,606a5dfecce02d564d6245f57359efbf89b780da,15,7,1,1,10135,Lee Yarwood,lyarwood,"api-ref: Add notes about volume attach and detach being async

This change adds some basic notes in the api-ref for a wrinkle in the
current os-volume_attachments API in that both attach and detach actions
are async, returning to the caller *before* the underlying action is
complete. As such callers need to make seperate calls to ensure these
actions complete successfully.

There are also currently two different ways of polling for completion
when attaching and detaching.

- When attaching callers should use the volume status and list of
  attachments as reported by the volume API.

- When detaching callers should instead use the list of volume attachments
  reported by the os-volume_attachments API.

This is due to the way in which Nova currently completes the attachment
via c-api last during attachment and deletes the bdm record last during
detachment.

It would be useful to one day centralise on just using the
os-volume_attachments API to poll both actions but to do that we would
need to start tracking our own state within the BDMs.

Change-Id: Id367ee53ef1458b6a90fc107ab14f5b3cbba7a86
"
openstack%2Fnova~master~If469762b22d687151198468f0291821cebdf26b2,openstack/nova,master,bug/1893221,If469762b22d687151198468f0291821cebdf26b2,Make PCI claim NUMA aware during live migration,MERGED,2020-08-27 14:56:37.000000000,2021-01-20 17:53:49.000000000,2021-01-20 17:53:49.000000000,15,6,18,748453,1273c5ee0b18974d9837e9221fc9270429d428bf,110,19,10,3,9708,Balazs Gibizer,gibi,"Make PCI claim NUMA aware during live migration

NUMA aware live migration and SRIOV live migration was implemented as
two separate feature. As a consequence the case when both SRIOV and NUMA
is present in the instance was missed. When the PCI device is claimed on
the destination host the NUMA topology of the instance needs to be
passed to the claim call.

Change-Id: If469762b22d687151198468f0291821cebdf26b2
Closes-Bug: #1893221
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I85599dbb985a9d45e2e7587170c39aa2940ca939,openstack/tripleo-heat-templates,stable/train,,I85599dbb985a9d45e2e7587170c39aa2940ca939,Filter computes with nova_host defined,MERGED,2020-11-11 03:13:03.000000000,2021-01-20 17:53:03.000000000,2021-01-20 17:53:03.000000000,1,1,0,762276,4f29c34931091cc0f5deda42ecf50b113738f605,12,6,1,1,8833,Rabi Mishra,rabi,"Filter computes with nova_host defined

When adding hosts to aggregates/availability zones, use the nodes
that have nova_host defined. This would exclude blacklisted nodes.

Change-Id: I85599dbb985a9d45e2e7587170c39aa2940ca939
(cherry picked from commit 00a22232fc3fc4c16f4c4cea820f76b47ad744a4)
"
openstack%2Fironic~master~Ic91f34a90fdd0c22c06c669551eaf6f9a398956b,openstack/ironic,master,secure-rbac,Ic91f34a90fdd0c22c06c669551eaf6f9a398956b,Bump oslo.log requirement to 4.3.0,MERGED,2020-11-18 20:18:39.000000000,2021-01-20 17:37:01.000000000,2021-01-20 17:34:26.000000000,1,1,0,763256,6ea73bdfbb53486cf9905d21024d16cbf5829b2c,32,7,5,1,5046,Lance Bragstad,ldbragst,"Bump oslo.log requirement to 4.3.0

This ensures we have the WALLABY marker available for deprecation
noticies.

Change-Id: Ic91f34a90fdd0c22c06c669551eaf6f9a398956b
"
openstack%2Fhorizon~master~I2a1ff5a4df5e278f89fcd73c26f1d8527b9c4d7f,openstack/horizon,master,jquery-version,I2a1ff5a4df5e278f89fcd73c26f1d8527b9c4d7f,Bump min requirement of xstatic-jquery to 1.12.x,MERGED,2021-01-20 09:05:24.000000000,2021-01-20 17:29:14.000000000,2021-01-20 17:24:27.000000000,4,4,0,771577,4b48b5816cd45a7bd0cb8e78b4becb75b15fcfe8,14,4,2,2,841,Akihiro Motoki,amotoki,"Bump min requirement of xstatic-jquery to 1.12.x

As discussed in the last horizon team meeting, we plan to upgrade
jquery to jquery 3 series. Jquery 3 upgrade assumes we already use
jquery 1.12.x ro 2.2.x. We already use jquery 1.12.4.1 in the master
for long but our requirements file says >=1.8.2. This commit bumps
the xstatic-jquery minimum requirement to 1.12.4.1 to ensure
we use 1.12.x before upgrading jQuery to 3.

xstatic-jquery-ui min version is also bumped to 1.12.0.1.
The current requirement is >=1.10.4 but we use 1.12.x series for long
and use 1.12.1.1 since 2018, so I believe it is safe to bump it.

Change-Id: I2a1ff5a4df5e278f89fcd73c26f1d8527b9c4d7f
"
openstack%2Fcharm-guide~master~I957eb87d16003c74863332947f47093eb68d0835,openstack/charm-guide,master,21.01-symlinks,I957eb87d16003c74863332947f47093eb68d0835,Remove SAN IP sym link workaround,MERGED,2021-01-20 16:35:58.000000000,2021-01-20 17:26:58.000000000,2021-01-20 17:24:03.000000000,0,19,4,771667,5e79f238c71af37a37ccc186138ac8ba3858616d,11,2,2,1,20805,David Ames,thedac,"Remove SAN IP sym link workaround

Change-Id: I957eb87d16003c74863332947f47093eb68d0835
"
openstack%2Fmanila~stable%2Fqueens~Ice936853ae6b09e4ce4d5df6e6b27670cbb8f0d6,openstack/manila,stable/queens,adjust-ci-jobs,Ice936853ae6b09e4ce4d5df6e6b27670cbb8f0d6,[stable/queens] Adjust CI jobs,MERGED,2021-01-14 20:47:23.000000000,2021-01-20 17:19:37.000000000,2021-01-20 17:19:37.000000000,0,23,0,770864,ba7dd7d2a6d277872c000addaf8c0a4f8ca3efa6,15,4,1,1,16643,Goutham Pacha Ravi,gouthamr,"[stable/queens] Adjust CI jobs

stable/queens was first released in February 2018,
and the final release from this branch (6.3.2)
was made on 25 Oct 2019 [1]. This branch is
currently open only to take necessary third
party driver fixes and maintenance is at best
effort. A number of CI jobs have been broken
on this branch for a while. Let's clean them
up so we don't waste CI resources when backports
are proposed. This definitely implies loss
of test coverage, however, we have to weigh
the cost of repairing these CI jobs against
momentum of maintenance and work for the
future branches.

Jobs being dropped are:

* openstack-lower-constraints
pip's latest dependency resolver unearthed a bunch
of broken dependencies on this branch. Resolving these
would involve bumping the ""lower"" requirements, the
team does not think this will be useful for anyone,
since we will not be altering requirements for this
branch anymore.
* manila-tempest-dsvm-mysql-generic and
The reference generic driver had four jobs on this
branch, manila-tempest-dsvm-generic-no-share-servers.
We can cut it down to two by dropping coverage
for the DHSS=False configuration and multibackend,
both of which are tested in the other jobs, albeit
with other backends.
* manila-tempest-minimal-dsvm-lvm-centos-7
This is a lost cause, we don't expect to fix
devstack on centos-7 anytime soon for these
old extended maintenance branches (See bug#1888717)
* manila-rally-multibackend and
manila-rally-multibackend-no-ss - these rally
jobs have been broken for a while, there's
barely any reason to think we'll cause performance
regressions in the API on this branch and use
these jobs to judge them.

Also drop all the experimental jobs and remove
""openstack-tox-cover"" from the post queue.
We can also remove the openstack-tox-genconfig
job from the gate queue, since it exists on
the check queue, and need only run once.

[1] http://lists.openstack.org/pipermail/release-announce/2019-October/008089.html

Change-Id: Ice936853ae6b09e4ce4d5df6e6b27670cbb8f0d6
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit a99cb7448bc6c4a8c98366dbdb64bf7fc3043924)
"
openstack%2Fbifrost~stable%2Fussuri~Ie5e6a655b103dd7edb447f56bff8da870193deba,openstack/bifrost,stable/ussuri,remove-l-c-job,Ie5e6a655b103dd7edb447f56bff8da870193deba,Remove lower-constraints job,ABANDONED,2020-12-18 08:36:20.000000000,2021-01-20 17:15:37.000000000,,0,1,0,767550,a891eb60e0a710b9eef31d0276b9215e0929ee6a,10,1,2,1,23851,Riccardo Pittau,elfosardo,"Remove lower-constraints job

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020, the lower-constraints job is being removed.

Change-Id: Ie5e6a655b103dd7edb447f56bff8da870193deba
(cherry picked from commit 986427ce8eaa96e820f3cb8cda4cc1954c449994)
"
openstack%2Fnova~master~I136cae2ea0b2f59c46d999569998e80ec5d4f24d,openstack/nova,master,openstackclient,I136cae2ea0b2f59c46d999569998e80ec5d4f24d,doc: require openstack client change for every new API microversion,MERGED,2020-04-06 11:53:37.000000000,2021-01-20 17:09:07.000000000,2021-01-20 17:04:42.000000000,8,4,6,717727,65fb14c36e35ac22cd323fa1ef9a848d81fa6d99,34,14,3,1,9708,Balazs Gibizer,gibi,"doc: require openstack client change for every new API microversion

To avoid widening the gap between novaclient and openstack client we
require to add support for each new microversion in both clients.

Change-Id: I136cae2ea0b2f59c46d999569998e80ec5d4f24d
"
openstack%2Fnova~master~I36ae872dd21299ad5d165422cb83564eafd89bea,openstack/nova,master,doc/overcommit-reference,I36ae872dd21299ad5d165422cb83564eafd89bea,tox: Stop linting as part of docs target,MERGED,2020-06-11 15:16:52.000000000,2021-01-20 17:07:16.000000000,2021-01-20 17:04:07.000000000,0,4,0,735176,7bd2bef3b4ea4e22df7f6019589c18e68ed8520e,20,10,2,1,15334,Stephen Finucane,sfinucan,"tox: Stop linting as part of docs target

This linting makes building docs an even more painful process than it
would otherwise be. We already do this as part of the pep8 target,
which the gate runs, so there's no need to do this here.

Change-Id: I36ae872dd21299ad5d165422cb83564eafd89bea
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fneutron-tempest-plugin~master~I044e8f86cd8999d1bde5e4995239b0dfa55489f0,openstack/neutron-tempest-plugin,master,change-762835-3,I044e8f86cd8999d1bde5e4995239b0dfa55489f0,Create security groups with the same name,MERGED,2020-11-16 13:10:58.000000000,2021-01-20 17:03:36.000000000,2021-01-20 17:03:36.000000000,15,0,13,762835,8ebc061c05d8502fdb5410f34020438492b9e364,37,14,4,1,28609,Arkady Shtempler,ashtempl,"Create security groups with the same name

Test scenario:
Create a number of security groups using the same name.
Make sure that all the security groups have been created successfully
and that each group has its own unique ID.

Change-Id: I044e8f86cd8999d1bde5e4995239b0dfa55489f0
"
openstack%2Fcinder~master~I0af2d5cfbbfdb384786ef0c17cf96ba8ca865ced,openstack/cinder,master,bp/dellemc-me-driver,I0af2d5cfbbfdb384786ef0c17cf96ba8ca865ced,Add driver for Dell EMC PowerVault ME Series,MERGED,2020-10-18 23:19:05.000000000,2021-01-20 16:58:18.000000000,2021-01-20 06:41:56.000000000,385,0,12,758684,e9d1bf8f6c89a7c06e5f8f80bf8a8ac5c781b172,199,22,7,9,17042,Chris M,pots,"Add driver for Dell EMC PowerVault ME Series

Change-Id: I0af2d5cfbbfdb384786ef0c17cf96ba8ca865ced
Implements: blueprint dellemc-me-driver
"
openstack%2Fneutron-tempest-plugin~master~I448203ead31f17a51f756667f6b3fc8e70a77ed2,openstack/neutron-tempest-plugin,master,vlan-transparency,I448203ead31f17a51f756667f6b3fc8e70a77ed2,Add first VLAN Transparency tests,MERGED,2020-12-01 20:14:59.000000000,2021-01-20 16:49:27.000000000,2021-01-20 16:49:27.000000000,256,13,33,765002,088707bf5c4cdffd403c2cb4c7743b811ece5635,64,7,19,4,31291,Eduardo Olivares,eolivare,"Add first VLAN Transparency tests

These tests are only executed if the vlan-transparent extension is installed
Advanced images are required because VLANs need to be configured on
the servers, which is not possible with cirros
Connectivity between servers via VLAN interface is verified

Functions add_route, delete_route and delete_address are added to class
IPCommand because they are needed for some VLAN Transparency downstream tests

Change-Id: I448203ead31f17a51f756667f6b3fc8e70a77ed2
"
openstack%2Fcharm-nova-compute~master~I34fa2d39171132e4fe7d0b7e5fd29162161a5060,openstack/charm-nova-compute,master,bug/1912187,I34fa2d39171132e4fe7d0b7e5fd29162161a5060,Allow neutron-plugin sub to publish nothing,MERGED,2021-01-19 14:56:14.000000000,2021-01-20 16:13:14.000000000,2021-01-20 16:13:14.000000000,40,1,0,771469,372da646b6d47dfacb0c20cffe755ce9eb3c9c1b,13,4,1,3,12549,gnuoy,gnuoy,"Allow neutron-plugin sub to publish nothing

A change landed to charm helpers to mark the
SubordinateConfigContext as incomplete if the subordinate supplied
no data *1. But the neutron-plugin subordinate may legitimately
supply no data if no special config is needed. This restores the
previous behaviour of marking the subordinate context for the
neutron-plugin relation as complete even if not data was supplied.

*1 https://github.com/juju/charm-helpers/pull/519

Change-Id: I34fa2d39171132e4fe7d0b7e5fd29162161a5060
Closes-Bug: #1912187
"
openstack%2Fmonasca-api~master~I019c24c8466b09da4632eea7dc7793aac223e3b5,openstack/monasca-api,master,fix-zuul-publish,I019c24c8466b09da4632eea7dc7793aac223e3b5,Fix zuul publish docker image job,MERGED,2021-01-19 12:10:19.000000000,2021-01-20 15:54:07.000000000,2021-01-20 15:51:35.000000000,1,1,0,771432,90754d0b780a74e83d3d1d3d5cd6184234d6009e,12,2,1,1,26141,Adrian Czarnecki,czarneckia,"Fix zuul publish docker image job

Change-Id: I019c24c8466b09da4632eea7dc7793aac223e3b5
"
openstack%2Fcinder~master~I381b80920d812a3f3b5f75b6dae66aa932f6baa4,openstack/cinder,master,pure-option,I381b80920d812a3f3b5f75b6dae66aa932f6baa4,Pure: Add default value to pure_host_personality,MERGED,2021-01-18 11:38:55.000000000,2021-01-20 15:26:33.000000000,2021-01-20 06:26:42.000000000,2,1,0,771185,69f4f5ffe44dfa219ecde975180bd26ed5f62377,62,5,1,1,9535,Gorka Eguileor,Gorka,"Pure: Add default value to pure_host_personality

Pure's ""pure_host_personality"" configuration option currently defaults
to a non valid value according to its choices.

This affects tools leveraging the ""get_driver_options"" mechanism, since
the default value for the option was not considered a valid option.

This patch sets the default explicitly and adds it as a valid choice.

Change-Id: I381b80920d812a3f3b5f75b6dae66aa932f6baa4
"
openstack%2Fpuppet-nova~stable%2Fussuri~I5adcc865fc1e152fa07bf788a445faf3555970d4,openstack/puppet-nova,stable/ussuri,backport,I5adcc865fc1e152fa07bf788a445faf3555970d4,Add update_resources_interval config option,MERGED,2020-11-03 12:51:46.000000000,2021-01-20 15:22:58.000000000,2021-01-20 15:13:44.000000000,19,0,0,761133,616e0e654f9a97a34d04a73f6791570f44b57efb,19,4,3,3,26721,Rocky,Rocky,"Add update_resources_interval config option

Change-Id: I5adcc865fc1e152fa07bf788a445faf3555970d4
(cherry picked from commit 170684de1bea1c07b6ca7e9d09a1233b67c20b96)
(cherry picked from commit cb5ab65802ebd01ec324da050d76237ac1196256)
"
openstack%2Foctavia-dashboard~master~Ia0c4bb5ef8aa2ab66b8abc8bdfb3457a003f884a,openstack/octavia-dashboard,master,,Ia0c4bb5ef8aa2ab66b8abc8bdfb3457a003f884a,Fix lower-constraints for new pip release,MERGED,2020-12-17 07:56:29.000000000,2021-01-20 15:21:07.000000000,2021-01-20 15:12:52.000000000,8,8,0,767465,acd8c0f5c83d10cec148228ca26aa48b06c1b7d7,9,4,1,1,29244,Gregory Thiemonge,gthiemonge,"Fix lower-constraints for new pip release

Change-Id: Ia0c4bb5ef8aa2ab66b8abc8bdfb3457a003f884a
"
openstack%2Ftripleo-quickstart-extras~master~Ibcd96c1880d6e97e737d998cdd5835549139d9ea,openstack/tripleo-quickstart-extras,master,node-introspection-timeout,Ibcd96c1880d6e97e737d998cdd5835549139d9ea,DNM: Testing larger introspection timeout,ABANDONED,2020-06-26 18:44:39.000000000,2021-01-20 14:54:25.000000000,,1,1,0,738262,5b7decbc16652a515c343ba403ec900bbff3dfcd,5,4,2,1,9976,Ronelle Landy,rlandy,"DNM: Testing larger introspection timeout

Depends-On: https://review.opendev.org/#/c/737568/
Partial-Bug: #1885314
Change-Id: Ibcd96c1880d6e97e737d998cdd5835549139d9ea
"
openstack%2Fansible-collections-openstack~master~I5f9c999c2f1d14c0714090bc4f08691724bb93cc,openstack/ansible-collections-openstack,master,set-boot-device,I5f9c999c2f1d14c0714090bc4f08691724bb93cc,Add support for setting node boot device,ABANDONED,2021-01-20 13:13:04.000000000,2021-01-20 14:30:27.000000000,,12,0,0,771644,0ceebd16d818903eb0ffe2147a4137af6663fbef,3,1,1,1,32541,Tosin Farai,tosinfarai,"Add support for setting node boot device

Change-Id: I5f9c999c2f1d14c0714090bc4f08691724bb93cc
"
openstack%2Fansible-collections-openstack~master~I0e29dcbd9ea58c59d1f50cd50ed9837fab79bc40,openstack/ansible-collections-openstack,master,set-provision-state,I0e29dcbd9ea58c59d1f50cd50ed9837fab79bc40,Add support for setting provision state,ABANDONED,2021-01-20 14:15:43.000000000,2021-01-20 14:29:25.000000000,,13,0,0,771651,7de1e8b775c484886f5521469170d13169e0e192,2,0,1,1,32541,Tosin Farai,tosinfarai,"Add support for setting provision state

Change-Id: I0e29dcbd9ea58c59d1f50cd50ed9837fab79bc40
"
openstack%2Fcharm-neutron-openvswitch~master~I8d98e6310aafcd840f3b4947ccc065c97069afe2,openstack/charm-neutron-openvswitch,master,bug/1906280,I8d98e6310aafcd840f3b4947ccc065c97069afe2,Fix ordering issue for disabling mlockall,MERGED,2021-01-19 19:49:46.000000000,2021-01-20 14:02:16.000000000,2021-01-20 14:02:16.000000000,32,4,0,771511,840e255325c647bc66702e3ff00470e3f9975fa4,15,5,4,1,13686,Frode Nordahl,fnordahl,"Fix ordering issue for disabling mlockall

The charm will attempt to do run-time configuration of
Open vSwitch prior to writing configuration files to disk and
restarting services when required.

When running in a container or on a system where it is required
to disable mlockall this will not work as the charm will attempt
to do run-time configuration of OVS prior to having (re-)started
it with the required ``--no-mlockall`` option.

Closes-Bug: #1906280
Change-Id: I8d98e6310aafcd840f3b4947ccc065c97069afe2
"
