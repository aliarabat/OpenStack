id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Ftripleo-ansible~master~I26e3753ad438ae1c358be372318ade231d8b1d93,openstack/tripleo-ansible,master,1852064,I26e3753ad438ae1c358be372318ade231d8b1d93,"Revert ""Fix ssh_known_hosts hostname entries""",MERGED,2019-11-12 19:26:37.000000000,2019-11-13 02:25:37.000000000,2019-11-13 02:24:08.000000000,2,12,0,693911,53e2b5e6159e2fcdeae251178f780729b658c8da,10,11,1,2,14985,Alex Schultz,mwhahaha,"Revert ""Fix ssh_known_hosts hostname entries""

This reverts commit a5bcbc8d015b792b3546ecbb139506f248dacfe8.

This looks to have broken ovb.

2019-11-12 17:28:30 | The error appears to be in '/usr/share/ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml': line 46, column 7

Change-Id: I26e3753ad438ae1c358be372318ade231d8b1d93
"
openstack%2Fneutron-tempest-plugin~master~I9acc4d59798a160222ef1fb49f591262e66911a2,openstack/neutron-tempest-plugin,master,,I9acc4d59798a160222ef1fb49f591262e66911a2,tox: Keeping going with docs,ABANDONED,2019-10-25 14:41:11.000000000,2019-11-13 02:25:20.000000000,,3,3,0,691369,9cac3ca287fd08dea979ab40fa86a650db7e7098,5,3,1,2,30356,gugug,gujin,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I9acc4d59798a160222ef1fb49f591262e66911a2
"
openstack%2Ftripleo-ansible~master~Idf534e50d3a1ec879c340996ac225c80f4b52d3f,openstack/tripleo-ansible,master,,Idf534e50d3a1ec879c340996ac225c80f4b52d3f,Prefer ovn_dbs_vip from all_nodes_extra_map_data,MERGED,2019-11-11 16:49:03.000000000,2019-11-13 01:41:58.000000000,2019-11-12 23:25:00.000000000,7,3,0,693730,a610cb132a5cea069fa54063e7de97fb25add8c2,11,4,2,1,7144,James Slagle,slagle,"Prefer ovn_dbs_vip from all_nodes_extra_map_data

When all_nodes_extra_map_data includes a value for ovn_dbs_vip that
value should be preferred over any other. This fixes an issue in the
multi-stack case where the dependent stacks were using the wrong value
for the ovn vip.

Change-Id: Idf534e50d3a1ec879c340996ac225c80f4b52d3f
"
openstack%2Fstorlets~master~Icaa3f2894feab48279073ddb19e8586f0528763b,openstack/storlets,master,tmp-file,Icaa3f2894feab48279073ddb19e8586f0528763b,Clean up tmp file in more cases,MERGED,2019-11-12 17:30:55.000000000,2019-11-13 01:10:03.000000000,2019-11-13 01:08:01.000000000,6,4,0,693889,2e5823f007ef0eadaee63dfd37f461fdaa83e7a9,7,2,1,1,15343,Tim Burke,tburke,"Clean up tmp file in more cases

Previously, if the test failed, we would not remove the file.

Change-Id: Icaa3f2894feab48279073ddb19e8586f0528763b
"
openstack%2Fstorlets~master~I8eaee3954cd480acca11c76f3b5dc8080b7fa8d9,openstack/storlets,master,china-contribs,I8eaee3954cd480acca11c76f3b5dc8080b7fa8d9,Use maven for simple_json jar,MERGED,2019-11-12 17:31:03.000000000,2019-11-13 01:09:16.000000000,2019-11-13 01:08:01.000000000,1,1,0,693890,e4363f4d1f3e456c60d13025ba2ff2e6ff713b45,7,2,1,1,15343,Tim Burke,tburke,"Use maven for simple_json jar

Google is not accessible from China.

Change-Id: I8eaee3954cd480acca11c76f3b5dc8080b7fa8d9
"
openstack%2Fproject-config~master~I8db99f8f2fd4b1b7b9a5e06148ca2dc185ed682b,openstack/project-config,master,use-opensuse-15,I8db99f8f2fd4b1b7b9a5e06148ca2dc185ed682b,Remove opensuse-150,MERGED,2019-11-12 20:08:44.000000000,2019-11-13 01:00:50.000000000,2019-11-13 01:00:49.000000000,7,135,0,693915,88dcfdb48865876e41ef08131ee1b13602a309e0,10,3,1,9,4146,Clark Boylan,cboylan,"Remove opensuse-150

The opensuse-150 image is being removed as the 15.0 release is EOL.
Similar to centos the expectation is that users keep up to date with
minor releases. For this we have the opensuse-15 image which should be
used instead.

Depends-On: https://review.opendev.org/#/c/682844/
Change-Id: I8db99f8f2fd4b1b7b9a5e06148ca2dc185ed682b
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ia16edde342b0c86c31c5715a28dbfe370cfb3246,openstack/tripleo-ansible,stable/train,bug/1852136,Ia16edde342b0c86c31c5715a28dbfe370cfb3246,Include ceph-ansible filter_plugins,MERGED,2019-11-12 19:43:01.000000000,2019-11-13 00:59:28.000000000,2019-11-13 00:59:28.000000000,1,0,0,693913,92ac330cee6a303c57572413ed160136e7d91a9b,8,4,1,1,18002,John Fulton,fultonj,"Include ceph-ansible filter_plugins

As of version 4, ceph-ansible ships it's own filter_plugins [1]
so we need to include them in the environment when tripleo
executes ceph-ansible.

Closes-Bug: #1852136

[1] https://github.com/ceph/ceph-ansible/commit/5fea830414e7eb4cf6f1d0008834e2c4b205b131

Change-Id: Ia16edde342b0c86c31c5715a28dbfe370cfb3246
(cherry picked from commit 64f6d3ba1979e21fdf5392a056c13f313220be3e)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I5ae0efba8338cfcc3e43588ebea89238aabc7c82,openstack/tripleo-ansible,stable/train,1852064-stable/train,I5ae0efba8338cfcc3e43588ebea89238aabc7c82,"Revert ""Fix ssh_known_hosts hostname entries""",MERGED,2019-11-12 19:26:52.000000000,2019-11-13 00:59:17.000000000,2019-11-13 00:58:13.000000000,2,12,0,693912,035bdc34a6dd7144fe6d4005b5ac798fb73ac65a,10,9,1,2,14985,Alex Schultz,mwhahaha,"Revert ""Fix ssh_known_hosts hostname entries""

This reverts commit 84dd53a386cdc75816131a80683481a4307aa39d.

This appears to have broken ovb.

2019-11-12 17:28:30 | The error appears to be in '/usr/share/ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml': line 46, column 7

Change-Id: I5ae0efba8338cfcc3e43588ebea89238aabc7c82
"
openstack%2Ftripleo-ansible~master~Id4a7c007041d7a3d7099e08392b028f93a395185,openstack/tripleo-ansible,master,testsrc,Id4a7c007041d7a3d7099e08392b028f93a395185,DNM: just test previous patch,ABANDONED,2019-11-12 19:12:12.000000000,2019-11-13 00:11:58.000000000,,79,2,0,693908,53f95c6e78529f9f03e146581c0997417909790e,4,2,1,37,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: just test previous patch

Change-Id: Id4a7c007041d7a3d7099e08392b028f93a395185
"
openstack%2Ftripleo-ansible~master~Ice92cd5f90039e685c171e9035f929349a67ff2c,openstack/tripleo-ansible,master,concurrency,Ice92cd5f90039e685c171e9035f929349a67ff2c,tripleo-container-manage: use async,MERGED,2019-11-06 16:31:50.000000000,2019-11-12 23:07:01.000000000,2019-11-12 23:07:01.000000000,195,85,6,693216,e26f817597cf9f5a08d2eb6d559d1f2cc1b7d031,58,5,31,7,3153,Emilien Macchi,emilienm,"tripleo-container-manage: use async

- Add a new filter 'haskey' which returns container data with a specific
  config key. The filter takes a list of dicts and returns the dicts
  which have a certain key given in parameter with 'attribute'.
  If 'reverse' is set to True, the returned list won't contains dicts
  which have the 'attribute' value.
  If 'any' is set to True, the returned list will match any value in the
  list of 'value' parameter which has to be a list.

- Make the exec and create playbook using ansible ""async"".
  (WIP is to re-add the podman_container.changed in systemd playbook).

Note: we don't manage Systemd resources with async, since it exposes
race conditions at the systemd level.

Change-Id: Ice92cd5f90039e685c171e9035f929349a67ff2c
"
openstack%2Fdevstack~stable%2Fstein~Ic3f4d6998a66da5226bc95088d7e3c83dfe737ce,openstack/devstack,stable/stein,use-opensuse-15,Ic3f4d6998a66da5226bc95088d7e3c83dfe737ce,Add and switch to the newly created opensuse-15 nodeset,MERGED,2019-09-18 09:16:31.000000000,2019-11-12 22:52:11.000000000,2019-11-12 22:48:40.000000000,7,7,0,682844,7a3ccdfec75850c07a7554f0f829a23bb633a09b,16,4,2,2,6593,Dirk Mueller,dmllr,"Add and switch to the newly created opensuse-15 nodeset

opensuse-150 nodeset is referring to openSUSE 15.0, which is still in
maintenance but openSUSE 15.1 has been released already. ""opensuse-15""
is going to refer to the ""latest openSUSE 15.x"" build released and
working for OpenStack going forward, so add this nodeset and use
it by default going forward.

Depends-On: https://review.opendev.org/682882
Change-Id: Ic3f4d6998a66da5226bc95088d7e3c83dfe737ce
(cherry picked from commit 70fca49de75a77fd766d5b72f8757e4f7c0a7a48)
"
openstack%2Ftempest~master~I62c2f80aa46133948a084775e72ed027c8005407,openstack/tempest,master,use-opensuse-15,I62c2f80aa46133948a084775e72ed027c8005407,Remove unused opensuse150 job definition,MERGED,2019-09-18 12:06:57.000000000,2019-11-12 22:52:10.000000000,2019-11-12 22:48:39.000000000,0,8,0,682882,8557f4653837f31144c37aed27e317261fb5b96a,32,6,3,1,6593,Dirk Mueller,dmllr,"Remove unused opensuse150 job definition

After all remaining users have been migrated we can
remove this one.

Depends-On: https://review.opendev.org/692035
Depends-On: https://review.opendev.org/692526
Change-Id: I62c2f80aa46133948a084775e72ed027c8005407
"
openstack%2Fswift~master~I4211cfbd23eeb7badd834c1108823b416a186265,openstack/swift,master,bug/1634382,I4211cfbd23eeb7badd834c1108823b416a186265,Put storage policy index in object-server responses,NEW,2019-11-12 17:32:58.000000000,2019-11-12 22:35:33.000000000,,55,18,1,693893,6c55b49e6911204d0559cf1b9b126636f24dfe34,3,2,1,4,15343,Tim Burke,tburke,"Put storage policy index in object-server responses

Not going to worry about 507s and the like, but 2xx, 404, etc. could
benefit from returning that info.

Co-Authored-By: Christian Hugo <hugo.christian@web.de>
Change-Id: I4211cfbd23eeb7badd834c1108823b416a186265
Closes-Bug: #1634382
"
openstack%2Fnova~master~I098f91d8c498e5a85266e193ad37c08aca4792b2,openstack/nova,master,bp/cross-cell-resize,I098f91d8c498e5a85266e193ad37c08aca4792b2,Plumb allow_cross_cell_resize into compute API resize(),MERGED,2019-02-07 22:42:06.000000000,2019-11-12 21:17:33.000000000,2019-11-12 02:42:44.000000000,205,24,17,635684,a2e53cacd3f6df268d861e2db69bfb0fe508419c,528,23,53,5,6873,Matt Riedemann,mriedem,"Plumb allow_cross_cell_resize into compute API resize()

This adds a stub method to the compute API which will
eventually perform a policy check and compute service
version check to determine if cross-cell resize is
allowed when performing a resize or cold migration. This
is always False for now but can be mocked for testing here
and in subsequent changes that add functional tests for
the cross-cell resize flow before the confirm/revert code
is ready.

For cold migration with a target host, validation logic
is split out into a separate method to add the cross-cell
validation of the target host since if cross-cell resize
is allowed, the target host could be in another cell from
where the instance currently exists.

Currently, the resize/migrate API actions are synchronous
until conductor RPC casts to prep_resize() on the selected
target compute service. This could be problematic during a
cross-cell resize since that flow is orchestrated from
(super)conductor and is synchronous, i.e. the compute services
do not RPC cast between each other like a traditional resize.
Until the 2.34 microversion, the live migrate API had the
same problem. If the request is allowed to perform a cross-cell
resize then we will RPC cast from API to conductor. The API
user still gets a 202 response either way.

Part of blueprint cross-cell-resize

Change-Id: I098f91d8c498e5a85266e193ad37c08aca4792b2
"
openstack%2Ftripleo-quickstart-extras~master~I3a537e057e24a38a37178ad510d341ca062a3c0e,openstack/tripleo-quickstart-extras,master,ostempest,I3a537e057e24a38a37178ad510d341ca062a3c0e,Clone os_tempest and it's dependencies in nodepool,MERGED,2019-11-11 13:52:42.000000000,2019-11-12 21:01:46.000000000,2019-11-12 21:01:46.000000000,3,0,0,693698,2ab94b7f7c175663ed9a1eb8e5049b70301ea710,20,9,1,1,12393,chandan kumar,chkumar246,"Clone os_tempest and it's dependencies in nodepool

While running quickstart.sh locally, these repos needs to clonned
by the nodepool so that while running tempest using os_tempest
it does not complains.

Change-Id: I3a537e057e24a38a37178ad510d341ca062a3c0e
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fopenstack-helm-infra~master~I249381777ed73a040efd1e1028bf49436ccf7e04,openstack/openstack-helm-infra,master,fix/version,I249381777ed73a040efd1e1028bf49436ccf7e04,Fix Chart.yaml,ABANDONED,2019-11-12 18:56:44.000000000,2019-11-12 20:48:51.000000000,,1,0,0,693905,92d45e1c7c9911954ea0855a41ef1be86b346e84,8,5,1,1,20466,Tin Lam,tinlam,"Fix Chart.yaml

The apiVersion in the ingress chart's Chart.yaml is strangely missing,
causing some version of the helm linter to fail. This patchset places
back the missing apiVersion into the Chart.yaml.

Change-Id: I249381777ed73a040efd1e1028bf49436ccf7e04
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Fglance~stable%2Fstein~Ia76b107a137a39716253631e5a8d294f7ee9614e,openstack/glance,stable/stein,use-opensuse-15,Ia76b107a137a39716253631e5a8d294f7ee9614e,Switch to opensuse-15 nodeset,MERGED,2019-10-30 06:10:32.000000000,2019-11-12 20:46:42.000000000,2019-11-12 17:30:24.000000000,1,1,0,692035,1783eb546ed490846aebdb232281c781fcf952c9,23,4,1,1,6547,Andreas Jaeger,jaegerandi,"Switch to opensuse-15 nodeset

opensuse-150 nodeset is referring to openSUSE 15.0, which is still in
maintenance but openSUSE 15.1 has been released already. ""opensuse-15""
is going to refer to the ""latest openSUSE 15.x"" build released and
working for OpenStack going forward, so add this nodeset and use
it by default going forward.

The new job tempest-full-py3-opensuse15 use the opensuse-15 nodeset,
change tempest-full-py3-opensuse150 to tempest-full-py3-opensuse15.

Change-Id: Ia76b107a137a39716253631e5a8d294f7ee9614e
(cherry picked from commit e45d5e3b9259620914ff3e3c5fa67dd23de1879c)
"
openstack%2Fkeystone~master~I7c068e350811e22622d1f1e7d8b0a55d4d7cab11,openstack/keystone,master,resource-fk,I7c068e350811e22622d1f1e7d8b0a55d4d7cab11,Drop project.id foreign keys,MERGED,2019-10-10 00:00:39.000000000,2019-11-12 20:44:12.000000000,2019-11-12 20:42:23.000000000,112,2,5,687753,c4d60977881ac2f014dc6e2eaaba37892f075266,26,8,4,6,8482,Colleen Murphy,krinkle,"Drop project.id foreign keys

In 2bd88d30 we added a new column domain_id to the user table to
deduplicate the domain_id columns in the local_user and nonlocal_user
tables, and at that point made the user.domain_id column a foreign key
referencing the project.id column. This is a problem that led to
3d46c8a5 in which we removed the ability for the resource driver to be
pluggable, since we had linked two sql backends together and made them
reliant on one another.

This commit removes the foreign key constraint from the user table and
the identity_provider table. For the user table, the sqlalchemy model
never reflected this schema so we don't need to change the model. For
the identity_provider table, we need to update the model. In both cases,
we already enforce, at the manager layer, the constraint that the
domain_id needs to reference a real domain ID[1][2], so we do not need
to rely on this constraint at the database layer.

[1] https://opendev.org/openstack/keystone/src/commit/43142e4470df976a459a1a2e95cfb163afc42893/keystone/identity/core.py#L935
[2] https://opendev.org/openstack/keystone/src/commit/43142e4470df976a459a1a2e95cfb163afc42893/keystone/federation/core.py#L73-L77

Partial-bug: #1672713

Change-Id: I7c068e350811e22622d1f1e7d8b0a55d4d7cab11
"
openstack%2Fneutron~stable%2Frocky~I2d8693145da72825876b951f2d10afe9ca28ff6e,openstack/neutron,stable/rocky,bug/1849676,I2d8693145da72825876b951f2d10afe9ca28ff6e,Increase timeout when waiting for dnsmasq enablement,MERGED,2019-10-31 14:21:23.000000000,2019-11-12 20:42:25.000000000,2019-11-12 20:42:25.000000000,1,1,0,692378,ff0b7b00194d7ee38892c6c08de14f4da056ab2d,19,6,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Increase timeout when waiting for dnsmasq enablement

In the reported bug, a regression was introduced in [1] when limiting
the time to have a ""dnsmasq"" process enabled. It has been reported, as
documented in the bug, that in older versions (Queens), using Python 2
[2] and older versions of ""ip_lib"" (not implementing most of the
commands using Pyroute2), that the time needed to spawn a ""dnsmasq""
process exceeds the default 60 seconds defined in
""common_utils.wait_until_true"".

This patch increases this time by a reasonable 300 seconds.

[1] https://review.opendev.org/#/c/643732
[2] https://bugs.python.org/issue35757

Change-Id: I2d8693145da72825876b951f2d10afe9ca28ff6e
Closes-Bug: #1849676
(cherry picked from commit aedc09917680bc77501f4b57142e73768e3d06ad)
"
openstack%2Foctavia~stable%2Fstein~I6ad0349dba62b1141be07bfb0e40171e9f7a91b9,openstack/octavia,stable/stein,,I6ad0349dba62b1141be07bfb0e40171e9f7a91b9,Improve the error message for bad pkcs12 bundles,MERGED,2019-09-23 13:14:28.000000000,2019-11-12 20:31:20.000000000,2019-11-12 20:29:09.000000000,33,1,0,683954,a501714a76e04b33dfb24c4ead9956ed4696d1df,10,4,1,5,6469,Carlos Gonçalves,cgoncalves,"Improve the error message for bad pkcs12 bundles

When a user loads a bad pkcs12 bundle or one with a pass phrase into
barbican and then uses it for a TLS-TERMINATED listener, the error
we return the user is misleading[1].
This patch improves the error message to point out that we got the
bundle from barbican, but that it is unreadable and/or protected
with a pass phrase.

[1] Could not retrieve certificate: [ ... ] (HTTP 400)

Change-Id: I6ad0349dba62b1141be07bfb0e40171e9f7a91b9
Story: 2006587
Task: 36713
(cherry picked from commit a0f4335c38cdf5d5c91877975b8f3c7b28e169eb)
"
openstack%2Foctavia~stable%2Frocky~I6ad0349dba62b1141be07bfb0e40171e9f7a91b9,openstack/octavia,stable/rocky,,I6ad0349dba62b1141be07bfb0e40171e9f7a91b9,Improve the error message for bad pkcs12 bundles,MERGED,2019-09-23 14:01:50.000000000,2019-11-12 20:31:01.000000000,2019-11-12 20:29:05.000000000,34,1,0,683966,08916abd2b6c24dc207dfe3560138901661c2922,8,3,1,5,6469,Carlos Gonçalves,cgoncalves,"Improve the error message for bad pkcs12 bundles

When a user loads a bad pkcs12 bundle or one with a pass phrase into
barbican and then uses it for a TLS-TERMINATED listener, the error
we return the user is misleading[1].
This patch improves the error message to point out that we got the
bundle from barbican, but that it is unreadable and/or protected
with a pass phrase.

[1] Could not retrieve certificate: [ ... ] (HTTP 400)

Conflicts:
    octavia/api/v2/controllers/base.py

Change-Id: I6ad0349dba62b1141be07bfb0e40171e9f7a91b9
Story: 2006587
Task: 36713
(cherry picked from commit a0f4335c38cdf5d5c91877975b8f3c7b28e169eb)
(cherry picked from commit a501714a76e04b33dfb24c4ead9956ed4696d1df)
"
openstack%2Ftripleo-ansible~master~Ia58fd299942954c39214bad76cbcf40ad4371f18,openstack/tripleo-ansible,master,,Ia58fd299942954c39214bad76cbcf40ad4371f18,Fix enabled_services to include all_nodes_extra_map_data,MERGED,2019-11-11 16:49:03.000000000,2019-11-12 20:16:47.000000000,2019-11-12 18:42:11.000000000,3,2,0,693729,98a9181fad3904e3a82dc128834e8099ca55119b,11,4,2,1,7144,James Slagle,slagle,"Fix enabled_services to include all_nodes_extra_map_data

When the tripleo-hieradata role was imported[1] from tripleo-common[2],
the handling to create all_enabled_services from enabled_services and
all_nodes_extra_map_data was lost.

This caused several data items to be missing in the multi-stack case.

This patch restores the original functionality.

[1] https://review.opendev.org/#/c/673364/
[2] https://review.opendev.org/#/c/673366/

Change-Id: Ia58fd299942954c39214bad76cbcf40ad4371f18
"
openstack%2Fpuppet-pacemaker~master~I1c74f11b2c0d5e925a3a04de2ecb35c354496c4c,openstack/puppet-pacemaker,master,error_msg,I1c74f11b2c0d5e925a3a04de2ecb35c354496c4c,Add a more clear error message when we fail to backup cib,MERGED,2019-11-06 20:25:20.000000000,2019-11-12 20:16:28.000000000,2019-11-12 17:10:57.000000000,2,1,0,693251,74969a6ce523aef0b0126c18520b7f51990fbb1b,20,7,2,1,20172,Michele Baldessari,michele,"Add a more clear error message when we fail to backup cib

Currently people get 'unable to get cib' error messages and assume
that the cluster is in a bad state. This error can be returned
in mainly two cases:
A) When the cluster is down or has issues and pcs is unable to get the CIB
B) pcs is being run from within a container and the pcmk version in the
   container is not compatible with the pcmk version running on the
   host.

Change-Id: I1c74f11b2c0d5e925a3a04de2ecb35c354496c4c
"
openstack%2Ftripleo-heat-templates~master~I6f318ee653a8d3673c5e508ff62952c96474136d,openstack/tripleo-heat-templates,master,,I6f318ee653a8d3673c5e508ff62952c96474136d,Updates for dcn/dcn-hci sample envs,MERGED,2019-11-08 18:29:17.000000000,2019-11-12 20:14:35.000000000,2019-11-12 16:22:48.000000000,17,0,0,693572,132aec7cdc9cb35d078dabde0eca1bcccc5c8ecc,14,5,3,3,7144,James Slagle,slagle,"Updates for dcn/dcn-hci sample envs

Adds a mapping for OS::TripleO::Network::Ports::OVNDBsVipPort to
OS::Heat::None for dcn stacks, and adds the ManageNetworks parameter to
sample environments.

Change-Id: I6f318ee653a8d3673c5e508ff62952c96474136d
"
openstack%2Ftripleo-heat-templates~master~I5ea71eea77b9f5868ddcd468bf2d3c4ab78d7c02,openstack/tripleo-heat-templates,master,,I5ea71eea77b9f5868ddcd468bf2d3c4ab78d7c02,Add ManageNetworks parameter,MERGED,2019-11-06 19:29:24.000000000,2019-11-12 20:13:41.000000000,2019-11-12 00:42:47.000000000,46,3,2,693235,aade43dd12498a54fba34e056342ed480ae9c5f7,20,9,2,2,7144,James Slagle,slagle,"Add ManageNetworks parameter

The ManageNetworks parameter has been added. The parameter controls
management of the network and related resources (subnets and segments) with
either create, update, or delete operations (depending on the stack
operation).  Does not apply to ports which will always be managed as
needed. Defaults to true.

For multi-stack use cases where the network
related resources have already been managed by a separate stack, this
parameter can be set to false.

Change-Id: I5ea71eea77b9f5868ddcd468bf2d3c4ab78d7c02
"
openstack%2Fceilometer~master~Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f,openstack/ceilometer,master,bug/1848286,Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f,Add loadbalancer resource type.,MERGED,2019-11-07 21:38:31.000000000,2019-11-12 20:12:00.000000000,2019-11-11 14:38:07.000000000,18,0,0,693432,cd9e199076b1e3cb8ef6e6bc3e7844b0d23f7e48,14,4,1,2,2276,Jorge Niedbalski,niedbalski,"Add loadbalancer resource type.

Adds the loadbalancer resource type for usage
with the network.services.lb.* metrics.

Change-Id: Ib6e78438c3da0e22d93f720f00cdeadf0ed7a91f
Closes-Bug: #1848286
Signed-off-by: Jorge Niedbalski <jnr@metaklass.org>
"
openstack%2Ftripleo-common~stable%2Fstein~I780ec27c206c508cf68d0ce16ef269b5d1b92581,openstack/tripleo-common,stable/stein,ceilometer-compute-hc-stable/stein,I780ec27c206c508cf68d0ce16ef269b5d1b92581,Fix ceilometer_agent_compute health check,MERGED,2019-11-12 12:42:16.000000000,2019-11-12 20:03:18.000000000,2019-11-12 20:02:12.000000000,2,2,0,693837,234efc00b83c2933a1d4083563b2cb9456ac67fd,8,3,1,1,5241,Martin Magr,mmagr,"Fix ceilometer_agent_compute health check

The agent communicates via Redis (not RabbitMQ), so it should look
for that port instead

Change-Id: I780ec27c206c508cf68d0ce16ef269b5d1b92581
(cherry picked from commit 0e64162d02b4769816e8f93179a246ccf032675d)
"
openstack%2Ftripleo-common~stable%2Ftrain~I780ec27c206c508cf68d0ce16ef269b5d1b92581,openstack/tripleo-common,stable/train,ceilometer-compute-hc-stable/train,I780ec27c206c508cf68d0ce16ef269b5d1b92581,Fix ceilometer_agent_compute health check,MERGED,2019-11-12 12:42:05.000000000,2019-11-12 20:03:18.000000000,2019-11-12 20:02:11.000000000,2,2,0,693836,a0c7845485069781bac45a24ced535a075bb55a8,8,3,1,1,5241,Martin Magr,mmagr,"Fix ceilometer_agent_compute health check

The agent communicates via Redis (not RabbitMQ), so it should look
for that port instead

Change-Id: I780ec27c206c508cf68d0ce16ef269b5d1b92581
(cherry picked from commit 0e64162d02b4769816e8f93179a246ccf032675d)
"
openstack%2Ftripleo-common~stable%2Frocky~I780ec27c206c508cf68d0ce16ef269b5d1b92581,openstack/tripleo-common,stable/rocky,ceilometer-compute-hc-stable/rocky,I780ec27c206c508cf68d0ce16ef269b5d1b92581,Fix ceilometer_agent_compute health check,MERGED,2019-11-12 12:46:59.000000000,2019-11-12 20:02:13.000000000,2019-11-12 20:02:12.000000000,4,4,0,693840,b8906f3eae2c97ae045dc12974b126af71903d52,7,3,1,1,5241,Martin Magr,mmagr,"Fix ceilometer_agent_compute health check

The agent communicates via Redis (not RabbitMQ), so it should look
for that port instead

Change-Id: I780ec27c206c508cf68d0ce16ef269b5d1b92581
(cherry picked from commit 0e64162d02b4769816e8f93179a246ccf032675d)
"
openstack%2Ftripleo-ansible~master~Ia16edde342b0c86c31c5715a28dbfe370cfb3246,openstack/tripleo-ansible,master,bug/1852136,Ia16edde342b0c86c31c5715a28dbfe370cfb3246,Include ceph-ansible filter_plugins,MERGED,2019-11-11 21:39:41.000000000,2019-11-12 19:43:01.000000000,2019-11-12 18:42:13.000000000,1,0,0,693749,64f6d3ba1979e21fdf5392a056c13f313220be3e,13,7,1,1,18002,John Fulton,fultonj,"Include ceph-ansible filter_plugins

As of version 4, ceph-ansible ships it's own filter_plugins [1]
so we need to include them in the environment when tripleo
executes ceph-ansible.

Closes-Bug: #1852136

[1] https://github.com/ceph/ceph-ansible/commit/5fea830414e7eb4cf6f1d0008834e2c4b205b131

Change-Id: Ia16edde342b0c86c31c5715a28dbfe370cfb3246
"
openstack%2Ftripleo-ansible~master~I91e6abfbe4ab00730f11d42ab651f80f9a160c72,openstack/tripleo-ansible,master,fix/centos8,I91e6abfbe4ab00730f11d42ab651f80f9a160c72,DNM: WIP: Add basic centos-8 jobs,ABANDONED,2019-11-12 17:46:36.000000000,2019-11-12 19:34:50.000000000,,16,0,0,693896,f768f90817a8fe3b777af5cd3b0754a86f347f2f,6,4,1,2,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: WIP: Add basic centos-8 jobs

Change-Id: I91e6abfbe4ab00730f11d42ab651f80f9a160c72
"
openstack%2Ftripleo-ansible~stable%2Ftrain~If6e99c65084db35a2a4aa1e76b0b89fb5902794a,openstack/tripleo-ansible,stable/train,1852064-stable/train,If6e99c65084db35a2a4aa1e76b0b89fb5902794a,Fix ssh_known_hosts hostname entries,MERGED,2019-11-12 12:28:20.000000000,2019-11-12 19:26:52.000000000,2019-11-12 18:12:01.000000000,12,2,0,693831,84dd53a386cdc75816131a80683481a4307aa39d,10,7,1,2,17216,Martin Schuppert,mcschupp,"Fix ssh_known_hosts hostname entries

Previously the tripleo-ssh-known-hosts ansible role used the list of
network names to create the different possible hostnames in the
ssh_known_hosts file. The network names do not match the actual network
hostnames, like internal_api vs. internalapi which results in ssh host
verification to fail and e.g. live migration to fail.

This changes to use the _hostname inventory information to be used to add
hostname information to the ssh_known_hosts file.

Change-Id: If6e99c65084db35a2a4aa1e76b0b89fb5902794a
Closes-Bug: #1852064
(cherry picked from commit a5bcbc8d015b792b3546ecbb139506f248dacfe8)
"
openstack%2Ftripleo-ansible~master~If6e99c65084db35a2a4aa1e76b0b89fb5902794a,openstack/tripleo-ansible,master,1852064,If6e99c65084db35a2a4aa1e76b0b89fb5902794a,Fix ssh_known_hosts hostname entries,MERGED,2019-11-11 11:32:43.000000000,2019-11-12 19:26:37.000000000,2019-11-12 12:16:25.000000000,12,2,3,693683,a5bcbc8d015b792b3546ecbb139506f248dacfe8,19,10,3,2,17216,Martin Schuppert,mcschupp,"Fix ssh_known_hosts hostname entries

Previously the tripleo-ssh-known-hosts ansible role used the list of
network names to create the different possible hostnames in the
ssh_known_hosts file. The network names do not match the actual network
hostnames, like internal_api vs. internalapi which results in ssh host
verification to fail and e.g. live migration to fail.

This changes to use the _hostname inventory information to be used to add
hostname information to the ssh_known_hosts file.

Change-Id: If6e99c65084db35a2a4aa1e76b0b89fb5902794a
Closes-Bug: #1852064
"
openstack%2Ftempest~master~Ibb5599ce48712b94dbf591e4a30cf3906cb5cdde,openstack/tempest,master,cleanup,Ibb5599ce48712b94dbf591e4a30cf3906cb5cdde,tempest cleanup - use admin_mgr only,MERGED,2019-10-04 14:41:20.000000000,2019-11-12 19:01:47.000000000,2019-11-12 19:00:05.000000000,1,58,0,686738,7ca8602380d5959c273799fb0fae7d2b32cde9ea,42,15,1,1,22873,Martin Kopec,mkopec,"tempest cleanup - use admin_mgr only

Avoid using temporary managers and use only the admin one. The tool
has been using the admin_mgr for listing projects, roles, for listing
all resources during initializing a saved state so why don't use it also
for deleting all of the resources?
This wil solve the Unauthorized issue happening when the tool
was requesting credentials for the project from a different
domain.

Closes-bug: #1766582

Change-Id: Ibb5599ce48712b94dbf591e4a30cf3906cb5cdde
"
openstack%2Frequirements~master~Iac0723f8424b319ad8848383eb6a872621b13276,openstack/requirements,master,new-release,Iac0723f8424b319ad8848383eb6a872621b13276,update constraint for oslo.messaging to new release 10.3.0,MERGED,2019-11-11 16:14:22.000000000,2019-11-12 19:01:23.000000000,2019-11-12 19:00:07.000000000,1,1,0,693723,cdbb461eb55ad037aba321256e23215a3ebccde3,14,4,2,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.messaging to new release 10.3.0

Change-Id: Iac0723f8424b319ad8848383eb6a872621b13276
meta:version: 10.3.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Eric Fried <openstack@fried.cc>
meta:release:Commit: Eric Fried <openstack@fried.cc>
meta:release:Change-Id: If1b1c74109f678fedf10704bb2db8322d79f7e25
meta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Takashi NATSUME <natsume.takashi@lab.ntt.co.jp>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Ftripleo-ansible~master~I3f38ea132390867b455790c9c1c0507b13beb836,openstack/tripleo-ansible,master,tripleo-puppet-cache,I3f38ea132390867b455790c9c1c0507b13beb836,Create role to do puppet cache actions,MERGED,2019-11-11 22:58:52.000000000,2019-11-12 18:42:12.000000000,2019-11-12 18:42:12.000000000,322,1,1,693755,cfe4f38b596df5850e40298ef877cb066ffc7754,12,4,4,10,14985,Alex Schultz,mwhahaha,"Create role to do puppet cache actions

Rather than inline this code in the deploy steps, let's use a proper
role that can just be included.

Change-Id: I3f38ea132390867b455790c9c1c0507b13beb836
"
openstack%2Fopenstack-ansible-os_keystone~master~Ic9cc341edb6f2f0ba76bd301c9782fbcc5951544,openstack/openstack-ansible-os_keystone,master,bugs/1847395,Ic9cc341edb6f2f0ba76bd301c9782fbcc5951544,Standardize on nginx-extras,MERGED,2019-11-05 15:51:51.000000000,2019-11-12 18:41:49.000000000,2019-11-09 01:25:11.000000000,1,1,0,693033,461245350b52d9ba6edc0ac474c6c6d2cb16ea3e,20,4,1,1,7414,David Wilde,d34dh0r53,"Standardize on nginx-extras

The use of nginx-full causes a service restart on package update
which brings down the keystone endpoints.

Change-Id: Ic9cc341edb6f2f0ba76bd301c9782fbcc5951544
Related-Bug: 1847395
"
openstack%2Fopenstack-helm~master~Iad0f69666a28fabedd49b266c8a9de1ec3410dd6,openstack/openstack-helm,master,netpol,Iad0f69666a28fabedd49b266c8a9de1ec3410dd6,Add Barbican ingress Network Policy,MERGED,2019-10-22 19:47:42.000000000,2019-11-12 18:39:54.000000000,2019-11-12 18:37:17.000000000,32,15,2,690391,cb1feb46e2e83f5e76a2e16af4498b23fb41999a,32,13,6,2,8749,Evgeniy L,evgeniyl,"Add Barbican ingress Network Policy

Move Barbican Network Policies into a dedicated
override. Configure magnum to have the access to
Barbican.

Change-Id: Iad0f69666a28fabedd49b266c8a9de1ec3410dd6
"
openstack%2Fpuppet-swift~master~Ie0fe6d3b8a3f350c181fd318ba207be14b83b08a,openstack/puppet-swift,master,client_timeout,Ie0fe6d3b8a3f350c181fd318ba207be14b83b08a,Add parameter client_timeout,MERGED,2019-11-08 14:59:22.000000000,2019-11-12 18:39:11.000000000,2019-11-12 18:38:01.000000000,13,0,0,693547,7a1851920da7f7491b38308d6303695d381bde8f,10,5,1,3,29349,Simeon Gourlin,6meon,"Add parameter client_timeout

This add parameter client_timeout as new parameter for class proxy.

Change-Id: Ie0fe6d3b8a3f350c181fd318ba207be14b83b08a
"
openstack%2Fswift~master~I80c3eb536a7e0fc415c05027cf2a977915f2e325,openstack/swift,master,bug/1646410,I80c3eb536a7e0fc415c05027cf2a977915f2e325,recon: Stop logging tracebacks for well-known failures,NEW,2019-11-12 17:32:19.000000000,2019-11-12 18:36:13.000000000,,12,10,1,693892,54eed1edf13acf2d3337eac0a8b327e9a849d5ef,3,2,1,1,15343,Tim Burke,tburke,"recon: Stop logging tracebacks for well-known failures

They mostly just add noise to the log; log a desciption of the error,
but that should be plenty.

While we're at it, drop translations and bring missing-recon-file
problems down to just warnings.

Change-Id: I80c3eb536a7e0fc415c05027cf2a977915f2e325
Closes-Bug: #1646410
"
openstack%2Floci~master~I43f1f1b1918ea47d2083d1e9c737b787271de318,openstack/loci,master,,I43f1f1b1918ea47d2083d1e9c737b787271de318,Install agnostic libpython3-dev package instead of libpython3.5,ABANDONED,2019-11-11 22:30:53.000000000,2019-11-12 18:16:42.000000000,,1,1,0,693753,b4a423fe2a9816154d3a393f88d9f9684a8ad642,5,4,1,1,8863,Andrii Ostapenko,aostapenko,"Install agnostic libpython3-dev package instead of libpython3.5

As default python in bionic is 3.6, shared library for this version is
not installed, that, at least, breakes uwsgi.
Unfortunatelly there's no non-dev meta package for libpython3, so picked
the best fit: libpython3-dev.

Change-Id: I43f1f1b1918ea47d2083d1e9c737b787271de318
"
openstack%2Fneutron-vpnaas~master~Ifef966a1dcddf1b77209e3ce3adff7158c53f71e,openstack/neutron-vpnaas,master,,Ifef966a1dcddf1b77209e3ce3adff7158c53f71e,fix tox python3 overrides,ABANDONED,2018-09-26 02:49:57.000000000,2019-11-12 17:54:28.000000000,,8,0,0,605310,79d1262e98daccdb1a42dabb68d286e7457b005b,10,4,2,1,28543,shupeng,Vieri,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ifef966a1dcddf1b77209e3ce3adff7158c53f71e
"
openstack%2Fopenstack-helm-addons~master~I97465614c7f6136220b9dfe65ab5de16988f2d7e,openstack/openstack-helm-addons,master,,I97465614c7f6136220b9dfe65ab5de16988f2d7e,Specify rabbitmq exchange for Ranger-agent queues,MERGED,2019-11-06 03:52:02.000000000,2019-11-12 17:42:03.000000000,2019-11-12 17:42:03.000000000,3,4,4,693114,38883b84c7fd18b70448f5ce471fe542d13d115f,20,9,4,3,19391,Chi Lo,cl566n,"Specify rabbitmq exchange for Ranger-agent queues

Change-Id: I97465614c7f6136220b9dfe65ab5de16988f2d7e
"
openstack%2Fopenstack-helm~master~I4dca159827581cbe8d6ded3be85e732acbf60ed1,openstack/openstack-helm,master,ingress-scripts-merge,I4dca159827581cbe8d6ded3be85e732acbf60ed1,"Merge component, developer and multinode ingress deployment scripts",MERGED,2019-10-07 14:15:53.000000000,2019-11-12 17:35:01.000000000,2019-11-12 17:33:38.000000000,52,129,4,687061,d893eadfbceceacdf8c1ee2dbb0f25c4ea2a99c8,20,5,1,7,9963,Jiri Suchomel,jsuchome,"Merge component, developer and multinode ingress deployment scripts

For simplification of deployment and maintenance, reduce the number
of scripts that do usually the same.
The important part is that when user wants to do multinode deployment,
OSH_DEPLOY_MULTINODE variable must be set before executing the script.

For now multinone script still stays, only to invoke the common one,
but in future it would be better to remove multinode scripts completely
and let user call the common script with the right argument.

Change-Id: I4dca159827581cbe8d6ded3be85e732acbf60ed1
"
openstack%2Fglance~feature%2Fmetadata-caching~Ia76b107a137a39716253631e5a8d294f7ee9614e,openstack/glance,feature/metadata-caching,use-opensuse-15,Ia76b107a137a39716253631e5a8d294f7ee9614e,Switch to opensuse-15 nodeset,MERGED,2019-11-01 10:09:00.000000000,2019-11-12 17:34:40.000000000,2019-11-12 17:31:00.000000000,1,1,0,692526,2eaab495dd8cbfccfa1e15c3369f5153568fc817,8,3,1,1,6547,Andreas Jaeger,jaegerandi,"Switch to opensuse-15 nodeset

opensuse-150 nodeset is referring to openSUSE 15.0, which is still in
maintenance but openSUSE 15.1 has been released already. ""opensuse-15""
is going to refer to the ""latest openSUSE 15.x"" build released and
working for OpenStack going forward, so add this nodeset and use
it by default going forward.

The new job tempest-full-py3-opensuse15 use the opensuse-15 nodeset,
change tempest-full-py3-opensuse150 to tempest-full-py3-opensuse15.

Change-Id: Ia76b107a137a39716253631e5a8d294f7ee9614e
"
openstack%2Ftempest~master~Ia215dba2b2495b79b762525e59bac527fba7a8bc,openstack/tempest,master,use-opensuse-15,Ia215dba2b2495b79b762525e59bac527fba7a8bc,Switch to the opensuse-15 nodeset,ABANDONED,2019-10-22 22:55:03.000000000,2019-11-12 16:59:39.000000000,,0,8,0,690435,46a95ab9ef4c46ecdf6227d6958ae7f46af02589,5,3,1,1,4146,Clark Boylan,cboylan,"Switch to the opensuse-15 nodeset

We are trying to deprecate the opensuse-150 label type in favor of the
opensuse-15 label. The reason for this is opensuse 15, like centos,
doesn't support its older point releases and instead expects users to
keep up to date on its minor updates. This allows us to carry one fewer
image in opendev and ensures we are testing supported releases.

Change-Id: Ia215dba2b2495b79b762525e59bac527fba7a8bc
"
openstack%2Fdevstack~stable%2Fstein~I6c628ed9710d06f51d8123167fc0b08155dd7750,openstack/devstack,stable/stein,use-opensuse-15,I6c628ed9710d06f51d8123167fc0b08155dd7750,Switch to the opensuse-15 nodeset,ABANDONED,2019-10-22 23:08:43.000000000,2019-11-12 16:59:19.000000000,,5,5,0,690438,79b6fce8df570352f89279510761d48af9da7d60,5,3,1,1,4146,Clark Boylan,cboylan,"Switch to the opensuse-15 nodeset

We are trying to deprecate the opensuse-150 label type in favor of the
opensuse-15 label. The reason for this is opensuse 15, like centos,
doesn't support its older point releases and instead expects users to
keep up to date on its minor updates. This allows us to carry one fewer
image in opendev and ensures we are testing supported releases.

Change-Id: I6c628ed9710d06f51d8123167fc0b08155dd7750
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I11891db3c48968b99b5a964ded2eb886d9851bc1,openstack/networking-ovn,stable/train,,I11891db3c48968b99b5a964ded2eb886d9851bc1,"Revert ""Temporary jobs list change for stable/train""",MERGED,2019-10-08 08:44:03.000000000,2019-11-12 16:56:49.000000000,2019-11-12 16:53:53.000000000,2,4,0,687244,7a21e6f60fd3a7765ce4306f97b277d46ed99ca8,26,5,1,1,21798,Bernard Cafarelli,bcafarel,"Revert ""Temporary jobs list change for stable/train""

This reverts commit 9e0d3600705da261f1bb4b8d1d0564e8c95f8881.

https://review.opendev.org/#/c/684260/ is merged so tripleo-ci job
should pass again

Change-Id: I11891db3c48968b99b5a964ded2eb886d9851bc1
"
openstack%2Fpython-neutronclient~stable%2Fstein~I714efd1bc14cbba85f7b4caf6834ce375ff89547,openstack/python-neutronclient,stable/stein,stein/backport/671468,I714efd1bc14cbba85f7b4caf6834ce375ff89547,Convert legacy functional jobs to zuulv3,ABANDONED,2019-11-02 09:34:09.000000000,2019-11-12 16:45:00.000000000,,24,18,0,692655,9297d7a19c917dbbca75a618bafb27f95776a4ba,6,2,1,2,6547,Andreas Jaeger,jaegerandi,"Convert legacy functional jobs to zuulv3

This commit merges the legacy functional test jobs (core and adv-svcs)
into neutronclient-functional. FWaaS v1 was dropped in Stein and
adv-svcs job now checks only VPNaaS, so it looks too much to have
a separate job for VPNaaS.

Note that tls-proxy is disabled as the base class for functional tests
(neutronclient.tests.functional.base.ClientTestBase) does not support
HTTPS endpoints. This can be tackled separately.

Change-Id: I714efd1bc14cbba85f7b4caf6834ce375ff89547
(cherry picked from commit 6330cc1980958f57cb95684c8d7a1aaa89a7fbf6)
"
openstack%2Fmonasca-notification~master~If0649a1fe6a5337a20f0aba9a1a4ea8a0dd04617,openstack/monasca-notification,master,,If0649a1fe6a5337a20f0aba9a1a4ea8a0dd04617,Minimal fix for spawning periodic notification process,ABANDONED,2019-10-28 10:57:01.000000000,2019-11-12 16:32:01.000000000,,1,1,0,691656,1daf9ac6aed7a7016f2f3b6979ad9f544400c05e,6,2,2,1,17669,Doug Szumski,DougSzumski,"Minimal fix for spawning periodic notification process

The current comparision between an int and a dict always returns
false so the periodic notification process never spawns. This minimal
fix should get it working again. A later patch could support user
defined periods.

Story: 2006783
Task: 37313
Change-Id: If0649a1fe6a5337a20f0aba9a1a4ea8a0dd04617
"
openstack%2Fcharm-heat~master~I03f7666378d23e6bfeb4fcc03fccba6033120a26,openstack/charm-heat,master,ch-sync,I03f7666378d23e6bfeb4fcc03fccba6033120a26,Charm helper sync for crm resource retry fix,MERGED,2019-11-12 15:16:24.000000000,2019-11-12 16:24:18.000000000,2019-11-12 16:24:18.000000000,2,1,0,693862,0e89dee68c0e292ab406926718aa71e670a34533,7,3,1,1,12549,gnuoy,gnuoy,"Charm helper sync for crm resource retry fix

Change-Id: I03f7666378d23e6bfeb4fcc03fccba6033120a26
"
openstack%2Ftripleo-ci~master~I7812fcfd17569b0c438f58bec73ab0f4b07e625c,openstack/tripleo-ci,master,,I7812fcfd17569b0c438f58bec73ab0f4b07e625c,lint: maintenance chore,MERGED,2019-10-31 19:37:58.000000000,2019-11-12 16:22:47.000000000,2019-11-12 16:22:47.000000000,31,38,2,692440,7b84c234435360520a52da7ae86a8a5ebd73f7d6,22,8,4,23,24162,Sorin Sbârnea,ssbarnea,"lint: maintenance chore

- reverted previours workarounds
- assures we run ansible-lint on our files
- bumped linters
- fixed new problems found by the linters

Change-Id: I7812fcfd17569b0c438f58bec73ab0f4b07e625c
"
openstack%2Ftripleo-ci~master~I6d2fd3a3b8139d2698547f08c2306ca1c5e4911e,openstack/tripleo-ci,master,scen7,I6d2fd3a3b8139d2698547f08c2306ca1c5e4911e,Make scenario007-standalone vote + gate standalone-scenarios-full,MERGED,2019-08-08 12:37:57.000000000,2019-11-12 16:22:46.000000000,2019-11-12 16:22:46.000000000,4,2,0,675313,b42c622df2131b22f3a3b10c2a6cf1523e99744e,44,13,4,1,8449,Marios Andreou,marios,"Make scenario007-standalone vote + gate standalone-scenarios-full

Moves scenario007-standalone to voting: true and adds it to the
gate in the tripleo-standalone-scenarios-full template. Tracked by
TripleO CI squad at [1]. Job is pretty stable at [2]

[1] https://tree.taiga.io/project/tripleo-ci-board/task/1231
[2] http://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario007-standalone
Change-Id: I6d2fd3a3b8139d2698547f08c2306ca1c5e4911e
"
openstack%2Ftripleo-docs~master~Ie08f540bdfa2292f14d0958f06b441960caa58de,openstack/tripleo-docs,master,exclude_central_ceph_vars,Ie08f540bdfa2292f14d0958f06b441960caa58de,DCN extraction should exclude Ceph variables,MERGED,2019-10-29 18:23:49.000000000,2019-11-12 16:13:15.000000000,2019-11-12 16:11:28.000000000,8,2,8,691938,9fa8dc60a24cf1bdbdc703004be7a90725a7d85c,19,8,2,1,18002,John Fulton,fultonj,"DCN extraction should exclude Ceph variables

Without this additional step you may run into RHBZ 1762360

Change-Id: Ie08f540bdfa2292f14d0958f06b441960caa58de
"
openstack%2Fironic-python-agent~master~I5b54c1f6cfac5fff672245c523b9fb647478edbd,openstack/ironic-python-agent,master,,I5b54c1f6cfac5fff672245c523b9fb647478edbd,Do not try to read raw disk data as unicode,MERGED,2019-11-11 15:04:48.000000000,2019-11-12 16:10:39.000000000,2019-11-12 16:08:29.000000000,1,1,0,693711,1d12505fa069bef886ee908a83920aa2afa44298,10,5,1,1,10239,Dmitry Tantsur,dtantsur,"Do not try to read raw disk data as unicode

Fixes regression in commit 9f8fa2853af00045118ccd44180e7053e6d027af:
utils.execute returns unicode by default, but this data is binary.

Change-Id: I5b54c1f6cfac5fff672245c523b9fb647478edbd
"
openstack%2Fnova~master~I00b7975eb5f4306ecf5b565e57ae8c5773fde1c0,openstack/nova,master,force_disconnect_volume,I00b7975eb5f4306ecf5b565e57ae8c5773fde1c0,WIP libvirt: Forcibly disconnect volumes during post_live_migration,ABANDONED,2018-07-23 12:20:29.000000000,2019-11-12 16:05:34.000000000,,11,8,0,584850,55f69c9a247afbf6a6226af98dd5e1e6e73abd2d,13,10,1,2,10135,Lee Yarwood,lyarwood,"WIP libvirt: Forcibly disconnect volumes during post_live_migration

WIP change showing an example of when we could use the force flag to
disconnect volumes from a host. In the case of post_live_migration we
are sure that any failures to disconnect a volume from the source can be
ignored as the instance is now running on the destination.

Change-Id: I00b7975eb5f4306ecf5b565e57ae8c5773fde1c0
"
openstack%2Fmonasca-tempest-plugin~master~Ieaedb2d09cf7e4163c22a5f28341440c95dcc7f6,openstack/monasca-tempest-plugin,master,,Ieaedb2d09cf7e4163c22a5f28341440c95dcc7f6,Publish the doc for monasca tempest plugin,MERGED,2019-08-14 04:27:43.000000000,2019-11-12 15:47:01.000000000,2019-11-12 15:44:13.000000000,2,2,0,676324,c6153dfa3a64f8c33961b5e0879136ac84f6afff,20,5,1,2,30621,Manish Kumar,manishk,"Publish the doc for monasca tempest plugin

Adding the publish doc job which will publish the doc instead of
just building it.

Change-Id: Ieaedb2d09cf7e4163c22a5f28341440c95dcc7f6
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I19d660168c98887a5e352b3413235888c800760d,openstack/tripleo-heat-templates,stable/queens,bug/1830734-stable/queens,I19d660168c98887a5e352b3413235888c800760d,Create /run/netns if does not exist,MERGED,2019-08-08 14:42:09.000000000,2019-11-12 15:01:57.000000000,2019-08-13 14:59:24.000000000,24,0,0,675359,5d00c7076f6dc6b5b65b818358d27d5cce8a5764,23,6,1,3,14250,Grzegorz Grasza,xek,"Create /run/netns if does not exist

Unlike docker with podman you can't mount a host directory
that does not exist. We did some work as part of bug 1799638
take care of this for reboots. However, we need it to be created
for fresh installations, as nodes are not necessarily rebooted
after installing paunch. The real issue without reboots did not
surface before the next patch in this series, as we were using
cni0 bridge network for some containers and that resulted in
namespace being created and the directory existing for
neutron_dhcp and neutron_l3 containers in step 4 to mount them.

This patch creates/removes a temp namespace in host_prep_tasks
to ensure that the directory exists.

Change-Id: I19d660168c98887a5e352b3413235888c800760d
Related-Bug: #1799638
(cherry picked from commit 9b284e74cbdcf43253edaf424534b71a483fdb69)
"
openstack%2Fcharm-ceilometer~master~Ibdacf37b7ddacb145e4bca0757b2691a26778200,openstack/charm-ceilometer,master,add-placement,Ibdacf37b7ddacb145e4bca0757b2691a26778200,Add placement charm for tests for train+,MERGED,2019-11-12 13:25:47.000000000,2019-11-12 14:49:56.000000000,2019-11-12 14:49:56.000000000,15,0,0,693843,cda8c3bb72275893b05979ff87abd216c392c093,7,3,1,1,12549,gnuoy,gnuoy,"Add placement charm for tests for train+

Change-Id: Ibdacf37b7ddacb145e4bca0757b2691a26778200
"
openstack%2Ftripleo-docs~master~I26daa9ccf5109b98b1298bff9b8287158fb87ffa,openstack/tripleo-docs,master,,I26daa9ccf5109b98b1298bff9b8287158fb87ffa,Fix prometheus port in the upstream doc,MERGED,2019-11-08 16:19:29.000000000,2019-11-12 14:48:06.000000000,2019-11-12 14:46:25.000000000,1,1,0,693558,a904f2c1d838cee79af9ac9381966dab89eec5ae,10,7,1,1,25402,Francesco Pantano,fmount,"Fix prometheus port in the upstream doc

Recently a new patch to change the prometheus port was
introduced. The purpose of this review is to fix the doc
as well.

Change-Id: I26daa9ccf5109b98b1298bff9b8287158fb87ffa
"
openstack%2Fpuppet-pacemaker~master~I14ecd55adfbc5bfcf4bd8e6504be29f48d233f45,openstack/puppet-pacemaker,master,rake,I14ecd55adfbc5bfcf4bd8e6504be29f48d233f45,Pin a bunch of gems so that centos 7 with old ruby still works,MERGED,2019-11-08 10:36:48.000000000,2019-11-12 14:44:33.000000000,2019-11-12 14:20:49.000000000,4,1,0,693517,0ebd0344a701ee83bc80b3d3bbf1b3f456bcde55,21,4,5,1,20172,Michele Baldessari,michele,"Pin a bunch of gems so that centos 7 with old ruby still works

https://zuul.opendev.org/t/openstack/build/4523d241081f40da9c39c0a7894f5e4d/log/job-output.txt
shows the error:
centos-7 | Resolving dependencies..........
centos-7 | RubyGems 2.0.14.1 is not threadsafe, so your gems will be installed one at a time. Upgrade to RubyGems 2.1.0 or higher to enable parallel gem installation.
centos-7 | Fetching rake 13.0.0
centos-7 | Installing rake 13.0.0
centos-7 | Gem::InstallError: rake requires Ruby version >= 2.2.
centos-7 | An error occurred while installing rake (13.0.0), and Bundler cannot continue.
centos-7 | Make sure that `gem install rake -v '13.0.0' --source 'https://rubygems.org/'`
centos-7 | succeeds before bundling.
centos-7 |
centos-7 | In Gemfile:
centos-7 |   rspec-puppet-utils was resolved to 3.4.0, which depends on
centos-7 |     puppetlabs_spec_helper was resolved to 1.1.1, which depends on
centos-7 |       puppet-syntax was resolved to 2.6.0, which depends on
centos-7 |         rake
centos-7 | bundler: command not found: rake

Let's pin rake for now and let's also pin dry-inflector to 0.1.2 as the
0.2.0 version has the exact same issue as rake >= 13. Same goes for the
signet gem and minitest

Change-Id: I14ecd55adfbc5bfcf4bd8e6504be29f48d233f45
"
openstack%2Fkolla-ansible~stable%2Ftrain~I49b24545501085d5a44f4de73f0c6dd21e06e2a0,openstack/kolla-ansible,stable/train,bug/1835501-stable/train,I49b24545501085d5a44f4de73f0c6dd21e06e2a0,Collect rabbitmq logs by fluentd,MERGED,2019-11-12 04:14:06.000000000,2019-11-12 14:31:48.000000000,2019-11-12 14:30:19.000000000,3,4,0,693764,a33d86c67652d5426c8b5079c06c17afb586dd02,9,4,1,1,30523,Dincer Celik,osmanlicilegi,"Collect rabbitmq logs by fluentd

Change-Id: I49b24545501085d5a44f4de73f0c6dd21e06e2a0
Closes-Bug: #1835501
(cherry picked from commit bf979282a1bf31a4897e007589e029ba92d2b40a)
"
openstack%2Ftripleo-heat-templates~master~I52396c930b2f243c0e8d88cb690ffcd25dd58e19,openstack/tripleo-heat-templates,master,,I52396c930b2f243c0e8d88cb690ffcd25dd58e19,DNM: Test for lp1844111.,ABANDONED,2019-09-26 12:15:28.000000000,2019-11-12 14:27:20.000000000,,1,0,0,685052,426384527c9388573e6a8090df34e86811548a79,4,2,1,1,26343,Jose Luis Franco,jfrancoa,"DNM: Test for lp1844111.

Depends-On: https://review.opendev.org/#/c/685036/1
Change-Id: I52396c930b2f243c0e8d88cb690ffcd25dd58e19
"
openstack%2Fproject-team-guide~master~I6a4efb1e703f6634cf2d260480153d0ceae3a46f,openstack/project-team-guide,master,stable-conflicts,I6a4efb1e703f6634cf2d260480153d0ceae3a46f,Add Note for Conflicts section,MERGED,2019-11-12 12:13:38.000000000,2019-11-12 13:48:15.000000000,2019-11-12 13:47:03.000000000,4,0,2,693829,c7f10fd7582c07c8c61f1b0146d0db90594cb906,13,4,2,1,17685,Elod Illes,elod.illes,"Add Note for Conflicts section

In some cases the cherry-picked patch contains the original patch's
""Conflicts"" lines, that were valid only on the source branch (the
patch was cherry-picked from). To help the reviewers these should
be removed from the commit message.

Change-Id: I6a4efb1e703f6634cf2d260480153d0ceae3a46f
"
openstack%2Fbifrost~master~Ibf64d69596eb852a2a1c62cb0a202ec552cf1437,openstack/bifrost,master,,Ibf64d69596eb852a2a1c62cb0a202ec552cf1437,Fix XFS disk image builds,MERGED,2019-11-11 17:16:22.000000000,2019-11-12 13:44:13.000000000,2019-11-12 03:28:09.000000000,1,0,0,693731,6a958704373c34397f788e287c76d0be6d592f46,12,5,1,1,14826,Mark Goddard,mgoddard,"Fix XFS disk image builds

It is possible to use DIB to build XFS formatted disk images, via the
FS_TYPE environment variable. This fails currently due to the lack of an
xfsprogs package on the host.

This change installs xfsprogs to the host.

Change-Id: Ibf64d69596eb852a2a1c62cb0a202ec552cf1437
Story: 2006831
Task: 37404
"
openstack%2Foslo.cache~master~I07dabeaebae3399500fb55ba03d51b1342baf424,openstack/oslo.cache,master,,I07dabeaebae3399500fb55ba03d51b1342baf424,Replace openstack.org URLs with opendev.org URLs,ABANDONED,2019-05-09 10:02:09.000000000,2019-11-12 13:34:41.000000000,,2,2,0,657968,05bce208423623986c63cc1eeeaa82bca7dd409c,5,2,2,2,30387,weidong.huang,huang.weidong,"Replace openstack.org URLs with opendev.org URLs

Change-Id: I07dabeaebae3399500fb55ba03d51b1342baf424
"
openstack%2Foslo.reports~master~Ib172d1f11d7a20fbfe247dfa7ed14bbdf456a55f,openstack/oslo.reports,master,,Ib172d1f11d7a20fbfe247dfa7ed14bbdf456a55f,Bump the openstackdocstheme extension to 1.20,ABANDONED,2019-07-15 09:08:02.000000000,2019-11-12 13:10:21.000000000,,2,28,0,670797,01b9cd2c7342e658e64e3427fada838e8221b2a0,6,3,2,4,22165,caoyuan,caoyuan,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: Ib172d1f11d7a20fbfe247dfa7ed14bbdf456a55f
"
openstack%2Fsolum-tempest-plugin~master~I7aa802d9be3d01d1712103c88c3bf885881bb479,openstack/solum-tempest-plugin,master,,I7aa802d9be3d01d1712103c88c3bf885881bb479,Update json module to jsonutils,ABANDONED,2019-02-24 15:05:00.000000000,2019-11-12 13:10:14.000000000,,39,19,1,638967,48531b8f625140f845ff2d36bf5e62d36d5bbb1e,10,8,1,20,22165,caoyuan,caoyuan,"Update json module to jsonutils

oslo project provide jsonutils, and the others use it in many place,
this PS to update the json moudule to oslo jsonutils for consistency.

Change-Id: I7aa802d9be3d01d1712103c88c3bf885881bb479
"
openstack%2Fpython-troveclient~master~I2913e28c3e2c30697a6f1dfcfd2520187c49ec34,openstack/python-troveclient,master,,I2913e28c3e2c30697a6f1dfcfd2520187c49ec34,Update json module to jsonutils,ABANDONED,2019-02-25 11:10:16.000000000,2019-11-12 13:09:34.000000000,,64,72,1,639058,bab7bc401b88d1db017806dffcecb8108d3ebc5a,14,6,4,17,22165,caoyuan,caoyuan,"Update json module to jsonutils

oslo project provide jsonutils, and trove use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/trove/search?q=jsonutils&unscoped_q=jsonutils

Change-Id: I2913e28c3e2c30697a6f1dfcfd2520187c49ec34
"
openstack%2Fpython-ironicclient~master~Ifea12c157452d8becbb9fddbb0cc776a2ec8b2aa,openstack/python-ironicclient,master,,Ifea12c157452d8becbb9fddbb0cc776a2ec8b2aa,Update json module to jsonutils,ABANDONED,2019-02-24 16:11:55.000000000,2019-11-12 13:09:23.000000000,,51,49,3,638980,5dde474c97433b6dcd42dade1fcbf4e016801388,23,9,6,8,22165,caoyuan,caoyuan,"Update json module to jsonutils

oslo project provide jsonutils, and ironicclient use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/python-ironicclient/search?utf8=%E2%9C%93&q=jsonutils&type=

Change-Id: Ifea12c157452d8becbb9fddbb0cc776a2ec8b2aa
"
openstack%2Fcharm-vault~master~I1b4d83eb4c944a98a06cc457f51d0fb9d0b9a6ce,openstack/charm-vault,master,bug/1846375,I1b4d83eb4c944a98a06cc457f51d0fb9d0b9a6ce,handler: correctly handle vault sealed exception,MERGED,2019-11-12 11:16:53.000000000,2019-11-12 13:06:27.000000000,2019-11-12 13:06:27.000000000,27,5,0,693814,fb166e451e88de1e1d77de5e630d9228dbecb2ec,7,3,1,2,7730,Sahid Orentino Ferdjaoui,sahid,"handler: correctly handle vault sealed exception

In situation where the vault service is restarted the service should
be unsealed. It apears that some parts of the code do not handle the
exception correctly which results the unit to be in an error state.

In the code to handle that we check whether the service is well
unsealed. If that not the case juju will report the service as blocked
asking user to unseal it.

Change-Id: I1b4d83eb4c944a98a06cc457f51d0fb9d0b9a6ce
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
"
openstack%2Fpython-muranoclient~master~Icafd1ce213367ebf106cf0f151fdf39896d92720,openstack/python-muranoclient,master,,Icafd1ce213367ebf106cf0f151fdf39896d92720,Update json module to jsonutils,ABANDONED,2019-02-24 16:53:24.000000000,2019-11-12 13:04:30.000000000,,50,53,1,638988,2933413b7accbc2187b78e47220253feae09df79,12,4,3,12,22165,caoyuan,caoyuan,"Update json module to jsonutils

oslo project provide jsonutils, and muranoclient use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/python-muranoclient/search?utf8=%E2%9C%93&q=jsonutils&type=

Change-Id: Icafd1ce213367ebf106cf0f151fdf39896d92720
"
openstack%2Fkeystoneauth~master~Ie16831d1f002d879eb115356e4741959557068ae,openstack/keystoneauth,master,bug/1850226,Ie16831d1f002d879eb115356e4741959557068ae,Fixes OIDC authentication with multiple IdPs,ABANDONED,2019-10-30 13:33:07.000000000,2019-11-12 13:02:27.000000000,,361,13,0,692140,348495f44f0fbc44da2ca1a503e4b9baf22f6f56,13,4,4,4,30695,Pedro Henrique Pereira Martins,pedrohpmartins,"Fixes OIDC authentication with multiple IdPs

Problem description
===================

When we try to use the OpenStack CLI with the OpenId Connect protocol
(in an environment with multiple IdPs) to enable federated users to
login, we get an error from the CLI while generating the Keystone
subject token (not the OIDC access token).

The error happens because when the keystoneauth lib calls the Keystone
WSGI (the OIDC proxy)  to generate an auth token,  it expects an auth
token as the response, but it gets an HTML document response. A page for
the user choose which IdP he/she desires to use/ in other words, the CLI
receives the discovery page HTML .

The actual v3oidcpassword plugin authentication flow is basically :
 - The keystoneauth retrieves the credentials from the configs, like
client id, client secret, IdP token URL, user name, password. It
(Keystoneauth) uses these data to generate an access_token in the IdP;
 - Pass this access_token to Keystone to retrieve a subject_token;
 - Use this subject_token to then generate the authentication_token for
the specified user's groups and domains.

The problem is that in a federation with many IdPs, the Keystone WSGI
protected endpoint needs more information than just the access_token, it
needs to know which IdP the user wants to use.

Proposal
========
I propose to change the v3oidc authentication flow to handle multiple
IdPs federations.

Then the new v3oidc plugin authentication flow will be :
 - The keystoneauth requests to Keystone WSGI a session to generate a
subject_token for a specific issuer (define in the OpenStack CLI
environment variables);
 - Keystone WSGI return a session cookie, a state, and a nonce value;
 - Keystoneauth will then generate an access_token in the IdP using the
credentials plus the nonce value;
 - Then the keystoneauth library will send the access_token and the
state value to the Keystone WSGI and it will return the subject_token to
be used in the rest of the authentication flow

Closes-Bug: #1850226
Change-Id: Ie16831d1f002d879eb115356e4741959557068ae
"
openstack%2Foslo.messaging~master~I4297685cbe5c5ec71b68467a54746c2f4814f104,openstack/oslo.messaging,master,ussuri,I4297685cbe5c5ec71b68467a54746c2f4814f104,Switch to Ussuri jobs,MERGED,2019-10-24 06:28:41.000000000,2019-11-12 13:01:54.000000000,2019-11-12 12:59:27.000000000,1,1,0,690844,4529981d8c3b65c8ee1695020a09356db8c20a1d,15,5,1,1,27822,pengyuesheng,pengyuesheng,"Switch to Ussuri jobs

Change-Id: I4297685cbe5c5ec71b68467a54746c2f4814f104
"
openstack%2Fneutron~master~Ic64d36aa5e8994a997c732966ba9a08fd8b60bc1,openstack/neutron,master,bug/1807157,Ic64d36aa5e8994a997c732966ba9a08fd8b60bc1,Fix namespaces and interfaces for metering DVR routers,NEW,2019-06-22 21:24:03.000000000,2019-11-12 13:00:09.000000000,,37,46,6,666968,6310c0a19bbf20c34bc8ce2a4bdb486734e26903,26,11,3,2,28655,Alexandru Sorodoc,bno1,"Fix namespaces and interfaces for metering DVR routers

Part of Bug #1807157:
1. The metering agent adds the metering iptables rules on the qrouter-
namespace for the qg- interface. This is for centralized routers and
works well.
2. The metering agent adds the metering iptables rules on the snat-
namespace for the rpf- interface. This is wrong. The snat- namespace
(which exists only on network nodes for DVR routers) houses a qg-
interface for doing NAT. The rfp- interface exists only on compute nodes
in the qrouter- namespace and it is used to route floating ip traffic.

This change properly associates the qg- interface to the snat namespace
and the rfp- interface with the main namespace.

Partial-Bug: #1807157
Change-Id: Ic64d36aa5e8994a997c732966ba9a08fd8b60bc1
"
openstack%2Fproject-team-guide~master~I550024dce50d19ac3dbbb6619159fafd8df8c314,openstack/project-team-guide,master,stable-conflicts,I550024dce50d19ac3dbbb6619159fafd8df8c314,Give an example of dealing with backport conflicts,MERGED,2019-11-07 16:30:37.000000000,2019-11-12 12:54:11.000000000,2019-11-12 09:50:52.000000000,10,4,1,693384,0e80c32f56a013b99fa9118a90277295e9fa2e23,14,6,2,1,6873,Matt Riedemann,mriedem,"Give an example of dealing with backport conflicts

The stable maint guide says to keep conflicts in the commit
message in a backport which is good but I frequently have to
give people an example of what that should look like.

This moves the conflicts part to its own sub-section for easy
linking and also links in an example of how to document
conflicts in a backport.

Change-Id: I550024dce50d19ac3dbbb6619159fafd8df8c314
"
openstack%2Ftripleo-common~master~I780ec27c206c508cf68d0ce16ef269b5d1b92581,openstack/tripleo-common,master,ceilometer-compute-hc,I780ec27c206c508cf68d0ce16ef269b5d1b92581,Fix ceilometer_agent_compute health check,MERGED,2019-11-04 11:20:02.000000000,2019-11-12 12:42:16.000000000,2019-11-05 12:04:22.000000000,2,2,0,692802,0e64162d02b4769816e8f93179a246ccf032675d,12,5,1,1,5241,Martin Magr,mmagr,"Fix ceilometer_agent_compute health check

The agent communicates via Redis (not RabbitMQ), so it should look
for that port instead

Change-Id: I780ec27c206c508cf68d0ce16ef269b5d1b92581
"
openstack%2Fcinder~master~I16319ab394e75cbe5d8898afcb1d1043f898f315,openstack/cinder,master,bug/1846483,I16319ab394e75cbe5d8898afcb1d1043f898f315,Fix VxFlexOS documentation,MERGED,2019-10-24 13:12:25.000000000,2019-11-12 12:34:13.000000000,2019-11-12 12:31:50.000000000,2,110,1,690971,6271bb316b389a69780c3b8cc8d1a78caefc74b7,68,35,3,1,31016,Ivan Pchelintsev,pcheli,"Fix VxFlexOS documentation

Remove unnecessary instructions for containerized deployment
using VxFlex OS driver. Old instructions are not working and
will not be applicable after the bug will be resolved.

Change-Id: I16319ab394e75cbe5d8898afcb1d1043f898f315
Closes-Bug: #1846483
"
openstack%2Fneutron-fwaas~master~Ia6fa9a230853311849e327029ef7f0ad7d5d0451,openstack/neutron-fwaas,master,Ia9daa3e7ed6b690bd168eabceb0a380d351f38bf,Ia6fa9a230853311849e327029ef7f0ad7d5d0451,Fix list_entries for netlink_lib when running on py3,MERGED,2019-07-08 21:21:49.000000000,2019-11-12 12:33:25.000000000,2019-07-09 16:56:38.000000000,1,1,0,669757,d3efc3ed550236a459477449f151e392f7f8ec3d,9,3,1,1,11975,Slawek Kaplonski,slaweq,"Fix list_entries for netlink_lib when running on py3

As privsep communicates with main process via socket, data passed
through this socket must be string type in Python 3. This patch
converts bytes to string, then privsep works correctly.

Change-Id: Ia6fa9a230853311849e327029ef7f0ad7d5d0451
"
openstack%2Fnova~stable%2Fpike~I25a4f36027390def83cfe25f4f3b4af9660da502,openstack/nova,stable/pike,bug/1790221,I25a4f36027390def83cfe25f4f3b4af9660da502,Null out instance.availability_zone on shelve offload,MERGED,2018-09-28 18:25:59.000000000,2019-11-12 12:25:10.000000000,2019-03-26 06:19:07.000000000,6,2,1,606161,de7e5ae4e4786d3275e2ada688032a4a1cbc055a,13,7,1,3,6873,Matt Riedemann,mriedem,"Null out instance.availability_zone on shelve offload

When a user shelve offloads a server, the compute manager
nulls out the instance host and node attributes. However
the availability_zone attribute is left set on the instance
so the API will show the instance as in an AZ when really
it's not, because an instance that is not on a host is not
in a host aggregate so it can't be in an AZ.

Keep in mind that there are two ways an instance can be in
an AZ:

1. The user specifically requests to create the server in
   the AZ.

2. The user does not request an AZ and one is assigned via
   the selected host during server create (or resize, etc).

For the first case, the server will always remain in the
user-requested AZ even after shelve/unshelve. But in the
second case, unshelving the server can result in the server
being spawned on a new host in a different AZ - the scheduler
does not restrict the AZ in that second case.

This change nulls out the instance.availability_zone just like
the host and node fields on shelve offload since it's
confusing to show a shelved offloaded server in an AZ that
doesn't have a host.

Final note: the _nil_out_instance_obj_host_and_node method
is also called during server create if the build fails and
is aborted or rescheduled to another host, and in the case
that unshelve fails. In the case of a server build reschedule,
conductor will set the instance.availability_zone appropriately
based on the alternate host for the reschedule. In the other
failure cases, leaving the instance AZ null is appropriate.

Change-Id: I25a4f36027390def83cfe25f4f3b4af9660da502
Closes-Bug: #1790221
(cherry picked from commit 771b9eaa71742b7a158c2e7759a3046ea5a6fc3a)
(cherry picked from commit b3060a9d3103fb8ade6ebeaa53cb4dd39308f8af)
(cherry picked from commit 437211bf37aacb6bc9490e2443984a4428c70779)
"
openstack%2Fpuppet-tripleo~master~I2d41a151352fc8664484d0fb9ebc7738ad35fa70,openstack/puppet-tripleo,master,bug/1851791,I2d41a151352fc8664484d0fb9ebc7738ad35fa70,Allow Neutron agents call mount via rootwrap,ABANDONED,2019-11-08 11:04:19.000000000,2019-11-12 12:16:50.000000000,,24,0,0,693521,edbff0d8a887c157489cf4e5a113ea2e1f334d4c,9,3,4,5,6926,Bogdan Dobrelya,bogdando,"Allow Neutron agents call mount via rootwrap

Create a precise regex that matches the target mount --bind
commands executed from neutron L3 and DHCP agents containers

Required-by: https://review.opendev.org/693367
Related-bug: #1851791

Change-Id: I2d41a151352fc8664484d0fb9ebc7738ad35fa70
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168,openstack/tripleo-heat-templates,master,693367,I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168,Rebind broken netns upon l3/dhcp containers start,ABANDONED,2019-11-07 15:07:06.000000000,2019-11-12 12:16:20.000000000,,53,4,4,693367,05ff60de2edd1a3dae88838a314722776236f009,35,10,11,4,6926,Bogdan Dobrelya,bogdando,"Rebind broken netns upon l3/dhcp containers start

When manipulating to the host network namespaces from a container,
there is a race condition which is mentioned in [1],[2], which is
instead of a namespace being completely removed, it is replaced by a
standard empty file with 000 permissions.

To w/a that, make Neutron L3 and DHCP agent containers starting with the
command that rebinds 'broken' empty files (they would have a type of
tmpfs) for themselves.

[1] https://github.com/containerd/containerd/issues/2329
[2] https://bugs.launchpad.net/kolla/+bug/1616268

Co-Authored-By: David Hill <dhill@redhat.com>
Depends-on: https://review.opendev.org/693521
Related: rhbz#1758547
Closes-bug: #1851791

Change-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168,openstack/tripleo-heat-templates,stable/queens,bug/1851791,I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168,Rebind broken netns upon l3/dhcp containers start,ABANDONED,2019-11-07 15:14:28.000000000,2019-11-12 11:48:44.000000000,,53,4,0,693369,f7a1bcc9b3cd70449c16a0befbe508d56bc306f1,13,3,5,4,6926,Bogdan Dobrelya,bogdando,"Rebind broken netns upon l3/dhcp containers start

When manipulating to the host network namespaces from a container,
there is a race condition which is mentioned in [1],[2], which is
instead of a namespace being completely removed, it is replaced by a
standard empty file with 000 permissions.

To w/a that, make Neutron L3 and DHCP agent containers starting with the
command that rebinds 'broken' empty files (they would have a type of
tmpfs) for themselves.

[1] https://github.com/containerd/containerd/issues/2329
[2] https://bugs.launchpad.net/kolla/+bug/1616268

Co-Authored-By: David Hill <dhill@redhat.com>
Depends-on: https://review.opendev.org/693798
Related: rhbz#1758547
Closes-bug: #1851791

Change-Id: I9ffe71e0db65ecc3bc5dc4ee0b3a7a34aabf0168
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 05ff60de2edd1a3dae88838a314722776236f009)
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~I2d41a151352fc8664484d0fb9ebc7738ad35fa70,openstack/puppet-tripleo,stable/queens,bug/1851791,I2d41a151352fc8664484d0fb9ebc7738ad35fa70,Allow Neutron agents call mount via rootwrap,ABANDONED,2019-11-12 09:51:47.000000000,2019-11-12 11:48:28.000000000,,22,0,0,693798,12bf76e887afdacf8cc9f0c516f69445a47df535,5,1,2,5,6926,Bogdan Dobrelya,bogdando,"Allow Neutron agents call mount via rootwrap

Create a precise regex that matches the target mount --bind
commands executed from neutron L3 and DHCP agents containers

Required-by: https://review.opendev.org/693369
Related-bug: #1851791

Change-Id: I2d41a151352fc8664484d0fb9ebc7738ad35fa70
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit edbff0d8a887c157489cf4e5a113ea2e1f334d4c)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I27698f273db149ac1aedcf4e1d328c3cc997d284,openstack/tripleo-heat-templates,stable/stein,,I27698f273db149ac1aedcf4e1d328c3cc997d284,[Steing Only] Correct ovn_dbs_image heat's parameter.,MERGED,2019-11-11 13:09:24.000000000,2019-11-12 11:37:17.000000000,2019-11-11 23:57:09.000000000,1,1,2,693692,b686e27a414334861d48e1f41cbe69caf997bbf8,16,9,1,1,26343,Jose Luis Franco,jfrancoa,"[Steing Only] Correct ovn_dbs_image heat's parameter.

During the cherry-pick of I1d24dce0ff9c88380e8769593d619a9e4e944e40
it was missed to adapt the heat parameter name from ContainerOvnDbsImage
into DockerOvnDbsImage.

Related-Bug: #1851669
Change-Id: I27698f273db149ac1aedcf4e1d328c3cc997d284
"
openstack%2Freleases~master~I3f758625003594cc018bc4e69afea19454199c60,openstack/releases,master,release_osa,I3f758625003594cc018bc4e69afea19454199c60,Release OpenStack-Ansible Rocky,MERGED,2019-10-22 11:45:46.000000000,2019-11-12 11:34:43.000000000,2019-11-12 11:34:43.000000000,4,0,4,690052,9929bebafc0a9e6248c9ff719405e8ecd80e11f6,23,9,3,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Release OpenStack-Ansible Rocky

Change-Id: I3f758625003594cc018bc4e69afea19454199c60
"
openstack%2Fmistral~master~Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9,openstack/mistral,master,bug/1796627,Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9,Extend capabilities to clean up old executions,MERGED,2019-10-06 09:07:34.000000000,2019-11-12 11:33:21.000000000,2019-11-12 11:31:39.000000000,72,7,21,686929,6b862e625e0b59cb7d3806a119fdd223227c06c2,50,10,13,5,30755,ali,abdelal,"Extend capabilities to clean up old executions

* Added a configuration option to the expiration policy
  to filter out workflow states.

Closes-Bug: #1796627
Change-Id: Ife49e6da1d7d52a3f50f1628d808d4c65a22cad9
"
openstack%2Fnetworking-bagpipe~stable%2Ftrain~Iba6c78d7e1de9fb175a6c4bb47f5ac62ce05cde4,openstack/networking-bagpipe,stable/train,train-release,Iba6c78d7e1de9fb175a6c4bb47f5ac62ce05cde4,Switch neutron-tempest-plugin jobs to train branch,MERGED,2019-10-03 20:05:39.000000000,2019-11-12 11:32:52.000000000,2019-11-12 11:30:22.000000000,2,2,0,686483,e2d300b591e51a48ae1f07b7d2ad8eba0e244362,13,5,1,1,11975,Slawek Kaplonski,slaweq,"Switch neutron-tempest-plugin jobs to train branch

Depends-On: https://review.opendev.org/#/c/685213/
Change-Id: Iba6c78d7e1de9fb175a6c4bb47f5ac62ce05cde4
"
openstack%2Freleases~master~I8d735a5f9e393b80f2944b42b6b3517d423e3a89,openstack/releases,master,manila,I8d735a5f9e393b80f2944b42b6b3517d423e3a89,[manila] Release 7.4.0 off of stable/rocky,MERGED,2019-10-29 00:47:12.000000000,2019-11-12 11:31:45.000000000,2019-11-12 11:31:45.000000000,4,0,0,691774,087d0aa7a02ac864da4526e94da6624fc7965955,11,5,1,1,16643,Goutham Pacha Ravi,gouthamr,"[manila] Release 7.4.0 off of stable/rocky

This minor release includes bug-fixes for:

- bug #1634278
- bug #1678524
- bug #1634734
- bug #1795463
- bug #1796986
- bug #1700871
- bug #1845135

These bug-fixes affect the public API of the
Shared File Systems service, but introduce
no backwards incompatible changes that affect
the client negatively.

Change-Id: I8d735a5f9e393b80f2944b42b6b3517d423e3a89
"
openstack%2Freleases~master~I3b114c3d0e7f595f34a557f38a2f8395f0be0d4f,openstack/releases,master,novaclient-rocky-11.0.1,I3b114c3d0e7f595f34a557f38a2f8395f0be0d4f,python-novaclient: release rocky 11.0.1,MERGED,2019-10-30 13:52:37.000000000,2019-11-12 11:31:44.000000000,2019-11-12 11:31:43.000000000,4,0,1,692146,384d65fbdbce44816852190ba16ebb6439a25b14,8,4,1,1,6873,Matt Riedemann,mriedem,"python-novaclient: release rocky 11.0.1

Change-Id: I3b114c3d0e7f595f34a557f38a2f8395f0be0d4f
"
openstack%2Freleases~master~Ic6e481abd78a1d5633d1da611bac66b0f97ba1fd,openstack/releases,master,novaclient-stein-13.0.2,Ic6e481abd78a1d5633d1da611bac66b0f97ba1fd,python-novaclient: release stein 13.0.2,MERGED,2019-10-30 13:51:24.000000000,2019-11-12 11:31:42.000000000,2019-11-12 11:31:42.000000000,4,0,1,692145,aa2d2922ce6bcc4b34b2e903d2f4f0e193c14a78,8,4,1,1,6873,Matt Riedemann,mriedem,"python-novaclient: release stein 13.0.2

Change-Id: Ic6e481abd78a1d5633d1da611bac66b0f97ba1fd
"
openstack%2Freleases~master~I2347ac7bebbe59c42f3f92640bcc7fdadadabb15,openstack/releases,master,os-vif-1.11.2-rocky,I2347ac7bebbe59c42f3f92640bcc7fdadadabb15,os-vif: release rocky 1.11.2,MERGED,2019-10-30 13:49:09.000000000,2019-11-12 11:31:41.000000000,2019-11-12 11:31:41.000000000,5,0,1,692143,c1291d0a33ff15c12250aafcc4af53eaf71edd0f,8,4,1,1,6873,Matt Riedemann,mriedem,"os-vif: release rocky 1.11.2

Change-Id: I2347ac7bebbe59c42f3f92640bcc7fdadadabb15
"
openstack%2Freleases~master~Ifa296d797e72ef844db7aeb2bc2304af9761caff,openstack/releases,master,release_osa,Ifa296d797e72ef844db7aeb2bc2304af9761caff,Release OpenStack-Ansible Stein,MERGED,2019-11-06 15:52:49.000000000,2019-11-12 11:31:40.000000000,2019-11-12 11:31:40.000000000,4,0,0,693206,06a4c0eb4b08740676b68c51aafa4769e2d9576b,8,5,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Release OpenStack-Ansible Stein

Change-Id: Ifa296d797e72ef844db7aeb2bc2304af9761caff
"
openstack%2Freleases~master~Ic48f6ef8421ddae8aa53d550e67d746187d961e8,openstack/releases,master,bug/1850843,Ic48f6ef8421ddae8aa53d550e67d746187d961e8,Bugfix release for mistral-lib stein,MERGED,2019-11-06 12:39:37.000000000,2019-11-12 11:28:28.000000000,2019-11-12 11:28:28.000000000,4,0,0,693170,4c584190a638aa3ccb0ab1f71f4bb95cd08113f6,9,4,2,1,9712,Dougal Matthews,dougal,"Bugfix release for mistral-lib stein

Related-Bug: #1850843
Change-Id: Ic48f6ef8421ddae8aa53d550e67d746187d961e8
"
openstack%2Freleases~master~Idf829ccdebc38a619e777ee283576be7e1dee90f,openstack/releases,master,manila,Idf829ccdebc38a619e777ee283576be7e1dee90f,[manila] Release 8.1.0 off of stable/stein,MERGED,2019-10-29 00:40:52.000000000,2019-11-12 11:28:27.000000000,2019-11-12 11:28:27.000000000,4,0,0,691773,4bc3ea0d89671f9688e435363390c7052a045039,13,6,2,1,16643,Goutham Pacha Ravi,gouthamr,"[manila] Release 8.1.0 off of stable/stein

This minor release includes bug-fixes for:

- bug #1634278
- bug #1678524
- bug #1822099
- bug #1795463
- bug #1634734
- bug #1700871
- bug #1845135

These bug-fixes affect the public API of the
Shared File Systems service, but introduce
no backwards incompatible changes that affect
the client negatively.

Change-Id: Idf829ccdebc38a619e777ee283576be7e1dee90f
"
openstack%2Freleases~master~I253f316a64b40048d74b93a06e238a69b0bda242,openstack/releases,master,manilaff,I253f316a64b40048d74b93a06e238a69b0bda242,Drop redundant Manila deadline,MERGED,2019-10-22 11:35:58.000000000,2019-11-12 11:28:26.000000000,2019-11-12 11:28:26.000000000,0,10,0,690049,a5f7d1404a050257ca72b6cd959ecec4f1185fb3,17,5,3,2,11904,Sean McGinnis,SeanM,"Drop redundant Manila deadline

Manila feature freeze was called out for the same time as the overall
feature freeze. This removes it since there is no additional information
or different date for the project specific deadline.

Change-Id: I253f316a64b40048d74b93a06e238a69b0bda242
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~I520cfd82ec12da491caa421a9e3c2412b8300956,openstack/releases,master,release_osa,I520cfd82ec12da491caa421a9e3c2412b8300956,RC2 OpenStack-Ansible Train,MERGED,2019-11-06 15:28:33.000000000,2019-11-12 11:28:25.000000000,2019-11-12 11:28:25.000000000,4,0,0,693198,0c4e5ab2729f43219a8dbb8e15084e2a9d014f33,9,5,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"RC2 OpenStack-Ansible Train

Change-Id: I520cfd82ec12da491caa421a9e3c2412b8300956
"
openstack%2Freleases~master~Iea7280546122199e4ebc603be473b470f2d817fe,openstack/releases,master,bug/1850843,Iea7280546122199e4ebc603be473b470f2d817fe,Bugfix release for mistral-lib train,MERGED,2019-11-06 12:38:46.000000000,2019-11-12 11:28:24.000000000,2019-11-12 11:28:24.000000000,4,0,0,693169,362120d68766e4e9c8ca82cdf75e6b04b21111b6,8,4,1,1,9712,Dougal Matthews,dougal,"Bugfix release for mistral-lib train

Related-Bug: #1850843
Change-Id: Iea7280546122199e4ebc603be473b470f2d817fe
"
openstack%2Fnetworking-bgpvpn~stable%2Ftrain~I6574bc41520149c1bad5fad2b0d7baae6459ad62,openstack/networking-bgpvpn,stable/train,train-release,I6574bc41520149c1bad5fad2b0d7baae6459ad62,Switch neutron-tempest-plugin jobs to train branch,MERGED,2019-10-03 20:08:00.000000000,2019-11-12 11:26:55.000000000,2019-11-12 11:23:54.000000000,2,2,0,686484,584b2f4b1a4f7ca2c2b1f1bbc532973b6135b526,11,5,1,1,11975,Slawek Kaplonski,slaweq,"Switch neutron-tempest-plugin jobs to train branch

Depends-On: https://review.opendev.org/#/c/685213/
Change-Id: I6574bc41520149c1bad5fad2b0d7baae6459ad62
"
openstack%2Fnova~master~I0156cda8543f847d50e16683e1eb29fbdd556d27,openstack/nova,master,compute_node_uuid,I0156cda8543f847d50e16683e1eb29fbdd556d27,Resolve TODO in _remove_host_allocations,MERGED,2019-11-10 14:43:50.000000000,2019-11-12 11:25:23.000000000,2019-11-12 11:21:35.000000000,17,35,0,693636,29f22b3b5156e0edb269a7792c11226e66223e66,18,13,1,2,6873,Matt Riedemann,mriedem,"Resolve TODO in _remove_host_allocations

The Selection object returned by select_destinations has a
compute node UUID in it so we don't have to look up the
compute node object by host/nodename when reverting allocations
during live migration.

Change-Id: I0156cda8543f847d50e16683e1eb29fbdd556d27
"
openstack%2Fnova~master~Ic1760d6ca058a554c3677b186f99305d558389fa,openstack/nova,master,bug/1805891,Ic1760d6ca058a554c3677b186f99305d558389fa,Add func test for 'required' PCI NUMA policy,MERGED,2019-09-18 16:02:09.000000000,2019-11-12 11:23:32.000000000,2019-11-12 11:17:28.000000000,18,2,1,682941,6df2ad787b32a7f1ea21f5c3c68f1e89242b12ff,16,12,1,1,8864,Artom Lifshitz,artom,"Add func test for 'required' PCI NUMA policy

Iab82719527cbaae4af64e12a27b8561ea2d269c0 added a test for the
'preferred' PCI NUMA policy, but we had no test for 'required'. This
patch adds one.

Change-Id: Ic1760d6ca058a554c3677b186f99305d558389fa
"
openstack%2Freleases~master~I09c637830bb7b768544a90b7cab75c184d7020b0,openstack/releases,master,nova-train-20.0.1,I09c637830bb7b768544a90b7cab75c184d7020b0,nova: release train 20.0.1,MERGED,2019-11-03 17:06:26.000000000,2019-11-12 11:21:06.000000000,2019-11-12 11:21:06.000000000,4,0,1,692758,0058eadecf4fbf7783ca7a0dd80841fb08db5756,11,5,2,1,6873,Matt Riedemann,mriedem,"nova: release train 20.0.1

This contains a couple of fixes for regressions
introduced in Train.

Change-Id: I09c637830bb7b768544a90b7cab75c184d7020b0
"
openstack%2Fnova~master~I847fc44e62065e3d26e5595e178b83912ab5d19b,openstack/nova,master,bp/policy-defaults-refresh,I847fc44e62065e3d26e5595e178b83912ab5d19b,Pass RequestContext to oslo_policy,MERGED,2019-08-01 13:59:16.000000000,2019-11-12 11:20:06.000000000,2019-11-12 11:17:22.000000000,31,10,1,674038,55ae1a5d5397638de7cfd2aec732a7685cc39f10,117,21,9,4,8556,Ghanshyam,ghanshyam,"Pass RequestContext to oslo_policy

In nova.policy.authorize() method, it convert the context
object to policy value by context.to_policy_values() and then
pass that into oslo.policy enforcer authorize() method.

This is fine till now and does not cause any issue but when
scope_type is set on policy and context then scope info is
not passed correctly.

In case of system scope, oslo.policy check for a key called 'system'
in creds. The oslo.context library uses `system_scope` instead[1],
and the compatibility between both oslo.policy and oslo.context
are handled when complete context is passed into oslo_policy[2].

If nova convert the context object to policy values then system scope
info is not passed into the oslo_policy. Better way is to pass the complete
context object to oslo_policy and let oslo_policy fetch the system scope
info in correct way.

Update the lower constraints for oslo.policy and oslo.context to have
system scope checks feature.

Partial implement blueprint policy-defaults-refresh

[1] https://github.com/openstack/oslo.context/blob/f65408df5cd5924f2879c3ee94d07fd27cb2cf73/oslo_context/context.py#L321
[2] https://github.com/openstack/oslo.policy/blob/b9fd10e2612f26c93d49c168a0408aba6d20e5bf/oslo_policy/policy.py#L994

Change-Id: I847fc44e62065e3d26e5595e178b83912ab5d19b
"
openstack%2Freleases~master~Ib29e8815e08b78607da3807dae1693ca8bb2efc4,openstack/releases,master,manila,Ib29e8815e08b78607da3807dae1693ca8bb2efc4,[manila] Release 9.1.0 off of stable/train,MERGED,2019-10-29 00:22:03.000000000,2019-11-12 11:19:54.000000000,2019-11-12 11:19:54.000000000,4,0,0,691772,6250c4764f37ce578bc7db41306708a1cfba8202,14,6,2,1,16643,Goutham Pacha Ravi,gouthamr,"[manila] Release 9.1.0 off of stable/train

This minor release includes bug-fixes for:

- bug #1846836
- bug #1700871
- bug #1634734

These bugfixes affect the public API for the Shared
File Systems service, but introduce no backwards
incompatible changes that affect the client negatively.

Change-Id: Ib29e8815e08b78607da3807dae1693ca8bb2efc4
"
openstack%2Fceilometer~master~I28a5da8809b9c8f2c0956af7bb4fbf82295668c6,openstack/ceilometer,master,missing_ws,I28a5da8809b9c8f2c0956af7bb4fbf82295668c6,Add missing ws seperator between words,MERGED,2019-11-12 07:11:30.000000000,2019-11-12 10:38:43.000000000,2019-11-12 10:37:12.000000000,1,1,0,693777,a11266be2260bddd6aea01a31db39ea6d294d722,7,2,1,1,20190,zhufl,zhufl,"Add missing ws seperator between words

This is to add missing ws seperator between words.

Change-Id: I28a5da8809b9c8f2c0956af7bb4fbf82295668c6
"
openstack%2Fmonasca-api~master~I7743f2d2b8cd7c83541f77c7821f9512fb8abc36,openstack/monasca-api,master,patch-alarm-def,I7743f2d2b8cd7c83541f77c7821f9512fb8abc36,Fix for editing an Alarm Definition,MERGED,2019-10-23 14:32:45.000000000,2019-11-12 10:33:57.000000000,2019-11-12 10:32:45.000000000,17,13,0,690585,12dee6996cdbae32141e6ee19417e9f9ca652a3d,21,7,3,2,28062,Martin Chacon Piza,martinchacon,"Fix for editing an Alarm Definition

This change solves the issue when: after removing the deterministic option
of an alarm definition by editing it, the alarm(s) asociated continue(s)
to behave as deterministic. Please see the story for more info.

Added Unittest.

Change-Id: I7743f2d2b8cd7c83541f77c7821f9512fb8abc36
story: 2006750
task: 37233
"
openstack%2Fblazar~master~Ie839351cfe8cdbc4947c4c64513ccd067e3d1cc7,openstack/blazar,master,refactoring-tools,Ie839351cfe8cdbc4947c4c64513ccd067e3d1cc7,Add max-complexity in tox pep8,MERGED,2019-11-09 05:13:51.000000000,2019-11-12 10:32:49.000000000,2019-11-12 10:29:22.000000000,5,0,0,693605,b76daf1ff60c2ee168d073029b87d2932167084a,9,4,1,1,25625,Tetsuro Nakamura,tetsuro0907,"Add max-complexity in tox pep8

This patch changes it to raise error on 'tox -epep8' when added
function is too complex.

16 is currently the most complex thing we have:
  'ManagerService.update_lease' - blazar/manager/service.py

Change-Id: Ie839351cfe8cdbc4947c4c64513ccd067e3d1cc7
"
openstack%2Fblazar~master~Idec8652cb92e30660546362b66115dd380c2f80e,openstack/blazar,master,refactoring-tools,Idec8652cb92e30660546362b66115dd380c2f80e,Add coverage to unit tests,MERGED,2019-11-08 08:19:30.000000000,2019-11-12 10:31:46.000000000,2019-11-12 10:29:22.000000000,10,2,2,693498,560c8158a2d82ac2e2ec0c8e97ed66029d862409,14,6,2,2,25625,Tetsuro Nakamura,tetsuro0907,"Add coverage to unit tests

We have unit tests but we didn't have the coverage report of the
unit tests. This patch adds a zuul job to report the coverage rate
of the unit tests.

It does NOT fail even if the coverage rate is too low. This is just
for reporting so far.

Change-Id: Idec8652cb92e30660546362b66115dd380c2f80e
"
openstack%2Fkarbor~master~Ia1a6345b1e38b9ccc4246d2d39d11cc8e537cb4e,openstack/karbor,master,fix-verifications-error-code,Ia1a6345b1e38b9ccc4246d2d39d11cc8e537cb4e,Remove invalid exception catching,MERGED,2019-11-12 08:04:46.000000000,2019-11-12 10:10:45.000000000,2019-11-12 10:09:12.000000000,5,8,0,693780,28fabef6ec5a88f9ee7da0f3a56628efc71347fb,7,2,1,1,21224,jiaopengju,jiaopengju,"Remove invalid exception catching

List operation of verifications will never raise VerificationNotFound
exception in _get_all method, we should remove it to normalize the
error code.

Change-Id: Ia1a6345b1e38b9ccc4246d2d39d11cc8e537cb4e
"
openstack%2Fneutron-fwaas~master~I3212851ce34047772c4f837631f519d656d366a7,openstack/neutron-fwaas,master,switch-to-py3,I3212851ce34047772c4f837631f519d656d366a7,Fix sorting of filter rules in legacy_conntrack module,MERGED,2019-06-22 12:05:09.000000000,2019-11-12 09:59:19.000000000,2019-07-01 16:26:46.000000000,23,1,0,666956,1ad1f78568a34cb183ed87bb7a074d91f3d2a9d2,16,4,2,2,11975,Slawek Kaplonski,slaweq,"Fix sorting of filter rules in legacy_conntrack module

Rule tuples used there may contains None as elements sometimes.
In such case if None and str values are compared in python 3
TypeError exception is raised.
This patch fixes it by using helper function which replace
None values with empty string before list of tuples is sorted.

Change-Id: I3212851ce34047772c4f837631f519d656d366a7
"
openstack%2Fmistral~master~Iba05b9acbfea06214a3ab93911d2eaaa4729278f,openstack/mistral,master,bug/1791449,Iba05b9acbfea06214a3ab93911d2eaaa4729278f,Task publish is ignored silently,MERGED,2019-09-25 11:22:53.000000000,2019-11-12 09:46:49.000000000,2019-11-12 09:45:19.000000000,226,10,18,684711,c7a54d22df990795141dc990300ab76704aa5d30,37,5,11,3,30755,ali,abdelal,"Task publish is ignored silently

bug-fix, on-success, on complete published variables are not merged
 with regular published variables

Closes-Bug: #1791449
Change-Id: Iba05b9acbfea06214a3ab93911d2eaaa4729278f
"
openstack%2Fmistral~master~If7a054bbf77f9ed761d8f3ac36b6d329544f5ff5,openstack/mistral,master,refactor_join_rerun,If7a054bbf77f9ed761d8f3ac36b6d329544f5ff5,Refactor rerun of joins,MERGED,2019-11-11 09:42:56.000000000,2019-11-12 09:34:33.000000000,2019-11-12 09:32:56.000000000,31,18,0,693669,59bf2509eb7737d7cee84ebdc26cad97e735c7f8,12,4,3,5,8731,Renat Akhmerov,rakhmerov,"Refactor rerun of joins

* This patch moves logic that schedules a task state refreshing
  periodic job in case of rerun from the Task class to
  task_handler.run_task() so that Task doesn't have to know any
  language specific details and call task handler back. It is
  more architecturally clean.

Change-Id: If7a054bbf77f9ed761d8f3ac36b6d329544f5ff5
"
openstack%2Fmistral~master~I6b1087f95b88a881e074a0af4f6f8be6d9413bc7,openstack/mistral,master,add_generate_parallel_wf_script,I6b1087f95b88a881e074a0af4f6f8be6d9413bc7,Add a script that generates a test workflow with needed paralellism,MERGED,2019-11-07 08:04:06.000000000,2019-11-12 09:14:13.000000000,2019-11-12 09:13:00.000000000,58,0,0,693308,0224b1eeeb3db78f5445e413d3c5a3a8c3c4bc57,18,6,2,1,8731,Renat Akhmerov,rakhmerov,"Add a script that generates a test workflow with needed paralellism

Change-Id: I6b1087f95b88a881e074a0af4f6f8be6d9413bc7
"
openstack%2Faodh~master~I90ebacd7ee9f1a6a941364c639ee4e3c10463f9a,openstack/aodh,master,ussuri,I90ebacd7ee9f1a6a941364c639ee4e3c10463f9a,Switch to Ussuri jobs,ABANDONED,2019-10-21 09:21:49.000000000,2019-11-12 09:02:32.000000000,,1,0,0,689696,5aedf2a15e382a2fd97e4b3ae30b3b25eef0c70c,6,2,2,1,27822,pengyuesheng,pengyuesheng,"Switch to Ussuri jobs

Change-Id: I90ebacd7ee9f1a6a941364c639ee4e3c10463f9a
"
openstack%2Foslo.utils~master~Ie7b5d5c83d95ded28898e08f7f6329d9b0858db6,openstack/oslo.utils,master,sphinx,Ie7b5d5c83d95ded28898e08f7f6329d9b0858db6,Blacklist sphinx 2.1.0 (autodoc bug),ABANDONED,2019-10-10 06:36:02.000000000,2019-11-12 08:59:21.000000000,,1,1,0,687793,94440e7c199b2cf46709b59c824adccfcca91e74,5,3,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Ie7b5d5c83d95ded28898e08f7f6329d9b0858db6
"
openstack%2Foslo.service~master~I85e7262cfd93db696da4f5d3c1717dd694284f01,openstack/oslo.service,master,sphinx,I85e7262cfd93db696da4f5d3c1717dd694284f01,Blacklist sphinx 2.1.0 (autodoc bug),ABANDONED,2019-10-10 06:33:33.000000000,2019-11-12 08:59:09.000000000,,1,1,0,687792,12db3be18e43e940e9ceffbc9a95b47ed7d96ccf,7,5,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I85e7262cfd93db696da4f5d3c1717dd694284f01
"
openstack%2Foslo.upgradecheck~master~I003a89190bdfd43ed47f2c5ee133690a92c93ac9,openstack/oslo.upgradecheck,master,sphinx,I003a89190bdfd43ed47f2c5ee133690a92c93ac9,Blacklist sphinx 2.1.0 (autodoc bug),ABANDONED,2019-10-10 06:32:18.000000000,2019-11-12 08:58:59.000000000,,1,1,0,687791,38a8d97b0eced006790df1466a18068c6519cbcc,4,2,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I003a89190bdfd43ed47f2c5ee133690a92c93ac9
"
openstack%2Foslo.reports~master~Ib25cb8e1ab2323cc2bce8ee8d7da78f252446aed,openstack/oslo.reports,master,sphinx,Ib25cb8e1ab2323cc2bce8ee8d7da78f252446aed,Blacklist sphinx 2.1.0 (autodoc bug),ABANDONED,2019-10-10 06:26:54.000000000,2019-11-12 08:58:46.000000000,,1,1,0,687789,698cb112e1b80919a11c118a3f2d4f677e4f3524,9,7,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Ib25cb8e1ab2323cc2bce8ee8d7da78f252446aed
"
openstack%2Foslo.privsep~master~Ibac6611798c4402ca791e2897fe3514d09270218,openstack/oslo.privsep,master,sphinx,Ibac6611798c4402ca791e2897fe3514d09270218,Blacklist sphinx 2.1.0 (autodoc bug),ABANDONED,2019-10-10 06:25:38.000000000,2019-11-12 08:58:35.000000000,,1,1,0,687788,46cd7ec181c3d77bebd575388828c491cdb65268,4,2,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Ibac6611798c4402ca791e2897fe3514d09270218
"
openstack%2Foslo.policy~master~Idbce4141a03b09f97a6e49499a117df3ae2e191d,openstack/oslo.policy,master,sphinx,Idbce4141a03b09f97a6e49499a117df3ae2e191d,Blacklist sphinx 2.1.0 (autodoc bug),ABANDONED,2019-10-10 06:24:43.000000000,2019-11-12 08:58:23.000000000,,1,1,0,687786,db74975f431cb33eefe0f459f1ecf428bfa2e799,6,4,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Idbce4141a03b09f97a6e49499a117df3ae2e191d
"
openstack%2Fopenstack-helm-images~master~I10bf805bc8793d1865d566c35015541ff4d1d31d,openstack/openstack-helm-images,master,sphinx,I10bf805bc8793d1865d566c35015541ff4d1d31d,Sync Sphinx requirement,ABANDONED,2019-10-09 09:17:58.000000000,2019-11-12 08:57:55.000000000,,2,1,0,687506,f9ca8d7ecb9559b1e5c73ea13bd214ed6e50e81b,3,1,1,1,27822,pengyuesheng,pengyuesheng,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I10bf805bc8793d1865d566c35015541ff4d1d31d
"
openstack%2Fhorizon~master~Ibd9abbb449418fdbc160541a1428493442f31d9a,openstack/horizon,master,bug/1813106,Ibd9abbb449418fdbc160541a1428493442f31d9a,Add a prompt on the Create Image form,ABANDONED,2019-01-24 05:55:57.000000000,2019-11-12 08:52:34.000000000,,11,3,4,632933,ea564fc7766789c27682caf0b3586f4f69441ed6,10,6,3,1,27822,pengyuesheng,pengyuesheng,"Add a prompt on the Create Image form

on create image form,
do not enter the min disk and min ram, no error message shown

Change-Id: Ibd9abbb449418fdbc160541a1428493442f31d9a
Closes-Bug: #1813106
"
openstack%2Fcinder~master~Icfb96930a5b9447550ad26b6bf5b80ab8176eb26,openstack/cinder,master,unuse_helper_1,Icfb96930a5b9447550ad26b6bf5b80ab8176eb26,Remove unused helpers,ABANDONED,2019-08-13 07:56:44.000000000,2019-11-12 08:32:17.000000000,,0,54,1,676127,9ea0fd3ce260d3be549277daa3a77f22659229af,102,35,3,4,20190,zhufl,zhufl,"Remove unused helpers

1. _volume_type_ref_get is no longer used after d35f54c70f09d38f32e95faa015f4ac4ccac8a7d
2. get_snapshot_metadata_value is no longer used after ccffe1edf88a7dc6fe146841c3fa72bb5c522fab
3. snapshot_remote_attachable is no longer used after 763dd8cdc5c48b7771d081dcd8b9e37a8f6c0a71
4. _get_storage_pool_name is no longer used after 7fb9b430eea0538e42dadbcab35f93979c667c64

This is to remove them for code clean.

Change-Id: Icfb96930a5b9447550ad26b6bf5b80ab8176eb26
"
openstack%2Fcinder~master~I4ca1800363078da1869c48ac817ef9ca4a033d60,openstack/cinder,master,unuse_helper_select_ddr_poolnumber,I4ca1800363078da1869c48ac817ef9ca4a033d60,[Trivial]Remove never used helpers,ABANDONED,2019-08-13 08:25:16.000000000,2019-11-12 08:31:18.000000000,,0,79,5,676130,81b7e4f2f1b1f138363f88039f78b34100b84d5f,81,30,4,5,20190,zhufl,zhufl,"[Trivial]Remove never used helpers

1. _select_ddr_poolnumber is never used after it's created in
cb668cb656f596f0a39de2673cfb9ce7d6aff626.
2. _cinder_volume_name_from_drbd_resource is never used after it's
created in 8c04a9a92263d771741f03f003b1a6ee6d4be73c.
3. remove_group_type_access and add_group_type_access are never used
after they are created in 8cf9786e00e47421bf96fbc76f0b9b4ec8605540.

This is to remove them for code clean.

Change-Id: I4ca1800363078da1869c48ac817ef9ca4a033d60
"
openstack%2Fneutron~master~Ia9b467d201e2def7046465746a65b4a15f2b462a,openstack/neutron,master,osprofiler,Ia9b467d201e2def7046465746a65b4a15f2b462a,Pass trace info through ovs-agent when received in vif plug,ABANDONED,2019-06-20 15:13:04.000000000,2019-11-12 08:18:53.000000000,,135,23,18,666610,2a685c7793aa59d644094a40a15739e63597758f,62,9,9,5,15554,Bence Romsics,ebenrom,"Pass trace info through ovs-agent when received in vif plug

This change is a step in the direction of profiling a vif plug end to
end with osprofiler.

ovs-agent and osprofiler don't work well together. osprofiler works
best when a thread is spawned (eventlet or not) for a request on a
single object. But ovs-agent processes many objects in an overlapping
non-threaded infinite loop. So if we had initialized a thread local
profiler in ovs-agent then we would start profiling many things
unintended.

Therefore in this change we do not leave the profiler initialized
for a significant time, we only pass through the arguments for it.
We receive the trace info (from nova/os-vif) in the vif plug (encoded
in the external_ids of the integration bridge). We send the trace
info on (to neutron-server) in the first relevant update_device_*
rpc message. That seems to be a good approximation of when ovs-agent
finished processing a port. This way we won't generate a single trace
point from ovs-agent. But we'll have a trace point shortly before nova
plugs the vif, for example from:

nova.virt.libvirt.vif.LibvirtGenericVIFDriver.plug

And another trace point shortly after ovs-agent calls back to
neutron-server to update the ports status to something final (like
ACTIVE) e.g.:

neutron.plugins.ml2.rpc.update_device_list

You can search for these method names in the json trace report
generated by 'openstack server create --os-profile ...' and
queried by 'osprofiler trace show --json ...'.

By that we have measured (at least an upper bound of) the total time
spent in ovs-agent and we also get to continue profiling other
components coming after ovs-agent.

We expect os-vif to encode the trace info into the external_ids
of the integration bridge. Technically this change does not depend
on the related os-vif change, but you have to take both changes to
pass profiler info through the vif plug. Without the os-vif change
this change should be a no-op. The os-vif change does not have a
hard dependency on this change, however we should merge the change
consuming trace info external_ids first and the change producing trace
info external_ids second, otherwise we'll have unconsumed external_ids
accumulating on the integration bridge.

The current way of passing the trace info in the integration bridge's
external_ids is clearly suboptimal. It would be way better if we could
pass it in the relevant port's external_ids. However that's currently
not possible because libvirt unconditionally deletes and re-creates
the ovs port at vif plug, therefore we lose the port's external_ids
(except the external_ids libvirt re-adds).

Together with https://review.opendev.org/666532 merged before
the trace info is now propagated back to nova in the HTTP
headers (X-Trace-*) of the network-vif-plugged event POSTed to
/compute/v2.1/os-server-external-events. At the moment nova does not
seem to produce a trace point triggered by that, however that needs
to be handled in a follow up change in nova.

Change-Id: Ia9b467d201e2def7046465746a65b4a15f2b462a
Needed-By: https://review.opendev.org/665715
Partial-Bug: #1833674
Related-Change: https://review.opendev.org/666532
"
openstack%2Fsearchlight-specs~master~I7ed905e7276c37d56c7449f4d5a885f3909dc48e,openstack/searchlight-specs,master,dev,I7ed905e7276c37d56c7449f4d5a885f3909dc48e,Add python 3 ussuri jobs,MERGED,2019-11-12 07:05:23.000000000,2019-11-12 07:34:44.000000000,2019-11-12 07:32:23.000000000,1,1,0,693776,b0e5b767f08c24b89670203d6a13cc7e6469503e,7,2,1,1,23317,ShangXiao,ShangXiao,"Add python 3 ussuri jobs

Change-Id: I7ed905e7276c37d56c7449f4d5a885f3909dc48e
"
openstack%2Fkarbor~master~I769134524cb47ada83649121e231d337a2dc0db0,openstack/karbor,master,api-doc-services,I769134524cb47ada83649121e231d337a2dc0db0,Add services api doc,MERGED,2019-11-11 13:43:38.000000000,2019-11-12 07:22:19.000000000,2019-11-12 07:20:26.000000000,231,0,0,693697,e75309d792e8124f2c471a1340bcf58c7feb702b,12,3,3,6,21224,jiaopengju,jiaopengju,"Add services api doc

Change-Id: I769134524cb47ada83649121e231d337a2dc0db0
Story: 2006807
Task: 37357
"
openstack%2Fpython-muranoclient~master~I6b47afc8d4c9a38b2001a2842ff9052e7c58746f,openstack/python-muranoclient,master,dev,I6b47afc8d4c9a38b2001a2842ff9052e7c58746f,Switch to Ussuri jobs,ABANDONED,2019-11-12 06:56:40.000000000,2019-11-12 06:56:57.000000000,,1,1,0,693775,a5b53514b3fce46bf28351199b3ee41a00da7d9d,2,0,1,1,23317,ShangXiao,ShangXiao,"Switch to Ussuri jobs

Change-Id: I6b47afc8d4c9a38b2001a2842ff9052e7c58746f
"
openstack%2Fneutron-tempest-plugin~master~I000563643d4a157102f5dd09cb2e855fb406a712,openstack/neutron-tempest-plugin,master,train-release,I000563643d4a157102f5dd09cb2e855fb406a712,Add stable/train jobs definitions,MERGED,2019-09-27 07:34:32.000000000,2019-11-12 06:49:38.000000000,2019-11-12 06:49:38.000000000,178,8,13,685213,047a0207761c1d734b957da078254a01bd68e9a4,69,11,7,1,11975,Slawek Kaplonski,slaweq,"Add stable/train jobs definitions

This patch adds train jobs definitions to be run on stable/train branch.
It also reorders some definitions for stable branches to be in
chronological order.

Change-Id: I000563643d4a157102f5dd09cb2e855fb406a712
"
openstack%2Ftripleo-heat-templates~master~Ia03e6e8e913198b315c47982c14ed52569ec702c,openstack/tripleo-heat-templates,master,upgrades/mysql,Ia03e6e8e913198b315c47982c14ed52569ec702c,Correct mysql-pacemaker upgrade task,MERGED,2019-11-07 08:47:59.000000000,2019-11-12 06:42:00.000000000,2019-11-11 14:27:04.000000000,7,5,8,693317,8b07a2259bc7e06e1423ee99a411b873dfe98937,36,10,6,1,28223,Cedric Jeanneret,cjeanner,"Correct mysql-pacemaker upgrade task

There were two issues in the mysql-pacemaker upgrade tasks:

- SELinux: since we're using podman, we have proper selinux enforcing on
  the system and proper selinux separation for the containers. Some
  volumes were lacking the ""z"" flag, making them unaccessible

- Since we're on podman, we have to correct the ""log-driver"" in the
  command. This allow to get a dedicated log for debug purpose.

Change-Id: Ia03e6e8e913198b315c47982c14ed52569ec702c
Closes-Bug: #1851617
Resolves: rhbz#1769291
"
openstack%2Fmagnum~master~I2fb1c27dd58f9680f054ea9e2a1ddf02f632f034,openstack/magnum,master,,I2fb1c27dd58f9680f054ea9e2a1ddf02f632f034,Switch to Ussuri jobs,ABANDONED,2019-10-28 06:57:46.000000000,2019-11-12 06:27:09.000000000,,1,1,0,691616,f1b75e013dc581da3c27115be61eb068133922bd,4,2,1,1,30407,haixin,haixin,"Switch to Ussuri jobs

Change-Id: I2fb1c27dd58f9680f054ea9e2a1ddf02f632f034
"
openstack%2Fnetworking-ovn~master~Ibc7cef66bb66046bbf0c391d9edd23ce459c9dbf,openstack/networking-ovn,master,bug/1790900,Ibc7cef66bb66046bbf0c391d9edd23ce459c9dbf,Fix DHCP failure of vm with sg which has no rule,ABANDONED,2019-05-05 01:34:03.000000000,2019-11-12 06:00:22.000000000,,132,0,0,657179,f53af220213c5d908e5832fbbe0e868bb9cf1ef8,4,4,1,3,29874,Taoyunxiang,Yunxiang,"Fix DHCP failure of vm with sg which has no rule

This patch is adding acl rule in 'ls_in_acl' table of logical flow
to allow dhcp traffic.Even a vm with sg has no rule can also get its
offered ip address.

Change-Id: Ibc7cef66bb66046bbf0c391d9edd23ce459c9dbf
Related-Bug: #1790900
"
openstack%2Fnetworking-ovn~stable%2Fpike~Ib68226407180bd13efeb0cd94014a59f663405b8,openstack/networking-ovn,stable/pike,bug/1708594,Ib68226407180bd13efeb0cd94014a59f663405b8,Backport Patch to fix sync failure of acl rules,ABANDONED,2019-03-11 02:00:45.000000000,2019-11-12 06:00:03.000000000,,81,27,0,642310,d6685278d297538d6efacbf0bb96be21ddf63345,6,2,2,10,29874,Taoyunxiang,Yunxiang,"Backport Patch to fix sync failure of acl rules

New fields 'name' and 'severity' added in OVN ACL table for logging
purpose. The reason cause this failure is when netwoking-ovn try to
compare the neutron_acls and ovn_nb_acls, the ovn_nb_acls which has
'name' and 'severity' will never be the same with neutron_acls.

So,when we do sync firstly, neutron will add acls from it's acl_list
,after then, ovn will delete all acls from ovsdb. Then the result of
'ovn-nbctl list acl' is empty.

when we do sync secondly,neutron will find acls of ovn is none,so
add the neutron_acls to ovn_nb_acls in ovsdb.

The above results will alternate.

The method to accomplish the patch is to add 'name' or 'severity'
to neutron_acls or delete 'name' or 'severity' from ovn_nb_acls.

This patch[0] which is prepared for another bug(bug 1708594) also
could repaired this bug,so i will backport it to the pike version
of networking-ovn.

[0] e951289b3664851e64952b31ff70043a01dd2cb0

Change-Id: Ib68226407180bd13efeb0cd94014a59f663405b8
"
openstack%2Fnetworking-ovn~stable%2Fpike~I37899495468761e87388572400cc861092553071,openstack/networking-ovn,stable/pike,bug/1708594,I37899495468761e87388572400cc861092553071,Backport Patch to fix sync failure of acl rules,ABANDONED,2019-03-08 10:06:25.000000000,2019-11-12 05:59:48.000000000,,70,26,0,641976,75c6f20ede15161c95cdc05982ff9f7ca3273db6,5,2,1,9,29874,Taoyunxiang,Yunxiang,"Backport Patch to fix sync failure of acl rules

New fields 'name' and 'severity' added in OVN ACL table for logging
purpose. The reason cause this failure is when netwoking-ovn try to
compare the neutron_acls and ovn_nb_acls, the ovn_nb_acls which has
'name' and 'severity' will never be the same with neutron_acls.

So,when we do sync firstly, neutron will add acls from it's acl_list
,after then, ovn will delete all acls from ovsdb. Then the result of
'ovn-nbctl list acl' is empty.

when we do sync secondly,neutron will find acls of ovn is none,so
add the neutron_acls to ovn_nb_acls in ovsdb.

The above results will alternate.

The method to accomplish the patch is to add 'name' or 'severity'
to neutron_acls or delete 'name' or 'severity' from ovn_nb_acls.

This patch[0] which is prepared for another bug(bug 1708594) also
could repaired this bug,so i will backport it to the pike version
of networking-ovn.

[0] e951289b3664851e64952b31ff70043a01dd2cb0

Change-Id: I37899495468761e87388572400cc861092553071
"
openstack%2Fnetworking-ovn~master~I464e31530f22e7555d04ad20423bf50195e12592,openstack/networking-ovn,master,,I464e31530f22e7555d04ad20423bf50195e12592,Fix synchronization failure of acl rules,ABANDONED,2019-02-15 02:26:48.000000000,2019-11-12 05:59:23.000000000,,9,5,0,637114,5e2223c824abe325c50cb5e94172a9c7ddc20113,3,1,1,2,29874,Taoyunxiang,Yunxiang,"Fix synchronization failure of acl rules

Fix the problem of parameters mismatch of acl rule between neutron
and nb, in the process  of neutron and ovn's db synchronization
(nb's acl has more 'severity' and 'name' attributes),
resulting in wrong synchronization.The cmd of synchronization
is 'neutron-ovn-db-sync-util --config-file /etc/neutron/neutron.conf
--config-file /etc/neutron/plugins/ml2/ml2_conf.ini
--ovn-neutron_sync_mode repair'

Change-Id: I464e31530f22e7555d04ad20423bf50195e12592
"
openstack%2Fnetworking-ovn~stable%2Fpike~I1472accf2f7482e766de1ee595cd0b989406911f,openstack/networking-ovn,stable/pike,pike,I1472accf2f7482e766de1ee595cd0b989406911f,Modify the wrong link of ovn-sb.xml,ABANDONED,2019-02-01 07:43:35.000000000,2019-11-12 05:58:34.000000000,,1,1,3,634375,a925e9a1a8358c66cf6c4841266a2bc0f2ab0021,15,4,4,1,29874,Taoyunxiang,Yunxiang,"Modify the wrong link of ovn-sb.xml

The current link to ovn-sb.xml is an empty connection and cannot be
browsed. Modify the link to ovn-sb.xml to the master branch of ovs
that corresponds to the pike version in openstack.

Change-Id: I1472accf2f7482e766de1ee595cd0b989406911f
"
openstack%2Fdevstack~master~I62642c01056916b1a4d41091ee10c97a8d2c5705,openstack/devstack,master,,I62642c01056916b1a4d41091ee10c97a8d2c5705,Fix the failure of compiling real_install,ABANDONED,2019-05-30 09:06:10.000000000,2019-11-12 05:56:38.000000000,,3,3,2,662163,496314cc01b074e8776d6da72152e7bffb9b1f0d,12,3,4,1,29874,Taoyunxiang,Yunxiang,"Fix the failure of compiling real_install

Change-Id: I62642c01056916b1a4d41091ee10c97a8d2c5705
"
openstack%2Fneutron~stable%2Ftrain~I2d8693145da72825876b951f2d10afe9ca28ff6e,openstack/neutron,stable/train,bug/1849676,I2d8693145da72825876b951f2d10afe9ca28ff6e,Increase timeout when waiting for dnsmasq enablement,MERGED,2019-10-31 14:20:32.000000000,2019-11-12 05:47:14.000000000,2019-11-12 05:43:53.000000000,1,1,0,692376,44c838e25f8d85063cca52c9581c423539604f6c,41,6,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Increase timeout when waiting for dnsmasq enablement

In the reported bug, a regression was introduced in [1] when limiting
the time to have a ""dnsmasq"" process enabled. It has been reported, as
documented in the bug, that in older versions (Queens), using Python 2
[2] and older versions of ""ip_lib"" (not implementing most of the
commands using Pyroute2), that the time needed to spawn a ""dnsmasq""
process exceeds the default 60 seconds defined in
""common_utils.wait_until_true"".

This patch increases this time by a reasonable 300 seconds.

[1] https://review.opendev.org/#/c/643732
[2] https://bugs.python.org/issue35757

Change-Id: I2d8693145da72825876b951f2d10afe9ca28ff6e
Closes-Bug: #1849676
(cherry picked from commit aedc09917680bc77501f4b57142e73768e3d06ad)
"
openstack%2Fneutron~stable%2Ftrain~I691300a4e9a7cccd8887bc8f95ba9cea32988bac,openstack/neutron,stable/train,bug/1850558-stable/train,I691300a4e9a7cccd8887bc8f95ba9cea32988bac,Set rootwrap daemon timeout for fullstack and functional tests,MERGED,2019-11-04 09:51:09.000000000,2019-11-12 05:45:47.000000000,2019-11-12 05:43:47.000000000,4,0,0,692788,6236d78a4a60eb5f56f218b1e6aa83bb307ba0c5,12,6,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Set rootwrap daemon timeout for fullstack and functional tests

Set a big timeout for rootwrap daemon in functional and fullstack
tests. The value defined in 7800, the same as the Zuul jobs
timeout.

This timeout increase will prevent the daemon to close when
executing a test root command, as described in the bug. An
unexpected rootwrap daemon closure is not considered as a normal
event during the test execution.

The default value set in the configuration file is 600 seconds, the
same as daemon default value. This timeout is increased only when
OS_SUDO_TESTING=1, that means functional and fullstack tests, when
using the script ""tools/deploy_rootwrap.sh"".

Change-Id: I691300a4e9a7cccd8887bc8f95ba9cea32988bac
Closes-Bug: #1850558
(cherry picked from commit 721887305038fe4449083eb6c33f355232c73555)
"
openstack%2Fneutron~stable%2Fstein~I691300a4e9a7cccd8887bc8f95ba9cea32988bac,openstack/neutron,stable/stein,bug/1850558-stable/train-stable/stein,I691300a4e9a7cccd8887bc8f95ba9cea32988bac,Set rootwrap daemon timeout for fullstack and functional tests,MERGED,2019-11-04 09:51:19.000000000,2019-11-12 05:45:20.000000000,2019-11-12 05:43:50.000000000,4,0,0,692789,57ec2f460f1b740585c6e68ee754bc0e4b9dd26c,11,6,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Set rootwrap daemon timeout for fullstack and functional tests

Set a big timeout for rootwrap daemon in functional and fullstack
tests. The value defined in 7800, the same as the Zuul jobs
timeout.

This timeout increase will prevent the daemon to close when
executing a test root command, as described in the bug. An
unexpected rootwrap daemon closure is not considered as a normal
event during the test execution.

The default value set in the configuration file is 600 seconds, the
same as daemon default value. This timeout is increased only when
OS_SUDO_TESTING=1, that means functional and fullstack tests, when
using the script ""tools/deploy_rootwrap.sh"".

Change-Id: I691300a4e9a7cccd8887bc8f95ba9cea32988bac
Closes-Bug: #1850558
(cherry picked from commit 721887305038fe4449083eb6c33f355232c73555)
"
openstack%2Ftripleo-quickstart~master~Icb49b2baa4835463995c952a35c231698a795f6b,openstack/tripleo-quickstart,master,fs01_rhel8,Icb49b2baa4835463995c952a35c231698a795f6b,Adapt os_tempest in FS001,MERGED,2019-07-30 05:04:06.000000000,2019-11-12 04:48:37.000000000,2019-10-08 13:27:16.000000000,53,1,19,673400,a40813e388bdfb2a84742a7693a87ba2989e1e4e,179,9,46,1,12393,chandan kumar,chkumar246,"Adapt os_tempest in FS001

Since os_tempest ansible role is the defacto standard for
running tempest in TripleO in the favor of validate-tempest.

It modifies the FS001 to run os_tempest on master release and
validate-tempest on older release.

https://tree.taiga.io/project/tripleo-ci-board/task/1204

Change-Id: Icb49b2baa4835463995c952a35c231698a795f6b
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Co-Authored-by: Arx Cruz <arxcruz@gmail.com>
"
openstack%2Fkolla-ansible~master~I49b24545501085d5a44f4de73f0c6dd21e06e2a0,openstack/kolla-ansible,master,bug/1835501,I49b24545501085d5a44f4de73f0c6dd21e06e2a0,Collect rabbitmq logs by fluentd,MERGED,2019-11-05 10:48:09.000000000,2019-11-12 04:14:06.000000000,2019-11-11 16:36:33.000000000,3,4,1,692976,bf979282a1bf31a4897e007589e029ba92d2b40a,19,8,1,1,22206,Lev Klimin,lklimin,"Collect rabbitmq logs by fluentd

Change-Id: I49b24545501085d5a44f4de73f0c6dd21e06e2a0
Closes-Bug: #1835501
"
openstack%2Fironic-lib~master~Ib35683896f909a9cd88f88bb8170d8cde74364bd,openstack/ironic-lib,master,integration_py3,Ib35683896f909a9cd88f88bb8170d8cde74364bd,Add equivalent py3 jobs,MERGED,2019-11-01 14:09:41.000000000,2019-11-12 04:09:24.000000000,2019-11-12 04:07:29.000000000,23,5,3,692548,d95114eef743fce48a72a267161c8948c9c52484,13,5,1,2,15519,Iury Gregory Melo Ferreira,iurygregory,"Add equivalent py3 jobs

This patch adds two new py3 jobs to cover the following py2 jobs:
- ironic-lib-partition-bios-ipmi-direct-tinyipa-src-python2
- ironic-lib-wholedisk-bios-ipmi-direct-tinyipa-src-python2

Also dropping unecessary variable `USE_PYTHON3` in the base job
that uses ironic-base.

Change-Id: Ib35683896f909a9cd88f88bb8170d8cde74364bd
"
openstack%2Foslo.messaging~master~I51c8f2743dd39cccd3d1d021d3c50dc09f70cd97,openstack/oslo.messaging,master,bug/1847747,I51c8f2743dd39cccd3d1d021d3c50dc09f70cd97,Add RPC incoming and reply log,MERGED,2019-10-11 15:27:12.000000000,2019-11-12 04:01:00.000000000,2019-11-12 03:59:43.000000000,21,1,0,688147,b104f254ab43d5e2589e845eff84b1bd096cb42d,25,10,3,3,9531,liuyulong,LIU-Yulong,"Add RPC incoming and reply log

Typically a simple log will not narrow down the
performance, but give us more information about
the service status.

Change-Id: I51c8f2743dd39cccd3d1d021d3c50dc09f70cd97
Closes-Bug: #1847747
"
openstack%2Fwatcher~master~If2bbfd8ae6d1fc75cbc494578310c1dc03c367e6,openstack/watcher,master,,If2bbfd8ae6d1fc75cbc494578310c1dc03c367e6,tox: Keeping going with docs,MERGED,2019-10-24 00:42:37.000000000,2019-11-12 03:26:52.000000000,2019-11-12 03:25:16.000000000,6,6,0,690773,7d2191d4e61d686b77edc27ef8f7332cfa7fe213,11,3,3,2,28614,jacky06,jacky06,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: If2bbfd8ae6d1fc75cbc494578310c1dc03c367e6
"
openstack%2Fwatcher-specs~master~Idf36ca3214dabc899cfdc7e5af20f29b8b86f4c3,openstack/watcher-specs,master,,Idf36ca3214dabc899cfdc7e5af20f29b8b86f4c3,tox: Keeping going with docs,MERGED,2019-10-24 00:56:09.000000000,2019-11-12 02:41:57.000000000,2019-11-12 02:40:43.000000000,11,7,0,690776,29312926f0b5072891383c18bc8976a3caf5a09f,10,3,2,2,28614,jacky06,jacky06,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Idf36ca3214dabc899cfdc7e5af20f29b8b86f4c3
"
openstack%2Ftripleo-heat-templates~master~I48252fc7f6c4ca4ec11d8deb1e8ddcd33efbd03a,openstack/tripleo-heat-templates,master,690450,I48252fc7f6c4ca4ec11d8deb1e8ddcd33efbd03a,Remove deployed-server-roles-data.yaml,MERGED,2019-10-23 00:00:28.000000000,2019-11-12 02:02:27.000000000,2019-11-12 02:00:53.000000000,6,414,0,690450,013f6ca2dc04b715a2e7b8a7905608dd8be4c680,33,7,4,2,7144,James Slagle,slagle,"Remove deployed-server-roles-data.yaml

This patch removes the roles file that was previously used with
deployed-server at deployed-server/deployed-server-roles-data.yaml. It
was deprecated in train and is now removed in ussuri.

Depends-On: I55cb5fc4a069dc3829eb7e0b4ae6c9bc37094740
Change-Id: I48252fc7f6c4ca4ec11d8deb1e8ddcd33efbd03a
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I715ed03ddd961bfc6a4ff3693afa7e1dae4687c6,openstack/tripleo-heat-templates,stable/queens,,I715ed03ddd961bfc6a4ff3693afa7e1dae4687c6,Run nova_api unprivileged,MERGED,2019-10-31 10:54:26.000000000,2019-11-12 00:42:49.000000000,2019-11-12 00:42:49.000000000,1,1,0,692329,389d58f97ca6ca468bd2783e17d6e45616e6f66f,11,6,1,1,14250,Grzegorz Grasza,xek,"Run nova_api unprivileged

Running it privileged is no longer necessary and bad for security.

Resolves: rhbz#1767388

Change-Id: I715ed03ddd961bfc6a4ff3693afa7e1dae4687c6
(cherry picked from commit 268aad2258dda4c4eff6a6a3173aa0ab1c36e781)
(cherry picked from commit 80133ccb83165611acbf94af1ff54449e839efa1)
"
openstack%2Fopenstack-helm-infra~master~Id287ddae8904d2cfa88725277bb97cf027a942c3,openstack/openstack-helm-infra,master,py-cleanup,Id287ddae8904d2cfa88725277bb97cf027a942c3,Clean up python script,MERGED,2019-10-09 18:00:57.000000000,2019-11-12 00:28:32.000000000,2019-11-12 00:27:31.000000000,17,16,0,687641,b4a422a79812194eb9541bbc5d19c53866e0737b,37,11,8,1,20466,Tin Lam,tinlam,"Clean up python script

Trivial change. This patch set cleans up a python script.

- Move the comment to a helm-template comment so the python comments do
not get rendered by helm.
- Remove an unused python module.

Change-Id: Id287ddae8904d2cfa88725277bb97cf027a942c3
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ied2543e7aa9646eec83f168e862b281f59720b9a,openstack/tripleo-heat-templates,stable/train,remove odl-stable/train,Ied2543e7aa9646eec83f168e862b281f59720b9a,Remove odl in ComputeSriovIB,MERGED,2019-11-11 17:37:40.000000000,2019-11-12 00:13:32.000000000,2019-11-12 00:13:32.000000000,0,1,0,693733,f27938660ce479009c6ca8565592578952a89591,7,4,1,1,16690,Noam Angel,noama,"Remove odl in ComputeSriovIB

Change-Id: Ied2543e7aa9646eec83f168e862b281f59720b9a
(cherry picked from commit 8a10389fbaee96b500582f06e423ff301c5440ab)
"
openstack%2Fopenstack-ansible-os_keystone~master~Icb21c31141d1d78e5a2e23b35378ffb0520c0d1d,openstack/openstack-ansible-os_keystone,master,Offline_repo,Icb21c31141d1d78e5a2e23b35378ffb0520c0d1d,Add possibility to overwrite public repo,MERGED,2019-11-04 19:10:53.000000000,2019-11-11 23:02:50.000000000,2019-11-11 16:33:51.000000000,13,7,3,692872,33b165bcc45002cf187b524a5925962c1236260c,27,4,6,3,23182,kourosh vivan,KouroshVivan,"Add possibility to overwrite public repo

For Centos, we use by default public repo for nginx and shibboleth. You can
change this behaviour with these role-wide variables:
- keystone_centos_nginx_mirror
- keystone_centos_nginx_key
- keystone_centos_shibboleth_mirror
- keystone_centos_shibboleth_key

Or with these osa-wide variables:
- centos_nginx_mirror
- centos_nginx_key

Change-Id: Icb21c31141d1d78e5a2e23b35378ffb0520c0d1d
"
openstack%2Fopenstack-ansible-repo_server~stable%2Fstein~I8dcb3c97e9593877a4a420bd32b50ae29d9d311c,openstack/openstack-ansible-repo_server,stable/stein,Offline_repo-stable/stein,I8dcb3c97e9593877a4a420bd32b50ae29d9d311c,Add possibility to overwrite nginx public repo,ABANDONED,2019-11-08 09:47:33.000000000,2019-11-11 23:02:13.000000000,,6,4,0,693508,59f46c5e67c98f5beaf43194f794a350d7e0cc24,6,4,1,3,23182,kourosh vivan,KouroshVivan,"Add possibility to overwrite nginx public repo

For Centos, we use by default public repo for nginx. You can change this
behaviour with these role-wide variables:
- repo_centos_nginx_mirror
- repo_centos_nginx_key

Or with these osa-wide variables:
- centos_nginx_mirror
- centos_nginx_key

Change-Id: I8dcb3c97e9593877a4a420bd32b50ae29d9d311c
(cherry picked from commit bd8a24716c519badc985aceb08d00b113ab5f857)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia03e6e8e913198b315c47982c14ed52569ec702c,openstack/tripleo-heat-templates,stable/train,upgrades/mysql-stable/train,Ia03e6e8e913198b315c47982c14ed52569ec702c,Correct mysql-pacemaker upgrade task,MERGED,2019-11-11 14:58:37.000000000,2019-11-11 21:21:07.000000000,2019-11-11 21:21:07.000000000,7,5,0,693710,ef5e84f8ea7ace74912aad7a29eccfd3376c4ec0,10,6,1,1,28223,Cedric Jeanneret,cjeanner,"Correct mysql-pacemaker upgrade task

There were two issues in the mysql-pacemaker upgrade tasks:

- SELinux: since we're using podman, we have proper selinux enforcing on
  the system and proper selinux separation for the containers. Some
  volumes were lacking the ""z"" flag, making them unaccessible

- Since we're on podman, we have to correct the ""log-driver"" in the
  command. This allow to get a dedicated log for debug purpose.

Change-Id: Ia03e6e8e913198b315c47982c14ed52569ec702c
Closes-Bug: #1851617
Resolves: rhbz#1769291
(cherry picked from commit 8b07a2259bc7e06e1423ee99a411b873dfe98937)
"
openstack%2Fcinder~master~I0824fbecdd37623b9ddc8715a92fc6f540c45efe,openstack/cinder,master,add_attach_encryptor_for_detach,I0824fbecdd37623b9ddc8715a92fc6f540c45efe,Add attach_encryptor when do detach volume,NEW,2019-07-26 02:52:54.000000000,2019-11-11 19:57:21.000000000,,2,1,3,672846,52997291eafd0e1d746c6cf6155adfd8ae045e51,119,39,6,1,25837,yenai,yenai2008,"Add attach_encryptor when do detach volume

This bug was introduced from this patch:
  Retype encrypted volumes
  https://review.opendev.org/#/c/319078/
Now we just need to add this lost arg.

Closes-Bug: #1851628
Change-Id: I0824fbecdd37623b9ddc8715a92fc6f540c45efe
"
openstack%2Freleases~master~I1ce0af2ab2163ea1f154516229889b3cf8813ab6,openstack/releases,master,constraints-updates,I1ce0af2ab2163ea1f154516229889b3cf8813ab6,Allow upper-constraints redirect based on SHA,MERGED,2019-10-24 12:09:47.000000000,2019-11-11 19:56:44.000000000,2019-11-11 19:56:44.000000000,2,0,3,690940,529190ddfaa182d2bbe086cb61fdb7a6913afbe2,19,8,4,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Allow upper-constraints redirect based on SHA

This patch aims to make possible to provide SHA commit
for https://releases.openstack.org/constraints/upper/ URL
in addition to branch or tag. This is heavily used by OSA to be sure
that every time role is runned under some release it will install
the same package versions.
And to be consistent and use releases.openstack.org for contraints
not only in tox but in role itself this patch is needed.

Change-Id: I1ce0af2ab2163ea1f154516229889b3cf8813ab6
"
openstack%2Fos-brick~stable%2Ftrain~Ifc4dee0a51bafd6aa9865ec66c46c10087daa667,openstack/os-brick,stable/train,bug/1846483,Ifc4dee0a51bafd6aa9865ec66c46c10087daa667,Remove VxFlexOS connector external dependencies,MERGED,2019-10-29 18:01:38.000000000,2019-11-11 19:44:56.000000000,2019-11-11 19:43:49.000000000,132,72,0,691931,6a7b7a3a789ebaf4fca1a5febfc700e5be93b103,17,15,1,3,10379,Rajini Karthik,rajinir,"Remove VxFlexOS connector external dependencies

The OpenStack os-brick library uses hardcoded paths to binary files to
interact with the VxFlexOS SDC. This leads to problems when using
containerized OpenStack (Kolla & Red Hat). Due to the fact that VxFlexOS
SDC binary files has to be used inside containers (nova, cinder, etc.)
the overcloud deployment must be performed in 3 stages:
  1) deploy overcloud without additional volume mounts
  2) install the VxFlexOS client on the controller and compute nodes
  3) update overcloud with additional volume mounts

Using these changes overcloud can be deployed without update step after
initial deployment since os-brick does not have external dependencies
and uses python built-in libraries. The scini device through which the
VxFlexOS client interacts is presented in the containers by default
because /dev directory from the host is mounted in all containers.

Change-Id: Ifc4dee0a51bafd6aa9865ec66c46c10087daa667
Closes-Bug: #1846483
(cherry picked from commit 2d694361fe66736c59ca96a2a54c368638445de6)
"
openstack%2Fswift~master~I8e9b1a9dad35469d2608a1f4944520c06cacca0d,openstack/swift,master,,I8e9b1a9dad35469d2608a1f4944520c06cacca0d,Use internal delete_account in probe test,NEW,2019-11-08 02:50:15.000000000,2019-11-11 19:36:49.000000000,,14,11,5,693465,5e031fb4319d17c6dd35db49590275f1258ec58f,4,3,1,2,1179,Clay Gerrard,clay-gerrard,"Use internal delete_account in probe test

Change-Id: I8e9b1a9dad35469d2608a1f4944520c06cacca0d
"
openstack%2Fkolla-ansible~stable%2Ftrain~Icb73caa50a306d013af511c5de003b279edecb62,openstack/kolla-ansible,stable/train,create-train,Icb73caa50a306d013af511c5de003b279edecb62,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-11-11 15:41:24.000000000,2019-11-11 19:20:22.000000000,2019-11-11 19:17:36.000000000,5,5,0,693715,0efbf8c2489337d5334df9e4f22177bfe0ea922a,9,3,1,1,22816,OpenStack Release Bot,release,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Icb73caa50a306d013af511c5de003b279edecb62
"
openstack%2Fkolla-ansible~stable%2Ftrain~I09d55e9fe5f2784b79d4b27ee5f1cdee5e327bc1,openstack/kolla-ansible,stable/train,create-train,I09d55e9fe5f2784b79d4b27ee5f1cdee5e327bc1,Update .gitreview for stable/train,MERGED,2019-11-11 15:41:18.000000000,2019-11-11 19:19:14.000000000,2019-11-11 19:17:36.000000000,1,0,0,693714,40178a974f806d1e3abceea6ebb3fee1a2b571eb,8,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/train

Change-Id: I09d55e9fe5f2784b79d4b27ee5f1cdee5e327bc1
"
openstack%2Fopenstack-ansible-os_zun~master~I69044a13106f16bbbef8ae83e79a08aa127a7d2a,openstack/openstack-ansible-os_zun,master,simplify_configs,I69044a13106f16bbbef8ae83e79a08aa127a7d2a,Start using uWSGI role,MERGED,2019-11-07 14:13:45.000000000,2019-11-11 18:45:44.000000000,2019-11-11 18:43:57.000000000,58,3,0,693357,bc39aac81b58bf60a44ce051d1820fce44771a81,22,6,7,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Start using uWSGI role

Move service to use uWSGI role instead of internal python daemon.
This aims to unify deployments by using uwsgi for all services
api which support using them as wsgi applications.

Depends-On: https://review.opendev.org/693528
Change-Id: I69044a13106f16bbbef8ae83e79a08aa127a7d2a
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ibd64ac1407333c1548261f9d2ae69cdf013e94ce,openstack/tripleo-heat-templates,stable/queens,queens_upgrade_ovs2_11,Ibd64ac1407333c1548261f9d2ae69cdf013e94ce,Handle LP openvswitch meta-package on upgrade,MERGED,2019-10-22 15:51:04.000000000,2019-11-11 18:31:04.000000000,2019-11-11 18:31:04.000000000,211,123,1,690114,789e7b96c42a62ccdbdcf13b79bbcf5410f875cf,33,8,5,6,18575,Saravanan KR,saravanankr,"Handle LP openvswitch meta-package on upgrade

With layered product packaging upgrading openvswitch may involve a
package rename of the openvswitch package (e.g. openvswitch to
openvswitch 2.10 or openvswitch2.12 to openvswitch2.13) This patch
adds special handling for the rhosp-openvswitch layered product package
to ensure that openvswitch networking remains available during the
upgrade.

Note that this patch also moves the special upgrade logic to
tripleo-packages because it could affect any node that is running
openvswitch for host networking, not just those that are using it for
cloud workloads.

Incorporated I3a9f56217bb365b844acdf1d65776038c5bf9378 ansible fix.

Closes-Bug: #1794359

Change-Id: Ibd64ac1407333c1548261f9d2ae69cdf013e94ce
(cherry picked from commit 1773afb0689c8fded9bce2dff4c1f8d9406c8294)
(cherry picked from commit e81010375e847cbb58a88cd6f35643dfc0eec7f6)
"
openstack%2Fpython-tripleoclient~master~I8bd9f4c4512279a291963d0b6df62316e7410f2b,openstack/python-tripleoclient,master,mistral-removal,I8bd9f4c4512279a291963d0b6df62316e7410f2b,Drop Mistral support for the Validations CLI,MERGED,2019-11-06 13:07:16.000000000,2019-11-11 18:17:49.000000000,2019-11-11 18:16:06.000000000,6,176,0,693176,c6616f8d96013bd5f5ccfec54e3eb2b37fd7884b,20,8,4,5,11491,Gael Chamoulaud,gchamoul,"Drop Mistral support for the Validations CLI

This patch removes the possibility to run the validations through the
CLI with Mistral. Ansible is now the only way to run the validations.

Change-Id: I8bd9f4c4512279a291963d0b6df62316e7410f2b
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~Id93a8637980276298c2b7d3f6d1e7c30f1c413be,openstack/tripleo-heat-templates,master,,Id93a8637980276298c2b7d3f6d1e7c30f1c413be,Added the ability to disable Mellanox SDN sync,MERGED,2019-11-07 12:56:49.000000000,2019-11-11 18:16:10.000000000,2019-11-11 18:16:10.000000000,5,0,0,693348,ccf3f0b586baa689174226d51c9fe0ce970255ac,19,8,1,2,22948,Hamdy Khader,hamdyk,"Added the ability to disable Mellanox SDN sync

Added the ability to disable Mellanox SDN sync by using param `MlnxSDNSyncEnabled`
from file `neutron-ml2-mlnx-sdn.yaml`

Change-Id: Id93a8637980276298c2b7d3f6d1e7c30f1c413be
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1d24dce0ff9c88380e8769593d619a9e4e944e40,openstack/tripleo-heat-templates,stable/train,,I1d24dce0ff9c88380e8769593d619a9e4e944e40,Define ovn_dbs_image fact for upgrades.,MERGED,2019-11-08 07:06:18.000000000,2019-11-11 18:16:09.000000000,2019-11-11 18:16:09.000000000,2,1,0,693489,06b12b33cbcbd74fe2f03720bd7eebd3d176225f,9,4,2,1,3153,Emilien Macchi,emilienm,"Define ovn_dbs_image fact for upgrades.

The ovn upgrade_tasks make use of a block which belongs
to the update_tasks. In that block, the ovs_dbs_image
variable is being referenced. However, the fact is set
in a step before the block invoked.

This patch sets ovn_dbs_image fact in step0 for upgrade
tasks and fixes a small typo with the bundle.

Change-Id: I1d24dce0ff9c88380e8769593d619a9e4e944e40
Closes-Bug: #1851669
(cherry picked from commit 460d4771a6be1b7aebc8c86263149e2835cad654)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I354c2fedafb88bb363321d1338c39d479560fc3e,openstack/tripleo-heat-templates,stable/train,,I354c2fedafb88bb363321d1338c39d479560fc3e,Fix typo in OVN upgrade tasks.,MERGED,2019-11-08 07:05:40.000000000,2019-11-11 18:16:07.000000000,2019-11-11 18:16:07.000000000,1,1,0,693487,18ce57ea87bbd5add443427c3be557c7808be3ac,11,5,1,1,3153,Emilien Macchi,emilienm,"Fix typo in OVN upgrade tasks.

Change-Id: I354c2fedafb88bb363321d1338c39d479560fc3e
Closes-Bug: #1851660
(cherry picked from commit eda88f0c7142ae22d2b252956fcaf461eb7e99b6)
"
openstack%2Foctavia~master~I79979198e6cb4ee8c6ad49a7b9bd8e4093cf1934,openstack/octavia,master,,I79979198e6cb4ee8c6ad49a7b9bd8e4093cf1934,Fix typo in doc agent.py->agent,MERGED,2019-10-24 08:57:31.000000000,2019-11-11 17:44:59.000000000,2019-11-11 17:43:28.000000000,1,1,0,690884,935567b84c05be6bd75df372a9de51d43267ab9a,11,6,1,1,30619,Ajay Kumar,ajaykumar33,"Fix typo in doc agent.py->agent

This patch fix the wrong description of agent_server_cert

Change-Id: I79979198e6cb4ee8c6ad49a7b9bd8e4093cf1934
Story: 2006612
Task: 36797
"
openstack%2Fpython-tripleoclient~master~If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0,openstack/python-tripleoclient,master,mistral-removal,If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0,Get rid of Mistral for running Validations by Groups,MERGED,2019-11-05 13:32:39.000000000,2019-11-11 17:44:05.000000000,2019-11-11 17:41:24.000000000,2,7,0,693001,db6aa7b4f3393aee7946d4f57eac6eff03e99453,24,8,5,1,11491,Gael Chamoulaud,gchamoul,"Get rid of Mistral for running Validations by Groups

The CLI doesn't depend on Mistral for running Validations anymore.

Change-Id: If7178f9b8567a5224c1b4dd7fa3e8647b83c8ef0
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fpython-tripleoclient~master~I5730fb2e23775f1d666276b6b4d46bcb550fc928,openstack/python-tripleoclient,master,mistral-removal,I5730fb2e23775f1d666276b6b4d46bcb550fc928,Get rid of Mistral for listing validations,MERGED,2019-11-04 14:15:41.000000000,2019-11-11 17:43:00.000000000,2019-11-11 17:41:24.000000000,84,65,4,692823,746b97f19a67989f200365fa9ffc3df569091f2f,37,9,9,6,11491,Gael Chamoulaud,gchamoul,"Get rid of Mistral for listing validations

Until now, we were using Mistral to get all the validations available on
the Undercloud. This patch drops the Mistral support for the validations
listing through the CLI and will parse them directly on the filesystem
instead of parsing from the *tripleo-validations* Swift container.

This change makes the CLI faster:
- ~6s with Mistral
- ~1.3s w/o Mistral

Change-Id: I5730fb2e23775f1d666276b6b4d46bcb550fc928
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~Ied2543e7aa9646eec83f168e862b281f59720b9a,openstack/tripleo-heat-templates,master,remove odl,Ied2543e7aa9646eec83f168e862b281f59720b9a,Remove odl in ComputeSriovIB,MERGED,2019-11-10 18:33:26.000000000,2019-11-11 17:37:40.000000000,2019-11-11 17:36:07.000000000,0,1,0,693638,8a10389fbaee96b500582f06e423ff301c5440ab,10,6,2,1,16690,Noam Angel,noama,"Remove odl in ComputeSriovIB

Change-Id: Ied2543e7aa9646eec83f168e862b281f59720b9a
"
openstack%2Fopenstack-ansible~stable%2Fstein~I06cf7fa01b5406222356aa133123bf7a1b04c0b7,openstack/openstack-ansible,stable/stein,bug/1851379-stable/train-stable/stein,I06cf7fa01b5406222356aa133123bf7a1b04c0b7,Fix requirements_git_url call,MERGED,2019-11-08 17:45:21.000000000,2019-11-11 17:28:42.000000000,2019-11-11 17:26:48.000000000,1,1,0,693566,085604aeafe8118769b351ec3cb391776c2640ee,12,5,1,1,23182,kourosh vivan,KouroshVivan,"Fix requirements_git_url call

requirements_git_url is the full url to upper-constraints.txt.

Change-Id: I06cf7fa01b5406222356aa133123bf7a1b04c0b7
Close-Bug: 1851379
(cherry picked from commit e5a6a1416f1547a2dce283b74af8457c3a22f5a3)
"
openstack%2Fopenstack-ansible~stable%2Ftrain~If40e2aa07af9ae3099aeb8f1c58388765d3ddd33,openstack/openstack-ansible,stable/train,os_murano-stable/train,If40e2aa07af9ae3099aeb8f1c58388765d3ddd33,Add support to deploy murano,MERGED,2019-10-31 12:45:12.000000000,2019-11-11 17:18:59.000000000,2019-11-11 17:17:13.000000000,201,0,0,692362,b977cdb99d3f15f76772b5d9846e000d8fa12885,16,4,5,18,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add support to deploy murano

Depends-On: https://review.opendev.org/692361
Change-Id: If40e2aa07af9ae3099aeb8f1c58388765d3ddd33
(cherry picked from commit 0ff6e1fb34e12c4e1e217b401b3ba455d35ed146)
"
openstack%2Fansible-role-uwsgi~master~Ida62331721ac69fa622bef98872e22ac5fbca500,openstack/ansible-role-uwsgi,master,,Ida62331721ac69fa622bef98872e22ac5fbca500,Allow to define wsgi module instead of wsgi file,MERGED,2019-11-08 11:53:57.000000000,2019-11-11 17:08:54.000000000,2019-11-11 17:07:50.000000000,4,0,0,693528,a6aad9aefa6d6fe9782967e4f5d946e57d32b261,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Allow to define wsgi module instead of wsgi file

Change-Id: Ida62331721ac69fa622bef98872e22ac5fbca500
"
openstack%2Foslo.messaging~master~If9885a1f064226909181d8b69241eb814deb2105,openstack/oslo.messaging,master,,If9885a1f064226909181d8b69241eb814deb2105,tox: Keeping going with docs,MERGED,2019-10-24 06:11:08.000000000,2019-11-11 17:05:12.000000000,2019-11-11 17:03:36.000000000,11,5,0,690832,1e7a0c6fbb9782b7fc0216430e3a84e9249014f4,14,7,2,3,22165,caoyuan,caoyuan,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: If9885a1f064226909181d8b69241eb814deb2105
"
openstack%2Ftaskflow~master~I6cb830300a14b775b7744139554240eadd914e03,openstack/taskflow,master,,I6cb830300a14b775b7744139554240eadd914e03,Switch to Ussuri jobs,MERGED,2019-10-25 03:02:41.000000000,2019-11-11 16:54:59.000000000,2019-11-11 16:52:26.000000000,1,1,0,691164,471b37c3aceb9847a0b7b6379397a551a053fc12,8,3,1,1,30092,Xuan Yandong,xuanyandong,"Switch to Ussuri jobs

Change-Id: I6cb830300a14b775b7744139554240eadd914e03
"
openstack%2Foctavia~stable%2Fstein~I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d,openstack/octavia,stable/stein,,I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d,Fix issues with unavailable secrets,MERGED,2019-10-28 15:28:13.000000000,2019-11-11 16:49:57.000000000,2019-11-11 16:47:45.000000000,254,36,0,691693,bfa553925c22b637a11b4cbf567919d0edcb9203,10,4,2,9,11628,Michael Johnson,johnsom,"Fix issues with unavailable secrets

Previously, if a secret became unavailable in barbican, the user saw
a generic error raised from the barbican client and was unable to delete
load balancer resources. This patch corrects both of those issues.

Change-Id: I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d
Story: 2006676
Task: 37012
Task: 37077
(cherry picked from commit 7fcef817eca3ad177460ee6976633f3dbd078cf2)
"
openstack%2Foctavia~stable%2Ftrain~I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d,openstack/octavia,stable/train,,I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d,Fix issues with unavailable secrets,MERGED,2019-10-24 14:30:56.000000000,2019-11-11 16:49:57.000000000,2019-11-11 16:47:38.000000000,254,36,0,690984,2fd3f6ef64ffa4e843a8e41b33c7d6171cf7e49c,11,4,1,9,11628,Michael Johnson,johnsom,"Fix issues with unavailable secrets

Previously, if a secret became unavailable in barbican, the user saw
a generic error raised from the barbican client and was unable to delete
load balancer resources. This patch corrects both of those issues.

Change-Id: I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d
Story: 2006676
Task: 37012
Task: 37077
(cherry picked from commit 7fcef817eca3ad177460ee6976633f3dbd078cf2)
"
openstack%2Fkolla-ansible~master~I7cc8f7853d49a22be6cc04312366a811c0d2799c,openstack/kolla-ansible,master,reno-train,I7cc8f7853d49a22be6cc04312366a811c0d2799c,Update master for stable/train,MERGED,2019-11-11 15:41:29.000000000,2019-11-11 16:38:27.000000000,2019-11-11 16:36:35.000000000,7,0,0,693716,0dc4af9bce991f2302a11e6de3355eeda75b307d,8,3,1,2,22816,OpenStack Release Bot,release,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I7cc8f7853d49a22be6cc04312366a811c0d2799c
Sem-Ver: feature
"
openstack%2Fkolla-ansible~stable%2Frocky~I600891a15244ce705861f6ec93eec1d5ba83c1b8,openstack/kolla-ansible,stable/rocky,bug/1849265-stable/rocky,I600891a15244ce705861f6ec93eec1d5ba83c1b8,Fix swift.conf custom configuration path collision,MERGED,2019-11-05 14:43:16.000000000,2019-11-11 16:36:45.000000000,2019-11-11 16:34:30.000000000,10,2,0,693021,cc12f502a5ddcfb52a9fc1a981d1cf04a94fd579,10,4,1,2,14826,Mark Goddard,mgoddard,"Fix swift.conf custom configuration path collision

Both swift.conf and proxy-server.conf are affected be
/etc/kolla/config/swift/proxy-server.conf. However, some options in
proxy-server.conf are not valid in swift.conf.

This change keeps this path for proxy-server.conf, but modifies the path
for swift.conf to /etc/kolla/config/swift/proxy-server/swift.conf. The
same applies for other services, object-*, account-*, container-*.

Change-Id: I600891a15244ce705861f6ec93eec1d5ba83c1b8
Closes-Bug: #1849265
(cherry picked from commit 86ccefc6233c52a083ccdbec23011d528a999964)
"
openstack%2Fkolla-ansible~stable%2Fstein~I600891a15244ce705861f6ec93eec1d5ba83c1b8,openstack/kolla-ansible,stable/stein,bug/1849265-stable/stein,I600891a15244ce705861f6ec93eec1d5ba83c1b8,Fix swift.conf custom configuration path collision,MERGED,2019-11-05 14:43:06.000000000,2019-11-11 16:35:47.000000000,2019-11-11 16:34:30.000000000,10,2,0,693020,2ee470bbe31c43022053045b295e0a32951146e5,8,3,1,2,14826,Mark Goddard,mgoddard,"Fix swift.conf custom configuration path collision

Both swift.conf and proxy-server.conf are affected be
/etc/kolla/config/swift/proxy-server.conf. However, some options in
proxy-server.conf are not valid in swift.conf.

This change keeps this path for proxy-server.conf, but modifies the path
for swift.conf to /etc/kolla/config/swift/proxy-server/swift.conf. The
same applies for other services, object-*, account-*, container-*.

Change-Id: I600891a15244ce705861f6ec93eec1d5ba83c1b8
Closes-Bug: #1849265
(cherry picked from commit 86ccefc6233c52a083ccdbec23011d528a999964)
"
openstack%2Fkayobe~stable%2Frocky~I0d3c7865eab71e0020bdb4646550d8ae27e31458,openstack/kayobe,stable/rocky,chrony-fix-stable/rocky,I0d3c7865eab71e0020bdb4646550d8ae27e31458,Only stop chrony on nodes in kolla inventory,MERGED,2019-11-11 12:18:31.000000000,2019-11-11 16:19:00.000000000,2019-11-11 16:19:00.000000000,12,1,0,693687,735b66db8523566c35819f8d795f65c2e9cdab33,7,4,1,1,14826,Mark Goddard,mgoddard,"Only stop chrony on nodes in kolla inventory

If docker is not installed this task will currently fail.

Change-Id: I0d3c7865eab71e0020bdb4646550d8ae27e31458
Story: 2006247
Task: 37391
(cherry picked from commit 114b92905ad6842c9d26f0976307cdb63e6174f6)
"
openstack%2Fkayobe~stable%2Fstein~I0d3c7865eab71e0020bdb4646550d8ae27e31458,openstack/kayobe,stable/stein,chrony-fix-stable/stein,I0d3c7865eab71e0020bdb4646550d8ae27e31458,Only stop chrony on nodes in kolla inventory,MERGED,2019-11-11 12:18:17.000000000,2019-11-11 15:58:24.000000000,2019-11-11 15:57:03.000000000,12,1,0,693686,b5137651e91e23f53bf97bde72d3cea3e4993f3b,8,4,1,1,14826,Mark Goddard,mgoddard,"Only stop chrony on nodes in kolla inventory

If docker is not installed this task will currently fail.

Change-Id: I0d3c7865eab71e0020bdb4646550d8ae27e31458
Story: 2006247
Task: 37391
(cherry picked from commit 114b92905ad6842c9d26f0976307cdb63e6174f6)
"
openstack%2Freleases~master~Ia9372735364110bbd9ad56c11e641b17a88cb232,openstack/releases,master,,Ia9372735364110bbd9ad56c11e641b17a88cb232,Add recent release note landing pages,MERGED,2019-10-29 21:51:06.000000000,2019-11-11 15:52:32.000000000,2019-11-11 15:52:32.000000000,16,0,0,691993,685f62444cbeb75a3a0527aedc2ccdc7be940c5d,7,3,1,16,11904,Sean McGinnis,SeanM,"Add recent release note landing pages

Change-Id: Ia9372735364110bbd9ad56c11e641b17a88cb232
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Freleases~master~If1b1c74109f678fedf10704bb2db8322d79f7e25,openstack/releases,master,oslo.messaging-10.3.0,If1b1c74109f678fedf10704bb2db8322d79f7e25,Release oslo.messaging 10.3.0,MERGED,2019-10-30 16:05:32.000000000,2019-11-11 15:52:31.000000000,2019-11-11 15:52:31.000000000,5,0,0,692181,b913b42a6823a90f17a810d42d3a0e9ea9d7782a,9,4,1,1,14070,Eric Fried,efried,"Release oslo.messaging 10.3.0

...to pick up (at least) [1].

Feature level bump since it's the first ussuri release.

[1] https://review.opendev.org/#/c/683600/

Change-Id: If1b1c74109f678fedf10704bb2db8322d79f7e25
"
openstack%2Fopenstack-ansible-os_zun~stable%2Ftrain~Idf31f0a3cda2932ba041defef803ac66c88a2e8e,openstack/openstack-ansible-os_zun,stable/train,osa-py3-stable/train,Idf31f0a3cda2932ba041defef803ac66c88a2e8e,Allow venv python interpreter to be overridden,MERGED,2019-11-08 11:55:38.000000000,2019-11-11 15:51:55.000000000,2019-11-11 15:49:48.000000000,4,0,0,693529,8206ef3712da94b960b84973b9c5ebd11cc4a35a,12,4,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Allow venv python interpreter to be overridden

Change-Id: Idf31f0a3cda2932ba041defef803ac66c88a2e8e
(cherry picked from commit 5425851cf3ba5f3ad2dc8aa262cdea3eaf8f778a)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I6aae1c8029cf6c9fff52a79d7a1519888f46dd81,openstack/tripleo-heat-templates,stable/train,fix_collectd_amq_presettle-stable/train,I6aae1c8029cf6c9fff52a79d7a1519888f46dd81,Fix the amqp presettle option for metrics and events in collectd,MERGED,2019-11-09 16:46:11.000000000,2019-11-11 15:39:42.000000000,2019-11-11 15:39:42.000000000,2,2,0,693611,aad1d31df7bcdd97469d291e15b8d99d68451782,7,6,1,1,13177,Emma Foley,emma-l-foley,"Fix the amqp presettle option for metrics and events in collectd

The values for presettle were incorrect for metrics and events sent
via AMQP.
Events should NOT be pre-settled, as they need to be ack'd to
ensure that all messages are delivered.
Metrics should be presettled as they don't require an ack.

Change-Id: I6aae1c8029cf6c9fff52a79d7a1519888f46dd81
(cherry picked from commit 1c1f78bc5bce2f5fa957c1e042bfd735d81320e9)
"
openstack%2Freleases~master~Ib5d582dbe092a54ccf307d667cb405d13e2eb453,openstack/releases,master,fix-kibana-link,Ib5d582dbe092a54ccf307d667cb405d13e2eb453,Remove artifact links for monasca-kibana-plugin,MERGED,2019-11-06 06:33:53.000000000,2019-11-11 15:32:34.000000000,2019-11-11 15:32:34.000000000,3,0,0,693125,3be70b0f9259f361fc155cd36eae173e5de59c8f,7,2,1,3,308,Thierry Carrez,ttx,"Remove artifact links for monasca-kibana-plugin

Set artifact-link-mode: none for monasca-kibana-plugin to avoid
broken pgp signature links. Retroactively fix Stein and Train.

Change-Id: Ib5d582dbe092a54ccf307d667cb405d13e2eb453
"
openstack%2Freleases~master~I88d086cfdeef9092954eace7931a0a5cde3a06fc,openstack/releases,master,,I88d086cfdeef9092954eace7931a0a5cde3a06fc,Release kolla-ansible 9.0.0.0rc1 for Train,MERGED,2019-11-04 12:20:01.000000000,2019-11-11 15:32:33.000000000,2019-11-11 15:32:33.000000000,8,0,2,692813,b94be80e26a49c9d840f83ff51d6bc148b064501,15,10,1,1,14826,Mark Goddard,mgoddard,"Release kolla-ansible 9.0.0.0rc1 for Train

Change-Id: I88d086cfdeef9092954eace7931a0a5cde3a06fc
"
openstack%2Fopenstack-ansible-os_horizon~stable%2Fqueens~I7aa8d7a911585e00d8ede92bf909492cf70cba6e,openstack/openstack-ansible-os_horizon,stable/queens,,I7aa8d7a911585e00d8ede92bf909492cf70cba6e,Add new config to disable openrc_v2 in horizon,MERGED,2019-10-29 16:02:42.000000000,2019-11-11 15:26:44.000000000,2019-11-11 15:24:39.000000000,10,0,0,691899,6db84bfe99a32c0d1749714f3f240e420bdfe3f3,8,3,1,3,13095,Marc Gariépy,mgariepy,"Add new config to disable openrc_v2 in horizon

it's now possible to remove the openstack rc file v2 from horizon download list.

Change-Id: I7aa8d7a911585e00d8ede92bf909492cf70cba6e
(cherry picked from commit 10aa884a1655a4ebde559f5770824fe68cd1ba35)
"
openstack%2Fopenstack-helm-infra~master~I56b01f1312efa8de90def349518c618affb5de85,openstack/openstack-helm-infra,master,grafana-y-keys,I56b01f1312efa8de90def349518c618affb5de85,Grafana gridPos y key resolves true in chart json,MERGED,2019-10-15 21:35:25.000000000,2019-11-11 15:23:28.000000000,2019-11-11 09:42:13.000000000,15,15,0,688821,020a9d959324ad277d2811eb80e558b38d931000,27,11,4,1,30692,Bharat Khare,bk552w,"Grafana gridPos y key resolves true in chart json

This change is to fix the issue where Kubernetes Calico dashboard
is not loading in grafana dashboard.
Found the behavior that YAML reserved keys like yes/no/y/n evaluate
to true and false in Ruby hash,so the gridPos key like 'y:' converts
to 'true:' in charts json causing the dashbaord not loading.
Hence updating gridPos panel key (y:) by wrapping it with quotes
like ('y':) to resolve the issue.
There's actually a long list of YAML reserved words with this
behavior like below-
y|Y|yes|Yes|YES|n|N|no|No|NO
|true|True|TRUE|false|False|FALSE
|on|On|ON|off|Off|OFF

Change-Id: I56b01f1312efa8de90def349518c618affb5de85
"
openstack%2Fnova~master~I0b70b19d74007041fc2da55a4edb1c636af691d6,openstack/nova,master,test_evacuate_bfv,I0b70b19d74007041fc2da55a4edb1c636af691d6,Remove the TODO about using OSC for BFV in test_evacuate.sh,MERGED,2019-11-07 18:35:23.000000000,2019-11-11 15:15:26.000000000,2019-11-08 08:18:06.000000000,0,2,9,693406,14ca6f62e30d11dbe63731cf95f0f0bd38780ff7,40,13,3,1,6873,Matt Riedemann,mriedem,"Remove the TODO about using OSC for BFV in test_evacuate.sh

With OSC 4.0.0 we could now use the --boot-from-volume option
to create a volume-backed server from the provided image. However,
that option leaves the created root volume around since
delete_on_termination defaults to false in the API. So while we
could use that option and convert from nova boot to openstack
server create, it would mean we'd have to find and manually delete
the created volume after the server is created, which is more work
than it's worth to implement the TODO so just remove it.

Change-Id: I0b70b19d74007041fc2da55a4edb1c636af691d6
"
openstack%2Fneutron~stable%2Fqueens~I6482223ed2a479de4f5ef4cef056c311c0281408,openstack/neutron,stable/queens,bug/1841967,I6482223ed2a479de4f5ef4cef056c311c0281408,Create _mech_context before delete to avoid race [refactored for Queens],ABANDONED,2019-09-25 07:57:49.000000000,2019-11-11 15:11:36.000000000,,41,12,5,684552,f90b643650df18bd9e5b31a57a84fd4620069393,22,9,3,3,8313,Lajos Katona,elajkat,"Create _mech_context before delete to avoid race [refactored for Queens]

When a network is deleted, precommit handlers are notified prior to the
deletion of the network from the database. One handler exists in the ML2
plugin - _network_delete_precommit_handler. This handler queries the
database for the current state of the network and uses it to create a
NetworkContext which it saves under context._mech_context. When the
postcommit handler _network_delete_after_delete_handler is triggered
later, it passess the saved context._mech_context to mechanism drivers.

A problem can occur with provider networks since the segments service
also registers a precommit handler - _delete_segments_for_network. Both
precommit handlers use the default priority, so the order in which they
are called is random, and determined by dict ordering. If the segment
precommit handler executes first, it will delete the segments associated
with the network. When the ML2 plugin precommit handler runs it then
sees no segments for the network and sets the provider attributes of the
network in the NetworkContext to None.

A mechanism driver that is passed a NetworkContext without provider
attributes in its delete_network_postcommit method will not have the
information to perform the necessary actions.  In the case of the
networking-generic-switch mechanism driver where this was observed, this
resulted in the driver ignoring the event, because the network did not
look like a VLAN.

This change uses a priority of zero for ML2 network delete precommit
handler, to ensure they query the network and store the NetworkContext
before the segments service has a chance to delete segments.

A similar change has been made for subnets, both to keep the pattern
consistent and avoid any similar issues.

Note: This is not clean backport. The original fix on master used the
registry.receives decorator's priority parameter (see [0]) which was
introduced in Rocky (see: [1]). To fix the problem on Queens this patch
backports ps2 from the original solution (see: [3])
The differenc from the original, merged patch:
- On Queens there is no priority parameter for registry.receives
decorator, the workaround is (as in ps2) to register for BEFORE_DELETE
NETWORK callback and get a copy of the network before segments can touch
provider information.
The differences from PS2 of the original patch:
- In db_base_plugin_v2.py use registry.notify instead of publish.
- In plugin.py change the decorated callback method signatures as it is
suitable for notify.

[0]: https://opendev.org/openstack/neutron-lib/src/branch/master/neutron_lib/callbacks/registry.py#L67
[1]: https://review.opendev.org/541766
[3]: https://review.opendev.org/#/c/679483/2

Change-Id: I6482223ed2a479de4f5ef4cef056c311c0281408
Closes-Bug: #1841967
Depends-On: https://review.opendev.org/680001
(cherry picked from commit fea2d9091f71a2ec88318121ed9a22180e1ae96f)
(cherry picked from commit f913394d70dede8d40d6e96485bd5333dfb6f43f)
"
openstack%2Fmistral~master~I055bc2d5a4bdf839f1e262e49563616d8deff92f,openstack/mistral,master,bug/1833262,I055bc2d5a4bdf839f1e262e49563616d8deff92f,Reformat rerun logic for tasks with join,MERGED,2019-06-18 15:11:05.000000000,2019-11-11 14:43:49.000000000,2019-11-11 14:42:37.000000000,62,19,6,666016,bdbfb823010cefe94945ba118199d9ecccdbcab7,30,10,5,3,29124,Oleg Ovcharuk,vgvoleg,"Reformat rerun logic for tasks with join

Change-Id: I055bc2d5a4bdf839f1e262e49563616d8deff92f
Closes-Bug: #1833262
Signed-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>
"
openstack%2Fironic-python-agent~master~I5c643b1ae8819b02b667b2df13241753ddca5743,openstack/ironic-python-agent,master,tinyipa-ssh-docs,I5c643b1ae8819b02b667b2df13241753ddca5743,Fix instructions for enabling SSH on recent tinyipa images,MERGED,2019-11-11 14:09:29.000000000,2019-11-11 14:35:34.000000000,2019-11-11 14:34:23.000000000,2,2,0,693700,11862ccae925904d034cb27b6ed6078fc91e1a09,8,3,1,1,15197,Pierre Riteau,priteau,"Fix instructions for enabling SSH on recent tinyipa images

We need to use AUTHORIZE_SSH since ENABLE_SSH was fully removed in
change I4256c8e89923c7104cb4191f3381312c1593b535.

Change-Id: I5c643b1ae8819b02b667b2df13241753ddca5743
"
openstack%2Ftripleo-common~stable%2Fqueens~I869a77a5975ca7a1947cce256b094947e9e6351d,openstack/tripleo-common,stable/queens,,I869a77a5975ca7a1947cce256b094947e9e6351d,Bump ceph-container to version 3.2.8,MERGED,2019-10-30 11:49:23.000000000,2019-11-11 14:27:08.000000000,2019-11-11 14:27:08.000000000,3,3,0,692113,8fc4eedde0488fee3d2f4416584fb4fcaf46c556,28,8,2,3,6796,Giulio Fidente,gfidente,"Bump ceph-container to version 3.2.8

Tested in https://review.opendev.org/#/c/562215

Change-Id: I869a77a5975ca7a1947cce256b094947e9e6351d
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I99bc5342360e307a9ee499cde5f2a0b5d78170f8,openstack/tripleo-heat-templates,stable/train,,I99bc5342360e307a9ee499cde5f2a0b5d78170f8,Adds ceph-systemd tag in external_upgrade_tasks for systemd units,MERGED,2019-11-07 15:28:05.000000000,2019-11-11 14:27:07.000000000,2019-11-11 14:27:07.000000000,10,0,0,693374,e866739b6c736cdcf86903f3463a7f522a8f3d40,12,5,1,1,6796,Giulio Fidente,gfidente,"Adds ceph-systemd tag in external_upgrade_tasks for systemd units

When upgrading the host operating system we'll also replace docker
with podman; ceph-ansible provides for a special playbook meant
to refresh the systemd units to work with podman.

This change adds a task which on upgrade will execute the special
playbook. It requires ceph_ansible_limit to be set by the user as
that gets translated into a --limit option for the playbook execution
so that it runs only against a specific node undergoing upgrade
of the host operating system.

Change-Id: I99bc5342360e307a9ee499cde5f2a0b5d78170f8
Depends-On: I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0
(cherry picked from commit e8048707f7a56e52d8664ece8a4adbf958c0001e)
"
openstack%2Fopenstack-ansible-os_nova~stable%2Fqueens~Iecb74fd1e5a92e883152ac1e44d22b4a228372fd,openstack/openstack-ansible-os_nova,stable/queens,nova-compute-pip-packages,Iecb74fd1e5a92e883152ac1e44d22b4a228372fd,Undepricate the nova_compute_pip_packages in queens,ABANDONED,2019-11-08 08:59:42.000000000,2019-11-11 14:17:40.000000000,,22,4,0,693504,c79bd417a893e5ef5d8ead1fcb0e56996dbbe37a,15,8,1,3,14200,Maksim Malchuk,mmalchuk,"Undepricate the nova_compute_pip_packages in queens

With the change Id962efe16c425424715409f071c4a304f8416001 we lost the
ability to install the pip packages on the compute nodes only. In upstream
we have the many changes and 'nova_user_pip_packages' option, but for
queens we partialy revert the Id962efe16c425424715409f071c4a304f8416001.

Change-Id: Iecb74fd1e5a92e883152ac1e44d22b4a228372fd
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
"
openstack%2Ftripleo-common~stable%2Frocky~Icd5c919a634238551fef23cc9d03d63ed4089d7b,openstack/tripleo-common,stable/rocky,,Icd5c919a634238551fef23cc9d03d63ed4089d7b,Bump ceph-container version to 3.2.8,MERGED,2019-10-30 11:46:49.000000000,2019-11-11 14:16:05.000000000,2019-11-11 14:16:05.000000000,3,3,0,692111,8e50afb2b600d35cbc0f7c7b7d97e09a053bbf33,31,7,2,3,6796,Giulio Fidente,gfidente,"Bump ceph-container version to 3.2.8

Tested in https://review.opendev.org/#/c/601598

Change-Id: Icd5c919a634238551fef23cc9d03d63ed4089d7b
"
openstack%2Fgovernance-uc~master~Ibc8df6f11b4444deefe5c1b339929a4d72ef2b35,openstack/governance-uc,master,,Ibc8df6f11b4444deefe5c1b339929a4d72ef2b35,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-05-11 07:29:50.000000000,2019-11-11 14:05:44.000000000,,8,8,0,658526,7178129183c47e9049124be77e764787ea69efa4,13,2,5,4,30356,gugug,gujin,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Ibc8df6f11b4444deefe5c1b339929a4d72ef2b35
"
openstack%2Fopenstack-ansible-os_nova~master~Iecb74fd1e5a92e883152ac1e44d22b4a228372fd,openstack/openstack-ansible-os_nova,master,nova-compute-pip-packages,Iecb74fd1e5a92e883152ac1e44d22b4a228372fd,Undepricate the nova_compute_pip_packages in queens,ABANDONED,2019-11-11 06:20:39.000000000,2019-11-11 14:05:34.000000000,,6,4,0,693652,2f7588caade10b7cc9be089f00e1da49cf54d4da,9,3,1,3,14200,Maksim Malchuk,mmalchuk,"Undepricate the nova_compute_pip_packages in queens

With the change Id962efe16c425424715409f071c4a304f8416001 we lost the
ability to install the pip packages on the compute nodes only. In upstream
we have the many changes and 'nova_user_pip_packages' option, but for
queens we partialy revert the Id962efe16c425424715409f071c4a304f8416001.

Change-Id: Iecb74fd1e5a92e883152ac1e44d22b4a228372fd
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
"
openstack%2Fdiskimage-builder~master~I40492b82e7708135f447cf8a141dc12ce50aade0,openstack/diskimage-builder,master,,I40492b82e7708135f447cf8a141dc12ce50aade0,Split out kernel tasks from ubuntu-minimal,NEW,2019-11-11 02:12:46.000000000,2019-11-11 13:55:56.000000000,,72,10,0,693642,a621e5cb411cb0a283af357b609b072dfb6e4ad2,8,3,2,12,2,Monty Taylor,mordred,"Split out kernel tasks from ubuntu-minimal

ubuntu-minimal does important things on top of a minimal chroot, but
it has an element-dep on debootstrap, which means it's hard to
use it in combination with container-image to produce a working
ubuntu image.

Split it out into an element that does not depend on an element that
produces base filesystems.

Change-Id: I40492b82e7708135f447cf8a141dc12ce50aade0
"
openstack%2Fopenstack-ansible-os_magnum~master~Ibd3217424eda4cbc1cb25553065a0dde0d472b88,openstack/openstack-ansible-os_magnum,master,fix,Ibd3217424eda4cbc1cb25553065a0dde0d472b88,Fix a typo,MERGED,2019-11-05 08:48:15.000000000,2019-11-11 13:54:37.000000000,2019-11-11 13:53:17.000000000,1,1,0,692960,9a9e77a50407acf247b0a6850921350f147fb6e4,8,3,1,1,23317,ShangXiao,ShangXiao,"Fix a typo

Change-Id: Ibd3217424eda4cbc1cb25553065a0dde0d472b88
"
openstack%2Fsearchlight-specs~master~I474ae8075b1051b578a0f21f592f58d0790501a3,openstack/searchlight-specs,master,,I474ae8075b1051b578a0f21f592f58d0790501a3,Sync Sphinx requirement,ABANDONED,2019-06-09 15:50:04.000000000,2019-11-11 13:52:11.000000000,,6,5,0,664160,107974b256c68424a37a804658d3e8820762aae4,8,4,2,4,30356,gugug,gujin,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Update some URLs to latest

Change-Id: I474ae8075b1051b578a0f21f592f58d0790501a3
"
openstack%2Ftripleo-quickstart-extras~master~Ibd49b6a0026626200ab6d9c788cbb1c62ef3df94,openstack/tripleo-quickstart-extras,master,,Ibd49b6a0026626200ab6d9c788cbb1c62ef3df94,Sync Sphinx requirement,ABANDONED,2019-06-04 03:04:31.000000000,2019-11-11 13:51:29.000000000,,2,1,1,662919,9b766b639f1330213401cafca55a0d82b24c5c47,12,9,2,1,30356,gugug,gujin,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ibd49b6a0026626200ab6d9c788cbb1c62ef3df94
Closes-Bug: #1831512
"
openstack%2Fsahara-specs~master~I677168980f7fbabbf388d377eb20ce8b01a3b4b1,openstack/sahara-specs,master,,I677168980f7fbabbf388d377eb20ce8b01a3b4b1,Remove seamingly unused cmd2 dependency,MERGED,2019-10-29 10:51:06.000000000,2019-11-11 13:35:16.000000000,2019-11-11 13:34:14.000000000,0,1,0,691839,b41a9883fbb7cf409d0d03ef348391dd3d204e52,13,3,2,1,6593,Dirk Mueller,dmllr,"Remove seamingly unused cmd2 dependency

cmd2 was brought in as a dependency here:

https://review.opendev.org/#/c/570972/

As long as we used python 2, we needed to cap cmd2.
However, some time ago we switched to Python3 as part
of https://review.opendev.org/#/c/581193/ so the cap
is no longer needed.

Change-Id: I677168980f7fbabbf388d377eb20ce8b01a3b4b1
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I1d24dce0ff9c88380e8769593d619a9e4e944e40,openstack/tripleo-heat-templates,stable/stein,,I1d24dce0ff9c88380e8769593d619a9e4e944e40,Define ovn_dbs_image fact for upgrades.,MERGED,2019-11-08 07:07:11.000000000,2019-11-11 13:11:16.000000000,2019-11-09 00:48:14.000000000,2,1,1,693490,ad729328dbba653dd42a11b5f8012c5d1e5e1c08,14,5,2,1,3153,Emilien Macchi,emilienm,"Define ovn_dbs_image fact for upgrades.

The ovn upgrade_tasks make use of a block which belongs
to the update_tasks. In that block, the ovs_dbs_image
variable is being referenced. However, the fact is set
in a step before the block invoked.

This patch sets ovn_dbs_image fact in step0 for upgrade
tasks and fixes a small typo with the bundle.

Change-Id: I1d24dce0ff9c88380e8769593d619a9e4e944e40
Closes-Bug: #1851669
(cherry picked from commit 460d4771a6be1b7aebc8c86263149e2835cad654)
"
openstack%2Fnetworking-calico~master~If8bde036b750a3610d68024fe88482fdf1303d04,openstack/networking-calico,master,log-extra-detail,If8bde036b750a3610d68024fe88482fdf1303d04,Log more detail for Etcd3Exceptions,MERGED,2019-11-08 15:21:16.000000000,2019-11-11 12:49:31.000000000,2019-11-11 12:49:31.000000000,186,8,2,693550,a742d23666324081bb6937f2aa354f3a53634c80,24,3,5,9,13734,Neil Jerram,neiljerram,"Log more detail for Etcd3Exceptions

As of https://github.com/dims/etcd3-gateway/pull/31 and
https://github.com/dims/etcd3-gateway/pull/32, etcd3-gateway's
Etcd3Exception can report additional information, in its detail_text
field, when an HTTP request from Calico to the grpc gateway gets a
failure response.

This change updates the networking-calico code to include that
detail_text content in logging.

Change-Id: If8bde036b750a3610d68024fe88482fdf1303d04
"
openstack%2Fopenstack-manuals~master~Iff66f21c7e12562eaec6b71b5966245c1b1e8c9c,openstack/openstack-manuals,master,train-release,Iff66f21c7e12562eaec6b71b5966245c1b1e8c9c,Add Train install guide links,MERGED,2019-11-08 08:02:57.000000000,2019-11-11 12:47:05.000000000,2019-11-11 12:19:59.000000000,25,0,2,693496,f16e54c5d872f2dd22b92f24f3728bb5f70b580b,12,4,2,1,19779,Chason Chan,chenxing,"Add Train install guide links

Change-Id: Iff66f21c7e12562eaec6b71b5966245c1b1e8c9c
"
openstack%2Fkolla~stable%2Frocky~I8fd93fa77ba9fc63910360300b8783a34bd4e6d5,openstack/kolla,stable/rocky,bug/1851169-stable/rocky,I8fd93fa77ba9fc63910360300b8783a34bd4e6d5,swift-rsyncd: don't recursively chown /srv/node at startup,MERGED,2019-11-11 09:38:17.000000000,2019-11-11 12:42:29.000000000,2019-11-11 12:42:29.000000000,3,3,0,693668,daafc9380b326cb04ced3033dd8686673df3dc0d,7,3,1,2,14826,Mark Goddard,mgoddard,"swift-rsyncd: don't recursively chown /srv/node at startup

Instead of doing a recursive chown on /srv/node, chown only /srv/node
and any immediate subdirectory under /srv/node.

Change-Id: I8fd93fa77ba9fc63910360300b8783a34bd4e6d5
Closes-Bug: #1851169
(cherry picked from commit 2d122afaf9817cadc668b308c4f736e47c09a55f)
"
openstack%2Fneutron~master~I18ff3b434cf62267ef26f90f00096ab812d0b4b4,openstack/neutron,master,bug/1849976,I18ff3b434cf62267ef26f90f00096ab812d0b4b4,"Revert ""Add binding_index to NetworkDhcpAgentBinding""",ABANDONED,2019-10-28 16:21:19.000000000,2019-11-11 12:30:16.000000000,,70,292,7,691710,4da4434d52a05e63fb8bbc043171149068ffe603,78,38,4,12,1131,Brian Haley,brian-haley,"Revert ""Add binding_index to NetworkDhcpAgentBinding""

This reverts commit 69b3762dda47272513e02340e7942d5a39f825c5.

Conflicts:
        neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD
        neutron/tests/unit/objects/test_objects.py

Closes-bug: #1849976
Change-Id: I18ff3b434cf62267ef26f90f00096ab812d0b4b4
"
openstack%2Fsearchlight~master~Id5a2d06a4c006f042a33fd68fb1b77be7513ee04,openstack/searchlight,master,,Id5a2d06a4c006f042a33fd68fb1b77be7513ee04,Remove image_urls of CirrOS in local.conf.example,MERGED,2019-11-11 11:04:48.000000000,2019-11-11 12:21:04.000000000,2019-11-11 12:19:56.000000000,0,3,0,693679,7361075238ecb8ee60d250c5228d8af74a821695,7,2,1,1,23279,Seongsoo Cho,seongsoo.cho,"Remove image_urls of CirrOS in local.conf.example

CirrOS is default image in latest devstack.
So, The error occurs during run stack.sh like below.

[ERROR] /opt/stack/devstack/stackrc:780
http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img is
duplicate, please remove it from IMAGE_URLS.

Change-Id: Id5a2d06a4c006f042a33fd68fb1b77be7513ee04
"
openstack%2Fkayobe~master~I0d3c7865eab71e0020bdb4646550d8ae27e31458,openstack/kayobe,master,chrony-fix,I0d3c7865eab71e0020bdb4646550d8ae27e31458,Only stop chrony on nodes in kolla inventory,MERGED,2019-11-08 13:53:54.000000000,2019-11-11 12:18:31.000000000,2019-11-11 11:14:42.000000000,12,1,0,693539,114b92905ad6842c9d26f0976307cdb63e6174f6,10,3,1,1,28048,Will Szumski,jovial,"Only stop chrony on nodes in kolla inventory

If docker is not installed this task will currently fail.

Change-Id: I0d3c7865eab71e0020bdb4646550d8ae27e31458
Story: 2006247
Task: 37391
"
openstack%2Fneutron~master~I68ac816b08acabbba5fcaa24d3f53b50712061bb,openstack/neutron,master,bug/1807157,I68ac816b08acabbba5fcaa24d3f53b50712061bb,Send notifications about DVR routers to L3 agents,NEW,2019-06-22 20:39:35.000000000,2019-11-11 11:51:39.000000000,,4,12,5,666965,9a75b66943768ffc8fd609b5a0169bb0e5069203,33,12,6,1,28655,Alexandru Sorodoc,bno1,"Send notifications about DVR routers to L3 agents

The get_l3_agents_hosting_routers function doesn't return l3 agents for
DVR routers. get_hosts_to_notify properly returns hosts for both DVR and
non-DVR routers.

Partial-Bug: #1807157
Change-Id: I68ac816b08acabbba5fcaa24d3f53b50712061bb
"
openstack%2Fneutron~master~I700f19753436c90337ff941550a990e7c5da2685,openstack/neutron,master,bug/1807157,I700f19753436c90337ff941550a990e7c5da2685,Count traffic on the SNAT namespace,NEW,2019-06-22 21:32:26.000000000,2019-11-11 11:37:41.000000000,,82,5,5,666969,a96c66073d16f3975e1a032cfb394ca8fbccb48a,38,9,3,2,28655,Alexandru Sorodoc,bno1,"Count traffic on the SNAT namespace

Traffic on the SNAT namespace should be counted and summed with the
counters on the main namespace.

Change-Id: I700f19753436c90337ff941550a990e7c5da2685
Partial-Bug: #1807157
"
openstack%2Fneutron~master~I8a9a5168291a6d1069d08fe1b64bda31960ee8f2,openstack/neutron,master,bug/1807157,I8a9a5168291a6d1069d08fe1b64bda31960ee8f2,Communicate DVR routers to the metering agent,NEW,2019-06-22 20:23:23.000000000,2019-11-11 11:34:31.000000000,,1,9,3,666964,2f47647014683cb5ab6089d340b423f2feaa8492,23,10,3,1,28655,Alexandru Sorodoc,bno1,"Communicate DVR routers to the metering agent

The function list_routers_on_l3_agent doesn't return DVR routers running
on the host. list_router_ids_on_host should be used instead.

Partial-Bug: #1807157
Change-Id: I8a9a5168291a6d1069d08fe1b64bda31960ee8f2
"
openstack%2Fnova~master~Ibaa31fc8079c16e169472372c05dc48ff0602515,openstack/nova,master,bp/cross-cell-resize,Ibaa31fc8079c16e169472372c05dc48ff0602515,Execute CrossCellMigrationTask from MigrationTask,MERGED,2019-02-07 22:06:10.000000000,2019-11-11 11:25:26.000000000,2019-11-07 20:54:14.000000000,168,35,30,635668,425518d1988a60ec0dc9bf35622c57ae809798f9,540,18,53,4,6873,Matt Riedemann,mriedem,"Execute CrossCellMigrationTask from MigrationTask

This adds the code to check if a cross-cell move is
allowed by the RequestSpec, which is set in the API,
and if so, checks to see if the scheduler selected
a host in another cell. If so, then CrossCellMigrationTask
is executed.

Note the _restrict_request_spec_to_cell method gets
renamed and logging is adjusted since we may not be
restricting the scheduler to hosts in the same cell
if cross-cell moves are allowed.

Part of blueprint cross-cell-resize

Change-Id: Ibaa31fc8079c16e169472372c05dc48ff0602515
"
openstack%2Ftempest~master~Ie8e7e8f462011fb13f780892c4541bc1e79f7845,openstack/tempest,master,,Ie8e7e8f462011fb13f780892c4541bc1e79f7845,Default securit group may be in-use by resources,ABANDONED,2019-05-21 09:40:02.000000000,2019-11-11 11:14:03.000000000,,6,0,6,660318,4a7c43a85ba12f59a4a8ddfca9417b9a66323837,8,4,1,1,9531,liuyulong,LIU-Yulong,"Default securit group may be in-use by resources

Change-Id: Ie8e7e8f462011fb13f780892c4541bc1e79f7845
"
openstack%2Fneutron~stable%2Fstein~I1137eb18efaf51c67fab145e645f58cbd3772e40,openstack/neutron,stable/stein,bug/1849098-stable/stein,I1137eb18efaf51c67fab145e645f58cbd3772e40,Handle OVSFWPortNotFound and OVSFWTagNotFound in ovs firewall,MERGED,2019-10-28 06:35:05.000000000,2019-11-11 11:12:41.000000000,2019-10-30 19:28:14.000000000,17,8,0,691605,0fb7f8ddac0d55dfc64c0c0c2931b3c17cb00d37,13,6,1,1,5948,Oleg Bondarev,obondarev,"Handle OVSFWPortNotFound and OVSFWTagNotFound in ovs firewall

This will prevent ovs agent from endless fail loop when dealing
with unbound port: like when port was created in neutron before
agent become alive, then agent gets online and and starts processing
devices.
This patch adds exception handling to prepare_port_filter() -
same as done in update_port_filter().

Change-Id: I1137eb18efaf51c67fab145e645f58cbd3772e40
Closes-Bug: #1849098
(cherry picked from commit e801159003978f7c5c67eb3e9fe36fa690656d77)
"
openstack%2Fkolla~stable%2Ftrain~Ia592dda4ee20979c701efe6007f236dba9848997,openstack/kolla,stable/train,bug/1851692-stable/train,Ia592dda4ee20979c701efe6007f236dba9848997,[manila] Fixes manila-share on debian/ubuntu,MERGED,2019-11-11 08:39:21.000000000,2019-11-11 11:00:09.000000000,2019-11-11 10:59:00.000000000,2,0,0,693659,cc615dd041e9e6b82bd8b34fc87d34fe6878386f,9,4,1,1,30491,Radosław Piliszek,yoctozepto,"[manila] Fixes manila-share on debian/ubuntu

manila-share cannot start on debian/ubuntu because python3-cephfs is missing.

Change-Id: Ia592dda4ee20979c701efe6007f236dba9848997
Closes-Bug: #1851692
(cherry picked from commit 1d5a208c2e5c81ed4169c63d1d5ea0ad31b78f2f)
"
openstack%2Ftripleo-ansible~master~Ia02ca1263590e2b579f2534e99119d7b1cd4b39a,openstack/tripleo-ansible,master,,Ia02ca1263590e2b579f2534e99119d7b1cd4b39a,Fix network hostnames in tripleo-hosts-entries,MERGED,2019-11-05 14:10:30.000000000,2019-11-11 10:48:16.000000000,2019-11-11 10:48:16.000000000,4,4,1,693010,3f27375920b0ac2ffcba975f95f54a5f3aa7be76,16,5,3,2,7144,James Slagle,slagle,"Fix network hostnames in tripleo-hosts-entries

The previous Heat behavior used the jinja2 lower() filter on the network
name to create the hostnames, not network.name_lower. As
network.name_lower can container underscores, this was causing an issue
since the expected hostnames were not present in /etc/hosts.

This patch corrects the issue by switching to just using the lower()
filter.

Change-Id: Ia02ca1263590e2b579f2534e99119d7b1cd4b39a
"
openstack%2Fkolla~stable%2Fstein~I8fd93fa77ba9fc63910360300b8783a34bd4e6d5,openstack/kolla,stable/stein,bug/1851169-stable/train-stable/stein,I8fd93fa77ba9fc63910360300b8783a34bd4e6d5,swift-rsyncd: don't recursively chown /srv/node at startup,MERGED,2019-11-08 18:50:11.000000000,2019-11-11 10:35:59.000000000,2019-11-11 10:34:39.000000000,3,3,0,693576,8673f02844a4a43e6eeb74d6437c2d97b530802a,8,3,1,2,27330,Martin Chlumsky,mchlumsky,"swift-rsyncd: don't recursively chown /srv/node at startup

Instead of doing a recursive chown on /srv/node, chown only /srv/node
and any immediate subdirectory under /srv/node.

Change-Id: I8fd93fa77ba9fc63910360300b8783a34bd4e6d5
Closes-Bug: #1851169
(cherry picked from commit 2d122afaf9817cadc668b308c4f736e47c09a55f)
"
openstack%2Fkolla~stable%2Ftrain~I8fd93fa77ba9fc63910360300b8783a34bd4e6d5,openstack/kolla,stable/train,bug/1851169-stable/train,I8fd93fa77ba9fc63910360300b8783a34bd4e6d5,swift-rsyncd: don't recursively chown /srv/node at startup,MERGED,2019-11-08 18:49:57.000000000,2019-11-11 10:27:14.000000000,2019-11-11 10:25:48.000000000,3,3,0,693575,78762fabbd7440d699b6cb52c1da94a7529eb39c,9,3,1,2,27330,Martin Chlumsky,mchlumsky,"swift-rsyncd: don't recursively chown /srv/node at startup

Instead of doing a recursive chown on /srv/node, chown only /srv/node
and any immediate subdirectory under /srv/node.

Change-Id: I8fd93fa77ba9fc63910360300b8783a34bd4e6d5
Closes-Bug: #1851169
(cherry picked from commit 2d122afaf9817cadc668b308c4f736e47c09a55f)
"
openstack%2Fopenstack-helm-addons~master~I7f48605f08f574822179d51cd645ded07714d9c3,openstack/openstack-helm-addons,master,update-k8s-entrypoint,I7f48605f08f574822179d51cd645ded07714d9c3,Update kubernetes-entrypoint image reference,MERGED,2019-10-14 15:58:48.000000000,2019-11-11 10:01:08.000000000,2019-11-11 10:01:08.000000000,7,7,0,688438,d6309100d7a4bacaec1f563ee2937d1ac8216290,31,8,6,7,17591,Steve Wilkerson,srwilkers,"Update kubernetes-entrypoint image reference

This updates the kubernetes-entrypoint image reference to consume
the publicly available kubernetes-entrypoint image that is built
and maintained under the airshipit namespace, as the stackanetes
image is no longer actively maintained

Depends-On: https://review.opendev.org/688435

Change-Id: I7f48605f08f574822179d51cd645ded07714d9c3
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fopenstack-helm-infra~master~I2df253457140411e90d77b01c899ace0d392a423,openstack/openstack-helm-infra,master,,I2df253457140411e90d77b01c899ace0d392a423,Update grafana link,MERGED,2019-09-19 06:19:16.000000000,2019-11-11 09:44:50.000000000,2019-11-11 09:42:14.000000000,2,2,0,683033,f9ee02ec88409e4497a7871fab8d33925347ad29,12,7,1,1,30408,Qitao,qihongtao,"Update grafana link

Change-Id: I2df253457140411e90d77b01c899ace0d392a423
"
openstack%2Fopenstack-helm-infra~master~Ieee874bf837c7947e3681e0447d150174c99d880,openstack/openstack-helm-infra,master,netpol,Ieee874bf837c7947e3681e0447d150174c99d880,Add missing pod labels for CronJobs,MERGED,2019-10-28 20:08:17.000000000,2019-11-11 09:40:39.000000000,2019-11-11 09:38:35.000000000,3,0,0,691745,5919aaf60d70c95c85e04c96a5b30e0989446d15,13,7,1,1,8749,Evgeniy L,evgeniyl,"Add missing pod labels for CronJobs

Pods for some of the CronJobs do not have correct
application and component labels applied, they are
unable to start if Network Policies are enabled.

Related-Change: Ie4eed0e9829419b4b2e40e9b712b73a86d6fc3d2
Change-Id: Ieee874bf837c7947e3681e0447d150174c99d880
"
openstack%2Fopenstack-helm-infra~master~Ibb8c5e99d5311ccf23800c6d912201ea54ae057f,openstack/openstack-helm-infra,master,constraints,Ibb8c5e99d5311ccf23800c6d912201ea54ae057f,Update the constraints url,MERGED,2019-09-24 07:51:11.000000000,2019-11-11 09:39:29.000000000,2019-11-11 09:38:34.000000000,1,1,0,684215,c0bd299897b17fbd6ba6e308f5726079cba972d5,11,11,1,1,27822,pengyuesheng,pengyuesheng,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ibb8c5e99d5311ccf23800c6d912201ea54ae057f
"
openstack%2Fkolla~master~I8fd93fa77ba9fc63910360300b8783a34bd4e6d5,openstack/kolla,master,bug/1851169,I8fd93fa77ba9fc63910360300b8783a34bd4e6d5,swift-rsyncd: don't recursively chown /srv/node at startup,MERGED,2019-11-04 18:54:16.000000000,2019-11-11 09:38:17.000000000,2019-11-07 10:27:57.000000000,3,3,3,692870,2d122afaf9817cadc668b308c4f736e47c09a55f,20,5,3,2,27330,Martin Chlumsky,mchlumsky,"swift-rsyncd: don't recursively chown /srv/node at startup

Instead of doing a recursive chown on /srv/node, chown only /srv/node
and any immediate subdirectory under /srv/node.

Change-Id: I8fd93fa77ba9fc63910360300b8783a34bd4e6d5
Closes-Bug: #1851169
"
openstack%2Foctavia~master~I8cdc7eac65be4b3fa1fe444c769a51ce60469263,openstack/octavia,master,fix-URL,I8cdc7eac65be4b3fa1fe444c769a51ce60469263,Fix wrong urls in Quota API,NEW,2019-10-26 08:06:33.000000000,2019-11-11 09:30:01.000000000,,7,4,4,691469,0e5a058fc2918487daa207803e4cb070883f2073,8,3,1,2,29870,sunxifa,sunxifa,"Fix wrong urls in Quota API

In the Octavia v2 API implemention, the url of getting project
default quota is 'quotas/{project_id}/defaults', which is wrong
about 'quotas/defaults' in API doc, So we fix it

Change-Id: I8cdc7eac65be4b3fa1fe444c769a51ce60469263
"
openstack%2Fneutron~master~I465ea140910af50d62ab281d26357861cf96952b,openstack/neutron,master,bug/1690439,I465ea140910af50d62ab281d26357861cf96952b,Add project_default to Network,NEW,2017-10-13 23:34:13.000000000,2019-11-11 08:46:22.000000000,,532,2,162,511983,b029cd3410556065ec3ab48562f302a5f03c6a29,309,20,55,21,11536,hongbin,hongbin,"Add project_default to Network

Introduce an attribute 'project_default' to network. This attribute
indicates if a network is a default network within its project.
If a network is created or updated as project default, neutron will
ensure at most one default network exists per-project.

Note1: ML2 extension driver loaded on request via configuration:

  [ml2]
  extension_drivers = project_default_network

Note2: There is another network's attribute, called 'is_default', which
indicates if the network is external default. The preliminary plan is
to extend the existing 'is_default' attribute for project default but
this approach has several disadvantages, including the complexity on
data migration, upgrade, and ambiguous of semantic (the same attribute
is overloaded for two purposes: external default or project default).
Therefore, this patch proposes to introduce a new and independent
attribute to represent the project default network.

Other related patches:
* nova spec: https://review.openstack.org/#/c/520247/
* neutron-lib: https://review.openstack.org/#/c/514110/
* tempest test: https://review.openstack.org/#/c/542446/

APIImpact Add 'project_default' attribute to 'network' resource
DocImpact Document the new 'project_default' attribute

Change-Id: I465ea140910af50d62ab281d26357861cf96952b
Partial-Bug: #1690439
"
openstack%2Fkolla~master~Ia592dda4ee20979c701efe6007f236dba9848997,openstack/kolla,master,bug/1851692,Ia592dda4ee20979c701efe6007f236dba9848997,[manila] Fixes manila-share on debian/ubuntu,MERGED,2019-11-07 18:04:51.000000000,2019-11-11 08:39:21.000000000,2019-11-08 13:53:12.000000000,2,0,2,693400,1d5a208c2e5c81ed4169c63d1d5ea0ad31b78f2f,15,5,2,1,30523,Dincer Celik,osmanlicilegi,"[manila] Fixes manila-share on debian/ubuntu

manila-share cannot start on debian/ubuntu because python3-cephfs is missing.

Change-Id: Ia592dda4ee20979c701efe6007f236dba9848997
Closes-Bug: #1851692
"
openstack%2Ftripleo-quickstart-extras~master~Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a,openstack/tripleo-quickstart-extras,master,tobiko-playbook,Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a,Add playbook and role to run tobiko,MERGED,2019-04-24 12:57:18.000000000,2019-11-11 08:15:10.000000000,2019-11-08 20:34:03.000000000,317,0,77,655423,0046662a0b71815234cdef44f832c8a5a75e39dc,336,11,70,10,11975,Slawek Kaplonski,slaweq,"Add playbook and role to run tobiko

In Tobiko project we want to run job based on TripleO. To achieve that
we need to use some Tobiko specific playbooks which are added by this
patch.

This role will be used in Tobiko's TripleO based job which is
proposed in https://review.opendev.org/#/c/651828/

Change-Id: Ieffc859a92c8ef99dbc6d2c725d3c4bed8012b7a
"
openstack%2Fopenstack-helm-images~master~Ic186398a4fd93322060d5116325e8770ca92f35d,openstack/openstack-helm-images,master,aptly-version,Ic186398a4fd93322060d5116325e8770ca92f35d,mini-mirror: Add retries to package downloads,MERGED,2019-11-06 22:07:59.000000000,2019-11-11 08:02:40.000000000,2019-11-11 07:58:56.000000000,1,1,0,693262,0968eeb58991df5c4e7b48f0e3bf5e5118d1bde4,23,9,2,1,28618,Drew Walters,drewwalters96,"mini-mirror: Add retries to package downloads

Currently, a single package download failure causes the mini-mirror
build job to fail. This change adds three retries [0] to package
downloads to circumvent intermittent download errors due to a bad
network connection.

An aptly version of 1.0.0 or greater is required for this feature.

[0] https://www.aptly.info/doc/aptly/mirror/update/

Change-Id: Ic186398a4fd93322060d5116325e8770ca92f35d
Signed-off-by: Drew Walters <andrew.walters@att.com>
"
openstack%2Fopenstack-helm-images~master~Ic2f79b0a910f0c0e3e2aff361dfe14c9b312f0f9,openstack/openstack-helm-images,master,aptly-version,Ic2f79b0a910f0c0e3e2aff361dfe14c9b312f0f9,mini-mirror: Use latest aptly version,MERGED,2019-11-06 21:21:34.000000000,2019-11-11 08:00:55.000000000,2019-11-11 07:58:55.000000000,33,2,0,693256,306ba07e0af1d951a5244dc35be31a3456f1a074,42,12,3,3,28618,Drew Walters,drewwalters96,"mini-mirror: Use latest aptly version

Currently, the mini-mirror image job installs aptly from the standard
Ubuntu repositories. Consequently, the version of aptly used for the
Xenial build is 0.9.1 and differs from the version of aptly in the
Bionic build.

This change adds the official aptly repositories when installing aptly
in order to use the latest version and maintain consistency between the
two builds.

Change-Id: Ic2f79b0a910f0c0e3e2aff361dfe14c9b312f0f9
Signed-off-by: Drew Walters <andrew.walters@att.com>
"
openstack%2Fopenstack-helm-images~master~I6f53d424612af8788818d23ea43460444afc2172,openstack/openstack-helm-images,master,,I6f53d424612af8788818d23ea43460444afc2172,tox: Keeping going with docs,MERGED,2019-11-01 06:31:47.000000000,2019-11-11 07:51:34.000000000,2019-11-11 07:47:33.000000000,9,6,2,692500,3f036b5f72a9616575b968788aa3d46dcfb1dedc,16,5,4,3,30356,gugug,gujin,"tox: Keeping going with docs

1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

2. cleanup the exists folder before run sphinx-build command

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I6f53d424612af8788818d23ea43460444afc2172
"
openstack%2Fopenstack-helm-images~master~I9a912776d13585a1fbd75c5fc4bc7a297b8e225e,openstack/openstack-helm-images,master,,I9a912776d13585a1fbd75c5fc4bc7a297b8e225e,Nagios http POST event handler timeout,MERGED,2019-11-05 22:42:30.000000000,2019-11-11 07:50:04.000000000,2019-11-11 07:47:33.000000000,8,2,0,693091,01210c2a09be5c66ec7eeba735378f6a5ae8aac0,10,5,1,1,18295,John Lawrence,jl401j,"Nagios http POST event handler timeout

The current timeout is very low and is not efficient.
A default value of 20s timeout is added.

Change-Id: I9a912776d13585a1fbd75c5fc4bc7a297b8e225e
"
openstack%2Fopenstack-helm~master~I8512b9f3202b2bf56b77408aca8d239daab32add,openstack/openstack-helm,master,manifest-update,I8512b9f3202b2bf56b77408aca8d239daab32add,Update apiversion,MERGED,2019-10-03 19:24:55.000000000,2019-11-11 07:39:11.000000000,2019-11-11 07:37:32.000000000,2,2,0,686470,853f321f7bfe43ca4dab42ce17a902b95ba1cbed,34,9,8,1,20466,Tin Lam,tinlam,"Update apiversion

For k8s 1.16+, the extensions/v1beta1 has been replaced by
apps/v1 for DaemonSet. This patch set updates documents in
the OpenStack-Helm repository.

Change-Id: I8512b9f3202b2bf56b77408aca8d239daab32add
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Fopenstack-helm-images~master~Iea6b2e57b3a0319e8bcf98d23619d824cae97349,openstack/openstack-helm-images,master,patroni_version_pin,Iea6b2e57b3a0319e8bcf98d23619d824cae97349,Pin Patroni to v1.5.6,MERGED,2019-08-26 15:20:41.000000000,2019-11-11 07:35:53.000000000,2019-11-11 07:34:28.000000000,10,2,3,678591,343175b16ea73e86b1fc92adf667265d1a01e7c1,27,12,4,2,28718,Doug Aaser,daaser,"Pin Patroni to v1.5.6

Pin the version of Patroni to v1.5.6 to prevent any issues that may
arise with using an new, untested version.

Change-Id: Iea6b2e57b3a0319e8bcf98d23619d824cae97349
"
openstack%2Fkarbor~master~Ife73b29511de3eea5094732fcfc82ff5e9783bc2,openstack/karbor,master,,Ife73b29511de3eea5094732fcfc82ff5e9783bc2,Add some operation log,MERGED,2019-11-09 08:00:48.000000000,2019-11-11 07:21:49.000000000,2019-11-11 07:20:31.000000000,49,0,10,693608,11ce26e4845f2396c0e63447ad174c357d75ea5c,16,4,3,2,17843,guolei,guolei,"Add some operation log

For protect operation and retention operation, lacks some
key operation log print, so we add it.

Change-Id: Ife73b29511de3eea5094732fcfc82ff5e9783bc2
Signed-off-by: guolei <guolei@cmss.chinamobile.com>
"
openstack%2Fpython-senlinclient~stable%2Frocky~I08efcf3ca8382eab89db4da22821799faf32af59,openstack/python-senlinclient,stable/rocky,,I08efcf3ca8382eab89db4da22821799faf32af59,Update json module to jsonutils,ABANDONED,2019-04-13 14:37:56.000000000,2019-11-11 05:17:01.000000000,,5,7,0,652201,52fcbc604327408ed12059bdf74322d84611f8d1,4,3,1,2,30098,centy,centy,"Update json module to jsonutils

oslo project provide jsonutils, and senlinclient use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/python-senlinclient/search?q=jsonutils&unscoped_q=jsonutils

Change-Id: I08efcf3ca8382eab89db4da22821799faf32af59
(cherry picked from commit 3425b56057ccb05ef6a110d59fbcc95be94b0fb2)
"
openstack%2Fsenlin~stable%2Fqueens~Iec7c869aa88a0f8600cc805008d01b2eee721565,openstack/senlin,stable/queens,,Iec7c869aa88a0f8600cc805008d01b2eee721565,DNM testing sdk bump,ABANDONED,2019-03-20 18:13:04.000000000,2019-11-11 05:16:44.000000000,,8,8,0,644962,b658d49e9535074faf517bd947216f60ef6e77e1,6,2,1,1,2,Monty Taylor,mordred,"DNM testing sdk bump

Depends-On: https://review.openstack.org/644960
Change-Id: Iec7c869aa88a0f8600cc805008d01b2eee721565
"
openstack%2Fopenstacksdk~master~I74714bfae1d488049d25701efcaad823b315631b,openstack/openstacksdk,master,,I74714bfae1d488049d25701efcaad823b315631b,Increase test timeout for 2 tests in TestImageProxy class,MERGED,2019-10-31 10:21:37.000000000,2019-11-11 03:49:17.000000000,2019-11-11 03:47:47.000000000,2,2,0,692323,561c3a6831af2428a61dc21221322f68f053a1fb,7,2,1,1,7102,Thomas Bechtold,toabctl,"Increase test timeout for 2 tests in TestImageProxy class

The tests TestImageProxy.test_wait_for_task_error_396 and
TestImageProxy.test_wait_for_task_error_396 from
openstack.tests.unit.image.v2.test_proxy are failing in some build
environments with:

openstack.exceptions.ResourceTimeout: Timeout waiting for Task:id to \
    transition to success

Increasing the timeout hopefully helps.

Change-Id: I74714bfae1d488049d25701efcaad823b315631b
"
openstack%2Fstorlets~master~I4f4ae8f9d1248feaca5b9181fc72e5b44e1eed4e,openstack/storlets,master,693291,I4f4ae8f9d1248feaca5b9181fc72e5b44e1eed4e,Ensure task_id is a native string on py3,MERGED,2019-11-08 00:15:53.000000000,2019-11-11 03:08:50.000000000,2019-11-11 03:07:51.000000000,2,0,0,693454,ba5aa7cdb803c66fa6e1b9ce84ef64fd78b7605e,9,2,2,1,15343,Tim Burke,tburke,"Ensure task_id is a native string on py3

Change-Id: I4f4ae8f9d1248feaca5b9181fc72e5b44e1eed4e
"
openstack%2Fstorlets~master~I69ebd60bda4e711b560b8cc7b3487988f69acafa,openstack/storlets,master,693291,I69ebd60bda4e711b560b8cc7b3487988f69acafa,PY3: Fix datagram message to be bytes,MERGED,2019-11-07 05:32:29.000000000,2019-11-11 03:06:09.000000000,2019-11-11 03:04:49.000000000,11,5,1,693291,236aaf2894271b50f9e80d623074fb4bb10da5ef,25,4,10,2,4608,Kota Tsuyuzaki,tsuyuzaki-kota,"PY3: Fix datagram message to be bytes

And the reply should be str after it was received.

Change-Id: I69ebd60bda4e711b560b8cc7b3487988f69acafa
"
openstack%2Fstorlets~master~I5cc87cac7eb2a36b8c86a4807592d3ee64d94780,openstack/storlets,master,,I5cc87cac7eb2a36b8c86a4807592d3ee64d94780,Port gathering logs routine from .functests to post ansible yaml,MERGED,2019-11-08 05:58:16.000000000,2019-11-11 02:56:30.000000000,2019-11-11 02:55:20.000000000,63,18,2,693481,28677c01134034c297b54fbb8195b57667065dfd,8,3,1,3,4608,Kota Tsuyuzaki,tsuyuzaki-kota,"Port gathering logs routine from .functests to post ansible yaml

Change-Id: I5cc87cac7eb2a36b8c86a4807592d3ee64d94780
"
openstack%2Frally-openstack~master~I387705ad9c5ca9179b6079a49dd39ed9b9361a03,openstack/rally-openstack,master,fix-neutron-subnet,I387705ad9c5ca9179b6079a49dd39ed9b9361a03,fix number of users for NeutronSubnets.delete_subnets,MERGED,2019-02-11 17:40:25.000000000,2019-11-11 02:53:52.000000000,2019-11-11 02:53:52.000000000,4,4,1,636187,a718e27474e2bf1555f060e28c4de27de1e561f4,18,4,3,1,28048,Will Szumski,jovial,"fix number of users for NeutronSubnets.delete_subnets

The NeutronSubnets.delete_subnets scenario assumes that the number of
users per tenant is greater or equal to the number of subnets per
network:

https://github.com/openstack/rally-openstack/blob/ed524c07c1559a4ed45c5f7eee78c4cac8a3450b/rally_openstack/scenarios/neutron/network.py

Note that `number` is set to the index of the user in the `users` list.
If there are fewer users than subnets, this means that a request to
delete the subnet is submitted more than once - resulting in
failures.

This change fixes the number of users per tenant to the same value as
the number of subnets per network. Additionally, we must use round robin
user selection to ensure that the same user is not selected twice.

Change-Id: I387705ad9c5ca9179b6079a49dd39ed9b9361a03
"
openstack%2Fwhitebox-tempest-plugin~master~I733ecae620800d6a6f9ca296da427d9986f3bf4e,openstack/whitebox-tempest-plugin,master,,I733ecae620800d6a6f9ca296da427d9986f3bf4e,"[WIP] When pcpu is a single cpu, convert to int",ABANDONED,2019-11-10 04:03:17.000000000,2019-11-11 02:29:49.000000000,,9,3,0,693618,bc2e92346ef7928a07b4a87a17a2c79557964c35,3,1,1,1,8864,Artom Lifshitz,artom,"[WIP] When pcpu is a single cpu, convert to int

Change-Id: I733ecae620800d6a6f9ca296da427d9986f3bf4e
Story: 2006824
Task: 37397
"
openstack%2Fopenstack-helm-infra~master~I604ec837f3f2d157c829ab43a44e561879775c77,openstack/openstack-helm-infra,master,fix_max_seqno,I604ec837f3f2d157c829ab43a44e561879775c77,Fix search of max sequence number,MERGED,2019-10-23 12:41:00.000000000,2019-11-11 01:09:07.000000000,2019-11-11 01:08:00.000000000,2,1,0,690560,4d808243f0b9419b6d65423589e5c55128e6553e,12,6,1,1,29013,Alex Grudev,ogrudev,"Fix search of max sequence number

It was observed that sometimes during
galera ckuster restart the node with highest
seqno is determined incorrecly. After investigation
it was found that max function is invoked on the
list of string values which can lead to incorrect results.
This patch performs casting the value to integer before building
list of seqnos hence max function will return correct result

Change-Id: I604ec837f3f2d157c829ab43a44e561879775c77
"
openstack%2Fopenstack-ansible~stable%2Ftrain~I3609d68769075c8bbee77214f3790b89692dd0b0,openstack/openstack-ansible,stable/train,add-upgrade-jobs-stable/train,I3609d68769075c8bbee77214f3790b89692dd0b0,Add metal upgrade jobs,MERGED,2019-11-01 07:10:44.000000000,2019-11-11 00:36:07.000000000,2019-11-11 00:34:01.000000000,31,6,0,692504,988b81300f486a452ff793d496ff0bf060c462b0,26,6,4,6,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add metal upgrade jobs

This patch adds jobs for both CentOS 7 and Ubuntu upgrades to
run in check and gate to ensure that we don't break upgrade paths.

Change-Id: I3609d68769075c8bbee77214f3790b89692dd0b0
"
openstack%2Fopenstack-helm-images~master~I64064ab93bce0c341df2b6d319f49b391e77f142,openstack/openstack-helm-images,master,,I64064ab93bce0c341df2b6d319f49b391e77f142,"[Abandon] Feature is no longer needed. Trying to abandon it, but button not found",ABANDONED,2019-04-30 20:35:28.000000000,2019-11-11 00:24:13.000000000,,80,9401,23,656584,4aec4a2fc3538b7f2399d30637461e02799d1c51,41,14,11,154,30355,Trung Thai,tthai,"[Abandon] Feature is no longer needed. Trying to abandon it, but button not found

Add Dockerfile and make file for MySQL-Client-Utility container.
This container provides MySQL Client software to connect to
MySQL and MariaDB server.

Change-Id: I64064ab93bce0c341df2b6d319f49b391e77f142
"
openstack%2Fopenstack-ansible-os_tempest~stable%2Fqueens~Ib764c70e483513bec5bd97d4499e67beb4501826,openstack/openstack-ansible-os_tempest,stable/queens,queens/ci-image,Ib764c70e483513bec5bd97d4499e67beb4501826,Don't download image when it's already there,MERGED,2019-11-06 14:09:35.000000000,2019-11-10 22:46:12.000000000,2019-11-10 22:46:12.000000000,5,5,0,693182,e6f27c29df82978b45b15e417437df56eb8fd2d3,34,4,1,2,25023,Jonathan Rosser,jrosser,"Don't download image when it's already there

As image should have been already cached in CI, we shouldn't
download it again but just verify the checksum.

NOTE - at the time of this commit download.cirros.com is not working
so the cirros image is also switched to 0.4.0 which is present in
the infra CI image.

(cherry-picked from commit ad4841f70a0ad4ed8090fc3f4c83812204cb59c0)
Change-Id: Ib764c70e483513bec5bd97d4499e67beb4501826
"
openstack%2Fnova~master~I1333e9f888bb2994d0818a4498b20abe920aa23b,openstack/nova,master,bug/1714235,I1333e9f888bb2994d0818a4498b20abe920aa23b,Avoid live migrate to same host,ABANDONED,2018-02-09 07:36:19.000000000,2019-11-10 21:21:37.000000000,,55,13,26,542689,bb7923ec55ed5d878453ff09a445abda3d1b5965,232,26,14,7,6062,jichenjc,jichenjc,"Avoid live migrate to same host

As live migrate target to move instance to another host, we should
check at API layer before really do the action. This patch add
a check before calling conductor on whether host name is same.

Change-Id: I1333e9f888bb2994d0818a4498b20abe920aa23b
Closes-Bug: 1714235
"
openstack%2Fnova~master~Id4c92741dbe2e794c1be677874891468a03bc935,openstack/nova,master,bug/1732363,Id4c92741dbe2e794c1be677874891468a03bc935,Use subprocess securely,ABANDONED,2017-11-15 08:56:32.000000000,2019-11-10 21:12:05.000000000,,19,19,2,520013,7a05d258fd1619c164ef19d1821a89da26b4cefb,18,8,1,3,22056,yushangbin,yushangbin,"Use subprocess securely

Due to https://docs.openstack.org/bandit/latest/plugins/subprocess_popen_with_shell_equals_true.html,
and reference https://security.openstack.org/guidelines/dg_avoid-shell-true.html and
https://security.openstack.org/guidelines/dg_use-subprocess-securely.html,
we should use python pipes to avoid shells and use subprocess more securely.

Closes-Bug: #1732363
Change-Id: Id4c92741dbe2e794c1be677874891468a03bc935
"
openstack%2Fnova~master~I909827bdb542bffeecd0e694fadd94f650445db2,openstack/nova,master,bp/vm-power-management,I909827bdb542bffeecd0e694fadd94f650445db2,Add a communication channel for power management support,ABANDONED,2017-10-17 20:20:36.000000000,2019-11-10 21:10:30.000000000,,323,2,5,512815,e13b4d04f64acd020b00a07de6b8c40edd5e22f8,77,16,8,10,23803,Marco Chiappero,mchiappe,"Add a communication channel for power management support

Some network operators aim to reduce operational costs by tying power
consumption to the actual traffic flowing through their VNFs. These VNFs
can evaluate the required performance but also need a way to control
power related HW capabilities present on the host.

This patch configures the libvirt domain XML to include a virtio-serial
channel for power management purposes only, for VMs running on Qemu or
KVM and executing an image with the 'hw_power_governor' property.
Such channel can then be used by energy-aware applications in the guest,
run in combination with a matching power agent on the host for HW
control.

The DPDK project already provides a sample agent and application for
such purpose, DPDK based VNFs would benefit from improved support at the
orchestration layer.

Implements: blueprint vm-power-management
Change-Id: I909827bdb542bffeecd0e694fadd94f650445db2"
openstack%2Fironic~master~I2edec4cbea2d39910f1fb52b0373169c03a4ec0d,openstack/ironic,master,50-fix-snmp-test-sleep-mock,I2edec4cbea2d39910f1fb52b0373169c03a4ec0d,Fix `snmp` unit test,MERGED,2019-11-07 11:29:22.000000000,2019-11-10 18:01:20.000000000,2019-11-10 17:59:57.000000000,2,1,0,693343,2a6b74b558e762e4848dee0edc6d16ff016f9227,10,5,1,1,26340,Ilya Etingof,etingof,"Fix `snmp` unit test

Under some condition, some code underneath `snmp` power driver
seems to call `sleep` for its own reason. That fails sleep
mock call assertion:

    AssertionError: Expected 'sleep' to be called once. Called 8 times.
    Calls: [call(0), call(0), call(0), ... call(0), call(5)].

This fix asserts just the sleep call we expect.

Change-Id: I2edec4cbea2d39910f1fb52b0373169c03a4ec0d
"
openstack%2Fopenstack-ansible~master~I501651f417ace6492bf039605ec5a61c21bfab12,openstack/openstack-ansible,master,,I501651f417ace6492bf039605ec5a61c21bfab12,Fix core-reviewer source  link.,MERGED,2019-10-19 03:35:02.000000000,2019-11-10 16:42:07.000000000,2019-11-10 16:40:14.000000000,1,1,0,689614,ee679637f6cd17f08a4b6b233d2cce94d036683e,11,5,2,1,30717,wangfaxin,wangfaxin,"Fix core-reviewer source  link.

Change-Id: I501651f417ace6492bf039605ec5a61c21bfab12
"
openstack%2Fneutron~master~If856bba4e61a6f1326138fc3a7ab29ce87c3ad04,openstack/neutron,master,geneve-max-header-config,If856bba4e61a6f1326138fc3a7ab29ce87c3ad04,Fix Geneve max_header_size config option text,MERGED,2019-11-01 12:50:35.000000000,2019-11-10 12:33:33.000000000,2019-11-10 12:31:52.000000000,1,3,0,692538,30d3e4c56cf0ae91ddefa673cafc20f9f274cf25,31,7,1,1,1131,Brian Haley,brian-haley,"Fix Geneve max_header_size config option text

The max_header_size config option only applies to the
Geneve header itself, not the underlying IP/IPv6 header,
whose size is calculated separately. Remove a misleading
sentence and correct the help text to say '30'.

Trivialfix

Change-Id: If856bba4e61a6f1326138fc3a7ab29ce87c3ad04
"
openstack%2Frequirements~master~I7960b30e43153704197edcbd2f5dcd60eccc8abd,openstack/requirements,master,openstack/requirements/constraints/noclob,I7960b30e43153704197edcbd2f5dcd60eccc8abd,Updated from generate-constraints,MERGED,2019-11-09 06:29:46.000000000,2019-11-10 10:06:23.000000000,2019-11-10 10:05:19.000000000,12,8,0,693606,9d5d92e6ef8f5b02dda50f694642c0dec2acaadc,11,2,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I7960b30e43153704197edcbd2f5dcd60eccc8abd
"
openstack%2Fdiskimage-builder~master~I1d9c510eded1ee49ce724f7257b15fc55c1e7a9a,openstack/diskimage-builder,master,,I1d9c510eded1ee49ce724f7257b15fc55c1e7a9a,Add container-image root element,NEW,2019-11-10 04:26:41.000000000,2019-11-10 07:25:20.000000000,,60,0,0,693619,8d2c77ddbfd007342d61a359687a49efcbb51fc0,4,3,1,3,2,Monty Taylor,mordred,"Add container-image root element

Getting minimal starting filesystems is done via tools such as
debootstrap and yum on the host OS. This gets complicated as the
host OS then has to have appropriate verions of such tools for
given target image OSes, which is often not a priority for host
distros.

In the time since diskimage-builder was written, container images
have become prevalent, and there is, generally speaking, a container
image for every minimal root filesystem we'd like. Additionally,
since container image building tools are also prevalent, custom
container images can easily be used as an input for custom root
filesystems before applying diskimage-builder specific elements.

Add a container-image root element that creates a container based
on a given image name and then exports the contents of that over
TARGET_ROOT.

Change-Id: I1d9c510eded1ee49ce724f7257b15fc55c1e7a9a
"
openstack%2Ftripleo-ansible~master~Ieb99efd35108f4cb53e4f3f29da2415ba4152a9c,openstack/tripleo-ansible,master,,Ieb99efd35108f4cb53e4f3f29da2415ba4152a9c,tox: Keeping going with docs,MERGED,2019-11-02 18:38:08.000000000,2019-11-10 07:24:06.000000000,2019-11-10 07:22:28.000000000,4,3,0,692682,d4fd512305296f5f7cf7881660ec3acc5c014760,11,5,2,2,30356,gugug,gujin,"tox: Keeping going with docs

Change-Id: Ieb99efd35108f4cb53e4f3f29da2415ba4152a9c
"
openstack%2Ftripleo-ansible~master~I2afb71288208c8b97763caa832c94e06e1b9457c,openstack/tripleo-ansible,master,exec,I2afb71288208c8b97763caa832c94e06e1b9457c,tripleo-container-manage: fix exec check,MERGED,2019-11-07 20:22:29.000000000,2019-11-10 07:22:27.000000000,2019-11-10 07:22:27.000000000,18,7,2,693423,e68d4b42a222e97f6c0263398ac739866e5969b4,24,4,8,4,3153,Emilien Macchi,emilienm,"tripleo-container-manage: fix exec check

Fix the task which check if the container where the exec happens is
actually running.

Also podman_containers needs to be refreshed at every start_order to get
new container informations status.
So moving podman_containers from main, and putting it where we need it:
- before processing the list of containers to delete
- when start_order playbook starts

Co-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>
Change-Id: I2afb71288208c8b97763caa832c94e06e1b9457c
"
openstack%2Fmanila-ui~master~I5b4dc1853d7e4f8f736dd2a22eb08bcfdeac3411,openstack/manila-ui,master,drop-py27-support,I5b4dc1853d7e4f8f736dd2a22eb08bcfdeac3411,Drop python2.7 support,MERGED,2019-10-25 05:01:52.000000000,2019-11-09 20:41:05.000000000,2019-11-09 20:39:23.000000000,13,26,0,691184,3cd2fec23064fb8e2abe7062e72ab22efca6b2c8,19,5,5,5,16643,Goutham Pacha Ravi,gouthamr,"Drop python2.7 support

As per the official python support timeline
set forth by the OpenStack TC [1], OpenStack
Train (in our case, manila-ui 2.19.x
series) is the last release that will support
python2.7.

Depends-On: https://review.opendev.org/#/c/688997/
[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html

Change-Id: I5b4dc1853d7e4f8f736dd2a22eb08bcfdeac3411
"
openstack%2Fcharm-mysql-innodb-cluster~master~I7b43c3e137b44b93dcf501235c5b55975250019f,openstack/charm-mysql-innodb-cluster,master,issue/1,I7b43c3e137b44b93dcf501235c5b55975250019f,Documentation corrections,MERGED,2019-11-08 19:32:15.000000000,2019-11-09 17:12:35.000000000,2019-11-09 17:12:35.000000000,5,13,0,693581,d63757b6124104c76c6e2b60879631234511911c,10,3,2,2,20805,David Ames,thedac,"Documentation corrections

Per issues/1 change MySQLInnoDBClusterCharm  to ConfigurationAdapter in
the class method docstrings.
Update HACKING to remove features that already exist.
This change is a functional noop.

Closes issues/1

Change-Id: I7b43c3e137b44b93dcf501235c5b55975250019f
"
openstack%2Ftripleo-heat-templates~master~I6aae1c8029cf6c9fff52a79d7a1519888f46dd81,openstack/tripleo-heat-templates,master,fix_collectd_amq_presettle,I6aae1c8029cf6c9fff52a79d7a1519888f46dd81,Fix the amqp presettle option for metrics and events in collectd,MERGED,2019-11-01 11:17:38.000000000,2019-11-09 16:46:11.000000000,2019-11-08 23:48:02.000000000,2,2,0,692529,1c1f78bc5bce2f5fa957c1e042bfd735d81320e9,16,8,1,1,13177,Emma Foley,emma-l-foley,"Fix the amqp presettle option for metrics and events in collectd

The values for presettle were incorrect for metrics and events sent
via AMQP.
Events should NOT be pre-settled, as they need to be ack'd to
ensure that all messages are delivered.
Metrics should be presettled as they don't require an ack.

Change-Id: I6aae1c8029cf6c9fff52a79d7a1519888f46dd81
"
openstack%2Fpuppet-neutron~master~I4d48f811aff6bfb54f7089130d513ee52de2b8a7,openstack/puppet-neutron,master,missing-defalut-value-radvd_user,I4d48f811aff6bfb54f7089130d513ee52de2b8a7,Add default value for radvd_user option,MERGED,2019-11-09 01:50:34.000000000,2019-11-09 09:05:32.000000000,2019-11-09 09:05:32.000000000,1,0,0,693603,0d9bc9d96cad7ff76cd5af063c2b188fb9b37047,7,3,1,1,9414,zhongshengping,ZhongShengping,"Add default value for radvd_user option

Change-Id: I4d48f811aff6bfb54f7089130d513ee52de2b8a7
"
openstack%2Fsecurity-doc~master~Iadbd35f56da7968352afbce3476f762440c98843,openstack/security-doc,master,zanata/translations,Iadbd35f56da7968352afbce3476f762440c98843,Imported Translations from Zanata,MERGED,2019-11-09 08:33:42.000000000,2019-11-09 09:02:06.000000000,2019-11-09 09:00:43.000000000,48,2,0,693609,bd583f4f479ee24a0d12b35d6c451b5a3af85dbd,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iadbd35f56da7968352afbce3476f762440c98843
"
openstack%2Fpuppet-neutron~master~Iea4a47e5a58021a2244057996ed3f5765cb8978f,openstack/puppet-neutron,master,add-unit-test-radvd_user,Iea4a47e5a58021a2244057996ed3f5765cb8978f,Add unit test for radvd_user option,MERGED,2019-11-09 01:57:02.000000000,2019-11-09 08:51:54.000000000,2019-11-09 08:51:54.000000000,11,0,0,693604,f590e019eb28dbc159f07c021a5712b55c14ef69,6,2,1,1,9414,zhongshengping,ZhongShengping,"Add unit test for radvd_user option

Change-Id: Iea4a47e5a58021a2244057996ed3f5765cb8978f
"
openstack%2Fkarbor~master~I54497c76c3fc7f6624d4b8ac48601b46569a0d9d,openstack/karbor,master,contributor-guide,I54497c76c3fc7f6624d4b8ac48601b46569a0d9d,Update contributor doc,MERGED,2019-11-03 12:28:56.000000000,2019-11-09 08:43:41.000000000,2019-11-09 08:42:06.000000000,13,0,0,692745,14c723aa8d3043b451b11fb836465f49472e459c,10,2,3,2,21224,jiaopengju,jiaopengju,"Update contributor doc

Change-Id: I54497c76c3fc7f6624d4b8ac48601b46569a0d9d
Story: 2006807
Task: 37357
"
openstack%2Fkarbor~master~I55995462f46d4cd7a135602bde92174edaf6b5a8,openstack/karbor,master,unit_test_triggers,I55995462f46d4cd7a135602bde92174edaf6b5a8,Add unit test for triggers,MERGED,2019-11-07 08:28:51.000000000,2019-11-09 07:31:39.000000000,2019-11-09 07:30:25.000000000,16,0,0,693313,3ce0a84c36b7187683fc19254f5ec3818937443a,9,3,1,1,29272,liushuai,liushuai,"Add unit test for triggers

Change-Id: I55995462f46d4cd7a135602bde92174edaf6b5a8
"
openstack%2Fpython-karborclient~master~Id0d6ee5142687f64cbf448a8983683b19eb4b1f6,openstack/python-karborclient,master,unit_test_quotas,Id0d6ee5142687f64cbf448a8983683b19eb4b1f6,Add unit test for quotas,MERGED,2019-11-07 08:49:53.000000000,2019-11-09 07:29:31.000000000,2019-11-09 07:28:19.000000000,28,0,0,693318,21addfcca0e5c726cac4ea75c699d7700ea5e817,7,2,1,2,29272,liushuai,liushuai,"Add unit test for quotas

Change-Id: Id0d6ee5142687f64cbf448a8983683b19eb4b1f6
"
openstack%2Fpuppet-neutron~master~I132cb641df708e72e0adb649b1b068e9bab5a1ec,openstack/puppet-neutron,master,add-releasenotes-radvd_user,I132cb641df708e72e0adb649b1b068e9bab5a1ec,Add missing release note for radvd_user option,MERGED,2019-11-09 01:48:40.000000000,2019-11-09 02:17:55.000000000,2019-11-09 02:16:59.000000000,5,0,0,693602,353bdc69d09d05538a3a357446513d2a7f118255,7,2,1,1,9414,zhongshengping,ZhongShengping,"Add missing release note for radvd_user option

Change-Id: I132cb641df708e72e0adb649b1b068e9bab5a1ec
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I1a6b4df073b39924e6855ea865cfc856a1bdfe6b,openstack/python-tripleoclient,stable/train,trainbug/1851572,I1a6b4df073b39924e6855ea865cfc856a1bdfe6b,Support undercloud fake-hardware ironic driver,MERGED,2019-11-06 21:08:36.000000000,2019-11-09 01:42:56.000000000,2019-11-09 01:41:51.000000000,17,6,0,693254,9f2a8ae360501df755dd41d156c4cbed6db55fe5,16,5,2,2,4571,Steve Baker,steve-stevebaker,"Support undercloud fake-hardware ironic driver

When including fake-hardware in the undercloud.conf
enabled_hardware_types, some of the fake-hardware default interfaces
are not enabled so it can't be used.

This change allows nodes to be created with driver fake-hardware. If
this proves useful for development or some scale testing then it might
be desirable to add fake-hardware by default to the
enabled_hardware_types list.

Change-Id: I1a6b4df073b39924e6855ea865cfc856a1bdfe6b
Closes-Bug: 1851572
(cherry picked from commit 3657d1dc8deb77a097d591cc30bfed89292265fa)
"
openstack%2Fnova~master~I3cf6eb4654663865d9258c38f05cd05974ffcf9d,openstack/nova,master,bug/1850280,I3cf6eb4654663865d9258c38f05cd05974ffcf9d,Use admin neutron client to see if instance has qos ports,MERGED,2019-10-29 16:04:15.000000000,2019-11-09 01:30:34.000000000,2019-11-08 21:16:12.000000000,82,15,6,691900,899976960503524b8e5c6588e339742ca4bf8158,69,15,3,10,9708,Balazs Gibizer,gibi,"Use admin neutron client to see if instance has qos ports

The nova-api checks at each move* operation if the instance has qos port
attached as not all the move operations are supported for such servers.
Nova uses the request context to initialize the neutron client for the
port query. However neutron does not return the value of the
resource_request of the port if it is queried with a non admin client.
This causes that if the move operation is initiated by a non admin
then nova thinks that the ports do not have resource request.

This patch creates an admin context for this neutron query.

The new functional tests are not added before this patch in a regression
test like way as existing functional tests are reused with different
setup and doing that without the fix causes a lot of different failure
scenarios.

Note that neutron fixture is changed to simulate the different behavior
in case of different request context are used to initialize the client.

*: Note that Id5f2f4f22b856c989e2eef8ed56b9829d1bcefb6 removed the check
   for evacuate in Ussuri but exists in Train and Stein.

Change-Id: I3cf6eb4654663865d9258c38f05cd05974ffcf9d
Closes-Bug: #1850280
"
openstack%2Fopenstack-ansible-os_tempest~master~I13d77c0d24a5fbf9c7839b55918a7a886cc09256,openstack/openstack-ansible-os_tempest,master,fix,I13d77c0d24a5fbf9c7839b55918a7a886cc09256,Fix a typo in tempest_install_source.yml,MERGED,2019-11-04 09:12:15.000000000,2019-11-09 01:09:56.000000000,2019-11-09 01:08:44.000000000,1,1,0,692779,657a13fb649582a02f7b76519429d41376482f99,22,5,1,1,23317,ShangXiao,ShangXiao,"Fix a typo in tempest_install_source.yml

Fix the wrong word ""visable"" to ""visible"".

Change-Id: I13d77c0d24a5fbf9c7839b55918a7a886cc09256
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I354c2fedafb88bb363321d1338c39d479560fc3e,openstack/tripleo-heat-templates,stable/stein,,I354c2fedafb88bb363321d1338c39d479560fc3e,Fix typo in OVN upgrade tasks.,MERGED,2019-11-08 07:05:53.000000000,2019-11-09 00:44:32.000000000,2019-11-09 00:44:31.000000000,1,1,0,693488,d54d0d92c562e750bc31b8592d12cd561104a980,8,5,1,1,3153,Emilien Macchi,emilienm,"Fix typo in OVN upgrade tasks.

Change-Id: I354c2fedafb88bb363321d1338c39d479560fc3e
Closes-Bug: #1851660
(cherry picked from commit eda88f0c7142ae22d2b252956fcaf461eb7e99b6)
"
openstack%2Ftripleo-common~stable%2Ftrain~Ia9e291d476d3143b194ce06002a0c1745cf3ef94,openstack/tripleo-common,stable/train,,Ia9e291d476d3143b194ce06002a0c1745cf3ef94,"Revert ""Set display_skipped_host to no""",MERGED,2019-11-08 00:20:06.000000000,2019-11-08 23:40:54.000000000,2019-11-08 23:39:22.000000000,0,2,0,693456,dea009bf19f6707f55f0f33466d2edae4b2c5420,12,5,1,1,14985,Alex Schultz,mwhahaha,"Revert ""Set display_skipped_host to no""

display_skipped_hosts=no has the unfortunate side effect of not showing
the running task name until the task has returned. The reason is b/c the
task name won't be shown at all if all hosts are skipped, but that won't
be known until the task returns.

For long running tasks, this can be quite misleading as the running task
name is not seen until it returns. This makes debugging difficult, and users
don't know what task is actually running until it's completed.

There is an option to show the task name as soon as it starts executing,
but it was not added until ansible-2.9:
https://github.com/ansible/ansible/pull/53819

See also https://github.com/ansible/ansible/issues/51042

This reverts commit 403535c5722cda7cdc7573b009046fb0c2f86c7c.

Change-Id: Ia9e291d476d3143b194ce06002a0c1745cf3ef94
(cherry picked from commit efe21cdecbba5a17dfe805e238865c8fd696c39d)
"
openstack%2Fopenstack-ansible~stable%2Ftrain~I06cf7fa01b5406222356aa133123bf7a1b04c0b7,openstack/openstack-ansible,stable/train,bug/1851379-stable/train,I06cf7fa01b5406222356aa133123bf7a1b04c0b7,Fix requirements_git_url call,MERGED,2019-11-08 17:45:08.000000000,2019-11-08 23:26:42.000000000,2019-11-08 23:25:01.000000000,1,1,0,693565,cfab9119e84b35da2b00ac06765ed1941ef9b493,9,3,1,1,23182,kourosh vivan,KouroshVivan,"Fix requirements_git_url call

requirements_git_url is the full url to upper-constraints.txt.

Change-Id: I06cf7fa01b5406222356aa133123bf7a1b04c0b7
Close-Bug: 1851379
(cherry picked from commit e5a6a1416f1547a2dce283b74af8457c3a22f5a3)
"
openstack%2Fovsdbapp~master~Ia710b8f394e9446f0da83221e314d73d2edcfb08,openstack/ovsdbapp,master,,Ia710b8f394e9446f0da83221e314d73d2edcfb08,Fix debug_venv for ovn split,MERGED,2019-11-05 02:53:15.000000000,2019-11-08 23:23:53.000000000,2019-11-08 23:22:28.000000000,6,5,0,692941,0bd24c269d07e1181d9e6a7ed4267a63d7ad1921,10,3,2,3,5756,Terry Wilson,otherwiseguy,"Fix debug_venv for ovn split

Change-Id: Ia710b8f394e9446f0da83221e314d73d2edcfb08
"
openstack%2Ftripleo-ansible~master~I9c6ad6c0d1b41bbe0bb64c7c1bc9e9ef159ed172,openstack/tripleo-ansible,master,zuul,I9c6ad6c0d1b41bbe0bb64c7c1bc9e9ef159ed172,Run undercloud-containers job in check/gate,MERGED,2019-11-08 12:56:21.000000000,2019-11-08 23:13:53.000000000,2019-11-08 23:13:53.000000000,5,0,0,693534,2a395adc0db2563e42bec637fbeaf6b6e40d0e4e,8,4,1,1,3153,Emilien Macchi,emilienm,"Run undercloud-containers job in check/gate

This job is about to run without Paunch which happens thanks to a new
role in tripleo-ansible, so we need to gate changes in tripleo-ansible
on undercloud-containers job as well.

Change-Id: I9c6ad6c0d1b41bbe0bb64c7c1bc9e9ef159ed172
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I46143c5c8fd4d10436f972dae87d4f0340bb3616,openstack/openstack-ansible-openstack_hosts,master,fix,I46143c5c8fd4d10436f972dae87d4f0340bb3616,Fix typos in yml files,MERGED,2019-11-07 03:08:31.000000000,2019-11-08 22:59:33.000000000,2019-11-08 22:58:35.000000000,2,2,0,693280,ffe2155298023918d63b67637e2b8f9af4d4263f,10,4,1,2,23317,ShangXiao,ShangXiao,"Fix typos in yml files

Change-Id: I46143c5c8fd4d10436f972dae87d4f0340bb3616
"
openstack%2Fopenstack-helm-infra~master~I8b6eda00f77ec7393a4311309f3ff76908d06ae6,openstack/openstack-helm-infra,master,,I8b6eda00f77ec7393a4311309f3ff76908d06ae6,fix: ceph-osd AppArmor profiles not applied,MERGED,2019-10-23 01:32:54.000000000,2019-11-08 22:50:47.000000000,2019-11-08 22:49:15.000000000,1,12,7,690457,938c6d9bb92a37a9702e8205aa6ab259bf3f39f5,36,12,8,2,28719,Phil Sphicas,ps3910,"fix: ceph-osd AppArmor profiles not applied

AppArmor annotations require the container name to be applied properly.
Before this change, when overrides are not used, the container name is
ceph-osd-default. When overrides are used, the container name is of the
form ceph-osd-HOSTNAME-SHA, but with an identical HOSTNAME and SHA for
all the daemonsets. However, it is not possible to predict this value,
and as a result, the AppArmor profiles are not applied.

This change removes the customization of the container name, and sets
it to ceph-osd-default, allowing AppArmor annotations to be consistently
applied using:

    pod:
      mandatory_access_control:
        type: apparmor
        ceph-osd-default:
          ceph-osd-default: localhost/profilename

Change-Id: I8b6eda00f77ec7393a4311309f3ff76908d06ae6
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~I5c82c6c10d32ccfb19c983fd4aaf0a44aee31681,openstack/openstack-ansible-rabbitmq_server,master,fix,I5c82c6c10d32ccfb19c983fd4aaf0a44aee31681,Fix typos in install_apt.yml,MERGED,2019-11-07 02:58:32.000000000,2019-11-08 22:48:57.000000000,2019-11-08 22:47:49.000000000,2,2,0,693279,5761171b92333918d6023c1c4555c5453e60a495,10,4,1,1,23317,ShangXiao,ShangXiao,"Fix typos in install_apt.yml

Change-Id: I5c82c6c10d32ccfb19c983fd4aaf0a44aee31681
"
openstack%2Fopenstack-ansible-os_nova~stable%2Ftrain~I709230061de4a743e1efc50ee3dd8d3c3465f10b,openstack/openstack-ansible-os_nova,stable/train,,I709230061de4a743e1efc50ee3dd8d3c3465f10b,Add auth_type to the ironic section of nova.conf,MERGED,2019-11-08 14:09:11.000000000,2019-11-08 21:41:01.000000000,2019-11-08 21:39:59.000000000,1,0,0,693541,9bc26d8214fe323617f042c5f9e65dcc4f247503,8,4,1,1,21314,Cam J. Loader,4-cameron,"Add auth_type to the ironic section of nova.conf

Without auth_type, nova cannot authenticate to keystone to see
available ironic hypervisors/create new baremetal boots.

Change-Id: I709230061de4a743e1efc50ee3dd8d3c3465f10b
(cherry picked from commit c0f95b09ac3ed9a0ca41d4efae5b9491707ef432)
"
openstack%2Fopenstack-ansible-os_zun~stable%2Ftrain~I43fb85532d1bbf0316a10664116a3bbbd9fdc66a,openstack/openstack-ansible-os_zun,stable/train,build-pdf-docs-stable/train,I43fb85532d1bbf0316a10664116a3bbbd9fdc66a,PDF Documentation Build tox target,MERGED,2019-11-08 11:56:14.000000000,2019-11-08 21:30:21.000000000,2019-11-08 21:28:48.000000000,28,6,0,693530,4cae331dfbc1a5223362116247d181a1dd9702f2,9,3,2,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I43fb85532d1bbf0316a10664116a3bbbd9fdc66a
Story: 2006105
(cherry picked from commit c462c02e38cda38ad76dd0dd7204dbc107e00ce6)
"
openstack%2Fopenstack-ansible-os_zun~stable%2Ftrain~I7b26fd1df0f5cece5063e377e0050eb20b692c1e,openstack/openstack-ansible-os_zun,stable/train,create-train,I7b26fd1df0f5cece5063e377e0050eb20b692c1e,Update .gitreview for stable/train,MERGED,2019-10-22 19:03:01.000000000,2019-11-08 21:24:38.000000000,2019-11-08 21:22:27.000000000,1,0,0,690308,78b0a909b24d71d68ffe48a3aa2ca39990bb29b8,10,3,2,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/train

Change-Id: I7b26fd1df0f5cece5063e377e0050eb20b692c1e
"
openstack%2Fopenstack-ansible-os_zun~stable%2Ftrain~I991a5e62275eb13d8c86c6908274e2baf3aeb4d4,openstack/openstack-ansible-os_zun,stable/train,create-train,I991a5e62275eb13d8c86c6908274e2baf3aeb4d4,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-22 19:03:03.000000000,2019-11-08 21:23:50.000000000,2019-11-08 21:22:27.000000000,1,1,0,690309,6a50cd8d291ed83fac4f04521916aa31fe7ff720,10,3,2,1,22816,OpenStack Release Bot,release,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I991a5e62275eb13d8c86c6908274e2baf3aeb4d4
"
openstack%2Fopenstack-helm-images~master~I4af2da482b96b93b3e7f5b6248df401b318bf95d,openstack/openstack-helm-images,master,mini-mirror/multi-dist-component,I4af2da482b96b93b3e7f5b6248df401b318bf95d,"Revert ""mini-mirror: Add support for multi-dist publishing""",ABANDONED,2019-10-31 20:40:11.000000000,2019-11-08 21:23:06.000000000,,50,74,0,692449,6e7b78fd221b9e1a5ef6df37c4795c9e2db56705,10,20,3,4,28618,Drew Walters,drewwalters96,"Revert ""mini-mirror: Add support for multi-dist publishing""

This reverts commit 2d3ea795fa8fc5d0b5efb76eb6c8561928b43a3a.

Change-Id: I4af2da482b96b93b3e7f5b6248df401b318bf95d
"
openstack%2Fopenstack-ansible-os_zun~stable%2Ftrain~Idc16ce7b7e673fda63e0c422bcd15d222379532f,openstack/openstack-ansible-os_zun,stable/train,openstack/openstack-ansible-tests/sync-tests,Idc16ce7b7e673fda63e0c422bcd15d222379532f,Updated from OpenStack Ansible Tests,MERGED,2019-11-01 16:53:05.000000000,2019-11-08 21:14:13.000000000,2019-11-08 21:12:08.000000000,2,1,0,692587,d4e1c18f2d503dda020499dd0cfdce594c340fee,10,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Idc16ce7b7e673fda63e0c422bcd15d222379532f
"
openstack%2Fopenstack-ansible-os_zun~stable%2Ftrain~I2efc775d7e38019eb39ca85b6135b8506fc76c52,openstack/openstack-ansible-os_zun,stable/train,zun_tests-stable/train,I2efc775d7e38019eb39ca85b6135b8506fc76c52,Add uwsgi role into local a-r-r and test placement,MERGED,2019-11-08 08:00:34.000000000,2019-11-08 21:13:12.000000000,2019-11-08 21:12:08.000000000,43,0,0,693495,e91069b5dbf795863c2288760e606adb23c6e69d,8,3,1,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add uwsgi role into local a-r-r and test placement

Change-Id: I2efc775d7e38019eb39ca85b6135b8506fc76c52
"
openstack%2Ftripleo-common~stable%2Fstein~Ief83030835fa7e8c76ca2607135a4f840782bbb9,openstack/tripleo-common,stable/stein,logging-improvements-stable/stein,Ief83030835fa7e8c76ca2607135a4f840782bbb9,Stop logging manifest in debug,MERGED,2019-11-08 07:09:05.000000000,2019-11-08 21:04:32.000000000,2019-11-08 21:03:25.000000000,0,2,0,693492,ee405ae33fe0bf8e17a7fdc16082b1b1b54eea03,11,3,1,1,3153,Emilien Macchi,emilienm,"Stop logging manifest in debug

It's excessively verbose and is a json object which leads to the log
lines not being individual lines. We don't really need to be printing
this anymore.

Change-Id: Ief83030835fa7e8c76ca2607135a4f840782bbb9
(cherry picked from commit 958937eb67e289f5da7e790d47dcd69011732a50)
"
openstack%2Fopenstack-ansible-galera_server~stable%2Fstein~I23811cfaf23007c5da1860e78397be380d67403b,openstack/openstack-ansible-galera_server,stable/stein,bugs/1628720-stable/stein,I23811cfaf23007c5da1860e78397be380d67403b,Restart mysql when package is installed,MERGED,2019-11-06 12:44:57.000000000,2019-11-08 20:37:53.000000000,2019-11-08 20:36:26.000000000,13,0,0,693173,fbc410f82d44e7e457d6b6a92948132e4a0572a1,8,3,1,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Restart mysql when package is installed

When running galera_server role with galera_upgrade=true
it uninstalls mariadb and installs again. In some distros, like CentOS,
mariadb don't start automatically after installation, so upgrade fails.

This patch adds handler on packsage installation, which will be
triggered when package state is changed.

Change-Id: I23811cfaf23007c5da1860e78397be380d67403b
Related-bug: 1628720
(cherry picked from commit efc965f00fc515a46d03fcf22270ebc7bb8e4791)
"
openstack%2Fopenstack-ansible-os_heat~master~I5616c4b89444c8b87edbd5cefd61174d9b0f4ae9,openstack/openstack-ansible-os_heat,master,fix,I5616c4b89444c8b87edbd5cefd61174d9b0f4ae9,Fix a typo,MERGED,2019-11-05 08:41:08.000000000,2019-11-08 20:24:04.000000000,2019-11-08 20:22:51.000000000,1,1,0,692959,9cf5cd8e95d80e885905de96e99bdaf9e0a6f8d6,8,3,1,1,23317,ShangXiao,ShangXiao,"Fix a typo

Change-Id: I5616c4b89444c8b87edbd5cefd61174d9b0f4ae9
"
openstack%2Ftripleo-common~stable%2Ftrain~Ief83030835fa7e8c76ca2607135a4f840782bbb9,openstack/tripleo-common,stable/train,logging-improvements-stable/train,Ief83030835fa7e8c76ca2607135a4f840782bbb9,Stop logging manifest in debug,MERGED,2019-11-08 07:08:48.000000000,2019-11-08 20:23:25.000000000,2019-11-08 20:22:07.000000000,0,2,0,693491,7920221e52b311242d0ac71f529886c3dbc97330,12,4,1,1,3153,Emilien Macchi,emilienm,"Stop logging manifest in debug

It's excessively verbose and is a json object which leads to the log
lines not being individual lines. We don't really need to be printing
this anymore.

Change-Id: Ief83030835fa7e8c76ca2607135a4f840782bbb9
(cherry picked from commit 958937eb67e289f5da7e790d47dcd69011732a50)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I715ed03ddd961bfc6a4ff3693afa7e1dae4687c6,openstack/tripleo-heat-templates,stable/rocky,,I715ed03ddd961bfc6a4ff3693afa7e1dae4687c6,Run nova_api unprivileged,MERGED,2019-10-31 10:49:59.000000000,2019-11-08 20:08:21.000000000,2019-11-08 20:08:21.000000000,1,1,0,692328,80133ccb83165611acbf94af1ff54449e839efa1,22,5,1,1,14250,Grzegorz Grasza,xek,"Run nova_api unprivileged

Running it privileged is no longer necessary and bad for security.

Resolves: rhbz#1767385

Change-Id: I715ed03ddd961bfc6a4ff3693afa7e1dae4687c6
(cherry picked from commit 268aad2258dda4c4eff6a6a3173aa0ab1c36e781)
"
openstack%2Fopenstack-helm-infra~master~I62cdb88ab0f1d088c66a67f849bf74b3d002974b,openstack/openstack-helm-infra,master,prom-alert-fix,I62cdb88ab0f1d088c66a67f849bf74b3d002974b,[WIP/DNM] Tune up Prom Alerts,ABANDONED,2019-11-07 17:30:49.000000000,2019-11-08 20:02:06.000000000,,73,114,1,693397,e491f5c41f10ab07d7d7d24bba5cc3ffe89ee3ac,11,2,5,1,30777,Steven Fitzpatrick,sf280x,"[WIP/DNM] Tune up Prom Alerts

This change converts alert expressions which relied on instant vectors
to use range aggregate functions instead.

Co-Authored-By: Meg Heisler

Change-Id: I62cdb88ab0f1d088c66a67f849bf74b3d002974b
"
openstack%2Ftripleo-ansible~master~Ic73ad9cf3ea13ad485458a2d7c9d84690fe51d09,openstack/tripleo-ansible,master,systemd,Ic73ad9cf3ea13ad485458a2d7c9d84690fe51d09,tripleo-container-manage: add task to start systemd healthcheck service,MERGED,2019-11-08 13:18:00.000000000,2019-11-08 19:24:34.000000000,2019-11-08 19:24:34.000000000,10,1,0,693536,cb4b443f6ecce49dc047772544b26001ecf25d37,9,4,2,1,3153,Emilien Macchi,emilienm,"tripleo-container-manage: add task to start systemd healthcheck service

It seems like the healthcheck timer is started but sometimes not the
healthcheck service. Let's make sure it's properly started as well.

Change-Id: Ic73ad9cf3ea13ad485458a2d7c9d84690fe51d09
"
openstack%2Fcharm-mysql-innodb-cluster~master~I36ebfaba9a24d5edc6cee4ddc0a18a6580283e61,openstack/charm-mysql-innodb-cluster,master,feature/rolling-restarts,I36ebfaba9a24d5edc6cee4ddc0a18a6580283e61,Enable restart on config changed using coordinator,MERGED,2019-11-01 23:30:16.000000000,2019-11-08 19:10:56.000000000,2019-11-08 19:10:56.000000000,276,128,10,692627,88c1aae8007046742a1e147c9246ffc6f27eafe5,23,5,4,11,20805,David Ames,thedac,"Enable restart on config changed using coordinator

* Add initial config options
* Use coordinator to manage rolling restarts
* Factor out mysqlsh script execution
* Move to lib/charm/openstack to reuse charms.openstack features

Change-Id: I36ebfaba9a24d5edc6cee4ddc0a18a6580283e61
"
openstack%2Frequirements~master~I9a585cf749fbb6ec18f84cb1b1ea3c0003474f28,openstack/requirements,master,openstack/requirements/constraints/nocolb,I9a585cf749fbb6ec18f84cb1b1ea3c0003474f28,Updated from generate-constraints,MERGED,2019-11-07 06:26:53.000000000,2019-11-08 19:09:39.000000000,2019-11-08 19:08:29.000000000,11,11,0,693293,ecd5f77bb01785a10aa08b4e2a9bff741f5c6953,12,2,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I9a585cf749fbb6ec18f84cb1b1ea3c0003474f28
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I382b472185f445e5d81077bc50b4c9cb65285530,openstack/tripleo-heat-templates,stable/stein,bug/1851667-stable/stein,I382b472185f445e5d81077bc50b4c9cb65285530,Fix debug hiera keys,MERGED,2019-11-07 23:16:29.000000000,2019-11-08 18:50:57.000000000,2019-11-08 18:50:57.000000000,4,4,0,693445,c2e2706c593fdffe0cbd5505be68048234c2aed6,12,3,1,4,14985,Alex Schultz,mwhahaha,"Fix debug hiera keys

The correct key to configure mistral debug is mistral::logging::debug
not mistral::debug. The same is true for heat, manila and sahara.

Change-Id: I382b472185f445e5d81077bc50b4c9cb65285530
Closes-Bug: #1851667
(cherry picked from commit cf3fa9d77dff583ba62484f21d1ca150cfb73ecf)
"
openstack%2Fcharm-deployment-guide~master~I6c9520ba2b81a358a66bdb0be92410c90dfaccf2,openstack/charm-deployment-guide,master,bug/1811867,I6c9520ba2b81a358a66bdb0be92410c90dfaccf2,No mixing of charm releases nor series versions,MERGED,2019-11-07 20:29:24.000000000,2019-11-08 18:34:02.000000000,2019-11-08 18:32:46.000000000,49,3,6,693424,c74ce0fbdf81996331d7bddd259e15492ce7ee1d,23,4,4,3,30561,Peter Matulis,pmatulis,"No mixing of charm releases nor series versions

I realise now that 'Charm upgrades' should be
on its own page as they can be done independently
of an OpenStack upgrade. A future PR may address
this.

Closes-Bug: #1811867

Change-Id: I6c9520ba2b81a358a66bdb0be92410c90dfaccf2
"
openstack%2Ftripleo-puppet-elements~master~I27621ebb0fdc4e55aed19dbed7c0c924616fdd2f,openstack/tripleo-puppet-elements,master,,I27621ebb0fdc4e55aed19dbed7c0c924616fdd2f,Detect if the network.service is available.,ABANDONED,2019-11-06 14:54:13.000000000,2019-11-08 18:00:37.000000000,,6,2,0,693190,5f95ac4db0c89a242b1722248a11f753d6ee115e,8,3,1,1,25877,Luke Short,ekultails,"Detect if the network.service is available.

If not, then use the NetworkManager.service (for RHEL 8).

Change-Id: I27621ebb0fdc4e55aed19dbed7c0c924616fdd2f
Closes-Bug: 1851274
Signed-off-by: Luke Short <ekultails@gmail.com>
"
openstack%2Ftripleo-common-tempest-plugin~master~I30fa4e2308d83f4e6afd9efadf72b0096ad5fb83,openstack/tripleo-common-tempest-plugin,master,,I30fa4e2308d83f4e6afd9efadf72b0096ad5fb83,tox: Keeping going with docs,MERGED,2019-11-02 18:38:09.000000000,2019-11-08 17:58:16.000000000,2019-11-08 17:58:16.000000000,3,3,0,692683,b6929550ca4a5b6269b4451ec2250053728b7fa2,7,3,1,2,30356,gugug,gujin,"tox: Keeping going with docs

Change-Id: I30fa4e2308d83f4e6afd9efadf72b0096ad5fb83
"
openstack%2Ftripleo-heat-templates~master~I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c,openstack/tripleo-heat-templates,master,null,I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c,container-puppet: update 'env' when not null,MERGED,2019-11-07 14:15:16.000000000,2019-11-08 17:58:15.000000000,2019-11-08 17:58:15.000000000,3,6,1,693358,c01f383ea0283ac864b3bde63b0f424783afd1a2,20,5,5,1,3153,Emilien Macchi,emilienm,"container-puppet: update 'env' when not null

Only update ""env"" if the content isn't null otherwise we'll have
container configs with:
""environment"": null

And it causes problem later when we manipulate the config.

Change-Id: I0269a7ad0cf54e75dd25f8b3566ac0cab06fd93c
"
openstack%2Ftripleo-quickstart~master~Ic300d137d628f65b1e0e7ab7a130b63bc83150fe,openstack/tripleo-quickstart,master,cloudsig-containers,Ic300d137d628f65b1e0e7ab7a130b63bc83150fe,Add CloudSIG stein/train release files,MERGED,2019-06-18 11:56:59.000000000,2019-11-08 17:50:36.000000000,2019-11-08 17:48:35.000000000,218,0,2,665959,8b8e2b44f4f8c87cddad67e0114c5d2238f69e70,48,10,13,2,13861,yatin,yatinkarel,"Add CloudSIG stein/train release files

Add release files for Testing CloudSIG stein/train repos [1][2].
These will be initially used to run a scenario001
job in RDO which will build containers for CloudSIG repos and then deploy
those containers.

[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-stein/
[1] http://mirror.centos.org/centos/7/cloud/x86_64/openstack-train/

Change-Id: Ic300d137d628f65b1e0e7ab7a130b63bc83150fe
"
openstack%2Ftripleo-heat-templates~master~I3f05ca26064a2897a724876033a5cc4a602c38a2,openstack/tripleo-heat-templates,master,tox,I3f05ca26064a2897a724876033a5cc4a602c38a2,"zuul: remove ""files"" for openstack-tox-tht",MERGED,2019-11-07 14:36:46.000000000,2019-11-08 17:49:19.000000000,2019-11-08 17:49:19.000000000,0,3,0,693363,ccf1bca97c3932368a06fb5298a5a6f2993e5d78,14,5,1,1,3153,Emilien Macchi,emilienm,"zuul: remove ""files"" for openstack-tox-tht

openstack-tox-tht is a dependency of functional testing jobs, which can
be problematic now because it only runs if some files are touched.

If e.g. common/container_puppet.py is the only file that is changed,
zuul will complain because the dependency graph is broken.

Let's relax openstack-tox-tht to run all the times; and stay a
dependency of other functional testing jobs (which brings value).

Change-Id: I3f05ca26064a2897a724876033a5cc4a602c38a2
"
openstack%2Ftripleo-upgrade~master~Ic6dab95db351f7aca0bda1a734e79ed28d9afca2,openstack/tripleo-upgrade,master,,Ic6dab95db351f7aca0bda1a734e79ed28d9afca2,tox: Keeping going with docs,MERGED,2019-11-02 18:38:07.000000000,2019-11-08 17:48:37.000000000,2019-11-08 17:48:37.000000000,2,2,0,692681,e6cb67ac4af02dce2039bb3002c11d3ed31767d5,8,4,1,1,30356,gugug,gujin,"tox: Keeping going with docs

Change-Id: Ic6dab95db351f7aca0bda1a734e79ed28d9afca2
"
openstack%2Ftripleo-upgrade~master~Ic1f46e1978bbb34f80aed8a761c38acedd040296,openstack/tripleo-upgrade,master,,Ic1f46e1978bbb34f80aed8a761c38acedd040296,Do not validate neutron related side car container images.,MERGED,2019-10-16 16:36:23.000000000,2019-11-08 17:48:36.000000000,2019-11-08 17:48:36.000000000,1,1,2,688972,32c2dc994f2bd4ec6715db6686195484c1909186,11,5,1,1,8297,Sofer Athlan-Guyot,chem,"Do not validate neutron related side car container images.

Neutron spawns side car container when it needs them. In stein that
would be neutron-haproxy-ovnmeta which has an haproxy that relays
metadata queries.

When we run an update those side car container are not updated to not
disrupt services, so we add them to the list of container to not
check.

Change-Id: Ic1f46e1978bbb34f80aed8a761c38acedd040296
"
openstack%2Fopenstack-ansible~master~I06cf7fa01b5406222356aa133123bf7a1b04c0b7,openstack/openstack-ansible,master,bug/1851379,I06cf7fa01b5406222356aa133123bf7a1b04c0b7,Fix requirements_git_url call,MERGED,2019-11-05 14:12:44.000000000,2019-11-08 17:45:08.000000000,2019-11-08 15:37:15.000000000,1,1,0,693011,e5a6a1416f1547a2dce283b74af8457c3a22f5a3,20,5,2,1,23182,kourosh vivan,KouroshVivan,"Fix requirements_git_url call

requirements_git_url is the full url to upper-constraints.txt.

Change-Id: I06cf7fa01b5406222356aa133123bf7a1b04c0b7
Close-Bug: 1851379
"
openstack%2Fswift~stable%2Frocky~I84b062d062ff49935feed0aee3e1963bb72eb5ea,openstack/swift,stable/rocky,bug/1830881,I84b062d062ff49935feed0aee3e1963bb72eb5ea,Remove invalid dict entries from hashes.pkl,MERGED,2019-10-23 20:38:52.000000000,2019-11-08 17:42:15.000000000,2019-11-08 17:42:15.000000000,11,0,0,690737,b90c87158df46513489f64e34224de7424859874,12,3,1,2,15343,Tim Burke,tburke,"Remove invalid dict entries from hashes.pkl

If the data in a hashes.pkl is corrupted but still de-serialized without
errors, it will mess up the replication and gets never fixed. This
happens for example if one of the keys is a NULL byte.

This patch checks if the dict keys in hashes.pkl are valid strings and
invalidates it if not.

Closes-Bug: 1830881
Change-Id: I84b062d062ff49935feed0aee3e1963bb72eb5ea
(cherry picked from commit c9e78d15e1e05f23facf7c28758b442bb25bde68)
(cherry picked from commit 46da6c1c01bc8beaf9a2b0a46122376b1bc7441f)
"
openstack%2Fswift~master~I6b968d3707fede6d62974c31e1b741c81ed66907,openstack/swift,master,bindep_docs,I6b968d3707fede6d62974c31e1b741c81ed66907,Add libsrvg2 packages to bindep,NEW,2019-11-08 16:18:44.000000000,2019-11-08 17:33:50.000000000,,4,0,0,693557,9ce803d1283a6d25e8962052db201817a82d2633,2,1,1,1,9625,Thiago da Silva,thiago,"Add libsrvg2 packages to bindep

libsrvg2 is needed for sphinxcontrib-svg2pdfconverter in docs builds.

Change-Id: I6b968d3707fede6d62974c31e1b741c81ed66907
"
openstack%2Ftripleo-ci~master~Ia89f612540e50a4f917c57d6b85ceb28a73b09ff,openstack/tripleo-ci,master,cloudsig-containers,Ia89f612540e50a4f917c57d6b85ceb28a73b09ff,Allow to specify custom version_hash,MERGED,2019-06-14 09:52:09.000000000,2019-11-08 17:17:55.000000000,2019-11-08 17:17:55.000000000,31,3,21,665345,7c18d920b32d7d347da0a0f15b3d82834cabc742,49,9,16,6,13861,yatin,yatinkarel,"Allow to specify custom version_hash

Handle branches with name containing cloudsig/.

Also allow passing vars to run-test role, this is
mainly needed when run-test role is called with zuul
playbooks and need to pass variables to it so it can
be forwarded to nested quickstart ansible.

Change-Id: Ia89f612540e50a4f917c57d6b85ceb28a73b09ff
"
openstack%2Fopenstack-ansible-os_placement~master~I281d8974ee22e65da8d03c6784bcbbbe79648351,openstack/openstack-ansible-os_placement,master,placement_db_migration,I281d8974ee22e65da8d03c6784bcbbbe79648351,"Revert ""Add nova to placement DB migration""",MERGED,2019-11-01 18:52:52.000000000,2019-11-08 17:05:44.000000000,2019-11-08 17:04:43.000000000,0,37,0,692602,5c0a44c4df9c167edae7330ec4e603131da0aa75,15,6,3,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Revert ""Add nova to placement DB migration""

As nova_placement -> placement takes place in S->T upgrade,
we don't need this code anymore, as S->U is not supported anyway,
and T->U don't need placement to be migrated again

This reverts commit 3d6cedf85985ae9c658ee02f3c68c98e969c0f29.

Depends-On: https://review.opendev.org/692509
Change-Id: I281d8974ee22e65da8d03c6784bcbbbe79648351
"
openstack%2Fcharm-vault~master~Ie0a19ff7af99620506734ce89909c2b4a5e96ca7,openstack/charm-vault,master,bug/1833502,Ie0a19ff7af99620506734ce89909c2b4a5e96ca7,Add missing repo to layers.yaml,MERGED,2019-07-30 22:16:34.000000000,2019-11-08 16:48:04.000000000,2019-11-08 16:48:04.000000000,1,0,0,673705,b025be42f361ac26d0df7615f4bcd4df81e34618,13,4,2,1,8097,Haw Loeung,hloeung,"Add missing repo to layers.yaml

Without it, it will inherit from other layers and display incorrectly
in the charm store, see LP: #1833502

Change-Id: Ie0a19ff7af99620506734ce89909c2b4a5e96ca7
Closes-Bug: 1833502
"
openstack%2Fcastellan~master~I10a12b9a2a7f796eca37dd20a280d3a4015a6903,openstack/castellan,master,,I10a12b9a2a7f796eca37dd20a280d3a4015a6903,Reuse existing token from RequestContext,MERGED,2019-06-03 19:15:29.000000000,2019-11-08 16:28:52.000000000,2019-11-08 16:27:43.000000000,68,8,5,662830,5d936763380b9d97df409de2d33b3e9b98d61a94,47,9,16,2,8478,Vladislav Kuzmin,vkuzmin,"Reuse existing token from RequestContext

When castellan trying to recreate trust-scoped token
from RequestContext keystone throw exception
because it's not allowed.
Starting from this commit castellan trying to
reuse existing token constructed from RequestContext
if get_auth_plugin() is available.

Change-Id: I10a12b9a2a7f796eca37dd20a280d3a4015a6903
Closes-Bug: #1827047
Depends-On: https://review.opendev.org/#/c/664558/
"
openstack%2Fswift~master~I6d1f9a8f449744812f164aa4885c23fb35eab16c,openstack/swift,master,693299,I6d1f9a8f449744812f164aa4885c23fb35eab16c,WIP: fix DB status replication,NEW,2019-11-07 07:17:28.000000000,2019-11-08 16:27:45.000000000,,226,56,12,693299,9ac1cb4aa3fb267ba1536cc310427fada9ef1d7d,9,3,3,8,15343,Tim Burke,tburke,"WIP: fix DB status replication

Change-Id: I6d1f9a8f449744812f164aa4885c23fb35eab16c
"
openstack%2Fopenstack-ansible-repo_server~stable%2Ftrain~I8dcb3c97e9593877a4a420bd32b50ae29d9d311c,openstack/openstack-ansible-repo_server,stable/train,Offline_repo-stable/train,I8dcb3c97e9593877a4a420bd32b50ae29d9d311c,Add possibility to overwrite nginx public repo,MERGED,2019-11-08 09:47:22.000000000,2019-11-08 16:22:26.000000000,2019-11-08 16:21:23.000000000,6,4,0,693507,cf4ad43ca84262ff26cde6a03a243472e9e5e06b,8,3,1,3,23182,kourosh vivan,KouroshVivan,"Add possibility to overwrite nginx public repo

For Centos, we use by default public repo for nginx. You can change this
behaviour with these role-wide variables:
- repo_centos_nginx_mirror
- repo_centos_nginx_key

Or with these osa-wide variables:
- centos_nginx_mirror
- centos_nginx_key

Change-Id: I8dcb3c97e9593877a4a420bd32b50ae29d9d311c
(cherry picked from commit bd8a24716c519badc985aceb08d00b113ab5f857)
"
openstack%2Ftripleo-docs~master~I37fe3146d6d5d33dcfa2a09b3d0620f137c7efd5,openstack/tripleo-docs,master,I37fe3146d6d5d33dcfa2a09b3d0620f137c7efd5,I37fe3146d6d5d33dcfa2a09b3d0620f137c7efd5,tripleo-ci ruck|rover and promotions docs,MERGED,2019-10-18 15:49:21.000000000,2019-11-08 16:15:10.000000000,2019-11-08 16:13:25.000000000,194,0,18,689530,508ffb72645feeaeba8a49c45c4654c186a3cb8f,31,10,7,2,8449,Marios Andreou,marios,"tripleo-ci ruck|rover and promotions docs

Some docs about the promotion process from the ruck|rover
perspective and note about testproject and periodics

Change-Id: I37fe3146d6d5d33dcfa2a09b3d0620f137c7efd5
"
openstack%2Ftripleo-docs~master~I75ca305e9f5c994f06ccfbfebb1ef53d36e83dfd,openstack/tripleo-docs,master,,I75ca305e9f5c994f06ccfbfebb1ef53d36e83dfd,tox: Keeping going with docs,MERGED,2019-11-02 18:38:09.000000000,2019-11-08 16:03:27.000000000,2019-11-08 16:02:20.000000000,4,4,0,692685,b53091fd4b25a6c1ba84b2859754143606f8f40e,8,3,1,2,30356,gugug,gujin,"tox: Keeping going with docs

Change-Id: I75ca305e9f5c994f06ccfbfebb1ef53d36e83dfd
"
openstack%2Fnova~master~I985b870759d6c21ef9357b04f39099c02354f135,openstack/nova,master,bug/1794827,I985b870759d6c21ef9357b04f39099c02354f135,doc: fix and clarify --block-device usage in user docs,MERGED,2018-10-03 14:30:45.000000000,2019-11-08 15:48:17.000000000,2019-02-21 00:29:11.000000000,20,6,4,607589,16027094ebabc5cd9f2e766431f18aadeff54a40,15,10,1,1,6873,Matt Riedemann,mriedem,"doc: fix and clarify --block-device usage in user docs

The docs on create a volume-backed server from the command
line were wrong in a few ways:

* The openstack server create command does not currently allow
  booting from a volume where a source image is provided and
  nova creates the volume from the image and uses that volume
  as the root disk. The nova boot command supports that, so the
  docs are updated to call out the nova boot command since that
  is the appropriate command in this case (even the syntax with
  the openstack server create --block-device was wrong).

* When creating a server from a bootable volume with the OSC CLI,
  either the --volume or --block-device options should be used
  for a single volume, but not both. The docs were using both, so
  the latter is dropped and a note is added which links to the CLI
  documentation for more details on --block-device option usage.

Change-Id: I985b870759d6c21ef9357b04f39099c02354f135
Closes-Bug: #1794827
"
openstack%2Fcharm-nova-cell-controller~stable%2F19.10~Ib3937915c5195b5e031d5056959932849012fc23,openstack/charm-nova-cell-controller,stable/19.10,bug/1850691,Ib3937915c5195b5e031d5056959932849012fc23,Add train template and train functional tests,MERGED,2019-11-07 13:25:21.000000000,2019-11-08 15:44:34.000000000,2019-11-08 15:44:34.000000000,253,7,0,693353,846db3dc23ed0c3f89b0fca4a5a203fba7e90454,17,5,4,8,11805,Corey Bryant,coreycb,"Add train template and train functional tests

A train template is added which pulls in sectional
placement config from charm-layer-openstack.

This requires adding identity-credentials as a required
interface for train and above.

This patch also updates the smoke test to run train.

Closes-Bug: 1850691
Depends-On: https://review.opendev.org/#/c/692426/
Depends-On: https://review.opendev.org/#/c/693535/
Change-Id: Ib3937915c5195b5e031d5056959932849012fc23
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
"
openstack%2Fopenstack-helm~master~I4e8411033bbc27dd872f97bd0633871698eb98aa,openstack/openstack-helm,master,,I4e8411033bbc27dd872f97bd0633871698eb98aa,[DNM] test,ABANDONED,2019-11-07 15:32:42.000000000,2019-11-08 15:42:50.000000000,,26,14,0,693376,55908c05c7c397d29752034ebba67954422bac8e,13,2,6,3,29144,PRATEEK REDDY DODDA,pd2839,"[DNM] test

Change-Id: I4e8411033bbc27dd872f97bd0633871698eb98aa
"
openstack%2Fnova~master~Ic98e01ef5385606792f25f261e36f551386033ae,openstack/nova,master,bp/introduce-pending-vm-state,Ic98e01ef5385606792f25f261e36f551386033ae,Introduce the PENDING instance state,ABANDONED,2018-05-06 19:48:15.000000000,2019-11-08 14:52:33.000000000,,201,46,6,566473,60b2ac422a25a9207a838fb52ca46764523e4061,122,19,12,27,27057,Theodoros Tsioutsias,ttsiouts,"Introduce the PENDING instance state

The instances that failed to schedule due to NoValidHost, are set to
PENDING, instead of ERROR, if the operator enables the config option
CONF.use_pending_state.

In the scope of this change a new API microversion is added. For all
requests to previous microversions the PENDING state is mapped to the
ERROR state.

Change-Id: Ic98e01ef5385606792f25f261e36f551386033ae
Implements: blueprint introduce-pending-vm-state
"
openstack%2Fcloudkitty~master~I3384ce9d03429d6eaa86c2121bfbae7101380fdc,openstack/cloudkitty,master,reproducibe,I3384ce9d03429d6eaa86c2121bfbae7101380fdc,Make cloudkitty build reproducible.,MERGED,2019-11-07 21:04:26.000000000,2019-11-08 14:49:34.000000000,2019-11-08 14:48:18.000000000,2,0,0,693428,1948308523e5ea6680226a59dd353f96e1f129a0,7,2,1,1,6476,Thomas Goirand,thomas-goirand,"Make cloudkitty build reproducible.

Whilst working on the Reproducible Builds effort [0] we noticed
that cloudkitty could not be built reproducibly.

This is because it embeds the number of CPUs of the build host in the
sample configuration. Patch attached that uses oslo-config's
sample_default instead.

 [0] https://reproducible-builds.org/

See also Debian bug: https://bugs.debian.org/942847

Change-Id: I3384ce9d03429d6eaa86c2121bfbae7101380fdc
"
openstack%2Fossa~master~I6914dc0799538fe4d8106593f414e5bfbaf65137,openstack/ossa,master,key-refresh,I6914dc0799538fe4d8106593f414e5bfbaf65137,Refresh public OpenPGP key for Jeremy Stanley,MERGED,2019-11-07 22:53:25.000000000,2019-11-08 14:29:22.000000000,2019-11-08 14:28:20.000000000,52,87,0,693440,cb1ae0756e8a05079b67a5ba255d9685b4ba9c2c,7,2,1,1,5263,Jeremy Stanley,fungi,"Refresh public OpenPGP key for Jeremy Stanley

I explicitly maintain a <= 1 year expiration on my public OpenPGP
key and bump it periodically. As a result, the convenience export we
publish should also be refreshed with some regularity so that an old
expired version is not served in error. Update my key here with a
more recent export.

Change-Id: I6914dc0799538fe4d8106593f414e5bfbaf65137
"
openstack%2Fswift~master~I37c76e0c58a3d12b2062d5a6dbda2bf074f8bc9a,openstack/swift,master,printDeletedFlag,I37c76e0c58a3d12b2062d5a6dbda2bf074f8bc9a,print deleted flag in account and container info cli,MERGED,2019-11-08 04:19:05.000000000,2019-11-08 14:24:24.000000000,2019-11-08 14:22:57.000000000,55,6,2,693475,3de330ead3d5f68bcd04844ed9616456ee3ebe73,13,3,3,2,31256,Adrien Pensart,apensart,"print deleted flag in account and container info cli

Change-Id: I37c76e0c58a3d12b2062d5a6dbda2bf074f8bc9a
"
openstack%2Fcharm-nova-cloud-controller~master~I57dd970ea762c2e94148b1c2c00421dd769054c5,openstack/charm-nova-cloud-controller,master,ensure-py3,I57dd970ea762c2e94148b1c2c00421dd769054c5,Update for Python 3 execution,ABANDONED,2017-11-15 09:58:10.000000000,2019-11-08 14:21:33.000000000,,116,74,0,520031,646c783db9309139ed72797882967310f7a1be52,60,5,16,25,12549,gnuoy,gnuoy,"Update for Python 3 execution

Update codebase and unit tests to default to execution
under Python 3.

Charmhelper sync to pickup fixes

NOTE: As discussed with jamespage & beisner failing deploy from
source unit test dropped

Change-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5
"
openstack%2Fcharm-cinder~master~Ib9b78bd60b08f803c482aa7119cc0b12969fe56a,openstack/charm-cinder,master,ensure-py3,Ib9b78bd60b08f803c482aa7119cc0b12969fe56a,Update to run under Python 3,ABANDONED,2017-11-15 14:44:10.000000000,2019-11-08 14:21:24.000000000,,113,33,0,520094,b7341d01108e5fbcb7e23927805f2ce40188b0ec,38,5,8,19,12549,gnuoy,gnuoy,"Update to run under Python 3

Updating charm to support execution under Python 3.

Change-Id: Ib9b78bd60b08f803c482aa7119cc0b12969fe56a
"
openstack%2Fcharm-cinder~master~If58a8b548ae2135871bac845e9a74578d7294540,openstack/charm-cinder,master,fix-test-req,If58a8b548ae2135871bac845e9a74578d7294540,Target zaza back at master,ABANDONED,2019-05-24 12:46:58.000000000,2019-11-08 14:20:05.000000000,,1,1,0,661268,38849583b46d0908c127e4a3fd6105af95dd5995,4,2,1,1,12549,gnuoy,gnuoy,"Target zaza back at master

Change-Id: If58a8b548ae2135871bac845e9a74578d7294540
"
openstack%2Fcharm-keystone~master~I4d461fec1a20972090d237531dfcf160f14e012c,openstack/charm-keystone,master,add-dev-train,I4d461fec1a20972090d237531dfcf160f14e012c,Add bionic-train test,ABANDONED,2019-10-01 13:15:39.000000000,2019-11-08 14:19:52.000000000,,42,1,0,685969,952074f72baf05dfa428b958082f22dca9984e70,6,3,1,2,12549,gnuoy,gnuoy,"Add bionic-train test

Change-Id: I4d461fec1a20972090d237531dfcf160f14e012c
"
openstack%2Fmistral~master~Ib9a0e2b3f5cc686cbc53d9e6c049ad7fdc12c76d,openstack/mistral,master,fix_task_expression_context,Ib9a0e2b3f5cc686cbc53d9e6c049ad7fdc12c76d,Fix task expression context,MERGED,2019-11-07 09:10:03.000000000,2019-11-08 14:14:35.000000000,2019-11-08 14:13:18.000000000,58,2,0,693321,fd24972befeb4988f09b20bd4a95dd1f2d9a8dbf,15,7,3,2,8731,Renat Akhmerov,rakhmerov,"Fix task expression context

* When Mistral prepares a context view to evaluate a YAQL/Jinja
  expression it needs to put ""task_ex.in_contex"" before
  ""wf_ex.context"" because the first one should take higher priority.
  For example, if a workflow declares a variable (via the ""var""
  keyword) and then this variable is updated by one of the workflow
  branches then it should shadow the initial value of the variable
  when evaluating an expression (e.g. in the action input).
* We also don't need to use ""ctx or self.ctx"" in the modified
  _evaluate_expression() function because ""self.ctx"" always becomes
  ""task_ex.in_context"" when a task execution is created.
* Added one more test to check data flow correctness.

Change-Id: Ib9a0e2b3f5cc686cbc53d9e6c049ad7fdc12c76d
"
openstack%2Fopenstack-ansible-os_nova~master~I709230061de4a743e1efc50ee3dd8d3c3465f10b,openstack/openstack-ansible-os_nova,master,,I709230061de4a743e1efc50ee3dd8d3c3465f10b,Add auth_type to the ironic section of nova.conf,MERGED,2019-11-07 15:20:55.000000000,2019-11-08 14:09:11.000000000,2019-11-08 00:20:19.000000000,1,0,0,693371,c0f95b09ac3ed9a0ca41d4efae5b9491707ef432,15,6,1,1,21314,Cam J. Loader,4-cameron,"Add auth_type to the ironic section of nova.conf

Without auth_type, nova cannot authenticate to keystone to see
available ironic hypervisors/create new baremetal boots.

Change-Id: I709230061de4a743e1efc50ee3dd8d3c3465f10b
"
openstack%2Fcharm-nova-cell-controller~stable%2F19.10~Iff66b8c473f4d184982593f70fe9ca9769069006,openstack/charm-nova-cell-controller,stable/19.10,bug/fix-for-juju-2.7-stable/19.10,Iff66b8c473f4d184982593f70fe9ca9769069006,Use absolute path for charm location.,MERGED,2019-11-08 13:12:03.000000000,2019-11-08 13:56:46.000000000,2019-11-08 13:56:46.000000000,1,1,0,693535,d34ab2fe056abd02400971dd45016f473150e412,7,3,1,1,12549,gnuoy,gnuoy,"Use absolute path for charm location.

For compatibility with Juju 2.7 use an absolute path to point at
the local charm. This is essentially the same fix as the one landed
in zaza by fnordahl *1. The local overlay needs to be retained here
because the deployed service has different name to the charm.

*1 https://github.com/openstack-charmers/zaza/commit/af7f8d6ca3171051507c530f03350fea6620c824

Change-Id: Iff66b8c473f4d184982593f70fe9ca9769069006
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I382b472185f445e5d81077bc50b4c9cb65285530,openstack/tripleo-heat-templates,stable/train,bug/1851667-stable/train,I382b472185f445e5d81077bc50b4c9cb65285530,Fix debug hiera keys,MERGED,2019-11-07 23:16:22.000000000,2019-11-08 13:35:15.000000000,2019-11-08 13:35:15.000000000,4,4,0,693444,b8f5427d3ea6ca5e74f63a1a2a89bbe2623a0a6e,7,3,1,4,14985,Alex Schultz,mwhahaha,"Fix debug hiera keys

The correct key to configure mistral debug is mistral::logging::debug
not mistral::debug. The same is true for heat, manila and sahara.

Change-Id: I382b472185f445e5d81077bc50b4c9cb65285530
Closes-Bug: #1851667
(cherry picked from commit cf3fa9d77dff583ba62484f21d1ca150cfb73ecf)
"
openstack%2Fcharm-nova-cell-controller~master~Iff66b8c473f4d184982593f70fe9ca9769069006,openstack/charm-nova-cell-controller,master,bug/fix-for-juju-2.7,Iff66b8c473f4d184982593f70fe9ca9769069006,Use absolute path for charm location.,MERGED,2019-11-08 11:11:26.000000000,2019-11-08 13:15:46.000000000,2019-11-08 13:15:45.000000000,1,1,0,693524,746fb28c3b39fa410db2da58c94f5b50527f8884,15,3,4,1,12549,gnuoy,gnuoy,"Use absolute path for charm location.

For compatibility with Juju 2.7 use an absolute path to point at
the local charm. This is essentially the same fix as the one landed
in zaza by fnordahl *1. The local overlay needs to be retained here
because the deployed service has different name to the charm.

*1 https://github.com/openstack-charmers/zaza/commit/af7f8d6ca3171051507c530f03350fea6620c824

Change-Id: Iff66b8c473f4d184982593f70fe9ca9769069006
"
openstack%2Fkolla~master~I144234aa8699ec3e8148209c8b2762efbe20d268,openstack/kolla,master,feature/add_release_var,I144234aa8699ec3e8148209c8b2762efbe20d268,WIP: Allow simple building of stable tarballs based source images,ABANDONED,2019-08-05 13:41:25.000000000,2019-11-08 13:10:54.000000000,,999,939,10,674608,d452a62a946c23f241dd89f5ad10eefe852475d8,25,5,8,6,22629,Michal Nasiadka,mnasiadka,"WIP: Allow simple building of stable tarballs based source images

Introduce two variables:
* openstack_release - points to OpenStack release being built
* openstack_release_type - 'stable' for using stable tarballs
  (not point releases) or 'point' for point releases

Split the variables amongst multiple files in var/ subdir for easier
management:
* base.py - base vars
* users.py - user and UID/GID allocation
* sources_stable.py - sources urls when openstack_release_type=stable
* sources_point.py - sources urls when openstack_release_type=point

Change-Id: I144234aa8699ec3e8148209c8b2762efbe20d268
"
openstack%2Fmagnum~master~If242c2bd1b0c3b7a05447eae92f11ee64eba08ea,openstack/magnum,master,feature/configure_kubernetes_master-cleanup,If242c2bd1b0c3b7a05447eae92f11ee64eba08ea,Code clean up for better legibility,ABANDONED,2019-01-22 14:29:16.000000000,2019-11-08 12:35:50.000000000,,77,42,0,632476,ad9f584524f38a627c150f90d911994db4e4dfd0,4,1,2,1,29425,Diogo Guerra,dioguerra,"Code clean up for better legibility

Signed-off-by: Diogo Guerra <dy090.guerra@gmail.com>
Change-Id: If242c2bd1b0c3b7a05447eae92f11ee64eba08ea
"
openstack%2Fopenstack-ansible-os_zun~master~I43fb85532d1bbf0316a10664116a3bbbd9fdc66a,openstack/openstack-ansible-os_zun,master,build-pdf-docs,I43fb85532d1bbf0316a10664116a3bbbd9fdc66a,PDF Documentation Build tox target,MERGED,2019-10-18 15:25:53.000000000,2019-11-08 11:56:14.000000000,2019-11-07 23:57:04.000000000,28,6,0,689521,c462c02e38cda38ad76dd0dd7204dbc107e00ce6,16,4,3,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I43fb85532d1bbf0316a10664116a3bbbd9fdc66a
Story: 2006105
"
openstack%2Fopenstack-ansible-os_zun~master~Idf31f0a3cda2932ba041defef803ac66c88a2e8e,openstack/openstack-ansible-os_zun,master,osa-py3,Idf31f0a3cda2932ba041defef803ac66c88a2e8e,Allow venv python interpreter to be overridden,MERGED,2019-09-11 21:03:03.000000000,2019-11-08 11:55:38.000000000,2019-11-07 23:46:13.000000000,4,0,0,681608,5425851cf3ba5f3ad2dc8aa262cdea3eaf8f778a,11,3,2,2,25023,Jonathan Rosser,jrosser,"Allow venv python interpreter to be overridden

Change-Id: Idf31f0a3cda2932ba041defef803ac66c88a2e8e
"
openstack%2Fopenstack-ansible~master~I07e2eaeaa7405c7b5819b8bd7aa4a4fd08e8bfc3,openstack/openstack-ansible,master,zanata/translations,I07e2eaeaa7405c7b5819b8bd7aa4a4fd08e8bfc3,Imported Translations from Zanata,MERGED,2019-11-07 09:37:47.000000000,2019-11-08 11:52:44.000000000,2019-11-08 11:50:59.000000000,503,4,0,693325,1aa0aad4ccbc8ebdccdb46b5133e56bf905bbc9d,9,2,2,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I07e2eaeaa7405c7b5819b8bd7aa4a4fd08e8bfc3
"
openstack%2Fkolla-ansible~master~I3ccc193f7b6bb2c1485cb45e2743cb645533b8ff,openstack/kolla-ansible,master,bug/1849572,I3ccc193f7b6bb2c1485cb45e2743cb645533b8ff,swift: Remove unused config from [filter:authtoken] in proxy-server.conf.j2,ABANDONED,2019-11-06 14:56:33.000000000,2019-11-08 11:41:43.000000000,,1,5,0,693192,7165d7117dccf5a8ba09e67decd7294c4f6f0c6f,6,3,1,1,27330,Martin Chlumsky,mchlumsky,"swift: Remove unused config from [filter:authtoken] in proxy-server.conf.j2

There are some undocumented [1] memcache-related keys in
[filter:authtoken] and the cache key is not set.

This patch removes the undocumented keys and sets the cache as per the
documentation [1].

[1]: https://docs.openstack.org/swift/latest/overview_auth.html#configuring-swift-to-use-keystone

Change-Id: I3ccc193f7b6bb2c1485cb45e2743cb645533b8ff
Closes-Bug: 1849572
"
openstack%2Fswift~stable%2Frocky~I79d20209cea70a6447c4e94941e5e854889cbec5,openstack/swift,stable/rocky,bug/1836082,I79d20209cea70a6447c4e94941e5e854889cbec5,reconciler: Enqueue right work for shard containers,MERGED,2019-10-23 20:38:02.000000000,2019-11-08 11:01:02.000000000,2019-11-08 11:01:02.000000000,87,2,0,690736,52b3bae44e0c41b7f29f2a871c3c78c608a9d0f6,10,2,1,2,15343,Tim Burke,tburke,"reconciler: Enqueue right work for shard containers

This fixes newly-enqueued work going forward, but doesn't offer anything
to try to parse existing bad work items or even to kick shards so they
reset their reconciler high-water marks.

Change-Id: I79d20209cea70a6447c4e94941e5e854889cbec5
Closes-Bug: 1836082
(cherry picked from commit f4bb1bea28640dc603da891559387d6b15f1f2da)
(cherry picked from commit 74368ee70b5d922abb69ddb214369fb4afb76cec)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0,openstack/tripleo-ansible,stable/train,,I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0,Add support for --limit option into ceph-ansible call,MERGED,2019-11-07 15:27:55.000000000,2019-11-08 10:40:47.000000000,2019-11-08 10:40:46.000000000,1,0,0,693373,0764fc8f17a022cda6e906b444bc9bcde9d21cdd,8,4,1,1,6796,Giulio Fidente,gfidente,"Add support for --limit option into ceph-ansible call

This will be useful when executing playbooks which can't run against
all nodes. For example the newly introduced docker-to-podman playbook
meant to migrate systemd units from docker to podman for compatibility
with newer CentOS versions.

Change-Id: I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0
(cherry picked from commit bd6975a2735942956f0e22d805baf18959d39ebd)
"
openstack%2Fpython-saharaclient~master~Iea45bfed3b7df01f3272600d4e213588d663aab1,openstack/python-saharaclient,master,,Iea45bfed3b7df01f3272600d4e213588d663aab1,Switch to Ussuri jobs,MERGED,2019-10-22 06:28:25.000000000,2019-11-08 10:30:21.000000000,2019-11-08 10:28:01.000000000,1,1,0,689971,ca99e621fdc7c42dce42ae998216c4249e380110,8,3,1,1,23312,kangyufei,kangyufei,"Switch to Ussuri jobs

Change-Id: Iea45bfed3b7df01f3272600d4e213588d663aab1
"
openstack%2Ftripleo-puppet-elements~stable%2Ftrain~I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb,openstack/tripleo-puppet-elements,stable/train,bug/1851274-stable/train,I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb,Use chkconfig,MERGED,2019-11-07 23:22:00.000000000,2019-11-08 10:21:07.000000000,2019-11-08 10:21:07.000000000,1,2,0,693446,2ad3189cf86a484cc502fc37797e83ab0e70868a,7,3,1,1,14985,Alex Schultz,mwhahaha,"Use chkconfig

The network.service is a legacy config. Use chkconfig directly instead
of the systemctl version.

Depends-On: https://review.opendev.org/#/c/693379/
Change-Id: I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb
Closes-Bug: #1851274
(cherry picked from commit 63859da17b4f4e25b4817950544a5daf50270e8a)
"
openstack%2Ftripleo-puppet-elements~stable%2Fstein~I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb,openstack/tripleo-puppet-elements,stable/stein,bug/1851274-stable/stein,I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb,Use chkconfig,MERGED,2019-11-07 23:22:12.000000000,2019-11-08 10:21:06.000000000,2019-11-08 10:21:06.000000000,1,2,0,693447,78f7e7f6d926b27cd4025fa7c28a7d84d01813f2,7,3,1,1,14985,Alex Schultz,mwhahaha,"Use chkconfig

The network.service is a legacy config. Use chkconfig directly instead
of the systemctl version.

Depends-On: https://review.opendev.org/#/c/693379/
Change-Id: I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb
Closes-Bug: #1851274
(cherry picked from commit 63859da17b4f4e25b4817950544a5daf50270e8a)
"
openstack%2Fnetworking-baremetal~master~I92221290bdb471e1c9e0130b08f812e0e9313ab5,openstack/networking-baremetal,master,,I92221290bdb471e1c9e0130b08f812e0e9313ab5,fixed review link.,MERGED,2019-11-08 03:24:52.000000000,2019-11-08 10:17:00.000000000,2019-11-08 10:15:54.000000000,1,1,0,693470,2295fedb21b5878a0032e1b991b9c4653fe388a6,7,2,1,1,30717,wangfaxin,wangfaxin,"fixed review link.

Change-Id: I92221290bdb471e1c9e0130b08f812e0e9313ab5
"
openstack%2Fcharm-percona-cluster~master~I6e40970423acb6f70dcc3b91f8b5109de6f46bfc,openstack/charm-percona-cluster,master,test-updates,I6e40970423acb6f70dcc3b91f8b5109de6f46bfc,Guard yaml load of grastate on cold boot,MERGED,2019-11-06 23:43:12.000000000,2019-11-08 10:16:10.000000000,2019-11-08 10:16:10.000000000,45,457,0,693271,d8b13606e4498f27be63e12400af30908ddee4a9,23,4,3,10,20805,David Ames,thedac,"Guard yaml load of grastate on cold boot

Occasionally after cold boot yaml load of grastate will be throw an
exception. Do not error out in this instance.
Update percona to use TEST_ variables
Fix HA overlays

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/116
Change-Id: I6e40970423acb6f70dcc3b91f8b5109de6f46bfc
"
openstack%2Fkolla~master~I5f23da932df70bf17d09d42420ac408221d0e02f,openstack/kolla,master,drop-py2,I5f23da932df70bf17d09d42420ac408221d0e02f,tox: use Python 3 where possible,MERGED,2019-11-01 14:12:17.000000000,2019-11-08 10:07:05.000000000,2019-11-08 10:05:37.000000000,15,10,2,692549,8d1dead8901b988f2f0f7da42357e8e04d70de4e,19,6,4,2,24072,Marcin Juszkiewicz,hrw,"tox: use Python 3 where possible

Time to say goodbye for Python 2

Depends-On: https://review.opendev.org/693356

Change-Id: I5f23da932df70bf17d09d42420ac408221d0e02f
"
openstack%2Fnetworking-hyperv~master~I6b4e16bc7daeb77e4953a7c0b273ef6e618eedbf,openstack/networking-hyperv,master,drop-py27-support,I6b4e16bc7daeb77e4953a7c0b273ef6e618eedbf,Drop python 2.7 support and testing,MERGED,2019-10-30 04:01:27.000000000,2019-11-08 09:53:22.000000000,2019-11-08 09:50:24.000000000,7,4,0,692016,41cdef26ab201e68b815238b83e8123c495f4067,11,2,2,4,8556,Ghanshyam,ghanshyam,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

networking-hyperv is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: I6b4e16bc7daeb77e4953a7c0b273ef6e618eedbf
"
openstack%2Fopenstack-ansible-repo_server~master~I8dcb3c97e9593877a4a420bd32b50ae29d9d311c,openstack/openstack-ansible-repo_server,master,Offline_repo,I8dcb3c97e9593877a4a420bd32b50ae29d9d311c,Add possibility to overwrite nginx public repo,MERGED,2019-11-04 19:19:21.000000000,2019-11-08 09:47:33.000000000,2019-11-08 03:03:30.000000000,6,4,1,692874,bd8a24716c519badc985aceb08d00b113ab5f857,24,4,3,3,23182,kourosh vivan,KouroshVivan,"Add possibility to overwrite nginx public repo

For Centos, we use by default public repo for nginx. You can change this
behaviour with these role-wide variables:
- repo_centos_nginx_mirror
- repo_centos_nginx_key

Or with these osa-wide variables:
- centos_nginx_mirror
- centos_nginx_key

Change-Id: I8dcb3c97e9593877a4a420bd32b50ae29d9d311c
"
openstack%2Fos-win~master~I9fe9bc0335624f25d5cfb22b53e5af54a9117d29,openstack/os-win,master,drop-py27-support,I9fe9bc0335624f25d5cfb22b53e5af54a9117d29,Drop python 2.7 support and testing,MERGED,2019-10-30 03:55:17.000000000,2019-11-08 09:45:23.000000000,2019-11-08 09:43:19.000000000,8,5,0,692015,9c9fd20fce0b581ef7c4969e19ca44384fd1ede3,8,2,1,4,8556,Ghanshyam,ghanshyam,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

os-win is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: I9fe9bc0335624f25d5cfb22b53e5af54a9117d29
"
openstack%2Fcompute-hyperv~master~I58d4843f05703b62db94220965980612f803fd9e,openstack/compute-hyperv,master,drop-py27-support,I58d4843f05703b62db94220965980612f803fd9e,Drop python 2.7 support and testing,MERGED,2019-10-30 04:10:47.000000000,2019-11-08 09:44:22.000000000,2019-11-08 09:44:22.000000000,7,3,0,692018,e8d536108c1b0e3369259a34aaae4d1cba975371,9,2,2,3,8556,Ghanshyam,ghanshyam,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

compute-hyperv is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: I58d4843f05703b62db94220965980612f803fd9e
"
openstack%2Fdesignate~master~I1fc06616ed410b473c587253f774ea0a13961707,openstack/designate,master,fix_reno_name,I1fc06616ed410b473c587253f774ea0a13961707,Renamed enable_host_header by default reno,MERGED,2019-10-22 17:36:56.000000000,2019-11-08 09:34:11.000000000,2019-11-08 09:32:45.000000000,0,0,0,690141,30d454a223463878e8321c3cc2331e77c113e13e,8,3,1,1,22623,Erik Olof Gunnar Andersson,eoandersson,"Renamed enable_host_header by default reno

Change-Id: I1fc06616ed410b473c587253f774ea0a13961707
"
openstack%2Foctavia-tempest-plugin~master~I18ba73be30ee4d18d01ebf9e7affbb46a86e0d17,openstack/octavia-tempest-plugin,master,,I18ba73be30ee4d18d01ebf9e7affbb46a86e0d17,Remove act-stdby-iptables scenario jobs in Stein+,MERGED,2019-10-07 15:51:23.000000000,2019-11-08 09:20:22.000000000,2019-11-08 09:16:56.000000000,0,20,0,687086,f6ec94576b1cf1b27ef712e660038630976d3462,8,3,1,2,6469,Carlos Gonçalves,cgoncalves,"Remove act-stdby-iptables scenario jobs in Stein+

IPtables-based active-standby scenario test is deprecated from Stein
release to Amphora stats-based active-standby scenario test.

Change-Id: I18ba73be30ee4d18d01ebf9e7affbb46a86e0d17
"
openstack%2Fpuppet-nova~master~I11c31d8d17806dd8b49aaa72462e6fe11fb9a5dd,openstack/puppet-nova,master,,I11c31d8d17806dd8b49aaa72462e6fe11fb9a5dd,Allow passing $aliases in ::nova::compute class,ABANDONED,2019-11-08 08:42:27.000000000,2019-11-08 08:54:05.000000000,,11,1,0,693501,a51f11acaec99db3ecd7d0958953639c8966e943,3,0,2,1,6476,Thomas Goirand,thomas-goirand,"Allow passing $aliases in ::nova::compute class

Currently, the class ::nova::pci is included from ::nova::compute.
This means it's not possible to pass a custom parameter to it for
the $aliases parameter.

This patch adds a $aliases parameter to ::nova::compute so it is
forwarded to the ::nova::pci class.

Change-Id: I11c31d8d17806dd8b49aaa72462e6fe11fb9a5dd
"
openstack%2Foctavia-tempest-plugin~master~I0c6437930ef9bedc418fb0fe56c424badb9315d0,openstack/octavia-tempest-plugin,master,,I0c6437930ef9bedc418fb0fe56c424badb9315d0,Enable tempest jobs for stable/train,MERGED,2019-10-04 10:26:14.000000000,2019-11-08 08:38:27.000000000,2019-11-08 08:35:49.000000000,42,0,0,686565,abb87c5e553ff5f67c05eb86c1d8536da4a618f1,22,5,3,2,6469,Carlos Gonçalves,cgoncalves,"Enable tempest jobs for stable/train

Change-Id: I0c6437930ef9bedc418fb0fe56c424badb9315d0
"
openstack%2Fswift~stable%2Fstein~I58236b65802012da94a41b9dac85aa00a081de0e,openstack/swift,stable/stein,release-2_21_1,I58236b65802012da94a41b9dac85aa00a081de0e,Authors/changelog for 2.21.1,MERGED,2019-10-23 17:51:16.000000000,2019-11-08 08:37:06.000000000,2019-11-08 08:34:02.000000000,117,0,0,690699,522823548a61745b95f079ed092ba80d57265b1c,13,2,2,3,15343,Tim Burke,tburke,"Authors/changelog for 2.21.1

Change-Id: I58236b65802012da94a41b9dac85aa00a081de0e
"
openstack%2Fpython-swiftclient~master~I558dbf9a657d442e6e19468e543bbec855129eeb,openstack/python-swiftclient,master,687774,I558dbf9a657d442e6e19468e543bbec855129eeb,"Rename ""tests"" directory to be ""test"" like in the swift repo",MERGED,2019-10-10 04:09:10.000000000,2019-11-08 08:19:31.000000000,2019-11-08 08:18:10.000000000,9,9,1,687773,1eda8f9f3eac55953b3d54e32754e2ec312ab348,13,3,4,17,15343,Tim Burke,tburke,"Rename ""tests"" directory to be ""test"" like in the swift repo

In addition to being less confusing for devs, this lets us actually run
tempauth tests in swiftclient dsvm jobs.

The job definition (over in the swift repo) specifies test/sample.conf,
which does not exist in this repo. As a result, those tests would skip
with

    SKIPPING FUNCTIONAL TESTS DUE TO NO CONFIG

Change-Id: I558dbf9a657d442e6e19468e543bbec855129eeb
"
openstack%2Fopenstack-ansible-os_zun~master~I2efc775d7e38019eb39ca85b6135b8506fc76c52,openstack/openstack-ansible-os_zun,master,zun_tests,I2efc775d7e38019eb39ca85b6135b8506fc76c52,Add uwsgi role into local a-r-r and test placement,MERGED,2019-10-18 15:42:49.000000000,2019-11-08 08:00:34.000000000,2019-11-07 23:46:12.000000000,43,0,0,689528,7cb2d444c06cb9306d4e1d045603635cd8d8870d,16,4,4,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add uwsgi role into local a-r-r and test placement

Change-Id: I2efc775d7e38019eb39ca85b6135b8506fc76c52
"
openstack%2Fswift~stable%2Frocky~I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc,openstack/swift,stable/rocky,bug/1840322,I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc,versioned_writes: checks for SLO object before copy,MERGED,2019-10-23 20:42:21.000000000,2019-11-08 07:45:11.000000000,2019-11-08 07:45:11.000000000,47,1,0,690739,f68bbae9ced96bdde2a3f2d19d343e6f71073f52,6,3,1,2,15343,Tim Burke,tburke,"versioned_writes: checks for SLO object before copy

Previously, versioned_writes middleware copy an already existing
object using PUT. However, SLO requires the additional query
to properly update the object size when listing.

Propose fix: In _put_versioned_obj - which is called when on
creating version obj and also on restoring obj,
if 'X-Object-Sysmeta-Slo-Size' header is present it will
add needed headers for container to update obj size

Added a new functional test case with size assertion for slo

Change-Id: I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc
Closes-Bug: #1840322
(cherry picked from commit b4288b4aa6e6be2222f5f0e9ca8360c07040d5c0)
(cherry picked from commit a556c2b5f739db863c1bcb8cea2dc6c31144ff13)
"
openstack%2Fneutron~master~Id5f6b7767dbeee47143e2ca44cdaf11c4182399f,openstack/neutron,master,bug/1535554,Id5f6b7767dbeee47143e2ca44cdaf11c4182399f,Add binding_index to NetworkDhcpAgentBinding,ABANDONED,2019-10-29 11:47:31.000000000,2019-11-08 07:36:04.000000000,,307,71,2,691852,0c690306dbb133663ea8dc98988c7e8893234487,8,8,1,13,5948,Oleg Bondarev,obondarev,"Add binding_index to NetworkDhcpAgentBinding

The patch proposes adding a new binding_index to the
NetworkDhcpAgentBinding table, with an additional Unique
Constraint that enforces a single <network_id, binding_index>
per network.

1. When a network is triggered to be auto-scheduled to DHCP
agents, the number of DHCP agents is constrained by
dhcp_agents_per_network in neutron.conf. This prevents
too many DHCP agents from being scheduled in the first place.

2. If users manually schedule a network to specific DHCP
agents, the binding_index increments to show the number of
DHCP agents hosting this network.

In order to make binding_index an autoincrement field it was
added as a primary key. New unique constraint was added to
preserve uniqueness of network-agent pairs.

Change-Id: Id5f6b7767dbeee47143e2ca44cdaf11c4182399f
Co-Authored-By: Oleg Bondarev <obondarev@mirantis.com>
Closes-Bug: #1535554
"
openstack%2Ftripleo-docs~master~I37593a817776dee4ed8eb20e186dc637bbd3088c,openstack/tripleo-docs,master,,I37593a817776dee4ed8eb20e186dc637bbd3088c,Fix wrong information about the Validations CLI,MERGED,2019-11-07 16:30:17.000000000,2019-11-08 07:35:57.000000000,2019-11-08 07:34:42.000000000,1,1,0,693383,b07118b8ad7b5f9967a5bd09339e3376e6691d33,8,5,1,1,11491,Gael Chamoulaud,gchamoul,"Fix wrong information about the Validations CLI

The TripleO Validator CLI has appeared in Stein and not in Rocky.

Change-Id: I37593a817776dee4ed8eb20e186dc637bbd3088c
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Ftripleo-common~master~Ief83030835fa7e8c76ca2607135a4f840782bbb9,openstack/tripleo-common,master,logging-improvements,Ief83030835fa7e8c76ca2607135a4f840782bbb9,Stop logging manifest in debug,MERGED,2019-11-06 20:14:30.000000000,2019-11-08 07:09:05.000000000,2019-11-07 22:54:19.000000000,0,2,0,693249,958937eb67e289f5da7e790d47dcd69011732a50,11,4,1,1,14985,Alex Schultz,mwhahaha,"Stop logging manifest in debug

It's excessively verbose and is a json object which leads to the log
lines not being individual lines. We don't really need to be printing
this anymore.

Change-Id: Ief83030835fa7e8c76ca2607135a4f840782bbb9
"
openstack%2Ftripleo-heat-templates~master~I1d24dce0ff9c88380e8769593d619a9e4e944e40,openstack/tripleo-heat-templates,master,,I1d24dce0ff9c88380e8769593d619a9e4e944e40,Define ovn_dbs_image fact for upgrades.,MERGED,2019-11-07 15:37:27.000000000,2019-11-08 07:07:11.000000000,2019-11-07 23:18:44.000000000,2,1,0,693377,460d4771a6be1b7aebc8c86263149e2835cad654,11,8,1,1,26343,Jose Luis Franco,jfrancoa,"Define ovn_dbs_image fact for upgrades.

The ovn upgrade_tasks make use of a block which belongs
to the update_tasks. In that block, the ovs_dbs_image
variable is being referenced. However, the fact is set
in a step before the block invoked.

This patch sets ovn_dbs_image fact in step0 for upgrade
tasks and fixes a small typo with the bundle.

Change-Id: I1d24dce0ff9c88380e8769593d619a9e4e944e40
Closes-Bug: #1851669
"
openstack%2Ftripleo-heat-templates~master~I354c2fedafb88bb363321d1338c39d479560fc3e,openstack/tripleo-heat-templates,master,,I354c2fedafb88bb363321d1338c39d479560fc3e,Fix typo in OVN upgrade tasks.,MERGED,2019-11-07 14:21:14.000000000,2019-11-08 07:05:53.000000000,2019-11-07 23:07:53.000000000,1,1,0,693359,eda88f0c7142ae22d2b252956fcaf461eb7e99b6,11,8,1,1,26343,Jose Luis Franco,jfrancoa,"Fix typo in OVN upgrade tasks.

Change-Id: I354c2fedafb88bb363321d1338c39d479560fc3e
Closes-Bug: #1851660
"
openstack%2Fopenstack-manuals~master~I43984ba8d02a5675f1a2bc4f6f8fe4a7b95e4fd2,openstack/openstack-manuals,master,rm/security,I43984ba8d02a5675f1a2bc4f6f8fe4a7b95e4fd2,Fix the outdated security url,ABANDONED,2019-10-29 01:58:47.000000000,2019-11-08 07:00:58.000000000,,1,2,1,691799,dd6ea136cd0d306e769f170764fc950ca29da276,5,3,1,2,19779,Chason Chan,chenxing,"Fix the outdated security url

Change-Id: I43984ba8d02a5675f1a2bc4f6f8fe4a7b95e4fd2
"
openstack%2Fkuryr-kubernetes~master~Ic3bc5bb567fd31b191948437bd98820dccd1b1b6,openstack/kuryr-kubernetes,master,,Ic3bc5bb567fd31b191948437bd98820dccd1b1b6,"Fix the misspelling of ""openvswitch""",MERGED,2018-12-26 11:38:12.000000000,2019-11-08 06:31:31.000000000,2019-11-08 06:29:31.000000000,1,1,0,627388,fcf0d8ddcae831cb022e5289774328bd62d24d44,8,3,1,1,29721,lijunjie,lijunjie,"Fix the misspelling of ""openvswitch""

Change-Id: Ic3bc5bb567fd31b191948437bd98820dccd1b1b6
"
openstack%2Fpython-neutronclient~master~Ib691a9d7c91219223eb2e78ca1d08bc6e3d671fd,openstack/python-neutronclient,master,fix-keystone-spelling,Ib691a9d7c91219223eb2e78ca1d08bc6e3d671fd,Correcting typo in environment spelling,ABANDONED,2019-07-31 10:21:34.000000000,2019-11-08 06:31:05.000000000,,1,1,0,673779,97112ac22055b8a7e509db307c10aa3ba4582490,8,3,2,1,29597,Sagar Waghmare,sawaghma,"Correcting typo in environment spelling

There is a typo mistake in relnotes-from-3.0.0-d7306f5af5e3868d.yaml
file in python-neutronclient. Corrected spelling from kyestone to keystone.

Change-Id: Ib691a9d7c91219223eb2e78ca1d08bc6e3d671fd
"
openstack%2Fsahara~master~Ib7516bea5b6ce8bfaf816c9b0cfdf547babddea7,openstack/sahara,master,,Ib7516bea5b6ce8bfaf816c9b0cfdf547babddea7,fix invaild link of installation guide in Sahara UI User Guide,MERGED,2019-10-24 09:48:29.000000000,2019-11-08 06:29:26.000000000,2019-11-08 06:23:17.000000000,3,3,0,690895,9cf30f600372272736691bf4c777afc2bdfa26d8,10,3,2,2,30814,yangyong,yangyong,"fix invaild link of installation guide in Sahara UI User Guide

update unsuitable links with the proper ones

Change-Id: Ib7516bea5b6ce8bfaf816c9b0cfdf547babddea7
"
openstack%2Fsahara~master~Ia8fe329b4e474db2d0c61f9d9b9fc742a67ad407,openstack/sahara,master,,Ia8fe329b4e474db2d0c61f9d9b9fc742a67ad407,Switch to Ussuri jobs,MERGED,2019-10-22 07:57:40.000000000,2019-11-08 06:26:47.000000000,2019-11-08 06:23:16.000000000,1,1,0,690000,f9f246e8a020cde210570ea262589c147db9096a,8,3,1,1,23312,kangyufei,kangyufei,"Switch to Ussuri jobs

Change-Id: Ia8fe329b4e474db2d0c61f9d9b9fc742a67ad407
"
openstack%2Fkuryr-kubernetes~master~I20f82e8c10d86f0824e3e02c305d74b65ed1cd0f,openstack/kuryr-kubernetes,master,code-cleanup,I20f82e8c10d86f0824e3e02c305d74b65ed1cd0f,Update and add the docstrings to the functions,ABANDONED,2018-12-27 10:49:57.000000000,2019-11-08 06:19:38.000000000,,13,2,2,627511,4e58728976c2413b93039530a2357a800d628123,10,3,2,1,14570,Ashish Billore,ashish.billore,"Update and add the docstrings to the functions

Updates to the current docstrigs and added missing docstrings
to the remaining functions.

Change-Id: I20f82e8c10d86f0824e3e02c305d74b65ed1cd0f
"
openstack%2Fkuryr-kubernetes~master~I125e3d130513b3107869d9a0bd07a45d578adefd,openstack/kuryr-kubernetes,master,daemon-containerized-octavia-non-voting,I125e3d130513b3107869d9a0bd07a45d578adefd,Set *octavia-py36 gate as non-voting,ABANDONED,2019-01-14 09:08:16.000000000,2019-11-08 06:18:50.000000000,,2,1,0,630629,722a90f96ee3e62c090f3a956de540592c21c017,8,3,2,1,14885,Daniel Mellado,daniel-mellado,"Set *octavia-py36 gate as non-voting

This commit sets *-octavia-py36 as non voting until further debugging on the
upstream gate and CI is done, as its flakiness is blocking some patches
to get merged.

Change-Id: I125e3d130513b3107869d9a0bd07a45d578adefd
"
openstack%2Fkuryr-kubernetes~master~I20cd2d299765615009efe28dbc09c22a9d2ac6c9,openstack/kuryr-kubernetes,master,,I20cd2d299765615009efe28dbc09c22a9d2ac6c9,Update hacking version to latest,ABANDONED,2019-01-06 08:28:56.000000000,2019-11-08 06:18:41.000000000,,1,1,0,628759,73ef08543ad613a6b2bec92253470d595a6e719f,3,1,1,1,17130,melissaml,malei,"Update hacking version to latest

Change-Id: I20cd2d299765615009efe28dbc09c22a9d2ac6c9
"
openstack%2Fkuryr-kubernetes~master~I8daa700fd49bfc7200ee805272f6bb26443e4f52,openstack/kuryr-kubernetes,master,,I8daa700fd49bfc7200ee805272f6bb26443e4f52,"Fix the misspelling of ""openvswitch""",ABANDONED,2018-12-26 07:20:25.000000000,2019-11-08 06:17:49.000000000,,1,1,0,627356,4efc6f40827ef8d1fae2d170e3ceed7b652e080b,5,1,2,1,29465,semilavender,liufeng,"Fix the misspelling of ""openvswitch""

Change-Id: I8daa700fd49bfc7200ee805272f6bb26443e4f52
"
openstack%2Fswift~stable%2Frocky~I0f5e0e410c8297a4898caae00c196fa3b3862100,openstack/swift,stable/rocky,,I0f5e0e410c8297a4898caae00c196fa3b3862100,Only url-quote Keys when encoding-type=url,MERGED,2019-11-05 03:04:00.000000000,2019-11-08 06:16:58.000000000,2019-11-08 06:16:58.000000000,59,27,0,692942,345f2b542bd307ee039141ee6e535653f3d7a2be,8,2,1,4,15343,Tim Burke,tburke,"Only url-quote Keys when encoding-type=url

Previously, we'd even url-quote ETags, leading to weird things like

    <ETag>%22a27a822070b843ed6407f4f38afdaa20%22</ETag>

in listings, where those '%22's should be double quotes.

Change-Id: I0f5e0e410c8297a4898caae00c196fa3b3862100
(cherry picked from commit c1c65a7e9f43f1395c63fb7bf22f812962b53714)
"
openstack%2Fkuryr-kubernetes~master~I7b1d8b40a4d89052981ecaed9c69320f0103ae4f,openstack/kuryr-kubernetes,master,,I7b1d8b40a4d89052981ecaed9c69320f0103ae4f,Amend the spelling error of a word,ABANDONED,2018-06-06 09:24:18.000000000,2019-11-08 06:16:55.000000000,,2,2,1,572710,3a637d15c91e0108e1c8e1a8984b9459d40145c7,8,4,2,2,27549,chenge,chenge,"Amend the spelling error of a word

Change-Id: I7b1d8b40a4d89052981ecaed9c69320f0103ae4f
"
openstack%2Fkuryr-kubernetes~master~Idb9940c382853fd5f3b1d9246fe33dbf5f1c68bb,openstack/kuryr-kubernetes,master,remove_non_containerized_nor_daemonized_gates,Idb9940c382853fd5f3b1d9246fe33dbf5f1c68bb,Remove non-containerized/daemon gates,ABANDONED,2018-12-07 10:50:15.000000000,2019-11-08 06:16:41.000000000,,7,9,6,623444,05db87e15587404590ed257e7a355f0706ecffe7,5,3,1,1,14885,Daniel Mellado,daniel-mellado,"Remove non-containerized/daemon gates

This commit moves all non-containerized/daemonized gatest to the
experimental queue. Containerized and daemonized installation has been
the default for quite some time and we'll need to perform a maintanance
cleanup on our pipelines.

Change-Id: Idb9940c382853fd5f3b1d9246fe33dbf5f1c68bb
"
openstack%2Fkuryr-kubernetes~master~Iea93143656212bf44371d50491f342baa2d941d5,openstack/kuryr-kubernetes,master,ingress_cont_gate,Iea93143656212bf44371d50491f342baa2d941d5,Add containerized gate for openshift Routes,ABANDONED,2018-10-04 15:30:06.000000000,2019-11-08 06:16:10.000000000,,11,0,2,607992,18cf744e296dcaf7c21347a31ddca086e9943773,11,3,2,2,21041,Yossi Boaron,yboaron,"Add containerized gate for openshift Routes

This patch should be depend on patch that will update
Kuryr controller ServiceAccount to support Routes
resources.

Depends-On: Ifd0322b0ec7951d281fdae6e9e08c4356177b06d
Change-Id: Iea93143656212bf44371d50491f342baa2d941d5
"
openstack%2Fkuryr-kubernetes~master~I613f737923fbc73d858262efcd7ce026483dfdc0,openstack/kuryr-kubernetes,master,drop_reraise,I613f737923fbc73d858262efcd7ce026483dfdc0,Set handler health even in _sleep exception,ABANDONED,2018-09-27 08:49:03.000000000,2019-11-08 06:15:50.000000000,,35,19,2,605620,c0032b23186b3c8f345ab68b8076eaff8f1eb5e6,10,3,5,2,14352,Antoni Segura Puimedon,toni,"Set handler health even in _sleep exception

Reraise would hide the complexity of this error handling and we were not
setting the handler to be in unhealthy state if any problem happened
during the exponential sleep.

Change-Id: I613f737923fbc73d858262efcd7ce026483dfdc0
Signed-off-by: Antoni Segura Puimedon <celebdor@gmail.com>
"
openstack%2Fkuryr-kubernetes~master~I6668c50ce8906f3eca1f7a95cbaf47694d42079d,openstack/kuryr-kubernetes,master,add_openstack_three_node,I6668c50ce8906f3eca1f7a95cbaf47694d42079d,Add openstack-three-node nodeset,ABANDONED,2018-09-04 13:59:18.000000000,2019-11-08 06:15:37.000000000,,35,0,1,599608,77bc529d85856dc6382dd6b099aa869376d83cc1,5,7,1,1,14885,Daniel Mellado,daniel-mellado,"Add openstack-three-node nodeset

This commit adds a new nodeset fot the kuryr-kubernetes CI, which would
allow one controller + 2 compute setup to be used for the pipelines.

Change-Id: I6668c50ce8906f3eca1f7a95cbaf47694d42079d
"
openstack%2Fkuryr-kubernetes~master~Idc4a095e0ef15ca7784b76e8833fd2f730f5983a,openstack/kuryr-kubernetes,master,bug/1783073,Idc4a095e0ef15ca7784b76e8833fd2f730f5983a,OCP-Router:  Add support for HTTPS-PT routes,ABANDONED,2018-07-23 15:11:55.000000000,2019-11-08 06:15:05.000000000,,243,51,8,584930,d621c937338c0a469ea9295b6dafac68cb2125a8,8,4,1,12,21041,Yossi Boaron,yboaron,"OCP-Router:  Add support for HTTPS-PT routes

Secured ocp routes specify the TLS termination of the route and,
optionally, provide a key and certificate(s).
With passthrough termination, encrypted traffic is sent straight
to the destination without the router providing TLS termination.
Therefore no key or certificate is required.
This patch extends ocp-route capability to support HTTPS terminated
routes.

Change-Id: Idc4a095e0ef15ca7784b76e8833fd2f730f5983a
Closes-Bug: 1783073
"
openstack%2Fnova~master~I06f5caed77f1639db029410866b7afef37611964,openstack/nova,master,,I06f5caed77f1639db029410866b7afef37611964,Use API calls to force down compute in func test,ABANDONED,2019-10-31 08:47:21.000000000,2019-11-08 06:14:15.000000000,,13,25,1,692291,56b664c780c3f9e6855b3babf97498afb6592cf0,11,9,1,1,9708,Balazs Gibizer,gibi,"Use API calls to force down compute in func test

Functional test should not call nova service internals. If possible it
should use the REST API instead. This patch replace the internal call
that forces down a compute with REST API call that does the same.

Change-Id: I06f5caed77f1639db029410866b7afef37611964
"
openstack%2Fstorlets~master~I9ec5cc107459266de509d3c444c5294f965dd749,openstack/storlets,master,,I9ec5cc107459266de509d3c444c5294f965dd749,PY3: skip jupyter notebook test,MERGED,2019-11-08 04:03:40.000000000,2019-11-08 06:14:07.000000000,2019-11-08 06:10:39.000000000,2,0,0,693473,8ec7ae5edc31fe0b1b8536b163e989524abd222b,7,2,1,1,4608,Kota Tsuyuzaki,tsuyuzaki-kota,"PY3: skip jupyter notebook test

because the notebook is strictly tightened to python2.
Re-writing the python2 notebook in python3 will cause
an error or a failure in python2 functional test, so
add skipTest check for now.

In the future, we could switch the available version
or have a couple of tests for both versions.

Change-Id: I9ec5cc107459266de509d3c444c5294f965dd749
"
openstack%2Fkuryr-kubernetes~stable%2Fpike~I744429990fbc9171d3f43aa26b61ec85785664f6,openstack/kuryr-kubernetes,stable/pike,openstack/requirements,I744429990fbc9171d3f43aa26b61ec85785664f6,Updated from global requirements,ABANDONED,2017-08-26 11:49:08.000000000,2019-11-08 06:13:28.000000000,,2,2,0,498171,f69fc167dad042ae8bce3aca0be8a1cac0c778ae,53,1,31,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I744429990fbc9171d3f43aa26b61ec85785664f6
"
openstack%2Fstorlets~master~Ic82decc34e5fa5a4049a08b95a8e8f606d9cd973,openstack/storlets,master,,Ic82decc34e5fa5a4049a08b95a8e8f606d9cd973,Decrease fuctional test timeout,MERGED,2019-11-08 04:10:37.000000000,2019-11-08 05:32:59.000000000,2019-11-08 05:31:01.000000000,2,2,0,693474,839d1750a7a921b4a90e514ff1fcddcaac3d58d6,7,2,1,1,4608,Kota Tsuyuzaki,tsuyuzaki-kota,"Decrease fuctional test timeout

Due to the change https://review.opendev.org/#/c/693309/
the functional test takes around 20 minutes-ish so that
we can decrease the timeout as 30 minutes.

Change-Id: Ic82decc34e5fa5a4049a08b95a8e8f606d9cd973
"
openstack%2Fopenstack-ansible-os_murano~master~I66f2d65bb1a69ee45bb2077fc3901c74748a9ae2,openstack/openstack-ansible-os_murano,master,fix,I66f2d65bb1a69ee45bb2077fc3901c74748a9ae2,Fix a typo in main.yml,MERGED,2019-11-04 08:31:29.000000000,2019-11-08 05:20:47.000000000,2019-11-08 05:19:44.000000000,1,1,0,692772,bb18ed2e2285ea7723fa64439a9e81e00195b188,15,4,1,1,23317,ShangXiao,ShangXiao,"Fix a typo in main.yml

Fix the error word ""successfull"" to ""successful"".

Change-Id: I66f2d65bb1a69ee45bb2077fc3901c74748a9ae2
"
openstack%2Fsahara-plugin-cdh~master~I165d5b71dca7679cd2cff2e7776c17f4facb0b1a,openstack/sahara-plugin-cdh,master,ussuri,I165d5b71dca7679cd2cff2e7776c17f4facb0b1a,Switch to Ussuri jobs,MERGED,2019-10-25 07:02:04.000000000,2019-11-08 04:40:00.000000000,2019-11-08 04:37:37.000000000,1,1,0,691226,389b98b5cc4f9560eceb2d7a1d65c5a15c4f1162,8,3,1,1,27822,pengyuesheng,pengyuesheng,"Switch to Ussuri jobs

Change-Id: I165d5b71dca7679cd2cff2e7776c17f4facb0b1a
"
openstack%2Fsahara-plugin-mapr~master~Ie649c182c0de2eb822a55695af10f8043205107c,openstack/sahara-plugin-mapr,master,ussuri,Ie649c182c0de2eb822a55695af10f8043205107c,Switch to Ussuri jobs,MERGED,2019-10-25 07:03:29.000000000,2019-11-08 04:40:00.000000000,2019-11-08 04:37:30.000000000,1,1,0,691227,a36a1945088d3c1603ab52ffe61fb9d6e6469164,8,3,1,1,27822,pengyuesheng,pengyuesheng,"Switch to Ussuri jobs

Change-Id: Ie649c182c0de2eb822a55695af10f8043205107c
"
openstack%2Fsahara-plugin-spark~master~I43d9ac4f9ddd467b8b9e93db85ed804e06b684ab,openstack/sahara-plugin-spark,master,ussuri,I43d9ac4f9ddd467b8b9e93db85ed804e06b684ab,Switch to Ussuri jobs,MERGED,2019-10-25 07:04:42.000000000,2019-11-08 04:39:55.000000000,2019-11-08 04:37:29.000000000,1,1,0,691229,7f01e5fea423be3629d14fbb533650346f26a3a0,8,3,1,1,27822,pengyuesheng,pengyuesheng,"Switch to Ussuri jobs

Change-Id: I43d9ac4f9ddd467b8b9e93db85ed804e06b684ab
"
openstack%2Fsahara-plugin-storm~master~I20284bb9713dac3b44170da9204dd3b71bbdc7cc,openstack/sahara-plugin-storm,master,ussuri,I20284bb9713dac3b44170da9204dd3b71bbdc7cc,Switch to Ussuri jobs,MERGED,2019-10-25 07:06:57.000000000,2019-11-08 04:39:53.000000000,2019-11-08 04:37:28.000000000,1,1,0,691231,4721c156716495729c66f6f1a569d917107304b7,8,3,1,1,27822,pengyuesheng,pengyuesheng,"Switch to Ussuri jobs

Change-Id: I20284bb9713dac3b44170da9204dd3b71bbdc7cc
"
openstack%2Fsahara-plugin-ambari~master~I5cfeaeb9a77b51df60da5bdf228f80e3af8c7e8a,openstack/sahara-plugin-ambari,master,ussuri,I5cfeaeb9a77b51df60da5bdf228f80e3af8c7e8a,Switch to Ussuri jobs,MERGED,2019-10-25 07:00:18.000000000,2019-11-08 04:39:50.000000000,2019-11-08 04:37:38.000000000,1,1,0,691225,6df263b4af33d706c2cbc69c9087a6251a9c9d5d,8,3,1,1,27822,pengyuesheng,pengyuesheng,"Switch to Ussuri jobs

Change-Id: I5cfeaeb9a77b51df60da5bdf228f80e3af8c7e8a
"
openstack%2Fsahara-plugin-vanilla~master~I317ec040153b89ffd17a66bba9ac390f3bff4be6,openstack/sahara-plugin-vanilla,master,ussuri,I317ec040153b89ffd17a66bba9ac390f3bff4be6,Switch to Ussuri jobs,MERGED,2019-10-25 07:08:01.000000000,2019-11-08 04:39:47.000000000,2019-11-08 04:37:28.000000000,1,1,0,691232,d84c60d3fd30d9d163a5294eb561d36ce4788734,8,3,1,1,27822,pengyuesheng,pengyuesheng,"Switch to Ussuri jobs

Change-Id: I317ec040153b89ffd17a66bba9ac390f3bff4be6
"
openstack%2Ftripleo-heat-templates~master~I4b6f7d73cf76954e93760c59d522d485187157cf,openstack/tripleo-heat-templates,master,boot_params,I4b6f7d73cf76954e93760c59d522d485187157cf,Move KernelArgs and OvS-DPDK deployment to ansible role,MERGED,2019-08-21 13:30:26.000000000,2019-11-08 04:36:06.000000000,2019-11-04 17:09:19.000000000,185,416,5,677728,16679d0ec43d14536cf96e21f0d47863a64cdb5c,38,6,7,11,18575,Saravanan KR,saravanankr,"Move KernelArgs and OvS-DPDK deployment to ansible role

Ealier, KernelArgs had been configured using ansible
tasks part of THT repo. Thoese ansiblet asks has been
moved to tripleo-kernel role of tripleo-ansible. This
role will be invoked from the boot-params-service.
boot-params-service has been moved from pre network to
the deployment/kernel directory.

OvS-DPDK configuration was done using puppet-vswitch
module by invoking puppet in PreNetworkConfig's
ExtraConfig script. A new ansible role tripleo-ovs-dpdk
has been created to apply the DPDK configurations via
ansible instead of puppet. This role will be common
for both ml2-ovs and ml2-ovn. Common parameter merging
has been enhanced to provide common deploy steps.

ODL is not validated as it has been deprecated and
currently no active usage or development.

Depends-On: https://review.opendev.org/#/c/688864/
Change-Id: I4b6f7d73cf76954e93760c59d522d485187157cf
"
openstack%2Fsahara-dashboard~master~I59010772a9790d9211934586c44256e63b69068b,openstack/sahara-dashboard,master,,I59010772a9790d9211934586c44256e63b69068b,fix invaild urls in CONTRIBUTING.rst,MERGED,2019-10-24 09:21:06.000000000,2019-11-08 04:33:50.000000000,2019-11-08 04:33:50.000000000,1,1,0,690891,69fa2d1372681777cbf89f4675eebf44f9625d9f,7,3,1,1,30814,yangyong,yangyong,"fix invaild urls in CONTRIBUTING.rst

Change-Id: I59010772a9790d9211934586c44256e63b69068b
"
openstack%2Fstorlets~master~I8a0e22f57255ee7b011d660e19e4ffa664b94d23,openstack/storlets,master,,I8a0e22f57255ee7b011d660e19e4ffa664b94d23,Fix CI to collect the all logs,MERGED,2019-11-08 02:57:17.000000000,2019-11-08 04:14:44.000000000,2019-11-08 04:13:42.000000000,4,0,0,693466,b0aa01f116a087d3ea7b1aff1e516b3f3e2fcee5,7,2,1,2,4608,Kota Tsuyuzaki,tsuyuzaki-kota,"Fix CI to collect the all logs

Currently, the CI may loose the swift proxy error logs
if previous task collecting the func test tox logs failed.
That makes us hard to dig out what happens actually.

This patch attempts to ignore the error and reach out whole
worthful tasks in the post job.

Change-Id: I8a0e22f57255ee7b011d660e19e4ffa664b94d23
"
openstack%2Ftripleo-heat-templates~master~Iadb79bf91a36c7f0d3634aca3a5ac250097e71f8,openstack/tripleo-heat-templates,master,skip_allocate_vfs,Iadb79bf91a36c7f0d3634aca3a5ac250097e71f8,WIP: Remove the allocate_vfs during update/upgrades for SR-IOV deployment,ABANDONED,2019-09-18 09:53:11.000000000,2019-11-08 03:55:33.000000000,,5,0,0,682851,fadcfef3473ecef6fb6c7e3430c0a3b76692fba9,5,4,2,1,18904,Karthik S,karthiks,"WIP: Remove the allocate_vfs during update/upgrades for SR-IOV deployment

The THT parameter ``NeutronSriovNumVFs`` is deprecated and hence
the relevent scripts for persistence of numvfs shall be cleaned
during upgrades/updates.

Change-Id: Iadb79bf91a36c7f0d3634aca3a5ac250097e71f8
"
openstack%2Foctavia~stable%2Fstein~I2e8c0be2221c0c23b752fdf2cdff065cddf830a5,openstack/octavia,stable/stein,ipvsadm-exact-stats-stable/stein,I2e8c0be2221c0c23b752fdf2cdff065cddf830a5,ipvsadm '--exact' arg to ensure outputs are ints,MERGED,2019-11-07 16:49:19.000000000,2019-11-08 03:54:39.000000000,2019-11-08 03:53:14.000000000,2,1,0,693392,f652a7d1b58456aece8f88881d95c2e4496c6e50,10,3,2,1,28502,Colin Gibbons,colin,"ipvsadm '--exact' arg to ensure outputs are ints

Currently the keepalivedlvs_query script calls ipvsadm -Ln --stats
to query the local lvs for connection information. If any of these
values grow large enough they will be abbreviated with human-
friendly suffixes (K, M, G) and cause the get_ipvsadm_info func
to raise an exception when it receives a non-integer value from
its command output. By using the --exact argument in addition to
the existing arguments, we can ensure the output is always expanded
numbers, per the ipvsadm man page, and will only ever offer integer
outputs to the get_ipvsadm_info command.

Change-Id: I2e8c0be2221c0c23b752fdf2cdff065cddf830a5
Story: 2006791
Task: 37331
(cherry picked from commit 0682fb977a76d356ede20f516c849298d34eb7fc)
"
openstack%2Foctavia~stable%2Frocky~I2e8c0be2221c0c23b752fdf2cdff065cddf830a5,openstack/octavia,stable/rocky,ipvsadm-exact-stats-stable/rocky,I2e8c0be2221c0c23b752fdf2cdff065cddf830a5,ipvsadm '--exact' arg to ensure outputs are ints,MERGED,2019-11-07 16:49:32.000000000,2019-11-08 03:54:36.000000000,2019-11-08 03:53:18.000000000,2,1,0,693393,d5aba906a1105018d222ccfb61716f15518cb072,10,3,2,1,28502,Colin Gibbons,colin,"ipvsadm '--exact' arg to ensure outputs are ints

Currently the keepalivedlvs_query script calls ipvsadm -Ln --stats
to query the local lvs for connection information. If any of these
values grow large enough they will be abbreviated with human-
friendly suffixes (K, M, G) and cause the get_ipvsadm_info func
to raise an exception when it receives a non-integer value from
its command output. By using the --exact argument in addition to
the existing arguments, we can ensure the output is always expanded
numbers, per the ipvsadm man page, and will only ever offer integer
outputs to the get_ipvsadm_info command.

Change-Id: I2e8c0be2221c0c23b752fdf2cdff065cddf830a5
Story: 2006791
Task: 37331
(cherry picked from commit 0682fb977a76d356ede20f516c849298d34eb7fc)
"
openstack%2Foctavia~stable%2Ftrain~I2e8c0be2221c0c23b752fdf2cdff065cddf830a5,openstack/octavia,stable/train,ipvsadm-exact-stats-stable/train,I2e8c0be2221c0c23b752fdf2cdff065cddf830a5,ipvsadm '--exact' arg to ensure outputs are ints,MERGED,2019-11-07 16:48:59.000000000,2019-11-08 03:45:28.000000000,2019-11-08 03:44:09.000000000,2,1,0,693391,192c85b3d1752c25129e59059dda4b34a8b4ab2f,12,3,2,1,28502,Colin Gibbons,colin,"ipvsadm '--exact' arg to ensure outputs are ints

Currently the keepalivedlvs_query script calls ipvsadm -Ln --stats
to query the local lvs for connection information. If any of these
values grow large enough they will be abbreviated with human-
friendly suffixes (K, M, G) and cause the get_ipvsadm_info func
to raise an exception when it receives a non-integer value from
its command output. By using the --exact argument in addition to
the existing arguments, we can ensure the output is always expanded
numbers, per the ipvsadm man page, and will only ever offer integer
outputs to the get_ipvsadm_info command.

Change-Id: I2e8c0be2221c0c23b752fdf2cdff065cddf830a5
Story: 2006791
Task: 37331
(cherry picked from commit 0682fb977a76d356ede20f516c849298d34eb7fc)
"
openstack%2Fcharm-ceph-mon~master~Id5023785fc748e44978b669db5b79c6c40e88de5,openstack/charm-ceph-mon,master,charm-cephfs-manila,Id5023785fc748e44978b669db5b79c6c40e88de5,Sync charms.ceph to add new permission request to broker,MERGED,2019-10-16 12:01:09.000000000,2019-11-08 03:42:09.000000000,2019-11-08 03:22:36.000000000,14,0,0,688910,b72936d72792dc28c3fcf6cf27da9a2b423d0207,25,4,5,1,20634,Chris MacNaughton,Chris.MacNaughton,"Sync charms.ceph to add new permission request to broker

Change-Id: Id5023785fc748e44978b669db5b79c6c40e88de5
Depends-On: Ifd341bd80833d4a7fd62e89e3c0e2b7fd64fafba
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I8392dc3452ff71bf9ae4aea7ef36a26ffca9b5fe,openstack/tripleo-heat-templates,stable/stein,happy-podman-stable/stein,I8392dc3452ff71bf9ae4aea7ef36a26ffca9b5fe,Fix container-puppet tool standalone for podman,MERGED,2019-11-06 14:15:54.000000000,2019-11-08 03:36:22.000000000,2019-11-08 03:36:22.000000000,10,4,0,693184,0313b9e3c648b98030d9594c89a2d5467fe3f782,20,7,1,1,28223,Cedric Jeanneret,cjeanner,"Fix container-puppet tool standalone for podman

Do not repeat volume mounts twice, do not use network, when it is not
required. Make podman CLI happy with defaults, when running the tool
with a minimalistic environment, like:

STEP=2 DEBUG=true CONFIG=foo-tasks.json ./common/container-puppet.py

Change-Id: I8392dc3452ff71bf9ae4aea7ef36a26ffca9b5fe
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Closes-Bug: #1851511
(cherry picked from commit b1fda5e8bb90e6aa505d9989b31574fcd5defe31)
"
openstack%2Fkuryr-tempest-plugin~master~I113bc0e365eb40d7ae5f306516bfc1dc0a718c8a,openstack/kuryr-tempest-plugin,master,isolation,I113bc0e365eb40d7ae5f306516bfc1dc0a718c8a,Skip Namespace isolation when NP is enabled,MERGED,2019-10-29 09:25:00.000000000,2019-11-08 03:25:43.000000000,2019-11-08 03:24:44.000000000,11,3,10,691830,ffae68805fac442a0d3fa1db08d25957c0741646,61,6,8,1,4727,Itzik Brown,itzikb1,"Skip Namespace isolation when NP is enabled

Change-Id: I113bc0e365eb40d7ae5f306516bfc1dc0a718c8a
Depends-On: I5b6b9a908a48eef9aa7cb08ca3a95269b1300578
"
openstack%2Fstorlets~master~Iff0b60cd53281c999c930a4e789aaaab360b1c7a,openstack/storlets,master,avoid-init,Iff0b60cd53281c999c930a4e789aaaab360b1c7a,Migrate detailed implementation from __init__.py,MERGED,2019-11-07 06:12:00.000000000,2019-11-08 03:25:17.000000000,2019-11-08 03:24:13.000000000,304,265,0,693292,8e31cdc7ba95c3f9214c44b9ea875689a7d70784,13,2,5,5,9816,Takashi Kajinami,kajinamit,"Migrate detailed implementation from __init__.py

... as we don't expect long codes are included in __init__.py .
This patch migrates these implementations to new independent
files, with keeping alias so that we can import things with
the same path.

Change-Id: Iff0b60cd53281c999c930a4e789aaaab360b1c7a
"
openstack%2Fstorlets~master~Id91acedbc144913769d0b5ced6a6acfc3268d826,openstack/storlets,master,smaller-file,Id91acedbc144913769d0b5ced6a6acfc3268d826,Use smaller file for functional tests,MERGED,2019-11-07 08:09:59.000000000,2019-11-08 03:24:22.000000000,2019-11-08 03:23:10.000000000,14,14,0,693309,dfbdd27bd8aa6ba7dd0d0bfc1490373bb2151359,12,2,3,2,9816,Takashi Kajinami,kajinamit,"Use smaller file for functional tests

1GB and 512MB are too large to test chunked read, and 10MB should
be enough.

Change-Id: Id91acedbc144913769d0b5ced6a6acfc3268d826
"
openstack%2Fcinder~master~I94eb9f44c69e0cf86289c5616fb7ba9c0ac11959,openstack/cinder,master,ussuri-drivers,I94eb9f44c69e0cf86289c5616fb7ba9c0ac11959,Add a backend driver of Pengyun Zettastor iSCSI storge.,ABANDONED,2019-11-01 02:25:58.000000000,2019-11-08 03:18:41.000000000,,1756,0,19,692479,195319cd6706da11908a378d0beca74552310c43,174,25,11,7,30499,PENGYUN ZettaStor CI,pengyun,"Add a backend driver of Pengyun Zettastor iSCSI storge.

This adds a new driver for Pengyun Zettastor storage. Zettastor is
a distributed storage system that provides a virtual storage pool
utilizing internal disks in commodity servers.

Change-Id: I94eb9f44c69e0cf86289c5616fb7ba9c0ac11959
"
openstack%2Fswift~master~I97cb090820b4099944ba49eaeb5b02f9bbcf1d58,openstack/swift,master,,I97cb090820b4099944ba49eaeb5b02f9bbcf1d58,Add delete_account in InternalClient,MERGED,2019-11-07 07:35:36.000000000,2019-11-08 02:53:50.000000000,2019-11-08 02:05:42.000000000,23,0,0,693305,7f6b09dc930706d63a943dc239dff84ddae52014,19,3,1,2,23279,Seongsoo Cho,seongsoo.cho,"Add delete_account in InternalClient

Currently, The internal client module is missing a delete_account method.
I added a delete_account in InternalClient

Change-Id: I97cb090820b4099944ba49eaeb5b02f9bbcf1d58
Closes-Bug: #1680377
"
openstack%2Fpython-karborclient~master~I3b6aaead255b51c742e8602d09b4b3f7f152ec6c,openstack/python-karborclient,master,unit_test_triggers,I3b6aaead255b51c742e8602d09b4b3f7f152ec6c,Add unit test for triggers,MERGED,2019-11-07 01:36:19.000000000,2019-11-08 02:44:06.000000000,2019-11-08 02:42:57.000000000,22,0,0,693275,56681c318e4a02d8b556105d19190aef5587cb1f,7,2,1,1,29272,liushuai,liushuai,"Add unit test for triggers

Change-Id: I3b6aaead255b51c742e8602d09b4b3f7f152ec6c
"
openstack%2Fstorlets~master~I31f12bedf77163c8756fecb5000885d01ddbf0e6,openstack/storlets,master,,I31f12bedf77163c8756fecb5000885d01ddbf0e6,Be explicit about which python3 to use for py36 and py37 tox envs,MERGED,2019-11-07 23:46:59.000000000,2019-11-08 02:39:06.000000000,2019-11-08 02:38:05.000000000,2,2,0,693451,3369c8b613ed54df96f66e20a52cf8fc740951d4,7,2,1,1,15343,Tim Burke,tburke,"Be explicit about which python3 to use for py36 and py37 tox envs

I saw some warnings locally like

    /usr/local/lib/python3.6/dist-packages/tox/config/__init__.py:581:
    UserWarning: conflicting basepython version (set 3.6, should be 3.7)
    for env 'py37';resolve conflict or set ignore_basepython_conflict

Seems like that may happen in the gate, too?

Change-Id: I31f12bedf77163c8756fecb5000885d01ddbf0e6
"
openstack%2Fnetworking-onos~stable%2Ftrain~I75533dbcac482d8fcf91360e94947e9abee747bb,openstack/networking-onos,stable/train,,I75533dbcac482d8fcf91360e94947e9abee747bb,Stop using common db mixin,MERGED,2019-11-04 09:21:15.000000000,2019-11-08 02:28:58.000000000,2019-11-08 02:28:58.000000000,1,7,0,692783,4d697fc17bee0dda02af575c2034a22581350092,8,3,2,1,28180,Jian Li,pyguni,"Stop using common db mixin

Change-Id: I75533dbcac482d8fcf91360e94947e9abee747bb
"
openstack%2Fnetworking-onos~master~I75533dbcac482d8fcf91360e94947e9abee747bb,openstack/networking-onos,master,,I75533dbcac482d8fcf91360e94947e9abee747bb,Stop using common db mixin,MERGED,2019-11-04 09:20:55.000000000,2019-11-08 02:26:18.000000000,2019-11-08 02:26:18.000000000,1,7,0,692782,f9c4c29a90eb7e9cca518957795d32d22f3f9315,9,3,2,1,28180,Jian Li,pyguni,"Stop using common db mixin

Change-Id: I75533dbcac482d8fcf91360e94947e9abee747bb
"
openstack%2Fkuryr-kubernetes~master~Ic187d5974da1d9d481f04a45190e3ad756430a31,openstack/kuryr-kubernetes,master,sample_conf_onos,Ic187d5974da1d9d481f04a45190e3ad756430a31,Adds an additional sample local.conf file for ONOS,ABANDONED,2018-05-21 09:22:49.000000000,2019-11-08 02:21:21.000000000,,205,0,2,569756,4497ef8494c1ab1e59efe0b86b0f2bda78f53fff,11,6,2,1,25575,Sangho Shin,sanghoshin,"Adds an additional sample local.conf file for ONOS

Change-Id: Ic187d5974da1d9d481f04a45190e3ad756430a31
"
openstack%2Fstorlets~master~I4379dba7629cfc0d928c1adda587ca400a38d227,openstack/storlets,master,693291,I4379dba7629cfc0d928c1adda587ca400a38d227,PY3: decode subprocess output if it's bytes,MERGED,2019-11-06 01:39:55.000000000,2019-11-08 01:59:18.000000000,2019-11-08 01:58:02.000000000,4,0,1,693106,c72226b6549d928fdb6845fce0d1495cfb4e9609,17,3,6,1,4608,Kota Tsuyuzaki,tsuyuzaki-kota,"PY3: decode subprocess output if it's bytes

Otherwise, the logger will cause errors for the output.

Change-Id: I4379dba7629cfc0d928c1adda587ca400a38d227
"
openstack%2Fstorlets~master~I542db555798e7ef67bf0db9d98d1c14578118f86,openstack/storlets,master,693291,I542db555798e7ef67bf0db9d98d1c14578118f86,PY3: ensure bytes format in sbus conversation,MERGED,2019-11-04 22:47:54.000000000,2019-11-08 01:54:41.000000000,2019-11-08 01:52:39.000000000,19,12,1,692922,89fd96b9ffc3dabd580cfa243349927c42876ddc,22,3,8,1,4608,Kota Tsuyuzaki,tsuyuzaki-kota,"PY3: ensure bytes format in sbus conversation

Originally, that was just str, that can be compatible with
char in python c_types. However, in python3, str is not a
byte format but bytes. This patch is intended to encupsulate
any data format (path name, metadata) into SBus module that
tranforms them from str to bytes at the send time. (receive
will work as well from bytes to str) Thus, any other storlet
modules are able to use them as str as well as ever.

Change-Id: I542db555798e7ef67bf0db9d98d1c14578118f86
"
openstack%2Fstorlets~master~I834b29886a18269de2745ffe584291491e80f9eb,openstack/storlets,master,692522,I834b29886a18269de2745ffe584291491e80f9eb,PY3: Fix file open to read/write the data as bytes,MERGED,2019-11-01 09:45:49.000000000,2019-11-08 01:53:41.000000000,2019-11-08 01:52:39.000000000,51,45,26,692522,84421c93d044078f0975dfb4025111b133d26482,39,4,12,18,4608,Kota Tsuyuzaki,tsuyuzaki-kota,"PY3: Fix file open to read/write the data as bytes

Because swiftclient.put_object assumes it as bytes object.
Only ZipFile is not suppoting rb mode so leave it as it is.
It should be okay because Storlets use it just to pick up
the filnames that should be string instead of bytes.

Change-Id: I834b29886a18269de2745ffe584291491e80f9eb
"
openstack%2Fstorlets~master~I0dacb4bd2054f81f0330039aea0df2fe8194abff,openstack/storlets,master,693291,I0dacb4bd2054f81f0330039aea0df2fe8194abff,PY3: encode SBUS command as bytes,ABANDONED,2019-11-06 03:28:19.000000000,2019-11-08 01:52:28.000000000,,2,1,2,693113,450546e945795b8549f70d817cdea994de8c2183,15,4,5,1,4608,Kota Tsuyuzaki,tsuyuzaki-kota,"PY3: encode SBUS command as bytes

Because it's used by unix domain socket conversation
defined as c_char_p.

Change-Id: I0dacb4bd2054f81f0330039aea0df2fe8194abff
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9711ef977d045f1dbcdc631fe2655294109031b8,openstack/tripleo-heat-templates,stable/train,remove_odl-stable/train,I9711ef977d045f1dbcdc631fe2655294109031b8,Remove OpenDaylight templates and environments,MERGED,2019-11-06 06:19:15.000000000,2019-11-08 01:46:53.000000000,2019-11-08 01:45:28.000000000,5,1366,0,693123,6d1ddeafb9bf6d1ca6ca31d276ca8d1fc79f69cf,10,5,1,66,18575,Saravanan KR,saravanankr,"Remove OpenDaylight templates and environments

OpenDaylight deployment has been deprecated in Stein. In Train,
the tempaltes are removed.

Change-Id: I9711ef977d045f1dbcdc631fe2655294109031b8
(cherry picked from commit 9c3638b8a13ea08a1bab95c9cd6ab335b729b6b3)
"
openstack%2Fcyborg-tempest-plugin~master~Ic3a21c810040bac30c81030078d69079f3577567,openstack/cyborg-tempest-plugin,master,drop-python2-support,Ic3a21c810040bac30c81030078d69079f3577567,Add cyborg-tempest-py3 job according [1],ABANDONED,2019-11-05 01:48:19.000000000,2019-11-08 01:32:31.000000000,,11,2,0,692937,c7de83e906cb70b52b55f6db066d7e832c2b2cc1,6,10,2,1,30395,Arthur Dayne,acewit,"Add cyborg-tempest-py3 job according [1]

[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html

Change-Id: Ic3a21c810040bac30c81030078d69079f3577567
"
openstack%2Fdevstack~master~Ife215db3f59f011574a50b0d1cbd5565a7408dfe,openstack/devstack,master,nested-kvm,Ife215db3f59f011574a50b0d1cbd5565a7408dfe,Add override variable for LIBVIRT_TYPE,MERGED,2019-10-03 23:32:41.000000000,2019-11-08 01:32:05.000000000,2019-11-08 01:30:31.000000000,2,2,0,686509,5c6b3c32791f6a1b6e3646e739d41ae86d866d45,15,3,1,1,7118,Ian Wienand,iwienand,"Add override variable for LIBVIRT_TYPE

Allow jobs to set LIBVIRT_TYPE, but retain the current default.  This
is for testing nested virt.

Change-Id: Ife215db3f59f011574a50b0d1cbd5565a7408dfe
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a,openstack/tripleo-heat-templates,stable/rocky,bug/1844688,Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a,"Add ""radvd_user"" config parameter to Neutron L3 container",MERGED,2019-11-05 11:57:08.000000000,2019-11-08 01:27:29.000000000,2019-11-08 01:26:01.000000000,17,0,0,692987,fe39ce3095df7abc3d00d1750183e3cd43b91a97,8,3,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add ""radvd_user"" config parameter to Neutron L3 container

The username passed to radvd, used to drop root privileges and change
user ID to username and group ID to the primary group of username. If no
user specified, the user executing the L3 agent will be passed. If ""root""
specified, because radvd is spawned as root, no ""username"" parameter
will be passed

Conflicts:
      docker/services/neutron-l3.yaml

Change-Id: Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a
Closes-Bug: #1844688
(cherry picked from commit fb53535ca57adc6f1c53915a1cf4f6f4afe4bdaf)
(cherry picked from commit c37c7bd0ca047aeb9c53a8fbe94af45cb6bf9b49)
(cherry picked from commit 98032a162d086328ca13056ed3f7dd5d1486c43f)
"
openstack%2Ftripleo-image-elements~master~Id3d18ba8c9b3b87d62fb1e3adca00a96d83c1e4f,openstack/tripleo-image-elements,master,,Id3d18ba8c9b3b87d62fb1e3adca00a96d83c1e4f,tox: Keeping going with docs,MERGED,2019-11-02 18:38:11.000000000,2019-11-08 01:27:15.000000000,2019-11-08 01:26:03.000000000,3,3,0,692686,4595436ee3580dc54e1f82ef7a17902f235768c5,10,4,2,2,30356,gugug,gujin,"tox: Keeping going with docs

Change-Id: Id3d18ba8c9b3b87d62fb1e3adca00a96d83c1e4f
"
openstack%2Ftripleo-puppet-elements~master~I8351af94c728a26ac3c2d67176c3279348264922,openstack/tripleo-puppet-elements,master,,I8351af94c728a26ac3c2d67176c3279348264922,tox: Keeping going with docs,MERGED,2019-11-02 18:38:09.000000000,2019-11-08 01:27:13.000000000,2019-11-08 01:26:04.000000000,11,3,0,692684,583a788cd475c3e4ff5980169f480a23398fe91e,12,4,4,3,30356,gugug,gujin,"tox: Keeping going with docs

Change-Id: I8351af94c728a26ac3c2d67176c3279348264922
"
openstack%2Ftripleo-repos~master~Id753ce2621c3a1dc01df2ebcd4f72fd961e79e45,openstack/tripleo-repos,master,,Id753ce2621c3a1dc01df2ebcd4f72fd961e79e45,tox: Keeping going with docs,MERGED,2019-11-02 18:38:06.000000000,2019-11-08 01:26:05.000000000,2019-11-08 01:26:05.000000000,7,3,0,692680,2655019cd8854e59bd1890679c04bf42ea37d1a0,10,3,3,2,30356,gugug,gujin,"tox: Keeping going with docs

Change-Id: Id753ce2621c3a1dc01df2ebcd4f72fd961e79e45
"
openstack%2Fdiskimage-builder~master~Ia04f7a77935c20e4d6b3f179f1d3c380d123482e,openstack/diskimage-builder,master,matrix_build_002,Ia04f7a77935c20e4d6b3f179f1d3c380d123482e,WIP: Docker matrix build,NEW,2016-12-22 22:58:33.000000000,2019-11-08 01:20:32.000000000,,1351,0,4,414347,2f915c373274b36002c7bb2544cc9639ebca4405,176,8,54,20,21741,Andreas Florath,florath,"WIP: Docker matrix build

Add a new test set:
all supported target distributions and releases are build
within each supported build distribution and release.

Change-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e
Signed-off-by: Andreas Florath <andreas@florath.net>
"
openstack%2Fopenstack-ansible~master~Ieb28562c125e6d198f951b4d0354c3cfb28d0e87,openstack/openstack-ansible,master,add-upgrade-jobs,Ieb28562c125e6d198f951b4d0354c3cfb28d0e87,Switch upgrade jobs to Ussuri cycle,MERGED,2019-11-01 07:49:16.000000000,2019-11-08 01:15:00.000000000,2019-11-08 01:11:56.000000000,1,1,0,692509,035136af6cc7a4634d6693421f94b706140b6fe1,14,4,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Switch upgrade jobs to Ussuri cycle

Depends-On: https://review.opendev.org/693043
Change-Id: Ieb28562c125e6d198f951b4d0354c3cfb28d0e87
"
openstack%2Fopenstack-ansible~master~If267932f31c2f78bbb271f3d7891cf86b00611c6,openstack/openstack-ansible,master,bump_osa,If267932f31c2f78bbb271f3d7891cf86b00611c6,Bump SHAs for master,MERGED,2019-11-06 12:13:04.000000000,2019-11-08 01:13:38.000000000,2019-11-08 01:11:55.000000000,48,48,0,693163,7175343560b42baeab483f46cb5dcb62fd781384,9,3,2,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump SHAs for master

Change-Id: If267932f31c2f78bbb271f3d7891cf86b00611c6
"
openstack%2Freleases~master~I5142a359198d8e147e2b2d8ec64dc9444b75d3aa,openstack/releases,master,keystone-schedule,I5142a359198d8e147e2b2d8ec64dc9444b75d3aa,Add Ussuri cycle schedule for keystone,MERGED,2019-10-18 17:04:46.000000000,2019-11-08 01:03:16.000000000,2019-11-08 01:03:16.000000000,36,0,1,689549,f6a70ce94dce297598ea02ca4b52f165ed5287e8,13,6,2,2,16465,Kristi Nikolla,knikolla,"Add Ussuri cycle schedule for keystone

Change-Id: I5142a359198d8e147e2b2d8ec64dc9444b75d3aa
"
openstack%2Foslo.context~master~Ic724128e1f087f4f19ec3519ab7d7a3174e35f60,openstack/oslo.context,master,sphinx,Ic724128e1f087f4f19ec3519ab7d7a3174e35f60,Blacklist sphinx 2.1.0 (autodoc bug),ABANDONED,2019-10-10 06:22:42.000000000,2019-11-08 00:57:40.000000000,,1,1,0,687784,327cd7d2a1a31629e97c64abbbba9ad91fe2bc12,4,2,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Ic724128e1f087f4f19ec3519ab7d7a3174e35f60
"
openstack%2Fvitrage-dashboard~master~Ifd42e568604a4c5e96494eede1197392f4d1fc70,openstack/vitrage-dashboard,master,,Ifd42e568604a4c5e96494eede1197392f4d1fc70,Stop testing python2.7,ABANDONED,2019-10-28 06:53:30.000000000,2019-11-08 00:52:06.000000000,,1,3,0,691613,4fae3aea87835bb0f35818ac0f5e5ae1be1c06fc,5,3,1,2,30384,zhangboye,zhangboye,"Stop testing python2.7

Change-Id: Ifd42e568604a4c5e96494eede1197392f4d1fc70
"
openstack%2Fpuppet-tripleo~master~Idd6d03f144d8c732c51f787b0d48d1afcd22f4c6,openstack/puppet-tripleo,master,,Idd6d03f144d8c732c51f787b0d48d1afcd22f4c6,Latest redis version requires 'connect' argument before proceeding,ABANDONED,2019-11-07 21:50:57.000000000,2019-11-08 00:51:15.000000000,,2,1,3,693434,b6e0057df97c107d3e9c0ecdd2cb49a3a89d321e,7,4,1,1,7130,David Hill,dhill,"Latest redis version requires 'connect' argument before proceeding

Latest redis version requires 'connect' argument before proceeding

Change-Id: Idd6d03f144d8c732c51f787b0d48d1afcd22f4c6
"
openstack%2Frequirements~master~Icd7dcb67102c2ac6137d7307c071315e9f680358,openstack/requirements,master,,Icd7dcb67102c2ac6137d7307c071315e9f680358,Stop testing python2.7,ABANDONED,2019-10-28 06:14:29.000000000,2019-11-08 00:51:14.000000000,,1,3,1,691596,f4837ad2181a9cb7d57b9c79af16e176f9eeffa8,10,3,2,2,30384,zhangboye,zhangboye,"Stop testing python2.7

Change-Id: Icd7dcb67102c2ac6137d7307c071315e9f680358
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a,openstack/tripleo-heat-templates,stable/stein,bug/1844688,Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a,"Add ""radvd_user"" config parameter to Neutron L3 container",MERGED,2019-11-05 11:52:25.000000000,2019-11-08 00:41:29.000000000,2019-11-08 00:40:17.000000000,17,0,0,692986,98032a162d086328ca13056ed3f7dd5d1486c43f,13,4,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add ""radvd_user"" config parameter to Neutron L3 container

The username passed to radvd, used to drop root privileges and change
user ID to username and group ID to the primary group of username. If no
user specified, the user executing the L3 agent will be passed. If ""root""
specified, because radvd is spawned as root, no ""username"" parameter
will be passed

Conflicts:
      deployment/neutron/neutron-l3-container-puppet.yaml

Change-Id: Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a
Closes-Bug: #1844688
(cherry picked from commit fb53535ca57adc6f1c53915a1cf4f6f4afe4bdaf)
(cherry picked from commit c37c7bd0ca047aeb9c53a8fbe94af45cb6bf9b49)
"
openstack%2Ftripleo-common~master~Ia9e291d476d3143b194ce06002a0c1745cf3ef94,openstack/tripleo-common,master,,Ia9e291d476d3143b194ce06002a0c1745cf3ef94,"Revert ""Set display_skipped_host to no""",MERGED,2019-11-05 21:45:17.000000000,2019-11-08 00:21:04.000000000,2019-11-08 00:19:28.000000000,0,2,2,693086,efe21cdecbba5a17dfe805e238865c8fd696c39d,11,5,1,1,7144,James Slagle,slagle,"Revert ""Set display_skipped_host to no""

display_skipped_hosts=no has the unfortunate side effect of not showing
the running task name until the task has returned. The reason is b/c the
task name won't be shown at all if all hosts are skipped, but that won't
be known until the task returns.

For long running tasks, this can be quite misleading as the running task
name is not seen until it returns. This makes debugging difficult, and users
don't know what task is actually running until it's completed.

There is an option to show the task name as soon as it starts executing,
but it was not added until ansible-2.9:
https://github.com/ansible/ansible/pull/53819

See also https://github.com/ansible/ansible/issues/51042

This reverts commit 403535c5722cda7cdc7573b009046fb0c2f86c7c.

Change-Id: Ia9e291d476d3143b194ce06002a0c1745cf3ef94
"
openstack%2Fopenstack-ansible-os_zun~master~Iddd3f069e9a52364b6d9b9697d080b03920f573a,openstack/openstack-ansible-os_zun,master,reno-train,Iddd3f069e9a52364b6d9b9697d080b03920f573a,Update master for stable/train,MERGED,2019-10-22 19:03:06.000000000,2019-11-07 23:48:06.000000000,2019-11-07 23:46:14.000000000,7,0,0,690310,c526498354b9e32c29273bb141a4c7046a157328,10,3,2,2,22816,OpenStack Release Bot,release,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Iddd3f069e9a52364b6d9b9697d080b03920f573a
Sem-Ver: feature
"
openstack%2Fopenstack-ansible-os_zun~master~I3a3c7bbccba4ebb9c176081e1f71e7d44d606fa5,openstack/openstack-ansible-os_zun,master,openstack/openstack-ansible-tests/sync-tests,I3a3c7bbccba4ebb9c176081e1f71e7d44d606fa5,Updated from OpenStack Ansible Tests,MERGED,2019-10-23 17:26:41.000000000,2019-11-07 23:46:12.000000000,2019-11-07 23:46:12.000000000,2,1,0,690691,f365d731d452130b39e18fd981d5b3ed34a1e334,11,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I3a3c7bbccba4ebb9c176081e1f71e7d44d606fa5
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~I30142db8bfa55412b8c8224aeb05916184117666,openstack/puppet-tripleo,stable/queens,missing-patch,I30142db8bfa55412b8c8224aeb05916184117666,Qdr: InternalTLS support.,MERGED,2019-10-29 16:15:20.000000000,2019-11-07 23:31:44.000000000,2019-11-07 23:31:44.000000000,135,0,0,691907,ffdfe7b2c2d51a157e056825045fb45a050784fc,10,6,1,4,5241,Martin Magr,mmagr,"Qdr: InternalTLS support.

Configuration changes to provide Internal TLS support
for Qdr.

Change-Id: I30142db8bfa55412b8c8224aeb05916184117666
(cherry picked from commit be82c8690678e199e5fe95242c884f943531597b)
(cherry picked from commit 6192a54b6c882c8b27e72559bdc6582269d11174)
"
openstack%2Ftripleo-puppet-elements~master~I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb,openstack/tripleo-puppet-elements,master,bug/1851274,I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb,Use chkconfig,MERGED,2019-11-07 15:19:33.000000000,2019-11-07 23:22:12.000000000,2019-11-07 23:18:48.000000000,1,2,0,693370,63859da17b4f4e25b4817950544a5daf50270e8a,18,5,4,1,14985,Alex Schultz,mwhahaha,"Use chkconfig

The network.service is a legacy config. Use chkconfig directly instead
of the systemctl version.

Depends-On: https://review.opendev.org/#/c/693379/
Change-Id: I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb
Closes-Bug: #1851274
"
openstack%2Ftripleo-heat-templates~master~I382b472185f445e5d81077bc50b4c9cb65285530,openstack/tripleo-heat-templates,master,bug/1851667,I382b472185f445e5d81077bc50b4c9cb65285530,Fix debug hiera keys,MERGED,2019-11-07 15:32:33.000000000,2019-11-07 23:16:29.000000000,2019-11-07 23:16:07.000000000,4,4,0,693375,cf3fa9d77dff583ba62484f21d1ca150cfb73ecf,13,5,2,4,14985,Alex Schultz,mwhahaha,"Fix debug hiera keys

The correct key to configure mistral debug is mistral::logging::debug
not mistral::debug. The same is true for heat, manila and sahara.

Change-Id: I382b472185f445e5d81077bc50b4c9cb65285530
Closes-Bug: #1851667
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I03754206781bc8f62d143b2c541f594ca3207a0f,openstack/tripleo-heat-templates,stable/stein,bug/1811005,I03754206781bc8f62d143b2c541f594ca3207a0f,Move bootstrap password to an environment var,MERGED,2019-11-06 14:46:21.000000000,2019-11-07 23:07:56.000000000,2019-11-07 23:07:56.000000000,7,1,0,693188,f29003fa18d301803cc66734616af5e374bfe7fa,14,5,2,1,14985,Alex Schultz,mwhahaha,"Move bootstrap password to an environment var

Currently if you try to use a space in the keystone password, the
bootstrap process fails due to the password being evaulated as command
line arguments. We can work around this by using an environment var to
pass the password to the script that needs to be run.

Conflicts:
        deployment/keystone/keystone-container-puppet.yaml

Change-Id: I03754206781bc8f62d143b2c541f594ca3207a0f
Closes-Bug: #1811005
(cherry picked from commit 068527d139b4b521782873fdd97ac46cb10b0885)
"
openstack%2Ftripleo-common~master~I4821b7ca0260e4dfd1717ba976cef700d160f84f,openstack/tripleo-common,master,systemd-wrappers,I4821b7ca0260e4dfd1717ba976cef700d160f84f,WIP - Implement tripleo-systemd-wrapper role,ABANDONED,2018-11-12 19:30:47.000000000,2019-11-07 23:07:47.000000000,,200,0,17,617377,2d220329050b1f04f3a2b06d7683385819532d7f,41,9,16,8,3153,Emilien Macchi,emilienm,"WIP - Implement tripleo-systemd-wrapper role

This patch adds a new role that will be used to manage side containers
with SystemD instead of docker.socket or nsenter.
The main use case here is Neutron, although this role is designed to
work with any service.

It is highly work in progress right now.

Change-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f
Co-Authored-By: Dan Prince <dprince@redhat.com>
"
openstack%2Ftripleo-ci~master~I3a77c1087d1e2cf8603261d161c3ad18bb28d1b2,openstack/tripleo-ci,master,rhui,I3a77c1087d1e2cf8603261d161c3ad18bb28d1b2,Remove all prepopulated repos on base image,MERGED,2019-11-07 14:41:51.000000000,2019-11-07 22:54:28.000000000,2019-11-07 22:54:28.000000000,1,0,0,693365,5e5fee134e6e521f4ebe74e59ee3c2546b8d0061,8,4,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Remove all prepopulated repos on base image

Change-Id: I3a77c1087d1e2cf8603261d161c3ad18bb28d1b2
"
openstack%2Ftripleo-ci~master~Ic856ce498cc6aacdf0ba2539a468c7972fa6596c,openstack/tripleo-ci,master,newrepo,Ic856ce498cc6aacdf0ba2539a468c7972fa6596c,Rename delorean deps repo according to new name,MERGED,2019-11-07 15:41:44.000000000,2019-11-07 22:54:27.000000000,2019-11-07 22:54:27.000000000,4,1,0,693379,3b20929814dbbbe1813eb8707228433c733287c8,13,4,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Rename delorean deps repo according to new name

Change-Id: Ic856ce498cc6aacdf0ba2539a468c7972fa6596c
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia8df4794fcf8eff9a2d5a8a7e99e0e5ebf1f8e1f,openstack/tripleo-heat-templates,stable/train,check-stable/train,Ia8df4794fcf8eff9a2d5a8a7e99e0e5ebf1f8e1f,Do not run rendering all_nodes data as group_vars in check mode,MERGED,2019-11-06 15:07:10.000000000,2019-11-07 22:54:25.000000000,2019-11-07 22:54:25.000000000,7,0,0,693194,04e2bb933c1dab90d1cfa6d3b822dbb11a62710e,13,5,1,1,3153,Emilien Macchi,emilienm,"Do not run rendering all_nodes data as group_vars in check mode

We don't want to run the ""Render all_nodes data as group_vars for overcloud""
tasks in check mode, since it relies on the command ""whoami""; which
doesn't execute in check mode.

Change-Id: Ia8df4794fcf8eff9a2d5a8a7e99e0e5ebf1f8e1f
(cherry picked from commit 427e54164dd1369502aaca8993ec24671e192913)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I97bdc6344816ca04e9afaeb939690aa367d4b33f,openstack/tripleo-heat-templates,stable/rocky,rocky/logs,I97bdc6344816ca04e9afaeb939690aa367d4b33f,Mode 0750 for /var/log/containers,MERGED,2019-11-07 08:31:19.000000000,2019-11-07 22:54:24.000000000,2019-11-07 22:54:23.000000000,1,0,0,693314,1d6051512982083e2012f183f2da99ce7892be6e,10,5,1,1,3153,Emilien Macchi,emilienm,"Mode 0750 for /var/log/containers

Logs should not be world-readable, they contain sensitive informations.

Change-Id: I97bdc6344816ca04e9afaeb939690aa367d4b33f
(cherry picked from commit de92a638f8bc8194024f5d6d8cd8352a3406dd5e)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I97bdc6344816ca04e9afaeb939690aa367d4b33f,openstack/tripleo-heat-templates,stable/queens,rocky/logs-stable/queens,I97bdc6344816ca04e9afaeb939690aa367d4b33f,Mode 0750 for /var/log/containers,MERGED,2019-11-07 08:31:57.000000000,2019-11-07 22:54:22.000000000,2019-11-07 22:54:22.000000000,1,0,0,693315,f681baf4aedfd8754063236814e66fd3825d62ca,9,5,1,1,3153,Emilien Macchi,emilienm,"Mode 0750 for /var/log/containers

Logs should not be world-readable, they contain sensitive informations.

Change-Id: I97bdc6344816ca04e9afaeb939690aa367d4b33f
(cherry picked from commit de92a638f8bc8194024f5d6d8cd8352a3406dd5e)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I05f27a40b52305759533ad0cac8d79a15448852e,openstack/tripleo-heat-templates,stable/stein,mistral_executor/undercloud.conf-stable/stein,I05f27a40b52305759533ad0cac8d79a15448852e,Simplify and correct how we provide the undercloud.conf to mistral,MERGED,2019-11-07 10:48:08.000000000,2019-11-07 22:54:21.000000000,2019-11-07 22:54:20.000000000,8,16,0,693334,fec5139e5d9f126d4d0cf029aa5213eec2330f74,9,6,1,1,28223,Cedric Jeanneret,cjeanner,"Simplify and correct how we provide the undercloud.conf to mistral

Bind-mounting a file from /home subdir is wrong. In addition, there
were some useless steps for the container configuration, like copying
the undercloud.conf to its final destination.

This patch intends to simplify those steps, and prevents SELinux issues.

Related change: If061d496a26c84e5027916c0d8f9153b129b451a

Change-Id: I05f27a40b52305759533ad0cac8d79a15448852e
(cherry picked from commit 096816a238a861c986ec6697d012fa8d9e86156b)
"
openstack%2Fopenstack-ansible-ops~master~I41b5d746a8f31018e15bd282b7a358d50610eabb,openstack/openstack-ansible-ops,master,python3-support,I41b5d746a8f31018e15bd282b7a358d50610eabb,Update MNAIO to use python3,MERGED,2019-11-07 16:37:37.000000000,2019-11-07 22:44:12.000000000,2019-11-07 22:42:52.000000000,7,7,0,693388,aa2522129829a0f702beb25afd7c941f09c8e6fa,8,3,1,1,16011,James Denton,busterswt,"Update MNAIO to use python3

This patch updates the bootstrap script for the MNAIO to use python3
rather than python2.7. This only impacts the deploy node and not
deployed VMs.

Change-Id: I41b5d746a8f31018e15bd282b7a358d50610eabb
"
openstack%2Fnova~master~I39d93dbf8552605e34b9f146e3613e6af62a1774,openstack/nova,master,remove_ocata,I39d93dbf8552605e34b9f146e3613e6af62a1774,Adjust log style and remove ocata support,MERGED,2018-06-19 09:43:34.000000000,2019-11-07 22:38:42.000000000,2018-07-17 00:46:29.000000000,11,20,7,576462,9602c431f3f348f2e6ff15973cdf13ab2aead20c,58,17,4,1,6062,jichenjc,jichenjc,"Adjust log style and remove ocata support

we already passed Pike cycle and should require compute to have
Pike+ version, the backport to Ocata can be removed.

Change-Id: I39d93dbf8552605e34b9f146e3613e6af62a1774
"
openstack%2Fnova~master~Ic0e93149d159ec2f4c15e6de006785f246c11b65,openstack/nova,master,bug/1841128,Ic0e93149d159ec2f4c15e6de006785f246c11b65,Smaller project quota than user quota shouldn't be set,NEW,2019-08-23 08:56:23.000000000,2019-11-07 21:33:30.000000000,,73,22,6,678183,86e91a95995ee79ad63e0fdb9b0b176057dc0d0e,36,16,4,2,10115,Mitsuhiro Tanino,mtanino,"Smaller project quota than user quota shouldn't be set

Normally, project quota can't be set smaller value than user
quota, however this operation can be succeeded when previous
project quota value is unlimited.
This patch tries to fix this inconsistency and added some
test cases related to unlimited quota values.

Change-Id: Ic0e93149d159ec2f4c15e6de006785f246c11b65
Closes-Bug: #1841128
"
openstack%2Fnova~stable%2Fstein~Idb205ab5b16bbf96965418cd544016fa9cc92de9,openstack/nova,stable/stein,bug/1824435,Idb205ab5b16bbf96965418cd544016fa9cc92de9,Remove redundant call to get/create default security group,MERGED,2019-11-04 21:30:52.000000000,2019-11-07 21:32:49.000000000,2019-11-07 21:28:43.000000000,12,19,0,692907,a80eb82f675ae4c933158fc097094cbbbb96f9dd,36,8,6,2,4690,melanie witt,melwitt,"Remove redundant call to get/create default security group

In the instance_create DB API method, it ensures the (legacy) default
security group gets created for the specified project_id if it does
not already exist. If the security group does not exist, it is created
in a separate transaction.

Later in the instance_create method, it reads the default security group
back that it wrote earlier (via the same ensure default security group
code). But since it was written in a separate transaction, the current
transaction will not be able to see it and will get back 0 rows. So, it
creates a duplicate default security group record if project_id=NULL
(which it will be, if running nova-manage db online_data_migrations,
which uses an anonymous RequestContext with project_id=NULL). This
succeeds despite the unique constraint on project_id because in MySQL,
unique constraints are only enforced on non-NULL values [1].

To avoid creation of a duplicate default security group for
project_id=NULL, we can use the default security group object that was
returned from the first security_group_ensure_default call earlier in
instance_create method and remove the second, redundant call.

This also breaks out the security groups setup code from a nested
method as it was causing confusion during code review and is not being
used for any particular purpose. Inspection of the original commit
where it was added in 2012 [2] did not contain any comments about the
nested method and it appeared to either be a way to organize the code
or a way to reuse the 'models' module name as a local variable name.

Closes-Bug: #1824435

[1] https://dev.mysql.com/doc/refman/8.0/en/create-index.html#create-index-unique
[2] https://review.opendev.org/#/c/8973/2/nova/db/sqlalchemy/api.py@1339

 Conflicts:
	gate/post_test_hook.sh

NOTE(melwitt): The conflict is because of the difference from Train in
the patch below this one where we need to pass the cell1 config to the
archive command because change
If133b12bf02d708c099504a88b474dce0bdb0f00 is not in Stein.

Change-Id: Idb205ab5b16bbf96965418cd544016fa9cc92de9
(cherry picked from commit 6ea945e3b126879a86fe78d9c0537f5d258cf91a)
(cherry picked from commit 416290f1938631a95aaaf92a41f455ebf75b0732)
"
openstack%2Fnova~stable%2Fstein~I204361d6ff7c2323bc744878d8a9fa2d20a480b1,openstack/nova,stable/stein,bug/1824435,I204361d6ff7c2323bc744878d8a9fa2d20a480b1,Add regression test for bug 1824435,MERGED,2019-11-04 21:30:52.000000000,2019-11-07 21:31:23.000000000,2019-11-07 21:28:38.000000000,23,0,9,692906,844209b064ab4fd4d66ec8d9fc7dc106ae6d6d4b,41,8,6,1,4690,melanie witt,melwitt,"Add regression test for bug 1824435

This adds a regression test in our post test hook. We are not able to
do a similar test in the unit or functional tests because SQLite does
not provide any isolation between transactions on the same database
connection [1] and the bug can only be reproduced with the isolation
that is present when using a real MySQL database.

Related-Bug: #1824435

[1] https://www.sqlite.org/isolation.html

NOTE(melwitt): The differences from the Train change is because change
If133b12bf02d708c099504a88b474dce0bdb0f00 is not in Stein. We need to
pass the cell1 config to the archive command because we don't have
--all-cells.

Change-Id: I204361d6ff7c2323bc744878d8a9fa2d20a480b1
(cherry picked from commit 7c41365f193fd5b08d0174b6cd8e349ac95b7907)
(cherry picked from commit 73b6cb897ecbfe95e50eee632e5e6f5b5c29f7c4)
"
openstack%2Fopenstack-zuul-jobs~master~Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a,openstack/openstack-zuul-jobs,master,sitemaps_generation,Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a,docs sitemap generation automation,NEW,2017-12-02 11:33:22.000000000,2019-11-07 21:05:18.000000000,,212,0,81,524862,0e03e5b43e6d1f1dece9354a5eacc5283af61968,103,7,35,5,24728,megan guiney,mguiney,"docs sitemap generation automation

Still largely a WIP, but this is the first piece of what needs
doing. Currently runs the script that generates a sitemap that
reflects the current contents of the docs/build directory of
the specified project.

This work will be paired with a patch in the openstack-manuals
repo that will allow the sitemap index to create a sitemaps
index. This patch is still to be pushed

These action items are a result of ongoing discussion surrounding
the automation of the sitemap generation process, and may, as a
result of continued discussion and issue resolution, be subject
to change.

Change-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a
"
openstack%2Ftempest~master~Ifb33a76ef8ba6db34f68b83e9fa7eff5c5442e7f,openstack/tempest,master,make-interop-gating-voting,Ifb33a76ef8ba6db34f68b83e9fa7eff5c5442e7f,Make the interop-tempest-consistency job voting,ABANDONED,2018-10-26 23:24:20.000000000,2019-11-07 21:05:07.000000000,,0,1,1,613707,b38e7d4fb11e23b7cf5b3010e7af930aea1ecf7e,6,4,1,1,7822,Chris Hoge (not involved in upstream development),hogepodge,"Make the interop-tempest-consistency job voting

After a period of stability testing from the first introduction
of this job, the interop-tempest-consistency gate has been stable.
To prevent future inconsistencies between the tempest and the
interop repositories, make this job gating so that breaking
cross-project changes can not be merged.

Change-Id: Ifb33a76ef8ba6db34f68b83e9fa7eff5c5442e7f
"
openstack%2Floci~master~I0fcf9587aba02cef0bcb58a82f3b15e884fb6100,openstack/loci,master,,I0fcf9587aba02cef0bcb58a82f3b15e884fb6100,Make Python3 the default interpreter,ABANDONED,2019-06-13 17:29:47.000000000,2019-11-07 21:04:14.000000000,,1,1,0,665187,56c19fa28911d5c3d87683fd1545354b4e2981f7,10,3,3,1,7822,Chris Hoge (not involved in upstream development),hogepodge,"Make Python3 the default interpreter

Python2 is going away. Make Python3 the default build interpreter
for Loci.

Change-Id: I0fcf9587aba02cef0bcb58a82f3b15e884fb6100
"
openstack%2Fnova~master~I2254e36407c9f9ff674eaec44c115d7516421de3,openstack/nova,master,bp/cross-cell-resize,I2254e36407c9f9ff674eaec44c115d7516421de3,Refresh instance in MigrationTask.execute Exception handler,MERGED,2019-07-04 01:05:27.000000000,2019-11-07 20:58:10.000000000,2019-11-07 20:54:20.000000000,55,11,8,669012,462d0d813e504df6b3a28db7655eb57ec2839422,190,17,19,3,6873,Matt Riedemann,mriedem,"Refresh instance in MigrationTask.execute Exception handler

Cross-cell resize is a synchronous operation from the MigrationTask
which means if something fails on the compute and sets the instance
to ERROR, the Exception block in _cold_migrate in conductor can
blindly reset the vm_state to ACTIVE because it is using a stale
copy of the instance.

This change refreshes the instance before calling _set_vm_state_and_notify
so we don't overwrite the current vm_state. This is not really a
problem for same-cell resize because prep_resize is an RPC cast to
the destination compute so any failures there will be persisted
separately from the Exception block in the _cold_migrate method.

Change-Id: I2254e36407c9f9ff674eaec44c115d7516421de3
"
openstack%2Fopenstack-ansible-repo_server~master~I7ab2e5401d20ffa0843fee87ef9320ab4d1ce0ea,openstack/openstack-ansible-repo_server,master,,I7ab2e5401d20ffa0843fee87ef9320ab4d1ce0ea,Make sure nginx is running,ABANDONED,2018-07-30 07:45:02.000000000,2019-11-07 20:57:30.000000000,,10,0,0,586963,436ece35372090baf4cd3ca46a96b6bd23a41c02,3,1,1,1,25600,Ebbex,ebbex,"Make sure nginx is running

If at some point during deployment nginx doesn't start up when the
repo_servers handlers 'restart nginx', the next time you re-run with
no configuration changes, the nginx instance will remain dead.

Change-Id: I7ab2e5401d20ffa0843fee87ef9320ab4d1ce0ea
"
openstack%2Frequirements~stable%2Frocky~Ia4bc606eb0c7b55c8532b8940d6266b09427a5eb,openstack/requirements,stable/rocky,new-release,Ia4bc606eb0c7b55c8532b8940d6266b09427a5eb,update constraint for python-openstackclient to new release 3.16.3,MERGED,2019-11-07 09:18:09.000000000,2019-11-07 20:54:12.000000000,2019-11-07 20:54:12.000000000,1,1,0,693322,6d4f6a08eef526a6af777b2abc99633e912e351d,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-openstackclient to new release 3.16.3

Change-Id: Ia4bc606eb0c7b55c8532b8940d6266b09427a5eb
meta:version: 3.16.3
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: melanie witt <melwittt@gmail.com>
meta:release:Commit: melanie witt <melwittt@gmail.com>
meta:release:Change-Id: I696eb335682a58eb989d5d854b415f8e3c624982
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Foctavia~master~I2e8c0be2221c0c23b752fdf2cdff065cddf830a5,openstack/octavia,master,ipvsadm-exact-stats,I2e8c0be2221c0c23b752fdf2cdff065cddf830a5,ipvsadm '--exact' arg to ensure outputs are ints,MERGED,2019-11-06 17:33:53.000000000,2019-11-07 20:37:34.000000000,2019-11-07 20:35:53.000000000,2,1,0,693224,0682fb977a76d356ede20f516c849298d34eb7fc,17,4,1,1,28502,Colin Gibbons,colin,"ipvsadm '--exact' arg to ensure outputs are ints

Currently the keepalivedlvs_query script calls ipvsadm -Ln --stats
to query the local lvs for connection information. If any of these
values grow large enough they will be abbreviated with human-
friendly suffixes (K, M, G) and cause the get_ipvsadm_info func
to raise an exception when it receives a non-integer value from
its command output. By using the --exact argument in addition to
the existing arguments, we can ensure the output is always expanded
numbers, per the ipvsadm man page, and will only ever offer integer
outputs to the get_ipvsadm_info command.

Change-Id: I2e8c0be2221c0c23b752fdf2cdff065cddf830a5
Story: 2006791
Task: 37331
"
openstack%2Ftripleo-ansible~master~I4006db3f5e3092aefeb8a0e50819dda11931630b,openstack/tripleo-ansible,master,improves,I4006db3f5e3092aefeb8a0e50819dda11931630b,tripleo-container-manage: some nits fixed,MERGED,2019-11-06 09:42:28.000000000,2019-11-07 20:06:00.000000000,2019-11-07 20:06:00.000000000,5,5,1,693145,73e49888f7daba4a348aefaa0631fc2cb0ff6cbe,15,6,2,2,3153,Emilien Macchi,emilienm,"tripleo-container-manage: some nits fixed

Change-Id: I4006db3f5e3092aefeb8a0e50819dda11931630b
"
openstack%2Ftripleo-common~master~Icfd0be4aff2de88346cfe380c29f28d16538733c,openstack/tripleo-common,master,,Icfd0be4aff2de88346cfe380c29f28d16538733c,tox: Keeping going with docs,MERGED,2019-11-02 18:22:17.000000000,2019-11-07 20:04:13.000000000,2019-11-07 20:02:10.000000000,6,5,0,692678,4478e12f920461e179e0d59240b5c482d92b36b8,10,4,2,4,30356,gugug,gujin,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Icfd0be4aff2de88346cfe380c29f28d16538733c
"
openstack%2Ftripleo-heat-templates~master~I806842ce6d2522deab060f5e9ef6607a1e919dbf,openstack/tripleo-heat-templates,master,,I806842ce6d2522deab060f5e9ef6607a1e919dbf,tox: Keeping going with docs,MERGED,2019-11-02 18:39:13.000000000,2019-11-07 20:03:29.000000000,2019-11-07 20:02:09.000000000,6,4,0,692687,bfa44f0bbec16807d228777f0babc438372b25ec,11,4,3,4,30356,gugug,gujin,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I806842ce6d2522deab060f5e9ef6607a1e919dbf
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I97bdc6344816ca04e9afaeb939690aa367d4b33f,openstack/tripleo-heat-templates,stable/stein,stein/logs,I97bdc6344816ca04e9afaeb939690aa367d4b33f,Mode 0750 for /var/log/containers,MERGED,2019-11-07 08:27:53.000000000,2019-11-07 20:02:07.000000000,2019-11-07 20:02:07.000000000,1,0,0,693311,de92a638f8bc8194024f5d6d8cd8352a3406dd5e,9,4,1,1,3153,Emilien Macchi,emilienm,"Mode 0750 for /var/log/containers

Logs should not be world-readable, they contain sensitive informations.

Change-Id: I97bdc6344816ca04e9afaeb939690aa367d4b33f
(cherry picked from commit 57afa87fd970f879b64233d2c79e946f2afcd2ef)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I03754206781bc8f62d143b2c541f594ca3207a0f,openstack/tripleo-heat-templates,stable/train,bug/1811005,I03754206781bc8f62d143b2c541f594ca3207a0f,Move bootstrap password to an environment var,MERGED,2019-11-06 14:44:21.000000000,2019-11-07 20:02:05.000000000,2019-11-07 20:02:05.000000000,6,1,0,693187,fdc08ebba17f2c4859647bf358649bc9522c97b1,12,4,2,1,14985,Alex Schultz,mwhahaha,"Move bootstrap password to an environment var

Currently if you try to use a space in the keystone password, the
bootstrap process fails due to the password being evaulated as command
line arguments. We can work around this by using an environment var to
pass the password to the script that needs to be run.

Change-Id: I03754206781bc8f62d143b2c541f594ca3207a0f
Closes-Bug: #1811005
(cherry picked from commit 068527d139b4b521782873fdd97ac46cb10b0885)
"
openstack%2Fcharm-manila~master~I28a56a7ea4cb9679b6000a6e22a6e938eed8551f,openstack/charm-manila,master,charm-cephfs-manila,I28a56a7ea4cb9679b6000a6e22a6e938eed8551f,Add new remote-manila-plugin interface,MERGED,2019-09-27 09:51:13.000000000,2019-11-07 19:09:07.000000000,2019-11-07 19:09:07.000000000,141,32,4,685304,4480456e15fcfecf65b05067aeb9325be6c0552d,44,7,10,6,20634,Chris MacNaughton,Chris.MacNaughton,"Add new remote-manila-plugin interface

This change adds the new interface remote-manila-plugin
which is treated in the same way as the existing
manila-plugin interface, except that the remote version
will disable the manila-share service

Change-Id: I28a56a7ea4cb9679b6000a6e22a6e938eed8551f
"
openstack%2Fnova~master~I9358cc3cff44b81b5ce8f9917417282f83860c5b,openstack/nova,master,bp/introduce-pending-vm-state,I9358cc3cff44b81b5ce8f9917417282f83860c5b,Add scheduling notification,ABANDONED,2018-05-06 18:32:57.000000000,2019-11-07 18:17:00.000000000,,481,31,16,566470,b11afe6c211e825169dc6c32a75c691007b03481,26,14,2,17,27057,Theodoros Tsioutsias,ttsiouts,"Add scheduling notification

Adds a new versioned notification that contains information about
the scheduling of instances. Specifically, the payload contains the
request spec, the instance uuids and the exception in case of failure.
The notifications are emitted by the conductor manager.

Change-Id: I9358cc3cff44b81b5ce8f9917417282f83860c5b
Implements: blueprint introduce-pending-vm-state
"
openstack%2Fnova~master~If1acc9892713942fa3854b6a274c30b046b929fd,openstack/nova,master,bp/introduce-pending-vm-state,If1acc9892713942fa3854b6a274c30b046b929fd,Allow rebuild for instances in PENDING state,ABANDONED,2019-02-18 16:47:41.000000000,2019-11-07 18:16:41.000000000,,12,1,0,637585,42a9bdeb65d99ec29f3be92e6fed9b744e80c616,71,14,8,2,27057,Theodoros Tsioutsias,ttsiouts,"Allow rebuild for instances in PENDING state

This change adds the PENDING state in the list of allowed states
for rebuild. This way, users will be able to rebuild instances set
in the new PENDING state as the ones set to ERROR.

Change-Id: If1acc9892713942fa3854b6a274c30b046b929fd
Implements: blueprint introduce-pending-vm-state
"
openstack%2Fnova~master~I9a1a14f604c5f369fdb671a6f71f124f06f2beab,openstack/nova,master,bp/enable-rebuild-for-instances-in-cell0,I9a1a14f604c5f369fdb671a6f71f124f06f2beab,Enable rebuild for instances in cell0,ABANDONED,2018-05-23 13:54:58.000000000,2019-11-07 18:16:33.000000000,,361,13,86,570203,2f77bdbd17537f1801800d3ae90e3bade1da2259,165,18,15,16,27057,Theodoros Tsioutsias,ttsiouts,"Enable rebuild for instances in cell0

This adds support for rebuilding instances that failed to be
scheduled and were mapped to cell0. Specifically, the instance is
hard deleted from the cell0 and then goes through scheduling again.

Change-Id: I9a1a14f604c5f369fdb671a6f71f124f06f2beab
Implements: blueprint enable-rebuild-for-instances-in-cell0
"
openstack%2Fnova~master~I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1,openstack/nova,master,bp/enable-rebuild-for-instances-in-cell0,I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1,Add requested_networks to RequestSpec,ABANDONED,2018-05-23 13:54:58.000000000,2019-11-07 18:16:29.000000000,,98,15,12,570201,f55217f5218cb9ae25d24da930473e871687f526,160,24,15,6,27057,Theodoros Tsioutsias,ttsiouts,"Add requested_networks to RequestSpec

This adds the requested_networks field in the RequestSpec object.
The change is needed because currently, there was no way to retrieve
the requested networks when trying to rebuild instances buried in
cell0.

When an instance fails to be scheduled and it gets buried in cell0,
we will use the new field in the RequestSpec object to store a
NetworkRequestList containing the networks requested by the user.
This way, when we try to rebuild the instance we can retrieve this
info from the request spec.

Change-Id: I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1
Implements: blueprint enable-rebuild-for-instances-in-cell0
"
openstack%2Fnova~stable%2Fpike~I9e3bcc8d5c73063885e0222361ed9bd103b9dc54,openstack/nova,stable/pike,bug/1628606,I9e3bcc8d5c73063885e0222361ed9bd103b9dc54,[Stable Only] libvirt: Handle volume API failure in post_live_migration,ABANDONED,2019-07-10 09:08:46.000000000,2019-11-07 18:11:42.000000000,,66,3,4,670016,0b41bca6500e9a3216333256fad2d4f020debef0,22,19,5,2,26286,huanhongda,huanhongda,"[Stable Only] libvirt: Handle volume API failure in post_live_migration

In commit 5513f48dea529fe4e690f50a462300129594210c, we wrap the Cinder
API calls of manager's _post_live_migration in a try/except, and logs
the exception instead of blowing up.
In stable/pike, there also has a Cinder API call in libvirt driver's
post_live_migration method. We should also wrap this Cinder API call
in stable pike.

Change-Id: I9e3bcc8d5c73063885e0222361ed9bd103b9dc54
Partial-bug: 1628606
"
openstack%2Fneutron-tempest-plugin~master~I050aacbc1bacbadbd94359c1ab8f1ac721b90a12,openstack/neutron-tempest-plugin,master,fix-designate-scenario,I050aacbc1bacbadbd94359c1ab8f1ac721b90a12,Fix errors in designate scenarios jobs,MERGED,2019-09-27 11:14:39.000000000,2019-11-07 17:38:58.000000000,2019-11-07 17:38:58.000000000,15,0,0,685321,53cc0c3da57b0d7b14ba36d62ec4a3b7251a1080,23,5,1,1,13252,Dr. Jens Harbott,jrosenboom,"Fix errors in designate scenarios jobs

Even though we do not test any actual port bindings, the lack of a
properly configured agent leads to errors in the server logs that may
cause confusion when trying to debug real issues.

So copy the setup from the openvswitch scenario jobs, which is the most
simple one.

Change-Id: I050aacbc1bacbadbd94359c1ab8f1ac721b90a12
"
openstack%2Fpython-manilaclient~master~I1dd8271bed80a727901a4ee98182b4790790931e,openstack/python-manilaclient,master,,I1dd8271bed80a727901a4ee98182b4790790931e,Add more detail to API introduction,MERGED,2019-11-06 06:24:27.000000000,2019-11-07 17:07:35.000000000,2019-11-07 17:05:11.000000000,24,0,1,693124,c07a11194f09704c726f0d3e763abc018af855cc,11,3,2,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add more detail to API introduction

Creating a share in Manila requires an existing share-type
so this change adds a deeper usage example that includes
creation of a share-type, allowing share access to an IP
range, and demonstrates reading export_locations from a share

Change-Id: I1dd8271bed80a727901a4ee98182b4790790931e
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68,openstack/tripleo-heat-templates,stable/stein,fix_neutron_dhcp_agent_tls-stable/train-stable/stein,I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68,Fix duplicate mount point in neutron_dhcp,MERGED,2019-11-07 07:26:36.000000000,2019-11-07 17:05:03.000000000,2019-11-07 17:05:03.000000000,0,5,0,693302,1919a6961f65473a8c463f47d5511e9706bfd07f,7,4,1,1,20172,Michele Baldessari,michele,"Fix duplicate mount point in neutron_dhcp

podman >= 1.4.x bails out when duplicate mount points are passed to it
and with tls-everywhere the neutron_dhcp container will fail with:

2019-10-25 09:43:06.168 117719 DEBUG paunch [ ] $ podman create --name neutron_dhcp --label config_id=tripleo_step4 --label container_name=neutron_dhcp --label managed_by=paunch --label config_data={""depends_on"": [""openvswitch""], ""environment"": [""KOLLA_CONFIG_STRATEGY=COPY_ALWAYS"", ""TRIPLEO_CONFIG_HASH=553e07d2d41900907a6cb501d10e15af""], ""healthcheck"": {""test"": ""/openstack/healthcheck 5672""}, ""image"": ""192.168.24.1:8787/rh-osbs/rhosp15-openstack-neutron-dhcp-agent:20191022.1"", ""net"": ""host"", ""pid"": ""host"", ""privileged"": true, ""restart"": ""always"", ""security_opt"": ""label=disable"", ""start_order"": 10, ""ulimit"": [""nofile=16384""], ""volumes"": [""/etc/hosts:/etc/hosts:ro"", ""/etc/localtime:/etc/localtime:ro"", ""/etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro"", ""/etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro"", ""/etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro"", ""/etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro"", ""/etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro"", ""/dev/log:/dev/log"", ""/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro"", ""/etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro"", ""/etc/puppet:/etc/puppet:ro"", ""/var/log/containers/neutron:/var/log/neutron:z"", ""/var/lib/kolla/config_files/neutron_dhcp.json:/var/lib/kolla/config_files/config.json:ro"", ""/var/lib/config-data/puppet-generated/neutron/:/var/lib/kolla/config_files/src:ro"", ""/lib/modules:/lib/modules:ro"", ""/run/openvswitch:/run/openvswitch:shared,z"", ""/var/lib/neutron:/var/lib/neutron:shared,z"", ""/run/netns:/run/netns:shared"", ""/var/lib/neutron/dnsmasq_wrapper:/usr/local/bin/dnsmasq:ro"", ""/var/lib/neutron/dhcp_haproxy_wrapper:/usr/local/bin/haproxy:ro"", ""/etc/pki/tls/certs/neutron.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/neutron.crt:ro"", ""/etc/pki/tls/private/neutron.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/neutron.key:ro"", ""/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro""]} --conmon-pidfile=/var/run/neutron_dhcp.pid --detach=true --log-driver k8s-file --log-opt path=/var/log/containers/stdouts/neutron_dhcp.log --env=KOLLA_CONFIG_STRATEGY=COPY_ALWAYS --env=TRIPLEO_CONFIG_HASH=553e07d2d41900907a6cb501d10e15af --net=host --pid=host --ulimit=nofile=16384 --privileged=true --volume=/etc/hosts:/etc/hosts:ro --volume=/etc/localtime:/etc/localtime:ro --volume=/etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro --volume=/etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro --volume=/etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro --volume=/etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro --volume=/etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro --volume=/dev/log:/dev/log --volume=/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro --volume=/etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro --volume=/etc/puppet:/etc/puppet:ro --volume=/var/log/containers/neutron:/var/log/neutron:z --volume=/var/lib/kolla/config_files/neutron_dhcp.json:/var/lib/kolla/config_files/config.json:ro --volume=/var/lib/config-data/puppet-generated/neutron/:/var/lib/kolla/config_files/src:ro --volume=/lib/modules:/lib/modules:ro --volume=/run/openvswitch:/run/openvswitch:shared,z --volume=/var/lib/neutron:/var/lib/neutron:shared,z --volume=/run/netns:/run/netns:shared --volume=/var/lib/neutron/dnsmasq_wrapper:/usr/local/bin/dnsmasq:ro --volume=/var/lib/neutron/dhcp_haproxy_wrapper:/usr/local/bin/haproxy:ro --volume=/etc/pki/tls/certs/neutron.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/neutron.crt:ro --volume=/etc/pki/tls/private/neutron.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/neutron.key:ro --volume=/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro --security-opt=label=disable --cpuset-cpus=0,1,2,3 192.168.24.1:8787/rh-osbs/rhosp15-openstack-neutron-dhcp-agent:20191022.1

 ""b'Error: /etc/ipa/ca.crt: duplicate mount destination\\n'

That is because the /etc/ipa/ca.crt is provided by both
[ContainersCommon, volumes] and the step_4/neutron_dhcp itself

We can simply remove it from the neutron_dhcp container.

Change-Id: I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68
Closes-Bug: #1850663
(cherry picked from commit 1b718b2cab925037671e10aa41ce3de5aa30959d)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68,openstack/tripleo-heat-templates,stable/train,fix_neutron_dhcp_agent_tls-stable/train,I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68,Fix duplicate mount point in neutron_dhcp,MERGED,2019-11-06 19:06:20.000000000,2019-11-07 17:05:02.000000000,2019-11-07 17:05:02.000000000,0,5,0,693230,1b74f3a11c67ebc6dfd761b16ed4c7b5d33861e7,12,5,1,1,20172,Michele Baldessari,michele,"Fix duplicate mount point in neutron_dhcp

podman >= 1.4.x bails out when duplicate mount points are passed to it
and with tls-everywhere the neutron_dhcp container will fail with:

2019-10-25 09:43:06.168 117719 DEBUG paunch [ ] $ podman create --name neutron_dhcp --label config_id=tripleo_step4 --label container_name=neutron_dhcp --label managed_by=paunch --label config_data={""depends_on"": [""openvswitch""], ""environment"": [""KOLLA_CONFIG_STRATEGY=COPY_ALWAYS"", ""TRIPLEO_CONFIG_HASH=553e07d2d41900907a6cb501d10e15af""], ""healthcheck"": {""test"": ""/openstack/healthcheck 5672""}, ""image"": ""192.168.24.1:8787/rh-osbs/rhosp15-openstack-neutron-dhcp-agent:20191022.1"", ""net"": ""host"", ""pid"": ""host"", ""privileged"": true, ""restart"": ""always"", ""security_opt"": ""label=disable"", ""start_order"": 10, ""ulimit"": [""nofile=16384""], ""volumes"": [""/etc/hosts:/etc/hosts:ro"", ""/etc/localtime:/etc/localtime:ro"", ""/etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro"", ""/etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro"", ""/etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro"", ""/etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro"", ""/etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro"", ""/dev/log:/dev/log"", ""/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro"", ""/etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro"", ""/etc/puppet:/etc/puppet:ro"", ""/var/log/containers/neutron:/var/log/neutron:z"", ""/var/lib/kolla/config_files/neutron_dhcp.json:/var/lib/kolla/config_files/config.json:ro"", ""/var/lib/config-data/puppet-generated/neutron/:/var/lib/kolla/config_files/src:ro"", ""/lib/modules:/lib/modules:ro"", ""/run/openvswitch:/run/openvswitch:shared,z"", ""/var/lib/neutron:/var/lib/neutron:shared,z"", ""/run/netns:/run/netns:shared"", ""/var/lib/neutron/dnsmasq_wrapper:/usr/local/bin/dnsmasq:ro"", ""/var/lib/neutron/dhcp_haproxy_wrapper:/usr/local/bin/haproxy:ro"", ""/etc/pki/tls/certs/neutron.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/neutron.crt:ro"", ""/etc/pki/tls/private/neutron.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/neutron.key:ro"", ""/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro""]} --conmon-pidfile=/var/run/neutron_dhcp.pid --detach=true --log-driver k8s-file --log-opt path=/var/log/containers/stdouts/neutron_dhcp.log --env=KOLLA_CONFIG_STRATEGY=COPY_ALWAYS --env=TRIPLEO_CONFIG_HASH=553e07d2d41900907a6cb501d10e15af --net=host --pid=host --ulimit=nofile=16384 --privileged=true --volume=/etc/hosts:/etc/hosts:ro --volume=/etc/localtime:/etc/localtime:ro --volume=/etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro --volume=/etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro --volume=/etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro --volume=/etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro --volume=/etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro --volume=/dev/log:/dev/log --volume=/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro --volume=/etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro --volume=/etc/puppet:/etc/puppet:ro --volume=/var/log/containers/neutron:/var/log/neutron:z --volume=/var/lib/kolla/config_files/neutron_dhcp.json:/var/lib/kolla/config_files/config.json:ro --volume=/var/lib/config-data/puppet-generated/neutron/:/var/lib/kolla/config_files/src:ro --volume=/lib/modules:/lib/modules:ro --volume=/run/openvswitch:/run/openvswitch:shared,z --volume=/var/lib/neutron:/var/lib/neutron:shared,z --volume=/run/netns:/run/netns:shared --volume=/var/lib/neutron/dnsmasq_wrapper:/usr/local/bin/dnsmasq:ro --volume=/var/lib/neutron/dhcp_haproxy_wrapper:/usr/local/bin/haproxy:ro --volume=/etc/pki/tls/certs/neutron.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/neutron.crt:ro --volume=/etc/pki/tls/private/neutron.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/neutron.key:ro --volume=/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro --security-opt=label=disable --cpuset-cpus=0,1,2,3 192.168.24.1:8787/rh-osbs/rhosp15-openstack-neutron-dhcp-agent:20191022.1

 ""b'Error: /etc/ipa/ca.crt: duplicate mount destination\\n'

That is because the /etc/ipa/ca.crt is provided by both
[ContainersCommon, volumes] and the step_4/neutron_dhcp itself

We can simply remove it from the neutron_dhcp container.

Change-Id: I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68
Closes-Bug: #1850663
(cherry picked from commit 1b718b2cab925037671e10aa41ce3de5aa30959d)
"
openstack%2Fnetworking-sfc~master~I3aa83d85858cbf1bc97444e900c3521e3152ec5d,openstack/networking-sfc,master,ussuri,I3aa83d85858cbf1bc97444e900c3521e3152ec5d,Switch to Ussuri jobs,MERGED,2019-10-25 06:49:49.000000000,2019-11-07 17:03:30.000000000,2019-11-07 17:00:33.000000000,1,1,0,691221,5417e6cf8d25ba7ea760710560a9ccb6507f2dbb,7,2,1,1,27822,pengyuesheng,pengyuesheng,"Switch to Ussuri jobs

Change-Id: I3aa83d85858cbf1bc97444e900c3521e3152ec5d
"
openstack%2Fneutron-lib~master~Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29,openstack/neutron-lib,master,bug/1816485,Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29,Add setproctitle support to the workers module,MERGED,2019-02-15 03:28:16.000000000,2019-11-07 16:59:51.000000000,2019-02-20 10:03:26.000000000,147,2,9,637119,2c1e09bfd5a275c74213d200a7455bbf46893a1a,28,5,8,5,10980,Doug Wiegley,dougw,"Add setproctitle support to the workers module

- Set the process name of child neutron-servers to be something more
  readily identifiable than today.
- Enable by default for all users of the workers module, neutron will
  have a conf setting for its workers.

Matching neutron change:
https://review.openstack.org/637019

Partial-Bug: #1816485
Depends-On: https://review.openstack.org/637024
Change-Id: Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29
"
openstack%2Fkolla-ansible~master~I65ca794955a1b1419853bf63be36cb0d1f2d2345,openstack/kolla-ansible,master,691486,I65ca794955a1b1419853bf63be36cb0d1f2d2345,CI: use become to install python3,MERGED,2019-11-07 13:44:09.000000000,2019-11-07 16:33:10.000000000,2019-11-07 16:31:08.000000000,1,0,0,693356,16ff0ae13984e30d55a5995e39ee8a4010cee145,10,5,1,1,24072,Marcin Juszkiewicz,hrw,"CI: use become to install python3

Commit 73b6a66fd4db4345e5c1ed8acf2f3d10170bfdd4 added installation of
Python 3 package. But without root permissions it fails.

Change-Id: I65ca794955a1b1419853bf63be36cb0d1f2d2345
"
openstack%2Fnova~master~Ic9133f6bc14d4fe766d37a438bf52c33e89da768,openstack/nova,master,bug/1613770,Ic9133f6bc14d4fe766d37a438bf52c33e89da768,Improve error log when snapshot fails,MERGED,2016-08-16 15:44:05.000000000,2019-11-07 16:30:09.000000000,2019-11-07 03:07:19.000000000,12,0,4,356020,024bf10d8aec5e58111793a9652b16682eb61b7c,65,24,5,3,21718,Vu Tran,vtran,"Improve error log when snapshot fails

If snapshot creation via glance fails due to lack of space or over
quota, we want to have a clearer error message.

Change-Id: Ic9133f6bc14d4fe766d37a438bf52c33e89da768
Closes-Bug: #1613770
"
openstack%2Fkuryr-kubernetes~master~Iafa873e9363a0a5388aa3162fbf8456b7184f583,openstack/kuryr-kubernetes,master,remove-false-broken-octavia,Iafa873e9363a0a5388aa3162fbf8456b7184f583,Remove comment about Amphora building being broken,MERGED,2019-10-31 09:19:18.000000000,2019-11-07 16:25:43.000000000,2019-11-07 16:23:36.000000000,16,20,0,692296,9a214d2f6bdb958c49cc1fa91617a65864205b48,18,5,2,4,11600,Michał Dulko,dulek,"Remove comment about Amphora building being broken

TrivialFix

Change-Id: Iafa873e9363a0a5388aa3162fbf8456b7184f583
"
openstack%2Ftripleo-common~stable%2Fstein~I1f15441ef31f530758f1588e8006cc6b17d3aeaf,openstack/tripleo-common,stable/stein,bug/1847225-stable/stein,I1f15441ef31f530758f1588e8006cc6b17d3aeaf,Fix dynamic executor appending to objects,MERGED,2019-11-06 15:14:46.000000000,2019-11-07 16:25:09.000000000,2019-11-07 16:22:58.000000000,2,2,0,693196,962f0a33adf236a20f3b6803e63f755ba0622a8b,10,4,2,2,14985,Alex Schultz,mwhahaha,"Fix dynamic executor appending to objects

Set() has no the append() method.
Unify the _objects to be always assigned a list.
Take the safer remove() approach for the non-unique locks,
if any happened in the image uploader locks manager.

Closes-Bug: #1851502
Change-Id: I1f15441ef31f530758f1588e8006cc6b17d3aeaf
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 0b77267d5e974fcb1b759410a94bdb236e96852d)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I03754206781bc8f62d143b2c541f594ca3207a0f,openstack/tripleo-heat-templates,stable/queens,bug/1811005,I03754206781bc8f62d143b2c541f594ca3207a0f,Move bootstrap password to an environment var,MERGED,2019-11-06 14:58:26.000000000,2019-11-07 16:22:59.000000000,2019-11-07 16:22:59.000000000,7,1,0,693193,669f60260440914d60d55453c07ba2b0751e8cb2,10,5,1,1,14985,Alex Schultz,mwhahaha,"Move bootstrap password to an environment var

Currently if you try to use a space in the keystone password, the
bootstrap process fails due to the password being evaulated as command
line arguments. We can work around this by using an environment var to
pass the password to the script that needs to be run.

Conflicts:
        puppet/services/keystone.yaml

Change-Id: I03754206781bc8f62d143b2c541f594ca3207a0f
Closes-Bug: #1811005
(cherry picked from commit 068527d139b4b521782873fdd97ac46cb10b0885)
"
openstack%2Fkuryr-kubernetes~master~I18e0729d2762c68cb604f46e9c6e974c1020b945,openstack/kuryr-kubernetes,master,pool-warning,I18e0729d2762c68cb604f46e9c6e974c1020b945,Better log message for pools re-population,MERGED,2019-10-28 16:49:37.000000000,2019-11-07 16:16:11.000000000,2019-11-07 16:14:36.000000000,2,1,0,691718,bf64e959d40fb814b9e103409461e1883156a4ca,17,5,2,1,23567,Luis Tomas Bolivar,ltomasbo,"Better log message for pools re-population

Change-Id: I18e0729d2762c68cb604f46e9c6e974c1020b945
"
openstack%2Fcharms.openstack~master~I1b27ebeced1ee56f1133b8b34806571ad1b6c9fe,openstack/charms.openstack,master,reactive-handlers,I1b27ebeced1ee56f1133b8b34806571ad1b6c9fe,Use reactive flags for pause/resume/series-upgrade,MERGED,2019-11-06 16:35:16.000000000,2019-11-07 16:11:54.000000000,2019-11-07 16:11:53.000000000,6,0,0,693219,3a7e0976f19425b13cefb9c1d391714319ac9aaa,6,2,1,1,20805,David Ames,thedac,"Use reactive flags for pause/resume/series-upgrade

Currently when a unit is paused, resumed or series upgrade commands are
run there are calls out to charmhelpers which uses local kv store to set
state.

There is currently no way to use a reactive handler (when, when_not) to
determine these states.

This change adds the reactive handler flags while maintaining the
previous method.

Change-Id: I1b27ebeced1ee56f1133b8b34806571ad1b6c9fe
"
openstack%2Fnova~master~If47ed9dcb0c1a8278ba87af884351ab9411175af,openstack/nova,master,noisy_cell_selection,If47ed9dcb0c1a8278ba87af884351ab9411175af,Don't take a lock when fetching a cached cell mapping,NEW,2019-10-11 13:25:29.000000000,2019-11-07 16:08:42.000000000,,30,15,7,688122,d450e8bf5d909f883964415eb44eb5098c8c95e1,27,16,1,1,9555,Matthew Booth,MatthewBooth,"Don't take a lock when fetching a cached cell mapping

We call set_target_cell quite a lot. Each invocation generates the
following 2 log messages:

DEBUG oslo_concurrency.lockutils [req-XXX] Lock ""<Cell UUID>"" acquired by ""nova.context.get_or_set_cached_cell_and_set_connections"" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:273
DEBUG oslo_concurrency.lockutils [req-XXX] Lock ""<Cell UUID>"" released by ""nova.context.get_or_set_cached_cell_and_set_connections"" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:285

It's useful but not entirely obvious that the lock here happens to be
the cell uuid, so I've added a shorter, more obvious log message to
replace the above.

Change-Id: If47ed9dcb0c1a8278ba87af884351ab9411175af
"
openstack%2Fcharm-heat~master~Ia607dc9120cfb03902efb019041b43cf12ade2d3,openstack/charm-heat,master,policy-overrides,Ia607dc9120cfb03902efb019041b43cf12ade2d3,Policyd override implementation,MERGED,2019-11-06 11:49:11.000000000,2019-11-07 15:59:24.000000000,2019-11-07 15:59:24.000000000,295,84,0,693162,98de623820f58dc562ba770431e3464193d15a27,15,4,2,17,20870,Alex Kavanagh,ajkavanagh,"Policyd override implementation

This patchset implements policy overrides for heat.  It uses the
code in charmhelpers.

It also fixes a bug in the actions/domain-setup where it assumes that
the python2 version of openstackclient should be installed, and corrects
this via code in hooks/install and hooks/upgrade-charm.

A sync of charm-helpers is included to bring the latest policyd changes
through to the charm.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/111

Change-Id: Ia607dc9120cfb03902efb019041b43cf12ade2d3
Closed-Bug: #1741723
"
openstack%2Ftripleo-ci~master~I4b18b09f9c60992056f54d1949ae38dde8618185,openstack/tripleo-ci,master,testr8,I4b18b09f9c60992056f54d1949ae38dde8618185,Fix rhel8 build containers for patch and periodic,MERGED,2019-11-05 16:42:58.000000000,2019-11-07 15:44:50.000000000,2019-11-06 18:55:46.000000000,9,5,3,693048,9ddb5f89674b6812ff49ea8780e19b9f6b698bfb,27,4,6,2,10969,Shnaidman Sagi (Sergey),sergsh,"Fix rhel8 build containers for patch and periodic

Add also train branch
Change-Id: I4b18b09f9c60992056f54d1949ae38dde8618185
"
openstack%2Fnova~stable%2Fstein~I8e400da9445101b9ff5240511c56105e26e16e4c,openstack/nova,stable/stein,bug/1851425,I8e400da9445101b9ff5240511c56105e26e16e4c,"Revert ""openstack server create"" to ""nova boot"" in nova docs",MERGED,2019-11-06 19:47:13.000000000,2019-11-07 15:41:33.000000000,2019-11-07 15:38:59.000000000,5,5,2,693242,f2d6dbd77144caf561615d0f552f4e2dc94b7d19,14,4,2,1,27478,Archit Modi,amodi,"Revert ""openstack server create"" to ""nova boot"" in nova docs

When this patch [1] was introduced, it didn't take into consideration,
the updated/changed/modified parameters when using OSC vs nova CLI, so not
every option can be used in ""openstack server create"" which was used in ""nova boot""
and vice versa. This bug would track reverting some of these incorrect commands usage.

For example- ""nova boot --block device <params1>"" can be translated as
""openstack server create --block-device-mapping <params2>"" where params1 and
params2 are formatted differently (hence needs more than a simple search/replace)

[1] https://review.opendev.org/#/c/404623/

Related-To: https://review.opendev.org/#/c/404623/
Change-Id: I8e400da9445101b9ff5240511c56105e26e16e4c
Closes-Bug: #1851425
(cherry picked from commit aa39641182e32b86d3585dfa69cf0862610968b6)
(cherry picked from commit 47e5e89ceaad94e2fbf67f46e7e2efcfb6e7be90)
"
openstack%2Ftripleo-heat-templates~master~I99bc5342360e307a9ee499cde5f2a0b5d78170f8,openstack/tripleo-heat-templates,master,,I99bc5342360e307a9ee499cde5f2a0b5d78170f8,Adds ceph-systemd tag in external_upgrade_tasks for systemd units,MERGED,2019-10-25 15:45:20.000000000,2019-11-07 15:28:05.000000000,2019-10-31 22:25:30.000000000,10,0,1,691380,e8048707f7a56e52d8664ece8a4adbf958c0001e,22,8,2,1,6796,Giulio Fidente,gfidente,"Adds ceph-systemd tag in external_upgrade_tasks for systemd units

When upgrading the host operating system we'll also replace docker
with podman; ceph-ansible provides for a special playbook meant
to refresh the systemd units to work with podman.

This change adds a task which on upgrade will execute the special
playbook. It requires ceph_ansible_limit to be set by the user as
that gets translated into a --limit option for the playbook execution
so that it runs only against a specific node undergoing upgrade
of the host operating system.

Change-Id: I99bc5342360e307a9ee499cde5f2a0b5d78170f8
Depends-On: I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0
"
openstack%2Ftripleo-ansible~master~I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0,openstack/tripleo-ansible,master,,I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0,Add support for --limit option into ceph-ansible call,MERGED,2019-10-25 15:42:13.000000000,2019-11-07 15:27:55.000000000,2019-10-30 00:05:07.000000000,1,0,3,691379,bd6975a2735942956f0e22d805baf18959d39ebd,23,10,2,1,6796,Giulio Fidente,gfidente,"Add support for --limit option into ceph-ansible call

This will be useful when executing playbooks which can't run against
all nodes. For example the newly introduced docker-to-podman playbook
meant to migrate systemd units from docker to podman for compatibility
with newer CentOS versions.

Change-Id: I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0
"
openstack%2Fopenstack-ansible-os_zun~master~Ibce6dafbcc8a047f957aa679f44643f4f8838c85,openstack/openstack-ansible-os_zun,master,osa-py3,Ibce6dafbcc8a047f957aa679f44643f4f8838c85,Allow venv python interpreter to be overridden,ABANDONED,2019-11-07 14:31:04.000000000,2019-11-07 14:48:35.000000000,,4,0,0,693361,42f243002f40620a312b54057b7f66c61213a9e6,3,1,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Allow venv python interpreter to be overridden

Change-Id: Ibce6dafbcc8a047f957aa679f44643f4f8838c85
"
openstack%2Fmistral~stable%2Frocky~I2571246947ab5ae06731fc7d35de7a5954325a82,openstack/mistral,stable/rocky,releasenote-bug-1843175-stable/rocky,I2571246947ab5ae06731fc7d35de7a5954325a82,Add release note for fix error of cron trigger run,MERGED,2019-11-05 14:37:51.000000000,2019-11-07 14:42:03.000000000,2019-11-07 08:38:01.000000000,5,0,0,693019,eab767f3ed1a6dfd4f50b214556142346c830c35,13,4,1,1,31093,Oleh Huzei,ohuzei,"Add release note for fix error of cron trigger run

It relates to the change I793fbfec03032d9ff7137c11becb6d1c18ec54bc,
commit 51b7dd0c6d.

Change-Id: I2571246947ab5ae06731fc7d35de7a5954325a82
(cherry picked from commit 948ceb150b66b86ba56b11821e1bb9cb8a7209cc)
"
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fstein~I4d846b7704e22d1ae58163d413c86dd01ff3563c,openstack/openstack-ansible-rabbitmq_server,stable/stein,,I4d846b7704e22d1ae58163d413c86dd01ff3563c,Ansible  'search' is a test not a filter,MERGED,2019-11-06 13:14:07.000000000,2019-11-07 14:27:41.000000000,2019-11-07 14:26:35.000000000,2,2,0,693178,84d8bd67825dbc7447f5155bb07d1ffa8ae66f40,8,3,1,2,25023,Jonathan Rosser,jrosser,"Ansible  'search' is a test not a filter

Older ansible versions used search as a filter but this is no longer
valid, and search should be used as a test

Change-Id: I4d846b7704e22d1ae58163d413c86dd01ff3563c
(cherry picked from commit 95bd648ef0d34b3b690cc378fc1cd1b5f41c95f0)
"
openstack%2Fnova~master~If9e2eb3bbda53c71846e8a08ad507d3faa07722d,openstack/nova,master,drop-python2-support,If9e2eb3bbda53c71846e8a08ad507d3faa07722d,Remove unused 'nova-dsvm-base' job,MERGED,2019-10-14 11:35:39.000000000,2019-11-07 14:11:10.000000000,2019-11-07 07:47:56.000000000,7,20,1,688389,3e1680cc71de8d2ed65ebf98493b84b29bd8f85a,63,13,6,1,15334,Stephen Finucane,sfinucan,"Remove unused 'nova-dsvm-base' job

This has been unused since I4630066731f12c42091ddf9dd3159e0494df88b1,
which converted the 'nova-lvm' job to zuul v3 native format.

Change-Id: If9e2eb3bbda53c71846e8a08ad507d3faa07722d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I03754206781bc8f62d143b2c541f594ca3207a0f,openstack/tripleo-heat-templates,stable/rocky,bug/1811005,I03754206781bc8f62d143b2c541f594ca3207a0f,Move bootstrap password to an environment var,MERGED,2019-11-06 14:56:30.000000000,2019-11-07 13:56:50.000000000,2019-11-07 13:56:50.000000000,7,1,0,693191,a7cafbc50007690681d3d4eebcb169fcd6e17ed2,9,4,2,1,14985,Alex Schultz,mwhahaha,"Move bootstrap password to an environment var

Currently if you try to use a space in the keystone password, the
bootstrap process fails due to the password being evaulated as command
line arguments. We can work around this by using an environment var to
pass the password to the script that needs to be run.

Conflicts:
        puppet/services/keystone.yaml

Change-Id: I03754206781bc8f62d143b2c541f594ca3207a0f
Closes-Bug: #1811005
(cherry picked from commit 068527d139b4b521782873fdd97ac46cb10b0885)
"
openstack%2Fkolla-ansible~stable%2Fstein~I7601bb710097a78f6b29bc4018c71f2c6283eef2,openstack/kolla-ansible,stable/stein,bug/1840145,I7601bb710097a78f6b29bc4018c71f2c6283eef2,Wait for MariaDB to be accessible via HAProxy,MERGED,2019-11-05 14:17:10.000000000,2019-11-07 13:51:20.000000000,2019-11-07 13:49:50.000000000,20,0,0,693014,0d03d2e28f1d37b3eb21386bd6b1a9665d560b4b,14,6,2,3,14826,Mark Goddard,mgoddard,"Wait for MariaDB to be accessible via HAProxy

Explicitly wait for the database to be accessible via the load balancer.
Sometimes it can reject connections even when all database services are up,
possibly due to the health check polling in HAProxy.

Closes-Bug: #1840145
Change-Id: I7601bb710097a78f6b29bc4018c71f2c6283eef2
(cherry picked from commit 03cd7eb3563788ca1ffd7b19130f18614887a546)
"
openstack%2Fkolla-ansible~master~I64e250eb15882f50ecbbc57b87e036f5772f7e3a,openstack/kolla-ansible,master,691486,I64e250eb15882f50ecbbc57b87e036f5772f7e3a,CI: install Python 3 package,MERGED,2019-10-26 18:09:12.000000000,2019-11-07 13:39:35.000000000,2019-11-07 12:52:53.000000000,6,0,5,691486,73b6a66fd4db4345e5c1ed8acf2f3d10170bfdd4,18,5,4,1,24072,Marcin Juszkiewicz,hrw,"CI: install Python 3 package

Needed for https://review.opendev.org/#/c/691316

Change-Id: I64e250eb15882f50ecbbc57b87e036f5772f7e3a
"
openstack%2Fcharm-nova-cell-controller~master~Ib3937915c5195b5e031d5056959932849012fc23,openstack/charm-nova-cell-controller,master,bug/1850691,Ib3937915c5195b5e031d5056959932849012fc23,Add train template and train functional tests,MERGED,2019-10-18 12:25:58.000000000,2019-11-07 13:30:56.000000000,2019-11-07 13:30:56.000000000,253,7,3,689439,1625884690b04902737508e9ebdc21a7745d03a8,47,6,7,8,7730,Sahid Orentino Ferdjaoui,sahid,"Add train template and train functional tests

A train template is added which pulls in sectional
placement config from charm-layer-openstack.

This requires adding identity-credentials as a required
interface for train and above.

This patch also updates the smoke test to run train.

Closes-Bug: 1850691
Depends-On: https://review.opendev.org/#/c/692426/
Change-Id: Ib3937915c5195b5e031d5056959932849012fc23
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
"
openstack%2Fswift~feature%2Flosf~I618f061511b65cd9b820f8e995e6605562a82acd,openstack/swift,feature/losf,header_erase,I618f061511b65cd9b820f8e995e6605562a82acd,Erase object header if we fail to register it to the index-server,MERGED,2019-11-06 07:11:25.000000000,2019-11-07 13:11:23.000000000,2019-11-07 13:10:03.000000000,67,14,7,693127,0102cfe77af4cb4f362907040c30a1d7088930b1,15,2,3,3,25251,Alexandre Lécuyer,alecuyer,"Erase object header if we fail to register it to the index-server

When we commit a file, we write an object header, the swift metadata,
and register the object in the index server. If that last steps fails, an
exception is raised and the commit fails.

Without this patch, the object header remains in the volume. If a power loss
or crash occurs before that header is overwritten by a new object, the
volume-check script will pick up the object when the machine is rebooted.

With the patch, the header is overwritten with null bytes. (Punching a hole
is slower and will create an extent).

While doing this, add a constant for the maximum serialized header length

Change-Id: I618f061511b65cd9b820f8e995e6605562a82acd
"
openstack%2Fcharms.ceph~master~Ifd341bd80833d4a7fd62e89e3c0e2b7fd64fafba,openstack/charms.ceph,master,charm-cephfs-manila,Ifd341bd80833d4a7fd62e89e3c0e2b7fd64fafba,Add new permission request to broker,MERGED,2019-10-16 11:57:36.000000000,2019-11-07 13:04:22.000000000,2019-11-07 13:04:22.000000000,80,0,2,688909,bb708ad4c497dad7b1ecbadf17ae93c78503e1e1,18,3,6,2,20634,Chris MacNaughton,Chris.MacNaughton,"Add new permission request to broker

Change-Id: Ifd341bd80833d4a7fd62e89e3c0e2b7fd64fafba
"
openstack%2Fcinder~master~Ie06276e221ee664f2862ba562c570c12192678cd,openstack/cinder,master,reserve-migrations,Ie06276e221ee664f2862ba562c570c12192678cd,Reserve migrations for DB backports,MERGED,2019-10-25 21:01:59.000000000,2019-11-07 12:25:35.000000000,2019-11-07 11:46:55.000000000,66,0,0,691431,aedd8b5bf3736508d2f0af5e475e73b2f3d62770,106,35,1,3,5314,Brian Rosmaita,brian-rosmaita,"Reserve migrations for DB backports

Reserve migrations in case we need to backport DB changes to the
stable/train branch.

Change-Id: Ie06276e221ee664f2862ba562c570c12192678cd
"
openstack%2Ftripleo-ci~master~Ifae8b03297ba2a8428e448981b76c600a650222f,openstack/tripleo-ci,master,693228,Ifae8b03297ba2a8428e448981b76c600a650222f,DNM: Add repo for build containers,ABANDONED,2019-11-06 18:14:55.000000000,2019-11-07 11:48:20.000000000,,12,0,0,693228,d248a304c6ed20133ca4975d3afd8a0828b2abf3,14,3,7,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: Add repo for build containers

Change-Id: Ifae8b03297ba2a8428e448981b76c600a650222f
"
openstack%2Frally-openstack~master~I1393b41570c5316fe0012cb059b9cb64d5854aab,openstack/rally-openstack,master,octavia_fix_missing_project_id,I1393b41570c5316fe0012cb059b9cb64d5854aab,Fixes missing project ID when running a octavia task.,MERGED,2019-10-30 19:52:01.000000000,2019-11-07 11:40:26.000000000,2019-11-07 11:40:26.000000000,35,6,1,692214,65341e1531246f7842e95cde252292c6971af25f,19,3,6,5,30657,Paul Peereboom,ppeereb,"Fixes missing project ID when running a octavia task.

Change-Id: I1393b41570c5316fe0012cb059b9cb64d5854aab
Closes-Bug: #1833235
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ibcbcdda9112f438324e8b7cbf911ecf9c1eb813b,openstack/tripleo-ansible,stable/train,fix_directory_cpu_mask-stable/train,Ibcbcdda9112f438324e8b7cbf911ecf9c1eb813b,Fix the filter plugin location for triple-ovs-dpdk role,MERGED,2019-11-06 06:16:19.000000000,2019-11-07 11:34:57.000000000,2019-11-07 11:34:56.000000000,0,0,0,693122,3cfe52a05fd265c967e8393010f171660d3ccf71,7,4,1,1,18575,Saravanan KR,saravanankr,"Fix the filter plugin location for triple-ovs-dpdk role

Move the cpu_mask filter plugin to the common filter plugins
directory of the project.

Change-Id: Ibcbcdda9112f438324e8b7cbf911ecf9c1eb813b
(cherry picked from commit 0cc956ed10073fcc1b9bc91965e01892d6aae173)
"
openstack%2Frequirements~master~I2091519f2527bdacb60cff39acf3092072d0f419,openstack/requirements,master,new-release,I2091519f2527bdacb60cff39acf3092072d0f419,"Revert ""update constraint for python-novaclient to new release 16.0.0""",ABANDONED,2019-11-06 11:39:52.000000000,2019-11-07 10:55:07.000000000,,1,1,0,693161,ab2528cd6718219fc830261dbf9fd505dbee49fb,4,8,1,1,13252,Dr. Jens Harbott,jrosenboom,"Revert ""update constraint for python-novaclient to new release 16.0.0""

This breaks heat breaking openstacksdk tests, see e.g. https://zuul.opendev.org/t/openstack/build/2c83d0168fda4384837b676d336694ed/log/controller/logs/screen-h-eng.txt.gz#1379-1410

This reverts commit 7ff8d5d71481bd964c12f8639b5d49695af6252c.

Change-Id: I2091519f2527bdacb60cff39acf3092072d0f419
"
