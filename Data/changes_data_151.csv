id,project,branch,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,topic,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fopenstack-ansible-lxc_hosts~master~I22bf662693cb466a543343081a159280c8c65194,openstack/openstack-ansible-lxc_hosts,master,I22bf662693cb466a543343081a159280c8c65194,Updated from OpenStack Ansible Tests,MERGED,2021-03-01 13:25:02.000000000,2021-03-02 09:49:15.000000000,2021-03-02 09:45:25.000000000,3,0,0,777995,0dee4a39936830ed1357709a9997f37649e42bf5,openstack/openstack-ansible-tests/sync-tests,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I22bf662693cb466a543343081a159280c8c65194
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1e1829144ba2b7f40d1faedc9ac6729601da0964,openstack/tripleo-heat-templates,stable/train,I1e1829144ba2b7f40d1faedc9ac6729601da0964,"[DNM] Revert ""pcs commands on host: haproxy bundle""",ABANDONED,2021-03-02 07:04:36.000000000,2021-03-02 09:45:38.000000000,,49,22,0,778103,cb6562fb95958b359b05128ff38f4cce9e893875,train-pcshost,2,4,1,1,20182,Bhagyashri Shewale,bhagyashris,"[DNM] Revert ""pcs commands on host: haproxy bundle""

This reverts commit a7cceb0f9a5c177868969a8681ed294707fe3f09.

Reason for revert: <INSERT REASONING HERE>

Change-Id: I1e1829144ba2b7f40d1faedc9ac6729601da0964
"
openstack%2Fopenstack-helm-infra~master~I32aeb17fa6d52e18245a2ce0404a2243b64f47da,openstack/openstack-helm-infra,master,I32aeb17fa6d52e18245a2ce0404a2243b64f47da,Added helm hooks post-install and post-upgrade for jobs,ABANDONED,2021-02-18 14:17:41.000000000,2021-03-02 09:26:21.000000000,,59,1,2,776466,84cd421e0e8efa3c7a66ab22d289c1c873b87c7a,jobs-annotations-patch5-patch8,24,3,9,13,33130,Susanta gautam,sgautam,"Added helm hooks post-install and post-upgrade for jobs

Chart upgrade is failing because some immutable fields in jobs are
needed to upgrade.
On the other side, although the jobs are completed and deployments are
succeeded, we cannot delete the completed jobs because some deployments
 are watching the job status every restart.

To figure it out, enabled helm hooks for post-install and post-upgrade.
It also has some side-effects because there are also run order between
jobs. By using hook-weight, prioritized jobs order.

Plus, added application name in the label to filter jobs.

Change-Id: I32aeb17fa6d52e18245a2ce0404a2243b64f47da
"
openstack%2Fopenstack-helm~master~Ibc7eabdb940a2756af8cf4be782b7997b556cba1,openstack/openstack-helm,master,Ibc7eabdb940a2756af8cf4be782b7997b556cba1,Added post-install and post-upgrade annotations on job templates,ABANDONED,2021-02-19 15:22:57.000000000,2021-03-02 09:23:47.000000000,,12,1,0,776657,886adeb7d13b303cf9648dbd995ad981e5c0cb82,job-annotations-patch4-patch6,18,2,8,5,33130,Susanta gautam,sgautam,"Added post-install and post-upgrade annotations on job templates

It includes only for keystone now to discuss.
Once agree on this way, we will update all charts.

Depends-On: https://review.opendev.org/openstack/openstack-helm-infra/776466

Change-Id: Ibc7eabdb940a2756af8cf4be782b7997b556cba1
"
openstack%2Ftacker~master~I4b4e4dd0a4246a97d4bd0329e8a387f3d8b51700,openstack/tacker,master,I4b4e4dd0a4246a97d4bd0329e8a387f3d8b51700,[DNM] Fix the incompatible query statement for mysql,ABANDONED,2021-02-10 16:33:17.000000000,2021-03-02 09:18:02.000000000,,23,10,0,774893,2f1fc2a6b8077a7a2534d75ab75ce0af74088be2,dnmpatch,10,1,3,3,32219,Aldinson C. Esto,esto-aln,"[DNM] Fix the incompatible query statement for mysql

Change-Id: I4b4e4dd0a4246a97d4bd0329e8a387f3d8b51700
"
openstack%2Ftacker~master~I5e74407ed76f1eb6fe51ae6c3d4082bbef0a9cea,openstack/tacker,master,I5e74407ed76f1eb6fe51ae6c3d4082bbef0a9cea,[DNM] Added log to check what the kind of error is in the query,ABANDONED,2021-02-10 14:36:44.000000000,2021-03-02 09:17:40.000000000,,2,0,0,774870,37f09e0d96be8517bf650b1ed2a13ba3b1ea323d,dnmpatch,5,1,2,1,32219,Aldinson C. Esto,esto-aln,"[DNM] Added log to check what the kind of error is in the query

Change-Id: I5e74407ed76f1eb6fe51ae6c3d4082bbef0a9cea
"
openstack%2Fironic-lib~master~Icd7bb4b1080163ee076f406170b610d99590415a,openstack/ironic-lib,master,Icd7bb4b1080163ee076f406170b610d99590415a,[DNM] test unprivileged qemu convert,ABANDONED,2021-02-24 08:21:52.000000000,2021-03-02 09:17:18.000000000,,5,5,0,777312,088c12d7b90fe37deb3c916078366e620a24b694,privsep-migration,14,1,5,1,23851,Riccardo Pittau,elfosardo,"[DNM] test unprivileged qemu convert

Depends-On: https://review.opendev.org/c/openstack/ironic/+/777529

Change-Id: Icd7bb4b1080163ee076f406170b610d99590415a
"
openstack%2Ftripleo-validations~stable%2Fstein~I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,openstack/tripleo-validations,stable/stein,I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,Add tripleo-validations role for component testing,ABANDONED,2021-02-08 10:07:07.000000000,2021-03-02 08:50:30.000000000,,263,0,0,774403,663c1a26b8120d0414df4803f8d4850646fa57f4,755390-stable/victoria-stable/ussuri-stable/train-stable/stein,3,1,1,6,16515,mbu,matbu,"Add tripleo-validations role for component testing

This role used component vars dictionary.
The list of components and associated validations
is not exhautive yet, but will be add in a follow up
review, when the role will be experienced in the pipeline

Depends-On: https://review.rdoproject.org/r/#/c/31281/
Change-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98
(cherry picked from commit 02b1fcfdbef8bd685036833fc9d28451bd8b880f)
(cherry picked from commit fc10280e4e349b6e3115423716cd388d91bdd6eb)
"
openstack%2Fcyborg~master~Ida8f8d519792fe5e2748a67be5c502415dd4fe41,openstack/cyborg,master,Ida8f8d519792fe5e2748a67be5c502415dd4fe41,Update server operations support in matrix,MERGED,2021-03-01 08:34:34.000000000,2021-03-02 08:48:10.000000000,2021-03-02 08:46:39.000000000,4,0,0,777939,7b1b9fb020a015cad39a56a6d86b7dbe8930d456,,8,3,1,1,26458,Brin Zhang,zhangbailin,"Update server operations support in matrix

We have already supported rebuild/evacuate[1] and shelve/unshelve[2]
a server with binding an accelerator. The evacuate and rebuild a server
has the same openstack command, so we just need to use ``openstack
server rebuild``.

[1]https://review.opendev.org/c/openstack/nova/+/715326
[2]https://review.opendev.org/c/openstack/nova/+/729563

Change-Id: Ida8f8d519792fe5e2748a67be5c502415dd4fe41
"
openstack%2Fopenstack-ansible-os_ironic~stable%2Fussuri~I5081b0805ec73248617ca28f0bb1bfbd1656cd80,openstack/openstack-ansible-os_ironic,stable/ussuri,I5081b0805ec73248617ca28f0bb1bfbd1656cd80,Fixing minor issue when no inspector is deployed,NEW,2021-02-24 22:13:26.000000000,2021-03-02 08:24:48.000000000,,1,1,0,777475,3eea3731f4e98352bc4a7bfc09b0db42c966eda8,,5,2,2,1,14552,Bjoern Teipel,bjoern,"Fixing minor issue when no inspector is deployed

The playbooks stop to execute in cases no ironic inspector
is configured/deployed. This fixes a condition inside the
``os_ironic`` module.

Change-Id: I5081b0805ec73248617ca28f0bb1bfbd1656cd80
"
openstack%2Fopenstack-ansible-os_nova~master~I3fd8ff71ed628cdd2dc3883c160d2040542bbbff,openstack/openstack-ansible-os_nova,master,I3fd8ff71ed628cdd2dc3883c160d2040542bbbff,format rst code and add bug link,ABANDONED,2018-09-06 02:57:49.000000000,2021-03-02 08:01:58.000000000,,6,3,0,600315,93f76eff573ec64e50c48b244a6e031e08a44f6e,,7,3,1,1,21486,wangqi,wangqi,"format rst code and add bug link

Change-Id: I3fd8ff71ed628cdd2dc3883c160d2040542bbbff
"
openstack%2Fopenstack-ansible-haproxy_server~master~I4284391583566fc44f3501750c5893056c31385f,openstack/openstack-ansible-haproxy_server,master,I4284391583566fc44f3501750c5893056c31385f,add bug link,ABANDONED,2018-09-06 03:11:25.000000000,2021-03-02 08:00:59.000000000,,3,0,1,600317,46381d86948867ae69a023a7ddd5daeaa22e0927,,9,3,1,1,21486,wangqi,wangqi,"add bug link

Change-Id: I4284391583566fc44f3501750c5893056c31385f
"
openstack%2Fcinder~master~I353a80ed314214ea9b9313cffa464e873b848cbb,openstack/cinder,master,I353a80ed314214ea9b9313cffa464e873b848cbb,Sets vol perms to match nas_secure_file_permissions,NEW,2020-06-08 22:53:41.000000000,2021-03-02 07:53:29.000000000,,2,2,2,734343,42b85f0e4527c33699a03ee72f782ca2d79e1c55,bug/1882603,85,28,4,2,25820,Marc,mmethot,"Sets vol perms to match nas_secure_file_permissions

When creating new instance from snap it sets volume permissions
to match nas_secure_file_permissions

Change-Id: I353a80ed314214ea9b9313cffa464e873b848cbb
Closes-Bug: #1882603
"
openstack%2Fcharm-ceph-mon~master~Iefd8d305409ba97804795eef9a5add81103d05a2,openstack/charm-ceph-mon,master,Iefd8d305409ba97804795eef9a5add81103d05a2,Block same broker_req from running twice,MERGED,2018-07-20 20:27:10.000000000,2021-03-02 07:50:33.000000000,2021-03-02 07:50:33.000000000,151,26,21,584506,490bba84975b4f38220ad458d10ca7ad18e85cf3,bug/1773910,69,23,10,2,28510,Pedro Guimarães,pguimaraes,"Block same broker_req from running twice

Goal is to avoid broker request retrials for every hook called
on ceph-mon

Change-Id: Iefd8d305409ba97804795eef9a5add81103d05a2
Closes-Bug: #1773910
Partial-Bug: #1913992
"
openstack%2Fmasakari~stable%2Ftrain~I25afb76aec10a507312b8d99b0c882ca9f6bcd81,openstack/masakari,stable/train,I25afb76aec10a507312b8d99b0c882ca9f6bcd81,Allow segment description to be multiline,MERGED,2021-02-25 07:08:18.000000000,2021-03-02 07:31:14.000000000,2021-03-02 07:29:30.000000000,21,1,0,777331,9280560731c91cfbf52c0afd546534ba113e83e5,bug/1776385-stable/victoria-stable/ussuri-stable/train,9,4,1,3,30491,Radosław Piliszek,yoctozepto,"Allow segment description to be multiline

This patch allows user to pass a multiline description for
a failover segment.

Closes-Bug: #1776385
Change-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81
(cherry picked from commit d7f47f262799b285080cb08830560891c532a5a1)
"
openstack%2Fmasakari~stable%2Fussuri~I25afb76aec10a507312b8d99b0c882ca9f6bcd81,openstack/masakari,stable/ussuri,I25afb76aec10a507312b8d99b0c882ca9f6bcd81,Allow segment description to be multiline,MERGED,2021-02-25 07:07:31.000000000,2021-03-02 07:26:27.000000000,2021-03-02 07:24:43.000000000,21,1,0,777330,b5ecfde6d2bd043188e220cdc88fd96fe8e93a7f,bug/1776385-stable/victoria-stable/ussuri,9,4,1,3,30491,Radosław Piliszek,yoctozepto,"Allow segment description to be multiline

This patch allows user to pass a multiline description for
a failover segment.

Closes-Bug: #1776385
Change-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81
(cherry picked from commit d7f47f262799b285080cb08830560891c532a5a1)
"
openstack%2Fmasakari~stable%2Fvictoria~I25afb76aec10a507312b8d99b0c882ca9f6bcd81,openstack/masakari,stable/victoria,I25afb76aec10a507312b8d99b0c882ca9f6bcd81,Allow segment description to be multiline,MERGED,2021-02-25 07:07:13.000000000,2021-03-02 07:26:00.000000000,2021-03-02 07:24:39.000000000,21,1,0,777329,9af584c5c92adaf9b172351ada9bfaed24d4ef36,bug/1776385-stable/victoria,9,4,1,3,30491,Radosław Piliszek,yoctozepto,"Allow segment description to be multiline

This patch allows user to pass a multiline description for
a failover segment.

Closes-Bug: #1776385
Change-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81
(cherry picked from commit d7f47f262799b285080cb08830560891c532a5a1)
"
openstack%2Fcompute-hyperv~master~I62a25676267b54bf2b4b215d1bfe9b39031e4c83,openstack/compute-hyperv,master,I62a25676267b54bf2b4b215d1bfe9b39031e4c83,wip: Update port provider mappings when handling failovers,ABANDONED,2020-02-11 09:57:45.000000000,2021-03-02 07:20:26.000000000,,30,2,0,707089,0c902c4c084c4ab6a3abe93324c634ff6097f904,port_provider,7,2,2,2,8543,Lucian Petrut,plucian,"wip: Update port provider mappings when handling failovers

network_api.migrate_instance_finish now requires an argument
called ""provider_mappings"". As the name suggests, it's a dict
providing mappings between port ids and the resource provider ids.

This is used as part of the Neutron QoS feature, which counts allocated
bandwidth using the placement service in order to provide minimum
IOPS levels.

Change-Id: I62a25676267b54bf2b4b215d1bfe9b39031e4c83
"
openstack%2Fglance_store~master~I6b082730619d05ec386eb7454564b60c78f91366,openstack/glance_store,master,I6b082730619d05ec386eb7454564b60c78f91366,rbd: ensure the client is installed,ABANDONED,2019-09-05 12:13:04.000000000,2021-03-02 07:19:08.000000000,,11,0,1,680388,833b6a8f2c8268bdeb87c57617a3bf882f0ef55d,rbd,16,6,3,2,8543,Lucian Petrut,plucian,"rbd: ensure the client is installed

This patch will check that the ceph client is available when
initializing the rbd store configuration, throwing
BadStoreConfiguration otherwise, in which case the store will be
skipped.

This will also allow the Glance tests to run when the ceph client
is missing.

Change-Id: I6b082730619d05ec386eb7454564b60c78f91366
"
openstack%2Frequirements~master~I78db12410381908335b86d27d34ec8e7fe594853,openstack/requirements,master,I78db12410381908335b86d27d34ec8e7fe594853,Cross-check with Masakari,MERGED,2021-02-02 14:38:16.000000000,2021-03-02 07:05:44.000000000,2021-02-26 23:35:14.000000000,10,0,0,773695,51c36c8353c21e2434961ad33a5bfdb8647625b6,cross-masakari,25,4,3,2,30491,Radosław Piliszek,yoctozepto,"Cross-check with Masakari

Change-Id: I78db12410381908335b86d27d34ec8e7fe594853
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I20dc57a02a315ca361883b73e4fb1cb98cf438cb,openstack/tripleo-heat-templates,stable/train,I20dc57a02a315ca361883b73e4fb1cb98cf438cb,pcs commands on host: haproxy bundle,MERGED,2021-02-18 13:14:19.000000000,2021-03-02 07:04:36.000000000,2021-02-23 22:21:04.000000000,22,49,0,776430,a7cceb0f9a5c177868969a8681ed294707fe3f09,train-pcshost,16,4,1,1,20172,Michele Baldessari,michele,"pcs commands on host: haproxy bundle

This implements the creation of the haproxy bundle on the host.
The testing protocol used is documented in the depends-on.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

NB: We had to remove a few tags that were present befaure because we want
to avoid that puppet checks for /etc/haproxy/haproxy.cfg existence
on the host.

NB: Some conflicts, mainly around context changes

Related-Bug: #1863442

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696

Change-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb
(cherry picked from commit a11622359002597c7f32c6efeda745b8500a34e6)
(cherry picked from commit 3f8c22b5614253d201b834f4d1586da4a386391d)
"
openstack%2Fheat~master~Iff1e39481ea3b1f00bd89dba4a00aed30334ecec,openstack/heat,master,Iff1e39481ea3b1f00bd89dba4a00aed30334ecec,Implement secure RBAC,MERGED,2020-12-15 14:19:05.000000000,2021-03-02 07:03:17.000000000,2021-03-02 07:01:28.000000000,1214,213,91,767161,93594c30eca3a52366e8138a583a00dbe5927d7d,secure-rbac,127,6,27,24,15895,Adriano Petrich,apetrich,"Implement secure RBAC

This commit updates default policies to account for system scope
and default roles. This is part of a broader change to provide a
consistent and secure authorization experience across OpenStack
projects.

- Introduces basic/reusable check strings in base.py
- Implements secure RBAC for build info API
- Implements secure RBAC for the action API
- Implements secure RBAC for cloud formations
- Implements secure RBAC for events
- Implements secure RBAC for the resource API
- Implements secure RBAC for the service API
- Implements secure RBAC for software configs
- Implements secure RBAC for software deployments
- Implements secure RBAC for stacks
- Adds unit tests for legacy and new secure-rbac policies.

Change-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec
"
openstack%2Fopenstack-helm-infra~master~I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2,openstack/openstack-helm-infra,master,I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2,Enforce release notes updates,MERGED,2021-02-16 20:19:57.000000000,2021-03-02 06:36:32.000000000,2021-03-02 06:32:56.000000000,3,3,0,775927,00334a7f8aa2704b2ed167063f91836fc4553d75,reno-update,40,5,13,1,21420,Gage Hugo,ghugo,"Enforce release notes updates

This change removes the ignore-errors parameter for the
linter in order to enforce release note updates per chart
change.

Change-Id: I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2
"
openstack%2Fnova~master~Ie7dc3247a0d6526224bed1af429234cc2403a70a,openstack/nova,master,Ie7dc3247a0d6526224bed1af429234cc2403a70a,libvirt: Remove dead code,MERGED,2021-01-28 17:27:44.000000000,2021-03-02 06:15:55.000000000,2021-03-02 02:06:17.000000000,0,32,0,772928,c23bda400a41adf206eaa7a269644928fd84cfc1,mypy-integration,54,8,3,1,15334,Stephen Finucane,sfinucan,"libvirt: Remove dead code

The '_prepare_pci_devices_for_use' function is Xen-specific and should
have been removed in change I73305e82da5d8da548961b801a8e75fb0e8c4cf1
(""libvirt: Drop support for Xen""). Remove it now.

Change-Id: Ie7dc3247a0d6526224bed1af429234cc2403a70a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fpython-swiftclient~stable%2Fussuri~I5a6ba8e65c23ada7297f6684dcbdd886591d0af5,openstack/python-swiftclient,stable/ussuri,I5a6ba8e65c23ada7297f6684dcbdd886591d0af5,Fix multiple CI failures,ABANDONED,2021-03-01 21:01:55.000000000,2021-03-02 05:25:51.000000000,,6,58,0,778070,49f7cb6d814ccf5b9f2abdda56b784a9b185aa80,,3,2,1,6,15197,Pierre Riteau,priteau,"Fix multiple CI failures

1. Clean up some requirements

* Drop the py26 marker for futures; we don't support 2.6 anymore.
* Split hacking version used based on python version.
* Clean up sphinx split -- 2.0+ aren't available to install on py2,
  anyway.

Depends-On: https://review.opendev.org/#/c/752340/
Depends-On: https://review.opendev.org/#/c/752736/
(cherry picked from commit 5cb906148709ccc74ca96463fd69a5cae2381edb)

2. Drop lower-constraints testing

The OpenStack community consensus seems to be that it's not worth the
hassle of fixing. *Maybe* we can revisit this if we ever drop py2
support?

Reasonable spot to start on ML threads:
http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html

Depends-On: https://review.opendev.org/c/openstack/requirements/+/777025
(cherry picked from commit 06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5)

Change-Id: I5a6ba8e65c23ada7297f6684dcbdd886591d0af5
"
openstack%2Fopenstack-helm~master~Ib7bc455631f288919296c3592e1cb891539e129d,openstack/openstack-helm,master,Ib7bc455631f288919296c3592e1cb891539e129d,DNM - Testing reno check,ABANDONED,2021-03-01 22:43:38.000000000,2021-03-02 04:20:39.000000000,,0,11,0,778087,780cc35675c83395012764cd972a9052f8c30dd3,reno-check,4,2,1,1,21420,Gage Hugo,ghugo,"DNM - Testing reno check

Depends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/775927
Change-Id: Ib7bc455631f288919296c3592e1cb891539e129d
"
openstack%2Fswift~master~I97f7aa790c225ffd72b77a3fc1a6ef41f72df13e,openstack/swift,master,I97f7aa790c225ffd72b77a3fc1a6ef41f72df13e,sharder: downgrade 'no data dirs' warning to info,MERGED,2021-02-19 11:43:18.000000000,2021-03-02 02:30:45.000000000,2021-03-02 02:29:16.000000000,24,1,0,776608,87c7684fb09ebb80b08039cc4153f339cb2bdb14,p-sharder-no-containers,12,3,2,2,7847,Alistair Coles,acoles,"sharder: downgrade 'no data dirs' warning to info

Previously if the sharder found no 'containers' directory on any
device then it would emit a warning. This can be a distraction when in
normal operation the sharder daemon is run on all nodes including
those not in the container ring. This patch clarifies the log message
and downgrades it to info level:

  INFO: Found no containers directories

The change also fixes the intermittent failure of the probe test
test_delete_root_reclaim in test/probe/test_sharder.pr. The test
asserts that no warning logs are emitted, but would previously fail if
no containers were created on one of the devices, since the 'Found no
data dirs' warning would be emitted.

Change-Id: I97f7aa790c225ffd72b77a3fc1a6ef41f72df13e
"
openstack%2Fopenstack-helm-infra~master~Iae20717482ad6c7a40f54174eef120d094abbd59,openstack/openstack-helm-infra,master,Iae20717482ad6c7a40f54174eef120d094abbd59,Remove zookeeper residue,MERGED,2021-03-01 01:54:44.000000000,2021-03-02 02:26:29.000000000,2021-03-02 02:23:04.000000000,2,918,1,777916,5c6d281b621024382f04928651eeae61fb90031c,Remove_zookeeper_residue,22,4,3,23,30449,jinyuanliu,jinyuanliu,"Remove zookeeper residue

About zookeeper chart,It's been removed,But there are still some related scripts that have not been completely deleted,we should remove them.

Change-Id: Iae20717482ad6c7a40f54174eef120d094abbd59
"
openstack%2Fironic-python-agent~stable%2Fussuri~I60682d7e1d83793fb9dc3df4398e8e6f17438f98,openstack/ironic-python-agent,stable/ussuri,I60682d7e1d83793fb9dc3df4398e8e6f17438f98,Pin version of ipa-builder when publishing image,MERGED,2021-03-01 16:04:37.000000000,2021-03-02 02:21:33.000000000,2021-03-02 02:18:05.000000000,8,1,0,778021,90b79c2f3cd556c9d934c8da8e5a0f8a005b6886,pin-ipa-builder,8,2,2,2,23851,Riccardo Pittau,elfosardo,"Pin version of ipa-builder when publishing image

The ironic-python-agent-build-image-tinyipa job from ipa-builder comes
from master branch and it will use that branch to build all the tinyipa
ramdisks.
For compatibility reasons with the base version of tinycore used to
build tinyipa, we need to pin the ipa-builder code to tag 2.2.0 as
ussuri CI is based on bionic and it won't support the new kernel used in
tinycore 11.x when we need to chroot to modify the image during CI jobs
like ironic-standalone.

Change-Id: I60682d7e1d83793fb9dc3df4398e8e6f17438f98
"
openstack%2Fmanila~master~I6e7608be57de8987117f3f4ace018a7eb91c8bd2,openstack/manila,master,I6e7608be57de8987117f3f4ace018a7eb91c8bd2,Remove deprecated public share policies,MERGED,2020-11-19 21:17:02.000000000,2021-03-02 02:19:47.000000000,2021-03-02 01:42:30.000000000,13,30,0,763468,e3e0486de9ccdfbd5c82a31b702b87bd1e7f890f,secure-rbac,62,6,5,2,5046,Lance Bragstad,ldbragst,"Remove deprecated public share policies

These policies were deprecated in Stein and flagged
for removal in Train. Now that we're in the Wallaby
development cycle let's remove them.

Depends-On: I2a647fd5871ef6bb7d1ab45db893a44a560bed72
Change-Id: I6e7608be57de8987117f3f4ace018a7eb91c8bd2
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fswift~master~Ia87ab6feaf5172d91f1c60c2e0f72e03182e3c9b,openstack/swift,master,Ia87ab6feaf5172d91f1c60c2e0f72e03182e3c9b,sharder: fix loop in find_compactible_shard_sequences,MERGED,2021-02-26 20:29:34.000000000,2021-03-02 01:52:27.000000000,2021-03-02 01:50:58.000000000,171,51,10,777819,41f85f3969d854dceb1a0f6f22c377d62e7e6477,p-sharder-compact-to-root,13,3,2,3,7847,Alistair Coles,acoles,"sharder: fix loop in find_compactible_shard_sequences

The sharder find_compactible_shard_sequences function was vulnerable
to looping with some combinations of shrink_threshold and merge_size
parameters. The inner loop might not consume a shard range, resulting
in the same shard range being submitted to the inner loop again.

This patch simplifies the function in an attempt to make it more
obvious that the loops are always making progress towards termination
by consuming shard ranges from the list.

Change-Id: Ia87ab6feaf5172d91f1c60c2e0f72e03182e3c9b
"
openstack%2Fironic~master~I63a3a8217e4e3f1c78fe8e90f4e711d9a6a61423,openstack/ironic,master,I63a3a8217e4e3f1c78fe8e90f4e711d9a6a61423,remove unicode from code,ABANDONED,2021-03-01 10:06:48.000000000,2021-03-02 01:49:00.000000000,,107,107,0,777969,77340bd07911cf1d224b8c35558b8cdb2fcbe688,,6,1,1,26,32291,wushiming,wushiming,"remove unicode from code

In Python 3, all strings are represented in Unicode.In Python 2 are
stored internally as 8-bit ASCII, hence it is required to attach 'u'
to make it Unicode. It is no longer necessary now.

Change-Id: I63a3a8217e4e3f1c78fe8e90f4e711d9a6a61423
"
openstack%2Fneutron~master~I44b587b8da641536593eadcb5919689278dda494,openstack/neutron,master,I44b587b8da641536593eadcb5919689278dda494,first commit test,ABANDONED,2021-03-02 01:31:49.000000000,2021-03-02 01:38:14.000000000,,5,0,0,778121,b79b9263fa448b4449d6472058943d1231f768fa,zzs,3,0,1,2,31842,Zhanshuai Zhang,ZhanshuaiZhang,"first commit test

zzs

Change-Id: I44b587b8da641536593eadcb5919689278dda494
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I567d6b2cd66d5eb98971cd54987c1fbea3c1da78,openstack/puppet-tripleo,stable/train,I567d6b2cd66d5eb98971cd54987c1fbea3c1da78,Add ability to specify memcached port,MERGED,2021-02-15 12:17:19.000000000,2021-03-02 01:36:10.000000000,2021-03-02 01:34:49.000000000,54,37,0,775605,8d5bb4b8948ecdef0a0659e4b6bb10756b7cc1bc,memcached-cert-stable/train,18,7,3,19,14250,Grzegorz Grasza,xek,"Add ability to specify memcached port

The port defaults to hiera('memcached_authtoken_port', 11211)
for authtoken middleware and hiera('memcached_port', 11211)
for other uses. Different ports might be set for security
and performance tuning.

Change-Id: I567d6b2cd66d5eb98971cd54987c1fbea3c1da78
(cherry picked from commit f460e659ba72a99d21b5aa69d9099c42cc868cfc)
"
openstack%2Fkolla-ansible~master~I7f3f0e01e504e806235d467db90294fdc14216e1,openstack/kolla-ansible,master,I7f3f0e01e504e806235d467db90294fdc14216e1,Update manila-share.conf,ABANDONED,2021-02-26 09:01:59.000000000,2021-03-02 01:23:45.000000000,,13,0,0,777728,ab4f75575165b698bff210a911f19b1a0d1d3652,,11,2,3,2,31506,Lin PeiWen,LinPeiWen,"Update manila-share.conf

manila glusterfs nfs backend does not require the configuration of
[nova] [cinder] [neutron], add the judgment condition and filter it

Change-Id: I7f3f0e01e504e806235d467db90294fdc14216e1
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I5e5ea241308a11b79864885584944037dfecc6bc,openstack/openstack-ansible-lxc_hosts,master,I5e5ea241308a11b79864885584944037dfecc6bc,Remove duplicate lxc volume tasks,MERGED,2021-02-17 13:50:21.000000000,2021-03-02 01:01:46.000000000,2021-03-02 01:00:37.000000000,0,54,0,776200,608254f0a136eb0de4abab904716ae84418b48d8,lxc-hosts-cleanup,15,3,1,2,25023,Jonathan Rosser,jrosser,"Remove duplicate lxc volume tasks

These tasks are duplicated in both lxc_cache_preparation_simple.yml
and lxc_volume.yml, so we remove one of the duplicate set of tasks.

Change-Id: I5e5ea241308a11b79864885584944037dfecc6bc
"
openstack%2Fopenstack-ansible-lxc_hosts~master~Ie0bcf56f0ac12f5a5472f539824221f2d8f3c769,openstack/openstack-ansible-lxc_hosts,master,Ie0bcf56f0ac12f5a5472f539824221f2d8f3c769,Move lxc cache facts setting to where those facts are used.,MERGED,2021-02-17 13:50:21.000000000,2021-03-02 00:59:23.000000000,2021-03-02 00:58:17.000000000,5,5,0,776199,369c807b90e0be7b604c3e336811ac5decf9ead8,lxc-hosts-cleanup,13,3,1,2,25023,Jonathan Rosser,jrosser,"Move lxc cache facts setting to where those facts are used.

If we build a local chroot then the lxc_cache_prestage.yml tasks
are no longer required, but the cache facts are still used later in
the role. Move the settings of the facts closer to where the facts
are used.

Change-Id: Ie0bcf56f0ac12f5a5472f539824221f2d8f3c769
"
openstack%2Fnova~master~I92eb27b710f16d69cf003712431fe225a014c3a8,openstack/nova,master,I92eb27b710f16d69cf003712431fe225a014c3a8,libvirt: Define and emit DeviceRemovedEvent and DeviceRemovalFailedEvent,MERGED,2020-09-04 12:06:35.000000000,2021-03-02 00:56:54.000000000,2021-03-02 00:53:33.000000000,165,5,23,749929,4a70fc9cfb1d4354969c75e12fb94e1681e28ab7,bug/1882521,124,9,13,6,10135,Lee Yarwood,lyarwood,"libvirt: Define and emit DeviceRemovedEvent and DeviceRemovalFailedEvent

This patch registers for VIR_DOMAIN_EVENT_ID_DEVICE_REMOVED and
VIR_DOMAIN_EVENT_ID_DEVICE_REMOVAL_FAILED libvirt events and transforms
them to nova virt events.

This patch also extends the libvirt driver to have a driver specific
event handling function for these events instead of using the generic
virt driver event handler that passes all the existing lifecycle events
up to the compute manager.

This is part of the longer series trying to transform the existing
device detach handling to use libvirt events.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1882521
Change-Id: I92eb27b710f16d69cf003712431fe225a014c3a8
"
openstack%2Fmanila~master~I1bbb6dc900ef413189c20d41fe08d9263a0038c2,openstack/manila,master,I1bbb6dc900ef413189c20d41fe08d9263a0038c2,Implement secure RBAC for storage availability zones,MERGED,2020-11-19 21:17:02.000000000,2021-03-02 00:56:47.000000000,2021-03-02 00:54:45.000000000,17,2,0,763441,a43911d7de968e9e4172a386247f639f9536cc6a,secure-rbac,36,7,3,1,5046,Lance Bragstad,ldbragst,"Implement secure RBAC for storage availability zones

This commit updates the policies for availability zones to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: I1bbb6dc900ef413189c20d41fe08d9263a0038c2
"
openstack%2Fopenstack-ansible~master~Idfdb34e53d7e0a54dd35b95e7b9f51eece405238,openstack/openstack-ansible,master,Idfdb34e53d7e0a54dd35b95e7b9f51eece405238,Switch gnocchi release to 4.4,MERGED,2021-01-26 09:43:59.000000000,2021-03-02 00:42:35.000000000,2021-03-02 00:40:21.000000000,2,3,1,772485,e6d353649e95538fd5623078d6a9b1165208bffd,,22,4,3,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Switch gnocchi release to 4.4

Gnocchi has released version 4.4 and there is no reason why we should
not use it.

Change-Id: Idfdb34e53d7e0a54dd35b95e7b9f51eece405238
"
openstack%2Fdevstack-plugin-ceph~master~Ib107d20075ef92611840b3635bbe15f8805ccb52,openstack/devstack-plugin-ceph,master,Ib107d20075ef92611840b3635bbe15f8805ccb52,Added missing libvirt keyring for Cinder,NEW,2019-11-19 12:58:14.000000000,2021-03-02 00:22:03.000000000,,1,0,0,694997,5b01ec5001776cca5e3ca3b1982b560c61023ad7,,10,19,3,1,20676,daniel.pawlik,daniel.pawlik,"Added missing libvirt keyring for Cinder

On executing tempest tests like:
tempest.api.compute.servers.test_create_server.ServersTestBootFromVolume.test_host_name_is_same_as_server_name

nova-compute service was raising an error:
""libvirtError: Secret not found: no secret with matching uuid"".
This patch set will add secret in virsh for Cinder.

Change-Id: Ib107d20075ef92611840b3635bbe15f8805ccb52
"
openstack%2Fansible-role-python_venv_build~master~I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b,openstack/ansible-role-python_venv_build,master,I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b,Slurp constraints for all hosts,MERGED,2021-03-01 13:23:37.000000000,2021-03-01 23:41:51.000000000,2021-03-01 23:40:40.000000000,9,7,0,777994,20f8ad42ce3a7cf9cc9139c48bd11872af2fb10c,,9,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Slurp constraints for all hosts

This fixes bug when content slurp has been performed only for single
host. Others were having invalid contstraints file with single record
in it.

Change-Id: I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b
"
openstack%2Fopenstack-helm-infra~master~Ic01e7c012ab2167d59b2117eb985386666f2bb2a,openstack/openstack-helm-infra,master,Ic01e7c012ab2167d59b2117eb985386666f2bb2a,Enable TLS for grafana,MERGED,2021-02-06 04:49:10.000000000,2021-03-01 23:34:06.000000000,2021-03-01 23:32:41.000000000,87,4,13,774346,87e3a02dd558dfca6a9a8f49feb34f47d516cbf7,change-774346-20,96,13,21,12,19391,Chi Lo,cl566n,"Enable TLS for grafana

This patchset updates grafana chart manifests to enable TLS with
osh-infra mariadb.  TLS for osh-infra mariadb is completed as part
of TLS phase 1, no additional mariadb chart work is required to
work with this patch.

Change-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a
"
openstack%2Fnetworking-sfc~master~Ic5c1d1bceff3e995d40ee49218e3627d26be1bed,openstack/networking-sfc,master,Ic5c1d1bceff3e995d40ee49218e3627d26be1bed,Use unittest.mock instead of mock,MERGED,2020-12-03 17:50:03.000000000,2021-03-01 23:30:29.000000000,2021-03-01 23:29:00.000000000,4,4,0,765355,3f759390dd48d3b21a293912ec700a2214271ff5,unittest.mock,19,7,2,4,32102,Manpreet Kaur,manpreet,"Use unittest.mock instead of mock

Few files were still using third party mock library, this patch removes
them and use the standard library mock module instead.

Change-Id: Ic5c1d1bceff3e995d40ee49218e3627d26be1bed
"
openstack%2Fproject-config~master~Ief16de137553c13df9d6037300efb80feb38f3db,openstack/project-config,master,Ief16de137553c13df9d6037300efb80feb38f3db,intel-nfv-ci-tests: move zuul definition into repo,MERGED,2021-02-25 08:47:38.000000000,2021-03-01 23:24:22.000000000,2021-03-01 23:24:22.000000000,0,9,0,777511,563b8c27038a65ba3cfc5e0477ec9ba4a7d1e650,in-repo,12,5,1,1,4491,Lianhao Lu,lianhao-lu,"intel-nfv-ci-tests: move zuul definition into repo

Move zuul related definition into intel-nfv-ci-tests own repo.

Depends-On: Idc727e5232c6b1697e65cbda8b955d9f4f1490d3
Change-Id: Ief16de137553c13df9d6037300efb80feb38f3db
"
openstack%2Ftripleo-operator-ansible~master~I0bdb9ce1e434f7ffd75d1931a70a451cdc48bc90,openstack/tripleo-operator-ansible,master,I0bdb9ce1e434f7ffd75d1931a70a451cdc48bc90,Create tripleo_overcloud_backup role,MERGED,2021-02-08 16:03:26.000000000,2021-03-01 23:21:37.000000000,2021-03-01 23:21:37.000000000,323,0,0,774508,f90c7a44b664bde887be9a21fabd75a3c89b585d,cli/backup/overcloud,10,5,2,10,32728,Juan Pablo Lopez,jplopezgu,"Create tripleo_overcloud_backup role

- tripleo_overcloud_backup role was added to match python-tripleoclient
  interface for B&R overcloud command. It follows the same structure
  as tripleo_undercloud_backup role.
- 'tripleo_overcloud_backup_init' string variable was added for
  the flag '--init' for installing and configure 'rear' and 'nfs'.
  Depending on the value. WARNING: this flag will be deprecated
  in favor of '--setup-nfs' and '--setup-rear'.
- 'tripleo_overcloud_backup_setup_nfs' boolean variable was added
  for the flag '--setup-nfs' which will install and configure NFS
  server. Default to: false.
- 'tripleo_overcloud_backup_setup_rear' boolean variable was added
  for the flag '--setup-rear' which will install and configure ReaR
  on the overcloud controllers. Default to: false.
- 'tripleo_overcloud_backup_storage_ip' string variable was added
  for the flag '--storage-ip' which will allows to specify an ip for
  NFS / Backup server. It has precedence over '--extra-vars'. WARNING:
  this flag will be deprecated in favor of '--extra-vars'.
- 'tripleo_overcloud_backup_extra_vars' string variable was added
  for '--extra-vars' variable for passing variables as JSON string
  or JSON / YAML path.
- zuul.d updated to include molecule tests

Depends on: https://review.opendev.org/c/openstack/python-tripleoclient/+/771589

Change-Id: I0bdb9ce1e434f7ffd75d1931a70a451cdc48bc90
"
openstack%2Ftripleo-operator-ansible~master~I5c22ab09f98ceff0b6c3e036a37fb76a2a744e79,openstack/tripleo-operator-ansible,master,I5c22ab09f98ceff0b6c3e036a37fb76a2a744e79,Update tripleo_undercloud_backup role,MERGED,2021-02-04 15:13:56.000000000,2021-03-01 23:21:30.000000000,2021-03-01 23:21:30.000000000,83,0,8,774087,b3265b80053b7faee215497cbc2e52ed01d5963a,cli/backup/undercloud,15,9,3,4,32728,Juan Pablo Lopez,jplopezgu,"Update tripleo_undercloud_backup role

- 'tripleo_undercloud_backup_init' string variable was added for
  the flag '--init' for installing and configure 'rear' and 'nfs'.
  Depending on the value.
  Though it is advised that this flag will be deprecated.
- 'tripleo_undercloud_backup_setup_nfs' boolean variable was added
  for the flag '--setup-nfs' which will install and configure NFS
  server. Default to: false.
- 'tripleo_undercloud_backup_setup_rear' boolean variable was added
  for the flag '--setup-rear' which will install and configure ReaR
  on the undercloud. Default to: false.
- 'tripleo_undercloud_backup_extra_vars' string variable was added
  for '--extra-vars' variable for passing variables as JSON string
  or JSON / YAML path.

Depends on: https://review.opendev.org/c/openstack/python-tripleoclient/+/771589

Change-Id: I5c22ab09f98ceff0b6c3e036a37fb76a2a744e79
"
openstack%2Fopenstack-ansible-ops~master~Iad12c5f7191f7f273a174c5dfbddae9447a78e03,openstack/openstack-ansible-ops,master,Iad12c5f7191f7f273a174c5dfbddae9447a78e03,Make focal jobs voting,MERGED,2021-03-01 08:51:58.000000000,2021-03-01 22:51:30.000000000,2021-03-01 22:46:35.000000000,1,1,0,777940,5c895cb2a82f2ff6ec257c5ad793ea3e31c253c7,elk_adjustments,8,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Make focal jobs voting

Change-Id: Iad12c5f7191f7f273a174c5dfbddae9447a78e03
"
openstack%2Frpm-packaging~master~Id3e71044b9e97c88595bad3874228ae07e68448e,openstack/rpm-packaging,master,Id3e71044b9e97c88595bad3874228ae07e68448e,octavia: update filelist for amphora driver,MERGED,2021-02-24 08:24:10.000000000,2021-03-01 21:41:18.000000000,2021-03-01 21:41:18.000000000,1,0,0,777313,6223b9af12f49c3ca69ed4194bffecb42b59d3f5,,9,5,1,1,6593,Dirk Mueller,dmllr,"octavia: update filelist for amphora driver

From the release notes:

  Support for SCTP health monitors is provided by the
  amphora-health-checker script and relies on an INIT/INIT-ACK/ABORT
  sequence of packets.

Change-Id: Id3e71044b9e97c88595bad3874228ae07e68448e
"
openstack%2Fswift~stable%2Ftrain~I3a197fecfd68359a325efdfd4590b7bd48598da8,openstack/swift,stable/train,I3a197fecfd68359a325efdfd4590b7bd48598da8,Avoid loops when gathering container listings from shards,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 21:32:53.000000000,2021-03-01 21:30:17.000000000,178,5,0,774343,96e24bb1dbbac0313cea1f233f8cd918c6d820ac,train-sharding,16,3,3,3,597,Pete Zaitcev,zaitcev,"Avoid loops when gathering container listings from shards

Previously the proxy container controller could, in corner cases, get
into a loop while building a listing for a sharded container. For
example, if a root has a single shard then the proxy will be
redirected to that shard, but if that shard has shrunk into the root
then it will redirect the proxy back to the root, and so on until the
root is updated with the shard's shrunken status.

There is already a guard to prevent the proxy fetching shard ranges
again from the same container that it is *currently* querying for
listing parts. That deals with the case when a container fills in gaps
in its listing shard ranges with a reference to itself. This patch
extends that guard to prevent the proxy fetching shard ranges again
from any container that has previously been queried for listing parts.

Cherry-Picked-From: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b
Change-Id: I3a197fecfd68359a325efdfd4590b7bd48598da8
"
openstack%2Fnova~master~I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9,openstack/nova,master,I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9,scheduler: Add 'socket' PCI NUMA affinity policy trait,MERGED,2021-01-27 16:58:06.000000000,2021-03-01 21:31:55.000000000,2021-03-01 21:28:57.000000000,33,2,15,772749,db7517d5a8aaa5a24be12d9c3453dcd98d9a887e,bp/pci-socket-affinity,81,3,13,4,8864,Artom Lifshitz,artom,"scheduler: Add 'socket' PCI NUMA affinity policy trait

Since only Wallaby compute nodes will support the 'socket' PCI NUMA
affinity policy, this patch adds a ResourceRequest translator that adds
a required trait if the value of '(hw_|hw:)pci_numa_affinity_policy' is
'socket'.

The actual trait reporting by the libvirt driver will be added in a
future patch. Until then the 'socket' value remains a hidden no-op.

Implements: blueprint pci-socket-affinity
Change-Id: I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9
"
openstack%2Fswift~stable%2Ftrain~I83441cb0ba600e7c26aa24a80bc3fb85803c90f3,openstack/swift,stable/train,I83441cb0ba600e7c26aa24a80bc3fb85803c90f3,Populate shrinking shards with shard ranges learnt from root,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 21:31:42.000000000,2021-03-01 21:30:01.000000000,621,175,0,774342,80b7892266389d04f122dd7b870fd64c98c0fe29,train-sharding,15,3,3,6,597,Pete Zaitcev,zaitcev,"Populate shrinking shards with shard ranges learnt from root

Shard shrinking can be instigated by a third party modifying shard
ranges, moving one shard to shrinking state and expanding the
namespace of one or more other shard(s) to act as acceptors. These
state and namespace changes must propagate to the shrinking and
acceptor shards. The shrinking shard must also discover the acceptor
shard(s) into which it will shard itself.

The sharder audit function already updates shards with their own state
and namespace changes from the root. However, there is currently no
mechanism for the shrinking shard to learn about the acceptor(s) other
than by a PUT request being made to the shrinking shard container.

This patch modifies the shard container audit function so that other
overlapping shards discovered from the root are merged into the
audited shard's db. In this way, the audited shard will have acceptor
shards to cleave to if shrinking.

This new behavior is restricted to when the shard is shrinking. In
general, a shard is responsible for processing its own sub-shard
ranges (if any) and reporting them to root. Replicas of a shard
container synchronise their sub-shard ranges via replication, and do
not rely on the root to propagate sub-shard ranges between shard
replicas. The exception to this is when a third party (or
auto-sharding) wishes to instigate shrinking by modifying the shard
and other acceptor shards in the root container.  In other
circumstances, merging overlapping shard ranges discovered from the
root is undesirable because it risks shards inheriting other unrelated
shard ranges. For example, if the root has become polluted by
split-brain shard range management, a sharding shard may have its
sub-shards polluted by an undesired shard from the root.

During the shrinking process a shard range's own shard range state may
be either shrinking or, prior to this patch, sharded. The sharded
state could occur when one replica of a shrinking shard completed
shrinking and moved the own shard range state to sharded before other
replica(s) had completed shrinking. This makes it impossible to
distinguish a shrinking shard (with sharded state), which we do want
to inherit shard ranges, from a sharding shard (with sharded state),
which we do not want to inherit shard ranges.

This patch therefore introduces a new shard range state, 'SHRUNK', and
applies this state to shard ranges that have completed shrinking.
Shards are now restricted to inherit shard ranges from the root only
when their own shard range state is either SHRINKING or SHRUNK.

This patch also:

 - Stops overlapping shrinking shards from generating audit warnings:
   overlaps are cured by shrinking and we therefore expect shrinking
   shards to sometimes overlap.

 - Extends an existing probe test to verify that overlapping shard
   ranges may be resolved by shrinking a subset of the shard ranges.

 - Adds a --no-auto-shard option to swift-container-sharder to enable the
   probe tests to disable auto-sharding.

 - Improves sharder logging, in particular by decrementing ranges_todo
   when a shrinking shard is skipped during cleaving.

 - Adds a ShardRange.sort_key class method to provide a single definition
   of ShardRange sort ordering.

 - Improves unit test coverage for sharder shard auditing.

Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Cherry-Picked-From: I9034a5715406b310c7282f1bec9625fe7acd57b6
Change-Id: I83441cb0ba600e7c26aa24a80bc3fb85803c90f3
"
openstack%2Frequirements~master~I398680e2f105d377790d9d7748d28e8e678375ad,openstack/requirements,master,I398680e2f105d377790d9d7748d28e8e678375ad,Updated from generate-constraints,MERGED,2021-03-01 06:34:35.000000000,2021-03-01 21:31:39.000000000,2021-03-01 21:29:30.000000000,7,7,0,777928,8fb0cabbea075eb9a61087c2a9ff11dd5475f641,openstack/requirements/constraints/noclob,16,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I398680e2f105d377790d9d7748d28e8e678375ad
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fproject-config~master~I5d4c579daffe9c7147e527e61f810eebf1ef3582,openstack/project-config,master,I5d4c579daffe9c7147e527e61f810eebf1ef3582,Enable inap-mtl01 region,MERGED,2021-03-01 20:49:50.000000000,2021-03-01 21:20:24.000000000,2021-03-01 21:12:07.000000000,1,1,0,778064,7167b379dc97c2b732cdce95b7680a9a82d83bd7,inap-mtl01,8,3,1,1,7156,Mathieu Gagné,mgagne,"Enable inap-mtl01 region

Change-Id: I5d4c579daffe9c7147e527e61f810eebf1ef3582
"
openstack%2Fswift~master~Ic765305da394a45e73ec17dcecb58da0c0b54a40,openstack/swift,master,Ic765305da394a45e73ec17dcecb58da0c0b54a40,WIP: s3api: Allow MPUs via CORS requests,NEW,2020-04-14 23:01:06.000000000,2021-03-01 21:11:20.000000000,,143,10,1,720098,325cff580436b84cf73256825f5bd1ca4486e837,cors,18,1,10,5,15343,Tim Burke,tburke,"WIP: s3api: Allow MPUs via CORS requests

Still need to:

* drop the `Access-Control-Expose-Headers: *` in favor of something more
  targetted
* at least *try* to respect the CORS settings on the container, and
* think about how best to deal with the `+segments` container so we
  don't need to configure CORS via swift.

Change-Id: Ic765305da394a45e73ec17dcecb58da0c0b54a40
"
openstack%2Ftripleo-heat-templates~master~Ib35f4346f94c2a6b172f6c6d64d45e24615f61c8,openstack/tripleo-heat-templates,master,Ib35f4346f94c2a6b172f6c6d64d45e24615f61c8,WIP: Environment overrides for multinode standalone CI job,ABANDONED,2021-02-09 15:13:59.000000000,2021-03-01 21:09:06.000000000,,32,0,0,774677,9a66634f153f82982118ce2f0ca13428fb6f1dc7,,8,2,3,1,8864,Artom Lifshitz,artom,"WIP: Environment overrides for multinode standalone CI job

This is intended as a sort of strawman to try and get a multinode
standalone job working. Based on zuul.d/README.rst in tripleo-ci,
`standalone_environment_files` is overridable, but only by files
already in tht, hence this patch.

I was told ComputeCount is not enough, and I might also need to
override HostnameMap and DeployedServerPortMap, but they're not as
trivial to figure out, so let's start with ComputeCount and see what
happens.

I'm sure there are better/smarter ways of doing the same thing, but
let's get the ball rolling with this patch.

Needed-by: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/762866
Change-Id: Ib35f4346f94c2a6b172f6c6d64d45e24615f61c8
"
openstack%2Fpython-swiftclient~stable%2Fvictoria~I5a6ba8e65c23ada7297f6684dcbdd886591d0af5,openstack/python-swiftclient,stable/victoria,I5a6ba8e65c23ada7297f6684dcbdd886591d0af5,Fix multiple CI failures,MERGED,2020-09-21 18:27:44.000000000,2021-03-01 21:07:26.000000000,2021-03-01 21:02:23.000000000,8,59,0,753118,acd7091f605e2ca1b43461f566988436af3e76bc,requirements-stable/victoria,18,3,4,7,15343,Tim Burke,tburke,"Fix multiple CI failures

1. Clean up some requirements

* Drop the py26 marker for futures; we don't support 2.6 anymore.
* Split hacking version used based on python version.
* Clean up sphinx split -- 2.0+ aren't available to install on py2,
  anyway.

Depends-On: https://review.opendev.org/#/c/752340/
Depends-On: https://review.opendev.org/#/c/752736/
(cherry picked from commit 5cb906148709ccc74ca96463fd69a5cae2381edb)

2. Drop lower-constraints testing

The OpenStack community consensus seems to be that it's not worth the
hassle of fixing. *Maybe* we can revisit this if we ever drop py2
support?

Reasonable spot to start on ML threads:
http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html

(cherry picked from commit 06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5)

3. [goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

- Keep py2 functional job run on Bionic node

Story: #2007865
Task: #40221

(cherry picked from commit 9f69908f759daafc99a162b136b24570a2822ee2)

tests: Make test_delete_container_versions less flakey

Hammering that test in a tight loop, I'd often see failures due to
ordering issues. Make the delete single-threaded to avoid that.

(cherry picked from commit c73792c2e55e4fbdff78a192a991e064a317e840)

Change-Id: I5a6ba8e65c23ada7297f6684dcbdd886591d0af5
"
openstack%2Foslo.messaging~stable%2Ftrain~I01a38754a31c891f2b3b9c7f8135690693df5d13,openstack/oslo.messaging,stable/train,I01a38754a31c891f2b3b9c7f8135690693df5d13,Fix type of direct_mandatory_flag opt,MERGED,2021-02-18 10:34:50.000000000,2021-03-01 21:00:02.000000000,2021-03-01 20:58:51.000000000,6,6,0,776416,56fc332608028ba4c671255e8bd9223a0bae762d,fix-option-train,17,2,1,1,28522,Hervé Beraud,hberaud,"Fix type of direct_mandatory_flag opt

An IntOpt with a default of True is invalid. I'm a little surprised
this doesn't fail a defaults check somewhere, but it needs to be
fixed regardless.

Looking at where it is used, it appears the boolean type is correct.
This just changes the opt type to BoolOpt to match.

Conflicts:
  oslo_messaging/_drivers/impl_rabbit.py

NOTE(hberaud): Conflicts are due to a patch [1][2] not yet backported on
train and which added a new option on other branches.

[1] https://opendev.org/openstack/oslo.messaging/commit/196fa877a90d7eb0f82ec9e1c194eef3f98fc0b1
[2] https://review.opendev.org/c/openstack/oslo.messaging/+/747892

Change-Id: I01a38754a31c891f2b3b9c7f8135690693df5d13
Closes-Bug: 1909036
(cherry picked from commit b8f8b17030e93f6fe64e986ebae1de4011f007d5)
(cherry picked from commit a0329a3f86e8bf275dd4e16c1f354911a6ff2eb6)
(cherry picked from commit 3bf9ba550454719f1d56dbbf8bccbabab11a16f6)
"
openstack%2Fgovernance-sigs~master~Ie9cfc43a3d29858fbfa3fa6e7b3927821175c885,openstack/governance-sigs,master,Ie9cfc43a3d29858fbfa3fa6e7b3927821175c885,Update automation and multi-arch SIGs,MERGED,2021-01-26 09:19:55.000000000,2021-03-01 20:56:46.000000000,2021-02-04 16:02:39.000000000,2,2,0,772483,42401fb845fdba8da8079a4062d827cb985c06ec,formal-vote,12,4,1,1,12404,Rico Lin,rico.lin,"Update automation and multi-arch SIGs

Changes:
* Automation SIG to advisory
* Multi-arch SIG to active

Change-Id: Ie9cfc43a3d29858fbfa3fa6e7b3927821175c885
"
openstack%2Ftripleo-heat-templates~master~Ie84fa812c71ccff8328a0c43e023f98522dd80fb,openstack/tripleo-heat-templates,master,Ie84fa812c71ccff8328a0c43e023f98522dd80fb,Allow configuring cinder mount point for glance cinder store,MERGED,2021-02-05 07:34:29.000000000,2021-03-01 20:50:05.000000000,2021-03-01 20:41:48.000000000,14,0,6,774201,365f16e21d25e6ffeed65a65c22df48a857935b0,glance-cinder-mountpoint,21,12,3,2,19138,Pranali Deore,PranaliD,"Allow configuring cinder mount point for glance cinder store

The new parameter CinderMountPointBase has been added which will be used
for mounting NFS volumes on glance nodes.
When glance uses cinder as store and cinder backend is NFS, the mount
point would be required to be set with this parameter.

Depends-On: Ib724f6e895716847827be48ed08b01a7a312338f
Change-Id: Ie84fa812c71ccff8328a0c43e023f98522dd80fb
"
openstack%2Fopenstack-ansible-os_octavia~master~Ic0d72d232bc1d0cfc2f252d0550d1d4a08a32340,openstack/openstack-ansible-os_octavia,master,Ic0d72d232bc1d0cfc2f252d0550d1d4a08a32340,[reno] Stop publishing release notes,MERGED,2021-01-22 16:27:16.000000000,2021-03-01 20:49:50.000000000,2021-03-01 20:37:23.000000000,1,1,0,772042,c8e9eeda0b4b54225c5fff293fc224a0dec657ce,reno_build,19,4,4,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777601
Change-Id: Ic0d72d232bc1d0cfc2f252d0550d1d4a08a32340
"
openstack%2Fopenstack-ansible-os_designate~master~I5fb104e1ba18d8dd1349600b006be73f2e0f32fa,openstack/openstack-ansible-os_designate,master,I5fb104e1ba18d8dd1349600b006be73f2e0f32fa,[reno] Stop publishing release notes,MERGED,2021-01-22 16:25:13.000000000,2021-03-01 20:49:33.000000000,2021-03-01 20:37:12.000000000,1,1,0,772027,d2f1b890fb8dd4edd8b8b5a3c6412c33f734cbef,reno_build,15,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I5fb104e1ba18d8dd1349600b006be73f2e0f32fa"
openstack%2Ftripleo-common~stable%2Ftrain~I38fe6419a6e18693adad79083a589f3a417de02f,openstack/tripleo-common,stable/train,I38fe6419a6e18693adad79083a589f3a417de02f,Add cloud-admin user to tripleoclient container,MERGED,2021-02-18 15:58:23.000000000,2021-03-01 20:49:29.000000000,2021-03-01 20:36:31.000000000,9,0,0,776485,db8ff0ae158edc549ac853687b1500325bb0f18b,tripleoclient-t,10,6,1,3,17216,Martin Schuppert,mcschupp,"Add cloud-admin user to tripleoclient container

osp-director-operator use tripleoclient pod to render the ansible
playbooks in an ephemeral heat stack. The cloud-admin user is also
used as default deployment user to run the ansible playbooks to
deploy the overcloud.

This also adds osc-placement to the container image which allows
to query placment direct using osc.

Change-Id: I38fe6419a6e18693adad79083a589f3a417de02f
(cherry picked from commit 24c311aab02b8e50b817bff4e008a0d8b32443ca)
(cherry picked from commit 4bac1cb80b4f5c216b2cc0eaab6112f3294a0b24)
(cherry picked from commit 090ff9b8ecd0e90fcfeba64b4f6794be72d1ae2b)
"
openstack%2Ftripleo-common~stable%2Fussuri~Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,openstack/tripleo-common,stable/ussuri,Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,Add python3-pymemcache to tcib,MERGED,2021-02-25 09:10:12.000000000,2021-03-01 20:49:27.000000000,2021-03-01 20:36:27.000000000,1,0,0,777536,a6d2607f37b2cd8d8ac92305a9eddb61f5a58f6a,memcached-cert-stable/victoria-stable/ussuri,13,4,1,1,14250,Grzegorz Grasza,xek,"Add python3-pymemcache to tcib

pymemcache is required by services connecting to
Memcached with TLS. pymemcache will also likely replace
python-memcached alltogether, because of it's lack of
maintenance.

see: https://review.opendev.org/761612
Change-Id: Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5
(cherry picked from commit ab387b6a35dd18640bb9f4701097432b6959d03a)
"
openstack%2Ftripleo-common~stable%2Fvictoria~Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,openstack/tripleo-common,stable/victoria,Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,Add python3-pymemcache to tcib,MERGED,2021-02-25 09:09:42.000000000,2021-03-01 20:47:15.000000000,2021-03-01 20:32:26.000000000,1,0,0,777335,24b7ac1e6b6ea4fd46d8d39f93fd2f0824855d4c,memcached-cert-stable/victoria,14,4,1,1,14250,Grzegorz Grasza,xek,"Add python3-pymemcache to tcib

pymemcache is required by services connecting to
Memcached with TLS. pymemcache will also likely replace
python-memcached alltogether, because of it's lack of
maintenance.

see: https://review.opendev.org/761612
Change-Id: Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5
(cherry picked from commit ab387b6a35dd18640bb9f4701097432b6959d03a)
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7,openstack/puppet-tripleo,stable/ussuri,I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7,Add authtoken security options,MERGED,2021-02-16 09:43:06.000000000,2021-03-01 20:46:58.000000000,2021-03-01 20:32:23.000000000,432,17,0,775783,17fdf05badae6f4ceb3b131e62232a97889973b0,memcached-cert-stable/ussuri,19,3,1,18,14250,Grzegorz Grasza,xek,"Add authtoken security options

Add ability to specify the memcache_security_strategy and
memcache_secret_key for keystone authtoken middleware.
The keys for individual services are hashed with a salt,
to isolate them.

Change-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7
(cherry picked from commit 59b54b6f46b2089b0480a276463f8d5d1de9f307)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I03e042b9684e6bdd8c277066776df23d2eb84ecd,openstack/tripleo-heat-templates,stable/victoria,I03e042b9684e6bdd8c277066776df23d2eb84ecd,Enabling 'cinder_use_multipath' if cinder multipath is enabled,MERGED,2021-02-16 06:20:58.000000000,2021-03-01 20:41:40.000000000,2021-03-01 20:41:40.000000000,5,0,0,775655,853f4a15ce442d47bd2dbf4afa19cacc1d950430,cinder-multipath-stable/victoria,10,3,1,1,19138,Pranali Deore,PranaliD,"Enabling 'cinder_use_multipath' if cinder multipath is enabled

Currently,'cinder_use_multipath' parameters' is disabled in glance-api.conf,
when cinder multipath is enabled.

Enabling 'cinder_use_multipath' when multipath is enabled.

Change-Id: I03e042b9684e6bdd8c277066776df23d2eb84ecd
(cherry picked from commit 4535e0f35630d718f5d5a25c91af629ffad95689)
"
openstack%2Fos-apply-config~stable%2Fqueens~Id10f028fda218d8a4fab0e391cbcd3aca6519253,openstack/os-apply-config,stable/queens,Id10f028fda218d8a4fab0e391cbcd3aca6519253,Remove tripleo-multinode-baremetal-minimal from zuul layout,MERGED,2021-02-25 09:53:08.000000000,2021-03-01 20:32:53.000000000,2021-03-01 20:32:53.000000000,0,1,0,777530,b8687b3a6b712bebfbd62452d6f27e0241f91b95,tripleo-ci-reduce,9,3,1,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-baremetal-minimal from zuul layout

The tripleo-multinode-baremetal-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Id10f028fda218d8a4fab0e391cbcd3aca6519253
"
openstack%2Fos-apply-config~stable%2Frocky~I9bd3b482492cb59d247193de71377611317b76b8,openstack/os-apply-config,stable/rocky,I9bd3b482492cb59d247193de71377611317b76b8,Remove tripleo-multinode-container|baremetal-minimal from layout,MERGED,2021-02-25 09:48:05.000000000,2021-03-01 20:32:49.000000000,2021-03-01 20:32:49.000000000,0,2,0,777525,c3da807b7c125a7386eb4c6c1a091bea25ceb581,tripleo-ci-reduce,8,3,1,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-container|baremetal-minimal from layout

The tripleo-multinode-container-minimal and -baremetal-minimal
templates are being deprecated [1] as part of wider tripleo CI
optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I9bd3b482492cb59d247193de71377611317b76b8
"
openstack%2Fos-apply-config~stable%2Fpike~I6715edd673b45dad6fba7d1987eac8677f61eaa2,openstack/os-apply-config,stable/pike,I6715edd673b45dad6fba7d1987eac8677f61eaa2,Remove tripleo-multinode-container|baremetal-minimal from layout,MERGED,2021-02-25 09:50:29.000000000,2021-03-01 20:32:33.000000000,2021-03-01 20:32:33.000000000,0,2,0,777527,1fcccb880e30522d66238b205a48d553a050c562,tripleo-ci-reduce,8,3,1,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-container|baremetal-minimal from layout

The tripleo-multinode-container-minimal and -baremetal-minimal
templates are being deprecated [1] as part of wider tripleo CI
optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I6715edd673b45dad6fba7d1987eac8677f61eaa2
"
openstack%2Fos-apply-config~stable%2Fstein~I10f106fb980acd04f6a220564c63494d8d84460d,openstack/os-apply-config,stable/stein,I10f106fb980acd04f6a220564c63494d8d84460d,Remove tripleo-multinode-container-minimal from zuul layout,MERGED,2021-02-25 09:45:32.000000000,2021-03-01 20:32:30.000000000,2021-03-01 20:32:30.000000000,0,1,0,777524,f76911c726483ed31b902ed02b49009dac14c5f5,tripleo-ci-reduce,8,3,1,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I10f106fb980acd04f6a220564c63494d8d84460d
"
openstack%2Fnova~master~I9135f37fe29a7f6ecf54a2c2c1019c17c9815404,openstack/nova,master,I9135f37fe29a7f6ecf54a2c2c1019c17c9815404,tests: Remove unnecessary mock,MERGED,2021-02-10 17:15:36.000000000,2021-03-01 19:49:34.000000000,2021-03-01 19:44:26.000000000,0,10,0,774905,b367cf114cdf825c83ada213233133362a6e5acf,bp/allow-secure-boot-for-qemu-kvm-guests,35,5,6,1,15334,Stephen Finucane,sfinucan,"tests: Remove unnecessary mock

This is already handled by the LibvirtFixture

Change-Id: I9135f37fe29a7f6ecf54a2c2c1019c17c9815404
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c,openstack/nova,master,I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c,tests: Add 'nova.virt.libvirt.utils.get_arch' stub to fixture,MERGED,2021-02-10 17:15:36.000000000,2021-03-01 19:47:28.000000000,2021-03-01 19:43:58.000000000,114,64,4,774904,1053ae0b61a6c253b5684096b96ccad7a39343ac,bp/allow-secure-boot-for-qemu-kvm-guests,37,4,6,4,15334,Stephen Finucane,sfinucan,"tests: Add 'nova.virt.libvirt.utils.get_arch' stub to fixture

By add this to the 'LibvirtFixture', we ensure virtually every test
that validates a libvirt thing will have this stubbed automatically.

Change-Id: I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstack-manuals~master~I10c45b4940491f795ab6c503bc0d2417310fd144,openstack/openstack-manuals,master,I10c45b4940491f795ab6c503bc0d2417310fd144,Redirect git-review docs to opendev,MERGED,2021-02-26 21:00:23.000000000,2021-03-01 19:40:23.000000000,2021-03-01 19:17:26.000000000,10,0,0,777828,c7cc19b436f986b0974f0c2bb121313c98626fe1,gitreview-2,10,2,1,2,5263,Jeremy Stanley,fungi,"Redirect git-review docs to opendev

The opendev/git-review projects has started publishing its
documentation on the docs.opendev.org site now, so install a
redirect from the former location for the sake of user continuity.

Change-Id: I10c45b4940491f795ab6c503bc0d2417310fd144
Depends-On: https://review.opendev.org/777799
"
openstack%2Fopenstack-helm-infra~master~I8c22fb3a7b0c6235e7179d96e32c1f160bf08ed2,openstack/openstack-helm-infra,master,I8c22fb3a7b0c6235e7179d96e32c1f160bf08ed2,Update ldap chart releasenotes to latest,MERGED,2021-03-01 02:37:24.000000000,2021-03-01 19:29:54.000000000,2021-03-01 19:28:05.000000000,1,0,1,777920,5dd9a25b28314a4ea0c14e03dab3180156eff3d4,,12,5,2,1,21420,Gage Hugo,ghugo,"Update ldap chart releasenotes to latest

This change updates the releasenotes for the ldap chart to the
latest version of the chart as of this patchset.

Change-Id: I8c22fb3a7b0c6235e7179d96e32c1f160bf08ed2
"
openstack%2Fswift~master~I57a8caa094c30d06fbedf0ef0eb0f070e6db5561,openstack/swift,master,I57a8caa094c30d06fbedf0ef0eb0f070e6db5561,Fixups for cors tests README,ABANDONED,2021-03-01 15:29:10.000000000,2021-03-01 19:09:40.000000000,,5,1,2,778010,51df9d09335b6bce90763c259627afcd95739fde,cors,6,2,2,1,7847,Alistair Coles,acoles,"Fixups for cors tests README

Change-Id: I57a8caa094c30d06fbedf0ef0eb0f070e6db5561
"
openstack%2Fswift~master~I8d6d6ada6c7a502b47060c0fecf9a13a81879baf,openstack/swift,master,I8d6d6ada6c7a502b47060c0fecf9a13a81879baf,s3api: reinstate underscores in access-control-expose-headers,ABANDONED,2021-03-01 11:38:17.000000000,2021-03-01 19:07:42.000000000,,25,8,1,777985,aeb2fa64f9d298ed8b66bdabe0592b9715eeb825,p-s3-underscores,7,2,3,3,7847,Alistair Coles,acoles,"s3api: reinstate underscores in access-control-expose-headers

s3api translate underscores in x-amz-meta- headers to '=5F' in
corresponding x-object-meta- headers for storage in swift. When
returning metadata headers the '=5F' is replaced with an
underscore. The same should be done when translating
access-control-expose-headers for an S3Response.

Change-Id: I8d6d6ada6c7a502b47060c0fecf9a13a81879baf
"
openstack%2Fkayobe~stable%2Fvictoria~I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28,openstack/kayobe,stable/victoria,I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28,Fix copying Swift ring files,MERGED,2021-02-03 14:01:07.000000000,2021-03-01 19:01:36.000000000,2021-03-01 18:58:16.000000000,25,9,0,773898,ed498331a7b6187d01f861462ccd1590d5cc7bed,story/2007297-stable/victoria,22,4,1,4,14826,Mark Goddard,mgoddard,"Fix copying Swift ring files

Ring files are binary formatted and should not be templated. Attempting
to template them causes an error such as the following:

    Template source files must be utf-8 encoded

This change fixes the issue by implementing support for configuration
files that are listed as 'untemplated'.

Change-Id: I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28
Story: 2007297
Task: 38774
(cherry picked from commit c847ef91572afa87a6d76b265c88db2d9e50ccb8)
"
openstack%2Fkayobe~master~Ia885a226de30d72610dca2eb2f194cef10193095,openstack/kayobe,master,Ia885a226de30d72610dca2eb2f194cef10193095,Quote kolla limit when calling kolla-ansible,MERGED,2021-01-21 15:54:58.000000000,2021-03-01 19:00:48.000000000,2021-03-01 18:58:44.000000000,8,3,0,771840,a1c9a8152508785d5babe4ed98eb6a743932a229,story/2008546,21,3,2,3,15197,Pierre Riteau,priteau,"Quote kolla limit when calling kolla-ansible

This is necessary for correctly passing limits containing special
characters such as ~ or &.

Change-Id: Ia885a226de30d72610dca2eb2f194cef10193095
Story: 2008546
Task: 41651
"
openstack%2Ftripleo-upgrade~master~I7fddac1876ea6b6f0043e9a9a76838f2db5ffff5,openstack/tripleo-upgrade,master,I7fddac1876ea6b6f0043e9a9a76838f2db5ffff5,[WIP] Test patch,ABANDONED,2021-02-24 11:08:25.000000000,2021-03-01 18:26:39.000000000,,1,0,0,777362,1b6ae204acd012372530becb0f020d16ca5010b5,test_branch,3,1,1,1,11090,Sergii Golovatiuk,holser,"[WIP] Test patch

Change-Id: I7fddac1876ea6b6f0043e9a9a76838f2db5ffff5
"
openstack%2Fcharm-deployment-guide~master~Ia30a9150c4b8182c098b2c41294aff5637659bb9,openstack/charm-deployment-guide,master,Ia30a9150c4b8182c098b2c41294aff5637659bb9,Add various improvements to OpenStack upgrades,MERGED,2021-02-27 02:26:33.000000000,2021-03-01 18:26:29.000000000,2021-03-01 18:24:50.000000000,24,19,0,777853,b076b6ddd965f52ba499c4113dc7d3b413cdee24,openstack-upgrades-and-packages,9,2,2,1,30561,Peter Matulis,pmatulis,"Add various improvements to OpenStack upgrades

Add some useful bits of information to the
upgrade-openstack page.

Refactor. Create a new section and reword a
little.

Change-Id: Ia30a9150c4b8182c098b2c41294aff5637659bb9
"
openstack%2Foslo.versionedobjects~stable%2Fussuri~I93ca2a3854dd521fbd199ac942653657d517468e,openstack/oslo.versionedobjects,stable/ussuri,I93ca2a3854dd521fbd199ac942653657d517468e,[stable] Fix a few pep8 failures,ABANDONED,2021-02-17 23:49:28.000000000,2021-03-01 18:13:29.000000000,,12,12,0,776295,2af78695db552f7f368ed30d105415fb118f08a6,native-zuulv3-migration,6,1,2,2,10459,Luigi Toscano,ltoscano,"[stable] Fix a few pep8 failures

Those errors have been workarounded in different commits in victoria
and later. Apply them here without bumping hacking&co
(i.e. implement the minimum required set of changes)

Change-Id: I93ca2a3854dd521fbd199ac942653657d517468e
"
openstack%2Fironic~master~Idc86d7b78854e0618f62c7e4c1a88670dc4561b0,openstack/ironic,master,Idc86d7b78854e0618f62c7e4c1a88670dc4561b0,Add support to manage certificates in iLO,MERGED,2020-10-30 14:58:56.000000000,2021-03-01 17:49:52.000000000,2021-03-01 17:47:00.000000000,423,11,81,760573,7d4c1214ffca486aca56aa6602a3bedb41f95baf,tls_config_work,71,9,13,5,18781,vinay50muddu,vmud213,"Add support to manage certificates in iLO

Adds methods to export and clear certificates on the node during node
provisioning. Also enables to implement clean/deploy steps for certificate
management through these APIs.

Change-Id: Idc86d7b78854e0618f62c7e4c1a88670dc4561b0
Story: #2008297
Task: #41182
"
openstack%2Fkayobe~master~I006d46954456cf30ce4e743fcbe9b2862d43dd01,openstack/kayobe,master,I006d46954456cf30ce4e743fcbe9b2862d43dd01,Ubuntu: support non-persistent veth configuration,MERGED,2021-01-07 13:45:40.000000000,2021-03-01 17:46:50.000000000,2021-03-01 17:44:04.000000000,86,42,0,769728,f9b02c8bf5d4cfe8ff29aac6181a38771f267037,story/2004960,15,3,1,3,14826,Mark Goddard,mgoddard,"Ubuntu: support non-persistent veth configuration

Adds support for veth patch pair configuration on Ubuntu. Currently this
is not persistent across reboots. This will need to be addressed once
the network configuration model is chosen for Ubuntu.

Change-Id: I006d46954456cf30ce4e743fcbe9b2862d43dd01
Story: 2004960
Task: 41545
"
openstack%2Fkayobe~master~Ib5462684fa5fd307068c67f9a13f73b80967beb4,openstack/kayobe,master,Ib5462684fa5fd307068c67f9a13f73b80967beb4,Ubuntu: fix pip configuration for kolla user,MERGED,2020-12-22 13:57:56.000000000,2021-03-01 17:45:40.000000000,2021-03-01 17:43:57.000000000,7,0,0,768206,50dddc3ace4c4c40e3d1680ddcceb789a47ae3fb,story/2004960,15,4,1,1,14826,Mark Goddard,mgoddard,"Ubuntu: fix pip configuration for kolla user

On Ubuntu, Kayobe can fail creating pip configuration for the kolla
user, with the following error:

    Failed to set permissions on the temporary files Ansible needs to
    create when becoming an unprivileged user

An earlier error seen with Ansible verbose mode shows that the setfacl
command is missing. It can be installed using the acl package, however
this is not always present in Ubuntu 20.04.

This change installs the acl package in the pip role.

Story: 2004960
Task: 41492

Change-Id: Ib5462684fa5fd307068c67f9a13f73b80967beb4
"
openstack%2Fproject-config~master~I2d8fa92c2e98481504709c08c319c8b5eb047460,openstack/project-config,master,I2d8fa92c2e98481504709c08c319c8b5eb047460,Allow all registered users to edit hashtags on all Zuul projects,MERGED,2021-03-01 15:40:09.000000000,2021-03-01 17:40:18.000000000,2021-03-01 17:23:35.000000000,6,0,0,778012,240d932b906a0abe11f60faf4e0eb1deb485379c,,15,5,2,6,1,James E. Blair,corvus,"Allow all registered users to edit hashtags on all Zuul projects

Hashtags are useful for organizing changes and facilitating searching.
Let's let any user set hashtags on changes to Zuul projects.

Change-Id: I2d8fa92c2e98481504709c08c319c8b5eb047460
"
openstack%2Foslo.rootwrap~stable%2Ftrain~Ibdc46d188a6025a42a6c7244cb0700563f56b3d1,openstack/oslo.rootwrap,stable/train,Ibdc46d188a6025a42a6c7244cb0700563f56b3d1,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-02-26 22:34:58.000000000,2021-03-01 17:39:17.000000000,2021-03-01 17:37:26.000000000,8,5,0,777842,f3e5c7727cdd17b70e04603011433088b0af1b5c,cap-bandit-1.6.2,9,3,1,3,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Contradicting hacking version replaced (in lower-constraints.txt to
match with test-requirements.txt), which pulls in newer flake8, too.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Ibdc46d188a6025a42a6c7244cb0700563f56b3d1
"
openstack%2Fironic~master~I8d7a06558cbf073487707fc33219e43beb5fc043,openstack/ironic,master,I8d7a06558cbf073487707fc33219e43beb5fc043,Update oslo.policy requirement to version 3.6.2,MERGED,2021-02-05 21:04:11.000000000,2021-03-01 17:28:16.000000000,2021-03-01 17:25:38.000000000,1,1,0,774307,94ba2641e338527f8b6f682540716fe883225fb9,,18,3,1,1,5046,Lance Bragstad,ldbragst,"Update oslo.policy requirement to version 3.6.2

This version of oslo.policy includes fixes that ensure the Enforcer only
modifies copies of the rules, making it safer in environments that run
tests in parallel where the Enforcer is configured differently.

Change-Id: I8d7a06558cbf073487707fc33219e43beb5fc043
"
openstack%2Fglance-specs~master~Ic11be7628535f87b9002b69f845150bd02b9f0d7,openstack/glance-specs,master,Ic11be7628535f87b9002b69f845150bd02b9f0d7,Distributed Image Import spec,MERGED,2021-02-04 16:02:14.000000000,2021-03-01 17:18:40.000000000,2021-03-01 17:16:51.000000000,245,0,13,774097,434abee27ecc8b5289701aa21d82bcb5195ad95d,bp/distributed-image-import,25,5,3,1,4393,Dan Smith,danms,"Distributed Image Import spec

As planned in the glance meeting today, this adds a new spec for
distributed image import, in total isolation, with a proposal to
start with the simple case and moving to use image location
metadata when available.

Change-Id: Ic11be7628535f87b9002b69f845150bd02b9f0d7
"
openstack%2Fnetworking-sfc~master~I25a7e1d47c267631ebcb8ce34876ccfd38007e03,openstack/networking-sfc,master,I25a7e1d47c267631ebcb8ce34876ccfd38007e03,Fix lower-constraints,MERGED,2021-02-15 12:53:41.000000000,2021-03-01 17:15:23.000000000,2021-03-01 17:13:36.000000000,50,45,1,775614,0eb06a29299264c7a5ca3c5ff0691715335d4385,l-c-fix,15,5,3,4,841,Akihiro Motoki,amotoki,"Fix lower-constraints

The latest pip resolver started to check requirements strictly
and it detects many inconsistencies in lower-constraints.txt.

The summary of changes in lower-constraints.txt are as below.

* Address inconsistencies detected by the pip resolver accordingly.
* os-xenapi in l-c is bumped to 0.3.4. os-xenapi 0.3.1 is incompatible
  in eventlet versions which neutron and other projects require.
  Note that neutron 17.0.0 says os-xenapi>=0.3.1 but wallaby neutron
  already bumped it to >=0.3.4 to pass the check by the new pip.
* Bump the minimum neutron requirement to 17.0.0 (victoria release)
  as the previous min version 13.0.0.0b2 is too old.
  Wallaby and Victoria neutron are not different much, so I think
  it is no problem to use the latest released version here.
  (This is mainly to narrow down the space which the pip resolver
   searchs and speed up the fix effort.)
* Minimum versions in requirements.txt and test-requirements.txt
  are updated accordingly.
* Drop linter-specific entries from lower-constraints.txt.
* Move linter dependencies to tox.ini. It is out of the outcomes
  in [1] and its thread. Note that we don't need isort explicitly
  as pylint now set a proper version including the upper limit.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019415.html

Change-Id: I25a7e1d47c267631ebcb8ce34876ccfd38007e03
"
openstack%2Fbifrost~master~If40f044a86cdde6d653bbfb441de53fb4071e390,openstack/bifrost,master,If40f044a86cdde6d653bbfb441de53fb4071e390,Make DHCP inventory handling more flexible,MERGED,2020-12-18 18:31:46.000000000,2021-03-01 17:00:52.000000000,2021-03-01 16:58:19.000000000,41,12,1,767929,fc7d10a49be62808dfba887e33ddff2befaf41f2,inventory,11,3,2,4,10239,Dmitry Tantsur,dtantsur,"Make DHCP inventory handling more flexible

Configure a hostsdir even when inventory_dhcp is false, so that
a deployment can use a mixed approach.

Stop creating an unused additional DNS hostsdir by default since
we disable DNS by default. While we're here, rename
disable_dnsmasq_dns -> ! dnsmasq_enable_dns for consistency.

Change-Id: If40f044a86cdde6d653bbfb441de53fb4071e390
"
openstack%2Fmanila~master~I5fef50a17bc72ba66a3a9d6f786742bcb5745d7b,openstack/manila,master,I5fef50a17bc72ba66a3a9d6f786742bcb5745d7b,[NetApp] Fix deepcopy of sqlalchemy objects inside the driver,MERGED,2021-02-26 16:32:06.000000000,2021-03-01 16:59:36.000000000,2021-03-01 16:54:45.000000000,12,12,0,777770,1269a8669d96a8088b0b91821bd59a6291fe693b,fix_detachedinstance_error,17,3,1,3,30002,Douglas Viroel,dviroel,"[NetApp] Fix deepcopy of sqlalchemy objects inside the driver

This patch fix a sqlalchemy object copy made in the driver
that can raise a 'DetachedInstanceError' exception, depending on
changes made in the DB model. A simple copy is being made instead, to
have a new share object with share server information inside it.

Change-Id: I5fef50a17bc72ba66a3a9d6f786742bcb5745d7b
Signed-off-by: Douglas Viroel <viroel@gmail.com>
"
openstack%2Fcinder-tempest-plugin~master~Iac0aefff7a2277e1d3a36d8943e285a226a6830f,openstack/cinder-tempest-plugin,master,Iac0aefff7a2277e1d3a36d8943e285a226a6830f,Wait for CG to be available before creating volume in the CG,MERGED,2020-09-28 09:11:09.000000000,2021-03-01 16:57:40.000000000,2021-03-01 16:57:40.000000000,32,32,0,754660,4f00e9f52b07b77f50aed1c6cfc59440da4f8294,bug/1897532,20,8,2,1,14624,Sam Wan,samwan,"Wait for CG to be available before creating volume in the CG

The test cases should wait for CG to be available first before moving to
create volume in the CG.

Change-Id: Iac0aefff7a2277e1d3a36d8943e285a226a6830f
Closes-Bug: #1897532
"
openstack%2Fi18n~master~I83f38fd673456e0d1179c50d9df903e16b01bd5f,openstack/i18n,master,I83f38fd673456e0d1179c50d9df903e16b01bd5f,Document tips on debugging translation job scripts,MERGED,2021-02-04 00:15:08.000000000,2021-03-01 16:56:28.000000000,2021-03-01 16:38:16.000000000,158,0,8,774017,78a21fa83087f39fe8deea00e872f0f2408c29a8,debug-job-scripts,16,3,2,3,841,Akihiro Motoki,amotoki,"Document tips on debugging translation job scripts

The need for this information is rare but when I develop
the translation job scripts I always research the same thing
so it is useful at least for me.

Change-Id: I83f38fd673456e0d1179c50d9df903e16b01bd5f
"
openstack%2Fpython-blazarclient~master~I692abac2bf1fe118c27af043e71f315c8354c8a0,openstack/python-blazarclient,master,I692abac2bf1fe118c27af043e71f315c8354c8a0,Use unittest.mock instead of third party mock,MERGED,2020-04-18 16:57:43.000000000,2021-03-01 16:56:20.000000000,2021-03-01 16:40:26.000000000,6,7,0,720976,d2503ab47633c8a4c3c229e3deaff0d95803a6fd,unittest.mock,20,2,5,7,11904,Sean McGinnis,SeanM,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I692abac2bf1fe118c27af043e71f315c8354c8a0
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fpuppet-swift~master~I0dd121bf866fde715756a6c7c10e6153e17c5d2c,openstack/puppet-swift,master,I0dd121bf866fde715756a6c7c10e6153e17c5d2c,Add support for the listing_formats middleware,MERGED,2021-02-21 09:50:50.000000000,2021-03-01 16:56:08.000000000,2021-03-01 16:39:22.000000000,51,0,1,776826,68a8d47cf7a9bd4918397c07731bc33423b235c0,proxy-pipeline,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for the listing_formats middleware

Change-Id: I0dd121bf866fde715756a6c7c10e6153e17c5d2c
"
openstack%2Fbifrost~master~I300828d54af78ef4843094ff231652adc4566aa0,openstack/bifrost,master,I300828d54af78ef4843094ff231652adc4566aa0,Add basic upgrade jobs,MERGED,2020-09-08 14:51:35.000000000,2021-03-01 16:55:51.000000000,2021-03-01 16:37:11.000000000,60,0,1,750376,abf7d3fcb360b5f16b33fb59d5be73878ca1c5ce,upgrade,38,3,16,3,10239,Dmitry Tantsur,dtantsur,"Add basic upgrade jobs

The CI scripts install Bifrost on old stable, test it, then
do the same on master.

Change-Id: I300828d54af78ef4843094ff231652adc4566aa0
"
openstack%2Foslo.versionedobjects~stable%2Fussuri~Ia209311d57f607b2ddfcab8518264cd7f670dc8f,openstack/oslo.versionedobjects,stable/ussuri,Ia209311d57f607b2ddfcab8518264cd7f670dc8f,zuul: port the legacy multinode grenade job,MERGED,2020-08-17 13:28:18.000000000,2021-03-01 16:55:37.000000000,2021-03-01 16:25:22.000000000,4,78,0,746506,0756920f742b4024869f9f359794d9ba82ec2a8f,native-zuulv3-migration,19,5,4,3,10459,Luigi Toscano,ltoscano,"zuul: port the legacy multinode grenade job

Make it a native Zuul v3 job.
It is a simple variant of the base 'grenade-multinode' job
where oslo.versionedobjects is installed from source instead of pip.

Also use a slightly more common name by dropping the ""-devstack""
component from the name (all grenade jobs are also devstack jobs).

Finally, remove the hardcoded xenial nodeset, thus inheriting the
default testing definition for it, and probably unbreaking
the job which has been failing so far.

Change-Id: Ia209311d57f607b2ddfcab8518264cd7f670dc8f
(cherry picked from commit 9d67d0ff95d572d2a27cd50774b81b3eec4882df)
"
openstack%2Fglance~master~Idd1f3b84fa5af7d432411055c2a9641c3ce98abd,openstack/glance,master,Idd1f3b84fa5af7d432411055c2a9641c3ce98abd,Take new staging columns in use,ABANDONED,2021-02-26 14:27:48.000000000,2021-03-01 16:54:23.000000000,,140,27,0,777756,560f8abb8043d1b28a1b860928a78255e080d0e0,feature_dist_import_func,3,1,1,9,5202,Erno Kuvaja,jokke,"Take new staging columns in use

Change-Id: Idd1f3b84fa5af7d432411055c2a9641c3ce98abd
"
openstack%2Fglance~master~I5bd407de2ca7ec1f0a276c5f4e6f3da73f1d422f,openstack/glance,master,I5bd407de2ca7ec1f0a276c5f4e6f3da73f1d422f,Add get_ksa_client() helper,ABANDONED,2021-02-22 22:41:12.000000000,2021-03-01 16:53:13.000000000,,45,0,0,777017,7454e969323bc0b0c0bc07942fcddb184e7a0c63,feature_dist_import_func,10,2,2,2,5202,Erno Kuvaja,jokke,"Add get_ksa_client() helper

This adds a method in glance.context that will give us a
keystoneauth1 client, authorized with the user's token, suitable for
calling directly to other services.

This is copy of
https://review.opendev.org/c/openstack/glance/+/770682 for keeping
Dan's original chain intact as requested.

Related to blueprint distributed-image-import

Change-Id: I5bd407de2ca7ec1f0a276c5f4e6f3da73f1d422f
"
openstack%2Fglance~master~I50f88d0eeaa54d9857e8a7e30326bc4013928be6,openstack/glance,master,I50f88d0eeaa54d9857e8a7e30326bc4013928be6,WIP: Staging refactor,ABANDONED,2021-02-22 22:41:12.000000000,2021-03-01 16:52:55.000000000,,447,505,68,777018,c7bd3835992fd32985bf0236f3e4c00357c1284c,feature_dist_import_func,22,2,5,19,5202,Erno Kuvaja,jokke,"WIP: Staging refactor

This change is to address old technical debt by refactoring the
staging used related to Interoperable Image Import to utilize
locations mechanisms to track the user staging data through the
process.

Handling of ""staging_host"" location metadata as preparation for
Distributed Image Import that needs to track the host where user
image data is being staged to avoid the shared filesystem between
service nodes.

Hiding the ""staging_host"" from API user and never selecting
staging loction as direct_url provided by the API.

Hiding the staging_host details from the output is tested on the
folowing change that implements the actual value for it.

To be addressed before merging:
Removing or refactoring tests skipped as ""Irrelevant?"", likely
so due to the code they were testing been removed from said
modules.
Fixing tests skipped as ""BROKEN, needs eyes"" that are broken
relying the code they were testing being in the module and mocking
the rest.

Change-Id: I50f88d0eeaa54d9857e8a7e30326bc4013928be6
"
openstack%2Fglance~master~I1b694011a3a3bdd2698fcaac885b4cdf455d1049,openstack/glance,master,I1b694011a3a3bdd2698fcaac885b4cdf455d1049,Distributed image import,ABANDONED,2021-02-23 18:30:46.000000000,2021-03-01 16:52:28.000000000,,652,10,12,777183,ec9de83e4665a3dbdd75b4f89d642451fe431688,feature_dist_import_func,14,4,2,11,5202,Erno Kuvaja,jokke,"Distributed image import

This implements distributed image import support, which addresses
the problem when one API worker has staged the image and another
receives the import request.

The general approach is that when a worker stages the image, it's
direct_access_url gets recorded into the location metadata.  When
the import request comes in, any other host will proxy that HTTP
request direct to the original host instead of trying to do the import
itself.

This is refctored copy of
https://review.opendev.org/c/openstack/glance/+/769976 as requested to
keep Dan's original chain intact.

Co-Authored-by: Erno Kuvaja <jokke@usr.fi>
Change-Id: I1b694011a3a3bdd2698fcaac885b4cdf455d1049
Implements: blueprint distributed-image-import
"
openstack%2Fglance~master~Ie89838a87adfff846a284cc7582e50853f02c007,openstack/glance,master,Ie89838a87adfff846a284cc7582e50853f02c007,Add staging and staging_host columns into image_locations,ABANDONED,2021-02-26 14:27:48.000000000,2021-03-01 16:51:13.000000000,,146,2,8,777755,f71f4d4b9232adb8be3313afea35712c921b7cee,feature_dist_import_func,10,3,1,6,5202,Erno Kuvaja,jokke,"Add staging and staging_host columns into image_locations

Change-Id: Ie89838a87adfff846a284cc7582e50853f02c007
"
openstack%2Foslo.versionedobjects~stable%2Fussuri~Ied61e65006ad54803453776e763594e216be1353,openstack/oslo.versionedobjects,stable/ussuri,Ied61e65006ad54803453776e763594e216be1353,Dropping lower constraints testing,MERGED,2021-02-19 09:51:20.000000000,2021-03-01 16:46:26.000000000,2021-03-01 16:25:03.000000000,12,93,3,776594,3b51947c36bed64225ccbcf79738e610e19a9df3,oslo_lc_drop,13,3,2,5,10459,Luigi Toscano,ltoscano,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

This change includes a backport of I2baa6d318cdbbf86da86cc94171cc7714dbdba3a
which removes the lower-constraints.txt file and its references, and
which completes this change, as suggested by hberaud.

This change also includes a few PEP8 fixes which are branch-specific
and which have been workarounded from victoria onwards.
The fixes don't bump hacking&co (i.e. just a minimal set of changes).

Conflicts:
        .zuul.yaml
        lower-constraints.txt
They come from the change in the version-specific job template for unit tests,
and a few version-specific changes in lower-contraints.txt.

Change-Id: Ied61e65006ad54803453776e763594e216be1353
(cherry picked from commit e8062fc9e3e6b43c426bdba1d8425ee8635ba976)
(cherry picked from commit 8b3deb7b5adfed68b2f2d742743383f5f8503e82)
"
openstack%2Fnova~master~I1b6be3eb61f3e21da69a42ea32a19ce373b0a898,openstack/nova,master,I1b6be3eb61f3e21da69a42ea32a19ce373b0a898,apidb: Compact Mitaka database migrations,MERGED,2020-10-23 11:42:17.000000000,2021-03-01 16:31:07.000000000,2021-03-01 16:23:32.000000000,192,379,0,759400,d2449232bd34f4f7a7cb3cb6a3523924624a0a31,bp/compact-db-migrations-wallaby,71,11,3,8,15334,Stephen Finucane,sfinucan,"apidb: Compact Mitaka database migrations

Specific changes include:

- Add 'request_specs' table (004)
- Add 'flavors', 'flavor_extra_specs' and 'flavor_projects' tables (005)
- Add 'build_requests' table (006)
- Alter 'cell_id' column of 'instance_mappings' table to be nullable
  (007)

Change-Id: I1b6be3eb61f3e21da69a42ea32a19ce373b0a898
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fpython-blazarclient~master~Ieb26af07da0c4084fb8c4ea2c4d461eb5595f583,openstack/python-blazarclient,master,Ieb26af07da0c4084fb8c4ea2c4d461eb5595f583,Remove use of mock.seal(),MERGED,2021-02-23 14:11:38.000000000,2021-03-01 16:30:39.000000000,2021-03-01 16:30:39.000000000,0,4,0,777114,1db6cb37c6b32c6b3b664fedccd814bb79c1c044,,7,3,1,1,15197,Pierre Riteau,priteau,"Remove use of mock.seal()

The seal function was introduced in unittest.mock in Python 3.7. It is
preventing us from using unittest.mock instead of mock.

We can restore it when the minimum runtime is Python 3.7 or later.

Change-Id: Ieb26af07da0c4084fb8c4ea2c4d461eb5595f583
"
openstack%2Fkolla~master~Ic8b427893b0d865bc3757598eb7a514854f898c2,openstack/kolla,master,Ic8b427893b0d865bc3757598eb7a514854f898c2,neutron-server: stop pinning networking-hyperv,ABANDONED,2021-03-01 13:16:51.000000000,2021-03-01 16:27:30.000000000,,1,1,0,777993,412f15ccba07b3a1186526ae6db917d9724b0a3e,,4,0,1,1,24072,Marcin Juszkiewicz,hrw,"neutron-server: stop pinning networking-hyperv

Pike release was long time ago so maybe it is time to unpin it?

commit 6dc8e978462fd08122133e273ae956721997d3af
Author: Dan Ardelean <dardelean@cloudbasesolutions.com>
Date:   Mon Aug 28 12:56:25 2017 +0300

    Change networking-hyperv version for Pike

Change-Id: Ic8b427893b0d865bc3757598eb7a514854f898c2
"
openstack%2Foslo.versionedobjects~stable%2Fvictoria~Ied61e65006ad54803453776e763594e216be1353,openstack/oslo.versionedobjects,stable/victoria,Ied61e65006ad54803453776e763594e216be1353,Dropping lower constraints testing,MERGED,2021-02-19 09:48:41.000000000,2021-03-01 16:22:22.000000000,2021-03-01 16:09:50.000000000,0,76,0,776593,8b3deb7b5adfed68b2f2d742743383f5f8503e82,oslo_lc_drop,12,3,2,3,10459,Luigi Toscano,ltoscano,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

This change includes a backport of I2baa6d318cdbbf86da86cc94171cc7714dbdba3a
which removes the lower-constraints.txt file and its references, and
which completes this change, as suggested by hberaud.

Conflicts:
        .zuul.yaml
        lower-constraints.txt
They come from the change in the version-specific job template for unit tests,
and a few version-specific changes in lower-contraints.txt.

Change-Id: Ied61e65006ad54803453776e763594e216be1353
(cherry picked from commit e8062fc9e3e6b43c426bdba1d8425ee8635ba976)
"
openstack%2Fsushy-tools~master~Ica78dab39639d7acb2168866b0035f9c3d865fa1,openstack/sushy-tools,master,Ica78dab39639d7acb2168866b0035f9c3d865fa1,New option to prevent libvirt defining boot order,MERGED,2021-02-19 15:31:57.000000000,2021-03-01 16:09:08.000000000,2021-03-01 14:37:53.000000000,54,9,0,776660,02b451b500f19fbb3f9d3617f2e703974c054198,,18,6,2,3,1926,Derek Higgins,derekh,"New option to prevent libvirt defining boot order

Add a new config option ""SUSHY_EMULATOR_IGNORE_BOOT_DEVICE"".
Instructs the libvirt driver to ignore any instructions to
set the boot device. Allowing the UEFI firmware to instead
rely on the EFI Boot Manager

Change-Id: Ica78dab39639d7acb2168866b0035f9c3d865fa1
"
openstack%2Fkolla-ansible~master~I9ce8c01ff7c62ed15d872038229013ec8e301b04,openstack/kolla-ansible,master,I9ce8c01ff7c62ed15d872038229013ec8e301b04,[DNM] test swift deploy 1,ABANDONED,2021-02-25 19:25:26.000000000,2021-03-01 16:08:01.000000000,,2,2,0,777656,1c682c2b40c9e271fd82eca5ae0dd75216f78825,swift-s3api-test,7,1,2,1,14200,Maksim Malchuk,mmalchuk,"[DNM] test swift deploy 1

Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
Change-Id: I9ce8c01ff7c62ed15d872038229013ec8e301b04
(cherry picked from commit 64e4d37dd0f490eabea41f0672c637604e797851)
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
"
openstack%2Fopenstack-helm-infra~master~Idd4180993775807ebcef3e7879afb2f8ab42148c,openstack/openstack-helm-infra,master,Idd4180993775807ebcef3e7879afb2f8ab42148c,Update elasticsearch chart releasenotes to latest,MERGED,2021-02-26 01:04:32.000000000,2021-03-01 16:07:38.000000000,2021-03-01 16:05:02.000000000,1,0,0,777703,ab4989fd176d0171eb86784b17fcd1d98ec81a3b,elasticsearch-reno,9,4,1,1,30449,jinyuanliu,jinyuanliu,"Update elasticsearch chart releasenotes to latest

This change updates the releasenotes for the elasticsearch chart to the latest version of the chart as of this patchset.

Change-Id: Idd4180993775807ebcef3e7879afb2f8ab42148c
"
openstack%2Foslo.messaging~stable%2Fvictoria~Id5cddbefbe24ef100f1cc522f44430df77d217cb,openstack/oslo.messaging,stable/victoria,Id5cddbefbe24ef100f1cc522f44430df77d217cb,Correctly handle missing RabbitMQ queues,MERGED,2021-02-18 10:47:17.000000000,2021-03-01 16:04:11.000000000,2021-03-01 16:01:27.000000000,60,23,0,776418,391ce7fc69adc8d713d8ca64e76d901eb3e65df1,backport-mandatory-to-victoria,10,3,1,4,28522,Hervé Beraud,hberaud,"Correctly handle missing RabbitMQ queues

Currently, setting the '[oslo_messaging] direct_mandatory_flag' config
option to 'True' (the default) will result in a 'MessageUndeliverable'
exception being raised when sending a reply if a RabbitMQ queue is
missing [1]. It was the responsibility of the application to handle
this exception, however, many applications are not doing so. This has
resulted in a number of bug reports.

Start handling this error condition, using a retry loop to attempt to
resend the message and work around any temporary glitches. Since
attempting to send a reply will will no longer raise an exception,
there is little benefit in retaining the '[oslo_messaging]
direct_mandatory_flag' config option: users setting this to False will
simply not benefit from the retry logic and improved logging added
here. This option is already deprecated though and will be fully
removed in a future release.

[1] https://www.rabbitmq.com/channels.html

Change-Id: Id5cddbefbe24ef100f1cc522f44430df77d217cb
Closes-Bug: #1905965
(cherry picked from commit 4937949dffecdf8863a7876e5a6b0b18e811c3ac)
"
openstack%2Fmagnum~stable%2Fvictoria~I51659c6e179d7e4e2cfc5be46348fac483d76e3b,openstack/magnum,stable/victoria,I51659c6e179d7e4e2cfc5be46348fac483d76e3b,Do not create constraints for boolean fields,MERGED,2021-03-01 11:54:42.000000000,2021-03-01 15:53:54.000000000,2021-03-01 15:52:06.000000000,38,15,2,777910,210984fa264af876201b0099a8b7153fa09c5856,story/2008488,13,4,4,13,28022,Bharat Kunwar,brtknr,"Do not create constraints for boolean fields

On mysql 8, Boolean fields create constraints which later
make it impossible to alter the name of the column.
See: https://github.com/sqlalchemy/alembic/issues/699

Per upstream alembic recommendation, do not create constraints
explicitly.
https://github.com/sqlalchemy/alembic/issues/699#issuecomment-760983057

story: 2008488
task: 41537

Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit bcf771bc6f165f8c364637b1055c6545d78c17bb)

Fix database migrations

The pattern of adding a column and then reading a table with it
no longer works in SQLAlchemy 1.3.20. This has been reported
upstream [1].

[1] https://github.com/sqlalchemy/sqlalchemy/issues/5669

squashed with: I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b
(cherry picked from commit f5cf6b958c20e560d2baff3fb21adcb4ce4a3aa4)

Change-Id: I51659c6e179d7e4e2cfc5be46348fac483d76e3b
"
openstack%2Fcharm-swift-storage~master~I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470,openstack/charm-swift-storage,master,I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470,Fix swift replication errors,MERGED,2020-12-02 15:32:44.000000000,2021-03-01 15:51:27.000000000,2021-03-01 15:51:27.000000000,30,11,21,765158,4337b753f5899377b93258f2a631b394fde221cd,bug/1903762,43,5,9,5,10058,Erlon R. Cruz,sombrafam,"Fix swift replication errors

There are several errors related to the swift replication service.
The swift storage charm is not properly restarting the services
after configuration changes, the correct object_lockup_timeout
value (that per the behaviour observerd in our environments must
be greater than object_rsync_timeout) and we also needed to fix
the object replicator config file to honor the
object-handoffs-first configuration.

This patch along with the swift proxy-change should fix the
currently known replication problems.

Closes-bug: #1903762
Depends-on: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0
Change-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470
"
openstack%2Fsushy~master~Id35d5b3c1d09718d05f6b2e470412d76d60b5198,openstack/sushy,master,Id35d5b3c1d09718d05f6b2e470412d76d60b5198,Initial support for secure boot databases,MERGED,2021-02-01 14:04:15.000000000,2021-03-01 15:45:54.000000000,2021-03-01 15:43:07.000000000,395,3,0,773397,4abea1879fb2296b42590b2235a219e5f0a81d76,secure-boot,9,3,1,9,10239,Dmitry Tantsur,dtantsur,"Initial support for secure boot databases

Change-Id: Id35d5b3c1d09718d05f6b2e470412d76d60b5198
"
openstack%2Fcharm-swift-proxy~master~I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0,openstack/charm-swift-proxy,master,I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0,Fix swift port replication configuration,MERGED,2020-12-02 15:35:37.000000000,2021-03-01 15:42:38.000000000,2021-03-01 14:25:27.000000000,166,18,23,765161,498d3b0f1e8e3627de50ed44ab7793af595f4b0e,bug/1903762,68,6,14,2,10058,Erlon R. Cruz,sombrafam,"Fix swift port replication configuration

Port replication configs are not being set into the ring files.
When replication port configs
(account|container|object)-server-port-rep, are changed in the
swift-storage charm, swift-storage changes the related configs in
the config files, but that does not update the rings.

This patch adds a function that runs in every config-change
triggered from the swift-storage nodes and make sure any replication
config is written to the ring and distributed to all nodes.

Partial-bug: #1903762
Change-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0
"
openstack%2Fpython-ironicclient~master~Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a,openstack/python-ironicclient,master,Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a,Add tests for 'baremetal port create' command,MERGED,2016-06-22 15:45:14.000000000,2021-03-01 15:39:03.000000000,2021-03-01 15:35:15.000000000,75,0,9,332880,f8af1df9e6891d2a676378e433a1d8c363e072e2,bug/1566329,73,8,25,1,14614,Kyrylo Romanenko,kromanenko,"Add tests for 'baremetal port create' command

Add tests for options:
    --extra
    --pxe-enabled
    --local-link-connection

Change-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a
Partial-Bug: #1566329
"
openstack%2Fironic-lib~master~I743ce53d5e5d82401173eb7189e90531f3ee138e,openstack/ironic-lib,master,I743ce53d5e5d82401173eb7189e90531f3ee138e,Explicit execute arguments,MERGED,2021-02-25 14:00:44.000000000,2021-03-01 15:38:15.000000000,2021-03-01 15:34:49.000000000,3,9,0,777594,0ae0ca98dc605fb495bb1679a229ee1edad52bdf,explicit-execute-args,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Explicit execute arguments

The use_standard_locale and log_stdout arguments are not passed to
processutils.execute, they should be keyword arguments of the execute
function.

Change-Id: I743ce53d5e5d82401173eb7189e90531f3ee138e
"
openstack%2Fvalidations-libs~master~I293d5971457d35bc192bc9c21920681130f39bcc,openstack/validations-libs,master,I293d5971457d35bc192bc9c21920681130f39bcc,Remove the condition to check the groups.,ABANDONED,2021-03-01 15:32:40.000000000,2021-03-01 15:35:09.000000000,,0,13,0,778011,a539defb00121cc6b01b8b72eab16a532eefb8f1,remove_group_condition,2,0,1,2,31245,Daniel Bengtsson,damani42,"Remove the condition to check the groups.

We added this condition because we met this error on osp 16:

Traceback (most recent call last):
  File ""/usr/lib/python3.6/site-packages/tripleoclient/command.py"", line 32, in run
    super(Command, self).run(parsed_args)
  File ""/usr/lib/python3.6/site-packages/osc_lib/command/command.py"", line 41, in run
    return super(Command, self).run(parsed_args)
  File ""/usr/lib/python3.6/site-packages/cliff/display.py"", line 116, in run
    column_names, data = self.take_action(parsed_args)
  File ""/usr/lib/python3.6/site-packages/tripleoclient/v1/tripleo_validator.py"", line 77, in take_action
    return actions.group_information(GROUP_FILE)
  File ""/usr/lib/python3.6/site-packages/validations_libs/validation_actions.py"", line 156, in group_information
    self.validation_path, gp[0])
  File ""/usr/lib/python3.6/site-packages/validations_libs/utils.py"", line 62, in parse_all_validations_on_disk
    if not groups or set(groups).intersection(val.groups):
TypeError: 'NoneType' object is not iterable

But it's not anymore necessary, because now the property groups return
an empty list by default if it's not defined. To fix this patch[1] in
the tripleo-upgrade

[1] https://review.opendev.org/c/openstack/tripleo-upgrade/+/773181
Change-Id: Ib11fd1b829bd56c19f82081d53440b4dd8237f3f

Change-Id: I293d5971457d35bc192bc9c21920681130f39bcc
"
openstack%2Fkayobe~master~I87b63966b55f04f80fd0255fbf2732d527732187,openstack/kayobe,master,I87b63966b55f04f80fd0255fbf2732d527732187,Revert ironic custom configuration,MERGED,2021-02-26 08:58:01.000000000,2021-03-01 15:24:04.000000000,2021-03-01 15:22:12.000000000,0,13,0,777727,5af7cac17ea72ff46da85d4c8bcdf373db91c768,,8,2,1,2,15197,Pierre Riteau,priteau,"Revert ironic custom configuration

This is now merged into kayobe-config-dev [1].

[1] https://review.opendev.org/c/openstack/kayobe-config-dev/+/777076

Change-Id: I87b63966b55f04f80fd0255fbf2732d527732187
"
openstack%2Fsushy~master~I1b14bb1eddbf6eff82b0bd06e36c667bcaaf217d,openstack/sushy,master,I1b14bb1eddbf6eff82b0bd06e36c667bcaaf217d,Follow up TaskMonitor refactor,MERGED,2021-02-26 09:50:50.000000000,2021-03-01 15:24:03.000000000,2021-03-01 15:21:44.000000000,88,28,0,777733,375b29b87f0251aa43752c15855c929bd4e1b9ec,task-mon-fwu,10,4,1,5,27909,Aija Jauntēva,ajya,"Follow up TaskMonitor refactor

Follow up to change Idd4158d87d27b6358c6d7a2a7183427a494ee384

Add wait method.
Rename TaskMonitor.get_task_monitor to TaskMonitor.from_response

Change-Id: I1b14bb1eddbf6eff82b0bd06e36c667bcaaf217d
"
openstack%2Fneutron~stable%2Fvictoria~Ie97cfe9fe0020929d9a1736d55ad92a5bd643072,openstack/neutron,stable/victoria,Ie97cfe9fe0020929d9a1736d55ad92a5bd643072,[L3HA] Bind metadata haproxy to IPv6 address if IPv6 is enabled,MERGED,2021-02-19 15:29:57.000000000,2021-03-01 15:09:25.000000000,2021-03-01 15:07:23.000000000,5,1,1,776618,3452b41bf034f84e8f53eb3e61df2eb81b58be34,bug/1915495-stable/victoria,28,6,1,1,11975,Slawek Kaplonski,slaweq,"[L3HA] Bind metadata haproxy to IPv6 address if IPv6 is enabled

Patch [1] added possibility that haproxy spawned as metadata proxy in
the router's namespace can be bound to IPv6 address.
We misssed to add the same for the HA router, so when router was
switched to be active on the node, L3 agent starts haproxy for that
router but it was always bound to IPv4 address only.
That patch fixes it by adding check if IPv6 is enabled on host, and if
yes, it adds same config to the haproxy like it is in non-ha mode.

[1] https://review.opendev.org/c/openstack/neutron/+/715483

Closes-Bug: #1915495
Change-Id: Ie97cfe9fe0020929d9a1736d55ad92a5bd643072
(cherry picked from commit ce8361a66744539bebdae6b750c4fa437f203ca0)
"
openstack%2Fcharm-neutron-gateway~master~I5f36d39a80598f8cbef1c5f621d838f27227a10a,openstack/charm-neutron-gateway,master,I5f36d39a80598f8cbef1c5f621d838f27227a10a,Prune gate tests,MERGED,2021-02-20 00:03:22.000000000,2021-03-01 15:08:13.000000000,2021-03-01 15:08:13.000000000,6,4,0,776753,6d3cb905ae077eb2bfaf69a11944e6e44effff94,charms/gate-reduction,15,3,2,1,8992,Billy Olsen,billy-olsen,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I5f36d39a80598f8cbef1c5f621d838f27227a10a
"
openstack%2Fopenstack-ansible~master~Ic628788e2f9b437a275b01d8721b75c76ed91acb,openstack/openstack-ansible,master,Ic628788e2f9b437a275b01d8721b75c76ed91acb,scripts-library: simplify ara setup,MERGED,2021-02-25 22:26:57.000000000,2021-03-01 15:03:57.000000000,2021-03-01 15:02:02.000000000,3,12,0,777696,967c5d4e2ac59400f5494eba1704c430a163ed84,,8,3,1,1,9061,David Moreau Simard,dmsimard,"scripts-library: simplify ara setup

The intent was to be able to test easily with Depends-On patches with a
repository prepared by Zuul but ara is being retired from
opendev.org/recordsansible/ara and will no longer be available at that location.

Change-Id: Ic628788e2f9b437a275b01d8721b75c76ed91acb
"
openstack%2Foctavia~stable%2Fussuri~If165e995a8b61d8a8ed6bc0c4dd036af0c55c6e0,openstack/octavia,stable/ussuri,If165e995a8b61d8a8ed6bc0c4dd036af0c55c6e0,Fix AttributeError on TLS-enabled pool provisioning,MERGED,2020-09-24 14:11:25.000000000,2021-03-01 14:56:30.000000000,2021-03-01 14:54:14.000000000,24,14,2,754107,a053d7c3d9519d71b38492ddd09343efc03c6b1c,,28,5,3,4,6469,Carlos Gonçalves,cgoncalves,"Fix AttributeError on TLS-enabled pool provisioning

This patch fixes an hidden AttributeError exception in the HAProxy
driver when adding TLS-enabled pools to listeners.

Task: 40895
Story: 2008150

Change-Id: If165e995a8b61d8a8ed6bc0c4dd036af0c55c6e0
(cherry picked from commit a6a4001f5739e124a0ea9abb0f064a89e4ba5aae)
"
openstack%2Fopenstack-ansible-os_horizon~master~Ia8eca0c54079f96f1160ac88670392794e7f747a,openstack/openstack-ansible-os_horizon,master,Ia8eca0c54079f96f1160ac88670392794e7f747a,Use ansible_facts[] instead of fact variables,MERGED,2021-02-25 18:59:32.000000000,2021-03-01 14:50:30.000000000,2021-03-01 14:48:48.000000000,22,22,0,777651,9c8062fb512bfb14eb5b0337086c6e42c4a7d53f,osa-facts,11,3,2,10,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Ia8eca0c54079f96f1160ac88670392794e7f747a
"
openstack%2Fglance_store~master~Ie278638466c3848c18cc353d966d2275370eaca0,openstack/glance_store,master,Ie278638466c3848c18cc353d966d2275370eaca0,Wallaby cycle Release Notes,MERGED,2021-03-01 07:18:40.000000000,2021-03-01 14:41:19.000000000,2021-03-01 14:38:50.000000000,10,0,0,777933,bfbea18d8774cb99a9d0a8949b962190c74aa9ad,wallaby-releasenotes,8,3,1,1,9303,Abhishek Kekane,abhishekkekane,"Wallaby cycle Release Notes

Change-Id: Ie278638466c3848c18cc353d966d2275370eaca0
"
openstack%2Fkayobe~stable%2Fvictoria~I6bc8da2b8da903e09b97df8cd95c68a562c11db9,openstack/kayobe,stable/victoria,I6bc8da2b8da903e09b97df8cd95c68a562c11db9,CI: Fix overcloud and seed VM jobs on vexxhost clouds,MERGED,2021-02-28 20:36:20.000000000,2021-03-01 14:16:44.000000000,2021-03-01 14:13:30.000000000,8,0,0,777892,276115105bd72659f291f9b363ab466d48dab218,,9,4,1,2,15197,Pierre Riteau,priteau,"CI: Fix overcloud and seed VM jobs on vexxhost clouds

The issue was introduced in Ie8fd965165e8d347d27528a2c16d0647e412ccdc,
which applied some fixes for CentOS 8.3, and inadvertently removed
the Tenks variable that forces the use of qemu for 'bare metal' VMs.
This lead to autodetection of KVM, which does not work well when nested
in all CI cloud providers.

This change fixes the issue by forcing the use of qemu for the overcloud
once more. It also adds a similar option for the seed VM job.

Change-Id: I6bc8da2b8da903e09b97df8cd95c68a562c11db9
(cherry picked from commit f9d9afcfba09ef73c6663a38fb60b703caeb56c7)
"
openstack%2Fovsdbapp~master~I38168888bc7b3b28a4526345225bdad99c050d47,openstack/ovsdbapp,master,I38168888bc7b3b28a4526345225bdad99c050d47,Make it possible to just retrieve schema json,MERGED,2021-01-28 23:26:37.000000000,2021-03-01 14:14:34.000000000,2021-03-01 14:12:55.000000000,14,3,0,772955,f41003dec2637cea3f8fd9fae34dbb353f89e2b3,,8,3,1,1,5756,Terry Wilson,otherwiseguy,"Make it possible to just retrieve schema json

This breaks out a fetch_schema_json() method to make it possible
to retrieve the schema without creating a SchemaHelper object
which only stores the schema json until the Idl calls the
get_idl_schema method on it.

Change-Id: I38168888bc7b3b28a4526345225bdad99c050d47
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I3c427bc670815ee5bac677925b56df644f460271,openstack/openstack-ansible-lxc_hosts,master,I3c427bc670815ee5bac677925b56df644f460271,Remove workarounds for old systemd bugs,MERGED,2021-02-17 17:06:04.000000000,2021-03-01 14:07:10.000000000,2021-03-01 14:05:09.000000000,0,56,0,776241,3f8a5b4ca368d468446256992c456fc37fa2cf28,,23,3,9,1,25023,Jonathan Rosser,jrosser,"Remove workarounds for old systemd bugs

These are now resolved:

Were are now later than systemd v231
https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1497420
https://github.com/lxc/lxc/issues/713

Change-Id: I3c427bc670815ee5bac677925b56df644f460271
"
openstack%2Fironic-python-agent~master~I37d050877daabc9dc0a5821cf20a689652b26f34,openstack/ironic-python-agent,master,I37d050877daabc9dc0a5821cf20a689652b26f34,Use try_execute from ironic-lib,MERGED,2021-02-25 13:46:27.000000000,2021-03-01 13:55:55.000000000,2021-03-01 13:54:15.000000000,47,62,0,777591,0459c61c8d24c3b7fe950a4d533ed4192448c52e,try-execute-ironic-lib,8,3,1,3,23851,Riccardo Pittau,elfosardo,"Use try_execute from ironic-lib

Also adapt unit tests

Change-Id: I37d050877daabc9dc0a5821cf20a689652b26f34
"
openstack%2Fmagnum-tempest-plugin~master~I6289066e4e2525dd8ac2cab16713cb2df265fddd,openstack/magnum-tempest-plugin,master,I6289066e4e2525dd8ac2cab16713cb2df265fddd,"Revert ""Switch to using Focal for testing""",ABANDONED,2021-03-01 11:24:58.000000000,2021-03-01 13:34:25.000000000,,6,0,0,777909,273713bbdbb2d6240e3d8d8c3906e3ea0fbb35c2,,3,4,1,1,28022,Bharat Kunwar,brtknr,"Revert ""Switch to using Focal for testing""

This reverts commit 83a43fdca4bca8e61d2bb76bfcca5e6d01f971e9.

Reason for revert: this is breaking CI jobs

Change-Id: I6289066e4e2525dd8ac2cab16713cb2df265fddd
"
openstack%2Fmagnum~stable%2Fvictoria~I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b,openstack/magnum,stable/victoria,I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b,Fix database migrations,ABANDONED,2021-02-17 10:27:14.000000000,2021-03-01 13:33:16.000000000,,6,1,0,775912,512bf5c3209213f8244ce008ab4f8502b481ee9c,fix-ci-sqlalchemy-stable/victoria,3,2,1,2,28022,Bharat Kunwar,brtknr,"Fix database migrations

The pattern of adding a column and then reading a table with it
no longer works in SQLAlchemy 1.3.20. This has been reported
upstream [1].

[1] https://github.com/sqlalchemy/sqlalchemy/issues/5669

Change-Id: I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b
(cherry picked from commit f5cf6b958c20e560d2baff3fb21adcb4ce4a3aa4)
"
openstack%2Fopenstack-ansible-tests~master~I961f58d5b24aa5e11e2a4db39f2daff3c8330063,openstack/openstack-ansible-tests,master,I961f58d5b24aa5e11e2a4db39f2daff3c8330063,test-ansible-env-prep: simplify ara setup,MERGED,2021-02-25 22:27:02.000000000,2021-03-01 13:21:07.000000000,2021-03-01 13:19:30.000000000,2,7,0,777697,a8c775dfda2e31f2092ab4f8d1f51c8fe4f34b53,,8,3,1,1,9061,David Moreau Simard,dmsimard,"test-ansible-env-prep: simplify ara setup

The intent was to be able to test easily with Depends-On patches with a
repository prepared by Zuul but ara is being retired from
opendev.org/recordsansible/ara and will no longer be available at that location.

Change-Id: I961f58d5b24aa5e11e2a4db39f2daff3c8330063
"
openstack%2Fneutron~master~Ibd8897ec04843a5d6eb8639cc0c6ef0e2b9d2a3b,openstack/neutron,master,Ibd8897ec04843a5d6eb8639cc0c6ef0e2b9d2a3b,"[FT] Reset ""AgentCache"" singleton in functional tests",MERGED,2021-02-05 16:29:20.000000000,2021-03-01 13:18:52.000000000,2021-03-01 13:16:41.000000000,5,0,1,774284,27da92d634168960e15aa9faf3776bcf357d46dd,bug/1914754,64,7,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[FT] Reset ""AgentCache"" singleton in functional tests

Reset ""AgentCache"" singleton instance after each functional test
execution. That will remove any stored information from the previous
tests.

Related-Bug: #1914754

Change-Id: Ibd8897ec04843a5d6eb8639cc0c6ef0e2b9d2a3b
"
openstack%2Fopenstack-ansible-ops~master~I4a87c3cc9562437ff7548bb523b9f94684bed05b,openstack/openstack-ansible-ops,master,I4a87c3cc9562437ff7548bb523b9f94684bed05b,Correct spelling mistakes,MERGED,2018-11-22 11:49:56.000000000,2021-03-01 12:40:18.000000000,2021-03-01 12:38:28.000000000,7,7,0,619530,f67e6b376e82053c1c0ea6d5db79ea5468e27ec9,c1122,26,5,4,3,27549,chenge,chenge,"Correct spelling mistakes

Change-Id: I4a87c3cc9562437ff7548bb523b9f94684bed05b
"
openstack%2Fpuppet-tripleo~master~I3f9004fd8abffefe8cfeee9011ed0e323652fdd1,openstack/puppet-tripleo,master,I3f9004fd8abffefe8cfeee9011ed0e323652fdd1,Handle cinder_mount_point_base for cinder mounting needs,MERGED,2021-02-02 14:47:17.000000000,2021-03-01 12:27:42.000000000,2021-03-01 12:27:42.000000000,8,0,1,773699,a2dbbaedabf81ac8dd5438eee3857c4a29b95f1a,glance-cinder-mountpoint,16,6,3,2,19138,Pranali Deore,PranaliD,"Handle cinder_mount_point_base for cinder mounting needs

Adding cinder_mount_point_base parameter, to provide the
mount point for *fs volumes.

Depends-On: Ib724f6e895716847827be48ed08b01a7a312338f
Change-Id: I3f9004fd8abffefe8cfeee9011ed0e323652fdd1
"
openstack%2Fopenstack-ansible-ops~master~I1a91b36a2b0d01a1c42ba21e735ba261201ac1a4,openstack/openstack-ansible-ops,master,I1a91b36a2b0d01a1c42ba21e735ba261201ac1a4,"Switch deprecated options to ""modern"" equivalents",MERGED,2021-01-11 06:40:51.000000000,2021-03-01 12:24:53.000000000,2021-03-01 12:23:31.000000000,3,3,0,770064,0bb4435caab2891f3b17580d33ff25e95dd517b9,,10,3,2,1,25600,Ebbex,ebbex,"Switch deprecated options to ""modern"" equivalents

Change-Id: I1a91b36a2b0d01a1c42ba21e735ba261201ac1a4
"
openstack%2Fkolla-ansible~master~I69b1931997cf38733093639e94abafa8031f0ac6,openstack/kolla-ansible,master,I69b1931997cf38733093639e94abafa8031f0ac6,Avoid errors in apparmor chrony and libvirt profile removal in Debian,NEW,2021-02-17 18:37:49.000000000,2021-03-01 12:20:31.000000000,,26,0,12,776252,d1c9a18a489deb3a3d5fda3f6937a93f139a6cbe,,17,2,4,2,33105,Ana Peric,anperic,"Avoid errors in apparmor chrony and libvirt profile removal in Debian

This patch should fix the issue described in Bug ID #1915549, where the second run of kolla deploy,
or better kolla bootstrap-servers will fail.
The failure is due to that fact that we can't remove already removed chronyd profile from apparmor.

This patch focuses on deeper check using apparmor_status to make sure that chronyd is not there,
before one even tries to do a removal.
Additionally the same logic has been applied to libvirtd profile removal for now for Ubuntu
only (as it did exist for Ubuntu only so far).
This can be changed to catch entire Debian os_family for libvirt.

Closes-Bug: #1915549
Change-Id: I69b1931997cf38733093639e94abafa8031f0ac6
"
openstack%2Fkayobe~stable%2Ftrain~I6bc8da2b8da903e09b97df8cd95c68a562c11db9,openstack/kayobe,stable/train,I6bc8da2b8da903e09b97df8cd95c68a562c11db9,CI: Fix overcloud and seed VM jobs on vexxhost clouds,MERGED,2021-03-01 06:51:37.000000000,2021-03-01 12:18:17.000000000,2021-03-01 12:16:26.000000000,4,0,0,777932,38d0904fc82047fe6787c31c895e260c554a89f3,,10,4,2,1,15197,Pierre Riteau,priteau,"CI: Fix overcloud and seed VM jobs on vexxhost clouds

The issue was introduced in Ie8fd965165e8d347d27528a2c16d0647e412ccdc,
which applied some fixes for CentOS 8.3, and inadvertently removed
the Tenks variable that forces the use of qemu for 'bare metal' VMs.
This lead to autodetection of KVM, which does not work well when nested
in all CI cloud providers.

This change fixes the issue by forcing the use of qemu for the overcloud
once more.

Change-Id: I6bc8da2b8da903e09b97df8cd95c68a562c11db9
(cherry picked from commit f9d9afcfba09ef73c6663a38fb60b703caeb56c7)
"
openstack%2Fkayobe~stable%2Fussuri~I6bc8da2b8da903e09b97df8cd95c68a562c11db9,openstack/kayobe,stable/ussuri,I6bc8da2b8da903e09b97df8cd95c68a562c11db9,CI: Fix overcloud and seed VM jobs on vexxhost clouds,MERGED,2021-03-01 06:49:47.000000000,2021-03-01 12:17:49.000000000,2021-03-01 12:16:21.000000000,8,0,0,777931,8eadb255a7edbe5cd1483f510b8108eaf9e5dff8,,9,4,1,2,15197,Pierre Riteau,priteau,"CI: Fix overcloud and seed VM jobs on vexxhost clouds

The issue was introduced in Ie8fd965165e8d347d27528a2c16d0647e412ccdc,
which applied some fixes for CentOS 8.3, and inadvertently removed
the Tenks variable that forces the use of qemu for 'bare metal' VMs.
This lead to autodetection of KVM, which does not work well when nested
in all CI cloud providers.

This change fixes the issue by forcing the use of qemu for the overcloud
once more. It also adds a similar option for the seed VM job.

Change-Id: I6bc8da2b8da903e09b97df8cd95c68a562c11db9
(cherry picked from commit f9d9afcfba09ef73c6663a38fb60b703caeb56c7)
"
openstack%2Foctavia~stable%2Ftrain~I7488f2fae61917f6d4a56cedd05bace7c5e2bc70,openstack/octavia,stable/train,I7488f2fae61917f6d4a56cedd05bace7c5e2bc70,Support deletion of all tags,MERGED,2021-02-02 08:45:38.000000000,2021-03-01 12:03:10.000000000,2021-03-01 12:01:31.000000000,20,5,0,773610,a94e5af899936e3fb7e554cfccb4d66903f34c6b,,11,4,1,2,29244,Gregory Thiemonge,gthiemonge,"Support deletion of all tags

Add support for removal of all tags by PUTing empty tags array.

Also moved assignment after initial session query for the
object in the listener update path.

Conflicts:
	octavia/db/repositories.py

Task: #41009
Story: #2008220

Change-Id: I7488f2fae61917f6d4a56cedd05bace7c5e2bc70
Signed-off-by: Andrew Karpow <andrew.karpow@sap.com>
(cherry picked from commit 7ad022379ff2e366d3dfd73113d4619b0137551c)
(cherry picked from commit adb4e78e4439181f57c17f277bad0cd325f219cf)
(cherry picked from commit 95a97cf1eba85222e4ff683b88878f0f030a2f11)
"
openstack%2Fmagnum-tempest-plugin~master~I6baad8e3bf640959ee9e34b8e5fdef1a0bf9295b,openstack/magnum-tempest-plugin,master,I6baad8e3bf640959ee9e34b8e5fdef1a0bf9295b,Switch to using Focal for testing,MERGED,2021-01-06 07:21:37.000000000,2021-03-01 11:58:00.000000000,2021-02-17 09:45:22.000000000,0,6,0,769461,83a43fdca4bca8e61d2bb76bfcca5e6d01f971e9,,21,4,4,1,22623,Erik Olof Gunnar Andersson,eoandersson,"Switch to using Focal for testing

Depends-On: https://review.opendev.org/c/openstack/magnum/+/774142
Change-Id: I6baad8e3bf640959ee9e34b8e5fdef1a0bf9295b
"
openstack%2Fcharm-rabbitmq-server~master~Ia819cb03d30f6b4e0a04cc388e7243849800455a,openstack/charm-rabbitmq-server,master,Ia819cb03d30f6b4e0a04cc388e7243849800455a,Clarify TLS,MERGED,2021-02-24 20:46:22.000000000,2021-03-01 11:51:06.000000000,2021-03-01 11:51:06.000000000,27,29,3,777467,a00ecabe6728e7959e14a0871e1f493a3cca2d6d,bug/1871442,17,4,3,2,30561,Peter Matulis,pmatulis,"Clarify TLS

* Make TLS simpler and more accurate.

* Apply README template.

* Adjust config.yaml re use of Vault.

Related-Bug: #1871442

Change-Id: Ia819cb03d30f6b4e0a04cc388e7243849800455a
"
openstack%2Fironic-inspector~master~I945a33a50caf1ceef3cf86a2a68fac77ceb53ee8,openstack/ironic-inspector,master,I945a33a50caf1ceef3cf86a2a68fac77ceb53ee8,Add release version to release notes,MERGED,2021-02-01 09:10:52.000000000,2021-03-01 11:47:52.000000000,2021-03-01 11:45:28.000000000,3,3,0,773316,f47fbd60a1afb188a91cb0a65521b589420891dc,victoria-reno-versions,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Add release version to release notes

Change-Id: I945a33a50caf1ceef3cf86a2a68fac77ceb53ee8
"
openstack%2Fironic-python-agent~master~I66b0990acaec45b1635795563987b99f9fa04ac7,openstack/ironic-python-agent,master,I66b0990acaec45b1635795563987b99f9fa04ac7,Allow clean_configuration to run against full-device arrays,MERGED,2021-02-27 02:45:17.000000000,2021-03-01 11:44:14.000000000,2021-03-01 11:42:34.000000000,55,0,0,777854,ab267aabdd84e4cdf6496ec3a11fcb3580d542bd,,15,5,3,4,1004,Mohammed Naser,mnaser,"Allow clean_configuration to run against full-device arrays

At the moment, it is not possible for Ironic to clean up a
RAID array that is built from an entire device.  This patch
allows it to do so by overriding the behaviour of attempting
to find the device name if the device names does not end with
a number and is a real block device.

Story: #2008663
Task: #41948
Change-Id: I66b0990acaec45b1635795563987b99f9fa04ac7
"
openstack%2Fpuppet-nova~master~I6c627855d6c90ae8ad18898fb8c2adb8d73477e1,openstack/puppet-nova,master,I6c627855d6c90ae8ad18898fb8c2adb8d73477e1,Clean up the deprecated neutron_* parameters,MERGED,2021-01-23 23:42:16.000000000,2021-03-01 11:42:42.000000000,2021-03-01 11:40:59.000000000,34,231,0,772175,d18ad5bcc7358db9c71f1326f8b6a83784fdf725,cleanup-neutron-opts,16,3,2,3,9816,Takashi Kajinami,kajinamit,"Clean up the deprecated neutron_* parameters

This change removes the deprecated neutorn_* parameters from
nova::network::neutron, which were deprecated during the previous
Victoria cycle.

Change-Id: I6c627855d6c90ae8ad18898fb8c2adb8d73477e1
"
openstack%2Fironic~master~Ife77ccc5e2aae696ffac14fa78f10125456f9b01,openstack/ironic,master,Ife77ccc5e2aae696ffac14fa78f10125456f9b01,[trivial] Remove default parameter from execute,MERGED,2021-02-24 09:38:16.000000000,2021-03-01 11:29:10.000000000,2021-03-01 11:27:26.000000000,6,15,0,777348,f541d517c138184ae0c7d14601f3d34bbfe79de3,default-check-exit-code,26,4,1,3,23851,Riccardo Pittau,elfosardo,"[trivial] Remove default parameter from execute

The param check_exit_code from the processutils extension execute has
default already at [0]
See:
https://opendev.org/openstack/oslo.concurrency/src/branch/master/oslo_concurrency/processutils.py#L214

Change-Id: Ife77ccc5e2aae696ffac14fa78f10125456f9b01
"
openstack%2Foctavia~stable%2Ftrain~Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615,openstack/octavia,stable/train,Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615,Fix nf_conntrack_buckets sysctl in Amphora,MERGED,2021-02-02 08:14:43.000000000,2021-03-01 11:19:14.000000000,2021-03-01 11:17:37.000000000,9,1,0,773601,bd92b4bf414e0c7a34bcd295810b02128ab0d7c1,,10,3,1,3,29244,Gregory Thiemonge,gthiemonge,"Fix nf_conntrack_buckets sysctl in Amphora

Setting nf_conntrack_buckets in the amphora namespace fails because this
sysctl can only be set in the initial namespace (cf kernel doc at
https://www.kernel.org/doc/Documentation/networking/nf_conntrack-sysctl.txt)

This commit allows to set nf_conntrack_buckets in the initial namespace,
the value is then inherited by other namespaces.

Conntrack is not enabled in the main namespace, the new default value
doesn't affect this namespace behavior.

Conflicts:
	elements/haproxy-octavia/post-install.d/20-haproxy-tune-kernel

Story: 2008028
Task: 40682

Change-Id: Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615
(cherry picked from commit 64a301d4ec85a1bc9b208e60d7958a89e6972976)
(cherry picked from commit dd1580d332c2191e8d28bab692c1fa08e3e8ae80)
(cherry picked from commit 9f1307affc328e5ca58a2e814ed55885ed0710c7)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I0790830e1c21520df2534d2f3b1ea96010064355,openstack/kolla-ansible,stable/victoria,I0790830e1c21520df2534d2f3b1ea96010064355,docs: Improve multinode Docker registry setup,MERGED,2021-02-08 08:57:28.000000000,2021-03-01 11:13:20.000000000,2021-03-01 11:11:16.000000000,44,57,0,774398,9698fa1533ef707fc4c7afb3918709254ca207d7,bug/1901768-stable/victoria,9,4,1,1,14826,Mark Goddard,mgoddard,"docs: Improve multinode Docker registry setup

The multinode guide hints at how to setup the registry as a registry
mirror, however it does not provide all information necessary. This
change fixes that, and separates the local registry and registry mirror
cases.

Change-Id: I0790830e1c21520df2534d2f3b1ea96010064355
Closes-Bug: #1901768
(cherry picked from commit 34cce4c57e9a609899f2922db83878500495f825)
"
openstack%2Fkolla-ansible~stable%2Ftrain~I0790830e1c21520df2534d2f3b1ea96010064355,openstack/kolla-ansible,stable/train,I0790830e1c21520df2534d2f3b1ea96010064355,docs: Improve multinode Docker registry setup,MERGED,2021-02-08 08:57:46.000000000,2021-03-01 11:13:16.000000000,2021-03-01 11:11:27.000000000,44,57,0,774400,d55c82159bd55723b44e39331f70c70a53872a97,bug/1901768-stable/train,8,3,1,1,14826,Mark Goddard,mgoddard,"docs: Improve multinode Docker registry setup

The multinode guide hints at how to setup the registry as a registry
mirror, however it does not provide all information necessary. This
change fixes that, and separates the local registry and registry mirror
cases.

Change-Id: I0790830e1c21520df2534d2f3b1ea96010064355
Closes-Bug: #1901768
(cherry picked from commit 34cce4c57e9a609899f2922db83878500495f825)
"
openstack%2Fkolla-ansible~stable%2Fussuri~I0790830e1c21520df2534d2f3b1ea96010064355,openstack/kolla-ansible,stable/ussuri,I0790830e1c21520df2534d2f3b1ea96010064355,docs: Improve multinode Docker registry setup,MERGED,2021-02-08 08:57:35.000000000,2021-03-01 11:13:15.000000000,2021-03-01 11:11:06.000000000,44,57,0,774399,150445c5bf565851cecb12b144a1edcaaccc553f,bug/1901768-stable/ussuri,9,4,1,1,14826,Mark Goddard,mgoddard,"docs: Improve multinode Docker registry setup

The multinode guide hints at how to setup the registry as a registry
mirror, however it does not provide all information necessary. This
change fixes that, and separates the local registry and registry mirror
cases.

Change-Id: I0790830e1c21520df2534d2f3b1ea96010064355
Closes-Bug: #1901768
(cherry picked from commit 34cce4c57e9a609899f2922db83878500495f825)
"
openstack%2Fkolla~stable%2Fvictoria~Ic638516eb92d24ad247a7866fd1b5e2ac0400388,openstack/kolla,stable/victoria,Ic638516eb92d24ad247a7866fd1b5e2ac0400388,Make kolla_set_configs open files in binary mode,MERGED,2021-02-15 13:53:48.000000000,2021-03-01 11:13:10.000000000,2021-03-01 11:10:51.000000000,30,1,0,775593,f72a4b36e49cb4c6f86f2ad4069f77892124b9fd,bug/1913952-stable/victoria,13,3,1,3,30491,Radosław Piliszek,yoctozepto,"Make kolla_set_configs open files in binary mode

This fixes comparisons when files are not Unicode-encoded.

A relevant unit test is included.
It can be used as a base for other _cmp_file method unit tests
if the need arises.

Change-Id: Ic638516eb92d24ad247a7866fd1b5e2ac0400388
Closes-Bug: #1913952
(cherry picked from commit 8e3027c5427ecfb89fe48ad38eb8189b1608d0fc)
"
openstack%2Fopenstack-ansible-ops~master~I74a4788ff25c5ef45c064d1f8309002b1731ad7a,openstack/openstack-ansible-ops,master,I74a4788ff25c5ef45c064d1f8309002b1731ad7a,"Fix elk 7 {conf,env}.d sample",MERGED,2020-11-11 11:00:47.000000000,2021-03-01 11:04:20.000000000,2021-03-01 11:02:38.000000000,46,8,0,762331,7dd097344f6fbb88af9aa52113f85cb4ab7a3b05,elk_adjustments,24,4,6,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix elk 7 {conf,env}.d sample

Neither elastic nor logstash elements were present in container_skel
while they were referenced in component_skel which is not valid for
dynamic_inventory. So attempt to generate it resulted in:
KeyError: 'elastic-logstash' here [1]

Also elaborate more on conf.env sample as per the intents of
https://review.opendev.org/c/openstack/openstack-ansible-ops/+/707849

[1] https://opendev.org/openstack/openstack-ansible/src/branch/master/osa_toolkit/generate.py#L266

Change-Id: I74a4788ff25c5ef45c064d1f8309002b1731ad7a
"
openstack%2Fnova~master~I7239c7fc108b83decc728a01392640806ff32800,openstack/nova,master,I7239c7fc108b83decc728a01392640806ff32800,WIP: Store UEFI'ness of guest as attribute,ABANDONED,2021-02-15 18:33:44.000000000,2021-03-01 11:03:40.000000000,,4,0,0,775692,c947fcaf642c86eeaab2c78d241e190732e354f2,bp/allow-secure-boot-for-qemu-kvm-guests,6,1,1,1,15334,Stephen Finucane,sfinucan,"WIP: Store UEFI'ness of guest as attribute

This avoids the need to inspect the image metadata each and every time.

Change-Id: I7239c7fc108b83decc728a01392640806ff32800
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I5bc2a18a41b29628fd14359023db9bb5b6b2a335,openstack/nova,master,I5bc2a18a41b29628fd14359023db9bb5b6b2a335,libvirt: Add secure boot loader config support,ABANDONED,2021-02-15 18:33:44.000000000,2021-03-01 11:03:38.000000000,,16,17,0,775687,d12ddeee31806b83eeb6a7d3a1eaf5376f37b067,bp/allow-secure-boot-for-qemu-kvm-guests,7,1,1,2,15334,Stephen Finucane,sfinucan,"libvirt: Add secure boot loader config support

Add the knobs to our XML element generation code needed for secure boot
support, namely setting the 'secure' attribute of the
'/domain/os/loader' element.

Change-Id: I5bc2a18a41b29628fd14359023db9bb5b6b2a335
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~Ib18fcc8e5d5dd856cbfc21cc3d7a7d07115ce6b3,openstack/nova,master,Ib18fcc8e5d5dd856cbfc21cc3d7a7d07115ce6b3,WIP: libvirt: Stop checking non-host architectures for SEV,ABANDONED,2021-02-15 18:33:44.000000000,2021-03-01 11:03:35.000000000,,17,15,0,775693,594d2aca47849a5a5420c6193ee9f19306e42cd3,bp/allow-secure-boot-for-qemu-kvm-guests,8,1,1,1,15334,Stephen Finucane,sfinucan,"WIP: libvirt: Stop checking non-host architectures for SEV

nova does not currently support booting guests with non-host
architectures. There's no need to keep this code around until that is
resolved.

Change-Id: Ib18fcc8e5d5dd856cbfc21cc3d7a7d07115ce6b3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftripleo-common~stable%2Fussuri~I38fe6419a6e18693adad79083a589f3a417de02f,openstack/tripleo-common,stable/ussuri,I38fe6419a6e18693adad79083a589f3a417de02f,Add cloud-admin user to tripleoclient container,MERGED,2021-02-18 15:57:00.000000000,2021-03-01 11:02:56.000000000,2021-03-01 11:01:34.000000000,9,0,0,776484,090ff9b8ecd0e90fcfeba64b4f6794be72d1ae2b,tripleoclient-u,8,6,1,3,17216,Martin Schuppert,mcschupp,"Add cloud-admin user to tripleoclient container

osp-director-operator use tripleoclient pod to render the ansible
playbooks in an ephemeral heat stack. The cloud-admin user is also
used as default deployment user to run the ansible playbooks to
deploy the overcloud.

This also adds osc-placement to the container image which allows
to query placment direct using osc.

Change-Id: I38fe6419a6e18693adad79083a589f3a417de02f
(cherry picked from commit 24c311aab02b8e50b817bff4e008a0d8b32443ca)
(cherry picked from commit 4bac1cb80b4f5c216b2cc0eaab6112f3294a0b24)
"
openstack%2Fnova~master~I12990eaca3820e56047e4d0e526c436fd2cfcf31,openstack/nova,master,I12990eaca3820e56047e4d0e526c436fd2cfcf31,Remove short call timeout from func test,MERGED,2021-02-24 18:20:15.000000000,2021-03-01 11:00:51.000000000,2021-03-01 10:59:08.000000000,0,3,9,777447,c8478e40bdb996d5e0a1f01ae0ae55e6926f318d,bug/1909120,18,5,1,1,9708,Balazs Gibizer,gibi,"Remove short call timeout from func test

The bugfix I759aa36dc00a6c0612b9755dacd9aa414c408498 ensured that nova
rejectes a volume detach if the compute is down. But the func test still
has short rpc timeout set which sometimes causes that the server creates
times out on a slow node. Before the bugfix the short timeout was needed
to speed up the test but after the fix it is not needed any more so it
is removed to stabilize the test.

Change-Id: I12990eaca3820e56047e4d0e526c436fd2cfcf31
Related-Bug: #1909120
"
openstack%2Ftripleo-common~stable%2Fvictoria~I38fe6419a6e18693adad79083a589f3a417de02f,openstack/tripleo-common,stable/victoria,I38fe6419a6e18693adad79083a589f3a417de02f,Add cloud-admin user to tripleoclient container,MERGED,2021-02-18 15:55:24.000000000,2021-03-01 10:56:33.000000000,2021-03-01 10:55:10.000000000,9,0,0,776482,4bac1cb80b4f5c216b2cc0eaab6112f3294a0b24,tripleoclient-v,24,6,1,3,17216,Martin Schuppert,mcschupp,"Add cloud-admin user to tripleoclient container

osp-director-operator use tripleoclient pod to render the ansible
playbooks in an ephemeral heat stack. The cloud-admin user is also
used as default deployment user to run the ansible playbooks to
deploy the overcloud.

This also adds osc-placement to the container image which allows
to query placment direct using osc.

Change-Id: I38fe6419a6e18693adad79083a589f3a417de02f
(cherry picked from commit 24c311aab02b8e50b817bff4e008a0d8b32443ca)
"
openstack%2Fkolla~stable%2Fussuri~Ic638516eb92d24ad247a7866fd1b5e2ac0400388,openstack/kolla,stable/ussuri,Ic638516eb92d24ad247a7866fd1b5e2ac0400388,Make kolla_set_configs open files in binary mode,MERGED,2021-02-15 13:54:12.000000000,2021-03-01 10:56:10.000000000,2021-03-01 10:54:07.000000000,30,1,0,775594,dc5fe2f0eb19601236a54deeeee4ebc0ccd519d9,bug/1913952-stable/victoria-stable/ussuri,10,4,1,3,30491,Radosław Piliszek,yoctozepto,"Make kolla_set_configs open files in binary mode

This fixes comparisons when files are not Unicode-encoded.

A relevant unit test is included.
It can be used as a base for other _cmp_file method unit tests
if the need arises.

Change-Id: Ic638516eb92d24ad247a7866fd1b5e2ac0400388
Closes-Bug: #1913952
(cherry picked from commit 8e3027c5427ecfb89fe48ad38eb8189b1608d0fc)
"
openstack%2Fopenstack-ansible-os_zun~master~I4532d9975a2e68a12a7755ca3798a59f4928593c,openstack/openstack-ansible-os_zun,master,I4532d9975a2e68a12a7755ca3798a59f4928593c,Improve image and network cleanup procedure,MERGED,2021-01-18 13:03:44.000000000,2021-03-01 10:46:49.000000000,2021-03-01 10:45:08.000000000,29,10,6,771218,b5bd190e24d19f59dfe8e66bdee0b1298bcfd02f,zun-prune,26,4,3,4,31542,Andrew Bonney,andrewbonney,"Improve image and network cleanup procedure

This adds periodic cleanup of the directory which zun uses to
temporarily cache images loaded from Glance to avoid it becoming
too large.

Docker image cleanup is adjusted to make it less aggressive as
the 'until' filtering has been seen to clear images which were
created more recently than one hour.

The network pruning is removed as this causes zun to become out
of sync with Docker which can prevent creation of new containers
on pruned networks.

Finally, the default is to leave cleanup disabled so that it can
be enabled purely based upon user preference.

As Systemd timers cannot be disabled, this is achieved via a file
presence check with can be overridden for manual execution.

Change-Id: I4532d9975a2e68a12a7755ca3798a59f4928593c
"
openstack%2Fcharm-neutron-gateway~master~I4561d693034d6e0181def787a53e95232d05fca7,openstack/charm-neutron-gateway,master,I4561d693034d6e0181def787a53e95232d05fca7,Remove -proposed from the focal-ussuri bundle,MERGED,2021-02-23 09:09:59.000000000,2021-03-01 10:44:09.000000000,2021-03-01 10:44:09.000000000,1,1,0,777066,528d858907280d59027a7231586667b0a244f5dd,rm-proposed,13,3,1,1,31289,Aurelien Lourot,lourot,"Remove -proposed from the focal-ussuri bundle

The -proposed bucket contains a buggy pip version at
the moment which leads to `pip freeze` failures in
placement's install hook. A similar change has
already been made in another bundle:
https://review.opendev.org/c/openstack/charm-neutron-openvswitch/+/775801

Change-Id: I4561d693034d6e0181def787a53e95232d05fca7
"
openstack%2Fpython-monascaclient~master~Ieeb3770c5b378218c218d1bcd91b962c4978f1b8,openstack/python-monascaclient,master,Ieeb3770c5b378218c218d1bcd91b962c4978f1b8,Uncap PrettyTable,MERGED,2021-02-23 15:00:13.000000000,2021-03-01 10:41:54.000000000,2021-03-01 10:40:09.000000000,1,1,2,777144,75e44a1e5f9d0d673ed1a4a5adfbb8a2c6061b76,bump_prettytable_version,15,3,3,1,15197,Pierre Riteau,priteau,"Uncap PrettyTable

The requirements project uncapped PrettyTable [1] as it is now
maintained as a Jazzband project [2]. Keeping a local cap makes the
requirements-check job fail:

ERROR: Requirement for package PrettyTable excludes a version not excluded in the global list.
  Local settings : {'<0.8'}
  Global settings: set()
  Unexpected     : set()

[1] https://review.opendev.org/c/openstack/requirements/+/774917
[2] https://github.com/jazzband/prettytable

Change-Id: Ieeb3770c5b378218c218d1bcd91b962c4978f1b8
"
openstack%2Fansible-role-python_venv_build~master~I79a10a3f774246ab9c57313f19f3804f9422e08c,openstack/ansible-role-python_venv_build,master,I79a10a3f774246ab9c57313f19f3804f9422e08c,Gather facts for repo containers,MERGED,2021-02-25 10:20:41.000000000,2021-03-01 10:39:42.000000000,2021-03-01 10:37:57.000000000,7,7,1,777559,f487ab46ba23b8d3f729900bd8bcbe7ef4d2d632,,11,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Gather facts for repo containers

We can't evaluate `venv_wheel_build_enable` without gathered facts about
repo containers. And default facts cache is 1day. After that time role
will fail to evaluate the variable.

Change-Id: I79a10a3f774246ab9c57313f19f3804f9422e08c
"
openstack%2Fneutron~master~I1a5205303ebede533ffa6b3b85d4ec2f4b112426,openstack/neutron,master,I1a5205303ebede533ffa6b3b85d4ec2f4b112426,"Implement ""IPAllocation"" router ports allocated retrieval",MERGED,2021-02-19 13:59:28.000000000,2021-03-01 10:36:13.000000000,2021-03-01 10:33:42.000000000,20,8,0,776643,b7956d80ca481864502ba16a7c3a5f47891e11c4,get_alloc_routerports,38,5,3,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Implement ""IPAllocation"" router ports allocated retrieval

Implemented a method, in ""IPAllocation"" OVO class, to retrieve
the allocated router ports.

The new query used dispenses with one of the inner join queries
required in the former query, making it faster.

This method allows to filter by gateway IP address and can return the
whole query list or just the first register found.

Trivial-Fix

Change-Id: I1a5205303ebede533ffa6b3b85d4ec2f4b112426
"
openstack%2Fcharm-ceph-radosgw~master~I53ab9ece631bbaeed6e3cebba4ffbbcb1e32193d,openstack/charm-ceph-radosgw,master,I53ab9ece631bbaeed6e3cebba4ffbbcb1e32193d,Remove reference to ntp package,MERGED,2021-02-25 09:31:29.000000000,2021-03-01 10:36:06.000000000,2021-03-01 10:36:06.000000000,0,5,0,777519,1e8e89e5826f2daeccaf0ff06442db9747151cc9,bug/1915351,14,4,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Remove reference to ntp package

This is motivated by the fact that NTP will be managed by
operators through the NTP charm. In the other Ceph charms,
NTP / Chrony are removed by the charm if the charm is in a
container because the ceph-base package will install it;
however, this is unneceessary for the radosgw package
because it doesn't depend on the ceph-common package.

Change-Id: I53ab9ece631bbaeed6e3cebba4ffbbcb1e32193d
Closes-Bug: #1915351
"
openstack%2Fironic-python-agent-builder~master~I6f98d0afafa2acd746e67e23df2958a0ed3ac930,openstack/ironic-python-agent-builder,master,I6f98d0afafa2acd746e67e23df2958a0ed3ac930,Pass rescue user password during user creation,ABANDONED,2021-02-25 15:50:18.000000000,2021-03-01 10:34:20.000000000,,7,5,0,777611,b529609306f25c36848edd124f7185d88e1bb716,direct-rescue-pass,4,1,2,1,23851,Riccardo Pittau,elfosardo,"Pass rescue user password during user creation

This avoids issues that could happen with echo and pipe.
Hopefully.

Change-Id: I6f98d0afafa2acd746e67e23df2958a0ed3ac930
"
openstack%2Fswift~stable%2Ftrain~Icbe504fd1b7680ab45254fe9acb5010754222dd3,openstack/swift,stable/train,Icbe504fd1b7680ab45254fe9acb5010754222dd3,Use swiftclient Connections in sharding probe tests,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 10:30:55.000000000,2021-03-01 10:25:41.000000000,6,7,1,774341,1f8c16fcaa9a2fe95c325a1c8b526c09bbf227b6,train-sharding,15,2,3,1,597,Pete Zaitcev,zaitcev,"Use swiftclient Connections in sharding probe tests

This gets us retries ""for free"" and should reduce gate flakiness.

Cherry-Picked-From: Ia2e4c94f246230a3e25e4557b4b2c1a3a67df756
Change-Id: Icbe504fd1b7680ab45254fe9acb5010754222dd3
"
openstack%2Fswift~stable%2Fussuri~I6cff16a00e48c4d069000dd54c6f4cb9f02f773d,openstack/swift,stable/ussuri,I6cff16a00e48c4d069000dd54c6f4cb9f02f773d,Avoid loops when gathering container listings from shards,MERGED,2021-02-24 03:15:09.000000000,2021-03-01 10:29:59.000000000,2021-03-01 10:25:49.000000000,178,5,0,777289,e69b3c60feb8c60cae5ec27508fd6f860d8c14e0,ussuri-sharding,11,3,1,3,597,Pete Zaitcev,zaitcev,"Avoid loops when gathering container listings from shards

Previously the proxy container controller could, in corner cases, get
into a loop while building a listing for a sharded container. For
example, if a root has a single shard then the proxy will be
redirected to that shard, but if that shard has shrunk into the root
then it will redirect the proxy back to the root, and so on until the
root is updated with the shard's shrunken status.

There is already a guard to prevent the proxy fetching shard ranges
again from the same container that it is *currently* querying for
listing parts. That deals with the case when a container fills in gaps
in its listing shard ranges with a reference to itself. This patch
extends that guard to prevent the proxy fetching shard ranges again
from any container that has previously been queried for listing parts.

Cherry-Picked-From: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b
Change-Id: I6cff16a00e48c4d069000dd54c6f4cb9f02f773d
"
openstack%2Fneutron~master~I97ada62484023b9833ed12afd68eb4c8d337fd1f,openstack/neutron,master,I97ada62484023b9833ed12afd68eb4c8d337fd1f,"Improve ""get_devices_with_ip"" performance",MERGED,2021-02-24 15:04:26.000000000,2021-03-01 10:29:56.000000000,2021-03-01 10:24:44.000000000,105,56,1,777401,a6cdf273c06a3bba713d7b8d0ef3a9b71b0ffc57,bug/1896734,23,5,3,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Improve ""get_devices_with_ip"" performance

As reported in LP#1896734, there is a limit in the size of information
that can be transmitted in one single message between an application
and the privsep daemon. The read socket buffer is limited in size;
a message exceeding this size will generate an exception.

In order to limit the amount of information to be sent, this patch
improves the performance of ""get_devices_with_ip"". In the previous
implementation, the whole list of network devices from a namespace
was retrieved. In some environments, the list of devices could be
so big that the list returned by ""privileged.get_link_devices"" can
exceed the read buffer size (as reported in the LP bug when the
OVS agent tries to retrieve the list of IP addresses in the system).

Now the function calls ""privileged.get_ip_addresses"", that returns
a much smaller list. This patch is also reducing the number of system
calls to just one; the previous implementation was retrieving first
the devices link information list (that method was returning a much
bigger blob) and then, per device, retrieving the IP address
information.

Change-Id: I97ada62484023b9833ed12afd68eb4c8d337fd1f
Related-Bug: #1896734
"
openstack%2Fswift~stable%2Ftrain~Ia313663ae43d7041d710f4122d2537e5e601908d,openstack/swift,stable/train,Ia313663ae43d7041d710f4122d2537e5e601908d,Address a sharder/replicator race,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 10:29:13.000000000,2021-03-01 10:25:08.000000000,13,9,0,774338,87c1aa0e0701a35f7bd16913c7622f1445081423,train-sharding,21,2,3,2,597,Pete Zaitcev,zaitcev,"Address a sharder/replicator race

In the previous patch, we could clean up all container DBs, but only if
the daemons went in a specific order (which cannot be guaranteed in a
production system).

Once a reclaim age passes, there's a race: If the container-replicator
processes the root container before the container-sharder processes the
shards, the deleted shards would get reaped from the root so they won't
be available for the sharder. The shard containers then hang around
indefinitely.

Now, be willing to mark shard DBs as deleted even when we can't find our
own shard range in the root. Fortunately, the shard already knows that
its range has been deleted; we don't need to get that info from the root.

Cherry-Picked-From: If08bccf753490157f27c95b4038f3dd33d3d7f8c
Related-Change: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b
Change-Id: Ia313663ae43d7041d710f4122d2537e5e601908d
"
openstack%2Fnova~master~I0680d4e21f3e317ac702b55afef4c87e8acbfc3a,openstack/nova,master,I0680d4e21f3e317ac702b55afef4c87e8acbfc3a,objects: Add 'socket' PCI NUMA affinity,MERGED,2021-01-27 16:58:06.000000000,2021-03-01 10:28:53.000000000,2021-03-01 10:26:14.000000000,41,15,9,772748,be80dfdc714d0f00c77d84d72703f7fea04d2f94,bp/pci-socket-affinity,85,3,13,12,8864,Artom Lifshitz,artom,"objects: Add 'socket' PCI NUMA affinity

This patch adds the 'socket' value to the allowed PCI NUMA affinity
policies, both to the 'hw:pci_numa_affinity_policy' flavor extra spec,
and the 'hw_pci_numa_affinity_policy' image property.

For now the new value is a no-op and remains undocumented. It will be
wired-in in a subsequent patch.

Implements: blueprint pci-socket-affinity
Change-Id: I0680d4e21f3e317ac702b55afef4c87e8acbfc3a
"
openstack%2Fswift~stable%2Fussuri~Ifc5d1ae142f63520df49fe610c94b332dcea3180,openstack/swift,stable/ussuri,Ifc5d1ae142f63520df49fe610c94b332dcea3180,Populate shrinking shards with shard ranges learnt from root,MERGED,2021-02-24 03:15:09.000000000,2021-03-01 10:28:35.000000000,2021-03-01 10:24:58.000000000,621,175,0,777288,18cdf9b5680b6d9a2201e9781771e3a5efac0355,ussuri-sharding,11,3,1,6,597,Pete Zaitcev,zaitcev,"Populate shrinking shards with shard ranges learnt from root

Shard shrinking can be instigated by a third party modifying shard
ranges, moving one shard to shrinking state and expanding the
namespace of one or more other shard(s) to act as acceptors. These
state and namespace changes must propagate to the shrinking and
acceptor shards. The shrinking shard must also discover the acceptor
shard(s) into which it will shard itself.

The sharder audit function already updates shards with their own state
and namespace changes from the root. However, there is currently no
mechanism for the shrinking shard to learn about the acceptor(s) other
than by a PUT request being made to the shrinking shard container.

This patch modifies the shard container audit function so that other
overlapping shards discovered from the root are merged into the
audited shard's db. In this way, the audited shard will have acceptor
shards to cleave to if shrinking.

This new behavior is restricted to when the shard is shrinking. In
general, a shard is responsible for processing its own sub-shard
ranges (if any) and reporting them to root. Replicas of a shard
container synchronise their sub-shard ranges via replication, and do
not rely on the root to propagate sub-shard ranges between shard
replicas. The exception to this is when a third party (or
auto-sharding) wishes to instigate shrinking by modifying the shard
and other acceptor shards in the root container.  In other
circumstances, merging overlapping shard ranges discovered from the
root is undesirable because it risks shards inheriting other unrelated
shard ranges. For example, if the root has become polluted by
split-brain shard range management, a sharding shard may have its
sub-shards polluted by an undesired shard from the root.

During the shrinking process a shard range's own shard range state may
be either shrinking or, prior to this patch, sharded. The sharded
state could occur when one replica of a shrinking shard completed
shrinking and moved the own shard range state to sharded before other
replica(s) had completed shrinking. This makes it impossible to
distinguish a shrinking shard (with sharded state), which we do want
to inherit shard ranges, from a sharding shard (with sharded state),
which we do not want to inherit shard ranges.

This patch therefore introduces a new shard range state, 'SHRUNK', and
applies this state to shard ranges that have completed shrinking.
Shards are now restricted to inherit shard ranges from the root only
when their own shard range state is either SHRINKING or SHRUNK.

This patch also:

 - Stops overlapping shrinking shards from generating audit warnings:
   overlaps are cured by shrinking and we therefore expect shrinking
   shards to sometimes overlap.

 - Extends an existing probe test to verify that overlapping shard
   ranges may be resolved by shrinking a subset of the shard ranges.

 - Adds a --no-auto-shard option to swift-container-sharder to enable the
   probe tests to disable auto-sharding.

 - Improves sharder logging, in particular by decrementing ranges_todo
   when a shrinking shard is skipped during cleaving.

 - Adds a ShardRange.sort_key class method to provide a single definition
   of ShardRange sort ordering.

 - Improves unit test coverage for sharder shard auditing.

Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Cherry-Picked-From: I9034a5715406b310c7282f1bec9625fe7acd57b6
Change-Id: Ifc5d1ae142f63520df49fe610c94b332dcea3180
"
openstack%2Fswift~stable%2Ftrain~I23a91efd4b1ef909fff355ca18976b8da331f9bf,openstack/swift,stable/train,I23a91efd4b1ef909fff355ca18976b8da331f9bf,Refactor audit shard tests,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 10:25:31.000000000,2021-03-01 10:25:31.000000000,88,77,0,774340,3d8c9e8a3ec6b79b8634c116af5d20323eb1f43f,train-sharding,14,3,3,1,597,Pete Zaitcev,zaitcev,"Refactor audit shard tests

The existing tests cover a lot of behaviors and carry around a lot of
state that makes them hard to extend in a descriptive mannor to cover
new or changed behaviors.

Cherry-Picked-From: Ie52932d8d4a66b11c295d5568aa3a60895b84f3b
Change-Id: I23a91efd4b1ef909fff355ca18976b8da331f9bf
"
openstack%2Fswift~stable%2Ftrain~I9e3b6391b3ea85ecd147916a2bf0f002c35fe5e3,openstack/swift,stable/train,I9e3b6391b3ea85ecd147916a2bf0f002c35fe5e3,container-sharding: Stable overlap order,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 10:25:22.000000000,2021-03-01 10:25:22.000000000,42,1,0,774339,71921f8612e1de682f96962ac1a7094f789dcff1,train-sharding,14,3,3,2,597,Pete Zaitcev,zaitcev,"container-sharding: Stable overlap order

When you have overlapping active shard ranges updates will get sent to
""the first"" database; but when the proxy queries shards for listings
they get stitched together end-to-end with markers.

This means mostly the second shard range is ignored.  But since the
order of shard ranges is not stable (it seems to depend on the database
indexes; which can change when rows are added or removed) you could send
updates to ""the wrong"" shard.

Using a stable order leads to more correct and robust behavior under
failure; and is also better for cognitive overhead.

Cherry-Picked-From: Ia9d29822bf07757fc1cf58ded90b49f12b7b2c24
Change-Id: I9e3b6391b3ea85ecd147916a2bf0f002c35fe5e3
"
openstack%2Freleases~master~Ia019d4fca4b44c508680b599c4b929c0b2923e80,openstack/releases,master,Ia019d4fca4b44c508680b599c4b929c0b2923e80,Release versions for ansible-roles,MERGED,2021-02-23 20:16:30.000000000,2021-03-01 10:18:03.000000000,2021-03-01 10:18:03.000000000,12,0,0,777211,07ba3192c1fe87c5cfaa06b2e2f7fb1fbfefce69,ansible-role-bump,15,5,1,3,14985,Alex Schultz,mwhahaha,"Release versions for ansible-roles

We need to release ansible-role-chrony, ansible-role-container-registry,
ansible-role-redhat-subscription to get versions with ansible_facts
being used.

Change-Id: Ia019d4fca4b44c508680b599c4b929c0b2923e80
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ibe7925e4ee568d3d45e138d543b6d7064a8503a3,openstack/tripleo-heat-templates,stable/victoria,Ibe7925e4ee568d3d45e138d543b6d7064a8503a3,Always set NetworkDeploymentActions to its default,MERGED,2021-02-16 09:21:58.000000000,2021-03-01 10:15:16.000000000,2021-03-01 10:15:16.000000000,2,0,0,775777,58825e47368a233be31baef254df7afc95c6aef7,,24,3,1,1,8833,Rabi Mishra,rabi,"Always set NetworkDeploymentActions to its default

There are instances users use ``NetworkDeploymentActions`` to
do network configuration during update, but just drop the
parameter for subsequent updates. This sometimes results in
network configuration changes in existing nodes and disruptions.
Let's always set them to defaults unless overridden explicitly.

Change-Id: Ibe7925e4ee568d3d45e138d543b6d7064a8503a3
Related: https://bugzilla.redhat.com/1928055
(cherry picked from commit 92dcffc714bc92a28f610bf0322f04551aade758)
"
openstack%2Fansible-role-systemd_service~master~I7cba791c6d6d90390e5adaf63a4797cbc320cbc5,openstack/ansible-role-systemd_service,master,I7cba791c6d6d90390e5adaf63a4797cbc320cbc5,Make systemd.service more consistent,MERGED,2021-01-21 17:52:53.000000000,2021-03-01 10:11:10.000000000,2021-03-01 10:08:32.000000000,1,1,0,771869,1cc15d7923d8936bc96b2f7e70c6b755df2f06da,,10,3,1,1,25600,Ebbex,ebbex,"Make systemd.service more consistent

This file doesn't need to change based on the whims of which order
the after_targets decide to jumble themselves into. By sorting the
after_targets we get less changes.

Change-Id: I7cba791c6d6d90390e5adaf63a4797cbc320cbc5
"
openstack%2Foctavia~master~I55453a92ad8107bf19fc8dd20e5b5d90e2b6458b,openstack/octavia,master,I55453a92ad8107bf19fc8dd20e5b5d90e2b6458b,Add HTTP/2 example to the load balancing cookbook,MERGED,2020-09-21 13:30:50.000000000,2021-03-01 10:09:23.000000000,2021-03-01 10:06:47.000000000,51,0,2,752952,c93a76b9f3d22bc131d899554c88ba1caf6dd249,http2,14,4,2,1,6469,Carlos Gonçalves,cgoncalves,"Add HTTP/2 example to the load balancing cookbook

Change-Id: I55453a92ad8107bf19fc8dd20e5b5d90e2b6458b
"
openstack%2Foctavia-tempest-plugin~master~I0e719b5dc4fc2e62aefa282ac96647e02afd60bb,openstack/octavia-tempest-plugin,master,I0e719b5dc4fc2e62aefa282ac96647e02afd60bb,New test case: test_udp_update_pool_healthmonitor_listener,ABANDONED,2021-02-25 12:36:00.000000000,2021-03-01 09:46:56.000000000,,136,48,0,777582,6057c977099313f93301609f0a36bfc8781b07f5,test_udp_update_pool_healthmonitor_listener,4,2,1,1,28609,Arkady Shtempler,ashtempl,"New test case: test_udp_update_pool_healthmonitor_listener

Test scenario:
1) Create: UDP listener, pool, healtmonitor and validate UDP traffic
2) Update pool algorithm to: ""source_ip"" and validate UDP traffic
3) Update healtmonitor with: ""delay=20"" and validate UDP traffic
4) Update listener with: ""connection-limit=300"" and validate UDP traffic

Change-Id: I0e719b5dc4fc2e62aefa282ac96647e02afd60bb
"
openstack%2Fansible-role-python_venv_build~master~Iec4a2a8c5251ddccedc4310c26c8fd2ca8bdc913,openstack/ansible-role-python_venv_build,master,Iec4a2a8c5251ddccedc4310c26c8fd2ca8bdc913,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 09:20:19.000000000,2021-03-01 09:45:15.000000000,2021-03-01 09:42:46.000000000,24,23,1,777068,2a533ed185c693711cb1fbb11f588d84c973df90,osa-facts,19,4,3,6,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Iec4a2a8c5251ddccedc4310c26c8fd2ca8bdc913
"
openstack%2Fopenstack-ansible-ops~master~I22b6735ad211e60b61d74cea34c7987d74bc8596,openstack/openstack-ansible-ops,master,I22b6735ad211e60b61d74cea34c7987d74bc8596,Fix regex_replace mapping,MERGED,2020-11-12 13:33:50.000000000,2021-03-01 09:24:18.000000000,2021-03-01 09:21:34.000000000,6,6,0,762519,59edfb9b32f7aab4eaaf783d8cbfff86afc6e8dd,elk_adjustments,11,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix regex_replace mapping

With current mapping we result in elasticsearch_data_node_details being
172.29.236.126:9200:9200 instead of 172.29.236.126:9200 which
means that map is applied twice to the same item
Changing regexp helps to resolve it. It looks like related to what [1] have seen

Also we don't need to transform to list when doing another map, as
working with generator object is more resource efficient.

[1] https://gist.github.com/halberom/9bfe009c9a3df5d64c7bb505a7700430#gistcomment-2706901

Change-Id: I22b6735ad211e60b61d74cea34c7987d74bc8596
"
openstack%2Fopenstack-ansible-ops~master~I97b728484894e75ebc8c4e55b98b2e3eea42baf6,openstack/openstack-ansible-ops,master,I97b728484894e75ebc8c4e55b98b2e3eea42baf6,Get elastic plugins via proxy,MERGED,2021-01-07 10:22:37.000000000,2021-03-01 09:22:59.000000000,2021-03-01 09:21:05.000000000,8,0,0,769701,c7e76e119f0ef418760ced39bd1ae77f44eb7bb9,,10,3,2,1,25600,Ebbex,ebbex,"Get elastic plugins via proxy

Some environments don't have routed internet and can only get data
via proxies. If proxy_env_url is set, try getting files via that.

Change-Id: I97b728484894e75ebc8c4e55b98b2e3eea42baf6
"
openstack%2Fopenstack-ansible-ops~master~I486e12555113b9209d8563598ca63e9de4fd1dc7,openstack/openstack-ansible-ops,master,I486e12555113b9209d8563598ca63e9de4fd1dc7,Remove `elastic_lxc_template_config` mapping,MERGED,2020-11-12 11:01:12.000000000,2021-03-01 09:21:17.000000000,2021-03-01 09:21:17.000000000,2,10,0,762501,6565d14ae05b13f595d103525846f1a22ca8c5f0,elk_adjustments,10,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove `elastic_lxc_template_config` mapping

We don't have OS at this moment that have lxc2, so mapping can be dropped
This fil also bring ubuntu focal support, since it has only lxc4.

Change-Id: I486e12555113b9209d8563598ca63e9de4fd1dc7
"
openstack%2Fpython-monascaclient~master~I14b9983c3bc54932e60ad1a0cb87bc77f4abaee5,openstack/python-monascaclient,master,I14b9983c3bc54932e60ad1a0cb87bc77f4abaee5,[DNM] Test requirements-check job,ABANDONED,2021-03-01 09:13:05.000000000,2021-03-01 09:21:09.000000000,,1,1,0,777942,96c294e9fb3b27d2e62a2e90121659d7f8f71897,dnm,3,1,1,1,15197,Pierre Riteau,priteau,"[DNM] Test requirements-check job

Change-Id: I14b9983c3bc54932e60ad1a0cb87bc77f4abaee5
"
openstack%2Fopenstack-zuul-jobs~master~Icd86fb696f3c9fe383c28888acd914144ff3a1c4,openstack/openstack-zuul-jobs,master,Icd86fb696f3c9fe383c28888acd914144ff3a1c4,Fix hacking min version to 4.0.0,ABANDONED,2020-11-02 06:04:09.000000000,2021-03-01 09:21:02.000000000,,1,1,4,760746,9b0c52ce51c9542301085f0561866ab9e77bbc2c,,22,4,5,1,32291,wushiming,wushiming,"Fix hacking min version to 4.0.0

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, and hacking 4.0.0 is available,
we need to bump the hacking min version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: Icd86fb696f3c9fe383c28888acd914144ff3a1c4
"
openstack%2Fopenstack-ansible-ops~master~I0d611f7cf3f30d054452cd6f1e426f5d13c06ac4,openstack/openstack-ansible-ops,master,I0d611f7cf3f30d054452cd6f1e426f5d13c06ac4,Make ELK Journalbeat seek configuration a variable,MERGED,2020-07-31 14:15:14.000000000,2021-03-01 09:20:11.000000000,2021-03-01 09:18:38.000000000,4,1,0,744180,dd12e4d611ada48168502de06d40853f5664e68a,elk-journalbeat-seek,25,6,4,2,31749,James Gibson,jamesgibo,"Make ELK Journalbeat seek configuration a variable

Allow users to specifiy the journalbeat configuration for where to
start reading journals from.
https://www.elastic.co/guide/en/beats/journalbeat/current/configuration-journalbeat-options.html#seek

Depends-On: https://review.opendev.org/741997
Change-Id: I0d611f7cf3f30d054452cd6f1e426f5d13c06ac4
"
openstack%2Fkayobe~stable%2Fussuri~Ie5ca04428855cbaf505adc57de76ea0b2d404080,openstack/kayobe,stable/ussuri,Ie5ca04428855cbaf505adc57de76ea0b2d404080,CI: retry overcloud jobs that land on vexxhost clouds,ABANDONED,2021-02-26 07:19:15.000000000,2021-03-01 09:17:56.000000000,,18,6,0,777723,6a15a595aa0dabf5640340f98eb26371fad100d6,,5,2,1,4,15197,Pierre Riteau,priteau,"CI: retry overcloud jobs that land on vexxhost clouds

Jobs that test baremetal deployment are currently failing when run on
Vexxhost infrastructure. The seed VM job also has trouble on Vexxhost,
although does sometimes pass. It's not clear why yet, and we are still
investigating. Until we have a solution, fail in the pre phase when we
land on vexxhost clouds, in order to trigger the zuul retry mechanism.

Also use the normal number (5) of attempts for upgrade jobs, since these
no longer deploy the previous release in the pre phase.

Note: compared to the original commit, the custom configuration for
ironic is removed since it only applies to Wallaby.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html

Change-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080
(cherry picked from commit 47bbb96b29ab30764d6220cdd43e63a1d2072533)
"
openstack%2Fkayobe~stable%2Ftrain~Ie5ca04428855cbaf505adc57de76ea0b2d404080,openstack/kayobe,stable/train,Ie5ca04428855cbaf505adc57de76ea0b2d404080,CI: retry overcloud jobs that land on vexxhost clouds,ABANDONED,2021-02-26 07:21:55.000000000,2021-03-01 09:17:42.000000000,,12,0,0,777724,36287d027c07537367f9407b041503352542d5f7,,3,2,1,2,15197,Pierre Riteau,priteau,"CI: retry overcloud jobs that land on vexxhost clouds

Jobs that test baremetal deployment are currently failing when run on
Vexxhost infrastructure. The seed VM job also has trouble on Vexxhost,
although does sometimes pass. It's not clear why yet, and we are still
investigating. Until we have a solution, fail in the pre phase when we
land on vexxhost clouds, in order to trigger the zuul retry mechanism.

Also use the normal number (5) of attempts for upgrade jobs, since these
no longer deploy the previous release in the pre phase.

Note: compared to the original commit, the custom configuration for
ironic is removed since it only applies to Wallaby.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html

Change-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080
(cherry picked from commit 47bbb96b29ab30764d6220cdd43e63a1d2072533)
"
openstack%2Fdevstack~master~I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08,openstack/devstack,master,I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08,Install 'httpd' package earlier on RedHat distros,ABANDONED,2020-12-14 08:45:14.000000000,2021-03-01 09:14:15.000000000,,3,7,4,766892,709f60627cf315c9b2ab5275ff13b29f09d5d91e,centos-8,26,7,12,1,27329,Federico Ressi,fressi_redhat,"Install 'httpd' package earlier on RedHat distros

'httpd' package installation is required before
writing modules configuration files on folder
'/etc/httpd/conf.modules.d/'

Closes-Bug: #1908397
Change-Id: I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08
"
openstack%2Fdevstack~master~Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c,openstack/devstack,master,Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c,Remove libyaml-devel package installation,ABANDONED,2020-12-14 15:14:14.000000000,2021-03-01 09:13:55.000000000,,1,3,1,766970,0104deca1f76ca729aed3a6850e8560d152da269,centos-8,18,6,9,2,27329,Federico Ressi,fressi_redhat,"Remove libyaml-devel package installation

Closes-Bug: #1907213
Change-Id: Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c
"
openstack%2Fnetworking-bagpipe~master~I18dec37fa415cf4a3cb7c94153295eafa2ce3e77,openstack/networking-bagpipe,master,I18dec37fa415cf4a3cb7c94153295eafa2ce3e77,Set secure mode for mpls bridge,MERGED,2021-02-09 13:08:01.000000000,2021-03-01 09:05:21.000000000,2021-03-01 09:04:02.000000000,12,2,4,774640,144f243a081e65fc31c020e12a4340371e83e8f4,or_m,15,4,3,3,14525,Vasyl Saienko,vsaienko,"Set secure mode for mpls bridge

Closes-Bug: #1915499

Change-Id: I18dec37fa415cf4a3cb7c94153295eafa2ce3e77
"
openstack%2Fcinder~master~Ia08c252d747148e624f8d9e8b0e43f94773421e0,openstack/cinder,master,Ia08c252d747148e624f8d9e8b0e43f94773421e0,[RBD] Fix snapshot backup name,MERGED,2020-12-17 16:08:41.000000000,2021-03-01 08:50:01.000000000,2021-02-20 13:34:51.000000000,4,1,0,767581,f04d905a63fe02f5a660e9852bdacbc2bc0f9233,,71,5,2,1,1736,Ivan Kolodyazhny,e0ne,"[RBD] Fix snapshot backup name

We always create a full backup for snapshots. It means we have to
generate a correct buckup name for a base backup.

Closes-Bug: #1860739
Change-Id: Ia08c252d747148e624f8d9e8b0e43f94773421e0
"
openstack%2Ftacker~master~I4900d9a8abbc8fb42ebd6088654ec02379a15c80,openstack/tacker,master,I4900d9a8abbc8fb42ebd6088654ec02379a15c80,[DNM] Check for MySQL related issues in this patch,ABANDONED,2021-02-26 04:32:59.000000000,2021-03-01 08:47:27.000000000,,749,115,0,777712,a82f912c0cc844e6164c362711642929ec0555e1,dnmpatch,7,1,3,17,32219,Aldinson C. Esto,esto-aln,"[DNM] Check for MySQL related issues in this patch

Change-Id: I4900d9a8abbc8fb42ebd6088654ec02379a15c80
"
openstack%2Fopenstack-ansible-ops~master~Ibfc20b1605245927ad4de4a54e751a13defb1ee0,openstack/openstack-ansible-ops,master,Ibfc20b1605245927ad4de4a54e751a13defb1ee0,Fixes for tests/gates,MERGED,2020-07-20 17:50:58.000000000,2021-03-01 08:37:16.000000000,2021-03-01 08:33:00.000000000,98,121,1,741997,b05893ae39ee6de63aaafab76528234fde6a252d,fix-tests,57,5,20,12,29865,Georgina Shippey,gshippey,"Fixes for tests/gates

Bump ansible version to 2.10.5
Prefer python3 over python2
Fix ansible str vs int comparisons
Print a message if setting defaultIndex in kibana 6 fails
Use saved_objects API for setting defaultIndex in kibana 7
Update version in dashboard path for 7x
ILM doesn't like bodies from GET requests
Stop using forked galera_server role, now that 633321 is merged
Force osquery inventory to python3
Update zuul jobs

Change-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0
"
openstack%2Ftripleo-ci~master~Icd4c1dc4802f5130499cacfba615dc8ad1e0fefe,openstack/tripleo-ci,master,Icd4c1dc4802f5130499cacfba615dc8ad1e0fefe,Make overcloud-hardened-full build image jobs vote and gate,MERGED,2021-02-23 09:58:00.000000000,2021-03-01 08:30:11.000000000,2021-03-01 08:30:11.000000000,27,8,1,777083,d84af247a1b8bc42da088efc46065e0b46c2b757,tripleo-ci-reduce,18,9,2,1,8449,Marios Andreou,marios,"Make overcloud-hardened-full build image jobs vote and gate

This makes tripleo-buildimage-overcloud-hardened-full-centos-8 and
-victoria/-ussuri/-train voting and adds them to the gate layout.

Seen as part of [1] and in reviewing our non-voting and failing jobs
these have a very good pass rate so there is no reason to keep them
as non voting [2]. The patch at [3] depends-on this one.

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
[2] https://zuul.openstack.org/builds?job_name=tripleo-buildimage-overcloud-hardened-full-centos-8-victoria&job_name=tripleo-buildimage-overcloud-hardened-full-centos-8&job_name=tripleo-buildimage-overcloud-hardened-full-centos-8-ussuri&job_name=tripleo-buildimage-overcloud-hardened-full-centos-8-train
[3] I24615a067a56ac226b07c2ebcf477b3682dfed2f

Change-Id: Icd4c1dc4802f5130499cacfba615dc8ad1e0fefe
"
openstack%2Foctavia~master~I94005e79129abb187538f90d9042bbc9b4f7e3ac,openstack/octavia,master,I94005e79129abb187538f90d9042bbc9b4f7e3ac,Delete useless row,ABANDONED,2021-03-01 02:59:32.000000000,2021-03-01 08:24:29.000000000,,0,1,0,777921,5554e63f4276fff612dbf82c75f706a7599d060e,delete_useless_row,4,2,1,1,32644,zhangxingjun,zhangxingjun,"Delete useless row

This line is invalid definition in the function, there is a new definition in 'if'(is_spare = False)

Change-Id: I94005e79129abb187538f90d9042bbc9b4f7e3ac
"
openstack%2Fopenstack-ansible-ops~master~Ica6170056d597d1fd0a3e8c06ebb65c8fbab77c7,openstack/openstack-ansible-ops,master,Ica6170056d597d1fd0a3e8c06ebb65c8fbab77c7,update to osquery,NEW,2018-10-24 18:23:00.000000000,2021-03-01 08:22:16.000000000,,139,77,5,613136,fce41ab3c85bd5821b0607f08ba286d12bc5d15d,osquery-updates,15,2,6,11,11365,Victor Palma,devx,"update to osquery

  * update elk integration
  * update osquery config
  * update kolide fleet configuration

Change-Id: Ica6170056d597d1fd0a3e8c06ebb65c8fbab77c7
"
openstack%2Ftripleo-docs~master~I42913c36b634ad1fb1c1b4cc0c798fe98dc430c2,openstack/tripleo-docs,master,I42913c36b634ad1fb1c1b4cc0c798fe98dc430c2,Remove references to DefaultPasswords,MERGED,2021-02-26 10:29:59.000000000,2021-03-01 08:16:22.000000000,2021-03-01 08:14:00.000000000,0,14,0,777738,e264e819359f35361cf602e10ce64b9fb12f9445,env_merging,8,3,1,3,6469,Carlos Gonçalves,cgoncalves,"Remove references to DefaultPasswords

The DefaultPasswords interface was removed from tripleo-heat-templates
in Change-Id If83d0f3d72a229d737a45b2fd37507dc11a04649.

Change-Id: I42913c36b634ad1fb1c1b4cc0c798fe98dc430c2
"
openstack%2Fpython-manilaclient~master~Iae54779386eccce0fd338017ed18b9ad21e13b95,openstack/python-manilaclient,master,Iae54779386eccce0fd338017ed18b9ad21e13b95,Remove all usage of six library,ABANDONED,2020-09-25 02:58:22.000000000,2021-03-01 07:46:00.000000000,,98,167,3,754253,01591607709605412a57beb2d7a46c69c82d9334,remove-six,14,3,4,38,32211,kuang congxian,kuangcx,"Remove all usage of six library

Replace six with Python 3 style code.

Depends-On: https://review.opendev.org#/c/753570/
Change-Id: Iae54779386eccce0fd338017ed18b9ad21e13b95
"
openstack%2Fglance_store~master~I8f374eb1b26ec408c52c6279da79cfe470d59a1c,openstack/glance_store,master,I8f374eb1b26ec408c52c6279da79cfe470d59a1c,Cinder store: Use v3 API by default,MERGED,2021-02-13 09:26:26.000000000,2021-03-01 05:52:35.000000000,2021-03-01 05:51:20.000000000,9,3,0,775497,77b61a952e9f62217a08548cef015bf6e5b953ac,bug/1915602,11,4,3,4,9816,Takashi Kajinami,kajinamit,"Cinder store: Use v3 API by default

v2 API of cinder is already deprecated, and the cinder community is now
planning to remove it.
This change makes cinder store use v3 API instead, which is the current
latest version actively maintainced.

Closes-Bug: #1915602
Change-Id: I8f374eb1b26ec408c52c6279da79cfe470d59a1c
"
openstack%2Fswift~master~I4445f1ef8b296c52cfc77041fede466ace23971b,openstack/swift,master,I4445f1ef8b296c52cfc77041fede466ace23971b,Sharding: add mean and std dev to cli tools,NEW,2021-03-01 03:53:35.000000000,2021-03-01 05:09:29.000000000,,30,4,0,777922,a9bd7e8fd3d4003ff9cf7452e9452383d5fe3c5e,add_config_to_manage_shard_ranges,3,1,1,3,7233,Matthew Oliver,mattoliverau,"Sharding: add mean and std dev to cli tools

Just playing around with adding some variance or distribution numbers to
the tools that display shard ranges. Just to see if it might be a good
addition.

Variance is just (std deviation)^2 so mean and std deviation should
cover most most of what we need.

Change-Id: I4445f1ef8b296c52cfc77041fede466ace23971b
"
openstack%2Fcinder~master~I5b3f0d6a637534b40cd8e3fa468a86a94605d879,openstack/cinder,master,I5b3f0d6a637534b40cd8e3fa468a86a94605d879,Correct format string in error message,MERGED,2020-12-03 09:36:14.000000000,2021-03-01 03:46:48.000000000,2021-02-20 13:34:36.000000000,1,1,3,765304,203eb2cf8465ffe79fa691c2eb3070c0907359f9,bug/1906605,105,7,2,1,32537,ZhaoYixin,zhaoyixin,"Correct format string in error message

Due to a syntax error, values are not being interpolated into a
message format string.  This patch corrects the error.

Closes-Bug: #1906605
Change-Id: I5b3f0d6a637534b40cd8e3fa468a86a94605d879
"
openstack%2Fneutron~master~I538aa6d68fbb5ff8431f82ba76601ee34c1bb181,openstack/neutron,master,I538aa6d68fbb5ff8431f82ba76601ee34c1bb181,DVR: Remove control plane arp updates for DVR,MERGED,2019-04-18 23:51:43.000000000,2021-03-01 02:39:08.000000000,2020-01-29 18:33:20.000000000,0,500,1,653883,b3a42cddc5c8716091d2b403831fb406d9dfcc75,dvr-remove-arp-update-through-control-plane,98,14,12,5,7016,Swaminathan Vasudevan,souminathan,"DVR: Remove control plane arp updates for DVR

This patch will remove all the control plane
arp updates for DVR routers. Based on the recent
patch that merged[1], DVR routers will no longer
require the control plane ARP update but will
depend on the ARP Responder for ARP updates.

[1] https://review.opendev.org/#/c/651905/

Change-Id: I538aa6d68fbb5ff8431f82ba76601ee34c1bb181
"
openstack%2Fopenstack-helm-deployments~master~If53e3014e1def66126eb297ab1f3a3b4268b90cb,openstack/openstack-helm-deployments,master,If53e3014e1def66126eb297ab1f3a3b4268b90cb,Add keystone to osh-deployments,MERGED,2020-11-12 21:55:16.000000000,2021-03-01 02:29:46.000000000,2021-03-01 02:29:46.000000000,169,1,0,762586,f889aa66c6430435c95baf3064700b49e69bacee,keystone,93,5,23,8,21420,Gage Hugo,ghugo,"Add keystone to osh-deployments

This change adds the manifests/functions for keystone to
the composite list that is deployed via openstack-helm-deployments.

Change-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb
"
openstack%2Fdiskimage-builder~master~I0016ac42003afacdc757f6003677d71c37b4e6bd,openstack/diskimage-builder,master,I0016ac42003afacdc757f6003677d71c37b4e6bd,Remove centos-release package for Centos 8.3,ABANDONED,2020-12-21 06:18:13.000000000,2021-03-01 02:19:48.000000000,,3,1,4,768044,e6f481b241a3d8b59d059f465acfd41307ea662d,centos-8,8,3,1,1,21757,Xing Zhang,angeiv,"Remove centos-release package for Centos 8.3

Error in build centos 8 images:
No package centos-release available.

With Centos 8.3, centos-repos package has been replaced by
other packages [1].

[1] https://lists.centos.org/pipermail/centos-devel/2020-September/056069.html

Change-Id: I0016ac42003afacdc757f6003677d71c37b4e6bd
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I2c23303a355c211c1d9d50238a24ef11c3f38580,openstack/openstack-ansible-lxc_hosts,master,I2c23303a355c211c1d9d50238a24ef11c3f38580,Remove single task from lxc_apparmor file,MERGED,2021-02-17 17:06:04.000000000,2021-03-01 00:45:59.000000000,2021-03-01 00:44:50.000000000,14,30,0,776240,611e278642341fd2285756044d1d9099febe1b5d,lxc-hosts-cleanup,25,3,8,2,25023,Jonathan Rosser,jrosser,"Remove single task from lxc_apparmor file

This can go in the lxc_install_apt tasks file where the previous
lxc_apparmor file was included

Change-Id: I2c23303a355c211c1d9d50238a24ef11c3f38580
"
openstack%2Fkuryr-tempest-plugin~master~I9e1c05820519ccf8547377937f9faeef966645b0,openstack/kuryr-tempest-plugin,master,I9e1c05820519ccf8547377937f9faeef966645b0,Fix ports population test,NEW,2021-02-25 01:53:30.000000000,2021-03-01 00:18:46.000000000,,37,24,0,777492,9c3e22b5c70639491e0688d6984fd6460ffe86c8,fix-ports-pool,9,2,4,1,27032,Maysa de Macedo Souza,maysa,"Fix ports population test

The test_port_pool is not properly handling the case for
when pre-population is enabled and when the ports_pool_batch
differs from 3. This commit fixes the issues by ensuring the
correct amount of Ports is created when needed.

Change-Id: I9e1c05820519ccf8547377937f9faeef966645b0
"
openstack%2Fopenstack-ansible-openstack_openrc~master~I8d1787e14f818c553f398adde554816856ef1a17,openstack/openstack-ansible-openstack_openrc,master,I8d1787e14f818c553f398adde554816856ef1a17,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 09:22:32.000000000,2021-02-28 23:27:53.000000000,2021-02-28 23:26:47.000000000,8,8,2,777070,b4f6b665b216d8e48e66c1be0f7bdcd2623a1131,osa-facts,13,4,2,1,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I8d1787e14f818c553f398adde554816856ef1a17
"
openstack%2Fpuppet-openstack-integration~master~I73d6ca61cd9ad1a3fd3ab79747a5c49a2d53c5b2,openstack/puppet-openstack-integration,master,I73d6ca61cd9ad1a3fd3ab79747a5c49a2d53c5b2,Clean up unused logics to install tempest from source,ABANDONED,2021-02-17 13:08:59.000000000,2021-02-28 22:56:45.000000000,,5,59,0,776165,9e9bcd859d5dc6dfce0aba1900fffd6f698fd901,bug/1915832,4,2,1,3,9816,Takashi Kajinami,kajinamit,"Clean up unused logics to install tempest from source

Change-Id: I73d6ca61cd9ad1a3fd3ab79747a5c49a2d53c5b2
"
openstack%2Fpuppet-openstack-integration~master~I46ac94b274f502a579dcbe0df3e563c02630a364,openstack/puppet-openstack-integration,master,I46ac94b274f502a579dcbe0df3e563c02630a364,Ubuntu: Install tempest by packages,ABANDONED,2021-02-17 13:01:49.000000000,2021-02-28 22:56:31.000000000,,5,11,0,776164,cc72f2d8312521ff1b2f8fbd6257a18a46a3e0bb,bug/1915832,5,3,1,1,9816,Takashi Kajinami,kajinamit,"Ubuntu: Install tempest by packages

Now Ubuntu provides packages for tempest and its plugins, thus we don't
need to install it from source.

Change-Id: I46ac94b274f502a579dcbe0df3e563c02630a364
"
openstack%2Fironic~stable%2Fvictoria~Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb,openstack/ironic,stable/victoria,Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb,devstack: a safeguard for disabled tempurls,MERGED,2021-02-28 16:33:59.000000000,2021-02-28 20:59:06.000000000,2021-02-28 20:57:48.000000000,1,1,0,777900,90da180a17852eab6af4b038fbd92989feccb5f8,gate-stable/victoria,9,2,1,1,10239,Dmitry Tantsur,dtantsur,"devstack: a safeguard for disabled tempurls

Change-Id: Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb
(cherry picked from commit 7abac806a7f889fc87120c9e2c3a61b3a35f6458)
"
openstack%2Fcinder~master~I6fad95580906434feeaf5a51e172ed7045f0e7f4,openstack/cinder,master,I6fad95580906434feeaf5a51e172ed7045f0e7f4,Use TOX_CONSTRAINTS_FILE,MERGED,2020-12-24 06:51:50.000000000,2021-02-28 20:56:45.000000000,2021-02-19 23:16:24.000000000,2,2,0,768427,dc938a4056c76e69695d773a051f3f4b79a6cac1,,58,7,2,1,30384,zhangboye,zhangboye,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I6fad95580906434feeaf5a51e172ed7045f0e7f4
"
openstack%2Fkayobe~stable%2Fvictoria~Ie5ca04428855cbaf505adc57de76ea0b2d404080,openstack/kayobe,stable/victoria,Ie5ca04428855cbaf505adc57de76ea0b2d404080,CI: retry overcloud jobs that land on vexxhost clouds,ABANDONED,2021-02-26 07:14:03.000000000,2021-02-28 20:44:31.000000000,,18,6,0,777720,7c0de4a579bc102566a996586198c5f5da847ade,,5,2,1,4,15197,Pierre Riteau,priteau,"CI: retry overcloud jobs that land on vexxhost clouds

Jobs that test baremetal deployment are currently failing when run on
Vexxhost infrastructure. The seed VM job also has trouble on Vexxhost,
although does sometimes pass. It's not clear why yet, and we are still
investigating. Until we have a solution, fail in the pre phase when we
land on vexxhost clouds, in order to trigger the zuul retry mechanism.

Also use the normal number (5) of attempts for upgrade jobs, since these
no longer deploy the previous release in the pre phase.

Note: compared to the original commit, the custom configuration for
ironic is removed since it only applies to Wallaby.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html

Change-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080
(cherry picked from commit 47bbb96b29ab30764d6220cdd43e63a1d2072533)
"
openstack%2Fpuppet-horizon~master~If89f2da5e915fef69af6667cd96f830b7b666867,openstack/puppet-horizon,master,If89f2da5e915fef69af6667cd96f830b7b666867,Remove the deprecated horizon::log_handler parameter,MERGED,2021-02-12 06:57:04.000000000,2021-02-28 18:06:48.000000000,2021-02-28 18:05:38.000000000,18,27,0,775320,66c74785e1075318dac45f73ffc17f9ab3c60aa2,log_handler,26,4,2,3,9816,Takashi Kajinami,kajinamit,"Remove the deprecated horizon::log_handler parameter

This parameter was deprecated during the previous cycle and replaced
by the new log_handlers parameter.

Change-Id: If89f2da5e915fef69af6667cd96f830b7b666867
"
openstack%2Foctavia-dashboard~master~Ia93cb7520ff9c179a27e72719f1fd10524c57acb,openstack/octavia-dashboard,master,Ia93cb7520ff9c179a27e72719f1fd10524c57acb,Disable Load Balancers panel when Octavia service is not deployed,MERGED,2020-12-14 04:43:11.000000000,2021-02-28 17:19:01.000000000,2021-02-28 17:17:53.000000000,1,1,3,766878,9b10ff4964d125dbd59232c52ca692c5c7fe0044,task/41413,35,5,6,1,9816,Takashi Kajinami,kajinamit,"Disable Load Balancers panel when Octavia service is not deployed

Currently Load Balancers panel is enabled based on 'network' service
defined in Keystone but it should refer to 'load-balancer' service
which is served by Octavia.

Story: #2008446
Task: #41413
Change-Id: Ia93cb7520ff9c179a27e72719f1fd10524c57acb
"
openstack%2Fcinder~master~I67ac3df632a34729646e7b037205327696818a22,openstack/cinder,master,I67ac3df632a34729646e7b037205327696818a22,mypy: annotate volume manager,MERGED,2020-06-04 14:26:44.000000000,2021-02-28 15:56:24.000000000,2021-02-28 15:55:00.000000000,306,149,79,733621,698ab86a74442a13713902dfb7bf0bc4ec7d628c,mypy,544,45,17,6,4523,Eric Harney,eharney,"mypy: annotate volume manager

This is just a first pass to get things
rolling.

Change-Id: I67ac3df632a34729646e7b037205327696818a22
"
openstack%2Fpuppet-horizon~master~I0508bfc19741c6bed435f11160122d422450f9ac,openstack/puppet-horizon,master,I0508bfc19741c6bed435f11160122d422450f9ac,Specify correct tempest whitelist,MERGED,2021-02-28 07:22:57.000000000,2021-02-28 15:02:47.000000000,2021-02-28 15:02:47.000000000,1,1,0,777882,bd119e751949205b67124343db0a1e9c88f62983,,7,2,1,1,8833,Rabi Mishra,rabi,"Specify correct tempest whitelist

Horizon dashboard tempest tests have been moved from
tempest-horizon plugin to Tempest.

Closes-Bug: #1917197
Change-Id: I0508bfc19741c6bed435f11160122d422450f9ac
"
openstack%2Fironic-lib~master~I0e790cebcd086d26bf27b909f73842c3f46bbd77,openstack/ironic-lib,master,I0e790cebcd086d26bf27b909f73842c3f46bbd77,Import json_rpc from ironic,MERGED,2021-02-06 12:36:15.000000000,2021-02-28 14:43:07.000000000,2021-02-28 14:41:57.000000000,1327,0,33,774354,22a944bd31e546350b94d451dc3386ba75fdab0e,json-rpc,15,3,4,7,10239,Dmitry Tantsur,dtantsur,"Import json_rpc from ironic

To be able to use the same JSON RPC implementation for ironic-inspector,
it is now imported in ironic-lib. Some additional abstraction laters are
added to avoid hard dependency on oslo.context and oslo.messaging.

Change-Id: I0e790cebcd086d26bf27b909f73842c3f46bbd77
"
openstack%2Fironic~master~Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb,openstack/ironic,master,Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb,devstack: a safeguard for disabled tempurls,MERGED,2021-02-25 11:10:02.000000000,2021-02-28 14:37:37.000000000,2021-02-28 14:36:13.000000000,1,1,0,777572,7abac806a7f889fc87120c9e2c3a61b3a35f6458,gate,17,3,1,1,10239,Dmitry Tantsur,dtantsur,"devstack: a safeguard for disabled tempurls

Change-Id: Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb
"
openstack%2Fheat~master~I034625733c2d22f0f5635f58e9df3d5785e58cf5,openstack/heat,master,I034625733c2d22f0f5635f58e9df3d5785e58cf5,Allow using database configs on db retry,MERGED,2020-09-18 07:49:56.000000000,2021-02-28 13:39:47.000000000,2021-02-28 13:38:29.000000000,31,9,2,752637,8daa7e938985e0fc34f603debf3a8ba1413d8ff7,change-752637-4,17,2,5,5,12404,Rico Lin,rico.lin,"Allow using database configs on db retry

Allow following db configs when calling wrap_db_retry:
    * database.db_max_retries
    * database.db_retry_interval
    * database.db_inc_retry_interval
    * database.db_max_retry_interval
So database cofig can now control db retries.
Please reference [1] for what each config options can do.

[1] https://opendev.org/openstack/oslo.db/src/branch/master/oslo_db/options.py

Change-Id: I034625733c2d22f0f5635f58e9df3d5785e58cf5
"
openstack%2Fopenstack-manuals~master~Id0800c9c9471a6d2fcf2bb03071abc3c7f3578cc,openstack/openstack-manuals,master,Id0800c9c9471a6d2fcf2bb03071abc3c7f3578cc,Update site for deprecated monasca-log-api & monasca-ceilometer,MERGED,2021-02-26 18:20:20.000000000,2021-02-28 10:22:48.000000000,2021-02-28 10:02:05.000000000,2,0,0,777804,d142f6c426055ee552e0d28907b2859320ff4b16,,8,3,1,1,8556,Ghanshyam,ghanshyam,"Update site for deprecated monasca-log-api & monasca-ceilometer

monasca-log-api & monasca-ceilometer are deprecated now
- https://review.opendev.org/c/openstack/governance/+/771785

Change-Id: Id0800c9c9471a6d2fcf2bb03071abc3c7f3578cc
"
openstack%2Fproject-config~master~I3ffc52e38708211f090319a63b9d794d0376223a,openstack/project-config,master,I3ffc52e38708211f090319a63b9d794d0376223a,Add infrawatch/functional-tests to available repos,MERGED,2021-02-24 16:28:09.000000000,2021-02-28 10:19:22.000000000,2021-02-28 10:05:43.000000000,1,0,0,777428,fb4e6933bbecff49e86044da2508940bd9044f47,add_repo/functional-tests,9,4,1,1,13177,Emma Foley,emma-l-foley,"Add infrawatch/functional-tests to available repos

This should allow tripleo-ansible molecule tests to complete
without cloning from github

Change-Id: I3ffc52e38708211f090319a63b9d794d0376223a
"
openstack%2Fopenstack-helm~master~Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb,openstack/openstack-helm,master,Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb,Update rbac api version for cinder,MERGED,2021-01-30 08:44:27.000000000,2021-02-28 08:37:16.000000000,2021-02-28 08:35:44.000000000,8,7,6,773234,566e1cb6698ec69efc14e881b24034eee833db22,Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb,38,8,10,5,30449,jinyuanliu,jinyuanliu,"Update rbac api version for cinder

When using a helm3 to deploy , it fails. Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can support helm2 and helm3.

Change-Id: Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb
"
openstack%2Frequirements~master~I1b1d5a731aa8f868e2af628f196378207c65ca37,openstack/requirements,master,I1b1d5a731aa8f868e2af628f196378207c65ca37,Updated from generate-constraints,ABANDONED,2021-02-28 06:17:29.000000000,2021-02-28 06:56:20.000000000,,4,5,0,777879,d779fce1bf66a31e379ffb3c06fc15a92ed86e73,openstack/requirements/constraints,3,0,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I1b1d5a731aa8f868e2af628f196378207c65ca37
"
openstack%2Fcinder~stable%2Fvictoria~I4383b691a8cc4aacb046332e418aafb88ba8ba56,openstack/cinder,stable/victoria,I4383b691a8cc4aacb046332e418aafb88ba8ba56,NetApp SolidFire: Fix duplicate volume when API response is lost,MERGED,2020-11-26 03:44:46.000000000,2021-02-28 05:42:45.000000000,2021-02-24 21:33:12.000000000,88,8,2,764273,deb31a0c4d35ea6c479bfe466b780ed07a489276,bug/1896112,49,7,2,3,30555,Fernando Ferraz,fernandoperches,"NetApp SolidFire: Fix duplicate volume when API response is lost

The SolidFire driver retries API requests in case a connection
error occurrs. When network is unstable, there may be the
possibility that the SolidFire backend successfully receive
and process a create volume operation, but fail to deliver the
response back to the driver.

When this scenario occurrs, the SolidFire driver automatically
resends the request, creating a second volume and leaving a
duplicate unused. Although this doesn't affect
driver functionality at first moment (the volume id from the
cluster is always correctly associated to cinder provider id),
further operations may hit the unused volume, leading to
unexpected hehavior.

This patch fixes this issue by:

1. Checking if the volume name already exists in the
backend before trying to create it. Volume creation will
raise a exception and abort in case of a volume is found.

2. Checking for volume creation right after a read timeout is
detected, preventing invalid API calls.

3. Adding option ´sf_volume_create_timeout´ to the SolidFire
driver, to allow users to set the appropriate timeout value for
their environment.

Closes-Bug: #1896112
Change-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56
(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)
"
openstack%2Fkeystone~master~I960379ceb435472cdc754b5f63243c70d552d9c3,openstack/keystone,master,I960379ceb435472cdc754b5f63243c70d552d9c3,fix E225 missing whitespace around operator,MERGED,2020-11-27 12:21:45.000000000,2021-02-28 04:55:45.000000000,2021-02-28 04:53:55.000000000,1,1,0,764453,6e7369f2e4e25055121570637de31bcd23fb0cf4,models_revoke_model_e225,15,5,1,1,18816,Maurice Escher,mapocace,"fix E225 missing whitespace around operator

Change-Id: I960379ceb435472cdc754b5f63243c70d552d9c3
"
openstack%2Fcinder~master~Ic63333e00430cf3075061e280ca05c7ad1d18c44,openstack/cinder,master,Ic63333e00430cf3075061e280ca05c7ad1d18c44,Remove install unnecessary packages,MERGED,2020-09-23 03:39:15.000000000,2021-02-28 04:43:55.000000000,2021-02-19 22:18:30.000000000,0,1,0,753490,e1f517927841341d456ce1cf175bce638a205081,,51,25,1,1,31027,MaAoyu,maaoyu,"Remove install unnecessary packages

The docs requirements migrated to doc/requirements.txt
we need not install things from requirements.txt.

Change-Id: Ic63333e00430cf3075061e280ca05c7ad1d18c44
"
openstack%2Foslo.policy~master~I7437cf00b2ba5c02926dc8c2435e237ef730f2b1,openstack/oslo.policy,master,I7437cf00b2ba5c02926dc8c2435e237ef730f2b1,trivial: Tweak docstrings,MERGED,2021-02-05 12:43:07.000000000,2021-02-28 04:31:16.000000000,2021-02-28 04:30:11.000000000,77,75,0,774235,d8534850d9238e85ae0ea55bf2ac8583681fdb2b,bug/1914095,33,7,4,1,15334,Stephen Finucane,sfinucan,"trivial: Tweak docstrings

There's no functional changes here other than moving the initializer
documentation for the 'DeprecatedRule' from the '__init__' docstring to
the class' docstring. This allows us to remove '__init__' entirely since
it was just calling the superclass.

Change-Id: I7437cf00b2ba5c02926dc8c2435e237ef730f2b1
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Foslo.policy~master~Ibcbf5292977e5264bf7eedd225cbab83e683e394,openstack/oslo.policy,master,Ibcbf5292977e5264bf7eedd225cbab83e683e394,Make 'Rule' attributes read-only,MERGED,2021-02-05 12:43:07.000000000,2021-02-28 04:13:25.000000000,2021-02-28 04:12:20.000000000,112,71,2,774233,45249db86e55c8d2c30186443371d352a74b6540,bug/1914095,31,5,4,2,15334,Stephen Finucane,sfinucan,"Make 'Rule' attributes read-only

We obviously can't do much about people accessing the private functions,
but this should avoid some obvious bugs. If people want to change the
rules, they should either state a different definition in a file or
change the definition in code.

Change-Id: Ibcbf5292977e5264bf7eedd225cbab83e683e394
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fswift~stable%2Fussuri~Icdf1f9d02d1e6ae5dc1112d2792ef6845067158b,openstack/swift,stable/ussuri,Icdf1f9d02d1e6ae5dc1112d2792ef6845067158b,Use swiftclient Connections in sharding probe tests,MERGED,2021-02-24 03:15:09.000000000,2021-02-28 02:58:18.000000000,2021-02-28 02:56:03.000000000,7,8,0,777287,5791cec31e6935a9af691dbd181bc1657d87ce2d,ussuri-sharding,12,2,1,1,597,Pete Zaitcev,zaitcev,"Use swiftclient Connections in sharding probe tests

This gets us retries ""for free"" and should reduce gate flakiness.

Cherry-Picked-From: Ia2e4c94f246230a3e25e4557b4b2c1a3a67df756
Change-Id: Icdf1f9d02d1e6ae5dc1112d2792ef6845067158b
"
openstack%2Fswift~stable%2Fussuri~I12988d2cd8e7c948f107e7df943cab8f8565c3d2,openstack/swift,stable/ussuri,I12988d2cd8e7c948f107e7df943cab8f8565c3d2,Refactor audit shard tests,MERGED,2021-02-24 03:15:09.000000000,2021-02-28 02:57:16.000000000,2021-02-28 02:55:59.000000000,88,76,0,777286,959a98d7b18aba3e9b9812f5cf81d107a237e59e,ussuri-sharding,12,3,1,1,597,Pete Zaitcev,zaitcev,"Refactor audit shard tests

The existing tests cover a lot of behaviors and carry around a lot of
state that makes them hard to extend in a descriptive mannor to cover
new or changed behaviors.

Cherry-Picked-From: Ie52932d8d4a66b11c295d5568aa3a60895b84f3b
Change-Id: I12988d2cd8e7c948f107e7df943cab8f8565c3d2
"
openstack%2Fironic~master~I52e4ee022b17cb7f007534cb368136567b139a34,openstack/ironic,master,I52e4ee022b17cb7f007534cb368136567b139a34,Add both IPv4 and IPv6 DHCP options if interface has both,MERGED,2021-02-25 22:05:48.000000000,2021-02-28 02:56:17.000000000,2021-02-28 02:54:46.000000000,85,20,4,777692,367cdcd66521a569965fc59cbce431039dbeb3ac,fix-ip-version,35,5,3,3,1004,Mohammed Naser,mnaser,"Add both IPv4 and IPv6 DHCP options if interface has both

It is possible that an interface has both IPv4 and IPv6 addresses,
primarily when using SLAAC with OpenStack Neutron.  When this is
the case, it is very likely that the first fixed IP would be a
SLAAC assigned port and the second IP is the IPv4 address.

In an environment where you are looking to boot via IPv4, no DHCPv6
infrastructure exists as IPv6 connectivity is provided via SLAAC,
you would not be able to use this network to boot off of.

This patch instead grabs all the fixed IP addresses, then inserts
the options that match the IP versions which are attached to the
interface, potentially resulting in both IPv4 and IPv6 options
being included (though the IPv6 ones would be largely omitted).

In environments where only IPv4 or IPv6 is in use on the port, it
will still only insert the options for those specific IP versions.

Story #2008660
Task #41933
Change-Id: I52e4ee022b17cb7f007534cb368136567b139a34
"
openstack%2Fironic-python-agent~stable%2Fussuri~Ib46612697851e36a16d272ccaeb0115106253863,openstack/ironic-python-agent,stable/ussuri,Ib46612697851e36a16d272ccaeb0115106253863,Software RAID: Get component devices by md UUID,MERGED,2021-02-27 05:20:51.000000000,2021-02-28 01:02:37.000000000,2021-02-28 01:01:29.000000000,152,20,0,777778,c23c107b3e770eb3deaafa0e6ebdfcde2722a6a4,story_2008186-stable/ussuri,8,3,1,3,1004,Mohammed Naser,mnaser,"Software RAID: Get component devices by md UUID

Scanning the output of mdadm commands for RAID members will
miss component devices which are currently not part of the
RAID. For proper cleaning it is better to scan block devices
for a signature of the md device for which we would like to
get the components.

Story: #2008186
Task: #40947

Change-Id: Ib46612697851e36a16d272ccaeb0115106253863
(cherry picked from commit 044c64dbc0ccf166368ae364b48289420e8674ed)
"
openstack%2Fcinder~master~If127b75aac1ea6b25ec6473913410b1a7ec217d4,openstack/cinder,master,If127b75aac1ea6b25ec6473913410b1a7ec217d4,TOYOU:  Abandon the target parameter and  Report SAN driver options,MERGED,2021-02-03 07:51:31.000000000,2021-02-27 22:36:00.000000000,2021-02-23 22:40:41.000000000,82,96,5,773844,11185189ba214c68294267fbcf38c4c4d1c2b69b,fixed-issues-toyou-acs5000-driver,89,3,2,5,32833,yangheng,yangheng,"TOYOU:  Abandon the target parameter and  Report SAN driver options

Report SAN driver options:
Added configuration options(san_ip, san_ssh_port, san_login) to report on their specific ""get_driver_options"" method.

Abandon the target parameter:
The target parameter should not be required or used. Automatic adaptation when mapping.

This patch resolves the remaining issues with the target parameter and get_driver_options method in review [1].

[1]: https://review.opendev.org/c/openstack/cinder/+/767290

Change-Id: If127b75aac1ea6b25ec6473913410b1a7ec217d4
"
openstack%2Frequirements~master~I4173b25ad03fec91b0cb76ce6b8abd5cda34da5c,openstack/requirements,master,I4173b25ad03fec91b0cb76ce6b8abd5cda34da5c,Updated from generate-constraints,MERGED,2021-02-27 06:27:06.000000000,2021-02-27 22:30:39.000000000,2021-02-27 22:29:15.000000000,10,9,0,777859,8566a9c40141afef2612496e34f13f1db052f1ba,openstack/requirements/constraints/noclob,16,2,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I4173b25ad03fec91b0cb76ce6b8abd5cda34da5c
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fcinder~master~Ibdbc1c4c215dc1aa5ea728e3ff4727ddc803bd7e,openstack/cinder,master,Ibdbc1c4c215dc1aa5ea728e3ff4727ddc803bd7e,Tests: Add another mock psutil in quobyte tests,MERGED,2021-01-28 16:10:23.000000000,2021-02-27 22:25:47.000000000,2021-02-19 22:17:57.000000000,4,1,0,772902,01f01001187c66695eafec519f019c147cf58932,,39,5,1,1,11805,Corey Bryant,coreycb,"Tests: Add another mock psutil in quobyte tests

Add a mock of psutil.disk_partitions as it appears that psutil
can be called in this test depending on the state of the system.

Change-Id: Ibdbc1c4c215dc1aa5ea728e3ff4727ddc803bd7e
Closes-Bug: #1913607
"
openstack%2Fmasakari~master~I2b7f8e6b968cd96195eeb1f40f6de5764d65785d,openstack/masakari,master,I2b7f8e6b968cd96195eeb1f40f6de5764d65785d,Simplify endpoints created by devstack plugin,MERGED,2017-03-06 08:22:47.000000000,2021-02-27 20:22:36.000000000,2021-02-27 20:11:57.000000000,1,5,0,441796,54c726a332025827f866060dd1e221cbb46caa21,endpoint_simplification,17,6,4,2,8988,Rikimaru Honjo,rikimaru.honjo,"Simplify endpoints created by devstack plugin

Admin endpoint and internal endpoint are not configured by default
in recent devstack. [1]

According to the above change, this patch removes these type
endpoints from masakari devstack plugin and README.rst.

[1] Ided7a65c81b3a0b56f0184847fc82e17c29a771e

Change-Id: I2b7f8e6b968cd96195eeb1f40f6de5764d65785d
"
openstack%2Fmasakari~master~Iad942530b5d540af3d3c074e9944687b93bcd7f2,openstack/masakari,master,Iad942530b5d540af3d3c074e9944687b93bcd7f2,[goal] Deprecate the JSON formatted policy file,MERGED,2020-12-20 23:26:08.000000000,2021-02-27 19:33:41.000000000,2021-02-27 19:32:32.000000000,81,22,4,768022,513c29078ffa52f50bc75528c891eef2e77eda99,policy-json-to-yaml,16,4,4,12,8556,Ghanshyam,ghanshyam,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file''
config option from 'policy.json' to 'policy.yaml' with
upgrade checks.

2. Deprecate the JSON formatted policy file on the project side
via warning in doc and releasenotes.

Also replace policy.json to policy.yaml ref from doc and tests.

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: Iad942530b5d540af3d3c074e9944687b93bcd7f2
"
openstack%2Fopenstack-ansible-os_octavia~master~Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7,openstack/openstack-ansible-os_octavia,master,Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7,Add variable to override keypair setup python interpreter,MERGED,2021-01-26 15:23:03.000000000,2021-02-27 18:52:10.000000000,2021-02-27 18:51:01.000000000,3,3,0,772559,44d0a6d39838cd76d55111096783bbcab838ec79,,21,3,4,2,31542,Andrew Bonney,andrewbonney,"Add variable to override keypair setup python interpreter

When using a non-standard host for keypair setup (such as a utility
container) it is necessary to set a custom python interpreter
which has access to openstacksdk.

This commit provides a variable to do this in the same style as
used for service setup hosts.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777601
Change-Id: Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7
"
openstack%2Fironic~master~I90efb9f309df46c9b0ef073e789e1f1aaa1b1a1c,openstack/ironic,master,I90efb9f309df46c9b0ef073e789e1f1aaa1b1a1c,Enforce autospec in test_driver,MERGED,2021-02-23 09:55:54.000000000,2021-02-27 18:51:57.000000000,2021-02-27 18:49:00.000000000,43,27,0,777082,f18fec2329d48514130a07652dcd74cb2d12c3c0,enforce-autospec,12,3,1,2,23851,Riccardo Pittau,elfosardo,"Enforce autospec in test_driver

And remove filter from tox.ini

Change-Id: I90efb9f309df46c9b0ef073e789e1f1aaa1b1a1c
"
openstack%2Fironic~master~I0eadacf87baf68bc1c6547aac562f85edcad1aa3,openstack/ironic,master,I0eadacf87baf68bc1c6547aac562f85edcad1aa3,Enforce autospec in test_node,MERGED,2021-02-18 15:18:58.000000000,2021-02-27 18:50:42.000000000,2021-02-27 18:48:37.000000000,393,273,0,776479,6ed75bc6cf81404a029f36c8ff7f5166769ed2be,enforce-autospec,20,4,3,2,23851,Riccardo Pittau,elfosardo,"Enforce autospec in test_node

And remove filter from tox.ini

Also sets noqa for 2 mocks to keep ignoring autospec.

Change-Id: I0eadacf87baf68bc1c6547aac562f85edcad1aa3
"
openstack%2Fironic~master~I29257c805ce0afb01ae9422671d71d225f4b2573,openstack/ironic,master,I29257c805ce0afb01ae9422671d71d225f4b2573,Enforce autospec in test_notification_utils module,MERGED,2021-02-19 10:59:13.000000000,2021-02-27 18:48:43.000000000,2021-02-27 18:48:43.000000000,4,5,0,776603,52c01f87cc34c71aa355a53fb5dee8eff0a3a6ba,enforce-autospec,14,4,2,2,23851,Riccardo Pittau,elfosardo,"Enforce autospec in test_notification_utils module

And remove tox.ini filter

Change-Id: I29257c805ce0afb01ae9422671d71d225f4b2573
"
openstack%2Fmasakari~master~I869e00b214cacb0dc223e962201944d3ce13526c,openstack/masakari,master,I869e00b214cacb0dc223e962201944d3ce13526c,[docs] Add docs on code structure,MERGED,2020-11-12 10:00:23.000000000,2021-02-27 18:46:51.000000000,2021-02-27 17:54:44.000000000,103,5,6,762490,5caad48713c33b22ccaa0e10f5e2b5be70bc2d3c,,28,3,10,2,32304,Jegor van Opdorp,jopdorp,"[docs] Add docs on code structure

Additionally restructures the contributor guide.

Change-Id: I869e00b214cacb0dc223e962201944d3ce13526c
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Foslo.policy~master~Iff85a9134f4db7c0355da2858deb8a704d044634,openstack/oslo.policy,master,Iff85a9134f4db7c0355da2858deb8a704d044634,Don't modify 'Rule.check',MERGED,2021-02-04 17:33:14.000000000,2021-02-27 18:13:34.000000000,2021-02-27 18:12:21.000000000,33,38,12,774112,d933ca88baf4070f1968c66e56bc20b06bc2457b,bug/1914095,31,7,6,2,15334,Stephen Finucane,sfinucan,"Don't modify 'Rule.check'

There are two big issues with this. Firstly, as noted in bug #1914095,
we're not copying the provided 'Rule' object which means if we create an
enforcer and the rule is modified, then a second enforcer in the same
process will ultimately end up using the same modified 'Rule' object
will be used. Secondly, while the 'check' attribute is modified the
'check_str' attribute is not. This is immensely confusing for people
debugging.

Resolve both issues by not modifying this check at all and instead build
the combined check and store this.

Change-Id: Iff85a9134f4db7c0355da2858deb8a704d044634
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~master~I5708442336cd9cea43bfbf32292475e52872ca3d,openstack/nova,master,I5708442336cd9cea43bfbf32292475e52872ca3d,apidb: Compact Liberty database migrations,MERGED,2020-10-23 11:42:17.000000000,2021-02-27 17:48:55.000000000,2021-02-27 17:47:21.000000000,87,182,0,759399,d97fd311311a52a212691c4c5fc5ef47afb5d5e0,bp/compact-db-migrations-wallaby,67,12,3,7,15334,Stephen Finucane,sfinucan,"apidb: Compact Liberty database migrations

Specific changes include:

- Add 'cell_mappings' table (001)
- Add 'host_mappings' table (002)
- Add 'instance_mappings' table (003)

Change-Id: I5708442336cd9cea43bfbf32292475e52872ca3d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~I5d5df3948964c28f53eda0ba5a966c824012bd4c,openstack/tripleo-heat-templates,master,I5d5df3948964c28f53eda0ba5a966c824012bd4c,Remove ovn-dbs temporary container,MERGED,2020-11-23 08:30:20.000000000,2021-02-27 16:59:16.000000000,2021-02-27 16:59:16.000000000,0,37,0,763749,aca8b5fd6f799859a718105744f1d0b1331de848,remove-ovn-dbs-cruft,22,6,3,1,20172,Michele Baldessari,michele,"Remove ovn-dbs temporary container

With I918b6c16db6ed70d9ad612aecd7af7d725520f7b we moved the ovn-dbs
creation out of the ephemeral ovn_dbs_init_bundle container and on to
the host.

We left the ovn_dbs_init_bundle container around and kept the tag
ovn_dbs_remove_old_cruft for it. This is because with that tag
we historically triggered the needed code to make sure to handle
the transition from a deployment where ovn-dbs used the internal_api
VIP to the (current) deployment where ovn-dbs uses its own VIP.

Since ovn-dbs has its own VIP starting with train, we can now safely
drop this container.

Change-Id: I5d5df3948964c28f53eda0ba5a966c824012bd4c
"
openstack%2Fcinder-tempest-plugin~master~I5c5ff6f996dd39b52fada82f3938b628e58b0a2c,openstack/cinder-tempest-plugin,master,I5c5ff6f996dd39b52fada82f3938b628e58b0a2c,Add Snapshot data integrity test,MERGED,2020-01-14 18:00:09.000000000,2021-02-27 16:47:15.000000000,2021-02-27 16:47:15.000000000,1269,0,70,702495,21d63a3ada907341348ac8b73d31b0d07f3390d6,702495,108,10,16,2,27615,Rajat Dhasmana,whoami-rajat,"Add Snapshot data integrity test

This patch adds data integrity tests for snapshot with the following
procedure :

1) create a volume from image
2) Boot an instance from the volume
3) create file on vm and write data into it
4) create first snapshot
5) repeat 3
5) create second snapshot
6) repeat 3
7) create third snapshot

Now restore the snapshots one by one into volume, create instances
from it and check the number of files and file content at each
point snapshot was created.

We are also temporarily making a copy of tempest scenario manager until
the actual manager is available for import in tempest plugins.

Change-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c
"
openstack%2Fpuppet-glance~stable%2Fussuri~Ib724f6e895716847827be48ed08b01a7a312338f,openstack/puppet-glance,stable/ussuri,Ib724f6e895716847827be48ed08b01a7a312338f,Add config parameter for cinder mounting needs,MERGED,2021-02-24 07:28:22.000000000,2021-02-27 16:47:00.000000000,2021-02-27 16:45:51.000000000,19,0,0,777128,1bd1615234f261e2df8cda04fd6581230b758e6b,glance-cinder-mountpoint-stable/victoria-stable/ussuri,9,4,1,3,19138,Pranali Deore,PranaliD,"Add config parameter for cinder mounting needs

This patch is introducing cinder_mount_point_base parameter into
glance::backend::multistore::cinder class, so that operators can
provide the cinder mount point for NFS volumes.

Change-Id: Ib724f6e895716847827be48ed08b01a7a312338f
(cherry picked from commit 46e9319d8e012d2df6b7d8f85f59315db6e95ff2)
(cherry picked from commit 11bd956b9b6ae6e09547bfe14ac02af4ade573ce)
"
openstack%2Fcinder~master~Ib9440b4b277b61dcedd324a4cb3d4776e5a9f5a2,openstack/cinder,master,Ib9440b4b277b61dcedd324a4cb3d4776e5a9f5a2,Tests: Move glance_stubs to glance dir,MERGED,2020-11-17 17:01:10.000000000,2021-02-27 15:46:01.000000000,2021-02-19 22:17:28.000000000,1,1,0,763046,ceb5022547f33345e3047d34c2cb539318c1bac5,,55,24,1,3,4523,Eric Harney,eharney,"Tests: Move glance_stubs to glance dir

This is only used by test_glance.py -- move the
stubs over there for better organization.

Change-Id: Ib9440b4b277b61dcedd324a4cb3d4776e5a9f5a2
"
openstack%2Fpuppet-designate~master~I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2,openstack/puppet-designate,master,I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2,Add bind9 backend parameter to allow bypassing bind configuration,MERGED,2021-02-18 19:03:16.000000000,2021-02-27 15:41:12.000000000,2021-02-27 15:39:59.000000000,57,30,6,776517,d68a16c853574fd20e4e003e2ec49183ebbe34ef,designate,18,3,4,3,6681,Brent Eagles,beagles,"Add bind9 backend parameter to allow bypassing bind configuration

Adds designate::backedn::bind9::configure_bind parameter to allow
bypassing the dns puppet module. This is necessary when bind is not
installed on same host as designate.

Change-Id: I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2
"
openstack%2Fpuppet-nova~stable%2Ftrain~I98fe83e0c245388944529cd19b5e2bbed134e855,openstack/puppet-nova,stable/train,I98fe83e0c245388944529cd19b5e2bbed134e855,Allow both DEFAULT/dhcp_domain and api/dhcp_domain to be set,MERGED,2021-02-08 13:42:21.000000000,2021-02-27 15:22:54.000000000,2021-02-27 15:21:42.000000000,10,22,0,774478,2ae766f1aaf4e3ffd2626cdc9bc0905b9dca4cec,refactor_nova_db_config,15,8,4,4,27419,David Vallee Delisle,dvd,"Allow both DEFAULT/dhcp_domain and api/dhcp_domain to be set

Partial revert of If6a26527a737a7184ebddd5b4bc346d64827e9e3 to allow
both/either config option to be used until it is clear what nova will
take.

Conflicts:
	manifests/init.pp
	manifests/metadata.pp

Related-bug: #1903908
Change-Id: I98fe83e0c245388944529cd19b5e2bbed134e855
(cherry picked from commit e8b24805d6ad863d91ecd84d00333e14821a7368)
(cherry picked from commit 804608e990500b227307c986bef2ec6a4ae3edfa)
"
openstack%2Fpuppet-nova~stable%2Ftrain~If6a26527a737a7184ebddd5b4bc346d64827e9e3,openstack/puppet-nova,stable/train,If6a26527a737a7184ebddd5b4bc346d64827e9e3,Set dhcp_domain for all nova services,MERGED,2021-02-08 13:41:58.000000000,2021-02-27 15:14:32.000000000,2021-02-27 15:13:06.000000000,28,16,0,774414,dbba136cae4bce23124b2e7b0a48a0c574397692,refactor_nova_db_config,18,7,4,5,27419,David Vallee Delisle,dvd,"Set dhcp_domain for all nova services

This is required for nova-compute so move to init.pp from metadata.pp and set
DEFAULT/dhcp_domain (which nova should undeprecate) vs api/dhcp_domain.

Conflicts:
    manifests/init.pp
    manifests/metadata.pp
    spec/classes/nova_init_spec.rb

Change-Id: If6a26527a737a7184ebddd5b4bc346d64827e9e3
Related-bug: #1903908
Related-bug: #1832537
(cherry picked from commit 71276558e77c8612397d0e31187cc8eec4554ff9)
(cherry picked from commit 5e4cee430393ff8df1c587112309a54a83189ef0)
(cherry picked from commit 6d0376e33d958be0e97a9f6fb59290e85e027c78)
"
openstack%2Fcinder-tempest-plugin~master~I52d06f1c1e141cb455fb7a823a27be532afb4c16,openstack/cinder-tempest-plugin,master,I52d06f1c1e141cb455fb7a823a27be532afb4c16,Switch to stestr,MERGED,2021-02-09 21:50:41.000000000,2021-02-27 15:13:26.000000000,2021-02-27 15:13:26.000000000,9,10,0,774740,7c47222c549c32df615ec53ba434b0ee00710bac,stestr,19,5,1,5,10459,Luigi Toscano,ltoscano,"Switch to stestr

We don't really have unit tests in the repository and any py3x venv
would not really be useful (the tests are executed through tempest),
but let's remove the old dependency anyway and depend on stestr
like all the other OpenStack projects.

Change-Id: I52d06f1c1e141cb455fb7a823a27be532afb4c16
"
openstack%2Fpuppet-qdr~stable%2Fqueens~Ie72494c7525a2ea361483eadad64f2aba36044f3,openstack/puppet-qdr,stable/queens,Ie72494c7525a2ea361483eadad64f2aba36044f3,DNM: Testing gate,ABANDONED,2021-02-24 14:31:07.000000000,2021-02-27 14:01:57.000000000,,0,0,0,777387,1521a597331a6ed59033f3185dfbd7eb2f64e69e,dnm,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Testing gate

Depends-on: https://review.opendev.org/777126
Change-Id: Ie72494c7525a2ea361483eadad64f2aba36044f3
"
openstack%2Fneutron-tempest-plugin~master~Ibc1594d0296b31af82776eea84b1d3dea5a4dac7,openstack/neutron-tempest-plugin,master,Ibc1594d0296b31af82776eea84b1d3dea5a4dac7,Explicitly set jobs to ML2/OVS,MERGED,2020-09-02 13:40:52.000000000,2021-02-27 13:01:49.000000000,2021-02-27 13:01:49.000000000,285,2,162,749503,743c3b26b939f223838ec993434e9b166266e552,ovn-devstack,69,6,26,7,6773,Lucas Alvares Gomes,lucasagomes,"Explicitly set jobs to ML2/OVS

Devstack is changing the Neutron default to OVN backend. This patch
is asserts that neutron-tempest-plugin gate will not get broken by
that change by explicitly configuring stable jobs to continue to run
with ML2/OVS.

Change-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fmonasca-notification~stable%2Ftrain~Ib0a2775c8886a35ff5101211abceba8d04463a65,openstack/monasca-notification,stable/train,Ib0a2775c8886a35ff5101211abceba8d04463a65,Fix zuul publish docker image job,MERGED,2021-02-26 10:18:16.000000000,2021-02-27 11:29:06.000000000,2021-02-27 11:29:06.000000000,1,1,0,777736,0dd52ee941a552ad9f297e5cde4713fe69b1794a,fix-zuul-publish,8,2,2,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: Ib0a2775c8886a35ff5101211abceba8d04463a65
"
openstack%2Fopenstack-helm~master~I7b2df90340f33a5b3edac5a53d8031325f96244d,openstack/openstack-helm,master,I7b2df90340f33a5b3edac5a53d8031325f96244d,Update horizon chart releasenotes to latest,MERGED,2021-02-20 00:51:24.000000000,2021-02-27 11:04:51.000000000,2021-02-27 11:03:27.000000000,6,0,2,776766,e3cb8aa4d1e5cf8bc688516b5372f9e8674c5c2d,,17,6,3,1,30449,jinyuanliu,jinyuanliu,"Update horizon chart releasenotes to latest

This change updates the releasenotes for the horizon chart to the latest version of the chart as of this patchset.

Change-Id: I7b2df90340f33a5b3edac5a53d8031325f96244d
"
openstack%2Fcinder~master~I2885a246b8e4b1fbd849de15991108b14f4ac8ce,openstack/cinder,master,I2885a246b8e4b1fbd849de15991108b14f4ac8ce,Drop policy check failures to DEBUG,MERGED,2020-08-28 17:37:20.000000000,2021-02-27 10:09:02.000000000,2021-02-20 17:35:26.000000000,1,1,0,748727,d99322ede13d9b0614781ae6c80c3647407cfbb8,drop-error-level,113,32,2,1,1004,Mohammed Naser,mnaser,"Drop policy check failures to DEBUG

The policy check failures are not actionable by the operator of the
cloud, therefore logging them as ERROR makes them very noisy for a cloud
if someone is hitting an API they're not allowed to talk to.

Nova currently logs this in DEBUG level so it would make sense to be
logging it at the same level.

Change-Id: I2885a246b8e4b1fbd849de15991108b14f4ac8ce
"
openstack%2Fswift~stable%2Fussuri~Ibf304bb64f005a86cb4d08312c5d7ad4a2488719,openstack/swift,stable/ussuri,Ibf304bb64f005a86cb4d08312c5d7ad4a2488719,container-sharding: Stable overlap order,MERGED,2021-02-24 03:15:09.000000000,2021-02-27 09:52:52.000000000,2021-02-27 09:51:37.000000000,42,1,0,777285,760528cb70cf56a1a23a7d3c3e3b708677213687,ussuri-sharding,14,3,1,2,597,Pete Zaitcev,zaitcev,"container-sharding: Stable overlap order

When you have overlapping active shard ranges updates will get sent to
""the first"" database; but when the proxy queries shards for listings
they get stitched together end-to-end with markers.

This means mostly the second shard range is ignored.  But since the
order of shard ranges is not stable (it seems to depend on the database
indexes; which can change when rows are added or removed) you could send
updates to ""the wrong"" shard.

Using a stable order leads to more correct and robust behavior under
failure; and is also better for cognitive overhead.

Cherry-Picked-From: Ia9d29822bf07757fc1cf58ded90b49f12b7b2c24
Change-Id: Ibf304bb64f005a86cb4d08312c5d7ad4a2488719
"
openstack%2Ftripleo-ci~master~Ie6473759383bd4b903cbe56fba9fee75a24154c4,openstack/tripleo-ci,master,Ie6473759383bd4b903cbe56fba9fee75a24154c4,Remove standalone/undercloud from multinode layouts +deprecate old,MERGED,2021-02-23 12:26:15.000000000,2021-02-27 06:00:46.000000000,2021-02-27 06:00:46.000000000,191,239,0,777099,0387f813b098405bbeeff5295c7434f5f9272555,tripleo-ci-reduce,22,10,4,2,8449,Marios Andreou,marios,"Remove standalone/undercloud from multinode layouts +deprecate old

As part of CI optimisation at [1] this deprecates the following
multinode templates:

  * tripleo-multinode-baremetal-minimal
  * tripleo-multinode-baremetal-full
  * tripleo-multinode-container-full
  * tripleo-multinode-container-minimal
  * tripleo-multinode-tripleoci

These are still used in some places such as [2][3] so we need
to remove those before we can delete the templates alltogether.

This also removes the standalone and undercloud jobs from the
multinode template. It is confusing to have them there and
increases the maintenance burden for the tripleo-ci team.

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
[2] https://review.opendev.org/c/openstack/os-apply-config/+/777097
[3] https://review.opendev.org/c/openstack/os-refresh-config/+/777098

Change-Id: Ie6473759383bd4b903cbe56fba9fee75a24154c4
"
openstack%2Fopenstack-helm~master~I39c5d2014146925afe7fd896123a705c19005ff9,openstack/openstack-helm,master,I39c5d2014146925afe7fd896123a705c19005ff9,BUG for deploying multiple compute nodes,MERGED,2021-02-02 02:23:01.000000000,2021-02-27 05:48:29.000000000,2021-02-27 05:47:09.000000000,3,2,2,773558,aa5e622b47ed04cfc6ac0561f151f61e0accac44,773558,64,9,8,3,30449,jinyuanliu,jinyuanliu,"BUG for deploying multiple compute nodes

When Deployment of compute nodes is not on all nodes (e.g.Total 5 nodes,but 3 compute nodes),The original method counts all nodes instead of compute nodes,This can result in less than 100%  and the process will get stuck,this is a bug!

Change-Id: I39c5d2014146925afe7fd896123a705c19005ff9
"
openstack%2Fkeystone~master~I2619108216035a37823e53efb5a3f9fe6cfe5cbb,openstack/keystone,master,I2619108216035a37823e53efb5a3f9fe6cfe5cbb,trivial: Update minor wording nit in RBAC persona documentation,MERGED,2021-02-05 14:58:38.000000000,2021-02-27 05:26:10.000000000,2021-02-27 05:23:24.000000000,2,2,0,774248,9707673b3467fd9e476eb7c4721b3d930ba74e81,secure-rbac,8,2,2,1,5046,Lance Bragstad,ldbragst,"trivial: Update minor wording nit in RBAC persona documentation

After reading through the documentation, I thought this sentence sounded
funny using 'within' and 'in' so close to each other. I updated it so
that it isn't quite so jarring.

Change-Id: I2619108216035a37823e53efb5a3f9fe6cfe5cbb
"
openstack%2Fkeystone~master~Iea28faf1b3e63c7ab07e90808d2bc76ee3ee0612,openstack/keystone,master,Iea28faf1b3e63c7ab07e90808d2bc76ee3ee0612,Clarify ``reader`` role implementation in persona admin guide,MERGED,2021-01-19 19:40:11.000000000,2021-02-27 05:24:57.000000000,2021-02-27 05:23:02.000000000,67,28,17,771509,4df1130e1285da2a55569f727abe5077acd4220d,secure-rbac,23,7,3,1,5046,Lance Bragstad,ldbragst,"Clarify ``reader`` role implementation in persona admin guide

The secure RBAC work propogating throughout the community has led to
some interesting discussions about how to implement support for
``reader``. Specifically, should ``reader`` be used for auditing
deployments?

Some compliance targets, verified by third-party auditors, require
access to sensitive information (e.g., thinking about license keys in
glance images or volume type encryption metadata in cinder). The concern
raised among developers updating their default policies to use
``reader`` roles is if they should be using that role to protect
sensitive information, especially if it's the least-authoritative role
in the hierarchy between reader, member, and admin.

This documentation is supposed to assist deployers in understanding the
various personas that developers are implementing by default, but it
doesn't call out the complicated relationship we have with ``reader``
and auditing.

The change here proposes that we explicitly say that ``reader``
shouldn't be used to protect sensitive information, regardless of the
scope, because ``reader`` was designed to be the least-authoritative
role provided by keystone, by default. Instead, service developers
working to implement these personas consistently in other services
should keep sensitive information, if applicable to their API or
resources, at the ``admin`` tier of the hierarchy. This provides better
protection of sensitive information by not exposing is implicitly.

We can consider supporting a formal default role for auditing in the
future, but building it outside the default implied role tree so that
it's not implied to anyone with a role assignment. This will come at
another time and we can use implied roles to re-use all the work we've
done across OpenStack to implement support for ``reader``.

For now, ``reader`` should be viewed from the perspective of the
least-authoritative permissions grant-able to a given scope (e.g.,
system, domain, or project). Even if ``reader`` has limited use in
auditing deployments, it's still incredibly useful for operators
because they have a role they can grant to users with minimal trust, or
minimal permissions in the deployment.

This commit acknowledges the use-case for an elevated auditor role and
that it's something we can implement as a formal role in keystone in the
future.

Change-Id: Iea28faf1b3e63c7ab07e90808d2bc76ee3ee0612
"
openstack%2Fkeystone~master~I40dd33fc0afa0240c6b1cd48322fd988fc5524af,openstack/keystone,master,I40dd33fc0afa0240c6b1cd48322fd988fc5524af,Clarify top-level personas in RBAC documentation,MERGED,2021-02-05 14:58:38.000000000,2021-02-27 05:23:08.000000000,2021-02-27 05:23:08.000000000,69,13,0,774247,a0ae615ab95481bfc7e5621ee2179e33bcf95444,secure-rbac,8,4,1,1,5046,Lance Bragstad,ldbragst,"Clarify top-level personas in RBAC documentation

This commit updates the documentation for service api protection to
better describe the overall personas for system, domain, and project
users. It also adds some examples that show operators how to list users
with all role assignments on a particular target, which include a
superset of the existing examples.

Change-Id: I40dd33fc0afa0240c6b1cd48322fd988fc5524af
"
openstack%2Fnova~stable%2Fussuri~Ic5ce2580e7638a47f1ffddb4edbb503bf490504c,openstack/nova,stable/ussuri,Ic5ce2580e7638a47f1ffddb4edbb503bf490504c,compute: Lock by instance.uuid lock during swap_volume,MERGED,2020-10-19 09:05:37.000000000,2021-02-27 05:07:21.000000000,2021-02-27 05:05:56.000000000,26,2,0,758732,f7ba1aab5f6f76ba88d6cc63cde2ec246ee61ec5,bug/1896621,42,6,2,1,10135,Lee Yarwood,lyarwood,"compute: Lock by instance.uuid lock during swap_volume

The libvirt driver is currently the only virt driver implementing swap
volume within Nova. While libvirt itself does support moving between
multiple volumes attached to the same instance at the same time the
current logic within the libvirt driver makes a call to
virDomainGetXMLDesc that fails if there are active block jobs against
any disk attached to the domain.

This change simply uses an instance.uuid based lock in the compute layer
to serialise requests to swap_volume to avoid this from being possible.

Closes-Bug: #1896621
Change-Id: Ic5ce2580e7638a47f1ffddb4edbb503bf490504c
(cherry picked from commit 6cf449bdd0d4beb95cf12311e7d2f8669e625fac)
(cherry picked from commit eebf94b6540fcd16826067fac544b5a3238842a3)
"
openstack%2Ftripleo-validations~stable%2Ftrain~I4eb7508c24cce0db3179d4f3ef26cabceb164716,openstack/tripleo-validations,stable/train,I4eb7508c24cce0db3179d4f3ef26cabceb164716,Optionally fail ceph-health if HEALTH_WARN,MERGED,2021-02-25 10:31:49.000000000,2021-02-27 04:26:18.000000000,2021-02-27 04:26:18.000000000,8,0,0,777563,46cee611d58e81d3c0cd9002a297a954d27a8113,,12,2,1,2,6796,Giulio Fidente,gfidente,"Optionally fail ceph-health if HEALTH_WARN

Helps controlling the behavior of the ceph-health check for it to
fail, optionally, not only when cluster is in _ERR state but also
in _WARN state.

Change-Id: I4eb7508c24cce0db3179d4f3ef26cabceb164716
Related-Bug: 1915700
(cherry picked from commit 67560d36c06860dc827ef8356f1023f42facdbec)
(cherry picked from commit 2896ce06d7aad365bc6f02d5ab60acbe45315eb5)
(cherry picked from commit 45a78f35238d13b077b984b56817e71e23e208a2)
"
openstack%2Fopenstack-helm-infra~master~I969b7d76146ebf7c04cac47a8313fb7aff473078,openstack/openstack-helm-infra,master,I969b7d76146ebf7c04cac47a8313fb7aff473078,Update ceph-client chart releasenotes to latest,ABANDONED,2021-02-26 01:50:04.000000000,2021-02-27 03:36:00.000000000,,2,0,0,777707,29b66a5ea62af7e332ff3cdb761cf6e3533ceccd,ceph-client-reno,4,2,1,1,30449,jinyuanliu,jinyuanliu,"Update ceph-client chart releasenotes to latest

This change updates the releasenotes for the ceph-client chart to the latest version of the chart as of this patchset.

Change-Id: I969b7d76146ebf7c04cac47a8313fb7aff473078
"
openstack%2Fpython-cinderclient~master~I7a703e0ee91b73b7ab736712756caaba6981f8e4,openstack/python-cinderclient,master,I7a703e0ee91b73b7ab736712756caaba6981f8e4,Stop configuring install_command in tox.,MERGED,2021-02-03 16:30:54.000000000,2021-02-27 03:10:39.000000000,2021-02-27 03:09:15.000000000,0,1,0,773941,2c43d65238063eeaf54e9ae4b0e1c8463c9cbe0e,,15,8,1,1,30615,Tushar Trambak Gite,tushargite96,"Stop configuring install_command in tox.

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.

Change-Id: I7a703e0ee91b73b7ab736712756caaba6981f8e4
"
openstack%2Fdevstack~master~I722dcc5dbb1e9a51b68884ec310ecd2f55577746,openstack/devstack,master,I722dcc5dbb1e9a51b68884ec310ecd2f55577746,Add a variable to set the tempest_roles in Tempest conf,NEW,2021-02-26 18:11:47.000000000,2021-02-27 02:20:03.000000000,,3,0,0,777802,f13f5d0c604d9a943751d462369b3ae503a6a99a,,6,1,1,1,8556,Ghanshyam,ghanshyam,"Add a variable to set the tempest_roles in Tempest conf

Devstack no more set the default 'member' roles to Tempest's
tempest_roles config option which is used to set roles
for all dynamically created test users.

This commit provides a var to set tempest_roles.

Change-Id: I722dcc5dbb1e9a51b68884ec310ecd2f55577746
"
openstack%2Fcyborg~master~Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f,openstack/cyborg,master,Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f,support configuring multiple vgpu types in cyborg,MERGED,2020-11-27 11:57:49.000000000,2021-02-27 01:55:52.000000000,2021-02-27 01:54:30.000000000,56,1,41,764450,0605fe39fdd319da7a4334c871b17fd1e120b3ae,enable-vgpu-in-cyborg,40,6,9,2,24872,YumengBao,Yumeng_Bao,"support configuring multiple vgpu types in cyborg

This patch defines the group and options for vgpu types configuration.

Co-Authored-By: Wenping Song <songwenping@inspur.com>

Change-Id: Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f
Story: 2008265
Task: 41326
"
openstack%2Fmanila~master~I84d80d9165b7542cc0c56e4d41b1e6fb45eab369,openstack/manila,master,I84d80d9165b7542cc0c56e4d41b1e6fb45eab369,WIP: Unified limits PoC,NEW,2021-02-19 18:11:35.000000000,2021-02-27 01:16:04.000000000,,86,11,17,776690,07a5948c98aadcccd2d892d29639405b08808b55,bp/unified-limits-manila,29,3,5,8,16643,Goutham Pacha Ravi,gouthamr,"WIP: Unified limits PoC

Oslo.limit use in Manila

Change-Id: I84d80d9165b7542cc0c56e4d41b1e6fb45eab369
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fswift~stable%2Ftrain~I3560d1352fee825c63cd26556caa806f7424c389,openstack/swift,stable/train,I3560d1352fee825c63cd26556caa806f7424c389,Identify deleted shards as shards,MERGED,2021-02-06 02:29:07.000000000,2021-02-27 01:14:27.000000000,2021-02-27 01:12:18.000000000,50,10,0,774337,98da7b0933a2975598844bf40edec4b61714db40,train-sharding,13,2,3,2,597,Pete Zaitcev,zaitcev,"Identify deleted shards as shards

When a DB gets deleted, we clear out its metadata. This included sysmeta
such as that used to tell shards the name of their root DB.

Previously, this would cause deleted shards to pop back to life as roots
that claimed to have objects still sitting in whatever container they
sharnk into.

Now, use the metadata if it's available, but when it's not, go by the
state of the DB's ""own shard range"" -- deleted shards should be marked
deleted, while roots never are.

This allows us to actually clean up the database files; you can test
this by doing something like

 * Run `nosetests test/probe/test_sharder.py:TestContainerSharding.test_shrinking`
 * Run `find /srv/*/*/containers -name '*.db'` to see how many databases
   are left on disk. There should be 15: 3 for the root container, 6 for
   the two shards on the first pass, and another 6 for the two shards on
   the second pass.
 * Edit container configs to decrease reclaim_age -- even 1 should be
   fine.
 * Run `swift-init main start` to restart the servers.
 * Run `swift-init container-sharder once` to have the shards get marked
   deleted.
 * Run `swift-init container-updater once` to ensure all containers have
   reported.
 * Run `swift-init container-replicator once` to clean up the
   containers.
 * Run `find /srv/*/*/containers -name '*.db'` again to verify no
   containers remain on disk.

Cherry-Picked-From: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b
Change-Id: I3560d1352fee825c63cd26556caa806f7424c389
"
openstack%2Fswift~stable%2Ftrain~I45fb36602284ca1ec5f6fc73d05c039fd6ca1269,openstack/swift,stable/train,I45fb36602284ca1ec5f6fc73d05c039fd6ca1269,Don't auto-create shard containers,MERGED,2021-02-06 02:29:07.000000000,2021-02-27 01:13:24.000000000,2021-02-27 01:12:10.000000000,82,73,1,774335,7ee5fc197736106881142b018f7f4d073e50bc60,train-sharding,14,2,3,3,597,Pete Zaitcev,zaitcev,"Don't auto-create shard containers

...unless the client requests it specifically using a new flag:

   X-Backend-Auto-Create: true

Previously, you could get real jittery listings during a rebalance:

 * Partition with a shard DB get reassigned, so one primary has no DB.
 * Proxy makes a listing, gets a 404, tries another node. Likely, one of
   the other shard replicas responds. Things are fine.
 * Update comes in. Since we use the auto_create_account_prefix
   namespace for shards, container DB gets created and we write the row.
 * Proxy makes another listing. There's a one-in-three chance that we
   claim there's only one object in that whole range.

Note that unsharded databases would respond to the update with a 404 and
wait for one of the other primaries (or the old primary that's now a
hand-off) to rsync a whole DB over, keeping us in the happy state.

Now, if the account is in the shards namespace, 404 the object update if
we have no DB. Wait for replication like in the unsharded case.

Continue to be willing to create the DB when the sharder is seeding all
the CREATED databases before it starts cleaving, though.

Closes-Bug: #1881210
Cherry-Picked-From: I15052f3f17999e6f432951ba7c0731dcdc9475bb
Change-Id: I45fb36602284ca1ec5f6fc73d05c039fd6ca1269
"
openstack%2Fswift~stable%2Ftrain~Id86f09e20dd2460a3f0baf1aeaf9dd482152a43c,openstack/swift,stable/train,Id86f09e20dd2460a3f0baf1aeaf9dd482152a43c,swift-container-info: Show shard ranges summary,MERGED,2021-02-06 02:29:07.000000000,2021-02-27 01:12:14.000000000,2021-02-27 01:12:14.000000000,116,22,0,774336,f8f50ca60efac9690b8cde8640005b8eea7bd2b5,train-sharding,11,2,3,3,597,Pete Zaitcev,zaitcev,"swift-container-info: Show shard ranges summary

The current behavior is really painful when you've got hundreds of shard
ranges in a DB.  The new summary with the states is default.  Users can
add a -v/--verbose flag to see the old full detail view.

Cherry-Picked-From: I0a7d65f64540f99514c52a70f9157ef060a8a892
Change-Id: Id86f09e20dd2460a3f0baf1aeaf9dd482152a43c
"
openstack%2Fironic~master~I54a9fed73e366a30545c3cd1982588d2f544d228,openstack/ironic,master,I54a9fed73e366a30545c3cd1982588d2f544d228,[Trivial] Fix testing of volume connector exception,MERGED,2021-02-26 14:29:49.000000000,2021-02-27 01:00:57.000000000,2021-02-27 00:59:13.000000000,1,1,0,777757,61c5b3fd2fb1ae0df1cbfbca83e5bda393d0e8e4,test_task_manager,11,3,1,1,11292,Arne Wiebalck,wiebalck,"[Trivial] Fix testing of volume connector exception

Restore test symmetry.

Change-Id: I54a9fed73e366a30545c3cd1982588d2f544d228
"
openstack%2Fironic-lib~master~Ia0f42bf3de9c074a1212859352b5c5e1abe7eed8,openstack/ironic-lib,master,Ia0f42bf3de9c074a1212859352b5c5e1abe7eed8,Remove default parameter from execute,MERGED,2021-02-25 10:22:40.000000000,2021-02-27 01:00:36.000000000,2021-02-27 00:59:09.000000000,15,23,0,777560,e7a35e41f19645304fb4ebc0fa4bcb99d6a602a3,default-processutils,8,3,1,4,23851,Riccardo Pittau,elfosardo,"Remove default parameter from execute

The param check_exit_code from the processutils extension execute has
default already at [0]
See:
https://opendev.org/openstack/oslo.concurrency/src/branch/master/oslo_concurrency/processutils.py#L214

Change-Id: Ia0f42bf3de9c074a1212859352b5c5e1abe7eed8
"
openstack%2Fcharm-deployment-guide~master~Ifadc6ebf2dfbb30b8d704a802fa826725c104b75,openstack/charm-deployment-guide,master,Ifadc6ebf2dfbb30b8d704a802fa826725c104b75,Correct env section on configure page,MERGED,2021-02-25 20:21:28.000000000,2021-02-27 00:49:04.000000000,2021-02-27 00:47:54.000000000,56,54,1,777666,02fb5eb7c50f326e23387b8c205a575368b23689,bug/1916067,10,2,2,2,30561,Peter Matulis,pmatulis,"Correct env section on configure page

* Correct how to establish control of the cloud.
  Use files in openstack-bundles repository.

* Make protocoal (HTTPS) and IP addresses consistent.

Closes-Bug: #1916067

Change-Id: Ifadc6ebf2dfbb30b8d704a802fa826725c104b75
"
openstack%2Fkayobe~master~I6bc8da2b8da903e09b97df8cd95c68a562c11db9,openstack/kayobe,master,I6bc8da2b8da903e09b97df8cd95c68a562c11db9,CI: Fix overcloud and seed VM jobs on vexxhost clouds,MERGED,2021-02-26 11:12:33.000000000,2021-02-27 00:48:38.000000000,2021-02-27 00:47:29.000000000,8,18,0,777741,f9d9afcfba09ef73c6663a38fb60b703caeb56c7,,12,2,1,5,14826,Mark Goddard,mgoddard,"CI: Fix overcloud and seed VM jobs on vexxhost clouds

This partially reverts commit 47bbb96b29ab30764d6220cdd43e63a1d2072533
which triggered a retry on vexxhost clouds.

The issue was introduced in Ie8fd965165e8d347d27528a2c16d0647e412ccdc,
which applied some fixes for CentOS 8.3, and inadvertently removed
the Tenks variable that forces the use of qemu for 'bare metal' VMs.
This lead to autodetection of KVM, which does not work well when nested
in all CI cloud providers.

This change fixes the issue by forcing the use of qemu for the overcloud
once more. It also adds a similar option for the seed VM job.

Change-Id: I6bc8da2b8da903e09b97df8cd95c68a562c11db9
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,openstack/tripleo-heat-templates,stable/train,I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,Fix redis_tls_proxy,MERGED,2021-02-25 16:01:03.000000000,2021-02-26 23:53:56.000000000,2021-02-26 23:53:56.000000000,22,0,0,777549,badc6bc1ed0035c28a5030b19727bb39622fa6cd,fix-redis-tls-stable/victoria-stable/ussuri-stable/train,15,4,1,1,20172,Michele Baldessari,michele,"Fix redis_tls_proxy

Since we merged the pcs-host patches we erroneously also removed
the sidecar container that does the tls stunneling for redis.
This is needed to allow the redis master stream the deplications to
its slaves via TLS.

Tested this and we now correctly get the working container and cluster
state:
[root@controller-0 ~]# podman ps -a |grep redis
4182a78811a2  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       /bin/bash /usr/lo...  3 minutes ago   Up 3 minutes ago                 redis-bundle-podman-0
604a086bb53c  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       kolla_start           8 minutes ago   Up 8 minutes ago                 redis_tls_proxy
[root@controller-0 ~]# pcs status |grep redis
  * GuestOnline: [ galera-bundle-0@database-1 galera-bundle-1@database-2 galera-bundle-2@database-0 ovn-dbs-bundle-0@controller-0 ovn-dbs-bundle-1@controller-1 ovn-dbs-bundle-2@controller-2 rabbitmq-bundle-0@messaging-0 rabbitmq-bundle-1@messaging-1 rabbitmq-bundle-2@messaging-2 redis-bundle-0@controller-0 redis-bundle-1@controller-1 redis-bundle-2@controller-2 ]
  * Container bundle set: redis-bundle [cluster.common.tag/openstack-redis:pcmklatest]:
    * redis-bundle-0    (ocf::heartbeat:redis):  Master controller-0
    * redis-bundle-1    (ocf::heartbeat:redis):  Slave controller-1
    * redis-bundle-2    (ocf::heartbeat:redis):  Slave controller-2

We also move the redis_tls_proxy from step_2/start_order: 3 to step_1
since it actually makes sense to have it run before we start the
redis pcmk bundle at step 2 (i.e. so the slave replica can work right
away from the start).

Closes-Bug: #1916873

Change-Id: I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab
"
openstack%2Fswift~stable%2Fussuri~I324916f8207e1346806951b600105cccfd8c62f7,openstack/swift,stable/ussuri,I324916f8207e1346806951b600105cccfd8c62f7,Address a sharder/replicator race,MERGED,2021-02-24 03:15:09.000000000,2021-02-26 23:50:40.000000000,2021-02-26 23:49:07.000000000,13,9,0,777284,94346b1345b28fa1809bc0def34f821ab13ea0e4,ussuri-sharding,10,2,1,2,597,Pete Zaitcev,zaitcev,"Address a sharder/replicator race

In the previous patch, we could clean up all container DBs, but only if
the daemons went in a specific order (which cannot be guaranteed in a
production system).

Once a reclaim age passes, there's a race: If the container-replicator
processes the root container before the container-sharder processes the
shards, the deleted shards would get reaped from the root so they won't
be available for the sharder. The shard containers then hang around
indefinitely.

Now, be willing to mark shard DBs as deleted even when we can't find our
own shard range in the root. Fortunately, the shard already knows that
its range has been deleted; we don't need to get that info from the root.

Cherry-Picked-From: If08bccf753490157f27c95b4038f3dd33d3d7f8c
Related-Change: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b
Change-Id: I324916f8207e1346806951b600105cccfd8c62f7
"
openstack%2Fswift~stable%2Ftrain~If2346d1079b656290ad698d6e4ce276fbd9a5841,openstack/swift,stable/train,If2346d1079b656290ad698d6e4ce276fbd9a5841,Latch shard-stat reporting,MERGED,2021-02-06 02:29:07.000000000,2021-02-26 23:40:42.000000000,2021-02-26 23:35:00.000000000,284,39,0,774334,7ed79e3b24f2f0af031c41cc96d01b1c9ebbf02a,train-sharding,9,2,2,7,597,Pete Zaitcev,zaitcev,"Latch shard-stat reporting

The idea is, if none of

  - timestamp,
  - object_count,
  - bytes_used,
  - state, or
  - epoch

has changed, we shouldn't need to send an update back to the root
container.

This is more-or-less comparable to what the container-updater does to
avoid unnecessary writes to the account.

Closes-Bug: #1834097
Cherry-Picked-From: I1ee7ba5eae3c508064714c4deb4f7c6bbbfa32af
Change-Id: If2346d1079b656290ad698d6e4ce276fbd9a5841
"
openstack%2Fneutron~master~I2cc58c30cf844ee0ecf0611ecdec430086464790,openstack/neutron,master,I2cc58c30cf844ee0ecf0611ecdec430086464790,Remove update_initial_state() method from the HA router,MERGED,2021-02-18 11:56:51.000000000,2021-02-26 23:39:25.000000000,2021-02-26 23:34:29.000000000,11,27,4,776423,0d8ae1576724b196580c9af3782fd3c9e9072bef,bug/1916022,52,8,6,5,11975,Slawek Kaplonski,slaweq,"Remove update_initial_state() method from the HA router

This method was intended to check state of the HA router on the
node and update it in the neutron server.
Patch [1] added check of the initial status to the
neutron_keepalived_state_change_monitor process.
It also could cause some race conditions and event which is setting
correct state of the router will be not processed thus router may endup
with two nodes with ""primary"" state in the Neutron's DB.

Neutron_keepalived_state_change_monitor was notifying agent about
router's initial state only if this state was 'primary'.
Now it will notify agent always to let agent set router's state as
'backup' if needed (that was previously done by this removed
update_initial_state() method).

[1] https://review.opendev.org/c/openstack/neutron/+/642295

Change-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790
Closes-Bug: #1916022
"
openstack%2Fswift~stable%2Fussuri~I7b7be3b62e033ab668316e3c698ba667ceef31f8,openstack/swift,stable/ussuri,I7b7be3b62e033ab668316e3c698ba667ceef31f8,Identify deleted shards as shards,MERGED,2021-02-24 03:15:09.000000000,2021-02-26 23:39:06.000000000,2021-02-26 23:35:21.000000000,50,10,0,777283,eef68d69c586f9231a20b24d973893b154353290,ussuri-sharding,8,2,1,2,597,Pete Zaitcev,zaitcev,"Identify deleted shards as shards

When a DB gets deleted, we clear out its metadata. This included sysmeta
such as that used to tell shards the name of their root DB.

Previously, this would cause deleted shards to pop back to life as roots
that claimed to have objects still sitting in whatever container they
sharnk into.

Now, use the metadata if it's available, but when it's not, go by the
state of the DB's ""own shard range"" -- deleted shards should be marked
deleted, while roots never are.

This allows us to actually clean up the database files; you can test
this by doing something like

 * Run `nosetests test/probe/test_sharder.py:TestContainerSharding.test_shrinking`
 * Run `find /srv/*/*/containers -name '*.db'` to see how many databases
   are left on disk. There should be 15: 3 for the root container, 6 for
   the two shards on the first pass, and another 6 for the two shards on
   the second pass.
 * Edit container configs to decrease reclaim_age -- even 1 should be
   fine.
 * Run `swift-init main start` to restart the servers.
 * Run `swift-init container-sharder once` to have the shards get marked
   deleted.
 * Run `swift-init container-updater once` to ensure all containers have
   reported.
 * Run `swift-init container-replicator once` to clean up the
   containers.
 * Run `find /srv/*/*/containers -name '*.db'` again to verify no
   containers remain on disk.

Cherry-Picked-From: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b
Change-Id: I7b7be3b62e033ab668316e3c698ba667ceef31f8
"
openstack%2Fswift~stable%2Ftrain~Ie5bee7eb7d219a6c8cec5fc1c9367793cecc7f4f,openstack/swift,stable/train,Ie5bee7eb7d219a6c8cec5fc1c9367793cecc7f4f,sharding: Add probe test that exercises swift-manage-shard-ranges,MERGED,2021-02-06 02:29:07.000000000,2021-02-26 23:39:04.000000000,2021-02-26 23:34:39.000000000,91,2,0,774332,f96f2411745ed4b50c28fe35d97550368cf265de,train-sharding,9,2,2,1,597,Pete Zaitcev,zaitcev,"sharding: Add probe test that exercises swift-manage-shard-ranges

Cherry-Picked-From: Ic7c40589679c290e5565f9581f70b9a1c070f6ab
Change-Id: Ie5bee7eb7d219a6c8cec5fc1c9367793cecc7f4f
"
openstack%2Fcinder~master~I10afd1fb781f8f3c933a2783723215654da31e00,openstack/cinder,master,I10afd1fb781f8f3c933a2783723215654da31e00,Fusionstorage Cinder Driver Support OceanStor 100D Storage.(dsware),MERGED,2020-07-17 06:16:40.000000000,2021-02-26 23:37:24.000000000,2021-02-19 22:16:32.000000000,6,1,2,741579,40d93a61187de417af1d7fd761723bb91e2333bc,,84,29,4,2,29217,futaotao,doubletao,"Fusionstorage Cinder Driver Support OceanStor 100D Storage.(dsware)

Due to Fusionstorage rename to OceanStor 100D, there is a necessary
to support OceanStor 100D with Fusionstorage Cinder Driver.(dsware)

Change-Id: I10afd1fb781f8f3c933a2783723215654da31e00
"
openstack%2Fswift~stable%2Ftrain~Icfffb3e7f53161a2641e8fd5be55b045d0c3de02,openstack/swift,stable/train,Icfffb3e7f53161a2641e8fd5be55b045d0c3de02,py27: Suppress UnicodeWarnings in ShardRange setters,MERGED,2021-02-06 02:29:07.000000000,2021-02-26 23:34:56.000000000,2021-02-26 23:34:56.000000000,18,8,0,774333,7159cb73dce8eb7de95d0bfbb6d30a3a1740c937,train-sharding,8,2,2,2,597,Pete Zaitcev,zaitcev,"py27: Suppress UnicodeWarnings in ShardRange setters

Previously, we'd see warnings like

   UnicodeWarning: Unicode equal comparison failed to convert both
   arguments to Unicode - interpreting them as being unequal

when setting lower/upper bounds with non-ascii byte strings.

Cherry-Picked-From: I328f297a5403d7e59db95bc726428a3f92df88e1
Change-Id: Icfffb3e7f53161a2641e8fd5be55b045d0c3de02
"
openstack%2Fironic~master~I57bab93adaf7e562c4c46febd612e1f27ea50bfa,openstack/ironic,master,I57bab93adaf7e562c4c46febd612e1f27ea50bfa,RBAC System Scope: observer -> reader,MERGED,2021-01-25 22:56:52.000000000,2021-02-26 23:18:26.000000000,2021-02-26 23:15:24.000000000,195,196,0,772450,eabb72b6bc3e23f649b03a89a50e52e479f6e2d5,secure-rbac,30,4,6,1,11655,Julia Kreger,jkreger,"RBAC System Scope: observer -> reader

One of the default role names in the RBAC model with system and
project scopes is reader. Reader replaces observer, and while this
was not done earlier to the tests in system scope was because it is
better to evolve the tests being able to run individual groups with
the same name as opposed to different names.

Change-Id: I57bab93adaf7e562c4c46febd612e1f27ea50bfa
"
openstack%2Fmonasca-notification~stable%2Ftrain~Ib4ecaf8398a54543d2d9f452681ca46a056d8dc5,openstack/monasca-notification,stable/train,Ib4ecaf8398a54543d2d9f452681ca46a056d8dc5,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-26 21:51:26.000000000,2021-02-26 23:17:43.000000000,2021-02-26 23:16:36.000000000,3,3,0,777837,293306e14dfaa775211bcf7d9b5542cd61fb8bd6,cap-bandit,8,2,2,2,28062,Martin Chacon Piza,martinchacon,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] so cap to
1.6.2 when using py2.

This change also raises hacking to 1.1.0 in lower-constraints.txt
This also means that flake8 is bumped to 2.6.0

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615

Change-Id: Ib4ecaf8398a54543d2d9f452681ca46a056d8dc5
"
openstack%2Fironic~master~I1d1d1bdae0171c44e122018a8a83b35dbb093c39,openstack/ironic,master,I1d1d1bdae0171c44e122018a8a83b35dbb093c39,Implement system scoped RBAC for the deploy templates APIs,MERGED,2020-11-18 22:05:34.000000000,2021-02-26 23:17:12.000000000,2021-02-26 23:15:16.000000000,86,38,10,763277,27a889854021d20c15b3eaa309d6d8a3b33cb737,secure-rbac,65,8,9,4,5046,Lance Bragstad,ldbragst,"Implement system scoped RBAC for the deploy templates APIs

This commit updates the policies for baremetal deploy template policies to
understand scope checking and account for a read-only role. This is part of a
broader series of changes across OpenStack to provide a consistent RBAC
experience and improve security.

Change-Id: I1d1d1bdae0171c44e122018a8a83b35dbb093c39
"
openstack%2Foctavia-tempest-plugin~master~Idcc13fdaafb8ffe41710fc3c67f30932725cf66e,openstack/octavia-tempest-plugin,master,Idcc13fdaafb8ffe41710fc3c67f30932725cf66e,Add delay to SOURCE_IP_PORT TCP test,MERGED,2021-01-21 21:57:06.000000000,2021-02-26 23:03:40.000000000,2021-02-26 23:02:12.000000000,6,1,1,771888,52531e2b14bb77366071d39ee82bf7963f1e0905,dnm-sip-tcp-debug,38,4,6,2,1131,Brian Haley,brian-haley,"Add delay to SOURCE_IP_PORT TCP test

Without a delay it can trigger a ""Cannot assign requested
address"" warning setting the source port, leading to failure.

Also added a log debug statement when a source port is
being used since it can help with debugging.

Change-Id: Idcc13fdaafb8ffe41710fc3c67f30932725cf66e
"
openstack%2Fneutron~master~I00c676e234fd9f771d716def7e4388bf33004118,openstack/neutron,master,I00c676e234fd9f771d716def7e4388bf33004118,"Implement ""ip neigh flush"" with Pyroute2",MERGED,2021-02-18 16:57:55.000000000,2021-02-26 22:53:32.000000000,2021-02-26 22:51:45.000000000,83,19,0,776495,591715b86e086bc42065a9bae1690927414100ad,bug/41558,28,4,3,4,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Implement ""ip neigh flush"" with Pyroute2

Story: #2007686
Task: #41558

Change-Id: I00c676e234fd9f771d716def7e4388bf33004118
"
openstack%2Fpython-cinderclient~master~I288e2a3a577a2c1098feca5db4024b608b06dc56,openstack/python-cinderclient,master,I288e2a3a577a2c1098feca5db4024b608b06dc56,Initial stab at new shell args for v3 migration.,ABANDONED,2014-05-27 18:07:33.000000000,2021-02-26 22:46:31.000000000,,85,0,0,95847,229c4a3ee1a0c5f2e3f62d895f832662627d9e28,feature/keystone-v3-migration,3,2,1,1,9249,Dan Flye,danflye,"Initial stab at new shell args for v3 migration.

Change-Id: I288e2a3a577a2c1098feca5db4024b608b06dc56
"
openstack%2Fpython-cinderclient~master~I6bd64675f3be88fe54290753cbf12f9215975cda,openstack/python-cinderclient,master,I6bd64675f3be88fe54290753cbf12f9215975cda,Remove missprints and c/p errors,ABANDONED,2013-12-04 14:26:30.000000000,2021-02-26 22:45:53.000000000,,6,6,0,59985,fa6eb7e34b0fac9ee21df153debc13339b40a535,volume_transfers,2,1,2,3,9300,Igor A. Lukyanenkov,unconn,"Remove missprints and c/p errors

Changed imports from v1 to v2 in related clients and tests.

Change-Id: I6bd64675f3be88fe54290753cbf12f9215975cda
"
openstack%2Foctavia~stable%2Fussuri~Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615,openstack/octavia,stable/ussuri,Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615,Fix nf_conntrack_buckets sysctl in Amphora,MERGED,2021-02-02 08:14:10.000000000,2021-02-26 22:10:19.000000000,2021-02-26 22:08:59.000000000,9,1,0,773600,9f1307affc328e5ca58a2e814ed55885ed0710c7,,10,3,1,3,29244,Gregory Thiemonge,gthiemonge,"Fix nf_conntrack_buckets sysctl in Amphora

Setting nf_conntrack_buckets in the amphora namespace fails because this
sysctl can only be set in the initial namespace (cf kernel doc at
https://www.kernel.org/doc/Documentation/networking/nf_conntrack-sysctl.txt)

This commit allows to set nf_conntrack_buckets in the initial namespace,
the value is then inherited by other namespaces.

Conntrack is not enabled in the main namespace, the new default value
doesn't affect this namespace behavior.

Conflicts:
	elements/haproxy-octavia/post-install.d/20-haproxy-tune-kernel

Story: 2008028
Task: 40682

Change-Id: Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615
(cherry picked from commit 64a301d4ec85a1bc9b208e60d7958a89e6972976)
(cherry picked from commit dd1580d332c2191e8d28bab692c1fa08e3e8ae80)
"
openstack%2Fcharm-vault~master~Id32206febe75b9df45af9ac99cf51f4d3f34dc42,openstack/charm-vault,master,Id32206febe75b9df45af9ac99cf51f4d3f34dc42,Fix up README,MERGED,2021-02-24 20:03:46.000000000,2021-02-26 22:01:22.000000000,2021-02-26 22:01:22.000000000,14,8,0,777459,e851c0d6c79ea3272af92b8c92de78317d3a3163,rename-link-in-readme,8,3,1,1,30561,Peter Matulis,pmatulis,"Fix up README

* Retitle a few links.

* Update as per README template.

Change-Id: Id32206febe75b9df45af9ac99cf51f4d3f34dc42
"
openstack%2Fcharm-deployment-guide~master~I1eb34e18be123768738221159595c705a63b7d28,openstack/charm-deployment-guide,master,I1eb34e18be123768738221159595c705a63b7d28,Discuss subordinate applications during payload upgrades,MERGED,2021-02-26 21:07:09.000000000,2021-02-26 22:01:17.000000000,2021-02-26 22:00:03.000000000,32,24,0,777830,1079ae0634e117b4e38df44215993b401770c97d,bug/1876576,7,2,1,1,30561,Peter Matulis,pmatulis,"Discuss subordinate applications during payload upgrades

Subordinate charm applications do not require explicit
upgrading. Mention this.

Driveby: Be consistent with the `--wait` run-action option

Closes-Bug: #1876576
Change-Id: I1eb34e18be123768738221159595c705a63b7d28
"
openstack%2Fcharm-deployment-guide~master~I04a9cea92ace4a1a26cb5abeef89b371930a9b65,openstack/charm-deployment-guide,master,I04a9cea92ace4a1a26cb5abeef89b371930a9b65,Add known upgrade issue - BlueStore,MERGED,2021-02-25 18:10:01.000000000,2021-02-26 21:44:33.000000000,2021-02-26 21:43:16.000000000,11,0,0,777645,346ed0dded76ae507ce1664b447c29efde3e80ea,bug/1885516,7,2,1,1,30561,Peter Matulis,pmatulis,"Add known upgrade issue - BlueStore

Add a known upgrade issue when a non-BlueStore cloud
gets BlueStore enabled due to an OpenStack upgrade.

Related-Bug: #1885516

Change-Id: I04a9cea92ace4a1a26cb5abeef89b371930a9b65
"
openstack%2Fcharm-mysql-innodb-cluster~master~If62a72fffa5e6b7c37505e2195542f800aa19842,openstack/charm-mysql-innodb-cluster,master,If62a72fffa5e6b7c37505e2195542f800aa19842,Update README,MERGED,2021-02-26 01:23:15.000000000,2021-02-26 21:32:17.000000000,2021-02-26 21:32:17.000000000,29,32,0,777706,9c288c61c2bd4324fef61802144c1388028a1ccf,update-readme,11,3,2,1,30561,Peter Matulis,pmatulis,"Update README

* Simplify the Deployment section.

    Redid add-relation to mysql-router.
    Talk of multiple nodes being required consolidated.
    Setting 'cluster-name' is not of much value (removed).
    Deprecated shared-db endpoint command removed.
    Scaling out command was moved to the CDG.

* Apply current README template

Depends-On: I9c5e2f4a8d5f24ee8b0cedb3d3af13bce8c90e29
Change-Id: If62a72fffa5e6b7c37505e2195542f800aa19842
"
openstack%2Fneutron~master~I8c69e62ba56b0d3204e9c12df3133126071b92f7,openstack/neutron,master,I8c69e62ba56b0d3204e9c12df3133126071b92f7,Support address group in OVS firewall agent,MERGED,2020-10-12 21:10:31.000000000,2021-02-26 21:19:38.000000000,2021-02-16 01:37:04.000000000,354,73,25,757650,9f09b1fb19c3571a0b1cae76b0bb99648c3b5554,bp/address-groups-in-sg-rules,118,10,17,11,28159,Hang Yang,hangyang,"Support address group in OVS firewall agent

Support security group rules with remote_address_group_id in openvswitch
firewall. This change reuses most of the firewall functions handling remote
security groups to also process remote address groups. The conjunctive flows
for a rule with remote_adress_group_id are similar to others with
remote_group_id but have different conj_ids.

Change-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7
Implements: blueprint address-groups-in-sg-rules
"
openstack%2Fcharm-hacluster~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-hacluster,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:43:23.000000000,2021-02-26 21:04:46.000000000,2021-02-26 21:04:46.000000000,4,0,0,776353,d3b4030fd0c79ff559841f2d62516a0133ab6063,feature/new-zuul,11,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Fcharm-octavia-dashboard~master~I996496c12e189257a27fdb39dd094ccb0a6df929,openstack/charm-octavia-dashboard,master,I996496c12e189257a27fdb39dd094ccb0a6df929,Add new osci.yaml,MERGED,2021-02-18 07:48:10.000000000,2021-02-26 20:52:04.000000000,2021-02-26 20:52:04.000000000,15,0,0,776381,a89d2cdad3818cd8e62404d207a24b31cfcad504,feature/new-zuul,11,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I996496c12e189257a27fdb39dd094ccb0a6df929
"
openstack%2Fcharm-keystone-ldap~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-keystone-ldap,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:44:25.000000000,2021-02-26 20:50:53.000000000,2021-02-26 20:50:53.000000000,7,0,0,776359,71a0c82861ec0c4e6a3f288bedba1248f378a4b5,feature/new-zuul,11,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Fcharm-keystone~master~I1cc665c028ac3d63117f34a33c2335183564d318,openstack/charm-keystone,master,I1cc665c028ac3d63117f34a33c2335183564d318,Add new osci.yaml,MERGED,2021-02-18 07:44:06.000000000,2021-02-26 20:50:49.000000000,2021-02-26 20:50:49.000000000,4,0,0,776357,ae4b8da5ad64dd6860ed1cea39f3a44023525531,feature/new-zuul,11,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I1cc665c028ac3d63117f34a33c2335183564d318
"
openstack%2Fcharm-heat~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-heat,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:43:32.000000000,2021-02-26 20:48:00.000000000,2021-02-26 20:48:00.000000000,4,0,0,776354,1e78c79e6906aae4c5f20b62a6cb2991f36d482e,feature/new-zuul,11,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Fneutron~master~I4749fdc6a6cabd253b971bf4010ff76f5593c59c,openstack/neutron,master,I4749fdc6a6cabd253b971bf4010ff76f5593c59c,[OVS FW] Allow egress ICMPv6 only for know addresses,MERGED,2021-02-19 10:44:16.000000000,2021-02-26 20:21:20.000000000,2021-02-26 20:19:12.000000000,69,25,3,776599,4b5bcff64c4725b37f094dfd2613ec58f723d304,bug/1902917,18,5,1,3,11975,Slawek Kaplonski,slaweq,"[OVS FW] Allow egress ICMPv6 only for know addresses

Before that patch it was possible to send ICMPv6 packets like e.g.
    neutron_lib.constants.ICMPV6_TYPE_MLD_QUERY,
    neutron_lib.constants.ICMPV6_TYPE_RS,
    neutron_lib.constants.ICMPV6_TYPE_NS,
    neutron_lib.constants.ICMPV6_TYPE_NA

And that could cause some security issues as instance could advertise
that it owns IPv6 address which really don't belong to it.

Now rules in table=71 which allows that traffic are ""per mac/ipaddress""
and are allowed only for fixed ips allocated to port and port's
allowed_address_pairs.

Closes-Bug: #1902917
Change-Id: I4749fdc6a6cabd253b971bf4010ff76f5593c59c
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,openstack/tripleo-heat-templates,stable/ussuri,I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,Fix redis_tls_proxy,MERGED,2021-02-25 15:59:55.000000000,2021-02-26 20:09:21.000000000,2021-02-26 20:09:21.000000000,22,0,0,777548,bc1fd47416627413346afd80458d3068bd10d2b1,fix-redis-tls-stable/victoria-stable/ussuri,11,4,1,1,20172,Michele Baldessari,michele,"Fix redis_tls_proxy

Since we merged the pcs-host patches we erroneously also removed
the sidecar container that does the tls stunneling for redis.
This is needed to allow the redis master stream the deplications to
its slaves via TLS.

Tested this and we now correctly get the working container and cluster
state:
[root@controller-0 ~]# podman ps -a |grep redis
4182a78811a2  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       /bin/bash /usr/lo...  3 minutes ago   Up 3 minutes ago                 redis-bundle-podman-0
604a086bb53c  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       kolla_start           8 minutes ago   Up 8 minutes ago                 redis_tls_proxy
[root@controller-0 ~]# pcs status |grep redis
  * GuestOnline: [ galera-bundle-0@database-1 galera-bundle-1@database-2 galera-bundle-2@database-0 ovn-dbs-bundle-0@controller-0 ovn-dbs-bundle-1@controller-1 ovn-dbs-bundle-2@controller-2 rabbitmq-bundle-0@messaging-0 rabbitmq-bundle-1@messaging-1 rabbitmq-bundle-2@messaging-2 redis-bundle-0@controller-0 redis-bundle-1@controller-1 redis-bundle-2@controller-2 ]
  * Container bundle set: redis-bundle [cluster.common.tag/openstack-redis:pcmklatest]:
    * redis-bundle-0    (ocf::heartbeat:redis):  Master controller-0
    * redis-bundle-1    (ocf::heartbeat:redis):  Slave controller-1
    * redis-bundle-2    (ocf::heartbeat:redis):  Slave controller-2

We also move the redis_tls_proxy from step_2/start_order: 3 to step_1
since it actually makes sense to have it run before we start the
redis pcmk bundle at step 2 (i.e. so the slave replica can work right
away from the start).

Closes-Bug: #1916873

Change-Id: I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab
"
openstack%2Fcharm-deployment-guide~master~I9e9ff874121c3af1aeb6fd2b16acc978f185a559,openstack/charm-deployment-guide,master,I9e9ff874121c3af1aeb6fd2b16acc978f185a559,Be explicit what series the controller should be,MERGED,2021-02-25 20:46:05.000000000,2021-02-26 20:07:28.000000000,2021-02-26 20:06:19.000000000,3,3,0,777677,f98a834c1c0f378899ff22f53dbc039a87a3e827,bug/1911060,7,2,1,1,30561,Peter Matulis,pmatulis,"Be explicit what series the controller should be

Use the `--bootstrap-series` option when creating
the controller on the install-juju page to specify
the focal series.

Closes-Bug: #1911060

Change-Id: I9e9ff874121c3af1aeb6fd2b16acc978f185a559
"
openstack%2Fironic~master~I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8,openstack/ironic,master,I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8,Implement system scoped RBAC for the event APIs,MERGED,2020-11-18 22:05:34.000000000,2021-02-26 20:05:52.000000000,2021-02-26 20:03:54.000000000,47,5,18,763276,046e99c0b473003490ab031430a6aac31ecbde19,secure-rbac,63,8,9,3,5046,Lance Bragstad,ldbragst,"Implement system scoped RBAC for the event APIs

This commit updates the policies for baremetal event policies to understand
scope checking and account for a read-only role. This is part of a broader
series of changes across OpenStack to provide a consistent RBAC experience and
improve security.

Change-Id: I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8
"
openstack%2Fbashate~master~I92e6930e06f04e6554aa4739d6b193c9c3555b69,openstack/bashate,master,I92e6930e06f04e6554aa4739d6b193c9c3555b69,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 17:25:24.000000000,2021-02-26 19:56:17.000000000,2021-02-26 19:54:54.000000000,3,3,0,777634,4e5de6a91e176c415f1aa8cc614305e2b3ed0b44,,8,3,1,1,30615,Tushar Trambak Gite,tushargite96,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I92e6930e06f04e6554aa4739d6b193c9c3555b69
"
openstack%2Frequirements~master~Iaab12a0ba197afa4dacd5cb621a26e0c218315f4,openstack/requirements,master,Iaab12a0ba197afa4dacd5cb621a26e0c218315f4,update constraint for ldappool to new release 3.0.0,MERGED,2021-02-26 15:40:00.000000000,2021-02-26 19:48:06.000000000,2021-02-26 19:46:57.000000000,1,1,0,777762,d021f08dd7418f546611ac0ef6cae31db7d845c0,new-release,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for ldappool to new release 3.0.0

meta: version: 3.0.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Stephen Finucane <sfinucan@redhat.com>
meta: release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta: release:Change-Id: I16f8121258b29cec7945efe3321e09b3521b95dc
meta: release:Code-Review+1: Kristi Nikolla <knikolla@bu.edu>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Iaab12a0ba197afa4dacd5cb621a26e0c218315f4
"
openstack%2Fovn-octavia-provider~stable%2Fvictoria~I425a4265d5bca990d4b93d19eedc7b40a73311ef,openstack/ovn-octavia-provider,stable/victoria,I425a4265d5bca990d4b93d19eedc7b40a73311ef,Pin pylint version,MERGED,2021-02-24 22:02:48.000000000,2021-02-26 19:21:19.000000000,2021-02-26 19:20:10.000000000,3,3,1,777474,0db33223de2b3fc8f6158c9ada177434aaaa0b4f,pin-pylint,9,3,1,2,1131,Brian Haley,brian-haley,"Pin pylint version

Pylint 2.7 added new checks that make pep8 fail.
Fix the error but pin pylint so it doesn't break
the gate in the future.

Change-Id: I425a4265d5bca990d4b93d19eedc7b40a73311ef
"
openstack%2Fovn-octavia-provider~master~I40a45e70156f4306021ade0029b244f4c06440a2,openstack/ovn-octavia-provider,master,I40a45e70156f4306021ade0029b244f4c06440a2,Update to pylint 2.6.0+,MERGED,2020-09-16 16:50:36.000000000,2021-02-26 19:16:43.000000000,2021-02-26 19:15:30.000000000,30,32,0,752274,ffc31609848cb269219941bb527e94a8ce039193,pylint-2.6.0,27,5,3,14,1131,Brian Haley,brian-haley,"Update to pylint 2.6.0+

Pylint 2.6.0 added two new checkers [1] that made pep8 validation
fail:

- raise-missing-from (W0707)
- super-with-arguments (R1725)

Pylint 2.7.0 added one new checker [1] that made pep8 validation
fail:

- use-a-generator (R1729)

[1] http://pylint.pycqa.org/en/latest/technical_reference/features.html

Change-Id: I40a45e70156f4306021ade0029b244f4c06440a2
"
openstack%2Fmonasca-notification~stable%2Fussuri~I125912b1e125aba71db0aa077dee4a412ae7873f,openstack/monasca-notification,stable/ussuri,I125912b1e125aba71db0aa077dee4a412ae7873f,Fix zuul publish docker image job,MERGED,2021-02-26 10:10:26.000000000,2021-02-26 19:08:56.000000000,2021-02-26 19:08:56.000000000,1,1,0,777735,8f7a893701762de73cbeb716c2560d05167806b8,fix-zuul-publish,9,2,2,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I125912b1e125aba71db0aa077dee4a412ae7873f
"
openstack%2Fproject-config~master~I33af5c79fddf5e7941142ce0a1e7fedf7941a4dc,openstack/project-config,master,I33af5c79fddf5e7941142ce0a1e7fedf7941a4dc,Move git-review to opendev tenant,MERGED,2021-02-26 17:36:49.000000000,2021-02-26 19:08:32.000000000,2021-02-26 18:50:19.000000000,1,6,0,777774,9d25d9cfd31b2700840d78524619261140a1730d,gitreview-2,9,3,1,2,5263,Jeremy Stanley,fungi,"Move git-review to opendev tenant

Relocate the opendev/git-review repository from the openstack tenant
into the opendev tenant. Also delete its release jobs, as a subsequent
change will add new ones in the project's repository instead. All
other git-review jobs are already set in its repository.

Change-Id: I33af5c79fddf5e7941142ce0a1e7fedf7941a4dc
"
openstack%2Fopenstack-helm-infra~master~I959fb9e95d8f1e03c36e44aba57c552a315867d0,openstack/openstack-helm-infra,master,I959fb9e95d8f1e03c36e44aba57c552a315867d0,[ceph-client] Separate pool quotas from pg_num calculations,MERGED,2021-02-10 17:51:05.000000000,2021-02-26 19:04:47.000000000,2021-02-26 19:03:26.000000000,56,12,0,774912,cf7d665e793349f331b3eb76aea5c6d07c2b033a,change-774912-18,53,7,21,4,29974,Stephen Taylor,st053q,"[ceph-client] Separate pool quotas from pg_num calculations

Currently pool quotas and pg_num calculations are both based on
percent_total_data values. This can be problematic when the amount
of data allowed in a pool doesn't necessarily match the percentage
of the cluster's data expected to be stored in the pool. It is
also more intuitive to define absolute quotas for pools.

This change adds an optional pool_quota value that defines an
explicit value in bytes to be used as a pool quota. If pool_quota
is omitted for a given pool, that pool's quota is set to 0 (no
quota).

A check_pool_quota_target() Helm test has also been added to
verify that the sum of all pool quotas does not exceed the target
quota defined for the cluster if present.

Change-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0
"
openstack%2Fswift~master~I5fa39d41f9cd3b211e45d2012fd709f4135f595e,openstack/swift,master,I5fa39d41f9cd3b211e45d2012fd709f4135f595e,Report final in_progress when sharding is complete,MERGED,2021-02-08 06:12:10.000000000,2021-02-26 18:45:51.000000000,2021-02-26 18:42:36.000000000,230,27,39,774393,1de98348167f9923710d1a6d634ef6d8008eea5d,update_stats_sharded_split,42,4,14,5,7233,Matthew Oliver,mattoliverau,"Report final in_progress when sharding is complete

On every sharder cycle up update in progress recon stats for each sharding
container. However, we tend to not run it one final time once sharding
is complete because the DB state is changed to SHARDED and therefore the
in_progress stats never get their final update.
For those collecting this data to monitor, this makes sharding/cleaving shards
never complete.

This patch, adds a new option `recon_shared_timeout` which will now
allow sharded containers to be processed by `_record_sharding_progress()`
after they've finished sharding for an amount of time.

Change-Id: I5fa39d41f9cd3b211e45d2012fd709f4135f595e
"
openstack%2Fswift~master~I2a6024277d1198d8c996682682bfe28797344951,openstack/swift,master,I2a6024277d1198d8c996682682bfe28797344951,Plumb sharding stats though recon middleware,MERGED,2021-02-24 05:03:25.000000000,2021-02-26 18:44:30.000000000,2021-02-26 18:42:21.000000000,173,3,12,777297,b1309c95e5d1219a9241bdf1243d9dbdd17cb2d0,update_stats_sharded_split,18,3,5,4,7233,Matthew Oliver,mattoliverau,"Plumb sharding stats though recon middleware

To make it easier to have access to the sharding stats add
/recon/sharding as a recon middleware endpoint.

This allows an easy way to ask a container server for it's sharding
stats using REST inside the cluster:

  curl <container-server>/recon/sharding

Also add a get_recon method to the direct client so it can also be used
easily inside tooling and probe tests.

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Change-Id: I2a6024277d1198d8c996682682bfe28797344951
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8,openstack/tripleo-ansible,stable/train,I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8,Option to remove the self-installed ReaR cron task,MERGED,2021-02-24 11:33:00.000000000,2021-02-26 18:33:29.000000000,2021-02-26 18:33:29.000000000,12,0,0,777321,210d650464f99c90189f5fc716bfb307aabe4c2f,change-777321-1,20,6,2,2,32968,Juan Larriba,jlarriba,"Option to remove the self-installed ReaR cron task

By default, the ReaR rpm installs a cronjob on /etc/cron.d/rear with
a default programming. This programming runs a backup job at
1:30AM every day. During this automatic backup, the services are not
appropiately paused. This causes the created backup to have non-valid
data.

As the most recent backup overwrites the older ones, this deletes
the ""good"" backup taken at operator's discretion with a new one
that cannot be used to restore the control plane state.

This change aims to optionally disable this default rpm behaviour.

Closes-Bug: #1912764
Change-Id: I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8
(cherry picked from commit f0acda953ca3d8ab1c17f5c9e009458168fe6f82)
"
openstack%2Fswift~master~Ifda4407c9ecff4c636fe07e013c3ebcebd0df018,openstack/swift,master,Ifda4407c9ecff4c636fe07e013c3ebcebd0df018,Run garbage collector during probe test setUp,MERGED,2021-02-26 15:56:46.000000000,2021-02-26 18:10:33.000000000,2021-02-26 18:09:07.000000000,5,0,0,777765,6ed82b106c164560a4cbeddd39ed8a6a8d77d89d,update_stats_sharded_split,8,3,1,1,7847,Alistair Coles,acoles,"Run garbage collector during probe test setUp

DatabaseBrokers cache opened connections.  If a probe test
instantiates a DatabaseBroker, or any other class that in turn
instantiates a DatabaseBroker, such as a ContainerSharder, then
connections may hold db files open until the DatabaseBroker is garbage
collected. This can cause subsequent probe tests to fail during their
setUp() because resetswift is unable to unmount device directories
while db files are open.

A call to gc.collect() is added during setUp() to ensure db files are
closed before resetswift() is called.

Closes-Bug: 1917050
Change-Id: Ifda4407c9ecff4c636fe07e013c3ebcebd0df018
"
openstack%2Fmonasca-notification~stable%2Fussuri~Ia36e706d995ab8174c7f8b4acc42aa57f14766de,openstack/monasca-notification,stable/ussuri,Ia36e706d995ab8174c7f8b4acc42aa57f14766de,Update lower-constraints,MERGED,2021-02-26 15:42:15.000000000,2021-02-26 17:55:07.000000000,2021-02-26 17:52:47.000000000,18,12,0,777763,05249aec2333ccad1a83d53cee7295a0784fb028,update-lower-constraints,10,2,2,9,28062,Martin Chacon Piza,martinchacon,"Update lower-constraints

Fix flake8 E305 and E117 and set W504 as ignored

Change-Id: Ia36e706d995ab8174c7f8b4acc42aa57f14766de
"
openstack%2Fopenstack-helm-deployments~master~I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae,openstack/openstack-helm-deployments,master,I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae,Adjust Gate for Airshipctl secret-generate additions,MERGED,2021-02-16 20:00:59.000000000,2021-02-26 17:48:24.000000000,2021-02-26 17:48:24.000000000,33,3,0,775925,a1b0f7d1724f0400df2e1d6844c9fbbe45796ee6,fix-gates,108,4,33,7,21420,Gage Hugo,ghugo,"Adjust Gate for Airshipctl secret-generate additions

Gate must be adjusted to account for airshipctl
changes found below. Adds scripts to gate for
installing dependencies for secret-generate phase
as well as overrides for relative paths used to
generate and retrieve generated secrets.

https://review.opendev.org/c/airship/airshipctl/+/773730


Change-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae
"
openstack%2Fpython-tripleoclient~master~Ia1337dcbeceed485eda14733221164529daf0856,openstack/python-tripleoclient,master,Ia1337dcbeceed485eda14733221164529daf0856,Add label argument for the container image build,MERGED,2021-02-25 20:29:47.000000000,2021-02-26 17:41:15.000000000,2021-02-26 17:40:04.000000000,44,0,0,777672,2c5927a5ad3c2066b4aebd8bc1cee9563454eaa7,,10,5,1,2,7353,Kevin Carter,cloudnull,"Add label argument for the container image build

This change adds a new argument for the container image build CLI,
which allows operators to inject specific labels into a build that
also supports basic string replacement from user input. This
feature will allow maintainers and vendors to appropriately label
their container images without running any post validation or
injection.

Change-Id: Ia1337dcbeceed485eda14733221164529daf0856
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fcharm-glance~master~Ie65d6f78f91423ba2477c3a75c195269dbe26e02,openstack/charm-glance,master,Ie65d6f78f91423ba2477c3a75c195269dbe26e02,Fix to ensure that GLANCE_SWIFT_CONF is always written,ABANDONED,2021-02-26 15:43:30.000000000,2021-02-26 17:35:03.000000000,,7,1,0,777764,549c7b0df53f478877f6c97b1c2b2bfc7e15b52d,bug/1915300,5,2,1,2,20870,Alex Kavanagh,ajkavanagh,"Fix to ensure that GLANCE_SWIFT_CONF is always written

See associated bug.  Patch ensures that the GLANCE_SWIFT_CONF file
is always written when the object-store-relation is joined to the unit
even if it is the last relation to be made.  The bug indicates that this
isn't the case if the object-store relation is the last relation to be
joined.

Change-Id: Ie65d6f78f91423ba2477c3a75c195269dbe26e02
Closes-Bug: #1915300
"
openstack%2Fmanila~master~I88b664c631eddced4ee1fcdf34cf05222cb73662,openstack/manila,master,I88b664c631eddced4ee1fcdf34cf05222cb73662,"Drop ""system_scope"" from context constructor",MERGED,2021-02-25 19:02:17.000000000,2021-02-26 17:16:57.000000000,2021-02-26 17:15:40.000000000,0,1,0,777652,00133f93ae2c597ffa8eef1b3b8e8523671ca661,secure-rbac,17,4,1,1,16643,Goutham Pacha Ravi,gouthamr,"Drop ""system_scope"" from context constructor

Manila's RequestContext base class was
recently refactored to allow arbitrary
keyword arguments to be passed on to the
base Context class in oslo_context. This
was done so that we don't have to maintain
every new addition to Context within manila
code since that layer may change as the
middleware components (keystonemiddleware, for
example) evolve outside of manila.

During this refactor, ""system_scope"" was
inadvertently added as a separate keyword
argument, and it wasn't being passed to the
base class, causing system scoped users to
not be represented correctly in the API.
We can drop this parameter and allow it to
flow transparently through ""kwargs"".

Change-Id: I88b664c631eddced4ee1fcdf34cf05222cb73662
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fpatrole~master~Iad89625e7514d1046e0340db96a73960a17023cf,openstack/patrole,master,Iad89625e7514d1046e0340db96a73960a17023cf,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 16:59:43.000000000,2021-02-26 17:04:15.000000000,2021-02-26 17:02:48.000000000,6,6,0,777628,9ec7c465620dd44d392ba12ecb58bfadd97f3260,,7,2,1,1,30615,Tushar Trambak Gite,tushargite96,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Iad89625e7514d1046e0340db96a73960a17023cf
"
openstack%2Fopenstack-helm~master~If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21,openstack/openstack-helm,master,If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21,"Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""",MERGED,2021-01-28 20:08:43.000000000,2021-02-26 16:54:12.000000000,2021-02-26 16:52:27.000000000,37,17,6,772813,ca47e3c97481c8c2bdf1f3b69cabcf8bef867871,change-772813-7,177,16,36,25,30495,Nafiz Haider,nafh27,"Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""

This reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.

Reason for revert: resolved bug with cluster issuer versioning

Depends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814

Co-authored-by: Sangeet Gupta <sg774j@att.com>

Change-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21
"
openstack%2Ftempest-stress~master~I6190b08b009f168bdbb1e904bf50048ac98b45ba,openstack/tempest-stress,master,I6190b08b009f168bdbb1e904bf50048ac98b45ba,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 17:17:34.000000000,2021-02-26 16:36:09.000000000,2021-02-26 16:35:00.000000000,2,2,0,777631,47aa709502cc0570d6381e42a8abe4eb7475e249,,7,2,1,1,30615,Tushar Trambak Gite,tushargite96,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I6190b08b009f168bdbb1e904bf50048ac98b45ba
"
openstack%2Fdevstack-tools~master~I1229f065abfcbbd7a8724c12c0597d6765be9bcd,openstack/devstack-tools,master,I1229f065abfcbbd7a8724c12c0597d6765be9bcd,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 17:31:12.000000000,2021-02-26 16:29:56.000000000,2021-02-26 16:28:38.000000000,3,3,0,777635,60fc831b64a5715585216ba173e04f382c9ae6f7,,7,2,1,1,30615,Tushar Trambak Gite,tushargite96,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I1229f065abfcbbd7a8724c12c0597d6765be9bcd
"
openstack%2Fos-performance-tools~master~I8b8952dfbfc48fd6628584808dd5ae76db163e0b,openstack/os-performance-tools,master,I8b8952dfbfc48fd6628584808dd5ae76db163e0b,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 17:58:58.000000000,2021-02-26 16:27:01.000000000,2021-02-26 16:25:40.000000000,2,2,0,777640,fd7258f79d0347f6716d5dfe80764902a8f68ac5,,7,2,1,1,30615,Tushar Trambak Gite,tushargite96,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I8b8952dfbfc48fd6628584808dd5ae76db163e0b
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,openstack/tripleo-heat-templates,stable/train,I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,Don't try creating default admin and member roles,MERGED,2021-02-24 09:16:56.000000000,2021-02-26 16:25:18.000000000,2021-02-26 16:25:18.000000000,0,4,0,777341,7d56985fa3342abb9c6d8bd3e6ade3f8f3c065f1,,19,7,2,1,8833,Rabi Mishra,rabi,"Don't try creating default admin and member roles

These are default roles and we don't need to create them for
ceph. Also swift user does not need admin role.

Closes-Bug: 1916756
Resolves: rhbz#1932208

Change-Id: I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f
(cherry picked from commit c1462b7608be9c7b925009ec95c9bbed0c08d98c)
(cherry picked from commit bd5e2c80fd7bfac2eb72c6c87557f64885648e53)
(cherry picked from commit 6de73eca77ae3650985e0b5d0d7d6c42562f1e6c)
"
openstack%2Fcharm-deployment-guide~master~I9c5e2f4a8d5f24ee8b0cedb3d3af13bce8c90e29,openstack/charm-deployment-guide,master,I9c5e2f4a8d5f24ee8b0cedb3d3af13bce8c90e29,Add scaling out text for MySQL8 cluster,MERGED,2021-02-26 01:06:46.000000000,2021-02-26 15:54:34.000000000,2021-02-26 15:52:43.000000000,7,0,0,777704,1634bb1a20d1b86bb2946c6d5afe632664ee7146,improve-ha-mysql,7,2,1,1,30561,Peter Matulis,pmatulis,"Add scaling out text for MySQL8 cluster

Move a scaling out command from the mysql-innodb-cluster
charm README to the HA page in this guide.

Change-Id: I9c5e2f4a8d5f24ee8b0cedb3d3af13bce8c90e29
"
openstack%2Freleases~master~I16f8121258b29cec7945efe3321e09b3521b95dc,openstack/releases,master,I16f8121258b29cec7945efe3321e09b3521b95dc,ldappool 3.0.0,MERGED,2021-02-25 12:47:29.000000000,2021-02-26 15:24:11.000000000,2021-02-26 15:24:11.000000000,6,2,0,777584,59d04c954e796e07a7bc421889b279a955b4b438,ldappool,9,4,1,1,15334,Stephen Finucane,sfinucan,"ldappool 3.0.0

This drops Python 2 support hence the major version bump. We also uncap
PrettyTable and bump some other dependencies like openstackdocstheme and
reno.

Change-Id: I16f8121258b29cec7945efe3321e09b3521b95dc
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fopenstack-ansible-tests~master~I503a3b8bd09e56ab337e364732b42577a582c6a3,openstack/openstack-ansible-tests,master,I503a3b8bd09e56ab337e364732b42577a582c6a3,DNM: Pull constraint files from local path in CI,NEW,2021-02-26 14:22:44.000000000,2021-02-26 15:08:44.000000000,,9,4,0,777753,a31927176853c6e638791a386cc9f3e947de35d3,,2,1,1,1,31542,Andrew Bonney,andrewbonney,"DNM: Pull constraint files from local path in CI

Change-Id: I503a3b8bd09e56ab337e364732b42577a582c6a3
"
openstack%2Fopenstack-helm-infra~master~Ie3ab601f379a17e666b9ed2bfe174dd098abc41f,openstack/openstack-helm-infra,master,Ie3ab601f379a17e666b9ed2bfe174dd098abc41f,[WIP] feat(tls): Enable TLS for Ceph RGW,ABANDONED,2021-02-24 18:45:00.000000000,2021-02-26 15:08:03.000000000,,42,2,0,777451,973791b79981e053285745099c58fac97ebca9dc,rgw-tls-4,13,1,7,6,32190,Frank Ritchie,fr801x,"[WIP] feat(tls): Enable TLS for Ceph RGW

Change-Id: Ie3ab601f379a17e666b9ed2bfe174dd098abc41f
"
openstack%2Fcinder-tempest-plugin~master~Id6dc96915f5b15827e6e8f58cc8195a0f76e9686,openstack/cinder-tempest-plugin,master,Id6dc96915f5b15827e6e8f58cc8195a0f76e9686,Fix cinder-backup/swift: readd member to tempest roles,MERGED,2021-02-25 21:21:04.000000000,2021-02-26 14:46:14.000000000,2021-02-26 14:46:14.000000000,4,0,0,777685,5d7847ccbc7c9a798aa40ee9511c3dd08ca938d6,fix-add-member-tempest-cbak-swift,19,3,1,1,10459,Luigi Toscano,ltoscano,"Fix cinder-backup/swift: readd member to tempest roles

Change I0b6ab9fb943c7b0925a0a0d2490a8bcdfa76cedc removed the 'member'
user from the default roles assigned to dynamic tempest users.
This broke cinder-backup with the default swift backend.

Set the full list of roles, including 'creator' which should be
added by the barbican devstack plugin. Unfortunately the values
here overrides any other setting.

Change-Id: Id6dc96915f5b15827e6e8f58cc8195a0f76e9686
"
openstack%2Ftripleo-common~stable%2Fvictoria~I776192717798c9fc3f02c4d358bebed2bada3593,openstack/tripleo-common,stable/victoria,I776192717798c9fc3f02c4d358bebed2bada3593,Fix fact definition for deployments,MERGED,2021-02-23 21:18:10.000000000,2021-02-26 14:44:24.000000000,2021-02-26 14:42:51.000000000,4,4,0,777228,451cbc23efa28019acb838700168aaa25ea548ff,bug/1915761-stable/victoria,16,3,1,1,14985,Alex Schultz,mwhahaha,"Fix fact definition for deployments

For legacy deployment tasks we construct them here in tripleo-common. In
order to disable inject facts, we need to fix this here too.

Change-Id: I776192717798c9fc3f02c4d358bebed2bada3593
Related-Bug: #1915761
(cherry picked from commit 6af709a65e7814209e5e44f8de14f28c3badc81d)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,openstack/tripleo-heat-templates,stable/victoria,I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,Fix redis_tls_proxy,MERGED,2021-02-25 15:59:19.000000000,2021-02-26 14:42:56.000000000,2021-02-26 14:42:56.000000000,22,0,0,777546,e6e7019add37e18092078ae1fd0738dcb23bc9cb,fix-redis-tls-stable/victoria,12,4,1,1,20172,Michele Baldessari,michele,"Fix redis_tls_proxy

Since we merged the pcs-host patches we erroneously also removed
the sidecar container that does the tls stunneling for redis.
This is needed to allow the redis master stream the deplications to
its slaves via TLS.

Tested this and we now correctly get the working container and cluster
state:
[root@controller-0 ~]# podman ps -a |grep redis
4182a78811a2  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       /bin/bash /usr/lo...  3 minutes ago   Up 3 minutes ago                 redis-bundle-podman-0
604a086bb53c  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       kolla_start           8 minutes ago   Up 8 minutes ago                 redis_tls_proxy
[root@controller-0 ~]# pcs status |grep redis
  * GuestOnline: [ galera-bundle-0@database-1 galera-bundle-1@database-2 galera-bundle-2@database-0 ovn-dbs-bundle-0@controller-0 ovn-dbs-bundle-1@controller-1 ovn-dbs-bundle-2@controller-2 rabbitmq-bundle-0@messaging-0 rabbitmq-bundle-1@messaging-1 rabbitmq-bundle-2@messaging-2 redis-bundle-0@controller-0 redis-bundle-1@controller-1 redis-bundle-2@controller-2 ]
  * Container bundle set: redis-bundle [cluster.common.tag/openstack-redis:pcmklatest]:
    * redis-bundle-0    (ocf::heartbeat:redis):  Master controller-0
    * redis-bundle-1    (ocf::heartbeat:redis):  Slave controller-1
    * redis-bundle-2    (ocf::heartbeat:redis):  Slave controller-2

We also move the redis_tls_proxy from step_2/start_order: 3 to step_1
since it actually makes sense to have it run before we start the
redis pcmk bundle at step 2 (i.e. so the slave replica can work right
away from the start).

Closes-Bug: #1916873

Change-Id: I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab
"
openstack%2Ftripleo-ansible~master~Ic27dcc9f891257ccb15e691674b440501a4c88df,openstack/tripleo-ansible,master,Ic27dcc9f891257ccb15e691674b440501a4c88df,Also bootstrap tripleo packages on Centos8,ABANDONED,2021-02-26 13:44:15.000000000,2021-02-26 13:47:34.000000000,,38,0,0,777750,a93ee4b74b6af4d665803a49e0c2f50e3d847af1,,2,0,1,1,6926,Bogdan Dobrelya,bogdando,"Also bootstrap tripleo packages on Centos8

Centos8 pre-deployed servers fail to install since there is no
match in the vars file.

Change-Id: Ic27dcc9f891257ccb15e691674b440501a4c88df
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fopenstack-ansible~master~Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1,openstack/openstack-ansible,master,Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1,Workaround nova bug,MERGED,2021-02-25 14:39:09.000000000,2021-02-26 13:42:00.000000000,2021-02-26 13:40:19.000000000,1,0,0,777601,07f7243bf90611e31cd8c94b5ea2883f0ee65bb4,,10,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Workaround nova bug

For some reason libvirt of version 5.1 fails to attach
second port to instances with single vcpu and pc-i440fx
machine type.
So we applying workaround with extending amount of cores
for amphora flavor

Related-Bug: #1916879
Change-Id: Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1
"
openstack%2Fneutron-tempest-plugin~master~I4c714f68150f4e40d09048e4d2306619455875b4,openstack/neutron-tempest-plugin,master,I4c714f68150f4e40d09048e4d2306619455875b4,Add update QoS rule test step to fip-qos scenario,MERGED,2021-02-23 08:21:02.000000000,2021-02-26 13:07:32.000000000,2021-02-26 13:07:32.000000000,32,1,1,777058,f5a40d92f2d3085148f87c8c912d50dc463d5ca1,,20,6,5,1,31291,Eduardo Olivares,eolivare,"Add update QoS rule test step to fip-qos scenario

This test step was performed at QoSTest.test_qos_basic_and_update (QoS
policies applied to network and port), but not at
FloatingIPQosTest.test_qos (QoS policies applied to FIP)

Change-Id: I4c714f68150f4e40d09048e4d2306619455875b4
"
openstack%2Fopenstack-ansible-os_adjutant~master~Ie1db13b4b4545ce33449870e5be0eabe2d36df3d,openstack/openstack-ansible-os_adjutant,master,Ie1db13b4b4545ce33449870e5be0eabe2d36df3d,Use global service variables,MERGED,2021-02-25 14:07:49.000000000,2021-02-26 12:49:17.000000000,2021-02-26 12:47:03.000000000,5,6,0,777596,cd405c2036b2715ddb731d11f746df7bf5cae8f9,,9,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: Ie1db13b4b4545ce33449870e5be0eabe2d36df3d
"
openstack%2Fopenstack-ansible-os_adjutant~master~Ib5074969c8c5cbd60f45dcc100cb0cdb9c17662e,openstack/openstack-ansible-os_adjutant,master,Ib5074969c8c5cbd60f45dcc100cb0cdb9c17662e,Use venv_tag,MERGED,2021-02-25 14:09:18.000000000,2021-02-26 12:48:10.000000000,2021-02-26 12:47:00.000000000,1,1,0,777597,e1245d8ec706ff9b1632052cf812698eea2da6d3,,9,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use venv_tag

There was an issue when adjutant didn't use venv_tag that resulted in
broken venv.
We should use proper venv_tag while installing services.

Change-Id: Ib5074969c8c5cbd60f45dcc100cb0cdb9c17662e
"
openstack%2Fmonasca-notification~stable%2Fvictoria~I70c4c771efe0c0cab536aef53a80dac3ae44bd5f,openstack/monasca-notification,stable/victoria,I70c4c771efe0c0cab536aef53a80dac3ae44bd5f,Fix zuul publish docker image job,MERGED,2021-02-26 09:40:59.000000000,2021-02-26 12:35:29.000000000,2021-02-26 12:35:29.000000000,1,1,0,777731,40e5228d68659eb0cc468c975c4d265b2056799b,fix-zuul-publish,8,2,2,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I70c4c771efe0c0cab536aef53a80dac3ae44bd5f
"
openstack%2Fpython-magnumclient~master~I4b9e68d5105cdaa76b7906dbc839182ff3a57df1,openstack/python-magnumclient,master,I4b9e68d5105cdaa76b7906dbc839182ff3a57df1,Uncap PrettyTable,MERGED,2021-02-23 15:01:34.000000000,2021-02-26 12:16:52.000000000,2021-02-26 12:15:40.000000000,1,1,0,777145,e2bcf6e98011f04f7768ab5859077f43093166d8,bump_prettytable_version,8,4,1,1,15197,Pierre Riteau,priteau,"Uncap PrettyTable

This is now maintained as a Jazzband project [1].

[1] https://github.com/jazzband/prettytable

Change-Id: I4b9e68d5105cdaa76b7906dbc839182ff3a57df1
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I949a17a8e77e96b6933e625914ea337eb94e53c2,openstack/openstack-ansible-openstack_hosts,master,I949a17a8e77e96b6933e625914ea337eb94e53c2,Use ansible_facts[] instead of fact variables,MERGED,2021-02-22 16:53:20.000000000,2021-02-26 11:50:34.000000000,2021-02-26 11:49:20.000000000,51,49,8,776960,9c585b7257d44c5bdb111983d186f355d7065cbc,osa-facts,26,4,7,14,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I949a17a8e77e96b6933e625914ea337eb94e53c2
"
openstack%2Fmonasca-notification~stable%2Fvictoria~Idae87291f4556eee77d40ab49f0d151435d70875,openstack/monasca-notification,stable/victoria,Idae87291f4556eee77d40ab49f0d151435d70875,Update hacking for Python3,MERGED,2021-02-26 10:24:02.000000000,2021-02-26 11:21:53.000000000,2021-02-26 11:20:32.000000000,21,16,0,777552,010e237e0323b24864bfeb8caa59a4740ed116fe,update-lower-constraints-stable/victoria,7,2,1,10,28062,Martin Chacon Piza,martinchacon,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found by updated hacking version.

Remove hacking and friends from lower-constraints, they are not needed
there at all.

Align lower-constraints for new pip [1]

Fix flake8 E305 and E117 and set W504 as ignored

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html

Change-Id: Idae87291f4556eee77d40ab49f0d151435d70875
(cherry picked from commit 35a9b57f9136b4ce735a00d788fa49133aa29abc)
"
openstack%2Fkayobe~master~Ia116dec86d0417e7b51b4b6ba3caec7459cc4916,openstack/kayobe,master,Ia116dec86d0417e7b51b4b6ba3caec7459cc4916,DNM: debug vexxhost baremetal deploys,ABANDONED,2021-02-25 10:14:09.000000000,2021-02-26 11:21:15.000000000,,26,17,0,777558,a8ee1942d7b449ebb786e944bcbe168dffcd2168,,17,1,6,4,14826,Mark Goddard,mgoddard,"DNM: debug vexxhost baremetal deploys

Change-Id: Ia116dec86d0417e7b51b4b6ba3caec7459cc4916
"
openstack%2Fnova~stable%2Fussuri~Id2d8d72d30075200d2b07b847c4e5568599b0d3b,openstack/nova,stable/ussuri,Id2d8d72d30075200d2b07b847c4e5568599b0d3b,only wait for plugtime events in pre-live-migration,MERGED,2021-01-14 12:37:15.000000000,2021-02-26 11:01:28.000000000,2021-02-26 01:32:59.000000000,48,11,0,770745,d9c833d5a404dfa206e08c97543e80cb613b3f0b,bug/1901707,31,6,4,3,11604,sean mooney,sean-k-mooney,"only wait for plugtime events in pre-live-migration

This change modifies _get_neutron_events_for_live_migration
to filter the event to just the subset that will be sent
at plug-time.

Currently neuton has a bug where by the dhcp agent
send a network-vif-plugged event during live migration after
we update the port profile with ""migrating-to:""
this cause a network-vif-plugged event to be sent for
configuration where vif_plugging in nova/os-vif is a noop.

when that is corrected the current logic in nova cause the migration
to time out as its waiting for an event that will never arrive.

This change filters the set of events we wait for to just the plug
time events.

This backport has squashed the follow up change
I37c712ba9a0ab88c44d10f80da3254ab6c463a68 to remove the unused
migration paramater orginally added by this patch to
_get_neutron_events_for_live_migration

Related-Bug: #1815989
Closes-Bug: #1901707
Change-Id: Id2d8d72d30075200d2b07b847c4e5568599b0d3b
(cherry picked from commit 8b33ac064456482158b23c2a2d52f819ebb4c60e)
(cherry picked from commit ef348c4eb3379189f290217c9351157b1ebf0adb)
"
openstack%2Fcharm-keystone-saml-mellon~master~I926941e47966330f079929156cdbefd03b00eb64,openstack/charm-keystone-saml-mellon,master,I926941e47966330f079929156cdbefd03b00eb64,Add multi-backend testing,MERGED,2021-01-10 15:48:52.000000000,2021-02-26 10:17:12.000000000,2021-02-26 10:17:12.000000000,159,147,0,770056,6196c8584246012310842e98d06abd70302c16aa,,34,3,3,6,13178,Ionut-Madalin Balutoiu,ibalutoiu,"Add multi-backend testing

Use the Juju charm https://jaas.ai/u/ionutbalutoiu/test-saml-idp to deploy two local
SAML-based IdPs, and link them to two instances of the keystone-saml-mellon.

The corresponding Zaza tests will validate that Keystone is properly
setup with the multi-backend pointing to our local IdPs.

Change-Id: I926941e47966330f079929156cdbefd03b00eb64
Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/480
"
openstack%2Fcharm-ceph-osd~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-ceph-osd,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:40:38.000000000,2021-02-26 10:13:38.000000000,2021-02-26 10:13:38.000000000,4,0,0,776339,8ef9608f0890a659efe1ec23025cc5e2153e7ef9,feature/new-zuul,12,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Fcharm-designate~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-designate,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:42:08.000000000,2021-02-26 10:11:17.000000000,2021-02-26 10:11:17.000000000,7,0,0,776348,8b9fdfef5e1444538e90a0455f75148e84fcd7b2,feature/new-zuul,15,4,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Fcharm-designate-bind~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-designate-bind,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:42:23.000000000,2021-02-26 10:09:22.000000000,2021-02-26 10:09:22.000000000,7,0,0,776349,30067feeca418f1ca7b9ced5ae601827af047cad,feature/new-zuul,14,4,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
"
openstack%2Fcharm-ceilometer-agent~master~I1bba556eebc3081e890989507b0ccfe6f029c3a6,openstack/charm-ceilometer-agent,master,I1bba556eebc3081e890989507b0ccfe6f029c3a6,Add new osci.yaml,MERGED,2021-02-18 07:39:48.000000000,2021-02-26 10:08:51.000000000,2021-02-26 10:08:51.000000000,4,0,0,776336,33c30bf1bc87c1118d9257088b367b0dace8971c,feature/new-zuul,13,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I1bba556eebc3081e890989507b0ccfe6f029c3a6
"
openstack%2Fcharm-aodh~master~I1bba556eebc3081e890989507b0ccfe6f029c3a6,openstack/charm-aodh,master,I1bba556eebc3081e890989507b0ccfe6f029c3a6,Add new osci.yaml,MERGED,2021-02-18 07:39:00.000000000,2021-02-26 10:06:35.000000000,2021-02-26 10:06:35.000000000,7,0,0,776332,12dbfc1b901cff79f12e524fa1b1a48b8c690d3d,feature/new-zuul,13,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I1bba556eebc3081e890989507b0ccfe6f029c3a6
"
openstack%2Fdesignate~stable%2Fstein~I98f7f80ce365cdee33528f9964c03274f62a795a,openstack/designate,stable/stein,I98f7f80ce365cdee33528f9964c03274f62a795a,Adding distributed locking to central,MERGED,2021-02-17 22:42:25.000000000,2021-02-26 10:01:25.000000000,2021-02-26 09:59:58.000000000,194,2,4,776288,acc82755f1e8df8bb8f0ab7b4524f691637a312e,central_lock,31,4,8,5,19298,Nicolas Bock,nicolasbock,"Adding distributed locking to central

The current locking implementation is limited to
the running process. This introduces distributed
locking that will help prevent race conditions
when there are many instances of designate-central
running.

Closes-Bug: #1871332
Change-Id: I98f7f80ce365cdee33528f9964c03274f62a795a
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
(cherry picked from commit f6090d885c8ebe00a89307a1e2f5621de75dcda8)
"
openstack%2Fsushy~master~Idd4158d87d27b6358c6d7a2a7183427a494ee384,openstack/sushy,master,Idd4158d87d27b6358c6d7a2a7183427a494ee384,Refactor TaskMonitor and update Volume methods,MERGED,2021-02-08 19:33:20.000000000,2021-02-26 09:55:13.000000000,2021-02-24 11:48:51.000000000,924,197,8,774532,7a9a2b6020d9b16a671339e6cefaebd0baff99ec,deprecate-taskmonitor,28,6,4,15,27909,Aija Jauntēva,ajya,"Refactor TaskMonitor and update Volume methods

Refactor TaskMonitor-s:
  - deprecate ``resources.task_monitor.TaskMonitor``
  - move TaskMonitor from ``resources.taskservice.taskmonitor``
    to ``taskmonitor``
  - add necessary methods from deprecated TaskMonitor to the
    moved one

Update Volume methods to use remaining TaskMonitor.

Add static helper method to TaskMonitor to initiate TaskMonitor
instance from response.
Replace TaskMonitor in connector with the remaining TaskMonitor.

Add method get_task_monitor to Sushy class. Deprecate
UpdateService.get_task_monitor.

Uppercase Location header in connector. While headers are case
insensitive, in unit tests where headers are mocked they are
case sensitive.

Change-Id: Idd4158d87d27b6358c6d7a2a7183427a494ee384
"
openstack%2Ftripleo-quickstart-extras~master~I66a3e827fab054fd320ba7554baae9597f9205d0,openstack/tripleo-quickstart-extras,master,I66a3e827fab054fd320ba7554baae9597f9205d0,reproducer: do not overwrite workspace by default,MERGED,2021-02-19 20:05:24.000000000,2021-02-26 09:54:13.000000000,2021-02-26 09:54:13.000000000,20,8,4,776704,6b9fcb17b0572f9c61d4ea6c8175fa89405c2395,reproducer-fix,30,7,5,1,9592,wes hayutin,weshayutin,"reproducer: do not overwrite workspace by default

users should be allowed to tweak settings and rerun
this script w/o all their changes being overwritten

Change-Id: I66a3e827fab054fd320ba7554baae9597f9205d0
"
openstack%2Fcharm-trilio-dm-api~master~I4100771916963b681e760f5e364420f50dc81b9f,openstack/charm-trilio-dm-api,master,I4100771916963b681e760f5e364420f50dc81b9f,Extend gate tests for Trilio 4.0 and 4.1,MERGED,2021-02-19 12:36:33.000000000,2021-02-26 09:50:26.000000000,2021-02-26 09:50:26.000000000,2182,650,0,776614,ad428c2e6772d2bf307f181754e9468765c694be,more-bundles,18,3,2,14,12549,gnuoy,gnuoy,"Extend gate tests for Trilio 4.0 and 4.1

func-test-pr: https://github.com/openstack-charmers/zaza/pull/430

Change-Id: I4100771916963b681e760f5e364420f50dc81b9f
"
openstack%2Ftripleo-common~stable%2Fvictoria~I61affe32dfc9eacbe514893168397c9b291b8713,openstack/tripleo-common,stable/victoria,I61affe32dfc9eacbe514893168397c9b291b8713,Reduce fact gathering,MERGED,2021-02-22 20:51:50.000000000,2021-02-26 09:19:13.000000000,2021-02-26 09:17:34.000000000,3,0,0,777007,05c18eb19206d8c272c7b4d6c775b916adc0c03b,bug/1915761-stable/victoria,15,3,2,1,14985,Alex Schultz,mwhahaha,"Reduce fact gathering

This change updates the default subset to only be the minimum list of
facts for ansible.  In the deployment we need to make sure that we only
collect the minimum amount of facts to perform the tasks at hand rather
than assume we have all the facts.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/777002
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/777004
Related-Bug: #1915761
Change-Id: I61affe32dfc9eacbe514893168397c9b291b8713
(cherry picked from commit 0e81eb420e8974d7815b98e084a94885a1ff1b8b)
"
openstack%2Fvalidations-common~master~I51d9f0f2fc7c8518da420ae77824162aa3592c4b,openstack/validations-common,master,I51d9f0f2fc7c8518da420ae77824162aa3592c4b,Fixes issues caused by dict unpacking in (90e6133),MERGED,2021-02-24 08:08:02.000000000,2021-02-26 09:17:54.000000000,2021-02-26 09:17:54.000000000,5,1,0,777308,bc6b58279e94b2736be0e822aed716ab265a48b8,fix/90e6133,15,8,2,1,32926,Jiri Podivin,jpodivin,"Fixes issues caused by dict unpacking in (90e6133)

original issue https://review.rdoproject.org/r/#/c/32074/
caused by different dict unpacking in python 2.7 and
python >= 3

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I51d9f0f2fc7c8518da420ae77824162aa3592c4b
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,openstack/tripleo-heat-templates,stable/victoria,I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,Don't try creating default admin and member roles,MERGED,2021-02-25 10:08:20.000000000,2021-02-26 09:17:40.000000000,2021-02-26 09:17:40.000000000,0,4,0,777538,bd5e2c80fd7bfac2eb72c6c87557f64885648e53,,11,6,1,1,6796,Giulio Fidente,gfidente,"Don't try creating default admin and member roles

These are default roles and we don't need to create them for
ceph. Also swift user does not need admin role.

Closes-Bug: 1916756
Resolves: rhbz#1932208

Change-Id: I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f
(cherry picked from commit c1462b7608be9c7b925009ec95c9bbed0c08d98c)
"
openstack%2Fkayobe-config-dev~master~I2d853d38740dca445cd281b83f4a26d842a9c9cd,openstack/kayobe-config-dev,master,I2d853d38740dca445cd281b83f4a26d842a9c9cd,Reduce ironic minimum required memory to 256MB,MERGED,2021-02-23 09:29:13.000000000,2021-02-26 08:52:36.000000000,2021-02-26 08:52:36.000000000,2,0,0,777076,0b54af9ed9678837255e48106c96b23feb0aff70,,37,4,2,1,14826,Mark Goddard,mgoddard,"Reduce ironic minimum required memory to 256MB

In resource-constrained environments such as CI, we may hit this new
limit, which prevents deployments from succeeding.

Following the lead of the ironic devstack plugin, we reduce the limit to
256MB.

Depends-On: https://review.opendev.org/c/openstack/kayobe/+/777518

Change-Id: I2d853d38740dca445cd281b83f4a26d842a9c9cd
"
openstack%2Fswift~master~Ica983aa13a7bcd07bc73c68f3938b190c4bbaa3d,openstack/swift,master,Ica983aa13a7bcd07bc73c68f3938b190c4bbaa3d,Add unit test coverage for CleavingContext.done(),MERGED,2021-02-25 15:00:17.000000000,2021-02-26 07:11:36.000000000,2021-02-26 07:10:09.000000000,29,0,1,777604,c9f6e760bc2b70e025edb149417862ce77689646,p-sharder-context-done-tests,13,2,1,1,7847,Alistair Coles,acoles,"Add unit test coverage for CleavingContext.done()

Change-Id: Ica983aa13a7bcd07bc73c68f3938b190c4bbaa3d
"
openstack%2Fneutron~master~Ibfbdd712e49d1fb8522bcc39357be0f311ce3f5c,openstack/neutron,master,Ibfbdd712e49d1fb8522bcc39357be0f311ce3f5c,[OVN] Update sample local.conf to mention OVN_BUILD_FROM_SOURCE,MERGED,2021-02-08 20:47:58.000000000,2021-02-26 07:08:54.000000000,2021-02-26 07:07:05.000000000,44,24,0,774540,b3b6cc06c3c55bfbbea64caa01a66f64afe04c0b,,18,3,1,4,11952,Flavio Fernandes,ffernand,"[OVN] Update sample local.conf to mention OVN_BUILD_FROM_SOURCE

Using OVN from packages was introduced in devstack via
https://review.opendev.org/c/openstack/devstack/+/763402

This change updates the sample files to make users aware of it,
especially when specifying the OVN branch to be used.

Change-Id: Ibfbdd712e49d1fb8522bcc39357be0f311ce3f5c
"
openstack%2Fvenus-dashboard~master~Ic1c9d0ac2e8a0f57e4a8d2749dbb9c099b5bb71e,openstack/venus-dashboard,master,Ic1c9d0ac2e8a0f57e4a8d2749dbb9c099b5bb71e,.zuul.yaml: add Zuul support to new repo,MERGED,2021-02-26 05:54:24.000000000,2021-02-26 05:59:12.000000000,2021-02-26 05:59:12.000000000,3,0,0,777714,82e14c6281cde55013d09bd2907a9e3a2a3142e8,new-project,6,2,1,1,26458,Brin Zhang,zhangbailin,".zuul.yaml: add Zuul support to new repo

Change-Id: Ic1c9d0ac2e8a0f57e4a8d2749dbb9c099b5bb71e
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ibf917826a2d6b2662215c58c9dd8ec8007e57881,openstack/python-tripleoclient,stable/train,Ibf917826a2d6b2662215c58c9dd8ec8007e57881,Add auth_token_lifetime to undercloud.conf,MERGED,2021-02-24 18:36:22.000000000,2021-02-26 05:54:30.000000000,2021-02-26 05:53:07.000000000,16,0,0,777326,764075120014c674baf754dfb288787a752596a7,,9,2,1,4,14985,Alex Schultz,mwhahaha,"Add auth_token_lifetime to undercloud.conf

The undercloud currently defines the auth token life time in the
undercloud.yaml environment in tripleo-heat-templates. At certain scale,
it makes sense to increase this so we should make it a top level
configuration item.

Change-Id: Ibf917826a2d6b2662215c58c9dd8ec8007e57881
(cherry picked from commit 438e53ad4e31ff88421e1b7070dbb9f097bcd359)
"
openstack%2Fironic-inspector~master~I4d038245c6b97b1504fb47eeec78ad3f9e5a897c,openstack/ironic-inspector,master,I4d038245c6b97b1504fb47eeec78ad3f9e5a897c,Implement secure RBAC,MERGED,2021-01-27 20:57:19.000000000,2021-02-26 05:51:57.000000000,2021-02-26 05:50:47.000000000,589,43,9,772771,c9e312f8b4aef65b60dcbfd3b05210477889a405,secure-rbac,25,5,5,3,4571,Steve Baker,steve-stevebaker,"Implement secure RBAC

The default policy will been replaced with one which aligns with the
Secure-RBAC scopes and roles. Since ironic-inspector is a tool used only
by system-level admins, only the ``system`` scope is supported, and the
only roles in the policy rules are ``admin`` and ``reader``.

The is_admin and is_observer rules are deprecated for removal, and
every rule which refers to them are deprecated in favor of the
system-scoped equivalent (system_scope:all with role:admin or
role:reader)

No unit tests covered the existing policy, these are now covered by
test_acl.TestACLDeprecated.

Change-Id: I4d038245c6b97b1504fb47eeec78ad3f9e5a897c
"
openstack%2Fhorizon~master~Ie78900dae54ff63d41b7ddca3fa83f627d4260c4,openstack/horizon,master,Ie78900dae54ff63d41b7ddca3fa83f627d4260c4,Fixes double loading in Image source loading,MERGED,2019-03-04 13:34:13.000000000,2021-02-26 05:35:21.000000000,2019-03-14 04:56:01.000000000,77,86,3,640762,ff5f74d5d0d5ef8f7c07ca8762b7ad197aea156f,bug/1818508,18,4,4,2,26546,Marek Lyčka,mareklycka,"Fixes double loading in Image source loading

This patch removes a redundant image API call, which caused
images to be loaded twice in the UI. Image filtering for
snapshot/'normal' images has been merged into a single iteration
for the sake of optimization.

Additionally, tests have been changed to more comprehensively
check which data is loaded into which data structures during
model population. Code redundancy has also been removed in
tests.

Change-Id: Ie78900dae54ff63d41b7ddca3fa83f627d4260c4
Closes-Bug: #1818508
"
openstack%2Fglance~master~Ie7f9a9201361c56e0f0a289ef93443b9e277357c,openstack/glance,master,Ie7f9a9201361c56e0f0a289ef93443b9e277357c,Pass oslo.context RequestContext objects directly to policy enforcement,MERGED,2020-12-16 22:24:09.000000000,2021-02-26 05:00:48.000000000,2021-02-26 04:59:18.000000000,27,8,3,767425,e6755ebab9eea071cb5c9e4fb09be8fe81911c0c,secure-rbac,69,4,10,3,5046,Lance Bragstad,ldbragst,"Pass oslo.context RequestContext objects directly to policy enforcement

The oslo.policy's Enforcer() object will transpose authorization
information from oslo.context RequestContext objects if you pass one
to enforce()[0].

This commit simplifies the enforcement code in glance by letting
oslo.policy handle the translation instead of glance. This allows us to
remove the to_policy_values() method maintained in glance since it's no
longer used.

[0] https://opendev.org/openstack/oslo.policy/commit/775641a5fc549c20be37cf862deca394bf7f2d21

Related: blueprint secure-rbac

Change-Id: Ie7f9a9201361c56e0f0a289ef93443b9e277357c
"
openstack%2Fadjutant~master~Ia9569ebb76ffe91d592dbc94bc528bde4aa00fc4,openstack/adjutant,master,Ia9569ebb76ffe91d592dbc94bc528bde4aa00fc4,Fix a bug with feature set config not being added as expected,MERGED,2021-02-26 00:39:45.000000000,2021-02-26 04:35:47.000000000,2021-02-26 04:34:37.000000000,3,1,0,777702,d703a634a4d71b54957a3a554797dc5b78aad566,bug/feature_set_config,7,2,1,2,10420,Adrian Turjak,adriant,"Fix a bug with feature set config not being added as expected

The feature set config group was entirely missed from the config
tree, and the group itself wasn't setup for lazy_loading despite
needing to be based on when it is meant to have config added to it.

Change-Id: Ia9569ebb76ffe91d592dbc94bc528bde4aa00fc4
"
openstack%2Fglance~master~Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e,openstack/glance,master,Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e,New API /v2/images/{id}/tasks,MERGED,2021-02-10 11:30:47.000000000,2021-02-26 02:49:31.000000000,2021-02-26 00:27:24.000000000,347,10,28,774830,281fadc15c5e257e72514957701a5571a83d8c38,bump-image-api-version,47,4,9,8,9303,Abhishek Kekane,abhishekkekane,"New API /v2/images/{id}/tasks

Added new API /v2/images/{id}/tasks to show tasks associated with
image. This API will return list of tasks associated for valid image
else returns 404 not found if image is not present. This API also
initiates task scrubbing before returning tasks to user.

Implements: blueprint messages-api
Change-Id: Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e
"
openstack%2Fswift~stable%2Fussuri~I56b4169002122ba3e53e78abd1ad994e0ae5ed3d,openstack/swift,stable/ussuri,I56b4169002122ba3e53e78abd1ad994e0ae5ed3d,swift-container-info: Show shard ranges summary,MERGED,2021-02-24 03:15:09.000000000,2021-02-26 01:53:53.000000000,2021-02-26 01:52:18.000000000,117,22,0,777282,f4061c04364adf8933841968b053ff442f95059e,ussuri-sharding,13,2,1,3,597,Pete Zaitcev,zaitcev,"swift-container-info: Show shard ranges summary

The current behavior is really painful when you've got hundreds of shard
ranges in a DB.  The new summary with the states is default.  Users can
add a -v/--verbose flag to see the old full detail view.

Cherry-Picked-From: I0a7d65f64540f99514c52a70f9157ef060a8a892
Change-Id: I56b4169002122ba3e53e78abd1ad994e0ae5ed3d
"
openstack%2Ftripleo-ansible~master~I7aba66f55e1e63a233757bc07a65b5669ae782f5,openstack/tripleo-ansible,master,I7aba66f55e1e63a233757bc07a65b5669ae782f5,Fix typo in test_tripleo_overcloud_network_ports.py,MERGED,2021-02-25 18:32:53.000000000,2021-02-26 01:31:28.000000000,2021-02-26 01:31:28.000000000,1,1,0,777649,4a6b7c55f9f7daa2dadded36a9447ee01913c435,fix-typo-in-tests,8,4,1,1,24245,Harald Jensås,harald.jensas,"Fix typo in test_tripleo_overcloud_network_ports.py

Change-Id: I7aba66f55e1e63a233757bc07a65b5669ae782f5
"
openstack%2Fopenstack-helm~master~Iec2ea3fdf36e19ac4f2e203389dbe19737d14c3a,openstack/openstack-helm,master,Iec2ea3fdf36e19ac4f2e203389dbe19737d14c3a,Move rabbit-init to dynamic dependency,MERGED,2021-02-08 19:48:47.000000000,2021-02-26 01:30:19.000000000,2021-02-26 01:28:56.000000000,6,6,0,774533,de912628ca3be6232bfc8db9e47c2a975d2c7d52,keystone-rabbit,50,9,4,3,21420,Gage Hugo,ghugo,"Move rabbit-init to dynamic dependency

With a previous change[0] that moved rabbit-init jobs to dynamic
in helm-toolkit, this change continues that work by moving the
keystone rabbit-init job to dynamic as well.

[0] https://review.opendev.org/c/openstack/openstack-helm-infra/+/671727

Change-Id: Iec2ea3fdf36e19ac4f2e203389dbe19737d14c3a
"
openstack%2Fopenstack-helm~master~Id3dbbe721f4ded3c54d82852d9c155253d226867,openstack/openstack-helm,master,Id3dbbe721f4ded3c54d82852d9c155253d226867,Update rbac api version for nova,MERGED,2021-01-30 07:32:38.000000000,2021-02-26 00:58:41.000000000,2021-02-26 00:57:18.000000000,3,2,0,773227,3a05f5c3f9ae955531ef7f593e17f0a4af601e4f,,58,10,4,3,30449,jinyuanliu,jinyuanliu,"Update rbac api version for nova

When using a helm3 to deploy , it fails
Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can
support helm2 and helm3.

This change optimized deployment.

Change-Id: Id3dbbe721f4ded3c54d82852d9c155253d226867
"
openstack%2Fironic~master~I9419b379935a3ba2bdcea356ce8987a5b12dad6f,openstack/ironic,master,I9419b379935a3ba2bdcea356ce8987a5b12dad6f,Add both IPv4 and IPv6 DHCP options if interface has both,ABANDONED,2021-02-25 21:57:29.000000000,2021-02-26 00:42:45.000000000,,80,20,0,777691,7b85fd4e3e653ec4654e3acca0c3dd1d3b8b44b1,fix-ip-version,7,1,1,2,1004,Mohammed Naser,mnaser,"Add both IPv4 and IPv6 DHCP options if interface has both

It is possible that an interface has both IPv4 and IPv6 addresses,
primarily when using SLAAC with OpenStack Neutron.  When this is
the case, it is very likely that the first fixed IP would be a
SLAAC assigned port and the second IP is the IPv4 address.

In an environment where you are looking to boot via IPv4, no DHCPv6
infrastructure exists as IPv6 connectivity is provided via SLAAC,
you would not be able to use this network to boot off of.

This patch instead grabs all the fixed IP addresses, then inserts
the options that match the IP versions which are attached to the
interface, potentially resulting in both IPv4 and IPv6 options
being included (though the IPv6 ones would be largely omitted).

In environments where only IPv4 or IPv6 is in use on the port, it
will still only insert the options for those specific IP versions.

Change-Id: I9419b379935a3ba2bdcea356ce8987a5b12dad6f
"
openstack%2Ftempest~master~I62faa52580160127bd555283fe7bb56359c0eff8,openstack/tempest,master,I62faa52580160127bd555283fe7bb56359c0eff8,Remove usage of six,ABANDONED,2021-02-22 01:40:15.000000000,2021-02-26 00:38:12.000000000,,36,48,0,776860,85e28290d584b06bec8ac17bb0eaf0fc9548937a,remove-six,16,3,1,17,31412,Wenping Song,songwenping,"Remove usage of six

Remove six-library Replace the following items with Python 3 style code.
- six.text_type

Change-Id: I62faa52580160127bd555283fe7bb56359c0eff8
"
openstack%2Fglance~master~Ie69d4180e09fe4c670faaa7d3c31742d1fc581e2,openstack/glance,master,Ie69d4180e09fe4c670faaa7d3c31742d1fc581e2,Update API docs for new /v2/images/{image_id}/tasks API,MERGED,2021-02-15 10:49:52.000000000,2021-02-26 00:34:08.000000000,2021-02-26 00:27:30.000000000,97,0,11,775597,03696299d20debf8a5aa561bc80878775ad02695,bump-image-api-version,21,3,7,4,9303,Abhishek Kekane,abhishekkekane,"Update API docs for new /v2/images/{image_id}/tasks API

Updated API reference documentation for new API.

Change-Id: Ie69d4180e09fe4c670faaa7d3c31742d1fc581e2
Related: blueprint messages-api
"
openstack%2Ftripleo-common~stable%2Ftrain~Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,openstack/tripleo-common,stable/train,Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,Add python3-pymemcache to tcib,MERGED,2021-02-25 09:10:36.000000000,2021-02-26 00:33:55.000000000,2021-02-26 00:28:49.000000000,1,0,0,777537,a8f62c54985fdd1f7050b2531d434604ee1961d0,memcached-cert-stable/victoria-stable/ussuri-stable/train,8,4,1,1,14250,Grzegorz Grasza,xek,"Add python3-pymemcache to tcib

pymemcache is required by services connecting to
Memcached with TLS. pymemcache will also likely replace
python-memcached alltogether, because of it's lack of
maintenance.

see: https://review.opendev.org/761612
Change-Id: Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5
(cherry picked from commit ab387b6a35dd18640bb9f4701097432b6959d03a)
"
openstack%2Fpython-tripleoclient~stable%2Fvictoria~Ibf917826a2d6b2662215c58c9dd8ec8007e57881,openstack/python-tripleoclient,stable/victoria,Ibf917826a2d6b2662215c58c9dd8ec8007e57881,Add auth_token_lifetime to undercloud.conf,MERGED,2021-02-24 18:35:33.000000000,2021-02-26 00:33:51.000000000,2021-02-26 00:29:15.000000000,16,0,0,777324,bb64cf4455beb6156003644908923eddb797fdbb,,7,2,1,4,14985,Alex Schultz,mwhahaha,"Add auth_token_lifetime to undercloud.conf

The undercloud currently defines the auth token life time in the
undercloud.yaml environment in tripleo-heat-templates. At certain scale,
it makes sense to increase this so we should make it a top level
configuration item.

Change-Id: Ibf917826a2d6b2662215c58c9dd8ec8007e57881
(cherry picked from commit 438e53ad4e31ff88421e1b7070dbb9f097bcd359)
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~Ibf917826a2d6b2662215c58c9dd8ec8007e57881,openstack/python-tripleoclient,stable/ussuri,Ibf917826a2d6b2662215c58c9dd8ec8007e57881,Add auth_token_lifetime to undercloud.conf,MERGED,2021-02-24 18:35:51.000000000,2021-02-26 00:33:45.000000000,2021-02-26 00:29:12.000000000,16,0,0,777325,a9d220cb4210fd92aa127a1d188598185c5d92e5,,7,2,1,4,14985,Alex Schultz,mwhahaha,"Add auth_token_lifetime to undercloud.conf

The undercloud currently defines the auth token life time in the
undercloud.yaml environment in tripleo-heat-templates. At certain scale,
it makes sense to increase this so we should make it a top level
configuration item.

Change-Id: Ibf917826a2d6b2662215c58c9dd8ec8007e57881
(cherry picked from commit 438e53ad4e31ff88421e1b7070dbb9f097bcd359)
"
openstack%2Frequirements~master~I370fdf7b92800b0a9fabcebb6503b3b96ffd06a7,openstack/requirements,master,I370fdf7b92800b0a9fabcebb6503b3b96ffd06a7,Updated from generate-constraints,MERGED,2021-02-25 06:26:22.000000000,2021-02-26 00:30:07.000000000,2021-02-26 00:27:03.000000000,5,5,0,777498,3595d1f7772b80aba64d6cc39f2f0b7a19d4f393,openstack/requirements/constraints,12,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I370fdf7b92800b0a9fabcebb6503b3b96ffd06a7
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fglance~master~Iaea8a81b64503ad82525eb8edd609253ff1d47b9,openstack/glance,master,Iaea8a81b64503ad82525eb8edd609253ff1d47b9,Add a test for migration naming and phase rules,MERGED,2021-02-24 15:51:57.000000000,2021-02-26 00:30:06.000000000,2021-02-26 00:26:24.000000000,55,0,3,777413,dbd7495850245ed68d43839e3158b06c76d5858e,validate-migration-phases,19,3,3,1,4393,Dan Smith,danms,"Add a test for migration naming and phase rules

Any time we have a migration for a given release, we want to make sure
that we have a definition for each phase, even if it is empty. This
adds a test that makes sure we conform to that in the future, to help
reduce reviewer load and requiring the tribal knowledge at the point
of review.

While doing this, this also validates that the migration files fit
a general pattern of release_phaseNN_description.py format.

Change-Id: Iaea8a81b64503ad82525eb8edd609253ff1d47b9
"
openstack%2Ftempest~master~I3f6b8e274f9b57ae8d1389a188636660854971e3,openstack/tempest,master,I3f6b8e274f9b57ae8d1389a188636660854971e3,Make _create_network() non-private,MERGED,2021-02-22 13:39:42.000000000,2021-02-26 00:30:00.000000000,2021-02-26 00:26:46.000000000,8,8,0,776933,3bdafd897924c11a32d34b9160337ad82fb9c62e,bp/tempest-scenario-manager-stable,13,2,1,3,30742,Soniya Murlidhar Vyas,svyas,"Make _create_network() non-private

_create_network() is made public by this commit as
the tempest.scenario.manager interface is meant to be
consumed by tempest plugins.

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: I3f6b8e274f9b57ae8d1389a188636660854971e3
"
openstack%2Fswift~master~I8c5197ed327fbb175c8a2c0e788b1ae14e6dfe23,openstack/swift,master,I8c5197ed327fbb175c8a2c0e788b1ae14e6dfe23,tempauth: Add .reseller_reader group,MERGED,2021-02-08 20:38:57.000000000,2021-02-26 00:29:56.000000000,2021-02-26 00:26:14.000000000,75,8,0,774539,cf4f320644b63b71d0147474455f76555218d1c0,rbac,11,3,2,3,15343,Tim Burke,tburke,"tempauth: Add .reseller_reader group

Change-Id: I8c5197ed327fbb175c8a2c0e788b1ae14e6dfe23
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,openstack/tripleo-heat-templates,stable/ussuri,I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,Don't try creating default admin and member roles,MERGED,2021-02-25 10:12:13.000000000,2021-02-26 00:29:41.000000000,2021-02-26 00:29:41.000000000,0,4,0,777557,6de73eca77ae3650985e0b5d0d7d6c42562f1e6c,,9,6,1,1,6796,Giulio Fidente,gfidente,"Don't try creating default admin and member roles

These are default roles and we don't need to create them for
ceph. Also swift user does not need admin role.

Closes-Bug: 1916756
Resolves: rhbz#1932208

Change-Id: I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f
(cherry picked from commit c1462b7608be9c7b925009ec95c9bbed0c08d98c)
(cherry picked from commit bd5e2c80fd7bfac2eb72c6c87557f64885648e53)
"
openstack%2Ftripleo-heat-templates~master~I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,openstack/tripleo-heat-templates,master,I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,Fix redis_tls_proxy,MERGED,2021-02-25 08:58:31.000000000,2021-02-26 00:29:29.000000000,2021-02-26 00:29:29.000000000,22,0,0,777512,84c85aaff30dd9ced19e0dd3e45fc7bf05e89edf,fix-redis-tls,9,4,2,1,20172,Michele Baldessari,michele,"Fix redis_tls_proxy

Since we merged the pcs-host patches we erroneously also removed
the sidecar container that does the tls stunneling for redis.
This is needed to allow the redis master stream the deplications to
its slaves via TLS.

Tested this and we now correctly get the working container and cluster
state:
[root@controller-0 ~]# podman ps -a |grep redis
4182a78811a2  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       /bin/bash /usr/lo...  3 minutes ago   Up 3 minutes ago                 redis-bundle-podman-0
604a086bb53c  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       kolla_start           8 minutes ago   Up 8 minutes ago                 redis_tls_proxy
[root@controller-0 ~]# pcs status |grep redis
  * GuestOnline: [ galera-bundle-0@database-1 galera-bundle-1@database-2 galera-bundle-2@database-0 ovn-dbs-bundle-0@controller-0 ovn-dbs-bundle-1@controller-1 ovn-dbs-bundle-2@controller-2 rabbitmq-bundle-0@messaging-0 rabbitmq-bundle-1@messaging-1 rabbitmq-bundle-2@messaging-2 redis-bundle-0@controller-0 redis-bundle-1@controller-1 redis-bundle-2@controller-2 ]
  * Container bundle set: redis-bundle [cluster.common.tag/openstack-redis:pcmklatest]:
    * redis-bundle-0    (ocf::heartbeat:redis):  Master controller-0
    * redis-bundle-1    (ocf::heartbeat:redis):  Slave controller-1
    * redis-bundle-2    (ocf::heartbeat:redis):  Slave controller-2

We also move the redis_tls_proxy from step_2/start_order: 3 to step_1
since it actually makes sense to have it run before we start the
redis pcmk bundle at step 2 (i.e. so the slave replica can work right
away from the start).

Closes-Bug: #1916873

Change-Id: I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab
"
openstack%2Ftripleo-validations~stable%2Fvictoria~I4eb7508c24cce0db3179d4f3ef26cabceb164716,openstack/tripleo-validations,stable/victoria,I4eb7508c24cce0db3179d4f3ef26cabceb164716,Optionally fail ceph-health if HEALTH_WARN,MERGED,2021-02-25 10:29:56.000000000,2021-02-26 00:29:18.000000000,2021-02-26 00:29:18.000000000,8,0,0,777561,2896ce06d7aad365bc6f02d5ab60acbe45315eb5,,6,2,1,2,6796,Giulio Fidente,gfidente,"Optionally fail ceph-health if HEALTH_WARN

Helps controlling the behavior of the ceph-health check for it to
fail, optionally, not only when cluster is in _ERR state but also
in _WARN state.

Change-Id: I4eb7508c24cce0db3179d4f3ef26cabceb164716
Related-Bug: 1915700
(cherry picked from commit 67560d36c06860dc827ef8356f1023f42facdbec)
"
openstack%2Fos-apply-config~stable%2Ftrain~Id73778d17cea24d51267dbd9b9dd4be8318e480c,openstack/os-apply-config,stable/train,Id73778d17cea24d51267dbd9b9dd4be8318e480c,Remove tripleo-multinode-container-minimal from zuul layout,MERGED,2021-02-25 09:44:46.000000000,2021-02-26 00:28:59.000000000,2021-02-26 00:28:59.000000000,0,1,0,777523,41d86e316ed0f0b9d5c20748b470bff5e6eab73d,tripleo-ci-reduce,8,3,1,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Id73778d17cea24d51267dbd9b9dd4be8318e480c
"
openstack%2Fos-apply-config~stable%2Fussuri~Ifcf09a8d4f953df50a8a8f8933c00862ff6ce1c9,openstack/os-apply-config,stable/ussuri,Ifcf09a8d4f953df50a8a8f8933c00862ff6ce1c9,Remove tripleo-multinode-container-minimal from zuul layout,MERGED,2021-02-25 09:43:55.000000000,2021-02-26 00:28:56.000000000,2021-02-26 00:28:56.000000000,0,1,0,777522,910348f934ed38497a5e3c284da0a86c5f077a1c,tripleo-ci-reduce,8,3,1,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Ifcf09a8d4f953df50a8a8f8933c00862ff6ce1c9
"
openstack%2Fos-apply-config~master~Ie28dd59a6bec79802d149f030f10a2ea12e454de,openstack/os-apply-config,master,Ie28dd59a6bec79802d149f030f10a2ea12e454de,Remove tripleo-multinode-container-minimal from zuul layout,MERGED,2021-02-23 12:26:09.000000000,2021-02-26 00:28:53.000000000,2021-02-26 00:28:53.000000000,0,1,0,777097,891e996920345c72e4b2d5f6c28c4f049225f0a4,tripleo-ci-reduce,15,9,2,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Ie28dd59a6bec79802d149f030f10a2ea12e454de
"
openstack%2Fglance~master~I299a222eeef81431143db3ba7fc08365c924326b,openstack/glance,master,I299a222eeef81431143db3ba7fc08365c924326b,Utilize newly added tasks database fields,MERGED,2021-02-09 09:50:16.000000000,2021-02-26 00:27:07.000000000,2021-02-26 00:27:07.000000000,248,30,25,774615,d54449af44212e01762285832b9c7c1ad4de1eb3,bump-image-api-version,30,3,6,22,9303,Abhishek Kekane,abhishekkekane,"Utilize newly added tasks database fields

Made provision to pass image_id, request_id and user_id information
while creating new task.

Partially-Implements: blueprint messages-api
Change-Id: I299a222eeef81431143db3ba7fc08365c924326b
"
openstack%2Fglance~master~I9d09769f971477b4d9a9a3a7d458deb19d1f3c8c,openstack/glance,master,I9d09769f971477b4d9a9a3a7d458deb19d1f3c8c,Extract req.context in a variable,MERGED,2021-02-15 10:49:52.000000000,2021-02-26 00:26:36.000000000,2021-02-26 00:26:36.000000000,16,14,0,775596,8f7ad9f45dec3ff9e8ced8bea4b882b121a5ce3a,bump-image-api-version,23,4,3,2,9303,Abhishek Kekane,abhishekkekane,"Extract req.context in a variable

req.context has been used in various places in import_image and create
method, this patch extract that in a variable for furthrer use.

Change-Id: I9d09769f971477b4d9a9a3a7d458deb19d1f3c8c
Related: blueprint messages-api
"
openstack%2Fnova~stable%2Fpike~Ie602ab1768efbf103563d8f6b9d28965fc81021a,openstack/nova,stable/pike,Ie602ab1768efbf103563d8f6b9d28965fc81021a,[placement] Add status and links fields to version document at /,MERGED,2020-09-11 10:42:39.000000000,2021-02-25 23:26:57.000000000,2021-02-25 23:26:57.000000000,37,1,2,751240,5ac745cbc49565890ad201e545a7b28e4d9bdc95,bug/1776668,32,8,2,5,15334,Stephen Finucane,sfinucan,"[placement] Add status and links fields to version document at /

According to the spec [1] the version discovery doc must have a status
and links for each version. For the primary version the status value
should be 'CURRENT'. For placement the version discovery doc and ""self""
are the same thing, so the provided ""self"" href looks redundant, but it
makes keystoneauth1 happy when doing version discovery.

In placement, since there is only one version at the moment, set status
to CURRENT.

Add a gabbi test that verifies the presence of both fields and values.

Without these fields, use of placement with a client that follows the
documented version discovery process will fail to work.

As the version doc is not considered microversioned[2] and in any case
this is making version discovery work where it didn't before, this is
not a candidate for a microversion and can be backported to the
beginning of placement's history if we like.

I've updated the api-ref docs. In the process I made the max
microversion in the sample discovery doc a bit more realistic and
in alignment with these modern times.

Changes:
  placement-api-ref/source/get-root.json

NOTE(stephenfin): Modified the root API sample to reflect the max
placement API version in Pike.

[1] http://specs.openstack.org/openstack/api-wg/guidelines/microversion_specification.html#version-discovery
[2] http://eavesdrop.openstack.org/irclogs/%23openstack-sdks/%23openstack-sdks.2018-06-13.log.html#t2018-06-13T13:40:12

Change-Id: Ie602ab1768efbf103563d8f6b9d28965fc81021a
Closes-Bug: #1776668
(cherry picked from commit 1a5a3a9bc8409349ab817b4858ee54bf2a036dab)
(cherry picked from commit df1542686349a97ab1527f80c81861d89aaf4f78)
"
openstack%2Fkayobe~master~Ie5ca04428855cbaf505adc57de76ea0b2d404080,openstack/kayobe,master,Ie5ca04428855cbaf505adc57de76ea0b2d404080,CI: retry overcloud jobs that land on vexxhost clouds,MERGED,2021-02-25 09:23:38.000000000,2021-02-25 22:59:19.000000000,2021-02-25 22:54:29.000000000,31,6,0,777518,47bbb96b29ab30764d6220cdd43e63a1d2072533,,19,3,5,5,14826,Mark Goddard,mgoddard,"CI: retry overcloud jobs that land on vexxhost clouds

Jobs that test baremetal deployment are currently failing when run on
Vexxhost infrastructure. The seed VM job also has trouble on Vexxhost,
although does sometimes pass. It's not clear why yet, and we are still
investigating. Until we have a solution, fail in the pre phase when we
land on vexxhost clouds, in order to trigger the zuul retry mechanism.

Also use the normal number (5) of attempts for upgrade jobs, since these
no longer deploy the previous release in the pre phase.

Finally, incorporate a fix from
https://review.opendev.org/c/openstack/kayobe-config-dev/+/777076 to
allow this to merge. This part can be reverted once the
kayobe-config-dev patch merges.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html

Change-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080
"
openstack%2Fopenstack-helm-infra~master~Ie7dc4399be4f0a62576e336c1de02810eeb09212,openstack/openstack-helm-infra,master,Ie7dc4399be4f0a62576e336c1de02810eeb09212,Enable Apparmor for ElasticSearch,MERGED,2020-03-05 22:01:36.000000000,2021-02-25 22:25:20.000000000,2020-03-17 16:19:56.000000000,58,11,2,711559,1871b830af5797abf313e2c21a1cf6b8601a1385,,72,4,25,6,29131,diwakar thyagaraj,dt241s@att.com,"Enable Apparmor for ElasticSearch

Change-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212
"
openstack%2Fopenstacksdk~master~I48bc5f70cf42e93ee46783cbefdeafed80be56d8,openstack/openstacksdk,master,I48bc5f70cf42e93ee46783cbefdeafed80be56d8,Improve Ironic API on OpenStack SDK,MERGED,2020-12-10 18:52:45.000000000,2021-02-25 22:22:19.000000000,2021-02-25 22:20:30.000000000,179,0,27,766531,e30fd860de6b36bddc27f7215bb2e3cad8eb298d,40956,39,4,10,7,32518,Anuradha,anuradha1904,"Improve Ironic API on OpenStack SDK

1. List Conductors
2. Show Conductors Details

Story: 20083813
Task: 40956
Change-Id: I48bc5f70cf42e93ee46783cbefdeafed80be56d8
"
openstack%2Fopenstack-helm~master~I107d6e965ca00a6d8b766e91573be2c9aeb4f782,openstack/openstack-helm,master,I107d6e965ca00a6d8b766e91573be2c9aeb4f782,Update rbac api version for glance,MERGED,2021-01-30 08:28:55.000000000,2021-02-25 22:14:13.000000000,2021-02-25 22:12:19.000000000,6,5,5,773232,30bd8643e4d67a43d45656a1d1604d8bbd75e2fc,,26,7,3,4,30449,jinyuanliu,jinyuanliu,"Update rbac api version for glance

When using a helm3 to deploy , it fails
Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can
support helm2 and helm3.

This change optimized deployment.

Change-Id: I107d6e965ca00a6d8b766e91573be2c9aeb4f782
"
openstack%2Fopenstack-helm-infra~master~I70a45eb3cccc7cfbe2784048a4524bd9e4d832df,openstack/openstack-helm-infra,master,I70a45eb3cccc7cfbe2784048a4524bd9e4d832df,[ca-issuer]: Support different versions of cert-manager,MERGED,2021-02-19 18:08:43.000000000,2021-02-25 22:08:59.000000000,2021-02-25 22:07:39.000000000,8,2,7,776689,97bd2c4937945e38d9d985d9b2e4dcb21d2043ee,,45,8,7,4,30495,Nafiz Haider,nafh27,"[ca-issuer]: Support different versions of cert-manager

Support cert manager version v1.2.0 by default and
logic to support earlier versions.

Change-Id: I70a45eb3cccc7cfbe2784048a4524bd9e4d832df
"
openstack%2Fopenstack-helm-infra~master~I8e0ceb0c0991fd48b5b6a1b688a5c1b91f58c02e,openstack/openstack-helm-infra,master,I8e0ceb0c0991fd48b5b6a1b688a5c1b91f58c02e,[ceph-rgw] update rbac api version,MERGED,2021-02-21 04:15:47.000000000,2021-02-25 22:07:06.000000000,2021-02-25 22:05:31.000000000,3,2,0,776821,367f7bec3cbfca306e10a36349a8d8622c305674,,24,8,3,3,18511,Brian Wickersham,bw6938,"[ceph-rgw] update rbac api version

When using helm3 to deploy, it fails as helm 3
no longer supports rbac.authorization.k8s.io/v1beta1,
but v1 can support helm2 and helm3 (liujinyuan@inspur.com).

Change-Id: I8e0ceb0c0991fd48b5b6a1b688a5c1b91f58c02e
"
openstack%2Fswift~stable%2Fussuri~I17a495b76a6e4072cfc47501e0f892fcf6c56173,openstack/swift,stable/ussuri,I17a495b76a6e4072cfc47501e0f892fcf6c56173,Don't auto-create shard containers,MERGED,2021-02-24 03:15:09.000000000,2021-02-25 21:43:14.000000000,2021-02-25 21:41:36.000000000,82,73,0,777281,8588296dcfbbb52ae007e2a299e042e09c1fef4e,ussuri-sharding,7,2,1,3,597,Pete Zaitcev,zaitcev,"Don't auto-create shard containers

...unless the client requests it specifically using a new flag:

   X-Backend-Auto-Create: true

Previously, you could get real jittery listings during a rebalance:

 * Partition with a shard DB get reassigned, so one primary has no DB.
 * Proxy makes a listing, gets a 404, tries another node. Likely, one of
   the other shard replicas responds. Things are fine.
 * Update comes in. Since we use the auto_create_account_prefix
   namespace for shards, container DB gets created and we write the row.
 * Proxy makes another listing. There's a one-in-three chance that we
   claim there's only one object in that whole range.

Note that unsharded databases would respond to the update with a 404 and
wait for one of the other primaries (or the old primary that's now a
hand-off) to rsync a whole DB over, keeping us in the happy state.

Now, if the account is in the shards namespace, 404 the object update if
we have no DB. Wait for replication like in the unsharded case.

Continue to be willing to create the DB when the sharder is seeding all
the CREATED databases before it starts cleaving, though.

Closes-Bug: #1881210
Cherry-Picked-From: I15052f3f17999e6f432951ba7c0731dcdc9475bb
Change-Id: I17a495b76a6e4072cfc47501e0f892fcf6c56173
"
openstack%2Fswift~stable%2Fussuri~Ic6d94a1b6dc1c6cfbeb7770b489aa53483afcbf2,openstack/swift,stable/ussuri,Ic6d94a1b6dc1c6cfbeb7770b489aa53483afcbf2,Latch shard-stat reporting,MERGED,2021-02-24 03:15:09.000000000,2021-02-25 21:21:28.000000000,2021-02-25 21:18:00.000000000,284,39,0,777280,0da122383b4fb86d11e21406df46311999c87461,ussuri-sharding,7,2,1,7,597,Pete Zaitcev,zaitcev,"Latch shard-stat reporting

The idea is, if none of

  - timestamp,
  - object_count,
  - bytes_used,
  - state, or
  - epoch

has changed, we shouldn't need to send an update back to the root
container.

This is more-or-less comparable to what the container-updater does to
avoid unnecessary writes to the account.

Closes-Bug: #1834097
Cherry-Picked-From: I1ee7ba5eae3c508064714c4deb4f7c6bbbfa32af
Change-Id: Ic6d94a1b6dc1c6cfbeb7770b489aa53483afcbf2
"
openstack%2Fswift~stable%2Fussuri~I133c2524460ae9df779077d160ed6fc2858c08cc,openstack/swift,stable/ussuri,I133c2524460ae9df779077d160ed6fc2858c08cc,py27: Suppress UnicodeWarnings in ShardRange setters,MERGED,2021-02-24 03:15:09.000000000,2021-02-25 21:19:39.000000000,2021-02-25 21:17:55.000000000,18,8,0,777279,d1b997889de06f8bcbeb38d0192fa4391465bc47,ussuri-sharding,7,2,1,2,597,Pete Zaitcev,zaitcev,"py27: Suppress UnicodeWarnings in ShardRange setters

Previously, we'd see warnings like

   UnicodeWarning: Unicode equal comparison failed to convert both
   arguments to Unicode - interpreting them as being unequal

when setting lower/upper bounds with non-ascii byte strings.

Cherry-Picked-From: I328f297a5403d7e59db95bc726428a3f92df88e1
Change-Id: I133c2524460ae9df779077d160ed6fc2858c08cc
"
openstack%2Fswift~stable%2Fvictoria~I0e83bc18494b85f8c20698998c66ec423646475d,openstack/swift,stable/victoria,I0e83bc18494b85f8c20698998c66ec423646475d,Avoid loops when gathering container listings from shards,MERGED,2021-02-23 00:47:18.000000000,2021-02-25 21:11:31.000000000,2021-02-25 21:09:59.000000000,178,5,0,777036,1032b45e10cf942f3790f245be463bbf9b5002ab,victoria-sharding,8,3,1,3,597,Pete Zaitcev,zaitcev,"Avoid loops when gathering container listings from shards

Previously the proxy container controller could, in corner cases, get
into a loop while building a listing for a sharded container. For
example, if a root has a single shard then the proxy will be
redirected to that shard, but if that shard has shrunk into the root
then it will redirect the proxy back to the root, and so on until the
root is updated with the shard's shrunken status.

There is already a guard to prevent the proxy fetching shard ranges
again from the same container that it is *currently* querying for
listing parts. That deals with the case when a container fills in gaps
in its listing shard ranges with a reference to itself. This patch
extends that guard to prevent the proxy fetching shard ranges again
from any container that has previously been queried for listing parts.

Cherry-Picked-From: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b
Change-Id: I0e83bc18494b85f8c20698998c66ec423646475d
"
openstack%2Fswift~stable%2Fussuri~I0af92f6a54aaccd38ef82dd072f7e10fdff7184c,openstack/swift,stable/ussuri,I0af92f6a54aaccd38ef82dd072f7e10fdff7184c,sharding: Add probe test that exercises swift-manage-shard-ranges,MERGED,2021-02-24 03:15:09.000000000,2021-02-25 21:11:29.000000000,2021-02-25 21:10:03.000000000,91,2,0,777278,1b3b776964651acae6c17f581855b0fc7094acee,ussuri-sharding,7,2,1,1,597,Pete Zaitcev,zaitcev,"sharding: Add probe test that exercises swift-manage-shard-ranges

Cherry-Picked-From: Ic7c40589679c290e5565f9581f70b9a1c070f6ab
Change-Id: I0af92f6a54aaccd38ef82dd072f7e10fdff7184c
"
openstack%2Fhorizon~master~I5099cc442f023c7a67203ccd3cf647cca9bdb52c,openstack/horizon,master,I5099cc442f023c7a67203ccd3cf647cca9bdb52c,Display quotas per Cinder volume type,ABANDONED,2017-10-12 12:56:56.000000000,2021-02-25 21:06:41.000000000,,276,21,0,511472,cd8497f705396e062c7e8424b20017c1e0ead9ee,bug/1717342,34,9,3,11,23757,Mateusz Kowalski,makowals,"Display quotas per Cinder volume type

This patch makes Cinder volume type quotas visible in panels
related to volume creation (from volumes and images tabs).

Currently user is able to select a desired type, but if quotas are
set, there is no way to check if creating a volume is going to
succeed. With this patch two additional quota charts are displayed
so that end user can see if there is still available quota for
selected type.

Closes-Bug: #1717342
Implements: blueprint quotas-per-cinder-volume-type

Change-Id: I5099cc442f023c7a67203ccd3cf647cca9bdb52c
"
openstack%2Fnova~master~I1d622c28a09ddd2aa7d33fa7057b2f78dcaf97dc,openstack/nova,master,I1d622c28a09ddd2aa7d33fa7057b2f78dcaf97dc,Fixes the elapsed time logged during a live migration,MERGED,2021-02-18 13:04:54.000000000,2021-02-25 21:05:32.000000000,2021-02-25 18:56:02.000000000,1,1,0,776428,f88a8b0c1ba7b845f724e690ffefddb256f532d1,bug/1916031,47,3,1,1,2033,Belmiro Moreira,moreira-belmiro-email-lists,"Fixes the elapsed time logged during a live migration

Nova doesn’t log the actual time that it is taking to live
migrate an instance but the number of cycles/2 that it does
when checking the migration job. If any operation takes
longer inside the loop, the reported time is wrong.

This behavior can cause some confusion when operators are
debugging issues.

This patch ensures that Nova logs the elapsed time of the
live migration.

Closes-Bug: #1916031
Change-Id: I1d622c28a09ddd2aa7d33fa7057b2f78dcaf97dc
"
openstack%2Fglance~master~I50fe718d3b50af0d662fda6fa0fbd3e29783e063,openstack/glance,master,I50fe718d3b50af0d662fda6fa0fbd3e29783e063,Properly handle InvalidScope exceptions,MERGED,2021-02-05 21:15:14.000000000,2021-02-25 20:53:38.000000000,2021-02-25 20:48:39.000000000,35,5,12,774309,198d5ab0a2c74b6e49aed82d6455d90c094b8d8b,secure-rbac,71,4,9,2,5046,Lance Bragstad,ldbragst,"Properly handle InvalidScope exceptions

Now that we're setting scope_types on policies, oslo.policy will throw
an InvalidScope exception if configured to do so. We should handle this
when we call enforcement so that we can bubble up an appropriate
Forbidden exception to the user.

Related: blueprint secure-rbac

Change-Id: I50fe718d3b50af0d662fda6fa0fbd3e29783e063
"
openstack%2Fironic-inspector~stable%2Fvictoria~Icd752783ff6df0e06f04e03b374af4862c91ec7f,openstack/ironic-inspector,stable/victoria,Icd752783ff6df0e06f04e03b374af4862c91ec7f,Enable tempurls for Swift in grenade,MERGED,2021-02-25 17:26:13.000000000,2021-02-25 20:53:33.000000000,2021-02-25 20:41:01.000000000,2,0,0,777551,abe6eb47540d1cd2f45c3a25ff58162ace00452e,gate-stable/victoria,7,2,1,1,10239,Dmitry Tantsur,dtantsur,"Enable tempurls for Swift in grenade

Change-Id: Icd752783ff6df0e06f04e03b374af4862c91ec7f
(cherry picked from commit 223cfbdbbcec549e0922fb9179cbf8a48c1642cf)
"
openstack%2Fneutron~master~I1542dc4cf98658fc9a40018192498c7a5cd1c3fe,openstack/neutron,master,I1542dc4cf98658fc9a40018192498c7a5cd1c3fe,Remove rootwrap execution (5),MERGED,2021-02-04 17:31:42.000000000,2021-02-25 20:53:23.000000000,2021-02-25 20:47:55.000000000,46,89,0,774110,5a419cbc84e26b4a3b1d0dbe5166c1ab83cc825b,task/41558,63,5,8,15,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Remove rootwrap execution (5)

Replace rootwrap execution with privsep context execution.
This series of patches will progressively replace any
rootwrap call.

This patch migrates some missing execution methods present in
the code and removes unneeded rootwrap filters.

Story: #2007686
Task: #41558

Change-Id: I1542dc4cf98658fc9a40018192498c7a5cd1c3fe
"
openstack%2Fironic~stable%2Fvictoria~Ie7323ae107c7f801be010353c7c4f3b8a43c3a1a,openstack/ironic,stable/victoria,Ie7323ae107c7f801be010353c7c4f3b8a43c3a1a,Enable swift temporary URLs in grenade and provide a good error message,MERGED,2021-02-24 16:29:11.000000000,2021-02-25 20:53:19.000000000,2021-02-25 20:40:58.000000000,8,1,0,777429,a1f596590235d7b76be1d6184a2f6d44857f5eb0,,15,2,1,2,10239,Dmitry Tantsur,dtantsur,"Enable swift temporary URLs in grenade and provide a good error message

The fixed configdrive_use_object_store requires them.

Change-Id: Ie7323ae107c7f801be010353c7c4f3b8a43c3a1a
(cherry picked from commit 5533077c7d3c7afafe365173476e5580ea4b4ba0)
"
openstack%2Fmonasca-api~stable%2Fvictoria~Ie2e681c1a65a1ffadc9d0e5c7eccd0dab4460975,openstack/monasca-api,stable/victoria,Ie2e681c1a65a1ffadc9d0e5c7eccd0dab4460975,Fix zuul publish docker image job,MERGED,2021-02-17 21:28:40.000000000,2021-02-25 20:05:03.000000000,2021-02-25 19:58:32.000000000,1,1,0,776276,026fa041efa0edb0d5025294a5b86770241d53b8,fix-zuul-publish,13,2,2,1,26141,Adrian Czarnecki,czarneckia,"Fix zuul publish docker image job

Change-Id: Ie2e681c1a65a1ffadc9d0e5c7eccd0dab4460975
"
openstack%2Fdevstack~master~I0b6ab9fb943c7b0925a0a0d2490a8bcdfa76cedc,openstack/devstack,master,I0b6ab9fb943c7b0925a0a0d2490a8bcdfa76cedc,Stop configure 'member' role in tempest_roles,MERGED,2021-02-08 17:48:00.000000000,2021-02-25 19:29:11.000000000,2021-02-23 19:43:06.000000000,0,1,0,774524,57b092dbceb95ed03f8d33f64a5cc60eabd57e50,secure-rbac,19,7,2,1,8556,Ghanshyam,ghanshyam,"Stop configure 'member' role in tempest_roles

Config option auth.tempest_roles is used to set the
extra roles to all dynamic cred tests users.
- https://opendev.org/openstack/tempest/src/commit/9b6f441fdc2a970410ea631dc1318896349e010f/tempest/common/credentials_factory.py#L82

Devstack set the 'member' role in CONF.auth.tempest_roles
- https://opendev.org/openstack/devstack/src/commit/556f84aea90c572873fc9834292635b41e590224/lib/tempest#L628

This cause issue if any tests testing for speciifc rols and want
to exclude the 'member' role, basically this bug
- https://bugs.launchpad.net/devstack/+bug/1915740

Also with 'member' role assigned by default, Tempest will not be
able to test the secure RBAC new default 'reader' role.

Let's remove  this role assignment now and let test congfigure what
they want.

Closes-Bug: #1915740

Change-Id: I0b6ab9fb943c7b0925a0a0d2490a8bcdfa76cedc
"
openstack%2Fopenstack-helm~master~I329500297512b1d9c516f1d074bd88ed0088504c,openstack/openstack-helm,master,I329500297512b1d9c516f1d074bd88ed0088504c,Imported Translations from Zanata,MERGED,2021-02-03 07:28:40.000000000,2021-02-25 19:26:35.000000000,2021-02-25 19:24:47.000000000,208,1,0,773840,2de324462aa7df1d4c775988288e19a3e2d4c2e7,zanata/translations,30,5,10,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I329500297512b1d9c516f1d074bd88ed0088504c
"
openstack%2Fopenstack-helm-infra~master~I1ea7349f5821b549d7c9ea88ef0089821eff3ddf,openstack/openstack-helm-infra,master,I1ea7349f5821b549d7c9ea88ef0089821eff3ddf,"Revert ""[ceph-client] enhance logic to enable the autoscaler for Octopus""",MERGED,2021-02-25 16:23:46.000000000,2021-02-25 19:04:22.000000000,2021-02-25 19:02:27.000000000,23,10,0,777550,714cfdad84bd5c346659b6778a1a63b2da1beb4a,,15,9,3,6,18511,Brian Wickersham,bw6938,"Revert ""[ceph-client] enhance logic to enable the autoscaler for Octopus""

This reverts commit 910ed906d0df247f826ad527211bc86382e16eaa.

Reason for revert: May be causing upstream multinode gates to fail. 

Change-Id: I1ea7349f5821b549d7c9ea88ef0089821eff3ddf
"
openstack%2Fproject-config~master~I82a3bdd8cc370cd207dd5900038aef5b72d763c3,openstack/project-config,master,I82a3bdd8cc370cd207dd5900038aef5b72d763c3,Create inspur/venus-dashboard repository,MERGED,2021-02-22 03:01:14.000000000,2021-02-25 19:02:44.000000000,2021-02-25 18:32:40.000000000,4,0,0,776864,b888cb4417a17fc5e954299c81dee0289d8271bf,new-project,9,4,1,2,26458,Brin Zhang,zhangbailin,"Create inspur/venus-dashboard repository

Inspur is working on a log collection/management module for OpenStack.
It needs to be released under an open source license and fleshed out
before it can be officially proposed as an offical OpenStack project.

Create a inspur/venus-dashboard repository and use the same ACL
with Venus project(c187f810289c0567fb2a05a8012f7227d94d0de7) to do
all that preliminary work.

Change-Id: I82a3bdd8cc370cd207dd5900038aef5b72d763c3
"
openstack%2Fswift~master~I30ead8b72cb616d1311ffc81d9cfecb1afc9a05e,openstack/swift,master,I30ead8b72cb616d1311ffc81d9cfecb1afc9a05e,Trivial fixes in recon middleware,MERGED,2021-02-24 11:03:02.000000000,2021-02-25 19:02:42.000000000,2021-02-25 18:56:27.000000000,2,5,0,777358,9eac76258aeeaa3287d3e8c467b6ebbfa5e41c2f,p-recon-trivial-fix,11,2,1,1,7847,Alistair Coles,acoles,"Trivial fixes in recon middleware

Fix docstring and remove unused mount_check var.

Change-Id: I30ead8b72cb616d1311ffc81d9cfecb1afc9a05e
"
openstack%2Ftripleo-operator-ansible~master~I64d17dcb5eb6f351ac60dee8bb1ff17e0cc4db87,openstack/tripleo-operator-ansible,master,I64d17dcb5eb6f351ac60dee8bb1ff17e0cc4db87,add role to gather info of tripleo validation group,MERGED,2021-02-11 14:11:17.000000000,2021-02-25 18:43:37.000000000,2021-02-25 18:43:37.000000000,191,0,0,775157,29186b681a407c2ffdf4559cf3b108bbf266d5a3,add-role-validator-group-info,15,3,4,8,27427,David Peacock,davidjpeacock,"add role to gather info of tripleo validation group

With this patch, validator group info can be used by operators in automation.

Change-Id: I64d17dcb5eb6f351ac60dee8bb1ff17e0cc4db87
"
openstack%2Ftripleo-operator-ansible~master~Iedad29583c104ecd98d38455bf3422bb353a37d9,openstack/tripleo-operator-ansible,master,Iedad29583c104ecd98d38455bf3422bb353a37d9,add role to show tripleo validation,MERGED,2020-09-30 19:12:24.000000000,2021-02-25 18:29:16.000000000,2021-02-25 18:29:16.000000000,191,0,0,755375,a8d43fa37d4c33f5e55ee4a0432e5340e55c5393,add-role-validator-show,36,4,12,8,27427,David Peacock,davidjpeacock,"add role to show tripleo validation

With this patch, validator show can be used by operators in automation.

Change-Id: Iedad29583c104ecd98d38455bf3422bb353a37d9
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I9ee4c5501617f44cb557a0494f7b9382e4d8831f,openstack/tripleo-ansible,stable/train,I9ee4c5501617f44cb557a0494f7b9382e4d8831f,WIP: test molecule bump,ABANDONED,2021-02-25 17:39:52.000000000,2021-02-25 17:57:48.000000000,,2,1,0,777637,ebc426ea621fc1846e8ad232e96a71c4296af54d,fix-ci,4,0,3,2,14985,Alex Schultz,mwhahaha,"WIP: test molecule bump

I think this might take a bunch of additional changes but let's see what
CI says. c7006fc49d5168d917a289cca8717595027d8c58 was the version where
we fixed this in Ussuri

Change-Id: I9ee4c5501617f44cb557a0494f7b9382e4d8831f
"
openstack%2Fvalidations-libs~master~I3a99ac5b73b5a8d32434db15f78e14a7366e2925,openstack/validations-libs,master,I3a99ac5b73b5a8d32434db15f78e14a7366e2925,Return absolute path for inventory,MERGED,2021-02-16 20:41:20.000000000,2021-02-25 17:56:27.000000000,2021-02-25 17:51:04.000000000,6,5,2,775930,3b2d2475e68e381194d49e44465296ced2fe2059,inventory/abspath,19,5,3,2,16515,mbu,matbu,"Return absolute path for inventory

Is the inventory is passed with a relative path ansible
wont be able to find the file, we need to return the
absolute path in that case.

Change-Id: I3a99ac5b73b5a8d32434db15f78e14a7366e2925
"
openstack%2Finstack-undercloud~stable%2Fqueens~Idd1c0c5fe7ba54c661b122e4822df16439b78d80,openstack/instack-undercloud,stable/queens,Idd1c0c5fe7ba54c661b122e4822df16439b78d80,Remove tripleo-multinode-baremetal-minimal template from layout,MERGED,2021-02-24 11:52:36.000000000,2021-02-25 17:51:02.000000000,2021-02-25 17:51:02.000000000,0,1,0,777371,9b770ae2460e6ab7cf8bb3556f35239ee154db7b,tripleo-ci-reduce,9,4,1,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-baremetal-minimal template from layout

The tripleo-multinode-baremetal-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Idd1c0c5fe7ba54c661b122e4822df16439b78d80
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9ec73e3d94884c339ea5e21817c24cf5e758f242,openstack/tripleo-heat-templates,stable/train,I9ec73e3d94884c339ea5e21817c24cf5e758f242,[train-only] Ensure we stop ovn-controller with cleanup,MERGED,2021-01-28 11:37:11.000000000,2021-02-25 17:50:56.000000000,2021-02-25 17:50:56.000000000,22,0,2,772865,988d5dc892b0aad28cf4c958f05b2d026cde33cd,,32,11,6,1,11166,Lukas Bezdicka,xbezdick,"[train-only] Ensure we stop ovn-controller with cleanup

Turns out that gracefull shutdown of container running ovn_controller
does not disable routing to it. This means that after Leapp when the
node is clean we still try to send traffic to it and this causes
outage. By calling ovs-appctl -t ovn-controller exit we ensure that
ovn cleans up BFD interfaces from the node. For this to work we need
to disable docker autorestart of the container.

Change-Id: I9ec73e3d94884c339ea5e21817c24cf5e758f242
"
openstack%2Foslo.policy~master~Icc486f5a04810a5a4194cac1bcae930d66e519d4,openstack/oslo.policy,master,Icc486f5a04810a5a4194cac1bcae930d66e519d4,Add '__str__' for 'DeprecatedRule',ABANDONED,2021-02-03 11:16:00.000000000,2021-02-25 17:37:31.000000000,,4,2,0,773873,d698bd3b94b88f42e969ed49e499b5bb37f9d744,add-str,5,3,1,1,15334,Stephen Finucane,sfinucan,"Add '__str__' for 'DeprecatedRule'

Without this, attempting to get information on the rule returns a
useless representation like so:

  <DeprecatedRule object at 0x7f17e6dbef10>

With it, we get the same format as the '(Documented)RuleDefault',
namely:

  ""os_compute_api:os-hypervisors"": ""rule:admin_api""

The '__str__ magic method for the 'RuleDefault' class is simplified in
the process of this change.

Change-Id: Icc486f5a04810a5a4194cac1bcae930d66e519d4
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fmanila~master~Ic16bc3cb03b851003c189450b398f8dd5dde8160,openstack/manila,master,Ic16bc3cb03b851003c189450b398f8dd5dde8160,Doc: Add profiler support documentation,MERGED,2021-02-23 11:56:38.000000000,2021-02-25 17:36:08.000000000,2021-02-25 17:34:30.000000000,136,0,10,777096,3b0358a1bc1db6c5ae397e8ebb86f902e5b2cbb6,bug/1915116,24,4,2,2,32919,kiran pawar,kpdev,"Doc: Add profiler support documentation

The profiler integration with the shared file system service(Manila)
allows to trace commands issued using both manila-client and
openstack-client.

Note that osprofiler should be run from admin user name & tenant.

Closes-Bug: #1915116
Change-Id: Ic16bc3cb03b851003c189450b398f8dd5dde8160
"
openstack%2Fironic~master~I21aaf40fcdcb399b8999a049f17631667f47db48,openstack/ironic,master,I21aaf40fcdcb399b8999a049f17631667f47db48,Make fast-track work with redfish-virtual-media,ABANDONED,2021-02-25 16:50:49.000000000,2021-02-25 17:27:44.000000000,,38,0,0,777621,96699e0a5ffa5bbc50c4be9985de559c33bb28c5,vmedia-fast-track,5,0,1,3,10239,Dmitry Tantsur,dtantsur,"Make fast-track work with redfish-virtual-media

If the node is in fast-track mode, do not re-insert the virtual media.

Change-Id: I21aaf40fcdcb399b8999a049f17631667f47db48
"
openstack%2Fmanila~master~I3bce1f04d1cfebfacd78ed135a949a068c78987d,openstack/manila,master,I3bce1f04d1cfebfacd78ed135a949a068c78987d,Integrate OSprofiler and Manila,MERGED,2021-01-07 13:47:25.000000000,2021-02-25 17:18:56.000000000,2021-02-25 17:16:55.000000000,114,10,22,769729,fbc2b4d2896d90feaa6be2f67764688b8e571ca3,bp/manila-os-profiler,104,9,9,10,32919,kiran pawar,kpdev,"Integrate OSprofiler and Manila

*) Add osprofiler wsgi middleware

This middleware is used for 2 things:
1) It checks that person who want to trace is trusted and knows
secret HMAC key.
2) It start tracing in case of proper trace headers and add
first wsgi trace point, with info about HTTP request
*) Add initialization of osprofiler at start of serivce.

You should use python-manilaclient with this patch:

https://review.opendev.org/#/c/769731

Run any command with --profile SECRET_KEY

  $ manila --profile SECRET_KEY create NFS 1 --name <share> \
    --description <share_description> --share-network <network> \
    --share-type default
  # it will print <Trace ID>

Get pretty HTML with traces:

  $ osprofiler trace show --html <Trace ID> --connection-string \
   <connection_string> --out <output.html>
  e.g. --connection-string can be redis://localhost:6379

Note that osprofiler should be run from admin user name & tenant.

Implements: blueprint manila-os-profiler
Change-Id: I3bce1f04d1cfebfacd78ed135a949a068c78987d
"
openstack%2Ftempest~master~I68d46733dd4dcef7a37e940ccbba5a66bfce2b5b,openstack/tempest,master,I68d46733dd4dcef7a37e940ccbba5a66bfce2b5b,[part1] Remove six,MERGED,2020-12-02 05:45:08.000000000,2021-02-25 17:12:34.000000000,2021-02-25 17:09:59.000000000,36,49,1,765056,19b70a3858237654143c52ace9cf1adc284ba97d,remove-six,20,4,2,17,32029,likui,likui,"[part1] Remove six

Replace the following items with Python 3 style code

Remove six in follows:
   - six.text_type

Change-Id: I68d46733dd4dcef7a37e940ccbba5a66bfce2b5b
"
openstack%2Fkuryr-kubernetes~master~Icef8645baa7cba731b76814abdb63be556172ef7,openstack/kuryr-kubernetes,master,Icef8645baa7cba731b76814abdb63be556172ef7,Fixes the if-else-block bug,MERGED,2021-02-25 09:50:40.000000000,2021-02-25 17:11:11.000000000,2021-02-25 17:09:38.000000000,3,3,1,777528,2edbbf259a43947045b14c3676ec158bf5048f4f,bug/sctp-version,14,5,2,1,32533,Tabitha Fasoyin,tabbie-fash,"Fixes the if-else-block bug

The SCTP version check was placed above the else block of
Octavia-tags version check, this patch fixes that.

Change-Id: Icef8645baa7cba731b76814abdb63be556172ef7
"
openstack%2Fironic-inspector~master~Icd752783ff6df0e06f04e03b374af4862c91ec7f,openstack/ironic-inspector,master,Icd752783ff6df0e06f04e03b374af4862c91ec7f,Enable tempurls for Swift in grenade,MERGED,2021-02-25 11:06:27.000000000,2021-02-25 16:56:57.000000000,2021-02-25 16:51:03.000000000,2,0,0,777570,223cfbdbbcec549e0922fb9179cbf8a48c1642cf,gate,9,4,1,1,10239,Dmitry Tantsur,dtantsur,"Enable tempurls for Swift in grenade

Change-Id: Icd752783ff6df0e06f04e03b374af4862c91ec7f
"
openstack%2Fos-refresh-config~master~Id02e64cde1b45c2a1ab43ec9197a3f1235857b2b,openstack/os-refresh-config,master,Id02e64cde1b45c2a1ab43ec9197a3f1235857b2b,Fix failing pep8 and update test-requirements to unblock gate,ABANDONED,2021-02-24 11:13:20.000000000,2021-02-25 16:49:51.000000000,,3,5,0,777364,88657f7e7f0591a4974cbf7f6278359597229bee,,7,9,1,2,8449,Marios Andreou,marios,"Fix failing pep8 and update test-requirements to unblock gate

This updates test-requirements to fix issue seen in [1] and also
fixes a failing pep8 test seen once the test-requirements was
addressed.

[1] https://a28720641abd1053931d-69746c322fe5e3cf8e2976f654b96d92.ssl.cf5.rackcdn.com/777098/1/check/openstack-tox-py38/9e6a3c0/tox/py38-1.log

Change-Id: Id02e64cde1b45c2a1ab43ec9197a3f1235857b2b
"
openstack%2Fopenstacksdk~master~I4c87c420b263843a76d8a0d7a17141a35e63b3af,openstack/openstacksdk,master,I4c87c420b263843a76d8a0d7a17141a35e63b3af,"This is the Host Extension Resource, for capstone.",ABANDONED,2021-02-25 16:19:38.000000000,2021-02-25 16:32:46.000000000,,115,0,0,777617,85ccbb6a534de6345f7f15349139d8bc5aada662,alex_capstone,2,0,1,3,33037,Alexander Wilcox,vNexus,"This is the Host Extension Resource, for capstone.

Adding change, to try to succeed in Zuul tests.
Change-Id: I68956431b804ab8d464d530e3ffd7c5f7776eb42

Change-Id: I4c87c420b263843a76d8a0d7a17141a35e63b3af
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~Ie03282ca277ccea7af3e6d116a3cac7bcf4cdbe4,openstack/openstack-ansible,stable/victoria,Ie03282ca277ccea7af3e6d116a3cac7bcf4cdbe4,Add reno about barbican_simple_crypto_key,MERGED,2021-02-16 15:19:22.000000000,2021-02-25 16:29:09.000000000,2021-02-25 16:27:18.000000000,25,0,0,775856,88272b4ae077d42d540d51c13ddfc1ba4357208e,,26,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add reno about barbican_simple_crypto_key

This also adds upgrade step not to change behaviour for already deployed
environments with hardcoded kek.

Change-Id: Ie03282ca277ccea7af3e6d116a3cac7bcf4cdbe4
"
openstack%2Fopenstack-helm-infra~master~I90d4d279a96cd298eba03e9c0b05a8f2a752e746,openstack/openstack-helm-infra,master,I90d4d279a96cd298eba03e9c0b05a8f2a752e746,[ceph-client] enhance logic to enable the autoscaler for Octopus,MERGED,2021-01-15 20:33:59.000000000,2021-02-25 16:23:46.000000000,2021-02-22 17:35:27.000000000,10,23,1,771078,910ed906d0df247f826ad527211bc86382e16eaa,,55,8,22,6,18511,Brian Wickersham,bw6938,"[ceph-client] enhance logic to enable the autoscaler for Octopus

Change-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746
"
openstack%2Fglance~master~I4946c25375f1dc54d8f550f21c97bdf5b3005877,openstack/glance,master,I4946c25375f1dc54d8f550f21c97bdf5b3005877,Expand tasks database table to add more columns,MERGED,2020-11-23 06:25:12.000000000,2021-02-25 16:12:27.000000000,2021-02-25 16:10:32.000000000,146,1,6,763739,6f20983ff8a916839a7ce95eaa822c36981c4223,bump-image-api-version,80,7,12,6,9303,Abhishek Kekane,abhishekkekane,"Expand tasks database table to add more columns

Added 3 new columns 'image_id', 'request_id' and 'user_id' to task
table. This is a base patch for adding new API to show task
information to the user.

Partially-Implements: blueprint messages-api
Change-Id: I4946c25375f1dc54d8f550f21c97bdf5b3005877
"
openstack%2Fironic~master~Ib431c3507cb4bdbd9ba30b58e30b078e855e7754,openstack/ironic,master,Ib431c3507cb4bdbd9ba30b58e30b078e855e7754,[trivial] fix typos in conductor,MERGED,2021-02-23 16:35:34.000000000,2021-02-25 16:08:41.000000000,2021-02-25 16:06:47.000000000,4,4,1,777162,d5b5356d603deb4775eca99108a1be8238c08e20,fix-typos,30,3,2,2,23851,Riccardo Pittau,elfosardo,"[trivial] fix typos in conductor

Change-Id: Ib431c3507cb4bdbd9ba30b58e30b078e855e7754
"
openstack%2Fgovernance~master~Ic1b797bb4284b89b4812df0302cb52cdc0487550,openstack/governance,master,Ic1b797bb4284b89b4812df0302cb52cdc0487550,monasca-log-api & monasca-ceilometer does not make releases,MERGED,2021-01-21 10:37:04.000000000,2021-02-25 16:07:36.000000000,2021-02-25 16:05:59.000000000,2,0,0,771785,f32804bb19f2181e02602030b92d633d45f8f3c3,project-update,16,4,2,1,28522,Hervé Beraud,hberaud,"monasca-log-api & monasca-ceilometer does not make releases

These projects have been deprecated [1][2] and the monasca team is ok to stop
to release them [3].

Set the release-management key so that it gets properly ignored by the release
management team.

[1] https://review.opendev.org/c/openstack/monasca-ceilometer/+/720319
[2] https://review.opendev.org/c/openstack/monasca-log-api/+/704519
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019892.html

Depends-On: https://review.opendev.org/c/openstack/project-config/+/777095
Depends-On: https://review.opendev.org/c/openstack/project-config/+/777093

Change-Id: Ic1b797bb4284b89b4812df0302cb52cdc0487550
"
openstack%2Fneutron~stable%2Fvictoria~I63221507713b941c261cdf88781133149da8ab8d,openstack/neutron,stable/victoria,I63221507713b941c261cdf88781133149da8ab8d,"Don't configure dnsmasq entries for ""network"" ports",MERGED,2021-02-23 20:09:29.000000000,2021-02-25 16:01:00.000000000,2021-02-25 15:59:07.000000000,46,0,0,777120,1239ac5023d45b0f6b541815ecb255ba0078af1f,bug/1913269-stable/victoria,15,4,1,4,11975,Slawek Kaplonski,slaweq,"Don't configure dnsmasq entries for ""network"" ports

Ports with device_owner like:
* floating_ip,
* DHCP,
* some types of router ports, like: HA interface interface,
* distributed ports,
don't need to be configured in the dnsmasq file.
So there is no need to reload dnsmasq every time when such port is
added/updated to the network.

This patch adds skip in such case which should improve load on the
Neutron DHCP agent.

Closes-Bug: #1913269
Change-Id: I63221507713b941c261cdf88781133149da8ab8d
(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)
"
openstack%2Fnetworking-bgpvpn~master~I4d015cfe8b97e0fc1259d47c89f4b0704accb61c,openstack/networking-bgpvpn,master,I4d015cfe8b97e0fc1259d47c89f4b0704accb61c,Imported Translations from Zanata,MERGED,2020-12-13 07:20:49.000000000,2021-02-25 15:59:39.000000000,2021-02-25 15:58:22.000000000,96,2,0,766853,05f14532b5fbc12236633d3e3594f8e3b3fdb8fd,zanata/translations,11,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4d015cfe8b97e0fc1259d47c89f4b0704accb61c
"
openstack%2Freleases~master~I8f26fb5655ef1cd280b243cadbb7b49d596e7d51,openstack/releases,master,I8f26fb5655ef1cd280b243cadbb7b49d596e7d51,Optional list of changes in commit message for auto release,MERGED,2021-02-04 11:36:11.000000000,2021-02-25 15:52:18.000000000,2021-02-25 15:52:18.000000000,19,5,0,774071,b293ca4bcbf95b9a85ecf9a4c786371ec9aa3e71,,21,4,4,1,17685,Elod Illes,elod.illes,"Optional list of changes in commit message for auto release

When generating release patches with process_auto_releases.sh it could
be useful to have the list of changes in the commit message of the
release patch. This patch adds an extra question for that.

Change-Id: I8f26fb5655ef1cd280b243cadbb7b49d596e7d51
"
openstack%2Fopenstack-helm~master~I834b125333cbd0b8162b49a162a6a5d10d69c573,openstack/openstack-helm,master,I834b125333cbd0b8162b49a162a6a5d10d69c573,DNM - Update index.rst,ABANDONED,2021-02-22 19:36:47.000000000,2021-02-25 15:40:45.000000000,,2,1,0,776990,9d4e971fa1c1a1998bceb9d15455598f686cbaf2,fix-reno,4,2,1,1,21420,Gage Hugo,ghugo,"DNM - Update index.rst

Change-Id: I834b125333cbd0b8162b49a162a6a5d10d69c573
"
openstack%2Fmonasca-api~stable%2Fvictoria~I6ec395aa12968a0e9bf51ed168582218f8d75f01,openstack/monasca-api,stable/victoria,I6ec395aa12968a0e9bf51ed168582218f8d75f01,Fix publish docker image job,ABANDONED,2021-02-17 21:32:30.000000000,2021-02-25 15:14:26.000000000,,1,1,0,776277,21a8b42516f79c607c7695533bebcbeaa8e2eb1a,fix-zuul-publish,5,1,1,1,26141,Adrian Czarnecki,czarneckia,"Fix publish docker image job

Change-Id: I6ec395aa12968a0e9bf51ed168582218f8d75f01
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I36fc4650e8481024ad985408b7ac5652acf26ec4,openstack/python-tripleoclient,stable/train,I36fc4650e8481024ad985408b7ac5652acf26ec4,Fix the get_deployment_status call,MERGED,2021-01-25 18:16:43.000000000,2021-02-25 15:14:24.000000000,2021-02-25 15:12:47.000000000,1,1,2,772417,018a3fe53049e685286ecfc8924582f101cc6958,train-rhbz1912879,21,7,8,1,11491,Gael Chamoulaud,gchamoul,"Fix the get_deployment_status call

The get_deployment_status function waits for a keyworded,
variable-length argument dictionary. This patch fixes that issue by
adding the right keyword for 'plan'.

This patch also adds a space in the output string in order to be
well-formatted.

Change-Id: I36fc4650e8481024ad985408b7ac5652acf26ec4
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit c246e80bfa3e03a242517783e142b14e5d10c28c)
(cherry picked from commit c54ed778b52b17e63d4a9b72d6a58c28d18ad991)
"
openstack%2Fmanila~master~I4e02aed316f68d89e7651cea8feaa3a366024145,openstack/manila,master,I4e02aed316f68d89e7651cea8feaa3a366024145,DNM - Testing add/update sec service with Netapp,NEW,2021-02-12 20:41:58.000000000,2021-02-25 14:49:13.000000000,,0,0,0,775446,a40c115e13b5de74d154940646887ec178a984ef,,15,1,1,1,30998,Andre Luiz Beltrami Rocha,andrebeltrami,"DNM - Testing add/update sec service with Netapp

This patch tests the feature add/update sec service
for NetApp driver.

Depends-On: I8556e4e2e05deb9b116eacbd5afe2f7c5d77b44b
Depends-On: I8c1b882f9c4fe40a14d50a4ebb7a40ff5c94bb46
Change-Id: I4e02aed316f68d89e7651cea8feaa3a366024145
"
openstack%2Fpython-manilaclient~master~I04265d6bdf84038670a3188a99cd2d639ad62cfe,openstack/python-manilaclient,master,I04265d6bdf84038670a3188a99cd2d639ad62cfe,"Add ""--wait"" option for force-deleting a share/snapshot/share-instance",MERGED,2021-02-01 09:05:58.000000000,2021-02-25 14:37:56.000000000,2021-02-25 14:36:10.000000000,140,18,11,773313,b5b8bdbb9874304f91d29894e2b3c57b53345f82,bug/1898317,25,4,5,3,32493,Kafilat Adeleke,kafilat-adeleke,"Add ""--wait"" option for force-deleting a share/snapshot/share-instance

Closes-Bug: #1898317
Change-Id: I04265d6bdf84038670a3188a99cd2d639ad62cfe
"
openstack%2Fneutron~master~Icebe0255ce11eae859c05a273335b027da3f1545,openstack/neutron,master,Icebe0255ce11eae859c05a273335b027da3f1545,Use normalized_cidr of the SG in the backen drivers,MERGED,2021-02-22 22:15:27.000000000,2021-02-25 14:15:25.000000000,2021-02-25 14:13:25.000000000,6,2,0,777015,2bfe143d838193ccdc547f60c1e69ebac3cbd4fb,bug/1869129,34,4,1,1,11975,Slawek Kaplonski,slaweq,"Use normalized_cidr of the SG in the backen drivers

Patch [1] introduced new, read only field ""normalized_cidr"" in
the security groups' rules.
With this patch this new field is send as source or
destination_ip_prefix field in the rule's dict in case if
remote_ip_prefix and normalized_cidr are set in the rule.

[1] https://review.opendev.org/c/openstack/neutron/+/749158

Related-Bug: #1869129
Change-Id: Icebe0255ce11eae859c05a273335b027da3f1545
"
openstack%2Fopenstack-ansible-repo_server~master~I3e48000a4685d4df46cd60113ce4c0c02b63dc0c,openstack/openstack-ansible-repo_server,master,I3e48000a4685d4df46cd60113ce4c0c02b63dc0c,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 09:24:17.000000000,2021-02-25 13:42:14.000000000,2021-02-25 13:40:15.000000000,20,20,0,777073,aab7090e4d7a3bc5947166931a23aa0639d188fc,osa-facts,9,3,1,8,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I3e48000a4685d4df46cd60113ce4c0c02b63dc0c
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39,openstack/tripleo-ansible,stable/train,I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39,Also bootstrap python3-paunch,ABANDONED,2021-02-25 10:48:18.000000000,2021-02-25 13:40:18.000000000,,3,0,0,777566,8f75ebf1e8a7603c1a0c4e5b742d361266e8b4b2,,3,3,1,3,6926,Bogdan Dobrelya,bogdando,"Also bootstrap python3-paunch

Deployed servers expect to have paunch tooling installing

Change-Id: I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 7acc23d978dc50be1b3a238124bb1867c20ac1d2)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39,openstack/tripleo-ansible,stable/ussuri,I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39,Also bootstrap python3-paunch,ABANDONED,2021-02-25 10:47:30.000000000,2021-02-25 13:39:56.000000000,,3,0,0,777565,7acc23d978dc50be1b3a238124bb1867c20ac1d2,,4,4,1,3,6926,Bogdan Dobrelya,bogdando,"Also bootstrap python3-paunch

Deployed servers expect to have paunch tooling installing

Change-Id: I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fvalidations-libs~master~Iaa8ca89654804b9e6e5806dedcf867dce34b2a57,openstack/validations-libs,master,Iaa8ca89654804b9e6e5806dedcf867dce34b2a57,Add the path of the file in the error message.,ABANDONED,2021-02-19 10:55:05.000000000,2021-02-25 13:33:22.000000000,,2,1,0,776602,82b137e9fb18811e434005f88a9f2e47bdcd7ac2,improve_message_error_parse_all_validations_on_disk,3,1,1,1,31245,Daniel Bengtsson,damani42,"Add the path of the file in the error message.

Improve the error message. Add the path of the playbook.

Change-Id: Iaa8ca89654804b9e6e5806dedcf867dce34b2a57
"
openstack%2Ftripleo-validations~master~I97cde165794afa4aea61da969c7b1bf4608a9f8a,openstack/tripleo-validations,master,I97cde165794afa4aea61da969c7b1bf4608a9f8a,Set a group.,ABANDONED,2021-02-22 07:35:47.000000000,2021-02-25 13:32:25.000000000,,2,1,0,776874,3b2d1669a563474f40b566420058eb322f2b0b3d,use_groups,9,9,1,1,31245,Daniel Bengtsson,damani42,"Set a group.

Set a group for ceph-pg. Use the pre-ceph for this validation.

Change-Id: I97cde165794afa4aea61da969c7b1bf4608a9f8a
"
openstack%2Fansible-role-systemd_networkd~master~I36a098e4b028bdf09b38e2f2c99f68f311ce9d32,openstack/ansible-role-systemd_networkd,master,I36a098e4b028bdf09b38e2f2c99f68f311ce9d32,Use ansible_facts[] instead of fact variables,MERGED,2021-02-22 16:29:34.000000000,2021-02-25 13:31:59.000000000,2021-02-25 13:30:32.000000000,51,51,0,776955,63ad4cffacd48f430ca1a9b5bd5fc03ed9f4581e,osa-facts,26,3,7,3,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I36a098e4b028bdf09b38e2f2c99f68f311ce9d32
"
openstack%2Ftripleo-validations~master~I4eb7508c24cce0db3179d4f3ef26cabceb164716,openstack/tripleo-validations,master,I4eb7508c24cce0db3179d4f3ef26cabceb164716,Optionally fail ceph-health if HEALTH_WARN,MERGED,2021-02-15 15:44:35.000000000,2021-02-25 13:28:57.000000000,2021-02-25 13:28:57.000000000,8,0,1,775669,67560d36c06860dc827ef8356f1023f42facdbec,,9,3,2,2,6796,Giulio Fidente,gfidente,"Optionally fail ceph-health if HEALTH_WARN

Helps controlling the behavior of the ceph-health check for it to
fail, optionally, not only when cluster is in _ERR state but also
in _WARN state.

Change-Id: I4eb7508c24cce0db3179d4f3ef26cabceb164716
Related-Bug: 1915700
"
openstack%2Fneutron~master~I528eb847ee956d1939abe2cb9e32450a4e271999,openstack/neutron,master,I528eb847ee956d1939abe2cb9e32450a4e271999,[doc]Replace ovn-controller man page url,MERGED,2021-02-25 02:08:37.000000000,2021-02-25 13:19:27.000000000,2021-02-25 13:15:18.000000000,1,1,0,777493,809cb5129e215e5cbb2dfa882bbab448ce16e295,,7,2,1,1,30380,ZhouHeng,zhouhenglc,"[doc]Replace ovn-controller man page url

ovn-controller man page has moved to [1]

[1] http://www.ovn.org/support/dist-docs/ovn-controller.8.html

Change-Id: I528eb847ee956d1939abe2cb9e32450a4e271999
"
openstack%2Fopenstack-ansible-memcached_server~master~I8c5d46a9d612b6800b6dde37a324e2357cf99217,openstack/openstack-ansible-memcached_server,master,I8c5d46a9d612b6800b6dde37a324e2357cf99217,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 09:21:30.000000000,2021-02-25 13:17:46.000000000,2021-02-25 13:15:39.000000000,9,9,0,777069,b53e30cdacfaa193b167da9fa1772c30a0963e3a,osa-facts,9,3,1,3,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I8c5d46a9d612b6800b6dde37a324e2357cf99217
"
openstack%2Fneutron~master~I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,openstack/neutron,master,I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,Remove redundant _ensure_default_security_group,MERGED,2021-02-24 12:39:13.000000000,2021-02-25 13:17:13.000000000,2021-02-25 13:14:49.000000000,0,3,0,777376,bdf1416958f79e8076397fcbf2fbbc920f964b37,def_sg_opt,13,4,1,1,5948,Oleg Bondarev,obondarev,"Remove redundant _ensure_default_security_group

_ensure_default_security_group() is done in
_ensure_default_security_group_handler [1] on each port BEFORE_CREATE
event. No need to ensure once again right after sending this event.

[1] https://github.com/openstack/neutron/blob/084fa99874e882649aa6895941fa913b2b852868/neutron/db/securitygroups_db.py#L894

TrivialFix

Change-Id: I1bfe2a50b52502b5ab3631c016a617f7a9756cc6
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ia6dac13c7e2206f4a86ef8e21c5b1cd80eb16e0e,openstack/openstack-ansible-rabbitmq_server,master,Ia6dac13c7e2206f4a86ef8e21c5b1cd80eb16e0e,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 09:23:20.000000000,2021-02-25 13:17:08.000000000,2021-02-25 13:14:21.000000000,34,34,0,777071,b8fc8721133157d958344147a7d99f0f6cc8e559,osa-facts,13,3,3,12,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Ia6dac13c7e2206f4a86ef8e21c5b1cd80eb16e0e
"
openstack%2Fansible-role-uwsgi~master~Ibadca3bdce6d7adf51ddce9591a0d404e38d5e71,openstack/ansible-role-uwsgi,master,Ibadca3bdce6d7adf51ddce9591a0d404e38d5e71,Use ansible_facts[] instead of fact variables,MERGED,2021-02-24 14:23:40.000000000,2021-02-25 13:06:19.000000000,2021-02-25 13:04:31.000000000,12,12,0,777386,15f24d11f34bfab6c4170de5b1b2c65363794dc5,osa-facts,8,3,1,5,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Ibadca3bdce6d7adf51ddce9591a0d404e38d5e71
"
openstack%2Foctavia-tempest-plugin~master~I14ab0f8b159fdd0c7e81b94297a57f30260579fa,openstack/octavia-tempest-plugin,master,I14ab0f8b159fdd0c7e81b94297a57f30260579fa,Remove Stein CI jobs,MERGED,2021-02-23 07:47:28.000000000,2021-02-25 12:41:00.000000000,2021-02-25 12:35:42.000000000,0,53,0,777055,972385b91cc196b520bd6b43b55b956e680d7451,,19,5,2,2,6469,Carlos Gonçalves,cgoncalves,"Remove Stein CI jobs

Stein release of Octavia has reached end-of-life (EOL) support [1].
The stable/stein Octavia branch no longer accepts changes.
We can now remove the Stein CI jobs.

[1] https://review.opendev.org/c/openstack/releases/+/772847

Change-Id: I14ab0f8b159fdd0c7e81b94297a57f30260579fa
"
openstack%2Fopenstack-ansible-lxc_container_create~master~If6b30e40bf71f60ee72fdc1459ce5e5a9f4f7d93,openstack/openstack-ansible-lxc_container_create,master,If6b30e40bf71f60ee72fdc1459ce5e5a9f4f7d93,Use ansible_facts[] instead of fact variables,MERGED,2021-02-22 16:44:52.000000000,2021-02-25 12:16:46.000000000,2021-02-25 12:15:13.000000000,13,30,3,776958,5d22a389c257f189a6a8ab42973e8c142df08169,osa-facts,25,3,8,7,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: If6b30e40bf71f60ee72fdc1459ce5e5a9f4f7d93
"
openstack%2Fneutron~stable%2Fvictoria~I00794e9c6403bbe528ea398b981e54d41d53b5a5,openstack/neutron,stable/victoria,I00794e9c6403bbe528ea398b981e54d41d53b5a5,[OVN][QoS] Remove OVN QoS rule when FIP is dissasociated,ABANDONED,2021-02-25 12:09:08.000000000,2021-02-25 12:11:37.000000000,,12,5,0,777580,24a3be3d83ebfc2cbe2349b6a54a44881ee317c6,bug/1916470,2,0,1,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN][QoS] Remove OVN QoS rule when FIP is dissasociated

When an floating IP is dissasociated from an internal port, the QoS
rule in the OVN database should be removed too. This patch adds a
QoS extension call to delete the QoS rules in OVN in this case.

Change-Id: I00794e9c6403bbe528ea398b981e54d41d53b5a5
Closes-Bug: #1916470
(cherry picked from commit 3398e6abc098a0dd8d0b441a729201adb9d96eca)
"
openstack%2Fneutron~stable%2Ftrain~Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,openstack/neutron,stable/train,Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,Don't try to create default SG when security groups are disabled,MERGED,2021-02-08 10:32:57.000000000,2021-02-25 11:37:10.000000000,2021-02-25 11:34:53.000000000,19,1,0,774406,1800d122437b3ec1f33c54777eaf930c39abdae3,bug/1913297-stable/victoria-stable/ussuri-stable/train,14,5,1,2,11975,Slawek Kaplonski,slaweq,"Don't try to create default SG when security groups are disabled

If security group API is disabled, there is no point to create default
security group for tenant when e.g. network is created.

Closes-Bug: #1913297
Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa
(cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)
"
openstack%2Frequirements~master~I6840ab2d2fde1d719018f8c2ac64282f17cdec40,openstack/requirements,master,I6840ab2d2fde1d719018f8c2ac64282f17cdec40,update mock to 4.0.3,MERGED,2021-02-22 17:07:08.000000000,2021-02-25 11:36:49.000000000,2021-02-25 11:35:10.000000000,1,1,0,776967,1d008e5bd17580b7a803ea4908a42185565a0775,mock-4.0.3,20,3,1,1,14288,Matthew Thode,prometheanfire,"update mock to 4.0.3

Change-Id: I6840ab2d2fde1d719018f8c2ac64282f17cdec40
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fopenstack-helm-images~master~I536b5468e6b90a7368d74b05e02212788ee6e13c,openstack/openstack-helm-images,master,I536b5468e6b90a7368d74b05e02212788ee6e13c,Added CentOS libvirt images,MERGED,2020-10-10 15:01:37.000000000,2021-02-25 11:35:57.000000000,2021-02-25 11:30:19.000000000,25,0,1,757292,ca3474eb33ed0cb1e758c9cbc4ae58c5bcefc4b7,add-libvirt-centos,23,6,5,2,1004,Mohammed Naser,mnaser,"Added CentOS libvirt images

Change-Id: I536b5468e6b90a7368d74b05e02212788ee6e13c
"
openstack%2Fneutron~master~I00794e9c6403bbe528ea398b981e54d41d53b5a5,openstack/neutron,master,I00794e9c6403bbe528ea398b981e54d41d53b5a5,[OVN][QoS] Remove OVN QoS rule when FIP is dissasociated,MERGED,2021-02-22 10:46:28.000000000,2021-02-25 11:27:21.000000000,2021-02-25 11:25:28.000000000,12,5,5,776916,3398e6abc098a0dd8d0b441a729201adb9d96eca,bug/1916470,29,5,2,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN][QoS] Remove OVN QoS rule when FIP is dissasociated

When an floating IP is dissasociated from an internal port, the QoS
rule in the OVN database should be removed too. This patch adds a
QoS extension call to delete the QoS rules in OVN in this case.

Change-Id: I00794e9c6403bbe528ea398b981e54d41d53b5a5
Closes-Bug: #1916470
"
openstack%2Foslo.config~master~I7e608aa7c076c9dea4d4b3e89f4efcbf3bb00a55,openstack/oslo.config,master,I7e608aa7c076c9dea4d4b3e89f4efcbf3bb00a55,Remove six,ABANDONED,2021-01-02 02:28:46.000000000,2021-02-25 11:24:26.000000000,,0,1,0,768842,1e87842f7b5577d001b97a14399b0d15783fdb70,,8,2,1,1,30092,Xuan Yandong,xuanyandong,"Remove six

Change-Id: I7e608aa7c076c9dea4d4b3e89f4efcbf3bb00a55
"
openstack%2Fnova~master~I45f1df4935905170957c2ea2496c8a698a7464a2,openstack/nova,master,I45f1df4935905170957c2ea2496c8a698a7464a2,libvirt: add IP address to libvirt guest metadata,MERGED,2020-09-09 03:24:20.000000000,2021-02-25 11:17:14.000000000,2021-02-25 11:14:45.000000000,326,8,30,750552,838370a49014351051bbef2d1c2ada1f47ac2bfb,bp/libvirt-driver-ip-metadata,132,16,10,8,31652,Nobuhiro MIKI,nmiki,"libvirt: add IP address to libvirt guest metadata

Libvirt XML contains useful configuration information such as instance names,
flavors and images as metadata. This change extends this metadata to include
the IP addresses of the instances.

Example:
<metadata>
  <nova:instance xmlns:nova=""http://openstack.org/xmlns/libvirt/nova/1.1"">
    ...
    <nova:ports>
      <nova:port uuid=""567a4527-b0e4-4d0a-bcc2-71fda37897f7"">
        <nova:ip type=""fixed"" address=""192.168.1.1"" ipVersion=""4""/>
        <nova:ip type=""fixed"" address=""fe80::f95c:b030:7094"" ipVersion=""6""/>
        <nova:ip type=""floating"" address=""11.22.33.44"" ipVersion=""4""/>
      </nova:port>
    </nova:ports>
    ...
  </nova:instance>
</metadata>

Change-Id: I45f1df4935905170957c2ea2496c8a698a7464a2
blueprint: libvirt-driver-ip-metadata
Signed-off-by: Nobuhiro MIKI <nmiki@yahoo-corp.jp>
"
openstack%2Fswift~master~I9de032d309befea2ff8b752797947b9fc3ed8698,openstack/swift,master,I9de032d309befea2ff8b752797947b9fc3ed8698,DNM: verify zuul cors test fails,ABANDONED,2021-02-24 15:31:10.000000000,2021-02-25 11:08:35.000000000,,4,4,0,777405,2dcba3c1cc339cb5a94552cda9d6eaf6e4e9b283,cors,4,1,1,1,7847,Alistair Coles,acoles,"DNM: verify zuul cors test fails

Deliberately breaks cors to verify that the zuul job fails.

Change-Id: I9de032d309befea2ff8b752797947b9fc3ed8698
"
openstack%2Ftacker~master~Ia1bb10daf426820b44487c85fbffd3b7ff5c0f39,openstack/tacker,master,Ia1bb10daf426820b44487c85fbffd3b7ff5c0f39,Fix FT error for legacy anti-affinity test,MERGED,2021-02-24 02:36:34.000000000,2021-02-25 11:00:03.000000000,2021-02-25 10:54:50.000000000,4,0,0,777275,811d47f0c06035f66fd7679dbe6ae19fc44c6d89,fix-ft-error,22,7,4,1,31857,Ayumu Ueha,ueha,"Fix FT error for legacy anti-affinity test

In the following patch [1], FT error was solved by removing
""CELLSV2_SETUP: singleconductor"" and setup as a superconductor, but
after merging the patch, other error is become to occur in the
anti-affinity test in the legacy FT.
[1] https://review.opendev.org/c/openstack/tacker/+/775958

Because, anti-affinity may not work well in a environment with nova
installed as multi-cell [2].
[2] https://opendev.org/openstack/tacker/commit/b20812678bdb5266f4483b2e55c582167a605e

And db dependency error that occurred when setting single cell before
have been resolved by merging the following patches of devstack [3].
[3] https://review.opendev.org/c/openstack/devstack/+/775940

Therefore, this patch revert `CELLSV2_SETUP: singleconductor` in
"".zuul.yaml"" to resolve error of legacy anti-affinity test.

Change-Id: Ia1bb10daf426820b44487c85fbffd3b7ff5c0f39
"
openstack%2Fmonasca-api~stable%2Fvictoria~I002d936941e4784566d83173d55023dfd5fba282,openstack/monasca-api,stable/victoria,I002d936941e4784566d83173d55023dfd5fba282,Align lower-constraints for new pip,MERGED,2021-02-24 22:33:27.000000000,2021-02-25 10:43:05.000000000,2021-02-25 10:41:27.000000000,6,6,0,777328,ded997fb23e3f12319de87bad83bea03038fff33,update-lower-constraints-stable/victoria,7,2,1,2,26141,Adrian Czarnecki,czarneckia,"Align lower-constraints for new pip

Bump a series of lower-constraints and requirements to work with new pip
resolver, testing with steps outlined at [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html

Change-Id: I002d936941e4784566d83173d55023dfd5fba282
(cherry picked from commit ceac157b626c7896dab94626ac4cd94cc0772468)
"
openstack%2Fvalidations-libs~master~I9ae7309495458ba35a723e13c94d9dc85c8c45e9,openstack/validations-libs,master,I9ae7309495458ba35a723e13c94d9dc85c8c45e9,Modifies README.rst to reference podman.,MERGED,2021-02-12 15:40:05.000000000,2021-02-25 10:30:44.000000000,2021-02-25 10:28:19.000000000,8,3,3,775402,c36ac52d9188d3462ff72ab64f7e9667dc0182eb,structured/podman,16,5,2,1,32926,Jiri Podivin,jpodivin,"Modifies README.rst to reference podman.

Thank you dpeacock for pointing out this oversight.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9ae7309495458ba35a723e13c94d9dc85c8c45e9
"
openstack%2Fvalidations-libs~master~I5ed91d4258d9ad6725a86d5c3c6a40a02212b5d4,openstack/validations-libs,master,I5ed91d4258d9ad6725a86d5c3c6a40a02212b5d4,Docker image refinement and preparation for future development.,MERGED,2021-02-12 10:44:32.000000000,2021-02-25 10:29:37.000000000,2021-02-25 10:28:09.000000000,122,5,2,775361,4405071de09d944268843a172a12660894bb185f,structured/podman,15,6,3,5,32926,Jiri Podivin,jpodivin,"Docker image refinement and preparation for future development.

.dockerignore file was added to limit size of the docker context
The more complex docker images will be placed in newly created
dockerfiles dir. Each in its own subdir
and accompanied with README.rst file describing their use.

Right now there is only one, the same as the one in repo root.
But in the future there will be more.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I5ed91d4258d9ad6725a86d5c3c6a40a02212b5d4
"
openstack%2Fvalidations-libs~master~Ia4e46f8ce13e36c08d55db729004ad6b3d9aaa87,openstack/validations-libs,master,Ia4e46f8ce13e36c08d55db729004ad6b3d9aaa87,Improved Dockefile and simplified use instructions.,MERGED,2021-02-11 09:10:50.000000000,2021-02-25 10:27:31.000000000,2021-02-25 10:25:49.000000000,16,13,4,775080,4fabb3d2b56a6a16ea2b1ec6aef98df438529482,devenv/docker,24,7,3,2,32926,Jiri Podivin,jpodivin,"Improved Dockefile and simplified use instructions.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ia4e46f8ce13e36c08d55db729004ad6b3d9aaa87
"
openstack%2Ftripleo-quickstart-extras~master~I7bd78939acb906edfc149481d0bf9b1f80902e8d,openstack/tripleo-quickstart-extras,master,I7bd78939acb906edfc149481d0bf9b1f80902e8d,Updating cirros image download url,MERGED,2021-02-11 15:38:53.000000000,2021-02-25 10:25:46.000000000,2021-02-25 10:25:46.000000000,1,1,0,775191,9e87d97e84dfce17b14611ca5996b37b6d713234,tempest-cirros,13,4,1,1,8367,Arx Cruz,arxcruz,"Updating cirros image download url

Vexxhost is down, this make the cirros image from rdo fail. Switch back
to cirros-cloud.net

Change-Id: I7bd78939acb906edfc149481d0bf9b1f80902e8d
"
openstack%2Ftripleo-ansible~master~Id515d06ebceec58db84eef313ca1375bb802282d,openstack/tripleo-ansible,master,Id515d06ebceec58db84eef313ca1375bb802282d,Modifying playbooks to support python-tripleoclient B&R commands,MERGED,2021-01-20 10:25:10.000000000,2021-02-25 10:16:37.000000000,2021-02-25 10:16:37.000000000,33,15,6,771587,4ac33dcdbf054328dc61a172ee159e79e11082ac,change-771587-6,38,11,7,5,32728,Juan Pablo Lopez,jplopezgu,"Modifying playbooks to support python-tripleoclient B&R commands

- Each playbook is now in charged of a single main task: Setup NFS,
  Setup ReaR and Backup.
- prepare-nfs-backup.yaml was added to support the installation and
  configuration of the backup node.
- prepare-undercloud-backup.yaml and prepare-overcloud-backup.yaml
  were modified to support the ReaR installation and configuration.
- cli-undercloud-backup.yaml and cli-overcloud-backup.yaml were modified
  to support the backup of each node. ""tags"" property was removed to
  avoid tagging the whole role. ""connection"" property was removed to
  avoid running against localhost because tripleo_target_host is
  not defined.

Bugzilla: #1824806
Change-Id: Id515d06ebceec58db84eef313ca1375bb802282d
"
openstack%2Fkuryr-kubernetes~master~I7221c67990a3dd6974ea362d209390c716540ceb,openstack/kuryr-kubernetes,master,I7221c67990a3dd6974ea362d209390c716540ceb,Skip pool pre population if no Status is present on CRD,MERGED,2021-02-22 19:15:48.000000000,2021-02-25 10:07:54.000000000,2021-02-25 10:06:35.000000000,9,6,8,776988,0719ca7b2aba8c3e28b9a0498b271397db16b8ea,fix-race-pool-population,27,4,3,2,27032,Maysa de Macedo Souza,maysa,"Skip pool pre population if no Status is present on CRD

In case the kuryrnetwork_population handler is enabled
and a Namespace creation was triggered, it's possible that
the kuryrnetwork_population handler attempts to do its job
before the KuryrNetwork handles the CR update with status field.
This commit fixes this race by skipping the event for the
kuryrnetwork_population when no 'status' is present and
modifying the event to be handled on a on_present operation
since the on_added would only be triggered once.

Closes-bug: 1916544
Change-Id: I7221c67990a3dd6974ea362d209390c716540ceb
"
openstack%2Fos-apply-config~master~I7696fbb53cfee9dad29273e17a036c5f6963f788,openstack/os-apply-config,master,I7696fbb53cfee9dad29273e17a036c5f6963f788,Remove tripleo-multinode-container-minimal from zuul layout,ABANDONED,2021-02-25 09:43:12.000000000,2021-02-25 10:00:21.000000000,,0,1,0,777521,0ac71fecc95127fa4863f43dc932b5b95d541ad2,stable/victoria,2,0,1,1,8449,Marios Andreou,marios,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I7696fbb53cfee9dad29273e17a036c5f6963f788
"
openstack%2Ftripleo-operator-ansible~master~I246cc60dd15947a9f29e78636c21a2fe78dfef1d,openstack/tripleo-operator-ansible,master,I246cc60dd15947a9f29e78636c21a2fe78dfef1d,'--network-ports' support in overcloud node (un)provison,MERGED,2021-02-10 19:03:23.000000000,2021-02-25 09:43:57.000000000,2021-02-25 09:43:57.000000000,28,0,0,774946,0990282a22e48a744aec2312c4015ef8aad29137,network-data-v2,12,3,3,6,24245,Harald Jensås,harald.jensas,"'--network-ports' support in overcloud node (un)provison

Add support for provisioning network-port as part of the
node provisioning workflow. In the future enabling the
option will also apply node nic-config to provisioned
nodes.

Related: blueprint network-data-v2-ports
Change-Id: I246cc60dd15947a9f29e78636c21a2fe78dfef1d
"
openstack%2Fopenstack-helm-infra~master~I047cbfaa5aa9e7285a23e603074429180495557d,openstack/openstack-helm-infra,master,I047cbfaa5aa9e7285a23e603074429180495557d,"Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""",MERGED,2021-01-28 20:11:09.000000000,2021-02-25 09:37:06.000000000,2021-02-25 09:34:24.000000000,190,8,12,772814,6ee06562c87b67f026c9cc2bd64f9b8033e433b2,feat(tls),95,15,27,13,30495,Nafiz Haider,nafh27,"Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""

This reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.

Reason for revert: resolved bug with cluster issuer versioning

Co-authored-by: Sangeet Gupta <sg774j@att.com>

Change-Id: I047cbfaa5aa9e7285a23e603074429180495557d
"
openstack%2Ftempest~master~I112003baee939c34d3e3a5fdadc5d9b57c9119f5,openstack/tempest,master,I112003baee939c34d3e3a5fdadc5d9b57c9119f5,test_live_migration: Rename test_iscsi_volume,MERGED,2020-02-26 14:03:06.000000000,2021-02-25 09:26:41.000000000,2021-02-25 09:16:38.000000000,7,2,0,710039,249b30e0eedddf629803bfb478220c726a372d5a,test_live_migration_refactor,19,5,4,1,10135,Lee Yarwood,lyarwood,"test_live_migration: Rename test_iscsi_volume

Simply rename the test_iscsi_volume test to reflect what it is actually
testing, the live migration of instances with an attached volume.

Change-Id: I112003baee939c34d3e3a5fdadc5d9b57c9119f5
"
openstack%2Ftempest~master~I32f37f8e874a3510bb1af6db45a1b9a8d2fed543,openstack/tempest,master,I32f37f8e874a3510bb1af6db45a1b9a8d2fed543,Add wait_for_resource_deletion for swift api clients,MERGED,2021-02-08 10:28:41.000000000,2021-02-25 09:23:23.000000000,2021-02-25 09:15:51.000000000,21,10,9,774428,f5e277c802ca013cf2734f2a0435edba815f2424,,23,7,2,4,11075,Benny Kopilov,bkopilov,"Add wait_for_resource_deletion for swift api clients

Currently today we dont have any way in swift to verify that resources were deleted
before moving to the next command
In current code there was hardcoded sleep for 2 seconds instead of checking if
resource really deleted.

Added to the current cleanup :
Implement is_resource_deleted for object_client and container_client
After remove action we wait/ verify till resource really deleted
Remove hardcoded sleep for 2 seconds
Remove ignore for not found in reomval , if we hit on it means something
wrong in our code.

Change-Id: I32f37f8e874a3510bb1af6db45a1b9a8d2fed543
"
openstack%2Fpython-swiftclient~master~Ibf0c891782afe014cc453b713a94c187340d172e,openstack/python-swiftclient,master,Ibf0c891782afe014cc453b713a94c187340d172e,Drop lower-constraints testing,MERGED,2021-02-22 20:23:50.000000000,2021-02-25 09:23:04.000000000,2021-02-25 09:17:08.000000000,2,50,0,776998,06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5,,10,3,2,3,15343,Tim Burke,tburke,"Drop lower-constraints testing

The OpenStack community consensus seems to be that it's not worth the
hassle of fixing. *Maybe* we can revisit this if we ever drop py2
support?

Reasonable spot to start on ML threads:
http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html

Change-Id: Ibf0c891782afe014cc453b713a94c187340d172e
Depends-On: https://review.opendev.org/c/openstack/requirements/+/777025
"
openstack%2Ftempest~master~I0b0eca96b68dcb37219d035961a500f7f453c6b9,openstack/tempest,master,I0b0eca96b68dcb37219d035961a500f7f453c6b9,add unitest for api of resource providers inventories,MERGED,2020-12-18 02:51:30.000000000,2021-02-25 09:16:11.000000000,2021-02-25 09:16:11.000000000,89,0,0,767657,5ffc28f197699941a0873f154363885b404a4a3f,fix1219,17,7,2,2,30643,wanglbj,wanglbj,"add unitest for api of resource providers inventories

supplement unitest for api of resource providers inventories, include:
update_resource_providers_inventories,
delete_resource_providers_inventories

Change-Id: I0b0eca96b68dcb37219d035961a500f7f453c6b9
"
openstack%2Fneutron~stable%2Fqueens~Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,openstack/neutron,stable/queens,Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,Stop metadata proxy gracefully,ABANDONED,2021-02-19 08:12:35.000000000,2021-02-25 09:04:45.000000000,,65,5,12,776452,e76c1ae600328d054939b413fd229cd779fa7829,bug/1910691-stable/rocky-stable/queens,9,2,2,4,11975,Slawek Kaplonski,slaweq,"Stop metadata proxy gracefully

HAProxy supports hard stop [1] via SIGTERM signal. From the
documentation:

  """"""
  ... when the SIGTERM signal is sent to the haproxy process,
  it immediately quits and all established connections are
  closed.
  """"""

In case the process does not finish, the SIGKILL signal is sent.
The PID file created by the process is deleted.

[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4

Closes-Bug: #1910691

Conflicts:
    neutron/agent/metadata/driver.py
    neutron/tests/unit/agent/dhcp/test_agent.py
    neutron/tests/unit/agent/metadata/test_driver.py

Change-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb
(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)
"
openstack%2Fneutron~stable%2Frocky~Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,openstack/neutron,stable/rocky,Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,Stop metadata proxy gracefully,ABANDONED,2021-02-19 08:12:02.000000000,2021-02-25 09:04:40.000000000,,65,5,12,776585,35778d62aa1d91e3c5e68ee7ce2a0158fbe8de93,bug/1910691-stable/rocky,9,2,2,4,11975,Slawek Kaplonski,slaweq,"Stop metadata proxy gracefully

HAProxy supports hard stop [1] via SIGTERM signal. From the
documentation:

  """"""
  ... when the SIGTERM signal is sent to the haproxy process,
  it immediately quits and all established connections are
  closed.
  """"""

In case the process does not finish, the SIGKILL signal is sent.
The PID file created by the process is deleted.

[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4

Closes-Bug: #1910691

Conflicts:
    neutron/agent/metadata/driver.py
    neutron/tests/unit/agent/dhcp/test_agent.py
    neutron/tests/unit/agent/metadata/test_driver.py

Change-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb
(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)
"
openstack%2Fneutron~stable%2Fstein~Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,openstack/neutron,stable/stein,Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,Stop metadata proxy gracefully,ABANDONED,2021-02-19 08:10:10.000000000,2021-02-25 09:04:36.000000000,,65,5,4,776584,fcd1d41b2a30967d20fb3c16474050727e7c31fd,bug/1910691-stable/stein,7,2,2,3,11975,Slawek Kaplonski,slaweq,"Stop metadata proxy gracefully

HAProxy supports hard stop [1] via SIGTERM signal. From the
documentation:

  """"""
  ... when the SIGTERM signal is sent to the haproxy process,
  it immediately quits and all established connections are
  closed.
  """"""

In case the process does not finish, the SIGKILL signal is sent.
The PID file created by the process is deleted.

[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4

Closes-Bug: #1910691

Conflicts:
    neutron/agent/metadata/driver.py
    neutron/tests/unit/agent/dhcp/test_agent.py
    neutron/tests/unit/agent/metadata/test_driver.py

Change-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb
(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)
"
openstack%2Fopenstack-helm-infra~master~I055c69b4c5a266641b4684a94a46675475f27409,openstack/openstack-helm-infra,master,I055c69b4c5a266641b4684a94a46675475f27409,Update libvirt chart releasenotes to latest,MERGED,2021-02-24 01:27:51.000000000,2021-02-25 08:51:55.000000000,2021-02-25 08:50:28.000000000,1,0,2,777270,8b9089a5c19d523ec2b8632692e123a4d594ad3c,libvirt_reno,13,4,2,1,30449,jinyuanliu,jinyuanliu,"Update libvirt chart releasenotes to latest

This change updates the releasenotes for the libvirt chart to the latest version of the chart as of this patchset.

Change-Id: I055c69b4c5a266641b4684a94a46675475f27409
"
openstack%2Ftripleo-ansible~master~I24d0ac0a1a04bd0d9603e71a375a87565f0f69da,openstack/tripleo-ansible,master,I24d0ac0a1a04bd0d9603e71a375a87565f0f69da,[tripleo_transfer] Allow testing with docker/podman,ABANDONED,2021-02-18 21:27:42.000000000,2021-02-25 08:33:25.000000000,,0,41,0,776537,0021d8febee38d9e982f7469181be8d171ea1f39,,5,2,2,2,6816,Jesse Pretorius,jesse-pretorius,"[tripleo_transfer] Allow testing with docker/podman

With this patch, we can use docker/podman for testing
by executing:

molecule test -d [docker|podman]

Testing will also work outside of OpenStack's CI Infra.

Unfortunately, this also means that 'molecule test'
will now try to use the delegated driver (default) and
will fail.

This seems like a fault in the design of molecule. I would
have preferred to see molecule allow configs for each
driver which would be overlayed on top of molecule.yml and
the -d argument selecting the options.

Unfortunately there is only the reverse option, specify a
driver option and then molecule.yml overlays its details
on top.

Change-Id: I24d0ac0a1a04bd0d9603e71a375a87565f0f69da
"
openstack%2Fneutron-specs~master~Icf8e867c21252e0d098e45630dcb8399eb6386ab,openstack/neutron-specs,master,Icf8e867c21252e0d098e45630dcb8399eb6386ab,Add symlink of images to doc/source,MERGED,2021-02-24 08:43:55.000000000,2021-02-25 08:20:55.000000000,2021-02-25 08:19:26.000000000,1,0,0,777314,a7b0484b54ca2ac0f784b7a073fc3702aa7aa02c,bug/1916332,10,6,1,1,8313,Lajos Katona,elajkat,"Add symlink of images to doc/source

sphinx seems to not finding paths for images files, but adding a symlink
to doc/source make the doc build work again.

Change-Id: Icf8e867c21252e0d098e45630dcb8399eb6386ab
Closes-Bug: #1916332
"
openstack%2Fironic-python-agent-builder~master~Idce5d81ce83df121e521b7d26fd6523a378a0585,openstack/ironic-python-agent-builder,master,Idce5d81ce83df121e521b7d26fd6523a378a0585,Make sure we can create tinyipa isos,MERGED,2021-02-19 13:55:45.000000000,2021-02-25 07:47:33.000000000,2021-02-25 07:45:54.000000000,8,6,3,776642,2f4f0320a437fb530a8f35583989cc76715f65e8,fix-isolinux-bin-path,23,5,8,2,23851,Riccardo Pittau,elfosardo,"Make sure we can create tinyipa isos

Verify we're able to build a tinyipa iso.

- use bash in build-iso script
- account for filenames with branch names in them
- Fix isolinux.bin path
The correct location is now under bios/core
[...]/syslinux-6.03$ find . -name ""isolinux.bin""
./bios/core/isolinux.bin

Change-Id: Idce5d81ce83df121e521b7d26fd6523a378a0585
"
openstack%2Fopenstacksdk~master~I925d84b481aaa51e4b98b05e8cfa47282ebbf2e1,openstack/openstacksdk,master,I925d84b481aaa51e4b98b05e8cfa47282ebbf2e1,Added support for Messages resource,ABANDONED,2021-02-25 07:21:49.000000000,2021-02-25 07:42:07.000000000,,52,0,0,777500,2ae74ae510cecbeb5a7c976fab22bfcd5d4e9aa8,add_messages,2,0,1,1,33055,Hudson Dahly,hdahly,"Added support for Messages resource

Introduce the Messages resource, fill in its
resources, and implement API calls to support
the Cinder v3 API.

Task: 41817
Story: 2008619
Change-Id: I925d84b481aaa51e4b98b05e8cfa47282ebbf2e1
"
openstack%2Fos-brick~stable%2Fussuri~I9a1746658474c0f1be7ec29a36767085aaf2ab7f,openstack/os-brick,stable/ussuri,I9a1746658474c0f1be7ec29a36767085aaf2ab7f,Improve error handling on target query,MERGED,2021-02-02 13:41:50.000000000,2021-02-25 07:40:16.000000000,2021-02-25 03:31:59.000000000,19,1,0,773686,897dbdb9a1b0e87fe6c81219c4bee4ffd2585e7b,,76,5,1,2,10459,Luigi Toscano,ltoscano,"Improve error handling on target query

The command 'iscsiadm -m node' will return entries for corrupt targets
in the form '[]:port,-1' instead of the expected format.  This causes an
IndexError exception during parsing.  This patch skips invalid entries.

Closes-bug: #1886855
Change-Id: I9a1746658474c0f1be7ec29a36767085aaf2ab7f
(cherry picked from commit 4fabe1b33d497b5f017f07b4b5d7fce0c0eabd00)
(cherry picked from commit 958e4f5fb8ec788fe92eff67eeb3adf0ab7b06a8)
"
openstack%2Fpython-manilaclient~master~Ie915278b7d18e916b45a054aac2cf9134bd3e42b,openstack/python-manilaclient,master,Ie915278b7d18e916b45a054aac2cf9134bd3e42b,[WIP] Get rid of python-keystoneclient requirement,ABANDONED,2017-10-12 13:49:28.000000000,2021-02-25 07:01:01.000000000,,251,197,0,511483,5136acc711d47291a7cb23f63df44f9ba1380075,bp/switch-to-keystoneauth,12,4,3,7,7102,Thomas Bechtold,toabctl,"[WIP] Get rid of python-keystoneclient requirement

python-keystoneclient is not needed. All can be handled via
keystoneauth1.

Remove HttpClient in favor or SessionClient

Change-Id: Ie915278b7d18e916b45a054aac2cf9134bd3e42b
Implements: blueprint switch-to-keystoneauth
"
openstack%2Fcyborg~master~Iaffac082948745c1b9171834504234570b795065,openstack/cyborg,master,Iaffac082948745c1b9171834504234570b795065,Add tags to .gitignore,MERGED,2021-02-23 09:08:18.000000000,2021-02-25 05:57:56.000000000,2021-02-25 05:56:40.000000000,1,0,0,777064,ce88d4edc1b09348d2c804c5c59ed04a2353fc5e,,9,6,1,1,31412,Wenping Song,songwenping,"Add tags to .gitignore

When using ctags, it will provide a 'tags' file in the directory.
It should be added to .gitignore.

Change-Id: Iaffac082948745c1b9171834504234570b795065
"
openstack%2Fswift~master~I9f9313df2a7fc02e843053706ad06aebca0aeeaf,openstack/swift,master,I9f9313df2a7fc02e843053706ad06aebca0aeeaf,Fixups for direct_get_recon tests,ABANDONED,2021-02-24 11:48:05.000000000,2021-02-25 05:37:48.000000000,,18,16,0,777369,7e6c826d747ebdbc3d25c95e9705e58d699d8b88,update_stats_sharded_split,3,1,1,2,7847,Alistair Coles,acoles,"Fixups for direct_get_recon tests

Change-Id: I9f9313df2a7fc02e843053706ad06aebca0aeeaf
"
openstack%2Ftripleo-common~master~I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d,openstack/tripleo-common,master,I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d,Drop inject_facts_as_vars,MERGED,2021-02-19 14:40:35.000000000,2021-02-25 04:34:11.000000000,2021-02-25 04:32:48.000000000,2,0,0,776649,16bc02326be62e9df328f290a1e06f3045c54957,ansible-facts,24,5,3,1,14985,Alex Schultz,mwhahaha,"Drop inject_facts_as_vars

This setting stops ansible from converting ansible_fact items into top
level ansible_* vars. This has a huge impact on performance as this is
performed at the end of every task execution.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/776659
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776666
Change-Id: I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d
"
openstack%2Fzaqar~stable%2Fvictoria~Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382,openstack/zaqar,stable/victoria,Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382,Fix the issue of raising the StopIteration,MERGED,2020-12-09 08:55:45.000000000,2021-02-25 04:22:37.000000000,2021-02-25 04:21:16.000000000,14,12,0,766166,eeabc5d208372475603284616051eff763f4ea4a,fix-tempest-failure,51,2,21,5,8846,Hao Wang,sxmatch,"Fix the issue of raising the StopIteration

This issue caused the failure of tempest in Jekins.

Change-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382
"
openstack%2Frequirements~master~I4ff2bf6e83dc6205ac4dd0b8966ba7a1b6b06b65,openstack/requirements,master,I4ff2bf6e83dc6205ac4dd0b8966ba7a1b6b06b65,add block for fasteners-0.16 and comment for upstream issue,MERGED,2021-02-24 04:17:05.000000000,2021-02-25 03:42:25.000000000,2021-02-25 03:40:59.000000000,2,1,0,777295,386db3432e69e6e180e9c32f0d3700eec7eac535,block-fasteners-0.16,9,2,2,1,14288,Matthew Thode,prometheanfire,"add block for fasteners-0.16 and comment for upstream issue

Change-Id: I4ff2bf6e83dc6205ac4dd0b8966ba7a1b6b06b65
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
