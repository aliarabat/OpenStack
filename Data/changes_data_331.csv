id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fopenstack-ansible~stable%2Fstein~Iede9bbfa711baa3f8f2aacc31ef20359e85d344a,openstack/openstack-ansible,stable/stein,,Iede9bbfa711baa3f8f2aacc31ef20359e85d344a,Bump SHAs for stable/stein,MERGED,2019-06-18 21:42:12.000000000,2019-06-20 19:40:13.000000000,2019-06-20 19:40:13.000000000,2,2,0,666174,97e9ac1f22168d63f90390b191306e7a14bf0c8d,18,3,1,1,1004,Mohammed Naser,mnaser,"Bump SHAs for stable/stein

Change-Id: Iede9bbfa711baa3f8f2aacc31ef20359e85d344a
"
openstack%2Fswift~master~Ie7791297cab16a649880088fa9eae6b4f95855f7,openstack/swift,master,py3/locale,Ie7791297cab16a649880088fa9eae6b4f95855f7,py3: port the test of locale,MERGED,2019-06-13 00:45:59.000000000,2019-06-20 19:21:48.000000000,2019-06-20 19:19:57.000000000,22,51,1,665042,a57085edc9427e3ee7c6aa474f2954f0d8825df3,30,5,4,4,597,Pete Zaitcev,zaitcev,"py3: port the test of locale

We needed to change the sample translation a little, because
Python 3 requires encoding metadata.

We also remove workarounds for a specific bug in the subprocess
module, which were needed on Python 2.6 only.

Change-Id: Ie7791297cab16a649880088fa9eae6b4f95855f7
"
openstack%2Fswift~master~I5b8ecd82d6915d0e1cb216c423bbcc75c50a6f3d,openstack/swift,master,661336,I5b8ecd82d6915d0e1cb216c423bbcc75c50a6f3d,Stop manually installing eventlet for our py3 tests,MERGED,2019-05-24 15:34:37.000000000,2019-06-20 19:20:51.000000000,2019-06-20 19:19:46.000000000,0,4,0,661336,6374734d7d0f76d863afb167637d0b590316e306,24,3,2,1,15343,Tim Burke,tburke,"Stop manually installing eventlet for our py3 tests

0.25.0 is now included in upper-constraints.txt

Related-Change: I04be480829eaf67ce328b2e7f7d7e2f70aaed90e
Change-Id: I5b8ecd82d6915d0e1cb216c423bbcc75c50a6f3d
"
openstack%2Ftripleo-heat-templates~master~I6a6dd97d08e1502842473d07a05e01148156834e,openstack/tripleo-heat-templates,master,bug/1822327,I6a6dd97d08e1502842473d07a05e01148156834e,Build bootstrap_nodeid var from primary_role_name,ABANDONED,2019-06-20 18:41:53.000000000,2019-06-20 19:06:33.000000000,,1,1,0,666658,6360832653253fae2ec201e45ee8ae9f4c160ca6,3,4,1,1,3153,Emilien Macchi,emilienm,"Build bootstrap_nodeid var from primary_role_name

We can only have one single bootstrap_nodeid per deployment, and if we
have more we will have multiple nodes running some tasks that are
supposed to run from only one node, like DB syncs or cluster initiation.

To prevent that, we can use the primary_role_name variable which is the
name of role which has both 'controller' & 'primary' tags in it.

Before that, we were building bootstrap_nodeid by using the first node
in the role; which can be problematic if for example we have multiple
roles for 'controller' tags.

Change-Id: I6a6dd97d08e1502842473d07a05e01148156834e
Related-Bug: #1822327
"
openstack%2Fkeystonemiddleware~master~I9fd21974027bc2bda6036c34fa587a044faaacae,openstack/keystonemiddleware,master,ignore-bandit-warnings,I9fd21974027bc2bda6036c34fa587a044faaacae,Fix bandit warning,MERGED,2019-06-20 15:08:39.000000000,2019-06-20 18:59:16.000000000,2019-06-20 18:59:16.000000000,2,2,0,666608,0c3b3f5ee2d9566d4ee58f9fbe3fa747c1f9931f,9,2,2,1,5046,Lance Bragstad,ldbragst,"Fix bandit warning

Bandit is throwing warnings because we use 'token' in a couple of
variables.

Change-Id: I9fd21974027bc2bda6036c34fa587a044faaacae
"
openstack%2Fnova~master~I17543ecb572934ecc7d0bbc7a4ad2f537fa499bc,openstack/nova,master,bug/1811235,I17543ecb572934ecc7d0bbc7a4ad2f537fa499bc,Raise InstanceFaultRollback for UnableToMigrateToSelf from _prep_resize,MERGED,2019-01-25 15:58:32.000000000,2019-06-20 18:51:09.000000000,2019-06-20 18:51:09.000000000,78,4,14,633227,d1931ac0630415519f9c3d906caba9c83cc8162a,75,19,7,3,6873,Matt Riedemann,mriedem,"Raise InstanceFaultRollback for UnableToMigrateToSelf from _prep_resize

It is possible to cold migrate a stopped server. If, however, the
cold migrate is scheduled to the instance's current host and the
compute driver does not support cold migrating to the same host,
then UnableToMigrateToSelf was being raised from _prep_resize. If
_reschedule_resize_or_reraise re-raises that exception, then
_error_out_instance_on_exception in prep_resize handles it and
sets the instance vm_state to ACTIVE. This is wrong since the
instance power state is unchanged at this point and the instance
is actually stopped.

This fixes the problem by wrapping UnableToMigrateToSelf in
InstanceFaultRollback and raises that from _prep_resize, and
_error_out_instance_on_exception is called with the initial
vm_state (STOPPED in this case) so when _error_out_instance_on_exception
handles the InstanceFaultRollback exception it sets the instance
vm_state to STOPPED (what it already was) rather than ACTIVE.

There were no existing unit tests for the UnableToMigrateToSelf
case in _prep_resize so those are added here.

Change-Id: I17543ecb572934ecc7d0bbc7a4ad2f537fa499bc
Closes-Bug: #1811235
"
openstack%2Fnova~master~Ie95f18a6d0e46771410659e34dc8a6f35e149729,openstack/nova,master,bug/1782696,Ie95f18a6d0e46771410659e34dc8a6f35e149729,Load expected attr pci_devices while migrate,ABANDONED,2018-08-03 07:23:35.000000000,2019-06-20 18:48:42.000000000,,88,36,2,588455,2c2f8796ec4dfc4c734af0742937418436c9a1eb,22,13,1,3,7543,Yongli He,yongli.he,"Load expected attr pci_devices while migrate

Load 'pci_requests' explicitly otherwise the request_spec missed it,
NUMATopologyFilter and PciPassthroughFilter then return True for any
hosts.

Change-Id: Ie95f18a6d0e46771410659e34dc8a6f35e149729
Closes-Bug: #1782696
"
openstack%2Fnova~master~Ie4f9177f4d54cbc7dbcf58bd107fd5f24c60d8bb,openstack/nova,master,bug/1811235,Ie4f9177f4d54cbc7dbcf58bd107fd5f24c60d8bb,Change InstanceFaultRollback handling in _error_out_instance_on_exception,MERGED,2019-01-25 14:05:23.000000000,2019-06-20 18:48:26.000000000,2019-06-20 18:48:26.000000000,46,14,10,633212,46cb2fdfe2df333d870aca8e6afc521172b8e061,84,18,6,2,6873,Matt Riedemann,mriedem,"Change InstanceFaultRollback handling in _error_out_instance_on_exception

For some reason, only NotImplementedError in _error_out_instance_on_exception
would use the $instance_state parameter which can be controlled by the
caller of the context manager to determine the rollback vm_state. But in the
case of InstanceFaultRollback, the caller may want to reset the vm_state
back to something other than ACTIVE, like if the instance is actually
STOPPED and something like prep_resize fails (you can resize a STOPPED
instance).

This change makes _error_out_instance_on_exception handle InstanceFaultRollback
like NotImplementedError in that the instance_state parameter is used to reset
the instance.vm_state. It also adds a docstring explaining how this context
manager works along with some notes/questions about ways to improve it.

Change-Id: Ie4f9177f4d54cbc7dbcf58bd107fd5f24c60d8bb
Related-Bug: #1811235
"
openstack%2Ftripleo-ci~master~Ic4a5fc9ce52c4c6084055b7e6cf24a0efe078f15,openstack/tripleo-ci,master,,Ic4a5fc9ce52c4c6084055b7e6cf24a0efe078f15,Run standalone 10 against octavia healthcheck,ABANDONED,2019-04-24 14:17:00.000000000,2019-06-20 18:22:47.000000000,,1,0,1,655453,17f9c0f44a27982ef8b27bdcf226fb1fba22cbcf,6,8,1,1,6681,Brent Eagles,beagles,"Run standalone 10 against octavia healthcheck

The octavia job should trigger on related healthcheck changes.

Change-Id: Ic4a5fc9ce52c4c6084055b7e6cf24a0efe078f15
"
openstack%2Fpython-tripleoclient~master~I50d0c0d8741c076f0bab59aee3a7fb695d742f1c,openstack/python-tripleoclient,master,bug/1832441,I50d0c0d8741c076f0bab59aee3a7fb695d742f1c,Drop config-download-environment.yaml from deployed_server_env,MERGED,2019-06-17 13:21:16.000000000,2019-06-20 18:04:22.000000000,2019-06-20 18:04:22.000000000,0,8,0,665663,d26d7d770f9c8fa6ae204297ee6e20b146668a61,10,4,2,2,8833,Rabi Mishra,rabi,"Drop config-download-environment.yaml from deployed_server_env

Change-Id: I50d0c0d8741c076f0bab59aee3a7fb695d742f1c
Partial-Bug: #1832441
"
openstack%2Ftripleo-heat-templates~master~I6bd11bdf9c74db24c0d21fa600030e9f3b144df0,openstack/tripleo-heat-templates,master,,I6bd11bdf9c74db24c0d21fa600030e9f3b144df0,Enable Ceph RGW 'account in url' option,MERGED,2019-04-29 15:53:34.000000000,2019-06-20 17:25:48.000000000,2019-06-20 16:45:05.000000000,82,72,2,656361,7c379543ccab831da0bf4f8f4b850b534d5c5247,21,11,3,3,6796,Giulio Fidente,gfidente,"Enable Ceph RGW 'account in url' option

This requires an update of the endpoint but is necessary to be able
to use public-readable containers (like temporary URLs) with RGW.

Change-Id: I6bd11bdf9c74db24c0d21fa600030e9f3b144df0
Closes-Bug: 1826894
"
openstack%2Fnova-specs~master~Id119dbf40585556c4063ba64aed11347b5979138,openstack/nova-specs,master,bp/amd-sev-libvirt-support,Id119dbf40585556c4063ba64aed11347b5979138,Change new image property to hw_mem_encryption,MERGED,2019-06-10 17:06:00.000000000,2019-06-20 17:01:56.000000000,2019-06-20 17:01:56.000000000,11,11,0,664397,6d7151f9ba0a672fb2d89978d962e7239c0e7be1,8,5,1,1,2394,Adam Spiers,adam.spiers,"Change new image property to hw_mem_encryption

The AMD SEV spec currently proposes to add a ""hw:mem_encryption""
parameter to flavor extra specs and image properties.  However
existing extra specs parameters use the ""hw:"" prefix, whereas image
properties all use the ""hw_"" prefix.

Therefore to remain consistent with those conventions, change the
proposal so that the new image property will be called
""hw_mem_encryption"" rather than ""hw:mem_encryption"".

Change-Id: Id119dbf40585556c4063ba64aed11347b5979138
"
openstack%2Fopenstack-ansible-tests~master~I41c504823277b8c5ee1b14540cdfbb693fc25a8c,openstack/openstack-ansible-tests,master,,I41c504823277b8c5ee1b14540cdfbb693fc25a8c,Revert defining tempest_install_method for tests,MERGED,2019-06-14 22:52:51.000000000,2019-06-20 16:51:17.000000000,2019-06-20 16:01:39.000000000,0,1,0,665490,0666b18821ea74cbb2d41228180a2f60a74fa9e7,13,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Revert defining tempest_install_method for tests

Since [1] is merged, we don't need defining this variable for containers

[1] https://review.opendev.org/665244/

This reverts commit 1084ff6d5acab882de1a361fc4144ec0630f520d.

Change-Id: I41c504823277b8c5ee1b14540cdfbb693fc25a8c
"
openstack%2Ftripleo-ansible~master~Id5809909b304860b25233e81bc7abeec3b0d8890,openstack/tripleo-ansible,master,role-addition,Id5809909b304860b25233e81bc7abeec3b0d8890,Import tripleo-ssh-known-hosts role,MERGED,2019-06-20 04:09:22.000000000,2019-06-20 16:49:31.000000000,2019-06-20 16:49:31.000000000,412,0,1,666485,90eb3366d4593f7d9816d6467a811aa76e2fe455,8,3,1,13,7353,Kevin Carter,cloudnull,"Import tripleo-ssh-known-hosts role

The tripleo-ssh-known-hosts from tripleo-common has been imported
into tripleo-ansible. Role tests have been added using molecule
testing the loading and unloading capbailities of this role.

Documentation hooks have been created showing how the role can
be used.

Change-Id: Id5809909b304860b25233e81bc7abeec3b0d8890
Signed-off-by: Kevin Carter <kevin@cloudnull.com>
"
openstack%2Ftripleo-ansible~master~Icd788f12e78b0c7cf2545b133df1d0a4b8f80018,openstack/tripleo-ansible,master,role-addition,Icd788f12e78b0c7cf2545b133df1d0a4b8f80018,Import tripleo-module-load role,MERGED,2019-06-20 01:14:58.000000000,2019-06-20 16:49:30.000000000,2019-06-20 16:49:30.000000000,562,2,1,666468,a50385720909582bb7aeff9cfb0a4165e452c12c,11,4,3,18,7353,Kevin Carter,cloudnull,"Import tripleo-module-load role

The tripleo module-load-role from tripleo-common has been imported
into tripleo-ansible. Role tests have been added using molecule
testing the loading and unloading capbailities of this role.

Documentation hooks have been created showing how the role can
be used.

Change-Id: Icd788f12e78b0c7cf2545b133df1d0a4b8f80018
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-ansible~master~I5649e5af6b18c411d7bbbe230556c04aeddf2795,openstack/tripleo-ansible,master,role-addition,I5649e5af6b18c411d7bbbe230556c04aeddf2795,Import the tripleo-create-admin role,MERGED,2019-06-19 23:57:16.000000000,2019-06-20 16:47:51.000000000,2019-06-20 16:47:51.000000000,801,6,0,666465,56a6e8cbe857da670188b536a8cee097098202d6,10,3,2,27,7353,Kevin Carter,cloudnull,"Import the tripleo-create-admin role

This change adds the ""tripleo-create-admin"" role from tripleo-common.
This change creates all of the molecule tests required to ensure that
the role is properly exercised using all of it's documented code
paths.

Documentation hooks have been added showing how the role can be
used.

Change-Id: I5649e5af6b18c411d7bbbe230556c04aeddf2795
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fkeystoneauth~master~I67ba69bfff69676ceb28b8a7515f10f5eff21c4c,openstack/keystoneauth,master,retry-options,I67ba69bfff69676ceb28b8a7515f10f5eff21c4c,Allow setting retry counts for Adapter via configuration options,MERGED,2019-06-19 13:24:57.000000000,2019-06-20 16:46:41.000000000,2019-06-20 16:46:41.000000000,67,27,0,666287,92921c6016ee2b51ce72014d57336f574c71ab24,13,5,1,3,10239,Dmitry Tantsur,dtantsur,"Allow setting retry counts for Adapter via configuration options

Change-Id: I67ba69bfff69676ceb28b8a7515f10f5eff21c4c
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~If52302b5a04b5e146ac53ccd3fc65a064b2df2fb,openstack/tripleo-heat-templates,stable/stein,bug/1829993,If52302b5a04b5e146ac53ccd3fc65a064b2df2fb,Override ovn::controller::hostname to use hiera:fqdn_canonical,MERGED,2019-06-20 07:21:35.000000000,2019-06-20 16:45:14.000000000,2019-06-20 16:45:14.000000000,1,0,0,666503,99039a81958148e198ea794e10221a7bbff92d6d,13,8,1,1,8833,Rabi Mishra,rabi,"Override ovn::controller::hostname to use hiera:fqdn_canonical

ovn::controller::hostname defaults to ::fqdn,
hostname can differ based on how nova configures it, detected
when dhcp_domain name is removed in [1].
So it's good to rely on fqdn_canonical hiera key which
nova also relies on to set ""host"" in nova.conf.

This backport excludes neutron_url_timeout chnage.

Related-Bug: #1829993
Change-Id: If52302b5a04b5e146ac53ccd3fc65a064b2df2fb
(cherry picked from commit 5e83eeda5b5d85022a48b71c10bcad0155063779)
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~Id9bdd36aa0ee81424212e3a89185311817a15aee,openstack/puppet-tripleo,stable/queens,bug/1823305,Id9bdd36aa0ee81424212e3a89185311817a15aee,RabbitMQ: always allow promotion on HA queue during failover,MERGED,2019-06-19 17:02:30.000000000,2019-06-20 16:45:12.000000000,2019-06-20 16:45:12.000000000,29,4,0,666401,a00b779cd30afb03656f6ceea0cc11d2c2e50faa,9,7,1,2,20778,Damien Ciabrini,dciabrin,"RabbitMQ: always allow promotion on HA queue during failover

When the RabbitMQ experience a rolling restart of its peers, the
master of an HA queue fails over from one replica to another.

If there are messages sent to the HA queue while some rabbit
nodes are restarting, the latter will reconnect as unsynchronized
slaves. It can happen that during a rolling restart, all rabbit
nodes reconnect as unsynchronized, which prevents RabbitMQ to
automatically elect a new Master for failover. This has other
side effects on fanout queues and may prevent OpenStack
notification to be consumed properly.

Change the HA policy to always allow a promotion even when all
replicas are unsynchronized. When such rare condition happens,
rely on OpenStack client to retry RPC if they need to.

Closes-Bug: #1823305
Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>
Change-Id: Id9bdd36aa0ee81424212e3a89185311817a15aee
(cherry picked from commit 610c8d8d41cd4b6bfd228ce1012416e424db625d)
(Resolved conflicts manually as cherry pick didn't apply cleanly)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~If7fad9f24c7294c2d749fc3838b1fb71182930fc,openstack/tripleo-heat-templates,stable/rocky,bug/1829769-stable/rocky,If7fad9f24c7294c2d749fc3838b1fb71182930fc,Ensure openstack clients are installed,MERGED,2019-06-19 22:15:45.000000000,2019-06-20 16:45:11.000000000,2019-06-20 16:45:11.000000000,7,0,0,666459,dcf0a74f9f77761ccc42af7d8923974f0d68ee5c,11,4,2,7,16643,Goutham Pacha Ravi,gouthamr,"Ensure openstack clients are installed

We need to ensure the openstack clients are installed on controllers for
the deployed server case. This should be handled by the overcloud images
themselves, however if the images are not used we should make sure the
clients get installed with our OpenstackClients service.

This is not a clean cherry-pick from stable/stein. However,
it retains the contents from master. Please see a bugfix
committed via [1] for the cherry-pick to stable/stein.

[1] https://review.opendev.org/#/c/665177/

Change-Id: If7fad9f24c7294c2d749fc3838b1fb71182930fc
Related-Bug: #1829769
(cherry picked from commit 885715855b19ec71ab362d92233478f3afb5a696)
(cherry picked from commit fd56198717e48fbffdbd867a0aa7173f5d0ed314)
"
openstack%2Fpuppet-tripleo~stable%2Fstein~If5a0861441c1c33431364f2a1f3d7d1296106159,openstack/puppet-tripleo,stable/stein,bug/1832335-stable/stein,If5a0861441c1c33431364f2a1f3d7d1296106159,Do not invoke host config in agent config,MERGED,2019-06-19 06:39:08.000000000,2019-06-20 16:45:09.000000000,2019-06-20 16:45:09.000000000,0,1,0,666234,d18937221d78a4a2d49a2eb4e10b5c595e4f55ca,13,5,1,1,21798,Bernard Cafarelli,bcafarel,"Do not invoke host config in agent config

The SR-IOV agent config was pulling in the host configuration which is
incorrect and will not work under certain conditions.

Change-Id: If5a0861441c1c33431364f2a1f3d7d1296106159
Closes-Bug: #1832335
(cherry picked from commit e9484ac78912cd0d403f0c2e931029afcecdbfd7)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I6c36cd15edfa53c3c76be9095ff40cecf451490d,openstack/tripleo-heat-templates,stable/stein,bug/1833019,I6c36cd15edfa53c3c76be9095ff40cecf451490d,Disable iscsi.service to avoid iscsid on host from getting started,MERGED,2019-06-17 23:40:08.000000000,2019-06-20 16:45:07.000000000,2019-06-20 16:45:07.000000000,7,0,0,665821,5e70fa86918e7274e8ea02e79fa7a32e2ac22741,32,9,2,1,9816,Takashi Kajinami,kajinamit,"Disable iscsi.service to avoid iscsid on host from getting started

When some stale shutdown happens on the node, iscsi.service detects
remaining information about iscsi connection, and recovers connections
based on the information, with starting iscsid service on host.
This causes a collision between iscsid on host and iscsid in container,
which makes iscsid container keep restarting.

This patch makes sure that iscsi.service on host is disabled
when we deploy iscsid container, to avoid iscsid on host is started
unexpectedly.

Change-Id: I6c36cd15edfa53c3c76be9095ff40cecf451490d
Closes-Bug: #1833019
(cherry picked from commit 0d67ecaf75d9375e2a88479514ce6cb7e910ec5e)
"
openstack%2Ftripleo-heat-templates~master~I1bd8e1a3fe0a44240bab941540703c39aa8446bd,openstack/tripleo-heat-templates,master,bug/1832441,I1bd8e1a3fe0a44240bab941540703c39aa8446bd,Remove get-occ-config.sh script for deployed server,MERGED,2019-06-12 06:14:54.000000000,2019-06-20 16:45:03.000000000,2019-06-20 16:45:03.000000000,0,224,0,664791,12c0f3a160f802a676166e11b7596a878531f168,9,6,1,2,8833,Rabi Mishra,rabi,"Remove get-occ-config.sh script for deployed server

Change-Id: I1bd8e1a3fe0a44240bab941540703c39aa8446bd
Partial-Bug: #1832441
"
openstack%2Freleases~master~I94fa41862d37aaf0535d64afd00b2bd55bb4649a,openstack/releases,master,fix-list-changes,I94fa41862d37aaf0535d64afd00b2bd55bb4649a,Fix regression in list-changes,MERGED,2019-06-20 14:01:09.000000000,2019-06-20 16:36:15.000000000,2019-06-20 16:36:15.000000000,51,50,0,666585,08cf70cbc6c8e170a342a7735f779156ac63dae2,9,2,2,3,308,Thierry Carrez,ttx,"Fix regression in list-changes

Recent merging of the liaison-loading code in list-changes makes
most list-changes job fail due to error in YAML loading code.

Beyond that YAML loading issue, the code assumes getting a dictionary
with team names as keys and an array of liaisons dictionary as values.
Fix the release_liaisons.yaml and schema to match.

Change-Id: I94fa41862d37aaf0535d64afd00b2bd55bb4649a
"
openstack%2Fsahara~master~I2d25d55b6e3e7474d162fe6d2e6b9e325089980b,openstack/sahara,master,slash,I2d25d55b6e3e7474d162fe6d2e6b9e325089980b,[Trivial fix]Remove unnecessary slash,MERGED,2019-05-06 09:38:34.000000000,2019-06-20 16:31:32.000000000,2019-06-20 16:31:32.000000000,1,2,0,657362,d17fd1d1ea79a36ad85d4aa5ea9e85f68cc8335b,24,4,1,1,20190,zhufl,zhufl,"[Trivial fix]Remove unnecessary slash

This is to remove the unncessary slash when the line doesn't
exceed the length of 79, to make the code more readable.

Change-Id: I2d25d55b6e3e7474d162fe6d2e6b9e325089980b
"
openstack%2Fkeystone~master~Ic3a09e3b25c20c5ac840f82631a1da1cbd1eb281,openstack/keystone,master,api-ref-fix,Ic3a09e3b25c20c5ac840f82631a1da1cbd1eb281,[api-ref] Fix nocatalog description for unscoped token,MERGED,2019-05-23 07:21:51.000000000,2019-06-20 16:30:04.000000000,2019-06-20 16:30:04.000000000,11,4,9,660902,a38dcfe99d1ce76b131b121cd1789c20987845ce,24,6,4,2,15054,wangxiyuan,wangxiyuan,"[api-ref] Fix nocatalog description for unscoped token

Unscoped token body never contains catalog, no matter the
nocatalog parameter is True or False.

This patch fixed the api-ref issue.

Change-Id: Ic3a09e3b25c20c5ac840f82631a1da1cbd1eb281
"
openstack%2Ftripleo-ansible~master~I8603f33ebddf9e032a43eec6192294f815d5591d,openstack/tripleo-ansible,master,role-addition,I8603f33ebddf9e032a43eec6192294f815d5591d,"Revert ""Revert ""Import the json_error callback from tripleo-common""""",MERGED,2019-06-19 17:38:58.000000000,2019-06-20 16:20:34.000000000,2019-06-20 16:20:33.000000000,337,0,1,666410,0a24b5f979c4ac0f4ba3969e9033b26036f475ef,14,6,3,14,7353,Kevin Carter,cloudnull,"Revert ""Revert ""Import the json_error callback from tripleo-common""""

Build dependency problems have been resolved with a change to the location where services are installed.

This reverts commit 8ebd012abc8bb39aded994badcffcd9eecbb9863

DependsOn: Iedbf9d1034ee3396d6cb064c64169c21ebcf3e18
Change-Id: I8603f33ebddf9e032a43eec6192294f815d5591d
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-ansible~master~Ia9fe61d1793537796ff3fff8caf07ea7ea0a9dfd,openstack/tripleo-ansible,master,role-addition,Ia9fe61d1793537796ff3fff8caf07ea7ea0a9dfd,Import tripleo-bootstrap role,MERGED,2019-06-19 13:33:32.000000000,2019-06-20 16:18:38.000000000,2019-06-20 16:18:38.000000000,519,0,0,666288,49f66705eb62eba4281416e5d247690a1a864e21,20,6,5,16,7353,Kevin Carter,cloudnull,"Import tripleo-bootstrap role

This change imports the tripleo-bootstrap role. Variables have been
broken-out into the new role structure which makes this role uniform
with other roles that have been created and imported.

* Molecule tests have been added to exercise this role on fed28 & cent7.

Change-Id: Ia9fe61d1793537796ff3fff8caf07ea7ea0a9dfd
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fswift~master~I7f88f61be9255072f7c901f84e6f2c7c5d540444,openstack/swift,master,remove_eventlet_install,I7f88f61be9255072f7c901f84e6f2c7c5d540444,Remove install eventlet from github,ABANDONED,2019-06-19 13:46:05.000000000,2019-06-20 16:16:46.000000000,,0,1,0,666290,d5a45308b6487c82859816844ee3714894a0d24a,7,4,1,1,9625,Thiago da Silva,thiago,"Remove install eventlet from github

Change-Id: I7f88f61be9255072f7c901f84e6f2c7c5d540444
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I1dabe448edfb118440b9ef1ee59c2e080d16ccf8,openstack/tripleo-heat-templates,stable/stein,bug/1831589,I1dabe448edfb118440b9ef1ee59c2e080d16ccf8,Put on hold the Ansible package update until is fixed,MERGED,2019-06-12 10:11:14.000000000,2019-06-20 16:14:40.000000000,2019-06-20 16:14:40.000000000,17,6,0,664849,126ab398169b49dfd2b4eeccb320a220268e6999,21,5,2,2,20775,Carlos Camacho,ccamacho,"Put on hold the Ansible package update until is fixed

Package update for Ansible breaks[1] with:
Ansible 2.7 crashes on apt upgrade
because it upgrades itself to 2.8:
""fragment_class is None""

[1]: https://github.com/ansible/ansible/issues/56636

Change-Id: I1dabe448edfb118440b9ef1ee59c2e080d16ccf8
Closes-Bug: 1831589
(cherry picked from commit 53650f9635bc3b911e368a894603d7d07e3dec6a)
"
openstack%2Ftripleo-docs~master~I94cdd2a77867bfda538dfa9e17cf32dd9b145987,openstack/tripleo-docs,master,fix_reproduce_part,I94cdd2a77867bfda538dfa9e17cf32dd9b145987,Fix the reproducer documentation.,MERGED,2019-05-02 13:17:07.000000000,2019-06-20 16:06:36.000000000,2019-06-20 16:06:36.000000000,59,38,0,656773,389da0cadca1b6aa4f73e9c5d0b05eb96a83f2e6,11,4,2,1,29222,Natal Ngétal,hobbestigrou,"Fix the reproducer documentation.

The reproducer have change the architecture. Review the documentation.

Change-Id: I94cdd2a77867bfda538dfa9e17cf32dd9b145987
"
openstack%2Ftripleo-ansible~master~I4e5bc7a27fdbe0f55f9670a74ef9ccac640837fa,openstack/tripleo-ansible,master,fixup-ci,I4e5bc7a27fdbe0f55f9670a74ef9ccac640837fa,Fix files list for existing roles,ABANDONED,2019-06-20 15:56:33.000000000,2019-06-20 16:05:02.000000000,,5,5,0,666620,575fd3cfadb75532a3ddbd9af19e1634ee82416d,2,0,1,1,14985,Alex Schultz,mwhahaha,"Fix files list for existing roles

When we fixed the CI config, we improperly removed tripleo_ansible from
the paths for the roles.

Change-Id: I4e5bc7a27fdbe0f55f9670a74ef9ccac640837fa
"
openstack%2Fnova-specs~master~Ibecee0d46e296813e90f855379a134b84d43a55f,openstack/nova-specs,master,bp/nova-cyborg-interaction,Ibecee0d46e296813e90f855379a134b84d43a55f,Nova Cyborg interaction specification.,MERGED,2018-09-20 02:33:47.000000000,2019-06-20 16:03:09.000000000,2019-06-20 16:03:09.000000000,473,0,676,603955,d0bae70b911d503384a321a162ced2100eb63218,135,20,15,1,21672,Sundar Nadathur,nsundar,"Nova Cyborg interaction specification.

Describes the Nova - Cyborg interaction needed to create and manage
instances with accelerators, and the changes needed in Nova to
accomplish that.

Change-Id: Ibecee0d46e296813e90f855379a134b84d43a55f
"
openstack%2Fbarbican-specs~master~I0167ce2bd8c6cee82aeb1ec332c09b77efe2eab3,openstack/barbican-specs,master,story/2005770,I0167ce2bd8c6cee82aeb1ec332c09b77efe2eab3,Secret Consumers,MERGED,2019-05-29 14:59:23.000000000,2019-06-20 15:53:14.000000000,2019-06-20 15:53:14.000000000,363,346,33,662013,69ac31c535633e2c061f0b88dccbd4d24b7ea86b,27,7,5,3,7973,Douglas Mendizábal,dougmendizabal,"Secret Consumers

Spec for implementing Consumers API on Secrets.

Story: 2005770
Task: 33487

APIImpact

Change-Id: I0167ce2bd8c6cee82aeb1ec332c09b77efe2eab3
"
openstack%2Fpython-blazarclient~stable%2Frocky~I08f8d82316e30a93ea431b070c70a348729bdc14,openstack/python-blazarclient,stable/rocky,reword-release-note,I08f8d82316e30a93ea431b070c70a348729bdc14,Reword release note to use style of other notes,ABANDONED,2018-07-26 13:49:55.000000000,2019-06-20 15:44:02.000000000,,5,8,0,586227,d7ec3b9ace75a278d8ce642f12f3c352fad06802,6,2,2,1,15197,Pierre Riteau,priteau,"Reword release note to use style of other notes

This patch also updates the link to keystoneauth1 code to use
git.openstack.org and point to a specific tag (I picked 3.4.0 which is
our lower constraint), so the link remains valid even if http.py is
renamed or deleted in future versions.

Change-Id: I08f8d82316e30a93ea431b070c70a348729bdc14
"
openstack%2Fopenstack-ansible-repo_server~master~I2b76a7ed792ee9c17816cce5f46b84eb588aedd6,openstack/openstack-ansible-repo_server,master,openstack-ansible-repo_server,I2b76a7ed792ee9c17816cce5f46b84eb588aedd6,Change the tests source to opendev,MERGED,2019-05-06 03:19:42.000000000,2019-06-20 15:35:37.000000000,2019-06-20 15:35:37.000000000,7,7,1,657309,9136da9015ec8e98b71228e956b5a82bd3033f2f,14,5,2,3,28613,tony_zhang,tonybrad,"Change the tests source to opendev

Change-Id: I2b76a7ed792ee9c17816cce5f46b84eb588aedd6
"
openstack%2Fkolla-ansible~stable%2Fstein~I10c82dc5f83653beb60ddb86d558c5602153341a,openstack/kolla-ansible,stable/stein,bug/1809469,I10c82dc5f83653beb60ddb86d558c5602153341a,Fix keystone fernet key rotation scheduling,MERGED,2019-06-18 18:04:01.000000000,2019-06-20 15:26:50.000000000,2019-06-20 15:26:50.000000000,239,98,0,666090,8e627c1eef5e7ef047cd3860d162a0e2a800e5ab,9,5,1,8,14826,Mark Goddard,mgoddard,"Fix keystone fernet key rotation scheduling

Right now every controller rotates fernet keys. This is nice because
should any controller die, we know the remaining ones will rotate the
keys. However, we are currently over-rotating the keys.

When we over rotate keys, we get logs like this:

 This is not a recognized Fernet token <token> TokenNotFound

Most clients can recover and get a new token, but some clients (like
Nova passing tokens to other services) can't do that because it doesn't
have the password to regenerate a new token.

With three controllers, in crontab in keystone-fernet we see the once a day
correctly staggered across the three controllers:

ssh ctrl1 sudo cat /etc/kolla/keystone-fernet/crontab
0 0 * * * /usr/bin/fernet-rotate.sh
ssh ctrl2 sudo cat /etc/kolla/keystone-fernet/crontab
0 8 * * * /usr/bin/fernet-rotate.sh
ssh ctrl3 sudo cat /etc/kolla/keystone-fernet/crontab
0 16 * * * /usr/bin/fernet-rotate.sh

Currently with three controllers we have this keystone config:

[token]
expiration = 86400 (although, keystone default is one hour)
allow_expired_window = 172800 (this is the keystone default)

[fernet_tokens]
max_active_keys = 4

Currently, kolla-ansible configures key rotation according to the following:

   rotation_interval = token_expiration / num_hosts

This means we rotate keys more quickly the more hosts we have, which doesn't
make much sense.

Keystone docs state:

   max_active_keys =
     ((token_expiration + allow_expired_window) / rotation_interval) + 2

For details see:
https://docs.openstack.org/keystone/stein/admin/fernet-token-faq.html

Rotation is based on pushing out a staging key, so should any server
start using that key, other servers will consider that valid. Then each
server in turn starts using the staging key, each in term demoting the
existing primary key to a secondary key. Eventually you prune the
secondary keys when there is no token in the wild that would need to be
decrypted using that key. So this all makes sense.

This change adds new variables for fernet_token_allow_expired_window and
fernet_key_rotation_interval, so that we can correctly calculate the
correct number of active keys. We now set the default rotation interval
so as to minimise the number of active keys to 3 - one primary, one
secondary, one buffer.

This change also fixes the fernet cron job generator, which was broken
in the following cases:

* requesting an interval of more than 1 day resulted in no jobs
* requesting an interval of more than 60 minutes, unless an exact
  multiple of 60 minutes, resulted in no jobs

It should now be possible to request any interval up to a week divided
by the number of hosts.

Change-Id: I10c82dc5f83653beb60ddb86d558c5602153341a
Closes-Bug: #1809469
(cherry picked from commit 6c1442c385450004dd253f3f464fe4336194be99)
"
openstack%2Fkolla-ansible~stable%2Fstein~I655da1102dfb4ca12437b7db0b79c9a61568f79e,openstack/kolla-ansible,stable/stein,bug/1809469-stable/stein,I655da1102dfb4ca12437b7db0b79c9a61568f79e,Add unit test for keystone fernet cron generator,MERGED,2019-06-18 18:02:21.000000000,2019-06-20 15:26:49.000000000,2019-06-20 15:26:49.000000000,154,0,0,666086,1a6e9f7e927ebb3c2f021befc3630f4279dbceb1,9,5,1,1,14826,Mark Goddard,mgoddard,"Add unit test for keystone fernet cron generator

Before making changes to this script, document its behaviour with a unit
test.

There are two major issues:

* requesting an interval of more than 1 day results in no jobs
* requesting an interval of more than 60 minutes, unless an exact
  multiple of 60 minutes, results in no jobs

Change-Id: I655da1102dfb4ca12437b7db0b79c9a61568f79e
Related-Bug: #1809469
(cherry picked from commit 25ac955a4e2645da29f8c7b807f0bac5afb43838)
"
openstack%2Fopenstack-virtual-baremetal~master~If3fd01fa7d8b006c527d905b637a688cc9ca7151,openstack/openstack-virtual-baremetal,master,,If3fd01fa7d8b006c527d905b637a688cc9ca7151,Adds pypi packages validation and upload,ABANDONED,2019-06-06 14:46:46.000000000,2019-06-20 15:26:33.000000000,,16,1,1,663692,b82815d59871ea99242132e0162bc4c77daecbc5,7,4,2,3,24162,Sorin Sbârnea,ssbarnea,"Adds pypi packages validation and upload

This adds validation of packaging and a `tox -e upload` option that
can be used to publish new versions.

It is key to lint packaging on each change in order to prevent changes
that could break it.

Change-Id: If3fd01fa7d8b006c527d905b637a688cc9ca7151
"
openstack%2Fsahara-tests~master~I2ae35e2a330ef4d10c359ae2231d7cc2b4ec2eb0,openstack/sahara-tests,master,doc-rally-fix,I2ae35e2a330ef4d10c359ae2231d7cc2b4ec2eb0,doc: update the references to rally commands,MERGED,2019-04-16 23:35:51.000000000,2019-06-20 15:26:26.000000000,2019-06-20 15:26:26.000000000,3,3,0,653172,bfe9cc155733a82f6587432252270a108cb84736,7,3,1,1,10459,Luigi Toscano,ltoscano,"doc: update the references to rally commands

Update the link to the relevant section of the Rally quick start guide
(with slightly better wording) and use the correct parameter of the
`rally verify start` command (--pattern replaced --regex long time ago).

Story: 2003099
Task: 23193
Change-Id: I2ae35e2a330ef4d10c359ae2231d7cc2b4ec2eb0
"
openstack%2Fpython-saharaclient~stable%2Fstein~I01660375c17938f1eb2920cf0d599083d3d300e1,openstack/python-saharaclient,stable/stein,,I01660375c17938f1eb2920cf0d599083d3d300e1,Py3: fix the OSC download job binary command,MERGED,2019-06-13 18:10:51.000000000,2019-06-20 15:26:23.000000000,2019-06-20 15:26:23.000000000,5,1,0,665198,564380af2e297c86d31af092fdbb64a735b2d669,8,4,1,2,10459,Luigi Toscano,ltoscano,"Py3: fix the OSC download job binary command

Story: 2005807
Task: 33546

Change-Id: I01660375c17938f1eb2920cf0d599083d3d300e1
(cherry picked from commit ac714f3c4700c235fe052a80edf5514a2e561fd8)
"
openstack%2Fldappool~master~Id9f496f57acd2d5a388920e6bdebe52c40a98073,openstack/ldappool,master,,Id9f496f57acd2d5a388920e6bdebe52c40a98073,Sync Sphinx requirement,MERGED,2019-06-18 16:38:25.000000000,2019-06-20 15:24:49.000000000,2019-06-20 15:24:49.000000000,11,5,2,666046,732fc6bec7dedc8e2755926b581a7943cdd455b8,12,3,3,4,28614,jacky06,jacky06,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Id9f496f57acd2d5a388920e6bdebe52c40a98073
"
openstack%2Frpm-packaging~master~Id3253e69a2eb225844fa7ca0a71185115abdc24f,openstack/rpm-packaging,master,got_junk,Id3253e69a2eb225844fa7ca0a71185115abdc24f,cleanup pyc/pyo files,ABANDONED,2019-06-19 22:46:50.000000000,2019-06-20 15:20:26.000000000,,4,0,1,666461,5747de273842243d6770c86fd8990214cbe85794,8,8,1,1,1916,Guang Yee,guang-yee,"cleanup pyc/pyo files

Horizon is relying on Django app registry to manage its plugins.
Django, in turn, is using Horizon's setting util to load
the app configurations.

https://github.com/openstack/horizon/blob/master/openstack_dashboard
/utils/settings.py

It basically uses pkgutil to load any kind of Python files under the
openstack_dashboard/enabled dir. However, if the package does not cleanup
its compiled Python files (i.e. pyc and pyo), it will lead to problems
during upgrade where the new package is using the same app lable that is
occupied by an old pyc/pyo file that got left behind. Therefore, sensible
thing to do would be to cleanup those old pyc/pyo files prior to running
manage.py.

Change-Id: Id3253e69a2eb225844fa7ca0a71185115abdc24f
"
openstack%2Fkeystonemiddleware~master~I41fe2b62a3607f172f8df9aa8e10c55ddde00e9a,openstack/keystonemiddleware,master,cap-bandit,I41fe2b62a3607f172f8df9aa8e10c55ddde00e9a,Cap bandit,ABANDONED,2019-06-19 21:09:18.000000000,2019-06-20 15:11:22.000000000,,1,1,0,666446,357d4892b9a1bc417b05cd435c4929d3bd92519c,6,3,1,1,8482,Colleen Murphy,krinkle,"Cap bandit

Pin bandit to <1.6.0 because subsequent releases don't work for us.

Change-Id: I41fe2b62a3607f172f8df9aa8e10c55ddde00e9a
"
openstack%2Fironic-python-agent~master~I2777422515eba03a134d9a85648fd08ac6f9d1d8,openstack/ironic-python-agent,master,,I2777422515eba03a134d9a85648fd08ac6f9d1d8,Add ipv6 modprobe config,ABANDONED,2019-06-14 21:37:15.000000000,2019-06-20 15:02:54.000000000,,4,0,0,665477,49932be46d8de9c0b691cc1e881684da8fe6cefa,6,3,1,2,11655,Julia Kreger,jkreger,"Add ipv6 modprobe config

Change-Id: I2777422515eba03a134d9a85648fd08ac6f9d1d8
Story: 2005886
Task: 33758
"
openstack%2Fglance~master~Ie5a4d8fb4c979c09eda2fdc0fad0baa1d1840c59,openstack/glance,master,flakytests,Ie5a4d8fb4c979c09eda2fdc0fad0baa1d1840c59,Windows: fix flaky tests,MERGED,2019-03-14 13:50:39.000000000,2019-06-20 14:58:29.000000000,2019-06-20 14:58:29.000000000,44,16,0,643336,8fe78170e495906e1f5346829b55b1e9fdab6ee8,24,7,7,5,8543,Lucian Petrut,plucian,"Windows: fix flaky tests

Some tests compare timestamps (e.g. image created_at/updated_at
fields).

In some cases, subsequent timestamps may be identical, breaking the
assertions made by those tests.

One idea is to just add a 1ms sleep which should be a negligeable.
Mocking the functions used to retrieve timestamps may be undesireable.

For now, we'll do this only for Windows, where time.time has a lower
resolution compared to Linux (1e-7 as opposed to 1e-9).

At the same time, socket timeouts are rather inconsistent on Windows.
When a timeout is hit, recv may either throw ConnectionAbortedError
*or* return nothing. This needs to be taken into account when
expecting socket timeouts.

Change-Id: Ie5a4d8fb4c979c09eda2fdc0fad0baa1d1840c59
"
openstack%2Fdragonflow~master~I00d80d58ededc0fd4b08ed137addabc97dbec145,openstack/dragonflow,master,fix_gate,I00d80d58ededc0fd4b08ed137addabc97dbec145,Move failing check jobs to experimental,MERGED,2019-06-20 07:17:22.000000000,2019-06-20 14:47:29.000000000,2019-06-20 14:47:29.000000000,14,11,0,666501,c30c0b34a5c4823579c4cb14f1e38d87549e22cf,10,5,1,1,17880,Shachar Snapiri,snapiri,"Move failing check jobs to experimental

There are currently 4 check jobs that are contantly failing.
These jobs both make the check take longer and waste compute power during build.
I have moved them to experimental, and once we get them to not fail, we can
move them back to their place at the check queue.

Change-Id: I00d80d58ededc0fd4b08ed137addabc97dbec145
"
openstack%2Fdragonflow~master~I8d8f507f57ccb72a73f8d2f620995809c23c4d8e,openstack/dragonflow,master,ci_config_link,I8d8f507f57ccb72a73f8d2f620995809c23c4d8e,Update CI job configuration link,MERGED,2019-06-19 18:44:33.000000000,2019-06-20 14:47:28.000000000,2019-06-20 14:47:28.000000000,8,8,0,666416,5a815ee71da3efe7381f8f1cc9910f1070d24403,11,5,1,8,17880,Shachar Snapiri,snapiri,"Update CI job configuration link

In the devstack gate rc files, the link to the dragonflow CI configuration
file was wrong (actually for quite a long time now).
Updated the link to the correct location.

Change-Id: I8d8f507f57ccb72a73f8d2f620995809c23c4d8e
"
openstack%2Fheat-templates~master~Ic08fa9c2918243296bd72bf05ca43dfade4b24f9,openstack/heat-templates,master,,Ic08fa9c2918243296bd72bf05ca43dfade4b24f9,Add example for running Zun container,MERGED,2019-06-08 22:19:01.000000000,2019-06-20 14:45:22.000000000,2019-06-20 14:45:22.000000000,61,0,0,664146,e3b5a525b50367c761d909cd7749270fd970be04,8,10,2,1,11536,hongbin,hongbin,"Add example for running Zun container

Change-Id: Ic08fa9c2918243296bd72bf05ca43dfade4b24f9
"
openstack%2Fpuppet-keystone~master~I82e573ca66af4485303ec9c0040e2e0063d93585,openstack/puppet-keystone,master,,I82e573ca66af4485303ec9c0040e2e0063d93585,Dont empty out a symlink,MERGED,2019-06-17 22:58:46.000000000,2019-06-20 14:40:28.000000000,2019-06-20 14:40:27.000000000,0,8,0,665774,5b5e713378f15d97c0c0c149f0d8807d87417bf7,8,4,1,2,16137,Tobias Urdin,tobasco,"Dont empty out a symlink

Modifying the content of this symlink will just
cause a warning and not do anything since the
sites-available file is empty already.

Change-Id: I82e573ca66af4485303ec9c0040e2e0063d93585
"
openstack%2Fopenstack-helm~master~Ib9253611df08257f2b418a0d9e5e817a232c011b,openstack/openstack-helm,master,reno/add-reno,Ib9253611df08257f2b418a0d9e5e817a232c011b,Make reno and docs conform to cookiecutter,ABANDONED,2018-04-23 01:20:46.000000000,2019-06-20 14:37:18.000000000,,628,243,1,563481,806b01885c548b914da7f1a491992fbced2637b4,21,6,7,43,22477,Matt McEuen,mattmceuen,"Make reno and docs conform to cookiecutter

This patch adds release notes management to OSH [1].

When using the standard dependencies, the documentation's conf.py
had to be adapted to remove oslophinx.

While going over documentation to adapt those changes, I could
apply doc8, which is now included when running `tox -e docs`.
This now enforces documentation quality in the gates.

The documentation was therefore made doc8 compliant, mostly by
replacing tabs to spaces, and ensuring the line length didn't
exceed the recommended 79 chars, which was practically already
applied in most files, with a few exceptions fixed here.

[1]: https://docs.openstack.org/project-team-guide/release-management.html#managing-release-notes

Co-Authored-By: Jean-Philippe Evrard <jean-philippe@evrard.me>
Change-Id: Ib9253611df08257f2b418a0d9e5e817a232c011b
"
openstack%2Fswift~master~I8b56231aef41076a224dc62cd93c1973355c4670,openstack/swift,master,,I8b56231aef41076a224dc62cd93c1973355c4670,s3api: stop adding etag quotes when there are already etag quotes,MERGED,2019-05-20 21:10:57.000000000,2019-06-20 14:29:08.000000000,2019-06-20 14:27:58.000000000,21,7,0,660211,350bc8cbee515e9bb01e57c991851692e7fe0dd1,23,5,1,2,15343,Tim Burke,tburke,"s3api: stop adding etag quotes when there are already etag quotes

Some middleware, such as that included with ProxyFS, may put
RFC-compliant ETags in container listings; we should leave those
unquoted, so we don't double-up on quotes.

Change-Id: I8b56231aef41076a224dc62cd93c1973355c4670
"
openstack%2Fnova~master~I3b3ac36b84f087f7a2d644706feac886cded18f4,openstack/nova,master,log-disk-transfer-stats,I3b3ac36b84f087f7a2d644706feac886cded18f4,Log disk transfer stats in live migration monitor.,MERGED,2018-11-22 02:11:25.000000000,2019-06-20 14:27:53.000000000,2019-06-20 14:27:52.000000000,18,3,7,619395,9570e75752e047f9960ea919edd195a749714e84,133,26,6,1,25113,Fan Zhang,fanzhang,"Log disk transfer stats in live migration monitor.

Current logs in live migration monitor only show the
memory transfer stats, but sometimes we also want to
see the disk transfer stats from log rather than by
some other ways like `nova server-migration-show` or
`virsh domjobinfo`.

Note that we don't include disk transfer stats in
the progress percentage calculation, just log them.

Change-Id: I3b3ac36b84f087f7a2d644706feac886cded18f4
Signed-off-by: Fan Zhang <zh.f@outlook.com>
"
openstack%2Fproject-config~master~Ic5f4b279e7222e9ec242aeb80e69612d2e6ef70f,openstack/project-config,master,dev/arnaud.morin/reduce_ovh_bhs1_pool_size,Ic5f4b279e7222e9ec242aeb80e69612d2e6ef70f,Reduce OVH BHS1 pool size to 120,MERGED,2019-06-20 08:37:29.000000000,2019-06-20 14:25:22.000000000,2019-06-20 14:25:22.000000000,1,1,0,666518,e2100145fe507f75e5430c375b3a85383ab29357,8,3,1,1,11583,Arnaud Morin,arnaudmorin,"Reduce OVH BHS1 pool size to 120

OVH is having issues on some hypervisors on OSF aggregate.
As a result, the others hypervisors are under heavy load and some
instances are not able to boot correctly.
To avoid this, I propose to reduce the number of instance to 120 for a
while.

Change-Id: Ic5f4b279e7222e9ec242aeb80e69612d2e6ef70f
Signed-off-by: Arnaud Morin <arnaud.morin@gmail.com>
"
openstack%2Fnova~master~Ib1e2cfcca014cbb005ba2c06ef2e00148fc22091,openstack/nova,master,IPv6-support-and-testing,Ib1e2cfcca014cbb005ba2c06ef2e00148fc22091,cell_mapping - wrap IPv6 address in format_url,ABANDONED,2019-06-11 11:46:33.000000000,2019-06-20 14:21:08.000000000,,69,3,19,664559,713480e93d8f5cb605088fc29ad7746d9b86f8f4,78,17,6,3,24245,Harald Jensås,harald.jensas,"cell_mapping - wrap IPv6 address in format_url

The urlparse library removes brackets the user placed in
CONF.database.connection which is passed in as 'default'.

This change ensures that _format_url function will wrap an
IPv6 address 'hostname' in the connection url in brackets.

To ensure compatibility with existing templated cell mapping
urls that include the brackets, any '[{hostname}]' substring
in a database_connection is replaced with '{hostname}'.

Closes-Bug: #1831315
Change-Id: Ib1e2cfcca014cbb005ba2c06ef2e00148fc22091
"
openstack%2Fsahara~master~I146e6d92008409ce219b18caaaa643c7f4496054,openstack/sahara,master,fix-auth-uri,I146e6d92008409ce219b18caaaa643c7f4496054,Update keystone_authtoken config reference,MERGED,2019-06-12 22:37:36.000000000,2019-06-20 14:14:45.000000000,2019-06-20 14:14:45.000000000,9,9,1,665030,113382e9a65f1f6d68bbfb4fcc956b749c01e174,12,4,2,1,8482,Colleen Murphy,krinkle,"Update keystone_authtoken config reference

The auth_uri parameter of keystonemiddleware was renamed to
'www_authenticate_uri'[1], so update the documentation accordingly.
Additionally, the identity_uri parameter was deprecated in favor of
using a keystoneauth plugin[2], so this change updates the documentation
to point to the plugin parameters. Finally, the keystone v2 API was
dropped[3], so reference the v3 API.

[1] https://review.opendev.org/508522
[2] https://review.opendev.org/127066
[3] https://review.opendev.org/572846

Change-Id: I146e6d92008409ce219b18caaaa643c7f4496054
"
openstack%2Fansible-role-tripleo-modify-image~master~Iea8822084988b23652e6d3f8b5828c05734158af,openstack/ansible-role-tripleo-modify-image,master,yum_update_repoquery,Iea8822084988b23652e6d3f8b5828c05734158af,Use 'dnf repoquery' when system uses DNF,MERGED,2019-06-12 12:23:56.000000000,2019-06-20 14:13:19.000000000,2019-06-16 22:33:51.000000000,11,4,2,664872,8fa6dd7ddee52d1d524aabba5756356412099dab,34,10,1,1,4978,Julie Pichon,jpichon,"Use 'dnf repoquery' when system uses DNF

repoquery is part of dnf so we can use 'dnf repoquery' directly rather
than install dnf-utils, which isn't installed by default on e.g. RHEL8.

When using yum, command -v repoquery will still be used as it was
before this update.

Change-Id: Iea8822084988b23652e6d3f8b5828c05734158af
"
openstack%2Fmistral~master~I6e0d9db93e103eaf3a329dfa1b4153975c135008,openstack/mistral,master,,I6e0d9db93e103eaf3a329dfa1b4153975c135008,Fix workflow execution cascade delete error,MERGED,2019-06-11 07:24:51.000000000,2019-06-20 13:58:49.000000000,2019-06-20 13:58:49.000000000,120,6,16,664509,f5f9a1dffdc7a794879aaf5ba6e6684d750b5971,50,8,11,3,21970,Andras Kovi,andras.kovi,"Fix workflow execution cascade delete error

If the cascade deletion error is identified, then resort to
recursively deleting the subworkflows before deleting the
given execution.

Closes-Bug: https://bugs.launchpad.net/mistral/+bug/1832300
Change-Id: I6e0d9db93e103eaf3a329dfa1b4153975c135008
"
openstack%2Fironic-ui~master~I7970feb7d3c1f4786f6ddc6cca29a0c430875329,openstack/ironic-ui,master,Bug#5,I7970feb7d3c1f4786f6ddc6cca29a0c430875329,Add nodejs10 jobs on bionic,MERGED,2019-06-20 06:03:09.000000000,2019-06-20 13:53:49.000000000,2019-06-20 13:53:49.000000000,1,0,0,666493,62e4f97c484c3e67115a67373b08d1d3bc3db0a5,7,10,1,1,27822,pengyuesheng,pengyuesheng,"Add nodejs10 jobs on bionic

Depends-On: https://review.openstack.org/643625

Change-Id: I7970feb7d3c1f4786f6ddc6cca29a0c430875329
"
openstack%2Fansible-role-redhat-subscription~master~Id53ebefff1f992781171a1e760fbf5306020cb56,openstack/ansible-role-redhat-subscription,master,bug/1833519,Id53ebefff1f992781171a1e760fbf5306020cb56,Rename rhsm_repository module to avoid conflict.,MERGED,2019-06-20 09:34:14.000000000,2019-06-20 13:52:53.000000000,2019-06-20 13:52:53.000000000,10,6,0,666528,93dbc5167dcce4a722760961d9356b0907bde274,10,4,2,2,26343,Jose Luis Franco,jfrancoa,"Rename rhsm_repository module to avoid conflict.

The rhsm_repository is now part of the Ansible installation,
however, the version used inside the redhat_subscription role
contains changes the defaul module from Ansible doesn't contain.

As a consequence, if in the playbook execution, some task makes
use of the rhsm_repository module Ansible will locate it inside
its default module libraries and when we get to the point of invoking
the module from ansible-role-redhat-subscription/tasks/portal.yml
it will find out that the module is already loaded and make use
of the Ansible one, instead of the module stored under library/
rhsm_repository.py. This is a temporary solution until we'll update
into Ansible 2.8 for queens and rocky, then both modules will be
in sync and the one from ansible-role-redhat-subscription/library
could be removed.

Change-Id: Id53ebefff1f992781171a1e760fbf5306020cb56
Closes-Bug: #1833519
"
openstack%2Fkolla~stable%2Fqueens~I8ae19f212049cae5dfb4e8dd6ec6cd14a8c46e0e,openstack/kolla,stable/queens,clean-reqs-stable/queens,I8ae19f212049cae5dfb4e8dd6ec6cd14a8c46e0e,Fix lower-constraints test fail due to failing dep build,MERGED,2019-06-14 16:38:28.000000000,2019-06-20 13:50:26.000000000,2019-06-20 13:50:26.000000000,2,2,0,665432,bd5ca648d893a911d40040c2d60c23da73bf0772,19,5,2,2,30491,Radosław Piliszek,yoctozepto,"Fix lower-constraints test fail due to failing dep build

Ubuntu Bionic updated OpenSSL package to new release:
from 1.1.0 to 1.1.1
It caused cryptography in version from lower-constraints
to fail to build in Zuul.
Additionally, constrained cryptography version did not
match the requirement for constrained PyOpenSSL.
This commit bumps the version to the minimum required
by constrained PyOpenSSL.
It works because manylinux1 (binary) wheel exists.
This version agrees also with upper-constraints for Queens.

Dependency on cryptography is removed as it is not used directly
by kolla (and requirements checker requires lower-constraints
matching version - let's not create an illusion of usage).

For stable/stein additionally fix version of sphinx to pass CI.

For stable/{rocky,queens} this does not necessarily affect CI but
may affect local testing and/or docs generation.

Adapted for stable/queens which has no lower-constraints nor
doc/requirements.txt

Change-Id: I8ae19f212049cae5dfb4e8dd6ec6cd14a8c46e0e
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 39a2cf066c4c79436629017155302d36243aa338)
"
openstack%2Fkolla-ansible~master~Iee30bc0d2c30afcc2ccdb92024533b3ba72b5168,openstack/kolla-ansible,master,,Iee30bc0d2c30afcc2ccdb92024533b3ba72b5168,Remove the unnecessary default value,ABANDONED,2018-05-15 13:15:07.000000000,2019-06-20 13:33:06.000000000,,1,1,2,568583,212e62095b58121c78de92db615f11ba3e99b2f7,10,6,2,1,22165,caoyuan,caoyuan,"Remove the unnecessary default value

Change-Id: Iee30bc0d2c30afcc2ccdb92024533b3ba72b5168
"
openstack%2Fkolla-ansible~master~I4e078dd1307ab14ba2f8d05a13410c8658ad69be,openstack/kolla-ansible,master,,I4e078dd1307ab14ba2f8d05a13410c8658ad69be,Add the RC info export for magnum demos,ABANDONED,2018-04-22 15:00:30.000000000,2019-06-20 13:32:30.000000000,,7,0,2,563469,c50ee2b7b7bd7477f0033f270ddf9272d3ce0ef6,21,12,3,1,22165,caoyuan,caoyuan,"Add the RC info export for magnum demos

the RC infomation must be export into the env, or
the openstack command will be failed.

Change-Id: I4e078dd1307ab14ba2f8d05a13410c8658ad69be
"
openstack%2Fopenstack-ansible-os_cinder~stable%2Frocky~Id654f07d18269f621df203b0808b69a75b13bc12,openstack/openstack-ansible-os_cinder,stable/rocky,bug/1792761-stable/rocky,Id654f07d18269f621df203b0808b69a75b13bc12,Switch include to include_tasks or import_playbook,ABANDONED,2018-10-23 04:59:29.000000000,2019-06-20 13:32:18.000000000,,15,19,0,612596,f04d0d1d9c238d5291c2b68585743824189e0ae2,7,3,1,3,22165,caoyuan,caoyuan,"Switch include to include_tasks or import_playbook

include is marked as deprecated since ansible 2.4[0]

Switch to include_tasks or import_playbook as necessary

[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated

Change-Id: Id654f07d18269f621df203b0808b69a75b13bc12
Closes-Bug: #1792761
(cherry picked from commit d3a91554f97bffbbc4783bac09f6d5a5a4f30e94)
"
openstack%2Fkolla-ansible~master~I88539fea0a9eb809f12b6b77ea5a8f63dbf27778,openstack/kolla-ansible,master,bp/sanity-check-container,I88539fea0a9eb809f12b6b77ea5a8f63dbf27778,Add neutron sanity check into kolla-ansible,ABANDONED,2017-04-02 03:31:15.000000000,2019-06-20 13:32:15.000000000,,82,0,5,452506,8a8c503401a80cf13252318e784df1a0b0c225c7,39,13,5,3,22165,caoyuan,caoyuan,"Add neutron sanity check into kolla-ansible

1. create a test network
2. create a subnet belong to test
3. add a interface into router with wait is true

Change-Id: I88539fea0a9eb809f12b6b77ea5a8f63dbf27778
Partially-implements: blueprint sanity-check-container
"
openstack%2Fopenstack-helm-infra~master~I0de2c4ddc6b64f112c5e1f5d67856f4480a3d325,openstack/openstack-helm-infra,master,,I0de2c4ddc6b64f112c5e1f5d67856f4480a3d325,use include_tasks instead of include,ABANDONED,2018-09-08 12:20:03.000000000,2019-06-20 13:32:10.000000000,,8,8,0,600911,1503f4adb87870dcdf1ba96dc904954f08ac5400,11,3,3,6,22165,caoyuan,caoyuan,"use include_tasks instead of include

include is marked as deprecated since ansible 2.4[0]

Switch to include_tasks or import_playbook as necessary

[0] https://docs.ansible.com/ansible/2.4/include_module.html#deprecated

Change-Id: I0de2c4ddc6b64f112c5e1f5d67856f4480a3d325
"
openstack%2Fkolla-ansible~master~I79f589a76c2e8ebbbe7fc117416a58645a6643e2,openstack/kolla-ansible,master,bp/mount-sources,I79f589a76c2e8ebbbe7fc117416a58645a6643e2,Add the wait parameter to wait the tasks completed,ABANDONED,2018-04-12 16:39:10.000000000,2019-06-20 13:32:06.000000000,,5,0,5,560965,a6cd56e3ea39f04a1e775025186d68055cb90db6,24,5,8,3,22165,caoyuan,caoyuan,"Add the wait parameter to wait the tasks completed

when the wait is true, ansible(shade) will wait the
status become available (for cinder volume, the others
is similar)

Change-Id: I79f589a76c2e8ebbbe7fc117416a58645a6643e2
"
openstack%2Fneutron~master~I92ea0624cb2ac114a17fc9acd93854ab02cf3cfc,openstack/neutron,master,update-ubuntu-image,I92ea0624cb2ac114a17fc9acd93854ab02cf3cfc,Update Ubuntu image used for testing,ABANDONED,2019-06-17 10:30:40.000000000,2019-06-20 13:30:13.000000000,,1,1,4,665640,b9db05a0505d0827a3ee6ecdc21a205cd7be3740,18,8,4,1,935,James Page,james-page,"Update Ubuntu image used for testing

Update Ubuntu image used for testing; previous image was more than
a year old and has been removed from cloud-images.ubuntu.com.

Change-Id: I92ea0624cb2ac114a17fc9acd93854ab02cf3cfc
"
openstack%2Fproject-team-guide~master~I9aa3b2c4ce636d94bdf1320b8eaf28af113fc036,openstack/project-team-guide,master,stestr,I9aa3b2c4ce636d94bdf1320b8eaf28af113fc036,Document running tests with stestr,MERGED,2019-06-19 12:13:46.000000000,2019-06-20 13:25:28.000000000,2019-06-20 13:25:28.000000000,59,26,27,666273,3d79a1f13d6b66c0516a2c78be7e5f2ecedf66e5,27,9,4,1,2394,Adam Spiers,adam.spiers,"Document running tests with stestr

Use of stestr is increasingly common within OpenStack:

    http://lists.openstack.org/pipermail/openstack-dev/2017-September/122135.html

so document how to use it ahead of the docs for testr and nose, and
add deprecation notices to the latter two.

Also apply some minor formatting tweaks in the same context.

Change-Id: I9aa3b2c4ce636d94bdf1320b8eaf28af113fc036
"
openstack%2Fopenstack-helm-infra~master~Ifbb9f4734beb462650299ebee671bc099b086bf8,openstack/openstack-helm-infra,master,update-ingress-start,Ifbb9f4734beb462650299ebee671bc099b086bf8,Ingress: Remove prometheus-nginx.socket on start,ABANDONED,2019-06-13 19:04:05.000000000,2019-06-20 13:15:29.000000000,,1,0,0,665216,c27f6fd17a6fad9be1f624836a47d5958e457992,8,6,1,1,17591,Steve Wilkerson,srwilkers,"Ingress: Remove prometheus-nginx.socket on start

This updates the ingress chart's start script to remove any
prexisting prometheus-nginx.socket files. This was done to address
issues seen when nodes are rebooted and when ingress pods were
forcibly deleted, where the rescheduled pods wouldn't be able to
mount the socket for exposing prometheus metrics due to the socket
from the previous pod still existing. This behavior was seen when
the pod is run as a daemonset on each host

Change-Id: Ifbb9f4734beb462650299ebee671bc099b086bf8
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fkuryr-kubernetes~master~Ic148020d1a0ec98150d8c61b21bbbe44b7be2075,openstack/kuryr-kubernetes,master,lower-constraints-gate,Ic148020d1a0ec98150d8c61b21bbbe44b7be2075,Add Tempest gate with lower-constraints,MERGED,2019-06-05 15:49:38.000000000,2019-06-20 12:43:57.000000000,2019-06-20 12:43:57.000000000,23,9,0,663371,1ec05b5581af26ee5e3ea404de1479b30f693e89,44,5,5,6,11600,Michał Dulko,dulek,"Add Tempest gate with lower-constraints

Numerous times we hit issues when testing packaged versions of Kuryr
that use dependencies with versions between our lower-constraints.txt
and global requirements/upper-constraints.txt. Each time we found
issues and that's because our lower-constraints gate was not functional.
To further increase test coverage of lower-constraints this commit adds
a functional gate that will run Kuryr with old dependencies.

This is implemented by simply overwriting UPPER_CONSTRAINTS_FILE
build-arg when building Kuryr containers.

Besides that cotyledon's minimum version is raised to 1.5.0 as we're
actively using a feature added back then (it was in late 2016, so we
should be safe here).

Change-Id: Ic148020d1a0ec98150d8c61b21bbbe44b7be2075
"
openstack%2Fmistral~master~I5cb144903cd2abb6eecfe32a13da4a2ebf7db3dc,openstack/mistral,master,rework_getting_upstream_tasks,I5cb144903cd2abb6eecfe32a13da4a2ebf7db3dc,Optimize finding upstream task executions,MERGED,2019-06-16 18:17:08.000000000,2019-06-20 12:42:46.000000000,2019-06-20 12:42:46.000000000,17,17,4,665553,b0fb101c47d0984cdcd34cb6c48ece066c82599e,17,5,1,1,11391,Mikhail Fedosin,fedosinme,"Optimize finding upstream task executions

This commit introduces next optimizations:
1. No need to send a request if the list of inbound tasks is empty.
2. Instead of checking already downloaded tasks, it is more reasonable
to add filters to the request.
3. Generation of task execution cache is meaningless here, because
we only check the nearest tasks without going up the graph.

Change-Id: I5cb144903cd2abb6eecfe32a13da4a2ebf7db3dc
"
openstack%2Fdragonflow~master~Ic8d4ac21906dd78159375a51fc7514f8d664f22a,openstack/dragonflow,master,sphinx_requirements,Ic8d4ac21906dd78159375a51fc7514f8d664f22a,Sync Sphinx requirement,MERGED,2019-06-18 15:37:27.000000000,2019-06-20 12:35:10.000000000,2019-06-20 12:35:10.000000000,7,7,0,666025,624fb58fc09a24bc793c12840d0fde32a7ab21a1,14,5,1,3,28614,jacky06,jacky06,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Remove unncessary ""==""

Change-Id: Ic8d4ac21906dd78159375a51fc7514f8d664f22a
"
openstack%2Fplacement~master~Id0eca721d850d849c7a273683c7f393e5a216682,openstack/placement,master,fix-suse,Id0eca721d850d849c7a273683c7f393e5a216682,Update SUSE install documentation,MERGED,2019-06-19 17:28:27.000000000,2019-06-20 12:35:09.000000000,2019-06-20 12:35:09.000000000,3,3,0,666408,99242b83eedb9f1998a5e61ff26ff07feedf951f,13,6,2,1,8482,Colleen Murphy,krinkle,"Update SUSE install documentation

openSUSE and SLES have Placement packages, but they are named slightly
differently and the default Apache configuration is slightly different
than what was documented. See the package definition in OBS[1]. This
patch makes those corrections.

[1] https://build.opensuse.org/package/show/Cloud:OpenStack:Stein/openstack-placement

Change-Id: Id0eca721d850d849c7a273683c7f393e5a216682
"
openstack%2Fplacement~master~I4aee9de5b19045e6e773349e8f77ccb7f359d360,openstack/placement,master,story/2005918,I4aee9de5b19045e6e773349e8f77ccb7f359d360,Remove overly-verbose allocation request log,MERGED,2019-06-19 13:03:17.000000000,2019-06-20 12:35:06.000000000,2019-06-20 12:35:06.000000000,0,2,1,666281,e1aec515f621291a6bf76a32f106e9dcc285985f,14,5,1,1,11564,Chris Dent,chdent,"Remove overly-verbose allocation request log

In I952d5229d6c40588cde6197683117a7e19127939 an ""got %d
allocation requests under root provider %s"" log message was added.
It reports a log line for every allocation request under every
root provider in the candidates. In a large but sparsely used
cloud this generates a large number of log lines (see the identified
story for more details and links to examples), well more than 75%
of the lines in a log.

The information added by this particular line is not nearly as
useful as the other lines added in the change identified above.
So here, in this change, it is removed.

Change-Id: I4aee9de5b19045e6e773349e8f77ccb7f359d360
Story: 2005918
Task: 34179
"
openstack%2Fcharm-nova-compute~master~I095104f535c1eae1554f842502ae93ebb92e44fe,openstack/charm-nova-compute,master,improve-ssh-key-management,I095104f535c1eae1554f842502ae93ebb92e44fe,Refactor import_authorized_keys() function for performance,MERGED,2019-06-19 16:09:17.000000000,2019-06-20 12:20:59.000000000,2019-06-20 12:20:58.000000000,59,64,0,666374,2e2d19f7c73f4ccf7eae0f348b44e0ee809b3bda,9,4,1,2,20870,Alex Kavanagh,ajkavanagh,"Refactor import_authorized_keys() function for performance

The main change is to fetch all of the relation_data() at once, and then
iterate through the python dictionary.  This speeds up processing of
potentially hundreds of hosts and authorized_keys.

Change-Id: I095104f535c1eae1554f842502ae93ebb92e44fe
Related-Bug: #1833420
"
openstack%2Ftripleo-quickstart~master~I36df81e2c8839f54abf8556e011c026ea505fcdb,openstack/tripleo-quickstart,master,molecule,I36df81e2c8839f54abf8556e011c026ea505fcdb,Adds validation of release config files,MERGED,2019-04-04 10:31:13.000000000,2019-06-20 12:18:11.000000000,2019-06-20 12:18:11.000000000,74,67,35,649965,88cd2c59512a326d962dc2e16cadb3bd37a71c91,157,16,40,9,24162,Sorin Sbârnea,ssbarnea,"Adds validation of release config files

This adds tests for release config images which would run as part of
the existing tox-molecule job.

While this first version of release-config validation is calling
ansible directly, we could consider migrating it to molecule when the
need arises (like adding tests which need to run on specific platforms)

This also points the missing fedora28 images to centos7 until we get
them fixed (or remove the configs).

This replace old molecule test discovery code which is now done by
pytest-molecule plugin.

Story: https://tree.taiga.io/project/tripleo-ci-board/task/979
Change-Id: I36df81e2c8839f54abf8556e011c026ea505fcdb
Depends-On: https://review.opendev.org/#/c/666220/
"
openstack%2Ftripleo-heat-templates~master~I1ce38ea3ef6ba40625adc8da90903aac397cf60e,openstack/tripleo-heat-templates,master,live_migration_wait_for_vif_plug,I1ce38ea3ef6ba40625adc8da90903aac397cf60e,Add new parameter NovaLiveMigrationWaitForVIFPlug,MERGED,2019-06-17 05:22:28.000000000,2019-06-20 12:18:09.000000000,2019-06-20 12:18:09.000000000,25,0,2,665580,825b30eb28f7e9dd3434625e5b43dd7cea08d21d,30,11,2,2,20733,Rajesh Tailor,rajesht,"Add new parameter NovaLiveMigrationWaitForVIFPlug

Add parameter NovaLiveMigrationWaitForVIFPlug which allows to set
`compute/live_migration_wait_for_vif_plug` which in turn allows
whether to wait for ``network-vif-plugged`` events before
starting guest transfer.

The default value for the parameter is set to true and it is
set to false when `ovn` is in `NeutronMechanismDrivers` list.

Depends-On: I0048d1f57eeb3418b52f225f87810ea1a7250a0f
Change-Id: I1ce38ea3ef6ba40625adc8da90903aac397cf60e
"
openstack%2Fironic-python-agent-builder~master~I49069292375c90c383e43d8162912b8eb2cf6ead,openstack/ironic-python-agent-builder,master,add_tinyipa_CI_job,I49069292375c90c383e43d8162912b8eb2cf6ead,Adding two tinyipa CI jobs in ironic-python-agent-builder,MERGED,2019-06-18 16:56:55.000000000,2019-06-20 12:10:33.000000000,2019-06-20 12:10:33.000000000,29,0,11,666055,bb4acb965026d385e8c577e7e4930a750fe85778,29,5,7,1,30099,Nisha Brahmankar,nishagb,"Adding two tinyipa CI jobs in ironic-python-agent-builder

Change-Id: I49069292375c90c383e43d8162912b8eb2cf6ead
Task: 34171
Story: 2005114
"
openstack%2Ftripleo-common~stable%2Frocky~Ib989bd673c694a9dc5af2a4a63ed84888f102a50,openstack/tripleo-common,stable/rocky,bug/1832509,Ib989bd673c694a9dc5af2a4a63ed84888f102a50,Increase timeout of temp swift URLs from 1 to 4 hours,MERGED,2019-06-17 13:42:58.000000000,2019-06-20 11:56:22.000000000,2019-06-20 11:56:22.000000000,1,1,0,665671,a7eccfdf1d520825010f76b6cd0eab34e30c5610,9,4,1,1,18002,John Fulton,fultonj,"Increase timeout of temp swift URLs from 1 to 4 hours

It can take longer than 1 hour for a temporary swift
URL which stores the backup of the fetch directory to
be created vs used. Increase the timeout from 1 hour
to 4 hours so that the URL does not expire before it
is used.

Change-Id: Ib989bd673c694a9dc5af2a4a63ed84888f102a50
Fixes-Bug: #1832509
(cherry picked from commit 8f2e1064a2473a8218056ecfd932c714b11e0fe6)
"
openstack%2Fkayobe~master~I5489f4668dc9093fba0231fe8abf25fbb8247a67,openstack/kayobe,master,,I5489f4668dc9093fba0231fe8abf25fbb8247a67,DNM: Debug seed deploys,ABANDONED,2019-04-15 15:06:30.000000000,2019-06-20 11:55:12.000000000,,0,14,0,652688,6a859d2c77fc99a8a85a3b04258a25770cc2b0a7,12,2,4,1,14826,Mark Goddard,mgoddard,"DNM: Debug seed deploys

Change-Id: I5489f4668dc9093fba0231fe8abf25fbb8247a67
Depends-On: https://review.opendev.org/661823
"
openstack%2Fmistral-dashboard~master~Iafe4d0459b4e89111f63e594f00163419dfdfc70,openstack/mistral-dashboard,master,Bug#test1,Iafe4d0459b4e89111f63e594f00163419dfdfc70,Add the unit test for actions detail,MERGED,2019-06-20 08:56:56.000000000,2019-06-20 11:52:42.000000000,2019-06-20 11:52:42.000000000,12,0,0,666521,d1df6b399896cd161fa361fc5d52e86446441f7a,9,7,2,1,27822,pengyuesheng,pengyuesheng,"Add the unit test for actions detail

Change-Id: Iafe4d0459b4e89111f63e594f00163419dfdfc70
"
openstack%2Ftripleo-common~stable%2Fstein~Ib989bd673c694a9dc5af2a4a63ed84888f102a50,openstack/tripleo-common,stable/stein,bug/1832509,Ib989bd673c694a9dc5af2a4a63ed84888f102a50,Increase timeout of temp swift URLs from 1 to 4 hours,MERGED,2019-06-17 13:42:49.000000000,2019-06-20 11:46:14.000000000,2019-06-20 11:46:14.000000000,1,1,0,665670,5cdd46920b0eee5cb2cf76e0d5f957f5ce057da7,10,4,1,1,18002,John Fulton,fultonj,"Increase timeout of temp swift URLs from 1 to 4 hours

It can take longer than 1 hour for a temporary swift
URL which stores the backup of the fetch directory to
be created vs used. Increase the timeout from 1 hour
to 4 hours so that the URL does not expire before it
is used.

Change-Id: Ib989bd673c694a9dc5af2a4a63ed84888f102a50
Fixes-Bug: #1832509
(cherry picked from commit 8f2e1064a2473a8218056ecfd932c714b11e0fe6)
"
openstack%2Fpython-qinlingclient~master~I16cb1e688f0b237d270acb6751e78d6b4a5d01ba,openstack/python-qinlingclient,master,,I16cb1e688f0b237d270acb6751e78d6b4a5d01ba,Update json module to jsonutils,MERGED,2019-02-26 02:11:32.000000000,2019-06-20 11:31:39.000000000,2019-06-20 11:31:39.000000000,33,26,0,639240,0649ad405afb3d0642bcd5c753f30970aab97743,13,3,2,7,22165,caoyuan,caoyuan,"Update json module to jsonutils

oslo project provide jsonutils, and qinlingclient  use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/python-qinlingclient/search?utf8=%E2%9C%93&q=jsonutils&type=

Change-Id: I16cb1e688f0b237d270acb6751e78d6b4a5d01ba
"
openstack%2Fos-net-config~stable%2Fstein~If41178105229fb9adce9c2950aab39fc55b56166,openstack/os-net-config,stable/stein,bug/1831951,If41178105229fb9adce9c2950aab39fc55b56166,Fix handling of SR-IOV PF routes,MERGED,2019-06-18 19:46:25.000000000,2019-06-20 11:14:11.000000000,2019-06-20 11:14:11.000000000,38,0,0,666154,28a01544fe5645276ba6ea70369b34d3b7a5a5c5,15,8,1,2,12398,Dan Sneddon,dsneddon,"Fix handling of SR-IOV PF routes

Routes on SR-IOV PF interfaces were being ignored in
impl_ifcfg.py. This change adds route handling for SR-IOV
interfaces, and a unit test to test writing route files.

Closes-bug: 1831951
Change-Id: If41178105229fb9adce9c2950aab39fc55b56166
(cherry picked from commit b04d8f30d4993fba3e4d207ca698cf10bdf69c2b)
"
openstack%2Fpython-qinlingclient~master~I89d5832dbf9ad52bc5e027f74174074685addbe1,openstack/python-qinlingclient,master,,I89d5832dbf9ad52bc5e027f74174074685addbe1,Add doc/requirements.txt to releasenotes tox environment,MERGED,2019-01-09 17:24:13.000000000,2019-06-20 11:13:57.000000000,2019-06-20 11:13:57.000000000,3,0,0,629587,fb58059781966f82d2e2c79646295bbed2313daf,11,2,2,1,28935,98k,98k,"Add doc/requirements.txt to releasenotes tox environment

Without these dependencies, the releasenotes build does not actually
work.

Change-Id: I89d5832dbf9ad52bc5e027f74174074685addbe1
"
openstack%2Ftripleo-heat-templates~master~Icc95ce84a467867b9880defb68aeb08806fd5317,openstack/tripleo-heat-templates,master,remove_deprecated_nfv_envs,Icc95ce84a467867b9880defb68aeb08806fd5317,Remove deprecated NFV environment files,MERGED,2019-06-12 13:04:55.000000000,2019-06-20 11:09:09.000000000,2019-06-20 11:09:09.000000000,10,124,0,664882,ce1da1f6cf7aae85ecaab8b41026b8d6bd9e9006,22,6,2,6,18575,Saravanan KR,saravanankr,"Remove deprecated NFV environment files

Change-Id: Icc95ce84a467867b9880defb68aeb08806fd5317
"
openstack%2Ftripleo-heat-templates~master~I3cfd4272449b207874723682903505d2bbdb435b,openstack/tripleo-heat-templates,master,leapp,I3cfd4272449b207874723682903505d2bbdb435b,Setup cluster definition based on the ansible limit option.,MERGED,2019-03-13 14:31:09.000000000,2019-06-20 11:09:06.000000000,2019-06-20 11:09:06.000000000,359,19,8,643056,cb8caaae4381e6a3de81a517dc7c6b23d272e024,128,8,38,8,8297,Sofer Athlan-Guyot,chem,"Setup cluster definition based on the ansible limit option.

During upgrade we're re-creating the pacemaker cluster one node at a
time. So we need to override the cluster definition. We do this by
collecting the ansible_limit variable and mapping the controller
defined as member of the cluster.

Co-Authored-By: Jose Luis Franco Arza <jfrancoa@redhat.com>
Co-Authored-By: Jiri Stransky <jistr@redhat.com>
Implements: blueprint upgrades-with-os
Closes-Bug: #1832361
Depends-On: Ibd95f4536c033af2094bd079cc81eeba18a36352
Depends-On: Ia108af3799dfd1be24c6ea738e42f0cde19c90c3
Depends-On: I3fa0717203f3f6eae852d019bec71e97eb485aa2
Change-Id: I3cfd4272449b207874723682903505d2bbdb435b
"
openstack%2Fkolla~stable%2Focata~I52b1bf9b7b92b0874d7a59f0d6fa786368e82d2f,openstack/kolla,stable/ocata,,I52b1bf9b7b92b0874d7a59f0d6fa786368e82d2f,Mark kolla-build-*-source jobs non-voting,MERGED,2019-06-18 10:10:56.000000000,2019-06-20 11:07:41.000000000,2019-06-20 11:07:41.000000000,3,0,0,665935,bb261c429c5f091d8f5d2abbfbeba965adfab5ca,9,5,1,1,14826,Mark Goddard,mgoddard,"Mark kolla-build-*-source jobs non-voting

Ocata only

All build jobs are failing on Ocata, and we cannot disable the image
publishing jobs without removing them or marking as non-voting.

Change-Id: I52b1bf9b7b92b0874d7a59f0d6fa786368e82d2f
"
openstack%2Fmonasca-transform~master~Id3ad30d23b902ee6f7277f7ec20d7d523df232f6,openstack/monasca-transform,master,hacking,Id3ad30d23b902ee6f7277f7ec20d7d523df232f6,Update hacking version to latest,MERGED,2019-01-06 09:55:05.000000000,2019-06-20 11:04:47.000000000,2019-06-20 11:04:47.000000000,17,9,0,628771,040211ba8972528ef242ee8e1b3f0363a0690c9e,28,5,6,5,17130,melissaml,malei,"Update hacking version to latest

This commit updates hacking version to 1.1.x and fixes related
pep8 issues.
Also added pycodestyle in test-requirements

Story: 2004930
Task: 29318

Co-Authored-By: Akhil Jain <akhil.jain@india.nec.com>

Change-Id: Id3ad30d23b902ee6f7277f7ec20d7d523df232f6
"
openstack%2Fpython-qinlingclient~master~I4122cdbac8c0986289cbee3a253bb20ad4752a1c,openstack/python-qinlingclient,master,,I4122cdbac8c0986289cbee3a253bb20ad4752a1c,Update the Launchpad to Storyboard,MERGED,2019-01-04 09:17:57.000000000,2019-06-20 11:03:43.000000000,2019-06-20 11:03:43.000000000,1,1,0,628369,a3ce16794947669ca4dafd3d922ba1707bde8290,11,2,2,1,17130,melissaml,malei,"Update the Launchpad to Storyboard

Change-Id: I4122cdbac8c0986289cbee3a253bb20ad4752a1c
"
openstack%2Fkolla-ansible~stable%2Fstein~I0a0596a020fbff91ccc5b9f44f271eab220c88cd,openstack/kolla-ansible,stable/stein,heat-multi-region-bootstrap-stable/stein,I0a0596a020fbff91ccc5b9f44f271eab220c88cd,[heat] Multi-region support for bootstrap,MERGED,2019-06-18 18:25:10.000000000,2019-06-20 10:47:34.000000000,2019-06-20 10:47:34.000000000,1,0,0,666134,af0431015f4c0b24b0f836a0c0a451444f84c985,12,5,1,1,14826,Mark Goddard,mgoddard,"[heat] Multi-region support for bootstrap

When bootstrapping, Heat was not setting a region explicitly, so it
could default to a region other than the one being deployed.

Change-Id: I0a0596a020fbff91ccc5b9f44f271eab220c88cd
(cherry picked from commit 44da1963ba3d089e0fc646c1b1c1fb712f1c8173)
"
openstack%2Fneutron~master~Ia93cab667f8154663ba62b78bc0329ee16b8202c,openstack/neutron,master,small-cleaning,Ia93cab667f8154663ba62b78bc0329ee16b8202c,Remove mock of not existing method in L3 agent UT.,MERGED,2019-06-18 07:25:56.000000000,2019-06-20 10:14:43.000000000,2019-06-19 00:59:05.000000000,0,6,0,665893,c195352e70e39a4516d6b0dcecff6a8f2316ac9e,10,6,1,1,11975,Slawek Kaplonski,slaweq,"Remove mock of not existing method in L3 agent UT.

There was mock of ri._get_floatingips_bound_to_host() in
L3 test_agent unit test module. This method was removed long time
ago in [1] so this mock is not necessary anymore.

TrivialFix

[1] https://review.opendev.org/#/c/499725/

Change-Id: Ia93cab667f8154663ba62b78bc0329ee16b8202c
"
openstack%2Fmonasca-transform~master~Ib6b4567948d27d597555ebb921e7d2e1a019c27e,openstack/monasca-transform,master,,Ib6b4567948d27d597555ebb921e7d2e1a019c27e,Update sphinx version in test-requirement.txt,MERGED,2019-05-30 07:35:19.000000000,2019-06-20 10:06:51.000000000,2019-06-20 10:06:51.000000000,2,1,0,662148,71ad20ab2f6038d113b8f23a49df7d02501faf96,9,4,1,1,25553,Akhil jain,akhil,"Update sphinx version in test-requirement.txt

Update sphinx dependency to avoid gate failure.
Global requirement link [1]

[1] https://github.com/openstack/requirements/blob/23ff2adcec1fd5e485d7f7319c6e516125e7aed1/global-requirements.txt#L455

Change-Id: Ib6b4567948d27d597555ebb921e7d2e1a019c27e
"
openstack%2Fnova~master~If66d2e4583b00102d52635457f3c3f8c2adee1be,openstack/nova,master,bug/1831309,If66d2e4583b00102d52635457f3c3f8c2adee1be,Replace 'is comprised of' with 'comprises',MERGED,2019-06-05 00:26:54.000000000,2019-06-20 10:03:23.000000000,2019-06-11 21:29:53.000000000,1,1,3,663175,ebddacf001bfc7bf0a1388ef3fd166d0996b09cc,23,10,2,1,7634,Takashi Natsume,natsumet,"Replace 'is comprised of' with 'comprises'

Replace 'is comprised of' with 'comprises'
because the 'is comprised of' is disputed use.

Change-Id: If66d2e4583b00102d52635457f3c3f8c2adee1be
Closes-Bug: #1831309
"
openstack%2Fkolla-ansible~master~Ie3cbb51424989b01727b5ebaaeba032767073462,openstack/kolla-ansible,master,,Ie3cbb51424989b01727b5ebaaeba032767073462,Ingest non-standard Monasca logs,MERGED,2019-06-18 11:21:27.000000000,2019-06-20 10:03:11.000000000,2019-06-20 10:03:11.000000000,32,1,0,665950,4b31fdcf35d83a9ad04173657ba5d228bbc9183d,13,4,1,5,17669,Doug Szumski,DougSzumski,"Ingest non-standard Monasca logs

Presently, errors can appear in Fluentd and Monasca Log API logs due
to log output from some Monasca services, which do not use Oslo log,
being processed alongside other OpenStack logs which do.

This change parses these log files separately to prevent these errors.

Change-Id: Ie3cbb51424989b01727b5ebaaeba032767073462
"
openstack%2Fneutron~master~Ifc88dfb3041aa07b197f395172b69399796ba46a,openstack/neutron,master,bug/1799555,Ifc88dfb3041aa07b197f395172b69399796ba46a,"Add agent timestamp to ""_log_heartbeat"" method",MERGED,2019-06-14 16:19:15.000000000,2019-06-20 10:02:27.000000000,2019-06-19 01:37:40.000000000,28,16,0,665426,b76321f1d8864b013d15b236b1868a21ffb8b875,28,8,4,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add agent timestamp to ""_log_heartbeat"" method

When an agent reports the state, the timestamp is sent along with the
agent status. This timestamp now is logged if ""log_agent_heartbeats"" is
activated.

Change-Id: Ifc88dfb3041aa07b197f395172b69399796ba46a
Related-Bug: #1799555
"
openstack%2Fcharm-ceph-radosgw~master~If36671a00c253e36c339e72dd14b20f7c68f7577,openstack/charm-ceph-radosgw,master,bug/1833509,If36671a00c253e36c339e72dd14b20f7c68f7577,Mark multisite test bundles as dev,MERGED,2019-06-20 07:45:48.000000000,2019-06-20 09:56:23.000000000,2019-06-20 09:56:23.000000000,2,2,0,666509,92575d9df95c60ec023992c57bd6c5dccaa3f552,8,3,2,1,935,James Page,james-page,"Mark multisite test bundles as dev

Move multisite test bundles to dev section; the tests experience
some race conditions with RADOS Gateway deployments taking time
to resync after promotion operations that needs to be accomodated
in the zaza test code.

Related-Bug: 1833509
Change-Id: If36671a00c253e36c339e72dd14b20f7c68f7577
"
openstack%2Fkolla-ansible~master~I912cadb5113d5572235731863825588b2eb12759,openstack/kolla-ansible,master,qinling-config-check,I912cadb5113d5572235731863825588b2eb12759,Fix Qinling deployment and reconfigure,MERGED,2019-06-19 20:19:38.000000000,2019-06-20 09:47:24.000000000,2019-06-20 09:47:24.000000000,0,4,0,666437,b1c28e95b0b661de3e9a227661bc771604c3f28a,10,5,1,3,16006,goldyfruit,goldyfruit,"Fix Qinling deployment and reconfigure

The ""environment"" variable set in config.yml and handlers/main.yml
has been removed to fix de deployment and the reconfigure.

Change-Id: I912cadb5113d5572235731863825588b2eb12759
"
openstack%2Fpython-qinlingclient~master~Id1b21531087c5a37c4bbf8427a20a647cabdc344,openstack/python-qinlingclient,master,fix-ci,Id1b21531087c5a37c4bbf8427a20a647cabdc344,Fix unit test failure,MERGED,2019-06-20 08:43:40.000000000,2019-06-20 09:42:43.000000000,2019-06-20 09:42:43.000000000,7,8,0,666520,3ffe4d03a5b58ea02054a32444b096a477667807,6,2,1,1,6732,Lingxian Kong,kong,"Fix unit test failure

Change-Id: Id1b21531087c5a37c4bbf8427a20a647cabdc344
"
openstack%2Fself-healing-sig~master~I3362292106d104df1a379182502c8ab8a603641e,openstack/self-healing-sig,master,,I3362292106d104df1a379182502c8ab8a603641e,use case for load balancer member respawn,MERGED,2019-06-19 02:17:36.000000000,2019-06-20 09:37:52.000000000,2019-06-20 09:37:51.000000000,132,0,14,666201,d313c134966700a492e6cc8cf86aa3a7eaec2c52,26,5,4,1,18591,Eric Kao,ekcs,"use case for load balancer member respawn

Change-Id: I3362292106d104df1a379182502c8ab8a603641e
Story: 2005830
Task: 33587
"
openstack%2Fhorizon~master~I6dbb06d72597f5e14f7233199ad242700acfa042,openstack/horizon,master,bug/1624748,I6dbb06d72597f5e14f7233199ad242700acfa042,Admin image table wrong visibility for private images,NEW,2019-02-20 14:49:40.000000000,2019-06-20 09:30:35.000000000,,2,2,0,638175,6b2b8561f61a2b08a157d15d3fe3e5405ae37399,14,7,3,2,29313,Vishal Manchanda,vishalmanchanda,"Admin image table wrong visibility for private images

This patch changes the visibility of 'Image from Other Project - Non-Public'
images to 'Private' images.Now Visibility of these images are shown as
'Private' images in admin image table.

Change-Id: I6dbb06d72597f5e14f7233199ad242700acfa042
Closes-Bug: #1624748
"
openstack%2Fcinder~master~I26cbbec1f5d330ffa72a075b7d8321f4d6da029c,openstack/cinder,master,,I26cbbec1f5d330ffa72a075b7d8321f4d6da029c,Remove the repeated calls,MERGED,2019-05-10 05:06:40.000000000,2019-06-20 09:12:36.000000000,2019-06-20 09:12:36.000000000,1,2,1,658264,3989048138768995bbe7ea5e7552e42e2908cecf,32,30,1,1,28706,Boxiang Zhu,ZhuBoxiang,"Remove the repeated calls

The create function of GlanceImageService has called
the staticmethod _translate_to_glance. So when we call
create function, we don't need to call _translate_to_glance
again. Just remove it now.

Change-Id: I26cbbec1f5d330ffa72a075b7d8321f4d6da029c
"
openstack%2Ftenks~master~I8637ffdc52e22500cb4c9f3cdb0d4f5291d11147,openstack/tenks,master,python3-train,I8637ffdc52e22500cb4c9f3cdb0d4f5291d11147,Update Python 3 test runtimes for Train,MERGED,2019-06-19 06:47:51.000000000,2019-06-20 09:09:30.000000000,2019-06-20 09:09:30.000000000,8,8,0,666236,b27c6bc169d77673ae9761ff0259859e4aac557c,12,5,1,3,24828,Kaifeng Wang,wangkf,"Update Python 3 test runtimes for Train

One of train goals to have consistent python3 jobs.

https://governance.openstack.org/tc/goals/train/python3-updates.html

Fixed incorrect upper constraints as well.

Change-Id: I8637ffdc52e22500cb4c9f3cdb0d4f5291d11147
"
openstack%2Ftripleo-heat-templates~master~I2e599d3f14af8b5d7fcfbc99d6ee6588bc844987,openstack/tripleo-heat-templates,master,bug/1807959,I2e599d3f14af8b5d7fcfbc99d6ee6588bc844987,Use 'free' strategy for pre deployments with OvS-DPDK,ABANDONED,2019-06-13 04:23:09.000000000,2019-06-20 09:00:47.000000000,,7,0,0,665059,69a8c865071444765726d530e9a7bcbaf27d9b58,8,5,2,2,18575,Saravanan KR,saravanankr,"Use 'free' strategy for pre deployments with OvS-DPDK

With linear stragey, the order of the pre deployment resources
are mixed, which results in NetworkDeployment before DPDK is enabled.
It will result in error in openvswitch as 'dpdk' type will not be
found until DPDK is enabled in openvswitch. It throws unwanted
error logs. As like heat deployments, ensure the config download
deployemts follow the oder for pre deployment resources, to enable
DPDK before NetworkDeployment. Providing 'free' strategy for the
playbooks, acheives the required behavior. It will be applied to
pre deployment step when DPDK is enabled.
Closes-Bug: #1807959

Change-Id: I2e599d3f14af8b5d7fcfbc99d6ee6588bc844987
"
openstack%2Fproject-team-guide~master~I19bcb4ca04501c7d5285b1111695d1c550751b79,openstack/project-team-guide,master,idle-time-em,I19bcb4ca04501c7d5285b1111695d1c550751b79,Update Extended Maintenance transition description,MERGED,2019-05-03 22:18:36.000000000,2019-06-20 08:57:58.000000000,2019-06-20 08:57:58.000000000,6,2,6,657071,cc1cc5f335d2a297453c13dc5cd7780307b7c66d,20,7,3,1,17685,Elod Illes,elod.illes,"Update Extended Maintenance transition description

As discussed during Release Team meeting @ PTG the Extended Maintenance
transition should happen during 'idle' time, which means: after Final
Release from the actual development cycle has happened.

Also indicate that EM tag is set against 'last release' on the given
stable branch instead of 'HEAD' of the given stable branch.

Change-Id: I19bcb4ca04501c7d5285b1111695d1c550751b79
"
openstack%2Freleases~master~I358ac7b17a456e0f56142286be48b7bd61b3fc82,openstack/releases,master,,I358ac7b17a456e0f56142286be48b7bd61b3fc82,"Release puppet-manila for Stein, Rocky and Queens",MERGED,2019-06-06 13:51:14.000000000,2019-06-20 08:38:01.000000000,2019-06-20 08:38:01.000000000,12,0,4,663674,aaae4f42c4701fdce98a1d6e2351a776222eaada,24,9,4,3,6796,Giulio Fidente,gfidente,"Release puppet-manila for Stein, Rocky and Queens

Updates puppet-manila for last three stable branches

Depends-On: I18c4a2f02179554aa5240ef5e5e6d4b3c3c26e57
Depends-On: I311c9f437b796b6cb11d8346af5d0e1d06ecb5a4
Depends-On: I52117cda4bb5d816371f6e083e6d4a0af3e8a4ee
Change-Id: I358ac7b17a456e0f56142286be48b7bd61b3fc82
"
openstack%2Freleases~master~I63c3f535bdc336fdb6c7705430de1e6cbef22cf4,openstack/releases,master,oslo-master,I63c3f535bdc336fdb6c7705430de1e6cbef22cf4,Oslo releases for 2019-6-19,MERGED,2019-06-19 19:50:30.000000000,2019-06-20 08:38:00.000000000,2019-06-20 08:38:00.000000000,8,0,0,666430,af181bf2a7d6731bc5f56f7ee06f2062e31191cd,7,3,1,2,6928,Ben Nemec,bnemec,"Oslo releases for 2019-6-19

Change-Id: I63c3f535bdc336fdb6c7705430de1e6cbef22cf4
"
openstack%2Freleases~master~Ic4de16c26bb1a4fb878b86d2bd9c59bf5f54d11d,openstack/releases,master,liaisons_scripts,Ic4de16c26bb1a4fb878b86d2bd9c59bf5f54d11d,Update Liaison Scripts,MERGED,2019-06-13 21:53:24.000000000,2019-06-20 08:37:54.000000000,2019-06-20 08:37:54.000000000,64,863,22,665246,59c38e67083797ea703ce3c7e81418681c820970,26,6,6,8,16708,Kendall Nelson,kjnelson,"Update Liaison Scripts

Now that the release liaison info lives in data/release_liaisons.yaml,
we don't need to pull from the wiki. This patch also adds a schema
to verify the release_liaions.yaml is formatted correctly.

Story: 2005702
Task: 33639
Task: 33733

Change-Id: Ic4de16c26bb1a4fb878b86d2bd9c59bf5f54d11d
"
openstack%2Freleases~master~Ib8abbe39d3d2362ecd1a5abd40b2b0c33169f47a,openstack/releases,master,em,Ib8abbe39d3d2362ecd1a5abd40b2b0c33169f47a,Set pike status to extended maintenance,MERGED,2019-06-11 14:54:07.000000000,2019-06-20 08:37:53.000000000,2019-06-20 08:37:52.000000000,2,3,2,664611,bde1ee920465db0cc2cbd5f4d10f03dc6d1e06c0,14,5,3,1,11904,Sean McGinnis,SeanM,"Set pike status to extended maintenance

Change-Id: Ib8abbe39d3d2362ecd1a5abd40b2b0c33169f47a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fnova~master~I804d504d21953a936a18b76334557fe3ccb97107,openstack/nova,master,bug/1833182,I804d504d21953a936a18b76334557fe3ccb97107,Fix wrong assert methods,MERGED,2019-06-18 07:49:14.000000000,2019-06-20 08:20:11.000000000,2019-06-19 09:38:18.000000000,2,2,0,665897,c40de761259c88904fa509b0c9d713a9827bd292,24,10,1,1,7634,Takashi Natsume,natsumet,"Fix wrong assert methods

Fix wrong assert methods in the unit tests for libvirt driver.

Change-Id: I804d504d21953a936a18b76334557fe3ccb97107
Closes-Bug: #1833182
"
openstack%2Fmistral-dashboard~master~Icc99fb89c2b500bd3ce6fce1c610bacd5599abc6,openstack/mistral-dashboard,master,Bug#test7,Icc99fb89c2b500bd3ce6fce1c610bacd5599abc6,fix the Bug of test in workflows panel,MERGED,2019-06-17 06:29:35.000000000,2019-06-20 08:04:22.000000000,2019-06-20 08:04:22.000000000,40,35,0,665587,6726cee3b3b7d29511bcd9f7fbf0d0fddf98c3d5,8,8,1,1,27822,pengyuesheng,pengyuesheng,"fix the Bug of test in workflows panel

Change-Id: Icc99fb89c2b500bd3ce6fce1c610bacd5599abc6
"
openstack%2Fopenstack-helm-images~master~I5270d183e303cf78d2512d0cd5c7a748b40fa8ea,openstack/openstack-helm-images,master,libvirt-rbd,I5270d183e303cf78d2512d0cd5c7a748b40fa8ea,Install qemu-block-rbd package for Ceph support,MERGED,2019-06-19 19:06:36.000000000,2019-06-20 08:04:00.000000000,2019-06-20 08:02:55.000000000,1,0,0,666422,36e9575befec5545b105ec169ac3ebf80c74dcf3,9,4,1,1,9963,Jiri Suchomel,jsuchome,"Install qemu-block-rbd package for Ceph support

Change-Id: I5270d183e303cf78d2512d0cd5c7a748b40fa8ea
"
openstack%2Fkolla-ansible~stable%2Fstein~Id058aa1db8d60c979680e6a41f7f3e1c39f98235,openstack/kolla-ansible,stable/stein,bug/1830023-stable/stein,Id058aa1db8d60c979680e6a41f7f3e1c39f98235,Add ansible_nodename (system hostname) to /etc/hosts,MERGED,2019-06-18 18:12:41.000000000,2019-06-20 08:02:45.000000000,2019-06-20 08:02:45.000000000,9,1,0,666097,8d260e0e3f55edae11b8c3031f8398a946d91608,13,4,1,2,14826,Mark Goddard,mgoddard,"Add ansible_nodename (system hostname) to /etc/hosts

Kolla-Ansible populates /etc/hosts with overcloud hosts using their API
interface IP address. When configured correctly, this allows Nova to use
the API interface for live migration of instances between compute hosts.

The hostname used is from the `ansible_hostname` variable, which is a
short hostname generated by Ansible using the first dot as a delimiter.
However, Nova defaults to use the result of socket.gethostname() to
register nova-compute services.

In deployments where hostnames are set to FQDNs, for example when using
FreeIPA, nova-compute would try to reach the other compute node using
its FQDN (as registered in the Nova database), which was absent from
/etc/hosts. This can result in failures to live migrate instances if
DNS entries don't match.

This commit populates /etc/hosts with `ansible_nodename` (hostname as
reported by the system) in addition to `ansible_hostname`, if they are
different.

Change-Id: Id058aa1db8d60c979680e6a41f7f3e1c39f98235
Closes-Bug: #1830023
(cherry picked from commit 37899026bf7ec6ae70b01571cd0fb2e0173f8f9b)
"
openstack%2Fkuryr-kubernetes~master~I2a9488a59141016655e7a356722a1c012aa94aec,openstack/kuryr-kubernetes,master,bp/golang-kuryr-cni,I2a9488a59141016655e7a356722a1c012aa94aec,Add release note and docs about golang kuryr-cni,MERGED,2019-06-18 10:19:01.000000000,2019-06-20 08:01:45.000000000,2019-06-20 08:01:45.000000000,21,2,2,665940,3aa486d342fc32d56750234d0888ad3f194394c1,10,4,2,2,11600,Michał Dulko,dulek,"Add release note and docs about golang kuryr-cni

This is follow-up commit that adds documentation regarding golang
implementation of kuryr-cni.

Change-Id: I2a9488a59141016655e7a356722a1c012aa94aec
Implements: blueprint golang-kuryr-cni
"
openstack%2Fswift~master~I896c84872a5d63b23d6edabeb6d48ce7bc9a533e,openstack/swift,master,,I896c84872a5d63b23d6edabeb6d48ce7bc9a533e,py3: Decode some things in s3api,MERGED,2019-06-17 18:40:17.000000000,2019-06-20 07:58:53.000000000,2019-06-20 07:57:42.000000000,9,2,0,665746,014358018e34639da09ff7d28f8b095e3f7b882c,7,2,1,3,15343,Tim Burke,tburke,"py3: Decode some things in s3api

Query strings and upload IDs should be native strings.

With this, you should be able to run the s3api functional tests under
py2 against py3 services.

Change-Id: I896c84872a5d63b23d6edabeb6d48ce7bc9a533e
"
openstack%2Fsahara~master~I41ed93390a501e82ff70f4abec0b217e6b5d4707,openstack/sahara,master,opendev,I41ed93390a501e82ff70f4abec0b217e6b5d4707,doc: additional git.openstack.org->opendev.org replacement,MERGED,2019-04-22 19:43:26.000000000,2019-06-20 07:48:22.000000000,2019-06-20 07:48:22.000000000,8,8,0,654619,e644d4a6a8e772c3fa0035435d9df4a5ac6ce9d1,17,7,1,4,10459,Luigi Toscano,ltoscano,"doc: additional git.openstack.org->opendev.org replacement

- more replacements (review.openstack.org->review.opendev.org)
- fix an error introduced in the previous commit (by me)

Change-Id: I41ed93390a501e82ff70f4abec0b217e6b5d4707
"
openstack%2Fironic~master~I04d57ebbaaf6708c90bb7ffe0864895b84c5d7f8,openstack/ironic,master,oneview_ci_hardware_type,I04d57ebbaaf6708c90bb7ffe0864895b84c5d7f8,DNM|WIP Test OneView CI with Hardware Type,ABANDONED,2018-01-25 13:11:12.000000000,2019-06-20 07:41:37.000000000,,1,1,0,537896,fd49e215f97dc3683a4bc8ebf5b031e240688a2e,41,7,4,1,14675,Hugo Nicodemos,nicodemos,"DNM|WIP Test OneView CI with Hardware Type

Change-Id: I04d57ebbaaf6708c90bb7ffe0864895b84c5d7f8
"
openstack%2Fsushy-tools~master~Idd72ece566aa0850d3bb581ce596feb76b5791cb,openstack/sushy-tools,master,,Idd72ece566aa0850d3bb581ce596feb76b5791cb,Optimize the link address in docs,ABANDONED,2018-07-05 03:37:12.000000000,2019-06-20 07:39:57.000000000,,1,1,2,580266,38489e18685b71f1d679912c414ec57ce6f2b855,4,2,1,1,26435,Pan Xingyu,pxy,"Optimize the link address in docs

Change-Id: Idd72ece566aa0850d3bb581ce596feb76b5791cb
"
openstack%2Fironic~master~Ifcd7280c16bd4ecc107e10f18d6440087668617b,openstack/ironic,master,wdq6122,Ifcd7280c16bd4ecc107e10f18d6440087668617b,"rectify grammar, a to an",ABANDONED,2018-06-12 08:57:39.000000000,2019-06-20 07:38:09.000000000,,1,1,0,574662,8a9634167abf8641596aa566b23ac22eb1049cea,8,6,1,1,27370,wangdequn,wangdequn,"rectify grammar, a to an

Change-Id: Ifcd7280c16bd4ecc107e10f18d6440087668617b
"
openstack%2Fironic~master~I49680553b79a041dc2c7bfd2d55cdd3ed1ced2ad,openstack/ironic,master,wdq6131,I49680553b79a041dc2c7bfd2d55cdd3ed1ced2ad,change 'a optional CA' to 'an optional CA',ABANDONED,2018-06-13 02:24:06.000000000,2019-06-20 07:36:58.000000000,,1,1,0,574939,caa1f5af578b50790ca2d9b0c965de2ba4bc464d,5,3,1,1,27370,wangdequn,wangdequn,"change 'a optional CA' to 'an optional CA'

Change-Id: I49680553b79a041dc2c7bfd2d55cdd3ed1ced2ad
"
openstack%2Fswift~master~Iba4cce213dce204d7d1b53a937bfbe537276f0f3,openstack/swift,master,665487,Iba4cce213dce204d7d1b53a937bfbe537276f0f3,Stop sending non-UTF-8 prefixes in func tests,MERGED,2019-06-14 22:45:28.000000000,2019-06-20 07:32:40.000000000,2019-06-20 07:31:42.000000000,5,1,0,665487,e6c971b7e0fe5ea9fcf905482dd0243f53013b0d,9,2,2,1,15343,Tim Burke,tburke,"Stop sending non-UTF-8 prefixes in func tests

Previously, we'd (with high likelihood) cut it off midway through
a codepoint.

Change-Id: Iba4cce213dce204d7d1b53a937bfbe537276f0f3
"
openstack%2Fcharm-specs~master~Ib907306767d2440e27924ea079e2ea12c12e12e4,openstack/charm-specs,master,cinder-backend-swift,Ib907306767d2440e27924ea079e2ea12c12e12e4,Update cinder-backup-swift spec to comply with repository naming Change-Id: Ib072f8da95cb9b07f3a7351eb0904e5981b5fc9b,ABANDONED,2019-06-20 07:26:43.000000000,2019-06-20 07:29:11.000000000,,140,0,0,666504,5733213468a1da1cc0a0c06049a57f262df15aa2,2,0,1,1,29685,Alexander Litvinov,alitvinov,"Update cinder-backup-swift spec to comply with repository naming Change-Id: Ib072f8da95cb9b07f3a7351eb0904e5981b5fc9b

Change-Id: Ib907306767d2440e27924ea079e2ea12c12e12e4
"
openstack%2Fcongress~master~I389a0603d8f1a931a787d03eb6eeb6cb57a8388d,openstack/congress,master,,I389a0603d8f1a931a787d03eb6eeb6cb57a8388d,Sync Sphinx requirement,MERGED,2019-06-18 15:02:30.000000000,2019-06-20 06:41:34.000000000,2019-06-20 06:41:34.000000000,6,5,0,666013,41363e4597b2c0f00c1f1a5c37bf9d137ccce89d,8,3,2,3,28614,jacky06,jacky06,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Remove unncessary space

Change-Id: I389a0603d8f1a931a787d03eb6eeb6cb57a8388d
"
openstack%2Ftripleo-quickstart~master~I2bdebaca8c82fb902482ece88fe93cdde0b79d60,openstack/tripleo-quickstart,master,bug/1833347,I2bdebaca8c82fb902482ece88fe93cdde0b79d60,Exclude buggy podman-1.3.2 from extras,ABANDONED,2019-06-19 05:25:36.000000000,2019-06-20 06:39:29.000000000,,8,0,3,666222,d620c471ff6de798a2318af9f13a58f82b43aa5f,10,6,1,4,13861,yatin,yatinkarel,"Exclude buggy podman-1.3.2 from extras

podman 1.3.2 is pushed in centos-extras repo recently
and is causing issues, exclude it until it's fixed with
new podman release.

Related-Bug: #1833347
Change-Id: I2bdebaca8c82fb902482ece88fe93cdde0b79d60
"
openstack%2Ftripleo-quickstart~master~I594eab0ba10e1abe50eeef2e9641472848f62e15,openstack/tripleo-quickstart,master,,I594eab0ba10e1abe50eeef2e9641472848f62e15,"Disable Leapp in upgrade job, it's no-op",ABANDONED,2019-06-13 11:22:28.000000000,2019-06-20 06:21:08.000000000,,2,0,0,665114,99d5d81c453ce0058ce6e7f3e3360bf99e7e52be,8,4,1,1,8042,Jiří Stránský,jistr,"Disable Leapp in upgrade job, it's no-op

Depends-On: Ia108af3799dfd1be24c6ea738e42f0cde19c90c3
Change-Id: I594eab0ba10e1abe50eeef2e9641472848f62e15
"
openstack%2Fwatcher-tempest-plugin~master~I18417492c4e6a32cd5592b0c61156335763c3b92,openstack/watcher-tempest-plugin,master,just_test,I18417492c4e6a32cd5592b0c61156335763c3b92,[DNM] just test,ABANDONED,2019-06-14 02:34:33.000000000,2019-06-20 06:12:42.000000000,,7,8,0,665276,30422494bb1243cca8ab78742ea267db9d62b90b,7,1,4,2,21692,licanwei,licanwei,"[DNM] just test

Depends-on: Idaea062789a6b169e64f556fecc34cfbaaee5076
Change-Id: I18417492c4e6a32cd5592b0c61156335763c3b92
"
openstack%2Fblazar~master~I83bf55b10d0e7e8c2ff3ce2edfffdf5c3cfad349,openstack/blazar,master,bug/1712381,I83bf55b10d0e7e8c2ff3ce2edfffdf5c3cfad349,Make BlazarNovaClient work without context,NEW,2019-03-08 17:36:02.000000000,2019-06-20 05:16:55.000000000,,26,16,0,642086,35eb518a24b004753c7fe1a9a99c4211d4c4cb92,4,2,2,2,15197,Pierre Riteau,priteau,"Make BlazarNovaClient work without context

If no existing context can provide a service catalog, use v3.Password to
create a keystoneauth1 session using configuration values.

Change-Id: I83bf55b10d0e7e8c2ff3ce2edfffdf5c3cfad349
"
openstack%2Ffreezer~master~Idf278f4a7aca4470f5996e5166e4724259ef944b,openstack/freezer,master,,Idf278f4a7aca4470f5996e5166e4724259ef944b,Make the low-constraints job work and modify coverage version,MERGED,2019-06-18 04:15:01.000000000,2019-06-20 04:55:34.000000000,2019-06-20 04:55:34.000000000,4,3,0,665856,8562e9e8d5b740fe32021f041f112ea7d03a6276,17,6,5,3,28748,chenker,chenke,"Make the low-constraints job work and modify coverage version

Now this style can't make low-constraints job work, because the pip
will constrain a library to the first item it encounters. Then the
version defined in the uppper file will be installed here.

The solution is to put the upper file in the deps.

Example:
When running low-constraints job:
According to the low-constraints file:
Babel==2.5.3[1] should be installed
Actually the log[2] shows that Babel===2.7.0[3] was installed.

Reference Link:
[1]. https://github.com/openstack/freezer/blob/master/lower-constraints.txt#L6
[2]. http://logs.openstack.org/85/657185/2/check/openstack-tox-lower-constraints/f9d0a50/job-output.txt.gz
[3]. https://releases.openstack.org/constraints/upper/master
[4]. https://review.opendev.org/#/c/601188
[5]. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

The coverage version need >=4.5.0 to support py36:
[1]. https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=879269
[2]. https://travis-ci.org/agx/git-buildpackage/jobs/534117241

Change-Id: Idf278f4a7aca4470f5996e5166e4724259ef944b
"
openstack%2Fbifrost~master~Ia012a7aa0312e3e01648e46f303e37f5bc0bcf3d,openstack/bifrost,master,endpoint-override,Ia012a7aa0312e3e01648e46f303e37f5bc0bcf3d,Add missing endpoint_override for ironic in inspector.conf,MERGED,2019-06-19 09:10:08.000000000,2019-06-20 04:21:37.000000000,2019-06-20 04:21:37.000000000,6,7,2,666250,91fce70863d861904b23df96fb946d27fa891014,11,4,2,3,10239,Dmitry Tantsur,dtantsur,"Add missing endpoint_override for ironic in inspector.conf

I'm not sure how it works right now, but it will stop working once we
remove deprecated options from ironic-inspector. Also make the endpoints
used between services configurable.

Change-Id: Ia012a7aa0312e3e01648e46f303e37f5bc0bcf3d
"
openstack%2Fpuppet-openstack-integration~master~I73e706c03a611dfc7cd5572b3d4599be671c85a2,openstack/puppet-openstack-integration,master,,I73e706c03a611dfc7cd5572b3d4599be671c85a2,Fix sites-enabled warning,MERGED,2019-06-17 15:13:13.000000000,2019-06-20 04:08:09.000000000,2019-06-20 04:08:08.000000000,2,12,0,665704,7a4c36e1dbf2520f5a975b852e171f3eaed41bb8,8,4,1,2,16137,Tobias Urdin,tobasco,"Fix sites-enabled warning

Since the config files in sites-enabled is symlinks to
the ones in sites-available this was unneccesary and
just outputs warnings for nothing.

Example:
Stage[main]/Openstack_integration::Panko/File[/etc/apache2/sites-enabled/panko-api.conf]
(warning): Ensure set to :present but file type is link so no content
will be synced

Change-Id: I73e706c03a611dfc7cd5572b3d4599be671c85a2
"
openstack%2Fpuppet-openstack-integration~master~I31f77dafa14445c21225564d0af98454f2314a61,openstack/puppet-openstack-integration,master,,I31f77dafa14445c21225564d0af98454f2314a61,Dont configure cinder v1 endpoints,MERGED,2019-06-17 15:53:02.000000000,2019-06-20 04:08:08.000000000,2019-06-20 04:08:08.000000000,0,3,0,665716,bde906c9ec3b7e8ed4c156649e4fd88293f23a62,8,4,1,1,16137,Tobias Urdin,tobasco,"Dont configure cinder v1 endpoints

They are deprecated and has no effect.

Change-Id: I31f77dafa14445c21225564d0af98454f2314a61
"
openstack%2Fpuppet-openstack-integration~master~I45a0b64e1a0b4baaf321c4bcbe85cbc683277c86,openstack/puppet-openstack-integration,master,,I45a0b64e1a0b4baaf321c4bcbe85cbc683277c86,Fix l2gw_provider unknown variable,MERGED,2019-06-17 15:54:31.000000000,2019-06-20 04:08:07.000000000,2019-06-20 04:08:07.000000000,2,0,0,665717,bca0bd0bab16f721ebe97e876e939cde2624aba1,8,4,1,1,16137,Tobias Urdin,tobasco,"Fix l2gw_provider unknown variable

Puppet (warning): Unknown variable: 'l2gw_provider'

Change-Id: I45a0b64e1a0b4baaf321c4bcbe85cbc683277c86
"
openstack%2Ftripleo-common~master~I73ed9a031bd579bc6213923edb9c4288d0302454,openstack/tripleo-common,master,lint/0,I73ed9a031bd579bc6213923edb9c4288d0302454,Fix ansible-lint errors,MERGED,2019-06-14 18:34:48.000000000,2019-06-20 03:49:10.000000000,2019-06-20 03:49:10.000000000,177,79,0,665451,a1495d5f0f8d29dceeb6444434942a65ff51cca6,16,10,2,29,24162,Sorin Sbârnea,ssbarnea,"Fix ansible-lint errors

Prepare bumping ansible-lint by solving few linting errors:
- unamed tasks
- use of shell instead of module
- newlines between tasks (visual)
- boolean comparison
- when clauses that can be split
- missing galaxy_info sections in meta.yml
- spaces around jinja {{ variables }}
- lack of pipefail on shell blocks with pipe
- duplicate dictionary keys

Change-Id: I73ed9a031bd579bc6213923edb9c4288d0302454
Needed-By: https://review.opendev.org/#/c/665445/
"
openstack%2Fansible-role-tripleo-modify-image~master~I6ed857a827d129d99b5826d6c3afbc9d7c71d501,openstack/ansible-role-tripleo-modify-image,master,fix/verbose-yum-update,I6ed857a827d129d99b5826d6c3afbc9d7c71d501,Makes buildah retries more verbose,MERGED,2019-06-19 13:05:54.000000000,2019-06-20 03:44:52.000000000,2019-06-20 03:44:52.000000000,36,18,0,666283,8b366d2a278680f2248886ca82b08c7e320bc284,7,5,1,1,24162,Sorin Sbârnea,ssbarnea,"Makes buildah retries more verbose

As we found that buildah may fail with litterary no output we need
to be sure that retries happen with more verbosity, so we can identify
what caused the failure.

Change-Id: I6ed857a827d129d99b5826d6c3afbc9d7c71d501
Example: http://logs.openstack.org/60/636860/7/check/tripleo-ci-fedora-28-standalone/2565b12/logs/undercloud/var/log/tripleo-container-image-prepare.log.txt.gz
"
openstack%2Fqinling~master~I2e28a4e08fa80109767c28f77da7887a8603f2ec,openstack/qinling,master,,I2e28a4e08fa80109767c28f77da7887a8603f2ec,"Add function_alias to execution, webhook and job",MERGED,2019-06-18 20:20:47.000000000,2019-06-20 03:18:03.000000000,2019-06-20 03:18:03.000000000,136,51,0,666164,982c45c9783aafa37a5182c9a3849e33b58da26e,7,2,2,8,16006,goldyfruit,goldyfruit,"Add function_alias to execution, webhook and job

executions, webhooks and jobs endpoints are able to
take function_alias as a parameter.

An alias point to a function and a specific version of
this one.

Change-Id: I2e28a4e08fa80109767c28f77da7887a8603f2ec
"
openstack%2Fwatcher~master~I23492fd33f3df8c8709f6d6317c936221f1108d4,openstack/watcher,master,print_format,I23492fd33f3df8c8709f6d6317c936221f1108d4,Fix missing print format,MERGED,2019-06-19 03:48:15.000000000,2019-06-20 03:05:37.000000000,2019-06-20 03:05:37.000000000,3,3,0,666207,37b11fa40446fabf64554f33f8c1f71692624c63,9,5,1,1,20190,zhufl,zhufl,"Fix missing print format

This is to add missing print format in placement_helper.py.

Change-Id: I23492fd33f3df8c8709f6d6317c936221f1108d4
"
openstack%2Faodh~master~I24cb8d8d084a291028a961823fcac4f09b4bf1ca,openstack/aodh,master,,I24cb8d8d084a291028a961823fcac4f09b4bf1ca,Sync Sphinx requirement,MERGED,2019-06-18 14:10:11.000000000,2019-06-20 02:42:09.000000000,2019-06-19 08:50:15.000000000,9,6,3,665991,f3ffbb4dce38b0c7430dfd6c02fc28760557a63d,10,2,2,3,28614,jacky06,jacky06,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Update some URLs to latest

Change-Id: I24cb8d8d084a291028a961823fcac4f09b4bf1ca
"
openstack%2Ffreezer~master~I6e3cab588a633fe58aed71e3e044413900a43845,openstack/freezer,master,,I6e3cab588a633fe58aed71e3e044413900a43845,Sync Sphinx requirement,ABANDONED,2019-06-18 15:51:27.000000000,2019-06-20 02:14:27.000000000,,7,5,0,666031,9f47bd4a0dfd8c4a5e8e697584aae288b33b66c6,4,2,1,5,28614,jacky06,jacky06,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Update some URLs to latest
3. cleanup of .keys() from dict_object.keys() *in* operator

Change-Id: I6e3cab588a633fe58aed71e3e044413900a43845
"
openstack%2Fkarbor~master~Ia2eed0b5410825b7a8734d11a5b1eaa52025817c,openstack/karbor,master,,Ia2eed0b5410825b7a8734d11a5b1eaa52025817c,Add unit test for plan api,ABANDONED,2019-03-25 12:18:50.000000000,2019-06-20 02:11:18.000000000,,40,0,2,647407,8291f2638b495c913a1741b1063aeee1ed98f095,8,2,2,1,29272,liushuai,liushuai,"Add unit test for plan api

Change-Id: Ia2eed0b5410825b7a8734d11a5b1eaa52025817c
"
openstack%2Fswift~master~I51889d7b19370ceaa66168103cb31d27a8ee3a4a,openstack/swift,master,bug1829085,I51889d7b19370ceaa66168103cb31d27a8ee3a4a,Fix incorrect setting of symlink_target_account,MERGED,2019-05-22 23:37:38.000000000,2019-06-20 02:10:18.000000000,2019-06-20 02:09:09.000000000,1,1,0,660858,e28bc3c292a3c6fba67ba5f4c92068686994184f,13,4,1,1,396,Mandell Degerness,mdegerne,"Fix incorrect setting of symlink_target_account

The value of the symlink_target_account in etag override. It was previously
being set to the object value, rather than the account value.

Change-Id: I51889d7b19370ceaa66168103cb31d27a8ee3a4a
Closes-Bug: #1829085
"
openstack%2Fsahara~master~Ief8e392fcd2d66a73593abcfda06fc7dbe2e53a6,openstack/sahara,master,requirements-jobs,Ief8e392fcd2d66a73593abcfda06fc7dbe2e53a6,"Fix requirements (bandit, sphinx, jsonschema) and jobs",MERGED,2019-06-14 13:54:38.000000000,2019-06-20 01:32:46.000000000,2019-06-20 01:32:46.000000000,7,7,0,665393,c5aafbc3ed115eeb0e255fcf413319428f606894,31,7,5,6,10459,Luigi Toscano,ltoscano,"Fix requirements (bandit, sphinx, jsonschema) and jobs

Requirements:
- bandit 1.6.0 contains a regression in the handling of patterns.
  A fix is in place in bandit master, but newer versions introduces
  more checks so they are not working as well.
  The version is excluded there because is not handled by global
  requirements.

  Remove the separate requirement file for bandit, because
  bandit has been part of test-requirements.txt in the last 3 years.
  There is noneed for a separate requirements file anymore.
  Even more, the bandit tox environment could be probably removed.

- synchronize the requirements for sphinx and jsonschema with the
  current values from the requirements repository to make
  the requirements-check job happy.

Jobs:
- temporarily disable the scenario-py3 job until a new stestr
  (>2.3.1) is tagged.

Change-Id: Ief8e392fcd2d66a73593abcfda06fc7dbe2e53a6
"
openstack%2Fneutron~master~Ibba7af42aef7403472a11abe7b0e2e9239c4958e,openstack/neutron,master,lib-subnet-servicetypes,Ibba7af42aef7403472a11abe7b0e2e9239c4958e,use subnet_service_types extension from neutron-lib,MERGED,2019-06-12 16:02:31.000000000,2019-06-20 01:14:55.000000000,2019-06-20 01:14:54.000000000,3,79,0,664968,79f7a947d9fbf1903957aea0ef459bee53d2ba82,25,8,3,1,5367,boden,boden,"use subnet_service_types extension from neutron-lib

This patch switches over to use the subnet_service_types extension
from neutron-lib's API definitions by removing the extension and
test module and using the lib API definition instead.

NeutronLibImpact

Change-Id: Ibba7af42aef7403472a11abe7b0e2e9239c4958e
"
openstack%2Fneutron~stable%2Fqueens~I99d01d7bf29f236eff0f80d1ae8659f64ac55d39,openstack/neutron,stable/queens,bug/1830456-stable/stein-stable/rocky-stable/queens,I99d01d7bf29f236eff0f80d1ae8659f64ac55d39,DVR: on new port only send router update on port's host,MERGED,2019-06-17 23:52:59.000000000,2019-06-20 00:04:38.000000000,2019-06-20 00:04:37.000000000,15,34,0,665833,05d6f0892f204fb9b4b2e35a557ebf3ed1d61177,11,6,1,3,29071,norman shen,ushen,"DVR: on new port only send router update on port's host

When new DVR serviceable port appears on new node we need
to update node's l3 agent with all routers which have the
port's subnets, including connected routers.
We don't need to update all nodes hosting these routers.
It costs us much as all l3 agents then go back to neutron server
and request routers info for no good reason.
This was one of the main issues with DVR at scale fixed in Mitaka.

Change-Id: I99d01d7bf29f236eff0f80d1ae8659f64ac55d39
Related-Bug: #1830456
(cherry picked from commit 52529bc949acff9a3454abd44925342468064b78)
"
openstack%2Fneutron~stable%2Frocky~I99d01d7bf29f236eff0f80d1ae8659f64ac55d39,openstack/neutron,stable/rocky,bug/1830456-stable/stein-stable/rocky,I99d01d7bf29f236eff0f80d1ae8659f64ac55d39,DVR: on new port only send router update on port's host,MERGED,2019-06-17 23:52:50.000000000,2019-06-20 00:04:35.000000000,2019-06-20 00:04:35.000000000,15,34,0,665832,b1b0937eb42442ae6f585eba477189321ef08c80,20,6,1,3,29071,norman shen,ushen,"DVR: on new port only send router update on port's host

When new DVR serviceable port appears on new node we need
to update node's l3 agent with all routers which have the
port's subnets, including connected routers.
We don't need to update all nodes hosting these routers.
It costs us much as all l3 agents then go back to neutron server
and request routers info for no good reason.
This was one of the main issues with DVR at scale fixed in Mitaka.

Change-Id: I99d01d7bf29f236eff0f80d1ae8659f64ac55d39
Related-Bug: #1830456
(cherry picked from commit 52529bc949acff9a3454abd44925342468064b78)
"
openstack%2Ftripleo-ansible~master~Iedbf9d1034ee3396d6cb064c64169c21ebcf3e18,openstack/tripleo-ansible,master,fixup-ci,Iedbf9d1034ee3396d6cb064c64169c21ebcf3e18,Namespace the install path,MERGED,2019-06-19 16:51:11.000000000,2019-06-19 23:37:46.000000000,2019-06-19 23:37:46.000000000,3,3,0,666397,cb27b416792ff2e34e34794a0dcbb7b5820bbee7,8,3,1,1,7353,Kevin Carter,cloudnull,"Namespace the install path

The path where we're installing content currently conflicts with
existing path's from existing tripleo repositories. This creates
a conflict as content is likely to exist in more than one
repository while we migrate things to tripleo-ansible. To ensure
we're not creating conflict all of the tripleo-ansible installed
content will now be moved into a namespaced directory.

Change-Id: Iedbf9d1034ee3396d6cb064c64169c21ebcf3e18
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fkolla-ansible~stable%2Fstein~I76a6dd84e78277f87b04951eb4e75bbdfc1c38bf,openstack/kolla-ansible,stable/stein,keystone-multiple-domains-stable/stein,I76a6dd84e78277f87b04951eb4e75bbdfc1c38bf,Do not create Keystone domain-specific config directory if useless,MERGED,2019-06-18 17:04:11.000000000,2019-06-19 23:22:34.000000000,2019-06-19 23:22:34.000000000,2,14,0,666059,b2fbeddc201b8b94a62482bb3c728fb002cf01d7,9,5,1,1,30491,Radosław Piliszek,yoctozepto,"Do not create Keystone domain-specific config directory if useless

The task was duplicated below (and this other one is conditional).
Additionally fix related tasks names.

Change-Id: I76a6dd84e78277f87b04951eb4e75bbdfc1c38bf
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 5729af8ab726f364301fd849208cdcf7c27976d1)
"
openstack%2Fkolla-ansible~stable%2Fqueens~I18c99ff4213ce456868e64eab63a4257910b9b8e,openstack/kolla-ansible,stable/queens,bug/1829705-stable/queens,I18c99ff4213ce456868e64eab63a4257910b9b8e,nova: Fix DBNotAllowed during compute startup,MERGED,2019-06-18 18:11:25.000000000,2019-06-19 23:22:33.000000000,2019-06-19 23:22:33.000000000,2,0,0,666096,11b9eba2a48b793d00ba04d7ace8f644c2a14f97,7,3,1,1,14826,Mark Goddard,mgoddard,"nova: Fix DBNotAllowed during compute startup

backport: stein, rocky

During startup of nova-compute, we see the following error message:

Error gathering result from cell 00000000-0000-0000-0000-000000000000:
DBNotAllowed: nova-compute

This issue was observed in devstack [1], and fixed [2] by removing
database configuration from the compute service.

This change takes the same approach, removing DB config from nova.conf
in the nova-compute* containers.

[1] https://bugs.launchpad.net/devstack/+bug/1812398
[2] https://opendev.org/openstack/devstack/commit/82537871376afe98a286e1ba424cf192ae60869a

Change-Id: I18c99ff4213ce456868e64eab63a4257910b9b8e
Closes-Bug: #1829705
(cherry picked from commit 002eec951f336b07ef3a7f277e9c0fe6aae9a952)
"
openstack%2Fkolla-ansible~stable%2Frocky~Iad3e906af325ba3209a77a91ab2061e515b4a219,openstack/kolla-ansible,stable/rocky,fwaas-v2-stable/rocky,Iad3e906af325ba3209a77a91ab2061e515b4a219,Update service_provider for FWaaS v2,MERGED,2019-06-19 02:01:55.000000000,2019-06-19 23:22:32.000000000,2019-06-19 23:22:32.000000000,4,0,0,666200,1874e48faf583e70951b5636ce4e798ff8ccdde7,7,3,1,1,28367,Zijian Guo,ZijianGuo,"Update service_provider for FWaaS v2

As described in document [1], the service_provider should be set to
'FIREWALL_V2:fwaas_db:neutron_fwaas.services.firewall.service_drivers.
agents.agents.FirewallAgentDriver:default' for FWaaS v2.

[1] https://docs.openstack.org/neutron/stein/admin/fwaas-v2-scenario.html#enable-fwaas-v2

Change-Id: Iad3e906af325ba3209a77a91ab2061e515b4a219
Signed-off-by: ZijianGuo <guozijn@gmail.com>
(cherry picked from commit b374ea33e4c90bb393c062e97737b90fd2bc455c)
"
openstack%2Fkolla-ansible~stable%2Frocky~I330999be577d6416df162ea33fa1f7a19df56029,openstack/kolla-ansible,stable/rocky,,I330999be577d6416df162ea33fa1f7a19df56029,Fix mongo command for supporting other port,MERGED,2019-06-18 18:34:54.000000000,2019-06-19 23:22:31.000000000,2019-06-19 23:22:31.000000000,1,1,0,666149,ff32b0e6386f1eb14b3d8b12a3b2f5d394829d0d,8,4,1,1,14826,Mark Goddard,mgoddard,"Fix mongo command for supporting other port

If we change mongodb_port, the command for bootstraping mongodb
should not connect to the default mongodb port 27017.

Change-Id: I330999be577d6416df162ea33fa1f7a19df56029
(cherry picked from commit f7bfce20ada638b80bf06d0a8134ca9e01dea273)
"
openstack%2Fkolla-ansible~stable%2Fstein~I172ef3d19ff2bea97db3a5207c1a984cd188ceba,openstack/kolla-ansible,stable/stein,,I172ef3d19ff2bea97db3a5207c1a984cd188ceba,Fix mongo command for checking replication status,MERGED,2019-06-18 18:30:33.000000000,2019-06-19 23:22:30.000000000,2019-06-19 23:22:30.000000000,1,1,0,666144,370921b35bdf10ebee8a9485990097eebc4eba57,9,5,1,1,14826,Mark Goddard,mgoddard,"Fix mongo command for checking replication status

By default, the mongo command connection address is '127.0.0.1:27017'.
If we change mongodb_port, It cause the handle 'Checking current
replication status' always connect to '127.0.0.1:27017'. So we need
add options like '--host' and '--port'.

Change-Id: I172ef3d19ff2bea97db3a5207c1a984cd188ceba
Signed-off-by: ZijianGuo <guozijn@gmail.com>
(cherry picked from commit 08f5c50e7491c29138049237ede070d84cc503b8)
"
openstack%2Fkolla-ansible~stable%2Fstein~I330999be577d6416df162ea33fa1f7a19df56029,openstack/kolla-ansible,stable/stein,,I330999be577d6416df162ea33fa1f7a19df56029,Fix mongo command for supporting other port,MERGED,2019-06-18 18:34:13.000000000,2019-06-19 23:22:29.000000000,2019-06-19 23:22:29.000000000,1,1,0,666148,7d1de18c4d3a3232de85e09050faf3e42e65877b,9,4,1,1,14826,Mark Goddard,mgoddard,"Fix mongo command for supporting other port

If we change mongodb_port, the command for bootstraping mongodb
should not connect to the default mongodb port 27017.

Change-Id: I330999be577d6416df162ea33fa1f7a19df56029
(cherry picked from commit f7bfce20ada638b80bf06d0a8134ca9e01dea273)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I10f99fad0f0016bf81edd53e1c5579f9d5c0ef88,openstack/tripleo-heat-templates,stable/stein,bug/1832759-stable/stein,I10f99fad0f0016bf81edd53e1c5579f9d5c0ef88,Fix network rename + service_net_map_replace,MERGED,2019-06-15 07:54:10.000000000,2019-06-19 23:13:23.000000000,2019-06-19 23:13:23.000000000,5,0,0,665503,459b873c299c2dbf028f6d59f44ad33237c222c9,12,6,1,1,24245,Harald Jensås,harald.jensas,"Fix network rename + service_net_map_replace

If name_lower of a network is changed, and service_net_map_replace
is used. The subnet defined for the network in roles_data would
have to be updated to match the new name_lower. This was not the
case prior to stein, because roles_data did'nt include the subnet.

A downstream regression test is failing because of this. The
workaround is to update roles_data with a value for the subnet
that match name_lower.

This patch should fix the need to update roles_data in the case
that the net_map_replace matches the subnet in roles_data and no
additional subnet with this defined for this network in
network_data.

Closes-Bug: #1832759
Change-Id: I10f99fad0f0016bf81edd53e1c5579f9d5c0ef88
(cherry picked from commit 564d89b2f8609c79a2c21224c72a15b45397fbb7)
"
openstack%2Fkolla-ansible~stable%2Fqueens~I0a0596a020fbff91ccc5b9f44f271eab220c88cd,openstack/kolla-ansible,stable/queens,heat-multi-region-bootstrap-stable/queens,I0a0596a020fbff91ccc5b9f44f271eab220c88cd,[heat] Multi-region support for bootstrap,MERGED,2019-06-18 18:25:31.000000000,2019-06-19 23:10:34.000000000,2019-06-19 23:10:34.000000000,1,0,0,666136,22c012c96ae86a51c63aa3d3f55a363daa735d3e,7,4,1,1,14826,Mark Goddard,mgoddard,"[heat] Multi-region support for bootstrap

When bootstrapping, Heat was not setting a region explicitly, so it
could default to a region other than the one being deployed.

Change-Id: I0a0596a020fbff91ccc5b9f44f271eab220c88cd
(cherry picked from commit 44da1963ba3d089e0fc646c1b1c1fb712f1c8173)
"
openstack%2Fkolla-ansible~stable%2Fstein~Iad3e906af325ba3209a77a91ab2061e515b4a219,openstack/kolla-ansible,stable/stein,fwaas-v2-stable/stein,Iad3e906af325ba3209a77a91ab2061e515b4a219,Update service_provider for FWaaS v2,MERGED,2019-06-18 18:19:00.000000000,2019-06-19 23:10:33.000000000,2019-06-19 23:10:33.000000000,4,0,0,666118,e25650c5bddb63f49abd7e50a7f34110d35e692b,8,4,1,1,14826,Mark Goddard,mgoddard,"Update service_provider for FWaaS v2

As described in document [1], the service_provider should be set to
'FIREWALL_V2:fwaas_db:neutron_fwaas.services.firewall.service_drivers.
agents.agents.FirewallAgentDriver:default' for FWaaS v2.

[1] https://docs.openstack.org/neutron/stein/admin/fwaas-v2-scenario.html#enable-fwaas-v2

Change-Id: Iad3e906af325ba3209a77a91ab2061e515b4a219
Signed-off-by: ZijianGuo <guozijn@gmail.com>
(cherry picked from commit b374ea33e4c90bb393c062e97737b90fd2bc455c)
"
openstack%2Fplacement~master~I7c00b06e85879ab1bf877ce32979e8cc898bfd9e,openstack/placement,master,story/2005575-30949,I7c00b06e85879ab1bf877ce32979e8cc898bfd9e,Spec for can_split part of nested magic,ABANDONED,2019-05-11 00:18:55.000000000,2019-06-19 23:10:24.000000000,,243,0,114,658510,92a96f8b341f4e4cb1e80e12a6fcaec8328f1fd3,49,10,5,1,14070,Eric Fried,efried,"Spec for can_split part of nested magic

This spec describes the can_split feature which is designed to
support:

* Still being able to satisfy existing (""simple"") use cases against
  complex models such as the above when the caller doesn't care about
  the complexities of the model.

It is part of a suite of features related to nested improvements.
Originally other features were a part of this document but they
have been split off to another spec [1] (also referenced in the
spec) to avoid this feature delaying those.

Story: #2005575
Task: #30949

[1] I55973aa7de4a85b63dff4a7d1afb6c36796af71a

Change-Id: I7c00b06e85879ab1bf877ce32979e8cc898bfd9e
"
openstack%2Fkolla-ansible~stable%2Frocky~I0a0596a020fbff91ccc5b9f44f271eab220c88cd,openstack/kolla-ansible,stable/rocky,heat-multi-region-bootstrap-stable/rocky,I0a0596a020fbff91ccc5b9f44f271eab220c88cd,[heat] Multi-region support for bootstrap,MERGED,2019-06-18 18:25:19.000000000,2019-06-19 23:01:53.000000000,2019-06-19 23:01:53.000000000,1,0,0,666135,3da9bf3d3eda0a5b4404021bd54e4dbb8ba71f7c,7,4,1,1,14826,Mark Goddard,mgoddard,"[heat] Multi-region support for bootstrap

When bootstrapping, Heat was not setting a region explicitly, so it
could default to a region other than the one being deployed.

Change-Id: I0a0596a020fbff91ccc5b9f44f271eab220c88cd
(cherry picked from commit 44da1963ba3d089e0fc646c1b1c1fb712f1c8173)
"
openstack%2Fkolla-ansible~stable%2Fqueens~Id058aa1db8d60c979680e6a41f7f3e1c39f98235,openstack/kolla-ansible,stable/queens,bug/1830023-stable/queens,Id058aa1db8d60c979680e6a41f7f3e1c39f98235,Add ansible_nodename (system hostname) to /etc/hosts,MERGED,2019-06-18 18:12:59.000000000,2019-06-19 23:01:52.000000000,2019-06-19 23:01:52.000000000,9,1,0,666099,d6bac914dcbc0a3c7b34c27150925796482efb06,7,4,1,2,14826,Mark Goddard,mgoddard,"Add ansible_nodename (system hostname) to /etc/hosts

Kolla-Ansible populates /etc/hosts with overcloud hosts using their API
interface IP address. When configured correctly, this allows Nova to use
the API interface for live migration of instances between compute hosts.

The hostname used is from the `ansible_hostname` variable, which is a
short hostname generated by Ansible using the first dot as a delimiter.
However, Nova defaults to use the result of socket.gethostname() to
register nova-compute services.

In deployments where hostnames are set to FQDNs, for example when using
FreeIPA, nova-compute would try to reach the other compute node using
its FQDN (as registered in the Nova database), which was absent from
/etc/hosts. This can result in failures to live migrate instances if
DNS entries don't match.

This commit populates /etc/hosts with `ansible_nodename` (hostname as
reported by the system) in addition to `ansible_hostname`, if they are
different.

Change-Id: Id058aa1db8d60c979680e6a41f7f3e1c39f98235
Closes-Bug: #1830023
(cherry picked from commit 37899026bf7ec6ae70b01571cd0fb2e0173f8f9b)
"
openstack%2Fkolla-ansible~stable%2Frocky~Id058aa1db8d60c979680e6a41f7f3e1c39f98235,openstack/kolla-ansible,stable/rocky,bug/1830023-stable/rocky,Id058aa1db8d60c979680e6a41f7f3e1c39f98235,Add ansible_nodename (system hostname) to /etc/hosts,MERGED,2019-06-18 18:12:49.000000000,2019-06-19 23:01:51.000000000,2019-06-19 23:01:51.000000000,9,1,0,666098,4e95bd8f3ad9d3c9093a24cf7ea0ff29dce28667,7,4,1,2,14826,Mark Goddard,mgoddard,"Add ansible_nodename (system hostname) to /etc/hosts

Kolla-Ansible populates /etc/hosts with overcloud hosts using their API
interface IP address. When configured correctly, this allows Nova to use
the API interface for live migration of instances between compute hosts.

The hostname used is from the `ansible_hostname` variable, which is a
short hostname generated by Ansible using the first dot as a delimiter.
However, Nova defaults to use the result of socket.gethostname() to
register nova-compute services.

In deployments where hostnames are set to FQDNs, for example when using
FreeIPA, nova-compute would try to reach the other compute node using
its FQDN (as registered in the Nova database), which was absent from
/etc/hosts. This can result in failures to live migrate instances if
DNS entries don't match.

This commit populates /etc/hosts with `ansible_nodename` (hostname as
reported by the system) in addition to `ansible_hostname`, if they are
different.

Change-Id: Id058aa1db8d60c979680e6a41f7f3e1c39f98235
Closes-Bug: #1830023
(cherry picked from commit 37899026bf7ec6ae70b01571cd0fb2e0173f8f9b)
"
openstack%2Fkolla-ansible~stable%2Fstein~If801f54709114b931677adb605dffb75cfab25cd,openstack/kolla-ansible,stable/stein,bug/1830346-stable/stein,If801f54709114b931677adb605dffb75cfab25cd,Fixes VMTP deploys.,MERGED,2019-06-18 18:20:16.000000000,2019-06-19 22:58:31.000000000,2019-06-19 22:58:31.000000000,1,1,0,666121,87476392c21b535db7dfa36bf4d845450c743af0,7,4,1,1,14826,Mark Goddard,mgoddard,"Fixes VMTP deploys.

Merged config files outputs to python_path which is incorrect. Changing it
to node_config_directory.

Change-Id: If801f54709114b931677adb605dffb75cfab25cd
Closes-Bug: #1830346
(cherry picked from commit 56b2e947a1afae30ef21113717f61e96116aa873)
"
openstack%2Fkolla-ansible~stable%2Frocky~If801f54709114b931677adb605dffb75cfab25cd,openstack/kolla-ansible,stable/rocky,bug/1830346-stable/rocky,If801f54709114b931677adb605dffb75cfab25cd,Fixes VMTP deploys.,MERGED,2019-06-18 18:20:27.000000000,2019-06-19 22:58:30.000000000,2019-06-19 22:58:30.000000000,1,1,0,666122,625cf9f9e85b98c738105f464d66522ad8380a6a,7,4,1,1,14826,Mark Goddard,mgoddard,"Fixes VMTP deploys.

Merged config files outputs to python_path which is incorrect. Changing it
to node_config_directory.

Change-Id: If801f54709114b931677adb605dffb75cfab25cd
Closes-Bug: #1830346
(cherry picked from commit 56b2e947a1afae30ef21113717f61e96116aa873)
"
openstack%2Fkolla-ansible~stable%2Fstein~Ice70d55e6729fe55164dcf85e98acdc1d7925209,openstack/kolla-ansible,stable/stein,monasca_grafana_org_fix-stable/stein,Ice70d55e6729fe55164dcf85e98acdc1d7925209,Fix monasca grafana organisation check,MERGED,2019-06-18 18:21:25.000000000,2019-06-19 22:58:29.000000000,2019-06-19 22:58:29.000000000,1,1,0,666123,65bb58843eb5efde7fdd21b7c6c2f5033a7c791a,7,4,1,1,14826,Mark Goddard,mgoddard,"Fix monasca grafana organisation check

""Create default control plane organisation if it doesn't exist"" task
fails when organisation already exists.
The list organisation task currently returns project domain id.
The create organisation task currently provides project domain name.
Change the create task to use default_project_domain_id instead.

TrivialFix

Change-Id: Ice70d55e6729fe55164dcf85e98acdc1d7925209
(cherry picked from commit 84edfd09b67ef28e40b3ff24b96afa0ded5c532e)
"
openstack%2Fkolla-ansible~stable%2Fstein~I336a81a5ecd824ace7d40e9a35942a1c853554cd,openstack/kolla-ansible,stable/stein,hide-sensitive-logs-stable/stein,I336a81a5ecd824ace7d40e9a35942a1c853554cd,Hide logs when looping over passwords,MERGED,2019-06-18 18:24:00.000000000,2019-06-19 22:58:28.000000000,2019-06-19 22:58:28.000000000,4,0,0,666128,36d5c628656f9e2361ca280a1cdbf734a8ebff0a,7,4,1,2,14826,Mark Goddard,mgoddard,"Hide logs when looping over passwords

When ansible goes in to a loop, by default it prints all the keys for
the item it is looping over. Some roles, when setting up the databases,
iterate over an object that includes the database password.

Override the loop label to hide everything but the database name.

Change-Id: I336a81a5ecd824ace7d40e9a35942a1c853554cd
(cherry picked from commit 30c619d1bc8938ea2177fdc21e503808dbe0cca7)
"
openstack%2Fkolla-ansible~stable%2Frocky~Ice70d55e6729fe55164dcf85e98acdc1d7925209,openstack/kolla-ansible,stable/rocky,monasca_grafana_org_fix-stable/rocky,Ice70d55e6729fe55164dcf85e98acdc1d7925209,Fix monasca grafana organisation check,MERGED,2019-06-18 18:21:34.000000000,2019-06-19 22:53:49.000000000,2019-06-19 22:53:49.000000000,1,1,0,666124,d54c4133503d31833ed63925ba2a90908b57afcd,7,4,1,1,14826,Mark Goddard,mgoddard,"Fix monasca grafana organisation check

""Create default control plane organisation if it doesn't exist"" task
fails when organisation already exists.
The list organisation task currently returns project domain id.
The create organisation task currently provides project domain name.
Change the create task to use default_project_domain_id instead.

TrivialFix

Change-Id: Ice70d55e6729fe55164dcf85e98acdc1d7925209
(cherry picked from commit 84edfd09b67ef28e40b3ff24b96afa0ded5c532e)
"
openstack%2Fkolla-ansible~stable%2Frocky~I336a81a5ecd824ace7d40e9a35942a1c853554cd,openstack/kolla-ansible,stable/rocky,hide-sensitive-logs-stable/rocky,I336a81a5ecd824ace7d40e9a35942a1c853554cd,Hide logs when looping over passwords,MERGED,2019-06-18 18:24:09.000000000,2019-06-19 22:53:48.000000000,2019-06-19 22:53:48.000000000,4,0,0,666129,a3a9720d766456d28bafabe74e2f6883d3f18b48,7,4,1,2,14826,Mark Goddard,mgoddard,"Hide logs when looping over passwords

When ansible goes in to a loop, by default it prints all the keys for
the item it is looping over. Some roles, when setting up the databases,
iterate over an object that includes the database password.

Override the loop label to hide everything but the database name.

Change-Id: I336a81a5ecd824ace7d40e9a35942a1c853554cd
(cherry picked from commit 30c619d1bc8938ea2177fdc21e503808dbe0cca7)
"
openstack%2Fkolla-ansible~stable%2Fqueens~I3f921ac51acab1b1020a459c07c755af7023e026,openstack/kolla-ansible,stable/queens,blazar-multi-region-aggregate-stable/queens,I3f921ac51acab1b1020a459c07c755af7023e026,Fix Blazar Nova aggregate in multi-region setup,MERGED,2019-06-18 18:24:53.000000000,2019-06-19 22:53:47.000000000,2019-06-19 22:53:47.000000000,1,0,0,666133,489a0a31a14e7f1abe4cda37e31c1ead3ce017e7,7,4,1,1,14826,Mark Goddard,mgoddard,"Fix Blazar Nova aggregate in multi-region setup

The Nova aggregate was always defaulting to some region (usually first
in the Keystone endpoint list) when registering the Nova aggregate for
Blazar. Add in a region override to ensure we are always writing to the
region being deployed.

Change-Id: I3f921ac51acab1b1020a459c07c755af7023e026
(cherry picked from commit f20cbf49580f1457db22346c413991cf60c90dba)
"
openstack%2Fkolla-ansible~stable%2Frocky~I3f921ac51acab1b1020a459c07c755af7023e026,openstack/kolla-ansible,stable/rocky,blazar-multi-region-aggregate-stable/rocky,I3f921ac51acab1b1020a459c07c755af7023e026,Fix Blazar Nova aggregate in multi-region setup,MERGED,2019-06-18 18:24:45.000000000,2019-06-19 22:53:46.000000000,2019-06-19 22:53:46.000000000,1,0,0,666132,9107fe0499642deb1e83061e7ea2927abb1693bb,7,4,1,1,14826,Mark Goddard,mgoddard,"Fix Blazar Nova aggregate in multi-region setup

The Nova aggregate was always defaulting to some region (usually first
in the Keystone endpoint list) when registering the Nova aggregate for
Blazar. Add in a region override to ensure we are always writing to the
region being deployed.

Change-Id: I3f921ac51acab1b1020a459c07c755af7023e026
(cherry picked from commit f20cbf49580f1457db22346c413991cf60c90dba)
"
openstack%2Fkolla~stable%2Fqueens~I7babdb794bec3b08047101e2537f030e2217cedb,openstack/kolla,stable/queens,bug/1830420-stable/queens,I7babdb794bec3b08047101e2537f030e2217cedb,Remove HTTP configuration shipped in openstack-nova-placement-api RPM,MERGED,2019-06-18 14:40:20.000000000,2019-06-19 22:21:09.000000000,2019-06-19 22:21:09.000000000,2,1,0,666002,57ed1ea4f07f7e21496df5d2d8ebb943eae68c8a,8,4,1,1,15197,Pierre Riteau,priteau,"Remove HTTP configuration shipped in openstack-nova-placement-api RPM

The RDO openstack-nova-placement-api RPM ships with an HTTP
configuration deploying placement on port 8778, while Kolla-Ansible
creates another file to configure it to listen on port 8780. If
`placement_api_port` is changed to use port 8778, the placement_api
container will fail to start because the port is already in use.

This commit removes the configuration file shipped with the RPM package
to avoid this conflict.

Change-Id: I7babdb794bec3b08047101e2537f030e2217cedb
Closes-Bug: #1830420
(cherry picked from commit 8e9cc856bfbdcb97e04df4c950aaeaf485cd5cc4)
"
openstack%2Fpython-neutronclient~master~Ia5d35fbb585ed0d0d11c8d035196981e9dd46785,openstack/python-neutronclient,master,doc-ref,Ia5d35fbb585ed0d0d11c8d035196981e9dd46785,doc: Remove prompt from python binding examples,MERGED,2019-05-10 02:00:52.000000000,2019-06-19 22:20:52.000000000,2019-06-19 22:20:51.000000000,36,36,0,658239,dc10f44128b26e7c964957c5e9c8d00ff91a3c0e,12,4,1,1,841,Akihiro Motoki,amotoki,"doc: Remove prompt from python binding examples

The current python binding examples have prompts of python
interactive mode, but these prompts make it difficult to
copy-and-paste the examples. This commit removes them.

Change-Id: Ia5d35fbb585ed0d0d11c8d035196981e9dd46785
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~If7fad9f24c7294c2d749fc3838b1fb71182930fc,openstack/tripleo-heat-templates,stable/stein,bug/1829769,If7fad9f24c7294c2d749fc3838b1fb71182930fc,Ensure openstack clients are installed,MERGED,2019-06-04 13:55:31.000000000,2019-06-19 22:15:45.000000000,2019-06-05 17:17:09.000000000,8,0,1,663035,fd56198717e48fbffdbd867a0aa7173f5d0ed314,11,5,1,7,14985,Alex Schultz,mwhahaha,"Ensure openstack clients are installed

We need to ensure the openstack clients are installed on controllers for
the deployed server case. This should be handled by the overcloud images
themselves, however if the images are not used we should make sure the
clients get installed with our OpenstackClients service.

Change-Id: If7fad9f24c7294c2d749fc3838b1fb71182930fc
Related-Bug: #1829769
(cherry picked from commit 885715855b19ec71ab362d92233478f3afb5a696)
"
openstack%2Fmagnum~master~I38157a8af7e38b007344942f54608eb413a4dfd9,openstack/magnum,master,kubernetes-images,I38157a8af7e38b007344942f54608eb413a4dfd9,Build kubernetes v1.15.0,MERGED,2019-06-19 18:45:41.000000000,2019-06-19 22:00:31.000000000,2019-06-19 22:00:31.000000000,1,1,0,666417,85bd42474b2620b9a6cf4c13a2144d73eaf8a219,12,3,1,1,20498,Spyros Trigazis,strigazi,"Build kubernetes v1.15.0

story: 2005124
task: 30581

Change-Id: I38157a8af7e38b007344942f54608eb413a4dfd9
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
"
openstack%2Fopenstack-ansible-os_mistral~master~Iefc2aceb6c297622af76f233a62afe464f5b424a,openstack/openstack-ansible-os_mistral,master,openstack/openstack-ansible-tests/sync-tests,Iefc2aceb6c297622af76f233a62afe464f5b424a,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:16:12.000000000,2019-06-19 21:54:03.000000000,2019-06-19 21:54:02.000000000,1,1,0,666113,0d431e8ac6e8252bfd14eab6d80d9b1da57340ee,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Iefc2aceb6c297622af76f233a62afe464f5b424a
"
openstack%2Fkolla~stable%2Frocky~Icb8d572b7f084804e0423a8a3171dd66646b3885,openstack/kolla,stable/rocky,neutron-migrate-fix-stable/rocky,Icb8d572b7f084804e0423a8a3171dd66646b3885,[neutron] Do not migrate all subprojects,MERGED,2019-06-18 17:40:54.000000000,2019-06-19 21:51:14.000000000,2019-06-19 21:51:14.000000000,1,1,0,666076,deed69a8bb86c08183be2b38e3af460c45cb7b3b,8,5,1,1,14826,Mark Goddard,mgoddard,"[neutron] Do not migrate all subprojects

Instead of migrating all Neutron subprojects at bootstrap time, target
specifically the neutron, neutron-fwaas, and neutron-vpnaas subprojects
speficially. If a subproject is not specified, all subprojects are
migrated, which is not the intended behavior.

Change-Id: Icb8d572b7f084804e0423a8a3171dd66646b3885
(cherry picked from commit f36d7aacf28bc75a4b0ece73b45aa09591cd262c)
"
openstack%2Fkolla~stable%2Fqueens~I32ba1abd204c9dba4bbe3132b5650b0e391616af,openstack/kolla,stable/queens,bug/1826327-stable/queens,I32ba1abd204c9dba4bbe3132b5650b0e391616af,Add sha256 in ceph fetch keys,MERGED,2019-06-18 17:53:32.000000000,2019-06-19 21:51:13.000000000,2019-06-19 21:51:13.000000000,2,0,0,666084,7951713790464eedaec1e59851a42febc4acc346,8,4,1,1,14826,Mark Goddard,mgoddard,"Add sha256 in ceph fetch keys

fetch_ceph_keys.py is using insecure sha1 function, this patch adds
sha256 beside sha1 - in order to remove sha1 safely in U release.

Change-Id: I32ba1abd204c9dba4bbe3132b5650b0e391616af
Closes-Bug: #1826327
(cherry picked from commit 0a2dc8aa1d267da3c1c2925b3f292bd96aa50edb)
"
openstack%2Finstack-undercloud~stable%2Fqueens~I9e5d5e6cd6873431a17280a8a8c8ae5af45163c4,openstack/instack-undercloud,stable/queens,bug/1833429,I9e5d5e6cd6873431a17280a8a8c8ae5af45163c4,Quote controller_public_host_wrapped,MERGED,2019-06-19 14:26:02.000000000,2019-06-19 21:50:22.000000000,2019-06-19 21:50:22.000000000,1,1,0,666305,3d17c6d6856f99e3792633a8bad87876b83d121c,7,3,1,1,14985,Alex Schultz,mwhahaha,"Quote controller_public_host_wrapped

If this is an IPv6 address, it currently will be set to something like
controller_public_host_wrapped: [2001:db8::2]

The yaml parser interprets this as a list and tries to part the IPv6
address as a hash. To avoid this, we need to wrap the value in quotes.

Change-Id: I9e5d5e6cd6873431a17280a8a8c8ae5af45163c4
Closes-Bug: #1833429
(cherry picked from commit e4cc043a1c945dc527f23897df4f06f9fb5ce2b8)
"
openstack%2Fnova~master~I63f0cabe65f6cafea99a38d974963ee3f6aefbfd,openstack/nova,master,bug/1821244,I63f0cabe65f6cafea99a38d974963ee3f6aefbfd,WIP: A functional test for bug 1821244,ABANDONED,2019-03-25 20:58:43.000000000,2019-06-19 21:37:42.000000000,,39,0,4,647603,512786fb1cecd4faeef9b9adf438fdd53dab0b46,21,10,1,1,6873,Matt Riedemann,mriedem,"WIP: A functional test for bug 1821244

Trying to recreate the bug to make sure the fix
in I15a7c13edf78884ec223fd531a78a341106b41b8
makes sense.

Change-Id: I63f0cabe65f6cafea99a38d974963ee3f6aefbfd
Related-Bug: #1821244
"
openstack%2Ftripleo-ansible~master~I28526b022b8c2b5281d2a536231ebcac3b0a7662,openstack/tripleo-ansible,master,role-addition,I28526b022b8c2b5281d2a536231ebcac3b0a7662,Update the _skeleton_ role for proper file generation,MERGED,2019-06-19 13:56:46.000000000,2019-06-19 21:18:39.000000000,2019-06-19 21:18:39.000000000,26,0,2,666295,7ce3a92ff50340640b622589152e235eaa1d45cf,21,4,4,7,7353,Kevin Carter,cloudnull,"Update the _skeleton_ role for proper file generation

This change updates the _skeleton_ role so that the files it generates are
properly formatted. When a new role is generated the resulting code will
now pass all linting checks by default. Before this change several files,
which were assumed to be needing modification by the developer, would fail
lint checks right after generation due to newline issues at the end of the
file.

A test has been added to ensure the role generation process produces
minimally functional role that is 100% compliant.

Change-Id: I28526b022b8c2b5281d2a536231ebcac3b0a7662
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fopenstack-ansible-os_masakari~master~I485dbf24fbb69773c2bf9a9fa1e6328cf751ea8e,openstack/openstack-ansible-os_masakari,master,openstack/openstack-ansible-tests/sync-tests,I485dbf24fbb69773c2bf9a9fa1e6328cf751ea8e,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:16:08.000000000,2019-06-19 21:13:18.000000000,2019-06-19 21:13:18.000000000,1,1,0,666112,14dbc319bb8e271465d63420121ee4bf18cacbb2,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I485dbf24fbb69773c2bf9a9fa1e6328cf751ea8e
"
openstack%2Fkolla-ansible~stable%2Fqueens~I21eb1164c2f67098b81edbd5cc106472663b92cb,openstack/kolla-ansible,stable/queens,multi-region-nova-cells-stable/queens,I21eb1164c2f67098b81edbd5cc106472663b92cb,Support multi-region discovery of Nova cells,MERGED,2019-06-18 18:23:28.000000000,2019-06-19 21:11:36.000000000,2019-06-19 21:11:36.000000000,1,0,0,666127,18d8960e4466a90fdb0d508a1d5ad89001a4c559,10,4,1,1,14826,Mark Goddard,mgoddard,"Support multi-region discovery of Nova cells

In a multi-region environment, each region is being deployed separately.
Cell discovery, however, would sometimes fail due to it picking a region
different than the one being deployed. Most likely, an internal endpoint
for region A will not be visible from region B. Furthermore, it is not
very useful to discover hosts on a region you're not modifying.

This changes the check to only run against nova compute services located
in the region being deployed.

Change-Id: I21eb1164c2f67098b81edbd5cc106472663b92cb
(cherry picked from commit 328e14253d82a7fca0a4351f6f82211435477e62)
"
openstack%2Fopenstack-ansible-os_aodh~master~I55dd2ba009b8962ca0ea3e96fc4ea5a35f707286,openstack/openstack-ansible-os_aodh,master,openstack/openstack-ansible-tests/sync-tests,I55dd2ba009b8962ca0ea3e96fc4ea5a35f707286,Updated from OpenStack Ansible Tests,MERGED,2019-06-11 22:16:59.000000000,2019-06-19 21:09:15.000000000,2019-06-19 21:09:15.000000000,7,4,0,664713,14891358c8c650d6f47ee374227a07339b087977,9,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I55dd2ba009b8962ca0ea3e96fc4ea5a35f707286
"
openstack%2Finstack-undercloud~stable%2Frocky~I9e5d5e6cd6873431a17280a8a8c8ae5af45163c4,openstack/instack-undercloud,stable/rocky,bug/1833429,I9e5d5e6cd6873431a17280a8a8c8ae5af45163c4,Quote controller_public_host_wrapped,MERGED,2019-06-19 14:24:50.000000000,2019-06-19 21:09:03.000000000,2019-06-19 21:09:03.000000000,1,1,0,666304,e4cc043a1c945dc527f23897df4f06f9fb5ce2b8,7,3,1,1,14985,Alex Schultz,mwhahaha,"Quote controller_public_host_wrapped

If this is an IPv6 address, it currently will be set to something like
controller_public_host_wrapped: [2001:db8::2]

The yaml parser interprets this as a list and tries to part the IPv6
address as a hash. To avoid this, we need to wrap the value in quotes.

Change-Id: I9e5d5e6cd6873431a17280a8a8c8ae5af45163c4
Closes-Bug: #1833429
"
openstack%2Foslo.i18n~master~I87212a709b9e474238f4a4feca5ed806cfb4bd49,openstack/oslo.i18n,master,clarify-source-inspection,I87212a709b9e474238f4a4feca5ed806cfb4bd49,Clarify that translation strings are extracted via source inspection,MERGED,2019-06-12 11:17:19.000000000,2019-06-19 21:03:02.000000000,2019-06-19 21:03:02.000000000,2,2,0,664859,7934e6f40554303067366897278ba8ba3adc6599,11,7,1,1,2394,Adam Spiers,adam.spiers,"Clarify that translation strings are extracted via source inspection

Make it clearer why the function argument to _() etc. has to be a
string, by explicitly mentioning source inspection, as suggested by
Doug:

https://review.opendev.org/#/c/664670/1/doc/source/user/guidelines.rst@164

Change-Id: I87212a709b9e474238f4a4feca5ed806cfb4bd49
"
openstack%2Foslo.i18n~master~Ib86013ff5e7bd07ddc696da2e4c56ce9d07f0cb6,openstack/oslo.i18n,master,no-log-translations,Ib86013ff5e7bd07ddc696da2e4c56ce9d07f0cb6,Fix guidelines w.r.t. translation of log messages,MERGED,2019-06-11 18:55:43.000000000,2019-06-19 21:02:18.000000000,2019-06-19 21:02:18.000000000,42,88,23,664670,746be6362b94f940a5f8e254c1897fd6da0fd598,35,12,3,1,2394,Adam Spiers,adam.spiers,"Fix guidelines w.r.t. translation of log messages

Translation of log messages was ceased starting with Pike, but these
guidelines were only partially updated (by Ia34ad79ca9), with a small
warning block buried in the middle of a long page of unchanged
guidelines which it somewhat contradicted.

So update the rest of the page to align with current best practices in
order to avoid confusion.

Also summarise the primary reasons for the change in policy, so that
curious readers don't have to trawl through long email threads to find
out.

Change-Id: Ib86013ff5e7bd07ddc696da2e4c56ce9d07f0cb6
"
openstack%2Ftempest~master~Ib9fac3eafa8e0dfe17771b3b92a337b9f8bec911,openstack/tempest,master,drop-multiattach-job,Ib9fac3eafa8e0dfe17771b3b92a337b9f8bec911,Fix cleanup race in test_volume_swap_with_multiattach,ABANDONED,2018-12-11 20:57:00.000000000,2019-06-19 21:02:09.000000000,,9,0,1,624491,9fabce48e186b1ff5f731e317fe1a0c544b6e765,6,4,1,1,6873,Matt Riedemann,mriedem,"Fix cleanup race in test_volume_swap_with_multiattach

The test sets up resources in this order:

1. create volume1
2. create volume2
3. create server1 and server2 (multi-create request)
4. attach volume1 to server1
5. attach volume1 to server2
6. swap volume1 to volume2 on server1

At this point, volume1 is attached to server2 only
and volume2 is attached to server1 only.

When the test tears down, it will cleanup in this order:

1. detach volume1 from server2
2. detach volume1 from server1 (this should 404 since
   volume1 is not attached to server1 after the swap but
   the _detach_volume method ignores 404s)
3. delete server1 and server2
4. delete volume2
5. delete volume1

There is a race on teardown where tempest doesn't know
volume2 is attached to server1, deletes server1 (which
detaches volume2) but since tempest isn't waiting for
volume2 to be detached before trying to delete it, it just
goes to delete volume2 which fails because the backend
target is not yet disconnected.

This change resolves the race by having the test explicitly
detach volume2 from server1 before the automated teardown
runs.

Change-Id: Ib9fac3eafa8e0dfe17771b3b92a337b9f8bec911
Closes-Bug: #1807723
"
openstack%2Fpython-cinderclient~master~I8cd63f3d35e083f6fd90ceb1ba01cd8a763f5abd,openstack/python-cinderclient,master,bp/add-volume-re-image-api,I8cd63f3d35e083f6fd90ceb1ba01cd8a763f5abd,WIP: Add support for microversion 3.56 (volume re-image),ABANDONED,2018-12-04 22:22:05.000000000,2019-06-19 21:01:48.000000000,,102,1,0,622614,aab74572fc09efe4b5d3dd0c5bf866257697ffcf,7,4,2,5,6873,Matt Riedemann,mriedem,"WIP: Add support for microversion 3.56 (volume re-image)

This adds the ""cinder reimage"" CLI and related python
API bindings for the os-reimage volume action API.

Depends-On: https://review.openstack.org/606346/

Part of blueprint add-volume-re-image-api

Change-Id: I8cd63f3d35e083f6fd90ceb1ba01cd8a763f5abd
"
openstack%2Fkolla-ansible~stable%2Fqueens~I336a81a5ecd824ace7d40e9a35942a1c853554cd,openstack/kolla-ansible,stable/queens,hide-sensitive-logs-stable/queens,I336a81a5ecd824ace7d40e9a35942a1c853554cd,Hide logs when looping over passwords,MERGED,2019-06-18 18:24:19.000000000,2019-06-19 20:58:21.000000000,2019-06-19 20:58:21.000000000,4,0,0,666130,554187c9b6349f0246e7be90aac4f758c3520bbc,9,4,1,2,14826,Mark Goddard,mgoddard,"Hide logs when looping over passwords

When ansible goes in to a loop, by default it prints all the keys for
the item it is looping over. Some roles, when setting up the databases,
iterate over an object that includes the database password.

Override the loop label to hide everything but the database name.

Change-Id: I336a81a5ecd824ace7d40e9a35942a1c853554cd
(cherry picked from commit 30c619d1bc8938ea2177fdc21e503808dbe0cca7)
"
openstack%2Fopenstack-ansible-os_blazar~master~Id00f614fa662991186d6c277fa3869413a9febca,openstack/openstack-ansible-os_blazar,master,openstack/openstack-ansible-tests/sync-tests,Id00f614fa662991186d6c277fa3869413a9febca,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:25.000000000,2019-06-19 20:57:56.000000000,2019-06-19 20:57:56.000000000,1,1,0,666101,1db7b090ff411569afcd28cf3aac078a6d86d035,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Id00f614fa662991186d6c277fa3869413a9febca
"
openstack%2Fopenstack-ansible-os_ironic~master~I486e29b7d0d0f6ffc403c4e6b25b95641a1691fc,openstack/openstack-ansible-os_ironic,master,openstack/openstack-ansible-tests/sync-tests,I486e29b7d0d0f6ffc403c4e6b25b95641a1691fc,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:53.000000000,2019-06-19 20:51:01.000000000,2019-06-19 20:51:01.000000000,1,1,0,666109,9cd0e97dbc39ce374eb3c670867f870a365bda95,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I486e29b7d0d0f6ffc403c4e6b25b95641a1691fc
"
openstack%2Fkeystoneauth~master~I5a6d0b7b1e5c9fda4e16b107b026fac2b44a051f,openstack/keystoneauth,master,fix-bandit,I5a6d0b7b1e5c9fda4e16b107b026fac2b44a051f,Cap bandit,MERGED,2019-06-19 16:36:20.000000000,2019-06-19 20:49:35.000000000,2019-06-19 20:49:35.000000000,1,1,0,666388,b56a2a82d599ef0d6c3e1369b500cc7cbb8035e7,7,4,1,1,8482,Colleen Murphy,krinkle,"Cap bandit

Pin bandit to <1.6.0 because subsequent releases don't work for us.

Change-Id: I5a6d0b7b1e5c9fda4e16b107b026fac2b44a051f
"
openstack%2Fgoal-tools~master~I836609ed663de62ce92c9f5ada93acde52ef5941,openstack/goal-tools,master,story/2003656,I836609ed663de62ce92c9f5ada93acde52ef5941,Ignore invalid stories in import-goal,ABANDONED,2018-09-04 17:52:49.000000000,2019-06-19 20:45:54.000000000,,6,2,0,599722,d0aaf57a81cde752da4ac19a30154ed13bd3069e,4,2,1,1,6873,Matt Riedemann,mriedem,"Ignore invalid stories in import-goal

If --separate-stories and --story are not specified
with import-goal, the command attempts to lookup existing
stories with the same goal title and will re-use the first
one found to create tasks for the goal.

This change filters out invalid stories during the find_story
routine since invalid stories are likely invalid for a reason
and should not be re-used for creating new goal tasks.

Change-Id: I836609ed663de62ce92c9f5ada93acde52ef5941
Story: 2003656
Task: 26117
"
openstack%2Fnova~master~Iddd742791d83e3bef834f996ec1001d6003f803b,openstack/nova,master,bug/1766919,Iddd742791d83e3bef834f996ec1001d6003f803b,Add a warnings filter for inspect.getargspec usage,ABANDONED,2018-04-25 21:01:58.000000000,2019-06-19 20:45:15.000000000,,8,0,0,564343,a58b5dc1058465757aeef519ca0ada484ef72a2f,25,10,2,1,6873,Matt Riedemann,mriedem,"Add a warnings filter for inspect.getargspec usage

This adds a warnings filter to the WarningsFixture
such that any use of the deprecated inspect.getargspec
will result in an error to avoid new usage.

Change-Id: Iddd742791d83e3bef834f996ec1001d6003f803b
Related-Bug: #1766919
"
openstack%2Fnova~master~I6b48f1917fa6f6348dc0e3b70ec156f5551155a5,openstack/nova,master,bug/1784074,I6b48f1917fa6f6348dc0e3b70ec156f5551155a5,WIP: Update instance mapping as soon as instance is created in cell,ABANDONED,2018-07-27 21:44:19.000000000,2019-06-19 20:43:36.000000000,,23,17,8,586713,41c7cb7a19747c308b881205b4af6e30eadcbcd7,21,17,1,1,6873,Matt Riedemann,mriedem,"WIP: Update instance mapping as soon as instance is created in cell

As soon as we create an instance in a cell, we should update the
instance mapping for that instance otherwise we could hit failures
in between the time the instance is created in the cell and the
instance mapping is updated, which would leave the instance mapping
not pointing at any cell even though the instance is created in a
cell and therefore a user could see it when listing instances (which
iterate the cells directly) but not actually perform any actions on
it, except delete - but even then delete would just delete the build
request and leave the instance orphaned in the cell (since the related
instance mapping is not pointing at the cell).

Change-Id: I6b48f1917fa6f6348dc0e3b70ec156f5551155a5
Closes-Bug: #1784074
"
openstack%2Fopenstack-helm-infra~master~I8f76a6f0f4105d47efbc562d190f2eabf51764c1,openstack/openstack-helm-infra,master,,I8f76a6f0f4105d47efbc562d190f2eabf51764c1,[Ceph]: Remove duplicate values,MERGED,2019-06-19 16:43:02.000000000,2019-06-19 20:39:48.000000000,2019-06-19 20:39:47.000000000,0,1,0,666392,d1964b7b384c3d072846e124faf929e9ba4d6d1b,10,8,2,1,29132,Krishna Venkata,kvenkata986,"[Ceph]: Remove duplicate values

secret_keystone_rgw is defined twice in
same section in lines 548 and 550.

Change-Id: I8f76a6f0f4105d47efbc562d190f2eabf51764c1
"
openstack%2Fnova~master~Id559e8e347156e8303e2cd9e7682e396e518e543,openstack/nova,master,bug/1773945,Id559e8e347156e8303e2cd9e7682e396e518e543,Handle broken instance mapping in InstanceLister,ABANDONED,2018-06-14 22:01:38.000000000,2019-06-19 20:35:00.000000000,,55,1,4,575556,d6b8035d39df62ecbedf8c26f610204a60bb8aec,15,11,1,2,6873,Matt Riedemann,mriedem,"Handle broken instance mapping in InstanceLister

If for whatever reason we are listing instances with
a marker instance that is not a build request but whose
instance mapping does not have a cell mapping, we need
to handle it explicitly and fail, leaving a breadcrumb
for the operator to investigate, rather than a confusing
""marker not found"" error for the user.

Instances are represented in the API via build requests
before the scheduler picks a host and the instance is created
in the cell for that host. Once that is done, the instance
mapping for the instance is updated with the cell and the
build request is deleted. If the instance fails to schedule,
it is created in cell0 but the same rules apply.

If we failed to update the instance mapping with the cell
and the build request is gone, or we ignored it for some
reason while listing instances, we need to bail early with
an internal error message.

Change-Id: Id559e8e347156e8303e2cd9e7682e396e518e543
Partial-Bug: #1773945
"
openstack%2Fopenstack-helm~master~I359fcc239610df9e78ed0d490706673f37034936,openstack/openstack-helm,master,fix-glance-setup,I359fcc239610df9e78ed0d490706673f37034936,Fixed wrong path to the value,MERGED,2019-06-19 07:33:07.000000000,2019-06-19 20:32:24.000000000,2019-06-19 20:32:24.000000000,1,1,0,666237,2d754adf212476e9752f09626123e9571a6e5941,9,7,1,1,9963,Jiri Suchomel,jsuchome,"Fixed wrong path to the value

Apparently there was a copy & paste bug introduced in https://review.opendev.org/#/c/665750/

Change-Id: I359fcc239610df9e78ed0d490706673f37034936
"
openstack%2Fhorizon~master~Iadb6ba54262f2848933fc0c7bf547b2c6458e82b,openstack/horizon,master,bug/1832804,Iadb6ba54262f2848933fc0c7bf547b2c6458e82b,Change the way of verifying field cidr,MERGED,2019-06-13 07:48:32.000000000,2019-06-19 20:20:22.000000000,2019-06-19 20:20:21.000000000,5,0,2,665085,26146458ea63efa1e9615cb571099d274d66e20f,11,5,2,1,27738,mashuting,mashuting,"Change the way of verifying field cidr

If don't choice 'Create Subnet', the subnet section will not show,
but form is blocked by validation of field cidr is required, set
required to false and using conditional statement to determine.

Closes-Bug: #1832804

Change-Id: Iadb6ba54262f2848933fc0c7bf547b2c6458e82b
"
openstack%2Ftripleo-ansible~master~I5c1a5b600f1d77b1375e9c4ed3cbabccf3196c17,openstack/tripleo-ansible,master,fixup-ci,I5c1a5b600f1d77b1375e9c4ed3cbabccf3196c17,Re-organize zuul config,MERGED,2019-06-19 16:56:19.000000000,2019-06-19 20:14:38.000000000,2019-06-19 20:14:38.000000000,89,92,2,666399,eb3dd70fc9f6af1c2077423639d50873b227c3fa,18,4,6,6,14985,Alex Schultz,mwhahaha,"Re-organize zuul config

To simplify the configuration, let's move the molecule jobs to their own
file and leverage a template for inclusion into the main zuul config.

Change-Id: I5c1a5b600f1d77b1375e9c4ed3cbabccf3196c17
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fopenstack-helm~master~I3451c44a30a2e3d4bb58d2ac512e69da0781e961,openstack/openstack-helm,master,,I3451c44a30a2e3d4bb58d2ac512e69da0781e961,Sync Sphinx requirement,MERGED,2019-06-19 09:50:35.000000000,2019-06-19 20:13:11.000000000,2019-06-19 20:13:11.000000000,7,5,0,666255,4fd741d6bf5558d02df555e80e824448e343420d,9,4,2,3,28614,jacky06,jacky06,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Remove unncessary ""==""

Change-Id: I3451c44a30a2e3d4bb58d2ac512e69da0781e961
"
openstack%2Ftripleo-heat-templates~master~Ibbb4548f4cd5ea72a20bc1b0b7073cfb14be2068,openstack/tripleo-heat-templates,master,bug/1833347,Ibbb4548f4cd5ea72a20bc1b0b7073cfb14be2068,Remove duplicate mount destinations in containers,MERGED,2019-06-19 05:10:31.000000000,2019-06-19 20:12:55.000000000,2019-06-19 20:01:53.000000000,0,2,0,666220,b6c88a99aaefb5b89ec04f4c85e131d559c575bc,26,13,2,2,8833,Rabi Mishra,rabi,"Remove duplicate mount destinations in containers

Change-Id: Ibbb4548f4cd5ea72a20bc1b0b7073cfb14be2068
Closes-Bug: #1833347
"
openstack%2Fswift~master~I8d6f66dfe846493972e433f70bad76a33d204562,openstack/swift,master,py3-tempurl,I8d6f66dfe846493972e433f70bad76a33d204562,Fix up how we memcache on py3,MERGED,2019-05-30 01:14:51.000000000,2019-06-19 20:09:56.000000000,2019-06-19 20:08:40.000000000,54,8,6,662115,ef8818a6399e295ebf0dc891ef483e4840a61475,39,6,5,4,15343,Tim Burke,tburke,"Fix up how we memcache on py3

Previously, we stored the WSGI strings in memcached and returned them when
responding to get_account/container_info calls. This would lead to cache
corruption in a heterogenous py2/py3 cluster such as you would have during
a rolling upgrade.

Now, only store and return native strings.

Change-Id: I8d6f66dfe846493972e433f70bad76a33d204562
"
openstack%2Ftripleo-upgrade~master~Ided7f974c571c45ab83a59c6dd35ad522555caa3,openstack/tripleo-upgrade,master,661302-patch26,Ided7f974c571c45ab83a59c6dd35ad522555caa3,Automate the undercloud leapp upgrade.,MERGED,2019-05-24 14:22:11.000000000,2019-06-19 20:01:54.000000000,2019-06-19 20:01:54.000000000,156,49,42,661302,7063b476f8744ab21f79de33e2127119a195c832,80,10,33,10,26343,Jose Luis Franco,jfrancoa,"Automate the undercloud leapp upgrade.

This patch covers the automation of the undercloud's operating
system upgrade using Leapp.
It includes a new option for Infrared --undercloud_os_upgrade
that will allow us to run only the specific bits to upgrade the
undercloud's OS. The node subscription needs to be done before
running this set of tasks, otherwise it will fail.

Before running leapp it's needed to clean up all the RHEL7
packages and some other packages which conflict with leapp, like
is the case of rhos-release.

Once the whole leapp upgrade and reboot has been performed, the
undercloud might be unsubscribed if desired by setting the
leapp_unregister variable.

Due to the incompatibility of the python2 binary interpreter and
RHEL8, we also need to set the ansible_python_interpreter variable
at playbook level inside infrared-plugin/main.yml.

Co-Authored: Natal Ngétal<hobbestigrou@erakis.eu>
Change-Id: Ided7f974c571c45ab83a59c6dd35ad522555caa3
"
openstack%2Fopenstack-helm-infra~master~Ia92a8b64205ab52ad15237e9fdeaacb61aae6400,openstack/openstack-helm-infra,master,add-keepalived-router-id,Ia92a8b64205ab52ad15237e9fdeaacb61aae6400,Ingress: add keepalived-router-id for keeplived vip,MERGED,2019-06-05 05:22:28.000000000,2019-06-19 19:50:02.000000000,2019-06-19 19:50:02.000000000,3,0,0,663231,9022c9237d32c2dc69e4a24aafac9a40610043b6,23,6,4,2,21892,Siri Kim,shiriul,"Ingress: add keepalived-router-id for keeplived vip

When there are multiple keepalived instances in same network space,
equal keepalived router-ids cause conflict (now default router-id number
is 100). So we have to specify keepalived's router_id for VRRP peering.
This commit make keepalived route-id configurable, so that we can
prevent keepalived conflict caused by default keepalived router-id.

Change-Id: Ia92a8b64205ab52ad15237e9fdeaacb61aae6400
"
openstack%2Fnova~master~I5a543d5442748c39217078ff2145dab3d8a46d84,openstack/nova,master,bug/1781421,I5a543d5442748c39217078ff2145dab3d8a46d84,Avoid up-call in get_instance_availability_zone,ABANDONED,2018-07-12 19:09:19.000000000,2019-06-19 19:47:16.000000000,,45,19,5,582342,87717e1a5d23aca4a66541134cc2333dd7bcac87,28,16,1,4,6873,Matt Riedemann,mriedem,"Avoid up-call in get_instance_availability_zone

During boot from volume, if [cinder]/cross_az_attach=False,
nova-compute will compare the instance.availability_zone,
which is set in (super)conductor once the scheduler picks a
host (see 03b4c67b22f49d325386bc3ebd2ade79b44fa699), against
the volume's availability zone.

To get the instance AZ, we call get_instance_availability_zone
which will up-call to the API DB to get the availability zone
for the instance.host if set (which by the time we hit this
during boot from volume in the compute service it is set
because the instance_claim in the resource tracker sets
instance.host).

In a split MQ deployment where the cell isn't configured to
reach ""the top"" (the API DB), this results in a
CantStartEngineError trying to query against the aggregates
table in the API DB.

The thing is, because of 03b4c67b2 in Pike, the
instance.availability_zone field will be set by the time we
do this check during boot from volume on the compute, *and*
instance.host is set because of RT.instance_claim.

So rather than do the up-call to get the AZ for the host on
which we're building, we can just pull it off the instance
if both the instance host and az fields are set.

The existing cache-based checks are left intact because older
instances created before 03b4c67b2 in Pike may have their host
field set but not the availabilty_zone field, so in that case
we'd do the up-call (although this isn't a problem for boot
from volume on those instances since they have already been
created).

The existing tests are cleaned up and better documented for
the various scenarios.

This also allows us to check one more 'up call' caveat off our
cells v2 list in the docs.

Change-Id: I5a543d5442748c39217078ff2145dab3d8a46d84
Closes-Bug: #1781421
"
openstack%2Fdevstack~master~Ia37f282e573f3f3d50ff391ebfd70bf65c9a97b5,openstack/devstack,master,guestfs-debug,Ia37f282e573f3f3d50ff391ebfd70bf65c9a97b5,Enable guestfs.debug when we are injecting files,ABANDONED,2017-12-01 19:36:44.000000000,2019-06-19 19:35:21.000000000,,3,0,0,524710,9d620f2e59aa17dc8a5d6e176d38bf0c4233662e,63,12,5,1,6873,Matt Riedemann,mriedem,"Enable guestfs.debug when we are injecting files

Sometimes during CI we see guest spawn hang during
injection of data to the disk image via guestfs,
not even necessarily personality files, could just
be metadata items. So enable guestfs debug to help
debug anything that goes wrong here.

Depends-On: https://review.opendev.org/524748/

Change-Id: Ia37f282e573f3f3d50ff391ebfd70bf65c9a97b5
"
openstack%2Fnova~master~I045c6293ad1f96af7b9bb3961c93300641852d86,openstack/nova,master,bug/1713786,I045c6293ad1f96af7b9bb3961c93300641852d86,Pass migration from API to conductor for evacuate,ABANDONED,2017-09-01 19:28:54.000000000,2019-06-19 19:31:14.000000000,,70,21,1,500176,9bd1d34b3f1ec0bdf035611790eccb97bdd5a65e,89,14,7,7,6873,Matt Riedemann,mriedem,"Pass migration from API to conductor for evacuate

The compute API creates the migration record and the
conductor compute task manager is reading it from the
database. We can make this more efficient by just passing
it through.

Change-Id: I045c6293ad1f96af7b9bb3961c93300641852d86
"
openstack%2Fnova~master~Iff110ba1d9df38fba3f8fc91b43accc41348b5bc,openstack/nova,master,bp/support-tag-instance-when-boot,Iff110ba1d9df38fba3f8fc91b43accc41348b5bc,WIP: Optimize creating servers with tags,ABANDONED,2017-07-15 19:36:07.000000000,2019-06-19 19:30:40.000000000,,81,107,5,484170,d1daedf48555fff2393db7cba7cf6f6da10adca4,62,18,5,8,6873,Matt Riedemann,mriedem,"WIP: Optimize creating servers with tags

It turns out we didn't need to be sending tags to the
conductor schedule_and_build_instances method because
when we started putting the tags in the BuildRequest
that get sent to conductor, we can get the instance to
create from the BuildRequest.get_new_instance() method.

Here we plumb in the code to properly create tags when
the instance is created via the Instance object and
DB API. This is beneficial in two ways:

1. It's arguably better performance to create the tags
   at the same time as the instance while we're in the
   same DB API call rather than separate calls.

2. We want the tags set in the instance object before
   casting to the compute build_and_run_instance method.
   We want that because otherwise the instance.create
   versioned notification method in compute will end
   up lazy-loading the instance tags, so this is another
   performance optimization.

Along the way, we can also remove the redundant
TagList.destroy call in conductor because we destroy
the tags when we destroy the instance down in the DB API.

Related to blueprint support-tag-instance-when-boot

Change-Id: Iff110ba1d9df38fba3f8fc91b43accc41348b5bc
"
openstack%2Fopenstack-ansible-os_manila~master~I4feee8b021c972f80f7997947e9387d15c30f99b,openstack/openstack-ansible-os_manila,master,openstack/openstack-ansible-tests/sync-tests,I4feee8b021c972f80f7997947e9387d15c30f99b,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:16:05.000000000,2019-06-19 19:27:45.000000000,2019-06-19 19:27:44.000000000,1,1,0,666111,764f9356c7e07a46edf3320f1b545ec76aafa373,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I4feee8b021c972f80f7997947e9387d15c30f99b
"
openstack%2Foslo.log~master~I73e284393ce26c91ea675d5be213ff5e910b4dfe,openstack/oslo.log,master,constraints_url,I73e284393ce26c91ea675d5be213ff5e910b4dfe,Modify the constraints url in tox.,MERGED,2019-05-23 19:49:00.000000000,2019-06-19 19:12:22.000000000,2019-06-19 19:12:22.000000000,3,3,3,661100,d693dc224788d6345c53352687308f097cf86618,19,5,5,1,29222,Natal Ngétal,hobbestigrou,"Modify the constraints url in tox.

Use the hotness for constraints.

Change-Id: I73e284393ce26c91ea675d5be213ff5e910b4dfe
"
openstack%2Fnetworking-ovn~stable%2Fqueens~Iba3969e43c76ca07fe840b84d8f81f34bc7e5cd6,openstack/networking-ovn,stable/queens,bug/1828585,Iba3969e43c76ca07fe840b84d8f81f34bc7e5cd6,Don't wait for metadata service unnecessarily,MERGED,2019-05-17 09:05:52.000000000,2019-06-19 18:49:00.000000000,2019-06-19 18:49:00.000000000,84,31,0,659760,b80adc1b9fb80866b6e0e3a8ff60e3720bdaa9d0,12,8,1,3,6773,Lucas Alvares Gomes,lucasagomes,"Don't wait for metadata service unnecessarily

Before neutron-server transitions a port to ACTIVE, it'll wait
until the metadata service has been provisioned on that hypervisor.
If the port doesn't belong to any IPv4 subnet with DHCP enabled,
there's no need to wait for it.

Change-Id: Iba3969e43c76ca07fe840b84d8f81f34bc7e5cd6
Closes-Bug: #1828585
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 1888f19d24b17697d3a7cd5c5a0ea550af3ddb66)
"
openstack%2Fopenstacksdk~stable%2Fqueens~I617e55d67d93f1e07f5192ba94dcc0997ba9e12f,openstack/openstacksdk,stable/queens,bug/409_conflict-stable/queens,I617e55d67d93f1e07f5192ba94dcc0997ba9e12f,Fix response always being False,MERGED,2019-06-14 14:07:05.000000000,2019-06-19 18:31:16.000000000,2019-06-19 18:31:16.000000000,4,4,0,665400,2eaeff794631d6058625138633dfaa55b509bc17,8,5,1,2,30081,Glenn Van de Water,glennvdw,"Fix response always being False

From requests.models.Response:
Returns True if :attr:`status_code` is less than 400.

We're using it wrong, so have changed it to ""is not None""

Change-Id: I617e55d67d93f1e07f5192ba94dcc0997ba9e12f
(cherry picked from commit 1b7e5c05d020e980dec84e4668072bd46f526fa6)
"
openstack%2Fopenstack-helm-infra~master~If31046769fd9032647af47ce8fce0cde5b8f7d7d,openstack/openstack-helm-infra,master,update-jobs,If31046769fd9032647af47ce8fce0cde5b8f7d7d,Add openstack-exporter to aio-monitoring & openstack-support jobs,MERGED,2019-06-13 14:59:32.000000000,2019-06-19 18:21:52.000000000,2019-06-19 18:21:52.000000000,35,0,0,665154,f2db36862ce81829b39638099b08bcf9fcc31969,24,5,6,2,17591,Steve Wilkerson,srwilkers,"Add openstack-exporter to aio-monitoring & openstack-support jobs

This deploys the openstack-exporter as part of the aio-monitoring
single node and openstack-support jobs, to ensure the exporter is
functional and working as expected

Change-Id: If31046769fd9032647af47ce8fce0cde5b8f7d7d
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fnetworking-ovn~stable%2Frocky~Iba3969e43c76ca07fe840b84d8f81f34bc7e5cd6,openstack/networking-ovn,stable/rocky,bug/1828585,Iba3969e43c76ca07fe840b84d8f81f34bc7e5cd6,Don't wait for metadata service unnecessarily,MERGED,2019-05-17 09:06:13.000000000,2019-06-19 18:18:37.000000000,2019-06-19 18:18:37.000000000,84,31,0,659761,7442d0c120b5723fd5f09fa7b1e0b201852ad3b5,17,6,1,3,6773,Lucas Alvares Gomes,lucasagomes,"Don't wait for metadata service unnecessarily

Before neutron-server transitions a port to ACTIVE, it'll wait
until the metadata service has been provisioned on that hypervisor.
If the port doesn't belong to any IPv4 subnet with DHCP enabled,
there's no need to wait for it.

Change-Id: Iba3969e43c76ca07fe840b84d8f81f34bc7e5cd6
Closes-Bug: #1828585
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 1888f19d24b17697d3a7cd5c5a0ea550af3ddb66)
"
openstack%2Foctavia~stable%2Fstein~I20572505e448f9b7ff6314b5167cc4c519c445fb,openstack/octavia,stable/stein,,I20572505e448f9b7ff6314b5167cc4c519c445fb,Fix allocate_and_associate DB deadlock,MERGED,2019-06-16 19:32:15.000000000,2019-06-19 18:14:11.000000000,2019-06-19 18:14:11.000000000,5,0,0,665556,32afefd6e4441bbac7a6442013714e5a7433c99a,12,4,1,2,11628,Michael Johnson,johnsom,"Fix allocate_and_associate DB deadlock

In testing we saw a DB deadlock in allocate_and_associate.
This patch corrects that with a DB retry wrapper.

Change-Id: I20572505e448f9b7ff6314b5167cc4c519c445fb
Story: 2005893
Task: 33751
(cherry picked from commit 0eaab450c12e33f277c31098a6792421d3f5806c)
"
openstack%2Fsahara-tests~master~I593faafbe6b4c547db687d4f521e2a0b412d343a,openstack/sahara-tests,master,fixes-and-py3,I593faafbe6b4c547db687d4f521e2a0b412d343a,Properly handle authentication with Keystone v3,MERGED,2019-06-04 14:42:56.000000000,2019-06-19 17:59:38.000000000,2019-06-19 17:59:38.000000000,11,3,0,663055,1c8cb702c5f40043869857cc41290f5af3a9c232,8,3,2,3,10459,Luigi Toscano,ltoscano,"Properly handle authentication with Keystone v3

Address few previously unnoticed use cases.
- Use uri_v3 is available (in the Tempest plugin). When v2
  is not available (as in modern deployments) the old value
  cannot be relied upon.
- Otherwise just check whether v3 is there and adds it if not
  (as it happens for example on a TripleO deployment).

Change-Id: I593faafbe6b4c547db687d4f521e2a0b412d343a
"
openstack%2Fkuryr-kubernetes~master~Ia561833d594c55c17a9dc1a588d39bf3410cdf81,openstack/kuryr-kubernetes,master,kuryrnets,Ia561833d594c55c17a9dc1a588d39bf3410cdf81,Ensure kuryrnet does not perform multiple repopulations,MERGED,2019-06-14 12:10:57.000000000,2019-06-19 17:48:02.000000000,2019-06-19 17:48:02.000000000,69,23,5,665367,e2e63cfc4d5506277b53510701c97fb9f57d0430,23,5,3,7,23567,Luis Tomas Bolivar,ltomasbo,"Ensure kuryrnet does not perform multiple repopulations

This patch makes use of the KuryrNet CRD spec to ensure pools
population actions on a new namespace only happen once.

Closes-Bug: 1833032

Change-Id: Ia561833d594c55c17a9dc1a588d39bf3410cdf81
"
openstack%2Fkayobe~master~I7966cf33f6133090d83232504b8c1da4c7817e0c,openstack/kayobe,master,story/2005891,I7966cf33f6133090d83232504b8c1da4c7817e0c,Restrict cliff to <2.15.0,MERGED,2019-06-14 13:30:55.000000000,2019-06-19 17:45:15.000000000,2019-06-19 17:45:15.000000000,9,17,3,665388,a3a71b919c9bfd71972911c6ab88b5522512233e,39,6,5,3,14826,Mark Goddard,mgoddard,"Restrict cliff to <2.15.0

Using Kayobe with cliff 2.15.0 fails with the following error:

kayobe playbook run playbook.yml
invalid conflict_resolution value: 'ignore'

This change restricts cliff to <2.15.0.

Also, fix git cloning previous release repos in CI to allow this patch
to merge.

Zuul provides repositories with all branches containing all prospective
changes, not just the current branch. We can use this in the upgrade
jobs to include changes to the previous release branch when a patch
depends on them.

Change-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c
Depends-On: https://review.opendev.org/665703/
Story: 2005891
Task: 33748
"
openstack%2Fkolla-ansible~stable%2Frocky~If71d5c056c042667388dae8e4ee6d51a5ecab46e,openstack/kolla-ansible,stable/rocky,blazar-fluentd-agg-stable/rocky,If71d5c056c042667388dae8e4ee6d51a5ecab46e,Add blazar to fluentd aggregation,MERGED,2019-06-18 18:26:00.000000000,2019-06-19 17:40:22.000000000,2019-06-19 17:40:22.000000000,1,0,0,666138,05412a1d1aea0b47cd1f0c4c91994880e3e74f89,13,3,1,1,14826,Mark Goddard,mgoddard,"Add blazar to fluentd aggregation

If Blazar is enabled, ensure that fluentd processes its logs.

Change-Id: If71d5c056c042667388dae8e4ee6d51a5ecab46e
(cherry picked from commit 2c343562ee3b47248d3f0812101d48dd54793a9f)
"
openstack%2Ftripleo-ansible~master~I11f04f8128263af5932eef6c172e7d16091deb35,openstack/tripleo-ansible,master,tc/callback,I11f04f8128263af5932eef6c172e7d16091deb35,"Revert ""Import the json_error callback from tripleo-common""",MERGED,2019-06-19 16:24:53.000000000,2019-06-19 17:38:58.000000000,2019-06-19 16:50:36.000000000,3,337,0,666382,8ebd012abc8bb39aded994badcffcd9eecbb9863,8,5,1,15,14985,Alex Schultz,mwhahaha,"Revert ""Import the json_error callback from tripleo-common""

This reverts commit dc2e57b4290fa63e87b3ec8601ca909473503e12.

This broke building because tripleo-common provides json_error.py

Change-Id: I11f04f8128263af5932eef6c172e7d16091deb35
"
openstack%2Fsahara-tests~master~I1924239659072ec8f1ea67df8d3d5b9a2264beb8,openstack/sahara-tests,master,fixes-and-py3,I1924239659072ec8f1ea67df8d3d5b9a2264beb8,CLI tests: more testing and Python 3 fixes,MERGED,2019-05-28 14:34:50.000000000,2019-06-19 17:37:17.000000000,2019-06-19 17:37:16.000000000,30,20,0,661771,4c1d1645dee506b69241613c27c7e7f81ca8f5a7,12,5,3,6,10459,Luigi Toscano,ltoscano,"CLI tests: more testing and Python 3 fixes

- when downloading the internal job binaries, compare it
  with the original file;
- simplify the string matching for the error messages in negative
  testing (job binary and node group templates). The returned string
  is a bit different when using python 3 (few \n remainings, maybe
  there is an interaction between string and byte arrays.)
- run the API v2 tests using Python 3. Python 3 and API v2 tests
  have been both added in Stein.
- define few data strings used for testing as bytes, so that they
  can work with both Python 2 and Python 3.

Change-Id: I1924239659072ec8f1ea67df8d3d5b9a2264beb8
"
openstack%2Fkolla-ansible~stable%2Fstein~I21eb1164c2f67098b81edbd5cc106472663b92cb,openstack/kolla-ansible,stable/stein,multi-region-nova-cells-stable/stein,I21eb1164c2f67098b81edbd5cc106472663b92cb,Support multi-region discovery of Nova cells,MERGED,2019-06-18 18:23:11.000000000,2019-06-19 17:23:06.000000000,2019-06-19 17:23:06.000000000,1,0,0,666125,d87904a58793ee9eb4fd216318a3ef02f8b59f0c,11,4,1,1,14826,Mark Goddard,mgoddard,"Support multi-region discovery of Nova cells

In a multi-region environment, each region is being deployed separately.
Cell discovery, however, would sometimes fail due to it picking a region
different than the one being deployed. Most likely, an internal endpoint
for region A will not be visible from region B. Furthermore, it is not
very useful to discover hosts on a region you're not modifying.

This changes the check to only run against nova compute services located
in the region being deployed.

Change-Id: I21eb1164c2f67098b81edbd5cc106472663b92cb
(cherry picked from commit 328e14253d82a7fca0a4351f6f82211435477e62)
"
openstack%2Fkolla-ansible~stable%2Frocky~I21eb1164c2f67098b81edbd5cc106472663b92cb,openstack/kolla-ansible,stable/rocky,multi-region-nova-cells-stable/rocky,I21eb1164c2f67098b81edbd5cc106472663b92cb,Support multi-region discovery of Nova cells,MERGED,2019-06-18 18:23:20.000000000,2019-06-19 17:23:05.000000000,2019-06-19 17:23:05.000000000,1,0,0,666126,0c5896c993438ce72fd3da5b93d6269b30868acc,11,4,1,1,14826,Mark Goddard,mgoddard,"Support multi-region discovery of Nova cells

In a multi-region environment, each region is being deployed separately.
Cell discovery, however, would sometimes fail due to it picking a region
different than the one being deployed. Most likely, an internal endpoint
for region A will not be visible from region B. Furthermore, it is not
very useful to discover hosts on a region you're not modifying.

This changes the check to only run against nova compute services located
in the region being deployed.

Change-Id: I21eb1164c2f67098b81edbd5cc106472663b92cb
(cherry picked from commit 328e14253d82a7fca0a4351f6f82211435477e62)
"
openstack%2Fopenstackdocstheme~master~Ic2fdb31aed51ecdceb36686b82338c28a2cdb066,openstack/openstackdocstheme,master,build-pdf-docs,Ic2fdb31aed51ecdceb36686b82338c28a2cdb066,Make 'docstheme-build-pdf' executable,MERGED,2019-06-19 16:10:35.000000000,2019-06-19 17:21:16.000000000,2019-06-19 17:21:15.000000000,0,0,0,666376,31ca35d832449434f2396a0dcf7c7a5131e4b3f5,6,2,1,1,15334,Stephen Finucane,sfinucan,"Make 'docstheme-build-pdf' executable

Just because the other scripts in 'bin' are doing it.

Change-Id: Ic2fdb31aed51ecdceb36686b82338c28a2cdb066
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fmonasca-api~master~Ie7dbf4077fb1937f6cc77d1b05b70bc5c7e6643c,openstack/monasca-api,master,,Ie7dbf4077fb1937f6cc77d1b05b70bc5c7e6643c,Make monascalog-python3-tempest a gating test,MERGED,2019-06-17 08:51:42.000000000,2019-06-19 17:02:28.000000000,2019-06-19 17:02:28.000000000,2,2,0,665615,7ce0d8e26ecd22c3d4174cf162dc056b4d5e2e7e,9,3,1,1,17669,Doug Szumski,DougSzumski,"Make monascalog-python3-tempest a gating test

In change I03bc8d502a333a7a71d9c12b8ddc7c5dc0a4f588 this
test was made non-gating due to release of Falcon 2.0. Now
that the Log API also supports Falcon 2.0, we can mark
this as gating again.

Change-Id: Ie7dbf4077fb1937f6cc77d1b05b70bc5c7e6643c
"
openstack%2Fopenstack-helm-infra~master~I24afed7946f915e5e13f0ba759eca252c2598af9,openstack/openstack-helm-infra,master,,I24afed7946f915e5e13f0ba759eca252c2598af9,Change the expression of defined alert in prometheus to avoid unnecessary errors,MERGED,2019-06-05 12:26:08.000000000,2019-06-19 16:55:46.000000000,2019-06-19 16:55:46.000000000,1,1,0,663310,b9a9ee323b81968297ee6dde414a8c6f0760ca33,12,6,2,1,30252,Hemant Sonawane,hemant.sonawane@itera.io,"Change the expression of defined alert in prometheus to avoid unnecessary errors

There were some false alerts about volume_claim_capacity_high_utilization
due to wrong formula used to determine the percentage of used capacity.

Change-Id: I24afed7946f915e5e13f0ba759eca252c2598af9
"
openstack%2Fkuryr-tempest-plugin~master~I6522689fac6a7398cd78665a13daa6f5e46c6be2,openstack/kuryr-tempest-plugin,master,remove-multithread,I6522689fac6a7398cd78665a13daa6f5e46c6be2,Removing threading option,MERGED,2019-06-04 16:31:29.000000000,2019-06-19 16:54:07.000000000,2019-06-19 16:54:07.000000000,8,25,0,663090,11463dda9e4feb26eac938aee31d203aea1e8675,22,6,3,1,23567,Luis Tomas Bolivar,ltomasbo,"Removing threading option

Gates are not reliably working with threading, leaving to some
problems and gates flakiness. Removing it to make it more stable

Depends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118

Change-Id: I6522689fac6a7398cd78665a13daa6f5e46c6be2
"
openstack%2Fkolla-ansible~stable%2Fstein~If71d5c056c042667388dae8e4ee6d51a5ecab46e,openstack/kolla-ansible,stable/stein,blazar-fluentd-agg-stable/stein,If71d5c056c042667388dae8e4ee6d51a5ecab46e,Add blazar to fluentd aggregation,MERGED,2019-06-18 18:25:53.000000000,2019-06-19 16:52:18.000000000,2019-06-19 16:52:18.000000000,1,0,0,666137,56239fcfcaa93bf728b0a5304266ac17ebe89ac8,13,3,1,1,14826,Mark Goddard,mgoddard,"Add blazar to fluentd aggregation

If Blazar is enabled, ensure that fluentd processes its logs.

Change-Id: If71d5c056c042667388dae8e4ee6d51a5ecab46e
(cherry picked from commit 2c343562ee3b47248d3f0812101d48dd54793a9f)
"
openstack%2Fkeystone~master~Ic51205c1403f2085d7f921d3ff9d667cfe3f4c87,openstack/keystone,master,bp/s,Ic51205c1403f2085d7f921d3ff9d667cfe3f4c87,Fix contributor doc of keystone,MERGED,2019-06-03 07:19:51.000000000,2019-06-19 16:45:09.000000000,2019-06-19 16:45:09.000000000,17,16,7,662690,0a9d7cbec59183f772df9371644ed8639bc55b3b,19,7,4,2,27621,Vishakha Agarwal,Vishakha,"Fix contributor doc of keystone

Since keystone now tracks features as Bugs not
blueprints. This patch updates the same in the
contributor doc.

Change-Id: Ic51205c1403f2085d7f921d3ff9d667cfe3f4c87
"
openstack%2Fkolla-ansible~stable%2Fstein~Ie9a3b0fef395aaf414407f6bae1ac4bca158240d,openstack/kolla-ansible,stable/stein,remove_roles_middlesware-stable/stein,Ie9a3b0fef395aaf414407f6bae1ac4bca158240d,Remove obsolete roles middleware,MERGED,2019-06-19 08:08:57.000000000,2019-06-19 16:35:28.000000000,2019-06-19 16:35:28.000000000,2,2,0,666242,8cbe09f6fcf6eaaeeb5e2873b5a92917c82d6630,12,4,1,1,17669,Doug Szumski,DougSzumski,"Remove obsolete roles middleware

Change I0ca38f2cc7d63b9b47eedb304ba7b00a94816f9a removed the roles
middleware from the example paste pipeline.

Change-Id: Ie9a3b0fef395aaf414407f6bae1ac4bca158240d
(cherry picked from commit f23901677cdd247315eea56150df1fafafb107d1)
"
openstack%2Fmonasca-common~master~I0ee61b6903d6e9e55f75c8a7c10bbec2e3039d36,openstack/monasca-common,master,fix/rm_env_var,I0ee61b6903d6e9e55f75c8a7c10bbec2e3039d36,Remove one unnecessary env var form Docker images,MERGED,2019-05-29 12:07:46.000000000,2019-06-19 16:31:55.000000000,2019-06-19 16:31:54.000000000,0,1,0,661956,d5b3692e9b00fcbd58d47d072beade32f4276c8b,13,3,1,1,21922,Dobroslaw Zybort,dobrolaw.zybort,"Remove one unnecessary env var form Docker images

CONSTRAINTS_BRANCH is now included in CONSTRAINTS_FILE string.

Change-Id: I0ee61b6903d6e9e55f75c8a7c10bbec2e3039d36
"
openstack%2Fneutron~stable%2Fstein~I99d01d7bf29f236eff0f80d1ae8659f64ac55d39,openstack/neutron,stable/stein,bug/1830456-stable/stein,I99d01d7bf29f236eff0f80d1ae8659f64ac55d39,DVR: on new port only send router update on port's host,MERGED,2019-06-17 23:52:41.000000000,2019-06-19 16:26:11.000000000,2019-06-19 15:32:18.000000000,15,34,0,665831,4cd7ba7fde57fb57407863606fc8f12ef0af3d6e,19,8,1,3,29071,norman shen,ushen,"DVR: on new port only send router update on port's host

When new DVR serviceable port appears on new node we need
to update node's l3 agent with all routers which have the
port's subnets, including connected routers.
We don't need to update all nodes hosting these routers.
It costs us much as all l3 agents then go back to neutron server
and request routers info for no good reason.
This was one of the main issues with DVR at scale fixed in Mitaka.

Change-Id: I99d01d7bf29f236eff0f80d1ae8659f64ac55d39
Related-Bug: #1830456
(cherry picked from commit 52529bc949acff9a3454abd44925342468064b78)
"
openstack%2Fmonasca-tempest-plugin~master~I10f155c316dc77b69dcbbc387f3edf59ed84b5dd,openstack/monasca-tempest-plugin,master,654839,I10f155c316dc77b69dcbbc387f3edf59ed84b5dd,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 08:41:28.000000000,2019-06-19 16:25:20.000000000,2019-06-19 16:25:20.000000000,14,14,6,654839,f90c73911d16556f07a17f3776bccac325e3b3f5,43,10,5,8,27781,zhulingjie,zhulingjie,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I10f155c316dc77b69dcbbc387f3edf59ed84b5dd
"
openstack%2Ftripleo-ansible~master~I1f32841786358203cf954eff2ca2f3dd5cf5ba07,openstack/tripleo-ansible,master,tc/callback,I1f32841786358203cf954eff2ca2f3dd5cf5ba07,Import the json_error callback from tripleo-common,MERGED,2019-06-13 18:07:57.000000000,2019-06-19 16:24:53.000000000,2019-06-19 15:30:31.000000000,337,3,0,665197,dc2e57b4290fa63e87b3ec8601ca909473503e12,24,4,6,15,7353,Kevin Carter,cloudnull,"Import the json_error callback from tripleo-common

THis change imports the json_error callback plugin from triple-common.
This import also creates a role which will test the plugins functions
and validates the error log file is generated as expected.

Change-Id: I1f32841786358203cf954eff2ca2f3dd5cf5ba07
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fpuppet-tripleo~stable%2Frocky~Id9bdd36aa0ee81424212e3a89185311817a15aee,openstack/puppet-tripleo,stable/rocky,rabbitmq-queues-stable/rocky,Id9bdd36aa0ee81424212e3a89185311817a15aee,RabbitMQ: always allow promotion on HA queue during failover,MERGED,2019-06-18 19:42:47.000000000,2019-06-19 16:17:39.000000000,2019-06-19 16:17:39.000000000,29,4,0,666153,76101c8971f8e66e59bf43ce636a09029a080a6d,7,6,1,2,20778,Damien Ciabrini,dciabrin,"RabbitMQ: always allow promotion on HA queue during failover

When the RabbitMQ experience a rolling restart of its peers, the
master of an HA queue fails over from one replica to another.

If there are messages sent to the HA queue while some rabbit
nodes are restarting, the latter will reconnect as unsynchronized
slaves. It can happen that during a rolling restart, all rabbit
nodes reconnect as unsynchronized, which prevents RabbitMQ to
automatically elect a new Master for failover. This has other
side effects on fanout queues and may prevent OpenStack
notification to be consumed properly.

Change the HA policy to always allow a promotion even when all
replicas are unsynchronized. When such rare condition happens,
rely on OpenStack client to retry RPC if they need to.

Closes-Bug: #1823305
Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>
Change-Id: Id9bdd36aa0ee81424212e3a89185311817a15aee
(cherry picked from commit 610c8d8d41cd4b6bfd228ce1012416e424db625d)
"
openstack%2Fopenstack-helm~master~I265a1ea9fcc501ea2c0af679fcae59e3c22d7b77,openstack/openstack-helm,master,,I265a1ea9fcc501ea2c0af679fcae59e3c22d7b77,Fully Document node/nodelabel override capability,MERGED,2018-12-24 15:40:14.000000000,2019-06-19 16:17:27.000000000,2019-06-19 16:17:27.000000000,230,7,3,627192,f4336b860533252dbe8f0630f516807516c8dda3,19,14,6,1,26686,Craig Anderson,canderson,"Fully Document node/nodelabel override capability

Explain more about how the override functionality works, and provide a
full example that shows how to integrate it into a new chart being
developed.

Change-Id: I265a1ea9fcc501ea2c0af679fcae59e3c22d7b77
"
openstack%2Fopenstack-helm~master~If82db83bdb3bd8bebeb15382079b538fd8019376,openstack/openstack-helm,master,python3-rootwrap,If82db83bdb3bd8bebeb15382079b538fd8019376,[neutron] Update rootwrap filters to support python3 applications,MERGED,2019-06-10 10:57:28.000000000,2019-06-19 16:17:26.000000000,2019-06-19 16:17:26.000000000,20,1,2,664243,83fbb31192cb9973ba3a503e956c965857ac5b42,12,5,2,1,9963,Jiri Suchomel,jsuchome,"[neutron] Update rootwrap filters to support python3 applications

There are the changes here

1. extend current kill_metadata filter for python3 versions

2. add kill_keepalived_monitor filters (introduced for neutron with
  https://review.opendev.org/#/c/636710/ )

Change-Id: If82db83bdb3bd8bebeb15382079b538fd8019376
"
openstack%2Fmonasca-ceilometer~master~I28de9011d3e8c73f9d5057c8ca05cd42d3262dfc,openstack/monasca-ceilometer,master,fix-ceilosca-devstack,I28de9011d3e8c73f9d5057c8ca05cd42d3262dfc,Fix devstack deployment by restoring ceilosca_pipeline.yaml,MERGED,2019-05-31 04:53:16.000000000,2019-06-19 16:14:39.000000000,2019-06-19 16:14:39.000000000,25,4,0,662382,081bcfb9c7288d7cfa31aad4e708c39094270f7a,11,3,2,4,10311,Joseph Davis,joadavis,"Fix devstack deployment by restoring ceilosca_pipeline.yaml

In our efforts to clean up meters that were removed from Ceilometer
in the Rocky release (see c51491676156a9956206c6785159be3c89390cb3 )
the ceilosca_pipeline.yaml was deleted. However, that file is needed
for the devstack plugin, as specified in devstack/settings .

This patch restores that file, and renames it to make the purpose
clearer.

Also added comments to the pipeline.yaml files to indicate their
purpose.

Change-Id: I28de9011d3e8c73f9d5057c8ca05cd42d3262dfc
"
openstack%2Fopenstack-ansible-os_cloudkitty~master~I83bf215d8aa25270d88f2dac28d17394d3bc21b4,openstack/openstack-ansible-os_cloudkitty,master,,I83bf215d8aa25270d88f2dac28d17394d3bc21b4,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:20.000000000,2019-06-19 16:09:20.000000000,,2,1,0,666348,f241622b3e43d4adf7849f538fe43adaa6cb8e85,2,0,1,1,27781,zhulingjie,zhulingjie,"Sync Sphinx requirement

Change-Id: I83bf215d8aa25270d88f2dac28d17394d3bc21b4
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I7f62255bed60a9a50a1ce75eb8f55850e7c94924,openstack/openstack-ansible-lxc_hosts,master,,I7f62255bed60a9a50a1ce75eb8f55850e7c94924,Sync Sphinx requirement,ABANDONED,2019-06-19 15:59:53.000000000,2019-06-19 16:08:36.000000000,,2,0,0,666328,29637f3a8e0302fc56af68d2f1a093c555a56aa0,2,0,1,1,27781,zhulingjie,zhulingjie,"Sync Sphinx requirement

Change-Id: I7f62255bed60a9a50a1ce75eb8f55850e7c94924
"
openstack%2Fopenstack-ansible-os_barbican~master~I3572e88ad4362a16f378a917b2d47eac758f8d8b,openstack/openstack-ansible-os_barbican,master,,I3572e88ad4362a16f378a917b2d47eac758f8d8b,Sync Sphinx requirement,ABANDONED,2019-06-19 15:59:56.000000000,2019-06-19 16:08:11.000000000,,2,0,0,666331,a92236a359b7e9e32a07b90a479abbeffdfe1747,2,0,1,1,27781,zhulingjie,zhulingjie,"Sync Sphinx requirement

Change-Id: I3572e88ad4362a16f378a917b2d47eac758f8d8b
"
openstack%2Fopenstack-ansible-galera_server~master~I50e873c0a4a24e30e705fd668ee91f70af5872f9,openstack/openstack-ansible-galera_server,master,,I50e873c0a4a24e30e705fd668ee91f70af5872f9,Sync Sphinx requirement,ABANDONED,2019-06-19 15:59:57.000000000,2019-06-19 16:07:56.000000000,,2,0,0,666332,1e37e0398cbdbb8066dc762a34998e229eb75c1c,2,0,1,1,27781,zhulingjie,zhulingjie,"Sync Sphinx requirement

Change-Id: I50e873c0a4a24e30e705fd668ee91f70af5872f9
"
openstack%2Fopenstack-ansible-openstack_hosts~master~Ic07406879371dfc9c44d25631a1f6600a72a1240,openstack/openstack-ansible-openstack_hosts,master,,Ic07406879371dfc9c44d25631a1f6600a72a1240,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:01.000000000,2019-06-19 16:07:53.000000000,,2,0,0,666335,e513308aaebbd219a8edfcc336760bfca3cfd555,2,0,1,1,27781,zhulingjie,zhulingjie,"Sync Sphinx requirement

Change-Id: Ic07406879371dfc9c44d25631a1f6600a72a1240
"
openstack%2Fopenstack-helm-infra~master~I1ac35433287818f083677442dc783cb74c1db4ae,openstack/openstack-helm-infra,master,,I1ac35433287818f083677442dc783cb74c1db4ae,Enabled the system commands in nagios frontpage ui,ABANDONED,2019-06-19 13:13:39.000000000,2019-06-19 16:06:58.000000000,,1,1,1,666285,8e6c7c11b9f0f4bae5f092024dfe01c0bedf6793,4,4,1,1,30120,Colbert Philippe,cp0396,"Enabled the system commands in nagios frontpage ui

Change-Id: I1ac35433287818f083677442dc783cb74c1db4ae
"
openstack%2Fopenstack-ansible-galera_client~master~I4c84eee423724897ba2cde38aa220e9ae0e09c53,openstack/openstack-ansible-galera_client,master,,I4c84eee423724897ba2cde38aa220e9ae0e09c53,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:01.000000000,2019-06-19 16:06:56.000000000,,2,0,0,666337,d9e57f1b23b81bf30b8823f761b412f8c4b9a142,2,0,1,1,27781,zhulingjie,zhulingjie,"Sync Sphinx requirement

Change-Id: I4c84eee423724897ba2cde38aa220e9ae0e09c53
"
openstack%2Fopenstack-ansible-os_aodh~master~Ic5674dce6ccaca5d6b251e599c98aa6025695a33,openstack/openstack-ansible-os_aodh,master,,Ic5674dce6ccaca5d6b251e599c98aa6025695a33,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:02.000000000,2019-06-19 16:06:45.000000000,,2,0,0,666338,3a6bcc070c8f72e1f04b359965d073115281faa4,2,0,1,1,27781,zhulingjie,zhulingjie,"Sync Sphinx requirement

Change-Id: Ic5674dce6ccaca5d6b251e599c98aa6025695a33
"
openstack%2Fopenstack-ansible-os_blazar~master~I292b80ec3188c90a0f9d716cae801a5b46af6abd,openstack/openstack-ansible-os_blazar,master,,I292b80ec3188c90a0f9d716cae801a5b46af6abd,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:08.000000000,2019-06-19 16:06:27.000000000,,2,0,0,666340,21529e8c5e56f8e62b7a5ad73d49430630678f11,2,0,1,1,27781,zhulingjie,zhulingjie,"Sync Sphinx requirement

Change-Id: I292b80ec3188c90a0f9d716cae801a5b46af6abd
"
openstack%2Fopenstack-ansible-os_keystone~master~Icb8f126cdb54832c6bbfb004eb5bf2719b255f6c,openstack/openstack-ansible-os_keystone,master,,Icb8f126cdb54832c6bbfb004eb5bf2719b255f6c,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:34.000000000,2019-06-19 16:04:32.000000000,,2,0,0,666357,9cb9aca9db042062b15522a3dea6886262184985,2,0,1,1,27781,zhulingjie,zhulingjie,"Sync Sphinx requirement

Change-Id: Icb8f126cdb54832c6bbfb004eb5bf2719b255f6c
"
openstack%2Fopenstack-ansible-os_zun~master~I3e7488934559c8494979d4dbf969c71a710e7f56,openstack/openstack-ansible-os_zun,master,,I3e7488934559c8494979d4dbf969c71a710e7f56,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:47.000000000,2019-06-19 16:03:44.000000000,,2,0,0,666366,f78c0cbecd14753aec166358de4e9107dfae2808,2,0,1,1,27781,zhulingjie,zhulingjie,"Sync Sphinx requirement

Change-Id: I3e7488934559c8494979d4dbf969c71a710e7f56
"
openstack%2Fopenstack-ansible-os_ceilometer~master~I1246e791871deccdf087d2d99bfcc5e46d5868ea,openstack/openstack-ansible-os_ceilometer,master,,I1246e791871deccdf087d2d99bfcc5e46d5868ea,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:13.000000000,2019-06-19 16:02:05.000000000,,2,0,0,666344,27aca4ac678a55401967548e49b213ef0dd9b947,2,0,1,1,27781,zhulingjie,zhulingjie,"Sync Sphinx requirement

Change-Id: I1246e791871deccdf087d2d99bfcc5e46d5868ea
"
openstack%2Fopenstack-ansible-os_heat~master~Ib7c88ec6606bb6eeb2673b5605b099a32d2a79fb,openstack/openstack-ansible-os_heat,master,,Ib7c88ec6606bb6eeb2673b5605b099a32d2a79fb,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:18.000000000,2019-06-19 16:01:49.000000000,,2,0,0,666345,1ea001206af3854554c2e1e65b96f52b954f1e9c,2,0,1,1,27781,zhulingjie,zhulingjie,"Sync Sphinx requirement

Change-Id: Ib7c88ec6606bb6eeb2673b5605b099a32d2a79fb
"
openstack%2Fopenstack-ansible-os_gnocchi~master~Icd091e091790b3807f0dacab627110422781e55e,openstack/openstack-ansible-os_gnocchi,master,,Icd091e091790b3807f0dacab627110422781e55e,Sync Sphinx requirement,ABANDONED,2019-06-19 16:00:21.000000000,2019-06-19 16:01:17.000000000,,2,0,0,666349,29076b2611febe7368107b1be5c91abf066b4a36,2,0,1,1,27781,zhulingjie,zhulingjie,"Sync Sphinx requirement

Change-Id: Icd091e091790b3807f0dacab627110422781e55e
"
openstack%2Frally~master~I803cde8b0c498f81f26af7c8f710ef9b6ae8f11f,openstack/rally,master,newRelease,I803cde8b0c498f81f26af7c8f710ef9b6ae8f11f,Propose 1.6.0 release,MERGED,2019-06-19 15:11:38.000000000,2019-06-19 15:58:06.000000000,2019-06-19 15:58:05.000000000,20,5,0,666314,ee13ba4983c86bb21096a14a681593f958a416a2,7,2,2,3,9545,Andrey Kurilin,akurilin,"Propose 1.6.0 release

Change-Id: I803cde8b0c498f81f26af7c8f710ef9b6ae8f11f
"
openstack%2Fpython-openstackclient~stable%2Frocky~Ia81eebd3e00ae986cf3ba7e3d98f3e8a1647b622,openstack/python-openstackclient,stable/rocky,584905-stable/rocky,Ia81eebd3e00ae986cf3ba7e3d98f3e8a1647b622,Use os-cloud instead of OS env vars for functional tests,ABANDONED,2019-06-13 12:16:12.000000000,2019-06-19 15:57:21.000000000,,87,51,0,665128,f9db3ac3603f4cbf0e9db486979cd99c81448149,4,2,2,6,30081,Glenn Van de Water,glennvdw,"Use os-cloud instead of OS env vars for functional tests

In order to support switching auth contexts, such as for registered_limits
which take a system scoped token, switch the functional tests to using
the --os-cloud command line parameter. However, honor the OS_CLOUD env var
as a way that someone can select a different cloud, including 'envvars',
to use.

Use devstack-system-admin cloud for limit tests

Keystone requires these to have system scope now.

Change-Id: Ia81eebd3e00ae986cf3ba7e3d98f3e8a1647b622
(cherry picked from commit 2dd5393167119c043ae125fead9f8ed9ba84241d)
"
openstack%2Fopenstacksdk~master~I765a0722aa718ab8e430c3f8fc31c192091e9ca1,openstack/openstacksdk,master,dashes,I765a0722aa718ab8e430c3f8fc31c192091e9ca1,from_conf: fix handling service names with dashes,MERGED,2019-06-17 11:20:49.000000000,2019-06-19 15:57:09.000000000,2019-06-19 15:57:09.000000000,39,6,0,665645,b94a8ce4a9d7de66736dccc791d72ba8f4d888f5,7,3,1,2,10239,Dmitry Tantsur,dtantsur,"from_conf: fix handling service names with dashes

Services like ironic-inspector are likely to be represented as
ironic_inspector in the configuration, so fall back to underscores
if the variant with dashes is not found.

Change-Id: I765a0722aa718ab8e430c3f8fc31c192091e9ca1
"
openstack%2Fopenstack-ansible-os_nova~master~I02d8b4eca600cdfced8ad1daa20798723b16d97a,openstack/openstack-ansible-os_nova,master,,I02d8b4eca600cdfced8ad1daa20798723b16d97a,tess,ABANDONED,2019-06-19 15:52:09.000000000,2019-06-19 15:57:07.000000000,,2,0,0,666323,bcc0373e98b5c23c2a28905a9984985b2afddbad,2,0,1,1,27781,zhulingjie,zhulingjie,"tess

Change-Id: I02d8b4eca600cdfced8ad1daa20798723b16d97a
"
openstack%2Fopenstack-helm-infra~master~I7906e85a200f6fb92467371218b4e5957add39f4,openstack/openstack-helm-infra,master,socket-cleanup,I7906e85a200f6fb92467371218b4e5957add39f4,Ingress: Clean prometheus-nginx.socket on startup,MERGED,2019-06-17 20:28:01.000000000,2019-06-19 15:54:24.000000000,2019-06-19 15:54:24.000000000,2,0,0,665759,fc58be6a9393621691baa769a642f833628447d2,39,12,8,2,23928,Pete Birley,portdirect,"Ingress: Clean prometheus-nginx.socket on startup

This PS cleans the prometheus-nginx.socket on startup of the container,
which is required to allow the container, as opposed to the pod, restart.

Change-Id: I7906e85a200f6fb92467371218b4e5957add39f4
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fpython-openstackclient~stable%2Frocky~Id3cc907c1ed2a25b49cf6f4a7233e0401a02383a,openstack/python-openstackclient,stable/rocky,,Id3cc907c1ed2a25b49cf6f4a7233e0401a02383a,Fix service discovery in functional tests,ABANDONED,2019-06-12 12:55:56.000000000,2019-06-19 15:51:30.000000000,,34,34,0,664880,f63a08691393e98324401d9023cfd3dcd57b7904,4,2,1,8,30081,Glenn Van de Water,glennvdw,"Fix service discovery in functional tests

If a required service is not enabled then we skip the test.
The discovery is done by tests/functional/base.py:is_service_enabled
but this method is broken, credentials are not passed to the
'openstack service show' command so every call will fail and every test
that relies on it will be skipped. This commit fixed that method and
the issues that popped up when re-enabling tests.

Network segment range:
 - issue where we assumed network-segment-range extension is always
   present
 - issue where we compare integers and string representations of numbers

Subnet:
 - issue where we try to deepcopy an uncopyable object in UnsetSubnet

Change-Id: Id3cc907c1ed2a25b49cf6f4a7233e0401a02383a
Story: 2005169
Task: 29908
(cherry picked from commit 7741347041b078ca4d687597897194d7797d202d)
"
openstack%2Frally~master~I8ac7f5560b0c0d51bf744e1be6bf3768c978e5df,openstack/rally,master,verifier,I8ac7f5560b0c0d51bf744e1be6bf3768c978e5df,[verify ]Fix several py3 issues,MERGED,2019-06-19 15:04:13.000000000,2019-06-19 15:50:49.000000000,2019-06-19 15:50:49.000000000,19,8,0,666312,45cc9ad01f0eaa06735e5c8518bac80143a854f9,6,3,1,5,9545,Andrey Kurilin,akurilin,"[verify ]Fix several py3 issues

1. switch \u2714 to :-)
   a. \u2714 can not be decoded on py3
   b. \u2714 can not shown rightly on Window as Linux

2. compatiable py3 and py2 for load_lists

Change-Id: I8ac7f5560b0c0d51bf744e1be6bf3768c978e5df
"
openstack%2Fkolla-ansible~stable%2Frocky~I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07,openstack/kolla-ansible,stable/rocky,,I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07,"Fix issue finding custom, host specific plugins",MERGED,2019-06-18 18:29:07.000000000,2019-06-19 15:50:18.000000000,2019-06-19 15:50:18.000000000,0,1,0,666143,0bed6dd4b0e8b4cb9a8a6492219ee664459c4c05,11,4,1,1,14826,Mark Goddard,mgoddard,"Fix issue finding custom, host specific plugins

The results from the find operation need to be registered per host,
because they depend on the host which runs the search. This bug
impacts users specifying custom plugins for specific hosts.

Change-Id: I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07
(cherry picked from commit 4be219fcb7f3ed188ea0c4c5b2cb9a1fdba51991)
"
openstack%2Fopenstack-helm~master~Ide1918c1ed264ccc2998008b2334542e3d683bfc,openstack/openstack-helm,master,fix_default_domain_admin,Ide1918c1ed264ccc2998008b2334542e3d683bfc,keystone: default domain fix,MERGED,2019-06-04 09:54:39.000000000,2019-06-19 15:50:12.000000000,2019-06-19 15:50:12.000000000,8,0,0,662993,d4b8f16f262a2125c15b367dceb5a1733a3eb777,25,7,2,1,12281,Itxaka,itxaka,"keystone: default domain fix

Provide the default domain id and assign the admin
role to it on bootstrap.
Currently we cannot provide domain scoped tokens with
the admin user due to it not being assigned the admin
role for the default domain.

This patch makes it so we assign the proper role on bootstrap.

Depends-on: https://review.opendev.org/662992
Change-Id: Ide1918c1ed264ccc2998008b2334542e3d683bfc
"
openstack%2Ftripleo-common~stable%2Frocky~I75b64dca102a62c06c56327cf425451ae804e3b9,openstack/tripleo-common,stable/rocky,bug/1817539,I75b64dca102a62c06c56327cf425451ae804e3b9,Only update parameters once in backup workflow,MERGED,2019-06-18 03:28:25.000000000,2019-06-19 15:42:49.000000000,2019-06-19 15:42:49.000000000,8,14,0,665852,b41d18c5f83a33ef37c3579b5c84b02db3ddf82a,12,5,2,2,8833,Rabi Mishra,rabi,"Only update parameters once in backup workflow

In the swift backup workflow we create 2 parameters for temp URLs, but
we don't need to call parameters.update twice, just once with the two
new parameters.

It also includes fix for 'create_ceph_ansible_fetch_directory_backup_plan'
task to pass the 'validate_stack' input.

Change-Id: I75b64dca102a62c06c56327cf425451ae804e3b9
Related-Bug: #1817539
(cherry picked from commit e07dc79693ef1300a8b4cb900effe95314f18fac)
"
openstack%2Fswift~master~Ib2c26fdf7bd36ed1cccd5dbd1fa208f912f4d8d5,openstack/swift,master,652819,Ib2c26fdf7bd36ed1cccd5dbd1fa208f912f4d8d5,py3: port obj/reconstructor tests,MERGED,2019-04-16 04:44:59.000000000,2019-06-19 15:35:03.000000000,2019-06-19 15:32:21.000000000,88,74,5,652819,e8e7106d14f9bfe16427b5be300368c24c162481,23,4,4,3,15343,Tim Burke,tburke,"py3: port obj/reconstructor tests

All of the swift changes we needed for this were already done elsewhere.

Change-Id: Ib2c26fdf7bd36ed1cccd5dbd1fa208f912f4d8d5
"
openstack%2Fopenstackdocstheme~master~Iad7b329272fedb314db8d70f6ec38e85eb495b14,openstack/openstackdocstheme,master,build-pdf-docs,Iad7b329272fedb314db8d70f6ec38e85eb495b14,Add 'docstheme-build-pdf' script,MERGED,2019-06-13 15:46:02.000000000,2019-06-19 15:33:44.000000000,2019-06-19 15:33:43.000000000,42,0,0,665163,9b798ec9a2b7cfff81d7a9a3cf07b80497166c71,10,6,1,2,15334,Stephen Finucane,sfinucan,"Add 'docstheme-build-pdf' script

Change-Id: Iad7b329272fedb314db8d70f6ec38e85eb495b14
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Ftripleo-ansible~master~I3a34152dd0cd7363a6f138d6e1c6fd0f062a3ac6,openstack/tripleo-ansible,master,aide,I3a34152dd0cd7363a6f138d6e1c6fd0f062a3ac6,Create an aide role,MERGED,2019-06-12 03:19:57.000000000,2019-06-19 15:30:32.000000000,2019-06-19 15:30:32.000000000,545,0,4,664772,be85c6e135071a2489bd0f735e4743dbe4b41bc5,26,5,8,20,7353,Kevin Carter,cloudnull,"Create an aide role

This change imports the aide content from the tripleo-heat-templates
project and creates a role which can be used throughout the tripleo
project ecosystem.

The role will test in docker containers running both fedora28 and
centos7.

Change-Id: I3a34152dd0cd7363a6f138d6e1c6fd0f062a3ac6
Signed-off-by: Kevin Carter <kevin@cloudnull.com>
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fcharm-neutron-api~master~I838ca6e7bf505d316e0dd703a0a50a8bc2e16e53,openstack/charm-neutron-api,master,bug/1833368,I838ca6e7bf505d316e0dd703a0a50a8bc2e16e53,Sync in security guide fixes and fix local,MERGED,2019-06-19 06:36:09.000000000,2019-06-19 15:25:45.000000000,2019-06-19 15:25:45.000000000,309,34,0,666231,1ea1398f4532bed0f952f6bae875bf0badf6bc76,9,4,1,16,20634,Chris MacNaughton,Chris.MacNaughton,"Sync in security guide fixes and fix local

Neutron.conf, in Ocata, has a multi valued string config option
which ConfigParser treats as invalid INI. This change resovles
that and allows it to parse.

Closes-Bug: #1833368
Change-Id: I838ca6e7bf505d316e0dd703a0a50a8bc2e16e53
"
openstack%2Fpaunch~master~I5656c9f501659f47a1f392cb1c9890831904b299,openstack/paunch,master,podman/ps,I5656c9f501659f47a1f392cb1c9890831904b299,WIP - Implement podman ps command,ABANDONED,2019-06-18 01:24:37.000000000,2019-06-19 15:15:18.000000000,,105,0,0,665837,fb356921a02adb2eeb64f278d7e3fac3da9cc914,4,2,1,2,3153,Emilien Macchi,emilienm,"WIP - Implement podman ps command

Change-Id: I5656c9f501659f47a1f392cb1c9890831904b299
"
openstack%2Fdesignate~master~Iab163987fb8b27b21d4870eeb59f5d5f84229f91,openstack/designate,master,deprecated_warnings,Iab163987fb8b27b21d4870eeb59f5d5f84229f91,Fixed oslo deprecated warning when running devstack,MERGED,2019-06-10 00:01:21.000000000,2019-06-19 15:02:49.000000000,2019-06-19 15:02:49.000000000,6,3,0,664176,a31982b53e230835dd7729b26046fdcbfeb1fd75,11,2,3,2,22623,Erik Olof Gunnar Andersson,eoandersson,"Fixed oslo deprecated warning when running devstack

Moved notification driver and topics from DEFAULT to the
oslo_messaging_notifications group.

Change-Id: Iab163987fb8b27b21d4870eeb59f5d5f84229f91
"
openstack%2Fdesignate-tempest-plugin~master~I1a5bae859f4ae998db33331126e82c7f5862a011,openstack/designate-tempest-plugin,master,,I1a5bae859f4ae998db33331126e82c7f5862a011,Sync Sphinx requirement,MERGED,2019-06-18 15:17:48.000000000,2019-06-19 15:02:48.000000000,2019-06-19 15:02:48.000000000,2,1,0,666020,e57bcbb1cadcd2bb86c7e9ca5ac19791097d996b,6,2,1,1,28614,jacky06,jacky06,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I1a5bae859f4ae998db33331126e82c7f5862a011
"
openstack%2Fapi-site~master~Icdaf06e6c5cdc84a3d4f400b17adf449eff01d99,openstack/api-site,master,sphinx-20,Icdaf06e6c5cdc84a3d4f400b17adf449eff01d99,Update Sphinx requirement,ABANDONED,2019-06-18 10:17:30.000000000,2019-06-19 14:50:07.000000000,,2,1,0,665939,bcbbaf34de567a74a5dff69c97eb7325ee569ff6,4,2,1,1,15334,Stephen Finucane,sfinucan,"Update Sphinx requirement

Sphinx 2.0 no longer works on python 2.7, so we need to start capping it there.

Change-Id: Icdaf06e6c5cdc84a3d4f400b17adf449eff01d99
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fkuryr-kubernetes~master~I389e81cc6f544a3f66dea9d171d1ca0ce7444c6f,openstack/kuryr-kubernetes,master,bug/1833091,I389e81cc6f544a3f66dea9d171d1ca0ce7444c6f,Access Pool.listeners elements like dict,MERGED,2019-06-17 15:08:14.000000000,2019-06-19 14:45:03.000000000,2019-06-19 14:45:03.000000000,2,2,0,665702,4230c8711cbc3851f963ed7419990e66fb75b668,17,6,2,2,11600,Michał Dulko,dulek,"Access Pool.listeners elements like dict

Pool.listeners from openstacksdk has quite a specific format:

In [10]: p.listeners
Out[10]: [{u'id': u'bef9f428-0c7e-4fc3-8e0d-d6241cc46c60'}]

This commit fixes a mistake where we access it with object notation
instead of dict notation.

Change-Id: I389e81cc6f544a3f66dea9d171d1ca0ce7444c6f
Closes-Bug: 1833091
"
openstack%2Fopenstack-ansible-galera_client~master~Id8efd9fadfa11ed5b75768ab66c8f51294cbc563,openstack/openstack-ansible-galera_client,master,,Id8efd9fadfa11ed5b75768ab66c8f51294cbc563,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-05-05 11:39:32.000000000,2019-06-19 14:38:28.000000000,2019-06-19 14:38:28.000000000,2,2,0,657233,eb335ccfa73d57b2c7242310ca157b3b483ab33f,11,5,1,1,17130,melissaml,malei,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Id8efd9fadfa11ed5b75768ab66c8f51294cbc563
"
openstack%2Fmagnum~master~If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5,openstack/magnum,master,feature/fix-openstack_cloud_controller_manager-restarts,If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5,Fix openstack-cloud-controller-manager restarts,MERGED,2019-03-20 13:26:15.000000000,2019-06-19 14:36:22.000000000,2019-03-21 21:18:34.000000000,1,0,0,644851,21acb8dc9afbc3c1b2a786c4041213fa7e8761dc,14,3,4,1,29425,Diogo Guerra,dioguerra,"Fix openstack-cloud-controller-manager restarts

Openstack-cloud-controller-manager restarts several times during
cluster creation.

This happens because cloud-controller-manager starts running before
needed secrets exist in kubernetes. Cloud-controller-manager lists secrets 
and if the secrets exists it uses it and moves on, but if the secret 
doesn't exist it starts a watch until it does. As this is not allowed the
pod fails.

This is triggered by Issue 
https://github.com/kubernetes/cloud-provider-openstack/issues/545

Story: 2005270

Change-Id: If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5
Signed-off-by: Diogo Guerra <dy090.guerra@gmail.com>
"
openstack%2Fcinder~master~Id7bcacaaf41b3cc9657c78de26111c0996df8775,openstack/cinder,master,mark-unsupported-sheepdog,Id7bcacaaf41b3cc9657c78de26111c0996df8775,Mark the Sheepdog driver unsupported,MERGED,2019-05-21 20:46:45.000000000,2019-06-19 14:23:37.000000000,2019-06-19 14:23:37.000000000,19,1,0,660518,e2e5bddd4c6a23ebb6a3a84d73e80bc90513645b,43,32,1,3,7198,Jay Bryant,jsbryant,"Mark the Sheepdog driver unsupported

The Sheep dog test runs have not been passing
in the gate for quite sometime, to the point the
tests were moved to the experimental queue.

The most recent failures show that Sheepdog is not
supported on Bionic and mailing list posts show it
as no longer being maintained [1].  Given all
these datapoints it is time to more it
unsupported.

[1] http://lists.wpkg.org/pipermail/sheepdog/2019-March/068449.html

Change-Id: Id7bcacaaf41b3cc9657c78de26111c0996df8775
"
openstack%2Fkeystone~master~Ia8b35258b43213bd117df4275c907aac223342b3,openstack/keystone,master,,Ia8b35258b43213bd117df4275c907aac223342b3,Implement system scope and default roles for token API,MERGED,2019-06-13 20:18:56.000000000,2019-06-19 14:14:12.000000000,2019-06-19 14:13:12.000000000,614,33,5,665231,092570fc5ef43497c29cf174bfff43323a49fb58,14,4,3,5,5046,Lance Bragstad,ldbragst,"Implement system scope and default roles for token API

This commit adds protection testing for the token API along with
changes to default policies to properly consume system-scope and
default roles.

Originally, this work was going to include the ability for project and
domain administrator to validate, check, or revoke tokens within the
context of their authorization (e.g., a domain administrator could
revoke tokens on projects within their domain). This seems like extra
work for not much benefit since we're using bearer tokens. The holder
of the token can do anything with that token, which means they can
validate it or revoke it without using their own token. Adding
project and domain administrator support seems unnecessary given the
existing functionality. If someone comes forward asking for this
functionality, we can re-evaluate the effort. For now, this patch is
limited to system user support, allowing them to validate, check, and
revoke any token in the system. Service users can still validate
tokens on behalf of users. Users can do anything they wish with their
own tokens.

This commit also bumps the minimum version of oslo.log so that we can
use the official TRAIN deprecated release marker.

Change-Id: Ia8b35258b43213bd117df4275c907aac223342b3
Closes-Bug: 1818844
Closes-Bug: 1750676
"
openstack%2Fglance~master~I8261de878fcaff1e498f7a3e152df7d980d0560c,openstack/glance,master,readonly-http-store,I8261de878fcaff1e498f7a3e152df7d980d0560c,Update v2/info/stores api-ref,MERGED,2019-05-29 12:53:24.000000000,2019-06-19 14:13:14.000000000,2019-06-19 14:13:14.000000000,19,12,3,661971,6537ff2136af9e083b0372385400109666645c12,19,8,2,3,5314,Brian Rosmaita,brian-rosmaita,"Update v2/info/stores api-ref

Slight rewrite of the stores discovery section of the api-ref to
indicate which elements of the response are optional and to remove
mention of the store type from the descriptions.

Change-Id: I8261de878fcaff1e498f7a3e152df7d980d0560c
"
openstack%2Fcharm-ceph-radosgw~master~I0f6e7783282e4e75bb8c5893b7a9740a5a19c80f,openstack/charm-ceph-radosgw,master,,I0f6e7783282e4e75bb8c5893b7a9740a5a19c80f,Sync charm-helpers,ABANDONED,2019-06-19 13:15:30.000000000,2019-06-19 14:01:13.000000000,,192,26,0,666286,2f4de87ffe06077bd858bd2c777867b301bac206,4,2,1,12,14567,Rodrigo Barbieri,ganso,"Sync charm-helpers

Updating charm-helpers code.

Change-Id: I0f6e7783282e4e75bb8c5893b7a9740a5a19c80f
"
openstack%2Fkolla-ansible~stable%2Frocky~Ie9a3b0fef395aaf414407f6bae1ac4bca158240d,openstack/kolla-ansible,stable/rocky,remove_roles_middlesware-stable/rocky,Ie9a3b0fef395aaf414407f6bae1ac4bca158240d,Remove obsolete roles middleware,MERGED,2019-06-19 08:09:12.000000000,2019-06-19 13:59:55.000000000,2019-06-19 13:59:55.000000000,2,2,0,666243,1234ec189eed9a263ee3ec5d2edef78e06ad9b06,10,4,1,1,17669,Doug Szumski,DougSzumski,"Remove obsolete roles middleware

Change I0ca38f2cc7d63b9b47eedb304ba7b00a94816f9a removed the roles
middleware from the example paste pipeline.

Change-Id: Ie9a3b0fef395aaf414407f6bae1ac4bca158240d
(cherry picked from commit f23901677cdd247315eea56150df1fafafb107d1)
"
openstack%2Fkolla-ansible~master~I88616c285bdb297fd1f738846ddffe1b08a7a827,openstack/kolla-ansible,master,bug/1830540,I88616c285bdb297fd1f738846ddffe1b08a7a827,"Fix default deployment of freezer, use mariadb.",MERGED,2019-05-26 13:26:43.000000000,2019-06-19 13:59:53.000000000,2019-06-19 13:59:53.000000000,90,3,6,661485,10bf6b05fa669105f040772e57cc1066cb8d6c0e,20,5,4,7,26981,Marek Svensson,ivveh,"Fix default deployment of freezer, use mariadb.

This change defaults freezer to use mariadb as default backend for database
and adds elasticsearch as an optional backend due to the requirement of
freezer to use elasticsearch version 2.3.0. The default elasticsearch in
kolla-ansible is 5.6.x and that doesn't work with freezer.

Added needed options to the elasticsearch backend like:
 - protocol
 - address
 - port
 - number of replicas

Change-Id: I88616c285bdb297fd1f738846ddffe1b08a7a827
Signed-off-by: Marek Svensson <marek@marex.st>
"
openstack%2Fkolla-ansible~stable%2Fstein~If6f7dd28bbb75308ef434c166c28a5cf4a624cbd,openstack/kolla-ansible,stable/stein,remove-heat-watch-stable/stein,If6f7dd28bbb75308ef434c166c28a5cf4a624cbd,Remove heat_watch_server_url configuration option,MERGED,2019-06-19 06:37:37.000000000,2019-06-19 13:59:52.000000000,2019-06-19 13:59:52.000000000,0,1,0,666232,42cf3d327ee0400a3b583f155f937d85232d0017,9,4,1,1,30491,Radosław Piliszek,yoctozepto,"Remove heat_watch_server_url configuration option

The AWS-compatible CloudWatch API has been removed from Heat in Queens.
Remove its configuration option from the heat.conf template.

Change-Id: If6f7dd28bbb75308ef434c166c28a5cf4a624cbd
(cherry picked from commit cc011ceb411e619537eea63a3f35dca9efcbd7c9)
"
openstack%2Fkolla-ansible~stable%2Fstein~I3f921ac51acab1b1020a459c07c755af7023e026,openstack/kolla-ansible,stable/stein,blazar-multi-region-aggregate-stable/stein,I3f921ac51acab1b1020a459c07c755af7023e026,Fix Blazar Nova aggregate in multi-region setup,MERGED,2019-06-18 18:24:35.000000000,2019-06-19 13:59:51.000000000,2019-06-19 13:59:51.000000000,1,0,0,666131,c98c4ba24740f7d4430e1771a63cb4874db7ae60,7,4,1,1,14826,Mark Goddard,mgoddard,"Fix Blazar Nova aggregate in multi-region setup

The Nova aggregate was always defaulting to some region (usually first
in the Keystone endpoint list) when registering the Nova aggregate for
Blazar. Add in a region override to ensure we are always writing to the
region being deployed.

Change-Id: I3f921ac51acab1b1020a459c07c755af7023e026
(cherry picked from commit f20cbf49580f1457db22346c413991cf60c90dba)
"
openstack%2Fcharm-swift-proxy~master~I6bbc71f66d948e97d2dd6a5174dedb3212503a3f,openstack/charm-swift-proxy,master,bug/1821697,I6bbc71f66d948e97d2dd6a5174dedb3212503a3f,Add 'set-weight' action.,MERGED,2019-03-27 08:59:36.000000000,2019-06-19 13:53:11.000000000,2019-06-19 13:53:11.000000000,110,1,8,648040,3809df73fb10434b83e2eb789cd2a7dcc1271506,19,3,4,6,24504,Tytus Kurek,tkurek,"Add 'set-weight' action.

This patchset adds the 'set-weight' action which can be used to set
weight of device(s) based on the search pattern.

Change-Id: I6bbc71f66d948e97d2dd6a5174dedb3212503a3f
Closes-Bug: 1821697
"
openstack%2Fpython-designateclient~master~I619cdb572dec1fc599e445aca07349b31cb16738,openstack/python-designateclient,master,,I619cdb572dec1fc599e445aca07349b31cb16738,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 10:15:39.000000000,2019-06-19 13:51:01.000000000,2019-06-19 13:51:01.000000000,2,1,0,663583,6bdc313b4750b25252f7e106655ad2565cac356d,6,2,1,1,30384,zhangboye,zhangboye,"Cap sphinx for py2 to match global requirements

Change-Id: I619cdb572dec1fc599e445aca07349b31cb16738
"
openstack%2Fmonasca-api~master~Ic258a3f453e95844249eaa763aa507d6be0d132e,openstack/monasca-api,master,sqlalchemy-metric-name,Ic258a3f453e95844249eaa763aa507d6be0d132e,Fix sqlalchemy deprecation error,MERGED,2019-06-14 14:24:19.000000000,2019-06-19 13:45:06.000000000,2019-06-19 13:45:06.000000000,2,2,0,665404,8eea21c00de96b86f5018e3c9e242bf4b6169b2f,32,4,3,1,30438,Isaac Prior,Wasaac,"Fix sqlalchemy deprecation error

Running unit tests fails with the error:
monasca_api.tests.test_a_repository.TestAlarmRepoDB.test_should_count ...FAILED
'Textual column expression 'metric_name' should be explicitly declared with
text('metric_name'), or use column('metric_name') for more specificity'
Using strings as SQL fragments was deprecated in v1.0:
(https://docs.sqlalchemy.org/en/13/changelog/migration_10.html#warnings-emitted-when-coercing-full-sql-fragments-into-text)
Deprecation warnings now throw exceptions as of v1.3:
(https://docs.sqlalchemy.org/en/13/changelog/migration_13.html#deprecation-warnings-are-emitted-for-all-deprecated-elements-new-deprecations-added)

This patch modifies the sql query to make use of column constructor.

Change-Id: Ic258a3f453e95844249eaa763aa507d6be0d132e
"
openstack%2Frally~master~Id1955160813c9be87dffc7e38b8d3476cec04d60,openstack/rally,master,dddd,Id1955160813c9be87dffc7e38b8d3476cec04d60,Update SQLAlchemy in  upper-constraints.txt,MERGED,2019-06-18 09:04:22.000000000,2019-06-19 13:41:00.000000000,2019-06-19 13:41:00.000000000,10,10,0,665918,c5a5bc83de0bde967b00b012f5b6e76d3416a1b9,16,2,6,2,21528,chenhb,chenhb,"Update SQLAlchemy in  upper-constraints.txt

update SQLAlchemy to be compatible with openstack
and Fix some issues since SQLAlchemy was upgraded to 1.3.4

Change-Id: Id1955160813c9be87dffc7e38b8d3476cec04d60
"
openstack%2Fironic~master~I2d4c6a108eb0fee0bd5b0a20f2f508727b44e887,openstack/ironic,master,remove-with_lockmode,I2d4c6a108eb0fee0bd5b0a20f2f508727b44e887,Replace deprecated with_lockmode with with_for_update,MERGED,2019-06-18 15:39:23.000000000,2019-06-19 13:20:44.000000000,2019-06-19 12:15:52.000000000,3,3,0,666027,06dd82bd30f73ee93cca6b3861ff9ea75f0bc10d,11,7,1,1,23851,Riccardo Pittau,elfosardo,"Replace deprecated with_lockmode with with_for_update

The Query.with_lockmode() method is deprecated since version 0.9.0
and will be removed in a future release. [1]
This patch replaces it with Query.with_for_update().

[1] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode

Change-Id: I2d4c6a108eb0fee0bd5b0a20f2f508727b44e887
"
openstack%2Fos-net-config~stable%2Frocky~If41178105229fb9adce9c2950aab39fc55b56166,openstack/os-net-config,stable/rocky,bug/1831951,If41178105229fb9adce9c2950aab39fc55b56166,Fix handling of SR-IOV PF routes,MERGED,2019-06-18 19:49:41.000000000,2019-06-19 13:05:18.000000000,2019-06-19 13:05:18.000000000,38,0,0,666157,c57eb926885bc31e533bffcb93c409fe13e6253b,9,7,1,2,12398,Dan Sneddon,dsneddon,"Fix handling of SR-IOV PF routes

Routes on SR-IOV PF interfaces were being ignored in
impl_ifcfg.py. This change adds route handling for SR-IOV
interfaces, and a unit test to test writing route files.

Closes-bug: 1831951
Change-Id: If41178105229fb9adce9c2950aab39fc55b56166
(cherry picked from commit b04d8f30d4993fba3e4d207ca698cf10bdf69c2b)
"
openstack%2Fos-net-config~stable%2Fqueens~If41178105229fb9adce9c2950aab39fc55b56166,openstack/os-net-config,stable/queens,bug/1831951,If41178105229fb9adce9c2950aab39fc55b56166,Fix handling of SR-IOV PF routes,MERGED,2019-06-18 19:47:45.000000000,2019-06-19 12:41:42.000000000,2019-06-19 12:41:42.000000000,38,0,0,666155,6d7e74a381fdd34bc7c7e3e06a7661c1b82fd8d0,9,7,1,2,12398,Dan Sneddon,dsneddon,"Fix handling of SR-IOV PF routes

Routes on SR-IOV PF interfaces were being ignored in
impl_ifcfg.py. This change adds route handling for SR-IOV
interfaces, and a unit test to test writing route files.

Closes-bug: 1831951
Change-Id: If41178105229fb9adce9c2950aab39fc55b56166
(cherry picked from commit b04d8f30d4993fba3e4d207ca698cf10bdf69c2b)
"
openstack%2Fkolla-ansible~stable%2Frocky~I616a30acf38a61265f3005c712767d5221abf5c5,openstack/kolla-ansible,stable/rocky,bug/1830723-stable/rocky,I616a30acf38a61265f3005c712767d5221abf5c5,Elevate privileges for copying gnocchi policy.json,MERGED,2019-06-18 18:20:01.000000000,2019-06-19 12:34:18.000000000,2019-06-19 12:34:18.000000000,1,0,0,666120,795c9dde872604c32718a74ef39dc87633861630,7,4,1,1,14826,Mark Goddard,mgoddard,"Elevate privileges for copying gnocchi policy.json

Change-Id: I616a30acf38a61265f3005c712767d5221abf5c5
Closes-Bug: #1830723
(cherry picked from commit 4a60dc21e5f845d834247caf423801d84b5c987a)
"
openstack%2Fkolla-ansible~stable%2Fstein~I616a30acf38a61265f3005c712767d5221abf5c5,openstack/kolla-ansible,stable/stein,bug/1830723-stable/stein,I616a30acf38a61265f3005c712767d5221abf5c5,Elevate privileges for copying gnocchi policy.json,MERGED,2019-06-18 18:19:38.000000000,2019-06-19 12:34:17.000000000,2019-06-19 12:34:17.000000000,1,0,0,666119,dd6408dbceebfe66433f000737ed9e016f2709a4,7,4,1,1,14826,Mark Goddard,mgoddard,"Elevate privileges for copying gnocchi policy.json

Change-Id: I616a30acf38a61265f3005c712767d5221abf5c5
Closes-Bug: #1830723
(cherry picked from commit 4a60dc21e5f845d834247caf423801d84b5c987a)
"
openstack%2Fkolla-ansible~stable%2Frocky~I172ef3d19ff2bea97db3a5207c1a984cd188ceba,openstack/kolla-ansible,stable/rocky,,I172ef3d19ff2bea97db3a5207c1a984cd188ceba,Fix mongo command for checking replication status,MERGED,2019-06-18 18:31:06.000000000,2019-06-19 12:34:16.000000000,2019-06-19 12:34:16.000000000,1,1,0,666145,f89f6f0ad9ab72fc3b47bedd29618ed38999f1b3,10,5,1,1,14826,Mark Goddard,mgoddard,"Fix mongo command for checking replication status

By default, the mongo command connection address is '127.0.0.1:27017'.
If we change mongodb_port, It cause the handle 'Checking current
replication status' always connect to '127.0.0.1:27017'. So we need
add options like '--host' and '--port'.

Change-Id: I172ef3d19ff2bea97db3a5207c1a984cd188ceba
Signed-off-by: ZijianGuo <guozijn@gmail.com>
(cherry picked from commit 08f5c50e7491c29138049237ede070d84cc503b8)
"
openstack%2Fironic-python-agent~master~I56f7c9abdae1f406de1e086fdc0cac8bebca0e3c,openstack/ironic-python-agent,master,removing_tinyipa,I56f7c9abdae1f406de1e086fdc0cac8bebca0e3c,Removes tinyipa from IPA,MERGED,2019-06-14 12:54:50.000000000,2019-06-19 12:15:59.000000000,2019-06-19 12:15:59.000000000,1,1281,0,665379,dd7e7fdd1acb819a933b905e99ae701abf774788,27,6,3,24,30099,Nisha Brahmankar,nishagb,"Removes tinyipa from IPA

Change-Id: I56f7c9abdae1f406de1e086fdc0cac8bebca0e3c
Task: 33745
Story: 2005114
"
openstack%2Fironic~master~I99bcb0650ac609ae9f0a8bcff70429eb4a3b7274,openstack/ironic,master,glance-merge,I99bcb0650ac609ae9f0a8bcff70429eb4a3b7274,Refactoring: flatten the glance service module,MERGED,2019-06-18 10:24:46.000000000,2019-06-19 12:15:56.000000000,2019-06-19 12:15:56.000000000,456,506,3,665942,12e45f314a40e568752816f27ee3c7b3148582ca,21,7,1,10,10239,Dmitry Tantsur,dtantsur,"Refactoring: flatten the glance service module

The current structure is designed to support several major versions.
However, we only support V2 and in the future will use openstacksdk
to abstract away major version differences.

Change-Id: I99bcb0650ac609ae9f0a8bcff70429eb4a3b7274
"
openstack%2Fironic~master~I054ed79bfd3c908b3c3841f97b0d381a50280859,openstack/ironic,master,glance,I054ed79bfd3c908b3c3841f97b0d381a50280859,Remove the deprecated glance authentication options,MERGED,2019-06-18 09:41:37.000000000,2019-06-19 12:15:54.000000000,2019-06-19 12:15:54.000000000,26,160,2,665929,dcfb4f10f31c11afa350ef6418a0e12e6be6e5b2,15,9,2,6,10239,Dmitry Tantsur,dtantsur,"Remove the deprecated glance authentication options

Also rename glance_num_retries -> num_retries with deprecation to
avoid redundant ""glance"".

Change-Id: I054ed79bfd3c908b3c3841f97b0d381a50280859
"
openstack%2Fkolla-ansible~master~I97263385372a28204c0ae81373836a2d6292f3bd,openstack/kolla-ansible,master,bug/1833336,I97263385372a28204c0ae81373836a2d6292f3bd,Add logrotate configuration for horizon,MERGED,2019-06-19 04:33:50.000000000,2019-06-19 12:08:58.000000000,2019-06-19 12:08:58.000000000,5,0,0,666214,1d02ec49f6ec9315dff6b8eea6a3b2cec50a1f44,7,3,1,3,26299,Tatsuma Matsuki,tatsuma,"Add logrotate configuration for horizon

Change-Id: I97263385372a28204c0ae81373836a2d6292f3bd
Closes-Bug: #1833336
"
openstack%2Fopenstacksdk~master~I5c2b93d7e737755958ff074f3a84e592c94f0fe2,openstack/openstacksdk,master,bug/1733258,I5c2b93d7e737755958ff074f3a84e592c94f0fe2,Add subnet_id property for FloatingIP,MERGED,2017-11-20 05:55:36.000000000,2019-06-19 11:29:48.000000000,2017-11-20 15:39:30.000000000,7,2,0,521421,4419c553a458c6f22770327b25019329098cb740,8,3,1,2,12860,Dongcan Ye,yedongcan,"Add subnet_id property for FloatingIP

In openstackclient we can pass a ""subnet_id"" param while creating
floatingip, but missing in FloatingIP properties.

Change-Id: I5c2b93d7e737755958ff074f3a84e592c94f0fe2
Closes-Bug: #1733258
"
openstack%2Fpython-glanceclient~master~I8a96eea9d3d8f6d8beae9d86f307f0edd075392c,openstack/python-glanceclient,master,Bug#1,I8a96eea9d3d8f6d8beae9d86f307f0edd075392c,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-06-10 03:31:49.000000000,2019-06-19 11:20:58.000000000,2019-06-19 11:20:58.000000000,1,1,0,664191,039fa4c045c89d582cf5b1f81d644fc24d3a4818,7,6,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I8a96eea9d3d8f6d8beae9d86f307f0edd075392c
"
openstack%2Fglance-specs~master~I2c5a227fc15e6ac958ea700a176ac719b977e2b7,openstack/glance-specs,master,specs/lazy-update-stores-info,I2c5a227fc15e6ac958ea700a176ac719b977e2b7,Spec Lite: Lazy update stores information,MERGED,2019-05-22 06:21:42.000000000,2019-06-19 11:20:18.000000000,2019-06-19 11:20:18.000000000,60,1,0,660570,790b36f03ce358877da9594099f9e9369e0592f0,8,4,1,2,9303,Abhishek Kekane,abhishekkekane,"Spec Lite: Lazy update stores information

Change-Id: I2c5a227fc15e6ac958ea700a176ac719b977e2b7
"
openstack%2Fhorizon~master~I55249de8762e0744b69ff655fcd7a4aeb56ba9d6,openstack/horizon,master,bug/1818823,I55249de8762e0744b69ff655fcd7a4aeb56ba9d6,Adds community image loading for instance index view,MERGED,2019-03-11 09:26:00.000000000,2019-06-19 11:18:00.000000000,2019-06-19 11:18:00.000000000,101,71,4,642391,6f807b6b05ea4a9df93ed23111f10a5041377612,15,4,2,2,26546,Marek Lyčka,mareklycka,"Adds community image loading for instance index view

This patch adds community image loading to the Instances index view
so that image names may be displayed in this view even for community
images.

Note, that a second image list API call had to be added to achieve
this, because the glance Rest API does not currently support adding
multiple visiblity values to it's GET filters and community images
have to be retrieved explicitly.

Change-Id: I55249de8762e0744b69ff655fcd7a4aeb56ba9d6
Closes-Bug: #1818823
"
openstack%2Fswift~master~I7e4cfd362b9848ea436686d6e46b9844c2ddf913,openstack/swift,master,acl_error,I7e4cfd362b9848ea436686d6e46b9844c2ddf913,Modify S3 compatible document errors,NEW,2019-06-18 11:52:20.000000000,2019-06-19 11:13:04.000000000,,1,1,2,665958,74853d923296047c293be35a5b546412d69e8c93,4,3,1,1,26233,zengjia,zengjia87,"Modify S3 compatible document errors

Swift S3 interface is not supported ""PUT Object ACL""

Change-Id: I7e4cfd362b9848ea436686d6e46b9844c2ddf913
Closes-Bug: 1833221
"
openstack%2Fmagnum~master~I4f913bc06a68cf0f3d61d836ab8a7acae54d50f7,openstack/magnum,master,rotate-ci-password,I4f913bc06a68cf0f3d61d836ab8a7acae54d50f7,ci: Rotate dockerhub password,MERGED,2019-06-18 08:55:27.000000000,2019-06-19 10:45:43.000000000,2019-06-19 10:45:43.000000000,20,20,0,665917,d7035775c6ab8f2e31f04bca528be0f4209afdfe,11,2,3,1,20498,Spyros Trigazis,strigazi,"ci: Rotate dockerhub password

Depends-On: https://review.opendev.org/666196
Change-Id: I4f913bc06a68cf0f3d61d836ab8a7acae54d50f7
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
"
openstack%2Fkolla-ansible~stable%2Fstein~I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07,openstack/kolla-ansible,stable/stein,,I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07,"Fix issue finding custom, host specific plugins",MERGED,2019-06-18 18:29:00.000000000,2019-06-19 10:10:31.000000000,2019-06-19 10:10:31.000000000,0,1,0,666142,5045d901f17914a6cd3aff45035f93c90d4b7190,7,4,1,1,14826,Mark Goddard,mgoddard,"Fix issue finding custom, host specific plugins

The results from the find operation need to be registered per host,
because they depend on the host which runs the search. This bug
impacts users specifying custom plugins for specific hosts.

Change-Id: I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07
(cherry picked from commit 4be219fcb7f3ed188ea0c4c5b2cb9a1fdba51991)
"
openstack%2Fopenstack-ansible~stable%2Fqueens~I523dc207357b741c2e1b2cb71f10b5f8ad176f4c,openstack/openstack-ansible,stable/queens,bump_osa,I523dc207357b741c2e1b2cb71f10b5f8ad176f4c,Bump SHAs for stable/queens,MERGED,2019-06-16 14:18:39.000000000,2019-06-19 09:58:47.000000000,2019-06-19 09:58:46.000000000,73,73,0,665544,61cd2d2490c2f6bd4d6b0868968434b84dc47d15,16,4,1,3,17068,Jean-Philippe Evrard,evrardjp,"Bump SHAs for stable/queens

Change-Id: I523dc207357b741c2e1b2cb71f10b5f8ad176f4c
"
openstack%2Fkolla-ansible~stable%2Fqueens~If71d5c056c042667388dae8e4ee6d51a5ecab46e,openstack/kolla-ansible,stable/queens,blazar-fluentd-agg-stable/queens,If71d5c056c042667388dae8e4ee6d51a5ecab46e,Add blazar to fluentd aggregation,MERGED,2019-06-18 18:26:09.000000000,2019-06-19 09:56:59.000000000,2019-06-19 09:56:59.000000000,1,0,0,666139,01654d83e3d6bf508ea21284a45106868e88088c,7,3,1,1,14826,Mark Goddard,mgoddard,"Add blazar to fluentd aggregation

If Blazar is enabled, ensure that fluentd processes its logs.

Change-Id: If71d5c056c042667388dae8e4ee6d51a5ecab46e
(cherry picked from commit 2c343562ee3b47248d3f0812101d48dd54793a9f)
"
openstack%2Fkolla-ansible~master~I6aaa4b4ac0fb739f7ad885c13f55b6db969996a2,openstack/kolla-ansible,master,bug/1832989,I6aaa4b4ac0fb739f7ad885c13f55b6db969996a2,Make Ceph upgrade check Ceph release to avoid EPERM,MERGED,2019-06-18 09:36:52.000000000,2019-06-19 09:56:58.000000000,2019-06-19 09:56:58.000000000,12,6,0,665927,0ea991e4d2c633ec97c1c9e9b7c96ee3b053a446,11,5,1,1,30491,Radosław Piliszek,yoctozepto,"Make Ceph upgrade check Ceph release to avoid EPERM

Since we have different upgrade paths, we must use the actually
installed Ceph release name when doing require-osd-release

Closes-Bug: #1832989

Change-Id: I6aaa4b4ac0fb739f7ad885c13f55b6db969996a2
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fkolla-ansible~stable%2Fstein~I7f1591bdbc7c03302befc3ca6ebf1b13c95640c2,openstack/kolla-ansible,stable/stein,bug/fix_placement_log-stable/stein,I7f1591bdbc7c03302befc3ca6ebf1b13c95640c2,Fix placement log perms in config.json,MERGED,2019-06-18 18:31:41.000000000,2019-06-19 09:56:57.000000000,2019-06-19 09:56:57.000000000,1,1,0,666146,367ca93564dd9b102256002f42f01be184dea31b,8,4,1,1,14826,Mark Goddard,mgoddard,"Fix placement log perms in config.json

Currently placement-api is configured to log to
/var/log/kolla/placement/placement-api.log, but config.json is changing
permissions of /var/log/kolla/placement/placement.log - this patch
changes this.

Change-Id: I7f1591bdbc7c03302befc3ca6ebf1b13c95640c2
(cherry picked from commit b850eeec9c54f70d39d26d7bbd922f4f0c8aed18)
"
openstack%2Ffreezer~master~Ida52a0921e4ca281954b2ac80bd0bf7f82ec17bd,openstack/freezer,master,fix_sphinx,Ida52a0921e4ca281954b2ac80bd0bf7f82ec17bd,Update Sphinx requirement,MERGED,2019-06-18 08:27:16.000000000,2019-06-19 09:54:26.000000000,2019-06-19 09:54:26.000000000,2,1,0,665906,fe4ab522a3d72f101abf2a0763639753207f8dc8,9,6,1,1,28748,chenker,chenke,"Update Sphinx requirement

Sphinx 2.0 no longer works on python 2.7, so we need to start capping
it there as well.

The errors[1] are as follow:

Requirement(package='sphinx', location='', specifiers='!=1.6.6,!=1.6.7,>=1.6.5'
does not match ""python_version>='3.4'""
Requirement(package='sphinx', location='', specifiers='!=1.6.6,!=1.6.7,>=1.6.5'
does not match ""python_version=='2.7'""
Could not find a global requirements entry to match package sphinx. If the package
is already included in the global list, the name or platform markers there may not
match the local settings.

Reference:
[1]. http://logs.openstack.org/56/665856/4/check/requirements-check/e565cc2/job-output.txt.gz
[2]. https://review.opendev.org/#/c/658965/

Change-Id: Ida52a0921e4ca281954b2ac80bd0bf7f82ec17bd
"
openstack%2Fmagnum~stable%2Fstein~I3af760c51029175be042fb9cff3cb37bfbbeefe5,openstack/magnum,stable/stein,rotate-ci-password,I3af760c51029175be042fb9cff3cb37bfbbeefe5,zuul: drop secret from stable branch,MERGED,2019-06-19 01:01:20.000000000,2019-06-19 09:36:08.000000000,2019-06-19 09:36:08.000000000,0,26,0,666196,10e37bc1f4cb2ed2890d3aa2ee59eda3c12d5a6c,7,2,1,1,1004,Mohammed Naser,mnaser,"zuul: drop secret from stable branch

Zuul does not allow secrets which are not identical acros branches,
therefore if we want to rotate our current secrets, we have to drop
all the old ones before the new one can be added.

The secret will continue to be read from the master branch, even for
the stable branch jobs so it can continue to live there.

Change-Id: I3af760c51029175be042fb9cff3cb37bfbbeefe5
Needed-By: I4f913bc06a68cf0f3d61d836ab8a7acae54d50f7
"
openstack%2Fnetworking-ovn~master~If0574d847f2dd1492f399a0bd8fe7ef4b793e754,openstack/networking-ovn,master,,If0574d847f2dd1492f399a0bd8fe7ef4b793e754,Enable tempest-slow job (non-voting),ABANDONED,2018-10-18 13:44:40.000000000,2019-06-19 09:13:16.000000000,,55,26,0,611612,e72d35b334061cc9791adb9323117b63c062e1be,16,3,7,2,6773,Lucas Alvares Gomes,lucasagomes,"Enable tempest-slow job (non-voting)

This patch is enabling a new tempest-slow job in the check pipeline for
networking-ovn. To start, the job will be non-voting until we get all
tests fixed.

Change-Id: If0574d847f2dd1492f399a0bd8fe7ef4b793e754
"
openstack%2Fironic-inspector~master~I36e5a9b9faf59684adf807c2a065c35a5d4a00f6,openstack/ironic-inspector,master,data-docs,I36e5a9b9faf59684adf807c2a065c35a5d4a00f6,Document storage backends and migrating between them,MERGED,2019-06-18 14:48:20.000000000,2019-06-19 09:12:26.000000000,2019-06-19 09:05:20.000000000,29,0,0,666008,48d5d5639431884478c30db3c9c986fb98205c9c,10,5,1,2,10239,Dmitry Tantsur,dtantsur,"Document storage backends and migrating between them

Change-Id: I36e5a9b9faf59684adf807c2a065c35a5d4a00f6
"
openstack%2Fkolla-ansible~stable%2Fstein~Ib51acac3e0f8b2f641e9a7b04c7a7d3cc01b508f,openstack/kolla-ansible,stable/stein,try-centos-ceph-again,Ib51acac3e0f8b2f641e9a7b04c7a7d3cc01b508f,Test: try change in ganesha,ABANDONED,2019-06-18 15:47:54.000000000,2019-06-19 09:03:21.000000000,,1,0,0,666030,e15a6771beedaba0e5d21290fb62985ccda72c28,5,3,1,1,30491,Radosław Piliszek,yoctozepto,"Test: try change in ganesha

Depends-On: https://review.opendev.org/666012

Change-Id: Ib51acac3e0f8b2f641e9a7b04c7a7d3cc01b508f
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fnova~master~Ie5f55c8d9d14e56c355179e868294366f7a75361,openstack/nova,master,bp/remove-consoleauth,Ie5f55c8d9d14e56c355179e868294366f7a75361,docs: Remove unused Visio diagram,ABANDONED,2019-06-17 14:47:30.000000000,2019-06-19 09:03:15.000000000,,0,0,0,665694,0e4ac116c9d7d5619a179462400ea3539dd23e9b,11,5,3,1,15334,Stephen Finucane,sfinucan,"docs: Remove unused Visio diagram

This Visio file isn't used anywhere and can't be edited on *nix
machines. Remove it.

Change-Id: Ie5f55c8d9d14e56c355179e868294366f7a75361
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fkolla~stable%2Fstein~I689020e4262cba75b9da1a0f529d325a2b68669d,openstack/kolla,stable/stein,try-centos-ceph-again,I689020e4262cba75b9da1a0f529d325a2b68669d,"WIP: Try CentOS Ceph Nautilus repo again, now with ganesha",ABANDONED,2019-06-18 15:01:28.000000000,2019-06-19 09:03:05.000000000,,8,26,0,666012,33435bc6448e1d64098e6071bd6a40e83eba2719,7,3,2,4,30491,Radosław Piliszek,yoctozepto,"WIP: Try CentOS Ceph Nautilus repo again, now with ganesha

Ganesha version is 2.8 compared to 2.7 before.

TODO: temporarily fixed ganesha image, must fix master

Change-Id: I689020e4262cba75b9da1a0f529d325a2b68669d
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fironic~master~Ia385e4ea2adf4aca3533c3599087b9611d322a3d,openstack/ironic,master,bug/2005912,Ia385e4ea2adf4aca3533c3599087b9611d322a3d,Add additional error msg to the list of IPMI errors that will be retried,ABANDONED,2019-06-18 21:16:55.000000000,2019-06-19 08:53:34.000000000,,7,2,0,666170,0af1fd8d5f15e41b4c0d7b15ee9573d797ef58eb,6,4,1,3,21909,Bob Fournier,bfournie,"Add additional error msg to the list of IPMI errors that will be retried

When using vbmc, occasionally ""Unexpected error"" is returned when running the IPMI
power status command in a valid configuration.  This adds the message to the list
of IPMI errors that will be retried.

Story: 2005912
Task: 34172

Change-Id: Ia385e4ea2adf4aca3533c3599087b9611d322a3d
"
openstack%2Fnova~master~I706b21b9921001f45500ef18f970d70d561c1665,openstack/nova,master,graceful_shutdown,I706b21b9921001f45500ef18f970d70d561c1665,Implementing graceful shutdown.,ABANDONED,2018-10-08 15:24:11.000000000,2019-06-19 08:46:28.000000000,,36,9,30,608704,7a2b04f5cfaaed798143ceb8ad236bf77ffbe5b8,108,32,6,5,28100,Martin Midolesov,martinmidolesov,"Implementing graceful shutdown.

This allowes nova-compute to finish creating all currently spawning instances,
when SIGTERM is sent to nova-compute process.
graceful_shutdown_timeout in nova.conf is set to 9000 - must set a bigger number in
order to work.

Closes-Bug: #1798326
Change-Id: I706b21b9921001f45500ef18f970d70d561c1665
"
openstack%2Fsolum~master~I504669d7af95f11a7d4a5670f95997c21752da7e,openstack/solum,master,,I504669d7af95f11a7d4a5670f95997c21752da7e,Update contraints url,MERGED,2019-06-18 06:12:12.000000000,2019-06-19 08:33:22.000000000,2019-06-19 08:33:21.000000000,3,3,0,665871,451569be57718e5503be5096b26a13baa12186bf,8,2,1,1,14107,zhurong,zhurong,"Update contraints url

Change-Id: I504669d7af95f11a7d4a5670f95997c21752da7e
"
openstack%2Frpm-packaging~master~I16fd93a636c87f02b85c04519976bf9e4e5c6878,openstack/rpm-packaging,master,657533,I16fd93a636c87f02b85c04519976bf9e4e5c6878,renderspec: install renderspec binary only for python 3.x,MERGED,2019-05-07 06:58:40.000000000,2019-06-19 08:27:44.000000000,2019-06-19 08:27:44.000000000,5,8,3,657533,8569a8f0a44c4881f1b18936a5a282014241d961,47,5,9,1,6593,Dirk Mueller,dmllr,"renderspec: install renderspec binary only for python 3.x

We'd like to go with python 3.x only for SUSE asap, so
remove the binary alternative handling for it and only
package the python 3.x build

Change-Id: I16fd93a636c87f02b85c04519976bf9e4e5c6878
"
openstack%2Frequirements~stable%2Focata~Ia61d944dbfdf494598e41e5fbefd0e32a91814ed,openstack/requirements,stable/ocata,u-c,Ia61d944dbfdf494598e41e5fbefd0e32a91814ed,Fix where we use constraints,MERGED,2019-05-24 00:27:33.000000000,2019-06-19 08:21:20.000000000,2019-06-19 08:21:19.000000000,2,1,0,661148,fcd97cb83e64f55bc483649e1f05476b0ab26d89,10,3,1,1,12898,Tony Breeds,tonyb,"Fix where we use constraints

in I2598503c2d4397d7efbb03a76df9a4e91dd0c1cf we mistakenly added
constraints to install_command in out based testenv.  This is incorrect
as it means the generate env will be run in a constrained environment.

We don't use UPPER_CONSTRAINT_FILE as *right now* it's the same thing
and this leaves us internally consistent (even if technically incorrect)

Change-Id: Ia61d944dbfdf494598e41e5fbefd0e32a91814ed
(cherry picked from commit f43647b3edf8024669f378f1943278081ce9bd85)
"
openstack%2Fironic-inspector~master~I1d17e594fcaadf6f68ec5f0c3155208eda5a5d99,openstack/ironic-inspector,master,swift-deprecations,I1d17e594fcaadf6f68ec5f0c3155208eda5a5d99,Remove deprecated options for accessing Swift,MERGED,2019-06-18 06:48:09.000000000,2019-06-19 08:12:33.000000000,2019-06-19 08:12:33.000000000,7,29,0,665882,ca044c9a4b705a7da4f613152aa7eb7c47e5ba32,8,4,1,4,10239,Dmitry Tantsur,dtantsur,"Remove deprecated options for accessing Swift

Change-Id: I1d17e594fcaadf6f68ec5f0c3155208eda5a5d99
"
openstack%2Fkolla-ansible~master~Ie9a3b0fef395aaf414407f6bae1ac4bca158240d,openstack/kolla-ansible,master,remove_roles_middlesware,Ie9a3b0fef395aaf414407f6bae1ac4bca158240d,Remove obsolete roles middleware,MERGED,2019-05-24 10:33:00.000000000,2019-06-19 08:10:48.000000000,2019-06-13 19:24:20.000000000,2,2,0,661250,f23901677cdd247315eea56150df1fafafb107d1,12,4,1,1,17669,Doug Szumski,DougSzumski,"Remove obsolete roles middleware

Change I0ca38f2cc7d63b9b47eedb304ba7b00a94816f9a removed the roles
middleware from the example paste pipeline.

Change-Id: Ie9a3b0fef395aaf414407f6bae1ac4bca158240d
"
openstack%2Fdiskimage-builder~master~I5464be9e055feecd80918f691448acf5f100e701,openstack/diskimage-builder,master,,I5464be9e055feecd80918f691448acf5f100e701,Sync Sphinx requirement,MERGED,2019-06-18 15:26:10.000000000,2019-06-19 07:48:14.000000000,2019-06-19 07:48:14.000000000,10,6,1,666023,8dd7ca720f30019c9a3e1e05b63215f2dce47aa8,9,3,3,3,28614,jacky06,jacky06,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Update some URLs to latest
3. Remove the unnecessary space

Change-Id: I5464be9e055feecd80918f691448acf5f100e701
"
openstack%2Ffreezer~master~Ic101a648627c69aab04177474b690b966cb4aae2,openstack/freezer,master,,Ic101a648627c69aab04177474b690b966cb4aae2,add test_utils.py,MERGED,2019-06-18 03:44:20.000000000,2019-06-19 07:37:05.000000000,2019-06-19 07:37:05.000000000,93,0,0,665853,98ae755d784c00979586653844a9a872eb1a6252,15,3,2,1,19098,lumeihong,lu-meihong,"add test_utils.py

Change-Id: Ic101a648627c69aab04177474b690b966cb4aae2
"
openstack%2Fkeystone~master~Iad751761fcc143f4549a19c4c3d262bbee0419c4,openstack/keystone,master,mission-statement,Iad751761fcc143f4549a19c4c3d262bbee0419c4,Add link to describe Principle of Least Privilege,MERGED,2019-06-18 19:06:29.000000000,2019-06-19 07:33:16.000000000,2019-06-19 07:33:15.000000000,4,2,0,666151,0f7a1c47c844c12f59ac54fe9bce7ae8df04e385,8,4,1,1,8482,Colleen Murphy,krinkle,"Add link to describe Principle of Least Privilege

Add a link to the vision reflection to clarify the meaning of the
Principle of Least Privilege, which is a significant theme in our vision
document.

Change-Id: Iad751761fcc143f4549a19c4c3d262bbee0419c4
"
openstack%2Ftempest~master~I9ced4af40eb0c2a22e3557caded56045a397d539,openstack/tempest,master,cleanup,I9ced4af40eb0c2a22e3557caded56045a397d539,Fix cleanup NotImplemented error,MERGED,2019-06-12 15:45:14.000000000,2019-06-19 07:33:13.000000000,2019-06-19 07:33:13.000000000,79,10,6,664962,97857948d9cdd7cec21e2542fa2222e820e5a66a,27,11,3,4,22873,Martin Kopec,mkopec,"Fix cleanup NotImplemented error

tempest cleanup doesn't check if the APIs it uses are
implemented or not. Therefore the patch adds a try
except block preventing tempest cleanup to fail when
some of the APIs are not implemented.

Closes-bug: #1832566

Change-Id: I9ced4af40eb0c2a22e3557caded56045a397d539
"
openstack%2Frpm-packaging~stable%2Frocky~I7587c756b3ca2fe009a390c155e7d054c316a70b,openstack/rpm-packaging,stable/rocky,fix-manila-rocky,I7587c756b3ca2fe009a390c155e7d054c316a70b,Add patches to fix manila tempest CIFS tests,MERGED,2019-06-18 19:54:19.000000000,2019-06-19 07:23:38.000000000,2019-06-19 07:23:38.000000000,97,1,0,666161,823b3d39fe2414335d85eeb167558979ea301db8,9,5,1,3,8482,Colleen Murphy,krinkle,"Add patches to fix manila tempest CIFS tests

This change adds two patches to the manila-tempest-plugin package to fix
tests for the CIFS protocol which is not fully tested upstream.

Change-Id: I7587c756b3ca2fe009a390c155e7d054c316a70b
"
openstack%2Frpm-packaging~stable%2Fstein~Id844b9b2e8173da95c00000b361e78b872774df6,openstack/rpm-packaging,stable/stein,fix-manila-stein,Id844b9b2e8173da95c00000b361e78b872774df6,Add patches to fix manila tempest CIFS tests,MERGED,2019-06-18 19:49:53.000000000,2019-06-19 07:23:37.000000000,2019-06-19 07:23:37.000000000,97,1,0,666158,5de842ddb9494052f99fd3d8b7a26471ad3e2625,10,5,2,3,8482,Colleen Murphy,krinkle,"Add patches to fix manila tempest CIFS tests

This change adds two patches to the manila-tempest-plugin package to fix
tests for the CIFS protocol which is not fully tested upstream.

Change-Id: Id844b9b2e8173da95c00000b361e78b872774df6
"
openstack%2Fkuryr-kubernetes~stable%2Fstein~I4f9078420190521fcba7bbc02540b616c479c0d3,openstack/kuryr-kubernetes,stable/stein,bp/k8s-network-policies,I4f9078420190521fcba7bbc02540b616c479c0d3,Add ipBlock support to NP,ABANDONED,2019-06-11 09:13:10.000000000,2019-06-19 07:20:26.000000000,,40,0,0,664528,5cc62b77b8e80ed854067b179aaa5b6b6da1450f,8,6,1,3,27032,Maysa de Macedo Souza,maysa,"Add ipBlock support to NP

This commit adds support for ipBlocks when using Network Policies with
Kuryr-Kubernetes.

Partially Implements: blueprint k8s-network-policies

(cherry picked from commit 9b3182cfebde2d990cf472617d068c3ecb0d9d4d)

Change-Id: I4f9078420190521fcba7bbc02540b616c479c0d3
"
openstack%2Fneutron~master~I4e0f53e770211ae072bec5b8684649743479dd5b,openstack/neutron,master,neutron-lib-1.27.0,I4e0f53e770211ae072bec5b8684649743479dd5b,bump neutron-lib to 1.27.0,MERGED,2019-06-04 20:48:33.000000000,2019-06-19 07:08:37.000000000,2019-06-19 07:08:37.000000000,2,2,0,663141,0d943addedcdcb98e3bea8f1ae876318538f013d,63,14,5,2,5367,boden,boden,"bump neutron-lib to 1.27.0

Change-Id: I4e0f53e770211ae072bec5b8684649743479dd5b
"
openstack%2Fpython-watcherclient~master~If04d918774d0254c7d386f80c5e8b1ce84b7eac1,openstack/python-watcherclient,master,,If04d918774d0254c7d386f80c5e8b1ce84b7eac1,Switch to the new canonical constraints URL on master,MERGED,2019-06-14 12:02:06.000000000,2019-06-19 06:58:49.000000000,2019-06-19 06:58:49.000000000,2,2,0,665365,0e9c827c761f6c1672a4559f4b0e7b73df1dcbaa,7,4,1,1,28748,chenker,chenke,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
2. https://review.opendev.org/#/c/601188

Change-Id: If04d918774d0254c7d386f80c5e8b1ce84b7eac1
"
openstack%2Fbifrost~master~I702d96baa41dce74a1bc5c065146adadec979623,openstack/bifrost,master,proxy,I702d96baa41dce74a1bc5c065146adadec979623,Add proxy envvar for tox,MERGED,2019-06-19 02:38:50.000000000,2019-06-19 06:58:35.000000000,2019-06-19 06:58:35.000000000,1,0,0,666204,5f31be7e7ea27765a8d8881c75dda2a107249e9e,7,3,1,1,24828,Kaifeng Wang,wangkf,"Add proxy envvar for tox

Spotted when generating pdf, due to no internet connection, the svg
image is not downloaded, and the pdf is generated. But unlucky for
Riccardo because he is lucky for not behind a proxy :)

Change-Id: I702d96baa41dce74a1bc5c065146adadec979623
"
openstack%2Ftacker~master~Iea0c40d180cc40e706eb90e2395d93cc719b3abd,openstack/tacker,master,bug/failed_install_all_in_one_mode_devstack_in_doc,Iea0c40d180cc40e706eb90e2395d93cc719b3abd,Failed all-in-one mode devstack local.conf,MERGED,2019-06-18 09:49:17.000000000,2019-06-19 06:51:44.000000000,2019-06-19 06:51:44.000000000,14,4,3,665931,a889ffce6bc0de6ea195dcb29008e19983e21b0f,11,4,2,3,30198,Hiroya Nakaya,nakkay,"Failed all-in-one mode devstack local.conf

Fix settings to install kuryr in local.conf.
Refer to tacker/devstack/local.conf.kuberntes for this setting.

Change-Id: Iea0c40d180cc40e706eb90e2395d93cc719b3abd
"
openstack%2Fpuppet-tripleo~master~If5a0861441c1c33431364f2a1f3d7d1296106159,openstack/puppet-tripleo,master,bug/1832335,If5a0861441c1c33431364f2a1f3d7d1296106159,Do not invoke host config in agent config,MERGED,2019-06-11 12:26:03.000000000,2019-06-19 06:39:08.000000000,2019-06-18 20:36:53.000000000,0,1,1,664565,e9484ac78912cd0d403f0c2e931029afcecdbfd7,17,7,2,1,6681,Brent Eagles,beagles,"Do not invoke host config in agent config

The SR-IOV agent config was pulling in the host configuration which is
incorrect and will not work under certain conditions.

Change-Id: If5a0861441c1c33431364f2a1f3d7d1296106159
Closes-Bug: #1832335
"
openstack%2Fldappool~master~Icbb9ba6835d7e76af0dd74ae10020dc2e3ea8077,openstack/ldappool,master,,Icbb9ba6835d7e76af0dd74ae10020dc2e3ea8077,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 11:38:39.000000000,2019-06-19 06:37:38.000000000,,3,3,2,655025,0b73929bb3ae7bc458b3665afe9531ba8b945891,4,2,1,2,22165,caoyuan,caoyuan,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Icbb9ba6835d7e76af0dd74ae10020dc2e3ea8077
"
openstack%2Fkolla-ansible~master~If6f7dd28bbb75308ef434c166c28a5cf4a624cbd,openstack/kolla-ansible,master,remove-heat-watch,If6f7dd28bbb75308ef434c166c28a5cf4a624cbd,Remove heat_watch_server_url configuration option,MERGED,2019-06-13 17:04:50.000000000,2019-06-19 06:37:37.000000000,2019-06-19 04:39:32.000000000,0,1,0,665185,cc011ceb411e619537eea63a3f35dca9efcbd7c9,19,5,1,1,15197,Pierre Riteau,priteau,"Remove heat_watch_server_url configuration option

The AWS-compatible CloudWatch API has been removed from Heat in Queens.
Remove its configuration option from the heat.conf template.

Change-Id: If6f7dd28bbb75308ef434c166c28a5cf4a624cbd
"
openstack%2Ftacker~master~I285c6c62094b188b2f919d873f47041b7e7cf902,openstack/tacker,master,bug/1829384,I285c6c62094b188b2f919d873f47041b7e7cf902,K8s 'ssl_ca_cert' value error remaining work,MERGED,2019-06-13 07:38:51.000000000,2019-06-19 06:36:27.000000000,2019-06-19 06:36:27.000000000,14,16,2,665084,2ab50ef8f1f40fba51f6b35b43a6bd911d4a6ba9,10,5,1,4,26588,Hiroyuki Jo,joxyuki,"K8s 'ssl_ca_cert' value error remaining work

Made remaining nit works of the patch[1] which closes the bug #1829384.

[1] https://review.opendev.org/#/c/659559/

Change-Id: I285c6c62094b188b2f919d873f47041b7e7cf902
"
openstack%2Fopenstack-ansible-tests~master~I5c2478b41d49dd3e4392c1800ad6a7e7c1494152,openstack/openstack-ansible-tests,master,bug/1825329,I5c2478b41d49dd3e4392c1800ad6a7e7c1494152,Stop deleting-and-creating RabbitMQ account,MERGED,2019-06-12 12:21:27.000000000,2019-06-19 06:34:56.000000000,2019-06-18 18:08:59.000000000,1,1,0,664868,5879ae1891049f6464b8c2a5f5990b36eed62954,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Stop deleting-and-creating RabbitMQ account

The `force` option creates and recreates the user which means on
any deploy it kills *all* AMQP traffic on all agents.

This updates it when changed every single run, which shouldn't
kill the connectivity when we run playbooks.

Change-Id: I5c2478b41d49dd3e4392c1800ad6a7e7c1494152
Closes-Bug: 1825329
"
openstack%2Fironic~master~Ide12cb4f83f3216af82e0d1139dc2f4468f1e5cb,openstack/ironic,master,release-12.2.0,Ide12cb4f83f3216af82e0d1139dc2f4468f1e5cb,Update API history and release mapping for 12.2.0,MERGED,2019-06-18 10:33:30.000000000,2019-06-19 06:14:42.000000000,2019-06-18 16:35:06.000000000,19,2,0,665945,dcab7df395befcbc75c6b1cae8162b34484fe2f3,10,6,1,2,14826,Mark Goddard,mgoddard,"Update API history and release mapping for 12.2.0

12.2.0 will be the first release in the Train cycle.

Change-Id: Ide12cb4f83f3216af82e0d1139dc2f4468f1e5cb
"
openstack%2Fhorizon~master~Ia55db622b35005e9da4ff83f39414a37ddc19e87,openstack/horizon,master,bug/1832288,Ia55db622b35005e9da4ff83f39414a37ddc19e87,Uniform asterisk mark color and location,MERGED,2019-06-11 02:25:44.000000000,2019-06-19 06:03:26.000000000,2019-06-19 06:03:26.000000000,11,5,0,664486,cbd15bf910da3faf737b7669467afa310d2da676,10,5,1,2,27822,pengyuesheng,pengyuesheng,"Uniform asterisk mark color and location

The asterisk mark color and location are inconsistent
in the Create Key Pair and Import Key Form.

This Patch uniform asterisk mark color and location in some forms

Change-Id: Ia55db622b35005e9da4ff83f39414a37ddc19e87
Closes-Bug: #1832288
"
openstack%2Fopenstack-helm-infra~master~If5d8007bece9ccbff481187e757968e7d1b6f651,openstack/openstack-helm-infra,master,python3,If5d8007bece9ccbff481187e757968e7d1b6f651,Adapt rabbitmq test for py2 and py3 support,MERGED,2019-05-15 14:31:44.000000000,2019-06-19 05:50:54.000000000,2019-06-19 05:50:54.000000000,17,16,10,659301,8ee35e896fd89cb55bf8036d4652fc318183b989,56,8,16,1,17068,Jean-Philippe Evrard,evrardjp,"Adapt rabbitmq test for py2 and py3 support

This works well for python2, but things will become
messy when py3 will be the default.

This, at the same time, ensures the KeyErrors are
properly logged, with a way to debug them.

Change-Id: If5d8007bece9ccbff481187e757968e7d1b6f651
"
openstack%2Fironic~master~I0ffe0c12e9e32f32d2b400b5756fc2148a2993a0,openstack/ironic,master,bandit,I0ffe0c12e9e32f32d2b400b5756fc2148a2993a0,Incorporate bandit support in CI,MERGED,2019-06-03 07:10:50.000000000,2019-06-19 05:45:10.000000000,2019-06-19 05:45:10.000000000,31,0,0,662689,caf925349ac7b95eb5cd5c6a7242cf20c1e06855,37,11,3,5,24828,Kaifeng Wang,wangkf,"Incorporate bandit support in CI

Change-Id: I0ffe0c12e9e32f32d2b400b5756fc2148a2993a0
Story: 2005791
Task: 33518
"
openstack%2Fswift~master~I764e6ec9cb503bfd12140dfe7132255648e006d8,openstack/swift,master,bug/1833287,I764e6ec9cb503bfd12140dfe7132255648e006d8,staticweb: Allow unauthenticated users to use X-Web-Mode,NEW,2019-06-18 22:52:13.000000000,2019-06-19 05:40:00.000000000,,24,2,0,666186,bdb328bc2c79a916a43a6e8e61e253d431eebefb,2,1,1,2,15343,Tim Burke,tburke,"staticweb: Allow unauthenticated users to use X-Web-Mode

Change-Id: I764e6ec9cb503bfd12140dfe7132255648e006d8
"
openstack%2Fopenstack-helm~master~Iec7bc6f4dd089aaa08ca652bebd9a10ef49da556,openstack/openstack-helm,master,,Iec7bc6f4dd089aaa08ca652bebd9a10ef49da556,Cinder: Support backup driver specification by module or class name,MERGED,2019-06-08 20:32:00.000000000,2019-06-19 05:28:04.000000000,2019-06-19 05:28:03.000000000,24,20,0,664143,aa4ca5ad56c8c504c3aa97ab691cbbcb6b42464b,13,4,2,7,28459,Bob Church,rchurch,"Cinder: Support backup driver specification by module or class name

During the Queens cycle, Cinder introduced the ability to specify the
backup driver via class name and deprecated backup driver initialization
using the module name. (Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf)

Legacy support for initialization by module name was dropped in Stein.
(I3ada2dee1857074746b1893b82dd5f6641c6e579)

This change will support both methods of initialization and leave the
driver defaults enabled for module based initialization (valid through
Rocky images).

This change has been tested using the OSH default Cinder (Ocata) images
and StarlingX images based on master (Train).

Change-Id: Iec7bc6f4dd089aaa08ca652bebd9a10ef49da556
Signed-off-by: Robert Church <robert.church@windriver.com>
"
openstack%2Fsolum~master~I140f057a7df18f5b6c07c850c9d0b7e2ae4862db,openstack/solum,master,,I140f057a7df18f5b6c07c850c9d0b7e2ae4862db,Fix Textual SQL expression error,MERGED,2019-06-18 07:38:36.000000000,2019-06-19 05:07:01.000000000,2019-06-19 05:07:01.000000000,2,1,0,665894,f2414c2df1c98718b7d132c526b7ff73e88c8750,10,2,2,1,14107,zhurong,zhurong,"Fix Textual SQL expression error

Change-Id: I140f057a7df18f5b6c07c850c9d0b7e2ae4862db
"
openstack%2Fbifrost~master~Ib76978f0406fac2c2c7b8396e1a03a87db9eeba5,openstack/bifrost,master,auth,Ib76978f0406fac2c2c7b8396e1a03a87db9eeba5,Remove deprecated authentication parameters,MERGED,2019-06-18 05:57:26.000000000,2019-06-19 04:29:23.000000000,2019-06-19 04:29:23.000000000,7,19,0,665867,ee50d50ebe3134ed3185d28b5f729fb895d36181,7,3,1,4,10239,Dmitry Tantsur,dtantsur,"Remove deprecated authentication parameters

This removes inspector_auth and ironic_auth_strategy which are redundant
with enable_keystone and rely on deprecated ironic-inspector options.

Change-Id: Ib76978f0406fac2c2c7b8396e1a03a87db9eeba5
"
openstack%2Foctavia~master~I3b98c693d334a1025f633bd319c88dde724be30e,openstack/octavia,master,active-active-with-distributor,I3b98c693d334a1025f633bd319c88dde724be30e,ACTIVE-ACTIVE: Amphora driver updates,NEW,2017-12-20 00:34:37.000000000,2019-06-19 03:39:16.000000000,,710,31,0,529191,80d6d3a5b80f0bd1a0e7547e7f8934fe7f78c87c,19,5,6,11,11628,Michael Johnson,johnsom,"ACTIVE-ACTIVE: Amphora driver updates

This patch extends the amphora driver to support methods required for
Active/Active topologies and amphora in the distributor role.

This patch is a decompostion of the following patch:
https://review.openstack.org/#/c/313006

This patch also moves a class comment from a previous patch into a class
docstring.

Story: 2001288
Task: 6114

Change-Id: I3b98c693d334a1025f633bd319c88dde724be30e
Co-Authored-By: Adam Harwell <flux.adam@gmail.com>
Co-Authored-By: Valeria Perelman <perelman@il.ibm.com>
"
openstack%2Fswift~master~I05f38c6366e3da0aeed2b6451a8bd9d7dc531119,openstack/swift,master,docker-liberasurecode,I05f38c6366e3da0aeed2b6451a8bd9d7dc531119,Dockerfile cleanup,MERGED,2019-06-03 16:20:21.000000000,2019-06-19 03:23:55.000000000,2019-06-19 03:21:30.000000000,15,9,0,662799,a122b720e9c61b38cfe502dcb63a9c119220c4c1,21,4,2,8,15343,Tim Burke,tburke,"Dockerfile cleanup

- Use `set -e` in all install scripts. Clean up swift_needs to still
  work properly and exit cleanly under `set -e`.
- Drop some redundant slashes.

Change-Id: I05f38c6366e3da0aeed2b6451a8bd9d7dc531119
"
openstack%2Fswift~master~Iaa9208fb20545ae9ac990f0e180899108d983123,openstack/swift,master,remove_nobarrier,Iaa9208fb20545ae9ac990f0e180899108d983123,Remove nobarrier option,MERGED,2019-06-18 13:50:37.000000000,2019-06-19 03:22:50.000000000,2019-06-19 03:21:29.000000000,12,12,0,665984,4ab3706b75362b39cebf7ae5f325c191459c2690,9,4,1,8,9625,Thiago da Silva,thiago,"Remove nobarrier option

XFS no longer supports nobarrier mount option.
It has been deprecated for a long time[1] and removed in
recent kernel versions resulting in an error when trying to
mount: ""kernel: XFS (loop0): unknown mount option [nobarrier].""

[1] - https://patchwork.kernel.org/patch/9486549/

Change-Id: Iaa9208fb20545ae9ac990f0e180899108d983123
"
openstack%2Fnova~master~I7cdf79f21415fbf799fa5ad586f1b8063afed272,openstack/nova,master,,I7cdf79f21415fbf799fa5ad586f1b8063afed272,Clean up NumInstancesFilter related docs,MERGED,2019-06-17 21:35:47.000000000,2019-06-19 03:21:25.000000000,2019-06-19 03:21:25.000000000,11,10,0,665768,b4659c9fc31b397a4c04666182f6ec0d0ce1a311,18,14,1,2,6873,Matt Riedemann,mriedem,"Clean up NumInstancesFilter related docs

This is a follow up to b129511050e3bcedd0079041ecdb8d156baa67eb
which changes the code block in the docs to python and also
cleans up some of the NumInstancesFilter documentation, specifically
removing wording around ""running"" instances because the filter
does not care about state, only the number of instances reported
against a host - they could be stopped/paused/etc.

Change-Id: I7cdf79f21415fbf799fa5ad586f1b8063afed272
"
openstack%2Foctavia~master~I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e,openstack/octavia,master,active-active-with-distributor,I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e,ACTIVE-ACTIVE: Initial distributor data model,NEW,2017-12-19 00:57:49.000000000,2019-06-19 03:13:55.000000000,,384,26,19,528850,aec27ebf00c64625512978899e40a9b25d3455b9,67,11,23,10,11628,Michael Johnson,johnsom,"ACTIVE-ACTIVE: Initial distributor data model

This patch creates the initial distributor data model objects.

This patch is a decompostion of the following patch:
https://review.openstack.org/#/c/313006

Story: 2001288
Task: 6109

Change-Id: I6c6783d6be91f5b256accf7ed0ac77d6fc12f79e
Co-Authored-By: Valeria Perelman <perelman@il.ibm.com>
Co-Authored-By: Santhosh Fernandes <santhosh.fernandes@gmail.com>
"
openstack%2Ffreezer-tempest-plugin~master~Ic10621560603d97f6b75d62704c0e99e0f4661fd,openstack/freezer-tempest-plugin,master,fixcifial,Ic10621560603d97f6b75d62704c0e99e0f4661fd,Fix ci fail,MERGED,2019-06-19 01:08:13.000000000,2019-06-19 02:51:54.000000000,2019-06-19 02:51:54.000000000,0,51,0,666197,ca93c45669d30c8e672fb69f21dc1dfbcd3b9e8d,6,2,1,1,21387,gecong,gecong,"Fix ci fail

temporarliy remove test for test

Change-Id: Ic10621560603d97f6b75d62704c0e99e0f4661fd
"
openstack%2Fwatcher~master~I6f39e8d935195c611f668f71590e1d9ff52ced0d,openstack/watcher,master,bug/1832156,I6f39e8d935195c611f668f71590e1d9ff52ced0d,Map instance to its node,MERGED,2019-06-06 08:44:13.000000000,2019-06-19 02:44:58.000000000,2019-06-19 02:44:57.000000000,30,3,4,663541,79a57f67e67d739842722c850655b1f6fc7b4733,17,6,4,2,21692,licanwei,licanwei,"Map instance to its node

When receiving Nova notification instance.create.end,
map instance to its node after adding instance to datamodel.
Related-Bug: #1832156

Change-Id: I6f39e8d935195c611f668f71590e1d9ff52ced0d
"
openstack%2Fwatcher~master~I2cb24249ed1e82dd85c0f586532e5a7cbc57f2c0,openstack/watcher,master,typo_ceilometer,I2cb24249ed1e82dd85c0f586532e5a7cbc57f2c0,typo ceilometer url,MERGED,2019-06-18 11:30:22.000000000,2019-06-19 02:44:57.000000000,2019-06-19 02:44:57.000000000,1,1,0,665957,e4fc5a08ed33225d53ae906824ce4d0208f4e716,7,3,1,1,21692,licanwei,licanwei,"typo ceilometer url

Change-Id: I2cb24249ed1e82dd85c0f586532e5a7cbc57f2c0
"
openstack%2Fwatcher-tempest-plugin~master~I8d0760ce4c44cafb004deb88b15185f140b9cb5d,openstack/watcher-tempest-plugin,master,,I8d0760ce4c44cafb004deb88b15185f140b9cb5d,Switch to the new canonical constraints URL on master,MERGED,2019-06-14 11:52:58.000000000,2019-06-19 02:44:56.000000000,2019-06-19 02:44:56.000000000,4,2,0,665363,046df8b8f9857140a7649f63d309a982874b0db0,8,3,1,1,28748,chenker,chenke,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
2. https://review.opendev.org/#/c/601188

Change-Id: I8d0760ce4c44cafb004deb88b15185f140b9cb5d
"
openstack%2Faodh~stable%2Focata~I084959f672c33f942c732953ea039f975091499d,openstack/aodh,stable/ocata,,I084959f672c33f942c732953ea039f975091499d,Remove jenkins user from post_test_hook.sh,MERGED,2018-11-08 17:59:30.000000000,2019-06-19 02:30:29.000000000,2019-06-19 02:30:29.000000000,1,1,0,616648,e1e81328b6e1525eee5ae95a7641ef0b12d664ab,7,4,1,1,17685,Elod Illes,elod.illes,"Remove jenkins user from post_test_hook.sh

aodh-dsvm-functional-mysql and aodh-dsvm-functional-postgresql jobs
fail on stable/ocata with:
  ""chown: invalid user: jenkins:jenkins""

This patch is only needed on stable/ocata as on newer branches does
not contain this post-test hook anymore.

Change-Id: I084959f672c33f942c732953ea039f975091499d
"
openstack%2Fswift~master~Ie1f8808c04f975ccc7cea532c4a566d6984f1757,openstack/swift,master,,Ie1f8808c04f975ccc7cea532c4a566d6984f1757,"py3: increase _MAXHEADERS for eventlet, too",MERGED,2019-06-17 21:42:52.000000000,2019-06-19 02:26:57.000000000,2019-06-19 02:25:46.000000000,3,0,0,665770,876ce231d616530e036521ba7cac28373e722ce2,7,2,1,1,15343,Tim Burke,tburke,"py3: increase _MAXHEADERS for eventlet, too

eventlet.wsgi goes straight to eventlet.green.* instead of stdlib.

Change-Id: Ie1f8808c04f975ccc7cea532c4a566d6984f1757
"
openstack%2Ftempest~master~I707aba930037e86f5f94dac73da957f5afacf935,openstack/tempest,master,tempest-sanity-gate,I707aba930037e86f5f94dac73da957f5afacf935,Publish BLACKLIST on Tempest plugin registry page,MERGED,2019-05-23 09:44:49.000000000,2019-06-19 02:25:44.000000000,2019-06-19 02:25:44.000000000,63,46,10,660957,ac8ae64d5b7e37bb49039bb381e95ec0b91c98b2,26,5,7,4,5689,Masayuki Igawa,igawa,"Publish BLACKLIST on Tempest plugin registry page

This commit makes the BLACKLIST to be published on the Tempest plugin
registry page which we discussed at the PTG[0].

[0] https://etherpad.openstack.org/p/qa-train-ptg

Change-Id: I707aba930037e86f5f94dac73da957f5afacf935
"
openstack%2Ftempest~master~Ie2f973e3868ffdb19c34b59b9d5f10ffd0acb672,openstack/tempest,master,,Ie2f973e3868ffdb19c34b59b9d5f10ffd0acb672,Fix region leaks after testing endpoints,MERGED,2019-06-02 19:52:01.000000000,2019-06-19 02:25:42.000000000,2019-06-19 02:25:42.000000000,26,14,4,662644,1a457ac530a24968212865d594ec87943d883d9d,14,9,1,2,11692,Cédric OLLIVIER,col,"Fix region leaks after testing endpoints

It removes 7 remaining regions after running tempest_full via OPNFV
Functest [1].

[1] https://build.opnfv.org/ci/job/functest-opnfv-functest-smoke-latest-tempest_full-run/211/console

Change-Id: Ie2f973e3868ffdb19c34b59b9d5f10ffd0acb672
Signed-off-by: Cédric Ollivier <ollivier.cedric@gmail.com>
"
openstack%2Fwatcher-dashboard~master~I011457f4f2548d14ebea0e7671c34ec53ec86461,openstack/watcher-dashboard,master,,I011457f4f2548d14ebea0e7671c34ec53ec86461,Switch to the new canonical constraints URL on master,MERGED,2019-06-14 12:00:50.000000000,2019-06-19 02:16:16.000000000,2019-06-19 02:16:16.000000000,1,1,0,665364,d1d36ca9ca5236fe570ee59762e1086a81dd9c76,10,6,1,1,28748,chenker,chenke,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
2. https://review.opendev.org/#/c/601188

Change-Id: I011457f4f2548d14ebea0e7671c34ec53ec86461
"
openstack%2Fwatcher-specs~master~I87a908e1965fe9a0785329533eab7b9ce2ded8cb,openstack/watcher-specs,master,,I87a908e1965fe9a0785329533eab7b9ce2ded8cb,Switch to the new canonical constraints URL on master,MERGED,2019-06-14 12:06:03.000000000,2019-06-19 02:03:43.000000000,2019-06-19 02:03:43.000000000,3,2,0,665366,5360e76c66201221817b1f7a136946e1b83fcb95,10,4,2,1,28748,chenker,chenke,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
2. https://review.opendev.org/#/c/601188

Change-Id: I87a908e1965fe9a0785329533eab7b9ce2ded8cb
"
openstack%2Fkolla-ansible~master~Iad3e906af325ba3209a77a91ab2061e515b4a219,openstack/kolla-ansible,master,fwaas-v2,Iad3e906af325ba3209a77a91ab2061e515b4a219,Update service_provider for FWaaS v2,MERGED,2019-05-28 09:20:40.000000000,2019-06-19 02:01:55.000000000,2019-06-13 19:24:21.000000000,4,0,0,661704,b374ea33e4c90bb393c062e97737b90fd2bc455c,12,3,2,1,28367,Zijian Guo,ZijianGuo,"Update service_provider for FWaaS v2

As described in document [1], the service_provider should be set to
'FIREWALL_V2:fwaas_db:neutron_fwaas.services.firewall.service_drivers.
agents.agents.FirewallAgentDriver:default' for FWaaS v2.

[1] https://docs.openstack.org/neutron/stein/admin/fwaas-v2-scenario.html#enable-fwaas-v2

Change-Id: Iad3e906af325ba3209a77a91ab2061e515b4a219
Signed-off-by: ZijianGuo <guozijn@gmail.com>
"
openstack%2Fheat~master~I14b8e4d652fd9f8a15b4c1eb8b4dd40aa0280262,openstack/heat,master,aodh-lbmemberhealth-alarm,I14b8e4d652fd9f8a15b4c1eb8b4dd40aa0280262,Please review new patch set,ABANDONED,2019-06-18 23:17:08.000000000,2019-06-19 01:46:00.000000000,,0,0,0,666191,8f53e94399ee97eefc029a835fe46d9a06277968,3,1,1,0,30447,Simon Merrick,iokiwi,"Please review new patch set

Failing pep8 check Unrelated. addressed here -> https://review.opendev.org/#/c/666168/1

Change-Id: I14b8e4d652fd9f8a15b4c1eb8b4dd40aa0280262
"
openstack%2Fnova~master~I00ee0bd99c4f31a2b73fc69373fefb56740f5425,openstack/nova,master,bug/1833130,I00ee0bd99c4f31a2b73fc69373fefb56740f5425,Log quota legacy method warning only if counting from placement,MERGED,2019-06-17 21:24:28.000000000,2019-06-19 01:45:33.000000000,2019-06-19 01:45:33.000000000,4,2,2,665765,818c31f96e773a47a6fcbf084e13933865fdac80,21,14,2,2,4690,melanie witt,melwitt,"Log quota legacy method warning only if counting from placement

The log warning message is being emitted unconditionally and should be
limited to only when CONF.quota.count_usage_from_placement = True.

This fixes the issue and adds missing unit test coverage that would
have caught it.

Closes-Bug: #1833130

Change-Id: I00ee0bd99c4f31a2b73fc69373fefb56740f5425
"
openstack%2Fpython-openstackclient~master~I036aa75414c39194ed0c964d64aae08db37ba278,openstack/python-openstackclient,master,story/2005246,I036aa75414c39194ed0c964d64aae08db37ba278,Client should parse string to boolean for valuse 'is_domain',ABANDONED,2019-05-20 07:25:25.000000000,2019-06-19 01:39:13.000000000,,19,0,1,660038,af80ed80115bcf420d6e65d6dba96c0c70f10f6e,13,5,3,2,25564,yanpuqing,ycx,"Client should parse string to boolean for valuse 'is_domain'

When we use ""--property"" parameter, client get lists these the
value is string type, but the type of the valuse 'is_domain'
should be boolean, so we should judge it and parse it.
The patch parse string to boolean for valuse 'is_domain'.

Change-Id: I036aa75414c39194ed0c964d64aae08db37ba278
Task: 30039
Story: 2005246
"
openstack%2Fneutron~master~I4275779bd8d353fbaa80c646515819b0a34edebb,openstack/neutron,master,bug/1828543,I4275779bd8d353fbaa80c646515819b0a34edebb,segments: Fix resource provider inventories update,MERGED,2019-06-07 15:25:02.000000000,2019-06-19 01:37:37.000000000,2019-06-19 01:37:37.000000000,34,26,0,663980,95023227b77b72382fdbb06bddadf832b1f20f8f,14,6,2,2,8313,Lajos Katona,elajkat,"segments: Fix resource provider inventories update

Related-Bug: #1828543
Depends-On: https://review.opendev.org/663978
Change-Id: I4275779bd8d353fbaa80c646515819b0a34edebb
"
openstack%2Fopenstack-ansible-os_monasca-agent~master~I73398d6e5ea2f2b4dde058f0cbb5855f36793fc1,openstack/openstack-ansible-os_monasca-agent,master,,I73398d6e5ea2f2b4dde058f0cbb5855f36793fc1,Cap sphinx for py2 to match global requirements,ABANDONED,2019-06-07 02:04:20.000000000,2019-06-19 01:28:05.000000000,,2,1,0,663817,43f3d36abde4b79c305ed2446501d9f5d76919b9,3,1,1,1,30384,zhangboye,zhangboye,"Cap sphinx for py2 to match global requirements

Change-Id: I73398d6e5ea2f2b4dde058f0cbb5855f36793fc1
"
openstack%2Fneutron~master~Ibb8d6bcce7f0fe1070b9eeb2ad632dfb58a3a015,openstack/neutron,master,bug/1828543,Ibb8d6bcce7f0fe1070b9eeb2ad632dfb58a3a015,Force segments to use placement 1.1,MERGED,2019-06-07 15:25:02.000000000,2019-06-19 01:27:31.000000000,2019-06-19 01:27:31.000000000,2,1,0,663979,62f55a12b053b753616747445bc9e3aa0e5e72d9,30,8,1,1,8313,Lajos Katona,elajkat,"Force segments to use placement 1.1

By documentation segments plugin was designed to use placement
microversion 1.1, force to use that.

Change-Id: Ibb8d6bcce7f0fe1070b9eeb2ad632dfb58a3a015
Depends-On: https://review.opendev.org/663978
Related-Bug: #1828543
"
openstack%2Fpuppet-tripleo~master~I92a1d154e6e03d1bd4ce90a53b5c829de30902eb,openstack/puppet-tripleo,master,,I92a1d154e6e03d1bd4ce90a53b5c829de30902eb,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-06-18 07:52:48.000000000,2019-06-19 01:05:45.000000000,,3,3,0,665898,64347e0817971342787db1d76675af951d28b126,5,2,2,3,27565,inspurericzhang,inspurericzhang,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I92a1d154e6e03d1bd4ce90a53b5c829de30902eb
"
openstack%2Fpuppet-crane~master~I0c599edf2323b5dc37bb27a8c9c59bf11d44a3e5,openstack/puppet-crane,master,,I0c599edf2323b5dc37bb27a8c9c59bf11d44a3e5,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-06-18 08:10:49.000000000,2019-06-19 00:59:15.000000000,,3,3,0,665903,a16aa002df5f260f2ed55e732bf11c470b32b2ca,2,0,1,3,27565,inspurericzhang,inspurericzhang,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I0c599edf2323b5dc37bb27a8c9c59bf11d44a3e5
"
openstack%2Fopenstack-helm-infra~master~I22e84f5d87aec90ad787a61b152062452867bc17,openstack/openstack-helm-infra,master,fix-indent,I22e84f5d87aec90ad787a61b152062452867bc17,Fix indent,MERGED,2019-06-16 04:58:31.000000000,2019-06-19 00:17:02.000000000,2019-06-19 00:17:02.000000000,12,12,0,665531,afb4c3afabc790fef17221c666690646f594805c,23,6,2,1,20466,Tin Lam,tinlam,"Fix indent

While reviewing [0], found incorrect indentations in YAML.
This patch set redresses the indentation problems.

[0] https://review.opendev.org/#/c/665524/2/ceph-osd/templates/daemonset-osd.yaml

Change-Id: I22e84f5d87aec90ad787a61b152062452867bc17
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Fopenstack-helm-infra~master~I00c68026af25d8c5af37fcb3a6e1bb0e2da13e1e,openstack/openstack-helm-infra,master,provide_default_domain_env_vars,I00c68026af25d8c5af37fcb3a6e1bb0e2da13e1e,htk: provide default domain env and secrets,MERGED,2019-06-04 09:52:46.000000000,2019-06-19 00:17:01.000000000,2019-06-19 00:17:01.000000000,6,0,0,662992,565fb4606b54444f4ea126a598ec0519c8aec75c,20,5,6,2,12281,Itxaka,itxaka,"htk: provide default domain env and secrets

We currently do not provide any env or secrets for the
default domain id for keystone

This makes it so we provide both like any other vars

Change-Id: I00c68026af25d8c5af37fcb3a6e1bb0e2da13e1e
"
openstack%2Fkolla-ansible~master~I5dddf2b0839adcfc5bad3d0b35a5e588228f14bc,openstack/kolla-ansible,master,,I5dddf2b0839adcfc5bad3d0b35a5e588228f14bc,Modify influxdb maximum data receipt by http,ABANDONED,2019-06-18 02:16:52.000000000,2019-06-19 00:16:36.000000000,,1,0,0,665845,4798296d71639bedec8e1f67d94ac3697480ea10,5,3,1,1,27565,inspurericzhang,inspurericzhang,"Modify influxdb maximum data receipt by http

Because the influxdb restart or network jitter results in data
accumulation of telegraf, which exceeds the maximum amount of data
received by http, it is impossible to upload data forever. It is
recommended that the maximum amount of data received be set to
unlimited.

Change-Id: I5dddf2b0839adcfc5bad3d0b35a5e588228f14bc
"
openstack%2Foctavia~stable%2Fqueens~I20572505e448f9b7ff6314b5167cc4c519c445fb,openstack/octavia,stable/queens,,I20572505e448f9b7ff6314b5167cc4c519c445fb,Fix allocate_and_associate DB deadlock,MERGED,2019-06-16 19:32:36.000000000,2019-06-19 00:00:30.000000000,2019-06-19 00:00:30.000000000,5,0,0,665558,a96b00b4dfdd6ac3643149149ed5141a9fbc68cd,13,4,1,2,11628,Michael Johnson,johnsom,"Fix allocate_and_associate DB deadlock

In testing we saw a DB deadlock in allocate_and_associate.
This patch corrects that with a DB retry wrapper.

Change-Id: I20572505e448f9b7ff6314b5167cc4c519c445fb
Story: 2005893
Task: 33751
(cherry picked from commit 0eaab450c12e33f277c31098a6792421d3f5806c)
"
openstack%2Fopenstack-ansible~stable%2Frocky~I3bd2df52301a6c3c7a12266cf24859a798e95ed7,openstack/openstack-ansible,stable/rocky,bump_osa,I3bd2df52301a6c3c7a12266cf24859a798e95ed7,Bump SHAs for stable/rocky,MERGED,2019-06-16 14:14:35.000000000,2019-06-18 23:56:03.000000000,2019-06-18 23:56:03.000000000,79,79,0,665542,a913e2e7dfc82ff6889d4ec4225ae35573ace5cd,12,3,1,3,17068,Jean-Philippe Evrard,evrardjp,"Bump SHAs for stable/rocky

Change-Id: I3bd2df52301a6c3c7a12266cf24859a798e95ed7
"
openstack%2Fopenstack-ansible~stable%2Fpike~I26b3d4641b84f61c78f5e976ea70126e5e26185f,openstack/openstack-ansible,stable/pike,bump_osa,I26b3d4641b84f61c78f5e976ea70126e5e26185f,Bump SHAs for stable/pike,MERGED,2019-06-16 14:19:32.000000000,2019-06-18 23:56:02.000000000,2019-06-18 23:56:02.000000000,53,53,0,665545,3d181bb39e8e457f636a83b5504e57765de9ef52,13,3,1,3,17068,Jean-Philippe Evrard,evrardjp,"Bump SHAs for stable/pike

Change-Id: I26b3d4641b84f61c78f5e976ea70126e5e26185f
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~I44553bbe6fc414e06a1876d9d6dab615f5dbfa21,openstack/puppet-tripleo,stable/queens,queens/release,I44553bbe6fc414e06a1876d9d6dab615f5dbfa21,Release 8.5.0 (queens),MERGED,2019-06-18 14:56:12.000000000,2019-06-18 23:53:36.000000000,2019-06-18 23:53:36.000000000,1,1,0,666010,4ad7bb2da1ceba3a5596fe5f887528930c4796f9,6,2,1,1,3153,Emilien Macchi,emilienm,"Release 8.5.0 (queens)

Change-Id: I44553bbe6fc414e06a1876d9d6dab615f5dbfa21
"
openstack%2Fpuppet-tripleo~stable%2Frocky~I92f9f03b4b6c06df827d24367cf1886c1f7bbe02,openstack/puppet-tripleo,stable/rocky,rocky/release,I92f9f03b4b6c06df827d24367cf1886c1f7bbe02,Prepare 9.5.0 release (rocky),MERGED,2019-06-18 14:42:18.000000000,2019-06-18 23:53:36.000000000,2019-06-18 23:53:36.000000000,1,1,0,666004,e4c894dac4dbd755e191a23dc16ce54a43adf628,6,2,1,1,3153,Emilien Macchi,emilienm,"Prepare 9.5.0 release (rocky)

Change-Id: I92f9f03b4b6c06df827d24367cf1886c1f7bbe02
"
openstack%2Ftripleo-common~master~I0556e788be1a898ab26934a660273bb6134f35e6,openstack/tripleo-common,master,bp/reduce-deployment-resources,I0556e788be1a898ab26934a660273bb6134f35e6,tripleo-hieradata: introduce hieradata_per_host,MERGED,2019-06-07 22:29:08.000000000,2019-06-18 23:53:35.000000000,2019-06-18 23:53:35.000000000,56,8,5,664069,9e26f857fdd5dd983dd8ba59769c2169445e2355,39,5,11,5,3153,Emilien Macchi,emilienm,"tripleo-hieradata: introduce hieradata_per_host

Before this patch, the format of hieradata_content could only be formed an hash
where each key is a datafile and the value is the hieradata to write in this
datafile.

Example:

extraconfig:
  foo: bar
  foo2: bar2
other_hierafile:
  foo: bar3

With per-host hieradata, we are going to provide a map of hieradata
files per host.
hieradata_content can now to be formed an hash where each key is a host composed
of datafiles and the value for each datafile is the hieradata to write in it.

Example:

controller1:
  extraconfig:
    foo: bar
    foo2: bar2
  other_hierafile:
    foo: bar3
controller2:
  extraconfig:
    foo: bar2
    foo2: bar3
  other_hierafile:
    foo: bar

This is done via hieradata_per_host parameter, set to False by default
for backward compatibility.

Change-Id: I0556e788be1a898ab26934a660273bb6134f35e6
"
openstack%2Ftripleo-common~master~I46cc7c366531cf92214968a051d2a50b3671f71c,openstack/tripleo-common,master,bp/reduce-deployment-resources,I46cc7c366531cf92214968a051d2a50b3671f71c,Populate Ansible Host variables with AnsibleHostVarsMap,MERGED,2019-06-05 21:39:04.000000000,2019-06-18 23:46:53.000000000,2019-06-18 23:46:53.000000000,52,5,0,663441,0c2efab56302d11fdfdd496c5ee04b1456109744,62,5,22,7,3153,Emilien Macchi,emilienm,"Populate Ansible Host variables with AnsibleHostVarsMap

The new interface in THT AnsibleHostVarsMap will be useful to lay down
the Ansible Host variables.
They are populated in THT but generated in config-download using the
same mechanism as the Group variables.

Change-Id: I46cc7c366531cf92214968a051d2a50b3671f71c
Depends-On: I3880f0f72beb24ee0b0868dca48afce6328144d3
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~If536dbc8ace915d171a23e289da2777e74dc3b27,openstack/tripleo-heat-templates,stable/stein,bug/1832402-stable/stein,If536dbc8ace915d171a23e289da2777e74dc3b27,Fix bare reference of cinder_enable_iscsi_backend,MERGED,2019-06-17 14:15:26.000000000,2019-06-18 23:40:53.000000000,2019-06-18 23:40:53.000000000,1,1,0,665684,eff8376233e8a587f9334a110309c1c54b140498,8,4,1,1,14985,Alex Schultz,mwhahaha,"Fix bare reference of cinder_enable_iscsi_backend

Ansible is throwing a deprecation warning for this so we need to add a
|bool to the usage of cinder_enable_iscsi_backend

Change-Id: If536dbc8ace915d171a23e289da2777e74dc3b27
Related-Bug: #1832402
(cherry picked from commit ed5c2ad70a13a564efab35ca3b677511053dbaa0)
"
openstack%2Fos-net-config~master~If41178105229fb9adce9c2950aab39fc55b56166,openstack/os-net-config,master,bug/1831951,If41178105229fb9adce9c2950aab39fc55b56166,Fix handling of SR-IOV PF routes,MERGED,2019-06-07 00:04:02.000000000,2019-06-18 23:40:52.000000000,2019-06-18 23:40:52.000000000,38,0,0,663803,b04d8f30d4993fba3e4d207ca698cf10bdf69c2b,29,8,2,2,12398,Dan Sneddon,dsneddon,"Fix handling of SR-IOV PF routes

Routes on SR-IOV PF interfaces were being ignored in
impl_ifcfg.py. This change adds route handling for SR-IOV
interfaces, and a unit test to test writing route files.

Closes-bug: 1831951
Change-Id: If41178105229fb9adce9c2950aab39fc55b56166
"
openstack%2Fopenstack-ansible-os_ironic~master~I89be92c55be9d892afc133d3a95a8227174d0b80,openstack/openstack-ansible-os_ironic,master,ironic_suse,I89be92c55be9d892afc133d3a95a8227174d0b80,Add missing variable file for Redhat,MERGED,2019-06-14 16:25:43.000000000,2019-06-18 23:28:59.000000000,2019-06-18 23:28:59.000000000,47,0,0,665428,d7377d877e28ff983e55f00c099b8293f6063117,21,5,2,2,19298,Nicolas Bock,nicolasbock,"Add missing variable file for Redhat

Change-Id: I89be92c55be9d892afc133d3a95a8227174d0b80
Signed-off-by: Nicolas Bock <nicolas.bock@suse.com>
"
openstack%2Fnova~master~Ie5e7d70f9d6af77edd22756128937f06d0b961a9,openstack/nova,master,bp/remove-consoleauth,Ie5e7d70f9d6af77edd22756128937f06d0b961a9,tests: Stop starting consoleauth in functional tests,MERGED,2019-04-16 10:32:23.000000000,2019-06-18 23:21:50.000000000,2019-06-18 23:21:50.000000000,3,55,0,652966,8f6de3563688065f88065d1dff2d557f8702c9fa,45,13,5,19,15334,Stephen Finucane,sfinucan,"tests: Stop starting consoleauth in functional tests

This hasn't been needed since we moved console authentication to the
database in Rocky.

Part of blueprint remove-consoleauth

Change-Id: Ie5e7d70f9d6af77edd22756128937f06d0b961a9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~master~Ie96e18ea7762b93b4116b35d7ebcfcbe53c55527,openstack/nova,master,bp/remove-consoleauth,Ie96e18ea7762b93b4116b35d7ebcfcbe53c55527,docs: Remove references to nova-consoleauth,MERGED,2019-04-16 10:32:23.000000000,2019-06-18 23:21:41.000000000,2019-06-18 23:21:41.000000000,50,209,3,652965,009fd0f35bcb88acc80f12e69d5fb72c0ee5391f,48,13,5,18,15334,Stephen Finucane,sfinucan,"docs: Remove references to nova-consoleauth

We're going to remove all the code, but first, remove the docs.

Part of blueprint remove-consoleauth

Change-Id: Ie96e18ea7762b93b4116b35d7ebcfcbe53c55527
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fneutron~stable%2Frocky~I9dc8562546e9a7365d18492678f7fc1cb3553622,openstack/neutron,stable/rocky,bug/1830383,I9dc8562546e9a7365d18492678f7fc1cb3553622,Reset MAC on unbinding direct-physical port,MERGED,2019-06-06 06:40:13.000000000,2019-06-18 23:21:36.000000000,2019-06-18 23:21:36.000000000,45,0,2,663511,3842bb21af749d81dacabbfabfa2b742a9b11a19,70,11,5,2,5948,Oleg Bondarev,obondarev,"Reset MAC on unbinding direct-physical port

direct-physical ports inherit MAC address of physical device
when binding happens (VM created). When VM is deleted this
MAC has to be cleared so other ports may be bound to same device
without conflicts.

Conflicts:
    neutron/plugins/ml2/plugin.py

Change-Id: I9dc8562546e9a7365d18492678f7fc1cb3553622
Closes-Bug: #1830383
(cherry picked from commit e603d19939c98b94081bb6a3af8bcb943f7bd2ce)
"
openstack%2Fnova~master~I009761162817c6ed1035d2208605268dc82d430f,openstack/nova,master,bp/add-host-and-hypervisor-hostname-flag-to-create-server,I009761162817c6ed1035d2208605268dc82d430f,Validate requested host/node during servers create,MERGED,2019-05-24 08:42:07.000000000,2019-06-18 23:21:31.000000000,2019-06-18 23:21:31.000000000,166,0,65,661237,cf670873ad9806eda31ac072eb1f19c388129b28,163,23,10,2,28706,Boxiang Zhu,ZhuBoxiang,"Validate requested host/node during servers create

This change adds a method to validate a requested host and/or
hypervisor_hostname(node) during servers create. We are simply
checking for existence of the resource, so the host is validated
for the HostMapping and the node is validated by checking for
the related resource provider in the placement service.

Part of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server

Change-Id: I009761162817c6ed1035d2208605268dc82d430f
"
openstack%2Fopenstack-ansible-os_barbican~master~I96cce9426946c3c888bb46900906317e134dd23d,openstack/openstack-ansible-os_barbican,master,ubuntu-distro-install,I96cce9426946c3c888bb46900906317e134dd23d,Fix distro installs on Ubuntu,MERGED,2019-06-06 15:46:11.000000000,2019-06-18 22:22:47.000000000,2019-06-18 21:55:50.000000000,4,6,0,663704,2c85a1f6242fa8cb254473889f616cf9d8289d96,8,3,1,2,14805,Jimmy McCrory,jimmy-mccrory,"Fix distro installs on Ubuntu

Beginning in the Stein release, Ubuntu distro packages are now using
Python3. This requires additionally installing and using the uwsgi
python3 plugin.

Install the 'python3-barbican' package instead of 'barbican-api'.
barbican-api installs apache which conflicts with the OSA provided
service config.

The 'barbican-keystone-listener' and 'barbican-worker' packages have
been removed. They provide service configs for each of those services,
but neither are implemented in the role yet and, if they are at some
point, service configs would be provided by the role.

Change-Id: I96cce9426946c3c888bb46900906317e134dd23d
"
openstack%2Fmanila~master~I74508fd02d7d4ff54270e91743c7ea06103299b1,openstack/manila,master,cephfs-scenario,I74508fd02d7d4ff54270e91743c7ea06103299b1,[CI] Run scenario tests in the cephfs-nfs job,MERGED,2019-05-07 20:12:16.000000000,2019-06-18 22:12:07.000000000,2019-06-18 22:12:07.000000000,8,2,0,657677,fd21f5f246d019eaabd8ac896793157b983cdb62,83,16,7,1,16643,Goutham Pacha Ravi,gouthamr,"[CI] Run scenario tests in the cephfs-nfs job

Add required components for scenario
testing and enable api and scenario tests
on the same job. The experimental
cephfs-nfs-centos-7 job has not been modified.

Depends-On: https://review.opendev.org/#/c/657669/
Depends-On: https://review.opendev.org/#/c/665039/
Change-Id: I74508fd02d7d4ff54270e91743c7ea06103299b1
"
openstack%2Fneutron~stable%2Fqueens~I174ff62cb6599e4c7bdc86cb2d0786f9f2499b00,openstack/neutron,stable/queens,bug/1790598,I174ff62cb6599e4c7bdc86cb2d0786f9f2499b00,Use status_code instead of status in requests,MERGED,2019-01-21 12:36:30.000000000,2019-06-18 22:10:54.000000000,2019-06-18 22:10:54.000000000,3,1,0,632076,4091dc33d7172a7ae6333ae29c1f0620aa50c400,47,13,3,2,25618,Paweł Suder,SuderPawel,"Use status_code instead of status in requests

It fixes raising exception for response with not recognized
status code.

Co-Authored-By: Brian Haley <haleyb.dev@gmail.com>
Change-Id: I174ff62cb6599e4c7bdc86cb2d0786f9f2499b00
Related-Bug: 1790598
(cherry picked from commit 1685982a97f1bc82698724eb9a47e92416dc0aac)
"
openstack%2Fopenstack-ansible-os_heat~master~I0e1d3dbea09e615837a8b39ff033ec7ec69a1b29,openstack/openstack-ansible-os_heat,master,openstack/openstack-ansible-tests/sync-tests,I0e1d3dbea09e615837a8b39ff033ec7ec69a1b29,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:48.000000000,2019-06-18 22:07:27.000000000,2019-06-18 22:07:26.000000000,1,1,0,666108,1776a9d3745dd0c2d04f0f897d0e22e7188d0347,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I0e1d3dbea09e615837a8b39ff033ec7ec69a1b29
"
openstack%2Fcharm-cinder-ceph~stable%2F19.04~I5dfad42def68634313af05d21ebe61bc229ebc35,openstack/charm-cinder-ceph,stable/19.04,bug/1704106,I5dfad42def68634313af05d21ebe61bc229ebc35,Add rbd_exclusive_pool support for Ocata and Pike,MERGED,2019-06-04 09:25:39.000000000,2019-06-18 21:57:26.000000000,2019-06-18 21:57:26.000000000,3,4,0,662986,2b7ffcaee81045af5893327f0cf2e603d8fd8f5f,35,7,4,2,6737,Edward Hope-Morley,hopem,"Add rbd_exclusive_pool support for Ocata and Pike

The fix has been backported in Cinder so we
can now use it in the charm.

Also includes amulet test fix and context generator
fix from commit c3456b7.

Change-Id: I5dfad42def68634313af05d21ebe61bc229ebc35
Closes-Bug: #1704106
(cherry picked from commit 616ba364296687bfeb8d9bf35bb0e7628d573e5b)
"
openstack%2Fopenstack-ansible-os_glance~master~Ice4c8057d7d521ec35069934ca5b5d7f38017cc1,openstack/openstack-ansible-os_glance,master,openstack/openstack-ansible-tests/sync-tests,Ice4c8057d7d521ec35069934ca5b5d7f38017cc1,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:43.000000000,2019-06-18 21:55:42.000000000,2019-06-18 21:55:42.000000000,1,1,0,666107,96f0d5bd4ae796fdb3e9f52a68ed88c193fae72b,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ice4c8057d7d521ec35069934ca5b5d7f38017cc1
"
openstack%2Fopenstack-ansible-os_magnum~master~Iea4fdd508e0f67851e6326f519c8af64d45c8ae4,openstack/openstack-ansible-os_magnum,master,openstack/openstack-ansible-tests/sync-tests,Iea4fdd508e0f67851e6326f519c8af64d45c8ae4,Updated from OpenStack Ansible Tests,MERGED,2019-06-11 22:18:15.000000000,2019-06-18 21:54:08.000000000,2019-06-18 21:54:08.000000000,7,4,0,664725,72f453e729a30f4b23f5c92a16bb38c5d9aecccc,9,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Iea4fdd508e0f67851e6326f519c8af64d45c8ae4
"
openstack%2Fopenstack-ansible-os_ceilometer~master~Ibff6748f39253731f4daff2d554e6e88bdde3de4,openstack/openstack-ansible-os_ceilometer,master,openstack/openstack-ansible-tests/sync-tests,Ibff6748f39253731f4daff2d554e6e88bdde3de4,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:28.000000000,2019-06-18 21:53:58.000000000,2019-06-18 21:53:58.000000000,1,1,0,666102,c0af00e427609315140cef43d37a5280e0617589,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ibff6748f39253731f4daff2d554e6e88bdde3de4
"
openstack%2Fopenstack-ansible-os_cinder~master~I6f8e070a2401964ee401391f3762fffb31f24bcf,openstack/openstack-ansible-os_cinder,master,openstack/openstack-ansible-tests/sync-tests,I6f8e070a2401964ee401391f3762fffb31f24bcf,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:31.000000000,2019-06-18 21:51:45.000000000,2019-06-18 21:51:44.000000000,1,1,0,666103,89052b9963bb15b68079a4ef9d7c01b44d86b81d,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I6f8e070a2401964ee401391f3762fffb31f24bcf
"
openstack%2Fopenstack-ansible-os_tacker~master~Ie3f0787d0d5b2439c6a170bfd5379ec8c709ba8b,openstack/openstack-ansible-os_tacker,master,openstack/openstack-ansible-tests/sync-tests,Ie3f0787d0d5b2439c6a170bfd5379ec8c709ba8b,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:16:44.000000000,2019-06-18 21:48:37.000000000,2019-06-18 21:48:37.000000000,1,1,0,666117,959ad677264eeaf1d7f8da00c04d2464d89463eb,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ie3f0787d0d5b2439c6a170bfd5379ec8c709ba8b
"
openstack%2Fapi-site~master~I7f55c809f6a1eb0abb27c9a246658708e01be6db,openstack/api-site,master,,I7f55c809f6a1eb0abb27c9a246658708e01be6db,Add application function engine (Qinling) api-ref,MERGED,2019-06-17 16:28:05.000000000,2019-06-18 21:48:11.000000000,2019-06-18 21:48:11.000000000,8,0,0,665723,800bfdcc1965dd6f20b652623e420bdf2d065f43,15,5,3,2,16006,goldyfruit,goldyfruit,"Add application function engine (Qinling) api-ref

Change-Id: I7f55c809f6a1eb0abb27c9a246658708e01be6db
"
openstack%2Fopenstack-helm-infra~master~I5150a64bd29fa062e30496c1f2127de138322863,openstack/openstack-helm-infra,master,rmq-res-exp,I5150a64bd29fa062e30496c1f2127de138322863,RabbitMQ: Allow clients to directly connect to servers,MERGED,2019-06-14 22:03:38.000000000,2019-06-18 21:46:13.000000000,2019-06-18 21:46:13.000000000,135,60,0,665481,0925f50e2aea5fccc06ab4781b66e615a1d1b7b0,36,5,9,5,23928,Pete Birley,portdirect,"RabbitMQ: Allow clients to directly connect to servers

This PS updates the rabbitmq chart, to allow clients to connect directly
to backend servers, and also introduces a htk function to produce
the appropriate transport_url used by oslo.messaging to take advantage
of this functionaility.

Change-Id: I5150a64bd29fa062e30496c1f2127de138322863
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fopenstack-ansible-os_nova~master~Ibadd3f3aa24f8f839cb00534d832904b1b86ceca,openstack/openstack-ansible-os_nova,master,openstack/openstack-ansible-tests/sync-tests,Ibadd3f3aa24f8f839cb00534d832904b1b86ceca,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:16:24.000000000,2019-06-18 21:45:15.000000000,2019-06-18 21:45:15.000000000,1,1,0,666115,1bf6e4e7d930ded4b814f332f20b38519ec0b518,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ibadd3f3aa24f8f839cb00534d832904b1b86ceca
"
openstack%2Fopenstack-ansible-os_neutron~master~I4d0513e630437e563bcfc0111f485421f18bc69e,openstack/openstack-ansible-os_neutron,master,openstack/openstack-ansible-tests/sync-tests,I4d0513e630437e563bcfc0111f485421f18bc69e,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:16:21.000000000,2019-06-18 21:44:45.000000000,2019-06-18 21:44:45.000000000,1,1,0,666114,aec4c69b3a8c1487dc8a0c7b4de5e7def431d50b,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I4d0513e630437e563bcfc0111f485421f18bc69e
"
openstack%2Fopenstack-ansible-os_keystone~master~Ia6feeb3a386026e88b9557ecc9448f11084f2375,openstack/openstack-ansible-os_keystone,master,openstack/openstack-ansible-tests/sync-tests,Ia6feeb3a386026e88b9557ecc9448f11084f2375,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:58.000000000,2019-06-18 21:44:22.000000000,2019-06-18 21:44:22.000000000,1,1,0,666110,03b0aaf019d44e2fff3658a65c4f5cf503f61d35,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ia6feeb3a386026e88b9557ecc9448f11084f2375
"
openstack%2Fopenstack-ansible-os_swift~master~Ide4deb696c3742073850586b2d83e18ec947ac61,openstack/openstack-ansible-os_swift,master,openstack/openstack-ansible-tests/sync-tests,Ide4deb696c3742073850586b2d83e18ec947ac61,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:16:41.000000000,2019-06-18 21:43:43.000000000,2019-06-18 21:43:43.000000000,1,1,0,666116,afe60eb16fbff3e7ee5e66fa585d7aa8694c0929,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ide4deb696c3742073850586b2d83e18ec947ac61
"
openstack%2Fcinder~master~I219b5e5bfa4f77afc895ec9c219e61e3fdb1b762,openstack/cinder,master,train-driver-removal,I219b5e5bfa4f77afc895ec9c219e61e3fdb1b762,Remove the Nexenta Edge Driver,MERGED,2019-03-26 20:56:53.000000000,2019-06-18 21:42:00.000000000,2019-06-18 21:42:00.000000000,16,846,2,647925,a1c58b50ea90986242afa9efe684bd5b87a39daf,186,46,7,8,7198,Jay Bryant,jsbryant,"Remove the Nexenta Edge Driver

The Nexenta Edge driver was marked unsupported during the
Stein release.  The 3rd Party CI has not reported in 57 days.
This continues to fall outside our 3rd Party CI Policy.

This patch proposes removal of the driver.

Change-Id: I219b5e5bfa4f77afc895ec9c219e61e3fdb1b762
"
openstack%2Fcinder~master~I44a4dc52b2cced6dac98aa895aa3de1df0926fc5,openstack/cinder,master,train-driver-removal,I44a4dc52b2cced6dac98aa895aa3de1df0926fc5,Remove the Veritas HyperScale Driver,MERGED,2019-03-27 19:57:42.000000000,2019-06-18 21:40:47.000000000,2019-06-18 21:40:47.000000000,17,1989,0,648225,9aca21f5cec8f03a3bb410acb21399955144fe0f,213,43,8,9,7198,Jay Bryant,jsbryant,"Remove the Veritas HyperScale Driver

The Veritas HyperScale driver was marked unsupported in
the Stein release.  It hasn't reported on a patch in
327 days.

This is outside Cinder's CI requirements and therefore
the driver is being removed.

Change-Id: I44a4dc52b2cced6dac98aa895aa3de1df0926fc5
"
openstack%2Fopenstack-ansible-os_barbican~master~I49a5636fcdb2ff89a662da3c8e7bf9d9472b6352,openstack/openstack-ansible-os_barbican,master,openstack/openstack-ansible-tests/sync-tests,I49a5636fcdb2ff89a662da3c8e7bf9d9472b6352,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:23.000000000,2019-06-18 21:40:28.000000000,2019-06-18 21:40:28.000000000,1,1,0,666100,5fc7bbf0f705231ff3c21a970696014e222d6e9d,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I49a5636fcdb2ff89a662da3c8e7bf9d9472b6352
"
openstack%2Fqinling~master~I9bf13ec5355d30bb2f83599cce4fa98eea15c8b8,openstack/qinling,master,replicas,I9bf13ec5355d30bb2f83599cce4fa98eea15c8b8,Custom initial number of replicas,ABANDONED,2018-08-06 10:28:41.000000000,2019-06-18 21:38:52.000000000,,72,10,0,589110,d03a938ea04b1fe4751950b1a3b08388977bf98a,28,4,11,10,28696,Chirag Arora,heychirag,"Custom initial number of replicas

Added support to specify the initial number of replica sets during
runtime creation. If not specified, the number of replicas in conf file
is taken as default.

Change-Id: I9bf13ec5355d30bb2f83599cce4fa98eea15c8b8
Task: 23187
Story: 2003095
"
openstack%2Fopenstack-ansible-os_designate~master~I601bf4a68c1491253dfc90f36dca247ab092fa39,openstack/openstack-ansible-os_designate,master,openstack/openstack-ansible-tests/sync-tests,I601bf4a68c1491253dfc90f36dca247ab092fa39,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:40.000000000,2019-06-18 21:32:32.000000000,2019-06-18 21:32:32.000000000,1,1,0,666106,edbf74abe6e706684cc2e6c371612580a5ad0126,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I601bf4a68c1491253dfc90f36dca247ab092fa39
"
openstack%2Fcongress-specs~master~Ib2b91a6826bc7a4c72e30dfcdf1c34295a396407,openstack/congress-specs,master,,Ib2b91a6826bc7a4c72e30dfcdf1c34295a396407,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-05-27 05:52:15.000000000,2019-06-18 21:30:34.000000000,2019-06-18 21:30:34.000000000,8,8,0,661536,fd9f1540ce3eb627f9e58924fa85d461fb06b977,14,7,4,5,30356,gugug,gujin,"Replace git.openstack.org URLs with opendev.org URLs

1. Replace git.openstack.org URLs with opendev.org URLs
2. Remove unncessary ""==""

Change-Id: Ib2b91a6826bc7a4c72e30dfcdf1c34295a396407
"
openstack%2Fopenstack-ansible-os_congress~master~I79225fcf83d07ef8e552200ee5a21e7ca88c9b66,openstack/openstack-ansible-os_congress,master,openstack/openstack-ansible-tests/sync-tests,I79225fcf83d07ef8e552200ee5a21e7ca88c9b66,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:37.000000000,2019-06-18 21:28:35.000000000,2019-06-18 21:28:35.000000000,1,1,0,666105,9ba9eae96d11863f052ff4b76978612a9595bd3f,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I79225fcf83d07ef8e552200ee5a21e7ca88c9b66
"
openstack%2Fopenstack-helm-infra~master~I1f95a635ab4dfdb3718d5d4fa668c64a9095e899,openstack/openstack-helm-infra,master,es-job-config,I1f95a635ab4dfdb3718d5d4fa668c64a9095e899,Elasticsearch: Allow override of job back off limits and deadlines,MERGED,2019-04-01 19:25:45.000000000,2019-06-18 21:18:47.000000000,2019-06-18 21:18:47.000000000,10,0,0,649165,1ee476b197476062f03a0ad6e0fba14c6bf7bf9c,21,5,6,3,17591,Steve Wilkerson,srwilkers,"Elasticsearch: Allow override of job back off limits and deadlines

this updates the Elasticsearch cluster wait and snapshot repo jobs
to include values overrides for the job backoff limits and the
active deadline seconds field. This allows for tweaking beyond the
standard defaults for kubernetes jobs

Change-Id: I1f95a635ab4dfdb3718d5d4fa668c64a9095e899
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fopenstack-helm-infra~master~I54e71d2a52bd639b3e93fc899c1bf2cd075b5396,openstack/openstack-helm-infra,master,maxUnavailable,I54e71d2a52bd639b3e93fc899c1bf2cd075b5396,Switch from default values being populated for upgrade strategy for ceph components,MERGED,2019-05-10 21:48:48.000000000,2019-06-18 21:18:15.000000000,2019-06-18 21:18:15.000000000,37,5,21,658492,ed574f456fa01d67bd76a6c0ebd43046482821ef,81,11,19,10,29132,Krishna Venkata,kvenkata986,"Switch from default values being populated
for upgrade strategy for ceph components

This PS uses HelmToolKit function to add
upgrade strategy parameters to ceph Components

Change-Id: I54e71d2a52bd639b3e93fc899c1bf2cd075b5396
"
openstack%2Fmanila~master~I284b48facf633f54aa5a7ec024a1662a1d164daf,openstack/manila,master,ci,I284b48facf633f54aa5a7ec024a1662a1d164daf,[CI] Bump timeout for the migrations test case,MERGED,2019-05-17 17:47:22.000000000,2019-06-18 21:17:55.000000000,2019-06-18 21:17:55.000000000,2,2,0,659854,fdefb0e7bd14d44608c3c1939865caacfd5dc28c,24,16,1,1,16643,Goutham Pacha Ravi,gouthamr,"[CI] Bump timeout for the migrations test case

We face slow nodes on the CI, and tests are timing
out with a sqllite backend in the gate.

Change-Id: I284b48facf633f54aa5a7ec024a1662a1d164daf
"
openstack%2Fneutron~master~I8a47ed74fd1077126b8a6ccb21129e127ac62b3b,openstack/neutron,master,clean_experimental,I8a47ed74fd1077126b8a6ccb21129e127ac62b3b,[Doc] Drop some experimental warnings from admin guide,MERGED,2019-06-17 19:58:29.000000000,2019-06-18 21:00:32.000000000,2019-06-18 21:00:32.000000000,2,16,0,665755,1770c107b4ad4cb473b44231ba49bb47843118e4,11,7,1,4,21798,Bernard Cafarelli,bcafarel,"[Doc] Drop some experimental warnings from admin guide

These warning have been around for some time and may confuse users on
whether to use the feature or not

This includes:
* Distributed Virtual Routing with VRRP
* Native Open vSwitch firewall driver
* IPAM configuration

Also reworded the FWaaS section in introduction section

Change-Id: I8a47ed74fd1077126b8a6ccb21129e127ac62b3b
"
openstack%2Fkeystone~master~I195d5ae5affb84feaee63598d2c927db2faa20b7,openstack/keystone,master,mission-statement,I195d5ae5affb84feaee63598d2c927db2faa20b7,Update mission statement and vision reflection,MERGED,2019-05-29 22:32:18.000000000,2019-06-18 21:00:29.000000000,2019-06-18 21:00:29.000000000,21,2,2,662106,6f6f78c21136e6461f186f97b72952efec5f4e6c,12,8,1,1,8482,Colleen Murphy,krinkle,"Update mission statement and vision reflection

As discussed during the Train PTG[1], update the mission statement to
include discovery and resiliency, and update the vision reflection to
include Bidirectional Compatibility and Secure by Design.

Support for quota management could be read as included under
""user-friendly...multitenant"" in the mission statement.

[1] https://etherpad.openstack.org/p/keystone-train-ptg-vision-mission

Change-Id: I195d5ae5affb84feaee63598d2c927db2faa20b7
"
openstack%2Fcinder~master~I801a887adf2db8cd5d14eaa77ebb1a1bf201ae99,openstack/cinder,master,ci_unsupported,I801a887adf2db8cd5d14eaa77ebb1a1bf201ae99,Mark the Nimble Driver Unsupported,MERGED,2019-06-03 18:41:46.000000000,2019-06-18 21:00:25.000000000,2019-06-18 21:00:24.000000000,18,1,0,662819,f37b98ed9ac837bdf9307734b5fe0d6c0e089169,74,32,2,3,7198,Jay Bryant,jsbryant,"Mark the Nimble Driver Unsupported

The Nimble Driver 3rd Party CI hasn't run successfully
in 133 days.  This does not meet the requirements
for Cinder's 3rd Party CI requirements.

As a result the driver is being marked unsupported in the
Train release and should be removed in the 'U' release if
the problems are not resolved.

Change-Id: I801a887adf2db8cd5d14eaa77ebb1a1bf201ae99
"
openstack%2Fcinder~stable%2Fstein~I9da1af4ac6df1d033a9baaba77135b329c87e6f8,openstack/cinder,stable/stein,bug/1831623-stable/stein,I9da1af4ac6df1d033a9baaba77135b329c87e6f8,Add OS-SCH-HNT in extensions list,MERGED,2019-06-08 13:30:09.000000000,2019-06-18 21:00:21.000000000,2019-06-18 21:00:21.000000000,26,1,0,664136,bd07e5b87a08d27de452e36435db262112a004b9,19,15,1,4,27615,Rajat Dhasmana,whoami-rajat,"Add OS-SCH-HNT in extensions list

To have backward compatibility with MV 3.53, we need to include
OS-SCH-HNT in the ``cinder list-extensions`` response.

Change-Id: I9da1af4ac6df1d033a9baaba77135b329c87e6f8
Closes-Bug: #1831623
(cherry picked from commit 9a5bdb308ae0ea72210678853192c813bf7b0c92)
"
openstack%2Fcinder~stable%2Fstein~I285cc12a28f8648a9aecd47c82a7695f5f2e4f00,openstack/cinder,stable/stein,backport-upgrade-checks,I285cc12a28f8648a9aecd47c82a7695f5f2e4f00,Add Upgrade Check for Drivers Removed in Stein,MERGED,2019-05-31 19:05:58.000000000,2019-06-18 21:00:18.000000000,2019-06-18 21:00:18.000000000,103,0,0,662545,1ff64f2346b33c8431c0f31f18b3db09a2623425,23,19,1,4,7198,Jay Bryant,jsbryant,"Add Upgrade Check for Drivers Removed in Stein

This patch adds a check for configuration of CoprHD,
HGST and ITRI DISCO drivers which were all removed
in the Stein release.  The upgrade check will fail if
any of these drivers are configured in enabled_backends.

Change-Id: I285cc12a28f8648a9aecd47c82a7695f5f2e4f00
Co-authored-by: Brian Rosmaita <romaita.fossdev@gmail.com>
(cherry picked from commit e78e05c95dcb01336811a503c4292ac528959b8d)
"
openstack%2Fcinder~master~I03250b7d8c95d3c8dfaebc5538671b1cf08ad9ba,openstack/cinder,master,658974,I03250b7d8c95d3c8dfaebc5538671b1cf08ad9ba,Fix volume type quota defaults in quotas tests,MERGED,2019-05-14 07:26:28.000000000,2019-06-18 21:00:15.000000000,2019-06-18 21:00:14.000000000,18,5,4,658974,66fcf8252165227491e57512fa3844128325b2f9,147,36,6,2,27615,Rajat Dhasmana,whoami-rajat,"Fix volume type quota defaults in quotas tests

A subproject has 0 as default values for it's resources.
The test methods still expects 'volumes_' + volume_type to be -1
for subproject.
This patch adds a check for subproject and updates values accordingly.

Change-Id: I03250b7d8c95d3c8dfaebc5538671b1cf08ad9ba
"
openstack%2Fcinder~master~I8e69dc2199ad28b99144ba2618d114392e6fa5e5,openstack/cinder,master,train-driver-removal,I8e69dc2199ad28b99144ba2618d114392e6fa5e5,Remove the Tintri Driver,MERGED,2019-03-26 21:43:50.000000000,2019-06-18 21:00:12.000000000,2019-06-18 21:00:12.000000000,18,1363,7,647934,0423642951f309a2ac3338e9a02ed9982f4563b8,258,45,8,8,7198,Jay Bryant,jsbryant,"Remove the Tintri Driver

The Tintri driver was marked as unsupported in
the Stein release.  It hasn't reported on a patch in 312
days which is outside of Cinder's 3rd Party CI requirements.
As a result the driver should be removed.

This patch proposes that removal.

Change-Id: I8e69dc2199ad28b99144ba2618d114392e6fa5e5
"
openstack%2Fopenstack-helm-infra~master~Id8fde475e4ecf555bfc1ebc3639977952346f2ee,openstack/openstack-helm-infra,master,test,Id8fde475e4ecf555bfc1ebc3639977952346f2ee,test,ABANDONED,2019-06-11 19:44:46.000000000,2019-06-18 20:55:08.000000000,,15,9,0,664678,251214908c85770d96051bc79d716b7efa2d2912,9,2,3,1,29161,Rahul Khiyani,rk0850,"test

Change-Id: Id8fde475e4ecf555bfc1ebc3639977952346f2ee
"
openstack%2Fnetworking-bgpvpn~master~I6d1983e9b9371fe03fd62b1848621581992ff841,openstack/networking-bgpvpn,master,stadium-migration,I6d1983e9b9371fe03fd62b1848621581992ff841,Change tempest regex used in devstack-gate-bagpipe-rc,MERGED,2019-05-30 14:19:38.000000000,2019-06-18 20:50:55.000000000,2019-06-18 20:50:55.000000000,1,1,0,662231,95e42889fe66c283e0fc0952df22f424e4f0d6fa,25,8,4,1,11975,Slawek Kaplonski,slaweq,"Change tempest regex used in devstack-gate-bagpipe-rc

In commit [1] we removed tempest plugin code from this repo
as it was moved to neutron-tempest-plugin.

This commit changes also tempest regex for bagpipe tempest job to
be valid and run tests from neutron-tempest-plugin repo.

[1] https://review.opendev.org/#/c/657793/

Change-Id: I6d1983e9b9371fe03fd62b1848621581992ff841
"
openstack%2Fnetworking-bgpvpn~master~If1b3f69b91bc961693cc442986f9e8c725a4d3bd,openstack/networking-bgpvpn,master,bug/1833051,If1b3f69b91bc961693cc442986f9e8c725a4d3bd,Fix bagpipe driver to work with SQLAlchemy 1.3,MERGED,2019-06-17 10:06:53.000000000,2019-06-18 20:49:14.000000000,2019-06-18 20:49:13.000000000,3,1,3,665637,15c3f144e34aef62d35877bf2cc3425bcb5e4708,13,7,1,1,11975,Slawek Kaplonski,slaweq,"Fix bagpipe driver to work with SQLAlchemy 1.3

In SQLAlchemy 1.3 there was introduced change which caused failures of
unit tests in networking-bgpvpn. See [1] for details.

This patch fixes this by setting explicity columns on which join is done.

[1] https://docs.sqlalchemy.org/en/13/changelog/migration_13.html#\
        query-join-handles-ambiguity-in-deciding-the-left-side-more-explicitly

Change-Id: If1b3f69b91bc961693cc442986f9e8c725a4d3bd
Closes-Bug: #1833051
"
openstack%2Fopenstack-ansible-os_cloudkitty~master~I9b76d1b6a2ae4b156b3fb84132df8a52e6ba51c5,openstack/openstack-ansible-os_cloudkitty,master,openstack/openstack-ansible-tests/sync-tests,I9b76d1b6a2ae4b156b3fb84132df8a52e6ba51c5,Updated from OpenStack Ansible Tests,MERGED,2019-06-18 18:15:34.000000000,2019-06-18 20:44:53.000000000,2019-06-18 20:44:53.000000000,1,1,0,666104,e3ea25ea95c9b363a750ab114e8bbab621b9ef4d,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I9b76d1b6a2ae4b156b3fb84132df8a52e6ba51c5
"
openstack%2Ftripleo-heat-templates~master~I3880f0f72beb24ee0b0868dca48afce6328144d3,openstack/tripleo-heat-templates,master,bp/reduce-deployment-resources,I3880f0f72beb24ee0b0868dca48afce6328144d3,Interface for Ansible Host variables,MERGED,2019-06-05 21:07:49.000000000,2019-06-18 20:37:00.000000000,2019-06-18 20:37:00.000000000,44,0,6,663430,17e16e5107781c3ebeeb726f906ccfa24dad6b7a,52,6,14,3,3153,Emilien Macchi,emilienm,"Interface for Ansible Host variables

The new AnsibleHostVarsMap output is a map of roles to Ansible host
vars, which later will be in config-download and populate the Ansible
host vars for each host in each role.

Change-Id: I3880f0f72beb24ee0b0868dca48afce6328144d3
"
openstack%2Finstack-undercloud~stable%2Fqueens~I4b040d25b2cb83f40cbd8e8caf6890feba586b60,openstack/instack-undercloud,stable/queens,bug/1832437-stable/queens,I4b040d25b2cb83f40cbd8e8caf6890feba586b60,Enable keystone token caching,MERGED,2019-06-18 04:11:48.000000000,2019-06-18 20:36:59.000000000,2019-06-18 20:36:58.000000000,2,0,0,665855,2e54de832e77c15450050300919c481be2ef361f,8,4,1,1,8833,Rabi Mishra,rabi,"Enable keystone token caching

'fernet' is the token provider since octata. As we've memcached
in the undercloud, we should enable caching.

Change-Id: I4b040d25b2cb83f40cbd8e8caf6890feba586b60
Related-Bug: #1832437
(cherry picked from commit b18bfae6903f84dd7db596ee7b5caa3e0b43f0a7)
"
openstack%2Finstack-undercloud~stable%2Frocky~I4b040d25b2cb83f40cbd8e8caf6890feba586b60,openstack/instack-undercloud,stable/rocky,bug/1832437,I4b040d25b2cb83f40cbd8e8caf6890feba586b60,Enable keystone token caching,MERGED,2019-06-18 04:07:57.000000000,2019-06-18 20:36:58.000000000,2019-06-18 20:36:57.000000000,2,0,0,665854,b18bfae6903f84dd7db596ee7b5caa3e0b43f0a7,9,4,1,1,8833,Rabi Mishra,rabi,"Enable keystone token caching

'fernet' is the token provider since octata. As we've memcached
in the undercloud, we should enable caching.

Change-Id: I4b040d25b2cb83f40cbd8e8caf6890feba586b60
Related-Bug: #1832437
"
openstack%2Ftripleo-heat-templates~master~I39bc75b164f85cd296a7b6b3c454a172338af9cb,openstack/tripleo-heat-templates,master,horizon-timezone,I39bc75b164f85cd296a7b6b3c454a172338af9cb,Configure Horizon timezone according to the host timezone,MERGED,2019-03-25 07:33:08.000000000,2019-06-18 20:36:56.000000000,2019-06-18 20:36:56.000000000,5,0,0,647307,812e0860758868931fec53a5b5f870c45727e0a2,11,6,1,1,9816,Takashi Kajinami,kajinamit,"Configure Horizon timezone according to the host timezone

Timezone configuration in Horizon should have the same as the one
in the controller hosts.
This patch makes tripleo-heat-templates to pass the TimeZone option
also for horizon configuration, so that we can have the proper
value configured in local_settings.

Change-Id: I39bc75b164f85cd296a7b6b3c454a172338af9cb
"
openstack%2Ftripleo-common~stable%2Fstein~I7c290f908fd685b801f49ba80531c14ce54677bd,openstack/tripleo-common,stable/stein,,I7c290f908fd685b801f49ba80531c14ce54677bd,Update the Undercloud Services list in the inventory.,MERGED,2019-06-18 06:51:21.000000000,2019-06-18 20:36:55.000000000,2019-06-18 20:36:55.000000000,21,21,0,665884,f08c6058e3db6fe07c73fcf625d1b51945bf4f5a,9,6,1,2,11491,Gael Chamoulaud,gchamoul,"Update the Undercloud Services list in the inventory.

Since Stein, the name of the OpenStack services on the Undercloud have
been renamed as 'tripleo_*.service'. This patch makes the Undercloud
service names evolve accordingly.

Change-Id: I7c290f908fd685b801f49ba80531c14ce54677bd
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 6942ac007f66fdf22a1a7678da608b28eebc6b4e)
"
openstack%2Ftripleo-validations~stable%2Fstein~I889d007fdd757788678fe3d10241024d417632d5,openstack/tripleo-validations,stable/stein,run-validations.sh-stackrc-stable/stein,I889d007fdd757788678fe3d10241024d417632d5,Improve stackrc file sourcing,MERGED,2019-06-18 08:00:15.000000000,2019-06-18 20:36:54.000000000,2019-06-18 20:36:53.000000000,2,2,0,665901,2d6b0daa2e8e6280bcbf06e355916c5aa25c6d6d,7,4,1,1,11491,Gael Chamoulaud,gchamoul,"Improve stackrc file sourcing

We can deploy a TripleO environment from a different user than the
'stack' user. This patch will source the stackrc file coming from the
user home running this script or fail if it doesn't exist.

This patch also enforces the find command to get not more than one
validation found. For example, when running the neutron-sanity-check
playbook, the find command was getting two validations and this script
was running them both.

$ BASEDIR=""/usr/share/openstack-tripleo-validations""
$ VALIDATION=""neutron-sanity-check""

$ find $BASEDIR/playbooks -type f -regex ""^.*${VALIDATION}.y[a]?ml""
/usr/share/openstack-tripleo-validations/playbooks/neutron-sanity-check.yaml
/usr/share/openstack-tripleo-validations/playbooks/undercloud-neutron-sanity-check.yaml

$ find $BASEDIR/playbooks -type f -regex "".*playbooks\/${VALIDATION}.y[a]?ml""
/usr/share/openstack-tripleo-validations/playbooks/neutron-sanity-check.yaml

Change-Id: I889d007fdd757788678fe3d10241024d417632d5
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 831b7ae9ea7e8edf6e1954dba57c407e8224d6f2)
"
openstack%2Ftripleo-validations~stable%2Fstein~I9a2a60e645443d4c052321c8edc1ec46943b39e9,openstack/tripleo-validations,stable/stein,bp/inflight-validations-stable/stein,I9a2a60e645443d4c052321c8edc1ec46943b39e9,Update ceph-health for containers and failure options,MERGED,2019-06-12 12:51:55.000000000,2019-06-18 20:36:54.000000000,2019-06-18 20:36:54.000000000,64,11,0,664879,853d7316f506435dd4a24a7ff3c2d93a1d9598ff,7,6,1,3,11491,Gael Chamoulaud,gchamoul,"Update ceph-health for containers and failure options

Call to 'ceph health' should be wrapped in a container exec.
Display warning for any 'ceph health' status that is not OK.

Add new option, fail_on_ceph_health_err (default: false), to
fail when ceph health is in error.

Add new option, osd_percentage_min (default: 0), to fail
when a certain perecentage of OSDs are not in. When
osd_percentage_min is 0, this check is not performed.

Change-Id: I9a2a60e645443d4c052321c8edc1ec46943b39e9
Implements: blueprint inflight-validations
(cherry picked from commit 52eeb5b5fc88dd4a99d0dfcfd988552668300e11)
"
openstack%2Fopenstack-ansible~stable%2Fstein~I985a55477608e02ac3947f12b8ff342cc6594819,openstack/openstack-ansible,stable/stein,,I985a55477608e02ac3947f12b8ff342cc6594819,Bump SHAs for stable/stein,MERGED,2019-06-18 16:10:35.000000000,2019-06-18 20:34:30.000000000,2019-06-18 20:34:30.000000000,2,2,0,666039,6b9f13086d4bea179c05d78b5f7317bd056e3381,7,3,1,1,1004,Mohammed Naser,mnaser,"Bump SHAs for stable/stein

Change-Id: I985a55477608e02ac3947f12b8ff342cc6594819
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5,openstack/tripleo-heat-templates,stable/rocky,bug/1831617,I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5,Force ansible serial to 1 for the Controller,MERGED,2019-06-11 12:02:25.000000000,2019-06-18 20:27:19.000000000,2019-06-18 20:27:19.000000000,73,9,1,664561,ab67b737498f511e731e2a2421359427505a9a54,25,7,6,43,16515,mbu,matbu,"Force ansible serial to 1 for the Controller

By introducing update_serial variable we parallelize update
execution on non-pacemaker enabled nodes. Custom role data users
need to update their role files. By default we do serial 1 making
sure nothing changes for users who didn't update their role data.

Resolves: rhbz#1652057
Closes-Bug: #1831617

Change-Id: I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5
(cherry picked from commit a59a188a6b6ef7275d318d95b17d3a692065e16a)
"
openstack%2Ftripleo-ci~master~I91606456b5152d96888b4bbb3a4332d1bea2de13,openstack/tripleo-ci,master,bug/1831796,I91606456b5152d96888b4bbb3a4332d1bea2de13,Add option to cherry-pick and rebase f28 patch for stable/stein,MERGED,2019-06-05 20:08:32.000000000,2019-06-18 20:27:18.000000000,2019-06-18 20:27:18.000000000,9,3,2,663417,4e3a38295200372366bb735371f440400a2907e8,25,7,4,2,9976,Ronelle Landy,rlandy,"Add option to cherry-pick and rebase f28 patch for stable/stein

The f28 stein standalone job was failing due to 'missing
containers'. This review corrects the branch cherry-pick and
rebase so that the stein jobs use the correct stable/stein
branch from kolla.

Change-Id: I91606456b5152d96888b4bbb3a4332d1bea2de13
Closes-Bug: #1831796
"
openstack%2Fansible-role-container-registry~master~If2a4be04dd710ea8174bbd0b77bd57c7baf0a6b9,openstack/ansible-role-container-registry,master,reduce-tripleo-jobs,If2a4be04dd710ea8174bbd0b77bd57c7baf0a6b9,Reduce the number of tripleo jobs,MERGED,2018-12-19 16:37:16.000000000,2019-06-18 20:27:17.000000000,2019-06-18 20:27:17.000000000,2,2,0,626360,502ee19f48442387ff67f0d006927a0ae88bdffe,10,5,1,1,14985,Alex Schultz,mwhahaha,"Reduce the number of tripleo jobs

We only really need an undercloud job for testing at the moment. The
undercloud is the primary consumer of this role anyway.

Change-Id: If2a4be04dd710ea8174bbd0b77bd57c7baf0a6b9
"
openstack%2Fpuppet-tripleo~stable%2Fstein~Ib4884078d54c25da998495ba3e8d47b5e17010ce,openstack/puppet-tripleo,stable/stein,iha_fix-stable/stein,Ib4884078d54c25da998495ba3e8d47b5e17010ce,IHA robustness improvements,MERGED,2019-06-17 06:39:56.000000000,2019-06-18 20:27:16.000000000,2019-06-18 20:27:16.000000000,1,0,0,665589,a2ceac8bafedcedae20811a78a6ccb3823abf36d,9,7,1,1,20778,Damien Ciabrini,dciabrin,"IHA robustness improvements

This will avoid useless fencing events in case of stonith problems.  The
'compute-unfence-trigger' resource is simply a dummy resource that is
only used to trigger unfence events. If for whatever reason this
resource is having issues on stop (pcmk bug, node overloaded, etc.) it
makes zero sense to have pacemaker do a fencing action against the node.
Let's just block and show the operator the status and be less harsh in
general.

Tested this and I correctly get the following:
[root@controller-0 ~]# pcs resource show compute-unfence-trigger-clone
 Clone: compute-unfence-trigger-clone
  Resource: compute-unfence-trigger (class=ocf provider=pacemaker type=Dummy)
   Meta Attrs: requires=unfencing
   Operations: migrate_from interval=0s timeout=20 (compute-unfence-trigger-migrate_from-interval-0s)
               migrate_to interval=0s timeout=20 (compute-unfence-trigger-migrate_to-interval-0s)
               monitor interval=10 timeout=20 (compute-unfence-trigger-monitor-interval-10)
               reload interval=0s timeout=20 (compute-unfence-trigger-reload-interval-0s)
               start interval=0s timeout=20 (compute-unfence-trigger-start-interval-0s)
               stop interval=0s on-fail=block timeout=20 (compute-unfence-trigger-stop-interval-0s)

Closes-Bug: #1831234

Change-Id: Ib4884078d54c25da998495ba3e8d47b5e17010ce
(cherry picked from commit 8d2c3a0e6e392e2f358bf29a3b900afcd5bbe56a)
"
openstack%2Fcinder~master~Ia73561e0908a4b6aeaf367ee3d37d8a393fac8e6,openstack/cinder,master,bug/1802070,Ia73561e0908a4b6aeaf367ee3d37d8a393fac8e6,Add fallback if 'resource_query_filters_file' file is not available,ABANDONED,2019-01-10 15:22:10.000000000,2019-06-18 20:26:57.000000000,,22,3,4,629880,610f1a9b32674529ae822a8c6bcf153fd08d2dc5,72,34,1,2,1736,Ivan Kolodyazhny,e0ne,"Add fallback if 'resource_query_filters_file' file is not available

Cinder should use default values for API filters if the config file is
not available.

Change-Id: Ia73561e0908a4b6aeaf367ee3d37d8a393fac8e6
Partial-Bug: #1802070
"
openstack%2Fos-brick~master~Iabe0cf9761e4d7e1d62c51c601c283faf7048691,openstack/os-brick,master,bug/1808682,Iabe0cf9761e4d7e1d62c51c601c283faf7048691,Add CAP_DAC_OVERRIDE capability for privsep,ABANDONED,2018-12-16 11:59:50.000000000,2019-06-18 20:26:30.000000000,,1,1,0,625426,12c6a8c6304cc6e22a61e8eec2344036b46097e2,27,19,1,1,1736,Ivan Kolodyazhny,e0ne,"Add CAP_DAC_OVERRIDE capability for privsep

CAP_DAC_OVERRIDE was added (like in nova and neutron) to fix cinder backups
on kernel v4.15.

Change-Id: Iabe0cf9761e4d7e1d62c51c601c283faf7048691
Closes-Bug: 1808682
"
openstack%2Fopenstack-ansible-os_tempest~master~I63f2f699eaa57b05c67916b190e9dde52ba2d2d2,openstack/openstack-ansible-os_tempest,master,clarify-suse-support,I63f2f699eaa57b05c67916b190e9dde52ba2d2d2,Clarify supported SUSE versions,MERGED,2019-05-21 08:50:38.000000000,2019-06-18 20:24:23.000000000,2019-06-18 20:24:23.000000000,1,1,0,660296,e2665accd0c2d3186f1b70c635d08fd1bcbc4e9c,13,5,1,1,17068,Jean-Philippe Evrard,evrardjp,"Clarify supported SUSE versions

This role only support openSUSE Leap 15, not 42.3, not tumbleweed.
Saying all is confusing and a bad practice. This fixes it, while
ensuring the job is properly defined to test that assertion.

Change-Id: I63f2f699eaa57b05c67916b190e9dde52ba2d2d2
"
openstack%2Fnova~master~Ic0a03e89903bf925638fa26cca3dac7db710dca3,openstack/nova,master,retry-filter,Ic0a03e89903bf925638fa26cca3dac7db710dca3,Deprecate RetryFilter,MERGED,2019-06-07 14:21:39.000000000,2019-06-18 20:19:08.000000000,2019-06-18 20:19:08.000000000,43,8,15,663953,257ef9573f35a822602e233652ca12cd95c815ca,57,18,4,6,6873,Matt Riedemann,mriedem,"Deprecate RetryFilter

Since blueprint return-alternate-hosts in Queens, the scheduler
returns a primary selected host and some alternate hosts based
on the max_attempts config option. The only reschedules we have
are during server create and resize/cold migrate. The list of
alternative hosts are passed down from conductor through compute
and back to conductor on reschedule and if conductor gets a list
of alternate hosts on reschedule it will not call the scheduler
again. This means the RetryFilter is effectively useless now since
it shouldn't ever filter out hosts on the first schedule attempt
and because we're using alternates for reschedules, we shouldn't
go back to the scheduler on a reschedule. As a result this change
deprecates the RetryFilter and removes it from the default list
of enabled filters.

Change-Id: Ic0a03e89903bf925638fa26cca3dac7db710dca3
"
openstack%2Fkeystone~master~Ic99f8d56edd52f30214332ad1cc25baae2a575b6,openstack/keystone,master,bp/whitelist-extension-for-app-creds,Ic99f8d56edd52f30214332ad1cc25baae2a575b6,WIP: Add role check to access rules,ABANDONED,2019-02-28 14:06:44.000000000,2019-06-18 20:17:00.000000000,,187,19,0,640034,023e37bef9d8074219c0314b7ae25825c2cb1bdd,7,1,3,7,8482,Colleen Murphy,krinkle,"WIP: Add role check to access rules

This patch fulfills the role check condition of the spec[1]. The problem
with this approach is that it does not take scope into account at all.
So a user with a member role on a project could create an application
credential for a system-scope API that uses the member role, which
somewhat defeats the point.

[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/stein/capabilities-app-creds.html#url-templates-and-roles

bp whitelist-extension-for-app-creds

Change-Id: Ic99f8d56edd52f30214332ad1cc25baae2a575b6
"
openstack%2Fironic~master~I8b82a7caf64f5e56e4dcf9b4c2007f55d929863b,openstack/ironic,master,release-12.2.0,I8b82a7caf64f5e56e4dcf9b4c2007f55d929863b,Spruce up release notes for 12.2.0 release,MERGED,2019-06-18 12:23:51.000000000,2019-06-18 20:08:35.000000000,2019-06-18 16:35:09.000000000,33,34,2,665964,0cf907bd0062f4946db9a4e9b97180d7a0af5ba0,9,5,1,15,14826,Mark Goddard,mgoddard,"Spruce up release notes for 12.2.0 release

Change-Id: I8b82a7caf64f5e56e4dcf9b4c2007f55d929863b
"
openstack%2Fneutron-fwaas~master~I9742207e98c07f0a4632631631288d9ada8cf8c7,openstack/neutron-fwaas,master,bug/1832210,I9742207e98c07f0a4632631631288d9ada8cf8c7,netfilter_log: Correctly decode binary type prefix,MERGED,2019-06-10 09:39:55.000000000,2019-06-18 20:02:39.000000000,2019-06-18 20:02:39.000000000,3,1,0,664234,5c334d584b180c735d8744ff1807f2747c024a55,9,3,2,1,935,James Page,james-page,"netfilter_log: Correctly decode binary type prefix

Under Python 3, firewall log prefixes are incorrectly decoded
resulting in a mismatch between the stringy-fied 'prefix' value
and the information available in the prefixes data.

Use oslo.utils safe_decode function to ensure that data is
correctly decoded.

Change-Id: I9742207e98c07f0a4632631631288d9ada8cf8c7
Closes-Bug: 1832210
"
openstack%2Fnetworking-ovn~master~I406204fc751387c02517286c87fe45533d70b93d,openstack/networking-ovn,master,bug/1828891,I406204fc751387c02517286c87fe45533d70b93d,Floating IP does not work with VLAN tenant networks,MERGED,2019-05-13 21:20:38.000000000,2019-06-18 19:52:08.000000000,2019-05-23 17:15:40.000000000,33,9,0,658923,c5aef51edc9843db605303ec8bd8610b6c55e9c2,12,6,1,2,1131,Brian Haley,brian-haley,"Floating IP does not work with VLAN tenant networks

When trying to use the Floating IP address of an instance
in a OVN-DVR setup while using VLAN tenant network type
the traffic does not pass. This is because of limitations
with VLAN tenant network types, which doesn't support
distributed VLAN routing.

The problem is the external_mac should not be set in the
NAT table for the Floating IP which belongs to the logical
port of a VLAN tenant logical switch. Otherwise, the compute
node which is binding the logical port will send the GARP
where as the routing for VLAN tenant networks is centralized.

Change-Id: I406204fc751387c02517286c87fe45533d70b93d
Closes-bug: #1828891
"
openstack%2Fkayobe~stable%2Frocky~I7966cf33f6133090d83232504b8c1da4c7817e0c,openstack/kayobe,stable/rocky,story/2005891-stable/rocky,I7966cf33f6133090d83232504b8c1da4c7817e0c,Restrict cliff to <2.15.0,MERGED,2019-06-17 15:09:29.000000000,2019-06-18 19:51:41.000000000,2019-06-18 19:51:41.000000000,11,17,2,665703,f99aee461ff4055abbbd25bfee1305110a3c0812,19,3,4,3,14826,Mark Goddard,mgoddard,"Restrict cliff to <2.15.0

Using Kayobe with cliff 2.15.0 fails with the following error:

kayobe playbook run playbook.yml
invalid conflict_resolution value: 'ignore'

This change restricts cliff to <2.15.0.

Also, fix git cloning previous release repos in CI, which will allow
this patch to merge.

Zuul provides repositories with all branches containing all prospective
changes, not just the current branch. We can use this in the upgrade
jobs to include changes to the previous release branch when a patch
depends on them.

Change-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c
Depends-On: https://review.opendev.org/665705
Story: 2005891
Task: 33748
"
openstack%2Fpuppet-tripleo~master~Id9bdd36aa0ee81424212e3a89185311817a15aee,openstack/puppet-tripleo,master,rabbitmq-queues,Id9bdd36aa0ee81424212e3a89185311817a15aee,RabbitMQ: always allow promotion on HA queue during failover,MERGED,2019-04-03 18:15:41.000000000,2019-06-18 19:42:47.000000000,2019-06-14 19:40:51.000000000,29,4,0,649689,610c8d8d41cd4b6bfd228ce1012416e424db625d,44,10,8,2,20172,Michele Baldessari,michele,"RabbitMQ: always allow promotion on HA queue during failover

When the RabbitMQ experience a rolling restart of its peers, the
master of an HA queue fails over from one replica to another.

If there are messages sent to the HA queue while some rabbit
nodes are restarting, the latter will reconnect as unsynchronized
slaves. It can happen that during a rolling restart, all rabbit
nodes reconnect as unsynchronized, which prevents RabbitMQ to
automatically elect a new Master for failover. This has other
side effects on fanout queues and may prevent OpenStack
notification to be consumed properly.

Change the HA policy to always allow a promotion even when all
replicas are unsynchronized. When such rare condition happens,
rely on OpenStack client to retry RPC if they need to.

Closes-Bug: #1823305
Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>
Change-Id: Id9bdd36aa0ee81424212e3a89185311817a15aee
"
openstack%2Fpython-cinderclient~master~I96b33a83c10ad205c984a1734f263c42538f2ddc,openstack/python-cinderclient,master,,I96b33a83c10ad205c984a1734f263c42538f2ddc,Use openstack-python3-train-jobs for python3 test runtime,MERGED,2019-06-14 03:40:16.000000000,2019-06-18 19:37:03.000000000,2019-06-18 19:37:03.000000000,1,2,0,665286,938c00a972aa1fd7329082b3ccdda9f5d2b31a9a,8,13,1,1,27822,pengyuesheng,pengyuesheng,"Use openstack-python3-train-jobs for python3 test runtime

Depends-On:https://review.opendev.org/#/c/641878/

Change-Id: I96b33a83c10ad205c984a1734f263c42538f2ddc
"
openstack%2Fopenstack-ansible-os_zun~stable%2Frocky~I7f611ffd095ca690baba3a987d8eb0b8407fade1,openstack/openstack-ansible-os_zun,stable/rocky,632131-stable/rocky,I7f611ffd095ca690baba3a987d8eb0b8407fade1,Improve docker API version retrieval,MERGED,2019-06-17 19:35:09.000000000,2019-06-18 19:32:41.000000000,2019-06-18 19:32:41.000000000,7,2,0,665754,5f836fea5c279d28a77c73d0520fdb4c799cdfb1,7,4,1,2,13095,Marc Gariépy,mgariepy,"Improve docker API version retrieval

The current method does not work due to CLI output formatting
changes. We improve it to render the client output using toml,
which should be more future proof.

This change also disables pinging of the neutron router during
tempest tests, a combined patch is required to pass tests.

Change-Id: I7f611ffd095ca690baba3a987d8eb0b8407fade1
(cherry picked from commit 7175ef6ae676c415d7043e314b63da8b19c967e5)
"
openstack%2Fopenstack-ansible-os_zun~stable%2Frocky~I6fe644b930b7f68407cab8f5e5b4f5cf6ad139bd,openstack/openstack-ansible-os_zun,stable/rocky,openstack/openstack-ansible-tests/sync-tests,I6fe644b930b7f68407cab8f5e5b4f5cf6ad139bd,Updated from OpenStack Ansible Tests,MERGED,2019-06-10 15:45:30.000000000,2019-06-18 19:32:41.000000000,2019-06-18 19:32:41.000000000,31,2,0,664353,11372825b153f3d13196ce70a57cd6afb2c61f34,16,4,2,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests


Depends-On: I7f611ffd095ca690baba3a987d8eb0b8407fade1
Change-Id: I6fe644b930b7f68407cab8f5e5b4f5cf6ad139bd
"
openstack%2Fkayobe~stable%2Fqueens~I7966cf33f6133090d83232504b8c1da4c7817e0c,openstack/kayobe,stable/queens,story/2005891-stable-queens,I7966cf33f6133090d83232504b8c1da4c7817e0c,Restrict cliff to <2.15.0,MERGED,2019-06-17 15:14:27.000000000,2019-06-18 19:28:27.000000000,2019-06-18 19:28:27.000000000,11,17,1,665705,c5e6de8eb1787b722fb66c11a7dbab622748a967,24,3,4,3,14826,Mark Goddard,mgoddard,"Restrict cliff to <2.15.0

Using Kayobe with cliff 2.15.0 fails with the following error:

kayobe playbook run playbook.yml
invalid conflict_resolution value: 'ignore'

This change restricts cliff to <2.15.0.

Also, fix git cloning previous release repos in CI to allow us to merge
this change.

Zuul provides repositories with all branches containing all prospective
changes, not just the current branch. We can use this in the upgrade
jobs to include changes to the previous release branch when a patch
depends on them.

Change-Id: I7966cf33f6133090d83232504b8c1da4c7817e0c
Depends-On: https://review.opendev.org/665706/
Story: 2005891
Task: 33748
"
openstack%2Fnova~master~I837aefcd37556a7b66b523529c5ca1f3dee8ac7f,openstack/nova,master,retry-filter,I837aefcd37556a7b66b523529c5ca1f3dee8ac7f,Fix enabled_filters default value in admin config docs,MERGED,2019-06-17 19:26:42.000000000,2019-06-18 19:24:58.000000000,2019-06-18 19:24:57.000000000,4,9,0,665751,7c9641266f71910b65d3238fe264caab2f406af1,12,8,1,1,6873,Matt Riedemann,mriedem,"Fix enabled_filters default value in admin config docs

This fixes a couple of places in the admin scheduler config
docs that were listing out the enabled_filters default value
incorrectly because the ComputeFilter was missing. Rather than
try to keep the docs mirrored with the actual default value,
this change references the config option in one spot and avoids
listing the defaults in another.

Change-Id: I837aefcd37556a7b66b523529c5ca1f3dee8ac7f
Closes-Bug: #1833120
"
openstack%2Fcharm-cinder-ceph~master~I8a8b95d34f498cc3a7a52aaf90a8684ab80399b3,openstack/charm-cinder-ceph,master,bug/1704106-amulet,I8a8b95d34f498cc3a7a52aaf90a8684ab80399b3,Fix amulet test that should have been resolved in commit 616ba36,MERGED,2019-06-04 12:17:59.000000000,2019-06-18 19:19:03.000000000,2019-06-18 19:19:03.000000000,6,3,0,663017,276a567e4ff70f57dffaf7ea5932304cecf3b0fb,28,8,4,2,6737,Edward Hope-Morley,hopem,"Fix amulet test that should have been resolved in commit 616ba36

Also resolve merge collision between commits 2f8b158b and
616ba364 that accidentally enabled rbd_flatten_volume_from_snapshot
for >= Ocata rather than >= Queens (which is also causing the
amulet test to fail).

Change-Id: I8a8b95d34f498cc3a7a52aaf90a8684ab80399b3
"
openstack%2Fopenstack-ansible-os_neutron~master~I1154d9a027daaf9eaaae3670f6cf6823f3fe03e4,openstack/openstack-ansible-os_neutron,master,systemd-journald,I1154d9a027daaf9eaaae3670f6cf6823f3fe03e4,Log to systemd-journald,MERGED,2019-06-13 17:52:02.000000000,2019-06-18 19:10:23.000000000,2019-06-18 19:10:23.000000000,2,0,0,665191,7425016564dd8baaf4769b609ac338508ac22752,13,4,1,2,13095,Marc Gariépy,mgariepy,"Log to systemd-journald

This patch add the neutron logs to systemd-journald.

Change-Id: I1154d9a027daaf9eaaae3670f6cf6823f3fe03e4
"
openstack%2Fkolla~master~Ic7e7bedf36f98e3f7a0e2a22ec76136f4414c765,openstack/kolla,master,disable-oracle-linux-jobs,Ic7e7bedf36f98e3f7a0e2a22ec76136f4414c765,Disable and remove OracleLinux CI jobs,MERGED,2019-06-10 07:51:44.000000000,2019-06-18 18:50:31.000000000,2019-06-18 18:50:30.000000000,0,58,0,664217,318a2a35b77d871b1604b1dd9f88c58bc37f4b53,16,7,1,1,14826,Mark Goddard,mgoddard,"Disable and remove OracleLinux CI jobs

We have agreed to remove support for Oracle Linux, starting by disabling
the CI jobs.

http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006896.html

Change-Id: Ic7e7bedf36f98e3f7a0e2a22ec76136f4414c765
"
openstack%2Fopenstack-helm-infra~master~I622a91b30b38f4f5979d16d0ba051300dcd56546,openstack/openstack-helm-infra,master,psql_pw_rotation,I622a91b30b38f4f5979d16d0ba051300dcd56546,(postgresql) Refactor password rotation,ABANDONED,2019-05-01 17:11:32.000000000,2019-06-18 18:49:48.000000000,,44,0,7,656677,707def4270d38a21fe430831e7f8f6e1f1ffa4ac,20,7,4,4,26449,Scott Hussey,sh8121,"(postgresql) Refactor password rotation

- Update the logic for password rotation to support
  the use of Patroni

Change-Id: I622a91b30b38f4f5979d16d0ba051300dcd56546
"
openstack%2Fkolla~master~I3990254258289fae8fbaf505de0f8cdede435111,openstack/kolla,master,,I3990254258289fae8fbaf505de0f8cdede435111,openstack-base: add several popular python modules,MERGED,2019-06-17 13:29:51.000000000,2019-06-18 18:48:43.000000000,2019-06-18 18:48:43.000000000,10,0,0,665668,0af507de522c6529387a99fa9eac208dded73f6e,19,7,2,1,24072,Marcin Juszkiewicz,hrw,"openstack-base: add several popular python modules

During building of all source images there are Python modules repeating
in several targets.

bcrypt: bifrost, ceilometer, cinder, dragonflow, freezer, keystone,
        manila, mistral, neutron, nova, rally, sahara, tacker, tempest,
        vmtp

logutils: aodh, barbican, blazar, ceilometer, cloudkitty, designate,
	  dragonflow, gnocchi, heat, ironic, kuryr, magnum, mistral,
	  neutron, octavia, panko, qinling, solum, tacker, tempest,
          vitrage, watcher, zun

pecan: aodh, barbican, blazar, ceilometer, cloudkitty, designate,
       dragonflow, gnocchi, heat, ironic, kuryr, magnum, mistral,
       neutron, octavia, panko, qinling, solum, tacker, tempest,
       vitrage, watcher, zun

psutil: ceilometer, cinder, designate, dragonflow, freezer, heat,
        ironic, magnum, manila, mistral, monasca-agent, murano, neutron,
        nova, octavia, panko, searchlight, senlin, tacker, vitrage,
        watcher, zaqar, zun

pymongo: almanach, aodh, freezer, horizon, monasca-agent,
         neutron-server-opendaylight, panko, vmtp, zaqar

pyroute2: dragonflow, kuryr, mistral, neutron, nova, octavia, tacker

setproctitle: aodh, ceilometer, cloudkitty, dragonflow, gnocchi, heat,
              kuryr, neutron, octavia, qinling, tacker, tempest,
              vitrage, zun

simplegeneric: aodh, blazar, ceilometer, cloudkitty, glance, ironic,
               magnum, mistral, octavia, panko, qinling, searchlight,
               solum, watcher

PyNaCl: bifrost, ceilometer, cinder, dragonflow, freezer, manila,
        mistral, neutron, nova, rally sahara, tacker, tempest, vmtp

WSME: aodh, blazar, ceilometer, cloudkitty, glance, ironic, magnum,
      mistral, octavia, panko, qinling, searchlight, solum, watcher

Change-Id: I3990254258289fae8fbaf505de0f8cdede435111
"
openstack%2Fkolla-ansible~master~I7f1591bdbc7c03302befc3ca6ebf1b13c95640c2,openstack/kolla-ansible,master,bug/fix_placement_log,I7f1591bdbc7c03302befc3ca6ebf1b13c95640c2,Fix placement log perms in config.json,MERGED,2019-06-11 16:16:38.000000000,2019-06-18 18:31:41.000000000,2019-06-17 17:48:54.000000000,1,1,1,664631,b850eeec9c54f70d39d26d7bbd922f4f0c8aed18,16,8,2,1,22629,Michal Nasiadka,mnasiadka,"Fix placement log perms in config.json

Currently placement-api is configured to log to
/var/log/kolla/placement/placement-api.log, but config.json is changing
permissions of /var/log/kolla/placement/placement.log - this patch
changes this.

Change-Id: I7f1591bdbc7c03302befc3ca6ebf1b13c95640c2
"
openstack%2Fkolla-ansible~master~I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07,openstack/kolla-ansible,master,,I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07,"Fix issue finding custom, host specific plugins",MERGED,2019-06-07 13:04:04.000000000,2019-06-18 18:29:07.000000000,2019-06-13 18:58:32.000000000,0,1,0,663935,4be219fcb7f3ed188ea0c4c5b2cb9a1fdba51991,11,5,1,1,17669,Doug Szumski,DougSzumski,"Fix issue finding custom, host specific plugins

The results from the find operation need to be registered per host,
because they depend on the host which runs the search. This bug
impacts users specifying custom plugins for specific hosts.

Change-Id: I41b2986b2f4ccd8fdc6553e83737e4106b6a2c07
"
openstack%2Fkolla-ansible~master~If71d5c056c042667388dae8e4ee6d51a5ecab46e,openstack/kolla-ansible,master,blazar-fluentd-agg,If71d5c056c042667388dae8e4ee6d51a5ecab46e,Add blazar to fluentd aggregation,MERGED,2019-06-05 13:31:07.000000000,2019-06-18 18:26:09.000000000,2019-06-07 08:53:36.000000000,1,0,0,663330,2c343562ee3b47248d3f0812101d48dd54793a9f,12,5,1,1,29100,Jason Anderson,jasonanderson,"Add blazar to fluentd aggregation

If Blazar is enabled, ensure that fluentd processes its logs.

Change-Id: If71d5c056c042667388dae8e4ee6d51a5ecab46e
"
openstack%2Fkolla-ansible~master~I0a0596a020fbff91ccc5b9f44f271eab220c88cd,openstack/kolla-ansible,master,heat-multi-region-bootstrap,I0a0596a020fbff91ccc5b9f44f271eab220c88cd,[heat] Multi-region support for bootstrap,MERGED,2019-06-05 13:24:32.000000000,2019-06-18 18:25:31.000000000,2019-06-07 08:53:38.000000000,1,0,0,663327,44da1963ba3d089e0fc646c1b1c1fb712f1c8173,12,5,1,1,29100,Jason Anderson,jasonanderson,"[heat] Multi-region support for bootstrap

When bootstrapping, Heat was not setting a region explicitly, so it
could default to a region other than the one being deployed.

Change-Id: I0a0596a020fbff91ccc5b9f44f271eab220c88cd
"
openstack%2Fkolla-ansible~master~I3f921ac51acab1b1020a459c07c755af7023e026,openstack/kolla-ansible,master,blazar-multi-region-aggregate,I3f921ac51acab1b1020a459c07c755af7023e026,Fix Blazar Nova aggregate in multi-region setup,MERGED,2019-06-05 13:18:56.000000000,2019-06-18 18:24:53.000000000,2019-06-06 15:46:30.000000000,1,0,0,663324,f20cbf49580f1457db22346c413991cf60c90dba,11,4,1,1,29100,Jason Anderson,jasonanderson,"Fix Blazar Nova aggregate in multi-region setup

The Nova aggregate was always defaulting to some region (usually first
in the Keystone endpoint list) when registering the Nova aggregate for
Blazar. Add in a region override to ensure we are always writing to the
region being deployed.

Change-Id: I3f921ac51acab1b1020a459c07c755af7023e026
"
openstack%2Fkolla-ansible~master~I336a81a5ecd824ace7d40e9a35942a1c853554cd,openstack/kolla-ansible,master,hide-sensitive-logs,I336a81a5ecd824ace7d40e9a35942a1c853554cd,Hide logs when looping over passwords,MERGED,2019-06-05 13:10:31.000000000,2019-06-18 18:24:19.000000000,2019-06-07 08:53:40.000000000,4,0,0,663321,30c619d1bc8938ea2177fdc21e503808dbe0cca7,11,4,1,2,29100,Jason Anderson,jasonanderson,"Hide logs when looping over passwords

When ansible goes in to a loop, by default it prints all the keys for
the item it is looping over. Some roles, when setting up the databases,
iterate over an object that includes the database password.

Override the loop label to hide everything but the database name.

Change-Id: I336a81a5ecd824ace7d40e9a35942a1c853554cd
"
openstack%2Fopenstack-helm~master~Idbedd046c6b4fd001cf63004ffac792173a5778b,openstack/openstack-helm,master,refactoring-db-sync-job,Idbedd046c6b4fd001cf63004ffac792173a5778b,Rafactoring volume mount variables in db sync job,MERGED,2019-05-22 06:30:03.000000000,2019-06-18 18:24:18.000000000,2019-06-18 18:24:18.000000000,77,15,0,660572,0ea9be7ade457c3b41a9190225bd290722cf7532,18,7,2,28,1523,SeungjinHan,yongiman,"Rafactoring volume mount variables in db sync job

This patch make the db sync job template follows the same pattern
that other templates utilize the variables to make in a predictable
pattern.

Change-Id: Idbedd046c6b4fd001cf63004ffac792173a5778b
Story: 2005754
Task: 33457
"
openstack%2Fkolla-ansible~master~I21eb1164c2f67098b81edbd5cc106472663b92cb,openstack/kolla-ansible,master,multi-region-nova-cells,I21eb1164c2f67098b81edbd5cc106472663b92cb,Support multi-region discovery of Nova cells,MERGED,2019-06-05 13:06:18.000000000,2019-06-18 18:23:28.000000000,2019-06-07 09:08:04.000000000,1,0,0,663319,328e14253d82a7fca0a4351f6f82211435477e62,12,4,2,1,29100,Jason Anderson,jasonanderson,"Support multi-region discovery of Nova cells

In a multi-region environment, each region is being deployed separately.
Cell discovery, however, would sometimes fail due to it picking a region
different than the one being deployed. Most likely, an internal endpoint
for region A will not be visible from region B. Furthermore, it is not
very useful to discover hosts on a region you're not modifying.

This changes the check to only run against nova compute services located
in the region being deployed.

Change-Id: I21eb1164c2f67098b81edbd5cc106472663b92cb
"
openstack%2Fkolla-ansible~master~Ice70d55e6729fe55164dcf85e98acdc1d7925209,openstack/kolla-ansible,master,monasca_grafana_org_fix,Ice70d55e6729fe55164dcf85e98acdc1d7925209,Fix monasca grafana organisation check,MERGED,2019-05-31 11:24:03.000000000,2019-06-18 18:21:34.000000000,2019-06-07 09:08:12.000000000,1,1,0,662433,84edfd09b67ef28e40b3ff24b96afa0ded5c532e,11,4,2,1,30438,Isaac Prior,Wasaac,"Fix monasca grafana organisation check

""Create default control plane organisation if it doesn't exist"" task
fails when organisation already exists.
The list organisation task currently returns project domain id.
The create organisation task currently provides project domain name.
Change the create task to use default_project_domain_id instead.

TrivialFix

Change-Id: Ice70d55e6729fe55164dcf85e98acdc1d7925209
"
openstack%2Fkolla-ansible~master~If801f54709114b931677adb605dffb75cfab25cd,openstack/kolla-ansible,master,bug/1830346,If801f54709114b931677adb605dffb75cfab25cd,Fixes VMTP deploys.,MERGED,2019-05-29 13:47:08.000000000,2019-06-18 18:20:27.000000000,2019-06-13 19:24:15.000000000,1,1,0,661985,56b2e947a1afae30ef21113717f61e96116aa873,9,3,1,1,30523,Dincer Celik,osmanlicilegi,"Fixes VMTP deploys.

Merged config files outputs to python_path which is incorrect. Changing it
to node_config_directory.

Change-Id: If801f54709114b931677adb605dffb75cfab25cd
Closes-Bug: #1830346
"
openstack%2Fkolla-ansible~master~I616a30acf38a61265f3005c712767d5221abf5c5,openstack/kolla-ansible,master,bug/1830723,I616a30acf38a61265f3005c712767d5221abf5c5,Elevate privileges for copying gnocchi policy.json,MERGED,2019-05-28 12:13:18.000000000,2019-06-18 18:20:01.000000000,2019-06-13 19:24:16.000000000,1,0,2,661743,4a60dc21e5f845d834247caf423801d84b5c987a,13,5,2,1,16036,Krzysztof Klimonda,kklimonda,"Elevate privileges for copying gnocchi policy.json

Change-Id: I616a30acf38a61265f3005c712767d5221abf5c5
Closes-Bug: #1830723
"
openstack%2Fkolla-ansible~stable%2Fqueens~I1977bdde8210073d3c25ecb33a031b58332a986a,openstack/kolla-ansible,stable/queens,pin-ara-1.0,I1977bdde8210073d3c25ecb33a031b58332a986a,Pin ARA to <1.0.0 and use stable setup interface to find callback plugin,ABANDONED,2019-05-24 15:00:12.000000000,2019-06-18 18:14:26.000000000,,3,3,0,661324,37e61d06e033aac4cb950cb047381351e13ade43,8,3,1,1,9061,David Moreau Simard,dmsimard,"Pin ARA to <1.0.0 and use stable setup interface to find callback plugin

ARA 1.0 will be released in the near future and isn't backwards
compatible.
Pin it so it doesn't break things unexpectedly.

ARA ships simple setup modules to help figure out the paths
to where things are located.
These are backwards compatible from ARA 1.0 to 0.x.

Change-Id: I1977bdde8210073d3c25ecb33a031b58332a986a
(cherry picked from commit 86e9b0831c89352d062bb828e28af33240b94f89)
"
openstack%2Fkolla-ansible~master~Id058aa1db8d60c979680e6a41f7f3e1c39f98235,openstack/kolla-ansible,master,bug/1830023,Id058aa1db8d60c979680e6a41f7f3e1c39f98235,Add ansible_nodename (system hostname) to /etc/hosts,MERGED,2019-05-21 17:24:27.000000000,2019-06-18 18:12:59.000000000,2019-06-07 09:08:08.000000000,9,1,4,660463,37899026bf7ec6ae70b01571cd0fb2e0173f8f9b,19,6,2,2,15197,Pierre Riteau,priteau,"Add ansible_nodename (system hostname) to /etc/hosts

Kolla-Ansible populates /etc/hosts with overcloud hosts using their API
interface IP address. When configured correctly, this allows Nova to use
the API interface for live migration of instances between compute hosts.

The hostname used is from the `ansible_hostname` variable, which is a
short hostname generated by Ansible using the first dot as a delimiter.
However, Nova defaults to use the result of socket.gethostname() to
register nova-compute services.

In deployments where hostnames are set to FQDNs, for example when using
FreeIPA, nova-compute would try to reach the other compute node using
its FQDN (as registered in the Nova database), which was absent from
/etc/hosts. This can result in failures to live migrate instances if
DNS entries don't match.

This commit populates /etc/hosts with `ansible_nodename` (hostname as
reported by the system) in addition to `ansible_hostname`, if they are
different.

Change-Id: Id058aa1db8d60c979680e6a41f7f3e1c39f98235
Closes-Bug: #1830023
"
openstack%2Fkolla-ansible~master~I18c99ff4213ce456868e64eab63a4257910b9b8e,openstack/kolla-ansible,master,bug/1829705,I18c99ff4213ce456868e64eab63a4257910b9b8e,nova: Fix DBNotAllowed during compute startup,MERGED,2019-05-20 09:22:56.000000000,2019-06-18 18:11:25.000000000,2019-06-04 03:58:15.000000000,2,0,0,660059,002eec951f336b07ef3a7f277e9c0fe6aae9a952,20,6,2,1,14826,Mark Goddard,mgoddard,"nova: Fix DBNotAllowed during compute startup

backport: stein, rocky

During startup of nova-compute, we see the following error message:

Error gathering result from cell 00000000-0000-0000-0000-000000000000:
DBNotAllowed: nova-compute

This issue was observed in devstack [1], and fixed [2] by removing
database configuration from the compute service.

This change takes the same approach, removing DB config from nova.conf
in the nova-compute* containers.

[1] https://bugs.launchpad.net/devstack/+bug/1812398
[2] https://opendev.org/openstack/devstack/commit/82537871376afe98a286e1ba424cf192ae60869a

Change-Id: I18c99ff4213ce456868e64eab63a4257910b9b8e
Closes-Bug: #1829705
"
openstack%2Fopenstack-ansible-os_tacker~stable%2Frocky~I092878997328d546b6ecd7a3f64bfd8a864d8d60,openstack/openstack-ansible-os_tacker,stable/rocky,openstack/openstack-ansible-tests/sync-tests,I092878997328d546b6ecd7a3f64bfd8a864d8d60,Updated from OpenStack Ansible Tests,MERGED,2019-06-10 15:45:16.000000000,2019-06-18 18:05:07.000000000,2019-06-18 18:05:07.000000000,31,2,0,664346,8700af4984f2f802b835a14be1b0ad42352109aa,17,4,2,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Depends-On: I0962932b0805ab10e7ea899d73178ccb44895a2a
Change-Id: I092878997328d546b6ecd7a3f64bfd8a864d8d60
"
openstack%2Fopenstack-ansible-os_tacker~stable%2Frocky~I0962932b0805ab10e7ea899d73178ccb44895a2a,openstack/openstack-ansible-os_tacker,stable/rocky,,I0962932b0805ab10e7ea899d73178ccb44895a2a,Fix tacker config on Rocky,MERGED,2019-06-18 14:26:51.000000000,2019-06-18 18:05:06.000000000,2019-06-18 18:05:06.000000000,5,9,0,665996,b1b4d75b2ff35caac3ad4f6e06149d7f1dc5e624,9,3,2,2,13095,Marc Gariépy,mgariepy,"Fix tacker config on Rocky

notification_driver is deprecated in favor of
[oslo_messaging_notifications]/driver.

service_plugins order seems to matter.

Change-Id: I0962932b0805ab10e7ea899d73178ccb44895a2a
"
openstack%2Fkolla-ansible~master~I655da1102dfb4ca12437b7db0b79c9a61568f79e,openstack/kolla-ansible,master,bug/1809469,I655da1102dfb4ca12437b7db0b79c9a61568f79e,Add unit test for keystone fernet cron generator,MERGED,2019-05-16 16:34:27.000000000,2019-06-18 18:02:39.000000000,2019-06-06 16:29:19.000000000,154,0,1,659619,25ac955a4e2645da29f8c7b807f0bac5afb43838,15,5,2,1,14826,Mark Goddard,mgoddard,"Add unit test for keystone fernet cron generator

Before making changes to this script, document its behaviour with a unit
test.

There are two major issues:

* requesting an interval of more than 1 day results in no jobs
* requesting an interval of more than 60 minutes, unless an exact
  multiple of 60 minutes, results in no jobs

Change-Id: I655da1102dfb4ca12437b7db0b79c9a61568f79e
Related-Bug: #1809469
"
openstack%2Foslo.messaging~master~Id11db4113c9b1c3add602192c1e915218704ef27,openstack/oslo.messaging,master,fix-nit,Id11db4113c9b1c3add602192c1e915218704ef27,fix typos,MERGED,2019-06-17 15:58:59.000000000,2019-06-18 17:59:06.000000000,2019-06-18 17:59:06.000000000,4,4,0,665718,54356899da5d4a0997abb6819f184a27929cc0e9,14,5,3,2,28522,Hervé Beraud,hberaud,"fix typos

Change-Id: Id11db4113c9b1c3add602192c1e915218704ef27
"
openstack%2Fkolla~master~I32ba1abd204c9dba4bbe3132b5650b0e391616af,openstack/kolla,master,bug/1826327,I32ba1abd204c9dba4bbe3132b5650b0e391616af,Add sha256 in ceph fetch keys,MERGED,2019-04-25 07:07:31.000000000,2019-06-18 17:53:32.000000000,2019-06-18 11:57:27.000000000,2,0,4,655623,0a2dc8aa1d267da3c1c2925b3f292bd96aa50edb,37,7,6,1,22629,Michal Nasiadka,mnasiadka,"Add sha256 in ceph fetch keys

fetch_ceph_keys.py is using insecure sha1 function, this patch adds
sha256 beside sha1 - in order to remove sha1 safely in U release.

Change-Id: I32ba1abd204c9dba4bbe3132b5650b0e391616af
Closes-Bug: #1826327
"
openstack%2Fopenstack-helm-docs~master~I2235b24c4d03c91a0e68648a08538c1343f8083d,openstack/openstack-helm-docs,master,openstack-helm-docs,I2235b24c4d03c91a0e68648a08538c1343f8083d,Move to opendev,MERGED,2019-04-30 08:38:41.000000000,2019-06-18 17:53:15.000000000,2019-06-18 17:53:15.000000000,1,1,0,656468,4d11377d702f65b26dab056ba926d78fcb88a7b4,13,5,3,1,28613,tony_zhang,tonybrad,"Move to opendev

Change-Id: I2235b24c4d03c91a0e68648a08538c1343f8083d
"
openstack%2Fkolla~master~I34b9d56559eada96abec13814a2aa91b57055710,openstack/kolla,master,,I34b9d56559eada96abec13814a2aa91b57055710,base: do not use non-free repositories for Ubuntu,MERGED,2019-06-17 16:36:36.000000000,2019-06-18 17:52:19.000000000,2019-06-18 09:50:41.000000000,12,12,0,665724,96460c4bfe258c2a39f271a9b5591e76b8b3e783,21,6,1,3,24072,Marcin Juszkiewicz,hrw,"base: do not use non-free repositories for Ubuntu

Remove restricted and multiverse from ubuntu.

restricted is supported software that is non-free.
multiverse is unsupported software that is non-free.

We should not use any of them. And they are not mirrored by OpenStack
infra.

Change-Id: I34b9d56559eada96abec13814a2aa91b57055710
"
openstack%2Fkeystone-specs~master~Ib6ff52bf6d337bc0390da168ee960644137ef40a,openstack/keystone-specs,master,combine-policy,Ib6ff52bf6d337bc0390da168ee960644137ef40a,Combine policy roadmap documents,MERGED,2019-05-14 20:41:39.000000000,2019-06-18 17:46:38.000000000,2019-06-18 17:46:38.000000000,269,291,0,659159,1dde77c0348de4f39933ee74e9a2f76c59695abc,9,5,1,3,8482,Colleen Murphy,krinkle,"Combine policy roadmap documents

The Goals document and the Roadmap document are closely related to each
other and both cover long-term, ongoing work. This change combines the
specs so that a view of the whole policy story can be found in one
document.

Change-Id: Ib6ff52bf6d337bc0390da168ee960644137ef40a
"
openstack%2Foctavia~stable%2Fstein~I6f5d95c5f875edda530f54ae72386d6495235ca6,openstack/octavia,stable/stein,665498-stable/stein,I6f5d95c5f875edda530f54ae72386d6495235ca6,Fix a python3 issue in the amphora-agent,MERGED,2019-06-17 14:57:22.000000000,2019-06-18 17:46:24.000000000,2019-06-18 17:46:24.000000000,151,6,0,665698,d31b47fd0d88235ecc5ca91235481537afa11ade,14,6,2,3,6579,Nir Magnezi,nmagnezi,"Fix a python3 issue in the amphora-agent

An exception handler in the amphora-agent has a python3 string
comparison bug that will cause a TypeError.
This patch fixes that bug and adds test coverage for the
start_stop_listener.

Change-Id: I6f5d95c5f875edda530f54ae72386d6495235ca6
Story: 2005898
Task: 33760
(cherry picked from commit dc459e2213089345f906c3daa313bd05c429bb54)
"
openstack%2Fkeystone-specs~master~I69403a035bf4540a93f4728f8b795d9c7a85cc6f,openstack/keystone-specs,master,unified-backlog,I69403a035bf4540a93f4728f8b795d9c7a85cc6f,Move unified model spec from ongoing to backlog,MERGED,2019-05-13 18:54:15.000000000,2019-06-18 17:44:18.000000000,2019-06-18 17:44:18.000000000,0,0,0,658894,62ce366330eb82e74f752867fc106a7797b1d2da,10,6,1,1,8482,Colleen Murphy,krinkle,"Move unified model spec from ongoing to backlog

Since there is no active work happening on this improvement, but we
still generally think it's the right direction, move the spec from
""ongoing"" to ""backlog"" so that it can be picked up when we are ready to
plan it into a cycle.

Change-Id: I69403a035bf4540a93f4728f8b795d9c7a85cc6f
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I947f6a4c65a9ef6a9220a07098f4c91507711cf6,openstack/tripleo-heat-templates,stable/rocky,bug/1824840,I947f6a4c65a9ef6a9220a07098f4c91507711cf6,ceilometer_agent_notification: disable-panko.yaml,MERGED,2019-04-15 15:47:28.000000000,2019-06-18 17:43:49.000000000,2019-04-17 22:26:38.000000000,1,1,0,652704,5203a4a8326b462226a3ac76a64b64164c8b27ca,8,3,1,1,28504,Vinay Kapalavai,vkapalav,"ceilometer_agent_notification: disable-panko.yaml

ceilometer-agent-notification.yaml unable to start
as it gets '' instead of null when disable-panko.yaml
file is passed.

Closes-Bug: #1824840

Change-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6
(cherry picked from commit 34b7ba0fa44bc46e11a603fac662909976bdb0c1)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I947f6a4c65a9ef6a9220a07098f4c91507711cf6,openstack/tripleo-heat-templates,stable/queens,bug/1824840,I947f6a4c65a9ef6a9220a07098f4c91507711cf6,ceilometer_agent_notification: disable-panko.yaml,MERGED,2019-04-15 15:45:36.000000000,2019-06-18 17:43:36.000000000,2019-04-17 22:26:41.000000000,1,1,0,652702,847ec663cc3af2c878cae5cd7acc575a9702f239,8,3,1,1,28504,Vinay Kapalavai,vkapalav,"ceilometer_agent_notification: disable-panko.yaml

ceilometer-agent-notification.yaml unable to start
as it gets '' instead of null when disable-panko.yaml
file is passed.

Closes-Bug: #1824840

Change-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6
(cherry picked from commit 34b7ba0fa44bc46e11a603fac662909976bdb0c1)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I947f6a4c65a9ef6a9220a07098f4c91507711cf6,openstack/tripleo-heat-templates,stable/stein,bug/1824840,I947f6a4c65a9ef6a9220a07098f4c91507711cf6,ceilometer_agent_notification: disable-panko.yaml,MERGED,2019-04-29 19:12:00.000000000,2019-06-18 17:43:22.000000000,2019-05-07 21:03:10.000000000,1,1,0,656383,1762e9b636566e4a78c31def630fffaea44d8f84,10,6,1,1,28504,Vinay Kapalavai,vkapalav,"ceilometer_agent_notification: disable-panko.yaml

ceilometer-agent-notification.yaml unable to start
as it gets '' instead of null when disable-panko.yaml
file is passed.

Closes-Bug: #1824840

Change-Id: I947f6a4c65a9ef6a9220a07098f4c91507711cf6
(cherry picked from commit 34b7ba0fa44bc46e11a603fac662909976bdb0c1)
"
openstack%2Fkolla~master~I19447727f19dbd9c0a3e17d218b48ddc4c253587,openstack/kolla,master,bug/1832026,I19447727f19dbd9c0a3e17d218b48ddc4c253587,Fix ownership of ironic inspector DHCP hostsdir,MERGED,2019-06-07 17:52:38.000000000,2019-06-18 17:43:10.000000000,2019-06-18 09:57:59.000000000,2,1,0,664011,41bcd7b4961fd52066b79804fdce9f81cc129735,20,11,2,1,14826,Mark Goddard,mgoddard,"Fix ownership of ironic inspector DHCP hostsdir

If you run with enable_ironic set to true and
ironic_inspector_pxe_filter set to dnsmasq (the default in stein),
ironic inspector can fail with the following in the logs:

Permission denied: u'/var/lib/ironic-inspector/dhcp-hostsdir/<MAC address>'

A node must be registered with a port for this to happen.

Weirdly this happens on centos/source, ubuntu/source, and ubuntu/binary,
but not centos/binary.

This change changes the ownership of
/var/lib/ironic-inspector/dhcp-hostsdir to ironic-inspector user to make
it writeable.

Change-Id: I19447727f19dbd9c0a3e17d218b48ddc4c253587
Closes-Bug: #1832026
"
openstack%2Fkeystone-specs~master~I95c094f4d4df2e44cd23d2715275199a4e6c8200,openstack/keystone-specs,master,sp-filters-attic,I95c094f4d4df2e44cd23d2715275199a4e6c8200,Move SP endpoint filters spec to attic,MERGED,2019-05-13 18:50:20.000000000,2019-06-18 17:40:46.000000000,2019-06-18 17:40:46.000000000,0,0,0,658893,3d575d2d9d8473ff3b32eb6665118ddb11f08f7e,9,4,1,1,8482,Colleen Murphy,krinkle,"Move SP endpoint filters spec to attic

As discussed at the PTG, we don't want to focus on expanding the scope
of endpoint filtering, so rather than keep it in the backlog to wait for
someone to pick it up, move it to the attic to signal that this is not
something we want to prioritize. If we decide this is valuable and
someone is willing to pick it up, we can always move it back out of the
attic.

Change-Id: I95c094f4d4df2e44cd23d2715275199a4e6c8200
"
openstack%2Fkolla-ansible~master~I330999be577d6416df162ea33fa1f7a19df56029,openstack/kolla-ansible,master,mongodb_command,I330999be577d6416df162ea33fa1f7a19df56029,Fix mongo command for supporting other port,MERGED,2019-06-16 10:41:45.000000000,2019-06-18 17:40:02.000000000,2019-06-18 17:40:02.000000000,1,1,0,665538,f7bfce20ada638b80bf06d0a8134ca9e01dea273,13,5,1,1,21757,Xing Zhang,angeiv,"Fix mongo command for supporting other port

If we change mongodb_port, the command for bootstraping mongodb
should not connect to the default mongodb port 27017.

Change-Id: I330999be577d6416df162ea33fa1f7a19df56029
"
openstack%2Fopenstack-ansible-os_tempest~stable%2Fstein~I3cdfe48cae28969dea381bfa325c4bb4769fb4d1,openstack/openstack-ansible-os_tempest,stable/stein,,I3cdfe48cae28969dea381bfa325c4bb4769fb4d1,Set default tempest_install_method for meta handlers,MERGED,2019-06-17 06:59:28.000000000,2019-06-18 17:31:01.000000000,2019-06-18 17:31:01.000000000,5,1,0,665595,b9e97cb4873c5036b86e28e79b61555a698edf29,10,5,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Set default tempest_install_method for meta handlers

For non-integrated tests tempest_install_method is not defined,
so when python_venv_build tries to launch meta handler, it fails with
undefined variable. Once default is set, this will prevent problems

Depends-On: https://review.opendev.org/665489/

Change-Id: I3cdfe48cae28969dea381bfa325c4bb4769fb4d1
(cherry picked from commit 7e6d40ccf15d870fdfd59636081603d330476015)
"
openstack%2Fopenstack-ansible~stable%2Frocky~I11589d8bc55d1d9320037a2ca0b294d99f7fbadd,openstack/openstack-ansible,stable/rocky,,I11589d8bc55d1d9320037a2ca0b294d99f7fbadd,Remove openSUSE Leap 42.3 jobs,ABANDONED,2019-05-20 09:59:59.000000000,2019-06-18 17:28:13.000000000,,0,41,5,660073,e86a44bd396d8a1012625b92d0fbdf6c26599d0f,9,4,2,2,6593,Dirk Mueller,dmllr,"Remove openSUSE Leap 42.3 jobs

openSUSE Leap 42.3 ends November 2019, so we don't want to
maintain the old version of openSUSE any longer. Also includes
parts of Change Iea81339907303f3840761a6ee1d89e6f46165f3c of removing
the _lxc jobs for opensuse 15 as they have currently no chance
of succeeding on leap 15.0 because networkd is not available here.

Change-Id: I11589d8bc55d1d9320037a2ca0b294d99f7fbadd
"
openstack%2Fopenstack-ansible-os_cinder~stable%2Fstein~Id3c9d4596a443f4d1e9e9090cc2da3650385a98b,openstack/openstack-ansible-os_cinder,stable/stein,,Id3c9d4596a443f4d1e9e9090cc2da3650385a98b,release: added release note for ceph backend issue,MERGED,2019-06-18 16:56:56.000000000,2019-06-18 17:21:01.000000000,2019-06-18 17:21:01.000000000,9,0,0,666056,2b274c775806c1cbe015a718afd0ee6f9f0b5960,7,3,1,1,1004,Mohammed Naser,mnaser,"release: added release note for ceph backend issue

This patch adds a release note to warn users about the possible
issue with Cinder and RBD with the new behaviour of backend_host.

Change-Id: Id3c9d4596a443f4d1e9e9090cc2da3650385a98b
(cherry picked from commit 6132d03c19e7f8780fbab84ed791b2477eb9a1e5)
"
openstack%2Fopenstack-ansible-os_monasca~master~I7f8ec629291952e0f0c5d4afbca3ce4bf92e2a41,openstack/openstack-ansible-os_monasca,master,,I7f8ec629291952e0f0c5d4afbca3ce4bf92e2a41,Cap sphinx for py2 to match global requirements,ABANDONED,2019-06-07 02:15:18.000000000,2019-06-18 17:15:41.000000000,,2,1,0,663822,ddf161ffae96f66bba131f7a6f585ab0645b05fa,3,1,1,1,30384,zhangboye,zhangboye,"Cap sphinx for py2 to match global requirements

Change-Id: I7f8ec629291952e0f0c5d4afbca3ce4bf92e2a41
"
openstack%2Frpm-packaging~stable%2Frocky~Icf1e22358c71af75fdd3e5454cba810b6743873b,openstack/rpm-packaging,stable/rocky,,Icf1e22358c71af75fdd3e5454cba810b6743873b,Use latest stable rocky for vmware-nsx,MERGED,2019-06-14 12:51:18.000000000,2019-06-18 17:15:27.000000000,2019-06-18 17:15:27.000000000,6,8,2,665375,4eb6dea20a0474d0cd5b184a9c9a81484dd1aae5,24,7,4,2,27532,Jaime Caamaño Ruiz,jaicaa,"Use latest stable rocky for vmware-nsx

Change-Id: Icf1e22358c71af75fdd3e5454cba810b6743873b
"
openstack%2Frpm-packaging~stable%2Fstein~I1aeefe1d5ebdb6a0909ddc4f9319d30c6292a60b,openstack/rpm-packaging,stable/stein,,I1aeefe1d5ebdb6a0909ddc4f9319d30c6292a60b,Use latest stable stein for vmware-nsx,MERGED,2019-06-14 12:52:05.000000000,2019-06-18 17:15:26.000000000,2019-06-18 17:15:26.000000000,7,7,3,665376,8739ba1bfb39062544c37401e5608aad6049d3e9,34,7,8,2,27532,Jaime Caamaño Ruiz,jaicaa,"Use latest stable stein for vmware-nsx

Change-Id: I1aeefe1d5ebdb6a0909ddc4f9319d30c6292a60b
"
openstack%2Fapi-site~master~I12ab3ba42683f9f75189ab597b9768ae5ec7a3fb,openstack/api-site,master,,I12ab3ba42683f9f75189ab597b9768ae5ec7a3fb,Sync Sphinx requirement,MERGED,2019-06-18 14:18:15.000000000,2019-06-18 17:12:01.000000000,2019-06-18 17:12:01.000000000,6,5,0,665992,67d9a7711b5926729267aa9652b705ef769d7be3,10,3,2,4,28614,jacky06,jacky06,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Update some URLs to latest

Change-Id: I12ab3ba42683f9f75189ab597b9768ae5ec7a3fb
"
openstack%2Frpm-packaging~master~Iddca5bd7e7d27006e747f9d5808291b4a40c1286,openstack/rpm-packaging,master,oslo.serialization,Iddca5bd7e7d27006e747f9d5808291b4a40c1286,update oslo.serialization to 2.29.1,MERGED,2019-06-12 07:30:21.000000000,2019-06-18 17:04:36.000000000,2019-06-18 17:04:36.000000000,1,59,2,664810,aa76c6ad2da978e8ac9ca4b23234cdfca1fc3d18,38,8,6,2,28654,chenming,mmbbz,"update oslo.serialization to 2.29.1

Change-Id: Iddca5bd7e7d27006e747f9d5808291b4a40c1286
"
openstack%2Frpm-packaging~master~I807d4be8f1cedb8c719465a25f5e21d8af8fa115,openstack/rpm-packaging,master,,I807d4be8f1cedb8c719465a25f5e21d8af8fa115,Avoid double-fetching tarball race with nsx packages,MERGED,2019-06-18 07:45:30.000000000,2019-06-18 17:04:35.000000000,2019-06-18 17:04:35.000000000,2,2,0,665895,c544f2f7c2f81b0cdc8af998d2e3c3d9bf474c33,9,5,1,2,6593,Dirk Mueller,dmllr,"Avoid double-fetching tarball race with nsx packages

without basename, there are two times when the tarball
is being fetched, and hence the version numbers can go
out of sync in the SUSE CI. This is avoided by not having a full url
in the Source line.

Change-Id: I807d4be8f1cedb8c719465a25f5e21d8af8fa115
"
openstack%2Ftripleo-validations~master~I9e04b20cfa63d8d60c3a92cf2ff05b3c7c470e54,openstack/tripleo-validations,master,undercloud-service-status,I9e04b20cfa63d8d60c3a92cf2ff05b3c7c470e54,Update the Undercloud Services list for the uc-service-status role,MERGED,2019-06-14 12:39:14.000000000,2019-06-18 17:04:19.000000000,2019-06-18 17:03:33.000000000,6,7,0,665370,d5e948fcc1d087ffe01fa33240caff0394525c2b,15,4,3,1,11491,Gael Chamoulaud,gchamoul,"Update the Undercloud Services list for the uc-service-status role

Since Stein, the name of the OpenStack services on the Undercloud have
been renamed as 'tripleo_*.service'. This patch makes the Undercloud
service names evolve accordingly.

Change-Id: I9e04b20cfa63d8d60c3a92cf2ff05b3c7c470e54
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fkolla-ansible~master~I76a6dd84e78277f87b04951eb4e75bbdfc1c38bf,openstack/kolla-ansible,master,keystone-multiple-domains,I76a6dd84e78277f87b04951eb4e75bbdfc1c38bf,Do not create Keystone domain-specific config directory if useless,MERGED,2019-06-14 16:07:25.000000000,2019-06-18 17:04:11.000000000,2019-06-18 17:02:08.000000000,2,14,0,665423,5729af8ab726f364301fd849208cdcf7c27976d1,13,3,2,1,30491,Radosław Piliszek,yoctozepto,"Do not create Keystone domain-specific config directory if useless

The task was duplicated below (and this other one is conditional).
Additionally fix related tasks names.

Change-Id: I76a6dd84e78277f87b04951eb4e75bbdfc1c38bf
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fkuryr-kubernetes~master~Ia241fb5b2937c63d3ed6e3de1ac3003e370e4db6,openstack/kuryr-kubernetes,master,bp/golang-kuryr-cni,Ia241fb5b2937c63d3ed6e3de1ac3003e370e4db6,Implement kuryr-cni in golang,MERGED,2019-06-04 16:12:25.000000000,2019-06-18 16:59:29.000000000,2019-06-18 16:59:29.000000000,2546,47,17,663084,245eb078f40def87d37fb64a8101edf538200383,44,6,7,25,11600,Michał Dulko,dulek,"Implement kuryr-cni in golang

This commit reimplements the kuryr-cni, that is the actual CNI plugin
that gets called by kubelet and passes the request to kuryr-daemon, in
golang. This means that it can injected as a binary without any
dependencies, instead of using a bash script that looks for ID of
kuryr-daemon container and does `docker exec` to run Python kuryr-cni
inside. The obvious advantage of that is removing a constraint of
python, curl and docker/runc binaries being available on any K8s host
that runs Kuryr. This enables integration with Magnum, where kubelet
runs in such a minimal container. Besides that injecting a binary is way
more elegant and less error-prone.

The golang implementation should keep the compatibility with Python one.
Also currently only containerized jobs are switched to use it, so Python
implementation is still kept in the repo. I'm not against removing it in
very near future.

Please note that there is an important limitation in comparison to the
Python implementation - i.e. in case of golang binary running on K8s
host, we don't have an easy access to kuryr.conf, meaning that
localhost:50036 is currently hardcoded as the kuryr-daemon endpoint.
This should be fixed by putting the configured endpoint into
10-kuryr.conf file that gets injected onto the host by cni_ds_init
script.

Implements: blueprint golang-kuryr-cni
Change-Id: Ia241fb5b2937c63d3ed6e3de1ac3003e370e4db6
"
openstack%2Fopenstack-ansible-os_cinder~master~Id3c9d4596a443f4d1e9e9090cc2da3650385a98b,openstack/openstack-ansible-os_cinder,master,,Id3c9d4596a443f4d1e9e9090cc2da3650385a98b,release: added release note for ceph backend issue,MERGED,2019-06-18 16:21:24.000000000,2019-06-18 16:56:56.000000000,2019-06-18 16:56:45.000000000,9,0,0,666043,6132d03c19e7f8780fbab84ed791b2477eb9a1e5,8,3,1,1,1004,Mohammed Naser,mnaser,"release: added release note for ceph backend issue

This patch adds a release note to warn users about the possible
issue with Cinder and RBD with the new behaviour of backend_host.

Change-Id: Id3c9d4596a443f4d1e9e9090cc2da3650385a98b
"
openstack%2Fcinder~master~I1cb1e7b38fb24624d5a0aeb9d5f31e4b008128a9,openstack/cinder,master,add_empty_check,I1cb1e7b38fb24624d5a0aeb9d5f31e4b008128a9,Add empty check before using zone driver,MERGED,2019-02-11 07:11:23.000000000,2019-06-18 16:53:15.000000000,2019-02-15 21:06:09.000000000,44,2,5,636098,6f93d64ff0d2d329f04477c6d0ed257d2a250bf8,133,43,4,3,25837,yenai,yenai2008,"Add empty check before using zone driver

When initiator_target_map is {}, it really means we don't need to
do anything with zone driver.

Change-Id: I1cb1e7b38fb24624d5a0aeb9d5f31e4b008128a9
"
openstack%2Foctavia~master~I7a87430be5a1553ff760e31c26ca52090399d00a,openstack/octavia,master,,I7a87430be5a1553ff760e31c26ca52090399d00a,Clarify that the certificate guide should be used,MERGED,2019-05-31 16:13:09.000000000,2019-06-18 16:36:30.000000000,2019-06-18 16:36:30.000000000,14,3,0,662512,d3c3f148f4437587f38b390a08dca5a34c47c1c6,8,4,1,2,11628,Michael Johnson,johnsom,"Clarify that the certificate guide should be used

The quick start guide was pointing users to the old create_certificate.sh
script. This patch clarifies that the ""Octavia Certificate Configuration
Guide"" should be used when configurting certificates for the Octavia
controllers.
It also adds a warning to the create_certificate.sh script.

Change-Id: I7a87430be5a1553ff760e31c26ca52090399d00a
"
openstack%2Foctavia~master~I15c2cabb1bced0a5646a3e1aed50bece78afcdce,openstack/octavia,master,,I15c2cabb1bced0a5646a3e1aed50bece78afcdce,Add a note about nova hardware architectures,MERGED,2019-06-17 17:37:58.000000000,2019-06-18 16:36:28.000000000,2019-06-18 16:36:28.000000000,10,1,4,665732,f1542afba02bec659c143755aaba0c91f3d0807e,9,4,1,2,11628,Michael Johnson,johnsom,"Add a note about nova hardware architectures

This patch adds a note to the diskimage-create README that
reminds users to set the hardware architecture property on the
amphora image if the cloud has multiple architectures available
in nova.
It also sets this property in our devstack plugin to provide an
example/reminder.

Change-Id: I15c2cabb1bced0a5646a3e1aed50bece78afcdce
"
openstack%2Fswift~master~Ie759c4092408a210d32f6457142457087343d33a,openstack/swift,master,enable_s3api,Ie759c4092408a210d32f6457142457087343d33a,Enable s3api in saio docker container,MERGED,2019-06-14 14:20:03.000000000,2019-06-18 16:31:07.000000000,2019-06-18 16:29:54.000000000,4,19,3,665403,ccd3b890cdddca132b4d9cdd9372a9927bfb5aac,13,3,2,2,9625,Thiago da Silva,thiago,"Enable s3api in saio docker container

Change-Id: Ie759c4092408a210d32f6457142457087343d33a
"
openstack%2Fnova~master~Iafdc7ce7a08dbc836039ab4483845d9713b3987f,openstack/nova,master,remove_unnecessary_method,Iafdc7ce7a08dbc836039ab4483845d9713b3987f,Remove an unused method,MERGED,2019-06-06 05:48:35.000000000,2019-06-18 16:22:04.000000000,2019-06-08 02:32:35.000000000,0,65,0,663502,0cecd2ac324dc9a20e7d60987b9ef6e5082c426d,19,13,1,2,7634,Takashi Natsume,natsumet,"Remove an unused method

The nova.compute.api.API.get_instances_host_statuses method
has no longer been used
since I82b11b8866ac82b05eae04351605d52fa8b91453.
Remove the method and a releated test.

Change-Id: Iafdc7ce7a08dbc836039ab4483845d9713b3987f
"
