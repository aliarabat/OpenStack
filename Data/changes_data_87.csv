id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fpaunch~stable%2Ftrain~Iefe861f91cefe2a9cf773cae98b2440566ae8b5e,openstack/paunch,stable/train,,Iefe861f91cefe2a9cf773cae98b2440566ae8b5e,Wrap stopping podman -t with systemd timeouts,MERGED,2021-10-14 14:44:23.000000000,2021-11-09 16:35:24.000000000,2021-11-09 16:33:43.000000000,2,1,3,814020,a783594fd40cb4593b236bdd9377c42cb1537393,12,7,1,1,6926,Bogdan Dobrelya,bogdando,"Wrap stopping podman -t with systemd timeouts

Currently with KillMode=none, if podman -t hangs, the command repeats
leaving the process and its cgroup around.
But if a stop/start command hangs, we should not start another one.

Instead time it out properly via TimeoutStopSec set to the 2x of
the timeout given to the managed podman action. Then if it expires,
kill its cgroup all the way (KillMode=control-group is a default)
before rerunning the same operation. Also note that using KilMode
process is not recommended by systemd man pages.

Increase the grace stop timeout defaults 10->42s to align it with:
https://github.com/containers/podman/pull/8889

Closes-bug: #1945791
Change-Id: Iefe861f91cefe2a9cf773cae98b2440566ae8b5e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit badd5a3c10f0af9e1c69a9b88064e743a36d4f53)
"
openstack%2Fkuryr-kubernetes~master~I41afc6fa67abfff62d2f0017db508051a1e7edf4,openstack/kuryr-kubernetes,master,daemon-check-config,I41afc6fa67abfff62d2f0017db508051a1e7edf4,Do not start kuryr-daemon when worker_num <= 1,MERGED,2021-11-04 13:32:50.000000000,2021-11-09 16:22:30.000000000,2021-11-09 16:20:18.000000000,30,11,3,816696,87981d06526230a406ea0b151cd8b051ff88529c,14,4,3,4,11600,MichaÅ‚ Dulko,dulek,"Do not start kuryr-daemon when worker_num <= 1

We've discovered that running kuryr-daemon with [cni_daemon]worker_num=1
breaks pyroute2.IPDB's ability to correctly close threads, leading to a
process leak. This commit makes sure kuryr-daemon will fail to start
when worker_num <= 1.

This required a few more changes in order to make sure that when any
kuryr-daemon subservice dies, kuryr-daemon will shutdown too.

Change-Id: I41afc6fa67abfff62d2f0017db508051a1e7edf4
"
openstack%2Fneutron~master~Ib1c3bcddd9336343e7f8dc9b16bffffad8a15439,openstack/neutron,master,dhcp_agent,Ib1c3bcddd9336343e7f8dc9b16bffffad8a15439,Remove todo's in Y release,MERGED,2021-10-28 14:51:34.000000000,2021-11-09 16:17:28.000000000,2021-11-09 16:11:35.000000000,7,28,25,815853,53000704f211bbbd5e439890015891039ef6752e,131,5,5,2,32667,Mamatisa Nurmatov,isabek,"Remove todo's in Y release

Removed todo and note that can be removed in Yoga release

Change-Id: Ib1c3bcddd9336343e7f8dc9b16bffffad8a15439
"
openstack%2Fcinder~master~Ie4694d52d592e596b9f8cfda575557e5c8d24533,openstack/cinder,master,retype_async_metro,Ie4694d52d592e596b9f8cfda575557e5c8d24533,PowerMax Driver - Retype fix for replication,MERGED,2021-06-22 16:56:35.000000000,2021-11-09 16:16:22.000000000,2021-11-09 16:11:53.000000000,35,1,1,797510,6ab6f711604f04cd63075e8658c1100ddca38f2f,84,3,2,2,12670,Helen Walsh,walshh2,"PowerMax Driver - Retype fix for replication

If a volume is asynchronous or metro it can belong to a
management group as well as default storage group.  This
fix makes sure the service level of the default storage
group is returned and not the management group.
Added warnings if an array is not compression capable.

Change-Id: Ie4694d52d592e596b9f8cfda575557e5c8d24533
"
openstack%2Fdevstack~master~Iceb7c5f517db20072e121dc7538abaa888423c67,openstack/devstack,master,,Iceb7c5f517db20072e121dc7538abaa888423c67,Update lib/keystone to add more system users,MERGED,2021-03-11 15:50:00.000000000,2021-11-09 16:16:00.000000000,2021-11-09 16:11:47.000000000,75,1,23,780024,021ae0bcc8f67b6fd307aaf3c8ac59ba6cbe23b6,21,4,4,2,5046,Lance Bragstad,ldbragst,"Update lib/keystone to add more system users

Keystone has supported system-scope since Queens and we already make
sure we create a cloud profile for system-admin in
/etc/openstack/clouds.yaml.

This commit ensures keystone creates a couple of new users to model
system-member and system-reader personas. Doing this by default in
devstack makes it easier for people to use.

We've already taken a similar approach in tempest by setting up the
various system personas for tempest clients to use.

Change-Id: Iceb7c5f517db20072e121dc7538abaa888423c67
"
openstack%2Fneutron~stable%2Fxena~I409bc674b65e4f495ebd42d03e97a09d51482339,openstack/neutron,stable/xena,bug/1933273-stable/xena,I409bc674b65e4f495ebd42d03e97a09d51482339,[DVR] Fix update of the MTU in the DVR HA routers,MERGED,2021-11-04 14:30:30.000000000,2021-11-09 16:15:17.000000000,2021-11-09 16:06:15.000000000,35,9,3,816658,7b2b6959716f95748bdfba1479f28b695cb80dab,19,4,1,4,11975,Slawek Kaplonski,slaweq,"[DVR] Fix update of the MTU in the DVR HA routers

This is follow up of the patch [1] which fixed updating MTU in the
snat namespace for the DVR routers.
In case of DVR-HA routers there was additional issue with that as
L3 agent tried to update MTU for the qr- interface in the
self.ha_namespace which, for DVR-HA routers is snat namespace.

This patch fixes that issue by setting MTU on the qr- interface in
qrouter namespace and also setting MTU on the snat interface in snat
namespace.

[1] https://review.opendev.org/c/openstack/neutron/+/799226

Closes-bug: #1933273
Change-Id: I409bc674b65e4f495ebd42d03e97a09d51482339
(cherry picked from commit 21eabbcf03cb29be9899adbd6eaea207892cf07b)
"
openstack%2Fneutron~master~I6ded877b2b40929a4f4151a68a0de82ddfca0b71,openstack/neutron,master,bug/1946186,I6ded877b2b40929a4f4151a68a0de82ddfca0b71,"Revert ""[Fullstack] Mark TestHAL3Agent fip_qos test as unstable""",MERGED,2021-10-25 12:10:38.000000000,2021-11-09 16:15:09.000000000,2021-11-09 16:06:08.000000000,0,1,7,815235,bbdba95f408aeaf6603327883ff6795cc8d7a5ce,43,8,2,1,11975,Slawek Kaplonski,slaweq,"Revert ""[Fullstack] Mark TestHAL3Agent fip_qos test as unstable""

This reverts commit ec89cd23d18a6ec2324e36c62991f1f749d5637f.

Reason for revert: as https://review.opendev.org/c/openstack/neutron/+/813128
is merged we don't use DHCP agent in those L3 agent tests at all so
those tests should be stable now.

Change-Id: I6ded877b2b40929a4f4151a68a0de82ddfca0b71
Related-Bug: #1946186
"
openstack%2Fkuryr-kubernetes~master~I6499898a42a21337455a3d793b6ddbc71765437d,openstack/kuryr-kubernetes,master,speed-recover-precreated-ports,I6499898a42a21337455a3d793b6ddbc71765437d,Improve retrieval of Trunks info,MERGED,2021-11-02 19:28:01.000000000,2021-11-09 16:15:00.000000000,2021-11-09 16:06:20.000000000,12,12,0,816398,731d9b81d1da0d5b6f844b04acdba3e5936e028d,11,3,3,4,27032,Maysa de Macedo Souza,maysa,"Improve retrieval of Trunks info

Right now the in use Ports info is retrieved
by looking for the Pods and then for each
KuryrPort correponding to the specific Pod,
which can increase the time to recover precreated
Ports upon restart. This commit fixes the issue
by collecting all the KuryrPorts at once.

Depends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/816394
Change-Id: I6499898a42a21337455a3d793b6ddbc71765437d
"
openstack%2Fansible-collections-openstack~master~Id8eb73da64631e1f25b5febd8a9f6dbee9707476,openstack/ansible-collections-openstack,master,1.5.2,Id8eb73da64631e1f25b5febd8a9f6dbee9707476,Release 1.5.2 version,MERGED,2021-11-09 11:39:48.000000000,2021-11-09 16:13:02.000000000,2021-11-09 16:13:02.000000000,37,1,0,817194,b2f3cf3210868cc7b6ec5db38b5c50fe4468aa45,7,3,1,3,10969,Shnaidman Sagi (Sergey),sergsh,"Release 1.5.2 version

Change-Id: Id8eb73da64631e1f25b5febd8a9f6dbee9707476
"
openstack%2Fvalidations-common~master~Ic206e39f792b31d7f2adff89e4d38a2e8a656733,openstack/validations-common,master,howitzer,Ic206e39f792b31d7f2adff89e4d38a2e8a656733,Validation Framework functional test expansion,MERGED,2021-08-06 06:01:57.000000000,2021-11-09 16:04:40.000000000,2021-11-09 16:04:40.000000000,232,12,24,803695,7c2026616b0b440bd41ad14150508dad8c21f527,68,7,26,9,32926,Jiri Podivin,jpodivin,"Validation Framework functional test expansion

Issues present in the existing tests of the validation framework
runtime and CLI behavior were resolved. New tests were added to ensure
correct function of all of the most important commands, subcommands
and combinations of parameters.

* conflicting 'run_validations' variable was removed
* show command tests were enabled
* all test blocks are descriptively named
* tests for listing installed validations in various formats
* tests for running validations with parameters from a file
* tests for history display, both with and without limit
* tests for detailed validation information display
* tests for validation parameter display and download

Validation log fetch was modified to retrieve more data.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic206e39f792b31d7f2adff89e4d38a2e8a656733
"
openstack%2Ftripleo-ci~master~I10a500644e19e4fdd6364e4e27d7175672bd110a,openstack/tripleo-ci,master,,I10a500644e19e4fdd6364e4e27d7175672bd110a,Remove featureset 011 from the emit_releases conditional,MERGED,2021-11-09 07:27:30.000000000,2021-11-09 16:04:37.000000000,2021-11-09 16:04:37.000000000,1,1,0,817144,e6a036545aa0d3dd543562703b0f87f3267dacd2,10,7,1,1,8449,Marios Andreou,marios,"Remove featureset 011 from the emit_releases conditional

In [1] featureset 011 is moving to deprecated it has not been
used in a long time so we should also remove the relevant
conditional for using emit_releases.

[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/816858

Change-Id: I10a500644e19e4fdd6364e4e27d7175672bd110a
"
openstack%2Fcharm-deployment-guide~master~Ie4baf20f99141b104c579b3d5bc71dfd1ca5650c,openstack/charm-deployment-guide,master,fix-upgrade-steps,Ie4baf20f99141b104c579b3d5bc71dfd1ca5650c,Fix the step numbers in DB series upgrade.,ABANDONED,2021-11-09 10:26:20.000000000,2021-11-09 15:56:37.000000000,,1,1,0,817181,a456a480d00f70fa9aab0571083667521e0df8cc,3,1,1,1,12549,gnuoy,gnuoy,"Fix the step numbers in DB series upgrade.

Change-Id: Ie4baf20f99141b104c579b3d5bc71dfd1ca5650c
"
openstack%2Ftripleo-ansible~master~Id1d9c7922b347a41cde6e0d57213a23ee01a053e,openstack/tripleo-ansible,master,mtu2,Id1d9c7922b347a41cde6e0d57213a23ee01a053e,Fix ipv6 negative ping value,ABANDONED,2021-11-09 14:10:52.000000000,2021-11-09 15:47:26.000000000,,26,17,6,817220,a23f529aa8bc517870427c96fb95deb9092801e6,26,1,19,1,7130,David Hill,dhill,"Fix ipv6 negative ping value

Fix ipv6 negative ping value issue brought by MTU check failure to
determine br-ex MTU size.

Change-Id: Id1d9c7922b347a41cde6e0d57213a23ee01a053e
Closes-Bug: #1950323t
"
openstack%2Ftripleo-quickstart~master~I74086259576407936c5b08958463a161e95fb1e4,openstack/tripleo-quickstart,master,,I74086259576407936c5b08958463a161e95fb1e4,Remove no_log with conditions,MERGED,2021-11-09 07:39:46.000000000,2021-11-09 15:46:15.000000000,2021-11-09 15:36:08.000000000,0,3,1,817147,638311c15ff5bd67297b5dd0a412650984e866da,12,5,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Remove no_log with conditions

'no_log' with conditions never worked in Ansible, it's always
'true' now and doesn't allow investigations.
Change-Id: I74086259576407936c5b08958463a161e95fb1e4
"
openstack%2Freleases~master~I1cd4a0c3cf87f3fd8673d191db07519e4d365092,openstack/releases,master,manila,I1cd4a0c3cf87f3fd8673d191db07519e4d365092,[manila-ui] Release manila-ui 4.1.0,MERGED,2021-11-03 21:11:22.000000000,2021-11-09 15:44:25.000000000,2021-11-09 15:44:25.000000000,4,0,6,816581,e44922517358642c30d9021034b821a196ef73b0,17,5,3,1,29632,Carlos Eduardo,silvacarlos,"[manila-ui] Release manila-ui 4.1.0

This release includes some bugfixes and enhancements committed
against the stable/victoria branch.

Change-Id: I1cd4a0c3cf87f3fd8673d191db07519e4d365092
"
openstack%2Ftripleo-ansible~master~I9e56c512a563c4b04f398581e87846901fe021d6,openstack/tripleo-ansible,master,mtu,I9e56c512a563c4b04f398581e87846901fe021d6,Add the MTU size to ping to catch network issues,MERGED,2021-10-20 22:35:59.000000000,2021-11-09 15:42:06.000000000,2021-11-09 00:43:48.000000000,41,4,19,814832,c3e7f7d889eb9876d3a9ad19dac35cb4e618e676,70,4,26,2,7130,David Hill,dhill,"Add the MTU size to ping to catch network issues

Many times users hit this issue where nic templates set jumbo
frames properly but switches are not properly configured and this
situation creates random issues hard to troubleshoot ranging from
a CEPH cluster not forming to swift not syncing properly.  Adding
an early test for MTU sizes in the ansible playbooks should fail
early and put us on a path to early solve this issue instead of
spending a week or more trying to figure out why CEPH batch LVM
is not working.

Change-Id: I9e56c512a563c4b04f398581e87846901fe021d6
"
openstack%2Fansible-role-python_venv_build~stable%2Fussuri~I72fd009bf3084fd89545c228af4b1970ca3211c5,openstack/ansible-role-python_venv_build,stable/ussuri,,I72fd009bf3084fd89545c228af4b1970ca3211c5,Workaround distro provided pip having old CA certs on centos-7,MERGED,2021-11-02 10:43:03.000000000,2021-11-09 15:39:58.000000000,2021-11-09 15:34:11.000000000,20,0,0,816317,e7eb57e8b66c959cb46a13a54002d935c4d95b48,17,3,4,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Workaround distro provided pip having old CA certs on centos-7

Use the system trust store when upgrading versions of pip/setuptools/
wheel on centos-7

Change-Id: I72fd009bf3084fd89545c228af4b1970ca3211c5
"
openstack%2Fansible-role-python_venv_build~stable%2Fussuri~Idb484d22e2348b97eac76801308c2140e3b9428c,openstack/ansible-role-python_venv_build,stable/ussuri,,Idb484d22e2348b97eac76801308c2140e3b9428c,Set centos-7 jobs to non voting,MERGED,2021-11-02 10:42:21.000000000,2021-11-09 15:35:30.000000000,2021-11-09 15:13:01.000000000,8,2,0,816316,595c8c2443324cb62434c28ccd9542b7aeb10669,18,4,4,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Set centos-7 jobs to non voting

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/815631
Change-Id: Idb484d22e2348b97eac76801308c2140e3b9428c
"
openstack%2Fironic-python-agent~stable%2Fwallaby~Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc,openstack/ironic-python-agent,stable/wallaby,,Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc,Delete EFI boot entry duplicate labels first,MERGED,2021-11-08 14:19:10.000000000,2021-11-09 15:31:25.000000000,2021-11-09 15:09:06.000000000,51,24,0,817013,8fca1457399ac7892427fac1b9ab74a4ac653f05,8,2,1,3,11655,Julia Kreger,jkreger,"Delete EFI boot entry duplicate labels first

Some firmware seems to take an objection with EFI nvram
entries being deleted after one is added, resulting in the
entire entry table being reset to the last known good state.

This is problematic, as ultimately deployments can time out
if we previously booted with Networking, and the machine, while
commanded to do other wise, reboots back to networking regardless.

We will now delete entries first, before proceeding.

Additionally, for general use, this pattern may serve the
community better by avoiding cases where we would have
previously just relied upon efibootmgr[0] to warn us of duplicate
entries.

[0]: https://github.com/rhboot/efibootmgr/blob/103aa22ece98f09fe3ea2a0c83988f0ee2d0e5a8/src/efibootmgr.c#L228

Change-Id: Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc
Story: 2009649
Task: 43808
(cherry picked from commit 67eddfa7e3fedbb530045f5b43a2c89db832fa2a)
(cherry picked from commit 33b39705a50513c5af411216b48e2a6f6ac9ab14)
"
openstack%2Fironic~master~Ic84c04118b1a85b10a761fc58796827583a5b086,openstack/ironic,master,double-fail,Ic84c04118b1a85b10a761fc58796827583a5b086,Avoid handling a deploy failure twice,MERGED,2021-11-04 12:52:19.000000000,2021-11-09 15:30:35.000000000,2021-11-09 15:12:52.000000000,57,28,2,816684,4f08938043a3d708478e9e293e5985c48a7f5e06,17,3,1,3,10239,Dmitry Tantsur,dtantsur,"Avoid handling a deploy failure twice

In some cases we handle the same exception twice in a row: in agent_base
and in deployments.do_next_deploy_step. This change avoids it.

Also make deploy step error messages more uniform across the board.

Change-Id: Ic84c04118b1a85b10a761fc58796827583a5b086
"
openstack%2Fironic-python-agent~stable%2Fwallaby~I6a1bb78acaf5a4284727bdf533d4be6db2099f50,openstack/ironic-python-agent,stable/wallaby,,I6a1bb78acaf5a4284727bdf533d4be6db2099f50,Output verbose info from efibootmgr,MERGED,2021-11-08 14:19:10.000000000,2021-11-09 15:28:47.000000000,2021-11-09 15:09:03.000000000,22,22,0,817012,9753b61a51008da4f0b948b0c89665b762eb95c4,10,4,1,2,11655,Julia Kreger,jkreger,"Output verbose info from efibootmgr

When debugging boot manager problems it can be advantageous to
see all the full entries rather then just their labels.

Change-Id: I6a1bb78acaf5a4284727bdf533d4be6db2099f50
(cherry picked from commit caf695f70ab366498b46cb6f07f6751369c67e30)
"
openstack%2Ftripleo-common~master~I973dc924cfc5ba31aeb0ec19805c0f987a0221a0,openstack/tripleo-common,master,modules,I973dc924cfc5ba31aeb0ec19805c0f987a0221a0,[EL8] Add nodejs:14 module stream,MERGED,2021-11-08 15:59:38.000000000,2021-11-09 15:28:45.000000000,2021-11-09 15:08:52.000000000,1,0,0,817043,2b4dd668ec90149ad7b80f3500e5a397eb4b8be4,9,4,1,1,31581,Miguel Garcia,mgarciac,"[EL8] Add nodejs:14 module stream

nodejs is a dependency of novnc in EL8, so it gets installed in the
nova-novncproxy image. Not specifying a module stream means that the
install can default to an unsupported version of nodejs.

Explicitly enabling nodejs:14 prevents that.

The EL9 build of novnc does not require nodejs so this is not a concern
there.

Change-Id: I973dc924cfc5ba31aeb0ec19805c0f987a0221a0
"
openstack%2Fneutron~master~I2e3d389552aeb4f454b01fe69198d759c8b2a039,openstack/neutron,master,stateful-update-acl,I2e3d389552aeb4f454b01fe69198d759c8b2a039,Bump OVN version for functional job to 21.06,MERGED,2021-11-04 03:17:54.000000000,2021-11-09 15:23:09.000000000,2021-11-09 15:00:36.000000000,2,3,12,816614,753693d315a79c84eabd3fd21f2b6f3f5bcef23f,45,4,3,1,9656,Ihar Hrachyshka,ihrachys,"Bump OVN version for functional job to 21.06

This is needed to validate allow-stateless with the job.

Related-Bug: #1949451
Change-Id: I2e3d389552aeb4f454b01fe69198d759c8b2a039
"
openstack%2Freleases~master~I2b92c2d2d478552af26922aaf4a5976f8a0fa728,openstack/releases,master,manila,I2b92c2d2d478552af26922aaf4a5976f8a0fa728,[manila-ui] Release manila-ui 5.1.0,MERGED,2021-11-03 21:08:11.000000000,2021-11-09 15:22:59.000000000,2021-11-09 15:22:59.000000000,4,0,6,816579,5564a5cdb56776375bbed4916ff204b21f808776,17,4,3,1,29632,Carlos Eduardo,silvacarlos,"[manila-ui] Release manila-ui 5.1.0

This release includes several bugfixes and enhancements committed
against the stable/wallaby branch.

Change-Id: I2b92c2d2d478552af26922aaf4a5976f8a0fa728
"
openstack%2Freleases~master~Iaf54d7fd26b39b4e4400055ee09cfd38bfc922de,openstack/releases,master,release_osa,Iaf54d7fd26b39b4e4400055ee09cfd38bfc922de,Release OpenStack-Ansible Wallaby,MERGED,2021-11-09 07:45:24.000000000,2021-11-09 15:22:56.000000000,2021-11-09 15:22:56.000000000,4,0,1,817149,fb5b44c3845c200c72edd475327e2e3072b4bc70,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Release OpenStack-Ansible Wallaby

Change-Id: Iaf54d7fd26b39b4e4400055ee09cfd38bfc922de
"
openstack%2Freleases~master~I43d2523e72cded17c030ccfeac434f36e65c8540,openstack/releases,master,,I43d2523e72cded17c030ccfeac434f36e65c8540,[manila] Release manila 12.1.0,MERGED,2021-11-03 20:06:32.000000000,2021-11-09 15:22:53.000000000,2021-11-09 15:22:53.000000000,4,0,4,816554,078c033a23c4eb0480c7695080e09930d81ad33a,13,4,2,1,29632,Carlos Eduardo,silvacarlos,"[manila] Release manila 12.1.0

This release includes several bugfixes and enhancements committed
against the stable/wallaby branch.

Change-Id: I43d2523e72cded17c030ccfeac434f36e65c8540
"
openstack%2Fopenstack-helm-infra~master~I0990f5f7742f58ebdc52baaad96c6bc6a54747b6,openstack/openstack-helm-infra,master,,I0990f5f7742f58ebdc52baaad96c6bc6a54747b6,[WIP] Remove unnecessary client-ceph-config job,ABANDONED,2021-11-08 22:37:10.000000000,2021-11-09 15:16:19.000000000,,2,157,0,817119,0b83fc0f6ef844101d337ec621a285aaa407a4e0,6,1,4,6,22636,Cliff Parsons,cliffparsons,"[WIP] Remove unnecessary client-ceph-config job

This patch removes the client-ceph-config job which was intended to
update the ceph-client-etc configmap with the mon_host IP addresses
so that ceph pods would get the IP address configuration when they
startup. However, the strategy has changed to use a common Helm
toolkit method to do this from the startup script of the Ceph pods
which require to talk to Ceph monitors. So this job is no longer
needed.

The checkDNS deployment, however, is still needed, just in case
one of the Ceph monitor IP addresses change, the other pods will
be updated by the checkDNS pod within 5 minutes.

Change-Id: I0990f5f7742f58ebdc52baaad96c6bc6a54747b6
"
openstack%2Ftripleo-heat-templates~master~Icf39bbd3621423f350275d5183071987719622e1,openstack/tripleo-heat-templates,master,,Icf39bbd3621423f350275d5183071987719622e1,Change authentication method for Mellanox sdn controller,MERGED,2021-10-19 11:21:13.000000000,2021-11-09 14:53:54.000000000,2021-11-09 14:43:49.000000000,29,6,2,814555,d98009ae49c4fe9c5459b38842428bb81da8a94e,23,9,5,3,25241,waleed mousa,waleedm,"Change authentication method for Mellanox sdn controller

Change sdn authentication from basic(username,password) to token
authentication, deprecate MlnxSDNUsername and MlnxSDNPassword
and add a new parameter ""MlnxSDNToken"" to authenticate sdn controller

Depends-on: https://review.opendev.org/c/openstack/puppet-neutron/+/814554
Change-Id: Icf39bbd3621423f350275d5183071987719622e1
"
openstack%2Freleases~master~I88e844c7535a10198d3d9377f3e4b649e6fe3431,openstack/releases,master,release_osa,I88e844c7535a10198d3d9377f3e4b649e6fe3431,Release OpenStack-Ansible Victoria,MERGED,2021-11-09 07:44:24.000000000,2021-11-09 14:30:46.000000000,2021-11-09 14:30:46.000000000,4,0,1,817148,1639b44084e46dea3ce606de732f24f4e09f817d,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Release OpenStack-Ansible Victoria

Change-Id: I88e844c7535a10198d3d9377f3e4b649e6fe3431
"
openstack%2Fnova~master~Id96f1795034490c13125ebbab49b029fb96af1c7,openstack/nova,master,bug/1948963,Id96f1795034490c13125ebbab49b029fb96af1c7,Fix interference in db unit test,MERGED,2021-10-20 10:23:41.000000000,2021-11-09 14:22:19.000000000,2021-11-09 13:59:03.000000000,30,18,13,814735,a7bccff06b871765fb87ee3e9edd9458c7f73701,38,6,7,4,9708,Balazs Gibizer,gibi,"Fix interference in db unit test

We discovered that two unit test cases added in
I0647bb8545c1464b521a1d866cf5ee674aea2eae cause errors like
  oslo_db.sqlalchemy.enginefacade.AlreadyStartedError:
  this TransactionFactory is already started

when the db tests run selectively with tox -e py38 nova.tests.unit.db
but does not cause errors if the whole unit test suit is run.

This error happened because our db code uses two global transaction
factory, one for the api DB and one for the main DB. There was a global
flag SESSION_CONFIGURED in our Database fixture that guarded against
double initialization of the factory. But the faulty test cases in
question do not use our Database fixture but use the
OpportunisticDBTestMixin from oslo_db. Obviously that fixture does not
know about our SESSION_CONFIGURED global. So if one of the offending
test case ran first in an executor then that initialized the
transaction factory globally and a later test that uses our Database
fixture tried to configure it again leading to the error. For some
unknown reason if these tests were run in the opposite order the faulty
re-initialization did not happen. Probably the OpportunisticDBTestMixin
was able to prevent that.

A previous patch already removed the global SESSION_CONFIGURED flag
from our fixture and replaced it with a per DB specific patch_factory
calls that allow resetting the state of the factory at the end of each
test case. This would already solve the current test case issue as only
our offending test cases would initialize the global factory without
cleanup and we have one test case per DB. So there would be no
interference. However if in the future we add similar test cases then
those can still interfere through the global factory.

So this patch fixes the two offending test case. Also it extends the
DatabasePoisonFixture used for the NoDbTestCase tesst. The poison now
detects if the test case starts any transaction factory.

This poison caught another offender test case,
test_db_sync_with_special_symbols_in_connection_string, that was marked
NoDb but actually using the database. It is now changed to declare
itself as a test that sets up the DB manually and also it is changed to
use the Database fixture instead of touching the global factory
directly.

Closes-Bug: #1948963

Change-Id: Id96f1795034490c13125ebbab49b029fb96af1c7
"
openstack%2Fkuryr-kubernetes~master~Ifc00f5d1201a5eef36d4dcd44d815b9fe085d15d,openstack/kuryr-kubernetes,master,release-vlan,Ifc00f5d1201a5eef36d4dcd44d815b9fe085d15d,Release VLAN ids of subports,NEW,2021-10-27 07:26:39.000000000,2021-11-09 14:22:16.000000000,,59,28,3,815600,046c6dd3a3739ae5d640e504c279c28e85e0ae7f,6,2,3,7,27032,Maysa de Macedo Souza,maysa,"Release VLAN ids of subports

When attempting to delete a Port that is still
connected to a Trunk, the Port is detatched and
deleted, but the vlan id is never released. This
commit makes sure to free them upon Port detachment
from Trunk.

Change-Id: Ifc00f5d1201a5eef36d4dcd44d815b9fe085d15d
"
openstack%2Fdevstack~master~Id827274b7c74cdf71db6d1f2ab3eadb5fef099f5,openstack/devstack,master,bug/1692128,Id827274b7c74cdf71db6d1f2ab3eadb5fef099f5,neutron-legacy: Remove no longer necessary vpnaas conditional,MERGED,2017-10-17 04:00:27.000000000,2021-11-09 14:13:37.000000000,2021-11-09 13:59:10.000000000,1,5,1,512473,6839d42819c8349d8f1e72a58037198c97baca06,11,5,1,1,6854,YAMAMOTO Takashi,yamamoto,"neutron-legacy: Remove no longer necessary vpnaas conditional

VPNaaS agent is going to be an L3 agent extention.

Related-Bug: #1692128
Depends-On: I0b86c432e4b2210e5f2a73a7e3ba16d10467f0f2
Change-Id: Id827274b7c74cdf71db6d1f2ab3eadb5fef099f5
"
openstack%2Fnova~master~Ic58e93d6aafb88be4abeb6e52089f7ee43d8db01,openstack/nova,master,bug/1948963,Ic58e93d6aafb88be4abeb6e52089f7ee43d8db01,Refactor Database fixture,MERGED,2021-10-27 14:58:17.000000000,2021-11-09 14:13:36.000000000,2021-11-09 13:58:38.000000000,39,38,23,815690,c7ccbfe403f100b5cb420fb12ac6244c4a7ae381,28,5,3,2,9708,Balazs Gibizer,gibi,"Refactor Database fixture

This patch apply the following changes to the fixture to make the
intention clearer and remove some unnecessary complexity:

* the fixture does a lot of dynamic thing in its __init__, these are
  moved to setUp() instead to facilitate proper reset functionality of
  the fixture

* the caching and applying of the DB schema is made a explicit and
  moved to setUp() too

* the explicit reset() function is removed as it is probably
  unintentionally overwrote the Fixture.reset(). Now the Fixture can be
  properly reset by calling the Fixture.reset() which is by default
  implemented by calling cleanUp() and setUp()

Change-Id: Ic58e93d6aafb88be4abeb6e52089f7ee43d8db01
"
openstack%2Fnova~master~Icd25adcc931cae2126e03c00af7e4420d3781b9a,openstack/nova,master,bug/1948963,Icd25adcc931cae2126e03c00af7e4420d3781b9a,Use ReplaceEngineFacade fixture,MERGED,2021-11-05 10:50:54.000000000,2021-11-09 13:58:49.000000000,2021-11-09 13:58:49.000000000,13,9,0,816820,063ed41174c27c20871696f7c6dcb1eddb4310ee,11,3,1,1,9708,Balazs Gibizer,gibi,"Use ReplaceEngineFacade fixture

Now that the previous patch Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e moved
most of the logic to the setUp of the Database fixture we can replace
our direct factory patching with the ReplaceEngineFacade fixture from
oslo_db.

Change-Id: Icd25adcc931cae2126e03c00af7e4420d3781b9a
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I792f453d4f84c3b572fe98929676b624675c0aee,openstack/tripleo-heat-templates,stable/wallaby,,I792f453d4f84c3b572fe98929676b624675c0aee,Fix artifact module usage,MERGED,2021-11-08 05:59:19.000000000,2021-11-09 13:56:06.000000000,2021-11-09 13:56:06.000000000,2,2,1,816950,2d68ab43c7a1c6dc49046d5f29ed3645c17ef4d4,11,5,1,1,25241,waleed mousa,waleedm,"Fix artifact module usage

This change updates the artifact module usage to leverage
our action plugin. Without this change any usage of deployed
artifacts is broken.

> ""Unsupported parameters for (tripleo_deploy_artifacts)
  module: artifact_paths Supported parameters include:
  artifact_urls""

This change resolves the above error.

Change-Id: I792f453d4f84c3b572fe98929676b624675c0aee
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 127a8945f65253f114a58a1e0270e8a833b00134)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I05c894b2fbd0795dd38b937a82e238b85235d6c3,openstack/tripleo-ansible,stable/wallaby,cephadm/slurp-cert-stable/wallaby,I05c894b2fbd0795dd38b937a82e238b85235d6c3,Ensure we mount the certificates in container,MERGED,2021-11-06 22:26:42.000000000,2021-11-09 13:56:00.000000000,2021-11-09 13:56:00.000000000,1,0,2,816881,62ced715bd6f97bf2eace2d0b23406bd6dfd3341,14,6,1,1,25402,Francesco Pantano,fmount,"Ensure we mount the certificates in container

We must ensure we actually mount the certificates in ceph boostrap
container when we have TLS involved.

Change-Id: I05c894b2fbd0795dd38b937a82e238b85235d6c3
(cherry picked from commit 55b47ddc36af0df635a78b29026368c4cc489083)
"
openstack%2Fopenstack-ansible-os_tempest~stable%2Fussuri~Ifba6836d824e7e6b956a81271d95d6dabe6c4163,openstack/openstack-ansible-os_tempest,stable/ussuri,815631,Ifba6836d824e7e6b956a81271d95d6dabe6c4163,Pin neutron-tempest-plugin to v1.6.0,MERGED,2021-10-27 12:22:44.000000000,2021-11-09 13:32:35.000000000,2021-11-09 13:22:30.000000000,17,5,2,815631,a6498e4a1184164746f358b6a72bcccb505458c9,18,3,4,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Pin neutron-tempest-plugin to v1.6.0

Later versions of the neutron tempest plugin depend on a
more recent version of tempest than is used by the OSA
wallaby release and earlier stable releases. Later versions
of this plugin require the
'qos_limit_bandwidth_rules_client' component.

Change-Id: Ifba6836d824e7e6b956a81271d95d6dabe6c4163
(cherry picked from commit bd399b80e9de12452f1bee620bc60a69c142bf40)
(cherry picked from commit 06add17f32a65904b9f075dbd808f02b7eb6f9e5)
"
openstack%2Fnova~master~Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e,openstack/nova,master,bug/1948963,Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e,Remove SESSION_CONFIGURED global from DB fixture,MERGED,2021-10-27 14:56:58.000000000,2021-11-09 13:28:25.000000000,2021-11-09 13:21:09.000000000,17,9,14,815689,f318f822fcf6dec4c3cd9b7e5111f3e1371aa51a,24,5,2,1,9708,Balazs Gibizer,gibi,"Remove SESSION_CONFIGURED global from DB fixture

The SESSION_CONFIGURED global flag is used in the Database fixture to
guard against the reconfiguration of the DB context in each test as the
global transaction factory does not allow such reconfiguration. However
this global is error prone for multiple reasons:

 * there are tests that actually configure the factory outside of the
   fixture causing tests to interfere

 * we use one single global flag but we always have two separate
   Database fixture one for the api DB and one for the main DB. Still
   the fixture instantiated first will do the configuration of both
   DB factory.

This patch replaces the global with two individual oslo_db enginefacade
patch_factory() calls that allows patching and resetting the global
factory per test case.

Change-Id: Ifc070d19a18a2d66f1a7bd5898428b12901dfe9e
"
openstack%2Ftripleo-quickstart-extras~master~I495aaf577b1f6223375b018c1c62780631416835,openstack/tripleo-quickstart-extras,master,remove_useless_pip_upgrade,I495aaf577b1f6223375b018c1c62780631416835,Remove useless pip upgrade.,ABANDONED,2019-04-29 09:17:48.000000000,2021-11-09 13:24:14.000000000,,0,2,1,656269,57f7c4ec5aee0519bc1f2fcff99858b1897f8ace,37,9,5,1,29222,Natal NgÃ©tal,hobbestigrou,"Remove useless pip upgrade.

This command is already run by the install-deps.sh script.

Change-Id: I495aaf577b1f6223375b018c1c62780631416835
"
openstack%2Ftripleo-quickstart-extras~master~If0e190344fe8f1375d8b2c1f4aa8ccd54811f16d,openstack/tripleo-quickstart-extras,master,restore_ignore_errors_tempest_results,If0e190344fe8f1375d8b2c1f4aa8ccd54811f16d,Restore ignore_errors for tempest-results tasks,ABANDONED,2019-08-13 13:54:40.000000000,2021-11-09 13:23:45.000000000,,2,1,2,676196,46a1501afcea12462d4971b4e14a3558645e8f34,23,9,3,1,1918,FranÃ§ois Charlier,francois-charlier,"Restore ignore_errors for tempest-results tasks

Change I9c7f97f3aa97c0ea061ba6aeb125501bf3a1adbf removed (by mistake
apparently) the 'ignore_errors: true' statement for the tasks block
generating the tempest results.

Change-Id: If0e190344fe8f1375d8b2c1f4aa8ccd54811f16d
"
openstack%2Fdib-utils~master~Idb24aedfdfcff997a5353572341e05a10224f4c9,openstack/dib-utils,master,,Idb24aedfdfcff997a5353572341e05a10224f4c9,Fix author-email in setup.cfg,ABANDONED,2019-01-22 08:42:31.000000000,2021-11-09 13:22:05.000000000,,1,1,0,632311,484423f32a04083f4469cd9ef9202ae8b5e28f67,4,2,1,1,29423,zhouxinyong,zhouxinyong,"Fix author-email in setup.cfg

Change-Id: Idb24aedfdfcff997a5353572341e05a10224f4c9
"
openstack%2Fdib-utils~master~I63268a32303080288fb0ae2648f908722763ca39,openstack/dib-utils,master,,I63268a32303080288fb0ae2648f908722763ca39,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-05 14:54:26.000000000,2021-11-09 13:21:53.000000000,,1,1,0,622986,e88c3be48f254df7be9524615337b71f719d6496,5,3,1,1,28935,98k,98k,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I63268a32303080288fb0ae2648f908722763ca39
"
openstack%2Fmonasca-agent~master~I685c408cfacdc9275e988aa1f5119b5e96b4aa0c,openstack/monasca-agent,master,fix-oslo-vmware,I685c408cfacdc9275e988aa1f5119b5e96b4aa0c,[WIP] Comment oslo-vmware library,ABANDONED,2021-10-12 18:58:05.000000000,2021-11-09 13:18:11.000000000,,1,1,0,813692,ff0234bbd970bcb4c4194a308ac168362bd13c03,3,1,1,1,26141,Adrian Czarnecki,czarneckia,"[WIP] Comment oslo-vmware library

Change-Id: I685c408cfacdc9275e988aa1f5119b5e96b4aa0c
"
openstack%2Fos-net-config~master~I29e899b50d8a51432de8dc35382940293ce4d037,openstack/os-net-config,master,,I29e899b50d8a51432de8dc35382940293ce4d037,Change the pkey_id type from string to int,MERGED,2021-10-19 11:26:38.000000000,2021-11-09 12:35:15.000000000,2021-11-09 12:31:03.000000000,17,28,10,814556,78089ca531a31be5de422abf4cb0172b47f15c16,20,8,2,6,25241,waleed mousa,waleedm,"Change the pkey_id type from string to int

Change-Id: I29e899b50d8a51432de8dc35382940293ce4d037
"
openstack%2Ftripleo-heat-templates~master~I01bdd04fd7643672b45415271be5c9c63ad498e2,openstack/tripleo-heat-templates,master,simplify_tht,I01bdd04fd7643672b45415271be5c9c63ad498e2,Fix logic related to CinderEtcdLocalConnect parameter,MERGED,2021-11-08 22:07:38.000000000,2021-11-09 12:31:06.000000000,2021-11-09 12:31:06.000000000,1,1,0,817113,8cb2fd898c3a275a319fb590ec4b3557bb7ef1b8,8,4,1,1,21129,Alan Bishop,ASBishop,"Fix logic related to CinderEtcdLocalConnect parameter

I0ffb201c7c0a453a022cca45255afc7ab2c08046 simplified a number of
cinder's templates, but the logic related to CinderEtcdLocalConnect
was inadvertently inverted. This patch fixes the logic so that the
associated config data is generated when CinderEtcdLocalConnect is
True.

Change-Id: I01bdd04fd7643672b45415271be5c9c63ad498e2
"
openstack%2Fironic-python-agent~bugfix%2F8.1~If5da3075e813ae01df3decf8f0647aba111b0515,openstack/ironic-python-agent,bugfix/8.1,,If5da3075e813ae01df3decf8f0647aba111b0515,Re-read the partition table with partx -a,MERGED,2021-11-09 07:49:38.000000000,2021-11-09 12:23:38.000000000,2021-11-09 12:18:49.000000000,21,16,0,817151,56fa7c9651386120eb63d65f3714625363deab1a,7,2,1,3,11292,Arne Wiebalck,wiebalck,"Re-read the partition table with partx -a

Re-read the partition table with 'partx -a', rather than 'partx -u'.

This should fix an timing issue where the bootloader installation
fails to mount the EFI partition from a whole disk image since it
is not yet aware of the new partitions (observed with both, the
iscsi and the direct deploy interface).

Change-Id: If5da3075e813ae01df3decf8f0647aba111b0515
(cherry picked from commit dc8c1f16f9a00e2bff21612d1a9cf0ea0f3addf0)
"
openstack%2Fironic-python-agent~stable%2Fwallaby~If5da3075e813ae01df3decf8f0647aba111b0515,openstack/ironic-python-agent,stable/wallaby,,If5da3075e813ae01df3decf8f0647aba111b0515,Re-read the partition table with partx -a,MERGED,2021-11-09 07:32:40.000000000,2021-11-09 12:08:16.000000000,2021-11-09 11:59:56.000000000,20,15,0,817145,ab3e8a75badf2719602b2416af9e3c19d7511c79,7,2,1,3,11292,Arne Wiebalck,wiebalck,"Re-read the partition table with partx -a

Re-read the partition table with 'partx -a', rather than 'partx -u'.

This should fix an timing issue where the bootloader installation
fails to mount the EFI partition from a whole disk image since it
is not yet aware of the new partitions (observed with both, the
iscsi and the direct deploy interface).

Change-Id: If5da3075e813ae01df3decf8f0647aba111b0515
(cherry picked from commit dc8c1f16f9a00e2bff21612d1a9cf0ea0f3addf0)
"
openstack%2Fironic-python-agent~stable%2Fxena~If5da3075e813ae01df3decf8f0647aba111b0515,openstack/ironic-python-agent,stable/xena,,If5da3075e813ae01df3decf8f0647aba111b0515,Re-read the partition table with partx -a,MERGED,2021-11-09 07:25:13.000000000,2021-11-09 12:08:15.000000000,2021-11-09 11:59:53.000000000,22,17,0,817143,8c88a400426a17f2c7b8a3b1b4cf951b18418b0d,7,2,1,3,11292,Arne Wiebalck,wiebalck,"Re-read the partition table with partx -a

Re-read the partition table with 'partx -a', rather than 'partx -u'.

This should fix an timing issue where the bootloader installation
fails to mount the EFI partition from a whole disk image since it
is not yet aware of the new partitions (observed with both, the
iscsi and the direct deploy interface).

Change-Id: If5da3075e813ae01df3decf8f0647aba111b0515
(cherry picked from commit dc8c1f16f9a00e2bff21612d1a9cf0ea0f3addf0)
"
openstack%2Fkolla~stable%2Fxena~I0954bcc8ee42b15420fe1cd54aac96cb0c0c7e0d,openstack/kolla,stable/xena,,I0954bcc8ee42b15420fe1cd54aac96cb0c0c7e0d,Debian: we want Openvswitch and ovn from backports,MERGED,2021-11-04 14:18:12.000000000,2021-11-09 11:54:33.000000000,2021-11-09 11:49:58.000000000,10,0,0,816657,65346400da4691b03d6191b7cdf2743e86062cfc,9,3,1,1,24072,Marcin Juszkiewicz,hrw,"Debian: we want Openvswitch and ovn from backports

Those packages are in exactly same versions in bullseye-xena-backports
and in bullseye-backports. So we have to choose one source to keep
builds running otherwise they report downgrading of packages.

Change-Id: I0954bcc8ee42b15420fe1cd54aac96cb0c0c7e0d
(cherry picked from commit a26f4e3ec68d135112d60a08100289598ddebe61)
"
openstack%2Fos-net-config~stable%2Ftrain~Ic6738de42b9aa0346f48060c143c5f779b67867e,openstack/os-net-config,stable/train,sriov_patches_train,Ic6738de42b9aa0346f48060c143c5f779b67867e,Update sriov config service to handle nic partitioned PF,MERGED,2021-10-18 13:16:38.000000000,2021-11-09 11:45:50.000000000,2021-11-09 11:36:14.000000000,231,2,3,814426,62d4b0f2ace77d29d616a318b54ba5b697ac68c2,23,4,5,4,33688,Vijayalakshmi,VijiC,"Update sriov config service to handle nic partitioned PF

Create VFs using udev rules are required for attaching
and removing PF from a VM. On a reboot, when udev rules
trigger VF creation script and when a VF is attached to
vfio-pci driver, some of the VFs on that PF are not
initialized properly, resulting in VF not found issue.
Though it looks like driver issue, this patch avoids
this scenarios by removing the nic-paritioned VF from
the udev rule, as when one of the VF is attached to host,
the PF cannot be used by the VM.

The function setUp_pf_stubs() was added in the vdpa patch:
    https://review.opendev.org/c/openstack/os-net-config/+/798926/
Since there is a dependency on this API for the tests of this patch,
it has been added here

Change-Id: Ic6738de42b9aa0346f48060c143c5f779b67867e
"
openstack%2Fnova~stable%2Fvictoria~I4eb9a3fbd864670ae17b415dd82055a5a3a13e89,openstack/nova,stable/victoria,cirros-0.5.2,I4eb9a3fbd864670ae17b415dd82055a5a3a13e89,[stable-only]Bump cirros to 0.5.2 for live migration,ABANDONED,2021-11-09 09:47:21.000000000,2021-11-09 11:40:46.000000000,,2,0,1,817173,4325b2c367fab7549316563904fdcabcd3bf4d13,5,2,1,1,9708,Balazs Gibizer,gibi,"[stable-only]Bump cirros to 0.5.2 for live migration

Let see if this reduces the kernel panics in the live migration jobs.
The stable/wallaby, xena and master seems to be not affected by the
recent surge of kernel panics and those branches uses cirros 0.5.2 since
I12e0bdb3699e5343592ab834468ba6b2fcdcaaf4

Change-Id: I4eb9a3fbd864670ae17b415dd82055a5a3a13e89
"
openstack%2Fcharm-nova-cloud-controller~master~Iaa1c7b78dee498e0cc6dc6fccf12e74f22225ecd,openstack/charm-nova-cloud-controller,master,,Iaa1c7b78dee498e0cc6dc6fccf12e74f22225ecd,Fix SQLite locking issue on unit tests,MERGED,2021-11-03 13:59:25.000000000,2021-11-09 11:33:30.000000000,2021-11-09 11:33:30.000000000,64,0,8,816510,36ef217bc620bebe4475dbb1453d3c82ac5b9d73,20,4,2,5,20870,Alex Kavanagh,ajkavanagh,"Fix SQLite locking issue on unit tests

stestr runs tests in parallel and this can cause issues with locking
when SQLite is not mocked out properly and gets used in a test.  This
patch just switches Storage to use :memory: so that locking does not
occur.

Closes-Bug: #1908282
Change-Id: Iaa1c7b78dee498e0cc6dc6fccf12e74f22225ecd
"
openstack%2Ftempest~master~I666fd8733cc19d5b56bb0794235e2db4fc8d8a8a,openstack/tempest,master,,I666fd8733cc19d5b56bb0794235e2db4fc8d8a8a,DNM zuul: Enable virt-preview repo for centos 8 stream job,ABANDONED,2021-08-10 09:33:10.000000000,2021-11-09 10:57:38.000000000,,4,0,0,804055,faf856c854fb45fc05047b218708fb646e5895ff,6,2,3,1,10135,Lee Yarwood,lyarwood,"DNM zuul: Enable virt-preview repo for centos 8 stream job

Depends-On: https://review.opendev.org/c/openstack/devstack/+/804054
Change-Id: I666fd8733cc19d5b56bb0794235e2db4fc8d8a8a
"
openstack%2Fdevstack~master~I7e76f1eda2c21bd1dee5e4a025825d56bad47f17,openstack/devstack,master,,I7e76f1eda2c21bd1dee5e4a025825d56bad47f17,WIP libvirt: virt preview repo now support CentOS 8 stream,ABANDONED,2021-08-10 09:32:07.000000000,2021-11-09 10:57:36.000000000,,2,2,0,804054,8fe9fe34bf284e44f9332ee758a291c5f67e6635,3,1,1,1,10135,Lee Yarwood,lyarwood,"WIP libvirt: virt preview repo now support CentOS 8 stream

Change-Id: I7e76f1eda2c21bd1dee5e4a025825d56bad47f17
"
openstack%2Fnova-specs~master~Ief20a8651df2fd14a788e225a098a2bf5470745f,openstack/nova-specs,master,,Ief20a8651df2fd14a788e225a098a2bf5470745f,Add connection_info to responses of the os-volume_attachments API for admins,ABANDONED,2021-07-07 15:22:31.000000000,2021-11-09 10:57:32.000000000,,271,0,8,799850,6d8afb0545c59c5d7109e4346c7e23dd83d73d7c,13,2,2,1,10135,Lee Yarwood,lyarwood,"Add connection_info to responses of the os-volume_attachments API for admins

Blueprint: add-connection-info-to-responses-of-the-os-volume-attachments-api-for-admins
Change-Id: Ief20a8651df2fd14a788e225a098a2bf5470745f
"
openstack%2Fnova~master~I9ae8968a2c3e326f6ebd88ec417667bd9667ad45,openstack/nova,master,,I9ae8968a2c3e326f6ebd88ec417667bd9667ad45,libvirt: fup docs and typing for _hard_reboot flow,ABANDONED,2021-06-07 10:07:39.000000000,2021-11-09 10:57:30.000000000,,165,41,18,795081,ce79f479e6ef915a0dd2850de42c7801e4964813,27,2,3,2,10135,Lee Yarwood,lyarwood,"libvirt: fup docs and typing for _hard_reboot flow

This includes a small change to the default return of a dictionary
.get() as part of a connection_info device_path lookup within
_attach_encryptor that causes mypy to fail.

Change-Id: I9ae8968a2c3e326f6ebd88ec417667bd9667ad45
"
openstack%2Fnova~master~If16d288ccc31a50581f66954f0951c17c2b52670,openstack/nova,master,,If16d288ccc31a50581f66954f0951c17c2b52670,zuul: Create and use nova-libvirt-irrelevant-files,ABANDONED,2021-03-05 13:09:00.000000000,2021-11-09 10:57:27.000000000,,13,13,13,778909,9db28deb2c5a9b2950d5666854269e1590b3cbdb,29,2,6,1,10135,Lee Yarwood,lyarwood,"zuul: Create and use nova-libvirt-irrelevant-files

Previously the nova-lvm job was the only job to limit runs to libvirt
driver changes when in reality others such as nova-ceph-multistore
should also be limited.

Change-Id: If16d288ccc31a50581f66954f0951c17c2b52670
"
openstack%2Fnova~master~I53166529fb281d96f8614333027b446da8b90297,openstack/nova,master,,I53166529fb281d96f8614333027b446da8b90297,zuul: Add evacuation migration record assertions to run-evacuate-hook,ABANDONED,2021-04-09 10:55:57.000000000,2021-11-09 10:57:25.000000000,,85,19,0,785618,603022ebd40d7e936010e51be9be1056ceaa9e84,11,1,2,4,10135,Lee Yarwood,lyarwood,"zuul: Add evacuation migration record assertions to run-evacuate-hook

This change starts to assert the state of evacuation migration records
during the evacuation test. Ensuring these records are marked as done
after a successful evacuation and then completed once the original
source compute host has restarted.

Additionally the use of novaclient is replaced with osc throughout the
role as we can now use --block-device to create bfv instances, evacuate
instances with osc etc.

Change-Id: I53166529fb281d96f8614333027b446da8b90297
"
openstack%2Ftempest~master~I72e68a5dfbef569bb5a039cc5c2052175d05378b,openstack/tempest,master,bug/1908269,I72e68a5dfbef569bb5a039cc5c2052175d05378b,compute: Wait for volume snapshots when creating image from server,ABANDONED,2020-12-15 14:42:28.000000000,2021-11-09 10:57:22.000000000,,51,0,0,767165,54b4720762e2f358149bde56700c23b67bff28e3,8,3,1,2,10135,Lee Yarwood,lyarwood,"compute: Wait for volume snapshots when creating image from server

When Nova is asked to create an instance snapshot of an instance booting
from a volume using the imageCreate API it will make a request to Cinder
to snapshot the underlying volume. This request is asynchronus and
returns to Nova before the volume snapshot becomes available.

This can easily race other volume operations if callers did not wait for
the volume snapshot to become `available` and overall state of the
volume to return to `in-use`.

Bug #1908269 outlines an example of this race where
AttachVolumeMultiAttachTest.test_snapshot_volume_backed_multiattach
attempts to delete the overall volume while the earlier request to
snapshot the volume was still in progress leading to a failure.

This change simply introduces the use of the
wait_for_volume_resource_status waiter into the create_image_from_server
utility method when a volume snapshot is identified in the snapshot
image metadata for the instance. This should result in the volume
snapshot reaching `available` and volume returning to `in-use` before
the test attempts to cleanup both the instance and volume.

Closes-Bug: #1908269
Change-Id: I72e68a5dfbef569bb5a039cc5c2052175d05378b
"
openstack%2Fnova~master~I185c691d0b2a900e216b1a8b5921521fed2d5d53,openstack/nova,master,,I185c691d0b2a900e216b1a8b5921521fed2d5d53,docs: Update the architecture diagram,ABANDONED,2021-03-25 11:46:37.000000000,2021-11-09 10:57:15.000000000,,248,1155,0,782979,fd2d058be24f7713b236f05f4309726beca1e481,7,2,1,2,10135,Lee Yarwood,lyarwood,"docs: Update the architecture diagram

- Removes the nova-network diagram
- Adds a user and adds their interaction with keystone and n-api
- Separates the Cinder service from Glance.
- oslo.messaging communication now shown as by-directional

Change-Id: I185c691d0b2a900e216b1a8b5921521fed2d5d53
"
openstack%2Fdevstack-plugin-nfs~master~I4cdd2769520b3de94c46dc6f16e54012640d7bc5,openstack/devstack-plugin-nfs,master,bug/1860913,I4cdd2769520b3de94c46dc6f16e54012640d7bc5,zuul: Add devstack-plugin-nfs-tempest-slow to exercise more scenario tests,ABANDONED,2020-04-23 11:02:13.000000000,2021-11-09 10:57:12.000000000,,23,0,0,722276,03f2ebd351462ffc272a2b23bca5d64b486494ea,18,1,2,1,10135,Lee Yarwood,lyarwood,"zuul: Add devstack-plugin-nfs-tempest-slow to exercise more scenario tests

Change-Id: I4cdd2769520b3de94c46dc6f16e54012640d7bc5
"
openstack%2Ftempest~master~Ide5b117f1c09640d01fe7db3d88c145d1942a188,openstack/tempest,master,test_live_migration_refactor,Ide5b117f1c09640d01fe7db3d88c145d1942a188,test_live_migration: Remove block_migrate_cinder_iscsi skip,ABANDONED,2020-02-26 14:03:06.000000000,2021-11-09 10:56:19.000000000,,0,3,1,710041,b1ac8e38f9373e26421711591238f3af25e4fe9b,14,1,4,1,10135,Lee Yarwood,lyarwood,"test_live_migration: Remove block_migrate_cinder_iscsi skip

This configurable was used to ensure at least Libvirt 1.2.17 was
available to ensure live migration of an instance with attached volumes
could succeed.

This is no longer required as all supported stable and extended
maintenance branches are currently using Libvirt 2.5.0 or greater.

Change-Id: Ide5b117f1c09640d01fe7db3d88c145d1942a188
"
openstack%2Ftempest~master~I1cdd232e499aaf838f88841ca8fb73c225be127d,openstack/tempest,master,test_live_migration_refactor,I1cdd232e499aaf838f88841ca8fb73c225be127d,test_live_migration: Remove block_migration_for_live_migration skip,ABANDONED,2020-02-26 14:03:06.000000000,2021-11-09 10:56:17.000000000,,0,3,0,710040,396b0820e834a140be7f0cf4fb54bf51660ec18a,16,1,4,1,10135,Lee Yarwood,lyarwood,"test_live_migration: Remove block_migration_for_live_migration skip

No tests should be skipped based on this configurable. Instead the value
of this configurable is used _migrate_server_to to determine if the
request to live migrate the instance should enable block migration.

Change-Id: I1cdd232e499aaf838f88841ca8fb73c225be127d
"
openstack%2Ftempest~master~I3bb134fc1dea9fbddd07ee56596a19630f7f458e,openstack/tempest,master,test_live_migration_refactor,I3bb134fc1dea9fbddd07ee56596a19630f7f458e,test_live_migration: Remove volume_backed_live_migration skip,ABANDONED,2020-02-26 14:03:06.000000000,2021-11-09 10:56:15.000000000,,0,3,0,710043,e2c3976690bdddfb9086a8c1531adac855106046,14,2,4,1,10135,Lee Yarwood,lyarwood,"test_live_migration: Remove volume_backed_live_migration skip

This configurable was never actually wired up in the Nova live migration
job under Id9c62fdb24cd09bafd5ffca2cc6ff4cf69685f87.

Change-Id: I3bb134fc1dea9fbddd07ee56596a19630f7f458e
"
openstack%2Ftempest~master~Ifacbfc4086c1a3ea664e6127b9d538484dec6e74,openstack/tempest,master,test_live_migration_refactor,Ifacbfc4086c1a3ea664e6127b9d538484dec6e74,test_live_migration: Move _test_live_migration into LiveMigrationTestBase,ABANDONED,2020-02-26 14:03:06.000000000,2021-11-09 10:56:13.000000000,,5,5,0,710042,f52c9b2d769e7b95eb500a8a9d34aaf5775e6fff,11,1,4,1,10135,Lee Yarwood,lyarwood,"test_live_migration: Move _test_live_migration into LiveMigrationTestBase

While the LiveMigrationTest class was the only caller to this helper
method it makes the actual tests clearer by moving the method up into
LiveMigrationTestBase.

Change-Id: Ifacbfc4086c1a3ea664e6127b9d538484dec6e74
"
openstack%2Ftempest~master~I34b365d23c70eb5f7b4695a32d7cf4efd6a152ae,openstack/tempest,master,bug/1889687,I34b365d23c70eb5f7b4695a32d7cf4efd6a152ae,config: Introduce [compute-feature-enabled]/cross_az_attach,ABANDONED,2020-07-30 19:47:31.000000000,2021-11-09 10:55:38.000000000,,15,0,1,744039,464ef9af21218bc9e3f6736a520a816d26abd83a,5,3,1,2,10135,Lee Yarwood,lyarwood,"config: Introduce [compute-feature-enabled]/cross_az_attach

This is required in addition to the existing
[compute]/compute_volume_common_az option as certain tests need to be
skipped entirely when the underlying env has [cinder]/cross_az_attach
disabled.

Related-Bug: #1889687
Change-Id: I34b365d23c70eb5f7b4695a32d7cf4efd6a152ae
"
openstack%2Fos-brick~master~I511ada7deaa6175e24931af1e450e49083d9adc7,openstack/os-brick,master,drop_classpath_encryptors,I511ada7deaa6175e24931af1e450e49083d9adc7,encryptors: Drop support for the legacy classpath providers,ABANDONED,2019-04-09 19:17:34.000000000,2021-11-09 10:55:35.000000000,,34,125,2,651358,13bcea410b136ac99d1950f12ed264ac1c0b847a,36,20,3,4,10135,Lee Yarwood,lyarwood,"encryptors: Drop support for the legacy classpath providers

This cleans up support for classpath providers that were deprecated in
the Ocata release cycle.

Depends-on: https://review.opendev.org/743833
Depends-on: https://review.opendev.org/743834

Change-Id: I511ada7deaa6175e24931af1e450e49083d9adc7
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fnova~master~Ib0d9dd843c0691e44b46ab6eedc6627a2b8b9239,openstack/nova,master,bug/1524898,Ib0d9dd843c0691e44b46ab6eedc6627a2b8b9239,WIP libvirt: Reintroduce volume based LM tests,ABANDONED,2018-01-21 11:38:53.000000000,2021-11-09 10:55:32.000000000,,3,4,0,536105,458321c8a52713f349af58414f8f6521801416e9,19,9,2,1,10135,Lee Yarwood,lyarwood,"WIP libvirt: Reintroduce volume based LM tests

Change-Id: Ib0d9dd843c0691e44b46ab6eedc6627a2b8b9239
Closes-Bug: #1524898
"
openstack%2Fnova~master~I77e02ea3c3e35cfbe4f4e45a8e88f7fff38a5f6c,openstack/nova,master,,I77e02ea3c3e35cfbe4f4e45a8e88f7fff38a5f6c,libvirt: FUP I41b7c1653c6a887ee4b08e588c5d422409aebfba,ABANDONED,2020-03-04 16:04:46.000000000,2021-11-09 10:55:09.000000000,,8,8,0,711262,77bee2f5c3a9d2d0bd9a571e67d68bdcf1c0f9dc,16,7,2,1,10135,Lee Yarwood,lyarwood,"libvirt: FUP I41b7c1653c6a887ee4b08e588c5d422409aebfba

Trivial test case renames and comment updates.

Change-Id: I77e02ea3c3e35cfbe4f4e45a8e88f7fff38a5f6c
"
openstack%2Fos-brick~master~I46bb098c493489ff35cd30f87e29b2eea160cd7f,openstack/os-brick,master,remove-iscsi-encryption-workaround,I46bb098c493489ff35cd30f87e29b2eea160cd7f,encryptors: Return the dm-crypt device path when realpath=True,ABANDONED,2019-11-29 12:30:49.000000000,2021-11-09 10:55:03.000000000,,48,3,2,696694,b25fe24cce15de5913707a6d6e56f448dbc55383,27,16,3,5,10135,Lee Yarwood,lyarwood,"encryptors: Return the dm-crypt device path when realpath=True

This change adds a new kwarg to the attach_volume method of each
dm-crypt based encryptor. When provided and True this results in the
decrypted dm-crypt device path being returned to the caller without a
symlink being created overwriting the original encrypted device path.

Change-Id: I46bb098c493489ff35cd30f87e29b2eea160cd7f
"
openstack%2Fnova~master~I8887f54045a7c2a0ba6987787878cbcc872a7dfa,openstack/nova,master,remove-iscsi-encryption-workaround,I8887f54045a7c2a0ba6987787878cbcc872a7dfa,libvirt: Request and store the decrypted path of an attached encrypted volume,ABANDONED,2019-11-29 12:28:50.000000000,2021-11-09 10:54:59.000000000,,34,5,1,696693,59a5828a519ee76e59bf3d1150fda695fd7500e6,18,9,2,2,10135,Lee Yarwood,lyarwood,"libvirt: Request and store the decrypted path of an attached encrypted volume

5b7bcc41c35e060f46dbd22268db36b2ffb37358 adds an optional realpath kwarg
to the attach_volume method for each dm-crypt based encryptor. When set
to True this will return the path to the decrypted device instead of
symlinking this device over the original and already stored encrypted
device path.

By requesting, storing and eventually using this on the Nova side we can
remove If4461c3dcd67e5d948be9d9a3643c1eb81aaace9. This workaround within
the iscsi connector of os-brick avoids accidentally symlinking over the
underlying device on the host by returning the /dev/disk/by-id/ symlink
for the device during connect_volume. However this would often fail on
slower systems as it would race udev populating these symlinks.

Change-Id: I8887f54045a7c2a0ba6987787878cbcc872a7dfa
"
openstack%2Fos-brick~master~Iee2e2ae4be10adf071747456ad238f07058ba6a0,openstack/os-brick,master,remove-iscsi-encryption-workaround,Iee2e2ae4be10adf071747456ad238f07058ba6a0,iscsi: Remove encryption workaround,ABANDONED,2019-11-29 12:30:49.000000000,2021-11-09 10:54:53.000000000,,0,22,0,696695,8806e7b866f722bc8df0094a711eab17bc8d07ac,26,15,3,2,10135,Lee Yarwood,lyarwood,"iscsi: Remove encryption workaround

Building on I46bb098c493489ff35cd30f87e29b2eea160cd7f in os-brick and
I8887f54045a7c2a0ba6987787878cbcc872a7dfa in Nova we can now remove the
iscsi connector workaround when using encrypted volumes as we should no
longer attempt to symlink the original device to the dm-crypt device.

Depends-On: https://review.opendev.org/696693
Change-Id: Iee2e2ae4be10adf071747456ad238f07058ba6a0
"
openstack%2Fos-brick~master~I8243eb23c14088c1ffd6fd67991eaf9a0aee503f,openstack/os-brick,master,,I8243eb23c14088c1ffd6fd67991eaf9a0aee503f,Remove bug #1633518 workaround for mangled passphrases,ABANDONED,2019-11-29 12:43:20.000000000,2021-11-09 10:54:51.000000000,,1,177,0,696696,269dd2467c4790308c81a16c6ec8d1f8f100dc28,28,16,2,4,10135,Lee Yarwood,lyarwood,"Remove bug #1633518 workaround for mangled passphrases

Hopefully it is now safe to assume that all pre-Newton encrypted volumes
have been reconnected to a compute host, allowing this workaround to
correct any mangled passphrases.

Change-Id: I8243eb23c14088c1ffd6fd67991eaf9a0aee503f
"
openstack%2Fnova~master~I842a5aede5c31e95b0c6284cbad1285bd51c829c,openstack/nova,master,,I842a5aede5c31e95b0c6284cbad1285bd51c829c,configdrive: Add TODO to replace vfat creation code with virt-make-fs,ABANDONED,2021-09-14 10:20:40.000000000,2021-11-09 10:54:20.000000000,,1,2,1,808922,95247cbd845c439d427976df7ee6d38717d53a2b,6,1,1,1,10135,Lee Yarwood,lyarwood,"configdrive: Add TODO to replace vfat creation code with virt-make-fs

Change-Id: I842a5aede5c31e95b0c6284cbad1285bd51c829c
"
openstack%2Fnova~master~I9dbfbdb90ebb21cecc29228900b785bf227a22ad,openstack/nova,master,,I9dbfbdb90ebb21cecc29228900b785bf227a22ad,run-evacuate-hook: Switch to osc evacuate command and add --debug,ABANDONED,2021-09-15 09:31:40.000000000,2021-11-09 10:54:17.000000000,,1,1,0,809162,dbd1a3bb51144f54dd1c3bd49a2c498a7fc1b5e5,6,1,1,1,10135,Lee Yarwood,lyarwood,"run-evacuate-hook: Switch to osc evacuate command and add --debug

The command is now available in osc and while we are here adding --debug
will help us quickly debug any failures by logging the request-id.

Change-Id: I9dbfbdb90ebb21cecc29228900b785bf227a22ad
"
openstack%2Fwhitebox-tempest-plugin~master~Ib8023e7c7ab7b39233ab1245c0b39347cc2c4d71,openstack/whitebox-tempest-plugin,master,,Ib8023e7c7ab7b39233ab1245c0b39347cc2c4d71,DNM: Testing nested-virt-centos-8-stream,ABANDONED,2021-10-07 17:05:22.000000000,2021-11-09 10:53:38.000000000,,2,2,0,813058,2757b1c0037e3480ff19557a723d0b9c413fac40,3,1,1,1,10135,Lee Yarwood,lyarwood,"DNM: Testing nested-virt-centos-8-stream

Change-Id: Ib8023e7c7ab7b39233ab1245c0b39347cc2c4d71
"
openstack%2Fnova~master~I9d5b99564ef06fe197c6516f9b1b2ed0e216cc13,openstack/nova,master,centos8-stream-integrated-gate-compute,I9d5b99564ef06fe197c6516f9b1b2ed0e216cc13,DNM - Test tempest-integrated-compute-centos-8-stream,ABANDONED,2021-07-08 09:21:11.000000000,2021-11-09 10:53:01.000000000,,0,0,1,799996,1485061b7a2473bb84b93fc5744b235fba7af17a,33,1,3,1,10135,Lee Yarwood,lyarwood,"DNM - Test tempest-integrated-compute-centos-8-stream

Change-Id: I9d5b99564ef06fe197c6516f9b1b2ed0e216cc13
Depends-On: https://review.opendev.org/c/openstack/tempest/+/797614
Depends-On: https://review.opendev.org/c/openstack/devstack/+/798514
"
openstack%2Fcyborg~master~I86e88212a51b3e54de1247d45e7655a6e3ffbb74,openstack/cyborg,master,show-dp-by-name,I86e88212a51b3e54de1247d45e7655a6e3ffbb74,show device_profile by name,ABANDONED,2021-11-05 09:39:03.000000000,2021-11-09 10:52:47.000000000,,30,16,7,816805,da4fb5b292d76e8eec84d39331fe6c9d1334a5bc,17,3,4,2,33003,Shuai Qian,qianshuai01,"show device_profile by name

Nowadays showing device_profile is supported
only by uuid, we want to add support for name.

Implements: blueprint show-device-profile-with-name
Closes-Bug: #1936877
Change-Id: I86e88212a51b3e54de1247d45e7655a6e3ffbb74
"
openstack%2Fcharm-percona-cluster~master~I7d9f44bd0dbff25a6c2b0649aa3a86c1869cd7d8,openstack/charm-percona-cluster,master,batch-update,I7d9f44bd0dbff25a6c2b0649aa3a86c1869cd7d8,Add yoga bundles and release-tool syncs,MERGED,2021-10-29 21:23:53.000000000,2021-11-09 10:24:46.000000000,2021-11-09 10:24:46.000000000,31,7,2,816057,e3091504fe3e4f0de410033ace3d5eb60df8c7fc,17,3,4,5,11805,Corey Bryant,coreycb,"Add yoga bundles and release-tool syncs

* charm-helpers sync for classic charms
* pin pyparsing for aodhclient
* pin cffi for py35
* add non-voting focal-yoga bundle
* add non-voting jammy-yoga bundle
* add series metadata for jammy
* switch xena bundles to voting
* run focal-ussuri as smoke tests
* remove groovy bundles

Change-Id: I7d9f44bd0dbff25a6c2b0649aa3a86c1869cd7d8
"
openstack%2Fdevstack~master~Ib43c8fa60d507beaf008166bd0cdb94b72524b18,openstack/devstack,master,baseline,Ib43c8fa60d507beaf008166bd0cdb94b72524b18,DNM this is test runtime baseline,ABANDONED,2017-06-07 20:21:22.000000000,2021-11-09 10:16:56.000000000,,4,0,0,471901,6f836c37bc01e3381cef236c7a9e7a5105c2a3c8,25,7,2,2,4146,Clark Boylan,cboylan,"DNM this is test runtime baseline

Change-Id: Ib43c8fa60d507beaf008166bd0cdb94b72524b18
"
openstack%2Fdevstack~master~I05c30d44077373c0aaea1c6ef86cc03380c3d143,openstack/devstack,master,enable-admin,I05c30d44077373c0aaea1c6ef86cc03380c3d143,WIP: Enable the keystone admin project,ABANDONED,2017-09-12 19:08:09.000000000,2021-11-09 10:14:49.000000000,,4,2,0,503140,ea6ad20ba12f2831501807e882c8b523acacc8ff,27,5,2,2,7191,Jamie Lennox,jamielennox,"WIP: Enable the keystone admin project

Using the admin project in keystone is going to change how a number of
admin commands are run, requiring changes in tempest.

Run it so we can discuss the failures.

Change-Id: I05c30d44077373c0aaea1c6ef86cc03380c3d143
Depends-On: Ic96ee6005606f4998d829ef651219bafdbaa95fe
"
openstack%2Fdevstack~stable%2Fnewton~Iee7c922cd534ff9ec67cffd2aaa1a03360c1b74a,openstack/devstack,stable/newton,531248,Iee7c922cd534ff9ec67cffd2aaa1a03360c1b74a,Differentiate between DEFAULT_IMAGE_NAME and filename,ABANDONED,2018-01-04 21:38:03.000000000,2021-11-09 10:13:46.000000000,,27,24,0,531248,976478ff4f7055f378f05370848a1c311171ed43,12,6,2,2,5196,Matthew Treinish,treinish,"Differentiate between DEFAULT_IMAGE_NAME and filename

The DEFAULT_IMAGE_NAME variable is used to reference the name of the
default image in glance after it has been uploaded by devstack. It is
used both inside and outside of devstack for that purpose. However, when
configuring tempest there are some tests which also do image uploads and
need a filename for specifying which file they should upload into glance
for testing purposes. Previously we were just using DEFAULT_IMAGE_NAME
for both purposes, but this causes a conflict if the name of the image
we upload into glance does not have a file extension. So instead of
conflating the things this commit differentiates between them and adds a
new DEFAULT_IMAGE_FILE_NAME variable to use for this purpose.

This conflicts because there were several intermediate changes before
this was finished. This just skips to the end state. Additionally the
change id is removed because to get things working in the gate
consistently this needs to land in a very specific order. This can't be
done if the change-ids all match.

Conflicts:
	lib/tempest
	stackrc

(cherry picked from commit befe0925e7cb3d3b34ee9e856c4bc822a499975f)

Change-Id: Iee7c922cd534ff9ec67cffd2aaa1a03360c1b74a
"
openstack%2Fcharm-vault~master~I2f0093c0ae6949693f2ad1ea4729b690c932b4b1,openstack/charm-vault,master,bug/1940451,I2f0093c0ae6949693f2ad1ea4729b690c932b4b1,Report 'Missing CA' if certs relation exist but CA not configured,MERGED,2021-11-02 19:41:41.000000000,2021-11-09 10:13:03.000000000,2021-11-09 10:13:03.000000000,24,0,31,816400,5151d01ee266646ceb579edf1092c994d2ecd42c,37,3,9,3,34059,Andy Wu,andywu,"Report 'Missing CA' if certs relation exist but CA not configured

If vault/leader has certificate relationship with other apps but
root CA is either not configured or cleared by action 'disable-pki',
the status should be set to 'Blocked, Missing CA'

Also add unit test for checking 'missing-CA' status

Closes-Bug: #1940451
Change-Id: I2f0093c0ae6949693f2ad1ea4729b690c932b4b1
"
openstack%2Ftripleo-heat-templates~master~I97f1b73abb550c7fb549eda0d29b011e56ec3425,openstack/tripleo-heat-templates,master,,I97f1b73abb550c7fb549eda0d29b011e56ec3425,Clean up implementation to manage volume type by puppet,MERGED,2021-10-26 00:53:33.000000000,2021-11-09 10:12:16.000000000,2021-11-09 10:12:16.000000000,1,13,8,815395,040859a739fd0d5a09949abece42a148a9cda969,35,5,3,1,9816,Takashi Kajinami,kajinamit,"Clean up implementation to manage volume type by puppet

Now the default volume type in cinder is created by Ansible instead
of Puppet, so there is no need to invoke management of volume types
by puppet.

Change-Id: I97f1b73abb550c7fb549eda0d29b011e56ec3425
"
openstack%2Fdevstack~stable%2Fpike~I2700154a532f6462a7b420bca507247b770e52b5,openstack/devstack,stable/pike,,I2700154a532f6462a7b420bca507247b770e52b5,DNM Trying to figure out why an OSC/SDK change is bong,ABANDONED,2018-01-30 20:50:23.000000000,2021-11-09 10:10:24.000000000,,1,1,0,539317,426ad6749ff9c7400f248aabc32593ff4ac48c8c,6,4,1,1,2,Monty Taylor,mordred,"DNM Trying to figure out why an OSC/SDK change is bong

Change-Id: I2700154a532f6462a7b420bca507247b770e52b5
"
openstack%2Fdevstack~master~I2e3f1f57945db43dc4ff16402d2b52f74c9afbca,openstack/devstack,master,restack,I2e3f1f57945db43dc4ff16402d2b52f74c9afbca,[WIP] Create a restack.sh script,ABANDONED,2016-05-11 14:46:30.000000000,2021-11-09 10:09:55.000000000,,100,0,0,315105,6cc183aa5f8441b95864edbf15ad4cb2ea8c5c5a,7,5,1,1,4656,Sean M. Collins,scollins,"[WIP] Create a restack.sh script

This script will call known entrypoints to start
services, if for instance you don't want to run a full
stack.sh - and just want to start the services up again.

Background:

http://lists.openstack.org/pipermail/openstack-dev/2016-May/093755.html

TODO: Lots. Lots and lots and lots.

Change-Id: I2e3f1f57945db43dc4ff16402d2b52f74c9afbca
"
openstack%2Fpuppet-cinder~stable%2Fwallaby~I847b88710578818f6c792d1603e02759072a9d25,openstack/puppet-cinder,stable/wallaby,bug/1949658-stable/xena-stable/wallaby,I847b88710578818f6c792d1603e02759072a9d25,Use service anchor to ensure API is up,MERGED,2021-11-08 23:59:43.000000000,2021-11-09 09:12:37.000000000,2021-11-09 09:12:37.000000000,2,2,0,817097,eecc910c11aa96c4db9915dafd535766cb42afea,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Use service anchor to ensure API is up

... instead of the individual service resource which can be named
differently according to service_name.

Closes-Bug: #1949658
Change-Id: I847b88710578818f6c792d1603e02759072a9d25
(cherry picked from commit 614d16329a11fe84c2db749d9819a7820ceeb4be)
(cherry picked from commit 3241ff122acbeb053ae09a8addf1a33a195ffb74)
"
openstack%2Ftripleo-heat-templates~master~Ic1bc2d4934922e51316b76f68cadf6fdf3954d28,openstack/tripleo-heat-templates,master,,Ic1bc2d4934922e51316b76f68cadf6fdf3954d28,Improve scn10 workers layouts for blocking calls,ABANDONED,2021-10-07 14:42:14.000000000,2021-11-09 09:11:58.000000000,,3,0,3,813038,f0dde6e18392f32e808c9943028083b5892f7384,8,8,1,1,6926,Bogdan Dobrelya,bogdando,"Improve scn10 workers layouts for blocking calls

Decrease NovaLibvirtNumPciePorts to 10 to see if that
decreases the network-vif attach times. Also increase
NovaWorkers to 3 and reduce OctaviaWorkers from 4 to
3 to align things and get rid of the HAProxy timeouts
entirely.

Related-bug: #1895248

Change-Id: Ic1bc2d4934922e51316b76f68cadf6fdf3954d28
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fpython-cinderclient~stable%2Fussuri~Ie00f068d7818e20683a0c242b51027d657382dd4,openstack/python-cinderclient,stable/ussuri,add-missing-classes-stable/victoria-stable/ussuri,Ie00f068d7818e20683a0c242b51027d657382dd4,[stable-only] Add missing classes to cinderclient.v3,MERGED,2021-10-25 12:53:32.000000000,2021-11-09 09:07:00.000000000,2021-11-09 09:02:24.000000000,54,0,3,815243,d5f10f430d7e269f5e59467d3ee547ca3a3a62ae,9,3,1,3,5314,Brian Rosmaita,brian-rosmaita,"[stable-only] Add missing classes to cinderclient.v3

The QuotaSet class was never added to cinderclient.v3.quotas, and
the VolumeTransfer class was never added to cinderclient.v3.
volume_transfers.

Note: this fix is proposed directly to the stable branches, as the
issue was fixed differently in master (Xena development) when the
cinderclient.v2 classes were removed by change I335db5c1799e.

Change-Id: Ie00f068d7818e20683a0c242b51027d657382dd4
Closes-bug: #1938451
(cherry picked from commit 579846c7a4446be98763540b1669f39464c2cab8)
(cherry picked from commit c6f74bf1bceeaf8e5130868a39188894ff9b87cb)
"
openstack%2Fpuppet-ceilometer~master~Idbd14e267b8759f7313a1a74db03f47e69a899aa,openstack/puppet-ceilometer,master,,Idbd14e267b8759f7313a1a74db03f47e69a899aa,Do not hardcode default of [DEFAULT] http_timeout,MERGED,2021-11-08 14:22:29.000000000,2021-11-09 08:57:42.000000000,2021-11-09 08:57:42.000000000,2,2,0,817023,ed000c0cda6b1b610c68e634e289dc2f001aa74d,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Do not hardcode default of [DEFAULT] http_timeout

Currently the ceilometer::http_timeout parameter defaults to 600 but
this equals to the default value defined in ceilometer itself.
This change removes that hardcode in puppet-ceilometer and just let
the service default used.

Change-Id: Idbd14e267b8759f7313a1a74db03f47e69a899aa
"
openstack%2Fpuppet-ceilometer~master~I8fc892301c06d9ff0cb4a687c02c35fcb6942d11,openstack/puppet-ceilometer,master,,I8fc892301c06d9ff0cb4a687c02c35fcb6942d11,Add support for [DEFAULT] max_parallel_requests,MERGED,2021-11-08 14:22:29.000000000,2021-11-09 08:37:30.000000000,2021-11-09 08:33:05.000000000,16,0,0,817022,b1ebc891f1bcf0396f55fd6ecc265deab89a9692,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for [DEFAULT] max_parallel_requests

Change-Id: I8fc892301c06d9ff0cb4a687c02c35fcb6942d11
"
openstack%2Fpuppet-watcher~master~I7f550bbcc2f26ce1bbcc580ec1209f1ee2126b53,openstack/puppet-watcher,master,apache-ssl,I7f550bbcc2f26ce1bbcc580ec1209f1ee2126b53,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 13:20:55.000000000,2021-11-09 08:12:41.000000000,2021-11-09 08:09:27.000000000,14,3,3,816506,da21235878994fc1726cdf6bf54ca477d87258ca,14,3,1,2,9816,Takashi Kajinami,kajinamit,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I7f550bbcc2f26ce1bbcc580ec1209f1ee2126b53
"
openstack%2Fironic-python-agent~master~I3486aa8c3331e56543eebc166e0543d7d2289b9a,openstack/ironic-python-agent,master,blockdev_rereadpt,I3486aa8c3331e56543eebc166e0543d7d2289b9a,Add blockdev to re-read the partition table,ABANDONED,2021-11-01 16:36:27.000000000,2021-11-09 07:56:38.000000000,,45,23,4,816192,69bb7f0d32b78c70472fe596929f5c44dd5da94b,16,3,2,3,11292,Arne Wiebalck,wiebalck,"Add blockdev to re-read the partition table

Re-reading the partition table can require an ioctl system call.
Add a call to blockdev to issue one.

This should fix an timing issue where the bootloader installation
fails to mount the EFI partition from a whole disk image since it
is not yet aware of the new partitions (observed with both, the
iscsi and the direct deploy interface).

Change-Id: I3486aa8c3331e56543eebc166e0543d7d2289b9a
"
openstack%2Fcinder~master~I189b556e1ca643635faae5eb5382bd6caa68aa4c,openstack/cinder,master,check_for_nvmefc,I189b556e1ca643635faae5eb5382bd6caa68aa4c,[Pure Storage] Add check for NVMe-FC capable array,MERGED,2021-10-28 13:56:56.000000000,2021-11-09 07:30:36.000000000,2021-11-08 19:53:30.000000000,18,1,24,815848,25f2e27b21d775709edc1958e2269d4df855dd36,129,5,5,3,13425,Simon Dodsley,sdodsley,"[Pure Storage] Add check for NVMe-FC capable array

Recent arrays can handle both traditional FC and NVMe-FC ports.
The FC (scsi) driver should not be touching NVMe-FC ports because
that could create zones through FCZM that cross both FC types,
so this check makes sure the driver only uses wwns that do not
have an associated nqn.

Change-Id: I189b556e1ca643635faae5eb5382bd6caa68aa4c
"
openstack%2Fpuppet-ceilometer~master~I80290f4388e9bb3eb5542a9d1e70ccea81698905,openstack/puppet-ceilometer,master,,I80290f4388e9bb3eb5542a9d1e70ccea81698905,"Remove unused, outdated unit test cases",MERGED,2021-11-08 14:27:41.000000000,2021-11-09 07:29:52.000000000,2021-11-09 07:29:52.000000000,0,19,0,817027,31b5d7f00be5510576449328659b499f1f655276,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Remove unused, outdated unit test cases

These test cases were added when the metering_secret parameter was
deprecated in favor of the new telemetry_secret parameter[1], but were
not enabled properly.

The deprecated metering_secret parameter was later removed[2] but
these ineffective test cases were not removed at that time.

[1] 4600d4135ac1bef01f7a7dd4b12582a0c8db6b50
[2] f28830d5aae8021215026bdf2f63a8713b7deeb1

Change-Id: I80290f4388e9bb3eb5542a9d1e70ccea81698905
"
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Ic71545d786b851e7d3f3ce8502e913b81fc70059,openstack/puppet-tripleo,stable/wallaby,,Ic71545d786b851e7d3f3ce8502e913b81fc70059,Add support for share backend availability zones,MERGED,2021-11-04 18:01:37.000000000,2021-11-09 06:38:36.000000000,2021-11-09 06:32:40.000000000,20,0,2,816732,66936edd3e44b47c9b8e15a74a43aa58f1d2dc2e,10,3,1,3,29632,Carlos Eduardo,silvacarlos,"Add support for share backend availability zones

Add the ability to override the ""backend_availability_zone"" parameter
in every manila share backend.

(to wallaby)
Conflicts:
	manifests/profile/base/manila/share.pp

Change-Id: Ic71545d786b851e7d3f3ce8502e913b81fc70059
(cherry picked from commit 65e7e338f4872f43f35d2ba57666499ce45dbcfe)
"
openstack%2Fpython-tripleoclient~master~I5941bf9948c5f17e7406d34c21b8de9bd174c063,openstack/python-tripleoclient,master,overcloud_delete/inventory_path,I5941bf9948c5f17e7406d34c21b8de9bd174c063,Ensure we're using the stackname for the inventory,MERGED,2021-11-08 12:26:12.000000000,2021-11-09 06:38:16.000000000,2021-11-09 06:32:37.000000000,4,4,0,816998,9fd913f57cd5584c65c069af90037d72aa9db7cf,14,5,3,2,28223,Cedric Jeanneret,cjeanner,"Ensure we're using the stackname for the inventory

Until now, the inventory path used by the overcloud_delete.py was wrong,
since it wasn't using the ""stackname"", leading to a wrong
/home/stack/config-download/{}/tripleo-ansible-inventory.yaml path.

While it's not a big issue with non-TLS-e deploy, it becomes an actual
problem when we involve FreeIPA and TLS-e, since the deletion won't
remove the nodes nor services from FreeIPA.

Closes-Bug: #1950155

Change-Id: I5941bf9948c5f17e7406d34c21b8de9bd174c063
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Idf27c14b31dc077ef9a0e567bd502ed6842bd52b,openstack/tripleo-heat-templates,stable/wallaby,,Idf27c14b31dc077ef9a0e567bd502ed6842bd52b,Clear up confusion on cinder's default volume type,MERGED,2021-11-08 15:39:04.000000000,2021-11-09 06:38:15.000000000,2021-11-09 06:32:33.000000000,28,1,0,817039,f10e5f2e6e43c776eef51173bc0695e8c928cdfb,9,3,1,2,21129,Alan Bishop,ASBishop,"Clear up confusion on cinder's default volume type

This patch clears up confusion resulting from both tripleo and
cinder creating ""default"" volume types. The quotes indicate subtle
differences in how the term is used, and how it causes confusion for
cloud users.

TripleO added support for configuring cinder's default volume type,
and later cinder itself added its own support for a default volume
type. The cinder project's motivation was to provide a volume type
for all volumes, even when cloud administrators hadn't defined one.
But from tripleo's perspective, cinder's volume type was redundant
because tripleo *does* define a default volume type.

The confusion for cloud users is that cinder chose ""__DEFAULT__"" for
the name of the volume type, and ""Default Volume Type"" for its
description. This is misleading because tripleo's CinderDefaultVolumeType
is the actual default volume type.

Clearing up the confusion depends on whether the overcloud is a green
field deployment where no volumes have been created, or a brown field
deployment where cinder's __DEFAULT__ type may be in use. If no volumes
exist then it's safe for tripleo to simply delete cinder's __DEFAULT__
type. Otherwise, the __DEFAULT__ type's description is updated so that
it indicates the actual default type is the one established by the
CinderDefaultVolumeType parameter.

Lastly, CinderDefaultVolumeType is now constrained to prevent it being
set to an empty string. That should never happen, so this is just a
safety net.

Related-Bug: #1782217
Change-Id: Idf27c14b31dc077ef9a0e567bd502ed6842bd52b
(cherry picked from commit 4bf4866030c78c5f9343eb0084d72c4a03beefa7)
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~Icf8b6ae0a94edd4bd3dd36ff3bd006112a63c075,openstack/puppet-tripleo,stable/train,c7-to-c8-stable/train,Icf8b6ae0a94edd4bd3dd36ff3bd006112a63c075,Run TripleO jobs on CentOS8 instead of CentOS7,MERGED,2021-09-17 10:22:28.000000000,2021-11-09 06:32:42.000000000,2021-11-09 06:32:42.000000000,3,3,0,809560,5fec457e468037244be429588640797cebe34019,14,5,2,1,20182,Bhagyashri Shewale,bhagyashris,"Run TripleO jobs on CentOS8 instead of CentOS7

As we are cleaning up the c7 jobs and obselete featuresets [1].
This change replaces usage of CentOS7 in TripleO jobs by CentOS8.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: Icf8b6ae0a94edd4bd3dd36ff3bd006112a63c075
"
openstack%2Ftripleo-quickstart-extras~master~I26c52aac0285377c3320280bf745b4e0a678f92f,openstack/tripleo-quickstart-extras,master,,I26c52aac0285377c3320280bf745b4e0a678f92f,Don't install mock in tqe,NEW,2021-10-13 01:39:11.000000000,2021-11-09 06:15:17.000000000,,0,2,6,813723,0a006e647249c04db6bb2762656241d9e59f92ce,17,7,2,2,29775,Sandeep Yadav,sandeepyadav93,"Don't install mock in tqe

In patch[1] we moved to using unittest.mock instead of mock in some
places in tqe. We don't need to install mock module anymore.

[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/734570

Change-Id: I26c52aac0285377c3320280bf745b4e0a678f92f
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ia765c2c2ea548a1dcd20f592eda8741f40a1cf16,openstack/python-tripleoclient,stable/wallaby,,Ia765c2c2ea548a1dcd20f592eda8741f40a1cf16,"Refactor --stack-only, --setup-only, --config-download-only",MERGED,2021-10-27 18:00:23.000000000,2021-11-09 05:38:17.000000000,2021-11-09 05:35:58.000000000,165,152,9,815721,bdfcb56dd350abf5c7aa54259897fe52b13630d0,39,4,1,7,7144,James Slagle,slagle,"Refactor --stack-only, --setup-only, --config-download-only

Refactors the --stack-only, --setup-only, --config-download-only, to work
with ephemeral-heat. The arguments now do the expected behavior and work
with how they previously worked prior to ephemeral heat.

--stack-only: create the stack, download the config. no overcloud node
              changes
--setup-only: ssh admin authorization setup.
--config-download-only: run config-download playbook(s) to configure the
                        overcloud.

Signed-off-by: James Slagle <jslagle@redhat.com>
Depends-On: Ie47abe2d7c5d7891aceb88d9008d45d7922dea15
Change-Id: Ia765c2c2ea548a1dcd20f592eda8741f40a1cf16
(cherry picked from commit 1cd6f2829fae1d400d424070fc62165316cf5074)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I3dc66f15e06d219a1bdfa18f69a720ed08878643,openstack/tripleo-ansible,stable/wallaby,,I3dc66f15e06d219a1bdfa18f69a720ed08878643,Remove cli-config-download-export.yaml,MERGED,2021-10-28 17:19:47.000000000,2021-11-09 05:36:00.000000000,2021-11-09 05:36:00.000000000,0,56,0,815892,c80c81ead60a6e318d7694b7321e4c547524384b,11,3,1,1,7144,James Slagle,slagle,"Remove cli-config-download-export.yaml

With the refactoring of the --*-only parameters in tripleoclient, the
cli-config-download-export.yaml playbook can be removed as it is no
longer used. The cli-config-download.yaml playbook is used by all code
paths in tripleoclient now.

Signed-off-by: James Slagle <jslagle@redhat.com>
Depends-On: Ia765c2c2ea548a1dcd20f592eda8741f40a1cf16
Change-Id: I3dc66f15e06d219a1bdfa18f69a720ed08878643
(cherry picked from commit 3373930748cf4336dfdf10df50470f16cc7ab379)
"
openstack%2Ftempest~master~I0b29fe59e238f4c723a15271117e6cfb072e648a,openstack/tempest,master,reactivate_image_before_deletion,I0b29fe59e238f4c723a15271117e6cfb072e648a,Reactivate image before deletion,MERGED,2021-03-08 07:51:46.000000000,2021-11-09 05:06:51.000000000,2021-11-09 05:04:28.000000000,3,0,10,779168,d05536b958a1ed8a786ed4c006992b4006b996d4,30,5,3,1,29074,Felix Huettner,felix.huettner,"Reactivate image before deletion

Normal users should not be able to delete disabled images (see [1])
as this can lead to inconsistencies between database and storage
backend.

Tempest relies on being able to do this in some tests.

[1]: https://bugs.launchpad.net/glance/+bug/1917469

Related-Bug: 1917469
Change-Id: I0b29fe59e238f4c723a15271117e6cfb072e648a
"
openstack%2Ftempest~master~I4b074dca58960b2622dde15ad7d9a91b3ba0c096,openstack/tempest,master,centos8-stream-integrated-gate-compute,I4b074dca58960b2622dde15ad7d9a91b3ba0c096,zuul: Add a CentOS 8 stream job to integrated-gate-compute,MERGED,2021-06-23 09:50:26.000000000,2021-11-09 04:45:09.000000000,2021-11-09 04:36:47.000000000,32,0,12,797614,0dba41c17a2a66832e7c85e5ce36a0257deda21c,76,5,12,3,10135,Lee Yarwood,lyarwood,"zuul: Add a CentOS 8 stream job to integrated-gate-compute

As set out in the governance repo for Xena CentOS 8 stream with py36 is
a supported platform and runtime for the release:

https://governance.openstack.org/tc/reference/runtimes/xena.html

As a result the Nova team want to run CentOS 8 stream based jobs within
the integrated-gate-compute template.

An additional tempest-full-py3-centos-8-stream job is added to Tempest's
check and gate queues to ensure coverage here.

Both jobs are given additional swap to workaround bug #1949606, a
behaviour change in QEMU >= 5.0.0 when using [libvirt]virt_type=qemu
that causes additional memory to be consumed by each running instance.

This workaround of additional swap will be removed in the future once
Nova is able to workaround this itself through a new libvirt domain
configurable.

Change-Id: I4b074dca58960b2622dde15ad7d9a91b3ba0c096
"
openstack%2Fnova~master~Iba87cef50238c5b02ab313f2311b826081d5b4ab,openstack/nova,master,,Iba87cef50238c5b02ab313f2311b826081d5b4ab,Ignore plug_vifs on the ironic driver,MERGED,2021-10-08 22:23:33.000000000,2021-11-09 04:43:08.000000000,2021-11-09 04:36:51.000000000,47,18,23,813263,7f81cf28bf21ad2afa98accfde3087c83b8e269b,43,9,3,3,11655,Julia Kreger,jkreger,"Ignore plug_vifs on the ironic driver

When the nova-compute service starts, by default it attempts to
startup instance configuration states for aspects such as networking.
This is fine in most cases, and makes a lot of sense if the
nova-compute service is just managing virtual machines on a hypervisor.

This is done, one instance at a time.

However, when the compute driver is ironic, the networking is managed
as part of the physical machine lifecycle potentially all the way into
committed switch configurations. As such, there is no need to attempt
to call ``plug_vifs`` on every single instance managed by the
nova-compute process which is backed by Ironic.

Additionally, using ironic tends to manage far more physical machines
per nova-compute service instance then when when operating co-installed
with a hypervisor. Often this means a cluster of a thousand machines,
with three controllers, will see thousands of un-needed API calls upon
service start, which elongates the entire process and negatively
impacts operations.

In essence, nova.virt.ironic's plug_vifs call now does nothing,
and merely issues a debug LOG entry when called.

Closes-Bug: #1777608
Change-Id: Iba87cef50238c5b02ab313f2311b826081d5b4ab
"
openstack%2Ftempest~master~I1c5c82e8178462652c36533093958c82b5130a55,openstack/tempest,master,bp/qos-minimum-guaranteed-packet-rate,I1c5c82e8178462652c36533093958c82b5130a55,Add QoS minimum packet rate rule client,MERGED,2021-08-26 17:25:01.000000000,2021-11-09 04:42:38.000000000,2021-11-09 04:36:43.000000000,218,0,18,806256,efa21d3bb915e2e9793ec5072ad8ce45356a11b1,42,6,10,3,9708,Balazs Gibizer,gibi,"Add QoS minimum packet rate rule client

As a preparation to test Network QoS minimum bandwidth and minimum
packet rate rules together this patch the necessary packet rate API
client to tempest lib.

blueprint: qos-minimum-guaranteed-packet-rate

Change-Id: I1c5c82e8178462652c36533093958c82b5130a55
"
openstack%2Fkarbor~master~Ie98a3e8dda45757d98da9cc5b7383d76ecf0f09c,openstack/karbor,master,bug/1745058,Ie98a3e8dda45757d98da9cc5b7383d76ecf0f09c,Add filter parameter for provider list API,MERGED,2018-01-24 06:54:53.000000000,2021-11-09 01:19:48.000000000,2018-01-29 14:35:54.000000000,24,9,9,537276,29b264eb7c7cda3cc590bca1494febdb4509cdde,36,6,5,2,23950,Eric Xie,ericxie,"Add filter parameter for provider list API

The provider list API layer supports the filter parameter, but
in protection service it was not supported. This patch fixed it.

Change-Id: Ie98a3e8dda45757d98da9cc5b7383d76ecf0f09c
Closes-Bug: #1745058
"
openstack%2Ftripleo-heat-templates~master~I32f9dc916959d8a283beab247d548379cd2b2981,openstack/tripleo-heat-templates,master,whole-disk-default,I32f9dc916959d8a283beab247d548379cd2b2981,Set default value of IronicDefaultBootMode to uefi,MERGED,2021-09-19 22:55:05.000000000,2021-11-09 00:47:06.000000000,2021-11-09 00:43:57.000000000,8,1,0,809961,9d6f2413113f5721d0447fa46c382fa3f9eb9be3,19,4,2,2,4571,Steve Baker,steve-stevebaker,"Set default value of IronicDefaultBootMode to uefi

Now that OVB explicitly sets the boot mode based on discovered image
properties, the default can safely be set to 'uefi' which is more
appropriate for bare-metal environments.

Depends-On: https://review.opendev.org/c/openstack/openstack-virtual-baremetal/+/810332
Blueprint: whole-disk-default
Change-Id: I32f9dc916959d8a283beab247d548379cd2b2981
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Id78443453718f8174bf95ad9209e7163b6afef64,openstack/python-tripleoclient,stable/wallaby,change-801861-5-stable/wallaby,Id78443453718f8174bf95ad9209e7163b6afef64,Integrating restoration process to client,MERGED,2021-11-05 15:40:51.000000000,2021-11-09 00:46:49.000000000,2021-11-09 00:43:46.000000000,221,0,7,816875,d71f64edddb0126d5aaad533d422c3fa8168c37b,13,4,1,4,22954,Juan Badia Payno,jbadiapa,"Integrating restoration process to client

- Adding a new command overcloud backup restore for running the
  the restoration process. This command includes a required
  argument for specifying the node ""--node-name"".

- tests/v1/overcloud_restore/test_backup.py added for
  unit testing the command

Change-Id: Id78443453718f8174bf95ad9209e7163b6afef64
(cherry picked from commit b670a784c4399cb83a129093064dd18aaeec590b)
"
openstack%2Ftripleo-operator-ansible~master~I0c3c2ed1a9fe62d12132a07aa421cc677cd30514,openstack/tripleo-operator-ansible,master,fix-default-stack,I0c3c2ed1a9fe62d12132a07aa421cc677cd30514,Add default stack to some roles,MERGED,2021-08-12 18:07:01.000000000,2021-11-09 00:44:02.000000000,2021-11-09 00:44:02.000000000,23,10,0,804427,98cc0abe853f3cdc271fbdae2ea24a66ee0786b6,17,5,4,10,14985,Alex Schultz,mwhahaha,"Add default stack to some roles

The vip/node provision require a stack so we should likely include the
default 'overcloud' like we do for tripleo_overcloud_deploy

Change-Id: I0c3c2ed1a9fe62d12132a07aa421cc677cd30514
"
openstack%2Ftripleo-operator-ansible~master~I51f6ae5f3d430e8f2c9e8cf47fbfbf5b50f84e3e,openstack/tripleo-operator-ansible,master,utilize-tripleo-operator,I51f6ae5f3d430e8f2c9e8cf47fbfbf5b50f84e3e,Modified shell_args plugin for nested lists.,MERGED,2021-09-07 17:29:38.000000000,2021-11-09 00:43:54.000000000,2021-11-09 00:43:54.000000000,26,6,0,807778,fae3c7d813fa44cf8df0cd2ea6d12178bd381fd9,12,3,3,2,30750,amolkahat,amolkahat,"Modified shell_args plugin for nested lists.

Shell args plugins is not supported for nested
list items.

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: I51f6ae5f3d430e8f2c9e8cf47fbfbf5b50f84e3e
"
openstack%2Fpuppet-cinder~master~Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8,openstack/puppet-cinder,master,add_pure_params,Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8,[Pure Storage] Add new params for FlashArray Cinder backend,MERGED,2021-11-05 13:29:55.000000000,2021-11-09 00:15:37.000000000,2021-11-09 00:13:46.000000000,32,0,25,816837,2eea9e71a140c46f7eeb1ec105988b5edd8df493,23,3,5,3,13425,Simon Dodsley,sdodsley,"[Pure Storage] Add new params for FlashArray Cinder backend

Change-Id: Ia48fa3fa8ce3a3563fdab0966dc5a44f30248bc8
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I750a733b722353d1ea0c6f904bafc769d7ddb9ff,openstack/python-tripleoclient,stable/wallaby,remove_update_converge-stable/wallaby,I750a733b722353d1ea0c6f904bafc769d7ddb9ff,Remove update converge,MERGED,2021-10-14 03:22:52.000000000,2021-11-09 00:12:42.000000000,2021-11-09 00:10:25.000000000,0,110,2,813930,d4223329b638ae12b43971fba98e1adc34721491,16,3,2,3,30073,Brendan Shephard,bshephar,"Remove update converge

Update converge is largely unnecessary now with
ephemeral Heat. There is no Heat stack to update,
so we are doing nothing more than executing a
standard deployment using Ansible. Removing
the requirement for update converge will simplify
the process and improve user experience by reducing
the time it takes to perform minor updates.

Depends-On: https://review.opendev.org/c/openstack/tripleo-upgrade/+/813933
Change-Id: I750a733b722353d1ea0c6f904bafc769d7ddb9ff
(cherry picked from commit 19672ed3fa05116876a47451f3e6f6f89e6e542b)
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~I7f2da6ca90412d3322a85ab42a68f787e788a17a,openstack/openstack-ansible,stable/victoria,bump_osa,I7f2da6ca90412d3322a85ab42a68f787e788a17a,Bump OpenStack-Ansible Victoria,MERGED,2021-10-25 16:29:06.000000000,2021-11-09 00:03:07.000000000,2021-11-09 00:00:13.000000000,64,64,2,815336,f1313b5511a7310c1f6435afe925a747c1352d55,17,3,2,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump OpenStack-Ansible Victoria

Change-Id: I7f2da6ca90412d3322a85ab42a68f787e788a17a
"
openstack%2Fneutron~stable%2Fvictoria~Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,openstack/neutron,stable/victoria,bug/1948642-stable/victoria,Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,Don't setup bridge controller if it is already set,MERGED,2021-11-03 11:12:57.000000000,2021-11-08 23:58:08.000000000,2021-11-08 23:56:06.000000000,63,12,3,816457,18c1795e88ff89ec1bda29e5a92001210433940f,19,4,1,4,11975,Slawek Kaplonski,slaweq,"Don't setup bridge controller if it is already set

Setting new controller for bridge every time when neutron-ovs-agent
is restarted or is doing full-sync may cause some short data plane
connectivity loss and is not needed if same controller is already
configured for the bridge.
With this patch neutron-ovs-agent will first check if controller is
configured for the bridge and if it's the same as what should be
configured, it will skip setting it up.

With this patch also protocols added to the bridge will be first checked
if they aren't already there and only missing ones will be added if
necessary.

Setting of the connectivity mode and inactivity probe is
always performed as this don't cause connectivity issues and is cheap
so we can always ensure that those parameters are configured properly.

Conflicts:
    neutron/agent/common/ovs_lib.py
    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py

Closes-Bug: #1948642
Change-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67
(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)
(cherry picked from commit b1eccf5a2deaf6d18ff18dfacfbcf7ef7fdb781f)
"
openstack%2Ftripleo-heat-templates~master~I5a52a9574a75babbe36e207866fb8114859ce406,openstack/tripleo-heat-templates,master,swift-proxy-pipeline,I5a52a9574a75babbe36e207866fb8114859ce406,Clean up the removed puppet-tripleo parameter,ABANDONED,2021-02-21 14:03:34.000000000,2021-11-08 23:56:52.000000000,,0,1,0,776834,ae3c571f43f48530b02f3ea85345e83473458bcd,7,3,3,1,9816,Takashi Kajinami,kajinamit,"Clean up the removed puppet-tripleo parameter

The ceilometer_enabled parameter was removed and now the puppet class
is included based on the pipeline parameter.

Depends-on: https://review.opendev.org/776833
Change-Id: I5a52a9574a75babbe36e207866fb8114859ce406
"
openstack%2Fpuppet-tripleo~master~I095c88e53cbe977f2650cd807da8c44ba03d9432,openstack/puppet-tripleo,master,swift-proxy-pipeline,I095c88e53cbe977f2650cd807da8c44ba03d9432,Swift: Include puppet classes based on the pipeline parameter,ABANDONED,2021-02-21 13:59:43.000000000,2021-11-08 23:56:44.000000000,,67,44,0,776833,42c361dcd7169a1cb10f4a8437a31ebf4c7f7959,14,3,4,2,9816,Takashi Kajinami,kajinamit,"Swift: Include puppet classes based on the pipeline parameter

Currently we manage the pipeline parameter and puppet classes
separaterly, and this requires us to update both puppet and
tripleo-heat-templates to add any new pipeline in swift-proxy-server.

This change makes the puppet classes included automatically based on
the items listed in the pipeline parameter.

Change-Id: I095c88e53cbe977f2650cd807da8c44ba03d9432
"
openstack%2Fnova~master~Idd618d634cc70ae8d58fab32f322e75bfabefb9d,openstack/nova,master,autopep8,Idd618d634cc70ae8d58fab32f322e75bfabefb9d,Add autopep8 to tox and pre-commit,MERGED,2021-08-26 13:35:49.000000000,2021-11-08 23:56:17.000000000,2021-11-08 23:54:03.000000000,154,3,5,806182,f3d48000b139ec38d92da276a43a8387f76cbc89,23,3,3,83,11604,sean mooney,sean-k-mooney,"Add autopep8 to tox and pre-commit

autopep8 is a code formating tool that makes python code pep8
compliant without changing everything. Unlike black it will
not radically change all code and the primary change to the
existing codebase is adding a new line after class level doc strings.

This change adds a new tox autopep8 env to manually run it on your
code before you submit a patch, it also adds autopep8 to pre-commit
so if you use pre-commit it will do it for you automatically.

This change runs autopep8 in diff mode with --exit-code in the pep8
tox env so it will fail if autopep8 would modify your code if run
in in-place mode. This allows use to gate on autopep8 not modifying
patches that are submited. This will ensure authorship of patches is
maintianed.

The intent of this change is to save the large amount of time we spend
on ensuring style guidlines are followed automatically to make it
simpler for both new and old contibutors to work on nova and save
time and effort for all involved.

Change-Id: Idd618d634cc70ae8d58fab32f322e75bfabefb9d
"
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I6ea4d91165644d28a575dfebeada588f7a8cd7f3,openstack/tripleo-upgrade,stable/wallaby,remove_update_converge-stable/wallaby,I6ea4d91165644d28a575dfebeada588f7a8cd7f3,Remove update converge,MERGED,2021-10-14 09:19:39.000000000,2021-11-08 23:51:42.000000000,2021-11-08 23:51:42.000000000,0,31,0,813933,4d8cbf26519f396d6794d9db672c4740ee1d1c30,14,6,2,3,30073,Brendan Shephard,bshephar,"Remove update converge

Update converge is largely unnecessary now with
ephemeral Heat. There is no Heat stack to update,
so we are doing nothing more than executing a
standard deployment using Ansible. Removing
the requirement for update converge will simplify
the process and improve user experience by reducing
the time it takes to perform minor updates.

Related: https://review.opendev.org/c/openstack/python-tripleoclient/+/810132
(cherry picked from commit edb205f55e63c1a41f3b01642c3ce260914d559b)
Change-Id: I6ea4d91165644d28a575dfebeada588f7a8cd7f3
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I75b68876a6276d2fc31b4dc675368e7caece03f5,openstack/tripleo-ansible,stable/wallaby,cephadm/slurp-cert-stable/wallaby,I75b68876a6276d2fc31b4dc675368e7caece03f5,"Add missing ""become: true""",MERGED,2021-11-06 09:39:20.000000000,2021-11-08 23:51:39.000000000,2021-11-08 23:51:39.000000000,1,0,1,816879,e02bb61b08989a477c5829b7916162b03e917ec3,9,6,1,1,25402,Francesco Pantano,fmount,"Add missing ""become: true""

This is needed in order to manage the configuration when injecting the
certificate.

Change-Id: I75b68876a6276d2fc31b4dc675368e7caece03f5
(cherry picked from commit c1e7dc99f3f275af58058a74cb77301fd188a891)
"
openstack%2Fpuppet-cinder~stable%2Fxena~I847b88710578818f6c792d1603e02759072a9d25,openstack/puppet-cinder,stable/xena,bug/1949658-stable/xena,I847b88710578818f6c792d1603e02759072a9d25,Use service anchor to ensure API is up,MERGED,2021-11-08 12:06:24.000000000,2021-11-08 23:50:09.000000000,2021-11-08 23:50:09.000000000,2,2,0,816952,3241ff122acbeb053ae09a8addf1a33a195ffb74,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Use service anchor to ensure API is up

... instead of the individual service resource which can be named
differently according to service_name.

Closes-Bug: #1949658
Change-Id: I847b88710578818f6c792d1603e02759072a9d25
(cherry picked from commit 614d16329a11fe84c2db749d9819a7820ceeb4be)
"
openstack%2Fpuppet-nova~stable%2Fxena~I6be21a4653d67c63a3bd1fa8b814ecdb1257f097,openstack/puppet-nova,stable/xena,bug/1949658-stable/xena,I6be21a4653d67c63a3bd1fa8b814ecdb1257f097,Use service anchor to ensure API is up,MERGED,2021-11-08 12:06:31.000000000,2021-11-08 23:45:22.000000000,2021-11-08 23:45:22.000000000,3,3,1,816953,3fc355a18b698948034f08e76dcd07c904b62810,9,3,1,2,9816,Takashi Kajinami,kajinamit,"Use service anchor to ensure API is up

... instead of the individual service resource which can be named
differently according to service_name.

Closes-Bug: #1949658
Change-Id: I6be21a4653d67c63a3bd1fa8b814ecdb1257f097
(cherry picked from commit f44d3c4987a65cc277af8be9a1d0cdc70b0cd50b)
"
openstack%2Fpuppet-ceilometer~master~Ife42b6f23f69025bad2f462a7ae40662768509a5,openstack/puppet-ceilometer,master,fix-reno,Ife42b6f23f69025bad2f462a7ae40662768509a5,Fix the wrong class name in a release note file,ABANDONED,2021-11-08 23:04:44.000000000,2021-11-08 23:34:49.000000000,,2,2,0,817121,d3bf5b3a8a525559832341b7079d3d9c161be38f,3,1,1,1,9816,Takashi Kajinami,kajinamit,"Fix the wrong class name in a release note file

This change is a follow-up of a6c5f73407a921a5836f37d839fb7df03ae39998
and fixes the wrong class name mentioned in the release note file added
by that change.

Change-Id: Ife42b6f23f69025bad2f462a7ae40662768509a5
"
openstack%2Fwhitebox-tempest-plugin~master~I57243d49de0d1715fecaa6496a92fc2c576c448a,openstack/whitebox-tempest-plugin,master,rm_nsm_colloc_mig,I57243d49de0d1715fecaa6496a92fc2c576c448a,Remove NSM from emul thread tests,MERGED,2021-10-26 15:28:48.000000000,2021-11-08 23:07:33.000000000,2021-11-08 23:07:33.000000000,130,301,51,815514,7385e1bc55977b8ad372b68ff64a9ac658a1c757,35,3,10,6,31033,James Parker,jparker,"Remove NSM from emul thread tests

A continuation of [1] in which we are trying to reduce the dependency on
NovaServiceManager when interacting with cpu_dedicated_set and
cpu_shared_set.

This commit introduces two new configuration options:
 * whitebox_hardware.dedicated_cpus_per_numa
 * whitebox_hardware.shared_cpus_per_numa

These options describe the number of pCPUs alloacted to either shared or
dedicated sets for a given compute host. We are making the assumption
that although the pCPUs allocated to their respective sets may be
different on each compute host, the number of pCPUs allocated are the
same.

Commit also removes NSM from three of the four base emulator thread
testcases and reduces some of the complexity originally present in the
tests. Since vcpu_pin_set and cpu_dedicated_set are no longer
directly modified in the test, their respective child tests have been
removed leaving just the parent to covering scenarios based on the
deployment.

[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d

Change-Id: I57243d49de0d1715fecaa6496a92fc2c576c448a
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I9014ad0c7fae391dec4ad70bcbc0728667d413c5,openstack/tripleo-heat-templates,stable/wallaby,change-806890,I9014ad0c7fae391dec4ad70bcbc0728667d413c5,Enable ovn-monitor-all option to ovn-controller,MERGED,2021-09-01 08:57:16.000000000,2021-11-08 22:35:21.000000000,2021-11-08 22:33:32.000000000,9,0,5,806890,d15f5926244ca3bda5230b052a4dac937e1af308,20,5,4,2,11082,Kamil Sambor,ksambor,"Enable ovn-monitor-all option to ovn-controller

With conditional monitoring enabled in OVN, southbound ovsdb-serve
takes lot of time in handling the monitoring and sending the updates
to all its connected clients. Its takes lot of CPU. With monitor-all
option, all ovn-controllers do not enable conditional monitoring there
by reducing the load on the Southbound ovsdb-server.
Enable this for all deployments is-lowrisk and user shoudn't have
posibilities to modified this manually form tht level.

Depends-On: https://review.opendev.org/c/openstack/puppet-ovn/+/801455
Closes-Bug: #1936781
Signed-off-by: Kamil Sambor <ksambor@redhat.com>
Change-Id: I9014ad0c7fae391dec4ad70bcbc0728667d413c5
(cherry picked from commit bc934d18a47bca5dcfb78f9ab903d3a6042706f5)
"
openstack%2Ftripleo-operator-ansible~master~Iabf9df14c20403d38d2d7729228afd85ca3da72a,openstack/tripleo-operator-ansible,master,utilize-tripleo-operator,Iabf9df14c20403d38d2d7729228afd85ca3da72a,Added Ephemeral Heat CLI in overcloud_deploy role,MERGED,2021-08-25 19:56:19.000000000,2021-11-08 22:33:35.000000000,2021-11-08 22:33:35.000000000,88,0,24,806047,e9dfa531d405fc67651aedaf8ac16fb311ffa3d8,33,10,5,4,30750,amolkahat,amolkahat,"Added Ephemeral Heat CLI in overcloud_deploy role

Added missing Ephemeral Heat supported vars
and command options.

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: Iabf9df14c20403d38d2d7729228afd85ca3da72a
"
openstack%2Fmanila~master~Id32daf390fd31f58b10635b6c7e434741ff8a08f,openstack/manila,master,,Id32daf390fd31f58b10635b6c7e434741ff8a08f,[doc] Update PTL documentation,MERGED,2021-11-05 21:28:43.000000000,2021-11-08 22:18:34.000000000,2021-11-08 22:15:53.000000000,5,0,1,816906,94a55f396bef45c1341b143565e7d6679684f736,8,2,1,1,29632,Carlos Eduardo,silvacarlos,"[doc] Update PTL documentation

Adds a call out to the release session of the PTL documentation.
It is important to release new code for branches in a specific
order (from the newest branch to the older ones)

Change-Id: Id32daf390fd31f58b10635b6c7e434741ff8a08f
"
openstack%2Foctavia~stable%2Fvictoria~I435c40a5493828bce24c2850182f0ddc8e5bdd1f,openstack/octavia,stable/victoria,,I435c40a5493828bce24c2850182f0ddc8e5bdd1f,Fix failover of az-specific loadbalancers,MERGED,2021-10-27 06:22:55.000000000,2021-11-08 21:48:35.000000000,2021-11-08 21:46:03.000000000,4,4,2,815586,e3026d35828b0b4541de3415e22582fa523f78e3,16,5,1,1,29244,Gregory Thiemonge,gthiemonge,"Fix failover of az-specific loadbalancers

There is a bug exists in CalculateAmphoraDelta class
If there is no such a key as constants.MANAGEMENT_NETWORK
in availability_zone dictionary, method get will return None
It means that management_nets list will become [None], not
CONF.controller_worker.amp_boot_network_list as it supposes to be
It breaks the following failover flow

Story: 2008669
Task: 41957
Change-Id: I435c40a5493828bce24c2850182f0ddc8e5bdd1f
(cherry picked from commit 81134bdfec79c8019c26e7846d31a2b2952965a0)
(cherry picked from commit 77a87a7f335464180933cd1859cd34998d7f2e75)
"
openstack%2Foctavia~stable%2Fwallaby~I435c40a5493828bce24c2850182f0ddc8e5bdd1f,openstack/octavia,stable/wallaby,,I435c40a5493828bce24c2850182f0ddc8e5bdd1f,Fix failover of az-specific loadbalancers,MERGED,2021-10-27 06:22:07.000000000,2021-11-08 21:48:34.000000000,2021-11-08 21:45:33.000000000,4,4,1,815585,77a87a7f335464180933cd1859cd34998d7f2e75,10,4,1,1,29244,Gregory Thiemonge,gthiemonge,"Fix failover of az-specific loadbalancers

There is a bug exists in CalculateAmphoraDelta class
If there is no such a key as constants.MANAGEMENT_NETWORK
in availability_zone dictionary, method get will return None
It means that management_nets list will become [None], not
CONF.controller_worker.amp_boot_network_list as it supposes to be
It breaks the following failover flow

Story: 2008669
Task: 41957
Change-Id: I435c40a5493828bce24c2850182f0ddc8e5bdd1f
(cherry picked from commit 81134bdfec79c8019c26e7846d31a2b2952965a0)
"
openstack%2Foctavia~stable%2Fxena~I435c40a5493828bce24c2850182f0ddc8e5bdd1f,openstack/octavia,stable/xena,,I435c40a5493828bce24c2850182f0ddc8e5bdd1f,Fix failover of az-specific loadbalancers,MERGED,2021-10-27 06:24:24.000000000,2021-11-08 21:48:08.000000000,2021-11-08 21:45:22.000000000,4,4,2,815588,45c992c1f396bc66cb61bf8fa0e448648a0d5f53,14,5,1,1,29244,Gregory Thiemonge,gthiemonge,"Fix failover of az-specific loadbalancers

There is a bug exists in CalculateAmphoraDelta class
If there is no such a key as constants.MANAGEMENT_NETWORK
in availability_zone dictionary, method get will return None
It means that management_nets list will become [None], not
CONF.controller_worker.amp_boot_network_list as it supposes to be
It breaks the following failover flow

Story: 2008669
Task: 41957
Change-Id: I435c40a5493828bce24c2850182f0ddc8e5bdd1f
(cherry picked from commit 81134bdfec79c8019c26e7846d31a2b2952965a0)
"
openstack%2Frequirements~stable%2Fussuri~I3e56c541996f83eeb6a30898225bee009630418c,openstack/requirements,stable/ussuri,new-release,I3e56c541996f83eeb6a30898225bee009630418c,update constraint for oslo.context to new release 3.0.3,MERGED,2021-11-08 17:24:45.000000000,2021-11-08 21:27:39.000000000,2021-11-08 21:27:39.000000000,3,3,0,817060,f79ffb5493cb035e5572e9f1f795b14e4d66995e,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.context to new release 3.0.3

meta: version: 3.0.3
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: HervÃ© Beraud <hberaud@redhat.com>
meta: release:Commit: HervÃ© Beraud <hberaud@redhat.com>
meta: release:Change-Id: I3bf1c9b9433467171a6c196291fd0a753ab7ac3a
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I3e56c541996f83eeb6a30898225bee009630418c
"
openstack%2Fironic-python-agent~master~If5da3075e813ae01df3decf8f0647aba111b0515,openstack/ironic-python-agent,master,partx_a,If5da3075e813ae01df3decf8f0647aba111b0515,Re-read the partition table with partx -a,MERGED,2021-11-08 07:22:52.000000000,2021-11-08 21:01:41.000000000,2021-11-08 20:58:57.000000000,22,17,9,816941,dc8c1f16f9a00e2bff21612d1a9cf0ea0f3addf0,14,3,1,3,11292,Arne Wiebalck,wiebalck,"Re-read the partition table with partx -a

Re-read the partition table with 'partx -a', rather than 'partx -u'.

This should fix an timing issue where the bootloader installation
fails to mount the EFI partition from a whole disk image since it
is not yet aware of the new partitions (observed with both, the
iscsi and the direct deploy interface).

Change-Id: If5da3075e813ae01df3decf8f0647aba111b0515
"
openstack%2Fcinder~stable%2Fxena~I2a83ab07ccec80b910c614a5f5743d642491e592,openstack/cinder,stable/xena,,I2a83ab07ccec80b910c614a5f5743d642491e592,Fix typo in message policy deprecations,MERGED,2021-10-14 17:19:38.000000000,2021-11-08 20:18:50.000000000,2021-11-08 20:14:18.000000000,2,2,9,813936,c0892af627e364334f3246f75be33a1dcc2f5a63,33,12,1,1,21129,Alan Bishop,ASBishop,"Fix typo in message policy deprecations

The similarity in the variable names for get and get_all slipped through
when we implemented project personas support for messages:

  https://review.opendev.org/c/openstack/cinder/+/806631

As a result, oslo.policy thought the policy name was changing, but it's
not. This commit updates the policy deprecations to use the right
deprecation variables.

Change-Id: I2a83ab07ccec80b910c614a5f5743d642491e592
(cherry picked from commit 651c936f22ac2a124ef1cfd486a5d3e6b1113e80)
"
openstack%2Frpm-packaging~master~I2643d7f172f0b30da1fabb97122e5fc09b8299d8,openstack/rpm-packaging,master,no-babel-osc-lib,I2643d7f172f0b30da1fabb97122e5fc09b8299d8,Remove Babel dependency from osc-lib,MERGED,2021-10-26 15:23:05.000000000,2021-11-08 20:13:10.000000000,2021-11-08 20:13:10.000000000,0,2,2,815512,3221284461753ba38dc413a44dc961dc4c337a83,15,5,1,1,23851,Riccardo Pittau,elfosardo,"Remove Babel dependency from osc-lib

It was removed from requirements  some time ago [1]

[1] https://opendev.org/openstack/osc-lib/commit/dfe47ced5a754868386fc58a4894ccc0475ef01b

Change-Id: I2643d7f172f0b30da1fabb97122e5fc09b8299d8
"
openstack%2Frpm-packaging~master~I9549337e6ae374288e358b33bdff1d3d11945133,openstack/rpm-packaging,master,,I9549337e6ae374288e358b33bdff1d3d11945133,debtcollector: add importlib-metadata dependency,MERGED,2021-11-07 18:47:21.000000000,2021-11-08 20:13:08.000000000,2021-11-08 20:13:08.000000000,1,0,0,816926,9143c8eb39e9ee97ee933b5529e7b3b904bc8191,10,6,1,1,6593,Dirk Mueller,dmllr,"debtcollector: add importlib-metadata dependency

this was added in Ib10180732042bda254b058b94c9ff41f5c31c3cb

Change-Id: I9549337e6ae374288e358b33bdff1d3d11945133
"
openstack%2Fpython-openstackclient~master~I3f7e121220d29422ccf4e6940de2f28bb8496c83,openstack/python-openstackclient,master,compute-gaps,I3f7e121220d29422ccf4e6940de2f28bb8496c83,compute: Return details of attached volumes,MERGED,2021-11-03 11:57:51.000000000,2021-11-08 19:56:36.000000000,2021-11-08 19:53:34.000000000,108,10,1,816491,163cb01e46fc3f906154a7045fdbe9342cd446c7,8,3,1,3,15334,Stephen Finucane,sfinucan,"compute: Return details of attached volumes

The API behind the 'server add volume' command returns details of the
created volume attachment, however, we were dropping these results
rather than displaying them to the user. Correct this.

Change-Id: I3f7e121220d29422ccf4e6940de2f28bb8496c83
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fcinder~stable%2Fvictoria~Ic91a978303f11617bf29c88bf82235998947552a,openstack/cinder,stable/victoria,bug/1948934,Ic91a978303f11617bf29c88bf82235998947552a,Tests: Fix compatibility with ddt 1.2.x,MERGED,2021-10-27 14:17:42.000000000,2021-11-08 19:56:23.000000000,2021-11-08 19:53:37.000000000,1,1,3,815673,bda74498d67a2d9d978eb1f522841387bec6310d,20,5,1,1,4523,Eric Harney,eharney,"Tests: Fix compatibility with ddt 1.2.x

stable/victoria lists that ddt 1.2.1 is supported,
but this decoration does not work with that version
of ddt.

Remove the TestNameFormat parameter for these tests.

(stable-branch only fix)
Closes-Bug: #1948934
Change-Id: Ic91a978303f11617bf29c88bf82235998947552a
"
openstack%2Ftripleo-docs~master~Ifee55aef3761eecfc9683d6cfa96cc4832076736,openstack/tripleo-docs,master,,Ifee55aef3761eecfc9683d6cfa96cc4832076736,Update undercloud install for EL8,MERGED,2021-08-26 16:01:20.000000000,2021-11-08 19:41:34.000000000,2021-11-08 19:38:46.000000000,10,3,6,806236,31608b234231a471c7b8b907e43f4bb3c5a90e6c,27,4,7,1,30073,Brendan Shephard,bshephar,"Update undercloud install for EL8

I think we can probably use RHEL / CentOS 8
defaults now for these docs. I added a note
to refer to the EL7 way for older installs.

Change-Id: Ifee55aef3761eecfc9683d6cfa96cc4832076736
"
openstack%2Ftripleo-specs~master~I51f340d3250ee3b03be48b962efbc001d5e7ddb7,openstack/tripleo-specs,master,change-801630-5,I51f340d3250ee3b03be48b962efbc001d5e7ddb7,TripleO.Next - Task-Core + Directord,MERGED,2021-07-21 14:47:24.000000000,2021-11-08 19:27:58.000000000,2021-11-08 19:25:20.000000000,514,10,245,801630,a52098ceb2f5fc62b36ddcc225d40f73d867cb58,210,34,13,2,7353,Kevin Carter,cloudnull,"TripleO.Next - Task-Core + Directord

Add spec to introduce task-core and directord into the tripleo stack.

Change-Id: I51f340d3250ee3b03be48b962efbc001d5e7ddb7
Co-authored-By: James Slagle <jslagle@redhat.com>
Signed-off-by: Kevin Carter <kecarter@redhat.com>
Signed-off-by: James Slagle <jslagle@redhat.com>
Signed-off-by: Alex Schultz <aschultz@redhat.com>
"
openstack%2Freleases~master~I29295dddb2619043a43957e5e2c2f64d0787784b,openstack/releases,master,dpl-validate-ptl,I29295dddb2619043a43957e5e2c2f64d0787784b,Allow to add reviewers for DPL teams,MERGED,2021-10-26 14:11:08.000000000,2021-11-08 18:20:34.000000000,2021-11-08 18:20:34.000000000,9,1,2,815507,59cabc808ccefb7c945e3f85efe9dad267dc5b90,10,3,2,1,28522,HervÃ© Beraud,hberaud,"Allow to add reviewers for DPL teams

These teams are PTL-less and not necessary define their
release liaison openstack/release/data/release_liaison.yaml.

The problem is that their official reviewers arn't necessarly
detected.

These changes allow to consider these release liaisons folks.

Change-Id: I29295dddb2619043a43957e5e2c2f64d0787784b
"
openstack%2Fironic-python-agent~stable%2Fxena~I1f67b0fb1f645fa82e98bd7c7bba3ffc7755cc74,openstack/ironic-python-agent,stable/xena,,I1f67b0fb1f645fa82e98bd7c7bba3ffc7755cc74,Fix UEFI record regex,MERGED,2021-11-08 14:05:34.000000000,2021-11-08 17:34:15.000000000,2021-11-08 17:31:55.000000000,75,6,0,817008,e10f052c06c03016b0ff4d9c1f3191c79fc50a1a,7,2,1,3,11655,Julia Kreger,jkreger,"Fix UEFI record regex

I accidently put colons on the test data and remembered taking the
colon character out of the regex I was working on, but apparently
left it in, and accounted for the active entry indicator flag
which appears to have inconsistent support across vendors.

The regex has been fixed, and a test added from a Lenovo SR650
which has some additional string entry data in the UEFI output
which may separate entries.

Change-Id: I1f67b0fb1f645fa82e98bd7c7bba3ffc7755cc74
"
openstack%2Freleases~master~Ieaf1eafc6a8e3ce443d73876e525f738e51dea67,openstack/releases,master,dpl-validate-ptl,Ieaf1eafc6a8e3ce443d73876e525f738e51dea67,Allow to check release approval for DPL teams,MERGED,2021-10-26 13:14:45.000000000,2021-11-08 17:10:50.000000000,2021-11-08 17:10:50.000000000,13,2,4,815499,3dfdc3e59be4e653bbc0085aaafed594e4c044c9,13,3,2,1,28522,HervÃ© Beraud,hberaud,"Allow to check release approval for DPL teams

These teams are PTL-less and not necessary define their
release liaison in openstack/release/data/release_liaison.yaml.

The problem is that their release liaison approval is not
necessarily detected.

These changes allow to consider these release liaisons folks.

Furthermore, patch Id0d6eeaf66394806374781d1cf26c087a6e90f87,
from the similar script in project-config repository, also applied
here in this script to avoid exception in case of DPL teams.

Change-Id: Ieaf1eafc6a8e3ce443d73876e525f738e51dea67
"
openstack%2Freleases~master~I3bf1c9b9433467171a6c196291fd0a753ab7ac3a,openstack/releases,master,oslo-ussuri,I3bf1c9b9433467171a6c196291fd0a753ab7ac3a,[ussuri] release oslo.context 3.0.3,MERGED,2021-11-04 14:52:15.000000000,2021-11-08 17:07:39.000000000,2021-11-08 17:07:39.000000000,4,0,1,816707,ce1b31fb2279183b3359483c7c65c6c2197ef1cf,8,3,1,1,28522,HervÃ© Beraud,hberaud,"[ussuri] release oslo.context 3.0.3

Change-Id: I3bf1c9b9433467171a6c196291fd0a753ab7ac3a
"
openstack%2Fsushy~master~I4bf07bc688c0b5ddab7ed7ddabc6f82dd35f1f84,openstack/sushy,master,vmedia-1.4.0,I4bf07bc688c0b5ddab7ed7ddabc6f82dd35f1f84,Add some VirtualMedia fields from 1.3.0 and 1.4.0,MERGED,2021-10-15 15:49:50.000000000,2021-11-08 16:42:54.000000000,2021-11-08 16:40:28.000000000,110,21,9,814191,ff11a204dac0df5a7c0e9d8e71b773e2774a3f76,27,3,4,4,10239,Dmitry Tantsur,dtantsur,"Add some VirtualMedia fields from 1.3.0 and 1.4.0

Adds and allows changing TransferMethod and VerifyCertificate.
Also allows reading UserName.

Change-Id: I4bf07bc688c0b5ddab7ed7ddabc6f82dd35f1f84
"
openstack%2Fnova~stable%2Fvictoria~Icb7e3379248fe00f9a94f9860181b5de44902379,openstack/nova,stable/victoria,bug/1944759,Icb7e3379248fe00f9a94f9860181b5de44902379,Reproduce bug 1944759,MERGED,2021-09-24 13:56:04.000000000,2021-11-08 16:17:02.000000000,2021-11-08 16:14:31.000000000,121,0,2,810914,0b1fa9b4ae01114299c5225d66e1f6eba25be43e,11,3,1,1,9708,Balazs Gibizer,gibi,"Reproduce bug 1944759

Add functional tests to reproduce the race between resize_instance()
and update_available_resources().

Related-Bug: #1944759

Change-Id: Icb7e3379248fe00f9a94f9860181b5de44902379
(cherry picked from commit 3e4e4489b7a6e9cdefcc6ff02ed99a0a70420fca)
(cherry picked from commit e6c6880465824f1e327a54143f32bb5a5816ff6c)
(cherry picked from commit 140ae45d98dabd30aef5c0ac075346de4eabcea1)
"
openstack%2Ftripleo-upgrade~master~I6ea4d91165644d28a575dfebeada588f7a8cd7f3,openstack/tripleo-upgrade,master,remove_update_converge,I6ea4d91165644d28a575dfebeada588f7a8cd7f3,Remove update converge,MERGED,2021-09-21 00:31:36.000000000,2021-11-08 16:03:58.000000000,2021-10-12 01:12:57.000000000,0,33,0,810134,edb205f55e63c1a41f3b01642c3ce260914d559b,16,6,5,3,30073,Brendan Shephard,bshephar,"Remove update converge

Update converge is largely unnecessary now with
ephemeral Heat. There is no Heat stack to update,
so we are doing nothing more than executing a
standard deployment using Ansible. Removing
the requirement for update converge will simplify
the process and improve user experience by reducing
the time it takes to perform minor updates.

Related: https://review.opendev.org/c/openstack/python-tripleoclient/+/810132
Change-Id: I6ea4d91165644d28a575dfebeada588f7a8cd7f3
"
openstack%2Fironic-python-agent~stable%2Fxena~Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc,openstack/ironic-python-agent,stable/xena,,Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc,Delete EFI boot entry duplicate labels first,MERGED,2021-11-04 08:22:48.000000000,2021-11-08 15:58:22.000000000,2021-11-08 15:56:27.000000000,51,24,0,816489,33b39705a50513c5af411216b48e2a6f6ac9ab14,7,3,1,3,23851,Riccardo Pittau,elfosardo,"Delete EFI boot entry duplicate labels first

Some firmware seems to take an objection with EFI nvram
entries being deleted after one is added, resulting in the
entire entry table being reset to the last known good state.

This is problematic, as ultimately deployments can time out
if we previously booted with Networking, and the machine, while
commanded to do other wise, reboots back to networking regardless.

We will now delete entries first, before proceeding.

Additionally, for general use, this pattern may serve the
community better by avoiding cases where we would have
previously just relied upon efibootmgr[0] to warn us of duplicate
entries.

[0]: https://github.com/rhboot/efibootmgr/blob/103aa22ece98f09fe3ea2a0c83988f0ee2d0e5a8/src/efibootmgr.c#L228

Change-Id: Ib61a7100a059e79a8b0901fd8f46b9bc41d657dc
Story: 2009649
Task: 43808
(cherry picked from commit 67eddfa7e3fedbb530045f5b43a2c89db832fa2a)
"
openstack%2Fsushy-tools~master~Iee0df7e5662869ed1ed4d94fd9ffff20a74ee14f,openstack/sushy-tools,master,upgrade-test-deps,Iee0df7e5662869ed1ed4d94fd9ffff20a74ee14f,Update pep8 test requirements,MERGED,2021-10-19 09:36:25.000000000,2021-11-08 15:55:45.000000000,2021-11-08 15:53:46.000000000,5,5,0,814541,35f427934ba31d564206257cd17f9c4423ee8da0,11,3,2,2,23851,Riccardo Pittau,elfosardo,"Update pep8 test requirements

Change-Id: Iee0df7e5662869ed1ed4d94fd9ffff20a74ee14f
"
openstack%2Fnova~master~Ib18ff53a5fa312cd7a157d116caabd8ee48bd204,openstack/nova,master,,Ib18ff53a5fa312cd7a157d116caabd8ee48bd204,Fix instance action event result inconsistent,NEW,2021-11-08 11:20:09.000000000,2021-11-08 15:44:02.000000000,,4,3,1,816990,8e22c5ac914fd08dd1d657a0f8c55a38e7bc502d,10,2,1,1,33860,wujian,wujian666,"Fix instance action event result inconsistent

    The instance action events will record all events in
    wrap_instance_event. The event result is inconsistent
    when execute the repeated event.
    We should update the latest event in action_event_finish.

Closes-bug: #1950138
Change-Id: Ib18ff53a5fa312cd7a157d116caabd8ee48bd204
"
openstack%2Ftripleo-docs~master~If8a0c52b376fd429bd59b2b1a17ade9154726f3a,openstack/tripleo-docs,master,,If8a0c52b376fd429bd59b2b1a17ade9154726f3a,Add a note about private registries unsupported,MERGED,2021-11-03 08:38:28.000000000,2021-11-08 15:29:02.000000000,2021-11-08 15:27:06.000000000,9,1,1,816439,048005225303e8839f2c18af9c3a691d336787fe,11,6,2,1,6926,Bogdan Dobrelya,bogdando,"Add a note about private registries unsupported

Private HTTPS container registries are not tested
in TripleO. Describe available options if one is have to be used.

Change-Id: If8a0c52b376fd429bd59b2b1a17ade9154726f3a
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-docs~master~Ief2c8a3198a9ade9610a5d08b705a6e9617ab2f0,openstack/tripleo-docs,master,ephemeral-heat,Ief2c8a3198a9ade9610a5d08b705a6e9617ab2f0,Document DeployedServerPortMap deprecation,MERGED,2021-06-15 17:12:24.000000000,2021-11-08 15:23:38.000000000,2021-11-08 15:21:14.000000000,203,171,5,796525,7e65bbeec10eb1ea4184f8b8f82c9c7c95ff54db,16,3,3,1,7144,James Slagle,slagle,"Document DeployedServerPortMap deprecation

Adds documentation around the deprecation of DeployedServerPortMap and
also updates the deployed-server docs to remove the parts related to
configuring the nodes with Heat as that has not been used since Queens.

Change-Id: Ief2c8a3198a9ade9610a5d08b705a6e9617ab2f0
Signed-off-by: James Slagle <jslagle@redhat.com>
Depends-On: Ib59bb985fe15f612f93a33b1a688427e684654dd
"
openstack%2Fbifrost~master~Ifcf33e79ced1ec6e679847cb1c4130d8b5ba224b,openstack/bifrost,master,ansible-lint-bump,Ifcf33e79ced1ec6e679847cb1c4130d8b5ba224b,Bump ansible lint to latest version,MERGED,2021-10-25 12:35:27.000000000,2021-11-08 15:08:44.000000000,2021-11-08 15:06:20.000000000,1,1,0,815293,208135359d6d52cf78f0376ee94380dfc746098f,9,3,1,1,23851,Riccardo Pittau,elfosardo,"Bump ansible lint to latest version

Keep the version to 5.x for the time being

Change-Id: Ifcf33e79ced1ec6e679847cb1c4130d8b5ba224b
"
openstack%2Ftripleo-repos~master~I224b336b0aded61e64ba141b84cc6a0977e1e55d,openstack/tripleo-repos,master,cleanup-code,I224b336b0aded61e64ba141b84cc6a0977e1e55d,Remove EOL releases code,NEW,2021-09-23 07:08:40.000000000,2021-11-08 14:47:39.000000000,,2,17,2,810555,06db6bce87e8f7bb9f47aa6b1384e8ac3ca25d4c,3,2,1,2,20182,Bhagyashri Shewale,bhagyashris,"Remove EOL releases code

Change-Id: I224b336b0aded61e64ba141b84cc6a0977e1e55d
"
openstack%2Fvirtualbmc~master~I54afbe68951cc8de2f5e3bca97a38bc2f8828da9,openstack/virtualbmc,master,upgrade-test-deps,I54afbe68951cc8de2f5e3bca97a38bc2f8828da9,Update pep8 test requirements,MERGED,2021-10-19 09:35:23.000000000,2021-11-08 14:44:40.000000000,2021-11-08 14:42:30.000000000,3,3,0,814540,d35a80fe0374110a7272e650e559cf82e1f08d9e,9,3,1,1,23851,Riccardo Pittau,elfosardo,"Update pep8 test requirements

Change-Id: I54afbe68951cc8de2f5e3bca97a38bc2f8828da9
"
openstack%2Ftripleo-ansible~master~I58681bf6b2acc663d95b2a0105bfb72ec420b845,openstack/tripleo-ansible,master,I58681bf6b2acc663d95b2a0105bfb72ec420b845,I58681bf6b2acc663d95b2a0105bfb72ec420b845,Allow configurable tripleo-repos git repository and directory during FFU.,ABANDONED,2019-10-04 17:03:34.000000000,2021-11-08 14:40:22.000000000,,9,6,6,686773,9bdf450b7df98396ef04a6efde676644f6db5fce,58,8,11,3,25877,Luke Short,ekultails,"Allow configurable tripleo-repos git repository and directory during FFU.

Addresses comments brought up in:
https://review.opendev.org/#/c/678567/12/tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml

Change-Id: I58681bf6b2acc663d95b2a0105bfb72ec420b845
Signed-off-by: ekultails <ekultails@gmail.com>
"
openstack%2Fnova~master~I358ff8128746c9d0c584a03381e55817c4aace3f,openstack/nova,master,trivial,I358ff8128746c9d0c584a03381e55817c4aace3f,"Revert ""tox: Encode specific Python versions""",MERGED,2021-08-11 17:34:29.000000000,2021-11-08 14:26:19.000000000,2021-11-08 14:23:55.000000000,1,2,7,804168,1e02c81721ec15737cfd9d5e62831da030cc22ad,21,5,2,1,11604,sean mooney,sean-k-mooney,"Revert ""tox: Encode specific Python versions""

This reverts commit 89e321b7b5c88ab7cfab53103295774ca535f0df.

Reason for revert: The previous change require develper to install multiple spcific version python 
locally to run the test envs and it arbitrally pins lower constratins to the 
oldest python we support but lower contratis shoudl work with the newwst python we support too.
on fedora or other operating systems that ship with default python version that exceed our supported
versions test can be run with tox -e py38 if required.

similarly our updated constratins shoudl work with the older python.

Change-Id: I358ff8128746c9d0c584a03381e55817c4aace3f
"
openstack%2Fironic-python-agent~master~I1ce5299da4fd8a108da8076411335ffbbca44147,openstack/ironic-python-agent,master,,I1ce5299da4fd8a108da8076411335ffbbca44147,TBD: Add Lenovo SR650 issue note,ABANDONED,2021-11-03 17:35:09.000000000,2021-11-08 14:01:37.000000000,,7,0,1,816545,5f30e7d131230b7772be0f52214d92c4429f38b5,4,1,1,1,11655,Julia Kreger,jkreger,"TBD: Add Lenovo SR650 issue note

Task: 43842
Story: 2009660
Change-Id: I1ce5299da4fd8a108da8076411335ffbbca44147
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I27335a9f0ea873a776556d645b25999f05b91c63,openstack/tripleo-heat-templates,stable/train,scenario010-branchful,I27335a9f0ea873a776556d645b25999f05b91c63,[DNM] Testing sc10 jobs with nested virt,NEW,2021-11-01 14:52:14.000000000,2021-11-08 13:48:12.000000000,,1,0,0,816182,9a4c07c1ac038fc9476c4c73f03af0e4c9bcbe9f,8,2,2,1,30750,amolkahat,amolkahat,"[DNM] Testing sc10 jobs with nested virt

Depends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/816975
Change-Id: I27335a9f0ea873a776556d645b25999f05b91c63
"
openstack%2Fnova~master~I15efc38258685375284d8a97004777385023c6e8,openstack/nova,master,bp/remove-sqlalchemy-migrate,I15efc38258685375284d8a97004777385023c6e8,objects: Stop querying the main DB for keypairs,MERGED,2021-10-01 14:34:34.000000000,2021-11-08 13:29:55.000000000,2021-11-08 13:26:21.000000000,149,573,1,812147,944033061c173ea432fa16e9a2d3bafdfc08a308,15,3,2,8,15334,Stephen Finucane,sfinucan,"objects: Stop querying the main DB for keypairs

This was migrated to the API DB during the 14.0.0 (Newton) release [1]
and the 345 migration introduced during the 15.0.0 (Ocata) release [2]
ensures we should no longer have any entries left in the main database.

The actual model isn't removed yet. That will be done separately.

[1] I5f6d88fee47dd87de2867d3947d65b04f0b21e8f
[2] Iab714d9e752c334cc1cc14a0d524cc9cf5d115dc

Change-Id: I15efc38258685375284d8a97004777385023c6e8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~If18344034b31d9f6168e7a1c7d49bdcb3d53113e,openstack/nova,master,bp/remove-sqlalchemy-migrate,If18344034b31d9f6168e7a1c7d49bdcb3d53113e,db: Remove legacy placement models,MERGED,2021-10-01 14:34:34.000000000,2021-11-08 13:28:18.000000000,2021-11-08 13:26:11.000000000,17,230,2,812146,1f648b4f7763e33675d5a16d426fd3d3cd701069,32,4,2,1,15334,Stephen Finucane,sfinucan,"db: Remove legacy placement models

These are now managed separately via the extracted placement project. We
no longer need to include them in the API database.

Change-Id: If18344034b31d9f6168e7a1c7d49bdcb3d53113e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fpuppet-neutron~master~Ie8b347a4705045dfa0363284ec41e9e519ec19f9,openstack/puppet-neutron,master,,Ie8b347a4705045dfa0363284ec41e9e519ec19f9,Change authentication method for Mellanox sdn controller,MERGED,2021-10-19 11:12:30.000000000,2021-11-08 13:11:40.000000000,2021-11-08 13:09:53.000000000,49,17,20,814554,8ce1ea3d936856354beff4a8df18d05fd5e2c6c7,27,5,7,3,25241,waleed mousa,waleedm,"Change authentication method for Mellanox sdn controller

Change sdn authentication from basic(username, password) to token
authentication, deprecate username and password and add a new
parameter token

Depends-on: https://review.opendev.org/814557
Change-Id: Ie8b347a4705045dfa0363284ec41e9e519ec19f9
"
openstack%2Fcharm-ceilometer~stable%2F21.10~Id58ffae483ac4a897a73170b796f47be01eefc4b,openstack/charm-ceilometer,stable/21.10,pin-pyparsing,Id58ffae483ac4a897a73170b796f47be01eefc4b,Pin pyparsing in order to fix the gate,MERGED,2021-11-08 09:02:48.000000000,2021-11-08 13:08:01.000000000,2021-11-08 13:08:01.000000000,1,0,1,816948,5b29872a3aa0fdf39b93a9af23e0a4d2825d32d7,8,4,1,1,31289,Aurelien Lourot,lourot,"Pin pyparsing in order to fix the gate

Change-Id: Id58ffae483ac4a897a73170b796f47be01eefc4b
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0c337ed9a641fd720500771d528229ddb735b7e3,openstack/tripleo-heat-templates,stable/train,upgrade-mariadb-pkg-host,I0c337ed9a641fd720500771d528229ddb735b7e3,[FFU] Remove mariadb-server packages from the host,ABANDONED,2021-10-19 09:10:16.000000000,2021-11-08 13:03:14.000000000,,1,0,4,814532,6c380b44ebd08ee2ce79d0bc5e9e0f76d7935b0f,10,3,1,1,20778,Damien Ciabrini,dciabrin,"[FFU] Remove mariadb-server packages from the host

During a FFU, if mariadb-server is installed
on the host and can be upgraded, the install scriptlets
will chown /var/lib/mysql, thus impacting the regular
containerized mysql service. This can make the
mysql upgrade container fail to start and will break
the ongoing FFU.

Make sure mariadb-server is never installed, while
keeping mariadb CLI if already present on the host, to
avoid operational impacts.

Change-Id: I0c337ed9a641fd720500771d528229ddb735b7e3
Closes-Bug: #1946742
"
openstack%2Fneutron~stable%2Ftrain~Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,openstack/neutron,stable/train,bug/1948642-stable/train,Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,Don't setup bridge controller if it is already set,MERGED,2021-11-03 11:16:17.000000000,2021-11-08 12:48:22.000000000,2021-11-08 12:46:14.000000000,64,13,4,816459,4456a87dac68d566970d32100b3b6565cb508419,14,3,2,4,11975,Slawek Kaplonski,slaweq,"Don't setup bridge controller if it is already set

Setting new controller for bridge every time when neutron-ovs-agent
is restarted or is doing full-sync may cause some short data plane
connectivity loss and is not needed if same controller is already
configured for the bridge.
With this patch neutron-ovs-agent will first check if controller is
configured for the bridge and if it's the same as what should be
configured, it will skip setting it up.

With this patch also protocols added to the bridge will be first checked
if they aren't already there and only missing ones will be added if
necessary.

Setting of the connectivity mode and inactivity probe is
always performed as this don't cause connectivity issues and is cheap
so we can always ensure that those parameters are configured properly.

Conflicts:
    neutron/agent/common/ovs_lib.py
    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py

Closes-Bug: #1948642
Change-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67
(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)
(cherry picked from commit b1eccf5a2deaf6d18ff18dfacfbcf7ef7fdb781f)
(cherry picked from commit 11fe2bff17d8ad27c0c49037fcd36203f9baa32d)
"
openstack%2Fneutron~stable%2Fussuri~Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,openstack/neutron,stable/ussuri,bug/1948642-stable/victoria-stable/ussuri,Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,Don't setup bridge controller if it is already set,MERGED,2021-11-03 11:13:26.000000000,2021-11-08 12:48:21.000000000,2021-11-08 12:46:09.000000000,63,12,0,816349,11fe2bff17d8ad27c0c49037fcd36203f9baa32d,10,4,1,4,11975,Slawek Kaplonski,slaweq,"Don't setup bridge controller if it is already set

Setting new controller for bridge every time when neutron-ovs-agent
is restarted or is doing full-sync may cause some short data plane
connectivity loss and is not needed if same controller is already
configured for the bridge.
With this patch neutron-ovs-agent will first check if controller is
configured for the bridge and if it's the same as what should be
configured, it will skip setting it up.

With this patch also protocols added to the bridge will be first checked
if they aren't already there and only missing ones will be added if
necessary.

Setting of the connectivity mode and inactivity probe is
always performed as this don't cause connectivity issues and is cheap
so we can always ensure that those parameters are configured properly.

Conflicts:
    neutron/agent/common/ovs_lib.py
    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py

Closes-Bug: #1948642
Change-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67
(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)
(cherry picked from commit b1eccf5a2deaf6d18ff18dfacfbcf7ef7fdb781f)
"
openstack%2Fkayobe-config-dev~stable%2Fxena~Ic21d883a83ff738b89a39ba35a4d63c7d1762649,openstack/kayobe-config-dev,stable/xena,,Ic21d883a83ff738b89a39ba35a4d63c7d1762649,Fix configuration sync for infra-vms,MERGED,2021-11-05 14:02:28.000000000,2021-11-08 12:43:48.000000000,2021-11-08 12:43:48.000000000,16,1,0,816849,b4a4c99129ca6a2fd1caf7362581e9c16081b885,7,3,1,3,15197,Pierre Riteau,priteau,"Fix configuration sync for infra-vms

Change-Id: Ic21d883a83ff738b89a39ba35a4d63c7d1762649
(cherry picked from commit 206f7f996876c0f261f1ebb0a19db5cb39fec67e)
"
openstack%2Fnova~master~I87aa88e28814051a77a462c4a19cce11820e15ca,openstack/nova,master,allow-cross-az-migration,I87aa88e28814051a77a462c4a19cce11820e15ca,WIP: Add new option to restrict migration within az,ABANDONED,2020-03-28 13:48:42.000000000,2021-11-08 12:39:25.000000000,,29,0,0,715621,a0c00f964bc6f4f752ca69224760806701fdd76d,15,10,1,3,9816,Takashi Kajinami,kajinamit,"WIP: Add new option to restrict migration within az

This patch introduces a new parameter compute/allow_migration_across_az
so that operators can controll whether it is allowed to migrate an
instancde to a different availability zone.

It is useful to dislabe this parameter when cinder/cross_az_attach is
disabled, because it allows us to avoid issue caused by az mismatch
between an instance and its volumes after migration.

Change-Id: I87aa88e28814051a77a462c4a19cce11820e15ca
"
openstack%2Fneutron~master~Iaa8d3e633e05d81fefaf016780dcf59c9effde97,openstack/neutron,master,no_admin_endpoint,Iaa8d3e633e05d81fefaf016780dcf59c9effde97,WIP: Change default domain to Default for rally,ABANDONED,2021-11-05 08:53:07.000000000,2021-11-08 12:38:16.000000000,,4,0,1,816794,fbb793c8898664fd81f2b363bb4804d8281b074d,10,3,2,1,8313,Lajos Katona,elajkat,"WIP: Change default domain to Default for rally

With the merge of [1] devstack no more creates admin endpoint.

[1]: https://review.opendev.org/c/openstack/devstack/+/777345

Related-Bug: #1949945
Change-Id: Iaa8d3e633e05d81fefaf016780dcf59c9effde97
"
openstack%2Fnova~master~I5669e20bf8e693df073ce6a2b1c098f9825e13f4,openstack/nova,master,bug/1946546,I5669e20bf8e693df073ce6a2b1c098f9825e13f4,Add a timeout for waiting volume snapshot ready,NEW,2021-10-11 14:26:16.000000000,2021-11-08 12:34:25.000000000,,24,13,7,813443,2da9a20d09af4812a81f4760bf8366662ec50b82,8,4,1,2,29071,norman shen,ushen,"Add a timeout for waiting volume snapshot ready

Endlessly waiting for a volume snapshot being
ready is not user friendly. This PS adds a timeout
and quits if a user defined timeout has met.

Closes-bug: #1946546
Change-Id: I5669e20bf8e693df073ce6a2b1c098f9825e13f4
"
openstack%2Fmanila~master~Ia7dc0e441057487e42b356b5d0ee22d5615be0a5,openstack/manila,master,bug/1948646,Ia7dc0e441057487e42b356b5d0ee22d5615be0a5,[doc] Fix config and install guide for the generic driver,MERGED,2021-10-25 23:04:20.000000000,2021-11-08 12:18:29.000000000,2021-11-08 12:15:38.000000000,213,30,2,815388,9b21f4e476880cb9871e584521f9565660140f57,18,6,2,2,16643,Goutham Pacha Ravi,gouthamr,"[doc] Fix config and install guide for the generic driver

The generic driver needs to communicate with cinder, nova, neutron
and glance. It does so using credentials set in the configuration
file; some of this information was missing in our install and config
guides.

Change-Id: Ia7dc0e441057487e42b356b5d0ee22d5615be0a5
Closes-Bug: #1948646
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fpuppet-nova~master~Ie1d6006020970ade3e1597dc9f68f9a5503283b4,openstack/puppet-nova,master,os_package_type,Ie1d6006020970ade3e1597dc9f68f9a5503283b4,Avoid usage of custom os_package_type fact,MERGED,2021-11-04 13:33:38.000000000,2021-11-08 12:01:00.000000000,2021-11-08 12:01:00.000000000,12,25,0,816697,4b553afc8ce82deb4c5306c96168ec05b056a2f2,9,3,2,8,9816,Takashi Kajinami,kajinamit,"Avoid usage of custom os_package_type fact

Currently the os_package_type fact is used to distinguish Ubuntu and
Debian but it's redundant and built-in $::operatingsystem should be
enough. What is worse the custom fact is not injected while composing
facts data in unit tests and has never been tested properly.

Change-Id: Ie1d6006020970ade3e1597dc9f68f9a5503283b4
"
openstack%2Fpuppet-ironic~master~I98295588b5791becb2fc464d4a15ec9cb45207e4,openstack/puppet-ironic,master,os_package_type,I98295588b5791becb2fc464d4a15ec9cb45207e4,Avoid usage of custom os_package_type fact,MERGED,2021-11-04 13:20:08.000000000,2021-11-08 11:56:24.000000000,2021-11-08 11:56:24.000000000,1,1,0,816693,b0a998ee7507c6321414d2559c5b925a7604686e,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Avoid usage of custom os_package_type fact

Currently the os_package_type fact is used to distinguish Ubuntu and
Debian but it's redundant and built-in $::operatingsystem should be
enough. What is worse the custom fact is not injected while composing
facts data in unit tests and has never been tested properly.

Change-Id: I98295588b5791becb2fc464d4a15ec9cb45207e4
"
openstack%2Fpuppet-horizon~stable%2Fussuri~Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f,openstack/puppet-horizon,stable/ussuri,puppet-horizon-dashboards-stable/victoria-stable/ussuri,Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f,Wallaby and older: Use 'UNSET' to remove heat dashboard parameters,MERGED,2021-11-02 12:05:16.000000000,2021-11-08 11:56:22.000000000,2021-11-08 11:56:22.000000000,7,4,0,816331,1e209cbf6964c2778e059cbc26f2dbd0a5d5b54e,7,3,1,3,9816,Takashi Kajinami,kajinamit,"Wallaby and older: Use 'UNSET' to remove heat dashboard parameters

The change 655e0df25e40b401d2daa5d673a416215ccd17b7 introduced
the logic to remove the enable_user_pass parameter from the root
local_settings using 'undef' but it turned out we can't set any
parameter to 'undef' using hieradata because setting undef results in
using the default, which is 'true'.

This introduces usage of 'UNSET', which can be defined using hieradata
mechanism.

Change-Id: Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f
(cherry picked from commit 8437bc4f341e8ec584c32bc50a1d9301b39ed1f1)
(cherry picked from commit d2fef29e6098bd958e78073ec267230248e3eaf9)
"
openstack%2Fpuppet-placement~master~Ie6482ced6ab0fdf2f406d60b8c2d329dd494a636,openstack/puppet-placement,master,os_package_type,Ie6482ced6ab0fdf2f406d60b8c2d329dd494a636,Avoid usage of custom os_package_type fact,MERGED,2021-11-04 13:16:46.000000000,2021-11-08 11:49:59.000000000,2021-11-08 11:49:59.000000000,3,3,2,816692,11c40173f1a42cbf1c4f7a8196dfb8fde286bf63,10,3,2,2,9816,Takashi Kajinami,kajinamit,"Avoid usage of custom os_package_type fact

Currently the os_package_type fact is used to distinguish Ubuntu and
Debian but it's redundant $::operatingsystem should be enough. What is
worse the custom fact is not injected while composing facts data in
unit tests and has never been tested properly.

Change-Id: Ie6482ced6ab0fdf2f406d60b8c2d329dd494a636
"
openstack%2Fovn-octavia-provider~master~I8c805504e8a9e06dcdd4b1ac850d54400ef05b40,openstack/ovn-octavia-provider,master,fix-ci,I8c805504e8a9e06dcdd4b1ac850d54400ef05b40,Fix lower-constanints and pep8 jobs,MERGED,2021-11-05 12:10:51.000000000,2021-11-08 11:31:44.000000000,2021-11-08 11:25:43.000000000,32,37,0,816829,e9bf916b928005ee232a637e5e49d829cc84f074,14,5,4,5,11975,Slawek Kaplonski,slaweq,"Fix lower-constanints and pep8 jobs

This patch switches using f-strings instead of regular ones in places
where pep8 was complaining about with error C0209.

It also updates some of the lower-constraints to align them with
Neutron's lower-constraints and to make ci job happy.

It also changes OVN_BRANCH from ""master"" to ""main"" as that was renamed
in the OVN repo some time ago.

Change-Id: I8c805504e8a9e06dcdd4b1ac850d54400ef05b40
"
openstack%2Fpuppet-horizon~stable%2Ftrain~Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f,openstack/puppet-horizon,stable/train,puppet-horizon-dashboards-stable/victoria-stable/ussuri-stable/train,Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f,Wallaby and older: Use 'UNSET' to remove heat dashboard parameters,MERGED,2021-11-02 12:05:44.000000000,2021-11-08 11:23:14.000000000,2021-11-08 11:23:14.000000000,7,4,0,816332,c551d0d96a71956a5f48bee7a100d3483fabcf2f,7,3,1,3,9816,Takashi Kajinami,kajinamit,"Wallaby and older: Use 'UNSET' to remove heat dashboard parameters

The change 655e0df25e40b401d2daa5d673a416215ccd17b7 introduced
the logic to remove the enable_user_pass parameter from the root
local_settings using 'undef' but it turned out we can't set any
parameter to 'undef' using hieradata because setting undef results in
using the default, which is 'true'.

This introduces usage of 'UNSET', which can be defined using hieradata
mechanism.

Change-Id: Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f
(cherry picked from commit 8437bc4f341e8ec584c32bc50a1d9301b39ed1f1)
(cherry picked from commit d2fef29e6098bd958e78073ec267230248e3eaf9)
(cherry picked from commit 1e209cbf6964c2778e059cbc26f2dbd0a5d5b54e)
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I781a894089320067d0ad3e174aed18fabe7c6ce2,openstack/tripleo-upgrade,stable/train,chp-798373,I781a894089320067d0ad3e174aed18fabe7c6ce2,Add different migration actions based on guest,NEW,2021-10-11 14:40:32.000000000,2021-11-08 11:18:39.000000000,,103,16,9,813445,3e56c2a88aab5e741756f2d596a5168ec7a52f17,15,6,1,4,20171,Yariv,Yarboa,"Add different migration actions based on guest

There are currently workloads that do not support live-migration during
the upgrades process. Example workloads include guests with SR-IOV
ports, pci-passthrough, ovs+dpdk vhost ports, or cpu pinning. Nova would
also like to test the results of upgrades when a workload is not
migrated off a host and is left in place.

This commit checks a workloads metadata and takes the appropriate action
based on the data. I.e. it will live, cold, or not migrate based on the
metadata of the instance. If no meta-data is present on the instance
describing the workload action, it will default to live migration unless
compute_cold_evacuate is set, in which case it will default to cold
migration.

Change-Id: I781a894089320067d0ad3e174aed18fabe7c6ce2
"
openstack%2Fkayobe-config~stable%2Fxena~I60c6a1839a54afbfa9c2c92bd5bbf5b247877e8f,openstack/kayobe-config,stable/xena,,I60c6a1839a54afbfa9c2c92bd5bbf5b247877e8f,Fix configuration sync for infra-vms,MERGED,2021-11-05 14:00:16.000000000,2021-11-08 11:06:20.000000000,2021-11-08 11:06:20.000000000,16,1,0,816846,9fe4b1add5dd8fcd3045648f1a2096f69d690de0,7,3,1,3,15197,Pierre Riteau,priteau,"Fix configuration sync for infra-vms

Change-Id: I60c6a1839a54afbfa9c2c92bd5bbf5b247877e8f
(cherry picked from commit ace9a4dbe1a7963b041f3edb3f12aee2319f5983)
"
openstack%2Fkayobe-config~master~I60c6a1839a54afbfa9c2c92bd5bbf5b247877e8f,openstack/kayobe-config,master,,I60c6a1839a54afbfa9c2c92bd5bbf5b247877e8f,Fix configuration sync for infra-vms,MERGED,2021-11-05 14:00:01.000000000,2021-11-08 11:05:14.000000000,2021-11-08 11:05:14.000000000,16,1,0,816845,ace9a4dbe1a7963b041f3edb3f12aee2319f5983,7,3,1,3,15197,Pierre Riteau,priteau,"Fix configuration sync for infra-vms

Change-Id: I60c6a1839a54afbfa9c2c92bd5bbf5b247877e8f
"
openstack%2Ftripleo-ansible~master~Ie0e41332de65471c1dfd67552ff7283740968aca,openstack/tripleo-ansible,master,,Ie0e41332de65471c1dfd67552ff7283740968aca,Add redhat-8 vars file for using it outside,ABANDONED,2021-11-03 09:51:37.000000000,2021-11-08 10:50:58.000000000,,18,0,9,816445,278aff5129ba0546dd04b41fcc57708465d9932a,16,5,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add redhat-8 vars file for using it outside

When using the role tasks outside the role, we'll need to specify
exactly which vars file to load from vars/ folder.

Change-Id: Ie0e41332de65471c1dfd67552ff7283740968aca
"
openstack%2Ftooz~master~Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1,openstack/tooz,master,redis-retry-fix,Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1,Enable retries in redis driver,MERGED,2021-06-10 14:18:16.000000000,2021-11-08 10:36:41.000000000,2021-11-07 12:28:20.000000000,41,36,7,795791,47c4d56e446a49726e7145c6cbc3bb7620a431f7,26,5,3,2,9542,Pavlo Shchelokovskyy,pshchelo,"Enable retries in redis driver

this is followup to Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b

actually retry for specified number of retries instead of raising
error on first ConnectionError

Change-Id: Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1
"
openstack%2Fpuppet-keystone~master~If66024623f9bccff6d176274abd6a20471a3a455,openstack/puppet-keystone,master,concat,If66024623f9bccff6d176274abd6a20471a3a455,Add missing dependency on puppetlabs-concat,MERGED,2021-10-25 09:34:24.000000000,2021-11-08 09:57:03.000000000,2021-11-08 09:57:03.000000000,4,0,0,815262,e376c5d7aa719a7d7c9dfe57b6119147a9526d53,8,3,2,1,9816,Takashi Kajinami,kajinamit,"Add missing dependency on puppetlabs-concat

Change-Id: If66024623f9bccff6d176274abd6a20471a3a455
"
openstack%2Fpuppet-horizon~master~Ie97aef6463201014af74c73c052cc04035f4446d,openstack/puppet-horizon,master,concat,Ie97aef6463201014af74c73c052cc04035f4446d,Add missing dependency on puppetlabs-concat,MERGED,2021-10-25 09:33:48.000000000,2021-11-08 09:56:56.000000000,2021-11-08 09:56:56.000000000,4,0,0,815261,2e875c881e2f2d948d1e126b10449746cf90e5fd,8,3,2,1,9816,Takashi Kajinami,kajinamit,"Add missing dependency on puppetlabs-concat

Change-Id: Ie97aef6463201014af74c73c052cc04035f4446d
"
openstack%2Fpuppet-designate~master~I7d87ab1ac520506abf89024fb4d1384329b33ea3,openstack/puppet-designate,master,concat,I7d87ab1ac520506abf89024fb4d1384329b33ea3,Add missing dependency on puppetlabs-concat,MERGED,2021-10-25 09:36:42.000000000,2021-11-08 09:56:27.000000000,2021-11-08 09:56:27.000000000,4,0,0,815263,2047e92da79f853de251a1674afd5f00a11561c8,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Add missing dependency on puppetlabs-concat

Change-Id: I7d87ab1ac520506abf89024fb4d1384329b33ea3
"
openstack%2Fec2-api~master~Ifcddf9a273b8d846511f31c49022d41c69030718,openstack/ec2-api,master,,Ifcddf9a273b8d846511f31c49022d41c69030718,Changed minversion in tox to 3.18.0,ABANDONED,2021-09-18 03:55:07.000000000,2021-11-08 07:00:34.000000000,,3,3,0,809919,b094e903e39ade0382a1f912f6598f1de5864098,9,1,2,1,32291,wushiming,wushiming,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ifcddf9a273b8d846511f31c49022d41c69030718
"
openstack%2Ftripleo-quickstart-extras~master~I4ed128e1409cce444ef904463cf51535bb42a2f7,openstack/tripleo-quickstart-extras,master,,I4ed128e1409cce444ef904463cf51535bb42a2f7,Set whole_disk_images default to false,ABANDONED,2021-11-04 10:59:02.000000000,2021-11-08 06:52:06.000000000,,6,6,10,816640,41a0c9d2a4d7357d7d33c04b416f99e6fd6dc612,19,6,1,3,8449,Marios Andreou,marios,"Set whole_disk_images default to false

As described in related-bug, we need to stop hard-coding this in
the release files with [1]. So we need to set a default in those
places the var is currently referenced

[1] I0b555676ce565d142a08e9d38d9e3c8ee7cb1a92
Related-Bug: 1949765
Change-Id: I4ed128e1409cce444ef904463cf51535bb42a2f7
"
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I05f9a8e4332be9bea2c623202c01b1c133045852,openstack/puppet-tripleo,stable/victoria,puppet-horizon-dashboards-stable/victoria,I05f9a8e4332be9bea2c623202c01b1c133045852,Horizon: Enable heat-dashboard configurations,MERGED,2021-10-26 00:43:36.000000000,2021-11-08 06:45:02.000000000,2021-11-08 06:45:02.000000000,28,0,2,815362,e61d0d1b06b252ae226bbcb2b427e6a4ec65d752,22,3,1,2,9816,Takashi Kajinami,kajinamit,"Horizon: Enable heat-dashboard configurations

Depends-on: https://review.opendev.org/799983
Change-Id: I05f9a8e4332be9bea2c623202c01b1c133045852
(cherry picked from commit a194d727856904a56072950cb6692da9e71b0587)
(cherry picked from commit ac8482e9668a4c0ef6fa231211c10e843afd6682)
"
openstack%2Ftripleo-quickstart~master~Ibe95461f8fb77a7024010ad772a7ad1cc5a525e5,openstack/tripleo-quickstart,master,,Ibe95461f8fb77a7024010ad772a7ad1cc5a525e5,Changed minversion in tox to 3.18.0,ABANDONED,2021-09-18 03:57:52.000000000,2021-11-08 06:38:08.000000000,,3,3,0,809922,9451c71e8a74640ffb5fa37a188baec4293221cf,5,1,1,1,32291,wushiming,wushiming,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ibe95461f8fb77a7024010ad772a7ad1cc5a525e5
"
openstack%2Fopenstack-tempest-skiplist~master~I569c8cb1e351fd155cdf5579c9b4320e352ea6a2,openstack/openstack-tempest-skiplist,master,test_wallaby_tempest,I569c8cb1e351fd155cdf5579c9b4320e352ea6a2,DNM : Testing failed tempest test on wallaby,NEW,2021-11-08 06:15:10.000000000,2021-11-08 06:26:17.000000000,,0,11,0,816935,0ad471f874017f4552e533152a80fa86342fee2d,2,1,1,1,31075,Pooja Jadhav,pojadhav,"DNM : Testing failed tempest test on wallaby

Change-Id: I569c8cb1e351fd155cdf5579c9b4320e352ea6a2
"
openstack%2Ftripleo-ci~master~I78595127e88e714e0f80d443224e8920eda02fd8,openstack/tripleo-ci,master,,I78595127e88e714e0f80d443224e8920eda02fd8,DNM testing explicit crun for BUILDAH_RUNTIME,NEW,2021-11-03 09:25:10.000000000,2021-11-08 06:22:55.000000000,,8,0,4,816441,b1e56234464315bf99ab437b384da6d3d35535ec,8,2,3,2,8449,Marios Andreou,marios,"DNM testing explicit crun for BUILDAH_RUNTIME

Issue seen at [1]

[1] https://logserver.rdoproject.org/67/36267/18/check/tripleo-build-containers-stream9-development/8cc09a8/logs/container-builds/49051216-f3d3-4dd3-9f29-c4cc6ab074e8/base/base-build.log

use crun for container engine

Change-Id: I78595127e88e714e0f80d443224e8920eda02fd8
"
openstack%2Fdiskimage-builder~master~I56564d58fe6193c21294aacbf9f769bba2142ec7,openstack/diskimage-builder,master,stop-debootstrap-install,I56564d58fe6193c21294aacbf9f769bba2142ec7,tests: remove debootstrap install,MERGED,2021-10-27 00:02:08.000000000,2021-11-08 05:05:00.000000000,2021-11-08 04:59:04.000000000,0,16,2,815571,0f987ca4b61500b2023065e7cb43e5d5726b6847,11,2,1,2,7118,Ian Wienand,iwienand,"tests: remove debootstrap install

This is not needed on the host any more; it's part of the
nodepool-builder container.

Change-Id: I56564d58fe6193c21294aacbf9f769bba2142ec7
"
openstack%2Ftripleo-common~master~I987e81fee3d25189dc001edd70bb57d5c3dd4310,openstack/tripleo-common,master,task-core,I987e81fee3d25189dc001edd70bb57d5c3dd4310,Fix permissions for deployments,MERGED,2021-10-25 21:27:26.000000000,2021-11-08 03:59:13.000000000,2021-11-08 03:57:27.000000000,7,0,10,815384,f9377d062bb4c9fe11c1e9698dcae614540dfb81,37,4,2,1,14985,Alex Schultz,mwhahaha,"Fix permissions for deployments

If you run the deployment without a global become, the permissions on
the deployment output folder is root which causes it to fail.

2021-10-25 17:21:12.735097 | 5254006a-0342-081e-9547-00000000043e |
FATAL | Template deployment file for ControllerSwapDeployment |
overcloud-controller-0 | error={""changed"": false, ""checksum"":
""4b4902390aa26ccce0f06960450eeb7ba0b79735"", ""msg"": ""Destination
/var/lib/heat-config/tripleo-config-download not writable""}

Change-Id: I987e81fee3d25189dc001edd70bb57d5c3dd4310
"
openstack%2Ftosca-parser~master~I2e8b4a1b900f6aa02fd9a2397b604d454a093792,openstack/tosca-parser,master,,I2e8b4a1b900f6aa02fd9a2397b604d454a093792,Clean up extra spaces,MERGED,2021-09-15 14:04:56.000000000,2021-11-08 01:44:46.000000000,2021-11-08 01:43:29.000000000,3,3,2,809194,2ea2f97cd2772ca016aade42490c4d70211af3a3,8,5,1,1,30449,jinyuanliu,jinyuanliu,"Clean up extra spaces

Although these errors are not important, they affect the code specification.

Change-Id: I2e8b4a1b900f6aa02fd9a2397b604d454a093792
"
openstack%2Fdesignate-tempest-plugin~master~I0904803f7e3ac5635babfc82f409a0e38685c9fa,openstack/designate-tempest-plugin,master,change-803482,I0904803f7e3ac5635babfc82f409a0e38685c9fa,"Create ""A"" type recordset using a list of IPs records",MERGED,2021-08-04 14:10:34.000000000,2021-11-08 01:18:13.000000000,2021-11-08 01:16:56.000000000,117,19,14,803482,5260227cc78b68c07cc4876d74b980f6fd8efff9,17,9,2,3,28609,Arkady Shtempler,ashtempl,"Create ""A"" type recordset using a list of IPs records

Test name: test_create_A_recordset_multiply_ips
Note: this patch is also fixes missing cleanups and adds
the existing constants to be used in code.

Change-Id: I0904803f7e3ac5635babfc82f409a0e38685c9fa
"
openstack%2Ffreezer-web-ui~master~Ic2579afbc20319fc5e35c5170cf33f1e39a8e7f7,openstack/freezer-web-ui,master,,Ic2579afbc20319fc5e35c5170cf33f1e39a8e7f7,Fix pylint error:H405,MERGED,2021-11-06 11:28:40.000000000,2021-11-08 00:44:07.000000000,2021-11-08 00:44:07.000000000,9,1,0,816917,ed5462edace65a69667e1f2f42cce343cc5bbeea,7,3,1,3,21069,Carl caihui,caihui,"Fix pylint error:H405

Fix pylint  H405: multi line docstring summary not separated with an empty line

Change-Id: Ic2579afbc20319fc5e35c5170cf33f1e39a8e7f7
"
openstack%2Fneutron~master~Ia88d70dd142c919eebc982c82ca583d220d96ac4,openstack/neutron,master,bug/1949945,Ia88d70dd142c919eebc982c82ca583d220d96ac4,Create Keystone admin endpoint for Rally job,MERGED,2021-11-05 08:31:24.000000000,2021-11-07 16:31:51.000000000,2021-11-07 16:27:29.000000000,2,0,7,816792,32c1762c363d2b55b76135a7d962f03dfe2bbea4,46,5,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Create Keystone admin endpoint for Rally job

CI job ""neutron-ovs-rally-task"" needs an admin endpoint. Since
[1] devstack does not create it by default. This patch enables it
in this job now.

[1]https://review.opendev.org/c/openstack/devstack/+/777345

Closes-Bug: #1949945
Change-Id: Ia88d70dd142c919eebc982c82ca583d220d96ac4
"
openstack%2Fpython-openstackclient~master~I53fcb30b36b5aa9e79521f2ca8a98f33ab2fed7c,openstack/python-openstackclient,master,,I53fcb30b36b5aa9e79521f2ca8a98f33ab2fed7c,impl OSC's cmd hypervisor servers set,NEW,2021-11-07 13:14:02.000000000,2021-11-07 14:00:09.000000000,,225,1,0,816922,1749b3b352ff1eec4e8dfe7cf37a9c50fab43e3b,2,1,1,5,33956,WooJongSeong,rura6502,"impl OSC's cmd hypervisor servers set

implmenet new OSC's command
'hypervisor servers set' to set
some properties to servers on hypervisor

story: 2009311
task: 43701
Change-Id: I53fcb30b36b5aa9e79521f2ca8a98f33ab2fed7c
"
openstack%2Fpython-openstackclient~master~Ibb7756127fe0fdcdd9c81eeea061038230210745,openstack/python-openstackclient,master,,Ibb7756127fe0fdcdd9c81eeea061038230210745,impl OSC's cmd hypervisor servers set,ABANDONED,2021-10-20 14:28:27.000000000,2021-11-07 13:10:29.000000000,,225,1,0,814792,6ad9de49cb0131deda61125674f37e02a156d6af,3,1,1,5,33956,WooJongSeong,rura6502,"impl OSC's cmd hypervisor servers set

implmenet new OSC's command
'hypervisor servers set' to set
some properties to servers on hypervisor

story: 2009311
task: 43701
Change-Id: Ibb7756127fe0fdcdd9c81eeea061038230210745
"
openstack%2Fpuppet-openstack-integration~master~I14c1c0c7e6b6c53477321e1d9283e987333a1cd6,openstack/puppet-openstack-integration,master,openstack/puppet/constraints,I14c1c0c7e6b6c53477321e1d9283e987333a1cd6,Updated from Puppet OpenStack modules constraints,MERGED,2021-10-30 02:36:34.000000000,2021-11-07 07:55:59.000000000,2021-11-07 07:55:59.000000000,1,1,1,816084,63ccbf4716c132ebc6ea8d08d76ef7cd39436dd5,11,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from Puppet OpenStack modules constraints

Change-Id: I14c1c0c7e6b6c53477321e1d9283e987333a1cd6
"
openstack%2Fopenstack-helm~master~I324c4e8ee8f8cd12bae427511747a91d8d1f8c5a,openstack/openstack-helm,master,,I324c4e8ee8f8cd12bae427511747a91d8d1f8c5a,Fix helm test method about compute-kit,MERGED,2021-11-02 06:55:37.000000000,2021-11-07 05:50:55.000000000,2021-11-07 05:49:31.000000000,5,5,2,816304,b6870e7f4a4f9fcd166699b187e675d4e0c72cfd,11,3,1,1,34017,jayonlau,lau,"Fix helm test method about compute-kit

This patch makes the helm test command more standard by calling script of common.

Change-Id: I324c4e8ee8f8cd12bae427511747a91d8d1f8c5a
"
openstack%2Ffreezer-api~master~I1d26cfc2f398cbf219adf59e2582096cb0600e73,openstack/freezer-api,master,,I1d26cfc2f398cbf219adf59e2582096cb0600e73,Delete the func of build_app_v0(),MERGED,2021-11-06 10:41:52.000000000,2021-11-07 02:37:04.000000000,2021-11-07 02:33:55.000000000,0,23,3,816915,29dd109cbcce500cae697c70c016f52ac88bdaa5,17,2,1,1,21069,Carl caihui,caihui,"Delete the func of build_app_v0()

The func of def build_app_v0 is not used any more.
Delete it.

Change-Id: I1d26cfc2f398cbf219adf59e2582096cb0600e73
"
openstack%2Fdesignate-tempest-plugin~master~Iecc7961980136523a32b9b1e21331540152a051c,openstack/designate-tempest-plugin,master,,Iecc7961980136523a32b9b1e21331540152a051c,Fix the blacklist scenario test conflicts,MERGED,2021-11-05 22:17:00.000000000,2021-11-06 22:54:04.000000000,2021-11-06 22:52:52.000000000,11,8,4,816910,c55bffd3fd79f153754cb1c632eabd66167a273f,15,4,2,1,11628,Michael Johnson,johnsom,"Fix the blacklist scenario test conflicts

The recent patch[1] added a set of blacklist API scenario tests that
used very generic regex when creating the blacklists. This causes
conflicts with other tests[2] that are also using a similar pattern.

This patch changes the blacklist scenario tests to use the test name
in the regex to make it more unique and easier to trace for debugging.

[1] https://review.opendev.org/c/openstack/designate-tempest-plugin/+/798715
[2] https://zuul.opendev.org/t/openstack/build/cbeee8d01c5d4548ab3f57838d33a5ae/log/job-output.txt#25446

Change-Id: Iecc7961980136523a32b9b1e21331540152a051c
"
openstack%2Frequirements~master~I698df8adcc550bc603bdd2fbd5ef0be1a063448d,openstack/requirements,master,new-release,I698df8adcc550bc603bdd2fbd5ef0be1a063448d,update constraint for os-ken to new release 2.3.0,MERGED,2021-11-05 14:01:47.000000000,2021-11-06 22:15:59.000000000,2021-11-06 22:14:42.000000000,1,1,0,816847,c448d4f0ab71324e3e9be38150dbbeeee6612497,13,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os-ken to new release 2.3.0

meta: version: 2.3.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Commit: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Change-Id: I93ab5e228b120e71949226301db86ae596df9d73
meta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: HervÃ© Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: HervÃ© Beraud <herveberaud.pro@gmail.com>
Change-Id: I698df8adcc550bc603bdd2fbd5ef0be1a063448d
"
openstack%2Ftripleo-ansible~master~I05c894b2fbd0795dd38b937a82e238b85235d6c3,openstack/tripleo-ansible,master,cephadm/slurp-cert,I05c894b2fbd0795dd38b937a82e238b85235d6c3,Ensure we mount the certificates in container,MERGED,2021-11-05 08:01:06.000000000,2021-11-06 18:35:12.000000000,2021-11-06 18:35:12.000000000,1,0,2,816789,55b47ddc36af0df635a78b29026368c4cc489083,18,6,1,1,28223,Cedric Jeanneret,cjeanner,"Ensure we mount the certificates in container

We must ensure we actually mount the certificates in ceph boostrap
container when we have TLS involved.

Change-Id: I05c894b2fbd0795dd38b937a82e238b85235d6c3
"
openstack%2Fpuppet-tripleo~master~Idf9aec8a3abba67af02661ea97bd49573c789c48,openstack/puppet-tripleo,master,rabbitmq-stderr,Idf9aec8a3abba67af02661ea97bd49573c789c48,Ignore stderr when calling rabbitmqctl,ABANDONED,2021-09-30 07:08:30.000000000,2021-11-06 14:22:26.000000000,,3,3,0,811882,346fc9e8368f97ac5223bab301a875aa178e0834,9,5,1,1,20172,Michele Baldessari,michele,"Ignore stderr when calling rabbitmqctl

Every time we recompile the erlang/elixir/rebar/rabbitmq stack there is
one or more fresh new warnings that will completely trip up any parsing
of these commands. Most end up being bugs that get fixed later on [1].

Since stderr is rarely interesting and just holds any rebase up, let's
ignore it when running these rabbitmqctl commands.

[1] https://elixirforum.com/t/mix-local-hex-warning-authenticity-is-not-established-by-certificate-path-validation/39665

Change-Id: Idf9aec8a3abba67af02661ea97bd49573c789c48
"
openstack%2Ftripleo-heat-templates~master~I414b510ac9cdb07af452c78b574ad5f367b277e9,openstack/tripleo-heat-templates,master,test,I414b510ac9cdb07af452c78b574ad5f367b277e9,DNM/DNR quick cert test,ABANDONED,2021-10-01 14:18:45.000000000,2021-11-06 14:18:51.000000000,,30,24,0,812141,27c72d912d3089bc5af8fc1c2b2f4b54ffe329e6,6,1,3,3,20172,Michele Baldessari,michele,"DNM/DNR quick cert test

Change-Id: I414b510ac9cdb07af452c78b574ad5f367b277e9
"
openstack%2Ftripleo-common~master~Ib5db3c1ef7c5507ade49a5c623403fba7ee80e09,openstack/tripleo-common,master,dnm-test-image,Ib5db3c1ef7c5507ade49a5c623403fba7ee80e09,DNM/DNR WIP container image test,ABANDONED,2021-10-05 12:44:10.000000000,2021-11-06 14:18:44.000000000,,0,36,0,812498,773a56a09b26a03330102df38bb41e82229fe1a8,4,2,1,2,20172,Michele Baldessari,michele,"DNM/DNR WIP container image test

Change-Id: Ib5db3c1ef7c5507ade49a5c623403fba7ee80e09
"
openstack%2Fpuppet-tripleo~master~Ib8efff60a51b8062f8e26e39b215c42ab6fbbd50,openstack/puppet-tripleo,master,test,Ib8efff60a51b8062f8e26e39b215c42ab6fbbd50,DNM/DNR quick engine test in neutron,ABANDONED,2021-09-06 07:06:05.000000000,2021-11-06 14:18:33.000000000,,2,2,0,807495,18b346d94ce12c23052c5d1362bdcf5a8187c4c5,13,2,4,2,20172,Michele Baldessari,michele,"DNM/DNR quick engine test in neutron

Change-Id: Ib8efff60a51b8062f8e26e39b215c42ab6fbbd50
"
openstack%2Ftripleo-ansible~master~If96114267f82b502a16ea0755ec6ef0c3cf99fb1,openstack/tripleo-ansible,master,cs9dnm,If96114267f82b502a16ea0755ec6ef0c3cf99fb1,WIP Generate the inventory all the time in cli-config-download.yaml,ABANDONED,2021-09-09 07:12:35.000000000,2021-11-06 14:18:25.000000000,,0,1,0,808013,84d4fa9733dc32222565e8c827f760e93d54d691,9,3,2,1,20172,Michele Baldessari,michele,"WIP Generate the inventory all the time in cli-config-download.yaml

We're currently generating the inventory only when the following
condition holds true:

  when: inventory_path is not defined or inventory_path != None

This breaks down at least on my current Centos Stream 9 deployments as
follows:
2021-09-08 19:30:54.086721 | TIMING | Download config | localhost | 0:00:10.959871 | 10.77s
2021-09-08 19:30:54.089837 | TASK | Generate ansible inventory
2021-09-08 19:30:54.104235 | SKIPPED | Generate ansible inventory | localhost
2021-09-08 19:30:54.104966 | TIMING | Generate ansible inventory | localhost | 0:00:10.978116 | 0.01s
2021-09-08 19:30:54.107643 | TASK | Create inventory directory
2021-09-08 19:30:54.358310 | OK | Create inventory directory | localhost
2021-09-08 19:30:54.359238 | TIMING | Create inventory directory | localhost | 0:00:11.232383 | 0.25s^
2021-09-08 19:30:54.362723 | TASK | Copy generated inventory
2021-09-08 19:30:54.633848 | FATAL | Copy generated inventory | localhost | error={""changed"": false, ""msg"": ""Source /home/stack/overcloud-deploy/overcloud/config-download/overcloud/tripl
eo-ansible-inventory.yaml not found""}

Adding some debug output before the 'Generate ansible inventory' call
shows that inventory_path is of NoneType (see
https://bugs.launchpad.net/tripleo/+bug/1944594/comments/2)

This makes it generate the inventory all the time.

Closes-Bug: #1944594

Change-Id: If96114267f82b502a16ea0755ec6ef0c3cf99fb1
"
openstack%2Fpython-freezerclient~master~I359fbcaabf3f6f68ca63d2b24aa32ee5d4e396c6,openstack/python-freezerclient,master,,I359fbcaabf3f6f68ca63d2b24aa32ee5d4e396c6,Add  arm64  gate ci job,MERGED,2021-11-06 10:29:15.000000000,2021-11-06 12:05:50.000000000,2021-11-06 12:01:37.000000000,1,0,0,816914,7431d7b62cb75801175a337e41e9c8255786793a,8,2,1,1,21069,Carl caihui,caihui,"Add  arm64  gate ci job

Add  openstack-python3-xena-jobs-arm64 job in .zuul.yaml

Change-Id: I359fbcaabf3f6f68ca63d2b24aa32ee5d4e396c6
"
openstack%2Fneutron~stable%2Fussuri~I558d50d28378beb3710d98a2113ff9549c82ae17,openstack/neutron,stable/ussuri,bug/1947974,I558d50d28378beb3710d98a2113ff9549c82ae17,Check a namespace existence by checking only its own directory,MERGED,2021-11-03 14:15:14.000000000,2021-11-06 04:33:38.000000000,2021-11-06 04:31:52.000000000,32,33,0,816516,f144ba95a59b156f41e4fd6333349b381251f79f,25,3,1,6,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Check a namespace existence by checking only its own directory

To check the existance of a namespace, instead of listing the
namespaces directory (by default ""/var/run/netns""), this patch
directly checks the existence of the namespace directory, using
""os.path.exists"".

This check is faster than listing the whole directory and avoids
timeout problems as reported in the related bug.

Conflicts:
      neutron/privileged/agent/linux/utils.py

Closes-Bug: #1947974
Change-Id: I558d50d28378beb3710d98a2113ff9549c82ae17
(cherry picked from commit 8127221479834350465251839ab88056f4f64fb4)
(cherry picked from commit 6a9c05a92498630b85102eb6af1eccb415fd605a)
"
openstack%2Fpython-freezerclient~master~I05f26a3c10039b1ef85c7aca993f72e6c4ae65d8,openstack/python-freezerclient,master,,I05f26a3c10039b1ef85c7aca993f72e6c4ae65d8,Fix flake8 error: H104,MERGED,2021-11-06 02:14:16.000000000,2021-11-06 04:06:45.000000000,2021-11-06 04:05:10.000000000,5,1,0,816912,d0818230796916628d9df3ff6024844ea85bcb63,7,2,1,2,21069,Carl caihui,caihui,"Fix flake8 error: H104

Fix flak8 error :H104

Change-Id: I05f26a3c10039b1ef85c7aca993f72e6c4ae65d8
"
openstack%2Ffreezer-api~master~Ida07a13f5dcc152817bf2dd9353ad40f3dc61cbf,openstack/freezer-api,master,,Ida07a13f5dcc152817bf2dd9353ad40f3dc61cbf,Add python3.9 CI,MERGED,2021-11-06 02:01:11.000000000,2021-11-06 03:51:52.000000000,2021-11-06 03:50:22.000000000,4,0,0,816911,92844f55e615c74ffbc5c31de080e5d133341e54,7,2,1,2,21069,Carl caihui,caihui,"Add python3.9 CI

Add python3.9 CI in tox.ini.

Change-Id: Ida07a13f5dcc152817bf2dd9353ad40f3dc61cbf
"
openstack%2Frequirements~master~I674789c54eed97e68d908351e96d4f73f02b137e,openstack/requirements,master,openstack/requirements/constraints,I674789c54eed97e68d908351e96d4f73f02b137e,Updated from generate-constraints,ABANDONED,2021-11-06 02:36:46.000000000,2021-11-06 02:45:35.000000000,,15,16,0,816913,784ff7aea6c25d0faf04a0e011d27489fdb7e32d,2,0,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I674789c54eed97e68d908351e96d4f73f02b137e
"
openstack%2Fpython-freezerclient~master~Ia420c0c8129c3e8d81e11702a536daf02b9e1108,openstack/python-freezerclient,master,,Ia420c0c8129c3e8d81e11702a536daf02b9e1108,Add python3.9 CI,MERGED,2021-11-05 13:49:40.000000000,2021-11-06 02:21:03.000000000,2021-11-06 02:14:18.000000000,4,0,0,816841,129e9cf2bbef28072257079eceb084376b036a82,7,2,1,2,21069,Carl caihui,caihui," Add python3.9 CI

Update tox.ini to support python3.9.

Change-Id: Ia420c0c8129c3e8d81e11702a536daf02b9e1108
"
openstack%2Ftripleo-heat-templates~master~Idf27c14b31dc077ef9a0e567bd502ed6842bd52b,openstack/tripleo-heat-templates,master,,Idf27c14b31dc077ef9a0e567bd502ed6842bd52b,Clear up confusion on cinder's default volume type,MERGED,2021-10-25 16:01:24.000000000,2021-11-06 02:20:45.000000000,2021-11-06 02:05:07.000000000,28,1,7,815332,4bf4866030c78c5f9343eb0084d72c4a03beefa7,25,6,2,2,21129,Alan Bishop,ASBishop,"Clear up confusion on cinder's default volume type

This patch clears up confusion resulting from both tripleo and
cinder creating ""default"" volume types. The quotes indicate subtle
differences in how the term is used, and how it causes confusion for
cloud users.

TripleO added support for configuring cinder's default volume type,
and later cinder itself added its own support for a default volume
type. The cinder project's motivation was to provide a volume type
for all volumes, even when cloud administrators hadn't defined one.
But from tripleo's perspective, cinder's volume type was redundant
because tripleo *does* define a default volume type.

The confusion for cloud users is that cinder chose ""__DEFAULT__"" for
the name of the volume type, and ""Default Volume Type"" for its
description. This is misleading because tripleo's CinderDefaultVolumeType
is the actual default volume type.

Clearing up the confusion depends on whether the overcloud is a green
field deployment where no volumes have been created, or a brown field
deployment where cinder's __DEFAULT__ type may be in use. If no volumes
exist then it's safe for tripleo to simply delete cinder's __DEFAULT__
type. Otherwise, the __DEFAULT__ type's description is updated so that
it indicates the actual default type is the one established by the
CinderDefaultVolumeType parameter.

Lastly, CinderDefaultVolumeType is now constrained to prevent it being
set to an empty string. That should never happen, so this is just a
safety net.

Related-Bug: #1782217
Change-Id: Idf27c14b31dc077ef9a0e567bd502ed6842bd52b
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic7c3469c69841293902f29d5772be202978fac32,openstack/tripleo-heat-templates,stable/wallaby,podman4-stable/wallaby,Ic7c3469c69841293902f29d5772be202978fac32,Remove double slashes in path,MERGED,2021-11-05 08:05:59.000000000,2021-11-06 02:05:26.000000000,2021-11-06 02:05:26.000000000,1,1,3,816666,653069cb77c2c3bde36188a05f3da9a680d7619a,16,6,1,1,20172,Michele Baldessari,michele,"Remove double slashes in path

In some containers we have double slashes in our paths. This has always
worked in podman 3.x but breaks with podman 4.x

* Working

[root@undercloud-0 step_1]# podman run -it --rm --net=host -v /etc/pki/tls/private/overcloud_endpoint.pem:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/overcloud_endpoint.pem undercloud-0.ctlplane.home.arpa:8787/tripleo_centos9/openstack-haproxy:latest bash
[root@undercloud-0 /]# exit

Broken (see the '//' before src-tls)

[root@undercloud-0 step_1]# podman run -it --rm --net=host -v /etc/pki/tls/private/overcloud_endpoint.pem:/var/lib/kolla/config_files//src-tls/etc/pki/tls/private/overcloud_endpoint.pem undercloud-0.ctlplane.home.arpa:8787/tripleo_centos9/openstack-haproxy:latest bash
Error: OCI runtime error: mount `/etc/pki/tls/private/overcloud_endpoint.pem` to `/var/lib/kolla/config_files//src-tls/etc/pki/tls/private/overcloud_endpoint.pem`: Not a directory

Closes-Bug: #1949888
Change-Id: Ic7c3469c69841293902f29d5772be202978fac32
(cherry picked from commit 61a1dcc3b1f6963dc84675b8319dcb7d2dc0e0c8)
"
openstack%2Ftripleo-ansible~master~I75b68876a6276d2fc31b4dc675368e7caece03f5,openstack/tripleo-ansible,master,cephadm/slurp-cert,I75b68876a6276d2fc31b4dc675368e7caece03f5,"Add missing ""become: true""",MERGED,2021-11-05 08:01:06.000000000,2021-11-06 02:05:23.000000000,2021-11-06 02:05:23.000000000,1,0,1,816788,c1e7dc99f3f275af58058a74cb77301fd188a891,14,6,1,1,28223,Cedric Jeanneret,cjeanner,"Add missing ""become: true""

This is needed in order to manage the configuration when injecting the
certificate.

Change-Id: I75b68876a6276d2fc31b4dc675368e7caece03f5
"
openstack%2Ftripleo-ansible~master~I67e6a877f551de3dd620ce1257968b6b3affbb98,openstack/tripleo-ansible,master,cephadm/slurp-cert,I67e6a877f551de3dd620ce1257968b6b3affbb98,Correct how we fetch certificate for cephadm/rgw,MERGED,2021-11-04 14:21:42.000000000,2021-11-06 02:05:20.000000000,2021-11-06 02:05:20.000000000,9,6,3,816703,88de955d0d20d2a39bbaaf010eed9ee3418f49e8,21,6,2,1,28223,Cedric Jeanneret,cjeanner,"Correct how we fetch certificate for cephadm/rgw

lookup is a local thing, so it's trying to get the certificate from the
undercloud instead of the remote node.

Change-Id: I67e6a877f551de3dd620ce1257968b6b3affbb98
"
openstack%2Ftripleo-heat-templates~master~I3309f2a0e39ad115930ecd5c0e895816565819e9,openstack/tripleo-heat-templates,master,RHBZ1875962,I3309f2a0e39ad115930ecd5c0e895816565819e9,Add ping test for all networks gateway IPs,MERGED,2021-10-28 21:12:27.000000000,2021-11-06 02:05:14.000000000,2021-11-06 02:05:14.000000000,24,0,3,815909,5d830980ec842c6093a8fd44ef922014bcadf693,15,5,2,2,24245,Harald JensÃ¥s,harald.jensas,"Add ping test for all networks gateway IPs

Add ping test for gateway IPs on all networks, to ensure
all gateways are reachable.

The releated Bugzilla reports an issue where some network
fabrics fail when using the current node ping test, which
pings the first node in each role. The fabric simply does
not forward traffic before the gateway has been pinged.

One can argue that the fabric in question is broken. However,
with the current implementation the first node in each role
actually ping tests only against it's own address? So adding
the test to ping the gateway addresses improves the validation
in general.

Related RHBZ#1875962
Depends-On: I93cded61ffb862e99fd8043dbf0def3d16079692

Change-Id: I3309f2a0e39ad115930ecd5c0e895816565819e9
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I8f157c9931e7dd90b4e48d44462a68c241dcfd34,openstack/tripleo-upgrade,stable/train,split_upgrade_run,I8f157c9931e7dd90b4e48d44462a68c241dcfd34,[Train-Only] Allow running only controlplane or computes upgrade.,MERGED,2021-10-28 09:26:06.000000000,2021-11-06 02:05:04.000000000,2021-11-06 02:05:04.000000000,51,48,0,815812,18a2be8c069c1444442a6815318ee6138697fcec,13,4,3,2,26343,Jose Luis Franco,jfrancoa,"[Train-Only] Allow running only controlplane or computes upgrade.

This patch adds two new tags: ffu_overcloud_upgrade_controller
and ffu_overcloud_upgrade_compute which provide more granularity
at the time of executing the upgrade run stage in the FFWD process.

These two tags will allow us to independently run the upgrade run
of the controlplane or the compute nodes when triggered in
combination with the ffu_overcloud_upgrade_run tag.

Change-Id: I8f157c9931e7dd90b4e48d44462a68c241dcfd34
"
openstack%2Ftripleo-ci~master~Id212ab1e047f96547eacb3f0cb3faf460af5f7f4,openstack/tripleo-ci,master,cs9,Id212ab1e047f96547eacb3f0cb3faf460af5f7f4,Add new centos9 stream nodesets for tripleo CI,MERGED,2021-11-05 10:54:27.000000000,2021-11-06 00:06:23.000000000,2021-11-06 00:06:23.000000000,52,0,1,816821,ba015062995f112dd698e2b06cdd6e8eeede22a1,12,9,1,1,8449,Marios Andreou,marios,"Add new centos9 stream nodesets for tripleo CI

Adds single-centos-9-node two-centos-9-nodes three-centos-9-nodes
nodesets with the centos-9-stream label for C9 in tripleo CI

Change-Id: Id212ab1e047f96547eacb3f0cb3faf460af5f7f4
"
openstack%2Fcinder~stable%2Ftrain~Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5,openstack/cinder,stable/train,bug/1842088-stable/wallaby-stable/victoria-stable/ussuri-stable/train,Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5,Allow removing NFS snapshots in error status,MERGED,2021-09-22 15:20:14.000000000,2021-11-05 23:49:55.000000000,2021-11-05 23:48:12.000000000,3,1,4,810406,51a06f3fcc30d0ceb9ccb98560993146e2273090,22,7,1,2,20813,Sofia Enriquez,enriquetaso,"Allow removing NFS snapshots in error status

The NFS driver doesn't allow to delete snapshots in error state when
snapshot support is disable.

I'm facing some scenarios where snapshots are enabled then a snapshot
is created and after that then snapshots are disabled. This results
in error state snapshots that can't be deleted.  Another scenario is
- with nfs snapshot support disable from the beginning- the API layer
allows the snapshot to be created but the NFS driver sets the status
to ""error"" leaving the snapshot in the DB with error state.
Because of that, I have snapshots in error state that I'm not able
to delete.

The purpose of this fix allow deleting snapshots in error state.
It makes sense to block creating snapshots when snapshot support is
False. However, when deleting snapshot we don't want to block
attempts to delete a broken snapshot DB entry, which is necessary to
clean up a failed snapshot create.

Closes-Bug: #1842088
Change-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5
(cherry picked from commit 5714bdb8447a38440585116f784a322143711959)
(cherry picked from commit 5a4f3ac53a554ecaa18cbd0a49c0606dff4e1137)
(cherry picked from commit fb0efc42149fab524a9d3a95f01b7b71e954f314)
(cherry picked from commit e9ef536958d9920b70cbbf27bc7faf548ad42d36)
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I992935e1c478591f3c8af5044df8a625af9eba85,openstack/tripleo-ansible,stable/victoria,,I992935e1c478591f3c8af5044df8a625af9eba85,Add tripleo_dnf_stream Ansible module.,MERGED,2021-11-04 12:07:33.000000000,2021-11-05 23:34:58.000000000,2021-11-05 23:34:58.000000000,481,0,0,816677,88fe77140b689a5e9309ad3c71701b793d5bd12c,7,7,1,5,26343,Jose Luis Franco,jfrancoa,"Add tripleo_dnf_stream Ansible module.

One of the functionalities the dnf Ansible module misses is the single
disabling and disabling of DNF modules [0]. Currently only installation and
removal are supported.

The tripleo_dnf_stream module is based on the dnf.py Ansible core module [1]
(so it will be simpler to contribute with this functionality to upstream
Ansible core) and covers the enabling and disabling of one or multiple
MODULE:STREAM.

This functionality is required when performing a minor update, as we
need to make sure that a set of streams are enabled to provide with
the right packages [2]. In this situation, the installation of the
whole module is not really required as a full upgrade will run after.

The module uses the options name (MODULE:STREAM) and state:[disabled or
enabled]. Example:
    - name: Enable the container-tools:3.0
      tripleo_dnf_stream:
        - name: container-tools:3.0
          state: enabled

[0]: https://github.com/ansible/ansible/issues/64852
[1]: https://github.com/ansible/ansible/blob/devel/lib/ansible/modules/dnf.py
[2]: https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L378-L381

Change-Id: I992935e1c478591f3c8af5044df8a625af9eba85
(cherry picked from commit 5212d407d9730dce68782d37f2045a672dce9146)
(cherry picked from commit c2d083b03c8314eeb1fdb606561e626fe89bffee)
(cherry picked from commit 9959ab393809e61ace5d4beb15c6b27ad480de8f)
"
openstack%2Fopenstack-helm-infra~master~If3fa0e296b8a1c2ab473e67b24d4465fe42a5268,openstack/openstack-helm-infra,master,,If3fa0e296b8a1c2ab473e67b24d4465fe42a5268,Correct private key size input for Certificates and remove minor version support,MERGED,2021-11-03 14:29:39.000000000,2021-11-05 22:55:54.000000000,2021-11-05 22:54:31.000000000,12,63,0,816519,186155c2961969e3fb43370d4bcd0e0978a313c0,9,4,1,3,24780,Sangeet Gupta,sgupta,"Correct private key size input for Certificates and remove minor version support

In cert-manager v1 API, the private key size ""keySize"" was updated to ""size""
under ""privateKey"".
Support of minor (less than v1) API version is also removed for certificates.

Change-Id: If3fa0e296b8a1c2ab473e67b24d4465fe42a5268
"
openstack%2Fproject-config~master~I5a33160c6272ee4e452b83599ca3ed552422c6d2,openstack/project-config,master,,I5a33160c6272ee4e452b83599ca3ed552422c6d2,Fix haveged installation in CentOS7,MERGED,2021-11-05 10:07:40.000000000,2021-11-05 22:37:06.000000000,2021-11-05 22:12:19.000000000,2,1,0,816813,42fa5a7e732addebbc4bb992d5a10c8510311cf8,9,4,1,1,16312,Alfredo Moralejo,amoralej,"Fix haveged installation in CentOS7

When adding support for CentOS Stream 9 [1], I made dib to install haveged
in centos8 or centos8s only. This broke centos7 images.

This patch should get haveged installed in all centos releases != 9-stream and fix
centos7 one.

[1] https://review.opendev.org/c/openstack/project-config/+/811442

Change-Id: I5a33160c6272ee4e452b83599ca3ed552422c6d2
"
openstack%2Ftripleo-heat-templates~master~I0dea2c6e273a1aca77386119f27702bda3cf4bf7,openstack/tripleo-heat-templates,master,secure-rbac,I0dea2c6e273a1aca77386119f27702bda3cf4bf7,Implement project personas in custom manila policy file,MERGED,2021-09-22 17:37:23.000000000,2021-11-05 21:52:30.000000000,2021-10-14 15:07:47.000000000,164,164,4,810495,4477e28626ee770ff7709c9cb1977e5226fa150c,27,8,2,1,5046,Lance Bragstad,ldbragst,"Implement project personas in custom manila policy file

This commit updates the default manila policies in
enable-secure-rbac.yaml to implement consistent support for project
personas (project-admin, project-member, and project-reader) with other
OpenStack services. The project-admin is still considered a system
administrator.

This behavior will change in future releases (likely Yoga) when we have
a community wide goal to finish system-scope adoption. At that point, we can
remove these overrides and use the defaults in manila, which adhere to system
and project personas and we'll get more functionality without these overrides.

Change-Id: I0dea2c6e273a1aca77386119f27702bda3cf4bf7
"
openstack%2Fnetworking-ovn~stable%2Ftrain~Ifd686d7ff452abd1226fbbc97f499e05102e4596,openstack/networking-ovn,stable/train,,Ifd686d7ff452abd1226fbbc97f499e05102e4596,Fix OVN migration workload creation order,MERGED,2021-10-27 10:51:05.000000000,2021-11-05 19:24:58.000000000,2021-11-05 19:21:59.000000000,6,6,0,815622,a6e741fdc6de495099b6e77ce50b0843d84fe66a,9,4,1,1,6773,Lucas Alvares Gomes,lucasagomes,"Fix OVN migration workload creation order

Currently workload VMs start before subnet is connected to router.
When DVR is enabled this causes sometimes that one of the VMs is not
able to get metadata.

Closes bug: #1947547

(Manually cherry picked from Neutron d49ce1652d31fb884285ed30e39ec10ef40c864d)

Change-Id: Ifd686d7ff452abd1226fbbc97f499e05102e4596
"
openstack%2Fnetworking-ovn~stable%2Ftrain~Id84bf17953527c415d611bfc198038fb6f811de3,openstack/networking-ovn,stable/train,,Id84bf17953527c415d611bfc198038fb6f811de3,[ovn] Stop monitoring the SB MAC_Binding table to reduce mem footprint,MERGED,2021-10-21 09:24:02.000000000,2021-11-05 19:23:31.000000000,2021-11-05 19:21:57.000000000,82,27,7,814878,4f8e03593d8953f15013461bec10bf303a2a160e,16,5,4,4,6773,Lucas Alvares Gomes,lucasagomes,"[ovn] Stop monitoring the SB MAC_Binding table to reduce mem footprint

The MAC_Binding table in the SB database may grow indefinitely (due
to a lack of an aging mechanism of its entries) and eventually
lead to OOM killers for neutron-server which maintains an in-memory
copy of the database.

In order to stop monitoring this table, this patch is invoking
the ovsdb-client tool to remove the entries associated to
Floating IPs that have just been detached. The execution of this
tool is really fast as it will just invoke a JSON-RPC transact command
which doesn't require downloading the database contents.

In a scale test, the memory consumption of neutron-server dropped
from 75GB to 7GB with this patch.

Closes-Bug: #1946318

(Manually cherry picked from Neutron f6c35527698119ee6f73a6a3613c9beebb563840)

Note: The functional test has been changed for this stable branch
because the update_tables() method from ovsdbapp is not availabie for
this version of networking-ovn. So I changed the functional test to
add the MAC_Binding entry via ovsdb-client instead of using ovsdbapp
to do so.

Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: Id84bf17953527c415d611bfc198038fb6f811de3
"
openstack%2Fpuppet-neutron~master~I6af21cf8dee30a0a0ecd7ccd73311136f04f5261,openstack/puppet-neutron,master,unused-params,I6af21cf8dee30a0a0ecd7ccd73311136f04f5261,Remove unused params,MERGED,2021-11-04 04:13:46.000000000,2021-11-05 19:16:26.000000000,2021-11-05 19:16:26.000000000,0,6,0,816616,7236d7ff59266570f67a5e749b82870e55a309b9,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Remove unused params

This change drops the following unused parameters.

nobody_user_group:
This was used by support for lbaas, which was removed

libnl_package, package_provider:
These were used by support for n1kv driver, which was removed.

Change-Id: I6af21cf8dee30a0a0ecd7ccd73311136f04f5261
"
openstack%2Ftripleo-operator-ansible~master~Ie067226b509fbc1186be956f20866b8104e555ad,openstack/tripleo-operator-ansible,master,node_unprovision/script,Ie067226b509fbc1186be956f20866b8104e555ad,Generate node unprovision script if wanted,MERGED,2021-10-19 09:31:09.000000000,2021-11-05 19:02:47.000000000,2021-11-05 19:02:47.000000000,15,1,4,814539,36778dd949d3b4e127ebcf4e681ce85822e9ecab,16,4,4,3,28223,Cedric Jeanneret,cjeanner,"Generate node unprovision script if wanted

This script might be handy in some cases - for instance if the node
provisionning is failing, it's always better to unprovision things
before retrying.

Change-Id: Ie067226b509fbc1186be956f20866b8104e555ad
"
openstack%2Fironic~master~I91e9ba3024a85897aeead21cede57464294b409b,openstack/ironic,master,wsman-reboot,I91e9ba3024a85897aeead21cede57464294b409b,Fix idrac-wsman deploy with existing non-BIOS jobs,MERGED,2021-11-03 14:46:04.000000000,2021-11-05 18:29:01.000000000,2021-11-05 18:26:53.000000000,19,4,3,816521,b1d08ae80542b6b3aa9fab99cdc64b449d113115,19,4,2,3,27909,Aija JauntÄ“va,ajya,"Fix idrac-wsman deploy with existing non-BIOS jobs

As with WS-Man iDRAC API setting boot device requires creating BIOS
job and there can be only 1 open job per subsystem present in iDRAC,
there is validation to check that the job queue is empty before
continuing setting boot device. This does not work well for cases when
using autoupdatescheduler that creates `Repository Update` job that
stays Scheduled until executed and then followed by new Scheduled
`Repository Update` job.

This patch allows non-BIOS jobs to be present in the queue when setting
boot device. This will still fail for cases when there are BIOS jobs
present. In such cases should consider moving to idrac-redfish that
does not create BIOS or any other job to set boot device.

Story: 2009251
Task: 43437
Change-Id: I91e9ba3024a85897aeead21cede57464294b409b
"
openstack%2Fpuppet-glance~master~Ifa3a52795b9e07fc1f2e003dd33c42dc0373880f,openstack/puppet-glance,master,os_package_type,Ifa3a52795b9e07fc1f2e003dd33c42dc0373880f,Avoid usage of custom os_package_type fact,MERGED,2021-11-04 13:24:43.000000000,2021-11-05 18:20:49.000000000,2021-11-05 18:20:49.000000000,3,3,0,816694,6ff5e9e8e3d21b42f7fcf1f2e9a55a38ecf1e729,8,3,2,3,9816,Takashi Kajinami,kajinamit,"Avoid usage of custom os_package_type fact

Currently the os_package_type fact is used to distinguish Ubuntu and
Debian but it's redundant and built-in $::operatingsystem should be
enough. What is worse the custom fact is not injected while composing
facts data in unit tests and has never been tested properly.

Change-Id: Ifa3a52795b9e07fc1f2e003dd33c42dc0373880f
"
openstack%2Fpuppet-nova~master~I6be21a4653d67c63a3bd1fa8b814ecdb1257f097,openstack/puppet-nova,master,bug/1949658,I6be21a4653d67c63a3bd1fa8b814ecdb1257f097,Use service anchor to ensure API is up,MERGED,2021-11-04 00:08:30.000000000,2021-11-05 18:12:09.000000000,2021-11-05 18:12:09.000000000,3,3,0,816594,f44d3c4987a65cc277af8be9a1d0cdc70b0cd50b,12,3,4,2,9816,Takashi Kajinami,kajinamit,"Use service anchor to ensure API is up

... instead of the individual service resource which can be named
differently according to service_name.

Closes-Bug: #1949658
Change-Id: I6be21a4653d67c63a3bd1fa8b814ecdb1257f097
"
openstack%2Fpuppet-vitrage~master~I5059b47d46d85171048895326937390d92462010,openstack/puppet-vitrage,master,apache-ssl,I5059b47d46d85171048895326937390d92462010,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 13:19:36.000000000,2021-11-05 17:57:35.000000000,2021-11-05 17:54:59.000000000,14,3,0,816504,5a910d85086a41de10ce881305e08488fbb5bd5e,10,3,2,2,9816,Takashi Kajinami,kajinamit,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I5059b47d46d85171048895326937390d92462010
"
openstack%2Frequirements~master~I9d6f45cf37aae52a76eafdb15848b0546409b9df,openstack/requirements,master,new-release,I9d6f45cf37aae52a76eafdb15848b0546409b9df,update constraint for pbr to new release 5.7.0,MERGED,2021-11-04 09:33:35.000000000,2021-11-05 17:23:11.000000000,2021-11-05 17:21:30.000000000,1,1,0,816625,c12f0e1081fb46f7c4d94fb85560319696bb61b6,20,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for pbr to new release 5.7.0

meta: version: 5.7.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Clark Boylan <clark.boylan@gmail.com>
meta: release:Commit: Clark Boylan <clark.boylan@gmail.com>
meta: release:Change-Id: If3c26c0b7e4d1fd81a801fcb97d4d046825d4aa4
meta: release:Code-Review+2: HervÃ© Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I9d6f45cf37aae52a76eafdb15848b0546409b9df
"
openstack%2Fblazar~master~I5fdd5e6095e579e2584984870932284afd7cb934,openstack/blazar,master,ci-devstack,I5fdd5e6095e579e2584984870932284afd7cb934,CI: Fix breakage following devstack changes,MERGED,2021-11-04 09:38:50.000000000,2021-11-05 17:10:45.000000000,2021-11-05 17:08:51.000000000,10,7,3,816627,f055bbb5e92919ed2912c5fd40598ef30aedaeb7,22,4,4,1,15197,Pierre Riteau,priteau,"CI: Fix breakage following devstack changes

A recent devstack change [1] has dropped all KEYSTONE_AUTH_* variables
except KEYSTONE_AUTH_URI. Use KEYSTONE_SERVICE_* variables instead.

Another change [2] switched off the creation of an admin endpoint for
keystone, which we need. Create it again until we update Blazar to stop
using it.

The devstack plugin was creating a keystonev3 service with endpoints
using port 5000. However, we have been using the main keystone service
on port 80 since commit 2d0cabb17d9a609a62bcffb13175e34b1c1cc1f0.
Update service name/type and endpoint URLs accordingly.

[1] https://review.opendev.org/c/openstack/devstack/+/735472
[2] https://review.opendev.org/c/openstack/devstack/+/777345

Change-Id: I5fdd5e6095e579e2584984870932284afd7cb934
"
openstack%2Freleases~master~I74fae851d0cbb770e1272035d4beda579ab21bd0,openstack/releases,master,,I74fae851d0cbb770e1272035d4beda579ab21bd0,RC2 releases for Kolla projects,MERGED,2021-11-05 12:37:37.000000000,2021-11-05 16:27:37.000000000,2021-11-05 16:27:37.000000000,16,0,1,816834,d419500b762c844625c1e3af90fdbb367e013a3c,9,4,1,3,22629,Michal Nasiadka,mnasiadka,"RC2 releases for Kolla projects

Change-Id: I74fae851d0cbb770e1272035d4beda579ab21bd0
"
openstack%2Fnova~master~I0dce3963c7726cf126ad2c4b3e25f005fdd12790,openstack/nova,master,,I0dce3963c7726cf126ad2c4b3e25f005fdd12790,[Trival] Fix wrong microversion in TestClass name,MERGED,2021-11-05 02:12:36.000000000,2021-11-05 16:12:48.000000000,2021-11-05 16:10:53.000000000,1,1,2,816778,f024490e95c2bdb8072247e9907c6aa1475c80d8,11,5,1,1,26458,Brin Zhang,zhangbailin,"[Trival] Fix wrong microversion in TestClass name

Change-Id: I0dce3963c7726cf126ad2c4b3e25f005fdd12790
"
openstack%2Fkuryr-tempest-plugin~master~I5d01029bae9c782ab57d38dff8c6aea1b2128305,openstack/kuryr-tempest-plugin,master,lb-wo-selector,I5d01029bae9c782ab57d38dff8c6aea1b2128305,Update test_service_without_selector test,MERGED,2021-10-20 13:29:10.000000000,2021-11-05 16:07:17.000000000,2021-11-05 16:05:34.000000000,32,0,19,814780,4bb12bd975a17dccfef0a7647c4a9bf3eae7134d,58,4,11,2,4727,Itzik Brown,itzikb1,"Update test_service_without_selector test

Check that loadbalancer's members are delete when deleting the endpoint

Change-Id: I5d01029bae9c782ab57d38dff8c6aea1b2128305
"
openstack%2Fswift~master~I2fcc89f342ef555ed11dcce68d6ec2703ca6fcd3,openstack/swift,master,fix-cmp-spi,I2fcc89f342ef555ed11dcce68d6ec2703ca6fcd3,wip: back to old code,NEW,2021-11-04 21:36:01.000000000,2021-11-05 15:39:02.000000000,,52,22,0,816753,742ce8001c7ce0c5abcb8d8e49e9c0ba472750e3,6,1,2,1,1179,Clay Gerrard,clay-gerrard,"wip: back to old code

Related-Change-Id: Ia107c1c8ac051890bea00770f06c53a47eafb9d6
Change-Id: I2fcc89f342ef555ed11dcce68d6ec2703ca6fcd3
"
openstack%2Fgovernance~master~Ia9b96932a7f7712bee9c1c833539cfe32c44bd35,openstack/governance,master,project-update,Ia9b96932a7f7712bee9c1c833539cfe32c44bd35,Remove oslo independent deliverables from stable policy,MERGED,2021-11-05 12:00:35.000000000,2021-11-05 15:11:18.000000000,2021-11-05 15:09:20.000000000,0,28,2,816828,4d2720d3c25e45e158dc3c6260df470c75e76aa2,11,3,1,1,28522,HervÃ© Beraud,hberaud,"Remove oslo independent deliverables from stable policy

Since a couple of series those oslo projects produce
independent deliverables not synched with the coordinated
series, de facto, they are branchless projects.

I don't think is it possible to follow the stable policy
without related stable branches.

The independent deliverables aren't compatible with this
policy.

Also we should notice that keeping these deliverables
under the stable policy umbrella mislead downstream
maintainers. Removing them inform maintainers to stick
to the upper-constraints available for a given series.

Change-Id: Ia9b96932a7f7712bee9c1c833539cfe32c44bd35
"
openstack%2Fpython-tripleoclient~master~Id78443453718f8174bf95ad9209e7163b6afef64,openstack/python-tripleoclient,master,change-801861-5,Id78443453718f8174bf95ad9209e7163b6afef64,Integrating restoration process to client,MERGED,2021-07-22 14:02:24.000000000,2021-11-05 15:06:23.000000000,2021-11-05 15:04:46.000000000,221,0,11,801861,b670a784c4399cb83a129093064dd18aaeec590b,35,6,10,4,32728,Juan Pablo Lopez,jplopezgu,"Integrating restoration process to client

- Adding a new command overcloud backup restore for running the
  the restoration process. This command includes a required
  argument for specifying the node ""--node-name"".

- tests/v1/overcloud_restore/test_backup.py added for
  unit testing the command

Change-Id: Id78443453718f8174bf95ad9209e7163b6afef64
"
openstack%2Fironic-python-agent~master~I1f67b0fb1f645fa82e98bd7c7bba3ffc7755cc74,openstack/ironic-python-agent,master,,I1f67b0fb1f645fa82e98bd7c7bba3ffc7755cc74,Fix UEFI record regex,MERGED,2021-11-04 16:44:54.000000000,2021-11-05 15:01:27.000000000,2021-11-05 14:59:35.000000000,75,6,1,816723,c5268bbdbb441e1c497d59163872ddfba9bf67cf,9,3,2,3,11655,Julia Kreger,jkreger,"Fix UEFI record regex

I accidently put colons on the test data and remembered taking the
colon character out of the regex I was working on, but apparently
left it in, and accounted for the active entry indicator flag
which appears to have inconsistent support across vendors.

The regex has been fixed, and a test added from a Lenovo SR650
which has some additional string entry data in the UEFI output
which may separate entries.

Change-Id: I1f67b0fb1f645fa82e98bd7c7bba3ffc7755cc74
"
openstack%2Fcinder~stable%2Fussuri~I34e7e48ee63c4c269f82ae178a7118ed402cad6d,openstack/cinder,stable/ussuri,native-zuulv3-migration,I34e7e48ee63c4c269f82ae178a7118ed402cad6d,Native multibackend-matrix Zuul v3 job,NEW,2021-09-16 18:20:20.000000000,2021-11-05 15:00:45.000000000,,130,109,2,809448,e02e36789dc4b387b7f29be0b0e86f1b1079317a,19,1,1,10,10459,Luigi Toscano,ltoscano,"Native multibackend-matrix Zuul v3 job

Port the legacy legacy-tempest-dsvm-multibackend-matrix job to the
native Zuul v3 syntax, and rename it following the guidelines
(cinder-multibackend-matrix-migration).

This job tests the migration between two different backends
specified through the volume.backend_names configuration
key in tempest.conf.

Now the job leverages the existing zuul code, namely the
run-tempest role, which is called multiple times with all
the possible combinations of the 3 tested backends
(lvm, ceph, nfs) where the source and the destination differ.

The final JUnitXML output summarizes the test results
for each of the tested combinations.

Conflicts:
	.zuul.yaml
-> due to the addition and removal of several jobs in the newest
.zuul.yaml

Change-Id: I34e7e48ee63c4c269f82ae178a7118ed402cad6d
(cherry picked from commit 1c0c25babb3d9b13e271e37458cd55b974085901)
(cherry picked from commit 326fa62d72325c76712fd4225d3ddd48dd9ae214)
(cherry picked from commit 63fdf88d9f7511b7182903fb39785208c3846bd1)
"
openstack%2Ftripleo-quickstart~master~Idefeba89bc33f08ceb49b95eb6bb5310f688ab20,openstack/tripleo-quickstart,master,vf/featureset,Idefeba89bc33f08ceb49b95eb6bb5310f688ab20,[Test Only] Add new feeatureset for Validations,NEW,2021-10-29 12:08:09.000000000,2021-11-05 14:05:48.000000000,,104,0,0,815956,3b91895c27442b6de7f397a24124d33f646abdca,53,2,12,1,16515,mbu,matbu,"[Test Only] Add new feeatureset for Validations

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/816312
Change-Id: Idefeba89bc33f08ceb49b95eb6bb5310f688ab20
"
openstack%2Fopenstack-ansible-os_tempest~stable%2Fussuri~Iad2e72fbfba18eef869d09683c334a3d8d078a75,openstack/openstack-ansible-os_tempest,stable/ussuri,,Iad2e72fbfba18eef869d09683c334a3d8d078a75,Set CentOS 7 jobs non-voting,ABANDONED,2021-11-04 11:53:00.000000000,2021-11-05 14:04:32.000000000,,16,4,0,816674,52b0b725d5e88f977a68b933119a7274a79a432b,4,1,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Set CentOS 7 jobs non-voting

Temporary disable CentOS jobs in order to resolve circular dependency

Change-Id: Iad2e72fbfba18eef869d09683c334a3d8d078a75
"
openstack%2Freleases~master~I93ab5e228b120e71949226301db86ae596df9d73,openstack/releases,master,new-os-ken,I93ab5e228b120e71949226301db86ae596df9d73,New os-ken release,MERGED,2021-11-04 11:31:06.000000000,2021-11-05 13:46:48.000000000,2021-11-05 13:46:48.000000000,4,0,1,816646,8f99970e6b5aa1ef88786a16ba566b22cd9a979a,10,5,1,1,11975,Slawek Kaplonski,slaweq,"New os-ken release

We just finished backporting all missing patches from ryu
to os-ken.
Because of that this patch bumps feature version of os-ken.

Change-Id: I93ab5e228b120e71949226301db86ae596df9d73
"
openstack%2Ftempest~master~I4cc9eb76a1318c17a55d8d10d21290eac4690548,openstack/tempest,master,bp/qos-minimum-guaranteed-packet-rate,I4cc9eb76a1318c17a55d8d10d21290eac4690548,Consolidate client usage in MinBwAllocationPlacementTest,MERGED,2021-09-29 14:18:57.000000000,2021-11-05 13:29:59.000000000,2021-11-05 13:28:01.000000000,9,8,14,811733,18accdeb7e78e0c1b75f409d74c81336a09fdcec,21,3,5,1,9708,Balazs Gibizer,gibi,"Consolidate client usage in MinBwAllocationPlacementTest

Let's only use admin client for the operations that are really
needing it.

blueprint: qos-minimum-guaranteed-packet-rate
Change-Id: I4cc9eb76a1318c17a55d8d10d21290eac4690548
"
openstack%2Fcharm-ceilometer~master~Ie40a99281f1f60de7a409e1e3a2025a850a8a446,openstack/charm-ceilometer,master,revert_meter_sinks,Ie40a99281f1f60de7a409e1e3a2025a850a8a446,"Revert ""Add meter-sink as an option""",MERGED,2021-11-01 07:34:44.000000000,2021-11-05 13:28:37.000000000,2021-11-05 13:28:37.000000000,19,71,2,816124,f046895cdb0f8193e9374ef1a8aeb43a7c7b19a0,11,3,2,6,9247,Arif Ali,arif-ali,"Revert ""Add meter-sink as an option""

This reverts commit 6ed691807de73b49f057a813b11ebb67bb517782.

The meter_sink is actually required in pipeline.yaml and not in
event_pipline.yaml, and this is something that needs to be enabled
for newton and above as the ceilometer-collector is not the
dependancy for this.

Change-Id: Ie40a99281f1f60de7a409e1e3a2025a850a8a446
"
openstack%2Fneutron~stable%2Fxena~I558d50d28378beb3710d98a2113ff9549c82ae17,openstack/neutron,stable/xena,bug/1947974,I558d50d28378beb3710d98a2113ff9549c82ae17,Check a namespace existence by checking only its own directory,MERGED,2021-11-03 14:12:03.000000000,2021-11-05 13:18:24.000000000,2021-11-05 13:16:33.000000000,32,33,1,816512,c05d07bd8f675bd17ee40ab10f5ccf90bdbdf8d2,16,3,1,6,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Check a namespace existence by checking only its own directory

To check the existance of a namespace, instead of listing the
namespaces directory (by default ""/var/run/netns""), this patch
directly checks the existence of the namespace directory, using
""os.path.exists"".

This check is faster than listing the whole directory and avoids
timeout problems as reported in the related bug.

Closes-Bug: #1947974
Change-Id: I558d50d28378beb3710d98a2113ff9549c82ae17
(cherry picked from commit 8127221479834350465251839ab88056f4f64fb4)
"
openstack%2Ftripleo-quickstart~master~I1a5399cba3aa532a50ca2e31ebb5af03fd388151,openstack/tripleo-quickstart,master,nodealternative,I1a5399cba3aa532a50ca2e31ebb5af03fd388151,DNM alternative 010 and nodeset options,ABANDONED,2021-11-05 07:42:32.000000000,2021-11-05 13:14:06.000000000,,2,4,0,816787,424e39ed00874490ec6874fea79b10adc2355e1a,8,1,2,2,32926,Jiri Podivin,jpodivin,"DNM alternative 010 and nodeset options

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I1a5399cba3aa532a50ca2e31ebb5af03fd388151
"
openstack%2Fcinderlib~master~Ia4af2713bf05dee134b6ea0ede538522d6598095,openstack/cinderlib,master,drop_mock,Ia4af2713bf05dee134b6ea0ede538522d6598095,drop mock from lower-constraints,ABANDONED,2020-06-08 22:06:15.000000000,2021-11-05 13:13:01.000000000,,0,1,0,734325,dc71f6ae424bdd118f07409a719c698260b39e3c,6,3,1,1,28522,HervÃ© Beraud,hberaud,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: Ia4af2713bf05dee134b6ea0ede538522d6598095
"
openstack%2Fmagnum~master~I21d909b9edd24dc966af2677a88b942b349aaccc,openstack/magnum,master,,I21d909b9edd24dc966af2677a88b942b349aaccc,Octavia race condition with multiple lb-ers,NEW,2021-10-18 17:53:04.000000000,2021-11-05 12:53:13.000000000,,7,0,1,814476,4844aa285ad2954144e62eb2635782ce8344ee15,6,2,3,7,30176,masterpe,masterpe,"Octavia race condition with multiple lb-ers

Octavia race condition with multiple loadbalancers, in the heat template
both api_lb and etcd_lb gets created. This generates a table lock with a
racecondition.

Change-Id: I21d909b9edd24dc966af2677a88b942b349aaccc
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I1331698e313bd714a16fc35f38fb579d75b56370,openstack/kolla-ansible,stable/wallaby,mariadb-shard-groups-stable/wallaby,I1331698e313bd714a16fc35f38fb579d75b56370,mariadb: use add_host to include inactive hosts in shard grouping,MERGED,2021-11-04 11:30:26.000000000,2021-11-05 12:48:18.000000000,2021-11-05 12:46:37.000000000,13,5,0,816653,c6b27b2a8db9db59e0672074ce0971f318074008,9,3,1,4,33826,Seena Fallah,clwluvw,"mariadb: use add_host to include inactive hosts in shard grouping

In case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.
Using add_host will add all hosts in mariadb group to their shards group

Signed-off-by: Seena Fallah <seenafallah@gmail.com>
Change-Id: I1331698e313bd714a16fc35f38fb579d75b56370
Closes-Bug: #1947589
(cherry picked from commit 68cd2a055371cc25a0502ff4db22fbcdececd478)
"
openstack%2Fkolla-ansible~master~Ib15e961e5193af55e45a443305a96667295f3cb7,openstack/kolla-ansible,master,grafana_home_dashboard,Ib15e961e5193af55e45a443305a96667295f3cb7,Grafana: Run priviliged when copying home dashboard file,MERGED,2021-10-08 13:07:16.000000000,2021-11-05 12:30:27.000000000,2021-11-05 12:28:47.000000000,8,0,7,813185,82b0e095a56a9707268f83484292589902ab1c8a,28,6,4,2,33710,Uwe Grawert,ugrawert,"Grafana: Run priviliged when copying home dashboard file

The copy job for the grafana home dashboard file needs to run
priviliged, otherwise permission denied error occurs.

Closes-Bug: #1947710

Change-Id: Ib15e961e5193af55e45a443305a96667295f3cb7
"
openstack%2Fcinder~stable%2Fussuri~Ic4296d26be7db01c29ba4a4f47590cbef778ac48,openstack/cinder,stable/ussuri,1884495-stable/ussuri,Ic4296d26be7db01c29ba4a4f47590cbef778ac48,Add cinder discard in nimble driver,ABANDONED,2020-09-15 14:18:20.000000000,2021-11-05 12:16:46.000000000,,12,2,1,752055,f07838fb1e2e525f22f1142923de5298ee3a88b4,24,16,1,3,16186,Ajitha Robert,ajitharobert,"Add cinder discard in nimble driver

Change-Id: Ic4296d26be7db01c29ba4a4f47590cbef778ac48
(cherry picked from commit c354d5bd04537f7efa6fae2eacf8980cc02bef5f)
"
openstack%2Fkolla-ansible~stable%2Fxena~I1331698e313bd714a16fc35f38fb579d75b56370,openstack/kolla-ansible,stable/xena,mariadb-shard-groups-stable/xena,I1331698e313bd714a16fc35f38fb579d75b56370,mariadb: use add_host to include inactive hosts in shard grouping,MERGED,2021-11-04 11:04:29.000000000,2021-11-05 12:10:59.000000000,2021-11-05 12:09:34.000000000,13,5,0,816652,06218e2642714250f941927849cbab29d3898467,10,4,1,4,22629,Michal Nasiadka,mnasiadka,"mariadb: use add_host to include inactive hosts in shard grouping

In case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.
Using add_host will add all hosts in mariadb group to their shards group

Signed-off-by: Seena Fallah <seenafallah@gmail.com>
Change-Id: I1331698e313bd714a16fc35f38fb579d75b56370
Closes-Bug: #1947589
(cherry picked from commit 68cd2a055371cc25a0502ff4db22fbcdececd478)
"
openstack%2Fdiskimage-builder~master~I90ba0f41f3b6ec518f70e31ae6f1e7fbdd31227e,openstack/diskimage-builder,master,,I90ba0f41f3b6ec518f70e31ae6f1e7fbdd31227e,cloud-init: Support growpart and pvresize for specified devices,ABANDONED,2021-11-03 11:15:43.000000000,2021-11-05 12:04:59.000000000,,40,0,0,816458,71ae052a00124accee6f83a6fe7f332c732221a0,5,1,1,2,22629,Michal Nasiadka,mnasiadka,"cloud-init: Support growpart and pvresize for specified devices

Support growpart and pvresize for user-specified device list.

Change-Id: I90ba0f41f3b6ec518f70e31ae6f1e7fbdd31227e
"
openstack%2Fopenstacksdk~feature%2Fr1~Icd786e89aba5b593feee165226010b25f8627efd,openstack/openstacksdk,feature/r1,remove-keystone-admin-endpoint-feature/r1,Icd786e89aba5b593feee165226010b25f8627efd,Keep creating keystone admin endpoint for heat,MERGED,2021-11-05 08:20:33.000000000,2021-11-05 11:43:57.000000000,2021-11-05 11:37:58.000000000,2,0,0,816667,4246811205bbe40523604567dc6b2f1c416e34be,7,2,1,1,13252,Dr. Jens Harbott,jrosenboom,"Keep creating keystone admin endpoint for heat

Heat still depends on an keystone admin endpoint being present although
it has no functional difference anymore from the other endpoints with the
v3 API. Make devstack create one.

Change-Id: Icd786e89aba5b593feee165226010b25f8627efd
(cherry picked from commit 9ed215d4443c08167117144e0ee938b418bf56c2)
"
openstack%2Fkuryr-kubernetes~master~Idbc1e2868c54eb1151d2498a0324731fe099592e,openstack/kuryr-kubernetes,master,restrict-network-creation,Idbc1e2868c54eb1151d2498a0324731fe099592e,Restrict handling of Namespace events,MERGED,2021-10-05 18:35:20.000000000,2021-11-05 11:33:53.000000000,2021-11-05 11:32:16.000000000,125,27,34,812588,32cdda491482a7881d7c72d9ab8aeb2d50311f45,64,4,13,11,27032,Maysa de Macedo Souza,maysa,"Restrict handling of Namespace events

Ensures Namespaces are only handled when there
is any Pod on Pod Network present on it to avoid
creating Networks and Subnets without really being
used.

Depends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/813404

Change-Id: Idbc1e2868c54eb1151d2498a0324731fe099592e
"
openstack%2Ffreezer-web-ui~master~I5dfbf48059b2bfc538a448f626fa07298e1d9dc6,openstack/freezer-web-ui,master,,I5dfbf48059b2bfc538a448f626fa07298e1d9dc6,Add  python3.9 CI,MERGED,2021-11-04 05:04:56.000000000,2021-11-05 11:21:21.000000000,2021-11-05 11:21:21.000000000,4,1,0,816483,716266f5d7dd33e6dacd6d86093e74d194024805,13,2,4,1,21069,Carl caihui,caihui,"Add  python3.9 CI

Change-Id: I5dfbf48059b2bfc538a448f626fa07298e1d9dc6
"
openstack%2Fcharm-rabbitmq-server~master~I3ba18ba5e765993f61d892b6a2d34a74ba6d2d12,openstack/charm-rabbitmq-server,master,pin-py35,I3ba18ba5e765993f61d892b6a2d34a74ba6d2d12,Pin pyparsing for CI,MERGED,2021-10-25 09:11:37.000000000,2021-11-05 11:05:31.000000000,2021-11-05 11:05:31.000000000,2,0,7,815258,af48cfe8ad7e387cc75f674ae59bcd91e33012f1,21,5,2,1,20870,Alex Kavanagh,ajkavanagh,"Pin pyparsing for CI

Change-Id: I3ba18ba5e765993f61d892b6a2d34a74ba6d2d12
Note: this will be dropped when we change the CI runners.
"
openstack%2Fironic-python-agent~stable%2Fxena~Iceeab0010827728711e19e5b031ccac55fe1efde,openstack/ironic-python-agent,stable/xena,log-file-stable/xena,Iceeab0010827728711e19e5b031ccac55fe1efde,Always include the oslo_log log file in ramdisk logs,MERGED,2021-11-04 15:55:59.000000000,2021-11-05 10:55:21.000000000,2021-11-05 10:53:08.000000000,72,3,0,816664,48fe8897eb428b0e941ef5c8513ff7c061ba971e,7,2,1,5,10239,Dmitry Tantsur,dtantsur,"Always include the oslo_log log file in ramdisk logs

Even if journald is present, there is no guarantee that IPA logs there
(this is the case in container-based ramdisks).

Change-Id: Iceeab0010827728711e19e5b031ccac55fe1efde
(cherry picked from commit 2cedaa53c2ad306c4aeb2c2dc76c051db7408dbd)
"
openstack%2Fskyline-console~master~I74122014b9e209af331db467f7d84e56d70cfc50,openstack/skyline-console,master,,I74122014b9e209af331db467f7d84e56d70cfc50,feat: Make ipProtocol can be entered by user,MERGED,2021-11-02 10:50:10.000000000,2021-11-05 10:32:24.000000000,2021-11-05 10:32:24.000000000,80,5,6,816320,ffa59fd0885c8032750dd7ae4104b7030afacf78,31,2,6,5,33636,zhu yue,zhu.yue,"feat: Make ipProtocol can be entered by user

Make ipProtocol can be entered by user

Change-Id: I74122014b9e209af331db467f7d84e56d70cfc50
"
openstack%2Fcharm-ceilometer~master~I1946b6f172cdae6f444d07999d5e54d4e11a450e,openstack/charm-ceilometer,master,queens_pipeline_yaml,I1946b6f172cdae6f444d07999d5e54d4e11a450e,Enable pipeline_yaml for mitaka and above,MERGED,2021-11-01 08:12:28.000000000,2021-11-05 10:12:06.000000000,2021-11-05 10:12:06.000000000,13,0,4,816150,f4d772e6a3af21d7917aec60e8ab8b93eaba3688,20,3,4,4,9247,Arif Ali,arif-ali,"Enable pipeline_yaml for mitaka and above

This configuration for pipeline.yaml is still valid for mitaka and
above, so adding this in.

The ceilometer-collector package is not available in newer openstack
releases, so basing this on QUEENS_SERVICES.

This should solve the custom requirement of pipeline moving forward.

Other fixes:
* Update test-requirements.txt for cffi and related pins.
* Update focal-xena bundle to fix memcached series bionic requirement.

Closes-Bug: 1938807
Change-Id: I1946b6f172cdae6f444d07999d5e54d4e11a450e
"
openstack%2Fnova~stable%2Ftrain~I59a0746b864610b6a314078cf5661d3d2b84b1d4,openstack/nova,stable/train,bug/1897528,I59a0746b864610b6a314078cf5661d3d2b84b1d4,Ignore PCI devices with 32bit domain,NEW,2021-05-19 09:52:46.000000000,2021-11-05 09:10:20.000000000,,78,16,1,792117,f03f46ee8846571be44e6995eafcb400a0f492e5,15,2,4,5,15334,Stephen Finucane,sfinucan,"Ignore PCI devices with 32bit domain

Nova and QEMU[1] supports PCI devices with a PCI address that has 16 bit
domain. However there are hypervisors that reports PCI addresses with
32 bit domain. While today we cannot assign these to guests this should
not prevent the nova-compute service to start.

This patch changes the PCI manager to ignore such PCI devices.

Please note that this patch does not change fact that nova does not
allow specifying PCI addresses with 32bit domain in the
[pci]/passthrough_whitelist configuration. Such configuration is still
rejected at nova-compute service startup.

Closes-Bug: #1897528

[1] https://github.com/qemu/qemu/blob/f2a1cf9180f63e88bb38ff21c169da97c3f2bad5/hw/core/qdev-properties.c#L993

Change-Id: I59a0746b864610b6a314078cf5661d3d2b84b1d4
(cherry picked from commit 8c9d6fc8f073cde78b79ae259c9915216f5d59b0)
(cherry picked from commit 90ffc553d7f4152a6a4a8708787150d3c3c40b03)
(cherry picked from commit 22daca3e7f33e89b937f03a89db63cf25489e3c9)
"
openstack%2Fopenstack-tempest-skiplist~master~Ida401fe0bf7dbd65d86255d175005661b9b001b4,openstack/openstack-tempest-skiplist,master,change-803434-5,Ida401fe0bf7dbd65d86255d175005661b9b001b4,"Revert ""basic_ops mac_spoof fails upstream""",ABANDONED,2021-08-04 08:37:54.000000000,2021-11-05 09:08:06.000000000,,12,21,1,803434,6c5d7868af64d599dbc6bb5ec62f5c7538e0a08f,24,6,7,1,11082,Kamil Sambor,ksambor,"Revert ""basic_ops mac_spoof fails upstream""

This reverts commit cd284cfada992c5d674d462509df77b3941b5cf9.

Reason for revert: https://bugs.launchpad.net/tripleo/+bug/1936420/

Change-Id: Ida401fe0bf7dbd65d86255d175005661b9b001b4
"
openstack%2Fkuryr-tempest-plugin~master~Id0879f128ca8c057ea6ec540fec0e76d656e7b13,openstack/kuryr-tempest-plugin,master,fix-ns-handling-tempest,Id0879f128ca8c057ea6ec540fec0e76d656e7b13,Fix Namespace handling,MERGED,2021-10-11 10:12:23.000000000,2021-11-05 08:43:06.000000000,2021-11-05 08:41:32.000000000,11,2,4,813404,774fc6bae0209edb366adbddd16aa2f205d389cb,18,5,3,4,27032,Maysa de Macedo Souza,maysa,"Fix Namespace handling

With the handling of Namespaces now being
dependent on Pods creation, tempests tests
need to get updated to account for that.

Change-Id: Id0879f128ca8c057ea6ec540fec0e76d656e7b13
"
openstack%2Fproject-config~master~Ie42d73e7cd12c80b076429a643d95778ff5665b8,openstack/project-config,master,centos-9-haveged,Ie42d73e7cd12c80b076429a643d95778ff5665b8,infra-package-needs: skip haveged start on 9-stream,MERGED,2021-11-05 06:41:39.000000000,2021-11-05 08:34:24.000000000,2021-11-05 07:00:25.000000000,5,0,2,816782,7df74a82fa0879399a12ff503994e1d7c0a0138e,8,3,1,1,7118,Ian Wienand,iwienand,"infra-package-needs: skip haveged start on 9-stream

This package is not installed (see
I9b88baf422d947d5209d036766a86b09dca0c21a) so we can't enable this
service on 9-stream.

Change-Id: Ie42d73e7cd12c80b076429a643d95778ff5665b8
"
openstack%2Fneutron-vpnaas~master~I405fe21c5d19e59d0b1f3fb4e35c8567467c2a57,openstack/neutron-vpnaas,master,dnm,I405fe21c5d19e59d0b1f3fb4e35c8567467c2a57,DNM: check master,ABANDONED,2021-10-05 12:21:03.000000000,2021-11-05 08:08:35.000000000,,7,7,0,812492,45de1bcd6cb8b5d88867f9a545f3db306e1255fa,8,1,2,1,8313,Lajos Katona,elajkat,"DNM: check master

Change-Id: I405fe21c5d19e59d0b1f3fb4e35c8567467c2a57
"
openstack%2Fcinder~master~Ica59db93a0153be9ab2e5e9165651173d9b2afd0,openstack/cinder,master,bug/1940069,Ica59db93a0153be9ab2e5e9165651173d9b2afd0,HPE 3PAR: Reuse existing session,MERGED,2021-08-16 10:50:13.000000000,2021-11-05 08:00:33.000000000,2021-09-30 23:09:07.000000000,182,878,6,804698,1daded795109b9cc8e3954befe513400fe1ef036,103,7,3,4,29122,Raghavendra Tilay,raghavendrat,"HPE 3PAR: Reuse existing session

The 3PAR driver creates new SSH connection to the backend for each
operation (eg. create/delete volume).

There is a limit on maximum number of SSH connections from 3PAR
backend i.e 24 connections.

The problem is that when multiple concurrent operations are
performed, this limit gets reached & further operations get
errored out.

This patch performs two things:
[a] Instead of creating new session for each operation, an attempt is
made to reuse existing session for as most operations.
[b] Since WSAPI of 3PAR has evolved, wsapi (http/https) requests are
used; thus SSH connections are no longer required.

Closes-Bug: #1940069
Change-Id: Ica59db93a0153be9ab2e5e9165651173d9b2afd0
"
openstack%2Fcinder~master~I2955d79b9850190691ef690f4e0ade3e391cd893,openstack/cinder,master,bug/1939972,I2955d79b9850190691ef690f4e0ade3e391cd893,Record the original size when creating an image from a volume,NEW,2021-08-15 09:28:42.000000000,2021-11-05 08:00:29.000000000,,14,2,4,804584,37dbfb3489d99b40848925ac45981029df91e461,83,4,9,3,9816,Takashi Kajinami,kajinamit,"Record the original size when creating an image from a volume

This change makes the original volume size persisted in the min_disk
property during copying a volume to an image. This allows keeping
the original size even when image format is converted during the copy
operation, and prevents users from creating a smaller volume from
the image, which results in error.

Closes-Bug: #1939972
Change-Id: I2955d79b9850190691ef690f4e0ade3e391cd893
"
openstack%2Fcinder~master~I640e039833001a91b23bfe0e6bb9c4e083d012a3,openstack/cinder,master,bug/1942077,I640e039833001a91b23bfe0e6bb9c4e083d012a3,Fix: Online migration for volume_use_quota_online_data_migration,MERGED,2021-09-02 09:10:27.000000000,2021-11-05 08:00:25.000000000,2021-09-15 17:22:52.000000000,29,9,9,807083,53c3b192ec3327c5426810e227abf9fe25540ae1,165,8,8,3,27615,Rajat Dhasmana,whoami-rajat,"Fix: Online migration for volume_use_quota_online_data_migration

In the calculate_use_quota method, added a check for the case when
there is no migration i.e. volume.migration_status is None and
return True in that case since we should count that volume in quotas.

Also changed the property from admin_metadata to volume_admin_metadata
since we are dealing with ORM objects and not OVO.

It also fixes another issue where the db/api layer wasn't returning
the result of total and updated records.

Closes-Bug: #1942077
Change-Id: I640e039833001a91b23bfe0e6bb9c4e083d012a3
"
openstack%2Fcinder~master~I0db4a3ff34ddd87f2e51cb7095952a7f61b0c326,openstack/cinder,master,bug/1931968,I0db4a3ff34ddd87f2e51cb7095952a7f61b0c326,[SVF]:HyperSwap volume service status update,MERGED,2021-05-13 16:06:51.000000000,2021-11-05 08:00:22.000000000,2021-09-07 18:06:05.000000000,157,2,24,791281,8a240585b56d83b700594ba1378c170381c4cf77,218,9,10,3,32171,Girish Chilukuri,GirishChilukuri,"[SVF]:HyperSwap volume service status update

[Spectrum Virtualize Family] During HyperSwap volume service
initialization, replication status is updated as disabled.

with this patch updating the replication status based on volume
node status.

Closes-Bug: #1931968

Change-Id: I0db4a3ff34ddd87f2e51cb7095952a7f61b0c326
"
openstack%2Fcinder~master~If9fbe267954d5e7395972da3cd58d53801ff97ef,openstack/cinder,master,secure-rbac,If9fbe267954d5e7395972da3cd58d53801ff97ef,Implement project personas for snapshots,MERGED,2020-10-28 16:23:51.000000000,2021-11-05 08:00:18.000000000,2021-09-15 01:57:52.000000000,418,89,2,760178,85d64c6474863133c69da547f047eb9cdecf9d41,259,21,13,6,5046,Lance Bragstad,ldbragst,"Implement project personas for snapshots

This commit updates the policies to use the default roles provided by
keystone to provide some level of authoritative consistency across
OpenStack APIs.

Future changes will incorporate system scope when cinder fully supports
it.

Legacy snapshot unit tests have been updated to not rely on overriding
snapshot policies.

Change-Id: If9fbe267954d5e7395972da3cd58d53801ff97ef
"
openstack%2Fopenstacksdk~feature%2Fr1~I93dcb7379b92f4a02d0205b644f8eb4cfa4036b4,openstack/openstacksdk,feature/r1,,I93dcb7379b92f4a02d0205b644f8eb4cfa4036b4,Compute - reindentation of the docstrings,ABANDONED,2021-11-04 07:25:05.000000000,2021-11-05 07:16:48.000000000,,206,206,1,816620,89d7ebb02e88f3956f17ac46f1ee44af9be0b055,8,1,3,1,33945,Thomas Bucaioni,jfbash,"Compute - reindentation of the docstrings

Change-Id: I93dcb7379b92f4a02d0205b644f8eb4cfa4036b4
"
openstack%2Fnova~master~Ide3673ade3cb98832482e09a716a3f6795373df0,openstack/nova,master,cpu_pinnig_with_partial_thread_siblings,Ide3673ade3cb98832482e09a716a3f6795373df0,[WIP] Add extra tests for pinning with partial siblings,NEW,2021-11-04 22:07:34.000000000,2021-11-05 06:45:35.000000000,,119,0,0,816758,4f6622d9e4599d8b65760748015715d614d5e7c7,5,1,1,1,11604,sean mooney,sean-k-mooney,"[WIP] Add extra tests for pinning with partial siblings

This patch add addtional testcase to corver configuration
where on a host with hyperthreading only one of each thread
sibling pair is added to the cpu_dedicated set.

This patch also demonstates that we do not currently block
tread siblings sharing between the cpu_shared_set and
cpu_dedicated_set. This is a bug that should be fix in
a later patch.

Change-Id: Ide3673ade3cb98832482e09a716a3f6795373df0
"
openstack%2Fskyline-console~master~I752a575142ca2844474291f2d8620a85566508b8,openstack/skyline-console,master,single_cpu_fail,I752a575142ca2844474291f2d8620a85566508b8,Fix error on single-CPU machine,MERGED,2021-10-21 16:00:18.000000000,2021-11-05 05:35:04.000000000,2021-11-05 05:35:04.000000000,1,1,0,815027,39e1f08496dd126a81b6d2b41ec26eab2df2f34f,7,4,1,1,27838,Vadym Markov,vmarkov,"Fix error on single-CPU machine

HappyPack doesn't like 0 threads in config

Change-Id: I752a575142ca2844474291f2d8620a85566508b8
"
openstack%2Fpython-ironicclient~master~Id79a88a1df0e641d951e46433ad9961376241cc2,openstack/python-ironicclient,master,subcommand-help,Id79a88a1df0e641d951e46433ad9961376241cc2,Made `baremetal <command> --help` display command specific help.,MERGED,2021-10-31 12:14:14.000000000,2021-11-05 04:27:27.000000000,2021-11-05 04:25:56.000000000,2,1,5,816098,47128126b01af32119cedc588f1b19f46a870328,13,3,2,1,34205,Mahnoor Asghar,mudo,"Made `baremetal <command> --help` display command specific help.

`baremental node show --help`
shows the same command-specific help message as:
`baremetal help node show`

Story: 2009265
Task: 43500
Change-Id: Id79a88a1df0e641d951e46433ad9961376241cc2
"
openstack%2Fskyline-console~master~I19c284e1f921361d8a8ca06d441b14db9cf3c5b0,openstack/skyline-console,master,,I19c284e1f921361d8a8ca06d441b14db9cf3c5b0,Add irrelevant-files for skyline-console,MERGED,2021-11-04 10:12:12.000000000,2021-11-05 03:43:20.000000000,2021-11-05 03:43:20.000000000,116,8,2,816636,bcea47f122b8fbe4d26e3cd9e0c28edcb85530d5,13,2,4,1,28706,Boxiang Zhu,ZhuBoxiang,"Add irrelevant-files for skyline-console

Add irrelevant-files for skyline-console so we can
run the really necessary e2e test instead of all
e2e tests.

Change-Id: I19c284e1f921361d8a8ca06d441b14db9cf3c5b0
"
openstack%2Ffreezer-tempest-plugin~master~Ic47b54ba66448b00e174dd62b0a0d0460e04d701,openstack/freezer-tempest-plugin,master,,Ic47b54ba66448b00e174dd62b0a0d0460e04d701,Add stable/xena ci job,MERGED,2021-11-04 05:11:35.000000000,2021-11-05 03:39:49.000000000,2021-11-05 03:39:49.000000000,6,0,0,816484,daa7c541826a969229bca292340ad79955989413,10,3,3,1,21069,Carl caihui,caihui,"Add stable/xena ci job

Add freezer-tempest-basic-xena ci job

Change-Id: Ic47b54ba66448b00e174dd62b0a0d0460e04d701
"
openstack%2Fwatcher-specs~master~Icc7d952f97da5e975e16482e37d3d70e3abf644a,openstack/watcher-specs,master,,Icc7d952f97da5e975e16482e37d3d70e3abf644a,Add Wallaby templete,NEW,2021-11-05 03:16:35.000000000,2021-11-05 03:29:00.000000000,,411,0,0,816781,e0d3d272d7a1081ff6fe446bfe5996b7cc660312,2,1,1,9,31412,Wenping Song,songwenping,"Add Wallaby templete

Change-Id: Icc7d952f97da5e975e16482e37d3d70e3abf644a
"
openstack%2Frequirements~master~Ic0838f2fbcc6f9eaa0a86a9d3ce0a4d562d52626,openstack/requirements,master,openstack/requirements/constraints,Ic0838f2fbcc6f9eaa0a86a9d3ce0a4d562d52626,Updated from generate-constraints,ABANDONED,2021-11-05 03:06:03.000000000,2021-11-05 03:15:26.000000000,,13,14,0,816780,31ee130625a95b23ab7be31987500eb813308271,2,0,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ic0838f2fbcc6f9eaa0a86a9d3ce0a4d562d52626
"
openstack%2Ffreezer~master~Iaabe5d1c70dcd20e2787d59241268c0013408f64,openstack/freezer,master,,Iaabe5d1c70dcd20e2787d59241268c0013408f64,Update gate CI,MERGED,2021-11-04 05:02:15.000000000,2021-11-05 01:50:11.000000000,2021-11-05 01:45:41.000000000,1,1,0,816482,7c45623a7e611a0d11bc2414a9db68144c1b8fd8,10,2,3,1,21069,Carl caihui,caihui,"Update gate CI

Update gate CI for yoga version

Change-Id: Iaabe5d1c70dcd20e2787d59241268c0013408f64
"
openstack%2Ftripleo-heat-templates~master~Ic7c3469c69841293902f29d5772be202978fac32,openstack/tripleo-heat-templates,master,podman4,Ic7c3469c69841293902f29d5772be202978fac32,Remove double slashes in path,MERGED,2021-11-04 17:39:03.000000000,2021-11-05 01:42:53.000000000,2021-11-05 01:42:53.000000000,1,1,2,816727,61a1dcc3b1f6963dc84675b8319dcb7d2dc0e0c8,12,7,1,1,20172,Michele Baldessari,michele,"Remove double slashes in path

In some containers we have double slashes in our paths. This has always
worked in podman 3.x but breaks with podman 4.x

* Working

[root@undercloud-0 step_1]# podman run -it --rm --net=host -v /etc/pki/tls/private/overcloud_endpoint.pem:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/overcloud_endpoint.pem undercloud-0.ctlplane.home.arpa:8787/tripleo_centos9/openstack-haproxy:latest bash
[root@undercloud-0 /]# exit

Broken (see the '//' before src-tls)

[root@undercloud-0 step_1]# podman run -it --rm --net=host -v /etc/pki/tls/private/overcloud_endpoint.pem:/var/lib/kolla/config_files//src-tls/etc/pki/tls/private/overcloud_endpoint.pem undercloud-0.ctlplane.home.arpa:8787/tripleo_centos9/openstack-haproxy:latest bash
Error: OCI runtime error: mount `/etc/pki/tls/private/overcloud_endpoint.pem` to `/var/lib/kolla/config_files//src-tls/etc/pki/tls/private/overcloud_endpoint.pem`: Not a directory

Closes-Bug: #1949888
Change-Id: Ic7c3469c69841293902f29d5772be202978fac32
"
openstack%2Fproject-config~master~I26e5e1cf6778cb51872d6a65b2ac683335201bb4,openstack/project-config,master,nb-pyyaml6,I26e5e1cf6778cb51872d6a65b2ac683335201bb4,nodepool elements: use yaml.safe_load,MERGED,2021-11-05 00:26:32.000000000,2021-11-05 01:35:34.000000000,2021-11-05 01:08:51.000000000,1,1,1,816774,04b3eb3d4375fa1132a5ed300540936ae2142035,7,2,1,1,7118,Ian Wienand,iwienand,"nodepool elements: use yaml.safe_load

The recent pyyaml 6 release, incorporated in the latest
nodepool-builder/dib images, requires a specific loader now.  Use
safe_load as there's nothing crazy going on here.

Change-Id: I26e5e1cf6778cb51872d6a65b2ac683335201bb4
"
openstack%2Ftripleo-common~master~Ie9a40086660bb56bc5528beba7c0d9154b5e6463,openstack/tripleo-common,master,cs9,Ie9a40086660bb56bc5528beba7c0d9154b5e6463,[CS9] Rework dnf modules,MERGED,2021-11-02 11:12:26.000000000,2021-11-05 00:25:33.000000000,2021-11-05 00:23:53.000000000,20,7,18,816321,9c479d280bc4d4ca0084343ccdba01493dde2324,47,7,9,1,12393,chandan kumar,chkumar246,"[CS9] Rework dnf modules

This change makes dnf modules el specific so that we don't always assume
certain modules are always used. This is necessary because in c9, the
container-tools module is going away.

https://gitlab.com/redhat/centos-stream/release-engineering/pungi-centos/-/merge_requests/176
drops the container-tools module stream from cs9 and
uses non-modular repo to install podman.

Related-Bug: #1949456

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/816318

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Change-Id: Ie9a40086660bb56bc5528beba7c0d9154b5e6463
"
openstack%2Fproject-config~master~I9b88baf422d947d5209d036766a86b09dca0c21a,openstack/project-config,master,cs9,I9b88baf422d947d5209d036766a86b09dca0c21a,Add centos-9-stream nodepool image,MERGED,2021-11-03 11:49:01.000000000,2021-11-05 00:14:58.000000000,2021-11-04 23:59:42.000000000,67,0,1,816465,5100cf7063431eb4a3bb66b08ab6c83f039272de,11,6,1,5,16312,Alfredo Moralejo,amoralej,"Add centos-9-stream nodepool image

CentOS Stream 9 repos are ready and support for it is included in
diskimage-builder [1]. This patch is adding centos-9-stream diskimages
and images to nodepool configuration in opendev.

[1] https://review.opendev.org/c/openstack/diskimage-builder/+/811392

Change-Id: I9b88baf422d947d5209d036766a86b09dca0c21a
"
openstack%2Fproject-config~master~I25d9bb7272edc3215840a53e5d79efe5d1fd7210,openstack/project-config,master,cs9,I25d9bb7272edc3215840a53e5d79efe5d1fd7210,Add support for CentOS Stream 9 in nodepool elements,MERGED,2021-09-28 16:15:32.000000000,2021-11-05 00:05:23.000000000,2021-11-04 23:58:27.000000000,7,1,8,811442,4e88e748bbfd877b45b4032ae899a6ef03fc05e6,27,11,4,2,16312,Alfredo Moralejo,amoralej,"Add support for CentOS Stream 9 in nodepool elements

This patch is adding support for CentOS Stream 9 in elements
infra-package-needs and nodepool-base which are used in nodepool images.

- Remove installation of ntpdate (it has been removed in CS9).
- It skips installation of haveged until it's available in EPEL9.
- It maps package iptables to iptables-service.

Note that this patch has been tested together with dib patch in Depends-On.

Depends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/811392
Change-Id: I25d9bb7272edc3215840a53e5d79efe5d1fd7210
"
openstack%2Fdevstack~master~I83ea34d6aa647d2ab9d4d78ed354904fce836e68,openstack/devstack,master,bullseye-swap,I83ea34d6aa647d2ab9d4d78ed354904fce836e68,Run Bullseye with more swap,MERGED,2021-10-29 12:40:40.000000000,2021-11-04 23:59:54.000000000,2021-11-04 23:55:11.000000000,1,3,14,815958,f8e00b86aee9a8f9646bf5aed2c618843307b963,38,3,4,1,13252,Dr. Jens Harbott,jrosenboom,"Run Bullseye with more swap

Since Bullseye like Centos 8 Stream needs more memory due to changed
default settings in newer qemu versions, set the swap size to 4G, which
is the same setting already being used for the CS8 jobs successfully.

Change-Id: I83ea34d6aa647d2ab9d4d78ed354904fce836e68
Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
"
openstack%2Fcinder~master~Ib3036bff44b6d8e192209d2bc0a1582ad91248d8,openstack/cinder,master,bug/1947350,Ib3036bff44b6d8e192209d2bc0a1582ad91248d8,[ubuntu] Add tgt package for cinder storage,MERGED,2021-10-15 10:46:14.000000000,2021-11-04 23:34:14.000000000,2021-11-04 23:31:00.000000000,1,1,3,814129,6f8d7e11e710ab9bff9c4861dafc0b6ce5de39b8,29,5,1,1,23182,kourosh vivan,KouroshVivan,"[ubuntu] Add tgt package for cinder storage

Closes-Bug: 1947350
Change-Id: Ib3036bff44b6d8e192209d2bc0a1582ad91248d8
"
openstack%2Fcinder~master~I5b48b7089acebcfe603c8618b86aed267745ff26,openstack/cinder,master,,I5b48b7089acebcfe603c8618b86aed267745ff26,Fix a typo,MERGED,2021-09-29 15:25:30.000000000,2021-11-04 23:32:48.000000000,2021-11-04 23:30:52.000000000,1,1,3,811740,309c20eab072513e0de43f00eac5b1e101902428,39,5,1,1,30615,Tushar Trambak Gite,tushargite96,"Fix a typo

This patch changes 'seperate' to
'separate' in the 45 line of cinder/volume/drivers/veritas_cnfs.py

Change-Id: I5b48b7089acebcfe603c8618b86aed267745ff26
"
openstack%2Fneutron~master~I245032cf99b1b042226703f5ddb4625e176924c5,openstack/neutron,master,optimize_sg_rule_list,I245032cf99b1b042226703f5ddb4625e176924c5,Use the DB object when listing the SG rules,MERGED,2021-11-02 16:37:16.000000000,2021-11-04 23:32:44.000000000,2021-11-04 23:30:42.000000000,7,5,0,816373,d1fa2f104dffc662d3feabd169e58f1cc1e92951,45,4,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Use the DB object when listing the SG rules

When listing the security group rules, the DB object can be used
instead the OVO. That will save the conversion time. In a
development environment with 1000 SG rules, the DB query took around
100 ms and the same time to load the OVOs from the DB objects.

The ``NeutronDbObject.get_objects`` now can return the DB objects
without converting them to OVO if ""return_db_obj=True"".

Trivial-Fix

Change-Id: I245032cf99b1b042226703f5ddb4625e176924c5
"
openstack%2Fnova~stable%2Fwallaby~Ic0d6c59147abe5e094e8f13e0d3523b178daeba9,openstack/nova,stable/wallaby,bug/1944759,Ic0d6c59147abe5e094e8f13e0d3523b178daeba9,Store old_flavor already on source host during resize,MERGED,2021-09-24 13:54:47.000000000,2021-11-04 23:32:40.000000000,2021-11-04 23:30:47.000000000,25,27,7,810913,c8b04d183f560a616a79577c4d4ae9465d03e541,38,3,2,2,9708,Balazs Gibizer,gibi,"Store old_flavor already on source host during resize

During resize, on the source host, in resize_instance(), the instance.host
and .node is updated to point to the destination host. This indicates to
the source host's resource tracker that the allocation of this instance
does not need to be tracked as an instance but as an outbound migration
instead. However for the source host's resource tracker to do that it,
needs to use the instance.old_flavor. Unfortunately the
instance.old_flavor is only set during finish_resize() on the
destination host. (resize_instance cast to the finish_resize). So it is
possible that a running resize_instance() set the instance.host to point
to the destination and then before the finish_resize could set the
old_flavor an update_available_resources periodic runs on the source
host. This causes that the allocation of this instance is not tracked as
an instance as the instance.host point to the destination but it is not
tracked as a migration either as the instance.old_flavor is not yet set.
So the allocation on the source host is simply dropped by the periodic
job.

When such migration is confirmed the confirm_resize() tries to drop
the same resource allocation again but fails as the pinned CPUs of the
instance already freed.

When such migration is reverted instead, then revert succeeds but the
source host resource allocation will not contain the resource allocation
of the instance until the next update_available_resources periodic runs
and corrects it.

This does not affect resources tracked exclusively in placement (e.g.
VCPU, MEMORY_MB, DISK_GB) but it does affect NUMA related resource that
are still tracked in the resource tracker (e.g. huge pages, pinned
CPUs).

This patch moves the instance.old_flavor setting to the source node to
the same transaction that sets the instance.host to point to the
destination host. Hence solving the race condition.

Change-Id: Ic0d6c59147abe5e094e8f13e0d3523b178daeba9
Closes-Bug: #1944759
(cherry picked from commit b841e553214be9a732703e2dfed6c97698ef9b71)
(cherry picked from commit d4edcd62bae44c01885268a6cf7b7fae92617060)
"
openstack%2Fcinder~master~I80ba4757c0825b8b8602d06ce128b88b73e9e7a1,openstack/cinder,master,bp/remove-sqlalchemy-migrate,I80ba4757c0825b8b8602d06ce128b88b73e9e7a1,Remove unused nested_contexts method,MERGED,2021-09-10 15:49:10.000000000,2021-11-04 23:30:56.000000000,2021-11-04 23:30:56.000000000,0,6,1,808464,60b96656d13af7de13fd7c5cc3c1afa2dc8965ed,37,5,1,1,4523,Eric Harney,eharney,"Remove unused nested_contexts method

This is no longer used after Id30929.

Change-Id: I80ba4757c0825b8b8602d06ce128b88b73e9e7a1
"
openstack%2Fneutron-tempest-plugin~master~I98e53ac95b1c407149993ee93fe9eb36a23f0615,openstack/neutron-tempest-plugin,master,bug/1948804,I98e53ac95b1c407149993ee93fe9eb36a23f0615,"[stable/{train,stein}] Use old guest image for these branches",MERGED,2021-10-26 15:50:22.000000000,2021-11-04 23:23:26.000000000,2021-11-04 23:23:26.000000000,40,0,5,815518,27f057c2fdf19f4c08ef5e3f142761a1b3cab8f2,34,3,2,2,21798,Bernard Cafarelli,bcafarel,"[stable/{train,stein}] Use old guest image for these branches

Customization of Ubuntu minimal guest images fails with missing
guestmount binary, switch back to the previous guest image in these EM
branches

Change-Id: I98e53ac95b1c407149993ee93fe9eb36a23f0615
Closes-Bug: #1948804
"
openstack%2Fcinder~stable%2Fvictoria~I8dd114fedece8e9d8f85c1ed237c31aede907d67,openstack/cinder,stable/victoria,,I8dd114fedece8e9d8f85c1ed237c31aede907d67,PowerMax Driver - Allow for case mismatch in SGs,MERGED,2021-09-22 08:30:04.000000000,2021-11-04 22:36:42.000000000,2021-11-04 22:34:44.000000000,30,3,9,810367,5dcfe022440e6d6a61b4258b7b0eae1576e1209c,42,4,1,5,12670,Helen Walsh,walshh2,"PowerMax Driver - Allow for case mismatch in SGs

When checking if a storage group is a child of a parent storage
group the check is currently case sensitive. We should allow for
a pattern match that is not case sensitive. For example,
myStorageGroup should equal MYSTORAGEGROUP or mystoragegroup.

Closes-Bug: #1929429
Change-Id: I8dd114fedece8e9d8f85c1ed237c31aede907d67
(cherry picked from commit 1f65c2a92fe3931791fca81038a27f81e1ca28fd)
(cherry picked from commit 80ef8c1046c1c786f2e8f04352f9ce7c8f9af588)
"
openstack%2Fneutron~stable%2Fwallaby~I558d50d28378beb3710d98a2113ff9549c82ae17,openstack/neutron,stable/wallaby,bug/1947974,I558d50d28378beb3710d98a2113ff9549c82ae17,Check a namespace existence by checking only its own directory,MERGED,2021-11-03 14:12:22.000000000,2021-11-04 22:36:27.000000000,2021-11-04 22:34:32.000000000,32,33,3,816513,f95f2ed42a23e4ce300f0b8de726b4687c755020,20,3,1,6,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Check a namespace existence by checking only its own directory

To check the existance of a namespace, instead of listing the
namespaces directory (by default ""/var/run/netns""), this patch
directly checks the existence of the namespace directory, using
""os.path.exists"".

This check is faster than listing the whole directory and avoids
timeout problems as reported in the related bug.

Closes-Bug: #1947974
Change-Id: I558d50d28378beb3710d98a2113ff9549c82ae17
(cherry picked from commit 8127221479834350465251839ab88056f4f64fb4)
"
openstack%2Frequirements~stable%2Fwallaby~I49cae13e5d23197dd4ce2fe2e43bba9ca5823ce4,openstack/requirements,stable/wallaby,new-release,I49cae13e5d23197dd4ce2fe2e43bba9ca5823ce4,update constraint for python-manilaclient to new release 2.6.1,MERGED,2021-11-04 09:40:56.000000000,2021-11-04 22:25:49.000000000,2021-11-04 22:25:49.000000000,1,1,0,816630,6fb1b443c5eff07f8cf312071af75ee188e20f66,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-manilaclient to new release 2.6.1

meta: version: 2.6.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: silvacarloss <ces.eduardo98@gmail.com>
meta: release:Commit: silvacarloss <ces.eduardo98@gmail.com>
meta: release:Change-Id: I6ef3f10e3120f1caed768155868f1e506b51e9a6
meta: release:Code-Review+1: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Code-Review+2: HervÃ© Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I49cae13e5d23197dd4ce2fe2e43bba9ca5823ce4
"
openstack%2Fdevstack~master~Ie3cf3239b48f9905f5760ad0166eea954ecf5eed,openstack/devstack,master,cinder-quota-config,Ie3cf3239b48f9905f5760ad0166eea954ecf5eed,Allow cinder default quotas configuration,MERGED,2021-08-04 22:29:50.000000000,2021-11-04 22:09:56.000000000,2021-11-04 22:08:00.000000000,11,0,3,803521,f44aa0c55a81e24a8ad321c0c741939e86705e09,19,8,1,2,5314,Brian Rosmaita,brian-rosmaita,"Allow cinder default quotas configuration

The default cinder quotas for volumes, backups, or snapshots may
be too low for highly concurrent testing, so make these configurable
in devstack.

Change-Id: Ie3cf3239b48f9905f5760ad0166eea954ecf5eed
"
openstack%2Foctavia~stable%2Fussuri~I435c40a5493828bce24c2850182f0ddc8e5bdd1f,openstack/octavia,stable/ussuri,,I435c40a5493828bce24c2850182f0ddc8e5bdd1f,Fix failover of az-specific loadbalancers,MERGED,2021-10-27 06:23:32.000000000,2021-11-04 21:09:16.000000000,2021-11-04 21:07:24.000000000,4,4,1,815587,0b4e05aeb6525a7f42c5f4d1193def75d9551529,9,4,1,1,29244,Gregory Thiemonge,gthiemonge,"Fix failover of az-specific loadbalancers

There is a bug exists in CalculateAmphoraDelta class
If there is no such a key as constants.MANAGEMENT_NETWORK
in availability_zone dictionary, method get will return None
It means that management_nets list will become [None], not
CONF.controller_worker.amp_boot_network_list as it supposes to be
It breaks the following failover flow

Story: 2008669
Task: 41957
Change-Id: I435c40a5493828bce24c2850182f0ddc8e5bdd1f
(cherry picked from commit 81134bdfec79c8019c26e7846d31a2b2952965a0)
(cherry picked from commit 77a87a7f335464180933cd1859cd34998d7f2e75)
(cherry picked from commit e3026d35828b0b4541de3415e22582fa523f78e3)
"
openstack%2Fgovernance~master~I409090e891865f469610cbdafd603595ba2f6e2b,openstack/governance,master,project-update,I409090e891865f469610cbdafd603595ba2f6e2b,kolla-cli: enter retirement,MERGED,2021-10-19 15:21:23.000000000,2021-11-04 21:08:42.000000000,2021-11-04 21:06:54.000000000,4,5,6,814603,c8217883225fecba3b21ae76a3ff570ee95f6836,19,5,3,2,14826,Mark Goddard,mgoddard,"kolla-cli: enter retirement

kolla-cli was deprecated in Ussuri

http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html

Depends-On: https://review.opendev.org/c/openstack/project-config/+/814597

Change-Id: I409090e891865f469610cbdafd603595ba2f6e2b
"
openstack%2Fproject-config~master~I13fcf081d69c1749df0d2eefc218b4a543078ba9,openstack/project-config,master,,I13fcf081d69c1749df0d2eefc218b4a543078ba9,kolla-cli: enter retirement,MERGED,2021-10-19 14:48:33.000000000,2021-11-04 20:55:42.000000000,2021-11-04 20:22:59.000000000,2,37,1,814597,0258fcb577f88065745348c6905717f8183838e5,13,6,2,5,14826,Mark Goddard,mgoddard,"kolla-cli: enter retirement

kolla-cli was deprecated in Ussuri

http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014983.html

Change-Id: I13fcf081d69c1749df0d2eefc218b4a543078ba9
"
openstack%2Fkuryr-kubernetes~master~I56b9d6b3d1d17b8c999788c26f01b8cb4d976760,openstack/kuryr-kubernetes,master,exceptions,I56b9d6b3d1d17b8c999788c26f01b8cb4d976760,Decrease log level of leftover ports message,MERGED,2021-11-04 15:34:44.000000000,2021-11-04 20:52:01.000000000,2021-11-04 20:39:52.000000000,2,2,0,816712,a207fdf62ec907535648d667d144283d4d38cb19,8,3,1,1,11600,MichaÅ‚ Dulko,dulek,"Decrease log level of leftover ports message

No need to log full traceback when we still have leftover ports on a
network we're attempting to delete. This commit decreases the log level
of that message to warning in order to skip traceback.

Change-Id: I56b9d6b3d1d17b8c999788c26f01b8cb4d976760
"
openstack%2Fkuryr-kubernetes~master~I9fca68c995bfb29aa747b187f1b464351762d2c4,openstack/kuryr-kubernetes,master,remove-amphora,I9fca68c995bfb29aa747b187f1b464351762d2c4,Remove Amphora job from gate queue,MERGED,2021-11-04 15:37:18.000000000,2021-11-04 20:50:21.000000000,2021-11-04 20:39:50.000000000,0,1,0,816714,0105d228678f42f5b432b33b027263878df0cef0,8,3,1,1,11600,MichaÅ‚ Dulko,dulek,"Remove Amphora job from gate queue

Gate queue should not have non-voting jobs, so this commit removes
kuryr-kubernetes-tempest-amphora from gate.

Change-Id: I9fca68c995bfb29aa747b187f1b464351762d2c4
"
openstack%2Fkuryr-kubernetes~master~If106637c81a5566d7bea00561f5cf1b381f97f23,openstack/kuryr-kubernetes,master,remove-down-ports,If106637c81a5566d7bea00561f5cf1b381f97f23,Ensure DOWN subports are cleaned up,MERGED,2021-10-25 16:35:36.000000000,2021-11-04 20:15:34.000000000,2021-11-04 20:14:00.000000000,5,6,6,815338,182364e09d9ee8ed1cc5d29834946701a55bc545,20,4,3,2,27032,Maysa de Macedo Souza,maysa,"Ensure DOWN subports are cleaned up

Due to a known Neutron issue it's possible
to have subports with DOWN status and upon
controller restart those subports with are
not taken into account when repopulating the
pools resulting in leftovers. This commit
ensures nodes_ports_cleanup thread detach the
Port from the Trunk and remove it from the
Trunk.

Change-Id: If106637c81a5566d7bea00561f5cf1b381f97f23
"
openstack%2Ftripleo-heat-templates~master~I0661d5900fdced24778ebaea3c4e51fdec96604b,openstack/tripleo-heat-templates,master,2nodes/scenario,I0661d5900fdced24778ebaea3c4e51fdec96604b,Add multinode scenario for 2 overcloud nodes,NEW,2021-11-02 09:44:13.000000000,2021-11-04 20:08:42.000000000,,87,0,0,816312,1358c210e5bc3b36a5ab8bfdf1d88540557cf43f,13,2,5,1,16515,mbu,matbu,"Add multinode scenario for 2 overcloud nodes

WIP

Change-Id: I0661d5900fdced24778ebaea3c4e51fdec96604b
"
openstack%2Fneutron~master~If86ecce15b077f6baef74903a3a4f41a450ec755,openstack/neutron,master,bp/keystone-v3,If86ecce15b077f6baef74903a3a4f41a450ec755,"Replace ""tenant_id"" with ""project_id"" in metering service",MERGED,2021-10-20 16:46:04.000000000,2021-11-04 20:07:43.000000000,2021-11-04 20:05:32.000000000,74,74,5,814807,edf1d0c7599b096f731712f391e683e7e4f46d8f,32,5,4,8,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Replace ""tenant_id"" with ""project_id"" in metering service

This is part of the remaining technical debt of the specs
https://specs.openstack.org/openstack/neutron-specs/specs/newton/moving-to-keystone-v3.html

Change-Id: If86ecce15b077f6baef74903a3a4f41a450ec755
Blueprint: https://blueprints.launchpad.net/neutron/+spec/keystone-v3
"
openstack%2Fneutron~stable%2Fvictoria~I558d50d28378beb3710d98a2113ff9549c82ae17,openstack/neutron,stable/victoria,bug/1947974,I558d50d28378beb3710d98a2113ff9549c82ae17,Check a namespace existence by checking only its own directory,MERGED,2021-11-03 14:14:34.000000000,2021-11-04 20:07:29.000000000,2021-11-04 20:05:36.000000000,32,33,2,816515,6a9c05a92498630b85102eb6af1eccb415fd605a,12,3,1,6,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Check a namespace existence by checking only its own directory

To check the existance of a namespace, instead of listing the
namespaces directory (by default ""/var/run/netns""), this patch
directly checks the existence of the namespace directory, using
""os.path.exists"".

This check is faster than listing the whole directory and avoids
timeout problems as reported in the related bug.

Conflicts:
      neutron/privileged/agent/linux/utils.py

Closes-Bug: #1947974
Change-Id: I558d50d28378beb3710d98a2113ff9549c82ae17
(cherry picked from commit 8127221479834350465251839ab88056f4f64fb4)
"
openstack%2Ftripleo-quickstart~master~I7f2e4b5ea2b929cbcb0a024fa08f7e654914a2df,openstack/tripleo-quickstart,master,secure-rbac,I7f2e4b5ea2b929cbcb0a024fa08f7e654914a2df,Update featureset 20 to use secure RBAC project personas,ABANDONED,2021-09-17 16:17:03.000000000,2021-11-04 20:02:16.000000000,,3,0,1,809811,1ffa18a14b69c884d25e2fb36d674da6fbb9b685,42,7,6,1,5046,Lance Bragstad,ldbragst,"Update featureset 20 to use secure RBAC project personas

This commit updates the extra arguments for featureset 20 to use the
project persona overrides from THT. This should be exercise that
authorization model in a deployment with OVB and tempest.

Change-Id: I7f2e4b5ea2b929cbcb0a024fa08f7e654914a2df
"
openstack%2Ftripleo-quickstart~master~Icf7e94f8904f1f6ca38ab3e22eb9d62ba2794646,openstack/tripleo-quickstart,master,secure-rbac,Icf7e94f8904f1f6ca38ab3e22eb9d62ba2794646,Update featureset 10 to deploy with secure RBAC's project personas,ABANDONED,2021-09-17 14:37:04.000000000,2021-11-04 20:02:02.000000000,,3,0,0,809749,ebe28d33a278d189eaf0442aec0b625ce34726ca,35,5,7,1,5046,Lance Bragstad,ldbragst,"Update featureset 10 to deploy with secure RBAC's project personas

As of the Xena release, all the OpenStack services support at least a
project-admin, project-member, and project-reader. The project-admin is
an administrator that has total control over the deployment (this
behavior is currently in the process of being refactored into the
system-admin persona).

The project-member persona is anyone with the 'member' default role on
a project and they have the ability to create, update, delete, and read
resources within a project.

The project-reader persona is anyone with the 'reader' default role on a
project and they have the ability to read resources within a project.
They're not allowed to make writable changes to resources.

Both the project-member and project-reader personas adhere to tenancy
constraints, meaning they're not allowed to interact with resources that
belong to other projects.

These personas are implemented consistently across OpenStack services,
some of which are starting to implement support for system personas.
This change adds a template to configure each service to use these new,
common project personas.

The following patches will update the enable-secure-rbac.yaml
environment file to implement project personas, which will get tested in
featureset 10.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810496
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/810325

Change-Id: Icf7e94f8904f1f6ca38ab3e22eb9d62ba2794646
"
openstack%2Fglance~master~I8097a015e2a1ec91dd6e810fb9d694caa83e4dc7,openstack/glance,master,,I8097a015e2a1ec91dd6e810fb9d694caa83e4dc7,DNM: Experiment with setting is_admin for multiple admin types,ABANDONED,2021-10-20 14:44:59.000000000,2021-11-04 19:59:14.000000000,,8,1,1,814797,bdc851f507d65b57a4c089aa1fb027db5fa869e9,3,1,1,1,5046,Lance Bragstad,ldbragst,"DNM: Experiment with setting is_admin for multiple admin types

Change-Id: I8097a015e2a1ec91dd6e810fb9d694caa83e4dc7
"
openstack%2Fdevstack~master~Ia49b198ac10d5f402180a8fac85b62f4b713c060,openstack/devstack,master,only-create,Ia49b198ac10d5f402180a8fac85b62f4b713c060,Skip creating default domain,ABANDONED,2019-08-01 04:06:24.000000000,2021-11-04 19:56:15.000000000,,3,1,1,673941,70e401d4a5612f38003b0fa38ad44bc495404de6,4,2,1,1,7118,Ian Wienand,iwienand,"Skip creating default domain

If SERVICE_DOMAIN_NAME is ""Default"", which it always is (at the
moment) this is a no-op.

Change-Id: Ia49b198ac10d5f402180a8fac85b62f4b713c060
"
openstack%2Ftripleo-docs~master~I790a76a8ce748b534983460a4b93432c8f5d8815,openstack/tripleo-docs,master,,I790a76a8ce748b534983460a4b93432c8f5d8815,trivial: update non-existent network-data-samples location in deploy-guide,ABANDONED,2021-09-09 20:54:28.000000000,2021-11-04 19:55:22.000000000,,2,2,2,808136,d0c3369b09fdf9d053f3417c3f9ac7fe43e55006,7,4,1,1,5046,Lance Bragstad,ldbragst,"trivial: update non-existent network-data-samples location in deploy-guide

The network v2 documentation tells users they can find sample network
data in /usr/share/openstack-tripleo-heat-templates/network-data-samples
on the undercloud host, but that location doesn't exist. Instead, it
looks like the sample network data is in
/usr/share/openstack-tripleo-heat-templates.

This commit updates the guide to reference an actual location so it's
not misleading to readers.

Change-Id: I790a76a8ce748b534983460a4b93432c8f5d8815
"
openstack%2Ftripleo-specs~master~I83390a205f80cd88e8befdf8ca7571b8f2a7c002,openstack/tripleo-specs,master,,I83390a205f80cd88e8befdf8ca7571b8f2a7c002,Restore reproducibility in docs,MERGED,2021-10-14 12:59:10.000000000,2021-11-04 19:28:35.000000000,2021-11-04 19:25:45.000000000,1,1,0,814006,1ad6e221fcccffd8ad546110637ecef28c30b359,9,3,1,1,28522,HervÃ© Beraud,hberaud,"Restore reproducibility in docs

The documentation is writting the date in its copyright. This is
considered bad practice, because this kills reproducibility. If
you don't know about reproducible build, please read on:

https: //reproducible-builds.org/
Change-Id: I83390a205f80cd88e8befdf8ca7571b8f2a7c002
"
openstack%2Fnova~master~Icc45868850a56af1e293e2c0fa350ad8cecc36b4,openstack/nova,master,,Icc45868850a56af1e293e2c0fa350ad8cecc36b4,DNM/WIP libvirt: Default x86_64 instances to the q35 machine type,ABANDONED,2021-11-04 09:40:10.000000000,2021-11-04 19:23:13.000000000,,1,1,0,816629,fe67b1d351ee525cef4edf5cba33932ed0d9422b,9,1,1,1,10135,Lee Yarwood,lyarwood,"DNM/WIP libvirt: Default x86_64 instances to the q35 machine type

Just testing for any fallout for now.

Change-Id: Icc45868850a56af1e293e2c0fa350ad8cecc36b4
"
openstack%2Fcharm-rabbitmq-server~master~I1d5d5bf5435c3810886947bcc6987739a3f9ea59,openstack/charm-rabbitmq-server,master,check-deferred-restarts,I1d5d5bf5435c3810886947bcc6987739a3f9ea59,Implemented deferred service restart Nagios check,ABANDONED,2021-11-03 22:55:49.000000000,2021-11-04 18:01:34.000000000,,136,1,0,816589,d1e3407b866b6f8075483432a0b2977b33a713c6,4,2,1,5,33192,Connor Chamberlain,lcvcode,"Implemented deferred service restart Nagios check

* New check alerts on CRITICAL when deferred restarts are detected
* New check is found at files/check_rabbitmq_deferred_restarts.py
* New check only runs when `enable-auto-restarts` is False
    * Check is removed when `enable-auto-restarts` returns to True
* Only alerts for deferred service restarts - not deferred hooks
* Implemented similarly to other nagios checks
* New logic required in hooks/rabbitmq_server_relations.py:
    * The `if not allowed` check in `config_changed` function now syncs
    nrpe files and renders the new check

Change-Id: I1d5d5bf5435c3810886947bcc6987739a3f9ea59
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I906e11edf5e95465cb5b885810c928729f4722b7,openstack/tripleo-ansible,stable/wallaby,genisoimage-stable/wallaby,I906e11edf5e95465cb5b885810c928729f4722b7,Switch from genisoimage to xorriso,MERGED,2021-11-04 05:57:26.000000000,2021-11-04 17:51:26.000000000,2021-11-04 17:51:26.000000000,1,1,0,816485,c09498bd8c424ba8eb4a4aa186685efa4dd6d780,7,7,1,1,22954,Juan Badia Payno,jbadiapa,"Switch from genisoimage to xorriso

geniso is going to remove from RHEL[1]

https://review.rdoproject.org/r/q/Icb5105cef08480e7ef880530672a0e65fae43efd

Change-Id: I906e11edf5e95465cb5b885810c928729f4722b7
(cherry picked from commit a36d42f1c4d03c2b467b7c3a76356659882ff185)
"
openstack%2Ftripleo-image-elements~stable%2Fwallaby~I1f8a189d0fc095cb2cc3bf7808756cd9b973c3b2,openstack/tripleo-image-elements,stable/wallaby,wallaby/whole-disk-default,I1f8a189d0fc095cb2cc3bf7808756cd9b973c3b2,Double the size of /boot/efi partition,MERGED,2021-11-03 00:49:28.000000000,2021-11-04 17:51:24.000000000,2021-11-04 17:51:24.000000000,1,1,0,816420,0e771f1cf73cfbfd7e4b453c4df3fed7c276ab87,7,3,1,1,4571,Steve Baker,steve-stevebaker,"Double the size of /boot/efi partition

The current size is big enough for the shim and grub packages which
are installed to it, however when doing a dnf upgrade or reinstall,
dnf may fail with an inadequate space error. Doubling the size of this
partition will avoid this error.

Change-Id: I1f8a189d0fc095cb2cc3bf7808756cd9b973c3b2
Blueprint: whole-disk-default
(cherry picked from commit 14c47f496a56e0f6c9fb444bc50f33cd42386b2f)
"
openstack%2Ftripleo-heat-templates~master~Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4,openstack/tripleo-heat-templates,master,fix_ovn_chassis,Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4,Add ovn_chassis_mac_map to ExtraConfig role,MERGED,2021-10-13 10:19:08.000000000,2021-11-04 17:51:21.000000000,2021-11-04 17:51:21.000000000,1,0,2,813794,f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a,18,7,2,1,11082,Kamil Sambor,ksambor,"Add ovn_chassis_mac_map to ExtraConfig role

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/813793

Change-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4
"
openstack%2Ftripleo-heat-templates~master~Ibb68ca300fd8ce4c7a8830bd2bab7c9ce5182b33,openstack/tripleo-heat-templates,master,,Ibb68ca300fd8ce4c7a8830bd2bab7c9ce5182b33,Remove old non-ha container removal tasks,MERGED,2021-09-13 12:56:02.000000000,2021-11-04 17:51:18.000000000,2021-11-04 17:51:18.000000000,0,157,1,808762,52ed0f05b8d4d49bb2c814ca856cec65bfa3a099,17,4,3,9,20172,Michele Baldessari,michele,"Remove old non-ha container removal tasks

Those were needed when we switched to HA by default via
https://review.opendev.org/c/openstack/tripleo-heat-templates/+/359060

That happened during ussuri, so we can drop these tasks.

Change-Id: Ibb68ca300fd8ce4c7a8830bd2bab7c9ce5182b33
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib105fedd014a46260cd3f2fa3e2e59ed0ffb730d,openstack/tripleo-heat-templates,stable/train,remote-auth,Ib105fedd014a46260cd3f2fa3e2e59ed0ffb730d,Reauthenicate remotes after an upgrade to Train,MERGED,2021-10-20 07:01:39.000000000,2021-11-04 17:51:13.000000000,2021-11-04 17:51:13.000000000,5,0,4,814715,dd45ce71a9709ff50c218836f66d225123bacfc1,25,5,3,1,20172,Michele Baldessari,michele,"Reauthenicate remotes after an upgrade to Train

When upgrading from Queens to Train and changing major operating system
as well, we currently take great care in puppet tripleo to let any
remotes still running on Centos7 keep working while the control plane
has moved to new Centos8 and hence new pcmk/pcs versions.

Since pcs has changed how things authenticate with remotes, we need to
make sure that after an upgrade we reauthenticate any remotes with pcs.
Other wise any pcs operation involving a remote (scaleup) will fail with
an error like the following:

021-10-14 18:57:16,332 p=133710 u=mistral n=ansible | fatal: [clopkhd1]: FAILED! => {""ansible_job_id"": ""823537932379.262448"", ""attempts"": 126, ""changed"": true, ""cmd"": ""set -o pipefail; puppet apply  --modulepath=/etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/modules --detailed-exitcodes --summarize --color=false   /var/lib/tripleo-config/puppet_step_config.pp 2>&1 | logger -s -t puppet-user"", ""delta"": ""0:06:42.041400"", ""end"": ""2021-10-14 18:57:13.293758"", ""failed_when_result"": true, ""finished"": 1, ""msg"": ""non-zero return code"", ""
...
...
Error: pcs create failed: Error: Hosts 'cmp1', 'cmp10', 'cmp11', 'cmp12', 'cmp14', 'cmp15', 'cmp16', 'cmp17', 'cmp18', 'cmp19', 'cmp2', 'cmp3', 'cmp4', 'cmp5', 'cmp6', 'cmp7', 'cmp8', 'cmp9' are not known to pcs, try to authenticate the hosts using 'pcs host auth cmp1 cmp10 cmp11 cmp12 cmp14 cmp15 cmp16 cmp17 cmp18 cmp19 cmp2 cmp3 cmp4 cmp5 cmp6 cmp7 cmp8 cmp9' command, use --skip-offline to override\n<13>Oct 14 18:56:54 puppet-user: Error: /Stage[main]/Tripleo::Profile::Base::Pacemaker/Pacemaker::Resource::Remote[cmp13]/Pcmk_remote[cmp13]/ensure: change from 'absent' to 'present' failed: pcs create failed: Error: Hosts 'cmp1', 'cmp10', 'cmp11', 'cmp12', 'cmp14', 'cmp15', 'cmp16', 'cmp17', 'cmp18', 'cmp19', 'cmp2', 'cmp3', 'cmp4', 'cmp5', 'cmp6', 'cmp7', 'cmp8', 'cmp9' are not known to pcs, try to authenticate the hosts using 'pcs host auth cmp1 cmp10 cmp11 cmp12 cmp14 cmp15 cmp16 cmp17 cmp18 cmp19 cmp2 cmp3 cmp4 cmp5 cmp6 cmp7 cmp8 cmp9' command, use --skip-offline to override\n<13>Oct 14 18:56:54 puppet-user: Notice: /Stage[main]/Tripleo::Profile::Base::Pacemaker/Exec[exec-wait-for-cmp13]: Dependency Pcmk_remote[cmp13] has failures: true

This is because the upgrade remotes have not been reauthenticated to
pcs (which basically means that the remote computes are not present in
/var/lib/pcsd/known-hosts). With this change we observe the following
during an FFU:
2021-10-29 21:12:20 | TASK [Try and reauthenticate the remote via pcsd from the core cluster] ********
2021-10-29 21:12:20 | Friday 29 October 2021  21:12:14 +0000 (0:00:00.760)       0:00:15.098 ********
2021-10-29 21:12:20 | changed: [compute-0 -> 192.168.24.20] => {""changed"": true, ""cmd"": ""pcs host auth \""compute-0\"" -u hacluster -p $(hiera -c /etc/puppet/hiera.yaml hacluster_pwd)"", ""delta"": ""0:00:02.180656"", ""end"": ""2021-10-29 21:12:17.656863"", ""rc"": 0, ""start"": ""2021-10-29 21:12:15.476207"", ""stderr"": """", ""stderr_lines"": [], ""stdout"": ""compute-0: Authorized"", ""stdout_lines"": [""compute-0: Authorized""]}

And afterwards we see the node in /var/lib/pcsd/known-hosts (which we
did not before):
[root@controller-0 ~]# grep compute /var/lib/pcsd/known-hosts
    ""compute-0"": {
          ""addr"": ""compute-0"",

Closes-Bug: #1949255

Change-Id: Ib105fedd014a46260cd3f2fa3e2e59ed0ffb730d
"
openstack%2Fpython-tripleoclient~master~Id0aeb77a68d556993bece14a71cdccc262c5461b,openstack/python-tripleoclient,master,collections-abc,Id0aeb77a68d556993bece14a71cdccc262c5461b,Fix usage of collections.abc,MERGED,2021-10-14 14:49:17.000000000,2021-11-04 17:38:30.000000000,2021-11-04 17:34:56.000000000,3,7,1,814023,881321ddfe48a2653a6c584a677d6989d70993c3,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix usage of collections.abc

Current logic to try importing the collections.abc module is broken and
the collections module is always imported, which results in deprecation
warning[1].

>>> import collections
>>> c_abc = collections.abc
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/usr/lib64/python3.8/collections/__init__.py"", line 55, in __getattr__
    raise AttributeError(f'module {__name__!r} has no attribute {name!r}')
AttributeError: module 'collections' has no attribute 'abc'

[1]
DeprecationWarning: Using or importing the ABCs from 'collections'
instead of from 'collections.abc' is deprecated since Python 3.3, and
in 3.10 it will stop working

Note that because Python 2 is no longer supported the logic to use
collcations is just removed.

Change-Id: Id0aeb77a68d556993bece14a71cdccc262c5461b
"
openstack%2Fkuryr-tempest-plugin~master~Ia3d8b3254c5f07b3b6516bfd40be3c04e6a6d412,openstack/kuryr-tempest-plugin,master,enable-tempest-test,Ia3d8b3254c5f07b3b6516bfd40be3c04e6a6d412,Enable kuryr tempests tests again,MERGED,2021-11-02 19:06:30.000000000,2021-11-04 17:37:49.000000000,2021-11-04 17:29:32.000000000,1,0,3,816394,0605e39aa0a8a802ff821b28d76155d30dac67bc,20,3,3,1,27032,Maysa de Macedo Souza,maysa,"Enable kuryr tempests tests again

Depends-On: https://review.opendev.org/c/openstack/kuryr-kubernetes/+/816305
Change-Id: Ia3d8b3254c5f07b3b6516bfd40be3c04e6a6d412
"
openstack%2Ftripleo-puppet-elements~master~I55ffc1a00551018a126ca7dffd9eb41d635eb4d3,openstack/tripleo-puppet-elements,master,legacy-cleanup,I55ffc1a00551018a126ca7dffd9eb41d635eb4d3,Drop ansible-playbook-3 symlink,MERGED,2021-09-28 19:04:18.000000000,2021-11-04 17:34:53.000000000,2021-11-04 17:34:53.000000000,0,14,0,811476,1a83d5a24b33c4c4f2627236d527f45c08b13668,8,4,1,1,14985,Alex Schultz,mwhahaha,"Drop ansible-playbook-3 symlink

This was necessary for the python2/python3 transition and is no longer
required.

Change-Id: I55ffc1a00551018a126ca7dffd9eb41d635eb4d3
"
openstack%2Ftripleo-ansible~stable%2Fussuri~Iefe861f91cefe2a9cf773cae98b2440566ae8b5e,openstack/tripleo-ansible,stable/ussuri,,Iefe861f91cefe2a9cf773cae98b2440566ae8b5e,Wrap stopping podman -t with systemd timeouts,MERGED,2021-09-29 09:26:18.000000000,2021-11-04 17:34:50.000000000,2021-11-04 17:34:50.000000000,3,3,2,811699,a17d78bdc8a10fe1934b1fc93cadd7f2fa6c412d,12,4,2,1,6926,Bogdan Dobrelya,bogdando,"Wrap stopping podman -t with systemd timeouts

Currently with KillMode=none, if podman -t hangs, the command repeats
leaving the process and its cgroup around.
But if a stop/start command hangs, we should not start another one.

Instead time it out properly via TimeoutStopSec set to the 2x of
the timeout given to the managed podman action. Then if it expires,
kill its cgroup all the way (KillMode=control-group is a default)
before rerunning the same operation. Also note that using KilMode
process is not recommended by systemd man pages.

Increase the grace stop timeout defaults 10->42s to align it with:
https://github.com/containers/podman/pull/8889

Closes-bug: #1945791
Change-Id: Iefe861f91cefe2a9cf773cae98b2440566ae8b5e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit badd5a3c10f0af9e1c69a9b88064e743a36d4f53)
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~Iefe861f91cefe2a9cf773cae98b2440566ae8b5e,openstack/tripleo-ansible,stable/victoria,,Iefe861f91cefe2a9cf773cae98b2440566ae8b5e,Wrap stopping podman -t with systemd timeouts,MERGED,2021-09-29 09:25:06.000000000,2021-11-04 17:27:57.000000000,2021-11-04 17:27:57.000000000,3,3,2,811697,3670032a436200c35d84c17505101d651dbe2018,13,4,3,1,6926,Bogdan Dobrelya,bogdando,"Wrap stopping podman -t with systemd timeouts

Currently with KillMode=none, if podman -t hangs, the command repeats
leaving the process and its cgroup around.
But if a stop/start command hangs, we should not start another one.

Instead time it out properly via TimeoutStopSec set to the 2x of
the timeout given to the managed podman action. Then if it expires,
kill its cgroup all the way (KillMode=control-group is a default)
before rerunning the same operation. Also note that using KilMode
process is not recommended by systemd man pages.

Increase the grace stop timeout defaults 10->42s to align it with:
https://github.com/containers/podman/pull/8889

Closes-bug: #1945791
Change-Id: Iefe861f91cefe2a9cf773cae98b2440566ae8b5e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit badd5a3c10f0af9e1c69a9b88064e743a36d4f53)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Iefe861f91cefe2a9cf773cae98b2440566ae8b5e,openstack/tripleo-ansible,stable/wallaby,,Iefe861f91cefe2a9cf773cae98b2440566ae8b5e,Wrap stopping podman -t with systemd timeouts,MERGED,2021-09-29 09:24:22.000000000,2021-11-04 16:58:26.000000000,2021-11-04 16:58:26.000000000,3,3,2,811696,f34dc5420cad6bbe625f37ec1e74e913e85658a9,13,4,2,1,6926,Bogdan Dobrelya,bogdando,"Wrap stopping podman -t with systemd timeouts

Currently with KillMode=none, if podman -t hangs, the command repeats
leaving the process and its cgroup around.
But if a stop/start command hangs, we should not start another one.

Instead time it out properly via TimeoutStopSec set to the 2x of
the timeout given to the managed podman action. Then if it expires,
kill its cgroup all the way (KillMode=control-group is a default)
before rerunning the same operation. Also note that using KilMode
process is not recommended by systemd man pages.

Increase the grace stop timeout defaults 10->42s to align it with:
https://github.com/containers/podman/pull/8889

Closes-bug: #1945791
Change-Id: Iefe861f91cefe2a9cf773cae98b2440566ae8b5e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit badd5a3c10f0af9e1c69a9b88064e743a36d4f53)
"
openstack%2Fskyline-console~master~I9dd468847043ed1c3e936c6a9605c10367cff21a,openstack/skyline-console,master,open-113764,I9dd468847043ed1c3e936c6a9605c10367cff21a,fix: Fix the convert shell code to base64 errors,MERGED,2021-11-03 08:24:14.000000000,2021-11-04 16:51:16.000000000,2021-11-04 16:51:16.000000000,15,1,1,816437,a612794349c558dd119475bde7bbfa9c9273174a,11,3,3,4,33689,xusongfu,xusongfu,"fix: Fix the convert shell code to base64 errors

Control input must be ASCII code to match StringIO function in cloud-init

Change-Id: I9dd468847043ed1c3e936c6a9605c10367cff21a
"
openstack%2Fdevstack~master~Ida35a27fc441847351084be033e35e9a04042195,openstack/devstack,master,bp/tempest-run-cmd,Ida35a27fc441847351084be033e35e9a04042195,Copy tempest config to /etc/tempest,ABANDONED,2016-08-04 19:57:32.000000000,2021-11-04 16:30:59.000000000,,7,0,9,351367,dfcd120b413beb5c371444245be231073848e563,98,12,11,1,17714,Augustina Ragwitz,mmmpork,"Copy tempest config to /etc/tempest

When using the recommended tempest init && tempest run workflow we want
to prepopulate the tempest workspaces created by running tempest init
with the devstack generated tempest config file. This way it's a
seamless experience for using the new workflow. It also will enable us
to start the migration of devstack-gate over to using the new workflow.
This commit enables that by copying the tempest config file in to
/etc/tempest. /etc/tempest is one of the locations tempest init will
use to preseed the local workspace etc/ directory.

Co-Authored-By: Matthew Treinish <mtreinish@kortar.org>
Partially-Implements: bp tempest-run-cmd
Change-Id: Ida35a27fc441847351084be033e35e9a04042195
"
openstack%2Fpuppet-cinder~master~I847b88710578818f6c792d1603e02759072a9d25,openstack/puppet-cinder,master,bug/1949658,I847b88710578818f6c792d1603e02759072a9d25,Use service anchor to ensure API is up,MERGED,2021-11-04 02:31:14.000000000,2021-11-04 16:15:55.000000000,2021-11-04 16:15:55.000000000,2,2,0,816608,614d16329a11fe84c2db749d9819a7820ceeb4be,9,3,3,2,9816,Takashi Kajinami,kajinamit,"Use service anchor to ensure API is up

... instead of the individual service resource which can be named
differently according to service_name.

Closes-Bug: #1949658
Change-Id: I847b88710578818f6c792d1603e02759072a9d25
"
openstack%2Fopenstack-helm-infra~master~Ic3c34b340df183806fc2f7d494865de992767c7e,openstack/openstack-helm-infra,master,,Ic3c34b340df183806fc2f7d494865de992767c7e,Set Security Context to ks-user job,ABANDONED,2021-09-23 21:37:08.000000000,2021-11-04 16:15:06.000000000,,6,2,8,810779,0d4a2f09fa694df1207786d820ad30ae05852f2e,80,3,32,3,29982,Priya Shet,priyashet,"Set Security Context to ks-user job

We need flexibility to add securityContext to ks-user job , so that it can be executed without elevated privileges.

Change-Id: Ic3c34b340df183806fc2f7d494865de992767c7e
"
openstack%2Fpuppet-glance~stable%2Ftrain~Iac580df4de14ffdb19436417b2830a834efd087d,openstack/puppet-glance,stable/train,,Iac580df4de14ffdb19436417b2830a834efd087d,Swift backend: the key parameter should be secret,MERGED,2021-11-04 00:09:50.000000000,2021-11-04 16:01:26.000000000,2021-11-04 16:01:26.000000000,3,3,0,816481,f7ce22dd77d9cccdaf7bb2bd4ff811e5c211cb22,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Swift backend: the key parameter should be secret

The key parameter of swift backend is used to define a credentail to
access Swift so should be hidden in logs.

In Glance the user parameter(swift_store_user) is also defined as
a secret parameter. However it defines user name or id and user name
or id is not currently treated as secret in puppet, so this change
doesn't cover the user parameter.

Change-Id: Iac580df4de14ffdb19436417b2830a834efd087d
(cherry picked from commit 4a481929887d88f019467d11fb7c19d8d9311e3e)
(cherry picked from commit 048e9b458ba0283865fd8dd0dab05a4919a8c371)
(cherry picked from commit 572f60e47fcca241c2829eaeacd799abf873317b)
(cherry picked from commit f6b75d9c2a1e000d7ba575db33aeabd0e3319848)
(cherry picked from commit 2c1d7cbc995a453acfb35926adcfcbcad7ca669e)
"
openstack%2Fpuppet-glance~stable%2Ftrain~Ic29448860f5c7a8b743abd6f343985e65d8c5693,openstack/puppet-glance,stable/train,,Ic29448860f5c7a8b743abd6f343985e65d8c5693,Add swift buffer-on-upload options for swift multibackend,MERGED,2021-11-04 00:09:31.000000000,2021-11-04 15:52:03.000000000,2021-11-04 15:50:09.000000000,23,0,0,816480,5f1ef40ab1731e2122734302667106f733865545,8,4,1,3,9816,Takashi Kajinami,kajinamit,"Add swift buffer-on-upload options for swift multibackend

Adds ability to set swift_buffer_on_upload and swift_upload_buffer_dir
for swift multi backend

Change-Id: Ic29448860f5c7a8b743abd6f343985e65d8c5693
(cherry picked from commit 9d340581b15c9b3c20d7f37f820041881177dd77)
(cherry picked from commit d7282093228591f29b52717f05d8e6eeb419abbf)
"
openstack%2Fdevstack~master~Ib4979e725770ec473abb62af4a4f3444c164dbea,openstack/devstack,master,doc-fix-use-providernet,Ib4979e725770ec473abb62af4a4f3444c164dbea,Docs: Pin IP_VERSION to 4 for provider networks,ABANDONED,2016-08-25 10:42:12.000000000,2021-11-04 15:44:34.000000000,,3,0,3,360420,f196d37e6488b0f28f684ac8af8676819dcddf43,25,6,5,1,22103,Jan Stodt,stodtj,"Docs: Pin IP_VERSION to 4 for provider networks

L3 Service functions are always being sourced [1]
so the l3 agent sets the IP_VERSION=4+6 even if
l3 is not activated in local.conf. Due to this and
that the examples do not specify an IPV6 range and gateway,
for provider networks. Devstack terminates with
""IPV6_PROVIDER_FIXED_RANGE has not been set,
but Q_USE_PROVIDERNET_FOR_PUBLIC is true and IP_VERSION includes 6""

[1] https://github.com/openstack-dev/devstack/blob/master/lib/neutron-legacy#L268

Change-Id: Ib4979e725770ec473abb62af4a4f3444c164dbea
"
openstack%2Ftripleo-quickstart~master~I70ff559b822b3e7435694b736109013ca8a7604d,openstack/tripleo-quickstart,master,test-rdo-repo-updates,I70ff559b822b3e7435694b736109013ca8a7604d,DNM Test with testing repo added,NEW,2020-09-09 11:02:35.000000000,2021-11-04 15:43:46.000000000,,10,1,11,750619,54cb29963aac1df50c65a1aced1314bfff3441ee,73,5,11,1,13861,yatin,yatinkarel,"DNM Test with testing repo added

load deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo

Depends-On: https://review.opendev.org/#/c/761463/
Change-Id: I70ff559b822b3e7435694b736109013ca8a7604d
"
openstack%2Fdevstack~master~I112fbeda3b5da23c3a446bd04ade1f35847cdb01,openstack/devstack,master,replace-osc-with-script,I112fbeda3b5da23c3a446bd04ade1f35847cdb01,WIP replace more things with python script,ABANDONED,2019-07-26 21:05:35.000000000,2021-11-04 15:42:57.000000000,,314,76,2,673108,8bab791f1bc11a72c711e6a3f9ca11c0d91f0089,13,5,6,2,4146,Clark Boylan,cboylan,"WIP replace more things with python script

There is a lot of checking that we have to do to keep resources names
and IDs straight when using the SDK. OSC does this for us in the old
code and now we have to do it ourselves. What this means is we only
speed up compared to osc if we remember those values.

Speed up by shifting more of the keystone account creation into a script
so that these values can be remembered which should be faster than OSC.

Change-Id: I112fbeda3b5da23c3a446bd04ade1f35847cdb01
"
openstack%2Fdevstack~master~Ifc125b6b33a1c6747b5efd34bb05ebb6f7c6eb49,openstack/devstack,master,replace-osc-with-script,Ifc125b6b33a1c6747b5efd34bb05ebb6f7c6eb49,WIP: Test using script instead of osc for keystone config,ABANDONED,2019-07-26 16:51:22.000000000,2021-11-04 15:42:39.000000000,,63,22,8,673018,aa4c4d514aaa9535a65b1f2b45dca6001028d0d0,18,6,7,2,4146,Clark Boylan,cboylan,"WIP: Test using script instead of osc for keystone config

The keystone setup of accounts and roles is taking up about 1/5 of
devstack's runtime. This change uses a small python script to get an
idea for whether or not replacing osc calls with simpler scripts will be
quicker.

The motiviation for this is osc is known to be slow due to pkg_resources
loading. We can check how much of this slowness is actually in that
pkg_resources loading or in our api calls by replacing osc with simple
direct api calls instead.

Chances are if we decide to go further down this route we'll want to
replace whole sections of stack.sh like:
https://opendev.org/openstack/devstack/src/commit/6aeaceb0c4ef078d028fb6605cac2a37444097d8/stack.sh#L1146-L1161
with a single script that can configure everything with the overhead of
one python process startup. That means this change is probably not worth
merging as is even if it functions but should give us dat.

Change-Id: Ifc125b6b33a1c6747b5efd34bb05ebb6f7c6eb49
"
openstack%2Fdevstack~master~I9eaf4987b14b89a09d7567fb6a44f5c08f74ac80,openstack/devstack,master,worlddump,I9eaf4987b14b89a09d7567fb6a44f5c08f74ac80,DO NOT MERGE debugging why worlddump logs are not collected,ABANDONED,2019-09-05 16:26:52.000000000,2021-11-04 15:40:48.000000000,,39,15,0,680458,aa6809311d7b3a03ebaaa6ef350269d4117f3073,3,1,1,2,4146,Clark Boylan,cboylan,"DO NOT MERGE debugging why worlddump logs are not collected

Change-Id: I9eaf4987b14b89a09d7567fb6a44f5c08f74ac80
"
openstack%2Fdevstack~master~Ie6832b853555329322861d61e58894d60a4e3442,openstack/devstack,master,enable_basic_gentoo_package_support,Ie6832b853555329322861d61e58894d60a4e3442,enable basic gentoo detection,NEW,2018-04-16 01:51:26.000000000,2021-11-04 15:35:50.000000000,,4,0,1,561492,bfc549f86f294c8b10674622116c46b9b7c4f7a0,15,6,1,1,14288,Matthew Thode,prometheanfire,"enable basic gentoo detection

Change-Id: Ie6832b853555329322861d61e58894d60a4e3442
"
openstack%2Fcharm-deployment-guide~master~I06f72fc03c5a65f89a4b01f783beed4450e502d3,openstack/charm-deployment-guide,master,lp1934764-series-upgrade-order,I06f72fc03c5a65f89a4b01f783beed4450e502d3,Fix lp1934764 - series upgrade order,MERGED,2021-11-02 19:19:27.000000000,2021-11-04 15:34:15.000000000,2021-11-04 15:32:18.000000000,17,8,7,816395,3f969eff1f4ef049ed8cd862000a12475b71cc6e,11,2,2,1,30561,Peter Matulis,pmatulis,"Fix lp1934764 - series upgrade order

Closes-Bug: #1934764
Change-Id: I06f72fc03c5a65f89a4b01f783beed4450e502d3
"
openstack%2Fcharm-ceph-dashboard~stable%2F21.10~Ibd616cdf9a08fa990fd2c49024c88f5529e24128,openstack/charm-ceph-dashboard,stable/21.10,improve-readme-stable/21.10,Ibd616cdf9a08fa990fd2c49024c88f5529e24128,Improve README,MERGED,2021-11-04 10:49:13.000000000,2021-11-04 15:30:46.000000000,2021-11-04 15:30:46.000000000,36,2,0,816650,a02452ca0ff0eebedcf4ddbeb7a4577eca6b0db3,6,2,1,1,20870,Alex Kavanagh,ajkavanagh,"Improve README

Some essential bits were missing from the initial
21.10 release. It would be great if this change
could be backported.

Change-Id: Ibd616cdf9a08fa990fd2c49024c88f5529e24128
"
openstack%2Fdevstack~master~I4e19a2f08883f1517b88edc25a1c55d9e133beb4,openstack/devstack,master,,I4e19a2f08883f1517b88edc25a1c55d9e133beb4,Replaces yaml.load() with yaml.safe_load(),ABANDONED,2018-02-13 08:26:35.000000000,2021-11-04 15:19:19.000000000,,1,1,0,543848,2066b9a3ff64c4f502b68ea8c17de9980c540b69,7,4,2,1,19853,Nguyen Hung Phuong,phuongnh,"Replaces yaml.load() with yaml.safe_load()

Yaml.load() return Python object may be dangerous if you receive a YAML
document from an untrusted source such as the Internet. The function
yaml.safe_load() limits this ability to simple Python objects like integers or
lists.

Reference:
https://security.openstack.org/guidelines/dg_avoid-dangerous-input-parsing-libraries.html

Change-Id: I4e19a2f08883f1517b88edc25a1c55d9e133beb4
"
openstack%2Fironic-python-agent~master~Iceeab0010827728711e19e5b031ccac55fe1efde,openstack/ironic-python-agent,master,log-file,Iceeab0010827728711e19e5b031ccac55fe1efde,Always include the oslo_log log file in ramdisk logs,MERGED,2021-10-28 15:58:54.000000000,2021-11-04 15:16:36.000000000,2021-11-04 15:14:33.000000000,72,3,0,815861,2cedaa53c2ad306c4aeb2c2dc76c051db7408dbd,10,4,2,5,10239,Dmitry Tantsur,dtantsur,"Always include the oslo_log log file in ramdisk logs

Even if journald is present, there is no guarantee that IPA logs there
(this is the case in container-based ramdisks).

Change-Id: Iceeab0010827728711e19e5b031ccac55fe1efde
"
openstack%2Ftripleo-ci~master~I031e69780c3734d35b76f6fc552ec3cb655eb9a1,openstack/tripleo-ci,master,cs9,I031e69780c3734d35b76f6fc552ec3cb655eb9a1,[CS9] Drop container-tools:latest,MERGED,2021-11-02 10:48:02.000000000,2021-11-04 15:05:56.000000000,2021-11-04 15:05:56.000000000,1,13,9,816318,8f3daa94eccf8d372c98af37cda4f49f3354ac66,32,9,1,3,12393,chandan kumar,chkumar246,"[CS9] Drop container-tools:latest

https://gitlab.com/redhat/centos-stream/release-engineering/pungi-centos/-/merge_requests/176
drops the container-tools module stream from cs9 and
uses non-modular repo to install podman.

It removes the reference of container-tools:latest for the same.

Related-Bug: #1949456

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I031e69780c3734d35b76f6fc552ec3cb655eb9a1
"
openstack%2Ftripleo-quickstart~master~Iee0637ec0c7d9356ab3aece8519929bf18d77dba,openstack/tripleo-quickstart,master,workers,Iee0637ec0c7d9356ab3aece8519929bf18d77dba,Align tempest workers and os workers numbers,ABANDONED,2021-09-21 14:37:51.000000000,2021-11-04 14:56:15.000000000,,25,11,1,810264,b7a452bc2c91e47c195711f3cd6cb6cafca8355e,40,7,4,14,6926,Bogdan Dobrelya,bogdando,"Align tempest workers and os workers numbers

Make tempest workers to follow os workers configs.
That is needed to speed up tempest executions times on environments
running os services under WSGI.

Since https://bugs.launchpad.net/tripleo/+bug/1744151 and
https://bugs.launchpad.net/tripleo/+bug/1742936 has been fixed in 2018,
put the tempest concurrency values back to a 3. That is in case if
anyone deploys tempest the old way. For the new method (os_tempest)
align os_workers with its tempest_run_concurrency
(and keep the latter unchanged).

Depends-On: https://review.opendev.org/810672
Change-Id: Iee0637ec0c7d9356ab3aece8519929bf18d77dba
Related-Bug: #1939023
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-ci~master~Ibf73ace3f420dbcbc2c2b9b7339d411608ca5fc8,openstack/tripleo-ci,master,workers,Ibf73ace3f420dbcbc2c2b9b7339d411608ca5fc8,Use extra_args instead of workers_args,ABANDONED,2021-09-23 13:28:57.000000000,2021-11-04 14:55:36.000000000,,13,10,0,810672,0000901cf6f0ad2513fc90dd6ea7bf8ad605a678,17,9,5,7,6926,Bogdan Dobrelya,bogdando,"Use extra_args instead of workers_args

workers_args is already set to contain low-mem env, plus other
settings via quickstart.

Do not override it in tripleo-ci jobs configs, stick to
extra_args, like other jobs around do.

Also, allow overrides of a new os_workers setting, and the
flag that enables quickstart to setup os workers.

Set the os workers default to 1 to follow the tempest
workers default.

Change-Id: Ibf73ace3f420dbcbc2c2b9b7339d411608ca5fc8
Related-Bug: #1939023
Depends-On: https://review.opendev.org/810256
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-quickstart-extras~master~Id4986d27a459f75d5e12dd506d6d9267e9dab84d,openstack/tripleo-quickstart-extras,master,workers,Id4986d27a459f75d5e12dd506d6d9267e9dab84d,Allow custom os sesrvice workers,ABANDONED,2021-09-21 14:28:32.000000000,2021-11-04 14:55:11.000000000,,58,1,2,810256,5c35ed424b967ec4619f3d6ed1cf429987d9c0b6,48,7,5,8,6926,Bogdan Dobrelya,bogdando,"Allow custom os sesrvice workers

When tempest_workers > os service workers counts, tempest starts
queueing API requests and executes serially. That is because os
services running under WSGI processorcount=1 config become a
bottleneck.

Allow custom os_workers configs for standalone and overcloud
deployments in CI. Retain a single worker defaults to not affect
existing CI jobs (overrides should be done via zuul/featuresets,
per a job basis).

Change-Id: Id4986d27a459f75d5e12dd506d6d9267e9dab84d
Related-Bug: #1939023
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fdevstack~master~I7fb0672ac3ee7fce421b3d242384199608f16640,openstack/devstack,master,ovn-job-voting,I7fb0672ac3ee7fce421b3d242384199608f16640,[OVN] Make OVN job voting,ABANDONED,2020-11-25 14:20:45.000000000,2021-11-04 14:40:45.000000000,,4,1,0,764174,0f7fc177e52ab7168d554cf9e8f4f3f47d11a7cc,4,2,1,1,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] Make OVN job voting

The OVN job is stable and also run on other gates (e.g Neutron) as
voting. This patch makes it also voting in DevStack.

Change-Id: I7fb0672ac3ee7fce421b3d242384199608f16640
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fneutron~master~I409bc674b65e4f495ebd42d03e97a09d51482339,openstack/neutron,master,bug/1933273,I409bc674b65e4f495ebd42d03e97a09d51482339,[DVR] Fix update of the MTU in the DVR HA routers,MERGED,2021-07-05 07:43:48.000000000,2021-11-04 14:32:31.000000000,2021-11-04 14:20:22.000000000,35,9,11,799439,21eabbcf03cb29be9899adbd6eaea207892cf07b,54,6,5,4,11975,Slawek Kaplonski,slaweq,"[DVR] Fix update of the MTU in the DVR HA routers

This is follow up of the patch [1] which fixed updating MTU in the
snat namespace for the DVR routers.
In case of DVR-HA routers there was additional issue with that as
L3 agent tried to update MTU for the qr- interface in the
self.ha_namespace which, for DVR-HA routers is snat namespace.

This patch fixes that issue by setting MTU on the qr- interface in
qrouter namespace and also setting MTU on the snat interface in snat
namespace.

[1] https://review.opendev.org/c/openstack/neutron/+/799226

Closes-bug: #1933273
Change-Id: I409bc674b65e4f495ebd42d03e97a09d51482339
"
openstack%2Fneutron~master~I17bf5e4483025e9cc4ee04dd3e7c925f7bddc3db,openstack/neutron,master,bug/1942294,I17bf5e4483025e9cc4ee04dd3e7c925f7bddc3db,Deprecate 'allow_overlapping_ips' config option,MERGED,2021-09-08 09:46:02.000000000,2021-11-04 14:28:39.000000000,2021-11-04 14:20:17.000000000,11,67,29,807848,042de7e6bbb3a187e8e12462eb35e6740448b2be,103,7,3,18,11975,Slawek Kaplonski,slaweq,"Deprecate 'allow_overlapping_ips' config option

Config option allow_overlapping_ips is deprecated to removal now and
will be removed in the Z cycle.
Default value for that option is now set to True as this is supported by
IPAM module in Neutron.

Related-Bug: #1942294
Change-Id: I17bf5e4483025e9cc4ee04dd3e7c925f7bddc3db
"
openstack%2Fnova~master~I3ce6f6275bfe09d43718c3a491b3991a804027bd,openstack/nova,master,bug/1829479,I3ce6f6275bfe09d43718c3a491b3991a804027bd,Clean up allocations left by evacuation when deleting service,MERGED,2021-03-04 13:28:00.000000000,2021-11-04 14:28:21.000000000,2021-11-04 14:20:28.000000000,74,90,149,778696,e5a34fffdf97fcda7d0abfdc9e23485479ca2c4f,105,6,18,5,9816,Takashi Kajinami,kajinamit,"Clean up allocations left by evacuation when deleting service

When a compute node goes down and all instances on the compute node
are evacuated, allocation records about these instance are still left
in the source compute node until nova-compute service is again started
on the node. However if a compute node is completely broken, it is not
possible to start the service again.
In this situation deleting nova-compute service for the compute node
doesn't delete its resource provider record, and even if a user tries
to delete the resource provider, the delete request is rejected because
allocations are still left on that node.

This change ensures that remaining allocations left by successful
evacuations are cleared when deleting a nova-compute service, to avoid
any resource provider record left even if a compute node can't be
recovered. Migration records are still left in 'done' status to trigger
clean-up tasks in case the compute node is recovered later.

Closes-Bug: #1829479
Change-Id: I3ce6f6275bfe09d43718c3a491b3991a804027bd
"
openstack%2Fpython-openstackclient~stable%2Fxena~Ie0251a0dccdf3385089e5bbaedf646a5e928cc48,openstack/python-openstackclient,stable/xena,bug/1946816,Ie0251a0dccdf3385089e5bbaedf646a5e928cc48,compute: Fix filtering servers by tags,MERGED,2021-10-13 11:51:04.000000000,2021-11-04 14:27:43.000000000,2021-11-04 14:20:47.000000000,10,4,1,813803,cbc64f9469600624e74631f42ca214487e800155,8,3,1,3,15334,Stephen Finucane,sfinucan,"compute: Fix filtering servers by tags

The nova API expects the 'tags' and 'not-tags' filters of the 'GET
/servers' (list servers) API to be a CSV string [1]:

  tags (Optional)
    A list of tags to filter the server list by. Servers that match all
    tags in this list will be returned. Boolean expression in this case
    is 't1 AND t2'. Tags in query must be separated by comma.

    New in version 2.26

  not-tags (Optional)
    A list of tags to filter the server list by. Servers that donâ€™t
    match all tags in this list will be returned. Boolean expression in
    this case is 'NOT (t1 AND t2)'. Tags in query must be separated by
    comma.

    New in version 2.26

We were instead providing a Python list, which was simply being URL
encoded. Correct this.

[1] https://docs.openstack.org/api-ref/compute/?expanded=list-servers-detail#list-servers

Change-Id: Ie0251a0dccdf3385089e5bbaedf646a5e928cc48
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1946816
(cherry picked from commit 53debe7fe1978f661768a27430f646a288948ecc)
"
openstack%2Fnova~stable%2Fwallaby~Icb7e3379248fe00f9a94f9860181b5de44902379,openstack/nova,stable/wallaby,bug/1944759,Icb7e3379248fe00f9a94f9860181b5de44902379,Reproduce bug 1944759,MERGED,2021-09-24 13:53:29.000000000,2021-11-04 14:27:33.000000000,2021-11-04 14:20:39.000000000,121,0,3,810912,140ae45d98dabd30aef5c0ac075346de4eabcea1,11,3,1,1,9708,Balazs Gibizer,gibi,"Reproduce bug 1944759

Add functional tests to reproduce the race between resize_instance()
and update_available_resources().

Related-Bug: #1944759

Change-Id: Icb7e3379248fe00f9a94f9860181b5de44902379
(cherry picked from commit 3e4e4489b7a6e9cdefcc6ff02ed99a0a70420fca)
(cherry picked from commit e6c6880465824f1e327a54143f32bb5a5816ff6c)
"
openstack%2Ftempest~master~Ie589e114d08cc8bb5a524d6b242f1b29fda43983,openstack/tempest,master,bp/qos-minimum-guaranteed-packet-rate,Ie589e114d08cc8bb5a524d6b242f1b29fda43983,Refactor existing QoS min bw tests,MERGED,2021-08-26 17:25:01.000000000,2021-11-04 14:27:29.000000000,2021-11-04 14:20:34.000000000,39,25,18,806255,bc0257c8fcb88772e70897177589501cd624d9a0,41,5,9,1,9708,Balazs Gibizer,gibi,"Refactor existing QoS min bw tests

As a preparation to test QoS minimum bandwidth and minimum packet rate
together this patch refactors the existing MinBwAllocationPlacementTest
test class to allow generalization.

blueprint: qos-minimum-guaranteed-packet-rate

Change-Id: Ie589e114d08cc8bb5a524d6b242f1b29fda43983
"
openstack%2Fkuryr-kubernetes~master~I4ed13d2782df17eb518db1031b773288b080be42,openstack/kuryr-kubernetes,master,increase-tempest-timeout,I4ed13d2782df17eb518db1031b773288b080be42,Increase tempest timeout,MERGED,2021-11-02 08:24:37.000000000,2021-11-04 14:25:45.000000000,2021-11-04 14:15:00.000000000,3,1,6,816305,80ab92c5abd8ec7e9999e3896b6271082881c33a,21,4,2,1,27032,Maysa de Macedo Souza,maysa,"Increase tempest timeout

The recent bump of Amphora image makes
the loadbalancer requires more time to
move to running.

Change-Id: I4ed13d2782df17eb518db1031b773288b080be42
"
openstack%2Fos-testr~master~I83598d6657cd283510a24f6e9d695eb4914e1f8c,openstack/os-testr,master,py39-voting,I83598d6657cd283510a24f6e9d695eb4914e1f8c,Test python3.9 as voting job,MERGED,2021-11-03 20:30:04.000000000,2021-11-04 13:55:36.000000000,2021-11-04 13:45:50.000000000,15,1,0,816562,4506fcf719990e1fc4c3fce85f2eb469b4c5a2d5,12,2,2,2,8556,Ghanshyam,ghanshyam,"Test python3.9 as voting job

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Also, as Tempest is branchless and needs to support older
supported stable branches, let's test it with all the
python version supported in those supported stable branches.
For that, we need to explicitly dd the py jobs instead of using
the template. This way, we will explicitly know that we are testing
all supported python versions when the new release template bumps the
min python version in the template.

Change-Id: I83598d6657cd283510a24f6e9d695eb4914e1f8c
"
openstack%2Fnova~master~I7ae80e204e927c2185260c6962d063cce799a7b8,openstack/nova,master,bug/1943431,I7ae80e204e927c2185260c6962d063cce799a7b8,fup: Refactor and simplify Cinder fixture GET volume mock,MERGED,2021-09-23 21:06:51.000000000,2021-11-04 13:55:20.000000000,2021-11-04 13:25:04.000000000,43,81,1,810776,22e9d22369d34e150855eb1710b371e80d17ebb0,22,3,3,1,10135,Lee Yarwood,lyarwood,"fup: Refactor and simplify Cinder fixture GET volume mock

Change-Id: I7ae80e204e927c2185260c6962d063cce799a7b8
"
openstack%2Fdevstack-tools~master~I21ecaf1d3f627ae27a217d7fa2326f7dd69242c9,openstack/devstack-tools,master,py39-voting,I21ecaf1d3f627ae27a217d7fa2326f7dd69242c9,Test python3.9 as voting job,MERGED,2021-11-03 20:30:11.000000000,2021-11-04 13:52:35.000000000,2021-11-04 13:31:49.000000000,15,1,0,816563,2225eade022f828b609daa4a5ad8f2d82a5b1f26,12,2,2,2,8556,Ghanshyam,ghanshyam,"Test python3.9 as voting job

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Also, as devstack-tools is branchless and needs to support older
supported stable branches, let's test it with all the
python version supported in those supported stable branches.
For that, we need to explicitly dd the py jobs instead of using
the template. This way, we will explicitly know that we are testing
all supported python versions when the new release template bumps the
min python version in the template.

Change-Id: I21ecaf1d3f627ae27a217d7fa2326f7dd69242c9
"
openstack%2Fos-performance-tools~master~I71b2dbfa46449e39b6fbe99862c55e4370ce68c3,openstack/os-performance-tools,master,py39-voting,I71b2dbfa46449e39b6fbe99862c55e4370ce68c3,Test python3.9 as voting job,MERGED,2021-11-03 20:30:01.000000000,2021-11-04 13:52:28.000000000,2021-11-04 13:31:51.000000000,17,2,0,816561,6def79eebd686071aaf68b2d0bf4ee2bc601e877,12,2,2,2,8556,Ghanshyam,ghanshyam,"Test python3.9 as voting job

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Also, as os-performance-tools is branchless and needs to support older
supported stable branches, let's test it with all the
python version supported in those supported stable branches.
For that, we need to explicitly dd the py jobs instead of using
the template. This way, we will explicitly know that we are testing
all supported python versions when the new release template bumps the
min python version in the template.

Change-Id: I71b2dbfa46449e39b6fbe99862c55e4370ce68c3
"
openstack%2Ftempest-stress~master~Ib147eb983a0635d6f14f0d0fb8ca537224729d89,openstack/tempest-stress,master,py39-voting,Ib147eb983a0635d6f14f0d0fb8ca537224729d89,Test python3.9 as voting job,MERGED,2021-11-03 20:34:57.000000000,2021-11-04 13:52:28.000000000,2021-11-04 13:26:24.000000000,15,1,0,816565,532319a5d02378e6d01898b9ff2d1f536c32ae49,10,2,1,2,8556,Ghanshyam,ghanshyam,"Test python3.9 as voting job

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Also, as Tempest is branchless and needs to support older
supported stable branches, let's test it with all the
python version supported in those supported stable branches.
For that, we need to explicitly dd the py jobs instead of using
the template. This way, we will explicitly know that we are testing
all supported python versions when the new release template bumps the
min python version in the template.

Change-Id: Ib147eb983a0635d6f14f0d0fb8ca537224729d89
"
openstack%2Fkolla~master~I0954bcc8ee42b15420fe1cd54aac96cb0c0c7e0d,openstack/kolla,master,,I0954bcc8ee42b15420fe1cd54aac96cb0c0c7e0d,Debian: we want Openvswitch and ovn from backports,MERGED,2021-11-02 16:51:46.000000000,2021-11-04 13:52:27.000000000,2021-11-04 13:31:47.000000000,10,0,8,816374,a26f4e3ec68d135112d60a08100289598ddebe61,16,4,1,1,24072,Marcin Juszkiewicz,hrw,"Debian: we want Openvswitch and ovn from backports

Those packages are in exactly same versions in bullseye-xena-backports
and in bullseye-backports. So we have to choose one source to keep
builds running otherwise they report downgrading of packages.

Change-Id: I0954bcc8ee42b15420fe1cd54aac96cb0c0c7e0d
"
openstack%2Fcoverage2sql~master~Ieb7cf6334a6deedfd9d72f348d1cbc1cd100b054,openstack/coverage2sql,master,py39-voting,Ieb7cf6334a6deedfd9d72f348d1cbc1cd100b054,Test python3.9 as voting job,MERGED,2021-11-03 20:19:53.000000000,2021-11-04 13:52:26.000000000,2021-11-04 13:26:22.000000000,16,2,0,816560,169c4a9c5213433cb3e5e0231df0bac9f00b7db4,12,2,2,3,8556,Ghanshyam,ghanshyam,"Test python3.9 as voting job

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Also, as coverage2sql is branchless and needs to support older
supported stable branches, let's test it with all the
python version supported in those supported stable branches.
For that, we need to explicitly dd the py jobs instead of using
the template. This way, we will explicitly know that we are testing
all supported python versions when the new release template bumps the
min python version in the template.

Change-Id: Ieb7cf6334a6deedfd9d72f348d1cbc1cd100b054
"
openstack%2Fstackviz~master~Ie23040ece856a7712b4d046c439ab0a861b6b95c,openstack/stackviz,master,py39-voting,Ie23040ece856a7712b4d046c439ab0a861b6b95c,Test python3.9 as voting job,MERGED,2021-11-03 20:34:53.000000000,2021-11-04 13:52:25.000000000,2021-11-04 13:19:28.000000000,13,2,1,816564,e10db7133d750f2a7ceff17d74d4c85440d87af6,11,2,2,2,8556,Ghanshyam,ghanshyam,"Test python3.9 as voting job

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Also, as stackviz is branchless and needs to support older
supported stable branches, let's test it with all the
python version supported in those supported stable branches.
For that, we need to explicitly dd the py jobs instead of using
the template. This way, we will explicitly know that we are testing
all supported python versions when the new release template bumps the
min python version in the template.

Change-Id: Ie23040ece856a7712b4d046c439ab0a861b6b95c
"
openstack%2Fnova~master~I43612714b343d98320b19b5b38264afc700790e3,openstack/nova,master,bug/1943431,I43612714b343d98320b19b5b38264afc700790e3,compute: Update volume_id within connection_info during swap_volume,MERGED,2021-09-02 06:21:55.000000000,2021-11-04 13:45:58.000000000,2021-11-04 13:24:47.000000000,36,31,8,807025,6fd071b904282e106de7488a076d4f703636af21,71,4,7,3,31027,MaAoyu,maaoyu,"compute: Update volume_id within connection_info during swap_volume

When Cinder orchestrates a volume migration between backends it
initially creates a temporary volume on the destination before calling
Nova to swap to that volume. When this is complete Nova calls back to
Cinder and the temporary volume on the destination is renamed to the
original volume UUID making the migration transparent to end users.

Previously Nova would not account for this within the connection_info
stahed when connecting the new volume and would continue to point to the
original UUID of the temporary volume. For most codepaths in Nova this
isn't an issue but when dealing with multiattach volumes the libvirt
driver has a specific path that uses this stored volume_id within the
connection_info when an attempt is made to detach the volume,
nova.virt.libvirt.LibvirtDriver._should_disconnect_target. In this case
this would lead to a failed lookup of the volume in Cinder and an
eventual 500 returned by Nova.

This change corrects this by ensuring any volume_id stashed in the
new connection_info we gather during a swap_volume is overwritten with
the correct id returned by the eventual call to Cinder's
os-migrate_volume_completion API [1].

[1] https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=complete-migration-of-a-volume-detail#volumes-volumes

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Closes-Bug: #1943431
Change-Id: I43612714b343d98320b19b5b38264afc700790e3
"
openstack%2Fdevstack-plugin-open-cas~master~Iad7bc6c16508a509d0da711901a0a7212263577e,openstack/devstack-plugin-open-cas,master,,Iad7bc6c16508a509d0da711901a0a7212263577e,Bump min tox version to 3.18.0,MERGED,2021-10-07 09:01:14.000000000,2021-11-04 13:43:25.000000000,2021-11-04 13:43:25.000000000,2,2,1,812937,8950982d04e7d9955c6ea9f7d6283af637f01f7c,11,3,1,1,22873,Martin Kopec,mkopec,"Bump min tox version to 3.18.0

Let's bump minimal tox version so that we can rename
whitelist_externals option to allowlist_externals one.

https: //tox.wiki/en/latest/changelog.html#v3-18-0-2020-07-23
Change-Id: Iad7bc6c16508a509d0da711901a0a7212263577e
"
openstack%2Fstackviz~master~Ic6da92a36a8f7d540c3bcd67d0346898b4775fa8,openstack/stackviz,master,,Ic6da92a36a8f7d540c3bcd67d0346898b4775fa8,Use TOX_CONSTRAINTS_FILE,MERGED,2021-05-25 12:33:35.000000000,2021-11-04 13:37:32.000000000,2021-11-04 13:19:26.000000000,1,1,3,792962,c74c32488969f333bfd23bf0a9bcd06a5defdfef,17,4,1,1,31828,yang yawei,yangyawei,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Ic6da92a36a8f7d540c3bcd67d0346898b4775fa8
"
openstack%2Fbashate~master~Ifda17adba4c5fab369204a34b3ae49eab309a7dd,openstack/bashate,master,py39-voting,Ifda17adba4c5fab369204a34b3ae49eab309a7dd,Test python3.9 as voting job,MERGED,2021-11-03 20:19:49.000000000,2021-11-04 13:31:56.000000000,2021-11-04 13:13:34.000000000,12,2,2,816559,cbd46caeb845c6129c73d716bde7c5e5f2f92d3b,13,3,2,3,8556,Ghanshyam,ghanshyam,"Test python3.9 as voting job

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Also, as bashate is branchless and needs to support older
supported stable branches, let's test it with all the
python version supported in those supported stable branches.
For that, we need to explicitly dd the py jobs instead of using
the template. This way, we will explicitly know that we are testing
all supported python versions when the new release template bumps the
min python version in the template.

Change-Id: Ifda17adba4c5fab369204a34b3ae49eab309a7dd
"
openstack%2Fopenstack-health~master~I894984577bf8c83669c96fd627bb9767237c3f68,openstack/openstack-health,master,py39-voting,I894984577bf8c83669c96fd627bb9767237c3f68,Test python3.9 as voting job,MERGED,2021-11-03 20:19:45.000000000,2021-11-04 13:25:12.000000000,2021-11-04 13:25:12.000000000,16,6,0,816558,a25e4d491ccf43aa5728f287ca00eba5df2ead5d,11,2,2,3,8556,Ghanshyam,ghanshyam,"Test python3.9 as voting job

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Also, as openstack-health is branchless and needs to support older
supported stable branches, let's test it with all the
python version supported in those supported stable branches.
For that, we need to explicitly dd the py jobs instead of using
the template. This way, we will explicitly know that we are testing
all supported python versions when the new release template bumps the
min python version in the template.

Change-Id: I894984577bf8c83669c96fd627bb9767237c3f68
"
openstack%2Fnova~master~I88e827603bb1cd6265bf234f4286ba3b204c3ce1,openstack/nova,master,bug/1943431,I88e827603bb1cd6265bf234f4286ba3b204c3ce1,"fup: Move _wait_for_volume_{attach,detach} to os-volume_attachments",MERGED,2021-09-23 21:06:51.000000000,2021-11-04 13:24:55.000000000,2021-11-04 13:24:55.000000000,20,27,0,810775,9a1cac7110ae759fe3962e7e104c816e904cc27b,19,3,3,1,10135,Lee Yarwood,lyarwood,"fup: Move _wait_for_volume_{attach,detach} to os-volume_attachments

As documented in the api-ref this is the API end users would poll to
determine the state of a volume operation so use it in our func tests.

Change-Id: I88e827603bb1cd6265bf234f4286ba3b204c3ce1
"
openstack%2Foslo.context~stable%2Fussuri~Ica23d5c4183a692de3cb65a7ad72b19f47988ca6,openstack/oslo.context,stable/ussuri,secure-rbac-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,Ica23d5c4183a692de3cb65a7ad72b19f47988ca6,Fix context from_dict() for system_scope,MERGED,2021-10-04 21:04:52.000000000,2021-11-04 13:12:28.000000000,2021-11-04 13:01:04.000000000,8,1,2,812388,47fcc64a8cdae0a98258c90b12159d75dcaa13ca,13,3,3,3,11628,Michael Johnson,johnsom,"Fix context from_dict() for system_scope

A previous patch[1] added ""system_scope"" to the context for to_dict()
but the from_dict() method was not updated. This caused the
system_scope to always be None.
This patch corrects that by adding ""system_scope"" to the list of
values that may need to be extracted from the context dict.

[1] https://review.opendev.org/c/openstack/oslo.context/+/530509

Change-Id: Ica23d5c4183a692de3cb65a7ad72b19f47988ca6
(cherry picked from commit 8290621b058081754db55c2584c00b8b166369aa)
(cherry picked from commit 7187c672d41fc54a0368b766c0fa7a59677964d8)
(cherry picked from commit b124eb7df2617be56a23819f670bd6e054f87ce7)
(cherry picked from commit 48191bbf60425c7e7c3b20d517b1cd007074961b)
"
openstack%2Foslo.context~stable%2Fussuri~If2a9cf05f382ae28846b95e5bb29669ee57f9bcd,openstack/oslo.context,stable/ussuri,secure-rbac-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,If2a9cf05f382ae28846b95e5bb29669ee57f9bcd,Dropping lower constraints testing,MERGED,2021-10-29 06:39:53.000000000,2021-11-04 13:10:11.000000000,2021-11-04 13:01:02.000000000,0,42,0,815934,cb55ee95369f5e4e4d56a50e7f40366879693c27,7,2,1,3,28522,HervÃ© Beraud,hberaud,"Dropping lower constraints testing

This is the combination of 2 commits (3542beac, 2af794b59f) cherry-picked
from wallaby to drop the lower-constraints.

The first commit drop the lower constraints testing.

(cherry picked from commit 3542beac2307333340a7a92af442f669502d52be)

The second one remove lower-constraints remnants

These were missed in change: If2a9cf05f382ae28846b95e5bb29669ee57f9bcd

(cherry picked from commit 2af794b59f2645bfe16681ac03e4d44e1c5d3cc6)

NOTE(hberaud): Conflicts are related to zuul's job names that differ
from wallaby to victoria.

Change-Id: If2a9cf05f382ae28846b95e5bb29669ee57f9bcd
(cherry picked from commit 5835e5d8e4d82b8200c1d00cd65ac72c4f646899)
"
openstack%2Fvalidations-common~master~Ic220974c4b0d24b692cc05445a478787d2198b7e,openstack/validations-common,master,component-validation-expansion,Ic220974c4b0d24b692cc05445a478787d2198b7e,Adding more validations in the tripleo component test,MERGED,2021-10-08 10:33:29.000000000,2021-11-04 12:59:22.000000000,2021-11-04 12:59:22.000000000,6,0,5,813162,fc90fd5bccdb629eb179389caa9499bfba5abc5d,23,7,5,1,32926,Jiri Podivin,jpodivin,"Adding more validations in the tripleo component test

By increasing number of validations triggered in the
component pipeline we can improve coverage of tripleo component
and VF at the same time.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic220974c4b0d24b692cc05445a478787d2198b7e
"
openstack%2Fstackviz~master~I4d4cbc7deb4e3269a317bfd9cf30e7b5b227398e,openstack/stackviz,master,,I4d4cbc7deb4e3269a317bfd9cf30e7b5b227398e,setup.cfg: Replace dashes with underscores,MERGED,2021-05-14 01:24:56.000000000,2021-11-04 12:57:14.000000000,2021-11-04 12:54:53.000000000,4,4,3,791341,3419343646799682052a3f6fe6371b35a4ccaaec,20,5,1,1,31828,yang yawei,yangyawei,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I4d4cbc7deb4e3269a317bfd9cf30e7b5b227398e
"
openstack%2Fnova~stable%2Ftrain~I48dcb7faa17fe9f8346445a1746cff5845baf358,openstack/nova,stable/train,bug/1897528,I48dcb7faa17fe9f8346445a1746cff5845baf358,Reproduce bug 1897528,NEW,2021-05-19 09:52:46.000000000,2021-11-04 12:51:29.000000000,,37,0,0,792116,a0d3e6846c8e03ff141343c9bab9d4cbd2066dfc,11,2,4,1,15334,Stephen Finucane,sfinucan,"Reproduce bug 1897528

The nova-compute fails to start if the hypervisor has PCI addresses
32bit domain.

Change-Id: I48dcb7faa17fe9f8346445a1746cff5845baf358
Related-Bug: #1897528
(cherry picked from commit 976ac722d36439d16ea4ec1bf5037c482c89ef55)
(cherry picked from commit 0354d4d9f47354e2b4fc0b2343c27e734fe2e494)
(cherry picked from commit 8e9859b95c537738d97ade41a8d09670de27ef8d)
"
openstack%2Fopenstack-tempest-skiplist~master~I148922e131598feb694c353ead136c8a3044eb3e,openstack/openstack-tempest-skiplist,master,revert_skip_scenario_test,I148922e131598feb694c353ead136c8a3044eb3e,"Revert ""Revert tempest test ""test_minimum_basic_scenario""""",MERGED,2021-11-04 12:11:21.000000000,2021-11-04 12:47:22.000000000,2021-11-04 12:44:39.000000000,3,0,0,816655,abb639725d322bc11af24c86484efc79c7d8eb6d,8,6,1,1,30002,Douglas Viroel,dviroel,"Revert ""Revert tempest test ""test_minimum_basic_scenario""""

This reverts commit 95eca36f7bc6b6df75170e0e2a49149683951fce.

Reason for revert: https://bugs.launchpad.net/tripleo/+bug/1923194/comments/10

Change-Id: I148922e131598feb694c353ead136c8a3044eb3e
"
openstack%2Fneutron-lib~master~Ie6fffb7829ac1f212f4c4e40fc2e5161f2ccd6fe,openstack/neutron-lib,master,bp/qos-minimum-guaranteed-packet-rate,Ie6fffb7829ac1f212f4c4e40fc2e5161f2ccd6fe,Move RULE_TYPE_MINIMUM_PACKET_RATE to neutron-lib,MERGED,2021-11-03 10:24:17.000000000,2021-11-04 12:29:43.000000000,2021-11-04 12:27:45.000000000,2,0,2,816447,6b2fe94b2ccb49a7906fbda8cfe48892cf37833c,14,5,1,1,33652,Przemyslaw Szczerbik,pszczerbik,"Move RULE_TYPE_MINIMUM_PACKET_RATE to neutron-lib

Addresses TODO comment from:

neutron/services/qos/constants.py

Related-Bug: #1922237
See-Also: https://review.opendev.org/785236
Change-Id: Ie6fffb7829ac1f212f4c4e40fc2e5161f2ccd6fe
"
openstack%2Fopenstack-tempest-skiplist~master~I3a26877898ccaece1d9e143999ef45bde88aee50,openstack/openstack-tempest-skiplist,master,revert_skip_scenario_test,I3a26877898ccaece1d9e143999ef45bde88aee50,"Revert tempest test ""test_minimum_basic_scenario""",MERGED,2021-10-28 06:38:00.000000000,2021-11-04 12:11:21.000000000,2021-11-02 11:51:19.000000000,0,3,5,815777,95eca36f7bc6b6df75170e0e2a49149683951fce,20,5,4,1,31075,Pooja Jadhav,pojadhav,"Revert tempest test ""test_minimum_basic_scenario""

Testing patch : https://review.rdoproject.org/r/c/testproject/+/36478
Related-Bug: #1923194

Change-Id: I3a26877898ccaece1d9e143999ef45bde88aee50
"
openstack%2Fneutron~stable%2Fwallaby~Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,openstack/neutron,stable/wallaby,bug/1948642-stable/xena-stable/wallaby,Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,Don't setup bridge controller if it is already set,MERGED,2021-11-03 11:05:41.000000000,2021-11-04 11:56:34.000000000,2021-11-04 11:53:35.000000000,64,15,0,816348,b1eccf5a2deaf6d18ff18dfacfbcf7ef7fdb781f,10,3,1,4,11975,Slawek Kaplonski,slaweq,"Don't setup bridge controller if it is already set

Setting new controller for bridge every time when neutron-ovs-agent
is restarted or is doing full-sync may cause some short data plane
connectivity loss and is not needed if same controller is already
configured for the bridge.
With this patch neutron-ovs-agent will first check if controller is
configured for the bridge and if it's the same as what should be
configured, it will skip setting it up.

With this patch also protocols added to the bridge will be first checked
if they aren't already there and only missing ones will be added if
necessary.

Setting of the connectivity mode and inactivity probe is
always performed as this don't cause connectivity issues and is cheap
so we can always ensure that those parameters are configured properly.

Conflicts:
    neutron/agent/common/ovs_lib.py

Closes-Bug: #1948642
Change-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67
(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)
"
openstack%2Fneutron~stable%2Fxena~Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,openstack/neutron,stable/xena,bug/1948642-stable/xena,Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67,Don't setup bridge controller if it is already set,MERGED,2021-11-03 11:05:22.000000000,2021-11-04 11:56:33.000000000,2021-11-04 11:53:31.000000000,64,15,0,816454,0a945f626f38edbc909af5147a25f9e5b393f674,10,3,1,4,11975,Slawek Kaplonski,slaweq,"Don't setup bridge controller if it is already set

Setting new controller for bridge every time when neutron-ovs-agent
is restarted or is doing full-sync may cause some short data plane
connectivity loss and is not needed if same controller is already
configured for the bridge.
With this patch neutron-ovs-agent will first check if controller is
configured for the bridge and if it's the same as what should be
configured, it will skip setting it up.

With this patch also protocols added to the bridge will be first checked
if they aren't already there and only missing ones will be added if
necessary.

Setting of the connectivity mode and inactivity probe is
always performed as this don't cause connectivity issues and is cheap
so we can always ensure that those parameters are configured properly.

Conflicts:
    neutron/agent/common/ovs_lib.py

Closes-Bug: #1948642
Change-Id: Idfa763df8c60d8ae46cd6351d1b6dc7d950b4c67
(cherry picked from commit 11d166be683d36ba51e3f85ddea45cb0a1fcf8db)
"
openstack%2Fneutron~master~I3d50526d3192cafb673092bc8b22da6c48454434,openstack/neutron,master,add_flavor_name_to_resources_override_options,I3d50526d3192cafb673092bc8b22da6c48454434,"Add ""FLAVOR_NAME"" to ovn migration resources creation",MERGED,2021-10-14 09:36:59.000000000,2021-11-04 11:56:20.000000000,2021-11-04 11:53:41.000000000,16,5,9,813972,f09c98bf8cdd673aa7e2a6d590f68071614e2779,26,8,3,4,28094,Maxim Babushkin,mbabushk,"Add ""FLAVOR_NAME"" to ovn migration resources creation

- Telco usecases requires a flavor which has to contain ""extra_specs""
  to boot a dpdk instance.
  Add the ""FLAVOR_NAME"" parameter to override the use of the default
  flavor used during migration flow.

- Modify the hardcoded server user name (cirros) to use the
  ""SERVER_USER_NAME"" environment variable.

Change-Id: I3d50526d3192cafb673092bc8b22da6c48454434
"
openstack%2Fpuppet-mistral~master~I7b20aa48cb16927211a862e264bb51ae4bb50f42,openstack/puppet-mistral,master,healthcheck,I7b20aa48cb16927211a862e264bb51ae4bb50f42,Add support for healthcheck middleware options,NEW,2021-07-12 04:20:27.000000000,2021-11-04 11:52:57.000000000,,115,0,1,800407,ed7e0dc7cef2b376504530112b55ebd2c6f0fb95,6,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Depends-on: https://review.opendev.org/800405
Change-Id: I7b20aa48cb16927211a862e264bb51ae4bb50f42
"
openstack%2Fkolla-ansible~stable%2Fvictoria~Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b,openstack/kolla-ansible,stable/victoria,bug/1948979-stable/xena-stable/wallaby-stable/victoria,Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b,Fix missing Ansible version in the error message,MERGED,2021-10-28 16:15:44.000000000,2021-11-04 11:52:43.000000000,2021-11-04 11:50:49.000000000,6,1,0,815807,28d2efc84b4486241a14489401ba84b8c3394db3,11,3,1,2,30491,RadosÅ‚aw Piliszek,yoctozepto,"Fix missing Ansible version in the error message

Change-Id: Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b
Closes-Bug: #1948979
(cherry picked from commit cd13bde880811f35b7ce1627bc4261f3bf201979)
"
openstack%2Fkolla-ansible~stable%2Fxena~Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b,openstack/kolla-ansible,stable/xena,bug/1948979-stable/xena,Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b,Fix missing Ansible version in the error message,MERGED,2021-10-28 16:14:59.000000000,2021-11-04 11:52:30.000000000,2021-11-04 11:50:46.000000000,6,1,0,815805,e219faec863c31cb70bb8b63f9b4f0f7d45df7fd,11,3,1,2,30491,RadosÅ‚aw Piliszek,yoctozepto,"Fix missing Ansible version in the error message

Change-Id: Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b
Closes-Bug: #1948979
(cherry picked from commit cd13bde880811f35b7ce1627bc4261f3bf201979)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b,openstack/kolla-ansible,stable/wallaby,bug/1948979-stable/xena-stable/wallaby,Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b,Fix missing Ansible version in the error message,MERGED,2021-10-28 16:15:16.000000000,2021-11-04 11:50:07.000000000,2021-11-04 11:48:24.000000000,6,1,0,815806,295e86f0851bf2bee65fc3ceabaa81e82ac12feb,12,4,1,2,30491,RadosÅ‚aw Piliszek,yoctozepto,"Fix missing Ansible version in the error message

Change-Id: Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b
Closes-Bug: #1948979
(cherry picked from commit cd13bde880811f35b7ce1627bc4261f3bf201979)
"
openstack%2Fos-ken~master~I5bb684c75bde1512f379127520b840f55f0e42ab,openstack/os-ken,master,task/43614,I5bb684c75bde1512f379127520b840f55f0e42ab,Bump min eventlet version to 0.26.1,MERGED,2021-10-27 07:42:25.000000000,2021-11-04 11:32:11.000000000,2021-11-04 11:28:27.000000000,4,7,0,815601,e70fe7e2050c324d58eefa9fa4af7b147553cc7c,14,4,3,3,11975,Slawek Kaplonski,slaweq,"Bump min eventlet version to 0.26.1

That version have fix for the issue with Python 3.7. See
[1] for more details.

It is done instead of backporting ryu workaround
https://github.com/faucetsdn/ryu/commit/ddb32f678a5e1f0bbbf2cf810bdd16871abb22d9

[1] https://github.com/eventlet/eventlet/issues/526

Story: #2009283
Task: #43563
Change-Id: I5bb684c75bde1512f379127520b840f55f0e42ab
"
openstack%2Fkolla-ansible~master~Ic2403a98cf1c3a37829613c3bc190f1544c6182f,openstack/kolla-ansible,master,ci-scenarios-ceilometer,Ic2403a98cf1c3a37829613c3bc190f1544c6182f,[WIP] [CI] Ceilometer scenario,ABANDONED,2020-07-08 20:17:49.000000000,2021-11-04 11:31:14.000000000,,82,43,0,740106,e7a8fdf817d89282913efcdecb141bc0b3c1777d,14,2,3,5,30491,RadosÅ‚aw Piliszek,yoctozepto,"[WIP] [CI] Ceilometer scenario

Change-Id: Ic2403a98cf1c3a37829613c3bc190f1544c6182f
Depends-On: https://review.opendev.org/739992
"
openstack%2Fkolla~master~Ic1e3be1b00f22eb2c12b4b67b80567466c60f329,openstack/kolla,master,kolla-debian-bifrost,Ic1e3be1b00f22eb2c12b4b67b80567466c60f329,[WIP] Build bifrost on debian,ABANDONED,2021-06-10 09:07:21.000000000,2021-11-04 11:30:53.000000000,,0,2,0,795747,0901355d47e87ce2832e3113acd372a6ae22c9fd,6,2,1,1,30491,RadosÅ‚aw Piliszek,yoctozepto,"[WIP] Build bifrost on debian

Change-Id: Ic1e3be1b00f22eb2c12b4b67b80567466c60f329
"
openstack%2Fos-ken~master~I583942287b91606642c6df4f448ebe749d391f3c,openstack/os-ken,master,story/2009283,I583942287b91606642c6df4f448ebe749d391f3c,"add ofproto 1.3 coverage, check key-error and attribute-error.",MERGED,2021-10-14 11:27:10.000000000,2021-11-04 11:30:34.000000000,2021-11-04 11:28:19.000000000,64,49,0,813985,f1735c323e58410bb68bb8673eb1fc6d1b8f8f0b,8,3,1,5,8313,Lajos Katona,elajkat,"add ofproto 1.3 coverage, check key-error and attribute-error.

Conflicts: setup.cfg
Backport from https://github.com/faucetsdn/ryu/commit/98d4913
Story: #2009283
Task: #43617

Change-Id: I583942287b91606642c6df4f448ebe749d391f3c
"
openstack%2Fkolla-ansible~stable%2Fussuri~Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b,openstack/kolla-ansible,stable/ussuri,bug/1948979-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b,Fix missing Ansible version in the error message,MERGED,2021-10-28 16:16:09.000000000,2021-11-04 11:30:24.000000000,2021-11-04 11:27:49.000000000,6,1,0,815809,cddc4e1f55c6b20e1b53f7a45d4aa32238c23fb9,11,3,1,2,30491,RadosÅ‚aw Piliszek,yoctozepto,"Fix missing Ansible version in the error message

Change-Id: Iefa8f78142c502ac9e8ebdbb95c94b2b05f99e5b
Closes-Bug: #1948979
(cherry picked from commit cd13bde880811f35b7ce1627bc4261f3bf201979)
"
openstack%2Fkolla-ansible~master~I8b0e684634028b0ff110f22067e5ba56b373fb56,openstack/kolla-ansible,master,dnm-ansible-2.10-patch2,I8b0e684634028b0ff110f22067e5ba56b373fb56,[DNM] Test Ansible 2.10.0rc1,ABANDONED,2020-09-17 09:49:11.000000000,2021-11-04 11:29:02.000000000,,12,74,0,752420,03218de5e5fd1385f665d2dfec9650593fcb3008,21,2,5,6,30491,RadosÅ‚aw Piliszek,yoctozepto,"[DNM] Test Ansible 2.10.0rc1

Change-Id: I8b0e684634028b0ff110f22067e5ba56b373fb56
"
openstack%2Fkolla-ansible~master~I37a72cf4896593fbd2b31c8dd920b1e083a682d3,openstack/kolla-ansible,master,test-wallaby,I37a72cf4896593fbd2b31c8dd920b1e083a682d3,[DNM] CI test with building,ABANDONED,2021-04-09 16:10:25.000000000,2021-11-04 11:28:21.000000000,,1,0,0,785676,89ee5c181e9a633df9cd2bdc8b21e780d124494f,8,1,2,1,30491,RadosÅ‚aw Piliszek,yoctozepto,"[DNM] CI test with building

Depends-On: https://review.opendev.org/c/openstack/kolla/+/713140
Change-Id: I37a72cf4896593fbd2b31c8dd920b1e083a682d3
"
openstack%2Fkolla-ansible~master~I71d0dc70092fd63f8c913e3b9421549d7dd96d43,openstack/kolla-ansible,master,dnm-prometheus,I71d0dc70092fd63f8c913e3b9421549d7dd96d43,[DNM] [CI] Check Prometheus scenario,ABANDONED,2021-05-06 07:55:53.000000000,2021-11-04 11:28:04.000000000,,11,10,0,790008,6f3d79dbe5b6cb44a184a0dc0e005600276fc3ad,7,2,2,3,30491,RadosÅ‚aw Piliszek,yoctozepto,"[DNM] [CI] Check Prometheus scenario

Change-Id: I71d0dc70092fd63f8c913e3b9421549d7dd96d43
"
openstack%2Fansible-collections-openstack~master~Iad288c3c11d0791be33b379554577eab8381b44d,openstack/ansible-collections-openstack,master,hh,Iad288c3c11d0791be33b379554577eab8381b44d,Fix issue with same host and group names,MERGED,2021-11-02 09:43:12.000000000,2021-11-04 11:06:02.000000000,2021-11-04 11:06:02.000000000,5,1,0,816311,11c7cd23f8f7e85283bc242bffc6d8f4a6f13d8e,6,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Fix issue with same host and group names

When host and group name is the same, the inventory fails to run.
Use different method of adding host to inventory with this case.

Fixes rhbz#2017495
Change-Id: Iad288c3c11d0791be33b379554577eab8381b44d
"
openstack%2Fpuppet-placement~master~I91e9506cd1e88cc3dddaa1d2c17f9fa9550e3aec,openstack/puppet-placement,master,apache-ssl,I91e9506cd1e88cc3dddaa1d2c17f9fa9550e3aec,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 12:02:43.000000000,2021-11-04 11:05:54.000000000,2021-11-04 11:03:40.000000000,14,3,2,816494,d3d7cd9edf4103597dab79af2fe15808b2df5127,14,3,1,2,9816,Takashi Kajinami,kajinamit,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I91e9506cd1e88cc3dddaa1d2c17f9fa9550e3aec
"
openstack%2Fkolla-ansible~master~I1331698e313bd714a16fc35f38fb579d75b56370,openstack/kolla-ansible,master,mariadb-shard-groups,I1331698e313bd714a16fc35f38fb579d75b56370,mariadb: use add_host to include inactive hosts in shard grouping,MERGED,2021-10-16 19:06:04.000000000,2021-11-04 11:05:03.000000000,2021-11-04 11:02:41.000000000,13,5,58,814276,68cd2a055371cc25a0502ff4db22fbcdececd478,94,5,15,4,33826,Seena Fallah,clwluvw,"mariadb: use add_host to include inactive hosts in shard grouping

In case of running mariadb role with --limit the group_by module will only include the limited hosts and other hosts that are not limited by ansible will not be included.
Using add_host will add all hosts in mariadb group to their shards group

Signed-off-by: Seena Fallah <seenafallah@gmail.com>
Change-Id: I1331698e313bd714a16fc35f38fb579d75b56370
Closes-Bug: #1947589
"
openstack%2Fcyborg-specs~master~I06ec2391b232022f5bb449591ed7d344b76cb6fd,openstack/cyborg-specs,master,bp/show-resource-with-name,I06ec2391b232022f5bb449591ed7d344b76cb6fd,Support to getting the device profile by the name,MERGED,2021-10-08 12:46:53.000000000,2021-11-04 10:58:47.000000000,2021-11-04 10:56:37.000000000,161,0,38,813183,d28b148cf5f68ba1a52e62fae6e19bbdc7591407,32,5,8,1,23950,Eric Xie,ericxie,"Support to getting the device profile by the name

Nowadays, A device_profile can only be got by it's UUID, but the
field 'name' is already supported. This spec adds the support
that showing a device_profile by it's name in 'python-cyborgclient'.
Also add one 'name' filter for listing device profile in
'python-cyborgclient'.

Implements: show-resource-with-name
Change-Id: I06ec2391b232022f5bb449591ed7d344b76cb6fd
"
openstack%2Fcharm-ceph-dashboard~master~Ibd616cdf9a08fa990fd2c49024c88f5529e24128,openstack/charm-ceph-dashboard,master,improve-readme,Ibd616cdf9a08fa990fd2c49024c88f5529e24128,Improve README,MERGED,2021-10-27 18:07:09.000000000,2021-11-04 10:57:57.000000000,2021-11-04 10:57:57.000000000,36,2,2,815722,3534b8c3a2193fc2c3afdc5bc0e968bc4ff58cc0,12,3,2,1,30561,Peter Matulis,pmatulis,"Improve README

Some essential bits were missing from the initial
21.10 release. It would be great if this change
could be backported.

Change-Id: Ibd616cdf9a08fa990fd2c49024c88f5529e24128
"
openstack%2Fkolla-ansible~master~I4fc5de6e7e520266390d9d29753d983e2ab61aa8,openstack/kolla-ansible,master,ci-all-tls,I4fc5de6e7e520266390d9d29753d983e2ab61aa8,[DNM] [CI] TLS everywhere,ABANDONED,2021-05-29 08:50:25.000000000,2021-11-04 10:42:56.000000000,,1,1,0,793655,af579897f4de5a045783d2099a6ca1e87a4e7094,5,1,1,1,30491,RadosÅ‚aw Piliszek,yoctozepto,"[DNM] [CI] TLS everywhere

Change-Id: I4fc5de6e7e520266390d9d29753d983e2ab61aa8
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I4fc5de6e7e520266390d9d29753d983e2ab61aa8,openstack/kolla-ansible,stable/victoria,ci-all-tls-stable/wallaby-stable/victoria,I4fc5de6e7e520266390d9d29753d983e2ab61aa8,[DNM] [CI] TLS everywhere,ABANDONED,2021-05-29 08:53:41.000000000,2021-11-04 10:42:50.000000000,,1,1,0,793674,745eb77931a0bbb0c5ee81eb5c62d4ed9129763d,7,1,1,1,30491,RadosÅ‚aw Piliszek,yoctozepto,"[DNM] [CI] TLS everywhere

Change-Id: I4fc5de6e7e520266390d9d29753d983e2ab61aa8
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I4fc5de6e7e520266390d9d29753d983e2ab61aa8,openstack/kolla-ansible,stable/wallaby,ci-all-tls-stable/wallaby,I4fc5de6e7e520266390d9d29753d983e2ab61aa8,[DNM] [CI] TLS everywhere,ABANDONED,2021-05-29 08:52:33.000000000,2021-11-04 10:42:42.000000000,,1,1,0,793673,3503f1c6d0728f149b356332306d32f038c3c641,3,1,1,1,30491,RadosÅ‚aw Piliszek,yoctozepto,"[DNM] [CI] TLS everywhere

Change-Id: I4fc5de6e7e520266390d9d29753d983e2ab61aa8
"
openstack%2Fnova~stable%2Fxena~Ic0d6c59147abe5e094e8f13e0d3523b178daeba9,openstack/nova,stable/xena,bug/1944759,Ic0d6c59147abe5e094e8f13e0d3523b178daeba9,Store old_flavor already on source host during resize,MERGED,2021-09-24 13:50:56.000000000,2021-11-04 10:41:27.000000000,2021-11-04 10:34:02.000000000,25,27,2,810911,d4edcd62bae44c01885268a6cf7b7fae92617060,12,3,2,2,9708,Balazs Gibizer,gibi,"Store old_flavor already on source host during resize

During resize, on the source host, in resize_instance(), the instance.host
and .node is updated to point to the destination host. This indicates to
the source host's resource tracker that the allocation of this instance
does not need to be tracked as an instance but as an outbound migration
instead. However for the source host's resource tracker to do that it,
needs to use the instance.old_flavor. Unfortunately the
instance.old_flavor is only set during finish_resize() on the
destination host. (resize_instance cast to the finish_resize). So it is
possible that a running resize_instance() set the instance.host to point
to the destination and then before the finish_resize could set the
old_flavor an update_available_resources periodic runs on the source
host. This causes that the allocation of this instance is not tracked as
an instance as the instance.host point to the destination but it is not
tracked as a migration either as the instance.old_flavor is not yet set.
So the allocation on the source host is simply dropped by the periodic
job.

When such migration is confirmed the confirm_resize() tries to drop
the same resource allocation again but fails as the pinned CPUs of the
instance already freed.

When such migration is reverted instead, then revert succeeds but the
source host resource allocation will not contain the resource allocation
of the instance until the next update_available_resources periodic runs
and corrects it.

This does not affect resources tracked exclusively in placement (e.g.
VCPU, MEMORY_MB, DISK_GB) but it does affect NUMA related resource that
are still tracked in the resource tracker (e.g. huge pages, pinned
CPUs).

This patch moves the instance.old_flavor setting to the source node to
the same transaction that sets the instance.host to point to the
destination host. Hence solving the race condition.

Change-Id: Ic0d6c59147abe5e094e8f13e0d3523b178daeba9
Closes-Bug: #1944759
(cherry picked from commit b841e553214be9a732703e2dfed6c97698ef9b71)
"
openstack%2Fkolla-ansible~stable%2Fstein~Idcbc134cdfa4a598d3e4510df7b1040cb656aece,openstack/kolla-ansible,stable/stein,,Idcbc134cdfa4a598d3e4510df7b1040cb656aece,[DNM] Dummy (Stein),ABANDONED,2020-09-13 09:13:29.000000000,2021-11-04 10:38:52.000000000,,0,0,0,751606,a08518adc325dd45d8fb49980a0c5ff5482e9e48,4,2,1,0,30491,RadosÅ‚aw Piliszek,yoctozepto,"[DNM] Dummy (Stein)

To run all jobs.

Change-Id: Idcbc134cdfa4a598d3e4510df7b1040cb656aece
"
openstack%2Fpython-openstackclient~stable%2Ftrain~I510383f8e0cbf05ec24caa1cad330f12f82a913d,openstack/python-openstackclient,stable/train,story/2007896,I510383f8e0cbf05ec24caa1cad330f12f82a913d,Make volume backup record commands available in v3,ABANDONED,2020-07-07 11:00:12.000000000,2021-11-04 10:38:43.000000000,,8,0,0,739704,3b250582bb770fda5755d72a3733a3618b4d6006,14,5,2,2,30491,RadosÅ‚aw Piliszek,yoctozepto,"Make volume backup record commands available in v3

They work just fine in Volume API v3 but they were limited in OSC
to v2.

Change-Id: I510383f8e0cbf05ec24caa1cad330f12f82a913d
Story: 2007896
Task: 40279
(cherry picked from commit b1fc587a6d4eac795a5bc27c2dffd2d876161caa)
(cherry picked from commit 5b25ea899e023bcd3d7384cca943f9844bcb0b79)
"
openstack%2Fkolla-ansible~stable%2Fussuri~Ic08d461e6fdf91c378a87860765a489c2f86d690,openstack/kolla-ansible,stable/ussuri,ci-cinder-upgrade-testing-stable/victoria-stable/ussuri,Ic08d461e6fdf91c378a87860765a489c2f86d690,[CI] Cinder upgrade testing,ABANDONED,2021-09-09 14:41:20.000000000,2021-11-04 10:35:35.000000000,,104,37,5,808004,4e766aaf853984b07a2fcf1d82ea220ae2f1b196,17,4,1,2,30491,RadosÅ‚aw Piliszek,yoctozepto,"[CI] Cinder upgrade testing

To gain visibility into how our upgrades affect existing Cinder
volumes, a new testing path is required.
This patch adds it.

Additionally, it refactors the repeated actions and ensures that
we wait for volume deletions as well.

Change-Id: Ic08d461e6fdf91c378a87860765a489c2f86d690
Related-Bug: #1904062
(cherry picked from commit 62b8c6b68413330da032d14b45c6fbd340ec9e2d)
"
openstack%2Fkolla-ansible~stable%2Fussuri~Id79df44254603f9b37ce7da2bfc796fc0b1ac91f,openstack/kolla-ansible,stable/ussuri,testing-instance-upgrade-stable/wallaby-stable/victoria-stable/ussuri,Id79df44254603f9b37ce7da2bfc796fc0b1ac91f,[CI] Test instance health after upgrade,ABANDONED,2021-09-09 14:42:12.000000000,2021-11-04 10:35:30.000000000,,85,25,3,808005,d2a5ebca48aa1bbea14f8de471018ffc4d283d8d,12,3,1,1,30491,RadosÅ‚aw Piliszek,yoctozepto,"[CI] Test instance health after upgrade

Just like I added Cinder volume upgrade testing before, let's
also test similarly for Nova and Neutron. :-)

More robust debugging and refactor included.

Related-Bug: #1941706
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/806476
Change-Id: Id79df44254603f9b37ce7da2bfc796fc0b1ac91f
(cherry picked from commit daf534b4e0b7fd07a87cd9bde2731836ee40574c)
"
openstack%2Fneutron-tempest-plugin~master~If0e9ea51ad62d4d324a77b9d33953b56d5e6c99c,openstack/neutron-tempest-plugin,master,bug/1949557,If0e9ea51ad62d4d324a77b9d33953b56d5e6c99c,"Increase ""neutron-tempest-plugin-scenario-ovn"" timeout to 3h",MERGED,2021-11-03 08:32:51.000000000,2021-11-04 10:33:58.000000000,2021-11-04 10:33:58.000000000,1,1,1,816438,99acc99271b585b153bee8bb4ce08caf2e94f593,10,5,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Increase ""neutron-tempest-plugin-scenario-ovn"" timeout to 3h

Due to a recent series of timeouts during the execution of this job,
this patch increases the timeout to 3h.

Change-Id: If0e9ea51ad62d4d324a77b9d33953b56d5e6c99c
Closes-Bug: #1949557
"
openstack%2Fneutron~master~I5a6fb65694498dd7d8f403ea04dc1fe72b8c938d,openstack/neutron,master,bug/1936408,I5a6fb65694498dd7d8f403ea04dc1fe72b8c938d,Check quota limits,MERGED,2021-07-20 13:43:55.000000000,2021-11-04 10:15:17.000000000,2021-11-04 10:10:06.000000000,63,10,12,801470,5a7a8db0d87c2027287e8fb074ee0f681e6369bb,214,6,11,7,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Check quota limits

When ""check_limit"" parameter is passed in a quota update request,
the Neutron server checks the current resource usage before updating
the quota limit. If the new quota limit is below the resource usage,
an exception is raised.

This parameter was added in [1][2].

[1]https://review.opendev.org/c/openstack/openstacksdk/+/806254
[2]https://review.opendev.org/c/openstack/python-openstackclient/+/806016

Closes-Bug: #1936408

Change-Id: I5a6fb65694498dd7d8f403ea04dc1fe72b8c938d
"
openstack%2Fkolla-ansible~master~Ifc75613fe508b9452cb8b4ba264cf0dbe6aba675,openstack/kolla-ansible,master,dnm-run-all-jobs,Ifc75613fe508b9452cb8b4ba264cf0dbe6aba675,[DNM] Run all jobs,ABANDONED,2021-06-10 17:42:26.000000000,2021-11-04 10:13:34.000000000,,1,0,0,795858,b2949bd305522f3101fa5408cf632fd9037062fa,12,2,1,1,30491,RadosÅ‚aw Piliszek,yoctozepto,"[DNM] Run all jobs

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/795852
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/795856
Change-Id: Ifc75613fe508b9452cb8b4ba264cf0dbe6aba675
"
openstack%2Fkolla~master~I8e2c9c18bafee6cba9a74b5bcae8efdb72bdc9ed,openstack/kolla,master,dnm-dummy,I8e2c9c18bafee6cba9a74b5bcae8efdb72bdc9ed,DNM: dummy,ABANDONED,2020-03-15 16:21:36.000000000,2021-11-04 10:13:18.000000000,,0,0,0,713140,c86da10b103229403efb938fd306890a677febb3,19,2,3,0,30491,RadosÅ‚aw Piliszek,yoctozepto,"DNM: dummy

Change-Id: I8e2c9c18bafee6cba9a74b5bcae8efdb72bdc9ed
"
openstack%2Fkolla-ansible~master~Idcbc134cdfa4a598d3e4510df7b1040cb656aece,openstack/kolla-ansible,master,dnm-dummy,Idcbc134cdfa4a598d3e4510df7b1040cb656aece,[DNM] Dummy (master),ABANDONED,2020-09-06 13:35:57.000000000,2021-11-04 10:12:34.000000000,,0,0,0,750096,466e4b2bb69a63fd67ca24961beda9c34455223a,13,2,3,0,30491,RadosÅ‚aw Piliszek,yoctozepto,"[DNM] Dummy (master)

To run all jobs.

Change-Id: Idcbc134cdfa4a598d3e4510df7b1040cb656aece
"
openstack%2Fkolla-ansible~stable%2Fussuri~Idcbc134cdfa4a598d3e4510df7b1040cb656aece,openstack/kolla-ansible,stable/ussuri,dnm-dummy,Idcbc134cdfa4a598d3e4510df7b1040cb656aece,[DNM] Dummy (Ussuri),ABANDONED,2020-09-13 09:09:09.000000000,2021-11-04 10:12:25.000000000,,0,0,0,751604,6110cf21209b571215e0cbe5b2556ac9544aa34c,8,2,2,0,30491,RadosÅ‚aw Piliszek,yoctozepto,"[DNM] Dummy (Ussuri)

To run all jobs.

Change-Id: Idcbc134cdfa4a598d3e4510df7b1040cb656aece
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9d471633d5650544f2fd9a2b00bd9aa166c737c3,openstack/tripleo-heat-templates,stable/train,archive_policy_telemetry-stable/train,I9d471633d5650544f2fd9a2b00bd9aa166c737c3,Drop archive policy from enable-legacy-telemetry,MERGED,2021-11-03 09:44:11.000000000,2021-11-04 10:09:50.000000000,2021-11-04 10:09:50.000000000,2,2,1,816346,fd8c8b9b4422a9da0b7f4c471894ea0998c61d6d,12,3,1,1,4264,Matthias Runge,mrunge,"Drop archive policy from enable-legacy-telemetry

Adding it there will basically enforce using the archive policy
high all over, and will prevent using any other.

Change-Id: I9d471633d5650544f2fd9a2b00bd9aa166c737c3
(cherry picked from commit 10e0652199083de0b607cc2107b81106a8e09813)
(cherry picked from commit d5726a13263d655f0a678d247661dfd35f38e86c)
(cherry picked from commit 83441c397b7070f2b8ea01404a43972fd8a3ca81)
(cherry picked from commit f365caa0d6abe144679aa5f9b36317823c10147b)
"
openstack%2Freleases~master~If3c26c0b7e4d1fd81a801fcb97d4d046825d4aa4,openstack/releases,master,pbr-5.7.0,If3c26c0b7e4d1fd81a801fcb97d4d046825d4aa4,Release PBR 5.7.0,MERGED,2021-11-03 21:00:42.000000000,2021-11-04 10:04:16.000000000,2021-11-04 09:15:23.000000000,4,0,2,816577,73cc7ba717462311acccce3bca100d85eecd9cc1,9,3,1,1,4146,Clark Boylan,cboylan,"Release PBR 5.7.0

This release PBR 5.7.0 which includes support for PEP 517 build-system
specifications for PBR.

Change-Id: If3c26c0b7e4d1fd81a801fcb97d4d046825d4aa4
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I992935e1c478591f3c8af5044df8a625af9eba85,openstack/tripleo-ansible,stable/wallaby,,I992935e1c478591f3c8af5044df8a625af9eba85,Add tripleo_dnf_stream Ansible module.,MERGED,2021-10-25 06:07:06.000000000,2021-11-04 09:51:25.000000000,2021-11-04 09:43:27.000000000,481,0,4,814948,9959ab393809e61ace5d4beb15c6b27ad480de8f,41,6,6,5,26343,Jose Luis Franco,jfrancoa,"Add tripleo_dnf_stream Ansible module.

One of the functionalities the dnf Ansible module misses is the single
disabling and disabling of DNF modules [0]. Currently only installation and
removal are supported.

The tripleo_dnf_stream module is based on the dnf.py Ansible core module [1]
(so it will be simpler to contribute with this functionality to upstream
Ansible core) and covers the enabling and disabling of one or multiple
MODULE:STREAM.

This functionality is required when performing a minor update, as we
need to make sure that a set of streams are enabled to provide with
the right packages [2]. In this situation, the installation of the
whole module is not really required as a full upgrade will run after.

The module uses the options name (MODULE:STREAM) and state:[disabled or
enabled]. Example:
    - name: Enable the container-tools:3.0
      tripleo_dnf_stream:
        - name: container-tools:3.0
          state: enabled

[0]: https://github.com/ansible/ansible/issues/64852
[1]: https://github.com/ansible/ansible/blob/devel/lib/ansible/modules/dnf.py
[2]: https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L378-L381

Change-Id: I992935e1c478591f3c8af5044df8a625af9eba85
(cherry picked from commit 5212d407d9730dce68782d37f2045a672dce9146)
(cherry picked from commit c2d083b03c8314eeb1fdb606561e626fe89bffee)
"
openstack%2Fneutron~stable%2Fussuri~Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f,openstack/neutron,stable/ussuri,bug/1946479-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f,[OVN Migration] Remove trunk's subports from the nodes,MERGED,2021-10-26 10:32:23.000000000,2021-11-04 09:51:09.000000000,2021-11-04 09:40:53.000000000,3,0,0,815435,753be029a9d5714f98c7f84fbde06b82a0fd6fb3,10,3,1,1,11975,Slawek Kaplonski,slaweq,"[OVN Migration] Remove trunk's subports from the nodes

After migration from ML2/OVS to ML2/OVN trunk subports which were created
by the neutron-ovs-agent to connect br-int with trunk bridges (tbr-)
aren't needed anymore and should be deleted.

Closes-Bug: #1946479
Change-Id: Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f
(cherry picked from commit bf6831e0d2ad33ff751f06d568abe6cedff4d717)
"
openstack%2Fneutron~stable%2Fussuri~I200acfcaaae7f056ea9a563fead9ff2de8464971,openstack/neutron,stable/ussuri,bug/1933273-stable/wallaby-stable/victoria-stable/ussuri,I200acfcaaae7f056ea9a563fead9ff2de8464971,[DVR] Fix update of the MTU in the SNAT namespace,MERGED,2021-10-07 09:22:31.000000000,2021-11-04 09:43:37.000000000,2021-11-04 09:40:48.000000000,161,8,2,812951,384f2bb2aa85e33daad8b4fe0952fd18b96f10b8,17,3,2,6,11975,Slawek Kaplonski,slaweq,"[DVR] Fix update of the MTU in the SNAT namespace

When network's MTU is changed, Neutron sends notification about it
to the L3 agents. In case of DVR (and DVR HA) MTU is then changed in
the qrouter- namespace but should be also changed on snat interfaces
in the snat namespace. And that part was missing.

This patch adds special implementation of the internal_network_updated()
method in the DvrEdgeRouter class so it can configure MTU also for
in the snat namespace.

This patch also removed passing attributes ""interface_name"",
""ip_cidrs"" and ""mtu"" to the internal_network_updated() method and adds
""port"" dict to be passed there. It is consistent with what is already
done in e.g. internal_network_added() method and ""port"" dict is actually
necessary to configure properly snat internal interface in the snat
namespace.

This patch adds also functional test of update network mtu for all types
of routers as there was no such test at all.

There is additional issue with DVR-HA which isn't fixed with that patch
and for which follow up will be proposed. Because of that this patch is
marked as partial fix for the related bug.

Conflicts:
    neutron/tests/functional/agent/l3/test_dvr_router.py

Related-Bug: #1933273
Change-Id: I200acfcaaae7f056ea9a563fead9ff2de8464971
(cherry picked from commit b5dd6efdca0aa6e7405a55d66c7042a49ec72214)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I4ab2d20df22bdc9b140019f90d1370ef17f09294,openstack/tripleo-heat-templates,stable/wallaby,cs9-stable/wallaby,I4ab2d20df22bdc9b140019f90d1370ef17f09294,Fix set_fact on the CephMgrAnsibleVars,MERGED,2021-11-02 10:30:12.000000000,2021-11-04 09:43:33.000000000,2021-11-04 09:43:33.000000000,16,18,1,816244,3e330da2c5d6f4f07b402e358adb3cbdbb504d79,15,5,2,1,25402,Francesco Pantano,fmount,"Fix set_fact on the CephMgrAnsibleVars

The purpose of this patch is react on the issue generated by [1],
where an empty dict sect_fact is not allowed for ansible >= 2.11.
For this reason, we're going to always set those variables and
defer to the ansible layer the evaluation of the DashboardEnabled
condition.

[1] https://github.com/ansible/ansible/pull/73684

Closes-Bug: #1949033
Change-Id: I4ab2d20df22bdc9b140019f90d1370ef17f09294
(cherry picked from commit b3863568ad75a3845389677b08a0d756e3c6e0b5)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I107a5df068df3c6ea636cf4b4783a417ab249f38,openstack/tripleo-heat-templates,stable/wallaby,bootfile_name-stable/wallaby,I107a5df068df3c6ea636cf4b4783a417ab249f38,Ironic: Do not override bootfile_name,MERGED,2021-09-22 23:50:31.000000000,2021-11-04 09:43:30.000000000,2021-11-04 09:43:30.000000000,0,3,2,810482,3aea4f92022563cbb7641805829c1192d22b6d95,15,4,1,1,9816,Takashi Kajinami,kajinamit,"Ironic: Do not override bootfile_name

Since [1] is merged, ironic provides independent options for PXE boot
and iPXE boot, and each parameters like bootfile_name should be defined
according to the boot interface.
This change removes override of uefi_pxe parameters because the values
passed should be used for iPXE instead of PXE.

[1] 4d13da9cc7b8f8fa9ee428731f88d5723eddeffa

Change-Id: I107a5df068df3c6ea636cf4b4783a417ab249f38
(cherry picked from commit bd7c489dc7346f071f15080c2b6c4715e39bbb3c)
"
openstack%2Fcharm-octavia~stable%2F21.04~Id8a71ad90da98f6330328663478a948f4b134c0d,openstack/charm-octavia,stable/21.04,wallaby-bundles-stable/21.04,Id8a71ad90da98f6330328663478a948f4b134c0d,Test bundles for focal-wallaby and hirsute-wallaby,ABANDONED,2021-08-27 09:54:09.000000000,2021-11-04 09:36:10.000000000,,1045,120,0,806375,9dbfd21f4d92658adde3392b37230f2b560f6f94,14,3,3,26,31289,Aurelien Lourot,lourot,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Re-enable testing with Victora Amphora.

Re-enable bionic-ussuri-ha-ovn now that the ovn 20.03.2 SRU
is complete.

Replace overlay symlinks with local-charm-overlay template.

Group jobs in two stages to avoid CI resource depletion.

Change-Id: Id8a71ad90da98f6330328663478a948f4b134c0d
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
(cherry picked from commit c30f2982d5d27c77d4ce0d3e096585b75af5461c)
"
openstack%2Fwhitebox-tempest-plugin~master~I22d20d76e0e7e889ecff5e02f397efed5504a8c9,openstack/whitebox-tempest-plugin,master,,I22d20d76e0e7e889ecff5e02f397efed5504a8c9,DNM zuul: Test encrypted ceph,ABANDONED,2021-10-07 17:04:37.000000000,2021-11-04 09:35:09.000000000,,53,9,0,813057,0345da772665bc1f84f23eedb8d2519e2bd0406c,10,1,3,1,10135,Lee Yarwood,lyarwood,"DNM zuul: Test encrypted ceph

Change-Id: I22d20d76e0e7e889ecff5e02f397efed5504a8c9
"
openstack%2Fcharm-vault~master~I6d6a0eba53e197993b223ce6a736444d6c12d647,openstack/charm-vault,master,bug/1948989,I6d6a0eba53e197993b223ce6a736444d6c12d647,Improve root CA handling for action 'disable-pki',MERGED,2021-11-02 19:29:33.000000000,2021-11-04 09:31:23.000000000,2021-11-04 09:31:23.000000000,6,0,2,816399,fbf6cc54949356fa633ffddafb4b546cfd54ca74,11,3,2,3,34059,Andy Wu,andywu,"Improve root CA handling for action 'disable-pki'

Clear old root CA stored in vault/leader when action 'disable-pki'
is called

Closes-Bug: #1948989
Change-Id: I6d6a0eba53e197993b223ce6a736444d6c12d647
"
openstack%2Fos-ken~master~I6d670bce7f5cbca7ae31178cb0beb5c891a72405,openstack/os-ken,master,task/43614,I6d670bce7f5cbca7ae31178cb0beb5c891a72405,Add support for the MTU ND option.,MERGED,2021-10-13 14:19:22.000000000,2021-11-04 09:29:56.000000000,2021-11-04 09:28:08.000000000,44,0,3,813836,b5104258bdf1771696ba7595c72050c42663d43e,18,3,3,1,11975,Slawek Kaplonski,slaweq,"Add support for the MTU ND option.

Backport from https://github.com/faucetsdn/ryu/commit/ca597a5e

Story: #2009283
Task: #43616
Change-Id: I6d670bce7f5cbca7ae31178cb0beb5c891a72405
"
openstack%2Freleases~master~I22d3e4863c13335da39d8f1622626bfed2328384,openstack/releases,master,,I22d3e4863c13335da39d8f1622626bfed2328384,[manila] Release manila 13.0.1,MERGED,2021-11-03 20:04:25.000000000,2021-11-04 09:23:57.000000000,2021-11-04 09:23:57.000000000,4,0,2,816552,43fedaefea83f8208f8350c34d942a326e120492,9,4,1,1,29632,Carlos Eduardo,silvacarlos,"[manila] Release manila 13.0.1

This release includes several bugfixes and enhancements committed
against the stable/xena branch.

Change-Id: I22d3e4863c13335da39d8f1622626bfed2328384
"
openstack%2Freleases~master~I6ef3f10e3120f1caed768155868f1e506b51e9a6,openstack/releases,master,,I6ef3f10e3120f1caed768155868f1e506b51e9a6,[python-manilaclient] Release manilaclient 2.6.1 for Wallaby,MERGED,2021-11-03 20:51:50.000000000,2021-11-04 09:21:45.000000000,2021-11-04 09:21:45.000000000,4,0,2,816570,2b6bd4679c9ea7331ae843dc5aa4bf95cbf93200,9,4,1,1,29632,Carlos Eduardo,silvacarlos,"[python-manilaclient] Release manilaclient 2.6.1 for Wallaby

This is a bugfix release for python-manilaclient.

Change-Id: I6ef3f10e3120f1caed768155868f1e506b51e9a6
"
openstack%2Fos-ken~master~I76efb04c418210691ceb114b8bde5ec4d02aea83,openstack/os-ken,master,task/43614,I76efb04c418210691ceb114b8bde5ec4d02aea83,Allow user to set cipher list.,MERGED,2021-10-13 14:17:48.000000000,2021-11-04 09:18:07.000000000,2021-11-04 09:16:37.000000000,5,0,2,813835,c21b44f7067a1f8e517b09db1c55ebdd1f4a81ee,16,3,3,2,11975,Slawek Kaplonski,slaweq,"Allow user to set cipher list.

Backport from https://github.com/faucetsdn/ryu/commit/7559befd

Story: #2009283
Task: #43615
Change-Id: I76efb04c418210691ceb114b8bde5ec4d02aea83
"
openstack%2Fos-ken~master~Ie7c2f4e202edff1f4286de31cf8314fdbec85f2d,openstack/os-ken,master,task/43614,Ie7c2f4e202edff1f4286de31cf8314fdbec85f2d,Bugfix now multiple switches can connect with TLS,MERGED,2021-10-13 14:08:34.000000000,2021-11-04 09:13:41.000000000,2021-11-04 09:12:09.000000000,16,12,0,813833,a6af9930028e1736ffda028dddcf2d190b43c22a,15,3,3,1,11975,Slawek Kaplonski,slaweq,"Bugfix now multiple switches can connect with TLS

This fixes a bug in RYU StreamServer where SSLContext was modified for
each connection. Now the SSLContext of the server socket is modified
only once in __init__

Backport from https://github.com/faucetsdn/ryu/commit/906b3a3e

Story: #2009283
Task: #43562
Change-Id: Ie7c2f4e202edff1f4286de31cf8314fdbec85f2d
"
openstack%2Freleases~master~I08119f64d64982515262c0c15cf481e55b2d3d1b,openstack/releases,master,,I08119f64d64982515262c0c15cf481e55b2d3d1b,Release Tempest 29.1.0,MERGED,2021-11-01 12:06:00.000000000,2021-11-04 09:03:16.000000000,2021-11-04 09:03:16.000000000,5,0,2,816165,5c85ded5c2548aca44c00686ab9f2960e740cde6,9,4,1,1,22873,Martin Kopec,mkopec,"Release Tempest 29.1.0

Add intermediate release for Tempest Yoga which includes a few
important bug fixes.

Change-Id: I08119f64d64982515262c0c15cf481e55b2d3d1b
"
openstack%2Freleases~master~I8aae021fc9ffba3ed1e52cf319b7df44545fbf53,openstack/releases,master,artifact-signing,I8aae021fc9ffba3ed1e52cf319b7df44545fbf53,Update Yoga Cycle key with my signature,MERGED,2021-10-28 19:45:07.000000000,2021-11-04 08:59:27.000000000,2021-11-04 08:59:27.000000000,28,13,0,815903,d817b8161fdb54e4c12cba66a427bb17d7d65426,8,3,2,2,5263,Jeremy Stanley,fungi,"Update Yoga Cycle key with my signature

I have verified the correctness of the key according to the copy
stored on bridge.

Also update the recommended signature listing command line to
include some specific output options which will hopefully make the
comment block somewhat more stable and reviewable.

Change-Id: I8aae021fc9ffba3ed1e52cf319b7df44545fbf53
"
openstack%2Freleases~master~I4225c2e4f4640ffb98d83673257c91cce4958f44,openstack/releases,master,artifact-signing,I4225c2e4f4640ffb98d83673257c91cce4958f44,Update Yoga Cycle key with my signature,MERGED,2021-10-28 18:57:35.000000000,2021-11-04 08:57:33.000000000,2021-11-04 08:57:33.000000000,26,13,1,815900,bb72350d1adbe61f23758be1fbdf63c275cba523,12,4,2,1,13252,Dr. Jens Harbott,jrosenboom,"Update Yoga Cycle key with my signature

I have verified the correctness of the key according to the copy stored
on bridge.

Change-Id: I4225c2e4f4640ffb98d83673257c91cce4958f44
"
openstack%2Fkuryr-tempest-plugin~master~Ib0a63190d0d07dbe1bf9ab69752703b013d5309e,openstack/kuryr-tempest-plugin,master,recreate,Ib0a63190d0d07dbe1bf9ab69752703b013d5309e,Increase timeout waiting for namespace deletion,MERGED,2021-10-27 12:43:00.000000000,2021-11-04 08:41:37.000000000,2021-11-04 08:39:42.000000000,2,1,6,815653,15eeb47ca8fdae439abb94a86c6fe7825ba7ee09,26,3,7,1,4727,Itzik Brown,itzikb1,"Increase timeout waiting for namespace deletion

Increase the timeout in test_recreate_pod_in_namespace until BZ#1997120
is fixed
Change-Id: Ib0a63190d0d07dbe1bf9ab69752703b013d5309e
"
openstack%2Frequirements~master~I17ea369edd9fa46e761970f15f0de0f81e2400a0,openstack/requirements,master,openstack/requirements/constraints/noclob,I17ea369edd9fa46e761970f15f0de0f81e2400a0,Updated from generate-constraints,MERGED,2021-11-04 02:38:09.000000000,2021-11-04 08:15:42.000000000,2021-11-04 08:13:56.000000000,21,17,0,816611,b791287fa71149ac8a7dd7315524da7e91fd8218,11,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I17ea369edd9fa46e761970f15f0de0f81e2400a0
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fkuryr-tempest-plugin~master~I02b345e8d0e0b64ee9942eb532127f739b386281,openstack/kuryr-tempest-plugin,master,check-connectivity-after-members,I02b345e8d0e0b64ee9942eb532127f739b386281,Ensure connectivity is checked after members are configured,MERGED,2021-11-03 16:50:55.000000000,2021-11-04 07:09:20.000000000,2021-11-04 07:08:02.000000000,1,1,0,816534,5264e4c207b07fa95a19afca4af800df55ed72d1,9,4,1,1,27032,Maysa de Macedo Souza,maysa,"Ensure connectivity is checked after members are configured

After deploymented is scaled up we should be checking the
existence of the members and then checking the connectivity
and not the other way around.

Change-Id: I02b345e8d0e0b64ee9942eb532127f739b386281
"
openstack%2Fos-net-config~stable%2Fvictoria~I0a7e5d1258f5b563708a774e70a72d656b5afcfc,openstack/os-net-config,stable/victoria,fix-constraints,I0a7e5d1258f5b563708a774e70a72d656b5afcfc,Fix upper constraints,MERGED,2021-10-27 14:21:17.000000000,2021-11-04 05:51:20.000000000,2021-11-04 05:49:52.000000000,1,1,0,815676,ac934b396232ba87df631c1c9ef16bc4ec67d8d8,8,3,1,1,14985,Alex Schultz,mwhahaha,"Fix upper constraints

This is incorrectly pulling in master still. It needs to be victoria.

Change-Id: I0a7e5d1258f5b563708a774e70a72d656b5afcfc
"
openstack%2Fos-net-config~stable%2Fwallaby~Ied365dabdc2e2e69432ad51d99006d4aa7963008,openstack/os-net-config,stable/wallaby,fix-constraints,Ied365dabdc2e2e69432ad51d99006d4aa7963008,Fix upper constraints,MERGED,2021-10-27 14:28:01.000000000,2021-11-04 05:51:20.000000000,2021-11-04 05:49:51.000000000,1,1,0,815680,51d81fc1475b6ffe5400bc940b87d86178b72881,8,3,1,1,14985,Alex Schultz,mwhahaha,"Fix upper constraints

This is still pulling in master. It needs to be wallaby.

Change-Id: Ied365dabdc2e2e69432ad51d99006d4aa7963008
"
openstack%2Fos-net-config~stable%2Fussuri~I53a2a77213768feb2532c20c191960516aa56a6f,openstack/os-net-config,stable/ussuri,fix-constraints,I53a2a77213768feb2532c20c191960516aa56a6f,Fix upper constraints,MERGED,2021-10-27 14:20:26.000000000,2021-11-04 05:51:17.000000000,2021-11-04 05:49:54.000000000,1,1,0,815675,98655fb3893364dc0682458f9243aef167219a9b,8,3,1,1,14985,Alex Schultz,mwhahaha,"Fix upper constraints

This is incorrectly pulling in master still. Needs to be ussuri.

Change-Id: I53a2a77213768feb2532c20c191960516aa56a6f
"
openstack%2Frequirements~master~I6c3dfc477155239a9051d4483ede2949556ce97d,openstack/requirements,master,remove-tempest-full-py3-opensuse15,I6c3dfc477155239a9051d4483ede2949556ce97d,Remove broken tempest-full-py3-opensuse15 job,MERGED,2021-11-03 20:59:31.000000000,2021-11-04 05:13:11.000000000,2021-11-04 05:08:06.000000000,0,5,0,816576,2c681dd1c8a9a7e89d4b80b946a9e2e8c1280b03,7,2,1,1,8556,Ghanshyam,ghanshyam,"Remove broken tempest-full-py3-opensuse15 job

tempest-full-py3-opensuse15 is failing all the time[1] and
opensuse is not tested/supported distro in testing runtime
or devstack anymore. So let's remove opensuse broken job from
tempest too.

Needed-By: https://review.opendev.org/c/openstack/tempest/+/816569

[1] https://zuul.opendev.org/t/openstack/builds?job_name=tempest-full-py3-opensuse15

Change-Id: I6c3dfc477155239a9051d4483ede2949556ce97d
"
openstack%2Fbarbican-tempest-plugin~master~I4e01c0e7f93f52c72faadb9d2a8317f9f553904b,openstack/barbican-tempest-plugin,master,secure-rbac,I4e01c0e7f93f52c72faadb9d2a8317f9f553904b,Add secure-rbac test for Container ACL API,MERGED,2021-10-15 20:08:26.000000000,2021-11-04 03:43:58.000000000,2021-11-04 03:43:58.000000000,64,12,1,814229,378efe61acd169f4edb5601df8d4cf972acd4813,12,4,3,1,7973,Douglas MendizÃ¡bal,dougmendizabal,"Add secure-rbac test for Container ACL API

This patch adds policy tests for the Containers ACL API.

Change-Id: I4e01c0e7f93f52c72faadb9d2a8317f9f553904b
"
openstack%2Fbarbican-tempest-plugin~master~I4ef2f68d9070da0c56c4e2370cf66bc813829cd5,openstack/barbican-tempest-plugin,master,secure-rbac,I4ef2f68d9070da0c56c4e2370cf66bc813829cd5,Add cross-project tests for Containers,MERGED,2021-10-13 17:34:39.000000000,2021-11-04 03:43:57.000000000,2021-11-04 03:43:57.000000000,196,98,2,813877,e80c1db7e022e6d60548a25488c1f1147f392eb1,22,5,8,3,7414,David Wilde,d34dh0r53,"Add cross-project tests for Containers

Depends-On: I821b4f5998be5b40327311039979f5e00ea9cefc
Change-Id: I4ef2f68d9070da0c56c4e2370cf66bc813829cd5
"
openstack%2Fneutron~stable%2Fvictoria~I200acfcaaae7f056ea9a563fead9ff2de8464971,openstack/neutron,stable/victoria,bug/1933273-stable/wallaby-stable/victoria,I200acfcaaae7f056ea9a563fead9ff2de8464971,[DVR] Fix update of the MTU in the SNAT namespace,MERGED,2021-10-07 09:22:13.000000000,2021-11-04 03:22:51.000000000,2021-11-04 03:19:02.000000000,161,8,5,812950,763a65d9637c955a828edceec416c6c58744ff50,25,3,2,6,11975,Slawek Kaplonski,slaweq,"[DVR] Fix update of the MTU in the SNAT namespace

When network's MTU is changed, Neutron sends notification about it
to the L3 agents. In case of DVR (and DVR HA) MTU is then changed in
the qrouter- namespace but should be also changed on snat interfaces
in the snat namespace. And that part was missing.

This patch adds special implementation of the internal_network_updated()
method in the DvrEdgeRouter class so it can configure MTU also for
in the snat namespace.

This patch also removed passing attributes ""interface_name"",
""ip_cidrs"" and ""mtu"" to the internal_network_updated() method and adds
""port"" dict to be passed there. It is consistent with what is already
done in e.g. internal_network_added() method and ""port"" dict is actually
necessary to configure properly snat internal interface in the snat
namespace.

This patch adds also functional test of update network mtu for all types
of routers as there was no such test at all.

There is additional issue with DVR-HA which isn't fixed with that patch
and for which follow up will be proposed. Because of that this patch is
marked as partial fix for the related bug.

Conflicts:
    neutron/tests/functional/agent/l3/test_dvr_router.py

Related-Bug: #1933273
Change-Id: I200acfcaaae7f056ea9a563fead9ff2de8464971
(cherry picked from commit b5dd6efdca0aa6e7405a55d66c7042a49ec72214)
"
openstack%2Ffreezer-api~master~I814ce6b77d357574b86cceebd04978ccbe1f0cd1,openstack/freezer-api,master,,I814ce6b77d357574b86cceebd04978ccbe1f0cd1,Update gate CI,MERGED,2021-11-03 23:21:22.000000000,2021-11-04 03:19:06.000000000,2021-11-04 03:11:45.000000000,1,1,0,816478,aa80bb77c8f14c5d5269f9fc574b53990c69492b,10,2,3,1,21069,Carl caihui,caihui,"Update gate CI

Add openstack-python3-yoga-jobs in .zuul.yaml

Change-Id: I814ce6b77d357574b86cceebd04978ccbe1f0cd1
"
openstack%2Fpython-freezerclient~master~I006e4b547de02771f503810d760cb292c7d89f2f,openstack/python-freezerclient,master,,I006e4b547de02771f503810d760cb292c7d89f2f,Add  openstack-python3-yoga-jobs,MERGED,2021-11-03 23:17:49.000000000,2021-11-04 03:12:06.000000000,2021-11-04 03:03:22.000000000,1,1,0,816477,ed6e34a07614b84845fb0df26c3104f428360dcb,10,2,3,1,21069,Carl caihui,caihui,"Add  openstack-python3-yoga-jobs

Update gate ci to openstack-python3-yoga-jobs

Change-Id: I006e4b547de02771f503810d760cb292c7d89f2f
"
openstack%2Ffreezer-dr~master~If85bb9086897849cdd969cf4267b85f658bad9d8,openstack/freezer-dr,master,,If85bb9086897849cdd969cf4267b85f658bad9d8,Update gate ci,MERGED,2021-11-03 23:27:31.000000000,2021-11-04 03:08:02.000000000,2021-11-04 02:57:40.000000000,1,1,0,816479,b8e9db6060121d861447ff81e83b3be95f41172a,9,2,2,1,21069,Carl caihui,caihui,"Update gate ci

Change-Id: If85bb9086897849cdd969cf4267b85f658bad9d8
"
openstack%2Ftripleo-heat-templates~master~I3bddbb74dcaedf3f6c2f71ab826b2912b4bc7912,openstack/tripleo-heat-templates,master,secure-rbac,I3bddbb74dcaedf3f6c2f71ab826b2912b4bc7912,Implement project personas in custom keystone policy file,MERGED,2021-09-21 22:05:37.000000000,2021-11-04 02:34:16.000000000,2021-11-04 02:34:16.000000000,170,203,7,810325,433cc93755214a77abd82fb4a2f97512c2ee9f70,29,6,3,1,5046,Lance Bragstad,ldbragst,"Implement project personas in custom keystone policy file

This change implements all project personas (project-admin,
project-member, and project-reader) where project-admins are technically
considered system-administrators using policy overrides.

This file was modified by generating the default sample policy file in
keystone:

  $ oslopolicy-sample-generator --namespace keystone

Then, working through the file to remove any system-specific checks
(e.g., role:admin and system_scope:all). After that, I used the
convert_policy_yaml_to_heat_template.py tool to update the existing
enable-secure-rbac.yaml file, resulting in a diff of the original
defaults, hopefully making it easier for reviews to see what exactly is
changing.

Change-Id: I3bddbb74dcaedf3f6c2f71ab826b2912b4bc7912
"
openstack%2Ftripleo-image-elements~master~Ia63b1b55cbc844b6ef6e3619334e408a81c4999e,openstack/tripleo-image-elements,master,reno-wallaby,Ia63b1b55cbc844b6ef6e3619334e408a81c4999e,Add Python3 xena unit tests,MERGED,2021-05-05 15:38:38.000000000,2021-11-04 02:34:13.000000000,2021-11-04 02:34:13.000000000,1,1,0,789897,2ca8bd1300f237a11eb3a1655683da22694d62d8,13,4,2,1,22816,OpenStack Release Bot,release,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ia63b1b55cbc844b6ef6e3619334e408a81c4999e
"
openstack%2Ftripleo-image-elements~master~I12783838405916e071a0520d6e5d00ab1753345b,openstack/tripleo-image-elements,master,reno-wallaby,I12783838405916e071a0520d6e5d00ab1753345b,Update master for stable/wallaby,MERGED,2021-05-05 15:38:34.000000000,2021-11-04 02:34:11.000000000,2021-11-04 02:34:11.000000000,7,0,1,789896,d1e9b0542c4c321d2d09ac2fedb84845b71a2cc3,11,3,2,2,22816,OpenStack Release Bot,release,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I12783838405916e071a0520d6e5d00ab1753345b
"
openstack%2Ftripleo-ansible~master~I906e11edf5e95465cb5b885810c928729f4722b7,openstack/tripleo-ansible,master,genisoimage,I906e11edf5e95465cb5b885810c928729f4722b7,Switch from genisoimage to xorriso,MERGED,2021-10-21 13:44:21.000000000,2021-11-04 02:34:09.000000000,2021-11-04 02:34:09.000000000,1,1,2,814918,a36d42f1c4d03c2b467b7c3a76356659882ff185,14,9,1,1,22954,Juan Badia Payno,jbadiapa,"Switch from genisoimage to xorriso

geniso is going to remove from RHEL[1]

https://review.rdoproject.org/r/q/Icb5105cef08480e7ef880530672a0e65fae43efd

Change-Id: I906e11edf5e95465cb5b885810c928729f4722b7
"
openstack%2Ftripleo-image-elements~master~I1f8a189d0fc095cb2cc3bf7808756cd9b973c3b2,openstack/tripleo-image-elements,master,bp/whole-disk-default,I1f8a189d0fc095cb2cc3bf7808756cd9b973c3b2,Double the size of /boot/efi partition,MERGED,2021-11-02 21:18:21.000000000,2021-11-04 02:34:07.000000000,2021-11-04 02:34:07.000000000,1,1,0,816406,14c47f496a56e0f6c9fb444bc50f33cd42386b2f,8,4,1,1,4571,Steve Baker,steve-stevebaker,"Double the size of /boot/efi partition

The current size is big enough for the shim and grub packages which
are installed to it, however when doing a dnf upgrade or reinstall,
dnf may fail with an inadequate space error. Doubling the size of this
partition will avoid this error.

Change-Id: I1f8a189d0fc095cb2cc3bf7808756cd9b973c3b2
Blueprint: whole-disk-default
"
openstack%2Ftripleo-ansible~master~I17222ebd53fd39ee751fc8a2db83848111be99dd,openstack/tripleo-ansible,master,rhbz2010135,I17222ebd53fd39ee751fc8a2db83848111be99dd,Make KillMode configurable for service units,MERGED,2021-10-19 09:25:55.000000000,2021-11-04 02:34:05.000000000,2021-11-04 02:34:05.000000000,1,0,0,814536,e89f88036be54c5fd69a9703afb5c8ba7c66056d,11,5,2,1,6926,Bogdan Dobrelya,bogdando,"Make KillMode configurable for service units

Libvirt container is a special beast that needs custom
killmode value for its tripleo-manager service unit.
Add kill_mode for the container values that defaults to
control-group.

Change-Id: I17222ebd53fd39ee751fc8a2db83848111be99dd
Related: rhbz#2010135
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~I1b7fa2b72ad5af14b12be0fc07f217b24e43ab88,openstack/tripleo-heat-templates,master,add_fips_job,I1b7fa2b72ad5af14b12be0fc07f217b24e43ab88,Add environment file for FIPS deployments,MERGED,2021-10-22 17:23:57.000000000,2021-11-04 02:34:03.000000000,2021-11-04 02:34:03.000000000,6,0,2,815141,4ba798c57fd508392cf8625625e2952fc34463f7,17,4,4,1,9914,Ade Lee,alee,"Add environment file for FIPS deployments

Add environment file to set parameters needed for FIPS enabled
deployments.

Change-Id: I1b7fa2b72ad5af14b12be0fc07f217b24e43ab88
"
openstack%2Fpuppet-zaqar~master~I96bae290b599f65b3b03fc5efb8bce3c0459f13a,openstack/puppet-zaqar,master,apache-ssl,I96bae290b599f65b3b03fc5efb8bce3c0459f13a,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 12:06:38.000000000,2021-11-04 01:57:46.000000000,2021-11-04 01:56:21.000000000,14,3,1,816495,f88fa279bb567c7ff3ab81328ddb94e328110b35,12,3,1,2,9816,Takashi Kajinami,kajinamit,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I96bae290b599f65b3b03fc5efb8bce3c0459f13a
"
openstack%2Fpuppet-glance~stable%2Fussuri~Iac580df4de14ffdb19436417b2830a834efd087d,openstack/puppet-glance,stable/ussuri,,Iac580df4de14ffdb19436417b2830a834efd087d,Swift backend: the key parameter should be secret,MERGED,2021-11-02 12:04:02.000000000,2021-11-04 00:08:06.000000000,2021-11-04 00:08:06.000000000,3,3,1,816249,2c1d7cbc995a453acfb35926adcfcbcad7ca669e,9,3,1,2,9816,Takashi Kajinami,kajinamit,"Swift backend: the key parameter should be secret

The key parameter of swift backend is used to define a credentail to
access Swift so should be hidden in logs.

In Glance the user parameter(swift_store_user) is also defined as
a secret parameter. However it defines user name or id and user name
or id is not currently treated as secret in puppet, so this change
doesn't cover the user parameter.

Change-Id: Iac580df4de14ffdb19436417b2830a834efd087d
(cherry picked from commit 4a481929887d88f019467d11fb7c19d8d9311e3e)
(cherry picked from commit 048e9b458ba0283865fd8dd0dab05a4919a8c371)
(cherry picked from commit 572f60e47fcca241c2829eaeacd799abf873317b)
(cherry picked from commit f6b75d9c2a1e000d7ba575db33aeabd0e3319848)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3e7532e0e33326f1e4ff8f59bafe41d8582abd03,openstack/tripleo-heat-templates,stable/wallaby,horizon-plugins-env-stable/wallaby,I3e7532e0e33326f1e4ff8f59bafe41d8582abd03,Remove ENABLE_* environment about puglins not installed,MERGED,2021-11-01 04:18:29.000000000,2021-11-04 00:03:00.000000000,2021-11-04 00:03:00.000000000,2,21,0,816130,34635f2c790585b1b078040ec4fa69510dc3775f,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Remove ENABLE_* environment about puglins not installed

Currently we maintain list of installed plugins and not installed
plugins in horizon template but the list has some incorrect/invalid
items. Futhermore kolla sets ENABLE_* to no by default unless
the environments are explicitly set so there is no need to maintain
""uninstalled"" items.

This change simplifies the list of plugins to include only installed
and enabled plugins.

Change-Id: I3e7532e0e33326f1e4ff8f59bafe41d8582abd03
(cherry picked from commit 0bb24e11e7ce15041e55a6aed190a63a8c717220)
"
openstack%2Fkuryr-kubernetes~master~If88bf59d45219af1fd32bfab888e4d523eb19ce7,openstack/kuryr-kubernetes,master,amphora-bionic,If88bf59d45219af1fd32bfab888e4d523eb19ce7,Move Amphora image back to bionic,ABANDONED,2021-10-14 16:38:04.000000000,2021-11-03 23:54:28.000000000,,10,10,6,814040,dba193e93e44d95342b405fddead0fd03f1bd33d,19,1,2,4,27032,Maysa de Macedo Souza,maysa,"Move Amphora image back to bionic

Change-Id: If88bf59d45219af1fd32bfab888e4d523eb19ce7
"
openstack%2Ffreezer-tempest-plugin~master~Iac46ad8ace08ba156f786eb0e52c69f8a424ee88,openstack/freezer-tempest-plugin,master,,Iac46ad8ace08ba156f786eb0e52c69f8a424ee88,Update setup.cfg,MERGED,2021-11-03 11:25:44.000000000,2021-11-03 23:53:46.000000000,2021-11-03 23:53:46.000000000,2,2,0,816461,5c66cdab0762624b2622d4c4a724e85070a78667,6,2,1,1,21069,Carl caihui,caihui,"Update setup.cfg

delete python::3.5/3.7,Add python3.8/3.9

Change-Id: Iac46ad8ace08ba156f786eb0e52c69f8a424ee88
"
openstack%2Ffreezer~master~Ib5f202870200fb4e22d4184fac583264c836b457,openstack/freezer,master,,Ib5f202870200fb4e22d4184fac583264c836b457,Add  python3.9  in tox.ini,MERGED,2021-11-03 10:17:46.000000000,2021-11-03 23:52:38.000000000,2021-11-03 23:51:10.000000000,3,0,0,816347,4a43982658de98b3a144b97210eebd6990498488,11,2,4,1,21069,Carl caihui,caihui,"Add  python3.9  in tox.ini

Add python3.9 UT job for CI

Change-Id: Ib5f202870200fb4e22d4184fac583264c836b457
"
openstack%2Ffreezer-web-ui~master~Ifed260df6cff72ae2f0fadfcdf587fdb63a59fd3,openstack/freezer-web-ui,master,,Ifed260df6cff72ae2f0fadfcdf587fdb63a59fd3,Update support python version,MERGED,2021-11-03 11:30:24.000000000,2021-11-03 23:18:27.000000000,2021-11-03 23:18:27.000000000,1,1,0,816462,8e3a2b7022855af744bd8a478966995e2edb7a61,6,2,1,1,21069,Carl caihui,caihui,"Update support python version

Delete pythpn3.7,Add python3.9

Change-Id: Ifed260df6cff72ae2f0fadfcdf587fdb63a59fd3
"
openstack%2Fpuppet-neutron~master~Ia016b87f9531b72f51eb7ffd2b91590c78cb0ead,openstack/puppet-neutron,master,apache-ssl,Ia016b87f9531b72f51eb7ffd2b91590c78cb0ead,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 12:00:01.000000000,2021-11-03 23:15:40.000000000,2021-11-03 23:14:10.000000000,14,3,0,816493,424d0fd814a8c28ac2e10cbbeef3cc0623298988,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: Ia016b87f9531b72f51eb7ffd2b91590c78cb0ead
"
openstack%2Fpuppet-glance~stable%2Fussuri~Ic29448860f5c7a8b743abd6f343985e65d8c5693,openstack/puppet-glance,stable/ussuri,,Ic29448860f5c7a8b743abd6f343985e65d8c5693,Add swift buffer-on-upload options for swift multibackend,MERGED,2021-11-02 12:03:43.000000000,2021-11-03 23:13:30.000000000,2021-11-03 23:12:13.000000000,23,0,0,816248,d7282093228591f29b52717f05d8e6eeb419abbf,8,4,1,3,9816,Takashi Kajinami,kajinamit,"Add swift buffer-on-upload options for swift multibackend

Adds ability to set swift_buffer_on_upload and swift_upload_buffer_dir
for swift multi backend

Change-Id: Ic29448860f5c7a8b743abd6f343985e65d8c5693
(cherry picked from commit 9d340581b15c9b3c20d7f37f820041881177dd77)
"
openstack%2Fpuppet-heat~master~I76516e3d0c659fabdb7736ff4a5a6621eed29371,openstack/puppet-heat,master,apache-ssl,I76516e3d0c659fabdb7736ff4a5a6621eed29371,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 11:52:26.000000000,2021-11-03 23:06:09.000000000,2021-11-03 23:04:28.000000000,34,7,0,816467,603f545cbc5903e392db20d8bf183aee482e54b7,8,3,1,4,9816,Takashi Kajinami,kajinamit,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I76516e3d0c659fabdb7736ff4a5a6621eed29371
"
openstack%2Fpuppet-ironic~master~I1fff2c713be94ab58f9413d2c85131209f972c2a,openstack/puppet-ironic,master,apache-ssl,I1fff2c713be94ab58f9413d2c85131209f972c2a,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 11:55:10.000000000,2021-11-03 22:58:28.000000000,2021-11-03 22:56:59.000000000,14,3,0,816469,dca54992d7011d0e1558de03fa380a5a48ad0bd0,9,4,1,2,9816,Takashi Kajinami,kajinamit,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I1fff2c713be94ab58f9413d2c85131209f972c2a
"
openstack%2Fnova~stable%2Fussuri~I7a563386bd2f5d1930b5eb2cfc00425a19747e24,openstack/nova,stable/ussuri,bug/1934770,I7a563386bd2f5d1930b5eb2cfc00425a19747e24,Fix error that cannot overwrite policy rule for 'forced_host',MERGED,2021-07-26 08:35:04.000000000,2021-11-03 22:47:06.000000000,2021-11-03 22:42:07.000000000,2,1,2,802238,35ec9357a1f249cc1309c92006a5a1f48a8ff025,19,4,1,1,15334,Stephen Finucane,sfinucan,"Fix error that cannot overwrite policy rule for 'forced_host'

When configure 'os_compute_api:servers:create:forced_host' to
'rule:admin_or_owner', but still doesn't allow.
In nova/api/openstack/compute/servers.py#L669, the target is
set to '{}' that is not equal None, so then it will not be set
in nova/policy.py#L205.
This patch configures the target param.

Change-Id: I7a563386bd2f5d1930b5eb2cfc00425a19747e24
Closes-Bug: #1894975
(cherry picked from commit fd99a7ca0f56223d878142a58525d9ed64c84ed1)
"
openstack%2Fkeystone-tempest-plugin~master~Ic60d898969e730fcf1aebc4d103f06ec0baf24ed,openstack/keystone-tempest-plugin,master,wallaby-stable-jobs,Ic60d898969e730fcf1aebc4d103f06ec0baf24ed,Add victoria/wallaby stable branch jobs on master gate,MERGED,2021-04-29 23:34:53.000000000,2021-11-03 22:42:11.000000000,2021-11-03 22:42:11.000000000,12,7,0,788840,32e48a7ea5db99e31dae916f7964c8219025f257,7,4,1,1,8556,Ghanshyam,ghanshyam,"Add victoria/wallaby stable branch jobs on master gate

We have stable/victoria and stable/wallaby released so we
should add their job on master gate to keep branchless
tempest plugins compatible to those branch.

This also removes the stable/stein job as that is in EM
state now.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Ic60d898969e730fcf1aebc4d103f06ec0baf24ed
"
openstack%2Fpuppet-nova~master~I39cacc8244fa8984e5a1f16eec407118dc1a67f3,openstack/puppet-nova,master,apache-ssl,I39cacc8244fa8984e5a1f16eec407118dc1a67f3,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 12:10:28.000000000,2021-11-03 22:38:00.000000000,2021-11-03 22:36:42.000000000,25,6,0,816496,ab45982924f4ac8f8554eaf576561e85d0599578,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I39cacc8244fa8984e5a1f16eec407118dc1a67f3
"
openstack%2Fpuppet-nova~master~I97094f35c5ed2bd734051f082b9eb1d93c4a632c,openstack/puppet-nova,master,cleanup-metadata,I97094f35c5ed2bd734051f082b9eb1d93c4a632c,Clean up deprecated nova::metadata::enabled_api,MERGED,2021-11-03 12:17:23.000000000,2021-11-03 22:36:36.000000000,2021-11-03 22:35:18.000000000,8,16,0,816499,0e978aa85384f346e24e92fcc4938d9837a15da9,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Clean up deprecated nova::metadata::enabled_api

... because it was deprecated during Train and has nad no effect since
then[1]

[1] 919a4ce5a9942393403804635676e493420117f3

Change-Id: I97094f35c5ed2bd734051f082b9eb1d93c4a632c
"
openstack%2Fpuppet-keystone~master~I806ef6ce1c1674ffa9b07b20965cffd3b7806817,openstack/puppet-keystone,master,,I806ef6ce1c1674ffa9b07b20965cffd3b7806817,Refactor dependency management of apache,MERGED,2021-11-03 03:00:44.000000000,2021-11-03 22:36:06.000000000,2021-11-03 22:36:06.000000000,1,24,1,816430,651044e4ff84e08c020352e75a1b72d7cd9de24e,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Refactor dependency management of apache

This change simplifies how we manage dependency of package, config
and service resource of httpd service.

- Use keystone-service tag to enforce service ordering following
  the other modules

- Do not strictly fit each resources to our dependency steps to
  reduce amount of our own definition.

Change-Id: I806ef6ce1c1674ffa9b07b20965cffd3b7806817
"
openstack%2Fopenstack-helm-infra~master~I6baa9ece474f9c937fe9bce2231ef500562e0406,openstack/openstack-helm-infra,master,,I6baa9ece474f9c937fe9bce2231ef500562e0406,Fix Python exceptions,MERGED,2021-10-29 08:40:57.000000000,2021-11-03 22:35:00.000000000,2021-11-03 22:33:24.000000000,4,3,4,815943,6d808ceb47d1a8124615cdd0f87614145bb03e56,17,5,2,3,34017,jayonlau,lau,"Fix Python exceptions

If thread launch_cluster_Monitor() and launch_leader_election() operates on the configmap at the same time, Will cause a error 'Exception in thread ""Thread-1""'.
This error will cause the thread to get stuck. Configmap will not be updated and the error ""data too old"" will be reported.
Just passing kubernetes_API exceptions is not enough, all are more appropriate.

Change-Id: I6baa9ece474f9c937fe9bce2231ef500562e0406
"
openstack%2Fpuppet-keystone~master~I370b14aded25efa06874de41e39a55783e72f5e8,openstack/puppet-keystone,master,apache-ssl,I370b14aded25efa06874de41e39a55783e72f5e8,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 02:49:56.000000000,2021-11-03 22:33:20.000000000,2021-11-03 22:31:54.000000000,13,2,1,816429,93c5d0a4a747df3d52475d5fa74ee93c5c82bac7,9,3,1,2,9816,Takashi Kajinami,kajinamit,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I370b14aded25efa06874de41e39a55783e72f5e8
"
openstack%2Fpuppet-horizon~stable%2Fvictoria~Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f,openstack/puppet-horizon,stable/victoria,puppet-horizon-dashboards-stable/victoria,Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f,Wallaby and older: Use 'UNSET' to remove heat dashboard parameters,MERGED,2021-11-02 12:04:50.000000000,2021-11-03 22:26:56.000000000,2021-11-03 22:26:56.000000000,7,4,0,816330,d2fef29e6098bd958e78073ec267230248e3eaf9,7,3,1,3,9816,Takashi Kajinami,kajinamit,"Wallaby and older: Use 'UNSET' to remove heat dashboard parameters

The change 655e0df25e40b401d2daa5d673a416215ccd17b7 introduced
the logic to remove the enable_user_pass parameter from the root
local_settings using 'undef' but it turned out we can't set any
parameter to 'undef' using hieradata because setting undef results in
using the default, which is 'true'.

This introduces usage of 'UNSET', which can be defined using hieradata
mechanism.

Change-Id: Ibda1f705984426c3eeb6846e6df6ad2c6ccc5e7f
(cherry picked from commit 8437bc4f341e8ec584c32bc50a1d9301b39ed1f1)
"
openstack%2Fpuppet-barbican~master~I0e802f714405a2dda6ead11be70090a8d754b059,openstack/puppet-barbican,master,apache-ssl,I0e802f714405a2dda6ead11be70090a8d754b059,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 02:40:14.000000000,2021-11-03 22:20:23.000000000,2021-11-03 22:18:36.000000000,14,3,1,816425,90694cd6745feecb00aaf929c48a3e0bff8e69d1,10,3,2,2,9816,Takashi Kajinami,kajinamit,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I0e802f714405a2dda6ead11be70090a8d754b059
"
openstack%2Fneutron~stable%2Fvictoria~Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f,openstack/neutron,stable/victoria,bug/1946479-stable/xena-stable/wallaby-stable/victoria,Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f,[OVN Migration] Remove trunk's subports from the nodes,MERGED,2021-10-26 10:32:02.000000000,2021-11-03 22:16:17.000000000,2021-11-03 22:10:26.000000000,3,0,0,815434,4adf4086586b653bd97d58bf0c11fc37b5b6fa1e,10,3,1,1,11975,Slawek Kaplonski,slaweq,"[OVN Migration] Remove trunk's subports from the nodes

After migration from ML2/OVS to ML2/OVN trunk subports which were created
by the neutron-ovs-agent to connect br-int with trunk bridges (tbr-)
aren't needed anymore and should be deleted.

Closes-Bug: #1946479
Change-Id: Ib1e3b78597ebdde1aa9d2b242e2005a05a7db89f
(cherry picked from commit bf6831e0d2ad33ff751f06d568abe6cedff4d717)
"
openstack%2Fopenstacksdk~master~Icd786e89aba5b593feee165226010b25f8627efd,openstack/openstacksdk,master,remove-keystone-admin-endpoint,Icd786e89aba5b593feee165226010b25f8627efd,Keep creating keystone admin endpoint for heat,MERGED,2021-02-24 09:23:13.000000000,2021-11-03 22:16:06.000000000,2021-11-03 22:10:22.000000000,2,0,4,777343,9ed215d4443c08167117144e0ee938b418bf56c2,25,5,3,1,13252,Dr. Jens Harbott,jrosenboom,"Keep creating keystone admin endpoint for heat

Heat still depends on an keystone admin endpoint being present although
it has no functional difference anymore from the other endpoints with the
v3 API. Make devstack create one.

Change-Id: Icd786e89aba5b593feee165226010b25f8627efd
"
openstack%2Fpuppet-nova~master~I44a27f1f44b4d021554a3665129e848518bc87f4,openstack/puppet-nova,master,,I44a27f1f44b4d021554a3665129e848518bc87f4,Remove deprecated oslo.middleware options from nova::metadata,MERGED,2021-11-03 12:14:02.000000000,2021-11-03 22:16:01.000000000,2021-11-03 22:14:21.000000000,8,20,0,816497,f533a5e1cac8bc827639b27a6b26dd47f7812dd4,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Remove deprecated oslo.middleware options from nova::metadata

... because these were deprecated during Train and has had no effect
since then[1].

[1] 7c1717af69d2659703833e9fefe9af86664d2e29

Change-Id: I44a27f1f44b4d021554a3665129e848518bc87f4
"
openstack%2Fnova~stable%2Fwallaby~I30d30a772475cb82d0fd088f14a54a35646bd1dc,openstack/nova,stable/wallaby,bug/1942345,I30d30a772475cb82d0fd088f14a54a35646bd1dc,Parse alias from domain hostdev,MERGED,2021-09-08 12:00:42.000000000,2021-11-03 22:16:00.000000000,2021-11-03 22:10:16.000000000,33,3,3,807767,0cd4ef2dcd482e6ac2f86a345e0874970cce0bdd,32,5,1,3,9708,Balazs Gibizer,gibi,"Parse alias from domain hostdev

In I16e7df6932bb7dff243706ee49338ba6b3782085 we missed that
LibvirtConfigGuestHostdevPCI is not a child class of
LibvirtConfigGuestInterface and therefore we missed parsing out the
alias field from the domain xml for hostdevs. The new libvirt driver
device detach logic[1] uses the alias as the identifier towards libvirt
so now hostdevs cannot be detached. This patch parses out the alias
field to fix the issue.

Closes-Bug: #1942345
Related-Bug: #1882521

[1] https://review.opendev.org/q/topic:bug/1882521

Change-Id: I30d30a772475cb82d0fd088f14a54a35646bd1dc
(cherry picked from commit b67b928c381511f6101778ab50f281ecd689d283)
"
openstack%2Fpuppet-mistral~master~Id46a725b267a14e74d5c0953aacc56d64c81daaf,openstack/puppet-mistral,master,apache-ssl,Id46a725b267a14e74d5c0953aacc56d64c81daaf,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 11:58:08.000000000,2021-11-03 22:07:04.000000000,2021-11-03 22:05:42.000000000,14,3,0,816492,55a69c92bdac1e3a0b2294103460ba8cc8a9b8ad,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: Id46a725b267a14e74d5c0953aacc56d64c81daaf
"
openstack%2Fpuppet-gnocchi~master~Ie2420118f487788a4437c030e374917c70465835,openstack/puppet-gnocchi,master,apache-ssl,Ie2420118f487788a4437c030e374917c70465835,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 02:47:28.000000000,2021-11-03 22:00:57.000000000,2021-11-03 21:59:29.000000000,14,3,1,816427,b1e2d280acec5198c92b948657cc8f23029a4ffe,9,3,1,2,9816,Takashi Kajinami,kajinamit,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: Ie2420118f487788a4437c030e374917c70465835
"
openstack%2Fnova~master~I605f0e40417fe9b0a383cc8b3fefa1325f9690d9,openstack/nova,master,,I605f0e40417fe9b0a383cc8b3fefa1325f9690d9,api: enable oslo.reports when using uWSGI,MERGED,2021-09-24 14:30:15.000000000,2021-11-03 21:59:00.000000000,2021-11-03 21:57:17.000000000,41,6,13,810922,46401ef6665d473b51a781a566a29b7b24eb711f,43,6,6,3,8543,Lucian Petrut,plucian,"api: enable oslo.reports when using uWSGI

At the moment, oslo.reports is enabled when running nova-api
standalone, but not when using uWSGI.

We're now updating the uwsgi entry point as well to include the
oslo.reports hook, which is extremely helpful when debugging
deadlocks.

Change-Id: I605f0e40417fe9b0a383cc8b3fefa1325f9690d9
"
openstack%2Fpuppet-manila~master~I52810b8340912ccb12b522d8837128bc78907b57,openstack/puppet-manila,master,apache-ssl,I52810b8340912ccb12b522d8837128bc78907b57,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 11:56:37.000000000,2021-11-03 21:51:08.000000000,2021-11-03 21:49:29.000000000,14,3,0,816490,6653fe35c0967435b3ee25034e034dffc44bd4eb,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I52810b8340912ccb12b522d8837128bc78907b57
"
openstack%2Fkolla-ansible~master~I2c131463eaf1c51eb8768f6d90e9697c77a7833b,openstack/kolla-ansible,master,bug/1844710,I2c131463eaf1c51eb8768f6d90e9697c77a7833b,docs: Parameterize kolla-ansible version and branch,MERGED,2021-10-21 17:56:34.000000000,2021-11-03 21:17:07.000000000,2021-10-28 11:17:41.000000000,41,4,38,815043,28b3b83cb202c132884345bc1be8314e22a9cc8e,42,4,6,2,29880,Adrian Andreias,adrian-fleio,"docs: Parameterize kolla-ansible version and branch

Implement simple global variables system in docs and add global variables
KOLLA_OPENSTACK_RELEASE, KOLLA_ANSIBLE_MAJOR_VERSION  and
KOLLA_BRANCH_NAME.

Closes-Bug: #1844710
Change-Id: I2c131463eaf1c51eb8768f6d90e9697c77a7833b
Signed-off-by: Adrian Andreias <adrian@fleio.com>
"
openstack%2Fpuppet-cloudkitty~master~I24a692633133db5b453f65accf40f87687bec90e,openstack/puppet-cloudkitty,master,apache-ssl,I24a692633133db5b453f65accf40f87687bec90e,Prepare to update default of <service>::wsgi::apache::ssl,MERGED,2021-11-03 13:16:35.000000000,2021-11-03 21:06:34.000000000,2021-11-03 21:04:17.000000000,14,3,0,816503,6e0ecf4363d8ebcdf91e7f3749486affa2d4d78f,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Prepare to update default of <service>::wsgi::apache::ssl

Currently the <service>::wsgi::apache::ssl parameters have inconsistent
default values. Some parameters default to true while the other default
to false.

Based on the following points, false is considered to be the more
reasonable default.
 - Usage of SSL is optional and is not always required
 - There are other methods(like load-balancer) to implement SSL
   termination
 - Enabling SSL doesn't work with the default values currently
   defined, and requires additional parameters like ssl_cert.
 - false is the default value defined in the base implementation in
   puppet-openstacklib.

This change is the preparation to change the default value, and
introduces a warning message to make users aware of the future change.

Change-Id: I24a692633133db5b453f65accf40f87687bec90e
"
openstack%2Fnova~master~I012dcf63306bae624dc4f66aae6c6d96a20d4327,openstack/nova,master,bug/1946339,I012dcf63306bae624dc4f66aae6c6d96a20d4327,Prevent leaked eventlets to send notifications,MERGED,2021-10-14 16:29:16.000000000,2021-11-03 20:51:47.000000000,2021-11-03 20:49:13.000000000,122,2,7,814036,61fc81a6761d34afdfc4a6d1c4c953802fd8a179,19,7,1,3,9708,Balazs Gibizer,gibi,"Prevent leaked eventlets to send notifications

In out functional tests we run nova services as eventlets. Also those
services can spawn there own eventlets for RPC or other parallel
processing. The test case executor only sees and tracks the main
eventlet where the code of the test case is running. When that is
finishes the test executor considers the test case to be finished
regardless of the other spawned eventlets. This could lead to leaked
eventlets that are running in parallel with later test cases.

One way that it can cause trouble is via the global variables in
nova.rpc module. Those globals are re-initialized for each test case so
they are not directly leaking information between test cases. However if
a late eventlet calls nova.rpc.get_versioned_notifier() it will get a
totally usable FakeVersionedNotifier object regardless of which test
case this notifier is belongs to or which test case the eventlet belongs
to. This way the late eventlet can send a notification to the currently
running test case and therefore can make it fail.

The current case we saw is the following:

1) The test case
  nova.tests.functional.test_servers.ServersTestV219.test_description_errors
  creates a server but don't wait for it to reach terminal state (ACTIVE
  / ERROR). This test case finishes quickly but leaks running eventlets
  in the background waiting for some RPC call to return.
2) As the test case finished the cleanup code deletes the test case
   specific setup, including the DB.
3) The test executor moves forward and starts running another test case
4) 60 seconds later the leaked eventlet times out waiting for the RPC
   call to return and tries doing things, but fails as the DB is already
   gone. Then it tries to  report this as an error notification. It calls
   nova.rpc.get_versioned_notifier() and gets a fresh notifier that is
   connected to the currently running test case. Then emits the error
   notification there.
5) The currently running test case also waits for an error notification
   to be triggered by the currently running test code. But it gets the
   notification form the late eventlet first. As the content of the
   notification does not match with the expectations the currently
   running test case fails. The late eventlet prints a lot of
   error about the DB being gone making the troubleshooting pretty hard.

This patch proposes a way to fix this by marking each eventlet at spawn
time with the id of the test case that was directly or indirectly
started it.

Then when the NotificationFixture gets a notification it compares the
test case id stored in the calling eventlet with the id of the test case
initialized the NotificationFixture. If the two ids do not match then
the fixture ignores the notification and raises an exception to the
caller eventlet to make it terminate.

Change-Id: I012dcf63306bae624dc4f66aae6c6d96a20d4327
Closes-Bug: #1946339
"
openstack%2Fpbr~master~I293f59b5074a38c78adffe580de2f1533bb01ce7,openstack/pbr,master,,I293f59b5074a38c78adffe580de2f1533bb01ce7,Add a PEP517 interface,MERGED,2021-06-24 13:03:33.000000000,2021-11-03 20:31:30.000000000,2021-11-03 20:29:28.000000000,140,1,13,797898,09ee15341014fc0e3bb8a7c3b06a3fa912cfad38,30,7,6,5,2,Monty Taylor,mordred,"Add a PEP517 interface

pep517 defines a new module method of specifying build backends.
To allow pbr to exist in this world, we should define the interface
that's needed. For this to be used, one will put:

  [build-system]
  requires = [""pbr>=5.7.0"", ""setuptools>=36.6.0"", ""wheel""]
  build-backend = ""pbr.build""

Into pyproject.toml - and the pep517 interface will be used.

This doesn't really change anything else - it just makes us support this.
So by itself this commit isn't SUPER helpful. But maybe let's take baby
steps with something this prone to strife, yeah?

After this we can start teasing some things apart and doing our
own things directly.

Co-Authored-By: Clark Boylan <clark.boylan@gmail.com>
Change-Id: I293f59b5074a38c78adffe580de2f1533bb01ce7
"
openstack%2Fpbr~master~I1f081d29d62c905c1bb1abee5402b0990c83e948,openstack/pbr,master,,I1f081d29d62c905c1bb1abee5402b0990c83e948,PBR package testing improvements,MERGED,2021-11-03 17:06:07.000000000,2021-11-03 20:06:24.000000000,2021-11-03 20:04:43.000000000,5,3,0,816539,8c0d5c314108c09bbb3004d608a5a95bd81b8820,8,3,1,1,4146,Clark Boylan,cboylan,"PBR package testing improvements

We simplify virtualenv setup for PBR package installation testing by
switching to a simple file path for the PBR installation rather than a
full url with egg specifier. The egg specifer isn't necessary and
neither is the url and simpler is easier to understand.

We also add the verbose flag to the pip installations of tools into that
virtualenv to better understand problems when they occur.

Finally we add the option to skip writing package files if their
contents are empty. This allows us to ensure that we can omit certain
files which will be useful for the next change.

Change-Id: I1f081d29d62c905c1bb1abee5402b0990c83e948
"
openstack%2Fdevstack~master~I93ea5e1fe411cbeba27fee87d6fc25120689328d,openstack/devstack,master,,I93ea5e1fe411cbeba27fee87d6fc25120689328d,Convert keystone install to use system-scoped tokens,ABANDONED,2021-10-18 22:02:02.000000000,2021-11-03 19:57:10.000000000,,41,1,0,814495,daea1f3a561132275b09c6513696fb29f9d83c39,5,1,2,6,5046,Lance Bragstad,ldbragst,"Convert keystone install to use system-scoped tokens

Change-Id: I93ea5e1fe411cbeba27fee87d6fc25120689328d
"
openstack%2Fnova~master~I781875022d37d2c0626347f42c87707a29a9ab21,openstack/nova,master,bp/remove-sqlalchemy-migrate,I781875022d37d2c0626347f42c87707a29a9ab21,db: Remove unused build_requests columns,MERGED,2021-10-01 14:34:34.000000000,2021-11-03 19:56:07.000000000,2021-11-03 19:52:36.000000000,81,32,2,812145,9657297dd6c63e7a1e0c84c3e943b26f1795d388,24,3,2,3,15334,Stephen Finucane,sfinucan,"db: Remove unused build_requests columns

These fields were never used in the API database. They can be removed
now, some years after originally intended.

Change-Id: I781875022d37d2c0626347f42c87707a29a9ab21
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~Ib3073d7f595c8927532b7c49fc7e5ffe80d508b9,openstack/nova,master,bug/1940812,Ib3073d7f595c8927532b7c49fc7e5ffe80d508b9,Avoid unbound instance_uuid var during delete,MERGED,2021-08-23 09:01:14.000000000,2021-11-03 19:54:28.000000000,2021-11-03 19:51:32.000000000,34,4,6,805605,14e43f385e6d243b6efd11a777d082e63b66367c,38,4,3,2,9708,Balazs Gibizer,gibi,"Avoid unbound instance_uuid var during delete

The patch I03cf285ad83e09d88cdb702a88dfed53c01610f8 fixed most of the
possible cases for this to happen but missed one. An early enough
exception during _delete() can cause that the instance_uuid never gets
defined but then we try to use it during the finally block. This patch
moves the saving of the instance_uuid to the top of the try block to
avoid the issue.

Change-Id: Ib3073d7f595c8927532b7c49fc7e5ffe80d508b9
Closes-Bug: #1940812
Related-Bug: #1914777
"
openstack%2Fnova~master~I655f5144cbfa834ee089c474c5caa3cf8140354f,openstack/nova,master,bp/qos-minimum-guaranteed-packet-rate,I655f5144cbfa834ee089c474c5caa3cf8140354f,Reno for qos-minimum-guaranteed-packet-rate,MERGED,2021-08-18 15:37:57.000000000,2021-11-03 19:51:53.000000000,2021-11-03 19:51:53.000000000,17,0,11,805046,9c2cb1fd4ff141da04c62943c5690a55e7c77f06,66,6,13,1,9708,Balazs Gibizer,gibi,"Reno for qos-minimum-guaranteed-packet-rate

As a final patch for the series this adds release notes for the complete
feature.

Change-Id: I655f5144cbfa834ee089c474c5caa3cf8140354f
Implements: qos-minimum-guaranteed-packet-rate
"
openstack%2Ftripleo-docs~master~Ie438e4e69f13fe8fd59f7ead1cf0476e5cbe26a4,openstack/tripleo-docs,master,,Ie438e4e69f13fe8fd59f7ead1cf0476e5cbe26a4,Remove clouds.yaml directory during standalone cleanup,MERGED,2021-07-08 01:56:22.000000000,2021-11-03 19:43:13.000000000,2021-11-03 19:41:40.000000000,3,1,0,799942,71f0de0b02a3f83b3b756784316e78fc1591cdcb,8,3,1,1,7144,James Slagle,slagle,"Remove clouds.yaml directory during standalone cleanup

Adds commands to delete clouds.yaml directory (from both /etc/openstack
and ~/.config/openstack) to the standalone cleanup instructions.

Change-Id: Ie438e4e69f13fe8fd59f7ead1cf0476e5cbe26a4
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Ftripleo-ansible~master~I34aeb3ad593378257c21bdf3acfa12b5c45322df,openstack/tripleo-ansible,master,,I34aeb3ad593378257c21bdf3acfa12b5c45322df,DNM: WIP: working on some cert repair playbooks for octavia,ABANDONED,2021-08-20 17:30:42.000000000,2021-11-03 19:36:12.000000000,,367,0,0,805442,ff64065dbd15adf838013c92736ea7dd0e95a6c8,13,3,5,2,6681,Brent Eagles,beagles,"DNM: WIP: working on some cert repair playbooks for octavia

Very WIP and it's not clear where we are going to put them when they
are ready.

Change-Id: I34aeb3ad593378257c21bdf3acfa12b5c45322df
"
openstack%2Fkolla~master~I461f598bca6606f1d2939e385bb7befe2b792aa6,openstack/kolla,master,,I461f598bca6606f1d2939e385bb7befe2b792aa6,Remove InfluxDB data source Grafana plugin,MERGED,2021-10-05 13:55:38.000000000,2021-11-03 19:30:26.000000000,2021-11-03 11:55:02.000000000,5,1,4,812505,8c092ac5c6273f400d8b488f0fcce756ca15eaa3,14,4,2,2,32657,Piotr Parczewski,piotrp,"Remove InfluxDB data source Grafana plugin

Grafana has now native support for configuring Influxdb data sources.
Plugin has been defunct anyway since Grafana requires it to be signed.

Change-Id: I461f598bca6606f1d2939e385bb7befe2b792aa6
"
openstack%2Ftripleo-common~master~I242763f4808e2ed0ea467a769ac26275529dbad2,openstack/tripleo-common,master,,I242763f4808e2ed0ea467a769ac26275529dbad2,Correct package name for ceilometermiddleware for swift,ABANDONED,2019-10-11 15:36:48.000000000,2021-11-03 19:26:41.000000000,,2,7,2,688150,c8571e5f810d171d4f096bdebcabeea01ca65591,8,7,1,1,28186,shreshtha joshi,shrjoshi,"Correct package name for ceilometermiddleware for swift

Drop this as swift is python3

Change-Id: I242763f4808e2ed0ea467a769ac26275529dbad2
"
openstack%2Fnova-specs~master~I2530f25b32567a52eeb9b72dcc4df7c2f62c8945,openstack/nova-specs,master,bp/remove-tenant-id,I2530f25b32567a52eeb9b72dcc4df7c2f62c8945,Re-propose Remove tenant_id,MERGED,2021-09-19 06:08:02.000000000,2021-11-03 19:26:19.000000000,2021-11-03 19:24:10.000000000,252,0,2,809939,682dc6ed0c9a6188bf9528f66f4ef515309f06c2,8,6,1,1,26458,Brin Zhang,zhangbailin,"Re-propose Remove tenant_id

The blueprint proposes to remove the API interface that uses
``tenant_id`` and replace it with ``project_id``, and changes
tenant to project in all docs, policies and code.

Part of blueprint remove-tenant-id

Change-Id: I2530f25b32567a52eeb9b72dcc4df7c2f62c8945
"
openstack%2Ftripleo-quickstart~master~Ide19593c01f8a5b15421d681fc28cde06c08870d,openstack/tripleo-quickstart,master,,Ide19593c01f8a5b15421d681fc28cde06c08870d,WIP enable smoke tests for octavia scenerio,NEW,2020-12-14 09:12:59.000000000,2021-11-03 19:24:35.000000000,,2,0,3,766900,4adad59b7ebeac898bcdb9e91af9c85b711df018,9,2,2,1,29244,Gregory Thiemonge,gthiemonge,"WIP enable smoke tests for octavia scenerio

Change-Id: Ide19593c01f8a5b15421d681fc28cde06c08870d
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~If46a83e5f476ab8ed553b67b624c780a21ee50a5,openstack/tripleo-heat-templates,stable/victoria,,If46a83e5f476ab8ed553b67b624c780a21ee50a5,Add SwiftHashPrefix parameter,ABANDONED,2021-01-06 11:46:42.000000000,2021-11-03 19:23:19.000000000,,13,0,0,769507,caa40923c31a202325a1343d5c44793bbbbb8ad7,17,4,2,2,30095,Michele Valsecchi,mvalsecc,"Add SwiftHashPrefix parameter

Adds a new parameter 'SwiftHashPrefix' to allow swift
to have its hash_prefix parameter set.

Change-Id: If46a83e5f476ab8ed553b67b624c780a21ee50a5
Story: 2008411
Related-RHBZ: #1903901
(cherry picked from commit 0e1c9618b98a0780362ab6761c3aab058dadc7d1)
"
openstack%2Fdesignate-dashboard~stable%2Ftrain~I8287f3f8879592b385852c83007d4b46a61a55c7,openstack/designate-dashboard,stable/train,bug/1867769,I8287f3f8879592b385852c83007d4b46a61a55c7,Add CAA record type support,ABANDONED,2020-03-10 07:42:08.000000000,2021-11-03 19:05:34.000000000,,4,2,0,712021,89eedec2ab50b960a9fc9c8fc68e5e9e69f75d04,14,6,2,1,30442,Alexandros Soumplis,soumplis,"Add CAA record type support

This commit adds the CAA record type in the list of editable record
types of the Designate Dashboard. This fixes existing CAA records being
shown without a record type, and allows users to create and update
CAA records.

Change-Id: I8287f3f8879592b385852c83007d4b46a61a55c7
Closes-Bug: #1867769
Co-Authored-By: Alexandros Soumplis <soumplis@admin.grnet.gr>
Signed-off-by: Aggelos Kolaitis <akolaitis@admin.grnet.gr>
(cherry picked from commit f4cf36e57f04127d88f507f7f2d3df3c3e53a6c2)
"
openstack%2Fdesignate-dashboard~stable%2Fstein~I8287f3f8879592b385852c83007d4b46a61a55c7,openstack/designate-dashboard,stable/stein,,I8287f3f8879592b385852c83007d4b46a61a55c7,Add CAA record type support,ABANDONED,2020-03-10 07:42:32.000000000,2021-11-03 19:05:17.000000000,,4,2,0,712022,c68a40c0cd62624dbadbb8dcb0f99e16e969bf09,10,7,1,1,30442,Alexandros Soumplis,soumplis,"Add CAA record type support

This commit adds the CAA record type in the list of editable record
types of the Designate Dashboard. This fixes existing CAA records being
shown without a record type, and allows users to create and update
CAA records.

Change-Id: I8287f3f8879592b385852c83007d4b46a61a55c7
Signed-off-by: Aggelos Kolaitis <akolaitis@admin.grnet.gr>
(cherry picked from commit f4cf36e57f04127d88f507f7f2d3df3c3e53a6c2)
"
openstack%2Fdesignate-dashboard~stable%2Frocky~I6b027d1d1f235cf35e0ebb6876b0962a024fa460,openstack/designate-dashboard,stable/rocky,,I6b027d1d1f235cf35e0ebb6876b0962a024fa460,Limit npm jobs to nodeset: ubuntu-xenial,ABANDONED,2019-12-16 16:36:02.000000000,2021-11-03 19:04:07.000000000,,2,0,0,699241,f2f95aafd865c236a10d435c3f47adfdc531158b,11,3,1,1,8099,Graham Hayes,graham,"Limit npm jobs to nodeset: ubuntu-xenial

Change-Id: I6b027d1d1f235cf35e0ebb6876b0962a024fa460
Signed-off-by: Graham Hayes <gr@ham.ie>
"
openstack%2Fopenstack-helm~master~Idb2a7aeb202fe29fc528ba0dde987e7e0ee65a95,openstack/openstack-helm,master,,Idb2a7aeb202fe29fc528ba0dde987e7e0ee65a95,Add check for number of computes in cell-setup-init script,MERGED,2021-10-27 15:53:06.000000000,2021-11-03 19:02:19.000000000,2021-11-03 18:58:52.000000000,73,6,5,815700,1d7f880c4274b0cf4192f1f7ba77e2642273fe03,31,7,7,5,33282,Huy Tran,ht095u,"Add check for number of computes in cell-setup-init script

This PS further enhances [1] to handle case where present
computes are up, but the number of present computes is not
equal to total number of expected computes.

[1] https://review.opendev.org/c/openstack/openstack-helm/+/815086

Change-Id: Idb2a7aeb202fe29fc528ba0dde987e7e0ee65a95
"
openstack%2Ftripleo-common~stable%2Ftrain~If4e2927a43d41db76951cfe7d21dd686c781dd77,openstack/tripleo-common,stable/train,,If4e2927a43d41db76951cfe7d21dd686c781dd77,"Revert ""Add a retry to the instropection waiting workbook""",ABANDONED,2021-10-19 19:57:54.000000000,2021-11-03 18:54:36.000000000,,0,3,2,814653,ab3da62d13ca5625e47ae04a201948c348dc7d73,8,6,1,1,30002,Douglas Viroel,dviroel,"Revert ""Add a retry to the instropection waiting workbook""

This reverts commit 8bce20d3d4efb6a47e6a3da07aefa1ac3dbc660b.

Reason for revert: investigate if this change is affecting the issue reported at https://bugs.launchpad.net/tripleo/+bug/1947403

Change-Id: If4e2927a43d41db76951cfe7d21dd686c781dd77
"
