id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I24bea131cc949888518994a3aa08c200d579cb7d,openstack/python-tripleoclient,stable/wallaby,cherrypick-bug/1958524-ciurj3s19i,I24bea131cc949888518994a3aa08c200d579cb7d,Support Deployed Ceph container push_destination,MERGED,2022-02-09 19:33:06.000000000,2022-02-14 23:02:55.000000000,2022-02-14 22:57:59.000000000,131,10,43,828561,192802ea5806093dca48c793827eae0bd2830e09,18,3,3,4,18002,John Fulton,fultonj,"Support Deployed Ceph container push_destination

When 'openstack overcloud deploy ceph' is passed
--container-image-prepare with a file with a
push_destination then, then the resulting image
parameters should be modified to refer to the
images in push_destination instead of namespace.

In order to support push_destination the overcloud
/etc/containers/registries.conf and /etc/hosts must
be updated so that the undercloud hostname can be
resolved and so that podman will pull containers
from it as a registry. Calls to tripleo-ansible
roles tripleo_hosts_entries and tripleo_podman
are thus required.

Conflicts:
- tripleoclient/v2/overcloud_ceph.py
- tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py

Closes-Bug: 1958524
Depends-On: Ibaeb1249ae02651cbefba75d0912da205880a495
Change-Id: I24bea131cc949888518994a3aa08c200d579cb7d
(cherry picked from commit 3aae1ea80891539b2734f436929c2ae8056cfc61)
"
openstack%2Fpuppet-tripleo~master~I2e8174d3c4df4165c3420a31785cb280e4065c17,openstack/puppet-tripleo,master,c8_teardown_master,I2e8174d3c4df4165c3420a31785cb280e4065c17,Move zuul jobs layout to centos9 only for master branch,MERGED,2022-02-07 07:41:30.000000000,2022-02-14 22:58:17.000000000,2022-02-14 22:58:17.000000000,3,3,1,828076,052b0e670db1ef2e972ddd12638828c612a8d3f7,11,7,1,1,31075,Pooja Jadhav,pojadhav,"Move zuul jobs layout to centos9 only for master branch

See topic branch [1] for related reviews.

[1] https://review.opendev.org/q/topic:c8_teardown_master
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317

Change-Id: I2e8174d3c4df4165c3420a31785cb280e4065c17
"
openstack%2Ftripleo-operator-ansible~master~I78ecd0b7cbb1c9a2c91c5826017c9afcaf241f4e,openstack/tripleo-operator-ansible,master,c8_teardown_master,I78ecd0b7cbb1c9a2c91c5826017c9afcaf241f4e,Move zuul jobs layout to centos9 only for master branch,MERGED,2022-02-08 12:42:06.000000000,2022-02-14 22:58:15.000000000,2022-02-14 22:58:15.000000000,9,9,1,828296,20af773b168efab5002b503007f722ad24c10eab,10,6,1,1,20182,Bhagyashri Shewale,bhagyashris,"Move zuul jobs layout to centos9 only for master branch

See topic branch [1] for related reviews.

[1] https://review.opendev.org/q/topic:c8_teardown_master
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317

Change-Id: I78ecd0b7cbb1c9a2c91c5826017c9afcaf241f4e
"
openstack%2Ftripleo-heat-templates~master~I44b48d01c3f37652fcc79d9e9689981a543e02c5,openstack/tripleo-heat-templates,master,c8_teardown_master,I44b48d01c3f37652fcc79d9e9689981a543e02c5,Move zuul jobs layout to centos9 only for master branch,MERGED,2022-01-27 13:37:50.000000000,2022-02-14 22:58:12.000000000,2022-02-14 22:58:12.000000000,1,1,4,826670,cd7d101332fb3f4776819e04c54b21344e334b77,35,5,6,1,8449,Marios Andreou,marios,"Move zuul jobs layout to centos9 only for master branch

See topic branch [1] for related reviews.

[1] https://review.opendev.org/q/topic:c8_teardown_master
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317

Change-Id: I44b48d01c3f37652fcc79d9e9689981a543e02c5
"
openstack%2Ftripleo-upgrade~master~I257fe130ba68a5d475bbd9339e9320d86785fabb,openstack/tripleo-upgrade,master,c8_teardown_master,I257fe130ba68a5d475bbd9339e9320d86785fabb,Move zuul jobs layout to centos9 only for master branch,MERGED,2022-02-09 08:45:40.000000000,2022-02-14 22:58:10.000000000,2022-02-14 22:58:10.000000000,6,6,4,828484,acea992770065c092bd77ac3936bc49682b0488a,12,6,1,1,31075,Pooja Jadhav,pojadhav,"Move zuul jobs layout to centos9 only for master branch

See topic branch [1] for related reviews.

[1] https://review.opendev.org/q/topic:c8_teardown_master
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317

Change-Id: I257fe130ba68a5d475bbd9339e9320d86785fabb
"
openstack%2Fansible-role-tripleo-modify-image~master~I310aed164deece24fc2adbe197562ef66403abf1,openstack/ansible-role-tripleo-modify-image,master,c8_teardown_master,I310aed164deece24fc2adbe197562ef66403abf1,Move zuul jobs layout to centos9 only for master branch,MERGED,2022-02-09 08:51:44.000000000,2022-02-14 22:58:08.000000000,2022-02-14 22:58:08.000000000,5,5,3,828491,8360ef2d5d66d7a38c2cb333bedbf0edda00b2bf,14,7,1,1,31075,Pooja Jadhav,pojadhav,"Move zuul jobs layout to centos9 only for master branch

See topic branch [1] for related reviews.

[1] https://review.opendev.org/q/topic:c8_teardown_master
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317

Change-Id: I310aed164deece24fc2adbe197562ef66403abf1
"
openstack%2Ftripleo-quickstart-extras~master~If2dbc042c51e12b402e1742131bfb4242c92bbfe,openstack/tripleo-quickstart-extras,master,c8_teardown_master,If2dbc042c51e12b402e1742131bfb4242c92bbfe,Move zuul jobs layout to centos9 only for master branch,MERGED,2022-02-09 05:29:02.000000000,2022-02-14 22:58:06.000000000,2022-02-14 22:58:06.000000000,3,3,4,828456,09a8d7a3b12d8877f1168622463f0069161b8d1c,21,7,1,1,31075,Pooja Jadhav,pojadhav,"Move zuul jobs layout to centos9 only for master branch

See topic branch [1] for related reviews.

[1] https://review.opendev.org/q/topic:c8_teardown_master
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317

Change-Id: If2dbc042c51e12b402e1742131bfb4242c92bbfe
"
openstack%2Fneutron~master~I6230d2b7027dbfee66a6c637b9b2e4699f16c607,openstack/neutron,master,revive-neutron-fwaas,I6230d2b7027dbfee66a6c637b9b2e4699f16c607,Doc: add back neutron-fwaas lieutenant,MERGED,2022-02-09 14:07:00.000000000,2022-02-14 22:49:41.000000000,2022-02-14 22:47:56.000000000,2,0,1,828540,9cb06cff3083ec13c0c627d5492d5138cefd375e,10,6,1,1,8313,Lajos Katona,elajkat,"Doc: add back neutron-fwaas lieutenant

Add lieutenant to neutron-fwaas as Inspur arrived to help maintaining
and developing it.

Change-Id: I6230d2b7027dbfee66a6c637b9b2e4699f16c607
"
openstack%2Fnova~master~I9a4c9f7d5fb2440a157b8548c8c9e885b62cbdb4,openstack/nova,master,,I9a4c9f7d5fb2440a157b8548c8c9e885b62cbdb4,WIP Ironic - Reconcile compute host records on rebalance,ABANDONED,2021-11-10 18:42:43.000000000,2022-02-14 22:37:15.000000000,,92,9,3,817467,8a4e09706c98156ba1a772b8d5a3ad5d51ed026f,14,1,2,2,11655,Julia Kreger,jkreger,"WIP Ironic - Reconcile compute host records on rebalance

Closes-Bug: #1825876
Change-Id: I9a4c9f7d5fb2440a157b8548c8c9e885b62cbdb4
"
openstack%2Fcharm-guide~master~I135effb69f5112289dbe7891dc64fa32142b890d,openstack/charm-guide,master,lp1960644-ceph-commands,I135effb69f5112289dbe7891dc64fa32142b890d,Fix and improve Ceph commands,MERGED,2022-02-11 22:37:30.000000000,2022-02-14 22:29:46.000000000,2022-02-14 22:28:19.000000000,40,23,1,828931,7ea1ad6723eb5ceb96d0730c9f7fad311461824e,8,3,1,1,30561,Peter Matulis,pmatulis,"Fix and improve Ceph commands

Remove some contradictory logic.

Add some new ceph charm action commands.

Closes-Bug: #1960644
Change-Id: I135effb69f5112289dbe7891dc64fa32142b890d
"
openstack%2Fcharm-glance~master~Ife649defc9b765b433d7973ab31778f9cb1efdd9,openstack/charm-glance,master,bug/1905042,Ife649defc9b765b433d7973ab31778f9cb1efdd9,Add support for cinder storage backend,MERGED,2021-10-21 09:47:14.000000000,2022-02-14 22:27:12.000000000,2022-02-14 22:27:12.000000000,524,6,91,814882,c2f877a7d420363be6d9f2718d0ecbcb424ecd84,140,6,22,13,10366,Hemanth N,Hemanth,"Add support for cinder storage backend

Create new glance_api.conf template from Ussuri release to
use default_backend and enabled_backends configuration
parameters instead of deprecated stores, default_store
parameters.
Add new config option cinder-volume-types to specify the
volume types in cinder that can be used to store glance
images.
Add logic to update cinder in glance-api configurations
if cinder-volume-service relation is joined.

Also add two flags, cinder_http_retries and
cinder_state_transition_timeout

Closes-Bug: #1905042
Change-Id: Ife649defc9b765b433d7973ab31778f9cb1efdd9
"
openstack%2Fironic-python-agent-builder~master~Iedbecb6d9e51d3a511846b4b16adcdf6508426de,openstack/ironic-python-agent-builder,master,tinycore13,Iedbecb6d9e51d3a511846b4b16adcdf6508426de,Remove ussuri job,MERGED,2022-02-09 09:08:22.000000000,2022-02-14 22:22:42.000000000,2022-02-14 22:12:09.000000000,0,13,0,828495,578d27c1422473d174dbc01bf2a8ef8824df91ff,8,3,1,2,23851,Riccardo Pittau,elfosardo,"Remove ussuri job

Ussuri is EM, reducing CI commitment

Change-Id: Iedbecb6d9e51d3a511846b4b16adcdf6508426de
"
openstack%2Fironic~master~Idcedc851d75e95222c2c7ce8cb816a1b5a361285,openstack/ironic,master,fix-irmc-doc,Idcedc851d75e95222c2c7ce8cb816a1b5a361285,iRMC: Fix instructions for boot interface,MERGED,2022-02-09 03:06:02.000000000,2022-02-14 22:22:42.000000000,2022-02-14 22:08:48.000000000,2,2,3,828448,f4f76e7fd16e681b4fc68789b65ffbb85367f072,11,3,2,1,33828,ZhouHao,zhouhao3,"iRMC: Fix instructions for boot interface

At present, the boot interface pxe and irmc-pxe of the iRMC type machine
are based on PXE, not iPXE. Correct the wrong description.

Signed-off-by: Zhou Hao <zhouhao@fujitsu.com>
Change-Id: Idcedc851d75e95222c2c7ce8cb816a1b5a361285
"
openstack%2Fironic-python-agent-builder~master~Id607d7697c0aa8464b533047a4e5938648a0e25b,openstack/ironic-python-agent-builder,master,debian-current-stable,Id607d7697c0aa8464b533047a4e5938648a0e25b,Use debian current stable for dib,MERGED,2022-02-01 14:32:49.000000000,2022-02-14 22:17:14.000000000,2022-02-14 22:12:03.000000000,3,3,2,827301,8315c5d91fb50b6153601fbaa403073260c2a94a,9,3,1,2,23851,Riccardo Pittau,elfosardo,"Use debian current stable for dib

The current stable release for debian is bullseye, this patch switches
dib-based images to that version.

Change-Id: Id607d7697c0aa8464b533047a4e5938648a0e25b
"
openstack%2Fironic~master~I8a37efa0f222361f30ddb7fa621548685a40f961,openstack/ironic,master,jobs,I8a37efa0f222361f30ddb7fa621548685a40f961,Clean up jobs with legacy names,MERGED,2022-02-03 17:59:41.000000000,2022-02-14 22:13:53.000000000,2022-02-14 22:08:45.000000000,15,15,1,827752,f67bbeb9f6e45ff1d3b041fb622bb64e839e33ed,15,4,2,3,10239,Dmitry Tantsur,dtantsur,"Clean up jobs with legacy names

Not everyone on the team even knows what pxe_ipmitool used to mean :)
Furthermore, we don't need ""ipa"" in job names, everything uses IPA
for... even longer than pxe_ipmitool does not exist.

While here, one job was clearly meant to use BIOS boot, but it does not.

Change-Id: I8a37efa0f222361f30ddb7fa621548685a40f961
"
openstack%2Fironic-python-agent-builder~master~Idd9f77c7002026cbd97c78c23bb575009503ecdb,openstack/ironic-python-agent-builder,master,tinycore13,Idd9f77c7002026cbd97c78c23bb575009503ecdb,Build tinyipa on tinycore 13.x,MERGED,2022-01-31 15:48:49.000000000,2022-02-14 22:12:06.000000000,2022-02-14 22:12:06.000000000,16,12,1,827137,30415b17a9e74fff1e887503ba52df007e800585,17,3,5,5,23851,Riccardo Pittau,elfosardo,"Build tinyipa on tinycore 13.x

Change-Id: Idd9f77c7002026cbd97c78c23bb575009503ecdb
"
openstack%2Fironic-python-agent-builder~master~Ie63a6865f7609385f5710cc9fcc8bfda1fa46976,openstack/ironic-python-agent-builder,master,debian-current-stable,Ie63a6865f7609385f5710cc9fcc8bfda1fa46976,Update documentation on supported CentOS version,MERGED,2022-02-03 08:58:56.000000000,2022-02-14 22:12:05.000000000,2022-02-14 22:12:05.000000000,6,6,0,827605,462dced2617f53699b246ea382902fd311676491,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Update documentation on supported CentOS version

We don't support CentOS 8 anymore, only CentOS Stream 8

Change-Id: Ie63a6865f7609385f5710cc9fcc8bfda1fa46976
"
openstack%2Fcinder~master~I17fbbdd0e889c532c1ffd4b889cd523a9082afa7,openstack/cinder,master,add-lc-job,I17fbbdd0e889c532c1ffd4b889cd523a9082afa7,"DNM: add tox envs, CI job to check requirements",NEW,2021-09-20 22:49:11.000000000,2022-02-14 22:09:07.000000000,,68,108,2,810131,dab29d76d201aab30639635d3de950850b785919,77,1,4,4,5314,Brian Rosmaita,brian-rosmaita,"DNM: add tox envs, CI job to check requirements

Change-Id: I17fbbdd0e889c532c1ffd4b889cd523a9082afa7
"
openstack%2Felection~master~I2f16bf1845ab578d5b10fc0104a1ff0bdd97e084,openstack/election,master,openstack-helm,I2f16bf1845ab578d5b10fc0104a1ff0bdd97e084,Add Gage Hugo candidacy for OpenStack Helm,MERGED,2022-02-14 20:59:51.000000000,2022-02-14 22:04:44.000000000,2022-02-14 22:03:04.000000000,14,0,2,829131,ce195af7e2de43e56aad0ef184d809037751ac55,9,3,1,1,21420,Gage Hugo,ghugo,"Add Gage Hugo candidacy for OpenStack Helm

Change-Id: I2f16bf1845ab578d5b10fc0104a1ff0bdd97e084
"
openstack%2Felection~master~I8aabc67c8fa5df653492b0c2d8d4ccdefb633a5e,openstack/election,master,tc_z,I8aabc67c8fa5df653492b0c2d8d4ccdefb633a5e,Add TC candidacy for Kristi Nikolla for Z,MERGED,2022-02-14 20:07:02.000000000,2022-02-14 22:00:48.000000000,2022-02-14 21:58:30.000000000,34,0,2,829128,ea5417cf6b5bf41156d93395676da734c3696b5b,8,3,1,1,16465,Kristi Nikolla,knikolla,"Add TC candidacy for Kristi Nikolla for Z

Change-Id: I8aabc67c8fa5df653492b0c2d8d4ccdefb633a5e
"
openstack%2Felection~master~Ic9e8e3e061d824ca2e90774c9b267c473cc0d3a6,openstack/election,master,storlets-z,Ic9e8e3e061d824ca2e90774c9b267c473cc0d3a6,Adding Takashi Kajinami candidacy for Storlets PTL,MERGED,2022-02-14 17:00:28.000000000,2022-02-14 21:59:23.000000000,2022-02-14 21:57:47.000000000,19,0,2,829112,f4e6c1333ce09faf439c302ac7e545db8a95aeda,9,3,2,1,9816,Takashi Kajinami,kajinamit,"Adding Takashi Kajinami candidacy for Storlets PTL

Change-Id: Ic9e8e3e061d824ca2e90774c9b267c473cc0d3a6
"
openstack%2Felection~master~I4f52817a92da41af299d8635d156ea1346f74e3a,openstack/election,master,puppet-z,I4f52817a92da41af299d8635d156ea1346f74e3a,Adding Takashi Kajinami candidacy for Puppet OpenStack PTL,MERGED,2022-02-14 17:31:00.000000000,2022-02-14 21:57:49.000000000,2022-02-14 21:57:49.000000000,33,0,2,829117,ae87c0ee4c4bd5d28edb9a4c429be6d0c4145307,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Adding Takashi Kajinami candidacy for Puppet OpenStack PTL

Change-Id: I4f52817a92da41af299d8635d156ea1346f74e3a
"
openstack%2Felection~master~If55abf1a47b8d2ea95e4b6b26622f9ae98b83da7,openstack/election,master,,If55abf1a47b8d2ea95e4b6b26622f9ae98b83da7,Adding Michael Johnson candidacy for Designate,MERGED,2022-02-14 16:02:07.000000000,2022-02-14 21:53:37.000000000,2022-02-14 21:52:02.000000000,15,0,2,829065,28f6b9f88daa7fdcfb38e13400fde0903c4542b0,8,3,1,1,11628,Michael Johnson,johnsom,"Adding Michael Johnson candidacy for Designate

Change-Id: If55abf1a47b8d2ea95e4b6b26622f9ae98b83da7
"
openstack%2Fpuppet-ec2api~master~Ia9141906bdac3d9b32cdfd2255c87579d153b8a7,openstack/puppet-ec2api,master,paste-ini-sep,Ia9141906bdac3d9b32cdfd2255c87579d153b8a7,Allow customizing separator for api-paste.ini,MERGED,2022-02-12 16:36:09.000000000,2022-02-14 21:44:17.000000000,2022-02-14 21:42:52.000000000,10,0,1,828957,6b8356112ba5cfe68600acbdde53ccc09bc10c45,10,3,1,2,9816,Takashi Kajinami,kajinamit,"Allow customizing separator for api-paste.ini

The api-paste.ini accepts not only ""="" but also "":"" and some services
like Barbican have been using "":"" for their default api-paste.ini
files.

[composite:main]
use = egg:Paste#urlmap
/: barbican_version
/v1: barbican-api-keystone

This change allows users to use "":"" so that they can update the ini
files with keeping it consistent with the default fules

Depends-on: https://review.opendev.org/813614
Change-Id: Ia9141906bdac3d9b32cdfd2255c87579d153b8a7
"
openstack%2Fgovernance~master~I56eff178cd59ca1f40bedc45f12a9a888948e015,openstack/governance,master,formal-vote,I56eff178cd59ca1f40bedc45f12a9a888948e015,Switch Keystone to DPL,MERGED,2021-03-31 14:08:41.000000000,2022-02-14 20:34:57.000000000,2021-04-07 15:04:10.000000000,13,4,0,784102,48a02a308e73eb0c2fc57c758b23e1b1c25f66bb,15,8,1,1,16465,Kristi Nikolla,knikolla,"Switch Keystone to DPL

This patch switches Keystone to the distributed leadership model.

Change-Id: I56eff178cd59ca1f40bedc45f12a9a888948e015
"
openstack%2Fpython-designateclient~master~I4b84ac1a5d4f84da3a38e4e0cb0990a54c6044ef,openstack/python-designateclient,master,bp/designate-os-profiler,I4b84ac1a5d4f84da3a38e4e0cb0990a54c6044ef,Add profiling support to designateclient,MERGED,2021-02-02 06:54:53.000000000,2022-02-14 20:31:46.000000000,2022-02-14 20:30:09.000000000,7,0,6,773575,52e9ef4a4112ac5d4108b10c43472b384425a187,29,6,7,2,32919,kiran pawar,kpdev,"Add profiling support to designateclient

To be able to create profiling traces for Designate, client should
be able to send special HTTP header that contains trace info.

Don't worry no security issue here, trace information is signed by HMAC
key that is setted in api-paste.ini. So only person that knows HMAC key
is able to send proper header.

Main patch (in Designate) is:
https://review.opendev.org/c/openstack/designate/+/773574

Change-Id: I4b84ac1a5d4f84da3a38e4e0cb0990a54c6044ef
"
openstack%2Fdesignate~master~I2a3787b6428d679555a9add3a57ffe8c2112b6d3,openstack/designate,master,bp/designate-os-profiler,I2a3787b6428d679555a9add3a57ffe8c2112b6d3,Integrate OSprofiler and Designate,MERGED,2021-02-02 06:44:05.000000000,2022-02-14 20:30:48.000000000,2022-02-14 20:28:53.000000000,189,7,45,773574,9541a29761db75c4b7b24c216a311214696a0582,81,7,19,13,32919,kiran pawar,kpdev,"Integrate OSprofiler and Designate

*) Add osprofiler wsgi middleware

This middleware is used for 2 things:
1) It checks that person who want to trace is trusted and knows
secret HMAC key.
2) It start tracing in case of proper trace headers and add
first wsgi trace point, with info about HTTP request
*) Add initialization of osprofiler at start of serivce.

You should use python-designateclient with this patch:

https://review.opendev.org/#/c/773575

Run any command with --os-profile SECRET_KEY

  $ openstack zone create --email <email_id> <zone_name> \
    --os-profile SECRET_KEY
  # it will print <Trace ID>

Get pretty HTML with traces:

  $ osprofiler trace show --html <Trace ID> --connection-string \
   <connection_string> --out <output.html>
  e.g. --connection-string can be redis://localhost:6379

Note that osprofiler should be run from admin user name & tenant.

Implements: blueprint designate-os-profiler
Change-Id: I2a3787b6428d679555a9add3a57ffe8c2112b6d3
"
openstack%2Fglance~master~I7c24a1aa3545f3499a7a2ce30b73e2656666c764,openstack/glance,master,remove-six,I7c24a1aa3545f3499a7a2ce30b73e2656666c764,Remove final six usage,MERGED,2021-12-22 16:14:34.000000000,2022-02-14 20:07:27.000000000,2022-02-14 20:05:38.000000000,17,112,9,822740,33741138d92b7806700c843de9a885ae821db663,29,5,3,12,15334,Stephen Finucane,sfinucan,"Remove final six usage

We also update docs since guidance has necessarily changed here.

Change-Id: I7c24a1aa3545f3499a7a2ce30b73e2656666c764
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Frequirements~master~I759cea1cb71c3ec7471f6ecd771ee0a94253e4d2,openstack/requirements,master,new-release,I759cea1cb71c3ec7471f6ecd771ee0a94253e4d2,update constraint for python-neutronclient to new release 7.8.0,MERGED,2022-02-14 16:23:23.000000000,2022-02-14 20:07:01.000000000,2022-02-14 20:05:34.000000000,1,1,0,829093,eb3c3c2b34d655a64736bbf646a1d4c525e7e7d4,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-neutronclient to new release 7.8.0

meta: version: 7.8.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: LIU Yulong <i@liuyulong.me>
meta: release:Commit: LIU Yulong <i@liuyulong.me>
meta: release:Change-Id: I4e7645ea1acbab8a31bfd4b125eb53e7d073b521
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I759cea1cb71c3ec7471f6ecd771ee0a94253e4d2
"
openstack%2Fpuppet-openstack-integration~master~I05881459950c716430190ceba0813ac15f92da85,openstack/puppet-openstack-integration,master,cleanup,I05881459950c716430190ceba0813ac15f92da85,MySQL: Remove workaround for old mariadb-libs in CentOS7,MERGED,2022-02-13 03:51:57.000000000,2022-02-14 20:06:34.000000000,2022-02-14 20:06:34.000000000,0,10,0,828969,fc220e0a0824b62f74d74db047119bc5d4c48061,7,3,1,1,9816,Takashi Kajinami,kajinamit,"MySQL: Remove workaround for old mariadb-libs in CentOS7

This reverts the commit 3b6bc5bb3ee63cf23ae56cfbf7c102799f2480b4 , and
removes the workaround added by that change, because

- We no longer use CentOS 7 in CI

- The issue is supposed to have been fixed in a recent mariadb-libs
  package.

Change-Id: I05881459950c716430190ceba0813ac15f92da85
"
openstack%2Fpuppet-nova~master~I7fc60bf3ba35f270ab843df917d43e5deaf047fd,openstack/puppet-nova,master,,I7fc60bf3ba35f270ab843df917d43e5deaf047fd,Add wait_for_vif_plugged_event_during_hard_reboot,MERGED,2022-02-09 08:22:43.000000000,2022-02-14 20:00:46.000000000,2022-02-14 19:56:18.000000000,23,7,8,828470,84e565b1a04ce8d27a7621e88a0dbbc59fab982e,21,4,3,3,16137,Tobias Urdin,tobasco,"Add wait_for_vif_plugged_event_during_hard_reboot

Adds parameter for the Nova workaround that waits
for Neutron ML2 backend to sent vif plugged on
hard reboot.

Change-Id: I7fc60bf3ba35f270ab843df917d43e5deaf047fd
"
openstack%2Fpuppet-nova~master~I527aa84d52dd787169e38f81a1c2fde9f67a3046,openstack/puppet-nova,master,,I527aa84d52dd787169e38f81a1c2fde9f67a3046,nova_flavor: Refactor property setter,MERGED,2022-02-13 14:15:46.000000000,2022-02-14 20:00:29.000000000,2022-02-14 20:00:29.000000000,12,26,0,828976,f40bf357c0ce58a49e8daee00b5dc55da28b9565,7,3,1,1,9816,Takashi Kajinami,kajinamit,"nova_flavor: Refactor property setter

This change replaces redundant implementation of some property setters
by the common template.

Change-Id: I527aa84d52dd787169e38f81a1c2fde9f67a3046
"
openstack%2Fpuppet-nova~master~I9732ccbdafa79b11d8cb4955381794b922e16385,openstack/puppet-nova,master,,I9732ccbdafa79b11d8cb4955381794b922e16385,Remove unused str2hash,MERGED,2022-02-13 12:33:32.000000000,2022-02-14 20:00:26.000000000,2022-02-14 20:00:26.000000000,0,37,0,828974,599703b53040ad1e035965490fd321c6e14f67ba,10,4,2,2,9816,Takashi Kajinami,kajinamit,"Remove unused str2hash

Change-Id: I9732ccbdafa79b11d8cb4955381794b922e16385
"
openstack%2Fpuppet-nova~master~I9d81eff950a50a2139c874ecc426040bcc0a93d4,openstack/puppet-nova,master,,I9d81eff950a50a2139c874ecc426040bcc0a93d4,Ensure auth_endpoint is cleared by reset,MERGED,2022-02-12 03:13:46.000000000,2022-02-14 19:56:22.000000000,2022-02-14 19:56:22.000000000,1,0,2,828935,0ce7d9fe9e377df96a7a6e727735d69b79db3500,21,4,6,1,9816,Takashi Kajinami,kajinamit,"Ensure auth_endpoint is cleared by reset

Change-Id: I9d81eff950a50a2139c874ecc426040bcc0a93d4
"
openstack%2Fpuppet-nova~master~I611e3d0428674e7438fe15b276667f7b379d136e,openstack/puppet-nova,master,,I611e3d0428674e7438fe15b276667f7b379d136e,Fix missing update of property_hash,MERGED,2022-02-12 03:10:31.000000000,2022-02-14 19:56:20.000000000,2022-02-14 19:56:20.000000000,24,20,2,828934,60acc82c22d1edace44bffa8c1a9a6b23f739d25,20,4,6,6,9816,Takashi Kajinami,kajinamit,"Fix missing update of property_hash

When a resource is created, the :ensure parameter should be set to
'present' so that exists returns true. In addition, the whole hash
should be cleared when a resource is deleted, otherwise subsequent
access might look up stale values. This change ensures property_hash is
updated in create/destroy accordingly.

This change also fixes the incorrect handling of ""project"" property
in nova_flavor which is causing unexpected update.

Finally, the ignored unit tests are fixed, to test the above fixes.

Change-Id: I611e3d0428674e7438fe15b276667f7b379d136e
"
openstack%2Fpuppet-tempest~master~I0fd7481e09dbf897dab4a8d726a7d852d0e77a09,openstack/puppet-tempest,master,,I0fd7481e09dbf897dab4a8d726a7d852d0e77a09,Remove panko_available,MERGED,2022-02-14 02:57:41.000000000,2022-02-14 19:55:40.000000000,2022-02-14 19:53:40.000000000,4,7,0,828988,fcba2cf5fb658de21c0d822687a0b2325559d386,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Remove panko_available

... because Panko was retired during Xena cycle and the parameter was
deprecated then[1].

[1] d273aa3c564808f6d4f35da9e30dcf1e4cdb9ab1

Change-Id: I0fd7481e09dbf897dab4a8d726a7d852d0e77a09
"
openstack%2Fpuppet-tempest~master~Ic0501b6d53d0ce38fec45ce125bf184e89e87b24,openstack/puppet-tempest,master,,Ic0501b6d53d0ce38fec45ce125bf184e89e87b24,Remove img_dir parameter,MERGED,2022-02-14 00:43:25.000000000,2022-02-14 19:52:37.000000000,2022-02-14 19:51:04.000000000,7,47,0,828983,97cb83dfe92fceb3d4c4bd3d65bd9966399b80c6,10,3,2,3,9816,Takashi Kajinami,kajinamit,"Remove img_dir parameter

... because it was deprecated during Victoria cycle[1].

[1] dacf254b8e6a78f3e0456115a687361632135586

Change-Id: Ic0501b6d53d0ce38fec45ce125bf184e89e87b24
"
openstack%2Freleases~master~Ia2329fdf6142ca6b4a2c91acec7675b0fbba4dc2,openstack/releases,master,bugfix_inspector,Ia2329fdf6142ca6b4a2c91acec7675b0fbba4dc2,Release bugfix 10.10 for Inspector in Yoga,MERGED,2022-02-14 04:19:47.000000000,2022-02-14 19:49:13.000000000,2022-02-14 19:49:13.000000000,6,0,3,828993,f46c94456e49483c3aa727c3448b5c8b2dbc433f,11,5,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Release bugfix 10.10 for Inspector in Yoga

Change-Id: Ia2329fdf6142ca6b4a2c91acec7675b0fbba4dc2
"
openstack%2Fpuppet-ironic~master~I0893e3765515e96d90cc5e0dc85aa94254f5f886,openstack/puppet-ironic,master,,I0893e3765515e96d90cc5e0dc85aa94254f5f886,ironic_config: Deprecate transfomers,MERGED,2022-02-12 14:55:02.000000000,2022-02-14 19:48:18.000000000,2022-02-14 19:46:34.000000000,18,8,4,828946,0a3af34213e472e9c439adef86a9ba78c4f98abf,16,3,2,2,9816,Takashi Kajinami,kajinamit,"ironic_config: Deprecate transfomers

... because all parameters using these transformers have been
deprecated.

Change-Id: I0893e3765515e96d90cc5e0dc85aa94254f5f886
"
openstack%2Fpuppet-ironic~master~Icdea064773915a5f68beb3a08590645aba6d29bc,openstack/puppet-ironic,master,,Icdea064773915a5f68beb3a08590645aba6d29bc,Deprecate ironic::glance::swift_account_project_name,MERGED,2022-02-12 14:55:02.000000000,2022-02-14 19:46:37.000000000,2022-02-14 19:45:00.000000000,17,8,0,828945,fb064ecb914fb145c79ec742c5308ec5f53ef6dd,9,3,2,2,9816,Takashi Kajinami,kajinamit,"Deprecate ironic::glance::swift_account_project_name

This parameter has been supposed to allow users to use project name,
instead of project id, and have puppet code look up project id
automatically.

However this implementation has been problematic, especially in usual
usecase where a single set of manifests is used to set up all services.
The most challenging point is the unavoidable circular dependency.
Resolving the parameter requires access to Keystone API, which is not
correctly enforced now, while setting the parameter should trigger
restarting ironic services. When ironic-api and keystone are both
running by httpd+mod_wsgi, this eventually results in circular
dependency, because the parameter requires httpd and notifies httpd.

This change deprecates the parameter, since it has not been working
as intended in most of the cases.

Change-Id: Icdea064773915a5f68beb3a08590645aba6d29bc
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I4d803a7b43533debdf6063299878cf1b13c664e6,openstack/tripleo-heat-templates,stable/train,rhbz#2053527,I4d803a7b43533debdf6063299878cf1b13c664e6,[Neutron] Add custom env file to set dns_domain_name,MERGED,2022-02-12 00:19:04.000000000,2022-02-14 19:46:24.000000000,2022-02-14 19:46:24.000000000,2,0,1,828841,d6f2a3b3c26bb1d47658d88846d366378b81bfa2,11,7,1,1,29775,Sandeep Yadav,sandeepyadav93,"[Neutron] Add custom env file to set dns_domain_name

To be able to run properly dns_domain_name related tests from the
neutron_tempest_plugin.api.test_ports module, Neutron has to have
configured non default dns_domain_name option.
This patch adds custom environment file which will set that config
option to ""openstackgate.local"" which is the same value like is configured
in all of the Neutron CI jobs by the Neutron Devstack plugin.

Related-Bug: #1950815
Change-Id: I4d803a7b43533debdf6063299878cf1b13c664e6
(cherry picked from commit 3da3ff6ea5d36f5a13a5ef1aaa3cac2dc806655d)
"
openstack%2Fpuppet-neutron~stable%2Ftrain~I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,openstack/puppet-neutron,stable/train,bug/1940838-stable/train,I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,Add report_inteval parameter in ml2 baremetal,MERGED,2022-02-09 16:56:59.000000000,2022-02-14 19:45:42.000000000,2022-02-14 19:43:12.000000000,17,0,0,828556,b793bbfc699ac35b5c789410fe82bdfc1cd3d3d9,12,3,3,3,24245,Harald Jensås,harald.jensas,"Add report_inteval parameter in ml2 baremetal

Add the parameter $report_interval to the ml2
networking-baremetal manifest. By default the global
report_interval as defined in neutron.conf is used.

In some cases it makes sense to change the report_interval
specifically for ironic-neutron-agent.

Conflicts:
  manifests/agents/ml2/networking_baremetal.pp
  spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb

Backport note to stable/train:
Resolved additional conflicts caused by
dfeccd674988f34edea5ca7b95bdeea827bab000

Related-Bug: #1940838
Change-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209
(cherry picked from commit dae33092a120655dfe4b9a550ec29a8c2dba73a5)
(cherry picked from commit 41bcf66eafc092890cdd6d2560d02642c5a55761)
(cherry picked from commit 629dbe0f1e89bec38d02050f80d3dda30e20d170)
(cherry picked from commit b9f3a4baa62d72b356d3307a380f2aa1f3f7703d)
"
openstack%2Fpuppet-neutron~master~Ie8d379d5dbb7b4095d8dc35311170ab2e07b6a76,openstack/puppet-neutron,master,,Ie8d379d5dbb7b4095d8dc35311170ab2e07b6a76,neutron_port: Ensure network and subnet are created,MERGED,2022-02-13 12:16:52.000000000,2022-02-14 19:45:30.000000000,2022-02-14 19:45:30.000000000,5,1,1,828973,01ec1c56f7755be643ab27c946419f95263fcf90,9,3,1,1,9816,Takashi Kajinami,kajinamit,"neutron_port: Ensure network and subnet are created

This change fixes the wrong key used to look up the neutron_network
resource which should be created before a neutron_port is created.

Also, additional requirement for neutron_subnet is added, so that
the subnet is created before a port which belongs to that subnet is
created.

Change-Id: Ie8d379d5dbb7b4095d8dc35311170ab2e07b6a76
"
openstack%2Fpuppet-neutron~master~Icb0d67a70f940182c69e3a877e69425f75f98135,openstack/puppet-neutron,master,,Icb0d67a70f940182c69e3a877e69425f75f98135,neutron_router: Fix detection of tenant_id,MERGED,2022-02-12 14:18:11.000000000,2022-02-14 19:45:28.000000000,2022-02-14 19:45:28.000000000,2,4,5,828941,2ef08f70b152258af763e33fff16f326a49dfeb1,16,3,1,2,9816,Takashi Kajinami,kajinamit,"neutron_router: Fix detection of tenant_id

This change fixes the wrong key used to pick up tenant_id, which was
introduced by 75ca125cfaf86d3b14852a546edf9954162fd01d .

Change-Id: Icb0d67a70f940182c69e3a877e69425f75f98135
"
openstack%2Fpuppet-vitrage~master~I60a5751470b48aef2aa005af4ad9a82d799b721e,openstack/puppet-vitrage,master,paste-ini-sep,I60a5751470b48aef2aa005af4ad9a82d799b721e,Allow customizing separator for api-paste.ini,MERGED,2022-02-12 16:39:14.000000000,2022-02-14 19:42:34.000000000,2022-02-14 19:38:28.000000000,10,0,3,828960,82862829cd315e588caa39277d6741b075b208d5,13,3,1,2,9816,Takashi Kajinami,kajinamit,"Allow customizing separator for api-paste.ini

The api-paste.ini accepts not only ""="" but also "":"" and some services
like Barbican have been using "":"" for their default api-paste.ini
files.

[composite:main]
use = egg:Paste#urlmap
/: barbican_version
/v1: barbican-api-keystone

This change allows users to use "":"" so that they can update the ini
files with keeping it consistent with the default fules

Depends-on: https://review.opendev.org/813614
Change-Id: I60a5751470b48aef2aa005af4ad9a82d799b721e
"
openstack%2Ftripleo-repos~master~Ib3fbf6a0ed3e196893add875d6901b4dfd925827,openstack/tripleo-repos,master,c8_teardown_master,Ib3fbf6a0ed3e196893add875d6901b4dfd925827,Move zuul job layout to centos9 only for master,MERGED,2022-02-11 11:55:47.000000000,2022-02-14 19:39:25.000000000,2022-02-14 19:39:25.000000000,4,4,2,828865,cbbdde6cb6c73692b3ce9d0f6931f1b6e6fe6c91,10,4,1,1,8449,Marios Andreou,marios,"Move zuul job layout to centos9 only for master

This replaces the ubi-8 container build job with the centos9 content
provider. Also replace the overcloud-full with hardened-uefi since
that is now default for master/wallaby.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317
Change-Id: Ib3fbf6a0ed3e196893add875d6901b4dfd925827
"
openstack%2Fpuppet-cinder~master~I64d3da1c9c6e379f410cf575c874c9d8d3153bb8,openstack/puppet-cinder,master,manage_service,I64d3da1c9c6e379f410cf575c874c9d8d3153bb8,Do not define service resource when service management is disabled,MERGED,2022-02-10 04:12:54.000000000,2022-02-14 19:35:45.000000000,2022-02-14 19:35:45.000000000,50,57,0,828640,58eb8a17334aa072099525fabf26944d37560d17,8,3,2,8,9816,Takashi Kajinami,kajinamit,"Do not define service resource when service management is disabled

Change-Id: I64d3da1c9c6e379f410cf575c874c9d8d3153bb8
"
openstack%2Fpuppet-sahara~master~I24ae79928b5575fc333d679952dafce06a3b10e2,openstack/puppet-sahara,master,paste-ini-sep,I24ae79928b5575fc333d679952dafce06a3b10e2,Allow customizing separator for api-paste.ini,MERGED,2022-02-12 16:37:02.000000000,2022-02-14 19:33:56.000000000,2022-02-14 19:32:20.000000000,10,0,0,828958,619be82e99001d067df75124a40cf0337d57f6d1,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Allow customizing separator for api-paste.ini

The api-paste.ini accepts not only ""="" but also "":"" and some services
like Barbican have been using "":"" for their default api-paste.ini
files.

[composite:main]
use = egg:Paste#urlmap
/: barbican_version
/v1: barbican-api-keystone

This change allows users to use "":"" so that they can update the ini
files with keeping it consistent with the default fules

Depends-on: https://review.opendev.org/813614
Change-Id: I24ae79928b5575fc333d679952dafce06a3b10e2
"
openstack%2Fpuppet-trove~master~I372a41b5fc6c6632a0a1a615f23d69ab6203dfac,openstack/puppet-trove,master,paste-ini-sep,I372a41b5fc6c6632a0a1a615f23d69ab6203dfac,Allow customizing separator for api-paste.ini,MERGED,2022-02-12 16:38:05.000000000,2022-02-14 19:24:03.000000000,2022-02-14 19:22:10.000000000,10,0,0,828959,538f6d5237c5a47b27a3f969891f3f70206803f8,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Allow customizing separator for api-paste.ini

The api-paste.ini accepts not only ""="" but also "":"" and some services
like Barbican have been using "":"" for their default api-paste.ini
files.

[composite:main]
use = egg:Paste#urlmap
/: barbican_version
/v1: barbican-api-keystone

This change allows users to use "":"" so that they can update the ini
files with keeping it consistent with the default fules

Depends-on: https://review.opendev.org/813614
Change-Id: I372a41b5fc6c6632a0a1a615f23d69ab6203dfac
"
openstack%2Fpuppet-glance~stable%2Fxena~Ic7a01c9ca60196f89750026e7540a39c41e07cd3,openstack/puppet-glance,stable/xena,remove-sheepdog-driver,Ic7a01c9ca60196f89750026e7540a39c41e07cd3,Disallow sheepdog backend,MERGED,2022-02-11 05:13:27.000000000,2022-02-14 19:23:21.000000000,2022-02-14 19:23:21.000000000,1,1,6,828765,157e9ab163b6eff4ea36a5d301952cff4440f98a,16,3,1,1,9816,Takashi Kajinami,kajinamit,"Disallow sheepdog backend

... because it was removed during Ussuri cycle[1].

[1] 5c9db72a93356876fabab2b294bced61a67105fe

Change-Id: Ic7a01c9ca60196f89750026e7540a39c41e07cd3
(cherry picked from commit a37cdd923e0ae6eb22c616ef8c8c4c92376762a1)
"
openstack%2Fpuppet-designate~master~I5534cdf776d361a1ed7ecb54af85886e390e680e,openstack/puppet-designate,master,,I5534cdf776d361a1ed7ecb54af85886e390e680e,Standardize parameters for package/service management,MERGED,2022-02-14 00:05:54.000000000,2022-02-14 19:20:47.000000000,2022-02-14 19:18:33.000000000,28,29,0,828981,913b9a5af480794c3d2518c17e53fe1a427c5627,9,3,2,3,9816,Takashi Kajinami,kajinamit,"Standardize parameters for package/service management

The designate::worker class provides some additional parameters than
the other classes. Because there is no clear requirement for these
parameters, this change deprecates these parameters so that we can
provide consistent interface to all service classes.

Change-Id: I5534cdf776d361a1ed7ecb54af85886e390e680e
"
openstack%2Fpuppet-horizon~master~I1baa3f166ef895bfb55302f144b696a9ace293cc,openstack/puppet-horizon,master,,I1baa3f166ef895bfb55302f144b696a9ace293cc,Recommend dashboard-specific classes,MERGED,2022-02-13 04:08:06.000000000,2022-02-14 19:19:09.000000000,2022-02-14 19:19:09.000000000,7,2,0,828971,8bf867856f912400b1c0dc7d39ac5f01f1a3222a,8,3,2,1,9816,Takashi Kajinami,kajinamit,"Recommend dashboard-specific classes

Currently puppet-horizon has implementations to allow more flexible
customization of specific dashboars(heat, octavia and manila) while
it provides the basic one to only install plugin packages.

This change adds a warning message to let users aware of the new
classes which provides more complete support for dashboard parameters.

Change-Id: I1baa3f166ef895bfb55302f144b696a9ace293cc
"
openstack%2Fpuppet-designate~master~Iacb44a1d485c475bcb3a0be053c8ed7a60399866,openstack/puppet-designate,master,,Iacb44a1d485c475bcb3a0be053c8ed7a60399866,Stop inheriting the base designate class,MERGED,2022-02-14 00:17:09.000000000,2022-02-14 19:18:35.000000000,2022-02-14 19:18:35.000000000,11,13,0,828982,e586326e77e6234854e84cef005de1ca30a8c6d7,9,3,2,7,9816,Takashi Kajinami,kajinamit,"Stop inheriting the base designate class

... because it is not required and inheriting designate::params is
enough. Reducing scope of inheritance allows us to decouple individual
classes.

Change-Id: Iacb44a1d485c475bcb3a0be053c8ed7a60399866
"
openstack%2Fpuppet-magnum~master~Ie486a11c7ca19ec37c64e6b291420f216fe62a89,openstack/puppet-magnum,master,paste-ini-sep,Ie486a11c7ca19ec37c64e6b291420f216fe62a89,Allow customizing separator for api-paste.ini,MERGED,2022-02-12 16:33:30.000000000,2022-02-14 19:17:40.000000000,2022-02-14 19:15:53.000000000,10,0,0,828955,bf9bb02fcf990208c91cc637522801f71608fc18,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Allow customizing separator for api-paste.ini

The api-paste.ini accepts not only ""="" but also "":"" and some services
like Barbican have been using "":"" for their default api-paste.ini
files.

[composite:main]
use = egg:Paste#urlmap
/: barbican_version
/v1: barbican-api-keystone

This change allows users to use "":"" so that they can update the ini
files with keeping it consistent with the default fules

Depends-on: https://review.opendev.org/813614
Change-Id: Ie486a11c7ca19ec37c64e6b291420f216fe62a89
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Fxena~I596614f55a8db8e814b1d24a78c3f1a9d0e00bb2,openstack/openstack-ansible-os_keystone,stable/xena,bug/1960342-stable/xena,I596614f55a8db8e814b1d24a78c3f1a9d0e00bb2,Drop ProxyPass out of VHost,MERGED,2022-02-11 16:11:34.000000000,2022-02-14 19:11:26.000000000,2022-02-14 19:09:40.000000000,0,2,3,828838,fbad6161cb1872e5b8bf89c00019f56ac68224fb,13,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Drop ProxyPass out of VHost

As ProxyPass defined out of VHost, it has global effect, resulting
in Horizon Identity section to be jsut proxied to keystone API
instead of rederred by Django as instructed by Horizon VHost.

Change-Id: I596614f55a8db8e814b1d24a78c3f1a9d0e00bb2
Closes-Bug: #1960342
(cherry picked from commit 790d0c3482ba8d98c97ee941c595bd2ffd80d810)
"
openstack%2Fos-brick~master~If47dbc692e8e2ae1eab89cd190e0299c530b9d43,openstack/os-brick,master,,If47dbc692e8e2ae1eab89cd190e0299c530b9d43,Updating python testing as per Yoga testing runtime,MERGED,2022-02-14 14:23:03.000000000,2022-02-14 18:55:47.000000000,2022-02-14 18:53:28.000000000,1,0,3,829055,3f033107e06af0ea3b3893a1f9489db1615c0ea9,17,3,1,1,30615,Tushar Trambak Gite,tushargite96,"Updating python testing as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting and as we are testing py3.6 and py3.9
we do not need to test py3.7|8 explicitly. Unit tests update are
handled by the job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit makes update the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: If47dbc692e8e2ae1eab89cd190e0299c530b9d43
"
openstack%2Fopenstack-ansible-repo_server~stable%2Fxena~I26bb0e21d797c2bfbe67e03003da01c355c27561,openstack/openstack-ansible-repo_server,stable/xena,,I26bb0e21d797c2bfbe67e03003da01c355c27561,Ensure insist=true is always set for lsyncd,MERGED,2022-02-11 16:03:30.000000000,2022-02-14 18:44:05.000000000,2022-02-14 18:42:26.000000000,5,7,2,828835,20f01a5d8840ae664deebda54d3525b385b38331,12,3,1,3,25023,Jonathan Rosser,jrosser,"Ensure insist=true is always set for lsyncd

If insist is not set to true then lsyncd will exit if it cannot
perform an initial rsync to the target hosts.

Due to the order in which the repo servers are configured, lsyncd
may be installed and started on the first host in the repo_servers
group before the ssh keys and other necessary configuration have
been placed on the remaining hosts. This leads to a failure to
start lsyncd.

This patch moves the setting of insist into the lua config file
for all operating systems, and removes the need to template a
defaults file on debian derivatives.

Change-Id: I26bb0e21d797c2bfbe67e03003da01c355c27561
(cherry picked from commit ee0a6d5b3713299aa183c98590f4a252135d8568)
"
openstack%2Fos-brick~master~Ia73c391d2fafde119e0bb4914c30b48b4300e330,openstack/os-brick,master,bug/1929223,Ia73c391d2fafde119e0bb4914c30b48b4300e330,Fix PowerFlex connector HTTPS certificate validation,MERGED,2021-09-22 12:28:31.000000000,2022-02-14 18:35:47.000000000,2022-02-14 18:33:20.000000000,25,8,15,810419,adde4de38d3bee0e3e3fa9c94de647b28d53a2a8,51,13,5,2,33502,Oleg,olegnest,"Fix PowerFlex connector HTTPS certificate validation

Closes-Bug: #1929223

Change-Id: Ia73c391d2fafde119e0bb4914c30b48b4300e330
"
openstack%2Ftripleo-docs~master~I53d0fdee72a2de2143226a2e1f7fe3c75701f16a,openstack/tripleo-docs,master,split_off_ceph,I53d0fdee72a2de2143226a2e1f7fe3c75701f16a,Split off Ceph related container images,MERGED,2022-01-14 12:20:53.000000000,2022-02-14 18:33:25.000000000,2022-02-14 18:31:35.000000000,11,0,4,824704,e524e3e0e41df2a093643d78952902e754a5be19,15,6,2,1,25402,Francesco Pantano,fmount,"Split off Ceph related container images

This change describes the required parameters we need to skip
the ceph related containers during container image prepare.

Depends-On: I7e337596b653cf635f07a36606e9f673044402a3
Change-Id: I53d0fdee72a2de2143226a2e1f7fe3c75701f16a
"
openstack%2Fcharm-pacemaker-remote~master~Ief58dc3b09a7b9c3f23fd2cb9054fb01306e56a9,openstack/charm-pacemaker-remote,master,charmhub-migration-master,Ief58dc3b09a7b9c3f23fd2cb9054fb01306e56a9,Update to build using charmcraft,MERGED,2022-02-01 21:07:08.000000000,2022-02-14 18:30:18.000000000,2022-02-10 11:41:37.000000000,81,36,4,827370,fb5e0dfc9fce70f825a24edfa93992d60b8f09c9,21,5,3,12,20870,Alex Kavanagh,ajkavanagh,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: Ief58dc3b09a7b9c3f23fd2cb9054fb01306e56a9
"
openstack%2Fpuppet-tacker~master~I92df917887da3220dfb7c7ed10fac123f01af1aa,openstack/puppet-tacker,master,api_paste_ini,I92df917887da3220dfb7c7ed10fac123f01af1aa,Allow customizing api-paste.ini file,MERGED,2022-02-13 03:38:55.000000000,2022-02-14 18:29:03.000000000,2022-02-14 18:27:18.000000000,191,1,0,828968,10eda6e7802ee28855ea2a8012b920d63b0b40a2,8,3,1,8,9816,Takashi Kajinami,kajinamit,"Allow customizing api-paste.ini file

This change introduces a new resource type and the corresponding puppet
parameter to allow managing records in api-paste.ini.

Change-Id: I92df917887da3220dfb7c7ed10fac123f01af1aa
"
openstack%2Fpuppet-ovn~stable%2Fvictoria~I884a1bd836d21fba520bf5a6c17ff2bdc949e31f,openstack/puppet-ovn,stable/victoria,,I884a1bd836d21fba520bf5a6c17ff2bdc949e31f,Add new update parameter: enable_ovn_match_northd.,MERGED,2022-02-11 12:05:26.000000000,2022-02-14 18:22:37.000000000,2022-02-14 18:22:37.000000000,17,1,7,828866,f30b76a657349fe5a98dc0e97ee130f088677235,17,6,4,2,8297,Sofer Athlan-Guyot,chem,"Add new update parameter: enable_ovn_match_northd.

This new boolean parameter enables update of the ovn-controllers after
ovn-northd. It tells the ovn-controller to not fetch new messages from
the ovn-northd until they are both the same version.

It's false by default so nothing changes.

Conflicts:
	manifests/controller.pp
	spec/classes/ovn_controller_spec.rb

Change-Id: I884a1bd836d21fba520bf5a6c17ff2bdc949e31f
(cherry picked from commit 392ad7946ef5c7659f9320a3f832245e21f8365f)
"
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fvictoria~I3adb4dd75198935c4656d0208043ad8051f29312,openstack/openstack-ansible-lxc_hosts,stable/victoria,,I3adb4dd75198935c4656d0208043ad8051f29312,Ensure that the legacy network-scripts package is present,MERGED,2022-02-08 09:28:17.000000000,2022-02-14 18:21:52.000000000,2022-02-14 18:19:45.000000000,1,0,2,828237,1ed262ebbd4226d9af9e0e9325fe5013520b48e6,15,3,2,1,25023,Jonathan Rosser,jrosser,"Ensure that the legacy network-scripts package is present

The lxc_hosts ansible role currently relies on the ifup / ifdown
commands.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/828346
Change-Id: I3adb4dd75198935c4656d0208043ad8051f29312
(cherry picked from commit 9a4004169450a0bb68ffe0fec31e6887a9c075f3)
"
openstack%2Fpuppet-cloudkitty~master~I8eab557c13b3a6455a38b24732c692c5e823421a,openstack/puppet-cloudkitty,master,,I8eab557c13b3a6455a38b24732c692c5e823421a,Deprecate cloudkitty::ui,MERGED,2022-02-13 04:02:23.000000000,2022-02-14 18:19:00.000000000,2022-02-14 18:14:35.000000000,8,0,0,828970,0f89c9ab8fccbe7840dda5ad5309a12784e417ef,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Deprecate cloudkitty::ui

The cloudkitty::ui class has been added to install the dashboard plugin
package. However the current implementation is incomplete and does not
define the required dependencies to install the plugin package before
starting the horizon service. Furthermore, the same can be achieved by
the horizon::dashboard resource type and that is considered to be more
""native"" way.

This change deprecates the ui class so that we can get rid of it in
a future release.

Change-Id: I8eab557c13b3a6455a38b24732c692c5e823421a
"
openstack%2Fpuppet-cloudkitty~master~I3c357f6188cdd60e6bb799063e76a600d885aa54,openstack/puppet-cloudkitty,master,paste-ini-sep,I3c357f6188cdd60e6bb799063e76a600d885aa54,Allow customizing separator for api-paste.ini,MERGED,2022-02-12 16:34:58.000000000,2022-02-14 18:17:27.000000000,2022-02-14 18:14:31.000000000,10,0,0,828956,7c80854c17abb1d5b8ba835ac42fab261853298d,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Allow customizing separator for api-paste.ini

The api-paste.ini accepts not only ""="" but also "":"" and some services
like Barbican have been using "":"" for their default api-paste.ini
files.

[composite:main]
use = egg:Paste#urlmap
/: barbican_version
/v1: barbican-api-keystone

This change allows users to use "":"" so that they can update the ini
files with keeping it consistent with the default fules

Depends-on: https://review.opendev.org/813614
Change-Id: I3c357f6188cdd60e6bb799063e76a600d885aa54
"
openstack%2Fpuppet-cloudkitty~master~Icd30923802064aec6a3ae9716b2ae30665998aae,openstack/puppet-cloudkitty,master,orchestrator,Icd30923802064aec6a3ae9716b2ae30665998aae,Support more [orchestrator] parameters,MERGED,2022-02-13 02:29:59.000000000,2022-02-14 18:14:33.000000000,2022-02-14 18:14:33.000000000,117,2,0,828966,bd9098ec8773cca96f54c2b013e37c087a51029d,16,3,7,5,9816,Takashi Kajinami,kajinamit,"Support more [orchestrator] parameters

This change introduces a separate new class to manage [orchestrator]
parameters. The max_workers parameter in the processor class is
deprecated in favor of that new class.

Change-Id: Icd30923802064aec6a3ae9716b2ae30665998aae
"
openstack%2Fos-brick~master~I629b80b208295c0e6bc9f18ad8e6905759e6593e,openstack/os-brick,master,bug/1938870,I629b80b208295c0e6bc9f18ad8e6905759e6593e,nvmeof connector utilize replica_count,MERGED,2021-09-29 11:19:02.000000000,2022-02-14 18:12:27.000000000,2022-02-14 18:06:58.000000000,25,11,24,811717,49114867f9be48afa6379a2e76fdc1403c7784f1,84,8,7,3,16721,Zohar Mamedov,zohar,"nvmeof connector utilize replica_count

nvmeof connector methods handling volumes with volume_replicas should
utilize replica_count parameter in connection_information to
determine method of device exposure to host

Closes-Bug: #1938870
Change-Id: I629b80b208295c0e6bc9f18ad8e6905759e6593e
"
openstack%2Fos-brick~master~Ib8e5d79e7dbae0867c794f35ff3350419d2cdf09,openstack/os-brick,master,change-806687-1,Ib8e5d79e7dbae0867c794f35ff3350419d2cdf09,NVMeOF connector support multipath-enabled kernels,MERGED,2021-08-31 08:34:27.000000000,2022-02-14 18:09:49.000000000,2022-02-14 18:06:56.000000000,20,14,38,806687,5614196e53b2248fc32d7fa1ff09a1cfee10d5b3,96,11,6,3,16721,Zohar Mamedov,zohar,"NVMeOF connector support multipath-enabled kernels

Use the '/sys/class/block/<ctrl>n*' form for finding nvme devices.
This way is more generic, and is mainly beneficial because the device name format does not change as it does in '/sys/class/nvme-fabrics/ctl/*' - where it is 'nvme*c*n*' vs 'nvme*n*' for multipath-enabled vs disabled kernels.

Closes-Bug: #1943615
Change-Id: Ib8e5d79e7dbae0867c794f35ff3350419d2cdf09
"
openstack%2Ftripleo-common~master~I7e337596b653cf635f07a36606e9f673044402a3,openstack/tripleo-common,master,split_off_ceph,I7e337596b653cf635f07a36606e9f673044402a3,Split off Ceph related container images,MERGED,2022-01-12 12:56:38.000000000,2022-02-14 18:02:09.000000000,2022-02-14 17:59:24.000000000,174,64,28,824431,08a8118f1b26a170219c63feb8bb5f0b929028c3,62,11,12,9,25402,Francesco Pantano,fmount,"Split off Ceph related container images

This commit updates the default tripleo_containers jinja template
splitting off the Ceph related container images.
With this new approach pulling the ceph containers is optional,
and can be avoided by setting the 'ceph_images' boolean to False.
To make this possible, a new jinja template processing approach
has been introduced, and a template basedir parameter (required
by the jinja loader) has been added to the BaseImageManager.

In particular:

- the 'template_dir' parameter represents the location path to the
  j2 templates that can be included in the main tripleo containers
  template; a default location (which matches with the default j2
  path) has been added, but if nothing is passed the old behavior
  is maintained;

- Two more 'ceph_' prefixed containers, required to deploy the Ceph
  Ingress daemon are added, and they are supposed to match with the
  tripleo-heat-templates 'OS::TripleO::Services::CephIngress' service.
  The Ingress daemon won’t be baked into the Ceph daemon container,
  hence `tripleo container image prepare` should be executed to pull
  the new container images/tags in the undercloud as made for the
  Ceph Dashboard and the regular Ceph image.

Change-Id: I7e337596b653cf635f07a36606e9f673044402a3
"
openstack%2Fpuppet-tripleo~master~Ie7ee7c90107cfe5bff08f5c778a6273ae9ffcc76,openstack/puppet-tripleo,master,bz1924373,Ie7ee7c90107cfe5bff08f5c778a6273ae9ffcc76,Increase connection timeouts for Redis,MERGED,2022-01-26 12:59:45.000000000,2022-02-14 18:00:16.000000000,2022-02-14 18:00:16.000000000,10,6,3,826461,209e954c5f77d827ca0dff836d86b10fa04f80c3,15,6,1,1,5241,Martin Magr,mmagr,"Increase connection timeouts for Redis

When using py-redis for connecting to Redis via HAProxy the connection
is being closed even when alive by HAProxy. Unfortunately this is a know
issue on py-redis side (see [1]). This patch increases connection timeouts
to not pollute (for example) Gnocchi [2] logs with reconnect tracebacks every
2 minutes.

[1] https://github.com/redis/redis-py/issues/1140
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1924373

Change-Id: Ie7ee7c90107cfe5bff08f5c778a6273ae9ffcc76
"
openstack%2Ftripleo-quickstart-extras~master~Ib78602d7fb2dd10f1e7ea630d937cc3bfa35b109,openstack/tripleo-quickstart-extras,master,,Ib78602d7fb2dd10f1e7ea630d937cc3bfa35b109,Use CentOS Stream when dlrn_use_local_mirrors is disabled,MERGED,2022-02-07 11:49:02.000000000,2022-02-14 18:00:13.000000000,2022-02-14 18:00:13.000000000,1,1,4,828115,17c27f754f1f771a663b080b5a0aeff446d3f973,24,8,1,1,16312,Alfredo Moralejo,amoralej,"Use CentOS Stream when dlrn_use_local_mirrors is disabled

Currently, when dlrn_use_local_mirrors parameter is false, target is set
to centos[8|9]. For CS9 that's fine as centos9.cfg is a symlink to
centos9-stream config [1]. However, that's not true for centos8 where it
points to the old CL8 which is now EOL. This patch is setting target to
centos8-stream in that case.

[1] https://github.com/softwarefactory-project/DLRN/tree/48c4decf75162c3f98c19bb333dcc7a608f98b92/scripts

Change-Id: Ib78602d7fb2dd10f1e7ea630d937cc3bfa35b109
"
openstack%2Ftripleo-ansible~master~I416f60b27406b711c0c778a856dc83663c627899,openstack/tripleo-ansible,master,bug/1959100,I416f60b27406b711c0c778a856dc83663c627899,Switch collectd molecule jobs to use CentOS Stream 8 image,MERGED,2022-02-09 21:34:22.000000000,2022-02-14 17:59:21.000000000,2022-02-14 17:59:21.000000000,16,17,0,828611,6137dd86186c1530aa81cda906fba321388a6ef6,7,3,1,8,30002,Douglas Viroel,dviroel,"Switch collectd molecule jobs to use CentOS Stream 8 image

Collectd molecule depends on tripleo-repos to install appstream and
baseos repos, which by default will configure repos for CentOS-8. Since
CentOS-8 already reached EOL, we can move molecule jobs' image to CentOS
Stream 8, instead of changing tripleo-repos to provide different repos
for ubi-8.
This is a follow-up change of ab88334e147d354f55e007cad68021ad8083dae9

Related-Bug: #1959100
Change-Id: I416f60b27406b711c0c778a856dc83663c627899
Signed-off-by: Douglas Viroel <dviroel@redhat.com>
"
openstack%2Fkayobe~master~I96827fc32c1594ca9a0535e259929c49d3f0e704,openstack/kayobe,master,,I96827fc32c1594ca9a0535e259929c49d3f0e704,CI: Enable bare metal testing for Ubuntu,MERGED,2021-03-22 15:10:40.000000000,2022-02-14 17:50:12.000000000,2022-02-14 17:46:53.000000000,1,6,13,782273,883027afb0656a46369d3f4965a0c65b4a3e8dd8,65,3,16,2,14826,Mark Goddard,mgoddard,"CI: Enable bare metal testing for Ubuntu

Previously we were seeing issues with ipmitool and virtualbmc on Ubuntu:

  Error setting Chassis Boot Parameter 5\nError setting Chassis Boot Parameter 0

The dependent change fixes these issues, and this change enables bare
metal testing in Ubuntu CI.

Depends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/829006

Change-Id: I96827fc32c1594ca9a0535e259929c49d3f0e704
"
openstack%2Freleases~master~I8aaa893a0dffa93a158aedab6dbce29da123aba0,openstack/releases,master,bugfix-ipa,I8aaa893a0dffa93a158aedab6dbce29da123aba0,Release bugfix 8.4 for IPA in Yoga,MERGED,2022-02-14 04:16:25.000000000,2022-02-14 17:40:24.000000000,2022-02-14 17:40:24.000000000,6,0,1,828992,fcfbe2ad67dbceb8572c4b5d830d7338e9e228a5,9,5,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Release bugfix 8.4 for IPA in Yoga

Change-Id: I8aaa893a0dffa93a158aedab6dbce29da123aba0
"
openstack%2Fkayobe-config-dev~master~Ib4fce74cebebe85c31049eafe2eeb6b28dfab041,openstack/kayobe-config-dev,master,,Ib4fce74cebebe85c31049eafe2eeb6b28dfab041,ironic: use ipmitool retries,MERGED,2022-02-14 09:15:56.000000000,2022-02-14 17:36:22.000000000,2022-02-14 17:36:22.000000000,22,0,0,829006,8b618b7e5a86bda2722427bc1072c24b31677b93,7,3,1,1,14826,Mark Goddard,mgoddard,"ironic: use ipmitool retries

In Ubuntu baremetal CI testing, we saw issues with IPMI commands
failing, resuling in job failures:

  Error setting Chassis Boot Parameter 5

A metal3.io commit [1] was found that fixes the issue by moving IPMI
retries from ironic to ipmitool, which has a side-effect of increasing
the timeout. This change applies the same configuration.

[1] https://github.com/metal3-io/ironic-image/commit/6bc1499d8bb04c2c859b970b3739c3a8ed66ae2a

Change-Id: Ib4fce74cebebe85c31049eafe2eeb6b28dfab041
"
openstack%2Fstorlets~master~Icd0469f4740e2cc47129529d89b9808790ec4e6b,openstack/storlets,master,,Icd0469f4740e2cc47129529d89b9808790ec4e6b,Add Python 3.9 as supported runtime,MERGED,2022-02-14 16:35:06.000000000,2022-02-14 17:31:54.000000000,2022-02-14 17:30:20.000000000,1,0,0,829105,ad8fc39bca667296dfb1c3ec3f45a61c8aa7ca3f,7,2,1,1,9816,Takashi Kajinami,kajinamit,"Add Python 3.9 as supported runtime

... because it has been tested as part of supported runtimes for
upcoming Yoga release[1].

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html
Change-Id: Icd0469f4740e2cc47129529d89b9808790ec4e6b
"
openstack%2Fcharm-specs~master~I790fbb2bd1f48bf410f151427d44784c115b0626,openstack/charm-specs,master,keystone-openidc,I790fbb2bd1f48bf410f151427d44784c115b0626,Add Keystone OpenID Connect spec.,MERGED,2021-11-08 15:20:05.000000000,2022-02-14 17:30:21.000000000,2022-02-14 17:28:43.000000000,150,0,14,817036,cacc78996be1d495c60ee21b6857bd0ee900cbd5,16,3,2,1,2424,Felipe Reyes,freyes,"Add Keystone OpenID Connect spec.

This spec proposes the creation of a new charm subordinate to Keystone
to enable the use OpenID Connect providers in Keystone federation.

Related-Bug: #1859883
Change-Id: I790fbb2bd1f48bf410f151427d44784c115b0626
"
openstack%2Freleases~master~I0a5a7f1bb29b02993050bea314e5b94107ed1a4c,openstack/releases,master,,I0a5a7f1bb29b02993050bea314e5b94107ed1a4c,Swift 2.29.0 release,MERGED,2022-02-11 21:54:40.000000000,2022-02-14 17:25:51.000000000,2022-02-14 17:25:51.000000000,5,0,1,828926,5251ea20df71651ff16bec9bfe631719ecbc6a1a,8,3,1,1,15343,Tim Burke,tburke,"Swift 2.29.0 release

Change-Id: I0a5a7f1bb29b02993050bea314e5b94107ed1a4c
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I6627eef1ed0fa8eb7665ad8b6b9f61784702d8e4,openstack/tripleo-ansible,stable/wallaby,,I6627eef1ed0fa8eb7665ad8b6b9f61784702d8e4,Move metrics_qdr molecule tests to centos stream,ABANDONED,2022-02-14 16:23:19.000000000,2022-02-14 17:21:05.000000000,,31,34,0,829092,f546d82c65081931b389bada0dec1a8448a8148b,2,0,1,6,30893,Chris Sibbitt,csibbitt,"Move metrics_qdr molecule tests to centos stream

These were failing with ""Failed to download metadata for repo 'tripleo-centos-appstream': Cannot download repomd.xml""

Followed the pattern here to fix: https://review.opendev.org/c/openstack/tripleo-ansible/+/826535

Change-Id: I6627eef1ed0fa8eb7665ad8b6b9f61784702d8e4
(cherry picked from commit 67aa99089905f885914d3ef817b08f6db6725f66)
"
openstack%2Fneutron~stable%2Fwallaby~I120ae54bce01b78546e0426531850f1ad177de17,openstack/neutron,stable/wallaby,wallaby,I120ae54bce01b78546e0426531850f1ad177de17,Use Port_Binding up column to set Neutron port status,ABANDONED,2022-01-31 16:56:14.000000000,2022-02-14 17:14:05.000000000,,392,258,11,827156,ac908657f0ca9ca76135ba4055776993733607cd,35,3,2,4,23567,Luis Tomas Bolivar,ltomasbo,"Use Port_Binding up column to set Neutron port status

Currently in order to bring Neutron port to active, Neutron waits for
Logical Switch Port to become up in OVN. That means ovn-controller
changes the up status in SB DB and northd propagates it up to NB DB.
We do not need to wait and can save some time if we use the newly added
SB DB up column instead, when possible:
https://github.com/ovn-org/ovn/commit/4d3cb42b076bb58fd8f01ab8ad146ffd539f2152

This patch also includes squashed patch:
https://review.opendev.org/c/openstack/neutron/+/823818
Ensure only the right events are processed

There is no need to set up CR-LRP ports up, as well as there is no
need to re-process the router ports after the initial creation

This patch also includes squashed patch:
https://review.opendev.org/c/openstack/neutron/+/823412
Ensure subports transition to DOWN

Due to a bug in OVN seting the subports SB DB ""up"" field to False
after subport detachment from the trunk port, the subports are never
transition from ACTIVE to DOWN after this patch:
https://review.opendev.org/c/openstack/neutron/+/821544

This patch ensures the chassis is also considered for such cases,
and ports without chassis but ""up"" field set to True are
transitioned to DOWN.
Closes-Bug: #1956233

Change-Id: I120ae54bce01b78546e0426531850f1ad177de17
(cherry picked from commit 37d4195b516f12b683b774f0561561b172dd15c6)
(squashed commit from 5e036a6b281e4331f396473e299b26b2537d5322)
(squashed commit from 553f462656c2b7ee1e9be6b1e4e7c446c12cc9aa)
"
openstack%2Fos-brick~master~I5cd5456c4cc3e415fd08b678cc57fc794dc0621b,openstack/os-brick,master,827496,I5cd5456c4cc3e415fd08b678cc57fc794dc0621b,Lightos connector - refactor disconnect volume,MERGED,2022-02-02 13:27:18.000000000,2022-02-14 17:10:40.000000000,2022-02-14 17:08:47.000000000,19,14,38,827496,b0356db3d527dd5e5239adb92e3f26d0f71d1d70,84,7,6,1,33612,yuval,yuval,"Lightos connector - refactor disconnect volume

Disconnect volume needs to perform the following operations:
1. Update our connection DB that the volume has been disconnected
2. Flush any pending I/Os on the device file
3. Update the discovery-client that the volume has been disconnected.

Signed-off-by: Yuval Brave  <yuval@lightbitslabs.com>
Change-Id: I5cd5456c4cc3e415fd08b678cc57fc794dc0621b
"
openstack%2Fopenstack-ansible-os_neutron~stable%2Fwallaby~Iac091d77abcc8075acff3981604747159e4c2884,openstack/openstack-ansible-os_neutron,stable/wallaby,,Iac091d77abcc8075acff3981604747159e4c2884,DNM - test https://review.opendev.org/c/openstack/openstack-ansible/+/828551,ABANDONED,2022-02-09 15:12:05.000000000,2022-02-14 17:03:07.000000000,,0,0,0,828552,e616d5ad56ac938b8c1bfd183be9e683671f85ee,3,1,1,1,25023,Jonathan Rosser,jrosser,"DNM - test https://review.opendev.org/c/openstack/openstack-ansible/+/828551

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/828551
Change-Id: Iac091d77abcc8075acff3981604747159e4c2884
"
openstack%2Fopenstack-ansible-os_neutron~stable%2Fxena~Iac091d77abcc8075acff3981604747159e4c2884,openstack/openstack-ansible-os_neutron,stable/xena,,Iac091d77abcc8075acff3981604747159e4c2884,DNM - test https://review.opendev.org/c/openstack/openstack-ansible/+/828548,ABANDONED,2022-02-09 15:07:15.000000000,2022-02-14 17:02:57.000000000,,0,0,0,828549,b777b5faf60636f2d3240d5fbcb870a161e166b1,4,1,2,1,25023,Jonathan Rosser,jrosser,"DNM - test https://review.opendev.org/c/openstack/openstack-ansible/+/828548

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/828548
Change-Id: Iac091d77abcc8075acff3981604747159e4c2884
"
openstack%2Fcinder~master~I0bfb79db4f69c0705a1e0fa971376d14c232d5cb,openstack/cinder,master,bug/1943682,I0bfb79db4f69c0705a1e0fa971376d14c232d5cb,[SVf] update rccg name property to metadata,MERGED,2021-09-24 14:05:33.000000000,2022-02-14 16:57:08.000000000,2022-02-14 16:55:13.000000000,33,16,40,810917,88d3005df43e00ac2d93b70be5bc696b1ad3a275,177,7,5,3,32266,Venkata krishna Thumu,venkatakrishnathumu,"[SVf] update rccg name property to metadata

[Spectrum Virtualize family] While creating a group either from
source_group or group_snapshot, the resulted group-volumes metadata
is not updated with the rccg_name attribute. This is happening due to
the order of some function calls to update volume metadata.

Providing a fix to update rccg_name property to volume metadata which
could cover all the possible cases like add a volume to the group,
create a group from source_group and create a group from group_snapshot.

Closes-Bug: #1943682

Change-Id: I0bfb79db4f69c0705a1e0fa971376d14c232d5cb
"
openstack%2Fkayobe~master~Icc2897fa256d7cc2c89dba15c59a23d4a1bc62bd,openstack/kayobe,master,,Icc2897fa256d7cc2c89dba15c59a23d4a1bc62bd,DNM: molecule debug,ABANDONED,2022-01-28 17:03:47.000000000,2022-02-14 16:54:29.000000000,,5,18,0,826921,159372dc377dfeeb6aa6bc104e0d1e314ecabca7,11,1,5,3,14826,Mark Goddard,mgoddard,"DNM: molecule debug

Change-Id: Icc2897fa256d7cc2c89dba15c59a23d4a1bc62bd
"
openstack%2Fkolla~stable%2Fwallaby~I86aa697b8def34e0cfb11d2f5ad903dd54e975ef,openstack/kolla,stable/wallaby,,I86aa697b8def34e0cfb11d2f5ad903dd54e975ef,base: Drop usage of Ceph Nautilus from RDO,MERGED,2022-02-08 08:12:38.000000000,2022-02-14 16:50:04.000000000,2022-02-14 16:48:01.000000000,6,7,7,828228,7f38bce812ccb621a089755526f79bd792f4e071,26,3,4,2,22629,Michal Nasiadka,mnasiadka,"base: Drop usage of Ceph Nautilus from RDO

This was temporary due to missing Ceph Nautilus
repo on CentOS mirrors (after removing CentOS Linux
content on EOL date).

Change-Id: I86aa697b8def34e0cfb11d2f5ad903dd54e975ef
"
openstack%2Fironic~master~I9fe5cd295df33dd3af9bcbdc3fc5f35bd0c6df1b,openstack/ironic,master,update_release_notes_for_19.1,I9fe5cd295df33dd3af9bcbdc3fc5f35bd0c6df1b,Update some releasenotes for 19.1 release,MERGED,2022-02-14 04:12:51.000000000,2022-02-14 16:34:26.000000000,2022-02-14 16:31:52.000000000,8,6,6,828991,cfa47c54b9eb9795f5e0e911d5bb0e7cb5dc790a,17,3,3,3,15519,Iury Gregory Melo Ferreira,iurygregory,"Update some releasenotes for 19.1 release

Change-Id: I9fe5cd295df33dd3af9bcbdc3fc5f35bd0c6df1b
"
openstack%2Fkolla~stable%2Fxena~I79e78dca550262fc86b092a036f9ea96b214ab48,openstack/kolla,stable/xena,,I79e78dca550262fc86b092a036f9ea96b214ab48,ironic: Fix UEFI & iPXE bootloader filenames,MERGED,2022-02-14 09:24:49.000000000,2022-02-14 16:21:01.000000000,2022-02-14 16:18:51.000000000,25,0,0,828845,af092df6aa66f58a8d3ad3b363db0d81f54c0944,9,3,1,2,14826,Mark Goddard,mgoddard,"ironic: Fix UEFI & iPXE bootloader filenames

When using Ironic with UEFI boot mode and iPXE booting, nodes will
attempt to chainload iPXE using a Network Boot Program (NBP). This is
configured in Ironic via [pxe] uefi_ipxe_bootfile_name, and the default
since Xena is snponly.efi. In Wallaby and earlier releases, the default
was ipxe.efi. These files need to be available in the /tftpboot
directory of the ironic-pxe image.

The current default of snponly.efi was not present for any supported
distros. ipxe.efi was present for Debian/Ubuntu but not CentOS, which
appends the architecture to the filename (e.g. ipxe-x86_64.efi).

This change ensures that both ipxe.efi and snponly.efi exist in
/tftpboot for all supported distributions, ensuring that both the
current and previous Ironic defaults should work. Where these files have
different names, we use symlinks to allow for any deployers overriding
the filenames in configuration.

Closes-Bug: #1959203

Change-Id: I79e78dca550262fc86b092a036f9ea96b214ab48
(cherry picked from commit 909710d739f1d7d4c2ef0865ebc9338f260aaa5b)
"
openstack%2Fkolla~stable%2Fwallaby~I79e78dca550262fc86b092a036f9ea96b214ab48,openstack/kolla,stable/wallaby,,I79e78dca550262fc86b092a036f9ea96b214ab48,ironic: Fix UEFI & iPXE bootloader filenames,MERGED,2022-02-14 09:24:59.000000000,2022-02-14 16:16:00.000000000,2022-02-14 16:13:49.000000000,25,0,0,828846,1ac4662c11b7baade1a1d689f5a8b40d481aa3ab,11,3,2,2,14826,Mark Goddard,mgoddard,"ironic: Fix UEFI & iPXE bootloader filenames

When using Ironic with UEFI boot mode and iPXE booting, nodes will
attempt to chainload iPXE using a Network Boot Program (NBP). This is
configured in Ironic via [pxe] uefi_ipxe_bootfile_name, and the default
since Xena is snponly.efi. In Wallaby and earlier releases, the default
was ipxe.efi. These files need to be available in the /tftpboot
directory of the ironic-pxe image.

The current default of snponly.efi was not present for any supported
distros. ipxe.efi was present for Debian/Ubuntu but not CentOS, which
appends the architecture to the filename (e.g. ipxe-x86_64.efi).

This change ensures that both ipxe.efi and snponly.efi exist in
/tftpboot for all supported distributions, ensuring that both the
current and previous Ironic defaults should work. Where these files have
different names, we use symlinks to allow for any deployers overriding
the filenames in configuration.

Closes-Bug: #1959203

Change-Id: I79e78dca550262fc86b092a036f9ea96b214ab48
(cherry picked from commit 909710d739f1d7d4c2ef0865ebc9338f260aaa5b)
"
openstack%2Felection~master~I9dfb96e0d6e1a6309861c7e7a073edc65f93790a,openstack/election,master,blazar-z,I9dfb96e0d6e1a6309861c7e7a073edc65f93790a,Add Pierre Riteau's candidacy for Blazar PTL (Z),MERGED,2022-02-14 14:15:19.000000000,2022-02-14 16:12:30.000000000,2022-02-14 16:10:25.000000000,14,0,2,829052,e26a71629881ccb4f5d5dd6e58773d3594ae9c25,8,3,1,1,15197,Pierre Riteau,priteau,"Add Pierre Riteau's candidacy for Blazar PTL (Z)

Change-Id: I9dfb96e0d6e1a6309861c7e7a073edc65f93790a
"
openstack%2Fkolla~stable%2Fvictoria~I79e78dca550262fc86b092a036f9ea96b214ab48,openstack/kolla,stable/victoria,,I79e78dca550262fc86b092a036f9ea96b214ab48,ironic: Fix UEFI & iPXE bootloader filenames,MERGED,2022-02-14 09:31:11.000000000,2022-02-14 16:10:06.000000000,2022-02-14 16:08:01.000000000,25,0,1,828847,77d683caaaed46149d2323b5a94c0e73bef3241c,12,3,1,2,14826,Mark Goddard,mgoddard,"ironic: Fix UEFI & iPXE bootloader filenames

When using Ironic with UEFI boot mode and iPXE booting, nodes will
attempt to chainload iPXE using a Network Boot Program (NBP). This is
configured in Ironic via [pxe] uefi_ipxe_bootfile_name, and the default
since Xena is snponly.efi. In Wallaby and earlier releases, the default
was ipxe.efi. These files need to be available in the /tftpboot
directory of the ironic-pxe image.

The current default of snponly.efi was not present for any supported
distros. ipxe.efi was present for Debian/Ubuntu but not CentOS, which
appends the architecture to the filename (e.g. ipxe-x86_64.efi).

This change ensures that both ipxe.efi and snponly.efi exist in
/tftpboot for all supported distributions, ensuring that both the
current and previous Ironic defaults should work. Where these files have
different names, we use symlinks to allow for any deployers overriding
the filenames in configuration.

Closes-Bug: #1959203

Change-Id: I79e78dca550262fc86b092a036f9ea96b214ab48
(cherry picked from commit 909710d739f1d7d4c2ef0865ebc9338f260aaa5b)
"
openstack%2Ftripleo-ci~master~I4a1c357d181edd8e4c491d73756775ca185b8003,openstack/tripleo-ci,master,testsa9b,I4a1c357d181edd8e4c491d73756775ca185b8003,DNM test c9 build job,ABANDONED,2022-02-08 09:58:10.000000000,2022-02-14 16:08:50.000000000,,3,0,0,828265,c04246eba1a242b8181b03b7821540c3c35b6dfc,4,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM test c9 build job

Change-Id: I4a1c357d181edd8e4c491d73756775ca185b8003
"
openstack%2Fpuppet-oslo~stable%2Fwallaby~I90d8e2b0cf231c9bd0fe97d4f363795886ccf8c7,openstack/puppet-oslo,stable/wallaby,wallaby,I90d8e2b0cf231c9bd0fe97d4f363795886ccf8c7,Add pymemcache's HashClient retrying options to oslo.cache,MERGED,2022-02-04 17:48:28.000000000,2022-02-14 16:04:52.000000000,2022-02-14 16:02:55.000000000,36,0,2,827911,d80fbfc9de7e46c8c943454671810a08e43af6e5,10,4,1,3,28522,Hervé Beraud,hberaud,"Add pymemcache's HashClient retrying options to oslo.cache

This patch specifies a set of options required to setup pymemcache's
HashClient retrying feature (dogpile.cache) cache backend.

Original oslo.cache change:
https://review.opendev.org/c/openstack/oslo.cache/+/824944

Change-Id: I90d8e2b0cf231c9bd0fe97d4f363795886ccf8c7
(cherry picked from commit 34e1446f44d66a96c8fbe631fc29413de0a51551)
(cherry picked from commit edf16447f0a8fa8be0000a3ecf7d751142048a49)
"
openstack%2Freleases~master~I4e7645ea1acbab8a31bfd4b125eb53e7d073b521,openstack/releases,master,,I4e7645ea1acbab8a31bfd4b125eb53e7d073b521,Release python-neutronclient,MERGED,2022-02-09 02:23:05.000000000,2022-02-14 15:57:49.000000000,2022-02-14 15:57:49.000000000,4,0,2,828442,b499ab98a4394f8b78bea18972342294e401ac14,9,5,1,1,9531,liuyulong,LIU-Yulong,"Release python-neutronclient

Some required feature for Yoga:
1. Add CURD actions for packet rate limit rule
2. Add support for minimum packet rate rule to the client

Change-Id: I4e7645ea1acbab8a31bfd4b125eb53e7d073b521
"
openstack%2Felection~master~Ic7358f2b1f07335b5ffaa28dcab88447d3417bf3,openstack/election,master,,Ic7358f2b1f07335b5ffaa28dcab88447d3417bf3,Add Gregory Thiemonge candidacy for Octavia PTL,MERGED,2022-02-14 13:44:28.000000000,2022-02-14 15:55:28.000000000,2022-02-14 15:53:34.000000000,13,0,2,829026,6b226f9382c91113e7d8834b877f6cc94412660a,9,3,1,1,29244,Gregory Thiemonge,gthiemonge,"Add Gregory Thiemonge candidacy for Octavia PTL

Change-Id: Ic7358f2b1f07335b5ffaa28dcab88447d3417bf3
"
openstack%2Fbarbican~master~Ie3e3adc1ee02d770de050f5cfa8110774bb1f661,openstack/barbican,master,story/2009791,Ie3e3adc1ee02d770de050f5cfa8110774bb1f661,"Allow secret delete by users with ""creator"" role",MERGED,2022-01-20 21:03:02.000000000,2022-02-14 15:44:24.000000000,2022-02-14 15:42:14.000000000,41,13,12,825675,2620d14c5fae378a5e8d7d550d5ae8efb263d63a,29,4,7,6,7973,Douglas Mendizábal,dougmendizabal,"Allow secret delete by users with ""creator"" role

Users with the ""creator"" role on a project can now delete secrets owned
by the project even if the user is different than the user that
originally created the secret.  Previous to this fix a user with the
""creator"" role was only allowed to delete a secret owned by the project
if they were also the same user that originally created, which was
inconsistent with the way that deletes are handled by other OpenStack
projects that integrate with Barbican.

This change does not affect the policy for delting private secrets
(i.e. secrets with the ""project-access"" flag set to ""false"").

Story: 2009791
Task: 44324
Change-Id: Ie3e3adc1ee02d770de050f5cfa8110774bb1f661
"
openstack%2Fopenstack-manuals~master~I9146c424d021a72176cdb60fa49d8e9c954d939f,openstack/openstack-manuals,master,cinder-users,I9146c424d021a72176cdb60fa49d8e9c954d939f,Add a user guide link for Cinder,ABANDONED,2022-01-24 16:12:59.000000000,2022-02-14 15:41:54.000000000,,7,0,1,826119,f3945bdf70ac7eb1e6cf2af40828065bcc55b1e3,4,1,1,7,5263,Jeremy Stanley,fungi,"Add a user guide link for Cinder

Since Stein, the Cinder documentation has included a subheading for
end users in its main index. In order to treat that as a user guide,
an htaccess redirect has been added from /user/ to it.

Depends-On: https://review.opendev.org/826116
Change-Id: I9146c424d021a72176cdb60fa49d8e9c954d939f
"
openstack%2Fcinder~master~I86229ca20f14531c4e2853be726b10798c5ebfed,openstack/cinder,master,user-guide,I86229ca20f14531c4e2853be726b10798c5ebfed,Fake a user guide,ABANDONED,2022-01-24 16:10:51.000000000,2022-02-14 15:41:51.000000000,,1,0,0,826116,37d3cfb65dbc10d990e1b646d2078549861a9d05,28,2,1,1,5263,Jeremy Stanley,fungi,"Fake a user guide

At least some users are confused that the user guides section of the
main docs site doesn't include an entry for Cinder. This is because
the has_user_guide option assumes the project will present a
separate user guide in a /user/ subtree. Cinder merely uses a
subheading in its main documentation index for this purpose, so add
a convenience redirect making it possible to be included in the user
guides list.

Change-Id: I86229ca20f14531c4e2853be726b10798c5ebfed
"
openstack%2Fnova-specs~master~Ia8a537a3de08333262410f8ce1d1d0c6ae997e1a,openstack/nova-specs,master,integration-with-off-path-network-backends,Ia8a537a3de08333262410f8ce1d1d0c6ae997e1a,Late Amendments to the Off-path Backends Spec,MERGED,2022-02-07 18:22:43.000000000,2022-02-14 15:33:53.000000000,2022-02-14 15:31:48.000000000,39,46,7,828177,284908e7203d007e31b2689a4dcc2ced8762f2d1,18,3,2,1,24824,Dmitrii Shcherbakov,dmitriis,"Late Amendments to the Off-path Backends Spec

This change mainly addresses the issue with reusing the existing
``VNIC_SMARTNIC`` vnic type.

As discussed on IRC, this will run into a conflict with the existing
Ironic use-case with SmartNICs since the remote_managed tag addition to
an InstancePCIRequest is based the usage of ``VNIC_TYPE_SMARTNIC`` in
the current design:

https://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-02-07.log.html#t2022-02-07T15:49:56

In order to address that, a new ``VNIC_TYPE_REMOTE_MANAGED`` vnic type
is introduced into neutron-lib:

https://review.opendev.org/c/openstack/neutron-lib/+/828174
https://review.opendev.org/c/openstack/neutron-specs/+/828173

Additionally, this change actualizes some of the implementation details
and cleans up references to dependent changes in different projects
(OVN, Libvirt).

Change-Id: Ia8a537a3de08333262410f8ce1d1d0c6ae997e1a
"
openstack%2Fpuppet-oslo~stable%2Fwallaby~If4622f85e1e7f715805b205bfc3c16cb1e53b943,openstack/puppet-oslo,stable/wallaby,wallaby,If4622f85e1e7f715805b205bfc3c16cb1e53b943,Add retrying options to oslo.cache,MERGED,2022-02-04 13:44:42.000000000,2022-02-14 15:33:48.000000000,2022-02-14 15:30:47.000000000,34,0,2,827864,c6fe2e52e3aac5722c5a1f855951017543a8a704,11,4,1,3,28522,Hervé Beraud,hberaud,"Add retrying options to oslo.cache

This patch specifies a set of options required to setup the retrying wrapper
feature of pymemcache (dogpile.cache) cache backend.

Original oslo.cache change:
https://review.opendev.org/c/openstack/oslo.cache/+/803747

Change-Id: If4622f85e1e7f715805b205bfc3c16cb1e53b943
(cherry picked from commit f7dbe8aa5f4ebc31d77344932fef2eea84a32906)
(cherry picked from commit 88197f306123c521967b5a16b4909e5227554325)
"
openstack%2Fpython-tripleoclient~master~I33c9b5bea949d148f21175c15e9d8522fa4297bf,openstack/python-tripleoclient,master,reproduce-command,I33c9b5bea949d148f21175c15e9d8522fa4297bf,Add --reproduce-command option into Undercloud commands.,MERGED,2022-02-02 13:26:11.000000000,2022-02-14 15:33:13.000000000,2022-02-14 14:39:02.000000000,81,8,18,827494,348437dfa200dff0e45c665f0bf1a2dd65121052,26,6,6,3,26343,Jose Luis Franco,jfrancoa,"Add --reproduce-command option into Undercloud commands.

The tripleo deploy command contains a very useful option named
--reproduce-command. This option will drop a script with the
needed command to reproduce an ansible playbook execution.

This patch adds the very same option into the openstack undercloud
install and openstack undercloud upgrade commands, so that the
underlying tripleo deploy command used to deploy or upgrade creates
this reproducer script.

Change-Id: I33c9b5bea949d148f21175c15e9d8522fa4297bf
Resolves: rhbz#2049444
"
openstack%2Fpuppet-oslo~stable%2Fwallaby~I7deed1bca1ce2f715967e966d4b0cedc1f227027,openstack/puppet-oslo,stable/wallaby,wallaby,I7deed1bca1ce2f715967e966d4b0cedc1f227027,Add socket keepalive options for the pymemcache backend,MERGED,2022-02-04 13:44:42.000000000,2022-02-14 15:32:28.000000000,2022-02-14 15:30:45.000000000,46,0,2,827863,02f7cc8a8fdbe8091edd561add51805cb340249f,11,4,1,3,28522,Hervé Beraud,hberaud,"Add socket keepalive options for the pymemcache backend

This patch specifies a set of options required to setup the socket
keepalive feature of pymemcache (dogpile.cache) cache backend.

Depends-On: https://review.opendev.org/803716
Change-Id: I7deed1bca1ce2f715967e966d4b0cedc1f227027
(cherry picked from commit 60495a42c9e46144dc3625cef6ede24e18245011)
(cherry picked from commit ba251d3e2d85c1c247968c5103805ba6f144a536)
"
openstack%2Fpuppet-nova~master~I69fe5993232a8b37e4b9f527548932c6a2f83864,openstack/puppet-nova,master,redundant-pick,I69fe5993232a8b37e4b9f527548932c6a2f83864,Remove redundant usage of pick function,MERGED,2021-01-12 04:14:19.000000000,2022-02-14 15:13:00.000000000,2022-02-14 15:13:00.000000000,2,2,3,770228,c89593bbef4cffa3ca879094b19f3475694a8181,18,4,2,1,9816,Takashi Kajinami,kajinamit,"Remove redundant usage of pick function

The cpu_shared_set parameter and the cpu_dedicated_set parameter are
set to $::os_service_default by default, so we don't need to implement
a safe default by pick function.

Change-Id: I69fe5993232a8b37e4b9f527548932c6a2f83864
"
openstack%2Fpuppet-nova~master~Ia92d579cb4e94de90802449fd277dbc6eb425bdd,openstack/puppet-nova,master,,Ia92d579cb4e94de90802449fd277dbc6eb425bdd,Drop support for old libvirt package,ABANDONED,2022-02-01 12:11:00.000000000,2022-02-14 15:00:02.000000000,,134,302,0,827273,8e401825389462b56f0946cff0be14b111dbde6e,7,1,2,6,9816,Takashi Kajinami,kajinamit,"Drop support for old libvirt package

This change removes logic to support very old packages. Currently all
distros we support provider puppet 5.6 or later and we don't expect
users are using packages older than distro packages.

Change-Id: Ia92d579cb4e94de90802449fd277dbc6eb425bdd
"
openstack%2Fcinder~master~I7ee24eb3c247bc2e8d5189e6d7ad6d638eeabe66,openstack/cinder,master,bug/1855752,I7ee24eb3c247bc2e8d5189e6d7ad6d638eeabe66,WIP: Always message on nova volume extend failures,NEW,2019-12-10 23:24:02.000000000,2022-02-14 14:45:35.000000000,,3,0,2,698340,f7b3f19b2780c482268d1b84b0ccc78dff7f8fda,52,20,2,1,14070,Eric Fried,efried,"WIP: Always message on nova volume extend failures

When a volume is extended, cinder sends events to nova through the
os-server-external-events API. Nova is supposed to react to those events
by doing whatever's necessary to reflect the new size to the
instance(s).

When something goes wrong with the os-server-external-events API, cinder
sends a user message:

    NOTIFY_COMPUTE_SERVICE_FAILED = (
        '009',
        _(""Compute service failed to extend volume.""))

Prior to the fix for bug 1855752 in nova [1], this message would *not*
be sent under the following conditions:

- The volume is attached to multiple instances; and
- The event was rejected for a *subset* of those instances.

After the fix, the conditions also include:

- The event was rejected for *all* instances, even if that's just one
  instance.

This commit makes rejection of *any* event trigger a message.

[1] https://review.opendev.org/#/c/698037/

Change-Id: I7ee24eb3c247bc2e8d5189e6d7ad6d638eeabe66
Closes-Bug: #1855940
Related-Bug: #1855752
"
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I169e8a453ba32870b5e6142b5cac97c97ef69716,openstack/puppet-tripleo,stable/wallaby,,I169e8a453ba32870b5e6142b5cac97c97ef69716,Fix lint failures,MERGED,2022-02-05 17:38:46.000000000,2022-02-14 14:39:00.000000000,2022-02-14 14:39:00.000000000,3,2,0,828012,ece8832bfc2a2cca260cf8cef6ea4181cad42c5c,8,4,1,2,9816,Takashi Kajinami,kajinamit,"Fix lint failures

This is partial backport of eac5caa96cb675969ea55d736b28735eb6e2fa2a
and fixes lint failures which were not caught properly before.

Change-Id: I169e8a453ba32870b5e6142b5cac97c97ef69716
"
openstack%2Fopenstack-tempest-skiplist~master~Id8cd34cb6b14e50cd089ae2671bfce1f530adcde,openstack/openstack-tempest-skiplist,master,,Id8cd34cb6b14e50cd089ae2671bfce1f530adcde,Add ServerRescueNegativeTestJSON to skiplist for victoria,ABANDONED,2022-02-11 18:22:52.000000000,2022-02-14 14:29:31.000000000,,16,0,5,828913,860d0a85698aee9394980e5693a7ad7285ba27ea,6,2,1,1,34208,Rafael Castillo,rcastill,"Add ServerRescueNegativeTestJSON to skiplist for victoria

Related-Bug: #1960667

Change-Id: Id8cd34cb6b14e50cd089ae2671bfce1f530adcde
"
openstack%2Ftripleo-specs~master~I2d00a0974e89314bde1e57cd77f00c28507375d1,openstack/tripleo-specs,master,ingress_daemon,I2d00a0974e89314bde1e57cd77f00c28507375d1,Introduce TripleO Ceph Ingress Integration,MERGED,2022-01-11 11:58:26.000000000,2022-02-14 14:17:48.000000000,2022-02-14 14:16:06.000000000,259,0,72,824146,ee446b7f409099d4f66d7a0038349e57d0d5d4dc,63,12,13,1,25402,Francesco Pantano,fmount,"Introduce TripleO Ceph Ingress Integration

This spec represents a follow up of [1] where new requirements
are introduced to rely on the provided Ceph HA services. In
particular the goal is to propose and define the changes we need
for the Ceph Ingress daemon across the TripleO projects.

[1] https://specs.openstack.org/openstack/tripleo-specs/specs/yoga/tripleo_ceph_manila.html

Change-Id: I2d00a0974e89314bde1e57cd77f00c28507375d1
"
openstack%2Felection~master~Icefeb2a5e7ed90109a58c3b165ad9c74530697f7,openstack/election,master,,Icefeb2a5e7ed90109a58c3b165ad9c74530697f7,Add Martin Kopec candidacy for Quality_Assurance Z PTL,MERGED,2022-02-14 09:46:11.000000000,2022-02-14 14:10:27.000000000,2022-02-14 14:08:15.000000000,24,0,2,829007,b210e691981902a3860639de0076c442e99e1987,8,4,1,1,22873,Martin Kopec,mkopec,"Add Martin Kopec candidacy for Quality_Assurance Z PTL

Change-Id: Icefeb2a5e7ed90109a58c3b165ad9c74530697f7
"
openstack%2Felection~master~I160a6c3034668a6b49ac0f02ba76d99d71ce1d7a,openstack/election,master,ptl_candidacy,I160a6c3034668a6b49ac0f02ba76d99d71ce1d7a,Add Brin Zhang candidacy for Cyborg,MERGED,2022-02-14 08:54:25.000000000,2022-02-14 14:09:03.000000000,2022-02-14 14:07:29.000000000,22,0,2,829003,a67a16b7c1cca21cc942b1c5e04f086b66f9e27f,8,3,1,1,26458,Brin Zhang,zhangbailin,"Add Brin Zhang candidacy for Cyborg

Change-Id: I160a6c3034668a6b49ac0f02ba76d99d71ce1d7a
"
openstack%2Fmagnum~master~Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe,openstack/magnum,master,calico-3.18,Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe,Upgrade to calico_tag=v3.21.2,MERGED,2021-03-08 22:10:28.000000000,2022-02-14 14:03:23.000000000,2022-02-03 13:55:51.000000000,3948,291,7,779378,9643abc9aeca6584f1dd3aa36e96310dac038fb5,47,5,13,8,28022,Bharat Kunwar,brtknr,"Upgrade to calico_tag=v3.21.2

Additionally, use fixed subnet CIDR for IP_AUTODETECTION_METHOD
supported from v3.16.x onwards.

Story: 2007256
Task: 42017

Change-Id: Iaa25cd5054cec5482f01d90e2cd150bcd9700dbe
"
openstack%2Fpython-cinderclient~master~Ia6b31794bf60a351007cc4476a76b9bcb76bf378,openstack/python-cinderclient,master,collect_timing,Ia6b31794bf60a351007cc4476a76b9bcb76bf378,Add support for collect-timing option,NEW,2022-02-08 16:56:25.000000000,2022-02-14 14:02:03.000000000,,23,0,0,828380,da5ecebb3353618542aa84c2078b03f1a9f6ad83,4,2,2,2,9535,Gorka Eguileor,Gorka,"Add support for collect-timing option

When we run ""cinder help"" we can see that there is a --collect-timing
option:

  --collect-timing Collect per-API call timing information.

This is a keystone session option that we are not currently acting on
from a user perspective.

This patch adds support for this option, and we'll be able to see the
timing in a similar way as we do with OSC:

$ cinder --collect-timing api-version
+------+---------+---------+-------------+
| ID   | Status  | Version | Min_version |
+------+---------+---------+-------------+
| v3.0 | CURRENT | 3.66    | 3.0         |
+------+---------+---------+-------------+
+--------+------------------------------------------------+----------+
| method | url                                            | seconds  |
+--------+------------------------------------------------+----------+
| GET    | http://192.168.121.243/identity                | 0.003591 |
| POST   | http://192.168.121.243/identity/v3/auth/tokens | 0.016649 |
| GET    | http://192.168.121.243/volume/                 | 0.004012 |
| GET    | http://192.168.121.243/volume/                 | 0.004543 |
+--------+------------------------------------------------+----------+

The patch formats the ""elapsed"" time attribute into seconds and renames
the column to ""seconds"" to make it more user friendly similar to OSC.
If we didn't it would look like 0:00:00.003744

Closes-Bug: #1960337
Change-Id: Ia6b31794bf60a351007cc4476a76b9bcb76bf378
"
openstack%2Ftripleo-quickstart-extras~master~Ife09317dc4f5e1a3b2c43fa54a8edbbf9abab3c4,openstack/tripleo-quickstart-extras,master,netstat-logging,Ife09317dc4f5e1a3b2c43fa54a8edbbf9abab3c4,Need to add netstat logging in the background,MERGED,2021-10-27 12:43:54.000000000,2022-02-14 13:53:41.000000000,2022-02-14 13:53:41.000000000,18,0,38,815654,ec65d258abbb9f7a8ad6141a36bccc40ac540695,89,6,9,1,30742,Soniya Murlidhar Vyas,svyas,"Need to add netstat logging in the background

This patch helps us to log netstat.
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: Ife09317dc4f5e1a3b2c43fa54a8edbbf9abab3c4
"
openstack%2Ftripleo-ci~master~Iab540e69b698205cbb9c75061313aad9d9c2d3c4,openstack/tripleo-ci,master,fix-dataclasses,Iab540e69b698205cbb9c75061313aad9d9c2d3c4,Install dataclasses only for python version < 3.7,MERGED,2022-02-11 09:25:50.000000000,2022-02-14 13:50:32.000000000,2022-02-14 13:50:32.000000000,1,1,4,828826,0c2cf3e63ca423977e8eb4d73de738b3c0cb6eed,21,7,3,1,8367,Arx Cruz,arxcruz,"Install dataclasses only for python version < 3.7

According [1] the dataclasses is already included in python 3.7 and
foward versions. Attempt to install it fails because the package
doesn't exist. This patch fix the test-requirements.txt to only
install it when python version is lower than 3.7.

1 - https://github.com/ericvsmith/dataclasses

Closes-Bug: #1960603
Change-Id: Iab540e69b698205cbb9c75061313aad9d9c2d3c4
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I4d803a7b43533debdf6063299878cf1b13c664e6,openstack/tripleo-heat-templates,stable/ussuri,rhbz#2053527,I4d803a7b43533debdf6063299878cf1b13c664e6,[Neutron] Add custom env file to set dns_domain_name,MERGED,2022-02-12 00:16:35.000000000,2022-02-14 13:50:27.000000000,2022-02-14 13:50:27.000000000,2,0,0,828840,8d4deb693615e0c6fee8e29e8ab707667d3f3bb3,11,5,1,1,29775,Sandeep Yadav,sandeepyadav93,"[Neutron] Add custom env file to set dns_domain_name

To be able to run properly dns_domain_name related tests from the
neutron_tempest_plugin.api.test_ports module, Neutron has to have
configured non default dns_domain_name option.
This patch adds custom environment file which will set that config
option to ""openstackgate.local"" which is the same value like is configured
in all of the Neutron CI jobs by the Neutron Devstack plugin.

Related-Bug: #1950815
Change-Id: I4d803a7b43533debdf6063299878cf1b13c664e6
(cherry picked from commit 3da3ff6ea5d36f5a13a5ef1aaa3cac2dc806655d)
"
openstack%2Fkolla~master~I068c906df97745e397408d8c3ef6af47ee037638,openstack/kolla,master,podman,I068c906df97745e397408d8c3ef6af47ee037638,Add podman for image building,NEW,2022-01-21 13:17:37.000000000,2022-02-14 13:50:24.000000000,,106,29,222,825791,6a9710730e13240366d2b550cc43f37079f6de02,32,7,10,8,34501,Konstantin Yarovoy,yarovkon,"Add podman for image building

Add podman as an option to choose for container engine
for kolla-build (--engine podman)

Signed-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>
Change-Id: I068c906df97745e397408d8c3ef6af47ee037638
"
openstack%2Fneutron-lib~master~I8836de91fb5f47f64b44035bfe3fbb4f8a9f63a0,openstack/neutron-lib,master,bug/1959749,I8836de91fb5f47f64b44035bfe3fbb4f8a9f63a0,Add filter flags for QoS rule types,MERGED,2022-02-02 17:28:39.000000000,2022-02-14 13:13:01.000000000,2022-02-14 13:11:28.000000000,113,0,11,827533,683bca82151bf1b33b172d439e0fd1ed47dabe57,33,6,4,7,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add filter flags for QoS rule types

Added two filter flags for the QoS rule type API definition:
- all_supported: if True, the listing call will print all QoS rule
  types supported by at least one loaded mechanism driver.
- all_rules: if True, the listing call will print all QoS rule types
  supported by the Neutron server.

Both flags are exclusive and not required.

Change-Id: I8836de91fb5f47f64b44035bfe3fbb4f8a9f63a0
Related-Bug: #1959749
"
openstack%2Ftempest~master~I1d6410bb0d9eed1bc1e8e503c1cada48d275a9af,openstack/tempest,master,neutron_t_plugin_remove_dup_tests,I1d6410bb0d9eed1bc1e8e503c1cada48d275a9af,Move test_dhcp_port_status_active from neutron-tempest-plugin,NEW,2022-01-12 13:32:20.000000000,2022-02-14 13:02:02.000000000,,35,0,0,824440,f2bb8aa23b9ce497b355c0dd1d91ed03732a8d2f,4,1,2,2,8313,Lajos Katona,elajkat,"Move test_dhcp_port_status_active from neutron-tempest-plugin

test_dhcp_port_status_active is the only missing test in
tempest.api.network.admin.test_dhcp_agent_scheduler.
DHCPAgentSchedulersTestJSON compared to
n_t_p.api.admin.test_dhcp_agent_scheduler.DHCPAgentSchedulersTestJSON.
By moving it from n-t-p we can get rid of the whole module, reducing the
test duplications.

Change-Id: I1d6410bb0d9eed1bc1e8e503c1cada48d275a9af
"
openstack%2Fcharm-ceph-mon~master~Ib21ded8f4a977b4a2d57c6b6b4bb82721b12c4ea,openstack/charm-ceph-mon,master,bug/1905573,Ib21ded8f4a977b4a2d57c6b6b4bb82721b12c4ea,Add profile-name parameter in create-pool action,MERGED,2022-02-04 13:36:40.000000000,2022-02-14 12:51:34.000000000,2022-02-14 12:51:34.000000000,45,5,3,827862,da798bdd95f8fa19ce42363be6bfb268d62fe690,18,3,4,3,19690,Aqsa Malik,Aqsa,"Add profile-name parameter in create-pool action

This change adds a profile name parameter in the create-pool action that
allows a replicated pool to be created with a CRUSH profile other than
the default replicated_rule.

Closes-Bug: #1905573

Change-Id: Ib21ded8f4a977b4a2d57c6b6b4bb82721b12c4ea
"
openstack%2Ftripleo-quickstart-extras~master~I3cd8d0bcc01021b27ca7dc3a3670e3fce60bf861,openstack/tripleo-quickstart-extras,master,rhbz#2053527,I3cd8d0bcc01021b27ca7dc3a3670e3fce60bf861,Set dns_domain_name option for train/ussuri aswell,MERGED,2022-02-11 10:55:10.000000000,2022-02-14 12:49:00.000000000,2022-02-14 12:49:00.000000000,0,2,6,828854,7756b775c0000daeeb16af9d3f7e0575cce544b3,14,6,1,1,29775,Sandeep Yadav,sandeepyadav93,"Set dns_domain_name option for train/ussuri aswell

To be able to run properly dns_domain_name related tests
from the neutron_tempest_plugin.api.test_ports module,
Neutron has to have configured non default dns_domain_name option.

This patch set dns_domain_name option to ""openstackgate.local""
which is the same value like configured in all of the Neutron CI
jobs by the Neutron Devstack plugin.

We have enabled this test in 16.2 by cherry-picking [2] and [3]
in downstream. Same test should not be triggered in train/ussuri
as tempest is pinned - So adding dns_domain_name should ideally
fix downstream(and add coverage) without affecting train/ussuri.

Couldn't find any reason in related-bug on why NeutronDnsDomain
cannot be added for train/ussuri version.

Related-Bug: #1950815

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2053378
[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/821079/
[3] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/820456/

Change-Id: I3cd8d0bcc01021b27ca7dc3a3670e3fce60bf861
"
openstack%2Fnova~master~I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527,openstack/nova,master,fix_bdm_create_with_timeout,I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527,Gracefull recovery when attaching volume fails,MERGED,2022-02-09 11:07:54.000000000,2022-02-14 12:39:45.000000000,2022-02-14 12:37:58.000000000,56,4,11,828516,9eb116b99ce32bc69c4abf8ec3b0179ef89a8860,30,3,3,3,29074,Felix Huettner,felix.huettner,"Gracefull recovery when attaching volume fails

When trying to attach a volume to an already running instance the nova-api
requests the nova-compute service to create a BlockDeviceMapping. If the
nova-api does not receive a response within `rpc_response_timeout` it will
treat the request as failed and raise an exception.

There are multiple cases where nova-compute actually already processed the
request and just the reply did not reach the nova-api in time (see bug report).
After the failed request the database will contain a BlockDeviceMapping entry
for the volume + instance combination that will never be cleaned up again.
This entry also causes the nova-api to reject all future attachments of this
volume to this instance (as it assumes it is already attached).

To work around this we check if a BlockDeviceMapping has already been created
when we see a messaging timeout. If this is the case we can safely delete it
as the compute node has already finished processing and we will no longer pick
it up.
This allows users to try the request again.

A previous fix was abandoned but without a clear reason ([1]).

[1]: https://review.opendev.org/c/openstack/nova/+/731804

Closes-Bug: 1960401
Change-Id: I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527
"
openstack%2Fneutron~master~I53ee3c87ab2a6306b31fc3387b706d8296031a14,openstack/neutron,master,bug/1958643,I53ee3c87ab2a6306b31fc3387b706d8296031a14,[OVS] Add IPv6 ICMP RA to the default ingress rules,MERGED,2022-01-31 17:36:36.000000000,2022-02-14 12:13:24.000000000,2022-02-14 12:11:21.000000000,6,1,7,827159,0d233041206434b91e5f2d1f00593e592019a99d,33,8,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVS] Add IPv6 ICMP RA to the default ingress rules

""ICMPV6_TYPE_RA"" was removed from ""ICMPV6_ALLOWED_INGRESS_TYPES""
because of a bug in the iptables firewall (described in the LP
bug). This rule was added in ""_add_ingress_ra_rule"" to
port[""security_group_rules""]. However, the OVS firewall does not
use this rule list but builds the default rules from scratch.

Closes-Bug: #1958643
Change-Id: I53ee3c87ab2a6306b31fc3387b706d8296031a14
"
openstack%2Fneutron~master~Ia083b5ac98c9e18ddbcdd2e0fc46f2f8432a628c,openstack/neutron,master,bp/qos-minimum-guaranteed-packet-rate,Ia083b5ac98c9e18ddbcdd2e0fc46f2f8432a628c,Add qos-pps-minimum-rule-alias API extension,MERGED,2021-10-22 14:00:52.000000000,2022-02-14 11:57:47.000000000,2022-02-14 11:55:48.000000000,196,0,10,815120,084bb163f2427d9ba260dc376b1c0b831387e503,42,9,4,6,33652,Przemyslaw Szczerbik,pszczerbik,"Add qos-pps-minimum-rule-alias API extension

Introduce a new API extension to enable GET, PUT and DELETE
operations on QoS minimum packet rate rule without specifying
policy ID.

Partial-Bug: #1922237
See-Also: https://review.opendev.org/785236
Change-Id: Ia083b5ac98c9e18ddbcdd2e0fc46f2f8432a628c
"
openstack%2Fpuppet-ceilometer~master~I03fe6c57382069200a1057da46fece3d04f1b972,openstack/puppet-ceilometer,master,gnocchi-swift,I03fe6c57382069200a1057da46fece3d04f1b972,Add scenario002 integration job,MERGED,2022-02-04 09:28:37.000000000,2022-02-14 11:27:57.000000000,2022-02-14 11:27:57.000000000,1,0,1,827822,6975e81db4fa3af7a56343deac56114c95155d98,9,3,1,1,9816,Takashi Kajinami,kajinamit,"Add scenario002 integration job

... because Telemetry service is now enabled in that scenario.

Depends-on: https://review.opendev.org/825929
Change-Id: I03fe6c57382069200a1057da46fece3d04f1b972
"
openstack%2Fopenstack-ansible-lxc_hosts~master~Icf3c21de86297c2de3fc043d4903452747710e39,openstack/openstack-ansible-lxc_hosts,master,,Icf3c21de86297c2de3fc043d4903452747710e39,Simplify installtion of libpython,MERGED,2022-02-02 09:40:32.000000000,2022-02-14 11:21:03.000000000,2022-02-14 11:19:18.000000000,1,1,5,827458,bafac67172162ae8f569a3a1321f700015650800,19,3,1,1,25023,Jonathan Rosser,jrosser,"Simplify installtion of libpython

We only support one version of Debian so can remove the logic that
supports older versions.

Change-Id: Icf3c21de86297c2de3fc043d4903452747710e39
"
openstack%2Fpuppet-horizon~stable%2Fwallaby~I7a900d75ddffae88760d5965a1f9ac2f4277624f,openstack/puppet-horizon,stable/wallaby,,I7a900d75ddffae88760d5965a1f9ac2f4277624f,Fix missing HORIZON_IMAGES_UPLOAD_MODE,MERGED,2021-10-25 12:30:58.000000000,2022-02-14 10:47:55.000000000,2022-02-14 10:44:47.000000000,27,3,0,815291,a12c7720700b79cb3e5da60b91e2b1cd3d76b221,8,5,1,4,9816,Takashi Kajinami,kajinamit,"Fix missing HORIZON_IMAGES_UPLOAD_MODE

The value as of current is treated as an expression
by horizon and will cause horizon to fail. The value
must be encapsulated with quotes so it is treated as
a string.

Backport note:
The deprecation warning message is not included in backports.

Conflicts:
	manifests/init.pp

Closes-Bug: #1946277
Change-Id: I7a900d75ddffae88760d5965a1f9ac2f4277624f
(cherry picked from commit 625275af36f6775e939334724f439c480d863d24)
(cherry picked from commit d22f10750cb712c89a7f9164e8b9dabadd3d6d9f)
"
openstack%2Freleases~master~I95d9b537530982648db231da7cb4dbcfdaa904d6,openstack/releases,master,openstacksdk_0620,I95d9b537530982648db231da7cb4dbcfdaa904d6,New OpenStack SDK release 0.62.0,ABANDONED,2022-02-01 16:09:01.000000000,2022-02-14 10:43:12.000000000,,4,0,1,827316,a6879c8f6e1e55573d39624d06cb6f152444026a,4,5,1,1,8313,Lajos Katona,elajkat,"New OpenStack SDK release 0.62.0

Included (feature) commits:
dd892d7b Use empty read_acl for swift container
3c8826d0 Get rid of normalization in compute CL
3e84351c Add QoS min pps rule object and CRUD operations

I do no list here the many things merged from feature/r1

Change-Id: I95d9b537530982648db231da7cb4dbcfdaa904d6
"
openstack%2Fpuppet-gnocchi~master~Ibc71fef2e59da5eff55555960dc8c59c5e368194,openstack/puppet-gnocchi,master,gnocchi-swift,Ibc71fef2e59da5eff55555960dc8c59c5e368194,Add scenario002 integration job,MERGED,2022-02-04 09:28:07.000000000,2022-02-14 10:41:46.000000000,2022-02-14 10:41:46.000000000,1,0,0,827821,792621d97da0ae59e975f0bb017c3d68c1c7da22,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Add scenario002 integration job

... because Telemetry service is now enabled in that scenario.

Depends-on: https://review.opendev.org/825929
Change-Id: Ibc71fef2e59da5eff55555960dc8c59c5e368194
"
openstack%2Fpuppet-aodh~master~I0f8213343ec1946212378adef80d222a2cc73a89,openstack/puppet-aodh,master,gnocchi-swift,I0f8213343ec1946212378adef80d222a2cc73a89,Add scenario002 integration job,MERGED,2022-02-04 09:27:23.000000000,2022-02-14 10:36:09.000000000,2022-02-14 10:36:09.000000000,1,0,0,827820,ece29f7d9cdedaefcc83da13fc6d98bbfafc91f4,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Add scenario002 integration job

... because Telemetry service is now enabled in that scenario.

Depends-on: https://review.opendev.org/825929
Change-Id: I0f8213343ec1946212378adef80d222a2cc73a89
"
openstack%2Fkuryr-kubernetes~master~Ic93a105b4a67b8dff15bf0e80b13f4743ffce7ff,openstack/kuryr-kubernetes,master,bug/1960311,Ic93a105b4a67b8dff15bf0e80b13f4743ffce7ff,Update KLB .spec.provider when required,MERGED,2022-02-08 11:46:12.000000000,2022-02-14 10:35:40.000000000,2022-02-14 10:33:58.000000000,29,38,5,828284,b9f68b40fa4eefa9b58b9c8f732255de2ecbae80,18,5,2,4,11600,Michał Dulko,dulek,"Update KLB .spec.provider when required

During the refactoring to allow proper Events creation for Services,
we've lost ability to update KLBs .spec.provider when configuration is
changed to use another provider. This commit fixes it by making sure
.spec.provider mismatch with the configured provider triggers the .spec
update.

Change-Id: Ic93a105b4a67b8dff15bf0e80b13f4743ffce7ff
Closes-Bug: 1960311
"
openstack%2Fdebtcollector~master~Ib34c55347d2285fb162467dfbe8b3049d7c06069,openstack/debtcollector,master,trivial,Ib34c55347d2285fb162467dfbe8b3049d7c06069,requirements: Move doc requirements to their own file,ABANDONED,2021-11-12 11:44:24.000000000,2022-02-14 10:29:49.000000000,,16,17,0,817751,ca0a9c69dbbb53b5a621c2267bb6acc7fa8b3949,5,1,2,3,15334,Stephen Finucane,sfinucan,"requirements: Move doc requirements to their own file

We can also remove some dependencies that we don't actually use.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ib34c55347d2285fb162467dfbe8b3049d7c06069
"
openstack%2Fpuppet-ironic~stable%2Fxena~If032600c34394f9f0f3686971082aafeab9be3ea,openstack/puppet-ironic,stable/xena,multistropt-stable/xena,If032600c34394f9f0f3686971082aafeab9be3ea,Add support for MultiStrOpt (inspector),MERGED,2021-12-27 07:30:45.000000000,2022-02-14 10:21:51.000000000,2022-02-14 10:21:51.000000000,66,13,0,822938,7e1f4200372542e9169c4e18fcf5f557b9e2ce46,7,3,1,4,9816,Takashi Kajinami,kajinamit,"Add support for MultiStrOpt (inspector)

This replaces the provider implementation of ironic_inspector_config
type so that MultiStrOpt, which is used by several options like
 - oslo_policy/policy_dirs
are handled correctly.

The same was already implemented for ironic_config by [1].

[1] 0f4a5263a7f4264f6148e8c04f32992b0b07e1a5

Change-Id: If032600c34394f9f0f3686971082aafeab9be3ea
(cherry picked from commit ecdeb8f36575675998e1d3e77fba53fb5ee87e50)
"
openstack%2Fcyborg~master~Idac2258cb411c2065212d4b76989d572b9f86f3d,openstack/cyborg,master,exc-bug,Idac2258cb411c2065212d4b76989d572b9f86f3d,no type field in ExpectedOneObject format message,MERGED,2020-02-14 11:36:15.000000000,2022-02-14 10:03:15.000000000,2022-02-14 10:01:49.000000000,20,1,4,707821,60e98412900b4dbd7a79faeaaa681a938bfa8dd4,15,6,3,2,14131,shaohef,shaohefeng,"no type field in ExpectedOneObject format message

Co-Authored-By: Eric Xie <eric_xiett@163.com>
Change-Id: Idac2258cb411c2065212d4b76989d572b9f86f3d
"
openstack%2Fkayobe~master~Icb45116708bd31581c50a758180a531144eeac8f,openstack/kayobe,master,,Icb45116708bd31581c50a758180a531144eeac8f,DNM: use correct libvirt roles,ABANDONED,2022-02-08 15:39:59.000000000,2022-02-14 09:55:05.000000000,,15,19,0,828367,4cd9ab97b09e34b57bd25855a129239fda22776e,10,1,5,3,14826,Mark Goddard,mgoddard,"DNM: use correct libvirt roles

Change-Id: Icb45116708bd31581c50a758180a531144eeac8f
"
openstack%2Fswift~master~Ie1a435ae7f5e5f1926e94393ae397f64ba9ea4f4,openstack/swift,master,doc-update,Ie1a435ae7f5e5f1926e94393ae397f64ba9ea4f4,update REVIEW_GUIDELINES,NEW,2022-02-12 14:35:20.000000000,2022-02-14 09:38:14.000000000,,22,38,30,828944,baf5567cb053108319248428834666edbc33cc53,7,3,1,1,1179,Clay Gerrard,clay-gerrard,"update REVIEW_GUIDELINES

Change-Id: Ie1a435ae7f5e5f1926e94393ae397f64ba9ea4f4
"
openstack%2Fnova~master~I11fb5d3ada7f27b39c183157ea73c8b72b4e672e,openstack/nova,master,bug/1895220,I11fb5d3ada7f27b39c183157ea73c8b72b4e672e,libvirt: Delegate OVS plug to os-vif,MERGED,2018-09-13 20:03:24.000000000,2022-02-14 09:26:54.000000000,2021-05-01 04:06:48.000000000,251,115,115,602432,a62dd42c0dbb6b2ab128e558e127d76962738446,403,29,33,15,11604,sean mooney,sean-k-mooney,"libvirt: Delegate OVS plug to os-vif

os-vif 1.15.0 added the ability to create an OVS port during plugging
by specifying the 'create_port' attribute in the 'port_profile' field.
By delegating port creation to os-vif, we can rely on it's 'isolate_vif'
config option [1] that will temporarily configure the VLAN to 4095
(0xfff), which is reserved for implementation use [2] and is used by
neutron to as a dead VLAN [3]. By doing this, we ensure VIFs are plugged
securely, preventing guests from accessing other tenants' networks
before the neutron OVS agent can wire up the port.

This change requires a little dance as part of the live migration flow.
Since we can't be certain the destination host has a version of os-vif
that supports this feature, we need to use a sentinel to indicate when
it does. Typically we would do so with a field in
'LibvirtLiveMigrateData', such as the 'src_supports_numa_live_migration'
and 'dst_supports_numa_live_migration' fields used to indicate support
for NUMA-aware live migration. However, doing this prevents us
backporting this important fix since o.vo changes are not backportable.
Instead, we (somewhat evilly) rely on the free-form nature of the
'VIFMigrateData.profile_json' string field, which stores JSON blobs and
is included in 'LibvirtLiveMigrateData' via the 'vifs' attribute, to
transport this sentinel. This is a hack but is necessary to work around
the lack of a free-form ""capabilities"" style dict that would allow us do
backportable fixes to live migration features.

Note that this change has the knock on effect of modifying the XML
generated for OVS ports: when hybrid plug is false will now be of type
'ethernet' rather than 'bridge' as before. This explains the larger than
expected test damage but should not affect users.

[1] https://opendev.org/openstack/os-vif/src/tag/2.4.0/vif_plug_ovs/ovs.py#L90-L93
[2] https://en.wikipedia.org/wiki/IEEE_802.1Q#Frame_format
[3] https://answers.launchpad.net/neutron/+question/231806

Change-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e
Depends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50
Closes-Bug: #1734320
Closes-Bug: #1815989
"
openstack%2Ftenks~master~I293e1c14ec478a3b2e59f1e03f2c00e35f955b8b,openstack/tenks,master,,I293e1c14ec478a3b2e59f1e03f2c00e35f955b8b,DNM: IPMI listen on localhost,ABANDONED,2022-02-11 15:56:39.000000000,2022-02-14 09:17:16.000000000,,1,1,0,828901,bc7b54467cb56939a04d9571a4aecfd62236400a,3,1,1,1,14826,Mark Goddard,mgoddard,"DNM: IPMI listen on localhost

Change-Id: I293e1c14ec478a3b2e59f1e03f2c00e35f955b8b
"
openstack%2Freleases~master~I314ba9c6cd42fa1cf0c6bfdfa3404f4de651c80e,openstack/releases,master,bug/1932154,I314ba9c6cd42fa1cf0c6bfdfa3404f4de651c80e,New neutron-lib release,ABANDONED,2022-02-09 05:13:10.000000000,2022-02-14 09:14:53.000000000,,4,0,5,828452,ba07941ab5e1f3d763843ec1c571a93c8ffd6982,10,4,1,1,13686,Frode Nordahl,fnordahl,"New neutron-lib release

During the review of the Nova side of the off-path SmartNIC DPU
support [0] it became apparent that the initial guidance to re-use
the VNIC_SMARTNIC vnic type would not hold as it would affect
Ironic's usage of it.

As such a new vnic type, VNIC_REMOTE_MANAGED, has been introduced
[1].

Review of the Neutron side of this work is blocked until a new
release is made available.

0: https://review.opendev.org/c/openstack/neutron-specs/+/828173
1: https://review.opendev.org/c/openstack/neutron-lib/+/828174

Related-Bug: #1932154
Change-Id: I314ba9c6cd42fa1cf0c6bfdfa3404f4de651c80e
"
openstack%2Fcharm-rabbitmq-server~master~I72155c4bd2ace7497d59eeec3552985aec39d44b,openstack/charm-rabbitmq-server,master,bug/1960769,I72155c4bd2ace7497d59eeec3552985aec39d44b,Add charmhelpers to charmcraft.yaml,MERGED,2022-02-14 03:41:26.000000000,2022-02-14 08:18:17.000000000,2022-02-14 08:18:17.000000000,1,0,2,828990,c01df1bc3564d337fa5bf2d59b76e49efe8aeefd,8,4,1,1,8992,Billy Olsen,billy-olsen,"Add charmhelpers to charmcraft.yaml

Charmhelpers directory was missed in the conversion to the charmcraft
way of building charms. The rabbit charm has a slightly different
location for charmhelpers than other charms. Add charmhelpers to
charmcraft.yaml to ensure it is packed in the charm file.

Change-Id: I72155c4bd2ace7497d59eeec3552985aec39d44b
Closes-Bug: #1960769
"
openstack%2Ftripleo-ci~master~I36468ab9a93b0260bf597d381057286efc5608e1,openstack/tripleo-ci,master,,I36468ab9a93b0260bf597d381057286efc5608e1,DNM: Add quickstart verbosity to upgrades victoria job,ABANDONED,2021-12-09 08:54:26.000000000,2022-02-14 06:57:14.000000000,,1,0,0,821165,4093d63019f1acc52719e9435a833e8931b6fb69,4,2,1,1,26343,Jose Luis Franco,jfrancoa,"DNM: Add quickstart verbosity to upgrades victoria job

Change-Id: I36468ab9a93b0260bf597d381057286efc5608e1
"
openstack%2Fglance~master~I172d640b7155913ad20599fd99825e501ed82631,openstack/glance,master,remove-six,I172d640b7155913ad20599fd99825e501ed82631,Remove six.assertRaisesRegex usage,MERGED,2021-12-22 16:14:34.000000000,2022-02-14 06:48:58.000000000,2022-02-14 06:46:15.000000000,48,52,0,822739,f68e04f26837cbebd8593c6ca87ec9fe9bca0ea4,14,4,3,1,15334,Stephen Finucane,sfinucan,"Remove six.assertRaisesRegex usage

Change-Id: I172d640b7155913ad20599fd99825e501ed82631
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fglance~master~Ibca3884e1ea3d0fb170bcc9e70a176d144ee24cc,openstack/glance,master,remove-six,Ibca3884e1ea3d0fb170bcc9e70a176d144ee24cc,Remove remaining six.moves usage,MERGED,2021-12-22 16:14:34.000000000,2022-02-14 06:47:47.000000000,2022-02-14 06:46:12.000000000,31,40,6,822738,931809c0379ff3bc08f9caabd40416c00c556392,22,4,3,10,15334,Stephen Finucane,sfinucan,"Remove remaining six.moves usage

Change-Id: Ibca3884e1ea3d0fb170bcc9e70a176d144ee24cc
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpuppet-cinder~master~I6471cc1d49e578cc4391cf1db218a55835c5c140,openstack/puppet-cinder,master,c8_teardown_master,I6471cc1d49e578cc4391cf1db218a55835c5c140,TripleO jobs: Replace CentOS 8 jobs by CentOS 9 jobs,ABANDONED,2022-02-09 14:48:41.000000000,2022-02-14 06:33:37.000000000,,1,1,1,828544,93a98fde9bb747f07a8594eec9d2616096a8f49c,4,2,1,1,31075,Pooja Jadhav,pojadhav,"TripleO jobs: Replace CentOS 8 jobs by CentOS 9 jobs

Now TripleO team is replacing CentOS 8 jobs in master by CentOS 9 jobs.
This follows that and replaces tripleo jobs in puppet repos to switch
to CentOS 9.

Depends-on: https://review.opendev.org/828525
Change-Id: I6471cc1d49e578cc4391cf1db218a55835c5c140
"
openstack%2Ftempest~master~I58f6fefef0f0a9db2f7fdf2a1a0125f616319949,openstack/tempest,master,bug/1959899,I58f6fefef0f0a9db2f7fdf2a1a0125f616319949,Add logging to metadata parsing,MERGED,2022-02-03 13:04:35.000000000,2022-02-14 04:30:18.000000000,2022-02-14 04:28:29.000000000,6,2,4,827659,8f68f69ccfb9ad2bd4cdf822d248278dd08faef2,15,3,3,1,9708,Balazs Gibizer,gibi,"Add logging to metadata parsing

The TaggedAttachmentsTest class queries server metadata to see if the
tagging is visible from the guest. However when the check fails it does
not log what was the faulty metadata. To make troubleshooting easier
this patch adds logging for the error cases.

Change-Id: I58f6fefef0f0a9db2f7fdf2a1a0125f616319949
"
openstack%2Fskyline-apiserver~master~I1c07a63700d2f0b9c3474f95dae8d430d0ef03bb,openstack/skyline-apiserver,master,,I1c07a63700d2f0b9c3474f95dae8d430d0ef03bb,fix: Update README.md,MERGED,2022-02-14 01:51:04.000000000,2022-02-14 03:07:00.000000000,2022-02-14 03:07:00.000000000,4,0,0,828985,47291a236598487576760860e559cad27cb33008,6,2,1,2,33196,conna,yangshaoxue,"fix: Update README.md

Update README.md

Change-Id: I1c07a63700d2f0b9c3474f95dae8d430d0ef03bb
"
openstack%2Fskyline-console~master~I8014f8cc0387391df141b4d8d34c9647bfee1e7f,openstack/skyline-console,master,,I8014f8cc0387391df141b4d8d34c9647bfee1e7f,fix: update .gitreview,MERGED,2022-02-14 02:14:11.000000000,2022-02-14 03:06:59.000000000,2022-02-14 03:06:59.000000000,1,1,2,828987,4f7dec52bd38e99cbed5442996f53f4c1e4a6510,9,2,2,1,33196,conna,yangshaoxue,"fix: update .gitreview

Update .gitreview
Depends-On: https://review.opendev.org/c/openstack/project-config/+/822222

Change-Id: I8014f8cc0387391df141b4d8d34c9647bfee1e7f
"
openstack%2Frequirements~master~I31c56063ab6e00391e9a89adfd7fbc9c9f6e5f7e,openstack/requirements,master,new-release,I31c56063ab6e00391e9a89adfd7fbc9c9f6e5f7e,update constraint for taskflow to new release 4.6.4,MERGED,2022-02-09 09:20:07.000000000,2022-02-14 02:39:11.000000000,2022-02-14 02:36:55.000000000,1,1,0,828503,ad3ad158a689c6220dd7233c95085f9e7f9322c3,20,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for taskflow to new release 4.6.4

meta: version: 4.6.4
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I89863c57f449cfad2903f6832ee89e95f039b911
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I31c56063ab6e00391e9a89adfd7fbc9c9f6e5f7e
"
openstack%2Ftempest~master~I950c05264b10ac89f92eaa9aef26aab82c0d1dfd,openstack/tempest,master,bp/ml2-ovs-portsecurity,I950c05264b10ac89f92eaa9aef26aab82c0d1dfd,Implementation of Scenario tests for port-security extension,NEW,2015-04-28 11:24:58.000000000,2022-02-14 02:34:38.000000000,,223,0,35,178137,b455f422bce0827ec44518bc7f660ed62ca11595,127,25,31,1,15637,Dmitry Ratushnyy,dratushnyy,"Implementation of Scenario tests for
port-security extension

Test attach secure and insecure ports to server
at the same time
Test send packets between two networks through
server
Depends-On: If13301bc2df30d02c0a2e37b3e908c0fa199e6c7
Depends-On: I9cffa695f99ffe8257e75a3a5899521ddc50ef85
Change-Id: I950c05264b10ac89f92eaa9aef26aab82c0d1dfd
"
openstack%2Ftempest~master~I786b2ea645c5763c848ad2ba96077c5ff3de14a2,openstack/tempest,master,test_arp_poisoning,I786b2ea645c5763c848ad2ba96077c5ff3de14a2,Add scenario tests for arp poisoning.,NEW,2015-11-21 12:54:58.000000000,2022-02-14 02:34:32.000000000,,323,2,1,248355,779d23bbb12b1b32e582e18d5efb222d4db793bb,111,12,20,2,15637,Dmitry Ratushnyy,dratushnyy,"Add scenario tests for arp poisoning.

Change-Id: I786b2ea645c5763c848ad2ba96077c5ff3de14a2
"
openstack%2Ftempest~master~I7ea26df580db89f1c451499df72d6556269d8a6c,openstack/tempest,master,assertEqual,I7ea26df580db89f1c451499df72d6556269d8a6c,Fix order of arguments in assertEqual,ABANDONED,2016-12-19 02:33:27.000000000,2022-02-14 02:34:11.000000000,,6,6,3,412250,9e6dbb484db3075545543e86996a0b5fe26a1063,9,3,1,3,24061,pangliye,pangliye,"Fix order of arguments in assertEqual

1. What is the problem?
Some tests used incorrect order assertEqual(observed, expected),
the correct order expected by testtools is
assertEqual(expected, observed).

2. What is the solution to the problem?
Change assertEqual(observed, expected) to the correct order of
assertEqual(expected, observed).

3. What the features need to be implemented to the Tricircle to
realize the solution?
No new features

Change-Id: I7ea26df580db89f1c451499df72d6556269d8a6c
"
openstack%2Ftempest~master~I7c5d06e1f8d45a5b95a27a616d90c86206a6bf8c,openstack/tempest,master,remove-glance-v1,I7c5d06e1f8d45a5b95a27a616d90c86206a6bf8c,Remove Glance v1,ABANDONED,2018-07-25 17:00:34.000000000,2022-02-14 02:33:09.000000000,,38,1136,2,585828,13d74ac7f3975c3e24f744056a1757e2dacd8ae1,16,7,3,26,8122,Cyril Roelandt,cyril.roelandt.enovance,"Remove Glance v1

Glance v1 has been deprecated since Rocky. We should now be able to
remove v1-specific code from Tempest.

Change-Id: I7c5d06e1f8d45a5b95a27a616d90c86206a6bf8c
"
openstack%2Ftempest~master~I3b1e68fe3558d208e7a2324363616fbac9bd7a65,openstack/tempest,master,,I3b1e68fe3558d208e7a2324363616fbac9bd7a65,check soft_deleted status before error,NEW,2020-03-29 01:33:28.000000000,2022-02-14 02:32:19.000000000,,5,5,1,715668,88b2555c13a6d37fdd3831427c5cb2d11d3fef1b,8,6,1,1,30736,HYSong,Shy,"check soft_deleted status before error

fix check soft_deleted status before error

Change-Id: I3b1e68fe3558d208e7a2324363616fbac9bd7a65
"
openstack%2Ftempest~master~I0bd16b0c5fc219bd34218c54cfe4f19330eb66b5,openstack/tempest,master,dvr_negative_test,I0bd16b0c5fc219bd34218c54cfe4f19330eb66b5,Added negative test for DVR routers,NEW,2015-05-15 22:56:19.000000000,2022-02-14 02:31:59.000000000,,55,0,9,183726,081bc4fd7964c99ddfe3a568881ebf0e390b5cb5,61,11,11,1,15739,Hardik Italia,hitalia,"Added negative test for DVR routers

Test uses administrative credentials to create a
Distributed Virtual router using the disributed=True.
Then it will ""update"" the router's distributed attribute
to False and validate appropriate exception raised.

Test Added:
-test_dvr_router_update_to_centralized_returns_notimplemented

Change-Id: I0bd16b0c5fc219bd34218c54cfe4f19330eb66b5
"
openstack%2Ftempest~master~I144c3f9d0e24297618552e76edb2c124caaeda2f,openstack/tempest,master,bug/1845486,I144c3f9d0e24297618552e76edb2c124caaeda2f,Wait for ports to be ready,NEW,2019-09-26 11:21:11.000000000,2022-02-14 02:31:08.000000000,,37,25,1,685039,42f4a17301827eb3b9dffe0d9fcbeac5b82a1745,6,3,3,1,518,Soren Hansen,soren,"Wait for ports to be ready

test_network_basic_ops would often fail for me. It turns out my vm's
port was often still in BUILD state. Adding a retry loop to wait for it
to be ready.

Closes-Bug: #1845486
Change-Id: I144c3f9d0e24297618552e76edb2c124caaeda2f
"
openstack%2Ftempest~master~I354da9f16748bf5828f4ff2e930154af463fcdc7,openstack/tempest,master,,I354da9f16748bf5828f4ff2e930154af463fcdc7,test_volume_retype - add random prefix,NEW,2022-02-01 12:05:18.000000000,2022-02-14 02:06:45.000000000,,6,2,3,827272,3ef4ca57e9f42d7e5cca41e22a3004c4b776a34a,6,3,1,1,33612,yuval,yuval,"test_volume_retype - add random prefix

As a third party ci maintainer - sometimes volumes types fail to delete.
once this happen and the volume type name is repeated the next tests,
we  start to fail since the volume type creation fails.

Change-Id: I354da9f16748bf5828f4ff2e930154af463fcdc7
"
openstack%2Ftacker~master~I4de84c85ab77429fb5b2c07f500c453632960a84,openstack/tacker,master,bp/multi-tenant-policy,I4de84c85ab77429fb5b2c07f500c453632960a84,Add specifying tenant in notification,MERGED,2021-07-01 09:12:59.000000000,2022-02-14 02:04:32.000000000,2022-02-14 02:00:11.000000000,234,42,30,799022,41d7f5ce01116780bbfca3c99c45c7ffdcc11c31,76,5,27,13,32736,Wataru Juso,w-juso,"Add specifying tenant in notification

This patch fixes separate resources related to ETSI NFV-SOL based
VNF management by using tenant.

Co-Author: Manpreet Kaur <kaurmanpreet2620@gmail.com>

Implement: blueprint multi-tenant-policy
Change-Id: I4de84c85ab77429fb5b2c07f500c453632960a84
"
openstack%2Frequirements~master~Iaa3a8b56d70762dbd16e61711d160ffd47d2530c,openstack/requirements,master,openstack/requirements/constraints/noclob,Iaa3a8b56d70762dbd16e61711d160ffd47d2530c,Updated from generate-constraints,MERGED,2022-02-05 03:05:35.000000000,2022-02-14 00:45:38.000000000,2022-02-14 00:43:14.000000000,24,24,0,827939,fb90846cf0603a2a2822d6cda16f5ce194964953,42,2,11,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Iaa3a8b56d70762dbd16e61711d160ffd47d2530c
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fpuppet-designate~master~I5d7c0ebe62525cfa75e2e46fd66effa7404cecbf,openstack/puppet-designate,master,standardize_manage_service,I5d7c0ebe62525cfa75e2e46fd66effa7404cecbf,designate-worker: Use consistent parameters for service/package,ABANDONED,2021-07-30 13:48:51.000000000,2022-02-14 00:12:50.000000000,,48,48,0,803036,ee28e0ebc3cbcfea3cddcf8c5c1f41773f77ff8a,5,1,2,12,9816,Takashi Kajinami,kajinamit,"designate-worker: Use consistent parameters for service/package

Currently only the designate::worker class provides service_ensure and
package_management, while the other service classes like designate::api
doesn't. This change deprecates parameters only implemented in worker
class to make interface consistent among all services.

Change-Id: I5d7c0ebe62525cfa75e2e46fd66effa7404cecbf
"
openstack%2Fpuppet-octavia~master~Icddb75d432c351d99b3de115820da1310313f402,openstack/puppet-octavia,master,,Icddb75d432c351d99b3de115820da1310313f402,DNM: testing fix of nova_flavor,ABANDONED,2022-02-13 12:53:59.000000000,2022-02-13 23:41:19.000000000,,0,1,0,828975,dddbfe3e495c57a228c9488ef769c0f73871939a,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: testing fix of nova_flavor

Depends-on: https://review.opendev.org/c/openstack/puppet-nova/+/828934
Change-Id: Icddb75d432c351d99b3de115820da1310313f402
"
openstack%2Frequirements~master~Ic17d2c6dcc4da53636ff3eb60d0fc78fb472f7a4,openstack/requirements,master,new-release,Ic17d2c6dcc4da53636ff3eb60d0fc78fb472f7a4,update constraint for pbr to new release 5.8.1,MERGED,2022-02-07 07:53:04.000000000,2022-02-13 23:10:30.000000000,2022-02-13 23:09:13.000000000,1,1,2,828084,52e599898018adca31a79dd1fefebcc5b6113b67,22,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for pbr to new release 5.8.1

meta: version: 5.8.1
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Jeremy Stanley <fungi@yuggoth.org>
meta: release:Commit: Jeremy Stanley <fungi@yuggoth.org>
meta: release:Change-Id: I4a96f0cb79547b2d65abcb606472ea41b21c9ad6
meta: release:Code-Review+1: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Ic17d2c6dcc4da53636ff3eb60d0fc78fb472f7a4
"
openstack%2Fnova~stable%2Fvictoria~I1ceb01a6f4d8d6e1d04fd18c62beee051f41cdf0,openstack/nova,stable/victoria,sf321893v1-victoria,I1ceb01a6f4d8d6e1d04fd18c62beee051f41cdf0,libvirt: disable secure boot on non-q35 or with os secure_boot options,ABANDONED,2022-02-13 22:25:07.000000000,2022-02-13 22:26:06.000000000,,17,0,0,828978,41227b7127e05cb583f781cc0877ad4e453a2c29,2,0,1,1,28621,Mauricio Faria de Oliveira,mfo,"libvirt: disable secure boot on non-q35 or with os secure_boot options

Impact:
===

Currently, setting hw_firwmare_type=uefi on Ubuntu 20.04
might create _unbootable_ servers on Ussuri and Victoria.

Wallaby and later are fixed with refactoring, as part of
the Secure Boot implementation, but that's risky; see
commit 9fff6893ce2e (""libvirt: Use firmware metadata files
to configure instance"") and others.

Issue:
===

The issue is that if UEFI is enabled, SB can be enabled
if loader OVMF_CODE.secboot.fd exists (eg, Ubuntu 20.04);
see commit 363710b65543 (""libvirt: Handle alternative
UEFI firmware binary paths"").

This is unintended and might prevent guest from booting
because SB requires an q35 machine type, SMM feature in
libvirt XML, SB-ready image etc. (Neither is enabled by
default nor guaranteed to be available or functional.)

Approach:
===

Well, SB support _isn't_ implemented in Ussuri/Victoria,
only later in Wallaby. The first commit above fixes the
issue because it removes hardcoded firmware/loader path
from second commit above.

As SB isn't supported, could we just ignore .secboot.fd?

But let's not change default behavior ~2 years into LTS.

Fix:
===

So, ignore .secboot.fd loader IF not q35. And since q35
may be set for AMD SEV, check `os.secure_boot` property/
extra spec for `disabled` to ignore .secboot.fd as well
(as listed in future `doc/source/admin/secure-boot.rst`),
and users can explicitly disable it to boot UEFI on q35.

(And as SB is not supported, do not check for both must
match [`disabled`/`required`] as `required` isn't valid;
thus if either image/flavor sets `disabled`, disable it).

Info:
===

    [0] https://docs.openstack.org/nova/wallaby/admin/uefi.html
    [1] https://docs.openstack.org/nova/wallaby/admin/secure-boot.html
    [2] https://docs.openstack.org/nova/wallaby/user/flavors.html
    [3] https://specs.openstack.org/openstack/nova-specs/specs/wallaby/implemented/allow-secure-boot-for-qemu-kvm-guests.html

Tests:
===

    Original:

    - Boots: BIOS / pc
    - Boots: BIOS / q35

    - Fails: UEFI / pc  / OVMF_CODE.secboot.fd
    - Fails: UEFI / q35 / OVMF_CODE.secboot.fd

    Patched:

    - Boots: BIOS / pc
    - Boots: BIOS / q35

    - Boots: UEFI / pc  / OVMF_CODE.fd          # FIXED!
    - Fails: UEFI / q35 / OVMF_CODE.secboot.fd  # No change by default.

    - Boots: UEFI / q35 / OVMF_CODE.fd / os_secure_boot=disabled (image)
    - Boots: UEFI / q35 / OVMF_CODE.fd / os:secure_boot=disabled (flavor)

Logs: (included for PC with UEFI only; broken/fixed case)
===

    $ openstack image set --property hw_firmware_type=uefi bionic
    $ openstack server create --image bionic --flavor m1.small --network private srv

Before:

    $ juju run --app nova-compute 'for guest in $(virsh list --name); do \
      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader'
          <nova:name>srv</nova:name>
        <type arch='x86_64' machine='pc-i440fx-4.2'>hvm</type>
        <loader readonly='yes' type='pflash'>/usr/share/OVMF/OVMF_CODE.secboot.fd</loader>

    Guest doesn't boot; nothing in the console log:

    $ openstack console log show srv | grep -i -e efi -e bios
    $ openstack console log show srv | wc -l
    0

    QEMU looping / 100% CPU:

    $ juju run --app nova-compute 'top -b -d1 -n5 | grep qemu'
      67205 libvirt+  ... 100.0   1.4   1:18.35	qemu-sy+
      67205 libvirt+  ... 100.0   1.4   1:19.36	qemu-sy+
      67205 libvirt+  ...  99.0   1.4   1:20.36	qemu-sy+
      67205 libvirt+  ... 101.0   1.4   1:21.37	qemu-sy+
      67205 libvirt+  ... 100.0   1.4   1:22.38	qemu-sy+

After:

    $ juju run --app nova-compute 'for guest in $(virsh list --name); do \
      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader'
          <nova:name>srv</nova:name>
        <type arch='x86_64' machine='pc-i440fx-4.2'>hvm</type>
        <loader readonly='yes' type='pflash'>/usr/share/OVMF/OVMF_CODE.fd</loader>

    Guest booted; details in the console log:

    $ openstack console log show srv | grep -i -e efi -e bios
    ...
    Creating boot entry ""Boot0003"" with label ""ubuntu"" for file ""\EFI\ubuntu\shimx64.efi""
    ...
    [    0.000000] efi: EFI v2.70 by EDK II
    [    0.000000] efi:  SMBIOS=0x7fbcd000  ACPI=0x7fbfa000  ACPI
    2.0=0x7fbfa014  MEMATTR=0x7eb30018
    [    0.000000] SMBIOS 2.8 present.
    [    0.000000] DMI: OpenStack Foundation OpenStack Nova, BIOS 0.0.0 02/06/2015
    ...

Note that the XML snippet for the loader is aligned with Wallaby,
in which just setting hw_firmware_type=uefi works out of the box:

    $ juju run --app nova-compute 'for guest in $(virsh list --name); do \
      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader'
        <nova:name>srv</nova:name>
      <type arch='x86_64' machine='pc-i440fx-4.2'>hvm</type>
      <loader readonly='yes' secure='no' type='pflash'>/usr/share/OVMF/OVMF_CODE.fd</loader>

Closes-Bug: #1960758
Signed-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>
Change-Id: I1ceb01a6f4d8d6e1d04fd18c62beee051f41cdf0
"
openstack%2Frequirements~stable%2Fxena~I6505027d10b9fdc2648e1d2a011c9f098e8f498d,openstack/requirements,stable/xena,new-release,I6505027d10b9fdc2648e1d2a011c9f098e8f498d,update constraint for oslo.metrics to new release 0.3.1,MERGED,2022-02-07 10:31:52.000000000,2022-02-13 21:55:34.000000000,2022-02-13 21:55:34.000000000,1,1,0,828104,5d886748b001cd6ad883b4f6cdc009efe121c910,13,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.metrics to new release 0.3.1

meta: version: 0.3.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I431930ef1ca69a324898acc36d6b4c30fa892e44
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I6505027d10b9fdc2648e1d2a011c9f098e8f498d
"
openstack%2Fopenstack-ansible~stable%2Fxena~Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7,openstack/openstack-ansible,stable/xena,,Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7,Remove enablement of neutron tempest plugin in scenario templates,MERGED,2022-02-09 15:02:47.000000000,2022-02-13 20:18:10.000000000,2022-02-13 20:16:16.000000000,0,8,1,828548,1d6274ffada64da930e50b481b642c81161cd1a7,11,3,2,2,25023,Jonathan Rosser,jrosser,"Remove enablement of neutron tempest plugin in scenario templates

The plugin should be enabled by the tempest role due to the
presence of the neutron inventory group.

Change-Id: Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7
"
openstack%2Fopenstack-ansible~master~Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7,openstack/openstack-ansible,master,,Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7,Remove enablement of neutron tempest plugin in scenario templates,MERGED,2022-02-09 15:47:09.000000000,2022-02-13 17:17:39.000000000,2022-02-13 17:16:01.000000000,0,8,1,828553,c23153087a65e5dee7bec7cfe08157df88884e0f,12,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove enablement of neutron tempest plugin in scenario templates

The plugin should be enabled by the tempest role due to the
presence of the neutron inventory group.

Change-Id: Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7
"
openstack%2Fansible-collections-openstack~master~I809cca0f27f16b37cb9c1c18121f468ccf5c805c,openstack/ansible-collections-openstack,master,ansible_host_name,I809cca0f27f16b37cb9c1c18121f468ccf5c805c,Adds use_name variable,MERGED,2021-11-09 07:49:30.000000000,2022-02-13 12:09:57.000000000,2022-02-13 12:09:57.000000000,22,4,16,817150,bcb5d18492d2df18dcabc284b1e35109f2d118d0,28,2,11,1,34235,Alex Hussey,ahussey-redhat,"Adds use_name variable

This commit adds the ability to specify whether the ansible_host and
ansible_ssh_host variables should use 'name' inplace of 'interface_ip'.

The primary use case for this, is if you want to access hosts using
the instance name defined in OpenStack instead of the floating IP.
This is usually when using a jump/bastion host.

Implements: use_names
Change-Id: I809cca0f27f16b37cb9c1c18121f468ccf5c805c
"
openstack%2Ftrove~master~I6aff0d185991db77b17a4f23084de6734b2b3a6c,openstack/trove,master,improve_parse_log,I6aff0d185991db77b17a4f23084de6734b2b3a6c,Improve the detect backup was created when parse log,MERGED,2021-09-05 06:54:16.000000000,2022-02-13 11:27:43.000000000,2022-02-13 11:25:48.000000000,4,3,0,807474,91e002b1f2a509407055590e79a6ac489ab90755,12,3,3,1,28691,Bo Tran,ministry,"Improve the detect backup was created when parse log

Task: #43209
Story: #2009176
Change-Id: I6aff0d185991db77b17a4f23084de6734b2b3a6c
"
openstack%2Ftrove~master~I34d47e709a9a7478cb6a85d6e6e37da3f92e40b0,openstack/trove,master,inject_userdata_config,I34d47e709a9a7478cb6a85d6e6e37da3f92e40b0,Adapt to file injection deprecation in nova,MERGED,2022-01-06 07:27:42.000000000,2022-02-13 11:26:42.000000000,2022-02-13 11:25:23.000000000,92,38,2,823632,99df090a857f48ae27e9c361f6835fc2297a0498,12,3,3,4,28691,Bo Tran,ministry,"Adapt to file injection deprecation in nova

Story: #2009770
Task: #44247
Change-Id: I34d47e709a9a7478cb6a85d6e6e37da3f92e40b0
"
openstack%2Felection~master~I4a8419ce6b4bc8d1d22bf31c9b3b8d8c35dea9b3,openstack/election,master,,I4a8419ce6b4bc8d1d22bf31c9b3b8d8c35dea9b3,Add Douglas Mendizábal candidacy for Barbican,MERGED,2022-02-11 21:46:20.000000000,2022-02-13 10:04:26.000000000,2022-02-13 10:01:56.000000000,9,0,2,828925,74bd8fb7811d8ccc0e76efc029687d569d1449dd,9,3,1,1,7973,Douglas Mendizábal,dougmendizabal,"Add Douglas Mendizábal candidacy for Barbican

Change-Id: I4a8419ce6b4bc8d1d22bf31c9b3b8d8c35dea9b3
"
openstack%2Felection~master~Ia18993d4972a24068185887241a4e8b9d76fbb3e,openstack/election,master,glance-abhishekk-z,Ia18993d4972a24068185887241a4e8b9d76fbb3e,Adding Abhishek Kekane candidacy for Glance PTL,MERGED,2022-02-11 14:59:37.000000000,2022-02-13 10:03:25.000000000,2022-02-13 10:01:52.000000000,25,0,2,828891,d5273015d4540187510805603570a85253b14e07,8,3,1,1,9303,Abhishek Kekane,abhishekkekane,"Adding Abhishek Kekane candidacy for Glance PTL

Change-Id: Ia18993d4972a24068185887241a4e8b9d76fbb3e
"
openstack%2Felection~master~I2e740da950f5746e003d9a1474d7c79f16230f7d,openstack/election,master,,I2e740da950f5746e003d9a1474d7c79f16230f7d,Add Vishal Manchanda candidacy for Horizon PTL(Z),MERGED,2022-02-11 18:03:24.000000000,2022-02-13 10:01:54.000000000,2022-02-13 10:01:54.000000000,17,0,2,828912,68576e217f9aab8f6f9ed78e1d367625c47ce480,8,3,2,1,29313,Vishal Manchanda,vishalmanchanda,"Add Vishal Manchanda candidacy for Horizon PTL(Z)

Change-Id: I2e740da950f5746e003d9a1474d7c79f16230f7d
"
openstack%2Felection~master~I2c043ec95d627c72397c3d16d335b4f91383c836,openstack/election,master,bauzas_nova_ptl_z,I2c043ec95d627c72397c3d16d335b4f91383c836,Adding Sylvain Bauza candidacy for Nova Zzzzzz PTL,MERGED,2022-02-11 14:52:44.000000000,2022-02-13 09:52:41.000000000,2022-02-13 09:51:24.000000000,32,0,2,828889,6a06d4e6f054403d11449739efc9ec6e01bdcb30,8,3,1,1,7166,Sylvain Bauza,sbauza,"Adding Sylvain Bauza candidacy for Nova Zzzzzz PTL

Change-Id: I2c043ec95d627c72397c3d16d335b4f91383c836
"
openstack%2Ftripleo-heat-templates~master~Ice8d3ee63d11c531641b9defeb615ad7006f1671,openstack/tripleo-heat-templates,master,,Ice8d3ee63d11c531641b9defeb615ad7006f1671,Fix AnyErrorsFatal type,MERGED,2022-02-10 15:04:49.000000000,2022-02-13 08:19:36.000000000,2022-02-13 08:19:36.000000000,1,1,1,828726,fceeb2fbd30595c81bf77f813b0d01be45d18c15,14,7,1,1,6926,Bogdan Dobrelya,bogdando,"Fix AnyErrorsFatal type

AnyErrorsFatal is boolean, just like its neighbor
NetworkConfigUpdate param.

The string type ends up with group_vars, like:
any_errors_fatal: 'True'
network_config_update: false

Fix the type to correspond a bool in ansible.

Change-Id: Ice8d3ee63d11c531641b9defeb615ad7006f1671
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~Ia6a8d27fd2ae6310544bc3767cf7f1fb246939c3,openstack/tripleo-heat-templates,master,multipath-v2,Ia6a8d27fd2ae6310544bc3767cf7f1fb246939c3,Don't bind host's /run in multipathd container,MERGED,2022-02-09 16:38:03.000000000,2022-02-13 08:14:58.000000000,2022-02-13 08:14:58.000000000,0,1,0,828587,3ae6ce355c61ec64da0010f1b20a329233dd03ef,8,6,1,1,21129,Alan Bishop,ASBishop,"Don't bind host's /run in multipathd container

The multipathd daemon uses a hard-coded pidfile path that conflicts
with the one we use for conmon on the host. If we bind /run:/run
then multipathd overwrites the host file with its own pid, and this
interferes with systemd's ability to manage the service via the
pidfile. systemd expects the pidfile to contain the host's conmon
pid, not the multipathd daemon's pid.

Change-Id: Ia6a8d27fd2ae6310544bc3767cf7f1fb246939c3
"
openstack%2Fpuppet-nova~stable%2Fvictoria~I6bf4da9360f78ee94dbf02e7a6f7b109cf50b154,openstack/puppet-nova,stable/victoria,,I6bf4da9360f78ee94dbf02e7a6f7b109cf50b154,Add missing dependency about nova_api_paste_ini,MERGED,2021-10-19 23:08:12.000000000,2022-02-12 18:57:52.000000000,2022-02-12 18:57:52.000000000,6,2,1,814656,af369b4d96058900abc21fae10697c08cb4342c9,8,5,1,2,9816,Takashi Kajinami,kajinamit,"Add missing dependency about nova_api_paste_ini

This change fixes missing dependency about nova_api_paste_ini, which
should have been added when the nova_paste_api_ini resource type was
renamed to the nova_api_paste_ini resource type[1].

[1] b5c5d7acc3cc2cf2836a4f4556543d3fe1737b95

Change-Id: I6bf4da9360f78ee94dbf02e7a6f7b109cf50b154
(cherry picked from commit fb654c6bff451add69b43a424e019962223541b0)
(cherry picked from commit 119f46164029cf29f80e6f8a946924b6bebc0307)
(cherry picked from commit 1b9e5bf7a45d0e4e4f329924258d0a031b6d2e0a)
"
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I47d6bcee4ded407634f12cea221c3ea1dc035b49,openstack/puppet-openstack-integration,stable/ussuri,,I47d6bcee4ded407634f12cea221c3ea1dc035b49,"Revert ""Ussuri-only: Make beaker job non-voting""",ABANDONED,2022-02-12 18:20:33.000000000,2022-02-12 18:23:24.000000000,,0,1,0,828964,e386bfe9f45ad574a989043d4552e0eafa46c21b,2,0,1,1,9816,Takashi Kajinami,kajinamit,"Revert ""Ussuri-only: Make beaker job non-voting""

This reverts commit 48ab839e7b08314ca8bec3b6ccde178a7584eaa4.

Reason for revert:
Beaker jobs are now passing and we no longer observe the failure,
possibly because of the change in underlying OS.

Conflicts:
	zuul.d/base.yaml

Resolved conflict caused by migration from CentOS 8 to CentOS 8 Stream.

Related-Bug: #1933232
Change-Id: I47d6bcee4ded407634f12cea221c3ea1dc035b49
"
openstack%2Fpuppet-sahara~master~I032817e11921504a73ebb386a745acc0f114f9e4,openstack/puppet-sahara,master,healthcheck,I032817e11921504a73ebb386a745acc0f114f9e4,Add support for healthcheck middleware options,MERGED,2021-07-12 07:35:27.000000000,2022-02-12 18:18:58.000000000,2022-02-12 18:17:41.000000000,101,0,1,800426,ee913f3a91dc466806f4838be1df961570431ccc,9,4,1,3,9816,Takashi Kajinami,kajinamit,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Depends-on: https://review.opendev.org/800408
Change-Id: I032817e11921504a73ebb386a745acc0f114f9e4
"
openstack%2Fnova~stable%2Ftrain~Ie3129ee395427337e9abcef2f938012608f643e1,openstack/nova,stable/train,bug/1945646-stable/train,Ie3129ee395427337e9abcef2f938012608f643e1,Ensure MAC addresses characters are in the same case,MERGED,2021-11-12 23:00:33.000000000,2022-02-12 17:12:47.000000000,2022-02-12 17:11:10.000000000,51,3,7,817830,a5da31ec1ea1d1c7b4df146857982699ebdc328e,40,6,3,2,7130,David Hill,dhill,"Ensure MAC addresses characters are in the same case

Currently neutron can report ports to have MAC addresses
in upper case when they're created like that. In the meanwhile
libvirt configuration file always stores MAC in lower case
which leads to KeyError while trying to retrieve migrate_vif.

Closes-Bug: #1945646
Change-Id: Ie3129ee395427337e9abcef2f938012608f643e1
(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)
(cherry picked from commit 63a6388f6a0265f84232731aba8aec1bff3c6d18)
(cherry picked from commit 6c3d5de659e558e8f6ee353475b54ff3ca7240ee)
(cherry picked from commit 28d0059c1f52e51add31bff50f1f6e443c938792)
(cherry picked from commit 184a3c976faed38907af148a533bc6e9faa410f5)
"
openstack%2Fpuppet-openstacklib~master~I5ed061a4771b962caa115caae34a8a78cf068a79,openstack/puppet-openstacklib,master,os-uri,I5ed061a4771b962caa115caae34a8a78cf068a79,Add function to build generic uri,ABANDONED,2019-09-13 22:34:18.000000000,2022-02-12 17:00:45.000000000,,220,0,0,682184,a78b1c409af0c48aefded6458053ddc37323a48c,5,3,1,2,9816,Takashi Kajinami,kajinamit,"Add function to build generic uri

Change-Id: I5ed061a4771b962caa115caae34a8a78cf068a79
"
openstack%2Fpuppet-openstack-integration~master~I227c1755e2069c539fdb1702f2450220a16ffaa2,openstack/puppet-openstack-integration,master,bug/1933232,I227c1755e2069c539fdb1702f2450220a16ffaa2,Migrate workaround for selinux default enforcement to more common place,ABANDONED,2021-06-22 13:28:50.000000000,2022-02-12 16:59:48.000000000,,5,35,0,797447,6be2875c6603a3ab952bcff49597f6983b0e3b9c,4,2,1,6,9816,Takashi Kajinami,kajinamit,"Migrate workaround for selinux default enforcement to more common place

This migrates the workaround implemented by [1] to more common place
so that the same workaround is also used in litmus jobs(and beaker jobs
in stable branches).

Closes-Bug: #1933232
Change-Id: I227c1755e2069c539fdb1702f2450220a16ffaa2
"
openstack%2Fpuppet-openstacklib~master~I76908f8bd7abd0d326133aca2833d17d858486a0,openstack/puppet-openstacklib,master,uwsgi,I76908f8bd7abd0d326133aca2833d17d858486a0,Add unit tests for openstacklib::wsgi::uwsgi,ABANDONED,2021-03-29 08:46:32.000000000,2022-02-12 16:59:02.000000000,,46,0,0,783620,4d984607e4615780fae3bc443bdb192186a28322,5,1,1,1,9816,Takashi Kajinami,kajinamit,"Add unit tests for openstacklib::wsgi::uwsgi

Depends-on: https://review.opendev.org/780918
Change-Id: I76908f8bd7abd0d326133aca2833d17d858486a0
"
openstack%2Fpuppet-openstacklib~master~I0ddbac5d64d4c859b4f1613d8b059b75552551ca,openstack/puppet-openstacklib,master,uwsgi,I0ddbac5d64d4c859b4f1613d8b059b75552551ca,Add support for uwsgi configuration,ABANDONED,2021-03-18 09:33:13.000000000,2022-02-12 16:58:58.000000000,,50,0,0,781230,8f447d7fff26563f8802439db8cd5817dc300a9c,8,1,4,2,9816,Takashi Kajinami,kajinamit,"Add support for uwsgi configuration

This change introduces the resource type (openstacklib::wsgi::uwsgi) to
maintain parameters to run openstack services by uwsgi framework.

Note that unit tests will be added later once the patch to
puppet-keystone[1] is merged.

[1] https://review.opendev.org/780918
Change-Id: I0ddbac5d64d4c859b4f1613d8b059b75552551ca
"
openstack%2Fpuppet-gnocchi~master~I023ab02f0d1eac5e6d9d72cff63319ed10797402,openstack/puppet-gnocchi,master,gnocchi-db-ut,I023ab02f0d1eac5e6d9d72cff63319ed10797402,gnocchi::db: Do not test behavior of lower libraries,ABANDONED,2021-05-31 14:55:27.000000000,2022-02-12 16:58:37.000000000,,3,2,0,793807,1f22c98a418742f9695f5e4a5b82e35233e08a59,7,2,2,1,9816,Takashi Kajinami,kajinamit,"gnocchi::db: Do not test behavior of lower libraries

Current unit tests of gnocchi::db tests behavior of puppetlabs-mysql
and puppetlabs-postgresql but this is not necessary and makes our
maintaince difficult because we need to update all test implementaton
consistent with lower libraries.

This makes these unit tests assert only the required classes are
included and stop testing behavior of these included classes.

Change-Id: I023ab02f0d1eac5e6d9d72cff63319ed10797402
"
openstack%2Fpuppet-openstacklib~master~I4ee9bed6ad480a8978749bb5c2c9b8ccd0e70890,openstack/puppet-openstacklib,master,iscsid,I4ee9bed6ad480a8978749bb5c2c9b8ccd0e70890,WIP: Use iscsid-init service to set initiator name,ABANDONED,2021-06-04 11:47:50.000000000,2022-02-12 16:57:50.000000000,,22,18,0,794780,e4b4cf01c0d540b22d1829cdb486b7539a7aa647,3,1,1,3,9816,Takashi Kajinami,kajinamit,"WIP: Use iscsid-init service to set initiator name

Change-Id: I4ee9bed6ad480a8978749bb5c2c9b8ccd0e70890
"
openstack%2Fpuppet-openstack-integration~master~Ibb32a794aebb19ba5bfb2261d5aba8fd49b210f6,openstack/puppet-openstack-integration,master,tripleo-undercloud,Ibb32a794aebb19ba5bfb2261d5aba8fd49b210f6,Remove content provider job,ABANDONED,2021-07-01 06:54:12.000000000,2022-02-12 16:57:22.000000000,,5,39,1,798977,04387988da7e49af2a6ef0208e2870515491e4db,5,1,2,1,9816,Takashi Kajinami,kajinamit,"Remove content provider job

A separate content provider job for tripleo-undercloud job is redundant
because only the subsequent tripleo job consumes the container built
by the job.

Also, the tripleo-puppet-standalone template is not used by any modules
so we can remove it as well.

Change-Id: Ibb32a794aebb19ba5bfb2261d5aba8fd49b210f6
"
openstack%2Fpuppet-openstack-integration~master~Ia364ef0e81bac73abeb9049c20f058c2bdcdd191,openstack/puppet-openstack-integration,master,ironic-inspector,Ia364ef0e81bac73abeb9049c20f058c2bdcdd191,Enable ironic-inspector on Ubuntu/Debian,ABANDONED,2021-04-30 08:44:16.000000000,2022-02-12 16:57:09.000000000,,24,34,0,788905,e87229d45e86990afb7c14e306a5f6be7aafb7a9,4,2,1,1,9816,Takashi Kajinami,kajinamit,"Enable ironic-inspector on Ubuntu/Debian

ironic-inspector has been disabled on Ubuntu/Debian but the packages
are already available in these two distros.

Change-Id: Ia364ef0e81bac73abeb9049c20f058c2bdcdd191
"
openstack%2Fpuppet-openstack-integration~master~I99b1319617e8e82fe4e86a24aa060dc1d122a673,openstack/puppet-openstack-integration,master,baremetal,I99b1319617e8e82fe4e86a24aa060dc1d122a673,WIP: Enable networking-baremetal in scenario002,ABANDONED,2021-07-23 06:41:11.000000000,2022-02-12 16:57:06.000000000,,28,6,0,801938,53b46ae9e89c8511aa58b763ee8a2d489648744b,3,1,1,2,9816,Takashi Kajinami,kajinamit,"WIP: Enable networking-baremetal in scenario002

Change-Id: I99b1319617e8e82fe4e86a24aa060dc1d122a673
"
openstack%2Fpuppet-openstack-cookiecutter~master~Ieb31f78bf617a2ee16dfeac5b9ddb26057c48eaa,openstack/puppet-openstack-cookiecutter,master,,Ieb31f78bf617a2ee16dfeac5b9ddb26057c48eaa,Bump dependencies from Puppet OpenStack,ABANDONED,2021-11-02 04:58:15.000000000,2022-02-12 16:54:02.000000000,,3,3,1,816297,452a4ff39fde892e9c4c9819a7134de201e55613,5,1,1,1,9816,Takashi Kajinami,kajinamit,"Bump dependencies from Puppet OpenStack

Change-Id: Ieb31f78bf617a2ee16dfeac5b9ddb26057c48eaa
"
openstack%2Fpuppet-swift~master~I75a75459b10d0dbf13f72694bc4a70eb4a958e49,openstack/puppet-swift,master,,I75a75459b10d0dbf13f72694bc4a70eb4a958e49,Add support for [filter:slo] allow_async_delete,ABANDONED,2021-09-22 13:27:46.000000000,2022-02-12 16:53:34.000000000,,14,1,0,810433,76355f8a20df64b865380cb0e46abe77f7c3ecc6,12,3,3,3,9816,Takashi Kajinami,kajinamit,"Add support for [filter:slo] allow_async_delete

... which was implemented during the Wallaby cycle[1].

[1] e78377624ab7d34d2fedc06e907dcb9899d89b4a

Change-Id: I75a75459b10d0dbf13f72694bc4a70eb4a958e49
"
openstack%2Fpuppet-mistral~stable%2Fvictoria~Ib6005052e15c04b3ae4fb1e4ab2548c10efc6e8d,openstack/puppet-mistral,stable/victoria,,Ib6005052e15c04b3ae4fb1e4ab2548c10efc6e8d,DNM: Checking Victoria tripleo undercloud job,ABANDONED,2021-07-12 06:13:23.000000000,2022-02-12 16:49:01.000000000,,0,1,0,800417,44be2c822ab82889e0a847e3adbc33c8b1122f4a,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Checking Victoria tripleo undercloud job

Change-Id: Ib6005052e15c04b3ae4fb1e4ab2548c10efc6e8d
"
openstack%2Fpuppet-octavia~master~Ife0de3c0a89576bf32a04c4fcebeedba4bc819e7,openstack/puppet-octavia,master,check-tripleo,Ife0de3c0a89576bf32a04c4fcebeedba4bc819e7,DNM: Check TripleO job,ABANDONED,2021-07-14 15:17:55.000000000,2022-02-12 16:48:58.000000000,,1,0,0,800801,15265c2a06bde96f4bc8b4608f1847a27aa193f0,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Check TripleO job

Change-Id: Ife0de3c0a89576bf32a04c4fcebeedba4bc819e7
"
openstack%2Fpuppet-neutron~master~I10a48ef6bc35b3ac2d370c85bfeb930a8b9b1e51,openstack/puppet-neutron,master,,I10a48ef6bc35b3ac2d370c85bfeb930a8b9b1e51,Remove deprecated neutron_api_config,ABANDONED,2022-01-20 13:47:50.000000000,2022-02-12 16:46:39.000000000,,4,114,0,825503,e12c7ebdde67ed7544c88e2fbe91434d18c35e47,6,1,3,4,9816,Takashi Kajinami,kajinamit,"Remove deprecated neutron_api_config

The neutron_api_config type was deprecated during Victoria cycle in
favor of the neutron_api_ini type which provides the same feature[1].

Because some cycles have passed since that deprecation, we are now
ready to remove it.

[1] 2daa0b16444f2a2a865b618cbca76fd18c6cd7c6

Change-Id: I10a48ef6bc35b3ac2d370c85bfeb930a8b9b1e51
"
openstack%2Fpuppet-nova~master~Iadf2709a2241476e04b0b426f51c2a32fb87e9da,openstack/puppet-nova,master,,Iadf2709a2241476e04b0b426f51c2a32fb87e9da,Get rid of deprecation warnings in unit tests,NEW,2022-02-12 14:27:06.000000000,2022-02-12 15:59:05.000000000,,20,4,0,828943,0b8debc77c73919697dc84ca67f2c53750872da6,4,2,2,3,9816,Takashi Kajinami,kajinamit,"Get rid of deprecation warnings in unit tests

This change fixes unit tests to get rid of the following deprecation
warning message.

The implicit block expectation syntax is deprecated, you should pass
a block to `expect` to use the provided block expectation matcher
(raise Puppet::Error with message matching ...), or the matcher must
implement `supports_value_expectations?`.

Change-Id: Iadf2709a2241476e04b0b426f51c2a32fb87e9da
"
openstack%2Fironic-tempest-plugin~master~I1afcd9f2f89267467a103d4cdea240073422ff01,openstack/ironic-tempest-plugin,master,,I1afcd9f2f89267467a103d4cdea240073422ff01,Addressing review comments,ABANDONED,2022-02-12 12:37:29.000000000,2022-02-12 12:38:59.000000000,,6,6,0,828939,81db0d6cf6af992acf86cc93877196afc11c29c5,2,0,1,2,31719,Ameya Raut,ameyar,"Addressing review comments

- Added credentials
- Changed api microversion
- Removed service tags

Change-Id: I1afcd9f2f89267467a103d4cdea240073422ff01
"
openstack%2Fkeystone~master~Ib832a8a9257ecdc7bffcc81ee003d1f5a37588e0,openstack/keystone,master,,Ib832a8a9257ecdc7bffcc81ee003d1f5a37588e0,Fix API path in document,MERGED,2022-02-11 09:20:59.000000000,2022-02-12 09:54:02.000000000,2022-02-11 18:15:12.000000000,1,1,0,828825,e833bd8478fe9fde6521b67375076369b3d50c4a,11,5,2,1,34427,Eunyoung Kim,lilac94,"Fix API path in document

GET /limits-model => GET /limits/model

Change-Id: Ib832a8a9257ecdc7bffcc81ee003d1f5a37588e0
"
openstack%2Fcyborg~master~I6a81ec9560aafc531a0147292f89ebb11b969bbf,openstack/cyborg,master,fake-driver-v1,I6a81ec9560aafc531a0147292f89ebb11b969bbf,support program for fake driver,NEW,2019-12-03 07:38:33.000000000,2022-02-12 09:46:15.000000000,,104,0,16,697011,130e2dfbff7b2bc90849536140439294fe319833,21,4,8,2,14131,shaohef,shaohefeng,"support program for fake driver

sumilate the fake program process similar to really fpga driver code.
Just call ""ls"" shell command instead of fpga program tools.

Change-Id: I6a81ec9560aafc531a0147292f89ebb11b969bbf
"
openstack%2Fdesignate~master~If8bc6043d95f52f67899a5ac69a2f72c8fd4de17,openstack/designate,master,bug/1847200,If8bc6043d95f52f67899a5ac69a2f72c8fd4de17,Fix recordset_records quota enforcement,MERGED,2019-10-08 08:05:01.000000000,2022-02-12 06:48:37.000000000,2022-02-12 06:47:14.000000000,122,15,2,687230,df10ff5b5c76657e4287b36fbf525ad91091dd34,29,6,7,6,30380,ZhouHeng,zhouhenglc,"Fix recordset_records quota enforcement

First I set recordset_records=3, and I can create recordset with 4 records
successfully.
Now enforce record quota by count records in database. when create recordset
the number in database is 0., and quotas will not work no matter how much
quota recordset_records are set. And once the excess quota is created
successfully, it can not be updated. Unless quotas are updated.

Closes-Bug: #1847200

Change-Id: If8bc6043d95f52f67899a5ac69a2f72c8fd4de17
"
openstack%2Fglance~master~Ibdbeb752d29afeb48628587442577ab139be9ac9,openstack/glance,master,update-mig-const,Ibdbeb752d29afeb48628587442577ab139be9ac9,Update migration constant,MERGED,2022-02-04 20:36:06.000000000,2022-02-12 06:35:59.000000000,2022-02-12 06:34:37.000000000,13,1,12,827919,ba5f556d276a5b0782220bd24ad2eae504403ddd,33,5,4,2,5314,Brian Rosmaita,brian-rosmaita,"Update migration constant

Update the data migration current release to 'yoga'.  Include a
semver pseudo-header in this commit message so that pbr will
increment the major version number, otherwise
glance.tests.unit.gate.test_data_migration_version will break.

Also add a reminder about this to the release cycle tasks list.

Change-Id: Ibdbeb752d29afeb48628587442577ab139be9ac9
Sem-Ver: api-break
"
openstack%2Fkeystone~master~I8e2babbd4d75bd2dc3e8451e5e2604bfe98668a7,openstack/keystone,master,add-xena-python-jobtemplates,I8e2babbd4d75bd2dc3e8451e5e2604bfe98668a7,Add Python3 xena unit tests,MERGED,2021-03-26 18:37:14.000000000,2022-02-12 06:26:29.000000000,2022-02-12 06:22:04.000000000,2,2,1,783451,e826b05c3a1e72d543bd77dbbce6b2b7c2914142,17,3,2,1,22816,OpenStack Release Bot,release,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I8e2babbd4d75bd2dc3e8451e5e2604bfe98668a7
"
openstack%2Fkeystone~master~I4170f4cc381d497a12796120b143f65a1894a301,openstack/keystone,master,add-wallaby-python-jobtemplates,I4170f4cc381d497a12796120b143f65a1894a301,Add Python3 wallaby unit tests,MERGED,2020-09-25 08:36:59.000000000,2022-02-12 06:16:10.000000000,2022-02-12 06:11:45.000000000,1,1,1,754297,06383f5f61fcb7f0ff9514c389259562efba9240,17,4,2,1,22816,OpenStack Release Bot,release,"Add Python3 wallaby unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for wallaby.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I4170f4cc381d497a12796120b143f65a1894a301
"
openstack%2Fpuppet-cinder~master~Ifa4005a24cebb6a8164cc47473060a5156dc3848,openstack/puppet-cinder,master,c8_teardown_master,Ifa4005a24cebb6a8164cc47473060a5156dc3848,Testing the fix for missing var,ABANDONED,2022-02-10 15:52:37.000000000,2022-02-12 05:38:51.000000000,,1,0,0,828737,1459ebe9010e3fdcb3cbb855802ea9556652d252,3,1,1,1,9816,Takashi Kajinami,kajinamit,"Testing the fix for missing var

Depends-on: https://review.opendev.org/c/openstack/tripleo-ci/+/828736
Change-Id: Ifa4005a24cebb6a8164cc47473060a5156dc3848
"
openstack%2Ftripleo-heat-templates~master~I4cc8837b52e6b2356b6bc4436c340b2cb83879fe,openstack/tripleo-heat-templates,master,,I4cc8837b52e6b2356b6bc4436c340b2cb83879fe,IDM server registration is fixed to one server only,MERGED,2021-12-19 00:29:53.000000000,2022-02-12 04:56:47.000000000,2022-02-12 04:56:47.000000000,4,4,2,822250,6d142165f12a03bd3d0b27ed3b377e48b6a8ad5b,18,4,1,1,16718,donghwi.cha,donghwi.cha,"IDM server registration is fixed to one server only

Heat IdMServer can not convey multiple values of IPA servers,
and it is set to a string, limited to one IPA server only.

Since IPA ansible playbook can accept multiple values of servers,
IdMServer needs update to be changed from string to array.

Closes-Bug: #1955319
Change-Id: I4cc8837b52e6b2356b6bc4436c340b2cb83879fe
"
openstack%2Ftripleo-heat-templates~master~I98e0ec977fe768c84a70572e4156d69cdbfccb54,openstack/tripleo-heat-templates,master,,I98e0ec977fe768c84a70572e4156d69cdbfccb54,Checking bug 1960630,ABANDONED,2022-02-11 15:15:27.000000000,2022-02-12 03:25:23.000000000,,1,0,0,828896,2dc5d4c8410c4e07fcfa6aa7306becce7ba1f874,4,2,1,1,9816,Takashi Kajinami,kajinamit,"Checking bug 1960630

Change-Id: I98e0ec977fe768c84a70572e4156d69cdbfccb54
"
openstack%2Ftripleo-heat-templates~master~I7f64449685fc0116662baf780bf48381fdd15502,openstack/tripleo-heat-templates,master,novajoin-cleanup-default,I7f64449685fc0116662baf780bf48381fdd15502,Remove unused environment file,MERGED,2022-02-02 15:35:24.000000000,2022-02-12 03:19:12.000000000,2022-02-12 03:19:12.000000000,0,4,6,827519,33d4b44ae1104fd269153f5de75d44cfeb44d05d,27,6,1,1,9816,Takashi Kajinami,kajinamit,"Remove unused environment file

This file is no longer used by python-tripleoclient, and can be
dropped.

Depends-on: https://review.opendev.org/827518
Change-Id: I7f64449685fc0116662baf780bf48381fdd15502
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~I86462f8279ebb5dc28e92fc8440cc0ab26f0759d,openstack/openstack-ansible-rabbitmq_server,master,,I86462f8279ebb5dc28e92fc8440cc0ab26f0759d,Use journald logging for RabbitMQ,MERGED,2022-01-25 17:40:22.000000000,2022-02-12 02:24:22.000000000,2022-02-12 02:10:37.000000000,3,0,6,826345,a31f2e20f41402aec309bbe45cfe84587921d956,22,4,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use journald logging for RabbitMQ

Since RabbitMQ 3.9 [1] journald logging support has been implemented

As we use journald logging for most of the services and aim to make it
a standard, switching rabbitmq to journald follows this goal and
deployment unification

[1] https://github.com/rabbitmq/rabbitmq-server/pull/2940

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/826446/
Change-Id: I86462f8279ebb5dc28e92fc8440cc0ab26f0759d
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~Iffb5dd5f9a1937825e2cc345b720d7af072608c1,openstack/openstack-ansible-rabbitmq_server,master,826446,Iffb5dd5f9a1937825e2cc345b720d7af072608c1,Remove old repos for Debian,MERGED,2022-02-01 09:08:29.000000000,2022-02-12 02:21:18.000000000,2022-02-12 02:03:05.000000000,18,0,7,827221,3a735007c6f10c9a83e7e0680a5594c78f7eb793,25,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove old repos for Debian

It appears that old repo must be removed explicitly and apt_repository
don't have an option for exclusive content when filename defined
So we need to drop old repo after switching to cloudsmith to avoid
fetching data from them and make repos clean during upgrade.

Change-Id: Iffb5dd5f9a1937825e2cc345b720d7af072608c1
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I73b0d054644eb43016d61299b7c372ca86b18472,openstack/tripleo-ansible,stable/train,historical_bool-stable/wallaby-stable/victoria-stable/ussuri-stable/train,I73b0d054644eb43016d61299b7c372ca86b18472,historical variable evaluated as bool,MERGED,2022-02-07 11:58:55.000000000,2022-02-12 00:35:59.000000000,2022-02-12 00:35:59.000000000,4,4,0,828133,d418568446daead46496d3a2561d619d8b3ad3cd,11,6,2,1,32968,Juan Larriba,jlarriba,"historical variable evaluated as bool

The tripleo_backup_and_restore_historical variable is checked by some
tasks using when, but as it lacks the | bool extension, it is being
evaluated as string, meaning that ""false"" is considered a valid and not
empty string and as such evaluated as true. This patch fixes this
behaviour by evaluating the variable as as boolean value

Change-Id: I73b0d054644eb43016d61299b7c372ca86b18472
(cherry picked from commit ca7425d3728b4ba16a283440960fd6e180f24c74)
"
openstack%2Fopenstack-ansible~stable%2Fxena~If48096a7309c7140cd9c182d5d3175e8d827cbd6,openstack/openstack-ansible,stable/xena,bug/1877421-stable/xena,If48096a7309c7140cd9c182d5d3175e8d827cbd6,Rename RBD cinder backend,MERGED,2022-02-10 15:49:47.000000000,2022-02-11 23:07:47.000000000,2022-02-11 23:05:49.000000000,3,3,1,828663,9fde6408b8750bd9718b9a208fba1b3d2a896fd1,10,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Rename RBD cinder backend

RBD seems to be reserved name in cinder. Once it's used as
volume type, cinder fails with [1]

We rename backend name in doc and AIO to workaround the issue

[1] https://paste.opendev.org/show/bAJR9YEYA1hRjCuMc6kU/

Closes-Bug: #1877421
Change-Id: If48096a7309c7140cd9c182d5d3175e8d827cbd6
(cherry picked from commit e51d4bc8c8262fdc954b80f84ed4af1a6f9c6628)
"
openstack%2Fswift~master~If218fe19eb75c42f56d25bf9c61adceeec025b6e,openstack/swift,master,release-2-29-0,If218fe19eb75c42f56d25bf9c61adceeec025b6e,AUTHORS/CHANGELOG for 2.29.0,MERGED,2022-01-29 01:17:11.000000000,2022-02-11 23:03:34.000000000,2022-02-11 21:48:37.000000000,316,1,5,826947,975d3dbcfe8ef7e8007444e5bb5c0b3f890e534e,31,4,5,3,15343,Tim Burke,tburke,"AUTHORS/CHANGELOG for 2.29.0

Change-Id: If218fe19eb75c42f56d25bf9c61adceeec025b6e
"
openstack%2Frequirements~master~I4c644e473c0be569f36056e1505bf0eac76df51a,openstack/requirements,master,coverage-py39,I4c644e473c0be569f36056e1505bf0eac76df51a,Constrain 'coverage' for python 3.9,ABANDONED,2022-02-11 16:16:18.000000000,2022-02-11 22:57:14.000000000,,2,2,0,828903,c6943e855c2849151f1aaedb580578682e7ebc5b,6,2,1,1,5314,Brian Rosmaita,brian-rosmaita,"Constrain 'coverage' for python 3.9

Yoga supports py3.6, 3.8, and 3.9 and testing is supposed to be done
in at least 3.6 and 3.9 [0].  For the 'coverage' package, the
following is currently in upper-constraints.txt:

  coverage===6.2;python_version=='3.6'
  coverage===6.3.1;python_version=='3.8'

(We have to do something like this because python 3.6 is EOL and
packages we consume are dropping support for it.)

This leaves the package unconstrained for python 3.9, and the pattern
is repeated throughout the file for other packages.  It also leaves
python 3.7 unconstrained.  (Technically, OpenStack doesn't support 3.7,
but I'm not sure that should mean ""anything goes"" in the u-c.)

The point of this patch is to get the discussion going about what
pattern we should be using in the u-c file to handle this situation.

[0] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I4c644e473c0be569f36056e1505bf0eac76df51a
"
openstack%2Fswift~master~I8665e416e419a31f096268413bbd71a01ac8e70a,openstack/swift,master,,I8665e416e419a31f096268413bbd71a01ac8e70a,Trim tempurl signature in the logs (CVE-2017-8761),ABANDONED,2021-11-10 21:10:16.000000000,2022-02-11 22:29:57.000000000,,73,3,19,817476,5e7fd8efd7076ef9198a04bb972cb4c9c286d126,23,4,5,3,1179,Clay Gerrard,clay-gerrard,"Trim tempurl signature in the logs (CVE-2017-8761)

This trims the temp_url_sig querystring for valid URLs (ie ones that are
successfully authenticated) within the current request environment,
which is finally used when logging the request. By default it will only
keep the first 8 chars, which should be enough for troubleshooting.

This is especially important with tempurls that are valid for extended
periods and/or when using central logging servers.

There are two cases when the whole signature might be still revealed in
the logs:

- if eventlet_debug is enabled in the proxy
- if a tempurl sig/expires combination is invalid

Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Closes-Bug: #1685798
Change-Id: I8665e416e419a31f096268413bbd71a01ac8e70a
"
openstack%2Fwhitebox-tempest-plugin~master~Ife7277db7be8d32a2630b3a221e641f9dca1ceb3,openstack/whitebox-tempest-plugin,master,multi_hugepage_size,Ife7277db7be8d32a2630b3a221e641f9dca1ceb3,Consolidate roles into pre playbook as tasks,MERGED,2022-02-09 16:40:43.000000000,2022-02-11 21:39:38.000000000,2022-02-11 21:39:38.000000000,20,28,3,828589,b79ba5557b9eaca8374dd912d6032d4f3701586f,12,2,3,4,31033,James Parker,jparker,"Consolidate roles into pre playbook as tasks

Remove roles directory and respective tasks from whitebox-common and
whitebox-nova-compute and consolidate those tasks into
whitebox/pre.yaml. Also remove the installation of the package numactl
since it is no longer used in tests.

Change-Id: Ife7277db7be8d32a2630b3a221e641f9dca1ceb3
"
openstack%2Fopenstack-ansible-os_designate~master~I299aa04729790d0c194032a36c7b50a3306990c1,openstack/openstack-ansible-os_designate,master,osa/include_vars,I299aa04729790d0c194032a36c7b50a3306990c1,Refactor use of include_vars,MERGED,2022-01-12 08:36:47.000000000,2022-02-11 21:32:52.000000000,2022-02-11 21:31:28.000000000,12,7,0,824335,2d2b7d7b50de25c5af39eec031322449c1339a55,9,3,1,1,25023,Jonathan Rosser,jrosser,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Change-Id: I299aa04729790d0c194032a36c7b50a3306990c1
"
openstack%2Foctavia-lib~stable%2Fwallaby~I48106513291263a7f754cfe7f9edc3703f8fbb7a,openstack/octavia-lib,stable/wallaby,,I48106513291263a7f754cfe7f9edc3703f8fbb7a,Fix PDF docs build,MERGED,2022-02-08 09:26:59.000000000,2022-02-11 21:32:00.000000000,2022-02-11 21:30:38.000000000,5,3,1,828254,f7129dcf0478a42952af62e14126d9bcbae07999,9,4,1,3,29244,Gregory Thiemonge,gthiemonge,"Fix PDF docs build

Update tox config to include upper-constraints as dependencies. This
resolves issues with building PDF docs.

New pylint 2.9.0 provides some new checkers and detects new errors with
existing checkers:

 - consider-using-dict-items

Similar change was done in Octavia repo already.

stable branch only: Also include a backport of ""Ignore new pylint
checker"" (Icfdf75d4cb99efc1f2c063e10c93968f816c20e0) that disables
consider-using-f-string checker

Change-Id: I48106513291263a7f754cfe7f9edc3703f8fbb7a
(cherry picked from commit 6a9cd92ae0206f615a872042dbd7cde3e1c3e83a)
"
openstack%2Fopenstack-helm-infra~master~I57f87130e95088217c3cfe73512caaae41d3ef22,openstack/openstack-helm-infra,master,,I57f87130e95088217c3cfe73512caaae41d3ef22,[ceph-mon] Add a post-apply job to restart mons after mgrs,MERGED,2022-02-07 21:05:22.000000000,2022-02-11 21:27:11.000000000,2022-02-11 21:25:41.000000000,289,1,5,828193,ae17a61836c8d4d0b7e12bdf1b433b78c9afe24c,28,11,7,7,29974,Stephen Taylor,st053q,"[ceph-mon] Add a post-apply job to restart mons after mgrs

If the OnDelete pod restart strategy is used for the ceph-mon
daemonset, run a post-apply job to restart the ceph-mon pods one
at a time. Otherwise the mons could restart before the mgrs, which
can be problematic in some upgrade scenarios.

Change-Id: I57f87130e95088217c3cfe73512caaae41d3ef22
"
openstack%2Fdesignate-tempest-plugin~master~Iec533c757133255f1047b2c032578327a79f13db,openstack/designate-tempest-plugin,master,bug/1978155,Iec533c757133255f1047b2c032578327a79f13db,Removed the skip to allow test_create_blacklist,NEW,2022-01-20 22:26:09.000000000,2022-02-11 20:47:51.000000000,,0,1,6,825686,33cb118c67b630180d40a49e3647bc2597661247,14,1,1,1,5572,Don Kehn,dekehn,"Removed the skip to allow test_create_blacklist

Removed the skip decorator to allow test_create_blacklist to run which
test for invalid blacklist patterns.

Depends-On: https://review.opendev.org/c/openstack/designate/+/825682
Change-Id: Iec533c757133255f1047b2c032578327a79f13db
"
openstack%2Fglance~master~I1a9dbd087cca52798f0d01c62ebb47e37f52d87a,openstack/glance,master,make-fips-nonvoting,I1a9dbd087cca52798f0d01c62ebb47e37f52d87a,Make FIPS job non-voting,MERGED,2022-02-11 15:02:11.000000000,2022-02-11 20:40:16.000000000,2022-02-11 20:35:43.000000000,15,0,4,828892,0457ab20860ab6721ddb874dd6729cc5f898830b,13,6,2,1,9914,Ade Lee,alee,"Make FIPS job non-voting

Temporarily make the FIPS job non-voting till we figure out why
its failing. Restore the non-fips version of the cinder job so
we keep the coverage.

Change-Id: I1a9dbd087cca52798f0d01c62ebb47e37f52d87a
"
openstack%2Fdebtcollector~master~Ia3eda6d451b673f3eafba1aa3ecd2e51b7038f1f,openstack/debtcollector,master,remove-python-2-stuff,Ia3eda6d451b673f3eafba1aa3ecd2e51b7038f1f,Remove references to Python 2 objects,MERGED,2021-04-26 09:23:49.000000000,2022-02-11 20:17:58.000000000,2022-02-11 20:16:09.000000000,3,12,1,787948,a6b46c5f01b76bd87eb4e47cdac26f645e72d716,10,3,2,1,15334,Stephen Finucane,sfinucan,"Remove references to Python 2 objects

These are no longer necessary in a Python 3-only world.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ia3eda6d451b673f3eafba1aa3ecd2e51b7038f1f
"
openstack%2Fneutron~master~I6f4489b14b164e4699a600acac84065dfe1231dc,openstack/neutron,master,cleanup,I6f4489b14b164e4699a600acac84065dfe1231dc,doc: Remove references to dead VMWare NSX extensions,MERGED,2021-07-22 11:07:06.000000000,2022-02-11 20:01:54.000000000,2022-02-11 19:58:02.000000000,0,213,0,801771,b6d2f077829f337cec2a1a2dfb7d494e51624adf,10,4,1,1,15334,Stephen Finucane,sfinucan,"doc: Remove references to dead VMWare NSX extensions

There are a number of extensions that were removed from the vmware-nsx
package as part of the removal of NSX-MH support in 15.0.0 (October
2019) [1]. We don't need to keep references to these. You can prove this
by grepping for the various references config options in the current
source tree and using 'git log -S' to find the patches that removed
things.

[1] https://opendev.org/x/vmware-nsx/commit/26135f34acca66ce994e0dd4280e2e968ed10ce3

Change-Id: I6f4489b14b164e4699a600acac84065dfe1231dc
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fneutron~master~I5c1474b405d436d3b1e5db745d77999f1723b660,openstack/neutron,master,bug-1869244,I5c1474b405d436d3b1e5db745d77999f1723b660,Wait longer before deleting DPDK vhu trunk bridges,MERGED,2022-02-03 01:38:19.000000000,2022-02-11 20:00:25.000000000,2022-02-11 19:57:57.000000000,1,1,5,827580,140bb63665223d7cd2a7fee8c1d1494ebd2a802f,21,5,1,1,4694,Miguel Lavalle,minsel,"Wait longer before deleting DPDK vhu trunk bridges

In [1] we added a delay before deleting DPDK vhu trunk bridges to
mitigate a race condition when instances are rebooted. As explained in
[1], with DPDK rhu, a reboot is esentially a super fast bridge
delete-then-create that is prone to race conditions. We have recently
encountered in customer deployments that the wait added in [1] is not
long enough. As a consequence, this change increases the wait.

[1] https://review.opendev.org/c/openstack/neutron/+/717394

Change-Id: I5c1474b405d436d3b1e5db745d77999f1723b660
Partial-Bug: #1869244
"
openstack%2Fneutron~stable%2Ftrain~I935186b6ee95f0cae8dc05869d9742c8fb3353c3,openstack/neutron,stable/train,bug/1952730-stable/ussuri-stable/train,I935186b6ee95f0cae8dc05869d9742c8fb3353c3,Avoid writing segments to the DB repeatedly,MERGED,2022-01-21 08:53:42.000000000,2022-02-11 19:59:54.000000000,2022-02-11 19:58:11.000000000,10,3,11,825735,7816ae3750b79a55d5e80daec9a93579d43ae94b,31,5,2,3,11975,Slawek Kaplonski,slaweq,"Avoid writing segments to the DB repeatedly

When:
* the segments service plugin is enabled and
* we have multiple rpc worker processes (as in the sum of rpc_workers
  and rpc_state_report_workers, since both kind processes agent
  state_reports) and
* many ovs-agents report physnets,
then rabbitmq dispatches the state_report messages between the workers
in a round robin fashion, therefore eventually the state_reports of the
same agent will hit all rpc workers.

Unfortunately all worker processes have a 'reported_hosts' set to
remember from which host it has seen agent reports already. But right
after a server start when that set is still empty, each worker will
unconditionally write the received physnet-segment information into
the db. This means we multiply the load on the db and rpc workers by
a factor of the rpc worker count.

This patch tries to reduce the load on the db by adding another early
return before the unconditional db write.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/828769
Change-Id: I935186b6ee95f0cae8dc05869d9742c8fb3353c3
Closes-Bug: #1952730
(cherry picked from commit 176503e610aee16cb5799a77466579bc55129450)
(cherry picked from commit dcb372b041a97121027706ca18c616adfc07d243)
(cherry picked from commit 0c909e3b55c0f4d38647fa54882f8cbfd85f662a)
(cherry picked from commit ed7bfa11ded509466a8d07ebe952c21621a22c2d)
"
openstack%2Fdevstack~stable%2Fstein~Iab2c391d5388461fe9e9037cee81884ce8032e72,openstack/devstack,stable/stein,bug/1959600-stable/stein,Iab2c391d5388461fe9e9037cee81884ce8032e72,Add python3.6 pip support,MERGED,2022-02-11 09:11:50.000000000,2022-02-11 19:59:38.000000000,2022-02-11 19:57:54.000000000,4,1,2,828769,a5366e573225bd637e987f00db8be9c8cfb0c753,11,5,1,1,21798,Bernard Cafarelli,bcafarel,"Add python3.6 pip support

Since pip v22, python3.6 is not supported (the minimum version is
python3.7). This patch adds the reference for the pip3.6 URL to be
used instead of the default one.

NOTE: stable/train had its own method to provide support for py3x.
This patch uses it instead of pushing the master patch approach.

This patch is also fixing the py35 pip URL string that should be
https://bootstrap.pypa.io/pip/3.5/get-pip.py.

Conflicts:
  tools/install_pip.sh

Closes-Bug: #1959600
Change-Id: Iab2c391d5388461fe9e9037cee81884ce8032e72
(cherry picked from commit 05a2cebeb4e93377fa88633eef4b2cc0ea584450)
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~I2759b1949e9ecc98953f414c6f9838aed7dd8499,openstack/openstack-ansible-rabbitmq_server,master,826463,I2759b1949e9ecc98953f414c6f9838aed7dd8499,Use systemd_service role for overrides,MERGED,2022-01-26 13:21:33.000000000,2022-02-11 19:21:31.000000000,2022-02-11 19:19:38.000000000,31,61,4,826463,8271919b17b5a0662e2baa4fd66d292d3dcf1e24,15,3,3,6,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use systemd_service role for overrides

Replace placing templates for systemd overrides with
systemd_service role, that will handle overrides for us in more
convenient and unified way.

Change-Id: I2759b1949e9ecc98953f414c6f9838aed7dd8499
"
openstack%2Foslo.privsep~master~Ia29fdf5058c2b22327cb0ba16c28bef3660e9ceb,openstack/oslo.privsep,master,remove-six,Ia29fdf5058c2b22327cb0ba16c28bef3660e9ceb,Remove six,MERGED,2021-12-22 16:14:22.000000000,2022-02-11 19:03:39.000000000,2022-02-11 19:02:07.000000000,11,14,1,822730,7f7b9d921e89e1b7684f28140c4d82992da88f31,8,3,1,4,15334,Stephen Finucane,sfinucan,"Remove six

This wasn't actually recorded in our list of dependencies, but we were
using it all the same. In any case, it's no longer necessary so remove
it.

Change-Id: Ia29fdf5058c2b22327cb0ba16c28bef3660e9ceb
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftripleo-ansible~master~I200865bfd03aa63a9fe07b517bf60151e495455f,openstack/tripleo-ansible,master,,I200865bfd03aa63a9fe07b517bf60151e495455f,Remove old per step startup configs,MERGED,2022-02-08 03:36:32.000000000,2022-02-11 19:00:58.000000000,2022-02-11 18:59:20.000000000,4,3,9,828212,487f127b70d846db9fde0b6e90f463c26af68bd1,33,5,2,1,8833,Rabi Mishra,rabi,"Remove old per step startup configs

There may be cases where certain steps may not exist after
removal of services during update/upgrade. As we recreate
the startup configs per step every time, let's clean all.
If we need to archive old configs we can backup docker_config.yaml
which can be done in a separate THT patch.

Change-Id: I200865bfd03aa63a9fe07b517bf60151e495455f
Closes-bug: #1959662
"
openstack%2Foslo.cache~master~Ia28ce314044f5790372e6a75dd5d6ae0407bec74,openstack/oslo.cache,master,,Ia28ce314044f5790372e6a75dd5d6ae0407bec74,Use the right backend for TLS tests,MERGED,2022-02-11 14:09:54.000000000,2022-02-11 18:54:34.000000000,2022-02-11 18:52:58.000000000,3,3,0,828882,d75020b33541ade07c8c9415e29992042896ef19,9,2,2,1,28522,Hervé Beraud,hberaud,"Use the right backend for TLS tests

The TLS features were introduced to be consummed by the
dogpile.cache.pymemcache backend [1][2], however, the tests
modified by this commit do not instantiate the
dogpile.cache.pymemcache backend but rather the oslo_cache.dict
backend which won't consumme the TLS arguments.

These tests do not really reflects the thing they were made for.

The oslo.cache.dict backend do not expect TLS options [3] whereas
the dogpile.cache.memcached module (and backend) expect TLS
context [4].

This patch propose to switch to the right backend.

[1] https://opendev.org/openstack/oslo.cache/commit/996036acd7b1376f0a378a407697afa28e5b2861
[2] https://github.com/sqlalchemy/dogpile.cache/commit/a2e25bc743a48d91705d944e52aa667ebff10943
[3] https://opendev.org/openstack/oslo.cache/src/branch/master/oslo_cache/backends/dictionary.py
[4] https://github.com/sqlalchemy/dogpile.cache/search?q=tls_context

Change-Id: Ia28ce314044f5790372e6a75dd5d6ae0407bec74
"
openstack%2Fkeystone~master~I7e6b1df5eac59bac33674934d7b3e8cdd16cea27,openstack/keystone,master,linjiangbieji,I7e6b1df5eac59bac33674934d7b3e8cdd16cea27,using standard library secrets function token_bytes to replace os.urandom,MERGED,2021-12-22 23:42:06.000000000,2022-02-11 18:45:58.000000000,2022-02-11 18:43:39.000000000,8,6,10,822767,0b64050e6b3daeed0aee4496d6cba2c31eeb7d83,39,11,5,3,34392,bieji,linjiang,"using standard library secrets function token_bytes to replace os.urandom

token_bytes is an standard library secrets function ,we can get the information from link https://www.python.org/dev/peps/pep-0506/

Change-Id: I7e6b1df5eac59bac33674934d7b3e8cdd16cea27
"
openstack%2Fheat~master~Ib47b6335b591850965132448befb7b3dbe31984a,openstack/heat,master,,Ib47b6335b591850965132448befb7b3dbe31984a,Fix for tenacity 8.0.1,MERGED,2022-02-11 12:47:36.000000000,2022-02-11 18:45:45.000000000,2022-02-11 18:44:02.000000000,2,2,2,828875,b1fe9752b0e03a6036e7fde8312a8e0e80e297f9,13,4,1,1,8833,Rabi Mishra,rabi,"Fix for tenacity 8.0.1

Use retry_state parameter that contains all information about
current retry invocation in the prepare_attempt callback.

Change-Id: Ib47b6335b591850965132448befb7b3dbe31984a
Task: 44471
"
openstack%2Fopenstack-ansible~stable%2Fxena~Idb4b9622b642dc0690a31f0c600420b78cf43f79,openstack/openstack-ansible,stable/xena,,Idb4b9622b642dc0690a31f0c600420b78cf43f79,Bump os_zun role SHA to pick up new location for kata repo,MERGED,2022-02-02 05:54:02.000000000,2022-02-11 18:40:26.000000000,2022-02-11 18:38:38.000000000,1,1,1,827412,e38a4e2798fc74415815be4e135a23d36b8a92a3,10,3,1,1,25023,Jonathan Rosser,jrosser,"Bump os_zun role SHA to pick up new location for kata repo

This is needed for os_zun role upgrade jobs to pass on master.

Change-Id: Idb4b9622b642dc0690a31f0c600420b78cf43f79
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~I239366ad4aa2bc7a02d826b6c2f94631f4b0e622,openstack/openstack-ansible-rabbitmq_server,master,,I239366ad4aa2bc7a02d826b6c2f94631f4b0e622,Use sysctl ini-like config file,MERGED,2022-01-25 17:26:18.000000000,2022-02-11 18:39:30.000000000,2022-02-11 18:38:02.000000000,101,72,1,826338,e707eecdd84b420c9f8af318959f6e5653d0c0e8,12,4,2,7,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use sysctl ini-like config file

Starting from RabbitMQ 3.7.0 it's recommended to use new-style
config which is simply an ini file.

It's easier to read and maintain config file in ini fromat rather then
in classic erlang.

At the same time we still keep old-style config as it might have settings
that are not supported in new-style config.

There're no evidences that used there options are still supported,
but it's worth deprecating them in follow-up patch anyway.

Change-Id: I239366ad4aa2bc7a02d826b6c2f94631f4b0e622
"
openstack%2Fosc-lib~master~I549d0897ef3704b7f47000f867d6731ad15d3f2b,openstack/osc-lib,master,osc-first,I549d0897ef3704b7f47000f867d6731ad15d3f2b,parseractions: Make key validation reusable,MERGED,2021-03-31 14:50:27.000000000,2022-02-11 18:29:56.000000000,2022-02-11 18:28:22.000000000,33,48,1,784110,86a42cc7ec20c78ea5fb827f77dffac5773f040a,7,3,1,1,15334,Stephen Finucane,sfinucan,"parseractions: Make key validation reusable

Sub-classes of 'MultiKeyValueAction' may wish to reuse the key
validation aspects of the action (Do I have the required keys? Do I have
unknown keys?) wile overriding other aspects of the action. Make this
possible, reducing some duplication in the process.

Change-Id: I549d0897ef3704b7f47000f867d6731ad15d3f2b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fkeystone~master~I005d20ef21b6c8122be90e8afb38abd902fdfc6e,openstack/keystone,master,bp/remove-sqlalchemy-migrate,I005d20ef21b6c8122be90e8afb38abd902fdfc6e,sql: Prepare for alembic migration,MERGED,2022-01-21 17:46:19.000000000,2022-02-11 18:17:09.000000000,2022-02-11 18:15:06.000000000,121,121,1,825843,dce38678fc252bd39d3e28e920e76668e47398cd,20,5,3,3,15334,Stephen Finucane,sfinucan,"sql: Prepare for alembic migration

Nothing functional here. We simply switch from using ""repo_name""
terminology and move/rename some helper functions. Branches aren't
really a SQLAlchemy-Migrate thing but it's close enough to do.

Change-Id: I005d20ef21b6c8122be90e8afb38abd902fdfc6e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I5a76c5d32593a9ebcd02d845eb51d70547c60460,openstack/nova,master,specs/yoga/approved/ephemeral-encryption-libvirt,I5a76c5d32593a9ebcd02d845eb51d70547c60460,func: Allow compute_driver to be set and used by _IntegratedTestBase,NEW,2020-11-27 17:45:37.000000000,2022-02-11 18:10:40.000000000,,5,0,1,764484,fe4d15a7160d8c48e9c506c6231f5c3b99392fe4,27,2,5,1,10135,Lee Yarwood,lyarwood,"func: Allow compute_driver to be set and used by _IntegratedTestBase

This should ease eventual migrations from ProviderUsageBaseTestCase
class, as suggested by an outstanding TODO.

Change-Id: I5a76c5d32593a9ebcd02d845eb51d70547c60460
"
openstack%2Fkeystone~master~Id3d2769af6004bd4d4792c4488ac5eba94a5a776,openstack/keystone,master,bp/remove-sqlalchemy-migrate,Id3d2769af6004bd4d4792c4488ac5eba94a5a776,sql: Remove dead helpers,MERGED,2022-02-04 19:35:15.000000000,2022-02-11 17:43:48.000000000,2022-02-11 17:41:34.000000000,1,69,0,827915,a6887c13ea75cbd3a09abab3dbcfe194637b3ed0,10,4,1,1,15334,Stephen Finucane,sfinucan,"sql: Remove dead helpers

'assertTableCountsMatch' should have been removed in change
I41584c652ab34a267009136ee2a2e159ee2f2a6e (""sql: Squash mitaka
migrations"")

'does_constraint_exist' should have been removed in change
Ic499a996e1b9c6f0a9d885b4a9e655008002d49f (""sql: Squash queens
migrations"")

'does_pk_exist' should have been removed in change
I6beb8c9c827546757f2d7673a917b98f8b917012 (""sql: Squash rocky
migrations"")

'assertTableExists' should have been removed in change
I58e4b6833036a25ea8a1202c87ceebdbe932b447 (""sql: Squash stein
migrations"")

'insert_dict', 'does_index_exist', and 'does_unique_constraint_exist'
should have been removed in change
Ifc71efb8609bc26ce998a9fa48b207abf8b9a38b (""sql: Squash train
migrations"")

'does_fk_exist' should have been removed in change
Ia1495cd4683d6631be2691e816734d01b03037a3 (""sql: Squash ussuri
migrations"")

Change-Id: Id3d2769af6004bd4d4792c4488ac5eba94a5a776
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fneutron~stable%2Fwallaby~Ie0660e5e89e45c00b79464368ba337d27a824714,openstack/neutron,stable/wallaby,bug/1957175-stable/wallaby,Ie0660e5e89e45c00b79464368ba337d27a824714,[Stable Only] Enforce policy for qos_policy_id attribute,MERGED,2022-01-31 15:54:34.000000000,2022-02-11 17:43:43.000000000,2022-02-11 17:41:31.000000000,7,0,4,827015,c5765cdd75731eac10c93d2eb01bc4846e3a8d04,29,5,1,2,13861,yatin,yatinkarel,"[Stable Only] Enforce policy for qos_policy_id attribute

Currently while updating 'qos_policy_id', authorization policies
are not enforced and as a result it can be set or unset over
port/network/fip by an unauthorized user.

This patch fixes it by setting 'enforce_policy' to True
for this attribute for Floating IP, for port and network
it's fixed in neutron-lib[1].

This patch is only for stable releases as for releases since
Yoga this is fixed in neutron-lib[2] itself.

[1] https://review.opendev.org/q/Ieee1ca092e572ad4696105962fbc6de675454657
[2] https://review.opendev.org/c/openstack/neutron-lib/+/825088

Closes-Bug: #1957175
Change-Id: Ie0660e5e89e45c00b79464368ba337d27a824714
(cherry picked from commit 0c2af0f6e7d99d60aed20e731d5b178f1e152678)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ibaeb1249ae02651cbefba75d0912da205880a495,openstack/tripleo-ansible,stable/wallaby,cherrypick-bug/1958524-ciurj3s19i,Ibaeb1249ae02651cbefba75d0912da205880a495,Add playbooks to config overcloud hosts and container regsitry,MERGED,2022-02-09 19:33:06.000000000,2022-02-11 17:39:56.000000000,2022-02-11 17:39:56.000000000,49,0,2,828562,4e72d0ff92999e8f25c92fdd6fa6ea1d0a133cbf,13,4,2,2,18002,John Fulton,fultonj,"Add playbooks to config overcloud hosts and container regsitry

Add two playbooks which call the tripleo_hosts_entries and
tripleo_podman roles. These roles are usually called from
THT deploy-steps but in order to deploy Ceph before the
overcloud the 'openstack overcloud ceph deploy' command
needs to be able to call them earlier so these two playbooks
provide it an interface to do so.

See I24bea131cc949888518994a3aa08c200d579cb7d which depends-on
this patch.

Related-Bug: 1958524
Change-Id: Ibaeb1249ae02651cbefba75d0912da205880a495
(cherry picked from commit 4de0bc4d94f2fa1c1234db4519aa316b96495108)
"
openstack%2Fhacking~master~Ie51ab50dc1215d9a503067595532302de4338fbd,openstack/hacking,master,bug/1907807,Ie51ab50dc1215d9a503067595532302de4338fbd,"Revert ""Catch .format() use in log string interpoliation check""",ABANDONED,2020-12-11 11:30:59.000000000,2022-02-11 17:28:42.000000000,,1,2,0,766718,f4287ebe1c01d8bbe57181107768b17b7b497964,6,1,1,2,15334,Stephen Finucane,sfinucan,"Revert ""Catch .format() use in log string interpoliation check""

This reverts commit f82f995d022f5e1786460900266dc0e54786eacd. This check
is overly broad and catches many things other than 'str.format()', as
noted in the bug.

Change-Id: Ie51ab50dc1215d9a503067595532302de4338fbd
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #190787
"
openstack%2Fdebtcollector~master~Iaf6de36834e4497962a93640f68ca4e3d7909442,openstack/debtcollector,master,no-pbr,Iaf6de36834e4497962a93640f68ca4e3d7909442,trivial: Remove 'coding' headers,ABANDONED,2021-04-26 09:23:49.000000000,2022-02-11 17:25:44.000000000,,40,56,0,787949,cddeb66a532dbec49930d35614f2749a4d68f018,4,2,1,9,15334,Stephen Finucane,sfinucan,"trivial: Remove 'coding' headers

Source files are read as UTF-8 by default in Python 3. There's no need
for these headers.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Iaf6de36834e4497962a93640f68ca4e3d7909442
"
openstack%2Fneutron-lib~master~I876405a68cd0f1727350e96eca6fb65433d7247f,openstack/neutron-lib,master,bug/1877301,I876405a68cd0f1727350e96eca6fb65433d7247f,api-ref for ndp proxy,MERGED,2021-07-17 08:15:04.000000000,2022-02-11 17:12:57.000000000,2022-02-11 17:11:03.000000000,456,0,39,801181,c7a2f76cdbabc65d1dcebb76822d664f4c4de354,38,5,10,10,28329,yangjianfeng,yangjianfeng,"api-ref for ndp proxy

This patch adds the API documentation for the ndp proxy

Change-Id: I876405a68cd0f1727350e96eca6fb65433d7247f
Partial-Bug: #1877301
"
openstack%2Fnova~master~I1ea7021e5fb6528250a5d0d8c205703ed084ab4b,openstack/nova,master,deprecate-zvm-driver,I1ea7021e5fb6528250a5d0d8c205703ed084ab4b,Deprecate the zvm driver,ABANDONED,2021-11-25 18:50:47.000000000,2022-02-11 17:10:41.000000000,,14,1,3,819365,acd702052b48a94e132d88035d69b085dfe263de,20,3,2,2,15334,Stephen Finucane,sfinucan,"Deprecate the zvm driver

As with the vmwareapi driver back in Ussuri [1], our indications suggest
that this driver is no longer maintained and may be abandonware. Start
the deprecation timer for the driver. If we see signs of life, we can
re-assess this decision.

[1] Ie39e9605dc8cebff3795a29ea91dc08ee64a21eb

Change-Id: I1ea7021e5fb6528250a5d0d8c205703ed084ab4b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Foctavia~master~Ic379570f90ea00844600988e2fc198e2aa483088,openstack/octavia,master,,Ic379570f90ea00844600988e2fc198e2aa483088,DNM: member-monitor IPv6 debugging,ABANDONED,2022-02-09 06:58:43.000000000,2022-02-11 17:03:33.000000000,,192,72,1,828461,4bffe103698830d082a5160752885107198a7a7a,14,1,6,5,11628,Michael Johnson,johnsom,"DNM: member-monitor IPv6 debugging

Change-Id: Ic379570f90ea00844600988e2fc198e2aa483088
"
openstack%2Foctavia-tempest-plugin~master~I9bb32a381c7cdcb841396104538c8662ff247bf7,openstack/octavia-tempest-plugin,master,,I9bb32a381c7cdcb841396104538c8662ff247bf7,DNM: Testing IPv6,ABANDONED,2022-02-09 07:05:39.000000000,2022-02-11 17:03:29.000000000,,53,53,5,828462,e161ad8336abecfefe4db503cc7e917dd01b19f6,13,1,1,1,11628,Michael Johnson,johnsom,"DNM: Testing IPv6

Depends-On: https://review.opendev.org/c/openstack/octavia/+/828461
Change-Id: I9bb32a381c7cdcb841396104538c8662ff247bf7
"
openstack%2Fpuppet-neutron~stable%2Fussuri~I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,openstack/puppet-neutron,stable/ussuri,bug/1940838-stable/ussuri,I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,Add report_inteval parameter in ml2 baremetal,MERGED,2022-02-09 16:56:40.000000000,2022-02-11 16:59:20.000000000,2022-02-11 16:56:55.000000000,17,0,2,828555,b9f3a4baa62d72b356d3307a380f2aa1f3f7703d,17,3,2,3,24245,Harald Jensås,harald.jensas,"Add report_inteval parameter in ml2 baremetal

Add the parameter $report_interval to the ml2
networking-baremetal manifest. By default the global
report_interval as defined in neutron.conf is used.

In some cases it makes sense to change the report_interval
specifically for ironic-neutron-agent.

Conflicts:
  manifests/agents/ml2/networking_baremetal.pp
  spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb

Related-Bug: #1940838
Change-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209
(cherry picked from commit dae33092a120655dfe4b9a550ec29a8c2dba73a5)
(cherry picked from commit 41bcf66eafc092890cdd6d2560d02642c5a55761)
(cherry picked from commit 629dbe0f1e89bec38d02050f80d3dda30e20d170)
"
openstack%2Fdevstack~stable%2Fussuri~Ife528fa6383b14a89b5d4a330ae60c2f82116798,openstack/devstack,stable/ussuri,remove-centos-8,Ife528fa6383b14a89b5d4a330ae60c2f82116798,Drop centos8 nodeset,MERGED,2022-02-10 22:27:59.000000000,2022-02-11 16:58:27.000000000,2022-02-11 16:53:27.000000000,0,10,3,828804,9e7df2e553f700837fe9367daae94ed5882bf9f8,10,3,1,1,8556,Ghanshyam,ghanshyam,"Drop centos8 nodeset

CentOS8 is going to be EOL soon and opendev
is planning to drop the centOS8 image from CI
- http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html

Depends-On: https://review.opendev.org/c/openstack/python-cinderclient/+/826092
Change-Id: Ife528fa6383b14a89b5d4a330ae60c2f82116798
"
openstack%2Fbarbican-tempest-plugin~master~If2209b12dce107c5648d39270d977a1e9f3bea1d,openstack/barbican-tempest-plugin,master,secure-rbac,If2209b12dce107c5648d39270d977a1e9f3bea1d,Add secure-rbac test for Consumers,MERGED,2021-10-21 20:50:36.000000000,2022-02-11 16:50:26.000000000,2022-02-11 16:50:26.000000000,56,24,17,815071,82fa4a08a3a7da9b6159b9ffd545976fdce59e63,26,3,6,3,7973,Douglas Mendizábal,dougmendizabal,"Add secure-rbac test for Consumers

This patch adds tests for Container Consumers.

Depends-On: I1724152839f0f5850f8d32d40b36d1670c0ad996
Change-Id: If2209b12dce107c5648d39270d977a1e9f3bea1d
"
openstack%2Fneutron~stable%2Fwallaby~I570b2251da8a4a25d155ba838346b24afafd727f,openstack/neutron,stable/wallaby,bug/1949967,I570b2251da8a4a25d155ba838346b24afafd727f,[OVN] Check new added segments in OVN mech driver,MERGED,2022-01-24 15:26:43.000000000,2022-02-11 16:42:31.000000000,2022-02-11 16:40:34.000000000,121,32,26,826103,d53733c33a140d88b1ed9c7f59cf5963b18bd555,125,3,1,11,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN] Check new added segments in OVN mech driver

Check new segments added to OVN mechanism driver. This mechanism
driver does not inherit from ``SimpleAgentMechanismDriverBase``
because OVN has no agents (NOTE 1). However OVN mechanism driver
requires an OVN controller service in each deployed chassis. This
is how OVN driver knows the hosts using this backend.

The segments, attached to an external network (connected to a
physical network), can be mapped to a host if ther is a chassis (OVN
controller agent) in this host.

NOTE 1: OVN provides agent API compatibility, presenting the
controller and the metadata services as agents. But OVN mechanism
driver has no control or provides any information (via RPC) to
those services.

Conflicts:
  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py

Closes-Bug: #1949967
Change-Id: I570b2251da8a4a25d155ba838346b24afafd727f
(cherry picked from commit c8427c82dae38154df70400f7d2fe69f0d6c3354)
"
openstack%2Foslo.policy~master~I09de011b77b49801da2a70eebacfab1d10de32d3,openstack/oslo.policy,master,,I09de011b77b49801da2a70eebacfab1d10de32d3,Fix formatting of release list,MERGED,2022-02-07 10:26:56.000000000,2022-02-11 16:41:20.000000000,2022-02-11 16:39:37.000000000,14,14,1,828101,c2382f990e6f434ab718dd535c94da8c5f9297e4,8,3,1,1,15197,Pierre Riteau,priteau,"Fix formatting of release list

Change-Id: I09de011b77b49801da2a70eebacfab1d10de32d3
"
openstack%2Fneutron~master~I5f631dc6c653eb8d9513721bf52400323b6f5b75,openstack/neutron,master,bug/1863577,I5f631dc6c653eb8d9513721bf52400323b6f5b75,Re enable test_network_v6.TestGettingAddress,MERGED,2022-02-02 08:49:34.000000000,2022-02-11 16:30:57.000000000,2022-02-11 16:25:03.000000000,0,5,3,827424,4be4511bec6856e30d18b8789a3508832ad73c94,20,6,3,1,13861,yatin,yatinkarel,"Re enable test_network_v6.TestGettingAddress

The test is working fine now so let's re enable.

Related-Bug: #1863577
Change-Id: I5f631dc6c653eb8d9513721bf52400323b6f5b75
"
openstack%2Fneutron~stable%2Fussuri~Ie0660e5e89e45c00b79464368ba337d27a824714,openstack/neutron,stable/ussuri,bug/1957175-stable/wallaby-stable/victoria-stable/ussuri,Ie0660e5e89e45c00b79464368ba337d27a824714,[Stable Only] Enforce policy for qos_policy_id attribute,MERGED,2022-01-31 15:55:13.000000000,2022-02-11 16:30:31.000000000,2022-02-11 16:24:57.000000000,7,0,5,827017,b738de94182b90a72b28e92f5b2218b5198e01f6,18,6,2,2,13861,yatin,yatinkarel,"[Stable Only] Enforce policy for qos_policy_id attribute

Currently while updating 'qos_policy_id', authorization policies
are not enforced and as a result it can be set or unset over
port/network/fip by an unauthorized user.

This patch fixes it by setting 'enforce_policy' to True
for this attribute for Floating IP, for port and network
it's fixed in neutron-lib[1].

This patch is only for stable releases as for releases since
Yoga this is fixed in neutron-lib[2] itself.

[1] https://review.opendev.org/q/Ieee1ca092e572ad4696105962fbc6de675454657
[2] https://review.opendev.org/c/openstack/neutron-lib/+/825088

Depends-On: https://review.opendev.org/c/openstack/tempest/+/828245
Closes-Bug: #1957175
Change-Id: Ie0660e5e89e45c00b79464368ba337d27a824714
(cherry picked from commit 0c2af0f6e7d99d60aed20e731d5b178f1e152678)
"
openstack%2Fnova~stable%2Fxena~Ib3073d7f595c8927532b7c49fc7e5ffe80d508b9,openstack/nova,stable/xena,bug/1940812,Ib3073d7f595c8927532b7c49fc7e5ffe80d508b9,Avoid unbound instance_uuid var during delete,MERGED,2021-11-04 08:08:43.000000000,2022-02-11 16:29:52.000000000,2022-02-11 16:24:50.000000000,34,4,11,816488,00cba396134846dbbcf68cc9cf08e80618322bbe,56,8,1,2,9708,Balazs Gibizer,gibi,"Avoid unbound instance_uuid var during delete

The patch I03cf285ad83e09d88cdb702a88dfed53c01610f8 fixed most of the
possible cases for this to happen but missed one. An early enough
exception during _delete() can cause that the instance_uuid never gets
defined but then we try to use it during the finally block. This patch
moves the saving of the instance_uuid to the top of the try block to
avoid the issue.

Change-Id: Ib3073d7f595c8927532b7c49fc7e5ffe80d508b9
Closes-Bug: #1940812
Related-Bug: #1914777
(cherry picked from commit 14e43f385e6d243b6efd11a777d082e63b66367c)
"
openstack%2Fdevstack-plugin-ceph~master~Iad5577cdce8c1a46254cabc68f480b1952fbd9bc,openstack/devstack-plugin-ceph,master,,Iad5577cdce8c1a46254cabc68f480b1952fbd9bc,WIP: set enable_deferred deletion to test Ceph changes,NEW,2022-01-07 17:28:08.000000000,2022-02-11 16:26:12.000000000,,2,0,0,823826,809b16d090130f0e665377beb8549ec8ae53967f,3,2,1,1,4523,Eric Harney,eharney,"WIP: set enable_deferred deletion to test Ceph changes

Change-Id: Iad5577cdce8c1a46254cabc68f480b1952fbd9bc
"
openstack%2Fdevstack-plugin-ceph~master~Icb5d9932f02dd5e8359e10d775350106a83c29c8,openstack/devstack-plugin-ceph,master,,Icb5d9932f02dd5e8359e10d775350106a83c29c8,WIP: test enable_deferred_deletion w/ Ceph driver change,NEW,2022-01-07 17:28:08.000000000,2022-02-11 16:26:06.000000000,,1,0,0,823827,f9c7af0ba145fed8d6bf4a548df2bc84f98bee73,3,2,1,1,4523,Eric Harney,eharney,"WIP: test enable_deferred_deletion w/ Ceph driver change

Depends-On: I4170e093baf46745e3ba6e74efc680beaee08fab
Change-Id: Icb5d9932f02dd5e8359e10d775350106a83c29c8
"
openstack%2Fopenstack-virtual-baremetal~stable%2F2.0~If97d33aee65a05f6fb860eb4f3c1655bc4605908,openstack/openstack-virtual-baremetal,stable/2.0,uefi-stable/2.0,If97d33aee65a05f6fb860eb4f3c1655bc4605908,Set explicit boot mode even for bios boot,MERGED,2022-02-10 23:56:18.000000000,2022-02-11 16:20:08.000000000,2022-02-11 16:20:08.000000000,3,1,3,828759,f2c81a807c584d3a8b3ed9ed12760352939fbdf7,8,4,1,2,24245,Harald Jensås,harald.jensas,"Set explicit boot mode even for bios boot

OVB correctly detects when the image is UEFI boot enabled and sets
boot_mode:uefi. However non-UEFI images will use the ironic configured
default, and this will soon change from 'bios' to 'uefi'.

This change explicitly sets to boot mode to either 'bios' or 'uefi'
based on discovered image properties so that ironic defaults can
change without causing CI failures.

Change-Id: If97d33aee65a05f6fb860eb4f3c1655bc4605908
(cherry picked from commit 041df632fccdf75686144e4e8651bd9d731fcfee)
"
openstack%2Ftripleo-heat-templates~master~I8eb45da9a932eff459d2d1ea980c405d25411d78,openstack/tripleo-heat-templates,master,,I8eb45da9a932eff459d2d1ea980c405d25411d78,Clean up old container config files from container-startup-config.,ABANDONED,2022-02-04 06:56:49.000000000,2022-02-11 16:10:35.000000000,,6,0,9,827806,eb738fa8bab0cca63c837942a48357de85307bd0,15,9,1,1,26343,Jose Luis Franco,jfrancoa,"Clean up old container config files from container-startup-config.

When performing the upgrade from Train to Wallaby some of
the container config files from Train remain causing its
recreation during the the deployment steps.

This patch removes the /var/lib/tripleo-config/container-startup-
config folder with the intention of cleaining it up during the
Undercloud upgrade procedure. The folder then gets recreated and
all the new corresponding container configs will be added during
the deployment steps.

Change-Id: I8eb45da9a932eff459d2d1ea980c405d25411d78
Related-bug: #1959662
"
openstack%2Felection~master~I0314d4c3e88cfdac933186fe3cea66311983ecd2,openstack/election,master,,I0314d4c3e88cfdac933186fe3cea66311983ecd2,Adding Arne Wiebalck candidacy for TC,MERGED,2022-02-11 09:29:56.000000000,2022-02-11 16:09:22.000000000,2022-02-11 16:07:28.000000000,48,0,3,828827,44c9713f72a78291b11d24bb329341043e5b3f2f,9,3,1,1,11292,Arne Wiebalck,wiebalck,"Adding Arne Wiebalck candidacy for TC

Change-Id: I0314d4c3e88cfdac933186fe3cea66311983ecd2
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I07339f62fc99ee517851fb706eaf051231b7f1d5,openstack/tripleo-heat-templates,stable/train,,I07339f62fc99ee517851fb706eaf051231b7f1d5,WIP: Update repositories during minor update.,ABANDONED,2020-12-14 09:51:14.000000000,2022-02-11 16:09:18.000000000,,2,1,0,766911,e83ac06d4215a54faddae3ada9b5ac1848e5c7aa,9,3,1,1,26343,Jose Luis Franco,jfrancoa,"WIP: Update repositories during minor update.

The minor update relies on the host_prep_tasks to set the subscription
details. However, this task is triggered after the update_tasks therefore
we end up running the update_tasks with the old repositories, rhel_release,
etc... Which has been solved in documentation by adding extra steps that
perform the update in all overcloud nodes [0]. By adding a new update_task
that calls the redhat_subscription role we will make sure that new repos
are set properly.

[0] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/keeping_red_hat_openstack_platform_updated/index#locking-the-environment-to-a-red-hat-enterprise-linux-release

Change-Id: I07339f62fc99ee517851fb706eaf051231b7f1d5
"
openstack%2Fpython-cinderclient~master~I5ad342f2b60348a0ba79c95415fdf1ae39714558,openstack/python-cinderclient,master,py3-only,I5ad342f2b60348a0ba79c95415fdf1ae39714558,Add Python 3 only classifier,MERGED,2022-02-08 14:16:08.000000000,2022-02-11 16:04:38.000000000,2022-02-11 16:02:45.000000000,1,0,2,828343,ef4991dc7aa20480cdc4f48ea9874cce1916a4f0,9,3,1,1,9816,Takashi Kajinami,kajinamit,"Add Python 3 only classifier

Python 2 support was removed during Ussuri cycle. This change adds
the classifier to clearly state that only Python 3 is supported.

This allows us to keep the setup.cfg file in cinder and the one in
cinderclient more consistent.

Change-Id: I5ad342f2b60348a0ba79c95415fdf1ae39714558
"
openstack%2Freleases~master~I846785b7fda22c8057a8ac6e84e75dd07fa31d37,openstack/releases,master,not-yet-released-yoga,I846785b7fda22c8057a8ac6e84e75dd07fa31d37,[ironic] Propose to switch the release model,ABANDONED,2022-01-25 17:14:10.000000000,2022-02-11 15:57:50.000000000,,5,5,3,826332,60ee47d103122844f66bc5061c684dbe88b5e8f5,6,4,1,5,17685,Elod Illes,elod.illes,"[ironic] Propose to switch the release model

Intermediary-released deliverables that did release only once during
the last cycle, and have not done a release yet are good candidates
to switch to the cycle-with-rc model, which is much more suitable for
deliverables that are only released once per cycle.

These changes are not mandatory and this patch is a conveniences to
highlight this point and open the discussion.

PTLs and release liaisons please decide to:
- immediately release an intermediary release (and -1 the proposed change)
- confirm the release model change (+1 the proposed change)
- stay uncertain for this cycle of how many releases will be made, but
  acknowledge that they need to do a release before RC1 (-1 the proposed
  change)

Change-Id: I846785b7fda22c8057a8ac6e84e75dd07fa31d37
"
openstack%2Fvalidations-common~master~I53f31f6fd30a15698328cada54c96d7d902e0155,openstack/validations-common,master,validation/check-rsyslog,I53f31f6fd30a15698328cada54c96d7d902e0155,New validation for checking presence of running rsyslog service.,MERGED,2021-02-16 12:36:16.000000000,2022-02-11 15:35:55.000000000,2022-02-11 15:30:37.000000000,183,0,4,775822,9b2bddbab898ac28ca368663906243b2869b689b,33,9,7,8,32926,Jiri Podivin,jpodivin,"New validation for checking presence of running rsyslog service.

Necessity of proper logging is described in depth by NIST SP 800-171
as well as by the Red Hat Openstack Security and Hardening Guide.

New validation group `security` consists only of check-rsyslog and
check-selinux-mode validations at this time.

Further security related validations should be included
in this group, in addition to other groups as needed.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I53f31f6fd30a15698328cada54c96d7d902e0155
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iecaeb2c1fd276d624f91ca4b21efaf700701f46c,openstack/tripleo-heat-templates,stable/train,,Iecaeb2c1fd276d624f91ca4b21efaf700701f46c,[train-only][ffwd][allinone] Last piece of puzzle for all in one upgrade,MERGED,2022-02-01 20:29:19.000000000,2022-02-11 15:30:34.000000000,2022-02-11 15:30:34.000000000,16,3,4,827360,d8e54513771e3336e8435701e12d13291b78fd61,20,4,4,2,11166,Lukas Bezdicka,xbezdick,"[train-only][ffwd][allinone] Last piece of puzzle for all in one upgrade

The all in one upgrade procedure does not run transfer data as it
only stops all services. There is no point to transfer data to
bootstrap controller as all nodes will pop back into existence
at once. For this we need to override check for mysql data transfer.

Change-Id: Iecaeb2c1fd276d624f91ca4b21efaf700701f46c
"
openstack%2Fnova~stable%2Fvictoria~Ie904d1513b5cf76d6d5f6877545e8eb378dd5499,openstack/nova,stable/victoria,bug/1946729,Ie904d1513b5cf76d6d5f6877545e8eb378dd5499,Add a WA flag waiting for vif-plugged event during reboot,MERGED,2021-11-19 14:49:57.000000000,2022-02-11 15:28:30.000000000,2022-02-11 15:22:27.000000000,141,2,5,818559,c531fdcc192afb5af628ac567cb0ff8aa3eab052,26,5,1,5,9708,Balazs Gibizer,gibi,"Add a WA flag waiting for vif-plugged event during reboot

The libvirt driver power on and hard reboot destroys the domain first
and unplugs the vifs then recreate the domain and replug the vifs.
However nova does not wait for the network-vif-plugged event before
unpause the domain. This can cause that the domain starts running and
requesting IP via DHCP before the networking backend finished plugging
the vifs.

So this patch adds a workaround config option to nova to wait for
network-vif-plugged events during hard reboot the same way as nova waits
for this event during new instance spawn.

This logic cannot be enabled unconditionally as not all neutron
networking backend sending plug time events to wait for. Also the logic
needs to be vnic_type dependent as ml2/ovs and the in tree sriov backend
often deployed together on the same compute. While ml2/ovs sends plug
time event the sriov backend does not send it reliably. So the
configuration is not just a boolean flag but a list of vnic_types
instead. This way the waiting for the plug time event for a vif that is
handled by ml2/ovs is possible while the instance has other vifs handled
by the sriov backend where no event can be expected.

Conflicts:
      nova/virt/libvirt/driver.py both
      I73305e82da5d8da548961b801a8e75fb0e8c4cf1 and
      I0b93bdc12cdce591c7e642ab8830e92445467b9a are not in
      stable/victoria

The stable/victoria specific changes:

* The list of accepted vnic_type-s are adapted to what is supported by
  neutron on this release. So vdpa, accelerator-direct, and
  accelerator-direct-physical are removed as they are only added in
  stable/wallaby

Change-Id: Ie904d1513b5cf76d6d5f6877545e8eb378dd5499
Closes-Bug: #1946729
(cherry picked from commit 68c970ea9915a95f9828239006559b84e4ba2581)
(cherry picked from commit 0c41bfb8c5c60f1cc930ae432e6be460ee2e97ac)
(cherry picked from commit 89c4ff5f7b45f1a5bed8b6b9b4586fceaa391bfb)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I40c4e209470d21e0a02fd447fb628acfdae9fa9d,openstack/kolla-ansible,stable/wallaby,fix-haproxy-logrotate-stable/xena-stable/wallaby,I40c4e209470d21e0a02fd447fb628acfdae9fa9d,Fix log rotation for fluentd created files,MERGED,2022-02-09 10:41:53.000000000,2022-02-11 15:21:46.000000000,2022-02-11 15:13:48.000000000,44,23,0,828405,b33c6fa91a72cd6ae8631819ee7ac229e631f595,9,3,1,3,30491,Radosław Piliszek,yoctozepto,"Fix log rotation for fluentd created files

Overrides default fluentd buffer config to stop log files from using
datestamped filenames, allowing logrotate to manage them.

Closes-Bug: #1940118
Change-Id: I40c4e209470d21e0a02fd447fb628acfdae9fa9d
(cherry picked from commit 79b59e2c0b43936a12a9c676d8a48cd62c733a0f)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I40c4e209470d21e0a02fd447fb628acfdae9fa9d,openstack/kolla-ansible,stable/victoria,fix-haproxy-logrotate-stable/xena-stable/wallaby-stable/victoria,I40c4e209470d21e0a02fd447fb628acfdae9fa9d,Fix log rotation for fluentd created files,MERGED,2022-02-09 10:42:00.000000000,2022-02-11 15:21:40.000000000,2022-02-11 15:13:51.000000000,44,23,0,828406,aaa56405d33656104fd7b1972b3688bd4aadd95f,9,3,1,3,30491,Radosław Piliszek,yoctozepto,"Fix log rotation for fluentd created files

Overrides default fluentd buffer config to stop log files from using
datestamped filenames, allowing logrotate to manage them.

Closes-Bug: #1940118
Change-Id: I40c4e209470d21e0a02fd447fb628acfdae9fa9d
(cherry picked from commit 79b59e2c0b43936a12a9c676d8a48cd62c733a0f)
"
openstack%2Fkolla-ansible~stable%2Fxena~I40c4e209470d21e0a02fd447fb628acfdae9fa9d,openstack/kolla-ansible,stable/xena,fix-haproxy-logrotate-stable/xena,I40c4e209470d21e0a02fd447fb628acfdae9fa9d,Fix log rotation for fluentd created files,MERGED,2022-02-09 10:41:43.000000000,2022-02-11 15:21:39.000000000,2022-02-11 15:13:44.000000000,44,23,4,828404,a763f586b652a30d55e8d94a4e0dfef4bffeb9d7,13,3,1,3,30491,Radosław Piliszek,yoctozepto,"Fix log rotation for fluentd created files

Overrides default fluentd buffer config to stop log files from using
datestamped filenames, allowing logrotate to manage them.

Closes-Bug: #1940118
Change-Id: I40c4e209470d21e0a02fd447fb628acfdae9fa9d
(cherry picked from commit 79b59e2c0b43936a12a9c676d8a48cd62c733a0f)
"
openstack%2Ftenks~master~Ifaf95ecfd4f6e925d3c69d4b324fdf2cd6b0ca52,openstack/tenks,master,,Ifaf95ecfd4f6e925d3c69d4b324fdf2cd6b0ca52,Support UEFI boot mode,MERGED,2022-02-02 11:34:33.000000000,2022-02-11 15:19:41.000000000,2022-02-11 15:12:24.000000000,99,29,4,827479,fc1b42c60d19e148a746bc171a71ec13dd39ecfd,27,5,9,12,14826,Mark Goddard,mgoddard,"Support UEFI boot mode

Adds support for using UEFI boot mode for nodes. This is done via node
capabilities, as it is in Ironic.

The default boot mode is now configurable via the default_boot_mode
variable. The default boot mode remains legacy BIOS for now, although
this may change.

Updates the existing CI jobs, with the OVS jobs using BIOS boot mode,
and the linuxbridge jobs using UEFI boot mode.

Depends-On: https://github.com/stackhpc/ansible-role-libvirt-vm/pull/83
Depends-On: https://github.com/stackhpc/ansible-role-libvirt-host/pull/50
Depends-On: https://review.opendev.org/c/openstack/kayobe/+/827486

Change-Id: Ifaf95ecfd4f6e925d3c69d4b324fdf2cd6b0ca52
"
openstack%2Fdevstack~stable%2Fussuri~Ica61976ac51b21dcea73654df0c62a313d9a2b6e,openstack/devstack,stable/ussuri,remove-centos-8,Ica61976ac51b21dcea73654df0c62a313d9a2b6e,Drop centos8 nodeset,ABANDONED,2022-02-01 20:21:16.000000000,2022-02-11 15:15:35.000000000,,0,10,0,827355,8a2c38b16b232b278944a80e822de6ad42c793e0,5,1,2,1,13252,Dr. Jens Harbott,jrosenboom,"Drop centos8 nodeset

Change-Id: Ica61976ac51b21dcea73654df0c62a313d9a2b6e
"
openstack%2Fpython-cinderclient~stable%2Fvictoria~I6d8864905cbfdffa32b02d9ffbc463f30d3ff720,openstack/python-cinderclient,stable/victoria,remove-centos-8,I6d8864905cbfdffa32b02d9ffbc463f30d3ff720,Migrate job from CentOS8 to Bionic,MERGED,2022-01-24 14:12:38.000000000,2022-02-11 15:13:54.000000000,2022-02-11 15:07:58.000000000,1,1,7,826092,3bc7349bc545d8f5a3299aa4faa046630334482c,22,6,4,1,5314,Brian Rosmaita,brian-rosmaita,"Migrate job from CentOS8 to Bionic

CentOS 8 is being removed from CI because of its EOL[1].
CentOS 8 stream is not currently supported by victoria devstack.
Our functional-py36 job is a child of devstack-tox-functional.
So we need to run devstack with py36 on a supported platform.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html

Change-Id: I6d8864905cbfdffa32b02d9ffbc463f30d3ff720
"
openstack%2Fkolla-ansible~master~Ie7a7bc44fe2bf312c2c2ad97da56ac85694b82a8,openstack/kolla-ansible,master,,Ie7a7bc44fe2bf312c2c2ad97da56ac85694b82a8,haproxy: support fqdn based single frontend,ABANDONED,2022-01-12 08:05:01.000000000,2022-02-11 15:12:51.000000000,,69,1,0,824312,9017a1a4d94f2449a1ab34d6aa3547e1eb19770a,10,1,3,5,22629,Michal Nasiadka,mnasiadka,"haproxy: support fqdn based single frontend

Change-Id: Ie7a7bc44fe2bf312c2c2ad97da56ac85694b82a8
"
openstack%2Foslo.log~master~If1e846c79477cb0fc06d5702240e1dbb9f2c9c40,openstack/oslo.log,master,yoga,If1e846c79477cb0fc06d5702240e1dbb9f2c9c40,Add Yoga to versionutils,MERGED,2022-02-04 21:33:23.000000000,2022-02-11 14:50:43.000000000,2022-02-11 14:48:30.000000000,2,0,2,827926,de03a59ed78e3e5d97d530918a4a1680160660dc,11,3,2,1,21129,Alan Bishop,ASBishop,"Add Yoga to versionutils

Change-Id: If1e846c79477cb0fc06d5702240e1dbb9f2c9c40
"
openstack%2Fcinder~stable%2Fvictoria~Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782,openstack/cinder,stable/victoria,img-fmt-victoria,Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782,Reject bad img formats for uploaded encrypted vols,MERGED,2022-02-03 23:17:47.000000000,2022-02-11 14:37:30.000000000,2022-02-11 14:35:13.000000000,68,2,1,827776,fac676112da484e8ad2627de4333ab72b70fe5c8,20,4,1,5,5314,Brian Rosmaita,brian-rosmaita,"Reject bad img formats for uploaded encrypted vols

Cinder only supports uploading volumes of encrypted volume types as
images with disk format 'raw' and container format 'bare'.  Screen
for this at the REST API layer when the request is made.

This change is applied directly to the VolumeActionsController in
the cinder.api.contrib module, so it affects both the Block Storage
API v2 and v3.

Change-Id: Ibb77b8b1be6c35c5db3b07fdc4056afd51d48782
Closes-bug: #1935688
(cherry picked from commit de8b3b0b00421a01ed777880d2b5bf6fffc068d5)
(cherry picked from commit 78682022d2dcf07c270356d23a27843578466469)
(cherry picked from commit 12f7376fe44ea53e6e84dfd12577953bd841d25d)
"
openstack%2Foslo.log~master~Id6d4b6eaa2b96ba5bd53e8b2dae5d9eea13b25d9,openstack/oslo.log,master,context-attr,Id6d4b6eaa2b96ba5bd53e8b2dae5d9eea13b25d9,Use project when logging the user identity,MERGED,2022-02-05 21:01:14.000000000,2022-02-11 14:32:48.000000000,2022-02-11 14:31:04.000000000,22,27,4,828017,650ce7d313e00525c4391692fbdc4cba529e11ea,15,6,1,3,21129,Alan Bishop,ASBishop,"Use project when logging the user identity

The logging_user_identity_format option's default value is changed
to reference the project instead of the tenant. This is necessary
because I2fded6f3476df1fb8c4e042ef28ed8ccb7ab0737 removed the tenant
argument from request contexts.

Related-Bug: #1505827
Change-Id: Id6d4b6eaa2b96ba5bd53e8b2dae5d9eea13b25d9
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I70ba5016a63a08a1bf2650a4e24f889b24c96f44,openstack/tripleo-heat-templates,stable/train,,I70ba5016a63a08a1bf2650a4e24f889b24c96f44,[train-only][ffwd][allinone] Fix idempotency for all in one upgrade,MERGED,2022-01-21 14:15:05.000000000,2022-02-11 14:30:44.000000000,2022-02-11 14:30:44.000000000,31,10,12,825810,bfbf6be363648b36f5bd6abab32b73f175be2f60,47,6,8,1,11166,Lukas Bezdicka,xbezdick,"[train-only][ffwd][allinone] Fix idempotency for all in one upgrade

Before running leapp on the nodes we need to pause ceph as
the whole ceph cluster will go down. This has to be done just
once but if we fail somewhere in system upgrade - wrong leapp
repos for example - we end up in situation where we don't know
if ceph is paused or not and we can't check as caph can be
partially or fully down. Best way is to make sure we create state
file right after succesful pause on the node where we executed
the operation.

Change-Id: I70ba5016a63a08a1bf2650a4e24f889b24c96f44
"
openstack%2Fpuppet-glance~stable%2Fussuri~Ic7a01c9ca60196f89750026e7540a39c41e07cd3,openstack/puppet-glance,stable/ussuri,remove-sheepdog-driver,Ic7a01c9ca60196f89750026e7540a39c41e07cd3,Disallow sheepdog backend,ABANDONED,2022-02-11 05:14:56.000000000,2022-02-11 14:28:57.000000000,,1,1,0,828768,f7fa3d07aafa90fcff88e94e56cb785421136f75,5,1,1,1,9816,Takashi Kajinami,kajinamit,"Disallow sheepdog backend

... because it was removed during Ussuri cycle[1].

[1] 5c9db72a93356876fabab2b294bced61a67105fe

Change-Id: Ic7a01c9ca60196f89750026e7540a39c41e07cd3
(cherry picked from commit a37cdd923e0ae6eb22c616ef8c8c4c92376762a1)
(cherry picked from commit 157e9ab163b6eff4ea36a5d301952cff4440f98a)
(cherry picked from commit adc1f24f521f87d5cd63562e345314686af52e4a)
(cherry picked from commit 7a9d7ca720f4084c53a60ecc25744f1ad24b1506)
"
openstack%2Fpuppet-glance~stable%2Fvictoria~Ic7a01c9ca60196f89750026e7540a39c41e07cd3,openstack/puppet-glance,stable/victoria,remove-sheepdog-driver,Ic7a01c9ca60196f89750026e7540a39c41e07cd3,Disallow sheepdog backend,ABANDONED,2022-02-11 05:14:24.000000000,2022-02-11 14:28:52.000000000,,1,1,0,828767,7a9d7ca720f4084c53a60ecc25744f1ad24b1506,5,1,1,1,9816,Takashi Kajinami,kajinamit,"Disallow sheepdog backend

... because it was removed during Ussuri cycle[1].

[1] 5c9db72a93356876fabab2b294bced61a67105fe

Change-Id: Ic7a01c9ca60196f89750026e7540a39c41e07cd3
(cherry picked from commit a37cdd923e0ae6eb22c616ef8c8c4c92376762a1)
(cherry picked from commit 157e9ab163b6eff4ea36a5d301952cff4440f98a)
(cherry picked from commit adc1f24f521f87d5cd63562e345314686af52e4a)
"
openstack%2Fpuppet-openstack-integration~master~I8c63f4ea6ac9a68e171fc0320a6e5e2b0c6cf38e,openstack/puppet-openstack-integration,master,openstack/puppet/constraints,I8c63f4ea6ac9a68e171fc0320a6e5e2b0c6cf38e,Updated from Puppet OpenStack modules constraints,MERGED,2022-02-08 02:47:33.000000000,2022-02-11 13:57:04.000000000,2022-02-11 13:57:04.000000000,1,1,2,828209,c12ffb3546f55f82dbbd4947d72cd5ad5ea7be58,15,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from Puppet OpenStack modules constraints

Change-Id: I8c63f4ea6ac9a68e171fc0320a6e5e2b0c6cf38e
"
openstack%2Felection~master~I7fa10c47d1778733ad5226123519540a91870795,openstack/election,master,,I7fa10c47d1778733ad5226123519540a91870795,Add Artem Goncharov candidacy for OpenStackSDK PTL,MERGED,2022-02-11 11:22:56.000000000,2022-02-11 13:41:07.000000000,2022-02-11 13:38:09.000000000,11,0,2,828859,b632351dbfe8bb4a10c9d27d806bda7a891c207b,8,3,1,1,27900,Artem Goncharov,gtema,"Add Artem Goncharov candidacy for OpenStackSDK PTL

Change-Id: I7fa10c47d1778733ad5226123519540a91870795
"
openstack%2Felection~master~I0efafc55858ae37f143ec7069f5d199649656cae,openstack/election,master,escape_asterisk,I0efafc55858ae37f143ec7069f5d199649656cae,[trivial] Fix formatting typo in git command,MERGED,2022-02-11 09:10:24.000000000,2022-02-11 13:39:48.000000000,2022-02-11 13:38:07.000000000,1,1,2,828824,4655c57d248338fc2900e254708b4b7ab3df1561,9,3,1,1,11292,Arne Wiebalck,wiebalck,"[trivial] Fix formatting typo in git command

Add backslashes to escape the asterisks in a git command.

Change-Id: I0efafc55858ae37f143ec7069f5d199649656cae
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I162e417387393e806886b1c9ea8053b89778b4d1,openstack/kolla-ansible,stable/wallaby,fix-apparmor-libvirt-profile-removal-stable/wallaby,I162e417387393e806886b1c9ea8053b89778b4d1,Fix Apparmor libvirt profile removal,MERGED,2022-02-11 09:19:13.000000000,2022-02-11 13:34:43.000000000,2022-02-11 13:32:50.000000000,12,1,1,828830,9b3b2fdab7d2dff83e010b813a9c1c640d264226,9,3,1,2,14826,Mark Goddard,mgoddard,"Fix Apparmor libvirt profile removal

The apparmor_parser actually doesn't remove the file or doesn't create
the symlink in '/etc/apparmor.d/disable' itself so the next run of the
baremetal role will fail with the error ""Unable to remove ""libvirtd"".
Even more after reboot, the profile is still active. We need to
disable the profile completly ourselves. This change fixes the
idempotents of the baremetal role.

Closes-Bug: #1960302
Change-Id: I162e417387393e806886b1c9ea8053b89778b4d1
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 75f55d13ad9060b7821a6e7702a347debd785ee9)
"
openstack%2Fkolla-ansible~master~Ic231cdc9603c84d84d05f68e7b0782487f492092,openstack/kolla-ansible,master,,Ic231cdc9603c84d84d05f68e7b0782487f492092,CI: make external API unreachable,NEW,2022-02-10 13:08:15.000000000,2022-02-11 13:30:38.000000000,,1,0,4,828707,d1d29b20e3d637e996540e5d8d431034e983a71e,7,2,1,1,14826,Mark Goddard,mgoddard,"CI: make external API unreachable

We should not need it, so let's not rely on it.

Change-Id: Ic231cdc9603c84d84d05f68e7b0782487f492092
"
openstack%2Fproject-config~master~I64c1977e261d4469fb31afa03b839136ea8bfc33,openstack/project-config,master,charm-interface-github-mirror,I64c1977e261d4469fb31afa03b839136ea8bfc33,Mirror charm-ops-interface-* to GitHub,MERGED,2022-02-07 15:47:48.000000000,2022-02-11 13:16:22.000000000,2022-02-11 13:16:22.000000000,10,0,1,828166,80792c80ec24806221ab63759ac4449f70a86688,11,3,3,1,31289,Aurelien Lourot,lourot,"Mirror charm-ops-interface-* to GitHub

Change-Id: I64c1977e261d4469fb31afa03b839136ea8bfc33
"
openstack%2Fpuppet-swift~stable%2Fwallaby~Ie5024b614749beafeb2e34df5021114d5c4c5b5e,openstack/puppet-swift,stable/wallaby,,Ie5024b614749beafeb2e34df5021114d5c4c5b5e,TripleO: Enable container build in standalone job,MERGED,2022-02-11 05:10:27.000000000,2022-02-11 13:15:55.000000000,2022-02-11 13:15:55.000000000,1,0,1,828764,6b4e64bc9b3989d79c6cc54f7d5c75d8ffea42c9,10,2,1,1,9816,Takashi Kajinami,kajinamit,"TripleO: Enable container build in standalone job

Since we removed undercloud job, there is no job building container
images and we should enable that process as part of standalone job.
This change fixes the missing build_container_images flag to enable
container build.

Change-Id: Ie5024b614749beafeb2e34df5021114d5c4c5b5e
(cherry picked from commit 7e86bb55caefa824a252d590b66b9984ffb974d7)
"
openstack%2Fproject-config~master~Idf828470361285f3d14a8046dc92858950db57de,openstack/project-config,master,github,Idf828470361285f3d14a8046dc92858950db57de,Mirror cinder-solidfire and cinder-nimblestorage to Github,MERGED,2022-01-18 16:37:00.000000000,2022-02-11 13:12:22.000000000,2022-02-11 13:12:22.000000000,10,0,0,825138,a3a967611a088aa36e4088be2724c98c2ddcc1e6,8,4,1,1,33741,Gustavo Sanchez,gustavosr98,"Mirror cinder-solidfire and cinder-nimblestorage to Github

Change-Id: Idf828470361285f3d14a8046dc92858950db57de
"
openstack%2Fneutron~stable%2Fvictoria~Ie0660e5e89e45c00b79464368ba337d27a824714,openstack/neutron,stable/victoria,bug/1957175-stable/wallaby-stable/victoria,Ie0660e5e89e45c00b79464368ba337d27a824714,[Stable Only] Enforce policy for qos_policy_id attribute,MERGED,2022-01-31 15:54:56.000000000,2022-02-11 13:04:01.000000000,2022-02-11 13:02:00.000000000,7,0,4,827016,ae55ae36738e65cc86e48869b99984b80043f559,20,6,2,2,13861,yatin,yatinkarel,"[Stable Only] Enforce policy for qos_policy_id attribute

Currently while updating 'qos_policy_id', authorization policies
are not enforced and as a result it can be set or unset over
port/network/fip by an unauthorized user.

This patch fixes it by setting 'enforce_policy' to True
for this attribute for Floating IP, for port and network
it's fixed in neutron-lib[1].

This patch is only for stable releases as for releases since
Yoga this is fixed in neutron-lib[2] itself.

[1] https://review.opendev.org/q/Ieee1ca092e572ad4696105962fbc6de675454657
[2] https://review.opendev.org/c/openstack/neutron-lib/+/825088

Depends-On: https://review.opendev.org/c/openstack/tempest/+/828245
Closes-Bug: #1957175
Change-Id: Ie0660e5e89e45c00b79464368ba337d27a824714
(cherry picked from commit 0c2af0f6e7d99d60aed20e731d5b178f1e152678)
"
openstack%2Fdebtcollector~master~I93152b5826620a867125aeb5edc54b5f5489fbab,openstack/debtcollector,master,trivial,I93152b5826620a867125aeb5edc54b5f5489fbab,requirements: Remove pbr,MERGED,2021-11-12 11:44:24.000000000,2022-02-11 12:42:43.000000000,2022-02-11 12:41:06.000000000,0,5,1,817750,1e08744110cd46b85010c2a60ce692f3979156a4,9,3,1,1,15334,Stephen Finucane,sfinucan,"requirements: Remove pbr

We haven't used this at runtime since we switched to using
importlib.metadata in change Ib10180732042bda254b058b94c9ff41f5c31c3cb,
therefore there's no longer any need to include it in the
'requirements.txt' file. Remove it.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I93152b5826620a867125aeb5edc54b5f5489fbab
"
openstack%2Foslo.messaging~stable%2Fxena~Id4ccafc95314c86ae918336e42cca64a6acd4d94,openstack/oslo.messaging,stable/xena,bug/1917645,Id4ccafc95314c86ae918336e42cca64a6acd4d94,[rabbit] use retry parameters during notification sending,MERGED,2022-01-13 08:53:00.000000000,2022-02-11 12:20:07.000000000,2022-02-11 12:18:32.000000000,60,26,1,824513,3b5a0543e97619ca8f8cf98193f6b6375d77cbf2,9,5,1,8,9708,Balazs Gibizer,gibi,"[rabbit] use retry parameters during notification sending

The rabbit backend now applies the [oslo_messaging_notifications]retry,
[oslo_messaging_rabbit]rabbit_retry_interval, rabbit_retry_backoff and
rabbit_interval_max configuration parameters when tries to establish the
connection to the message bus during notification sending.

This patch also clarifies the differences between the behavior
of the kafka and the rabbit drivers in this regard.

Closes-Bug: #1917645
Change-Id: Id4ccafc95314c86ae918336e42cca64a6acd4d94
(cherry picked from commit 7b3968d9b012e873a9b393fcefa578c46fca18c6)
"
openstack%2Ftripleo-docs~master~I7253b91a146342ad30aeab6fb4914b90c9bd8746,openstack/tripleo-docs,master,,I7253b91a146342ad30aeab6fb4914b90c9bd8746,Updating vDPA guide following CentOS9 deployment,MERGED,2021-10-28 02:07:19.000000000,2022-02-11 11:55:43.000000000,2022-02-11 11:54:02.000000000,133,63,0,815768,2c0d731570938e8bbf2bfc01f4839e17f35745ca,8,3,1,1,27419,David Vallee Delisle,dvd,"Updating vDPA guide following CentOS9 deployment

CentOS 9 is going to be the supported OS for vDPA. We have to adapt the
guide to the latest release. In kernel 5.14, the vhost devices are not
automatically created anymore, we need to create them using the new vdpa
command.

Also, fixing a few typos.

Change-Id: I7253b91a146342ad30aeab6fb4914b90c9bd8746
"
openstack%2Foslo.utils~master~I678d0d3d9506709404d534dc1c68ed6f75445558,openstack/oslo.utils,master,,I678d0d3d9506709404d534dc1c68ed6f75445558,Fix formatting of release list,MERGED,2022-02-07 12:22:02.000000000,2022-02-11 11:48:37.000000000,2022-02-11 11:46:55.000000000,14,14,1,828117,ad49b3ace4424637df4bae91bf82820e27341bc1,8,3,1,1,15197,Pierre Riteau,priteau,"Fix formatting of release list

Change-Id: I678d0d3d9506709404d534dc1c68ed6f75445558
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I1a539bcb6b52684d43a98bd814c9821ffea68b57,openstack/networking-ovn,stable/train,bug/1896677-stable/train,I1a539bcb6b52684d43a98bd814c9821ffea68b57,Support creating members without a subnet ID,MERGED,2022-01-31 11:02:51.000000000,2022-02-11 11:35:58.000000000,2022-02-11 11:34:23.000000000,115,16,2,827051,97d9b0462ff0fbd458204ca61e464c604f90f78d,13,3,3,4,23567,Luis Tomas Bolivar,ltomasbo,"Support creating members without a subnet ID

Since subnet ID is an optional API argument, if not
available the provider driver will now attempt to look
it up via the pool ID that is required.

From ovn-octavia-provider master:
    https://review.opendev.org/c/openstack/ovn-octavia-provider/+/795896

Closes-bug: #1896677
(manually cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)

Change-Id: I1a539bcb6b52684d43a98bd814c9821ffea68b57
"
openstack%2Fkayobe~stable%2Fwallaby~I42026fafb1be0071f5ec94e81881c4a3bdd34af8,openstack/kayobe,stable/wallaby,story/2009810-stable/wallaby,I42026fafb1be0071f5ec94e81881c4a3bdd34af8,Set requirements branch for IPA build,MERGED,2022-02-10 11:36:45.000000000,2022-02-11 11:25:04.000000000,2022-02-11 11:23:18.000000000,13,3,0,828659,52973754493db472a0b5f058ae76c8af35c2e14c,8,3,1,3,14826,Mark Goddard,mgoddard,"Set requirements branch for IPA build

Currently we use the HEAD reference for OpenStack requirements. This can
create images that are incompatible with your version of OpenStack.

See:
https://review.opendev.org/c/openstack/ironic-python-agent-builder/+/688911

Change-Id: I42026fafb1be0071f5ec94e81881c4a3bdd34af8
Story: 2009810
Task: 44371
(cherry picked from commit 156ae2bb8ba9df35696018b8321e6d1ab9060ef0)
"
openstack%2Fkayobe~stable%2Fxena~I42026fafb1be0071f5ec94e81881c4a3bdd34af8,openstack/kayobe,stable/xena,story/2009810-stable/xena,I42026fafb1be0071f5ec94e81881c4a3bdd34af8,Set requirements branch for IPA build,MERGED,2022-02-10 10:32:21.000000000,2022-02-11 11:25:03.000000000,2022-02-11 11:23:11.000000000,13,3,0,828658,deb969e597608838730d47cfa8693d431661446c,8,3,1,3,14826,Mark Goddard,mgoddard,"Set requirements branch for IPA build

Currently we use the HEAD reference for OpenStack requirements. This can
create images that are incompatible with your version of OpenStack.

See:
https://review.opendev.org/c/openstack/ironic-python-agent-builder/+/688911

Change-Id: I42026fafb1be0071f5ec94e81881c4a3bdd34af8
Story: 2009810
Task: 44371
(cherry picked from commit 156ae2bb8ba9df35696018b8321e6d1ab9060ef0)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I200865bfd03aa63a9fe07b517bf60151e495455f,openstack/tripleo-ansible,stable/wallaby,,I200865bfd03aa63a9fe07b517bf60151e495455f,Remove old per step startup configs,MERGED,2022-02-09 21:43:21.000000000,2022-02-11 11:14:03.000000000,2022-02-11 11:12:30.000000000,4,3,3,828567,36b2175afb1243efa9a5f40aa0f6eee2c5c8e934,10,7,1,1,26343,Jose Luis Franco,jfrancoa,"Remove old per step startup configs

There may be cases where certain steps may not exist after
removal of services during update/upgrade. As we recreate
the startup configs per step every time, let's clean all.
If we need to archive old configs we can backup docker_config.yaml
which can be done in a separate THT patch.

Change-Id: I200865bfd03aa63a9fe07b517bf60151e495455f
Closes-bug: #1959662
"
openstack%2Fkolla~master~Ifbaccc54896bab096a6d16dc7733941dd600cf39,openstack/kolla,master,827656-patch3,Ifbaccc54896bab096a6d16dc7733941dd600cf39,rabbitmq: update to 3.9,MERGED,2022-02-03 12:56:19.000000000,2022-02-11 11:05:09.000000000,2022-02-11 11:03:15.000000000,12,9,3,827656,732860302cebbccc7344d2e4c345d26259ab979d,26,4,6,5,22629,Michal Nasiadka,mnasiadka,"rabbitmq: update to 3.9

Also update Erlang to 24

Change-Id: Ifbaccc54896bab096a6d16dc7733941dd600cf39
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/828594
"
openstack%2Fdevstack~master~Ifd5b77e0097ed05cddec4962de1755336f2de2af,openstack/devstack,master,systemd_unit_clean,Ifd5b77e0097ed05cddec4962de1755336f2de2af,Clean up systemd unit files for devstack,ABANDONED,2017-05-31 13:21:29.000000000,2022-02-11 10:49:17.000000000,,12,0,2,469478,c865fc7da66f703626c736873da86da1c0e12a98,20,6,2,1,25836,KC Bi,kckecheng,"Clean up systemd unit files for devstack

devstack use systemctl to control openstack
services through adding systemd unit files,
but such files are not deleted after unstack.

Change-Id: Ifd5b77e0097ed05cddec4962de1755336f2de2af
"
openstack%2Fdevstack~master~I12bcc40609a110431c2b3a4c254cc9e479b22385,openstack/devstack,master,,I12bcc40609a110431c2b3a4c254cc9e479b22385,Display the Serial number in plugin-registry table.,ABANDONED,2018-08-01 02:01:20.000000000,2022-02-11 10:42:22.000000000,,5,2,0,587669,7a7511b05c126fedaca365b9bdb5e3b40616e379,13,7,1,1,8556,Ghanshyam,ghanshyam,"Display the Serial number in plugin-registry table.

This commit adds the new column SR which will show
serial number for devstack plugins. That is easy way to
count the total number of plugins quickly.

Change-Id: I12bcc40609a110431c2b3a4c254cc9e479b22385
"
openstack%2Fdevstack~master~Id42bca04dd1c65e22c159d99f2e68287be31128f,openstack/devstack,master,,Id42bca04dd1c65e22c159d99f2e68287be31128f,horizon:use correct python binary for compilemessages cmd,ABANDONED,2018-05-25 11:07:09.000000000,2022-02-11 10:41:01.000000000,,7,1,1,570559,4f5c8623b94710b7f9c7f5abafdb8f83025cc269,12,8,2,1,23735,sumitjami,nthforloop,"horizon:use correct python binary for compilemessages cmd

instead of using $PYTHON variable which may not point to the correct
python(2,3) let django-admin binary figure out the exact binary to be
used

django-admin uses 'env' find the python binary.

Change-Id: Id42bca04dd1c65e22c159d99f2e68287be31128f
"
openstack%2Fdevstack~master~I0450fe2ab08bc103b1848bf9018468c1a8dc94e4,openstack/devstack,master,,I0450fe2ab08bc103b1848bf9018468c1a8dc94e4,Make flavor_alt_ref default to m1.micro,ABANDONED,2018-08-10 12:21:43.000000000,2022-02-11 10:39:30.000000000,,14,11,5,590757,3ae7c62c52bdcc5f1bd5abd79ac4509bf2ef1206,20,8,2,1,23804,Daniel Alvarez,dalvarez,"Make flavor_alt_ref default to m1.micro

When DEFAULT_INSTANCE_TYPE is not declared, the default flavor is
m1.nano and alt flavor is m1.micro. However, when it is defined, alt
flavor is chosen as the first available flavor (m1.tiny) which is not
enough when using advanced images like ubuntu or centos.

This patch defaults alt flavor to m1.micro and keeps the old logic for
whenever DEFAULT_INSTANCE_TYPE is m1.micro too as devstack ensures that
both flavors are different.

Change-Id: I0450fe2ab08bc103b1848bf9018468c1a8dc94e4
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I73b0d054644eb43016d61299b7c372ca86b18472,openstack/tripleo-ansible,stable/ussuri,historical_bool-stable/wallaby-stable/victoria-stable/ussuri,I73b0d054644eb43016d61299b7c372ca86b18472,historical variable evaluated as bool,MERGED,2022-02-07 11:58:39.000000000,2022-02-11 10:39:16.000000000,2022-02-11 10:39:16.000000000,4,4,0,828132,1c2aa54cb04fdbb9849020be196479fd36d64a41,10,5,2,1,32968,Juan Larriba,jlarriba,"historical variable evaluated as bool

The tripleo_backup_and_restore_historical variable is checked by some
tasks using when, but as it lacks the | bool extension, it is being
evaluated as string, meaning that ""false"" is considered a valid and not
empty string and as such evaluated as true. This patch fixes this
behaviour by evaluating the variable as as boolean value

Change-Id: I73b0d054644eb43016d61299b7c372ca86b18472
(cherry picked from commit ca7425d3728b4ba16a283440960fd6e180f24c74)
"
openstack%2Fkolla-ansible~stable%2Fxena~I162e417387393e806886b1c9ea8053b89778b4d1,openstack/kolla-ansible,stable/xena,fix-apparmor-libvirt-profile-removal,I162e417387393e806886b1c9ea8053b89778b4d1,Fix Apparmor libvirt profile removal,MERGED,2022-02-10 10:52:05.000000000,2022-02-11 10:37:26.000000000,2022-02-11 10:35:20.000000000,12,1,1,828692,ae8900855a8081c57640c0f617d8a6307fdb4c7b,9,3,1,2,14200,Maksim Malchuk,mmalchuk,"Fix Apparmor libvirt profile removal

The apparmor_parser actually doesn't remove the file or doesn't create
the symlink in '/etc/apparmor.d/disable' itself so the next run of the
baremetal role will fail with the error ""Unable to remove ""libvirtd"".
Even more after reboot, the profile is still active. We need to
disable the profile completly ourselves. This change fixes the
idempotents of the baremetal role.

Closes-Bug: #1960302
Change-Id: I162e417387393e806886b1c9ea8053b89778b4d1
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 75f55d13ad9060b7821a6e7702a347debd785ee9)
"
openstack%2Ftripleo-quickstart-extras~master~I5a0188524ee05053c708ceb5c564bb3ebcb614dc,openstack/tripleo-quickstart-extras,master,bug/1950815,I5a0188524ee05053c708ceb5c564bb3ebcb614dc,Set dns_domain_name option,MERGED,2021-11-17 12:07:30.000000000,2022-02-11 10:35:45.000000000,2021-11-19 02:52:15.000000000,3,0,6,818227,9b68d39983a8ef8d61e96b449542bfa2bc166e4d,28,10,2,1,30750,amolkahat,amolkahat,"Set dns_domain_name option

To be able to run properly dns_domain_name related tests
from the neutron_tempest_plugin.api.test_ports module,
Neutron has to have configured non default dns_domain_name option.

This patch set dns_domain_name option to ""openstackgate.local""
which is the same value like configured in all of the Neutron CI
jobs by the Neutron Devstack plugin.

Related-Bug: #1950815

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: I5a0188524ee05053c708ceb5c564bb3ebcb614dc
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~If48096a7309c7140cd9c182d5d3175e8d827cbd6,openstack/openstack-ansible,stable/victoria,bug/1877421-stable/victoria,If48096a7309c7140cd9c182d5d3175e8d827cbd6,Rename RBD cinder backend,MERGED,2022-02-10 15:50:21.000000000,2022-02-11 10:19:45.000000000,2022-02-11 10:16:54.000000000,3,3,0,828665,5f369d0ff7cb3e8db53f9af9ab0af0973706a3e3,8,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Rename RBD cinder backend

RBD seems to be reserved name in cinder. Once it's used as
volume type, cinder fails with [1]

We rename backend name in doc and AIO to workaround the issue

[1] https://paste.opendev.org/show/bAJR9YEYA1hRjCuMc6kU/

Closes-Bug: #1877421
Change-Id: If48096a7309c7140cd9c182d5d3175e8d827cbd6
(cherry picked from commit e51d4bc8c8262fdc954b80f84ed4af1a6f9c6628)
"
openstack%2Fopenstack-ansible~stable%2Fwallaby~If48096a7309c7140cd9c182d5d3175e8d827cbd6,openstack/openstack-ansible,stable/wallaby,bug/1877421-stable/wallaby,If48096a7309c7140cd9c182d5d3175e8d827cbd6,Rename RBD cinder backend,MERGED,2022-02-10 15:50:01.000000000,2022-02-11 10:19:39.000000000,2022-02-11 10:16:51.000000000,3,3,0,828664,e82ca398d5a50013679d55235a0abb0b4a986fa3,8,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Rename RBD cinder backend

RBD seems to be reserved name in cinder. Once it's used as
volume type, cinder fails with [1]

We rename backend name in doc and AIO to workaround the issue

[1] https://paste.opendev.org/show/bAJR9YEYA1hRjCuMc6kU/

Closes-Bug: #1877421
Change-Id: If48096a7309c7140cd9c182d5d3175e8d827cbd6
(cherry picked from commit e51d4bc8c8262fdc954b80f84ed4af1a6f9c6628)
"
openstack%2Fovn-octavia-provider~stable%2Fussuri~I69a052aadf299907bf8ba1634376504461e2d779,openstack/ovn-octavia-provider,stable/ussuri,bug/1896677-stable/ussuri,I69a052aadf299907bf8ba1634376504461e2d779,Support creating members without a subnet ID,MERGED,2022-01-31 10:42:07.000000000,2022-02-11 10:13:00.000000000,2022-02-11 10:10:53.000000000,115,16,2,827045,bf86846205718f652457aec1943e4c53334dd2a6,19,4,4,4,23567,Luis Tomas Bolivar,ltomasbo,"Support creating members without a subnet ID

Since subnet ID is an optional API argument, if not
available the provider driver will now attempt to look
it up via the pool ID that is required.

NOTE: Manually cherry-picked as there was a code reshape,
and in the backport all the code goes to driver.py

Closes-bug: #1896677
(manually cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)
Change-Id: I69a052aadf299907bf8ba1634376504461e2d779
"
openstack%2Fkolla-ansible~stable%2Fussuri~I3362bd283eb7fb80f5da70f2a388f89f220617ea,openstack/kolla-ansible,stable/ussuri,neutron-endpoint-type-stable/ussuri,I3362bd283eb7fb80f5da70f2a388f89f220617ea,neutron: fix placement endpoint type configuration,MERGED,2022-02-10 17:13:25.000000000,2022-02-11 10:12:51.000000000,2022-02-11 10:10:51.000000000,7,1,0,828756,d059a5492d646121d824a1080cf1d2a939669668,10,4,1,2,15197,Pierre Riteau,priteau,"neutron: fix placement endpoint type configuration

Change-Id: I3362bd283eb7fb80f5da70f2a388f89f220617ea
Closes-Bug: #1960503
(cherry picked from commit 50edb94ded22f5c520b6d79d9829f987e2acdd75)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I3362bd283eb7fb80f5da70f2a388f89f220617ea,openstack/kolla-ansible,stable/victoria,neutron-endpoint-type-stable/victoria,I3362bd283eb7fb80f5da70f2a388f89f220617ea,neutron: fix placement endpoint type configuration,MERGED,2022-02-10 17:13:16.000000000,2022-02-11 10:12:50.000000000,2022-02-11 10:10:49.000000000,7,1,0,828755,d5bd751804ff9d3b291fffe64467e737e284598f,10,4,1,2,15197,Pierre Riteau,priteau,"neutron: fix placement endpoint type configuration

Change-Id: I3362bd283eb7fb80f5da70f2a388f89f220617ea
Closes-Bug: #1960503
(cherry picked from commit 50edb94ded22f5c520b6d79d9829f987e2acdd75)
"
openstack%2Fovn-octavia-provider~stable%2Fvictoria~Iec17b36ce38be89f83a45ea3ef4c652e837c69c5,openstack/ovn-octavia-provider,stable/victoria,bug/1896677-stable/victoria,Iec17b36ce38be89f83a45ea3ef4c652e837c69c5,Support creating members without a subnet ID,MERGED,2022-01-31 10:21:53.000000000,2022-02-11 10:12:42.000000000,2022-02-11 10:10:54.000000000,116,16,3,827040,3860ca0159f50bd530c2198a55c50724db02cc0c,19,3,4,7,23567,Luis Tomas Bolivar,ltomasbo,"Support creating members without a subnet ID

Since subnet ID is an optional API argument, if not
available the provider driver will now attempt to look
it up via the pool ID that is required.

Conflicts:
    ovn_octavia_provider/tests/functional/test_driver.py

Closes-bug: #1896677
Change-Id: Iec17b36ce38be89f83a45ea3ef4c652e837c69c5
(cherry picked from commit 675ea9c35ef73765828e3db4b636f13465a76596)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I3362bd283eb7fb80f5da70f2a388f89f220617ea,openstack/kolla-ansible,stable/wallaby,neutron-endpoint-type-stable/wallaby,I3362bd283eb7fb80f5da70f2a388f89f220617ea,neutron: fix placement endpoint type configuration,MERGED,2022-02-10 17:13:06.000000000,2022-02-11 10:12:33.000000000,2022-02-11 10:10:46.000000000,7,1,0,828754,d95eb6a264fb881e0e8dd6e1c2c1bfec3115656f,10,4,1,2,15197,Pierre Riteau,priteau,"neutron: fix placement endpoint type configuration

Change-Id: I3362bd283eb7fb80f5da70f2a388f89f220617ea
Closes-Bug: #1960503
(cherry picked from commit 50edb94ded22f5c520b6d79d9829f987e2acdd75)
"
openstack%2Fkolla-ansible~stable%2Fxena~I3362bd283eb7fb80f5da70f2a388f89f220617ea,openstack/kolla-ansible,stable/xena,neutron-endpoint-type-stable/xena,I3362bd283eb7fb80f5da70f2a388f89f220617ea,neutron: fix placement endpoint type configuration,MERGED,2022-02-10 17:12:56.000000000,2022-02-11 10:12:32.000000000,2022-02-11 10:10:44.000000000,7,1,0,828753,47ac706d225ac1be6d79e571f57954f2e25ac3ab,10,4,1,2,15197,Pierre Riteau,priteau,"neutron: fix placement endpoint type configuration

Change-Id: I3362bd283eb7fb80f5da70f2a388f89f220617ea
Closes-Bug: #1960503
(cherry picked from commit 50edb94ded22f5c520b6d79d9829f987e2acdd75)
"
openstack%2Fkolla-ansible~master~I493430e255c76bf2a30818b63913ecabb40c5afc,openstack/kolla-ansible,master,ci-fluentd-filter-errors,I493430e255c76bf2a30818b63913ecabb40c5afc,[CI] Filter fluentd errors more,MERGED,2022-02-09 17:25:06.000000000,2022-02-11 10:04:14.000000000,2022-02-11 10:02:16.000000000,1,1,0,828594,58dd72583b72d13d44d3c09fcb3f2275255c3710,9,3,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Filter fluentd errors more

Make it less likely to fail on false positives.

Change-Id: I493430e255c76bf2a30818b63913ecabb40c5afc
"
openstack%2Fneutron~stable%2Fvictoria~I0391dd24224f8656a09ddb002e7dae8783ba37a4,openstack/neutron,stable/victoria,bug/1930414,I0391dd24224f8656a09ddb002e7dae8783ba37a4,"Make sure ""dead vlan"" ports cannot transmit packets",MERGED,2022-02-09 09:11:55.000000000,2022-02-11 10:00:01.000000000,2022-02-11 09:58:01.000000000,70,20,4,828497,88abffcb48d3237a3758e415cc9db86c312b0f68,15,3,1,11,15554,Bence Romsics,ebenrom,"Make sure ""dead vlan"" ports cannot transmit packets

https://review.opendev.org/c/openstack/neutron/+/820897 added
a dead vlan flow that pushes the dead vlan tag onto frames
belonging to dead ports before these ports are reassigned to
their proper vlans. However add_flow and delete_flows race and
delete_flows may run before add_flow, in this case deleting 0 flows
but not giving us a chance to detect this: neither does it throw
an error nor does it return the number of deleted flows.
This leads to port staying inaccessible forever and hence
breaks corresponding DHCP or router.

Current patch suggests another approach to make sure no packets are
leaked from newly plugged ports: setting their ""vlan_mode"" attribute
to ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).
With this OVS normal pipeline will allow only packets tagged with 4095
from such ports [1], which normally not happens, but even if it does -
default rule in br-int will drop them anyway.
Thus untagged packets from such ports will also be dropped until
ovs agent sets proper VLAN tag and clears vlan_mode to default
(""access"").

This approach avoids the race between dhcp/l3 and ovs agents because
dhcp/l3 agents no longer modify flow table.

backport-only:
On newer than victoria branches we merged two changes of which the first
got problematic side effects (a race condition between agents
manipulating flows) and a second change partially reverting the first
and using the above mentioned other approach. The first change never got
merged on victoria or older, so this backport squashes the two changes
together.

[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py

Closes-Bug: #1930414
Change-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4
(squashed from cherry-picked commits 7aae31c9f9ed938760ca0be3c461826b598c7004, 0ddca284542aed89df4a22607a2da03f193f083c)
"
openstack%2Fdevstack~master~Iea57006ace2f1853a6e39d3189405c6bfb5a0793,openstack/devstack,master,test_gate,Iea57006ace2f1853a6e39d3189405c6bfb5a0793,DNM: test gate only,ABANDONED,2018-07-31 03:34:39.000000000,2022-02-11 09:40:13.000000000,,1,1,0,587276,67b626cf969383264e69551781bd791f173bd75a,32,7,4,1,15471,Nguyen Phuong An,An-FVL,"DNM: test gate only

Depends-On: https://review.openstack.org/#/c/586452/

Change-Id: Iea57006ace2f1853a6e39d3189405c6bfb5a0793
"
openstack%2Fdevstack~stable%2Fqueens~If9bc7ba45522189d03f19b86cb681bb150ee2f25,openstack/devstack,stable/queens,venv_support,If9bc7ba45522189d03f19b86cb681bb150ee2f25,Add option to install everything in global venvs,ABANDONED,2018-04-06 20:51:29.000000000,2022-02-11 09:39:33.000000000,,94,14,0,559418,f5b73442dd7e8fb381dd83dc0cc801f31c5ea45d,13,5,4,10,4146,Clark Boylan,cboylan,"Add option to install everything in global venvs

One venv for python2 and one for python3. This is a major change and
will likely break many things. But tl;dr is pip is making it
increasingly difficult to use globally install python packages with pip
alongside distro supplied packages. So add the option to install
everything into virtualenvs. This change was made optional in order to
add the required features to grenade without force merging updates;
however, we should consider making it non optional once we get the
basics in place.

Major hurdles we have to get over are convincing rootwrap to trust
binaries in the virtualenvs (so you'll notice we update rootwrap
configs). Additionally this doesn't yet support mixing python2 and
python3 installed services. You get python2 by default and python3 if
you opt into python3 but no mixing.

Change-Id: If9bc7ba45522189d03f19b86cb681bb150ee2f25
(cherry picked from commit f08cb4f7314a86c7ee6b7ff489932eca5488a091)
"
openstack%2Fdevstack~stable%2Fstein~I437a46c875cf633272e8cad0811e5557f2ac3641,openstack/devstack,stable/stein,bug/1819794,I437a46c875cf633272e8cad0811e5557f2ac3641,Set ownership of /etc/pki/<console> files for TLS,ABANDONED,2019-03-28 15:34:24.000000000,2022-02-11 09:37:22.000000000,,23,1,0,648442,39c70120ad241b499ddd883152025df0eb1101f2,7,4,1,2,8556,Ghanshyam,ghanshyam,"Set ownership of /etc/pki/<console> files for TLS

OpenSSL 1.0.2 generates key files with default permissions: 644 and the
files are copied to the /etc/pki/* directories with sudo.

When the default CI node Ubuntu version was changed from Xenial =>
Bionic we changed from OpenSSL 1.0.2 => 1.1.0. And OpenSSL 1.1.0
generates key files with default permissions: 600. When we copy the key
file to /etc/pki/* using sudo, it becomes owned by root and then the
console-related users are unable to read it.

This sets the ownership of the /etc/pki/<console> files to the
user:group intended to read them.

Closes-Bug: #1819794

Change-Id: I437a46c875cf633272e8cad0811e5557f2ac3641
(cherry picked from commit e2853bf2d0a2e63d53d0f2d0cb21fd406f6289b0)
"
openstack%2Fdevstack~stable%2Fstein~I09dffabc1aefac412a83c2a202c42288952e6ea3,openstack/devstack,stable/stein,backport-to-stein,I09dffabc1aefac412a83c2a202c42288952e6ea3,"Revert ""Update opensuse version""",ABANDONED,2020-11-10 19:51:20.000000000,2022-02-11 09:35:08.000000000,,7,9,1,762204,2bf1e08e3be12719f38e0e7ffda7b51f41f817b9,13,6,1,2,12907,Jan Zerebecki,jzerebecki,"Revert ""Update opensuse version""

openSUSE Leap 15.2 comes with libvirt 6.0.0, but stein upper-constrains has libvirt-python===5.1.0, those won't work together. Thus stein needs to remain on Leap 15.1.

This reverts commit e5007d46183328f2a57a5126d2a5f3b5f30d12f9.

Change-Id: I09dffabc1aefac412a83c2a202c42288952e6ea3
"
openstack%2Fkolla-ansible~master~I40c4e209470d21e0a02fd447fb628acfdae9fa9d,openstack/kolla-ansible,master,fix-haproxy-logrotate,I40c4e209470d21e0a02fd447fb628acfdae9fa9d,Fix log rotation for fluentd created files,MERGED,2021-06-24 13:13:34.000000000,2022-02-11 09:33:20.000000000,2022-01-28 12:24:37.000000000,44,23,13,797900,79b59e2c0b43936a12a9c676d8a48cd62c733a0f,33,4,5,3,30438,Isaac Prior,Wasaac,"Fix log rotation for fluentd created files

Overrides default fluentd buffer config to stop log files from using
datestamped filenames, allowing logrotate to manage them.

Closes-Bug: #1940118
Change-Id: I40c4e209470d21e0a02fd447fb628acfdae9fa9d
"
openstack%2Fneutron~stable%2Fpike~Ie4677eb31593e524049449f47277cb49c2266f7c,openstack/neutron,stable/pike,remove_sphinx_job,Ie4677eb31593e524049449f47277cb49c2266f7c,[stable][pike]: remove publish-openstack-sphinx-docs template,ABANDONED,2022-02-09 10:38:12.000000000,2022-02-11 09:31:30.000000000,,0,1,3,828513,9a944d9b163d4db65d0094bf83a2c477db35383c,5,2,1,1,8313,Lajos Katona,elajkat,"[stable][pike]: remove publish-openstack-sphinx-docs template

Sphinx build jobs on older branches (stable/queens, stable/pike) are
failing due to missing python 2.7 support for it, see [1], till an
Openstack global solution is accepted, let's remove the job template.

[1]: http://lists.openstack.org/pipermail/openstack-discuss/2022-February/027106.html

Change-Id: Ie4677eb31593e524049449f47277cb49c2266f7c
"
openstack%2Fgovernance~master~Ia7f35bec67c90a907d87d089fc596b203f405a26,openstack/governance,master,code-change,Ia7f35bec67c90a907d87d089fc596b203f405a26,Clean generated files before run in docs target,MERGED,2022-02-10 18:31:47.000000000,2022-02-11 09:23:58.000000000,2022-02-11 09:22:09.000000000,7,1,0,828780,72a3018a21fab9268440cb39b2d93f5fbfa5ffea,11,4,1,1,4393,Dan Smith,danms,"Clean generated files before run in docs target

Change-Id: Ia7f35bec67c90a907d87d089fc596b203f405a26
"
openstack%2Fkolla-ansible~master~If34b154dd41729ed5b4fe332ea07b98164b5314c,openstack/kolla-ansible,master,bug/1920095,If34b154dd41729ed5b4fe332ea07b98164b5314c,Apply the latest event definition for ceilometer,NEW,2021-03-19 05:04:22.000000000,2022-02-11 09:06:32.000000000,,115,11,2,781595,147399dbfff2407e985b470c2a3c5ea050c7c1b9,9,1,1,1,24713,Wonil Choi,wonil22,"Apply the latest event definition for ceilometer

Applied event_definitions.yaml based on the latest ceilometer repository

Closes-bug: #1920095
Change-Id: If34b154dd41729ed5b4fe332ea07b98164b5314c
Signed-off-by: Wonil Choi <wonil22.choi@samsung.com>
"
openstack%2Fswift~master~I5b299bc0adb526c468c6364a5706eb86809533e5,openstack/swift,master,,I5b299bc0adb526c468c6364a5706eb86809533e5,Add docs for registry module,MERGED,2022-02-10 19:17:55.000000000,2022-02-11 08:15:16.000000000,2022-02-11 05:24:23.000000000,50,5,3,828787,a9565893f29626093040cb38fe4a19e855e69afa,14,2,1,3,15343,Tim Burke,tburke,"Add docs for registry module

Drive-By: make the register_sensitive_header() implementation more
obviously case-insensitive.

Change-Id: I5b299bc0adb526c468c6364a5706eb86809533e5
"
openstack%2Ftripleo-ci~master~I42092ee8633a5dfe041af8cd12f15c24b995eaf1,openstack/tripleo-ci,master,bug/1960308,I42092ee8633a5dfe041af8cd12f15c24b995eaf1,Fix image used in c9 standalone job with container builds,MERGED,2022-02-10 15:48:34.000000000,2022-02-11 07:54:47.000000000,2022-02-11 07:54:47.000000000,2,0,4,828736,615e8055ec0fc63736a5d6139f0b6b3b9161d933,12,6,2,1,9816,Takashi Kajinami,kajinamit,"Fix image used in c9 standalone job with container builds

Currently when tripleo-ci-centos-9-standalone template is used with
build_container_images: true, it by default uses ubi8 image and we
always need to set the containers_base_image var.

This change adds that var in the base job so that we no longer need to
define the var in standalone jobs inheriting that template.

Closes-Bug: #1960308
Change-Id: I42092ee8633a5dfe041af8cd12f15c24b995eaf1
"
openstack%2Fcinder-tempest-plugin~master~Ied40f6e4fefc66f847fed7e934d53ccb64be8dd4,openstack/cinder-tempest-plugin,master,,Ied40f6e4fefc66f847fed7e934d53ccb64be8dd4,Dropping explicit unicode literal,MERGED,2021-07-06 07:37:37.000000000,2022-02-11 07:49:16.000000000,2022-02-11 07:49:16.000000000,2,2,7,799564,a3b2272871db9ceacf99324f980f12af716f7b69,39,9,2,1,30615,Tushar Trambak Gite,tushargite96,"Dropping explicit unicode literal

In python 3, all strings are considered as unicode string.

This patch drops the explicit unicode literal (u'...')
or (u"".."") appearances from the unicode strings.

Change-Id: Ied40f6e4fefc66f847fed7e934d53ccb64be8dd4
"
openstack%2Fpuppet-swift~master~Ie5024b614749beafeb2e34df5021114d5c4c5b5e,openstack/puppet-swift,master,,Ie5024b614749beafeb2e34df5021114d5c4c5b5e,TripleO: Enable container build in standalone job,MERGED,2022-02-10 15:40:51.000000000,2022-02-11 07:12:33.000000000,2022-02-11 07:12:33.000000000,1,0,0,828734,7e86bb55caefa824a252d590b66b9984ffb974d7,6,2,1,1,9816,Takashi Kajinami,kajinamit,"TripleO: Enable container build in standalone job

Since we removed undercloud job, there is no job building container
images and we should enable that process as part of standalone job.
This change fixes the missing build_container_images flag to enable
container build.

Change-Id: Ie5024b614749beafeb2e34df5021114d5c4c5b5e
"
openstack%2Fswift~master~I01528eadf6abfc6b7daa99e718a70dcbe668f910,openstack/swift,master,badstatusline,I01528eadf6abfc6b7daa99e718a70dcbe668f910,Quiet more BadStatusLine tracebacks,MERGED,2022-02-10 20:41:16.000000000,2022-02-11 05:37:20.000000000,2022-02-11 05:24:29.000000000,18,2,1,828790,c4762acaaa9aada53cb9eb20d06c67d7f77a6319,12,2,3,2,15343,Tim Burke,tburke,"Quiet more BadStatusLine tracebacks

Related-Change: I07192b8d2ece2d2ee04fe0d877ead6fbfc321d86
Change-Id: I01528eadf6abfc6b7daa99e718a70dcbe668f910
"
openstack%2Fneutron~stable%2Fussuri~Ie9676fb2869cbf5b5cba9a7b27f2bfbbe0eab458,openstack/neutron,stable/ussuri,bug/1947378,Ie9676fb2869cbf5b5cba9a7b27f2bfbbe0eab458,"[OVN] Add the VIF details ""connectivity"" parameter",MERGED,2022-01-26 10:36:30.000000000,2022-02-11 05:26:13.000000000,2022-02-11 05:24:19.000000000,28,13,7,826441,c5f7694b0debf9f48e95d798d3f0006be8da246a,28,4,2,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN] Add the VIF details ""connectivity"" parameter

In [1], the parameter was included in the mech driver ""vif_details""
member, instead of adding it in each defined VIF type, ""ovs"" and
""vhostuser"".

[1]https://review.opendev.org/c/openstack/networking-ovn/+/678599

NOTE: this patch differs from the master one (in ""Y"" release) due
to LP#1959125. Because the fix for this bug implies a change in
neutron-lib, this patch addresses the issue by leaving the
connectivity parameter in the OVN mech driver ""vif_details""
dictionary, thus ""_check_drivers_connectivity"" can properly
check it.

Conflicts:
  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py

Closes-Bug: #1947378

Change-Id: Ie9676fb2869cbf5b5cba9a7b27f2bfbbe0eab458
(cherry picked from commit b871dabdf433d2393551de6597d43774ed6cf1e4)
(cherry picked from commit 6be2df7eb5969e0b5440ccd53a1fe19029870fe7)
"
openstack%2Fswift~master~I632d58697a1026a6a581db27786ab9503c62f97e,openstack/swift,master,,I632d58697a1026a6a581db27786ab9503c62f97e,read-only: Only act on Swift paths,MERGED,2022-02-09 22:01:50.000000000,2022-02-11 05:24:26.000000000,2022-02-11 05:24:26.000000000,45,15,2,828612,00bb0f8ba68f2108dcf2f3d486217de298114044,10,2,1,2,15343,Tim Burke,tburke,"read-only: Only act on Swift paths

... and they must include an account.

Change-Id: I632d58697a1026a6a581db27786ab9503c62f97e
"
openstack%2Fpython-cinderclient~master~I2c27a7744c871efe30bda6ac26e979769e3c99e8,openstack/python-cinderclient,master,,I2c27a7744c871efe30bda6ac26e979769e3c99e8,Add Python 3 only classifier,ABANDONED,2022-02-09 08:37:04.000000000,2022-02-11 05:06:38.000000000,,1,0,1,828479,ffb35b234cc9b200dfe41cc8b8f9a87d57feee6e,4,6,1,1,30615,Tushar Trambak Gite,tushargite96,"Add Python 3 only classifier

Python 2 support was removed during Ussuri cycle. This change adds
the classifier to clearly state that only Python 3 is supported.

Change-Id: I2c27a7744c871efe30bda6ac26e979769e3c99e8
"
openstack%2Frequirements~stable%2Fxena~Icca2962ace4b54828855d148b49a4fa9f8adb03f,openstack/requirements,stable/xena,new-release,Icca2962ace4b54828855d148b49a4fa9f8adb03f,update constraint for ceilometer to new release 17.0.1,MERGED,2022-02-10 11:03:34.000000000,2022-02-11 04:44:08.000000000,2022-02-11 04:44:08.000000000,1,1,0,828693,a135f20faffb90fed69cd304a67f2cf87f0c1865,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for ceilometer to new release 17.0.1

meta: version: 17.0.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Tobias Urdin <tobias.urdin@binero.se>
meta: release:Commit: Tobias Urdin <tobias.urdin@binero.se>
meta: release:Change-Id: Id8762695c32cfc9f41efbc7686c4304b5c761e4e
meta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Icca2962ace4b54828855d148b49a4fa9f8adb03f
"
openstack%2Frequirements~stable%2Fwallaby~I04bbb0a73aa47675c69450c9c216bdb5f0bec8ac,openstack/requirements,stable/wallaby,new-release,I04bbb0a73aa47675c69450c9c216bdb5f0bec8ac,update constraint for ceilometer to new release 16.0.1,MERGED,2022-02-10 10:47:54.000000000,2022-02-11 04:44:06.000000000,2022-02-11 04:44:06.000000000,1,1,0,828690,12d141827c21cbc0860d348fb91fc465c685f036,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for ceilometer to new release 16.0.1

meta: version: 16.0.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Tobias Urdin <tobias.urdin@binero.se>
meta: release:Commit: Tobias Urdin <tobias.urdin@binero.com>
meta: release:Change-Id: I6ac44990dc80582afa897fc3cb9f5784897456b5
meta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I04bbb0a73aa47675c69450c9c216bdb5f0bec8ac
"
openstack%2Fnova~stable%2Fwallaby~I332d4f33ea6b9506cc24ac12e5c0994f208a3107,openstack/nova,stable/wallaby,,I332d4f33ea6b9506cc24ac12e5c0994f208a3107,Add functional test for bug 1937375,MERGED,2021-08-06 10:01:49.000000000,2022-02-11 04:05:37.000000000,2022-02-11 04:03:13.000000000,95,0,1,803717,7a9e3dcd172f187cf93f406b09f49d2ded9bd90d,11,4,1,1,10135,Lee Yarwood,lyarwood,"Add functional test for bug 1937375

Related-Bug: #1937375
Change-Id: I332d4f33ea6b9506cc24ac12e5c0994f208a3107
(cherry picked from commit 2ffd9738602531e93495a1feca76bbb687c3e72c)
"
openstack%2Fnova~stable%2Fxena~I812d720555bdf008c83cae3d81541a37bd99e594,openstack/nova,stable/xena,bug/1952941,I812d720555bdf008c83cae3d81541a37bd99e594,Migrate RequestSpec.numa_topology to use pcpuset,MERGED,2022-02-04 14:30:53.000000000,2022-02-11 03:59:24.000000000,2022-02-11 03:56:58.000000000,47,42,2,827869,7f6ec8cf546cf8f437ee94bb2308447427f54ada,10,3,1,4,9708,Balazs Gibizer,gibi,"Migrate RequestSpec.numa_topology to use pcpuset

When the InstanceNUMATopology OVO has changed in
I901fbd7df00e45196395ff4c69e7b8aa3359edf6 to separately track
pcpus from vcpus a data migration was added. This data migration is
triggered when the InstanceNUMATopology object is loaded from the
instance_extra table. However that patch is missed the fact that the
InstanceNUMATopology object can be loaded from the request_spec table as
well. So InstanceNUMATopology object in RequestSpec are not migrated.
This could lead to errors in the scheduler when such RequestSpec object
is used for scheduling (e.g. during a migration of a pre Victoria
instance with cpu pinning)

This patch adds the missing data migration.

Change-Id: I812d720555bdf008c83cae3d81541a37bd99e594
Closes-Bug: #1952941
(cherry picked from commit e853bb57181721725a89656b3cb3058636630a6e)
"
openstack%2Fnova~stable%2Fxena~I672af45a1d1c7fb428b1c4983d4f856852829fb9,openstack/nova,stable/xena,bug/1952941,I672af45a1d1c7fb428b1c4983d4f856852829fb9,Reproduce bug 1952941,MERGED,2022-02-04 14:30:53.000000000,2022-02-11 03:56:05.000000000,2022-02-11 03:54:02.000000000,69,5,2,827868,d860615527a4f492251c363b2092674d55228a40,10,3,1,2,9708,Balazs Gibizer,gibi,"Reproduce bug 1952941

The added unit test proves that pre-Victoria RequestSpec objects
describing a cpu pinned Instance are not migrated to a proper format
in Victoria or newer.

Related-Bug: #1952941

Change-Id: I672af45a1d1c7fb428b1c4983d4f856852829fb9
(cherry picked from commit 05e8977cb2fd660dcf6af32c5804f7548bf722a7)
"
openstack%2Ftripleo-quickstart~master~I6aedafc218ed676b41ac8dc9bf332b3338775521,openstack/tripleo-quickstart,master,jenkins_c9,I6aedafc218ed676b41ac8dc9bf332b3338775521,Reference distro for release files in centosci,MERGED,2022-02-07 17:11:14.000000000,2022-02-11 03:31:44.000000000,2022-02-11 03:29:23.000000000,198,14,9,828171,d68ddc37a90cbd4b6dfbd8527a96b29d119e4a94,50,8,8,14,30750,amolkahat,amolkahat,"Reference distro for release files in centosci

The release files in
tripleo-quickstart/tree/master/config/release/centosci
had a flat dir structure and did not allow for
releases of the same name on different distros.

The review adds the same structure as tripleo-ci
and changes the quickstart scripts to use that path.

Depends-On: https://review.rdoproject.org/r/c/rdo-infra/ci-config/+/39181
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: I6aedafc218ed676b41ac8dc9bf332b3338775521
"
openstack%2Fnova~stable%2Fvictoria~I57982131768d87e067d1413012b96f1baa68052b,openstack/nova,stable/victoria,bug/1953359,I57982131768d87e067d1413012b96f1baa68052b,Extend the reproducer for 1953359 and 1952915,MERGED,2021-12-07 12:24:38.000000000,2022-02-11 02:27:17.000000000,2022-02-11 02:06:04.000000000,45,17,5,820856,8d4487465b60cd165dc76dea5a9fdb3c4dbf5740,27,5,4,1,9708,Balazs Gibizer,gibi,"Extend the reproducer for 1953359 and 1952915

This patch extends the original reproduction
I4be429c56aaa15ee12f448978c38214e741eae63 to cover
bug 1952915 as well as they have a common root cause.

Change-Id: I57982131768d87e067d1413012b96f1baa68052b
Related-Bug: #1953359
Related-Bug: #1952915
(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)
(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)
(cherry picked from commit 94f17be190cce060ba8afcafbade4247b27b86f0)
"
openstack%2Fnova~stable%2Fvictoria~I4be429c56aaa15ee12f448978c38214e741eae63,openstack/nova,stable/victoria,bug/1953359,I4be429c56aaa15ee12f448978c38214e741eae63,Reproduce bug 1953359,MERGED,2021-12-06 16:24:56.000000000,2022-02-11 02:23:28.000000000,2022-02-11 02:05:57.000000000,91,1,4,820558,e549fec76fd2015e6e21ee5138bf06142a71e71a,18,4,4,2,9708,Balazs Gibizer,gibi,"Reproduce bug 1953359

This patch adds a functional test that reproduces a race between
incoming migration and the update_available_resource periodic

Fixes:
    - Added more memory to mock 'host_info', since the default would not
      fit the instance. Default was changed in later releases

Change-Id: I4be429c56aaa15ee12f448978c38214e741eae63
Related-Bug: #1953359
(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)
(cherry picked from commit f0a6d946aaa6c30f826cfced75c2fb06fdb379a8)
(cherry picked from commit d8859e4f95f5abb20c844d914f2716cba047630e)
"
openstack%2Ftripleo-quickstart~master~I927038d2fdecb0d37ba1305946c359a3efea142d,openstack/tripleo-quickstart,master,,I927038d2fdecb0d37ba1305946c359a3efea142d,Don't enable undercloud heat in fs050,MERGED,2022-02-10 07:29:56.000000000,2022-02-11 01:50:51.000000000,2022-02-11 01:49:26.000000000,2,0,4,828671,b9d6c939eb9afead0f5012b052f148c487b7e8b4,22,6,1,1,8833,Rabi Mishra,rabi,"Don't enable undercloud heat in fs050

This adds the flag the undercloud upgrade job.
undercloud_enable_heat (not ephemeral_heat) is used
in the sanity check script (undercloud-sanity-check.sh).

Change-Id: I927038d2fdecb0d37ba1305946c359a3efea142d
Closes-Bug: #1960484
"
openstack%2Fneutron~stable%2Fvictoria~Ie9676fb2869cbf5b5cba9a7b27f2bfbbe0eab458,openstack/neutron,stable/victoria,bug/1947378,Ie9676fb2869cbf5b5cba9a7b27f2bfbbe0eab458,"[OVN] Add the VIF details ""connectivity"" parameter",MERGED,2022-01-26 10:36:08.000000000,2022-02-11 01:05:11.000000000,2022-02-11 01:03:22.000000000,28,13,8,826440,dacd5276b7c359baea4f4933ce99798b02a2cdea,41,4,2,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN] Add the VIF details ""connectivity"" parameter

In [1], the parameter was included in the mech driver ""vif_details""
member, instead of adding it in each defined VIF type, ""ovs"" and
""vhostuser"".

[1]https://review.opendev.org/c/openstack/networking-ovn/+/678599

NOTE: this patch differs from the master one (in ""Y"" release) due
to LP#1959125. Because the fix for this bug implies a change in
neutron-lib, this patch addresses the issue by leaving the
connectivity parameter in the OVN mech driver ""vif_details""
dictionary, thus ""_check_drivers_connectivity"" can properly
check it.

Conflicts:
  neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py

Closes-Bug: #1947378

Change-Id: Ie9676fb2869cbf5b5cba9a7b27f2bfbbe0eab458
(cherry picked from commit b871dabdf433d2393551de6597d43774ed6cf1e4)
(cherry picked from commit 6be2df7eb5969e0b5440ccd53a1fe19029870fe7)
"
openstack%2Fopenstack-ansible-os_neutron~stable%2Fvictoria~I033220eced95d146afe56bfbc1b84dd1a4705703,openstack/openstack-ansible-os_neutron,stable/victoria,osa/remove-centos8,I033220eced95d146afe56bfbc1b84dd1a4705703,Remove legacy centos-8 jobs,MERGED,2022-02-02 11:44:49.000000000,2022-02-11 00:45:55.000000000,2022-02-11 00:40:50.000000000,4,16,2,827483,c9e64bd5745c1e9732d7d737f93e6b56bec4bb42,18,3,3,2,25023,Jonathan Rosser,jrosser,"Remove legacy centos-8 jobs

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/828386
Change-Id: I033220eced95d146afe56bfbc1b84dd1a4705703
"
openstack%2Fmanila~master~If5bb2976bc54887c74649a00deaeaa71e296aaaa,openstack/manila,master,manila_remove_six,If5bb2976bc54887c74649a00deaeaa71e296aaaa,remove usage of six library,MERGED,2020-10-09 03:37:26.000000000,2022-02-11 00:23:32.000000000,2022-02-11 00:21:37.000000000,61,85,59,756991,7f2b25332a2030d147083c90ab268c126575a3ce,134,12,16,18,30407,haixin,haixin,"remove usage of six library

remove usage of six library from the following directory:
1:share
2:volume
and some files.

Change-Id: If5bb2976bc54887c74649a00deaeaa71e296aaaa
"
openstack%2Fwhitebox-tempest-plugin~master~I8340013dace577f415cf1b6d5e31f99ecd966964,openstack/whitebox-tempest-plugin,master,sriov_numa_update,I8340013dace577f415cf1b6d5e31f99ecd966964,Remove NSM from SR-IOV Affinity Tests,MERGED,2021-10-06 16:30:14.000000000,2022-02-10 23:33:38.000000000,2022-02-10 23:33:38.000000000,138,146,24,812728,60cce7e64711f119045335512d2ef867596c1ab6,20,4,3,1,31033,James Parker,jparker,"Remove NSM from SR-IOV Affinity Tests

With the transition away from the NovaServiceManager when working with
cpu_dedicated_set and cpu_shared_set, [1] SR-IOV NUMA affinity tests
needed to be updated. NSM no longer reconfigures the cpu_dedicated_set
for compute hosts involved in the test. Instead tests gather current
configuration of a target host and creates flavors based on the
parameters.

[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/cca33388c2ebce229fa3af70233769c3e2056d4d

Depends-on: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/805731

Change-Id: I8340013dace577f415cf1b6d5e31f99ecd966964
"
openstack%2Fkolla~master~I79e78dca550262fc86b092a036f9ea96b214ab48,openstack/kolla,master,,I79e78dca550262fc86b092a036f9ea96b214ab48,ironic: Fix UEFI & iPXE bootloader filenames,MERGED,2022-02-10 11:11:01.000000000,2022-02-10 23:26:32.000000000,2022-02-10 20:47:28.000000000,25,0,13,828694,909710d739f1d7d4c2ef0865ebc9338f260aaa5b,29,3,2,2,14826,Mark Goddard,mgoddard,"ironic: Fix UEFI & iPXE bootloader filenames

When using Ironic with UEFI boot mode and iPXE booting, nodes will
attempt to chainload iPXE using a Network Boot Program (NBP). This is
configured in Ironic via [pxe] uefi_ipxe_bootfile_name, and the default
since Xena is snponly.efi. In Wallaby and earlier releases, the default
was ipxe.efi. These files need to be available in the /tftpboot
directory of the ironic-pxe image.

The current default of snponly.efi was not present for any supported
distros. ipxe.efi was present for Debian/Ubuntu but not CentOS, which
appends the architecture to the filename (e.g. ipxe-x86_64.efi).

This change ensures that both ipxe.efi and snponly.efi exist in
/tftpboot for all supported distributions, ensuring that both the
current and previous Ironic defaults should work. Where these files have
different names, we use symlinks to allow for any deployers overriding
the filenames in configuration.

Closes-Bug: #1959203

Change-Id: I79e78dca550262fc86b092a036f9ea96b214ab48
"
openstack%2Fcharm-ceph-radosgw~master~I2d1eaa2d0d69bfc5d72d8350a7f94f6a76698644,openstack/charm-ceph-radosgw,master,,I2d1eaa2d0d69bfc5d72d8350a7f94f6a76698644,Fix OSCI voting on xena,MERGED,2022-02-10 16:30:04.000000000,2022-02-10 22:30:31.000000000,2022-02-10 22:30:31.000000000,29,21,1,828741,043c4fd79570247a165e3b077d416a8f80089fd3,9,3,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Fix OSCI voting on xena

Change-Id: I2d1eaa2d0d69bfc5d72d8350a7f94f6a76698644
"
openstack%2Fproject-config~master~Ie14ea374808e5518588925de3a476f0bc6ff2ccf,openstack/project-config,master,f35,Ie14ea374808e5518588925de3a476f0bc6ff2ccf,Remove Fedora 34,MERGED,2021-11-08 04:20:41.000000000,2022-02-10 21:58:47.000000000,2022-02-10 21:51:38.000000000,0,65,5,816933,dd58c496f8a8609b3d77898ed508e620db2b3d19,21,4,4,5,7118,Ian Wienand,iwienand,"Remove Fedora 34

The dependent changes should be the last references to Fedora 34 nodes

Depends-On: https://review.opendev.org/c/openstack/devstack/+/827576
Depends-On: https://review.opendev.org/c/openstack/devstack/+/827578
Depends-On: https://review.opendev.org/c/zuul/nodepool/+/827577

Change-Id: Ie14ea374808e5518588925de3a476f0bc6ff2ccf
"
openstack%2Fcharm-vault~master~I178660512a89752bf975c05ea2ca02d4cf385418,openstack/charm-vault,master,bug/1948837,I178660512a89752bf975c05ea2ca02d4cf385418,doc update,ABANDONED,2022-02-10 21:38:03.000000000,2022-02-10 21:56:44.000000000,,1,1,0,828794,6c9087c401733b5814cc16f867600d9f283e39e2,3,1,1,1,27676,Jeff Hillman,jhillman,"doc update

Change-Id: I178660512a89752bf975c05ea2ca02d4cf385418
"
openstack%2Ftripleo-common~stable%2Fwallaby~I5049e88872bfe3aa8072804cb67e8f7178951d9d,openstack/tripleo-common,stable/wallaby,bug/1958471,I5049e88872bfe3aa8072804cb67e8f7178951d9d,Fix reference to undefined variables when heat-config times out,MERGED,2022-01-21 14:47:56.000000000,2022-02-10 21:28:57.000000000,2022-02-10 21:22:18.000000000,3,3,5,825743,64e0dc7fdf69bb4363764efcf4536f938803c76e,27,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix reference to undefined variables when heat-config times out

When an async task times out, it doesn't register its result and
the subsequent task which refers to the result can't look up details
like stderr output or return code.

This change defines the default values to fix reference to unefined
variables.

Closes-Bug: #1958471
Change-Id: I5049e88872bfe3aa8072804cb67e8f7178951d9d
(cherry picked from commit 2cd1fbd87bfde7ec318356178d1ca4c68859e916)
"
openstack%2Ftripleo-validations~master~I77e0c4568ecca2638aaa880369b9dec0eb5d1599,openstack/tripleo-validations,master,,I77e0c4568ecca2638aaa880369b9dec0eb5d1599,oslo_config_validator: Defaulting config_invalidations to empty list,MERGED,2022-02-03 17:43:49.000000000,2022-02-10 21:28:22.000000000,2022-02-10 21:22:04.000000000,1,1,0,827750,ebcab3dbe93f80749de02f92d0bf1a57b18e45f8,9,5,1,1,27419,David Vallee Delisle,dvd,"oslo_config_validator: Defaulting config_invalidations to empty list

When a node doesn't have anything to validate, the config invalidation
fails, reporting a false negative.

Related: https://bugzilla.redhat.com/2047328
Change-Id: I77e0c4568ecca2638aaa880369b9dec0eb5d1599
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id77662e9dd466ec8609354c2dbeee8592f599e72,openstack/tripleo-heat-templates,stable/wallaby,bug/1940838-stable/wallaby,Id77662e9dd466ec8609354c2dbeee8592f599e72,Add IronicNeutronAgentReportInterval parameter,MERGED,2022-02-09 14:20:03.000000000,2022-02-10 21:27:47.000000000,2022-02-10 21:21:56.000000000,19,0,0,828408,36be5cecad5afb15f2598fd19798e7797453d814,14,4,2,2,24245,Harald Jensås,harald.jensas,"Add IronicNeutronAgentReportInterval parameter

Add IronicNeutronAgentReportInterval with a default of
30 seconds.

Previously the ironic-neutron-agent used the global report
interval in neutron. The global interval was increased to
300s in change: Ib3f7cd9d6c050140a5e8b59adf7fd8f65b12df2f.

While the 300s interval may make sense for other agents,
the ironic-neutron-agent can keep reporting at 30s, the
previous default.

Conflicts:
  deployment/ironic/ironic-neutron-agent-container-puppet.yaml

Closes-Bug: #1940838
Depends-On: https://review.opendev.org/828409
Change-Id: Id77662e9dd466ec8609354c2dbeee8592f599e72
(cherry picked from commit 9574cd4d0f65fd6f7a5a6e04379f8bc4fd6c020c)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4,openstack/tripleo-heat-templates,stable/wallaby,,I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4,Manage octavia flavor in tripleo-ansible,MERGED,2022-01-24 14:27:23.000000000,2022-02-10 21:22:13.000000000,2022-02-10 21:22:13.000000000,20,22,2,826094,7cfe7813b63a8882e41413ab70d510f62f1df190,17,3,1,3,29244,Gregory Thiemonge,gthiemonge,"Manage octavia flavor in tripleo-ansible

Move the creation of the nova flavor for Octavia in tripleo-ansible, it
allows us to specifiy the type of the API endpoint we want to use
(internal endpoint).

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/826088

Change-Id: I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4
(cherry picked from commit 9d4d7f9a63f39feffa0d13297c4dd8d3316935e2)
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I80002c2e368c13f1fe85958c551113380021a836,openstack/tripleo-upgrade,stable/train,,I80002c2e368c13f1fe85958c551113380021a836,[train-only][ci] Increase scope for actor removal,MERGED,2022-02-10 11:46:41.000000000,2022-02-10 21:22:10.000000000,2022-02-10 21:22:10.000000000,3,4,0,828699,9c164ca5c520f6d382cb841cb9942db733e3a822,7,5,1,1,6816,Jesse Pretorius,jesse-pretorius,"[train-only][ci] Increase scope for actor removal

Leapp moved actors from el7toel8 to common. As we don't know what actors
will be moved to common (as they are used for rhel7>8 and rhel8>9
upgrade) so this patch increases the scope where to look for actor to
remove it.

Closes-Bug: rhbz#2046211

Change-Id: I80002c2e368c13f1fe85958c551113380021a836
"
openstack%2Ftripleo-validations~stable%2Fwallaby~I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa,openstack/tripleo-validations,stable/wallaby,,I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa,oslo-config-validator: container run task should never fail,MERGED,2022-02-07 16:41:01.000000000,2022-02-10 21:22:01.000000000,2022-02-10 21:22:01.000000000,1,2,0,828137,a758a74ef3a0730a1de91b4890f93a75ddf089c7,8,5,1,1,27419,David Vallee Delisle,dvd,"oslo-config-validator: container run task should never fail

Since it's calling the collection, there's no rc to check against and if
there's no validation error, then it's not an issue.

Change-Id: I0ae9adf5b33dbae6e6d2e349b7d5a1c33e290aaa
(cherry picked from commit 3043ad836ba18dbf985c913814791741c61ae0e2)
"
openstack%2Fdiskimage-builder~master~Ia99687815667c3cf5e82cf21d841d3b1008b8fa9,openstack/diskimage-builder,master,bootloader-cleanup,Ia99687815667c3cf5e82cf21d841d3b1008b8fa9,Futher bootloader cleanups,MERGED,2021-05-12 01:35:38.000000000,2022-02-10 21:08:14.000000000,2022-02-10 21:02:07.000000000,32,91,3,790878,79ea63f5251f6f9a11d1a26537cd2c76389d2d66,31,3,5,8,7118,Ian Wienand,iwienand,"Futher bootloader cleanups

GRUB_OPTS has never been documented as externally available, and is
not used.  Assume it's value to simplify the code.

Move the grub version check separately, as we only support grub2

Remove references to buliding i386 images.  I don't image it works in
any way.

Remove ci.md, which is no longer relevant.

Refactor the test for ""building BIOS image on EFI system"" consiberably
after these changes.

Change-Id: Ia99687815667c3cf5e82cf21d841d3b1008b8fa9
"
openstack%2Fswift~stable%2Fxena~If0b4cfc1ac9a8c66085eb4dc95366d43806d5ae2,openstack/swift,stable/xena,fips-compatibility,If0b4cfc1ac9a8c66085eb4dc95366d43806d5ae2,Add FIPS CI jobs,MERGED,2022-02-04 21:38:08.000000000,2022-02-10 21:07:41.000000000,2022-02-10 21:01:57.000000000,40,4,7,827901,01955bc1b3ff2cc118d7937b2aec22d0c72b79bb,22,2,3,1,9914,Ade Lee,alee,"Add FIPS CI jobs

Added jobs to run the swift functional tests when FIPS is enabled.
We'll set these jobs to be non-voting initially, so that we can
ensure that they are stable.

Change-Id: If0b4cfc1ac9a8c66085eb4dc95366d43806d5ae2
(cherry picked from commit 03be71c44aee283fa940f9a43c31072cb6082301)
"
openstack%2Fneutron~master~Ie4093dc6cd63b89e3a62363a4f805ef8287d15b9,openstack/neutron,master,bug/1960006,Ie4093dc6cd63b89e3a62363a4f805ef8287d15b9,[ovn] Prevent stale ports in the OVN database,MERGED,2022-02-04 10:39:59.000000000,2022-02-10 21:07:36.000000000,2022-02-10 21:01:51.000000000,60,7,21,827834,be7331c8169c53e3900c9c1a08e12808cf5ed2ec,64,11,9,4,23804,Daniel Alvarez,dalvarez,"[ovn] Prevent stale ports in the OVN database

Under a lot of load, there can be situations where all the Neutron
workers have not updated their in-memory copy of the NB database
in time before certain operations.

This scenario can lead to stale resources when a somewhat recently
created port is attempted to be deleted, but the worker handling
this deletion doesn't know about the OVN port yet.

This patch detects this condition and allows some time (at least one
maintenance task cycle) before it deletes the OVN revision number.
If the port then shows up in the OVN database within that window, then
it will be deleted later by the maintenance task avoiding the stale
ports. If not, the revision number row will be deleted and we won't
stale these entries either.

Closes-Bug: #1960006
Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: Ie4093dc6cd63b89e3a62363a4f805ef8287d15b9
"
openstack%2Fpuppet-glance~master~Ic7a01c9ca60196f89750026e7540a39c41e07cd3,openstack/puppet-glance,master,remove-sheepdog-driver,Ic7a01c9ca60196f89750026e7540a39c41e07cd3,Disallow sheepdog backend,MERGED,2022-02-10 04:29:32.000000000,2022-02-10 20:35:32.000000000,2022-02-10 20:35:32.000000000,1,1,0,828642,a37cdd923e0ae6eb22c616ef8c8c4c92376762a1,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Disallow sheepdog backend

... because it was removed during Ussuri cycle[1].

[1] 5c9db72a93356876fabab2b294bced61a67105fe

Change-Id: Ic7a01c9ca60196f89750026e7540a39c41e07cd3
"
openstack%2Fopenstack-helm~master~Iaa4da2ed8afbe17b031a4ca1da9ab98a79cc6caa,openstack/openstack-helm,master,,Iaa4da2ed8afbe17b031a4ca1da9ab98a79cc6caa,initial commit,ABANDONED,2022-02-10 20:25:48.000000000,2022-02-10 20:33:52.000000000,,451,52,0,828789,065b8fb72da6858925ebd9ab7c477159c0ce896f,4,0,1,1073,32090,Graham Steffaniak,gs909v,"initial commit

Change-Id: Iaa4da2ed8afbe17b031a4ca1da9ab98a79cc6caa
"
openstack%2Fhorizon~master~I1fc7f44326b82ceb303f8d663ff0b42f0bdf7855,openstack/horizon,master,,I1fc7f44326b82ceb303f8d663ff0b42f0bdf7855,Update default value of OPENSTACK_KEYSTONE_DEFAULT_ROLE,MERGED,2022-01-12 13:13:48.000000000,2022-02-10 20:33:13.000000000,2022-02-10 20:31:25.000000000,19,9,6,824432,a375c5418633f8b15c7255030ecc008e20ccc806,20,5,3,5,29313,Vishal Manchanda,vishalmanchanda,"Update default value of OPENSTACK_KEYSTONE_DEFAULT_ROLE

This patch update default value of OPENSTACK_KEYSTONE_DEFAULT_ROLE
to 'member' from '_member_'. If a user tries to create a new project now
it leads to ""Could not find default role ""_member_"" in Keystone"" error.

Also long time ago keystone-bootstrap changed the default member role
that is created to member from the legacy _member_ role. Any deployments
that might still be using _member_ should set this explicitly.

Closes-Bug: #1957173
Change-Id: I1fc7f44326b82ceb303f8d663ff0b42f0bdf7855
"
openstack%2Fbarbican~stable%2Fwallaby~I1724152839f0f5850f8d32d40b36d1670c0ad996,openstack/barbican,stable/wallaby,secure-rbac-stable/xena-stable/wallaby,I1724152839f0f5850f8d32d40b36d1670c0ad996,Fix container consumers rbac policy,MERGED,2022-02-09 14:47:09.000000000,2022-02-10 20:24:47.000000000,2022-02-10 20:23:03.000000000,245,122,0,828550,92375781ebcdba7f6b21308527de528320ef623e,7,2,1,14,7973,Douglas Mendizábal,dougmendizabal,"Fix container consumers rbac policy

This patch modifies the Consumer controller to enable the use of
ownership information in policy checks. e.g. policies that use a target
container:

   project_id:%(target.container.project_id)

Story: 2009664
Task: 43874

Depends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999
Change-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996
(cherry picked from commit 960159332864740cfbdaeb339ddbaae48238a6d2)
(cherry picked from commit 6a5ab85f4103e95251a936155ea83da844032149)
"
openstack%2Fpuppet-neutron~stable%2Fvictoria~I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,openstack/puppet-neutron,stable/victoria,bug/1940838-stable/victoria,I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,Add report_inteval parameter in ml2 baremetal,MERGED,2022-02-09 16:56:24.000000000,2022-02-10 20:19:48.000000000,2022-02-10 20:18:18.000000000,17,0,2,828554,629dbe0f1e89bec38d02050f80d3dda30e20d170,14,3,2,3,24245,Harald Jensås,harald.jensas,"Add report_inteval parameter in ml2 baremetal

Add the parameter $report_interval to the ml2
networking-baremetal manifest. By default the global
report_interval as defined in neutron.conf is used.

In some cases it makes sense to change the report_interval
specifically for ironic-neutron-agent.

Conflicts:
  manifests/agents/ml2/networking_baremetal.pp
  spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb

Related-Bug: #1940838
Change-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209
(cherry picked from commit dae33092a120655dfe4b9a550ec29a8c2dba73a5)
(cherry picked from commit 41bcf66eafc092890cdd6d2560d02642c5a55761)
"
openstack%2Ftripleo-validations~stable%2Fwallaby~Id2f0c7d961c6249193f0eea4c02e3063aa49fbd7,openstack/tripleo-validations,stable/wallaby,fix-tls-e-validations-stable/wallaby,Id2f0c7d961c6249193f0eea4c02e3063aa49fbd7,Remove references to novajoin-server and novajoin-notifier,MERGED,2022-01-31 10:05:34.000000000,2022-02-10 20:10:14.000000000,2022-02-10 20:10:14.000000000,19,451,0,827012,e7f04a698dc9524e6d4c5ac1ddf1978bb7c91408,15,5,5,4,34120,Andre Aranha,afariasa,"Remove references to novajoin-server and novajoin-notifier

As of Wallaby, novajoin-server and novajoin-notifier are no longer
used.  Instead, enrollment is done through the tripleo-ipa ansible
role.

So, we can remove any checks on these services (which ran in
containers).  The only vetiges of these services is the location
of the novajoin keytab, which is a file on the undercloud.

Change-Id: Id2f0c7d961c6249193f0eea4c02e3063aa49fbd7
(cherry picked from commit 52f3fbd75a664e01249f65b0ecbf01fd233d21b1)
"
openstack%2Ftripleo-validations~stable%2Fwallaby~I62b62b5a9ce6944b7cd3b5c8cbc4e6effc41e692,openstack/tripleo-validations,stable/wallaby,fix-tls-e-validations-stable/wallaby,I62b62b5a9ce6944b7cd3b5c8cbc4e6effc41e692,Remove check for certmonger user service,MERGED,2022-01-31 10:02:36.000000000,2022-02-10 20:10:12.000000000,2022-02-10 20:10:12.000000000,0,28,4,827030,b2ffcbb79ba32bee8d2df81f475811325d0d5ca5,19,5,4,1,34120,Andre Aranha,afariasa,"Remove check for certmonger user service

Since the transition from puppet-certmonger to an ansible role
to trigger certmonger requests, the certmonger user service is no
longer used or configured.  This occurred in the Wallaby release.

Change-Id: I62b62b5a9ce6944b7cd3b5c8cbc4e6effc41e692
(cherry picked from commit 388f7e32ee4a6361b1b7d30144379c969eaf7cb1)
"
openstack%2Fnova~master~I17a3e20b8be98f9fb1a04b91fcf1237d67165871,openstack/nova,master,bp/unified-limits-nova-patch25,I17a3e20b8be98f9fb1a04b91fcf1237d67165871,Join quota exception family trees,MERGED,2022-02-07 19:32:37.000000000,2022-02-10 19:45:43.000000000,2022-02-10 19:43:54.000000000,31,39,3,828185,72058b7a405bade6ca9584cb74591e35a73fb458,23,3,3,9,4393,Dan Smith,danms,"Join quota exception family trees

For some reason, we have two lineages of quota-related exceptions in
Nova. We have QuotaError (which sounds like an actual error), from
which all of our case-specific ""over quota"" exceptions inhert, such
as KeypairLimitExceeded, etc. In contrast, we have OverQuota which
lives outside that hierarchy and is unrelated. In a number of places,
we raise one and translate to the other, or raise the generic
QuotaError to signal an overquota situation, instead of OverQuota.
This leads to places where we have to catch both, signaling the same
over quota situation, but looking like there could be two different
causes (i.e. an error and being over quota).

This joins the two cases, by putting OverQuota at the top of the
hierarchy of specific exceptions and removing QuotaError. The latter
was only used in a few situations, so this isn't actually much change.
Cleaning this up will help with the unified limits work, reducing the
number of potential exceptions that mean the same thing.

Related to blueprint bp/unified-limits-nova

Change-Id: I17a3e20b8be98f9fb1a04b91fcf1237d67165871
"
openstack%2Ftripleo-validations~stable%2Fwallaby~I5cfc8d47109b86b7baedae77f01d4f6d8745591d,openstack/tripleo-validations,stable/wallaby,,I5cfc8d47109b86b7baedae77f01d4f6d8745591d,[wallaby-only]Change ansible_hostname to use ansible_facts,MERGED,2022-01-31 09:53:40.000000000,2022-02-10 19:43:49.000000000,2022-02-10 19:43:49.000000000,12,4,0,827007,f6ef5e2b3a25d7458450b5cbae2cbd0ea3824205,19,5,7,1,34120,Andre Aranha,afariasa,"[wallaby-only]Change ansible_hostname to use ansible_facts

The tasks fail with 'ansible_hostname' is undefined.

This patch is combining 2 patches upstream[1][2];
the first one introduced a bug[1] for the TLS validations,
and the second one[2] fix that.

[1] https://review.opendev.org/c/openstack/tripleo-validations/+/803147/
[2] https://review.opendev.org/c/openstack/tripleo-validations/+/823746/

Change-Id: I5cfc8d47109b86b7baedae77f01d4f6d8745591d
"
openstack%2Fswift~master~Ic1d0a760bf94c1d9c455f3bb564095d4e08bf031,openstack/swift,master,bug/1648082,Ic1d0a760bf94c1d9c455f3bb564095d4e08bf031,Removed all translations,ABANDONED,2017-10-18 14:20:32.000000000,2022-02-10 19:35:32.000000000,,490,491,0,513049,08c38b0e2dbbb9e4e74c8e8b3eb7413f538804d6,8,3,1,39,13329,Andrey Groshev,greenx,"Removed all translations

Change-Id: Ic1d0a760bf94c1d9c455f3bb564095d4e08bf031
"
openstack%2Fswift~master~I0313f94b874ddb36d31df67e8c00fd3b9a26cbdb,openstack/swift,master,remove_meaningless_constructor,I0313f94b874ddb36d31df67e8c00fd3b9a26cbdb,[Don't merge] Use __init__() of Daemon class in sub classes,ABANDONED,2016-09-05 12:30:43.000000000,2022-02-10 19:34:22.000000000,,39,41,3,365614,d44ddc9faac9928bca59d867d23a0f26b9acd822,25,5,6,13,14766,Kazuhiro MIYAHARA,miyahara,"[Don't merge] Use __init__() of Daemon class in sub classes

To refactor __init__() of Daemon sub classes, this patch fixes the sub classes
to use __init__() of Daemon class.

Change-Id: I0313f94b874ddb36d31df67e8c00fd3b9a26cbdb
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I73b0d054644eb43016d61299b7c372ca86b18472,openstack/tripleo-ansible,stable/victoria,historical_bool-stable/wallaby-stable/victoria,I73b0d054644eb43016d61299b7c372ca86b18472,historical variable evaluated as bool,MERGED,2022-02-07 11:58:21.000000000,2022-02-10 19:29:10.000000000,2022-02-10 19:29:10.000000000,4,4,1,828131,c89699a889d58e8de4464490cb90d81b66ed3a37,16,5,2,1,32968,Juan Larriba,jlarriba,"historical variable evaluated as bool

The tripleo_backup_and_restore_historical variable is checked by some
tasks using when, but as it lacks the | bool extension, it is being
evaluated as string, meaning that ""false"" is considered a valid and not
empty string and as such evaluated as true. This patch fixes this
behaviour by evaluating the variable as as boolean value

Change-Id: I73b0d054644eb43016d61299b7c372ca86b18472
(cherry picked from commit ca7425d3728b4ba16a283440960fd6e180f24c74)
"
openstack%2Fswift~master~Ie97b1d859d385680c84294be589402c44715545d,openstack/swift,master,bug/1883324,Ie97b1d859d385680c84294be589402c44715545d,Get rid of pipeline_property follow up,ABANDONED,2022-01-13 01:45:28.000000000,2022-02-10 19:23:43.000000000,,78,62,1,824497,0313e9cfc891e1ad73d355e0e6c3745af4a0d125,7,1,1,3,7233,Matthew Oliver,mattoliverau,"Get rid of pipeline_property follow up

Fix up reconciler and expirer tests. Feel free to squash in.

Change-Id: Ie97b1d859d385680c84294be589402c44715545d
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ibfe03a445d7e3366ffaebf940386596506a84e6d,openstack/openstack-ansible-rabbitmq_server,master,,Ibfe03a445d7e3366ffaebf940386596506a84e6d,Update used RabbitMQ and Erlang,MERGED,2022-01-26 11:45:02.000000000,2022-02-10 19:10:34.000000000,2022-02-10 19:07:35.000000000,5,5,3,826446,9355e52547651bab7ee312dd73a3f2bf905e2a71,22,3,3,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Update used RabbitMQ and Erlang

Change-Id: Ibfe03a445d7e3366ffaebf940386596506a84e6d
"
openstack%2Ftripleo-quickstart~master~I271c5472d06503211c3b13f34a399684aa9a116f,openstack/tripleo-quickstart,master,fix_opstools_c8,I271c5472d06503211c3b13f34a399684aa9a116f,Enable centos-opstools repo when building containers,MERGED,2022-02-09 12:42:20.000000000,2022-02-10 19:10:12.000000000,2022-02-10 19:07:32.000000000,134,67,7,828522,ed9821857d76878f0f2228a6af514c6d67796416,17,5,1,10,30002,Douglas Viroel,dviroel,"Enable centos-opstools repo when building containers

This patch enables centos-opstools repos from delorean-deps, for all
CentOS-8 jobs, when the job is building containers. Otherwise it will
set to the value defined by ""enable_opstools_repo"", which defaults to
false.

Change-Id: I271c5472d06503211c3b13f34a399684aa9a116f
Signed-off-by: Douglas Viroel <dviroel@redhat.com>
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ib6ab8adc12b3604cc7127e3292a39d57910b08ae,openstack/python-tripleoclient,stable/wallaby,,Ib6ab8adc12b3604cc7127e3292a39d57910b08ae,Log deprecation of enable_heat option.,MERGED,2022-01-27 15:04:42.000000000,2022-02-10 19:09:24.000000000,2022-02-10 19:04:00.000000000,8,27,5,826695,10a6a7df1cf66866e0c6cf49c226798ca1e16e78,26,6,7,3,26343,Jose Luis Franco,jfrancoa,"Log deprecation of enable_heat option.

The enable_heat option has been deprecated in [0], so
let's suggest its removal if the parameter is still present
in the undercloud.conf.

[0] - 9ae6487b6d8b7c2dd81a0d2ba61014d02dbe7177

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/827955
(cherry picked from commit 1c3d290307993109e4c1169a4919a9cad66f72d2)
Change-Id: Ib6ab8adc12b3604cc7127e3292a39d57910b08ae
"
openstack%2Ftripleo-ci~master~I77ca4b99581722ccf932c515f66437211fcd594b,openstack/tripleo-ci,master,c8_teardown_master,I77ca4b99581722ccf932c515f66437211fcd594b,Moves master undercloud-upgrade and minor update deprecated add c9,MERGED,2022-02-07 11:02:41.000000000,2022-02-10 19:03:57.000000000,2022-02-10 19:03:57.000000000,53,76,4,828110,82edbebd78dabd1820e80b20899d763a9f7ecab4,16,10,2,3,8449,Marios Andreou,marios,"Moves master undercloud-upgrade and minor update deprecated add c9

This moves tripleo-ci-centos-8-undercloud-upgrade and
tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates to
deprecated and removes them from the zuul layout. It adds the
c9 job to the master layout instead (no undercloud upgrade yet).

tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates
definition and check/gate layout is moved to the
upgrades-jobs-templates.yaml in line with other upgrade related jobs.

See [1] for related reviews (removal of c8 from master).

[1] https://review.opendev.org/q/topic:c8_teardown_master

Change-Id: I77ca4b99581722ccf932c515f66437211fcd594b
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~I32256271759d26522c17fe14c75b41da4c86c31a,openstack/openstack-ansible-rabbitmq_server,master,,I32256271759d26522c17fe14c75b41da4c86c31a,Allow different install methods for rabbit/erlang,MERGED,2022-01-26 11:40:00.000000000,2022-02-10 19:03:28.000000000,2022-02-10 19:01:45.000000000,16,4,3,826445,1b570e3511280c7e17f529520c689e93930e4092,24,3,3,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Allow different install methods for rabbit/erlang

Currently Debian Bullseye doesn't have erlang provided by external repos
So in order to update rabbitmq version used we need to implement
rabbitmq_erlang_install_method, so that we could use external rabbitmq
with distro provided erlang.

Hpefully that is temporary solution and erlang packages for bullseye
will be built one day.

Change-Id: I32256271759d26522c17fe14c75b41da4c86c31a
"
openstack%2Fwhitebox-tempest-plugin~master~I4772a2120c97c4ab0246e8d05ebc6918b366d868,openstack/whitebox-tempest-plugin,master,,I4772a2120c97c4ab0246e8d05ebc6918b366d868,Unskip test_volume_backed_live_migration,MERGED,2021-12-10 20:34:20.000000000,2022-02-10 18:45:40.000000000,2022-02-10 18:45:40.000000000,4,0,1,821471,66e4cfdef75cddceea5d296d8dbc8abc73d330a7,8,2,1,1,8864,Artom Lifshitz,artom,"Unskip test_volume_backed_live_migration

Set the volume_backed_live_migration compute-feature-enable flag to
enable the test_volume_backed_live_migration.

Change-Id: I4772a2120c97c4ab0246e8d05ebc6918b366d868
"
openstack%2Fwhitebox-tempest-plugin~master~I76e0734c1ad8b8a69c704b190ad1e646ce322c1e,openstack/whitebox-tempest-plugin,master,,I76e0734c1ad8b8a69c704b190ad1e646ce322c1e,Unskip basic dedicated CPU policy test.,MERGED,2021-12-10 17:28:26.000000000,2022-02-10 18:42:46.000000000,2022-02-10 18:42:46.000000000,3,4,2,821431,07b819704a469cdc7f4e7ad1d07d21867f348ffd,10,2,1,1,8864,Artom Lifshitz,artom,"Unskip basic dedicated CPU policy test.

Previously, the test required a single compute host to force both
instances onto the same host. This caused it to be skipped in our CI.
Start using the same_host scheduler hint to fix that.

Change-Id: I76e0734c1ad8b8a69c704b190ad1e646ce322c1e
"
openstack%2Frequirements~master~I50db78d54b56ff1b8e254195bd5d078656d148cc,openstack/requirements,master,revive-neutron-fwaas,I50db78d54b56ff1b8e254195bd5d078656d148cc,Readd neutron-fwaas and neutron-fwaas-dashboard to requirements,MERGED,2022-02-09 05:43:15.000000000,2022-02-10 18:20:38.000000000,2022-02-10 18:18:49.000000000,2,0,2,828458,202960d44dc0537f5dea79b6c24792fd3cdae332,17,4,5,1,30380,ZhouHeng,zhouhenglc,"Readd neutron-fwaas and neutron-fwaas-dashboard to requirements

Neutron-fwaas is going to be revived in master branch with [1].

[1] https://review.opendev.org/c/openstack/governance/+/828078


Change-Id: I50db78d54b56ff1b8e254195bd5d078656d148cc
"
openstack%2Fkolla-ansible~master~I9c736a586a757b49170977c7f9cf2c4890557a33,openstack/kolla-ansible,master,,I9c736a586a757b49170977c7f9cf2c4890557a33,CI: Bump Ceph to Pacific,MERGED,2022-02-01 13:12:36.000000000,2022-02-10 18:19:55.000000000,2022-02-10 18:17:42.000000000,18,5,6,827284,496a3df95f040243439b9514d6158e59dc297c88,42,4,13,4,22629,Michal Nasiadka,mnasiadka,"CI: Bump Ceph to Pacific

Change-Id: I9c736a586a757b49170977c7f9cf2c4890557a33
"
openstack%2Fproject-config~master~I239c5aab0441dfb6ba8f21b4aa17b060f5faca58,openstack/project-config,master,,I239c5aab0441dfb6ba8f21b4aa17b060f5faca58,Give perm to release team to delete branches,MERGED,2022-02-08 15:58:43.000000000,2022-02-10 17:59:23.000000000,2022-02-10 17:52:14.000000000,1,0,1,828371,1521809facb261a37153c2fdc3d6b33490680f98,10,6,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Give perm to release team to delete branches

In ansible-collections-openstack project allow to release team to
delete branches if need.
This is a SIG project, not under a Openstack Release Team.

Change-Id: I239c5aab0441dfb6ba8f21b4aa17b060f5faca58
"
openstack%2Fneutron-specs~master~Ice457e4ead492d3d128017a1bb551d482658ade5,openstack/neutron-specs,master,distributed_metadata_data_path,Ice457e4ead492d3d128017a1bb551d482658ade5,Spec for distributed datapath for metadata,MERGED,2021-07-29 10:04:57.000000000,2022-02-10 17:41:49.000000000,2022-02-10 17:39:49.000000000,431,0,109,802854,ebaa98925010b666d10ed64a116888a77e364790,43,7,9,1,9531,liuyulong,LIU-Yulong,"Spec for distributed datapath for metadata

Related-Bug: #1933222
Change-Id: Ice457e4ead492d3d128017a1bb551d482658ade5
"
openstack%2Fbifrost~master~Ie03b3527ed0888dd204553eaf0da4f39465d7245,openstack/bifrost,master,no-staging,Ie03b3527ed0888dd204553eaf0da4f39465d7245,Do not clone repositories that are not used,MERGED,2022-01-25 14:06:11.000000000,2022-02-10 17:21:01.000000000,2022-02-10 17:18:02.000000000,19,3,4,826292,ba2d0a40ca4bf28b5c1a2d6a9c7de93a67333333,17,3,1,3,10239,Dmitry Tantsur,dtantsur,"Do not clone repositories that are not used

Change-Id: Ie03b3527ed0888dd204553eaf0da4f39465d7245
"
openstack%2Fblazar~master~I6414be91a1b629df680641050cfd415252b0a3c5,openstack/blazar,master,internal-interface,I6414be91a1b629df680641050cfd415252b0a3c5,Switch to using internal endpoints,MERGED,2022-02-08 15:38:37.000000000,2022-02-10 17:16:37.000000000,2022-02-10 17:11:50.000000000,64,4,2,828366,77e0d4a0070cd789f5f5c2321e023eff7e6d2fb2,12,3,2,8,15197,Pierre Riteau,priteau,"Switch to using internal endpoints

This commit makes endpoint types configurable and uses the internal
endpoint as default for Blazar, except admin for reaching keystone to
keep legacy behaviour for now.

Update devstack configuration to use public endpoints, since internal
endpoints are not created by devstack anymore (except for keystone).

Change-Id: I6414be91a1b629df680641050cfd415252b0a3c5
Closes-Bug: #1960335
"
openstack%2Fneutron~stable%2Fvictoria~Ida7c3ac974058769eb7ff901715e9b17a998bf79,openstack/neutron,stable/victoria,neutron-ci-improvements,Ida7c3ac974058769eb7ff901715e9b17a998bf79,Update irrelevant-files to skip run of untouched jobs,MERGED,2022-02-04 05:25:09.000000000,2022-02-10 17:16:18.000000000,2022-02-10 17:00:27.000000000,15,0,1,827798,e755baa27969527e795ea587ec5d10677afd9cb5,14,4,2,6,13861,yatin,yatinkarel,"Update irrelevant-files to skip run of untouched jobs

Currently when a job config is updated, all other
jobs are triggered unnecessary.

This patch updates irrelevant files to ignore changes
in all job config files except zuul.d/project.yaml(as
this contains the list of jobs to run not their definitions).
With this only the jobs whose definitions are updated(along with
it's child jobs) will be triggered because by default
match-on-config-updates is set to true for a job[1] and
that ignores files or irrelevant-files for a job inclusion.

[1] https://zuul-ci.org/docs/zuul/latest/config/job.html#attr-job.match-on-config-updates

Change-Id: Ida7c3ac974058769eb7ff901715e9b17a998bf79
(cherry picked from commit ca8b40403f7e1ab1f383da01b4a18b066fd35b93)
(cherry picked from commit 67f36f0c5c2165df71e980ac7121d9db14487227)
Conflicts: zuul.d/base.yaml
 	zuul.d/grenade.yaml
 	zuul.d/rally.yaml
 	zuul.d/tempest-multinode.yaml
 	zuul.d/tempest-singlenode.yaml
 	zuul.d/tripleo.yaml
"
openstack%2Fcinder~stable%2Fvictoria~Iaf149dadad5791e81a3c0efd089d0ee66a1a5614,openstack/cinder,stable/victoria,victoria-detach-vol-status,Iaf149dadad5791e81a3c0efd089d0ee66a1a5614,Fix: Race between attachment and volume deletion,MERGED,2022-01-18 11:54:40.000000000,2022-02-10 17:16:09.000000000,2022-02-10 17:00:18.000000000,127,114,3,825106,399da0782da1c37cdda4b5e9f737b820a66c016f,18,4,1,8,9535,Gorka Eguileor,Gorka,"Fix: Race between attachment and volume deletion

There are cases where requests to delete an attachment made by Nova can
race other third-party requests to delete the overall volume.

This has been observed when running cinder-csi, where it first requests
that Nova detaches a volume before itself requesting that the overall
volume is deleted once it becomes `available`.

This is a cinder race condition, and like most race conditions is not
simple to explain.

Some context on the issue:

- Cinder API uses the volume ""status"" field as a locking mechanism to
  prevent concurrent request processing on the same volume.

- Most cinder operations are asynchronous, so the API returns before the
  operation has been completed by the cinder-volume service, but the
  attachment operations such as creating/updating/deleting an attachment
  are synchronous, so the API only returns to the caller after the
  cinder-volume service has completed the operation.

- Our current code **incorrectly** modifies the status of the volume
  both on the cinder-volume and the cinder-api services on the
  attachment delete operation.

The actual set of events that leads to the issue reported in this bug
are:

[Cinder-CSI]
- Requests Nova to detach volume (Request R1)

[Nova]
- R1: Asks cinder-api to delete the attachment and **waits**

[Cinder-API]
- R1: Checks the status of the volume
- R1: Sends terminate connection request (R1) to cinder-volume and
  **waits**

[Cinder-Volume]
- R1: Ask the driver to terminate the connection
- R1: The driver asks the backend to unmap and unexport the volume
- R1: The last attachment is removed from the DB and the status of the
      volume is changed in the DB to ""available""

[Cinder-CSI]
- Checks that there are no attachments in the volume and asks Cinder to
  delete it (Request R2)

[Cinder-API]

- R2: Check that the volume's status is valid. It doesn't have
  attachments and is available, so it can be deleted.
- R2: Tell cinder-volume to delete the volume and return immediately.

[Cinder-Volume]
- R2: Volume is deleted and DB entry is deleted
- R1: Finish the termination of the connection

[Cinder-API]
- R1: Now that cinder-volume has finished the termination the code
  continues
- R1: Try to modify the volume in the DB
- R1: DB layer raises VolumeNotFound since the volume has been deleted
  from the DB
- R1: VolumeNotFound is converted to HTTP 404 status code which is
  returned to Nova

[Nova]
- R1: Cinder responds with 404 on the attachment delete request
- R1: Nova leaves the volume as attached, since the attachment delete
  failed

At this point the Cinder and Nova DBs are out of sync, because Nova
thinks that the attachment is connected and Cinder has detached the
volume and even deleted it.

Hardening is also being done on the Nova side [2] to accept that the
volume attachment may be gone.

This patch fixes the issue mentioned above, but there is a request on
Cinder-CSI [1] to use Nova as the source of truth regarding its
attachments that, when implemented, would also fix the issue.

[1]: https://github.com/kubernetes/cloud-provider-openstack/issues/1645
[2]: https://review.opendev.org/q/topic:%2522bug/1937084%2522+project:openstack/nova

Closes-Bug: #1937084
Change-Id: Iaf149dadad5791e81a3c0efd089d0ee66a1a5614
(cherry picked from commit 2ec2222841f6116707fe25bdcdae6ad6c2b9beb7)
Conflicts:
	cinder/tests/unit/attachments/test_attachments_manager.py
	cinder/volume/manager.py
(cherry picked from commit ed0be0c8fa1d26c3f366dd3d58ad4a8318695dcb)
(cherry picked from commit 7210c914c4ee08a06e6ec00e9a861b977d794ec8)
Conflicts:
	cinder/db/sqlalchemy/api.py
"
openstack%2Fneutron~stable%2Fvictoria~Ie33514da28991fa5952a1d8c289402ecb9ffee49,openstack/neutron,stable/victoria,improve-neutron-ci,Ie33514da28991fa5952a1d8c289402ecb9ffee49,Limit execution of the neutron CI jobs on some irrelevant file,MERGED,2022-02-04 07:16:41.000000000,2022-02-10 17:12:01.000000000,2022-02-10 17:00:22.000000000,270,97,4,827807,afb0c633f8332f389c9b0936f61129cc26a6ce62,14,3,1,7,13861,yatin,yatinkarel,"Limit execution of the neutron CI jobs on some irrelevant file

This patch tries to make execution of the CI jobs in the Neutron
queue to be more smart. There is no need to e.g. run
linuxbridge scenario jobs job when only changed files in patch
are in e.g. the openvswitch agent module, or vice versa.

Change-Id: Ie33514da28991fa5952a1d8c289402ecb9ffee49
(cherry picked from commit adb3e943b11415b085ebbbb7f23653aeb87d6ec5)
Conflicts: zuul.d/project.yaml
 	zuul.d/tempest-singlenode.yaml
"
openstack%2Fcinder~stable%2Fvictoria~I6576832b2c2722ab749cfe70bbc2058ead816c36,openstack/cinder,stable/victoria,victoria-detach-vol-status,I6576832b2c2722ab749cfe70bbc2058ead816c36,Expose volume_attachments in Volume OVO,MERGED,2022-01-18 11:54:40.000000000,2022-02-10 17:12:00.000000000,2022-02-10 17:00:14.000000000,40,19,5,825105,bc6585577ee06825dc72a82f815069cba6372fa6,29,3,1,6,9535,Gorka Eguileor,Gorka,"Expose volume_attachments in Volume OVO

In change-id Iabf9c3fab56ffef50695ce45745f193273822b39 we left the
`volume_attachment` out of the expected attributes of the Volume OVO
(even when te DB layer is providing that information) because it was
breaking some unit tests.

This means that in some cases we are unnecessarily loading the
attachments again (manually or via lazy loading) once we have the volume
OVO because that field is not set.

In this patch we populate the `volume_attachment` when we load the
Volume OVO from the DB.

Change-Id: I6576832b2c2722ab749cfe70bbc2058ead816c36
(cherry picked from commit e07bf3787a7c1a8a55b8f69290cf6166719f6a5e)
Conflicts:
	cinder/objects/volume.py
	cinder/tests/unit/objects/test_volume.py
(cherry picked from commit e85c22cef7bd502db44f837e626b7262f4dc8241)
(cherry picked from commit a5b67fd959fb837120745e1a2757f18060dd6ecc)
Conflicts:
	cinder/tests/unit/volume/flows/test_create_volume_flow.py
"
openstack%2Fneutron~master~I3f1fbd62516a283abfc7371b2c828c1dc8c3fa83,openstack/neutron,master,improve-neutron-ci,I3f1fbd62516a283abfc7371b2c828c1dc8c3fa83,Re add ovs and ovn tempest slow jobs,MERGED,2022-02-03 05:50:32.000000000,2022-02-10 17:11:58.000000000,2022-02-10 17:00:10.000000000,83,0,7,827590,f9d976de7ef3df5b6595c68c60163043dd367172,37,6,2,2,13861,yatin,yatinkarel,"Re add ovs and ovn tempest slow jobs

ovs and ovn tempest slow jobs were removed in [1] with
reasoning that slow tests are running in other jobs.

But those tests are not running in other jobs so
re adding these jobs back but in periodic pipeline
to have the missing coverage.

[1] https://review.opendev.org/c/openstack/neutron/+/815465

Change-Id: I3f1fbd62516a283abfc7371b2c828c1dc8c3fa83
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4,openstack/tripleo-heat-templates,stable/train,,I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4,Manage octavia flavor in tripleo-ansible,MERGED,2022-01-24 16:12:03.000000000,2022-02-10 17:00:41.000000000,2022-02-10 17:00:41.000000000,21,22,1,826118,cc2ce9d6e175748dda9bad845b3445905f8d6a58,12,3,1,3,29244,Gregory Thiemonge,gthiemonge,"Manage octavia flavor in tripleo-ansible

Move the creation of the nova flavor for Octavia in tripleo-ansible, it
allows us to specifiy the type of the API endpoint we want to use
(internal endpoint).

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/826091

Change-Id: I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4
(cherry picked from commit 9d4d7f9a63f39feffa0d13297c4dd8d3316935e2)
(cherry picked from commit 7cfe7813b63a8882e41413ab70d510f62f1df190)
(cherry picked from commit b7b1b46388d10c6d44413ff2bad44a8fdcc92052)
(cherry picked from commit e8ea8b3bf621c7ea361f066378fb5d82c957094a)
"
openstack%2Fblazar~master~I7f60008d995266bda6d6880a952649f9b6477e3c,openstack/blazar,master,nova-filters,I7f60008d995266bda6d6880a952649f9b6477e3c,Update Nova scheduler filter configuration,MERGED,2022-02-07 14:35:32.000000000,2022-02-10 16:59:46.000000000,2022-02-10 16:57:37.000000000,5,18,0,828157,4064f0eabd5d6f8b79ea7fd37aab7d0d61be71fb,7,2,1,4,15197,Pierre Riteau,priteau,"Update Nova scheduler filter configuration

Synchronise with default enabled_filters: RetryFilter and RamFilter were
removed from Nova. Also remove filters which were only required by
earlier implementations of instance reservation.

Change-Id: I7f60008d995266bda6d6880a952649f9b6477e3c
"
openstack%2Fkolla-ansible~master~I3362bd283eb7fb80f5da70f2a388f89f220617ea,openstack/kolla-ansible,master,neutron-endpoint-type,I3362bd283eb7fb80f5da70f2a388f89f220617ea,neutron: fix placement endpoint type configuration,MERGED,2022-02-10 12:14:12.000000000,2022-02-10 16:58:57.000000000,2022-02-10 16:53:29.000000000,7,1,3,828703,50edb94ded22f5c520b6d79d9829f987e2acdd75,12,3,2,2,15197,Pierre Riteau,priteau,"neutron: fix placement endpoint type configuration

Change-Id: I3362bd283eb7fb80f5da70f2a388f89f220617ea
Closes-Bug: #1960503
"
openstack%2Fansible-collections-openstack~master~I2e47ade56c3df5945e991d11d70f429760c0d852,openstack/ansible-collections-openstack,master,,I2e47ade56c3df5945e991d11d70f429760c0d852,Remove project properties tests and support,MERGED,2022-02-10 10:06:25.000000000,2022-02-10 16:44:03.000000000,2022-02-10 16:44:03.000000000,0,147,0,828682,7aa626377bef595e3f1c78724d4ce733b6342036,6,2,1,3,10969,Shnaidman Sagi (Sergey),sergsh,"Remove project properties tests and support

Keystone project doesn't have project ""properties"" documented and
discourage users to use them. Remove support for this feature and
tests for it. It was removed from new SDK as well.

Change-Id: I2e47ade56c3df5945e991d11d70f429760c0d852
"
openstack%2Fblazar-dashboard~master~I189ac002fcd7b1950ed15626e04cdf8e941aa690,openstack/blazar-dashboard,master,,I189ac002fcd7b1950ed15626e04cdf8e941aa690,Updating python testing classifier as per Yoga testing runtime,MERGED,2022-01-31 05:12:26.000000000,2022-02-10 16:28:26.000000000,2022-02-10 16:26:09.000000000,1,0,0,826982,f03cd5b3dca2a5b8a32d0c0ffd3e4b0cba59622a,9,4,1,1,29313,Vishal Manchanda,vishalmanchanda,"Updating python testing classifier as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I189ac002fcd7b1950ed15626e04cdf8e941aa690
"
openstack%2Fdevstack~stable%2Fxena~Ide186fb53b3f9826ff602cb7fb797f245a15033a,openstack/devstack,stable/xena,add_fips_job-stable/xena,Ide186fb53b3f9826ff602cb7fb797f245a15033a,Add option to set chap algorithms for iscsid for FIPS,ABANDONED,2022-02-10 14:44:36.000000000,2022-02-10 16:24:30.000000000,,4,0,0,828661,48d264b0f5143095dcda82da9c49f6dfb8984689,3,1,1,1,34120,Andre Aranha,afariasa,"Add option to set chap algorithms for iscsid for FIPS

The default CHAP algorithm for iscsid is md5, which is disallowed
under fips.  We will set the chap algorithm to ""SHA3-256,SHA256"",
which should work under all configurations.

Change-Id: Ide186fb53b3f9826ff602cb7fb797f245a15033a
(cherry picked from commit c3b7051387d4332f956148c5676383499fa31859)
"
openstack%2Fgovernance~master~I6642ab3e6b40f0565521455907beb08d3752eb70,openstack/governance,master,project-update,I6642ab3e6b40f0565521455907beb08d3752eb70,Remove security-specs from security sig,MERGED,2022-02-05 21:36:13.000000000,2022-02-10 16:09:29.000000000,2022-02-10 16:07:17.000000000,0,1,1,828018,63a41a4995f92bc9eff90efa77fe312e197ac074,13,4,1,1,21420,Gage Hugo,ghugo,"Remove security-specs from security sig

The security-specs repo is slated for retirement[0] as per the
security-sig. This change removes the security-specs repository
from the list that is currently maintained by the security-sig.

Change-Id: I6642ab3e6b40f0565521455907beb08d3752eb70
"
openstack%2Fblazar~master~Id286e5a0f9f278cbf5330887bfea1719cd25ae1a,openstack/blazar,master,bug/1786031,Id286e5a0f9f278cbf5330887bfea1719cd25ae1a,Prevent failed lease update from setting lease status to ERROR,ABANDONED,2019-02-05 18:29:29.000000000,2022-02-10 16:08:44.000000000,,39,22,1,635005,16b5a74344ac3bcb62a2847a7731e516ffdfc10a,10,4,3,3,15197,Pierre Riteau,priteau,"Prevent failed lease update from setting lease status to ERROR

If a lease update fails because of not enough hosts being available
(either when prolonging or deferring a lease, increasing the number of
reserved hosts, or changing the requirements), it would leave the lease
in ERROR status, although the reservation would still be active.

This patch allows the lease status code to restore the original lease
status after the failed update.

Change-Id: Id286e5a0f9f278cbf5330887bfea1719cd25ae1a
Closes-Bug: #1786031
"
openstack%2Fgovernance~master~I82739557c741fe76e19bb756898df9cc7bb27436,openstack/governance,master,documentation-change,I82739557c741fe76e19bb756898df9cc7bb27436,Add timelines to few of the Chair duties.,MERGED,2022-02-07 02:12:26.000000000,2022-02-10 15:58:11.000000000,2022-02-10 15:56:12.000000000,9,8,8,828062,fcbfe33db6aa396adce46578784ae78dbb96c663,13,4,2,1,8556,Ghanshyam,ghanshyam,"Add timelines to few of the Chair duties.

Change-Id: I82739557c741fe76e19bb756898df9cc7bb27436
"
openstack%2Fopenstack-ansible~master~If48096a7309c7140cd9c182d5d3175e8d827cbd6,openstack/openstack-ansible,master,bug/1877421,If48096a7309c7140cd9c182d5d3175e8d827cbd6,Rename RBD cinder backend,MERGED,2022-02-09 07:11:36.000000000,2022-02-10 15:53:40.000000000,2022-02-10 15:48:49.000000000,3,3,1,828463,e51d4bc8c8262fdc954b80f84ed4af1a6f9c6628,9,3,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Rename RBD cinder backend

RBD seems to be reserved name in cinder. Once it's used as
volume type, cinder fails with [1]

We rename backend name in doc and AIO to workaround the issue

[1] https://paste.opendev.org/show/bAJR9YEYA1hRjCuMc6kU/

Closes-Bug: #1877421
Change-Id: If48096a7309c7140cd9c182d5d3175e8d827cbd6
"
openstack%2Fopenstack-ansible~master~If5363321cea9031ff5cf9bd474d8d9711fc54e66,openstack/openstack-ansible,master,,If5363321cea9031ff5cf9bd474d8d9711fc54e66,Remove workaround for OpenSUSE when setting AIO hostname,MERGED,2022-02-02 09:46:36.000000000,2022-02-10 15:51:21.000000000,2022-02-10 15:48:46.000000000,2,15,0,827465,c87fa934446b5ebb3430d8d60842a852f1000d14,8,3,1,1,25023,Jonathan Rosser,jrosser,"Remove workaround for OpenSUSE when setting AIO hostname

We no longer support OpenSUSE deployments so this code is redundant.

Change-Id: If5363321cea9031ff5cf9bd474d8d9711fc54e66
"
openstack%2Fkolla-ansible~master~I686c9beb07dcb15900bef468cfc370f4006a8e03,openstack/kolla-ansible,master,,I686c9beb07dcb15900bef468cfc370f4006a8e03,CI: cephadm - copy config/keys to all nodes,ABANDONED,2022-02-01 14:23:16.000000000,2022-02-10 15:44:16.000000000,,1,0,5,827298,7c8bb25e3075d94bb3575b8939d75efea3408ab1,21,3,5,1,22629,Michal Nasiadka,mnasiadka,"CI: cephadm - copy config/keys to all nodes

Cephadm has a node tag _admin - which causes it
to copy ceph.conf and admin keyrings to those nodes.

Since we don't set that in the config template, _admin
tag gets removed and ceph.conf + keyring might get
removed if ceph-mgr service gets restarted on the 
initial node.

Change-Id: I686c9beb07dcb15900bef468cfc370f4006a8e03
"
openstack%2Fopenstack-ansible~master~I0b493e8069470a2299e3de925846b2fc6ba2004b,openstack/openstack-ansible,master,,I0b493e8069470a2299e3de925846b2fc6ba2004b,Simplify mount options for new kernels.,MERGED,2022-02-02 09:46:36.000000000,2022-02-10 15:41:27.000000000,2022-02-10 15:38:32.000000000,1,1,1,827464,926458126a61dd78d49516e4b092cb7a3ff40be6,10,3,1,1,25023,Jonathan Rosser,jrosser,"Simplify mount options for new kernels.

We no longer need to support 4.x kernels

Change-Id: I0b493e8069470a2299e3de925846b2fc6ba2004b
"
openstack%2Fopenstack-ansible~stable%2Fwallaby~Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7,openstack/openstack-ansible,stable/wallaby,,Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7,Remove enablement of neutron tempest plugin in scenario templates,MERGED,2022-02-09 15:10:09.000000000,2022-02-10 15:41:26.000000000,2022-02-10 15:38:28.000000000,0,8,0,828551,f7c4df864083520b346266c6b583c42ef29ede75,8,3,1,2,25023,Jonathan Rosser,jrosser,"Remove enablement of neutron tempest plugin in scenario templates

The plugin should be enabled by the tempest role due to the
presence of the neutron inventory group.

Change-Id: Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7
"
openstack%2Fopenstack-ansible-repo_server~master~I26bb0e21d797c2bfbe67e03003da01c355c27561,openstack/openstack-ansible-repo_server,master,,I26bb0e21d797c2bfbe67e03003da01c355c27561,Ensure insist=true is always set for lsyncd,MERGED,2022-02-10 09:47:55.000000000,2022-02-10 15:33:13.000000000,2022-02-10 15:31:13.000000000,5,7,0,828678,ee0a6d5b3713299aa183c98590f4a252135d8568,9,3,1,3,25023,Jonathan Rosser,jrosser,"Ensure insist=true is always set for lsyncd

If insist is not set to true then lsyncd will exit if it cannot
perform an initial rsync to the target hosts.

Due to the order in which the repo servers are configured, lsyncd
may be installed and started on the first host in the repo_servers
group before the ssh keys and other necessary configuration have
been placed on the remaining hosts. This leads to a failure to
start lsyncd.

This patch moves the setting of insist into the lua config file
for all operating systems, and removes the need to template a
defaults file on debian derivatives.

Change-Id: I26bb0e21d797c2bfbe67e03003da01c355c27561
"
openstack%2Fneutron~master~I0c623a101357226ec0b4e3e42b829303846b6f6b,openstack/neutron,master,unset-reside-cr-dvr,I0c623a101357226ec0b4e3e42b829303846b6f6b,"[OVN] Migrate ""reside-on-redirect-chassis"" for distributed FIP",MERGED,2022-01-28 16:09:56.000000000,2022-02-10 15:24:28.000000000,2022-02-10 15:22:07.000000000,88,3,15,826912,5bef86847790f60bf2cb87903db8b9ef88051623,33,8,3,4,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] Migrate ""reside-on-redirect-chassis"" for distributed FIP

This patch complement the changes made at
828765412789a15a5f375060cfab7628c65e9d5d by creating a maintenance task
resposible for migrating the ""reside-on-redirect-chassis"" option value
for existing router ports when the deployment is updated.

Change-Id: I0c623a101357226ec0b4e3e42b829303846b6f6b
Related-Bug: #1920976
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7,openstack/openstack-ansible,stable/victoria,,Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7,Remove enablement of neutron tempest plugin in scenario templates,MERGED,2022-02-08 17:50:27.000000000,2022-02-10 15:13:03.000000000,2022-02-10 15:10:00.000000000,0,8,4,828386,eb52d1a0400768013386def538faa6831cf0c094,14,3,1,2,25023,Jonathan Rosser,jrosser,"Remove enablement of neutron tempest plugin in scenario templates

The plugin should be enabled by the tempest role due to the
presence of the neutron inventory group.

Change-Id: Ib37af0796edbcb3f4be4cd7c1093d407b12c50a7
"
openstack%2Fopenstack-ansible-os_keystone~master~I596614f55a8db8e814b1d24a78c3f1a9d0e00bb2,openstack/openstack-ansible-os_keystone,master,bug/1960342,I596614f55a8db8e814b1d24a78c3f1a9d0e00bb2,Drop ProxyPass out of VHost,MERGED,2022-02-09 11:44:35.000000000,2022-02-10 15:06:10.000000000,2022-02-10 15:03:57.000000000,0,2,0,828519,790d0c3482ba8d98c97ee941c595bd2ffd80d810,10,5,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Drop ProxyPass out of VHost

As ProxyPass defined out of VHost, it has global effect, resulting
in Horizon Identity section to be jsut proxied to keystone API
instead of rederred by Django as instructed by Horizon VHost.

Change-Id: I596614f55a8db8e814b1d24a78c3f1a9d0e00bb2
Closes-Bug: #1960342
"
openstack%2Fnova~master~Ie6fd18937d534f64e441929a6b995f197499fdef,openstack/nova,master,ignore-cpupinning-invalid,Ie6fd18937d534f64e441929a6b995f197499fdef,WIP: Ignore exception.CPUUnpinningInvalid when deleting,ABANDONED,2021-12-03 18:33:31.000000000,2022-02-10 14:48:09.000000000,,5,1,0,820401,3fef65d386a0fc8ecfc18623f7f8fdfcee86afbd,7,1,1,1,8864,Artom Lifshitz,artom,"WIP: Ignore exception.CPUUnpinningInvalid when deleting

This can happen when deleting an instance that's been resized from a
pinned CPU policy to an unpinned CPU policy on a host with no PCPU
resources configured.

Change-Id: Ie6fd18937d534f64e441929a6b995f197499fdef
"
openstack%2Fopenstack-ansible-os_keystone~master~Ie7b0cd65b213b254d8745c47bab991df1bc5acb1,openstack/openstack-ansible-os_keystone,master,,Ie7b0cd65b213b254d8745c47bab991df1bc5acb1,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:15:12.000000000,2022-02-10 14:46:21.000000000,2022-02-10 14:44:31.000000000,0,10,1,827443,c8ad9d2cead6eb724ec6f59c64ed3498908d3bdd,9,3,1,1,25023,Jonathan Rosser,jrosser,"Remove legacy policy.json cleanup handler

Change-Id: Ie7b0cd65b213b254d8745c47bab991df1bc5acb1
"
openstack%2Fpython-octaviaclient~stable%2Ftrain~I5523820e8607ed8e2fb75965427df33055673943,openstack/python-octaviaclient,stable/train,,I5523820e8607ed8e2fb75965427df33055673943,"Fix ""Support pagination for 'list' API calls"" backport",MERGED,2022-02-04 08:51:07.000000000,2022-02-10 14:31:55.000000000,2022-02-10 14:25:47.000000000,2,3,2,827817,b6642c9a0489b4980a1098487325c31fa3163dad,14,3,2,2,29244,Gregory Thiemonge,gthiemonge,"Fix ""Support pagination for 'list' API calls"" backport

The change Ica7c8c953c11af4400b224ad942023f69a72ae02 was incorrectly
backported to stable/train, a merge conflict with the use of urllib from
six introduced a bug that triggers an exception when a list of octavia
resources exceeds the limit of the pagination:

module 'six.moves.urllib' has no attribute 'urlparse'

This commit fixes the invalid calls.

It also disables the lower-constraints job that is now failing on
train.

Note: this is a stable/train-only commit

Change-Id: I5523820e8607ed8e2fb75965427df33055673943
"
openstack%2Fironic~master~Ie400a73eb2036678ed9446e0b499301cc2b690dd,openstack/ironic,master,benchmark,Ie400a73eb2036678ed9446e0b499301cc2b690dd,Fix the benchmark job,MERGED,2022-02-09 09:12:14.000000000,2022-02-10 14:10:57.000000000,2022-02-10 14:08:10.000000000,2,0,1,828498,1f509c5bdea19d12b97c53f027795946204b6f25,16,4,1,1,10239,Dmitry Tantsur,dtantsur,"Fix the benchmark job

This is a price to pay for using private API and not having unit tests :)

Change-Id: Ie400a73eb2036678ed9446e0b499301cc2b690dd
"
openstack%2Fpuppet-nova~master~Ic87422ae98943054ee58343157301d8fc780211f,openstack/puppet-nova,master,system-scope-creds,Ic87422ae98943054ee58343157301d8fc780211f,Use system scope credentials in providers,ABANDONED,2021-10-28 14:10:52.000000000,2022-02-10 14:08:28.000000000,,231,161,11,815850,cdff3bfe3fcdc02e5320eba37ade38ed270f600d,77,2,38,10,9816,Takashi Kajinami,kajinamit,"Use system scope credentials in providers

This change enforces usage of system scope credentials to manage
flavors, aggregates, and services, following the new policy rules for
SRBAC support in nova.

With this change each provider first tries to look up the clouds.yaml
file for the puppet user. This is because it is no longer guaranteed
that the nova service user is permitted to create these resources.

The logic to look up credential for the nova service user from
[keystone_authtoken] is left to keep backward compatibility but is
deprecated and will be removed.

Depends-on: https://review.opendev.org/827063
Change-Id: Ic87422ae98943054ee58343157301d8fc780211f
"
openstack%2Fkayobe~master~Ia8c927c330b9428a3824a6925f6274cbc54314a0,openstack/kayobe,master,story/2002098,Ia8c927c330b9428a3824a6925f6274cbc54314a0,Support elements repositories for overcloud host images,MERGED,2021-12-10 14:46:13.000000000,2022-02-10 13:45:05.000000000,2022-02-10 13:42:42.000000000,61,0,4,821413,c4a116e912b148b3f5baef5de1979808a16223d2,21,3,5,4,15197,Pierre Riteau,priteau,"Support elements repositories for overcloud host images

Change-Id: Ia8c927c330b9428a3824a6925f6274cbc54314a0
Story: 2002098
Task: 44165
"
openstack%2Fkolla~stable%2Ftrain~Ib3ecd73f9e39e320acb2c5f0962b8af9b1a817e9,openstack/kolla,stable/train,apache-storm-stable/train,Ib3ecd73f9e39e320acb2c5f0962b8af9b1a817e9,Mitigate two Log4j vulnerabilities in Apache Storm,MERGED,2022-01-27 09:42:27.000000000,2022-02-10 13:19:18.000000000,2022-02-10 13:16:52.000000000,10,0,8,826613,fe9b3ccb645ebeffd7d84ef4fcc93b90a6661a4a,25,5,1,2,15197,Pierre Riteau,priteau,"Mitigate two Log4j vulnerabilities in Apache Storm

The Log4j version was bumped on GitHub [1] but it is still pending
inclusion in a release of Apache Storm.

Apply the alternative mitigation recommended by Log4j [2] of removing
the JndiLookup class from the classpath.

[1] https://github.com/apache/storm/pull/3427
[2] https://logging.apache.org/log4j/2.x/security.html

Change-Id: Ib3ecd73f9e39e320acb2c5f0962b8af9b1a817e9
(cherry picked from commit 448e4f56aa6218a66b0074329d322c0b6089b2e6)
"
openstack%2Fkolla~master~I5ee8e084013b25b8cd1600ef227c5eac2186ac3b,openstack/kolla,master,bp/swift-rework,I5ee8e084013b25b8cd1600ef227c5eac2186ac3b,Add packages to support swift services running in the way of WSGI,NEW,2018-06-26 11:14:28.000000000,2022-02-10 12:57:33.000000000,,48,5,0,578066,9bfccedb846a0347c01a929927a2a583c11ef32d,14,5,3,2,19779,Chason Chan,chenxing,"Add packages to support swift services running in the way of WSGI

Change-Id: I5ee8e084013b25b8cd1600ef227c5eac2186ac3b
Implements: blueprint swift-rework
"
openstack%2Ftenks~master~I0c1e0cc50119cc2f9ba3e0b0a3548baeca9dca2e,openstack/tenks,master,,I0c1e0cc50119cc2f9ba3e0b0a3548baeca9dca2e,Explicitly set boot_mode to legacy BIOS,MERGED,2022-02-01 15:06:59.000000000,2022-02-10 12:30:20.000000000,2022-02-10 12:28:32.000000000,5,0,1,827304,7c6e87e5986d56058637fc1430544bedb982718a,11,4,1,1,14826,Mark Goddard,mgoddard,"Explicitly set boot_mode to legacy BIOS

Since we currently only support legacy BIOS boot mode, set it explicitly
in node capabilities. This is especially important since Ironic changed
the default boot mode to UEFI in Yoga. If the capabilities field is
provided, the boot_mode should be set explicitly.

This change should be followed by one that adds support for UEFI boot
mode.

Change-Id: I0c1e0cc50119cc2f9ba3e0b0a3548baeca9dca2e
"
openstack%2Fpuppet-neutron~stable%2Fwallaby~I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,openstack/puppet-neutron,stable/wallaby,bug/1940838-stable/wallaby,I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209,Add report_inteval parameter in ml2 baremetal,MERGED,2022-02-09 14:23:20.000000000,2022-02-10 12:21:32.000000000,2022-02-10 12:19:45.000000000,17,0,5,828409,41bcf66eafc092890cdd6d2560d02642c5a55761,20,5,2,3,24245,Harald Jensås,harald.jensas,"Add report_inteval parameter in ml2 baremetal

Add the parameter $report_interval to the ml2
networking-baremetal manifest. By default the global
report_interval as defined in neutron.conf is used.

In some cases it makes sense to change the report_interval
specifically for ironic-neutron-agent.

Conflicts:
  manifests/agents/ml2/networking_baremetal.pp
  spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb

Related-Bug: #1940838
Change-Id: I6fc0eb085c09fb1e24ff09d4f8199d2cf57dd209
(cherry picked from commit dae33092a120655dfe4b9a550ec29a8c2dba73a5)
"
openstack%2Fironic~master~I3c06e12f82908fba2b2587d0e3bec4b8bbdeba4b,openstack/ironic,master,no-ramdisk-clean,I3c06e12f82908fba2b2587d0e3bec4b8bbdeba4b,Add idrac-redfish clean steps to not require ramdisk,MERGED,2022-01-21 10:39:38.000000000,2022-02-10 12:08:04.000000000,2022-02-10 12:03:54.000000000,32,9,4,825753,69e6152ac3824aed6531ca0e820d6c1ba178f1f0,15,4,1,5,27909,Aija Jauntēva,ajya,"Add idrac-redfish clean steps to not require ramdisk

Includes idrac-redfish RAID and management steps.

Update helper utility to not prepare agent on reboots
if cleaning without it.

Change-Id: I3c06e12f82908fba2b2587d0e3bec4b8bbdeba4b
"
openstack%2Fswift~master~I88b8cfd30292325e0870029058da6fb38026ae1a,openstack/swift,master,sigs-in-logs_1_1_1,I88b8cfd30292325e0870029058da6fb38026ae1a,Trim sensitive information in the logs (CVE-2017-8761),MERGED,2021-12-22 05:27:40.000000000,2022-02-10 11:32:04.000000000,2022-02-10 11:30:01.000000000,421,100,79,822585,f2c279bae94689e2062beb6d0030d168a0b4cbdf,80,3,12,10,7233,Matthew Oliver,mattoliverau,"Trim sensitive information in the logs (CVE-2017-8761)

Several headers and query params were previously revealed in logs but
are now redacted:

  * X-Auth-Token header (previously redacted in the {auth_token} field,
    but not the {headers} field)
  * temp_url_sig query param (used by tempurl middleware)
  * Authorization header and X-Amz-Signature and Signature query
    parameters (used by s3api middleware)

This patch adds some new middleware helper methods to track headers and
query parameters that should be redacted by proxy-logging. While
instantiating the middleware, authors can call either:

   register_sensitive_header('case-insensitive-header-name')
   register_sensitive_param('case-sensitive-query-param-name')

to add items that should be redacted. The redaction uses proxy-logging's
existing reveal_sensitive_prefix config option to determine how much to
reveal.

Note that query params will still be logged in their entirety if
eventlet_debug is enabled.

UpgradeImpact
=============
The reveal_sensitive_prefix config option now applies to more items;
operators should review their currently-configured value to ensure it
is appropriate for these new contexts. In particular, operators should
consider reducing the value if it is more than 20 or so, even if that
previously offered sufficient protection for auth tokens.

Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Closes-Bug: #1685798
Change-Id: I88b8cfd30292325e0870029058da6fb38026ae1a
"
openstack%2Fbifrost~master~I57513883c0fa8d6ffb2c70debb81d5e7e6d8b221,openstack/bifrost,master,enable-epel-cs9,I57513883c0fa8d6ffb2c70debb81d5e7e6d8b221,Enable epel repository only when needed,MERGED,2022-01-26 10:54:27.000000000,2022-02-10 11:10:45.000000000,2022-02-10 11:08:55.000000000,41,14,8,826442,f2825ad1d9809bfc30e8b1b078c74a48c633f5e2,38,4,6,5,23851,Riccardo Pittau,elfosardo,"Enable epel repository only when needed

The epel repository is used only when we need to build a debian-based
IPA image, so we enable it only in that case for CentOS Stream 8/9.

The configuration procedure is explained in the official guide [1].

[1] https://docs.fedoraproject.org/en-US/epel/#_el9

Change-Id: I57513883c0fa8d6ffb2c70debb81d5e7e6d8b221
"
openstack%2Fkolla-ansible~stable%2Ftrain~I67df11e63d877fd509f9a19bf3f7b62f1776dfa3,openstack/kolla-ansible,stable/train,bug/1901614,I67df11e63d877fd509f9a19bf3f7b62f1776dfa3,CI: test elasticsearch & kibana 6.x migration (Train),ABANDONED,2020-10-27 09:11:59.000000000,2022-02-10 11:06:43.000000000,,93,69,0,759833,c2d09a9fbd94ae11b0d8919b6fc39954cdcf987b,11,2,4,3,14826,Mark Goddard,mgoddard,"CI: test elasticsearch & kibana 6.x migration (Train)

Related-Bug: #1901614

Change-Id: I67df11e63d877fd509f9a19bf3f7b62f1776dfa3
"
openstack%2Fpuppet-openstack_extras~stable%2Fwallaby~I37e92e13543c9b944b9534cec3d1f36677a49ff2,openstack/puppet-openstack_extras,stable/wallaby,wallaby-c9,I37e92e13543c9b944b9534cec3d1f36677a49ff2,Prepare a new Wallaby release,MERGED,2022-02-10 10:41:20.000000000,2022-02-10 11:05:12.000000000,2022-02-10 11:05:12.000000000,1,1,0,828688,3c2ac686c894d1bcf82a3cced2610b4799079f4f,7,2,1,1,9816,Takashi Kajinami,kajinamit,"Prepare a new Wallaby release

We recently merged several fixes for CentOS9 support. Let's create
a new release so that these fixes are included in a released version

Change-Id: I37e92e13543c9b944b9534cec3d1f36677a49ff2
"
openstack%2Freleases~master~I40185b08a9e415f416c45608cf90c8f515755222,openstack/releases,master,,I40185b08a9e415f416c45608cf90c8f515755222,Remove unicode from code,MERGED,2022-01-27 02:52:27.000000000,2022-02-10 10:50:02.000000000,2022-02-10 10:50:02.000000000,2,2,0,826575,f884ef23144e10b290410d35304e7f6ff5217496,10,3,2,1,33881,LiZekun,joeylee666666,"Remove unicode from code

All strings are considered as unicode string from Python 3.

This patch drops the explicit unicode literal (u'...')
appearances from the unicode strings.

Change-Id: I40185b08a9e415f416c45608cf90c8f515755222
"
openstack%2Freleases~master~Ia315dc61b4f18d9dedab700591a426d063fab969,openstack/releases,master,victoria-stable,Ia315dc61b4f18d9dedab700591a426d063fab969,Release manila 11.1.1 from stable/victoria,MERGED,2022-01-21 13:28:00.000000000,2022-02-10 10:49:58.000000000,2022-02-10 10:49:58.000000000,4,0,4,825797,e718e4c1646502b3f3a75357afb58db90feb3ac2,16,6,3,1,17685,Elod Illes,elod.illes,"Release manila 11.1.1 from stable/victoria

This release picks up new commits to manila since
the last release from stable/victoria.

% git log --oneline --no-merges 11.1.0..aa2a64c
2b2e16bf8 Modify docker instalation for fedora systems
979c0abe2 Handle successful deletion of snapshot if quota commit fails
daeae4ccb early return for _share_replica_update() if there is no active replica
860b45e21 Don't run periodic_share_replica_update() on active replicas
deaa1bf16 Drop non-ASCII character from manila config
935786939 [doc] Fix config and install guide for the generic driver

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ia315dc61b4f18d9dedab700591a426d063fab969
"
openstack%2Freleases~master~Id8762695c32cfc9f41efbc7686c4304b5c761e4e,openstack/releases,master,,Id8762695c32cfc9f41efbc7686c4304b5c761e4e,[xena] Release Ceilometer 17.0.1,MERGED,2022-02-09 09:07:18.000000000,2022-02-10 10:45:19.000000000,2022-02-10 10:45:19.000000000,4,0,2,828494,fbb3a0e2cdbb9e9aa999ad7c897f91133cda0813,9,4,1,1,16137,Tobias Urdin,tobasco,"[xena] Release Ceilometer 17.0.1

This contains bugfixes that makes Ceilometer work
with the new Nova XML version.

Change-Id: Id8762695c32cfc9f41efbc7686c4304b5c761e4e
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ia8515bf204cfe6a0fbee7b819be07ee5827dd36d,openstack/tripleo-heat-templates,stable/victoria,c8_teardown_master,Ia8515bf204cfe6a0fbee7b819be07ee5827dd36d,NO MERGE Test openstack/tripleo-ci/+/826317,ABANDONED,2022-02-08 09:41:52.000000000,2022-02-10 10:42:36.000000000,,2,0,0,828259,2a7987cfb7a1b24080e62be5e0677e6673e329d6,4,1,1,2,8449,Marios Andreou,marios,"NO MERGE Test openstack/tripleo-ci/+/826317

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317
Change-Id: Ia8515bf204cfe6a0fbee7b819be07ee5827dd36d
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I754ea9152228df72a9cb37f4cf9e910c9bd19309,openstack/tripleo-heat-templates,stable/wallaby,c8_teardown_master,I754ea9152228df72a9cb37f4cf9e910c9bd19309,NO MERGE Test openstack/tripleo-ci/+/826317,ABANDONED,2022-02-08 09:38:32.000000000,2022-02-10 10:42:33.000000000,,2,0,0,828258,8da38ad36e21b16ee8f7ff3a087b6808eb27c8f6,5,2,1,2,8449,Marios Andreou,marios,"NO MERGE Test openstack/tripleo-ci/+/826317

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317
Change-Id: I754ea9152228df72a9cb37f4cf9e910c9bd19309
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I144ac3a34630a2db36c65359f3f9ae7d4c93a40b,openstack/tripleo-heat-templates,stable/train,c8_teardown_master,I144ac3a34630a2db36c65359f3f9ae7d4c93a40b,NO MERGE Test openstack/tripleo-ci/+/826317,ABANDONED,2022-02-08 09:43:18.000000000,2022-02-10 10:42:30.000000000,,2,0,0,828262,43b73420e29571b44350bf3349c03b5e5d7edf4c,5,2,1,2,8449,Marios Andreou,marios,"NO MERGE Test openstack/tripleo-ci/+/826317

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317
Change-Id: I144ac3a34630a2db36c65359f3f9ae7d4c93a40b
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib7b4993cc6fe0000b7a2da80ae5dacbf418b86f7,openstack/tripleo-heat-templates,stable/ussuri,c8_teardown_master,Ib7b4993cc6fe0000b7a2da80ae5dacbf418b86f7,NO MERGE Test openstack/tripleo-ci/+/826317,ABANDONED,2022-02-08 09:42:43.000000000,2022-02-10 10:42:28.000000000,,2,0,0,828260,448f8951782a271279d9178cd93168ea528aefe4,4,1,1,2,8449,Marios Andreou,marios,"NO MERGE Test openstack/tripleo-ci/+/826317

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/826317
Change-Id: Ib7b4993cc6fe0000b7a2da80ae5dacbf418b86f7
"
openstack%2Ftempest~master~Iddfa4ef874328fdee5418de5a8b1112007541883,openstack/tempest,master,bug/1945495,Iddfa4ef874328fdee5418de5a8b1112007541883,Fix floating ip timeout issues with uwsgi enabled,MERGED,2022-02-08 17:18:02.000000000,2022-02-10 10:39:55.000000000,2022-02-10 10:37:46.000000000,11,3,8,828245,78b960f91f71dc6f98776b6de7e833da74ffc520,23,7,2,2,22873,Martin Kopec,mkopec,"Fix floating ip timeout issues with uwsgi enabled

This reverts commit d4c9cc89f199899b20cfaea975ecd15ee66d3523 which
introduced a waiter to fix a bug in Tempest. Unfortunately that broke
neutron-tempest-with-uwsgi job where some of the tests started to fail
due to timeouts - waiting for the floating ip to get attached to a server
prolonged the tests which caused the timeout (it seems the ip attachment
process takes longer on an environment with uwsgi).
The failing tests also didn't require an attached floating ip or they
did however long enough after the server creation thus it is redundant
to wait for the ip attachment at the beginning (when the resource is
created) when it can happen ""in parallel"".

This patch moves the waiter from the common file to the test class
where the waiter is needed to fix a bug [1].

[1] https://bugs.launchpad.net/tempest/+bug/1945495

Closes-Bug: #1960022
Change-Id: Iddfa4ef874328fdee5418de5a8b1112007541883
"
openstack%2Fkolla-ansible~master~I162e417387393e806886b1c9ea8053b89778b4d1,openstack/kolla-ansible,master,fix-apparmor-libvirt-profile-removal,I162e417387393e806886b1c9ea8053b89778b4d1,Fix Apparmor libvirt profile removal,MERGED,2022-01-13 11:41:48.000000000,2022-02-10 10:37:53.000000000,2022-02-10 10:36:06.000000000,12,1,3,824550,75f55d13ad9060b7821a6e7702a347debd785ee9,20,4,3,2,14200,Maksim Malchuk,mmalchuk,"Fix Apparmor libvirt profile removal

The apparmor_parser actually doesn't remove the file or doesn't create
the symlink in '/etc/apparmor.d/disable' itself so the next run of the
baremetal role will fail with the error ""Unable to remove ""libvirtd"".
Even more after reboot, the profile is still active. We need to
disable the profile completly ourselves. This change fixes the
idempotents of the baremetal role.

Closes-Bug: #1960302
Change-Id: I162e417387393e806886b1c9ea8053b89778b4d1
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
"
openstack%2Fcharms.ceph~master~I43d0a0bc11664c37532c0117711affc93c9d1ad1,openstack/charms.ceph,master,osd_id_recycle,I43d0a0bc11664c37532c0117711affc93c9d1ad1,Add argument 'osd_id' to 'osdize',MERGED,2021-11-19 18:40:57.000000000,2022-02-10 10:32:36.000000000,2022-02-10 10:32:36.000000000,46,6,1,818623,136f6d858663b06fe45e3c8442a13a51f4244816,11,2,3,2,33717,Luciano Lo Giudice,lmlg,"Add argument 'osd_id' to 'osdize'

In order to fully support OSD replacement, we need a way to recycle
previously used OSD ids. This is achieved by passing the parameter
'--osd-id' to 'ceph-volume lvm create'. As such, this patchset adds
the needed support to specify that parameter.

Change-Id: I43d0a0bc11664c37532c0117711affc93c9d1ad1
"
openstack%2Freleases~master~I6ac44990dc80582afa897fc3cb9f5784897456b5,openstack/releases,master,,I6ac44990dc80582afa897fc3cb9f5784897456b5,[wallaby] Release Ceilometer 16.0.1,MERGED,2022-02-09 12:11:37.000000000,2022-02-10 10:14:54.000000000,2022-02-10 10:14:54.000000000,4,0,4,828520,107a09195dab4d1615ba59a0a899b542de52599e,13,4,2,1,16137,Tobias Urdin,tobasco,"[wallaby] Release Ceilometer 16.0.1

This contains bugfixes that makes Ceilometer work
with the new Nova XML version.

Change-Id: I6ac44990dc80582afa897fc3cb9f5784897456b5
"
openstack%2Fpuppet-ironic~master~Id1aa5f3df8dd565c81ff4fda0f9bbd07faa9c7b5,openstack/puppet-ironic,master,amqp_allow_insecure_clients,Id1aa5f3df8dd565c81ff4fda0f9bbd07faa9c7b5,Remove deprecated amqp_allow_insecure_clients,MERGED,2022-02-08 13:09:05.000000000,2022-02-10 10:10:04.000000000,2022-02-10 10:08:29.000000000,4,13,2,828306,41b1408e48accdd1356059fff88f424a118de56a,19,3,2,2,9816,Takashi Kajinami,kajinamit,"Remove deprecated amqp_allow_insecure_clients

... because it was deprecated during Wallaby cycle.

Change-Id: Id1aa5f3df8dd565c81ff4fda0f9bbd07faa9c7b5
"
openstack%2Fopenstack-manuals~master~I3ee0a813e5d040d0f2581a94f6ae35f45688ec1e,openstack/openstack-manuals,master,,I3ee0a813e5d040d0f2581a94f6ae35f45688ec1e,docs: Update --set-enable flag,MERGED,2021-12-29 12:56:30.000000000,2022-02-10 09:47:19.000000000,2022-02-10 09:31:29.000000000,2,2,8,823160,75a744a93bdc59653341f8bd81ec4f0b8df24c8d,18,4,4,1,33786,Han Guangyu,hanguangyu,"docs: Update --set-enable flag

In CentOS 8.3.2011 and later version, flag of --set-enable had been
modified. ""PowerTools"" had been replaced with ""powertools"". This
change was mentioned in the release notes:
https://wiki.centos.org/Manuals/ReleaseNotes/CentOS8.2011#Yum_repo_file_and_repoid_changes

Update the ""yum config-manager --set-enable"" command to use
""powertolls"".

Users can know the right way in 8.3.2011 and later version CentOS.

Change-Id: I3ee0a813e5d040d0f2581a94f6ae35f45688ec1e
"
openstack%2Fcharm-ops-interface-tls-certificates~master~I7394fbbba92cdbb716c1071519c39ffd83af3166,openstack/charm-ops-interface-tls-certificates,master,,I7394fbbba92cdbb716c1071519c39ffd83af3166,Remove unused charmhelpers dependency,MERGED,2022-02-09 18:56:42.000000000,2022-02-10 09:27:16.000000000,2022-02-10 09:27:16.000000000,0,1,1,828603,f720af03a1acb640ab1fed86fd30ff9aafda1ea4,6,2,1,1,28510,Pedro Guimarães,pguimaraes,"Remove unused charmhelpers dependency

Change-Id: I7394fbbba92cdbb716c1071519c39ffd83af3166
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I0c1e49a8bf66937355c36fffebc96d281eb890f2,openstack/networking-ovn,stable/train,,I0c1e49a8bf66937355c36fffebc96d281eb890f2,[OVN] Check if exists trunk ports before cleanup,MERGED,2022-02-04 10:24:35.000000000,2022-02-10 09:23:22.000000000,2022-02-10 09:21:41.000000000,25,0,1,827832,e579d36ec86927da05e2ae6d1e18e1aee4c34fe9,8,3,1,1,34118,Arnau Verdaguer,averdaguer,"[OVN] Check if exists trunk ports before cleanup

While migrating from OVS to OVN one of the steps of the migration
is clean all the OVS trunk ports, this will fail if the environment
does not have any trunk ports configured.

This will do a comprovation in order to know if it's necessary
to clean them or not.

Also, since this playbook it will only clean the ovn interfaces
it is not necessary to stop the whole migration. If any error
occured while deleting any ovs interface a message will be
printed so the user can take action if necessary.

From Neutron-master:
    https://review.opendev.org/c/openstack/neutron/+/827158

(manually cherry picked from commit
9fcf42d3d524f03c8f49794bdd3730f654c146a1)

Change-Id: I0c1e49a8bf66937355c36fffebc96d281eb890f2
"
openstack%2Fcharm-ceph-dashboard~master~I8b998968aecf8f6d2485d4f5153211ceeac81b27,openstack/charm-ceph-dashboard,master,charmhub-migration-master,I8b998968aecf8f6d2485d4f5153211ceeac81b27,Migrate to charmhub,MERGED,2022-02-07 14:52:36.000000000,2022-02-10 08:55:51.000000000,2022-02-10 08:55:51.000000000,94,208,3,828159,011733c97f338ae97b1bfba56ea464fdc73f7092,19,3,3,11,31289,Aurelien Lourot,lourot,"Migrate to charmhub

Change-Id: I8b998968aecf8f6d2485d4f5153211ceeac81b27
"
openstack%2Fheat~master~Icaa8acc04019b67628e84b1fa252e3731d526f08,openstack/heat,master,py3-only,Icaa8acc04019b67628e84b1fa252e3731d526f08,Add Python 3 only classifier,MERGED,2022-02-08 14:05:33.000000000,2022-02-10 08:12:50.000000000,2022-02-10 08:11:05.000000000,1,0,2,828336,0fa19e7a93aba6750d5ee14d0e2fb9803bdcd61a,14,3,2,1,9816,Takashi Kajinami,kajinamit,"Add Python 3 only classifier

Python 2 support was removed during Ussuri cycle. This change adds
the classifier to clearly state that only Python 3 is supported.

Change-Id: Icaa8acc04019b67628e84b1fa252e3731d526f08
"
openstack%2Fcharm-ceph-mon~master~Iba8a0ff17ecd90eb8470953d56cd007d7b70b9cf,openstack/charm-ceph-mon,master,add-ceph-version-for-client,Iba8a0ff17ecd90eb8470953d56cd007d7b70b9cf,Add ceph version to ceph-client relation and update unittests,ABANDONED,2021-08-23 08:26:23.000000000,2022-02-10 08:05:24.000000000,,43,12,9,805600,de7600bdecb968574fad9ed4b200bb6895ca6ba6,22,5,5,2,31107,Xiyue Wang,ziyiwang,"Add ceph version to ceph-client relation and update unittests

Change-Id: Iba8a0ff17ecd90eb8470953d56cd007d7b70b9cf
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I108af0be37ab77510777168bb689b9d4718bc26a,openstack/tripleo-heat-templates,stable/wallaby,secure-rbac,I108af0be37ab77510777168bb689b9d4718bc26a,Implement project personas in custom designate policy file,MERGED,2021-11-19 20:37:10.000000000,2022-02-10 06:50:41.000000000,2022-02-10 06:50:41.000000000,97,112,4,818638,06e078464b24ffa3224538876ba48e8b6dfd56e7,14,7,1,1,5046,Lance Bragstad,ldbragst,"Implement project personas in custom designate policy file

This commit updates the default policies in enable-secure-rbac.yaml to
implement consistent project personas (project-admin, project-member,
and project-reader) with other OpenStack services. The project-admin is
still considered a system administrator.

This behavior will change in future releases when more OpenStack
services adopt system-scope. At that time, we can go back to using the
default designate policies.

Change-Id: I108af0be37ab77510777168bb689b9d4718bc26a
(cherry picked from commit bdbd440cb602e0cadd022b347abe23947fb7fa97)
"
openstack%2Fansible-collections-openstack~master~I6d9519988e98b10d0f7bd19b1387fb1f3b657046,openstack/ansible-collections-openstack,master,baremetal_port,I6d9519988e98b10d0f7bd19b1387fb1f3b657046,Add openstack.cloud.baremetal_port module,MERGED,2022-02-04 08:42:39.000000000,2022-02-10 06:43:52.000000000,2022-02-10 06:43:52.000000000,374,0,24,827816,0a7889b9a2fa3ed16daa1a495dc556991dde60e3,29,4,8,2,24245,Harald Jensås,harald.jensas,"Add openstack.cloud.baremetal_port module

Create, Update, Remove ironic ports from OpenStack.

NOTE: Does not support 'is_smart_nic', afict this is
      not implemented in openstacksdk.

Change-Id: I6d9519988e98b10d0f7bd19b1387fb1f3b657046
"
openstack%2Fswift~stable%2Fxena~Idb3efa94288fd2b7480057cb16f2f0b9c2911e25,openstack/swift,stable/xena,,Idb3efa94288fd2b7480057cb16f2f0b9c2911e25,Fix arm64 jobs on stable/xena,MERGED,2022-02-09 16:38:20.000000000,2022-02-10 06:28:01.000000000,2022-02-10 06:23:01.000000000,27,29,1,828588,71b491b057f23ac9dc1bb280780a4a1c5cf64cb9,11,2,1,1,15343,Tim Burke,tburke,"Fix arm64 jobs on stable/xena

This is a combination of 2 commits:

=====================

Make arm jobs voting (but not the pipeline)

Make the non-voting pipeline indicate failure when any of the jobs
fail.

Previously zuul would report ""Build succeeded (ARM64 pipeline).""
even when individual job(s) had failed. Now zuul will report
""Build failed (ARM64 pipeline)."" but the pipeline still does
vote on the patchset.

Related-Change: I84f59256df3aa41338df9829a565ae830ee8e847
(cherry picked from commit 346f518d6cd10b62c411fa2b5fb480b81905568a)

====================

Move CI from CentOS 8 to CentOS 8 Stream

See also: http://lists.opendev.org/pipermail/service-announce/2021-December/000029.html

Related-Change: Id34eea3f20621c2b25cc7753b1323d4ffb88f11b
(cherry picked from commit 546c9629ebf1831f7dca55ccd3f7b0e424a788b8)

====================

Change-Id: Idb3efa94288fd2b7480057cb16f2f0b9c2911e25
"
openstack%2Fironic~master~I5fa4b9f876be9e4f0276f123d5355cb2299517ec,openstack/ironic,master,policy_typo,I5fa4b9f876be9e4f0276f123d5355cb2299517ec,[trivial] Fix typo in policy error message,MERGED,2022-02-09 17:22:37.000000000,2022-02-10 06:15:59.000000000,2022-02-09 22:28:29.000000000,1,1,1,828593,34a582a0130c7a0eb1498638776351ee12e3eb1c,12,3,1,1,11292,Arne Wiebalck,wiebalck,"[trivial] Fix typo in policy error message

Change-Id: I5fa4b9f876be9e4f0276f123d5355cb2299517ec
"
openstack%2Fdiskimage-builder~master~I7d1b9f14ab83c3a8b488041b15e863e2c6d4c20c,openstack/diskimage-builder,master,f35-root-partition,I7d1b9f14ab83c3a8b488041b15e863e2c6d4c20c,[wip] fix f35 bootloader setup,ABANDONED,2021-11-22 04:24:29.000000000,2022-02-10 06:14:03.000000000,,35,35,1,818708,57eb46084101853e5dbbfc9581a0136fea4ed1bf,8,1,2,1,7118,Ian Wienand,iwienand,"[wip] fix f35 bootloader setup

Change-Id: I7d1b9f14ab83c3a8b488041b15e863e2c6d4c20c
Depends-On: https://review.opendev.org/c/zuul/nodepool/+/818705
"
openstack%2Fproject-config~master~Idfc714e5ea1e3e40158e1960d47b9a09aa056c25,openstack/project-config,master,debian-stretch-rm,Idfc714e5ea1e3e40158e1960d47b9a09aa056c25,Remove Debian stretch image builds,ABANDONED,2021-07-28 04:49:08.000000000,2022-02-10 05:42:13.000000000,,0,29,0,802655,62fb905b4a0d576e87ec19e7d3f83f7ba9aa23a9,7,1,1,2,7118,Ian Wienand,iwienand,"Remove Debian stretch image builds

Follow-on to Ic20cfc059d28c10befdf895e49a4c44a6061e1b8

Change-Id: Idfc714e5ea1e3e40158e1960d47b9a09aa056c25
"
openstack%2Fproject-config~master~Ic20cfc059d28c10befdf895e49a4c44a6061e1b8,openstack/project-config,master,debian-stretch-rm,Ic20cfc059d28c10befdf895e49a4c44a6061e1b8,Remove debian-stretch disk images,ABANDONED,2021-07-28 04:49:08.000000000,2022-02-10 05:41:55.000000000,,0,179,0,802654,45678bce89727626c28636f182aeaa21c9046c71,7,1,1,7,7118,Ian Wienand,iwienand,"Remove debian-stretch disk images

No longer used, see

 http://lists.openstack.org/pipermail/openstack-discuss/2021-July/023760.html

Depends-On: https://review.opendev.org/c/opendev/base-jobs/+/802639
Change-Id: Ic20cfc059d28c10befdf895e49a4c44a6061e1b8
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I8ee338c3f3e20f1826d98efb38d3b21fefda5031,openstack/tripleo-heat-templates,stable/ussuri,bug/1959726-stable/wallaby-stable/victoria-stable/ussuri,I8ee338c3f3e20f1826d98efb38d3b21fefda5031,Add parameter IronicIPXEUefiSnpOnly,MERGED,2022-02-05 04:17:31.000000000,2022-02-10 04:45:53.000000000,2022-02-10 04:43:19.000000000,21,0,1,827909,f95211e0119d00d179490310e1b562631b72237a,14,3,2,2,24245,Harald Jensås,harald.jensas,"Add parameter IronicIPXEUefiSnpOnly

Add new parameter IronicIPXEUefiSnpOnly (default: true).
When `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi
is used.

'snponly.efi' is the default in puppet-ironic master branch, however
in Wallaby and earlier releases 'ipxe.efi' is the default. Since
'ipxe.efi' is not compatible with a lot of hardware TripleO should
change this default.

Conflicts:
  deployment/ironic/ironic-conductor-container-puppet.yaml

Related: RHBZ#2049179
Closes-Bug: 1959726
Change-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031
(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I1419c1bb901b3fb7ca038c941c230691aff2ebbd,openstack/tripleo-heat-templates,stable/wallaby,,I1419c1bb901b3fb7ca038c941c230691aff2ebbd,Disable heat by default in favor of ephemeral-heat.,MERGED,2022-02-07 06:30:06.000000000,2022-02-10 04:43:25.000000000,2022-02-10 04:43:25.000000000,5,0,4,827955,126ef5ae87da7fa26dcd268a577685b43eb7705d,15,9,1,1,26343,Jose Luis Franco,jfrancoa,"Disable heat by default in favor of ephemeral-heat.

Now that the default way to deploy heat is using the ephemeral-heat
service, we are not required to pass a specific environment file to
ensure the service gets disabled for the Undercloud.

This patch moves the content from disable-heat.yaml environment file
into the services default's for the undercloud with the intention of
stopping passing it by default when enable_heat is not passed.

Change-Id: I1419c1bb901b3fb7ca038c941c230691aff2ebbd
(cherry picked from commit ec33ab40488efacaf98e31852b280947ee73bff8)
"
openstack%2Fpuppet-cinder~master~I7fa79a9a610c796b329f80b6f7e471bdbfe72c3e,openstack/puppet-cinder,master,amqp_allow_insecure_clients,I7fa79a9a610c796b329f80b6f7e471bdbfe72c3e,Remove deprecated amqp_allow_insecure_clients,MERGED,2022-02-08 12:58:41.000000000,2022-02-10 03:33:36.000000000,2022-02-10 03:30:44.000000000,4,10,3,828301,dc226366a6f921204461cee48a5a93533178268d,14,3,1,2,9816,Takashi Kajinami,kajinamit,"Remove deprecated amqp_allow_insecure_clients

... because it was deprecated during Wallaby cycle.

Change-Id: I7fa79a9a610c796b329f80b6f7e471bdbfe72c3e
"
openstack%2Fswift~master~I4e1db60c7bd1e1888d641e9a4c9f40b0bd20f03d,openstack/swift,master,,I4e1db60c7bd1e1888d641e9a4c9f40b0bd20f03d,CI: fix lower-constraints job,MERGED,2022-02-09 19:03:51.000000000,2022-02-10 03:13:04.000000000,2022-02-10 02:27:47.000000000,1,0,3,828604,086aa5c4f3aa74648d090af297c411b54ea7bf3a,11,2,1,1,15343,Tim Burke,tburke,"CI: fix lower-constraints job

Newer pathlib2 doesn't work with our ancient six.

Change-Id: I4e1db60c7bd1e1888d641e9a4c9f40b0bd20f03d
"
openstack%2Fneutron~master~I23ec8e6234af6c87214862113b6bdb4c5dba6d23,openstack/neutron,master,dnm-testing-delete-admin-networks,I23ec8e6234af6c87214862113b6bdb4c5dba6d23,DNM: testing delete-admin-networks tempest patch,ABANDONED,2020-04-27 15:45:59.000000000,2022-02-10 01:26:11.000000000,,1,0,0,723589,eb71c546fb59e57519e5b3051b401b4e6e040c8d,40,6,1,1,1131,Brian Haley,brian-haley,"DNM: testing delete-admin-networks tempest patch

Depends-on: https://review.opendev.org/723587
Change-Id: I23ec8e6234af6c87214862113b6bdb4c5dba6d23
"
openstack%2Ftripleo-ansible~master~Ifcbde65af99039a261bc34a813bddfb29f63c1e1,openstack/tripleo-ansible,master,bug/1959731,Ifcbde65af99039a261bc34a813bddfb29f63c1e1,tuned - check packages before install,MERGED,2022-02-02 22:27:23.000000000,2022-02-10 01:16:49.000000000,2022-02-10 01:14:12.000000000,14,6,6,827567,5c09c0ee0292be370455b79e4bd4991b513b8017,26,6,4,2,24245,Harald Jensås,harald.jensas,"tuned - check packages before install

When repository files are present, but the ctlplane is not on a
routed network. (I.e the node cannot connect to repositories.)
The ansible built in `package` will fail despite the fact that
the packages is already installed.

This change adds a task to check that the packages required are
installed using `rpm --query --whatprovides <PGK_LIST>`. Pacage
installation task is skipped if package already installed.

Related: RHBZ#2048134
Related-Bug: #1959731
Change-Id: Ifcbde65af99039a261bc34a813bddfb29f63c1e1
"
openstack%2Ftripleo-ansible~master~Ie448e8f795325cc3ae357fae32f3a47406101f25,openstack/tripleo-ansible,master,bug/1959731,Ie448e8f795325cc3ae357fae32f3a47406101f25,tripleo-bootstrap - check packeges fact befor install,MERGED,2022-02-02 02:06:58.000000000,2022-02-10 01:15:42.000000000,2022-02-10 01:14:08.000000000,46,5,40,827383,37fac649388e0bf39326bdaaefa5a104b6ef264c,69,7,6,2,24245,Harald Jensås,harald.jensas,"tripleo-bootstrap - check packeges fact befor install

When repository files are present, but the ctlplane is not on a
routed network. (I.e the node cannot connect to repositories.)
The ansible built in `package` will fail despite the fact that
the packages is already installed.

This change adds a task to check that the packages required are
isntalled using `rpm --query --whatprovides <PGK_LIST>`.
`--whatprovides` is used to find out if a wrapper rpm for OVS with
custom versioning scheme is installed. If a wrapper is installed
'openvswitch' is appended to the list of installed packages.

Related: RHBZ#2048134
Closes-Bug: #1959731
Change-Id: Ie448e8f795325cc3ae357fae32f3a47406101f25
"
openstack%2Fcharm-rabbitmq-server~master~Ia92c8d8544534ffcab9a7fd31ba6f35a3bf076ca,openstack/charm-rabbitmq-server,master,bug/1902793,Ia92c8d8544534ffcab9a7fd31ba6f35a3bf076ca,Charmhelper sync pulling coordinator,MERGED,2022-01-07 13:47:41.000000000,2022-02-10 01:15:17.000000000,2022-02-10 01:15:17.000000000,1074,436,2,823799,c63cd1b99f32c508219419bdc623fcdbe9c6af35,14,3,2,46,12549,gnuoy,gnuoy,"Charmhelper sync pulling coordinator

Change-Id: Ia92c8d8544534ffcab9a7fd31ba6f35a3bf076ca
"
openstack%2Fpuppet-tripleo~master~I7812caf5472a711c14f8619dc4b9894fb73e9c70,openstack/puppet-tripleo,master,,I7812caf5472a711c14f8619dc4b9894fb73e9c70,Remove unused puppet-keepalived,MERGED,2022-02-05 14:53:34.000000000,2022-02-10 01:14:14.000000000,2022-02-10 01:14:14.000000000,0,5,0,827975,aee66b92271810a64ccf5e1442ed65b42dc263cc,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Remove unused puppet-keepalived

The puppet-keepalived module is no longer used, since we removed
support for the keepalived service[1][2].

[1] 573832124a6de8cdca08f6cbf073ea5b3575bd73 (removal)
[2] 751c6f016466b3b3c51c5bad5ce21e5e5733c592 (follow-up)
Change-Id: I7812caf5472a711c14f8619dc4b9894fb73e9c70
"
openstack%2Fswift~stable%2Fxena~I84f59256df3aa41338df9829a565ae830ee8e847,openstack/swift,stable/xena,,I84f59256df3aa41338df9829a565ae830ee8e847,Make arm jobs voting (but not the pipeline),ABANDONED,2022-02-09 16:21:02.000000000,2022-02-10 00:49:20.000000000,,5,10,2,828584,59e9d1759f15821791e78300605f45e7ac395057,4,1,1,1,15343,Tim Burke,tburke,"Make arm jobs voting (but not the pipeline)

Make the non-voting pipeline indicate failure when any of the jobs
fail.

Previously zuul would report ""Build succeeded (ARM64 pipeline).""
even when individual job(s) had failed. Now zuul will report
""Build failed (ARM64 pipeline)."" but the pipeline still does
vote on the patchset.

Change-Id: I84f59256df3aa41338df9829a565ae830ee8e847
"
openstack%2Fswift~stable%2Fxena~Id34eea3f20621c2b25cc7753b1323d4ffb88f11b,openstack/swift,stable/xena,,Id34eea3f20621c2b25cc7753b1323d4ffb88f11b,Move CI from CentOS 8 to CentOS 8 Stream,ABANDONED,2022-02-09 16:21:02.000000000,2022-02-10 00:49:04.000000000,,23,20,0,828585,7897b3ca5a415bf0bf234a644385030173d21a8f,4,1,1,1,15343,Tim Burke,tburke,"Move CI from CentOS 8 to CentOS 8 Stream

See also: http://lists.opendev.org/pipermail/service-announce/2021-December/000029.html

Change-Id: Id34eea3f20621c2b25cc7753b1323d4ffb88f11b
"
openstack%2Fskyline-apiserver~master~I150064a8a0175b073c2cb31303a812763cb02f78,openstack/skyline-apiserver,master,,I150064a8a0175b073c2cb31303a812763cb02f78,fix: update skyline nginx log file address,MERGED,2022-02-09 08:46:29.000000000,2022-02-10 00:47:06.000000000,2022-02-10 00:47:06.000000000,3,3,1,828485,14433d9774e51b576c1ce4f5e472ad90c93f1394,7,2,1,2,33196,conna,yangshaoxue,"fix: update skyline nginx log file address

Update skyline nginx log file address

Change-Id: I150064a8a0175b073c2cb31303a812763cb02f78
"
openstack%2Fneutron~stable%2Fwallaby~Ib392b46308aaf76386a747870c5600790a268d51,openstack/neutron,stable/wallaby,overlapping-secgroup-logging-stable/wallaby,Ib392b46308aaf76386a747870c5600790a268d51,[OVN] Fix overlapping security group objects not correctly applied,MERGED,2022-01-30 20:27:41.000000000,2022-02-10 00:47:06.000000000,2022-02-10 00:45:09.000000000,81,4,13,826848,feacbf58dda81580d0d1a6a9c7486ce33645d8fe,68,4,1,2,32586,Elvira García Ruiz,elvira,"[OVN] Fix overlapping security group objects not correctly applied

If a security group object modified an Access Control List in OVN, it
could not be modified by another object. This change prevents the driver
from associating more ACLs than needed if the network log object created
is to log the dropped traffic. Functional tests consider the existence
of events now.

Closes-Bug: #1956763
Change-Id: Ib392b46308aaf76386a747870c5600790a268d51
(cherry picked from commit 522837a97f20d1d9325f7d0719811e263d3fd1c3)
"
openstack%2Fpython-tripleoclient~master~I56cf4f51cea9db3611a321980ec4d728312848b5,openstack/python-tripleoclient,master,novajoin-cleanup-default,I56cf4f51cea9db3611a321980ec4d728312848b5,Undercloud: Remove redundant environment file,MERGED,2022-02-02 15:33:54.000000000,2022-02-10 00:30:23.000000000,2022-02-10 00:28:33.000000000,0,29,4,827518,74b15f794b6b4fc62c1bfee243c4dd5538974363,23,4,2,2,9816,Takashi Kajinami,kajinamit,"Undercloud: Remove redundant environment file

The UndercloudRemoveNovajoin service is now enabled by default in
undercloud. We don't need to include an environment file to enable
the resource.

Depends-on: https://review.opendev.org/827517
Change-Id: I56cf4f51cea9db3611a321980ec4d728312848b5
"
openstack%2Fneutron~master~If14ccff79f77618133cce4bf95e3f1eea7ba8cf3,openstack/neutron,master,bug/1947334,If14ccff79f77618133cce4bf95e3f1eea7ba8cf3,[OVN][QoS] Add external_ids reference to port QoS registers,MERGED,2021-12-22 16:02:40.000000000,2022-02-09 23:52:09.000000000,2022-02-05 00:36:50.000000000,83,12,2,822729,ce7f2795384e05b7e086bdab41226a69708dfdc5,31,8,5,5,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN][QoS] Add external_ids reference to port QoS registers

Same as with floating IP QoS OVN registers, port QoSes should have a
""external_ids"" reference to the port ID this QoS is attached to.

Related-Bug: #1947334
Change-Id: If14ccff79f77618133cce4bf95e3f1eea7ba8cf3
"
openstack%2Fnova~master~I8afe755732c95d023b7c4bd99964507f54d324f1,openstack/nova,master,bp/multiqueue-flavor-extra-spec,I8afe755732c95d023b7c4bd99964507f54d324f1,doc: Correct version for virtio-net multiqueue,MERGED,2022-02-09 18:13:36.000000000,2022-02-09 23:08:22.000000000,2022-02-09 21:32:35.000000000,2,2,1,828601,c9a0c7da9bd945b1693b4210f57717d650e224d2,11,2,1,1,15334,Stephen Finucane,sfinucan,"doc: Correct version for virtio-net multiqueue

This was eventually added in Yoga, not Xena.

Change-Id: I8afe755732c95d023b7c4bd99964507f54d324f1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I4cad2111065fbc1840d44fc9f4bf6ac585e18db6,openstack/nova,master,bp/multiqueue-flavor-extra-spec,I4cad2111065fbc1840d44fc9f4bf6ac585e18db6,docs: Document virtio-net multiqueue,MERGED,2021-05-20 11:44:57.000000000,2022-02-09 23:08:10.000000000,2022-02-09 21:32:28.000000000,90,0,24,792362,95157314bddd7eacc325f3f47a046f907abd8a87,57,6,9,1,15334,Stephen Finucane,sfinucan,"docs: Document virtio-net multiqueue

Mostly copy-paste from the spec, but at least this is in-tree and
updatable.

Change-Id: I4cad2111065fbc1840d44fc9f4bf6ac585e18db6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fproject-config~master~Ifbc42fb7e5fc520cb539bad6b8fa5898b6d37c34,openstack/project-config,master,,Ifbc42fb7e5fc520cb539bad6b8fa5898b6d37c34,Add zuul-web stats to zuul-status page,MERGED,2022-02-09 21:02:10.000000000,2022-02-09 22:45:02.000000000,2022-02-09 22:38:29.000000000,19,0,0,828609,c36bb59458b2bbf7fbc5eef6f465251a16183def,9,3,2,1,1,James E. Blair,corvus,"Add zuul-web stats to zuul-status page

This adds some newly created stats (which are already being recorded
in grafana).

Change-Id: Ifbc42fb7e5fc520cb539bad6b8fa5898b6d37c34
"
openstack%2Ftripleo-heat-templates~master~Ia69436808b0d739c41c4980bacaf4f510f3762f9,openstack/tripleo-heat-templates,master,placement-header-parsing,Ia69436808b0d739c41c4980bacaf4f510f3762f9,Placement: Enable proxy headers parsing,MERGED,2022-01-23 13:41:49.000000000,2022-02-09 22:35:36.000000000,2022-02-09 22:35:36.000000000,1,0,3,825962,3f7db6a9abda3b4a57fc1a5f7254f4b17b0c12b0,25,5,2,1,9816,Takashi Kajinami,kajinamit,"Placement: Enable proxy headers parsing

... so that the actual client ip, instead of haproxy ip, is logged in
placement logs.

Depends-on: https://review.opendev.org/800690
Change-Id: Ia69436808b0d739c41c4980bacaf4f510f3762f9
"
openstack%2Fneutron~master~I0391dd24224f8656a09ddb002e7dae8783ba37a4,openstack/neutron,master,bug/1930414,I0391dd24224f8656a09ddb002e7dae8783ba37a4,"Make sure ""dead vlan"" ports cannot transmit packets",MERGED,2022-02-01 16:09:01.000000000,2022-02-09 22:26:41.000000000,2022-02-08 00:14:14.000000000,71,77,44,827315,0ddca284542aed89df4a22607a2da03f193f083c,94,8,12,10,5948,Oleg Bondarev,obondarev,"Make sure ""dead vlan"" ports cannot transmit packets

https://review.opendev.org/c/openstack/neutron/+/820897 added
a dead vlan flow that pushes the dead vlan tag onto frames
belonging to dead ports before these ports are reassigned to
their proper vlans. However add_flow and delete_flows race and
delete_flows may run before add_flow, in this case deleting 0 flows
but not giving us a chance to detect this: neither does it throw
an error nor does it return the number of deleted flows.
This leads to port staying inaccessible forever and hence
breaks corresponding DHCP or router.

Current patch suggests another approach to make sure no packets are
leaked from newly plugged ports: setting their ""vlan_mode"" attribute
to ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).
With this OVS normal pipeline will allow only packets tagged with 4095
from such ports [1], which normally not happens, but even if it does -
default rule in br-int will drop them anyway.
Thus untagged packets from such ports will also be dropped until
ovs agent sets proper VLAN tag and clears vlan_mode to default
(""access"").

This approach avoids the race between dhcp/l3 and ovs agents because
dhcp/l3 agents no longer modify flow table.

This partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004

[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline

Closes-Bug: #1930414
Closes-Bug: #1959564
Change-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4
"
openstack%2Foctavia~stable%2Fwallaby~Ia6bc6eee3df30bfb3c0acccf902267fd2a4d37f6,openstack/octavia,stable/wallaby,,Ia6bc6eee3df30bfb3c0acccf902267fd2a4d37f6,Fix nft command line with negative priority values,MERGED,2021-12-06 15:26:56.000000000,2022-02-09 21:52:27.000000000,2022-02-09 21:48:18.000000000,4,4,0,820537,1efeb8d5a4a2e1c2f7e06b831b2c1d3555c0ab8a,9,4,1,1,29244,Gregory Thiemonge,gthiemonge,"Fix nft command line with negative priority values

When using nft with negative priority values it is recommended to use --
to prevent the parser to interpret the value as an argument.

Story 2009710
Task 44065

Change-Id: Ia6bc6eee3df30bfb3c0acccf902267fd2a4d37f6
(cherry picked from commit 4791cfe93cdde2cb375033164c3bf51e8c65f4c4)
(cherry picked from commit b47d5dfcf8bfd0502c08a200056e21efe22d8d75)
"
openstack%2Fpuppet-ceilometer~stable%2Fwallaby~Id8e9277d4699be3aa6b92dd49b3c24f54316eab1,openstack/puppet-ceilometer,stable/wallaby,,Id8e9277d4699be3aa6b92dd49b3c24f54316eab1,Bugfix - Deprecated notification_workers is ignored,MERGED,2022-02-08 23:46:35.000000000,2022-02-09 21:41:58.000000000,2022-02-09 21:41:58.000000000,1,1,0,828397,5023b085c863bd944391ad6d763d590eccf778a9,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Bugfix - Deprecated notification_workers is ignored

Change-Id: Id8e9277d4699be3aa6b92dd49b3c24f54316eab1
(cherry picked from commit 0c04ba25d2eb37b89527f054879ab2818676f7ae)
(cherry picked from commit 89cfedff0ba7ed8f57a115031ed2f7e23e8da953)
"
openstack%2Fpuppet-ceilometer~stable%2Fxena~Id8e9277d4699be3aa6b92dd49b3c24f54316eab1,openstack/puppet-ceilometer,stable/xena,,Id8e9277d4699be3aa6b92dd49b3c24f54316eab1,Bugfix - Deprecated notification_workers is ignored,MERGED,2022-02-08 23:45:18.000000000,2022-02-09 21:37:55.000000000,2022-02-09 21:37:55.000000000,1,1,1,828396,89cfedff0ba7ed8f57a115031ed2f7e23e8da953,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Bugfix - Deprecated notification_workers is ignored

Change-Id: Id8e9277d4699be3aa6b92dd49b3c24f54316eab1
(cherry picked from commit 0c04ba25d2eb37b89527f054879ab2818676f7ae)
"
openstack%2Fplacement~master~Ifa2c55a77b34d7579e38e6618c361b9494553858,openstack/placement,master,any-traits-support,Ifa2c55a77b34d7579e38e6618c361b9494553858,Refactor trait normalization,MERGED,2022-01-21 18:21:38.000000000,2022-02-09 21:34:46.000000000,2022-02-09 21:32:24.000000000,94,11,16,825847,7e3602b35f1919a9693b2e55669816671d0d1c5f,19,3,5,4,9708,Balazs Gibizer,gibi,"Refactor trait normalization

This prepares for the changes necessary to support multiple `required`
query params and then `in:` syntax.

Story: 2005345
Story: 2005346
Change-Id: Ifa2c55a77b34d7579e38e6618c361b9494553858
"
openstack%2Fcharm-ironic-conductor~master~Ie4b6a2f7b15725708c561245fb211bc97dd80e4e,openstack/charm-ironic-conductor,master,charmhub-migration,Ie4b6a2f7b15725708c561245fb211bc97dd80e4e,Use non-promulgated charms from Charmhub,MERGED,2022-02-08 19:11:12.000000000,2022-02-09 21:31:30.000000000,2022-02-09 21:31:30.000000000,9,8,5,828411,cea031086933328acee47e548d927d9aa85041c7,18,3,3,5,2424,Felipe Reyes,freyes,"Use non-promulgated charms from Charmhub

ironic related charms were promulgated after the Charmhub took a snapshot of
the charmstore, so they only exist in the charmhub with the prefix
openstack-charmers-next-* (devel version) or openstack-charmers-*
(stable version)

Also fix the building adding libffi-dev to build-dependencies.

Change-Id: Ie4b6a2f7b15725708c561245fb211bc97dd80e4e
"
openstack%2Frequirements~master~I02e60e2fd0a3e35e4de2ef8b906434d155a3ced5,openstack/requirements,master,new-release,I02e60e2fd0a3e35e4de2ef8b906434d155a3ced5,update constraint for etcd3gw to new release 1.0.1,MERGED,2022-02-09 09:18:36.000000000,2022-02-09 21:28:36.000000000,2022-02-09 21:25:15.000000000,1,1,0,828502,187496769789eb2e3a2a99f0f4ef38e96241fd4a,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for etcd3gw to new release 1.0.1

meta: version: 1.0.1
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I89863c57f449cfad2903f6832ee89e95f039b911
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I02e60e2fd0a3e35e4de2ef8b906434d155a3ced5
"
openstack%2Fkeystone~master~If71cb5f1323762c7e2110942e9558f9c69e3bcb2,openstack/keystone,master,bp/remove-sqlalchemy-migrate,If71cb5f1323762c7e2110942e9558f9c69e3bcb2,sql: Add initial Yoga migration branches,MERGED,2022-01-21 17:46:19.000000000,2022-02-09 21:27:46.000000000,2022-02-09 21:25:08.000000000,56,0,0,825842,3b24c79331613d753e7157c58a531b707eea9161,12,3,2,4,15334,Stephen Finucane,sfinucan,"sql: Add initial Yoga migration branches

This adds initial no-op migrations for the Yoga release and is modeled
on neutron changes I3823900bc5aaf7757c37edb804027cf4d9c757ab (which
created the '$RELEASE/expand' and '${RELEASE}/contract' directory
structure) and Ie4b727e55a0b1ecb12e915a0037094a928d8f975 (which created
the 'EXPAND_HEAD' and 'CONTRACT_HEAD' files.

Change-Id: If71cb5f1323762c7e2110942e9558f9c69e3bcb2
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Frequirements~master~Ieedf3a201d756a4f0efab4a8dabf5e542377eafb,openstack/requirements,master,new-release,Ieedf3a201d756a4f0efab4a8dabf5e542377eafb,update constraint for tooz to new release 2.10.1,MERGED,2022-02-09 09:17:34.000000000,2022-02-09 21:27:04.000000000,2022-02-09 21:25:11.000000000,1,1,0,828501,821dd9921711e4bccf6f9933931c6c34db2408da,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for tooz to new release 2.10.1

meta: version: 2.10.1
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I89863c57f449cfad2903f6832ee89e95f039b911
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ieedf3a201d756a4f0efab4a8dabf5e542377eafb
"
openstack%2Fkeystone~master~Ib3c4c36755d9d48ec9e9b759f394b5e429a0907b,openstack/keystone,master,bp/remove-sqlalchemy-migrate,Ib3c4c36755d9d48ec9e9b759f394b5e429a0907b,sql: Add additional changes to initial alembic migration,MERGED,2022-01-14 19:14:29.000000000,2022-02-09 21:18:12.000000000,2022-02-09 21:15:00.000000000,1,1,3,824791,b547f6727d8dc1a4d5d64932c2a8e447c05d7b94,26,3,5,1,15334,Stephen Finucane,sfinucan,"sql: Add additional changes to initial alembic migration

By which we mean 079, which changed the size of the 'local_id' column in
the 'id_mapping' table.

This is kept separate to make diffing the original migration somewhat
simpler. It's okay to do this because no one is using these yet.

Change-Id: Ib3c4c36755d9d48ec9e9b759f394b5e429a0907b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftacker~master~I11b1894ea7e6c1f0edc228381f98b69dd331f006,openstack/tacker,master,refactoring,I11b1894ea7e6c1f0edc228381f98b69dd331f006,Tiny refactoring for controller,MERGED,2022-02-04 05:03:05.000000000,2022-02-09 21:16:37.000000000,2022-02-09 21:14:22.000000000,22,19,7,827795,30c13cdb0ecdc8b7121e0664367d0e9c758efe97,15,5,3,1,33455,Hiromu Asahina,h_asahina,"Tiny refactoring for controller

In the current controller, `operation_state` and `notification_status`
for the notification are implicitly set in some places. This is
confusing as a developer cannot quickly understand the next state and
notification status.

This patch changes them to explicitly specify the operation_state and
notification_status.

Change-Id: I11b1894ea7e6c1f0edc228381f98b69dd331f006
"
openstack%2Fkeystone~master~Ie58eb1712399500cc0ef37144f4d6338a5bccc88,openstack/keystone,master,bp/remove-sqlalchemy-migrate,Ie58eb1712399500cc0ef37144f4d6338a5bccc88,sql: Populate initial alembic migration,MERGED,2022-01-14 19:14:29.000000000,2022-02-09 21:16:11.000000000,2022-02-09 21:13:14.000000000,1109,30,0,824790,afce7ca8eb70a8be7dfa58b206d7054f1f5df2a4,19,3,5,3,15334,Stephen Finucane,sfinucan,"sql: Populate initial alembic migration

Change-Id: Ie58eb1712399500cc0ef37144f4d6338a5bccc88
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fkeystone~master~Ib25c75a99794a04b6549e6b5184a2029955befc1,openstack/keystone,master,bp/remove-sqlalchemy-migrate,Ib25c75a99794a04b6549e6b5184a2029955befc1,sql: Vendor 'oslo_db.sqlalchemy.migration',MERGED,2022-01-19 18:50:03.000000000,2022-02-09 21:14:10.000000000,2022-02-09 21:11:28.000000000,386,43,6,825378,0b906c65294ac9f0723ab9f598f7f9f4c660d667,24,4,5,5,15334,Stephen Finucane,sfinucan,"sql: Vendor 'oslo_db.sqlalchemy.migration'

This is deprecated and will be removed in a future release of oslo.db.
Even without that stick to prod us, we're going to need to use some of
the sqlalchemy-migrate APIs and it's simpler to talk to this for
everything rather than using oslo.db for some stuff and
sqlalchemy-migrate for the remainder.

Change-Id: Ib25c75a99794a04b6549e6b5184a2029955befc1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstacksdk~master~Idc4a563c0f074658452590118e558f389f541358,openstack/openstacksdk,master,nodepool-test,Idc4a563c0f074658452590118e558f389f541358,Restore get_compute_limits backward compatibility,MERGED,2022-01-28 16:57:47.000000000,2022-02-09 21:14:09.000000000,2022-02-09 21:11:25.000000000,36,27,0,826920,26a5d10dffeebdd534976001c0b8cb102e52ec49,10,3,2,3,27900,Artem Goncharov,gtema,"Restore get_compute_limits backward compatibility

get_compute_limits used to return absolute limits. Nodepool is currently
relying on this interface.

- restore function to return absolute limits
- add ""aka"" access to attributes with old ""normalized"" names

Change-Id: Idc4a563c0f074658452590118e558f389f541358
"
openstack%2Fnova~master~Iffb9ff2e300213ec01cccaf3b967e73331c9c9ff,openstack/nova,master,optional-dependencies,Iffb9ff2e300213ec01cccaf3b967e73331c9c9ff,tox: Install extras,MERGED,2021-12-22 17:20:11.000000000,2022-02-09 21:14:08.000000000,2022-02-09 21:09:26.000000000,30,1,5,822750,4b2aa93158940890a28e9e8c1a94ad93abbecb93,55,7,3,1,15334,Stephen Finucane,sfinucan,"tox: Install extras

Install these via tox.ini when required. Note that we don't add them to
'test-requirements.txt' since packagers consume those and would be
forced to package these dependencies or modify this file.

A small bug in the tox file is corrected: you can't share an environment
directory if the dependencies in that directory are different. As such,
pep8 must go in its own directory again, not the 'shared' directory.

Change-Id: Iffb9ff2e300213ec01cccaf3b967e73331c9c9ff
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~Ic3b257c799fe1669933c13f9571208740cd1cd1a,openstack/nova,master,optional-dependencies,Ic3b257c799fe1669933c13f9571208740cd1cd1a,requirements: Bump minimum testtools to 2.5.0,MERGED,2021-12-23 11:08:25.000000000,2022-02-09 21:12:01.000000000,2022-02-09 21:09:12.000000000,2,2,13,822820,ff1dbb5eb4525a5e63fb04daae1297e770688862,105,7,2,2,15334,Stephen Finucane,sfinucan,"requirements: Bump minimum testtools to 2.5.0

This release removed the use of unittest2 in favour of the stdlib
unittest module. unittest2 hasn't been maintained in years and has some
quirky behavior differences to stdlib unittest. By bumping to 2.5.0, we
avoid anyone having to use this.

Change-Id: Ic3b257c799fe1669933c13f9571208740cd1cd1a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fkeystone~master~Iad00d202c41e6c06fe81eb60e0bfe7296ae91888,openstack/keystone,master,bp/remove-sqlalchemy-migrate,Iad00d202c41e6c06fe81eb60e0bfe7296ae91888,sql: Move test-only code to tests,MERGED,2022-01-21 17:46:19.000000000,2022-02-09 21:11:31.000000000,2022-02-09 21:11:31.000000000,53,42,1,825841,1885f81576f6cf9231d34454ba462b571fb117a9,14,3,2,2,15334,Stephen Finucane,sfinucan,"sql: Move test-only code to tests

Also remove more dead code.

Change-Id: Iad00d202c41e6c06fe81eb60e0bfe7296ae91888
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I3787f9afd78cd0a7c7feb4dfe1bcb21437b5a128,openstack/nova,master,optional-dependencies,I3787f9afd78cd0a7c7feb4dfe1bcb21437b5a128,Move optional build dependencies to 'extras',MERGED,2021-12-22 17:20:11.000000000,2022-02-09 21:09:19.000000000,2022-02-09 21:09:19.000000000,78,9,8,822749,86d87be8db588cc3125d53cd92e271fb45b1a3aa,62,5,3,7,15334,Stephen Finucane,sfinucan,"Move optional build dependencies to 'extras'

...and start skipping the relevant tests in 'nova.tests.unit.virt' if
these dependencies are not present. Thanks to hacking rules N311 and
N312, which prevent virt drivers using code from other virt drivers,
simply skipping the unit tests for a virt driver module is enough to
ensure we never load those modules.

This means users that want to use the powervm driver can install the
required dependencies using e.g. 'pip install .[powervm]', and packagers
can choose to skip packaging a dependency safe in the knowledge that the
relevant tests will be skipped.

Change-Id: I3787f9afd78cd0a7c7feb4dfe1bcb21437b5a128
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~Ica09376951d49bc60ce6e33147477e4fa38b9482,openstack/nova,master,2021-09-10-off-path-net-backends-dep,Ica09376951d49bc60ce6e33147477e4fa38b9482,[yoga] Add support for VNIC_REMOTE_MANAGED,MERGED,2022-01-16 20:56:26.000000000,2022-02-09 21:05:35.000000000,2022-02-09 21:00:40.000000000,200,10,87,824835,0620678344d0f032a33e952d4d0fa653741f09e7,141,3,15,15,24824,Dmitrii Shcherbakov,dmitriis,"[yoga] Add support for VNIC_REMOTE_MANAGED

Allow instances to be created with VNIC_TYPE_REMOTE_MANAGED ports.
Those ports are assumed to require remote-managed PCI devices which
means that operators need to tag those as ""remote_managed"" in the PCI
whitelist if this is the case (there is no meta information or standard
means of querying this information).

The following changes are introduced:

* Handling for VNIC_TYPE_REMOTE_MANAGED ports during allocation of
  resources for instance creation (remote_managed == true in
  InstancePciRequests);

* Usage of the noop os-vif plugin for VNIC_TYPE_REMOTE_MANAGED ports
  in order to avoid the invocation of the local representor plugging
  logic since a networking backend is responsible for that in this
  case;

* Expectation of bind time events for ports of VNIC_TYPE_REMOTE_MANAGED.
  Events for those arrive early from Neutron after a port update (before
  Nova begins to wait in the virt driver code, therefore, Nova is set
  to avoid waiting for plug events for VNIC_TYPE_REMOTE_MANAGED ports;

* Making sure the service version is high enough on all compute services
  before creating instances with ports that have VNIC type
  VNIC_TYPE_REMOTE_MANAGED. Network requests are examined for the presence
  of port ids to determine the VNIC type via Neutron API. If
  remote-managed ports are requested, a compute service version check
  is performed across all cells.

Change-Id: Ica09376951d49bc60ce6e33147477e4fa38b9482
Implements: blueprint integration-with-off-path-network-backends
"
openstack%2Fpython-openstackclient~master~I4e1a0aed09ea5d6a8c26ec3e888c9c7b6cefc25a,openstack/python-openstackclient,master,trivial,I4e1a0aed09ea5d6a8c26ec3e888c9c7b6cefc25a,image: Sanity check the 'SetImage' command,MERGED,2021-11-17 11:42:15.000000000,2022-02-09 21:05:22.000000000,2022-02-09 21:00:49.000000000,53,49,0,818226,61fac5b79e2e4a4120046b2f830e4745bb383fb3,7,2,1,2,15334,Stephen Finucane,sfinucan,"image: Sanity check the 'SetImage' command

This was a very difficult command to grok, due to the layering on of
additional features over the years. Make this a little easier to follow
by grouping related logic and making use of argparse features.

Change-Id: I4e1a0aed09ea5d6a8c26ec3e888c9c7b6cefc25a
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpython-openstackclient~stable%2Fwallaby~Ie0251a0dccdf3385089e5bbaedf646a5e928cc48,openstack/python-openstackclient,stable/wallaby,bug/1946816,Ie0251a0dccdf3385089e5bbaedf646a5e928cc48,compute: Fix filtering servers by tags,MERGED,2021-10-13 11:51:43.000000000,2022-02-09 21:03:33.000000000,2022-02-09 21:00:52.000000000,10,4,0,813804,3f4142d5ddfca8c594d35bb0e5fd65009286d11b,7,2,1,3,15334,Stephen Finucane,sfinucan,"compute: Fix filtering servers by tags

The nova API expects the 'tags' and 'not-tags' filters of the 'GET
/servers' (list servers) API to be a CSV string [1]:

  tags (Optional)
    A list of tags to filter the server list by. Servers that match all
    tags in this list will be returned. Boolean expression in this case
    is 't1 AND t2'. Tags in query must be separated by comma.

    New in version 2.26

  not-tags (Optional)
    A list of tags to filter the server list by. Servers that don’t
    match all tags in this list will be returned. Boolean expression in
    this case is 'NOT (t1 AND t2)'. Tags in query must be separated by
    comma.

    New in version 2.26

We were instead providing a Python list, which was simply being URL
encoded. Correct this.

[1] https://docs.openstack.org/api-ref/compute/?expanded=list-servers-detail#list-servers

Change-Id: Ie0251a0dccdf3385089e5bbaedf646a5e928cc48
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1946816
(cherry picked from commit 53debe7fe1978f661768a27430f646a288948ecc)
(cherry picked from commit cbc64f9469600624e74631f42ca214487e800155)
"
openstack%2Fpython-openstackclient~master~I92ee74a1df72a6dd23f9d2dc04342aab0cbd3210,openstack/python-openstackclient,master,trivial,I92ee74a1df72a6dd23f9d2dc04342aab0cbd3210,tests: Update fake image client in tests,MERGED,2021-11-17 11:42:15.000000000,2022-02-09 21:03:32.000000000,2022-02-09 21:00:46.000000000,28,36,0,818225,1feb676469f7ccd6a022027bf2e1ecee9cf6d548,7,2,1,4,15334,Stephen Finucane,sfinucan,"tests: Update fake image client in tests

These clients are intended to fake out the old glanceclient client which
we no longer use. They were only ""working"" because we weren't actually
using any of the glancelclient-based stuff and were instead overriding
everything within the tests. Move these overrides back to the main
fake client and remove the crud.

Change-Id: I92ee74a1df72a6dd23f9d2dc04342aab0cbd3210
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~master~I83a128a260acdd8bf78fede566af6881b8b82a9c,openstack/nova,master,2021-09-10-off-path-net-backends-dep,I83a128a260acdd8bf78fede566af6881b8b82a9c,[yoga] Include pf mac and vf num in port updates,MERGED,2022-01-16 20:56:26.000000000,2022-02-09 21:03:31.000000000,2022-02-09 20:59:46.000000000,274,25,76,824833,1f71696ecc2cd1abfc30f2f03f3c4857e51b9fbf,99,4,8,8,24824,Dmitrii Shcherbakov,dmitriis,"[yoga] Include pf mac and vf num in port updates

Retrieve PF mac and VF logical number at runtime for
a given VF PCI address and include them in port updates to Neutron.

Implements: blueprint integration-with-off-path-network-backends
Change-Id: I83a128a260acdd8bf78fede566af6881b8b82a9c
"
openstack%2Fnova~master~I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2,openstack/nova,master,2021-09-10-off-path-net-backends-dep,I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2,Filter computes without remote-managed ports early,MERGED,2021-10-01 08:59:24.000000000,2022-02-09 21:00:32.000000000,2022-02-09 21:00:32.000000000,124,5,84,812111,c487c730d010013f8579622337af63d93b733f3b,202,4,24,8,24824,Dmitrii Shcherbakov,dmitriis,"Filter computes without remote-managed ports early

Add a pre-filter for requests that contain VNIC_TYPE_REMOTE_MANAGED
ports in them: hosts that do not have either the relevant compute
driver capability COMPUTE_REMOTE_MANAGED_PORTS or PCI device pools
with ""remote_managed"" devices are filtered out early. Presence of
devices actually available for allocation is checked at a later
point by the PciPassthroughFilter.

Change-Id: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2
Implements: blueprint integration-with-off-path-network-backends
"
openstack%2Fnova~master~I7ea96fd85d2607e0af0f6918b0b45c58e8bec058,openstack/nova,master,2021-09-10-off-path-net-backends-dep,I7ea96fd85d2607e0af0f6918b0b45c58e8bec058,Add supports_remote_managed_ports capability,MERGED,2022-02-04 11:11:23.000000000,2022-02-09 21:00:10.000000000,2022-02-09 21:00:10.000000000,58,0,26,827839,d1e9ecb443dd6bd5dc6456a3f9e33c1551436364,46,3,4,13,24824,Dmitrii Shcherbakov,dmitriis,"Add supports_remote_managed_ports capability

In order to support remote-managed ports the following is needed:

* Nova compute driver needs to support this feature;
* For the Libvirt compute driver, a given host needs to have the right
  version of Libvirt - the one which supports PCI VPD (7.9.0
  https://libvirt.org/news.html#v7-9-0-2021-11-01).

Therefore, this change introduces a new capability to track driver
support for remote-managed ports.

Change-Id: I7ea96fd85d2607e0af0f6918b0b45c58e8bec058
"
openstack%2Fnova~master~Ic1179f3e5e2c1aeb069972f21edffe5b003eb525,openstack/nova,master,2021-09-10-off-path-net-backends-dep,Ic1179f3e5e2c1aeb069972f21edffe5b003eb525,Bump os-traits to 2.7.0,MERGED,2022-01-27 13:54:16.000000000,2022-02-09 21:00:03.000000000,2022-02-09 21:00:03.000000000,2,2,16,826675,6294c144e7953019030e50deeb8beab2f13844df,117,4,12,2,24824,Dmitrii Shcherbakov,dmitriis,"Bump os-traits to 2.7.0

The new version contains changes needed by the multi-architecture
support and off-path SmartNIC DPU support code.

Needed-By: I168d3ccc914f25a3d4255c9b319ee6b91a2f66e2
Needed-By: Ia070a29186c6123cf51e1b17373c2dc69676ae7c
Change-Id: Ic1179f3e5e2c1aeb069972f21edffe5b003eb525
"
openstack%2Fnova~master~Ic44d5e206326827d00a751da3cea67afe3929a08,openstack/nova,master,2021-09-10-off-path-net-backends-dep,Ic44d5e206326827d00a751da3cea67afe3929a08,Introduce remote_managed tag for PCI devs,MERGED,2022-01-16 20:56:26.000000000,2022-02-09 20:59:55.000000000,2022-02-09 20:59:55.000000000,877,30,80,824834,0d5f8ffc2b279888af03e7983dcee9d1d267f980,135,3,12,10,24824,Dmitrii Shcherbakov,dmitriis,"Introduce remote_managed tag for PCI devs

PCI devices may be managed remotely from the perspective of a hypervisor
host (e.g. by a SmartNIC DPU) which means that the VF control plane is
not available to the hypervisor. Depending on the presence of a
remote_managed device attribute in the InstancePCIRequest spec and
available device types in a pool, additional processing needs to be
done:

* Filtering of devices marked as `remote_managed: ""true""` in the
  whitelist configuration so that they are not used in legacy SR-IOV
  and hardware offload requests;

* Early error reporting if PFs marked as remote_managed=""true"" are
  present in the whitelist configuration. This is not supported
  explicitly since allocating such PFs would remove the associated
  VFs from the pool and an instance with such PF and its VFs will
  not have access to the control plane required for representor
  interface plugging at the SmartNIC DPU side. This configuration
  is not valid which is enforced in the PCIDeviceStats code.

* Checking of the presence of a card serial number in the PCI VPD
  capability of a device if it was marked as `remote_managed: ""true""`
  in the whitelist. The card serial number presence is mandatory
  because it is used for identification of a host in the networking
  backend that will handle the configuration of a given PCI device at
  the remote host side (i.e. representor plugging, flow programming).

For compatibility, all devices not explicitly marked as remote_managed
in the whitelist are assumed to have remote_managed attribute set to
False.

Implements: blueprint integration-with-off-path-network-backends
Change-Id: Ic44d5e206326827d00a751da3cea67afe3929a08
"
openstack%2Fpython-openstackclient~master~I39cd5302622f4542db9eebcccfad0cb90d077441,openstack/python-openstackclient,master,trivial,I39cd5302622f4542db9eebcccfad0cb90d077441,image: Remove FakeImage test helper,MERGED,2021-11-17 11:42:15.000000000,2022-02-09 20:48:48.000000000,2022-02-09 20:42:43.000000000,171,206,0,818224,2135a9ea05c79a11185ca87f6bb5ade3b71501bb,7,2,1,11,15334,Stephen Finucane,sfinucan,"image: Remove FakeImage test helper

We're no longer creating fake versions of glanceclient's 'Resource'
object but rather openstacksdk objects. As such, there's no point
nesting things under a fake resource class.

Change-Id: I39cd5302622f4542db9eebcccfad0cb90d077441
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~master~I8140c8fe592dd54fc09a9510723892806db49a56,openstack/nova,master,bug/1815989,I8140c8fe592dd54fc09a9510723892806db49a56,Update announce self workaround opt description,MERGED,2022-01-28 08:41:31.000000000,2022-02-09 20:46:34.000000000,2022-02-09 20:42:47.000000000,2,0,4,826829,2aa1ed5810b67b9a8f18b2ec5e21004f93831168,42,4,2,1,16137,Tobias Urdin,tobasco,"Update announce self workaround opt description

This updates the announce self workaround config opt
description to include info about instance being set
as tainted by libvirt.

Change-Id: I8140c8fe592dd54fc09a9510723892806db49a56
"
openstack%2Fpython-openstackclient~master~Ib61e817bd4ced9b5533e7c7f9d8f0b45fe81c211,openstack/python-openstackclient,master,trivial,Ib61e817bd4ced9b5533e7c7f9d8f0b45fe81c211,compute: Don't warn if disk overcommit params unset,MERGED,2021-11-03 10:31:42.000000000,2022-02-09 20:46:31.000000000,2022-02-09 20:42:33.000000000,16,12,0,816448,8cb0a28607e7f8b9eb4bb71a95b39230d43a969c,8,3,1,2,15334,Stephen Finucane,sfinucan,"compute: Don't warn if disk overcommit params unset

Due to a small logic error, we were emitting a warning about a
deprecated option when the user tried to live migrate an instance using
microversion 2.25 even though the user hadn't actually set that option.
Correct this.

Change-Id: Ib61e817bd4ced9b5533e7c7f9d8f0b45fe81c211
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Story: 2009657
Task: 43836
"
openstack%2Ftempest~master~Ibac9d0c2fa2f30605dd44ee58b84946464ea6449,openstack/tempest,master,,Ibac9d0c2fa2f30605dd44ee58b84946464ea6449,Remove usage of unittest2,MERGED,2022-01-24 22:54:47.000000000,2022-02-09 20:46:07.000000000,2022-02-09 20:42:29.000000000,3,62,3,826191,1ff7748623c2d02122bec36542f8bc310d296836,12,6,1,6,16282,YaZug,yazug,"Remove usage of unittest2

from comments when it was last touched it looks like workarounds for
unittest2 might be able to be dropped.

related: https://github.com/mtreinish/stestr/pull/265

simplify the workaround logic around unittest2 TestCase logic

Change-Id: Ibac9d0c2fa2f30605dd44ee58b84946464ea6449
"
openstack%2Fpython-openstackclient~master~I038ff2bcf7bb852d619004bb00306d2d388135a7,openstack/python-openstackclient,master,trivial,I038ff2bcf7bb852d619004bb00306d2d388135a7,docs: Document additional 'server migration' commands,MERGED,2022-02-08 15:28:10.000000000,2022-02-09 20:42:40.000000000,2022-02-09 20:42:40.000000000,1,1,0,828363,9c5220c97b1bffbc8ba2c76ea30fe52712815215,7,3,1,1,15334,Stephen Finucane,sfinucan,"docs: Document additional 'server migration' commands

Only 'server migration list' was being documented.

Change-Id: I038ff2bcf7bb852d619004bb00306d2d388135a7
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fopenstack-helm-infra~master~Iab5cf2b318ce538e72b4592dedd8f0e489741797,openstack/openstack-helm-infra,master,ceph_pool_stored,Iab5cf2b318ce538e72b4592dedd8f0e489741797,Rename prometheus metric,MERGED,2022-02-08 16:11:11.000000000,2022-02-09 20:41:13.000000000,2022-02-09 20:37:51.000000000,5,4,0,828375,c0282d430cf0140df6cf6ea3b9ae2b66f9bf57bf,14,7,2,3,32190,Frank Ritchie,fr801x,"Rename prometheus metric

The metric ceph_pool_bytes_used has changed to ceph_pool_stored.

https: //tracker.ceph.com/issues/39932
Change-Id: Iab5cf2b318ce538e72b4592dedd8f0e489741797
"
openstack%2Foctavia~stable%2Fvictoria~Ia6bc6eee3df30bfb3c0acccf902267fd2a4d37f6,openstack/octavia,stable/victoria,,Ia6bc6eee3df30bfb3c0acccf902267fd2a4d37f6,Fix nft command line with negative priority values,MERGED,2021-12-06 15:41:01.000000000,2022-02-09 20:37:41.000000000,2022-02-09 20:30:18.000000000,4,4,0,820542,2653851e75544f8453cc7a0bd371956bcb86e99d,8,3,1,1,29244,Gregory Thiemonge,gthiemonge,"Fix nft command line with negative priority values

When using nft with negative priority values it is recommended to use --
to prevent the parser to interpret the value as an argument.

Story 2009710
Task 44065

Conflicts:
	elements/amphora-agent/static/usr/local/bin/udp-masquerade.sh

Change-Id: Ia6bc6eee3df30bfb3c0acccf902267fd2a4d37f6
(cherry picked from commit 4791cfe93cdde2cb375033164c3bf51e8c65f4c4)
(cherry picked from commit b47d5dfcf8bfd0502c08a200056e21efe22d8d75)
(cherry picked from commit 1efeb8d5a4a2e1c2f7e06b831b2c1d3555c0ab8a)
"
openstack%2Foctavia~stable%2Fxena~Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,openstack/octavia,stable/xena,,Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,Preserve haproxy server states during reloads,MERGED,2022-02-08 10:33:55.000000000,2022-02-09 20:34:20.000000000,2022-02-09 20:30:11.000000000,58,1,2,828270,24ebc652e84a832ff9baad4b4e27ee6a89e816c3,11,3,1,10,29244,Gregory Thiemonge,gthiemonge,"Preserve haproxy server states during reloads

haproxy doesn't keep the state of the servers (UP or DOWN) during
reloads, so a member with an ERROR operating_status may be updated
to ONLINE after updating a load balancer.

This commit adds the load-server-state-from-file option in haproxy
configuration files. It also adds an extra step in the haproxy systemd
service file to dump the current server-state in a file when reloading
the service.

Story: 2009142
Task: 43084

Change-Id: Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6
(cherry picked from commit 1b15e1ef22963324e556e072f4bc58021f96bfec)
"
openstack%2Foctavia~stable%2Fvictoria~Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,openstack/octavia,stable/victoria,,Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,Preserve haproxy server states during reloads,MERGED,2022-02-08 10:41:09.000000000,2022-02-09 20:34:19.000000000,2022-02-09 20:29:51.000000000,56,1,1,828272,20a874e7742346e62e426ddb04e505a59cb3ae5a,8,3,1,10,29244,Gregory Thiemonge,gthiemonge,"Preserve haproxy server states during reloads

haproxy doesn't keep the state of the servers (UP or DOWN) during
reloads, so a member with an ERROR operating_status may be updated
to ONLINE after updating a load balancer.

This commit adds the load-server-state-from-file option in haproxy
configuration files. It also adds an extra step in the haproxy systemd
service file to dump the current server-state in a file when reloading
the service.

Story: 2009142
Task: 43084

Conflicts:
	octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py

Change-Id: Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6
(cherry picked from commit 1b15e1ef22963324e556e072f4bc58021f96bfec)
(cherry picked from commit 24ebc652e84a832ff9baad4b4e27ee6a89e816c3)
(cherry picked from commit 55bce250ca7e2a25b2767d60373a108ee1b804a1)
"
openstack%2Foctavia~stable%2Fussuri~Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,openstack/octavia,stable/ussuri,,Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,Preserve haproxy server states during reloads,MERGED,2022-02-08 10:45:56.000000000,2022-02-09 20:33:33.000000000,2022-02-09 20:29:58.000000000,50,1,1,828273,1d8ac7e2c13a1ba5370eb8708f5eb83f72d15a5c,8,3,1,10,29244,Gregory Thiemonge,gthiemonge,"Preserve haproxy server states during reloads

haproxy doesn't keep the state of the servers (UP or DOWN) during
reloads, so a member with an ERROR operating_status may be updated
to ONLINE after updating a load balancer.

This commit adds the load-server-state-from-file option in haproxy
configuration files. It also adds an extra step in the haproxy systemd
service file to dump the current server-state in a file when reloading
the service.

Story: 2009142
Task: 43084

Conflicts:
	octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py

Change-Id: Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6
(cherry picked from commit 1b15e1ef22963324e556e072f4bc58021f96bfec)
(cherry picked from commit 24ebc652e84a832ff9baad4b4e27ee6a89e816c3)
(cherry picked from commit 55bce250ca7e2a25b2767d60373a108ee1b804a1)
(cherry picked from commit 20a874e7742346e62e426ddb04e505a59cb3ae5a)
"
openstack%2Foctavia~stable%2Fwallaby~Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,openstack/octavia,stable/wallaby,,Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,Preserve haproxy server states during reloads,MERGED,2022-02-08 10:35:14.000000000,2022-02-09 20:33:30.000000000,2022-02-09 20:30:04.000000000,58,1,2,828271,55bce250ca7e2a25b2767d60373a108ee1b804a1,11,3,1,10,29244,Gregory Thiemonge,gthiemonge,"Preserve haproxy server states during reloads

haproxy doesn't keep the state of the servers (UP or DOWN) during
reloads, so a member with an ERROR operating_status may be updated
to ONLINE after updating a load balancer.

This commit adds the load-server-state-from-file option in haproxy
configuration files. It also adds an extra step in the haproxy systemd
service file to dump the current server-state in a file when reloading
the service.

Story: 2009142
Task: 43084

Change-Id: Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6
(cherry picked from commit 1b15e1ef22963324e556e072f4bc58021f96bfec)
(cherry picked from commit 24ebc652e84a832ff9baad4b4e27ee6a89e816c3)
"
openstack%2Fneutron~master~I9b92702af8a235443a2fa1aea3997f3d40a03fc3,openstack/neutron,master,bug/1877301,I9b92702af8a235443a2fa1aea3997f3d40a03fc3,[Server Side] L3 router support ndp proxy,MERGED,2020-07-27 01:34:58.000000000,2022-02-09 20:29:49.000000000,2022-02-03 12:04:39.000000000,1365,1,143,743142,a0a25cb15c4f04baeed7319b7cdaea328d043388,239,9,40,15,28329,yangjianfeng,yangjianfeng,"[Server Side] L3 router support ndp proxy

Change-Id: I9b92702af8a235443a2fa1aea3997f3d40a03fc3
Partial-Bug: #1877301
"
openstack%2Fkayobe~master~I366fbe98d27fa70b1aeb398c129f626fe042b5df,openstack/kayobe,master,story/2002098,I366fbe98d27fa70b1aeb398c129f626fe042b5df,Support building multiple disk images,MERGED,2021-10-05 15:14:23.000000000,2022-02-09 20:26:17.000000000,2022-02-09 20:21:57.000000000,291,32,26,812516,81758d14c3c1154beae351077c22706d93ba9bb8,29,3,8,9,15197,Pierre Riteau,priteau,"Support building multiple disk images

Change-Id: I366fbe98d27fa70b1aeb398c129f626fe042b5df
Story: 2002098
Task: 19776
"
openstack%2Fkolla~master~I353ef9b6b8da0e726c17ad2e06995d3690731e1d,openstack/kolla,master,fix-fluentd-es,I353ef9b6b8da0e726c17ad2e06995d3690731e1d,Futureproof the uninstallation of offending es gems,MERGED,2022-01-27 10:59:16.000000000,2022-02-09 19:36:51.000000000,2022-02-09 11:08:04.000000000,3,3,8,826631,711ec0829a95a12ae9e290aeb3837b457e1dd215,18,5,2,1,30491,Radosław Piliszek,yoctozepto,"Futureproof the uninstallation of offending es gems

Uninstall based on version range.

Change-Id: I353ef9b6b8da0e726c17ad2e06995d3690731e1d
"
openstack%2Ftripleo-validations~stable%2Fwallaby~I9c83d226ff840d6f317a3b0906ead7888fa9342e,openstack/tripleo-validations,stable/wallaby,change-818761-stable/wallaby,I9c83d226ff840d6f317a3b0906ead7888fa9342e,Add FIPS validation,MERGED,2022-02-01 14:38:38.000000000,2022-02-09 19:19:43.000000000,2022-02-09 19:10:40.000000000,221,0,2,827243,bed0a37ac1dc0daaaa6582bd573ceb691bfc7eff,12,6,2,8,34120,Andre Aranha,afariasa,"Add FIPS validation

Check if the system has FIPS enabled.

Change-Id: I9c83d226ff840d6f317a3b0906ead7888fa9342e
(cherry picked from commit 7441ea38f503c685ed0ac68e9e53d68f7b8eaa31)
"
