id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fneutron~stable%2Ftrain~I87489596e2ff224431f7e83f43a1725172ee0953,openstack/neutron,stable/train,bug/1901527-stable/ussuri-stable/train,I87489596e2ff224431f7e83f43a1725172ee0953,Avoid race condition when processing RowEvents,ABANDONED,2021-01-22 20:20:23.000000000,2021-01-22 20:21:23.000000000,,573,0,0,772099,dad69ac12f240d47f47a9e9e8b6df9b73d610cc7,2,0,1,2,5756,Terry Wilson,otherwiseguy,"Avoid race condition when processing RowEvents

In https://review.opendev.org/#/c/753824/ ovsdbapp adds the ability
to pass a ""frozen"" object to the RowEventHandler so that if a
transaction is started from the main thread that changes the row,
it won't step on the values that the Event is trying to process.

This patch switches to using the ovs_idl backend-specific
RowEventHandler which converts the row to a frozen_row.

Change-Id: I87489596e2ff224431f7e83f43a1725172ee0953
Related-Bug: #1896816
(cherry picked from commit ab6d4afd954d3afb0c07287915077b96121dd0fe)
"
openstack%2Fpython-manilaclient~master~I21ff413b3e13824367dbaad8745f11d733b34ece,openstack/python-manilaclient,master,,I21ff413b3e13824367dbaad8745f11d733b34ece,Replace deprecated UPPER_CONSTRAINTS_FILE variable,MERGED,2020-11-27 09:32:01.000000000,2021-01-22 20:07:06.000000000,2021-01-22 20:03:52.000000000,3,3,0,764428,b77a8c1baf1c1d0b67c01cc19efa6c2ef3c1fa7c,12,6,1,1,26285,wu.chunyang,wu.chunyang,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I21ff413b3e13824367dbaad8745f11d733b34ece
"
openstack%2Fsushy~master~I2d082762fcf59d7b9bc8adc7c5159520ac628043,openstack/sushy,master,,I2d082762fcf59d7b9bc8adc7c5159520ac628043,Fix ExtendedInfo error handling for non-list item,MERGED,2021-01-22 14:53:40.000000000,2021-01-22 19:19:50.000000000,2021-01-22 19:18:17.000000000,41,6,0,771988,7ec04224b4e80225ff3db51d860210e8e160f02f,13,3,2,4,27909,Aija Jauntēva,ajya,"Fix ExtendedInfo error handling for non-list item

Change-Id: I2d082762fcf59d7b9bc8adc7c5159520ac628043
"
openstack%2Frequirements~master~I588de72013abc731b113aad0fb855c82829dac19,openstack/requirements,master,new-release,I588de72013abc731b113aad0fb855c82829dac19,update constraint for python-novaclient to new release 17.3.0,MERGED,2021-01-22 08:37:09.000000000,2021-01-22 18:58:42.000000000,2021-01-22 18:54:47.000000000,1,1,0,771944,b18a5a4e1ae131f3526a4ccc2ed0f6577bcde64d,8,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-novaclient to new release 17.3.0

meta: version: 17.3.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Balazs Gibizer <balazs.gibizer@est.tech>
meta: release:Change-Id: I8ad78d906fc03a5bb46a75c120ae21950b64403a
meta: release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
Change-Id: I588de72013abc731b113aad0fb855c82829dac19
"
openstack%2Fnova-specs~master~Ice40f4ad60c9625b3f95c4bf429991412d183a8f,openstack/nova-specs,master,bp/configurable-instance-hostnames,Ice40f4ad60c9625b3f95c4bf429991412d183a8f,Update spec for configurable-instance-hostnames,MERGED,2021-01-22 16:45:08.000000000,2021-01-22 18:32:49.000000000,2021-01-22 18:30:43.000000000,6,0,0,772065,95e7b32e7bac391d76524f74b90fd149007a4d36,9,4,1,1,15334,Stephen Finucane,sfinucan,"Update spec for configurable-instance-hostnames

We're going to allow non-admin users to see 'OS-EXT-SRV-ATTR:hostname',
since they can now configure this.

Change-Id: Ice40f4ad60c9625b3f95c4bf429991412d183a8f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Foperations-guide~master~Ib2a9a34183390f9840420b3f86268e2b40844c65,openstack/operations-guide,master,openstack/openstack-manuals,Ib2a9a34183390f9840420b3f86268e2b40844c65,Updated from openstack-manuals,MERGED,2021-01-22 17:31:52.000000000,2021-01-22 18:27:58.000000000,2021-01-22 18:25:22.000000000,5,0,0,772073,057072559f2c70052b905816b9a256325904b45e,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from openstack-manuals

Change-Id: Ib2a9a34183390f9840420b3f86268e2b40844c65
"
openstack%2Fos-brick~stable%2Fvictoria~I9a1746658474c0f1be7ec29a36767085aaf2ab7f,openstack/os-brick,stable/victoria,,I9a1746658474c0f1be7ec29a36767085aaf2ab7f,Improve error handling on target query,MERGED,2021-01-15 16:49:58.000000000,2021-01-22 18:27:38.000000000,2021-01-22 18:25:12.000000000,19,1,0,770957,958e4f5fb8ec788fe92eff67eeb3adf0ab7b06a8,15,3,1,2,9236,Jon Bernard,jbernard,"Improve error handling on target query

The command 'iscsiadm -m node' will return entries for corrupt targets
in the form '[]:port,-1' instead of the expected format.  This causes an
IndexError exception during parsing.  This patch skips invalid entries.

Closes-bug: #1886855
Change-Id: I9a1746658474c0f1be7ec29a36767085aaf2ab7f
(cherry picked from commit 4fabe1b33d497b5f017f07b4b5d7fce0c0eabd00)
"
openstack%2Fsecurity-doc~master~I279d548eef63e728abd4bf57ab4cc83f5a1c6069,openstack/security-doc,master,openstack/openstack-manuals,I279d548eef63e728abd4bf57ab4cc83f5a1c6069,Updated from openstack-manuals,MERGED,2021-01-22 17:31:05.000000000,2021-01-22 18:27:04.000000000,2021-01-22 18:24:43.000000000,5,0,0,772071,79784daac3f8a0ba8ace287ded68d8d19faa5310,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from openstack-manuals

Change-Id: I279d548eef63e728abd4bf57ab4cc83f5a1c6069
"
openstack%2Fha-guide~master~Ic29f42ff62b1b27e36c9d043e700f26802723e08,openstack/ha-guide,master,openstack/openstack-manuals,Ic29f42ff62b1b27e36c9d043e700f26802723e08,Updated from openstack-manuals,MERGED,2021-01-22 17:31:30.000000000,2021-01-22 18:20:38.000000000,2021-01-22 18:18:01.000000000,5,0,0,772072,dff839df173c2b0c342cace5c4dc6e7da118d665,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from openstack-manuals

Change-Id: Ic29f42ff62b1b27e36c9d043e700f26802723e08
"
openstack%2Fopenstack-ansible-rsyslog_client~stable%2Fvictoria~Ia0ae332f89168851cc2c68dc0ad9696ba3bcae8c,openstack/openstack-ansible-rsyslog_client,stable/victoria,,Ia0ae332f89168851cc2c68dc0ad9696ba3bcae8c,Update role for Ubuntu Focal and Centos-8,MERGED,2021-01-19 17:42:47.000000000,2021-01-22 17:53:42.000000000,2021-01-22 17:50:51.000000000,78,0,4,771409,68b81142ccb62f139f5a01a6a10c319418357e71,16,4,1,2,25023,Jonathan Rosser,jrosser,"Update role for Ubuntu Focal and Centos-8

Change-Id: Ia0ae332f89168851cc2c68dc0ad9696ba3bcae8c
(cherry picked from commit 6defc982de5a04a7a7a3b07cc24171c8dad4a9ae)
"
openstack%2Frally~master~Ie49856573dbf5bcf87837c555c046b06c569b3e9,openstack/rally,master,return_code,Ie49856573dbf5bcf87837c555c046b06c569b3e9,Let verify command return different return codes depending on results.,MERGED,2021-01-19 15:32:15.000000000,2021-01-22 17:52:04.000000000,2021-01-22 17:52:04.000000000,15,0,1,771480,a72a6e1ce515e0f6720fea6a3ffbdfdea7d4e3ac,11,2,3,2,27052,Marian Gasparovic,marian,"Let verify command return different return codes depending on results.

Change-Id: Ie49856573dbf5bcf87837c555c046b06c569b3e9
"
openstack%2Fpython-manilaclient~master~I6e5f53941b8ee3572340d63070603a10d0957417,openstack/python-manilaclient,master,,I6e5f53941b8ee3572340d63070603a10d0957417,[DNM] Testing master branch,ABANDONED,2020-04-14 17:42:58.000000000,2021-01-22 17:31:41.000000000,,0,0,0,720038,4b4f7082b3f7e4dc09a7186ed7b6eda54c2daafd,3,1,1,1,6413,Victoria Martinez de la Cruz,vkmc,"[DNM] Testing master branch

Change-Id: I6e5f53941b8ee3572340d63070603a10d0957417
"
openstack%2Fvalidations-libs~master~Iecdcae0be0d8363668f77f9de4f8a431a8162f5e,openstack/validations-libs,master,style/builtinredefinition1,Iecdcae0be0d8363668f77f9de4f8a431a8162f5e,Local vars were redefining builtins,MERGED,2021-01-14 11:55:06.000000000,2021-01-22 17:27:22.000000000,2021-01-22 17:12:53.000000000,18,18,0,770795,8dc1549ddd6a5b79c65c200090aabc1a5cb5454c,8,4,1,4,32926,Jiri Podivin,jpodivin,"Local vars were redefining builtins

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iecdcae0be0d8363668f77f9de4f8a431a8162f5e
"
openstack%2Fos-net-config~master~I17d19715a1f7c231630416d6fea06fe9afe44e9b,openstack/os-net-config,master,avoid_dpdk_sriov_vf,I17d19715a1f7c231630416d6fea06fe9afe44e9b,Exclude DPDK mapped VF device even if not present,MERGED,2021-01-12 05:45:52.000000000,2021-01-22 17:27:09.000000000,2021-01-22 17:11:49.000000000,33,1,0,770230,4f2ebfd6bd90e5247dc2bddf67146e713919a437,10,4,1,2,18575,Saravanan KR,saravanankr,"Exclude DPDK mapped VF device even if not present

As part of FFU from queens to train, os-net-config
will run after the RHEL update. At this point, DPDK
mapping file will have VF if it has been used as
part of NIC partitioning feature, but the physically
the VF will not be present as it is yet to be created.
During the active nic list creation (before creating
VFs), DPDK mapped VF will be used as regular nic,
which results in wrong nic numbering.

This patch excludes the VFs by checking the device
type in the sriov_config.yaml mapping file, so that
the nic numbering will be kept same.

Change-Id: I17d19715a1f7c231630416d6fea06fe9afe44e9b
"
openstack%2Ftempest~master~Id2ced856a41548a0b49e594ee5fed6ed28785f24,openstack/tempest,master,merge-horizon-test,Id2ced856a41548a0b49e594ee5fed6ed28785f24,Move horizon test from tempest-horizon to tempest,MERGED,2021-01-20 21:42:56.000000000,2021-01-22 17:26:49.000000000,2021-01-22 17:08:10.000000000,169,0,4,771727,eb3c7e37bcf6acae63e15e7ae57f8daf0a261c73,27,5,6,5,8556,Ghanshyam,ghanshyam,"Move horizon test from tempest-horizon to tempest

As disscussed in Wallaby PTG[1], QA and Horizon team
decided to move the horizon dashboard test from tempest-horizon
to Tempest. As next step, we can remove the tempest-horizon
plugin which will ease the maintaince of horizon tempest test.

[1] https://etherpad.opendev.org/p/qa-wallaby-ptg

Change-Id: Id2ced856a41548a0b49e594ee5fed6ed28785f24
"
openstack%2Fswift~master~Ic08e6e7df7162a4c1283a3ef6e67c3b21a4ce494,openstack/swift,master,p-fix-get-from-shard-logs,Ic08e6e7df7162a4c1283a3ef6e67c3b21a4ce494,Fix logging in proxy container GET path,MERGED,2021-01-22 13:17:47.000000000,2021-01-22 17:26:44.000000000,2021-01-22 17:08:46.000000000,11,10,3,771975,0a230e5aed3150bcdbf0f9659ee1ab2f74a305eb,7,2,1,2,7847,Alistair Coles,acoles,"Fix logging in proxy container GET path

The proxy tried to map the x-backend-sharding-state header value to
a ShardRange state, but the value is the container *db* state. The
attempted mapping would commonly fail because db state names do not
always correspond to ShardRange state names, in which the case the
fallback was to log the header value i.e. the correct outcome.

Sometimes the attempted mapping would succeed because for example
'sharded' is both a db state name and a ShardRange state name. In that
case the log message would look something like:

  ""Found 1024 objects in shard (state=(70, 'sharded')), total = 1024""

i.e. the tuple of ShardRange state name and number was logged, which
was inappropriate.

Change-Id: Ic08e6e7df7162a4c1283a3ef6e67c3b21a4ce494
"
openstack%2Fopenstack-manuals~master~Ie693ee1ee35aa273ccd6b9602ca4092802e0c85a,openstack/openstack-manuals,master,xana,Ie693ee1ee35aa273ccd6b9602ca4092802e0c85a,[glossary] Add Xena,MERGED,2021-01-04 06:39:20.000000000,2021-01-22 17:24:56.000000000,2021-01-22 17:02:15.000000000,5,0,1,769087,4ad12a815d31a64874b5ccbd751273035aff2b51,10,2,2,1,6547,Andreas Jaeger,jaegerandi,"[glossary] Add Xena

Xena is the next release name, add it to glossary.

Change-Id: Ie693ee1ee35aa273ccd6b9602ca4092802e0c85a
"
openstack%2Ftripleo-validations~stable%2Fussuri~I1bdbbde0bd2102847a3ab061969115030ea207a6,openstack/tripleo-validations,stable/ussuri,rhbz1891200-stable/ussuri,I1bdbbde0bd2102847a3ab061969115030ea207a6,replace max_fds with sysctl call,MERGED,2020-11-26 13:24:16.000000000,2021-01-22 17:12:17.000000000,2021-01-22 17:12:17.000000000,1,1,0,764300,34d064ad85c3b01f2424d79ea5565bc6de79915d,22,2,1,1,27427,David Peacock,davidjpeacock,"replace max_fds with sysctl call

The call to max_fds no longer appears valid.  This approach of calling
sysctl is standard across Linux based systems and would be the more
established way to obtain this value.

Change-Id: I1bdbbde0bd2102847a3ab061969115030ea207a6
(cherry picked from commit 6925f256edb08065ab78ff18cb773bdb30b4c847)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ic7bd6956f869acbee6a253269d4c3972532499e2,openstack/tripleo-heat-templates,stable/ussuri,,Ic7bd6956f869acbee6a253269d4c3972532499e2,Ensure LANG env is properly set when puppet runs.,MERGED,2020-09-22 16:59:34.000000000,2021-01-22 17:11:05.000000000,2021-01-22 17:11:05.000000000,10,8,0,753407,b3521d5423d329892710b83afc88681f2195667f,23,7,2,2,8297,Sofer Athlan-Guyot,chem,"Ensure LANG env is properly set when puppet runs.

When puppet run it must support UTF-8 or whatever is the locale on the
host.  So we make sure that we pass down the LANG to the container and
that the puppet process collect it properly.

Closes-Bug: #1896640

Change-Id: Ic7bd6956f869acbee6a253269d4c3972532499e2
Co-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>
Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>
Co-Authored-By: Daniel Bengtsson <dbengt@redhat.com>
"
openstack%2Ftripleo-validations~stable%2Fussuri~I73d2de81dfd0eba89aaee195f6f0d18adb9d364a,openstack/tripleo-validations,stable/ussuri,__init__dot_py-stable/ussuri,I73d2de81dfd0eba89aaee195f6f0d18adb9d364a,Remove useless __init__.py file in library,MERGED,2021-01-21 11:25:05.000000000,2021-01-22 17:04:49.000000000,2021-01-22 17:04:49.000000000,0,0,0,771795,14bbbbce81916c55f983e87be736eec03e040d6f,11,7,1,1,11491,Gael Chamoulaud,gchamoul,"Remove useless __init__.py file in library

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I73d2de81dfd0eba89aaee195f6f0d18adb9d364a
(cherry picked from commit 949cc1c18ea7c166b999fd0375f61b62f7e02340)
(cherry picked from commit 3866628db31da0b2fb6d2a05a58422d283beee80)
"
openstack%2Ftripleo-heat-templates~master~Ib4f918c01e2fc71eedf7e6c90ca1dc5ccf8ff688,openstack/tripleo-heat-templates,master,cinder-v2-cleanup,Ib4f918c01e2fc71eedf7e6c90ca1dc5ccf8ff688,Remove cinder v2 API keystone service and endpoints,MERGED,2020-11-15 20:15:33.000000000,2021-01-22 17:04:37.000000000,2020-12-24 13:32:39.000000000,10,15,12,762768,d0c9b6d0ce049a75cc8177a84ab67c3e659178c7,40,7,3,1,21129,Alan Bishop,ASBishop,"Remove cinder v2 API keystone service and endpoints

Cinder's v2 API has been deprecated since Pike, and the cinder
community is looking to remove support for it in the Wallaby cycle.

Change-Id: Ib4f918c01e2fc71eedf7e6c90ca1dc5ccf8ff688
"
openstack%2Ftripleo-validations~stable%2Fvictoria~I73d2de81dfd0eba89aaee195f6f0d18adb9d364a,openstack/tripleo-validations,stable/victoria,__init__dot_py-stable/victoria,I73d2de81dfd0eba89aaee195f6f0d18adb9d364a,Remove useless __init__.py file in library,MERGED,2021-01-21 11:18:02.000000000,2021-01-22 17:03:35.000000000,2021-01-22 17:03:35.000000000,0,0,0,771605,3866628db31da0b2fb6d2a05a58422d283beee80,11,6,2,1,11491,Gael Chamoulaud,gchamoul,"Remove useless __init__.py file in library

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I73d2de81dfd0eba89aaee195f6f0d18adb9d364a
(cherry picked from commit 949cc1c18ea7c166b999fd0375f61b62f7e02340)
"
openstack%2Ftripleo-validations~master~I73d2de81dfd0eba89aaee195f6f0d18adb9d364a,openstack/tripleo-validations,master,__init__dot_py,I73d2de81dfd0eba89aaee195f6f0d18adb9d364a,Remove useless __init__.py file in library,MERGED,2021-01-21 10:56:20.000000000,2021-01-22 17:02:44.000000000,2021-01-22 17:02:44.000000000,0,0,0,771792,949cc1c18ea7c166b999fd0375f61b62f7e02340,11,7,1,1,11491,Gael Chamoulaud,gchamoul,"Remove useless __init__.py file in library

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I73d2de81dfd0eba89aaee195f6f0d18adb9d364a
"
openstack%2Fpython-openstackclient~master~I0e52acccfcd8f631fd4415ab99c07d6e7069a5ea,openstack/python-openstackclient,master,new/list-container-storage-policies,I0e52acccfcd8f631fd4415ab99c07d6e7069a5ea,List swift storage policies,NEW,2021-01-12 07:09:01.000000000,2021-01-22 16:54:08.000000000,,161,5,14,770238,966b14ba7d4a04967423525be1f0b6697937bcb1,11,3,5,9,30447,Simon Merrick,iokiwi,"List swift storage policies

Adds a command to conveniently list swift storage
policies available when creating a new container

Change-Id: I0e52acccfcd8f631fd4415ab99c07d6e7069a5ea
"
openstack%2Fdevstack-plugin-ceph~master~Id1351205b3cf52ece7405877eaf191229eca1a91,openstack/devstack-plugin-ceph,master,,Id1351205b3cf52ece7405877eaf191229eca1a91,Try to detect bug #1908607,ABANDONED,2021-01-05 15:05:38.000000000,2021-01-22 16:48:44.000000000,,3,0,0,769379,54c2e844f238bafc3fdcea29990deb71d5df99dc,5,2,1,1,4523,Eric Harney,eharney,"Try to detect bug #1908607

Test patch to see if this bug triggers in the gate.

Related-Bug: #1908607
Change-Id: Id1351205b3cf52ece7405877eaf191229eca1a91
"
openstack%2Fcinder-tempest-plugin~master~I5deebc0d1b17342f4278afec2a5d065b1748e3f0,openstack/cinder-tempest-plugin,master,,I5deebc0d1b17342f4278afec2a5d065b1748e3f0,Try to detect bug #1908607,ABANDONED,2021-01-05 19:05:34.000000000,2021-01-22 16:48:39.000000000,,1,0,0,769413,1bc0d668cc221365aa59d70bd590c43e472b6317,4,2,1,1,4523,Eric Harney,eharney,"Try to detect bug #1908607

Test patch to see if this bug triggers in the gate.

Depends-On: https://review.opendev.org/769379
Change-Id: I5deebc0d1b17342f4278afec2a5d065b1748e3f0
Related-Bug: #1908607
"
openstack%2Fnova-specs~master~I2baabd802dce9ce98e05f416f07a19501f1dd905,openstack/nova-specs,master,bp/configurable-instance-hostnames,I2baabd802dce9ce98e05f416f07a19501f1dd905,Add spec for configurable-instance-hostnames,MERGED,2021-01-14 17:37:04.000000000,2021-01-22 16:47:07.000000000,2021-01-22 16:27:08.000000000,217,0,11,770842,a218e65dc0ff22d5fa481d6cabcfea2d0b264cf3,17,5,2,1,15334,Stephen Finucane,sfinucan,"Add spec for configurable-instance-hostnames

Add a way to configure instance hostnames explicitly.

Change-Id: I2baabd802dce9ce98e05f416f07a19501f1dd905
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftripleo-operator-ansible~master~I0c797c76632de1e063d0d05c67e785dc9fabd052,openstack/tripleo-operator-ansible,master,fix-requirements,I0c797c76632de1e063d0d05c67e785dc9fabd052,Adjust requirements,ABANDONED,2020-12-17 15:43:04.000000000,2021-01-22 16:14:35.000000000,,1,1,0,767572,b7d71caebe7d5020cbe5adb60c0c120bc6891c24,4,2,1,1,14985,Alex Schultz,mwhahaha,"Adjust requirements

The new pip dependency solver changes what we need to require.

Change-Id: I0c797c76632de1e063d0d05c67e785dc9fabd052
"
openstack%2Fnova~stable%2Fqueens~I7eb86edc130d186a66c04b229d46347ec5c0b625,openstack/nova,stable/queens,bug/1887946,I7eb86edc130d186a66c04b229d46347ec5c0b625,libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices,MERGED,2020-07-22 13:12:36.000000000,2021-01-22 16:11:08.000000000,2021-01-22 16:11:08.000000000,73,60,0,742424,541336a688478c8a09d28e73ccf7c418c1f308ec,43,9,4,3,10135,Lee Yarwood,lyarwood,"libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices

Introduced in libvirt v4.1.0 [1] this error code replaces the previously
raised VIR_ERR_INVALID_ARG, VIR_ERR_OPERATION_FAILED and
VIR_ERR_INVALID_ARG codes [2][3].

VIR_ERR_OPERATION_FAILED was introduced and tested as an
active/live/hot unplug config device detach error code in
I131aaf28d2f5d5d964d4045e3d7d62207079cfb0.

VIR_ERR_INTERNAL_ERROR was introduced and tested as an
active/live/hot unplug config device detach error code in
I3055cd7641de92ab188de73733ca9288a9ca730a.

VIR_ERR_INVALID_ARG was introduced and tested as an
inactive/persistent/cold unplug config device detach error code in
I09230fc47b0950aa5a3db839a070613c9c817576.

This change introduces support for the new VIR_ERR_DEVICE_MISSING error
code while also retaining coverage for these codes until
MIN_LIBVIRT_VERSION is bumped past v4.1.0.

The majority of this change is test code motion with the existing tests
being modified to run against either the active or inactive versions of
the above  error codes for the time being.

test_detach_device_with_retry_operation_internal and
test_detach_device_with_retry_invalid_argument_no_live have been removed
as they duplicate the logic within the now refactored
_test_detach_device_with_retry_second_detach_failure.

[1] https://libvirt.org/git/?p=libvirt.git;a=commit;h=bb189c8e8c93f115c13fa3bfffdf64498f3f0ce1
[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=126db34a81bc9f9f9710408f88cceaa1e34bbbd7
[3] https://libvirt.org/git/?p=libvirt.git;a=commit;h=2f54eab7c7c618811de23c60a51e910274cf30de

Closes-Bug: #1887946
Change-Id: I7eb86edc130d186a66c04b229d46347ec5c0b625
(cherry picked from commit 902f09af251d2b2e56fb2f2900a3510baf38a508)
(cherry picked from commit 93058ae1b8bc1b1728f08b9e606b68318751fc3b)
(cherry picked from commit 863d6ef7601302901fa3368ea8457b3564eeb501)
(cherry picked from commit 76428c1a6a7796391957a3e83207f85cfe924505)
(cherry picked from commit 74b053f47a659a0250d051020d6c8b4e3c256e7d)
"
openstack%2Fironic-python-agent-builder~master~I1fafbf31b8fb2fc411b722cec11b94b4b765c995,openstack/ironic-python-agent-builder,master,no-sdparm,I1fafbf31b8fb2fc411b722cec11b94b4b765c995,Removes unnecessary requirement of sdparm,MERGED,2021-01-22 11:41:02.000000000,2021-01-22 16:07:33.000000000,2021-01-22 16:05:11.000000000,5,1,0,771965,55375641217ce199b0cb211addae8648bc48aa79,9,4,1,2,10239,Dmitry Tantsur,dtantsur,"Removes unnecessary requirement of sdparm

Change-Id: I1fafbf31b8fb2fc411b722cec11b94b4b765c995
"
openstack%2Fcharm-cinder~master~Id18634579d221aa2d501188975119c5c4f05c47f,openstack/charm-cinder,master,sync-for-21-01,Id18634579d221aa2d501188975119c5c4f05c47f,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:22:04.000000000,2021-01-22 16:07:12.000000000,2021-01-22 16:07:12.000000000,4,1,0,771630,f4e552de22318579101e387ae8db34454b384318,13,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: Id18634579d221aa2d501188975119c5c4f05c47f
"
openstack%2Fcharm-keystone~master~I83f12c9e010468be34637056e645f2bfc732f2df,openstack/charm-keystone,master,sync-for-21-01,I83f12c9e010468be34637056e645f2bfc732f2df,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:30:41.000000000,2021-01-22 16:07:06.000000000,2021-01-22 16:07:06.000000000,469,76,0,771022,31649bee99800c6c62e3b84f26e3d14582977d54,25,3,2,16,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

* Fixes to unit tests due to removal of unit_get from context.

Change-Id: I83f12c9e010468be34637056e645f2bfc732f2df
"
openstack%2Fopenstack-ansible~stable%2Ftrain~I7f188ca12506e0f45bf3111cbf6e19aaf9865414,openstack/openstack-ansible,stable/train,bug/1908791,I7f188ca12506e0f45bf3111cbf6e19aaf9865414,Change format of rows,MERGED,2021-01-20 15:14:32.000000000,2021-01-22 16:06:34.000000000,2021-01-22 16:04:28.000000000,26,0,0,771659,67a24c010799e7fbe74bf8d50089c4b59488f153,15,3,3,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Change format of rows

During S->T nova may fail with DB migrations because of the insufficient
size of the table type.

Change-Id: I7f188ca12506e0f45bf3111cbf6e19aaf9865414
Closes-Bug: #1908791
"
openstack%2Fcharm-nova-cell-controller~master~Id9d36ae950300b1c3f461928908e56bd2d49b37a,openstack/charm-nova-cell-controller,master,sync-for-21-01,Id9d36ae950300b1c3f461928908e56bd2d49b37a,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:33:24.000000000,2021-01-22 16:05:41.000000000,2021-01-22 16:05:41.000000000,5,1,0,771039,f46c60c084d833dda1db9390b6fef59d7776ee89,16,3,1,2,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

Change-Id: Id9d36ae950300b1c3f461928908e56bd2d49b37a
"
openstack%2Fopenstack-health~master~Iefa8795ba985f502f952001cdc616dae20847ef9,openstack/openstack-health,master,feature/pdf_doc,Iefa8795ba985f502f952001cdc616dae20847ef9,Create tox environment to build pdf documentation,MERGED,2020-09-16 13:12:54.000000000,2021-01-22 16:01:15.000000000,2021-01-22 16:01:15.000000000,20,4,1,752235,4f14a185aaa024f8a653f66df48f886b470326e9,31,15,4,3,30674,Lukas Piwowarski,lukas-piwowarski,"Create tox environment to build pdf documentation

This patch enables building .pdf documentation using new 'pdf-docs'
tox environment. The newly created tox environment creates latex
source codes using sphinx-build and then builds the pdf
documentation using make.

Story: 2006070
Task: 35466

Change-Id: Iefa8795ba985f502f952001cdc616dae20847ef9
"
openstack%2Fglance~master~I81f9d0a53493a1b9793bdaae082093f30df6e032,openstack/glance,master,bp/distributed-image-import,I81f9d0a53493a1b9793bdaae082093f30df6e032,Fix a typo in functional helper class,MERGED,2021-01-13 17:03:28.000000000,2021-01-22 15:48:48.000000000,2021-01-22 15:38:19.000000000,1,1,0,770646,4d9c7b573ee2dc75fcf393ddab0a66fcd0a470b9,7,2,1,1,4393,Dan Smith,danms,"Fix a typo in functional helper class

This was a typo (by me) in the original implementation, but since
nothing was testing DELETE calls, it was never noticed.

Change-Id: I81f9d0a53493a1b9793bdaae082093f30df6e032
"
openstack%2Fswift~master~I1a1d78ed91d940ef0b4eba186dcafd714b4fb808,openstack/swift,master,,I1a1d78ed91d940ef0b4eba186dcafd714b4fb808,docs: Clarify that encryption should not be in reconciler pipeline,MERGED,2021-01-21 20:01:16.000000000,2021-01-22 15:47:44.000000000,2021-01-22 15:35:16.000000000,9,2,2,771880,13c0980e7101840fa5792b249cc3cb393e147ecc,12,3,2,2,15343,Tim Burke,tburke,"docs: Clarify that encryption should not be in reconciler pipeline

UpgradeImpact
=============
Operators should verify that encryption is not enabled in their
reconciler pipelines; having it enabled there may harm data durability.
For more information, see https://launchpad.net/bugs/1910804

Change-Id: I1a1d78ed91d940ef0b4eba186dcafd714b4fb808
Closes-Bug: #1910804
"
openstack%2Fneutron~stable%2Fussuri~I660baccde67a040731538276fc6dff05a10efb68,openstack/neutron,stable/ussuri,bug/1910717,I660baccde67a040731538276fc6dff05a10efb68,Add WaitForPortCreateEvent in BaseOVSTestCase,MERGED,2021-01-13 09:05:23.000000000,2021-01-22 15:47:10.000000000,2021-01-22 15:34:31.000000000,15,0,0,770547,daba68d43ea5794f23b6a5072157be464fc4faeb,40,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add WaitForPortCreateEvent in BaseOVSTestCase

When a port is created, the test case will wait until the IDL event
is raised and the port is effectively created and the local DB
cache is updated.

Change-Id: I660baccde67a040731538276fc6dff05a10efb68
Related-Bug: #1910717
(cherry picked from commit e0f15c59828bc95c7de56475f036b8867f85d3f6)
"
openstack%2Fnova~stable%2Frocky~Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a,openstack/nova,stable/rocky,bug/1907438,Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a,[stable-only] Cap bandit and make lower-constraints job non-voting,MERGED,2020-12-10 15:03:43.000000000,2021-01-22 15:46:34.000000000,2021-01-22 15:37:10.000000000,17,4,0,766492,ddbcf5794773515fc782436a1b0871011dea6cce,62,4,7,3,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit and make lower-constraints job non-voting

The 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2
when using py2.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615

doc/requirements.txt also updated to make requirements-check job pass.

Closes-Bug: #1907438
Change-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a
"
openstack%2Fglance~master~Idbc6ab16ecac2eb9c83c58432f98414d68e16a52,openstack/glance,master,bp/distributed-image-import,Idbc6ab16ecac2eb9c83c58432f98414d68e16a52,Move some helper functions to base class,MERGED,2021-01-12 17:14:30.000000000,2021-01-22 15:46:30.000000000,2021-01-22 15:37:51.000000000,65,65,0,770456,f32d39230d0ee949bdb996be3aea2c8f3dd35dd3,8,3,1,2,4393,Dan Smith,danms,"Move some helper functions to base class

The ImageImportLocking test class has some useful helper functions
that are general enough to be used elsewhere. This moves those
to the SynchronousAPIBase test class.

Change-Id: Idbc6ab16ecac2eb9c83c58432f98414d68e16a52
"
openstack%2Fnova~master~If02a263055376442a116d00c18a1599b436f21d2,openstack/nova,master,,If02a263055376442a116d00c18a1599b436f21d2,libvirt: Load and cache volume drivers on-demand,MERGED,2020-07-16 21:08:21.000000000,2021-01-22 15:46:27.000000000,2021-01-22 15:33:18.000000000,147,65,18,741545,684780ac0d9d76af336bb6d8c43ccc8e92d5444c,25,7,4,3,10135,Lee Yarwood,lyarwood,"libvirt: Load and cache volume drivers on-demand

This change completes a long standing TODO in the libvirt driver where
volume drivers had previously been loaded at startup. While quick this
can result in drivers being dropped from the resulting list on hosts
that don't support the underlying connector protocols as checked in
os-brick.

We should instead load and cache these drivers on-demand ensuring the
same instance is reused by repeat callers to _get_volume_driver.

An additional TODO is left in place to make this dict configurable in
the future, allowing drivers to be replaced by different volume driver
implementations. An example being the replacment of the os-brick `iscsi`
volume driver with a native `iscsi` QEMU driver.

Change-Id: If02a263055376442a116d00c18a1599b436f21d2
"
openstack%2Frequirements~master~I78c3a87c06b9eaf5df4c93031a53f19f7c84f95a,openstack/requirements,master,new-release,I78c3a87c06b9eaf5df4c93031a53f19f7c84f95a,update constraint for openstacksdk to new release 0.53.0,MERGED,2021-01-21 09:22:22.000000000,2021-01-22 15:40:02.000000000,2021-01-22 15:22:39.000000000,1,1,0,771771,738c2ce5c65e72e5b824c2dfd26137c9ba5c9e31,18,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for openstacksdk to new release 0.53.0

meta: version: 0.53.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Commit: Artem Goncharov <artem.goncharov@gmail.com>
meta: release:Change-Id: Idb4a7f7c88d712354396a016bc2c54508c5a4a5f
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I78c3a87c06b9eaf5df4c93031a53f19f7c84f95a
"
openstack%2Fopenstack-health~master~I0247031614ae75c1fd9f93898b7fb57838eb593f,openstack/openstack-health,master,,I0247031614ae75c1fd9f93898b7fb57838eb593f,Replace assertItemsEqual with assertCountEqual,MERGED,2020-07-12 03:16:00.000000000,2021-01-22 15:39:30.000000000,2021-01-22 15:39:30.000000000,15,15,0,740564,29fe21adc40a3f7ae152d97cb2df17fa718e2ab5,13,5,1,3,30356,gugug,gujin,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I0247031614ae75c1fd9f93898b7fb57838eb593f
"
openstack%2Fnova~stable%2Fqueens~If869470216600c303d47cf79f12c4fc88abcf813,openstack/nova,stable/queens,,If869470216600c303d47cf79f12c4fc88abcf813,libvirt: Remove reference to transient domain when detaching devices,MERGED,2018-10-05 09:01:16.000000000,2021-01-22 15:36:42.000000000,2021-01-22 15:36:42.000000000,15,12,1,608186,be83c7ecc09fac5ef88e6624c9e026bf730a5ff3,27,13,3,3,10135,Lee Yarwood,lyarwood,"libvirt: Remove reference to transient domain when detaching devices

When detaching a device from a domain we first attempt to remove the
device from both the persistent and live configs before looping to
ensure the device has really been detached from the running live config.

Previously when this failed we logged an error message that suggested
that this was due to issues detaching the device from a transient
domain, however this is not the case as the domain is persistent.

This change simply updates the error and associated comments to only
reference the live config of the domain.

Additionally a DEBUG line claiming that a device has been successfully
detached is now only logged once the device is removed from the live
config, hopefully avoiding any confusion from this line been logged
each time an attempt is made to detach the device.

Change-Id: If869470216600c303d47cf79f12c4fc88abcf813
(cherry picked from commit 636c7461dee4002571da6e99986eb17e9a28b0f4)
"
openstack%2Fnova~stable%2Fqueens~I84ddb9c434625fd4a57a4f54d0856044e1c56f3f,openstack/nova,stable/queens,,I84ddb9c434625fd4a57a4f54d0856044e1c56f3f,sync_guest_time: use the proper errno,MERGED,2020-07-22 13:12:36.000000000,2021-01-22 15:36:03.000000000,2021-01-22 15:36:03.000000000,2,1,2,742423,e2caea6cae13304c314fdd10ba78b689bb5a90d0,23,10,2,2,10135,Lee Yarwood,lyarwood,"sync_guest_time: use the proper errno

In qemuDomainSetTime, VIR_ERR_OPERATION_UNSUPPORTED
is used to report qemu doesn't support it.

[1]: https://github.com/libvirt/libvirt/blob/228ae70938d0cb85353e35f744fbc494de619481/src/qemu/qemu_driver.c#L19437

Change-Id: I84ddb9c434625fd4a57a4f54d0856044e1c56f3f
Signed-off-by: Chen Hanxiao <chenhx@certusnet.com.cn>
(cherry picked from commit a991471f3e14298a8b32d1b5d566c895cea1c8e4)
"
openstack%2Fneutron~stable%2Ftrain~Iafa68a98861f971f62c373d69e16c4dbaad383e9,openstack/neutron,stable/train,fix-pip,Iafa68a98861f971f62c373d69e16c4dbaad383e9,Re-enable networking-ovn job,MERGED,2021-01-05 11:23:50.000000000,2021-01-22 15:32:26.000000000,2021-01-22 15:22:09.000000000,2,4,0,769323,b37f0df9352f24a881a33db554f10ff381cedca5,21,4,1,1,21798,Bernard Cafarelli,bcafarel,"Re-enable networking-ovn job

It was disabled in previous commit to allow pip resolver fixes for
neutron and networking-ovn to go in. Once the later is merged, we can
get the job back

Change-Id: Iafa68a98861f971f62c373d69e16c4dbaad383e9
Depends-On: https://review.opendev.org/c/openstack/networking-ovn/+/767424
"
openstack%2Fnova~master~Id917d715c0c0955fbc6761d4b5af386514a343d2,openstack/nova,master,,Id917d715c0c0955fbc6761d4b5af386514a343d2,libvirt: Stop NVMe and ScaleIO unit tests from calling os-brick,MERGED,2021-01-21 13:00:17.000000000,2021-01-22 15:32:12.000000000,2021-01-22 15:19:53.000000000,26,20,0,771806,0f558749d1489c6399bb009dfd2a1aeda8d85f9c,11,3,1,2,10135,Lee Yarwood,lyarwood,"libvirt: Stop NVMe and ScaleIO unit tests from calling os-brick

Both sets of tests would allow calls to the InitiatorConnector.factory
within os-brick that returns an arch specific connector. When running
tests on ppc64le hosts this would result in failures are the SCALEIO and
NVME protocols are not supported on these architectures.

Closes-Bug: #1912608
Change-Id: Id917d715c0c0955fbc6761d4b5af386514a343d2
"
openstack%2Fneutron~stable%2Fstein~Ifb9df94128b7069e78e193bc289be17e15968167,openstack/neutron,stable/stein,stein-backport,Ifb9df94128b7069e78e193bc289be17e15968167,Use consistent filter API syntax,MERGED,2021-01-20 15:33:48.000000000,2021-01-22 15:31:44.000000000,2021-01-22 15:21:11.000000000,1,1,0,771600,e1b6a90ce2226b40d9f78a7e674fb24e559dcc6d,20,6,2,1,18031,Thomas Bachman,bachmantech,"Use consistent filter API syntax

Change ID Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8 introduced a
call to get_subnets, using a filter to select all subnets on a
network. The syntax for the filter in get_subnets has been to
provide a dictionary where the values are lists. The change
doesn't cause an exception because the OVO layer code handles
scalar values. Tbis commit changes the filter syntax to be
consistent.

Change-Id: Ifb9df94128b7069e78e193bc289be17e15968167
(cherry picked from commit e7d126f9bccaa13c50ee0f5345174f1c10f14a7e)
(cherry picked from commit 06cbfe0e1d2680db4bebac816b3c5f1a0a616af5)
(cherry picked from commit 16befa0385c1a44b095a2c7e549caa453157b57a)
(cherry picked from commit 1b8f449e25726874e63cd792ad4742778c3d037d)
"
openstack%2Frequirements~master~I05046492f29774031012bafabd2733def97f6dbe,openstack/requirements,master,new-release,I05046492f29774031012bafabd2733def97f6dbe,update constraint for ironic-lib to new release 4.5.0,MERGED,2021-01-21 09:27:22.000000000,2021-01-22 15:31:36.000000000,2021-01-22 15:20:32.000000000,1,1,0,771774,802c5b21ae8dbc30410244165442eeafe5425e00,17,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for ironic-lib to new release 4.5.0

meta: version: 4.5.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Change-Id: I7c4286c9cba33de85b18e585e6787ab4c3e08c8f
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I05046492f29774031012bafabd2733def97f6dbe
"
openstack%2Fdevstack~stable%2Fstein~Ic6056218e51e6b0da554bcdf139214d2229ba3c1,openstack/devstack,stable/stein,support-move-ops-with-qos-ports-ussur-stable/train-stable/stein,Ic6056218e51e6b0da554bcdf139214d2229ba3c1,Setting available_features for stable branch,MERGED,2021-01-19 09:23:44.000000000,2021-01-22 15:31:17.000000000,2021-01-22 15:19:45.000000000,11,0,0,771398,eae384e19743f0e5c4e53b472774b4b32511db8b,8,3,1,1,8313,Lajos Katona,elajkat,"Setting available_features for stable branch

available_features for Neutron tempest tests is default to ""all"" and
used from Victoria to enable/disable tests that has no API extension.
It is added here to make sure that stable gating will not execute these
tests (like for IPv6 metadata in neutron-tempest-plugin or updating
min_bw QoS values for port already attached to VMs)

Cherry-picked from stable/victoria patch
(https://review.opendev.org/c/openstack/devstack/+/769885), but the list
for available_features is empty on Ussuri and Train.

Change-Id: Ic6056218e51e6b0da554bcdf139214d2229ba3c1
Related-Bug: #1882804
(cherry picked from commit e34a8720bfb263a0b4d585929ef9f035c3ba0f36)
(cherry picked from commit ef784e195f85fe4ab28eb0c115e49a63cb3db76a)
(cherry picked from commit 2f573b79bee3cc581ffc6b510924b24ddebe9f7b)
"
openstack%2Fcharm-ceilometer-agent~master~I9a1ed8146233997cbad86a329e8a0067a6966b00,openstack/charm-ceilometer-agent,master,sync-for-21-01,I9a1ed8146233997cbad86a329e8a0067a6966b00,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:19:58.000000000,2021-01-22 15:16:24.000000000,2021-01-22 15:16:24.000000000,4,1,0,771625,4f711cdf8fea0cebd707d57648f7fdf85470d697,10,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I9a1ed8146233997cbad86a329e8a0067a6966b00
"
openstack%2Fcharm-cinder-backup~master~Ic6d547cb068122ed5c0050e65125faaf614fe754,openstack/charm-cinder-backup,master,sync-for-21-01,Ic6d547cb068122ed5c0050e65125faaf614fe754,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:22:38.000000000,2021-01-22 15:15:35.000000000,2021-01-22 15:15:35.000000000,4,1,0,771631,96076e3f1c9857948bf3ab54d715de90d6638e62,11,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: Ic6d547cb068122ed5c0050e65125faaf614fe754
"
openstack%2Fcharm-ceph-osd~master~I3a7d4e5093f15a1fb32310522229d0b4ebd61c59,openstack/charm-ceph-osd,master,sync-for-21-01,I3a7d4e5093f15a1fb32310522229d0b4ebd61c59,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:20:27.000000000,2021-01-22 15:14:22.000000000,2021-01-22 15:14:22.000000000,4,1,0,771627,da7953396fb5ef9a96313902474c5b677e5e58bf,13,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I3a7d4e5093f15a1fb32310522229d0b4ebd61c59
"
openstack%2Fopenstack-ansible-rsyslog_client~master~Ife37fe62aea5ce131c106a2f1708a727341bc2f4,openstack/openstack-ansible-rsyslog_client,master,,Ife37fe62aea5ce131c106a2f1708a727341bc2f4,Remove examples for variables which no longer exist,MERGED,2021-01-20 08:49:53.000000000,2021-01-22 15:09:48.000000000,2021-01-22 15:08:01.000000000,0,12,2,771575,271be6c8d93aed12bb5e77119573144a64122c61,12,4,2,3,25023,Jonathan Rosser,jrosser,"Remove examples for variables which no longer exist

See I113c9803495f2a935b99f272c387a4304a149cbf

Change-Id: Ife37fe62aea5ce131c106a2f1708a727341bc2f4
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib388af0a06bbb6172593dc2fd19748b770b2e335,openstack/tripleo-heat-templates,stable/train,,Ib388af0a06bbb6172593dc2fd19748b770b2e335,Set up right DNF module stream for Upgrades and Updates.,MERGED,2020-08-06 20:02:10.000000000,2021-01-22 15:01:11.000000000,2021-01-22 15:01:11.000000000,49,0,0,745211,6dde10a5235c0be3dc0fe305c5bb58f6b8fae697,54,5,14,5,26343,Jose Luis Franco,jfrancoa,"Set up right DNF module stream for Upgrades and Updates.

To ensure we get the right package versions we need to
make sure the right stream is configured for the
container-tools module.

This patch leverages the dnf module, which when passing as name
the @ identifier allows us to enable a stream for some specific
module [0], configuring the stream passed in DnfStreams heat parameter
in updates/upgrades task for step0.

If the stream passed in such parameter is alredy set, then the
module won't do anything else. On the contrary, it will disable
the current stream, enable the ones from DnfStreams and synchronize
the content.

By default the new Heat parameter defaults to empty list and it is
in the environment files where we set the right values depending
on the operation to perform (undercloud upgrade, overcloud update
or overcloud upgrade).

*****************************************************************
*BACKPORT NOTE: Add DNF module stream virt:8.2 in the overcloud *
*upgrade/update environment files.                              *
*****************************************************************

[0] - https://docs.ansible.com/ansible/latest/modules/dnf_module.html#examples
Closes-Bug: #1890631
Resolves: rhbz#1866479

Change-Id: Ib388af0a06bbb6172593dc2fd19748b770b2e335
(cherry picked from commit d3ef7c0faf1998e143dc43512ed0983d6f83df4e)
"
openstack%2Fcharm-glance-simplestreams-sync~master~Ifa4f404a0f8283659448c2b8a3d622768d2c4c8f,openstack/charm-glance-simplestreams-sync,master,bug/1912234,Ifa4f404a0f8283659448c2b8a3d622768d2c4c8f,Update location for CA cert,MERGED,2021-01-21 14:09:48.000000000,2021-01-22 14:59:19.000000000,2021-01-22 14:13:37.000000000,18,3,1,771816,9c7c4c47367f94eae79f3cef536ab60e2d9c11d0,15,3,2,1,12549,gnuoy,gnuoy,"Update location for CA cert

Look for ca cert using new name `vault_juju_ca_cert.crt` and
fallback to the old name `keystone_juju_ca_cert.crt` if needed.

Change-Id: Ifa4f404a0f8283659448c2b8a3d622768d2c4c8f
Closes-Bug: #1912234
"
openstack%2Fopenstack-health~master~Icd33d84d94d58ba36b296d46f4397227fa36ef9c,openstack/openstack-health,master,,Icd33d84d94d58ba36b296d46f4397227fa36ef9c,Cap pandas to < 1.2.0 to fix gates,MERGED,2021-01-22 13:26:19.000000000,2021-01-22 14:57:55.000000000,2021-01-22 14:57:55.000000000,1,1,0,771976,23f9274a1a0c4f3c1c5b6535c5c9b5b029f75a8c,8,3,2,1,22873,Martin Kopec,mkopec,"Cap pandas to < 1.2.0 to fix gates

pandas>=1.2.0 contains some changes in rounding numbers which makes
the following tests fail when executed by py38

 - test_get_numeric_data_diff_build_name
 - test_get_numeric_data_diff_build_name

with the following assert error

'2018-06-23T00:00:00': 4766.42225,
'2018-06-23T00:00:00': 4766.4222500000005,
                                 ++++++++
'2018-06-24T00:00:00': 4899.55725,
'2018-06-25T00:00:00': 5042.148499999999}}
                               ^^^^^^^^^

Change-Id: Icd33d84d94d58ba36b296d46f4397227fa36ef9c
"
openstack%2Fansible-role-collect-logs~master~Ie9cbc94efd2aecfbc42f54ea01bf1b0bfc987188,openstack/ansible-role-collect-logs,master,unvote,Ie9cbc94efd2aecfbc42f54ea01bf1b0bfc987188,Disable voting of broken job,MERGED,2020-07-31 13:41:52.000000000,2021-01-22 14:03:07.000000000,2020-07-31 23:08:07.000000000,1,0,0,744172,9733aaaf2bfa230b813d0548263183f7f6701cf1,9,3,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Disable voting of broken job

Change-Id: Ie9cbc94efd2aecfbc42f54ea01bf1b0bfc987188
"
openstack%2Fneutron~master~I7950de04c497b14d9225abe6584b7bb7d056f79c,openstack/neutron,master,improve-neutron-ci,I7950de04c497b14d9225abe6584b7bb7d056f79c,Don't run some more complex CI jobs on unrelated changes,MERGED,2021-01-21 08:23:26.000000000,2021-01-22 13:56:12.000000000,2021-01-22 13:50:24.000000000,25,14,3,771763,9d63e4c149716149ce29e71158d9c8ab38170f3d,20,4,2,1,11975,Slawek Kaplonski,slaweq,"Don't run some more complex CI jobs on unrelated changes

We don't need to run e.g. functional, fullstack and all scenario jobs
on patches which are changing e.g. only documentation or release notes
or other things like that.

This patch also removes test-requirements.txt and requirements.txt files
from that list of unrelated files as we want to run our ci jobs when
requirements are changed.

Change-Id: I7950de04c497b14d9225abe6584b7bb7d056f79c
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I33110599dc80cb264ca3dd1570d866c19b212597,openstack/tripleo-heat-templates,stable/queens,venv-py3,I33110599dc80cb264ca3dd1570d866c19b212597,[DNM] python3 dlrn-venv centos7,ABANDONED,2021-01-06 11:54:29.000000000,2021-01-22 13:52:17.000000000,,2,120,0,769534,5d8398a71b8ab8e903ef32e098a0235ca915cd59,4,2,1,1,13861,yatin,yatinkarel,"[DNM] python3 dlrn-venv centos7

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/764232
Change-Id: I33110599dc80cb264ca3dd1570d866c19b212597
"
openstack%2Fmanila~stable%2Ftrain~I48509e5c9be41c04d00aa86efd4d657b067d9521,openstack/manila,stable/train,bug/1908838,I48509e5c9be41c04d00aa86efd4d657b067d9521,Update doc for manila-service-image download,MERGED,2021-01-22 01:29:57.000000000,2021-01-22 13:40:44.000000000,2021-01-22 13:38:22.000000000,2,1,0,771917,960e45bd255dafacef7c6f895aca9477fcd12d9b,9,2,1,1,16643,Goutham Pacha Ravi,gouthamr,"Update doc for manila-service-image download

It currently refers to the old openstack repository and as written
downloads redirect information rather than the image itself.

Add a '-L' argument to the ``curl`` command to handle redirects and
update the URL to use the opendev repository.

Related-bug: #1908838
Change-Id: I48509e5c9be41c04d00aa86efd4d657b067d9521
(cherry picked from commit dcdc1a98bb2e0027f87184eee0080283f9b2ae33)
(cherry picked from commit a5bd828cbf4545872c0fef596929134b488d5241)
(cherry picked from commit 9828e16968c77892cf5ecf31016ffcb09a6b32f1)
"
openstack%2Fmanila~stable%2Fussuri~I48509e5c9be41c04d00aa86efd4d657b067d9521,openstack/manila,stable/ussuri,bug/1908838,I48509e5c9be41c04d00aa86efd4d657b067d9521,Update doc for manila-service-image download,MERGED,2021-01-22 01:29:13.000000000,2021-01-22 13:22:15.000000000,2021-01-22 13:20:12.000000000,2,1,0,771916,9828e16968c77892cf5ecf31016ffcb09a6b32f1,10,2,1,1,16643,Goutham Pacha Ravi,gouthamr,"Update doc for manila-service-image download

It currently refers to the old openstack repository and as written
downloads redirect information rather than the image itself.

Add a '-L' argument to the ``curl`` command to handle redirects and
update the URL to use the opendev repository.

Related-bug: #1908838
Change-Id: I48509e5c9be41c04d00aa86efd4d657b067d9521
(cherry picked from commit dcdc1a98bb2e0027f87184eee0080283f9b2ae33)
(cherry picked from commit a5bd828cbf4545872c0fef596929134b488d5241)
"
openstack%2Fcharm-openstack-dashboard~master~I1283293c200d46651834bf27fbb9c3bd654a2901,openstack/charm-openstack-dashboard,master,sync-for-21-01,I1283293c200d46651834bf27fbb9c3bd654a2901,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:26:07.000000000,2021-01-22 13:20:54.000000000,2021-01-22 13:20:54.000000000,4,1,0,771637,360a678d1f47939de48da67fa1eb69852a10fe32,11,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I1283293c200d46651834bf27fbb9c3bd654a2901
"
openstack%2Fcharm-hacluster~master~I61df39b093515dd4128b9083f852dfcf1a04895f,openstack/charm-hacluster,master,sync-for-21-01,I61df39b093515dd4128b9083f852dfcf1a04895f,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:30:07.000000000,2021-01-22 13:19:46.000000000,2021-01-22 13:19:46.000000000,122,6,0,771018,49a9b21e5791284100d9127066386e2f94d20f78,22,3,2,7,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers
* Add hotfix for local_address() with NoBindingError

Change-Id: I61df39b093515dd4128b9083f852dfcf1a04895f
"
openstack%2Fcharm-swift-storage~master~Icfa65b0e02060e63fa90a57cd95da1dcac729c06,openstack/charm-swift-storage,master,sync-for-21-01,Icfa65b0e02060e63fa90a57cd95da1dcac729c06,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:26:49.000000000,2021-01-22 12:47:21.000000000,2021-01-22 12:47:21.000000000,4,1,0,771640,19d501090261b4e005696990267144a2491929dc,11,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: Icfa65b0e02060e63fa90a57cd95da1dcac729c06
"
openstack%2Fopenstack-ansible~master~Ie27f59075b4bf419b898955048c4bdcd9da7f859,openstack/openstack-ansible,master,,Ie27f59075b4bf419b898955048c4bdcd9da7f859,[doc] Release Victoria,MERGED,2021-01-21 10:37:16.000000000,2021-01-22 11:39:03.000000000,2021-01-22 11:36:46.000000000,10,10,0,771786,316eaf8233681d46c15cf31f110b5340807380a5,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[doc] Release Victoria

Change-Id: Ie27f59075b4bf419b898955048c4bdcd9da7f859
"
openstack%2Foslo.rootwrap~master~Ic211834cf66fd2f9e4fc4ce97f839b2362cc1f70,openstack/oslo.rootwrap,master,tox-python38,Ic211834cf66fd2f9e4fc4ce97f839b2362cc1f70,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:04:29.000000000,2021-01-22 11:31:26.000000000,2021-01-22 11:29:17.000000000,1,1,0,761312,0d1bcc5496888cf9a8df649fa7f82a0104d9f432,13,2,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Ic211834cf66fd2f9e4fc4ce97f839b2362cc1f70
"
openstack%2Fansible-collections-openstack~master~Ie7e6d04ea298ba068f547a53643806b6bc84f873,openstack/ansible-collections-openstack,master,,Ie7e6d04ea298ba068f547a53643806b6bc84f873,Add stack_info module,MERGED,2021-01-06 11:02:55.000000000,2021-01-22 11:30:06.000000000,2021-01-22 11:30:06.000000000,169,1,15,769516,70c773fe6d10dbe7f0eb627bc14993a70c7966c1,28,3,7,6,27900,Artem Goncharov,gtema,"Add stack_info module

We lost stack_info module during transition from github. Implement it
using newer interface and add tests. Change depends on SDK change adding
missing query filters.

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/769484
Change-Id: Ie7e6d04ea298ba068f547a53643806b6bc84f873
"
openstack%2Fstevedore~master~I03900ffe9e59ad3f4f8f89329a9e1b9c6844b1b1,openstack/stevedore,master,tox_constraints_file,I03900ffe9e59ad3f4f8f89329a9e1b9c6844b1b1,Use TOX_CONSTRAINTS_FILE,MERGED,2020-11-04 09:53:28.000000000,2021-01-22 11:21:34.000000000,2021-01-22 11:19:37.000000000,3,3,0,761362,8b6b861813428163e1d286339dd736ca925502ca,17,3,1,1,28522,Hervé Beraud,hberaud,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://review.opendev.org/#/c/722814/
[2] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: I03900ffe9e59ad3f4f8f89329a9e1b9c6844b1b1
"
openstack%2Ftempest~master~Ia6d31980d42861ba5d4f53f99ffd59d0bfed4dd9,openstack/tempest,master,,Ia6d31980d42861ba5d4f53f99ffd59d0bfed4dd9,Fix project/domain scope in dynamic_creds,MERGED,2021-01-21 14:16:39.000000000,2021-01-22 10:45:52.000000000,2021-01-22 10:43:50.000000000,3,3,1,771817,a28849ff7f714c6b5055687051a7ccea0a7a153f,13,14,2,1,22873,Martin Kopec,mkopec,"Fix project/domain scope in dynamic_creds

Lately merged review [1] changed a nature of a condition
setting domain / project scope. Before identity_admin_domain_scope
was a trigger between domain and project scope, however after
[1] change got merged the domain scope is not set only when
identity_admin_domain_scope is true but also when domain_id or
domain_name of default_admin_creds are set.

identity_admin_domain_scope var should be the only var which decides
whether domain scope will be set or not - in other words, if it's
false it shouldn't matter whether domain_id/domain_name are set at all.

https: //review.opendev.org/c/openstack/tempest/+/686073
Change-Id: Ia6d31980d42861ba5d4f53f99ffd59d0bfed4dd9
"
openstack%2Fpython-tripleoclient~stable%2Fvictoria~I9b5445cbccf34e31daf055d264975d0a1eba9aba,openstack/python-tripleoclient,stable/victoria,validator_show_run/validation_output-stable/victoria,I9b5445cbccf34e31daf055d264975d0a1eba9aba,Dumping task key instead of tasks from validation_output,MERGED,2021-01-05 16:49:39.000000000,2021-01-22 10:28:27.000000000,2021-01-22 10:26:20.000000000,1,1,0,769399,f5af50f5dc5370c61eba073076dc8e786aacc741,16,6,1,1,11491,Gael Chamoulaud,gchamoul,"Dumping task key instead of tasks from validation_output

Change-Id: I9b5445cbccf34e31daf055d264975d0a1eba9aba
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit c8137f8f016e26043903f63b4ec794467b69eea5)
"
openstack%2Fopenstack-helm~master~I6cdd599320103349d2fd2486670859a6ef970886,openstack/openstack-helm,master,makefile,I6cdd599320103349d2fd2486670859a6ef970886,chore(make): updates Makefile,MERGED,2020-10-25 01:02:21.000000000,2021-01-22 09:05:08.000000000,2021-01-22 09:03:08.000000000,4,3,0,759576,fc726aa9c0fe1cfbab4da137108101b3cb7f8ef6,23,8,4,1,20466,Tin Lam,tinlam,"chore(make): updates Makefile

This patch set updates the Makefile to use a helm variable so it has
parity with OpenStack-Helm-Infra repository.

Change-Id: I6cdd599320103349d2fd2486670859a6ef970886
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Frequirements~master~I494727a9212c18cdcd8c36b00e392cb87896508e,openstack/requirements,master,new-release,I494727a9212c18cdcd8c36b00e392cb87896508e,update constraint for python-tackerclient to new release 1.5.0,MERGED,2021-01-21 17:46:46.000000000,2021-01-22 08:44:18.000000000,2021-01-22 08:40:59.000000000,1,1,0,771867,eece8ca8855023773dd8c0a7ad0ded809e04d4f0,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-tackerclient to new release 1.5.0

meta: version: 1.5.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ib419a77c99b4099e418f13815258230dd69c281d
meta: release:Code-Review+1: Yasufumi Ogawa <yasufum.o@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I494727a9212c18cdcd8c36b00e392cb87896508e
"
openstack%2Frequirements~master~I4b94edb2b26e9692ee3a99c8423beb972a5a57bd,openstack/requirements,master,new-release,I4b94edb2b26e9692ee3a99c8423beb972a5a57bd,update constraint for sushy to new release 3.6.0,MERGED,2021-01-21 17:37:32.000000000,2021-01-22 08:42:53.000000000,2021-01-22 08:40:55.000000000,1,1,0,771864,6082ca391c412277bc08e50971abede99861a652,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for sushy to new release 3.6.0

meta: version: 3.6.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Commit: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Change-Id: I19814fbb51fc040a761de1d95612bb9edc637fa8
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
Change-Id: I4b94edb2b26e9692ee3a99c8423beb972a5a57bd
"
openstack%2Fapi-site~master~Ib224dfe036543c8ec7fe3074fe4280586d35de97,openstack/api-site,master,fix-relmgt-pip-doc,Ib224dfe036543c8ec7fe3074fe4280586d35de97,Add doc/requirements,MERGED,2021-01-05 10:23:49.000000000,2021-01-22 08:30:27.000000000,2021-01-22 08:28:37.000000000,11,9,6,769310,20ed3307d11801f079fab2ccd361613ee1f682e5,27,3,6,3,28522,Hervé Beraud,hberaud,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver [1] for the release team [2][3].
Removed specific doc requirements from test-requirements.txt.

The problem here is that this repos haven't doc/requirements.txt file
and by default in this case zuul will use the test-requirements.txt file
to
pull requirements [4].

This requirements file contains extra requirements like flake8 that
collided with those allowed in our job environment and so the new pip
resolver fails to install these requirements and the job exits in error.

This project meet the conditions leading to the bug.

/!\/!\/!\
Notice that I voluntarily added the doc directory even if no docs
are generated here because zuul will try to pull this requirements from
there first and the contained requirements are needed for reno but AFAIK
the releasenotes dir is ignored by zuul. c.f [4] for further details.
/!\/!\/!\

[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html
[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36

Change-Id: Ib224dfe036543c8ec7fe3074fe4280586d35de97
"
openstack%2Ftempest~master~I64c0cf7ebf47b92133691ffa2dbe4ed07981d894,openstack/tempest,master,bp/remove-tenant-id,I64c0cf7ebf47b92133691ffa2dbe4ed07981d894,Skipped the stable branch tests for usage's apis,ABANDONED,2021-01-08 02:09:38.000000000,2021-01-22 08:18:43.000000000,,15,0,1,769857,36d76af3aff316f28b45b3c329b18bcf45ccef72,35,1,9,1,26458,Brin Zhang,zhangbailin,"Skipped the stable branch tests for usage's apis

Skip Nova usage scenario tests.
Since Wallaby release, we removed tenant_id, and replaced tenant* with
project* in nova project refer [1], so the tests for usage* commands are invalid
in stable Victoria, Ussuri and Train branch.

When the smallest version we tested is Wallay release, we will restore
this modification.

[1]https://review.opendev.org/c/openstack/nova/+/768852

part of blueprint remove-tenant-id

Change-Id: I64c0cf7ebf47b92133691ffa2dbe4ed07981d894
"
openstack%2Freleases~master~I8ad78d906fc03a5bb46a75c120ae21950b64403a,openstack/releases,master,w2-c-w-i,I8ad78d906fc03a5bb46a75c120ae21950b64403a,Wallaby-2 Release for python-novaclient,MERGED,2021-01-15 06:52:34.000000000,2021-01-22 08:15:52.000000000,2021-01-22 08:15:52.000000000,5,0,0,770899,c0ffc7e71c1552699e63cdd50625d8b18b9eb290,13,4,3,1,28522,Hervé Beraud,hberaud,"Wallaby-2 Release for python-novaclient

This is the Wallaby milestone-2 release for python-novaclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 21.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I8ad78d906fc03a5bb46a75c120ae21950b64403a
"
openstack%2Fopenstacksdk~stable%2Ftrain~I56edd53f7cb4fa702922e3e34c24fdfed98083e4,openstack/openstacksdk,stable/train,,I56edd53f7cb4fa702922e3e34c24fdfed98083e4,OpenStack port decorator variables,NEW,2020-08-24 11:30:31.000000000,2021-01-22 07:52:04.000000000,,3,2,0,747689,df5a3c15af852229d0a95a590300903a65a057a3,11,5,1,1,31506,Lin PeiWen,LinPeiWen,"OpenStack port decorator variables

The OpenStack port binding_host_id attribute is modifiable,
but an error will be reported when calling ‘def create_port’
of the OpenStack SDK, because the binding: host_id variable
does not exist in ‘@_utils’ and the binding_host_id attribute
cannot be changed.

Change-Id: I56edd53f7cb4fa702922e3e34c24fdfed98083e4
(cherry picked from commit 4f2e76122c86705e42203cb2f0595d79bd78cbfe)
"
openstack%2Ftacker~master~I6fc6f7d95e4efde6ea3bd0f1e4134aa54ce3889a,openstack/tacker,master,policy-json-to-yaml,I6fc6f7d95e4efde6ea3bd0f1e4134aa54ce3889a,[goal] Deprecate the JSON formatted policy file,MERGED,2020-12-24 16:02:34.000000000,2021-01-22 07:13:12.000000000,2021-01-22 07:11:33.000000000,77,37,1,768478,40a48bde6b08132f148166633d0809559a29ebaf,41,6,9,11,8556,Ghanshyam,ghanshyam,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file''
config option from 'policy.json' to 'policy.yaml' with
upgrade checks.

2. Deprecate the JSON formatted policy file on the project side
via warning in doc and releasenotes.

Also replace policy.json to policy.yaml ref from doc and tests.

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: I6fc6f7d95e4efde6ea3bd0f1e4134aa54ce3889a
"
openstack%2Ftripleo-validations~stable%2Fvictoria~I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,openstack/tripleo-validations,stable/victoria,755390-stable/victoria,I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,Add tripleo-validations role for component testing,MERGED,2021-01-13 07:08:36.000000000,2021-01-22 07:10:50.000000000,2021-01-22 07:10:50.000000000,263,0,0,770503,671349e63b9c952bf13a317733abefacc8663a33,15,6,1,6,16515,mbu,matbu,"Add tripleo-validations role for component testing

This role used component vars dictionary.
The list of components and associated validations
is not exhautive yet, but will be add in a follow up
review, when the role will be experienced in the pipeline

Depends-On: https://review.rdoproject.org/r/#/c/31281/
Change-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98
(cherry picked from commit 02b1fcfdbef8bd685036833fc9d28451bd8b880f)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib2b62e33b34cf72edfdae6299cf432259bf960a2,openstack/tripleo-heat-templates,stable/ussuri,pcmk-shutdown-lock-stable/ussuri,Ib2b62e33b34cf72edfdae6299cf432259bf960a2,Rolling certificate update for HA services,MERGED,2020-10-28 12:25:23.000000000,2021-01-22 07:10:45.000000000,2021-01-22 07:10:45.000000000,342,0,0,760117,8968c7efd67a8a2f1bc12dc517961d1d32172b01,50,6,2,4,20778,Damien Ciabrini,dciabrin,"Rolling certificate update for HA services

(manually squashed the subsequent fix [1] into a single commit)
(also manually squashed [2] because of #1906505)

There are certain HA clustered services (e.g. galera) that don't
have the ability natively to reload their TLS certificate without
being restarted. If too many replicas are restarted concurrently
this might result in full service disruption.

To ensure service availability, provide a means to ensure that
only one service replica is restarted at a time in the cluster.
This works by using pacemaker's CIB to implement a cluster-wide
restart lock for a service. The lock has a TTL so it's guaranteed
to be eventually released without requiring complex contingency
cleanup in case of failures.

Tested locally by running the following:
1. force recreate certificate on all nodes at once for galera
   (ipa-cert resubmit -i mysql), and verify that the resources
   restart one after the other

2. create a lock manually in pacemaker, recreate certificate for
   galera on all nodes, and verify that no resource is restarted
   before the manually created lock expires.

3. create a lock manually, let it expires, recreate a certificate,
   and verify that the resource is restarted appropriately and the
   lock gets cleaned up from pacemaker once the restart finished.

[1] Id10f026c8b31cad7b7313ac9427a99b3e6744788
[2] I17f1364932e43b8487515084e41b525e186888db

Related-Bug: #1904193
Closes-Bug: #1885113
Change-Id: Ib2b62e33b34cf72edfdae6299cf432259bf960a2
(cherry picked from commit 0f5488940899fec23ca7385fef200155dc3a71dd)
(cherry picked from commit c8f5fdfc3609d38bea46f96ef378dcb5ecd14a2b)
(cherry picked from commit 8b16911cc26ced10316fdd37a818fc1cb6fe5ece)
"
openstack%2Frequirements~master~I06f60ee5be7a3e0f3cd1f7a3b868f0f91ea1d9fb,openstack/requirements,master,openstack/requirements/constraints,I06f60ee5be7a3e0f3cd1f7a3b868f0f91ea1d9fb,Updated from generate-constraints,ABANDONED,2021-01-22 06:28:37.000000000,2021-01-22 06:29:24.000000000,,29,26,0,771911,f610e9aa887fd9590b37f09595e2896eac9af1d3,2,0,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I06f60ee5be7a3e0f3cd1f7a3b868f0f91ea1d9fb
"
openstack%2Fpython-manilaclient~master~I6d573655b7b28e0378df9917b597875acb12cca2,openstack/python-manilaclient,master,openstack-client-support,I6d573655b7b28e0378df9917b597875acb12cca2,[OSC] Implement the second part of share snapshots commands,MERGED,2020-08-17 08:43:07.000000000,2021-01-22 06:15:22.000000000,2021-01-22 02:24:36.000000000,842,0,15,746458,d832baa3121ea1c54e1d26eaa123a4c58589a415,46,6,14,4,31213,Maari Tamm,maaritamm,"[OSC] Implement the second part of share snapshots commands

In this patch we add openstack commands for:
share snapshot adopt
share snapshot abandon
share snapshot export location list
share snapshot export location show
share snapshot access create
share snapshot access delete
share snapshot access list

Partially-implements bp openstack-client-support

Change-Id: I6d573655b7b28e0378df9917b597875acb12cca2
"
openstack%2Fironic~master~I162eb5d7d764a5665ce2fa51012e80aa0ce4e490,openstack/ironic,master,task/41609,I162eb5d7d764a5665ce2fa51012e80aa0ce4e490,idrac ipmi support intial version,ABANDONED,2021-01-21 17:33:19.000000000,2021-01-22 05:25:40.000000000,,87,14,5,771860,a926facd7ac52ff58b12cc620509a24412eda52f,6,2,1,9,32108,Yogesh,yogeshr20,"idrac ipmi support intial version

adding ipmi support for idrac

Change-Id: I411aa257b532ebe630de7debf7e8a26244d356dd

WIP Add idrac HW type IPMI interface support

This change adds initial idrac hardware type support of interface
implementations vendor-independent IPMI hardware interface
implementations and are compatible with the integrated Dell
Remote Access Controller (iDRAC) baseboard management controller
(BMC), presently those of the management,console,vendorpassthrough
and power hardware interfaces. They are named `idrac-ipmi`.

The idrac hardware type declares support for those new interface
implementations, in addition to all interface implementations it has
been supporting. The priority order of supported interfaces remains
the same.

Story: 2008528
Task: 41609
Change-Id: I241c830167752014835845cb32663514220a9996

WIP Add idrac HW type IPMI interface support

    This change adds initial idrac hardware type support of interface
    implementations vendor-independent IPMI hardware interface
    implementations and are compatible with the integrated Dell
    Remote Access Controller (iDRAC) baseboard management controller
    (BMC), presently those of the management,console,vendorpassthrough
    and power hardware interfaces. They are named `idrac-ipmi`.

    The idrac hardware type declares support for those new interface
    implementations, in addition to all interface implementations it has
    been supporting. The priority order of supported interfaces remains
    the same.

    Story: 2008528
    Task: 41609

resolved conflict

Change-Id: I162eb5d7d764a5665ce2fa51012e80aa0ce4e490
"
openstack%2Ftempest~master~Ie430b2ef0cadf6af3813d82812cce27729d27af1,openstack/tempest,master,admin-auth-system-scope,Ie430b2ef0cadf6af3813d82812cce27729d27af1,Add client methods and tests for system grants,MERGED,2020-07-30 02:38:30.000000000,2021-01-22 04:46:21.000000000,2021-01-22 04:44:35.000000000,165,0,0,743865,5dbaaed88e4e034cca8d8ba80ecff585a376db5b,45,8,4,3,8482,Colleen Murphy,krinkle,"Add client methods and tests for system grants

Add tempest client methods and API tests for grant operations on the
system scope, similar to the existing grant operations for users and
groups on project and domain scopes.

Change-Id: Ie430b2ef0cadf6af3813d82812cce27729d27af1
"
openstack%2Fneutron~master~Iacce53c737bf610ff3fc11cd14d6d011aab85f88,openstack/neutron,master,secure-rbac,Iacce53c737bf610ff3fc11cd14d6d011aab85f88,Implement secure RBAC for the network segment range API,MERGED,2020-12-07 18:03:49.000000000,2021-01-22 03:31:48.000000000,2021-01-22 03:28:23.000000000,48,20,1,765841,4e18e62e6e5f2091643a72104a14fb1884f9d0d7,25,5,3,1,5046,Lance Bragstad,ldbragst,"Implement secure RBAC for the network segment range API

This commit updates the network segment range policies to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: Iacce53c737bf610ff3fc11cd14d6d011aab85f88
"
openstack%2Fneutron~master~I109c73b7ad5f1157f40b8340723084f8c51272b2,openstack/neutron,master,secure-rbac,I109c73b7ad5f1157f40b8340723084f8c51272b2,Implement secure RBAC for auto_allocated_topology API,MERGED,2020-12-03 15:45:32.000000000,2021-01-22 03:30:18.000000000,2021-01-22 03:28:09.000000000,25,10,0,765343,05ab8c591f487aec84b68832393cd2fdca68ef38,16,7,2,1,11975,Slawek Kaplonski,slaweq,"Implement secure RBAC for auto_allocated_topology API

This commit updates the policies for auto_allocated_topology
API to understand scope checking and account for a read-only
role.

This is part of a broader series of changes across OpenStack to
provide a consistent RBAC experience and improve security.

Partially-Implements blueprint: secure-rbac-roles

Change-Id: I109c73b7ad5f1157f40b8340723084f8c51272b2
"
openstack%2Fneutron~stable%2Fussuri~I2e784ea7e00c145135288bf309bb34ce311ac15c,openstack/neutron,stable/ussuri,bug/1908057,I2e784ea7e00c145135288bf309bb34ce311ac15c,"Ensure ""keepalived"" is correcly disabled",MERGED,2021-01-14 16:35:42.000000000,2021-01-22 02:35:11.000000000,2021-01-22 02:33:03.000000000,51,1,0,770835,3fd93470c03f5c263e3fb493e5bb889da42b082b,34,4,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Ensure ""keepalived"" is correcly disabled

To stop a ""keepalived"" process, a SIGTERM signal is sent. This patch
checks if the process is not present in the system. If the instance
is still running after a short time, a SIGKILL signal is sent.

Change-Id: I2e784ea7e00c145135288bf309bb34ce311ac15c
Closes-Bug: #1908057
(cherry picked from commit 2618acff516e5cfd2437dabf550cc3c3c7972b9f)
"
openstack%2Fneutron~stable%2Fussuri~Ifb9df94128b7069e78e193bc289be17e15968167,openstack/neutron,stable/ussuri,ussuri-backport,Ifb9df94128b7069e78e193bc289be17e15968167,Use consistent filter API syntax,MERGED,2021-01-20 15:29:38.000000000,2021-01-22 02:33:53.000000000,2021-01-22 02:31:43.000000000,1,1,0,771598,16befa0385c1a44b095a2c7e549caa453157b57a,15,6,2,1,18031,Thomas Bachman,bachmantech,"Use consistent filter API syntax

Change ID Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8 introduced a
call to get_subnets, using a filter to select all subnets on a
network. The syntax for the filter in get_subnets has been to
provide a dictionary where the values are lists. The change
doesn't cause an exception because the OVO layer code handles
scalar values. Tbis commit changes the filter syntax to be
consistent.

Change-Id: Ifb9df94128b7069e78e193bc289be17e15968167
(cherry picked from commit e7d126f9bccaa13c50ee0f5345174f1c10f14a7e)
(cherry picked from commit 06cbfe0e1d2680db4bebac816b3c5f1a0a616af5)
"
openstack%2Fneutron~stable%2Fvictoria~Ifb9df94128b7069e78e193bc289be17e15968167,openstack/neutron,stable/victoria,victoria-backport,Ifb9df94128b7069e78e193bc289be17e15968167,Use consistent filter API syntax,MERGED,2021-01-20 13:27:05.000000000,2021-01-22 02:33:51.000000000,2021-01-22 02:31:35.000000000,1,1,0,771597,06cbfe0e1d2680db4bebac816b3c5f1a0a616af5,22,8,2,1,18031,Thomas Bachman,bachmantech,"Use consistent filter API syntax

Change ID Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8 introduced a
call to get_subnets, using a filter to select all subnets on a
network. The syntax for the filter in get_subnets has been to
provide a dictionary where the values are lists. The change
doesn't cause an exception because the OVO layer code handles
scalar values. Tbis commit changes the filter syntax to be
consistent.

Change-Id: Ifb9df94128b7069e78e193bc289be17e15968167
(cherry picked from commit e7d126f9bccaa13c50ee0f5345174f1c10f14a7e)
"
openstack%2Fmanila~stable%2Fvictoria~I48509e5c9be41c04d00aa86efd4d657b067d9521,openstack/manila,stable/victoria,bug/1908838,I48509e5c9be41c04d00aa86efd4d657b067d9521,Update doc for manila-service-image download,MERGED,2021-01-22 01:28:41.000000000,2021-01-22 02:24:56.000000000,2021-01-22 01:57:27.000000000,2,1,0,771615,a5bd828cbf4545872c0fef596929134b488d5241,9,2,1,1,16643,Goutham Pacha Ravi,gouthamr,"Update doc for manila-service-image download

It currently refers to the old openstack repository and as written
downloads redirect information rather than the image itself.

Add a '-L' argument to the ``curl`` command to handle redirects and
update the URL to use the opendev repository.

Related-bug: #1908838
Change-Id: I48509e5c9be41c04d00aa86efd4d657b067d9521
(cherry picked from commit dcdc1a98bb2e0027f87184eee0080283f9b2ae33)
"
openstack%2Fadjutant~master~Ib09692b1451f1493394af755cbcd14cc96a36b02,openstack/adjutant,master,,Ib09692b1451f1493394af755cbcd14cc96a36b02,Add service helper for trove quota management,MERGED,2021-01-20 02:12:08.000000000,2021-01-22 02:08:09.000000000,2021-01-22 02:03:46.000000000,150,11,18,771528,45160d33783674c2cde69dc00508b054f44f5daf,24,2,7,8,30447,Simon Merrick,iokiwi,"Add service helper for trove quota management

Change-Id: Ib09692b1451f1493394af755cbcd14cc96a36b02
"
openstack%2Fproject-config~master~If407e4c4fa9d81c13577bac6240e02472a7fb6b2,openstack/project-config,master,openinfra-channel,If407e4c4fa9d81c13577bac6240e02472a7fb6b2,Set up access for #openinfra channel,MERGED,2021-01-15 19:55:41.000000000,2021-01-22 02:07:36.000000000,2021-01-22 01:57:36.000000000,1,0,0,771073,82a2e6a629f06896610f7f6dffd59cc0e0e6edba,11,3,1,1,5263,Jeremy Stanley,fungi,"Set up access for #openinfra channel

The Open Infrastructure Foundation is going to work on consolidating
its IRC channel names under a common namespace, #openinfra on
Freenode. Access has been granted to our bot account by the original
channel operators.

Change-Id: If407e4c4fa9d81c13577bac6240e02472a7fb6b2
"
openstack%2Ftacker~stable%2Fvictoria~I7aba5fcd2d13d1ea0a69b4b5705782c2c97af28b,openstack/tacker,stable/victoria,,I7aba5fcd2d13d1ea0a69b4b5705782c2c97af28b,Temporary deactivate lower-constraints check,MERGED,2021-01-20 09:30:48.000000000,2021-01-22 01:49:50.000000000,2021-01-22 01:45:33.000000000,2,1,0,771580,4fa0bb880a9c2e9e73b2fc73934c991cf2ab9ac2,13,5,2,1,25701,Yasufumi Ogawa,yasufum,"Temporary deactivate lower-constraints check

This update is to cancel the zuul test `openstack-tox-cover` to avoid
deadlock-like situation in which we should merge [1] for making FT as
voting before other one [2] for fixing lower-constraints, but [2]
cannot be merged because of failure of lower-constraints.

We should revert the zuul test soon after [1] is merged.

[1] https://review.opendev.org/c/openstack/tacker/+/770536
[2] https://review.opendev.org/c/openstack/tacker/+/769099

Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: I7aba5fcd2d13d1ea0a69b4b5705782c2c97af28b
"
openstack%2Ftacker~master~I649d2407e18d19161a629b8dbfa4e9c7b2f9c9fd,openstack/tacker,master,revise-doc,I649d2407e18d19161a629b8dbfa4e9c7b2f9c9fd,Add doc of ETSI VNF Scaling,MERGED,2021-01-06 08:14:33.000000000,2021-01-22 01:49:48.000000000,2021-01-22 01:45:36.000000000,312,0,10,769466,70a6d5ab2687d22f2520757fe7b38e9d71cb85f8,30,7,5,2,31072,Hiroo Kitamura,Hiroo.Kitamura,"Add doc of ETSI VNF Scaling

Usage guide for ETSI NFV-SOL VNF Scaling is added in user docs.

Change-Id: I649d2407e18d19161a629b8dbfa4e9c7b2f9c9fd
"
openstack%2Fmanila~master~I48509e5c9be41c04d00aa86efd4d657b067d9521,openstack/manila,master,,I48509e5c9be41c04d00aa86efd4d657b067d9521,Update doc for manila-service-image download,MERGED,2021-01-21 16:01:14.000000000,2021-01-22 01:20:39.000000000,2021-01-21 22:47:56.000000000,2,1,4,771843,dcdc1a98bb2e0027f87184eee0080283f9b2ae33,24,2,3,1,9003,Tom Barron,tbarron,"Update doc for manila-service-image download

It currently refers to the old openstack repository and as written
downloads redirect information rather than the image itself.

Add a '-L' argument to the ``curl`` command to handle redirects and
update the URL to use the opendev repository.

Related-bug: #1908838
Change-Id: I48509e5c9be41c04d00aa86efd4d657b067d9521
"
openstack%2Fswift~master~I13bdef7e9c63325d93076b6a172a7c3ee06b2e5c,openstack/swift,master,p-fix-EC-bucket-timestamp,I13bdef7e9c63325d93076b6a172a7c3ee06b2e5c,Separate EC response bucket handling,NEW,2021-01-21 19:26:04.000000000,2021-01-22 01:16:15.000000000,,35,11,5,771878,bd05bc786efc0e8065d9d17bd3707df7ac7c629e,5,2,1,1,1179,Clay Gerrard,clay-gerrard,"Separate EC response bucket handling

Our EC Controller needs to group successful responses by their frag data
timestamp, and unsuccessful responses by status.  Largely this process is
similar, but the differences in timestamp handling require special care.

This refactoring introduces a class hierarchy to EC Buckets in order to
explicitly define the buckets themselves in charge of behavioral
differences, rather than polymorphic adaptation of behavior based on how
their initialized or what we put into them.

Change-Id: I13bdef7e9c63325d93076b6a172a7c3ee06b2e5c
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~Ide062e65b0a76078b5d3ce55a60df3cb5be34a0e,openstack/python-tripleoclient,stable/ussuri,UX-stable/victoria-stable/ussuri,Ide062e65b0a76078b5d3ce55a60df3cb5be34a0e,[UX] Align to left the table for the validations run results,MERGED,2021-01-08 10:22:11.000000000,2021-01-22 01:12:42.000000000,2021-01-22 01:10:23.000000000,1,0,0,769745,de50061231821f849b90463f34c16b26e300b23e,12,7,1,1,11491,Gael Chamoulaud,gchamoul,"[UX] Align to left the table for the validations run results

All the PrettyTables are aligned to left and this patch standardizes all
the tables.

Change-Id: Ide062e65b0a76078b5d3ce55a60df3cb5be34a0e
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit c6f22c1f3c0ed775b8276895eb017616cf46c033)
(cherry picked from commit cdaf01d1058e9070dcc57f768f532e55b222c225)
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~I578c13b91d5cb65229d18a87f3fcff0c28c14427,openstack/tripleo-upgrade,stable/queens,,I578c13b91d5cb65229d18a87f3fcff0c28c14427,[Queens only] Correct microversion settings,MERGED,2021-01-20 13:44:45.000000000,2021-01-22 01:10:36.000000000,2021-01-22 01:10:36.000000000,5,5,1,771646,c704d084e0b03ec71b6bcb3a384246e8996559c0,7,2,1,1,6816,Jesse Pretorius,jesse-pretorius,"[Queens only] Correct microversion settings

The microversions aren't correct for an Queens undercloud
and a Newton overcloud, causing the workload testing to
fail with:

Creating overcloud instance instance_1742604c63
FAILURE: Instance failed to boot within 120 seconds
Version 2.60 is not supported by the API. Minimum is 2.1
and maximum is 2.38. (HTTP 406) (Request-ID: <snip>)

Change-Id: I578c13b91d5cb65229d18a87f3fcff0c28c14427
"
openstack%2Ftripleo-validations~stable%2Fussuri~I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,openstack/tripleo-validations,stable/ussuri,755390-stable/victoria-stable/ussuri,I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,Add tripleo-validations role for component testing,MERGED,2021-01-13 07:09:32.000000000,2021-01-21 23:33:04.000000000,2021-01-21 23:33:04.000000000,263,0,0,770504,2a3c64c843aef543130d5d6b367471b967b6e506,17,5,2,6,16515,mbu,matbu,"Add tripleo-validations role for component testing

This role used component vars dictionary.
The list of components and associated validations
is not exhautive yet, but will be add in a follow up
review, when the role will be experienced in the pipeline

Depends-On: https://review.rdoproject.org/r/#/c/31281/
Change-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98
(cherry picked from commit 02b1fcfdbef8bd685036833fc9d28451bd8b880f)
"
openstack%2Fswift~master~I6236f20d736c119947e50540b16d212dba1ec20c,openstack/swift,master,p-fix-EC-bucket-timestamp,I6236f20d736c119947e50540b16d212dba1ec20c,Fix 503s from EC GETs of objects with POST metadata,MERGED,2021-01-15 22:17:21.000000000,2021-01-21 22:51:11.000000000,2021-01-21 22:47:08.000000000,41,6,15,771089,cc3fa3cc0fa51df0e3eb872744da428a7e742cea,13,3,2,2,7847,Alistair Coles,acoles,"Fix 503s from EC GETs of objects with POST metadata

When an ECGetResponseBucket is used to collect 'good' backend
responses, its timestamp is used to construct fragment preferences
that govern the choice of fragments that a backend might return with
subsequent reponses. The bucket timestamp should remain fixed and
equal to the X-Backend-Data-Timestamp of the responses that it is
collecting when the responses are successful.

Previously the bucket timestamp was updated by each response's
X-Backend-Timestamp, which could be newer than the
X-Backend-Data-Timestamp if the object had newer metadata from a
POST. This caused the fragment preferences mechanism to fail,
potentially resulting in no bucket of durable fragments being
assembled even when sufficient durable fragments existed on backend
servers. In this case teh proxy would return a 503 response to the
client.

The bucket timestamp should be updated by X-Backend-Timestamp when
collecting bad responses, but not when collecting good responses.

Change-Id: I6236f20d736c119947e50540b16d212dba1ec20c
Closes-Bug: #1912014
"
openstack%2Fpython-openstackclient~stable%2Fussuri~I8ec738fbcabc8d8553db79a876e5592576cd18fa,openstack/python-openstackclient,stable/ussuri,pip-20.3,I8ec738fbcabc8d8553db79a876e5592576cd18fa,Fix lower-constraints job,MERGED,2021-01-21 14:22:17.000000000,2021-01-21 22:50:18.000000000,2021-01-21 22:47:40.000000000,7,6,0,771818,595139cee783518cccd15125925012a3209a76f9,8,3,1,3,15334,Stephen Finucane,sfinucan,"Fix lower-constraints job

pip 20.3 finally includes a proper dependency resolver. Its use is
causing the following error messages on the lower-constraints job:

  ERROR: Cannot install ... because these package versions have
  conflicting dependencies.

  The conflict is caused by:
      bandit 1.1.0 depends on PyYAML>=3.1.0
      cliff 3.4.0 depends on PyYAML>=3.12
      openstacksdk 0.52.0 depends on PyYAML>=3.13

Bump our lower constraint for PyYAML to resolve this issue. With that
resolved, we see a new issue:

  ERROR: Could not find a version that satisfies the requirement
  cryptography>=2.7 (from openstacksdk)
  ERROR: No matching distribution found for cryptography>=2.7

This is less self-explanatory but looking at the lower-constraints for
openstacksdk 0.52.0 shows a dependency on cryptography 2.7 [1], meaning
we need to bump this also.

Next up, flake8-import-order seems to cause the dependency resolver to
go nuts, eventually ending with the following error message in a Python
3.6 environment:

  Using cached enum34-1.1.2.zip (49 kB)
    ERROR: Command errored out with exit status 1:
     command: ...
         cwd: ...
    Complete output (9 lines):
    Traceback (most recent call last):
      File ""<string>"", line 1, in <module>
      File "".../lib/python3.6/site-packages/setuptools/__init__.py"", line 7, in <module>
        import setuptools.distutils_patch  # noqa: F401
      File "".../lib/python3.6/site-packages/setuptools/distutils_patch.py"", line 9, in <module>
        import re
      File ""/usr/lib64/python3.6/re.py"", line 142, in <module>
        class RegexFlag(enum.IntFlag):
    AttributeError: module 'enum' has no attribute 'IntFlag'
    ----------------------------------------

A quick Google suggests this is because the enum34 package is not
complete [2]. We shouldn't even be using it since our base virtualenv
should at least use Python 3.6, but I guess some dependency doesn't
properly restrict the dependency to <= Python 3.4. This is moved from
'test-requirements.txt' to 'tox.ini' since we don't need to use our
constraints machinery for linters.

Finally, the versions of bandit and hacking that pip is bringing in both
requires in a newer version of babel, which in turn requires a new
version of pytz.

  Collecting hacking>=2.0.0
  ...
  ERROR: Cannot install oslo.i18n because these package versions have
  conflicting dependencies.
  The conflict is caused by:
      babel 2.9.0 depends on pytz>=2015.7
      babel 2.8.1 depends on pytz>=2015.7
      babel 2.8.0 depends on pytz>=2015.7
      babel 2.7.0 depends on pytz>=2015.7

Seeing as we shouldn't be tracking bandit in
lower-constraints, I'm not sure why we're want to bump these
dependencies for just that. As above, we move these dependencies out of
'test-requirements' and into 'tox.ini' since we can do that for linters.

Conflicts:
  lower-constraints.txt
  test-requirements.txt

NOTE(stephenfin): Conflicts are due to the absence of ddt and presence
of mock in lower-constraints.txt and test-requirements.txt,
respectively.

Modifications:
  lower-constraints.txt

NOTE(stephenfin): There's no need to bump cryptography here since we're
using an older version of openstacksdk.

[1] https://opendev.org/openstack/openstacksdk/src/tag/0.52.0/requirements.txt#L19
[2] https://github.com/iterative/dvc/issues/1995#issuecomment-491889669

Change-Id: I8ec738fbcabc8d8553db79a876e5592576cd18fa
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit 20769cd7b27d51da84a324a17922427eba5c6eac)
(cherry picked from commit 83cd9b5b9c3b4c471b41190675f880599b78e44e)
"
openstack%2Frequirements~master~Ie5ef2b2a7a8386897690ab9007955be09710f8c3,openstack/requirements,master,new-release,Ie5ef2b2a7a8386897690ab9007955be09710f8c3,update constraint for python-ironicclient to new release 4.5.0,MERGED,2021-01-21 09:24:34.000000000,2021-01-21 22:50:17.000000000,2021-01-21 22:46:36.000000000,1,1,0,771772,250cfab0be0235a24711305db28e5cc990e92422,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-ironicclient to new release 4.5.0

meta: version: 4.5.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Iad2557888fe4d548ad32b2fa218104bc8ed42a77
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ie5ef2b2a7a8386897690ab9007955be09710f8c3
"
openstack%2Fopenstacksdk~master~If08fa34672ff32dda139b0b50cc7c4af89107846,openstack/openstacksdk,master,,If08fa34672ff32dda139b0b50cc7c4af89107846,Add id query parameter to sg rules,MERGED,2020-12-08 11:49:06.000000000,2021-01-21 22:50:01.000000000,2021-01-21 22:46:40.000000000,2,1,1,765980,b86edc3683ea73e0ecbe3d7d2c1495a1842d836c,16,3,1,2,32673,Tino Schreiber,tischrei,"Add id query parameter to sg rules

id paramter is needed for filter functionality in Ansible modules. See PR https://review.opendev.org/c/openstack/ansible-collections-openstack/+/765580

Change-Id: If08fa34672ff32dda139b0b50cc7c4af89107846
"
openstack%2Fswift~master~I357537492733b97e5afab4a7b8e6a5c527c650e4,openstack/swift,master,p-s3api-pipeline-check,I357537492733b97e5afab4a7b8e6a5c527c650e4,s3api: actually execute check_pipeline in real world,MERGED,2021-01-19 14:44:19.000000000,2021-01-21 22:49:50.000000000,2021-01-21 22:46:45.000000000,74,51,4,771467,6896f1f54b511f90414f414a07371b1101e59931,14,3,2,6,7847,Alistair Coles,acoles,"s3api: actually execute check_pipeline in real world

Previously, S3ApiMiddleware.check_pipeline would always exit early
because the __file__ attribute of the Config instance passed to
check_pipeline was never set. The __file__ key is typically passed to
the S3ApiMiddleware constructor in the wsgi config dict, so this dict
is now passed to check_pipeline() for it to test for the existence of
__file__.

Also, the use of a Config object is replaced with a dict where it
mimics the wsgi conf object in the unit tests setup.

UpgradeImpact
=============

The bug prevented the pipeline order checks described in
proxy-server.conf-sample being made on the proxy-server pipeline when
s3api middleware was included. With this change, these checks will now
be made and an invalid pipeline configuration will result in a
ValueError being raised during proxy-server startup.

A valid pipeline has another middleware (presumed to be an auth
middleware) between s3api and the proxy-server app. If keystoneauth is
found, then a further check is made that s3token is configured after
s3api and before keystoneauth.

The pipeline order checks can be disabled by setting the s3api
auth_pipeline_check option to False in proxy-server.conf. This
mitigation is recommended if previously operating with what will now
be considered an invalid pipeline.

The bug also prevented a check for slo middleware being in the
pipeline between s3api and the proxy-server app. If the slo middleware
is not found then multipart uploads will now not be supported,
regardless of the value of the allow_multipart_uploads option
described in proxy-server.conf-sample. In this case a warning will be
logged during startup but no exception is raised.

Closes-Bug: #1912391
Change-Id: I357537492733b97e5afab4a7b8e6a5c527c650e4
"
openstack%2Fmanila~master~Ieb828f4bce8964709bf5a18e19be6a3f4c484625,openstack/manila,master,bug/1878477,Ieb828f4bce8964709bf5a18e19be6a3f4c484625,Refactors code to avoid adding unnecessary config options,ABANDONED,2020-10-06 21:52:20.000000000,2021-01-21 22:36:11.000000000,,11,5,4,756405,25c4e944e83b6bac12ae67c50f0edaa790de892f,8,3,2,1,6413,Victoria Martinez de la Cruz,vkmc,"Refactors code to avoid adding unnecessary config options

We are setting up in manila.conf the configuration options
for the default backends even in the case that the default
config is not needed

This patch set refactors the code slightly so we only add the
required config options for the desired backend

Change-Id: Ieb828f4bce8964709bf5a18e19be6a3f4c484625
Closes-Bug: #1878477
"
openstack%2Fcharm-nova-cloud-controller~master~I758571613a945631e16412c9515b931029538c00,openstack/charm-nova-cloud-controller,master,sync-for-21-01,I758571613a945631e16412c9515b931029538c00,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:25:51.000000000,2021-01-21 22:31:52.000000000,2021-01-21 22:31:52.000000000,4,1,0,771636,0e02c9a207a20dc429e742b75f8a675eb9c142d3,20,3,3,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Note: func-test-pr is to test a change in zaza around model deletion.

Change-Id: I758571613a945631e16412c9515b931029538c00
func-test-pr: https://github.com/openstack-charmers/zaza/pull/410
"
openstack%2Fopenstack-helm-deployments~master~Ib0d15343fc28603d1a3e24fafb62f1b2fead1ba9,openstack/openstack-helm-deployments,master,,Ib0d15343fc28603d1a3e24fafb62f1b2fead1ba9,Update for Airshipctl changes,MERGED,2021-01-15 18:40:53.000000000,2021-01-21 21:51:49.000000000,2021-01-21 21:51:49.000000000,80,4,0,771061,a2daf3a7c8b0ea30faa97c7b7e0ced2281babf42,55,8,27,4,29585,Jeremy Houser,jh629g,"Update for Airshipctl changes

Secret generator phase patch:
http://review.opendev.org/766484/

Remove document plugin subcommand:
https://review.opendev.org/759279/

Change-Id: Ib0d15343fc28603d1a3e24fafb62f1b2fead1ba9
"
openstack%2Fnova-specs~master~Ia8100220268d1555aef4532d24e48e5152cd9db8,openstack/nova-specs,master,port-scoped-sriov-numa-affinity,Ia8100220268d1555aef4532d24e48e5152cd9db8,add port scoped numa affinity spec,MERGED,2020-12-08 02:08:29.000000000,2021-01-21 21:23:26.000000000,2021-01-21 21:21:14.000000000,205,0,79,765901,559fde0e335b5189a4feb466c3f9c36a6947ffeb,25,5,3,1,11604,sean mooney,sean-k-mooney,"add port scoped numa affinity spec

This change adds a spec to detail the extension
of the existing VM-scoped PCI NUMA affinity
feature and NUMA aware vswitch feature to support
port-scoped NUMA affinity policies.

Change-Id: Ia8100220268d1555aef4532d24e48e5152cd9db8
"
openstack%2Fneutron~stable%2Fvictoria~I7b12a469ae7197028cf3695520084597f4256480,openstack/neutron,stable/victoria,bug/1910213-stable/victoria,I7b12a469ae7197028cf3695520084597f4256480,ovn: Support live migration to DPDK nodes,MERGED,2021-01-18 09:20:16.000000000,2021-01-21 21:19:45.000000000,2021-01-21 21:10:02.000000000,3,1,0,771123,411fbdd205631ebca9093415b2b59c503d16587b,19,3,1,1,8655,Jakub Libosvar,jlibosva,"ovn: Support live migration to DPDK nodes

Previously, the vif-plugged event was emitted only when port VIF type
was set to normal. In DPDK case, the type is vhostuser. This patch
matches the type too and emits the notification to Nova.

Closes-bug: #1910213

Co-Authored-By: Flavio Fernandes <flaviof@redhat.com>

Change-Id: I7b12a469ae7197028cf3695520084597f4256480
(cherry picked from commit 2340ad217b198735b6bdcddf86d40d0f8c79f7bf)
"
openstack%2Fneutron~master~I91c55c9151a11401bd3a7fbe94e378a027bc97df,openstack/neutron,master,improve-neutron-ci,I91c55c9151a11401bd3a7fbe94e378a027bc97df,"Move ""Co-gating"" jobs to the periodic queue",MERGED,2021-01-19 16:12:25.000000000,2021-01-21 21:18:21.000000000,2021-01-21 21:10:11.000000000,18,43,2,771486,0afa1b24eef291f4abb4e9ac0e4b10fd480056a9,24,3,2,1,11975,Slawek Kaplonski,slaweq,"Move ""Co-gating"" jobs to the periodic queue

To use less infra resources by every Neutron patch, let's move
co-gating jobs, like Ironic, Openstacksdk and Tripleo based jobs
to the periodic queue.
Those jobs will be still run daily so we should have pretty good
coverage if (and when) some neutron change broke those projects but
we will use less infra resources by running jobs for every patch
proposed to Neutron.

Change-Id: I91c55c9151a11401bd3a7fbe94e378a027bc97df
"
openstack%2Fneutron~stable%2Fvictoria~Ib4b06c7877a7343f4204d4f4f5863931717ff507,openstack/neutron,stable/victoria,bug/1910946-stable/victoria,Ib4b06c7877a7343f4204d4f4f5863931717ff507,Do not report ovs agent state if ovs is dead,MERGED,2021-01-17 11:43:50.000000000,2021-01-21 21:18:17.000000000,2021-01-21 21:09:55.000000000,24,4,0,771119,7756940d8a723f388ae0faad2e095843de47d77c,18,3,1,3,29071,norman shen,ushen,"Do not report ovs agent state if ovs is dead

Do not report ovs agent state when ovs is dead,
and let neutron-server mark service as down. So
cluster admin could determine there is a problem
of the given ovs agent

Change-Id: Ib4b06c7877a7343f4204d4f4f5863931717ff507
Closes-Bug: #1910946
(cherry picked from commit 5d8f3fd614e4149dfd6ab67749f64ee0ef62afc7)
"
openstack%2Fossa~master~I3f8d3760daceb9e62396ae21b0d915ae07eff303,openstack/ossa,master,bug/1815422,I3f8d3760daceb9e62396ae21b0d915ae07eff303,More accurately match paths in safe path example,MERGED,2021-01-21 16:56:21.000000000,2021-01-21 21:09:26.000000000,2021-01-21 21:07:45.000000000,6,5,0,771854,0e4118d19efc43733d4d93f5fe7ccc359dcadcb2,8,3,1,1,5263,Jeremy Stanley,fungi,"More accurately match paths in safe path example

As was pointed out in a bug report, the example for safe path
matching should not be comparing substrings, but actual path
components. As OpenStack projects currently no longer support Python
interpreter versions prior to 3.5, we can take advantage of
os.path.commonpath() for confirming this correctly.

Change-Id: I3f8d3760daceb9e62396ae21b0d915ae07eff303
Closes-Bug: #1815422
"
openstack%2Fmanila-tempest-plugin~master~I9f0d50a325139e6067e4339533d4b01a322df7a8,openstack/manila-tempest-plugin,master,waiters,I9f0d50a325139e6067e4339533d4b01a322df7a8,Moving resource waiters to a new module,MERGED,2021-01-19 16:09:35.000000000,2021-01-21 20:30:56.000000000,2021-01-21 20:30:56.000000000,722,653,5,771485,540e74ac3da07cf62a00ab7976fb9382cf2e59a8,31,5,9,34,19262,Liron Kuchlani,lkuchlan,"Moving resource waiters to a new module

Currently, resource waiters methods are placed under
service clients modules. There are three duplicated
waiters in both v1 and v2 modules:
- wait_for_share_status
- wait_for_snapshot_status
- wait_for_access_rule_status

This patch suggests to separate the waiter functions
from client modules and collect them in one place.

Change-Id: I9f0d50a325139e6067e4339533d4b01a322df7a8
"
openstack%2Foctavia~stable%2Fussuri~I86add89ed7ea474dcb24962547c78460bc2e260c,openstack/octavia,stable/ussuri,,I86add89ed7ea474dcb24962547c78460bc2e260c,Add missing log line for finishing amp operations,MERGED,2020-09-21 06:09:16.000000000,2021-01-21 20:25:07.000000000,2021-01-21 20:22:51.000000000,12,2,0,752860,0afb17c434d1c385eb3b7f4859060de35a0d6f67,18,7,1,2,6469,Carlos Gonçalves,cgoncalves,"Add missing log line for finishing amp operations

Both amp config and amp cert rotate were missing Finished log lines.

Change-Id: I86add89ed7ea474dcb24962547c78460bc2e260c
(cherry picked from commit 6b182b50cda83bc83aa5cc1edd72e3dd6609de17)
"
openstack%2Fkayobe~master~I2c428ffc2b285aee03d8f59ae7cd3fb7230ce4ae,openstack/kayobe,master,story/2008180,I2c428ffc2b285aee03d8f59ae7cd3fb7230ce4ae,Add variables for API VIP address and FQDN,MERGED,2020-09-22 11:20:54.000000000,2021-01-21 20:16:29.000000000,2021-01-21 20:14:37.000000000,126,57,0,753289,1862e24bb5062be181e3462a773b96b214cd8be8,14,5,3,8,14826,Mark Goddard,mgoddard,"Add variables for API VIP address and FQDN

Kayobe currently supports definition of various different networks -
public, internal, tunnel, etc. These typically map to a VLAN or flat
network, with an IP subnet. When a cloud exceeds the size of a single
VLAN/subnet, this approach no longer works.

One way to resolve this is to have multiple subnets that map to a single
logical network, and provide routing between them. This is a similar
concept to neutron's routed networks, but for the control plane.

An issue arising from this is that if different hosts can have different
network definitions for the internal and public networks, it is no
longer trivial to use a network attribute [1] to specify the VIP address
and FQDN. Furthermore, the play that generates Kolla Ansible's
globals.yml containing the VIP and FQDN variables runs as localhost,
which does not necessarily have the internal and public networks
defined.

To resolve this, we add global variables for the VIPs and FQDNs. The
default values are as before, except in the case where HAProxy is
disabled, which we no longer provide a useful default for. That
configuration is very rarely used in practice, and the need to reference
the IP address of a host in the network group makes it difficult to
define safely.

[1] https://docs.openstack.org/kayobe/latest/configuration/reference/network.html#global-network-configuration

Story: 2008180
Task: 40937

Change-Id: I2c428ffc2b285aee03d8f59ae7cd3fb7230ce4ae
"
openstack%2Fneutron~stable%2Ftrain~Iadc1671c862f8c01e5761e92b82a04849d4bb411,openstack/neutron,stable/train,bug/1892405-stable/train,Iadc1671c862f8c01e5761e92b82a04849d4bb411,Fix removal of dvr-src mac flows when non-gateway port on router is deleted,MERGED,2021-01-07 04:15:01.000000000,2021-01-21 19:49:06.000000000,2021-01-21 19:44:55.000000000,219,19,0,769589,bf8fc2db0ca74631b60475103a4d3f543d052203,24,3,4,2,10366,Hemanth N,Hemanth,"Fix removal of dvr-src mac flows when non-gateway port on router is deleted

Removal of non-gateway port on DVR router deletes all the DVR to
SRC mac flows for the instances of same subnet on that compute node.
The instances are not reachable from any other network.

This patch checks if the DVR router port is gateway for the subnet
or not. And deletes the DVR-SRC mac flows only if it is gateway port.
The DVR-SRC mac flows are deleted if the gateway is not set for the subnet.

Change-Id: Iadc1671c862f8c01e5761e92b82a04849d4bb411
Closes-Bug: #1892405
(cherry picked from commit 329ea19f8b881421b9b5ae2fcc855f96af72a9f5)
"
openstack%2Fnova~master~Iaf6f6e0dbcb25561bf00e969e1964cd30e974e64,openstack/nova,master,,Iaf6f6e0dbcb25561bf00e969e1964cd30e974e64,zuul: Skip test_attach_cloned_encrypted_volume in nova-ceph-multistore,MERGED,2021-01-21 09:43:48.000000000,2021-01-21 19:14:56.000000000,2021-01-21 19:07:54.000000000,1,1,0,771777,6eae97843a21f7b7f58ce69328761b8fc8df6b6e,11,3,1,1,10135,Lee Yarwood,lyarwood,"zuul: Skip test_attach_cloned_encrypted_volume in nova-ceph-multistore

As with the already listed encrypted volume tests this job specifically
blocks us from downloading non-raw images via Glance as part of these
tests so skip it.

Change-Id: Iaf6f6e0dbcb25561bf00e969e1964cd30e974e64
Closes-Bug: #1912607
"
openstack%2Fdevstack~master~Ic460bdc3267059ecfae39ba53cb69144e5790ce0,openstack/devstack,master,posix-fix,Ic460bdc3267059ecfae39ba53cb69144e5790ce0,Small posix test to for zsh,ABANDONED,2019-04-16 23:15:32.000000000,2021-01-21 19:05:02.000000000,,1,1,0,653166,6970a3f53a71b8fffff0acdbc8f483c3e244c3cc,10,4,3,1,5997,Walt,walter-boring,"Small posix test to for zsh

This patch changes the test for OS_CACRT to a posix compliant test
that will work in zsh as well as bash.

Change-Id: Ic460bdc3267059ecfae39ba53cb69144e5790ce0
"
openstack%2Fopenstacksdk~master~I570a98328188979f453bed98a2f8d6e35c569f19,openstack/openstacksdk,master,,I570a98328188979f453bed98a2f8d6e35c569f19,Support SNAP_REAL_HOME when using openstacksdk inside a snap package,MERGED,2020-12-22 15:24:44.000000000,2021-01-21 18:56:36.000000000,2021-01-21 18:54:29.000000000,11,2,2,768223,78dd1a73d8ff063612560a9882b26bffa5f9e51a,12,4,2,1,7102,Thomas Bechtold,toabctl,"Support SNAP_REAL_HOME when using openstacksdk inside a snap package

When the openstacksdk is used inside a snap package (eg. [1]), $HOME
is re-written by snapd so that each snap appears to have a dedicated
home directory that is a subdirectory of the real home directory [2].
But the clouds.yaml file is still in the real home directory.
To be able to use that file, let openstacksdk look for $SNAP_REAL_HOME
and if available, use that variable to construct the path for the
clouds.yaml file.

[1] https://opendev.org/x/snap-openstackclients
[2] https://snapcraft.io/docs/environment-variables

Change-Id: I570a98328188979f453bed98a2f8d6e35c569f19
"
openstack%2Ftripleo-common~stable%2Fstein~Ia4998fbfe2ec3944f36b1d70a39ac432442aefbc,openstack/tripleo-common,stable/stein,tripleo-c7-update-upgrade-removal,Ia4998fbfe2ec3944f36b1d70a39ac432442aefbc,Remove centos-7 upgrade and update jobs and lower-constraints,MERGED,2021-01-19 07:43:32.000000000,2021-01-21 18:35:52.000000000,2021-01-21 18:29:39.000000000,0,12,0,771371,5194d273005192b5990f349e0617f3c48c19dc52,20,7,3,1,8449,Marios Andreou,marios,"Remove centos-7 upgrade and update jobs and lower-constraints

See topic branch [1] for related patches. Per the related bug it
also removes the lower-constraints jobs. These were removed for
stable/train at [2].

[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal
[2] https://review.opendev.org/c/openstack/tripleo-common/+/766517
Related-Bug: 1907236

Change-Id: Ia4998fbfe2ec3944f36b1d70a39ac432442aefbc
"
openstack%2Fautomaton~master~Iaaa6d1b7b0a957da75b0819c2d10b639463f9d23,openstack/automaton,master,tox-python38,Iaaa6d1b7b0a957da75b0819c2d10b639463f9d23,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:00:24.000000000,2021-01-21 18:25:10.000000000,2021-01-21 18:23:47.000000000,1,1,0,761298,86a214fc68e2d183bf6142c51ccde807207e36bc,11,2,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Iaaa6d1b7b0a957da75b0819c2d10b639463f9d23
"
openstack%2Freleases~master~Ibc97661927fefc0deab2c4a7b2739493051b92d7,openstack/releases,master,w2-c-w-i,Ibc97661927fefc0deab2c4a7b2739493051b92d7,Wallaby-2 Release for python-cyborgclient,MERGED,2021-01-15 06:41:30.000000000,2021-01-21 18:19:53.000000000,2021-01-21 18:19:53.000000000,5,0,0,770891,324ceffbdb5ffcfeeb9a80190fbaca576c46b3cc,11,5,2,1,28522,Hervé Beraud,hberaud,"Wallaby-2 Release for python-cyborgclient

This is the Wallaby milestone-2 release for python-cyborgclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 21.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ibc97661927fefc0deab2c4a7b2739493051b92d7
"
openstack%2Foslo.service~master~If79bec3c1ae3df62d2af057e748d6110952f9dcc,openstack/oslo.service,master,tox-python38,If79bec3c1ae3df62d2af057e748d6110952f9dcc,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:05:05.000000000,2021-01-21 18:13:15.000000000,2021-01-21 18:11:36.000000000,1,1,0,761314,8b8e0717bfb1ef7194e1efeb4338d7c8e3c24874,11,2,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: If79bec3c1ae3df62d2af057e748d6110952f9dcc
"
openstack%2Fnetworking-bagpipe~stable%2Fstein~I63aa2fed96c064f0cd778ea702ecd7a56d44014f,openstack/networking-bagpipe,stable/stein,oslo_lc_drop,I63aa2fed96c064f0cd778ea702ecd7a56d44014f,Dropping lower constraints testing (stable Stein),MERGED,2021-01-12 16:33:22.000000000,2021-01-21 18:06:32.000000000,2021-01-21 17:59:57.000000000,2,165,1,770451,47e77c975ec44cc20888a3dbc74340321c9ce47e,14,4,2,4,8313,Lajos Katona,elajkat,"Dropping lower constraints testing (stable Stein)

This topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

As decided in Neutron meeting, stable branches will drop this
CI job [2].

[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html

Change-Id: I63aa2fed96c064f0cd778ea702ecd7a56d44014f
"
openstack%2Fovn-octavia-provider~master~I46e01fe30bb98b51e392d15bf3597bdfe0ecc633,openstack/ovn-octavia-provider,master,,I46e01fe30bb98b51e392d15bf3597bdfe0ecc633,[DNM] Please ignore,ABANDONED,2021-01-21 16:25:24.000000000,2021-01-21 17:58:02.000000000,,1,2,0,771845,bd3110504f6586c8868a41a0c452c932719316a1,3,1,1,1,11952,Flavio Fernandes,ffernand,"[DNM] Please ignore

Change-Id: I46e01fe30bb98b51e392d15bf3597bdfe0ecc633
"
openstack%2Fopenstack-ansible-os_designate~master~I9490820bf344fc387a15020d0c5dedf08ab925f1,openstack/openstack-ansible-os_designate,master,copy-policy-json-in-place,I9490820bf344fc387a15020d0c5dedf08ab925f1,Adds handler for copying policy.json to the right place,NEW,2020-07-31 12:59:07.000000000,2021-01-21 17:57:34.000000000,,2,0,2,744149,07e8bf0534d5058d6bf2b33d078ebd605b8a9a10,5,2,2,2,30660,Jan Marquardt,janno,"Adds handler for copying policy.json to the right place

If designate_policy_overrides existed, the changes were written to
/etc/designate/policy.json-{{ designate_venv_tag  }}, but not
copied to /etc/designate/policy.json.

Change-Id: I9490820bf344fc387a15020d0c5dedf08ab925f1
"
openstack%2Fproject-config~master~I8d48371b592a54809f9845baf6110dc8fb7deca2,openstack/project-config,master,enable-inap-again,I8d48371b592a54809f9845baf6110dc8fb7deca2,"Revert ""Revert ""Revert ""Temporarily stop booting nodes in inap-mtl01""""""",MERGED,2021-01-21 17:08:59.000000000,2021-01-21 17:50:43.000000000,2021-01-21 17:42:42.000000000,1,1,0,771857,fa9e37d729869698f7f9149f4cdb533a79e8a5cf,7,2,1,1,4146,Clark Boylan,cboylan,"Revert ""Revert ""Revert ""Temporarily stop booting nodes in inap-mtl01""""""

This reverts commit 91d811b005d58576faeb00c40cb43a1a6d7b1c15.

We're going to try this again to see if the duplicate IPs (and resulting
ARP fights) persist. This is being done to balance against long queues
in Zuul.

Change-Id: I8d48371b592a54809f9845baf6110dc8fb7deca2
"
openstack%2Foslo.db~master~I66af9ab9bba12cdbb4a3652991f62aa98fa67450,openstack/oslo.db,master,tox-python38,I66af9ab9bba12cdbb4a3652991f62aa98fa67450,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:01:56.000000000,2021-01-21 17:50:28.000000000,2021-01-21 17:48:02.000000000,1,1,0,761303,6c3b36a28ddc1eabe76f1a4082fe4c4dd43fae70,12,3,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I66af9ab9bba12cdbb4a3652991f62aa98fa67450
"
openstack%2Fhorizon~master~I7222496d2c2b714b4037637104ae5c1ccbaf0665,openstack/horizon,master,deprecate-nova-ext-blacklist,I7222496d2c2b714b4037637104ae5c1ccbaf0665,"Revert ""Deprecate OPENSTACK_NOVA_EXTENSIONS_BLACKLIST""",ABANDONED,2020-07-28 17:29:58.000000000,2021-01-21 17:42:42.000000000,,0,11,1,743600,e647fc576f92939ef7d150d2a227889837ba17e8,11,5,1,2,1004,Mohammed Naser,mnaser,"Revert ""Deprecate OPENSTACK_NOVA_EXTENSIONS_BLACKLIST""

This option is extremely useful and needed inside environments where specific
extensions that need to be disabled which cause performance issues.  In large
environments, SimpleTenantUsage absolutely tears up the system and causes 504
gateway timeouts.

This reverts commit 523fbce3deeb7a79da34ad28e609ca25c3346c38.

Change-Id: I7222496d2c2b714b4037637104ae5c1ccbaf0665
"
openstack%2Foslo.versionedobjects~master~Ib41e75006acf4dd72968ab1896034f75899e8c34,openstack/oslo.versionedobjects,master,tox-python38,Ib41e75006acf4dd72968ab1896034f75899e8c34,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:05:41.000000000,2021-01-21 17:39:20.000000000,2021-01-21 17:37:26.000000000,1,1,0,761316,7ce947c8feeac967a3a5ce3f3c307b6665475e06,11,2,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Ib41e75006acf4dd72968ab1896034f75899e8c34
"
openstack%2Fswift~master~Ib225abd17666e8c966ebb4a559cef3851bcab844,openstack/swift,master,simple-manual-shrink,Ib225abd17666e8c966ebb4a559cef3851bcab844,Add swift-manage-shard-ranges shrink command,ABANDONED,2020-07-31 21:28:14.000000000,2021-01-21 17:30:04.000000000,,1337,27,35,744256,9793b7604aaabcfae6b9418c6a64c332d6caed22,13,3,5,6,15343,Tim Burke,tburke,"Add swift-manage-shard-ranges shrink command

... and some new probe tests and code for finding acceptors

Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>
Change-Id: Ib225abd17666e8c966ebb4a559cef3851bcab844
"
openstack%2Fnetworking-bagpipe~stable%2Ftrain~I5ea4bb27361df3c489deedb51d7ca8ea64bb923b,openstack/networking-bagpipe,stable/train,bug/1863021-stable/train,I5ea4bb27361df3c489deedb51d7ca8ea64bb923b,Monkey patch original current_thread _active,MERGED,2020-05-07 09:42:47.000000000,2021-01-21 17:29:36.000000000,2021-01-21 17:27:25.000000000,6,0,0,726074,2512a2b7a0553856d4bfd73d1b25542dd6939e91,19,6,4,1,21798,Bernard Cafarelli,bcafarel,"Monkey patch original current_thread _active

Monkey patch the original current_thread to use the up-to-date _active
global variable. This solution is based on that documented at:
https://github.com/eventlet/eventlet/issues/592

Change-Id: I5ea4bb27361df3c489deedb51d7ca8ea64bb923b
Closes-Bug: #1863021
(cherry picked from commit f0db421843f1161f4daa1e08b83eb2b11e78d9dd)
"
openstack%2Foslo.log~master~I4bad27f2daab336437ae7a85c79a4928b9fe894c,openstack/oslo.log,master,tox-python38,I4bad27f2daab336437ae7a85c79a4928b9fe894c,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:02:33.000000000,2021-01-21 17:24:15.000000000,2021-01-21 17:22:25.000000000,1,1,0,761306,a3d9c99dedd466baf4791f697112bfbcb3151ef9,13,3,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I4bad27f2daab336437ae7a85c79a4928b9fe894c
"
openstack%2Freleases~master~Ib419a77c99b4099e418f13815258230dd69c281d,openstack/releases,master,w2-c-w-i,Ib419a77c99b4099e418f13815258230dd69c281d,Wallaby-2 Release for python-tackerclient,MERGED,2021-01-15 06:57:36.000000000,2021-01-21 17:20:47.000000000,2021-01-21 17:20:47.000000000,4,0,0,770903,741fe7600ce6891b16be138bd008a09692e8478e,15,4,2,1,28522,Hervé Beraud,hberaud,"Wallaby-2 Release for python-tackerclient

This is the Wallaby milestone-2 release for python-tackerclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 21.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ib419a77c99b4099e418f13815258230dd69c281d
"
openstack%2Fnova~master~Ic23ca5fb1ad84d7300eb087b67a9e10d101cdf56,openstack/nova,master,bug/1899835,Ic23ca5fb1ad84d7300eb087b67a9e10d101cdf56,Add regression test for bug #1899835,MERGED,2020-10-14 20:17:04.000000000,2021-01-21 17:16:40.000000000,2021-01-21 17:08:37.000000000,106,0,1,758239,2317b92f4e80d82263e1b5f8f081e28361cc42c9,42,11,4,1,10135,Lee Yarwood,lyarwood,"Add regression test for bug #1899835

Related-Bug: #1899835
Change-Id: Ic23ca5fb1ad84d7300eb087b67a9e10d101cdf56
"
openstack%2Fneutron~stable%2Fstein~If19803ab6db144e2d17d6805d379c1c76d8fa343,openstack/neutron,stable/stein,bug/1906366-stable/stein,If19803ab6db144e2d17d6805d379c1c76d8fa343,Limit usage of resources in the fullstack tests job,MERGED,2021-01-11 11:47:25.000000000,2021-01-21 17:16:23.000000000,2021-01-21 17:08:28.000000000,8,4,0,770111,1fb797898b7bc1b349f00edb8088ab5c85cf6c67,17,3,2,5,11975,Slawek Kaplonski,slaweq,"Limit usage of resources in the fullstack tests job

To limit usage of resources (mostly memory) in the fullstack job and
to avoid oom killer to kill e.g. mysqld service, this patch:

* Makes number of API workers changeable by tests, as a parameter to
  EnvironmentDescription and defaults its value to 1. As neutron server
  is spawned separately for each test and is used only to process just
  few API requests during that single test so this should be still
  enough there, and where more API workers are needed (like some dhcp HA
  tests: TestDhcpAgentHARaceCondition) it can be changed,
* reduces number of test run workers from 4 to 3 - job will run slower
  but hopefully more stable,
* in the functional and fullstack tests job definition disable etcd3
  service - this will not save us a lot of memory but still it's not
  needed at all so why to run it there.

Conflicts:
    neutron/tests/fullstack/resources/environment.py
    neutron/tests/fullstack/test_dhcp_agent.py
    zuul.d/base.yaml

Change-Id: If19803ab6db144e2d17d6805d379c1c76d8fa343
Closes-Bug: #1906366
(cherry picked from commit f63dc09206a41c85edc92117c3e9cf3a3d49b820)
"
openstack%2Freleases~master~If62c81e75653c005b50d2ece2f3cc91ff595d78b,openstack/releases,master,release_osa,If62c81e75653c005b50d2ece2f3cc91ff595d78b,Release OpenStack-Ansible Train,MERGED,2021-01-19 13:44:11.000000000,2021-01-21 17:14:14.000000000,2021-01-21 17:14:14.000000000,4,0,0,771448,5340fcd22a51af44df0016e6963e64a661df3877,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Release OpenStack-Ansible Train

Change-Id: If62c81e75653c005b50d2ece2f3cc91ff595d78b
"
openstack%2Freleases~master~I19814fbb51fc040a761de1d95612bb9edc637fa8,openstack/releases,master,,I19814fbb51fc040a761de1d95612bb9edc637fa8,Release sushy 3.6.0 for Wallaby,MERGED,2021-01-20 12:34:27.000000000,2021-01-21 17:14:09.000000000,2021-01-21 17:14:09.000000000,4,0,0,771641,4a73339e7255390735026906ef415607d20531df,9,6,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Release sushy 3.6.0 for Wallaby

Change-Id: I19814fbb51fc040a761de1d95612bb9edc637fa8
"
openstack%2Freleases~master~If4227df0cc4a70d3bfad44c20d7d527eb66a431b,openstack/releases,master,glance-wallaby-m2,If4227df0cc4a70d3bfad44c20d7d527eb66a431b,Release Glance wallaby m-2 (22.0.0.0b2),MERGED,2021-01-20 11:53:13.000000000,2021-01-21 17:09:22.000000000,2021-01-21 17:09:22.000000000,5,0,0,771618,94a01d4d22bdbf3c13e88c2aab2611b6120734ae,9,4,1,1,5202,Erno Kuvaja,jokke,"Release Glance wallaby m-2 (22.0.0.0b2)

Change-Id: If4227df0cc4a70d3bfad44c20d7d527eb66a431b
"
openstack%2Fneutron~stable%2Fussuri~If19803ab6db144e2d17d6805d379c1c76d8fa343,openstack/neutron,stable/ussuri,bug/1906366-stable/victoria-stable/ussuri,If19803ab6db144e2d17d6805d379c1c76d8fa343,Limit usage of resources in the fullstack tests job,MERGED,2021-01-11 11:37:52.000000000,2021-01-21 16:55:11.000000000,2021-01-21 16:47:13.000000000,9,3,0,770080,1780962bed763e87c2ecaf7379b3368695faad16,16,4,1,5,11975,Slawek Kaplonski,slaweq,"Limit usage of resources in the fullstack tests job

To limit usage of resources (mostly memory) in the fullstack job and
to avoid oom killer to kill e.g. mysqld service, this patch:

* Makes number of API workers changeable by tests, as a parameter to
  EnvironmentDescription and defaults its value to 1. As neutron server
  is spawned separately for each test and is used only to process just
  few API requests during that single test so this should be still
  enough there, and where more API workers are needed (like some dhcp HA
  tests: TestDhcpAgentHARaceCondition) it can be changed,
* reduces number of test run workers from 4 to 3 - job will run slower
  but hopefully more stable,
* in the functional and fullstack tests job definition disable etcd3
  service - this will not save us a lot of memory but still it's not
  needed at all so why to run it there.

Change-Id: If19803ab6db144e2d17d6805d379c1c76d8fa343
Closes-Bug: #1906366
(cherry picked from commit f63dc09206a41c85edc92117c3e9cf3a3d49b820)
"
openstack%2Fopenstack-ansible-os_manila~master~Ie2c30dcc3640361b91e602125e98996c897f0f06,openstack/openstack-ansible-os_manila,master,osa/service_variables,Ie2c30dcc3640361b91e602125e98996c897f0f06,Use global service variables,MERGED,2021-01-08 15:35:41.000000000,2021-01-21 16:52:11.000000000,2021-01-21 16:45:07.000000000,17,10,1,769944,b5aed5c1301f60aea8fe34daefed8a6cb9572f14,19,4,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: Ie2c30dcc3640361b91e602125e98996c897f0f06
"
openstack%2Fironic~stable%2Fvictoria~I6cf7169f83356c248d4df61e1d9bba157c8499db,openstack/ironic,stable/victoria,,I6cf7169f83356c248d4df61e1d9bba157c8499db,Add a delay/retry is vmedia insert fails,MERGED,2021-01-18 16:04:09.000000000,2021-01-21 16:35:24.000000000,2021-01-21 16:32:38.000000000,59,2,2,771243,0e4e00e820b3cb320c1cb3c7fb7df7e181d3bf30,21,3,2,4,1926,Derek Higgins,derekh,"Add a delay/retry is vmedia insert fails

If media had been ejected beforehand then an immediate
insert may fail.

Change-Id: I6cf7169f83356c248d4df61e1d9bba157c8499db
Story: #2008504
Task: #41572
(cherry picked from commit 1a0f1cd545f0ff22e72d89fda40b1e64d61401f5)
"
openstack%2Ftempest~master~I840b273c37ca7cc4592c43813abfb424337e2836,openstack/tempest,master,admin-auth-system-scope,I840b273c37ca7cc4592c43813abfb424337e2836,Add system scope for admin auth,MERGED,2019-10-01 23:26:57.000000000,2021-01-21 16:26:35.000000000,2021-01-21 05:18:24.000000000,160,26,31,686073,cd0bbbdad37a31248d479ef78df948da0a1e850e,90,12,10,9,8482,Colleen Murphy,krinkle,"Add system scope for admin auth

Keystone is moving away from using either project-scope or domain-scope
for the main cloud administrator user, and instead moving toward the
admin user having a role assignment on the ""system"" scope[1]. This will
mean that no particular project or domain is special, and instead the
cloud administrator scopes to the system in order to make
deployment-wide changes. Keystone has now migrated all of its policies
to understand system scope[2], and if a deployment sets
[oslo_policy]/enforce_scope=true in keystone.conf and uses the new
policies, an admin user scoped to the admin project will not be able to
create dynamic credentials for tempest.

This patch adds a new parameter ``[auth]/admin_system`` to indicate that
neither the ``admin_project`` or ``admin_domain`` parameters apply to
the admin user and that the user should instead authenticate with the
system scope. This also adds ``admin_user_domain_name`` so that the
admin user can be found in its domain (namespace) without setting
``domain_name``, and for completeness also adds
``admin_project_domain_name`` so that ``domain_name`` could be omitted
even if using project scope.

[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html
[2] https://bugs.launchpad.net/keystone/+bugs?field.status%3Alist=FIXRELEASED&field.tag=system-scope

Depends-on: https://review.opendev.org/739262

Change-Id: I840b273c37ca7cc4592c43813abfb424337e2836
"
openstack%2Fcharm-guide~master~Ife2a40cfaa60a82986ff61bcad7498f93fe5c7eb,openstack/charm-guide,master,cinder-ceph-replication,Ife2a40cfaa60a82986ff61bcad7498f93fe5c7eb,Add cinder-ceph image mirroring to release notes,MERGED,2021-01-20 17:00:43.000000000,2021-01-21 15:34:18.000000000,2021-01-21 15:32:45.000000000,16,0,7,771672,30896c27fb9147ac6ec06d8e4736f1a2a614d573,13,3,2,1,31289,Aurelien Lourot,lourot,"Add cinder-ceph image mirroring to release notes

Change-Id: Ife2a40cfaa60a82986ff61bcad7498f93fe5c7eb
"
openstack%2Fkolla-ansible~master~I0da97d5a5b0a58d5c5e0e52b0687e2249d3fd222,openstack/kolla-ansible,master,update-release-notes,I0da97d5a5b0a58d5c5e0e52b0687e2249d3fd222,[docs] Correct project naming on Release Notes page,MERGED,2021-01-18 17:21:45.000000000,2021-01-21 15:22:18.000000000,2021-01-21 15:20:25.000000000,13,23,6,771253,0707100a853876813fe3adb1f158bca9210f3c4d,17,5,5,2,32657,Piotr Parczewski,piotrp,"[docs] Correct project naming on Release Notes page

Kolla Ansible's release notes page [1] has the same heading as
Kolla project's [2] which is confusing. This commit aims to fix
that, as well as to do some minor cleanup of docs configuration
by removing part that is never used.

[1] - https://docs.openstack.org/releasenotes/kolla-ansible/
[2] - https://docs.openstack.org/releasenotes/kolla/

Change-Id: I0da97d5a5b0a58d5c5e0e52b0687e2249d3fd222
"
openstack%2Ftacker~master~I4c66353eada16f7e51d7ed1c1999cf50635b9dce,openstack/tacker,master,change-770609-9,I4c66353eada16f7e51d7ed1c1999cf50635b9dce,Split FT to Legacy and SOL implementation,MERGED,2021-01-13 12:55:13.000000000,2021-01-21 15:16:53.000000000,2021-01-21 15:10:59.000000000,45,22,2,770609,ba813054a4a896d551e3c7a4927416d787e31bf1,35,8,10,32,27880,Yoshito Ito,yoshito-ito,"Split FT to Legacy and SOL implementation

FT execution time in Zuul is about to exceed its timeout. This patch
make the existing dsvm-functional FT job to be separated to two jobs;
* dsvm-functional-legacy
* dsvm-functional-sol

This patch fixes the unstable FT results in zuul FT jobs:
* test_rollback_instantiate:
  ``depends_on`` in BaseHOT makes stable deletion of stacks, otherwise
  Heat fails to delete subnets due to missing dependency with ports.
* test_vnf_alarm_scale_with_instance_reservation:
   ""--concurrency 1"" enables to run test without any VMs on hosts,
  otherwise Blazar fails to add hosts into the freepool.

Changes:
* Split the FT directory to legacy and sol
* Create new tox envs for FT of legacy and of SOL
* Relative path are changed due to the new directory structure
* Add ``depends_on` parameter in BaseHOT
* Set ""--concurrency 1"" for both of the new FT jobs

Change-Id: I4c66353eada16f7e51d7ed1c1999cf50635b9dce
"
openstack%2Foslotest~master~I06b805afb6c3c936b55a9e322cf406e424aeb8bc,openstack/oslotest,master,tox-python38,I06b805afb6c3c936b55a9e322cf406e424aeb8bc,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:06:18.000000000,2021-01-21 15:07:49.000000000,2021-01-21 15:05:26.000000000,1,1,0,761318,b591174f3b2d496ecd2051079b1363a60bca5bc9,11,2,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I06b805afb6c3c936b55a9e322cf406e424aeb8bc
"
openstack%2Fopenstack-doc-tools~master~I07c86686aa5bdd8658616c901cba262e4394bb12,openstack/openstack-doc-tools,master,tox-python38,I07c86686aa5bdd8658616c901cba262e4394bb12,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:07:55.000000000,2021-01-21 14:59:10.000000000,2021-01-21 14:57:40.000000000,1,1,0,761324,31c0b1901c0d19c9c5f8aa63086557c6bed75a31,11,2,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I07c86686aa5bdd8658616c901cba262e4394bb12
"
openstack%2Fproject-config~master~Ibb64ff8dbdac9eb483dc9bb9397bd3bed9a04293,openstack/project-config,master,story/2007196,Ibb64ff8dbdac9eb483dc9bb9397bd3bed9a04293,Add ubuntu bionic and focal with xxxlarge flavor,MERGED,2021-01-20 07:30:17.000000000,2021-01-21 14:55:57.000000000,2021-01-21 14:42:17.000000000,14,0,1,771565,031c748dded22f3e8389f986044106910233fddc,16,5,3,1,12404,Rico Lin,rico.lin,"Add ubuntu bionic and focal with xxxlarge flavor

ubuntu-focal-arm64-xxxlarge and ubuntu-bionic-arm64-xxxlarge
will use m1.xxxlarge as flavor

Change-Id: Ibb64ff8dbdac9eb483dc9bb9397bd3bed9a04293
"
openstack%2Fnova~master~I544b35eb6f8777a2356ccce90edc47ee8b4cf9bc,openstack/nova,master,no-cinder-in-multistore,I544b35eb6f8777a2356ccce90edc47ee8b4cf9bc,Try harder to exclude encrypted volumes,ABANDONED,2021-01-21 14:40:12.000000000,2021-01-21 14:52:02.000000000,,1,1,1,771822,84872e9b46ec9f474b0c7f2e960dfc252bcfc5b6,3,0,1,1,4393,Dan Smith,danms,"Try harder to exclude encrypted volumes

We planned to not run the cinder encryption tests in the
nova-ceph-multistore job, but lately we've been hitting tons of
failures in some of those tests that come in via the cinder
tempest plugin. This tries to make the regex hit more of them.

Change-Id: I544b35eb6f8777a2356ccce90edc47ee8b4cf9bc
"
openstack%2Fneutron~stable%2Fvictoria~If33c49c0f3e1e6696f5d2aa4008b287dc3f76c61,openstack/neutron,stable/victoria,bug/1902678-stable/victoria,If33c49c0f3e1e6696f5d2aa4008b287dc3f76c61,Add process name to AsyncProcess,MERGED,2020-12-04 11:42:15.000000000,2021-01-21 14:38:03.000000000,2021-01-21 14:35:19.000000000,37,9,5,765410,dd46044fce288f4ba44079772cbc08fcdcb1a404,21,3,2,4,11975,Slawek Kaplonski,slaweq,"Add process name to AsyncProcess

Since [1], Neutron sets the name of some processes (Neutron agents).
The ""ps"" output is modified consequently according to the defined
string:
  ""<process name> (<process command>)""

""AsyncProcess"" class should use the process name to parse the ""ps""
output correctly.

Closes-Bug: #1902678

[1]https://review.opendev.org/#/c/735125/

Change-Id: If33c49c0f3e1e6696f5d2aa4008b287dc3f76c61
(cherry picked from commit ad0605f9c3cced115c829c57dbeb0ee96b5ad8bb)
"
openstack%2Fopenstack-ansible~master~If3f28603b591782d851c4f333e3b1dcee39a0aac,openstack/openstack-ansible,master,,If3f28603b591782d851c4f333e3b1dcee39a0aac,Limit threads and processes for Senlin in AIO configuration,MERGED,2021-01-18 17:37:46.000000000,2021-01-21 14:11:48.000000000,2021-01-21 14:08:38.000000000,5,0,0,771256,cac849f791a6189a7c29748bf362f589dbef447c,13,4,1,1,25023,Jonathan Rosser,jrosser,"Limit threads and processes for Senlin in AIO configuration

Change-Id: If3f28603b591782d851c4f333e3b1dcee39a0aac
"
openstack%2Fironic~master~I4b06478a14ab514d785f8e3972e5afbd79f8d3b5,openstack/ironic,master,ramdisk-configdrive,I4b06478a14ab514d785f8e3972e5afbd79f8d3b5,Follow-up for ramdisk deploy configdrive support,MERGED,2021-01-11 19:02:51.000000000,2021-01-21 14:08:11.000000000,2021-01-21 14:06:14.000000000,55,19,3,770172,fe380bbbab9d99554ceff82404f6033215c36063,21,3,1,7,10239,Dmitry Tantsur,dtantsur,"Follow-up for ramdisk deploy configdrive support

1) Do not issue a warning if the boot interface supports configdrive
2) Implement missing support for Swift URLs in configdrives

Change-Id: I4b06478a14ab514d785f8e3972e5afbd79f8d3b5
"
openstack%2Fceilometer~master~If5ce1830aab844fa34ec375e474fa1651693cad9,openstack/ceilometer,master,tox,If5ce1830aab844fa34ec375e474fa1651693cad9,Update requirements URLs in tox config,MERGED,2020-10-29 12:04:25.000000000,2021-01-21 14:05:52.000000000,2021-01-21 14:03:50.000000000,1,1,0,760347,55c7f3127454a43de6274509b5844bca7b5ea81c,12,3,2,1,32029,likui,likui,"Update requirements URLs in tox config

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org

Change-Id: If5ce1830aab844fa34ec375e474fa1651693cad9
"
openstack%2Fceilometer~master~I3aab355f80940f8d5cb11987c1f336827fe4ed47,openstack/ceilometer,master,,I3aab355f80940f8d5cb11987c1f336827fe4ed47,Use TOX_CONSTRAINTS_FILE,ABANDONED,2020-11-03 07:53:24.000000000,2021-01-21 14:05:15.000000000,,2,2,0,761068,8034200d7ff27a08e151ed79f77256734ec3e92d,4,2,1,1,32291,wushiming,wushiming,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://review.opendev.org/#/c/722814/

Change-Id: I3aab355f80940f8d5cb11987c1f336827fe4ed47
"
openstack%2Fneutron~stable%2Fvictoria~I360ba1d074ecfac66f52656b61b5c27db72e9d26,openstack/neutron,stable/victoria,,I360ba1d074ecfac66f52656b61b5c27db72e9d26,"Add missing ""process_name"" argument on Windows",MERGED,2021-01-18 14:00:29.000000000,2021-01-21 13:58:41.000000000,2021-01-21 13:47:29.000000000,1,1,0,771201,80f4b8f9c6693ad74db04857cc9c5fcfb74ccb02,11,4,1,1,11975,Slawek Kaplonski,slaweq,"Add missing ""process_name"" argument on Windows

A recent change [1] added a ""process_name"" argument to the
""pid_invoked_with_cmdline"" function. The Windows version wasn't
updated, so the ovs agent is now failing [2].

This change adds the missing argument to the Windows
""pid_invoked_with_cmdline"" function.

[1] If33c49c0f3e1e6696f5d2aa4008b287dc3f76c61
[2] http://paste.openstack.org/raw/800146/

Change-Id: I360ba1d074ecfac66f52656b61b5c27db72e9d26
(cherry picked from commit 77db2cf7bd383b224b8f98b2aafd20571d055c79)
"
openstack%2Fnetworking-bagpipe~stable%2Ftrain~I321dcffc1ab2494de4bc398dfc97e5b5a6666495,openstack/networking-bagpipe,stable/train,oslo_lc_drop,I321dcffc1ab2494de4bc398dfc97e5b5a6666495,Dropping lower constraints testing (stable Train),MERGED,2021-01-12 16:31:32.000000000,2021-01-21 13:56:58.000000000,2021-01-21 13:43:19.000000000,5,164,0,770450,f58058aa06eb5648950e9c2a6f663843570ed8cd,17,6,6,5,8313,Lajos Katona,elajkat,"Dropping lower constraints testing (stable Train)

This topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

As decided in Neutron meeting, stable branches will drop this
CI job [2].

For train, add isort to test-requirements to pass tests with new pip
resolver, and use upper-constraints in doc requirements to cap neutron.

[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html

Change-Id: I321dcffc1ab2494de4bc398dfc97e5b5a6666495
"
openstack%2Fvalidations-libs~master~Ife26091f2a751347f315ffa7e493b8db6a203dc7,openstack/validations-libs,master,tox/pep8,Ife26091f2a751347f315ffa7e493b8db6a203dc7,pep8 is now run along with linter envs,ABANDONED,2021-01-20 07:49:05.000000000,2021-01-21 13:51:58.000000000,,1,0,1,771567,7b98fdf2c29ace1e4da79cc47c2f9b8006d8f29d,5,3,1,1,32926,Jiri Podivin,jpodivin,"pep8 is now run along with linter envs

tox.ini already defined pep8 env,
but only used it if specifically requested.
Now it is included with linter envs in general run.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ife26091f2a751347f315ffa7e493b8db6a203dc7
"
openstack%2Fheat~stable%2Fvictoria~Ic67b22c435e29f67bafa8e14ab502ebec5b07ec5,openstack/heat,stable/victoria,story/2002671-stable/victoria,Ic67b22c435e29f67bafa8e14ab502ebec5b07ec5,Delete the default value of domain in role creation,MERGED,2020-11-16 15:14:33.000000000,2021-01-21 13:35:22.000000000,2021-01-21 13:29:53.000000000,14,2,0,762859,996884da68469e91f9e13539f53c50fe10320dc2,7,3,1,2,12404,Rico Lin,rico.lin,"Delete the default value of domain in role creation

The default value of domain caused the user to be unable to create
role which no domain.
The patch delete the default value of domain.

Change-Id: Ic67b22c435e29f67bafa8e14ab502ebec5b07ec5
Story: 2002671
Task: 22488
(cherry picked from commit e5b00ddfafe2613440fd4992ca468b805276e58a)
"
openstack%2Fansible-collections-openstack~master~I0432e5d5d6d5f5ce935cf59a00f35153649c22dd,openstack/ansible-collections-openstack,master,protocols,I0432e5d5d6d5f5ce935cf59a00f35153649c22dd,Remove protocols choice in security rules,MERGED,2021-01-15 17:35:47.000000000,2021-01-21 13:34:43.000000000,2021-01-21 13:34:43.000000000,4,8,0,771055,a3f809eb998275fb1f8decb2c1a5e18206e8f44d,10,5,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Remove protocols choice in security rules

Security group rule can support a lot of protocols now and their
integer representations in 0-255 range. Let's not limit for this
option anymore.

Change-Id: I0432e5d5d6d5f5ce935cf59a00f35153649c22dd
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~I7d61841c551b26f098f854a161677e94a613c6be,openstack/openstack-ansible,stable/victoria,,I7d61841c551b26f098f854a161677e94a613c6be,Disable repeatedly failing zun tempest test,MERGED,2021-01-20 08:50:06.000000000,2021-01-21 13:22:37.000000000,2021-01-21 13:20:00.000000000,6,0,0,771548,2decd1df4e735d522c86ad0fab405fec666a3c39,12,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Disable repeatedly failing zun tempest test

This test regularly fails in CI for Ubuntu Focal in particular,
but occasionally for other distributions too. There may be an
occasional timing error causing it to end prematurely.

Change-Id: I7d61841c551b26f098f854a161677e94a613c6be
(cherry picked from commit dd35de4ccd8d89750667e47da5ae40797fd7095d)
"
openstack%2Fneutron~master~I0e186c3f5c06082ab64bffb51809a35ed8a8c63b,openstack/neutron,master,update-py3-to-wallaby,I0e186c3f5c06082ab64bffb51809a35ed8a8c63b,Switch to openstack-python3-wallaby-jobs,ABANDONED,2020-12-08 08:51:38.000000000,2021-01-21 13:17:43.000000000,,1,1,0,765923,287e0feee531d51afd31cae21922863f9286f02f,5,2,1,1,12404,Rico Lin,rico.lin,"Switch to openstack-python3-wallaby-jobs

Change-Id: I0e186c3f5c06082ab64bffb51809a35ed8a8c63b
"
openstack%2Fnova-specs~master~Id70e73ed0bfd44e9f3ef540614f1dda0cc925ba9,openstack/nova-specs,master,vhost-vdpa,Id70e73ed0bfd44e9f3ef540614f1dda0cc925ba9,[FUP] remove final reference to trait in vdpa spec,MERGED,2021-01-21 11:25:58.000000000,2021-01-21 12:49:58.000000000,2021-01-21 12:46:01.000000000,1,5,0,771796,0ecdd57bb7255ed928547a8b4bd4d13bb4fdaa2c,8,3,1,1,11604,sean mooney,sean-k-mooney,"[FUP] remove final reference to trait in vdpa spec

This is a trivial change to remove references to
a new standard trait in the upgrade impact
section since we choose not to add one.

This was missed when the trait was moved to the alternitives
section.

Change-Id: Id70e73ed0bfd44e9f3ef540614f1dda0cc925ba9
"
openstack%2Fnova-specs~master~I74a78223254194ae660aa6d851029c992ba581e2,openstack/nova-specs,master,vhost-vdpa,I74a78223254194ae660aa6d851029c992ba581e2,libvirt: support vdpa kernel networking,MERGED,2020-12-01 20:00:43.000000000,2021-01-21 12:48:00.000000000,2021-01-21 12:45:58.000000000,272,0,104,764999,e0588b5de707f59c6ade97b602fd97abd9f3e5fc,35,4,5,1,11604,sean mooney,sean-k-mooney,"libvirt: support vdpa kernel networking

This change adds a spec to describe enhancements
to the libvirt driver to support the new vdpa bus
for harware offloaded virtio devices.

blueprint: libvirt-vdpa-support
Change-Id: I74a78223254194ae660aa6d851029c992ba581e2
"
openstack%2Fkayobe~master~I7fa88a203274c3030b3d8e5208f94b2230d43c68,openstack/kayobe,master,,I7fa88a203274c3030b3d8e5208f94b2230d43c68,Fix /tmp/swift-rings/backups/ files deletion,MERGED,2020-11-30 05:10:51.000000000,2021-01-21 12:27:33.000000000,2021-01-21 12:26:03.000000000,7,0,0,764600,f811d3148ac542f32b476146ffc791aa4ea72693,30,6,3,2,23871,MargaritaShakhova,MargaritaShakhova,"Fix /tmp/swift-rings/backups/ files deletion

Add permission escalation to the swift ring generation playbook

Task: 41256
Story: 2008354
Change-Id: I7fa88a203274c3030b3d8e5208f94b2230d43c68
"
openstack%2Fironic~master~I9a3eb62bb41e0623df9aa5c34fde6f343053dd76,openstack/ironic,master,secure-rbac,I9a3eb62bb41e0623df9aa5c34fde6f343053dd76,Attempt to slim down protection test base class,MERGED,2021-01-13 22:35:06.000000000,2021-01-21 11:37:42.000000000,2021-01-21 11:33:13.000000000,15,63,6,770673,c7f24e8ceb9b49ed0fcdc94353240f5c1cfa65e2,23,4,4,2,5046,Lance Bragstad,ldbragst,"Attempt to slim down protection test base class

This commit builds on an attempt to introduce a base class that we can
use for protection testing. I'm removing the majority of the fake tokens
and context objects, ultimately removing anything that
keystonemiddleware_authtoken middleware does.

Doing this allows us to set authorization headers directly in the test,
which makes the test case really clear from an input and outcome
perspective because we can see who is make the request and the intended
outcome.

It also removes any need to mock or understand keystonemiddleware
implementation details to implement protection testing in ironic.

Change-Id: I9a3eb62bb41e0623df9aa5c34fde6f343053dd76
"
openstack%2Foctavia~stable%2Ftrain~I806d220236ad741b638ad9315537334f2d923031,openstack/octavia,stable/train,,I806d220236ad741b638ad9315537334f2d923031,Fix amphora failover when VRRP port is missing,MERGED,2020-09-21 23:52:25.000000000,2021-01-21 11:36:20.000000000,2021-01-21 11:33:31.000000000,98,25,0,753193,ea7351efe96fcf49ad42b4a62ebe7df70cbc9902,15,6,2,5,11628,Michael Johnson,johnsom,"Fix amphora failover when VRRP port is missing

In an amphora failover situation, if the VRRP port of the other
amphora in an active/standby pair is missing from neutron, the amphora
failover may fail with a ""port not found"" error.
This patch corrects this issue by allowing the amphora failover in
progress to complete even if the other amphora is also in a failed
state.

Train-Only: this commit also fixes the order of parameters in
v1/.../amphora_driver_tasks.py. It was fixed on other stable branches in
""Update amphora v2 for the failover refactor"" (From
https://review.opendev.org/c/openstack/octavia/+/738292).

Story: 2008127
Task: 40851

Change-Id: I806d220236ad741b638ad9315537334f2d923031
(cherry picked from commit 66f3a63f442bb790dea5c529aa56a462d9515363)
"
openstack%2Fironic~master~Iee91d80cef3b9e6024507171352c6de9e89ce36e,openstack/ironic,master,secure-rbac,Iee91d80cef3b9e6024507171352c6de9e89ce36e,Write stub ACL test for every existing API call,MERGED,2020-12-17 02:10:19.000000000,2021-01-21 11:36:12.000000000,2021-01-21 11:29:03.000000000,670,4,27,767445,36d819e2fb8e27f8c900cf50c6c6fde1bde68a41,31,4,6,2,4571,Steve Baker,steve-stevebaker,"Write stub ACL test for every existing API call

This adds a skipped test for every documented path and method
to aid in getting test coverage of existing ACL behaviour, in
preparation for doing the same for secure-rbac.

When adding test coverage, the skip keys should be removed, and
specific test inputs and asserts should be added. The test can be
duplicated and renamed to get the required allow/deny test coverage.

Its possible we can delete some of these stubs as the path/method
shares a policy name with another path/method that has test coverage.

test_acl_existing.yaml was generated with the script
http://paste.openstack.org/show/801106/

Change-Id: Iee91d80cef3b9e6024507171352c6de9e89ce36e
"
openstack%2Fblazar~stable%2Fstein~Id9d4ef57e2cdbb727470120eced1acdc53617372,openstack/blazar,stable/stein,,Id9d4ef57e2cdbb727470120eced1acdc53617372,Remove lower-constraints job on stable branches,MERGED,2021-01-21 08:47:22.000000000,2021-01-21 11:36:08.000000000,2021-01-21 11:25:27.000000000,0,1,0,771769,02d02edd37243434cad82764894dc5204f70ee55,7,2,1,1,15197,Pierre Riteau,priteau,"Remove lower-constraints job on stable branches

It is preventing us from merging patches. Remove until it can be fixed.

Change-Id: Id9d4ef57e2cdbb727470120eced1acdc53617372
(cherry picked from commit e0bd740e9e01764aac06ba28b4a7d856a68b4145)
"
openstack%2Fblazar~stable%2Ftrain~Id9d4ef57e2cdbb727470120eced1acdc53617372,openstack/blazar,stable/train,,Id9d4ef57e2cdbb727470120eced1acdc53617372,Remove lower-constraints job on stable branches,MERGED,2021-01-21 08:46:38.000000000,2021-01-21 11:36:03.000000000,2021-01-21 11:25:18.000000000,0,1,0,771768,09167ec01b2fc681b5553555bf158bcd41e07ebf,7,2,1,1,15197,Pierre Riteau,priteau,"Remove lower-constraints job on stable branches

It is preventing us from merging patches. Remove until it can be fixed.

Change-Id: Id9d4ef57e2cdbb727470120eced1acdc53617372
(cherry picked from commit e0bd740e9e01764aac06ba28b4a7d856a68b4145)
"
openstack%2Fblazar~stable%2Fussuri~Id9d4ef57e2cdbb727470120eced1acdc53617372,openstack/blazar,stable/ussuri,,Id9d4ef57e2cdbb727470120eced1acdc53617372,Remove lower-constraints job on stable branches,MERGED,2021-01-21 08:45:56.000000000,2021-01-21 11:35:44.000000000,2021-01-21 11:21:47.000000000,0,1,0,771767,6922665ea0dc831186a48a3cc0a45750d566055d,7,2,1,1,15197,Pierre Riteau,priteau,"Remove lower-constraints job on stable branches

It is preventing us from merging patches. Remove until it can be fixed.

Change-Id: Id9d4ef57e2cdbb727470120eced1acdc53617372
(cherry picked from commit e0bd740e9e01764aac06ba28b4a7d856a68b4145)
"
openstack%2Fblazar~stable%2Fvictoria~Id9d4ef57e2cdbb727470120eced1acdc53617372,openstack/blazar,stable/victoria,,Id9d4ef57e2cdbb727470120eced1acdc53617372,Remove lower-constraints job on stable branches,MERGED,2021-01-21 08:44:27.000000000,2021-01-21 11:33:52.000000000,2021-01-21 11:21:43.000000000,0,1,0,771765,e0bd740e9e01764aac06ba28b4a7d856a68b4145,7,2,1,1,15197,Pierre Riteau,priteau,"Remove lower-constraints job on stable branches

It is preventing us from merging patches. Remove until it can be fixed.

Change-Id: Id9d4ef57e2cdbb727470120eced1acdc53617372
"
openstack%2Fkayobe~master~I2482c86efebd66a5d22a761df82763cecd764386,openstack/kayobe,master,fix-macos-tests,I2482c86efebd66a5d22a761df82763cecd764386,Fix unit tests on macOS,MERGED,2021-01-20 11:58:17.000000000,2021-01-21 11:04:15.000000000,2021-01-21 11:02:46.000000000,3,2,0,771620,e0120b43ed9b4e243fd9efaba3a9b1c33f94a958,10,2,1,1,15197,Pierre Riteau,priteau,"Fix unit tests on macOS

This unit test was failing because /tmp is a symlink to /private/tmp on
macOS. _detect_install_prefix() returns a different path because it
calls os.path.realpath().

Change-Id: I2482c86efebd66a5d22a761df82763cecd764386
"
openstack%2Ftripleo-ansible~master~Icac9faa562ed9e48e483d4c5901cc2f9abb0daa2,openstack/tripleo-ansible,master,cephadm_integration,Icac9faa562ed9e48e483d4c5901cc2f9abb0daa2,Change-Id: I834a21f94c92dd0653e1ade202bb2fd55be33811,ABANDONED,2021-01-21 11:00:36.000000000,2021-01-21 11:01:20.000000000,,7,2,0,771793,b05ee4a2c290459d6978746792c800334615503a,2,0,1,1,25402,Francesco Pantano,fmount,"Change-Id: I834a21f94c92dd0653e1ade202bb2fd55be33811

Change-Id: Icac9faa562ed9e48e483d4c5901cc2f9abb0daa2
"
openstack%2Foctavia~stable%2Fstein~If5b6411a0b7c75441a406234c2792ea68d35d0fe,openstack/octavia,stable/stein,,If5b6411a0b7c75441a406234c2792ea68d35d0fe,Fix listener update with SNI certificates,MERGED,2020-12-16 11:09:25.000000000,2021-01-21 10:55:51.000000000,2021-01-21 10:53:45.000000000,83,17,0,767338,ec260571ce552f144ac91e359eac9a7e5e6a7e9b,12,4,3,9,29244,Gregory Thiemonge,gthiemonge,"Fix listener update with SNI certificates

SNI certificates were not being set in the database on listener update.
A listener GET would not show the certificates in the sni_container_refs
attribute. Also, the API was allowing set of SNI certs on non
TERMINATED_HTTPS listeners.

Task: 39042
Story: 2007421
Story: 2007430

Change-Id: If5b6411a0b7c75441a406234c2792ea68d35d0fe
(cherry picked from commit 9e070e6e6df6468a0b8f792cb089de0d9fc180b5)
(cherry picked from commit 7c6fef82ac3afbd6e47d3b2ad6341fc1accb8c54)
(cherry picked from commit b9dd09450863a155490f9bbaf4b0dd1f23a00b02)
"
openstack%2Foctavia-tempest-plugin~master~Ia61e0246a0ed8d81540aa7a6c051495bfc531313,openstack/octavia-tempest-plugin,master,change-770163-9,Ia61e0246a0ed8d81540aa7a6c051495bfc531313,Updating _test_pool_CRUD to enable testing of updates to the load balancer algorithm:,ABANDONED,2021-01-21 10:20:34.000000000,2021-01-21 10:50:45.000000000,,9,8,0,771781,99fc5698261cde09639a38317bd51ba1099d6220,2,0,1,1,32137,Arieh Maron,amaron,"Updating _test_pool_CRUD to enable testing of updates to the
load balancer algorithm:

Added a new parameter ""next_algorithm"" that defaults to None.
If next_algorithm is not None then the update of the pool
will also update the pool's loadbalancing algorithm.
Previous tests without this parameter ARE NOT AFFECTED.
New Test:
test_UDP_SIP_to_LC_pool_with_listener_CRUD
tests the result of updating the pool's
loadbalancing algorithm

Change-Id: Ia61e0246a0ed8d81540aa7a6c051495bfc531313
"
openstack%2Ftripleo-heat-templates~master~I0814bd8794ab82792837b27d0128e15c34b90adc,openstack/tripleo-heat-templates,master,virt-guest-shutdown-exists,I0814bd8794ab82792837b27d0128e15c34b90adc,Making sure virt-guest-shutdown.target exists,MERGED,2020-12-23 15:01:30.000000000,2021-01-21 10:42:18.000000000,2021-01-21 10:42:18.000000000,14,0,9,768348,93b5c3a20e113a38aa99ab8266681f4554b1ac97,31,8,5,1,7130,David Hill,dhill,"Making sure virt-guest-shutdown.target exists

libvirt-daemon is part of the default overcloud image but it's also
possible that it's not installed or simply removed by operators. In this
case, tripleo_nova_libvirt_guests will fail.

Related: https://bugzilla.redhat.com/1810319
Change-Id: I0814bd8794ab82792837b27d0128e15c34b90adc
"
openstack%2Fcharm-ceph-radosgw~master~I442967e1a616fe85426aa3eff9517b7615c83dd4,openstack/charm-ceph-radosgw,master,sync-for-21-01,I442967e1a616fe85426aa3eff9517b7615c83dd4,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:21:37.000000000,2021-01-21 10:20:29.000000000,2021-01-21 08:51:04.000000000,4,1,0,771629,2d292253ed2c5d6bed339a6c10f709f7f77121cb,19,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I442967e1a616fe85426aa3eff9517b7615c83dd4
"
openstack%2Fopenstack-ansible~master~I5b272cdfdba9fabc1c28ca7884074c1e96b80e4d,openstack/openstack-ansible,master,,I5b272cdfdba9fabc1c28ca7884074c1e96b80e4d,Switch from ansible-base + collections to ansible package,ABANDONED,2020-10-15 13:59:12.000000000,2021-01-21 10:20:23.000000000,,20,20,0,758431,b43a98c2469fef2b56e94d4a1eefcfa93f5424ca,3,1,1,2,25023,Jonathan Rosser,jrosser,"Switch from ansible-base + collections to ansible package

Installing collections with ansible-galaxy is causing a large number
of CI job failures [1].

This patch switches ansible-base to ansible which incorporates the
current set of collections [2].

[1] http://paste.openstack.org/show/799081/
[2] https://github.com/ansible-community/ansible-build-data/blob/main/2.10/CHANGELOG-v2.10.rst#changed-collections

Change-Id: I5b272cdfdba9fabc1c28ca7884074c1e96b80e4d
"
openstack%2Fos-net-config~master~Idbee49ce02d000043d0fa8e398aeb82f032c32aa,openstack/os-net-config,master,bug/1912409,Idbee49ce02d000043d0fa8e398aeb82f032c32aa,Check to ensure active DPDK NICs only mapped once,MERGED,2021-01-19 22:20:40.000000000,2021-01-21 10:12:19.000000000,2021-01-21 10:10:14.000000000,4,2,0,771522,ba93c36044a271b52fedb8a275f6b8e05fbe2a62,9,4,1,1,12398,Dan Sneddon,dsneddon,"Check to ensure active DPDK NICs only mapped once

This change ensures that active DPDK NICs are only added
to the list of mapped NICs once, and avoids duplicate entries.

When os-net-config runs for the first time there is no entry
in /sys/net for the DPDK NICs, so we look in
/var/lib/os-net-config/dpdk_mapping.yaml for the list of
DPDK NICs and add them to the NIC mapping list.

If os-net-config has been run before and the DPDK NICs are
already active, there is an entry in /sys/net and also an
entry in /var/lib/os-net-config/dpdk_mapping.yaml for the NIC.
This results in the same NIC being added to the list of active
NICs twice.

Change-Id: Idbee49ce02d000043d0fa8e398aeb82f032c32aa
Closes-Bug: #1912409
"
openstack%2Ftripleo-common~stable%2Fvictoria~I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b,openstack/tripleo-common,stable/victoria,bug/1908750,I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b,TCIB: Add cinder-volume extend_start.sh script,MERGED,2021-01-12 14:31:57.000000000,2021-01-21 10:12:14.000000000,2021-01-21 10:10:10.000000000,10,1,0,770349,5668f2397500847590f6c682681591247c1f141e,44,5,2,3,21129,Alan Bishop,ASBishop,"TCIB: Add cinder-volume extend_start.sh script

Add an extend_start.sh script for the cinder-volume service that
recursively chowns /var/lib/cinder to cinder:kolla. This ensures
cinder has permission to access the directory, especially in
situations where the directory may be owned by root.

Just like kolla itself did prior to tripleo's switch to TCIB, the
recursive chown is conditional on whether the top level /var/lib/cinder
directory isn't already owned by cinder:kolla. This is done so the
chown is only run once, which prevents slow service startups when the
directory contains a large number of entries.

Note: There was an initial fear that a recursive chown could traverse
onto any NFS share mounted by cinder. However, the extend_start.sh
script runs on container startup, prior to when cinder would create
any mounts. Even restarting the cinder-volume container is safe,
because NFS shares are automatically unmounted during the container
restart.

Closes-Bug: #1908750
Change-Id: I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b
(cherry picked from commit 1b45bb88383ad09fe534eacda66e18e5862a2037)
"
openstack%2Ftripleo-heat-templates~master~I97b42e618bcd31e408374157eb10d315ac62f306,openstack/tripleo-heat-templates,master,ffu-fix,I97b42e618bcd31e408374157eb10d315ac62f306,Remove pcs/pacemaker package installation from upgrade tasks,MERGED,2021-01-14 12:52:24.000000000,2021-01-21 09:56:05.000000000,2021-01-21 09:56:05.000000000,0,2,0,770804,4a599e3721472626673179f32eb6968978760a20,17,4,1,1,20172,Michele Baldessari,michele,"Remove pcs/pacemaker package installation from upgrade tasks

We currently forcefully install pacemaker + pcs in a number of upgrade
tasks.  This is suboptimal because on certain nodes pcs/pacemaker repos
are not enabled.  Let's let puppet pull in those packages normally.

Tested this during a queen -> train FFU successfully on a composable
roles environment.

Closes-Bug: #1911684

Change-Id: I97b42e618bcd31e408374157eb10d315ac62f306
"
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fussuri~I69c01f330feb67d92b6b01fea589a35969879da2,openstack/openstack-ansible-haproxy_server,stable/ussuri,change-768739-2,I69c01f330feb67d92b6b01fea589a35969879da2,Python3 supported version of hatop,MERGED,2020-12-29 18:13:56.000000000,2021-01-21 09:34:15.000000000,2021-01-21 09:32:15.000000000,44,30,0,768739,4485110ab3b0beb4f9b0687ac32389caa15be327,19,5,3,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Python3 supported version of hatop

New hatop package has python3 support.

Change-Id: I69c01f330feb67d92b6b01fea589a35969879da2
(cherry picked from commit a46106d4e7efabf5f74acc0c344975e7ab465f46)
"
openstack%2Fnova-specs~master~Ib73f88be0fbc18fcbb100111989399faf8cbfb2b,openstack/nova-specs,master,,Ib73f88be0fbc18fcbb100111989399faf8cbfb2b,libvirt: Add support for flavor and image defined ephemeral encryption,MERGED,2021-01-19 15:08:56.000000000,2021-01-21 09:32:36.000000000,2021-01-21 09:30:31.000000000,280,0,23,771474,30254be04ed5197b151eef2ababa176df8a17460,25,3,5,1,10135,Lee Yarwood,lyarwood,"libvirt: Add support for flavor and image defined ephemeral encryption

This spec introduces the libvirt driver implementation of the flavor and
image defined ephemeral encryption feature introduced by
I23379c73be6f7215b5cb31b523ff5371ee17c038.

Part of blueprint ephemeral-storage-encryption
Change-Id: Ib73f88be0fbc18fcbb100111989399faf8cbfb2b
"
openstack%2Fi18n~master~Ic53539e0813be1c9801ff131520c523174ace5c0,openstack/i18n,master,fix-relmgt-pip-doc,Ic53539e0813be1c9801ff131520c523174ace5c0,Move doc dependencies to doc/requirements.txt,ABANDONED,2021-01-08 07:06:02.000000000,2021-01-21 09:30:23.000000000,,6,3,0,769874,6896c4ab951a7dafbfca5d8af2a62ab3ee929590,4,1,1,3,841,Akihiro Motoki,amotoki,"Move doc dependencies to doc/requirements.txt

Splitting document dependencies into a separate requirements file
is our current best practice in OpenStack.
i18n repo has no release deliverable and does not affect the release
process, but I believe it is a good idea to follow the practice.

Change-Id: Ic53539e0813be1c9801ff131520c523174ace5c0
"
openstack%2Ftripleo-common~stable%2Fstein~Ic4781de4f51d8a0aedc09fffd9a1e1197f1a7c11,openstack/tripleo-common,stable/stein,,Ic4781de4f51d8a0aedc09fffd9a1e1197f1a7c11,Remove centos-7 upgrade and update jobs and lower-constraints,ABANDONED,2021-01-20 10:39:07.000000000,2021-01-21 09:14:03.000000000,,0,12,0,771588,ab541bc77a5920aaabc7c9ef6f37a90a00192aa0,5,0,1,1,8449,Marios Andreou,marios,"Remove centos-7 upgrade and update jobs and lower-constraints

See topic branch [1] for related patches. Per the related bug it
also removes the lower-constraints jobs. These were removed for
stable/train at [2].

[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal
[2] https://review.opendev.org/c/openstack/tripleo-common/+/766517
Related-Bug: 1907236
Change-Id: Ia4998fbfe2ec3944f36b1d70a39ac432442aefbc

Change-Id: Ic4781de4f51d8a0aedc09fffd9a1e1197f1a7c11
"
openstack%2Freleases~master~I95ef209e4f1a6fabd01eab2d796c5b933f1c3b62,openstack/releases,master,tempest-plugin-stein-last,I95ef209e4f1a6fabd01eab2d796c5b933f1c3b62,[Tempest Plugins] Tag stein-last,MERGED,2020-12-26 18:32:14.000000000,2021-01-21 09:05:33.000000000,2021-01-21 09:05:33.000000000,4,0,2,768538,437bb5a7d2c16ebc65167c0b80535f9a9c8ddbd7,39,4,9,1,8556,Ghanshyam,ghanshyam,"[Tempest Plugins] Tag stein-last

Stein branch is in Extended Maintenance now[1]. All Tempest
plugins are branchless which means master version of Tempest
and its plugins is used to test the supported stable branches.

Once stable branch is moved to EM state then, Tempest and its
plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with this tag once master
Tempest and its plugins are not compatible[2].

This tag will help for testing the stable/stein with single
compatible tag of Tempest and its plugins.

Tagging 'stein-last' with the commit used for 0.6.0.

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/stein/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: I95ef209e4f1a6fabd01eab2d796c5b933f1c3b62
"
openstack%2Freleases~master~I4a8e162442c84ab49c0654ef3264bcc9e74f1ae2,openstack/releases,master,tempest-plugin-stein-last,I4a8e162442c84ab49c0654ef3264bcc9e74f1ae2,[Tempest] Tag stein-last,MERGED,2020-12-26 19:16:31.000000000,2021-01-21 09:04:46.000000000,2021-01-21 09:04:46.000000000,4,0,0,768565,b3ca5a255c6e9e940d19b57556ac639f5d55cd97,20,3,5,1,8556,Ghanshyam,ghanshyam,"[Tempest] Tag stein-last

Stein branch is in Extended Maintenance now[1]. All Tempest
plugins are branchless which means master version of Tempest
and its plugins is used to test the supported stable branches.

Once stable branch is moved to EM state then, Tempest and its
plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with this tag once master
Tempest and its plugins are not compatible[2].

Documenting this new tag name here
- https://review.opendev.org/c/openstack/project-team-guide/+/769821

This tag will help for testing the stable/stein with single
compatible tag of Tempest and its plugins.

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/stein/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: I4a8e162442c84ab49c0654ef3264bcc9e74f1ae2
"
openstack%2Fswift~master~Iea376379ac7dd6a349d9ab29a4abe48e33dc1621,openstack/swift,master,,Iea376379ac7dd6a349d9ab29a4abe48e33dc1621,swift-init: Include message when no executables found,NEW,2021-01-14 22:45:42.000000000,2021-01-21 09:04:22.000000000,,7,8,0,770872,db5e074cd24ae5f74149125b6948b0b64374d186,11,3,2,2,15343,Tim Burke,tburke,"swift-init: Include message when no executables found

Otherwise, it's not obvious that there was a error at all.

Note that this won't impact, for example, `swift-init start main` when
there's no swift-proxy-server; the message only appears if *none* of the
(potentially aliased or globbed) services were found.

Change-Id: Iea376379ac7dd6a349d9ab29a4abe48e33dc1621
Related-Bug: #1079075
Related-Change: I09143ae20bd6249083c0b80cdaa9d561e6abb301
"
openstack%2Freleases~master~I7c4286c9cba33de85b18e585e6787ab4c3e08c8f,openstack/releases,master,w2-c-w-i,I7c4286c9cba33de85b18e585e6787ab4c3e08c8f,Wallaby-2 Release for ironic-lib,MERGED,2021-01-15 06:23:03.000000000,2021-01-21 09:03:09.000000000,2021-01-21 09:03:09.000000000,5,0,0,770883,141495ed7055b9cab39f13c09d921b01d2f3bc96,14,6,3,1,28522,Hervé Beraud,hberaud,"Wallaby-2 Release for ironic-lib

This is the Wallaby milestone-2 release for ironic-lib.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 21.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I7c4286c9cba33de85b18e585e6787ab4c3e08c8f
"
openstack%2Freleases~master~Idb4a7f7c88d712354396a016bc2c54508c5a4a5f,openstack/releases,master,openstacksdk-0.53.0,Idb4a7f7c88d712354396a016bc2c54508c5a4a5f,Release openstacksdk 0.53.0,MERGED,2021-01-08 09:28:44.000000000,2021-01-21 09:02:49.000000000,2021-01-21 09:02:49.000000000,4,0,0,769897,f6457132182f5335dda679af695dfb8f704a7572,19,6,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Release openstacksdk 0.53.0

Change-Id: Idb4a7f7c88d712354396a016bc2c54508c5a4a5f
"
openstack%2Freleases~master~Iad2557888fe4d548ad32b2fa218104bc8ed42a77,openstack/releases,master,w2-c-w-i,Iad2557888fe4d548ad32b2fa218104bc8ed42a77,Wallaby-2 Release for python-ironicclient,MERGED,2021-01-15 06:45:34.000000000,2021-01-21 08:59:21.000000000,2021-01-21 08:59:21.000000000,5,0,0,770894,79e36634ae28a7aa0d9cb4544f2f193ba4f7f04e,10,6,2,1,28522,Hervé Beraud,hberaud,"Wallaby-2 Release for python-ironicclient

This is the Wallaby milestone-2 release for python-ironicclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 21.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Iad2557888fe4d548ad32b2fa218104bc8ed42a77
"
openstack%2Freleases~master~I30f8e568e3d3b277799b516a1f2a400c5a070ddb,openstack/releases,master,release_osa,I30f8e568e3d3b277799b516a1f2a400c5a070ddb,Release OpenStack-Ansible Victoria,MERGED,2021-01-15 19:49:42.000000000,2021-01-21 08:57:32.000000000,2021-01-21 08:57:32.000000000,5,0,0,771072,d35b5cce08ff8ffe44a20e4928013e6466dda761,19,4,5,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Release OpenStack-Ansible Victoria

Change-Id: I30f8e568e3d3b277799b516a1f2a400c5a070ddb
"
openstack%2Freleases~master~I1f6d82af5fddc01a777fb105b05974f5ae2f39d1,openstack/releases,master,,I1f6d82af5fddc01a777fb105b05974f5ae2f39d1,Generalize usage of tools/process_auto_releases.sh,MERGED,2021-01-15 12:08:25.000000000,2021-01-21 08:51:42.000000000,2021-01-21 08:51:42.000000000,37,4,0,770930,3cf523a861f2b22e5c592bc212902620a9dca96a,7,3,1,1,28522,Hervé Beraud,hberaud,"Generalize usage of tools/process_auto_releases.sh

As it was proposed during the PTG these changes update our PROCESS as we go
during this cycle.

Change-Id: I1f6d82af5fddc01a777fb105b05974f5ae2f39d1
"
openstack%2Foctavia~master~I4b1d5c338361012c745b49462df20d5b9edeb2df,openstack/octavia,master,,I4b1d5c338361012c745b49462df20d5b9edeb2df,Use TOX_CONSTRAINTS_FILE,ABANDONED,2020-12-24 06:40:39.000000000,2021-01-21 08:48:15.000000000,,4,4,0,768423,be90a221f59fa4ca61c592fde30c603bd4117bfa,6,3,1,1,30384,zhangboye,zhangboye,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I4b1d5c338361012c745b49462df20d5b9edeb2df
"
openstack%2Fblazar~stable%2Fvictoria~I55fbae296f5582148f5b48b7cf96fbd77d014227,openstack/blazar,stable/victoria,,I55fbae296f5582148f5b48b7cf96fbd77d014227,Make lower-constraints job non-voting,ABANDONED,2021-01-20 20:58:12.000000000,2021-01-21 08:44:40.000000000,,2,0,0,771720,9873cd6c5abe1e6e445b5431c47ff9283cc5a22e,6,2,1,1,15197,Pierre Riteau,priteau,"Make lower-constraints job non-voting

It is preventing us from merging some patches. Disable until it can be
fixed.

Change-Id: I55fbae296f5582148f5b48b7cf96fbd77d014227
(cherry picked from commit 37bee67efde42f9e3926e74b0f9e29f94f843c62)
"
openstack%2Fansible-config_template~master~I03d890efc7213194556c0e17b4d141ff98640c79,openstack/ansible-config_template,master,,I03d890efc7213194556c0e17b4d141ff98640c79,Cleanup after repo_build and pip_install retirement,ABANDONED,2020-12-18 09:14:22.000000000,2021-01-21 08:37:57.000000000,,0,4,0,767680,31fbd9530ca8767f1894d86f4ff5cbb5424c8c24,11,1,1,1,32291,wushiming,wushiming,"Cleanup after repo_build and pip_install retirement

Change-Id: I03d890efc7213194556c0e17b4d141ff98640c79
"
openstack%2Frequirements~master~I268ed59527d5b7228a1a983b902432072d6c0f9a,openstack/requirements,master,bp/s,I268ed59527d5b7228a1a983b902432072d6c0f9a,Added IPy,ABANDONED,2021-01-21 06:54:01.000000000,2021-01-21 08:34:27.000000000,,2,0,0,771754,41300cf6b0bfd77415d3eaf00ac0a46dcc448060,4,0,2,2,31821,LiangLu,LiangLu,"Added IPy

https://review.opendev.org/c/openstack/tacker/+/771434
https://blueprints.launchpad.net/tacker/+spec/cnf-support-with-etsi-nfv-specs

[Q] Is the library actively maintained?
[A] Yes

[Q] Is the library good code?
[A] Yes

[Q] Is the library python 3 compatible?
[A] Yes, Python version 2.6 - 3.7.

[Q] Is the library license compatible?
[A] Yes, BSD 3-clause License

[Q] Is the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?
[A] No

[Q] Is the function of this library already covered by other libraries in global-requirements.txt?
[A] No

[Q] Is the library required for OpenStack project or related dev or infrastructure setup?
[A] Yes, it is a requirement to parse CIDR and convert it to IP address.

[Q] Do I need to update anything else?
[A] No

Change-Id: I268ed59527d5b7228a1a983b902432072d6c0f9a
"
openstack%2Fcharm-ceilometer~master~Id064f767cb896e55c6b59f47ff2f22b09e7eee1e,openstack/charm-ceilometer,master,sync-for-21-01,Id064f767cb896e55c6b59f47ff2f22b09e7eee1e,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:19:44.000000000,2021-01-21 08:26:42.000000000,2021-01-21 08:26:42.000000000,4,1,0,771624,397d315af7d3e9aedce95610aca5f1eb8d77cbd2,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: Id064f767cb896e55c6b59f47ff2f22b09e7eee1e
"
openstack%2Fcharm-rabbitmq-server~master~I4077102a0b979af0f4fc4172f48f7fe795beac41,openstack/charm-rabbitmq-server,master,sync-for-21-01,I4077102a0b979af0f4fc4172f48f7fe795beac41,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:26:21.000000000,2021-01-21 08:26:03.000000000,2021-01-21 08:26:03.000000000,4,1,0,771638,9ec3f641191b502bd51954beca0d5bbdc1c769f6,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I4077102a0b979af0f4fc4172f48f7fe795beac41
"
openstack%2Fcharm-percona-cluster~master~I1a97004410c5cf4ef98164281137bce46756b12c,openstack/charm-percona-cluster,master,sync-for-21-01,I1a97004410c5cf4ef98164281137bce46756b12c,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:07:49.000000000,2021-01-21 08:25:59.000000000,2021-01-21 08:25:59.000000000,23,1,0,770999,af9c467e353ca8e9254809f8f289fc383284da5e,29,3,3,1,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers
* Include NoNetworkBinding late fix.

func-test-pr: https://github.com/openstack-charmers/zaza/pull/409
Change-Id: I1a97004410c5cf4ef98164281137bce46756b12c
"
openstack%2Fcharm-neutron-api~master~I6268134218b6e3e9b96e5c0d25e02a2f473e19b6,openstack/charm-neutron-api,master,sync-for-21-01,I6268134218b6e3e9b96e5c0d25e02a2f473e19b6,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:25:08.000000000,2021-01-21 08:25:56.000000000,2021-01-21 08:25:56.000000000,4,1,0,771634,d4e4eeb743fe8682b41af2b32cdfda01a8914139,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I6268134218b6e3e9b96e5c0d25e02a2f473e19b6
"
openstack%2Fcharm-cinder-ceph~master~I7deee35df63f8f17bc1da5c4f303bef9f227bb9b,openstack/charm-cinder-ceph,master,sync-for-21-01,I7deee35df63f8f17bc1da5c4f303bef9f227bb9b,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:23:45.000000000,2021-01-21 08:25:34.000000000,2021-01-21 08:25:34.000000000,4,1,0,771632,165da3b8116f8eed0f86131968db2b3364a9da55,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I7deee35df63f8f17bc1da5c4f303bef9f227bb9b
"
openstack%2Fcharm-ceph-mon~master~I39648aa65299c77abe5790e5ac3cc29541142d46,openstack/charm-ceph-mon,master,sync-for-21-01,I39648aa65299c77abe5790e5ac3cc29541142d46,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:20:11.000000000,2021-01-21 08:25:00.000000000,2021-01-21 08:25:00.000000000,4,1,0,771626,6c7a168f81ee261c818d77bd55e4c26078ee8795,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I39648aa65299c77abe5790e5ac3cc29541142d46
"
openstack%2Fcharm-swift-proxy~master~I1faf793d433e1a0c61b8ad8efd1291cd77133ff6,openstack/charm-swift-proxy,master,sync-for-21-01,I1faf793d433e1a0c61b8ad8efd1291cd77133ff6,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:26:35.000000000,2021-01-21 08:24:45.000000000,2021-01-21 08:24:45.000000000,4,1,0,771639,dee0aa7c2ee6a825c6fb464f319100267fefd22c,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I1faf793d433e1a0c61b8ad8efd1291cd77133ff6
"
openstack%2Fcharm-heat~master~I8e7f6a5c19daca65b0561a4ea2e85b8e8adbfff9,openstack/charm-heat,master,sync-for-21-01,I8e7f6a5c19daca65b0561a4ea2e85b8e8adbfff9,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:24:34.000000000,2021-01-21 08:24:41.000000000,2021-01-21 08:24:41.000000000,4,1,0,771633,29be9de9ea499745eef2f912cc837f693cc397d1,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I8e7f6a5c19daca65b0561a4ea2e85b8e8adbfff9
"
openstack%2Fcharm-neutron-gateway~master~I7d8b1ac654f1c7b394c9218c7dbbbe8e6980632d,openstack/charm-neutron-gateway,master,sync-for-21-01,I7d8b1ac654f1c7b394c9218c7dbbbe8e6980632d,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:32:59.000000000,2021-01-21 08:24:37.000000000,2021-01-21 08:24:37.000000000,468,69,0,771037,033500842d5cb5ad0ddbf16d5370f994529a47b6,15,3,2,15,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers
* include fix for local_address() with NoBindingError

Change-Id: I7d8b1ac654f1c7b394c9218c7dbbbe8e6980632d
"
openstack%2Fcharm-ceph-proxy~master~I309ef298fecfe8d5cb2fd4c3322c3d734094f5d4,openstack/charm-ceph-proxy,master,sync-for-21-01,I309ef298fecfe8d5cb2fd4c3322c3d734094f5d4,Hotfix charmhelpers sync for local_address() fix,MERGED,2021-01-20 12:20:50.000000000,2021-01-21 08:23:18.000000000,2021-01-21 08:23:18.000000000,4,1,0,771628,6cdbf7f367d2c8d8de6d28392283143092762d0b,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Hotfix charmhelpers sync for local_address() fix

The network-get --primary-address juju-info fails on pre-2.8.?
versions of juju.  This results in a NoNetworkBinding error.
Fallback to unit_get() if that occurs for local_address().

Change-Id: I309ef298fecfe8d5cb2fd4c3322c3d734094f5d4
"
openstack%2Fcharm-neutron-api-plugin-ovn~master~I064d38d207b6dc6e7c8fd64facb2105f88ea23ce,openstack/charm-neutron-api-plugin-ovn,master,sync-for-21-01,I064d38d207b6dc6e7c8fd64facb2105f88ea23ce,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:32:41.000000000,2021-01-21 08:22:30.000000000,2021-01-21 08:22:30.000000000,7,1,0,771035,9ea642b7037a68647a5cbfe50ba5e4f1946c76b9,13,3,1,3,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

Change-Id: I064d38d207b6dc6e7c8fd64facb2105f88ea23ce
"
openstack%2Fcharm-nova-compute~master~If413a2bdd97bf5a751eba7fd74664525be39bd8c,openstack/charm-nova-compute,master,sync-for-21-01,If413a2bdd97bf5a751eba7fd74664525be39bd8c,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:33:42.000000000,2021-01-21 08:20:26.000000000,2021-01-21 08:20:26.000000000,443,64,0,771040,e316cc66c343505354d83adeb90694c5c6f14f81,18,3,3,14,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers
* Include fix for local_address() and NoBindingError

Change-Id: If413a2bdd97bf5a751eba7fd74664525be39bd8c
"
openstack%2Fcharm-trilio-horizon-plugin~master~I37f8564685e13b29f4a30577d23cc0c4d8892da3,openstack/charm-trilio-horizon-plugin,master,sync-for-21-01,I37f8564685e13b29f4a30577d23cc0c4d8892da3,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:35:30.000000000,2021-01-21 08:19:41.000000000,2021-01-21 08:19:41.000000000,7,1,0,771046,22aaeeaabe5ab68dbbb4d112d2694a3e9b47757e,20,3,2,3,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

Change-Id: I37f8564685e13b29f4a30577d23cc0c4d8892da3
"
openstack%2Fpython-cinderclient~master~I1234f6d59c8371d5418e3784c6cecd5739537010,openstack/python-cinderclient,master,,I1234f6d59c8371d5418e3784c6cecd5739537010,Drop lower-constraints job,ABANDONED,2021-01-15 09:36:15.000000000,2021-01-21 05:57:19.000000000,,0,1,0,770916,6a2b647dfcfd3d52f8ba2298baf508937f501f92,4,2,1,1,32326,YuehuiLei,YuehuiLei,"Drop lower-constraints job

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: I1234f6d59c8371d5418e3784c6cecd5739537010
"
openstack%2Fblazar~master~I539fa4cc6f17829f8e139498e629588ded03aa02,openstack/blazar,master,,I539fa4cc6f17829f8e139498e629588ded03aa02,Drop lower-constraints job,ABANDONED,2021-01-15 09:58:15.000000000,2021-01-21 05:56:14.000000000,,0,1,0,770919,3b9522c10caad9e952da7c5b471eadf648579d95,4,2,1,1,32326,YuehuiLei,YuehuiLei,"Drop lower-constraints job

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: I539fa4cc6f17829f8e139498e629588ded03aa02
"
openstack%2Fneutron~stable%2Fvictoria~Ibcc29c998065da521b35e5845727794a68782db0,openstack/neutron,stable/victoria,bug/1899864-stable/victoria,Ibcc29c998065da521b35e5845727794a68782db0,Neutron ovs agent: set mtu of smartnic port,MERGED,2020-11-30 10:13:25.000000000,2021-01-21 05:21:01.000000000,2021-01-21 05:18:18.000000000,58,22,0,764512,ab4206560f4112256b6875612935f9e2ff9afe97,36,6,2,2,12171,Moshe Levi,moshele,"Neutron ovs agent: set mtu of smartnic port

The smartnic port's MTU should be set according to the network's MTU
which the port belongs to.

Closes-Bug: #1899864
Change-Id: Ibcc29c998065da521b35e5845727794a68782db0
Signed-off-by: Xiaoyu Min <jackmin@nvidia.com>
(cherry picked from commit fc1fe016aa4e77c982da8ea0e6c7b88d7c1dad68)
"
openstack%2Fneutron~stable%2Ftrain~I2e784ea7e00c145135288bf309bb34ce311ac15c,openstack/neutron,stable/train,bug/1908057,I2e784ea7e00c145135288bf309bb34ce311ac15c,"Ensure ""keepalived"" is correcly disabled",MERGED,2021-01-14 16:36:04.000000000,2021-01-21 04:22:37.000000000,2021-01-21 04:21:09.000000000,51,1,0,770836,f65bea4943036d425f01768a8ef12120603c8095,26,4,2,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Ensure ""keepalived"" is correcly disabled

To stop a ""keepalived"" process, a SIGTERM signal is sent. This patch
checks if the process is not present in the system. If the instance
is still running after a short time, a SIGKILL signal is sent.

Conflicts:
    neutron/tests/unit/agent/linux/test_keepalived.py

Change-Id: I2e784ea7e00c145135288bf309bb34ce311ac15c
Closes-Bug: #1908057
(cherry picked from commit 2618acff516e5cfd2437dabf550cc3c3c7972b9f)
"
openstack%2Fneutron~stable%2Fussuri~Ibcc29c998065da521b35e5845727794a68782db0,openstack/neutron,stable/ussuri,bug/1899864-stable/ussuri,Ibcc29c998065da521b35e5845727794a68782db0,Neutron ovs agent: set mtu of smartnic port,MERGED,2020-11-30 10:14:23.000000000,2021-01-21 04:22:27.000000000,2021-01-21 04:21:01.000000000,58,22,0,764513,b82e2f735e9fb3cb837fab930f879f282166d42f,33,6,2,2,12171,Moshe Levi,moshele,"Neutron ovs agent: set mtu of smartnic port

The smartnic port's MTU should be set according to the network's MTU
which the port belongs to.

Closes-Bug: #1899864
Change-Id: Ibcc29c998065da521b35e5845727794a68782db0
Signed-off-by: Xiaoyu Min <jackmin@nvidia.com>
(cherry picked from commit fc1fe016aa4e77c982da8ea0e6c7b88d7c1dad68)
"
openstack%2Fpython-tripleoclient~master~I8cba98b97ebb6d18fce84c86cceb5c30b93dd194,openstack/python-tripleoclient,master,pylint,I8cba98b97ebb6d18fce84c86cceb5c30b93dd194,Enable pylint,MERGED,2021-01-08 13:41:19.000000000,2021-01-21 04:05:11.000000000,2021-01-21 04:03:58.000000000,87,2,0,769922,04c1466c44cec7a9c20e9eef8f480875907d0e3c,19,6,1,4,24162,Sorin Sbârnea,ssbarnea,"Enable pylint

Related-Bug: #1910543
Change-Id: I8cba98b97ebb6d18fce84c86cceb5c30b93dd194
"
openstack%2Ftripleo-common~stable%2Fussuri~I10ab0cbfbaab77b9208e9a5d74d59eb041cb16ee,openstack/tripleo-common,stable/ussuri,pylint-stable/ussuri,I10ab0cbfbaab77b9208e9a5d74d59eb041cb16ee,Enable pylint,MERGED,2021-01-07 11:01:20.000000000,2021-01-21 04:05:07.000000000,2021-01-21 04:03:54.000000000,89,7,0,769595,088d57870c7621cb4f70f1f097ceb708a0176a53,47,8,1,8,24162,Sorin Sbârnea,ssbarnea,"Enable pylint

This is a follow-up from [1] which underlined that the code lacks even basic coverage as it allow
us to introduce a costly regression which could have being detected by pylint no-member test.

- enables pylint with most checks temporary disabled, so we have time
  to address them gradually
- fixes few minor issues reported by the tool
- adds skips for some known ""no-member"" errors but avoids adding it to the exclude list, as this
  in order to prevent further regressions.
- once landed we can easily address the temporary disabled errors, one by one. In fact this is could
  prove as a very good learning experience for newer team members. They can start by removing on
  random exclusion and fixing it. As a hint: leave the missing docstrings for the end, some problems
  are more important to fix first.

1: https://review.opendev.org/c/openstack/tripleo-common/+/762892/6/tripleo_common/image/builder/buildah.py

Change-Id: I10ab0cbfbaab77b9208e9a5d74d59eb041cb16ee
(cherry picked from commit 13ac87ba36be2d8cddb37cd82d242dcb0a8717f5)
"
openstack%2Fcinder~master~If6ff252216f94a6d6deeceb33de8c23af3277e3b,openstack/cinder,master,more-user-messages,If6ff252216f94a6d6deeceb33de8c23af3277e3b,Extend use of user message in volume action,NEW,2017-05-11 08:38:39.000000000,2021-01-21 03:29:51.000000000,,204,19,16,463936,5f262639e569e57d80c9a03e6957b85b21fe78a8,160,66,5,4,23083,TommyLike,TommyLike,"Extend use of user message in volume action

Add user message support in these volume actions below.

1. delete volume
2. extend volume
3. migrate volume

Co-authored-by: TommyLike <tommylikehu@gmail.com>
Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: If6ff252216f94a6d6deeceb33de8c23af3277e3b
"
openstack%2Fovsdbapp~master~Iebdb417bf2147b13d871409f58d6d9ea8183895f,openstack/ovsdbapp,master,,Iebdb417bf2147b13d871409f58d6d9ea8183895f,enhancing lb_del so that removal of lb can optionally take logical routers,ABANDONED,2021-01-06 03:29:22.000000000,2021-01-21 02:55:48.000000000,,10,3,0,769448,6b6e878580acd4e4afbeaf00200c75213b5a53b9,4,1,2,2,30380,ZhouHeng,zhouhenglc,"enhancing lb_del so that removal of lb can optionally take logical routers

no vips will delete lb, if some routers ref to the lb, lb it will not be
deleted successfully

Change-Id: Iebdb417bf2147b13d871409f58d6d9ea8183895f
"
openstack%2Fneutron~stable%2Ftrain~I574fb07b3bd7813723377121c63eeec028e3c838,openstack/neutron,stable/train,bug/1867119-stable/train,I574fb07b3bd7813723377121c63eeec028e3c838,"Revert ""[Security] fix allowed-address-pair 0.0.0.0/0 issue""",MERGED,2020-11-17 14:33:47.000000000,2021-01-21 02:50:38.000000000,2021-01-21 02:48:55.000000000,43,95,0,763023,cce4120e5dec5e82721e7e6849d829b5e02568b5,40,9,2,12,11975,Slawek Kaplonski,slaweq,"Revert ""[Security] fix allowed-address-pair 0.0.0.0/0 issue""

This reverts commit 551130e9f4e8c89821d73881ad8e90a0208adb3e.

Conflict:
    neutron/tests/functional/agent/test_firewall.py

Change-Id: I574fb07b3bd7813723377121c63eeec028e3c838
Closes-Bug: #1903531
"
openstack%2Fneutron-vpnaas~master~Ib36524b413bf706ba275e1911c5468bb42a755ac,openstack/neutron-vpnaas,master,bp/enginefacade-switch,Ib36524b413bf706ba275e1911c5468bb42a755ac,Switch to the new db engine facade,MERGED,2021-01-14 12:30:16.000000000,2021-01-21 02:30:12.000000000,2021-01-21 02:28:43.000000000,23,22,4,770800,3d084bf48360a03cea8eb8e2a24149d09ea5c6a6,11,5,1,1,11975,Slawek Kaplonski,slaweq,"Switch to the new db engine facade

Partially-Implements blueprint: enginefacade-switch

Change-Id: Ib36524b413bf706ba275e1911c5468bb42a755ac
"
openstack%2Fkayobe~stable%2Fussuri~I82313fcd258e58969e0b68ae91a78943df537a7f,openstack/kayobe,stable/ussuri,,I82313fcd258e58969e0b68ae91a78943df537a7f,Fix overcloud host image resolv workaround on CentOS 8.3,MERGED,2021-01-18 16:07:50.000000000,2021-01-21 01:23:13.000000000,2021-01-21 01:21:38.000000000,7,1,0,771245,304a869fe1658e461af777974c97df6e5966610f,12,3,1,2,15197,Pierre Riteau,priteau,"Fix overcloud host image resolv workaround on CentOS 8.3

If a seed's bifrost_deploy container is deployed using a CentOS 8.2 base
image, prior to the CentOS 8.3 release, then a user runs 'kayobe seed
service deploy', the following task may fail:

    TASK [Ensure the overcloud host image has bogus name server entries removed]

This seems to be an issue with libgcrypt not being upgraded with
qemu-kvm, and becoming incompatible. The workaround is to ensure
libgcrypt is upgraded also.

Story: 2008430
Task: 41379

Change-Id: I82313fcd258e58969e0b68ae91a78943df537a7f
(cherry picked from commit bd5c5c018783028a4748de28d1287f29ef714c8e)
"
openstack%2Fmanila~master~Ia4e69219b107fc0630cb9e97401b9a8bda5b1adc,openstack/manila,master,bug/1868644,Ia4e69219b107fc0630cb9e97401b9a8bda5b1adc,Fix missing group and group_snapshots in absolute limits,MERGED,2020-10-01 22:32:31.000000000,2021-01-21 01:19:56.000000000,2021-01-21 01:09:26.000000000,33,4,1,755666,6bb021375ca837d218d9d9db23d025073ac3d4eb,24,6,3,4,29632,Carlos Eduardo,silvacarlos,"Fix missing group and group_snapshots in absolute limits

Modified limits API to make it return the max number of
share_groups and share_group_snapshots, as well as the total number
of resources used

Change-Id: Ia4e69219b107fc0630cb9e97401b9a8bda5b1adc
Closes-Bug: #1868644
"
openstack%2Ftripleo-common~master~I8b8879c2030cc705d5f32ba7abfef6d723c27121,openstack/tripleo-common,master,env_merging,I8b8879c2030cc705d5f32ba7abfef6d723c27121,Drop stack_update function,MERGED,2021-01-14 11:42:26.000000000,2021-01-21 01:12:36.000000000,2021-01-21 01:11:05.000000000,0,150,0,770793,77ba253261b811fea0c89d17f214636ee2dd96df,9,4,1,2,8833,Rabi Mishra,rabi,"Drop stack_update function

We don't use it anymore after change[1].

[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/769449

Change-Id: I8b8879c2030cc705d5f32ba7abfef6d723c27121
"
openstack%2Ftripleo-ci~master~If67428f417b6718bbc313440c867f1c163f6a0b2,openstack/tripleo-ci,master,reduce-content-providers,If67428f417b6718bbc313440c867f1c163f6a0b2,Remove excess content providers and upgrade jobs layouts,MERGED,2021-01-04 12:05:12.000000000,2021-01-21 01:00:40.000000000,2021-01-21 01:00:40.000000000,0,209,0,769131,d9f2ad3bb247db97dc4780db141d3bcac210846f,27,11,4,3,8449,Marios Andreou,marios,"Remove excess content providers and upgrade jobs layouts

In [1] we added new per-branch zuul-templates for upgrades jobs.
After the templates in [1] are wired up across TripleO this
patch removes the excess content providers and all the upgrade
jobs from the various job templates.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/761188

Change-Id: If67428f417b6718bbc313440c867f1c163f6a0b2
"
openstack%2Fadjutant~master~Ib8e546d5fbfbcb561e5b139893605d05c1a8ad62,openstack/adjutant,master,keystone,Ib8e546d5fbfbcb561e5b139893605d05c1a8ad62,Make identity interface configurable,MERGED,2021-01-20 02:19:35.000000000,2021-01-21 00:54:11.000000000,2021-01-21 00:52:35.000000000,9,0,3,771529,84270add343d06202e6680de7556ab4aba9d168f,13,2,3,2,33014,Uriel Medina,urimeba,"Make identity interface configurable

Keystone middleware sets the default identity interface as ""internal"".
This was causing issues with DevStack where ""internal"" endpoints
weren't being created.

We added a new config for interface, and have it default to 'public'.

Task: 41593
Story: 2008515
Change-Id: Ib8e546d5fbfbcb561e5b139893605d05c1a8ad62
"
openstack%2Fmanila~master~Ia72cf037d2b7dc9fb9d4f19ce141cc044206d6fc,openstack/manila,master,bug/1897903,Ia72cf037d2b7dc9fb9d4f19ce141cc044206d6fc,Add developer reference to share server migration,MERGED,2020-10-06 13:28:36.000000000,2021-01-21 00:01:45.000000000,2021-01-21 00:00:12.000000000,249,0,10,756297,281b7dd1cd07ba666ca865d53348907d04a46b83,20,7,2,3,29632,Carlos Eduardo,silvacarlos,"Add developer reference to share server migration

Updates the developer reference with informations regarding the
share server migration feature implemented during Victoria release.

Change-Id: Ia72cf037d2b7dc9fb9d4f19ce141cc044206d6fc
Partial-bug: #1897903
"
openstack%2Fneutron~stable%2Fussuri~If4476725f72bde110f9ce1a1507c672d428d52e5,openstack/neutron,stable/ussuri,bug/1884986,If4476725f72bde110f9ce1a1507c672d428d52e5,[FT] Add the datapath binding wait event to the watched list,MERGED,2021-01-15 17:45:35.000000000,2021-01-20 23:50:47.000000000,2021-01-20 23:48:20.000000000,3,1,0,771057,72189fff4ac69468f87e1e0b129146036c2cbf5b,19,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[FT] Add the datapath binding wait event to the watched list

In other to wait for a OVN DB event, the WaitEvent subclass must be
added to the DB notification handler.

Change-Id: If4476725f72bde110f9ce1a1507c672d428d52e5
Related-Bug: #1884986
(cherry picked from commit d4ae574fd3cfac631ad46a437b0d81f7f60e0c38)
"
openstack%2Fpython-tripleoclient~stable%2Fstein~Ia8dd58dcbce9574d3b1573c16fdab9d2c3f8c424,openstack/python-tripleoclient,stable/stein,tripleo-c7-update-upgrade-removal,Ia8dd58dcbce9574d3b1573c16fdab9d2c3f8c424,Remove centos-7 upgrade and update jobs and lower-constraints,MERGED,2021-01-19 07:47:13.000000000,2021-01-20 23:49:45.000000000,2021-01-20 23:44:26.000000000,0,7,0,771372,0779264c3eae72e16fd3aa5b4d0228859dbf9636,16,6,2,1,8449,Marios Andreou,marios,"Remove centos-7 upgrade and update jobs and lower-constraints

See topic branch [1] for related patches. Per the related bug it
also removes the lower-constraints jobs. These were removed for
stable/train at [2].

[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal
[2] https://review.opendev.org/c/openstack/python-tripleoclient/+/766514
Related-Bug: 1907236
Change-Id: Ia8dd58dcbce9574d3b1573c16fdab9d2c3f8c424
"
openstack%2Ftripleo-heat-templates~master~Ic41738392fbbe9239b927e26c0b2ed3b7abe3a09,openstack/tripleo-heat-templates,master,deprecate_novajoin,Ic41738392fbbe9239b927e26c0b2ed3b7abe3a09,Turn off the etcd TLS workaround used with novajoin,MERGED,2021-01-08 19:56:46.000000000,2021-01-20 23:47:31.000000000,2021-01-20 23:44:02.000000000,27,3,0,769985,9949a8efeb0723b65d2a16160cfc70c14d6638a5,22,7,2,4,21129,Alan Bishop,ASBishop,"Turn off the etcd TLS workaround used with novajoin

[1] introduced a workaround that was required when TLS-everywhere was
implemented with novajoin. The workaround is no longer required because
novajoin is deprecated in favor of the tripleo-ipa ansible module. The
workaround is disabled by changing the EnableEtcdInternalTLS parameter's
default value changes from False to True.

[1] Iec0d02f8f51067098dd58beb4fe57a7fd5ab5651

Change-Id: Ic41738392fbbe9239b927e26c0b2ed3b7abe3a09
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I17f1364932e43b8487515084e41b525e186888db,openstack/tripleo-heat-templates,stable/victoria,pcmk-shutdown-lock-stable/victoria,I17f1364932e43b8487515084e41b525e186888db,Revert rolling certificate updates for HA services,MERGED,2021-01-06 10:29:10.000000000,2021-01-20 23:44:20.000000000,2021-01-20 23:44:20.000000000,0,4,0,769501,864e4fdd79d608ed62c7b2844c014e2595931fc2,31,5,1,2,20778,Damien Ciabrini,dciabrin,"Revert rolling certificate updates for HA services

Currently galera and ovn require a coordinated restart across
the controller node when certmonger determines the certificate
for a node has expired and it needs to regenerate it.

But right now, when the tripleo certmonger puppet module is
called to assert to state of the certificates, it ends up
regenerating new certificate unconditionally. So the galera and
ovn get restarted on stack update, even when there is no need to.

To mitigate these unecessary restarts, disable the post-action
for now until we fix the behaviour of tripleo's certmonger puppet
module. This has the side effect that services won't get restarted
automatically if no stack update takes place until the certificate
expiration date is reached.

Related-Bug: #1906505

Change-Id: I17f1364932e43b8487515084e41b525e186888db
(cherry picked from commit 8b16911cc26ced10316fdd37a818fc1cb6fe5ece)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Id10f026c8b31cad7b7313ac9427a99b3e6744788,openstack/tripleo-heat-templates,stable/victoria,pcmk-shutdown-lock-stable/victoria,Id10f026c8b31cad7b7313ac9427a99b3e6744788,HA: reimplement resource locks with cibadmin,MERGED,2021-01-06 09:22:44.000000000,2021-01-20 23:43:57.000000000,2021-01-20 23:43:57.000000000,50,50,0,769497,f62b0533315d636654627349a67667790d138a7b,23,3,1,1,20778,Damien Ciabrini,dciabrin,"HA: reimplement resource locks with cibadmin

A resource lock is used as a synchronization point between
pacemaker cluster nodes. It is currently implemented
by adding an attribute in an offline copy of CIB, and merging
the update in the CIB only if no concurrent updates has
occurred in the mean time.

The problem with that approach is that - even if the concurrency
is enforced by pacemaker - the offline CIB contains a snapshot
of the cluster state; so pushing back the entire offline CIB
pushes old resources' state back into the cluster. This causes
additional burden on the cluster and sometimes caused unexpected
cluster state transition.

Reimplement the locking strategy with cibadmin; It's a much faster
approach, that provides the same concurrency guarantees, and only
changes one attribute rather than the entire CIB, so it doesn't
cause unexpected cluster state transition.

Closes-Bug: #1905585
Change-Id: Id10f026c8b31cad7b7313ac9427a99b3e6744788
(cherry picked from commit c8f5fdfc3609d38bea46f96ef378dcb5ecd14a2b)
"
openstack%2Fneutron~master~Icd376c144e1993ca84890c76743fda4196662d9b,openstack/neutron,master,improve-neutron-ci,Icd376c144e1993ca84890c76743fda4196662d9b,Switch tempest jobs to neutron specific ones,MERGED,2021-01-13 14:47:01.000000000,2021-01-20 23:41:00.000000000,2021-01-20 23:34:58.000000000,61,10,0,770630,d1ab4e26ea4e8a767e52f3e9b711021bd66edaf3,27,6,1,4,11975,Slawek Kaplonski,slaweq,"Switch tempest jobs to neutron specific ones

In neutron CI queues we were running tempest-slow-py3 and
tempest-ipv6-only jobs which are defined in tempest repository and runs
all tests, e.g related to Swift or Cinder.
This patch defines new jobs: ""neutron-tempest-slow-py3"" and
""neutron-tempest-ipv6-only"" which inherits from the tempest jobs but
disables Cinder and Swift services.
Additionally ""neutron-tempest-ipv6-only"" job now runs only
""integrated-networking"" tox_envlist.

Change-Id: Icd376c144e1993ca84890c76743fda4196662d9b
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I230dc58d401e8feb1e38cc8bad276690d141ce73,openstack/tripleo-heat-templates,stable/train,,I230dc58d401e8feb1e38cc8bad276690d141ce73,[TRAIN ONLY] Remove duplicate /var/run/openvswitch bind mount,MERGED,2021-01-15 23:30:29.000000000,2021-01-20 23:38:31.000000000,2021-01-20 23:38:31.000000000,2,3,0,770970,e14489eef2dc91e817bbb974e6cc852da69d01ce,14,6,2,1,29268,Matthew Heler,mheler,"[TRAIN ONLY] Remove duplicate /var/run/openvswitch bind mount

This duplicate bindmount is causing namespaces to leak.
Fixes BZ# 1903091

Partially cherry picked from
Change-Id: Iaced2ba676a4e4f651c67da082797cc1c1ffccd1

Change-Id: I230dc58d401e8feb1e38cc8bad276690d141ce73
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I230dc58d401e8feb1e38cc8bad276690d141ce73,openstack/tripleo-heat-templates,stable/ussuri,,I230dc58d401e8feb1e38cc8bad276690d141ce73,[USSURI ONLY] Remove duplicate /var/run/openvswitch bind mount,MERGED,2021-01-15 23:29:40.000000000,2021-01-20 23:18:39.000000000,2021-01-20 23:18:39.000000000,2,3,2,771093,0f3cc2653c26e741f5e4e9a309fa63d32b6729bb,22,7,4,1,29268,Matthew Heler,mheler,"[USSURI ONLY] Remove duplicate /var/run/openvswitch bind mount

This duplicate bindmount is causing namespaces to leak.
Fixes BZ# 1903091

Partially cherry picked from
Change-Id: Iaced2ba676a4e4f651c67da082797cc1c1ffccd1

Change-Id: I230dc58d401e8feb1e38cc8bad276690d141ce73
"
openstack%2Fopenstack-ansible~stable%2Fussuri~Ief0ee81a11b7385d9eb6bc498ecef9eab147d898,openstack/openstack-ansible,stable/ussuri,bump_osa,Ief0ee81a11b7385d9eb6bc498ecef9eab147d898,Bump SHAs for stable/ussuri,MERGED,2021-01-17 17:25:48.000000000,2021-01-20 23:16:42.000000000,2021-01-20 23:14:40.000000000,54,54,0,771148,e383e97aa398b128e26157c933ed9e32a663d018,14,3,1,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump SHAs for stable/ussuri

Change-Id: Ief0ee81a11b7385d9eb6bc498ecef9eab147d898
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Iaef7c01127327f709577bef3d2e96db840ba2b80,openstack/tripleo-heat-templates,stable/victoria,victoria-memcached-connections,Iaef7c01127327f709577bef3d2e96db840ba2b80,Add setting to override max memcached connections,MERGED,2021-01-14 10:48:34.000000000,2021-01-20 23:08:24.000000000,2021-01-20 23:06:28.000000000,11,0,0,770779,1ec4e5eceb44a5368ff4d3fed5355ee2cbd4755b,19,6,2,2,20172,Michele Baldessari,michele,"Add setting to override max memcached connections

Added MemcachedMaxConnections to allow max connection override as
actually the limit is 8192 connections but in some cases the environment
will create more than 8192 connections to each memcached server.

Closes-Bug: #1911664

Change-Id: Iaef7c01127327f709577bef3d2e96db840ba2b80
(cherry picked from commit bbed1ef736dff02bf54e03dfe72322a6344adc5e)
"
openstack%2Fopenstacksdk~stable%2Ftrain~I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77,openstack/openstacksdk,stable/train,bug/39843-stable/train,I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77,Don't set list_type to dict for server groups.,MERGED,2020-11-18 03:01:42.000000000,2021-01-20 23:05:22.000000000,2021-01-20 23:03:16.000000000,3,1,0,763121,7f6fbb27ca06eebc4ea1c5d564eb81a3ffb78332,25,3,1,2,3153,Emilien Macchi,emilienm,"Don't set list_type to dict for server groups.

When server_groups is present for retrieved server, this ends up
with the following exception [1]. So we should rather have
regular list instead of dict.

[1] http://paste.openstack.org/show/797758/

Change-Id: I40c4c5241d02aa9d6e61a8064b48a91bde5e6e77
Story: 2007710
Task: 39843
(cherry picked from commit 1c2a06350d615af6bef2615a94224ec49ac155b4)
"
openstack%2Fopenstack-helm~master~I2804cb540e64537f1bd6a9187ebeab8e5741b3ba,openstack/openstack-helm,master,opa-job,I2804cb540e64537f1bd6a9187ebeab8e5741b3ba,WIP - Add conftest gate,ABANDONED,2020-02-18 21:59:35.000000000,2021-01-20 22:47:19.000000000,,29,0,0,708523,b1a8d6e92fc317155bfe19c9493546c2b3c44b37,10,1,3,3,21420,Gage Hugo,ghugo,"WIP - Add conftest gate

Change-Id: I2804cb540e64537f1bd6a9187ebeab8e5741b3ba
"
openstack%2Fopenstack-helm-infra~master~I03df5bd1cab3a54f58af5848f8368b26a34777e6,openstack/openstack-helm-infra,master,test-unicode-ldap,I03df5bd1cab3a54f58af5848f8368b26a34777e6,DNM - LDAP Testing,ABANDONED,2020-06-05 15:38:09.000000000,2021-01-20 22:43:26.000000000,,9,9,0,733870,8f07c3b050d241d01e1b101ec38da7e48cff8adf,18,2,8,1,21420,Gage Hugo,ghugo,"DNM - LDAP Testing

Change-Id: I03df5bd1cab3a54f58af5848f8368b26a34777e6
"
openstack%2Fopenstack-helm~master~I6c53ebb5b8bde4c4b68de8162e15b583cc73bf86,openstack/openstack-helm,master,test-unicode-ldap,I6c53ebb5b8bde4c4b68de8162e15b583cc73bf86,DNM - Testing LDAP,ABANDONED,2020-06-05 15:45:20.000000000,2021-01-20 22:43:22.000000000,,11,40,0,733874,afa5f1ca35e6f04ffa28ce029c8944f560651b15,9,2,1,2,21420,Gage Hugo,ghugo,"DNM - Testing LDAP

Depends-On: https://review.opendev.org/#/c/733870/
Change-Id: I6c53ebb5b8bde4c4b68de8162e15b583cc73bf86
"
openstack%2Fopenstack-helm-deployments~master~Ib2158ba779a5b8c455f819c506b060278cb8629d,openstack/openstack-helm-deployments,master,dnm/test,Ib2158ba779a5b8c455f819c506b060278cb8629d,DNM: test,ABANDONED,2021-01-20 05:56:52.000000000,2021-01-20 22:43:15.000000000,,0,1,0,771560,95f353619150c16ec1f8ce2b15ec060b664ecc40,6,1,1,1,20466,Tin Lam,tinlam,"DNM: test

Signed-off-by: Tin Lam <tin@irrational.io>
Change-Id: Ib2158ba779a5b8c455f819c506b060278cb8629d
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I23b469057e4c47c42601beb166f815ee71147c14,openstack/tripleo-heat-templates,stable/ussuri,,I23b469057e4c47c42601beb166f815ee71147c14,Fix swift containers idempotency,MERGED,2021-01-13 15:44:49.000000000,2021-01-20 22:33:14.000000000,2021-01-20 22:33:14.000000000,23,3,0,770638,a7b1c81a0c7e3608d94324a1d8e5e3797a497966,12,4,1,3,6926,Bogdan Dobrelya,bogdando,"Fix swift containers idempotency

The change https://review.opendev.org/#/c/616116 unwinded the swift
part of the https://review.opendev.org/#/c/590008/ changes. So the
contents of the /var/lib/config-data/swift_ringbuilder config volume
used to be managed by container-puppet tool. That made swift containers
always restarted because the puppet-generated rings are always changing
on each deployment/update execution.

Restore that unwinded change back and exclude swift rings from the
management of container-puppet tooling. Instead make init containers
swift_copy_rings and swift_setup_srv to be always executed (takes
the same approach as in https://review.opendev.org/#/c/564798/).

That also fixes the issue with swift_copy_rings seems never been
executed - at least there is no traces of it in CI jobs logs for swift
init containers.

Change-Id: I23b469057e4c47c42601beb166f815ee71147c14
Closes-Bug: #1867765
Related-Bug: #1802066
Related-Bug: #1786065
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 9bc664090741d43fd49857230238fc345bf8d0c9)
"
openstack%2Fopenstack-helm-infra~master~I0b65412f4689c763b3f035055ecbb4ca63c21048,openstack/openstack-helm-infra,master,grafana-version,I0b65412f4689c763b3f035055ecbb4ca63c21048,Update Grafana version,MERGED,2021-01-14 16:38:12.000000000,2021-01-20 22:26:28.000000000,2021-01-20 22:23:58.000000000,13,54,6,770838,0e66ef972ac6e6e3198dd31432232b95d5b8159e,34,7,8,4,28849,Meghan Heisler,mh783g,"Update Grafana version

This brings the Grafana version up to the current version
and fixes the selenium helm and gate test for the new login
dashboard.

Change-Id: I0b65412f4689c763b3f035055ecbb4ca63c21048
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ibdd783b484a84c0fdfaac84d892a8ea46be85fde,openstack/tripleo-heat-templates,stable/ussuri,,Ibdd783b484a84c0fdfaac84d892a8ea46be85fde,Refresh Swift ring files without restarting containers,MERGED,2021-01-13 15:43:07.000000000,2021-01-20 22:15:04.000000000,2021-01-20 22:15:04.000000000,38,0,0,770636,de5fcf0d31c04113bd700f69a2a34f045d180354,14,5,1,3,6926,Bogdan Dobrelya,bogdando,"Refresh Swift ring files without restarting containers

Updating rings consists of multiple steps today:
1. Apply puppet in the swift_ringbuilder container
2. Copying files in step 3 using swift_copy_rings
3. Run kolla_set_config to copy files to /etc/swift before starting
   Swift service processes

This needs a container restart today, because kolla_set_config will be
executed only on container (re-)starts.

This patch will execute kolla_set_configs at the step 5 of deployment,
and apply all ring changes, if any, for the Swift processes without
a container restart. Swift processes will notice the changed ring files
within 15 seconds and will use the updated rings.

Co-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: Ibdd783b484a84c0fdfaac84d892a8ea46be85fde
(cherry picked from commit cb982440d74731e4943b75ea51feaa4f0fdcb938)
"
openstack%2Fansible-role-collect-logs~master~Id2e48021c8c92facba829c38205bee6d35aa55b5,openstack/ansible-role-collect-logs,master,newp,Id2e48021c8c92facba829c38205bee6d35aa55b5,Add pattern to packages download failure,MERGED,2021-01-19 11:20:09.000000000,2021-01-20 22:14:50.000000000,2021-01-20 22:14:50.000000000,5,0,0,771425,503fa8250f6a6e8044a20f03121deb90b4971d50,7,3,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add pattern to packages download failure

Change-Id: Id2e48021c8c92facba829c38205bee6d35aa55b5
"
openstack%2Ftripleo-ci~master~I395b05ea9353be5ea3694a206519944601143f3b,openstack/tripleo-ci,master,,I395b05ea9353be5ea3694a206519944601143f3b,Ensure logs directory exists,MERGED,2021-01-18 08:27:44.000000000,2021-01-20 22:14:45.000000000,2021-01-20 22:14:45.000000000,8,2,2,771167,889ec435020157dc9c9922eb942d1470f8bd6d7e,18,7,2,1,13861,yatin,yatinkarel,"Ensure logs directory exists

[1] changed logs path to workspace/logs, so we need to
ensure that the path exists before using it.
In zuul jobs it's being created by prepare-node role, but since this
role can be used outside of zuul like jenkins jobs let's
ensure the directory exists before utilizing it.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/755124/
Change-Id: I395b05ea9353be5ea3694a206519944601143f3b
"
openstack%2Ftripleo-upgrade~stable%2Fussuri~I084f3b974e37c9f5a4d720747e408645deb50995,openstack/tripleo-upgrade,stable/ussuri,fix_error_handling_system_upgrde-stable/ussuri,I084f3b974e37c9f5a4d720747e408645deb50995,Handle errors on system upgrade,MERGED,2021-01-14 17:43:14.000000000,2021-01-20 22:14:34.000000000,2021-01-20 22:14:34.000000000,14,2,0,770753,951d9e5bc8500a0ff6291806739cf5787b16212e,8,3,1,1,6816,Jesse Pretorius,jesse-pretorius,"Handle errors on system upgrade

Using 'wait' will not return error if any of the
child background process fails. This results in
unexpected behavior of triggering upgrade run
eventhough system upgrade failed. Observed this
issue during the integration of NFV's NIC partitioning
feature, in which system upgrade hangs on SR-IOV
cleanup step.

Used `wait $PID` to handle the states of all child
processes and wait for all to complete. Exit with error
if anyone of the childs exited with error.

Change-Id: I084f3b974e37c9f5a4d720747e408645deb50995
(cherry picked from commit 9ab549df7de36e43923b5d2ed43fdb3961872489)
"
openstack%2Fpython-openstackclient~master~Ib1972244d484839943bc3cda07519a6c6d4b945a,openstack/python-openstackclient,master,bp/address-groups-in-sg-rules,Ib1972244d484839943bc3cda07519a6c6d4b945a,Support remote-address-group in SG rules,MERGED,2020-10-14 16:52:44.000000000,2021-01-20 22:14:13.000000000,2021-01-20 17:03:39.000000000,67,0,0,758211,e01e59caeb56cb7bf4f38403b82d0a265b163098,16,6,3,4,28159,Hang Yang,hangyang,"Support remote-address-group in SG rules

Add support for using remote-address-group in security group rules.

Change-Id: Ib1972244d484839943bc3cda07519a6c6d4b945a
Implements: blueprint address-groups-in-sg-rules
Depends-On: https://review.opendev.org/755644
"
openstack%2Fblazar~master~I55fbae296f5582148f5b48b7cf96fbd77d014227,openstack/blazar,master,,I55fbae296f5582148f5b48b7cf96fbd77d014227,Make lower-constraints job non-voting,MERGED,2021-01-20 09:00:24.000000000,2021-01-20 22:06:57.000000000,2021-01-20 22:00:38.000000000,2,0,0,771576,37bee67efde42f9e3926e74b0f9e29f94f843c62,11,2,2,1,15197,Pierre Riteau,priteau,"Make lower-constraints job non-voting

It is preventing us from merging some patches. Disable until it can be
fixed.

Change-Id: I55fbae296f5582148f5b48b7cf96fbd77d014227
"
openstack%2Fswift~master~Ie44cd975e827d4cd95dc126f4379840a21e79e01,openstack/swift,master,collapse_empty_followup,Ie44cd975e827d4cd95dc126f4379840a21e79e01,Add root aceptor as root if root has been deleted,NEW,2021-01-19 05:15:13.000000000,2021-01-20 21:38:30.000000000,,47,14,4,771343,34fd06ab0b832991be4e6a79355902e9f6a7f145,4,1,1,1,7233,Matthew Oliver,mattoliverau,"Add root aceptor as root if root has been deleted

The basic idea is this. Clay's patch before this one adds to
the container backend so that a root container isn't reclaimable
if there are still shard ranges.

This means until we have autosharding or rather auto shrinking enabled
these empty sharded containers (roots and shards) could hang around
indefinitely.

This patch makes it possible for someone, say an op or in the future the
autosharder, to mark all the shards in the empty and deleted root
container SHRINKING. And when the shards pull these into themselves
they'll collapse into the root container.

Currently when we shrink, the shard needs to have an acceptor pushed
into it's shard range table. And that's alot of work for an op. This
patch makes is that:
  - If the root is deleted
  - the delete timestamp is older then reclaim_age
  - and the shardrange the shard pulls from the deleted root is in the
    SHRINKING state.
It'll insert the root shardrange as an acceptor so it can cleave and
delete itself back into the root (collapse).

Bonus here, is if there does happen to be an object in a shard somewhere
it'll push it back into the root where an op can deal with it.

We may still need to think about what happens if the root container
actually doesn't exist (404s), but if there is nothing the shard, it
""should"" be an no-op. Maybe 404s after reclaim should warn so an op can
look?

Change-Id: Ie44cd975e827d4cd95dc126f4379840a21e79e01
"
openstack%2Fopenstack-helm~master~Iea57c999abf42e364f78d1bd352fa4414e7f1f83,openstack/openstack-helm,master,fix-credential-reset,Iea57c999abf42e364f78d1bd352fa4414e7f1f83,"Revert ""[keystone] Fix fernet secret reset""",ABANDONED,2021-01-20 21:21:26.000000000,2021-01-20 21:23:07.000000000,,1,5,0,771603,11f3c8a235c61272389c44aa48e566a104446ffd,4,5,1,3,21420,Gage Hugo,ghugo,"Revert ""[keystone] Fix fernet secret reset""

This reverts commit f5a757b1065d26593bdf6fca55ed70772d5ff722.

Reason for revert: This breaks the upgrade path for helm2, the secrets are deleted since they have changed and not-recreated.

Change-Id: Iea57c999abf42e364f78d1bd352fa4414e7f1f83
"
openstack%2Fopenstack-helm~master~I7c1c97f38877e0e54bea7fc09b37dd6f77c9dc8a,openstack/openstack-helm,master,fix-credential-reset,I7c1c97f38877e0e54bea7fc09b37dd6f77c9dc8a,[keystone] Fix fernet secret reset,MERGED,2020-10-21 20:14:17.000000000,2021-01-20 21:21:26.000000000,2020-10-22 06:15:26.000000000,5,1,0,759136,f5a757b1065d26593bdf6fca55ed70772d5ff722,13,4,1,3,1004,Mohammed Naser,mnaser,"[keystone] Fix fernet secret reset

This patch makes the fernet and credential secret something that gets
created only once when the deployment is first done, as when using Helm,
it's possible that it overrides it's values with an empty secret in the
runs afterwards.

By making it a hook, it will instead create it and leave an owner
reference in Helm 3 to delete it later if the release is deleted.  It
will not manage it afterwards as well.

Change-Id: I7c1c97f38877e0e54bea7fc09b37dd6f77c9dc8a
"
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I084f3b974e37c9f5a4d720747e408645deb50995,openstack/tripleo-upgrade,stable/victoria,fix_error_handling_system_upgrde-stable/victoria,I084f3b974e37c9f5a4d720747e408645deb50995,Handle errors on system upgrade,MERGED,2021-01-14 17:42:50.000000000,2021-01-20 21:21:04.000000000,2021-01-20 21:21:04.000000000,14,2,0,770752,ac69c47bb4ba7b6da926a46608075c0b3e026320,10,3,1,1,6816,Jesse Pretorius,jesse-pretorius,"Handle errors on system upgrade

Using 'wait' will not return error if any of the
child background process fails. This results in
unexpected behavior of triggering upgrade run
eventhough system upgrade failed. Observed this
issue during the integration of NFV's NIC partitioning
feature, in which system upgrade hangs on SR-IOV
cleanup step.

Used `wait $PID` to handle the states of all child
processes and wait for all to complete. Exit with error
if anyone of the childs exited with error.

Change-Id: I084f3b974e37c9f5a4d720747e408645deb50995
(cherry picked from commit 9ab549df7de36e43923b5d2ed43fdb3961872489)
"
openstack%2Fcinder-tempest-plugin~master~I846b96ef925c34162cf462da91d854ceacabe022,openstack/cinder-tempest-plugin,master,change-737884-10,I846b96ef925c34162cf462da91d854ceacabe022,Encryption Test Scenario for clone volume,MERGED,2020-06-24 22:51:40.000000000,2021-01-20 21:12:07.000000000,2021-01-20 21:12:07.000000000,183,0,16,737884,5ab3fef76283ca91b92fa130ba2685886bd8af68,72,6,13,1,20813,Sofia Enriquez,enriquetaso,"Encryption Test Scenario for clone volume

Due to an error in the _setup_encryption_keys volume rekey code, a
cloned encrypted volume that has been rekeyed will specify an
encryption key different from the key used to format the volume,
so it cannot be attached.

This test scenario will cover this feature and also the case of
source-vol feature.

Related-Bug: #1904440
Depends-on: https://review.opendev.org/#/c/762884/
Change-Id: I846b96ef925c34162cf462da91d854ceacabe022
"
openstack%2Fopenstack-ansible-os_horizon~stable%2Fvictoria~I77246d51a7880ef373ef4b33e199032d204f8b89,openstack/openstack-ansible-os_horizon,stable/victoria,,I77246d51a7880ef373ef4b33e199032d204f8b89,Add missing 'horizon-config' tag,MERGED,2021-01-20 09:58:59.000000000,2021-01-20 21:03:29.000000000,2021-01-20 21:01:49.000000000,2,0,0,771549,9af2d8a58e12e08559fbb970760bb566d0b80140,8,4,1,1,25023,Jonathan Rosser,jrosser,"Add missing 'horizon-config' tag

There is a missing tag in the os-horizon-install.yml
file that leads to an undefined variable error when
running the playbook with '--tags horizon-config'

Change-Id: I77246d51a7880ef373ef4b33e199032d204f8b89
(cherry picked from commit 8e1b3f522ad94375519bbb11127b3087a9653c47)
"
openstack%2Fnova~master~I2aee364cc03656a372b29038c59d7377fc654400,openstack/nova,master,vhost-vdpa,I2aee364cc03656a372b29038c59d7377fc654400,[WIP] add vdpa prefilter,ABANDONED,2021-01-13 05:47:27.000000000,2021-01-20 21:02:16.000000000,,48,0,0,770534,401f4bd1e3c3d3d7e7c9e16600ff849947c0262a,8,1,1,2,11604,sean mooney,sean-k-mooney,"[WIP] add vdpa prefilter

This change add a placement prefilter for vdpa
interfaces and a corresponding config option.
It is disabled by default as it is only supported
by the libvirt driver.

Change-Id: I2aee364cc03656a372b29038c59d7377fc654400
Partial-implements: blueprint libvirt-vdpa-support
"
openstack%2Fhorizon~master~Ied681bc3d1b4213bd6bacb3042b377ec2ac10855,openstack/horizon,master,bug/1895588,Ied681bc3d1b4213bd6bacb3042b377ec2ac10855,Show project name at launch instance dialog,MERGED,2020-09-14 21:00:50.000000000,2021-01-20 20:41:33.000000000,2021-01-20 20:39:43.000000000,30,2,2,751899,b65700a86584c14308c71ce778f698cc24ac1995,30,6,3,4,6914,Tatiana Ovchinnikova,tmazur,"Show project name at launch instance dialog

It is easy enough to create instances in the wrong project.
This patch displays project name at launch instance dialog.

Closes-Bug: #1895588

Change-Id: Ied681bc3d1b4213bd6bacb3042b377ec2ac10855
"
openstack%2Ftripleo-ansible~master~I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf,openstack/tripleo-ansible,master,fix-ffu,I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf,Remove pcs/pacemaker package installation from upgrade tasks,MERGED,2021-01-14 12:52:20.000000000,2021-01-20 20:19:34.000000000,2021-01-20 20:19:34.000000000,0,2,0,770803,62010a641d1794d4e708e31de6a386f99ab8d52f,22,4,1,1,20172,Michele Baldessari,michele,"Remove pcs/pacemaker package installation from upgrade tasks

We currently forcefully install pacemaker + pcs in a number of upgrade
tasks.  This is suboptimal because on certain nodes pcs/pacemaker repos
are not enabled.  Let's let puppet pull in those packages normally.

Tested this during a queen -> train FFU successfully on a composable
roles environment.

Closes-Bug: #1911684

Change-Id: I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf
"
openstack%2Foctavia-tempest-plugin~master~I9eb3c7ce8af879cd910b06234c99b53670907e49,openstack/octavia-tempest-plugin,master,fix-oper-status-with-listener,I9eb3c7ce8af879cd910b06234c99b53670907e49,Change pool create scenario test to wait for operating status,MERGED,2020-08-12 20:47:46.000000000,2021-01-20 19:56:54.000000000,2021-01-20 19:54:47.000000000,10,1,3,745962,aaa6fc7fde3064888f7935ee3d9bded8a0d219b6,74,8,11,2,1131,Brian Haley,brian-haley,"Change pool create scenario test to wait for operating status

The API test for pool creation has a check to wait for the
operating status of a pool to transition to ONLINE if a
listener has been provided.

The scenario test for pool creation doesn't wait for any
operating status transition after a pool is created with
a listener, and instead always assumes it's OFFLINE.

They should both wait for a transition, since otherwise
drivers that transition to ONLINE quickly, like OVN, can
race and fail the scenario test.

Depends-on: https://review.opendev.org/c/openstack/octavia/+/763530

Change-Id: I9eb3c7ce8af879cd910b06234c99b53670907e49
Story: 2008009
Task: 40659
"
openstack%2Fxstatic-jquery-migrate~master~I96d5af00c33c464cd293e4fde648569ea949516d,openstack/xstatic-jquery-migrate,master,,I96d5af00c33c464cd293e4fde648569ea949516d,Update to 3.3.2,MERGED,2020-11-30 14:52:01.000000000,2021-01-20 19:43:22.000000000,2021-01-20 19:43:22.000000000,778,440,0,764769,2d1952a662abbc344bf6380d64988e2c8cba1b5b,9,5,1,3,8648,Radomir Dopieralski,thesheep,"Update to 3.3.2

Change-Id: I96d5af00c33c464cd293e4fde648569ea949516d
"
openstack%2Fgovernance~master~Ic34080d6e97bbbf1978f0cc114eacc4582513642,openstack/governance,master,2021,Ic34080d6e97bbbf1978f0cc114eacc4582513642,Add QA in 2021 upstream investment opportunities,ABANDONED,2021-01-20 19:14:25.000000000,2021-01-20 19:34:36.000000000,,109,0,0,771708,f36c4b69ffeded1159333fb92915b0d701c01e17,3,1,1,1,8556,Ghanshyam,ghanshyam,"Add QA in 2021 upstream investment opportunities

Change-Id: Ic34080d6e97bbbf1978f0cc114eacc4582513642
"
openstack%2Fgovernance~master~I4d610df057c8edbba4f312abd420dd926278b89f,openstack/governance,master,2021-help,I4d610df057c8edbba4f312abd420dd926278b89f,Add RBAC work in 2021 upstream investment opportunities,ABANDONED,2021-01-20 19:16:05.000000000,2021-01-20 19:34:20.000000000,,90,0,0,771709,0d8af03f2d66d83d3e09c7f1c957d13cb98f6ad8,3,1,1,1,8556,Ghanshyam,ghanshyam,"Add RBAC work in 2021 upstream investment opportunities

Change-Id: I4d610df057c8edbba4f312abd420dd926278b89f
"
openstack%2Fmanila~master~Ia0cc534e0bfb2ca5e495e575237e9911c746691b,openstack/manila,master,bug/1659025,Ia0cc534e0bfb2ca5e495e575237e9911c746691b,[Doc] Add admin doc for share group,MERGED,2017-09-12 09:56:19.000000000,2021-01-20 19:14:49.000000000,2021-01-20 19:12:30.000000000,508,0,157,502936,3fa5cf4ed2d4196e606c2bdf36403702ce05fd53,187,29,19,3,15100,zhongjun,zhongjun2,"[Doc] Add admin doc for share group

Partial-Bug: #1659025
Change-Id: Ia0cc534e0bfb2ca5e495e575237e9911c746691b
"
openstack%2Fmanila~stable%2Fqueens~Id9bdd5df0ff05ea08881dd2c83397f0a367d9945,openstack/manila,stable/queens,bug/1879368,Id9bdd5df0ff05ea08881dd2c83397f0a367d9945,[NetApp] Fix CIFS promote back issue,MERGED,2021-01-19 19:46:12.000000000,2021-01-20 19:14:44.000000000,2021-01-20 19:12:26.000000000,93,2,0,771412,ada0998b766c42200978f6a21ad8591201edf0ac,14,5,1,7,16643,Goutham Pacha Ravi,gouthamr,"[NetApp] Fix CIFS promote back issue

This change fixes the NetApp promote back issue when using CIFS
protocol. When promoting a replica, the NetApp ONTAP driver
attempts to create a new CIFS share entity (an access point as
defined in [1]) for the new active replica. This behavior
causes a failure since the storage identifies that a current
backend CIFS share with the same name exists, considering
that the reffered replica was once the active one.

This issue is addressed by removing the related CIFS share
entity when the replica gets promoted.

[1] https://library.netapp.com/ecmdocs/ECMP1401220/html/GUID-1898D717-A510-4B3D-B2E3-CCDDD5BD0089.html

Closes-Bug: #1879368
Change-Id: Id9bdd5df0ff05ea08881dd2c83397f0a367d9945
(cherry picked from commit c3aed22f9454ca684af45c929be19b8593d55609)
(cherry picked from commit d2514735141bcf982e4bf043802591b3d017b526)
(cherry picked from commit 226f7e758a0b704e023e6aec0dfd271d9c4d3716)
(cherry picked from commit ef8d704c3b08d7de64926549a2f8f14cec3bfd0b)
(cherry picked from commit f8f3d82c5fb8a494309e5fc07ca8f92458266d42)
"
openstack%2Fkayobe~stable%2Fvictoria~I82313fcd258e58969e0b68ae91a78943df537a7f,openstack/kayobe,stable/victoria,,I82313fcd258e58969e0b68ae91a78943df537a7f,Fix overcloud host image resolv workaround on CentOS 8.3,MERGED,2021-01-18 16:07:17.000000000,2021-01-20 18:33:47.000000000,2021-01-20 18:31:21.000000000,7,1,0,771244,e660db0088d2553d43e8859573c88c94da061ebb,10,3,1,2,15197,Pierre Riteau,priteau,"Fix overcloud host image resolv workaround on CentOS 8.3

If a seed's bifrost_deploy container is deployed using a CentOS 8.2 base
image, prior to the CentOS 8.3 release, then a user runs 'kayobe seed
service deploy', the following task may fail:

    TASK [Ensure the overcloud host image has bogus name server entries removed]

This seems to be an issue with libgcrypt not being upgraded with
qemu-kvm, and becoming incompatible. The workaround is to ensure
libgcrypt is upgraded also.

Story: 2008430
Task: 41379

Change-Id: I82313fcd258e58969e0b68ae91a78943df537a7f
(cherry picked from commit bd5c5c018783028a4748de28d1287f29ef714c8e)
"
openstack%2Fblazar~master~I05541da4d87575f65d8e78f0fc54bd415328b9f2,openstack/blazar,master,bug/1912502,I05541da4d87575f65d8e78f0fc54bd415328b9f2,Fix use of legacy Alembic API,MERGED,2021-01-20 15:29:28.000000000,2021-01-20 18:31:39.000000000,2021-01-20 18:29:23.000000000,7,2,0,771661,b1841dc4b90d9127884379d4fe1cccf99c7a579c,7,2,1,2,15197,Pierre Riteau,priteau,"Fix use of legacy Alembic API

The `name` keyword argument for Operations.alter_column() has been
deprecated since version 0.8. It was finally removed in Alembic 1.5.0,
causing the following error during installation of Blazar:

TypeError: alter_column() got multiple values for keyword argument 'name'

Change-Id: I05541da4d87575f65d8e78f0fc54bd415328b9f2
Closes-Bug: #1912502
"
openstack%2Fpython-ironic-inspector-client~stable%2Fussuri~I4c940c72c0d93be0b6800aab55f0c2457d7ed07f,openstack/python-ironic-inspector-client,stable/ussuri,remove-l-c-job,I4c940c72c0d93be0b6800aab55f0c2457d7ed07f,Remove lower-constraints job,MERGED,2020-12-19 14:35:19.000000000,2021-01-20 18:25:15.000000000,2021-01-20 18:17:56.000000000,2,3,0,767795,34019fd082c66dff62576cf4d7c447eb925e3182,21,2,5,2,23851,Riccardo Pittau,elfosardo,"Remove lower-constraints job

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020, the lower-constraints job is being removed.

Also increase memory for base job.

Change-Id: I4c940c72c0d93be0b6800aab55f0c2457d7ed07f
(cherry picked from commit 4a92b65bf113d0f7c68b8821435e2cb1407e5169)
"
openstack%2Fneutron~stable%2Ftrain~I660baccde67a040731538276fc6dff05a10efb68,openstack/neutron,stable/train,bug/1910717,I660baccde67a040731538276fc6dff05a10efb68,Add WaitForPortCreateEvent in BaseOVSTestCase,MERGED,2021-01-13 09:07:44.000000000,2021-01-20 18:25:11.000000000,2021-01-20 18:21:47.000000000,15,0,0,770549,c121b1caa9150ab6d9bfe4a626b7e01eae48ca3d,17,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add WaitForPortCreateEvent in BaseOVSTestCase

When a port is created, the test case will wait until the IDL event
is raised and the port is effectively created and the local DB
cache is updated.

Conflicts:
      neutron/tests/functional/agent/common/test_ovs_lib.py

Change-Id: I660baccde67a040731538276fc6dff05a10efb68
Related-Bug: #1910717
(cherry picked from commit e0f15c59828bc95c7de56475f036b8867f85d3f6)
"
openstack%2Fnova~master~Ic2ef0d3040e29b1b75583bfa34fd3cd48c775c63,openstack/nova,master,bp/pci-socket-affinity,Ic2ef0d3040e29b1b75583bfa34fd3cd48c775c63,WIP: Start pupulating `socket` in PCI devices,ABANDONED,2020-12-23 17:02:56.000000000,2021-01-20 18:24:11.000000000,,25,6,0,768359,83021f289fe145bf07a761f035d59a99afd65dc3,5,1,1,3,8864,Artom Lifshitz,artom,"WIP: Start pupulating `socket` in PCI devices

Implements: blueprint pci-socket-affinity
Change-Id: Ic2ef0d3040e29b1b75583bfa34fd3cd48c775c63
"
openstack%2Fnova~master~Ib076310053c861770df0642f395b0e1f87252fd5,openstack/nova,master,bp/pci-socket-affinity,Ib076310053c861770df0642f395b0e1f87252fd5,WIP: objects: Add `socket` to NUMACell and PciDevice,ABANDONED,2020-12-11 21:38:18.000000000,2021-01-20 18:23:38.000000000,,65,9,0,766795,a75a8f93c8da128d0eaf4979d094a93d6d245ec2,25,1,6,7,8864,Artom Lifshitz,artom,"WIP: objects: Add `socket` to NUMACell and PciDevice

Also add unit testing for PciDevice.obj_make_compatible()

Implements: blueprint pci-socket-affinity
Change-Id: Ib076310053c861770df0642f395b0e1f87252fd5
"
openstack%2Fnova~master~Ia9df5835b17e9779f8a813c01b8d3dd7c2a134c0,openstack/nova,master,bp/pci-socket-affinity,Ia9df5835b17e9779f8a813c01b8d3dd7c2a134c0,WIP: db: Add `socket` to pci_devices,ABANDONED,2020-12-13 19:09:01.000000000,2021-01-20 18:23:01.000000000,,40,0,0,766862,eb80b7185a706a200ad11ef3fc82c84acb2bdf49,16,1,4,4,8864,Artom Lifshitz,artom,"WIP: db: Add `socket` to pci_devices

Change-Id: Ia9df5835b17e9779f8a813c01b8d3dd7c2a134c0
Implements: blueprint pci-socket-affinity
"
openstack%2Fnova~master~I338408b01b1d2328035dd92d2588710a20aba323,openstack/nova,master,,I338408b01b1d2328035dd92d2588710a20aba323,Docs: correct cpu_thread_policy explanation,MERGED,2020-12-02 16:33:00.000000000,2021-01-20 18:04:02.000000000,2021-01-20 17:55:32.000000000,7,10,4,765172,3cb1215f1932bbde891be76d899b5b4fdec1c439,14,4,2,1,8864,Artom Lifshitz,artom,"Docs: correct cpu_thread_policy explanation

With the landing of the cpu-resources series in train [1], the
hw:cpu_thread_policy extra spec has a different effect than before.
Correct our documentation.

[1] https://review.opendev.org/q/topic:bp/cpu-resources

Change-Id: I338408b01b1d2328035dd92d2588710a20aba323
"
openstack%2Fkeystone~stable%2Fvictoria~I47e747058891596e7717848a0b0bc10f0a235b2f,openstack/keystone,stable/victoria,,I47e747058891596e7717848a0b0bc10f0a235b2f,Drop lower-constraints job,MERGED,2021-01-08 16:10:41.000000000,2021-01-20 18:02:52.000000000,2021-01-20 17:56:00.000000000,0,1,0,769953,42faeb277b6eb4b4a772f516a6e2b547f2b2a2b4,11,4,1,1,5046,Lance Bragstad,ldbragst,"Drop lower-constraints job

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: I47e747058891596e7717848a0b0bc10f0a235b2f
(cherry picked from commit d6610594d1b766a8ee3ac65182b951f2a3d431f7)
"
openstack%2Fnova~master~Ia39c0bad4c1c03b3ffb4a162c2afddb44ebaf6a1,openstack/nova,master,bp/smarter-usb-devices,Ia39c0bad4c1c03b3ffb4a162c2afddb44ebaf6a1,libvirt: Remove support for '[libvirt] use_usb_tablet',MERGED,2020-10-07 16:09:44.000000000,2021-01-20 18:02:31.000000000,2021-01-20 17:53:13.000000000,33,96,0,756550,5b0343d3e131aadfd0e51a91f0671b57aac23662,27,12,3,5,15334,Stephen Finucane,sfinucan,"libvirt: Remove support for '[libvirt] use_usb_tablet'

This was replaced by the '[DEFAULT] pointer_model' config option was
back in the 14.0.0 (Newton) release.

Change-Id: Ia39c0bad4c1c03b3ffb4a162c2afddb44ebaf6a1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fironic-prometheus-exporter~stable%2Fussuri~If0f75dc5e4f6a862dde7b120a33e1e5b7a936029,openstack/ironic-prometheus-exporter,stable/ussuri,remove-l-c-job,If0f75dc5e4f6a862dde7b120a33e1e5b7a936029,Remove lower-constraints job,MERGED,2020-12-19 14:38:57.000000000,2021-01-20 18:00:33.000000000,2021-01-20 17:48:42.000000000,1,2,0,767977,5744d42ddbade54f8c149780fba7b2b0f5be3f2a,16,2,3,1,23851,Riccardo Pittau,elfosardo,"Remove lower-constraints job

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020, the lower-constraints job is being removed.

Also increase memory for redfish job.

Change-Id: If0f75dc5e4f6a862dde7b120a33e1e5b7a936029
(cherry picked from commit 36f2ccb44f1a8d9853326a5d5dd809f17e7c9de5)
"
openstack%2Fnova~master~Id367ee53ef1458b6a90fc107ab14f5b3cbba7a86,openstack/nova,master,,Id367ee53ef1458b6a90fc107ab14f5b3cbba7a86,api-ref: Add notes about volume attach and detach being async,MERGED,2020-12-21 16:23:07.000000000,2021-01-20 17:54:42.000000000,2021-01-20 17:54:42.000000000,9,0,0,768104,606a5dfecce02d564d6245f57359efbf89b780da,15,7,1,1,10135,Lee Yarwood,lyarwood,"api-ref: Add notes about volume attach and detach being async

This change adds some basic notes in the api-ref for a wrinkle in the
current os-volume_attachments API in that both attach and detach actions
are async, returning to the caller *before* the underlying action is
complete. As such callers need to make seperate calls to ensure these
actions complete successfully.

There are also currently two different ways of polling for completion
when attaching and detaching.

- When attaching callers should use the volume status and list of
  attachments as reported by the volume API.

- When detaching callers should instead use the list of volume attachments
  reported by the os-volume_attachments API.

This is due to the way in which Nova currently completes the attachment
via c-api last during attachment and deletes the bdm record last during
detachment.

It would be useful to one day centralise on just using the
os-volume_attachments API to poll both actions but to do that we would
need to start tracking our own state within the BDMs.

Change-Id: Id367ee53ef1458b6a90fc107ab14f5b3cbba7a86
"
openstack%2Fnova~master~If469762b22d687151198468f0291821cebdf26b2,openstack/nova,master,bug/1893221,If469762b22d687151198468f0291821cebdf26b2,Make PCI claim NUMA aware during live migration,MERGED,2020-08-27 14:56:37.000000000,2021-01-20 17:53:49.000000000,2021-01-20 17:53:49.000000000,15,6,18,748453,1273c5ee0b18974d9837e9221fc9270429d428bf,110,19,10,3,9708,Balazs Gibizer,gibi,"Make PCI claim NUMA aware during live migration

NUMA aware live migration and SRIOV live migration was implemented as
two separate feature. As a consequence the case when both SRIOV and NUMA
is present in the instance was missed. When the PCI device is claimed on
the destination host the NUMA topology of the instance needs to be
passed to the claim call.

Change-Id: If469762b22d687151198468f0291821cebdf26b2
Closes-Bug: #1893221
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I85599dbb985a9d45e2e7587170c39aa2940ca939,openstack/tripleo-heat-templates,stable/train,,I85599dbb985a9d45e2e7587170c39aa2940ca939,Filter computes with nova_host defined,MERGED,2020-11-11 03:13:03.000000000,2021-01-20 17:53:03.000000000,2021-01-20 17:53:03.000000000,1,1,0,762276,4f29c34931091cc0f5deda42ecf50b113738f605,12,6,1,1,8833,Rabi Mishra,rabi,"Filter computes with nova_host defined

When adding hosts to aggregates/availability zones, use the nodes
that have nova_host defined. This would exclude blacklisted nodes.

Change-Id: I85599dbb985a9d45e2e7587170c39aa2940ca939
(cherry picked from commit 00a22232fc3fc4c16f4c4cea820f76b47ad744a4)
"
openstack%2Fironic~master~Ic91f34a90fdd0c22c06c669551eaf6f9a398956b,openstack/ironic,master,secure-rbac,Ic91f34a90fdd0c22c06c669551eaf6f9a398956b,Bump oslo.log requirement to 4.3.0,MERGED,2020-11-18 20:18:39.000000000,2021-01-20 17:37:01.000000000,2021-01-20 17:34:26.000000000,1,1,0,763256,6ea73bdfbb53486cf9905d21024d16cbf5829b2c,32,7,5,1,5046,Lance Bragstad,ldbragst,"Bump oslo.log requirement to 4.3.0

This ensures we have the WALLABY marker available for deprecation
noticies.

Change-Id: Ic91f34a90fdd0c22c06c669551eaf6f9a398956b
"
openstack%2Fhorizon~master~I2a1ff5a4df5e278f89fcd73c26f1d8527b9c4d7f,openstack/horizon,master,jquery-version,I2a1ff5a4df5e278f89fcd73c26f1d8527b9c4d7f,Bump min requirement of xstatic-jquery to 1.12.x,MERGED,2021-01-20 09:05:24.000000000,2021-01-20 17:29:14.000000000,2021-01-20 17:24:27.000000000,4,4,0,771577,4b48b5816cd45a7bd0cb8e78b4becb75b15fcfe8,14,4,2,2,841,Akihiro Motoki,amotoki,"Bump min requirement of xstatic-jquery to 1.12.x

As discussed in the last horizon team meeting, we plan to upgrade
jquery to jquery 3 series. Jquery 3 upgrade assumes we already use
jquery 1.12.x ro 2.2.x. We already use jquery 1.12.4.1 in the master
for long but our requirements file says >=1.8.2. This commit bumps
the xstatic-jquery minimum requirement to 1.12.4.1 to ensure
we use 1.12.x before upgrading jQuery to 3.

xstatic-jquery-ui min version is also bumped to 1.12.0.1.
The current requirement is >=1.10.4 but we use 1.12.x series for long
and use 1.12.1.1 since 2018, so I believe it is safe to bump it.

Change-Id: I2a1ff5a4df5e278f89fcd73c26f1d8527b9c4d7f
"
openstack%2Fcharm-guide~master~I957eb87d16003c74863332947f47093eb68d0835,openstack/charm-guide,master,21.01-symlinks,I957eb87d16003c74863332947f47093eb68d0835,Remove SAN IP sym link workaround,MERGED,2021-01-20 16:35:58.000000000,2021-01-20 17:26:58.000000000,2021-01-20 17:24:03.000000000,0,19,4,771667,5e79f238c71af37a37ccc186138ac8ba3858616d,11,2,2,1,20805,David Ames,thedac,"Remove SAN IP sym link workaround

Change-Id: I957eb87d16003c74863332947f47093eb68d0835
"
openstack%2Fmanila~stable%2Fqueens~Ice936853ae6b09e4ce4d5df6e6b27670cbb8f0d6,openstack/manila,stable/queens,adjust-ci-jobs,Ice936853ae6b09e4ce4d5df6e6b27670cbb8f0d6,[stable/queens] Adjust CI jobs,MERGED,2021-01-14 20:47:23.000000000,2021-01-20 17:19:37.000000000,2021-01-20 17:19:37.000000000,0,23,0,770864,ba7dd7d2a6d277872c000addaf8c0a4f8ca3efa6,15,4,1,1,16643,Goutham Pacha Ravi,gouthamr,"[stable/queens] Adjust CI jobs

stable/queens was first released in February 2018,
and the final release from this branch (6.3.2)
was made on 25 Oct 2019 [1]. This branch is
currently open only to take necessary third
party driver fixes and maintenance is at best
effort. A number of CI jobs have been broken
on this branch for a while. Let's clean them
up so we don't waste CI resources when backports
are proposed. This definitely implies loss
of test coverage, however, we have to weigh
the cost of repairing these CI jobs against
momentum of maintenance and work for the
future branches.

Jobs being dropped are:

* openstack-lower-constraints
pip's latest dependency resolver unearthed a bunch
of broken dependencies on this branch. Resolving these
would involve bumping the ""lower"" requirements, the
team does not think this will be useful for anyone,
since we will not be altering requirements for this
branch anymore.
* manila-tempest-dsvm-mysql-generic and
The reference generic driver had four jobs on this
branch, manila-tempest-dsvm-generic-no-share-servers.
We can cut it down to two by dropping coverage
for the DHSS=False configuration and multibackend,
both of which are tested in the other jobs, albeit
with other backends.
* manila-tempest-minimal-dsvm-lvm-centos-7
This is a lost cause, we don't expect to fix
devstack on centos-7 anytime soon for these
old extended maintenance branches (See bug#1888717)
* manila-rally-multibackend and
manila-rally-multibackend-no-ss - these rally
jobs have been broken for a while, there's
barely any reason to think we'll cause performance
regressions in the API on this branch and use
these jobs to judge them.

Also drop all the experimental jobs and remove
""openstack-tox-cover"" from the post queue.
We can also remove the openstack-tox-genconfig
job from the gate queue, since it exists on
the check queue, and need only run once.

[1] http://lists.openstack.org/pipermail/release-announce/2019-October/008089.html

Change-Id: Ice936853ae6b09e4ce4d5df6e6b27670cbb8f0d6
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit a99cb7448bc6c4a8c98366dbdb64bf7fc3043924)
"
openstack%2Fbifrost~stable%2Fussuri~Ie5e6a655b103dd7edb447f56bff8da870193deba,openstack/bifrost,stable/ussuri,remove-l-c-job,Ie5e6a655b103dd7edb447f56bff8da870193deba,Remove lower-constraints job,ABANDONED,2020-12-18 08:36:20.000000000,2021-01-20 17:15:37.000000000,,0,1,0,767550,a891eb60e0a710b9eef31d0276b9215e0929ee6a,10,1,2,1,23851,Riccardo Pittau,elfosardo,"Remove lower-constraints job

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020, the lower-constraints job is being removed.

Change-Id: Ie5e6a655b103dd7edb447f56bff8da870193deba
(cherry picked from commit 986427ce8eaa96e820f3cb8cda4cc1954c449994)
"
openstack%2Fnova~master~I136cae2ea0b2f59c46d999569998e80ec5d4f24d,openstack/nova,master,openstackclient,I136cae2ea0b2f59c46d999569998e80ec5d4f24d,doc: require openstack client change for every new API microversion,MERGED,2020-04-06 11:53:37.000000000,2021-01-20 17:09:07.000000000,2021-01-20 17:04:42.000000000,8,4,6,717727,65fb14c36e35ac22cd323fa1ef9a848d81fa6d99,34,14,3,1,9708,Balazs Gibizer,gibi,"doc: require openstack client change for every new API microversion

To avoid widening the gap between novaclient and openstack client we
require to add support for each new microversion in both clients.

Change-Id: I136cae2ea0b2f59c46d999569998e80ec5d4f24d
"
openstack%2Fnova~master~I36ae872dd21299ad5d165422cb83564eafd89bea,openstack/nova,master,doc/overcommit-reference,I36ae872dd21299ad5d165422cb83564eafd89bea,tox: Stop linting as part of docs target,MERGED,2020-06-11 15:16:52.000000000,2021-01-20 17:07:16.000000000,2021-01-20 17:04:07.000000000,0,4,0,735176,7bd2bef3b4ea4e22df7f6019589c18e68ed8520e,20,10,2,1,15334,Stephen Finucane,sfinucan,"tox: Stop linting as part of docs target

This linting makes building docs an even more painful process than it
would otherwise be. We already do this as part of the pep8 target,
which the gate runs, so there's no need to do this here.

Change-Id: I36ae872dd21299ad5d165422cb83564eafd89bea
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fneutron-tempest-plugin~master~I044e8f86cd8999d1bde5e4995239b0dfa55489f0,openstack/neutron-tempest-plugin,master,change-762835-3,I044e8f86cd8999d1bde5e4995239b0dfa55489f0,Create security groups with the same name,MERGED,2020-11-16 13:10:58.000000000,2021-01-20 17:03:36.000000000,2021-01-20 17:03:36.000000000,15,0,13,762835,8ebc061c05d8502fdb5410f34020438492b9e364,37,14,4,1,28609,Arkady Shtempler,ashtempl,"Create security groups with the same name

Test scenario:
Create a number of security groups using the same name.
Make sure that all the security groups have been created successfully
and that each group has its own unique ID.

Change-Id: I044e8f86cd8999d1bde5e4995239b0dfa55489f0
"
openstack%2Fcinder~master~I0af2d5cfbbfdb384786ef0c17cf96ba8ca865ced,openstack/cinder,master,bp/dellemc-me-driver,I0af2d5cfbbfdb384786ef0c17cf96ba8ca865ced,Add driver for Dell EMC PowerVault ME Series,MERGED,2020-10-18 23:19:05.000000000,2021-01-20 16:58:18.000000000,2021-01-20 06:41:56.000000000,385,0,12,758684,e9d1bf8f6c89a7c06e5f8f80bf8a8ac5c781b172,199,22,7,9,17042,Chris M,pots,"Add driver for Dell EMC PowerVault ME Series

Change-Id: I0af2d5cfbbfdb384786ef0c17cf96ba8ca865ced
Implements: blueprint dellemc-me-driver
"
openstack%2Fneutron-tempest-plugin~master~I448203ead31f17a51f756667f6b3fc8e70a77ed2,openstack/neutron-tempest-plugin,master,vlan-transparency,I448203ead31f17a51f756667f6b3fc8e70a77ed2,Add first VLAN Transparency tests,MERGED,2020-12-01 20:14:59.000000000,2021-01-20 16:49:27.000000000,2021-01-20 16:49:27.000000000,256,13,33,765002,088707bf5c4cdffd403c2cb4c7743b811ece5635,64,7,19,4,31291,Eduardo Olivares,eolivare,"Add first VLAN Transparency tests

These tests are only executed if the vlan-transparent extension is installed
Advanced images are required because VLANs need to be configured on
the servers, which is not possible with cirros
Connectivity between servers via VLAN interface is verified

Functions add_route, delete_route and delete_address are added to class
IPCommand because they are needed for some VLAN Transparency downstream tests

Change-Id: I448203ead31f17a51f756667f6b3fc8e70a77ed2
"
openstack%2Fcharm-nova-compute~master~I34fa2d39171132e4fe7d0b7e5fd29162161a5060,openstack/charm-nova-compute,master,bug/1912187,I34fa2d39171132e4fe7d0b7e5fd29162161a5060,Allow neutron-plugin sub to publish nothing,MERGED,2021-01-19 14:56:14.000000000,2021-01-20 16:13:14.000000000,2021-01-20 16:13:14.000000000,40,1,0,771469,372da646b6d47dfacb0c20cffe755ce9eb3c9c1b,13,4,1,3,12549,gnuoy,gnuoy,"Allow neutron-plugin sub to publish nothing

A change landed to charm helpers to mark the
SubordinateConfigContext as incomplete if the subordinate supplied
no data *1. But the neutron-plugin subordinate may legitimately
supply no data if no special config is needed. This restores the
previous behaviour of marking the subordinate context for the
neutron-plugin relation as complete even if not data was supplied.

*1 https://github.com/juju/charm-helpers/pull/519

Change-Id: I34fa2d39171132e4fe7d0b7e5fd29162161a5060
Closes-Bug: #1912187
"
openstack%2Fmonasca-api~master~I019c24c8466b09da4632eea7dc7793aac223e3b5,openstack/monasca-api,master,fix-zuul-publish,I019c24c8466b09da4632eea7dc7793aac223e3b5,Fix zuul publish docker image job,MERGED,2021-01-19 12:10:19.000000000,2021-01-20 15:54:07.000000000,2021-01-20 15:51:35.000000000,1,1,0,771432,90754d0b780a74e83d3d1d3d5cd6184234d6009e,12,2,1,1,26141,Adrian Czarnecki,czarneckia,"Fix zuul publish docker image job

Change-Id: I019c24c8466b09da4632eea7dc7793aac223e3b5
"
openstack%2Fcinder~master~I381b80920d812a3f3b5f75b6dae66aa932f6baa4,openstack/cinder,master,pure-option,I381b80920d812a3f3b5f75b6dae66aa932f6baa4,Pure: Add default value to pure_host_personality,MERGED,2021-01-18 11:38:55.000000000,2021-01-20 15:26:33.000000000,2021-01-20 06:26:42.000000000,2,1,0,771185,69f4f5ffe44dfa219ecde975180bd26ed5f62377,62,5,1,1,9535,Gorka Eguileor,Gorka,"Pure: Add default value to pure_host_personality

Pure's ""pure_host_personality"" configuration option currently defaults
to a non valid value according to its choices.

This affects tools leveraging the ""get_driver_options"" mechanism, since
the default value for the option was not considered a valid option.

This patch sets the default explicitly and adds it as a valid choice.

Change-Id: I381b80920d812a3f3b5f75b6dae66aa932f6baa4
"
openstack%2Fpuppet-nova~stable%2Fussuri~I5adcc865fc1e152fa07bf788a445faf3555970d4,openstack/puppet-nova,stable/ussuri,backport,I5adcc865fc1e152fa07bf788a445faf3555970d4,Add update_resources_interval config option,MERGED,2020-11-03 12:51:46.000000000,2021-01-20 15:22:58.000000000,2021-01-20 15:13:44.000000000,19,0,0,761133,616e0e654f9a97a34d04a73f6791570f44b57efb,19,4,3,3,26721,Rocky,Rocky,"Add update_resources_interval config option

Change-Id: I5adcc865fc1e152fa07bf788a445faf3555970d4
(cherry picked from commit 170684de1bea1c07b6ca7e9d09a1233b67c20b96)
(cherry picked from commit cb5ab65802ebd01ec324da050d76237ac1196256)
"
openstack%2Foctavia-dashboard~master~Ia0c4bb5ef8aa2ab66b8abc8bdfb3457a003f884a,openstack/octavia-dashboard,master,,Ia0c4bb5ef8aa2ab66b8abc8bdfb3457a003f884a,Fix lower-constraints for new pip release,MERGED,2020-12-17 07:56:29.000000000,2021-01-20 15:21:07.000000000,2021-01-20 15:12:52.000000000,8,8,0,767465,acd8c0f5c83d10cec148228ca26aa48b06c1b7d7,9,4,1,1,29244,Gregory Thiemonge,gthiemonge,"Fix lower-constraints for new pip release

Change-Id: Ia0c4bb5ef8aa2ab66b8abc8bdfb3457a003f884a
"
openstack%2Ftripleo-quickstart-extras~master~Ibcd96c1880d6e97e737d998cdd5835549139d9ea,openstack/tripleo-quickstart-extras,master,node-introspection-timeout,Ibcd96c1880d6e97e737d998cdd5835549139d9ea,DNM: Testing larger introspection timeout,ABANDONED,2020-06-26 18:44:39.000000000,2021-01-20 14:54:25.000000000,,1,1,0,738262,5b7decbc16652a515c343ba403ec900bbff3dfcd,5,4,2,1,9976,Ronelle Landy,rlandy,"DNM: Testing larger introspection timeout

Depends-On: https://review.opendev.org/#/c/737568/
Partial-Bug: #1885314
Change-Id: Ibcd96c1880d6e97e737d998cdd5835549139d9ea
"
openstack%2Fansible-collections-openstack~master~I5f9c999c2f1d14c0714090bc4f08691724bb93cc,openstack/ansible-collections-openstack,master,set-boot-device,I5f9c999c2f1d14c0714090bc4f08691724bb93cc,Add support for setting node boot device,ABANDONED,2021-01-20 13:13:04.000000000,2021-01-20 14:30:27.000000000,,12,0,0,771644,0ceebd16d818903eb0ffe2147a4137af6663fbef,3,1,1,1,32541,Tosin Farai,tosinfarai,"Add support for setting node boot device

Change-Id: I5f9c999c2f1d14c0714090bc4f08691724bb93cc
"
openstack%2Fansible-collections-openstack~master~I0e29dcbd9ea58c59d1f50cd50ed9837fab79bc40,openstack/ansible-collections-openstack,master,set-provision-state,I0e29dcbd9ea58c59d1f50cd50ed9837fab79bc40,Add support for setting provision state,ABANDONED,2021-01-20 14:15:43.000000000,2021-01-20 14:29:25.000000000,,13,0,0,771651,7de1e8b775c484886f5521469170d13169e0e192,2,0,1,1,32541,Tosin Farai,tosinfarai,"Add support for setting provision state

Change-Id: I0e29dcbd9ea58c59d1f50cd50ed9837fab79bc40
"
openstack%2Fcharm-neutron-openvswitch~master~I8d98e6310aafcd840f3b4947ccc065c97069afe2,openstack/charm-neutron-openvswitch,master,bug/1906280,I8d98e6310aafcd840f3b4947ccc065c97069afe2,Fix ordering issue for disabling mlockall,MERGED,2021-01-19 19:49:46.000000000,2021-01-20 14:02:16.000000000,2021-01-20 14:02:16.000000000,32,4,0,771511,840e255325c647bc66702e3ff00470e3f9975fa4,15,5,4,1,13686,Frode Nordahl,fnordahl,"Fix ordering issue for disabling mlockall

The charm will attempt to do run-time configuration of
Open vSwitch prior to writing configuration files to disk and
restarting services when required.

When running in a container or on a system where it is required
to disable mlockall this will not work as the charm will attempt
to do run-time configuration of OVS prior to having (re-)started
it with the required ``--no-mlockall`` option.

Closes-Bug: #1906280
Change-Id: I8d98e6310aafcd840f3b4947ccc065c97069afe2
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I96c59b2e6697d65184e87b731682fd7441519c89,openstack/networking-ovn,stable/train,oslo_lc_drop,I96c59b2e6697d65184e87b731682fd7441519c89,[stable] Drop lower-constraints job,MERGED,2021-01-12 15:39:23.000000000,2021-01-20 13:58:32.000000000,2021-01-20 13:52:21.000000000,5,166,0,770408,d07317b60e6d46aabc3a6e878924923a07661e75,21,4,2,4,21798,Bernard Cafarelli,bcafarel,"[stable] Drop lower-constraints job

As discussed in neutron team meeting [1], it is not worth fixing issues
identified by new pip resolver in stable branches. So let's drop the job

[1] http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html#l-164

Change-Id: I96c59b2e6697d65184e87b731682fd7441519c89
"
openstack%2Fcharm-mysql-router~master~Id15744bcdb0cab5786d745e76e69223415a38ced,openstack/charm-mysql-router,master,bug/1911907,Id15744bcdb0cab5786d745e76e69223415a38ced,Disable REST API to avoid clash,MERGED,2021-01-18 12:42:23.000000000,2021-01-20 13:48:31.000000000,2021-01-20 13:48:31.000000000,26,2,0,771194,b95dbe03ddc71c26436f7eb075659e733bc79dbd,14,4,2,2,12549,gnuoy,gnuoy,"Disable REST API to avoid clash

Disble the rest API to avoid a clash if multiple mysql router
subordinates are deployed on the same node.

Closes-Bug: #1911907
Change-Id: Id15744bcdb0cab5786d745e76e69223415a38ced
"
openstack%2Fkolla~stable%2Fvictoria~I2592a736206eaec811290e9fbdbf2540c0518ffe,openstack/kolla,stable/victoria,bug/1902101-stable/victoria,I2592a736206eaec811290e9fbdbf2540c0518ffe,CI: revert to public package mirrors after build,MERGED,2021-01-11 12:36:35.000000000,2021-01-20 13:44:53.000000000,2021-01-20 13:43:14.000000000,53,3,0,770088,556b9382a5f8b2e72c65dd3176877bd53ce3f7d7,18,4,2,1,14826,Mark Goddard,mgoddard,"CI: revert to public package mirrors after build

When building images in CI, we use local package mirrors to reduce
external network traffic. These mirrors are not necessarily reliable nor
are they guaranteed to be accessible outside of the CI environment
(although many are).

While it is an antipattern to install packages in containers at runtime,
the Bifrost container does just that. If the mirrors configured in the
image are unavailable, Bifrost deployment can fail.

This change fixes the issue by reverting to public package mirrors as a
final step of the image build process.

Closes-Bug: #1902101

Change-Id: I2592a736206eaec811290e9fbdbf2540c0518ffe
(cherry picked from commit 0fc464332c789ce05e9d6442726ada84ce7fc65a)
"
openstack%2Fopenstack-tempest-skiplist~master~Ie27ccf5bd4d507c4ef4995ec697a361100115c5a,openstack/openstack-tempest-skiplist,master,vms_fips,Ie27ccf5bd4d507c4ef4995ec697a361100115c5a,"Revert ""Added to skiplist FloatingIpTestCasesAdmin.test_two_vms_fips""",MERGED,2021-01-20 10:42:09.000000000,2021-01-20 13:40:08.000000000,2021-01-20 13:38:44.000000000,0,9,0,771555,753e5c916cb87e19f6e25a6889ae042a56f001c2,8,5,1,1,11975,Slawek Kaplonski,slaweq,"Revert ""Added to skiplist FloatingIpTestCasesAdmin.test_two_vms_fips""

This reverts commit 34ed04ade91671ecd7fddbd81b5059790e43785a.

Reason for revert: Fix [1] merged already.

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/771131/

Change-Id: Ie27ccf5bd4d507c4ef4995ec697a361100115c5a
"
openstack%2Fneutron~stable%2Fvictoria~If4476725f72bde110f9ce1a1507c672d428d52e5,openstack/neutron,stable/victoria,bug/1884986,If4476725f72bde110f9ce1a1507c672d428d52e5,[FT] Add the datapath binding wait event to the watched list,MERGED,2021-01-15 17:44:42.000000000,2021-01-20 13:36:22.000000000,2021-01-20 13:31:32.000000000,3,1,0,771056,5ee2ca5a7b206a20a100b055953e03c7477e1327,14,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[FT] Add the datapath binding wait event to the watched list

In other to wait for a OVN DB event, the WaitEvent subclass must be
added to the DB notification handler.

Change-Id: If4476725f72bde110f9ce1a1507c672d428d52e5
Related-Bug: #1884986
(cherry picked from commit d4ae574fd3cfac631ad46a437b0d81f7f60e0c38)
"
openstack%2Fnova~master~Iccdbbb8cf2a9c0e01f0f32ed6d78a267486824af,openstack/nova,master,,Iccdbbb8cf2a9c0e01f0f32ed6d78a267486824af,libvirt: Mock get_arch during some stable rescue unit tests,MERGED,2021-01-08 12:57:49.000000000,2021-01-20 13:34:33.000000000,2021-01-20 13:32:14.000000000,4,0,2,769916,dc09bcd311d47800181b997464105236f9bedaa7,17,7,1,1,10135,Lee Yarwood,lyarwood,"libvirt: Mock get_arch during some stable rescue unit tests

This needs to be mocked to ensure the bus used for cdrom devices remains
consistent when the unit tests are ran on hosts with non-x86_64
architectures.

Closes-Bug: #1909969
Change-Id: Iccdbbb8cf2a9c0e01f0f32ed6d78a267486824af
"
openstack%2Fneutron~stable%2Frocky~I557af0bcafac4583ad9726c9bf707cf1fb92ffc5,openstack/neutron,stable/rocky,bug/1905568-stable/victoria-stable/ussuri-stable/train-stable/stein-stable/rocky,I557af0bcafac4583ad9726c9bf707cf1fb92ffc5,[GRE] Add possibility to create GRE tunnels over IPv6,MERGED,2020-12-18 15:20:28.000000000,2021-01-20 13:31:52.000000000,2021-01-20 13:31:52.000000000,21,3,0,767763,74a3e4a0f9726a4864ad53f3349213800321d1c2,25,3,2,2,11975,Slawek Kaplonski,slaweq,"[GRE] Add possibility to create GRE tunnels over IPv6

In case when IPv6 addresses are used for GRE tunnels, tunnel
type set for the openvswitch interface should be ""ip6gre"" instead of
""gre"" which was set so far.
This patch changes that so now Neutron configures correct GRE tunnel
types.

Conflicts:
    neutron/tests/functional/agent/common/test_ovs_lib.py

Change-Id: I557af0bcafac4583ad9726c9bf707cf1fb92ffc5
Closes-Bug: #1904564
(cherry picked from commit 80e6781bc2d2b39e547e80996743d29ec090c816)
"
openstack%2Fneutron~stable%2Ftrain~Ibcc29c998065da521b35e5845727794a68782db0,openstack/neutron,stable/train,bug/1899864-stable/train,Ibcc29c998065da521b35e5845727794a68782db0,Neutron ovs agent: set mtu of smartnic port,MERGED,2020-11-30 10:15:51.000000000,2021-01-20 13:29:15.000000000,2021-01-20 13:26:06.000000000,58,22,0,764514,3b6cf23aa3ff448f7039199d8dd5a8ed18a7f26c,25,6,2,2,12171,Moshe Levi,moshele,"Neutron ovs agent: set mtu of smartnic port

The smartnic port's MTU should be set according to the network's MTU
which the port belongs to.

Closes-Bug: #1899864
Change-Id: Ibcc29c998065da521b35e5845727794a68782db0
Signed-off-by: Xiaoyu Min <jackmin@nvidia.com>
(cherry picked from commit fc1fe016aa4e77c982da8ea0e6c7b88d7c1dad68)
"
openstack%2Fneutron~stable%2Fvictoria~I2e784ea7e00c145135288bf309bb34ce311ac15c,openstack/neutron,stable/victoria,bug/1908057,I2e784ea7e00c145135288bf309bb34ce311ac15c,"Ensure ""keepalived"" is correcly disabled",MERGED,2021-01-14 16:35:19.000000000,2021-01-20 13:29:03.000000000,2021-01-20 13:25:35.000000000,51,1,0,770834,d1f5b6ff724ad5be149b31ce743bc130f41a42f7,25,5,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Ensure ""keepalived"" is correcly disabled

To stop a ""keepalived"" process, a SIGTERM signal is sent. This patch
checks if the process is not present in the system. If the instance
is still running after a short time, a SIGKILL signal is sent.

Change-Id: I2e784ea7e00c145135288bf309bb34ce311ac15c
Closes-Bug: #1908057
(cherry picked from commit 2618acff516e5cfd2437dabf550cc3c3c7972b9f)
"
openstack%2Fcharm-keystone-kerberos~master~I9f1f87eb17265bccc41621b84ba057475fec0ddb,openstack/charm-keystone-kerberos,master,sync-for-21-01,I9f1f87eb17265bccc41621b84ba057475fec0ddb,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:30:49.000000000,2021-01-20 13:02:51.000000000,2021-01-20 13:02:51.000000000,7,1,0,771023,aa0f7d417ded69c30d719e6c81207f6c7f83556e,12,3,1,3,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

Change-Id: I9f1f87eb17265bccc41621b84ba057475fec0ddb
"
openstack%2Fsushy~stable%2Ftrain~Ie71603d57eef5f56f9a9fabac2a5283f472b135e,openstack/sushy,stable/train,remove-l-c-job,Ie71603d57eef5f56f9a9fabac2a5283f472b135e,Remove lower-constraints job,MERGED,2020-12-21 08:19:17.000000000,2021-01-20 12:52:13.000000000,2021-01-20 12:46:38.000000000,0,1,0,767988,7ac37383656b95306e986c040320418e165c2678,15,2,2,1,23851,Riccardo Pittau,elfosardo,"Remove lower-constraints job

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020, the lower-constraints job is being removed.

Change-Id: Ie71603d57eef5f56f9a9fabac2a5283f472b135e
(cherry picked from commit 74a8505e4fbcb44248f0f4501b71c3d3eb481266)
(cherry picked from commit 95b3a32a81e7755c9b4d85e8e3db4fc22db80a64)
"
openstack%2Fcharm-nova-cloud-controller~master~Ia7b8ea4cf40f1aeb77b11fb3c5201ffcdfae59cb,openstack/charm-nova-cloud-controller,master,groovy-charm-gate,Ia7b8ea4cf40f1aeb77b11fb3c5201ffcdfae59cb,Add Groovy to the test gate,MERGED,2020-11-05 11:52:03.000000000,2021-01-20 12:50:20.000000000,2021-01-20 12:50:20.000000000,1,2,0,761578,92eb1e054334d5ff76b35fdc8e9539c14bef01c0,26,3,5,1,31289,Aurelien Lourot,lourot,"Add Groovy to the test gate

Change-Id: Ia7b8ea4cf40f1aeb77b11fb3c5201ffcdfae59cb
"
openstack%2Fkolla~stable%2Fvictoria~I95e5bb5583be2a76e289749e8adfc303a4e7197a,openstack/kolla,stable/victoria,bug/1902101-stable/victoria,I95e5bb5583be2a76e289749e8adfc303a4e7197a,Remove footer block from intermediate images,MERGED,2021-01-11 12:28:10.000000000,2021-01-20 12:32:53.000000000,2021-01-20 12:31:00.000000000,5,5,0,770085,790f96133f442807d7facbc654ef2f14ea13452c,14,3,1,6,14826,Mark Goddard,mgoddard,"Remove footer block from intermediate images

Only the final image in a hierarchy should have the footer block.

neutron-infoblox-ipam-agent image still has two footers because it
inherits from the neutron-server image. We set the user to root at the
beginning of that Dockerfile, so that headers and footers have the right
context.

Change-Id: I95e5bb5583be2a76e289749e8adfc303a4e7197a
(cherry picked from commit 4b792b9a43bee3bfb499cea14924527550f2bce0)
"
openstack%2Ftripleo-common~master~Ia1c7b3ce2c809ec1f34c512dc8087d6bca215e46,openstack/tripleo-common,master,bug/1911681,Ia1c7b3ce2c809ec1f34c512dc8087d6bca215e46,Fix W1201 - logging-not-lazy,MERGED,2021-01-14 12:18:10.000000000,2021-01-20 12:27:07.000000000,2021-01-20 12:25:12.000000000,11,11,0,770798,acf9eb95d7665b9c55d665fa3d7e43a8631d662a,14,7,2,4,24245,Harald Jensås,harald.jensas,"Fix W1201 - logging-not-lazy

openstack-tox-linters is complaining about not using
lazy formatting in logging functions.

Change-Id: Ia1c7b3ce2c809ec1f34c512dc8087d6bca215e46
Closes-Bug: #1911681
"
openstack%2Fironic-inspector~stable%2Fussuri~I2fb07413e8f421f39b24acf1272771ee2097b195,openstack/ironic-inspector,stable/ussuri,,I2fb07413e8f421f39b24acf1272771ee2097b195,Fix database migrations and disable the non-standalone job,MERGED,2020-10-27 07:56:48.000000000,2021-01-20 12:08:54.000000000,2021-01-20 12:01:01.000000000,18,9,0,759826,c1a94782e5f74ee2c16d4f80c66cc0ca7914c6c0,24,5,3,5,10239,Dmitry Tantsur,dtantsur,"Fix database migrations and disable the non-standalone job

The pattern of adding a column and then reading a table with it
no longer works in SQLAlchemy 1.3.20. This has been reported
upstream [1] and apparently we're doing the wrong thing by reusing
a column object twice.

We need to disable the non-standalone job since it's really broken
now, and this fix is blocking bifrost.

Also remove lower-constraints job.

Plus increase memory for grenade job.

And since tinyipa is not that tiny anymore, we increase the memory
for the base job to 512.

[1] https://github.com/sqlalchemy/sqlalchemy/issues/5669

Change-Id: I2fb07413e8f421f39b24acf1272771ee2097b195
(cherry picked from commit 5678f219cd55345633c1478c3cad22460bef4429)
(cherry picked from commit c6fdf2511697305e2f00ec444081ab3353074b22)
(cherry picked from commit 1884ba81fd3d6166c626afd008beddaf0a33801e)
"
openstack%2Ftripleo-quickstart-extras~master~I793e44fc561b08776c7f8e145887cfeae08d8e5b,openstack/tripleo-quickstart-extras,master,retr,I793e44fc561b08776c7f8e145887cfeae08d8e5b,Increase timeout for containers build,MERGED,2021-01-07 15:54:36.000000000,2021-01-20 11:59:56.000000000,2021-01-20 11:59:56.000000000,1,2,2,769777,b777aba53a5ef5b52afd257231e0cd6a472318d3,22,6,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Increase timeout for containers build

In some environments[1] it takes time to build containers, let's
increase the timeout. Disable task retries because we have retries
with tenacity and we can't keep previous logs.

Change-Id: I793e44fc561b08776c7f8e145887cfeae08d8e5b
"
openstack%2Ftrove~master~Icd8af655b27862a29726ed8a94ba8da6c76cfb4d,openstack/trove,master,configuration-group,Icd8af655b27862a29726ed8a94ba8da6c76cfb4d,fix update parameter not take effect,NEW,2021-01-20 09:53:50.000000000,2021-01-20 11:57:32.000000000,,7,10,0,771582,a46f19b8959085102beffc6f79048580ec7c5cce,2,1,1,2,32029,likui,likui,"fix update parameter not take effect

Modifying the parameters that do not need to be restarted
does not take effect. When there are both need restart and
not need restart parameters in the configuration group

Story: #2008534
Task: #41623

Change-Id: Icd8af655b27862a29726ed8a94ba8da6c76cfb4d
"
openstack%2Fkolla~stable%2Ftrain~I0afd02edf38b47e5544bf93e963c74ee6fbcb0b1,openstack/kolla,stable/train,fix-sensu-simpleidn,I0afd02edf38b47e5544bf93e963c74ee6fbcb0b1,sensu-client: Pin simpleidn,ABANDONED,2021-01-16 16:36:48.000000000,2021-01-20 11:55:14.000000000,,2,1,0,771109,09f3d4c609ba700768c621aa122e7f11b643d8a4,12,4,1,1,30491,Radosław Piliszek,yoctozepto,"sensu-client: Pin simpleidn

simpleidn started requiring Ruby 2.2.

Change-Id: I0afd02edf38b47e5544bf93e963c74ee6fbcb0b1
"
openstack%2Fnova-specs~master~Ia3126ed63316e26d2beb96bb0f7c89a01b92060c,openstack/nova-specs,master,,Ia3126ed63316e26d2beb96bb0f7c89a01b92060c,remove unicode from code,MERGED,2021-01-05 08:38:36.000000000,2021-01-20 11:44:53.000000000,2021-01-20 11:40:50.000000000,2,2,0,769260,849d05cdc99f5fd687085f7b88701c4138902e30,8,3,1,1,32020,zhangtongjian,zhangtongjian,"remove unicode from code

Change-Id: Ia3126ed63316e26d2beb96bb0f7c89a01b92060c
"
openstack%2Fopenstack-ansible-os_neutron~master~I60b3d0593d5a8f9d636fddb27135392f49a6e071,openstack/openstack-ansible-os_neutron,master,,I60b3d0593d5a8f9d636fddb27135392f49a6e071,Added tag neutron-policy-overrides to just update neutron policy,MERGED,2021-01-12 08:46:49.000000000,2021-01-20 11:23:42.000000000,2021-01-20 11:21:58.000000000,4,0,0,770248,5b02184211c34993a3f424d03e874ac14e89ebd9,20,3,1,1,32053,Denys Mishchenko,arddennis,"Added tag neutron-policy-overrides to just update neutron policy

To speedup changes for the neutron policy.json file a new tag was
added. nova-config tag does include this step, but it do a lot of
other tasks which aren't required to just change of the policy.

Change-Id: I60b3d0593d5a8f9d636fddb27135392f49a6e071
"
openstack%2Fopenstack-ansible-tests~master~I3164b67fdbd53e794f9ad53f73569fdaa7f22047,openstack/openstack-ansible-tests,master,,I3164b67fdbd53e794f9ad53f73569fdaa7f22047,Run linters job on a focal node instead of bionic,MERGED,2021-01-19 17:57:06.000000000,2021-01-20 11:16:37.000000000,2021-01-20 11:10:16.000000000,1,1,0,771498,07cd16d016ccdd15de2609ee43bae65084eaa48b,8,3,1,1,25023,Jonathan Rosser,jrosser,"Run linters job on a focal node instead of bionic

Change-Id: I3164b67fdbd53e794f9ad53f73569fdaa7f22047
"
openstack%2Fpuppet-openstack-integration~master~I9e288bc4f6650120005a4cbafd74c0fa2df8e0e5,openstack/puppet-openstack-integration,master,openstack/puppet/constraints,I9e288bc4f6650120005a4cbafd74c0fa2df8e0e5,Updated from Puppet OpenStack modules constraints,MERGED,2021-01-19 06:09:49.000000000,2021-01-20 11:03:48.000000000,2021-01-20 11:03:48.000000000,1,1,0,771358,f5dfe00badd5467c6f72c94da45d2838a65eb6cc,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from Puppet OpenStack modules constraints

Change-Id: I9e288bc4f6650120005a4cbafd74c0fa2df8e0e5
"
openstack%2Ftripleo-validations~stable%2Fussuri~I00e2e252700d0229113cc6ee1c4efff0504fb005,openstack/tripleo-validations,stable/ussuri,ussuri,I00e2e252700d0229113cc6ee1c4efff0504fb005,Remove workaround for broken dogpile.cache and lower-constraints file,MERGED,2021-01-18 14:10:20.000000000,2021-01-20 11:03:06.000000000,2021-01-20 10:55:41.000000000,0,130,0,771222,aee0b3a400182789103692af0ec21b3ffee383de,12,3,4,5,31245,Daniel Bengtsson,damani42,"Remove workaround for broken dogpile.cache and lower-constraints file

- dogpile.cache workaround
Bug: https://github.com/sqlalchemy/dogpile.cache/issues/178
Bug: https://bugs.launchpad.net/tripleo/+bug/1876073

- The lower-constraints.txt file has been removed because it is not
useful for TripleO anymore. The .zuul.yaml doesn't exists in ussuri
the modification was reported in zuul.d/layout.yaml file.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I00e2e252700d0229113cc6ee1c4efff0504fb005
(cherry picked from commit b8bb9a5f2c6e2e8ca5fb8aea8ed0da5df5464078)
(cherry picked from commit 3977997c352d7195ff3ea6d16b3a7b364b4bd379)
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I25c006d3e013c8bff5d877cd0cb1168435373e34,openstack/puppet-tripleo,stable/train,reduce-content-providers,I25c006d3e013c8bff5d877cd0cb1168435373e34,Wire up new tripleo upgrades jobs template,MERGED,2021-01-05 12:26:12.000000000,2021-01-20 10:59:19.000000000,2021-01-20 10:59:19.000000000,1,0,0,769341,6c3bd01af05e78e1387f69b177d4224fa11a7c4a,34,6,1,1,8449,Marios Andreou,marios,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: I25c006d3e013c8bff5d877cd0cb1168435373e34
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0bc8c398650e5d3e3f5b244cc516fcefd0d3aa4a,openstack/tripleo-heat-templates,stable/train,nocheck_async,I0bc8c398650e5d3e3f5b244cc516fcefd0d3aa4a,[Ussuri/Train] Check mode doesn't work for async tasks,MERGED,2020-12-21 07:18:51.000000000,2021-01-20 10:55:29.000000000,2021-01-20 10:55:29.000000000,3,0,0,768046,e76ad346d8a011c63157f977a29e72aee048f092,48,7,5,1,28223,Cedric Jeanneret,cjeanner,"[Ussuri/Train] Check mode doesn't work for async tasks

In order to get a successful ""check"" run of the ansible generated
content (via config-download), we have to ignore the async tasks.

Since the affected async tasks have been removed in V cycle, this patch
affects only U and T.

Change-Id: I0bc8c398650e5d3e3f5b244cc516fcefd0d3aa4a
Closes: rhbz#1823875
Related-Bug: #1874141
(cherry picked from commit b8ec72926c381377c453ef22f048989365d759b6)
"
openstack%2Ftripleo-quickstart-extras~master~I8c73c01d5dd87df5bbfc983178e25bada04efe8e,openstack/tripleo-quickstart-extras,master,zuul-ci-repro-libvirt,I8c73c01d5dd87df5bbfc983178e25bada04efe8e,Support package_mirror for Centos8,ABANDONED,2020-05-21 16:34:46.000000000,2021-01-20 10:53:26.000000000,,6,2,3,730013,dc4e4392d28ed1f802f4024796c8ea9b883677da,33,9,4,2,6926,Bogdan Dobrelya,bogdando,"Support package_mirror for Centos8

Zuul based CI reproducer needs a way to provide custom
package_mirror. Otherwise, zuul's role configure-mirrors
""Install CentOS 8 repository files"" provides wrong defaults for
Centos 8 (at least in libvirt mode?..).

Set package_mirror's default to mirror.centos.org
Depends-On: https://review.opendev.org/730602

Change-Id: I8c73c01d5dd87df5bbfc983178e25bada04efe8e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fnetworking-generic-switch~master~Iccfd595d15f7bad4df1f2fc5ced83d899feb850d,openstack/networking-generic-switch,master,pip-resolver,Iccfd595d15f7bad4df1f2fc5ced83d899feb850d,Remove pep8 dependencies from test-requirements,MERGED,2020-12-09 16:02:27.000000000,2021-01-20 10:51:48.000000000,2021-01-20 10:50:15.000000000,6,8,0,766254,c4663bd8a60227009fc9d23d660c5d94966f63c7,20,4,3,2,23851,Riccardo Pittau,elfosardo,"Remove pep8 dependencies from test-requirements

They're not needed there and are hard to constraint properly.

Change-Id: Iccfd595d15f7bad4df1f2fc5ced83d899feb850d
"
openstack%2Fmistral~master~I8bea8e24aa5c12fe08d3705f042bc6dea8695403,openstack/mistral,master,remove-unicode,I8bea8e24aa5c12fe08d3705f042bc6dea8695403,remove unicode from code,MERGED,2021-01-03 02:54:03.000000000,2021-01-20 10:51:02.000000000,2021-01-20 10:48:38.000000000,6,6,0,768922,de4d0277e0ef70330b491caccf70c833f92cbd57,17,2,3,4,32577,Hongtao Qi,qihongtao03,"remove unicode from code

Change-Id: I8bea8e24aa5c12fe08d3705f042bc6dea8695403
"
openstack%2Fpython-ironic-inspector-client~master~I44ac4f898e75fa853085bb38bbfd47752c46f100,openstack/python-ironic-inspector-client,master,pip-resolver,I44ac4f898e75fa853085bb38bbfd47752c46f100,Move pep8 dependencies from test-requirements to tox.ini,MERGED,2020-12-14 09:56:38.000000000,2021-01-20 10:50:25.000000000,2021-01-20 10:48:25.000000000,6,6,0,766915,03ce642b4bab4fd259e8260f35cd977168b2412b,21,4,4,2,23851,Riccardo Pittau,elfosardo,"Move pep8 dependencies from test-requirements to tox.ini

They're not needed there and are hard to constraint properly.

Change-Id: I44ac4f898e75fa853085bb38bbfd47752c46f100
"
openstack%2Fopenstack-tempest-skiplist~master~I80452d17229792e5347929c47edf89915a68275b,openstack/openstack-tempest-skiplist,master,vms_fips,I80452d17229792e5347929c47edf89915a68275b,Added to skiplist FloatingIpTestCasesAdmin.test_two_vms_fips,MERGED,2021-01-18 10:16:26.000000000,2021-01-20 10:42:09.000000000,2021-01-18 16:01:41.000000000,9,0,4,771180,34ed04ade91671ecd7fddbd81b5059790e43785a,22,4,5,1,30750,amolkahat,amolkahat,"Added to skiplist FloatingIpTestCasesAdmin.test_two_vms_fips

Test test_floatingip.FloatingIpTestCasesAdmin is failing.
Affected jobs:
periodic-tripleo-ci-centos-8-ovb-1ctlr_2comp-featureset020-victoria

partial-bug: #1912171
Change-Id: I80452d17229792e5347929c47edf89915a68275b
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
"
openstack%2Fheat~stable%2Fussuri~Ibed37eea817a5125c5751b2bc9f44acf3c016fe1,openstack/heat,stable/ussuri,bz-1887424-stable/victoria-stable/ussuri,Ibed37eea817a5125c5751b2bc9f44acf3c016fe1,Add SOURCE_IP_PORT to LB_ALGORITHM allowed values,MERGED,2021-01-20 06:13:13.000000000,2021-01-20 10:41:27.000000000,2021-01-20 10:39:44.000000000,6,2,0,771537,49ef181bb229ded1131582a64fd4cba9be6fc953,7,3,1,2,22629,Michal Nasiadka,mnasiadka,"Add SOURCE_IP_PORT to LB_ALGORITHM allowed values

This change adds SOURCE_IP_PORT to lb_algorithm property of
OS::Octavia::Pool resource which is missing from the available options
and required when using the OVN provider driver.

[0] https://docs.openstack.org/ovn-octavia-provider/latest/admin/driver.html#limitations-of-the-ovn-provider-driver
[1] https://docs.openstack.org/releasenotes/octavia/train.html

Story: 2008361
Task: 41268

Change-Id: Ibed37eea817a5125c5751b2bc9f44acf3c016fe1
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 20b599cdf893af5165b07b3d1f70864693ec35ff)
(cherry picked from commit 3cf3a68a40d6a12e6abc5f2dd582b7e66a66dabc)
"
openstack%2Fqa-specs~master~Id5aa7c8edb06194d5b948026175926b71d777d13,openstack/qa-specs,master,,Id5aa7c8edb06194d5b948026175926b71d777d13,remove unicode from code,NEW,2021-01-05 09:18:38.000000000,2021-01-20 10:35:08.000000000,,12,12,0,769271,01472c57efeb68fcc9f6ef635ecc8c750ef2ea4e,3,2,1,1,32020,zhangtongjian,zhangtongjian,"remove unicode from code

Change-Id: Id5aa7c8edb06194d5b948026175926b71d777d13
"
openstack%2Fopenstack-chef-specs~master~I50f0b36882d95f2af2a4edf62edad9f58ad7cb59,openstack/openstack-chef-specs,master,,I50f0b36882d95f2af2a4edf62edad9f58ad7cb59,remove unicode from code,NEW,2021-01-05 09:27:32.000000000,2021-01-20 10:33:16.000000000,,7,7,1,769290,41e9677ae89b88710be6dac54a9813d5ff1cc25b,6,3,2,1,32020,zhangtongjian,zhangtongjian,"remove unicode from code

Change-Id: I50f0b36882d95f2af2a4edf62edad9f58ad7cb59
"
openstack%2Fironic~master~I9f5738d7f1cc287d1b0f2a8d0ef52f12705950bf,openstack/ironic,master,fast-track-steps,I9f5738d7f1cc287d1b0f2a8d0ef52f12705950bf,"Add import, export configuration steps",ABANDONED,2020-08-07 08:20:29.000000000,2021-01-20 10:31:09.000000000,,106,0,2,745300,23e72bdeae15b87903fdc41ae21005651fc97ed2,9,8,1,3,27909,Aija Jauntēva,ajya,"Add import, export configuration steps

Adds new `import_configuration`, `export_configuration` and
`import_export_configuration` steps to ManagementInterface.

All steps are optional and available for all hardware types to implement.

Change-Id: I9f5738d7f1cc287d1b0f2a8d0ef52f12705950bf
Story: 2003594
Task: 40620
"
openstack%2Fopenstack-ansible~master~Iafd2624c6b7c68bdce78ea2795770b27650398dd,openstack/openstack-ansible,master,,Iafd2624c6b7c68bdce78ea2795770b27650398dd,Roll back use of tempest smoke test for the integrated repo,MERGED,2019-11-19 16:48:19.000000000,2021-01-20 10:27:44.000000000,2019-11-20 02:08:56.000000000,27,0,0,695033,384ae93a9b2903463f2c2a973c63e7732f558808,9,3,1,1,25023,Jonathan Rosser,jrosser,"Roll back use of tempest smoke test for the integrated repo

This leaves the smoke test as the default in os_tempest but should
temporarily fix several OSA role tests

Change-Id: Iafd2624c6b7c68bdce78ea2795770b27650398dd
"
openstack%2Fkolla-ansible~master~Icf29b5fe793d8016cf7c5afe16c8043959fe8e7f,openstack/kolla-ansible,master,release-notes-link,Icf29b5fe793d8016cf7c5afe16c8043959fe8e7f,[docs] Add link for project's release notes,MERGED,2021-01-18 21:15:42.000000000,2021-01-20 10:15:07.000000000,2021-01-20 10:12:39.000000000,6,0,0,771272,70cfd478043301d467cef85bfad088a11e3e28b3,8,3,1,1,32657,Piotr Parczewski,piotrp,"[docs] Add link for project's release notes

This commit links main documentation site with the release notes
site.

Closes-Bug: #1912253
Change-Id: Icf29b5fe793d8016cf7c5afe16c8043959fe8e7f
"
openstack%2Fkolla~master~I526d947bb30c99902f8700ba26abd8367470ab8d,openstack/kolla,master,release-notes-link,I526d947bb30c99902f8700ba26abd8367470ab8d,[docs] Add link for project's release notes,MERGED,2021-01-19 15:57:16.000000000,2021-01-20 10:14:11.000000000,2021-01-20 10:11:46.000000000,6,0,0,771483,6fbae18f075a7f92923766be5b980acc892a0e00,8,3,1,1,32657,Piotr Parczewski,piotrp,"[docs] Add link for project's release notes

This commit links main documentation site with the release notes site.

Change-Id: I526d947bb30c99902f8700ba26abd8367470ab8d
"
openstack%2Fmonasca-tempest-plugin~master~Ia14be949ad5b02d776d35ac24d008fe4661c9bab,openstack/monasca-tempest-plugin,master,fix-zuul-publish,Ia14be949ad5b02d776d35ac24d008fe4661c9bab,Fix zuul publish docker image job,MERGED,2021-01-19 22:32:39.000000000,2021-01-20 10:04:01.000000000,2021-01-20 01:10:11.000000000,1,1,0,771523,74ad064fba33bad750fad04fda472af3525dca5b,10,3,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command

Change-Id: Ia14be949ad5b02d776d35ac24d008fe4661c9bab
"
openstack%2Fcharm-ceph-iscsi~master~I7a15ca1c12b3cee723afbcd3677719cd4729ed10,openstack/charm-ceph-iscsi,master,sync-for-21-01,I7a15ca1c12b3cee723afbcd3677719cd4729ed10,Add Groovy to the metadata,MERGED,2021-01-19 16:30:16.000000000,2021-01-20 09:50:46.000000000,2021-01-20 09:50:46.000000000,1,0,0,771487,b7f390068f69f9c8cafeee12655eb95997261e49,10,3,1,1,31289,Aurelien Lourot,lourot,"Add Groovy to the metadata

Change-Id: I7a15ca1c12b3cee723afbcd3677719cd4729ed10
"
openstack%2Fkolla-ansible~master~I1d080f925ca4c55c7fef3b639c0171bf27ab29fa,openstack/kolla-ansible,master,,I1d080f925ca4c55c7fef3b639c0171bf27ab29fa,Apply description when creating projects,NEW,2021-01-19 15:37:26.000000000,2021-01-20 09:36:03.000000000,,1,0,1,771482,e73a168b6da4e0be75531b8819fee11c6882de62,4,1,1,1,32802,Kevin Masterson,kmasterson,"Apply description when creating projects

Allows tasks to supply a project description when adding users to
projects. If the description field is not supplied, it defaults
to ""Project for OpenStack services"".

Closes-Bug: #1640754
Change-Id: I1d080f925ca4c55c7fef3b639c0171bf27ab29fa
"
openstack%2Fpython-mistralclient~master~Icb16bad2fc18abe1d9a783d25e844a8c02a3f321,openstack/python-mistralclient,master,,Icb16bad2fc18abe1d9a783d25e844a8c02a3f321,Drop lower-constraints job,MERGED,2021-01-15 09:19:11.000000000,2021-01-20 09:25:39.000000000,2021-01-20 09:20:25.000000000,0,1,0,770910,63e20bff29f1765b3953e0165ebd8a7aab0b6a87,8,6,1,1,32291,wushiming,wushiming,"Drop lower-constraints job

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: Icb16bad2fc18abe1d9a783d25e844a8c02a3f321
"
openstack%2Fmistral~master~I547d1d56f00d5b66685ceb43c3d9f7fa58b59da8,openstack/mistral,master,,I547d1d56f00d5b66685ceb43c3d9f7fa58b59da8,Drop lower-constraints job,MERGED,2021-01-13 02:15:49.000000000,2021-01-20 09:24:01.000000000,2021-01-20 09:17:01.000000000,0,1,0,770525,328988ed5baffc5bb4c6dcbd32d5b669e12216a8,12,6,2,1,32291,wushiming,wushiming,"Drop lower-constraints job

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: I547d1d56f00d5b66685ceb43c3d9f7fa58b59da8
"
openstack%2Ftripleo-common~master~I6a93347bc9e9b0e9307977eb8184849fe493c101,openstack/tripleo-common,master,correct-pylint,I6a93347bc9e9b0e9307977eb8184849fe493c101,Fix logging format,ABANDONED,2021-01-20 08:10:11.000000000,2021-01-20 08:41:22.000000000,,2,2,0,771570,2fb57c0f62f60f0273ccba34844d36000e64fbf7,7,2,3,1,28223,Cedric Jeanneret,cjeanner,"Fix logging format

A new pylint rule is bitting us with the ""lazy format"":

************* Module tripleo_common.image.image_builder
tripleo_common/image/image_builder.py:120:8: W1201: Use lazy % formatting in logging functions (logging-not-lazy)
tripleo_common/image/image_builder.py:121:8: W1201: Use lazy % formatting in logging functions (logging-not-lazy)

Apparently another patch[1] was also issued some days ago, but for unknown
reason it didn't catch those two lines back then..

[1] I1c1336edce7664f65e0fa2a01492c3544f59a14e

Change-Id: I6a93347bc9e9b0e9307977eb8184849fe493c101
Closes-Bug: #1912456
Closes-Bug: #1911681
"
openstack%2Fcharm-ceph-osd~master~Ie6146da90c4adc38e817e644e1328ad6c41d678f,openstack/charm-ceph-osd,master,sync-for-21-01,Ie6146da90c4adc38e817e644e1328ad6c41d678f,Updates for testing period for 20.01 release,MERGED,2021-01-15 15:57:08.000000000,2021-01-20 08:21:37.000000000,2021-01-20 08:21:37.000000000,28,9,0,770979,22a8db4a2c64dba0223944ccc84e60c395e40dd5,15,3,2,3,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

Change-Id: Ie6146da90c4adc38e817e644e1328ad6c41d678f
"
openstack%2Frequirements~master~I616a1e5f0e5dfe4e130a3057d1506912ff791053,openstack/requirements,master,openstack/requirements/constraints,I616a1e5f0e5dfe4e130a3057d1506912ff791053,Updated from generate-constraints,ABANDONED,2021-01-20 06:33:23.000000000,2021-01-20 07:46:52.000000000,,16,16,0,771561,afd08088f6eafdf5c1b2e6addabcae32a3f84312,3,0,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I616a1e5f0e5dfe4e130a3057d1506912ff791053
"
openstack%2Frequirements~master~I97830222ff9b912e640bd6c4659bf9a643f59410,openstack/requirements,master,openstack/requirements/constraints/noclob,I97830222ff9b912e640bd6c4659bf9a643f59410,Updated from generate-constraints,MERGED,2021-01-19 06:20:26.000000000,2021-01-20 07:42:34.000000000,2021-01-20 07:37:20.000000000,6,6,0,771359,961c951c30e3c9c1e2ce15faf5b464423858bbae,12,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I97830222ff9b912e640bd6c4659bf9a643f59410
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Frequirements~stable%2Fvictoria~I35038e7f6596c41bb2567320d30c1936d4edbc79,openstack/requirements,stable/victoria,new-release,I35038e7f6596c41bb2567320d30c1936d4edbc79,update constraint for os-collect-config to new release 12.0.0,MERGED,2021-01-14 10:49:25.000000000,2021-01-20 07:36:54.000000000,2021-01-20 07:36:54.000000000,1,1,0,770781,812337f42ef6dee5066871852a331103bca537c5,14,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os-collect-config to new release 12.0.0

meta: version: 12.0.0
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I33a9c076738f54df1f0f7f7bb083ef67e49fee14
meta: release:Code-Review+1: Alex Schultz <aschultz@redhat.com>
meta: release:Code-Review+1: Marios Andreou <marios@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I35038e7f6596c41bb2567320d30c1936d4edbc79
"
openstack%2Fneutron~stable%2Ftrain~Idf91002dc8ad4b16218c6a332a93c744218be73a,openstack/neutron,stable/train,bug/1896735-stable/train,Idf91002dc8ad4b16218c6a332a93c744218be73a,Don't fail if FIP is not in port forwarding cache during cleaning,MERGED,2021-01-07 20:45:42.000000000,2021-01-20 07:13:16.000000000,2021-01-20 07:10:44.000000000,3,3,0,769833,9c1f940d82a8b1c28bb634607b6c2a740d4830d0,43,7,2,1,11952,Flavio Fernandes,ffernand,"Don't fail if FIP is not in port forwarding cache during cleaning

Lets use set's discard() method instead of remove() to not raise
an exception when port forwarding or FIP is removed from port forwarding cache,
and FIP is not in cache actually.

Change-Id: Idf91002dc8ad4b16218c6a332a93c744218be73a
Related-Bug: #1896735
(cherry picked from commit e392fb68c508e9bcd1390245879a28d34b1fa381)
"
openstack%2Fcinder-specs~master~I9b76fc4b1f13ddf07769136ec975148e1e109ca8,openstack/cinder-specs,master,bp/nvmeof-client-raid-healing-agent,I9b76fc4b1f13ddf07769136ec975148e1e109ca8,NVMe monitoring and healing agent for NVMe connector.,MERGED,2020-12-11 13:17:54.000000000,2021-01-20 06:57:11.000000000,2020-12-23 13:46:20.000000000,211,0,109,766732,ce4aa864538d4590d010582c0df3f24472d6fc87,49,6,12,1,16721,Zohar Mamedov,zohar,"NVMe monitoring and healing agent for NVMe connector.

Depends-On: https://review.opendev.org/c/openstack/cinder-specs/+/766730
Implements: blueprint nvmeof-client-raid-healing-agent
Change-Id: I9b76fc4b1f13ddf07769136ec975148e1e109ca8
"
openstack%2Fswift~stable%2Fvictoria~I6a2ec3739ac92affb0f3dac248f26a1fc4ac9493,openstack/swift,stable/victoria,,I6a2ec3739ac92affb0f3dac248f26a1fc4ac9493,py3: Fix status comparison in ECGetResponseCollection,MERGED,2021-01-15 23:01:48.000000000,2021-01-20 06:45:09.000000000,2021-01-20 06:42:22.000000000,32,1,0,770968,acb742ac1fa2c233aedb1af97a0dd3ab1b5a201d,10,3,1,2,15343,Tim Burke,tburke,"py3: Fix status comparison in ECGetResponseCollection

The initial dummy bad bucket was previously stored using None as a
key. In some circumstances this None key might be compared with
integer response status, which is unsupported in py3.

Move away from having any sort of default value and instead return a
default dummy bucket if we don't have any responses or only have 404
responses.

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Change-Id: I6a2ec3739ac92affb0f3dac248f26a1fc4ac9493
Closes-Bug: #1900770
(cherry picked from commit a5fa3cfcafbc6a441139b6e9bccc06bf38042d64)
"
openstack%2Fpython-cinderclient~master~Ibb589d77340d1e1e7b1310e893a330b55eafe325,openstack/python-cinderclient,master,,Ibb589d77340d1e1e7b1310e893a330b55eafe325,Stop configuring install_command in tox.,ABANDONED,2020-09-08 10:23:29.000000000,2021-01-20 06:41:33.000000000,,0,1,0,750311,c846ea111464e37f92b596eee4eedc3fbcbfee77,10,2,4,1,30615,Tushar Trambak Gite,tushargite96,"Stop configuring install_command in tox.

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.

Change-Id: Ibb589d77340d1e1e7b1310e893a330b55eafe325
"
openstack%2Fneutron~master~I4c4dd7a17ea7cc483bb4b3ed7cff7ee91f917ed9,openstack/neutron,master,improve-neutron-ci,I4c4dd7a17ea7cc483bb4b3ed7cff7ee91f917ed9,Move some non-voting jobs to the experimental queue,MERGED,2021-01-14 16:21:49.000000000,2021-01-20 06:03:28.000000000,2021-01-20 05:56:05.000000000,4,8,6,770832,81574f04f3854cd8a09d48e0d2b058bc410d661f,29,7,2,1,11975,Slawek Kaplonski,slaweq,"Move some non-voting jobs to the experimental queue

To give some relief to Zuul resources, lets move non-voting
jobs which are broken and failing all the time to the experimental
queue for now.
We can bring them back to check queue when we will fix them.

Change-Id: I4c4dd7a17ea7cc483bb4b3ed7cff7ee91f917ed9
"
openstack%2Fneutron~stable%2Fqueens~I557af0bcafac4583ad9726c9bf707cf1fb92ffc5,openstack/neutron,stable/queens,bug/1905568-stable/victoria-stable/ussuri-stable/train-stable/stein-stable/rocky-stable/queens,I557af0bcafac4583ad9726c9bf707cf1fb92ffc5,[GRE] Add possibility to create GRE tunnels over IPv6,MERGED,2020-12-18 15:20:54.000000000,2021-01-20 05:57:15.000000000,2021-01-20 05:57:15.000000000,21,3,0,767780,9b796ed53ee2f7b3fec6509e0d6893ebe85fa01f,17,4,2,2,11975,Slawek Kaplonski,slaweq,"[GRE] Add possibility to create GRE tunnels over IPv6

In case when IPv6 addresses are used for GRE tunnels, tunnel
type set for the openvswitch interface should be ""ip6gre"" instead of
""gre"" which was set so far.
This patch changes that so now Neutron configures correct GRE tunnel
types.

Conflicts:
    neutron/tests/functional/agent/common/test_ovs_lib.py

Change-Id: I557af0bcafac4583ad9726c9bf707cf1fb92ffc5
Closes-Bug: #1904564
(cherry picked from commit 80e6781bc2d2b39e547e80996743d29ec090c816)
"
openstack%2Fneutron~stable%2Ftrain~Icfcf8c5406cfdc47fabf012e82ed56c345a73af8,openstack/neutron,stable/train,fix-flush-ebtables-chain-before-deleting-stable/victoria-stable/ussuri-stable/train,Icfcf8c5406cfdc47fabf012e82ed56c345a73af8,Flush ebtables arp protect chains before deleting them,MERGED,2020-12-04 10:35:19.000000000,2021-01-20 05:29:01.000000000,2021-01-20 05:27:15.000000000,25,5,0,765409,a5d8623a2a8df8607a8b107be4f278612760eca6,32,5,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Flush ebtables arp protect chains before deleting them

When a port is removed, the linuxbridge agent cleans up the chains
neutronARP-* and neutronMAC-*, but in some cases this chains still
contains rules and ebtables fails with `CHAIN_USER_DEL failed (Device or
resource busy)`. Flushing the chains before deleting them, fixes that
issue.

Change-Id: Icfcf8c5406cfdc47fabf012e82ed56c345a73af8
Closes-Bug: #1887281
(cherry picked from commit 2207b885449667a7bc377f427b9123165223dbde)
"
openstack%2Fmistral-specs~master~I3a30acd10272328462c14bd9a28f95b5f4cb2db0,openstack/mistral-specs,master,,I3a30acd10272328462c14bd9a28f95b5f4cb2db0,remove unicode from code,MERGED,2021-01-05 09:22:04.000000000,2021-01-20 05:17:27.000000000,2021-01-20 05:15:54.000000000,10,10,0,769279,8af0629e7e03b4dd71bbad17477d4d64aef33ece,8,3,1,1,32020,zhangtongjian,zhangtongjian,"remove unicode from code

Change-Id: I3a30acd10272328462c14bd9a28f95b5f4cb2db0
"
openstack%2Ftripleo-ci~master~I18868e853843d8602faa00a8faad8587462db08b,openstack/tripleo-ci,master,,I18868e853843d8602faa00a8faad8587462db08b,Collect /etc/cni/ for podman networks,MERGED,2021-01-18 20:20:03.000000000,2021-01-20 05:04:26.000000000,2021-01-20 05:04:26.000000000,1,0,0,771269,2e7c74d0d460f1137d514f99b862ea69faad50c5,10,4,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Collect /etc/cni/ for podman networks

Change-Id: I18868e853843d8602faa00a8faad8587462db08b
"
openstack%2Ftripleo-common~master~If983f7755318f28dab8aa125c396f306d67fa0e0,openstack/tripleo-common,master,env_merging,If983f7755318f28dab8aa125c396f306d67fa0e0,Drop parameter caching,MERGED,2021-01-12 13:03:25.000000000,2021-01-20 04:46:06.000000000,2021-01-20 04:44:25.000000000,14,306,0,770335,57a8d9b7aa93049158822c2df8f2911e483185b6,9,4,1,6,8833,Rabi Mishra,rabi,"Drop parameter caching

We plan to remove swift and parameter caching has been
added for tripleo-uii, that was calling GetParametersAction
frequently to update plan parameters. It does not add any
benefits for normal deployments using CLI.

Change-Id: If983f7755318f28dab8aa125c396f306d67fa0e0
"
openstack%2Ftripleo-heat-templates~master~I172ae8f35df34887aaf61b3e03d5aaab1d462a60,openstack/tripleo-heat-templates,master,,I172ae8f35df34887aaf61b3e03d5aaab1d462a60,Do not relabel Swift files on every container start,MERGED,2020-12-07 10:40:19.000000000,2021-01-20 04:45:03.000000000,2021-01-20 04:34:59.000000000,7,2,0,765778,191d160903d1072d3cfd9a594e79f64cc533b2b1,21,5,3,2,6968,Christian Schwede,cschwede,"Do not relabel Swift files on every container start

Without this patch, files in /srv/node are relabeled on every start of
the account_auditor and/or account_reaper containers. If there are many
files (eg. when using Gnocchi) this will take a long time, sometimes
dozens of minutes per container start, and might result in breaking
upgrades/updates.

Relabeling already happens in step 3, this should be sufficient and
prevent additional delays when (re-) starting containers.

Closes-Bug: 1907070
Change-Id: I172ae8f35df34887aaf61b3e03d5aaab1d462a60
"
openstack%2Fpaunch~stable%2Fstein~I7792def11b29173e687e64f9286888adc221217d,openstack/paunch,stable/stein,tripleo-c7-update-upgrade-removal,I7792def11b29173e687e64f9286888adc221217d,Remove centos-7 upgrade and update jobs,MERGED,2021-01-19 07:39:13.000000000,2021-01-20 04:45:01.000000000,2021-01-20 04:35:23.000000000,0,8,0,771368,e2682188aeebf670442af9050e652595bf465e1e,10,6,1,1,8449,Marios Andreou,marios,"Remove centos-7 upgrade and update jobs

See topic branch [1] for related patches

[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal

Change-Id: I7792def11b29173e687e64f9286888adc221217d
"
openstack%2Fos-net-config~stable%2Fussuri~Id1a0b699a1592a1231eaf9ad4f93d2d3e91cf2d1,openstack/os-net-config,stable/ussuri,reduce-content-providers,Id1a0b699a1592a1231eaf9ad4f93d2d3e91cf2d1,Wire up new tripleo upgrades jobs template,MERGED,2021-01-06 10:40:25.000000000,2021-01-20 04:44:51.000000000,2021-01-20 04:35:20.000000000,1,0,0,769493,754c7fe685cb4dff93565e615855fb00a7ab397d,20,5,1,1,8449,Marios Andreou,marios,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: Id1a0b699a1592a1231eaf9ad4f93d2d3e91cf2d1
"
openstack%2Ftripleo-validations~stable%2Ftrain~Ic4996853adbec126123894d6d879fe6d33f9624b,openstack/tripleo-validations,stable/train,rhbz#1877688-train-bp,Ic4996853adbec126123894d6d879fe6d33f9624b,Ensures script is executable,MERGED,2020-10-07 11:06:12.000000000,2021-01-20 04:44:22.000000000,2021-01-20 04:44:22.000000000,0,0,0,756494,ce2e525b90670004ab1a706e72a6dc1ec9ed7f98,37,5,7,1,11491,Gael Chamoulaud,gchamoul,"Ensures script is executable

Change-Id: Ic4996853adbec126123894d6d879fe6d33f9624b
(cherry picked from commit 2fd1c92b59a30afbfcbe0f7af20941a8a960d970)
(cherry picked from commit c17d51ec646f1b61d68d3cda74b3ad9b76bab2ad)
"
openstack%2Ftripleo-common~stable%2Fqueens~Ice5d80e66d97da734848803830fb86b356c55a8c,openstack/tripleo-common,stable/queens,tripleo-c7-update-upgrade-removal,Ice5d80e66d97da734848803830fb86b356c55a8c,Remove centos-7 upgrade and update jobs,MERGED,2021-01-19 07:54:20.000000000,2021-01-20 04:36:06.000000000,2021-01-20 04:36:06.000000000,0,12,0,771377,b2495f222e4fbec4ee7d27c17191bb79713022cd,10,7,1,1,8449,Marios Andreou,marios,"Remove centos-7 upgrade and update jobs

See topic branch [1] for related patches

[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal

Change-Id: Ice5d80e66d97da734848803830fb86b356c55a8c
"
openstack%2Ftripleo-common~stable%2Frocky~I21d3ca4dca4d5d014d56372d96faad060ff38b56,openstack/tripleo-common,stable/rocky,tripleo-c7-update-upgrade-removal,I21d3ca4dca4d5d014d56372d96faad060ff38b56,Remove centos-7 upgrade and update jobs,MERGED,2021-01-19 07:51:53.000000000,2021-01-20 04:36:01.000000000,2021-01-20 04:36:01.000000000,0,25,0,771375,8fb69d5b01b522a11d0d44120b70795435ea5198,10,7,1,1,8449,Marios Andreou,marios,"Remove centos-7 upgrade and update jobs

See topic branch [1] for related patches

[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal

Change-Id: I21d3ca4dca4d5d014d56372d96faad060ff38b56
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ic73bead79f3e4017679a75b27d0b5fa5cb1d3a91,openstack/tripleo-heat-templates,stable/rocky,tripleo-c7-update-upgrade-removal,Ic73bead79f3e4017679a75b27d0b5fa5cb1d3a91,Remove centos-7 upgrade and update jobs,MERGED,2021-01-19 07:50:43.000000000,2021-01-20 04:35:54.000000000,2021-01-20 04:35:54.000000000,0,7,0,771373,a874c9c478bc19be3704286b9ee2ab7dda2a98de,9,6,1,1,8449,Marios Andreou,marios,"Remove centos-7 upgrade and update jobs

See topic branch [1] for related patches

[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal

Change-Id: Ic73bead79f3e4017679a75b27d0b5fa5cb1d3a91
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ic60383a8b13c7bd86bbac243bce78fa8cb310e76,openstack/tripleo-heat-templates,stable/queens,tripleo-c7-update-upgrade-removal,Ic60383a8b13c7bd86bbac243bce78fa8cb310e76,Remove centos-7 upgrade and update jobs,MERGED,2021-01-19 07:53:45.000000000,2021-01-20 04:35:44.000000000,2021-01-20 04:35:44.000000000,0,30,0,771376,410f1af3c1975a2fbc8830861cd87bc3cedadc2f,9,6,1,1,8449,Marios Andreou,marios,"Remove centos-7 upgrade and update jobs

See topic branch [1] for related patches

[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal

Change-Id: Ic60383a8b13c7bd86bbac243bce78fa8cb310e76
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ib5d6002f2fc572c891dd4266939666d21459ab1c,openstack/tripleo-heat-templates,stable/stein,tripleo-c7-update-upgrade-removal,Ib5d6002f2fc572c891dd4266939666d21459ab1c,Remove centos-7 upgrade and update jobs,MERGED,2021-01-19 07:41:49.000000000,2021-01-20 04:35:39.000000000,2021-01-20 04:35:39.000000000,1,32,0,771370,50345b6bea359f014559c27b67cc0ba5ecb5edd6,9,6,1,1,8449,Marios Andreou,marios,"Remove centos-7 upgrade and update jobs

See topic branch [1] for related patches

[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal

Change-Id: Ib5d6002f2fc572c891dd4266939666d21459ab1c
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~Ifb81d155cbb4598a311c8e6fe90be951a8e7e656,openstack/puppet-tripleo,stable/ussuri,fix-pcmk-ceph-stable/victoria-stable/ussuri,Ifb81d155cbb4598a311c8e6fe90be951a8e7e656,Fix manila-share with ceph-nfs backend,MERGED,2021-01-12 17:56:47.000000000,2021-01-20 04:34:55.000000000,2021-01-20 04:34:55.000000000,4,1,0,770194,6d335056a39f8ee33a708f5b9556fc7663e5023e,20,4,1,1,20172,Michele Baldessari,michele,"Fix manila-share with ceph-nfs backend

Currently when you deploy manila-share with a ceph-nfs backend
we get the following error:
Error: pcs -f
/var/lib/pacemaker/cib/puppet-cib-backup20210107-48280-1y4rwmx
constraint colocation add openstack-manila-share with ceph-nfs INFINITY
failed: Error: Resource 'ceph-nfs' does not exist. Too many tries

The reason for it is that we moved the pcs resource creation to the host
and outside containers
https://review.opendev.org/q/topic:%22pcs_host3%22+(status:open%20OR%20status:merged)

But when the ceph-nfs pcmk resource gets created at step 5, the
manila-share puppet code has already been invoked and since it requires
the ceph-nfs resource to be available it fails like above.

Let's move the ceph-nfs creation to step4 to solve this.

Closes-Bug: #1910732

Change-Id: Ifb81d155cbb4598a311c8e6fe90be951a8e7e656
(cherry picked from commit 06e131882b563576da55886d2bd5ffe769df41e5)
"
openstack%2Fpuppet-tripleo~stable%2Fvictoria~Ifb81d155cbb4598a311c8e6fe90be951a8e7e656,openstack/puppet-tripleo,stable/victoria,fix-pcmk-ceph-stable/victoria,Ifb81d155cbb4598a311c8e6fe90be951a8e7e656,Fix manila-share with ceph-nfs backend,MERGED,2021-01-12 17:43:31.000000000,2021-01-20 04:34:51.000000000,2021-01-20 04:34:51.000000000,4,1,0,770193,7b00af7df219c81b9f7077c7b92ba463a9a991b8,17,3,1,1,20172,Michele Baldessari,michele,"Fix manila-share with ceph-nfs backend

Currently when you deploy manila-share with a ceph-nfs backend
we get the following error:
Error: pcs -f
/var/lib/pacemaker/cib/puppet-cib-backup20210107-48280-1y4rwmx
constraint colocation add openstack-manila-share with ceph-nfs INFINITY
failed: Error: Resource 'ceph-nfs' does not exist. Too many tries

The reason for it is that we moved the pcs resource creation to the host
and outside containers
https://review.opendev.org/q/topic:%22pcs_host3%22+(status:open%20OR%20status:merged)

But when the ceph-nfs pcmk resource gets created at step 5, the
manila-share puppet code has already been invoked and since it requires
the ceph-nfs resource to be available it fails like above.

Let's move the ceph-nfs creation to step4 to solve this.

Closes-Bug: #1910732

Change-Id: Ifb81d155cbb4598a311c8e6fe90be951a8e7e656
(cherry picked from commit 06e131882b563576da55886d2bd5ffe769df41e5)
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I6f41bc10a2197ebb63d2aaa0da490d78ceb436f0,openstack/puppet-tripleo,stable/ussuri,reduce-content-providers,I6f41bc10a2197ebb63d2aaa0da490d78ceb436f0,Wire up new tripleo upgrades jobs template,MERGED,2021-01-05 12:25:41.000000000,2021-01-20 04:09:33.000000000,2021-01-20 04:09:33.000000000,1,0,0,769340,e7c52e69eec254b536c5d2e69600404fb76345b8,36,7,1,1,8449,Marios Andreou,marios,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: I6f41bc10a2197ebb63d2aaa0da490d78ceb436f0
"
openstack%2Ftripleo-common~master~I46dc2be0d528de1945552bd45ef56b3a84ce29af,openstack/tripleo-common,master,,I46dc2be0d528de1945552bd45ef56b3a84ce29af,Add missing parentheses,MERGED,2020-11-16 13:39:05.000000000,2021-01-20 03:55:33.000000000,2021-01-20 03:53:50.000000000,1,1,0,762839,212fe2eb87a21d0f5c83e32406ddb921d3bb16c8,25,9,2,1,7353,Kevin Carter,cloudnull,"Add missing parentheses

While we're no longer using mistral for anything by default this
mistral workflow is missing a parentheses which causes it to fail
execution in the event someone does try to use it.

This was brought to our attention in BZ:1897949

Change-Id: I46dc2be0d528de1945552bd45ef56b3a84ce29af
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-common~stable%2Ftrain~I60c0e2fae1f5a4ad4f884b88e22ce4fdcabd5cdf,openstack/tripleo-common,stable/train,,I60c0e2fae1f5a4ad4f884b88e22ce4fdcabd5cdf,Move daxio package to be arch specific,MERGED,2021-01-18 05:03:37.000000000,2021-01-20 03:55:25.000000000,2021-01-20 03:53:44.000000000,3,1,0,771121,460b0d5764538e1e1ff90be698e8d066d6d0ffc9,12,5,1,1,29775,Sandeep Yadav,sandeepyadav93,"Move daxio package to be arch specific

daxio package isn't available on non-x86_64 so we are moving this
under x86_64 arch following nova-libvirt.yaml example.

Change-Id: I60c0e2fae1f5a4ad4f884b88e22ce4fdcabd5cdf
(cherry picked from commit 64d4af476bb7a70fa11ef4004f696b311ffef008)
(cherry picked from commit 07b7c152dc211c32a781df768dc561879f4eba70)
(cherry picked from commit d950e7d0e0d2a5c223878e8dec7f45656e861a29)
"
openstack%2Ftripleo-validations~stable%2Ftrain~I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,openstack/tripleo-validations,stable/train,755390-stable/victoria-stable/ussuri-stable/train,I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,Add tripleo-validations role for component testing,MERGED,2021-01-13 07:10:17.000000000,2021-01-20 03:47:48.000000000,2021-01-20 03:47:48.000000000,263,0,0,770505,fc10280e4e349b6e3115423716cd388d91bdd6eb,7,5,1,6,16515,mbu,matbu,"Add tripleo-validations role for component testing

This role used component vars dictionary.
The list of components and associated validations
is not exhautive yet, but will be add in a follow up
review, when the role will be experienced in the pipeline

Depends-On: https://review.rdoproject.org/r/#/c/31281/
Change-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98
(cherry picked from commit 02b1fcfdbef8bd685036833fc9d28451bd8b880f)
"
openstack%2Fvenus~master~I2b020fe13b591c61b3111c3dd8b14913e09e6055,openstack/venus,master,,I2b020fe13b591c61b3111c3dd8b14913e09e6055,Remove __unicode__() from  Venus Exception,MERGED,2021-01-08 09:15:52.000000000,2021-01-20 03:27:26.000000000,2021-01-20 03:27:26.000000000,0,3,0,769891,7d21232c8ba0bffa20a4846abb884235cc95ca97,7,2,1,1,30384,zhangboye,zhangboye,"Remove __unicode__() from  Venus Exception

This is no longer needed in Python 3.

Change-Id: I2b020fe13b591c61b3111c3dd8b14913e09e6055
"
openstack%2Fvenus~master~I00c1e8c0f5b69198f53d474e761018719481dc90,openstack/venus,master,Init,I00c1e8c0f5b69198f53d474e761018719481dc90,Implements: Init commit,MERGED,2021-01-18 07:35:50.000000000,2021-01-20 03:25:00.000000000,2021-01-20 03:25:00.000000000,1,0,0,771163,c0ec4ebb664f7889242ab09a79110c9618dda438,8,2,2,1,32999,ZhangZhaoHong,zhangzhh02,"Implements: Init commit

Change-Id: I00c1e8c0f5b69198f53d474e761018719481dc90
"
openstack%2Fvenus~master~Iea04bd4454d8da92b00eff93366c457c04c3bb27,openstack/venus,master,,Iea04bd4454d8da92b00eff93366c457c04c3bb27,remove __unicode__,MERGED,2021-01-07 11:20:27.000000000,2021-01-20 03:23:17.000000000,2021-01-20 03:23:17.000000000,0,3,0,769711,d7bee4fbbcea6983cf9fe1e0b9c5595b29dfcefc,6,2,1,1,30092,Xuan Yandong,xuanyandong,"remove __unicode__

This is no longer needed in Python 3.

Change-Id: Iea04bd4454d8da92b00eff93366c457c04c3bb27
"
openstack%2Fsushy~master~I72f8103fe9bb4613ef8c53a3ff08a710dc96c12d,openstack/sushy,master,story/2008270,I72f8103fe9bb4613ef8c53a3ff08a710dc96c12d,Secure boot support: enabling/disabling and resetting keys,MERGED,2021-01-13 12:04:02.000000000,2021-01-20 02:30:39.000000000,2021-01-20 02:28:49.000000000,316,1,0,770607,5425c005e27bcaa6a9ba0be5e03aa0b4946656e7,12,3,3,9,10239,Dmitry Tantsur,dtantsur,"Secure boot support: enabling/disabling and resetting keys

Story: #2008270
Task: #41582
Change-Id: I72f8103fe9bb4613ef8c53a3ff08a710dc96c12d
"
openstack%2Fadjutant-ui~stable%2Fussuri~I99e88b5786940fdc73b9afa25fdd6638a811eb9a,openstack/adjutant-ui,stable/ussuri,,I99e88b5786940fdc73b9afa25fdd6638a811eb9a,Now checks for code 202 when checking for success,MERGED,2021-01-20 01:29:53.000000000,2021-01-20 02:05:55.000000000,2021-01-20 02:05:55.000000000,1,1,0,771415,f2082dd42c0968db9a74ddc72614ee5219bda48f,6,3,1,1,10420,Adrian Turjak,adriant,"Now checks for code 202 when checking for success

Task: 41574
Story: 2008505
Change-Id: I99e88b5786940fdc73b9afa25fdd6638a811eb9a
(cherry picked from commit 208181a56928e6667f1e5fd48e5d64b4b4ef40a5)
"
openstack%2Fadjutant-ui~stable%2Fvictoria~I99e88b5786940fdc73b9afa25fdd6638a811eb9a,openstack/adjutant-ui,stable/victoria,,I99e88b5786940fdc73b9afa25fdd6638a811eb9a,Now checks for code 202 when checking for success,MERGED,2021-01-20 01:29:25.000000000,2021-01-20 02:05:49.000000000,2021-01-20 02:05:49.000000000,1,1,0,771414,8d7817034bdd400ed1074374cb9c98e64e95a9a5,6,3,1,1,10420,Adrian Turjak,adriant,"Now checks for code 202 when checking for success

Task: 41574
Story: 2008505
Change-Id: I99e88b5786940fdc73b9afa25fdd6638a811eb9a
(cherry picked from commit 208181a56928e6667f1e5fd48e5d64b4b4ef40a5)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib388af0a06bbb6172593dc2fd19748b770b2e335,openstack/tripleo-heat-templates,stable/ussuri,,Ib388af0a06bbb6172593dc2fd19748b770b2e335,Set up right DNF module stream for Upgrades and Updates.,MERGED,2021-01-11 15:34:10.000000000,2021-01-20 01:44:52.000000000,2021-01-20 01:44:52.000000000,49,0,0,770094,d3ef7c0faf1998e143dc43512ed0983d6f83df4e,14,7,2,5,26343,Jose Luis Franco,jfrancoa,"Set up right DNF module stream for Upgrades and Updates.

To ensure we get the right package versions we need to
make sure the right stream is configured for the
container-tools module.

This patch leverages the dnf module, which when passing as name
the @ identifier allows us to enable a stream for some specific
module [0], configuring the stream passed in DnfStreams heat parameter
in updates/upgrades task for step0.

If the stream passed in such parameter is alredy set, then the
module won't do anything else. On the contrary, it will disable
the current stream, enable the ones from DnfStreams and synchronize
the content.

By default the new Heat parameter defaults to empty list and it is
in the environment files where we set the right values depending
on the operation to perform (undercloud upgrade, overcloud update
or overcloud upgrade).

*****************************************************************
*BACKPORT NOTE: Add DNF module stream virt:8.2 in the overcloud *
*upgrade/update environment files.                              *
*****************************************************************

[0] - https://docs.ansible.com/ansible/latest/modules/dnf_module.html#examples
Closes-Bug: #1890631
Resolves: rhbz#1866479

Change-Id: Ib388af0a06bbb6172593dc2fd19748b770b2e335
(cherry picked from commit 4c2d5927e610731c23cdb0b49ed6ecbf86960692)
(cherry picked from commit 4ee64076fbd148096441051b1a2996faff52fe65)
"
openstack%2Ftripleo-heat-templates~master~I56b6dfe8a0e95385e469d9eac97a0ec24e147450,openstack/tripleo-heat-templates,master,bug/1904482,I56b6dfe8a0e95385e469d9eac97a0ec24e147450,Make it possible to override ServiceNetMap per-role,MERGED,2020-11-17 00:55:45.000000000,2021-01-20 01:27:58.000000000,2021-01-20 01:26:20.000000000,40,2,0,762934,be6a844a79d659525e0feecd5a784e4eb55cb021,30,9,5,2,24245,Harald Jensås,harald.jensas,"Make it possible to override ServiceNetMap per-role

In spine-and-leaf TLS-e deployments as done in OSP13,
services are filter based on role networks when adding
metadata for nova-join. This filtering removes valid
services due to the fact that the roles network does'nt
match the global ServiceNetMap.

Add a role based parameter {{role.name}}ServiceNetMap
that can be used to override the ServiceNetMap per-role
when it's being passed to {{role.name}}ServiceChain and
the {{role.name}} resource group.

Related: RHBZ#1875508
Closes-Bug: #1904482
Change-Id: I56b6dfe8a0e95385e469d9eac97a0ec24e147450
"
openstack%2Ftripleo-heat-templates~master~I3039307f226aa037ac4f16c9cb10eca42a3186be,openstack/tripleo-heat-templates,master,bug/1912109,I3039307f226aa037ac4f16c9cb10eca42a3186be,Do not loop on ceph_external_multi_config unless it is defined,MERGED,2021-01-17 19:23:33.000000000,2021-01-20 01:21:59.000000000,2021-01-20 01:21:59.000000000,3,1,0,771152,dc070b44a95a72d01e1195da0560ac10705b704d,14,4,1,1,18002,John Fulton,fultonj,"Do not loop on ceph_external_multi_config unless it is defined

Change-Id: I3039307f226aa037ac4f16c9cb10eca42a3186be
Closes-Bug: #1912109
"
openstack%2Fbifrost~master~I14979136e8c3befaabce9c6b169b5d6659f42812,openstack/bifrost,master,enroll,I14979136e8c3befaabce9c6b169b5d6659f42812,Add `bifrost-cli enroll` command,MERGED,2021-01-09 15:14:32.000000000,2021-01-20 01:21:06.000000000,2021-01-20 01:18:52.000000000,33,0,0,770042,a93cb486638286286275d4deb7a77a5ebbb5233c,8,3,1,3,10239,Dmitry Tantsur,dtantsur,"Add `bifrost-cli enroll` command

Change-Id: I14979136e8c3befaabce9c6b169b5d6659f42812
"
openstack%2Fzaqar-specs~master~Ia2a665207d4b267798d9d998d0284c2e68b247a4,openstack/zaqar-specs,master,support-extra-specs-to-subscription-confirm,Ia2a665207d4b267798d9d998d0284c2e68b247a4,Support Extra Specs to Subscription-confirming,MERGED,2021-01-12 06:18:48.000000000,2021-01-20 01:13:58.000000000,2021-01-20 01:12:04.000000000,109,2,0,770232,40bf1fc0cad3e829e94290fa33c81443ea39f86f,12,5,2,2,8846,Hao Wang,sxmatch,"Support Extra Specs to Subscription-confirming

This requirement came from a true scenario when
people use the subscription function of Zaqar,
for example, text messages, they need to return
some extra information like message authentication
code in confirming process.

Change-Id: Ia2a665207d4b267798d9d998d0284c2e68b247a4
Implements: blueprint support-extra-specs-to-subscription-confirming
"
openstack%2Fos-win~master~I2c3a4877da9182e0c151fa6a74e8f908c22cb193,openstack/os-win,master,,I2c3a4877da9182e0c151fa6a74e8f908c22cb193,Drop lower-constraints job,ABANDONED,2021-01-15 09:15:18.000000000,2021-01-20 01:01:58.000000000,,0,1,0,770909,f49f82212934816a0a32bd292e7b7a4ebfc0e0d5,4,2,1,1,32291,wushiming,wushiming,"Drop lower-constraints job

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: I2c3a4877da9182e0c151fa6a74e8f908c22cb193
"
openstack%2Fproject-config~master~Id424c95e7ed6124cdc9ab4ffa2077782efcbbb92,openstack/project-config,master,new-project,Id424c95e7ed6124cdc9ab4ffa2077782efcbbb92,Move snaps ACL to x,MERGED,2021-01-13 07:00:45.000000000,2021-01-19 23:25:45.000000000,2021-01-19 22:50:43.000000000,14,14,0,770538,9ccf4cc4be18c9255ab0836b03f8424637601cb8,9,4,1,2,6547,Andreas Jaeger,jaegerandi,"Move snaps ACL to x

The snaps repos were moved to x namespace but the ACL not, fix this now.

Change-Id: Id424c95e7ed6124cdc9ab4ffa2077782efcbbb92
"
openstack%2Fproject-config~master~Ib03ca2e58ff746de5ef7c9abc20a85879ce489b1,openstack/project-config,master,oslo-updates,Ib03ca2e58ff746de5ef7c9abc20a85879ce489b1,Adding irc notification for missing oslo projects,MERGED,2021-01-19 09:49:48.000000000,2021-01-19 23:02:20.000000000,2021-01-19 22:50:25.000000000,2,0,0,771392,5f9d58c7d251bfe09e572e44a3ca5cc5ae43a0e5,8,3,1,1,28522,Hervé Beraud,hberaud,"Adding irc notification for missing oslo projects

Change-Id: Ib03ca2e58ff746de5ef7c9abc20a85879ce489b1
"
openstack%2Fproject-config~master~I92bd7e69d03f1a387b0d34fb667c6fc4b099a1da,openstack/project-config,master,cursive-old-cleanup,I92bd7e69d03f1a387b0d34fb667c6fc4b099a1da,cursive: prepare to move the jobs in-tree,MERGED,2021-01-19 13:11:48.000000000,2021-01-19 22:50:21.000000000,2021-01-19 22:50:21.000000000,0,3,0,771443,ede1470a9942d2dfcef479bf66561514103c5e9d,7,3,1,1,10459,Luigi Toscano,ltoscano,"cursive: prepare to move the jobs in-tree

The job definitions will be moved into the cursive repository
and updated when needed.

For example, the python(2) and python35 jobs are failing right now
and they won't be copied anyway.

Required-By: https://review.opendev.org/746584
Change-Id: I92bd7e69d03f1a387b0d34fb667c6fc4b099a1da
"
openstack%2Fopenstack-helm-infra~master~I0c9477483b70c9ec844b37a6de10a50c0f2e1df8,openstack/openstack-helm-infra,master,,I0c9477483b70c9ec844b37a6de10a50c0f2e1df8,[ceph-osd] Fix a bug with DB orphan volume removal,MERGED,2021-01-19 17:18:25.000000000,2021-01-19 22:37:32.000000000,2021-01-19 22:35:58.000000000,2,2,0,771495,b2c0028349116aca11725581a1e99ea40bd9358c,19,14,1,2,29974,Stephen Taylor,st053q,"[ceph-osd] Fix a bug with DB orphan volume removal

The volume naming convention prefixes logical volume names with
ceph-lv-, ceph-db-, or ceph-wal-. The code that was added recently
to remove orphaned DB and WAL volumes does a string replacement of
""db"" or ""wal"" with ""lv"" when searching for corresponding data
volumes. This causes DB volumes to get identified incorrectly as
orphans and removed when ""db"" appears in the PV UUID portion of
the volume name.

Change-Id: I0c9477483b70c9ec844b37a6de10a50c0f2e1df8
"
openstack%2Fmanila-tempest-plugin~master~I477d64cbda446c53f749d9f36acfbd2d198a5272,openstack/manila-tempest-plugin,master,skip_checks,I477d64cbda446c53f749d9f36acfbd2d198a5272,Moving skip conditions under skip_check classmethod,MERGED,2021-01-19 08:44:20.000000000,2021-01-19 22:33:09.000000000,2021-01-19 22:33:09.000000000,23,16,2,771382,7f8e0ac2a190210f69d283af937c3aed0d199d83,14,5,2,6,19262,Liron Kuchlani,lkuchlan,"Moving skip conditions under skip_check classmethod

Skipping conditions shouldn't be under resource_setup
classmethod. This method is used to create resources
for test methods.

Change-Id: I477d64cbda446c53f749d9f36acfbd2d198a5272
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ibdd783b484a84c0fdfaac84d892a8ea46be85fde,openstack/tripleo-heat-templates,stable/train,,Ibdd783b484a84c0fdfaac84d892a8ea46be85fde,Refresh Swift ring files without restarting containers,MERGED,2021-01-13 15:47:10.000000000,2021-01-19 22:22:57.000000000,2021-01-19 22:22:57.000000000,38,0,0,770639,549cfe21d1647a370767b9dd5430e9c719f78403,8,5,1,3,6926,Bogdan Dobrelya,bogdando,"Refresh Swift ring files without restarting containers

Updating rings consists of multiple steps today:
1. Apply puppet in the swift_ringbuilder container
2. Copying files in step 3 using swift_copy_rings
3. Run kolla_set_config to copy files to /etc/swift before starting
   Swift service processes

This needs a container restart today, because kolla_set_config will be
executed only on container (re-)starts.

This patch will execute kolla_set_configs at the step 5 of deployment,
and apply all ring changes, if any, for the Swift processes without
a container restart. Swift processes will notice the changed ring files
within 15 seconds and will use the updated rings.

Co-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: Ibdd783b484a84c0fdfaac84d892a8ea46be85fde
(cherry picked from commit cb982440d74731e4943b75ea51feaa4f0fdcb938)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ibdd783b484a84c0fdfaac84d892a8ea46be85fde,openstack/tripleo-heat-templates,stable/victoria,refresh-swift-rings-stable/victoria,Ibdd783b484a84c0fdfaac84d892a8ea46be85fde,Refresh Swift ring files without restarting containers,MERGED,2021-01-13 15:35:33.000000000,2021-01-19 22:22:48.000000000,2021-01-19 22:22:48.000000000,38,0,0,770583,76481308b88f19ebbb606cdb080fabf78662078d,11,5,1,3,6926,Bogdan Dobrelya,bogdando,"Refresh Swift ring files without restarting containers

Updating rings consists of multiple steps today:
1. Apply puppet in the swift_ringbuilder container
2. Copying files in step 3 using swift_copy_rings
3. Run kolla_set_config to copy files to /etc/swift before starting
   Swift service processes

This needs a container restart today, because kolla_set_config will be
executed only on container (re-)starts.

This patch will execute kolla_set_configs at the step 5 of deployment,
and apply all ring changes, if any, for the Swift processes without
a container restart. Swift processes will notice the changed ring files
within 15 seconds and will use the updated rings.

Co-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: Ibdd783b484a84c0fdfaac84d892a8ea46be85fde
(cherry picked from commit cb982440d74731e4943b75ea51feaa4f0fdcb938)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I23b469057e4c47c42601beb166f815ee71147c14,openstack/tripleo-heat-templates,stable/victoria,refresh-swift-rings-stable/victoria,I23b469057e4c47c42601beb166f815ee71147c14,Fix swift containers idempotency,MERGED,2021-01-13 15:38:36.000000000,2021-01-19 22:22:39.000000000,2021-01-19 22:22:39.000000000,23,3,0,770584,43547f521d7f2adceff3c0e7a9fde5757f081d53,11,4,1,3,6926,Bogdan Dobrelya,bogdando,"Fix swift containers idempotency

The change https://review.opendev.org/#/c/616116 unwinded the swift
part of the https://review.opendev.org/#/c/590008/ changes. So the
contents of the /var/lib/config-data/swift_ringbuilder config volume
used to be managed by container-puppet tool. That made swift containers
always restarted because the puppet-generated rings are always changing
on each deployment/update execution.

Restore that unwinded change back and exclude swift rings from the
management of container-puppet tooling. Instead make init containers
swift_copy_rings and swift_setup_srv to be always executed (takes
the same approach as in https://review.opendev.org/#/c/564798/).

That also fixes the issue with swift_copy_rings seems never been
executed - at least there is no traces of it in CI jobs logs for swift
init containers.

Change-Id: I23b469057e4c47c42601beb166f815ee71147c14
Closes-Bug: #1867765
Related-Bug: #1802066
Related-Bug: #1786065
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 9bc664090741d43fd49857230238fc345bf8d0c9)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Iaf7823ea8d456008c1f4a3d7631657faa65eb6d3,openstack/tripleo-heat-templates,stable/victoria,,Iaf7823ea8d456008c1f4a3d7631657faa65eb6d3,Set toplevel nova::dhcp_domain for all nova services,MERGED,2021-01-18 10:45:09.000000000,2021-01-19 22:22:33.000000000,2021-01-19 22:22:33.000000000,1,1,0,771131,efd73e15d0835e1e6d42ce79e422817de0007ceb,9,6,1,1,11975,Slawek Kaplonski,slaweq,"Set toplevel nova::dhcp_domain for all nova services

Setting nova::metadata::dhcp_domain will no longer work unless nova::metadata
is included.
Since I07caa3185427b48e6e7d60965fa3e6157457018c we no longer include
nova::metadata on computes.
So we must now set nova::dhcp_domain in nova-base instead of relying on the
deprecated nova::metadata::dhcp_domain param.

Closes-bug: #1905418
Depends-on: I98fe83e0c245388944529cd19b5e2bbed134e855
Change-Id: Iaf7823ea8d456008c1f4a3d7631657faa65eb6d3
(cherry picked from commit bf7ef6b4d7c05e2c6a71138f68ba970f6604f743)
"
openstack%2Fnova~master~I8693efb9d20ebb1f68365a314f511693eaed66f6,openstack/nova,master,,I8693efb9d20ebb1f68365a314f511693eaed66f6,[WIP] Add conf option for scatter_gather_cells error handling,NEW,2021-01-19 13:04:59.000000000,2021-01-19 22:19:37.000000000,,22,0,0,771440,7bdd33f387532d4e5c1a813f02ba3d0372da8e23,7,1,1,2,21813,Andrey Volkov,avolkov,"[WIP] Add conf option for scatter_gather_cells error handling

By default scatter_gather_cells not raising exceptions
happened in cells. This patch adds an option to re-raise the
exceptions if one or more errors exist.

It may be useful as least at tests to set CONF.raise_cell_errors to
""any"".

As an example of affected behavior:
1. ""Lost connection to MySQL server during query ..."" happened in both
cells during service list gathering.
2. Nova API returns ""The requested availability zone is not available""
response to a client.

Closes-bug: 1912343
Change-Id: I8693efb9d20ebb1f68365a314f511693eaed66f6
"
openstack%2Ftrove~master~Ic5a977cf629ddc8ac53734881b8d14f732c5b954,openstack/trove,master,job,Ic5a977cf629ddc8ac53734881b8d14f732c5b954,update ci job description,MERGED,2021-01-19 11:49:37.000000000,2021-01-19 21:03:44.000000000,2021-01-19 20:57:03.000000000,1,1,0,771427,537a2859f6115b1fdbe1bcb968ed937fdcff5339,7,2,1,1,32029,likui,likui,"update ci job description

update publish-trove-guest-image-ubuntu-bionic-dev description

Change-Id: Ic5a977cf629ddc8ac53734881b8d14f732c5b954
"
openstack%2Fcloudkitty-specs~master~Id874071065c4420236ae74567db3a949aea7904e,openstack/cloudkitty-specs,master,,Id874071065c4420236ae74567db3a949aea7904e,remove unicode from code,MERGED,2021-01-05 09:21:46.000000000,2021-01-19 20:43:39.000000000,2021-01-19 20:41:23.000000000,10,10,0,769278,1d8b40f11fb060dde033e6af0394224ecfe74b0e,9,4,1,1,32020,zhangtongjian,zhangtongjian,"remove unicode from code

Change-Id: Id874071065c4420236ae74567db3a949aea7904e
"
openstack%2Fmanila~stable%2Fvictoria~I031a3b9775c50e78b6b86752ff8d1a4871a91c0c,openstack/manila,stable/victoria,move_filters_to_database-stable/victoria,I031a3b9775c50e78b6b86752ff8d1a4871a91c0c,Move shares filtering to database layer,MERGED,2021-01-15 19:54:03.000000000,2021-01-19 20:40:18.000000000,2021-01-19 20:38:38.000000000,207,73,0,770966,1f12cb662bc65186710efb7b0d8cecb53e55255a,10,5,1,4,29632,Carlos Eduardo,silvacarlos,"Move shares filtering to database layer

Moves the manila shares filtering to the database in order to have
the queries performance improved.

Change-Id: I031a3b9775c50e78b6b86752ff8d1a4871a91c0c
Co-Authored-By: MaAoyu <maaoyu@inspur.com>
(cherry picked from commit 21c731e733fc9ebfae12e39d802eb426772608a0)
"
openstack%2Fheat~master~I41ffb55e31756c53e6c060f88ce70e7a77fe5c0d,openstack/heat,master,story/2007938,I41ffb55e31756c53e6c060f88ce70e7a77fe5c0d,Add openstack-python3-wallaby-jobs-arm64 job,MERGED,2020-12-08 08:29:35.000000000,2021-01-19 20:31:44.000000000,2021-01-19 20:24:56.000000000,1,0,0,765917,555c49b89f552bc0149ac3e5855af35646f62005,24,2,1,1,12404,Rico Lin,rico.lin,"Add openstack-python3-wallaby-jobs-arm64 job

This is a non-voting job to validate py3 unittests on ARM64

Task: 41375
Story: 2007938

Change-Id: I41ffb55e31756c53e6c060f88ce70e7a77fe5c0d
"
openstack%2Fmanila-tempest-plugin~master~I9c4e24c098dc510f3e9593a27c2ea22540da7a30,openstack/manila-tempest-plugin,master,tag,I9c4e24c098dc510f3e9593a27c2ea22540da7a30,Fix test tag,MERGED,2021-01-19 09:41:08.000000000,2021-01-19 20:06:59.000000000,2021-01-19 20:06:59.000000000,1,1,0,771391,7cba5e98d6cbe11ab98208e21c0005579888d514,12,5,1,1,19262,Liron Kuchlani,lkuchlan,"Fix test tag

This test requires all manila services running
and should be tagged as TAG_API_WITH_BACKEND.

Change-Id: I9c4e24c098dc510f3e9593a27c2ea22540da7a30
"
openstack%2Fopenstack-ansible-os_neutron~master~I9301ba7f962a644631a300337b626d7652e43f63,openstack/openstack-ansible-os_neutron,master,,I9301ba7f962a644631a300337b626d7652e43f63,Allow overriding firewall_driver for ovs,MERGED,2020-12-25 22:04:42.000000000,2021-01-19 20:00:30.000000000,2021-01-19 19:58:36.000000000,26,2,0,768522,5dddaa2cfa29422ecab4bf329c22bc5a511982c9,16,5,2,2,25600,Ebbex,ebbex,"Allow overriding firewall_driver for ovs

By setting neutron_firewall_driver in user_variables.yml
you can set it to openvswitch even if not using dpdk.

Change-Id: I9301ba7f962a644631a300337b626d7652e43f63
"
openstack%2Fopenstack-ansible-os_horizon~master~I77246d51a7880ef373ef4b33e199032d204f8b89,openstack/openstack-ansible-os_horizon,master,,I77246d51a7880ef373ef4b33e199032d204f8b89,Add missing 'horizon-config' tag,MERGED,2021-01-18 18:00:00.000000000,2021-01-19 19:42:26.000000000,2021-01-19 19:41:08.000000000,2,0,0,771262,8e1b3f522ad94375519bbb11127b3087a9653c47,10,3,1,1,31750,Daniel Meloy,meloyd01,"Add missing 'horizon-config' tag

There is a missing tag in the os-horizon-install.yml
file that leads to an undefined variable error when
running the playbook with '--tags horizon-config'

Change-Id: I77246d51a7880ef373ef4b33e199032d204f8b89
"
openstack%2Frpm-packaging~stable%2Fussuri~Ie1a6564632320c81d78f394388781868b5260932,openstack/rpm-packaging,stable/ussuri,os-brick,Ie1a6564632320c81d78f394388781868b5260932,Update constraint for os-brick to new release 3.0.4,MERGED,2020-12-14 06:22:04.000000000,2021-01-19 19:35:53.000000000,2021-01-19 19:35:53.000000000,1,1,0,766884,1cdfdda1babb6dd06f55ed6811f531ceb347643a,15,5,1,1,26581,wutao,wutao,"Update constraint for os-brick to new release 3.0.4

Depends-on: I8bd114bd3893663232db74157e1aecac8bbb8b6f
Change-Id: Ie1a6564632320c81d78f394388781868b5260932
"
openstack%2Frpm-packaging~master~Ib9dac104e86a01ab6a2039dcc526a0bb5c2bf042,openstack/rpm-packaging,master,,Ib9dac104e86a01ab6a2039dcc526a0bb5c2bf042,openstack clients update Jan 21,MERGED,2021-01-19 08:57:37.000000000,2021-01-19 19:34:23.000000000,2021-01-19 19:34:23.000000000,3,3,0,771386,83d82c926320b69b3aafae7c64f87e6beb219eac,11,7,1,3,6593,Dirk Mueller,dmllr,"openstack clients update Jan 21

Change-Id: Ib9dac104e86a01ab6a2039dcc526a0bb5c2bf042
"
openstack%2Frpm-packaging~master~Idea41f21f6424a9c5d7907a426d960ed7fc9bf85,openstack/rpm-packaging,master,,Idea41f21f6424a9c5d7907a426d960ed7fc9bf85,neutron-lib: update to 2.8.0,MERGED,2021-01-19 08:55:28.000000000,2021-01-19 19:34:17.000000000,2021-01-19 19:34:17.000000000,1,1,0,771384,517578780402c5d65357fb8e01fec3dececbbe35,10,6,1,1,6593,Dirk Mueller,dmllr,"neutron-lib: update to 2.8.0

Change-Id: Idea41f21f6424a9c5d7907a426d960ed7fc9bf85
"
openstack%2Ftripleo-ansible~stable%2Fussuri~Id3ba3a531b8f86d411c843683c94a9d632cbf217,openstack/tripleo-ansible,stable/ussuri,bug/1889510-stable/ussuri,Id3ba3a531b8f86d411c843683c94a9d632cbf217,Configure the default podman network,MERGED,2021-01-06 17:05:09.000000000,2021-01-19 19:17:07.000000000,2021-01-19 19:14:05.000000000,49,18,0,769581,6097af7bfa9efb36718999a8393e597d60169b80,15,3,3,4,9976,Ronelle Landy,rlandy,"Configure the default podman network

Instead of blanking out the file, we need to configure it. An empty
file causes the `podman network` to not function and prevents us from
using containers without --net=host.

While we don't use this in tripleo today, it is beneficial to not leave
podman in a broken state on the undercloud or standalone if we actually
wanted to use podman networking for an external container.  This change
won't remove the network if the interface has been configured and is in
use as to not break 'podman network'

It should be noted that the default interface was changed in later
versions from cni0 to cni-podman0 see podman 3755 (podman > 1.6).

Change-Id: Id3ba3a531b8f86d411c843683c94a9d632cbf217
Closes-Bug: #1889510
Closes-Bug: #1898120
(cherry picked from commit 4446cbcd19e386bfb457dddf5e208a8184b8f166)
"
openstack%2Fmasakari~stable%2Fussuri~I503082c60efa02a272b08fce40d3965b2564220b,openstack/masakari,stable/ussuri,bug/1782517-stable/ussuri,I503082c60efa02a272b08fce40d3965b2564220b,Modified recovery flow for stopped instance,MERGED,2020-12-28 03:20:53.000000000,2021-01-19 19:16:57.000000000,2021-01-19 19:13:50.000000000,34,0,0,768410,709263c9d01c7ebab056be1df0953a6bf4a4903a,9,7,1,2,24501,sue,suzhengwei,"Modified recovery flow for stopped instance

For instances which are vm_state=stopped, task_state=None, we don't
need to execute stop API after evacuation since the evacuation recovers
them with vm_state 'stopped'.
This patch modified so that masakari-engine completes the recovery
process without executing stop API to these instances after evacuation.

Change-Id: I503082c60efa02a272b08fce40d3965b2564220b
Closes-Bug: #1782517
"
openstack%2Fmasakari~stable%2Ftrain~I503082c60efa02a272b08fce40d3965b2564220b,openstack/masakari,stable/train,bug/1782517-stable/ussuri-stable/train,I503082c60efa02a272b08fce40d3965b2564220b,Modified recovery flow for stopped instance,MERGED,2020-12-28 03:21:15.000000000,2021-01-19 19:16:55.000000000,2021-01-19 19:13:56.000000000,34,0,0,768411,3d085bed85a74dd47dfa9845a2807ddbfd280fa7,9,7,1,2,24501,sue,suzhengwei,"Modified recovery flow for stopped instance

For instances which are vm_state=stopped, task_state=None, we don't
need to execute stop API after evacuation since the evacuation recovers
them with vm_state 'stopped'.
This patch modified so that masakari-engine completes the recovery
process without executing stop API to these instances after evacuation.

Change-Id: I503082c60efa02a272b08fce40d3965b2564220b
Closes-Bug: #1782517
"
openstack%2Fproject-config~master~I7e9944f3f9275a1b48e421c938b13aad48dc01f7,openstack/project-config,master,,I7e9944f3f9275a1b48e421c938b13aad48dc01f7,Add PTP Notification app to StarlingX,MERGED,2021-01-18 15:33:52.000000000,2021-01-19 19:14:18.000000000,2021-01-19 15:22:27.000000000,24,0,0,771235,0b0281c5525bd0f65c0f2543f8c6c816bc25336f,15,7,2,3,31928,Cole Walker,cwalker,"Add PTP Notification app to StarlingX

Signed-off-by: Cole Walker <cole.walker@windriver.com>
Change-Id: I7e9944f3f9275a1b48e421c938b13aad48dc01f7
"
openstack%2Fmasakari~stable%2Fvictoria~I503082c60efa02a272b08fce40d3965b2564220b,openstack/masakari,stable/victoria,bug/1782517-stable/victoria,I503082c60efa02a272b08fce40d3965b2564220b,Modified recovery flow for stopped instance,MERGED,2020-12-28 03:20:06.000000000,2021-01-19 19:08:58.000000000,2021-01-19 19:07:14.000000000,34,0,0,768409,cb3a4b19e7a192d4f186ed3753c117508b65dfad,9,7,1,2,24501,sue,suzhengwei,"Modified recovery flow for stopped instance

For instances which are vm_state=stopped, task_state=None, we don't
need to execute stop API after evacuation since the evacuation recovers
them with vm_state 'stopped'.
This patch modified so that masakari-engine completes the recovery
process without executing stop API to these instances after evacuation.

Change-Id: I503082c60efa02a272b08fce40d3965b2564220b
Closes-Bug: #1782517
"
openstack%2Fnova~stable%2Ftrain~Id4ebb06e634a612c8be4be6c678d8265e0b99730,openstack/nova,stable/train,bug/1892361,Id4ebb06e634a612c8be4be6c678d8265e0b99730,Update pci stat pools based on PCI device changes,MERGED,2020-11-06 11:10:10.000000000,2021-01-19 19:01:26.000000000,2021-01-19 18:59:06.000000000,222,33,4,761725,8378785f995dd4bec2a5a20f7bf5946b3075120d,25,17,3,6,10366,Hemanth N,Hemanth,"Update pci stat pools based on PCI device changes

At start up of nova-compute service, the PCI stat pools are
populated based on information in pci_devices table in Nova
database. The pools are updated only when new device is added
or removed but not on any device changes like device type.

If an existing device is configured as SRIOV and nova-compute
is restarted, the pci_devices table gets updated but the device
is still listed under the old pool in pci_tracker.stats.pool
(in-memory object).

This patch looks for device type updates in existing devices
and updates the pools accordingly.

Conflicts:
      nova/tests/functional/libvirt/test_pci_sriov_servers.py
      nova/tests/unit/virt/libvirt/fakelibvirt.py
      nova/tests/functional/libvirt/base.py

To avoid the conflicts and make the new functional test execute,
following changes are performed
- Modified the test case to use flavor extra spec pci_passthrough
  :alias to create a server with sriov port instead of creating a
  sriov port and passing port information during server creation.
- Removed changes in nova/tests/functional/libvirt/base.py as they
  are required only if neutron sriov port is created in the test
  case.

Change-Id: Id4ebb06e634a612c8be4be6c678d8265e0b99730
Closes-Bug: #1892361
(cherry picked from commit b8695de6da56db42b83b9d9d4c330148766644be)
(cherry picked from commit d8b8a8193b6b8228f6e7d6bde68b5ea6bb53dd8b)
(cherry picked from commit f58399cf496566e39d11f82a61e0b47900f2eafa)
"
openstack%2Fmasakari~master~I503082c60efa02a272b08fce40d3965b2564220b,openstack/masakari,master,bug/1782517,I503082c60efa02a272b08fce40d3965b2564220b,Modified recovery flow for stopped instance,MERGED,2018-07-25 04:22:22.000000000,2021-01-19 18:56:17.000000000,2020-12-28 07:39:21.000000000,34,0,2,585625,78c22283fb36feeebc08f98fa9d8419fb9a79c63,49,9,9,2,23226,takahara.kengo,takahara.kengo,"Modified recovery flow for stopped instance

For instances which are vm_state=stopped, task_state=None, we don't
need to execute stop API after evacuation since the evacuation recovers
them with vm_state 'stopped'.
This patch modified so that masakari-engine completes the recovery
process without executing stop API to these instances after evacuation.

Change-Id: I503082c60efa02a272b08fce40d3965b2564220b
Closes-Bug: #1782517
"
openstack%2Fpuppet-neutron~master~I2a29b3088649cb6b818942a2dae9c1d2c0ee925c,openstack/puppet-neutron,master,cleanup,I2a29b3088649cb6b818942a2dae9c1d2c0ee925c,Remove the deprecate neutron::services::vpnass class,MERGED,2021-01-02 09:52:56.000000000,2021-01-19 18:52:28.000000000,2021-01-19 18:51:10.000000000,4,147,0,768880,b9404c6c94eec395f287363a86803f2616b0f60b,15,4,1,3,9816,Takashi Kajinami,kajinamit,"Remove the deprecate neutron::services::vpnass class

... because it was deprecated a long ago[1].

[1] f77ef0ec6530686e7b6ba5adc2a5091fe07a9428

Change-Id: I2a29b3088649cb6b818942a2dae9c1d2c0ee925c
"
openstack%2Fopenstack-helm-infra~master~I65906380817441bd2ff9ff9cfbf9586b6fdd2ba7,openstack/openstack-helm-infra,master,,I65906380817441bd2ff9ff9cfbf9586b6fdd2ba7,Improvements for ceph-client helm tests,MERGED,2021-01-12 15:47:50.000000000,2021-01-19 18:31:37.000000000,2021-01-19 18:29:49.000000000,76,25,0,770439,970c23acf433377eb6ff389679736a93f98aff2e,31,8,9,2,22636,Cliff Parsons,cliffparsons,"Improvements for ceph-client helm tests

This commit introduces the following helm test improvement for the
ceph-client chart:

1) Reworks the pg_validation function so that it allows some time for
peering PGs to finish peering, but fail if any other critical errors are
seen. The actual pg validation was split out into a function called
check_pgs(), and the pg_validation function manages the looping aspects.

2) The check_cluster_status function now calls pv_validation if the
cluster status is not OK. This is very similar to what was happening
before, except now, the logic will not be repeated.

Change-Id: I65906380817441bd2ff9ff9cfbf9586b6fdd2ba7
"
openstack%2Fheat~master~Id3d93fae5580f839fc819a9aed17fb900c84dc7e,openstack/heat,master,zanata/translations,Id3d93fae5580f839fc819a9aed17fb900c84dc7e,Imported Translations from Zanata,MERGED,2020-12-13 06:38:29.000000000,2021-01-19 18:14:39.000000000,2021-01-19 18:12:23.000000000,4,4,0,766849,823a303222b42affdaf59ab9a8da5acafcde99bc,8,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id3d93fae5580f839fc819a9aed17fb900c84dc7e
"
openstack%2Fironic-lib~master~Ib7518075f3140a8daf06db52317ff10f8572dcc8,openstack/ironic-lib,master,mounted,Ib7518075f3140a8daf06db52317ff10f8572dcc8,Import mounted context manager from IPA,MERGED,2021-01-09 16:48:58.000000000,2021-01-19 18:00:45.000000000,2021-01-19 17:58:21.000000000,119,0,0,770048,ebdf6784cbe22f4cbe76229a8fd36a92acf35835,14,3,2,3,10239,Dmitry Tantsur,dtantsur,"Import mounted context manager from IPA

This pattern is used in a few places and is very helpful for
writing custom deploy steps.

Change-Id: Ib7518075f3140a8daf06db52317ff10f8572dcc8
"
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I07caa3185427b48e6e7d60965fa3e6157457018c,openstack/puppet-tripleo,stable/victoria,refactor_nova_db_config,I07caa3185427b48e6e7d60965fa3e6157457018c,Stop including nova::metadata on computes,MERGED,2021-01-04 12:24:47.000000000,2021-01-19 17:52:53.000000000,2021-01-19 17:52:53.000000000,0,5,0,769135,3e92158b57d1bd1bdac54b52660df8ae1da06742,30,6,1,1,27419,David Vallee Delisle,dvd,"Stop including nova::metadata on computes

I5da1e67684f8317eec8c499c3534977e00a63098 include nova::metadata on computes
however this includes nova::db which we must not do on computes.
Push the fix up to puppet-nova and nova.

Depends-On: If6a26527a737a7184ebddd5b4bc346d64827e9e3
Depends-On: I47b95ad46e2d4e5b1f370a2f840826e87da2d703
Change-Id: I07caa3185427b48e6e7d60965fa3e6157457018c
Related-bug: #1871482
Related-bug: #1903908
Related-bug: #1832537
(cherry picked from commit 287b1b6ce77fe143d781ccd1b900c3bdbe6ada87)
"
openstack%2Fheat~stable%2Fvictoria~Ibed37eea817a5125c5751b2bc9f44acf3c016fe1,openstack/heat,stable/victoria,bz-1887424-stable/victoria,Ibed37eea817a5125c5751b2bc9f44acf3c016fe1,Add SOURCE_IP_PORT to LB_ALGORITHM allowed values,MERGED,2020-11-16 12:05:49.000000000,2021-01-19 17:52:28.000000000,2021-01-19 17:49:51.000000000,6,2,0,762828,3cf3a68a40d6a12e6abc5f2dd582b7e66a66dabc,17,9,2,2,12404,Rico Lin,rico.lin,"Add SOURCE_IP_PORT to LB_ALGORITHM allowed values

This change adds SOURCE_IP_PORT to lb_algorithm property of
OS::Octavia::Pool resource which is missing from the available options
and required when using the OVN provider driver.

[0] https://docs.openstack.org/ovn-octavia-provider/latest/admin/driver.html#limitations-of-the-ovn-provider-driver
[1] https://docs.openstack.org/releasenotes/octavia/train.html

Story: 2008361
Task: 41268

Change-Id: Ibed37eea817a5125c5751b2bc9f44acf3c016fe1
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 20b599cdf893af5165b07b3d1f70864693ec35ff)
"
openstack%2Fansible-role-qdrouterd~stable%2Fvictoria~Id8c4c30ac9f712243e9beca48935c30de8ad64c2,openstack/ansible-role-qdrouterd,stable/victoria,create-victoria,Id8c4c30ac9f712243e9beca48935c30de8ad64c2,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2020-12-18 15:39:15.000000000,2021-01-19 17:52:02.000000000,2021-01-19 17:49:37.000000000,1,1,0,767772,c0a96656f1c38dcf7c4097106c466b4e4ced5f1c,13,2,2,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Id8c4c30ac9f712243e9beca48935c30de8ad64c2
"
openstack%2Fopenstack-ansible-rsyslog_client~master~Ia0ae332f89168851cc2c68dc0ad9696ba3bcae8c,openstack/openstack-ansible-rsyslog_client,master,,Ia0ae332f89168851cc2c68dc0ad9696ba3bcae8c,Update role for Ubuntu Focal and Centos-8,MERGED,2021-01-14 08:19:07.000000000,2021-01-19 17:43:39.000000000,2021-01-19 17:41:50.000000000,78,0,0,770731,6defc982de5a04a7a7a3b07cc24171c8dad4a9ae,12,3,2,2,25023,Jonathan Rosser,jrosser,"Update role for Ubuntu Focal and Centos-8

Change-Id: Ia0ae332f89168851cc2c68dc0ad9696ba3bcae8c
"
openstack%2Fansible-role-qdrouterd~stable%2Fvictoria~Ia2de05e0aa079cbcc02b05e2648a431dd55b5f22,openstack/ansible-role-qdrouterd,stable/victoria,create-victoria,Ia2de05e0aa079cbcc02b05e2648a431dd55b5f22,Update .gitreview for stable/victoria,MERGED,2020-12-18 15:39:10.000000000,2021-01-19 17:41:53.000000000,2021-01-19 17:40:03.000000000,1,0,0,767771,91fd246769dead383bd5c1670069637cc6b26502,13,2,2,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/victoria

Change-Id: Ia2de05e0aa079cbcc02b05e2648a431dd55b5f22
"
openstack%2Foslo.serialization~master~I3c416e855cb5f0dc32d14b2749ba92aba8964574,openstack/oslo.serialization,master,fix-json-primitive,I3c416e855cb5f0dc32d14b2749ba92aba8964574,Fix json to_primitive when using IO OBjects,MERGED,2021-01-07 18:28:18.000000000,2021-01-19 17:15:18.000000000,2021-01-19 17:11:25.000000000,17,1,0,769808,02037330d863ecbe2471b63bff5461dee6a3c024,23,3,3,3,20813,Sofia Enriquez,enriquetaso,"Fix json to_primitive when using IO OBjects

Currently, using Cinder's backup service with RBD the
backup-create operation gets stuck when logging
('use_json=True' must be set in the config file).

The oslo.log JSONFormatter gets stuck when passing an
RBDVolumeIOWrapper from os-brick. This happens via os-brick's
utils.trace() method which passes a connector containing
{'path': RBDVolumeIOWrapper}.
The oslo.log JSONFormatter format() method calls
oslo_serialization's jsonutils.to_primitive and passes in
this RBDVolumeIOWrapper object.
 
Therefore the to_primitive method eventually calls
RBDVolumeIOWrapper.read(). In order to fix this the current
path avoids mapping io.IOBase objects and fallback the wrapper
RBD volume object.

Co-authored-by: Eric Harney <eharney@redhat.com>
Closes-Bug: #1908607
Change-Id: I3c416e855cb5f0dc32d14b2749ba92aba8964574
"
openstack%2Fkeystone~master~Ibb82d65784368ff82588d6879111cb6c7eb780ca,openstack/keystone,master,story/2007938,Ibb82d65784368ff82588d6879111cb6c7eb780ca,Add openstack-python3-wallaby-jobs-arm64 job,MERGED,2020-07-21 08:28:54.000000000,2021-01-19 17:14:54.000000000,2021-01-19 17:06:23.000000000,1,0,0,742096,c239cc66615b41a0c09e031b3e268c82678bac12,31,3,3,1,12404,Rico Lin,rico.lin,"Add openstack-python3-wallaby-jobs-arm64 job

This is a non-voting job to validate py3 unittests on ARM64

Task: 40403
Story: 2007938

Change-Id: Ibb82d65784368ff82588d6879111cb6c7eb780ca
"
openstack%2Fneutron~master~Icca3f1b18d8d7aa44112c4422cf2fecf0dea41d6,openstack/neutron,master,story/2007938,Icca3f1b18d8d7aa44112c4422cf2fecf0dea41d6,Add openstack-python3-wallaby-jobs-arm64 job,MERGED,2020-07-21 08:30:21.000000000,2021-01-19 17:14:44.000000000,2021-01-19 17:06:04.000000000,1,0,1,742101,d474a48c66c3dc6547c54626c016751b1218e53c,27,8,4,1,12404,Rico Lin,rico.lin,"Add openstack-python3-wallaby-jobs-arm64 job

This is a non-voting job to validate py3 unittests on ARM64

Task: 40401
Story: 2007938

Change-Id: Icca3f1b18d8d7aa44112c4422cf2fecf0dea41d6
"
openstack%2Fpuppet-tripleo~master~Ifb81d155cbb4598a311c8e6fe90be951a8e7e656,openstack/puppet-tripleo,master,fix-pcmk-ceph,Ifb81d155cbb4598a311c8e6fe90be951a8e7e656,Fix manila-share with ceph-nfs backend,MERGED,2021-01-08 10:41:49.000000000,2021-01-19 16:54:31.000000000,2021-01-12 06:09:43.000000000,4,1,2,769906,06e131882b563576da55886d2bd5ffe769df41e5,14,8,1,1,20172,Michele Baldessari,michele,"Fix manila-share with ceph-nfs backend

Currently when you deploy manila-share with a ceph-nfs backend
we get the following error:
Error: pcs -f
/var/lib/pacemaker/cib/puppet-cib-backup20210107-48280-1y4rwmx
constraint colocation add openstack-manila-share with ceph-nfs INFINITY
failed: Error: Resource 'ceph-nfs' does not exist. Too many tries

The reason for it is that we moved the pcs resource creation to the host
and outside containers
https://review.opendev.org/q/topic:%22pcs_host3%22+(status:open%20OR%20status:merged)

But when the ceph-nfs pcmk resource gets created at step 5, the
manila-share puppet code has already been invoked and since it requires
the ceph-nfs resource to be available it fails like above.

Let's move the ceph-nfs creation to step4 to solve this.

Closes-Bug: #1910732

Change-Id: Ifb81d155cbb4598a311c8e6fe90be951a8e7e656
"
openstack%2Fneutron~stable%2Fstein~I557af0bcafac4583ad9726c9bf707cf1fb92ffc5,openstack/neutron,stable/stein,bug/1905568-stable/victoria-stable/ussuri-stable/train-stable/stein,I557af0bcafac4583ad9726c9bf707cf1fb92ffc5,[GRE] Add possibility to create GRE tunnels over IPv6,MERGED,2020-12-18 15:17:35.000000000,2021-01-19 16:35:30.000000000,2021-01-19 16:32:22.000000000,49,3,0,767779,d3539f6c342e487dac2a3ea68f1a64b5574437a4,33,4,2,3,11975,Slawek Kaplonski,slaweq,"[GRE] Add possibility to create GRE tunnels over IPv6

In case when IPv6 addresses are used for GRE tunnels, tunnel
type set for the openvswitch interface should be ""ip6gre"" instead of
""gre"" which was set so far.
This patch changes that so now Neutron configures correct GRE tunnel
types.

Conflicts:
    neutron/tests/functional/agent/common/test_ovs_lib.py

Change-Id: I557af0bcafac4583ad9726c9bf707cf1fb92ffc5
Closes-Bug: #1904564
(cherry picked from commit 80e6781bc2d2b39e547e80996743d29ec090c816)
"
openstack%2Fneutron~master~I0dbb8484e749e645627756e88ec79c1b26a6414a,openstack/neutron,master,policy-json-to-yaml,I0dbb8484e749e645627756e88ec79c1b26a6414a,[goal] Deprecate the JSON formatted policy file,MERGED,2020-11-27 03:17:42.000000000,2021-01-19 16:35:23.000000000,2021-01-19 16:31:51.000000000,121,87,16,764401,fe413fe01dcafea2cf37522e4332b45b293f2dc6,92,6,14,21,8556,Ghanshyam,ghanshyam,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file''
config option from 'policy.json' to 'policy.yaml' with
upgrade checks.

2. Deprecate the JSON formatted policy file on the project side
via warning in doc and releasenotes.

Also replace policy.json to policy.yaml ref from doc and tests.

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: I0dbb8484e749e645627756e88ec79c1b26a6414a
"
openstack%2Fheat~master~I9b1930e867400b11db70016ddb5d79945c2f5ad5,openstack/heat,master,improve-tests,I9b1930e867400b11db70016ddb5d79945c2f5ad5,Use TOX_CONSTRAINTS_FILE,MERGED,2020-11-16 06:59:26.000000000,2021-01-19 16:34:59.000000000,2021-01-19 16:32:48.000000000,1,1,0,762782,2c831ae2563da705536d736c460346f0df72c929,7,2,1,1,12404,Rico Lin,rico.lin,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://review.opendev.org/#/c/722814/

Change-Id: I9b1930e867400b11db70016ddb5d79945c2f5ad5
"
openstack%2Fkolla~stable%2Fvictoria~I303ee5367aba0ae114e52b7b559faf06133f2304,openstack/kolla,stable/victoria,feat/horizon-set-default-for-force-generate-stable/victoria,I303ee5367aba0ae114e52b7b559faf06133f2304,horizon: set FORCE_GENERATE to no if not set,MERGED,2021-01-16 17:52:23.000000000,2021-01-19 16:22:09.000000000,2021-01-19 16:20:19.000000000,1,1,0,771116,fb67dcc031c28a0f52824de7ab8a3713538e3bfe,11,5,2,1,30491,Radosław Piliszek,yoctozepto,"horizon: set FORCE_GENERATE to no if not set

Signed-off-by: Christian Berendt <berendt@betacloud-solutions.de>
Change-Id: I303ee5367aba0ae114e52b7b559faf06133f2304
(cherry picked from commit b2d888368b0d850609975800d5df17cf5ca78124)
"
openstack%2Fheat~master~Ie6d64485622381031130fa12f963eab5a6a9c555,openstack/heat,master,,Ie6d64485622381031130fa12f963eab5a6a9c555,Update doc8 version,MERGED,2021-01-06 08:28:46.000000000,2021-01-19 16:11:05.000000000,2021-01-19 16:07:41.000000000,2,2,0,769468,f616f43ced27ccb7dbd2542420d62d751d52cfbe,13,2,1,2,32238,wdd,wangzihao,"Update doc8 version

The doc8 lib supports Py36 starting from version 0.8.1

Change-Id: Ie6d64485622381031130fa12f963eab5a6a9c555
"
openstack%2Fheat~master~I00de452057c4589628d963d0e51d44ec9b7ea959,openstack/heat,master,,I00de452057c4589628d963d0e51d44ec9b7ea959,Delete default security groups created by stack.,MERGED,2020-09-29 05:38:52.000000000,2021-01-19 16:08:56.000000000,2021-01-19 16:07:12.000000000,18,0,1,754898,b52da6a7c5d1f78ffbf033d5ac20648fc5448222,10,2,2,1,32450,kumari paluru,Kumaripaluru,"Delete default security groups created by stack.

Default security group gets created during project
creation through stack launch. But it's not getting
deleted through stack-delete.

So added function to delete default security groups created by stack.

Closes Bug: #2006692

Change-Id: I00de452057c4589628d963d0e51d44ec9b7ea959
"
openstack%2Fheat~master~Id36cde1b617587d743321a94ebc0b8fe6c82e79f,openstack/heat,master,assertItemsEqual,Id36cde1b617587d743321a94ebc0b8fe6c82e79f,Use assertCountEqual instead of assertItemsEqual,MERGED,2020-09-29 09:40:10.000000000,2021-01-19 15:51:17.000000000,2021-01-19 15:47:30.000000000,10,10,0,754949,c6ae01c3056a5fd26b2473631c59615f93d15ecd,13,2,2,4,29139,shenxindi,shenxindi,"Use assertCountEqual instead of assertItemsEqual

The assertItemsEqual method has been removed in Python 3.3 [1] but
it was kept alive by unittest2, imported by testtools. For better
compatibility, change to assertCountEqual.

[1] https://bugs.python.org/issue17866

Change-Id: Id36cde1b617587d743321a94ebc0b8fe6c82e79f
"
openstack%2Fheat~master~Ib28f1b333f032b8c9f960a2510e4d23487541631,openstack/heat,master,secure-rbac,Ib28f1b333f032b8c9f960a2510e4d23487541631,Bump requirements to support secure RBAC effort,MERGED,2020-12-01 22:25:41.000000000,2021-01-19 15:49:55.000000000,2021-01-19 15:47:07.000000000,21,21,0,765010,042345703f6f3b5fbbc06a2bddbad0fdfbeb2a48,32,4,9,2,5046,Lance Bragstad,ldbragst,"Bump requirements to support secure RBAC effort

The broader OpenStack community is working towards implementing secure
RBAC, which is a common set of personas (role and scope permutations)
that deliver the most common asks for custom policies. It also addresses
long-standing issues with tenancy and enforce scope checking.

This commit updates the requirements for oslo.log, oslo.context,
oslo.i18n, oslo.policy, oslo.serialization and keystonemiddleware, which
are necessary for implementing this work. Subsequent patches will go
through and update the default policies.

Change-Id: Ib28f1b333f032b8c9f960a2510e4d23487541631
"
openstack%2Fheat~master~I2ca2fc8b8b18cdd33cccad4d1de475f0b669a582,openstack/heat,master,,I2ca2fc8b8b18cdd33cccad4d1de475f0b669a582,Fix pygments style,MERGED,2020-05-20 00:48:59.000000000,2021-01-19 15:47:13.000000000,2021-01-19 15:47:13.000000000,3,3,0,729458,d43bb063b0e73914fe39537b793c7c481446143b,12,3,3,3,30356,gugug,gujin,"Fix pygments style

New theme of docs respects pygments_style.

more info: http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html


Change-Id: I2ca2fc8b8b18cdd33cccad4d1de475f0b669a582
"
openstack%2Fglance~master~I670f6db96998c8a2cec5d16fbca9f01857b866da,openstack/glance,master,test-upgrade-checks,I670f6db96998c8a2cec5d16fbca9f01857b866da,Fix upgrade checks for sheepdog,MERGED,2021-01-14 15:48:16.000000000,2021-01-19 15:44:12.000000000,2021-01-19 15:41:21.000000000,69,2,0,770825,c7236a0897b87c0a0ee21655139e527d66ed7105,9,3,1,3,8122,Cyril Roelandt,cyril.roelandt.enovance,"Fix upgrade checks for sheepdog

When either CONF.enabled_backends or CONF.glance_store.stores is set to
None (which may happen if they are not actually specified in the config
file), a TypeError is raised. Fix this and add tests.

Change-Id: I670f6db96998c8a2cec5d16fbca9f01857b866da
Closes-Bug: #1911700
"
openstack%2Foslo.serialization~master~Idc5d70e753953aeb006caeb3ba8f78f5ceeafdf3,openstack/oslo.serialization,master,,Idc5d70e753953aeb006caeb3ba8f78f5ceeafdf3,Fix hacking min version to 3.0.1,MERGED,2020-09-17 16:26:48.000000000,2021-01-19 15:35:55.000000000,2021-01-19 15:33:02.000000000,1,1,0,752507,a2b52b1309026749940142c1b9a39ae23aeeff9e,24,9,1,1,32067,Linhui Zhou,zhoulinhui,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: Idc5d70e753953aeb006caeb3ba8f78f5ceeafdf3
"
openstack%2Fopenstack-ansible-os_aodh~master~If89c9c608ce82601cb60ae266fe7697a47b7e382,openstack/openstack-ansible-os_aodh,master,fix,If89c9c608ce82601cb60ae266fe7697a47b7e382,"Missing document start ""---""",ABANDONED,2020-03-13 09:40:27.000000000,2021-01-19 15:31:11.000000000,,1,0,0,712885,be01563a2e44095e1e0705c966269608bb214f6a,10,3,1,1,23317,ShangXiao,ShangXiao,"Missing document start ""---""

Change-Id: If89c9c608ce82601cb60ae266fe7697a47b7e382
"
openstack%2Fopenstack-ansible-apt_package_pinning~master~I92e5b02bccab1bbe525055ebf04754b0870d6fb4,openstack/openstack-ansible-apt_package_pinning,master,dev,I92e5b02bccab1bbe525055ebf04754b0870d6fb4,"Missing document start ""---""",ABANDONED,2020-04-13 02:37:55.000000000,2021-01-19 15:30:44.000000000,,1,0,0,719377,c313007db87a43687ba79e6404aa073d85f1177f,7,2,1,1,23317,ShangXiao,ShangXiao,"Missing document start ""---""

Change-Id: I92e5b02bccab1bbe525055ebf04754b0870d6fb4
"
openstack%2Fansible-role-qdrouterd~master~Iee7610b0595dbf57c1ce8ebc85e951b8ceab3edf,openstack/ansible-role-qdrouterd,master,dev,Iee7610b0595dbf57c1ce8ebc85e951b8ceab3edf,"Missing document start ""---""",ABANDONED,2020-04-13 02:43:25.000000000,2021-01-19 15:30:10.000000000,,1,0,0,719378,c3a04cb6f0dbee74cc9e3a2769e82be2b417ce4c,4,2,1,1,23317,ShangXiao,ShangXiao,"Missing document start ""---""

Change-Id: Iee7610b0595dbf57c1ce8ebc85e951b8ceab3edf
"
openstack%2Fironic~master~Ia874e0820244c1ec47fd7b09779a4d5a8229f21d,openstack/ironic,master,task-cache,Ia874e0820244c1ec47fd7b09779a4d5a8229f21d,[WIP] Per-task caching of redfish Systems,ABANDONED,2020-11-26 11:26:25.000000000,2021-01-19 15:15:32.000000000,,53,22,7,764326,6f9a9e100642ea2f0b5b6d2dead3beb07d731fda,5,5,1,6,10239,Dmitry Tantsur,dtantsur,"[WIP] Per-task caching of redfish Systems

Change-Id: Ia874e0820244c1ec47fd7b09779a4d5a8229f21d
"
openstack%2Fironic~master~I116cd40b8a5536d0549a09760e226cf6ac795743,openstack/ironic,master,boot-order,I116cd40b8a5536d0549a09760e226cf6ac795743,Call management.set_boot_device before IPA's install_bootloader,ABANDONED,2020-10-08 16:09:20.000000000,2021-01-19 15:12:48.000000000,,23,19,0,756881,e9d694e51a075ccf94c78dc3ff2ea4423b62cb61,10,5,2,3,10239,Dmitry Tantsur,dtantsur,"Call management.set_boot_device before IPA's install_bootloader

Calls to ipmitool bootdev may impact the boot order that we set
via efibootmgr, so reverse the order and call ipmitool first.

Change-Id: I116cd40b8a5536d0549a09760e226cf6ac795743
"
openstack%2Fbifrost~master~Icdc26adea6993f1d1b21b1b291d55c4f28319bd6,openstack/bifrost,master,ironic-policy,Icdc26adea6993f1d1b21b1b291d55c4f28319bd6,[PoC] A real SELinux policy for ironic,ABANDONED,2020-11-06 17:08:35.000000000,2021-01-19 15:12:20.000000000,,167,32,1,761770,6985539913b9e7abaa68a40d4f4f7d94d25776fe,13,2,7,5,10239,Dmitry Tantsur,dtantsur,"[PoC] A real SELinux policy for ironic

Change-Id: Icdc26adea6993f1d1b21b1b291d55c4f28319bd6
"
openstack%2Fironic-inspector~stable%2Fussuri~Id28c24928dc3c9969c64d81f00752354d3ab05a9,openstack/ironic-inspector,stable/ussuri,,Id28c24928dc3c9969c64d81f00752354d3ab05a9,Increase memory for the jobs,ABANDONED,2021-01-15 14:43:30.000000000,2021-01-19 15:08:49.000000000,,2,2,0,770946,e487d7c3adc276b5817efaff0a43124d6ef231c5,4,2,1,1,10239,Dmitry Tantsur,dtantsur,"Increase memory for the jobs

Change-Id: Id28c24928dc3c9969c64d81f00752354d3ab05a9
(cherry picked from commit 1884ba81fd3d6166c626afd008beddaf0a33801e)
"
openstack%2Fironic-inspector~stable%2Fvictoria~Id28c24928dc3c9969c64d81f00752354d3ab05a9,openstack/ironic-inspector,stable/victoria,,Id28c24928dc3c9969c64d81f00752354d3ab05a9,Increase memory for the grenade job,ABANDONED,2021-01-15 14:32:12.000000000,2021-01-19 15:08:15.000000000,,0,0,0,770941,97f75adf7ceb7aaee4daa094a1271c68d20aa1b5,6,2,2,0,10239,Dmitry Tantsur,dtantsur,"Increase memory for the grenade job

Change-Id: Id28c24928dc3c9969c64d81f00752354d3ab05a9
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~Id8cca6d83c75202a273df23be353480366ead156,openstack/openstack-ansible,stable/victoria,bug/1895533-stable/victoria,Id8cca6d83c75202a273df23be353480366ead156,Add some protection from shadowing mount,MERGED,2021-01-18 19:39:28.000000000,2021-01-19 14:56:07.000000000,2021-01-19 14:47:56.000000000,1,0,0,771205,f317ea461a3032b494a0714370317311a59af4f1,8,3,1,1,25023,Jonathan Rosser,jrosser,"Add some protection from shadowing mount

Currently we do have wrong bind mount order, due to which /var/log/journal
is shadow mounted with later added /var/log mount.
To prevent this we're inserting new mounts before existing ones
in case where they could shadow mount destination.

Change-Id: Id8cca6d83c75202a273df23be353480366ead156
Closes-Bug: #1895533
(cherry picked from commit 7d7afa4f9adf5fbae93da5fd26c7b91496ace36b)
"
openstack%2Fkolla~stable%2Fussuri~I0c4d5e1ea16c6677813a334b38b3a22ad811531d,openstack/kolla,stable/ussuri,,I0c4d5e1ea16c6677813a334b38b3a22ad811531d,CI: Use Docker proxy for pulls,MERGED,2021-01-16 15:03:33.000000000,2021-01-19 14:56:00.000000000,2021-01-19 14:44:02.000000000,20,0,0,770974,51002b4f7dac32226c7fdb96b93b880fd8f58b14,15,4,1,1,30491,Radosław Piliszek,yoctozepto,"CI: Use Docker proxy for pulls

Change-Id: I0c4d5e1ea16c6677813a334b38b3a22ad811531d
(cherry picked from commit a8c12def858b57349207cab5fa8dabb3c23bdfa0)
"
openstack%2Ftripleo-operator-ansible~master~I774613fe809895f48955bd34b784646a7ad16066,openstack/tripleo-operator-ansible,master,add-role-validator-list,I774613fe809895f48955bd34b784646a7ad16066,add role to list available tripleo validations,MERGED,2020-09-30 18:23:17.000000000,2021-01-19 14:45:28.000000000,2021-01-19 14:45:28.000000000,169,0,4,755365,034e501af138b299867ded9f46bd3c9b50a8211e,30,4,10,8,27427,David Peacock,davidjpeacock,"add role to list available tripleo validations

With this patch, validator list can be used by operators in automation.

Change-Id: I774613fe809895f48955bd34b784646a7ad16066
"
openstack%2Fironic~stable%2Fvictoria~I9d295135e6059a47cb541ae1218b11c3d56f85e1,openstack/ironic,stable/victoria,,I9d295135e6059a47cb541ae1218b11c3d56f85e1,DRAC: Fix a failure to create virtual disk,ABANDONED,2021-01-13 18:05:34.000000000,2021-01-19 14:31:15.000000000,,1,0,0,770655,77b2af405f79e29739d7a0fc5c7b2f270d9a150a,7,6,2,1,29863,Monica Pardhi,mpardhi,"DRAC: Fix a failure to create virtual disk

PERC H740P controllers supports RAID mode and Enhanced HBA mode.
When the controller is in Enhanced HBA, it creates single disk
RAID0 virtual disks of NON-RAID physical disks.
Hence the user's request for VD creation with supported RAID
fails due to no available physical disk.
This patch checks the Perc H740P controllers whether it supports
enhanced HBA mode and if controllers are found in enhanced HBA
mode it converts back to RAID mode.

Change-Id: I9d295135e6059a47cb541ae1218b11c3d56f85e1
Story: 2007711
Task: 39844
(cherry picked from commit 325f28043468472c2f97f659c66817192aba39f7)

Conflicts:
	ironic/drivers/modules/drac/raid.py
"
openstack%2Fcinder~master~Ifbeb71a35f6ffa1f6283ae6f415158c94686d339,openstack/cinder,master,,Ifbeb71a35f6ffa1f6283ae6f415158c94686d339,WIP: Write temp files for glance images w/ sparseness,NEW,2021-01-14 21:24:10.000000000,2021-01-19 14:25:35.000000000,,13,1,2,770868,6358fe45839f1faae065415002915a59a58a944a,25,2,2,1,4523,Eric Harney,eharney,"WIP: Write temp files for glance images w/ sparseness

The goal here is to avoid using more local disk space
than is necessary.  Detect sections of zeros in images
we are downloading, and use seeks to write these as
sparse files instead of filling temp files with 0s.

This is still a proof-of-concept for now -- it needs
logic added to ensure we don't do this when writing to
block devices (or at least encrypted block devices).

Change-Id: Ifbeb71a35f6ffa1f6283ae6f415158c94686d339
"
openstack%2Fneutron~stable%2Ftrain~I74916acf8311989dca267f23261ec4cf449a6abf,openstack/neutron,stable/train,bug/1907491,I74916acf8311989dca267f23261ec4cf449a6abf,Fix OVS conjunctive IP flows cleanup,MERGED,2020-12-18 08:53:55.000000000,2021-01-19 14:13:11.000000000,2021-01-19 14:11:22.000000000,15,0,0,767678,03f0a832a82f35286417e56d6071cfefe823a65c,40,5,2,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Fix OVS conjunctive IP flows cleanup

 Currently when deleting a remote-group's member IPs, the deleted IPs'
 conjunctive flows are not cleaned up in OF tables. This is because
 the conjunctive flows' cookies don't match with the OVSBridge default
 cookie used by the delete flow method. This patch fixed the issue by
 using an ANY cookie that can always match with the cookies of the
 conjunctive flows.

Change-Id: I74916acf8311989dca267f23261ec4cf449a6abf
Closes-Bug: 1907491
(cherry picked from commit f4b64e519cdb9fd9c5046f21bc9f325341fd367f)
"
openstack%2Fnova~master~Iceac2b596ea13b605a7b3ed5d538a4175304c0a5,openstack/nova,master,story/2007938,Iceac2b596ea13b605a7b3ed5d538a4175304c0a5,Fix Unit test for arm64,ABANDONED,2020-12-22 13:28:17.000000000,2021-01-19 13:53:34.000000000,,10,2,3,768202,218b4697d9d3f25d972a07fef52e62ec3b2a1ca7,10,2,2,1,12404,Rico Lin,rico.lin,"Fix Unit test for arm64

Change-Id: Iceac2b596ea13b605a7b3ed5d538a4175304c0a5
Story: 2007938
"
openstack%2Fopenstack-ansible~stable%2Ftrain~Id8cca6d83c75202a273df23be353480366ead156,openstack/openstack-ansible,stable/train,bug/1895533-stable/train,Id8cca6d83c75202a273df23be353480366ead156,Add some protection from shadowing mount,ABANDONED,2021-01-19 12:35:02.000000000,2021-01-19 13:40:21.000000000,,1,0,0,771400,7450ffc7da3d6a690128b8fa386c5d040bb4211f,2,0,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add some protection from shadowing mount

Currently we do have wrong bind mount order, due to which /var/log/journal
is shadow mounted with later added /var/log mount.
To prevent this we're inserting new mounts before existing ones
in case where they could shadow mount destination.

Change-Id: Id8cca6d83c75202a273df23be353480366ead156
Closes-Bug: #1895533
(cherry picked from commit 7d7afa4f9adf5fbae93da5fd26c7b91496ace36b)
"
openstack%2Fopenstack-ansible~stable%2Fussuri~Id8cca6d83c75202a273df23be353480366ead156,openstack/openstack-ansible,stable/ussuri,bug/1895533-stable/ussuri,Id8cca6d83c75202a273df23be353480366ead156,Add some protection from shadowing mount,ABANDONED,2021-01-19 12:34:24.000000000,2021-01-19 13:40:17.000000000,,1,0,0,771399,fc2196d9e5fc6128214b2be623d098d2112c07a7,2,0,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add some protection from shadowing mount

Currently we do have wrong bind mount order, due to which /var/log/journal
is shadow mounted with later added /var/log mount.
To prevent this we're inserting new mounts before existing ones
in case where they could shadow mount destination.

Change-Id: Id8cca6d83c75202a273df23be353480366ead156
Closes-Bug: #1895533
(cherry picked from commit 7d7afa4f9adf5fbae93da5fd26c7b91496ace36b)
"
openstack%2Fbarbican~master~I3ddbd086815917cd0c124a88b31333fd366a574c,openstack/barbican,master,,I3ddbd086815917cd0c124a88b31333fd366a574c,[doc] Fix hmac/mkek generation commands,MERGED,2020-12-25 13:27:34.000000000,2021-01-19 13:38:34.000000000,2021-01-19 13:33:43.000000000,4,4,7,768512,7562dda2694f929ecca8129ea11b8557bb210660,15,4,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[doc] Fix hmac/mkek generation commands

Accidentally wrong lables were copy pasted into the doc. In the meanwhile
labels in sample commands should be the same as used in the sample
configuration block above the generation commands.

Change-Id: I3ddbd086815917cd0c124a88b31333fd366a574c
"
openstack%2Ftripleo-quickstart-extras~master~I9dddafebee6732ff73b1024d58fb789869571f50,openstack/tripleo-quickstart-extras,master,switch-order-dns-servers,I9dddafebee6732ff73b1024d58fb789869571f50,Correct forwarder_address variable definition check,MERGED,2021-01-11 19:56:56.000000000,2021-01-19 13:38:28.000000000,2021-01-19 13:38:28.000000000,1,1,0,770200,84780c715cf71295d15c1addfeb91d6a71e2678d,27,6,2,1,9976,Ronelle Landy,rlandy,"Correct forwarder_address variable definition check

forwarder_addresses_output is the correct variable
name to check when verifying if unbound forwarders
are defined.

Change-Id: I9dddafebee6732ff73b1024d58fb789869571f50
"
openstack%2Fneutron-tempest-plugin~master~Ie57b009430bb92f1dabea48399af9faaa7e8987b,openstack/neutron-tempest-plugin,master,,Ie57b009430bb92f1dabea48399af9faaa7e8987b,Remove stein jobs from the project's queues,MERGED,2020-12-27 22:21:59.000000000,2021-01-19 13:33:58.000000000,2021-01-19 13:33:58.000000000,12,2,2,768584,363b13bea2d9f3a56b4f071ae973775a6a31ca97,20,5,5,2,11975,Slawek Kaplonski,slaweq,"Remove stein jobs from the project's queues

As Stein is now in EM phase we don't want to run it's jobs for every
patch anymore.
So this patch removes those jobs from the check and gate queue of the
neutron-tempest-plugin repo.
It also freeze to use always ""stein-em"" tag of the
neutron-tempest-plugin in those jobs as this is last known, good
release which works with Neutron stable/stein.

Depends-On: https://review.opendev.org/c/openstack/releases/+/768553
Change-Id: Ie57b009430bb92f1dabea48399af9faaa7e8987b
"
openstack%2Ftripleo-common~stable%2Fussuri~I877e6a58d714b5ccd6c722f5b8efd65d5bb7c0ef,openstack/tripleo-common,stable/ussuri,reduce-content-providers,I877e6a58d714b5ccd6c722f5b8efd65d5bb7c0ef,Wire up new tripleo upgrades jobs template,MERGED,2021-01-04 17:02:26.000000000,2021-01-19 13:32:58.000000000,2021-01-19 13:26:10.000000000,1,0,0,769166,508d1f826000b4c5a3e87842c30348b6baf41c82,26,6,1,1,8449,Marios Andreou,marios,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: I877e6a58d714b5ccd6c722f5b8efd65d5bb7c0ef
"
openstack%2Fironic-inspector~stable%2Fussuri~I943b63b9c6a980011b35bb028c64bee18d772750,openstack/ironic-inspector,stable/ussuri,remove-l-c-job,I943b63b9c6a980011b35bb028c64bee18d772750,Remove lower-constraints job,ABANDONED,2020-12-17 11:57:30.000000000,2021-01-19 13:29:29.000000000,,1,2,0,767537,f28790f4dc022ea08f297ae7e13ec69304fd3311,19,1,4,2,23851,Riccardo Pittau,elfosardo,"Remove lower-constraints job

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020, the lower-constraints job is being removed.

Also increase memory for the grenade job.

Change-Id: I943b63b9c6a980011b35bb028c64bee18d772750
(cherry picked from commit c6fdf2511697305e2f00ec444081ab3353074b22)
"
openstack%2Fansible-role-collect-logs~master~I641f86639906e1be107703aea0f039ef3f8242e8,openstack/ansible-role-collect-logs,master,,I641f86639906e1be107703aea0f039ef3f8242e8,Fix pattern message for tempest,MERGED,2021-01-18 08:08:46.000000000,2021-01-19 13:26:33.000000000,2021-01-19 13:26:33.000000000,1,1,0,771165,e5d9714bb30b9224db3dfe677a1b1e9d7872a7fb,12,3,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Fix pattern message for tempest

Change-Id: I641f86639906e1be107703aea0f039ef3f8242e8
"
openstack%2Ftripleo-heat-templates~master~Ie7eb7905eb33235fc73f94b9e84f553394e951fd,openstack/tripleo-heat-templates,master,,Ie7eb7905eb33235fc73f94b9e84f553394e951fd,Fix ownership of octavia_rsyslog log directory,MERGED,2020-12-09 07:32:16.000000000,2021-01-19 13:26:23.000000000,2021-01-19 13:26:23.000000000,3,2,0,766161,ffd86b3f2c7352ff530d6f37664aaa76b9a81b1c,19,8,1,1,29244,Gregory Thiemonge,gthiemonge,"Fix ownership of octavia_rsyslog log directory

The octavia_rsyslog container should not use the octavia user and group
since the rsyslog image doesn't know about that user. It should use
root and have a dedicated log directory on the host to avoid mixing
ownerships with the octavia containers that are running as octavia user.

Change-Id: Ie7eb7905eb33235fc73f94b9e84f553394e951fd
Closes-Bug: #1907260
"
openstack%2Fansible-role-qdrouterd~stable%2Fvictoria~Iff331bad7723a798921bce117797801194f7311c,openstack/ansible-role-qdrouterd,stable/victoria,,Iff331bad7723a798921bce117797801194f7311c,Avoid linter error OSA0002 when updating apt cache,MERGED,2021-01-18 19:40:49.000000000,2021-01-19 13:14:51.000000000,2021-01-19 13:10:25.000000000,2,1,0,771206,e6d0096549d8f926a6a17f065d1e2a94dd419df3,8,3,1,1,25023,Jonathan Rosser,jrosser,"Avoid linter error OSA0002 when updating apt cache

Change-Id: Iff331bad7723a798921bce117797801194f7311c
(cherry picked from commit df4260f61219b43dacf10ca2b2d529a1c87e4630)
"
openstack%2Fkolla~stable%2Fussuri~I53e8ba8d4baa4434cf3c49ed94d1f7cb44099bee,openstack/kolla,stable/ussuri,,I53e8ba8d4baa4434cf3c49ed94d1f7cb44099bee,Add a storm-base image,MERGED,2021-01-13 10:45:31.000000000,2021-01-19 13:14:41.000000000,2021-01-19 13:10:54.000000000,16,8,0,770579,724860f786c7694cb6fdfa71b3bac565b60811c7,18,3,6,4,14826,Mark Goddard,mgoddard,"Add a storm-base image

Refactor storm image dependencies. Previously we had:

base -> storm -> monasca-thresh

Both storm and monasca-thresh images are final, and each includes a
footer. This causes issues when the footer expects to be at the end of
the image, or there to be only a single footer. In particular, since
I2592a736206eaec811290e9fbdbf2540c0518ffe, the footer used in CI jobs
reverts to the public package mirrors.

This change introduces a storm-base image, and refactors the dependency
chain:

base -> storm-base -> storm
base -> storm-base -> monasca-thresh

Related-Bug: #1902101

Change-Id: I53e8ba8d4baa4434cf3c49ed94d1f7cb44099bee
(cherry picked from commit 93204ecfeca7ba394bd4c3872147357aa708f46e)
"
openstack%2Fvitrage-tempest-plugin~master~Idb16a1d7dd5c093f074fb6668f67205bb4068e99,openstack/vitrage-tempest-plugin,master,fedora,Idb16a1d7dd5c093f074fb6668f67205bb4068e99,make ussri voting again,MERGED,2021-01-19 08:12:56.000000000,2021-01-19 13:03:01.000000000,2021-01-19 12:56:30.000000000,0,4,0,771378,35d27c8157d8f74bf64f2d322748a7914bef954e,11,2,1,1,19134,Eyal,eyalb,"make ussri voting again

heat fixed the image name

Change-Id: Idb16a1d7dd5c093f074fb6668f67205bb4068e99
"
openstack%2Fopenstack-ansible-plugins~master~I4a4fcdadb4408960aa885269d573e66dd8542f0e,openstack/openstack-ansible-plugins,master,,I4a4fcdadb4408960aa885269d573e66dd8542f0e,Remove chroot connection from ssh plugin,MERGED,2020-06-22 13:55:17.000000000,2021-01-19 13:01:10.000000000,2021-01-19 12:55:45.000000000,1,27,0,737273,d16dbe169c26b122a80bba03ebf186e779bf09d1,14,3,4,2,25023,Jonathan Rosser,jrosser,"Remove chroot connection from ssh plugin

This is not used anywhere in OSA so remove to simplify the code

Change-Id: I4a4fcdadb4408960aa885269d573e66dd8542f0e
"
openstack%2Fswift~stable%2Fussuri~I09143ae20bd6249083c0b80cdaa9d561e6abb301,openstack/swift,stable/ussuri,bug/1079075-stable/ussuri,I09143ae20bd6249083c0b80cdaa9d561e6abb301,Fail if swift binary are missing,ABANDONED,2020-12-16 10:57:20.000000000,2021-01-19 12:46:06.000000000,,171,25,0,767319,3b5dd37bba4a5e45881163421e56b3e1d87ff16d,5,2,1,2,30095,Michele Valsecchi,mvalsecc,"Fail if swift binary are missing

Check if the binary file exists before attempting operations on it.
Closes-Bug: #1079075

Change-Id: I09143ae20bd6249083c0b80cdaa9d561e6abb301
(cherry picked from commit f4d691da8387af3e4402c20b92149cc4290cb2e9)
"
openstack%2Fswift~stable%2Ftrain~I09143ae20bd6249083c0b80cdaa9d561e6abb301,openstack/swift,stable/train,bug/1079075-stable/train,I09143ae20bd6249083c0b80cdaa9d561e6abb301,Fail if swift binary are missing,ABANDONED,2020-12-16 10:57:40.000000000,2021-01-19 12:45:52.000000000,,171,25,0,767320,4e773965d8eb44b4b67c4177156e27496712fc42,7,2,1,2,30095,Michele Valsecchi,mvalsecc,"Fail if swift binary are missing

Check if the binary file exists before attempting operations on it.
Closes-Bug: #1079075

Change-Id: I09143ae20bd6249083c0b80cdaa9d561e6abb301
(cherry picked from commit f4d691da8387af3e4402c20b92149cc4290cb2e9)
"
openstack%2Fswift~stable%2Fvictoria~I09143ae20bd6249083c0b80cdaa9d561e6abb301,openstack/swift,stable/victoria,bug/1079075-stable/victoria-stable/victoria,I09143ae20bd6249083c0b80cdaa9d561e6abb301,Fail if swift binary are missing,ABANDONED,2020-12-16 10:55:49.000000000,2021-01-19 12:45:39.000000000,,171,25,0,767317,f8ec16ad293ef334373857026c752c251b7eb41d,21,3,2,2,30095,Michele Valsecchi,mvalsecc,"Fail if swift binary are missing

Check if the binary file exists before attempting operations on it.
Closes-Bug: #1079075

Change-Id: I09143ae20bd6249083c0b80cdaa9d561e6abb301
(cherry picked from commit f4d691da8387af3e4402c20b92149cc4290cb2e9)
"
openstack%2Fkolla~stable%2Fvictoria~I7e1d9b7330152648d46156f286ffa22ee615ae03,openstack/kolla,stable/victoria,update-readme,I7e1d9b7330152648d46156f286ffa22ee615ae03,Update projects in README.rst,MERGED,2021-01-14 11:17:55.000000000,2021-01-19 12:42:14.000000000,2021-01-19 12:39:18.000000000,0,2,0,770790,eb557bb0400c6784d5baaacc33ef68670e60fb34,8,3,1,1,30491,Radosław Piliszek,yoctozepto,"Update projects in README.rst

Change-Id: I7e1d9b7330152648d46156f286ffa22ee615ae03
"
openstack%2Fkolla~stable%2Fussuri~I7e1d9b7330152648d46156f286ffa22ee615ae03,openstack/kolla,stable/ussuri,update-readme,I7e1d9b7330152648d46156f286ffa22ee615ae03,Update projects in README.rst,MERGED,2021-01-14 11:20:54.000000000,2021-01-19 12:41:08.000000000,2021-01-19 12:39:33.000000000,0,2,0,770739,cc31403d256d08e7896ea1052888b149410705c2,10,3,1,1,30491,Radosław Piliszek,yoctozepto,"Update projects in README.rst

Change-Id: I7e1d9b7330152648d46156f286ffa22ee615ae03
"
openstack%2Fkolla~stable%2Fvictoria~I0c4d5e1ea16c6677813a334b38b3a22ad811531d,openstack/kolla,stable/victoria,,I0c4d5e1ea16c6677813a334b38b3a22ad811531d,CI: Use Docker proxy for pulls,MERGED,2021-01-16 15:03:17.000000000,2021-01-19 12:40:49.000000000,2021-01-19 12:39:12.000000000,20,0,0,770973,d94546089e569e6d010bcc52c2e2763ec8f66a43,15,4,1,1,30491,Radosław Piliszek,yoctozepto,"CI: Use Docker proxy for pulls

Change-Id: I0c4d5e1ea16c6677813a334b38b3a22ad811531d
(cherry picked from commit a8c12def858b57349207cab5fa8dabb3c23bdfa0)
"
openstack%2Fneutron~master~I978a24c3b30c2bb0a3ea6aa25ebf91ca5c58b8c9,openstack/neutron,master,bp/enginefacade-switch,I978a24c3b30c2bb0a3ea6aa25ebf91ca5c58b8c9,Remove documentation about nested transactions,MERGED,2021-01-14 15:49:34.000000000,2021-01-19 12:06:15.000000000,2021-01-19 12:01:09.000000000,5,40,0,770826,8200014062865b639dc3737f0aa47597190098b7,16,5,2,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Remove documentation about nested transactions

With the new engine facade in place, a context session can execute
one single transaction at once. Nested transactions are no longer
supported.

This patch also changes db related examples in the ""retries"" document
that they uses engine facade.

Partially-Implements blueprint: enginefacade-switch

Change-Id: I978a24c3b30c2bb0a3ea6aa25ebf91ca5c58b8c9
Co-authored-by: Slawek Kaplonski <skaplons@redhat.com>
"
openstack%2Fswift~master~Ibf934d5a859ca61f928452e05b8a57bdc69a3350,openstack/swift,master,,Ibf934d5a859ca61f928452e05b8a57bdc69a3350,s3api: Get rid of slo_enabled flag,MERGED,2021-01-14 00:51:43.000000000,2021-01-19 12:04:36.000000000,2021-01-19 12:01:50.000000000,11,16,5,770685,d9c433a4135e06c0deb4c804077c3d111aa84688,17,4,4,6,15343,Tim Burke,tburke,"s3api: Get rid of slo_enabled flag

Change-Id: Ibf934d5a859ca61f928452e05b8a57bdc69a3350
"
openstack%2Fnova~stable%2Fussuri~I48f57082edaef3ec4722bd31ce29a90b94d32523,openstack/nova,stable/ussuri,bug/1881944,I48f57082edaef3ec4722bd31ce29a90b94d32523,Use cell targeted context to query BDMs for metadata,MERGED,2020-12-07 15:48:09.000000000,2021-01-19 11:57:04.000000000,2021-01-19 11:49:34.000000000,17,11,0,765748,c727cfc36c9d352102e04b9c94bebc7e25a1ab97,16,3,1,2,9708,Balazs Gibizer,gibi,"Use cell targeted context to query BDMs for metadata

The metadata service supports a multicell deployment in a configuration
where the nova-api service implements the metadata API. In this case the
metadata query needs to be cell targeted. This was partly implemented
already. The instance itself is queried from the cell DB properly.
However the BDM data used the non targeted context resulting in an empty
BDM returned by the metadata service.

Functional reproduction test is not added as I did not find a way to
have a cell setup in the functional test that reproduce the problem. I
reproduced the bug and tested the fix in a devstack.

Change-Id: I48f57082edaef3ec4722bd31ce29a90b94d32523
Closes-Bug: #1881944
(cherry picked from commit 1390eecf8dec4c3b022a9b1e259a908197566738)
(cherry picked from commit 9a5b6249d65c96e387a9eb0ecdefcc2057c21869)
"
openstack%2Fneutron~master~Ie02f9d40716af1b3b4efc3e9340acab7f9af113e,openstack/neutron,master,improve-neutron-ci,Ie02f9d40716af1b3b4efc3e9340acab7f9af113e,Add resource_provider_bandwidths for computes,MERGED,2021-01-15 14:31:58.000000000,2021-01-19 11:56:24.000000000,2021-01-19 11:49:21.000000000,1,0,2,770940,7826661d6594e593e6f5c86753fac3e40ae5bbf7,19,3,3,1,8313,Lajos Katona,elajkat,"Add resource_provider_bandwidths for computes

neutron-tempest-dvr-ha-multinode-full job's computes seems to lack
resource_provider_bandwidths values set, let's see if it solves the
issuse with test_migrate_with_qos_min_bw_allocation and
test_resize_with_qos_min_bw_allocation.

Change-Id: Ie02f9d40716af1b3b4efc3e9340acab7f9af113e
"
openstack%2Foslo.serialization~master~Iaa02d12b545597a3b064f320ee33253300a5de1b,openstack/oslo.serialization,master,tox-python38,Iaa02d12b545597a3b064f320ee33253300a5de1b,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:04:46.000000000,2021-01-19 11:50:16.000000000,2021-01-19 11:47:42.000000000,1,1,0,761313,523fa45f64dcfe960ab1751fe72b1bed360f6591,11,2,1,1,28522,Hervé Beraud,hberaud,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Iaa02d12b545597a3b064f320ee33253300a5de1b
"
openstack%2Fneutron~stable%2Frocky~Ib0d3a501f88c149baea7d715c7cfe5811bc85e4f,openstack/neutron,stable/rocky,bug/1892846-stable/victoria-stable/ussuri-stable/train-stable/stein-stable/rocky,Ib0d3a501f88c149baea7d715c7cfe5811bc85e4f,Fix migration from the HA to non-HA routers,MERGED,2020-11-19 10:54:02.000000000,2021-01-19 11:49:51.000000000,2021-01-19 11:49:51.000000000,77,0,0,763348,b226d53e75f7e26f35ff51d2e3e6a0212ba391a8,42,6,1,2,11975,Slawek Kaplonski,slaweq,"Fix migration from the HA to non-HA routers

In case if during switching HA router to be down, there will be any
failure, router_info will be stored in L3 agent's cache as HaRouter.
In case when next update on the router is migration to non-HA router
this is wrong class and it causes other issues, e.g. with
remove_vip_by_ip_address() which is correct only for HA routers.

This patch fixes that issue by adding check of the router's ha and
distributed flags and update local cache with new router_info class
in case if at least one of those flags don't match.

Change-Id: Ib0d3a501f88c149baea7d715c7cfe5811bc85e4f
Closes-Bug: #1892846
(cherry picked from commit 489e0ead7297e3b17ca2bf8c4bea9701ad14a939)
"
openstack%2Fcharm-neutron-api-plugin-ironic~master~Ia5f8a3b6bb20ef558632327f3ece932839d25fac,openstack/charm-neutron-api-plugin-ironic,master,sync-for-21-01,Ia5f8a3b6bb20ef558632327f3ece932839d25fac,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:32:33.000000000,2021-01-19 11:48:05.000000000,2021-01-19 11:48:05.000000000,7,1,0,771033,7241c5109b2f70bb1a6164be5b8bb4656fbfc9fe,9,3,1,3,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

Change-Id: Ia5f8a3b6bb20ef558632327f3ece932839d25fac
"
openstack%2Fkeystoneauth~stable%2Ftrain~I590755d665b371c76ba8e02836d81d41a95ac601,openstack/keystoneauth,stable/train,bug/1838704-stable/train,I590755d665b371c76ba8e02836d81d41a95ac601,Cleanup session on delete,MERGED,2020-11-02 12:54:06.000000000,2021-01-19 11:43:26.000000000,2021-01-19 11:39:13.000000000,35,0,0,760911,8dc7366e7667149c33d26a1b1a05a10c3ac47f26,27,9,4,3,28223,Cedric Jeanneret,cjeanner,"Cleanup session on delete

If an external session object was not passed to the Session class, we
create a requests.Session() on our own. Once this is used, it may still
have an open connection when the auth Session is closed. We need to
handle the closing of the requests.Session() ourselves if we created
one. If you do not close it, a ResourceWarning may be reported about the
socket that is left open. If a session object is provided, we do not
attempt to close it as it will be up to the code consuming keystoneauth
to properly handle cleaning up the provided session.

Depends-On: https://review.opendev.org/757488
Change-Id: I590755d665b371c76ba8e02836d81d41a95ac601
Closes-Bug: #1838704
(cherry picked from commit b2b5ad3cb1ff05e08c22973bb079125214ba7bcf)
"
openstack%2Fcharm-neutron-openvswitch~master~I1c68e1ad512d947b62c8cef6d1cc585270f64972,openstack/charm-neutron-openvswitch,master,sync-for-21-01,I1c68e1ad512d947b62c8cef6d1cc585270f64972,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:33:12.000000000,2021-01-19 11:33:32.000000000,2021-01-19 11:33:32.000000000,452,74,0,771038,055446e5c55cfd89ef3538a969202aa2aa198cf6,12,3,2,14,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers
* Remove mock for unit_get() as removed from the context module

Change-Id: I1c68e1ad512d947b62c8cef6d1cc585270f64972
"
openstack%2Fmistral~master~Ia64c4e7fc7bc8e41d6b2e14d6372417e9c60b442,openstack/mistral,master,dynamic-actions-doc,Ia64c4e7fc7bc8e41d6b2e14d6372417e9c60b442,Fix a field name in the CodeSource class sample,MERGED,2021-01-05 07:21:27.000000000,2021-01-19 11:28:59.000000000,2021-01-19 11:27:16.000000000,1,1,0,769253,421f84334b685e3c0ab6b06c8b904db891291993,29,2,2,1,8731,Renat Akhmerov,rakhmerov,"Fix a field name in the CodeSource class sample

Change-Id: Ia64c4e7fc7bc8e41d6b2e14d6372417e9c60b442
"
openstack%2Fnova~stable%2Ftrain~I0bb9077f1cea2243b7945e87cfa140f9cf89d558,openstack/nova,stable/train,stale_train_hacking_2.0,I0bb9077f1cea2243b7945e87cfa140f9cf89d558,Switch to hacking 2.x,ABANDONED,2021-01-15 14:39:34.000000000,2021-01-19 11:20:20.000000000,,124,67,0,770944,93c7bf2b3e2927b2f4ac2441554b380b46536a71,12,3,2,5,10135,Lee Yarwood,lyarwood,"Switch to hacking 2.x

This bumps the version of flake8 and pycodestyle to something much
newer, which resolves a long-standing warning about nested sets and
allows us to use new fangled features like f-strings if we so choose.

NOTE(lyarwood): Conflicts as .pre-commit-config.yaml did not exist on
stable/train and due to the recent stable-only lc and test-requirements
bumps introduced by Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a.

Conflicts:
    .pre-commit-config.yaml
    lower-constraints.txt
    test-requirements.txt

Change-Id: I0bb9077f1cea2243b7945e87cfa140f9cf89d558
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit e3da87a45dc9302c1c9d9418ed2b80a8c68d1507)
"
openstack%2Fnova~stable%2Ftrain~I9480ac1749d448efe4f415f5e80ff9b9837216b6,openstack/nova,stable/train,stale_train_hacking_2.0,I9480ac1749d448efe4f415f5e80ff9b9837216b6,trivial: Resolve (most) flake8 3.x issues,ABANDONED,2021-01-15 14:39:34.000000000,2021-01-19 11:20:18.000000000,,14,14,0,770943,d98a280aab58323fdc1e2d2aefd4a33cf2c1b4a4,9,2,2,9,10135,Lee Yarwood,lyarwood,"trivial: Resolve (most) flake8 3.x issues

A future change will bump flake8 to 3.x. See off most of the issues that
this will introduce now, with the exception of some missing typing
imports in 'nova/virt/hardware.py' - fixing those here with the current
version of flake8 would actually raise an error about unused imports.

NOTE(lyarwood): This stable/train backport includes changes to the
following files that were not required on master at the time of the
original change:

Conflicts:
    nova/tests/unit/virt/libvirt/test_driver.py
    nova/virt/libvirt/driver.py
    nova/virt/zvm/driver.py

Change-Id: I9480ac1749d448efe4f415f5e80ff9b9837216b6
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit 9428ebfed976e0d5755b72ef85fc92721f9d30ee)
"
openstack%2Fproject-config~master~I163ec96b73833b467c437ebf19ac54a11ccbae91,openstack/project-config,master,backport_candidates,I163ec96b73833b467c437ebf19ac54a11ccbae91,Add Backport-Candidate label for placement deliverables,ABANDONED,2020-08-27 08:49:44.000000000,2021-01-19 11:16:12.000000000,,12,0,1,748378,7a39f27e6c9226388459100b5ea1c99eaf7db086,7,4,1,1,15334,Stephen Finucane,sfinucan,"Add Backport-Candidate label for placement deliverables

List of deliverables taken from [1].

[1] https://releases.openstack.org/teams/placement.html

Change-Id: I163ec96b73833b467c437ebf19ac54a11ccbae91
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fkolla-ansible~master~Ida6e882d1014cdc5e55383a5d5ba8fa0e824a693,openstack/kolla-ansible,master,prometheus-v2-docs,Ida6e882d1014cdc5e55383a5d5ba8fa0e824a693,[docs] Prometheus 2.x follow-up change,MERGED,2021-01-18 15:31:01.000000000,2021-01-19 11:08:37.000000000,2021-01-19 11:06:59.000000000,3,3,0,771233,3cbf4b507167958423710e9db4d7ffb854d92212,8,3,1,1,32657,Piotr Parczewski,piotrp,"[docs] Prometheus 2.x follow-up change

Update for the example command line options.

Change-Id: Ida6e882d1014cdc5e55383a5d5ba8fa0e824a693
"
openstack%2Fpanko~master~Ia0daee7d909f31e7f8f9e75fa52dca9254441559,openstack/panko,master,secure-rbac,Ia0daee7d909f31e7f8f9e75fa52dca9254441559,Implement secure RBAC for segregation and telemetry policies,MERGED,2020-12-01 14:43:10.000000000,2021-01-19 11:03:13.000000000,2021-01-19 11:01:03.000000000,21,2,0,764948,6195c9a06db0d3d3bd46da74af1dfad092404c2b,18,3,1,2,5046,Lance Bragstad,ldbragst,"Implement secure RBAC for segregation and telemetry policies

This commit updates the policies for all policies in panko to support
enhanced token scope checking and default roles, but implementing
support for a reader role for read-only APIs.

This is part of a broader change to provide a more consistent and secure
authorization experience for operators and users across OpenStack.

Change-Id: Ia0daee7d909f31e7f8f9e75fa52dca9254441559
"
openstack%2Fopenstack-tempest-skiplist~master~I1dac822777c62b47fd56716123fa8dfbe1f453fa,openstack/openstack-tempest-skiplist,master,,I1dac822777c62b47fd56716123fa8dfbe1f453fa,revert test skipped due to cinder,MERGED,2021-01-18 18:36:49.000000000,2021-01-19 11:01:12.000000000,2021-01-19 10:59:41.000000000,0,167,0,771263,bfa0013c973f7d0960ee9229fa3593fd267fcba2,10,2,1,1,9592,wes hayutin,weshayutin,"revert test skipped due to cinder

Closes-Bug: #1908750
Change-Id: I1dac822777c62b47fd56716123fa8dfbe1f453fa
"
openstack%2Frpm-packaging~master~I76e1717cf4e47e3310dc7cb57c03110ef649fb15,openstack/rpm-packaging,master,,I76e1717cf4e47e3310dc7cb57c03110ef649fb15,ovsdbapp: Update to 1.8.0,MERGED,2021-01-19 08:56:14.000000000,2021-01-19 11:00:24.000000000,2021-01-19 10:31:39.000000000,1,1,0,771385,e012ed34f8c9151c39eccbc4103a359db97996fa,9,5,1,1,6593,Dirk Mueller,dmllr,"ovsdbapp: Update to 1.8.0

Change-Id: I76e1717cf4e47e3310dc7cb57c03110ef649fb15
"
openstack%2Fneutron-lib~master~I06a9809d6821f19f2620f3a959c85d26ed9073ec,openstack/neutron-lib,master,bug/1704137,I06a9809d6821f19f2620f3a959c85d26ed9073ec,"Remove ""tag"" and ""tag-ext"" extensions from ""tags"" documentation",MERGED,2021-01-14 15:57:31.000000000,2021-01-19 10:49:54.000000000,2021-01-19 10:47:57.000000000,0,20,0,770829,8c626fe039a5c32e26710b8e8b6d53a4ac6a11b7,8,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Remove ""tag"" and ""tag-ext"" extensions from ""tags"" documentation

These two extensions are deprecated.

Change-Id: I06a9809d6821f19f2620f3a959c85d26ed9073ec
Related-Bug: #1704137
"
openstack%2Foslo.serialization~stable%2Ftrain~I404810487e68042a2ae7de888a1225a0fcd23252,openstack/oslo.serialization,stable/train,cap-bandit-1.6.2,I404810487e68042a2ae7de888a1225a0fcd23252,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-01-08 21:44:56.000000000,2021-01-19 10:36:48.000000000,2021-01-19 10:35:17.000000000,3,3,0,769998,bbf30b50e81c5a042b9722f0d292bba487e777fa,8,3,1,2,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Contradicting hacking version replaced (in lower-constraints.txt to
match with test-requirements.txt), which pulls in newer flake8, too.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I404810487e68042a2ae7de888a1225a0fcd23252
"
openstack%2Fcharm-masakari~stable%2F20.10~I69d97400aa59cd8f3dfe73ae869a611225e35c5f,openstack/charm-masakari,stable/20.10,groovy-charm-gate-stable/20.10,I69d97400aa59cd8f3dfe73ae869a611225e35c5f,Fix install hook on Groovy,MERGED,2021-01-14 10:02:18.000000000,2021-01-19 10:00:25.000000000,2021-01-19 10:00:25.000000000,1,3,0,770737,f7e3a6be1d9a1ba95aeb8fdd570ec38c2b086f90,16,4,2,2,31289,Aurelien Lourot,lourot,"Fix install hook on Groovy

python-apt has been replaced by python3-apt on Groovy.
Also add Groovy to the test gate.

Closes-Bug: #1911884
Change-Id: I69d97400aa59cd8f3dfe73ae869a611225e35c5f
(cherry picked from commit dd3e2fb901e1369dae857269e329c85e8373ca33)
"
openstack%2Fmonasca-log-api~master~I2437729bd1840b7943b0883574344404827a50ea,openstack/monasca-log-api,master,,I2437729bd1840b7943b0883574344404827a50ea,Deprecate monasca-log-api,MERGED,2020-01-28 09:44:33.000000000,2021-01-19 09:51:43.000000000,2020-05-22 12:09:36.000000000,15,0,0,704519,4eccad156f282f2eb300be7a306703c90dcba996,14,6,2,3,16222,witek,witek,"Deprecate monasca-log-api

Change-Id: I2437729bd1840b7943b0883574344404827a50ea
Story: 2003881
Task: 38493
"
openstack%2Fmonasca-ceilometer~master~Ia3cea3d5f87d952ac1f2638ac5180861006a889f,openstack/monasca-ceilometer,master,deprecate-monasca-ceilometer,Ia3cea3d5f87d952ac1f2638ac5180861006a889f,Mark Monasca Ceilometer as Deprecated in Ussuri,MERGED,2020-04-16 01:38:17.000000000,2021-01-19 09:51:29.000000000,2020-04-22 07:50:49.000000000,13,0,0,720319,875bc660ee68664d0ab4a21442c69ffd164d2ddf,11,4,2,1,10311,Joseph Davis,joadavis,"Mark Monasca Ceilometer as Deprecated in Ussuri

With the Monasca Publisher now a supported pipeline in
Ceilometer, the functionality of Ceilosca can now be simply
configured in a Ceilometer deployment.
This commit makes a comment in the README to explain that.

Change-Id: Ia3cea3d5f87d952ac1f2638ac5180861006a889f
Story: #2007560
Task: #39439
"
openstack%2Fkolla-ansible~master~Iafffccfdf8c418284ff7539317906af5bd23deec,openstack/kolla-ansible,master,,Iafffccfdf8c418284ff7539317906af5bd23deec,WIP: Wait for Kafka topics,ABANDONED,2020-07-27 08:24:53.000000000,2021-01-19 09:50:56.000000000,,6,0,0,743165,5c23d9565b15f8ae440f73615b3aad15f3315eb5,5,3,1,1,17669,Doug Szumski,DougSzumski,"WIP: Wait for Kafka topics

Determine whether we actually need this (in which case create a bug).

Change-Id: Iafffccfdf8c418284ff7539317906af5bd23deec
"
openstack%2Fmonasca-log-api~master~Ie981ba029a7087b1450420ade8e741741db05b90,openstack/monasca-log-api,master,,Ie981ba029a7087b1450420ade8e741741db05b90,Fix race condition in API test,ABANDONED,2019-05-24 15:37:57.000000000,2021-01-19 09:49:28.000000000,,3,3,0,661337,946dfbc5a5cb3f7227c609ebe36822f638429a94,7,3,2,1,17669,Doug Szumski,DougSzumski,"Fix race condition in API test

Two serial calls are made to the API, and then the responses are
compared. Each call is timestamped with the creation_time of the log.
Since the calls do not occur at the same time, the creation_time
may be different and cause the test to fail. This change ensures
that a constant creation_time is returned.

Change-Id: Ie981ba029a7087b1450420ade8e741741db05b90
"
openstack%2Fmasakari~stable%2Ftrain~Id3b9bad4bc617c168200d34d69bbe760a24dfcf9,openstack/masakari,stable/train,change-755283-2-stable/train,Id3b9bad4bc617c168200d34d69bbe760a24dfcf9,Fix endless periodic looping call after failed evacuation,MERGED,2021-01-04 10:05:36.000000000,2021-01-19 09:49:00.000000000,2021-01-19 09:47:21.000000000,15,7,0,768747,315113d9749805698003892dbaa42debbc549354,8,3,1,2,14826,Mark Goddard,mgoddard,"Fix endless periodic looping call after failed evacuation

Fixes an issue where a failed evacuation could result in a periodic
looping call to run forever. This happened because the periodic call was
not stopped after a timeout occurred.

Change-Id: Id3b9bad4bc617c168200d34d69bbe760a24dfcf9
Closes-Bug: #1897888
(cherry picked from commit df63714b03cef5906791f14bbf2416beab23ca0a)
"
openstack%2Fkolla-ansible~master~I3e5ed7752f6d6e791dad2a6aec27e380d2b1da9e,openstack/kolla-ansible,master,ci_test,I3e5ed7752f6d6e791dad2a6aec27e380d2b1da9e,Staged start for Monasca Python consumers,ABANDONED,2020-08-20 10:18:16.000000000,2021-01-19 09:47:41.000000000,,66,2,0,747134,70d2f8b775906e5c71abe42a33628f733a5b861d,6,3,1,1,17669,Doug Szumski,DougSzumski,"Staged start for Monasca Python consumers

Whilst Kafka auto topic creation is on by default, and consumers
will automatically create topics that they subscribe to, we appear
to hit a race where when multiple consumers of the same type start
at around the same time, some of them will return an error relating
to a missing topic. This change attempts a staged start in
multi-node systems to work around this issue.

The mechanism for waiting for the service to start could be improved,
but is hopefully enough.

Note that although this could be considered a bug, it isn't an issue
outside of CI because the consumer containers will just restart until
the topics they are listening on have been created.

Change-Id: I3e5ed7752f6d6e791dad2a6aec27e380d2b1da9e
"
openstack%2Fcharm-nova-cloud-controller~master~I43f2b136596ff1f83eb794a14045708ac37a5a69,openstack/charm-nova-cloud-controller,master,bug/1893847,I43f2b136596ff1f83eb794a14045708ac37a5a69,Charm-helpers sync for Bug #1893847,ABANDONED,2021-01-05 22:17:51.000000000,2021-01-19 09:46:48.000000000,,360,56,0,769428,156cfc7c6428ec5ad8e5102a632797e2e4008396,11,2,1,13,20805,David Ames,thedac,"Charm-helpers sync for Bug #1893847

Change-Id: I43f2b136596ff1f83eb794a14045708ac37a5a69
Closes-Bug: #1893847
"
openstack%2Fcharm-trilio-horizon-plugin~master~Iddeda46aeb6cd84cb9d3791cb4d61d35b99bd985,openstack/charm-trilio-horizon-plugin,master,bug/1912189,Iddeda46aeb6cd84cb9d3791cb4d61d35b99bd985,Add missing relation to trilio-data-mover,MERGED,2021-01-18 15:49:18.000000000,2021-01-19 09:46:27.000000000,2021-01-19 09:46:27.000000000,6,0,0,771238,4a2a20e2b5ebb8f7d5a58930fd2e8666cd5a0e17,9,3,1,3,12549,gnuoy,gnuoy,"Add missing relation to trilio-data-mover

A recent update to the trilio-data-mover introduced a mandatory
relation between it and mysql. Add the new relation to the
functional testing bundles.

Closes-Bug: #1912189
Change-Id: Iddeda46aeb6cd84cb9d3791cb4d61d35b99bd985
"
openstack%2Fmonasca-log-api~stable%2Ftrain~I720c390554f137ce160cea071f61f20e5b771e4e,openstack/monasca-log-api,stable/train,,I720c390554f137ce160cea071f61f20e5b771e4e,Replace assertItemsEqual with assertCountEqual,ABANDONED,2020-11-02 10:31:16.000000000,2021-01-19 09:43:22.000000000,,10,10,0,760810,5a91f370cebe34570c9fc2fb93fbd87f4e2a5b69,3,2,1,2,17669,Doug Szumski,DougSzumski,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I720c390554f137ce160cea071f61f20e5b771e4e
"
openstack%2Fkolla-ansible~master~Ic8cb23faaffc1ccc3e648c49eea1d2ff22da23ad,openstack/kolla-ansible,master,,Ic8cb23faaffc1ccc3e648c49eea1d2ff22da23ad,Wait for Monasca API to come up,ABANDONED,2019-04-30 15:02:35.000000000,2021-01-19 09:42:37.000000000,,9,0,3,656528,7d64991988785646b94b313d01e64d14e27335cd,35,6,8,1,17669,Doug Szumski,DougSzumski,"Wait for Monasca API to come up

The Monasca CI job can fail due to multiple services
trying to create the same topics in Kafka around the same time.
This change waits for the API to come up, which should auto create
the metrics topic before the perister or notification services try
to.

An alternative would be to disable auto topic creation and manually
create them during the bootstrap phase.

This issue hasn't been reported outside of CI.

Change-Id: Ic8cb23faaffc1ccc3e648c49eea1d2ff22da23ad
"
openstack%2Fcharm-octavia-dashboard~master~Ibeb7002f95ebf09d7ce3c3decac8c063b6a7c2a6,openstack/charm-octavia-dashboard,master,sync-for-21-01,Ibeb7002f95ebf09d7ce3c3decac8c063b6a7c2a6,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:02:28.000000000,2021-01-19 09:41:41.000000000,2021-01-19 09:41:41.000000000,1,1,0,770993,778bb38fc8939e98bda35bf28b6ba21df76fa24a,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

Change-Id: Ibeb7002f95ebf09d7ce3c3decac8c063b6a7c2a6
"
