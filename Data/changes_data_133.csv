id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fansible-role-collect-logs~master~I53fce6782e8d1236e22eb52122bf6a51aad28f57,openstack/ansible-role-collect-logs,master,,I53fce6782e8d1236e22eb52122bf6a51aad28f57,add doc strings to sova_lib,ABANDONED,2021-01-21 17:33:04.000000000,2021-04-28 15:49:19.000000000,,31,0,2,771859,129341c2355c2111bb08139043cfa79c5108d662,10,5,3,1,9592,wes hayutin,weshayutin,"add doc strings to sova_lib

Change-Id: I53fce6782e8d1236e22eb52122bf6a51aad28f57
"
openstack%2Fkayobe~stable%2Fvictoria~I23eb5116d8d1944167a0d50cafe5b99f766ad687,openstack/kayobe,stable/victoria,story/2008850-stable/victoria,I23eb5116d8d1944167a0d50cafe5b99f766ad687,Disable Bifrost cleaning by default,MERGED,2021-04-27 12:49:40.000000000,2021-04-28 15:29:09.000000000,2021-04-28 15:25:15.000000000,11,0,0,788281,29f7e75a1245705d268494122769c0816b832cdb,8,3,1,2,15197,Pierre Riteau,priteau,"Disable Bifrost cleaning by default

Cleaning was disabled by default in Bifrost
(Ie1198768889bd468176cd68c8ccb48791c724262) until the Victoria release,
when the default was changed. The 'kayobe overcloud provision' command
does not handle cleaning states when moving nodes from manageable to
available. This can lead to provisioning failures.

This change disables cleaning to maintain backwards
compatibility with earlier versions of Kayobe.

Change-Id: I23eb5116d8d1944167a0d50cafe5b99f766ad687
Story: 2008850
Task: 42363
(cherry picked from commit d45812d3badc04f7e99fbf4207baf5c45096dc90)
"
openstack%2Foctavia-tempest-plugin~master~I2231384933d5974b962a558e8c0b3bffb1140b5a,openstack/octavia-tempest-plugin,master,,I2231384933d5974b962a558e8c0b3bffb1140b5a,Fix owner_or_admin API tests,MERGED,2021-04-20 10:04:19.000000000,2021-04-28 15:12:26.000000000,2021-04-28 15:10:40.000000000,17,32,0,787177,3497f6cb7067eab4e37aaeb376e56ef3fa7cf395,9,4,1,9,29244,Gregory Thiemonge,gthiemonge,"Fix owner_or_admin API tests

lb_observer and lb_global_observer don't have any meaning when
admin_or_owner policy override in enabled.
This commit disables client creation for those roles and removes their
uses from API tests (the behavior of the owner_or_admin tests are now
similar to their behavior before the introduction of the new RBAC
tests).

Requires the following configuration in tempest.conf:

[load_balancer]
RBAC_test_type = owner_or_admin
member_role = member
admin_role = admin

Change-Id: I2231384933d5974b962a558e8c0b3bffb1140b5a
"
openstack%2Fkolla~master~I635964a84f0cd5cadccd7ce8040fa36e1300c765,openstack/kolla,master,prepare-for-kolla-wallaby-release,I635964a84f0cd5cadccd7ce8040fa36e1300c765,centos: switch to RDO final release of Wallaby,ABANDONED,2021-04-09 11:21:38.000000000,2021-04-28 15:06:12.000000000,,5,21,7,785622,632e91bf890d9a96b761afc63f0a923facd55fe5,52,7,11,4,24072,Marcin Juszkiewicz,hrw,"centos: switch to RDO final release of Wallaby

Change-Id: I635964a84f0cd5cadccd7ce8040fa36e1300c765
"
openstack%2Finstack-undercloud~stable%2Frocky~I867005ea82d81b58f2f26ae04422755d1bc0bf59,openstack/instack-undercloud,stable/rocky,firewall-rocky,I867005ea82d81b58f2f26ae04422755d1bc0bf59,Do not always set firewall rules for optional services,ABANDONED,2019-12-20 13:10:56.000000000,2021-04-28 15:05:27.000000000,,8,0,0,700170,cdf1e331e585ea98883065e9fb7ebbba03cb3906,11,5,3,1,9816,Takashi Kajinami,kajinamit,"Do not always set firewall rules for optional services

In undercloud, cinder and telemetry are optional services, and we
don't need to set firewall rules for them if they are disabled.

Change-Id: I867005ea82d81b58f2f26ae04422755d1bc0bf59
"
openstack%2Finstack-undercloud~stable%2Frocky~I443e99f54e8f09e5bb97dbcc89691e8b159341cb,openstack/instack-undercloud,stable/rocky,undercloud-ceph-rocky,I443e99f54e8f09e5bb97dbcc89691e8b159341cb,Remove ceph related firewall rules,ABANDONED,2019-12-20 13:07:02.000000000,2021-04-28 15:05:10.000000000,,0,4,0,700169,e44adbd6f38ec360cad84c720158286512635c0d,7,4,1,1,9816,Takashi Kajinami,kajinamit,"Remove ceph related firewall rules

We don't deploy ceph on undercloud nodes, so remove firewall rules for it.

Change-Id: I443e99f54e8f09e5bb97dbcc89691e8b159341cb
"
openstack%2Fpython-openstackclient~stable%2Fvictoria~Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c,openstack/python-openstackclient,stable/victoria,trivial,Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c,compute: Add 'server group create --rule' option,ABANDONED,2021-04-21 00:54:59.000000000,2021-04-28 14:34:49.000000000,,65,7,1,787243,ed0705049a44a0abb81dea749538ef366f749642,8,10,3,3,27419,David Vallee Delisle,dvd,"compute: Add 'server group create --rule' option

This closes the remaining gap with the 2.64 compute API microversion.

Conflict:
    openstackclient/compute/v2/server_group.py

Change-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)
"
openstack%2Fpython-openstackclient~stable%2Fussuri~Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c,openstack/python-openstackclient,stable/ussuri,trivial,Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c,compute: Add 'server group create --rule' option,ABANDONED,2021-04-21 02:00:59.000000000,2021-04-28 14:34:39.000000000,,65,6,0,787244,8feb27339a2df98de97b9c7a0d57aec66b1896db,10,10,2,3,27419,David Vallee Delisle,dvd,"compute: Add 'server group create --rule' option

This closes the remaining gap with the 2.64 compute API microversion.

Conflict:
    openstackclient/compute/v2/server_group.py
    openstackclient/tests/unit/compute/v2/test_server_group.py

Change-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)
(cherry picked from commit ed0705049a44a0abb81dea749538ef366f749642)
"
openstack%2Fpython-openstackclient~stable%2Ftrain~Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c,openstack/python-openstackclient,stable/train,trivial,Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c,compute: Add 'server group create --rule' option,ABANDONED,2021-04-21 02:12:28.000000000,2021-04-28 14:34:15.000000000,,65,6,0,787245,0528eb6d07d398742824e07b8b8cdbd55fa192b8,12,10,7,3,27419,David Vallee Delisle,dvd,"compute: Add 'server group create --rule' option

This closes the remaining gap with the 2.64 compute API microversion.


Change-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)
(cherry picked from commit ed0705049a44a0abb81dea749538ef366f749642)
(cherry picked from commit 8feb27339a2df98de97b9c7a0d57aec66b1896db)
"
openstack%2Fpython-openstackclient~stable%2Ftrain~I1703ff1289839fe995a5432134f35a9098a9ca68,openstack/python-openstackclient,stable/train,,I1703ff1289839fe995a5432134f35a9098a9ca68,[train-only] lower-constraint and test-requirements,ABANDONED,2021-04-21 14:04:06.000000000,2021-04-28 14:34:06.000000000,,3,3,2,787374,daa5edb3991659cddd5eee4e98d41b2b9515d4e7,10,8,3,3,27419,David Vallee Delisle,dvd,"[train-only] lower-constraint and test-requirements

Bumping keystoneauth1 to 3.8 and bandit<1.7 as it's not supported in
python2

openstacksdk==0.17.0 requires keystoneauth1==3.8.0 [1]

It's also worth mentioning that RHOSP16.1 (downstream for train) is
shipped with keystoneauth1==3.17.3.

[1] https://github.com/openstack/openstacksdk/blob/0.17.0/lower-constraints.txt#L17


Change-Id: I1703ff1289839fe995a5432134f35a9098a9ca68
"
openstack%2Fsushy~master~I05e5f43e9deb001efb0e31d9068853f821665585,openstack/sushy,master,,I05e5f43e9deb001efb0e31d9068853f821665585,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 09:06:28.000000000,2021-04-28 14:10:39.000000000,2021-04-28 14:09:09.000000000,4,4,0,788224,1756209c9751e4aabac86ef8755527cd763c103c,10,3,1,1,31027,MaAoyu,maaoyu,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I05e5f43e9deb001efb0e31d9068853f821665585
"
openstack%2Fneutron~stable%2Fussuri~I708904b982d243359f2eeda809beae0321f1a7db,openstack/neutron,stable/ussuri,,I708904b982d243359f2eeda809beae0321f1a7db,[OVN] Only account for bound ports in metadata agent,MERGED,2021-04-27 10:13:41.000000000,2021-04-28 14:05:13.000000000,2021-04-28 14:03:32.000000000,37,22,0,788237,a9ed835e69102397b192a3d23d80084b5d76a7f8,10,6,1,4,8655,Jakub Libosvar,jlibosva,"[OVN] Only account for bound ports in metadata agent

Due to bug #1922934 there might be situations with stale ports
in the OVN database. When instances request metadata, the agent
will try to fetch all ports for that particular network with the
same IP address and there should be only one.

However, when there are stale ports in OVN database but not in
Neutron, those ports may have the same IP address and the result
is that metadata won't work. As the stale ports will never be
bound to any hypervisor, this patch is accounting only for
bound ports so that those ports don't interfere until they
eventually get fixed by the maintenance task.

Conflicts:
	neutron/agent/ovn/metadata/server.py

Related-Bug: #1922934
Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: I708904b982d243359f2eeda809beae0321f1a7db
(cherry picked from commit 32e938e698f260af6896f6179a5ffc0838677124)
"
openstack%2Fkolla~stable%2Fwallaby~Ib7147def6aec21e46d49a1c880bd1b53ec5472e6,openstack/kolla,stable/wallaby,prepare-for-kolla-wallaby-release-stable/wallaby,Ib7147def6aec21e46d49a1c880bd1b53ec5472e6,releasenotes: we move to Debian bullseye,MERGED,2021-04-27 14:06:59.000000000,2021-04-28 13:58:33.000000000,2021-04-28 13:55:07.000000000,6,0,1,788260,67dc1d3f026a12260fe6eb44bad81bcace7abb17,13,4,2,1,24072,Marcin Juszkiewicz,hrw,"releasenotes: we move to Debian bullseye

Depends-On: https://review.opendev.org/c/openstack/kolla/+/788304
Change-Id: Ib7147def6aec21e46d49a1c880bd1b53ec5472e6
(cherry picked from commit bcdec58c69ca68c776d69f1af38d0bc26da4727a)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I7ae919875fb9dea756ca26d90dc1af791ac766ce,openstack/kolla-ansible,stable/wallaby,,I7ae919875fb9dea756ca26d90dc1af791ac766ce,Bump up python version for Debian Bullseye,MERGED,2021-04-28 11:01:38.000000000,2021-04-28 13:57:35.000000000,2021-04-28 13:56:08.000000000,1,1,0,788442,f73c00c83886c902133da0c91fe2ffd78e47db13,10,3,2,1,22629,Michal Nasiadka,mnasiadka,"Bump up python version for Debian Bullseye

Depends-On: https://review.opendev.org/c/openstack/kolla/+/788304
Change-Id: I7ae919875fb9dea756ca26d90dc1af791ac766ce
(cherry picked from commit d9b21cde93e3a37012fde1133085fcb4a6376455)
"
openstack%2Fkolla~stable%2Fwallaby~I543965a2741cebfa759576a4c75669a7bacd4208,openstack/kolla,stable/wallaby,prepare-for-kolla-wallaby-release-stable/wallaby,I543965a2741cebfa759576a4c75669a7bacd4208,move to Debian 'bullseye',MERGED,2021-04-27 14:06:41.000000000,2021-04-28 13:57:18.000000000,2021-04-28 13:55:02.000000000,112,102,0,788304,1f5014e01104c2ccf275c2ed082b6861c331ac65,21,4,2,14,24072,Marcin Juszkiewicz,hrw,"move to Debian 'bullseye'

Bullseye is now in hard freeze cycle and goes for release.

https://release.debian.org/bullseye/freeze_policy.html

Co-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>

Change-Id: I543965a2741cebfa759576a4c75669a7bacd4208
(cherry-pick from master e0f8cbc50cf7184930a501b0f5452a64f523cd6f)
"
openstack%2Ftripleo-heat-templates~master~I2e7730692308733dec29bc417325aca3e8fe15a0,openstack/tripleo-heat-templates,master,virtlogd_wrapper,I2e7730692308733dec29bc417325aca3e8fe15a0,Start wrapper container from within nova-virtlogd container,ABANDONED,2020-09-17 11:52:27.000000000,2021-04-28 13:04:23.000000000,,190,25,4,752439,17455d85d793c55f89a02df7de6e48f3ccb4eb54,13,5,2,2,20733,Rajesh Tailor,rajesht,"Start wrapper container from within nova-virtlogd container

As of now, when nova_virtlogd container gets restarted
the console.log file of instance in
/var/lib/nova/instances/<instance_id> directory is not updated.

This change starts a wrapper container from within the
nova-virtlogd container.

Depends-On: https://review.opendev.org/#/c/749026/
Change-Id: I2e7730692308733dec29bc417325aca3e8fe15a0
"
openstack%2Fpuppet-tripleo~master~I1c7a42bc98a8751791eb71ae168680ef72f16778,openstack/puppet-tripleo,master,virtlogd_wrapper,I1c7a42bc98a8751791eb71ae168680ef72f16778,Add wrapper script for virtlogd wrapper,ABANDONED,2020-08-31 10:46:07.000000000,2021-04-28 13:03:56.000000000,,196,0,21,749026,84ff0e66c2f277ddc144834abbc0e8f620de0927,23,9,4,4,20733,Rajesh Tailor,rajesht,"Add wrapper script for virtlogd wrapper

As of now, when nova_virtlogd container gets restarted
the console.log file of instance in
/var/lib/nova/instances/<instance_id> directory is not updated.

This change adds wrapper script to create a container to
keep the console.log file open.

Change-Id: I1c7a42bc98a8751791eb71ae168680ef72f16778
"
openstack%2Foslo.db~master~I27e20e59bce8c98b5a507c617364652aa6eb33f5,openstack/oslo.db,master,modernize_update_match,I27e20e59bce8c98b5a507c617364652aa6eb33f5,Don't use private API to get query criteria,MERGED,2020-10-14 14:41:17.000000000,2021-04-28 13:01:06.000000000,2021-04-28 12:59:37.000000000,3,4,0,758142,f2a94b6f1a8d1c2274ff81ae9968d22a22fd8503,13,4,2,1,11816,mike_mp@zzzcomputing.com,zzzeek,"Don't use private API to get query criteria

Another change for SQLAlchemy 1.4 is the mechanics
of how the ``QueryContext`` object works.   Update the
update_match extension such that it does not rely upon the
``QueryContext`` object and uses public APIs instead.

Change-Id: I27e20e59bce8c98b5a507c617364652aa6eb33f5
"
openstack%2Fbarbican~master~I503641691f8414c4c4562cbedc31dc8047054f0c,openstack/barbican,master,zanata/translations,I503641691f8414c4c4562cbedc31dc8047054f0c,Imported Translations from Zanata,MERGED,2021-03-22 06:22:03.000000000,2021-04-28 12:50:51.000000000,2021-04-28 12:49:25.000000000,77,29,0,782015,6d0df1148ff41bce6ab8e7c5ae6c7807af826dde,20,2,6,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I503641691f8414c4c4562cbedc31dc8047054f0c
"
openstack%2Fovsdbapp~master~I580bfb640d8157b4e749d7b1fe5de7568e99943d,openstack/ovsdbapp,master,bug/1922934,I580bfb640d8157b4e749d7b1fe5de7568e99943d,"Add an active wait in the ""Backend.lookup""",MERGED,2021-04-08 15:10:29.000000000,2021-04-28 12:47:36.000000000,2021-04-28 12:45:18.000000000,109,2,49,785433,bc004045cd30a708eadd64ded1af1b30ef1d1918,55,5,13,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add an active wait in the ""Backend.lookup""

Added an active wait in the method ""Backend.lookup"". If a timeout
and a RowEventHandler instance, listening on the same IDL connection,
are passed, if the ""lookup"" method does not find the requested
register, the method creates a WaitEvent instance related to the
table and register requested.

If the wait event returns, the expected record will be stored in the
event ""result"" member and will be the value returned by this method.

If the wait event timeout expires, the method will throw an
``idlutils.RowNotFound`` exception.

Closes-Bug: #1922934

Change-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d
"
openstack%2Freleases~master~I1b6c282a1e17795627e6bfd66e40ee7ec7e1ad32,openstack/releases,master,add-xena-dates,I1b6c282a1e17795627e6bfd66e40ee7ec7e1ad32,Add Cinder-specific dates for Xena schedule,MERGED,2021-04-19 19:58:47.000000000,2021-04-28 12:22:50.000000000,2021-04-28 12:22:50.000000000,79,0,3,786951,9f652aee73a2061b06a66933bcb4d02b94d81980,14,5,2,2,5314,Brian Rosmaita,brian-rosmaita,"Add Cinder-specific dates for Xena schedule

Change-Id: I1b6c282a1e17795627e6bfd66e40ee7ec7e1ad32
"
openstack%2Fmasakari~master~I83f06849e15d7065a4c243a3205a5db9f4a04e72,openstack/masakari,master,,I83f06849e15d7065a4c243a3205a5db9f4a04e72,Fix a wrong comment on masakari api.,MERGED,2021-04-28 10:02:07.000000000,2021-04-28 12:02:30.000000000,2021-04-28 12:01:02.000000000,1,1,0,788466,b0aad2c6b62a25874801b1037a265e2d54c5184e,7,2,1,1,32722,Ye Haiyang,YeHaiyang,"Fix a wrong comment on masakari api.

Change-Id: I83f06849e15d7065a4c243a3205a5db9f4a04e72
"
openstack%2Fxstatic-bootstrap-scss~master~I1c884af39871d1393781ec2153c925a876feb53e,openstack/xstatic-bootstrap-scss,master,,I1c884af39871d1393781ec2153c925a876feb53e,Use py3 as the default runtime for tox,NEW,2021-04-27 06:41:58.000000000,2021-04-28 11:55:09.000000000,,1,1,0,788168,6b9f2cf4a63949d42cf6181a54bc1a9836f54652,3,2,1,1,32921,Reason li,liyou01,"Use py3 as the default runtime for tox

Change-Id: I1c884af39871d1393781ec2153c925a876feb53e
"
openstack%2Fpuppet-neutron~master~Ie0e7ddef6f2c2e1e52cc8f6085daaa4805b013d4,openstack/puppet-neutron,master,healthcheck,Ie0e7ddef6f2c2e1e52cc8f6085daaa4805b013d4,Add support for healthcheck middleware options,MERGED,2021-04-20 23:09:37.000000000,2021-04-28 11:39:20.000000000,2021-04-28 11:37:21.000000000,101,0,0,787298,3b93693c41577e951eacb327c8d05f9594c49abe,16,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: Ie0e7ddef6f2c2e1e52cc8f6085daaa4805b013d4
"
openstack%2Fironic~master~I46be8e000eba520e14fa9541ee53466ec10aa9a4,openstack/ironic,master,dhcp-less-less-less-less,I46be8e000eba520e14fa9541ee53466ec10aa9a4,Docs: dhcp-less works with Glean 1.19.0,MERGED,2021-04-27 08:47:32.000000000,2021-04-28 11:28:46.000000000,2021-04-28 11:27:09.000000000,2,4,0,788210,7ac60fb15717513526910894f0f82cc30f9c8913,9,3,1,1,10239,Dmitry Tantsur,dtantsur,"Docs: dhcp-less works with Glean 1.19.0

Change-Id: I46be8e000eba520e14fa9541ee53466ec10aa9a4
"
openstack%2Foslo.db~master~Id2f0663b13ed0f81e91a8d44f73d8541015bf844,openstack/oslo.db,master,modernize_update_match,Id2f0663b13ed0f81e91a8d44f73d8541015bf844,Accommodate immutable URL api,MERGED,2020-08-24 16:01:29.000000000,2021-04-28 11:14:54.000000000,2021-04-28 11:12:59.000000000,46,9,20,747762,f37269ae603bc0e09210379e03a476ff2193c74c,42,8,7,4,11816,mike_mp@zzzcomputing.com,zzzeek,"Accommodate immutable URL api

SQLAlchemy 1.4 has modified the URL object to be immutable.
This patch makes the adjustments needed, using duck-typing
to check if the URL object is of the new style.  When
requirements reach SQLAlchemy 1.4 as the minimum required
version, these conditionals should be removed in favor of
the noted option in each.

Change-Id: Id2f0663b13ed0f81e91a8d44f73d8541015bf844
"
openstack%2Fsushy~stable%2Fwallaby~I2046c4e7c8739edd4aaac3e7facc378b82276ca4,openstack/sushy,stable/wallaby,virtual_media_patch_fallback-stable/wallaby,I2046c4e7c8739edd4aaac3e7facc378b82276ca4,Implement fallback method for virtual media,MERGED,2021-04-28 09:02:32.000000000,2021-04-28 10:59:45.000000000,2021-04-28 10:58:25.000000000,164,15,0,788274,bc4987800906d8413f964c9a3f5c7eb580de55e3,8,3,1,4,10239,Dmitry Tantsur,dtantsur,"Implement fallback method for virtual media

Some vendors implement the original method of inserting and ejecting virtual media
using a PATCH request to the target URI
instead of using a POST request to the
insert_media and eject_media action URI.
Additionally the actions attribute might set to None
This implements the fallback method,
if there are no actions and the PATCH method is sent back in the Allow header

Change-Id: I2046c4e7c8739edd4aaac3e7facc378b82276ca4
(cherry picked from commit 9e5a103565e204b9358e10580cd0346391be9bec)
"
openstack%2Fsushy~stable%2Fvictoria~I2046c4e7c8739edd4aaac3e7facc378b82276ca4,openstack/sushy,stable/victoria,virtual_media_patch_fallback-stable/victoria,I2046c4e7c8739edd4aaac3e7facc378b82276ca4,Implement fallback method for virtual media,MERGED,2021-04-28 09:02:57.000000000,2021-04-28 10:53:14.000000000,2021-04-28 10:51:50.000000000,164,15,0,788275,d7da81d34d3003627068d6fc39e95ff1a3c48fa9,8,3,1,4,10239,Dmitry Tantsur,dtantsur,"Implement fallback method for virtual media

Some vendors implement the original method of inserting and ejecting virtual media
using a PATCH request to the target URI
instead of using a POST request to the
insert_media and eject_media action URI.
Additionally the actions attribute might set to None
This implements the fallback method,
if there are no actions and the PATCH method is sent back in the Allow header

Change-Id: I2046c4e7c8739edd4aaac3e7facc378b82276ca4
(cherry picked from commit 9e5a103565e204b9358e10580cd0346391be9bec)
"
openstack%2Ftaskflow~master~Ib169e3deb7ddb2bc93a206ebec4043552281aa7f,openstack/taskflow,master,drop_mock,Ib169e3deb7ddb2bc93a206ebec4043552281aa7f,Use unittest.mock instead of mock,MERGED,2020-06-09 10:15:03.000000000,2021-04-28 10:38:16.000000000,2021-04-28 10:36:57.000000000,3,4,9,734562,14a5c0f237362f88c88f23175268b67084dfac1f,19,3,6,4,28522,Hervé Beraud,hberaud,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Ib169e3deb7ddb2bc93a206ebec4043552281aa7f
"
openstack%2Fneutron-tempest-plugin~master~Id56743a07267b4b6c03e7b9b295f919668ac07ab,openstack/neutron-tempest-plugin,master,bug/1923633,Id56743a07267b4b6c03e7b9b295f919668ac07ab,Add iptables and listening sockets to debug info,MERGED,2021-04-14 15:28:00.000000000,2021-04-28 10:36:29.000000000,2021-04-28 10:36:29.000000000,22,1,1,786268,c134ea944e288a8dda5322fb104c39f9dbbaf842,39,4,5,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add iptables and listening sockets to debug info

The method ""_log_local_network_status"", used to print the system
information in case of error, is improved with new information:
- The local namespace iptables
- The local namespace listening sockets

This information could provide the needed info to investigate the
problem, related in the referred bug, when a VM cannot retrieve
the metadata information.

Change-Id: Id56743a07267b4b6c03e7b9b295f919668ac07ab
Related-Bug: #1923633
"
openstack%2Fneutron~master~I61a07b9b0c0fd3c0906ed8efe0b09bf0988ccdfb,openstack/neutron,master,bug/1926313,I61a07b9b0c0fd3c0906ed8efe0b09bf0988ccdfb,"Fix ""nftables"" ansible role",MERGED,2021-04-27 15:56:37.000000000,2021-04-28 09:59:14.000000000,2021-04-28 09:56:40.000000000,4,2,0,788320,97e34498f75fb8b5414490858ff9a3a37e6b2716,12,3,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Fix ""nftables"" ansible role

Fixed ""iptables"" restore tasks:
- Using the ""ipvX_rules_file.stat.exists"" flag
- Retrieving the correct path name from the stored variable.

Change-Id: I61a07b9b0c0fd3c0906ed8efe0b09bf0988ccdfb
Closes-Bug: #1926313
"
openstack%2Fdevstack~stable%2Fqueens~I57e6219d675c951880808ced4e26c2344ef15cee,openstack/devstack,stable/queens,fix_uwsgi_centos,I57e6219d675c951880808ced4e26c2344ef15cee,Fix for downloading uwsgi on centos in lib/apache,MERGED,2020-06-17 12:39:17.000000000,2021-04-28 09:57:01.000000000,2021-04-28 09:57:01.000000000,47,22,2,736189,10877d79d63507ceb24f234d66e01ab95ac4da9c,69,18,9,1,31956,Ignacy Osetek,iosetek,"Fix for downloading uwsgi on centos in lib/apache

On Centos the lib/apache script in devstack downloads and compiles
uwsgi package. It uses pip-download to pull uwsgi tar file.
However, it does not return the full name of downloaded file so
right now the script looks for filename that starts with prefix
""uwsgi"".
This method is case sensitive so after downloading file with name
uWSGI-2.0.19.tar.gz the script was unable to locate this file.

This change downloads the file to an empty directory and expect
it to be the only file there so there is no name vulnerability.

Change-Id: I57e6219d675c951880808ced4e26c2344ef15cee
Closes-Bug: #1883897
"
openstack%2Fkolla-ansible~master~I7ae919875fb9dea756ca26d90dc1af791ac766ce,openstack/kolla-ansible,master,,I7ae919875fb9dea756ca26d90dc1af791ac766ce,Bump up python version for Debian Bullseye,MERGED,2021-04-16 07:45:58.000000000,2021-04-28 09:45:19.000000000,2021-04-28 09:42:49.000000000,1,1,0,786591,d9b21cde93e3a37012fde1133085fcb4a6376455,23,5,2,1,22629,Michal Nasiadka,mnasiadka,"Bump up python version for Debian Bullseye

Depends-On: https://review.opendev.org/c/openstack/kolla/+/772479
Change-Id: I7ae919875fb9dea756ca26d90dc1af791ac766ce
"
openstack%2Fkolla-ansible~master~I04bafaebba44d162adb908839cdad6f5bb6ee8f7,openstack/kolla-ansible,master,feature/use_vanilla_grafana_for_monasca,I04bafaebba44d162adb908839cdad6f5bb6ee8f7,Add Monasca Grafana deprecation notice,MERGED,2021-04-27 09:13:35.000000000,2021-04-28 09:30:26.000000000,2021-04-28 09:24:43.000000000,7,0,0,788227,8a1e9e984bb109a02bc650b9674fd19e15f7fbf7,11,7,1,1,17669,Doug Szumski,DougSzumski,"Add Monasca Grafana deprecation notice

Change-Id: I04bafaebba44d162adb908839cdad6f5bb6ee8f7
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I545c31977799c4ea51e037b631a49306da9c4a3b,openstack/networking-ovn,stable/train,bug/1897928,I545c31977799c4ea51e037b631a49306da9c4a3b,Change reference to OvnDbNotifyHandler._watched_events,MERGED,2021-04-14 11:13:03.000000000,2021-04-28 09:30:16.000000000,2021-04-28 09:28:42.000000000,6,1,0,786204,184384651a836c27822aa7e4433c4c4aab4d4b69,29,4,3,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Change reference to OvnDbNotifyHandler._watched_events

Since [1], RowEventHandler._watched_events do not use name mangling.
OvnDbNotifyHandler, inheriting from RowEventHandler, can access to
this variable.

[1]https://review.opendev.org/#/c/752797/

Partial-Bug: #1897928

Manually cherry-picked from
https://review.opendev.org/c/openstack/neutron/+/755924/1

Change-Id: I545c31977799c4ea51e037b631a49306da9c4a3b
"
openstack%2Fkolla-ansible~master~Ibffa019e2106784e97f5c482106bb5082f788752,openstack/kolla-ansible,master,deprecate-enable-host-ntp,Ibffa019e2106784e97f5c482106bb5082f788752,Deprecate enable_host_ntp,MERGED,2021-04-27 16:04:55.000000000,2021-04-28 09:27:49.000000000,2021-04-28 09:23:57.000000000,21,0,0,788321,83f3422fbd58581f3dea595eb0ac080b86c9fcf9,10,4,1,4,30491,Radosław Piliszek,yoctozepto,"Deprecate enable_host_ntp

As agreed during IRC meeting. [1]

[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-04-07-15.00.html

Change-Id: Ibffa019e2106784e97f5c482106bb5082f788752
"
openstack%2Ftempest~master~I2ce2e21a505c72aa9812529f46092bfd6b0e3371,openstack/tempest,master,dont_recycle_servers,I2ce2e21a505c72aa9812529f46092bfd6b0e3371,"Revert ""Revert ""don't reuse servers in test_server_actions""""",NEW,2021-04-28 09:21:39.000000000,2021-04-28 09:22:22.000000000,,6,24,0,788437,7a0aaf4c8c0e904cf77383fd4e18850b3d9ebcb8,2,10,1,2,11604,sean mooney,sean-k-mooney,"Revert ""Revert ""don't reuse servers in test_server_actions""""

This reverts commit 2da58590dab4bc7e56928edf08d02a96fb933ee7.

Reason for revert: this leads to highly non deterministic behavior in some cases and it was never clearly established that the orginal patch that removed the rebuild logic was the cause for bug #1298472

Change-Id: I2ce2e21a505c72aa9812529f46092bfd6b0e3371
"
openstack%2Ftempest~master~I31672c8b131fec4a916c4d703f6819c22d605876,openstack/tempest,master,dont_recycle_servers,I31672c8b131fec4a916c4d703f6819c22d605876,"Revert ""don't reuse servers in test_server_actions""",MERGED,2014-06-08 12:46:02.000000000,2021-04-28 09:21:39.000000000,2014-06-09 15:00:05.000000000,24,6,0,98632,2da58590dab4bc7e56928edf08d02a96fb933ee7,36,9,1,2,6873,Matt Riedemann,mriedem,"Revert ""don't reuse servers in test_server_actions""

This reverts commit b7f648b31c9044e3a7c25c0fb1dcc31a81e0da9f.

Change-Id: I31672c8b131fec4a916c4d703f6819c22d605876
Related-Bug: #1298472
"
openstack%2Foctavia~master~Iacf485f8d7ac61e79c3bc9073b40d0813c006745,openstack/octavia,master,,Iacf485f8d7ac61e79c3bc9073b40d0813c006745,Fix pylint errors,MERGED,2021-04-26 17:11:07.000000000,2021-04-28 09:17:50.000000000,2021-04-28 09:16:16.000000000,5,0,0,788047,4e53676b2a4f8e97b8c2412436813d890b67672f,11,4,1,4,29244,Gregory Thiemonge,gthiemonge,"Fix pylint errors

New pylint release catches 'consider-using-with' errors on some class
members. This new checker looks interesting for future errors but it is
not justified for the detected issues.

Change-Id: Iacf485f8d7ac61e79c3bc9073b40d0813c006745
"
openstack%2Fsushy~master~I2046c4e7c8739edd4aaac3e7facc378b82276ca4,openstack/sushy,master,virtual_media_patch_fallback,I2046c4e7c8739edd4aaac3e7facc378b82276ca4,Implement fallback method for virtual media,MERGED,2021-04-24 19:57:56.000000000,2021-04-28 09:02:11.000000000,2021-04-28 09:00:57.000000000,164,15,8,787859,9e5a103565e204b9358e10580cd0346391be9bec,28,4,3,4,29296,Uemit Seren,timeu,"Implement fallback method for virtual media

Some vendors implement the original method of inserting and ejecting virtual media
using a PATCH request to the target URI
instead of using a POST request to the
insert_media and eject_media action URI.
Additionally the actions attribute might set to None
This implements the fallback method,
if there are no actions and the PATCH method is sent back in the Allow header

Change-Id: I2046c4e7c8739edd4aaac3e7facc378b82276ca4
"
openstack%2Fcharm-neutron-openvswitch~master~I8bc6e0c20e5702db5a44fda531b6a59ada5bee1e,openstack/charm-neutron-openvswitch,master,787820,I8bc6e0c20e5702db5a44fda531b6a59ada5bee1e,Fix regression of disable-mlockall,MERGED,2021-04-23 20:44:14.000000000,2021-04-28 08:53:18.000000000,2021-04-28 08:53:18.000000000,7,3,1,787820,96ba49807c38165bfc838aab569b5ec1804bd08b,24,8,3,2,11805,Corey Bryant,coreycb,"Fix regression of disable-mlockall

This restores OVS_DEFAULT to the BASE_RESOURCE_MAP.

There were some changes in commit ad7f870c that moved OVS_DEFAULT
out of the BASE_RESOURCE_MAP, which resulted in no more rendering
of /etc/default/openvswitch-switch for non-DPDK deployments.

Closes-Bug: #1925962
Change-Id: I8bc6e0c20e5702db5a44fda531b6a59ada5bee1e
"
openstack%2Fnova~master~I3e8ab2b2e6f9b5dbd6b892a9951f634fe248e23b,openstack/nova,master,,I3e8ab2b2e6f9b5dbd6b892a9951f634fe248e23b,zuul: Pin nova-grenade-multinode to tgtadm CINDER_ISCSI_HELPER,ABANDONED,2021-04-28 08:14:20.000000000,2021-04-28 08:48:21.000000000,,1,0,0,788425,d73c8945ec3cfc30907559e221357c88f923da35,2,0,1,1,10135,Lee Yarwood,lyarwood,"zuul: Pin nova-grenade-multinode to tgtadm CINDER_ISCSI_HELPER

If5c860d1e69aaef9a9236303c370479a7714ad43 recently landed and changed
the default in devstack. While the change did pin older Bionic jobs to
tgtadm within their zuul configs it missed older
nova-dsvm-multinode-base based jobs in Nova.

This is a temporary fix ahead of
I02b2b851a74f24816d2f782a66d94de81ee527b0 removing the use of
nova-dsvm-multinode-base entirely, moving the jobs to Focal.

Change-Id: I3e8ab2b2e6f9b5dbd6b892a9951f634fe248e23b
"
openstack%2Fswift~master~I2b63811508f819971785af8f7720e35518f685d6,openstack/swift,master,relinker_extra_stats_ptg,I2b63811508f819971785af8f7720e35518f685d6,relinker: recon test fixups,ABANDONED,2021-04-27 12:42:51.000000000,2021-04-28 08:29:40.000000000,,122,97,0,788280,6166bd13aad7dc7650e46cfd594f3f6db3377a71,4,1,1,2,7847,Alistair Coles,acoles,"relinker: recon test fixups

Add a constant DEFAULT_RECON_CACHE_PATH to help fix failing tests by
mocking recon_cache_path, so that errors are not logged due
to dump_recon_cache exceptions.

Mock recon_cache_path more widely and assert no error logs more
widely.

Change-Id: I2b63811508f819971785af8f7720e35518f685d6
"
openstack%2Fswift~master~I49c893b2b02414dc76998348d2d4d78d9f443eac,openstack/swift,master,relinker_extra_stats_ptg,I49c893b2b02414dc76998348d2d4d78d9f443eac,relinker: recon dump fixups/suggestions,ABANDONED,2021-04-27 17:59:44.000000000,2021-04-28 08:29:20.000000000,,22,34,0,788337,af3849f65852779f25877573a1523c504456dacf,4,1,1,2,7847,Alistair Coles,acoles,"relinker: recon dump fixups/suggestions

Change-Id: I49c893b2b02414dc76998348d2d4d78d9f443eac
"
openstack%2Fneutron~master~I89f304f767b2ec645ac7bb216890b6ac470fd875,openstack/neutron,master,remove-xen,I89f304f767b2ec645ac7bb216890b6ac470fd875,Clean up the deprecated options for Xen API support,MERGED,2021-04-23 13:30:19.000000000,2021-04-28 08:28:03.000000000,2021-04-28 08:25:22.000000000,5,55,0,787736,25d1f9b9487557afca32c32677755046be8b51f0,38,4,1,3,9816,Takashi Kajinami,kajinamit,"Clean up the deprecated options for Xen API support

This change cleans up the configuration options for Xen API support,
which was deprecated during the Wallaby cycle[1] and have been
ineffective.

[1] a6dbf97242caa3be646e8eb6b1502b5e59e123fd

Change-Id: I89f304f767b2ec645ac7bb216890b6ac470fd875
"
openstack%2Fdesignate~master~I914875cfd6273c01c74194c8a6296ae74537d169,openstack/designate,master,user_doc,I914875cfd6273c01c74194c8a6296ae74537d169,Add user doc for managing zones,MERGED,2021-04-14 05:19:56.000000000,2021-04-28 08:20:08.000000000,2021-04-28 08:18:38.000000000,203,0,24,786161,3bde7a843f70d9d00ea51126199c480b6061e9db,26,4,7,2,6994,Michael Chapman,michaeltchapman,"Add user doc for managing zones

Add some basic documentation for users covering how to create zones.

Nameserver list is not in the client CLI, once that is
available an additional command can be added showing how to get
the backend nameserver to query when verifying results.

Change-Id: I914875cfd6273c01c74194c8a6296ae74537d169
"
openstack%2Fpython-tackerclient~master~Ib8adaa50ba199f7c6dc767158daa46c8600db547,openstack/python-tackerclient,master,,Ib8adaa50ba199f7c6dc767158daa46c8600db547,Use py3 as the default runtime for tox,NEW,2021-04-20 07:18:42.000000000,2021-04-28 08:14:01.000000000,,1,1,0,787126,4ed8f66e463cbe0acda03e5257d7584b23d259d0,3,2,1,1,30384,zhangboye,zhangboye,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: Ib8adaa50ba199f7c6dc767158daa46c8600db547
"
openstack%2Ftacker~master~I20752f5403ba55d3b823ed85bc5e128cf6831bea,openstack/tacker,master,,I20752f5403ba55d3b823ed85bc5e128cf6831bea,Use py3 as the default runtime for tox,NEW,2021-04-20 05:56:39.000000000,2021-04-28 08:13:27.000000000,,1,1,0,787080,fc63b95f303cd8ced828d0693e5607c47ee20b5c,3,2,1,1,30384,zhangboye,zhangboye,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I20752f5403ba55d3b823ed85bc5e128cf6831bea
"
openstack%2Ftacker-horizon~master~I9bd2bb6f537b89c63380b984ff2aa71b731f0ff4,openstack/tacker-horizon,master,,I9bd2bb6f537b89c63380b984ff2aa71b731f0ff4,Use py3 as the default runtime for tox,NEW,2021-04-20 05:54:14.000000000,2021-04-28 08:11:51.000000000,,1,1,0,787079,a489fc3e4de8c99792046dba3502da960bd780b0,3,2,1,1,30384,zhangboye,zhangboye,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I9bd2bb6f537b89c63380b984ff2aa71b731f0ff4
"
openstack%2Ftacker~master~Iffafed2f86ee857cdcb2bf8e5baf7e7054aa7ed4,openstack/tacker,master,,Iffafed2f86ee857cdcb2bf8e5baf7e7054aa7ed4,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 08:41:39.000000000,2021-04-28 07:57:10.000000000,2021-04-28 07:54:53.000000000,4,4,0,788208,915afe3d379c44784ce497741ffe30f5f689cd96,8,5,1,1,31027,MaAoyu,maaoyu,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Iffafed2f86ee857cdcb2bf8e5baf7e7054aa7ed4
"
openstack%2Fironic-python-agent~master~I806b5f4b74c087a16d194d36665b1115f6d34184,openstack/ironic-python-agent,master,add-versions-reno,I806b5f4b74c087a16d194d36665b1115f6d34184,[trivial] Add versions to wallaby release notes,MERGED,2021-04-23 08:32:29.000000000,2021-04-28 07:54:12.000000000,2021-04-28 07:52:42.000000000,3,3,0,787688,2057d861a6a7ccc3076f41ef3a6a2b05cc51d694,9,3,1,1,23851,Riccardo Pittau,elfosardo,"[trivial] Add versions to wallaby release notes

Change-Id: I806b5f4b74c087a16d194d36665b1115f6d34184
"
openstack%2Fpython-designateclient~master~I9337f1998749bc40737f2f0e2dcc406b6f3a0ddf,openstack/python-designateclient,master,,I9337f1998749bc40737f2f0e2dcc406b6f3a0ddf,Remove six and update lower-constraints appdirs,MERGED,2021-03-25 23:49:04.000000000,2021-04-28 07:48:09.000000000,2021-04-28 07:46:46.000000000,46,70,0,783122,820f1e9af9317b91f3ee11a9ca22ea340119a125,18,5,2,17,11628,Michael Johnson,johnsom,"Remove six and update lower-constraints appdirs

This patch removes the use of ""six"" as the package declares only
python3 support.
It also updates the appdirs lower-constraint to 1.4.0 to support
pip. This version is available on both centos8 and focal.
It also removes the linter related packages from lower-constraints.

Change-Id: I9337f1998749bc40737f2f0e2dcc406b6f3a0ddf
"
openstack%2Ftripleo-validations~master~I11126e44fa5ae4859510e26e7d89ebb9038c0732,openstack/tripleo-validations,master,legacy/test,I11126e44fa5ae4859510e26e7d89ebb9038c0732,TEST DNM,ABANDONED,2021-03-23 09:19:32.000000000,2021-04-28 07:16:29.000000000,,3,0,0,782381,5140c5925086c8f568a23249273670e694a65249,3,1,1,1,32926,Jiri Podivin,jpodivin,"TEST DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I11126e44fa5ae4859510e26e7d89ebb9038c0732
"
openstack%2Fvalidations-libs~master~I71dfe309c178774874ebe3d0d4b0ba12246d3a8c,openstack/validations-libs,master,testdnm,I71dfe309c178774874ebe3d0d4b0ba12246d3a8c,DNM TEST,ABANDONED,2021-04-23 11:38:16.000000000,2021-04-28 07:16:27.000000000,,0,0,0,787713,c96cb4e503336116c076690d2a0178fbe80bc64a,4,1,1,1,32926,Jiri Podivin,jpodivin,"DNM TEST

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I71dfe309c178774874ebe3d0d4b0ba12246d3a8c
"
openstack%2Fvalidations-libs~master~I9e481cb76e7fed453249a26b0e8eaaadc43f8636,openstack/validations-libs,master,zuultestb,I9e481cb76e7fed453249a26b0e8eaaadc43f8636,DNM,ABANDONED,2021-04-27 07:29:25.000000000,2021-04-28 07:16:24.000000000,,2,1,0,788188,06b19c88604337debf56a1ac78a3e0d9e307b7c4,3,1,1,2,32926,Jiri Podivin,jpodivin,"DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9e481cb76e7fed453249a26b0e8eaaadc43f8636
"
openstack%2Fvalidations-libs~master~I69307b2af2492a5bd826c5c9c6b10b2acad00d38,openstack/validations-libs,master,zuultest,I69307b2af2492a5bd826c5c9c6b10b2acad00d38,DNM,ABANDONED,2021-04-27 07:18:07.000000000,2021-04-28 07:15:45.000000000,,1,1,0,788185,6d47fb7f5a290d34d05b5c485b544e23125457cf,4,1,1,1,32926,Jiri Podivin,jpodivin,"DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I69307b2af2492a5bd826c5c9c6b10b2acad00d38
"
openstack%2Fdevstack~stable%2Fussuri~Ia2c477c91c431d546b97ed8da1ad514d40f72eb6,openstack/devstack,stable/ussuri,dnm-test-centos,Ia2c477c91c431d546b97ed8da1ad514d40f72eb6,[DNM] Test CentOS,ABANDONED,2021-04-27 07:50:14.000000000,2021-04-28 07:13:58.000000000,,1,56,0,788196,61e30905023ee9406786a9777bc61d65caaf5e58,4,1,1,1,30491,Radosław Piliszek,yoctozepto,"[DNM] Test CentOS

Change-Id: Ia2c477c91c431d546b97ed8da1ad514d40f72eb6
"
openstack%2Fneutron~stable%2Fqueens~Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6,openstack/neutron,stable/queens,bug/1920778-stable/queens,Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6,Add locks for setting iptables rules in l3 and metadata agents,ABANDONED,2021-04-09 14:26:16.000000000,2021-04-28 06:11:33.000000000,,12,7,2,785655,96ba92f18fac0a41bb79e2d6238ecee11ecff0de,7,1,1,1,11975,Slawek Kaplonski,slaweq,"Add locks for setting iptables rules in l3 and metadata agents

Router_info class and metadata agent's driver are using same
instance of the iptables manager class and it could happend that
sometimes e.g. nat rule which packets send to 169.254.169.254:80
redirects to the port 9697 so haproxy can process them, can be missed as
they will be overwritten by the Router_info class manipulating other
rules in the same 'nat' rules list.

This patch fixed that by adding lock for methods which are changing
rules in iptables_manager's nat table in both router_info and
the metadata agent's driver.

Conflicts:
    neutron/agent/metadata/driver.py

Closes-Bug: #1920778
Change-Id: Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6
(cherry picked from commit af3c1b84427cbe4c9d3dce8fc901ad0b099c5917)
(cherry picked from commit c028839647d6900997cf38b5eec63b7698515dec)
(cherry picked from commit 7af0b713ff21e27889f7b322b736cab4b0dadaf9)
"
openstack%2Fneutron~stable%2Frocky~Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6,openstack/neutron,stable/rocky,bug/1920778-stable/rocky,Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6,Add locks for setting iptables rules in l3 and metadata agents,ABANDONED,2021-04-09 14:22:22.000000000,2021-04-28 06:11:31.000000000,,12,7,2,785654,3f111a4a70fc694917d613c3a42791ad2148f425,7,1,1,1,11975,Slawek Kaplonski,slaweq,"Add locks for setting iptables rules in l3 and metadata agents

Router_info class and metadata agent's driver are using same
instance of the iptables manager class and it could happend that
sometimes e.g. nat rule which packets send to 169.254.169.254:80
redirects to the port 9697 so haproxy can process them, can be missed as
they will be overwritten by the Router_info class manipulating other
rules in the same 'nat' rules list.

This patch fixed that by adding lock for methods which are changing
rules in iptables_manager's nat table in both router_info and
the metadata agent's driver.

Conflicts:
    neutron/agent/metadata/driver.py

Closes-Bug: #1920778
Change-Id: Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6
(cherry picked from commit af3c1b84427cbe4c9d3dce8fc901ad0b099c5917)
(cherry picked from commit c028839647d6900997cf38b5eec63b7698515dec)
(cherry picked from commit 7af0b713ff21e27889f7b322b736cab4b0dadaf9)
"
openstack%2Fneutron~stable%2Fstein~Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6,openstack/neutron,stable/stein,bug/1920778-stable/stein,Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6,Add locks for setting iptables rules in l3 and metadata agents,ABANDONED,2021-04-09 14:18:38.000000000,2021-04-28 06:11:26.000000000,,12,7,3,785653,44e0408fe4ae5847d1c8c68b3811b7d10856d996,6,1,1,1,11975,Slawek Kaplonski,slaweq,"Add locks for setting iptables rules in l3 and metadata agents

Router_info class and metadata agent's driver are using same
instance of the iptables manager class and it could happend that
sometimes e.g. nat rule which packets send to 169.254.169.254:80
redirects to the port 9697 so haproxy can process them, can be missed as
they will be overwritten by the Router_info class manipulating other
rules in the same 'nat' rules list.

This patch fixed that by adding lock for methods which are changing
rules in iptables_manager's nat table in both router_info and
the metadata agent's driver.

Conflicts:
    neutron/agent/metadata/driver.py

Closes-Bug: #1920778
Change-Id: Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6
(cherry picked from commit af3c1b84427cbe4c9d3dce8fc901ad0b099c5917)
(cherry picked from commit c028839647d6900997cf38b5eec63b7698515dec)
(cherry picked from commit 7af0b713ff21e27889f7b322b736cab4b0dadaf9)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,openstack/tripleo-heat-templates,stable/victoria,,Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,Moving nova-consoleauth to step4,MERGED,2021-04-26 14:42:32.000000000,2021-04-28 05:39:48.000000000,2021-04-28 05:39:48.000000000,5,14,0,787980,f8485c9dbc002ec22568a88a5d320db099b05b1b,18,9,1,1,27419,David Vallee Delisle,dvd,"Moving nova-consoleauth to step4

Since this is part of the post_upgrade_tasks and post_upgrade_tasks is
maxed to 4 steps, we need to move this from step5 to step4 otherwise
it's not being executed.

Also applying Alex's recommendation of using OS_CLOUD instead of havng
all the credentials here.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1825849
Change-Id: Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b
(cherry picked from commit 755084b5285f71dfa17c0abc310d4d797193b317)
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ia898a08f96f10e7f9817108bf7161478fa3d354c,openstack/tripleo-upgrade,stable/train,,Ia898a08f96f10e7f9817108bf7161478fa3d354c,Add validations to updates.,MERGED,2021-04-12 11:03:26.000000000,2021-04-28 03:20:52.000000000,2021-04-28 03:20:52.000000000,78,2,0,785852,15a78551bcdbd01c015444c1e445dd40a3b0fbac,13,6,2,5,31245,Daniel Bengtsson,damani42,"Add validations to updates.

Add a new variable updates_validations (default false) to run the
validations for update.

Add new command line options to run the validations for update.

Backport Inlcudes: https://review.opendev.org/c/openstack/tripleo-upgrade/+/783898
Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Co-authored-by: Sofer Athlan-Guyot <sathlang@redhat.com>

Change-Id: Ia898a08f96f10e7f9817108bf7161478fa3d354c
(cherry picked from commit 11745df80c16ff30fbad5bab3ca46cff07fd9705)
"
openstack%2Fpython-cinderclient~master~I55dcc9221303e52c20c534bc80d20a73f11f1b15,openstack/python-cinderclient,master,,I55dcc9221303e52c20c534bc80d20a73f11f1b15,setup.cfg: Replace dashes with underscores,ABANDONED,2021-04-27 08:59:06.000000000,2021-04-28 03:15:13.000000000,,4,4,0,788220,9ff995ed8733373fd8848e13557d777ec414a93a,6,1,2,1,32326,YuehuiLei,YuehuiLei,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
Change-Id: I55dcc9221303e52c20c534bc80d20a73f11f1b15
"
openstack%2Ftripleo-ansible~master~I0e45cbed37f2b92dcd1c435f86cf041d03ed2251,openstack/tripleo-ansible,master,ephemeral-heat,I0e45cbed37f2b92dcd1c435f86cf041d03ed2251,Use ephemeral Heat client if set,MERGED,2021-04-20 15:47:03.000000000,2021-04-28 01:25:03.000000000,2021-04-28 01:22:14.000000000,18,2,2,787225,ac1f25550723c95b81628d6fac85e5fecc8acfb5,33,6,8,1,7144,James Slagle,slagle,"Use ephemeral Heat client if set

In the cases where custom ansible plugins talk to the Heat API, we need
to use the ephemeral Heat client if it has been defined. This will
ensure Heat is appropriately configured to talk to the right API.
Otherwise, configure a Heat client in the normal fashion.

Depends-On: I2c3e9088bf92146b07d46288c2264368e15aa63b
Change-Id: I0e45cbed37f2b92dcd1c435f86cf041d03ed2251
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fpython-tripleoclient~master~Id5415a94f71cbed5fad9856fd68e109979ffd491,openstack/python-tripleoclient,master,network-data-v2,Id5415a94f71cbed5fad9856fd68e109979ffd491,Don't allow Redis/OvnDBs VIP in resource_registry,MERGED,2021-03-08 22:09:59.000000000,2021-04-28 01:25:01.000000000,2021-04-28 01:20:49.000000000,62,6,2,779377,32bf3beda6ddb0093fedd4d03fcbff0d098ab6a2,33,7,2,4,24245,Harald Jensås,harald.jensas,"Don't allow Redis/OvnDBs VIP in resource_registry

In the depends-on change the Redis and OvnDBs VIP is
refactored to the respective service templates.

This adds a validation to raise a ConfigurationError
in case the resource registry contains the deprecated
resoirce definitions:
  OS::TripleO::Network::Ports::RedisVipPort
  OS::TripleO::Network::Ports::OVNDBsVipPort

Depends-On: https://review.opendev.org/777259
Change-Id: Id5415a94f71cbed5fad9856fd68e109979ffd491
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I3b252854a0dbf121d69bab79543561da6be781f4,openstack/tripleo-heat-templates,stable/victoria,nova_qemu_client_tls_verify,I3b252854a0dbf121d69bab79543561da6be781f4,Missing client certificate for live-migration with TLS,MERGED,2021-04-26 14:33:52.000000000,2021-04-28 01:24:56.000000000,2021-04-28 01:22:00.000000000,19,0,0,787977,6ba1d84a4b8bbe9230bd6bf157a9f561925d0719,16,8,2,2,27419,David Vallee Delisle,dvd,"Missing client certificate for live-migration with TLS

TLS client verification used to be accidentally disabled in libvirt.
This was fixed in libvirt-6.10.0-1[1].
Which means, once you're using libvirt-6.10.0-1 or higher, a client
certificate is mandatory during live migration with TLS.

In this case, the server certificate generated by TripleO is valid
for client _and_ server:

                 Key Purpose (not critical):
                         TLS WWW Server.
                         TLS WWW Client.

So most deployments can re-use the same certificate for client and
server.  Why?  Because if both migration ends points are located
on the same infrastructure, it is reasonable to use the same
certificate for both client and server roles.

Introducing QemuDefaultTLSVerify parameter

This parameter will allow operators to enable or disable TLS client
certificate verification. Enabling this option will reject any client
who does not have a certificate signed by the CA in
/etc/pki/qemu/ca-cert.pem.

The default is true and matches libvirt's. We will want to disable this
by default in train.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/787247
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1945760
Change-Id: I3b252854a0dbf121d69bab79543561da6be781f4
(cherry picked from commit e7d37585ac38cfef5f1d1f2c54b357c38757536a)
"
openstack%2Ftripleo-image-elements~stable%2Fvictoria~I29d632814577db0b720b07d4497983e267d46a4e,openstack/tripleo-image-elements,stable/victoria,ens3-1,I29d632814577db0b720b07d4497983e267d46a4e,ensure any ens3 interface is nuked during image build,MERGED,2021-04-23 18:17:15.000000000,2021-04-28 01:22:37.000000000,2021-04-28 01:22:37.000000000,2,2,0,787615,375b4e87775b6b274cb9cc79e036e8bf6acda274,39,7,6,1,9592,wes hayutin,weshayutin,"ensure any ens3 interface is nuked during image build

It seems as though w/ CentOS-8.3 ens3 has crept
back into play.  Ensure it's not in the overcloud
images.  See bug for details.

Closes-Bug: #1910107
Change-Id: I29d632814577db0b720b07d4497983e267d46a4e
(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)
"
openstack%2Ftripleo-ansible~master~I9853497e34e203b6ae72ceaa944aa122f9c5d161,openstack/tripleo-ansible,master,newovs,I9853497e34e203b6ae72ceaa944aa122f9c5d161,Fix ovs_dpdk molecule job to work with stream node,MERGED,2021-04-26 15:40:39.000000000,2021-04-28 01:21:39.000000000,2021-04-28 01:21:39.000000000,12,41,0,788035,78c2b8313cefc13190e7219bdc10319ae89a174d,15,3,5,5,10969,Shnaidman Sagi (Sergey),sergsh,"Fix ovs_dpdk molecule job to work with stream node

Remove centos7 image. Use stream image for CentOS 8.
Change-Id: I9853497e34e203b6ae72ceaa944aa122f9c5d161
"
openstack%2Ftripleo-heat-templates~master~Ib8d3f62d233ce5a42e9923547c08add6e5859cfb,openstack/tripleo-heat-templates,master,,Ib8d3f62d233ce5a42e9923547c08add6e5859cfb,Disable global_id reclaim for Ceph mons in scenario001,MERGED,2021-04-23 09:21:06.000000000,2021-04-28 01:21:21.000000000,2021-04-28 01:21:21.000000000,1,0,0,787694,73c1d300df0bf66ab5ce1573da65acc89b6de64e,18,5,2,1,25402,Francesco Pantano,fmount,"Disable global_id reclaim for Ceph mons in scenario001

As per [1], patched monitors raise the AUTH_INSECURE_GLOBAL_ID_RECLAIM_ALLOWED
health alert if auth_allow_insecure_global_id_reclaim is enabled.
This is ok for general deployments, but it's not required in CI deployments.
Adding this option to the mon section using the CephConfigOverrides
approach ensures the cluster stay in health_ok.

[1] https://docs.ceph.com/en/latest/security/CVE-2021-20288/

Change-Id: Ib8d3f62d233ce5a42e9923547c08add6e5859cfb
"
openstack%2Ftripleo-ansible~master~Id42f15d4e28966d0a0702f3f4566d33f9d129154,openstack/tripleo-ansible,master,coll,Id42f15d4e28966d0a0702f3f4566d33f9d129154,Use openstack ansible collection instead of os_ modules,MERGED,2021-04-01 12:44:53.000000000,2021-04-28 01:20:55.000000000,2021-04-28 01:20:55.000000000,23,61,8,784391,c800bcb3b2fe4ca6dc8f06d5f0bb95c65eec35bc,44,6,6,15,10969,Shnaidman Sagi (Sergey),sergsh,"Use openstack ansible collection instead of os_ modules

Replace all usages of os_ modules by openstack.cloud modules.
Change-Id: Id42f15d4e28966d0a0702f3f4566d33f9d129154
"
openstack%2Ftripleo-heat-templates~master~I2b212bec170cc93c40f81050d11f696275d8b1ea,openstack/tripleo-heat-templates,master,redis-ovsdbs-vip-subnet-map-defaults,I2b212bec170cc93c40f81050d11f696275d8b1ea,Fix jinja2 for VipSubnetMapDefaults redis and ovs_dbs,MERGED,2021-02-19 10:37:28.000000000,2021-04-28 01:20:35.000000000,2021-04-28 01:20:35.000000000,2,3,0,776598,b842a58e2bedf9a6b2479bf62aae23345a03561c,17,4,1,1,24245,Harald Jensås,harald.jensas,"Fix jinja2 for VipSubnetMapDefaults redis and ovs_dbs

The current jinja2 code results in the same value no matter
what is in _service_nets so it really has no effect. We can
just as well hard-code the values, which is what this change
does.

Change-Id: I2b212bec170cc93c40f81050d11f696275d8b1ea
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I6c239065d4c92c9afc62ff4e513e6d097a06e218,openstack/tripleo-heat-templates,stable/ussuri,horizon-tmp-glance-stable/ussuri,I6c239065d4c92c9afc62ff4e513e6d097a06e218,Stop using (and breaking) /var/tmp for horizon temporary things,MERGED,2021-04-27 08:07:54.000000000,2021-04-28 01:20:19.000000000,2021-04-28 01:20:19.000000000,21,2,0,788152,4abeffe64c1b4009bfea81d03241e8395d2e8ea2,9,7,1,1,28223,Cedric Jeanneret,cjeanner,"Stop using (and breaking) /var/tmp for horizon temporary things

Until now, /var/tmp label was globally changed to another value than the
default, moving from tmp_t to container_file_t due to the "":z"" flag in
the horizon container mount.

This patch creates a subdirectory in /var/tmp, and mounts this location
directly in horizon's /var/tmp - this allows to NOT change anything in
horizon, while preventing potential leaks from other apps using this
location. It also prevents issues with SELinux denials on that location.

The special 1777 mode allows to ensure we get the right ""tmp"" mode on
the directory, meaning: drwxrwxrwt.

This patch also ensures we reset the label on /var/tmp during update and
upgrade.

Change-Id: I6c239065d4c92c9afc62ff4e513e6d097a06e218
Resolves: rhbz#1947532
Closes-Bug: #1925316
(cherry picked from commit bafd6aba099678846083989ce5fbdd0d09654db5)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I6c239065d4c92c9afc62ff4e513e6d097a06e218,openstack/tripleo-heat-templates,stable/victoria,horizon-tmp-glance-stable/victoria,I6c239065d4c92c9afc62ff4e513e6d097a06e218,Stop using (and breaking) /var/tmp for horizon temporary things,MERGED,2021-04-27 08:07:34.000000000,2021-04-28 01:20:11.000000000,2021-04-28 01:20:11.000000000,21,2,0,788151,c71b72b296b7de7b1371425be466e78901cc7e90,10,7,1,1,28223,Cedric Jeanneret,cjeanner,"Stop using (and breaking) /var/tmp for horizon temporary things

Until now, /var/tmp label was globally changed to another value than the
default, moving from tmp_t to container_file_t due to the "":z"" flag in
the horizon container mount.

This patch creates a subdirectory in /var/tmp, and mounts this location
directly in horizon's /var/tmp - this allows to NOT change anything in
horizon, while preventing potential leaks from other apps using this
location. It also prevents issues with SELinux denials on that location.

The special 1777 mode allows to ensure we get the right ""tmp"" mode on
the directory, meaning: drwxrwxrwt.

This patch also ensures we reset the label on /var/tmp during update and
upgrade.

Change-Id: I6c239065d4c92c9afc62ff4e513e6d097a06e218
Resolves: rhbz#1947532
Closes-Bug: #1925316
(cherry picked from commit bafd6aba099678846083989ce5fbdd0d09654db5)
"
openstack%2Fopenstack-helm~master~I7a1a7251c447cce0e2cd92737c2e5d875df3e4aa,openstack/openstack-helm,master,release-support,I7a1a7251c447cce0e2cd92737c2e5d875df3e4aa,Remove support for openstack releases older than T,ABANDONED,2021-04-23 19:14:36.000000000,2021-04-28 01:07:22.000000000,,2,1,0,787816,9be0c0f2946829f04bce1261fcec7f614bc3bd1c,3,1,1,2,21420,Gage Hugo,ghugo,"Remove support for openstack releases older than T

This change bumps each chart version up to the next greatest minor
version, signifying that openstack-helm will no longer support
older, EOL releases for each chart.

As a result, each chart will no longer support releases before T
as of the versions specified here.

Change-Id: I7a1a7251c447cce0e2cd92737c2e5d875df3e4aa
"
openstack%2Fkeystone~stable%2Ftrain~I75590c20e90170ed862f46f0de7d61c7810b5c90,openstack/keystone,stable/train,bug/1885753,I75590c20e90170ed862f46f0de7d61c7810b5c90,Retry update_user when sqlalchemy raises StaleDataErrors,MERGED,2021-03-26 17:49:38.000000000,2021-04-28 00:23:00.000000000,2021-04-28 00:20:12.000000000,51,0,1,783404,328cf33aab61775301adbb4c1f6abaa2f331cd94,20,5,5,3,5046,Lance Bragstad,ldbragst,"Retry update_user when sqlalchemy raises StaleDataErrors

Keystone's update_user() method in the SQL driver processes a lot of
information about how to update users. This includes evaluating password
logic and authentication attempts for PSI-DSS. This logic is evaluated
after keystone pulls the user record from SQL and before it exits the
context manager, which performs the write.

When multiple clients are all updating the same user reference, it's
more likely they will see an HTTP 500 because of race conditions exiting
the context manager. The HTTP 500 is due to stale data when updating
password expiration for old passwords, which happens when setting a new
password for a user.

This commit attempts to handle that case more gracefully than throwing a
500 by detecting StaleDataErrors from sqlalchemy and retrying.  The
identity sql backend will retry the request for clients that have
stale data change from underneath them.

Conflicts:
      keystone/tests/unit/test_backend_sql.py due to import order
      differences between train and ussuri. Also adjust the expected log
      message since the method path is different compared to older
      releases, which have the driver name in them (e.g., Identity).

Change-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90
Closes-Bug: 1885753
(cherry picked from commit ceae3566e83b26fd6a1679154eae9b0cef29da64)
(cherry picked from commit f47e635b8041542faa05e64606e66d2fbbc5f284)
(cherry picked from commit 5b7d4c80d484262018f937083050844648f07a11)
(cherry picked from commit 07d3a3d3ff534a5295842d4f236042b30536cd82)
(cherry picked from commit d4f48fc4e53f71d653e133104854f064fbb1b25f)
"
openstack%2Fneutron~stable%2Fwallaby~I708904b982d243359f2eeda809beae0321f1a7db,openstack/neutron,stable/wallaby,,I708904b982d243359f2eeda809beae0321f1a7db,[OVN] Only account for bound ports in metadata agent,MERGED,2021-04-27 10:05:17.000000000,2021-04-28 00:22:29.000000000,2021-04-28 00:20:19.000000000,37,22,0,788154,f748962e5acfe7c6f44f02aaf9883e7a71de63cd,10,5,1,4,8655,Jakub Libosvar,jlibosva,"[OVN] Only account for bound ports in metadata agent

Due to bug #1922934 there might be situations with stale ports
in the OVN database. When instances request metadata, the agent
will try to fetch all ports for that particular network with the
same IP address and there should be only one.

However, when there are stale ports in OVN database but not in
Neutron, those ports may have the same IP address and the result
is that metadata won't work. As the stale ports will never be
bound to any hypervisor, this patch is accounting only for
bound ports so that those ports don't interfere until they
eventually get fixed by the maintenance task.

Related-Bug: #1922934
Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: I708904b982d243359f2eeda809beae0321f1a7db
(cherry picked from commit 32e938e698f260af6896f6179a5ffc0838677124)
"
openstack%2Fneutron-tempest-plugin~master~I31e9cc2e006d66b8feb8bd5738d595974509c732,openstack/neutron-tempest-plugin,master,cleanup-devstack-gate,I31e9cc2e006d66b8feb8bd5738d595974509c732,jobs: remove devstack-gate references,MERGED,2021-03-08 18:50:22.000000000,2021-04-28 00:20:08.000000000,2021-04-28 00:20:08.000000000,0,14,0,779344,ad276cb34086866e74eb33b4fb97a4378d7acd6f,12,3,1,6,10459,Luigi Toscano,ltoscano,"jobs: remove devstack-gate references

Not needed by native Zuul v3 jobs.

Change-Id: I31e9cc2e006d66b8feb8bd5738d595974509c732
"
openstack%2Fproject-config~master~I5404ba40035f259e234c79529388d8af01fdc0ba,openstack/project-config,master,update-zk-servers,I5404ba40035f259e234c79529388d8af01fdc0ba,Limit grafana for zk to zk04-06,MERGED,2021-04-27 22:20:07.000000000,2021-04-28 00:08:23.000000000,2021-04-27 22:42:19.000000000,7,7,0,788374,6572d214905c751bed6f294c8dde1090ce40260d,8,3,1,1,4146,Clark Boylan,cboylan,"Limit grafana for zk to zk04-06

We have replaced zk01-03 with zk04-06. We are less interested in the
data for 01-03 on the dashboard now so limit what the dashboard renders
to 04-06.

Change-Id: I5404ba40035f259e234c79529388d8af01fdc0ba
"
openstack%2Fkayobe~master~I977943e81a79e4a40cca04d80d786ca49afd3d39,openstack/kayobe,master,,I977943e81a79e4a40cca04d80d786ca49afd3d39,Use OpenStack Wallaby release,MERGED,2021-04-26 07:04:50.000000000,2021-04-27 22:55:18.000000000,2021-04-27 22:53:07.000000000,16,10,0,787923,3f76d7d134d1f484d2ea21fddd0fbee00788e837,17,3,2,4,22629,Michal Nasiadka,mnasiadka,"Use OpenStack Wallaby release

Switch all dependencies to use the OpenStack Wallaby release.

This commit should be reverted on the master branch once the
Kayobe stable/wallaby branch has been cut and RC1 released.

Change-Id: I977943e81a79e4a40cca04d80d786ca49afd3d39
"
openstack%2Fopenstack-helm~master~Ib93eca9e6e84a60af2bd3ed5b90647966fa0aca3,openstack/openstack-helm,master,,Ib93eca9e6e84a60af2bd3ed5b90647966fa0aca3,Zuul.d: Making TLS gate voting again,MERGED,2021-04-22 14:21:53.000000000,2021-04-27 22:49:33.000000000,2021-04-27 22:47:00.000000000,3,9,2,787579,7f42914f7d92bffc6b8b96a7b65813bfbd962196,62,8,5,2,24780,Sangeet Gupta,sgupta,"Zuul.d: Making TLS gate voting again

Reverting https://review.opendev.org/c/openstack/openstack-helm/+/773651
since ubuntu-bionic-expanded seems to be available now.

Depends-on: https://review.opendev.org/c/openstack/openstack-helm/+/787557

Change-Id: Ib93eca9e6e84a60af2bd3ed5b90647966fa0aca3
"
openstack%2Fdesignate-tempest-plugin~master~I9eb5133268deece6329903d964e6a904b2197282,openstack/designate-tempest-plugin,master,fix_for_test_list_all_projects_recordsets,I9eb5133268deece6329903d964e6a904b2197282,"Improving  ""_create_client_recordset"" function",MERGED,2021-04-09 19:19:24.000000000,2021-04-27 22:21:27.000000000,2021-04-27 22:20:13.000000000,24,4,0,785720,dedb90667d56a1cf256441572a0ea56ea58ade40,17,8,1,1,28609,Arkady Shtempler,ashtempl,"Improving  ""_create_client_recordset"" function

1) Moving ""zone waiter"" after its cleanp
2) Adding ""recordset waiter""

Change-Id: I9eb5133268deece6329903d964e6a904b2197282
"
openstack%2Fneutron-lib~master~If6c8b72c85564dcf77faa255d8756829c9ba879f,openstack/neutron-lib,master,bug/1926315,If6c8b72c85564dcf77faa255d8756829c9ba879f,"Fix pylint>=2.8.0 error R1732 ""consider-using-with""",MERGED,2021-04-27 16:14:34.000000000,2021-04-27 22:17:19.000000000,2021-04-27 22:15:57.000000000,2,3,0,788323,ba36d60717b85d715e08556ffca23446431402eb,12,4,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Fix pylint>=2.8.0 error R1732 ""consider-using-with""

Closes-Bug: #1926315

Change-Id: If6c8b72c85564dcf77faa255d8756829c9ba879f
"
openstack%2Fopenstack-helm~master~I9927536a9b19cd21043e9d038656b7d3ccf9f2e9,openstack/openstack-helm,master,update-tls-gate,I9927536a9b19cd21043e9d038656b7d3ccf9f2e9,Update TLS job to use 32GB Node,ABANDONED,2021-04-23 18:31:08.000000000,2021-04-27 22:04:30.000000000,,1,1,1,787786,0eb88d6411b59a6bf6bc61cc30a210115f97101a,5,1,2,1,21420,Gage Hugo,ghugo,"Update TLS job to use 32GB Node

Change-Id: I9927536a9b19cd21043e9d038656b7d3ccf9f2e9
"
openstack%2Fopenstack-helm~master~I12a787555eb9225b6b2d208a48db34d94ac899c6,openstack/openstack-helm,master,test-tls,I12a787555eb9225b6b2d208a48db34d94ac899c6,Testing TLS Gate,ABANDONED,2021-04-19 20:52:01.000000000,2021-04-27 22:03:33.000000000,,1,6,0,786978,88da44ec7243452e2f1230474576d45dd6634fd5,3,1,1,1,21420,Gage Hugo,ghugo,"Testing TLS Gate

Change-Id: I12a787555eb9225b6b2d208a48db34d94ac899c6
"
openstack%2Fopenstack-helm~master~I67cf5466b67210dba9f890ff851f092477a41182,openstack/openstack-helm,master,tls-gate-testing,I67cf5466b67210dba9f890ff851f092477a41182,DNM - Testing TLS Gate,ABANDONED,2021-04-23 18:27:04.000000000,2021-04-27 22:03:21.000000000,,2,11,0,787785,7bad7030d2d16d503e2ee518ca1503346da47a13,5,1,2,2,21420,Gage Hugo,ghugo,"DNM - Testing TLS Gate

Change-Id: I67cf5466b67210dba9f890ff851f092477a41182
"
openstack%2Fcharm-cinder-ceph~master~Iec6caa0ba778fb3a17aba0fea357b05f68ee22be,openstack/charm-cinder-ceph,master,bug/1727184,Iec6caa0ba778fb3a17aba0fea357b05f68ee22be,Add note about lack of upgrade path,MERGED,2021-04-07 23:09:57.000000000,2021-04-27 21:14:45.000000000,2021-04-27 21:14:45.000000000,13,2,0,785294,bea6dd54b13cbaa9fd789ff066b2af719068a1c8,9,3,2,1,30561,Peter Matulis,pmatulis,"Add note about lack of upgrade path

It's not currently possible to upgrade to the
cinder-ceph way of doing things with a cloud
that relates cinder and ceph-mon directly.

Drive-by: Apply README template

Related-Bug: #1727184
Change-Id: Iec6caa0ba778fb3a17aba0fea357b05f68ee22be
"
openstack%2Fcharm-deployment-guide~master~I48209a83adfaf7d66d194750333b82459c137cc7,openstack/charm-deployment-guide,master,rabbit_cluster,I48209a83adfaf7d66d194750333b82459c137cc7,Add documentation for rabbitmq-cluster restart,ABANDONED,2020-11-18 17:00:56.000000000,2021-04-27 20:15:39.000000000,,37,0,11,763217,3ed8b6cc09ad20050b5d15fd42118a6ed31ac7ed,5,2,2,1,19298,Nicolas Bock,nicolasbock,"Add documentation for rabbitmq-cluster restart

This change adds documentation of how to restart a RabbitMQ cluster in
case of a power loss.

Change-Id: I48209a83adfaf7d66d194750333b82459c137cc7
Depends-On: I6520dc0f2e0fea55b292d0db2831547c584ee851
Bug: #1828988
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
"
openstack%2Fneutron~master~I6103fdbe54bb752a711e17b7a6c599b4204bcfcf,openstack/neutron,master,secure-rbac,I6103fdbe54bb752a711e17b7a6c599b4204bcfcf,Unit tests for Agent API secure-rbac-policies,MERGED,2021-01-27 14:18:11.000000000,2021-04-27 19:57:56.000000000,2021-04-27 19:55:34.000000000,226,0,24,772698,fcc8d5358eb1bf1405e621c1f2d6e60fa957f3cd,63,6,12,1,11975,Slawek Kaplonski,slaweq,"Unit tests for Agent API secure-rbac-policies

Partially-Implements blueprint: secure-rbac-roles

Change-Id: I6103fdbe54bb752a711e17b7a6c599b4204bcfcf
"
openstack%2Ftripleo-quickstart-extras~master~Ieb21fd8f3e895ea7611882f1e92f398efe2e77fa,openstack/tripleo-quickstart-extras,master,NovaHWMachineType_q35,Ieb21fd8f3e895ea7611882f1e92f398efe2e77fa,standalone: Remove custom NovaHWMachineType in role,MERGED,2021-04-08 10:12:39.000000000,2021-04-27 19:49:52.000000000,2021-04-27 19:49:52.000000000,0,1,0,785365,8987b2b6514c7477313cfe1e205bbe1d5bd452cf,23,9,1,1,10135,Lee Yarwood,lyarwood,"standalone: Remove custom NovaHWMachineType in role

This is no longer required as I808c033c34dfe1068ebe17dc72fdee5ef63613d8
has removed the default versioned machine types from NovaHWMachineType.

Change-Id: Ieb21fd8f3e895ea7611882f1e92f398efe2e77fa
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/785364
"
openstack%2Ftripleo-heat-templates~master~I808c033c34dfe1068ebe17dc72fdee5ef63613d8,openstack/tripleo-heat-templates,master,NovaHWMachineType_q35,I808c033c34dfe1068ebe17dc72fdee5ef63613d8,nova: Remove versioned default machine types,MERGED,2021-04-08 10:10:40.000000000,2021-04-27 19:35:02.000000000,2021-04-27 19:33:06.000000000,7,1,0,785364,9b8413e79658989a7217c2e9a887af4d30eb0e64,15,6,3,2,10135,Lee Yarwood,lyarwood,"nova: Remove versioned default machine types

Instead rely on the unversioned defaults provided by Nova [1].

The use of versioned machine types should be limited to specific
downstream releases to ensure the corner case of live migrations between
X.Y+1 and X.Y releases of RHEL will work.

Removal of these versioned machine types also allows TripleO to test
with both EL based and Fedora based compute hosts that version their
machine types differently as discussed previously in bug #1819452.

[1] https://github.com/openstack/nova/blob/50fdbc752a9ca9c31488140ef2997ed59d861a41/nova/virt/libvirt/utils.py#L566-L575

Change-Id: I808c033c34dfe1068ebe17dc72fdee5ef63613d8
Related-Bug: #1819452
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I2476c9c2e1c6be5e62e6e84b14ea1c4240578871,openstack/python-tripleoclient,stable/wallaby,create-wallaby,I2476c9c2e1c6be5e62e6e84b14ea1c4240578871,Update .gitreview for stable/wallaby,MERGED,2021-04-15 17:22:41.000000000,2021-04-27 19:34:45.000000000,2021-04-27 19:32:43.000000000,1,0,0,786470,f2f40a98e4ad0f994a05001a4bd295d1a4fdd160,8,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/wallaby

Change-Id: I2476c9c2e1c6be5e62e6e84b14ea1c4240578871
"
openstack%2Ftripleo-heat-templates~master~I9f6a630ce31e63d222c32eee9ab4a0156aa2bbe3,openstack/tripleo-heat-templates,master,,I9f6a630ce31e63d222c32eee9ab4a0156aa2bbe3,"Simplify keystone, iscsid service templates",MERGED,2021-04-26 04:08:08.000000000,2021-04-27 19:32:48.000000000,2021-04-27 19:32:48.000000000,64,119,0,787911,b7f0e066e2c61aa70a8499863725b65ae1d6be1c,12,4,2,2,8833,Rabi Mishra,rabi,"Simplify keystone, iscsid service templates

Change-Id: I9f6a630ce31e63d222c32eee9ab4a0156aa2bbe3
"
openstack%2Felection~master~Ib3c5e52733e189860fd94488a1d5997ca8b20e82,openstack/election,master,setup-xena-election,Ib3c5e52733e189860fd94488a1d5997ca8b20e82,Jeremy Stanley resigning as an official (again),MERGED,2021-02-26 18:50:19.000000000,2021-04-27 19:28:56.000000000,2021-04-27 19:27:48.000000000,0,1,0,777811,eb546847c7829e233dbe3cdb4c526ff192264bf4,13,5,2,1,5263,Jeremy Stanley,fungi,"Jeremy Stanley resigning as an official (again)

Since there's a good influx of volunteer OpenStack technical
election officials this round, I'm dropping back off the duty
roster. I'll still be around to help troubleshoot/patch the tooling
and answer questions.

Change-Id: Ib3c5e52733e189860fd94488a1d5997ca8b20e82
"
openstack%2Fpython-manilaclient~master~Idc43420278ec2a072b12b3e4278a6ca6a0375e86,openstack/python-manilaclient,master,,Idc43420278ec2a072b12b3e4278a6ca6a0375e86,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 09:11:06.000000000,2021-04-27 19:25:54.000000000,2021-04-27 19:24:40.000000000,4,4,0,788226,7ecc819d1985eab40fac9086d16ea23c9b106f26,10,5,1,1,32326,YuehuiLei,YuehuiLei,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
Change-Id: I5331527e7068cd9721b09fce6fcf9aeaddb63e5e

Change-Id: Idc43420278ec2a072b12b3e4278a6ca6a0375e86
"
openstack%2Ftempest~master~I9063a94c7d689d0b13794bfae932462372c578ed,openstack/tempest,master,bp/glance-unified-quotas,I9063a94c7d689d0b13794bfae932462372c578ed,Add tests for glance unified quotas,ABANDONED,2021-04-27 19:13:23.000000000,2021-04-27 19:14:19.000000000,,206,0,0,788349,f0a9acf917000e7d26a4dca52d7b34e66b74685a,2,0,1,1,4393,Dan Smith,danms,"Add tests for glance unified quotas

Related to blueprint glance-unified-quotas
Depends-On: https://review.opendev.org/c/openstack/devstack/+/788056
Change-Id: I08ccf5627ba98173507791c10fef0e7917880bc3

Change-Id: I9063a94c7d689d0b13794bfae932462372c578ed
"
openstack%2Fopenstack-helm-infra~master~Ic63fd916289cb05411544cb33d5fdeed1352b380,openstack/openstack-helm-infra,master,prevent_splitbrain,Ic63fd916289cb05411544cb33d5fdeed1352b380,Prevent splitbrain during full Galera restart,MERGED,2020-01-23 16:47:09.000000000,2021-04-27 18:46:59.000000000,2020-01-31 03:28:59.000000000,34,3,2,704034,b0bb8dfa7a2196d484439b5f8aeb5faa029d45c8,12,11,1,1,29013,Alex Grudev,ogrudev,"Prevent splitbrain during full Galera restart

This patch introduces new cluster status ""reboot""
which is set by leader node hence other nodes will
start mysql without ""--wsrep-new-cluster"" option.
Before this following situation took place:

All pods go down one by one with some offset;
First and second nodes have max seqno;
The script on the first node detects there are no active
backends and starts timeout loop;
The script on the second node detects there are no active
backends and starts timeout loop (with approx. 20 sec offset
from first node) ;
Timeout loop finishes on first node, it checks highest seqno
and lowest hostname  and wins the ability to start cluster.
Mysql is started with “--wsrep-new-cluster” parameter.
Seqno is set to “-1” for this node after mysql startup;
Periodic job syncs values from grastate file to configmap;
Timeout loop finishes on second node. It checks node with
highest seqno and lowest hostname and since seqno is already
“-1” for first node, the second node decides that it should
lead the cluster startup and executes mysql with “--wsrep-new-cluster”
option as well which leads to split brain

Change-Id: Ic63fd916289cb05411544cb33d5fdeed1352b380
"
openstack%2Freleases~master~I47e48b9f1a4f5b3f8f3525b0aed57c4db441c6f3,openstack/releases,master,,I47e48b9f1a4f5b3f8f3525b0aed57c4db441c6f3,New feature release for oslo.config project.,MERGED,2021-04-27 11:50:07.000000000,2021-04-27 18:26:30.000000000,2021-04-27 18:26:30.000000000,5,0,0,788252,0be6c5f2c5800a83fe990b9a5595f1c0c24e887d,8,3,1,1,31245,Daniel Bengtsson,damani42,"New feature release for oslo.config project.

Adding the missing HostDomain config option.

Change-Id: I47e48b9f1a4f5b3f8f3525b0aed57c4db441c6f3
"
openstack%2Fnova~stable%2Fvictoria~Ie653e5ec69d16ae469f1f8171fee85aea754edff,openstack/nova,stable/victoria,bug/1837995,Ie653e5ec69d16ae469f1f8171fee85aea754edff,Dynamically archive FK related records in archive_deleted_rows,MERGED,2021-04-06 22:49:20.000000000,2021-04-27 18:25:13.000000000,2021-04-27 18:23:29.000000000,164,89,3,785069,7b4f4796478941eafa9c0997f7ef03293c442d94,17,4,3,3,4690,melanie witt,melwitt,"Dynamically archive FK related records in archive_deleted_rows

Currently, it is possible to ""partially archive"" the database by
running 'nova-manage db archive_deleted_rows' with --max_rows or by
interrupting the archive process in any way. When this happens, it is
possible to have archived a record with a foreign key relationship to a
parent record (example: 'instance_extra' table record is archived while
the 'instances' table record remains).

When an instance's records become ""split"" in this way, any API request
that can (1) access the deleted instance and (2) tries to access data
that should be in a child table (example: the embedded flavor for an
instance) will fail with an OrphanedObjectError and HTTP 500 to the
user. Examples of APIs that are affected by this are the tenant usage
APIs and listing of deleted instances as admin.

In the tenant usage example, the API looks at deleted instances to
calculate usage over a time period. It pulls deleted and non-deleted
instances and does instance.get_flavor() to calculate their usage. The
flavor data is expected to be present because
expecteds_attrs=['flavor'] is used to do a join with the
'instance_extra' table and populate the instance object's flavor data.
When get_flavor() is called, it tries to access the instance.flavor
attribute (which hasn't been populated because the 'instance_extra'
record is gone). That triggers a lazy-load of the flavor which loads
the instance from the database again with expected_attrs=['flavor']
again which doesn't populate instance.flavor (again) because the
'instance_extra' record is gone. Then the Instance._load_flavor code
intentionally orphans the instance record to avoid triggering
lazy-loads while it attempts to populate instance.flavor,
instance.new_flavor, and instance.old_flavor. Finally, another
lazy-load is triggered (because instance.flavor is still not populated)
and fails with OrphanedObjectError.

One way to solve this problem is to make it impossible for
archive_deleted_records to orphan records that are related by foreign
key relationships. The approach is to process parent tables first
(opposite of today where we process child tables first) and find all of
the tables that refer to it by foreign keys, create and collect
insert/delete statements for those child records, and then put them all
together in a single database transaction to archive all related
records ""atomically"". The idea is that if anything were to interrupt
the transaction (errors or other) it would roll back and keep all the
related records together. Either all or archived or none are archived.

This changes the logic of the per table archive to discover tables that
refer to the table by foreign keys and generates insert/delete query
statements to execute in the same database transaction as the table
archive itself. The extra records archived along with the table are
added to the rows_archived result. The existing code for ""archiving
records if instance is deleted"" also has to be removed along with this
because the new logic does the same thing dynamically and makes it
obsolete. Finally, some assertions in the unit tests need to be changed
or removed because they were assuming certain types of archiving
failures due to foreign key constraint violations that can no longer
occur with the new dynamic logic for archiving child records.

Closes-Bug: #1837995

Conflicts:
    nova/db/sqlalchemy/api.py

NOTE(melwitt): The conflict is because change
I23bb9e539d08f5c6202909054c2dd49b6c7a7a0e (Remove six.text_type (1/2))
is not in Victoria.

Change-Id: Ie653e5ec69d16ae469f1f8171fee85aea754edff
(cherry picked from commit becb94ae643ab4863daa564783646921b4a2b372)
"
openstack%2Frequirements~master~I3b7fb5db20fa1203cac66059cbdc2b2b541c6c97,openstack/requirements,master,openstack/requirements/constraints,I3b7fb5db20fa1203cac66059cbdc2b2b541c6c97,Updated from generate-constraints,ABANDONED,2021-04-27 06:20:34.000000000,2021-04-27 18:13:44.000000000,,6,6,0,788163,db6f6b41d6622a592b5c196d79f68179f0653a5b,4,1,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I3b7fb5db20fa1203cac66059cbdc2b2b541c6c97
"
openstack%2Fmanila-ui~master~I92e87282020047c7fad055cae92f2382c4193597,openstack/manila-ui,master,bp/remove-nova-net-plugin,I92e87282020047c7fad055cae92f2382c4193597,Remove nova networking,MERGED,2021-04-17 01:46:07.000000000,2021-04-27 18:09:21.000000000,2021-04-27 18:07:53.000000000,9,28,2,786748,4edb837a1b5492b14b05d00236337525bdcde686,10,5,1,6,16643,Goutham Pacha Ravi,gouthamr,"Remove nova networking

This is essentially dead code elimination
from manila-ui at this point since manila
and python-manilaclient dropped support
in the Ocata release.

Change-Id: I92e87282020047c7fad055cae92f2382c4193597
Partially-implements: bp remove-nova-net-plugin
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fkolla~master~If21a21296489c1f243bb46f2595ff94d999bd686,openstack/kolla,master,,If21a21296489c1f243bb46f2595ff94d999bd686,neutron: Remove vmware-nsx and networking-mlx from binary,MERGED,2021-04-27 15:26:21.000000000,2021-04-27 17:59:11.000000000,2021-04-27 17:57:47.000000000,14,7,1,788317,a4f6a8f05b45838338ee1c6a78f278d49486ac03,9,3,1,5,22629,Michal Nasiadka,mnasiadka,"neutron: Remove vmware-nsx and networking-mlx from binary

Those plugins have been already removed from source images, this
change removes them from binary.

Change-Id: If21a21296489c1f243bb46f2595ff94d999bd686
"
openstack%2Fneutron-tempest-plugin~master~If800983a48338ceaf4aa52f4a970d3d87a977fb1,openstack/neutron-tempest-plugin,master,multi_ping,If800983a48338ceaf4aa52f4a970d3d87a977fb1,"Implements a method to check connectivity between multiple servers, each server in its own network.",ABANDONED,2021-04-27 17:18:05.000000000,2021-04-27 17:25:25.000000000,,112,0,0,788331,5d4a8cec2a600cb850a3c0714d88f9b2b69ed9a5,3,3,1,1,33341,Maor Blaustein,blue,"Implements a method to check connectivity between multiple servers,
each server in its own network.

- Each server pings to the next server.
- Each server receives and sends a ping.
- Checks ping to floating and fixed ip for each server.

Change-Id: If800983a48338ceaf4aa52f4a970d3d87a977fb1
"
openstack%2Fkolla~stable%2Fwallaby~Ia4d326601d14c5d55e8f67d8996458fc796583ea,openstack/kolla,stable/wallaby,,Ia4d326601d14c5d55e8f67d8996458fc796583ea,Disable trove for Debian/binary,MERGED,2021-04-26 17:56:30.000000000,2021-04-27 17:22:09.000000000,2021-04-27 17:20:48.000000000,1,0,0,787987,13abc31c2f34ef8cf8772c4209ad0102c839d2ec,12,3,1,1,30491,Radosław Piliszek,yoctozepto,"Disable trove for Debian/binary

Package installation fails:

Setting up trove-common (1:14.0.0-2~bpo10+1) ...
install: cannot stat '/usr/share/trove-common/api-paste.ini': No such file or directory
dpkg: error processing package trove-common (--configure):
 installed trove-common package post-installation script subprocess returned error exit status 1

Change-Id: Ia4d326601d14c5d55e8f67d8996458fc796583ea
(cherry picked from commit 51c3c90af9a0c4ed27b4af5e0650b4e3a9eaeb53)
"
openstack%2Fgrenade~master~If38096aedac5c528a4feb5f70992afa4e13d6f67,openstack/grenade,master,,If38096aedac5c528a4feb5f70992afa4e13d6f67,References to review.openstack.org are replaced with review.opendev.org,MERGED,2021-04-26 19:34:25.000000000,2021-04-27 17:18:16.000000000,2021-04-27 00:14:45.000000000,3,3,5,788068,41364698b275498610506b06960510ea86b2a783,14,3,3,3,33379,Anand Bhat,anandgvb,"References to review.openstack.org are replaced with review.opendev.org

Closes-Bug: #1832367
Change-Id: If38096aedac5c528a4feb5f70992afa4e13d6f67
"
openstack%2Fnova~stable%2Fvictoria~Ia225ee86536248d2540de0d7a1cd012333e708a2,openstack/nova,stable/victoria,bug/1837995,Ia225ee86536248d2540de0d7a1cd012333e708a2,Add functional test for bug 1837995,MERGED,2021-04-06 22:49:20.000000000,2021-04-27 17:14:01.000000000,2021-04-27 17:07:04.000000000,47,0,0,785068,21241b38dd4bc2c74a69aed489ada5c611395920,12,6,1,1,4690,melanie witt,melwitt,"Add functional test for bug 1837995

This adds a functional test to reproduce the bug where when calling an
API that will examine a deleted instance record (examples: GET /servers/detail
and GET /os-simple-tenant-usage), if that instance's related records
have only been partially archived (example: 'instance_extra' record was
archived but 'instances' record has not been archived yet) then the API
call fails with the following error:

  Unexpected API Error ... <class 'nova.exception.OrphanedObjectError'>
  (HTTP 500)

Related-Bug: #1837995

Change-Id: Ia225ee86536248d2540de0d7a1cd012333e708a2
(cherry picked from commit 3d4e53f832792cc49001f1588164e28b84c16d7a)
"
openstack%2Fopenstack-tempest-skiplist~master~I1a54fd388dd9de1b8422e6d39dba6e4a6c285078,openstack/openstack-tempest-skiplist,master,,I1a54fd388dd9de1b8422e6d39dba6e4a6c285078,Removing tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern,MERGED,2021-04-08 20:53:32.000000000,2021-04-27 17:12:38.000000000,2021-04-27 17:10:37.000000000,0,11,0,785512,9404b81650843676a5469d4580a9528d98612379,14,3,3,1,32458,Ananya,frenzyfriday,"Removing tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern

Removing tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern to check if periodic-tripleo-ci-centos-8-standalone-upgrade-ussuri fails.
Corresponding testproject: https://review.rdoproject.org/r/c/testproject/+/33175
Related to Bug: https://bugs.launchpad.net/tripleo/+bug/1918478

Change-Id: I1a54fd388dd9de1b8422e6d39dba6e4a6c285078
"
openstack%2Fnova~stable%2Fvictoria~Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f,openstack/nova,stable/victoria,bug/1837995,Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f,Centralize sqlite FK constraint enforcement,MERGED,2021-04-06 22:49:20.000000000,2021-04-27 17:12:35.000000000,2021-04-27 17:06:41.000000000,22,30,0,785067,382d64ea36e5cf3b47929fee0b93539d2f126975,12,5,1,4,4690,melanie witt,melwitt,"Centralize sqlite FK constraint enforcement

There's a TODO in the code to centralize foreign key constraint
enforcement for sqlite for unit and functional tests and we're missing
enforcement of FK constraints in a couple of test classes that should
have it.

This resolves the TODO and turns on FK constraint enforcement where it
is missing. Do this to enhance testing in preparation for a proposed
change to the database archiving logic later in this patch series.

Conflicts:
    nova/test.py

NOTE(melwitt): The conflicts are because of the following changes not
in Victoria:

  * Ib2c406327fef2fb4868d8050fc476a7d17706e23 (Remove six.moves)
  * Ide65686cf02463045f5c32771ca949802b19636f (Remove
    six.binary_type/integer_types/string_types)

Change-Id: Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f
(cherry picked from commit 172024db7174bdac05a3d3172c645b0db83ae41e)
"
openstack%2Fpuppet-openstack-integration~master~Ia086679798eaf4eb8eed83867125defe689909e3,openstack/puppet-openstack-integration,master,,Ia086679798eaf4eb8eed83867125defe689909e3,Drop syntax job on CentOS8,MERGED,2021-04-23 08:39:29.000000000,2021-04-27 17:06:33.000000000,2021-04-27 17:06:33.000000000,0,9,0,787689,fc340a3da47a8c68b7573d86680b94dc04d69f0c,11,3,1,2,9816,Takashi Kajinami,kajinamit,"Drop syntax job on CentOS8

Currently we run syntax job on Ubuntu only for usual modules while
we run also one on CentOS8 for libraries.
Since syntax job doesn't depend on the host OS, it's enough if we run
the job on Ubuntu.

Change-Id: Ia086679798eaf4eb8eed83867125defe689909e3
"
openstack%2Fopenstack-tempest-skiplist~master~Ifc35c7d4cf43ef7e5b1575d33463600b5174ce16,openstack/openstack-tempest-skiplist,master,,Ifc35c7d4cf43ef7e5b1575d33463600b5174ce16,Removing neutron_tempest_plugin.scenario.admin.test_floatingip.FloatingIpTestCasesAdmin.test_two_vms_fips,MERGED,2021-04-14 14:11:22.000000000,2021-04-27 17:04:27.000000000,2021-04-27 17:03:12.000000000,0,9,0,786249,41ba0bbc0d7f63abd3d9802d5ccdda3e9e6c44cc,10,3,1,1,32458,Ananya,frenzyfriday,"Removing neutron_tempest_plugin.scenario.admin.test_floatingip.FloatingIpTestCasesAdmin.test_two_vms_fips

Removing neutron_tempest_plugin.scenario.admin.test_floatingip.FloatingIpTestCasesAdmin.test_two_vms_fips to check if periodic-tripleo-ci-centos-8-ovb-1ctlr_2comp-featureset020-train fails on libvirt 7  issue

Related to Bug: https://bugs.launchpad.net/tripleo/+bug/1921918

Change-Id: Ifc35c7d4cf43ef7e5b1575d33463600b5174ce16
"
openstack%2Fvalidations-libs~master~Ic38690bd719658fe02a30691d112f3429523802a,openstack/validations-libs,master,cli/run/results,Ic38690bd719658fe02a30691d112f3429523802a,Raise exception if result is empty,MERGED,2021-04-20 15:24:09.000000000,2021-04-27 16:58:00.000000000,2021-04-27 16:51:13.000000000,29,6,0,787219,6329e3b63a70a4499f02c4bc6c2ee9e066951302,17,4,4,2,16515,mbu,matbu,"Raise exception if result is empty

If results is empty in cli/run.py then we should raise
a RuntimeError otherwise, it will returns 0 without any
information.

Change-Id: Ic38690bd719658fe02a30691d112f3429523802a
"
openstack%2Fvalidations-libs~master~I41f15c28dfddd911294ecc8e3e0331a4956dc5d8,openstack/validations-libs,master,refactor/colors,I41f15c28dfddd911294ecc8e3e0331a4956dc5d8,CLI colors refactored,MERGED,2021-04-20 08:40:00.000000000,2021-04-27 16:56:50.000000000,2021-04-27 16:50:52.000000000,128,13,4,787165,03981dba8a8923cf94ed947d1391752bb9213e04,21,10,5,3,32926,Jiri Podivin,jpodivin,"CLI colors refactored

Colors are now stored in their own module.
Output coloring was factored out into a separate
utility function.

State => color mapping is now implemented as a
dictionary instead of multiple conditionals.

Tests included.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I41f15c28dfddd911294ecc8e3e0331a4956dc5d8
"
openstack%2Ftripleo-common~stable%2Fwallaby~Ia09927e33653889356782c264f1e2769c40b938b,openstack/tripleo-common,stable/wallaby,create-wallaby,Ia09927e33653889356782c264f1e2769c40b938b,Update .gitreview for stable/wallaby,MERGED,2021-04-15 17:23:35.000000000,2021-04-27 16:56:48.000000000,2021-04-27 16:52:28.000000000,1,0,0,786473,24c915a84347bca16b6f588fb291d086d20e0319,9,4,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/wallaby

Change-Id: Ia09927e33653889356782c264f1e2769c40b938b
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~Id853b1e80d690734ac9c32a1b914e49608f6cc43,openstack/python-tripleoclient,stable/train,undercloud/preflight-stable/ussuri-stable/train,Id853b1e80d690734ac9c32a1b914e49608f6cc43,Use validation framework for running undercloud checkdisk,MERGED,2021-04-12 05:54:27.000000000,2021-04-27 16:56:47.000000000,2021-04-27 16:50:20.000000000,13,9,9,785604,429169bde6975afd9606b2d410d81e6f32ba2a31,25,6,4,1,16515,mbu,matbu,"Use validation framework for running undercloud checkdisk

The validations playbook is own and moved under the VF
ansible dir.
The undercloud preflight check should use VF for running it.

Change-Id: Id853b1e80d690734ac9c32a1b914e49608f6cc43
(cherry picked from commit 3dd2c83883960bd279e82b9fb0d4a3cb16c5e2cb)
(cherry picked from commit 8c7942ed2555dad8c34a7dada88fff5854db1151)
"
openstack%2Ftripleo-validations~master~I48b237d1a8f3bab3b0817db5edb9aade0a941e42,openstack/tripleo-validations,master,broadexceptions,I48b237d1a8f3bab3b0817db5edb9aade0a941e42,Exceptions constraints improved,MERGED,2021-04-15 11:35:01.000000000,2021-04-27 16:52:11.000000000,2021-04-27 16:52:11.000000000,9,9,0,786391,64994c781b7ce687af8650306e7656036cb2feba,9,6,2,2,32926,Jiri Podivin,jpodivin,"Exceptions constraints improved

Exceptions were too general, potentially swallowing
unexpected issues and hiding them from the view of maintainers.

All of the problematic except blocks were refactored
to only consider exceptions directly related to their try blocks.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I48b237d1a8f3bab3b0817db5edb9aade0a941e42
"
openstack%2Fvalidations-common~master~Iad8759410a922c17d8f05ab1d85b41629ec4b800,openstack/validations-common,master,exceptionscause,Iad8759410a922c17d8f05ab1d85b41629ec4b800,Fixed exception handling of the print_tuple_table method.,MERGED,2021-04-16 12:40:55.000000000,2021-04-27 16:51:37.000000000,2021-04-27 16:51:37.000000000,8,3,0,786640,62eb4c0cb48f4769748230232802641974f8b5bb,13,8,4,1,32926,Jiri Podivin,jpodivin,"Fixed exception handling of the print_tuple_table method.

KeyError was changed to IndexError
ValueError was changed to KeyError

Tuples don't have keys so the KeyError couldn't have
occured under any circumstances.

IndexError, on the other hand, can.

ValueError couldn't have been raised by the code.
KeyError is more appropriate in the context.

RuntimeError was replaced with more fitting TypeError.

Exceptions now indicate cause where applicable.

Raising exception with `from` sets the __cause__ attribute.

Error messages were expanded.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iad8759410a922c17d8f05ab1d85b41629ec4b800
"
openstack%2Ftripleo-validations~stable%2Ftrain~Ifef837dc884c7338f9396214e36a197cdbb060c6,openstack/tripleo-validations,stable/train,LP:1923091,Ifef837dc884c7338f9396214e36a197cdbb060c6,Use a more targeted job for tripleo-validations,MERGED,2021-04-15 19:58:58.000000000,2021-04-27 16:51:32.000000000,2021-04-27 16:51:32.000000000,39,27,0,786497,74b064c7bd3522743b29f276b389461593492946,22,5,6,2,11491,Gael Chamoulaud,gchamoul,"Use a more targeted job for tripleo-validations

* using multinode jobs for validations is too heavy
and uses too much resources
* remove standalone004 - worthless sans rpm build
* add a validations job that targets validations

Change-Id: Ifef837dc884c7338f9396214e36a197cdbb060c6
(cherry picked from commit aa8d53b1d514bb6b90d67b288055d7df73a8d0a2)
(cherry picked from commit 5ab70c56ab0c3a669a244ad57166e7d5df45c180)
(cherry picked from commit aed39ea68dd3fe85a2bd9c4fd3dfee153314c686)
"
openstack%2Ftripleo-heat-templates~master~I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b,openstack/tripleo-heat-templates,master,nodedatalookup_new,I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b,Add a boolean to allow disk overrides through NodeDataLookup,MERGED,2021-03-20 13:42:48.000000000,2021-04-27 16:50:11.000000000,2021-04-27 16:50:11.000000000,51,21,16,781967,57add501a4f66be788f0267f9422c98a0228c14e,61,5,24,3,7130,David Hill,dhill,"Add a boolean to allow disk overrides through NodeDataLookup

Add a boolean to allow disk overrides through NodeDataLookup and use
the following hiera data parameters to use device persistent naming for swift:

NodeDataLookup:
  ""UUID"": {
          ""swift::storage::disks::args"": {
          ""scsi-331402ec012ad6a72"": { ""base_dir"": ""/dev/disk/by-id/"" },
          ""scsi-331402ec012ad6a73"": { ""base_dir"": ""/dev/disk/by-id/"" }
          },
          ""tripleo::profile::base::swift::ringbuilder::raw_disks"": [
          "":%PORT%/scsi-331402ec012ad6a72"",
          "":%PORT%/scsi-331402ec012ad6a73"" ]
          }
Change-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b
"
openstack%2Fpuppet-keystone~master~Ia69bc2ea8d58ad813d107d532ecaa648b7278762,openstack/puppet-keystone,master,hc-typo,Ia69bc2ea8d58ad813d107d532ecaa648b7278762,Fix a typo in file header,MERGED,2021-04-20 16:09:23.000000000,2021-04-27 16:42:32.000000000,2021-04-27 16:42:32.000000000,1,1,0,787235,2f1ff7b722146e30e7ad6bf9b3f26712604f344b,12,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix a typo in file header

Change-Id: Ia69bc2ea8d58ad813d107d532ecaa648b7278762
"
openstack%2Fpuppet-nova~master~Ie2e2c40a37c5d206ef483f48fac04a027f793b4b,openstack/puppet-nova,master,cleanup-scheduler-opts,Ie2e2c40a37c5d206ef483f48fac04a027f793b4b,Deprecate support for [scheduler] periodic_task_interval,MERGED,2021-04-26 12:41:56.000000000,2021-04-27 16:14:04.000000000,2021-04-27 16:12:24.000000000,24,17,0,787968,3375efcfd45ec2f417bc94f99701a5f68c31f731,11,3,2,3,9816,Takashi Kajinami,kajinamit,"Deprecate support for [scheduler] periodic_task_interval

... because the parameter was removed from nova[1].

[1] 9d53f366ff8c9a29c4ddbf0fa27febbce7442fc9

Change-Id: Ie2e2c40a37c5d206ef483f48fac04a027f793b4b
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I90b1d7cb837d9139a95fcb8367f6ee405582d03b,openstack/kolla-ansible,stable/wallaby,,I90b1d7cb837d9139a95fcb8367f6ee405582d03b,Use wallaby images in wallaby deployments,MERGED,2021-04-27 13:12:10.000000000,2021-04-27 16:01:35.000000000,2021-04-27 16:00:02.000000000,2,2,0,788292,4f87d9f36adbe43d2d26fc093fd1098f39d77ed7,10,3,1,2,26285,wu.chunyang,wu.chunyang,"Use wallaby images in wallaby deployments

we should use wallaby image in wallby deployment rather than master.

Change-Id: I90b1d7cb837d9139a95fcb8367f6ee405582d03b
"
openstack%2Ftempest~master~I6d86fc23b00f9685a41193dc34517cdbaa395b9a,openstack/tempest,master,,I6d86fc23b00f9685a41193dc34517cdbaa395b9a,Fix test_volume_crud_with_volume_type when multi backend setup,NEW,2021-02-09 13:33:07.000000000,2021-04-27 15:37:23.000000000,,37,11,1,774643,3391b101c6a83ca4e090ad0417f8796420288c71,12,5,2,1,11075,Benny Kopilov,bkopilov,"Fix test_volume_crud_with_volume_type when multi backend setup

When having a multiple backend setup with cinder , storage_protocols
and vendor_name are per cinder backend.

Added support for multi-backend setup, get the storage_protocol and
vendor name from  cinder get-pool info (cinder driver) per requested
backend.

In case we do not enable multi-backend in tempest.conf we should
retrieve data from tempest.conf (vendor_name)

Change-Id: I6d86fc23b00f9685a41193dc34517cdbaa395b9a
"
openstack%2Fneutron-tempest-plugin~master~I8c8b7c11c63ffeee4f776695f32ae686793299b3,openstack/neutron-tempest-plugin,master,bug/1923633,I8c8b7c11c63ffeee4f776695f32ae686793299b3,Wait for HA router to be active on at least one agent,MERGED,2021-04-21 08:39:47.000000000,2021-04-27 15:06:53.000000000,2021-04-27 11:27:40.000000000,29,4,7,787324,edf3cba046fd960bfbd6a17890ad995fd2c7d955,50,3,4,7,11975,Slawek Kaplonski,slaweq,"Wait for HA router to be active on at least one agent

Due to related bug it may happend that HA router will become active on
one of the L3 agents after few minutes since it was created. And during
that time when it's in ""standby"" mode, VM can be spawned, it will try
to get metadata but haproxy in the router namespace is still not running
so there will be no metadata available.
That will end up with SSH authentication error as there will be no
proper SSH key configured in the VM.

Originally this patch was intended just as a workaround for the related
bug but I think it's worth to keep it even if that bug will be solved on
the Neutron's side as it may give us more clear information about the
real problem in the future if something similar will happen and HA
router will not be active on any of the L3 agents.

Related-Bug: #1923633
Change-Id: I8c8b7c11c63ffeee4f776695f32ae686793299b3
"
openstack%2Fmasakari~master~Ifce67e64581804b129c05c5774ad59067a15a6b0,openstack/masakari,master,,Ifce67e64581804b129c05c5774ad59067a15a6b0,[TrivialFix] Improve one method's name,MERGED,2021-04-27 01:45:10.000000000,2021-04-27 15:06:06.000000000,2021-04-27 15:04:45.000000000,17,16,1,788103,bcd8d00e452b9762a9e297eb285db4cbeb633538,14,3,3,5,24501,sue,suzhengwei,"[TrivialFix] Improve one method's name

From the usage, it should be service disabled, rather than service down.

Change-Id: Ifce67e64581804b129c05c5774ad59067a15a6b0
"
openstack%2Fcharm-guide~master~If47d33eff64598d134ae10edb15e6693306d0399,openstack/charm-guide,master,bug/1911013,If47d33eff64598d134ae10edb15e6693306d0399,Add nova-compute 'list-compute-nodes' action to release notes,MERGED,2021-04-27 14:00:03.000000000,2021-04-27 14:59:07.000000000,2021-04-27 14:57:34.000000000,8,0,5,788302,6aab781214ec6e7fc4254f05eba70eb369b17075,13,2,3,1,31289,Aurelien Lourot,lourot,"Add nova-compute 'list-compute-nodes' action to release notes

Change-Id: If47d33eff64598d134ae10edb15e6693306d0399
Closes-Bug: #1911013
"
openstack%2Fopenstack-helm~master~If256fbddf977ebdc779e93c0de07089dacd8cd60,openstack/openstack-helm,master,zanata/translations,If256fbddf977ebdc779e93c0de07089dacd8cd60,Imported Translations from Zanata,MERGED,2021-04-27 07:41:44.000000000,2021-04-27 14:52:44.000000000,2021-04-27 14:47:05.000000000,11,2,0,788192,a56b007243d8ec2b89deb12a4224766fcd2a2461,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If256fbddf977ebdc779e93c0de07089dacd8cd60
"
openstack%2Fkolla~stable%2Fvictoria~I499251d13ca77aea2215f8a879b7bb8dd51f1c9f,openstack/kolla,stable/victoria,,I499251d13ca77aea2215f8a879b7bb8dd51f1c9f,rabbitmq: Move to packagecloud,MERGED,2021-04-21 18:21:07.000000000,2021-04-27 14:52:27.000000000,2021-04-27 14:50:35.000000000,25,37,0,787383,cbf43757f63e3052d12b1e94f4f4aa5fe494ebfe,31,5,2,7,30491,Radosław Piliszek,yoctozepto,"rabbitmq: Move to packagecloud

bintray is being shut down 1st of May 2021, rabbitmq docs direct
users to packagecloud - so let's move.

For Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340
(base: drop Linaro OBS key for CentOS and Ubuntu)

Change-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f
(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)
"
openstack%2Ftempest~master~Ice57e193c5150be7141e0e003be5091a191b854c,openstack/tempest,master,stestr-master-testing,Ice57e193c5150be7141e0e003be5091a191b854c,Add stestr master job,MERGED,2020-11-24 19:59:00.000000000,2021-04-27 14:52:24.000000000,2021-04-27 14:42:44.000000000,30,0,8,764058,83d13e509b0c0bd0ccca2791ebeba0b672ccc834,25,3,4,3,8556,Ghanshyam,ghanshyam,"Add stestr master job

Tempest use stestr to run the tests, adding
a experimental and periodic job to run Tempest
with stestr master will help to detect any
breaking change in advance.

Change-Id: Ice57e193c5150be7141e0e003be5091a191b854c
"
openstack%2Fcinder~stable%2Fvictoria~I5e35de28007558267f9215cbac03a38d7c74612c,openstack/cinder,stable/victoria,,I5e35de28007558267f9215cbac03a38d7c74612c,Add support for RBD fast-diff feature for backups stored in Ceph,MERGED,2021-03-25 08:44:13.000000000,2021-04-27 14:52:22.000000000,2021-04-27 14:43:06.000000000,56,17,0,782917,cbf9def32b31bcc3d4894d05e6fe665005006492,22,8,1,3,32755,Christian Rohmann,frittentheke,"Add support for RBD fast-diff feature for backups stored in Ceph

    This change enables the FAST_DIFF feature for backup images stored
    via Ceph RBD. It is enabled together with EXCLUSIVE_LOCK and
    OBJECT_MAP as required.

    With FAST_DIFF enabled, the generation of diffs between images and
    snapshots as well as determining the actual data usage of a snapshot
    is sped up significantly.

Closes-Bug #1907964

Change-Id: I5e35de28007558267f9215cbac03a38d7c74612c
(cherry picked from commit 0e8807388209086ee60e1c9f11a48ed6191e4178)
"
openstack%2Fpuppet-openstack-integration~master~I11b89aa4e26843223d416ce1b7a51fc722eaffb7,openstack/puppet-openstack-integration,master,,I11b89aa4e26843223d416ce1b7a51fc722eaffb7,Run library unit job on CeotOS8 Stream in gate,MERGED,2021-04-23 07:32:09.000000000,2021-04-27 14:46:50.000000000,2021-04-27 14:46:50.000000000,1,0,0,787674,b54cb682d411569ccd881279d0aefe28b8464c6b,14,3,2,1,9816,Takashi Kajinami,kajinamit,"Run library unit job on CeotOS8 Stream in gate

This change adds the library unit job on CentOS8 stream to gate, which
should have been added when all CentOS8 jobs are replaced by CentOS8
Stream jobs[1].

[1] a75e47446ad099fde90e2df300c663630d880677

Change-Id: I11b89aa4e26843223d416ce1b7a51fc722eaffb7
"
openstack%2Fcharm-guide~master~I61195a001ab14c1f8e420158dc41f1faec4f7b49,openstack/charm-guide,master,bug/1911012,I61195a001ab14c1f8e420158dc41f1faec4f7b49,Add nova-compute 'node-name' action to release notes,MERGED,2021-04-27 13:42:07.000000000,2021-04-27 14:37:23.000000000,2021-04-27 14:35:55.000000000,8,0,1,788298,8055ad7573a4404ae87b5477731c6fb1c76435b0,10,2,2,1,31289,Aurelien Lourot,lourot,"Add nova-compute 'node-name' action to release notes

Change-Id: I61195a001ab14c1f8e420158dc41f1faec4f7b49
Closes-Bug: #1911012
"
openstack%2Fceilometer~master~Ie21f8db89fc2045fd6cc6b1b7a5886b7e87e08e2,openstack/ceilometer,master,tox_constraints,Ie21f8db89fc2045fd6cc6b1b7a5886b7e87e08e2,Use tox constraints instead of upper constraints,MERGED,2021-04-12 12:12:17.000000000,2021-04-27 14:33:34.000000000,2021-04-27 14:28:04.000000000,8,22,0,785861,26f5ceca03322978421fe05ebf9d01c9e63a8837,20,3,5,3,4264,Matthias Runge,mrunge,"Use tox constraints instead of upper constraints

Drop cap on tenacity, since it is already capped
by upper constraints.

Make grenade jobs non-voting, until they have been fixed.

Depends-on: https://review.opendev.org/c/openstack/telemetry-tempest-plugin/+/787739

Change-Id: Ie21f8db89fc2045fd6cc6b1b7a5886b7e87e08e2
"
openstack%2Fhorizon~master~I6c40c36603b3d173adcc5c941b5654102778a058,openstack/horizon,master,,I6c40c36603b3d173adcc5c941b5654102778a058,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 06:10:20.000000000,2021-04-27 14:19:52.000000000,2021-04-27 14:18:02.000000000,3,3,0,788160,00c5825ca7c597aeaab0279684befb07f0a13dde,9,4,1,1,32326,YuehuiLei,YuehuiLei,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: I6c40c36603b3d173adcc5c941b5654102778a058
"
openstack%2Fhorizon~stable%2Fvictoria~I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d,openstack/horizon,stable/victoria,bug/1914045,I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d,Fix community image handling in launch instance form,MERGED,2021-03-08 04:35:16.000000000,2021-04-27 14:19:45.000000000,2021-04-27 14:13:27.000000000,63,33,4,779128,c63e4c91aea30c3732403d9f5c031478e735d251,21,6,4,2,29313,Vishal Manchanda,vishalmanchanda,"Fix community image handling in launch instance form

Community images which are not owned by a focused project are not
included in the normal image list API (i.e., without specifying
""community"" as visibility), so we need an extra call of the image
list API specifying ""community"" visibility in a filter.

It was originally fixed by [1] but was dropped in [2].
The main motivation of [2] is to address ""Duplicates in a repeater
are not allowed"" error in the JavaScript console.

The approach of [2] was to drop multiple glance API calls, but
the right solution would be to check duplicated images included
in both API calls. This situation with duplicated images happens
when a community image is owned by a focused project. In such case,
the community image is included in the responses of both API calls.

This commit adds a logic to check image IDs already processed.

[1] https://review.opendev.org/c/openstack/horizon/+/614688
[2] https://review.opendev.org/c/openstack/horizon/+/640762

Closes-Bug: #1914045
Related-Bug: #1779250
Related-Bug: #1818508

Change-Id: I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d
(cherry picked from commit c9bb0e95eaa7ae4f0cce21bc0a246a9b0cd2f880)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,openstack/tripleo-heat-templates,stable/train,,Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,Moving nova-consoleauth to step4,MERGED,2021-04-26 14:43:13.000000000,2021-04-27 14:12:49.000000000,2021-04-27 14:12:49.000000000,5,14,0,787982,bcc5f03abf97dbbb47ff4dfcb161c12bd03f8af6,8,9,1,1,27419,David Vallee Delisle,dvd,"Moving nova-consoleauth to step4

Since this is part of the post_upgrade_tasks and post_upgrade_tasks is
maxed to 4 steps, we need to move this from step5 to step4 otherwise
it's not being executed.

Also applying Alex's recommendation of using OS_CLOUD instead of havng
all the credentials here.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1825849
Change-Id: Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b
(cherry picked from commit 755084b5285f71dfa17c0abc310d4d797193b317)
(cherry picked from commit f8485c9dbc002ec22568a88a5d320db099b05b1b)
(cherry picked from commit 010febfbdeaf8ce2fbcb87e17454485464269c4f)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,openstack/tripleo-heat-templates,stable/ussuri,,Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,Moving nova-consoleauth to step4,MERGED,2021-04-26 14:42:53.000000000,2021-04-27 14:12:43.000000000,2021-04-27 14:12:43.000000000,5,14,0,787981,010febfbdeaf8ce2fbcb87e17454485464269c4f,8,9,1,1,27419,David Vallee Delisle,dvd,"Moving nova-consoleauth to step4

Since this is part of the post_upgrade_tasks and post_upgrade_tasks is
maxed to 4 steps, we need to move this from step5 to step4 otherwise
it's not being executed.

Also applying Alex's recommendation of using OS_CLOUD instead of havng
all the credentials here.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1825849
Change-Id: Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b
(cherry picked from commit 755084b5285f71dfa17c0abc310d4d797193b317)
(cherry picked from commit f8485c9dbc002ec22568a88a5d320db099b05b1b)
"
openstack%2Ftripleo-heat-templates~master~I38e27b9479f709f78f4a9a20d16ad3bb702cf64f,openstack/tripleo-heat-templates,master,,I38e27b9479f709f78f4a9a20d16ad3bb702cf64f,Simplify cephadm service templates,MERGED,2021-04-26 03:42:40.000000000,2021-04-27 14:11:54.000000000,2021-04-27 14:11:54.000000000,131,280,0,787910,03213d643ecfbd2209dadb0dba5a95f19e1c46eb,11,5,1,11,8833,Rabi Mishra,rabi,"Simplify cephadm service templates

Removes a number of unnecessary resources and conditions.

Change-Id: I38e27b9479f709f78f4a9a20d16ad3bb702cf64f
"
openstack%2Fpuppet-oslo~stable%2Fwallaby~If2df7664e43d62ceb979fe597e65b1ce046d00cc,openstack/puppet-oslo,stable/wallaby,tripleo-stable/wallaby,If2df7664e43d62ceb979fe597e65b1ce046d00cc,Use tripleo puppet job instaed of tripleo job,MERGED,2021-04-18 13:48:31.000000000,2021-04-27 14:11:18.000000000,2021-04-27 14:11:18.000000000,2,3,0,786780,ae67cd33eb1f6a410aae79283951b6ceac642adc,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Use tripleo puppet job instaed of tripleo job

... so that we define all tripleo jobs in puppet moudles based on
the base job definition.

Change-Id: If2df7664e43d62ceb979fe597e65b1ce046d00cc
(cherry picked from commit d2f0bcff69fd9ddbb6971f4ec40f9e412e91b1ca)
"
openstack%2Ftripleo-validations~stable%2Ftrain~If23c41d343678dcbbd0b4aae10ca6281a33e385f,openstack/tripleo-validations,stable/train,fqdn-stable/victoria-stable/ussuri-stable/train,If23c41d343678dcbbd0b4aae10ca6281a33e385f,Make tls_everywhere validations compatible with ansible_facts,MERGED,2021-04-26 21:10:54.000000000,2021-04-27 14:10:52.000000000,2021-04-27 14:10:52.000000000,3,3,0,787990,6ee98fbfba8461e770ef2edf5d144341483c5371,7,6,1,2,20172,Michele Baldessari,michele,"Make tls_everywhere validations compatible with ansible_facts

Via [1] we cannot rely on ansible_* vars anymore. So let's switch to
ansible_facts. This should fix the following error:

  2021-04-22 22:08:36,708 p=36100 u=mistral n=ansible | fatal:
  [undercloud]: FAILED! => {""msg"": ""The task includes an option with an
  undefined variable. The error was: {{ tls_everywhere_undercloud_fqdn |
  default(ansible_fqdn) }}: 'ansible_fqdn' is undefined\n\nThe error
  appears to be in
  '/usr/share/ansible/roles/tls_everywhere/tasks/ipa-server-check.yaml':
  line 59, column 7, but may\nbe elsewhere in the file depending on the
  exact syntax problem.\n\nThe offending line appears to be:\n\n\n    -
  name: kinit as the host entity\n      ^ here\n""}

Closes-Bug: #1925999

[1] https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e6b7fa4b026922bac7953bafeee96d

Change-Id: If23c41d343678dcbbd0b4aae10ca6281a33e385f
"
openstack%2Ftripleo-validations~stable%2Fussuri~If23c41d343678dcbbd0b4aae10ca6281a33e385f,openstack/tripleo-validations,stable/ussuri,fqdn-stable/victoria-stable/ussuri,If23c41d343678dcbbd0b4aae10ca6281a33e385f,Make tls_everywhere validations compatible with ansible_facts,MERGED,2021-04-26 21:10:34.000000000,2021-04-27 14:03:28.000000000,2021-04-27 13:28:22.000000000,3,3,0,787989,62b33cb30cee932d6a0db90fe0f2adfbc4407499,7,6,1,2,20172,Michele Baldessari,michele,"Make tls_everywhere validations compatible with ansible_facts

Via [1] we cannot rely on ansible_* vars anymore. So let's switch to
ansible_facts. This should fix the following error:

  2021-04-22 22:08:36,708 p=36100 u=mistral n=ansible | fatal:
  [undercloud]: FAILED! => {""msg"": ""The task includes an option with an
  undefined variable. The error was: {{ tls_everywhere_undercloud_fqdn |
  default(ansible_fqdn) }}: 'ansible_fqdn' is undefined\n\nThe error
  appears to be in
  '/usr/share/ansible/roles/tls_everywhere/tasks/ipa-server-check.yaml':
  line 59, column 7, but may\nbe elsewhere in the file depending on the
  exact syntax problem.\n\nThe offending line appears to be:\n\n\n    -
  name: kinit as the host entity\n      ^ here\n""}

Closes-Bug: #1925999

[1] https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e6b7fa4b026922bac7953bafeee96d

Change-Id: If23c41d343678dcbbd0b4aae10ca6281a33e385f
"
openstack%2Ftripleo-validations~stable%2Fvictoria~If23c41d343678dcbbd0b4aae10ca6281a33e385f,openstack/tripleo-validations,stable/victoria,fqdn-stable/victoria,If23c41d343678dcbbd0b4aae10ca6281a33e385f,Make tls_everywhere validations compatible with ansible_facts,MERGED,2021-04-26 21:10:07.000000000,2021-04-27 14:03:15.000000000,2021-04-27 13:28:19.000000000,3,3,0,787988,7382be2d324607cbb4970be30ccf5a47a42a8f0c,7,6,1,2,20172,Michele Baldessari,michele,"Make tls_everywhere validations compatible with ansible_facts

Via [1] we cannot rely on ansible_* vars anymore. So let's switch to
ansible_facts. This should fix the following error:

  2021-04-22 22:08:36,708 p=36100 u=mistral n=ansible | fatal:
  [undercloud]: FAILED! => {""msg"": ""The task includes an option with an
  undefined variable. The error was: {{ tls_everywhere_undercloud_fqdn |
  default(ansible_fqdn) }}: 'ansible_fqdn' is undefined\n\nThe error
  appears to be in
  '/usr/share/ansible/roles/tls_everywhere/tasks/ipa-server-check.yaml':
  line 59, column 7, but may\nbe elsewhere in the file depending on the
  exact syntax problem.\n\nThe offending line appears to be:\n\n\n    -
  name: kinit as the host entity\n      ^ here\n""}

Closes-Bug: #1925999

[1] https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e6b7fa4b026922bac7953bafeee96d

Change-Id: If23c41d343678dcbbd0b4aae10ca6281a33e385f
"
openstack%2Fgrenade~master~Id2b87753236dcc055c8cd9e42e23cf5d3faee4c0,openstack/grenade,master,do-not-suggest-gerrit-as-source-of-clones,Id2b87753236dcc055c8cd9e42e23cf5d3faee4c0,Do not suggest Gerrit as source of clones,MERGED,2021-04-27 06:58:49.000000000,2021-04-27 13:52:48.000000000,2021-04-27 13:51:29.000000000,0,1,0,788175,1a1f58a69ee2f5cd01aba347c01b569424861ec0,10,4,1,1,30491,Radosław Piliszek,yoctozepto,"Do not suggest Gerrit as source of clones

Make infra-root happy.

Change-Id: Id2b87753236dcc055c8cd9e42e23cf5d3faee4c0
"
openstack%2Fvitrage~master~I0a185f1f5d64760be42be4b21f1d154b1807e4c4,openstack/vitrage,master,,I0a185f1f5d64760be42be4b21f1d154b1807e4c4,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 07:02:11.000000000,2021-04-27 13:49:09.000000000,2021-04-27 13:47:52.000000000,4,4,0,788176,e0f8bbaef4d7b738e3ed5c593337378ffa2f9c81,7,2,1,1,31027,MaAoyu,maaoyu,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I0a185f1f5d64760be42be4b21f1d154b1807e4c4
"
openstack%2Fpuppet-openstack-integration~master~Ie7523f7b3c8567b41c080968e747315442d65f12,openstack/puppet-openstack-integration,master,ceilometer-tempest-blacklist,Ie7523f7b3c8567b41c080968e747315442d65f12,Remove ineffective blacklist item of Tempest tests,MERGED,2021-02-15 10:32:46.000000000,2021-04-27 13:37:08.000000000,2021-04-27 13:37:08.000000000,0,1,0,775574,315b419d6413d0bd7b6c99e1ac0e160c12af892a,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Remove ineffective blacklist item of Tempest tests

Current Tempest doesn't have any ceilometer.* test, thus it is useless
if we put any such items in the blacklist file for Tempest.

Change-Id: Ie7523f7b3c8567b41c080968e747315442d65f12
"
openstack%2Fpuppet-openstack-integration~master~I32ee15de80467ede3adceaf7bd34ed3edef7bc43,openstack/puppet-openstack-integration,master,proxy-pipeline,I32ee15de80467ede3adceaf7bd34ed3edef7bc43,Modernize swift-proxy-server pipeline,MERGED,2021-02-20 15:25:34.000000000,2021-04-27 13:32:53.000000000,2021-04-27 13:32:53.000000000,7,4,0,776804,c4b36922d5ae96f132a68e5738400933419e1d44,11,3,2,1,9816,Takashi Kajinami,kajinamit,"Modernize swift-proxy-server pipeline

This change updates the pipeline parameter of swift-proxy-server,
so that some middlewares to use basic features are enabled in
integration/litmus jobs.

Depends-on: https://review.opendev.org/776826
Change-Id: I32ee15de80467ede3adceaf7bd34ed3edef7bc43
"
openstack%2Fpuppet-aodh~master~I8e4f9faeda2067559321753c78c3f38173ea5a48,openstack/puppet-aodh,master,hc-typo,I8e4f9faeda2067559321753c78c3f38173ea5a48,Fix a typo in file header,MERGED,2021-04-20 16:03:13.000000000,2021-04-27 13:25:09.000000000,2021-04-27 13:25:09.000000000,1,1,0,787228,2d037c1b62d5660c3e6b21ba3879761382414395,11,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix a typo in file header

Change-Id: I8e4f9faeda2067559321753c78c3f38173ea5a48
"
openstack%2Fpuppet-panko~master~I6c805de4681f2aa0832d9bdd7b636f2dcf479256,openstack/puppet-panko,master,hc-typo,I6c805de4681f2aa0832d9bdd7b636f2dcf479256,Fix a typo in file header,MERGED,2021-04-20 16:10:45.000000000,2021-04-27 13:20:33.000000000,2021-04-27 13:20:33.000000000,1,1,0,787257,8fbf6aa52ba2d5346e12517bd0c504b1b053b3cb,11,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix a typo in file header

Change-Id: I6c805de4681f2aa0832d9bdd7b636f2dcf479256
"
openstack%2Ftripleo-ci~master~I4626cc2a0c43eeb74c449ba705e6c2b32ba1f98a,openstack/tripleo-ci,master,wallaby_branchfull_nonvoting,I4626cc2a0c43eeb74c449ba705e6c2b32ba1f98a,Changing all -wallaby jobs to non voting,MERGED,2021-04-12 14:32:47.000000000,2021-04-27 13:11:36.000000000,2021-04-13 10:51:20.000000000,5,0,0,785888,ec865320d9896efc1dfe7404c790659cc48e3926,10,4,1,3,32458,Ananya,frenzyfriday,"Changing all -wallaby jobs to non voting

We do not have the latest code from master in current-tripleo/ So we are making the wallaby branchfull jobs till there is a promotion.

Change-Id: I4626cc2a0c43eeb74c449ba705e6c2b32ba1f98a
"
openstack%2Ftripleo-ci~master~I8d4f1770b8b3b8cdb2f858d2c91c2a0d3afdb347,openstack/tripleo-ci,master,,I8d4f1770b8b3b8cdb2f858d2c91c2a0d3afdb347,Content provider wallaby jobs to non voting,MERGED,2021-04-14 21:21:21.000000000,2021-04-27 13:10:52.000000000,2021-04-15 21:43:17.000000000,1,1,0,786327,2e9092c86e9dd3035e016c7e150ce8eb0fa6f429,12,3,1,1,32458,Ananya,frenzyfriday,"Content provider wallaby jobs to non voting

Changing content-provider wallaby to non voying and victoria to voting. Fixing error in patch https://review.opendev.org/c/openstack/tripleo-ci/+/785888/1/zuul.d/content-provider.yaml

Change-Id: I8d4f1770b8b3b8cdb2f858d2c91c2a0d3afdb347
"
openstack%2Fkolla~master~Ib7147def6aec21e46d49a1c880bd1b53ec5472e6,openstack/kolla,master,prepare-for-kolla-wallaby-release,Ib7147def6aec21e46d49a1c880bd1b53ec5472e6,releasenotes: we move to Debian bullseye,MERGED,2021-04-16 07:55:36.000000000,2021-04-27 13:09:40.000000000,2021-04-27 13:02:23.000000000,6,0,0,786594,bcdec58c69ca68c776d69f1af38d0bc26da4727a,12,5,1,1,24072,Marcin Juszkiewicz,hrw,"releasenotes: we move to Debian bullseye

Depends-On: https://review.opendev.org/c/openstack/kolla/+/772479
Change-Id: Ib7147def6aec21e46d49a1c880bd1b53ec5472e6
"
openstack%2Fkolla~master~I543965a2741cebfa759576a4c75669a7bacd4208,openstack/kolla,master,prepare-for-kolla-wallaby-release,I543965a2741cebfa759576a4c75669a7bacd4208,move to Debian 'bullseye',MERGED,2021-01-26 09:02:23.000000000,2021-04-27 13:08:27.000000000,2021-04-27 13:01:44.000000000,112,102,36,772479,e0f8cbc50cf7184930a501b0f5452a64f523cd6f,164,8,38,14,24072,Marcin Juszkiewicz,hrw,"move to Debian 'bullseye'

Bullseye is now in hard freeze cycle and goes for release.

https://release.debian.org/bullseye/freeze_policy.html

Co-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>

Change-Id: I543965a2741cebfa759576a4c75669a7bacd4208
"
openstack%2Fvalidations-common~master~I685b6b325fc2c252cb7e656f369a60f958fa72bf,openstack/validations-common,master,broadexceptions,I685b6b325fc2c252cb7e656f369a60f958fa72bf,Except block now covers specific errors,MERGED,2021-04-15 11:45:11.000000000,2021-04-27 13:07:01.000000000,2021-04-27 13:07:01.000000000,1,1,0,786392,2470d54bbd3cf0797a255b53f6f24040bd1e29c3,9,7,1,1,32926,Jiri Podivin,jpodivin,"Except block now covers specific errors

Previously too broad exception has been refactored,
in order to stop truly unexpected issues from hiding.

Only ParsingError and OSError is now caught by the block.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I685b6b325fc2c252cb7e656f369a60f958fa72bf
"
openstack%2Fopenstack-helm~master~Ia34ebae795784f634fd22492a0c22a367d1e010d,openstack/openstack-helm,master,,Ia34ebae795784f634fd22492a0c22a367d1e010d,Add k8s proxy-body-size to horizon values.yaml,ABANDONED,2021-03-05 13:44:56.000000000,2021-04-27 12:59:19.000000000,,3,1,4,778919,5a6d7b1fa02653a5dc24593460a5f25d50663928,9,4,1,3,33006,Gustavo Santos,gooshtavow,"Add k8s proxy-body-size to horizon values.yaml

The current network.dashboard.ingress.annotations in
horizon/values.yaml do not include the kubernetes property
'proxy-body-size'. This makes the resulting nginx.conf file in
ingress add the default rule 'max_body_size 1m' to the horizon servers,
which limits all http requests' size inside horizon to 1MB, making it
impossible to upload images larger than that to glance using the
horizon GUI, for example.

This change adds said property to horizon/values.yaml, making
horizon's servers in nginx.conf include a 'max_body_size' of 0
(unlimited), which makes the image upload feature usable again.

Story: 2008692
Task: 41996
Change-Id: Ia34ebae795784f634fd22492a0c22a367d1e010d
"
openstack%2Fvitrage-dashboard~master~Idfc92fdc6ea9c9022b5964fcaf7f8d8960ecb7e0,openstack/vitrage-dashboard,master,,Idfc92fdc6ea9c9022b5964fcaf7f8d8960ecb7e0,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 07:06:03.000000000,2021-04-27 12:58:43.000000000,2021-04-27 12:57:15.000000000,4,4,0,788179,2a4d5c3a8f5039e3ab318ffaa004b5ea7c174559,8,2,1,1,31027,MaAoyu,maaoyu,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Idfc92fdc6ea9c9022b5964fcaf7f8d8960ecb7e0
"
openstack%2Ftempest~master~I5022fd3cfb729ff0e8de82b5ccb22886da34c94d,openstack/tempest,master,image_update,I5022fd3cfb729ff0e8de82b5ccb22886da34c94d,Add a check for image protected field,ABANDONED,2017-02-20 13:56:40.000000000,2021-04-27 12:49:46.000000000,,9,3,17,436002,fb102c9116b15b04d14e094fb83a22e06f59c2dc,37,13,5,1,23003,Gal Amado,gamado,"Add a check for image protected field

Change-Id: I5022fd3cfb729ff0e8de82b5ccb22886da34c94d
"
openstack%2Fheat~stable%2Fussuri~Iaa2c05b4155d93f44de60b6f98a69450c1512817,openstack/heat,stable/ussuri,,Iaa2c05b4155d93f44de60b6f98a69450c1512817,Preserve order in list_concat_unique,MERGED,2021-04-27 07:06:31.000000000,2021-04-27 12:47:35.000000000,2021-04-27 12:45:42.000000000,8,6,0,788146,b9a3395978bf60d3ce769b8fcedc60b7127f404f,8,3,1,2,30073,Brendan Shephard,bshephar,"Preserve order in list_concat_unique

Also, we should not modify a list when iterating
over it.

Task: 42359
Closes-Bug: #1925373
Change-Id: Iaa2c05b4155d93f44de60b6f98a69450c1512817
(cherry picked from commit a8f8528d1ea1952cf76bd09fd27cbd65a978af65)
"
openstack%2Fkuryr-kubernetes~master~I4d8db9eb021d33b79a5ff688c91ba0df6cae938a,openstack/kuryr-kubernetes,master,bug/1918709,I4d8db9eb021d33b79a5ff688c91ba0df6cae938a,Remove pyroute2 deprication warning,MERGED,2021-04-17 15:19:10.000000000,2021-04-27 12:43:53.000000000,2021-04-27 12:42:29.000000000,5,0,9,786759,2fde08fc1b53ecca568119c23ceebbb2cbdb3d71,42,7,12,1,33375,Darshna Das,dasdarshna,"Remove pyroute2 deprication warning

Whenever a CNI container image is generated, in CNI pod logs there were deprication warning which should be removed.

Closes-bug: 1918709

Change-Id: I4d8db9eb021d33b79a5ff688c91ba0df6cae938a
"
openstack%2Fkayobe~master~I23eb5116d8d1944167a0d50cafe5b99f766ad687,openstack/kayobe,master,,I23eb5116d8d1944167a0d50cafe5b99f766ad687,Disable Bifrost cleaning by default,MERGED,2021-04-23 12:56:59.000000000,2021-04-27 12:43:00.000000000,2021-04-27 12:41:30.000000000,11,0,3,787733,d45812d3badc04f7e99fbf4207baf5c45096dc90,21,5,3,2,14826,Mark Goddard,mgoddard,"Disable Bifrost cleaning by default

Cleaning was disabled by default in Bifrost
(Ie1198768889bd468176cd68c8ccb48791c724262) until the Victoria release,
when the default was changed. The 'kayobe overcloud provision' command
does not handle cleaning states when moving nodes from manageable to
available. This can lead to provisioning failures.

This change disables cleaning to maintain backwards
compatibility with earlier versions of Kayobe.

Change-Id: I23eb5116d8d1944167a0d50cafe5b99f766ad687
Story: 2008850
Task: 42363
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Ifaf64e3d9d89b2ec36a883fb7458556745b64802,openstack/kolla-ansible,stable/wallaby,hacluster-quirk-followup-stable/wallaby,Ifaf64e3d9d89b2ec36a883fb7458556745b64802,Avoid an Ansible quirk in hacluster role,MERGED,2021-04-26 12:59:55.000000000,2021-04-27 12:38:45.000000000,2021-04-27 12:37:03.000000000,1,3,0,787976,adef109a14ace1cd802fb5a9f544883b5eea350b,11,3,1,1,30491,Radosław Piliszek,yoctozepto,"Avoid an Ansible quirk in hacluster role

Followup on I91e5c1840ace8f567daf462c4eb3ec1f0c503823

When+run_once do not play nicely. [1]
The general workaround is to use include_tasks. [2]
However, it is very unlikely user wishes to run this role
without having any pacemaker nodes so the simplification that we
use throughout the Kolla Ansible code should be enough.

[1] https://github.com/ansible/ansible/issues/11496
[2] https://github.com/ansible/ansible/issues/11496#issuecomment-412936547

Change-Id: Ifaf64e3d9d89b2ec36a883fb7458556745b64802
(cherry picked from commit f3da3d8e1920473154d239e6ef5a254dbde438f2)
"
openstack%2Fcharm-guide~master~I1c3021245f79d8dfa8f2b9342bdb59bd434ce4e5,openstack/charm-guide,master,fix-charm-anatomy-typos,I1c3021245f79d8dfa8f2b9342bdb59bd434ce4e5,Fix typos in charm-anatomy,MERGED,2021-04-27 02:25:01.000000000,2021-04-27 12:21:13.000000000,2021-04-27 12:19:35.000000000,5,5,0,788122,31bab2c36942d83fdcd2a993a3ea7f66d2c61152,7,2,1,1,27345,Cornellius Metto,ckmetto,"Fix typos in charm-anatomy

Change-Id: I1c3021245f79d8dfa8f2b9342bdb59bd434ce4e5
"
openstack%2Fpuppet-neutron~master~Id8805bd724b6f97d20a3548dc16349eb906d5607,openstack/puppet-neutron,master,vnic_type_blacklist,Id8805bd724b6f97d20a3548dc16349eb906d5607,Clean up deprecated vnic_type_blacklist parameters,MERGED,2021-04-25 15:11:22.000000000,2021-04-27 12:16:43.000000000,2021-04-27 12:15:18.000000000,15,77,0,787890,516a6f362b3b9cfc7b452f8454c3f926f7cce69d,10,3,2,4,9816,Takashi Kajinami,kajinamit,"Clean up deprecated vnic_type_blacklist parameters

Change-Id: Id8805bd724b6f97d20a3548dc16349eb906d5607
"
openstack%2Fpuppet-nova~master~If637debcd25b17183311e16e1bf5b76c453c634f,openstack/puppet-nova,master,remove-nova_floating,If637debcd25b17183311e16e1bf5b76c453c634f,Clean up floating ip pool management for nova-network,MERGED,2021-04-26 12:48:08.000000000,2021-04-27 12:13:53.000000000,2021-04-27 12:11:00.000000000,6,59,0,787969,1c0a03c6d8e83eadce444cf6de6a4ec18d888ee4,9,3,2,5,9816,Takashi Kajinami,kajinamit,"Clean up floating ip pool management for nova-network

... because it was deprecated during the previous cycle and has been
useless since nova-network was removed.

Change-Id: If637debcd25b17183311e16e1bf5b76c453c634f
"
openstack%2Fpuppet-nova~master~I82a1ce85d7f0d793bb9ff57f69d085c3a88ef2f0,openstack/puppet-nova,master,cleanup-scheduler-opts,I82a1ce85d7f0d793bb9ff57f69d085c3a88ef2f0,Clean up deprecated scheduler parameters,MERGED,2021-04-26 12:38:20.000000000,2021-04-27 12:12:25.000000000,2021-04-27 12:10:56.000000000,14,77,0,787967,0a3ab851a7436b1a25c890bec001c7119d7a8b6c,9,3,2,4,9816,Takashi Kajinami,kajinamit,"Clean up deprecated scheduler parameters

Change-Id: I82a1ce85d7f0d793bb9ff57f69d085c3a88ef2f0
"
openstack%2Fpuppet-panko~master~I64428383082722ff19c66b2a675e0849eaeb1b9c,openstack/puppet-panko,master,drop-standalone-api,I64428383082722ff19c66b2a675e0849eaeb1b9c,Drop support for standalone api service in CentOS/Ubuntu,MERGED,2020-10-27 15:46:55.000000000,2021-04-27 12:11:25.000000000,2021-04-27 12:09:58.000000000,168,109,0,759891,bf0ba3619b7261b107c9abd14b0895117aa22130,15,3,7,4,9816,Takashi Kajinami,kajinamit,"Drop support for standalone api service in CentOS/Ubuntu

Panko no longer provides standalone api service and we should use
httpd+wsgi to server api in CentOS and Ubuntu.
This patch removes support for stnadalone api service in CentOS and
Ubuntu and deprecates several parameters only used in standalone
setup.

Note that standalone service is still used in Debian since it provides
services based on uwsgi, so the support is not dropped in Debian.

Change-Id: I64428383082722ff19c66b2a675e0849eaeb1b9c
"
openstack%2Fironic~master~I86225b3e34c63a0124a2a63f8a624dd00a8d38e4,openstack/ironic,master,fast-track-opt,I86225b3e34c63a0124a2a63f8a624dd00a8d38e4,Remove a pause before cleaning when fast-tracking,MERGED,2021-04-12 13:31:20.000000000,2021-04-27 12:04:48.000000000,2021-04-27 12:02:22.000000000,35,7,0,785876,ff7a32bc7fa19b29a26c8ff58acf51dafeae4b1a,18,5,2,5,10239,Dmitry Tantsur,dtantsur,"Remove a pause before cleaning when fast-tracking

When fast track mode is used, ironic still waits for the next heartbeat
before running the first clean step, because prepare_cleaning
unconditionally returns CLEANWAIT for agent drivers. This patch fixes
it by returning None for fast-track.

Agent code then needs to refresh clean steps before proceeding,
otherwise it will assume an empty steps list.

Change-Id: I86225b3e34c63a0124a2a63f8a624dd00a8d38e4
"
openstack%2Fpuppet-ironic~master~I5ef4fb5a3eca09445eb92e886696d70068678496,openstack/puppet-ironic,master,hc-typo,I5ef4fb5a3eca09445eb92e886696d70068678496,Fix a typo in file header,MERGED,2021-04-20 16:08:39.000000000,2021-04-27 12:01:51.000000000,2021-04-27 12:01:51.000000000,1,1,0,787234,a7f8367465d61d32e81584615b13a7b78d2a0f37,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix a typo in file header

Change-Id: I5ef4fb5a3eca09445eb92e886696d70068678496
"
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I11b89aa4e26843223d416ce1b7a51fc722eaffb7,openstack/puppet-openstack-integration,stable/wallaby,,I11b89aa4e26843223d416ce1b7a51fc722eaffb7,Run library unit job on CeotOS8 Stream in gate,MERGED,2021-04-23 07:44:43.000000000,2021-04-27 11:58:44.000000000,2021-04-27 11:58:44.000000000,1,0,0,787679,61bd1c70480b4f1d398c3b64885e46d73a57ec68,9,3,1,1,9816,Takashi Kajinami,kajinamit,"Run library unit job on CeotOS8 Stream in gate

This change adds the library unit job on CentOS8 stream to gate, which
should have been added when all CentOS8 jobs are replaced by CentOS8
Stream jobs[1].

[1] a75e47446ad099fde90e2df300c663630d880677

Change-Id: I11b89aa4e26843223d416ce1b7a51fc722eaffb7
(cherry picked from commit b54cb682d411569ccd881279d0aefe28b8464c6b)
"
openstack%2Fpuppet-glance~master~I547a65424e73d89eae2f6302ffaeeaba398cc006,openstack/puppet-glance,master,http-store,I547a65424e73d89eae2f6302ffaeeaba398cc006,Add support for http backend,MERGED,2020-11-19 15:18:25.000000000,2021-04-27 11:17:19.000000000,2021-04-27 11:15:55.000000000,141,0,2,763392,5773bc77eaea05f6babb6febe6c2b45e625e265e,35,7,6,3,9816,Takashi Kajinami,kajinamit,"Add support for http backend

This patch introduces support to eanble http backend when glance
mulistore is used.

Change-Id: I547a65424e73d89eae2f6302ffaeeaba398cc006
"
openstack%2Fpuppet-glance~stable%2Fwallaby~I1db7fa2694bc9a448a47e435cfd95264504086c6,openstack/puppet-glance,stable/wallaby,secure-rbac,I1db7fa2694bc9a448a47e435cfd95264504086c6,Add new parameter required for secure RBAC configuration,MERGED,2021-04-22 12:17:28.000000000,2021-04-27 11:17:12.000000000,2021-04-27 11:15:51.000000000,14,0,0,787541,d6ed63732040041241ffef9e5e8e7b5f14650330,8,4,1,3,9816,Takashi Kajinami,kajinamit,"Add new parameter required for secure RBAC configuration

Glance has added support for project persona of secure RBAC as
an experimental feature where 'enforce_secure_rbac' has been introduced.

Adding support of 'enforce_secure_rbac' parameter here.

Partially Implements: blueprint secure-rbac

Change-Id: I1db7fa2694bc9a448a47e435cfd95264504086c6
(cherry picked from commit fdb2c555fd25feaecf9c3ef34f543948db99bb3a)
"
openstack%2Fpuppet-aodh~master~I576b029fa3b0e765a9affd175f4113941d59abc7,openstack/puppet-aodh,master,drop-standalone-api,I576b029fa3b0e765a9affd175f4113941d59abc7,Drop support for standalone api service in CentOS/Ubuntu,MERGED,2020-10-27 16:01:15.000000000,2021-04-27 11:06:45.000000000,2021-04-27 11:05:03.000000000,104,58,0,759894,7ce34f01b62ad546f415bda19b4778a467ea8924,15,3,7,4,9816,Takashi Kajinami,kajinamit,"Drop support for standalone api service in CentOS/Ubuntu

Aodh no longer provides standalone api service and we should use
httpd+wsgi to server api in CentOS and Ubuntu.
This patch removes support for stnadalone api service in CentOS and
Ubuntu and deprecates several parameters only used in standalone
setup.

Note that standalone service is still used in Debian since it provides
services based on uwsgi, so the support is not dropped in Debian.

Change-Id: I576b029fa3b0e765a9affd175f4113941d59abc7
"
openstack%2Ftrove-tempest-plugin~master~Idcc0daf1e6509677d08336349b8574ec74034fe9,openstack/trove-tempest-plugin,master,,Idcc0daf1e6509677d08336349b8574ec74034fe9,setup.cfg: Replace dashes with underscores,NEW,2021-04-27 07:15:18.000000000,2021-04-27 11:06:19.000000000,,3,3,0,788183,6216ffddf8b98e97563e1edede027f1a3ea0f1d0,3,2,1,1,31027,MaAoyu,maaoyu,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Idcc0daf1e6509677d08336349b8574ec74034fe9
"
openstack%2Ftrove~master~Ic3cdb19056f12fccd80081879f45004b99eb5650,openstack/trove,master,,Ic3cdb19056f12fccd80081879f45004b99eb5650,setup.cfg: Replace dashes with underscores,NEW,2021-04-27 07:17:41.000000000,2021-04-27 11:06:15.000000000,,3,3,0,788184,b7889f7870e0d66cac71931516cc7816eb659853,3,2,1,1,31027,MaAoyu,maaoyu,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ic3cdb19056f12fccd80081879f45004b99eb5650
"
openstack%2Ftrove-dashboard~master~I9243dcbbec862c1e67a085de51865a1082b9f4f8,openstack/trove-dashboard,master,,I9243dcbbec862c1e67a085de51865a1082b9f4f8,setup.cfg: Replace dashes with underscores,NEW,2021-04-27 07:57:18.000000000,2021-04-27 11:04:55.000000000,,4,4,0,788199,a87ee0b575f2550cfa1cff38162f90ebe9154c2e,3,2,1,1,32921,Reason li,liyou01,"setup.cfg: Replace dashes with underscores

[200~Setuptools v54.1.0 introduces a warning that the use of
dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
    supported in future versions. Please use the underscore name
      'description_file' instead

Change-Id: I9243dcbbec862c1e67a085de51865a1082b9f4f8
"
openstack%2Fkayobe~master~I8f99adf19d192db318e8d76d611c3a15adc9ef08,openstack/kayobe,master,remove-ntp-yml,I8f99adf19d192db318e8d76d611c3a15adc9ef08,Remove ntp.yml configuration file,MERGED,2021-04-14 09:04:04.000000000,2021-04-27 11:04:24.000000000,2021-04-27 11:02:51.000000000,6,14,0,786181,04fffeb50c5f2792c099641222bc38d0ec29e33b,12,3,1,2,15197,Pierre Riteau,priteau,"Remove ntp.yml configuration file

Timezone configuration is using time.yml since the Ussuri release.

Change-Id: I8f99adf19d192db318e8d76d611c3a15adc9ef08
"
openstack%2Fmagnum~master~I65561358113952e3f60dc488b35ee8fa8f8da740,openstack/magnum,master,ingress-traefik-updates,I65561358113952e3f60dc488b35ee8fa8f8da740,Update traefik options,MERGED,2021-03-26 17:09:09.000000000,2021-04-27 11:02:42.000000000,2021-04-27 11:01:11.000000000,13,5,0,783390,b4016783d5713d4260c0d5f089bf8d5202b34b19,8,3,1,5,29425,Diogo Guerra,dioguerra,"Update traefik options

* Traefik version updated from v1.7.19 to v1.7.28
* Force secure connections to use TLSv1.2 or greater

Change-Id: I65561358113952e3f60dc488b35ee8fa8f8da740
Signed-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>
"
openstack%2Fpuppet-horizon~master~I421ccdcc003ff7cc917b2a9f9efac8ec051f51b0,openstack/puppet-horizon,master,sso-redirect,I421ccdcc003ff7cc917b2a9f9efac8ec051f51b0,Add support for SSO redirect options,MERGED,2021-02-10 01:36:52.000000000,2021-04-27 11:00:17.000000000,2021-04-27 10:58:54.000000000,96,23,0,774754,40b7fe80312b54274ae6f101ac92147e4fe7aba9,11,3,3,4,9816,Takashi Kajinami,kajinamit,"Add support for SSO redirect options

This change implements support for automatic redirect in SSO, which was
implemented during Stein cycle[1].

[1] https://opendev.org/openstack/horizon/commit/7fc8018956945cfe683a2cf1c53643d800c482bf

Change-Id: I421ccdcc003ff7cc917b2a9f9efac8ec051f51b0
"
openstack%2Fpuppet-gnocchi~master~I2cfa1267b08ea432a8bf3245ebb57abc5fadb809,openstack/puppet-gnocchi,master,enforce_new_defaults,I2cfa1267b08ea432a8bf3245ebb57abc5fadb809,Add support for oslo_policy/enforce_new_defaults,MERGED,2021-04-19 00:31:40.000000000,2021-04-27 10:54:07.000000000,2021-04-27 10:51:46.000000000,32,19,0,786807,0e1d398f56a251d0c77a6d6a133a9a10abcf3414,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for oslo_policy/enforce_new_defaults

Depends-on: https://review.opendev.org/781428
Change-Id: I2cfa1267b08ea432a8bf3245ebb57abc5fadb809
"
openstack%2Fpuppet-gnocchi~stable%2Fussuri~I1f45a77c75594e03ec2f014be5bf15872fc3ae89,openstack/puppet-gnocchi,stable/ussuri,swift_key-stable/victoria-stable/ussuri,I1f45a77c75594e03ec2f014be5bf15872fc3ae89,swift_key should be secret,MERGED,2021-02-01 13:29:46.000000000,2021-04-27 10:52:25.000000000,2021-04-27 10:52:25.000000000,3,3,0,773215,de90de5647b89d0e2eb4feedda90f94b0526d794,7,3,1,2,9816,Takashi Kajinami,kajinamit,"swift_key should be secret

Change-Id: I1f45a77c75594e03ec2f014be5bf15872fc3ae89
(cherry picked from commit 7cba6e450e7b580b4912218be43b3c0afd7e10d7)
(cherry picked from commit df82059cc15d7f92d53d35d0c1b33b1b42094f35)
"
openstack%2Fpuppet-gnocchi~stable%2Fussuri~Iadb9a0d0a9c4b3dab70f34a87435df7a5c692a1e,openstack/puppet-gnocchi,stable/ussuri,swift-ut-stable/victoria-stable/ussuri,Iadb9a0d0a9c4b3dab70f34a87435df7a5c692a1e,Improve unit test coverage of gnocchi::storage::swift,MERGED,2021-02-01 13:29:28.000000000,2021-04-27 10:52:08.000000000,2021-04-27 10:52:08.000000000,21,3,0,773214,f9fd67e25bc2eb2216d2ed3a220b68c9afa50df9,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Improve unit test coverage of gnocchi::storage::swift

Currently we only test swift_endpoint_type, but we should test all
options to ensure all available options work.

Change-Id: Iadb9a0d0a9c4b3dab70f34a87435df7a5c692a1e
(cherry picked from commit 7c3ec9872806b7ad286e45199c0fde6f59facf1c)
(cherry picked from commit 2d33aa890a9cb70c2c180b93ee2eecfcc12a318f)
"
openstack%2Fpuppet-gnocchi~master~Ic009641545dee5073bfa98cfdd1a01037cd316a4,openstack/puppet-gnocchi,master,oslo_policy-enforce_scope,Ic009641545dee5073bfa98cfdd1a01037cd316a4,Add support for the oslo_policy/enforce_scope parameter,MERGED,2021-04-19 00:24:37.000000000,2021-04-27 10:51:25.000000000,2021-04-27 10:51:25.000000000,25,12,0,786806,14e1b1027b3d3b3968611869c4910b5db3399874,7,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for the oslo_policy/enforce_scope parameter

Depends-on: https://review.opendev.org/#/c/759008/
Change-Id: Ic009641545dee5073bfa98cfdd1a01037cd316a4
"
openstack%2Fpuppet-gnocchi~master~Ia448c8f3e594cb786b7e0c8b10fd8c7d16703e3f,openstack/puppet-gnocchi,master,hc-typo,Ia448c8f3e594cb786b7e0c8b10fd8c7d16703e3f,Fix a typo in file header,MERGED,2021-04-20 16:06:38.000000000,2021-04-27 10:51:21.000000000,2021-04-27 10:51:21.000000000,1,1,0,787232,6a6ea0e825233a2ea2e2d8f5165792ec219288c7,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix a typo in file header

Change-Id: Ia448c8f3e594cb786b7e0c8b10fd8c7d16703e3f
"
openstack%2Fpuppet-vswitch~master~Ica77dc2061bc34aaaadeac9b763bebacc1d32f88,openstack/puppet-vswitch,master,bug/1918418,Ica77dc2061bc34aaaadeac9b763bebacc1d32f88,Support arbitary vsiwtch configurations,MERGED,2021-03-12 06:51:09.000000000,2021-04-27 10:49:00.000000000,2021-04-27 10:44:21.000000000,31,1,0,780194,71d591a753403152c480f8460db3f44271884410,12,3,4,3,9816,Takashi Kajinami,kajinamit,"Support arbitary vsiwtch configurations

This change introduces support for arbitary configurations as is done
in the other modules by nova::config, cinder::config and etc.
This allows users to set any parameter which is not yet supported
directly by puppet-vswitch.

Change-Id: Ica77dc2061bc34aaaadeac9b763bebacc1d32f88
"
openstack%2Fpuppet-heat~master~Iaaa23098d975f2dc8de00e9c8e22acd29e39d36c,openstack/puppet-heat,master,hc-typo,Iaaa23098d975f2dc8de00e9c8e22acd29e39d36c,Fix a typo in file header,MERGED,2021-04-20 16:07:56.000000000,2021-04-27 10:48:12.000000000,2021-04-27 10:48:12.000000000,1,1,0,787233,032a4751b19d632028818a5c98ae31a3fcab48e3,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix a typo in file header

Change-Id: Iaaa23098d975f2dc8de00e9c8e22acd29e39d36c
"
openstack%2Fkolla-ansible~master~Ie452516655cbd40d63bdad3635fd66693e40ce34,openstack/kolla-ansible,master,,Ie452516655cbd40d63bdad3635fd66693e40ce34,Add variable for changing Apache HTTP timeout,MERGED,2021-03-03 17:02:20.000000000,2021-04-27 10:45:41.000000000,2021-03-07 10:41:37.000000000,31,0,4,778507,647ff667e6037f1a62de6cf72f0fcb9fca3b8ae0,22,3,6,19,17669,Doug Szumski,DougSzumski,"Add variable for changing Apache HTTP timeout

In services which use the Apache HTTP server to service HTTP requests,
there exists a TimeOut directive [1] which defaults to 60 seconds. APIs
which come under heavy load, such as Cinder, can sometimes exceed this
which results in a HTTP 504 Gateway timeout, or similar. However, the
request can still be serviced without error. For example, if Nova calls
the Cinder API to detach a volume, and this operation takes longer
than the shortest of the two timeouts, Nova will emit a stack trace
with a 504 Gateway timeout. At some time later, the request to detach
the volume will succeed. The Nova and Cinder DBs then become
out-of-sync with each other, and frequently DB surgery is required.

Although strictly this category of bugs should be fixed in OpenStack
services, it is not realistic to expect this to happen in the short
term. Therefore, this change makes it easier to set the Apache HTTP
timeout via a new variable.

An example of a related bug is here:

https://bugs.launchpad.net/nova/+bug/1888665

Whilst this timeout can currently be set by overriding the WSGI
config for individual services, this change makes it much easier.

Change-Id: Ie452516655cbd40d63bdad3635fd66693e40ce34
Closes-Bug: #1917648
"
openstack%2Fpuppet-openstack-integration~master~I8d0d0cffb0a554a3322a152f5c1a6d635f14e734,openstack/puppet-openstack-integration,master,neutron-tempest-plugin,I8d0d0cffb0a554a3322a152f5c1a6d635f14e734,Prefetch neutron-tempest-plugin,MERGED,2021-04-26 14:27:03.000000000,2021-04-27 10:44:14.000000000,2021-04-27 10:44:14.000000000,7,1,0,788009,34d28336f4ccd1fa02741570a27e95d07e754d2f,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Prefetch neutron-tempest-plugin

This change makes CI job use prefetched neutron-tempest-plugin codes
instead of cloning codes from git.

Change-Id: I8d0d0cffb0a554a3322a152f5c1a6d635f14e734
"
openstack%2Fpuppet-vswitch~master~I2e9f7d3b27547d33914f07005045b55d8ba82514,openstack/puppet-vswitch,master,bug/1918418,I2e9f7d3b27547d33914f07005045b55d8ba82514,Do not restart ovs when updating other_config:emc-insert-inv-prob,MERGED,2021-03-12 07:01:26.000000000,2021-04-27 10:42:02.000000000,2021-04-27 10:42:02.000000000,6,8,0,780196,95230113b2f54fd8fc398f802349fbae6e5b4691,9,3,2,4,9816,Takashi Kajinami,kajinamit,"Do not restart ovs when updating other_config:emc-insert-inv-prob

There are no requirement of service restart after updating
the cmd-insert-inv-prov parameter in ovs documentation[1], and
it seems that the parameter can be applied with keeping the service
running.
 [1] https://docs.openvswitch.org/en/latest/topics/dpdk/bridge/#emc-insertion-probability

Let's remove notify so that changing the value doesn't trigger
service restart.

Change-Id: I2e9f7d3b27547d33914f07005045b55d8ba82514
"
openstack%2Fvitrage-tempest-plugin~master~I543595c0e3145495923517101ffa057fd7bccb4c,openstack/vitrage-tempest-plugin,master,,I543595c0e3145495923517101ffa057fd7bccb4c,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 07:13:19.000000000,2021-04-27 10:37:47.000000000,2021-04-27 10:36:26.000000000,3,3,0,788182,683e72f745f660513482ecaa290dbb33b3908ab6,9,2,1,1,31027,MaAoyu,maaoyu,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I543595c0e3145495923517101ffa057fd7bccb4c
"
openstack%2Fpuppet-barbican~master~Id7dd078855eb8c22ecb5254ab15e60c2416e833f,openstack/puppet-barbican,master,hc-typo,Id7dd078855eb8c22ecb5254ab15e60c2416e833f,Fix a typo in file header,MERGED,2021-04-20 16:04:29.000000000,2021-04-27 10:36:22.000000000,2021-04-27 10:36:22.000000000,1,1,0,787229,977e685b16a16dc3971df4baf7fb2f6396d66544,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix a typo in file header

Change-Id: Id7dd078855eb8c22ecb5254ab15e60c2416e833f
"
openstack%2Foslo.concurrency~master~I1ff344d345b56246e6a86f7761ef900e42daefa2,openstack/oslo.concurrency,master,,I1ff344d345b56246e6a86f7761ef900e42daefa2,Remove references to 'sys.version_info',MERGED,2021-04-25 08:00:22.000000000,2021-04-27 10:35:07.000000000,2021-04-27 10:33:35.000000000,2,6,3,787870,0139c6ccac1e51c23b48eb3c2086845425ce308b,18,4,3,1,31827,Jorhson Deng,dengzhaosen,"Remove references to 'sys.version_info'

We support Python 3.6 as a minimum now, making these checks no-ops.

Change-Id: I1ff344d345b56246e6a86f7761ef900e42daefa2
"
openstack%2Ftripleo-ci~master~Ie820ab4e1e240662c06c8a1ffa55779c1d61f2e7,openstack/tripleo-ci,master,,Ie820ab4e1e240662c06c8a1ffa55779c1d61f2e7,DNM: run ara undercloud,ABANDONED,2019-09-24 10:08:36.000000000,2021-04-27 10:30:46.000000000,,4,0,0,684267,8913f39afdaf9d45423a7ed5f6890ed09fccb0d2,4,2,1,2,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: run ara undercloud

Change-Id: Ie820ab4e1e240662c06c8a1ffa55779c1d61f2e7
"
openstack%2Ftripleo-quickstart-extras~master~I62396f0d3ee7b615b5a4109cbbad89beca131f8c,openstack/tripleo-quickstart-extras,master,underclara,I62396f0d3ee7b615b5a4109cbbad89beca131f8c,Enable ARA for undercloud and standalone,ABANDONED,2019-12-19 16:54:40.000000000,2021-04-27 10:30:42.000000000,,76,47,0,700027,7af50fdaf1b041da077eecb9f1d1c8976dc443e9,43,3,7,12,10969,Shnaidman Sagi (Sergey),sergsh,"Enable ARA for undercloud and standalone

Depends-On: https://review.opendev.org/#/c/699137/

Change-Id: I62396f0d3ee7b615b5a4109cbbad89beca131f8c
"
openstack%2Ftripleo-ansible~master~I101ae36816e03846245277901084fabb39425a93,openstack/tripleo-ansible,master,delete_service_vip,I101ae36816e03846245277901084fabb39425a93,Delete service_vips before deleting stack,MERGED,2021-04-22 10:00:30.000000000,2021-04-27 10:30:12.000000000,2021-04-27 10:28:11.000000000,81,11,10,787519,812383a42918c612b829c54941caa27118a224a0,24,6,2,4,8833,Rabi Mishra,rabi,"Delete service_vips before deleting stack

We create some ports for service vips as part of deploy steps.
Heat network/subnet resources can't be deleted without deleting
those.

Change-Id: I101ae36816e03846245277901084fabb39425a93
"
openstack%2Ftripleo-quickstart-extras~master~I22bea9ca7e57eedae20f8b70c9dd67efbc6b5a12,openstack/tripleo-quickstart-extras,master,,I22bea9ca7e57eedae20f8b70c9dd67efbc6b5a12,Add dummy br-ex if not exists,ABANDONED,2020-10-15 09:08:29.000000000,2021-04-27 10:29:51.000000000,,5,0,0,758370,bbd54d1f4bd58e290143e403ade5e875fe25b2af,6,4,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add dummy br-ex if not exists

Change-Id: I22bea9ca7e57eedae20f8b70c9dd67efbc6b5a12
"
openstack%2Ftripleo-ci~master~I6c0524749d665c819575007e277631b18d7f34e5,openstack/tripleo-ci,master,test-node,I6c0524749d665c819575007e277631b18d7f34e5,DNM test jobs w/o br-ex,ABANDONED,2020-10-14 10:21:08.000000000,2021-04-27 10:29:47.000000000,,2,2,0,758072,afd32115362cdf5ffc415f3bef8e3565c7bf8c42,7,2,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM test jobs w/o br-ex

Depends-On: https://review.opendev.org/758370
Change-Id: I6c0524749d665c819575007e277631b18d7f34e5
"
openstack%2Ftripleo-ansible~master~I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d,openstack/tripleo-ansible,master,podman_multi,I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d,WIP multiple containers support for podman module,ABANDONED,2020-08-20 12:57:23.000000000,2021-04-27 10:27:47.000000000,,3073,2104,9,747156,19325467c9bda561900ac0e3f1762fea8bd5a396,78,4,25,13,10969,Shnaidman Sagi (Sergey),sergsh,"WIP multiple containers support for podman module

Run multiple containers in one module call.

Change-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d
"
openstack%2Fbifrost~master~I16701c290a1dd1bc18fe6ccb775711fd200e8bd4,openstack/bifrost,master,module,I16701c290a1dd1bc18fe6ccb775711fd200e8bd4,DNM use baremetal_node_info from collections,ABANDONED,2020-07-28 17:22:25.000000000,2021-04-27 10:27:34.000000000,,9,13,0,743599,a09f27317f57c129da4d502486a1b8f9ea90dd7b,11,2,3,4,10969,Shnaidman Sagi (Sergey),sergsh,"DNM use baremetal_node_info from collections

testing...
Depends-On: https://review.opendev.org/#/c/743533/

Change-Id: I16701c290a1dd1bc18fe6ccb775711fd200e8bd4
"
openstack%2Ftripleo-quickstart-extras~master~I12bd4477a583771f84627fc49277937fd5472cbb,openstack/tripleo-quickstart-extras,master,failintro,I12bd4477a583771f84627fc49277937fd5472cbb,DNM: fail before introspection,ABANDONED,2019-11-25 19:37:14.000000000,2021-04-27 10:27:28.000000000,,1,2,0,695975,a3d8f1ee35634b7af2789211e58c334e19495dbc,13,2,4,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: fail before introspection

Change-Id: I12bd4477a583771f84627fc49277937fd5472cbb
"
openstack%2Ftripleo-quickstart-extras~master~I9e5e39017c4e9d8f4fb59889296b73288458aba7,openstack/tripleo-quickstart-extras,master,newpl,I9e5e39017c4e9d8f4fb59889296b73288458aba7,WIP: run ansible plugins on undercloud,ABANDONED,2019-12-17 00:21:46.000000000,2021-04-27 10:26:59.000000000,,65,23,0,699314,7f0e39587171d3961340e10cd0f7f1a7d56887be,33,4,7,13,10969,Shnaidman Sagi (Sergey),sergsh,"WIP: run ansible plugins on undercloud

Depends-On: https://review.opendev.org/#/c/699137
Depends-On: https://review.opendev.org/#/c/699867
Change-Id: I9e5e39017c4e9d8f4fb59889296b73288458aba7
"
openstack%2Ftripleo-ansible~master~I61acbd7bb15583d04228c575911b897237b1fd99,openstack/tripleo-ansible,master,,I61acbd7bb15583d04228c575911b897237b1fd99,DNM test 2.10,ABANDONED,2020-10-28 14:10:58.000000000,2021-04-27 10:25:18.000000000,,110,2,0,760144,d15297776cbfe79fbfac6a0190cf2451eb6caa92,7,3,1,56,10969,Shnaidman Sagi (Sergey),sergsh,"DNM test 2.10

Change-Id: I61acbd7bb15583d04228c575911b897237b1fd99
"
openstack%2Ftripleo-ci~master~Ib467474a74556b8798e326dfac03be8226854934,openstack/tripleo-ci,master,update_containers,Ib467474a74556b8798e326dfac03be8226854934,Remove update_containers var from environment,ABANDONED,2020-11-04 07:08:06.000000000,2021-04-27 10:25:12.000000000,,0,31,0,761285,229e004f205254260cca99d443bf05ef31b964b0,22,7,2,5,10969,Shnaidman Sagi (Sergey),sergsh,"Remove update_containers var from environment

update of containers does not depend on environment and should
not be set there, it's moved to release files.

Related-Bug: #1902190
Change-Id: Ib467474a74556b8798e326dfac03be8226854934
"
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I8632835f257f299978ab1753191d4bc0c1e0fa58,openstack/puppet-openstack-integration,stable/train,,I8632835f257f299978ab1753191d4bc0c1e0fa58,[Stable only] Ubuntu: pin tempest-horizon,MERGED,2021-03-28 12:32:08.000000000,2021-04-27 10:24:57.000000000,2021-04-27 10:24:57.000000000,8,19,0,783573,c8a49ec8c4d82a95f5500bc64fdab520876e194e,12,3,1,1,9816,Takashi Kajinami,kajinamit,"[Stable only] Ubuntu: pin tempest-horizon

... because tempest-horizon was already retired.

Conflicts:
	run_tests.sh

Change-Id: I8632835f257f299978ab1753191d4bc0c1e0fa58
(cherry picked from commit 20cdafd162057e22ff5b99d9cb43fbdc00600657)
(cherry picked from commit 9725047089c13ddb86afa2d369b540d662d14abf)
"
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I0bae1f8e304e7f879fa3975f69067ff3864fd4ba,openstack/puppet-openstack-integration,stable/train,,I0bae1f8e304e7f879fa3975f69067ff3864fd4ba,Do not reset tempest version in CI,MERGED,2021-03-28 12:32:08.000000000,2021-04-27 10:24:51.000000000,2021-04-27 10:24:51.000000000,8,8,0,783572,9d1da4776a3a4d2b93f1148d571899f401df6921,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Do not reset tempest version in CI

In CI jobs we fetch the specific version of tempest and use the files
cloned already, so we don't need to reset its version explicitly.

Conflicts:
	run_tests.sh

Resolved conflicts caused by the existing logic for version pin.
The same pin is implemented by relying on the version defined in job
requirements.

Change-Id: I0bae1f8e304e7f879fa3975f69067ff3864fd4ba
(cherry picked from commit 3ac64d4f459481cfffbc408f4ff516eeebeef70e)
(cherry picked from commit 557e6220f6da44f8b621a944d457d6ff2ad7d66e)
(cherry picked from commit b744187f76d6249e02915f1b6cd46c2df39e62a0)
"
openstack%2Ftripleo-quickstart~master~Ibc87a786b8b8d08b750386b04ff39444d9f980cd,openstack/tripleo-quickstart,master,,Ibc87a786b8b8d08b750386b04ff39444d9f980cd,DNM test ansible 2.10 for CI,ABANDONED,2020-10-14 13:50:27.000000000,2021-04-27 10:24:48.000000000,,3,3,0,758128,f8bfce2edaa0f497ef91c7a306a518fe666d1e7d,11,4,2,4,10969,Shnaidman Sagi (Sergey),sergsh,"DNM test ansible 2.10 for CI

Change-Id: Ibc87a786b8b8d08b750386b04ff39444d9f980cd
"
openstack%2Fansible-role-collect-logs~master~Ic29260eda0ec6ed8867ba144ce8f3e5a76bc626d,openstack/ansible-role-collect-logs,master,,Ic29260eda0ec6ed8867ba144ce8f3e5a76bc626d,DNM container logs,ABANDONED,2020-12-17 14:14:10.000000000,2021-04-27 10:24:23.000000000,,4,1,0,767562,51b0d15cd55220cc8a33fc18104202ae58ad59b2,5,2,2,2,10969,Shnaidman Sagi (Sergey),sergsh,"DNM container logs

Change-Id: Ic29260eda0ec6ed8867ba144ce8f3e5a76bc626d
"
openstack%2Ftripleo-quickstart~master~I5727781785e685bd4a576d2574d8975b8a0a56fb,openstack/tripleo-quickstart,master,,I5727781785e685bd4a576d2574d8975b8a0a56fb,Remove pinning of container tools,ABANDONED,2020-12-23 14:20:45.000000000,2021-04-27 10:24:05.000000000,,0,28,0,768347,5ec275effd14ad4ef72630c12cfeb680b0e1c521,6,4,1,14,10969,Shnaidman Sagi (Sergey),sergsh,"Remove pinning of container tools

Change-Id: I5727781785e685bd4a576d2574d8975b8a0a56fb
"
openstack%2Fpuppet-designate~master~Ie64f8134545fefd2150c8ea6d8b17d9551020d38,openstack/puppet-designate,master,hc-typo,Ie64f8134545fefd2150c8ea6d8b17d9551020d38,Fix a typo in file header,MERGED,2021-04-20 16:05:54.000000000,2021-04-27 10:23:40.000000000,2021-04-27 10:23:40.000000000,1,1,0,787231,06d0ac8959f80022c2482f40d87266f8f417ee24,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix a typo in file header

Change-Id: Ie64f8134545fefd2150c8ea6d8b17d9551020d38
"
openstack%2Fpython-tripleoclient~master~I256d74216947c3551620e1ce9cb4587ceb80c41d,openstack/python-tripleoclient,master,test,I256d74216947c3551620e1ce9cb4587ceb80c41d,DNM test sc007,ABANDONED,2021-02-04 01:27:09.000000000,2021-04-27 10:23:27.000000000,,3,0,0,774027,8e1ed427ca9072f86f48fac049bbc4d1825fd498,3,1,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM test sc007

Change-Id: I256d74216947c3551620e1ce9cb4587ceb80c41d
"
openstack%2Ftripleo-common~stable%2Fussuri~I072edaf232004a6118b956614490460efb40fbfc,openstack/tripleo-common,stable/ussuri,refactor_buildah_log-stable/ussuri,I072edaf232004a6118b956614490460efb40fbfc,Refactor buildah logging,ABANDONED,2020-11-06 19:29:56.000000000,2021-04-27 10:23:19.000000000,,19,13,24,761787,06a0e2be7ed4e40574a4d4027670f5c5810673de,51,6,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Refactor buildah logging

- Add .BuildahBuilder to logging for easier identification
- move log instance creation to class
- Add logging configuration
- Replace a few prints with log

Old Log in containers-build-errors.log:
Processing containers: ['base']
Building base image with:

New Log in containers-build-errors.log
2020-10-30 18:50:10.847 865001 INFO tripleo_common.image.builder.buildah.BuildahBuilder [-] Processing containers: ['cinder-cooldriver2', 'cinder-cooldriver']
2020-10-30 18:50:10.848 865001 INFO tripleo_common.image.builder.buildah.BuildahBuilder [-] Building cinder-cooldriver2 image with: sudo buildah

Depends-On: https://review.opendev.org/#/c/760980/
Change-Id: I072edaf232004a6118b956614490460efb40fbfc
"
openstack%2Ftripleo-ci~master~I6d5b28d8c7362706532fde402233cd6abf9c9c17,openstack/tripleo-ci,master,c8stream-test,I6d5b28d8c7362706532fde402233cd6abf9c9c17,DNM test CI jobs,ABANDONED,2021-03-07 15:56:41.000000000,2021-04-27 10:20:12.000000000,,13,0,0,779102,023bd9fd58d22ed0d63954c1845bdc3e1f65305f,9,2,2,13,10969,Shnaidman Sagi (Sergey),sergsh,"DNM test CI jobs

Change-Id: I6d5b28d8c7362706532fde402233cd6abf9c9c17
"
openstack%2Ftripleo-common~master~I919a63d7572a875d354ebe1d9b4a2f60ae455ba9,openstack/tripleo-common,master,c8stream-test,I919a63d7572a875d354ebe1d9b4a2f60ae455ba9,DNM centos8 stream tests,ABANDONED,2021-03-08 07:36:02.000000000,2021-04-27 10:20:10.000000000,,26,15,6,779166,fcafc1f136cd6ce25d838086863bbb70ac2118ef,6,2,1,14,10969,Shnaidman Sagi (Sergey),sergsh,"DNM centos8 stream tests

Change-Id: I919a63d7572a875d354ebe1d9b4a2f60ae455ba9
"
openstack%2Ftripleo-quickstart~master~If7bcef036a50bf1afc68ff8d595c1c761eacddab,openstack/tripleo-quickstart,master,,If7bcef036a50bf1afc68ff8d595c1c761eacddab,DNM test branch OVB,ABANDONED,2021-03-08 07:24:37.000000000,2021-04-27 10:20:04.000000000,,1,0,0,779162,e01eb5d1fe94ad37dcbaef77c5b03d172318f016,4,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM test branch OVB

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/767070
Change-Id: If7bcef036a50bf1afc68ff8d595c1c761eacddab
"
openstack%2Ftripleo-heat-templates~master~I507999fe624732517df73ef87c84c8cd8d701566,openstack/tripleo-heat-templates,master,c8stream-test,I507999fe624732517df73ef87c84c8cd8d701566,DNM test master 8 stream,ABANDONED,2021-03-08 07:30:55.000000000,2021-04-27 10:20:02.000000000,,87,6,0,779165,9811d057f1b2469b2fa815f036ffb0939d2a0146,6,2,2,43,10969,Shnaidman Sagi (Sergey),sergsh,"DNM test master 8 stream

Change-Id: I507999fe624732517df73ef87c84c8cd8d701566
"
openstack%2Ftripleo-common~stable%2Fussuri~I40813ca2ffd6bf2b2b808e72607822f1f2fdbe7f,openstack/tripleo-common,stable/ussuri,c8stream-test,I40813ca2ffd6bf2b2b808e72607822f1f2fdbe7f,DNM centos8 stream tests - ussuri,ABANDONED,2021-03-08 08:05:55.000000000,2021-04-27 10:19:58.000000000,,25,0,0,779171,a10e9ebc9f83b70b89e73b54a98009719b64e7ca,6,2,1,13,10969,Shnaidman Sagi (Sergey),sergsh,"DNM centos8 stream tests - ussuri

Change-Id: I40813ca2ffd6bf2b2b808e72607822f1f2fdbe7f
"
openstack%2Ftripleo-common~stable%2Ftrain~I84730035ef01289f1022ed61094ce686775279e0,openstack/tripleo-common,stable/train,c8stream-test,I84730035ef01289f1022ed61094ce686775279e0,DNM centos8 stream tests - train,ABANDONED,2021-03-08 08:03:25.000000000,2021-04-27 10:19:55.000000000,,10,0,0,779169,5caa115f84cad632ee0b4b7b5290754470e56de6,6,2,1,7,10969,Shnaidman Sagi (Sergey),sergsh,"DNM centos8 stream tests - train

Change-Id: I84730035ef01289f1022ed61094ce686775279e0
"
openstack%2Ftripleo-quickstart~master~I1157334e41a58c7985b185b16383ede3ba8929e2,openstack/tripleo-quickstart,master,,I1157334e41a58c7985b185b16383ede3ba8929e2,DNM testing 3party jobs with patch,ABANDONED,2021-03-03 12:58:41.000000000,2021-04-27 10:19:51.000000000,,4,4,2,778455,c470828d0b78166debb26a6a12be314d07db4184,9,2,1,4,10969,Shnaidman Sagi (Sergey),sergsh,"DNM testing 3party jobs with patch

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/777952
Change-Id: I1157334e41a58c7985b185b16383ede3ba8929e2
"
openstack%2Ftripleo-ci~master~I0aee555987fb0b3920e29c00c91f26697f4a2753,openstack/tripleo-ci,master,,I0aee555987fb0b3920e29c00c91f26697f4a2753,DNM test ansible 2.10 for CI,ABANDONED,2020-10-15 09:01:01.000000000,2021-04-27 10:19:46.000000000,,3,1,0,758369,2f4f23c318c181dfa08a50c746a1d47f4a446f97,13,4,1,3,10969,Shnaidman Sagi (Sergey),sergsh,"DNM test ansible 2.10 for CI

Depends-On: https://review.opendev.org/#/c/758128/
Change-Id: I0aee555987fb0b3920e29c00c91f26697f4a2753
"
openstack%2Fpuppet-manila~master~I540ed926ca7adcc1663f3814ba29492eb777701b,openstack/puppet-manila,master,healthcheck,I540ed926ca7adcc1663f3814ba29492eb777701b,Add support for healthcheck middleware options,MERGED,2021-04-20 16:14:52.000000000,2021-04-27 10:19:36.000000000,2021-04-27 10:18:12.000000000,101,0,0,787259,626b4a03f989e8eafee668dbbc62080279d3d6df,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: I540ed926ca7adcc1663f3814ba29492eb777701b
"
openstack%2Ftripleo-ansible~master~I495ca5296e7c2e3d5e8fa650e2fd2dd9d19c0f81,openstack/tripleo-ansible,master,,I495ca5296e7c2e3d5e8fa650e2fd2dd9d19c0f81,DNM test containers w/o no_log,ABANDONED,2021-04-06 13:05:53.000000000,2021-04-27 10:19:23.000000000,,1,1,0,784948,007cb0b7779348e99e125cbbdfa43fe798ce04fa,5,3,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM test containers w/o no_log

Change-Id: I495ca5296e7c2e3d5e8fa650e2fd2dd9d19c0f81
"
openstack%2Fpuppet-sahara~master~Ib772b44cc7a3c944ac44efe692253b3215af59c8,openstack/puppet-sahara,master,,Ib772b44cc7a3c944ac44efe692253b3215af59c8,Do not include sahara::policy in base class,MERGED,2021-04-22 03:02:54.000000000,2021-04-27 10:18:05.000000000,2021-04-27 10:18:05.000000000,0,2,0,787467,a9b46a3e94c7663ff8e87d636dd572454bae5928,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Do not include sahara::policy in base class

... because oslo_policy parameters are only used in api and the class
is already included in sahara::service::api.

Change-Id: Ib772b44cc7a3c944ac44efe692253b3215af59c8
"
openstack%2Fpuppet-ceilometer~stable%2Fstein~I9dcf128951cc23a0c8c8e589c42a352a94b3c8df,openstack/puppet-ceilometer,stable/stein,bug/1911852-stable/victoria-stable/ussuri-stable/train-stable/stein,I9dcf128951cc23a0c8c8e589c42a352a94b3c8df,Replace disk.* meters by disk.device.* meters,MERGED,2021-02-01 13:28:32.000000000,2021-04-27 10:17:13.000000000,2021-04-27 10:15:56.000000000,15,14,0,773213,ec536b2cbdcc2f19c7c91a4942167f1177c4abdc,8,3,1,4,9816,Takashi Kajinami,kajinamit,"Replace disk.* meters by disk.device.* meters

The disk.* meters have already removed from ceilometer[1] and we
should use the disk.device.* meters instead.

[1] f7b1218b8e26a0f9a5924a15b029a961413cc40a

Closes-Bug: #1911852
Change-Id: I9dcf128951cc23a0c8c8e589c42a352a94b3c8df
(cherry picked from commit 682ef848b7ecfd417f1160a7da496742fff4d9f3)
(cherry picked from commit a3511cbed6ca4bfa00d766f60344ed44655d81d7)
(cherry picked from commit 90ef42ef6e4be9594c709f249572f5c8e8a285de)
(cherry picked from commit d502884411343c862cf056fc2bf25ec6342548dc)
"
openstack%2Ftooz~master~Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b,openstack/tooz,master,redis_connection,Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b,Retry on redis connection errors,MERGED,2021-03-05 10:34:58.000000000,2021-04-27 10:17:04.000000000,2021-04-27 10:15:38.000000000,79,53,10,778878,a025b4d4ee9fe1bd722960ea03445034580bec6f,26,4,5,2,4264,Matthias Runge,mrunge,"Retry on redis connection errors

Sometimes, connections get closed by the server. This change
adds retrying to the code.

Change-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b
"
openstack%2Ftripleo-quickstart~master~Ice9ec44edc7c65b075800fc2c0924b188aed488e,openstack/tripleo-quickstart,master,col,Ice9ec44edc7c65b075800fc2c0924b188aed488e,DNM install RPM of ansible-collections-openstack,ABANDONED,2021-04-06 14:19:09.000000000,2021-04-27 10:13:28.000000000,,1,0,0,784966,6ee2b0c227e1af82baaa7ff79086d3128eda2694,4,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM install RPM of ansible-collections-openstack

testing...
Change-Id: Ice9ec44edc7c65b075800fc2c0924b188aed488e
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0a57374c5b58f5953b079b6690ecc77887ec8751,openstack/tripleo-heat-templates,stable/train,change-782753-2,I0a57374c5b58f5953b079b6690ecc77887ec8751,Add OVN chassis macs to hieradata,MERGED,2021-03-24 14:06:06.000000000,2021-04-27 10:11:09.000000000,2021-04-27 10:11:09.000000000,1,0,0,782753,2445de761e2b4255f99f79de3992b4d2e2330939,25,7,3,1,11082,Kamil Sambor,ksambor,"Add OVN chassis macs to hieradata

Add the tempalte in tripleo-ansible to the list of
hieradata_templates in common/hiera-steps-tasks.yaml

Depends-On: https://review.opendev.org/782741
Related-Bug: #1881593
Change-Id: I0a57374c5b58f5953b079b6690ecc77887ec8751
(cherry picked from commit 77e56441f1a9ef62feea59109f3574d00fbb9694)
(cherry picked from commit 02e2fbada5d7c8988ea9992f170f53b828261614)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I9e53187f37d41d7180e66db1239b5f9c8846addd,openstack/tripleo-heat-templates,stable/victoria,fix_hosts_entries-stable/victora,I9e53187f37d41d7180e66db1239b5f9c8846addd,Add RootStackName to group_vars,MERGED,2021-04-23 14:01:36.000000000,2021-04-27 10:10:53.000000000,2021-04-27 10:10:53.000000000,5,0,0,787746,50c089a1f6bb125be19d4a80c666ee8089684006,12,5,2,1,30073,Brendan Shephard,bshephar,"Add RootStackName to group_vars

After a Overcloud deployment, /etc/hosts on the undercloud
will be populated with entries for each overcloud node. Since
we use the same tripleo_ansible roles for both the undercloud
and overcloud deployment, the /etc/hosts file on the Director
will be removed by undercloud install / upgrade operations.

This is outlined here:
https://bugzilla.redhat.com/show_bug.cgi?id=1933528

This change adds the RootStackName to the group_vars,
this is then used by the tripleo_host_entries role in
tripleo-ansible to write host entries per stack.

Closes-Bug: #1924751
Resolves: rhbz#1933528
Change-Id: I9e53187f37d41d7180e66db1239b5f9c8846addd
"
openstack%2Ftripleo-heat-templates~master~If29d8ad8e1658f2d4f320deaca038579a7115dd8,openstack/tripleo-heat-templates,master,nova-cron-params,If29d8ad8e1658f2d4f320deaca038579a7115dd8,Migrate nova cron parameters to NovaApi service,MERGED,2021-04-21 13:50:25.000000000,2021-04-27 10:10:32.000000000,2021-04-27 10:10:32.000000000,154,154,5,787370,0e30ed962460f532d97eeff3007a34544386f433,23,8,2,2,9816,Takashi Kajinami,kajinamit,"Migrate nova cron parameters to NovaApi service

... beucause these parameters are associated with cron containers
defined in the NovaApi service.

Change-Id: If29d8ad8e1658f2d4f320deaca038579a7115dd8
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I73a2a54afdf9739bd4c08406645809c9b47c3e01,openstack/tripleo-ansible,stable/train,,I73a2a54afdf9739bd4c08406645809c9b47c3e01,Compute VIPs using net_vip_map instead of hiera,MERGED,2021-04-22 07:26:53.000000000,2021-04-27 10:10:27.000000000,2021-04-27 10:10:27.000000000,14,11,0,787496,bfd32e74ee95f57fb9e7f6856ed409b937f10846,9,7,1,1,25402,Francesco Pantano,fmount,"Compute VIPs using net_vip_map instead of hiera

This change provides two improvements:
1. VIPs are computed using the existing net_vip_map instead of running
   hiera commands;
2. the monitoring_stack_vip (on the storage network) is provided for
   both prometheus and alertmanager: these two services are not exposed
   but we need the ceph_mgr being aware about the vip.

Depends-On: I0dbcde302a3abdfccc3dd996b1c238e25064dd12

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/785574/

Change-Id: I73a2a54afdf9739bd4c08406645809c9b47c3e01
(cherry picked from commit 9c4254c2bca6e910cd8312538946e40d5be77516)
"
openstack%2Fpuppet-aodh~master~I8beee8a794b6607875fbc7a46ccc1e58c0c344b5,openstack/puppet-aodh,master,notifier-opts,I8beee8a794b6607875fbc7a46ccc1e58c0c344b5,Support batch_* parameters of notifier,MERGED,2021-04-23 14:00:44.000000000,2021-04-27 10:10:12.000000000,2021-04-27 10:08:46.000000000,39,1,0,787745,86aa1e34e9853ff731d45ed92327c1b4df0ae771,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Support batch_* parameters of notifier

This change introduces support for batch_* parameters in notifier,
which are tunable parameters about batch processing of alarms.

Change-Id: I8beee8a794b6607875fbc7a46ccc1e58c0c344b5
"
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I57f84757a229feb4e7d94ec912d723bf02392c88,openstack/puppet-openstack-integration,stable/train,,I57f84757a229feb4e7d94ec912d723bf02392c88,Ubuntu: Install neutron-tempest-plugin from source,MERGED,2021-03-28 12:24:59.000000000,2021-04-27 10:05:58.000000000,2021-04-27 10:05:58.000000000,6,1,2,783571,94c55e67c8acab8cdf2c4b046a786f02007c0d31,13,6,1,1,9816,Takashi Kajinami,kajinamit,"Ubuntu: Install neutron-tempest-plugin from source

It seems the current latest version of neutron-tempest-plugin available
in pip is not compatible with the latest tempest. Let's install it
from source so that we can always install the version compatible with
tempest.

Note:
Added version pin for stable backports.

Conflicts:
	run_tests.sh

Resolved conflict caused by the version pin implemented with pip.

Change-Id: I57f84757a229feb4e7d94ec912d723bf02392c88
(cherry picked from commit 7b8b11a8cfe98e6b2f08c3edc6b9b9222edeb937)
(cherry picked from commit 2e4793c0707274e90d7d8ebf7c2b4a01d432f2b7)
(cherry picked from commit c325bcf568d6f0dfeaa9dfca92782e88ec4eed5a)
"
openstack%2Fmistral-extra~stable%2Fwallaby~If2f3fb78481227442a0d6820a9654690d9a37db8,openstack/mistral-extra,stable/wallaby,create-wallaby,If2f3fb78481227442a0d6820a9654690d9a37db8,Update .gitreview for stable/wallaby,MERGED,2021-03-19 18:05:47.000000000,2021-04-27 09:47:35.000000000,2021-04-27 09:46:07.000000000,1,0,0,781832,d34df63c3aa88e9cade80a8bfc99a594ede043f1,9,2,2,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/wallaby

Change-Id: If2f3fb78481227442a0d6820a9654690d9a37db8
"
openstack%2Fpuppet-octavia~master~I05bff1f2c9c40dad6e5bfb5ef988f6859638378b,openstack/puppet-octavia,master,hc-typo,I05bff1f2c9c40dad6e5bfb5ef988f6859638378b,Fix a typo in file header,MERGED,2021-04-20 16:09:53.000000000,2021-04-27 09:28:47.000000000,2021-04-27 09:28:47.000000000,1,1,0,787256,cba4a35d8b0549add28c0716e0cdddd2a77a1eb0,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix a typo in file header

Change-Id: I05bff1f2c9c40dad6e5bfb5ef988f6859638378b
"
openstack%2Ftripleo-heat-templates~master~I58da2c214c5a9cf013bc7719649e0d0d4f3a6f74,openstack/tripleo-heat-templates,master,,I58da2c214c5a9cf013bc7719649e0d0d4f3a6f74,Run update tasks with become,MERGED,2021-04-14 08:42:44.000000000,2021-04-27 09:19:40.000000000,2021-04-27 09:19:40.000000000,1,0,0,786179,dc52f3c9498e4f0fb8dcc685f2ebd14b43d2f992,9,6,1,1,6926,Bogdan Dobrelya,bogdando,"Run update tasks with become

Make it aligned with the upgrade tasks, what uses become as well

Change-Id: I58da2c214c5a9cf013bc7719649e0d0d4f3a6f74
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fpuppet-openstack-cookiecutter~master~I9ddd46e3b6f2dc9abd36ad7e821e6598ab71689c,openstack/puppet-openstack-cookiecutter,master,policy,I9ddd46e3b6f2dc9abd36ad7e821e6598ab71689c,Add support for oslo_policy/policy_dirs,MERGED,2021-04-22 02:57:55.000000000,2021-04-27 09:18:57.000000000,2021-04-27 09:18:57.000000000,9,1,0,787466,f21b7007d03023b6367ebf61f003fa7d3f73ea2d,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Add support for oslo_policy/policy_dirs

Change-Id: I9ddd46e3b6f2dc9abd36ad7e821e6598ab71689c
"
openstack%2Fkolla-ansible~master~I758b803251d42d7555421af1086f3e58a5669128,openstack/kolla-ansible,master,,I758b803251d42d7555421af1086f3e58a5669128,CI: cephadm: retry OSD tasks,ABANDONED,2021-04-13 12:53:20.000000000,2021-04-27 09:18:30.000000000,,2,0,2,786043,4fecf7dc47299ed6f53387c431d99b8d49fe7d76,10,2,3,1,22629,Michal Nasiadka,mnasiadka,"CI: cephadm: retry OSD tasks

In some cases the task that applies OSDs is running too fast after the apply
spec task - which results in cephadm container not cleaning up after itself.
This change adds retries to that task.

Example:

2021-04-13 12:40:07.796208 | LOOP [cephadm : Add osds]
2021-04-13 12:40:17.117011 | primary | Inferring fsid 3c301e8c-9c55-11eb-b7d6-fa163efc0d96
2021-04-13 12:40:17.117662 | primary | Inferring config /var/lib/ceph/3c301e8c-9c55-11eb-b7d6-fa163efc0d96/mon.primary/config
2021-04-13 12:40:17.117852 | primary | Using recent ceph image ceph/ceph@sha256:030e84addad8f3a7d26ea49b180660f1a9b33ef06d691759f320a58e892fb535
2021-04-13 12:40:17.117998 | primary | Created osd(s) 0 on host 'primary'
2021-04-13 12:40:17.118244 | primary | ok: Item: primary:/dev/cephvg/cephlv Runtime: 0:00:08.636089
2021-04-13 12:40:24.158371 | primary | Inferring fsid 3c301e8c-9c55-11eb-b7d6-fa163efc0d96
2021-04-13 12:40:24.158579 | primary | Inferring config /var/lib/ceph/3c301e8c-9c55-11eb-b7d6-fa163efc0d96/mon.primary/config
2021-04-13 12:40:24.158676 | primary | Using recent ceph image ceph/ceph@sha256:030e84addad8f3a7d26ea49b180660f1a9b33ef06d691759f320a58e892fb535
2021-04-13 12:40:24.158770 | primary | Error EINVAL: Traceback (most recent call last):
2021-04-13 12:40:24.158861 | primary |   File ""/usr/share/ceph/mgr/mgr_module.py"", line 1204, in _handle_command
2021-04-13 12:40:24.158950 | primary |     return self.handle_command(inbuf, cmd)
2021-04-13 12:40:24.159039 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 140, in handle_command
2021-04-13 12:40:24.159127 | primary |     return dispatch[cmd['prefix']].call(self, cmd, inbuf)
2021-04-13 12:40:24.159215 | primary |   File ""/usr/share/ceph/mgr/mgr_module.py"", line 320, in call
2021-04-13 12:40:24.159303 | primary |     return self.func(mgr, **kwargs)
2021-04-13 12:40:24.159392 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 102, in <lambda>
2021-04-13 12:40:24.159481 | primary |     wrapper_copy = lambda *l_args, **l_kwargs: wrapper(*l_args, **l_kwargs)
2021-04-13 12:40:24.159624 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 91, in wrapper
2021-04-13 12:40:24.159752 | primary |     return func(*args, **kwargs)
2021-04-13 12:40:24.159843 | primary |   File ""/usr/share/ceph/mgr/orchestrator/module.py"", line 781, in _daemon_add_osd
2021-04-13 12:40:24.159931 | primary |     raise_if_exception(completion)
2021-04-13 12:40:24.160019 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 642, in raise_if_exception
2021-04-13 12:40:24.160107 | primary |     raise e
2021-04-13 12:40:24.160195 | primary | RuntimeError: cephadm exited with an error code: 1, stderr:Traceback (most recent call last):
2021-04-13 12:40:24.160286 | primary |   File ""<stdin>"", line 6153, in <module>
2021-04-13 12:40:24.160399 | primary |   File ""<stdin>"", line 1311, in _infer_fsid
2021-04-13 12:40:24.160489 | primary |   File ""<stdin>"", line 1394, in _infer_image
2021-04-13 12:40:24.160577 | primary |   File ""<stdin>"", line 3605, in command_ceph_volume
2021-04-13 12:40:24.160665 | primary |   File ""<stdin>"", line 781, in __init__
2021-04-13 12:40:24.160758 | primary | FileExistsError: [Errno 17] File exists: '/run/cephadm'
2021-04-13 12:40:24.160848 | primary | Exception ignored in: <bound method FileLock.__del__ of <__main__.FileLock object at 0x7f50db923320>>
2021-04-13 12:40:24.160936 | primary | Traceback (most recent call last):
2021-04-13 12:40:24.161024 | primary |   File ""<stdin>"", line 899, in __del__
2021-04-13 12:40:24.161112 | primary |   File ""<stdin>"", line 876, in release
2021-04-13 12:40:24.161200 | primary |   File ""<stdin>"", line 798, in is_locked
2021-04-13 12:40:24.161288 | primary | AttributeError: 'FileLock' object has no attribute '_lock_file_fd'

Change-Id: I758b803251d42d7555421af1086f3e58a5669128
"
openstack%2Fpuppet-openstack-cookiecutter~master~Id2f7990cd9743db38b4991f67f2de6b9636cb528,openstack/puppet-openstack-cookiecutter,master,policy,Id2f7990cd9743db38b4991f67f2de6b9636cb528,Add support for oslo_policy/enforce_new_defaults,MERGED,2021-04-22 02:57:55.000000000,2021-04-27 09:18:05.000000000,2021-04-27 09:18:05.000000000,19,10,0,787465,952503a3c2c43f6098be4645e71e23fa7ff024a3,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Add support for oslo_policy/enforce_new_defaults

Change-Id: Id2f7990cd9743db38b4991f67f2de6b9636cb528
"
openstack%2Ftenks~master~I3499944939aa717a382d87f5c90236499539de60,openstack/tenks,master,,I3499944939aa717a382d87f5c90236499539de60,Fix ansible lint,MERGED,2021-03-24 10:35:37.000000000,2021-04-27 09:08:34.000000000,2021-04-27 09:05:47.000000000,2,2,0,782682,945a79bc0b7123d8195c64320eaea5c0ac436470,7,3,1,1,14826,Mark Goddard,mgoddard,"Fix ansible lint

Ansible-lint is failing on physical-network.yml, which is a tasks file
rather than a playbook. Specify the two top-level playbooks only, and
ansible-lint will follow the includes.

Change-Id: I3499944939aa717a382d87f5c90236499539de60
"
openstack%2Fkolla~stable%2Fussuri~I499251d13ca77aea2215f8a879b7bb8dd51f1c9f,openstack/kolla,stable/ussuri,,I499251d13ca77aea2215f8a879b7bb8dd51f1c9f,rabbitmq: Move to packagecloud,MERGED,2021-04-26 16:57:34.000000000,2021-04-27 08:58:05.000000000,2021-04-27 08:56:05.000000000,25,36,2,787984,c366a5ca1799d5c85df60fdda21167806bcca6e6,16,4,3,7,30491,Radosław Piliszek,yoctozepto,"rabbitmq: Move to packagecloud

bintray is being shut down 1st of May 2021, rabbitmq docs direct
users to packagecloud - so let's move.

For Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340
(base: drop Linaro OBS key for CentOS and Ubuntu)

Change-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f
(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)
"
openstack%2Fswift~master~Ic36827397b0e607cc9962ac6b1428b3434202049,openstack/swift,master,relinker_extra_stats_ptg,Ic36827397b0e607cc9962ac6b1428b3434202049,relinker: add aggregate data to recon drop,NEW,2021-04-27 07:04:00.000000000,2021-04-27 08:35:44.000000000,,187,11,0,788177,a85f062e6685a36aaa33704cded66ed3d48c2de1,2,1,1,4,7233,Matthew Oliver,mattoliverau,"relinker: add aggregate data to recon drop

This patch starts a new collate process to intermittently collate the
device stats into overall and per policy stats. And places this under
'aggregate':
  {
      ""aggregate"": {
          ""parts_done"": 1029,
          ""policies"": {
              ""1"": {
                  ""parts_done"": 1029,
                  ""start_time"": 1618998724.845616,
                  ""stats"": {
                      ""errors"": 0,
                      ""files"": 1630,
                      ""hash_dirs"": 1630,
                      ""linked"": 1630,
                      ""removed"": 0
                  },
                  ""timestamp"": 1618998730.24672,
                  ""total_parts"": 1029,
                  ""total_time"": 5.400741815567017
              }
          },
          ""start_time"": 1618998724.845616,
          ""stats"": {
              ""errors"": 0,
              ""files"": 1630,
              ""hash_dirs"": 1630,
              ""linked"": 1630,
              ""policies"": 1,
              ""removed"": 0
          },
          ""timestamp"": 1618998730.24672,
          ""total_parts"": 1029,
          ""total_time"": 5.400741815567017
      },
      'devices': {...},
      'workers: {}
  }

Change-Id: Ic36827397b0e607cc9962ac6b1428b3434202049
"
openstack%2Fswift~master~I74adda0385ad4e30cb09fa2604d070694707293b,openstack/swift,master,,I74adda0385ad4e30cb09fa2604d070694707293b,Recommend setting recon_cache_path in [DEFAULT] section,NEW,2021-04-26 19:33:34.000000000,2021-04-27 08:05:31.000000000,,12,19,0,788067,d54b432c296acca46afd3411ca2a772cd3006d62,3,2,1,3,15343,Tim Burke,tburke,"Recommend setting recon_cache_path in [DEFAULT] section

You can still set it per-daemon, of course, but most of the time
operators seem to want all daemons for a layer dumping to the same
location.

Change-Id: I74adda0385ad4e30cb09fa2604d070694707293b
"
openstack%2Fswift~master~I61e63bd66ffd8207599b61721e7f0e4dc45d2e01,openstack/swift,master,,I61e63bd66ffd8207599b61721e7f0e4dc45d2e01,docs: Get rid of useless page,MERGED,2021-04-26 21:24:34.000000000,2021-04-27 08:00:12.000000000,2021-04-27 07:58:17.000000000,0,11,0,788086,8823b45b931287f704e8a977898d0d500690218e,7,2,1,2,15343,Tim Burke,tburke,"docs: Get rid of useless page

I think this was mostly an artifact of the old admin-guide getting
pushed in-tree.

Change-Id: I61e63bd66ffd8207599b61721e7f0e4dc45d2e01
"
openstack%2Fmistral~stable%2Fwallaby~Ief9c13b3ee222aeb60644726cec653e65a8b3605,openstack/mistral,stable/wallaby,create-wallaby,Ief9c13b3ee222aeb60644726cec653e65a8b3605,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-26 18:42:20.000000000,2021-04-27 07:43:29.000000000,2021-04-27 07:42:11.000000000,3,3,0,783453,c2a0205d56642ad920d94953079c98e17c7b3536,13,2,1,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ief9c13b3ee222aeb60644726cec653e65a8b3605
"
openstack%2Fpuppet-neutron~stable%2Fussuri~I0650085d2aa2c3492b175c565976705c977fd806,openstack/puppet-neutron,stable/ussuri,fix-l3-agent-extensions-list-stable/wallaby-stable/victoria-stable/ussuri,I0650085d2aa2c3492b175c565976705c977fd806,Fix L3 agent's extensions list,MERGED,2021-04-20 00:20:43.000000000,2021-04-27 07:32:00.000000000,2021-04-27 07:32:00.000000000,22,2,0,786993,82324318ca5af337c4878588554965872d458ce4,15,4,2,2,9816,Takashi Kajinami,kajinamit,"Fix L3 agent's extensions list

L3 agent's extensions list should be passed as an array
to the neutron::agents::l3 class and then it should be converted
to the comma separated string in the L3 agent's config.
This patch changes expected type of the variable and
adds that such conversion from an array to string.

Conflicts:
	manifests/agents/l3.pp

Change-Id: I0650085d2aa2c3492b175c565976705c977fd806
(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)
(cherry picked from commit db151245184f2188e8e4ef8be6b5418eba4e926b)
(cherry picked from commit 9029fe04cc2f504930613000f2169befc3540255)
"
openstack%2Fmistral-lib~master~I5aec8ad5fda23e3ffbb16a08a0b4626c3fc8db96,openstack/mistral-lib,master,787058,I5aec8ad5fda23e3ffbb16a08a0b4626c3fc8db96,Use py3 as the default runtime for tox,MERGED,2021-04-20 03:22:13.000000000,2021-04-27 07:18:54.000000000,2021-04-27 07:17:27.000000000,1,1,0,787058,b49b6e468494a15ebee4e9cc8702c72695d8d17c,28,2,5,1,31412,Wenping Song,songwenping,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I5aec8ad5fda23e3ffbb16a08a0b4626c3fc8db96
"
openstack%2Fpuppet-vswitch~master~Ie7e05985ac06c5536490d48de109d8de7b7c5722,openstack/puppet-vswitch,master,,Ie7e05985ac06c5536490d48de109d8de7b7c5722,Remove old workaround to check service status in Ubuntu,MERGED,2021-04-25 12:48:12.000000000,2021-04-27 07:15:25.000000000,2021-04-27 07:15:25.000000000,3,16,0,787880,1f63cee543d725e4a7d6de7f2f3eda235c85b564,9,3,1,2,9816,Takashi Kajinami,kajinamit,"Remove old workaround to check service status in Ubuntu

Change-Id: Ie7e05985ac06c5536490d48de109d8de7b7c5722
"
openstack%2Fwhereto~master~I0fb5cb8db4c666241569a5e2b0fa2fcef72a056c,openstack/whereto,master,,I0fb5cb8db4c666241569a5e2b0fa2fcef72a056c,Use py3 as the default runtime for tox,ABANDONED,2021-04-27 07:11:47.000000000,2021-04-27 07:13:02.000000000,,1,1,0,788181,21eb4163914184fda4e4f37212c89c44b1a028b5,2,0,1,1,32921,Reason li,liyou01,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this version isn't longer officially supported.

Change-Id: I0fb5cb8db4c666241569a5e2b0fa2fcef72a056c
"
openstack%2Fopenstack-helm-infra~master~Iff99ebe78554197db4d459bef0dda01b6b2710b7,openstack/openstack-helm-infra,master,update-mariadb,Iff99ebe78554197db4d459bef0dda01b6b2710b7,Uplift mariadb version and ubuntu release,MERGED,2021-04-15 19:53:12.000000000,2021-04-27 07:07:08.000000000,2021-04-27 07:05:48.000000000,5,4,0,786496,44947cc80b91510da6f68a434c847af2d260cabd,15,4,3,3,21420,Gage Hugo,ghugo,"Uplift mariadb version and ubuntu release

This change updates the default images for mariadb, both the version
to 10.5.9 and the ubuntu release to focal.

Change-Id: Iff99ebe78554197db4d459bef0dda01b6b2710b7
"
openstack%2Fheat~stable%2Fvictoria~Iaa2c05b4155d93f44de60b6f98a69450c1512817,openstack/heat,stable/victoria,,Iaa2c05b4155d93f44de60b6f98a69450c1512817,Preserve order in list_concat_unique,MERGED,2021-04-26 14:50:47.000000000,2021-04-27 06:58:55.000000000,2021-04-27 06:56:52.000000000,8,6,0,787983,0833daa3f77dd2267a6068eeafcf9d9af8da1a17,11,2,1,2,8833,Rabi Mishra,rabi,"Preserve order in list_concat_unique

Also, we should not modify a list when iterating
over it.

Task: 42359
Closes-Bug: #1925373
Change-Id: Iaa2c05b4155d93f44de60b6f98a69450c1512817
(cherry picked from commit a8f8528d1ea1952cf76bd09fd27cbd65a978af65)
"
openstack%2Fmistral-extra~stable%2Fwallaby~I2b533d9942c823582122036fc85637faa2743d72,openstack/mistral-extra,stable/wallaby,create-wallaby,I2b533d9942c823582122036fc85637faa2743d72,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-19 18:05:53.000000000,2021-04-27 06:57:08.000000000,2021-04-27 06:51:48.000000000,1,1,0,781834,803c19b4028c10915fa36c9f0b2a83fb0451d287,12,2,3,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I2b533d9942c823582122036fc85637faa2743d72
"
openstack%2Fmasakari~stable%2Ftrain~I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95,openstack/masakari,stable/train,bug/1839715,I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95,Search in nova services instead of hypervisors,MERGED,2021-04-25 19:29:44.000000000,2021-04-27 06:56:49.000000000,2021-04-27 06:55:22.000000000,71,61,0,787900,9eff08c7a8041c28a5f9c5ecb2b9915e7f42ce8c,8,5,1,8,30491,Radosław Piliszek,yoctozepto,"Search in nova services instead of hypervisors

Nova services and hypervisor naming can differ, as they retireve node
names in different way.
In the meanwhile we operate with nova.services while enabling/disabling
nodes duringh the incident. So we're supposed to have in database record
matching to what we have in service list, but not in hypervisor list.

Closes-Bug: #1839715
Change-Id: I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95
(cherry picked from commit 4322968b893b242f229912c2b70e3895f0227402)
(cherry picked from commit 35519c0ce02092aaef6b802817b74d017a84b08b)
"
openstack%2Fmasakari~stable%2Fussuri~I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95,openstack/masakari,stable/ussuri,bug/1839715,I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95,Search in nova services instead of hypervisors,MERGED,2021-04-25 19:25:02.000000000,2021-04-27 06:55:49.000000000,2021-04-27 06:53:56.000000000,71,61,0,787899,35519c0ce02092aaef6b802817b74d017a84b08b,8,5,1,8,30491,Radosław Piliszek,yoctozepto,"Search in nova services instead of hypervisors

Nova services and hypervisor naming can differ, as they retireve node
names in different way.
In the meanwhile we operate with nova.services while enabling/disabling
nodes duringh the incident. So we're supposed to have in database record
matching to what we have in service list, but not in hypervisor list.

Closes-Bug: #1839715
Change-Id: I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95
(cherry picked from commit 4322968b893b242f229912c2b70e3895f0227402)
"
openstack%2Fmistral-extra~stable%2Fwallaby~I2f33a01a2e928e440c4ebb001dc4e24b5bd89145,openstack/mistral-extra,stable/wallaby,fix_hacking_version-stable/wallaby,I2f33a01a2e928e440c4ebb001dc4e24b5bd89145,Fix hacking version,MERGED,2021-04-27 06:19:37.000000000,2021-04-27 06:54:33.000000000,2021-04-27 06:51:45.000000000,2,2,0,788143,a4f4d65f35b6394e771cf86bf18a0381864fda75,7,2,1,2,8731,Renat Akhmerov,rakhmerov,"Fix hacking version

Change-Id: I2f33a01a2e928e440c4ebb001dc4e24b5bd89145
"
openstack%2Fmistral-extra~master~I2f33a01a2e928e440c4ebb001dc4e24b5bd89145,openstack/mistral-extra,master,fix_hacking_version,I2f33a01a2e928e440c4ebb001dc4e24b5bd89145,Fix hacking version,MERGED,2021-04-27 04:59:40.000000000,2021-04-27 06:41:22.000000000,2021-04-27 06:39:46.000000000,2,2,0,788129,1b36297f3a58ae20eabd190ac15a58a5a499ee70,10,2,3,2,8731,Renat Akhmerov,rakhmerov,"Fix hacking version

Change-Id: I2f33a01a2e928e440c4ebb001dc4e24b5bd89145
"
openstack%2Fmasakari~master~Ib24be88c9f33889d5ed705537b0d4c167cad5b3f,openstack/masakari,master,http-status,Ib24be88c9f33889d5ed705537b0d4c167cad5b3f,Finish switch from http.client to HTTPStatus,MERGED,2020-11-11 10:50:22.000000000,2021-04-27 06:13:59.000000000,2021-04-27 06:11:10.000000000,137,130,2,762328,77464a138531e2b542e9bfca931d038c1498feeb,20,5,4,15,30491,Radosław Piliszek,yoctozepto,"Finish switch from http.client to HTTPStatus

Follow-up on [1]:
We don't need an HTTP client for this, we only
need status codes. Just load that instead.

[1] https://review.opendev.org/762308

Change-Id: Ib24be88c9f33889d5ed705537b0d4c167cad5b3f
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I3b252854a0dbf121d69bab79543561da6be781f4,openstack/tripleo-heat-templates,stable/train,nova_qemu_client_tls_verify,I3b252854a0dbf121d69bab79543561da6be781f4,Missing client certificate for live-migration with TLS,MERGED,2021-04-26 14:39:59.000000000,2021-04-27 05:58:59.000000000,2021-04-27 05:29:17.000000000,19,0,1,787979,ac1584a44f951b24f6379c235ffb07e3b0dbee2e,10,8,2,2,27419,David Vallee Delisle,dvd,"Missing client certificate for live-migration with TLS

TLS client verification used to be accidentally disabled in libvirt.
This was fixed in libvirt-6.10.0-1[1].
Which means, once you're using libvirt-6.10.0-1 or higher, a client
certificate is mandatory during live migration with TLS.

In this case, the server certificate generated by TripleO is valid
for client _and_ server:

                 Key Purpose (not critical):
                         TLS WWW Server.
                         TLS WWW Client.

So most deployments can re-use the same certificate for client and
server.  Why?  Because if both migration ends points are located
on the same infrastructure, it is reasonable to use the same
certificate for both client and server roles.

Introducing QemuDefaultTLSVerify parameter

This parameter will allow operators to enable or disable TLS client
certificate verification. Enabling this option will reject any client
who does not have a certificate signed by the CA in
/etc/pki/qemu/ca-cert.pem.

The default is true and matches libvirt's. We will want to disable this
by default in train.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/787249
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1945760
Change-Id: I3b252854a0dbf121d69bab79543561da6be781f4
(cherry picked from commit e7d37585ac38cfef5f1d1f2c54b357c38757536a)
(cherry picked from commit d0d4f25f3df418fab2ea8a3cc79b731cf398dfc0)
(cherry picked from commit dfb282b50306a6a68c52da530818fce425da7b41)
"
openstack%2Fldappool~master~I3c323d21cb3dc9054d24f53c87632255ec4de5fd,openstack/ldappool,master,,I3c323d21cb3dc9054d24f53c87632255ec4de5fd,Add py38 package metadata,ABANDONED,2021-01-03 03:00:06.000000000,2021-04-27 05:48:46.000000000,,1,0,0,768927,667809f2f3a7ba501e5470b7af3a1ee56e9badcc,5,1,1,1,31027,MaAoyu,maaoyu,"Add py38 package metadata

Now that we are running the Wallaby tests that include a
voting py38 job from victoria release, we can now add the
Python 3.8 metadata to the package information to reflect
that support.

Change-Id: I3c323d21cb3dc9054d24f53c87632255ec4de5fd
"
openstack%2Fpython-karborclient~master~I689c3f58e29c0017eac96c7c6211121e23b8bc9a,openstack/python-karborclient,master,,I689c3f58e29c0017eac96c7c6211121e23b8bc9a,bump py37 to py38 in tox.ini,ABANDONED,2020-10-12 08:11:04.000000000,2021-04-27 05:47:16.000000000,,1,1,0,757470,52bd285547152d2fd807209507d0e1511cc9270c,7,2,1,1,31027,MaAoyu,maaoyu,"bump py37 to py38 in tox.ini

in 'victoria' cycle, we should test py38 by default.

ref:
  https://governance.openstack.org/tc/reference/runtimes/victoria.html

Change-Id: I689c3f58e29c0017eac96c7c6211121e23b8bc9a
"
openstack%2Fzaqar~master~I08be0ba678f8fb12f699323d01009c2b52528e2d,openstack/zaqar,master,,I08be0ba678f8fb12f699323d01009c2b52528e2d,Use unittest.mock instead of mock,ABANDONED,2021-01-03 01:17:14.000000000,2021-04-27 05:46:54.000000000,,27,27,22,768890,6038e6c5e1a9f7c202b66c63d44e0709f45b2b52,5,1,2,27,31027,MaAoyu,maaoyu,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I08be0ba678f8fb12f699323d01009c2b52528e2d
"
openstack%2Fpython-swiftclient~master~Iaee5e1a7df3d3122738bed0c618a56af834b6ec3,openstack/python-swiftclient,master,,Iaee5e1a7df3d3122738bed0c618a56af834b6ec3,Use unittest.mock instead of mock,ABANDONED,2021-01-02 06:18:10.000000000,2021-04-27 05:39:11.000000000,,8,10,0,768856,27781f8df559c29562c0adf939b92fbd6f1e419c,6,1,3,10,31027,MaAoyu,maaoyu,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Iaee5e1a7df3d3122738bed0c618a56af834b6ec3
"
openstack%2Fpython-manilaclient~master~I8d3ec5b22e2fa57085d939900ab3668b81c6b5c5,openstack/python-manilaclient,master,unittest.mock,I8d3ec5b22e2fa57085d939900ab3668b81c6b5c5,Use unittest.mock instead of mock,ABANDONED,2021-01-02 03:13:51.000000000,2021-04-27 05:38:54.000000000,,3,13,0,768848,1b1545e7deaadacfd6f2678663200651823736f8,13,3,4,3,31027,MaAoyu,maaoyu,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Also increase the version of python-openstackclient
in test-requirements to a version that doesn't need mock
for its own testing.

Change-Id: I8d3ec5b22e2fa57085d939900ab3668b81c6b5c5
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fpython-freezerclient~master~I28a941ae668f310a40b559e0691d63a33ee08fef,openstack/python-freezerclient,master,,I28a941ae668f310a40b559e0691d63a33ee08fef,Remove install unnecessary packages,ABANDONED,2020-09-24 01:19:49.000000000,2021-04-27 05:38:31.000000000,,0,1,0,753874,353a5a2f8a3a4387f832e8d552764d16120b7d08,12,2,1,1,31027,MaAoyu,maaoyu,"Remove install unnecessary packages

The docs requirements migrated to doc/requirements.txt
we need not install things from requirements.txt.

Change-Id: I28a941ae668f310a40b559e0691d63a33ee08fef
"
openstack%2Ftripleo-image-elements~stable%2Fvictoria~Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,openstack/tripleo-image-elements,stable/victoria,fix-ci,Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,Drop pbr version ceiling,MERGED,2021-04-26 13:58:30.000000000,2021-04-27 05:34:38.000000000,2021-04-27 05:30:27.000000000,8,8,0,788003,b73f4154cab14ed635f2ab25fad528360b509a21,16,4,6,8,14985,Alex Schultz,mwhahaha,"Drop pbr version ceiling

- Ceiling of pbr version can create installation conflicts with pip.
- Fixes tox default env list to be python version agnostic
- Includes hacking version bump to fix dependencies

NOTE: Partial backport of the master fix. This patch excludes the py39
job updates.

Bug: #1921679
Change-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d
(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)
"
openstack%2Ftripleo-ansible~master~I22b93cc1057b5894e2c8342c578a3b8080b542ae,openstack/tripleo-ansible,master,cephadm_rgw_tls,I22b93cc1057b5894e2c8342c578a3b8080b542ae,Allow tripleo_cephadm to process tls info when provided,MERGED,2021-04-09 12:04:19.000000000,2021-04-27 05:34:35.000000000,2021-04-27 05:30:35.000000000,28,4,6,785629,417588a58967c533f6a4af0f97e298cb9df56c3b,34,5,5,5,25402,Francesco Pantano,fmount,"Allow tripleo_cephadm to process tls info when provided

When internal_tls is true, step1 runs the linux-system-roles.certificate
which is able to produce the ceph_rgw.pem file [1].
When this info is available, we need to make sure that cephadm is able
to process it using the spec, and it's included in the deployed rgw(s)
instances.
If the rgw_frontend_ssl_certificate is empty, then this key can be
ignored (this means tls is not enabled). The ceph_spec module is now
able to filter and drop empty keys if the value is not provided when
the spec dict is built.

[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/cephadm/ceph-rgw.yaml#L169

Change-Id: I22b93cc1057b5894e2c8342c578a3b8080b542ae
"
openstack%2Ftripleo-heat-templates~master~Icbdee2a30e2bc6fcf0dc7774e622e27b5cc15270,openstack/tripleo-heat-templates,master,cinder-backup-compression-algorithm,Icbdee2a30e2bc6fcf0dc7774e622e27b5cc15270,Add CinderBackupCompressionAlgorithm parameter,MERGED,2021-04-16 19:27:37.000000000,2021-04-27 05:34:34.000000000,2021-04-27 05:31:01.000000000,24,0,0,786709,d29e1b249b118d55e59c675fd2ec226ade2afb40,17,5,2,2,21129,Alan Bishop,ASBishop,"Add CinderBackupCompressionAlgorithm parameter

The CinderBackupCompressionAlgorithm supports specifying the compression
algorithm for cinder backup drivers that support the feature (most of
the drivers do, but the ceph backup driver doesn't).

Change-Id: Icbdee2a30e2bc6fcf0dc7774e622e27b5cc15270
"
openstack%2Fopenstack-ansible-specs~master~Ib8d8274ea930c48be1fbb81206461c9ff221affc,openstack/openstack-ansible-specs,master,,Ib8d8274ea930c48be1fbb81206461c9ff221affc,Add Root CA spec,MERGED,2020-10-19 12:28:54.000000000,2021-04-27 05:34:17.000000000,2021-04-27 05:31:30.000000000,239,1,52,758805,4a27daf736e489c90474dadcb7cea2b042eeafec,28,3,7,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add Root CA spec

Change-Id: Ib8d8274ea930c48be1fbb81206461c9ff221affc
"
openstack%2Ftripleo-validations~master~I09ef0d13e27eeac5334a0bec25f9abe79aa4b1ff,openstack/tripleo-validations,master,swift/purge/servicestats,I09ef0d13e27eeac5334a0bec25f9abe79aa4b1ff,Removes retired services from service status validation,MERGED,2021-03-23 10:11:56.000000000,2021-04-27 05:34:15.000000000,2021-04-27 05:30:11.000000000,6,4,0,782397,cd99e125e24104e45676f678073a036b8cc059e8,11,7,2,2,32926,Jiri Podivin,jpodivin,"Removes retired services from service status validation

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I09ef0d13e27eeac5334a0bec25f9abe79aa4b1ff
"
openstack%2Ftripleo-image-elements~stable%2Fvictoria~I0dc1f98865e6d134ccd4c4f27ccc179722054abb,openstack/tripleo-image-elements,stable/victoria,create-victoria,I0dc1f98865e6d134ccd4c4f27ccc179722054abb,Update .gitreview for stable/victoria,MERGED,2021-04-01 09:20:41.000000000,2021-04-27 05:30:32.000000000,2021-04-27 05:30:32.000000000,1,0,0,784259,3f7f9eedd975974d9d08aacfebc645bea0551c2e,13,3,2,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/victoria

Change-Id: I0dc1f98865e6d134ccd4c4f27ccc179722054abb
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I785400969efba0062aabdca9af2726a7603ef840,openstack/puppet-tripleo,stable/train,change-782773-2,I785400969efba0062aabdca9af2726a7603ef840,Set ovn_chassis_mac_map in ovn::controller,MERGED,2021-03-24 14:57:59.000000000,2021-04-27 05:30:05.000000000,2021-04-27 05:30:05.000000000,17,5,0,782773,9cabed9d27bc7e91878814a21a889e416fc2ebd3,30,5,3,1,11082,Kamil Sambor,ksambor,"Set ovn_chassis_mac_map in ovn::controller

For distributed vlan in ovn we need to add support of
creating mac addresses per compute and seting them in
external_ids:ovn-chassis-mac-mappings.

Depends-On: https://review.opendev.org/782765
Related-Bug: #1881593
Change-Id: I785400969efba0062aabdca9af2726a7603ef840
(cherry picked from commit ef44eebdc56b839bfbdcb7190c1c1e1ce4fe46d6)
(cherry picked from commit 06f2a09393d00dcc87cb3ce73d56dabd94782ce0)
(cherry picked from commit 15d65f57dacd93228767b03f3931b44b2caf3384)
"
openstack%2Fpuppet-tripleo~master~I4131fcd5bb39dc09527f17b5d149fe18be3f2fd5,openstack/puppet-tripleo,master,vrts,I4131fcd5bb39dc09527f17b5d149fe18be3f2fd5,cinder: remove support for the Veritas HyperScale Driver,MERGED,2021-04-22 15:40:43.000000000,2021-04-27 05:29:49.000000000,2021-04-27 05:29:49.000000000,1,144,2,787590,52a9396acfbde11a9dc592cedd9f8768ff49ee06,21,5,4,6,9816,Takashi Kajinami,kajinamit,"cinder: remove support for the Veritas HyperScale Driver

Following the change in tripleo-heat-templates, this change removes
all implementation to support the Veritas HyperScale Driver, since
the driver itself has been removed from cinder.

Depends-on: https://review.opendev.org/787587
Change-Id: I4131fcd5bb39dc09527f17b5d149fe18be3f2fd5
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I21d2b8f2e267a6f330cc423572b068e3910cacc4,openstack/puppet-tripleo,stable/ussuri,zuul-ut,I21d2b8f2e267a6f330cc423572b068e3910cacc4,Use puppet-openstack-module-unit-jobs to define unit test jobs,MERGED,2021-04-23 14:34:29.000000000,2021-04-27 05:29:45.000000000,2021-04-27 05:29:45.000000000,1,15,0,787761,c04b6b52e6f63eacc8ed62a7566722de01dd1e03,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Use puppet-openstack-module-unit-jobs to define unit test jobs

This patch replaces puppet-tripleo-module-unit-jobs by the common
job definition, puppet-openstack-module-unit-jobs, so that we run
unit test jobs which is consistent with the other puppet modules.

By merging this changes, we expect that the following change is made
to the current job definitions
- Remove CentOS7 job because we don't support CentOS7 anymore
- Replace puppet 6.0 job by puppet 6.11 job

Backport note:
The above descriptions were adjusted to reflect status of Ussuri.

Conflicts:
	zuul.d/layout.yaml

Change-Id: I21d2b8f2e267a6f330cc423572b068e3910cacc4
(cherry picked from commit ef254f7dc7ea257060042eb6ac7c8f6731d2e52b)
"
openstack%2Fos-collect-config~stable%2Fussuri~I7d01ce77918d60de1c4eb942044255b42c7fc9f5,openstack/os-collect-config,stable/ussuri,create-ussuri,I7d01ce77918d60de1c4eb942044255b42c7fc9f5,Update TOX_CONSTRAINTS_FILE for stable/ussuri,MERGED,2021-02-02 12:40:43.000000000,2021-04-27 05:29:42.000000000,2021-04-27 05:29:42.000000000,1,1,0,773654,1bdb36136a052dddc3299c2775916aeb6ad3648b,9,3,2,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7d01ce77918d60de1c4eb942044255b42c7fc9f5
"
openstack%2Fos-collect-config~stable%2Fussuri~I06546ff9fdd24fb07a90758f882edeacccc4ebf3,openstack/os-collect-config,stable/ussuri,create-ussuri,I06546ff9fdd24fb07a90758f882edeacccc4ebf3,Update .gitreview for stable/ussuri,MERGED,2021-02-02 12:40:14.000000000,2021-04-27 05:29:26.000000000,2021-04-27 05:29:26.000000000,1,0,0,773653,385ad808fd66cd5a45412712c125d7726c9cb4b3,9,3,2,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/ussuri

Change-Id: I06546ff9fdd24fb07a90758f882edeacccc4ebf3
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~Ib3e2d9c93221dfc2e15974142f30e8c84e7afd63,openstack/puppet-tripleo,stable/ussuri,stonith-step-stable/victoria-stable/ussuri,Ib3e2d9c93221dfc2e15974142f30e8c84e7afd63,Move stonith resource creation to step2,MERGED,2021-04-14 11:52:37.000000000,2021-04-27 05:29:22.000000000,2021-04-27 05:29:22.000000000,8,1,0,786115,d9857e6f97157b3b4e0080d08fd407f92484d66f,32,5,2,1,20172,Michele Baldessari,michele,"Move stonith resource creation to step2

With the merging of the pcs on host patchset for train we are seeing a
problem with FFUs on Instance HA environments.

Preamble:
Tripleo keeps the stonith-enabled cluster property set to false until the puppet step 5

With the pcs on host patchset the enablement happens still at step 5 but
it gets triggered during tripleo_ha_wrapper deployment task of
cinder-volume which tries to restart the cinder-volume service (during
the leapp of the first controller) and this hangs forever because
pacemaker is in the following transition:
- stonith-fence_compute-fence-nova is configured
- pacemaker wants to call stonith on for controller-0 (which is probably
  dumb, but it is unlikely we'll be able to change that in the right
  timeframe as it seems a potentially involved change in behaviour)
- Any other action, like cinder-volume restart in this case, is stuck
  and the FFU fails.

If we simply move the stonith resource creation (and change nothing else
in the stonith-enabled property being set at step 5) to step 2, we
fix this.

Tested and with the injection of this puppet-tripleo review into the
FFU queens->train upgrade on an IHA system, now the FFU passes.
Also applied this patch to a Train based IHA deployment and verified
that deployment, redeploy, minor update and scaleup all keep on working.

Closes-Bug: #1923723

Change-Id: Ib3e2d9c93221dfc2e15974142f30e8c84e7afd63
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I3b252854a0dbf121d69bab79543561da6be781f4,openstack/tripleo-heat-templates,stable/ussuri,nova_qemu_client_tls_verify,I3b252854a0dbf121d69bab79543561da6be781f4,Missing client certificate for live-migration with TLS,MERGED,2021-04-26 14:34:15.000000000,2021-04-27 05:03:09.000000000,2021-04-27 05:02:00.000000000,19,0,0,787978,dfb282b50306a6a68c52da530818fce425da7b41,11,8,3,2,27419,David Vallee Delisle,dvd,"Missing client certificate for live-migration with TLS

TLS client verification used to be accidentally disabled in libvirt.
This was fixed in libvirt-6.10.0-1[1].
Which means, once you're using libvirt-6.10.0-1 or higher, a client
certificate is mandatory during live migration with TLS.

In this case, the server certificate generated by TripleO is valid
for client _and_ server:

                 Key Purpose (not critical):
                         TLS WWW Server.
                         TLS WWW Client.

So most deployments can re-use the same certificate for client and
server.  Why?  Because if both migration ends points are located
on the same infrastructure, it is reasonable to use the same
certificate for both client and server roles.

Introducing QemuDefaultTLSVerify parameter

This parameter will allow operators to enable or disable TLS client
certificate verification. Enabling this option will reject any client
who does not have a certificate signed by the CA in
/etc/pki/qemu/ca-cert.pem.

The default is true and matches libvirt's. We will want to disable this
by default in train.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/787248
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1945760
Change-Id: I3b252854a0dbf121d69bab79543561da6be781f4
(cherry picked from commit e7d37585ac38cfef5f1d1f2c54b357c38757536a)
(cherry picked from commit d0d4f25f3df418fab2ea8a3cc79b731cf398dfc0)
"
openstack%2Fmistral-lib~master~Iccaf7cfb8051ec1b01fde0786489855013297703,openstack/mistral-lib,master,,Iccaf7cfb8051ec1b01fde0786489855013297703,Dropping lower constraints testing,MERGED,2021-04-25 03:03:46.000000000,2021-04-27 04:32:57.000000000,2021-04-27 04:30:01.000000000,0,58,0,787864,83b2d7ec4eea8ca07d5c8209a311b9779c702201,8,3,1,3,31412,Wenping Song,songwenping,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Iccaf7cfb8051ec1b01fde0786489855013297703
"
openstack%2Fpython-vitrageclient~master~I387ccef324ebc989da9fa5731472a26baa917a85,openstack/python-vitrageclient,master,stestr,I387ccef324ebc989da9fa5731472a26baa917a85,Add find to allowlist_externals and use vitrageclient in place of python_vitrageclient,ABANDONED,2021-04-26 08:59:18.000000000,2021-04-27 04:27:35.000000000,,2,1,0,787944,76d25dd5b68954265d9dd0c390a933e2373adbe0,5,2,1,1,33370,Hitesh Kumar,heroichitesh,"Add find to allowlist_externals and use
vitrageclient in place of python_vitrageclient

Signed-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>
Change-Id: I387ccef324ebc989da9fa5731472a26baa917a85
"
openstack%2Fpuppet-neutron~stable%2Fvictoria~I0650085d2aa2c3492b175c565976705c977fd806,openstack/puppet-neutron,stable/victoria,fix-l3-agent-extensions-list-stable/wallaby-stable/victoria,I0650085d2aa2c3492b175c565976705c977fd806,Fix L3 agent's extensions list,MERGED,2021-04-20 00:18:23.000000000,2021-04-27 04:12:38.000000000,2021-04-27 04:12:38.000000000,22,2,0,786961,9029fe04cc2f504930613000f2169befc3540255,17,4,2,2,9816,Takashi Kajinami,kajinamit,"Fix L3 agent's extensions list

L3 agent's extensions list should be passed as an array
to the neutron::agents::l3 class and then it should be converted
to the comma separated string in the L3 agent's config.
This patch changes expected type of the variable and
adds that such conversion from an array to string.

Change-Id: I0650085d2aa2c3492b175c565976705c977fd806
(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)
(cherry picked from commit db151245184f2188e8e4ef8be6b5418eba4e926b)
"
openstack%2Ftempest-lib~master~Iac5d5ff30671f3d4bbcafa8ad03f8d503011e7a6,openstack/tempest-lib,master,,Iac5d5ff30671f3d4bbcafa8ad03f8d503011e7a6,Use unittest.mock instead of mock,ABANDONED,2021-01-02 06:29:21.000000000,2021-04-27 03:52:45.000000000,,2,2,0,768859,0926314d8ba2529f57caf2e1adb523fe9f030876,4,2,1,2,31027,MaAoyu,maaoyu,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Iac5d5ff30671f3d4bbcafa8ad03f8d503011e7a6
"
openstack%2Foslo.utils~master~I48d3d121c2e3e34ab4ebb426b7cf57f9c86c924d,openstack/oslo.utils,master,,I48d3d121c2e3e34ab4ebb426b7cf57f9c86c924d,Remove references to 'sys.version_info',ABANDONED,2021-04-27 01:53:54.000000000,2021-04-27 02:12:07.000000000,,0,0,0,788136,0a36c25e1aed5b4a25ab06041f80e3bb8fbb8686,2,0,1,0,31827,Jorhson Deng,dengzhaosen,"Remove references to 'sys.version_info'

We support Python 3.6 as a minimum now, making these checks no-ops.

Change-Id: I48d3d121c2e3e34ab4ebb426b7cf57f9c86c924d
"
openstack%2Fvalidations-common~master~I21de23aab15d742c0e46b6b37d8ad85c18b3b08c,openstack/validations-common,master,,I21de23aab15d742c0e46b6b37d8ad85c18b3b08c,ConfigParser exeption message should be returned,ABANDONED,2021-04-27 01:56:30.000000000,2021-04-27 01:58:17.000000000,,2,2,0,788118,11d07be89c51312e8f00672b9293ac49b431545c,2,0,1,1,27419,David Vallee Delisle,dvd,"ConfigParser exeption message should be returned

When we fail to parse config file it would be good to know why instead
of having a generic message. When we print the exception, the message is
pretty clear.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1950544
Change-Id: I21de23aab15d742c0e46b6b37d8ad85c18b3b08c
"
openstack%2Ftripleo-image-elements~stable%2Fussuri~Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,openstack/tripleo-image-elements,stable/ussuri,fix-ci-ussuri,Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,Drop pbr version ceiling,MERGED,2021-04-26 14:00:11.000000000,2021-04-27 01:47:05.000000000,2021-04-27 01:45:41.000000000,8,8,0,788004,2b5e3aaefdeb3e1de5d47efdba5e5d82952b89b3,11,4,3,8,14985,Alex Schultz,mwhahaha,"Drop pbr version ceiling

- Ceiling of pbr version can create installation conflicts with pip.
- Fixes tox default env list to be python version agnostic
- Includes hacking version bump to fix dependencies

NOTE: Partial backport of the master fix. This patch excludes the py39
job updates.

Bug: #1921679
Change-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d
(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)
(cherry picked from commit 55b2437394abddc23be5781aa495ffabf24f2f31)
"
openstack%2Ftripleo-image-elements~stable%2Ftrain~Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,openstack/tripleo-image-elements,stable/train,fix-ci-train,Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,Drop pbr version ceiling,MERGED,2021-04-26 14:01:12.000000000,2021-04-27 01:46:50.000000000,2021-04-27 01:45:25.000000000,8,8,0,788005,44c79f626b3a66d07b71fb12cf416286b55d614b,11,4,2,8,14985,Alex Schultz,mwhahaha,"Drop pbr version ceiling

- Ceiling of pbr version can create installation conflicts with pip.
- Fixes tox default env list to be python version agnostic
- Includes hacking version bump to fix dependencies

NOTE: Partial backport of the master fix. This patch excludes the py39
job updates.

Bug: #1921679
Change-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d
(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)
(cherry picked from commit 55b2437394abddc23be5781aa495ffabf24f2f31)
(cherry picked from commit 2b5e3aaefdeb3e1de5d47efdba5e5d82952b89b3)
"
openstack%2Ftripleo-image-elements~stable%2Ftrain~I29d632814577db0b720b07d4497983e267d46a4e,openstack/tripleo-image-elements,stable/train,ens3-1,I29d632814577db0b720b07d4497983e267d46a4e,ensure any ens3 interface is nuked during image build,MERGED,2021-04-23 18:18:31.000000000,2021-04-27 01:45:49.000000000,2021-04-27 01:45:49.000000000,2,2,0,787797,c6d24542ab16019d643fa42ba7f5834e53d8d087,19,7,3,1,9592,wes hayutin,weshayutin,"ensure any ens3 interface is nuked during image build

It seems as though w/ CentOS-8.3 ens3 has crept
back into play.  Ensure it's not in the overcloud
images.  See bug for details.

Closes-Bug: #1910107
Change-Id: I29d632814577db0b720b07d4497983e267d46a4e
(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)
"
openstack%2Ftripleo-image-elements~stable%2Fussuri~I29d632814577db0b720b07d4497983e267d46a4e,openstack/tripleo-image-elements,stable/ussuri,ens3-1,I29d632814577db0b720b07d4497983e267d46a4e,ensure any ens3 interface is nuked during image build,MERGED,2021-04-23 18:17:45.000000000,2021-04-27 01:45:45.000000000,2021-04-27 01:45:45.000000000,2,2,0,787796,49c16a368ee4e1f1ba99a04883f7342f964ab7a9,20,7,3,1,9592,wes hayutin,weshayutin,"ensure any ens3 interface is nuked during image build

It seems as though w/ CentOS-8.3 ens3 has crept
back into play.  Ensure it's not in the overcloud
images.  See bug for details.

Closes-Bug: #1910107
Change-Id: I29d632814577db0b720b07d4497983e267d46a4e
(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)
"
openstack%2Ftripleo-heat-templates~master~I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592,openstack/tripleo-heat-templates,master,logging-fix,I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592,Correct metrics_qdr logging path and regex parsing,MERGED,2021-04-12 18:55:41.000000000,2021-04-27 01:45:11.000000000,2021-04-27 01:45:11.000000000,5,5,1,785956,cda21df470cb801608fa7cf625100e754bc8e161,27,7,4,3,31510,Paul Leimer,pleimer,"Correct metrics_qdr logging path and regex parsing

Change-Id: I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592
Resolves: rhbz#1945075
"
openstack%2Fpuppet-vswitch~master~I6110cd9a62f33e2d046fc2c835aaec73c4532889,openstack/puppet-vswitch,master,untested-distro,I6110cd9a62f33e2d046fc2c835aaec73c4532889,Drop support for FreeBSD and Solaris,MERGED,2021-04-25 12:55:41.000000000,2021-04-27 01:43:48.000000000,2021-04-27 01:43:48.000000000,4,215,0,787881,b91243937e53d23970cddb19b9883be3773b5fb0,11,3,1,5,9816,Takashi Kajinami,kajinamit,"Drop support for FreeBSD and Solaris

These two distros are never tested in gate, and there are almost no
activities to keep these support updated for a while.

Change-Id: I6110cd9a62f33e2d046fc2c835aaec73c4532889
"
openstack%2Fneutron~master~Iffd1deb977e92b9a600ab2603408ddf2eb387e18,openstack/neutron,master,bug/1925836-md-chassis-monitoring,Iffd1deb977e92b9a600ab2603408ddf2eb387e18,[OVN] MetadataProxyHandler to conditionally monitor both Chassis's tables,MERGED,2021-04-23 16:34:44.000000000,2021-04-27 01:12:50.000000000,2021-04-26 12:26:17.000000000,3,3,0,787780,ce2c0010b93680bdcb6619940a84f8602769b837,14,6,1,1,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] MetadataProxyHandler to conditionally monitor both Chassis's tables

If both Chassis and Chassis_Private tables are passed to the
MetadataProxyHandler class we should conditionally monitor both of them.

Change-Id: Iffd1deb977e92b9a600ab2603408ddf2eb387e18
Co-Authored-By: Terry Wilson <twilson@redhat.com>
Closes-Bug: #1925836
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fmasakari-monitors~master~Ic1b19423f7a9d93e9bc76bf94b5d5e3101f8341d,openstack/masakari-monitors,master,,Ic1b19423f7a9d93e9bc76bf94b5d5e3101f8341d,Replaces yaml.load() with yaml.safe_load(),MERGED,2018-02-13 07:07:12.000000000,2021-04-27 01:03:05.000000000,2021-04-27 01:01:58.000000000,1,1,3,543815,1087a38cc2f77dd7a4b02a34daae9bc4b77dc624,22,8,3,1,19853,Nguyen Hung Phuong,phuongnh,"Replaces yaml.load() with yaml.safe_load()

Yaml.load() return Python object may be dangerous if you receive a YAML
document from an untrusted source such as the Internet. The function
yaml.safe_load() limits this ability to simple Python objects like
integers or lists.

Reference:
https://security.openstack.org/guidelines/dg_avoid-dangerous-input-parsing-libraries.html

Change-Id: Ic1b19423f7a9d93e9bc76bf94b5d5e3101f8341d
"
openstack%2Fkayobe~master~I3d85b341cf541cfb9b486021e66b316833fe9130,openstack/kayobe,master,,I3d85b341cf541cfb9b486021e66b316833fe9130,Use released version of mrlesmithjr.mdadm,MERGED,2021-04-26 08:10:35.000000000,2021-04-27 00:33:51.000000000,2021-04-27 00:32:30.000000000,1,2,0,787934,7411e624dea77a1b94d91bd37c9a388aa5011bb4,15,6,1,1,15197,Pierre Riteau,priteau,"Use released version of mrlesmithjr.mdadm

An initial version of the mrlesmithjr.mdadm role was released 2 days
ago. There are only minimal changes compared to the commit we were
using. This should avoid the following issue seen in CI:

[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified
version (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not
found in the list of available versions ([{'id': 152374, 'url': '', 'related':
{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':
'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',
'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':
'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':
'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':
None}]).
ERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.

Change-Id: I3d85b341cf541cfb9b486021e66b316833fe9130
"
openstack%2Fneutron~stable%2Fussuri~Ia90f2ee435b0a3476dbea028d3200cefe11e35e4,openstack/neutron,stable/ussuri,bug/1883089-stable/ussuri,Ia90f2ee435b0a3476dbea028d3200cefe11e35e4,[L3] Check agent gateway port robustly,MERGED,2021-03-10 14:31:56.000000000,2021-04-27 00:14:39.000000000,2021-04-27 00:12:47.000000000,38,1,0,779613,4093727ae9c751cce8c39dd0eb022b2c9b90d624,24,5,3,2,9531,liuyulong,LIU-Yulong,"[L3] Check agent gateway port robustly

In patch [1] it introduced a binding of DB uniq constraint for L3
agent gateway. In some extreme case the DvrFipGatewayPortAgentBinding
is in DB while the gateway port not. The current code path only checks
the binding existence which will pass a ""None"" port to the following
code path that results an AttributeError. This patch adds a simple check
for that gateway port, if it is not created, new one.

[1] https://review.opendev.org/#/c/702547/

Closes-Bug: #1883089
Change-Id: Ia90f2ee435b0a3476dbea028d3200cefe11e35e4
(cherry picked from commit 5fdfd4cbfc56425c56b4a5702d92a97da56ab6e8)
"
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~Icaebf1f72a1655883c54c730e5c6976c5fbc6989,openstack/puppet-openstack-integration,stable/train,,Icaebf1f72a1655883c54c730e5c6976c5fbc6989,Train-only: Add Puppet 5 syntax job on CentOS8 Stream,ABANDONED,2021-04-23 07:18:42.000000000,2021-04-27 00:11:31.000000000,,9,0,0,787671,9eb7ac3effe9293a353eeb8200570ba3a524bc67,3,1,1,2,9816,Takashi Kajinami,kajinamit,"Train-only: Add Puppet 5 syntax job on CentOS8 Stream

Change-Id: Icaebf1f72a1655883c54c730e5c6976c5fbc6989
"
openstack%2Ftripleo-validations~master~If23c41d343678dcbbd0b4aae10ca6281a33e385f,openstack/tripleo-validations,master,fqdn,If23c41d343678dcbbd0b4aae10ca6281a33e385f,Make tls_everywhere validations compatible with ansible_facts,MERGED,2021-04-24 09:18:32.000000000,2021-04-26 23:49:13.000000000,2021-04-26 23:49:13.000000000,3,3,0,787835,b63d45a2c6d108c3ad62b098a07af72736650755,10,11,2,2,20172,Michele Baldessari,michele,"Make tls_everywhere validations compatible with ansible_facts

Via [1] we cannot rely on ansible_* vars anymore. So let's switch to
ansible_facts. This should fix the following error:

  2021-04-22 22:08:36,708 p=36100 u=mistral n=ansible | fatal:
  [undercloud]: FAILED! => {""msg"": ""The task includes an option with an
  undefined variable. The error was: {{ tls_everywhere_undercloud_fqdn |
  default(ansible_fqdn) }}: 'ansible_fqdn' is undefined\n\nThe error
  appears to be in
  '/usr/share/ansible/roles/tls_everywhere/tasks/ipa-server-check.yaml':
  line 59, column 7, but may\nbe elsewhere in the file depending on the
  exact syntax problem.\n\nThe offending line appears to be:\n\n\n    -
  name: kinit as the host entity\n      ^ here\n""}

Closes-Bug: #1925999

[1] https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e6b7fa4b026922bac7953bafeee96d

Change-Id: If23c41d343678dcbbd0b4aae10ca6281a33e385f
"
openstack%2Ftripleo-ansible~master~I274fa5e2a4dcd0501f4b40ce38b5480c2f88002d,openstack/tripleo-ansible,master,jobs,I274fa5e2a4dcd0501f4b40ce38b5480c2f88002d,Fix molecule jobs to work with stream nodes,MERGED,2021-04-26 09:02:36.000000000,2021-04-26 23:49:08.000000000,2021-04-26 23:49:08.000000000,22,4,0,787946,7e29933d41f0de6b0697a17ea88a5bfcee72103b,10,6,2,12,10969,Shnaidman Sagi (Sergey),sergsh,"Fix molecule jobs to work with stream nodes

Change-Id: I274fa5e2a4dcd0501f4b40ce38b5480c2f88002d
"
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I29e3e8b5dab256816ea108d23ccb1f0558e43e82,openstack/puppet-tripleo,stable/victoria,bug/1915800,I29e3e8b5dab256816ea108d23ccb1f0558e43e82,Add ports filtering support to XtremIO Cinder driver,MERGED,2021-03-06 21:54:59.000000000,2021-04-26 23:35:41.000000000,2021-04-26 23:34:37.000000000,8,0,0,779005,f363602ba075141a87296bf83c828cdb8919b439,15,6,1,3,31016,Ivan Pchelintsev,pcheli,"Add ports filtering support to XtremIO Cinder driver

If there are some iSCSI or FC targets (ESXi for example) that
are not connected to the OpenStack host,
attach volume operation waits until timeout.
The XtremIO Cinder driver needs a new option to support ports
filtering.

Depends-On: https://review.opendev.org/#/c/779000
Related-Bug: #1915800
Change-Id: I29e3e8b5dab256816ea108d23ccb1f0558e43e82
(cherry picked from commit 4c981b570210a10eac3f88c44570629d04eded64)
"
openstack%2Ftripleo-common~master~I2c3e9088bf92146b07d46288c2264368e15aa63b,openstack/tripleo-common,master,ephemeral-heat,I2c3e9088bf92146b07d46288c2264368e15aa63b,Add utils for local_orchestration_client,MERGED,2021-04-23 20:39:28.000000000,2021-04-26 23:10:51.000000000,2021-04-26 23:09:31.000000000,97,0,1,787819,ebe43cd8db4140469b70858276e38fcbdf91b885,15,4,1,1,7144,James Slagle,slagle,"Add utils for local_orchestration_client

Add a utils/heat.py which can be used by both tripleoclient and
tripleo-ansible to launch and configure a heatclient for ephemeral Heat.

Change-Id: I2c3e9088bf92146b07d46288c2264368e15aa63b
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fopenstack-helm-infra~master~I1f07d8308d7f92f88149f63e8ea128f7038c58de,openstack/openstack-helm-infra,master,mariadb-pvc,I1f07d8308d7f92f88149f63e8ea128f7038c58de,DNM - Alternate Mariadb Chart,ABANDONED,2021-04-26 20:31:33.000000000,2021-04-26 21:26:17.000000000,,358,16,0,788078,5c27eb700ddde2d050b8dfa7bbc69c3cbf09ee10,4,1,2,9,21420,Gage Hugo,ghugo,"DNM - Alternate Mariadb Chart

Change-Id: I1f07d8308d7f92f88149f63e8ea128f7038c58de
"
openstack%2Fpuppet-aodh~master~Ifece49e145c57b9b04312536ac771a55d791e4ab,openstack/puppet-aodh,master,gnocchi_external_domain_name,Ifece49e145c57b9b04312536ac771a55d791e4ab,Add support for api/gnocchi_external_domain_name,MERGED,2021-04-23 13:38:42.000000000,2021-04-26 21:19:11.000000000,2021-04-26 21:18:08.000000000,22,4,0,787738,2b382776ad6cd73facb444c1e134b37649c06d8a,10,3,2,3,9816,Takashi Kajinami,kajinamit,"Add support for api/gnocchi_external_domain_name

Change-Id: Ifece49e145c57b9b04312536ac771a55d791e4ab
"
openstack%2Ftripleo-common~master~Id881bda7389b3c3ce40637ba5eedae4ff2b14dab,openstack/tripleo-common,master,zz,Id881bda7389b3c3ce40637ba5eedae4ff2b14dab,WIP: Changed retry logic on buildah build,ABANDONED,2020-12-15 14:49:42.000000000,2021-04-26 21:17:46.000000000,,24,22,0,767168,06339a2014d659adcd2d967ba400b9baae837ec3,14,5,4,1,24162,Sorin Sbârnea,ssbarnea,"WIP: Changed retry logic on buildah build

- Refactored logging
- Enables logging of retries, so we know how often it happens
- Increase number of retries to 5
- Switched delay from 1s to exponential, capping at 60s

Change-Id: Id881bda7389b3c3ce40637ba5eedae4ff2b14dab
Tested-By: https://review.rdoproject.org/r/#/c/31369/
"
openstack%2Frpm-packaging~stable%2Fwallaby~I5e6e925632f8152a4fe0f7ba6cce86050395080c,openstack/rpm-packaging,stable/wallaby,,I5e6e925632f8152a4fe0f7ba6cce86050395080c,Update .gitreview and tox.ini to stable/wallaby,MERGED,2021-04-26 14:39:03.000000000,2021-04-26 21:10:47.000000000,2021-04-26 21:10:47.000000000,2,1,0,788012,d88c3e0cd6a62bfc4ee56d8f943b1e5a19b47692,6,4,1,2,13294,Javier Peña,jpena,"Update .gitreview and tox.ini to stable/wallaby

This will direct reviews to use the right branches.

Change-Id: I5e6e925632f8152a4fe0f7ba6cce86050395080c
"
openstack%2Fkayobe~stable%2Fvictoria~I3d85b341cf541cfb9b486021e66b316833fe9130,openstack/kayobe,stable/victoria,,I3d85b341cf541cfb9b486021e66b316833fe9130,Use released version of mrlesmithjr.mdadm,MERGED,2021-04-26 08:26:23.000000000,2021-04-26 21:03:04.000000000,2021-04-26 21:01:46.000000000,1,2,0,787939,bf10fce87a47c3ee732c6fd8c8a4d2951ba805ee,12,3,1,1,15197,Pierre Riteau,priteau,"Use released version of mrlesmithjr.mdadm

An initial version of the mrlesmithjr.mdadm role was released 2 days
ago. There are only minimal changes compared to the commit we were
using. This should avoid the following issue seen in CI:

[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified
version (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not
found in the list of available versions ([{'id': 152374, 'url': '', 'related':
{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':
'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',
'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':
'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':
'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':
None}]).
ERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.

Change-Id: I3d85b341cf541cfb9b486021e66b316833fe9130
Depends-On: https://review.opendev.org/c/openstack/kayobe/+/787938
(cherry picked from commit 7411e624dea77a1b94d91bd37c9a388aa5011bb4)
"
openstack%2Ftripleo-image-elements~stable%2Fvictoria~I82e73dc9d592d360e545a66b3f0b4d3252e5a4fc,openstack/tripleo-image-elements,stable/victoria,victoria,I82e73dc9d592d360e545a66b3f0b4d3252e5a4fc,add default branch to .gitreview,ABANDONED,2021-04-26 17:17:27.000000000,2021-04-26 20:20:54.000000000,,1,0,0,788049,ca9a466ef24d241bce481e8f72f51bac0b639cba,6,1,3,1,9592,wes hayutin,weshayutin,"add default branch to .gitreview

Change-Id: I82e73dc9d592d360e545a66b3f0b4d3252e5a4fc
"
openstack%2Fpuppet-ovn~master~I9cd3105d13e02a7bbd5ef6ad4befed7bae9d488d,openstack/puppet-ovn,master,hw_offload,I9cd3105d13e02a7bbd5ef6ad4befed7bae9d488d,Remove deprecated ovn::controller::enable_hw_offload,MERGED,2021-04-25 11:49:45.000000000,2021-04-26 20:18:08.000000000,2021-04-26 20:16:43.000000000,5,24,0,787877,bbfc138c287c8a0e97711fa70e05e60a3c3fc981,12,3,2,3,9816,Takashi Kajinami,kajinamit,"Remove deprecated ovn::controller::enable_hw_offload

Change-Id: I9cd3105d13e02a7bbd5ef6ad4befed7bae9d488d
"
openstack%2Ftripleo-docs~master~I93a524f210045bc0ac291f3a2be8cc8dead9a223,openstack/tripleo-docs,master,,I93a524f210045bc0ac291f3a2be8cc8dead9a223,Add scale up/down example for cephadm integration,MERGED,2021-04-23 22:04:13.000000000,2021-04-26 20:17:48.000000000,2021-04-26 20:16:22.000000000,168,6,17,787825,1ccdfbfafae369d83356b2596b2f30a86d60567f,15,5,3,1,18002,John Fulton,fultonj,"Add scale up/down example for cephadm integration

Change-Id: I93a524f210045bc0ac291f3a2be8cc8dead9a223
"
openstack%2Fnova~stable%2Fwallaby~I1c12b2903c1e5bf3a88394493456ad33233f3cd8,openstack/nova,stable/wallaby,bug/1882421,I1c12b2903c1e5bf3a88394493456ad33233f3cd8,guestfs: With libguestfs >= v1.41.1 decode returned bytes to string,MERGED,2021-04-24 15:55:18.000000000,2021-04-26 19:53:56.000000000,2021-04-26 19:52:20.000000000,11,4,1,787839,e98935f705a931e3ae666820387a419be1622b64,11,3,1,3,10135,Lee Yarwood,lyarwood,"guestfs: With libguestfs >= v1.41.1 decode returned bytes to string

libguestfs >= v1.41.1 and commit 0ee02e0117527 changed the return type
of read_file from string to bytes.

https://github.com/libguestfs/libguestfs/commit/0ee02e0117527b86a31b2a88a14994ce7f15571f

As we don't check the version of libguestfs installed this change
handles both the original behaviour where a string is returned and the
newer behaviour by decoding any returned bytes to a string.

Closes-Bug: #1882421
Change-Id: I1c12b2903c1e5bf3a88394493456ad33233f3cd8
(cherry picked from commit 606d588e3eca1d88ad26b4c2cfa3f2e1d5ed553e)
"
openstack%2Fnova~stable%2Fwallaby~I212a2db8d71702d330b146dc6f871b402a309e74,openstack/nova,stable/wallaby,bug/1919487,I212a2db8d71702d330b146dc6f871b402a309e74,compute: Reject requests to commit intermediary snapshot of an inactive instance,MERGED,2021-04-09 09:06:19.000000000,2021-04-26 19:33:36.000000000,2021-04-26 19:31:53.000000000,66,9,0,785576,200c743400ed3fd5240fd25d0396eb6180b3f26a,16,4,1,2,10135,Lee Yarwood,lyarwood,"compute: Reject requests to commit intermediary snapshot of an inactive instance

Introduced by I76eb2e4da027a13525314bd58264f482374d270d the
os-assisted-volume-snapshots API is only implemented by the libvirt virt
driver and should only be called by c-vol as part of an orchestrated
remotefs based volume snapshot creation or deletion workflow.

While not documented clearly in the current api-ref there are code
comments within the compute API suggesting that this API can be called
against a volume attached to an instance that is in *any* vm_state.

This however is not correct when deleting and in turn committing an
intermediary volume snapshot of an instance that is not running given
the current implementation within the libvirt driver. With a request to
virDomainBlockCommit being made that fails if the instance and
underlying domain is not running.

Adding support for an offline commit isn't trivial and would be
considered a new feature and not something we could backport on the
stable branches. As such this change seeks to ensure requests to commit
an intermediary volume snapshot from an inactive instance are rejected
quickly and clearly by the compute API to the caller before we cast to
the compute.

Closes-Bug: #1919487
Change-Id: I212a2db8d71702d330b146dc6f871b402a309e74
(cherry picked from commit 99409375a03e6f923a8b6b00a5dd653bab74caaf)
"
openstack%2Frequirements~master~Ifb092290664a38724c84e70ffb22eb0020cffdb6,openstack/requirements,master,new-release,Ifb092290664a38724c84e70ffb22eb0020cffdb6,update constraint for openstacksdk to new release 0.56.0,MERGED,2021-04-26 14:47:47.000000000,2021-04-26 19:16:00.000000000,2021-04-26 19:13:22.000000000,1,1,0,788016,a5c80a52265931156de34b1b2ab490a0d6335ba4,8,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for openstacksdk to new release 0.56.0

meta: version: 0.56.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Commit: Jens Harbott <j.harbott@x-ion.de>
meta: release:Change-Id: Icc386a9fe36ddae4edbc15603e745b14d1861271
meta: release:Code-Review+1: Dr. Jens Harbott <j.harbott@x-ion.de>
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ifb092290664a38724c84e70ffb22eb0020cffdb6
"
openstack%2Fneutron~master~I7c20fec08e5dc9f67b34100c925ea6724bbd25f0,openstack/neutron,master,unittest2,I7c20fec08e5dc9f67b34100c925ea6724bbd25f0,Replace assertItemsEqual with assertCountEqual,MERGED,2020-07-12 03:24:20.000000000,2021-04-26 19:15:20.000000000,2021-04-26 19:12:38.000000000,164,154,0,740569,62729d4e74f615fff36ba7be6662fa7dda562ef2,191,6,2,36,30356,gugug,gujin,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

NOTE(dmllr): added hacking check

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I7c20fec08e5dc9f67b34100c925ea6724bbd25f0
"
openstack%2Fnova~stable%2Fwallaby~I0e068043d8267ab91535413d950a3e154c2234f7,openstack/nova,stable/wallaby,bug/1923206,I0e068043d8267ab91535413d950a3e154c2234f7,libvirt: Ignore device already in the process of unplug errors,MERGED,2021-04-15 18:55:52.000000000,2021-04-26 19:15:15.000000000,2021-04-26 19:13:04.000000000,59,2,0,786483,972a86d61f6b6f0f3d1af549b081854e6ff016bc,16,3,1,2,10135,Lee Yarwood,lyarwood,"libvirt: Ignore device already in the process of unplug errors

At present QEMU will raise an error to libvirt when a device_del request
is made for a device that has already partially detached through a
previous request. This is outlined in more detail in the following
downstream Red Hat QEMU bug report:

Get libvirtError ""Device XX is already in the process of unplug"" [..]
https://bugzilla.redhat.com/show_bug.cgi?id=1878659

Within Nova we can actually ignore this error and allow our existing
retry logic to attempt again after a short wait, hopefully allowing the
original request to complete removing the device from the domain.

This change does this and should result in one of the following
device_del requests raising a VIR_ERR_DEVICE_MISSING error from libvirt.
_try_detach_device should then translate that libvirt error into a
DeviceNotFound exception which is itself then ignored by all
detach_device_with_retry callers and taken to mean that the device has
detached successfully.

Closes-Bug: #1923206
Change-Id: I0e068043d8267ab91535413d950a3e154c2234f7
(cherry picked from commit 0a7d3794c6dc39976b4cbfe12b1688230ac895a8)
"
openstack%2Fswift~master~Id7e828a56c8a62a1f3e9a1dbbff5a56c928ac6b8,openstack/swift,master,,Id7e828a56c8a62a1f3e9a1dbbff5a56c928ac6b8,Include sharding cycle time in recon,MERGED,2021-04-23 23:14:26.000000000,2021-04-26 19:15:08.000000000,2021-04-26 19:13:31.000000000,5,3,1,787831,f2a4c50dce4f8e3322b1a016f7b15afee53f04a0,13,2,2,2,15343,Tim Burke,tburke,"Include sharding cycle time in recon

Change-Id: Id7e828a56c8a62a1f3e9a1dbbff5a56c928ac6b8
"
openstack%2Frequirements~master~I1da8af4c5524f921485b9b01fa91c676bb172bcf,openstack/requirements,master,new-release,I1da8af4c5524f921485b9b01fa91c676bb172bcf,update constraint for pbr to new release 5.6.0,MERGED,2021-04-26 15:28:08.000000000,2021-04-26 19:14:56.000000000,2021-04-26 19:13:12.000000000,1,1,0,788030,cd72f2ea8e6404d1a06a89e90dc2cb9113c79de9,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for pbr to new release 5.6.0

meta: version: 5.6.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Stephen Finucane <sfinucan@redhat.com>
meta: release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta: release:Change-Id: Ibc0257c052aa0e60293c37a6990dce18e97e7730
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I1da8af4c5524f921485b9b01fa91c676bb172bcf
"
openstack%2Fopenstack-ansible-os_trove~master~Ia5c92f312a773c88563c61bba327f07ef369d62c,openstack/openstack-ansible-os_trove,master,,Ia5c92f312a773c88563c61bba327f07ef369d62c,Adjust service restart handlers,MERGED,2021-04-26 09:39:56.000000000,2021-04-26 19:03:59.000000000,2021-04-26 19:02:53.000000000,9,18,0,787950,21619ca389f197979f9b40b2c7732aa03343606d,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Adjust service restart handlers

We should make service restart handlers more universal, since
there might be cases where api and taskmanager are placed on different
hosts. So we should restart services only when they are present, and
filtered_trove_services helps us here as defines only services that
should exist on the host.

This also align handler with other services and fix taskmanager restart
as it is missing now but conductor is restarted twice instead.

Change-Id: Ia5c92f312a773c88563c61bba327f07ef369d62c
"
openstack%2Fopenstack-ansible-os_octavia~master~I22c56f32d7308803e9363f9375d7f6206ccecd41,openstack/openstack-ansible-os_octavia,master,,I22c56f32d7308803e9363f9375d7f6206ccecd41,Set octavia_amp_image_owner_id by default,MERGED,2021-04-23 07:13:57.000000000,2021-04-26 19:02:24.000000000,2021-04-26 19:01:11.000000000,30,1,0,787670,9ef492e3b2663d035061745b23b471f3c8d5da27,16,3,3,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Set octavia_amp_image_owner_id by default

This patch sets the octavia_amp_image_owner_id default so that the
Octavia configuration file has amp_image_owner_id populated.
That is important security setting for production deployments that helps
to avoid faked images being used

Change-Id: I22c56f32d7308803e9363f9375d7f6206ccecd41
"
openstack%2Fansible-role-python_venv_build~master~If27a6e57c56a0b294442b71aa777d759bc401868,openstack/ansible-role-python_venv_build,master,,If27a6e57c56a0b294442b71aa777d759bc401868,Fix facts gathering when run with tags,MERGED,2021-04-23 07:48:34.000000000,2021-04-26 19:01:04.000000000,2021-04-26 18:59:35.000000000,2,0,0,787680,53db970168dd3847e244173c740470c493f2760e,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix facts gathering when run with tags

Currently facts are not gathered when role is run with tags
This patch fixes that behaviour and prevents role failure.

Change-Id: If27a6e57c56a0b294442b71aa777d759bc401868
"
openstack%2Fopenstack-ansible-os_octavia~master~I4b51290b94b5b4b54b111d197688f65129a4f5ad,openstack/openstack-ansible-os_octavia,master,,I4b51290b94b5b4b54b111d197688f65129a4f5ad,Use dynamic import for conditional task imports,MERGED,2021-04-23 07:25:02.000000000,2021-04-26 19:00:25.000000000,2021-04-26 18:59:15.000000000,37,16,0,787673,53870c390e213b4a655de5922d22d3fa8873f17e,8,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use dynamic import for conditional task imports

When task import condition is false, we need to use include instead
of import, since this allows not running through all tasks and
reduce amount of skipped tasks for such deployments.

Change-Id: I4b51290b94b5b4b54b111d197688f65129a4f5ad
"
openstack%2Fopenstack-ansible-os_keystone~master~I33a88f3782d7cf334ad878e57b07d09dcd77842c,openstack/openstack-ansible-os_keystone,master,,I33a88f3782d7cf334ad878e57b07d09dcd77842c,Use common name for service project description,MERGED,2021-04-23 07:41:03.000000000,2021-04-26 18:52:38.000000000,2021-04-26 18:51:27.000000000,2,1,0,787676,700730dfd93bed24d03a33794ea47148e113a2ef,8,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use common name for service project description

Since `service` project is shared, it's confusing to have same naming as
for service_catalog. We add variable
`keystone_service_project_description` that will be used specifically
for `service` project description

Change-Id: I33a88f3782d7cf334ad878e57b07d09dcd77842c
"
openstack%2Ftripleo-quickstart~master~I42ce75997b0f9eeec2f51b0ac0449cde7971cbdc,openstack/tripleo-quickstart,master,wallaby-branching,I42ce75997b0f9eeec2f51b0ac0449cde7971cbdc,Addl wallaby release file for centosci,MERGED,2021-04-26 07:01:33.000000000,2021-04-26 18:41:05.000000000,2021-04-26 18:39:33.000000000,117,31,0,787921,7ceaa0c0a5d0e528c71fc130573fef10677ca71f,9,8,1,5,13861,yatin,yatinkarel,"Addl wallaby release file for centosci

Also update other centosci release files to centos8-stream
and container-tools:3.0 like other non centosci release files.

Change-Id: I42ce75997b0f9eeec2f51b0ac0449cde7971cbdc
"
openstack%2Ftripleo-common~stable%2Ftrain~Ica1b5c0a165cc06fac668513114eef2b4ba73f56,openstack/tripleo-common,stable/train,mistral-ansible-log-stable/ussuri-stable/train,Ica1b5c0a165cc06fac668513114eef2b4ba73f56,[Victoria and bellow] Ensure rights on the ansible.log file,MERGED,2021-04-20 12:13:21.000000000,2021-04-26 18:41:01.000000000,2021-04-26 18:39:30.000000000,5,0,0,786971,32e2249e41c637e8f6362a4d459b1418d2a3324e,14,3,1,1,28223,Cedric Jeanneret,cjeanner,"[Victoria and bellow] Ensure rights on the ansible.log file

When mistral starts the Ansible action, a log file is created runtime.
But nothing takes care of its access right, leading to potential data
leaks to unprivileged users (default mode is 0644).

This patch creates the logfile beforehands, and sets the needed rights
on it.

Change-Id: Ica1b5c0a165cc06fac668513114eef2b4ba73f56
Closes-Bug: #1918138
(cherry picked from commit d485407159ea6cb2c7abf6d5788d85147f433996)
(cherry picked from commit fdd5c0c09161c69975c0b62a02cbf256295c0c48)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I73a2a54afdf9739bd4c08406645809c9b47c3e01,openstack/tripleo-ansible,stable/ussuri,ceph_dashboard_ha-stable/ussuri,I73a2a54afdf9739bd4c08406645809c9b47c3e01,Compute VIPs using net_vip_map instead of hiera,MERGED,2021-04-22 07:25:00.000000000,2021-04-26 18:39:38.000000000,2021-04-26 18:39:38.000000000,14,11,0,787477,f25499a2932be44f3852136a6d723c1b8cd95c42,9,6,1,1,25402,Francesco Pantano,fmount,"Compute VIPs using net_vip_map instead of hiera

This change provides two improvements:
1. VIPs are computed using the existing net_vip_map instead of running
   hiera commands;
2. the monitoring_stack_vip (on the storage network) is provided for
   both prometheus and alertmanager: these two services are not exposed
   but we need the ceph_mgr being aware about the vip.

Depends-On: I0dbcde302a3abdfccc3dd996b1c238e25064dd12

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/785574/

Change-Id: I73a2a54afdf9739bd4c08406645809c9b47c3e01
(cherry picked from commit 9c4254c2bca6e910cd8312538946e40d5be77516)
"
openstack%2Fcharm-guide~master~I820835e53e22deefacb74200fb26a4fc09c7c365,openstack/charm-guide,master,compute-nodes-az-sync,I820835e53e22deefacb74200fb26a4fc09c7c365,Add sync-compute-availability-zones release note,MERGED,2021-04-23 02:07:54.000000000,2021-04-26 18:36:17.000000000,2021-04-26 18:35:04.000000000,15,0,6,787659,696f809604f67d8b6a3c812e3eff0d056d50552d,15,2,3,1,8992,Billy Olsen,billy-olsen,"Add sync-compute-availability-zones release note

Add a release note regarding the sync-compute-availability-zones
action.

Depends-On: Ibd71cd61e51b04599eadf21b3ef46e47544b8814
Change-Id: I820835e53e22deefacb74200fb26a4fc09c7c365
"
openstack%2Fswift~master~I2a5021c4833ff713fb6d0d39f16a6d0e523e3697,openstack/swift,master,p-relinker-log,I2a5021c4833ff713fb6d0d39f16a6d0e523e3697,relinker: Add start/end logs to parallel_process,MERGED,2021-04-12 16:29:28.000000000,2021-04-26 18:33:49.000000000,2021-04-26 18:32:06.000000000,68,15,0,785936,e76ba21077a97543a11c2c0a1b65424d581bb265,9,2,1,2,7847,Alistair Coles,acoles,"relinker: Add start/end logs to parallel_process

Change-Id: I2a5021c4833ff713fb6d0d39f16a6d0e523e3697
"
openstack%2Fopenstack-helm-infra~master~I26d43e1734a98a4d298df69114d6bfb3b2d1334a,openstack/openstack-helm-infra,master,,I26d43e1734a98a4d298df69114d6bfb3b2d1334a,[WIP] Enable Elasticsearch TLS on the transport layer,ABANDONED,2021-04-16 21:32:49.000000000,2021-04-26 18:33:06.000000000,,17,1,0,786736,6542ebc12af9496ce244211a7147e95ef79f8ade,9,1,4,5,19391,Chi Lo,cl566n,"[WIP] Enable Elasticsearch TLS on the transport layer

Change-Id: I26d43e1734a98a4d298df69114d6bfb3b2d1334a
"
openstack%2Fmasakari~master~I88df10d648616eab635e30562de630b4e35badf6,openstack/masakari,master,drop-external-ci,I88df10d648616eab635e30562de630b4e35badf6,[CI] Drop external CI,MERGED,2021-04-26 17:33:06.000000000,2021-04-26 18:25:59.000000000,2021-04-26 18:22:10.000000000,0,9,0,788052,4227d23ac6111884cf15e7ae8be445cbb12381aa,7,2,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Drop external CI

NTT no longer provides their CI. [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/022024.html

Change-Id: I88df10d648616eab635e30562de630b4e35badf6
"
openstack%2Frequirements~master~Ic98e7b9b2f7eeb15a2eabc2792ba9b0792277d71,openstack/requirements,master,openstack/requirements/constraints/noclob,Ic98e7b9b2f7eeb15a2eabc2792ba9b0792277d71,Updated from generate-constraints,MERGED,2021-04-20 06:29:48.000000000,2021-04-26 18:07:11.000000000,2021-04-26 18:05:52.000000000,15,15,1,787100,4793be53f6fc3b4c3f81ec8b4860793678d8a746,28,2,7,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ic98e7b9b2f7eeb15a2eabc2792ba9b0792277d71
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fkayobe~stable%2Fussuri~I3d85b341cf541cfb9b486021e66b316833fe9130,openstack/kayobe,stable/ussuri,,I3d85b341cf541cfb9b486021e66b316833fe9130,Use released version of mrlesmithjr.mdadm,MERGED,2021-04-26 08:25:41.000000000,2021-04-26 18:01:34.000000000,2021-04-26 18:00:00.000000000,1,2,0,787938,d633f938dddde58f5504663616f71dbb207aeb0a,12,3,1,1,15197,Pierre Riteau,priteau,"Use released version of mrlesmithjr.mdadm

An initial version of the mrlesmithjr.mdadm role was released 2 days
ago. There are only minimal changes compared to the commit we were
using. This should avoid the following issue seen in CI:

[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified
version (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not
found in the list of available versions ([{'id': 152374, 'url': '', 'related':
{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':
'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',
'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':
'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':
'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':
None}]).
ERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.

Change-Id: I3d85b341cf541cfb9b486021e66b316833fe9130
Depends-On: https://review.opendev.org/c/openstack/kayobe/+/787937
(cherry picked from commit 7411e624dea77a1b94d91bd37c9a388aa5011bb4)
"
openstack%2Fcharm-nova-cloud-controller~master~Ibd71cd61e51b04599eadf21b3ef46e47544b8814,openstack/charm-nova-cloud-controller,master,compute-nodes-az-sync,Ibd71cd61e51b04599eadf21b3ef46e47544b8814,Add sync-compute-availability-zones Juju action,MERGED,2021-02-03 15:35:32.000000000,2021-04-26 17:54:49.000000000,2021-04-26 17:54:49.000000000,234,3,13,773929,b56572cf6bde1cbc91af1f0bab0aab25a1648efd,69,7,9,6,13178,Ionut-Madalin Balutoiu,ibalutoiu,"Add sync-compute-availability-zones Juju action

This action should be used to sync the Juju availability zones,
from the nova-compute units, with the OpenStack availability zones.
The action is meant to be used post-deployment by the operator.

It will setup OpenStack aggregates for each availability zone, and
add the proper compute hosts to them.

Co-Authored-By: Billy Olsen <billy.olsen@canonical.com>
Change-Id: Ibd71cd61e51b04599eadf21b3ef46e47544b8814
"
openstack%2Fmasakari-monitors~master~Iacec7d04a188c20454c9e504f1df04e816aae5dc,openstack/masakari-monitors,master,,Iacec7d04a188c20454c9e504f1df04e816aae5dc,Fix yaml load warning,ABANDONED,2021-04-19 07:53:26.000000000,2021-04-26 17:51:09.000000000,,1,1,1,786825,c54c70acc3f70e3aa9977ad5232543fa992c1a8d,7,2,3,1,23182,kourosh vivan,KouroshVivan,"Fix yaml load warning

see: https://github.com/yaml/pyyaml/wiki/PyYAML-yaml.load(input)-Deprecation
Change-Id: Iacec7d04a188c20454c9e504f1df04e816aae5dc
"
openstack%2Fnova~stable%2Ftrain~I212a2db8d71702d330b146dc6f871b402a309e74,openstack/nova,stable/train,bug/1919487,I212a2db8d71702d330b146dc6f871b402a309e74,compute: Reject requests to commit intermediary snapshot of an inactive instance,NEW,2021-04-09 09:17:06.000000000,2021-04-26 17:43:56.000000000,,66,9,0,785583,97e78d0b66c9246acb077749eea2a79f0709371b,5,1,1,2,10135,Lee Yarwood,lyarwood,"compute: Reject requests to commit intermediary snapshot of an inactive instance

Introduced by I76eb2e4da027a13525314bd58264f482374d270d the
os-assisted-volume-snapshots API is only implemented by the libvirt virt
driver and should only be called by c-vol as part of an orchestrated
remotefs based volume snapshot creation or deletion workflow.

While not documented clearly in the current api-ref there are code
comments within the compute API suggesting that this API can be called
against a volume attached to an instance that is in *any* vm_state.

This however is not correct when deleting and in turn committing an
intermediary volume snapshot of an instance that is not running given
the current implementation within the libvirt driver. With a request to
virDomainBlockCommit being made that fails if the instance and
underlying domain is not running.

Adding support for an offline commit isn't trivial and would be
considered a new feature and not something we could backport on the
stable branches. As such this change seeks to ensure requests to commit
an intermediary volume snapshot from an inactive instance are rejected
quickly and clearly by the compute API to the caller before we cast to
the compute.

Closes-Bug: #1919487
Change-Id: I212a2db8d71702d330b146dc6f871b402a309e74
(cherry picked from commit 99409375a03e6f923a8b6b00a5dd653bab74caaf)
(cherry picked from commit 200c743400ed3fd5240fd25d0396eb6180b3f26a)
(cherry picked from commit 8a41605a78173207746a38350d7fb554f2701b7a)
(cherry picked from commit 57a810c0bddb2d5fb8c8e97bba07a1c4eeb2a11a)
"
openstack%2Fnova~stable%2Fussuri~I212a2db8d71702d330b146dc6f871b402a309e74,openstack/nova,stable/ussuri,bug/1919487,I212a2db8d71702d330b146dc6f871b402a309e74,compute: Reject requests to commit intermediary snapshot of an inactive instance,NEW,2021-04-09 09:16:32.000000000,2021-04-26 17:43:46.000000000,,66,9,0,785582,57a810c0bddb2d5fb8c8e97bba07a1c4eeb2a11a,5,1,1,2,10135,Lee Yarwood,lyarwood,"compute: Reject requests to commit intermediary snapshot of an inactive instance

Introduced by I76eb2e4da027a13525314bd58264f482374d270d the
os-assisted-volume-snapshots API is only implemented by the libvirt virt
driver and should only be called by c-vol as part of an orchestrated
remotefs based volume snapshot creation or deletion workflow.

While not documented clearly in the current api-ref there are code
comments within the compute API suggesting that this API can be called
against a volume attached to an instance that is in *any* vm_state.

This however is not correct when deleting and in turn committing an
intermediary volume snapshot of an instance that is not running given
the current implementation within the libvirt driver. With a request to
virDomainBlockCommit being made that fails if the instance and
underlying domain is not running.

Adding support for an offline commit isn't trivial and would be
considered a new feature and not something we could backport on the
stable branches. As such this change seeks to ensure requests to commit
an intermediary volume snapshot from an inactive instance are rejected
quickly and clearly by the compute API to the caller before we cast to
the compute.

 Conflicts:
	nova/tests/unit/compute/test_compute_api.py

NOTE(lyarwood): Test conflict caused by
I3862a06ca28b383d525bcc9dcbc6fb1d4062f193 renaming test_compute_api.py
to test_api.py during Victoria.

Closes-Bug: #1919487
Change-Id: I212a2db8d71702d330b146dc6f871b402a309e74
(cherry picked from commit 99409375a03e6f923a8b6b00a5dd653bab74caaf)
(cherry picked from commit 200c743400ed3fd5240fd25d0396eb6180b3f26a)
(cherry picked from commit 8a41605a78173207746a38350d7fb554f2701b7a)
"
openstack%2Foctavia-dashboard~master~I1c69f34d70604db0de1e78e8c32716f8744b9e93,openstack/octavia-dashboard,master,,I1c69f34d70604db0de1e78e8c32716f8744b9e93,Look for load-balancer endpoints in catalog,ABANDONED,2021-04-26 17:28:32.000000000,2021-04-26 17:41:06.000000000,,10,0,0,788050,879135b99397d9cf9a2046b8bbc1b8d9a9550205,3,1,1,2,27442,Quentin GROLLEAU,QG,"Look for load-balancer endpoints in catalog

Load-Blancer tabs should only be enabled when load-balancer endpoint is registered.
When you enable Octavia only on one region and switch to another region which don't have,
It will show you some infinite Error popup : ""Error: Unable to retrieve load balancers.""

Story 2008853
Task 42372

Change-Id: I1c69f34d70604db0de1e78e8c32716f8744b9e93
"
openstack%2Ftripleo-heat-templates~master~I6c239065d4c92c9afc62ff4e513e6d097a06e218,openstack/tripleo-heat-templates,master,horizon-tmp-glance,I6c239065d4c92c9afc62ff4e513e6d097a06e218,Stop using (and breaking) /var/tmp for horizon temporary things,MERGED,2021-04-21 09:27:57.000000000,2021-04-26 17:39:34.000000000,2021-04-26 17:39:34.000000000,21,2,12,787332,bafd6aba099678846083989ce5fbdd0d09654db5,36,11,6,1,28223,Cedric Jeanneret,cjeanner,"Stop using (and breaking) /var/tmp for horizon temporary things

Until now, /var/tmp label was globally changed to another value than the
default, moving from tmp_t to container_file_t due to the "":z"" flag in
the horizon container mount.

This patch creates a subdirectory in /var/tmp, and mounts this location
directly in horizon's /var/tmp - this allows to NOT change anything in
horizon, while preventing potential leaks from other apps using this
location. It also prevents issues with SELinux denials on that location.

The special 1777 mode allows to ensure we get the right ""tmp"" mode on
the directory, meaning: drwxrwxrwt.

This patch also ensures we reset the label on /var/tmp during update and
upgrade.

Change-Id: I6c239065d4c92c9afc62ff4e513e6d097a06e218
Resolves: rhbz#1947532
Closes-Bug: #1925316
"
openstack%2Fkayobe~stable%2Ftrain~I3d85b341cf541cfb9b486021e66b316833fe9130,openstack/kayobe,stable/train,,I3d85b341cf541cfb9b486021e66b316833fe9130,Use released version of mrlesmithjr.mdadm,MERGED,2021-04-26 08:25:04.000000000,2021-04-26 17:33:08.000000000,2021-04-26 17:31:18.000000000,1,2,0,787937,f8b4d2b1eccc2f6d2bd2a2df276333ece127ad3e,12,3,1,1,15197,Pierre Riteau,priteau,"Use released version of mrlesmithjr.mdadm

An initial version of the mrlesmithjr.mdadm role was released 2 days
ago. There are only minimal changes compared to the commit we were
using. This should avoid the following issue seen in CI:

[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified
version (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not
found in the list of available versions ([{'id': 152374, 'url': '', 'related':
{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':
'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',
'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':
'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':
'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':
None}]).
ERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.

Change-Id: I3d85b341cf541cfb9b486021e66b316833fe9130
Depends-On: https://review.opendev.org/c/openstack/kayobe/+/787936
(cherry picked from commit 7411e624dea77a1b94d91bd37c9a388aa5011bb4)
"
openstack%2Ftripleo-heat-templates~master~Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,openstack/tripleo-heat-templates,master,,Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,Moving nova-consoleauth to step4,MERGED,2021-04-09 14:02:59.000000000,2021-04-26 17:30:56.000000000,2021-04-26 17:30:56.000000000,5,14,1,785648,755084b5285f71dfa17c0abc310d4d797193b317,22,9,2,1,27419,David Vallee Delisle,dvd,"Moving nova-consoleauth to step4

Since this is part of the post_upgrade_tasks and post_upgrade_tasks is
maxed to 4 steps, we need to move this from step5 to step4 otherwise
it's not being executed.

Also applying Alex's recommendation of using OS_CLOUD instead of havng
all the credentials here.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1825849
Change-Id: Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b
"
openstack%2Fopenstack-helm-infra~master~I3373c0c350b30c175be4a34d25a403b9caf74294,openstack/openstack-helm-infra,master,change-785504-10,I3373c0c350b30c175be4a34d25a403b9caf74294,Enable TLS between Elasticsearch and Kibana,MERGED,2021-04-08 19:38:02.000000000,2021-04-26 17:03:43.000000000,2021-04-26 17:02:20.000000000,326,46,0,785504,9a719e2a18bfd4f1daa57d1a4397d89966653b18,122,12,29,30,19391,Chi Lo,cl566n,"Enable TLS between Elasticsearch and Kibana

This change enables TLS between Elasticsearch and Kibana
data path. Note that TLS terminates at apache-proxy container
of the Elasticsearch-client pod, not directly to port 9200 of
elasticsearch-client container.

Since all data traffic goes through apache-proxy container,
fluentd output to Elasticsearch are configured to have TLS
enabled as well.

In additon, other Elasticsearch pods that communicate with
Elasticsearch-client endpoint are modified to provide
the cacert option with curl.

Change-Id: I3373c0c350b30c175be4a34d25a403b9caf74294
"
openstack%2Fproject-config~master~I92fdf717e955098cbd60a57137c747875823ae2b,openstack/project-config,master,fix-nl02-config,I92fdf717e955098cbd60a57137c747875823ae2b,Fix nl02's provider config list,MERGED,2021-04-26 16:32:30.000000000,2021-04-26 16:58:59.000000000,2021-04-26 16:50:36.000000000,0,1,0,788044,916bf66714360679d241ed805d4cae9fc0a933bb,8,3,1,1,4146,Clark Boylan,cboylan,"Fix nl02's provider config list

We specified the provider config list twice in the nl02 config which
caused the second one to win when reserialized on nl02. Fix this by
removing the stray providers: specification.

Change-Id: I92fdf717e955098cbd60a57137c747875823ae2b
"
openstack%2Fkayobe~stable%2Fstein~I3d85b341cf541cfb9b486021e66b316833fe9130,openstack/kayobe,stable/stein,,I3d85b341cf541cfb9b486021e66b316833fe9130,Use released version of mrlesmithjr.mdadm,MERGED,2021-04-26 08:22:58.000000000,2021-04-26 16:47:39.000000000,2021-04-26 16:46:24.000000000,1,2,0,787936,b826104b0a10fc75f777b7510e397cf00cf09bf7,22,4,2,1,15197,Pierre Riteau,priteau,"Use released version of mrlesmithjr.mdadm

An initial version of the mrlesmithjr.mdadm role was released 2 days
ago. There are only minimal changes compared to the commit we were
using. This should avoid the following issue seen in CI:

[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified
version (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not
found in the list of available versions ([{'id': 152374, 'url': '', 'related':
{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':
'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',
'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':
'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':
'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':
None}]).
ERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.

Change-Id: I3d85b341cf541cfb9b486021e66b316833fe9130
(cherry picked from commit 7411e624dea77a1b94d91bd37c9a388aa5011bb4)
"
openstack%2Fnova~stable%2Fwallaby~Iba40c2df72228b461767d5734d5a62403d9f2cfa,openstack/nova,stable/wallaby,bug/1917619,Iba40c2df72228b461767d5734d5a62403d9f2cfa,libvirt: Simplify device_path check in _detach_encryptor,MERGED,2021-04-09 09:06:54.000000000,2021-04-26 16:38:05.000000000,2021-04-26 16:36:31.000000000,37,24,0,785577,f99f667a96a357adc0070d75b5940e76726f9664,13,4,1,2,10135,Lee Yarwood,lyarwood,"libvirt: Simplify device_path check in _detach_encryptor

Introduced by Id670f13a7f197e71c77dc91276fc2fba2fc5f314 to resolve bug
 #1821696 this check was put in place to ensure _detach_encryptor did not
attempt to use the os-brick encryptors with an unsupported volume type
after libvirt secrets had been removed outside the control of Nova.

With the introduction of the [workarounds]disable_native_luksv1 via
Ia500eb614cf575ab846f64f4b69c9068274c8c1f however the use of
_allow_native_luksv1 as part of this check is no longer valid. As this
helper was updated to return False when the workaround is enabled,
regardless of the underlying volume being attached natively or not.

If an admin had enabled the workaround after users had launched
instances with natively attached encrypted volumes *and* the libvirt
secrets had gone missing _detach_encryptor would attempt to use the
os-brick encryptors. This would fail when the underlying volume type is
unsupported, for example rbd. See bug #1917619 for an example.

This change resolves this corner case by dropping the use of
_allow_native_luksv1 from the check and just asserting that a
device_path is present for an encrypted volume before allowing the use
of the os-brick encryptors. As noted this is safe as calls to the
encryptors are idempotent, ignoring failures to detach when the
underlying volume type is supported.

Closes-Bug: #1917619
Change-Id: Iba40c2df72228b461767d5734d5a62403d9f2cfa
(cherry picked from commit 4908daed96ddda492ced6cbb084abe8f33a8b1f7)
"
openstack%2Fkolla~master~Ia4d326601d14c5d55e8f67d8996458fc796583ea,openstack/kolla,master,,Ia4d326601d14c5d55e8f67d8996458fc796583ea,Disable trove for Debian/binary,MERGED,2021-04-26 11:17:46.000000000,2021-04-26 16:31:03.000000000,2021-04-26 16:29:38.000000000,1,0,0,787958,51c3c90af9a0c4ed27b4af5e0650b4e3a9eaeb53,14,5,1,1,24072,Marcin Juszkiewicz,hrw,"Disable trove for Debian/binary

Package installation fails:

Setting up trove-common (1:14.0.0-2~bpo10+1) ...
install: cannot stat '/usr/share/trove-common/api-paste.ini': No such file or directory
dpkg: error processing package trove-common (--configure):
 installed trove-common package post-installation script subprocess returned error exit status 1

Change-Id: Ia4d326601d14c5d55e8f67d8996458fc796583ea
"
openstack%2Fpuppet-nova~master~I2bd2a61263db8d7e54397ab85b4c51b79644adf2,openstack/puppet-nova,master,init-settings-no-openstack-settings,I2bd2a61263db8d7e54397ab85b4c51b79644adf2,Debian api_uwsgi_config: Switch to :ini_setting,MERGED,2021-04-20 15:05:24.000000000,2021-04-26 16:27:21.000000000,2021-04-26 16:27:21.000000000,14,36,0,787212,98f286cd7b8a8f15615f75b71343387e3414f476,11,3,1,5,6476,Thomas Goirand,thomas-goirand,"Debian api_uwsgi_config: Switch to :ini_setting

On each puppet run, I'm seeing:
value changed ['12'] to '12' (corrective)

Therefore, this patch switches from :openstackconfig to :ini_setting
to make runs indenpotant.

Change-Id: I2bd2a61263db8d7e54397ab85b4c51b79644adf2
"
openstack%2Fswift~master~I5d22278a2be5bc1b4a9e97e3cf12b5e630ea7893,openstack/swift,master,ec-resume-logging,I5d22278a2be5bc1b4a9e97e3cf12b5e630ea7893,Add more detail to ECFragGetter logging,MERGED,2021-04-21 19:21:58.000000000,2021-04-26 16:18:37.000000000,2021-04-26 14:23:24.000000000,108,34,4,787435,5516bf46c01da80b2baedd00c22c4d822b569634,13,2,3,3,1179,Clay Gerrard,clay-gerrard,"Add more detail to ECFragGetter logging

 * Add new useful log messages at appropriate levels for development and
   production logging.
 * Remove more i18n translations.
 * Differentiate EC errors from replicated object controller messages.

Related-Change-Id: I0654815543be3df059eb2875d9b3669dbd97f5b4
Change-Id: I5d22278a2be5bc1b4a9e97e3cf12b5e630ea7893
"
openstack%2Fdebtcollector~master~Ib10180732042bda254b058b94c9ff41f5c31c3cb,openstack/debtcollector,master,no-pbr,Ib10180732042bda254b058b94c9ff41f5c31c3cb,Remove runtime dependency on pbr,MERGED,2021-04-26 07:25:25.000000000,2021-04-26 16:16:57.000000000,2021-04-26 15:40:03.000000000,8,3,3,787926,75487624e771a63b3c43188610e39a2ce701742a,11,3,1,2,10239,Dmitry Tantsur,dtantsur,"Remove runtime dependency on pbr

Pbr is a very heavy package to depend on. It requires git-core, which is
16 MiB on my Fedora. We only use it to detect the version, which can be
done without pbr using a much lighter importlib_metadata.

Copied from https://review.opendev.org/c/openstack/osprofiler/+/739379

Change-Id: Ib10180732042bda254b058b94c9ff41f5c31c3cb
"
openstack%2Fironic~master~I334d6d5d7a35557a57ba118bed0a6beedba934d3,openstack/ironic,master,change-784775-4,I334d6d5d7a35557a57ba118bed0a6beedba934d3,Follow up to add iDRAC management via Redfish,MERGED,2021-04-05 14:13:27.000000000,2021-04-26 16:12:03.000000000,2021-04-26 16:09:46.000000000,54,15,25,784775,266be4eb4cdd0b3145838b52b73f106cdbd3f805,42,7,5,2,31871,Dhuldev Valekar,dhuldev30,"Follow up to add iDRAC management via Redfish

Add unit tests to redfish utils method wait_until_get_system_ready.

Followup to change: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4

Change-Id: I334d6d5d7a35557a57ba118bed0a6beedba934d3
"
openstack%2Foslo.config~master~Ie947803f61ba0ef080018e0447de894a400d7975,openstack/oslo.config,master,add-missing-opt,Ie947803f61ba0ef080018e0447de894a400d7975,Adding the missing HostDomain config option,MERGED,2021-04-15 12:03:04.000000000,2021-04-26 15:53:22.000000000,2021-04-26 15:51:48.000000000,61,0,1,786394,bb5e4cbeb973c6341bf51eea2ebe5d38366167e8,22,4,6,4,28522,Hervé Beraud,hberaud,"Adding the missing HostDomain config option

The ``HostDomain`` config type have been added few months ago [1]
however the config option have been forgotten and this new type
isn't importable.

When we try to import this type without defining a new related cfg
option we get the following issue:

```
AttributeError: module 'oslo_config.cfg' has no attribute 'HostDomain'
```

These changes allow us to import this new type and allow us to use
it in our configs:

```
>>> from oslo_config import cfg
>>> foo = cfg.HostDomain('foo')
>>> foo.type.__call__(""1"")
...
During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""~/oslo.config/oslo_config/types.py"", line 893, in __call__
     raise ValueError(
ValueError: 1 is not a valid host address
>>> foo.type.__call__(""host_name"")
'host_name'
```

Also properly initialize HostDomain because The HostDomain class wasn't
calling super in it's __init__() method, which resulted in the type_name not
being set properly for instances of that class.

[1] https://opendev.org/openstack/oslo.config/commit/6480356928c9ae6169ea1e5a5b5f1df3d6e0dc75

Change-Id: Ie947803f61ba0ef080018e0447de894a400d7975
Closes-Bug: 1924283
"
openstack%2Fpython-novaclient~master~Icad6d0d0d375d1995baa603b091be50797210215,openstack/python-novaclient,master,,Icad6d0d0d375d1995baa603b091be50797210215,Use py3 as the default runtime for tox,MERGED,2021-04-20 01:36:35.000000000,2021-04-26 15:41:08.000000000,2021-04-26 15:39:12.000000000,1,1,0,787008,b5faf37f1b9f8cd6c065327309c8290c211d13d2,11,5,1,1,30384,zhangboye,zhangboye,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Change-Id: Icad6d0d0d375d1995baa603b091be50797210215
"
openstack%2Fbashate~master~Ib66ceb8791158a6938b921a143907bd8db24bebf,openstack/bashate,master,ci-bashate-devstack-voting-and-gating,Ib66ceb8791158a6938b921a143907bd8db24bebf,[CI] Make bashate-devstack job voting and gating,MERGED,2021-04-26 15:08:55.000000000,2021-04-26 15:39:31.000000000,2021-04-26 15:34:20.000000000,4,2,0,788023,189aadde8b2a973b083842f2293833b9ad77bb30,8,2,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Make bashate-devstack job voting and gating

Change-Id: Ib66ceb8791158a6938b921a143907bd8db24bebf
"
openstack%2Fdevstack~master~Ic3be22aeaa0eb354fa5d880e2f0f1e1c871a73b1,openstack/devstack,master,ovn-dvr,Ic3be22aeaa0eb354fa5d880e2f0f1e1c871a73b1,[OVN] Add DVR configuration support,NEW,2020-10-02 15:44:46.000000000,2021-04-26 15:17:42.000000000,,12,1,3,755830,ecfc318317186e14e4723ff262ac591dd2d5e692,13,8,3,1,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] Add DVR configuration support

This patch allows users to configure OVN DVR via DevStack. A new
OVN_ENABLE_DVR variable was added, defaults to False.

Change-Id: Ic3be22aeaa0eb354fa5d880e2f0f1e1c871a73b1
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Freleases~master~Ibc0257c052aa0e60293c37a6990dce18e97e7730,openstack/releases,master,pbr,Ibc0257c052aa0e60293c37a6990dce18e97e7730,pbr 5.6.0,MERGED,2021-04-23 09:08:58.000000000,2021-04-26 15:11:48.000000000,2021-04-26 15:11:48.000000000,4,0,0,787693,fb3b2c0ff32c8dac542439feefceb34eb5b1f99b,10,3,1,1,15334,Stephen Finucane,sfinucan,"pbr 5.6.0

Fix issues with 'requires-python' and 'python-requires', plus some other
trivial clean up.

Change-Id: Ibc0257c052aa0e60293c37a6990dce18e97e7730
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fbifrost~stable%2Fwallaby~Ibb9cf61fa1de6f8f131f10c3a841efddb1bc6670,openstack/bifrost,stable/wallaby,fix-the-kolla-job-stable/wallaby,Ibb9cf61fa1de6f8f131f10c3a841efddb1bc6670,[CI] Make Kolla job running again,MERGED,2021-04-23 06:55:06.000000000,2021-04-26 15:11:09.000000000,2021-04-26 15:06:26.000000000,1,1,0,787605,d28cc542b96bc7cb9ea9479b7feae0a8dc81c1d6,23,4,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Make Kolla job running again

Kolla renamed the CentOS 8 Stream jobs recently.

Change-Id: Ibb9cf61fa1de6f8f131f10c3a841efddb1bc6670
(cherry picked from commit e3d16ab416c7dfb94a55fe60858b4d01b8a77c60)
"
openstack%2Fpuppet-placement~master~I56a9d9534be8aaee74b1da0c7633359578c74769,openstack/puppet-placement,master,init-settings-no-openstack-settings,I56a9d9534be8aaee74b1da0c7633359578c74769,Debian api_uwsgi_config: Switch to :ini_setting,MERGED,2021-04-20 16:22:16.000000000,2021-04-26 15:09:18.000000000,2021-04-26 15:09:18.000000000,3,14,0,787260,924dce105a61571ad6db042f89c9666ea4d54dab,7,3,1,2,6476,Thomas Goirand,thomas-goirand,"Debian api_uwsgi_config: Switch to :ini_setting

On each puppet run, I'm seeing:
value changed ['12'] to '12' (corrective)

Therefore, this patch switches from :openstackconfig to :ini_setting
to make the 2nd run not changing anything.

Change-Id: I56a9d9534be8aaee74b1da0c7633359578c74769
"
openstack%2Fopenstack-ansible~master~Ib3015442eb4633fb208eb10af1f4150f189c3e14,openstack/openstack-ansible,master,bug/1925525,Ib3015442eb4633fb208eb10af1f4150f189c3e14,Fix manila ceph caps,MERGED,2021-04-22 15:52:50.000000000,2021-04-26 15:03:38.000000000,2021-04-26 15:01:19.000000000,1,1,1,787591,9f8c83f663b39cfbba72809f92f7eb894d96c1d0,17,5,3,1,6413,Victoria Martinez de la Cruz,vkmc,"Fix manila ceph caps

Now that we issue mgr/volume commands and rados
get/put on pool with ""ganesha_rados_store_pool_name""
name via a rados client, the auth ID used by the
driver/rados client would need different capabilities.

The auth ID will now require:

mon 'allow r'
mgr 'allow rw'
osd 'allow rw pool=<ganesha_rados_store_pool_name>""

The driver's auth ID does not need any MDS capability,
requires reduced MON and OSD capability, and extra write
capability for MGR.

Closes-Bug: #1925525
Change-Id: Ib3015442eb4633fb208eb10af1f4150f189c3e14
"
openstack%2Fneutron~master~Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61,openstack/neutron,master,bug/1923423,Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61,trivial: Make driver_controller's _attrs_to_driver py3 compatible,MERGED,2021-04-12 08:49:14.000000000,2021-04-26 15:00:08.000000000,2021-04-26 14:58:21.000000000,14,1,3,785830,109faeac7e2e37da3bb7d5014a37ef18ed8cb80a,59,5,1,2,8313,Lajos Katona,elajkat,"trivial: Make driver_controller's _attrs_to_driver py3 compatible

In python3 dict.values() doesn't return list but instead dict_values,
it must be converted to list to ""enjoy"" list operations like insert.
Add unit tests to be sure.

Closes-Bug: #1923423
Change-Id: Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61
"
openstack%2Fkolla-ansible~master~Ie08877e339455bed45ee467a87de9648678e88c5,openstack/kolla-ansible,master,typo,Ie08877e339455bed45ee467a87de9648678e88c5,[doc] fix a typo,MERGED,2021-04-26 13:40:33.000000000,2021-04-26 14:58:32.000000000,2021-04-26 14:56:59.000000000,1,1,0,787998,fc406d035dbe0c2b088efe80a828b70e5ca69de6,8,3,1,1,26285,wu.chunyang,wu.chunyang,"[doc] fix a typo

Trivial Fix

Change-Id: Ie08877e339455bed45ee467a87de9648678e88c5
"
openstack%2Fpuppet-panko~master~Iadf4f00adbb35b832fce7e539e8d76aaecab9acd,openstack/puppet-panko,master,init-settings-no-openstack-settings,Iadf4f00adbb35b832fce7e539e8d76aaecab9acd,Debian api_uwsgi_config: Switch to :ini_setting,MERGED,2021-04-20 17:20:26.000000000,2021-04-26 14:54:55.000000000,2021-04-26 14:54:55.000000000,13,22,0,787272,84bba8a866df95455dcd7ee7df37a692847553f4,10,3,3,4,6476,Thomas Goirand,thomas-goirand,"Debian api_uwsgi_config: Switch to :ini_setting

On each puppet run, I'm seeing:
value changed ['12'] to '12' (corrective)

Therefore, this patch switches from :openstackconfig to :ini_setting
to make the 2nd run not changing anything.

Change-Id: Iadf4f00adbb35b832fce7e539e8d76aaecab9acd
"
openstack%2Fpuppet-gnocchi~master~Ib674673edec143841aa88d754ea2e9b0cb13be1a,openstack/puppet-gnocchi,master,init-settings-no-openstack-settings,Ib674673edec143841aa88d754ea2e9b0cb13be1a,Debian api_uwsgi_config: Switch to :ini_setting,MERGED,2021-04-22 13:20:09.000000000,2021-04-26 14:53:45.000000000,2021-04-26 14:53:45.000000000,13,22,0,787556,e986276b7751a99aadd9dd02be9d2a9ed270f82d,9,3,1,4,6476,Thomas Goirand,thomas-goirand,"Debian api_uwsgi_config: Switch to :ini_setting

On each puppet run, I'm seeing:
value changed ['12'] to '12' (corrective)

Therefore, this patch switches from :openstackconfig to :ini_setting
to make the 2nd run not changing anything.

Change-Id: Ib674673edec143841aa88d754ea2e9b0cb13be1a
"
openstack%2Fnova~stable%2Fussuri~Iba40c2df72228b461767d5734d5a62403d9f2cfa,openstack/nova,stable/ussuri,bug/1917619,Iba40c2df72228b461767d5734d5a62403d9f2cfa,libvirt: Simplify device_path check in _detach_encryptor,NEW,2021-04-09 09:19:10.000000000,2021-04-26 14:50:19.000000000,,37,24,0,785585,6ec67d01b0f45815ed08bce49e36fc38b6e23ec4,5,1,1,2,10135,Lee Yarwood,lyarwood,"libvirt: Simplify device_path check in _detach_encryptor

Introduced by Id670f13a7f197e71c77dc91276fc2fba2fc5f314 to resolve bug
 #1821696 this check was put in place to ensure _detach_encryptor did not
attempt to use the os-brick encryptors with an unsupported volume type
after libvirt secrets had been removed outside the control of Nova.

With the introduction of the [workarounds]disable_native_luksv1 via
Ia500eb614cf575ab846f64f4b69c9068274c8c1f however the use of
_allow_native_luksv1 as part of this check is no longer valid. As this
helper was updated to return False when the workaround is enabled,
regardless of the underlying volume being attached natively or not.

If an admin had enabled the workaround after users had launched
instances with natively attached encrypted volumes *and* the libvirt
secrets had gone missing _detach_encryptor would attempt to use the
os-brick encryptors. This would fail when the underlying volume type is
unsupported, for example rbd. See bug #1917619 for an example.

This change resolves this corner case by dropping the use of
_allow_native_luksv1 from the check and just asserting that a
device_path is present for an encrypted volume before allowing the use
of the os-brick encryptors. As noted this is safe as calls to the
encryptors are idempotent, ignoring failures to detach when the
underlying volume type is supported.

Closes-Bug: #1917619
Change-Id: Iba40c2df72228b461767d5734d5a62403d9f2cfa
(cherry picked from commit 4908daed96ddda492ced6cbb084abe8f33a8b1f7)
(cherry picked from commit f99f667a96a357adc0070d75b5940e76726f9664)
(cherry picked from commit 67de26776c23dddf906eab30daaecdf401abbdc4)
"
openstack%2Frelease-test~stable%2Focata~If1de23d7ae4ad62be42d34553d8dd5d8dab0779c,openstack/release-test,stable/ocata,,If1de23d7ae4ad62be42d34553d8dd5d8dab0779c,Update .gitreview for stable/ocata,ABANDONED,2021-04-16 20:02:03.000000000,2021-04-26 14:30:08.000000000,,1,0,0,786721,3f5ad7bde047828bfd12f0bcb6b1b8d11d29906a,3,1,1,1,17685,Elod Illes,elod.illes,"Update .gitreview for stable/ocata

Change-Id: If1de23d7ae4ad62be42d34553d8dd5d8dab0779c
"
openstack%2Fironic-specs~master~I69a03f2ad94e14e3c28adcf042c8b79e9f8260fc,openstack/ironic-specs,master,conf_molds,I69a03f2ad94e14e3c28adcf042c8b79e9f8260fc,Followup pre-defined system hw conf in single step,MERGED,2021-03-15 18:19:08.000000000,2021-04-26 14:29:53.000000000,2021-04-26 14:28:33.000000000,24,23,7,780645,fd3dd8f9ea110e2e365e8e7edd562ce8575e60b0,22,6,4,1,27909,Aija Jauntēva,ajya,"Followup pre-defined system hw conf in single step

Change-Id: I69a03f2ad94e14e3c28adcf042c8b79e9f8260fc
"
openstack%2Freleases~master~Icc386a9fe36ddae4edbc15603e745b14d1861271,openstack/releases,master,new-sdk-release,Icc386a9fe36ddae4edbc15603e745b14d1861271,New OpenStack SDK release 0.56.0,MERGED,2021-04-16 08:28:03.000000000,2021-04-26 14:28:14.000000000,2021-04-26 14:28:14.000000000,5,0,0,786598,87693389a531ab89fad59b15f819604d60d6e390,17,6,2,1,11975,Slawek Kaplonski,slaweq,"New OpenStack SDK release 0.56.0

Change-Id: Icc386a9fe36ddae4edbc15603e745b14d1861271
"
openstack%2Fproject-config~master~I5b4298f9ece360dd735b606f5c82fcb6c7968c97,openstack/project-config,master,gerritbot-kolla-extra,I5b4298f9ece360dd735b606f5c82fcb6c7968c97,Make gerritbot notify about V-2 on kolla,MERGED,2021-04-25 14:59:17.000000000,2021-04-26 14:26:52.000000000,2021-04-26 14:18:44.000000000,2,0,10,787887,95dad4c0811d1b55add07ce33229d82a6c45fd0c,28,6,4,1,30491,Radosław Piliszek,yoctozepto,"Make gerritbot notify about V-2 on kolla

Change-Id: I5b4298f9ece360dd735b606f5c82fcb6c7968c97
"
openstack%2Fneutron~master~I29a39108d9fddb30050ec63a1cdf6bba0400e136,openstack/neutron,master,ovn-migration,I29a39108d9fddb30050ec63a1cdf6bba0400e136,ovn-migration: Introduce migrate mode to DB sync tool,MERGED,2021-04-01 09:40:44.000000000,2021-04-26 14:26:16.000000000,2021-04-26 14:22:47.000000000,266,45,1,784352,ae78e812d13aa5d0c820397b4b633123b6ff0e34,174,6,2,9,8655,Jakub Libosvar,jlibosva,"ovn-migration: Introduce migrate mode to DB sync tool

The new ""migrate"" mode for the DB sync utility changes DB contents as
follows:

 - it changes vxlan networks to Geneve, including its allocation in
   order to avoid future collisions when creating new geneve networks
 - it removes settings from ports' vif_details that are no longer
   needed, such as hybrid plugging or bridge_name for the trunk bridges
 - it sets profile for subports - OVN doesn't use trunk_details but port
   profile to store data about trunk. Subports have tag and parent_name
   fileds.

Previously, the vxlan to Geneve change was done via ansible role. The
tasks in the role were replaced by the script therefore the role is
removed.

Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
Change-Id: I29a39108d9fddb30050ec63a1cdf6bba0400e136
"
openstack%2Frequirements~master~Ia6e31031801db629e156ff40e81a1289e0601e8b,openstack/requirements,master,new-release,Ia6e31031801db629e156ff40e81a1289e0601e8b,update constraint for neutron-lib to new release 2.11.0,MERGED,2021-04-26 10:12:20.000000000,2021-04-26 14:25:13.000000000,2021-04-26 14:23:13.000000000,1,1,0,787951,beb486c35dde9fa6fd884a0057fac1754b92c701,10,5,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for neutron-lib to new release 2.11.0

meta: version: 2.11.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Change-Id: I58b718c5a97f0cf61df4fb7640fa0a7c1eb6131b
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ia6e31031801db629e156ff40e81a1289e0601e8b
"
openstack%2Fansible-role-redhat-subscription~master~I5477f4e85f5bf7f84b9c9dc7a9d043972615a019,openstack/ansible-role-redhat-subscription,master,bug/1915761,I5477f4e85f5bf7f84b9c9dc7a9d043972615a019,Fix service fact reference,MERGED,2021-04-26 13:50:31.000000000,2021-04-26 14:17:17.000000000,2021-04-26 14:17:17.000000000,1,1,0,787999,4178cf561b90ceed29977b3bf9a4ffe75423b60d,6,2,1,1,14985,Alex Schultz,mwhahaha,"Fix service fact reference

Update the reference to use ansible_facts.

Change-Id: I5477f4e85f5bf7f84b9c9dc7a9d043972615a019
Related-Bug: #1915761
"
openstack%2Fnetworking-odl~master~I84ad49d32edcb37a8608f023b030e8b3f0c4753b,openstack/networking-odl,master,trunk_callback,I84ad49d32edcb37a8608f023b030e8b3f0c4753b,Use payloads for TRUNK and SUBPORTS callbacks,ABANDONED,2021-04-26 14:08:19.000000000,2021-04-26 14:11:53.000000000,,29,28,0,788007,60b0b7bcc3a65154d0e9eb5a61e6f4716cd1799f,3,0,2,2,8313,Lajos Katona,elajkat,"Use payloads for TRUNK and SUBPORTS callbacks

Change-Id: I84ad49d32edcb37a8608f023b030e8b3f0c4753b
Depends-On: https://review.opendev.org/c/openstack/neutron/+/635060
"
openstack%2Fbashate~master~I716e7c05baf8183fdd9a500e15d614ef0492ad41,openstack/bashate,master,,I716e7c05baf8183fdd9a500e15d614ef0492ad41,setup.cfg: Replace dashes with underscores,MERGED,2021-04-26 06:39:42.000000000,2021-04-26 14:10:12.000000000,2021-04-26 14:08:49.000000000,4,4,3,787917,ceea4801fdcce13c6914f14cfc8706e16701646c,18,3,5,1,30092,Xuan Yandong,xuanyandong,"setup.cfg: Replace dashes with underscores

Resolves pip warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Also, updates the url to docs.

Change-Id: I716e7c05baf8183fdd9a500e15d614ef0492ad41
"
openstack%2Fpuppet-octavia~master~I89e2bb5bb127020adcaabe26e62f68123fab3990,openstack/puppet-octavia,master,debian-uwsgi-support,I89e2bb5bb127020adcaabe26e62f68123fab3990,Add support for octavia_api_uwsgi_config in Debian,MERGED,2021-04-07 21:35:37.000000000,2021-04-26 13:46:33.000000000,2021-04-26 13:45:22.000000000,253,0,0,785283,da8ed8acc64769e3253d90e07cd77eef77a0bfab,24,8,4,8,6476,Thomas Goirand,thomas-goirand,"Add support for octavia_api_uwsgi_config in Debian

This patch is adding the configuration of the number of workers,
threads, and the size of the listen queue in Debian, which uses
uwsgi to run Octavia API. Therefore, this patch adds a new
octavia_api_uwsgi_config provider as well as a new
octavia::wsgi::uwsgi class.

Change-Id: I89e2bb5bb127020adcaabe26e62f68123fab3990
"
openstack%2Fpuppet-cloudkitty~master~Ie388eb22a0c75d590c0e853064ed2f6f34e3abeb,openstack/puppet-cloudkitty,master,init-settings-no-openstack-settings,Ie388eb22a0c75d590c0e853064ed2f6f34e3abeb,Debian api_uwsgi_config: Switch to :ini_setting,MERGED,2021-04-20 18:54:04.000000000,2021-04-26 13:37:53.000000000,2021-04-26 13:37:53.000000000,5,14,0,787280,4c43a1e29b790185ccc7e70624f30388e8e26ccf,10,3,3,3,6476,Thomas Goirand,thomas-goirand,"Debian api_uwsgi_config: Switch to :ini_setting

On each puppet run, I'm seeing:
value changed ['12'] to '12' (corrective)

Therefore, this patch switches from :openstackconfig to :ini_setting
to make the 2nd run not changing anything.

Change-Id: Ie388eb22a0c75d590c0e853064ed2f6f34e3abeb
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I73a2a54afdf9739bd4c08406645809c9b47c3e01,openstack/tripleo-ansible,stable/victoria,ceph_dashboard_ha-stable/victoria,I73a2a54afdf9739bd4c08406645809c9b47c3e01,Compute VIPs using net_vip_map instead of hiera,MERGED,2021-04-22 07:24:41.000000000,2021-04-26 13:24:06.000000000,2021-04-26 13:24:06.000000000,14,11,0,787476,671fd4e44161c947277d51d89f1972c2ccd2e154,10,6,1,1,25402,Francesco Pantano,fmount,"Compute VIPs using net_vip_map instead of hiera

This change provides two improvements:
1. VIPs are computed using the existing net_vip_map instead of running
   hiera commands;
2. the monitoring_stack_vip (on the storage network) is provided for
   both prometheus and alertmanager: these two services are not exposed
   but we need the ceph_mgr being aware about the vip.

Depends-On: I0dbcde302a3abdfccc3dd996b1c238e25064dd12

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/785574/

Change-Id: I73a2a54afdf9739bd4c08406645809c9b47c3e01
(cherry picked from commit 9c4254c2bca6e910cd8312538946e40d5be77516)
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I0dbcde302a3abdfccc3dd996b1c238e25064dd12,openstack/puppet-tripleo,stable/train,ceph_dashboard_ha-stable/train,I0dbcde302a3abdfccc3dd996b1c238e25064dd12,Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard,MERGED,2021-04-22 07:24:14.000000000,2021-04-26 13:24:03.000000000,2021-04-26 13:24:03.000000000,32,0,0,787395,9c298733518b3014f1139eaa531e9ff686921fc4,9,6,1,1,25402,Francesco Pantano,fmount,"Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard

This change adds the prometheus and alertmanager endpoints which
are on the same grafana network and allow us to just use a single
vip to access the prometheus and alertmanager instances from the
ceph dashboard when enabled.
We already did it for grafana [1] and we would like to do the same
for prometheus and alertmanager.

[1] https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-dashboard/tasks/configure_dashboard.yml#L192

Change-Id: I0dbcde302a3abdfccc3dd996b1c238e25064dd12
(cherry picked from commit 92c76046a8da94375ce626226b7e3cefec879639)
"
openstack%2Fkeystone~master~I333eb15c66f37207e6937d0cb3a80f26cf9bebfc,openstack/keystone,master,bug/1854041,I333eb15c66f37207e6937d0cb3a80f26cf9bebfc,Propagate redirect exceptions to the client,NEW,2020-09-28 11:38:54.000000000,2021-04-26 13:12:53.000000000,,19,0,0,754694,05bbc64497cdd0603235ff12bb714a6184c61e45,5,1,2,2,91,Alvaro,aloga,"Propagate redirect exceptions to the client

When a developer is implementing an Authentication plugin, in some cases
(like an OpenID Connect plugin) it is needed to perform a redirect to
the provider to complete the flow. This was possible in the past (before
moving to Flask) by raising an exception with the proper HTTP code set,
but the framework change made this possibility not available anymore.

Closes-Bug: #1854041
Co-authored-by: Alvaro Lopez Garcia <aloga@ifca.unican.es>
Change-Id: I333eb15c66f37207e6937d0cb3a80f26cf9bebfc
"
openstack%2Fironic-python-agent~stable%2Fvictoria~I6105192a16fcb7f6898910e8d0ab824d731d491d,openstack/ironic-python-agent,stable/victoria,,I6105192a16fcb7f6898910e8d0ab824d731d491d,"Add a call to ""udevadm settle"" in write_image.sh",MERGED,2021-04-26 09:01:18.000000000,2021-04-26 13:07:47.000000000,2021-04-26 13:06:39.000000000,8,0,0,787848,bc13adfa49294ae4411ee241af91075dd585d6b8,7,3,1,2,10239,Dmitry Tantsur,dtantsur,"Add a call to ""udevadm settle"" in write_image.sh

After GPT and MBR are destroyed systemd-udevd gets triggered
which may hold /dev/sda open preventing qemu-img from writting
its image.

Story: 2008830
Task: 42312
Change-Id: I6105192a16fcb7f6898910e8d0ab824d731d491d
(cherry picked from commit 9c3fbfd000a323db4d57bf57cf50e83c3fb6681b)
"
openstack%2Fpython-manilaclient~master~Id845f6e9c95ac96da642029c28540c6067351fa3,openstack/python-manilaclient,master,bp/openstack-client-support,Id845f6e9c95ac96da642029c28540c6067351fa3,[OSC] Implement Share Replica Commands,ABANDONED,2021-04-17 12:56:19.000000000,2021-04-26 13:06:12.000000000,,993,0,0,786756,03a4f4f6bde52cd9422edd36098f1d5e85e3b6ed,3,1,1,6,31213,Maari Tamm,maaritamm,"[OSC] Implement Share Replica Commands

In this patch we add the following openstack share commands:
share replica create
share replica delete
share replica list
share replica show
share replica set
share replica promote
share replica resync

Partially-implements bp openstack-client-support
Change-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6

Change-Id: Id845f6e9c95ac96da642029c28540c6067351fa3
"
openstack%2Fkolla~master~Ic65c838af8a432ac02f3141fc9665b9ccd59877f,openstack/kolla,master,495148,Ic65c838af8a432ac02f3141fc9665b9ccd59877f,Add RHEL subscription registration,ABANDONED,2017-08-18 10:00:41.000000000,2021-04-26 13:05:38.000000000,,55,6,32,495148,7cfc8f3aa4b73ec612af964f2cffe952f01a1f7e,294,28,79,5,22745,Heetae Ahn,heetae82.ahn,"Add RHEL subscription registration

This patch enables to register RHEL subscription of each containers
for all RHEL builds. We would use some variables in kolla-build.conf
to register RHEL subscription as follows.

  [DEFAULT]
  rhel_username = your_username
  rhel_password = your_password
  rhel_poolid = your_poolid

We can also use as parameters in the kolla-build.

  kolla-build --rhel-username your_username \
    --rhel-password your_password \
    --rhel-poolid your_poolid

If pool id is not specifed then auto attach option will be applied.

  kolla-build --rhel-username your_username \
    --rhel-password your_password

Change-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f
Signed-off-by: Taeha Kim <kthguru@gmail.com>
Signed-off-by: heetae82.ahn <heetae82.ahn@samsung.com>
"
openstack%2Fkolla~stable%2Fwallaby~I4bd385b53257a60cc55a190138e5d7078f8b64bf,openstack/kolla,stable/wallaby,prepare-for-kolla-wallaby-release-stable/wallaby,I4bd385b53257a60cc55a190138e5d7078f8b64bf,docs: deprecate ppc64le in Wallaby,MERGED,2021-04-26 11:45:14.000000000,2021-04-26 13:05:30.000000000,2021-04-26 13:04:16.000000000,5,0,0,787855,b85b63ec9a603550e87f293b7278208667e9cca9,8,3,1,1,14826,Mark Goddard,mgoddard,"docs: deprecate ppc64le in Wallaby

Change-Id: I4bd385b53257a60cc55a190138e5d7078f8b64bf
(cherry picked from commit f00961da2251ad2c374a03f081db4bf0f089cf73)
"
openstack%2Fmagnum~master~Ic91c58aaf3e6ada92fe9fbdd3474b905ca9f08cb,openstack/magnum,master,,Ic91c58aaf3e6ada92fe9fbdd3474b905ca9f08cb,Add /opt/cni/bin to allowed hostdir,ABANDONED,2021-04-23 13:58:26.000000000,2021-04-26 13:00:08.000000000,,1,0,0,787744,13e066496ccb09653301e29428e9be8990f5ef30,8,1,1,1,16137,Tobias Urdin,tobasco,"Add /opt/cni/bin to allowed hostdir

One positive thing about the now reverted commit
that broke deployments is this misconfiguration caught [1].

[1] https://review.opendev.org/c/openstack/magnum/+/786430

Change-Id: Ic91c58aaf3e6ada92fe9fbdd3474b905ca9f08cb
"
openstack%2Fbashate~master~Ib8da29ca2156aafd89fec69db7910360efe266a2,openstack/bashate,master,ensure-tox-patch1,Ib8da29ca2156aafd89fec69db7910360efe266a2,Add ensure-tox role to test job,MERGED,2021-04-26 07:26:56.000000000,2021-04-26 12:59:02.000000000,2021-04-26 12:57:50.000000000,2,0,0,787927,421af4bca83ec9f00e27b36755bc2058fe680f0c,15,2,3,1,13252,Dr. Jens Harbott,jrosenboom,"Add ensure-tox role to test job

The CI no longer provides us with preinstalled tox, we have to ensure that
it is present ourselves.

Change-Id: Ib8da29ca2156aafd89fec69db7910360efe266a2
"
openstack%2Fneutron~stable%2Fwallaby~Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61,openstack/neutron,stable/wallaby,bug/1923423-stable/wallaby,Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61,trivial: Make driver_controller's _attrs_to_driver py3 compatible,MERGED,2021-04-20 11:11:06.000000000,2021-04-26 12:53:59.000000000,2021-04-26 12:52:31.000000000,14,1,2,786967,3ec596f9ef0b539ea3868960bc3bfa145d4b6e21,30,4,2,2,8313,Lajos Katona,elajkat,"trivial: Make driver_controller's _attrs_to_driver py3 compatible

In python3 dict.values() doesn't return list but instead dict_values,
it must be converted to list to ""enjoy"" list operations like insert.
Add unit tests to be sure.

Closes-Bug: #1923423
Change-Id: Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61
(cherry picked from commit e270ac2ee65c02bdb099d11af7f1d2fb62ad0f61)
"
openstack%2Fnova~stable%2Fussuri~Iebf678c229da4f455459d068cafeee5f241aea1f,openstack/nova,stable/ussuri,bug/1896496,Iebf678c229da4f455459d068cafeee5f241aea1f,libvirt: 'video.vram' property must be an integer,MERGED,2020-10-12 16:17:45.000000000,2021-04-26 12:47:18.000000000,2021-04-26 12:45:45.000000000,11,7,0,757617,121e481a880b48ce800aafdeca0b8b086e2cddf3,43,7,1,2,15334,Stephen Finucane,sfinucan,"libvirt: 'video.vram' property must be an integer

The 'vram' property of the 'video' device must be an integer else
libvirt will spit the dummy out, e.g.

  libvirt.libvirtError: XML error: cannot parse video vram '8192.0'

The division operator in Python 3 results in a float, not an integer
like in Python 2. Use the truncation division operator instead.

Change-Id: Iebf678c229da4f455459d068cafeee5f241aea1f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1896496
(cherry picked from commit f2ca089bce842127e7d0644b38a11da9278db8ea)
(cherry picked from commit fd7c66f61c0b07cff82d93e0f884777949170857)
"
openstack%2Ftripleo-heat-templates~master~I3b252854a0dbf121d69bab79543561da6be781f4,openstack/tripleo-heat-templates,master,nova_qemu_client_tls_verify,I3b252854a0dbf121d69bab79543561da6be781f4,Missing client certificate for live-migration with TLS,MERGED,2021-04-08 15:56:01.000000000,2021-04-26 12:36:45.000000000,2021-04-26 12:35:04.000000000,19,0,8,785438,e7d37585ac38cfef5f1d1f2c54b357c38757536a,30,8,6,2,27419,David Vallee Delisle,dvd,"Missing client certificate for live-migration with TLS

TLS client verification used to be accidentally disabled in libvirt.
This was fixed in libvirt-6.10.0-1[1].
Which means, once you're using libvirt-6.10.0-1 or higher, a client
certificate is mandatory during live migration with TLS.

In this case, the server certificate generated by TripleO is valid
for client _and_ server:

                 Key Purpose (not critical):
                         TLS WWW Server.
                         TLS WWW Client.

So most deployments can re-use the same certificate for client and
server.  Why?  Because if both migration ends points are located
on the same infrastructure, it is reasonable to use the same
certificate for both client and server roles.

Introducing QemuDefaultTLSVerify parameter

This parameter will allow operators to enable or disable TLS client
certificate verification. Enabling this option will reject any client
who does not have a certificate signed by the CA in
/etc/pki/qemu/ca-cert.pem.

The default is true and matches libvirt's. We will want to disable this
by default in train.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/785957/
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1945760
Change-Id: I3b252854a0dbf121d69bab79543561da6be781f4
"
openstack%2Fpuppet-nova~master~I06fcef45cd06657d8e7796573181bd05ffff0324,openstack/puppet-nova,master,scheduler_driver,I06fcef45cd06657d8e7796573181bd05ffff0324,Remove support for [scheduler] driver,ABANDONED,2021-04-26 12:27:23.000000000,2021-04-26 12:33:22.000000000,,4,28,0,787961,df9270d9f16272c28d29557342227f41055eff89,2,0,1,3,9816,Takashi Kajinami,kajinamit,"Remove support for [scheduler] driver

... because the parameter has been removed from nova[1].

[1] 5aeb3a387494c4559d183d1290db3c92a96dfb90

Change-Id: I06fcef45cd06657d8e7796573181bd05ffff0324
"
openstack%2Fneutron~master~Ia9e23113fdeebf0b99085da200c3d61b71567d36,openstack/neutron,master,787310,Ia9e23113fdeebf0b99085da200c3d61b71567d36,Don't ever give up trying to connect to OVN DBs,MERGED,2021-04-21 03:09:01.000000000,2021-04-26 12:29:51.000000000,2021-04-26 12:26:29.000000000,24,0,2,787310,39ccc0d6d6995b8d50baecc523dd30be034669a9,103,7,3,2,5756,Terry Wilson,otherwiseguy,"Don't ever give up trying to connect to OVN DBs

It doesn't really make since to give up connectimg to the OVN DBs
since we can't do anything without them. If ovsdb-server is slow
and takes more than timeout seconds, everything reconnecting after
partial downloads and starting over is not going to make things
better.

We can change the behavior in ovsdbapp, but doing it without
making non-backportable API changes isn't easily doable.
The plan would be, after merging this back through stable, to
modify ovsdbapp to allow setting different connection and txn
timeouts and being able to disable the timeout in wait_for_change
with a value of -1. Then in the main branch of neutron we can
use that going forward.

Change-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36
"
openstack%2Fbifrost~stable%2Fwallaby~I3cba11ac02a09d142637e2169a7b901a5b41bd59,openstack/bifrost,stable/wallaby,,I3cba11ac02a09d142637e2169a7b901a5b41bd59,Install squashfs-tools for Ubuntu image builds,MERGED,2021-04-26 10:07:51.000000000,2021-04-26 12:17:50.000000000,2021-04-26 12:16:22.000000000,6,0,0,787853,e629573ccc6d73ca9e3a3e1e52509fb8fd6d2b1a,7,3,1,2,10239,Dmitry Tantsur,dtantsur,"Install squashfs-tools for Ubuntu image builds

Ubuntu cloud images are distributed in a squashfs file system. Using the
ubuntu DIB element requires unpacking the image, which requires the
squashfs-tools package. This change ensures it is installed.

Story: 2008838
Task: 42345

Change-Id: I3cba11ac02a09d142637e2169a7b901a5b41bd59
(cherry picked from commit b166a0629bafdc0b18de3835e9210dfeaf811322)
"
openstack%2Fneutron~stable%2Ftrain~I6a40e6e3f937fa30bbb29768211ec8e689d4f82a,openstack/neutron,stable/train,delete_net_fip_opt-stable/train,I6a40e6e3f937fa30bbb29768211ec8e689d4f82a,Get only FIP ID on network delete,MERGED,2021-04-22 08:45:59.000000000,2021-04-26 12:15:28.000000000,2021-04-26 12:13:36.000000000,13,5,0,787490,3e9a7876890174d535a14329e2a6de4b01396601,56,3,3,2,5948,Oleg Bondarev,obondarev,"Get only FIP ID on network delete

Get FloatingIP object results in a quite heavy DB request.
delete_disassociated_floatingips() only needs IDs.

Change-Id: I6a40e6e3f937fa30bbb29768211ec8e689d4f82a
(cherry picked from commit 282dc73e129b84b828d9d1d815b0b95afe093e11)
"
openstack%2Fneutron~master~I708904b982d243359f2eeda809beae0321f1a7db,openstack/neutron,master,,I708904b982d243359f2eeda809beae0321f1a7db,[OVN] Only account for bound ports in metadata agent,MERGED,2021-04-21 09:46:36.000000000,2021-04-26 12:14:59.000000000,2021-04-26 12:13:21.000000000,37,22,43,787337,32e938e698f260af6896f6179a5ffc0838677124,49,8,5,4,23804,Daniel Alvarez,dalvarez,"[OVN] Only account for bound ports in metadata agent

Due to bug #1922934 there might be situations with stale ports
in the OVN database. When instances request metadata, the agent
will try to fetch all ports for that particular network with the
same IP address and there should be only one.

However, when there are stale ports in OVN database but not in
Neutron, those ports may have the same IP address and the result
is that metadata won't work. As the stale ports will never be
bound to any hypervisor, this patch is accounting only for
bound ports so that those ports don't interfere until they
eventually get fixed by the maintenance task.

Related-Bug: #1922934
Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: I708904b982d243359f2eeda809beae0321f1a7db
"
openstack%2Fcharm-magnum-dashboard~master~Ie11080800aaec441785976308f2d0712fd277266,openstack/charm-magnum-dashboard,master,zosci,Ie11080800aaec441785976308f2d0712fd277266,Add zOSCI config,MERGED,2021-04-01 13:57:28.000000000,2021-04-26 12:12:33.000000000,2021-04-26 12:12:33.000000000,12,0,0,784418,493153112189205dcf7b20270a7f3a586ae7468b,21,4,2,1,31289,Aurelien Lourot,lourot,"Add zOSCI config

Change-Id: Ie11080800aaec441785976308f2d0712fd277266
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I03953059f96079fbb61899d16147007b2fe023ad,openstack/tripleo-ansible,stable/ussuri,tripleo_timemaster-stable/ussuri,I03953059f96079fbb61899d16147007b2fe023ad,Support for timemaster service with tripleo-ansible role,MERGED,2021-03-30 13:42:35.000000000,2021-04-26 12:12:30.000000000,2021-04-26 12:12:30.000000000,409,0,0,783863,60339f758076aa6e046536cdd5d9f737c1d7a37a,10,8,1,10,30229,Haresh,hakhande,"Support for timemaster service with tripleo-ansible role

timemaster service provides provides HA between different
time service i.e chrony, PTP. When timemaster service runs,
it spwans instances/child processes of chronyd, ptp4l and
phy2sys. Look at below output.

[root@hareshcomputesriov-0 heat-admin]# systemctl status timemaster
● timemaster.service - Synchronize system clock to NTP and PTP time
                       sources
   Loaded: loaded (/usr/lib/systemd/system/timemaster.service; disabled;
                   vendor preset: disabled)
   Active: active (running) since Tue 2020-08-11 17:24:45 UTC; 3s ago
 Main PID: 544428 (timemaster)
    Tasks: 4 (limit: 357097)
   Memory: 2.4M
   CGroup: /system.slice/timemaster.service
           ├─544428 /usr/sbin/timemaster -f /etc/timemaster.conf
           ├─544429 /usr/sbin/chronyd -n
                                      -f /var/run/timemaster/chrony.conf
           ├─544430 /usr/sbin/ptp4l -l 5
                                    -f /var/run/timemaster/ptp4l.0.conf
                                    -H -i eno1
           └─544431 /usr/sbin/phc2sys -l 5 -a -r -R 1.00
                                   -z /var/run/timemaster/ptp4l.0.socket
                                   -t [0:eno1] -n 0 -E ntpshm -M 0

Timemaster service uses /etc/chrony.conf and /etc/ptp4l.conf to create
runtime instance for these 2 timeservices. These 2 time services sync to
their respective time source. Timemaster provides HA between chrony
and PTP (between different PTP domains as well which is not part of
this patch).Timemaster compares all time sources and use the best
sources to synchronize the system clock. if chronyd commuication breaks
then timemaster will set system time with PTP grand master's provided
time and vice a versa.

Change-Id: I03953059f96079fbb61899d16147007b2fe023ad
(cherry picked from commit c4950ce46e28fa87c7dcb0971ae3582a04d83021)
"
openstack%2Fneutron~stable%2Ftrain~I0ab836ac09225f4f3ad435e9ceaf315018855d52,openstack/neutron,stable/train,bug/1923161-stable/train,I0ab836ac09225f4f3ad435e9ceaf315018855d52,DHCP notification optimization,MERGED,2021-04-20 12:09:08.000000000,2021-04-26 12:03:14.000000000,2021-04-26 12:01:39.000000000,41,19,0,787194,8d7cc27532a5da64382cbd7258d8ce3dcecbda0d,28,4,4,4,5948,Oleg Bondarev,obondarev,"DHCP notification optimization

DHCP notification is done after each create/update/delete for
network, subnet and port.
This notification currently has to retrieve network from DB almost
every time, which is a quite heavy DB request and hence affects
performance of port and subnet CRUD.

This patch suggests 2 optimizations:
- do not fetch network if not needed (only fetch when schedule needed)
- for port and subnet AFTER_CREATE event pass network dict from plugin

According to Rally tests these changes improve performance:
- port create ~20%
- port update ~20%
- subnet create ~15%
- port delete and subnet update/delete - not tested

Conflicts:
     neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py

Closes-Bug: #1923161
Change-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52
(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)
"
openstack%2Fneutron~stable%2Fussuri~I0ab836ac09225f4f3ad435e9ceaf315018855d52,openstack/neutron,stable/ussuri,bug/1923161-stable/ussuri,I0ab836ac09225f4f3ad435e9ceaf315018855d52,DHCP notification optimization,MERGED,2021-04-20 12:06:46.000000000,2021-04-26 12:03:05.000000000,2021-04-26 12:01:30.000000000,41,19,0,787193,48b30783c0d550b4fb23c5886090c4f57b88ad53,19,4,4,4,5948,Oleg Bondarev,obondarev,"DHCP notification optimization

DHCP notification is done after each create/update/delete for
network, subnet and port.
This notification currently has to retrieve network from DB almost
every time, which is a quite heavy DB request and hence affects
performance of port and subnet CRUD.

This patch suggests 2 optimizations:
- do not fetch network if not needed (only fetch when schedule needed)
- for port and subnet AFTER_CREATE event pass network dict from plugin

According to Rally tests these changes improve performance:
- port create ~20%
- port update ~20%
- subnet create ~15%
- port delete and subnet update/delete - not tested

Conflicts:
     neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py

Closes-Bug: #1923161
Change-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52
(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)
"
openstack%2Fneutron~stable%2Fvictoria~I0ab836ac09225f4f3ad435e9ceaf315018855d52,openstack/neutron,stable/victoria,bug/1923161-stable/victoria,I0ab836ac09225f4f3ad435e9ceaf315018855d52,DHCP notification optimization,MERGED,2021-04-20 12:02:17.000000000,2021-04-26 12:03:02.000000000,2021-04-26 12:01:22.000000000,41,19,2,787191,342814db723dd60800539e72629d5c6de47af960,24,4,3,4,5948,Oleg Bondarev,obondarev,"DHCP notification optimization

DHCP notification is done after each create/update/delete for
network, subnet and port.
This notification currently has to retrieve network from DB almost
every time, which is a quite heavy DB request and hence affects
performance of port and subnet CRUD.

This patch suggests 2 optimizations:
- do not fetch network if not needed (only fetch when schedule needed)
- for port and subnet AFTER_CREATE event pass network dict from plugin

According to Rally tests these changes improve performance:
- port create ~20%
- port update ~20%
- subnet create ~15%
- port delete and subnet update/delete - not tested

Conflicts:
     neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py

Closes-Bug: #1923161
Change-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52
(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)
"
openstack%2Fkuryr-kubernetes~master~Ie2f6ec8b193e5a90216f3ff925188ad367826e4c,openstack/kuryr-kubernetes,master,bp/configure-lb-listeners-timeout,Ie2f6ec8b193e5a90216f3ff925188ad367826e4c,Enable Listener data timeouts test in tempest.conf,MERGED,2021-04-07 10:36:59.000000000,2021-04-26 11:51:01.000000000,2021-04-26 11:49:55.000000000,1,0,0,785140,fae12d9be2d1b213c029d925859ad00ec90591b2,40,4,2,1,32533,Tabitha Fasoyin,tabbie-fash,"Enable Listener data timeouts test in tempest.conf

This patch enables the tempest test that checks that listener timeout
value is configurable.

Depends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/783966
Implements: blueprint configure-lb-listeners-timeout
Change-Id: Ie2f6ec8b193e5a90216f3ff925188ad367826e4c
"
openstack%2Fkolla~master~Ie3bb0ffe6bd647e71e35f5f3d01c512704ea0df7,openstack/kolla,master,,Ie3bb0ffe6bd647e71e35f5f3d01c512704ea0df7,Drop Ubuntu/AArch64 support,ABANDONED,2021-04-19 17:11:26.000000000,2021-04-26 11:38:27.000000000,,5,29,0,786937,5029cfead3e5f487290e7de00dd4f6d1a63cee27,7,7,1,2,24072,Marcin Juszkiewicz,hrw,"Drop Ubuntu/AArch64 support

There are no known users for Ubuntu based Kolla containers on AArch64
architecture. Images are buildable but due to lack of Erlang 23 packages
RabbitMQ does not start breaking whole deployment.

Change-Id: Ie3bb0ffe6bd647e71e35f5f3d01c512704ea0df7
"
openstack%2Fbifrost~stable%2Fvictoria~I3cba11ac02a09d142637e2169a7b901a5b41bd59,openstack/bifrost,stable/victoria,,I3cba11ac02a09d142637e2169a7b901a5b41bd59,Install squashfs-tools for Ubuntu image builds,MERGED,2021-04-26 10:08:10.000000000,2021-04-26 11:25:44.000000000,2021-04-26 11:24:33.000000000,6,0,0,787854,a2b16602363c7c48fcc50bd83bacd48561f74550,7,3,1,2,10239,Dmitry Tantsur,dtantsur,"Install squashfs-tools for Ubuntu image builds

Ubuntu cloud images are distributed in a squashfs file system. Using the
ubuntu DIB element requires unpacking the image, which requires the
squashfs-tools package. This change ensures it is installed.

Story: 2008838
Task: 42345

Change-Id: I3cba11ac02a09d142637e2169a7b901a5b41bd59
(cherry picked from commit b166a0629bafdc0b18de3835e9210dfeaf811322)
"
openstack%2Fbarbican~master~I52838cfe63d5a0b81757c278b9bfad516a442274,openstack/barbican,master,,I52838cfe63d5a0b81757c278b9bfad516a442274,Fix Vault functional test,MERGED,2020-11-25 14:47:03.000000000,2021-04-26 11:17:52.000000000,2021-04-26 11:14:23.000000000,3,1,0,764202,21661bebd93e3e78755becd542ed8e0fffbde64d,23,6,3,1,14826,Mark Goddard,mgoddard,"Fix Vault functional test

It was previously using the wrong Devstack service name.

Change-Id: I52838cfe63d5a0b81757c278b9bfad516a442274
"
openstack%2Fpuppet-neutron~stable%2Fwallaby~I0650085d2aa2c3492b175c565976705c977fd806,openstack/puppet-neutron,stable/wallaby,fix-l3-agent-extensions-list-stable/wallaby,I0650085d2aa2c3492b175c565976705c977fd806,Fix L3 agent's extensions list,MERGED,2021-04-20 00:17:58.000000000,2021-04-26 10:58:52.000000000,2021-04-26 10:58:52.000000000,22,2,0,786960,db151245184f2188e8e4ef8be6b5418eba4e926b,11,4,2,2,9816,Takashi Kajinami,kajinamit,"Fix L3 agent's extensions list

L3 agent's extensions list should be passed as an array
to the neutron::agents::l3 class and then it should be converted
to the comma separated string in the L3 agent's config.
This patch changes expected type of the variable and
adds that such conversion from an array to string.

Change-Id: I0650085d2aa2c3492b175c565976705c977fd806
(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)
"
openstack%2Ftelemetry-tempest-plugin~master~I2c3fb918c559b892865287a3363e090cad9e9b98,openstack/telemetry-tempest-plugin,master,,I2c3fb918c559b892865287a3363e090cad9e9b98,Switch telemetry-tempest-dsvm to non-voting for now,MERGED,2021-04-23 13:41:09.000000000,2021-04-26 10:43:16.000000000,2021-04-26 10:43:16.000000000,2,1,0,787739,657804a7cff5cd0100e1a4a7b868e4bc3c78cd86,8,2,2,1,4264,Matthias Runge,mrunge,"Switch telemetry-tempest-dsvm to non-voting for now

The job is apparently broken in cleanup phase.

Change-Id: I2c3fb918c559b892865287a3363e090cad9e9b98
"
openstack%2Fkolla-ansible~stable%2Fvictoria~Iede747ceaafa54a00186761943fe2f4ac13f9559,openstack/kolla-ansible,stable/victoria,,Iede747ceaafa54a00186761943fe2f4ac13f9559,docs: Improve policy documentation,MERGED,2021-04-26 09:11:52.000000000,2021-04-26 10:38:59.000000000,2021-04-26 10:37:02.000000000,21,14,0,787850,466e4cc7c700db947c6fe26703beeb98b347a161,8,3,1,1,14826,Mark Goddard,mgoddard,"docs: Improve policy documentation

Change-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559
(cherry picked from commit 030a9a28d74f98831cce2cd48c08e09102ae7cf0)
"
openstack%2Fkolla-ansible~master~Ifaf64e3d9d89b2ec36a883fb7458556745b64802,openstack/kolla-ansible,master,hacluster-quirk-followup,Ifaf64e3d9d89b2ec36a883fb7458556745b64802,Avoid an Ansible quirk in hacluster role,MERGED,2021-04-24 18:39:52.000000000,2021-04-26 10:38:55.000000000,2021-04-26 10:36:41.000000000,1,3,0,787858,f3da3d8e1920473154d239e6ef5a254dbde438f2,11,5,1,1,30491,Radosław Piliszek,yoctozepto,"Avoid an Ansible quirk in hacluster role

Followup on I91e5c1840ace8f567daf462c4eb3ec1f0c503823

When+run_once do not play nicely. [1]
The general workaround is to use include_tasks. [2]
However, it is very unlikely user wishes to run this role
without having any pacemaker nodes so the simplification that we
use throughout the Kolla Ansible code should be enough.

[1] https://github.com/ansible/ansible/issues/11496
[2] https://github.com/ansible/ansible/issues/11496#issuecomment-412936547

Change-Id: Ifaf64e3d9d89b2ec36a883fb7458556745b64802
"
openstack%2Fkolla-ansible~stable%2Ftrain~Iede747ceaafa54a00186761943fe2f4ac13f9559,openstack/kolla-ansible,stable/train,,Iede747ceaafa54a00186761943fe2f4ac13f9559,docs: Improve policy documentation,MERGED,2021-04-26 09:13:27.000000000,2021-04-26 10:38:54.000000000,2021-04-26 10:37:10.000000000,21,14,0,787852,26760b63933217b5beab427d921ef2b73d53a5d0,8,3,1,1,14826,Mark Goddard,mgoddard,"docs: Improve policy documentation

Change-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559
(cherry picked from commit 030a9a28d74f98831cce2cd48c08e09102ae7cf0)
"
openstack%2Fkolla-ansible~stable%2Fussuri~Iede747ceaafa54a00186761943fe2f4ac13f9559,openstack/kolla-ansible,stable/ussuri,,Iede747ceaafa54a00186761943fe2f4ac13f9559,docs: Improve policy documentation,MERGED,2021-04-26 09:13:20.000000000,2021-04-26 10:38:52.000000000,2021-04-26 10:37:06.000000000,21,14,0,787851,55ffe1f8fbe81f6bd8ba3134942338e40fc595ba,8,3,1,1,14826,Mark Goddard,mgoddard,"docs: Improve policy documentation

Change-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559
(cherry picked from commit 030a9a28d74f98831cce2cd48c08e09102ae7cf0)
"
openstack%2Fkolla~master~I4bd385b53257a60cc55a190138e5d7078f8b64bf,openstack/kolla,master,prepare-for-kolla-wallaby-release,I4bd385b53257a60cc55a190138e5d7078f8b64bf,docs: deprecate ppc64le in Wallaby,MERGED,2021-04-26 09:14:59.000000000,2021-04-26 10:38:48.000000000,2021-04-26 10:37:25.000000000,5,0,0,787947,f00961da2251ad2c374a03f081db4bf0f089cf73,12,4,2,1,24072,Marcin Juszkiewicz,hrw,"docs: deprecate ppc64le in Wallaby

Change-Id: I4bd385b53257a60cc55a190138e5d7078f8b64bf
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Iede747ceaafa54a00186761943fe2f4ac13f9559,openstack/kolla-ansible,stable/wallaby,,Iede747ceaafa54a00186761943fe2f4ac13f9559,docs: Improve policy documentation,MERGED,2021-04-26 09:11:46.000000000,2021-04-26 10:38:39.000000000,2021-04-26 10:37:20.000000000,21,14,0,787849,3f7e027651d7e96bd4e74d11f3f3477ee6bcecf5,8,3,1,1,14826,Mark Goddard,mgoddard,"docs: Improve policy documentation

Change-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559
(cherry picked from commit 030a9a28d74f98831cce2cd48c08e09102ae7cf0)
"
openstack%2Ftripleo-validations~master~Ib90a48e9a12a5c5d2c5220eceaa38107d233e467,openstack/tripleo-validations,master,requirementsfix,Ib90a48e9a12a5c5d2c5220eceaa38107d233e467,Removal of osc-lib,MERGED,2021-04-21 16:15:57.000000000,2021-04-26 10:32:48.000000000,2021-04-26 10:31:05.000000000,0,2,0,787416,8c785e4b9f14c439a68f34baccedbf50ae2eca68,23,10,5,2,32926,Jiri Podivin,jpodivin,"Removal of osc-lib

osc-lib removed from requirements.txt

Resolves: BZ#1952113

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/787567
Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ib90a48e9a12a5c5d2c5220eceaa38107d233e467
"
openstack%2Fopenstacksdk~master~I32b7d6861ed9b15bb0fac1af4acde50c1f3f847a,openstack/openstacksdk,master,782013,I32b7d6861ed9b15bb0fac1af4acde50c1f3f847a,Add support for the GroupType resource,MERGED,2021-03-31 22:33:09.000000000,2021-04-26 10:26:51.000000000,2021-04-26 10:24:04.000000000,241,0,8,784178,6327052ef0a3e0c4096dc09d673dd1d40dbcc3ed,15,5,4,5,33032,Dylan Zapzalka,dylanzapzalka,"Add support for the GroupType resource

Introduce the GroupType resource, fill in its
resources, and implement API calls to support the
Cinder v3 API

Task: 41856
Story: 2008619
Task: 42191
Story: 2008621
Change-Id: I32b7d6861ed9b15bb0fac1af4acde50c1f3f847a
"
openstack%2Fbifrost~master~I3cba11ac02a09d142637e2169a7b901a5b41bd59,openstack/bifrost,master,,I3cba11ac02a09d142637e2169a7b901a5b41bd59,Install squashfs-tools for Ubuntu image builds,MERGED,2021-04-22 08:38:57.000000000,2021-04-26 10:07:16.000000000,2021-04-26 10:05:52.000000000,6,0,0,787505,b166a0629bafdc0b18de3835e9210dfeaf811322,11,3,2,2,14826,Mark Goddard,mgoddard,"Install squashfs-tools for Ubuntu image builds

Ubuntu cloud images are distributed in a squashfs file system. Using the
ubuntu DIB element requires unpacking the image, which requires the
squashfs-tools package. This change ensures it is installed.

Story: 2008838
Task: 42345

Change-Id: I3cba11ac02a09d142637e2169a7b901a5b41bd59
"
openstack%2Freleases~master~I58b718c5a97f0cf61df4fb7640fa0a7c1eb6131b,openstack/releases,master,neutron-lib_2.11.0,I58b718c5a97f0cf61df4fb7640fa0a7c1eb6131b,Release neutron-lib 2.11.0,MERGED,2021-04-23 11:43:30.000000000,2021-04-26 09:55:08.000000000,2021-04-26 09:55:08.000000000,5,0,0,787717,545a87db3f8282c5b32d2ebf624360c1d94e7aab,10,6,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Release neutron-lib 2.11.0

Change-Id: I58b718c5a97f0cf61df4fb7640fa0a7c1eb6131b
"
openstack%2Fmanila-tempest-plugin~master~I040a799fb2afd64536516e4caeaa737e19e67062,openstack/manila-tempest-plugin,master,share_type_cleanup,I040a799fb2afd64536516e4caeaa737e19e67062,Fix share type cleanup,ABANDONED,2020-08-23 11:20:51.000000000,2021-04-26 09:34:20.000000000,,51,59,7,747571,38d24f43a3238add02015cae3d8a12831b240f67,31,11,5,3,19262,Liron Kuchlani,lkuchlan,"Fix share type cleanup

Currently, there is a bug [1] causing the test ""test_manage_share_duplicate""
to fail. This failure leaves behind a share type. Other test cases are
attempting to cleanup that share type that was left behind.
This causes to authentication failures in the other test cases since they
are on other projects.
This patch creates a separated share type for each test and delete it at
the end of the test to avoid cascade like this.

This patch also move skipping conditions under skip_checks method.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1849843

Change-Id: I040a799fb2afd64536516e4caeaa737e19e67062
"
openstack%2Fironic~stable%2Fwallaby~I8d13df5db9654b0c2ea24489f7df75cdc5bae0e2,openstack/ironic,stable/wallaby,redfish-fast-track-stable/wallaby,I8d13df5db9654b0c2ea24489f7df75cdc5bae0e2,Fix fast track with redfish-virtual-media,MERGED,2021-04-23 14:06:51.000000000,2021-04-26 09:32:37.000000000,2021-04-26 09:29:34.000000000,168,5,0,787613,7151e81b1820acf9f65aec9c6188c261f6add286,11,3,1,2,10239,Dmitry Tantsur,dtantsur,"Fix fast track with redfish-virtual-media

During cleaning prepare_ramdisk is always called, even with fast track.
However, the redfish-virtual-media boot interface ignores fast track and
always reboots the node. This change makes fast track work if we can
detect that a CD device is connected.

Change-Id: I8d13df5db9654b0c2ea24489f7df75cdc5bae0e2
(cherry picked from commit 65e2e190981942b83b3a1eef99183b8128e833a2)
"
openstack%2Fironic~stable%2Fwallaby~I9ff2d726cb75317fe09bd43342541db0e721f2b8,openstack/ironic,stable/wallaby,cleaning-token-stable/wallaby,I9ff2d726cb75317fe09bd43342541db0e721f2b8,Remove temporary cleaning information on starting cleaning,MERGED,2021-04-25 15:17:11.000000000,2021-04-26 09:31:19.000000000,2021-04-26 09:29:29.000000000,16,40,0,787844,53535efb6285a3a69557ef61d30544ae9612ca8b,10,2,1,5,10239,Dmitry Tantsur,dtantsur,"Remove temporary cleaning information on starting cleaning

Currently we only remove the URL, which may leave a stale token.

Change-Id: I9ff2d726cb75317fe09bd43342541db0e721f2b8
(cherry picked from commit f4a7002023ddbd41505342bbad43fb6e0f963ef4)
"
openstack%2Fconstellations~master~Ia57aa41dd923d1fbc53512f5e10580d5575a4e5e,openstack/constellations,master,,Ia57aa41dd923d1fbc53512f5e10580d5575a4e5e,Add Compute Starter constellation,NEW,2018-07-26 13:23:04.000000000,2021-04-26 09:23:46.000000000,,122,0,16,586212,08962f9b514652903c04edcca3a8b108c55073b0,18,8,3,3,5638,Davanum Srinivas,dims-v,"Add Compute Starter constellation

Entirely based on sdague's work here -
Ie4aefe54a88aff9cebdf44e0e6c3f8ed95aa0d0e

and template from johnthetubaguy's Scientific Computing constellation:
Ia57aa41dd923d1fbc53512f5e10580d5575a4e5f

proposes a new constellation to specify a small number of
projects that are targeted at initial compute deploys by new
operators.

Change-Id: Ia57aa41dd923d1fbc53512f5e10580d5575a4e5e
"
openstack%2Fcliff~master~I5d419e881a42e627fd0699cb2ab68b66e7295cee,openstack/cliff,master,,I5d419e881a42e627fd0699cb2ab68b66e7295cee,Use py3 as the default runtime for tox,MERGED,2021-04-20 02:37:35.000000000,2021-04-26 09:17:35.000000000,2021-04-26 09:16:08.000000000,1,1,0,787034,fa0535a88831cb7b91c0bf9568679a21c77f9e7c,7,2,1,1,31412,Wenping Song,songwenping,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I5d419e881a42e627fd0699cb2ab68b66e7295cee
"
openstack%2Foswin-tempest-plugin~master~Id9f0c4322204212a814d79f01769e07a3ff942db,openstack/oswin-tempest-plugin,master,,Id9f0c4322204212a814d79f01769e07a3ff942db,Use py3 as the default runtime for tox,MERGED,2021-04-20 08:58:40.000000000,2021-04-26 09:15:04.000000000,2021-04-26 09:15:04.000000000,1,1,0,787171,59e6a14d01dda304c7d11fda1d35198f25799d6c,6,2,1,1,30384,zhangboye,zhangboye,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: Id9f0c4322204212a814d79f01769e07a3ff942db
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I0dbcde302a3abdfccc3dd996b1c238e25064dd12,openstack/puppet-tripleo,stable/ussuri,ceph_dashboard_ha-stable/ussuri,I0dbcde302a3abdfccc3dd996b1c238e25064dd12,Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard,MERGED,2021-04-22 07:23:54.000000000,2021-04-26 08:51:38.000000000,2021-04-26 08:51:38.000000000,32,0,0,787394,86d357cdddb0862652460a94e8b2915a2cd5782c,15,6,2,1,25402,Francesco Pantano,fmount,"Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard

This change adds the prometheus and alertmanager endpoints which
are on the same grafana network and allow us to just use a single
vip to access the prometheus and alertmanager instances from the
ceph dashboard when enabled.
We already did it for grafana [1] and we would like to do the same
for prometheus and alertmanager.

[1] https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-dashboard/tasks/configure_dashboard.yml#L192

Change-Id: I0dbcde302a3abdfccc3dd996b1c238e25064dd12
(cherry picked from commit 92c76046a8da94375ce626226b7e3cefec879639)
"
openstack%2Ftacker~master~I245cd2626fac1112d6a9fef3c51bf5ef6b679e05,openstack/tacker,master,bug/1923360,I245cd2626fac1112d6a9fef3c51bf5ef6b679e05,Updated vnflcm api output with host-path,MERGED,2021-04-11 17:03:28.000000000,2021-04-26 08:20:57.000000000,2021-04-26 08:18:57.000000000,121,79,4,785798,2c68a0a84d2a62598b9379529008c2ae1c849ca6,40,8,6,5,16308,Sheel Rana,sheel.rana,"Updated vnflcm api output with host-path

Currently vnflcm api operations do not return host-path
in their output inside '_links' href field.
For ex,
""_links"": {
""self"": {
""href"":
    ""/vnflcm/v1/vnf_instances/<vnf-instance>""
}
}

This patch updates '_links' href field in vnflcm api output
with host-path.
For ex,
""_links"": {
""self"": {
""href"":
    ""http://localhost:9890/vnflcm/v1/vnf_instances/<vnf-instance>""
}
}

*here ""http://localhost:9890/"" is just an example of host-path.

Related operations:
1. Creates a new VNF instance.
2. Show VNF Instance.
3. List VNF Instances.
4. Show VNF LCM operation occurrence.
5. List VNF LCM operation occurrences.

Co-Authored-By: Navum Gupta <navum.gupta@india.nec.com>

Closes-Bug: #1923360
Change-Id: I245cd2626fac1112d6a9fef3c51bf5ef6b679e05
"
openstack%2Fproject-config~master~Ic323a436bfc057a919ece48f578f6626f87ae03c,openstack/project-config,master,ara-irc,Ic323a436bfc057a919ece48f578f6626f87ae03c,Remove IRC bots from #ara,MERGED,2021-04-25 15:40:50.000000000,2021-04-26 08:15:21.000000000,2021-04-26 07:53:10.000000000,0,15,0,787892,27056169a767b491c7233c752ddc22b75930653a,9,3,1,2,5263,Jeremy Stanley,fungi,"Remove IRC bots from #ara

The #ara channel no longer grants founder access to the
openstackinfra bot account, so we should not continue to operate our
bots in it.

Change-Id: Ic323a436bfc057a919ece48f578f6626f87ae03c
Depends-on: https://review.opendev.org/787891
"
openstack%2Fneutron~master~I16e2e331d2d50c879f57367c6c80a23f6b651cfe,openstack/neutron,master,secure-rbac,I16e2e331d2d50c879f57367c6c80a23f6b651cfe,Allow SYSTEM_ADMIN to create floating IP for any project,ABANDONED,2021-04-12 11:40:31.000000000,2021-04-26 08:08:35.000000000,,2,2,2,785858,e3d20b68e56e312108ed04329b6054211cdfe436,15,3,1,1,11975,Slawek Kaplonski,slaweq,"Allow SYSTEM_ADMIN to create floating IP for any project

Related-blueprint: bp/secure-rbac-roles
Change-Id: I16e2e331d2d50c879f57367c6c80a23f6b651cfe
"
openstack%2Fproject-config~master~Ie649ee9373954bde98ece5d164cfa11fc961ffee,openstack/project-config,master,gerritbot-more-events,Ie649ee9373954bde98ece5d164cfa11fc961ffee,Make gerritbot linter know all the supported events,MERGED,2021-04-25 17:28:02.000000000,2021-04-26 07:53:14.000000000,2021-04-26 07:53:14.000000000,11,2,0,787894,79c298f51de4ca428232fae43d3d807fec8a9bd0,7,3,1,1,30491,Radosław Piliszek,yoctozepto,"Make gerritbot linter know all the supported events

So that it does not mark them as errors.

Change-Id: Ie649ee9373954bde98ece5d164cfa11fc961ffee
"
openstack%2Fkolla-ansible~master~Iede747ceaafa54a00186761943fe2f4ac13f9559,openstack/kolla-ansible,master,,Iede747ceaafa54a00186761943fe2f4ac13f9559,docs: Improve policy documentation,MERGED,2021-03-30 09:04:33.000000000,2021-04-26 07:48:09.000000000,2021-04-26 07:43:51.000000000,21,14,5,783809,030a9a28d74f98831cce2cd48c08e09102ae7cf0,17,5,2,1,14826,Mark Goddard,mgoddard,"docs: Improve policy documentation

Change-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559
"
openstack%2Fkayobe~master~I59a9d7ef2769dc630455c00dd507a740fcfa58ff,openstack/kayobe,master,,I59a9d7ef2769dc630455c00dd507a740fcfa58ff,zuul: add more irrelevant files,MERGED,2021-03-30 09:21:16.000000000,2021-04-26 07:48:04.000000000,2021-04-26 07:44:09.000000000,5,0,0,783819,2f0bb96c9f20f5cd58090570f1d31fd6f8d716ee,8,3,1,1,14826,Mark Goddard,mgoddard,"zuul: add more irrelevant files

zuul.d/* means we can change zuul config and not run all jobs. Zuul will
run jobs whose configuration has changed.

Change-Id: I59a9d7ef2769dc630455c00dd507a740fcfa58ff
"
openstack%2Fkolla-ansible~master~Ie5e2ea2cab853b4f389c944863d9d2df542856ad,openstack/kolla-ansible,master,image-tags,Ie5e2ea2cab853b4f389c944863d9d2df542856ad,Add global tag variables for Panko and Skydive,MERGED,2021-03-23 13:49:42.000000000,2021-04-26 07:46:24.000000000,2021-04-26 07:43:38.000000000,7,3,0,782525,aa9ac3320f050fc90fb8bf695b2d4e86add4df0c,12,6,1,2,15197,Pierre Riteau,priteau,"Add global tag variables for Panko and Skydive

This follows the pattern used in other roles.

Change-Id: Ie5e2ea2cab853b4f389c944863d9d2df542856ad
"
openstack%2Fkayobe~master~I46ea01ef9a3f6e322489e6d2a28f99d05656e0f2,openstack/kayobe,master,multiple-environments,I46ea01ef9a3f6e322489e6d2a28f99d05656e0f2,Add release note for multiple environments,MERGED,2021-04-13 09:06:11.000000000,2021-04-26 07:25:54.000000000,2021-04-26 07:24:28.000000000,13,0,0,786023,079704ab829d5a7cbdee78d463d0e814b121b920,10,3,2,2,15197,Pierre Riteau,priteau,"Add release note for multiple environments

Warn in the documentation that it is an experimental feature.

Change-Id: I46ea01ef9a3f6e322489e6d2a28f99d05656e0f2
"
openstack%2Fnova~master~Ic408c80ad5dff4162ac8519b049ed7311c15fb5b,openstack/nova,master,,Ic408c80ad5dff4162ac8519b049ed7311c15fb5b,os-assisted-volume-snapshots: mention Hyper-V usage,ABANDONED,2021-04-21 16:15:24.000000000,2021-04-26 07:22:55.000000000,,2,2,2,787415,3022715f0e45eb973b68d7ae3b768c7893939bb5,9,4,2,1,8543,Lucian Petrut,plucian,"os-assisted-volume-snapshots: mention Hyper-V usage

The docs state that this API is only implemented by the libvirt
driver, but it's also used by the out of tree Hyper-V driver.

We're adding a note about Hyper-V, which will be useful as this
API is about to become supersededed.

[1] https://github.com/openstack/compute-hyperv/blob/12.0.0/compute_hyperv/nova/driver.py#L250-L253

Change-Id: Ic408c80ad5dff4162ac8519b049ed7311c15fb5b
"
openstack%2Fneutron~stable%2Fvictoria~Ic53f44ceb82c86ca72565ceda75a251339d5cc4e,openstack/neutron,stable/victoria,fix_todo-stable/victoria,Ic53f44ceb82c86ca72565ceda75a251339d5cc4e,Use exceptions and resources from neutron-lib,ABANDONED,2021-04-26 06:28:00.000000000,2021-04-26 07:20:12.000000000,,83,0,0,787846,728a5b2a9a3c70e36eb14e4594d196392a4692f1,3,1,1,2,30858,zhen,zhen,"Use exceptions and resources from neutron-lib

Exceptions and resources were released in neutron-lib 2.7.0

Change-Id: Ic53f44ceb82c86ca72565ceda75a251339d5cc4e
(cherry picked from commit cd4d96a4f7c7e8430477402928f64e6ac8b657a7)
"
openstack%2Fdiskimage-builder~master~I14499b5ebaaa30126aaa6b3d1bd86ed64f110fda,openstack/diskimage-builder,master,profiledir-cleanup,I14499b5ebaaa30126aaa6b3d1bd86ed64f110fda,dib-run-parts: stop leaving PROFILE_DIR behind,MERGED,2021-04-21 00:42:43.000000000,2021-04-26 07:03:04.000000000,2021-04-26 07:00:04.000000000,10,5,0,787303,7c8e9f87330f96562ce74b37b598543462df774e,40,4,1,1,7118,Ian Wienand,iwienand,"dib-run-parts: stop leaving PROFILE_DIR behind

When a build fails, we can exit and leave ${PROFILE_DIR} behind.  Make
sure this is cleaned up with an exit trap.

While we're adding a function, update the syntax of the others for
consistency.

Change-Id: I14499b5ebaaa30126aaa6b3d1bd86ed64f110fda
"
openstack%2Fneutron~master~Ic53f44ceb82c86ca72565ceda75a251339d5cc4e,openstack/neutron,master,fix_todo,Ic53f44ceb82c86ca72565ceda75a251339d5cc4e,Use exceptions and resources from neutron-lib,MERGED,2021-04-20 08:20:43.000000000,2021-04-26 05:51:27.000000000,2021-04-26 05:49:25.000000000,8,26,0,787152,cd4d96a4f7c7e8430477402928f64e6ac8b657a7,183,6,2,2,32667,Mamatisa Nurmatov,isabek,"Use exceptions and resources from neutron-lib

Exceptions and resources were released in neutron-lib 2.7.0

Change-Id: Ic53f44ceb82c86ca72565ceda75a251339d5cc4e
"
openstack%2Fswift~master~I7d5c19304a5c5f83558e91624de356caaf0ab4d5,openstack/swift,master,,I7d5c19304a5c5f83558e91624de356caaf0ab4d5,auditors: Log and dump recon *before* sleeping,MERGED,2021-04-25 05:22:11.000000000,2021-04-26 05:51:20.000000000,2021-04-26 05:49:37.000000000,2,2,0,787868,9d6006f6463c24404a8b80ed5535a1eff63d39ad,8,2,1,1,15343,Tim Burke,tburke,"auditors: Log and dump recon *before* sleeping

No good reason to delay getting the info about a completed run out there.

Change-Id: I7d5c19304a5c5f83558e91624de356caaf0ab4d5
"
openstack%2Ftripleo-ansible~master~Ib69f8b5931e846ca012bee8a2bc24dc2a614e274,openstack/tripleo-ansible,master,part12,Ib69f8b5931e846ca012bee8a2bc24dc2a614e274,Use centos-8 stream for molecule jobs,MERGED,2021-04-21 17:17:02.000000000,2021-04-26 04:00:51.000000000,2021-04-26 03:57:51.000000000,91,16,0,787423,8f9a141bf9f735927209c6683e6b222500afd816,55,9,16,82,10969,Shnaidman Sagi (Sergey),sergsh,"Use centos-8 stream for molecule jobs

Set containers module to 3.0.
Mount dnf vars for evaluating $stream var.
Set --no-stream for ubi container images.
Mark 2 jobs unvoting to fix later.

Change-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274
"
openstack%2Fswift~master~I47f895ab44d2be768b707ab772d66249a5bf0c83,openstack/swift,master,relinker_dump_num_procs_started,I47f895ab44d2be768b707ab772d66249a5bf0c83,Relinker: Log the number of child workers started,NEW,2021-04-26 00:15:29.000000000,2021-04-26 01:39:03.000000000,,11,1,1,787908,f4951c6d4bfac701cc5597edc06c9e192a52946b,4,1,2,2,7233,Matthew Oliver,mattoliverau,"Relinker: Log the number of child workers started

When the relinker is started with multiple workers. It wont always start
with whatever is passed into --workers. Because it can also depend on
the amount of disks.

This patch adds an extra log line for the number of workers which will
be emitted from the parent process after its started all the workers.

  Number of workers started: <num> (<pid>, <pid>, ...)

If there is only 1 device or workers is set to 0 or 1, no line is
emitted as we don't start up worker processes.

Change-Id: I47f895ab44d2be768b707ab772d66249a5bf0c83
"
openstack%2Fkolla-ansible~master~I5c2bc45d4801e8a28ecd5922783ba7414672ce2a,openstack/kolla-ansible,master,ADD_TAG,I5c2bc45d4801e8a28ecd5922783ba7414672ce2a,Add tags for common tasks,ABANDONED,2021-02-25 13:48:58.000000000,2021-04-26 01:29:18.000000000,,2,0,0,777592,a2718c2b5ac511b894f9c5e89a694a7f595c39b4,17,3,3,2,26285,wu.chunyang,wu.chunyang,"Add tags for common tasks

this chage adds two tags: register and bootstrap.
1. register tag : service endpoint register.
2. bootstrap tag : bootstrap container.
we can use --skip-tags to skip those tasks.

Change-Id: I5c2bc45d4801e8a28ecd5922783ba7414672ce2a
"
openstack%2Fdiskimage-builder~master~Ia197feea34f43bd870fed30829b740596e6b2f48,openstack/diskimage-builder,master,grub-efi-arch,Ia197feea34f43bd870fed30829b740596e6b2f48,Ensure redhat efi packages are reinstalled during finalise,MERGED,2021-04-18 21:41:07.000000000,2021-04-26 01:09:16.000000000,2021-04-26 01:08:04.000000000,12,10,0,786804,5caeba0c684aa43f70edcecb0a1c45ba6f0fbb6f,35,4,2,3,4571,Steve Baker,steve-stevebaker,"Ensure redhat efi packages are reinstalled during finalise

The rhel-8.4 qcow2 base image already has the grub2-efi-x64 package
installed on its single partition which has files installed to
/boot/efi..., however a partitioned image will have an empty /boot/efi
partition when running 50-bootloader. This means dnf will not install
grub2-efi-x64 when requested and /boot/efi will remain empty.

This commit makes the following changes:
- Refactors redhat bootloader pkg-map for the following:
  - Make x86_64/amd64, arm64/aarch64 adjancent so they don't diverge
  - Map grub-efi to packages installed to /usr
  - Map grub-efi-{arch} to packages installed to /boot/efi
- Removes packages grub-efi-{arch} before installing grub-efi and
  grub-efi-{arch}

Change-Id: Ia197feea34f43bd870fed30829b740596e6b2f48
"
openstack%2Fneutron~stable%2Fussuri~I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,openstack/neutron,stable/ussuri,def_sg_opt-stable/ussuri,I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,Remove redundant _ensure_default_security_group,MERGED,2021-04-22 08:35:21.000000000,2021-04-25 23:42:57.000000000,2021-04-25 23:41:13.000000000,0,3,0,787483,8c1266cba1ae590ce86cf30b4d35e32c85ecccc7,48,4,1,1,32667,Mamatisa Nurmatov,isabek,"Remove redundant _ensure_default_security_group

_ensure_default_security_group() is done in
_ensure_default_security_group_handler [1] on each port BEFORE_CREATE
event. No need to ensure once again right after sending this event.

[1] https://github.com/openstack/neutron/blob/084fa99874e882649aa6895941fa913b2b852868/neutron/db/securitygroups_db.py#L894

TrivialFix

Change-Id: I1bfe2a50b52502b5ab3631c016a617f7a9756cc6
(cherry picked from commit bdf1416958f79e8076397fcbf2fbbc920f964b37)
"
openstack%2Ftripleo-common~master~Ia6de5fc45cdcc5725b1177092e9acf00abf7ab1c,openstack/tripleo-common,master,ephemeral-heat,Ia6de5fc45cdcc5725b1177092e9acf00abf7ab1c,Also catch keystoneauth1.exceptions.catalog.EndpointNotFound,MERGED,2021-04-21 02:16:44.000000000,2021-04-25 19:43:37.000000000,2021-04-25 19:42:30.000000000,7,3,0,787309,b6e5fbcbad6febfc5de7d33311ae8d623d760f36,19,4,2,1,7144,James Slagle,slagle,"Also catch keystoneauth1.exceptions.catalog.EndpointNotFound

When generating the ansible inventory and querying for heat or neutron
data, keystoneauth1.exceptions.catalog.EndpointNotFound also needs to be
caught as an exception in the case either service is not installed and
the endpoints do not exist.

Change-Id: Ia6de5fc45cdcc5725b1177092e9acf00abf7ab1c
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fpuppet-nova~master~Iee8f8557e8b38e6bed1a6b4519c39382784063da,openstack/puppet-nova,master,long_rpc_timeout,Iee8f8557e8b38e6bed1a6b4519c39382784063da,Add support for the long_rpc_timeout parameter,MERGED,2021-04-21 14:35:02.000000000,2021-04-25 17:32:44.000000000,2021-04-25 17:31:34.000000000,17,0,0,787403,b1a3a7a2dbde79936ae6227b89df1a18061bf0e6,19,4,2,3,9816,Takashi Kajinami,kajinamit,"Add support for the long_rpc_timeout parameter

Now nova provides the additional long_rpc_timeout parmaeter in addition
to the conventional rpc_response_timeout parameter, which defines
rpc response timeout for potential long running tasks.
This introduces support for that parameter.

Change-Id: Iee8f8557e8b38e6bed1a6b4519c39382784063da
"
openstack%2Fneutron~stable%2Fussuri~I75db7c713a17a0f1b1b5aecc6eec93e636a71827,openstack/neutron,stable/ussuri,bug/1917866-stable/ussuri,I75db7c713a17a0f1b1b5aecc6eec93e636a71827,Check for existence instead of fetching the whole net object,MERGED,2021-04-22 08:29:30.000000000,2021-04-25 14:34:03.000000000,2021-04-25 14:32:27.000000000,8,2,0,787481,5e4a8fbb0ee95239d1221726a559e40aaa290be5,33,5,2,2,32667,Mamatisa Nurmatov,isabek,"Check for existence instead of fetching the whole net object

There is no need to fetch the whole net object
(which leads to several heavy DB requests according
to OSProfiler stats) when only need to check net existence

This speeds up port creation up to 15%

Closes-Bug: #1917866
Change-Id: I75db7c713a17a0f1b1b5aecc6eec93e636a71827
(cherry picked from commit 4bb3c92917cdf19b18c7481786050241218e8df7)
"
openstack%2Fcinder~master~Ie12ecf09c30b1b53228882ba252813cd87dfa251,openstack/cinder,master,bp/alembic-migration,Ie12ecf09c30b1b53228882ba252813cd87dfa251,setup.cfg: Replace dashes with underscores,MERGED,2021-04-20 16:35:37.000000000,2021-04-25 13:33:04.000000000,2021-04-21 02:31:31.000000000,4,4,0,787263,ea7ae8e65598290c317717f290c9db09edd9daf4,26,3,1,1,15334,Stephen Finucane,sfinucan,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: Ie12ecf09c30b1b53228882ba252813cd87dfa251
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fpuppet-glance~master~Ib8c808ee1d7c7241eab994af327143a04c35950a,openstack/puppet-glance,master,secure-rbac,Ib8c808ee1d7c7241eab994af327143a04c35950a,Update policy manifest to support setting new default policies,ABANDONED,2021-03-19 21:06:03.000000000,2021-04-25 13:12:12.000000000,,21,1,0,781913,46f4436559f623e09971e8fb317cf59ff1de3ec3,4,1,1,1,5046,Lance Bragstad,ldbragst,"Update policy manifest to support setting new default policies

Change-Id: Ib8c808ee1d7c7241eab994af327143a04c35950a
"
openstack%2Fpuppet-keystone~master~I3b9eb259ac075e41f94e2fa56add0d03fb942f2a,openstack/puppet-keystone,master,secure-rbac,I3b9eb259ac075e41f94e2fa56add0d03fb942f2a,Update policy manifest to support setting new defaults,ABANDONED,2021-03-19 20:09:38.000000000,2021-04-25 13:11:44.000000000,,6,0,0,781901,988712d595b99be76bfb0b4f96c6ecdf20dc57dd,4,1,1,1,5046,Lance Bragstad,ldbragst,"Update policy manifest to support setting new defaults

Change-Id: I3b9eb259ac075e41f94e2fa56add0d03fb942f2a
"
openstack%2Fpuppet-nova~master~I35d5f10995131105193e7d0beb8aa39070d5e91f,openstack/puppet-nova,master,secure-rbac,I35d5f10995131105193e7d0beb8aa39070d5e91f,Update policy manifest to support setting new default policies,ABANDONED,2021-03-19 20:56:05.000000000,2021-04-25 13:11:26.000000000,,15,1,0,781910,737d3057aba72c967611be978598f0c30c7c16b0,4,1,1,1,5046,Lance Bragstad,ldbragst,"Update policy manifest to support setting new default policies

Change-Id: I35d5f10995131105193e7d0beb8aa39070d5e91f
"
openstack%2Fpuppet-cinder~master~Id2fa564e51904aa29411c0aa6a337bfd97365a5d,openstack/puppet-cinder,master,secure-rbac,Id2fa564e51904aa29411c0aa6a337bfd97365a5d,Update policy manifest to support setting new default policies,ABANDONED,2021-03-19 21:01:20.000000000,2021-04-25 13:11:18.000000000,,15,1,0,781912,d25c9c06bc6472b3c27c3d552103d89697fc907d,4,1,1,1,5046,Lance Bragstad,ldbragst,"Update policy manifest to support setting new default policies

Change-Id: Id2fa564e51904aa29411c0aa6a337bfd97365a5d
"
openstack%2Fpuppet-neutron~master~I8fde00c5f0397ede82b3aa86cc80e7cc054e742c,openstack/puppet-neutron,master,secure-rbac,I8fde00c5f0397ede82b3aa86cc80e7cc054e742c,Update policy manifests to support setting new default policies,ABANDONED,2021-03-19 20:58:39.000000000,2021-04-25 13:11:00.000000000,,15,1,0,781911,278ffd875fdd107486858e0f0b1943911d029a54,4,1,1,1,5046,Lance Bragstad,ldbragst,"Update policy manifests to support setting new default policies

Change-Id: I8fde00c5f0397ede82b3aa86cc80e7cc054e742c
"
openstack%2Fdevstack~master~If5c860d1e69aaef9a9236303c370479a7714ad43,openstack/devstack,master,lioadm,If5c860d1e69aaef9a9236303c370479a7714ad43,cinder: Default CINDER_ISCSI_HELPER to lioadm,MERGED,2021-03-09 22:37:57.000000000,2021-04-25 08:10:19.000000000,2021-04-25 08:07:02.000000000,8,5,8,779624,c062792709def9ef10ddac68867e1b7bf9009435,36,10,9,2,10135,Lee Yarwood,lyarwood,"cinder: Default CINDER_ISCSI_HELPER to lioadm

As outlined in bug #1917750 the use of tgtadm in multinode environments
with multiple c-vol services can cause volumes to use duplicate WWNs.

This has been shown to cause some encrypted volume test failures as
os-brick returns a /dev/disk/by-id path to n-cpu that can point to the
wrong underlying volume when multiple volumes with the same WWN are
connected to a host.

There is also some speculation that the duplicate WWNs are also causing
libvirt to fail to detach volumes from instances but as yet this has not
been proven.

This change aims to avoid all of the above by switching the default of
CINDER_ISCSI_HELPER to lioadm for all deployments instead of just EL and
SUSE based deployments.

The Bionic platform job however is pinned to tgtadm as there issues
installing python3-rtslib-fb.

Closes-Bug: #1917750
Change-Id: If5c860d1e69aaef9a9236303c370479a7714ad43
"
openstack%2Fheat~stable%2Fwallaby~Iaa2c05b4155d93f44de60b6f98a69450c1512817,openstack/heat,stable/wallaby,,Iaa2c05b4155d93f44de60b6f98a69450c1512817,Preserve order in list_concat_unique,MERGED,2021-04-24 06:10:15.000000000,2021-04-25 08:02:16.000000000,2021-04-25 08:00:49.000000000,8,6,0,787837,7b9ffc5bed4555a8eb26b954d454aa172773417a,11,2,1,2,8833,Rabi Mishra,rabi,"Preserve order in list_concat_unique

Also, we should not modify a list when iterating
over it.

Task: 42359
Closes-Bug: #1925373
Change-Id: Iaa2c05b4155d93f44de60b6f98a69450c1512817
(cherry picked from commit a8f8528d1ea1952cf76bd09fd27cbd65a978af65)
"
openstack%2Fvitrage-tempest-plugin~master~I38a488598b9ecbeb2dfae42cb7279c7f4710bb31,openstack/vitrage-tempest-plugin,master,,I38a488598b9ecbeb2dfae42cb7279c7f4710bb31,Use py3 as the default runtime for tox,MERGED,2021-04-20 02:48:11.000000000,2021-04-25 07:07:52.000000000,2021-04-25 07:06:35.000000000,1,1,0,787044,50b34efa11db1e760b050cf361202e96e2f5f3db,9,2,1,1,30384,zhangboye,zhangboye,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I38a488598b9ecbeb2dfae42cb7279c7f4710bb31
"
openstack%2Fmanila-tempest-plugin~master~I3ba1d5400e51fc475bbe4ea120f0c9f6fa7fa49c,openstack/manila-tempest-plugin,master,old_microversion,I3ba1d5400e51fc475bbe4ea120f0c9f6fa7fa49c,Stop supporting microversion 2.23 and less,ABANDONED,2021-03-17 10:40:56.000000000,2021-04-25 06:33:56.000000000,,138,327,0,781074,2f480de999dc0b3aa53339d5bd798fe0ff302546,26,5,10,38,19262,Liron Kuchlani,lkuchlan,"Stop supporting microversion 2.23 and less

This patch makes a cleanup for all stuff related
to 2.23 microversion and less.

Change-Id: I3ba1d5400e51fc475bbe4ea120f0c9f6fa7fa49c
"
openstack%2Fmanila~master~I9380599a6ee3f32f1a7a779b9ba5757a422604b2,openstack/manila,master,,I9380599a6ee3f32f1a7a779b9ba5757a422604b2,Dropping lower constraints testing,NEW,2021-04-25 02:57:14.000000000,2021-04-25 05:28:49.000000000,,0,141,0,787862,7c3e4b84a93c3d75042aa916c6437972d8875bac,5,1,1,2,31412,Wenping Song,songwenping,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I9380599a6ee3f32f1a7a779b9ba5757a422604b2
"
openstack%2Fpuppet-nova~master~Ib109175b2e1a9f9f6b96355d29f9f9a95c303957,openstack/puppet-nova,master,no-multi-thread,Ib109175b2e1a9f9f6b96355d29f9f9a95c303957,Debian: uwsgi/threads with 1 as default,MERGED,2021-04-19 17:01:20.000000000,2021-04-25 04:00:44.000000000,2021-04-25 03:59:28.000000000,16,7,6,786934,f7be71fd20becc492ca2855cdf0b93e2908e8ba2,29,3,3,5,6476,Thomas Goirand,thomas-goirand,"Debian: uwsgi/threads with 1 as default

We should not tweak the number of threads, nova-api is only
mono-threaded and will currently refuse to work with anything
else than 1.

So this patch sets 1 by default, and warns if wsgi::uwsgi is
called with something else.

Change-Id: Ib109175b2e1a9f9f6b96355d29f9f9a95c303957
"
openstack%2Fbarbican~master~Ib780fe16282ea338e98c9c34b31d80bebafdcf52,openstack/barbican,master,fix/keylengthmatch,Ib780fe16282ea338e98c9c34b31d80bebafdcf52,Fix symmetric algorithms and key lengths matching,NEW,2021-03-31 02:50:50.000000000,2021-04-25 01:38:36.000000000,,8,2,0,783994,7c0f0579184b02441c0cc301aa75a5ef719e3d27,3,4,1,2,32948,liukai02,liukai02,"Fix symmetric algorithms and key lengths matching

This patch fixes an error key length check. For example,
DES only supports 64 length.

Without this patch Barbican can generate the wrong length keys.

Change-Id: Ib780fe16282ea338e98c9c34b31d80bebafdcf52
"
openstack%2Fcinder-tempest-plugin~master~If8c4f2290c08b38a88d02cbf361c999e3c4f8fbd,openstack/cinder-tempest-plugin,master,,If8c4f2290c08b38a88d02cbf361c999e3c4f8fbd,remove unicode from code,ABANDONED,2021-03-01 09:22:07.000000000,2021-04-25 01:24:19.000000000,,2,2,0,777943,e73864b320e94ea8cbb419a3fc7d7c427a8497f3,4,2,1,1,32291,wushiming,wushiming,"remove unicode from code

In Python 3, all strings are represented in Unicode. In Python 2 are
stored internally as 8-bit ASCII, hence it is required to attach 'u'
to make it Unicode. It is no longer necessary now.

Change-Id: If8c4f2290c08b38a88d02cbf361c999e3c4f8fbd
"
openstack%2Fkarbor-dashboard~master~I89d406324ff739c1988e171b9c3e148069b74715,openstack/karbor-dashboard,master,,I89d406324ff739c1988e171b9c3e148069b74715,Bump hacking min version to 3.0.1,ABANDONED,2020-09-22 08:06:01.000000000,2021-04-25 01:23:47.000000000,,1,1,0,753244,da32fed60f4297844be81242a316c7bb9d289f8f,3,1,1,1,32291,wushiming,wushiming,"Bump hacking min version to 3.0.1

hacking 3.0.1 fix the pinning of flake8 to avoid bringing in a new
version with new checks.

bumping the min version for hacking so that any older hacking versions
which auto adopt the new checks are not used.

Change-Id: I89d406324ff739c1988e171b9c3e148069b74715
"
openstack%2Fmurano~master~If9f7e5a52f09c47ff1c8684194af38014a92dc46,openstack/murano,master,,If9f7e5a52f09c47ff1c8684194af38014a92dc46,Remove the unused coding style modules,ABANDONED,2020-09-29 09:53:30.000000000,2021-04-25 01:23:28.000000000,,0,7,0,754954,5d0e8cc2e2597cb20f2455d88eea446e0e65d6cd,3,1,1,1,32291,wushiming,wushiming,"Remove the unused coding style modules

Python modules related to coding style checks (listed in blacklist.txt in
openstack/requirements repo) are dropped from lower-constraints.txt
as they are not actually used in tests (other than pep8).

more info: https://github.com/openstack/requirements/blob/master/blacklist.txt

Change-Id: If9f7e5a52f09c47ff1c8684194af38014a92dc46
"
openstack%2Fpython-openstackclient~master~I09567f7044c5fee59531a85a367c91654960d393,openstack/python-openstackclient,master,,I09567f7044c5fee59531a85a367c91654960d393,Drop lower-constraints job,ABANDONED,2021-01-15 09:29:35.000000000,2021-04-25 01:23:04.000000000,,0,1,0,770915,20c215797ae72784f76f9321c2e8fb8bb10da6bf,4,2,1,1,32291,wushiming,wushiming,"Drop lower-constraints job

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: I09567f7044c5fee59531a85a367c91654960d393
"
openstack%2Fopenstacksdk~master~Ifb50be8eb41c8bad53e4b6e9462dfad2496d0d0f,openstack/openstacksdk,master,,Ifb50be8eb41c8bad53e4b6e9462dfad2496d0d0f,Drop lower-constraints job,ABANDONED,2021-01-13 02:19:19.000000000,2021-04-25 01:22:29.000000000,,0,1,1,770527,ba75f9ed0b109cadedf73e3ac0b532baad649b5f,9,4,2,1,32291,wushiming,wushiming,"Drop lower-constraints job

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: Ifb50be8eb41c8bad53e4b6e9462dfad2496d0d0f
"
openstack%2Fmanila~master~I8598f8a00f4fb8d1cbd912db73d9baa7cbaf9eab,openstack/manila,master,,I8598f8a00f4fb8d1cbd912db73d9baa7cbaf9eab,DNM: Testing ...,ABANDONED,2021-03-25 11:25:09.000000000,2021-04-24 21:46:20.000000000,,0,0,0,782954,dc5b2b4d7fb7880963713e6b071a69fc7873d371,12,1,1,1,9003,Tom Barron,tbarron,"DNM: Testing ...

Testing with create share from snapshot in CephFS patch
plus tempest changes to enable corresponding tests,
to skip a broken test.  Also use a proposed devstack-plugin
patch that adjusts auth ID caps for manila running  with
the newer version CephFS cluster.

Depends-on: https://review.opendev.org/c/openstack/manila/+/741560
Depends-on: https://review.opendev.org/c/openstack/manila-tempest-plugin/+/778188
Depends-on: https://review.opendev.org/c/openstack/manila-tempest-plugin/+/782947
Depends-on: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/782855

Change-Id: I8598f8a00f4fb8d1cbd912db73d9baa7cbaf9eab
"
openstack%2Fansible-role-collect-logs~master~Icc852641c654294e6ac4da18d2cc608ad8dddb9b,openstack/ansible-role-collect-logs,master,,Icc852641c654294e6ac4da18d2cc608ad8dddb9b,add cephadm.log to logstash for indexing,MERGED,2021-04-13 01:48:49.000000000,2021-04-24 21:32:19.000000000,2021-04-24 21:32:19.000000000,1,0,0,786000,a7397018be9a8cbf8e2b71d0bd77ac5d0a86feb1,33,6,1,1,9592,wes hayutin,weshayutin,"add cephadm.log to logstash for indexing

new ceph deployments log the install
to /var/log/ceph/cephadm.log

Change-Id: Icc852641c654294e6ac4da18d2cc608ad8dddb9b
"
openstack%2Fneutron~stable%2Fussuri~I6a40e6e3f937fa30bbb29768211ec8e689d4f82a,openstack/neutron,stable/ussuri,delete_net_fip_opt-stable/ussuri,I6a40e6e3f937fa30bbb29768211ec8e689d4f82a,Get only FIP ID on network delete,MERGED,2021-04-22 08:44:02.000000000,2021-04-24 21:18:42.000000000,2021-04-24 21:17:10.000000000,13,5,0,787487,d9047ec5dbe30e11a63ab6cfa007b062759c7633,38,3,1,2,5948,Oleg Bondarev,obondarev,"Get only FIP ID on network delete

Get FloatingIP object results in a quite heavy DB request.
delete_disassociated_floatingips() only needs IDs.

Change-Id: I6a40e6e3f937fa30bbb29768211ec8e689d4f82a
(cherry picked from commit 282dc73e129b84b828d9d1d815b0b95afe093e11)
"
openstack%2Fneutron~stable%2Ftrain~I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,openstack/neutron,stable/train,def_sg_opt-stable/train,I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,Remove redundant _ensure_default_security_group,MERGED,2021-04-22 08:36:43.000000000,2021-04-24 21:18:39.000000000,2021-04-24 21:17:17.000000000,0,3,0,787484,ff946b9d51dc5642e58af0c33a663cdfbf6c77d5,35,4,1,1,32667,Mamatisa Nurmatov,isabek,"Remove redundant _ensure_default_security_group

_ensure_default_security_group() is done in
_ensure_default_security_group_handler [1] on each port BEFORE_CREATE
event. No need to ensure once again right after sending this event.

[1] https://github.com/openstack/neutron/blob/084fa99874e882649aa6895941fa913b2b852868/neutron/db/securitygroups_db.py#L894

TrivialFix

Change-Id: I1bfe2a50b52502b5ab3631c016a617f7a9756cc6
(cherry picked from commit bdf1416958f79e8076397fcbf2fbbc920f964b37)
"
openstack%2Fkolla-ansible~master~I91e5c1840ace8f567daf462c4eb3ec1f0c503823,openstack/kolla-ansible,master,bp/ansible-pacemaker-support,I91e5c1840ace8f567daf462c4eb3ec1f0c503823,Add HAcluster Ansible role,MERGED,2019-07-10 15:41:54.000000000,2021-04-24 18:51:50.000000000,2021-04-09 17:59:51.000000000,627,14,25,670104,9f578c85e0b4e498e9bfb7d3795a9db1c545a611,161,7,50,34,16006,goldyfruit,goldyfruit,"Add HAcluster Ansible role

Adds HAcluster Ansible role. This role contains High Availability
clustering solution composed of Corosync, Pacemaker and Pacemaker Remote.

HAcluster is added as a helper role for Masakari which requires it for
its host monitoring, allowing to provide HA to instances on a failed
compute host.

Kolla hacluster images merged in [1].

[1] https://review.opendev.org/#/c/668765/

Change-Id: I91e5c1840ace8f567daf462c4eb3ec1f0c503823
Implements: blueprint ansible-pacemaker-support
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
Co-Authored-By: Mark Goddard <mark@stackhpc.com>
"
openstack%2Ftripleo-quickstart-extras~master~I1349ea5f32bb6a9746fd56a72ac9957814a21086,openstack/tripleo-quickstart-extras,master,,I1349ea5f32bb6a9746fd56a72ac9957814a21086,use quiet mode for repolist,MERGED,2021-04-19 19:51:07.000000000,2021-04-24 18:19:39.000000000,2021-04-24 18:19:39.000000000,5,1,2,786949,28ed26003c5902fb7fe28128f5cafe9a85335450,40,5,9,2,9592,wes hayutin,weshayutin,"use quiet mode for repolist

* use quiet mode
* also add new errors to skip w/ ceph

Change-Id: I1349ea5f32bb6a9746fd56a72ac9957814a21086
"
openstack%2Fnova~master~I7ef2a2e29704c365241f70347b53cbb7a13c458d,openstack/nova,master,bug/1882521,I7ef2a2e29704c365241f70347b53cbb7a13c458d,Move instance power state check to _detach_with_retry,MERGED,2021-03-05 13:41:05.000000000,2021-04-24 17:49:57.000000000,2021-04-24 17:48:28.000000000,73,82,9,778918,257b4d83d9c7c91ac2dc5b1523a58becd9d1dd41,71,5,6,2,9708,Balazs Gibizer,gibi,"Move instance power state check to _detach_with_retry

Based on comments in I7f2b6330decb92e2838aa7cee47fb228f00f47da the power
state check now can be moved to be in a common place, in
_detach_with_retry, instead of being at multiple places on the caller
side. So this patch moves the that logic.

Change-Id: I7ef2a2e29704c365241f70347b53cbb7a13c458d
"
openstack%2Fnetworking-ovn~stable%2Ftrain~Ib6eb02100cedc152ce589e67c0e7da74b26a6218,openstack/networking-ovn,stable/train,bug/1904871,Ib6eb02100cedc152ce589e67c0e7da74b26a6218,[OVN] Ensure metadata checksum,MERGED,2021-04-14 11:09:58.000000000,2021-04-24 17:42:08.000000000,2021-04-24 17:40:57.000000000,52,2,3,786203,2a606734d598e598eb6f7851c971469f19429428,37,4,3,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN] Ensure metadata checksum

Ensure the TCP traffic leaving the OVN metadata namespace has
the checksum correctly populated. This is necessary when the
OVS datapath is ""netdev"".

Because the overhead added is minimal and only applies to the
metadata traffic inside the metadata namespace, this rule is
always set.

NOTE: this patch also includes [1], that fixes a bug introduced
by the original patch.

[1]https://review.opendev.org/c/openstack/neutron/+/772286

Manually cherry-picked from
https://review.opendev.org/c/openstack/neutron/+/763745/12

Closes-Bug: #1904871

Change-Id: Ib6eb02100cedc152ce589e67c0e7da74b26a6218
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Icef2481b65b41b524ad44eeecfbee4451006e1d2,openstack/tripleo-heat-templates,stable/train,1917719-train,Icef2481b65b41b524ad44eeecfbee4451006e1d2,Use single NovaLibvirtNetwork to configure instance console components,MERGED,2021-03-19 10:14:24.000000000,2021-04-24 15:07:01.000000000,2021-04-24 15:05:14.000000000,19,16,0,781614,860a68a4a9e31df4c9224833b094d1ef8173c0f4,31,10,2,5,17216,Martin Schuppert,mcschupp,"Use single NovaLibvirtNetwork to configure instance console components

Nova vnc configuration right now uses NovaVncProxyNetwork,
NovaLibvirtNetwork and NovaApiNetwork to configure the different
components (novnc proxy, nova-compute and libvirt) for vnc.
If one of the networks get changed from internal_api, the service
configuration between libvirt, nova-compute and novnc proxy gets
inconsistent and the console is broken.
This changed to just use NovaLibvirtNetwork for configuring the vnc
endpoints and removes NovaVncProxyNetwork completely.

Conflicts:
 deployment/nova/nova-vnc-proxy-container-puppet.yaml

Added missing change from https://review.opendev.org/c/openstack/tripleo-heat-templates/+/786082

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/781613

Change-Id: Icef2481b65b41b524ad44eeecfbee4451006e1d2
Closes-Bug: #1917719
(cherry picked from commit dadf71fcae73825888b8ed4850de5a6ecf2fc29d)
(cherry picked from commit 05b191d3e6254fcd6ded4fd8161456f3d5d89632)
(cherry picked from commit 6c80882f9f52a442400646785def50f5bb8ec4ee)
"
openstack%2Ftripleo-validations~master~I94393de4a71a92c12f8d427748853d7ff2ce5a02,openstack/tripleo-validations,master,,I94393de4a71a92c12f8d427748853d7ff2ce5a02,More detail in arg validation,MERGED,2021-01-29 23:12:20.000000000,2021-04-24 15:06:01.000000000,2021-04-24 15:06:01.000000000,10,3,6,773193,040fd0486e123e5490fe42007194bb9c11a4087f,23,8,5,1,27419,David Vallee Delisle,dvd,"More detail in arg validation

There's no reason to forbid --list and --static-yaml-inventory
Also, we should return an error if both --list and --host are
defined.

Change-Id: I94393de4a71a92c12f8d427748853d7ff2ce5a02
"
openstack%2Ftripleo-heat-templates~master~I5a0743ef9ef1d5ab63e87bce2d47c1999974a0e7,openstack/tripleo-heat-templates,master,,I5a0743ef9ef1d5ab63e87bce2d47c1999974a0e7,Don't create/configure swift_temp_url_key,MERGED,2021-04-20 04:53:47.000000000,2021-04-24 15:05:45.000000000,2021-04-24 15:05:45.000000000,2,0,0,787068,59e4788ab9fcd1f13a58741570a54de73412cc13,28,5,2,2,8833,Rabi Mishra,rabi,"Don't create/configure swift_temp_url_key

Now that we've disabled swift on the undercloud by default, there
is no need to create and configure Temp-Url-Key.

Enable it when enabling nova, as it's required by ironic.

Change-Id: I5a0743ef9ef1d5ab63e87bce2d47c1999974a0e7
"
openstack%2Ftripleo-heat-templates~master~I0bd6da56605d2699f1bcda5ea24848296b380d25,openstack/tripleo-heat-templates,master,aodh-at-params,I0bd6da56605d2699f1bcda5ea24848296b380d25,Aodh: define authtoken parameters in AodhApi service,MERGED,2021-04-21 14:01:17.000000000,2021-04-24 15:05:28.000000000,2021-04-24 15:05:28.000000000,8,8,0,787373,23434faf920dc4760c38553bd7cc74cf61dc4172,21,5,1,2,9816,Takashi Kajinami,kajinamit,"Aodh: define authtoken parameters in AodhApi service

... because these parameters are used in aodh-api service only.

Change-Id: I0bd6da56605d2699f1bcda5ea24848296b380d25
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Id6fc08bce5673a41fd9fa5cb27f41c9786f560da,openstack/tripleo-heat-templates,stable/victoria,bug/1918418-stable/victoria,Id6fc08bce5673a41fd9fa5cb27f41c9786f560da,Set vlan-limit value depending on vlan_transparent setting,MERGED,2021-03-31 07:10:28.000000000,2021-04-24 15:05:04.000000000,2021-04-24 15:05:04.000000000,12,0,0,783930,4260d30eae0b83789d0bdb9b027be7e88176e187,15,3,1,1,11975,Slawek Kaplonski,slaweq,"Set vlan-limit value depending on vlan_transparent setting

In case when vlan_transparent in Neutron is enabled,
other_config:vlan-limit should be set to value ""0"" in the openvswitch on
all nodes.

Related-Bug: #1918418

Depends-On: https://review.opendev.org/c/openstack/puppet-vswitch/+/783215
Change-Id: Id6fc08bce5673a41fd9fa5cb27f41c9786f560da
(cherry picked from commit e6801cebc81f25b6198cf29b4a5ab7308e16d5fd)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Icd950dc54a13a2a82820c23b27fedcf3c353403e,openstack/tripleo-heat-templates,stable/victoria,,Icd950dc54a13a2a82820c23b27fedcf3c353403e,Correct spelling mistake,MERGED,2021-03-31 05:15:02.000000000,2021-04-24 15:04:59.000000000,2021-04-24 15:04:59.000000000,1,1,0,783926,c2e62032b1346accf10b196112e54519fe063a23,14,5,1,1,19138,Pranali Deore,PranaliD,"Correct spelling mistake

Ref: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/774201

Change-Id: Icd950dc54a13a2a82820c23b27fedcf3c353403e
(cherry picked from commit 6373ebf9b14c1bb8ad2c326b14964c97d104d65d)
"
openstack%2Fnova~master~I7ecbedb467b08859cbc784a0f2e949092bdb84ad,openstack/nova,master,trivial,I7ecbedb467b08859cbc784a0f2e949092bdb84ad,network: Remove 'kwargs' from 'get_instance_nw_info',NEW,2020-08-05 09:49:53.000000000,2021-04-24 13:28:20.000000000,,29,10,0,744872,65dcbc0224b25802aa133d56834c7f1cd7664c79,50,14,5,2,15334,Stephen Finucane,sfinucan,"network: Remove 'kwargs' from 'get_instance_nw_info'

We know what the parameters are going to be. This is unnecessary now.

Change-Id: I7ecbedb467b08859cbc784a0f2e949092bdb84ad
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftripleo-common~stable%2Ftrain~I0e45090f8db1c1737e69ce906a12027bfe5c3ef0,openstack/tripleo-common,stable/train,bug/1907214,I0e45090f8db1c1737e69ce906a12027bfe5c3ef0,Add host_vars to define tasks executed before network configurations,MERGED,2021-04-19 15:23:11.000000000,2021-04-24 13:19:10.000000000,2021-04-24 13:17:56.000000000,23,0,0,786902,f86958465cc342a7b1b5947b586467a1f2ff3d80,10,3,1,6,9816,Takashi Kajinami,kajinamit,"Add host_vars to define tasks executed before network configurations

This change is a prep work to ensure tasks defined in ExtraConfigPre
and NodeExtraConfig are executed after network configurations.

Related-Bug: #1907214
Change-Id: I0e45090f8db1c1737e69ce906a12027bfe5c3ef0
(cherry picked from commit f19f451f88141c656c18a1c2a96b49874cfb1b0d)
(cherry picked from commit adfee2e68d9efaac7b7b3f24f428ee1d366003cb)
(cherry picked from commit 8a3a319492b82034b0e3515b5c4fa9c032148511)
"
openstack%2Ftripleo-common~stable%2Fussuri~I0e45090f8db1c1737e69ce906a12027bfe5c3ef0,openstack/tripleo-common,stable/ussuri,bug/1907214,I0e45090f8db1c1737e69ce906a12027bfe5c3ef0,Add host_vars to define tasks executed before network configurations,MERGED,2021-04-19 15:22:33.000000000,2021-04-24 12:02:41.000000000,2021-04-24 12:01:11.000000000,23,0,0,786901,8a3a319492b82034b0e3515b5c4fa9c032148511,13,3,1,6,9816,Takashi Kajinami,kajinamit,"Add host_vars to define tasks executed before network configurations

This change is a prep work to ensure tasks defined in ExtraConfigPre
and NodeExtraConfig are executed after network configurations.

Related-Bug: #1907214
Change-Id: I0e45090f8db1c1737e69ce906a12027bfe5c3ef0
(cherry picked from commit f19f451f88141c656c18a1c2a96b49874cfb1b0d)
(cherry picked from commit adfee2e68d9efaac7b7b3f24f428ee1d366003cb)
"
openstack%2Ftripleo-common~master~I23157ad3a96553047a52f10ed203f71366da49ef,openstack/tripleo-common,master,drop-skopeo,I23157ad3a96553047a52f10ed203f71366da49ef,Drop SkopeoImageUploader,MERGED,2021-04-20 21:48:18.000000000,2021-04-24 11:20:26.000000000,2021-04-24 11:19:20.000000000,5,448,9,787292,5ab57a4dce8431a67155d3525861b1566b18f2aa,12,5,2,3,14985,Alex Schultz,mwhahaha,"Drop SkopeoImageUploader

This removes the skopeo based container image uploader which was
deprecated back in stein. It doesn't work with our image-serve registry
so let's drop this code and dependency.

Change-Id: I23157ad3a96553047a52f10ed203f71366da49ef
"
openstack%2Fopenstacksdk~master~I2c6a42d481a533b522198127dc6d318d1d2d3752,openstack/openstacksdk,master,,I2c6a42d481a533b522198127dc6d318d1d2d3752,Switch to openstack-python3-xena-jobs template,MERGED,2021-04-23 14:29:29.000000000,2021-04-24 10:58:42.000000000,2021-04-24 10:55:14.000000000,1,1,0,787758,60ed1fa5e0fdc99634ebdc12933ebd76226645ac,7,2,1,1,27900,Artem Goncharov,gtema,"Switch to openstack-python3-xena-jobs template

We somehow missed to update the template jobs. Do this now and switch
directly to xena.

Change-Id: I2c6a42d481a533b522198127dc6d318d1d2d3752
"
openstack%2Fnova~master~I4f2d01a4cf443f9c539158e77032cd3d8ce24ad7,openstack/nova,master,inclusive_jargon,I4f2d01a4cf443f9c539158e77032cd3d8ce24ad7,Switch to new rolevar for run-tempest role,MERGED,2021-02-10 23:11:18.000000000,2021-04-24 09:55:13.000000000,2021-04-24 09:37:23.000000000,8,8,4,775040,9d285e0bb4447038d231d70d0dac0f4d7d5b689a,85,8,3,2,8556,Ghanshyam,ghanshyam,"Switch to new rolevar for run-tempest role

Tempest replaced the below rolevar for run-tempest role
- tempest_test_blacklist is replaced by tempest_test_exclude_list
- tempest_black_regex is replaced by tempest_exclude_regex

old name are still supported for compatiblity but we recommend
to switch to new one.

Change-Id: I4f2d01a4cf443f9c539158e77032cd3d8ce24ad7
"
openstack%2Fnova~master~I1c12b2903c1e5bf3a88394493456ad33233f3cd8,openstack/nova,master,,I1c12b2903c1e5bf3a88394493456ad33233f3cd8,guestfs: With libguestfs >= v1.41.1 decode returned bytes to string,MERGED,2021-04-23 11:30:41.000000000,2021-04-24 09:41:35.000000000,2021-04-24 09:36:58.000000000,11,4,11,787712,606d588e3eca1d88ad26b4c2cfa3f2e1d5ed553e,27,5,2,3,10135,Lee Yarwood,lyarwood,"guestfs: With libguestfs >= v1.41.1 decode returned bytes to string

libguestfs >= v1.41.1 and commit 0ee02e0117527 changed the return type
of read_file from string to bytes.

https://github.com/libguestfs/libguestfs/commit/0ee02e0117527b86a31b2a88a14994ce7f15571f

As we don't check the version of libguestfs installed this change
handles both the original behaviour where a string is returned and the
newer behaviour by decoding any returned bytes to a string.

Closes-Bug: #1882421
Change-Id: I1c12b2903c1e5bf3a88394493456ad33233f3cd8
"
openstack%2Fneutron~stable%2Fwallaby~Icd69bca23d781bace580b3937bc8bd25b586e852,openstack/neutron,stable/wallaby,bug/1923870-stable/wallaby,Icd69bca23d781bace580b3937bc8bd25b586e852,Initialize privsep library in Neutron commands,MERGED,2021-04-22 15:26:50.000000000,2021-04-24 09:41:14.000000000,2021-04-24 09:38:03.000000000,3,0,0,787495,de78aaec9d2f477fab4fa3ac1061a050a515bdaf,32,4,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Initialize privsep library in Neutron commands

Since the migration to privsep, some Neutron commands execute methods
under a privsep context. The privsep library must be initialized first.

Change-Id: Icd69bca23d781bace580b3937bc8bd25b586e852
Closes-Bug: #1923870
(cherry picked from commit 088f1298f26ac04da0ebea2a905378690677ff70)
"
openstack%2Fneutron~master~I8a851b17f3a398f1318800b5a97eb66330c91ce5,openstack/neutron,master,secure-rbac,I8a851b17f3a398f1318800b5a97eb66330c91ce5,Allow system_scope personas (SYSTEM_ADMIN) to create router,MERGED,2021-04-12 13:17:59.000000000,2021-04-24 09:17:05.000000000,2021-04-24 09:15:22.000000000,1,1,0,785872,26e0d47cc59f88941d7e7fa46bff5f06ef437ee4,49,6,1,1,11975,Slawek Kaplonski,slaweq,"Allow system_scope personas (SYSTEM_ADMIN) to create router

Related-blueprint: bp/secure-rbac-roles
Change-Id: I8a851b17f3a398f1318800b5a97eb66330c91ce5
"
openstack%2Fdesignate~stable%2Fstein~I9dddd4130a0cbb29311eeb52e077e216c8c03f3a,openstack/designate,stable/stein,bug/1879798,I9dddd4130a0cbb29311eeb52e077e216c8c03f3a,Update zones masters using pool target masters.,MERGED,2020-08-04 22:18:35.000000000,2021-04-24 08:14:22.000000000,2021-04-24 08:12:59.000000000,135,0,0,744796,0b5634643b4b69cd0a7d5499f258602604741d22,37,5,5,4,2276,Jorge Niedbalski,niedbalski,"Update zones masters using pool target masters.

This change enforces the update of the zone masters
for all zones that belongs to a particular pool, using
the pool's defined target(s) masters and forcing a update_zone
call.

This change also, moves the backend base class update_zone
method as an abstract method, allowing to each backend
implementation to create its own update logic. For the
case of bind9 its extended to allow running a rndc modzone
with the new given masters for the zone fixing the behavior
exposed on LP: #1879798.

Fixes-Bug: #1879798

Change-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
(cherry picked from commit 3756fc51e71aaf0ba7cfb9155ca5d1de26ab78bc)
"
openstack%2Fdiskimage-builder~master~Ie9f5c9ed06954cbe51f23fe8cca0655a931a5201,openstack/diskimage-builder,master,install-pbr-for-glean,Ie9f5c9ed06954cbe51f23fe8cca0655a931a5201,Install pbr before glean to address SNI issues,MERGED,2021-04-23 22:05:28.000000000,2021-04-24 07:08:12.000000000,2021-04-24 07:06:55.000000000,6,0,0,787827,da674c4e5b3a18b6d15e377f98c685c9a7632a47,14,3,1,2,4146,Clark Boylan,cboylan,"Install pbr before glean to address SNI issues

Some older distros (like centos8 and xenial) don't support SNI in their
easy_install implementations which are used to install setup_requires
for python packages. PBR is a setup_requires for glean. We work around
this problem when installing glean by preinstalling PBR with pip.

Change-Id: Ie9f5c9ed06954cbe51f23fe8cca0655a931a5201
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I9953ed63ea58440008ddf7408696cfd0e722341a,openstack/python-tripleoclient,stable/train,,I9953ed63ea58440008ddf7408696cfd0e722341a,[train-only] Trap empty role data,MERGED,2021-04-21 13:08:41.000000000,2021-04-24 06:47:23.000000000,2021-04-24 06:45:04.000000000,12,8,6,787363,73d1ee2707c61dc495030c8cccb0ca60d46a9213,27,8,5,1,27419,David Vallee Delisle,dvd,"[train-only] Trap empty role data

If there's no config_settings for a node during initial deployment,
tripleoclient breaks.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1952017
Change-Id: I9953ed63ea58440008ddf7408696cfd0e722341a
"
openstack%2Ftripleo-ci~master~Id37015c1fa3a3a4f4cfdede06671c5bb96450e78,openstack/tripleo-ci,master,ci/validation/repo,Id37015c1fa3a3a4f4cfdede06671c5bb96450e78,"Revert ""Add VF roles as external repos for tripleo ci""",MERGED,2021-04-22 06:55:42.000000000,2021-04-24 06:45:07.000000000,2021-04-24 06:45:07.000000000,1,3,0,787392,174cdfa2667eea3d3a38d6a36c9725db3b3a3a4e,15,12,2,2,29775,Sandeep Yadav,sandeepyadav93,"Revert ""Add VF roles as external repos for tripleo ci""

This reverts commit 4bc33eec623095100d5b2e78dd682c6d36d36723.

Reason for revert: 
This was needed earlier when tripleo-validations and 
validations-common was added as tqe requirements[1].

We have removed tripleo-validations and validations-common
as tqe requirement in [2] and this is not needed anymore.
After [2] tripleo-validations and validations-common is coming
from rpm.

[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/756328
[2] https://review.opendev.org/c/openstack/tripleo-quickstart/+/787443

Change-Id: Id37015c1fa3a3a4f4cfdede06671c5bb96450e78
"
openstack%2Ftripleo-quickstart~master~I02dcd4a92fb491c2c6b2752c281a0b5de2d3cbb7,openstack/tripleo-quickstart,master,wallaby-branching,I02dcd4a92fb491c2c6b2752c281a0b5de2d3cbb7,Add CloudSIG wallaby release file,MERGED,2021-04-23 09:32:09.000000000,2021-04-24 06:32:40.000000000,2021-04-24 06:30:30.000000000,130,0,0,787697,57635ad24821eeeaa92f6028145120ba71af3e18,11,7,1,1,13861,yatin,yatinkarel,"Add CloudSIG wallaby release file

Add release file for Testing CloudSIG wallaby repo [1].
This will be used to run a scenario001 job in RDO which
will build containers using CloudSIG repo and then deploy
those containers.

[1] http://mirror.centos.org/centos/8-stream/cloud/x86_64/openstack-wallaby/

Change-Id: I02dcd4a92fb491c2c6b2752c281a0b5de2d3cbb7
"
openstack%2Ftripleo-ansible~master~I3657169a3b519869f7f3594c8c6a6072a058e0c8,openstack/tripleo-ansible,master,tmpfix,I3657169a3b519869f7f3594c8c6a6072a058e0c8,Add --no-stream to all tripleo-repos in molecule jobs,MERGED,2021-04-22 09:03:54.000000000,2021-04-24 06:30:35.000000000,2021-04-24 06:30:35.000000000,6,6,9,787510,2aecb0131c4b1394ea37e4a01fcc47db84a2c2cf,29,10,3,6,10969,Shnaidman Sagi (Sergey),sergsh,"Add --no-stream to all tripleo-repos in molecule jobs

After --stream added as default in [1] molecule jobs fail when they
don't have stream nodes.

[1] https://review.opendev.org/c/openstack/tripleo-repos/+/786485

Change-Id: I3657169a3b519869f7f3594c8c6a6072a058e0c8
"
openstack%2Fheat~master~Iaa2c05b4155d93f44de60b6f98a69450c1512817,openstack/heat,master,,Iaa2c05b4155d93f44de60b6f98a69450c1512817,Preserve order in list_concat_unique,MERGED,2021-04-23 04:33:48.000000000,2021-04-24 05:55:39.000000000,2021-04-24 05:54:20.000000000,8,6,0,787662,a8f8528d1ea1952cf76bd09fd27cbd65a978af65,28,5,3,2,8833,Rabi Mishra,rabi,"Preserve order in list_concat_unique

Also, we should not modify a list when iterating
over it.

Task: 42359
Closes-Bug: #1925373
Change-Id: Iaa2c05b4155d93f44de60b6f98a69450c1512817
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I1046148da87712934184373a10fa3d2a46e620e4,openstack/python-tripleoclient,stable/train,,I1046148da87712934184373a10fa3d2a46e620e4,Replace exception with LOG.info,MERGED,2021-04-14 16:18:22.000000000,2021-04-24 05:15:11.000000000,2021-04-24 05:14:04.000000000,2,2,1,786278,83b2493358042a89526245c102b7833cf451c322,11,8,2,1,8297,Sofer Athlan-Guyot,chem,"Replace exception with LOG.info

This is a backport of [1] but in between now and then the code in
tripleo_validation was move back into python-tripleoclient[2] and the
review in [1] was included.

This means that we cannot have a review in master as it's already
there.

[1] https://review.opendev.org/c/openstack/tripleo-validations/+/777220
[2] https://review.opendev.org/c/openstack/python-tripleoclient/+/782776

Original commit message:

Updated _run_validator_run to no longer raise an execption if/when a group is empty

Using a log vs. exception is useful when we want to run an automated set of validations
within our Update CI pipeline.

Co-authored-by: Owen McGonagle <omcgonag@redhat.com>
Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I1046148da87712934184373a10fa3d2a46e620e4
(cherry picked from commit 0debcde236a75a501eb47f11b31508a28d795271)
"
openstack%2Ftripleo-common~stable%2Ftrain~If85ca7a92152e834bffb7fad69d71668f7ed362b,openstack/tripleo-common,stable/train,,If85ca7a92152e834bffb7fad69d71668f7ed362b,Fix neutron driver detection for containers params,MERGED,2021-04-19 07:32:20.000000000,2021-04-24 04:48:11.000000000,2021-04-24 04:47:00.000000000,2,0,0,786822,e28d539d985cf7ee9a882662b0e68765f22156a6,9,4,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Fix neutron driver detection for containers params

If neutorn driver is set, use it for container parameters.

Close-Bug: rhbz#1930438
Change-Id: If85ca7a92152e834bffb7fad69d71668f7ed362b
(cherry picked from commit 5104fdf58941f57b00beb05a8d3253b6b3a6e0d7)
"
openstack%2Ftripleo-quickstart~master~I59f0a50a88d4f770712e34c943b71b9379d8e2a2,openstack/tripleo-quickstart,master,bug/1925470,I59f0a50a88d4f770712e34c943b71b9379d8e2a2,"Add ""/usr/share/ansible/roles"" in role_path",MERGED,2021-04-22 13:54:31.000000000,2021-04-24 04:48:09.000000000,2021-04-24 04:47:03.000000000,1,1,1,787567,acabae48be4cc049e9010097d2835bc7aa21f305,21,5,2,1,29775,Sandeep Yadav,sandeepyadav93,"Add ""/usr/share/ansible/roles"" in role_path

We have removed tripleo-validations and validations-common
as tqe requirement in [1]. These package now comes via rpm, The role
is present in ""/usr/share/ansible/roles"" and not via oooq virtualenv.

Closes-Bug: #1925470
[1]  https://review.opendev.org/c/openstack/tripleo-quickstart/+/787443

Change-Id: I59f0a50a88d4f770712e34c943b71b9379d8e2a2
"
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I14be16052677bf3426a88ec4b5299f9502007472,openstack/puppet-tripleo,stable/victoria,bug/1917868-stable/victoria,I14be16052677bf3426a88ec4b5299f9502007472,HA: inject public certificates without blocking container,MERGED,2021-03-30 15:57:43.000000000,2021-04-24 04:47:07.000000000,2021-04-24 04:47:07.000000000,34,7,0,783901,f6c88d0146a0ac35944433b11673f0bc036051ff,17,5,2,2,20778,Damien Ciabrini,dciabrin,"HA: inject public certificates without blocking container

Do not inject public certificates in pacemaker bundles by means
of ""podman cp"", as this pauses the container for a short amount
of time and can make pacemaker operation fail during that time
window and impact cluster for no reason.

Keep ""podman cp"" for non-HA containers, as the freeze is short
and doesn't seem to impact podman monitoring anyway.

The new certificate injection only works for podman 1.9+, lower
version won't overwrite the existing certificate.

Adapted from Id7308f028f33716be5e3df6699c3f2c12e33e344, as the
same behaviour is implemented in puppet-tripleo before wallaby.

Change-Id: I14be16052677bf3426a88ec4b5299f9502007472
Related-Bug: #1917868
"
openstack%2Fneutron~stable%2Fvictoria~I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,openstack/neutron,stable/victoria,def_sg_opt-stable/victoria,I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,Remove redundant _ensure_default_security_group,MERGED,2021-04-22 08:28:36.000000000,2021-04-24 04:23:41.000000000,2021-04-24 04:22:13.000000000,0,3,0,787480,8553127bac4d021704ae334759bb0f49aa7e14f8,27,4,1,1,32667,Mamatisa Nurmatov,isabek,"Remove redundant _ensure_default_security_group

_ensure_default_security_group() is done in
_ensure_default_security_group_handler [1] on each port BEFORE_CREATE
event. No need to ensure once again right after sending this event.

[1] https://github.com/openstack/neutron/blob/084fa99874e882649aa6895941fa913b2b852868/neutron/db/securitygroups_db.py#L894

TrivialFix

Change-Id: I1bfe2a50b52502b5ab3631c016a617f7a9756cc6
(cherry picked from commit bdf1416958f79e8076397fcbf2fbbc920f964b37)
"
openstack%2Ftripleo-heat-templates~master~I9c08189aaa4c8d8b3e4dcde38b1b2cd4146ac8e5,openstack/tripleo-heat-templates,master,bug/1925531,I9c08189aaa4c8d8b3e4dcde38b1b2cd4146ac8e5,Fix random redeploy failure during certificate extraction,MERGED,2021-04-22 16:56:23.000000000,2021-04-24 03:12:26.000000000,2021-04-24 03:12:26.000000000,2,1,3,787618,0419c90064b52037a16c78b3498a006da5eb0fd6,16,5,2,1,20778,Damien Ciabrini,dciabrin,"Fix random redeploy failure during certificate extraction

During the extraction of the local certificate, the ansible
task uses the output of an unregistered variable, so it
passes based on a random input.

Change-Id: I9c08189aaa4c8d8b3e4dcde38b1b2cd4146ac8e5
Closes-Bug: #1925531
"
openstack%2Fswift~master~I9765d65f12afec295d9eaae52858e4e7272c9c4c,openstack/swift,master,db_auditor_refactor,I9765d65f12afec295d9eaae52858e4e7272c9c4c,Refactor db auditors into a db_auditor base class,MERGED,2018-11-02 00:58:00.000000000,2021-04-24 02:40:03.000000000,2021-04-24 02:38:13.000000000,340,479,10,614895,4cb52b44dd490b6493798dc3c8188a1da7667559,21,2,5,7,7233,Matthew Oliver,mattoliverau,"Refactor db auditors into a db_auditor base class

The container and account auditors, and their tests are almost
identical. This patch reduces the code duplication by refactoring
into a base class called DatabaseAuditor.

This also means the container and account auditor tests have also mostly
been refactored.

Change-Id: I9765d65f12afec295d9eaae52858e4e7272c9c4c
"
openstack%2Fnova~stable%2Ftrain~Ib9ed7069cef5b73033351f7a78a3fb566753970d,openstack/nova,stable/train,bug/1882521,Ib9ed7069cef5b73033351f7a78a3fb566753970d,libvirt: Increase incremental and max sleep time during device detach,MERGED,2020-10-10 18:44:28.000000000,2021-04-24 02:40:01.000000000,2021-04-24 02:38:04.000000000,2,2,0,757307,618103db9bff9341a90342b372d8a77419e085f4,24,5,2,1,10135,Lee Yarwood,lyarwood,"libvirt: Increase incremental and max sleep time during device detach

Bug #1894804 outlines how DEVICE_DELETED events were often missing from
QEMU on Focal based OpenStack CI hosts as originally seen in bug
 #1882521. This has eventually been tracked down to some undefined QEMU
behaviour when a new device_del QMP command is received while another is
still being processed, causing the original attempt to be aborted.

We hit this race in slower OpenStack CI envs as n-cpu rather crudely
retries attempts to detach devices using the RetryDecorator from
oslo.service. The default incremental sleep time currently being tight
enough to ensure QEMU is still processing the first device_del request
on these slower CI hosts when n-cpu asks libvirt to retry the detach,
sending another device_del to QEMU hitting the above behaviour.

Additionally we have also seen the following check being hit when
testing with QEMU >= v5.0.0. This check now rejects overlapping
device_del requests in QEMU rather than aborting the original:

https://github.com/qemu/qemu/commit/cce8944cc9efab47d4bf29cfffb3470371c3541b

This change aims to avoid this situation entirely by raising the default
incremental sleep time between detach requests from 2 seconds to 10,
leaving enough time for the first attempt to complete. The overall
maximum sleep time is also increased from 30 to 60 seconds.

Future work will aim to entirely remove this retry logic with a libvirt
event driven approach, polling for the the
VIR_DOMAIN_EVENT_ID_DEVICE_REMOVED and
VIR_DOMAIN_EVENT_ID_DEVICE_REMOVAL_FAILED events before retrying.

Finally, the cleanup of unused arguments in detach_device_with_retry is
left for a follow up change in order to keep this initial change small
enough to quickly backport.

Closes-Bug: #1882521
Related-Bug: #1894804
Change-Id: Ib9ed7069cef5b73033351f7a78a3fb566753970d
(cherry picked from commit dd1e6d4b0cee465fd89744e306fcd25228b3f7cc)
(cherry picked from commit 4819f694b2e2d5688fdac7e850f1a6c592253d6b)
(cherry picked from commit f32286c62e11d43f6b01bc82caacf588447862e5)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ief089f699341d6ba4f33568a71e744a4f8106bc9,openstack/tripleo-ansible,stable/train,train_fix,Ief089f699341d6ba4f33568a71e744a4f8106bc9,Fix the way of calling firewalld,MERGED,2021-04-15 07:30:19.000000000,2021-04-24 00:51:49.000000000,2021-04-24 00:51:49.000000000,2,2,0,786364,74438cf03ec369f345021623a024a5a97dba41d3,28,9,2,1,32968,Juan Larriba,jlarriba,"Fix the way of calling firewalld

Firewalld was exported to the ansible.posix collection. However
 this collection notation will fail in ansible 2.9.

Change-Id: Ief089f699341d6ba4f33568a71e744a4f8106bc9
Closes-Bug: #1925446
"
openstack%2Fopenstacksdk~master~I99abe18e3d91d52fc580a3d75146d04ec3de775a,openstack/openstacksdk,master,,I99abe18e3d91d52fc580a3d75146d04ec3de775a,Drop jobs failing for too long,MERGED,2021-04-23 14:19:58.000000000,2021-04-24 00:05:37.000000000,2021-04-24 00:01:45.000000000,0,4,0,787754,ad82856beaab76e6cce2a446cedef75320233afd,8,3,1,1,27900,Artem Goncharov,gtema,"Drop jobs failing for too long

There are 2 jobs failing for a very long time and nobody taking care of
fixing them. Disable them for now while still keeping job definitions.

Change-Id: I99abe18e3d91d52fc580a3d75146d04ec3de775a
"
openstack%2Fcharm-guide~master~Icad0c415f324e818cb18d5abe61b475ce903ca11,openstack/charm-guide,master,bug/1921371,Icad0c415f324e818cb18d5abe61b475ce903ca11,Refresh intro pages,MERGED,2021-04-21 21:23:09.000000000,2021-04-23 23:25:50.000000000,2021-04-23 23:24:30.000000000,203,194,0,787445,d0a1199cf9ffd631bb7f3f7590099ab22813e38e,10,3,2,10,30561,Peter Matulis,pmatulis,"Refresh intro pages

Remove deployment page and merge contents with the
getting-started page.

Enhance the charm-store page and rename it to the
charms-and-bundles page. When ubuntu.com/openstack/docs
is ready the contents of this page will be moved to it
(and linked from getting-started).

Remove mailing-list page and merge contents with the
find-us page.

Remove meetings page as per team consensus.

Changes necessary on a few pages to compensate for
the above two changes/lines.

A few minor drive-by spelling and format fixes.

Closes-Bug: #1921371
Change-Id: Icad0c415f324e818cb18d5abe61b475ce903ca11
"
openstack%2Fcharm-guide~master~Icca5b1e1e228f38f1463c5fcdbbe46294bd0aac2,openstack/charm-guide,master,add-deferred-restarts,Icca5b1e1e228f38f1463c5fcdbbe46294bd0aac2,Add deferred event section,MERGED,2021-04-20 08:02:51.000000000,2021-04-23 22:54:11.000000000,2021-04-23 22:53:00.000000000,21,0,5,787142,9167d071c1542b841ad607c2fbe7715ee3282447,17,4,3,1,12549,gnuoy,gnuoy,"Add deferred event section

The main text has been moved to the CDG.

Depends-On: I612e34436bea4db2fbf213aa02e7a6b52ca8f0cb
Change-Id: Icca5b1e1e228f38f1463c5fcdbbe46294bd0aac2
"
openstack%2Foctavia~master~I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7,openstack/octavia,master,,I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7,Fix rsyslog configuration when disabling logs,MERGED,2021-03-29 07:26:13.000000000,2021-04-23 22:49:56.000000000,2021-04-23 22:48:08.000000000,35,13,0,783608,e26664de59eb872a85520c24b5701dae31cd75e9,14,5,2,3,29244,Gregory Thiemonge,gthiemonge,"Fix rsyslog configuration when disabling logs

Fix an invalid rsyslog configuration when disabling both log offloading
and local log storage.

Story 2008782
Task 42173

Change-Id: I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7
"
openstack%2Foctavia~master~I27b54b5b2e93665aad771438e618ac02900ab123,openstack/octavia,master,jobboard,I27b54b5b2e93665aad771438e618ac02900ab123,Fix jobboard_enabled setting in devstack,MERGED,2021-04-23 14:29:31.000000000,2021-04-23 22:41:01.000000000,2021-04-23 22:39:33.000000000,1,0,0,787759,190d6a33dcb63b32551a46bdc02763dc8855499d,10,4,1,1,29244,Gregory Thiemonge,gthiemonge,"Fix jobboard_enabled setting in devstack

When OCTAVIA_ENABLE_AMPHORAV2_JOBBOARD is True in devstack,
jobboard_enabled must be set to True.

Change-Id: I27b54b5b2e93665aad771438e618ac02900ab123
"
openstack%2Ftripleo-heat-templates~master~I09c62af87481e131c26c9d5f9faa16be349347b0,openstack/tripleo-heat-templates,master,rabbitmq-management,I09c62af87481e131c26c9d5f9faa16be349347b0,Allow access to RabbitMQ management plugin over network,MERGED,2021-04-16 15:04:54.000000000,2021-04-23 22:21:31.000000000,2021-04-23 22:21:31.000000000,23,5,0,786676,31674339d82ccbb882c50e1fe5c2e4536b277640,10,6,1,2,9816,Takashi Kajinami,kajinamit,"Allow access to RabbitMQ management plugin over network

This change introduces the new RabbitmqEnableManagementAccess parameter
so that operators can expose management plugin to specific network to
monitor status over network.

Change-Id: I09c62af87481e131c26c9d5f9faa16be349347b0
"
openstack%2Fironic~master~I9ff2d726cb75317fe09bd43342541db0e721f2b8,openstack/ironic,master,cleaning-token,I9ff2d726cb75317fe09bd43342541db0e721f2b8,Remove temporary cleaning information on starting cleaning,MERGED,2021-04-22 11:55:31.000000000,2021-04-23 21:25:15.000000000,2021-04-23 21:23:21.000000000,16,40,1,787536,f4a7002023ddbd41505342bbad43fb6e0f963ef4,21,3,2,5,10239,Dmitry Tantsur,dtantsur,"Remove temporary cleaning information on starting cleaning

Currently we only remove the URL, which may leave a stale token.

Change-Id: I9ff2d726cb75317fe09bd43342541db0e721f2b8
"
openstack%2Foctavia~master~I6a45d1256d24876923f82460beb7eae2511fa2f7,openstack/octavia,master,,I6a45d1256d24876923f82460beb7eae2511fa2f7,Fix ifup if the VIP secondary IP is already up,ABANDONED,2020-10-23 21:46:38.000000000,2021-04-23 20:48:09.000000000,,17,3,3,759527,1e9cd48add7284dd7a00b9fa1a54e965e64f48fd,4,2,1,2,11628,Michael Johnson,johnsom,"Fix ifup if the VIP secondary IP is already up

In some cases, when we call ifup on the secondary IP for the VIP
interface, we get an ""RTNETLINK answers: File exists"" error because
the interface has already been brought up.
This patch will log and ignore this error as the interface is already
up.

Change-Id: I6a45d1256d24876923f82460beb7eae2511fa2f7
Story: 2008272
Task: 41140
"
openstack%2Fneutron~stable%2Fvictoria~I44e573bd55e3631901d782d6d65987a58ca3e4fb,openstack/neutron,stable/victoria,bug/1925433,I44e573bd55e3631901d782d6d65987a58ca3e4fb,Remove SRIOV attach limitation from the doc,MERGED,2021-04-23 13:11:02.000000000,2021-04-23 19:54:26.000000000,2021-04-23 19:52:42.000000000,1,2,0,787610,d013a6bbbc5a2f2c64b2e3e93b3d4e090a05dd73,12,4,1,1,9708,Balazs Gibizer,gibi,"Remove SRIOV attach limitation from the doc

Since I67504a37b0fe2ae5da3cba2f3122d9d0e18b9481 Nova supports attaching
neutron ports backed by PCI devices. So the limitation can be removed
from the doc.

Closes-Bug: #1925433
Change-Id: I44e573bd55e3631901d782d6d65987a58ca3e4fb
(cherry picked from commit 947e8a041c22c97bf342b1498b837a5c3f553d95)
(cherry picked from commit d614e9dac7dd794a7fb02d37d090268f80f695b3)
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I5d1d891474e4d7b47f497c5bd0144ce24e291260,openstack/puppet-tripleo,stable/train,pin-puppetlabs-haproxy,I5d1d891474e4d7b47f497c5bd0144ce24e291260,stable-only: Pin puppetlabs-haproxy,MERGED,2021-04-22 12:56:03.000000000,2021-04-23 19:54:09.000000000,2021-04-23 19:54:09.000000000,1,1,0,787549,16f1acb9c295bab74f8e0f92270bc1643a3056a9,16,5,2,1,9816,Takashi Kajinami,kajinamit,"stable-only: Pin puppetlabs-haproxy

The puppetlabs-haproxy repo no longer has the master branch and
the master branch has been replaced by the main branch.
While we switched the branch in use in master[1], for stable branches
it is better to pin it to a specific version to avoid issue caused by
any future change in puppetlabs-haproxy.

The version is determined based on the version currently provided in
RDO.

Note for Train backport:
Resolved conflict caused by the following train-only patch.
        45b91c3f09b20dcdbf685ff265919a7a8906698d

Conflicts:
	Puppetfile_extras

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/786018/4/Puppetfile_extras
Change-Id: I5d1d891474e4d7b47f497c5bd0144ce24e291260
(cherry picked from commit f6852abbfb8caa2aa6376074b4ddf91c35b396f9)
(cherry picked from commit 379895e743f647839847a7f6968385f7e01a3613)
"
openstack%2Ftripleo-heat-templates~master~Id54a640f7a29d11d8b4bb54f4429fddf44d41946,openstack/tripleo-heat-templates,master,simplify_tht,Id54a640f7a29d11d8b4bb54f4429fddf44d41946,"Simplify horizon, ipservices templates",MERGED,2021-04-15 08:19:06.000000000,2021-04-23 19:53:48.000000000,2021-04-23 19:53:48.000000000,18,36,2,786370,6889ac2b3a3ee4f233de01be2ae12609bc3bef00,23,5,5,2,8833,Rabi Mishra,rabi,"Simplify horizon, ipservices templates

Change-Id: Id54a640f7a29d11d8b4bb54f4429fddf44d41946
"
openstack%2Ftripleo-heat-templates~master~I9992a4d2b0e2d3efe4e1622cb8ae3023be30624b,openstack/tripleo-heat-templates,master,simplify_tht,I9992a4d2b0e2d3efe4e1622cb8ae3023be30624b,Simplify haproxy service templates,MERGED,2021-04-15 07:03:34.000000000,2021-04-23 19:53:28.000000000,2021-04-23 19:53:28.000000000,30,63,2,786362,15ce9b6a255225af5bea80d4d86bac227114f017,25,5,4,5,8833,Rabi Mishra,rabi,"Simplify haproxy service templates

Change-Id: I9992a4d2b0e2d3efe4e1622cb8ae3023be30624b
"
openstack%2Ftripleo-heat-templates~master~I8235220cc0d1d699ac2abf993d6c49494613bdac,openstack/tripleo-heat-templates,master,,I8235220cc0d1d699ac2abf993d6c49494613bdac,Add DefaultRoute to deployed_port.j2,MERGED,2021-04-22 21:50:07.000000000,2021-04-23 19:53:19.000000000,2021-04-23 19:53:19.000000000,5,0,0,787644,9d9f0ed7442a0c037617e5b428579afdf7969a83,9,4,1,1,7144,James Slagle,slagle,"Add DefaultRoute to deployed_port.j2

Commit cea78ad4fd84984528e990694342ba2dc38b6959 added DefaultRoute as a
property of the port resources, but it was missed adding it as a
parameter of deployed_port.j2.

Change-Id: I8235220cc0d1d699ac2abf993d6c49494613bdac
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fironic~stable%2Fvictoria~I73aaa803d3eb84ddac59a778e998836a645217eb,openstack/ironic,stable/victoria,inspection-token-stable/victoria,I73aaa803d3eb84ddac59a778e998836a645217eb,Wipe agent tokens on inspection start and abort,MERGED,2021-04-21 12:15:54.000000000,2021-04-23 19:38:30.000000000,2021-04-23 18:26:52.000000000,21,7,0,787376,c9425f9950fc850d74ec8050ddbc94f60363cf93,23,2,1,4,10239,Dmitry Tantsur,dtantsur,"Wipe agent tokens on inspection start and abort

Also make sure the pregenerated flag is always reset.

Change-Id: I73aaa803d3eb84ddac59a778e998836a645217eb
(cherry picked from commit c6e8281f85f52d2708eb369e2c2fcf395443afdc)
"
openstack%2Fpuppet-cinder~master~I7355909e15e3ce3f8c9ee6dd81241bb776c4e2a7,openstack/puppet-cinder,master,hc-typo,I7355909e15e3ce3f8c9ee6dd81241bb776c4e2a7,Fix a typo in file header,MERGED,2021-04-20 16:05:23.000000000,2021-04-23 18:45:08.000000000,2021-04-23 18:45:08.000000000,1,1,0,787230,5e6922076d2723cba7267eb3669f8e6e854bc667,18,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix a typo in file header

Change-Id: I7355909e15e3ce3f8c9ee6dd81241bb776c4e2a7
"
