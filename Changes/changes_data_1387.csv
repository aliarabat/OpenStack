id,project,branch,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,topic,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fcinder~master~I3c37083915effec0eff7c8d9bfffb9f7674fe6f5,openstack/cinder,master,I3c37083915effec0eff7c8d9bfffb9f7674fe6f5,Create unique volumes_dir for testing.,MERGED,2012-08-07 20:27:05.000000000,2012-08-10 15:06:35.000000000,2012-08-10 15:06:35.000000000,18,1,0,10995,69aa04d1f89c838d2ea1c96e715e175fb26f0883,fix_tests_volumes_dir,12,6,2,1,360,Dan Prince,dan-prince,"Create unique volumes_dir for testing.

Updates test_volume.py so that we create a uniq volumes_dir for testing.
This avoids polluting the source tree with fake volume UUID's when running
tests.

Change-Id: I3c37083915effec0eff7c8d9bfffb9f7674fe6f5
"
openstack%2Fnova~master~I82baa2b1e8953a418224d13264f1f5b36b04fd4a,openstack/nova,master,I82baa2b1e8953a418224d13264f1f5b36b04fd4a,Update nova with fix from openstack-common,ABANDONED,2012-08-10 03:53:36.000000000,2012-08-10 14:52:00.000000000,,4,1,1,11120,bab7518f223a59c9c6c63f8c1462a6601e18d04c,bug/999307,8,4,2,1,4598,Giampaolo Lauria,lauria,"Update nova with fix from openstack-common

Fixes bug 999307

Change-Id: I82baa2b1e8953a418224d13264f1f5b36b04fd4a
"
openstack%2Fglance~master~I11beb2ad0e49adeae96a6b291290c1ec43fba743,openstack/glance,master,I11beb2ad0e49adeae96a6b291290c1ec43fba743,Sync with latest version of openstack.common.setup,ABANDONED,2012-08-10 11:05:17.000000000,2012-08-10 11:17:32.000000000,,196,38,0,11136,85d72ef8b94b309bc88d98ae7ec23653b6980646,sync/setup,3,2,1,1,1247,Mark McLoughlin,markmc,"Sync with latest version of openstack.common.setup

Changes since last sync:

 - Fix errors reported by pyflakes.
 - Add SKIP_GENERATE_AUTHORS option to setup.py
 - Add SKIP_WRITE_GIT_CHANGELOG option to setup.py
 - Fix up pre-versioning based on testing in glance.
 - Fix mailmap.
 - Split read_versioninfo into a method.
 - Add support for tag based versioning.
 - Skip argparse when injecting requirements.
 - Add autodoc generation to the build_sphinx command

Change-Id: I11beb2ad0e49adeae96a6b291290c1ec43fba743
"
openstack%2Fnova~master~I29ace459e18cdae33ec5e72205c137197351e47a,openstack/nova,master,I29ace459e18cdae33ec5e72205c137197351e47a,Sync some cleanups from openstack.common,ABANDONED,2012-08-10 10:54:53.000000000,2012-08-10 10:57:32.000000000,,2,4,0,11131,0f0976eab9f9509117dd831ec1dbf20fe6ca829c,sync/setup,1,0,1,2,1247,Mark McLoughlin,markmc,"Sync some cleanups from openstack.common

Changes since last sync of openstack.common.setup:

 - Fix errors reported by pyflakes

Changes since last sync of openstack.common.timeutils:

 - Remove unused imports

Change-Id: I29ace459e18cdae33ec5e72205c137197351e47a
"
openstack%2Fkeystone~stable%2Fessex~Ie3a82ed9b26d25a83b284d57e3d58ab6f4c31b30,openstack/keystone,stable/essex,Ie3a82ed9b26d25a83b284d57e3d58ab6f4c31b30,Open 2012.1.3 development,MERGED,2012-08-10 05:55:17.000000000,2012-08-10 10:34:03.000000000,2012-08-10 10:34:03.000000000,1,1,0,11125,359c426f3009b6088efc364c035d104b089eb37a,stable/essex,5,2,1,1,1247,Mark McLoughlin,markmc,"Open 2012.1.3 development

Bump version to 2012.1.3 to formally open development of the next
Essex stable update release.

See http://wiki.openstack.org/StableBranchRelease

Change-Id: Ie3a82ed9b26d25a83b284d57e3d58ab6f4c31b30
"
openstack%2Fglance~stable%2Fessex~I2ce631bbe78d338df5ed08106df9e383f227b127,openstack/glance,stable/essex,I2ce631bbe78d338df5ed08106df9e383f227b127,Bump version to 2012.1.3,MERGED,2012-08-10 05:52:38.000000000,2012-08-10 10:34:02.000000000,2012-08-10 10:34:02.000000000,2,2,0,11124,120fcf4a4ccecf70e1a9e859b2ad64df695a9929,stable/essex,7,2,2,1,1247,Mark McLoughlin,markmc,"Bump version to 2012.1.3

Set version to 2012.1.3, but with final=False

See http://wiki.openstack.org/StableBranchRelease

Change-Id: I2ce631bbe78d338df5ed08106df9e383f227b127
"
openstack%2Fnova~stable%2Fessex~If242da1cf3d777ca8d0ebd6af306332816606d83,openstack/nova,stable/essex,If242da1cf3d777ca8d0ebd6af306332816606d83,Bump version to 2012.1.3,MERGED,2012-08-10 05:51:05.000000000,2012-08-10 10:33:01.000000000,2012-08-10 10:33:00.000000000,2,2,0,11122,63dd6be26ddcc919aff5e86ab962f95b92c45c02,stable/essex,5,2,1,1,1247,Mark McLoughlin,markmc,"Bump version to 2012.1.3

Set version to 2012.1.3, but with final=False

See http://wiki.openstack.org/StableBranchRelease

Change-Id: If242da1cf3d777ca8d0ebd6af306332816606d83
"
openstack%2Fnova~master~I740c0def3b1f759aec3d4ae5fe3264484c704807,openstack/nova,master,I740c0def3b1f759aec3d4ae5fe3264484c704807,Add error log for live migration.,MERGED,2012-08-08 06:14:58.000000000,2012-08-10 10:08:43.000000000,2012-08-10 10:08:43.000000000,3,1,6,11011,adb98d50d2af36fc6215cbec63fe89e3e67d8fa2,master,24,5,4,1,2322,Takaaki Suzuki,5-suzuki,"Add error log for live migration.

Change-Id: I740c0def3b1f759aec3d4ae5fe3264484c704807
Signed-off-by: Takaaki Suzuki <suzuki@midokura.com>
"
openstack%2Fnova~master~I7193031b1f5f9bf84cdb476f8f1268efc50eadf0,openstack/nova,master,I7193031b1f5f9bf84cdb476f8f1268efc50eadf0,Make FaultWrapper handle exception code = None.,MERGED,2012-08-10 02:25:30.000000000,2012-08-10 10:02:41.000000000,2012-08-10 10:02:41.000000000,16,0,0,11119,7219577ba48df211713cab655cdd296a07f35773,bug/1035159,6,3,1,2,360,Dan Prince,dan-prince,"Make FaultWrapper handle exception code = None.

Updates the FaultWrapper middleware so that it properly handles
exceptions which contain a code variable set to None. Previously
you'd get TypeError exception like this in the api.log file:

 TypeError: %d format: a number is required, not NoneType

This was due to the fact that we tried to format a string with
an integer value which was set to None.

I hit this today when using Qpid which does in fact throw exceptions
which contain 'code' variables set to None.

Fixes LP Bug #1035159.

Change-Id: I7193031b1f5f9bf84cdb476f8f1268efc50eadf0
"
openstack%2Fhorizon~master~I72343ba51f9871b4e85641d773b574fb218fb158,openstack/horizon,master,I72343ba51f9871b4e85641d773b574fb218fb158,Don't call a method that doesn't exist for unauth'd requests.,MERGED,2012-08-10 02:02:06.000000000,2012-08-10 08:43:07.000000000,2012-08-10 08:43:07.000000000,20,1,0,11118,c96677576a21c8dc89b327c92c86d7964f12fe4a,unauthorized_exception_failure,6,3,1,3,1816,Gabriel Hurley,gabriel-hurley,"Don't call a method that doesn't exist for unauth'd requests.

Fixes a broken method call in a previously untested code path.

Change-Id: I72343ba51f9871b4e85641d773b574fb218fb158
"
openstack%2Fglance~stable%2Fessex~I417846cf8aa6f611bca03fc91ce39dd6f67802b1,openstack/glance,stable/essex,I417846cf8aa6f611bca03fc91ce39dd6f67802b1,Final versioning for 2012.1.2,MERGED,2012-08-10 05:52:38.000000000,2012-08-10 08:12:53.000000000,2012-08-10 08:12:53.000000000,1,1,0,11123,a9fa1838c8bdf072fc6a9a8c390970953aa3cb32,stable/essex,17,2,2,1,1247,Mark McLoughlin,markmc,"Final versioning for 2012.1.2

Change-Id: I417846cf8aa6f611bca03fc91ce39dd6f67802b1
"
openstack%2Fnova~master~Iba3cf7b61b629ba513a58a38886c9322818accb5,openstack/nova,master,Iba3cf7b61b629ba513a58a38886c9322818accb5,Remove unused add_network_to_project() method,MERGED,2012-07-23 12:00:23.000000000,2012-08-10 08:12:53.000000000,2012-07-23 16:57:53.000000000,5,33,0,10126,d8e39cb775a872c46d067bee8febc40dee799369,master,9,6,1,6,1247,Mark McLoughlin,markmc,"Remove unused add_network_to_project() method

This method was added here:

  https://code.launchpad.net/~tr3buchet/nova/multi_nic/+merge/64767

but appears never to have been used.

We can safely remove it and the 'force' parameter to network_associate()
which only it uses.

This removal from the network service RPC API would not warrant a
major version number bump since nothing ever used this part of the
API.

Change-Id: Iba3cf7b61b629ba513a58a38886c9322818accb5
"
openstack%2Fnova~stable%2Fessex~Ifc576f7e4ff8149cda524e0607fc7a36d1e4024f,openstack/nova,stable/essex,Ifc576f7e4ff8149cda524e0607fc7a36d1e4024f,Final versioning for 2012.1.2,MERGED,2012-08-10 05:51:04.000000000,2012-08-10 06:11:50.000000000,2012-08-10 06:11:50.000000000,1,1,0,11121,6227bc9a1b2534874aa19024ad7d660c2b75197d,stable/essex,5,2,1,1,1247,Mark McLoughlin,markmc,"Final versioning for 2012.1.2

Change-Id: Ifc576f7e4ff8149cda524e0607fc7a36d1e4024f
"
openstack%2Fhorizon~master~Id5fec29a9b81d681bc9a56532ac73fbd27f9a620,openstack/horizon,master,Id5fec29a9b81d681bc9a56532ac73fbd27f9a620,Added support for volume types,ABANDONED,2012-07-24 18:20:28.000000000,2012-08-10 06:03:02.000000000,,311,30,0,10241,3e1b7be829961659531c13a5606994b3bf07aa2a,bug/1022418,18,2,8,15,2455,Tihomir Trifonov,ttrifonov,"Added support for volume types

As cinder already supports volume types, it's time
to be added in Horizon. The types are added in syspanel.
A volume can either have a *valid* type, or None.

There are two minor issues:
1. When a type is deleted, if there is a volume with
   this type, the type is returned as the id,
   instead of the name. Which is good as consistency,
   but maybe a type should not be deleted if used by a volume?
2. If no vol type is passed(None) value, the type is being
   assigned as 'None', and returned as a string('None')
3. In the create volume type form, the 'Description' is
   empty at the moment, I couldn't find any help info
   to add for volume types...

Some more unit tests will be added, but this is just a preview.

Fixes bug 1022418

PATCH SET 2: rebased with master, added some more unit tests

NOTE: forced requirement for python-novaclient==2.6.10,
as Jenkins installs the latest stable 2012.1 instead...

Change-Id: Id5fec29a9b81d681bc9a56532ac73fbd27f9a620
"
openstack%2Fglance~master~I69da3b4ce3fc9261cbf448e797e48affa56281ef,openstack/glance,master,I69da3b4ce3fc9261cbf448e797e48affa56281ef,Allows exposing image location based on config,MERGED,2012-08-08 18:02:35.000000000,2012-08-10 02:20:22.000000000,2012-08-10 02:20:22.000000000,213,0,34,11040,ae6e288072f833b11c557747d354c6e5ba71a439,bp/api-v2-store-access,31,5,8,6,2537,Nikhil Komawar,nikhil-komawar,"Allows exposing image location based on config

It would be good to allow exposing image location to trusted clients,
say Nova. Thus, eventually helping for internal deployments. This merge
prop enables us to set a config value which will let us either expose
the image location or not expose it.

Edits from markwash:
 * unit test refactoring
 * should not return direct_url as None, that would violate the schema
   which requires direct_url to, when present, be a string

implements bp api-v2-store-access

Change-Id: I69da3b4ce3fc9261cbf448e797e48affa56281ef
"
openstack%2Fhorizon~master~I92078ec3b434777b8558ac89a22209aa54dee657,openstack/horizon,master,I92078ec3b434777b8558ac89a22209aa54dee657,Allow empty device name.,MERGED,2012-08-10 01:24:50.000000000,2012-08-10 02:00:21.000000000,2012-08-10 02:00:21.000000000,7,2,0,11117,87ef0db150d241ea98d3b582c55139a253bb6152,device_name,7,3,1,2,1816,Gabriel Hurley,gabriel-hurley,"Allow empty device name.

Nova supports an empty device name as of https://review.openstack.org/#/c/10908
so we don't need to force one on people (which causes breakages and
confusion).

Change-Id: I92078ec3b434777b8558ac89a22209aa54dee657
"
openstack%2Fneutron~master~I9b555f228c2b9f027b1487060a2232589fc242e7,openstack/neutron,master,I9b555f228c2b9f027b1487060a2232589fc242e7,disable autorebasing on git review,ABANDONED,2012-08-10 01:53:12.000000000,2012-08-10 01:53:12.000000000,,1,0,0,11102,b5d43cafaefacfb374f7aff73fcea85e391022d4,bug/1035035,4,2,1,1,2750,Sean Dague,sdague,"disable autorebasing on git review

Fixes bug #1035035

The default autorebasing behavior of git review can have unexpected
consequences, especially when attempting to add a new review that
is dependent on another in progress review. Like accidently turning
other people's code into drafts.

Disabling autorebase will protect us from these kinds of accidents.

Change-Id: I9b555f228c2b9f027b1487060a2232589fc242e7
"
openstack%2Fhorizon~master~Ic03032302fbee148e911bba7ae1edef80c9e82cd,openstack/horizon,master,Ic03032302fbee148e911bba7ae1edef80c9e82cd,disable autorebasing on git review,ABANDONED,2012-08-09 19:31:22.000000000,2012-08-10 01:50:41.000000000,,1,0,0,11100,d355e06d624f33a6d1cb22c95b4f61360ea3631c,bug/1035035,3,2,1,1,2750,Sean Dague,sdague,"disable autorebasing on git review

Fixes bug #1035035

The default autorebasing behavior of git review can have unexpected
consequences, especially when attempting to add a new review that
is dependent on another in progress review. Like accidently turning
other people's code into drafts.

Disabling autorebase will protect us from these kinds of accidents.

Change-Id: Ic03032302fbee148e911bba7ae1edef80c9e82cd
"
openstack%2Fkeystone~master~I2bbd298838de3f0521492a654da782a3712ffa51,openstack/keystone,master,I2bbd298838de3f0521492a654da782a3712ffa51,disable autorebasing on git review,ABANDONED,2012-08-09 19:29:17.000000000,2012-08-10 01:50:35.000000000,,1,0,0,11098,d634be7278b253c38b8999ac52379a3a9a1349ee,bug/1035035,2,1,1,1,2750,Sean Dague,sdague,"disable autorebasing on git review

Fixes bug #1035035

The default autorebasing behavior of git review can have unexpected
consequences, especially when attempting to add a new review that
is dependent on another in progress review. Like accidently turning
other people's code into drafts.

Disabling autorebase will protect us from these kinds of accidents.

Change-Id: I2bbd298838de3f0521492a654da782a3712ffa51
"
openstack%2Fcinder~master~I95809d606c67240dacdad804b62e15dff01afd3f,openstack/cinder,master,I95809d606c67240dacdad804b62e15dff01afd3f,disable autorebasing on git review,ABANDONED,2012-08-09 19:24:34.000000000,2012-08-10 01:50:27.000000000,,1,0,0,11097,0eadc7c2508cbb919107a61640e3c227932b1f25,bug/1035035,6,4,1,1,2750,Sean Dague,sdague,"disable autorebasing on git review

Fixes bug #1035035

The default autorebasing behavior of git review can have unexpected
consequences, especially when attempting to add a new review that
is dependent on another in progress review. Like accidently turning
other people's code into drafts.

Disabling autorebase will protect us from these kinds of accidents.

Change-Id: I95809d606c67240dacdad804b62e15dff01afd3f
"
openstack%2Fglance~master~Ie7dca5e83945ef2a7eb87808961047777c4a4e41,openstack/glance,master,Ie7dca5e83945ef2a7eb87808961047777c4a4e41,disable autorebasing on git review,ABANDONED,2012-08-09 19:21:43.000000000,2012-08-10 01:50:17.000000000,,1,0,0,11096,afbc3fc78bc505abd81bd8f48f81d77b71213195,bug/1035035,3,2,1,1,2750,Sean Dague,sdague,"disable autorebasing on git review

Fixes bug #1035035

The default autorebasing behavior of git review can have unexpected
consequences, especially when attempting to add a new review that
is dependent on another in progress review. Like accidently turning
other people's code into drafts.

Disabling autorebase will protect us from these kinds of accidents.

Change-Id: Ie7dca5e83945ef2a7eb87808961047777c4a4e41
"
openstack%2Fnova~master~Iffd110c455de7b24c5006502753d455ccbb9391c,openstack/nova,master,Iffd110c455de7b24c5006502753d455ccbb9391c,disable autorebasing on git review,ABANDONED,2012-08-09 19:17:54.000000000,2012-08-10 01:50:06.000000000,,1,0,0,11093,86f5a4c37cc3d43b7139d5b5e7651249ac79eb0c,bug/1035035,4,3,1,1,2750,Sean Dague,sdague,"disable autorebasing on git review

Fixes bug #1035035

The default autorebasing behavior of git review can have unexpected
consequences, especially when attempting to add a new review that
is dependent on another in progress review. Like accidently turning
other people's code into drafts.

Disabling autorebase will protect us from these kinds of accidents.

Change-Id: Iffd110c455de7b24c5006502753d455ccbb9391c
"
openstack%2Foslo-incubator~master~Id1ba9502f85736254202adcfad4ae35d215d59a5,openstack/oslo-incubator,master,Id1ba9502f85736254202adcfad4ae35d215d59a5,disable autorebasing on git review,ABANDONED,2012-08-10 01:49:16.000000000,2012-08-10 01:49:16.000000000,,1,0,0,11092,15fdb34b741058eafd6b46e50857d4f3eae1e255,bug/1035035,2,1,1,1,2750,Sean Dague,sdague,"disable autorebasing on git review

Fixes bug #1035035

The default autorebasing behavior of git review can have unexpected
consequences, especially when attempting to add a new review that
is dependent on another in progress review. Like accidently turning
other people's code into drafts.

Disabling autorebase will protect us from these kinds of accidents.

Change-Id: Id1ba9502f85736254202adcfad4ae35d215d59a5
"
openstack%2Fneutron~master~I272a6572c389ef8c12585f4b62204f5877cda078,openstack/neutron,master,I272a6572c389ef8c12585f4b62204f5877cda078,fix missing deallocation of gateway ip,MERGED,2012-08-10 01:32:39.000000000,2012-08-10 01:32:39.000000000,2012-08-10 01:32:39.000000000,12,1,0,11048,bcde97b48552072bda453e08f6a5c669b2838c05,bug/1032506,9,5,2,1,447,dan wendlandt,danwent,"fix missing deallocation of gateway ip

bug 1032506

when deleting a port that uses the gateway IP, we were not removing
the IPAllocation entry, which resulted in a depedency issue when we
deleted the port that the IPAllocation entry referenced.

Change-Id: I272a6572c389ef8c12585f4b62204f5877cda078
"
openstack%2Fnova~master~I91a70ada01dbe050471da43d66774686782584ad,openstack/nova,master,I91a70ada01dbe050471da43d66774686782584ad,Avoid double-reduction of quota for repeated delete.,MERGED,2012-08-08 18:39:35.000000000,2012-08-10 00:12:09.000000000,2012-08-10 00:12:08.000000000,53,12,0,11044,aaccb0a97930b3b7ca8e80ede21c46ae084c4fc6,,14,6,2,2,2284,Eoghan Glynn,eglynn,"Avoid double-reduction of quota for repeated delete.

Previously when an instance delete is repeated while a
delete is already in progress, the relevant quota usages
were reduced twice.

This is already healing logic in place to catch the special
case where these counts fall below zero, in which case the
sync method re-calculates the appropriate in-use count.

However this will only help the case at hand when the instance
count is itself trending towards zero, and not in general when
there's a healthy number of active instances.

Now we check the instance task state before making the quota
usage reduction.

Change-Id: I91a70ada01dbe050471da43d66774686782584ad
"
openstack%2Fhorizon~master~Ideccd6090d1ec5fd0830a1468479c3b0edde9800,openstack/horizon,master,Ideccd6090d1ec5fd0830a1468479c3b0edde9800,Replace spin.js with animated gif for updating table rows.,MERGED,2012-08-09 22:15:25.000000000,2012-08-09 23:44:50.000000000,2012-08-09 23:44:50.000000000,74,65,0,11109,dfdb8375de25e564fc0ffd71f9f239e9a95e6ce1,bug/1035111,7,3,1,3,543,Tres Henry,tres,"Replace spin.js with animated gif for updating table rows.

Fixes bug 1035111

Change-Id: Ideccd6090d1ec5fd0830a1468479c3b0edde9800
"
openstack%2Fnova~master~Ic182eb4563b9462704c5969d5116629442df316a,openstack/nova,master,Ic182eb4563b9462704c5969d5116629442df316a,Send 'create volume from snapshot' to the proper host,MERGED,2012-08-01 13:28:56.000000000,2012-08-09 23:16:35.000000000,2012-08-09 23:16:34.000000000,44,8,4,10649,6795de644b8a8a1879543101d85ba90674219c8b,bug/1008866,19,6,4,3,2481,Rongze Zhu,zrzhit,"Send 'create volume from snapshot' to the proper host

A simple solution for bug 1008866. When creating volume from snapshot on
multicluster, in volume it will check if snapshot_id is set. If snapshot_id
is set and FLAGS.snapshot_same_host is true, make the call create volume
directly to the volume host where the snapshot resides instead of passing it
through the scheduler. So snapshot can be copy to new volume. The same as
review 9761.

Change-Id: Ic182eb4563b9462704c5969d5116629442df316a
"
openstack%2Fnova~master~I3fe9cfcca8d4bddb71c763b526105e34f2652557,openstack/nova,master,I3fe9cfcca8d4bddb71c763b526105e34f2652557,Driver for IBM Storwize and SVC storage.,MERGED,2012-07-30 14:51:46.000000000,2012-08-09 23:00:50.000000000,2012-08-09 23:00:49.000000000,2519,1,13,10535,4664f63691710413ea950891d00417045d131e76,storewize_svc_volume_driver,30,9,9,4,4355,Avishay Traeger,avishay-il,"Driver for IBM Storwize and SVC storage.

Volume driver for IBM Storwize and SVC storage systems, along with unit
tests and updated sample config file. The unit tests include a
Storwize/SVC management simulator to allow for testing without
controller hardware. Also added a new exception for volume drivers.

Co-authored-by: Ronen Kat <ronenkat@il.ibm.com>

Change-Id: I3fe9cfcca8d4bddb71c763b526105e34f2652557
"
openstack%2Fdevstack-gate~master~Id4c44c3ef63c3a3ffa834e55833b441bb4786dbf,openstack/devstack-gate,master,Id4c44c3ef63c3a3ffa834e55833b441bb4786dbf,Support passing in a jenkins SSH key.,ABANDONED,2012-08-09 22:36:37.000000000,2012-08-09 22:36:37.000000000,,11,3,0,11095,3dbdba34e2c3dd71378d3cdb007740e6489af3d4,master,3,2,1,2,2,Monty Taylor,mordred,"Support passing in a jenkins SSH key.

Change-Id: Id4c44c3ef63c3a3ffa834e55833b441bb4786dbf
"
openstack%2Fnova~master~I14172318ed4dc2af16c45be376475885f474c545,openstack/nova,master,I14172318ed4dc2af16c45be376475885f474c545,Make TerminateInstances compatible with EC2 api,MERGED,2012-08-08 13:13:54.000000000,2012-08-09 22:08:02.000000000,2012-08-09 22:08:01.000000000,11,11,1,11021,0fa3f0e6da4e8f1d5d09e6797bb5eae806ece400,,20,6,5,2,2459,Thorsten Tarrach,r-thorsten,"Make TerminateInstances compatible with EC2 api

fixes bug 1034377

Currently the XML response for TerminateInstances differs
from the EC2 api specifications and causes the .net EC2 api
from Amazon to crash.

Change-Id: I14172318ed4dc2af16c45be376475885f474c545
"
openstack%2Fnova~master~If8586e246564f1069cb60bac9592f9d750522e81,openstack/nova,master,If8586e246564f1069cb60bac9592f9d750522e81,Traceback when over allocating IP addresses,MERGED,2012-08-09 20:43:20.000000000,2012-08-09 22:02:26.000000000,2012-08-09 22:02:26.000000000,4,1,0,11106,65c3759674dec87c895c44d95c7b279ea4e4eb05,master,7,4,1,1,24,Chuck Short,zulcss,"Traceback when over allocating IP addresses

When a user over allocates a number of IP addresses
via euca-allocate-address, the user will get a nice
traceback saying that they over quota for IP address
allocation. Display a more userfriendly error when this
happens.

LP: #971609

Change-Id: If8586e246564f1069cb60bac9592f9d750522e81
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fcinder~master~I0d59db64e00bc7e93223a24dabadbcbd0b290fb9,openstack/cinder,master,I0d59db64e00bc7e93223a24dabadbcbd0b290fb9,Straight port of the NetApp driver updates from nova-volume to cinder.,MERGED,2012-08-08 18:31:04.000000000,2012-08-09 21:33:28.000000000,2012-08-09 21:33:28.000000000,571,189,1,11043,1c68bd3c617edca059d6a5ee1c95f5567c26861a,bp/netapp-volume-driver,10,4,2,2,2417,Ben Swartzlander,bswartz,"Straight port of the NetApp driver updates from nova-volume to cinder.

These changes were already accepted into nova-volume, and I have only
altered the exception classes to match the new cinder classes.

blueprint netapp-volume-driver

Change-Id: I0d59db64e00bc7e93223a24dabadbcbd0b290fb9
"
openstack%2Fdevstack~master~I357b47cf117a5e615eb4af9603b7c5670e5cff1c,openstack/devstack,master,I357b47cf117a5e615eb4af9603b7c5670e5cff1c,Use right service name when stopping tgt in unstack.sh,MERGED,2012-08-07 07:48:05.000000000,2012-08-09 21:19:47.000000000,2012-08-09 21:19:47.000000000,6,1,0,10941,5da67fe42f88987875bbfa40d9c81a7519e72abc,stop-tgt,6,3,1,1,4460,Vincent Untz,vuntz,"Use right service name when stopping tgt in unstack.sh

On non-deb systems, 'tgt' is 'tgtd'.

Change-Id: I357b47cf117a5e615eb4af9603b7c5670e5cff1c
"
openstack%2Fdevstack~master~I0b96f4d262205346e112ec8ac23dd7d5a0f252dd,openstack/devstack,master,I0b96f4d262205346e112ec8ac23dd7d5a0f252dd,Add Vincent Untz to AUTHORS,MERGED,2012-08-07 07:44:03.000000000,2012-08-09 21:09:52.000000000,2012-08-09 21:09:52.000000000,1,0,0,10940,d1804b32fbf462161caa314a7d20494321eb721b,authors-vuntz,5,2,1,1,4460,Vincent Untz,vuntz,"Add Vincent Untz to AUTHORS

Several of my patches are in already.

Change-Id: I0b96f4d262205346e112ec8ac23dd7d5a0f252dd
"
openstack%2Fglance~master~I9f38bac8360016bb12b5edaad87c50939a538cc0,openstack/glance,master,I9f38bac8360016bb12b5edaad87c50939a538cc0,Do not cache images that fail checksum verfication,MERGED,2012-07-24 15:25:00.000000000,2012-08-09 20:41:15.000000000,2012-08-09 20:41:15.000000000,101,6,21,10223,19334f0f8d0d2e8bcc086ef27e44c0a6a80bd9d6,bug/1028496,32,6,6,4,2835,Brian Elliott,belliott,"Do not cache images that fail checksum verfication

On an image GET, recalculate the image checksum as the image
data is streamed to the client.  Verify that the checksum matches
the original checksum calculated when the image was added to Glance.
If checksum validation fails, purge the image from the cache.

This type of situation could occur if the backend image store
is malfunctioning.

bug 1028496

Change-Id: I9f38bac8360016bb12b5edaad87c50939a538cc0
"
openstack%2Fnova~master~Ib998c0465cead1b8e117a7344557f8ff496c7e40,openstack/nova,master,Ib998c0465cead1b8e117a7344557f8ff496c7e40,Make update_db an opt arg in scheduler manager.,MERGED,2012-08-09 19:20:01.000000000,2012-08-09 20:01:21.000000000,2012-08-09 20:01:20.000000000,2,2,0,11094,2fa7b1aa1cecf6963655dd613fdc4395a4d74626,bug/1035004,9,4,2,1,360,Dan Prince,dan-prince,"Make update_db an opt arg in scheduler manager.

Updates the scheduler manager so that update_db is an optional
argument. This fixes issues when trying to make RPC calls
with the most recent version (1.4) of the scheduler RPC API.

Fixes LP Bug #1035004.

Change-Id: Ib998c0465cead1b8e117a7344557f8ff496c7e40
"
openstack%2Fnova~master~I1bc90a8331419709ab71e5da8c48cd1d54c40f9e,openstack/nova,master,I1bc90a8331419709ab71e5da8c48cd1d54c40f9e,Fix the inject_metadata_into_fs in the disk API.,MERGED,2012-08-07 16:33:15.000000000,2012-08-09 19:59:06.000000000,2012-08-09 19:59:05.000000000,12,1,2,10975,c35b853f0fa9d41c50dd21c858bf9ffca1318953,bug/1034040,32,8,4,2,360,Dan Prince,dan-prince,"Fix the inject_metadata_into_fs in the disk API.

Updates the _inject_metadata_into_fs in the disk/api.py so
that it uses dict-style access. This resolves an issue introduced
in a recent no-db-messaging change.

Includes new test case.

Fixes LP Bug #1034040.

Change-Id: I1bc90a8331419709ab71e5da8c48cd1d54c40f9e
"
openstack%2Fhorizon~master~I3abf3d154e3c0decd918e15f04eaef84b4aaa748,openstack/horizon,master,I3abf3d154e3c0decd918e15f04eaef84b4aaa748,Warn user if no role assigned in default Project,MERGED,2012-07-22 16:46:09.000000000,2012-08-09 19:51:11.000000000,2012-08-09 19:51:11.000000000,24,4,4,10105,3c4b00cdcd5c4bf0ba61fef818754232da5edb5f,bug/1011461,27,5,6,2,1941,Lin Hua Cheng,lin-hua-cheng,"Warn user if no role assigned in default Project

Fixes Bug #1011461

When the default project settings is updated, the
form will show a warning if there are no roles assigned
for the default project. This will prompt the user to
assignd the role using Project >> Modify users.

Change-Id: I3abf3d154e3c0decd918e15f04eaef84b4aaa748
"
openstack%2Fhorizon~master~I38589bf3ee4c33c49df982417d995c141f4e6709,openstack/horizon,master,I38589bf3ee4c33c49df982417d995c141f4e6709,project workflow: project membership UI,MERGED,2012-08-06 18:29:43.000000000,2012-08-09 19:51:10.000000000,2012-08-09 19:51:09.000000000,1245,144,16,10905,e1635b695dd03c5379a9a2f14ee9d9b0f9bd1475,bp/tenant-creation-workflow,31,5,12,19,4567,kelsey-tripp,kelsey-tripp,"project workflow: project membership UI

* Update Project workflow now includes a tab to update project members
* Can add/remove existing users from project and update roles
* Can add a new user via inline object creation
* Can filter both lists!
* Changed css/jquery to make things appear more like other tables
* Fixed a few JS bugs
* ""Fixed"" exception handling for now, although it naively redirects the
   user out of the workflow

partially implements blueprint tenant-creation-workflow

Change-Id: I38589bf3ee4c33c49df982417d995c141f4e6709
"
openstack%2Fcinder~master~I7000a201cf3d440e4ac01c9fd32ba984f583ffcf,openstack/cinder,master,I7000a201cf3d440e4ac01c9fd32ba984f583ffcf,disable autorebasing on git review,ABANDONED,2012-08-09 19:36:14.000000000,2012-08-09 19:39:41.000000000,,1,0,0,11103,00480373c33b87fe95cbe648dd5bab0494e3c4ef,bug/1035035,1,0,1,1,2243,John Griffith,john-griffith,"disable autorebasing on git review

Fixes bug #1035035

The default autorebasing behavior of git review can have unexpected
consequences, especially when attempting to add a new review that
is dependent on another in progress review. Like accidently turning
other people's code into drafts.

Disabling autorebase will protect us from these kinds of accidents

Change-Id: I7000a201cf3d440e4ac01c9fd32ba984f583ffcf
"
openstack%2Fcinder~master~Ia2f0710908495ec64dacd2ee9bd10d7f8cd415df,openstack/cinder,master,Ia2f0710908495ec64dacd2ee9bd10d7f8cd415df,Remove redundant 'availability_zone' config options.,MERGED,2012-08-08 17:02:23.000000000,2012-08-09 17:34:50.000000000,2012-08-09 17:34:50.000000000,5,12,0,11035,30a591616687f41af4cfa2605078a436b2bd795d,bp/implement-availability-zones,10,5,2,6,2759,Huang Zhiteng,zhiteng-huang,"Remove redundant 'availability_zone' config options.

There are two availability_zone related config options now:
  node_availability_zone and storage_availability_zone
While volume API uses node_availability_zone, the scheduler uses
the other, which causes failure in scheduler when these two options
have different values.

This patch removes 'node_availability_zone' so that end user
can specify 'availability zone' when create volumes using
Simple scheduler.

Partially implement blueprint implement-availability-zones

Change-Id: Ia2f0710908495ec64dacd2ee9bd10d7f8cd415df
"
openstack%2Fcinder~master~I2a8338d77badc70201bb315198183f2091df43fb,openstack/cinder,master,I2a8338d77badc70201bb315198183f2091df43fb,Admin users should be restricted from seeing all snapshots by default.,MERGED,2012-08-05 22:55:48.000000000,2012-08-09 17:33:21.000000000,2012-08-09 17:33:21.000000000,79,9,3,10855,43626d293739dbe06c7fe26845d17c2e580e62dd,bug/967882,15,5,4,5,1205,Jake Dahn,jakedahn,"Admin users should be restricted from seeing all
snapshots by default.

  * Now to view all snapshots across all tenants you need
    to include the all_tenants=1 GET param in your api request.
  * Fixes remaining issues blocking bug #967882

Change-Id: I2a8338d77badc70201bb315198183f2091df43fb
"
openstack%2Fnova~master~I4efc922a6a0af0605d4d63012d55ff8473211fd5,openstack/nova,master,I4efc922a6a0af0605d4d63012d55ff8473211fd5,Fix stale instances being sent over rpc.,MERGED,2012-08-09 15:10:04.000000000,2012-08-09 17:04:40.000000000,2012-08-09 17:04:39.000000000,25,40,2,11078,c45eb1fe80e6e224b0617fb3d789949c0d0b8dd1,bp/no-db-messaging,12,7,2,2,1561,Russell Bryant,russellb,"Fix stale instances being sent over rpc.

There were a number of places in compute/api.py that were calling
self.update() for an instance, but not sending an instance that contains
those updates over rpc.  This patch fixes them.

The changes to the unit tests were required because its stubs were
returning an instance without a host set in some cases.  So, the result
of self.update() had no host and the rpcapi would blow up since it had
no idea where to send the message.

This patch does not fix self.update() before prep_resize, because it is
being addressed in this patch: https://review.openstack.org/#/c/11050/

Change-Id: I4efc922a6a0af0605d4d63012d55ff8473211fd5
"
openstack%2Fnova~master~Ic92a22a2c315d25c70d32685fdf9f38451077b9a,openstack/nova,master,Ic92a22a2c315d25c70d32685fdf9f38451077b9a,Send updated instance model to schedule_prep_resize,MERGED,2012-08-08 20:53:32.000000000,2012-08-09 17:04:30.000000000,2012-08-09 17:04:29.000000000,31,5,6,11050,fcdfa93b210a092894284f60309e660a3a058fde,bug/1034595,21,8,5,2,1030,Chris Behrens,cbehrens,"Send updated instance model to schedule_prep_resize

A stale instance model was being passed to schedule_prep_resize.

Fixes bug 1034595

Change-Id: Ic92a22a2c315d25c70d32685fdf9f38451077b9a
"
openstack%2Fnova~master~Id5515881b08af9d0832b4b620c03e471fdff0823,openstack/nova,master,Id5515881b08af9d0832b4b620c03e471fdff0823,Fix traceback when detaching volumes via EC2,MERGED,2012-08-07 00:28:43.000000000,2012-08-09 16:49:22.000000000,2012-08-09 16:49:21.000000000,3,3,2,10932,fe264ba158e8dc7f8b249bc6619d7001e7819c5d,master,19,7,2,1,24,Chuck Short,zulcss,"Fix traceback when detaching volumes via EC2

When detaching a volume from an instance it results
in the following traceback:

Cinderclient connection created using URL: http://192.168.1.103:8776/v1/bc02ec05c5fa4a5bb3020b617f3574e2
2012-08-06 18:58:32 ERROR nova.api.ec2 [req-1fd2f017-8a11-481f-b901-ae61d3f55c94 demo demo] Unexpected error raised: 'instance_uuid'
2012-08-06 18:58:32 TRACE nova.api.ec2 Traceback (most recent call last):
2012-08-06 18:58:32 TRACE nova.api.ec2   File ""/opt/stack/nova/nova/api/ec2/__init__.py"", line 474, in __call__
2012-08-06 18:58:32 TRACE nova.api.ec2     result = api_request.invoke(context)
2012-08-06 18:58:32 TRACE nova.api.ec2   File ""/opt/stack/nova/nova/api/ec2/apirequest.py"", line 81, in invoke
2012-08-06 18:58:32 TRACE nova.api.ec2     result = method(context, **args)
2012-08-06 18:58:32 TRACE nova.api.ec2   File ""/opt/stack/nova/nova/api/ec2/cloud.py"", line 799, in detach_volume
2012-08-06 18:58:32 TRACE nova.api.ec2     self.compute_api.detach_volume(context,volume_id=volume_id)
2012-08-06 18:58:32 TRACE nova.api.ec2   File ""/opt/stack/nova/nova/compute/api.py"", line 1642, in detach_volume
2012-08-06 18:58:32 TRACE nova.api.ec2     instance_uuid = volume['instance_uuid']
2012-08-06 18:58:32 TRACE nova.api.ec2 KeyError: 'instance_uuid'

By the time the volume in the cinder database the instance_uuid is already 'NULL',
so get the instance_uuid from the volume before its detached.

Fixes LP: #1033713

Change-Id: Id5515881b08af9d0832b4b620c03e471fdff0823
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fswift~master~I91af811875b41bc345454f355e0e120b1fec470f,openstack/swift,master,I91af811875b41bc345454f355e0e120b1fec470f,added functional nose test cases to test HEAD operation,ABANDONED,2012-08-09 16:38:18.000000000,2012-08-09 16:49:16.000000000,,70,0,0,11082,07c5f915305b2f96454615ec0f3e3780790d73c4,master,5,2,3,1,2860,litong01,litong01,"added functional nose test cases to test HEAD operation

Swift HEAD operation was broken by webob updates.
this test ensures that the test cases will run to verify
if the installed webob behaves correctly when HEAD request
is performed.

Change-Id: I91af811875b41bc345454f355e0e120b1fec470f
"
openstack%2Fnova~master~I21b4c2569c35d59c1f466642355564084a277aea,openstack/nova,master,I21b4c2569c35d59c1f466642355564084a277aea,Adds ability to inherit wsgi extensions,MERGED,2012-08-04 02:33:36.000000000,2012-08-09 16:29:47.000000000,2012-08-09 16:29:46.000000000,54,4,1,10814,ced45de5984f1d89c238f70337cc0da2a150383f,bp/disable-server-extensions,28,9,6,4,67,Vish Ishaya,vishvananda,"Adds ability to inherit wsgi extensions

Needed for blueprint disable-server-extensions

It is possible to create a wsgi resource that extends another
resource by using the same controller, but any extensions that
have been applied to the original resource will have no affect.

This adds a new parameter to ResourceExtension that allows it
to inherit extensions from another resource. This is necessary
because we are moving key funcionality of the /servers resource
into extensions, and some other resources (like create-server-ext)
extend that functionality. This way we can keep the functionality
of the other extensions.

Change-Id: I21b4c2569c35d59c1f466642355564084a277aea
"
openstack%2Fnova~master~Ia4573cdfdff399b94ef03b0d2df91a25c3639401,openstack/nova,master,Ia4573cdfdff399b94ef03b0d2df91a25c3639401,List active instances on a particular host,ABANDONED,2012-08-08 00:47:14.000000000,2012-08-09 15:48:13.000000000,,28,1,1,11007,e810b907dcf197fa331d34c07c5b9060a8eea37a,instance-list-by-host,5,3,1,1,538,Major Hayden,rackerhacker,"List active instances on a particular host

This adds functionality to retrieve a list of active instances on a
particular host via the hosts API extension.  It reuses the instance
listing view builder.

Change-Id: Ia4573cdfdff399b94ef03b0d2df91a25c3639401
"
openstack%2Fnova~master~I5e62f4ca1942258adfd73a843f4ad8b2d3ae84bc,openstack/nova,master,I5e62f4ca1942258adfd73a843f4ad8b2d3ae84bc,Change instance['admin_pass'] to instance.get(),ABANDONED,2012-08-09 15:18:45.000000000,2012-08-09 15:48:03.000000000,,1,1,0,11079,3203e5ac708957fedfed6f7eace25b4dcd8e4acf,admin-pass-fix,3,2,1,1,538,Major Hayden,rackerhacker,"Change instance['admin_pass'] to instance.get()

Change-Id: I5e62f4ca1942258adfd73a843f4ad8b2d3ae84bc
"
openstack%2Fnova~master~I9f22de1e926ed48b8fd4561ddf2129db6a1e0b65,openstack/nova,master,I9f22de1e926ed48b8fd4561ddf2129db6a1e0b65,Fix setting admin_pass in rescue command,MERGED,2012-08-09 15:24:53.000000000,2012-08-09 15:47:08.000000000,2012-08-09 15:47:07.000000000,1,2,0,11080,dd45bf735c073c9fb59d1d420d2e47713d28577d,bug/1034948,7,4,1,1,100,Johannes Erdfelt,johannes.erdfelt,"Fix setting admin_pass in rescue command

Fixes bug 1034948

The database doesn't have an admin_pass column, so the instance_update()
call is a noop.

Change-Id: I9f22de1e926ed48b8fd4561ddf2129db6a1e0b65
"
openstack%2Fnova~master~I733899c3f699803db4dbe95021b1cb6490392bed,openstack/nova,master,I733899c3f699803db4dbe95021b1cb6490392bed,Fixes KeyError when trying to rescue an instance,MERGED,2012-08-09 13:59:59.000000000,2012-08-09 15:25:10.000000000,2012-08-09 15:25:10.000000000,1,1,0,11075,220ab5cfcbea8c500d45d3805c88f661730f7014,injected-files-rescue-fix,14,6,4,1,538,Major Hayden,rackerhacker,"Fixes KeyError when trying to rescue an instance

When rescuing an instance, a KeyError exception is thrown since
the 'injected_files' key doesn't exist in the instance dict.

Change-Id: I733899c3f699803db4dbe95021b1cb6490392bed
"
openstack%2Fnova~master~I559bd45a8dda4537f6f4a3b8d744095291c7f058,openstack/nova,master,I559bd45a8dda4537f6f4a3b8d744095291c7f058,Send a full instance in rescue_instance.,MERGED,2012-07-27 20:20:55.000000000,2012-08-09 15:02:10.000000000,2012-07-31 04:15:07.000000000,30,20,1,10432,697f2bddf0e21368c69f13d0ec4e43df17d7f330,bp/no-db-messaging,33,6,7,4,1561,Russell Bryant,russellb,"Send a full instance in rescue_instance.

Change the rescue_instance method of the compute
rpc API to take a full instance over rpc instead of just
the instance UUID.  This cuts down on database access needed
by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: I559bd45a8dda4537f6f4a3b8d744095291c7f058
"
openstack%2Fdevstack-gate~master~Ia98d2e3706da6b89724612eec51ac20ba730b1e2,openstack/devstack-gate,master,Ia98d2e3706da6b89724612eec51ac20ba730b1e2,various small changes to test openvz driver,MERGED,2012-08-09 13:43:15.000000000,2012-08-09 13:43:15.000000000,2012-08-09 13:43:15.000000000,24,2,9,10316,8f42515af521bfd617f1a91c43bb51d65d5d0312,add-openvz-support,13,4,3,3,2889,Aeva Black,tenbrae,"various small changes to test openvz driver

Change-Id: Ia98d2e3706da6b89724612eec51ac20ba730b1e2
"
openstack%2Fceilometer~master~I0a9ddd3c096919366492dfdfb78a462f34b0f85d,openstack/ceilometer,master,I0a9ddd3c096919366492dfdfb78a462f34b0f85d,Remove redundancy in the API,MERGED,2012-08-09 12:57:12.000000000,2012-08-09 12:57:12.000000000,2012-08-09 12:57:12.000000000,201,79,0,10978,384e6cafd3319dc19e3175e200423e54b7f8801c,feature/api-cleanup,7,3,2,2,2472,Doug Hellmann,doug-hellmann,"Remove redundancy in the API

Clean up the API a bit based on the discussion we
had on the mailing list about removing redundant
URLs and queries.

This changeset also ensures that each URL matches one function
so that the automatically generated documentation will be
accurate.

Change-Id: I0a9ddd3c096919366492dfdfb78a462f34b0f85d
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fceilometer~master~I0d60b182afe2e0b7cf4964bd4e8f3229373868ea,openstack/ceilometer,master,I0d60b182afe2e0b7cf4964bd4e8f3229373868ea,Separate the tox coverage test setup from py27,MERGED,2012-08-09 12:56:55.000000000,2012-08-09 12:56:55.000000000,2012-08-09 12:56:55.000000000,2,2,0,10977,43bdc452dfd844bb704eae4a65c74cdb3740940e,feature/api-cleanup,5,2,1,1,2472,Doug Hellmann,doug-hellmann,"Separate the tox coverage test setup from py27

Change-Id: I0d60b182afe2e0b7cf4964bd4e8f3229373868ea
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fceilometer~master~I32b3d8a6ed9f1d9de58565b13c9de12f3658326d,openstack/ceilometer,master,I32b3d8a6ed9f1d9de58565b13c9de12f3658326d,Do not require user or project argument for event query,MERGED,2012-08-09 12:54:31.000000000,2012-08-09 12:54:31.000000000,2012-08-09 12:54:31.000000000,0,17,0,10976,06f9bc8b740011ff22f1ead4816e1c074e449449,feature/api-cleanup,5,2,1,3,2472,Doug Hellmann,doug-hellmann,"Do not require user or project argument for event query

When we query for events by resource we do not need to
provide a user or project because the resource is only
owned by one entity.

Change-Id: I32b3d8a6ed9f1d9de58565b13c9de12f3658326d
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fceilometer~master~I85ee7a01f69273f1720eae39b80509578cb2d45b,openstack/ceilometer,master,I85ee7a01f69273f1720eae39b80509578cb2d45b,Add pymongo dependency for readthedocs.org build,MERGED,2012-08-09 12:53:41.000000000,2012-08-09 12:53:41.000000000,2012-08-09 12:53:41.000000000,1,0,0,10969,57fbc9838fb791822df99766ba196164506ca753,bug/rtd-build-failure,8,3,1,1,2472,Doug Hellmann,doug-hellmann,"Add pymongo dependency for readthedocs.org build

Change-Id: I85ee7a01f69273f1720eae39b80509578cb2d45b
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fnova~master~I5e55c50078a980ae252774d0e3da1f2ca944f9b0,openstack/nova,master,I5e55c50078a980ae252774d0e3da1f2ca944f9b0,Ignore scheduler hints when extension disabled,ABANDONED,2012-08-03 12:37:40.000000000,2012-08-09 09:41:31.000000000,,3,2,0,10770,af244466d0148524385bd2c851680b5c4ff2a3a0,bug/1025737,7,6,1,2,4573,yunhong-jiang,yunhong-jiang,"Ignore scheduler hints when extension disabled

The scheduler hints extension converts a server create request like
{'server': {'name':'foo'}, 'os:scheduler_hints': {'near': 'bar'}} to
{'server': {'name': 'foo', 'scheduler_hints': 'bar'}}. If the extension
is off, that conversion does not take place.
However, a user can explicitly set the 'scheduler_hints' value inside
the 'server' dictionary when the extension is off and the data will be
consume by the core api controller.

By place the scheduler hints into the wsgi environment, the user can't fake
any hints in the ""server"" dictionary anymore.

bug 1025737

Change-Id: I5e55c50078a980ae252774d0e3da1f2ca944f9b0
Signed-off-by: Yunhong, Jiang <yunhong.jiang@intel.com>
"
openstack%2Fdevstack~master~I10faf4970db99cb111776a487aa340e1104c010f,openstack/devstack,master,I10faf4970db99cb111776a487aa340e1104c010f,Use nova's version of nova-novncproxy,ABANDONED,2012-07-29 04:04:20.000000000,2012-08-09 06:03:02.000000000,,10,1,0,10481,088f99c3d4a28b8c20fb9b2f9ff63c0282d61e8b,bug/1030383,7,4,3,2,1155,sleepsonthefloor,sleepsonthefloor,"Use nova's version of nova-novncproxy

 * For Essex, we used noVNC/utils/nova-novncproxy
 * For Folsom, the proxy is located in nova/bin/nova-novncproxy
   * To enable shipping this proxy with nova, a new dep was required
     (kanaka/websockify)
 * Fixes bug 1030383

Change-Id: I10faf4970db99cb111776a487aa340e1104c010f
"
openstack%2Fnova~master~Ia7960298b130dd6db9e2438760bf364b48961f55,openstack/nova,master,Ia7960298b130dd6db9e2438760bf364b48961f55,Addressed issue with typecasting date,ABANDONED,2012-07-17 00:14:11.000000000,2012-08-09 06:03:02.000000000,,4,4,0,9878,f34b5f66a8c98b86cef56475d11da2a353e02d43,bug/1025481,16,12,1,1,1004,Mohammed Naser,mnaser,"Addressed issue with typecasting date

The date is stored as a varchar in the database however we're
calling SQLAlchemy with a datetime object, causing type issues
in PostgreSQL.  Fixes LP Bug #1025481

Change-Id: Ia7960298b130dd6db9e2438760bf364b48961f55
"
openstack%2Fnova~master~I8262531b4b3f8f3a1a2a37679904cf4864cae7b6,openstack/nova,master,I8262531b4b3f8f3a1a2a37679904cf4864cae7b6,Add a 50 char git title limit test to hacking.,MERGED,2012-08-02 21:39:44.000000000,2012-08-09 05:52:12.000000000,2012-08-09 05:52:11.000000000,6,1,1,10744,47a1bbe3114c4e5bb84c5b050ecc9baff83375cc,hackingGit,24,9,4,2,1849,Joe Gordon,jogo,"Add a 50 char git title limit test to hacking.

* add N802 to hacking.py

Change-Id: I8262531b4b3f8f3a1a2a37679904cf4864cae7b6
"
openstack%2Fnova~master~I560c05887128f1a0e29228e859cca25ded4eceec,openstack/nova,master,I560c05887128f1a0e29228e859cca25ded4eceec,xenapi: reduce polling interval for agent,MERGED,2012-08-07 23:33:24.000000000,2012-08-09 04:48:47.000000000,2012-08-09 04:48:46.000000000,10,10,0,11005,fbb7944851b249e473dab0b350970a4695b04315,xenapi-agent-poll,11,6,1,1,100,Johannes Erdfelt,johannes.erdfelt,"xenapi: reduce polling interval for agent

Communicating with the agent requires polling for a response. The
operation uses xenstore, which is lightweight, yet the interval
in between polls was 3 seconds. This would cause longer than necessary
sleeps when an instance was booting making the overall boot slower.

Change-Id: I560c05887128f1a0e29228e859cca25ded4eceec
"
openstack%2Fnova~master~I0ac3be39877f3afcf42f5996d0da90042fe7c6e3,openstack/nova,master,I0ac3be39877f3afcf42f5996d0da90042fe7c6e3,scheduler prep_resize should not update instance['host'],MERGED,2012-08-08 22:19:20.000000000,2012-08-09 04:44:27.000000000,2012-08-09 04:44:26.000000000,95,84,2,11054,10a5f1ac025f89f84398be308455b72d77602cc3,bug/1034593,13,4,3,10,1030,Chris Behrens,cbehrens,"scheduler prep_resize should not update instance['host']

This is done by the manager once things are ready on the destination
compute node.

Fixes bug 1034593

Also removes now-unneeded update_db argument passed via rpcapi and bumps
scheduler rpcapi version for prep_resize to 1.4

Change-Id: I0ac3be39877f3afcf42f5996d0da90042fe7c6e3
"
openstack%2Fpython-glanceclient~master~Ibc7fef9e2a5b24bd001d183d377901f302d650a9,openstack/python-glanceclient,master,Ibc7fef9e2a5b24bd001d183d377901f302d650a9,Refactor HTTP-related exceptions,MERGED,2012-08-08 18:29:34.000000000,2012-08-08 22:37:29.000000000,2012-08-08 22:37:28.000000000,121,89,2,11042,354c98b087515dc4303a07d1ff0d9a9d7b4dd48b,http-exception-refactor,10,4,1,2,1132,Brian Waldon,bcwaldon,"Refactor HTTP-related exceptions

* Refactor helper function that builds the map of http status codes
  to local http exceptions - now we don't have to explicitly list
  every single exception name
* Add several exceptions to represent http status codes that were not
  previously represented
* Improve consistency of exceptions naming by prepending 'HTTP' to
  necessary exception names
* Use HTTPException instead of ClientException
* Deprecate old http exceptions (those that aren't prefixed with HTTP)
* Deprecate ClientException
* Deprecate unused NoTokenLookupException and EndpointNotFound
* Add test module to spot-check the from_response helper

Change-Id: Ibc7fef9e2a5b24bd001d183d377901f302d650a9
"
openstack%2Fdevstack~master~Ic6785ec2d1d5d3f7ab7cf2f584010ac38e339e0a,openstack/devstack,master,Ic6785ec2d1d5d3f7ab7cf2f584010ac38e339e0a,Change glance client flag --public to --is-public,MERGED,2012-08-03 19:57:23.000000000,2012-08-08 22:29:53.000000000,2012-08-08 22:29:53.000000000,4,4,0,10789,2163aa18579a1a76161cc14d3d79f93c13d3d993,public-flag,6,3,1,1,1132,Brian Waldon,bcwaldon,"Change glance client flag --public to --is-public

The --public flag is deprecated. Let's not use it.

Change-Id: Ic6785ec2d1d5d3f7ab7cf2f584010ac38e339e0a
"
openstack%2Fglance~master~I435751ef6fc7ba0537e573fac54c34b81098271b,openstack/glance,master,I435751ef6fc7ba0537e573fac54c34b81098271b,Omit deleted properties on image-list by property,MERGED,2012-08-02 17:31:52.000000000,2012-08-08 22:14:35.000000000,2012-08-08 22:14:35.000000000,28,5,2,10725,e200f6fe2412edd564759a5a98709c704348fc6f,bug/1025697,18,7,3,3,4340,Sulochan Acharya,sulochan-acharya,"Omit deleted properties on image-list by property

If a user updates an image property with purge-props, it is marked
as deleted. However, the query to filter by custom property ignores
this, and returns match even for records with deleted set. This patch
introduces a small change by inserting deleted=False in the query to
ignore those deleted properties.

Also, some changes in simpledb is introduced to handle user defined
properties in the correct format.

- Inserts deleted=False on properties filter query. Fixes bug 1025697.
- Updates simpledb to handle user defined property in correct format.

Change-Id: I435751ef6fc7ba0537e573fac54c34b81098271b
"
openstack%2Fpython-glanceclient~master~Ib49ad58c4fdfc9bc9f535115674d92040a97db65,openstack/python-glanceclient,master,Ib49ad58c4fdfc9bc9f535115674d92040a97db65,Simplify v2 schema lookup,MERGED,2012-08-08 17:10:10.000000000,2012-08-08 21:28:40.000000000,2012-08-08 21:28:40.000000000,1,15,0,11036,3a68f75b95ed7807aee6cc245ea175ac35a09b11,http-exception-refactor,10,4,3,2,1132,Brian Waldon,bcwaldon,"Simplify v2 schema lookup

We don't need to look at the container of available schemas in order
to get the one we want. Remove glanceclient.exc.SchemaNotFound as it can
no longer be raised.

Change-Id: Ib49ad58c4fdfc9bc9f535115674d92040a97db65
"
openstack%2Fnova~master~Ie8c6214efbac72b2715264a7d9dd7fe5e43ef693,openstack/nova,master,Ie8c6214efbac72b2715264a7d9dd7fe5e43ef693,Added updated locations for iscsiadm,MERGED,2012-08-07 12:28:36.000000000,2012-08-08 21:28:32.000000000,2012-08-08 21:28:31.000000000,2,0,0,10949,d113d2590ee22c30b84dd1ce6671175b8c7b1e54,master,14,6,3,2,24,Chuck Short,zulcss,"Added updated locations for iscsiadm

Attaching volumes to instances currently result in a
traceback running on 12.10.

This is due to the change of location from /sbin to
/usr/bin for iscsiadm.

Fixes LP: #1033960

Change-Id: Ie8c6214efbac72b2715264a7d9dd7fe5e43ef693
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fnova~master~Icadaafe8bc312942249272873d9a4a8f1aa49a94,openstack/nova,master,Icadaafe8bc312942249272873d9a4a8f1aa49a94,Migrate a notifier patch from common:,MERGED,2012-08-06 15:37:49.000000000,2012-08-08 21:11:21.000000000,2012-08-08 21:11:20.000000000,86,163,0,10896,ee3cc503f26147087c961089ffbce30810697e80,bug/1025820,31,5,8,10,1998,andrewbogott,andrewbogott,"Migrate a notifier patch from common:

commit c767e9beffe4b826eac869ce7e2eef2cc1499bbe
Author: Andrew Bogott <abogott@wikimedia.org>
Date: Thu Jul 19 03:34:31 2012 -0500

Add multiple-driver support to the notifier api.

Move all of the functionality previously provided by the list_notifier
into the basic notifier api. Move and restructure tests accordingly.

Remove the list_notifier file and test file.

For bug 1025820

Change-Id: Icadaafe8bc312942249272873d9a4a8f1aa49a94
"
openstack%2Fdevstack~master~Ief3982fe8fa7402eef5db3e115df741c2cc9f4d1,openstack/devstack,master,Ief3982fe8fa7402eef5db3e115df741c2cc9f4d1,Remove Quantum V1 support,MERGED,2012-08-08 07:49:14.000000000,2012-08-08 18:55:45.000000000,2012-08-08 18:55:45.000000000,25,116,2,11012,37dda8d7a559914bc492264dddfac0dd41e7ca84,quantum-cleanup,17,4,4,2,1653,garyk,garyk,"Remove Quantum V1 support

The update includes the following:
1. Removal of melange support (this is replaced by Quantum)
2. Removal of Quantum V1 support. This is all now pure V2.

Change-Id: Ief3982fe8fa7402eef5db3e115df741c2cc9f4d1
"
openstack%2Fnova~master~I5675f14845bf059651f45cfb06ae496d413fa69b,openstack/nova,master,I5675f14845bf059651f45cfb06ae496d413fa69b,Make libvirt_use_virtio_for_bridges flag works for all drivers.,MERGED,2012-08-08 02:14:41.000000000,2012-08-08 18:54:32.000000000,2012-08-08 18:54:31.000000000,4,0,0,11008,47589192c598a80f6741b176697aa5cc8261e79a,bug/1034216,16,8,3,1,1313,Yaguang Tang,heut2008,"Make libvirt_use_virtio_for_bridges flag works for all drivers.

Both LibvirtOpenVswitchDriver and QuantumLinuxBridgeVIFDriver
can use virtio driver when flag libvirt_use_virtio_for_bridges
is set.

fix bug lp:1034216

Change-Id: I5675f14845bf059651f45cfb06ae496d413fa69b
"
openstack%2Fnova~master~Ib0aa864d9efabb1102193a36ec05c3a1673091b5,openstack/nova,master,Ib0aa864d9efabb1102193a36ec05c3a1673091b5,Fix a bug on remove_volume_connection in compute/manager.py,MERGED,2012-08-08 08:56:56.000000000,2012-08-08 18:47:02.000000000,2012-08-08 18:47:02.000000000,2,2,0,11015,ccc2f23404afa5e69d3dbafb9e603b48b12d5cbc,fix_bug_remove_volume_connection,7,4,1,1,4458,Shane Wang,shane-wang,"Fix a bug on remove_volume_connection in compute/manager.py

The function remove_volume_connection() has been changed.
Fix up the code to call the correct interface.

Change-Id: Ib0aa864d9efabb1102193a36ec05c3a1673091b5
Signed-off-by: Shane Wang <shane.wang@intel.com>
"
openstack%2Fhorizon~master~Id9dbe351fdaeb289279cb6cffa874f8e9be47834,openstack/horizon,master,Id9dbe351fdaeb289279cb6cffa874f8e9be47834,Don't show attachment UI if volume is already attached.,MERGED,2012-08-08 17:22:01.000000000,2012-08-08 17:55:23.000000000,2012-08-08 17:55:23.000000000,16,3,0,11037,e18be126038dd118abaa8102d0d0d7e1e465cc98,bug/1034506,6,3,1,3,543,Tres Henry,tres,"Don't show attachment UI if volume is already attached.

Fixes bug 1034506

Change-Id: Id9dbe351fdaeb289279cb6cffa874f8e9be47834
"
openstack%2Fpython-glanceclient~master~Ibbd53cd49f9367994de66a30601b3aefe1a8d6ee,openstack/python-glanceclient,master,Ibbd53cd49f9367994de66a30601b3aefe1a8d6ee,Add missing copyright headers,MERGED,2012-08-02 21:34:28.000000000,2012-08-08 17:55:22.000000000,2012-08-08 17:55:22.000000000,44,3,0,10742,13d80a7e8f9e3d05c3ef6e4812c8daee027fbfdc,copyright,6,3,1,3,1132,Brian Waldon,bcwaldon,"Add missing copyright headers

A few files were missing copyright headers:
* glanceclient/common/http.py
* glanceclient/v1/__init__.py
* glanceclient/exc.py

Change-Id: Ibbd53cd49f9367994de66a30601b3aefe1a8d6ee
"
openstack%2Foslo-incubator~master~I87e8b6ea7c7ed78b99ff2c336f2ebdfe5b15f3a5,openstack/oslo-incubator,master,I87e8b6ea7c7ed78b99ff2c336f2ebdfe5b15f3a5,Check CONF.notification_driver on each notification.,ABANDONED,2012-08-08 17:54:00.000000000,2012-08-08 17:54:00.000000000,,53,29,7,10931,eded7b4a4ec51d1f8fad059475740ebe31e2aa18,master,24,4,3,2,1998,andrewbogott,andrewbogott,"Check CONF.notification_driver on each notification.

Lots of tests depend on overriding CONF.notification_driver
at runtime, so we can't just cache the set of drivers.
This patch caches the drivers, but rechecks what is
in the set for each notification.

Change-Id: I87e8b6ea7c7ed78b99ff2c336f2ebdfe5b15f3a5
"
openstack%2Fnova~master~I25f45084fc562a0e30d37acb472fa930a85dbd43,openstack/nova,master,I25f45084fc562a0e30d37acb472fa930a85dbd43,Migrate a notifier patch from common:,ABANDONED,2012-08-08 17:30:03.000000000,2012-08-08 17:31:36.000000000,,86,163,0,11039,d64ec685a37cc8d7d6bf98427fc770dc9a95a5d3,bug/1025820,1,0,1,10,1998,andrewbogott,andrewbogott,"Migrate a notifier patch from common:

commit c767e9beffe4b826eac869ce7e2eef2cc1499bbe
Author: Andrew Bogott <abogott@wikimedia.org>
Date: Thu Jul 19 03:34:31 2012 -0500

Add multiple-driver support to the notifier api.

Move all of the functionality previously provided by the list_notifier
into the basic notifier api. Move and restructure tests accordingly.

Remove the list_notifier file and test file.

For bug 1025820

Change-Id: I25f45084fc562a0e30d37acb472fa930a85dbd43
"
openstack%2Fdevstack~master~I0f84ec72b97f0dd8d74ac5683efa2cda5be28dd5,openstack/devstack,master,I0f84ec72b97f0dd8d74ac5683efa2cda5be28dd5,RPC support for Quantum and devstack,MERGED,2012-07-29 08:32:13.000000000,2012-08-08 17:24:48.000000000,2012-08-08 17:24:48.000000000,23,11,12,10489,396a014b6fed2b4b12f03d34ecc96147b269389e,rpc,19,7,4,1,1653,garyk,garyk,"RPC support for Quantum and devstack

The patch does the following:
1. RPC support
2. Enables agent and service to run on different hosts (ensures that the
   file quantum.conf is copied)
3. Removes sudo for the quantum file copying
4. Uses iniset for plugin configuration

Change-Id: I0f84ec72b97f0dd8d74ac5683efa2cda5be28dd5
"
openstack%2Fpython-swiftclient~master~I404229a4c608995294e0ada77724ac8afe8d6f3c,openstack/python-swiftclient,master,I404229a4c608995294e0ada77724ac8afe8d6f3c,Fix container delete throughput and 409 retries.,MERGED,2012-08-04 02:34:42.000000000,2012-08-08 17:16:08.000000000,2012-08-08 17:16:08.000000000,6,2,0,10817,c87458e229281a050ecca11a0b99fa55c07ad29c,bug/1032879,6,3,1,1,2696,Darrell Bishop,darrellb,"Fix container delete throughput and 409 retries.

Fix race condition in _delete_container() where all elements of
object_queue have been removed, but the last one (per thread) may not
have actually been deleted yet when the container deletion thread calls
conn.delete_container(container).  Fixes bug 1032879.

Improves container deletion throughput by immediately deleting
containers with no objects instead of waiting for all pending object
deletes to complete.  Fixes bug 1032878.

Change-Id: I404229a4c608995294e0ada77724ac8afe8d6f3c
"
openstack%2Fnova~stable%2Fdiablo~I36af1db29c2bd97627d614df21b5da07db29a8ab,openstack/nova,stable/diablo,I36af1db29c2bd97627d614df21b5da07db29a8ab,Fix up protocol case handling for security groups.,MERGED,2012-06-06 18:22:02.000000000,2012-08-08 16:56:53.000000000,2012-08-08 16:56:53.000000000,10,9,0,8239,2ecbf5cc0042f5a9378678811fde007603b1ee45,bug/985184,26,7,2,3,1561,Russell Bryant,russellb,"Fix up protocol case handling for security groups.

Fix bug 985184.

When creating security group rules, any case for the protocol was
accepted as input, such as TCP, Tcp, tcp, etc., and was stored in the
database as specified.  However, unless specified as all lowercase, the
code to apply the rules would break and result in some rules not being
applied.

(cherry picked from commit ff06c7c885dc94ed7c828e8cdbb8b5d850a7e654)

Also includes backport of thix fix:
    https://review.openstack.org/#/c/8392

Change-Id: I36af1db29c2bd97627d614df21b5da07db29a8ab
"
openstack%2Fnova~master~I40e323607b2ce50869f3bf11e4582ff83cbed1c0,openstack/nova,master,I40e323607b2ce50869f3bf11e4582ff83cbed1c0,xenapi: wait for agent resetnetwork response,MERGED,2012-08-07 23:26:39.000000000,2012-08-08 16:24:04.000000000,2012-08-08 16:24:03.000000000,12,9,0,11003,31f3383ae4953019267c67e4fbd2214b03bc8da8,xenapi-resetnetwork,7,4,1,2,100,Johannes Erdfelt,johannes.erdfelt,"xenapi: wait for agent resetnetwork response

Unlike every other agent command, the resetnetwork command would not
wait for a response. All failures were silently ignored. Change this
to at least log a message if an error occurs.

Change-Id: I40e323607b2ce50869f3bf11e4582ff83cbed1c0
"
openstack%2Fnova~master~Ibc4d8352c101dc3be11a765646d4ef701e330b50,openstack/nova,master,Ibc4d8352c101dc3be11a765646d4ef701e330b50,Fix a bug on db.instance_get_by_uuid in compute/manager.py,MERGED,2012-08-08 07:56:09.000000000,2012-08-08 15:23:19.000000000,2012-08-08 15:23:18.000000000,1,1,0,11013,906bf3a115321e0fdf5b0b97a09a7c7b832486eb,fix_bug_get_by_uuid,11,8,1,1,4458,Shane Wang,shane-wang,"Fix a bug on db.instance_get_by_uuid in compute/manager.py

The parameter for db.instance_get_by_uuid() is instance_uuid instead of instance.
Correct it in the code.

Change-Id: Ibc4d8352c101dc3be11a765646d4ef701e330b50
Signed-off-by: Shane Wang <shane.wang@intel.com>
"
openstack%2Fnova~master~I99fda0a49acce8c5c1f1b9a09bcaff24140aaf44,openstack/nova,master,I99fda0a49acce8c5c1f1b9a09bcaff24140aaf44,Fix invalid exception format strings,MERGED,2012-08-07 23:19:53.000000000,2012-08-08 15:17:07.000000000,2012-08-08 15:17:06.000000000,3,3,0,11002,39b7e7ea43448cec4f8cf78a514d06a381ceb432,exception-format,7,4,1,1,100,Johannes Erdfelt,johannes.erdfelt,"Fix invalid exception format strings

Some exception formation strings were missing the conversion type

Change-Id: I99fda0a49acce8c5c1f1b9a09bcaff24140aaf44
"
openstack%2Fnova~master~I9b4a848755425b1d1f6dbeabe07904a3e4e48c19,openstack/nova,master,I9b4a848755425b1d1f6dbeabe07904a3e4e48c19,Testing gerrit setup.,ABANDONED,2012-08-08 12:29:41.000000000,2012-08-08 12:33:19.000000000,,1,0,0,11019,86738bb84a561db5f4923e2d5843dc34a5d5a4e8,davetest/testing_gerrit,1,0,1,1,1882,dave-mcnally,dave-mcnally,"Testing gerrit setup.

Change-Id: I9b4a848755425b1d1f6dbeabe07904a3e4e48c19
"
openstack%2Fnova~stable%2Fdiablo~I7f7cdeeffadebae7451e1e13f73f1313a7df9c5c,openstack/nova,stable/diablo,I7f7cdeeffadebae7451e1e13f73f1313a7df9c5c,Prohibit file injection writing to host filesystem,MERGED,2012-08-07 13:13:58.000000000,2012-08-08 09:35:20.000000000,2012-08-08 09:35:19.000000000,19,1,0,10953,ed89587d525e0214cb367aa4632df45903c6ac09,bug/1031311,10,5,2,3,308,Thierry Carrez,ttx,"Prohibit file injection writing to host filesystem

This is a refinement of the previous fix in commit 2427d4a9,
which does the file name canonicalization as the root user.
This is required so that guest images could not for example,
protect malicious symlinks in a directory only readable by root.

Note this requires adding the 'readlink' binary to the
nova sudoers file.

Fixes bug: 1031311, CVE-2012-3447
Change-Id: I7f7cdeeffadebae7451e1e13f73f1313a7df9c5c
"
openstack%2Fhorizon~master~I76398e85f93bc508aaae056aca77c8103998c7b6,openstack/horizon,master,I76398e85f93bc508aaae056aca77c8103998c7b6,Added a check for None value in get_object_display,MERGED,2012-08-06 16:33:13.000000000,2012-08-08 06:13:27.000000000,2012-08-08 06:13:27.000000000,33,5,1,10901,68e612d37fe2e648f17469f8e92677081c1a2982,bug/1030641,9,4,2,3,2455,Tihomir Trifonov,ttrifonov,"Added a check for None value in get_object_display

When get_object_display returns None,
the concatenation of the list of display values fails.

Fixes bug 1030641

PATCH SET 2: Added function for joining of
lazy(proxy) strings(similar to string_concat)

Change-Id: I76398e85f93bc508aaae056aca77c8103998c7b6
"
openstack%2Fhorizon~master~I8b250804ad07027d40d554ad1e7ee0b5af63d466,openstack/horizon,master,I8b250804ad07027d40d554ad1e7ee0b5af63d466,Separate OpenStack exceptions from Horizon exceptions.,MERGED,2012-08-05 19:54:47.000000000,2012-08-08 06:13:25.000000000,2012-08-08 06:13:25.000000000,65,36,0,10853,30b58e2d03ecda7c8a227b10b4f014eeb7d4dd07,exception_cleanup,10,4,2,6,1816,Gabriel Hurley,gabriel-hurley,"Separate OpenStack exceptions from Horizon exceptions.

Placing the OpenStack exception class definitions into their
own module inside the openstack_dashboard project allows
more flexibility for deployers and others who might wish
to use the horizon module for non-OpenStack Django projects.

The patch also contains two tiny cleanup items in the
templatetag files.

Change-Id: I8b250804ad07027d40d554ad1e7ee0b5af63d466
"
openstack%2Ftempest~master~Ifa835de130fed3264e53dd75a8f8209d00fc3278,openstack/tempest,master,Ifa835de130fed3264e53dd75a8f8209d00fc3278,Match name of test class to filename. Fixes bug 1006193.,MERGED,2012-08-06 13:50:24.000000000,2012-08-08 06:04:34.000000000,2012-08-08 06:04:34.000000000,2,2,0,10884,779e492c26a34dde7caa5430c05805b95f9b46b7,bug/1006193,7,3,1,1,1192,David Kranz,david-kranz,"Match name of test class to filename. Fixes bug 1006193.

Change-Id: Ifa835de130fed3264e53dd75a8f8209d00fc3278
"
openstack%2Fnova~master~Ibb9d7484b9d11a6904cc9e2a8dde6d9164ee05b1,openstack/nova,master,Ibb9d7484b9d11a6904cc9e2a8dde6d9164ee05b1,fix the qpid_heartbeat option so that it's effective,ABANDONED,2012-07-29 11:34:35.000000000,2012-08-08 06:03:04.000000000,,1,1,0,10490,63bfb779863c46a46170785f5ead814105971547,bug/1030430,12,7,1,1,1812,p-draigbrady,p-draigbrady,"fix the qpid_heartbeat option so that it's effective

The 'hearbeat' typo caused this setting to be ineffective.

Present Since: essex-1-861-gbe96c43
Fixes bug: 1030430
Change-Id: Ibb9d7484b9d11a6904cc9e2a8dde6d9164ee05b1
"
openstack%2Fnova~master~Ie93bcd48fa21d01b738efa41853ba12974710553,openstack/nova,master,Ie93bcd48fa21d01b738efa41853ba12974710553,Adds XAPI SR shared option support.,ABANDONED,2012-07-31 02:00:55.000000000,2012-08-08 06:03:02.000000000,,70,16,19,10580,258574990693566783525c080236e45041fa9637,Xapi-SR-shared-option-add,58,7,13,4,5112,Seyeong Kim,xtrusia,"Adds XAPI SR shared option support.

Implements SR shared option when volume create or introduce to xenserver

there was hard coded False in SR shared option code
so if you wanted to use nfs or something, you have to set manually in xencenter or xe.
if this patch accepted
you can use
below command is working (eg)
nova-manage sm backend_add flavor nfs name_label=nova-nfs server=xxx.xxx.xxx.xxx serverpath=/nfs_path ''shared=true''

and then don't have to be set manually.

Change-Id: Ie93bcd48fa21d01b738efa41853ba12974710553
"
openstack%2Foslo-incubator~master~I3fc0609bbd3936ce09565052458fd15c633b662b,openstack/oslo-incubator,master,I3fc0609bbd3936ce09565052458fd15c633b662b,Patch set 2,ABANDONED,2012-08-08 06:03:01.000000000,2012-08-08 06:03:01.000000000,,4,5,0,10220,672f75b73c7db081660ac86b62d01ef49c2b8d1d,bp/999307,5,3,1,1,4598,Giampaolo Lauria,lauria,"Patch set 2

Change-Id: I3fc0609bbd3936ce09565052458fd15c633b662b
"
openstack%2Fnova~master~Ic5420b4177af544b832be8a4f91bc2879edc45f8,openstack/nova,master,Ic5420b4177af544b832be8a4f91bc2879edc45f8,Update tools,ABANDONED,2012-07-24 01:37:14.000000000,2012-08-08 06:03:01.000000000,,1,1,0,10198,99edda80af433fb32e5b74b7d89078881473926b,master,6,4,1,1,24,Chuck Short,zulcss,"Update tools

Update webob to >= 1.0.8, <1.3

Change-Id: Ic5420b4177af544b832be8a4f91bc2879edc45f8
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fnova~stable%2Fdiablo~I134c40258ff2c9c225bd6092decd9c10e4e22273,openstack/nova,stable/diablo,I134c40258ff2c9c225bd6092decd9c10e4e22273,Prevent key/net/md injection writing to host fs,MERGED,2012-07-03 14:39:42.000000000,2012-08-08 05:27:44.000000000,2012-08-08 05:27:43.000000000,59,12,2,9268,1e218105b08b1afdf944fc77af91c2cadf90b6e2,bug/1015531,19,7,1,2,308,Thierry Carrez,ttx,"Prevent key/net/md injection writing to host fs

Fix bug 1015531, CVE-2012-3361

Checks that the final normalized path that is about to be written
to is always within the mounted guest filesystem.

This is a Diablo backport of the part of Russell Bryant, Pdraig Brady
and Mark McLoughlin's Folsom patch that applies to stable/diablo.

Change-Id: I134c40258ff2c9c225bd6092decd9c10e4e22273
"
openstack%2Fnova~stable%2Fdiablo~Iec5cb6aa97165289dbb5b73eab0f61fed2d15d0e,openstack/nova,stable/diablo,Iec5cb6aa97165289dbb5b73eab0f61fed2d15d0e,Backported tox.ini for jenkins.,MERGED,2012-06-28 05:04:32.000000000,2012-08-08 05:27:19.000000000,2012-08-08 05:27:18.000000000,411,68,0,9093,d60e0f7da78e2f9c627073797ff4f0d2bc6df3d3,test_diablo,50,5,9,14,2,Monty Taylor,mordred,"Backported tox.ini for jenkins.

jtra: Fixed so that tests will pass
jeblair: minor change to test_instance_types.py
  to avoid munging nose internals (which collides
  with nose xunit).

Change-Id: Iec5cb6aa97165289dbb5b73eab0f61fed2d15d0e
"
openstack%2Fpython-glanceclient~master~Ife6e9e47ece3971a3872e781a39e30bcb38e3bf7,openstack/python-glanceclient,master,Ife6e9e47ece3971a3872e781a39e30bcb38e3bf7,legacy_shell.py shouldn't be executable,MERGED,2012-08-08 03:30:24.000000000,2012-08-08 03:57:37.000000000,2012-08-08 03:57:37.000000000,0,0,0,11010,62098527b932bd8b8cdd5328269ec0c89a0bd74d,master,6,2,1,1,1132,Brian Waldon,bcwaldon,"legacy_shell.py shouldn't be executable

Change-Id: Ife6e9e47ece3971a3872e781a39e30bcb38e3bf7
"
openstack%2Fneutron~master~I81c2e6adb02921e8b80f8181a730b1cba9ffa649,openstack/neutron,master,I81c2e6adb02921e8b80f8181a730b1cba9ffa649,Implementation of bp per-net-dhcp-enable,MERGED,2012-08-08 03:38:54.000000000,2012-08-08 03:38:54.000000000,2012-08-08 03:38:54.000000000,246,26,33,10320,de1d7d953772e3667c75caacd8a44f7026f88228,bp/per-net-dhcp-enable,69,10,19,9,2531,Xu Chen,xchenum,"Implementation of bp per-net-dhcp-enable

Change-Id: I81c2e6adb02921e8b80f8181a730b1cba9ffa649
"
openstack%2Ftempest~master~I13a0e50dc2b894a9aed7e31196b2dc4cbd38078a,openstack/tempest,master,I13a0e50dc2b894a9aed7e31196b2dc4cbd38078a,Resolves lp#1033757,MERGED,2012-08-07 04:01:51.000000000,2012-08-08 02:04:10.000000000,2012-08-08 02:04:10.000000000,2,1,0,10937,6427e7d22cf9bcc4dc036d2094f9ff009dbc73b4,bug/1033757,11,3,1,1,97,Daryl Walleck,dwalleck,"Resolves lp#1033757

* Added no_cache=True to novaclient instance

Change-Id: I13a0e50dc2b894a9aed7e31196b2dc4cbd38078a
"
openstack%2Ftempest~master~I55937b68fa3193bac0441a63e8c979f5c418ffa3,openstack/tempest,master,I55937b68fa3193bac0441a63e8c979f5c418ffa3,Skip whitebox tests until they are fixed.,MERGED,2012-08-07 20:12:11.000000000,2012-08-08 01:37:17.000000000,2012-08-08 01:37:17.000000000,3,0,0,10992,a55ab261b167117dee48896cc52c6bac6cfd0699,fixes,8,3,3,1,1192,David Kranz,david-kranz,"Skip whitebox tests until they are fixed.

Change-Id: I55937b68fa3193bac0441a63e8c979f5c418ffa3
"
openstack%2Fglance~master~Id5fdb7977692593fd6c2e203f0440d4aa5339d92,openstack/glance,master,Id5fdb7977692593fd6c2e203f0440d4aa5339d92,Handle images which exist but can't be seen.,MERGED,2012-07-29 00:07:26.000000000,2012-08-08 01:22:57.000000000,2012-08-08 01:22:56.000000000,30,10,2,10476,7335088d896442e961c07e71bbb67ffd98f1f87a,bug/1030396,28,6,5,1,2271,Michael Still,mikalstill,"Handle images which exist but can't be seen.

If the master and the slave glance have different permissions, you
can end up with a 409 exception at upload. For example:

 - the image is visible to the replication user on the master
 - the image is present on the slave, but not visible to the
   replication user

The replicator checks for the existance of the image by doing a HEAD
on http://server:port/v1/images/uuid and gets a 404 back. It therefore
decides the image doesn't exist and that it should be replicated. It
does a POST for that URL, and gets a 409 back saying that UUID is
already in use.

Resolves bug 1030396.

Change-Id: Id5fdb7977692593fd6c2e203f0440d4aa5339d92
"
openstack%2Fpython-neutronclient~master~I54b6912e2c4044ba70aaf604cd79520022de262f,openstack/python-neutronclient,master,I54b6912e2c4044ba70aaf604cd79520022de262f,Add name or id to quantum cli commands. Bug #1030180,MERGED,2012-08-08 01:11:22.000000000,2012-08-08 01:11:22.000000000,2012-08-08 01:11:22.000000000,303,134,11,10452,defb5481b0e7e2469405de98e6dd49ed239ef986,bug/1030180,20,5,5,9,2874,yong sheng gong,gongysh,"Add name or id to quantum cli commands.
Bug #1030180

We first lookup the resource id via id if it looks like an id.
If we cannot find it via id, we will look it up via name.
All of the update/show/delete support reference resource via name or id.
To create port/subnet, we can refercen network via network's name.
Also in port creation, we support reference subnet in fixed_ip via its name.

quantum_test.sh is added to test the command lines after running 'python setup.py install'

Change-Id: I54b6912e2c4044ba70aaf604cd79520022de262f
"
openstack%2Fglance~stable%2Fessex~I85a26b4e645e7cb32e17164e47fad62f4c44976a,openstack/glance,stable/essex,I85a26b4e645e7cb32e17164e47fad62f4c44976a,Process umask shouldn't allow world-readable files,ABANDONED,2012-08-06 05:07:59.000000000,2012-08-08 01:06:41.000000000,,1,0,0,10863,aeed82f1ef0920fea322f9cb50924506daf53153,bug/1031796,5,4,1,1,1132,Brian Waldon,bcwaldon,"Process umask shouldn't allow world-readable files

This ensures that image cache files and file-backed
images are not world-readable.

Fix LP bug 1031796

Change-Id: I85a26b4e645e7cb32e17164e47fad62f4c44976a
"
openstack%2Fglance~stable%2Fessex~Ibbfe46d065575b1954a47b3a28c61151dfb1e06e,openstack/glance,stable/essex,Ibbfe46d065575b1954a47b3a28c61151dfb1e06e,Use event.listen() instead of deprecated listeners kwarg.,ABANDONED,2012-08-06 05:06:21.000000000,2012-08-08 01:05:30.000000000,,13,12,1,10862,27c5927950d7cb49169198328063de444cb836cb,bug/1031405,4,3,1,1,1132,Brian Waldon,bcwaldon,"Use event.listen() instead of deprecated listeners kwarg.

The listeners kwarg is deprecated in SQLAlchemy 0.7.0. Since 0.7.3 is
the minimum required version of SQLAlchemy, use the new event.listen()
API instead.

Fixes bug 1031405 specifically for stable/essex

Change-Id: Ibbfe46d065575b1954a47b3a28c61151dfb1e06e
"
openstack%2Fglance~stable%2Fessex~I3e9ffa9a97b57912d922ffadce31ed1ce0261fb4,openstack/glance,stable/essex,I3e9ffa9a97b57912d922ffadce31ed1ce0261fb4,Set deleted_at field when image members and properties are deleted.,ABANDONED,2012-08-06 04:57:04.000000000,2012-08-08 01:04:10.000000000,,2,4,0,10861,d8c53f1a058cd3b232fa1837ede2208dc71042f3,bug/1028101,4,3,1,1,1132,Brian Waldon,bcwaldon,"Set deleted_at field when image members and properties are deleted.

fixes bug 1028101 specifically for stable/essex

Change-Id: I3e9ffa9a97b57912d922ffadce31ed1ce0261fb4
"
openstack%2Fkeystone~stable%2Fessex~Id20de09f981f5389afbb9622ade9de7d4f3fd015,openstack/keystone,stable/essex,Id20de09f981f5389afbb9622ade9de7d4f3fd015,Open 2012.1.2 development,MERGED,2012-08-07 23:46:07.000000000,2012-08-08 00:03:44.000000000,2012-08-08 00:03:43.000000000,1,1,0,11006,afc37aeb10638807c9839fcc6f403b34029662a5,stable/essex,4,2,1,1,1247,Mark McLoughlin,markmc,"Open 2012.1.2 development

Bump version to 2012.1.2 to formally open development of the next
Essex stable update release.

See http://wiki.openstack.org/StableBranchRelease

Change-Id: Id20de09f981f5389afbb9622ade9de7d4f3fd015
"
openstack%2Fcinder~master~I22a6d2bdee6ad2c5ad587ceec574cec4b2887f22,openstack/cinder,master,I22a6d2bdee6ad2c5ad587ceec574cec4b2887f22,Deprecate root_helper in favor of rootwrap_config,MERGED,2012-08-03 13:38:09.000000000,2012-08-07 23:49:59.000000000,2012-08-07 23:49:59.000000000,18,4,0,10772,2b2c97eb5ca332ce7d1f83e4fd2e81fabe0acb66,align-rootwrap,8,4,1,3,308,Thierry Carrez,ttx,"Deprecate root_helper in favor of rootwrap_config

Align with recent changes in nova-rootwrap by marking the
root_helper option deprecated and introduce usage of the
rootwrap_config option instead. The root_helper option will still
fully be supported in Folsom, but will be removed in Grizzly.

Transition notes: you should replace:
root_helper=sudo cinder-rootwrap /etc/cinder/rootwrap.conf

by:
rootwrap_config=/etc/cinder/rootwrap.conf

Change-Id: I22a6d2bdee6ad2c5ad587ceec574cec4b2887f22
"
openstack%2Fglance~stable%2Fessex~I2e9eb66052d8ce34438a4c1ba7a5174cc2385bcf,openstack/glance,stable/essex,I2e9eb66052d8ce34438a4c1ba7a5174cc2385bcf,Remove microseconds before time format conversion.,MERGED,2012-08-06 04:55:05.000000000,2012-08-07 23:49:58.000000000,2012-08-07 23:49:57.000000000,4,1,3,10860,5fa9821cd2f03e85a1662efdf100b6438d20a39d,bug/1022369,14,4,1,1,1132,Brian Waldon,bcwaldon,"Remove microseconds before time format conversion.

Updates Glance scrubber so that it chops microseconds off of the
date format before parsing a time format string. This fixes
an exceptions that can occur when using scrubber with databases
like PostgreSQL which include microseconds in date strings.

Fixes LP Bug #1022369.

Change-Id: I2e9eb66052d8ce34438a4c1ba7a5174cc2385bcf
"
openstack%2Fnova~master~I2042a9fd7f28908a45d93b00bc5bd4b580c24977,openstack/nova,master,I2042a9fd7f28908a45d93b00bc5bd4b580c24977,Cleanup consoles test cases,MERGED,2012-08-07 20:04:39.000000000,2012-08-07 23:19:09.000000000,2012-08-07 23:19:08.000000000,1,3,0,10990,d7cdd5d98520d1ab60cd0de88548f0af07c8d1dc,consoles-test,7,4,1,1,100,Johannes Erdfelt,johannes.erdfelt,"Cleanup consoles test cases

compute.API.get() is already stubbed to fake_get() in the setUp method,
it's unnecessary to do it again.

Change-Id: I2042a9fd7f28908a45d93b00bc5bd4b580c24977
"
openstack%2Fhorizon~master~Idd1d0ac31ca132ce09afb49c0e9221997232cfc2,openstack/horizon,master,Idd1d0ac31ca132ce09afb49c0e9221997232cfc2,Added breadcrumb selector for swift subfolders,MERGED,2012-08-03 13:14:09.000000000,2012-08-07 23:19:01.000000000,2012-08-07 23:19:01.000000000,50,3,0,10771,127565031b5406689dd8e165f74fd1edb79084cb,bug/1009970,10,3,1,3,2455,Tihomir Trifonov,ttrifonov,"Added breadcrumb selector for swift subfolders

Fixes bug 1009970

Change-Id: Idd1d0ac31ca132ce09afb49c0e9221997232cfc2
"
openstack%2Fnova~stable%2Fessex~I57b0a0a42dac455d5baae3d726aea1507121aa4d,openstack/nova,stable/essex,I57b0a0a42dac455d5baae3d726aea1507121aa4d,Drop AES functions and pycrypto dependency,MERGED,2012-08-05 11:55:44.000000000,2012-08-07 23:18:42.000000000,2012-08-07 23:18:41.000000000,0,58,0,10848,e8ef050bd37c2cdf7b47d5cd2b4ed1d4359898b6,bug/1033178,8,5,1,3,1812,p-draigbrady,p-draigbrady,"Drop AES functions and pycrypto dependency

At some point IV parameter has been removed making these functions
dangerous to use unless keys are unique on every message. Since the
functions were added the original consumer has disappeared too. With
no more users it's better to get rid of the incomplete encryption system
entirely.

These were the only functions using pycrypto module directly, so it was
also removed from the dependency list.

Fixes bug: 1033178
Change-Id: I57b0a0a42dac455d5baae3d726aea1507121aa4d
(cherry picked from commit 56d3d29ad2451bd0e753e7878827a08b458b726b)
"
openstack%2Fnova~master~I5d46c4c4253a4d9e74a52192d1e6244843d11711,openstack/nova,master,I5d46c4c4253a4d9e74a52192d1e6244843d11711,Update devref for general host aggregates,MERGED,2012-08-02 18:54:17.000000000,2012-08-07 22:57:34.000000000,2012-08-07 22:57:33.000000000,11,5,1,10734,0e6fc4f4ddca1ea76f9f03ef03d960cad888c810,bp/general-host-aggregates,14,6,2,1,1849,Joe Gordon,jogo,"Update devref for general host aggregates

Update devref to explain the new definition of host aggregates.
part of blueprint general-host-aggregates

Change-Id: I5d46c4c4253a4d9e74a52192d1e6244843d11711
"
openstack%2Fdevstack~stable%2Fdiablo~I82c005bbab9640642846793d25d36b776c8c897e,openstack/devstack,stable/diablo,I82c005bbab9640642846793d25d36b776c8c897e,Check NOVA_USERNAME instead of USERNAME in openrc.,MERGED,2012-08-06 21:14:48.000000000,2012-08-07 22:55:40.000000000,2012-08-07 22:55:40.000000000,2,2,0,10918,91a99522625c746785f0f9cadf02b7fdab90b032,username,15,5,1,1,1,James E. Blair,corvus,"Check NOVA_USERNAME instead of USERNAME in openrc.

Normally, NOVA_USERNAME should be set to demo, but in some cases
it was being set to the running user (""stack"") because it was
checking USERNAME as a possible default value.

This aligns with the pattern currently in master (for OS_USERNAME)
in that it uses either the value of NOVA_USERNAME or ""demo"".

This problem was identified by John Tran.

Change-Id: I82c005bbab9640642846793d25d36b776c8c897e
"
openstack%2Fnova~stable%2Fessex~Ibb9d7484b9d11a6904cc9e2a8dde6d9164ee05b1,openstack/nova,stable/essex,Ibb9d7484b9d11a6904cc9e2a8dde6d9164ee05b1,fix the qpid_heartbeat option so that it's effective,MERGED,2012-07-30 00:55:45.000000000,2012-08-07 22:44:10.000000000,2012-08-07 22:44:09.000000000,1,1,0,10509,f8255f3c02978a770b0e055dccd74b9fca0635e7,bug/1030430,10,4,1,1,1812,p-draigbrady,p-draigbrady,"fix the qpid_heartbeat option so that it's effective

The 'hearbeat' typo caused this setting to be ineffective.

Present Since: essex-1-861-gbe96c43
Fixes bug: 1030430
Change-Id: Ibb9d7484b9d11a6904cc9e2a8dde6d9164ee05b1
"
openstack%2Fglance~stable%2Fessex~Ieacfd397939b77246e8c89214cbe902c3ed3e28c,openstack/glance,stable/essex,Ieacfd397939b77246e8c89214cbe902c3ed3e28c,Include chunk_name in swift debug message,MERGED,2012-08-03 21:34:24.000000000,2012-08-07 22:44:02.000000000,2012-08-07 22:44:01.000000000,5,5,0,10796,28e5ba9dd933282321a267a3203b29036118a010,bug/1028433,13,5,1,1,1132,Brian Waldon,bcwaldon,"Include chunk_name in swift debug message

Add chunk_name to swift upload debug message. Helps
to track which image the chunk is part of when several
uploads are occurring.

Fixes LP bug #1028433.

Change-Id: Ieacfd397939b77246e8c89214cbe902c3ed3e28c
"
openstack%2Fnova~master~Icc3b288d1aae12eb264b2be7fc8f9465d568af74,openstack/nova,master,Icc3b288d1aae12eb264b2be7fc8f9465d568af74,Return 409 error if get_vnc_console is called before VM is created,MERGED,2012-08-07 20:00:47.000000000,2012-08-07 22:43:43.000000000,2012-08-07 22:43:42.000000000,39,1,0,10989,26b1523eba3805a497c23e3b6707a85670ee11be,bug/1034117,7,4,1,4,100,Johannes Erdfelt,johannes.erdfelt,"Return 409 error if get_vnc_console is called before VM is created

Fixes bug 1034117

In the xenapi driver, the URL returned for a VNC console will include
information to locate the particular VM on the dom0, however the VM isn't
create until part way through the build process. This leaves a window
where a 404 error could be returned by the os-getVNCConsole action.
Change this to return a 409 meaning it's not ready yet.

Change-Id: Icc3b288d1aae12eb264b2be7fc8f9465d568af74
"
openstack%2Fnova~master~Ice2b7d3bd490ab9bf14450d765151dd234c0e064,openstack/nova,master,Ice2b7d3bd490ab9bf14450d765151dd234c0e064,Check against unexpected method call,MERGED,2012-08-07 14:54:13.000000000,2012-08-07 22:36:29.000000000,2012-08-07 22:36:28.000000000,1,1,1,10967,2dfb74083d86b288f36611c36e4f1261fa5e2a43,deprecate,12,6,3,1,1711,Yun Mao,yunmao,"Check against unexpected method call

Unexpected method call was counted but never asserted.

Change-Id: Ice2b7d3bd490ab9bf14450d765151dd234c0e064
"
openstack%2Fnova~master~I02e6a5f2354f2e9ae8ea403b43359eb1bc8bae27,openstack/nova,master,I02e6a5f2354f2e9ae8ea403b43359eb1bc8bae27,Remove temporary hack from checks_instance_lock.,MERGED,2012-08-06 23:07:57.000000000,2012-08-07 22:34:24.000000000,2012-08-07 22:34:23.000000000,21,44,0,10927,0bfe1fd5639d1e1bb62bc8de1d868efa6214d922,bp/no-db-messaging,9,4,2,2,1561,Russell Bryant,russellb,"Remove temporary hack from checks_instance_lock.

The checks_instance_lock decorator was temporarily made a mess of while
the compute manager was being converted over to taking an instance
instead of instance_uuid as a parameter.  Now that all methods that use
this decorator have been converted, the code can be simplified.

The _get_lock() method was updated to only look up an instance from the
db if necessary.  One of the unit tests had to be updated to account for
this.  These changes illustrate a good point about all of these
no-db-messaging patches.  Aside from silly typos, the types of bugs most
likely to occur due to these changes are due to code looking at stale
instance state since the state is being pulled out of the database less
often.  Hopefully I've caught everything, but it was worth pointing out
as something others should be aware of.

Part of blueprint no-db-messaging.

Change-Id: I02e6a5f2354f2e9ae8ea403b43359eb1bc8bae27
"
openstack%2Fglance~stable%2Fessex~I735d355891fcbd6b1db088b218b8fd808b8908e1,openstack/glance,stable/essex,I735d355891fcbd6b1db088b218b8fd808b8908e1,Make image.upload notification send up2date metadata,MERGED,2012-08-03 21:31:12.000000000,2012-08-07 22:10:43.000000000,2012-08-07 22:10:43.000000000,5,3,0,10795,504eeccf33f4fb724de0fceaf39793bd7f69dd54,bug/1018246,7,5,1,1,1132,Brian Waldon,bcwaldon,"Make image.upload notification send up2date metadata

The dictionary passed is not updated with image size, etc.

Fixes bug 1018246

Change-Id: I735d355891fcbd6b1db088b218b8fd808b8908e1
"
openstack%2Fhorizon~master~Id9fb7d278e7cb48d923e2a0dd5cc6dd524a7b073,openstack/horizon,master,Id9fb7d278e7cb48d923e2a0dd5cc6dd524a7b073,"Separate ""modal"" behavior from ""self-handling"" in forms.",MERGED,2012-08-05 20:52:16.000000000,2012-08-07 21:31:26.000000000,2012-08-07 21:31:26.000000000,19,16,2,10854,9ac1f9b4d003f099974580b214cd85abd75cee76,form_mixins,10,4,3,3,1816,Gabriel Hurley,gabriel-hurley,"Separate ""modal"" behavior from ""self-handling"" in forms.

Splits behaviors related to a form being modal from the
requirement that the form also be self-handling by making
the component classes into mixins. This allows mixing
modal capabilities into other generic form classes.

Change-Id: Id9fb7d278e7cb48d923e2a0dd5cc6dd524a7b073
"
openstack%2Fglance~stable%2Fessex~Ia2cdb7185e8ec92ca6e587678a688d23a5ac0221,openstack/glance,stable/essex,Ia2cdb7185e8ec92ca6e587678a688d23a5ac0221,fix the qpid_heartbeat option so that it's effective,MERGED,2012-08-03 21:27:50.000000000,2012-08-07 21:07:03.000000000,2012-08-07 21:07:02.000000000,2,1,0,10794,51850ba161374c0f2eb73f58869f0834b921b800,bug/1032314,10,4,2,2,1132,Brian Waldon,bcwaldon,"fix the qpid_heartbeat option so that it's effective

The 'hearbeat' typo caused this setting to be ineffective.

Fixes bug: 1032314
Change-Id: Ia2cdb7185e8ec92ca6e587678a688d23a5ac0221
"
openstack%2Fglance~stable%2Fessex~I8676a1281bd132d282b206730b12064b50805ef1,openstack/glance,stable/essex,I8676a1281bd132d282b206730b12064b50805ef1,Stop revealing sensitive store info,MERGED,2012-08-03 21:22:32.000000000,2012-08-07 21:07:00.000000000,2012-08-07 21:07:00.000000000,29,15,0,10793,19c07722e6437d97082176172b8ef41389676782,bug/1012268,7,3,1,6,1132,Brian Waldon,bcwaldon,"Stop revealing sensitive store info

Use simpler error messages in exception.BadStoreUri
and log the details.

Fixes bug 1012268 specifically for stable/essex

Change-Id: I8676a1281bd132d282b206730b12064b50805ef1
"
openstack%2Fglance~stable%2Fessex~I6d939876a4c4bf5f191463f5ca434fc524a6ac59,openstack/glance,stable/essex,I6d939876a4c4bf5f191463f5ca434fc524a6ac59,Allow admins to share images regardless of owner.,MERGED,2012-08-06 05:14:04.000000000,2012-08-07 21:06:53.000000000,2012-08-07 21:06:53.000000000,7,7,0,10864,25c0bfd2da635403ea2616ed9e813eb8adf48572,bug/1021054,6,2,1,2,1132,Brian Waldon,bcwaldon,"Allow admins to share images regardless of owner.

Updates the Glance DB's is_image_sharable function so that
an admin can share an image regardless of the context ownership.

This fixes issues when trying to write Glance functional tests
which use the noauth middleware (UnauthenticatedContextMiddleware).

The motivation behind this change is I'd like to write some
functional tests for image-members that work with noauth.

Fix bug 1021054

Change-Id: I6d939876a4c4bf5f191463f5ca434fc524a6ac59
"
openstack%2Fnova~stable%2Fessex~I7f7cdeeffadebae7451e1e13f73f1313a7df9c5c,openstack/nova,stable/essex,I7f7cdeeffadebae7451e1e13f73f1313a7df9c5c,Prohibit file injection writing to host filesystem,MERGED,2012-08-07 12:58:18.000000000,2012-08-07 20:03:07.000000000,2012-08-07 20:03:06.000000000,23,1,0,10952,d9577ce9f266166a297488445b5b0c93c1ddb368,bug/1031311,13,6,4,4,308,Thierry Carrez,ttx,"Prohibit file injection writing to host filesystem

This is a refinement of the previous fix in commit 2427d4a9,
which does the file name canonicalization as the root user.
This is required so that guest images could not for example,
protect malicious symlinks in a directory only readable by root.

Fixes bug: 1031311, CVE-2012-3447
Change-Id: I7f7cdeeffadebae7451e1e13f73f1313a7df9c5c
"
openstack%2Fdevstack~master~Ifdc134c20ab7d6bfb885ffa1b26a33b6dd3557d5,openstack/devstack,master,Ifdc134c20ab7d6bfb885ffa1b26a33b6dd3557d5,Turn off whitebox tests until their failure is understood and fixed.,ABANDONED,2012-08-07 19:35:35.000000000,2012-08-07 19:40:01.000000000,,1,1,0,10988,1e6a69eca6d893011b22ee0737cd21b16d5ff95f,master,1,0,1,1,1192,David Kranz,david-kranz,"Turn off whitebox tests until their failure is understood and fixed.

Change-Id: Ifdc134c20ab7d6bfb885ffa1b26a33b6dd3557d5
"
openstack%2Fkeystone~master~I2f4f7b0ea42040994bd8e1711ccbbb6d690c868f,openstack/keystone,master,I2f4f7b0ea42040994bd8e1711ccbbb6d690c868f,Implement python version of migration 002.,MERGED,2012-07-31 02:21:43.000000000,2012-08-07 19:34:48.000000000,2012-08-07 19:34:48.000000000,43,5,2,10581,9d5261cfeb1854a02fcd3eb802bc1ba47ef79f1b,bug/1031164,8,5,1,3,360,Dan Prince,dan-prince,"Implement python version of migration 002.

This patch adds a python version of keystone migration 002 which
supports MySQL and PostgreSQL. SQLite still uses manual .sql files
for now...

Fixes LP Bug #1031164.

Change-Id: I2f4f7b0ea42040994bd8e1711ccbbb6d690c868f
"
openstack%2Fnova~master~I7f7cdeeffadebae7451e1e13f73f1313a7df9c5c,openstack/nova,master,I7f7cdeeffadebae7451e1e13f73f1313a7df9c5c,Prohibit file injection writing to host filesystem,MERGED,2012-08-07 12:55:08.000000000,2012-08-07 19:34:30.000000000,2012-08-07 19:34:29.000000000,36,17,0,10951,ce4b2e27be45a85b310237615c47eb53f37bb5f3,bug/1031311,19,5,4,3,308,Thierry Carrez,ttx,"Prohibit file injection writing to host filesystem

This is a refinement of the previous fix in commit 2427d4a9,
which does the file name canonicalization as the root user.
This is required so that guest images could not for example,
protect malicious symlinks in a directory only readable by root.

Fixes bug: 1031311, CVE-2012-3447
Change-Id: I7f7cdeeffadebae7451e1e13f73f1313a7df9c5c
"
openstack%2Fnova~master~I496d58137ef720ff31acc70a2b7acc670a088ce6,openstack/nova,master,I496d58137ef720ff31acc70a2b7acc670a088ce6,Remove temporary hack from wrap_instance_fault.,MERGED,2012-08-04 04:38:30.000000000,2012-08-07 18:14:34.000000000,2012-08-07 18:14:33.000000000,11,37,0,10825,24cfd0d6f2667d65f81b43fc76af71fd33b78de7,bp/no-db-messaging,35,5,4,2,1561,Russell Bryant,russellb,"Remove temporary hack from wrap_instance_fault.

The wrap_instance_fault decorator had a temporary hack in place while
methods in the compute manager were being converted to be able to take
an instance instead of an instance_uuid.  Now that it's done, the
decorator can be simplified.

Part of blueprint no-db-messaging.

Change-Id: I496d58137ef720ff31acc70a2b7acc670a088ce6
"
openstack%2Fcinder~master~I10407ff3f5babe64e88f445d3529269b7665ee16,openstack/cinder,master,I10407ff3f5babe64e88f445d3529269b7665ee16,Use volume driver specific execeptions.,MERGED,2012-08-06 07:27:35.000000000,2012-08-07 17:37:11.000000000,2012-08-07 17:37:11.000000000,118,89,1,10867,3905a9902606871bbe92fe7c48480db3349ea316,VolDriverException,12,6,2,10,4418,Ronen Kat,ronenkat,"Use volume driver specific execeptions.

Change generic use of exception.Error in the cinder/volume directory
to specific exceptions. The exceptions used in this patch are:
exception.VolumeBackendAPIException
exception.InvalidInput
exception.InvalidVolume
exceptio.VolumeAtatched
Patch includes updates to the appropriate tests as well.

Change-Id: I10407ff3f5babe64e88f445d3529269b7665ee16
"
openstack%2Fdevstack~master~I0dde2dffbf3848fac1dd27eb37af84c0ac73d9aa,openstack/devstack,master,I0dde2dffbf3848fac1dd27eb37af84c0ac73d9aa,enable testing of openvz guests,MERGED,2012-07-26 00:35:18.000000000,2012-08-07 17:37:10.000000000,2012-08-07 17:37:10.000000000,92,31,6,10317,c0c6f00698ca88f3c88f90ba211b234096eb3ac6,add-openvz-support,18,6,4,6,2889,Aeva Black,tenbrae,"enable testing of openvz guests

This patch adds several options to allow using OpenVZ virt layer.
- modifies stack.sh and stackrc to recognize a new VIRT_TYPE option
- set IMAGE_URLS to an openvz image, if VIRT_TYPE == openvz

It also makes a few changes to some tests so that some implicit
defaults (such as the guest user account) can be overridden.

Change-Id: I0dde2dffbf3848fac1dd27eb37af84c0ac73d9aa
"
openstack%2Fnova~master~I2adfd7fdfdf47b70ef170a2daa28926764cf0337,openstack/nova,master,I2adfd7fdfdf47b70ef170a2daa28926764cf0337,Remove deprecated use Exception.message,MERGED,2012-08-07 14:37:06.000000000,2012-08-07 17:36:51.000000000,2012-08-07 17:36:51.000000000,3,3,2,10965,820ac93531b4f7254cd73b7e98b93dbf361e173f,deprecate,17,7,2,1,1711,Yun Mao,yunmao,"Remove deprecated use Exception.message

This usage is deprecated since Python 2.6. Use the recommended
style instead. str is also replaced with unicode.

Change-Id: I2adfd7fdfdf47b70ef170a2daa28926764cf0337
"
openstack%2Fnova~master~Ic986ee5fe21a0927c1aa2f8c94420fe30127d088,openstack/nova,master,Ic986ee5fe21a0927c1aa2f8c94420fe30127d088,Fixes parameter passing to tgt-admin for iscsi,MERGED,2012-08-06 21:30:58.000000000,2012-08-07 17:33:40.000000000,2012-08-07 17:33:39.000000000,2,2,2,10920,3222ba2728dbf1d0760c5dbe0c8b77c73936ee80,bug/1033670,21,9,2,1,2535,renukaapte,renukaapte,"Fixes parameter passing to tgt-admin for iscsi

Fixes bug 1033670

The change to add persistent volumes for tgtd 1ba3dfec,
passes parameters as '--conf %s' % volume_path,
'--update %s' % vol_id etc. which cause the tgt-admin command
to fail silently because the options are misquoted.

Instead pass as '--conf', volume_path

Change-Id: Ic986ee5fe21a0927c1aa2f8c94420fe30127d088
"
openstack%2Fnova~master~If9c4616a50d7ec6c7a7e4adad58dc2fdcfc3ffdf,openstack/nova,master,If9c4616a50d7ec6c7a7e4adad58dc2fdcfc3ffdf,Update RPC code from common,MERGED,2012-08-06 23:52:49.000000000,2012-08-07 17:29:00.000000000,2012-08-07 17:29:00.000000000,40,31,0,10930,23c63e08e8e068c9913a95171773cba5052fd15b,master,19,7,1,6,159,Eric Windisch,ewindisch,"Update RPC code from common

* Fix impl_zmq following common migration.
A number of problems have been discovered with impl_zmq
following the move to common. These problems have been
resolved in openstack-common. This patch squashes those
changes and brings them into Nova.

* rpc/common - Removes conf argument where it was no longer necessary.

* AMQP - Fix import order

* Qpid - Fix heartbeat

* __init__ - Fix line length, pep8

* proxy -
Enable fanout_cast and fanout_cast_to_server to provide topic

Change-Id: If9c4616a50d7ec6c7a7e4adad58dc2fdcfc3ffdf
"
openstack%2Fnova~master~I754c52f91a44c18d0756caa7154a807973ad4e91,openstack/nova,master,I754c52f91a44c18d0756caa7154a807973ad4e91,Fix up some instance_uuid usage.,MERGED,2012-08-04 04:31:48.000000000,2012-08-07 17:08:27.000000000,2012-08-07 17:08:26.000000000,19,15,4,10824,8b234721c1d560603ec4e6e73b95631b63a9f557,bp/no-db-messaging,29,5,4,1,1561,Russell Bryant,russellb,"Fix up some instance_uuid usage.

This patch fixes up some issues introduced by no-db-messaging changes.
There were a few places where I missed converted instance_uuid to
instance['uuid'].  There were also a couple of places where
instance_uuid needed to be set for the synchronized decorator.

Change-Id: I754c52f91a44c18d0756caa7154a807973ad4e91
"
openstack%2Fceilometer~master~I2134b97615f87aa982dbbcc877e2d87c8c497244,openstack/ceilometer,master,I2134b97615f87aa982dbbcc877e2d87c8c497244,Update openstack.common,MERGED,2012-08-07 15:24:00.000000000,2012-08-07 15:24:00.000000000,2012-08-07 15:24:00.000000000,198,102,0,10642,01f4f4717ddd66cf7870695924819a5fa1b41161,master,16,3,3,18,1669,Julien Danjou,jdanjou,"Update openstack.common

This fixes #1031508

Change-Id: I2134b97615f87aa982dbbcc877e2d87c8c497244
Signed-off-by: Julien Danjou <julien@danjou.info>
"
openstack%2Fceilometer~master~I62edd1d00c048c4bce34711a23686f0089bbf4e7,openstack/ceilometer,master,I62edd1d00c048c4bce34711a23686f0089bbf4e7,Add API documentation,MERGED,2012-08-07 14:48:44.000000000,2012-08-07 14:48:44.000000000,2012-08-07 14:48:44.000000000,31,6,0,10961,093c39b9524acab9bbbde5dce7efa9752822c5d9,feature/document-api,5,2,1,6,2472,Doug Hellmann,doug-hellmann,"Add API documentation

Use sphinxcontrib-httpdomain to produce documentation for
the web API. Add docstrings to the exposed functions.

See http://packages.python.org/sphinxcontrib-httpdomain/
for details about the format of the auto-generated
output.

Change-Id: I62edd1d00c048c4bce34711a23686f0089bbf4e7
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fnova~master~I58810764abd32d9d292f8282b54c126bf1f4de18,openstack/nova,master,I58810764abd32d9d292f8282b54c126bf1f4de18,Update vmops to access metadata as dict.,MERGED,2012-08-07 12:50:51.000000000,2012-08-07 14:33:58.000000000,2012-08-07 14:33:57.000000000,11,14,0,10950,79a2ea2f5f83dc401d089e357bf35dbdfb8be959,bug/1033963,13,6,2,2,360,Dan Prince,dan-prince,"Update vmops to access metadata as dict.

Updates the inject_instance_metadata in xenapi/vmops.py so
that it accesses metadata as a dict instead of an object.

This resolves issues causing exceptions when booting instances
on XenServer.

Fixes LP Bug #1033963

Change-Id: I58810764abd32d9d292f8282b54c126bf1f4de18
"
openstack%2Fhorizon~master~I51f019e87abc98c3d598448e2037f535d5ec9141,openstack/horizon,master,I51f019e87abc98c3d598448e2037f535d5ec9141,Emails in the user list now urlized.,MERGED,2012-07-31 08:24:47.000000000,2012-08-07 14:07:00.000000000,2012-08-02 19:10:55.000000000,3,1,0,10593,e410ee9ff609e5747228da252197de4eff1c6d25,bug/999391,8,4,1,1,5090,Anton V. Yanchenko,simplylizz,"Emails in the user list now urlized.

Fixes bug 999391.

Change-Id: I51f019e87abc98c3d598448e2037f535d5ec9141
"
openstack%2Fceilometer~master~I3516b5d58f58bfeac32a06317b0b3d0704d449f8,openstack/ceilometer,master,I3516b5d58f58bfeac32a06317b0b3d0704d449f8,Be explicit about test dir.,MERGED,2012-08-07 13:41:01.000000000,2012-08-07 13:41:01.000000000,2012-08-07 13:41:01.000000000,1,0,0,10955,779dcde0db7fc8b672e76c375d951aeae17e47fb,master,5,2,1,1,2,Monty Taylor,mordred,"Be explicit about test dir.

Change-Id: I3516b5d58f58bfeac32a06317b0b3d0704d449f8
"
openstack%2Fglance~stable%2Fessex~I61e96f3fe5f5245fec791170b4a8b4c72135c3de,openstack/glance,stable/essex,I61e96f3fe5f5245fec791170b4a8b4c72135c3de,Support zero-size image creation via the v1 API,MERGED,2012-07-24 18:08:42.000000000,2012-08-07 12:18:06.000000000,2012-08-07 12:18:06.000000000,14,6,0,10238,55cf240cad2b52497cd8dc67f0e68ca7bd2dd9ae,,17,4,1,2,2284,Eoghan Glynn,eglynn,"Support zero-size image creation via the v1 API

Addresses LP 1025353 for the v1 API.

Transition image status to active immediately on creation
(as opposed to leaving it queued forever) if the size is set
to zero from the get-go.

This change allows an image to be created that simply acts as
a properties bucket, but requires no image data. For example,
an image created from a booted-from-volume instance where only
the kernel, ramdisk ID, and block device mappings are required.

Change-Id: I61e96f3fe5f5245fec791170b4a8b4c72135c3de
"
openstack%2Fglance~stable%2Fessex~I7db68c7e0e22e53e085229cc7b346d870844eb65,openstack/glance,stable/essex,I7db68c7e0e22e53e085229cc7b346d870844eb65,Fix swift dependency at 1.4.8.,MERGED,2012-08-06 21:23:38.000000000,2012-08-07 12:00:48.000000000,2012-08-07 12:00:47.000000000,2,1,0,10919,215d5dfdd30c741075550c5cc2115b3c23a3776d,,11,3,1,1,2284,Eoghan Glynn,eglynn,"Fix swift dependency at 1.4.8.

This avoids an breakage caused by the latest swift release, 1.6.0,
which splits off the client library.

A version range specifying older than the latest release, i.e.

  swift<1.6.0

appears insufficient, as the version picked up from pypi.python.org
is the ancient 1.0.2.

Change-Id: I7db68c7e0e22e53e085229cc7b346d870844eb65
"
openstack%2Fopenstack-manuals~master~I4497f7d50bb4cdc11d5f2fe6d0aad82cf2d26bb6,openstack/openstack-manuals,master,I4497f7d50bb4cdc11d5f2fe6d0aad82cf2d26bb6,Document vncserver config options that change on each node.,MERGED,2012-08-06 15:20:51.000000000,2012-08-07 10:46:19.000000000,2012-08-07 10:46:19.000000000,31,5,0,10891,ca18fd8efa606b35ff78076613d7d4cc1df3ca08,compute-custom-conf,5,4,2,4,321,Lorin Hochstein,lorinh,"Document vncserver config options that change on each node.

Several vncserver config options need to be customized on each
compute hosts.

Patchset also adds note to the table that's included in the
Reference for Configuration Options chapter in the Compute
Admin Manual.

Change-Id: I4497f7d50bb4cdc11d5f2fe6d0aad82cf2d26bb6
"
openstack%2Fopenstack-manuals~master~I74ed66c267d2b34531182568b24ea2885dc11974,openstack/openstack-manuals,master,I74ed66c267d2b34531182568b24ea2885dc11974,remove_unused_base_images is true by default in folsom,MERGED,2012-08-06 16:44:38.000000000,2012-08-07 10:43:04.000000000,2012-08-07 10:43:04.000000000,1,1,0,10902,bc609926719f200e092583555b733b67a9d8b917,folsom-remove-unused-base-default,4,3,1,1,321,Lorin Hochstein,lorinh,"remove_unused_base_images is true by default in folsom

Change-Id: I74ed66c267d2b34531182568b24ea2885dc11974
"
openstack%2Fceilometer~master~I7d7c62c540f0a57dbd192c08d4d1fe8aa2ea3312,openstack/ceilometer,master,I7d7c62c540f0a57dbd192c08d4d1fe8aa2ea3312,Add list projects API,MERGED,2012-08-07 10:34:49.000000000,2012-08-07 10:34:49.000000000,2012-08-07 10:34:49.000000000,122,0,0,10915,c96620525ca4d9d7d458ea2fbbde9028f8b2e4f2,feature/add-project-to-filters-in-api,7,3,2,2,2472,Doug Hellmann,doug-hellmann,"Add list projects API

Change-Id: I7d7c62c540f0a57dbd192c08d4d1fe8aa2ea3312
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fceilometer~master~Ic41d303d332ccb47907450027f5a09a825cc522f,openstack/ceilometer,master,Ic41d303d332ccb47907450027f5a09a825cc522f,Sort list of users and projects returned from queries,MERGED,2012-08-07 10:29:16.000000000,2012-08-07 10:29:16.000000000,2012-08-07 10:29:16.000000000,6,10,0,10914,fc2cb2177175895367ba65f620f8fa91bb94d3d4,feature/add-project-to-filters-in-api,7,3,2,1,2472,Doug Hellmann,doug-hellmann,"Sort list of users and projects returned from queries

Change-Id: Ic41d303d332ccb47907450027f5a09a825cc522f
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fceilometer~master~Idfb39d02e8af2b00f6f14520b5219f48dcf8fe8a,openstack/ceilometer,master,Idfb39d02e8af2b00f6f14520b5219f48dcf8fe8a,Add project arg to event and resource queries,MERGED,2012-08-07 10:23:48.000000000,2012-08-07 10:23:48.000000000,2012-08-07 10:23:48.000000000,132,5,0,10913,fd6348d363f20f4f9e276acad8979f209e9504fd,feature/add-project-to-filters-in-api,7,3,2,3,2472,Doug Hellmann,doug-hellmann,"Add project arg to event and resource queries

Change-Id: Idfb39d02e8af2b00f6f14520b5219f48dcf8fe8a
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fceilometer~master~I55dd108bab9a5aed9730d2c81ecab3a4ed909189,openstack/ceilometer,master,I55dd108bab9a5aed9730d2c81ecab3a4ed909189,"Fix ""meter"" literal in event list API",MERGED,2012-08-07 10:18:14.000000000,2012-08-07 10:18:14.000000000,2012-08-07 10:18:14.000000000,10,2,0,10912,1c92548c5a5dfb649e2cc48db1ed95e79aabade8,feature/add-project-to-filters-in-api,5,2,1,2,2472,Doug Hellmann,doug-hellmann,"Fix ""meter"" literal in event list API

Change-Id: I55dd108bab9a5aed9730d2c81ecab3a4ed909189
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fceilometer~master~I7f5ba8fb32ac21e0e7cb3c83c27e9b41beac4a29,openstack/ceilometer,master,I7f5ba8fb32ac21e0e7cb3c83c27e9b41beac4a29,collector exception on record_metering_data,MERGED,2012-08-07 10:14:42.000000000,2012-08-07 10:14:42.000000000,2012-08-07 10:14:42.000000000,1,1,1,10865,275bb1be6d999c5a6137bc5a5b9a0ab559d84bb7,bug/1033413,12,4,2,1,4277,John Tran,jtran,"collector exception on record_metering_data

Fixes bug 1033413

Change-Id: I7f5ba8fb32ac21e0e7cb3c83c27e9b41beac4a29
"
openstack%2Fneutron~master~Ibffab039ca7ee9e87eb79a7288e86401170bf129,openstack/neutron,master,Ibffab039ca7ee9e87eb79a7288e86401170bf129,Enhance Base MAC validation,MERGED,2012-08-07 09:00:25.000000000,2012-08-07 09:00:25.000000000,2012-08-07 09:00:25.000000000,96,6,8,10883,fe09214372f199d4cfbff76aabf76470543c26f2,bug/1033520,18,7,4,4,1653,garyk,garyk,"Enhance Base MAC validation

Fixes bug 1033520

The base mac will now be validated when the configuration file is read.
In addition to this the following has been done:
1. checks validaity of the base mac - for example it cannot be a multicast MAC
2. adds a framework for attributes tests

Change-Id: Ibffab039ca7ee9e87eb79a7288e86401170bf129
"
openstack%2Fnova~master~I298309bb1c84499f2060c172213d355aa7ce54e5,openstack/nova,master,I298309bb1c84499f2060c172213d355aa7ce54e5,Improve external locking on Windows,MERGED,2012-08-07 01:03:40.000000000,2012-08-07 08:27:06.000000000,2012-08-07 08:27:06.000000000,38,8,0,10933,3f0ef8e28fd0ec5102a58be8d0013900194869fe,bug/1033596,11,5,3,1,1812,p-draigbrady,p-draigbrady,"Improve external locking on Windows

commit 2c15248 improved external locking for POSIX.
See that commit for advantages of the technique used.
This implements the same technique for Windows systems.

Fixes bug: 1033596
Change-Id: I298309bb1c84499f2060c172213d355aa7ce54e5
"
openstack%2Fneutron~master~Ia084c8d529b4bf332fc9ba0683aba3b3e4ae7e70,openstack/neutron,master,Ia084c8d529b4bf332fc9ba0683aba3b3e4ae7e70,Enables Cisco NXOS to configure multiple ports Implements blueprint cisco-nxos-enables-multiple-ports,ABANDONED,2012-08-07 08:11:11.000000000,2012-08-07 08:11:11.000000000,,522,0,0,10942,cb4baa9c5fe515bdad9a7e4277ec7c359c1005a6,bp/cisco-nxos-enables-multiple-ports,1,0,1,1,704,Edgar Magana,emagana,"Enables Cisco NXOS to configure multiple ports
Implements blueprint cisco-nxos-enables-multiple-ports

Change-Id: Ia084c8d529b4bf332fc9ba0683aba3b3e4ae7e70
"
openstack%2Fneutron~master~I2b853bbbc1d9999f9710c36d4c30548b6b20d96f,openstack/neutron,master,I2b853bbbc1d9999f9710c36d4c30548b6b20d96f,Enables Cisco NXOS to configure multiple ports Implements blueprint cisco-nxos-enables-multiple-ports,ABANDONED,2012-08-07 08:10:57.000000000,2012-08-07 08:10:57.000000000,,16,25,0,10943,97bd050a66377635f30491d4350943b1a3fd9290,bp/cisco-nxos-enables-multiple-ports,1,0,1,4,704,Edgar Magana,emagana,"Enables Cisco NXOS to configure multiple ports
Implements blueprint cisco-nxos-enables-multiple-ports

Change-Id: I2b853bbbc1d9999f9710c36d4c30548b6b20d96f
"
openstack%2Fnova~master~Ie4effbb885370dc80d86ee13d27c9263f7f63cad,openstack/nova,master,Ie4effbb885370dc80d86ee13d27c9263f7f63cad,Allow loaded extensions to be checked from servers,MERGED,2012-08-04 02:33:36.000000000,2012-08-07 07:30:15.000000000,2012-08-07 07:30:14.000000000,29,16,2,10813,7aefc22f1e5ec6b272d89e6ed8343604ee96472a,bp/disable-server-extensions,17,6,2,11,67,Vish Ishaya,vishvananda,"Allow loaded extensions to be checked from servers

related to blueprint disable-server-extensions

Adds an is_loaded method to the extension manager and passes
the extension manager to the servers controller so that it
can be used to enable optional post parameters.

The extension manager is also saved in ExtensionDescriptors
because they may need access to it if they are subclassing
the servers Controller.

Tests are included to verify that extension loading can be
properly determined.

Change-Id: Ie4effbb885370dc80d86ee13d27c9263f7f63cad
"
openstack%2Fdevstack-gate~master~I1e901c6acb616d307838a0d1a8714624229c615f,openstack/devstack-gate,master,I1e901c6acb616d307838a0d1a8714624229c615f,Don't run tempest in stable/diablo.,MERGED,2012-08-07 06:25:12.000000000,2012-08-07 06:25:12.000000000,2012-08-07 06:25:12.000000000,11,0,0,10926,08ff35f23b6e56cbce1d724227f1db87a3320e01,master,12,3,4,1,1,James E. Blair,corvus,"Don't run tempest in stable/diablo.

Tempest was not used for gating then.

Change-Id: I1e901c6acb616d307838a0d1a8714624229c615f
"
openstack%2Fnova~master~I6bddc3e7abb39fd75e1f03abb2ea0f911b761957,openstack/nova,master,I6bddc3e7abb39fd75e1f03abb2ea0f911b761957,Solve possible race in semaphor creation,MERGED,2012-08-06 22:25:58.000000000,2012-08-07 06:06:08.000000000,2012-08-07 06:06:08.000000000,8,8,0,10924,9206ee5a63a65e076342896e3b41bbcbf819af56,bug/872558,8,4,2,1,1528,Stanislaw Pitucha,stanislaw-pitucha,"Solve possible race in semaphor creation

Solve the race condition described in the bug 872558 report which can
result in:

- thread crashing trying to remove semaphore from dict
- two threads getting different semaphores for the same name

First case is solved automatically by weakref dictionary. No explicit
deletion takes place.
The second case is solved by getting existing or new semaphore in one
step. Once a local reference to the semaphore is obtained, it can be
safely assigned to the dictionary if it's missing. If it's present, it
will not be removed anymore because there's at least one strong
reference present (local variable 'sem').

This solution is only valid for greenthreads.

Change-Id: I6bddc3e7abb39fd75e1f03abb2ea0f911b761957
"
openstack%2Fnova~stable%2Fessex~I586b9058fada5efd468870fb187590fc0e37aa8f,openstack/nova,stable/essex,I586b9058fada5efd468870fb187590fc0e37aa8f,libvirt backport: cleanup power state handling,ABANDONED,2012-07-25 07:16:39.000000000,2012-08-07 06:03:03.000000000,,59,25,0,10266,956caf134ee00451b88c94a84b7ccc92e5769928,stable/essex,15,6,2,5,1119,Christoph Thiel,cthiel-suse,"libvirt backport: cleanup power state handling

Backporting 5b85997e33aa749ece94edebaaefefe71b899561 from master to
improve the power_state handling, mostly for xen, where running
instances would show ""blocked"" state.

From the original commit message:
Removed duplicate and invalid state in power_state:
FAILED, SHUTOFF, BLOCKED
This is the first step in cleaning up nova state machine
and do better task management (bp/task-management)

http://wiki.openstack.org/VMState

Change-Id: I586b9058fada5efd468870fb187590fc0e37aa8f
(cherry picked from commit 5b85997e33aa749ece94edebaaefefe71b899561)
"
openstack%2Fnova~stable%2Fessex~I5f92bedf6588ab2674d784772a5ecdb895fabe40,openstack/nova,stable/essex,I5f92bedf6588ab2674d784772a5ecdb895fabe40,libvirt driver: fix xen support (hvm and pv),ABANDONED,2012-07-24 12:09:14.000000000,2012-08-07 06:03:03.000000000,,26,3,2,10212,53dfba62175d659074f9cc76bbb4147d95966aa1,stable/essex,15,5,4,3,1119,Christoph Thiel,cthiel-suse,"libvirt driver: fix xen support (hvm and pv)

This patch improves the libvirt.xml.template to generate a working
libvirt configuration for both hvm and pv instances, setting os type
based on the vm_mode and uses hvmloader for hvm instances.

Change-Id: I5f92bedf6588ab2674d784772a5ecdb895fabe40
"
openstack%2Fnova~master~Iff40a6a3273b0dff4c8c58f598656c033dd2a7e8,openstack/nova,master,Iff40a6a3273b0dff4c8c58f598656c033dd2a7e8,update nova+python-glanceclient,ABANDONED,2012-07-30 23:45:46.000000000,2012-08-07 06:03:01.000000000,,54,96,0,10575,5bd3861c3790aa5288b6feaaf14f1761583f09b0,integrate-python-glanceclient,10,5,2,1,1132,Brian Waldon,bcwaldon,"update nova+python-glanceclient

Change-Id: Iff40a6a3273b0dff4c8c58f598656c033dd2a7e8
"
openstack%2Fnova~master~I3a31fa21e16dc7c289d7f5b2e4736ab48bf42557,openstack/nova,master,I3a31fa21e16dc7c289d7f5b2e4736ab48bf42557,Make extension aliases consistent,MERGED,2012-08-04 02:33:35.000000000,2012-08-07 05:14:21.000000000,2012-08-07 05:14:20.000000000,2,3,0,10812,80aa9f54d7935c21ae06da1d2b7292844beb5274,bp/disable-server-extensions,12,8,2,2,67,Vish Ishaya,vishvananda,"Make extension aliases consistent

related to blueprint disable-server-extensions

The alias for extensions should start with os- where possible.
Unfortunately the alias is used for xml namespacing in some cases
so it cannot be made consistent for some legacy extensions

There will continue to be a small number of output extensions that
have no special namespace because they were added before we started
namespacing extensions and they need to remain the same for legacy
compatibility.

In the future all extensions should include a namespace prefix
when adding extra data to the api.

Change-Id: I3a31fa21e16dc7c289d7f5b2e4736ab48bf42557
"
openstack%2Fnova~master~Iae41ead251a64717de3bf7cba3fa206cda278a20,openstack/nova,master,Iae41ead251a64717de3bf7cba3fa206cda278a20,Move root_helper deprecation warning into execute.,MERGED,2012-08-04 19:24:30.000000000,2012-08-07 04:51:59.000000000,2012-08-07 04:51:58.000000000,8,7,0,10841,57d680ff5295f8f2bc223627eee2f7f75e368d74,bug/1032657,17,8,3,1,360,Dan Prince,dan-prince,"Move root_helper deprecation warning into execute.

By moving this warning into the execute function and out of the top
level utils module we eliminate warnings that could occur when
Nova code includes utils.py but doesn't setup a config file properly.

Fixes LP Bug #1032657.

Change-Id: Iae41ead251a64717de3bf7cba3fa206cda278a20
"
openstack%2Fcinder~master~Ib74dcc1efa0332842041b4c045ca5fa85d4a32ca,openstack/cinder,master,Ib74dcc1efa0332842041b4c045ca5fa85d4a32ca,Add persistent volumes for tgtd.,MERGED,2012-07-27 17:06:33.000000000,2012-08-07 04:09:00.000000000,2012-08-07 04:09:00.000000000,111,79,0,10417,c401895f8f2b6f1693601f7996da88d7b3d45fa0,10417,36,4,14,4,24,Chuck Short,zulcss,"Add persistent volumes for tgtd.

Currently if you restart the server running nova-volume
or restart tgt, you will loose your iscsi targets that
have been created. This is not good.

In order for iscsi targets to be persistent across
reboots or restarts, one has to have the target's configuration
information in /etc/tgt/targets.conf or /etc/tgt/conf.d.
So when tgtd is restarted then the iscsi targets will be there
as expected.

This patch will add a configuration file to $state_path/volumes
when the volume is created. The configuration file is identified by
the volume uuid. It creates a logicalunit when the volume is created
as well. The iscsi target and configuration file
will be removed once the volume has been removed as well.

In order to use this, you have to include the following in
your /etc/tgt/targets.conf

include $state_path/volumes/*

For upgrades, it will just re-create the volumes
already in the volumes table.

Fixes LP: #1011159

Change-Id: Ib74dcc1efa0332842041b4c045ca5fa85d4a32ca
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fglance~master~Ie48646b0fc5398ba7cda2fb627b820f533482e00,openstack/glance,master,Ie48646b0fc5398ba7cda2fb627b820f533482e00,Allow server-side validation of client ssl certs,MERGED,2012-08-03 19:01:49.000000000,2012-08-07 04:07:55.000000000,2012-08-07 04:07:54.000000000,33,3,1,10787,006254c5050176c9b569007f6ef7203e6067215d,bug/1032451,21,5,3,4,1132,Brian Waldon,bcwaldon,"Allow server-side validation of client ssl certs

This adds a 'ca_file' config option that points to a local
CA cert that will be used to verify certs provided by
connecting clients. The 'ca_file' option is only used if the
server is already properly configured to to use SSL - that
means having a valid 'cert_file' and 'key_file'. If no 'ca_file'
is provided, the behavior will remain the same - the server
will still provide its cert to clients, but it will ignore
certs sent back from those clients.

Fixes bug 1032451

Change-Id: Ie48646b0fc5398ba7cda2fb627b820f533482e00
"
openstack%2Fcinder~master~Ie9c1a77f62abc40e294b1d0c604cf885652728da,openstack/cinder,master,Ie9c1a77f62abc40e294b1d0c604cf885652728da,Send 'create volume from snapshot' to the proper host,MERGED,2012-07-13 12:29:56.000000000,2012-08-07 03:50:25.000000000,2012-08-07 03:50:25.000000000,39,6,8,9761,99456bd690445443ae05c0d4fe1ec43ba6090f6f,bug/1008866,41,7,10,2,2481,Rongze Zhu,zrzhit,"Send 'create volume from snapshot' to the proper host

A simple solution for bug 1008866. When creating volume from snapshot on
multicluster, in volume it will check if snapshot_id is set. If snapshot_id
is set, make the call create volume directly to the volume host where the
snapshot resides instead of passing it through the scheduler. So snapshot can
be copy to new volume.

Change-Id: Ie9c1a77f62abc40e294b1d0c604cf885652728da
"
openstack%2Fdevstack~master~I15f464e527a5258f88da573facfa2eef4c03f753,openstack/devstack,master,I15f464e527a5258f88da573facfa2eef4c03f753,"q-dhcp: When q-dhcp is enabled, dangling dnsmasq needs to be killed like n-net",MERGED,2012-08-06 07:58:26.000000000,2012-08-07 03:34:37.000000000,2012-08-07 03:34:37.000000000,1,1,0,10869,6f85ab3583b31a2f84c66331f8c091b08d2d2b78,bug/1033428,6,3,1,1,333,Isaku Yamahata,yamahata,"q-dhcp: When q-dhcp is enabled, dangling dnsmasq needs to be killed like n-net

fixes bug 1033428
Kill dnsmasq processes on startup like n-net case.

q-dhcp(quantum dhcp agent) forks dns-masq child processes.
But those dns-masq processes are not killed on initialization unlike n-net.
So non-first run of q-dhcp fails due to stale dns-masq process.

Change-Id: I15f464e527a5258f88da573facfa2eef4c03f753
Signed-off-by: Isaku Yamahata <yamahata@valinux.co.jp>
"
openstack%2Fdevstack~master~I32f4c0603785e54a465c2d3b47a1852b8635fde0,openstack/devstack,master,I32f4c0603785e54a465c2d3b47a1852b8635fde0,Do not pass -U to useradd,MERGED,2012-07-06 06:51:03.000000000,2012-08-07 03:12:33.000000000,2012-08-07 03:12:32.000000000,5,1,0,9423,e29b94e26eb3fd98f18cd9b6a8f765bf4e241f54,fix-useradd,11,5,1,1,4460,Vincent Untz,vuntz,"Do not pass -U to useradd

The -U option doesn't have the same meaning on all distributions,
unfortunately: in some cases, it means ""create a group for the user with
the same name"", and in others, it means ""default umask for the user"".

Instead, manually create a stack group with groupadd.

Change-Id: I32f4c0603785e54a465c2d3b47a1852b8635fde0
"
openstack%2Fnova~master~Ic5c0c0fb1a599d38c100810a144592b082e1ebad,openstack/nova,master,Ic5c0c0fb1a599d38c100810a144592b082e1ebad,Rename private methods of compute manager.,MERGED,2012-08-04 03:48:29.000000000,2012-08-07 02:12:01.000000000,2012-08-07 02:12:00.000000000,20,20,0,10822,16ce78c99b0d044976b5c1a4e3699f49a325f867,bp/no-db-messaging,20,5,2,2,1561,Russell Bryant,russellb,"Rename private methods of compute manager.

Add an underscore in front of add_instance_fault_from_exc and
error_out_instance_on_exception in the compute manager.  They
are private methods that are not part of the rpc API.

Change-Id: Ic5c0c0fb1a599d38c100810a144592b082e1ebad
"
openstack%2Fnova~master~Ic21f061702704ddeaa6925aac4ecad69b0e8de18,openstack/nova,master,Ic21f061702704ddeaa6925aac4ecad69b0e8de18,Send full instance to compute live_migration.,MERGED,2012-08-04 03:48:29.000000000,2012-08-07 01:49:27.000000000,2012-08-07 01:49:26.000000000,42,29,0,10821,abe509fae061f7c14d6b02e9718031e90cfb3ffa,bp/no-db-messaging,20,4,2,6,1561,Russell Bryant,russellb,"Send full instance to compute live_migration.

Remove the instance_id parameter and send a full instance to
live_migration in the compute manager.  This cuts down on database
access required by the compute manager.

Part of blueprint no-db-messaging.

Change-Id: Ic21f061702704ddeaa6925aac4ecad69b0e8de18
"
openstack%2Fnova~master~I66633ffd59c6d670ccc748855fb1dcbac7df222d,openstack/nova,master,I66633ffd59c6d670ccc748855fb1dcbac7df222d,Add underscore in front of post_live_migration.,MERGED,2012-08-04 03:48:28.000000000,2012-08-07 01:28:09.000000000,2012-08-07 01:28:08.000000000,4,4,0,10820,2ed2c411a982e297d6b756f8a21939fadb2a0a93,bp/no-db-messaging,22,5,2,2,1561,Russell Bryant,russellb,"Add underscore in front of post_live_migration.

Rename this method of the compute manager by just adding an underscore
in front of the name.  This is a private method and is not part of the
rpc api.  Make that more apparent by using the private method naming
convention.

Change-Id: I66633ffd59c6d670ccc748855fb1dcbac7df222d
"
openstack%2Fnova~master~Ic45105300c967c760559df2225e59e515cea8b7b,openstack/nova,master,Ic45105300c967c760559df2225e59e515cea8b7b,Send full instance to scheduler live_migration.,MERGED,2012-08-04 03:48:28.000000000,2012-08-07 01:03:24.000000000,2012-08-07 01:03:24.000000000,32,35,0,10819,98f753d4c5e8bdf31716a7452f89930a51b3edf5,bp/no-db-messaging,22,4,2,7,1561,Russell Bryant,russellb,"Send full instance to scheduler live_migration.

Remove the instance_id parameter and send a full instance dict to the
live_migration method of the scheduler manager.  This cuts down on some
unnecessary database access in the scheduler.

Part of blueprint no-db-messaging.

Change-Id: Ic45105300c967c760559df2225e59e515cea8b7b
"
openstack%2Fnova~master~If5545748122b4ff9e2da6788cbd4b0fa26c4db99,openstack/nova,master,If5545748122b4ff9e2da6788cbd4b0fa26c4db99,Send full instance to run_instance.,MERGED,2012-08-03 22:58:29.000000000,2012-08-07 00:34:44.000000000,2012-08-07 00:34:44.000000000,238,210,0,10807,7677354e3ba0954158d33feef3667b0fe7dcc2a3,bp/no-db-messaging,29,4,4,8,1561,Russell Bryant,russellb,"Send full instance to run_instance.

This patch updates run_instance in the compute manager to take a full
instance instead of just an instance UUID.  This reduces db access
required by the compute nodes.  The scheduler code needed some work here
as well since it wasn't using the compute rpcapi for calling
run_instance.

Part of blueprint no-db-messaging.

Change-Id: If5545748122b4ff9e2da6788cbd4b0fa26c4db99
"
openstack%2Fnova~master~I19753da6301c5d78b8fb13b30fbc6996ba828096,openstack/nova,master,I19753da6301c5d78b8fb13b30fbc6996ba828096,Use dict style access for image_ref.,MERGED,2012-08-04 02:08:26.000000000,2012-08-07 00:10:25.000000000,2012-08-07 00:10:25.000000000,2,2,0,10811,7c4ab6820d42768ac5055ca3c8e0b272358bd43d,bp/no-db-messaging,28,6,3,2,1561,Russell Bryant,russellb,"Use dict style access for image_ref.

When reading image_ref from an instance, use dict style syntax.  This is
to be compatible with no-db-messaging changes.

Part of blueprint no-db-messaging.

Change-Id: I19753da6301c5d78b8fb13b30fbc6996ba828096
"
openstack%2Fnova~master~Ic4fe26514c812166897d21f9510291070e5f4e4f,openstack/nova,master,Ic4fe26514c812166897d21f9510291070e5f4e4f,Fix impl_zmq following common migration.,ABANDONED,2012-08-06 23:28:21.000000000,2012-08-06 23:54:27.000000000,,11,4,0,10929,cc6761a8980958a242b18bd62a3081c3a2c54e67,master,2,1,1,1,159,Eric Windisch,ewindisch,"Fix impl_zmq following common migration.

A number of problems have been discovered with impl_zmq
following the move to common. These problems have been
resolved in openstack-common. This patch squashes those
changes and brings them into Nova.

Change-Id: Ic4fe26514c812166897d21f9510291070e5f4e4f
"
openstack%2Fopenstack-manuals~stable%2Fessex~If2160891aa0b078da65a38ceb1e9a65834523410,openstack/openstack-manuals,stable/essex,If2160891aa0b078da65a38ceb1e9a65834523410,"Document ""nova reset-state"" command.",MERGED,2012-08-06 15:30:49.000000000,2012-08-06 23:54:09.000000000,2012-08-06 23:54:08.000000000,22,1,0,10893,e74c0b089645a384087bb26519d1a9917ee7cb28,essex-nova-reset-state,3,2,1,1,321,Lorin Hochstein,lorinh,"Document ""nova reset-state"" command.

Cherry-picked from https://review.openstack.org/10680

Change-Id: If2160891aa0b078da65a38ceb1e9a65834523410
"
openstack%2Fopenstack-manuals~stable%2Fessex~I60b04cbfb661aa9393e1bd346f91bebc18290e51,openstack/openstack-manuals,stable/essex,I60b04cbfb661aa9393e1bd346f91bebc18290e51,"Can reuse nova.conf across nodes, except for my_ip.",MERGED,2012-08-06 15:03:12.000000000,2012-08-06 23:48:50.000000000,2012-08-06 23:48:50.000000000,17,14,0,10888,89df0c2ba661557f121ab4cb264d5b74fea192d1,essex-my-ip,3,2,1,1,321,Lorin Hochstein,lorinh,"Can reuse nova.conf across nodes, except for my_ip.

Makes explicit that you can use the same nova.conf across nodes,
except for the my_ip option.

Cherry-picked from https://review.openstack.org/10705

Change-Id: I60b04cbfb661aa9393e1bd346f91bebc18290e51
"
openstack%2Fnova~master~I1e141b471040b0fd4833d4e08d44166a9d12bcad,openstack/nova,master,I1e141b471040b0fd4833d4e08d44166a9d12bcad,Use explicit arguments in compute manager run_instance.,MERGED,2012-08-03 22:58:29.000000000,2012-08-06 23:44:52.000000000,2012-08-06 23:44:52.000000000,24,18,0,10806,0cee422e2e452d31a6aad1644cf38c2a669e99cb,bp/no-db-messaging,33,7,3,2,1561,Russell Bryant,russellb,"Use explicit arguments in compute manager run_instance.

Use explicit arguments in functions in the run_instance code path of the
compute manager.  I think methods of the rpc API are better this way as
we have to be careful when changing these functions so we handle
versioning and backwards compatibility properly.  Spelling out all of
the arguments like this makes it easier to catch when things change and
to make sure they are changed properly.

This is in preparation of changing the instance_uuid to an instance
dict, instead.

Part of blueprint no-db-messaging.

Change-Id: I1e141b471040b0fd4833d4e08d44166a9d12bcad
"
openstack%2Fnova~master~I42366514285a2355f647c776af140effc1618b7d,openstack/nova,master,I42366514285a2355f647c776af140effc1618b7d,Remove topic from scheduler run_instance.,MERGED,2012-08-03 22:58:29.000000000,2012-08-06 23:18:21.000000000,2012-08-06 23:18:20.000000000,26,25,1,10805,ce2da5e52b743a15d87bab8b7546449ceb4e6871,bp/no-db-messaging,32,5,3,11,1561,Russell Bryant,russellb,"Remove topic from scheduler run_instance.

This argument to run_instance was unused, so just remove it.

Change-Id: I42366514285a2355f647c776af140effc1618b7d
"
openstack%2Fnova~master~Id83fc1e399e1d5c75af6dd3c8972b8ba9d706af1,openstack/nova,master,Id83fc1e399e1d5c75af6dd3c8972b8ba9d706af1,Use explicit args in run_instance scheduler code.,MERGED,2012-08-03 22:58:28.000000000,2012-08-06 22:54:23.000000000,2012-08-06 22:54:23.000000000,69,40,2,10804,c9f15e3a51658c6b406521d87a95e94f25edf977,bp/no-db-messaging,33,5,3,7,1561,Russell Bryant,russellb,"Use explicit args in run_instance scheduler code.

This patch goes through code paths related to run_instance in the
scheduler to use explicit arguments instead of **kwargs.  I'm trying to
work out exactly what data is getting passed through the system when an
instance is created, so that I can make the no-db-messaging related
changes.  This patch helps clarify some things.

Part of blueprint no-db-messaging.

Change-Id: Id83fc1e399e1d5c75af6dd3c8972b8ba9d706af1
"
openstack%2Fnova~master~I64590a2d79c2d303e7c936a4c3b1545eecfd0f2b,openstack/nova,master,I64590a2d79c2d303e7c936a4c3b1545eecfd0f2b,Update args to _set_vm_state_and_notify.,MERGED,2012-08-03 22:58:28.000000000,2012-08-06 22:24:28.000000000,2012-08-06 22:24:27.000000000,11,10,0,10803,7dc9d462a8dd65605fb987949b503ff0d23fe288,bp/no-db-messaging,35,7,3,2,1561,Russell Bryant,russellb,"Update args to _set_vm_state_and_notify.

This patch removes *args and **kwargs from _set_vm_state_and_notify.
The only additional argument used was request_spec, so just list it out
explicitly.

Change-Id: I64590a2d79c2d303e7c936a4c3b1545eecfd0f2b
"
openstack%2Fneutron~master~I0aa78d1128e55aa7d59558c62128105c01da8f1b,openstack/neutron,master,I0aa78d1128e55aa7d59558c62128105c01da8f1b,Use function registration for policy checks,MERGED,2012-08-06 22:03:22.000000000,2012-08-06 22:03:22.000000000,2012-08-06 22:03:22.000000000,112,52,0,10736,03079191cd26d98e3b20c90d8929e408853c2bf5,policy-refactor,12,6,2,2,679,Kevin L. Mitchell,klmitch,"Use function registration for policy checks

The original policy framework allowed new policy checks to be created
through inheritance.  This is somewhat clunky and unnecessary in
Python.  This change refactors policy.py to allow new policy checks
to be registered using an @register() decorator.  One consequence is
that HttpBrain is deprecated.

Care has been taken to ensure backwards compatibility; deprecation
warnings will be emitted for uses of HttpBrain or the inheritance-
based checks.

(Pull-up from openstack-common, with deprecation of HttpBrain.)

Change-Id: I0aa78d1128e55aa7d59558c62128105c01da8f1b
"
openstack%2Fnova~master~Idadbf4fc624d5d1b128f758a46c61b3c840b9898,openstack/nova,master,Idadbf4fc624d5d1b128f758a46c61b3c840b9898,Reduce db access in prep_resize in the compute manager.,MERGED,2012-08-02 23:33:47.000000000,2012-08-06 21:57:50.000000000,2012-08-06 21:57:50.000000000,98,47,0,10754,2ee42aafde64af6d64a1f34a6204fd80e7dd01fd,bp/no-db-messaging,37,5,4,7,1561,Russell Bryant,russellb,"Reduce db access in prep_resize in the compute manager.

This patch changes the arguments passed to prep_resize in the compute
manager.  Previously it took instance and instance_type IDs.  It now
receives a full dict for both of these.  This cuts down on database
access needed on the compute node.

This method was not previously in the compute rpcapi module, so it has
been added there.  The scheduler had a bit of work done ot get it to use
the rpcapi module for prep_resize, as well.

Part of blueprint no-db-messaging.

Change-Id: Idadbf4fc624d5d1b128f758a46c61b3c840b9898
"
openstack%2Fglance~stable%2Fessex~Ibdc00b75c62445a7f0930ee1806ad469e3d3ffe2,openstack/glance,stable/essex,Ibdc00b75c62445a7f0930ee1806ad469e3d3ffe2,Use python-swiftclient for swift store.,ABANDONED,2012-08-06 19:22:51.000000000,2012-08-06 21:47:00.000000000,,39,32,1,10909,619a090766236d009d3400fb56305ce8a9d269ea,,8,4,4,5,2284,Eoghan Glynn,eglynn,"Use python-swiftclient for swift store.

- Use python-swiftclient instead of swift.common.client (pinned to
  github hash).
- Fixes bug 1002791.

(cherry picked from commit b99e8610)

Change-Id: Ibdc00b75c62445a7f0930ee1806ad469e3d3ffe2
"
openstack%2Fglance~master~Ib4b9cbdb2511f7dc0b7618ebd23d257c8eb95a2a,openstack/glance,master,Ib4b9cbdb2511f7dc0b7618ebd23d257c8eb95a2a,Set anyjson dep at v0.2.4,ABANDONED,2012-08-06 18:37:06.000000000,2012-08-06 21:35:05.000000000,,1,1,0,10906,21d7c6ee1ea6b6a58f2620c38a6d34f4adaa406a,bug/1026062,3,2,1,1,1132,Brian Waldon,bcwaldon,"Set anyjson dep at v0.2.4

Fixes bug 1026062

Change-Id: Ib4b9cbdb2511f7dc0b7618ebd23d257c8eb95a2a
"
openstack%2Fkeystone~master~I8b1a840324ba64dc016c7b94b152a5bf250ab824,openstack/keystone,master,I8b1a840324ba64dc016c7b94b152a5bf250ab824,Add anyjson v0.2.4 dep for OS common jsonutils,ABANDONED,2012-08-06 18:54:50.000000000,2012-08-06 21:35:00.000000000,,1,0,0,10907,db53817febab3f8d04f4e0dac6a49158899fee25,bug/1026062,5,4,1,1,1132,Brian Waldon,bcwaldon,"Add anyjson v0.2.4 dep for OS common jsonutils

Fixes bug 1026062

Change-Id: I8b1a840324ba64dc016c7b94b152a5bf250ab824
"
openstack%2Fnova~master~I5a9442f3b571f37950676e96e2f129ea45c55d78,openstack/nova,master,I5a9442f3b571f37950676e96e2f129ea45c55d78,Remove instance_id fallback from cast_to_compute_host().,MERGED,2012-08-02 23:33:46.000000000,2012-08-06 21:27:42.000000000,2012-08-06 21:27:41.000000000,5,7,0,10753,6b42978eb4bf740f148a6bb200b331660755b53b,bp/no-db-messaging,23,6,4,2,1561,Russell Bryant,russellb,"Remove instance_id fallback from cast_to_compute_host().

This removes some code that supported using either an instance id or
uuid when doing an instance update.  The db API no longer accepts an ID.
A UUID must be used or it will raise an exception.  I also updated the
unit tests to reflect this.

Change-Id: I5a9442f3b571f37950676e96e2f129ea45c55d78
"
openstack%2Fopenstack-manuals~master~I64b20c2d1896f82dec187ab5de1ed1faa2522e2a,openstack/openstack-manuals,master,I64b20c2d1896f82dec187ab5de1ed1faa2522e2a,Update libvirt_nonblocking value,MERGED,2012-08-03 21:17:55.000000000,2012-08-06 20:46:27.000000000,2012-08-06 20:46:27.000000000,1,1,0,10792,f4891e07d00eacaaeaa4dac51b328fc37744dce8,option,4,3,1,1,1711,Yun Mao,yunmao,"Update libvirt_nonblocking value

the default value has been changed from false to true in Folsom.

Change-Id: I64b20c2d1896f82dec187ab5de1ed1faa2522e2a
"
openstack%2Fnova~master~I7a55c53769574251e046c9621363a00e716fc06d,openstack/nova,master,I7a55c53769574251e046c9621363a00e716fc06d,Fix test_resize_xcp testcase - it never ran,MERGED,2012-08-02 16:23:49.000000000,2012-08-06 20:32:33.000000000,2012-08-06 20:32:32.000000000,10,10,1,10720,72670a93ccd802e9e117aa754107440697148c78,bug/1025216,13,6,3,1,5044,Mate Lakat,mate-lakat,"Fix test_resize_xcp testcase - it never ran

Change-Id: I7a55c53769574251e046c9621363a00e716fc06d
"
openstack%2Fnova~master~I959e780e88a31ad8105dc0d8bbb544c8c50f49e5,openstack/nova,master,I959e780e88a31ad8105dc0d8bbb544c8c50f49e5,tests: avoid traceback warning in test_live_migration,MERGED,2012-08-06 03:17:34.000000000,2012-08-06 20:07:51.000000000,2012-08-06 20:07:50.000000000,9,1,0,10859,fb0bdcd7ce31fecef7a0539cfeb7dbd1e238b2f1,migration-test,7,4,1,1,1812,p-draigbrady,p-draigbrady,"tests: avoid traceback warning in test_live_migration

Change-Id: I959e780e88a31ad8105dc0d8bbb544c8c50f49e5
"
openstack%2Fnova~master~Ie78b3c1107ac02263703cb5f4406c4ba4f83c7ad,openstack/nova,master,Ie78b3c1107ac02263703cb5f4406c4ba4f83c7ad,ensure_tree calls mkdir -p,MERGED,2012-08-06 00:46:08.000000000,2012-08-06 19:16:13.000000000,2012-08-06 19:16:12.000000000,9,1,0,10858,9bf48de84d38196eba3a55f51ea94038e1beb964,ensure-tree-less-procs,19,7,3,1,2271,Michael Still,mikalstill,"ensure_tree calls mkdir -p

Let's use os.makedirs() instead...

Change-Id: Ie78b3c1107ac02263703cb5f4406c4ba4f83c7ad
"
openstack%2Fnova~master~I3b36fdf999f5e62a7b4137dfa874173de5fed9b8,openstack/nova,master,I3b36fdf999f5e62a7b4137dfa874173de5fed9b8,Remove old exception type,MERGED,2012-08-04 17:53:16.000000000,2012-08-06 18:54:52.000000000,2012-08-06 18:54:49.000000000,2,1,0,10836,65d70b2e160ce340861351e4284722d6d566bd1e,db-version-eror-type,13,7,2,1,1528,Stanislaw Pitucha,stanislaw-pitucha,"Remove old exception type

Error doesn't exist anymore. Use a generic NovaException instead.

Change-Id: I3b36fdf999f5e62a7b4137dfa874173de5fed9b8
"
openstack%2Fnova~master~I02ead10e43426b9ad051970e9e78e970de5b1ac1,openstack/nova,master,I02ead10e43426b9ad051970e9e78e970de5b1ac1,Remove unused InstanceInfo class.,MERGED,2012-08-06 16:13:22.000000000,2012-08-06 18:35:19.000000000,2012-08-06 18:35:17.000000000,0,37,0,10900,84e069b8d637c08f0434038ff2a2b272254e4a0e,remove_list_instances_detail,6,3,1,4,360,Dan Prince,dan-prince,"Remove unused InstanceInfo class.

We no longer use InstanceInfo.

Also removes some unused _map_to_instance_info functions in
various virt drivers.

Change-Id: I02ead10e43426b9ad051970e9e78e970de5b1ac1
"
openstack%2Fnova~master~I4980bd8d4ec14c61e16d5be105659f0d5b6748ba,openstack/nova,master,I4980bd8d4ec14c61e16d5be105659f0d5b6748ba,Remove list_instances_detail from compute drivers.,MERGED,2012-08-06 16:13:21.000000000,2012-08-06 18:14:13.000000000,2012-08-06 18:14:12.000000000,3,53,0,10899,db572f6b4b8f1f2084139b7168356c61e54b4317,remove_list_instances_detail,6,3,1,8,360,Dan Prince,dan-prince,"Remove list_instances_detail from compute drivers.

Removes the list_instances_detail function from various compute drivers
which implement it. We no longer make use of this compute driver
call when syncing power states.

Change-Id: I4980bd8d4ec14c61e16d5be105659f0d5b6748ba
"
openstack%2Fnova~master~I38c48d0dd2ac885fcb226310b6039be667af9e0d,openstack/nova,master,I38c48d0dd2ac885fcb226310b6039be667af9e0d,Migrate a logging change from common:,MERGED,2012-08-06 16:08:26.000000000,2012-08-06 17:56:02.000000000,2012-08-06 17:56:01.000000000,8,6,0,10898,a7987aaa86c9cd8c6509118028a61ce7445ec125,bug/1031351,6,3,1,1,1998,andrewbogott,andrewbogott,"Migrate a logging change from common:

commit 58404a1a9461900367dbb7a8b3f2f98441e12959
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Tue Jul 31 17:53:57 2012 +0100

    Install a qualified except hook.

    Fixes bug 1031351.

    As an Exception is raised, it was not visible in the log, because
    it wasn't qualified. The fix sets up the exception hook to be
    qualified as the product_name.

Change-Id: I38c48d0dd2ac885fcb226310b6039be667af9e0d
"
openstack%2Fswift~master~Ia26c9a857723747008293c0631c9acc1b58eca7e,openstack/swift,master,Ia26c9a857723747008293c0631c9acc1b58eca7e,all in one setup rc.local needs -p for mkdir command,MERGED,2012-08-06 13:09:17.000000000,2012-08-06 17:46:04.000000000,2012-08-06 17:46:04.000000000,2,2,0,10882,d8c5c0c8975a6991fb53dd916e579ac762a1bc80,master,8,5,2,1,2860,litong01,litong01,"all in one setup rc.local needs -p for mkdir command

bug fixes for swift 1033089
Swift 1.6.0 All in One setup uses rc.local to create a set of
directories like the following:
   /var/cache/swift /var/cache/swift2 /var/cache/swift3
   /var/cache/swift4
   /var/run/swift
without -p for mkdir command, when some of these directories
already exist, the rc.local fails so that the next set of
command won't execute. This causes swift fail to start because
of /var/run/swift does not exist. Adding -p to both mkdir
command solves this problem.

Change-Id: Ia26c9a857723747008293c0631c9acc1b58eca7e
"
openstack%2Fneutron~master~I50d6e1b21c743d811e44b415017ca7e19687c9c2,openstack/neutron,master,I50d6e1b21c743d811e44b415017ca7e19687c9c2,Exempt openstack-common from pep8 check,MERGED,2012-08-06 17:23:44.000000000,2012-08-06 17:23:44.000000000,2012-08-06 17:23:44.000000000,1,1,0,10887,12628f6f0590740b0d3f543620d184a10397ca0e,pep8-exempt-openstack-common,6,3,1,1,679,Kevin L. Mitchell,klmitch,"Exempt openstack-common from pep8 check

The openstack-common project already does its own pep8 checks; we
don't need to duplicate the effort.  This also avoids issues with
pep8 version skew between projects.

Change-Id: I50d6e1b21c743d811e44b415017ca7e19687c9c2
"
openstack%2Fnova~master~I07a39499432571fedd819c53ae414240cefc3354,openstack/nova,master,I07a39499432571fedd819c53ae414240cefc3354,Adds per-user-quotas support for more detailed quotas management,MERGED,2012-06-11 09:23:25.000000000,2012-08-06 16:36:49.000000000,2012-08-06 16:36:48.000000000,1300,168,19,8388,391f345dfff174108e330de1ed4c7ed18f8ff923,bp/per-user-quotas,84,12,18,12,3191,Kylin CG,kylin7-sg,"Adds per-user-quotas support for more detailed quotas management

Implements blueprint per-user-quotas.

Based on the original quotas structure.

NOTE:
quota_instances, quota_cores, quota_ram, quota_volumes,
quota_gigabytes, quota_key_pairs and quota_security_groups
are supported per user.

Allow 'projectadmin' role to access the user quota setting
methods.

Add commands 'nova-manage quota project/user' for quotas
management.

Change-Id: I07a39499432571fedd819c53ae414240cefc3354
"
openstack%2Fnova~master~Idf5424c04645f25097733848a007b150145b0b27,openstack/nova,master,Idf5424c04645f25097733848a007b150145b0b27,Improve external lock implementation,MERGED,2012-08-03 09:53:51.000000000,2012-08-06 16:15:31.000000000,2012-08-06 16:15:30.000000000,63,354,5,10767,2c1524866acb9f9ac3f50dc7d33338cfb03fd08a,bp/improve-external-locking,26,6,4,7,1528,Stanislaw Pitucha,stanislaw-pitucha,"Improve external lock implementation

Remove a number of limitations from the external locks.
- They can be nested now
- They do not need external cleanup in case of failures
- They do not rely on lockfile or greenlet internal implementation

New implementation is based on fcntl locks and any crashing process
will drop the lock. It does not have to rely on any cleanup code or
handling exceptions. Because no cleanup is needed, a number of tests
have been removed.
This implementation is not portable outside of POSIX/BSD/SVR4 systems.

Fcntl locks should work correctly with NFS mounts.

Locks are cleaned up after the tests finish running via run_tests.sh,
even though it's not strictly needed.

This change requires eventlet >= 0.9.17.

bp improve-external-locking

Change-Id: Idf5424c04645f25097733848a007b150145b0b27
"
openstack%2Fnova~master~I2b26d625cc7b8c5351d7d92c14afd07a004d46ef,openstack/nova,master,I2b26d625cc7b8c5351d7d92c14afd07a004d46ef,Migrate a logging change from common:,ABANDONED,2012-08-06 15:37:49.000000000,2012-08-06 16:05:49.000000000,,8,6,0,10895,a5b50158a95f9a0da4e7f34e9cae643fd0898f08,bug/1025820,4,3,1,1,1998,andrewbogott,andrewbogott,"Migrate a logging change from common:

commit 58404a1a9461900367dbb7a8b3f2f98441e12959
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Tue Jul 31 17:53:57 2012 +0100

    Install a qualified except hook.

    Fixes bug 1031351.

    As an Exception is raised, it was not visible in the log, because
    it wasn't qualified. The fix sets up the exception hook to be
    qualified as the product_name.

Change-Id: I2b26d625cc7b8c5351d7d92c14afd07a004d46ef
"
openstack%2Fkeystone~master~Ia3718107e436ceb034e3a89318ac05265d66d6f1,openstack/keystone,master,Ia3718107e436ceb034e3a89318ac05265d66d6f1,Use user home dir as default for cache,MERGED,2012-07-31 20:41:39.000000000,2012-08-06 15:55:13.000000000,2012-08-06 15:55:13.000000000,9,2,0,10627,ac4dcfd8f64dfe19d607b770eb98dd289498d3ac,bug/1031022,23,7,2,1,2218,Adam Young,ayoung,"Use user home dir as default for cache

This is a better and safer default, as it and minimizes the
possibility that the cache directory will be prepopulated or
unwritable, while still providing a reasonable value for the
individual developer

Creates a better exception for failure to create the cache
dir

Logs the name of the cache dir actually used.

Bug 1031022

Change-Id: Ia3718107e436ceb034e3a89318ac05265d66d6f1
"
openstack%2Fswift~milestone-proposed~I373f482e84a94b8ea03c54fc79564bb2333a5bfb,openstack/swift,milestone-proposed,I373f482e84a94b8ea03c54fc79564bb2333a5bfb,1.6.0 final = true,MERGED,2012-08-06 15:46:59.000000000,2012-08-06 15:50:33.000000000,2012-08-06 15:50:33.000000000,1,1,0,10897,874d2ddbcca2ecebae6c878e91fe236cc84005fe,1.6.0-final,6,3,1,1,330,John Dickinson,notmyname,"1.6.0 final = true

Change-Id: I373f482e84a94b8ea03c54fc79564bb2333a5bfb
"
openstack%2Foslo-incubator~master~I7b88b86a600fac0c30bcac354262ac00593b495c,openstack/oslo-incubator,master,I7b88b86a600fac0c30bcac354262ac00593b495c,Fix meaningless test case,MERGED,2012-08-06 15:27:53.000000000,2012-08-06 15:27:53.000000000,2012-08-06 15:27:53.000000000,1,1,0,10878,babd6ca3324b3a684dc1e0beedadfc89981039c7,bug/1031351,6,3,1,1,5044,Mate Lakat,mate-lakat,"Fix meaningless test case

Related to fixing bug 1031351

The testcase was meaningless.

Change-Id: I7b88b86a600fac0c30bcac354262ac00593b495c
"
openstack%2Foslo-incubator~master~Idf7cb975dd78e9951188781622a4d10ca466b154,openstack/oslo-incubator,master,Idf7cb975dd78e9951188781622a4d10ca466b154,Add multiple-driver support to the notifier api.,MERGED,2012-08-06 15:13:47.000000000,2012-08-06 15:13:47.000000000,2012-08-06 15:13:47.000000000,159,341,27,10035,c767e9beffe4b826eac869ce7e2eef2cc1499bbe,bug/1025820,33,8,6,10,1998,andrewbogott,andrewbogott,"Add multiple-driver support to the notifier api.

Move all of the functionality previously provided by the list_notifier
into the basic notifier api.  Move and restructure tests accordingly.

Remove the list_notifier file and test file.

For bug 1025820

Change-Id: Idf7cb975dd78e9951188781622a4d10ca466b154
"
openstack%2Fpython-novaclient~master~I6dde5a0411f3e814bb34c0936010f1b46a4248a3,openstack/python-novaclient,master,I6dde5a0411f3e814bb34c0936010f1b46a4248a3,gitignore ChangeLog and add to MANIFEST.in.,MERGED,2012-08-06 08:12:09.000000000,2012-08-06 15:03:13.000000000,2012-08-06 15:03:13.000000000,2,0,0,10870,077cc0bf22e378c4c4b970f2331a695e440a939f,gitignore-changelog,7,4,2,2,866,Chmouel Boudjnah,chmouel,"gitignore ChangeLog and add to MANIFEST.in.

Change-Id: I6dde5a0411f3e814bb34c0936010f1b46a4248a3
"
openstack%2Fswift~master~Ia9e6bbf05215879b602e9dcb77d007094c494dc1,openstack/swift,master,Ia9e6bbf05215879b602e9dcb77d007094c494dc1,Report all unmounted drives,MERGED,2012-07-30 20:11:44.000000000,2012-08-06 14:41:07.000000000,2012-08-06 14:41:07.000000000,4,2,0,10565,f2f6b2f26ca82c369629146ab1b97cd1b15871d1,bug/1031060,6,3,1,1,1603,Florian Hines,pandemicsyn,"Report all unmounted drives

- swift-recon cli now reports all unmounted drives.
- Fixes bug 1031060

Change-Id: Ia9e6bbf05215879b602e9dcb77d007094c494dc1
"
openstack%2Fpython-swiftclient~master~I24e73dabc6713ef8066114ca755b0c3f397d6cc9,openstack/python-swiftclient,master,I24e73dabc6713ef8066114ca755b0c3f397d6cc9,change package name,ABANDONED,2012-07-30 19:00:37.000000000,2012-08-06 14:20:30.000000000,,1,1,1,10558,8bb94287d697a0eeef4c806de6a2c3a9a812e72f,master,5,5,1,1,995,David Goetz,david-goetz,"change package name

Change-Id: I24e73dabc6713ef8066114ca755b0c3f397d6cc9
"
openstack%2Fnova~master~If8919817330dc9461a0472fea982d43c78a86f66,openstack/nova,master,If8919817330dc9461a0472fea982d43c78a86f66,Only log deprecated config warnings once.,MERGED,2012-08-04 19:24:30.000000000,2012-08-06 13:38:58.000000000,2012-08-06 13:38:57.000000000,20,1,0,10840,c3047b988fd7e937bf822a8a54115b4cab452380,bug/1032657,16,6,2,2,360,Dan Prince,dan-prince,"Only log deprecated config warnings once.

Updates Nova's deprecated warn function so that we only log
messages about deprecated config options once.

The motivation for this change is to cut down the log file noise
when deprecated config code gets called more than once.

Change-Id: If8919817330dc9461a0472fea982d43c78a86f66
"
openstack%2Fnova~master~Iaa0a68298f788cf89086a927ab1c85f245124553,openstack/nova,master,Iaa0a68298f788cf89086a927ab1c85f245124553,"Revert ""Handle InstanceNotFound in libvirt list_instances.""",ABANDONED,2012-08-06 08:58:04.000000000,2012-08-06 09:05:47.000000000,,3,27,0,10871,aa0a68298f788cf89086a927ab1c85f245124553,,2,1,1,2,1779,Daniel Berrange,berrange,"Revert ""Handle InstanceNotFound in libvirt list_instances.""

This reverts commit be590cfa4b0025587a956642dc859902d577f3f7

The _conn.lookupByID() libvirt API cannot raise nova.exception.InstanceNotFound exceptions, only libvirt.libvirtError exceptions."
openstack%2Fnova~master~I97c9533f8b37957e71237c610ac360fbf9f57b9a,openstack/nova,master,I97c9533f8b37957e71237c610ac360fbf9f57b9a,Handle InstanceNotFound in libvirt list_instances.,MERGED,2012-08-03 17:24:19.000000000,2012-08-06 08:58:04.000000000,2012-08-03 18:53:33.000000000,27,3,0,10783,be590cfa4b0025587a956642dc859902d577f3f7,bug/1032741,9,4,1,2,360,Dan Prince,dan-prince,"Handle InstanceNotFound in libvirt list_instances.

Updates the libvirt driver so that InstanceNotFound is
handled within the list_instances function. This
can occur if an instance is deleted while the
list_instances function is processing.

Fixes LP Bug #1032741.
Change-Id: I97c9533f8b37957e71237c610ac360fbf9f57b9a
"
openstack%2Fheat~master~I17a30b0c670dee5b228b4af8dad06ad109471e5d,openstack/heat,master,I17a30b0c670dee5b228b4af8dad06ad109471e5d,Add calculate_properties() to update() and restart_resource(),MERGED,2012-08-06 07:33:27.000000000,2012-08-06 07:33:27.000000000,2012-08-06 07:33:27.000000000,7,1,0,10866,ec45dd77c02c113af74002a65dd415758f412875,master,5,2,1,1,4715,Angus Salkeld,asalkeld,"Add calculate_properties() to update() and restart_resource()

This is the same fix as 783b1112490ef07db05251c1258c04f8b1caa5a0

Change-Id: I17a30b0c670dee5b228b4af8dad06ad109471e5d
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Fneutron~master~Ibbd27e6e7f16d73dfd3045ed60f63a38b23ea1ed,openstack/neutron,master,Ibbd27e6e7f16d73dfd3045ed60f63a38b23ea1ed,Make 4th octet of mac_range configurable.,MERGED,2012-08-06 05:15:22.000000000,2012-08-06 05:15:22.000000000,2012-08-06 05:15:22.000000000,39,3,12,10759,36f1f15cfbd93ca528f6c006c5b035f79126339c,bug/1022739,47,8,9,3,2031,Nachi Ueno,nati-ueno,"Make 4th octet of mac_range configurable.

Fix bug 1022739.
To get OUI per cluster is not realistic. So This commit
make 4th octet of mac_range configurable. By this commit,
the cloud provider can allocate OUI (3 octets)  + 1 extra octet
range (4 octets) for each cluster.

Change-Id: Ibbd27e6e7f16d73dfd3045ed60f63a38b23ea1ed
"
openstack%2Ftempest~master~Ib87c3dadcb233f9d1e8e38365960ad71d166913a,openstack/tempest,master,Ib87c3dadcb233f9d1e8e38365960ad71d166913a,Refactoring of base test case classes,ABANDONED,2012-06-27 16:52:01.000000000,2012-08-06 04:34:51.000000000,,1368,10,31,9059,ed22e5f8729186ef98ac0007f72f57b976c943e0,whitebox-manager,31,6,8,17,4120,Rohit Karajgi,rohitkarajgi,"Refactoring of base test case classes

* Splits out the ""manager"" class into its own file (at least
  for now to keep the code change size down initially)
* Adds base manager classes for Fuzz and Default clients
* Adds base test case class and a derived base SmokeTest class
* Adds smoke test for basic server operations in compute
* Adds non-smoke test for advanced server operations in compute

Change-Id: Ib87da825f05550d625a08aa1fe82bfaa921e80f9

Adds Whitebox manager and Servers Whitebox tests

This change (Draft) builds upon the proposed refactoring to the Tempest Manager
and base test classes as per https://review.openstack.org/#/c/7069

* Adds a whitebox manager subclass to base Manager providing database, ssh
and nova-manage access and related configs
* Adds inital set of whitebox tests for Compute and Images API

Change-Id: Ib87c3dadcb233f9d1e8e38365960ad71d166913a
"
openstack%2Fneutron~master~I65a2347dea5366cc0d15d98a88f40e42e1a45f4c,openstack/neutron,master,I65a2347dea5366cc0d15d98a88f40e42e1a45f4c,Replace openvswitch plugin's VlanMap with vlan_ids DB table.,MERGED,2012-08-06 01:02:43.000000000,2012-08-06 01:02:43.000000000,2012-08-06 01:02:43.000000000,269,21,43,10700,88078250028d50b6d726a6bdf79874a2f4e9abce,bug/1023167,24,5,4,10,1689,Robert Kukura,rkukura,"Replace openvswitch plugin's VlanMap with vlan_ids DB table.

Fixes bug 1023167.

The openswitch plugin's in-memory VlanMap is replaced with a vlan_ids
DB table similar to that used by the linuxbridge plugin. This will
prevent conflicting VLAN assignments if multiple server replicas are
run, and also sets the stage for phase 2 of the provider-networks BP
implementation that will add support for multiple physical
networks.

Unlike with the current linuxbridge plugin, the contents of the
openvswitch plugin's vlan_ids table are properly updated at startup in
case the vlan_min or vlan_max configuration variables have changed.

A new test_ovs_db test case has been added.

The primary key of the vlan_bindings table is changed from the vlan_id
to the network_id, which is now a foreign key, and network deletion is
now properly handled.

The net_id has been removed from the VlanIdInUse exception, requiring
a minor update to the linuxbridge plugin. The new NoNetworksAvailable
exception, with ResourceExhausted as its base class, is returned when
no more VLANs are available.

Change-Id: I65a2347dea5366cc0d15d98a88f40e42e1a45f4c
"
openstack%2Fnova~master~Ia78480edaed52932830da7b4e49c15fd2e1fa315,openstack/nova,master,Ia78480edaed52932830da7b4e49c15fd2e1fa315,Handle NetworkNotFound in _shutdown_instance.,MERGED,2012-08-05 10:12:43.000000000,2012-08-05 23:47:40.000000000,2012-08-05 23:47:39.000000000,28,1,0,10847,27ffef9c77d17e2252785bdc1117763248a374d0,bug/1008875,11,6,1,2,2271,Michael Still,mikalstill,"Handle NetworkNotFound in _shutdown_instance.

If no network is found, continue to perform the rest of the instance
shutdown, instead of propogating the exception. Resolves bug 1008875.

Change-Id: Ia78480edaed52932830da7b4e49c15fd2e1fa315
"
openstack%2Fcinder~master~Ib345970743d542afb65b7fb6980d6d369d757ad2,openstack/cinder,master,Ib345970743d542afb65b7fb6980d6d369d757ad2,Admin users should be restricted from seeing all snapshots by default.,ABANDONED,2012-08-03 21:57:34.000000000,2012-08-05 22:58:41.000000000,,107,9,0,10799,09440fa6af6f615c0b70567425a7bb9d5b99b18d,bug/967882,3,1,1,4,1205,Jake Dahn,jakedahn,"Admin users should be restricted from seeing all
snapshots by default.

  * Now to view all snapshots across all tenants you need
    to include the all_tenants=1 GET param in your api request.
  * Fixes remaining issues blocking bug #967882

Change-Id: Ib345970743d542afb65b7fb6980d6d369d757ad2
"
openstack%2Fnova~master~I13f4a209ac9acc732966cb6e01bdbbcc3e3bd3c8,openstack/nova,master,I13f4a209ac9acc732966cb6e01bdbbcc3e3bd3c8,Remove **kwargs from prep_resize in compute manager.,MERGED,2012-08-02 23:33:46.000000000,2012-08-05 19:32:06.000000000,2012-08-05 19:32:05.000000000,9,18,0,10752,46ece662345211fc9dd902c234e03dcbbe296979,bp/no-db-messaging,15,5,3,2,1561,Russell Bryant,russellb,"Remove **kwargs from prep_resize in compute manager.

The only place where additional arguments were being passed in was via
the unit tests, and they aren't used.

Part of blueprint no-db-messaging.

Change-Id: I13f4a209ac9acc732966cb6e01bdbbcc3e3bd3c8
"
openstack%2Fnova~master~I4af18e5575e2bb60a410fc8edabf3d607c72aabc,openstack/nova,master,I4af18e5575e2bb60a410fc8edabf3d607c72aabc,Updates to the prep_resize scheduler rpc call.,MERGED,2012-08-02 23:33:45.000000000,2012-08-05 19:09:57.000000000,2012-08-05 19:09:56.000000000,96,54,2,10751,6e134c9df2ec05ebce9f62c6d85988ece18620ad,bp/no-db-messaging,16,5,3,10,1561,Russell Bryant,russellb,"Updates to the prep_resize scheduler rpc call.

I started looking at this because of the prep_resize rpc call in the compute
manager.  An API server calls prep_resize on the scheduler which then calls it
on a compute node.  I will need to make the same changes on the compute side,
but this is the first step.

The prep_resize call was taking two object IDs, an instance UUID and an
instance_type ID.  Both of these have been converted.  It now takes an instance
dict and an instance_type dict, instead.  It can also handle receiving the old
IDs for backwards compatibility.  prep_resize also took a topic argument that
was unused, so it has just been removed.

There are a number of changes in the scheduler code tied up in this to make it
more explicit about exactly what arguments are expected instead of just using
*args, **kwargs.

Part of blueprint no-db-messaging.

Change-Id: I4af18e5575e2bb60a410fc8edabf3d607c72aabc
"
openstack%2Fglance~master~Ia3b726939ac244a79e5b83d8ccad120f790544cc,openstack/glance,master,Ia3b726939ac244a79e5b83d8ccad120f790544cc,blueprint atmos-storage-adapter,ABANDONED,2012-08-05 16:15:31.000000000,2012-08-05 16:16:44.000000000,,1,1,0,10849,6829e9e370a46dbd2f278ba34cd165c979a3f035,bp/atmos-storage-adapter,1,0,1,1,4498,saunders roesser,saunders-o,"blueprint atmos-storage-adapter

Change-Id: Ia3b726939ac244a79e5b83d8ccad120f790544cc
"
openstack%2Fnova~master~I57b0a0a42dac455d5baae3d726aea1507121aa4d,openstack/nova,master,I57b0a0a42dac455d5baae3d726aea1507121aa4d,Drop AES functions and pycrypto dependency,MERGED,2012-08-04 19:05:53.000000000,2012-08-05 11:57:36.000000000,2012-08-05 11:51:09.000000000,0,58,0,10839,56d3d29ad2451bd0e753e7878827a08b458b726b,drop-dangerous-aes,17,5,3,3,1528,Stanislaw Pitucha,stanislaw-pitucha,"Drop AES functions and pycrypto dependency

At some point IV parameter has been removed making these functions
dangerous to use unless keys are unique on every message. Since the
functions were added the original consumer has disappeared too. With
no more users it's better to get rid of the incomplete encryption system
entirely.

These were the only functions using pycrypto module directly, so it was
also removed from the dependency list.

Change-Id: I57b0a0a42dac455d5baae3d726aea1507121aa4d
"
openstack%2Fnova~master~Icce7ac9414f0e19eece44819a217634947de7f73,openstack/nova,master,Icce7ac9414f0e19eece44819a217634947de7f73,Update reset_db to call setup if _DB is None.,MERGED,2012-08-03 17:09:15.000000000,2012-08-05 03:32:59.000000000,2012-08-05 03:32:58.000000000,2,0,0,10781,3356d55977a0ff091711dcf368d0cc13ae0567f8,bug/1032738,9,6,2,1,360,Dan Prince,dan-prince,"Update reset_db to call setup if _DB is None.

This resolves issues when running individual tests that require
a database. With this fix I can once again run individual test
modules that make use of the database. For example:

  ./run_tests.sh test_libvirt

Previously this would fail with database errors.

Fixes LP Bug #1032738.

Change-Id: Icce7ac9414f0e19eece44819a217634947de7f73
"
openstack%2Fnova~master~I65681f905bacc2afda52853bbe9e364b89f515a8,openstack/nova,master,I65681f905bacc2afda52853bbe9e364b89f515a8,Simplify file hashing,MERGED,2012-08-04 17:10:24.000000000,2012-08-05 01:33:30.000000000,2012-08-05 01:33:30.000000000,2,1,0,10835,ba8675079b44ed306477674b77eae5e626020a9e,save-gc-when-hashing,13,3,2,1,1528,Stanislaw Pitucha,stanislaw-pitucha,"Simplify file hashing

Since map() is not lazy, hash_file() created huge lists filled with
`None` when hashing large files. Rewriting it to a simple loop prevents
that.

Change-Id: I65681f905bacc2afda52853bbe9e364b89f515a8
"
openstack%2Fnova~master~Idc67634b3e5a616021840fa66313a65b135e6f86,openstack/nova,master,Idc67634b3e5a616021840fa66313a65b135e6f86,Fix test classes collision,MERGED,2012-08-04 18:08:22.000000000,2012-08-05 00:29:41.000000000,2012-08-05 00:29:40.000000000,2,2,0,10837,3f9c909c6b63b1af1615e92abe9c1b0c366dd392,test-name-collision,7,4,1,1,1528,Stanislaw Pitucha,stanislaw-pitucha,"Fix test classes collision

Test classes LibvirtConfigGuestSerialTest were colliding, hiding a
failing test by accident. One has been renamed to *GuestConsoleTest.

Change-Id: Idc67634b3e5a616021840fa66313a65b135e6f86
"
openstack%2Fnova~master~I0b92a1baa17768d9cf4e709b3331480548dd041e,openstack/nova,master,I0b92a1baa17768d9cf4e709b3331480548dd041e,Fix notification logic,MERGED,2012-08-04 13:15:16.000000000,2012-08-05 00:10:57.000000000,2012-08-05 00:10:56.000000000,21,2,0,10830,662cc871c8aaa96fea26c0eab75fed09e2995ee6,notification-logic,6,3,1,2,1528,Stanislaw Pitucha,stanislaw-pitucha,"Fix notification logic

Notifications were always treated as if they're about state changes
due to a typo. Additionally exception handler did not work correctly.
Regression tests included.

Change-Id: I0b92a1baa17768d9cf4e709b3331480548dd041e
"
openstack%2Fnova~master~I84be22e042696a51eb919f6c6f0ccf58aaf3ace3,openstack/nova,master,I84be22e042696a51eb919f6c6f0ccf58aaf3ace3,Remove unused variables,MERGED,2012-08-04 13:36:37.000000000,2012-08-04 23:52:31.000000000,2012-08-04 23:52:30.000000000,3,5,0,10831,f0dddbae1407c0be00a32a034516b17298aba6e2,images-trivial-code-cleanup,7,4,1,1,1528,Stanislaw Pitucha,stanislaw-pitucha,"Remove unused variables

fetch() no longer returns metadata so fetch_to_raw does not need to pass it.
Callers don't expect the return value either.

Output of execute() is not used for anything

Change-Id: I84be22e042696a51eb919f6c6f0ccf58aaf3ace3
"
openstack%2Fnova~master~I6745660658df4d0f2bc4cd423e173200fc23cd8e,openstack/nova,master,I6745660658df4d0f2bc4cd423e173200fc23cd8e,Update list_instances to catch libvirtError.,MERGED,2012-08-03 19:40:45.000000000,2012-08-04 22:51:15.000000000,2012-08-04 22:51:14.000000000,3,3,0,10788,25f50d9aa5000248959073fd47814f05efea3a3e,bug/1032741,13,5,2,2,360,Dan Prince,dan-prince,"Update list_instances to catch libvirtError.

Commit be590cfa4b0025587a956642dc859902d577f3f7 caught (and tested
for) the wrong exception. lookupByID throws a libvirtError.

Fixes LP Bug #1032741.

Change-Id: I6745660658df4d0f2bc4cd423e173200fc23cd8e
"
openstack%2Fopenstack-planet~master~Iebfd4111de3a2c94bdb489756e8b1e3e2431fe36,openstack/openstack-planet,master,Iebfd4111de3a2c94bdb489756e8b1e3e2431fe36,Added Mirantis blog by tag networking,MERGED,2012-08-03 20:39:04.000000000,2012-08-04 21:51:22.000000000,2012-08-04 21:51:22.000000000,6,0,0,10790,319947e190a95ddf8d51ce1b24fa25e715d22af6,add-mirantis-networking,4,3,1,2,4987,Eugene Kirpichov,ekirpichov,"Added Mirantis blog by tag networking

Change-Id: Iebfd4111de3a2c94bdb489756e8b1e3e2431fe36
"
openstack%2Fopenstack-planet~master~I4b0c2e8186843e3a5447db7b7faf41efb9bf2f67,openstack/openstack-planet,master,I4b0c2e8186843e3a5447db7b7faf41efb9bf2f67,Adding secstack.org feed,MERGED,2012-08-03 22:48:39.000000000,2012-08-04 21:50:59.000000000,2012-08-04 21:50:59.000000000,5,0,0,10802,1d0eeb79344f139c213dbe4b571517eb9b64f51c,master,3,2,1,1,1699,Matt Joyce,matt-nycresistor,"Adding secstack.org feed

Change-Id: I4b0c2e8186843e3a5447db7b7faf41efb9bf2f67
"
openstack%2Fnova~master~I26b90548d72efb5408cca93aaf6f9b7d08c56e56,openstack/nova,master,I26b90548d72efb5408cca93aaf6f9b7d08c56e56,Adds extension for displaying security groups,ABANDONED,2012-07-27 20:30:57.000000000,2012-08-04 20:26:45.000000000,,246,0,4,10435,a9fb2a01b562a234e4ee352d0f8a9cf7118c1f97,bp/deprecate-createserverext,13,8,1,5,67,Vish Ishaya,vishvananda,"Adds extension for displaying security groups

Implements blueprint deprecate-createserverext

The createserverext extension creates a new endpoint for the
sole purpose of displaying security groups. Security groups should
be displayed via an output extension instead, and be properly
namesapeced.

This commit adds an extension do do the above and marks the
createserverext extension deprecated so it can be removed. It
also sets policy to allow all users to access the extension by
default.

Tests are included to ensure that the groups are returned in both
json and xml.

Change-Id: I26b90548d72efb5408cca93aaf6f9b7d08c56e56
"
openstack%2Fneutron~master~Ic236f5fdeb79eb36791434999df2b731856de092,openstack/neutron,master,Ic236f5fdeb79eb36791434999df2b731856de092,update DHCP agent to work with linuxbridge plug-in,MERGED,2012-08-04 19:50:19.000000000,2012-08-04 19:50:19.000000000,2012-08-04 19:50:19.000000000,450,175,24,10369,a9afa9dcdb85474b00f3715f75825d77f617011b,bug/1027194,22,8,2,6,2592,Mark McClain,markmcclain,"update DHCP agent to work with linuxbridge plug-in

Fixes bug: 1027194

Update the interface driver to use veths instead of tap devices.  This
change is compatible with the netns work.

Change-Id: Ic236f5fdeb79eb36791434999df2b731856de092
"
openstack%2Fnova~master~I449f30afde7d162ed2c0df149174f1250ef378ca,openstack/nova,master,I449f30afde7d162ed2c0df149174f1250ef378ca,Require eventlet >= 0.9.17,MERGED,2012-08-04 04:05:23.000000000,2012-08-04 15:25:10.000000000,2012-08-04 15:25:09.000000000,1,1,0,10823,245e9400402207588e31ba249c2c13be28f0ff63,eventlet-0.9.17,9,6,1,1,1812,p-draigbrady,p-draigbrady,"Require eventlet >= 0.9.17

0.9.17 was released 2012-08-03 and
includes two particular fixes related to OpenStack

1. https://bitbucket.org/which_linden/eventlet/issue/123/
Fix an exception thrown by epoll in certain cases.
This can cause jenkins to deadlock, triggered for example by:
https://review.openstack.org/#/c/10767/

2. https://bitbucket.org/which_linden/eventlet/issue/115/
   https://bugs.launchpad.net/nova/+bug/903199
Fix a significant memory leak of _DummyThread objects.

Change-Id: I449f30afde7d162ed2c0df149174f1250ef378ca
"
openstack%2Fnova~master~Ic6a6862e5bc357846bf3202186c7e24622d3bb87,openstack/nova,master,Ic6a6862e5bc357846bf3202186c7e24622d3bb87,Sync w/ latest openstack common log.py.,MERGED,2012-08-01 17:15:57.000000000,2012-08-04 07:19:39.000000000,2012-08-04 07:19:38.000000000,0,11,1,10666,997fc59c4783b8c8dfe334bf0513169ec6126efb,bug/1029577,9,5,1,1,360,Dan Prince,dan-prince,"Sync w/ latest openstack common log.py.

Includes the following updates for openstack-common's log.py:

    Remove code to clear basicConfig root log handlers

    Removes some old Nova specific code to clear out the log handlers
    from Nova's logging basicConfig. This code is arguably Nova specific
    and doesn't really belong in openstack-common's generic logging
    configuration.

    Additionally, This code was actually removing the root logger used
by
    some command line tools and binaries and hiding log messages that
should
    have otherwise gone to the console.

    Fixes LP Bug #1029577.

Change-Id: Ic6a6862e5bc357846bf3202186c7e24622d3bb87
"
openstack%2Fnova~master~Ic3b86eed17ebee90766af9e2c3c74f33c7a09432,openstack/nova,master,Ic3b86eed17ebee90766af9e2c3c74f33c7a09432,Audit log messages in nova/compute/api.py,MERGED,2012-07-28 11:19:03.000000000,2012-08-04 05:25:01.000000000,2012-08-04 05:25:00.000000000,12,9,2,10454,aa886dcce57db9198c81d0829d939ecb9f1a27c4,audit-api-logs,16,6,2,1,2271,Michael Still,mikalstill,"Audit log messages in nova/compute/api.py

To include instance whereever possible.

Change-Id: Ic3b86eed17ebee90766af9e2c3c74f33c7a09432
"
openstack%2Fnova~master~I5442442f00d93f5e8b82f492d62918419db5cd3b,openstack/nova,master,I5442442f00d93f5e8b82f492d62918419db5cd3b,fix unmounting of LXC containers,MERGED,2012-08-01 14:49:59.000000000,2012-08-04 03:50:12.000000000,2012-08-04 03:50:11.000000000,146,26,6,10655,a5184d5dbf67630dac3abb69b1678b60807cfce7,bug/971621,19,7,3,7,1812,p-draigbrady,p-draigbrady,"fix unmounting of LXC containers

There were two issues here.

1. There was a global object stored for all instances,
thus the last mounted instance was always unmounted.

2. Even if there was only a single LXC instance in use,
the global object would be lost on restart of Nova.

Therefore we reset the internal state for the mount object,
by passing in the mount point to destroy_container(),
and querying the device in use for that mount point.

Fixes bug: 971621
Change-Id: I5442442f00d93f5e8b82f492d62918419db5cd3b
"
openstack%2Fopenstack-manuals~stable%2Fessex~I7f21dd9dc777ea0aa0200ac736506bac357666b4,openstack/openstack-manuals,stable/essex,I7f21dd9dc777ea0aa0200ac736506bac357666b4,Cherry pick Fix bug 1026617,MERGED,2012-08-03 04:21:24.000000000,2012-08-04 03:39:01.000000000,2012-08-04 03:39:01.000000000,13179,24,0,10761,ab6878f0a4a6e4e1723af1b4cb5c8ddb716a0ca2,bug/1026617,4,3,1,5,4625,Jonathan Proulx,jproulx,"Cherry pick Fix bug 1026617

picked from https://review.openstack.org/#/c/10678/
Expand discussion of images and instances, with diagrams

Change-Id: I7f21dd9dc777ea0aa0200ac736506bac357666b4
"
openstack%2Fheat~master~I0e7f415e7aee60c09d0b5b172742af7a5b313191,openstack/heat,master,I0e7f415e7aee60c09d0b5b172742af7a5b313191,Log all startup operations to /var/log/heat-startup.log,MERGED,2012-08-04 03:14:00.000000000,2012-08-04 03:14:00.000000000,2012-08-04 03:14:00.000000000,7,1,0,10810,dedb9475a91fc4833adf4a5201c5898b09081ad2,master,5,2,1,3,2834,Steven Dake,sdake,"Log all startup operations to /var/log/heat-startup.log

Change-Id: I0e7f415e7aee60c09d0b5b172742af7a5b313191
Signed-off-by: Steven Dake <sdake@redhat.com>
"
openstack%2Fheat~master~I5174928fc2ac205dcd7818ecf1da6b8e32f48e08,openstack/heat,master,I5174928fc2ac205dcd7818ecf1da6b8e32f48e08,Force rpm to retry indefinately during crankcase build,MERGED,2012-08-04 03:08:59.000000000,2012-08-04 03:08:59.000000000,2012-08-04 03:08:59.000000000,75,11,0,10818,31718b1e145832d23dca66481a9a904ec761db24,master,5,2,1,1,2834,Steven Dake,sdake,"Force rpm to retry indefinately during crankcase build

If RPM is not forced, sometimes packages will fail to download within the
default 10 retries.  This results in crankcase failing to build OpenShift.

Change-Id: I5174928fc2ac205dcd7818ecf1da6b8e32f48e08
Signed-off-by: Steven Dake <sdake@redhat.com>
"
openstack%2Fnova~master~I74c7d2a3e88b3a4f114e7da62c56f0481ee64a64,openstack/nova,master,I74c7d2a3e88b3a4f114e7da62c56f0481ee64a64,"Partially revert ""Remove unused scheduler functions""",MERGED,2012-07-27 12:56:00.000000000,2012-08-04 01:58:48.000000000,2012-08-04 01:58:47.000000000,16,0,0,10400,cf1540c4a62f0a31c4a313be3811d1e4b81091f8,bug/1029262,18,7,3,1,1561,Russell Bryant,russellb,"Partially revert ""Remove unused scheduler functions""

This partially reverts commit 2aaa3d2860eed7574c5df64a8ceeb8a6adf23460.

The problem pointed out by this bug is that these changes introduce a
non-backwards compatibile change to the schedulre rpc API.  There are a
couple of acceptable ways to deal with this:

1) Leave most of the code and only remove the client side.  This means
   that a message sent from an earlier version will still work.  This is
   the ideal situation for almost *all* changes to rpc APIs.  We have to
   make a habit of this to eventually be able to support rolling
   upgrades.

2) Leave the manager methods, but simply have them raise an exception.
   This is a bit better than removing the method because the error
   can be made more explicit and obvious.  Otherwise, the operator will
   get ""no such method"" rpc exceptions, which will seem a bit more
   bizzare.

   An example of when this option makes sense is commit
   cac332c39645286a11c009094a86f62d02752183.  This patch refactored the
   live migration code is such a significant way that making it
   backwards compatibile seemed rather difficult to do.  The old rpc
   methods stuck around but just raise an exception.  The potential
   failure is just that live migration would fail, but the exception
   makes it obvious that an upgrade must be completed for live migration
   to work.

The current patch implements #2 in the case of get_service_capabilities,
since it hasn't been used since pre-essex.  Approach #2 is taken for
get_host_list() as well.  It was used until fairly recently, but was
broken, including being broken in Essex.  The fix that went into Essex
for this makes it no longer use RPC.

Fix bug 1029262.

Change-Id: I74c7d2a3e88b3a4f114e7da62c56f0481ee64a64
"
openstack%2Fnova~master~If0b18ae828e74203f84a8b6f8b4ba0100b3bbc59,openstack/nova,master,If0b18ae828e74203f84a8b6f8b4ba0100b3bbc59,Fix broken pep8 exclude processing.,MERGED,2012-07-26 13:31:57.000000000,2012-08-04 01:32:31.000000000,2012-08-04 01:32:30.000000000,53,1,9,10340,b71e86d4d7689896daddf40476f466df7ac6cabe,10340,19,7,4,2,2,Monty Taylor,mordred,"Fix broken pep8 exclude processing.

First of all, our pep8 exclude was excluding openstack, to trap
for not doing pep8 checks on openstack/common, which comes from elsewhere.
But, pep8 strips filenames down to basename when doing exclude checks on
them, which makes no sense. To fix this, grab the two functions from pep8,
fix them, and monkeypatch them from within hacking.py.

Patch has been submitted upstream as:

  https://github.com/jcrocholl/pep8/pull/111

Also, changed the exclude to catch just openstack/common.

Change-Id: If0b18ae828e74203f84a8b6f8b4ba0100b3bbc59
"
openstack%2Fnova~master~I137c9522257e8b5fcb13c1e9fe6cb4e0c442e33c,openstack/nova,master,I137c9522257e8b5fcb13c1e9fe6cb4e0c442e33c,Remove unused variables,MERGED,2012-08-03 21:56:26.000000000,2012-08-04 01:12:37.000000000,2012-08-04 01:12:36.000000000,1,6,0,10798,e1fb3413ed04008724db3f8ac705810537bfebb2,unused,9,4,1,2,1711,Yun Mao,yunmao,"Remove unused variables

Change-Id: I137c9522257e8b5fcb13c1e9fe6cb4e0c442e33c
"
openstack%2Fhorizon~master~I7fa9d3ee3e924a1cd893130dcbb06fb21aeb948f,openstack/horizon,master,I7fa9d3ee3e924a1cd893130dcbb06fb21aeb948f,Added portuguese locale support for various fields calling trans but lacking msgid,ABANDONED,2012-07-09 19:05:55.000000000,2012-08-04 00:17:43.000000000,,104,12,0,9537,3990c919a0d21e38c9b9b0fe824ef2fe3bb79101,master,11,5,3,3,1699,Matt Joyce,matt-nycresistor,"Added portuguese locale support for various fields calling trans but lacking msgid

Translations added for i18n untracked strings in the following :

horizon/dashboards/settings/user/templates/user/_settings.html
horizon/dashboards/nova/instances/templates/instances/_launch_details_help.html
horizon/dashboards/nova/images_and_snapshots/templates/images_and_snapshots/images/_create.html
horizon/dashboards/nova/images_and_snapshots/templates/images_and_snapshots/images/_create.html
horizon/dashboards/nova/images_and_snapshots/templates/images_and_snapshots/images/create.html
horizon/dashboards/nova/images_and_snapshots/images/forms.py

Change-Id: I7fa9d3ee3e924a1cd893130dcbb06fb21aeb948f
"
openstack%2Fglance~master~Ibc44413d630bf35e0c396adc430c39f4295030fd,openstack/glance,master,Ibc44413d630bf35e0c396adc430c39f4295030fd,Adds proper response checking to HTTP Store.,MERGED,2012-08-02 01:05:58.000000000,2012-08-03 23:04:08.000000000,2012-08-03 23:04:08.000000000,102,14,7,10698,616d2f9a65f7995298153cdf8a1e94bb62912ebe,bug/1009248,20,7,4,2,1816,Gabriel Hurley,gabriel-hurley,"Adds proper response checking to HTTP Store.

The HTTP Store now handles the following cases:

  * Redirects are resolved (infinite redirect chains are prevented).
  * 4xx and 5xx status codes result in a proper exception instead
    of trying to continue with the image.

Fixes bug 1009248.

Change-Id: Ibc44413d630bf35e0c396adc430c39f4295030fd
"
openstack%2Fnova~master~I71de42ffd3e83c57772b6490c52f24bcd9d1f1ea,openstack/nova,master,I71de42ffd3e83c57772b6490c52f24bcd9d1f1ea,Rename _self to self according to Python convention,MERGED,2012-08-03 22:05:27.000000000,2012-08-03 22:45:48.000000000,2012-08-03 22:45:48.000000000,1,1,0,10801,be6d2253d61fae63b5c829960cbf163c50c2efeb,self,7,4,1,1,1711,Yun Mao,yunmao,"Rename _self to self according to Python convention

If self is never used, it should probably be defined as a classmethod
or a staticmethod, instead of _self. Use ""self"" for now to stick
to python convention, and leave proper refactor to other patches.

Change-Id: I71de42ffd3e83c57772b6490c52f24bcd9d1f1ea
"
openstack%2Fnova~master~I8b5690c5562768050416d0921cbae7dd0af769c9,openstack/nova,master,I8b5690c5562768050416d0921cbae7dd0af769c9,import missing module time,MERGED,2012-08-03 22:00:29.000000000,2012-08-03 22:43:32.000000000,2012-08-03 22:43:31.000000000,1,0,0,10800,0c5a3fd184352d703a4643de9d89ecb4f96fdc5b,missing_import,7,4,1,1,1711,Yun Mao,yunmao,"import missing module time

time is used in line 2450 but is never imported

Change-Id: I8b5690c5562768050416d0921cbae7dd0af769c9
"
openstack%2Fdevstack~master~I7942407df768bfa8dd035f15fa8b43ba05319779,openstack/devstack,master,I7942407df768bfa8dd035f15fa8b43ba05319779,Ensure that we have access to sbin binaries through sudo,MERGED,2012-06-14 13:46:17.000000000,2012-08-03 22:25:16.000000000,2012-08-03 22:25:16.000000000,3,0,1,8533,f2a25b776bd1e7bffadf6939ffdc76384da34848,sudo-path,15,4,2,1,4460,Vincent Untz,vuntz,"Ensure that we have access to sbin binaries through sudo

We need to add the sbin paths to the secure path in sudoers for the user
running the script, to make sure that running sbin binaries from sudo
will work.

Change-Id: I7942407df768bfa8dd035f15fa8b43ba05319779
"
openstack%2Ftempest~master~I12125fffb725cad3a4fef3134c83e55437529252,openstack/tempest,master,I12125fffb725cad3a4fef3134c83e55437529252,Addition of base Smoke and Whitebox tests,MERGED,2012-08-03 17:16:41.000000000,2012-08-03 22:17:45.000000000,2012-08-03 22:17:44.000000000,1393,12,5,10782,051075a59642e0d2f98a4ab792a52523e3478159,whitebox-manager,18,4,4,19,7,Jay Pipes,jaypipes,"Addition of base Smoke and Whitebox tests

* Splits out the ""manager"" class into its own file (at least
  for now to keep the code change size down initially)
* Adds base manager classes for Fuzz and Default clients
* Adds base test case class and a derived base SmokeTest class
* Adds smoke test for basic server operations in compute
* Adds non-smoke test for advanced server operations in compute
* Adds Whitebox base test case class
* New basic db-checking whitebox tests for servers and images

This change builds upon the proposed refactoring to the Tempest Manager
and base test classes as per https://review.openstack.org/#/c/7069

Change-Id: I12125fffb725cad3a4fef3134c83e55437529252
"
openstack%2Fcinder~master~Ie9d74e9c09fa0c192ab6257b5fb02d65b593cbfb,openstack/cinder,master,Ie9d74e9c09fa0c192ab6257b5fb02d65b593cbfb,Admin users should be restricted from seeing all volumes by default.,MERGED,2012-08-02 23:02:00.000000000,2012-08-03 20:37:16.000000000,2012-08-03 20:37:16.000000000,79,8,1,10750,a1b4bd5e86cd865869308c976c6aebf9a4ad23a8,bug/967882,17,7,2,4,1205,Jake Dahn,jakedahn,"Admin users should be restricted from seeing all
volumes by default.

  * Now to view all volumes across all tenants you need
    to include the all_tenants=1 GET param in your api request.
  * Fixes remaining issues blocking bug #967882

Change-Id: Ie9d74e9c09fa0c192ab6257b5fb02d65b593cbfb
"
openstack%2Fglance~master~Ifd0217c99402316214efaf1fe8533c60c2277257,openstack/glance,master,Ifd0217c99402316214efaf1fe8533c60c2277257,Store context in local thread store for logging.,MERGED,2012-08-01 04:37:16.000000000,2012-08-03 20:13:51.000000000,2012-08-03 20:13:51.000000000,33,0,0,10638,5cf0c9b4eb354a9a4e0d115510946c732f4006fa,bug/1031596,20,5,4,2,177,Alex Meade,alex-meade,"Store context in local thread store for logging.

This also fixes the logging of request ids for every request.

Fixes bug 1031596

Change-Id: Ifd0217c99402316214efaf1fe8533c60c2277257
"
openstack%2Fdevstack~master~I50409d03255b92f154112b57e96ad71f8542ac96,openstack/devstack,master,I50409d03255b92f154112b57e96ad71f8542ac96,Adds compute whitebox configuration options,MERGED,2012-08-01 15:56:42.000000000,2012-08-03 20:01:29.000000000,2012-08-03 20:01:29.000000000,17,1,1,10659,4ba6eeb53afe4b06f87f034cfe2d9cd82eb1634f,whitebox-tempest,16,4,3,1,7,Jay Pipes,jaypipes,"Adds compute whitebox configuration options

Adds the following options to the tempest configuration
file:

COMPUTE_CONFIG_PATH
COMPUTE_SOURCE_DIR
COMPUTE_WHITEBOX_ENABLED
COMPUTE_PATH_TO_PRIVATE_KEY
COMPUTE_DB_URI
COMPUTE_BIN_DIR

These options are used in an upcoming Tempest patchset

Change-Id: I50409d03255b92f154112b57e96ad71f8542ac96
"
openstack%2Fglance~master~Ia2cdb7185e8ec92ca6e587678a688d23a5ac0221,openstack/glance,master,Ia2cdb7185e8ec92ca6e587678a688d23a5ac0221,fix the qpid_heartbeat option so that it's effective,MERGED,2012-08-02 17:59:22.000000000,2012-08-03 18:53:56.000000000,2012-08-03 18:53:56.000000000,1,1,0,10728,751ac81defe61d4cc8fb5e86dc96f76bdee6f398,bug/1032314,10,4,1,1,1812,p-draigbrady,p-draigbrady,"fix the qpid_heartbeat option so that it's effective

The 'hearbeat' typo caused this setting to be ineffective.

Fixes bug: 1032314
Change-Id: Ia2cdb7185e8ec92ca6e587678a688d23a5ac0221
"
openstack%2Fpbr~master~I7725c14698ca3a950000549b36120cd63d29b946,openstack/pbr,master,I7725c14698ca3a950000549b36120cd63d29b946,Fix a syntax error.,MERGED,2012-08-03 16:21:43.000000000,2012-08-03 18:40:45.000000000,2012-08-03 18:40:45.000000000,2,2,1,10778,a9732cf178de7d83229fd85d57c163fb6e8770f9,master,10,5,2,1,2,Monty Taylor,mordred,"Fix a syntax error.

Change-Id: I7725c14698ca3a950000549b36120cd63d29b946
"
openstack%2Fpbr~master~I540b3f12d9e3682959089523e13cd290682fdaa8,openstack/pbr,master,I540b3f12d9e3682959089523e13cd290682fdaa8,Only generate versioninfo in our own repo.,MERGED,2012-08-03 16:21:43.000000000,2012-08-03 18:40:04.000000000,2012-08-03 18:40:04.000000000,5,2,0,10777,87d579dc3d7665b5e4272048b353e8cb02105e16,master,10,5,2,2,2,Monty Taylor,mordred,"Only generate versioninfo in our own repo.

We were doing some blind re-generation in some contexts, so that when
a pbr managed library was installed in the source dir of a different
project that was also in git, we'd re-write an incorrect version.

Change-Id: I540b3f12d9e3682959089523e13cd290682fdaa8
"
openstack%2Fpbr~master~I514dded8516ea523616bb0d8f539d3578e3d2c52,openstack/pbr,master,I514dded8516ea523616bb0d8f539d3578e3d2c52,"Use pbr, but not via entrypoint hooks.",MERGED,2012-08-03 16:21:43.000000000,2012-08-03 18:39:57.000000000,2012-08-03 18:39:57.000000000,20,11,0,10776,993c61cabbff2953550c32f9e6ebc2057d10619d,master,10,5,2,4,2,Monty Taylor,mordred,"Use pbr, but not via entrypoint hooks.

Also had to clean up some pep8 and pyflakes errors.

Change-Id: I514dded8516ea523616bb0d8f539d3578e3d2c52
"
openstack%2Fglance~master~I9a3a6a23b1bcec5229b15234512e04cc47c3ffd9,openstack/glance,master,I9a3a6a23b1bcec5229b15234512e04cc47c3ffd9,Make TCP_KEEPIDLE configurable,MERGED,2012-08-01 14:33:59.000000000,2012-08-03 18:15:50.000000000,2012-08-03 18:15:50.000000000,18,1,0,10654,efb30dd6405aa1af1b6f22296bf026b20878c526,bug/1031794,10,5,3,4,455,Stuart McLaren,stuart-mclaren,"Make TCP_KEEPIDLE configurable

Addresses LP bug #1031794.

Change-Id: I9a3a6a23b1bcec5229b15234512e04cc47c3ffd9
"
openstack%2Fdevstack-gate~master~I76a01f0c8a1e777d203e98d2c3623802634a4bc3,openstack/devstack-gate,master,I76a01f0c8a1e777d203e98d2c3623802634a4bc3,Don't trust the delete API.,MERGED,2012-08-03 17:42:50.000000000,2012-08-03 17:42:50.000000000,2012-08-03 17:42:50.000000000,10,0,0,10758,194e025283fa276767d4b5b623564228adcb98b2,master,5,2,1,1,1,James E. Blair,corvus,"Don't trust the delete API.

Don't believe the API if it says it deleted a server.  Instead,
wait until the server doesn't show up in the future, and only then,
remove it from the DB.

Change-Id: I76a01f0c8a1e777d203e98d2c3623802634a4bc3
"
openstack%2Fdevstack-gate~master~I20d6bed6724ef131109fe3ccfe2b11e34edc8a96,openstack/devstack-gate,master,I20d6bed6724ef131109fe3ccfe2b11e34edc8a96,Use the workspace cache.,MERGED,2012-08-03 17:42:50.000000000,2012-08-03 17:42:50.000000000,2012-08-03 17:42:50.000000000,6,0,0,10739,72695310c1db63c72d194a3c854123fd1fca465d,master,6,3,1,1,1,James E. Blair,corvus,"Use the workspace cache.

The update vm job was caching git repos, but the gate job wasn't
using them.

Change-Id: I20d6bed6724ef131109fe3ccfe2b11e34edc8a96
"
openstack%2Ftempest~master~Id191c62aae76375c7f6205f80a52d45d0c645ed7,openstack/tempest,master,Id191c62aae76375c7f6205f80a52d45d0c645ed7,"Fixes bug 902402- Integration Testcases for Keystone - users, Roles, and tenants",MERGED,2012-05-30 12:22:49.000000000,2012-08-03 17:27:45.000000000,2012-08-03 17:27:45.000000000,182,0,8,7902,efc8bd7cb0b354a7c7a39df7da57594f0f71821e,bug/902402,35,5,10,3,2238,rajalakshmi-ganesan,rajalakshmi-ganesan,"Fixes bug 902402- Integration Testcases for Keystone - users, Roles, and tenants

Change-Id: Id191c62aae76375c7f6205f80a52d45d0c645ed7
"
openstack%2Foslo-incubator~master~I89afc2bcd60e6d8a5056f7ac9ebbf8790cf27ccc,openstack/oslo-incubator,master,I89afc2bcd60e6d8a5056f7ac9ebbf8790cf27ccc,rpc: remove cast_to_server() functions,ABANDONED,2012-08-03 15:41:51.000000000,2012-08-03 15:41:51.000000000,,24,254,0,10651,266d05baa443777a251eb1a97aff4ca7b134166c,bug/1031709,16,5,3,8,1247,Mark McLoughlin,markmc,"rpc: remove cast_to_server() functions

Fixes bug #1031709
Part of blueprint rpc-api-review

These functions were added to Nova by commit c729ba8 6 months ago and
have never been used by Nova or any of the other projects using the
common RPC API.

Remove the APIs for now until they are actually needed since they will
be more difficult to remove in future after we do a library release of
openstack-common which includes the RPC API.

Change-Id: I89afc2bcd60e6d8a5056f7ac9ebbf8790cf27ccc
"
openstack%2Fneutron~master~I63d86788e004ac371e69c238caf38c64ee398955,openstack/neutron,master,I63d86788e004ac371e69c238caf38c64ee398955,Remove unused properties,MERGED,2012-08-03 15:24:09.000000000,2012-08-03 15:24:09.000000000,2012-08-03 15:24:09.000000000,2,4,0,10762,ff741c2dfde005963b576c90e8e26eab25caa17c,bug/1032502,6,3,1,2,2031,Nachi Ueno,nati-ueno,"Remove unused properties

Fixes bug 1032502.

Change-Id: I63d86788e004ac371e69c238caf38c64ee398955
"
openstack%2Fnova~master~Ief0dc9cc75effd4bd7e775a002aad51a1a64b87b,openstack/nova,master,Ief0dc9cc75effd4bd7e775a002aad51a1a64b87b,Fix logic on root_helper deprecation warning.,ABANDONED,2012-08-03 14:41:54.000000000,2012-08-03 15:19:30.000000000,,1,1,0,10773,aedc455adda780bdd1b313dce16d0cdcd71291ae,bug/1032657,5,3,2,1,360,Dan Prince,dan-prince,"Fix logic on root_helper deprecation warning.

Updates the logic which determines when we log a deprecation warning
for the old root_helper config. We only want to log this warning
if the new rootwrap_config is None *AND* the old root_helper option
is not set to the default value (sudo).

Fixes LP Bug #1032657.

Change-Id: Ief0dc9cc75effd4bd7e775a002aad51a1a64b87b
"
openstack%2Fneutron~master~Ibc5eacac7a324584e6ccff120f573444932a88ef,openstack/neutron,master,Ibc5eacac7a324584e6ccff120f573444932a88ef,Notification for network/subnet/port create/delete/update. blueprint quantum-notifications,MERGED,2012-08-03 13:04:05.000000000,2012-08-03 13:04:05.000000000,2012-08-03 13:04:05.000000000,204,2,40,9835,f8e2c112829157a0ec12cfd1afa1d1a7ab9becb4,bp/quantum-notifications,37,8,4,3,2874,yong sheng gong,gongysh,"Notification for network/subnet/port create/delete/update.
blueprint quantum-notifications

Add host configuration into conf, which is determined by socket.gethostname()
function by default. Host name is part of publiser id, which is in the format
of 'network'.$host.

We add create/update/delete start and end notification for each kind of resource.
By default, the notification do nothing since the notifier driver is no_op_notifier.
We can define it in quantum.conf.

Change-Id: Ibc5eacac7a324584e6ccff120f573444932a88ef
"
openstack%2Fopenstack-manuals~master~Ic4564833e453ee34deafedb3f5621d74624aef20,openstack/openstack-manuals,master,Ic4564833e453ee34deafedb3f5621d74624aef20,Document how to create qcow and raw images.,MERGED,2012-07-08 04:47:46.000000000,2012-08-03 07:33:51.000000000,2012-08-03 07:33:51.000000000,257,5,0,9486,e5caf06eab4937210f4c52ee3c47ff13976bcc55,image-create,10,4,2,1,321,Lorin Hochstein,lorinh,"Document how to create qcow and raw images.

This is the beginning of a refactoring of the section on creating
images. This change describes how to create QCOW2 and raw images,
using CentOS as an example.

I would like to eventually remove the existing docs on creating a
raw image, since it's out of date, but I wanted to get this
replacement doc get in for review first.

Change-Id: Ic4564833e453ee34deafedb3f5621d74624aef20
"
openstack%2Fkeystone~master~I5fae0b59ae61658ff495a99f707e2fb81ae93f64,openstack/keystone,master,I5fae0b59ae61658ff495a99f707e2fb81ae93f64,Fix the description of command.,ABANDONED,2012-07-19 01:48:47.000000000,2012-08-03 06:03:02.000000000,,1,1,0,10001,d0e7eb14b88d64a257407a0e21e09d959f3a6091,master,5,3,1,1,2575,Wang Long,wanglong,"Fix the description of command.

Change-Id: I5fae0b59ae61658ff495a99f707e2fb81ae93f64
"
openstack%2Fheat~master~Ic8b47d80ed9697559c6dfafa9ecd684d6f9b7980,openstack/heat,master,Ic8b47d80ed9697559c6dfafa9ecd684d6f9b7980,Port existing rpc calls to use the new RPC client API.,MERGED,2012-08-03 02:02:26.000000000,2012-08-03 02:02:26.000000000,2012-08-03 02:02:26.000000000,130,121,0,10745,c8b47d80ed9697559c6dfafa9ecd684d6f9b7980,rpcapi,6,3,1,4,4571,Steve Baker,steve-stevebaker,"Port existing rpc calls to use the new RPC client API.

Patch 2/2, this implements github heat issue 181.

test_api_v1 was modified to handle the extra rpc arguments.

metadata_register_address hasn't been included in EngineAPI, and it
possibly doesn't deserve to. This means that bin/heat-metadata has the
only remaining raw rpc call.
"
openstack%2Fheat~master~Ia20850821083d1236ad628172db00d01f073313c,openstack/heat,master,Ia20850821083d1236ad628172db00d01f073313c,Implements a client side engine RPC API.,MERGED,2012-08-03 02:00:58.000000000,2012-08-03 02:00:58.000000000,2012-08-03 02:00:58.000000000,391,0,0,10614,e05f39c37b115259cf64e2523d7da443507f389c,rpcapi,9,4,2,3,4571,Steve Baker,steve-stevebaker,"Implements a client side engine RPC API.

Patch 1/2, this implements github heat issue 181.

The topic string for the rpc call is built from the cfg.CONF parameters 'host'
and 'engine_topic' defined in heat.common.config.engine_opts.

delete_stack seems to be the only method which returns nothing, so it can be
invoked as cast or call, with cast being the default.

The tests exercise each api method with the same approach found in
nova/nova/tests/compute/test_rpcapi.py

Change-Id: Ia20850821083d1236ad628172db00d01f073313c
"
openstack%2Fnova~master~Ia6df23c945f0815c65bcfd2f49e8ba3225d03d7f,openstack/nova,master,Ia6df23c945f0815c65bcfd2f49e8ba3225d03d7f,Fix regression with nova-manage floating list,MERGED,2012-08-02 13:18:06.000000000,2012-08-03 01:04:58.000000000,2012-08-03 01:04:57.000000000,1,1,2,10712,143b4671cce2a0996018509f6ce38c0902acde09,bug/1032177,16,5,2,1,5123,Ray Sun,xiaoquqi,"Fix regression with nova-manage floating list

Fixes bug #1032177

If a floating IP is not associated with an instance, nova-manage fails
with:

  local variable 'instance_uuid' referenced before assignment

This is a regression introduced by commit fc82c6d. Simply rename
the local variable to instance_uuid.

Change-Id: Ia6df23c945f0815c65bcfd2f49e8ba3225d03d7f
"
openstack%2Fhorizon~master~Iea9ab299078f8552f53ca747f48e30a0b049bd06,openstack/horizon,master,Iea9ab299078f8552f53ca747f48e30a0b049bd06,Adds an option for linking to external help docs.,MERGED,2012-08-02 23:40:31.000000000,2012-08-03 00:43:42.000000000,2012-08-03 00:43:41.000000000,9,3,0,10756,972e71ec85392e6dda9debdbac24b5393eb57d16,help_link,7,4,2,4,1816,Gabriel Hurley,gabriel-hurley,"Adds an option for linking to external help docs.

Change-Id: Iea9ab299078f8552f53ca747f48e30a0b049bd06
"
openstack%2Fpython-glanceclient~master~I8b81be723286c546d9cbd97c8b7d7aa89c03b2d4,openstack/python-glanceclient,master,I8b81be723286c546d9cbd97c8b7d7aa89c03b2d4,Allow CLI opts to override auth token and endpoint,MERGED,2012-07-26 23:26:39.000000000,2012-08-03 00:29:25.000000000,2012-08-03 00:29:25.000000000,19,15,1,10388,2541f3ce840492555160f8f31d775f443628fe9a,bug/1029586,14,5,4,1,1132,Brian Waldon,bcwaldon,"Allow CLI opts to override auth token and endpoint

Previously, both --os-auth-token and --os-image-url had to be
provided in order for either of them to be used in any API requests.
This breaks the tie between them and allows a user to override
either the auth token or the endpoint returned by Keystone independently
of one another.

Fixes bug 1029586

Change-Id: I8b81be723286c546d9cbd97c8b7d7aa89c03b2d4
"
openstack%2Fhorizon~master~I875c63d35b22b6b73314e001dbc1fbdce4363e25,openstack/horizon,master,I875c63d35b22b6b73314e001dbc1fbdce4363e25,Allow control of whether a user can specify a volume mount point.,MERGED,2012-08-02 22:41:23.000000000,2012-08-03 00:14:16.000000000,2012-08-03 00:14:16.000000000,46,6,0,10748,414fc7a31f659388397c867287ffa65cf0e7dfe4,mount_point_optional,9,4,2,4,1816,Gabriel Hurley,gabriel-hurley,"Allow control of whether a user can specify a volume mount point.

Since some hypervisors don't support this feature, it makes the
field in the attach form extremely misleading.

Change-Id: I875c63d35b22b6b73314e001dbc1fbdce4363e25
"
openstack%2Fglance~master~Id9a0ac56a8ae9fd03af9ccc4989c9b304c95bdde,openstack/glance,master,Id9a0ac56a8ae9fd03af9ccc4989c9b304c95bdde,^c shouldn't leave incomplete images in cache,MERGED,2012-08-01 16:47:34.000000000,2012-08-03 00:01:10.000000000,2012-08-03 00:01:10.000000000,113,3,0,10663,a30887aa3b7a220a1f722e94fa69201e5878e766,bug/1031842,12,5,2,3,1706,Tom Hancock,tom-hancock,"^c shouldn't leave incomplete images in cache

Fixes LP bug 1031842

Use a finally clause for the xattr and sqlite
image cache implementations of open_for_write()
such that if the commit() or rollback() aren't
called and the image remains in the incomplete
dir that it is moved to the invalid dir

Change-Id: Id9a0ac56a8ae9fd03af9ccc4989c9b304c95bdde
"
openstack%2Fglance~master~Ib11f4581d187d037d2081515d70e325425d68760,openstack/glance,master,Ib11f4581d187d037d2081515d70e325425d68760,Use function registration for policy checks,MERGED,2012-08-02 18:52:57.000000000,2012-08-02 23:42:32.000000000,2012-08-02 23:42:31.000000000,297,54,0,10733,6eeba442326eca05754d33c4a3fcd21623d3c11b,policy-refactor,7,4,1,4,679,Kevin L. Mitchell,klmitch,"Use function registration for policy checks

The original policy framework allowed new policy checks to be created
through inheritance.  This is somewhat clunky and unnecessary in
Python.  This change refactors policy.py to allow new policy checks
to be registered using an @register() decorator.  One consequence is
that HttpBrain is deprecated.

Care has been taken to ensure backwards compatibility; deprecation
warnings will be emitted for uses of HttpBrain or the inheritance-
based checks.

(Pull-up from openstack-common.)

Change-Id: Ib11f4581d187d037d2081515d70e325425d68760
"
openstack%2Fglance~master~I8ec765b6f066569a7483f01201d4907ad1794291,openstack/glance,master,I8ec765b6f066569a7483f01201d4907ad1794291,Add a missing header strip opportunity.,MERGED,2012-08-02 00:46:46.000000000,2012-08-02 23:27:47.000000000,2012-08-02 23:27:47.000000000,17,0,0,10696,b3da56c7489446281f3749b3df81090692982a7e,repl-header-stripping,17,5,1,1,2271,Michael Still,mikalstill,"Add a missing header strip opportunity.

As well as adding some more logging to make this easier to debug in
the wild.

Change-Id: I8ec765b6f066569a7483f01201d4907ad1794291
"
openstack%2Fnova~master~Ib54d079cbad823abd85dcca9e5cd813887169fb0,openstack/nova,master,Ib54d079cbad823abd85dcca9e5cd813887169fb0,Simple refactor of some db api tests.,MERGED,2012-08-02 20:54:08.000000000,2012-08-02 23:04:40.000000000,2012-08-02 23:04:40.000000000,15,14,0,10740,aec2b668b554362700cf0c2b016e74fb1b7184f7,refactor-tests-dbapi,7,4,1,1,177,Alex Meade,alex-meade,"Simple refactor of some db api tests.

A few tests were using context.elevated instead of just passing the correct
project id to the instance_create function.

Change-Id: Ib54d079cbad823abd85dcca9e5cd813887169fb0
"
openstack%2Fglance~master~I68e576dadbbe37d4d33d2238ea0e4c798a4a667b,openstack/glance,master,I68e576dadbbe37d4d33d2238ea0e4c798a4a667b,Add links to image access schema,MERGED,2012-08-02 00:14:13.000000000,2012-08-02 23:03:43.000000000,2012-08-02 23:03:43.000000000,28,6,0,10694,e6b50bdbbd9d397e05811fb6b7899141860a39b9,bp/api-v2-links,12,5,3,2,616,Mark Washenberger,markwash,"Add links to image access schema

/v2/schemas/image/access was missing links, both as properties and link
descriptor objects, although /v2/images/<id>/access was returning them
in responses. This change adds the link properties to the schema
response.

Addresses bp api-v2-links

Change-Id: I68e576dadbbe37d4d33d2238ea0e4c798a4a667b
"
openstack%2Fnova~master~I1127e31d86a061a93a64ee1eb4a4d900d8bf49b5,openstack/nova,master,I1127e31d86a061a93a64ee1eb4a4d900d8bf49b5,Check instance lock in compute/api,MERGED,2012-07-26 16:50:18.000000000,2012-08-02 23:03:41.000000000,2012-08-02 23:03:41.000000000,82,15,22,10355,0c0e47b6ca2b88481891f742ee0e11cdef21c957,bug/872541,48,8,8,7,4393,Dan Smith,danms,"Check instance lock in compute/api

This adds a check for the instance lock in compute/api.py, which:
1. Helps avoid the need to call into the manager just to be stopped
   by the lock there
2. Returns a failure to the user right away when an operation cannot
   be completed due to the lock
3. Avoids the potential for task_state to get into an unhappy state
   because a user unknowingly attempts an action whilst an instance
   is locked
4. Avoids the manager from having to re-do the lock check by
   stuffing a flag into RequestContext when the check has already
   been done by api.py

Various tests needed to be fixed up in order to pass fake instances
with the locked attribute. We could make the decorator ignore
instances without it, but I think it's more explicit to push that
requirement into the tests.

This fixes bug 872541

Change-Id: I1127e31d86a061a93a64ee1eb4a4d900d8bf49b5
"
openstack%2Fnova~master~I55dd63ca7fc22bc133ab5fe722df4141c332a819,openstack/nova,master,I55dd63ca7fc22bc133ab5fe722df4141c332a819,Update usage of 'ip' to handle more return codes,MERGED,2012-08-02 14:15:55.000000000,2012-08-02 22:59:24.000000000,2012-08-02 22:59:23.000000000,10,7,0,10714,04a0bd690579a91b487b2865c52b6d073b25ad5d,master,17,5,3,1,24,Chuck Short,zulcss,"Update usage of 'ip' to handle more return codes

Make sure that ip raises an exception.ProcessExecutionError unless
'ip' exits with a 0, 2, or 254.

0 = command executed correctly
2/254 = command has already been executed.

Change-Id: I55dd63ca7fc22bc133ab5fe722df4141c332a819
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fnova~master~I9e307cd5bab2542f43948c96767811a769814341,openstack/nova,master,I9e307cd5bab2542f43948c96767811a769814341,Remove unused imports,MERGED,2012-08-02 21:07:48.000000000,2012-08-02 22:18:14.000000000,2012-08-02 22:18:14.000000000,0,29,0,10741,eaf6e3ae2eb0d9ec46a6372d06842e033031c061,imports,7,4,1,14,1849,Joe Gordon,jogo,"Remove unused imports

Change-Id: I9e307cd5bab2542f43948c96767811a769814341
"
openstack%2Fdevstack~stable%2Fessex~Ic63754050ef4a5838144edd1d24a2e9206cc0fa5,openstack/devstack,stable/essex,Ic63754050ef4a5838144edd1d24a2e9206cc0fa5,Add flag for availablility of change password API.,MERGED,2012-08-02 13:11:58.000000000,2012-08-02 20:39:12.000000000,2012-08-02 20:39:12.000000000,2,0,0,10710,11e4cf3fe4f173697e68d54318422fd73f661a34,,9,5,2,1,2284,Eoghan Glynn,eglynn,"Add flag for availablility of change password API.

Change-Id: Ic63754050ef4a5838144edd1d24a2e9206cc0fa5
"
openstack%2Fhorizon~master~I66aae280ee6633a3fae58f314c0eb77b2f150003,openstack/horizon,master,I66aae280ee6633a3fae58f314c0eb77b2f150003,Fixed name of snaphot button.,MERGED,2012-07-31 13:10:01.000000000,2012-08-02 19:09:53.000000000,2012-08-02 19:09:52.000000000,5,5,0,10601,7560824304f2571be7de52227de7d52976309e9c,bug/1018370,6,3,1,2,5090,Anton V. Yanchenko,simplylizz,"Fixed name of snaphot button.

Fixes bug 1018370.

Change-Id: I66aae280ee6633a3fae58f314c0eb77b2f150003
"
openstack%2Fswift~master~I45952adfcfbc813477ee9966f05dcdeef23c683b,openstack/swift,master,I45952adfcfbc813477ee9966f05dcdeef23c683b,Ensure parameters sent to db are utf8 strs,MERGED,2012-08-02 14:50:00.000000000,2012-08-02 19:07:16.000000000,2012-08-02 18:28:37.000000000,8,2,0,10715,ef3f8bb335de47439211e3e72835ffa50beb3559,dbneedsstr,7,3,1,1,1216,gholt,gholt,"Ensure parameters sent to db are utf8 strs

Change-Id: I45952adfcfbc813477ee9966f05dcdeef23c683b
"
openstack%2Fnova~master~Ia9a6039a82fe4ebfa9b18e5eb93c21fffee90f09,openstack/nova,master,Ia9a6039a82fe4ebfa9b18e5eb93c21fffee90f09,Use function registration for policy checks,MERGED,2012-08-02 18:26:30.000000000,2012-08-02 19:05:46.000000000,2012-08-02 19:05:45.000000000,112,52,0,10730,751270fd4618fe054d767159eb2373583a63742c,policy-refactor,6,3,1,2,679,Kevin L. Mitchell,klmitch,"Use function registration for policy checks

The original policy framework allowed new policy checks to be created
through inheritance.  This is somewhat clunky and unnecessary in
Python.  This change refactors policy.py to allow new policy checks
to be registered using an @register() decorator.  One consequence is
that HttpBrain is deprecated.

Care has been taken to ensure backwards compatibility; deprecation
warnings will be emitted for uses of HttpBrain or the inheritance-
based checks.

(Pull-up from openstack-common, with deprecation of HttpBrain.)

Change-Id: Ia9a6039a82fe4ebfa9b18e5eb93c21fffee90f09
"
openstack%2Fdevstack~master~I46f333c79ecccca9e10170d06039611fad5813dc,openstack/devstack,master,I46f333c79ecccca9e10170d06039611fad5813dc,Add bridge-utils to deps for Ubuntu and Fedora.,MERGED,2012-08-02 00:57:36.000000000,2012-08-02 19:05:45.000000000,2012-08-02 19:05:45.000000000,2,0,0,10697,32c520f46d25dd95db1fd2283e5621068d9223f3,bridge,6,3,1,2,970,Dean Troyer,dtroyer,"Add bridge-utils to deps for Ubuntu and Fedora.

They don't always get installed via dependencies any more.

Change-Id: I46f333c79ecccca9e10170d06039611fad5813dc
"
openstack%2Fglance~master~Id65e1c8d114c9551b99f6a18c527ba26aefd341f,openstack/glance,master,Id65e1c8d114c9551b99f6a18c527ba26aefd341f,Add swift_store_admin_tenants option.,MERGED,2012-07-09 21:28:06.000000000,2012-08-02 18:38:57.000000000,2012-08-02 18:38:57.000000000,18,0,1,9557,8a4f3773ac0b3e66643dd8af964399e48da47202,bp/swift-tenant-specific-storage,23,5,6,3,360,Dan Prince,dan-prince,"Add swift_store_admin_tenants option.

Add a swift storage option to configure a default list of admin
tenant IDs which will be granted write access on any swift
images.

This setting might be useful when a user choose not to use a global
swift admin role when managing glance images. This might also
be useful when implementing delayed delete for glance swift
multi-tenant.

Partially implements blueprint: swift-tenant-specific-storage.

Change-Id: Id65e1c8d114c9551b99f6a18c527ba26aefd341f
"
openstack%2Fglance~master~Ib249acfe440f4b75bc9edd7b73fe10127b8333b1,openstack/glance,master,Ib249acfe440f4b75bc9edd7b73fe10127b8333b1,Update v1/v2 images APIs to set store ACLs.,MERGED,2012-07-09 21:28:06.000000000,2012-08-02 18:37:59.000000000,2012-08-02 18:37:58.000000000,145,14,14,9556,480743a2d7e1dc7be066e2fbffd3063ca4fc6a9f,bp/swift-tenant-specific-storage,26,6,6,11,360,Dan Prince,dan-prince,"Update v1/v2 images APIs to set store ACLs.

Updates the images controllers so they call set_acls on
the backend store when adding/updating images and members.

Made some changes to the v2 API unit/functional tests to
use real locations instead of just UUIDs so the tests work
with the new set_acls call.

Partially implements blueprint: swift-tenant-specific-storage.

Change-Id: Ib249acfe440f4b75bc9edd7b73fe10127b8333b1
"
openstack%2Fdevstack~master~I89677fd54635e82b10ab674ddeb9ffb3f1a755f0,openstack/devstack,master,I89677fd54635e82b10ab674ddeb9ffb3f1a755f0,Optionally install all pip into a global venv.,MERGED,2012-07-26 16:15:27.000000000,2012-08-02 18:37:58.000000000,2012-08-02 18:37:58.000000000,155,80,0,10351,47f02060ad0500ccb2d4ceeb6015ad7a4c56b4e9,deps-process,15,5,5,2,2,Monty Taylor,mordred,"Optionally install all pip into a global venv.

This is useful for tracking what pip is causing to be
installed over and beyond os pacakges.

In support of this, move all package installation to before
the section where we install via pip. Leave the deferred configuration
until later though.

Change-Id: I89677fd54635e82b10ab674ddeb9ffb3f1a755f0
"
openstack%2Fswift~milestone-proposed~I45952adfcfbc813477ee9966f05dcdeef23c683b,openstack/swift,milestone-proposed,I45952adfcfbc813477ee9966f05dcdeef23c683b,Ensure parameters sent to db are utf8 strs,MERGED,2012-08-02 18:30:03.000000000,2012-08-02 18:36:13.000000000,2012-08-02 18:36:13.000000000,8,2,0,10731,581aa9f3a1277e2139b87fd8da66912aa0b1b118,milestone-proposed,5,2,1,1,1216,gholt,gholt,"Ensure parameters sent to db are utf8 strs

Change-Id: I45952adfcfbc813477ee9966f05dcdeef23c683b
"
openstack%2Fdevstack~master~I823cf5ac467e903677783aee082785ec85c36186,openstack/devstack,master,I823cf5ac467e903677783aee082785ec85c36186,Add ability to override base git location.,MERGED,2012-07-26 16:15:27.000000000,2012-08-02 18:33:19.000000000,2012-08-02 18:33:19.000000000,21,17,0,10350,d5b18ecb724ba64a57a7bf97f4982b670d639da5,master,6,3,1,1,2,Monty Taylor,mordred,"Add ability to override base git location.

Change-Id: I823cf5ac467e903677783aee082785ec85c36186
"
openstack%2Fpython-glanceclient~master~I0f8564d5e9067f8e7fcc2f3fb48cd09757977f38,openstack/python-glanceclient,master,I0f8564d5e9067f8e7fcc2f3fb48cd09757977f38,Update python-keystoneclient version dependency,MERGED,2012-08-01 23:23:46.000000000,2012-08-02 18:12:43.000000000,2012-08-02 18:12:43.000000000,1,1,0,10690,ba83562b24f735c1ae9b9e5edefe8f2f1466b233,bug/1029586,8,4,2,1,1132,Brian Waldon,bcwaldon,"Update python-keystoneclient version dependency

We need version v0.1.2 for the 'insecure' keyword to work in
keystoneclient.v2_0.client.Client

Change-Id: I0f8564d5e9067f8e7fcc2f3fb48cd09757977f38
"
openstack%2Fheat~master~If7d1b39e1072d3934f37817be3d7773edd7785c3,openstack/heat,master,If7d1b39e1072d3934f37817be3d7773edd7785c3,heat templates : update Openshift template to add node instance,MERGED,2012-08-02 18:11:53.000000000,2012-08-02 18:11:53.000000000,2012-08-02 18:11:53.000000000,79,11,0,10729,ea2db73166c393187ba0db039e5974c0f2333023,master,5,2,1,1,4328,Steven Hardy,shardy,"heat templates : update Openshift template to add node instance

Update openshift templat to add a second instance running
the node to the existing broker.  Move to crankcase master
and attempt to work around build issues.

Ref #186

Change-Id: If7d1b39e1072d3934f37817be3d7773edd7785c3
Signed-off-by: Steven Hardy <shardy@redhat.com>
"
openstack%2Fdevstack~master~I7b6deed7db6136ee15ac7ea315019a5b78698f7d,openstack/devstack,master,I7b6deed7db6136ee15ac7ea315019a5b78698f7d,Set a valid / unique SECRET_KEY others than the empty default.,MERGED,2012-07-16 10:21:17.000000000,2012-08-02 17:59:31.000000000,2012-08-02 17:59:31.000000000,4,0,0,9846,345363023da70404180dc645538547a84fa326e2,secret_key,9,5,2,1,4375,Sascha Peilicke,saschpe,"Set a valid / unique SECRET_KEY others than the empty default.

Django's default SECRET_KEY is an empty string, which is actually not
secure. Use horizon.util.secret key to generate a unique key and store
it securely.

Change-Id: I7b6deed7db6136ee15ac7ea315019a5b78698f7d
"
openstack%2Fdevstack~master~I4ab968f30146bd9e40533d67dba49114649f029d,openstack/devstack,master,I4ab968f30146bd9e40533d67dba49114649f029d,Adds parameter interpolation for Tempest config,MERGED,2012-07-31 13:23:28.000000000,2012-08-02 17:59:30.000000000,2012-08-02 17:59:30.000000000,4,0,0,10602,5ef90475937a0ac6b7b160cd2385c406d93a64c4,tempest-conf-volume-param,6,3,1,1,4120,Rohit Karajgi,rohitkarajgi,"Adds parameter interpolation for Tempest config

Adds Tempest variable for Volume catalog Type

Change-Id: I4ab968f30146bd9e40533d67dba49114649f029d
"
openstack%2Fpython-glanceclient~master~I584b2447361967228bea332e14880e18db12fca8,openstack/python-glanceclient,master,I584b2447361967228bea332e14880e18db12fca8,Add legacy compat layer to v1 shell,MERGED,2012-08-02 03:18:26.000000000,2012-08-02 17:59:29.000000000,2012-08-02 17:59:29.000000000,622,5,0,10703,a511e6a05e0f8763fb57dea3af86602a7883604c,bp/glance-client-parity,14,5,3,4,1132,Brian Waldon,bcwaldon,"Add legacy compat layer to v1 shell

All legacy CLI commands should work as expected with a few
minor exceptions:
- no upload animation
- no interactive pagination
- help/usage output has changed

Deprecated options are indicated as such in their usage info. Deprecated
commands have descriptions that label them as such.

Related to bp glance-client-parity

Change-Id: I584b2447361967228bea332e14880e18db12fca8
"
openstack%2Fpython-swiftclient~master~I532f38a68af884de25326aaac05a2050f5ffa1c7,openstack/python-swiftclient,master,I532f38a68af884de25326aaac05a2050f5ffa1c7,Use keystoneclient for authentication.,MERGED,2012-07-05 11:53:30.000000000,2012-08-02 17:42:40.000000000,2012-08-02 17:42:40.000000000,133,102,3,9354,c8163f4112bbf5fb438a7fe04bcd9c6ab244768a,bug/1016641,30,6,5,5,866,Chmouel Boudjnah,chmouel,"Use keystoneclient for authentication.

- This allows us to delegate all 2.0 authentication directly to the
  library without reimplementing ourselves.
- Support reusing a token / storage-url without re-authenticating every
  time via the switch os_storage_url os_auth_token.
- Allow auth via tenant_id instead of just tenant_name via the switch
  os_tenant_id.
- Refactor a bit to make it easier in the future to add new OS features
  (i.e: region).
- Implements blueprint use-keystoneclient-for-swiftclient.
- Fixes bug 1016641.

Change-Id: I532f38a68af884de25326aaac05a2050f5ffa1c7
"
openstack%2Fheat~master~I586e57748c9b0a0c7594746399d5328da788efcd,openstack/heat,master,I586e57748c9b0a0c7594746399d5328da788efcd,heat : Make instance flavors consistent,MERGED,2012-08-02 17:04:47.000000000,2012-08-02 17:04:47.000000000,2012-08-02 17:04:47.000000000,63,19,0,10723,044887521ec2c38231458c3928af6956dc16119a,master,5,2,1,5,4328,Steven Hardy,shardy,"heat : Make instance flavors consistent

Add additional instance flavors to align templates with
nova

Fixes #179

Change-Id: I586e57748c9b0a0c7594746399d5328da788efcd
Signed-off-by: Steven Hardy <shardy@redhat.com>
"
openstack%2Fheat~master~I7fe80496883bfbe515d9c235de812aaa14c41c12,openstack/heat,master,I7fe80496883bfbe515d9c235de812aaa14c41c12,heat engine : raise appropriate error for incorrect stack_name,MERGED,2012-08-02 17:01:00.000000000,2012-08-02 17:01:00.000000000,2012-08-02 17:01:00.000000000,2,2,0,10722,1ed94e1382166ccf50f116645b4d20dcd2c74e7f,master,5,2,1,1,4328,Steven Hardy,shardy,"heat engine : raise appropriate error for incorrect stack_name

Raise an AttributeError instead of returning a string when passed
an incorrect stack name, this then maps to the appropriate error
in the API.

Fixes #182

Change-Id: I7fe80496883bfbe515d9c235de812aaa14c41c12
Signed-off-by: Steven Hardy <shardy@redhat.com>
"
openstack%2Fnova~master~I20203a538bc352d055e8538e08506ef25f044262,openstack/nova,master,I20203a538bc352d055e8538e08506ef25f044262,Add a couple of FIXMEs about the instance lock,ABANDONED,2012-08-02 12:10:45.000000000,2012-08-02 16:41:56.000000000,,2,0,0,10709,7d8ce330543b06226d828c14a07065e1d5bc17ba,,6,4,1,2,1247,Mark McLoughlin,markmc,"Add a couple of FIXMEs about the instance lock

Since 64c94a1, we now check the instance lock on the client side before
calling any RPC API which requires the instance to be unlocked.

We have retained the server side locking checking for backwards compat,
but this will be removed in time. When we do remove this, we need to be
sure that we are checking the lock on the client side where it would
have been previously checked on the server side.

There are currently only two places where we don't do this, so just
add a FIXME to call them out for now.

Change-Id: I20203a538bc352d055e8538e08506ef25f044262
"
openstack%2Foslo-incubator~master~Ie8061d003b05ea8b00db5d8ed8fa445ccc822942,openstack/oslo-incubator,master,Ie8061d003b05ea8b00db5d8ed8fa445ccc822942,Install a qualified except hook.,MERGED,2012-08-02 16:13:33.000000000,2012-08-02 16:13:33.000000000,2012-08-02 16:13:33.000000000,35,6,5,10611,58404a1a9461900367dbb7a8b3f2f98441e12959,bug/1031351,12,5,2,2,5044,Mate Lakat,mate-lakat,"Install a qualified except hook.

Fixes bug 1031351.

As an Exception is raised, it was not visible in the log, because
it wasn't qualified. The fix sets up the exception hook to be
qualified as the product_name.

Change-Id: Ie8061d003b05ea8b00db5d8ed8fa445ccc822942
"
openstack%2Fdevstack-gate~master~Icdb03064e8a802137cecd671bff113a42eadff2e,openstack/devstack-gate,master,Icdb03064e8a802137cecd671bff113a42eadff2e,Install puppetlabs puppet.,MERGED,2012-08-02 15:58:53.000000000,2012-08-02 15:58:53.000000000,2012-08-02 15:58:53.000000000,5,0,0,10537,b00d529ffc2a62a568f3247829a77f4901be90d1,master,7,4,1,1,2,Monty Taylor,mordred,"Install puppetlabs puppet.

Change-Id: Icdb03064e8a802137cecd671bff113a42eadff2e
"
openstack%2Fnova~master~I8dfc94e9b91f7ffc82d393b345f09409da347e78,openstack/nova,master,I8dfc94e9b91f7ffc82d393b345f09409da347e78,Deprecate root_helper in favor of rootwrap_config,MERGED,2012-08-01 12:50:20.000000000,2012-08-02 15:58:43.000000000,2012-08-02 15:58:42.000000000,18,4,4,10646,1d447e69f9f898eeda6fc37c965baa905105a1cc,bp/deprecate-root-helper,19,9,2,3,308,Thierry Carrez,ttx,"Deprecate root_helper in favor of rootwrap_config

Mark the root_helper option deprecated and introduce usage of
the rootwrap_config option instead. The root_helper option will
still fully be supported in Folsom, but will be removed in Grizzly.

Transition notes: you should replace:
root_helper=sudo nova-rootwrap /etc/nova/rootwrap.conf

by:
rootwrap_config=/etc/nova/rootwrap.conf

Implements bp deprecate-root-helper

Change-Id: I8dfc94e9b91f7ffc82d393b345f09409da347e78
"
openstack%2Fglance~master~I1aff6975a968a00bf133face606cc35280835a4f,openstack/glance,master,I1aff6975a968a00bf133face606cc35280835a4f,Reject rather than ignore forbidden updates,MERGED,2012-07-27 12:57:44.000000000,2012-08-02 15:52:38.000000000,2012-08-02 15:52:38.000000000,32,32,9,10402,92001604be2e7353ca77197f85abac6c2997caab,bp/api-2,20,5,3,2,455,Stuart McLaren,stuart-mclaren,"Reject rather than ignore forbidden updates

Return HTTPForbidden when an attempt is made to update
an attribute which is either read-only or only settable
by an Admin user. Previously a success (200) was returned
for these cases.

Related to bp api-2.

Change-Id: I1aff6975a968a00bf133face606cc35280835a4f
"
openstack%2Fcinder~master~I03350382b8a42aabb128cd7328d5543915268595,openstack/cinder,master,I03350382b8a42aabb128cd7328d5543915268595,Remove references to vm_state in Cinder Scheduler,ABANDONED,2012-07-30 19:43:28.000000000,2012-08-02 15:43:02.000000000,,1,119,1,10562,6dcd74f4030ccdd60e8b58940ee2cbdf6551cd5d,Remove_references_to_vmstates_in_cinder,7,3,2,1,2243,John Griffith,john-griffith,"Remove references to vm_state in Cinder Scheduler

  Some of the excess nova functionality was removed
  from the Cinder scheduler, however rerfences to
  vm_states were still present in the scheduler/manager.

  Remove these references as well as instance related functions.

Change-Id: I03350382b8a42aabb128cd7328d5543915268595
"
openstack%2Fnova~master~I9f7f3203f0e644ba533940a87e496bfd09da0460,openstack/nova,master,I9f7f3203f0e644ba533940a87e496bfd09da0460,Clarify TooManyInstances exception message.,MERGED,2012-08-01 12:44:41.000000000,2012-08-02 15:19:53.000000000,2012-08-02 15:19:53.000000000,46,27,1,10644,54f4d3be88d53035303328d3b0c287956c4dbd2f,,6,3,1,4,2284,Eoghan Glynn,eglynn,"Clarify TooManyInstances exception message.

Fixes LP 1031737.

Previously the message indicated the number of instances requested
and an incorrect indication of the headroom, in the case where ram
or cores was the resource gone over-quota (as opposed to the number
of raw instances).

Change-Id: I9f7f3203f0e644ba533940a87e496bfd09da0460
"
openstack%2Fswift~master~Ic03d7099391705a08cc9903e1c6f2507ad5d1478,openstack/swift,master,Ic03d7099391705a08cc9903e1c6f2507ad5d1478,Fix prefix queries on account & container listings,ABANDONED,2012-08-02 03:08:49.000000000,2012-08-02 15:06:13.000000000,,4,2,0,10701,e20691ef8a76e24476212951a70419ad4fe942dc,fix-acctcont-prefix,6,2,3,1,1603,Florian Hines,pandemicsyn,"Fix prefix queries on account & container listings

- encode prefix to prevent UnicodeDecodeErrors

Change-Id: Ic03d7099391705a08cc9903e1c6f2507ad5d1478
"
openstack%2Fpython-novaclient~master~Idc3ef4ae612ccd65d2ddc2891aa0f09ba1b41605,openstack/python-novaclient,master,Idc3ef4ae612ccd65d2ddc2891aa0f09ba1b41605,Remove NOVA_RAX_AUTH hack,ABANDONED,2012-07-29 18:49:49.000000000,2012-08-02 15:01:55.000000000,,2,15,0,10497,502e055166e8698b68af5667e782a8b9ba6d6f14,bug/966329,11,4,3,2,2,Monty Taylor,mordred,"Remove NOVA_RAX_AUTH hack

That Rackspace's beta Nova/Keystone does not properly work with
a stock OpenStack client is not a bug in the OpenStack client, and
should not have special case flags in the OpenStack codebase. If we
accomodate one vendor with special-case flags in the mainline codebase,
we will need to accomodate any other non-standard diversion that any
company dreams up.

Fixes bug 966329

Change-Id: Idc3ef4ae612ccd65d2ddc2891aa0f09ba1b41605
"
openstack%2Fnova~master~I6160c6d8e7a0160c01362f9a34550740600f8bc9,openstack/nova,master,I6160c6d8e7a0160c01362f9a34550740600f8bc9,Fix a comment typo in db api,MERGED,2012-08-02 05:48:15.000000000,2012-08-02 12:49:29.000000000,2012-08-02 12:49:28.000000000,1,1,0,10706,5eaf67db76be71adfced794793e88150e94ad53c,fix_comment_typo,8,5,1,1,4458,Shane Wang,shane-wang,"Fix a comment typo in db api

Fix the comment for instance_type_get_by_flavor_id().

Change-Id: I6160c6d8e7a0160c01362f9a34550740600f8bc9
Signed-off-by: Shane Wang <shane.wang@intel.com>
"
openstack%2Fopenstack-manuals~master~I7f21dd9dc777ea0aa0200ac736506bac357666b4,openstack/openstack-manuals,master,I7f21dd9dc777ea0aa0200ac736506bac357666b4,Fix bug 1026617,MERGED,2012-08-01 18:49:47.000000000,2012-08-02 08:20:09.000000000,2012-08-02 08:20:08.000000000,13179,28,0,10678,21f7f97d1959c1a24fc9a1cbcedcac11e7f7d562,bug/1026617,7,4,3,5,4625,Jonathan Proulx,jproulx,"Fix bug 1026617

Expand discussion of images and instances, with diagrams

Patch set 2 does a developmental/gramatical edit.

Change-Id: I7f21dd9dc777ea0aa0200ac736506bac357666b4
"
openstack%2Fopenstack-manuals~master~I2c9fda4a328bfb912a1e2a77d0f11a902c7ed231,openstack/openstack-manuals,master,I2c9fda4a328bfb912a1e2a77d0f11a902c7ed231,Ensures all Compute extensions refer to v2 instead of v1.1.,MERGED,2012-08-01 17:27:11.000000000,2012-08-02 08:17:44.000000000,2012-08-02 08:17:44.000000000,6,6,0,10667,4d19c70313f060785e24daa4e2d112a5dc863155,extensions-affiliation-bump,4,3,1,6,964,Anne Gentle,annegentle,"Ensures all Compute extensions refer to v2 instead of v1.1.

Change-Id: I2c9fda4a328bfb912a1e2a77d0f11a902c7ed231
"
openstack%2Fopenstack-manuals~master~If2160891aa0b078da65a38ceb1e9a65834523410,openstack/openstack-manuals,master,If2160891aa0b078da65a38ceb1e9a65834523410,"Document ""nova reset-state"" command.",MERGED,2012-08-01 19:51:25.000000000,2012-08-02 08:16:14.000000000,2012-08-02 08:16:13.000000000,22,1,0,10680,257fb1b9e830ab4b6a60e73882cf29d5601b547c,nova-reset-state,5,4,1,1,321,Lorin Hochstein,lorinh,"Document ""nova reset-state"" command.

Change-Id: If2160891aa0b078da65a38ceb1e9a65834523410
"
openstack%2Fopenstack-manuals~master~I60b04cbfb661aa9393e1bd346f91bebc18290e51,openstack/openstack-manuals,master,I60b04cbfb661aa9393e1bd346f91bebc18290e51,"Can reuse nova.conf across nodes, except for my_ip.",MERGED,2012-08-02 03:26:29.000000000,2012-08-02 08:12:48.000000000,2012-08-02 08:12:48.000000000,26,27,0,10705,a8d06a82934613bd20f81fe1ec2b5c518dec4f71,my-ip,3,2,1,1,321,Lorin Hochstein,lorinh,"Can reuse nova.conf across nodes, except for my_ip.

Makes explicit that you can use the same nova.conf across nodes,
except for the my_ip option.

Change-Id: I60b04cbfb661aa9393e1bd346f91bebc18290e51
"
openstack%2Fopenstack-manuals~master~I771f01211279a8c4f6328c9cee466dbb3729e800,openstack/openstack-manuals,master,I771f01211279a8c4f6328c9cee466dbb3729e800,Document new ComputeFilter checks.,MERGED,2012-07-28 23:00:44.000000000,2012-08-02 08:11:12.000000000,2012-08-02 08:11:12.000000000,20,6,4,10474,f6262d64499d4f8cca88ce4679901b32f98c6f23,sched-compute-filter,10,5,2,1,321,Lorin Hochstein,lorinh,"Document new ComputeFilter checks.

Nova review https://review.openstack.org/10327 has proposed some new
checks for the ComputeFilter to verify that a compute host is
capable of running a particular image:

 * architecture
 * hypervisor type
 * VM mode

Change-Id: I771f01211279a8c4f6328c9cee466dbb3729e800
"
openstack%2Foslo-incubator~master~I9a7a84a5f34517abf91d87e9d817d7e763e22829,openstack/oslo-incubator,master,I9a7a84a5f34517abf91d87e9d817d7e763e22829,Copy eventlet_backdoor into common from nova.,MERGED,2012-08-02 07:30:59.000000000,2012-08-02 07:30:59.000000000,2012-08-02 07:30:59.000000000,78,0,2,10514,4a4f82e83f74f04301eb71cf8cc591315c481fc5,master,14,5,3,1,4715,Angus Salkeld,asalkeld,"Copy eventlet_backdoor into common from nova.

This is debugging utility only used by service.py in nova.
(needed in openstack-common to move service.py to common)

Change-Id: I9a7a84a5f34517abf91d87e9d817d7e763e22829
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Foslo-incubator~master~I44e137d383b96e1601b7bded1e36e84ff14a8f68,openstack/oslo-incubator,master,I44e137d383b96e1601b7bded1e36e84ff14a8f68,Fix errors reported by pyflakes.,MERGED,2012-08-02 07:20:53.000000000,2012-08-02 07:20:53.000000000,2012-08-02 07:20:53.000000000,2,3,1,10346,4a7f7a5ba74de2712d8499ae07058e7cfa6e5299,master,10,5,2,1,2934,Bhuvan Arumugam,bhuvan,"Fix errors reported by pyflakes.

* openstack/common/setup.py
  get_reqs_from_files(): Remove unused variable.
  get_reqs_from_files(): Use local variables in a conventional
  way, to prevent errors like:
  local variable 'datestamp' is assigned to but never used.

Change-Id: I44e137d383b96e1601b7bded1e36e84ff14a8f68
"
openstack%2Fhorizon~master~I1c5cede20f3e50a2c5c377cc9a6f2faa399a711c,openstack/horizon,master,I1c5cede20f3e50a2c5c377cc9a6f2faa399a711c,Keypair names only accept slugs via nova api.,ABANDONED,2012-07-25 00:49:16.000000000,2012-08-02 06:03:02.000000000,,3,3,4,10259,aeadcd244eedab8336251fdb7757a1057ddb40c8,keypair_name,9,2,1,2,1816,Gabriel Hurley,gabriel-hurley,"Keypair names only accept slugs via nova api.

Previously using a name like ""new key pair"" would trigger
a vague API error. This provides proper form validation.

Change-Id: I1c5cede20f3e50a2c5c377cc9a6f2faa399a711c
"
openstack%2Fdevstack-gate~master~I26548ef64c5cdc2bc5a9b6bc1b09f66a9c53f3c3,openstack/devstack-gate,master,I26548ef64c5cdc2bc5a9b6bc1b09f66a9c53f3c3,Add Quantum to devstack gate.,ABANDONED,2012-08-02 06:03:02.000000000,2012-08-02 06:03:02.000000000,,27,4,0,8443,c7289f43f3292ca25dba6a06a9f5344909dabb11,bp/6641,21,5,5,4,2711,Zhang Hua,zhhuabj,"Add Quantum to devstack gate.

blueprint 6641

Enable ""quantum,q-svc,q-agt,q-dhcp"" for all branches other than stable/{diablo,essex}.

Patch Set 5: upgrate quantum api from v1 to v2

Change-Id: I26548ef64c5cdc2bc5a9b6bc1b09f66a9c53f3c3
"
openstack%2Fglance~master~Ibbfe46d065575b1954a47b3a28c61151dfb1e06e,openstack/glance,master,Ibbfe46d065575b1954a47b3a28c61151dfb1e06e,Use event.listen() instead of deprecated listeners kwarg.,MERGED,2012-08-01 17:06:04.000000000,2012-08-02 05:36:17.000000000,2012-08-02 05:36:16.000000000,14,13,0,10665,6cc23005d042901e01bfee4deeb6367879012d22,bug/1031405,10,4,1,1,209,Josh Kearney,jk0,"Use event.listen() instead of deprecated listeners kwarg.

The listeners kwarg is deprecated in SQLAlchemy 0.7.0. Since 0.7.3 is
the minimum required version of SQLAlchemy, use the new event.listen()
API instead.

Fixes bug 1031405.

Change-Id: Ibbfe46d065575b1954a47b3a28c61151dfb1e06e
"
openstack%2Fglance~master~I85a26b4e645e7cb32e17164e47fad62f4c44976a,openstack/glance,master,I85a26b4e645e7cb32e17164e47fad62f4c44976a,Process umask shouldn't allow world-readable files,MERGED,2012-08-01 14:32:53.000000000,2012-08-02 04:26:13.000000000,2012-08-02 04:26:13.000000000,1,0,0,10653,e7919a2642f6e6180f30732394e7b0dc97868c6a,bug/1031796,9,4,2,1,1706,Tom Hancock,tom-hancock,"Process umask shouldn't allow world-readable files

This ensures that image cache files and file-backed
images are not world-readable.

Fix LP bug 1031796

Change-Id: I85a26b4e645e7cb32e17164e47fad62f4c44976a
"
openstack%2Fpython-glanceclient~master~Id3a7c7ca23095e00cd8111a74c47604ab2fe9e67,openstack/python-glanceclient,master,Id3a7c7ca23095e00cd8111a74c47604ab2fe9e67,Simple proof of concept legacy client.,ABANDONED,2012-08-02 02:01:40.000000000,2012-08-02 04:24:52.000000000,,103,0,0,10699,a0779882d243c9867ec09ca8bac8bcdb41d62688,legacy-client,6,4,1,4,2271,Michael Still,mikalstill,"Simple proof of concept legacy client.

Could we implement command line compatability with the legacy
glance client in a manner like this?

Change-Id: Id3a7c7ca23095e00cd8111a74c47604ab2fe9e67
"
openstack%2Fnova~master~I275f71384e77eb038aa1140bbfde108b91cd2f83,openstack/nova,master,I275f71384e77eb038aa1140bbfde108b91cd2f83,Pass a full instance to rotate_backups().,MERGED,2012-08-01 16:23:02.000000000,2012-08-02 04:04:25.000000000,2012-08-02 04:04:24.000000000,9,9,0,10661,48572c4af3f6c41d31bd77797ebd3dd25fbbc36a,bp/no-db-messaging,9,5,1,1,1561,Russell Bryant,russellb,"Pass a full instance to rotate_backups().

This patch renames rotate_backups() to _rotate_backups(), as this method
has never been used over rpc since it was first introduced in
75a87df739effe840e6cb39c976002e99b49c796.  The name change makes it more
clear that it's a private method.

The change also makes it so this method takes an instance dict instead
of just the instance_uuid as an argument.  This is mainly for
consistency with the rest of this file, where things are moving toward
passing the full instance dict around instead to avoid any potential
need for db access.

In passing, this also fixes up some uses of instance_uuid in
snapshot_instance() where instance_uuid is most likely None.

Part of blueprint no-db-messaging.

Change-Id: I275f71384e77eb038aa1140bbfde108b91cd2f83
"
openstack%2Fglance~master~I70bc8f8b8fbb0f95d9563e9eb08d7e0a47111198,openstack/glance,master,I70bc8f8b8fbb0f95d9563e9eb08d7e0a47111198,Raise HTTPBadRequest when schema validation fails,MERGED,2012-07-27 12:57:44.000000000,2012-08-02 04:02:33.000000000,2012-08-01 16:06:23.000000000,10,7,0,10401,14468d07f6a1f2cb283afc90154aecf2b4c10893,bp/api-2,22,6,3,2,455,Stuart McLaren,stuart-mclaren,"Raise HTTPBadRequest when schema validation fails

Raise HTTPBadRequest when request schema validation fails rather than
InvalidObject. This prevents a 500 Internal Server Error.

Related to bp api-2.

Change-Id: I70bc8f8b8fbb0f95d9563e9eb08d7e0a47111198
"
openstack%2Fglance~master~I457527413d4ccca813a45ac03e66a90071f0af76,openstack/glance,master,I457527413d4ccca813a45ac03e66a90071f0af76,Expose 'status' on v2 image entities,MERGED,2012-07-24 11:04:07.000000000,2012-08-02 04:02:33.000000000,2012-08-02 04:02:32.000000000,57,4,7,10211,fb496437f25c54fe756ba9aae4af19dd7a112e50,bp/api-2,39,6,6,5,455,Stuart McLaren,stuart-mclaren,"Expose 'status' on v2 image entities

Added 'status' read-only attribute to v2 schema/serialization.
Updated the schema and added unit tests as appropriate.

Related to bp api-2.

Change-Id: I457527413d4ccca813a45ac03e66a90071f0af76
"
openstack%2Fglance~master~Ie8ae560810a5e5419e4d4aacae17e1e301ed4126,openstack/glance,master,Ie8ae560810a5e5419e4d4aacae17e1e301ed4126,URLs to glance need to be absolute.,MERGED,2012-08-02 00:37:53.000000000,2012-08-02 04:00:19.000000000,2012-08-02 04:00:19.000000000,9,6,0,10695,ac507843970dd097bca7f7cc7b9871302ca32140,repl-urls-absolute,7,4,1,2,2271,Michael Still,mikalstill,"URLs to glance need to be absolute.

Otherwise the apache SSL frontend that many users deploy will get
confused and return a HTTP error.

Change-Id: Ie8ae560810a5e5419e4d4aacae17e1e301ed4126
"
openstack%2Fglance~master~Ib19e69eb9a1047f735ff649a05b400642e8ec29e,openstack/glance,master,Ib19e69eb9a1047f735ff649a05b400642e8ec29e,uuid is a silly name for a var,MERGED,2012-08-01 23:49:15.000000000,2012-08-02 03:44:24.000000000,2012-08-02 03:44:23.000000000,8,8,0,10691,4d50b67b1d67b91612ccf9d70ddb61d7c11afd2b,uuid-is-a-stupid-variable-name,12,5,2,1,2271,Michael Still,mikalstill,"uuid is a silly name for a var

Given its also the name of an import.

Change-Id: Ib19e69eb9a1047f735ff649a05b400642e8ec29e
"
openstack%2Fglance~master~Iad241ff3583a62297d89ee15cbd3d58417e5fedf,openstack/glance,master,Iad241ff3583a62297d89ee15cbd3d58417e5fedf,Support master and slave having different tokens.,MERGED,2012-07-30 04:41:30.000000000,2012-08-02 03:38:37.000000000,2012-08-02 03:38:37.000000000,26,10,4,10517,53b5125b2451ed7d80d4138076a1c47c8eabbffe,bug/1029758,17,6,3,1,2271,Michael Still,mikalstill,"Support master and slave having different tokens.

This came up recently for a user -- their regions have separate
keystone instances, and therefore don't share auth tokens. So, in
some cases we need to pass in two tokens instead of one.

Resolves bug 1029758.

Change-Id: Iad241ff3583a62297d89ee15cbd3d58417e5fedf
"
openstack%2Fswift~milestone-proposed~Ic03d7099391705a08cc9903e1c6f2507ad5d1478,openstack/swift,milestone-proposed,Ic03d7099391705a08cc9903e1c6f2507ad5d1478,Fix prefix queries on account & container listings,ABANDONED,2012-08-02 03:10:51.000000000,2012-08-02 03:35:03.000000000,,4,2,0,10702,5fe141da66c5fa17e0dd97cbc542600cecbd1b9c,milestone-proposed,2,1,1,1,1603,Florian Hines,pandemicsyn,"Fix prefix queries on account & container listings

- encode prefix to prevent UnicodeDecodeErrors

Change-Id: Ic03d7099391705a08cc9903e1c6f2507ad5d1478
"
openstack%2Fopenstack-manuals~stable%2Fessex~I9c9f04956f864780a231a75efc9ee1454201a827,openstack/openstack-manuals,stable/essex,I9c9f04956f864780a231a75efc9ee1454201a827,Add extra state/log vars to sample nova.conf,MERGED,2012-08-02 03:19:44.000000000,2012-08-02 03:21:51.000000000,2012-08-02 03:21:50.000000000,3,0,0,10704,c3e9803f9548e36cdaf69f7b1b1e788dbfd11ea2,bug/1027474,3,3,1,1,321,Lorin Hochstein,lorinh,"Add extra state/log vars to sample nova.conf

The sample nova.conf was missing logdir, state_path, lock_path
which was resulting in a poor user experience. Added the values
set to the defaults found in ubuntu.

fixes bug 1027474

Cherry picked from https://review.openstack.org/10458

Change-Id: I9c9f04956f864780a231a75efc9ee1454201a827
"
openstack%2Fswift~master~Ic1ac99261d2262a0dd0a06f10547d91ff86faa1f,openstack/swift,master,Ic1ac99261d2262a0dd0a06f10547d91ff86faa1f,Fix prefix queries on accounts,ABANDONED,2012-08-01 21:55:05.000000000,2012-08-02 03:05:29.000000000,,2,0,0,10686,6dade384870f191945594955d22ac4d23d418f90,fix-webob1.2-acct-prefix,5,4,1,1,1603,Florian Hines,pandemicsyn,"Fix prefix queries on accounts

The webob 1.2 patch fixed prefix queries for containers but not accounts:
https://github.com/openstack/swift/commit/de4d23c2a517050ab0afd0c8d0dbab817139b055

Change-Id: Ic1ac99261d2262a0dd0a06f10547d91ff86faa1f
"
openstack%2Fdevstack~master~Ifc1b3cf3c3cd7b732007e83e74710f14f20f7624,openstack/devstack,master,Ifc1b3cf3c3cd7b732007e83e74710f14f20f7624,Define DEST in stackrc,MERGED,2012-07-06 14:40:09.000000000,2012-08-02 01:34:15.000000000,2012-08-02 01:34:15.000000000,3,0,0,9436,1214d9d05a1f61752f8723ceefa8d55e890268dc,dest-rc,7,4,1,1,970,Dean Troyer,dtroyer,"Define DEST in stackrc

Move the initial definition of DEST so it is available in localrc and
the tools/*.sh scripts.

Change-Id: Ifc1b3cf3c3cd7b732007e83e74710f14f20f7624
"
openstack%2Fdevstack~master~I1bed687867e870bef5748289d712376435a776af,openstack/devstack,master,I1bed687867e870bef5748289d712376435a776af,Source functions before stackrc,MERGED,2012-07-09 19:49:11.000000000,2012-08-02 01:34:14.000000000,2012-08-02 01:34:14.000000000,13,0,0,9543,05530caf2cc12716f6b22c103212ba3ea7fe7910,service-functions,12,4,2,3,970,Dean Troyer,dtroyer,"Source functions before stackrc

The enable_service() and disable_service() functions in
https://review.openstack.org/9407 require the functions
file be sourced before stackrc.

* exercise.sh
* samples/local.sh (this will require manual addition to the user's
  local.sh if they based it on the sample)
* tools/build_bm.sh

Change-Id: I1bed687867e870bef5748289d712376435a776af
"
openstack%2Fnova~master~Idb2c823421e714fa364affbbb80d28175b9b5b4e,openstack/nova,master,Idb2c823421e714fa364affbbb80d28175b9b5b4e,Remove agent_update from the compute manager.,MERGED,2012-08-01 16:23:01.000000000,2012-08-02 01:34:13.000000000,2012-08-02 01:34:12.000000000,0,60,0,10660,9893c3eb5794e689736e881ec0551bdfeda48d8f,bp/no-db-messaging,8,4,1,5,1561,Russell Bryant,russellb,"Remove agent_update from the compute manager.

It appears that this method of the compute method has never been used
since it was added in fa0b64b500f3a196044459ba4bf8ed0dea214e92, so just
remove it.

It was also added to the virt driver API, but the only use is internally
to the xenapi driver, so leave it as an internal thing to that driver
only.

Part of blueprint no-db-messaging.

Change-Id: Idb2c823421e714fa364affbbb80d28175b9b5b4e
"
openstack%2Fnova~master~I0956a18279caa15504448ddca7ffe7f4113f1f65,openstack/nova,master,I0956a18279caa15504448ddca7ffe7f4113f1f65,Move tests.test_compute_utils into tests.compute.,MERGED,2012-07-31 20:37:49.000000000,2012-08-02 01:28:43.000000000,2012-08-02 01:28:43.000000000,0,0,0,10625,3905d66dae8c4bc08079ffd4bff67ebed8044d8f,bp/no-db-messaging,22,7,3,1,1561,Russell Bryant,russellb,"Move tests.test_compute_utils into tests.compute.

Move the test_compute_utils module into nova.tests.compute to be with
other compute related unit tests.

Change-Id: I0956a18279caa15504448ddca7ffe7f4113f1f65
"
openstack%2Fglance~master~Ifc1a49fa51d3e7da08da32fb0966f2637089b58a,openstack/glance,master,Ifc1a49fa51d3e7da08da32fb0966f2637089b58a,Use with for file IO.,MERGED,2012-08-01 23:56:18.000000000,2012-08-02 01:10:58.000000000,2012-08-02 01:10:58.000000000,12,16,0,10693,e557c0ef3ef94ebf6469491563d660f2ad14d419,file-io-using-with,9,5,1,1,2271,Michael Still,mikalstill,"Use with for file IO.

Use with for file IO, instead of keeping track of state myself.

Change-Id: Ifc1a49fa51d3e7da08da32fb0966f2637089b58a
"
openstack%2Fnova~master~Ic113489c464458f9b1859a21942b1bbe203698bd,openstack/nova,master,Ic113489c464458f9b1859a21942b1bbe203698bd,Audit log messages in nova/compute/manager.py,MERGED,2012-07-28 11:07:09.000000000,2012-08-02 00:38:54.000000000,2012-08-02 00:38:53.000000000,11,8,1,10453,1bfeca6fb74a7554ff67dba3015ec5e9f914bc35,bug/977978,14,6,2,1,2271,Michael Still,mikalstill,"Audit log messages in nova/compute/manager.py

To include instance whereever possible. This resolves bug 977978.

Change-Id: Ic113489c464458f9b1859a21942b1bbe203698bd
"
openstack%2Fpython-glanceclient~master~I9c9c5d6ec9f481091c944e596d073da3739795b6,openstack/python-glanceclient,master,I9c9c5d6ec9f481091c944e596d073da3739795b6,Refactor http request/response logging,MERGED,2012-07-30 05:15:50.000000000,2012-08-02 00:19:01.000000000,2012-08-02 00:19:01.000000000,38,33,0,10518,6c8e0342c0a7c285dab2606cab1b2cc9c3b5b90a,fix-debug,7,4,2,3,1132,Brian Waldon,bcwaldon,"Refactor http request/response logging

Using the --debug flag or the GLANCECLIENT_DEBUG env var, a user will
see http requests and responses in great detail. Requests are formed
into proper curl commands while responses are printed just as they would
as if the curl request provided were executed. Response bodies will not
be printed if they are application/octet-stream.

Change-Id: I9c9c5d6ec9f481091c944e596d073da3739795b6
"
openstack%2Fdevstack~master~Icb2a1a0c5ca517604f9a3930e7c89e3be9a36b0c,openstack/devstack,master,Icb2a1a0c5ca517604f9a3930e7c89e3be9a36b0c,Setup tgtd configuration files,MERGED,2012-07-28 18:29:20.000000000,2012-08-01 23:58:34.000000000,2012-08-01 23:58:34.000000000,14,0,21,10467,3f603d93c87ad200d61ec3827bb847cccd699929,master,43,5,11,2,24,Chuck Short,zulcss,"Setup tgtd configuration files

Setup devstack to use tgtd confiuration files.

Change-Id: Icb2a1a0c5ca517604f9a3930e7c89e3be9a36b0c
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fpython-glanceclient~master~I8e8fcda532455793ea4d0f08a23f7c92b68c186c,openstack/python-glanceclient,master,I8e8fcda532455793ea4d0f08a23f7c92b68c186c,Add exceptions for 500 and 503 HTTP status codes,MERGED,2012-07-30 06:09:15.000000000,2012-08-01 23:58:19.000000000,2012-08-01 23:58:19.000000000,19,2,0,10520,1f44aff399e9ed6008d96b047a7c82623b980e0a,internal-server-error,7,4,2,1,1132,Brian Waldon,bcwaldon,"Add exceptions for 500 and 503 HTTP status codes

Add glance.exc.InternalServerError and .ServiceUnavailable to
represent HTTP statuses 500 and 503. Users will definitely see
these from Glance, so let's be nice and map them to handy
exception classes.

Change-Id: I8e8fcda532455793ea4d0f08a23f7c92b68c186c
"
openstack%2Fswift~milestone-proposed~Ic1ac99261d2262a0dd0a06f10547d91ff86faa1f,openstack/swift,milestone-proposed,Ic1ac99261d2262a0dd0a06f10547d91ff86faa1f,Fix prefix queries on accounts,ABANDONED,2012-08-01 21:56:43.000000000,2012-08-01 23:51:37.000000000,,2,0,0,10687,ac93efa8b609e922d3b56d94a8cf1df848326c68,milestone-proposed,3,2,1,1,1603,Florian Hines,pandemicsyn,"Fix prefix queries on accounts

The webob 1.2 patch fixed prefix queries for containers but not accounts:
https://github.com/openstack/swift/commit/de4d23c2a517050ab0afd0c8d0dbab817139b055

Change-Id: Ic1ac99261d2262a0dd0a06f10547d91ff86faa1f
"
openstack%2Fglance~master~Ib47244e51ae03991e6171ab8d47238d955743567,openstack/glance,master,Ib47244e51ae03991e6171ab8d47238d955743567,Move optional dependencies from pip-requires to test-requires,MERGED,2012-07-31 19:49:39.000000000,2012-08-01 23:49:50.000000000,2012-08-01 23:49:50.000000000,4,2,0,10619,db33171ead3a4e6d9e5f880d53c375611d441805,bug/1031396,10,5,2,2,7,Jay Pipes,jaypipes,"Move optional dependencies from pip-requires to test-requires

python-sendfile and python-xattr are both optional library
dependencies in Glance now. Some systems, like Windows, do not
have these libraries and so we should move them from pip-requires
to test-requires. AFAIK, the pip-requires is what is used to
build the Windows installer.

Fixes LP 1031396

Change-Id: Ib47244e51ae03991e6171ab8d47238d955743567
"
openstack%2Fkeystone~master~I9d33d95ffa357b88f099a5a37aa4a139d93fd82f,openstack/keystone,master,I9d33d95ffa357b88f099a5a37aa4a139d93fd82f,Enabling SQL Catalog tests (bug 958950),MERGED,2012-08-01 20:49:26.000000000,2012-08-01 22:18:18.000000000,2012-08-01 22:18:18.000000000,21,27,0,10682,f82c7c22a83ac1b8cd6483ed3e9b4708c90a89ba,bug/958950,8,5,1,3,4,Dolph Mathews,dolph,"Enabling SQL Catalog tests (bug 958950)

Change-Id: I9d33d95ffa357b88f099a5a37aa4a139d93fd82f
"
openstack%2Fswift~milestone-proposed~I95a750613b01bdc4d64444d7e7fae8190760d697,openstack/swift,milestone-proposed,I95a750613b01bdc4d64444d7e7fae8190760d697,Updated use of iter_nodes for handoff logging,MERGED,2012-08-01 21:42:58.000000000,2012-08-01 22:12:14.000000000,2012-08-01 22:12:14.000000000,22,10,0,10685,fc32d27da898f84475e4fb79b437577727bf71e5,milestone-proposed,5,2,1,1,1216,gholt,gholt,"Updated use of iter_nodes for handoff logging

Change-Id: I95a750613b01bdc4d64444d7e7fae8190760d697
"
openstack%2Fswift~master~I95a750613b01bdc4d64444d7e7fae8190760d697,openstack/swift,master,I95a750613b01bdc4d64444d7e7fae8190760d697,Updated use of iter_nodes for handoff logging,MERGED,2012-08-01 21:07:51.000000000,2012-08-01 22:09:05.000000000,2012-08-01 22:09:05.000000000,22,10,0,10683,d2b51dd2b66afc796f297ba73ea438ce5b66ec98,handofflogging,6,3,1,1,1216,gholt,gholt,"Updated use of iter_nodes for handoff logging

Change-Id: I95a750613b01bdc4d64444d7e7fae8190760d697
"
openstack%2Fopenstack-manuals~stable%2Fessex~I7375b01c7ae9e0638c1f4fd825f8e370222fc209,openstack/openstack-manuals,stable/essex,I7375b01c7ae9e0638c1f4fd825f8e370222fc209,Adds XenAPI details into OpenStack Compute Install section,MERGED,2012-08-01 13:28:00.000000000,2012-08-01 21:31:33.000000000,2012-08-01 21:31:33.000000000,39,4,0,10648,51e80e721df507c796ed1cf367c231d4f94e8049,bug/1026620,4,3,2,2,782,John Garbutt,johngarbutt,"Adds XenAPI details into OpenStack Compute Install section

Fixes bug 1026620 by adding XenAPI docs into OpenStack Compute.

Cherry picked from:
https://review.openstack.org/#/c/10604/

Change-Id: I7375b01c7ae9e0638c1f4fd825f8e370222fc209
"
openstack%2Fnova~master~If87bd10ef3f893c416d2f0615358ba65aef17a2d,openstack/nova,master,If87bd10ef3f893c416d2f0615358ba65aef17a2d,XenAPI: Add script to destroy cached images.,MERGED,2012-08-01 19:08:38.000000000,2012-08-01 21:19:46.000000000,2012-08-01 21:19:45.000000000,162,13,1,10679,4afaf1792de257c7ba9168d53628218706fa438a,destroy_cache_images,11,6,2,2,475,Rick Harris,rconradharris,"XenAPI: Add script to destroy cached images.

Operations will want the ability to clear out cached images when
disk-space becomes an issue.

This script allows ops to clear out all cached images or just cached
images that aren't in current use.

Change-Id: If87bd10ef3f893c416d2f0615358ba65aef17a2d
"
openstack%2Ftempest~master~Ie8b60da44dcd9eef9daf59628a376f143d53ad9e,openstack/tempest,master,Ie8b60da44dcd9eef9daf59628a376f143d53ad9e,Fixes Bug 1031639: admin_client.py- 'Assign and Remove role to user' points to a different URI,MERGED,2012-08-01 10:11:38.000000000,2012-08-01 21:18:27.000000000,2012-08-01 21:18:27.000000000,65,50,0,10641,8ba945eade2230c050039af3b80e1bc95ec7b29a,bug/1031639,10,2,1,2,2238,rajalakshmi-ganesan,rajalakshmi-ganesan,"Fixes Bug 1031639: admin_client.py- 'Assign and Remove role to user' points to a different URI

Change-Id: Ie8b60da44dcd9eef9daf59628a376f143d53ad9e
"
openstack%2Fopenstack-manuals~master~I93a65b0af9d7759a048a976bd9d7dfde235dc69a,openstack/openstack-manuals,master,I93a65b0af9d7759a048a976bd9d7dfde235dc69a,Adds XenAPI details into OpenStack Compute Install section,MERGED,2012-07-31 14:35:10.000000000,2012-08-01 20:54:47.000000000,2012-08-01 01:49:21.000000000,39,4,4,10604,6aa957f30edb34788793e36a61cd3f05aad0ab5c,bug/1026620,11,4,3,2,782,John Garbutt,johngarbutt,"Adds XenAPI details into OpenStack Compute Install section

Fixes bug 1026620 by adding XenAPI docs into OpenStack Compute.

Change-Id: I93a65b0af9d7759a048a976bd9d7dfde235dc69a
"
openstack%2Fnova~master~I6cf786999c623c0ca780a173dcba49354207e9c3,openstack/nova,master,I6cf786999c623c0ca780a173dcba49354207e9c3,Fix traceback when using s3.,MERGED,2012-08-01 18:10:01.000000000,2012-08-01 20:00:34.000000000,2012-08-01 19:11:03.000000000,3,3,0,10671,46e2c8a575fecc55a896632029d5db6b5bd7b112,master,10,5,1,2,24,Chuck Short,zulcss,"Fix traceback when using s3.

Fix a regression that causes tracebacks in s3

Traceback (most recent call last):
  File ""/opt/stack/nova/nova/image/s3.py"", line 294, in delayed_create
     _update_image_state(context, image_uuid, 'downloading')
  File ""/opt/stack/nova/nova/image/s3.py"", line 286, in _update_image_state
  	headers)
 TypeError: update() takes at most 5 arguments (6 given)

This is due to 6e4539f397bfc5dbf9ec88ddc3968621815d576b

Fixes LP: #1031867

Change-Id: I6cf786999c623c0ca780a173dcba49354207e9c3
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fnova~master~Iba8054b728e28463fb221d44417b1ddba323f596,openstack/nova,master,Iba8054b728e28463fb221d44417b1ddba323f596,Don't pass kernel args to Xen HVM instances,MERGED,2012-07-31 03:27:24.000000000,2012-08-01 19:46:03.000000000,2012-08-01 19:46:02.000000000,10,1,2,10585,6a8181e3c40d9b4f5eb644c2cad79fc7866ba767,xen-hvm-root,21,7,4,2,2697,Jim Fehlig,jfehlig,"Don't pass kernel args to Xen HVM instances

The refactoring in commit c0f67877 missed setting guest.os_root for
Xen PV instances only.  If set for Xen HVM instances, the xen tools
will invoke qemu-dm with '-append root=/dev/xxx'.  qemu-dm promptly
failes with '-append only allowed with -kernel option'.

Change-Id: Iba8054b728e28463fb221d44417b1ddba323f596
"
openstack%2Fnova~master~I335f873a27d1777309d6fb850d7f259b87ebcb0d,openstack/nova,master,I335f873a27d1777309d6fb850d7f259b87ebcb0d,Fix typo in db test.,MERGED,2012-08-01 18:31:21.000000000,2012-08-01 19:37:40.000000000,2012-08-01 19:37:39.000000000,2,2,1,10674,989b1e988b36e97c2e1a49735d532b88fad9e8d0,type-by-filters,7,3,1,1,177,Alex Meade,alex-meade,"Fix typo in db test.

test_instance_get_all_by_filters was doing an assertTrue on two values when an
assertEquals was intended.

Change-Id: I335f873a27d1777309d6fb850d7f259b87ebcb0d
"
openstack%2Fnova~master~I0878adf6ef5c54e577ab2ea39e2ff9845e0e9191,openstack/nova,master,I0878adf6ef5c54e577ab2ea39e2ff9845e0e9191,Avoid using logging in signal handler,MERGED,2012-08-01 18:34:13.000000000,2012-08-01 19:37:38.000000000,2012-08-01 19:37:37.000000000,35,16,0,10675,5de983ae390993450ac182eff2de3f358593f847,bug/1029727,7,4,1,1,100,Johannes Erdfelt,johannes.erdfelt,"Avoid using logging in signal handler

Fixes bug 1029727

In some cases, logging can grab locks and thusly attempt to reschedule,
which will fail in signal handlers.

This patch simplifies the signal handlers for multi-process support to
only reset the signal handlers and then raise an exception. This will
move all logging and other cleanup out of the signal handler and into
safer places.

Change-Id: I0878adf6ef5c54e577ab2ea39e2ff9845e0e9191
"
openstack%2Fnova~master~I2e9e9a36194dad1326b0d7257308576f8553ef06,openstack/nova,master,I2e9e9a36194dad1326b0d7257308576f8553ef06,Fix issue with filtering where a value is unicode.,MERGED,2012-08-01 17:40:41.000000000,2012-08-01 19:37:36.000000000,2012-08-01 19:37:35.000000000,10,1,0,10669,ef579789065bd5eca90404e29463c63d538c5a01,bug/1031846,13,7,2,2,177,Alex Meade,alex-meade,"Fix issue with filtering where a value is unicode.

This fixes an issue where if an attribute, such as name, for an instance
contains unicode and doing a list of instances filtering by that attribute
causes a 500 error.

fixes bug 1031846

Change-Id: I2e9e9a36194dad1326b0d7257308576f8553ef06
"
openstack%2Fpython-novaclient~master~I8e7c7e01fddeec17ad9ff4254b1223820bb8e2b7,openstack/python-novaclient,master,I8e7c7e01fddeec17ad9ff4254b1223820bb8e2b7,Better handling of stale tokens (no more 401's),MERGED,2012-08-01 18:26:44.000000000,2012-08-01 19:30:05.000000000,2012-08-01 19:30:05.000000000,1,0,0,10672,f15974b80dba9da1dee9433c8a44547fd5efd940,handle_stale_tokens,6,3,1,1,688,Sandy Walsh,sandy-walsh,"Better handling of stale tokens (no more 401's)

There was a problem with stale tokens generating 401's. The
headers for the request where not replacing the stale token
with the freshly obtained one. This patch remedies that.

Change-Id: I8e7c7e01fddeec17ad9ff4254b1223820bb8e2b7
"
openstack%2Foslo-incubator~master~I92b87eed2f7708af696e02e229bf6daa0d305fdd,openstack/oslo-incubator,master,I92b87eed2f7708af696e02e229bf6daa0d305fdd,Remove bogus conf argument from create_consumer(),MERGED,2012-08-01 19:13:52.000000000,2012-08-01 19:13:52.000000000,2012-08-01 19:13:52.000000000,2,4,0,10652,8557af7bc0a12b6981b18c71915434562cd1431f,bug/1031713,6,3,1,1,1247,Mark McLoughlin,markmc,"Remove bogus conf argument from create_consumer()

Fixes bug #1031713

Commit 0b11668 in nova added a conf parameter to the create_consumer()
method in the base class, but not to the implementations. Looks to
be a random thinko.

Change-Id: I92b87eed2f7708af696e02e229bf6daa0d305fdd
"
openstack%2Fopenstack-manuals~master~I53eb30fbd3fac0e6df20aa1cd0b8355f4ed38104,openstack/openstack-manuals,master,I53eb30fbd3fac0e6df20aa1cd0b8355f4ed38104,Fixes bug 1027066 by changing network_driver to vif_driver,MERGED,2012-07-30 09:38:32.000000000,2012-08-01 18:52:54.000000000,2012-08-01 18:52:54.000000000,4,5,0,10525,717295a3f186051f963f059071c0aebffdc64fdc,bug/1027066,7,5,2,1,782,John Garbutt,johngarbutt,"Fixes bug 1027066 by changing network_driver to vif_driver

The XenAPI docs incorrectly mentioned the network_driver flag
when it should have mentioned the vif_driver flag

Change-Id: I53eb30fbd3fac0e6df20aa1cd0b8355f4ed38104
"
openstack%2Fcinder~master~I4b2ddeaaaa5f58eafd25cba6bd613c6fe477ad4d,openstack/cinder,master,I4b2ddeaaaa5f58eafd25cba6bd613c6fe477ad4d,Include AUTHORS file in MANIFEST.in,MERGED,2012-08-01 07:21:57.000000000,2012-08-01 18:40:04.000000000,2012-08-01 18:40:04.000000000,1,0,0,10640,053837f89b01beb6c3b09cd753e3ccb1ba32b4c9,include-authors-in-tarball,6,3,1,1,866,Chmouel Boudjnah,chmouel,"Include AUTHORS file in MANIFEST.in

Change-Id: I4b2ddeaaaa5f58eafd25cba6bd613c6fe477ad4d
"
openstack%2Fdevstack~master~I35bca1f484e0caea8316e78ca6543d3b7af49088,openstack/devstack,master,I35bca1f484e0caea8316e78ca6543d3b7af49088,Removing python-cmd2 at it is not available on Ubuntu 11.10,MERGED,2012-07-31 11:01:20.000000000,2012-08-01 18:40:04.000000000,2012-08-01 18:40:04.000000000,1,1,1,10596,2ee1fd1e82971dc522ae71d2bfc97678e73cf84e,bug/1030899,13,6,3,1,782,John Garbutt,johngarbutt,"Removing python-cmd2 at it is not available on Ubuntu 11.10

This fixes bug 1030899

Ubuntu 11.10 is used by the XenAPI devstack install because
of issues running Ubuntu 12.04 on XenServer 6.0.2 and ea11.10

Change-Id: I35bca1f484e0caea8316e78ca6543d3b7af49088
"
openstack%2Fnova~master~Ic34ca2194b8d75fb84a06dfba6793106eb8055fe,openstack/nova,master,Ic34ca2194b8d75fb84a06dfba6793106eb8055fe,Fix failed iscsi tgt delete errors with new tgtadm,MERGED,2012-08-01 00:58:32.000000000,2012-08-01 18:40:03.000000000,2012-08-01 18:40:02.000000000,15,6,4,10636,eb19ef9a195bb36ef4310277d072f2911eda0f73,Fix_iscsi_tgt_delete_error,17,5,5,2,2243,John Griffith,john-griffith,"Fix failed iscsi tgt delete errors with new tgtadm

Now that the tgtadm patches are working, one problem was detected
The delete target operation would fail, and as a result lvremove
would fail due to an open connection.

There were a number of issue using the config file method, but
the most reliable way is to just use the iqn since we're going
to perform an os.unlink on the config file anyway.

devstack volumes.sh tests now pass and the detach/delete
calls are succesful.

Adjust test_iscsi for modifications to delete

Change-Id: Ic34ca2194b8d75fb84a06dfba6793106eb8055fe
"
openstack%2Fdevstack~master~Icfc77089e085b43e97601869d9c61c9f4da1164b,openstack/devstack,master,Icfc77089e085b43e97601869d9c61c9f4da1164b,Enables keystone-enabled Quantum in devstack.,MERGED,2012-07-25 09:14:52.000000000,2012-08-01 18:40:02.000000000,2012-08-01 18:40:02.000000000,17,16,12,10269,1a4166ca66e71e5ed57ace68f4bfea9af2346ce1,bug/1028075,29,8,5,1,841,Akihiro Motoki,amotoki,"Enables keystone-enabled Quantum in devstack.

Fixes bug 1028075.

Whether keystone is enabled for Quantum is determined according to Q_AUTH_STRATEGY.
* 'keystone' (default): Enables authN with keystone for Quantum
* 'noauth': No authN used by Quantum.

Change-Id: Icfc77089e085b43e97601869d9c61c9f4da1164b
"
openstack%2Fcinder~master~Ia01099e66bcbb129493870dfbf212d5e6669ebe1,openstack/cinder,master,Ia01099e66bcbb129493870dfbf212d5e6669ebe1,Scheduler-clean-up,MERGED,2012-07-28 08:15:21.000000000,2012-08-01 18:40:01.000000000,2012-08-01 18:40:01.000000000,7,278,3,10451,f758bde47439be52a743b2b4181d4900f2c1bc8a,ru-run-instance,24,7,6,8,2481,Rongze Zhu,zrzhit,"Scheduler-clean-up

Some instance related functions and opts were still present in Cinder
Scheduler.

Remove the functions and opts and modify some computer related comments.

Change-Id: Ia01099e66bcbb129493870dfbf212d5e6669ebe1
"
openstack%2Fcinder~master~I0d48dd6ce595e6bd9801478fc0b90bcb8fdf5947,openstack/cinder,master,I0d48dd6ce595e6bd9801478fc0b90bcb8fdf5947,Add authors for IBM Storwize and SVC driver.,MERGED,2012-07-31 18:49:03.000000000,2012-08-01 18:40:00.000000000,2012-08-01 18:40:00.000000000,8,0,0,10615,c01bf56ba9b89600bbd913bb094fc1164bfa4559,master,7,4,1,2,4355,Avishay Traeger,avishay-il,"Add authors for IBM Storwize and SVC driver.

Change-Id: I0d48dd6ce595e6bd9801478fc0b90bcb8fdf5947
Co-authored-by: Ronen Kat <ronenkat@il.ibm.com>
"
openstack%2Fnova~master~Ic62450346ea90b9a6d64e282e992a21a4dd6ab64,openstack/nova,master,Ic62450346ea90b9a6d64e282e992a21a4dd6ab64,Send a full instance in terminate_instance.,MERGED,2012-07-31 20:10:58.000000000,2012-08-01 18:39:58.000000000,2012-08-01 18:39:57.000000000,128,106,0,10622,0a956de32c2fa24cf00461803914fe3ffba2b492,bp/no-db-messaging,24,7,4,5,1561,Russell Bryant,russellb,"Send a full instance in terminate_instance.

Change the terminate_instance method of the compute
rpc API to take a full instance over rpc instead of just
the instance UUID.  This cuts down on database access needed
by nova-compute.

This is the final change for instances in rpcapi.py.  \o/
Unfortunately, I discovered that the scheduler isn't properly using
rpc API versioning when talking to compute nodes, so some of the methods
used by the scheduler still need some love.

Part of blueprint no-db-messaging.

Change-Id: Ic62450346ea90b9a6d64e282e992a21a4dd6ab64
"
openstack%2Fneutron~master~I2cb3b030dff3ea3fe3db0e5672781f031198eee6,openstack/neutron,master,I2cb3b030dff3ea3fe3db0e5672781f031198eee6,"ryu/plugin, agent: unbreak 610017c460b85e1b7d11327d050972bb03fcc0c3",MERGED,2012-08-01 17:19:47.000000000,2012-08-01 17:19:47.000000000,2012-08-01 17:19:47.000000000,2,2,3,10528,34b30b595f95eeab929166c5729a6923d5ff97a5,bug/1030832,9,5,1,2,333,Isaku Yamahata,yamahata,"ryu/plugin, agent: unbreak 610017c460b85e1b7d11327d050972bb03fcc0c3

The changeset of 610017c460b85e1b7d11327d050972bb03fcc0c3,
Change-Id of I3bd7701526a950c360d7c2cf14b31045010b46ca
breaks Ryu plugin/agent. This patch unbreaks it.
fixes bug 1030832

""from quantum.common import config as logging_config"" was missing for
ryu agent.
""from quantum.openstack.common import cfg"" was missing for ryu plugin.
And unused imports is eliminated.

Change-Id: I2cb3b030dff3ea3fe3db0e5672781f031198eee6
Signed-off-by: Isaku Yamahata <yamahata@valinux.co.jp>
"
openstack%2Foslo-incubator~master~I3ccef5868906ef64a3c24d6c92533471e89682ba,openstack/oslo-incubator,master,I3ccef5868906ef64a3c24d6c92533471e89682ba,Use function registration for policy checks,MERGED,2012-08-01 17:18:26.000000000,2012-08-01 17:18:26.000000000,2012-08-01 17:18:26.000000000,260,143,0,10577,dba9636e6df092d768d04cfaee839b76722e2393,policy-refactor,11,8,1,2,679,Kevin L. Mitchell,klmitch,"Use function registration for policy checks

The original policy framework allowed new policy checks to be created
through inheritance.  This is somewhat clunky and unnecessary in
Python.  This change refactors policy.py to allow new policy checks
to be registered using an @register() decorator.  One consequence is
that HttpBrain is deprecated.

Care has been taken to ensure backwards compatibility; deprecation
warnings will be emitted for uses of HttpBrain or the inheritance-
based checks.

Change-Id: I3ccef5868906ef64a3c24d6c92533471e89682ba
"
openstack%2Fopenstack-manuals~master~I5ea38cd29db87f4e1bf0f21de958601d54c7a2aa,openstack/openstack-manuals,master,I5ea38cd29db87f4e1bf0f21de958601d54c7a2aa,Add WADL of Object Storage API,MERGED,2012-07-30 09:31:57.000000000,2012-08-01 16:57:31.000000000,2012-08-01 16:57:30.000000000,422,37,0,10524,10e9bb39a9c7ec9ca3f7513c78977f409ad77e66,bug/935245,10,4,3,16,3108,daisy-ycguo,daisy-ycguo,"Add WADL of Object Storage API

Add WADL of Object Storage API, display them on api.openstack.org site.

bug 935245

Patchset 2 adds periods for punctuation on entries, fixes minor typos.

Patchset 3 adds the COPY object command.

Change-Id: I5ea38cd29db87f4e1bf0f21de958601d54c7a2aa
"
openstack%2Fopenstack-manuals~master~Iabe8d89846a74f08bf16e0c0f2b8efb5eee35b28,openstack/openstack-manuals,master,Iabe8d89846a74f08bf16e0c0f2b8efb5eee35b28,Document supporting external gateways in VLAN mode.,MERGED,2012-07-30 00:33:13.000000000,2012-08-01 16:55:58.000000000,2012-08-01 16:55:58.000000000,32,12,0,10505,491a82a15130a5986f58f1ec5408a13780a64ae3,dnsmasq-network-label,6,5,2,3,321,Lorin Hochstein,lorinh,"Document supporting external gateways in VLAN mode.

This feature was introduced in https://review.openstack.org/10468
and has been merged into Nova.

Patchset fixes the build of the bk-compute-adminguide.xml file
and rebases against master.

Change-Id: Iabe8d89846a74f08bf16e0c0f2b8efb5eee35b28
"
openstack%2Fnova~master~Id07eae5b330332f36ad7caa786593e486aa36469,openstack/nova,master,Id07eae5b330332f36ad7caa786593e486aa36469,"Revert ""Check for selinux before setting up selinux.""",MERGED,2012-07-30 12:18:06.000000000,2012-08-01 16:24:43.000000000,2012-08-01 16:24:42.000000000,1,3,2,10529,95b7569bbb5d99d68c330fa2ca4c27a2147a5c96,selinux-revert,15,7,3,1,1812,p-draigbrady,p-draigbrady,"Revert ""Check for selinux before setting up selinux.""

The existing code used trycmd(readlink) precisely because
/etc/selinux might not exist. The presented traceback in
the bug is only debug info.

Also the change will not work with libguestfs for example,
where the nova user can't access mount points mounted by root.

After discussion on IRC it was decided to reduce
debugging output in a subsequent commit.

Reverts: 9bea239f
Change-Id: Id07eae5b330332f36ad7caa786593e486aa36469
"
openstack%2Fnova~master~I0d5c2f1fc7e5f8f6c1154958986bb775ced07443,openstack/nova,master,I0d5c2f1fc7e5f8f6c1154958986bb775ced07443,Prevent instance_info_cache from being altered post instance,MERGED,2012-07-31 23:25:38.000000000,2012-08-01 16:18:12.000000000,2012-08-01 16:18:11.000000000,5,1,1,10632,0909c1cf68c78c6338799884f58755ab5ab52551,,10,5,2,2,191,Trey Morris,tr3buchet,"Prevent instance_info_cache from being altered post instance

It turns out people have found ways to use the info cache everywhere.
The problem is when these ways require information about deleted
instances the info_cache may not be accurate.

This patch prevents the info_cache from being altered after it is
marked as deleted and marks an instance's info_cache as deleted
towards the beginning of the destroy process to ensure it doesn't
get blown away by a cache refresh somewhere along the way.

Change-Id: I0d5c2f1fc7e5f8f6c1154958986bb775ced07443
"
openstack%2Fnova~master~I8c611ab6d63e165f86e588992011f73f69565249,openstack/nova,master,I8c611ab6d63e165f86e588992011f73f69565249,maint: don't require write access when reading files,MERGED,2012-08-01 15:15:02.000000000,2012-08-01 16:18:10.000000000,2012-08-01 16:18:09.000000000,4,4,0,10657,f01fc5deb9ecdba5918ddf113c62497d5be35dc5,load_file,6,3,1,4,1812,p-draigbrady,p-draigbrady,"maint: don't require write access when reading files

Change 'r+' to 'r' for open() when just reading.
The '+' is uneeded and distracting.

Change-Id: I8c611ab6d63e165f86e588992011f73f69565249
"
openstack%2Foslo-incubator~master~I106919d36acd19b702be85e453e949495db70ea9,openstack/oslo-incubator,master,I106919d36acd19b702be85e453e949495db70ea9,Reduce test_zmq's reponse timeout.,MERGED,2012-08-01 16:15:32.000000000,2012-08-01 16:15:32.000000000,2012-08-01 16:15:32.000000000,1,0,0,10066,9d65ec95ebb34121b39ebae195356315e11b232d,rpc_zmq_timeout1,16,5,3,1,159,Eric Windisch,ewindisch,"Reduce test_zmq's reponse timeout.

The rpc response timeout in Nova's fake_flags.py was 5 seconds.
This was lost in the transition to openstack-common, is no longer
set globally. As in test_kombu.py, this should be set in test_zmq.py

The default value is much higher than it needs to be for the
purposes of testing. A lower value fails faster, resulting in faster
tests in the event of failures.

Change-Id: I106919d36acd19b702be85e453e949495db70ea9
"
openstack%2Fnova~master~Ie487a2f845a722a5e7923e26a550d74f553e8afc,openstack/nova,master,Ie487a2f845a722a5e7923e26a550d74f553e8afc,Use instance_get instead of instance_by.,MERGED,2012-08-01 12:45:48.000000000,2012-08-01 16:04:19.000000000,2012-08-01 13:44:15.000000000,1,1,0,10645,fce61c1bc0ddb5e8bffdc5ed6345fc8c2d5bb0c3,bug/1031756,7,3,1,1,360,Dan Prince,dan-prince,"Use instance_get instead of instance_by.

Updates the network manager to use db.instance_get instead of
db.instance_by (which doesn't exist). This change seems to have
slipped in in the recent vifs UUID conversion code.

Fixes LP Bug #1031756.

Change-Id: Ie487a2f845a722a5e7923e26a550d74f553e8afc
"
openstack%2Fnova~master~Ia7105eb272cd2932fc4f25b297ecab9e5ab8dbe2,openstack/nova,master,Ia7105eb272cd2932fc4f25b297ecab9e5ab8dbe2,Fix get_diagnostics RPC arg ordering.,MERGED,2012-08-01 14:57:17.000000000,2012-08-01 15:50:44.000000000,2012-08-01 15:50:43.000000000,6,2,0,10656,5e7275f5bca9c7c6f30a442c3bd2b66eba19fe04,bug/1031788,6,3,1,2,360,Dan Prince,dan-prince,"Fix get_diagnostics RPC arg ordering.

Updates the ordering of the compute managers get_diagnostics
call so it works correctly with the current wrap_instance_fault and
checks_instance_lock decorators. To work correctly 'instance' needs
to be the first argument after the context.

Fixes LP Bug #1031788.

Change-Id: Ia7105eb272cd2932fc4f25b297ecab9e5ab8dbe2
"
openstack%2Fnova~master~I6eb3cb5259f9ee1c7394e58f76105a8b39bfc720,openstack/nova,master,I6eb3cb5259f9ee1c7394e58f76105a8b39bfc720,XenAPI: Fix race-condition with cached images.,MERGED,2012-07-31 22:55:45.000000000,2012-08-01 15:50:00.000000000,2012-08-01 15:49:59.000000000,141,36,0,10631,4f3291e3795460f0b8da5a029faa2e4a9271c8a9,fix_fast_clone_race,13,4,4,4,475,Rick Harris,rconradharris,"XenAPI: Fix race-condition with cached images.

The core problem is that XenServer's `VDI.copy` call drops the
destination file directly into the SR. This means that half-completed
files are visible with no way to distinguish these from fully-copied
files.

We had some code that attempted to mitigate this issue by checking
physical_utilisation against an expected value. The problem with this
code is that it didn't account for VDI chaining where the
physical_utilisation would not necessarily match the parent.

The net effect of this was that 'cloned' VDIs would never be found
because their physical_utilisation was far below what was expected.

The work around is to create our own `_safe_copy_vdi` which is isolated
and atomic. Long term, `VDI.copy` should be fixed so that half-completed
files are never stored in the SR.

Change-Id: I6eb3cb5259f9ee1c7394e58f76105a8b39bfc720
"
openstack%2Fneutron~master~I8dc492eb90d4160a23b3b4ba51feeedba6f852e2,openstack/neutron,master,I8dc492eb90d4160a23b3b4ba51feeedba6f852e2,Make the plugin for test_db_plugin configurable,MERGED,2012-08-01 15:49:34.000000000,2012-08-01 15:49:34.000000000,2012-08-01 15:49:34.000000000,8,1,0,10643,d4a7eabec0efc22c568d476b2237367d51a5025f,bug/1031716,6,3,1,4,261,Salvatore Orlando,salvatore-orlando,"Make the plugin for test_db_plugin configurable

Bug 1031716

Change-Id: I8dc492eb90d4160a23b3b4ba51feeedba6f852e2
"
openstack%2Fnova~master~Ie95b106446c9f136fa079d95df7a14fe50046696,openstack/nova,master,Ie95b106446c9f136fa079d95df7a14fe50046696,Add check exit codes for vlans,MERGED,2012-07-31 15:55:50.000000000,2012-08-01 15:48:49.000000000,2012-08-01 15:48:48.000000000,8,4,4,10607,eab5851b0b55c4230cc11460f9efc6b617ae2e68,master,20,8,3,1,24,Chuck Short,zulcss,"Add check exit codes for vlans

Add check_exit_code to check the ip address
creation in ensure_vlan.

Ignores error code '2' and '0' and '254'
from iproute2, which means the address
has been added or removed.

A further audit of return codes will come later.

LP: #1011640

Change-Id: Ie95b106446c9f136fa079d95df7a14fe50046696
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fnova~master~I1fd7b925e9226d30892f3a7cc4ddb938ff678a55,openstack/nova,master,I1fd7b925e9226d30892f3a7cc4ddb938ff678a55,Setting root passwd no longer fails silently.,MERGED,2012-07-23 13:55:40.000000000,2012-08-01 15:00:52.000000000,2012-08-01 15:00:51.000000000,61,19,16,10130,3ab808b23d17900cc859b75895ac1c7a8f2d7bb9,,49,8,8,6,2284,Eoghan Glynn,eglynn,"Setting root passwd no longer fails silently.

Fixes LP 1022961

Previously an attempt to set the root password would fail silently if
for example the driver did not support this action.

To avoid the user being misled that the password change had succeeded,
we now report any failure by changing the MEP for set_admin_password
RPC from cast to call.

Change-Id: I1fd7b925e9226d30892f3a7cc4ddb938ff678a55
"
openstack%2Fnova~master~I6d6bcd65badb257b5115ad4b11674a6befa2dfcb,openstack/nova,master,I6d6bcd65badb257b5115ad4b11674a6befa2dfcb,Remove usage of non-existent db.instance_by(),ABANDONED,2012-08-01 13:13:38.000000000,2012-08-01 14:55:00.000000000,,1,1,0,10647,e660be5dc67dc3923e99a8d5624453432e0ef326,,4,4,1,1,2284,Eoghan Glynn,eglynn,"Remove usage of non-existent db.instance_by()

Avoid:

  'module' object has no attribute 'instance_by'

by removing recently added usage of db.instance_by(),
replacing with instance_get().

Change-Id: I6d6bcd65badb257b5115ad4b11674a6befa2dfcb
"
openstack%2Fheat~master~I8615cb7fbbbfd21a403a4973fe0a63300c6cf852,openstack/heat,master,I8615cb7fbbbfd21a403a4973fe0a63300c6cf852,heat API : Return correct AWS error response for invalid parameter,MERGED,2012-08-01 13:45:19.000000000,2012-08-01 13:45:19.000000000,2012-08-01 13:45:19.000000000,2,2,0,10650,c69f3892c2563cefdc26e6bdb54bc2c2e7c7cae5,master,5,2,1,1,4328,Steven Hardy,shardy,"heat API : Return correct AWS error response for invalid parameter

Passing template parameter values which are not in AllowedValues
makes the engine throw a ValueError exception, which should be
mapped back to HeatInvalidParameterValueError so that the API
error response is correctly formatted.

Fixes #180

Change-Id: I8615cb7fbbbfd21a403a4973fe0a63300c6cf852
Signed-off-by: Steven Hardy <shardy@redhat.com>
"
openstack%2Fceilometer~master~I08d122ecd2f726fb1b2880bc22e28113f6a3aeb1,openstack/ceilometer,master,I08d122ecd2f726fb1b2880bc22e28113f6a3aeb1,Add API endpoint for listing raw event data,MERGED,2012-08-01 10:40:21.000000000,2012-08-01 10:40:21.000000000,2012-08-01 10:40:21.000000000,148,11,12,10573,74e381fc9d0adb17034f9eb8467b8ca4934020c3,feature/list-events,12,7,2,4,2472,Doug Hellmann,doug-hellmann,"Add API endpoint for listing raw event data

This change adds some of the endpoints for listing raw
event data from the database. It does not yet support
listing events by project id.

It also fixes a problem with the MongoDB driver returning
Mongo's ObjectId instances in the results of the event
query, which makes them impossible to serialize via JSON.

Change-Id: I08d122ecd2f726fb1b2880bc22e28113f6a3aeb1
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fceilometer~master~Ia4b9a9048df5cfca7cb868ee518297de86c78b71,openstack/ceilometer,master,Ia4b9a9048df5cfca7cb868ee518297de86c78b71,"Add {root,ephemeral}_disk_size counters",MERGED,2012-08-01 10:39:20.000000000,2012-08-01 10:39:20.000000000,2012-08-01 10:39:20.000000000,44,22,4,10338,8034b27272bc8101f926319dbe3a4f7c57e1d070,master,11,3,2,2,1669,Julien Danjou,jdanjou,"Add {root,ephemeral}_disk_size counters

Change-Id: Ia4b9a9048df5cfca7cb868ee518297de86c78b71
Signed-off-by: Julien Danjou <julien@danjou.info>
"
openstack%2Fceilometer~master~If2e3a0e9c958f1c147ad1cbabcd25539d5b8b68f,openstack/ceilometer,master,If2e3a0e9c958f1c147ad1cbabcd25539d5b8b68f,Implements vcpus counter,MERGED,2012-08-01 10:38:22.000000000,2012-08-01 10:38:22.000000000,2012-08-01 10:38:22.000000000,19,4,1,10337,3228eac892473aa87b2f82f240a4336fa320ef24,master,6,3,1,2,1669,Julien Danjou,jdanjou,"Implements vcpus counter

This is the same kind of counter of memory.

Change-Id: If2e3a0e9c958f1c147ad1cbabcd25539d5b8b68f
Signed-off-by: Julien Danjou <julien@danjou.info>
"
openstack%2Fneutron~master~Ia40335456151fc4310aacf4321638eb5dd7b10e6,openstack/neutron,master,Ia40335456151fc4310aacf4321638eb5dd7b10e6,Implement DB and allocation logic for dns + route info,ABANDONED,2012-08-01 09:52:03.000000000,2012-08-01 09:52:03.000000000,,536,204,64,9978,8eb82e8c5c461317e3e2162adf89f9120539bef8,dns-route-db-allocation,38,10,4,5,4592,Josh Valdez,exxonvaldeez,"Implement DB and allocation logic for dns + route info

This fix implements the database models for the v2 db plugin base
to store dns + additional routes that can be associated with a subnet.

It also includes unit tests that ensure correct functionality.

Change-Id: Ia40335456151fc4310aacf4321638eb5dd7b10e6
"
openstack%2Fdevstack~master~Ib4544b07dac58026c874b4f9a418744bab85edb6,openstack/devstack,master,Ib4544b07dac58026c874b4f9a418744bab85edb6,Always restart rabbitmq,ABANDONED,2012-07-31 08:23:56.000000000,2012-08-01 08:05:59.000000000,,4,4,4,10592,bc88a0746b293f9f516f49ce730f61db122f0038,bug/1030798,4,3,1,1,5044,Mate Lakat,mate-lakat,"Always restart rabbitmq

Fixes bug 1030798.

Change-Id: Ib4544b07dac58026c874b4f9a418744bab85edb6
"
openstack%2Fnova~master~Id7c4b0c4f8710652249b5c4fcb82abd5cccde6dd,openstack/nova,master,Id7c4b0c4f8710652249b5c4fcb82abd5cccde6dd,Fix ip6tables support in xenapi bug 934603,MERGED,2012-07-27 13:46:07.000000000,2012-08-01 07:19:12.000000000,2012-08-01 07:19:11.000000000,4,1,0,10407,cdc5a6a237dd57da59102b2a2020cadd67e4c168,bug/934603,8,5,1,1,5044,Mate Lakat,mate-lakat,"Fix ip6tables support in xenapi bug 934603

Change-Id: Id7c4b0c4f8710652249b5c4fcb82abd5cccde6dd
"
openstack%2Fnova~master~I99df63838fd41a4cade99b54da9511978b0d1a86,openstack/nova,master,I99df63838fd41a4cade99b54da9511978b0d1a86,Set default keystone auth_token signing_dir loc.,MERGED,2012-07-30 18:41:02.000000000,2012-08-01 07:04:40.000000000,2012-08-01 07:04:40.000000000,1,0,0,10555,38334ed77975859608c3d9f98c5a102bd0276bb2,signing_dir,8,5,1,1,360,Dan Prince,dan-prince,"Set default keystone auth_token signing_dir loc.

Updates the nova api-paste.ini file with a custom signing_dir
for Nova. This works around potential multi-service permission issues which
can occur when multiple OpenStack services share a common signing directory.

Change-Id: I99df63838fd41a4cade99b54da9511978b0d1a86
"
openstack%2Fnova~stable%2Fessex~I2893354a1b9b54a58c3759c8292c5169b423cdc0,openstack/nova,stable/essex,I2893354a1b9b54a58c3759c8292c5169b423cdc0,Turn RPC error into FloatingIpNotFound,ABANDONED,2012-07-12 12:18:50.000000000,2012-08-01 06:03:05.000000000,,10,4,0,9711,d0e1d50686885f6411ef06e21872590465d60c0e,stable/essex,7,5,1,1,518,Soren Hansen,soren,"Turn RPC error into FloatingIpNotFound

Without this change, queries for deleted FloatingIp's will yield an HTTP
500. The API frontend expects a FloatingIpNotFound if the FloatingIp
isn't found, but because it goes through the RPC layer, the
FloatingIpNotFound exception from the db layer gets turned into a
generic RPCError.

This change is specific to stable/essex, as it's been solved by a way
cooler, but much more invasive (and thus much less suitable for
stable/essex) change in Folsom allowing exceptions to be passed unharmed
through the RPC layer.

Change-Id: I2893354a1b9b54a58c3759c8292c5169b423cdc0
"
openstack%2Fnova~master~I53d519b6d3bdc55ace547e02817dd853abd0bd40,openstack/nova,master,I53d519b6d3bdc55ace547e02817dd853abd0bd40,Jenkins failed because nova-network can't start,ABANDONED,2012-07-19 03:52:35.000000000,2012-08-01 06:03:04.000000000,,2,1,1,10003,cc17250070cca7c9281b599480d7e0c84bfc9a8c,bug/1026430,7,5,1,1,2711,Zhang Hua,zhhuabj,"Jenkins failed because nova-network can't start

bug 1026430

command 'ip route show dev eth0' should also run as root

Change-Id: I53d519b6d3bdc55ace547e02817dd853abd0bd40
"
openstack%2Fnova~master~I14c4019c9aea4e87ed5437749809c05e39fc374b,openstack/nova,master,I14c4019c9aea4e87ed5437749809c05e39fc374b,Handle RemoteError in OS API network extension,ABANDONED,2012-07-23 10:52:55.000000000,2012-08-01 06:03:03.000000000,,13,6,0,10124,b551339760a1716e3b8979b71cc3504456e1f10c,bug/1023315,5,3,1,1,1267,Alexei Ababilov,aababilov,"Handle RemoteError in OS API network extension

If the requested network does not exists, raise HTTPNotFound.
Else, raise HTTPBadRequest with explanation.

nova.network.api calls raise RemoteError and never NetworkNotFound,
so this exception cannot be caught.

Change-Id: I14c4019c9aea4e87ed5437749809c05e39fc374b
Fixes: bug #1023315
Fixes: bug #1025329
"
openstack%2Fcinder~master~I9ae9c737bd2aa5bfa14c19fe8b8b2a7a5aa4d43a,openstack/cinder,master,I9ae9c737bd2aa5bfa14c19fe8b8b2a7a5aa4d43a,Include volume_metadata with object on vol create,MERGED,2012-07-28 04:43:28.000000000,2012-08-01 05:27:11.000000000,2012-08-01 05:27:11.000000000,29,2,0,10446,5b605b6b8ae00f51deac5e0531f7aeda9bd11019,bug/1029762,8,5,1,2,2243,John Griffith,john-griffith,"Include volume_metadata with object on vol create

Fix for Bug 1029762

The symptom of this bug is that the response data of an
OSAPI create call always shows and empty dict for volume_metadata
regardless of what was passed in to created and actually used.

Upon the db create_volume call a reference to the volume
object is all that was being returned.  Since metadata is
specified and set, it should also be returned with the
create reference object.

This will result in the the osapi create call returning
a body with correct metdata info rather than always showing
and empty dict as it was previously.

Change-Id: I9ae9c737bd2aa5bfa14c19fe8b8b2a7a5aa4d43a
"
openstack%2Fpython-glanceclient~master~I5209fe76445d4195b12944146a0ef190883f363f,openstack/python-glanceclient,master,I5209fe76445d4195b12944146a0ef190883f363f,Stop looking for v2 image in container,MERGED,2012-07-31 03:54:27.000000000,2012-08-01 04:47:29.000000000,2012-08-01 04:47:28.000000000,4,6,0,10587,c24ea3f84876ca4087710fc15a94c1a82ec1d5f0,bug/1031185,8,3,1,2,1132,Brian Waldon,bcwaldon,"Stop looking for v2 image in container

The v2 API no longer returns images in JSON containers like
'{""image"": {...}}', so stop trying to decode the responses
as if it does.

Fix bug 1031185

Change-Id: I5209fe76445d4195b12944146a0ef190883f363f
"
openstack%2Fglance~master~I1eacee2d877f5dde3612b3d4006d4caf489f49e1,openstack/glance,master,I1eacee2d877f5dde3612b3d4006d4caf489f49e1,Simplify image and access_record responses,MERGED,2012-07-31 03:37:38.000000000,2012-08-01 04:27:18.000000000,2012-08-01 04:27:18.000000000,137,158,0,10586,eeedad333398c6c869214ddccfbb36719ca56429,bug/1031185,13,5,2,6,1132,Brian Waldon,bcwaldon,"Simplify image and access_record responses

This removes the container around individual image and access_record
entities in GET /images/<ID> and GET /images/<ID>/access/<TENANT>.
Response bodies used to look like '{""image"": {...}}', while now they
look like '{...}'.

Fix bug 1031185

Change-Id: I1eacee2d877f5dde3612b3d4006d4caf489f49e1
"
openstack%2Fopenstack-manuals~stable%2Fessex~I6dc6069088696c2f9a3985d120bf7021fd52376e,openstack/openstack-manuals,stable/essex,I6dc6069088696c2f9a3985d120bf7021fd52376e,Remove authtoken reference for glance-api-paste.ini,MERGED,2012-08-01 03:06:56.000000000,2012-08-01 03:17:47.000000000,2012-08-01 03:17:47.000000000,6,8,0,10637,8ef982198b50edd87f98574c7fcda7670721742f,essex-glance-config,3,2,1,1,321,Lorin Hochstein,lorinh,"Remove authtoken reference for glance-api-paste.ini

Essex branch had an erroneous reference to adding authtoken
to a paste pipeline. The authtoken is already there, in a
different pipeline, and it's just a matter of choosing the
correct pipeline rather than editing the file.

This was fixed in trunk, but not in essex. This change brings
the two in line.

Change-Id: I6dc6069088696c2f9a3985d120bf7021fd52376e
"
openstack%2Fswift~milestone-proposed~I612d4cae7a4dc1bf5164356af329496245ad85dc,openstack/swift,milestone-proposed,I612d4cae7a4dc1bf5164356af329496245ad85dc,Fixed proxy logging.,MERGED,2012-08-01 00:17:41.000000000,2012-08-01 01:08:05.000000000,2012-08-01 01:08:04.000000000,17,1,0,10635,90bee499557fb6365465fa228aec54ca1e457249,milestone-proposed,8,4,1,2,1216,gholt,gholt,"Fixed proxy logging.

It wasn't logging the full path, depending on if WebOb's
path_info_pop had been called.

Change-Id: I612d4cae7a4dc1bf5164356af329496245ad85dc
"
openstack%2Fswift~master~I612d4cae7a4dc1bf5164356af329496245ad85dc,openstack/swift,master,I612d4cae7a4dc1bf5164356af329496245ad85dc,Fixed proxy logging.,MERGED,2012-08-01 00:16:58.000000000,2012-08-01 00:32:03.000000000,2012-08-01 00:32:03.000000000,17,1,0,10634,7923c56afadf272da0db1a34810bbc029ea4d047,fixlogpath,6,3,1,2,1216,gholt,gholt,"Fixed proxy logging.

It wasn't logging the full path, depending on if WebOb's
path_info_pop had been called.

Change-Id: I612d4cae7a4dc1bf5164356af329496245ad85dc
"
openstack%2Fnova~master~Ie538dd93dec729fb060bbcddfbddcba6cf303e52,openstack/nova,master,Ie538dd93dec729fb060bbcddfbddcba6cf303e52,Tidy up nova.image.glance,MERGED,2012-07-30 16:45:15.000000000,2012-08-01 00:11:07.000000000,2012-08-01 00:11:06.000000000,16,51,9,10548,6e4539f397bfc5dbf9ec88ddc3968621815d576b,integrate-python-glanceclient,16,6,3,7,1132,Brian Waldon,bcwaldon,"Tidy up nova.image.glance

* Add comment explaining relevance of _is_image_available
* Drop superfluous log statements
* Drop GlanceImageService.delete_all as it has never been implemented
* Drop the 'features' kwarg for GlanceImageService.update
* Code simplification

Change-Id: Ie538dd93dec729fb060bbcddfbddcba6cf303e52
"
openstack%2Fnova~master~I71fe4d90a8cc9bcf7a4817aefd6de52e216102a4,openstack/nova,master,I71fe4d90a8cc9bcf7a4817aefd6de52e216102a4,Update targets information when creating target.,MERGED,2012-07-31 21:00:20.000000000,2012-07-31 23:54:33.000000000,2012-07-31 23:54:33.000000000,2,2,0,10628,dcc26e8c414765754dbf568dcaa4490e62f0bc44,master,8,5,1,2,24,Chuck Short,zulcss,"Update targets information when creating target.

tgt-admin needs to use --execute --update to tell
tgtd to re-read its configuration files when target
is created.

(LP: #1031509)

Change-Id: I71fe4d90a8cc9bcf7a4817aefd6de52e216102a4
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fglance~master~Ida6931147d6e4fba1bb02c0be9e755fb1751b986,openstack/glance,master,Ida6931147d6e4fba1bb02c0be9e755fb1751b986,Add in missing image collection schema link.,MERGED,2012-07-31 20:31:41.000000000,2012-07-31 23:14:41.000000000,2012-07-31 23:14:41.000000000,7,2,0,10623,ff83d4fcc23f2b54086a24d7a6466a86e89e31b9,bp/api-v2-links,10,4,1,2,616,Mark Washenberger,markwash,"Add in missing image collection schema link.

Related to bp api-v2-links. The schema link for GET /v2/images was
missing, although its target /v2/schemas/images was present. This change
adds in the link and updates tests.

Change-Id: Ida6931147d6e4fba1bb02c0be9e755fb1751b986
"
openstack%2Fnova~master~I7dd2fb7480010893f66c753b3d31a4556009efe0,openstack/nova,master,I7dd2fb7480010893f66c753b3d31a4556009efe0,Send a full instance in change_instance_metadata.,MERGED,2012-07-31 19:34:03.000000000,2012-07-31 22:41:54.000000000,2012-07-31 22:41:53.000000000,24,18,0,10617,14129b4af8795a28a62b69897dc5cd6602353cc9,bp/no-db-messaging,6,3,1,4,1561,Russell Bryant,russellb,"Send a full instance in change_instance_metadata.

Change the change_instance_metadata method of the compute
rpc API to take a full instance over rpc instead of just
the instance UUID.  This cuts down on database access needed
by nova-compute.

These methods were moved in rpcapi.py and test_rpcapi.py but only because
the rest of the file was in alphabetical order.  The move puts it in the
right place to maintain that order.

Part of blueprint no-db-messaging.

Change-Id: I7dd2fb7480010893f66c753b3d31a4556009efe0
"
openstack%2Fnova~master~I9a693b347ce583aa350f4c10531b53e0f9813577,openstack/nova,master,I9a693b347ce583aa350f4c10531b53e0f9813577,Send a full instance in unrescue_instance.,MERGED,2012-07-31 19:34:03.000000000,2012-07-31 22:41:52.000000000,2012-07-31 22:41:51.000000000,30,15,2,10616,6a6fe2f6bf736583d9e2cde0733c6568877b7979,bp/no-db-messaging,9,5,1,4,1561,Russell Bryant,russellb,"Send a full instance in unrescue_instance.

Change the unrescue_instance method of the compute
rpc API to take a full instance over rpc instead of just
the instance UUID.  This cuts down on database access needed
by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: I9a693b347ce583aa350f4c10531b53e0f9813577
"
openstack%2Fglance~master~I4303070f016a72fa1cd778d83423fa9a9f77897b,openstack/glance,master,I4303070f016a72fa1cd778d83423fa9a9f77897b,Fix dead link to image access collection schema,MERGED,2012-07-31 21:39:17.000000000,2012-07-31 22:12:30.000000000,2012-07-31 22:12:30.000000000,33,1,0,10630,55a3b3cf51df1cd203c642fc1cb1cbc0dcb7bfa5,bp/api-v2-links,6,3,1,5,616,Mark Washenberger,markwash,"Fix dead link to image access collection schema

Related to bp api-v2-links. The image access records list object
contains a link to /v2/schemas/image/accesses, but that link returns
nothing yet. This change adds the schema that the link should return and
wires up the router to return it.

Change-Id: I4303070f016a72fa1cd778d83423fa9a9f77897b
"
openstack%2Fhorizon~master~I9478f16dd7d31edebaa88de244b542eb05cb24fa,openstack/horizon,master,I9478f16dd7d31edebaa88de244b542eb05cb24fa,Update glanceclient imports and version req,MERGED,2012-07-31 20:32:25.000000000,2012-07-31 21:12:58.000000000,2012-07-31 21:12:58.000000000,8,8,0,10624,c28ce3b79897a4edf36f383d89679bfbebbbf0df,update-glanceclient-imports,6,3,1,5,1132,Brian Waldon,bcwaldon,"Update glanceclient imports and version req

* Update references to glanceclient.v1.client.Client to glanceclient.Client
* Update references to glanceclient.common.exceptions to glanceclient.exc
* Update version requirement of python-glanceclient to v0.2.X

Change-Id: I9478f16dd7d31edebaa88de244b542eb05cb24fa
"
openstack%2Fnova~master~I8b71e2f6c85d007cde0da32890168c922102a7d8,openstack/nova,master,I8b71e2f6c85d007cde0da32890168c922102a7d8,Avoid recursion from @refresh_cache,MERGED,2012-07-31 20:41:36.000000000,2012-07-31 21:05:29.000000000,2012-07-31 21:05:28.000000000,5,2,0,10626,4270a5ca49f014b735c2579845bbf93499135412,,6,3,1,3,2284,Eoghan Glynn,eglynn,"Avoid recursion from @refresh_cache

Previously the decorator current called out indirectly to
nova.api.network.api.API.get_instance_nw_info(), which is also
decoratored by @refresh_cache.

Change-Id: I8b71e2f6c85d007cde0da32890168c922102a7d8
"
openstack%2Ftempest~master~I0ebd34c74bd6a4f0a31fb29f38acdbf060c64617,openstack/tempest,master,I0ebd34c74bd6a4f0a31fb29f38acdbf060c64617,Tolerate set_admin_password not implemented.,MERGED,2012-07-30 17:48:23.000000000,2012-07-31 20:59:39.000000000,2012-07-31 20:59:39.000000000,16,0,0,10552,f97d5fdca54b739391b22876c76d0cfcf32d553b,fixes,14,4,1,5,1192,David Kranz,david-kranz,"Tolerate set_admin_password not implemented.

Allow skipping of password test if this action
is not implemented by the virt driver.

New variable was added to devstack gate in https://review.openstack.org/#/c/10215/1

This will allow the following nova patch to be gated:

https://review.openstack.org/10130

Change-Id: I0ebd34c74bd6a4f0a31fb29f38acdbf060c64617
"
openstack%2Foslo-incubator~master~Ia3531bea41a2226798f3910803a4323f1984e767,openstack/oslo-incubator,master,Ia3531bea41a2226798f3910803a4323f1984e767,Remove code to clear basicConfig root log handlers,MERGED,2012-07-31 20:58:50.000000000,2012-07-31 20:58:50.000000000,2012-07-31 20:58:50.000000000,0,11,0,10610,305874a4dcacbad0915985e1a4042c3dabaf4e12,bug/1029577,8,4,1,1,360,Dan Prince,dan-prince,"Remove code to clear basicConfig root log handlers

Removes some old Nova specific code to clear out the log handlers
from Nova's logging basicConfig. This code is arguably Nova specific
and doesn't really belong in openstack-common's generic logging
configuration.

Additionally, This code was actually removing the root logger used by
some command line tools and binaries and hiding log messages that should
have otherwise gone to the console.

Fixes LP Bug #1029577.

Change-Id: Ia3531bea41a2226798f3910803a4323f1984e767
"
openstack%2Fglance~master~Iea49adaa418a3e2495c0713700633785bc21d103,openstack/glance,master,Iea49adaa418a3e2495c0713700633785bc21d103,Drop static API v2 responses,MERGED,2012-07-31 20:00:07.000000000,2012-07-31 20:41:45.000000000,2012-07-31 20:41:44.000000000,4,151,0,10621,83a108c1b0522716c48ead33cdc94141a38faac8,bp/api-2,7,4,1,7,1132,Brian Waldon,bcwaldon,"Drop static API v2 responses

It's not helpful to tell users to discover our services but not build
anything into the API that actually *is* discoverable (other than
JSON schemas). This drops GET /v2 and GET /v2/schemas.

Related to bp api-2

Change-Id: Iea49adaa418a3e2495c0713700633785bc21d103
"
openstack%2Foslo-incubator~master~Ib6683324f92345c17cfd7234d08070b48ffb4d3e,openstack/oslo-incubator,master,Ib6683324f92345c17cfd7234d08070b48ffb4d3e,Copy LoopingCall from nova for service.py,MERGED,2012-07-31 20:19:59.000000000,2012-07-31 20:19:59.000000000,2012-07-31 20:19:59.000000000,140,0,3,10398,356c72ea4af021078aaf5beeba411322a9a93d1f,master,16,4,5,2,4715,Angus Salkeld,asalkeld,"Copy LoopingCall from nova for service.py

Change-Id: Ib6683324f92345c17cfd7234d08070b48ffb4d3e
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
"
openstack%2Foslo-incubator~master~I40fe63d43aad8fcf37d5332a1aa05e2b3068f01a,openstack/oslo-incubator,master,I40fe63d43aad8fcf37d5332a1aa05e2b3068f01a,Remove unnecessary register_opts from test_zmq,MERGED,2012-07-31 20:04:50.000000000,2012-07-31 20:04:50.000000000,2012-07-31 20:04:50.000000000,0,2,0,9806,48831448ed9f6a70bff63be4370843d52372fffa,zmq_rpc_timeout,24,5,2,1,159,Eric Windisch,ewindisch,"Remove unnecessary register_opts from test_zmq

The calls to register_opts are no longer required,
and are no longer called from the tests of other rpc mechanisms.

Change-Id: I40fe63d43aad8fcf37d5332a1aa05e2b3068f01a
"
openstack%2Fglance~master~I36405ea1ae870e4936581ed575059aec2847cab8,openstack/glance,master,I36405ea1ae870e4936581ed575059aec2847cab8,Modify links in v2 api root resource.,ABANDONED,2012-07-30 18:27:32.000000000,2012-07-31 19:59:33.000000000,,63,13,0,10554,6e01318cff372ef1c85b67b0b63eb5f90efbfb4b,bp/api-v2-links,8,6,1,7,616,Mark Washenberger,markwash,"Modify links in v2 api root resource.

As a part of bp api-v2-links, this change modifies the links from the
root resource to the schemas and images resources. Link relations are no
longer stored in the root resource itself, but in its schema instead. So
this change also entails adding a schema object describing the root
resource.

Change-Id: I36405ea1ae870e4936581ed575059aec2847cab8
"
openstack%2Fnova~master~I51142d739f4f6abd378bb5cf3632833c9b4f843c,openstack/nova,master,I51142d739f4f6abd378bb5cf3632833c9b4f843c,Changes the default behaviour of create instance min/max count logic in ec2 to match the default behavior of OS API,ABANDONED,2012-07-31 19:41:11.000000000,2012-07-31 19:48:36.000000000,,14,4,0,10618,71e3da0f74110b3ee326671040ae418f02305edb,bug/989799,1,0,1,2,4463,iccha-sethi,iccha-sethi,"Changes the default behaviour of create instance min/max count logic
in ec2 to match the default behavior of OS API

Fixes bug 989799

Change-Id: I51142d739f4f6abd378bb5cf3632833c9b4f843c
"
openstack%2Fnova~master~Ia90c038eb4677e109d58e9b79bb8a05490689c9f,openstack/nova,master,Ia90c038eb4677e109d58e9b79bb8a05490689c9f,Compute: Error out instance on rebuild and resize.,MERGED,2012-07-28 00:10:49.000000000,2012-07-31 18:57:21.000000000,2012-07-31 18:57:21.000000000,141,156,0,10444,37dee20d2f963ca08e56a95be8c654e1920e4a2a,error_instance_take_two,20,5,5,2,475,Rick Harris,rconradharris,"Compute: Error out instance on rebuild and resize.

If a rebuild or a resize fails, then we should error out the instance.
This code takes an idiom we already use in the compute manager and adds
it to the rebuild and resize code.

Change-Id: Ia90c038eb4677e109d58e9b79bb8a05490689c9f
"
openstack%2Fceilometer~master~I6a16405fd65bfb3c190d02f3d70b2bde7fc0fc83,openstack/ceilometer,master,I6a16405fd65bfb3c190d02f3d70b2bde7fc0fc83,Change compute pollster API to work on one instance at a time,MERGED,2012-07-31 18:15:40.000000000,2012-07-31 18:15:40.000000000,2012-07-31 18:15:40.000000000,87,66,0,10557,dbccbb5cb97c62ec6d87892cb0aa7b864bc27548,bug/1005944,17,9,3,5,2472,Doug Hellmann,doug-hellmann,"Change compute pollster API to work on one instance at a time

We will eventually need the compute agent to accept instructions to
poll the status of an instance before nova deletes it (for details
see bug 1005944). This change prepares for that fix by making
the compute agent pollsters take an instance as an argument
provided by the caller, instead of accessing the database directly
to look up the instances known to be running on the current
host.

Change-Id: I6a16405fd65bfb3c190d02f3d70b2bde7fc0fc83
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fceilometer~master~Ica6e947b2e457f7db6672147af1369a24066037d,openstack/ceilometer,master,Ica6e947b2e457f7db6672147af1369a24066037d,"Create ""central"" agent",MERGED,2012-07-31 18:14:43.000000000,2012-07-31 18:14:43.000000000,2012-07-31 18:14:43.000000000,328,101,0,10550,0e8f2359d9d1b5fc02fbc0fe92e788eb757feaa5,feature/split-agent-into-two-services,14,7,3,22,2472,Doug Hellmann,doug-hellmann,"Create ""central"" agent

This changeset is phase one of changing the pollster API to support
polling individual instance resources. In this change, the single
compute agent is divided into two separate daemons.

The compute agent, for polling instance data, is still meant to
run on the compute server. The new ""central"" agent, for polling
resources not tied to a compute node, is meant to run on a management
server (probably the same place the collector runs). The configuration
of the pollsters is updated so that they are loaded by the
appropriate agent.

New base classes are introduced for each of the types of pollsters.
For now, the APIs remain the same.

The code implementing the agent and plugins has been moved around
to reflect the new logical relationships, and the documentation
is updated (including new installation instructions).

Change-Id: Ica6e947b2e457f7db6672147af1369a24066037d
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fnova~master~I2046d5688c2f5122624dc338680b7ddd850ed330,openstack/nova,master,I2046d5688c2f5122624dc338680b7ddd850ed330,Instance cleanups from detach_volumes.,MERGED,2012-07-29 05:35:45.000000000,2012-07-31 18:02:08.000000000,2012-07-31 18:02:07.000000000,6,8,2,10486,83ef4e36222d185b652a9b913eeb92c2bb96b70c,full-instances-detach-volumes,14,5,3,1,2271,Michael Still,mikalstill,"Instance cleanups from detach_volumes.

We can just use members of the instance dictionary without turning
them into local variables, as we don't need to populate instance_uuid
manually, as that is done by the @checks_instance_lock decorator.

Change-Id: I2046d5688c2f5122624dc338680b7ddd850ed330
"
openstack%2Fopenstack-manuals~stable%2Fessex~I4ccd8838093aa2d9c51925135705fe673790daaa,openstack/openstack-manuals,stable/essex,I4ccd8838093aa2d9c51925135705fe673790daaa,cherry-picked from  https://review.openstack.org/10483,MERGED,2012-07-30 02:59:53.000000000,2012-07-31 17:59:27.000000000,2012-07-31 17:59:27.000000000,78,5,0,10515,599113da901c67ad7438d912f62a006c8f615df5,bug/1026617,4,3,1,1,4625,Jonathan Proulx,jproulx,"cherry-picked from  https://review.openstack.org/10483

Bug 1026617: expand introduction to block storage options

An expanded discussion of ephemeral storage and volume storage
as a partial fix to bug 1026617

Change-Id: I4ccd8838093aa2d9c51925135705fe673790daaa
"
openstack%2Fnova~master~I3d2bd2e65dbc6787d1c9b69ffd0bcff85c157869,openstack/nova,master,I3d2bd2e65dbc6787d1c9b69ffd0bcff85c157869,Use event.listen() instead of deprecated listeners kwarg,MERGED,2012-07-31 15:41:19.000000000,2012-07-31 17:28:47.000000000,2012-07-31 17:28:46.000000000,17,22,0,10606,28a7ac658959a8dcc8ba0b7d316fe598e7992c8b,bug/1031405,9,6,1,1,100,Johannes Erdfelt,johannes.erdfelt,"Use event.listen() instead of deprecated listeners kwarg

Fixes bug 1031405

The listeners kwarg is deprecated in SQLAlchemy 0.7.0. Since 0.7.3 is
the minimum required version of SQLAlchemy, use the new event.listen()
API instead.

Change-Id: I3d2bd2e65dbc6787d1c9b69ffd0bcff85c157869
"
openstack%2Fglance~master~Ic52120558f89359f1bbfac47f75ff0aa4e916434,openstack/glance,master,Ic52120558f89359f1bbfac47f75ff0aa4e916434,Include dates in detailed image output.,MERGED,2012-07-30 07:29:15.000000000,2012-07-31 17:27:58.000000000,2012-07-31 17:27:58.000000000,14,9,1,10522,bd132eebeac221729fd90def39d962f1956bdff2,bug/1030742,15,5,2,2,2271,Michael Still,mikalstill,"Include dates in detailed image output.

This adds date display to the output of commands such as ""glance
show"". This is helpful for admins trying to decide if an image can
be removed from disk safely or not. Resolves bug 1030742.

Change-Id: Ic52120558f89359f1bbfac47f75ff0aa4e916434
"
openstack%2Ftempest~master~If38a93330da39d58b518111d6c58c1fc7db59ac6,openstack/tempest,master,If38a93330da39d58b518111d6c58c1fc7db59ac6,Remove skip for bug #984762,MERGED,2012-07-23 20:28:40.000000000,2012-07-31 17:20:36.000000000,2012-07-31 17:20:36.000000000,0,1,0,10169,b6c880af8f0283439f4f972b11117bc67a288520,bug/984762,11,3,1,1,4393,Dan Smith,danms,"Remove skip for bug #984762

The bug hasn't actually been resolved, but the issue being tested
in the test case has, based on another bug report. I expect
984762 to be closed when the poster re-tests.

Change-Id: If38a93330da39d58b518111d6c58c1fc7db59ac6
"
openstack%2Fglance~master~Id89f1df473ddc46ef4992715a9ecd3246b87d442,openstack/glance,master,Id89f1df473ddc46ef4992715a9ecd3246b87d442,Update image caching middleware for v2 URIs,MERGED,2012-07-17 19:13:24.000000000,2012-07-31 17:09:50.000000000,2012-07-31 17:09:50.000000000,181,46,9,9930,8c912685eba97502d036a3a4d7f202b8398c24ca,bp/api-v2-image-caching,48,6,6,3,1132,Brian Waldon,bcwaldon,"Update image caching middleware for v2 URIs

Refactor the image caching middleware to support v2 URI image data GET
and image DELETE requests.

Implements bp api-v2-image-caching

Change-Id: Id89f1df473ddc46ef4992715a9ecd3246b87d442
"
openstack%2Fnova~master~I29370f33a63817f3e45d453499bd46131b947d7e,openstack/nova,master,I29370f33a63817f3e45d453499bd46131b947d7e,Prefer instance in reboot_instance.,MERGED,2012-07-29 01:39:05.000000000,2012-07-31 17:09:49.000000000,2012-07-31 17:09:48.000000000,6,7,0,10479,2aaf430aab248d3ea10fe4987b39942ff3eb56df,full-instances-reboot-instance,9,6,1,1,2271,Michael Still,mikalstill,"Prefer instance in reboot_instance.

Now that we're passed through an instance, or something which is
immediately turned into an instance, we should prefer using the full
instance inside compute methods. This is especially useful for log
messages, as it allows users to format the messages more than they
can if only the UUID is passed.

Change-Id: I29370f33a63817f3e45d453499bd46131b947d7e
"
openstack%2Fnova~master~Ibfb04997ff4a983d144d81350857cb07475aff54,openstack/nova,master,Ibfb04997ff4a983d144d81350857cb07475aff54,Avoid associating floating IP with two instances.,MERGED,2012-07-30 13:15:01.000000000,2012-07-31 16:58:46.000000000,2012-07-31 16:58:46.000000000,128,14,4,10532,6a5f095b0a9a73c57469b4e5f10694d1b738527f,,18,6,4,4,2284,Eoghan Glynn,eglynn,"Avoid associating floating IP with two instances.

Addresses LP 1029911.

Associating an already-associated floating IP with another instance
results in the floating IP being first disassociated from the original
instance and then associated with the second instance.

However when this transfer of the floating IP to the second instance
occurs, the network info held in the database instance info cache was
previously only updated for the second instance (via the
@nova.network.api.refresh_cache decorator).

As a result, the floating IP was initially reported as being associated
with *both* instances. This misreporting is temporary - eventually the
periodic heal_instance_info_cache task will roll around and purge the
inaccurante network info for the original instance. However depending
on the frequency configured for this task and the size of the instance
population, it could take a while for the refresh to occur.

This issue is addressed by immediately purging the obsolute network info
when the reassignment occurs.

Change-Id: Ibfb04997ff4a983d144d81350857cb07475aff54
"
openstack%2Fnova~master~Ic82ae27a4af7ea8f7669fd006aea1a310b691218,openstack/nova,master,Ic82ae27a4af7ea8f7669fd006aea1a310b691218,Xen: VHD sequence validation should handle swap.,MERGED,2012-07-30 15:52:34.000000000,2012-07-31 16:39:30.000000000,2012-07-31 16:39:29.000000000,3,0,0,10542,40a84de65ae870c363587b3cacb1c1308eee069e,bug/1030939,7,4,1,1,475,Rick Harris,rconradharris,"Xen: VHD sequence validation should handle swap.

The VHD sequence validation code was erroneously counting `swap.vhd`,
which caused it to raise an exception when a corresponding numbered VHD
was not found.

The fix is to simply ignore the `swap.vhd` file.

Other unknown VHDs will generate an exception, but from a
sanity-checking perspective, this is a Good Thing(tm).

Fixes bug 1030939

Change-Id: Ic82ae27a4af7ea8f7669fd006aea1a310b691218
"
openstack%2Fcinder~master~I1029848bb639402cad30c01b51630c0ddd9dd7b8,openstack/cinder,master,I1029848bb639402cad30c01b51630c0ddd9dd7b8,Remove unused instance_name_template flag,MERGED,2012-07-28 07:30:23.000000000,2012-07-31 16:22:25.000000000,2012-07-31 16:22:25.000000000,0,5,0,10449,097acddf82b937a042c2591da02da3b2092a1519,ru-instance-name-template-flag,11,8,2,2,2481,Rongze Zhu,zrzhit,"Remove unused instance_name_template flag

Only used in nova/db/sqlalchemy/models

Change-Id: I1029848bb639402cad30c01b51630c0ddd9dd7b8
"
openstack%2Fnova~master~I45e47e9edafb5bc05ab82c64f01303025c69e0b0,openstack/nova,master,I45e47e9edafb5bc05ab82c64f01303025c69e0b0,xenapi: Handle swap.vhd in older style images too,ABANDONED,2012-07-31 16:00:44.000000000,2012-07-31 16:19:16.000000000,,2,1,0,10608,2503176e9419b9af515c766cbc293e269a4b09bc,xenapi-swap,3,3,1,1,100,Johannes Erdfelt,johannes.erdfelt,"xenapi: Handle swap.vhd in older style images too

Ignore swap.vhd for the purposes of ensuring the base image chain is
sequenced correctly.

Change-Id: I45e47e9edafb5bc05ab82c64f01303025c69e0b0
"
openstack%2Fopenstack-manuals~master~I308a30a3b3f9a530a59a2efa905d27839e750d74,openstack/openstack-manuals,master,I308a30a3b3f9a530a59a2efa905d27839e750d74,clouddocs-maven-plugin version bump for two docs,MERGED,2012-07-29 03:58:00.000000000,2012-07-31 16:16:11.000000000,2012-07-31 16:16:11.000000000,2,2,0,10480,628e5bc87d923eeba01d71c1fb86639be55dbea2,bug/1021543,6,3,1,2,612,Tom Fifield,fifieldt,"clouddocs-maven-plugin version bump for two docs

Changes the version of the api-quick-start and api-programming docs'
clouddocs-maven-plugin to the latest stable version (1.3.1).

checked for build success on ubuntu 12.04

related to bug 1021543

Change-Id: I308a30a3b3f9a530a59a2efa905d27839e750d74
"
openstack%2Fnova~master~I6e82619105464c2fcaf388c8103713ca33faee26,openstack/nova,master,I6e82619105464c2fcaf388c8103713ca33faee26,Log exception raised during compute driver loading,ABANDONED,2012-07-31 14:09:19.000000000,2012-07-31 15:52:26.000000000,,4,0,0,10603,37e0c1d0c396c3f00d043b73a3bd3af95f02ba61,bug/1031351,6,5,1,1,5044,Mate Lakat,mate-lakat,"Log exception raised during compute driver loading

fixes bug #1031351

Change-Id: I6e82619105464c2fcaf388c8103713ca33faee26
"
openstack%2Fkeystone~master~I8990ef057488fe71d077a02b443da464f99fcd94,openstack/keystone,master,I8990ef057488fe71d077a02b443da464f99fcd94,Log errors when signing/verifying.,MERGED,2012-07-31 11:54:01.000000000,2012-07-31 15:51:19.000000000,2012-07-31 15:51:19.000000000,9,3,0,10599,2b2d0a15311fb1e9b6369374dfd5e0b49e4bf7a8,bug/1031317,7,4,1,1,360,Dan Prince,dan-prince,"Log errors when signing/verifying.

The patch updates the PKI cms_verify and cms_sign_text methods so
that they log full error messages to the log file when errors occur.
These error messages will now include useful output from the openssl
commands that failed (which should help end users better diagnose
configuration issues with PKI). For example:

 2012-07-31 11:10:53    ERROR [keystone.common.cms] Error opening signing
 key file /etc/keystone/ssl/private/signing_key.pem
 140380567730016:error:0200100D:system library:fopen:Permission
 denied:bss_file.c:398:fopen('/etc/keystone/ssl/private/signing_key.pem','r')
 140380567730016:error:20074002:BIO routines:FILE_CTRL:system
 lib:bss_file.c:400:
 unable to load signing key file

Previously you'd just get an error that looked like this:

 CalledProcessError: Command 'openssl' returned non-zero exit status 3

Fixes LP Bug #1031317.

Change-Id: I8990ef057488fe71d077a02b443da464f99fcd94
"
openstack%2Fcinder~master~Id7e3e79cd6e62fac4b10937b6f1b5f6bcb7908fe,openstack/cinder,master,Id7e3e79cd6e62fac4b10937b6f1b5f6bcb7908fe,Driver for IBM Storwize and SVC storage.,MERGED,2012-07-15 12:57:48.000000000,2012-07-31 15:09:44.000000000,2012-07-31 15:09:44.000000000,2162,1,10,9840,0d8e026dab830d0a1e836f7e3f1d84ea7ccfd6a4,storewize_svc_volume_driver,33,8,10,4,4355,Avishay Traeger,avishay-il,"Driver for IBM Storwize and SVC storage.

Volume driver for IBM Storwize and SVC storage systems, along with unit
tests and updated sample config file. The unit tests include a
Storwize/SVC management simulator to allow for testing without
controller hardware. Also added a new exception for volume drivers.

Change-Id: Id7e3e79cd6e62fac4b10937b6f1b5f6bcb7908fe
"
openstack%2Fglance~master~Iefb4e0fcc8aed95e7c0dd9e12d638837f83cb166,openstack/glance,master,Iefb4e0fcc8aed95e7c0dd9e12d638837f83cb166,Extended 'test_image_status' functional test,ABANDONED,2012-07-27 12:57:45.000000000,2012-07-31 15:03:19.000000000,,6,7,0,10403,25344ce9fdbd1a9411b9c488c38b5c2d1e8593d6,bp/api-2,12,4,1,1,455,Stuart McLaren,stuart-mclaren,"Extended 'test_image_status' functional test

Added check that an attempt to write an invalid image
status returns BadRequest.

Related to bp api-2.

Change-Id: Iefb4e0fcc8aed95e7c0dd9e12d638837f83cb166
"
openstack%2Fopenstack-manuals~master~I25d77d46be90d6979646af671a28958aa1baa5e6,openstack/openstack-manuals,master,I25d77d46be90d6979646af671a28958aa1baa5e6,Fix build problem - qemu.xml had some validation problems.,MERGED,2012-07-31 14:37:33.000000000,2012-07-31 14:47:07.000000000,2012-07-31 14:47:07.000000000,7,9,0,10605,3ee5bfd23a5637b5b420d11ce3222ee0a8311606,bug/1031327,4,3,1,3,964,Anne Gentle,annegentle,"Fix build problem - qemu.xml had some validation problems.

Fixes bug 1031327

Unfortunately the actual validation problem is often masked
by a ""fake"" validation problem with link linkend= internal
cross references. Had to remove two linkend internal cross
references to enable troubleshooting.

Change-Id: I25d77d46be90d6979646af671a28958aa1baa5e6
"
openstack%2Fheat~master~Icd0db5c0a9317d17ae4c2f161d50da8b5c50c40e,openstack/heat,master,Icd0db5c0a9317d17ae4c2f161d50da8b5c50c40e,Bump to v6,MERGED,2012-07-31 12:59:02.000000000,2012-07-31 12:59:02.000000000,2012-07-31 12:59:02.000000000,1,1,0,10600,e3e011b9cb1273f0d05f87c67b76a3b07dbc20e9,master,5,2,1,1,4330,Tomas Sedovic,tomas-8c8,"Bump to v6

Heat version 5 is released, let's start working on 6.

Change-Id: Icd0db5c0a9317d17ae4c2f161d50da8b5c50c40e
Signed-off-by: Tomas Sedovic <tomas@sedovic.cz>
"
openstack%2Fceilometer~master~I4a496c600b7e6a0a8c70113b1d099614febd899d,openstack/ceilometer,master,I4a496c600b7e6a0a8c70113b1d099614febd899d,Skeleton for API server,MERGED,2012-07-31 12:31:21.000000000,2012-07-31 12:31:21.000000000,2012-07-31 12:31:21.000000000,492,10,0,10408,2eebd4a8bd5c868df2e316b5bc72ebca45dddce4,feature/wsgi-with-flask,7,6,2,16,2472,Doug Hellmann,doug-hellmann,"Skeleton for API server

This changeset introduces a framework for the API service,
including the dependency list, a couple of simple API methods,
a test suite, and documentation for starting the development
server.

Change-Id: I4a496c600b7e6a0a8c70113b1d099614febd899d
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fceilometer~master~I00b3c1c8af7b154516fea4ddb3f588ce2df5e46c,openstack/ceilometer,master,I00b3c1c8af7b154516fea4ddb3f588ce2df5e46c,fix use of source value in mongdb driver,MERGED,2012-07-31 12:26:07.000000000,2012-07-31 12:26:07.000000000,2012-07-31 12:26:07.000000000,54,15,0,10399,ab1437fbbc9781bedf3dea53d39f0498990b267d,bug/mongodb-query-with-source,5,2,1,2,2472,Doug Hellmann,doug-hellmann,"fix use of source value in mongdb driver

Change-Id: I00b3c1c8af7b154516fea4ddb3f588ce2df5e46c
Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>
"
openstack%2Fkeystone~stable%2Fessex~I49fe56b6ef8d9f2fc6b9357472dae8964bb9cb9c,openstack/keystone,stable/essex,I49fe56b6ef8d9f2fc6b9357472dae8964bb9cb9c,Raise unauthorized if tenant disabled (bug 988920),MERGED,2012-07-30 14:50:16.000000000,2012-07-31 10:31:57.000000000,2012-07-31 10:31:57.000000000,58,0,0,10534,5373601bbdda10f879c08af1698852142b75f8d5,bug/988920,10,5,2,2,1955,Alan Pevec,apevec,"Raise unauthorized if tenant disabled (bug 988920)

If the client attempts to explicitly authenticate against a disabled
tenant, keystone should return HTTP 401 Unauthorized.

Change-Id: I49fe56b6ef8d9f2fc6b9357472dae8964bb9cb9c
"
openstack%2Fnova~master~I24b2f45dd5a38b27b8cc5a70e0084d367e218172,openstack/nova,master,I24b2f45dd5a38b27b8cc5a70e0084d367e218172,sync openstack-common log changes with nova,MERGED,2012-07-30 19:07:08.000000000,2012-07-31 06:27:05.000000000,2012-07-31 06:27:04.000000000,21,17,0,10559,367300c1566950c16157bc4ae2955e2ef3616fb5,bug/1030078,7,4,1,1,2750,Sean Dague,sdague,"sync openstack-common log changes with nova

don't throw exceptions if %(color)s tag is used

fixes bug #1030078

If the log format strings include the %(color)s key in them and you
enable file logging, your log files won't work, and instead you'll
see exceptions on the console as the default python log handler doesn't
support that keyword.

This approach stubs out the extra keywords to be empty strings to avoid
the KeyError. Tests are also added to demonstrate the KeyError as defined
behavior, and test that color codes can be passed.

Change-Id: I24b2f45dd5a38b27b8cc5a70e0084d367e218172
"
openstack%2Fnova~master~I075c21aa6508182ae6dd030cf41ec31916559957,openstack/nova,master,I075c21aa6508182ae6dd030cf41ec31916559957,reduce debugging from utils.trycmd(),MERGED,2012-07-30 12:49:52.000000000,2012-07-31 06:27:02.000000000,2012-07-31 06:27:01.000000000,0,2,0,10531,65b76aa3cd847fdf8f8a312188b8b2e00371fb3c,bug/1030609,9,5,1,1,1812,p-draigbrady,p-draigbrady,"reduce debugging from utils.trycmd()

In the case where the command fails, we're returning
the err anyway and the caller can log if required.

In the discard_warnings=True case, then the caller
has explicitly asked to suppress the warnings,
so don't log this noise either.

Fixes bug: 1030609
Change-Id: I075c21aa6508182ae6dd030cf41ec31916559957
"
openstack%2Fnova~master~Ia5602aaf5fc4d596f96659d0d7abd1e38e09c961,openstack/nova,master,Ia5602aaf5fc4d596f96659d0d7abd1e38e09c961,partly implement bp:network-adapter-hotplug.,ABANDONED,2012-07-23 15:56:45.000000000,2012-07-31 06:03:05.000000000,,360,0,0,10136,a2780e117eb718efa2c05c3e43a3feee3bb1fb31,bp/network-adapter-hotplug,5,3,1,8,1313,Yaguang Tang,heut2008,"partly implement bp:network-adapter-hotplug.

Change-Id: Ia5602aaf5fc4d596f96659d0d7abd1e38e09c961
"
openstack%2Fnova~master~Ie5ea872e25d8f26e68e95ee16c3d5ec8c39e5aac,openstack/nova,master,Ie5ea872e25d8f26e68e95ee16c3d5ec8c39e5aac,Fixed deallocate_fixed_ip call,ABANDONED,2012-07-14 20:23:18.000000000,2012-07-31 06:03:04.000000000,,1,1,0,9832,69f4a832e1510298b21e3b89dc320cdd62dc2536,bug/1024789,13,6,1,1,1004,Mohammed Naser,mnaser,"Fixed deallocate_fixed_ip call

The deallocate_fixed_ip does not require the host in the call
and it raises an exception when being used with it.

Fixes LP Bug #1024789

Change-Id: Ie5ea872e25d8f26e68e95ee16c3d5ec8c39e5aac
"
openstack%2Fnova~stable%2Fessex~Icab9551cdc9a463853dcfce1aca384e6fa814acd,openstack/nova,stable/essex,Icab9551cdc9a463853dcfce1aca384e6fa814acd,Quantum checks the first address as gateway.,ABANDONED,2012-06-26 16:51:56.000000000,2012-07-31 06:03:03.000000000,,4,3,1,9007,e4d0595cc8d963870f74e37b68ff71faeaf7c09a,bug/989920,12,6,3,2,1464,Roman Sokolkov,rsokolkov,"Quantum checks the first address as gateway.

Fixes bug 989920.

Changed gateway checking in favor first address from network
instead of using address ended with .1

Change-Id: Icab9551cdc9a463853dcfce1aca384e6fa814acd
"
openstack%2Fkeystone~master~I35e2b35de830d61a3fe9d512ec160c44ef09d98f,openstack/keystone,master,I35e2b35de830d61a3fe9d512ec160c44ef09d98f,Fixed bug with incorrect list of tenants,ABANDONED,2012-07-10 16:03:34.000000000,2012-07-31 06:03:02.000000000,,3,2,0,9593,ea3b6cad0793cdbe1b0418541e5e0b56b1d8fdfc,bug/1023009,15,6,1,1,1742,hovyakov,hovyakov,"Fixed bug with incorrect list of tenants

fix bug #1023009

Change-Id: I35e2b35de830d61a3fe9d512ec160c44ef09d98f
"
openstack%2Fswift~master~Ia32c9c34c00bfc24be74d87a92da63cddc174d0e,openstack/swift,master,Ia32c9c34c00bfc24be74d87a92da63cddc174d0e,blueprint localfs Local File System Class to Support Extended Capabilities,ABANDONED,2012-05-16 23:07:10.000000000,2012-07-31 06:03:01.000000000,,399,80,0,7524,16356e211806da02e8276b82bb670aa287c2f37e,bp/localfs,21,9,6,7,2401,Victor Rodionov,vito-ordaz,"blueprint localfs Local File System Class to Support Extended Capabilities

A new class is proposed that would allow a Data Server to define
optional enhanced capabilities that the Swift Object Server would
be able to use. The first example is to allow a platform to indicate
that its Local File System has been configured with self-healing
mirrored replication, allowing Swift to configure fewer network replicas.

* Add mirror_copies support to RingBuilder.
* swit.common.lfs will be separate project, but for now I add to review
  request.
* LFS middleware can be found here: https://github.com/Nexenta/lfs/

Change-Id: Ia32c9c34c00bfc24be74d87a92da63cddc174d0e
"
openstack%2Fnova~master~I3ec871deadd13a8117f16ad46c31b0a9c8a016db,openstack/nova,master,I3ec871deadd13a8117f16ad46c31b0a9c8a016db,Fix arg to get_instance_volume_block_device_info().,MERGED,2012-07-31 00:18:54.000000000,2012-07-31 05:46:32.000000000,2012-07-31 04:44:37.000000000,1,1,0,10576,e4dd27188e071778c0675b6e8e4d050fb13004f3,bp/no-db-messaging,10,5,1,1,1561,Russell Bryant,russellb,"Fix arg to get_instance_volume_block_device_info().

Michael Still caught this bug while reviewing an earlier patch in this
patch series.  This code was passing an instance ID to this function,
but it expects an instance UUID.

Not really related to, but tied up in the patch series
for blueprint no-db-messaging.

Change-Id: I3ec871deadd13a8117f16ad46c31b0a9c8a016db
"
openstack%2Fnova~master~I401beb932e329683c3434ecd643db345aa217492,openstack/nova,master,I401beb932e329683c3434ecd643db345aa217492,Send a full instance in snapshot_instance.,MERGED,2012-07-30 20:58:34.000000000,2012-07-31 05:46:32.000000000,2012-07-31 04:11:57.000000000,30,22,0,10570,773d1d61a72700ad5170c259d599891f1dd0a609,bp/no-db-messaging,20,6,4,4,1561,Russell Bryant,russellb,"Send a full instance in snapshot_instance.

Change the snapshot_instance method of the compute
rpc API to take a full instance over rpc instead of just
the instance UUID.  This cuts down on database access needed
by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: I401beb932e329683c3434ecd643db345aa217492
"
openstack%2Fnova~master~Iddcc7cb068090faa98f0bb87307e09d5b0ebf0c2,openstack/nova,master,Iddcc7cb068090faa98f0bb87307e09d5b0ebf0c2,Send a full instance in set_admin_password.,MERGED,2012-07-30 20:58:34.000000000,2012-07-31 05:46:32.000000000,2012-07-31 04:07:51.000000000,31,23,0,10569,99f6c32bf8a5204da0e07137486c61cdba5318a3,bp/no-db-messaging,19,6,4,4,1561,Russell Bryant,russellb,"Send a full instance in set_admin_password.

Change the set_admin_password method of the compute
rpc API to take a full instance over rpc instead of just
the instance UUID.  This cuts down on database access needed
by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: Iddcc7cb068090faa98f0bb87307e09d5b0ebf0c2
"
openstack%2Fnova~master~Id581d23d36fee5c6fc06d2a655e999fb9aae5ae3,openstack/nova,master,Id581d23d36fee5c6fc06d2a655e999fb9aae5ae3,Send a full instance in rollback_live_migration_at_destination.,MERGED,2012-07-30 20:58:33.000000000,2012-07-31 05:46:32.000000000,2012-07-31 05:46:31.000000000,24,17,2,10568,36dc58791482d44d63d63e9780451f9499619f05,bp/no-db-messaging,19,6,4,4,1561,Russell Bryant,russellb,"Send a full instance in rollback_live_migration_at_destination.

Change the rollback_live_migration_at_destination method of the compute
rpc API to take a full instance over rpc instead of just
the instance ID.  This cuts down on database access needed
by nova-compute.

This was the last method of this API that was taking an instance ID
as an argument.  There still some left that take the instance UUID,
but I can see the light at the end of the tunnel.

Part of blueprint no-db-messaging.

Change-Id: Id581d23d36fee5c6fc06d2a655e999fb9aae5ae3
"
openstack%2Fnova~master~I303bba009fa37c72394369c8338e6e759f794cd0,openstack/nova,master,I303bba009fa37c72394369c8338e6e759f794cd0,Convert virtual_interfaces to using instance_uuid.,MERGED,2012-07-28 06:55:31.000000000,2012-07-31 05:35:28.000000000,2012-07-31 05:35:27.000000000,391,152,3,10448,0d9d2487e2ca921ab54b1ecbe359c32ce8fb0c48,bp/finish-uuid-conversion,25,7,5,16,2271,Michael Still,mikalstill,"Convert virtual_interfaces to using instance_uuid.

This review converts virtual_interfaces from tracking their
instances with instance_id to using instance_uuid.

This should be the last review for blueprint finish-uuid-conversion.

Change-Id: I303bba009fa37c72394369c8338e6e759f794cd0
"
openstack%2Fnova~master~I5529232bf4a316f844d383d5f5a3c0c287d59c1f,openstack/nova,master,I5529232bf4a316f844d383d5f5a3c0c287d59c1f,Turn on base image cleanup by default.,MERGED,2012-07-26 11:13:49.000000000,2012-07-31 05:33:13.000000000,2012-07-31 05:33:12.000000000,2,2,0,10336,a8e83e130d999fecc217cc8581558193da780bc7,bug/1029674,26,10,3,2,2271,Michael Still,mikalstill,"Turn on base image cleanup by default.

Essex shipped with the libvirt image cache manager hobbled so it
wouldn't delete unused base images. Its been a while and we haven't
had a new bug reported in ages. Let's turn it on for Folsom. This
is tracked by bug 1029674.

Change-Id: I5529232bf4a316f844d383d5f5a3c0c287d59c1f
"
openstack%2Fnova~master~Ia5191aa14ad7cc62630bd6b0df8aaccb87e51e03,openstack/nova,master,Ia5191aa14ad7cc62630bd6b0df8aaccb87e51e03,Compute: VM-Mode should use instance dict.,MERGED,2012-07-30 20:06:22.000000000,2012-07-31 05:15:53.000000000,2012-07-31 05:15:52.000000000,6,11,1,10564,c46394ac7b953950a3eda3975308031b67cb7312,fix_vm_mode,13,5,3,2,475,Rick Harris,rconradharris,"Compute: VM-Mode should use instance dict.

Instance dicts no longer support attribute-style access.

Change-Id: Ia5191aa14ad7cc62630bd6b0df8aaccb87e51e03
"
openstack%2Fglance~master~I7fbd66b5abf8d27c26bdc5e7d6adc98b5722b647,openstack/glance,master,I7fbd66b5abf8d27c26bdc5e7d6adc98b5722b647,Adds set_acls function for swift store.,MERGED,2012-07-09 21:28:06.000000000,2012-07-31 04:44:38.000000000,2012-07-31 04:44:38.000000000,110,0,3,9555,1f68b21de8b8a3366eb08fe1fa74ae7db2ac72b4,bp/swift-tenant-specific-storage,21,6,5,3,360,Dan Prince,dan-prince,"Adds set_acls function for swift store.

Updates the swift store with working implementation of set_acls.

Updates the base store with an example set_acls function.

This function may be implemented by stores which support backend ACLs
to allow Glance to set read and write ACL's on the store images.

Added tests for swift store function.

Partially implements blueprint: swift-tenant-specific-storage.

Change-Id: I7fbd66b5abf8d27c26bdc5e7d6adc98b5722b647
"
openstack%2Fnova~master~I57789eab047de7ff9b84e2bb5367139a9a7b8e40,openstack/nova,master,I57789eab047de7ff9b84e2bb5367139a9a7b8e40,Send a full instance in resume_instance.,MERGED,2012-07-30 20:58:31.000000000,2012-07-31 04:44:35.000000000,2012-07-31 04:21:22.000000000,20,17,0,10566,564def16ba2b684c0fbdaef1861b5fddd9ed4b5c,bp/no-db-messaging,21,6,4,4,1561,Russell Bryant,russellb,"Send a full instance in resume_instance.

Change the resume_instance method of the compute
rpc API to take a full instance over rpc instead of just
the instance UUID.  This cuts down on database access needed
by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: I57789eab047de7ff9b84e2bb5367139a9a7b8e40
"
openstack%2Fnova~master~I5ed8707b2d018559ab4e983f8528dac8377783c7,openstack/nova,master,I5ed8707b2d018559ab4e983f8528dac8377783c7,Send a full instance in resize_instance.,MERGED,2012-07-27 20:20:56.000000000,2012-07-31 04:44:35.000000000,2012-07-31 04:20:23.000000000,35,30,0,10434,9302771de4324ac86aad4a8ec0dfe13d4ec3a0cc,bp/no-db-messaging,35,6,7,4,1561,Russell Bryant,russellb,"Send a full instance in resize_instance.

Change the resize_instance method of the compute
rpc API to take a full instance over rpc instead of just
the instance UUID.  This cuts down on database access needed
by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: I5ed8707b2d018559ab4e983f8528dac8377783c7
"
openstack%2Fnova~master~I55bdc63149c0385fbf151f4f86f40e6c7635cf63,openstack/nova,master,I55bdc63149c0385fbf151f4f86f40e6c7635cf63,Send a full instance in revert_resize.,MERGED,2012-07-30 20:58:32.000000000,2012-07-31 04:44:34.000000000,2012-07-31 04:44:32.000000000,25,18,0,10567,3359e31b204c9a3ac0f4d8bc400a3d7c4c3c081f,bp/no-db-messaging,17,6,4,4,1561,Russell Bryant,russellb,"Send a full instance in revert_resize.

Change the revert_resize method of the compute
rpc API to take a full instance over rpc instead of just
the instance UUID.  This cuts down on database access needed
by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: I55bdc63149c0385fbf151f4f86f40e6c7635cf63
"
openstack%2Fnova~master~Iaae16e63da9d48d86e3bfc80f6c0cdb9f9bd3ddd,openstack/nova,master,Iaae16e63da9d48d86e3bfc80f6c0cdb9f9bd3ddd,Send a full instance in reset_network.,MERGED,2012-07-27 20:20:55.000000000,2012-07-31 04:44:34.000000000,2012-07-31 04:44:33.000000000,25,15,0,10433,4b3ca6fbf3e89adfd92bdfcd02768f50152e68cf,bp/no-db-messaging,28,6,7,4,1561,Russell Bryant,russellb,"Send a full instance in reset_network.

Change the reset_network method of the compute
rpc API to take a full instance over rpc instead of just
the instance UUID.  This cuts down on database access needed
by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: Iaae16e63da9d48d86e3bfc80f6c0cdb9f9bd3ddd
"
openstack%2Fswift~milestone-proposed~Idf19277959c516398d31f771cf42dec0733d1bc0,openstack/swift,milestone-proposed,Idf19277959c516398d31f771cf42dec0733d1bc0,Cleaner fix to format regression fix,MERGED,2012-07-31 04:27:37.000000000,2012-07-31 04:34:38.000000000,2012-07-31 04:34:38.000000000,9,6,0,10589,b6472740888521dacc788357fa15549fb179cfd4,milestone-proposed,5,2,1,3,1216,gholt,gholt,"Cleaner fix to format regression fix

This ensures req.accepts is only assigned a valid content type.

Change-Id: Idf19277959c516398d31f771cf42dec0733d1bc0
"
openstack%2Fswift~master~Idf19277959c516398d31f771cf42dec0733d1bc0,openstack/swift,master,Idf19277959c516398d31f771cf42dec0733d1bc0,Cleaner fix to format regression fix,MERGED,2012-07-31 04:22:54.000000000,2012-07-31 04:34:22.000000000,2012-07-31 04:34:22.000000000,9,6,0,10588,0d38c710a57228f6c8dadb994ae2ce79d6a7058e,cleanerfix,6,3,1,3,1216,gholt,gholt,"Cleaner fix to format regression fix

This ensures req.accepts is only assigned a valid content type.

Change-Id: Idf19277959c516398d31f771cf42dec0733d1bc0
"
openstack%2Fkeystone~master~I2d2566c615919f4968fd5636744fdb613b8fa3ad,openstack/keystone,master,I2d2566c615919f4968fd5636744fdb613b8fa3ad,Assert adminness on token validation (bug 1030968),MERGED,2012-07-30 16:24:19.000000000,2012-07-31 04:07:52.000000000,2012-07-31 04:07:52.000000000,41,48,4,10545,ba8f351c6b72c2c49b070bf5e5551ff26fd3402b,bug/1030968,17,5,6,2,4,Dolph Mathews,dolph,"Assert adminness on token validation (bug 1030968)

- Only affects non-PKI tokens

- Includes style changes following bug 1003962
  - Fixed redundant imports & import order
  - Fixed single quote consistency
  - Fixed line continuations
  - Refactored a bit for readability

Change-Id: I2d2566c615919f4968fd5636744fdb613b8fa3ad
"
openstack%2Fnova~master~I1bd47b161acd7b6dfb03adb77d00a861f754e188,openstack/nova,master,I1bd47b161acd7b6dfb03adb77d00a861f754e188,Send a full instance in remove_volume_connection.,MERGED,2012-07-27 20:20:54.000000000,2012-07-31 04:01:57.000000000,2012-07-31 04:01:56.000000000,22,14,0,10431,73af6fa9722b720923002f62e115d84b74c9fe33,bp/no-db-messaging,33,5,6,4,1561,Russell Bryant,russellb,"Send a full instance in remove_volume_connection.

Change the remove_volume_connection method of the compute
rpc API to take a full instance over rpc instead of just
the instance ID.  This cuts down on database access needed
by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: I1bd47b161acd7b6dfb03adb77d00a861f754e188
"
openstack%2Fswift~master~I6db015b33a6f3ab239b8cb4a3562ebdba1f76590,openstack/swift,master,I6db015b33a6f3ab239b8cb4a3562ebdba1f76590,Fixes regression with format=somethingelse,MERGED,2012-07-31 02:32:11.000000000,2012-07-31 03:45:02.000000000,2012-07-31 03:32:11.000000000,17,14,0,10582,de9b81baee2b9cbd87c28812ae85bc5020b06774,nostrict,7,2,1,4,1216,gholt,gholt,"Fixes regression with format=somethingelse

The WebOb 1.2 support patch introduced a regression where an unknown
format= query used to just default back to plain but now returns a
400. This will break anyone that uses format=text for instance, or
anything else ""invalid"".

Arguably, it makes the most sense to 400 in the case of an invalid
format requested, but since it is also a backwards compatibility
break, I recommend we keep the previous behavior. Retaining the
previous behavior seems less damaging than enforcing the new
behavior.

Change-Id: I6db015b33a6f3ab239b8cb4a3562ebdba1f76590
"
openstack%2Fnova~master~Ifc7a1960aa67325e9219309e06de292010d7ec46,openstack/nova,master,Ifc7a1960aa67325e9219309e06de292010d7ec46,Fix rootwrapper with tgt-admin,MERGED,2012-07-30 16:46:16.000000000,2012-07-31 03:40:58.000000000,2012-07-31 03:40:57.000000000,4,4,0,10549,e24e3510d442e4616ef570dc108b6d537777a8d8,master,7,4,1,2,24,Chuck Short,zulcss,"Fix rootwrapper with tgt-admin

Dont use the full path when calling tgt-admin.

LP: #1030850

Change-Id: Ifc7a1960aa67325e9219309e06de292010d7ec46
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fpython-glanceclient~master~Id9a655a0207d3b16a619972ebaecc87387cf784e,openstack/python-glanceclient,master,Id9a655a0207d3b16a619972ebaecc87387cf784e,Fix coverage reporting test.,MERGED,2012-07-27 21:45:44.000000000,2012-07-31 03:39:33.000000000,2012-07-31 03:39:33.000000000,1,1,0,10438,d004b1a73a395379846464950153f7cc04cdc918,fix_coverage,6,2,1,1,4146,Clark Boylan,cboylan,"Fix coverage reporting test.

A change was committed that modified the
glanceclient.common.__init__.py file that seems to conflict with the
NOSE_WITH_COVERAGE environment variable. Run the coverage tests like
novaclient and swiftclient to get around this problem.

Change-Id: Id9a655a0207d3b16a619972ebaecc87387cf784e
"
openstack%2Fpython-glanceclient~master~Ice89bcd0662038260bc4bd12058972bb35e61e3b,openstack/python-glanceclient,master,Ice89bcd0662038260bc4bd12058972bb35e61e3b,Honor '--insecure' commandline flag also for keystone authentication,MERGED,2012-07-26 13:58:19.000000000,2012-07-31 03:38:44.000000000,2012-07-31 03:38:44.000000000,4,2,0,10341,bb282936a01221821988d51a3896907f8c3404ff,honor-insecure-flag-keystone,9,4,1,1,4375,Sascha Peilicke,saschpe,"Honor '--insecure' commandline flag also for keystone authentication

Currently, keystone auth fails with self-signed certificates.

Change-Id: Ice89bcd0662038260bc4bd12058972bb35e61e3b
"
openstack%2Fswift~milestone-proposed~I6db015b33a6f3ab239b8cb4a3562ebdba1f76590,openstack/swift,milestone-proposed,I6db015b33a6f3ab239b8cb4a3562ebdba1f76590,Fixes regression with format=somethingelse,MERGED,2012-07-31 02:36:31.000000000,2012-07-31 03:32:09.000000000,2012-07-31 03:32:09.000000000,17,14,0,10583,8e9d867597633cc1fcf399b27efceb93b2b64df7,milestone-proposed,6,2,1,4,1216,gholt,gholt,"Fixes regression with format=somethingelse

The WebOb 1.2 support patch introduced a regression where an unknown
format= query used to just default back to plain but now returns a
400. This will break anyone that uses format=text for instance, or
anything else ""invalid"".

Arguably, it makes the most sense to 400 in the case of an invalid
format requested, but since it is also a backwards compatibility
break, I recommend we keep the previous behavior. Retaining the
previous behavior seems less damaging than enforcing the new
behavior.

Change-Id: I6db015b33a6f3ab239b8cb4a3562ebdba1f76590
"
openstack%2Fkeystone~master~I53bceed27f60721b8f61ffec2d1e91ec2ea464ed,openstack/keystone,master,I53bceed27f60721b8f61ffec2d1e91ec2ea464ed,Set default signing_dir based on os USER.,MERGED,2012-07-30 19:17:05.000000000,2012-07-31 01:12:17.000000000,2012-07-30 20:39:33.000000000,2,1,1,10560,4444577e23cf3365479793d90e3ae337e4638b6a,bug/1031022,8,4,1,1,360,Dan Prince,dan-prince,"Set default signing_dir based on os USER.

Updates the Keystone auth_token middleware so that it sets the
default signing_dir name base on the OS username obtained
from the environment. This should help resolve potential permissions
issues which can occur when multiple OpenStack services attempt
to use the same signing directory name.

Fixes LP Bug #1031022.

Change-Id: I53bceed27f60721b8f61ffec2d1e91ec2ea464ed
"
openstack%2Fkeystone~master~I805908fca2b1edcfb7c421aef072c7ae22af250e,openstack/keystone,master,I805908fca2b1edcfb7c421aef072c7ae22af250e,Assert Adminness when validating non-PKI tokens,ABANDONED,2012-07-30 17:18:00.000000000,2012-07-31 00:49:46.000000000,,1,1,0,10551,6c8567353c971e405b5420727439bde2a5e6bc05,bug/1030968,7,6,1,1,2218,Adam Young,ayoung,"Assert Adminness when validating non-PKI tokens

This check was accidentally moved into an if block and should be executed regardless

Bug 1030968

Change-Id: I805908fca2b1edcfb7c421aef072c7ae22af250e
"
openstack%2Fnova~master~I936bc147fb823eca67e40084cba5c3bc1a7fe73a,openstack/nova,master,I936bc147fb823eca67e40084cba5c3bc1a7fe73a,Fix image_type=base after snapshot,MERGED,2012-07-30 21:11:15.000000000,2012-07-31 00:11:42.000000000,2012-07-31 00:11:41.000000000,7,1,0,10571,aab2f2e6733e1087a30782c43cf688e427a28f35,bug/1031079,7,4,1,1,679,Kevin L. Mitchell,klmitch,"Fix image_type=base after snapshot

When an instance is snapshotted, the resultant image should have the
image_type property set to ""snapshot"".  However, if the base image
already had image_type set to ""base"", the image_type on the snapshot
will also be set to ""base"".  This turns out to be because we set
image properties in two different places.  The first is when the
image record is created in glance, which occurs in
nova.compute.api:API._create_image(); this is when image_type is set
to ""snapshot"".  However, in nova.virt.xenapi.vm_utils:upload_image(),
all the properties from the base image are copied over, so all the
properties set by _create_image() could be overwritten.

The quick solution was to extend the non_inheritable_image_properties
configuration setting to also cover the image properties set by
_create_image().  Long-term, these two metadata-setting processes
need to be more closely unified.  (It should be noted that the
upload_image() function contains a TODO stating that the code should
move into the compute manager, so it can be shared across
hypervisors)

Fixes bug 1031079.

Change-Id: I936bc147fb823eca67e40084cba5c3bc1a7fe73a
"
openstack%2Fnova~stable%2Fessex~Ib5ede9f705c833825a19308c140f99c5bf3a776f,openstack/nova,stable/essex,Ib5ede9f705c833825a19308c140f99c5bf3a776f,ensure libguestfs mounts are cleaned up,MERGED,2012-07-30 01:23:46.000000000,2012-07-31 00:11:39.000000000,2012-07-31 00:11:37.000000000,13,3,0,10510,3b4ac312b4ba7658f6ad4d2da674092c20e05aeb,bug/1013689,6,3,1,1,1812,p-draigbrady,p-draigbrady,"ensure libguestfs mounts are cleaned up

Make a few attempts to umount the libguestfs
mounts, in case other processes are accessing
the mounts (like udev etc.)

If we still can't umount after 5 attempts
(with average delay of about 1s between each),
then initiate a lazy umount so that the mounts
might be automatically cleaned up at some stage.
We wait a further 10s after initiating the lazy
umount, before raising an exception.

Addresses the original issue in bug 1013689

Change-Id: Ib5ede9f705c833825a19308c140f99c5bf3a776f
(cherry picked from commit 5eea8879b6f3268dcaba326193bef0ed75470bb7)
"
openstack%2Fnova~stable%2Fessex~Ifde193e084ecdbc37a57150f28d833ae276f49c6,openstack/nova,stable/essex,Ifde193e084ecdbc37a57150f28d833ae276f49c6,Fix EC2 CreateImage no_reboot logic,ABANDONED,2012-07-24 16:24:23.000000000,2012-07-30 22:03:28.000000000,,26,3,0,10230,d699c2b1829a3e800f089af8ec99b23ca386d655,,6,3,3,2,2284,Eoghan Glynn,eglynn,"Fix EC2 CreateImage no_reboot logic

Previously the call to restart the imaged instance was incorrect.

This is now fixed and unit tested.

Change-Id: Ifde193e084ecdbc37a57150f28d833ae276f49c6
"
openstack%2Fnova~stable%2Fessex~I266a021ce53dbb1f521201f1cdc614b08c31bf8d,openstack/nova,stable/essex,I266a021ce53dbb1f521201f1cdc614b08c31bf8d,Reject EC2 CreateImage for instance-store,ABANDONED,2012-07-24 16:07:44.000000000,2012-07-30 22:03:14.000000000,,95,28,0,10228,bafd5ad7736f0afef0f3e7eb8872d886952c064c,,4,3,2,3,2284,Eoghan Glynn,eglynn,"Reject EC2 CreateImage for instance-store

For fidelity with AWS, we explicitly do not support the EC2 CreateImage
API for the analogue of instance-store-backed instances.

Change-Id: I266a021ce53dbb1f521201f1cdc614b08c31bf8d
"
openstack%2Fnova~stable%2Fessex~I1d3bda780deee52f5d41e3af041aba7e6305dfde,openstack/nova,stable/essex,I1d3bda780deee52f5d41e3af041aba7e6305dfde,EC2 DescribeImages reports correct rootDeviceType,ABANDONED,2012-07-24 15:51:31.000000000,2012-07-30 22:02:59.000000000,,6,2,0,10226,87e1f1c4629c450fe7fa2b825e113e8ff8685917,,5,3,2,3,2284,Eoghan Glynn,eglynn,"EC2 DescribeImages reports correct rootDeviceType

Fixes LP 1024354

A root device type of instance-store was incorrectly reported for
boot-from-volume images (i.e. the analogue of EBS-backed AMIs).

When comparing the block device mapping device name with the root
device name, we now tolerate a missing leading '/dev/' path.

Change-Id: I1d3bda780deee52f5d41e3af041aba7e6305dfde
"
openstack%2Fnova~stable%2Fessex~I0b3d18d7922f2ad1bc687fa88e2f5d4cf5aa068b,openstack/nova,stable/essex,I0b3d18d7922f2ad1bc687fa88e2f5d4cf5aa068b,Support EC2 CreateImage API for boot-from-volume,ABANDONED,2012-07-24 15:34:32.000000000,2012-07-30 22:02:47.000000000,,87,16,0,10225,9c3cef025eed308beb5de42fc09cd67c37f8c927,,5,3,2,2,2284,Eoghan Glynn,eglynn,"Support EC2 CreateImage API for boot-from-volume

Fixes bug lp 988335

For fidelity with AWS, where the EC2 CreateImage API is only
supported for EBS-backed instances, we now support this API
for booted-from-volume nova servers.

We create a ""place-holder"" image in glance with the image data
being effectively empty, and the following properties set:

  * the imaged instance's kernel and ramdisk IDs
  * block device mapping containing the appropriate snapshot ID(s)

so that we can boot from this image without providing additional
context (such as via the nova boot --block-device-mapping option)

Change-Id: I0b3d18d7922f2ad1bc687fa88e2f5d4cf5aa068b
"
openstack%2Fnova~stable%2Fessex~If7afa4fb030b3c53a0b80737ff792e42cc4d3101,openstack/nova,stable/essex,If7afa4fb030b3c53a0b80737ff792e42cc4d3101,Tolerance when parsing null connection info in BDM,ABANDONED,2012-07-24 15:34:30.000000000,2012-07-30 22:02:33.000000000,,9,4,0,10224,03bbf10e70e165a2aebf26d561230af9636a3166,,9,5,2,1,2284,Eoghan Glynn,eglynn,"Tolerance when parsing null connection info in BDM

Resolves bug 1007615.

Defensive coding against attempt to decode None as a JSON-encoding
of connection info in an instance block device mapping.

(cherry picked from commit 7d57cc16a6ab3b286e4fd3a479e5b40160980304)

Change-Id: If7afa4fb030b3c53a0b80737ff792e42cc4d3101
"
openstack%2Fnova~master~Iee0daf068be9814ef0ba06a69111a45a2e198cbb,openstack/nova,master,Iee0daf068be9814ef0ba06a69111a45a2e198cbb,Send a full instance in remove_fixed_ip_from_instance.,MERGED,2012-07-27 20:20:54.000000000,2012-07-30 21:59:57.000000000,2012-07-30 21:59:56.000000000,22,16,0,10430,96134f9e34faf7e4be1776b24c8d8d661a23342a,bp/no-db-messaging,16,5,4,4,1561,Russell Bryant,russellb,"Send a full instance in remove_fixed_ip_from_instance.

Change the remove_fixed_ip_from_instance method of the compute
rpc API to take a full instance over rpc instead of just
the instance UUID.  This cuts down on database access needed
by nova-compute.

Part of blueprint no-db-messaging.

Change-Id: Iee0daf068be9814ef0ba06a69111a45a2e198cbb
"
openstack%2Fnova~stable%2Fessex~Iaba1af5c9a17fbbb82e42522b1060773de61550a,openstack/nova,stable/essex,Iaba1af5c9a17fbbb82e42522b1060773de61550a,Moving where the fixed ip deallocation happens.,MERGED,2012-07-29 20:38:05.000000000,2012-07-30 21:59:53.000000000,2012-07-30 21:59:52.000000000,34,3,0,10499,413c6413df10b854f8adfd2cbfcfe89fd12288ac,bug/1021352,8,4,2,3,67,Vish Ishaya,vishvananda,"Moving where the fixed ip deallocation happens.

Fixes bug 1021352.

In network/manager/deallocate_fixed_ip the call
to mark the IP as no longer allocated occurs before
the call to update security group rules. This means
that if an error occurs in the security group
processing, or if for some reason it is very slow
there is a risk that that the address is reused by
another tenant before the rules relating to this address
have been fully revoked.

Moving the db call to after the call to trigger the
security group refresh would avoid the issue when an
error occurs (the fixed_ip should not be released in
this case).

Change-Id: Iaba1af5c9a17fbbb82e42522b1060773de61550a
(cherry picked from commit 44132acbe91092de1188a3015a2c7155b5ec774c)
"
openstack%2Fnova~master~I21647a5a5cbf71a2c498f6fee2e4adbe30b8f2ea,openstack/nova,master,I21647a5a5cbf71a2c498f6fee2e4adbe30b8f2ea,Send a full instance in rebuild_instance.,MERGED,2012-07-27 20:20:53.000000000,2012-07-30 21:53:17.000000000,2012-07-30 21:53:15.000000000,43,35,0,10429,0e16133db77b434f8dc5b298ef8166aa05013630,bp/no-db-messaging,20,5,4,6,1561,Russell Bryant,russellb,"Send a full instance in rebuild_instance.

Change the rebuild_instance method of the compute
rpc API to take a full instance over rpc instead of just
the instance UUID.  This cuts down on database access needed
by nova-compute.

This patch also includes fixes for a couple of places that were getting
the instance name using the old instance.name syntax.  It must be
instance['name'].  These no-db-messaging patches are making it so more
code paths have an instance as a dict (received over rpc) instead of
the SQLAlchemy model (looked up from the db on the compute node).

Part of blueprint no-db-messaging.

Change-Id: I21647a5a5cbf71a2c498f6fee2e4adbe30b8f2ea
"
openstack%2Fnova~stable%2Fessex~I5cdcc628293d3e7cf165c5ffe4883f138783f73f,openstack/nova,stable/essex,I5cdcc628293d3e7cf165c5ffe4883f138783f73f,Convert remaining network API casts to calls,MERGED,2012-07-26 22:59:43.000000000,2012-07-30 21:53:12.000000000,2012-07-30 21:53:11.000000000,6,5,0,10387,219c5ca3bed950b7f36e57e942c91d177ec788d5,bug/1021340,17,5,2,2,67,Vish Ishaya,vishvananda,"Convert remaining network API casts to calls

Fix for Bug 1021340

During compute/terminate_instance networking is de-allocated by a call to
network/api/deallocate_for_instance(), which is implemented as an rpc.cast to
the network manager. This in turn will eventually call
network/manager/deallocate_fixed_ip(), which in turn call the compute API to
trigger a security group refresh, which will get the instance from the database

However because original call to the network manager is a cast there is a chance
that the compute manager will delete the instance record in the DB before the
compute API (in the network manager) tries to retrieve the instance. At this
point the security group refresh fails (leaving rules in place which are a
security risk when the IP is reused), and potentially stopping otheraspects
of the network deallocation from completing.

Changing this from rpc.call to rpc.cast will fix this issue.

Aside from this specific use of a cast there are 4 other casts in the
network API:
  add_fixed_ip_to_instance
  remove_fixed_ip_from_instance
  add_network_to_project
  release_floating_ip

and to avoid other timing issues these will also be converted to calls.

Change-Id: I5cdcc628293d3e7cf165c5ffe4883f138783f73f
(cherry picked from commit 34f9d7e974d0e09c723e0a04ed6eecd1b482e77d)
"
openstack%2Fnova~stable%2Fessex~I2101ddaa78ede90f39b55d28aab73e7f5a816af5,openstack/nova,stable/essex,I2101ddaa78ede90f39b55d28aab73e7f5a816af5,use boto's HTTPResponse class for versions of boto >=2.5.2,MERGED,2012-07-24 09:34:16.000000000,2012-07-30 21:21:50.000000000,2012-07-30 21:21:49.000000000,8,3,0,10209,7e88e395b44606ff14beb6461f417ac43acf82c8,bug/1027984,12,5,2,2,2340,Ionut Artarisi,mapleoin,"use boto's HTTPResponse class for versions of boto >=2.5.2

Fixes bug: 1027984

Change-Id: I2101ddaa78ede90f39b55d28aab73e7f5a816af5
"
openstack%2Fnova~stable%2Fessex~I51cbb56acbb244ddddd951a26d3168cf5a9c0314,openstack/nova,stable/essex,I51cbb56acbb244ddddd951a26d3168cf5a9c0314,Adding networking rules to vm's on compute service startup,MERGED,2012-07-23 19:00:09.000000000,2012-07-30 21:21:45.000000000,2012-07-30 21:21:45.000000000,8,1,0,10155,801b94a1eba7456437175cac92fb74c21daa88b2,bug/1027105,7,4,1,1,1926,Derek Higgins,derekh,"Adding networking rules to vm's on compute service startup

Fixes bug 1027105

Restarting nova-compute resulted in a new empty iptables chain
""nova-compute-FORWARD"" being create. This commit adds a single
call to plug_vifs which ensures the appropriate filters (and
bridge) are present on service startup.

Change-Id: I51cbb56acbb244ddddd951a26d3168cf5a9c0314
(cherry picked from commit c2e957ceb555b88084033d9a1c15a4f338b1476e)
"
openstack%2Fnova~master~I301b46bbb7684d70946a426ce371eaf1198b97df,openstack/nova,master,I301b46bbb7684d70946a426ce371eaf1198b97df,Reverts fix lp1031004,MERGED,2012-07-30 19:59:22.000000000,2012-07-30 21:09:45.000000000,2012-07-30 21:09:44.000000000,5,13,0,10563,a84c35d0830f68553cf9c814f7ae2eccf04b84e8,,7,3,1,2,642,Matt Dietz,cerberus,"Reverts fix lp1031004

The fix was incorrectly applied to the resize.end event. There was a
miscommunication about the resize.end versus resize.finish event

Change-Id: I301b46bbb7684d70946a426ce371eaf1198b97df
"
openstack%2Fcinder~master~I8d300a6c23c2e4e92187e26260ce49da35590545,openstack/cinder,master,I8d300a6c23c2e4e92187e26260ce49da35590545,Allow XML payload for volume creation.,MERGED,2012-07-30 15:20:50.000000000,2012-07-30 20:02:06.000000000,2012-07-30 20:02:06.000000000,19,3,0,10538,62af23cff67791781e5851ad83334857752eae36,,8,3,1,2,2284,Eoghan Glynn,eglynn,"Allow XML payload for volume creation.

Fixes cinder aspect of LP 1030330

Tolerate volume size attribute of type string as opposed to int.

Change-Id: I8d300a6c23c2e4e92187e26260ce49da35590545
"
openstack%2Fneutron~master~If26d75b67c4816de0937f9edaa9f55a5bb2197a2,openstack/neutron,master,If26d75b67c4816de0937f9edaa9f55a5bb2197a2,Add classmethod decorator to class methods of providervlan ext.,MERGED,2012-07-30 19:38:07.000000000,2012-07-30 19:38:07.000000000,2012-07-30 19:38:07.000000000,5,0,0,10485,20560ecf9557f24b89abe669efb9cea0a876ca13,fix_providervlanext,6,3,1,1,2874,yong sheng gong,gongysh,"Add classmethod decorator to class methods of providervlan ext.

Change-Id: If26d75b67c4816de0937f9edaa9f55a5bb2197a2
"
openstack%2Fnova~master~I5886154ddd7a9768dc5d82dc4e43e9e0f681ee04,openstack/nova,master,I5886154ddd7a9768dc5d82dc4e43e9e0f681ee04,Resize.end now includes the correct instance_type,MERGED,2012-07-30 18:50:46.000000000,2012-07-30 19:26:55.000000000,2012-07-30 19:23:23.000000000,13,5,2,10556,3ffc109e380e4a7b0d899f3881ced845abd5d58c,,9,5,1,2,642,Matt Dietz,cerberus,"Resize.end now includes the correct instance_type

Fixes bug 1031004. Moves the notification to the destination compute node
so that the correct instance_type attributes are assigned.

Change-Id: I5886154ddd7a9768dc5d82dc4e43e9e0f681ee04
"
openstack%2Fglance~master~Iae9ed9ca798186a0663bdee1988f3acee6906db5,openstack/glance,master,Iae9ed9ca798186a0663bdee1988f3acee6906db5,Ensure Content-Type is JSON-like where necessary,MERGED,2012-07-30 05:39:34.000000000,2012-07-30 19:06:16.000000000,2012-07-30 19:06:16.000000000,15,1,0,10519,5112f58f7fd14c97cc4144faf66e2be0a4d386e6,bug/1030730,7,4,1,4,1132,Brian Waldon,bcwaldon,"Ensure Content-Type is JSON-like where necessary

Several API calls were returning text/html as the content-type, when
the body was actually encoded as JSON. This ensures the places where
that was happening set content-type to 'application/json'.

Fixes bug 1030730

Change-Id: Iae9ed9ca798186a0663bdee1988f3acee6906db5
"
openstack%2Fnova~master~I21ff6db8ebb59a83d27f224283fb76f582c38a0e,openstack/nova,master,I21ff6db8ebb59a83d27f224283fb76f582c38a0e,Avoid error during snapshot of ISO booted instance,MERGED,2012-07-30 12:48:55.000000000,2012-07-30 19:06:13.000000000,2012-07-30 19:06:12.000000000,15,3,0,10530,af0651946010e6bcc966005aa9fc2a1f38d3748a,bug/1023492,8,5,1,2,1247,Mark McLoughlin,markmc,"Avoid error during snapshot of ISO booted instance

Fixes bug #1023492

If you boot an instance from an image with disk_format=iso and then
attempt to snapshot (i.e. nova image-create) you currently get a
traceback because we do:

  qemu-img convert -f qcow2 -O iso -s $snap $disk $out

and 'iso' is not a format that qemu-img knows anything about.

When booting the image, we use qemu-img to detect that the file is
a raw image so we avoid having to special case disk_format=iso
there. However, there's no way of avoiding the special casing when
extracting a snapshot.

Note 1 - it's not very clever to take a snapshot of a read-only
disk downloaded from glance and upload it back to glance again.
Adding such smarts would be a nice enhancement.

Note 2 - only the destination format is important here because
we can only be extracting from a qcow2 image since snapshots
only work where use_cow_images=True. See also #1030844.

Change-Id: I21ff6db8ebb59a83d27f224283fb76f582c38a0e
"
openstack%2Fglance~master~Ia86c42002ae8daabe0d7ad92a2017f1869b10853,openstack/glance,master,Ia86c42002ae8daabe0d7ad92a2017f1869b10853,Dont show stack trace on command line for service error.,MERGED,2012-07-17 15:18:35.000000000,2012-07-30 18:55:44.000000000,2012-07-30 18:55:43.000000000,2,3,1,9916,7956c2bec87b75f59f1453c531f9b1557a6196a5,bug/996648,13,5,2,2,4340,Sulochan Acharya,sulochan-acharya,"Dont show stack trace on command line for service error.

- Fix bug 996648

Currently if the Registry service is not running, any glance command
will show the Internal server error exception response body on the command line.
This fix proposes to hide that trace with a more generic message. Users can
still see the trace on log file in debug.

Change-Id: Ia86c42002ae8daabe0d7ad92a2017f1869b10853
"
openstack%2Fnova~master~Id44eab3c34ae2c682d27d1563c6baaf68b979d2b,openstack/nova,master,Id44eab3c34ae2c682d27d1563c6baaf68b979d2b,Use common parse_isotime in GlanceImageService,MERGED,2012-07-30 16:45:15.000000000,2012-07-30 18:55:41.000000000,2012-07-30 18:55:40.000000000,8,18,0,10547,9b61fdf34bee6ad9d8e28a32c4c30df243b02443,integrate-python-glanceclient,7,4,1,2,1132,Brian Waldon,bcwaldon,"Use common parse_isotime in GlanceImageService

Rather than reimplement openstack-common's isotime functionality,
just use what's provided for us!

Change-Id: Id44eab3c34ae2c682d27d1563c6baaf68b979d2b
"
openstack%2Fheat~master~Ia29f67465acbcfaf8dfe511ddaa9075bc48157ad,openstack/heat,master,Ia29f67465acbcfaf8dfe511ddaa9075bc48157ad,heat engine : Avoid writing to class-scope parameters schema,MERGED,2012-07-30 18:14:48.000000000,2012-07-30 18:14:48.000000000,2012-07-30 18:14:48.000000000,3,2,0,10553,2779760de5d47d7368e541a5a631b041ca4eda1b,master,5,2,1,1,4328,Steven Hardy,shardy,"heat engine : Avoid writing to class-scope parameters schema

Fixes issue where multiple instances of the same resource types
which have different parameters break, because the parser is
writing back to the class-scope properties_schema which should
be immutable.  This patch fixes by making a per-instance copy.

Fixes #183

Change-Id: Ia29f67465acbcfaf8dfe511ddaa9075bc48157ad
Signed-off-by: Steven Hardy <shardy@redhat.com>
"
openstack%2Fkeystone~master~Iea783aaa6bc425a17799d40cd6b378d90ebe6faf,openstack/keystone,master,Iea783aaa6bc425a17799d40cd6b378d90ebe6faf,Test for Cert by name,MERGED,2012-07-30 15:10:40.000000000,2012-07-30 18:13:38.000000000,2012-07-30 18:13:37.000000000,2,2,0,10536,dada197a4836c94c6a02b51ae35aed256cad9ac4,bug/1030912,8,5,1,1,2218,Adam Young,ayoung,"Test for Cert by name

Fixes a typo in checking if cert file exists.

Bug 1030912

Change-Id: Iea783aaa6bc425a17799d40cd6b378d90ebe6faf
"
openstack%2Ftempest~master~I4a83b473edf427e1243a96292a27a28b8968bec8,openstack/tempest,master,I4a83b473edf427e1243a96292a27a28b8968bec8,Tolerate set_admin_password not implemented.,ABANDONED,2012-07-24 13:20:00.000000000,2012-07-30 17:34:09.000000000,,16,0,0,10216,ac9e713cc5efac09cd1613f1557c3b18801c682d,test,4,3,2,5,1192,David Kranz,david-kranz,"Tolerate set_admin_password not implemented.

Allow skipping of password test if this action
is not implemented by the virt driver.

Must wait for https://review.openstack.org/#/c/10215/1

This will allow the following nova patch to be gated:

https://review.openstack.org/10130

Change-Id: I4a83b473edf427e1243a96292a27a28b8968bec8
"
openstack%2Fpython-novaclient~master~I3a0faa56dbb85c916c93b5065bda90f99bb3937c,openstack/python-novaclient,master,I3a0faa56dbb85c916c93b5065bda90f99bb3937c,change image list and network list data to be sorted by name rather than UUID,MERGED,2012-07-26 18:03:22.000000000,2012-07-30 17:01:14.000000000,2012-07-30 17:01:14.000000000,3,2,0,10361,cefd0fc80e2c52f86b5196bf202b9ac0f94d5866,sortbyname,13,5,4,1,531,James Meredith,james-meredith,"change image list and network list data
to be sorted by name rather than UUID

Change-Id: I3a0faa56dbb85c916c93b5065bda90f99bb3937c
"
openstack%2Fdevstack-gate~master~I4bdff5396ea154d7dd322db1366bb80b98492492,openstack/devstack-gate,master,I4bdff5396ea154d7dd322db1366bb80b98492492,Add space back to puppet cmd line.,MERGED,2012-07-30 16:48:18.000000000,2012-07-30 16:48:18.000000000,2012-07-30 16:48:18.000000000,1,1,0,10541,388629000221ed10e94318c6a92fe772cf191894,master,6,3,1,1,1,James E. Blair,corvus,"Add space back to puppet cmd line.

Change-Id: I4bdff5396ea154d7dd322db1366bb80b98492492
"
openstack%2Fheat~master~I44a96302e736997a747f82c9d23006425396633f,openstack/heat,master,I44a96302e736997a747f82c9d23006425396633f,Update getting started with credential crypto,MERGED,2012-07-30 16:32:41.000000000,2012-07-30 16:32:41.000000000,2012-07-30 16:32:41.000000000,1,0,0,10543,8f0caacf8a93bb515b75803e1a53692e4d4deaf0,v5-release,5,2,1,1,4330,Tomas Sedovic,tomas-8c8,"Update getting started with credential crypto

We encrypt the sensitive information in the database now. This updates
the Getting Started guide to generate an encryption key.

Change-Id: I44a96302e736997a747f82c9d23006425396633f
Signed-off-by: Tomas Sedovic <tomas@sedovic.cz>
"
openstack%2Fkeystone~stable%2Fessex~I148d8d9b0a67b8c45d06227829d0105935216c4d,openstack/keystone,stable/essex,I148d8d9b0a67b8c45d06227829d0105935216c4d,fix variable names to coincide with the ones in common.ldap,MERGED,2012-07-12 12:23:19.000000000,2012-07-30 16:11:58.000000000,2012-07-30 16:11:58.000000000,3,3,0,9712,708c80ea8e4ca1897b6815b559ad9437b36448ef,ldap-varnames-typos-stable,17,7,1,1,2340,Ionut Artarisi,mapleoin,"fix variable names to coincide with the ones in common.ldap

Change-Id: I148d8d9b0a67b8c45d06227829d0105935216c4d
"
openstack%2Fkeystone~stable%2Fessex~Iebf31ccbdeff274b2c8f265911d3411963dd4844,openstack/keystone,stable/essex,Iebf31ccbdeff274b2c8f265911d3411963dd4844,Import ec2 credentials from old keystone db,MERGED,2012-07-30 14:07:30.000000000,2012-07-30 16:04:02.000000000,2012-07-30 16:04:01.000000000,20,0,0,10533,d56a3fb026268e87bdd54b862be388d69d5a1266,bug/1016056,8,5,2,2,1955,Alan Pevec,apevec,"Import ec2 credentials from old keystone db

Fix bug #1016056

Change-Id: Iebf31ccbdeff274b2c8f265911d3411963dd4844
"
openstack%2Ftempest~master~Ib95184fc4cfd65b66d9b7509062df7c927cddc67,openstack/tempest,master,Ib95184fc4cfd65b66d9b7509062df7c927cddc67,Fix for bug 1025552- Modifies test_servers_negative.py script,MERGED,2012-07-18 10:25:42.000000000,2012-07-30 16:03:58.000000000,2012-07-30 16:03:58.000000000,7,6,0,9959,6a863a86b3e9d86cbf27fc3bf5f472ec1a88bd5b,bug/1025552,14,4,2,1,2238,rajalakshmi-ganesan,rajalakshmi-ganesan,"Fix for bug 1025552- Modifies test_servers_negative.py script

Change-Id: Ib95184fc4cfd65b66d9b7509062df7c927cddc67
"
openstack%2Fnova~master~I0e0cf0c9950f34b1bdab856b2e1c6872b29fdedc,openstack/nova,master,I0e0cf0c9950f34b1bdab856b2e1c6872b29fdedc,Make compute only auto-confirm its own instances,MERGED,2012-07-28 06:21:35.000000000,2012-07-30 16:03:55.000000000,2012-07-30 16:03:54.000000000,47,23,3,10447,e425b65b3d7e0736ce14c7523c8af85754eda27b,bug/1030226,16,6,1,6,1030,Chris Behrens,cbehrens,"Make compute only auto-confirm its own instances

Fixes bug 1030226

Change-Id: I0e0cf0c9950f34b1bdab856b2e1c6872b29fdedc
"
openstack%2Foslo-incubator~master~Ia5dbaee9c530e243e2121667c8a54e6f9d66e1e7,openstack/oslo-incubator,master,Ia5dbaee9c530e243e2121667c8a54e6f9d66e1e7,don't throw exceptions if %(color)s tag is used,MERGED,2012-07-30 15:23:27.000000000,2012-07-30 15:23:27.000000000,2012-07-30 15:23:27.000000000,60,2,0,10437,14088fb6e43676b2bfbbcd96bc78740ee862c550,bug/1030078,6,5,1,2,2750,Sean Dague,sdague,"don't throw exceptions if %(color)s tag is used

fixed bug #1030078

If the log format strings include the %(color)s key in them and you
enable file logging, your log files won't work, and instead you'll
see exceptions on the console as the default python log handler doesn't
support that keyword.

This approach stubs out the extra keywords to be empty strings to avoid
the KeyError. Tests are also added to demonstrate the KeyError as defined
behavior, and test that color codes can be passed.

Change-Id: Ia5dbaee9c530e243e2121667c8a54e6f9d66e1e7
"
openstack%2Fkeystone~master~I076d4679cd797db816b99e63053661515712302b,openstack/keystone,master,I076d4679cd797db816b99e63053661515712302b,Typo error in keystone/doc/source/configuration.rst.,MERGED,2012-07-27 22:01:11.000000000,2012-07-30 15:19:03.000000000,2012-07-30 15:19:03.000000000,1,1,0,10439,d2ecd617459652cb1e9d3a65e682aa2cf0abb71f,keystone-doc-bug,7,4,1,1,589,Syed Armani,dce3062,"Typo error in keystone/doc/source/configuration.rst.

Change-Id: I076d4679cd797db816b99e63053661515712302b
"
openstack%2Fpython-glanceclient~master~Ib653049eea2f18c4cc2f8f8aac7884245afd0f04,openstack/python-glanceclient,master,Ib653049eea2f18c4cc2f8f8aac7884245afd0f04,Fix --debug CLI option,MERGED,2012-07-30 04:18:06.000000000,2012-07-30 15:18:51.000000000,2012-07-30 15:18:51.000000000,7,10,0,10516,158f7ccd743b9fee12d60b10cf0fe696d5d4ed34,bug/1030700,6,3,2,2,1132,Brian Waldon,bcwaldon,"Fix --debug CLI option

The --debug argument has been ignored since httplib2 was replaced
with httplib. This re-enables the --debug flag as an equivalent
to the env var GLANCECLIENT_DEBUG.

Fixes bug 1030700

Change-Id: Ib653049eea2f18c4cc2f8f8aac7884245afd0f04
"
openstack%2Fpython-openstackclient~master~I879a8aba13318f1dd660a487cbd1fd20c7ae659b,openstack/python-openstackclient,master,I879a8aba13318f1dd660a487cbd1fd20c7ae659b,Secure password prompt (docs),MERGED,2012-07-13 19:54:28.000000000,2012-07-30 14:41:17.000000000,2012-07-30 14:41:16.000000000,5,2,0,9783,540c4883d6f2de25dd38db0c18d59d568cd35f1e,master,6,3,1,1,4,Dolph Mathews,dolph,"Secure password prompt (docs)

Change-Id: I879a8aba13318f1dd660a487cbd1fd20c7ae659b
"
openstack%2Foslo-incubator~master~Ibd501743d1c4ec21cb2b0d22382cb681ee5768ed,openstack/oslo-incubator,master,Ibd501743d1c4ec21cb2b0d22382cb681ee5768ed,Use BaseTestCase for all tests which override config,MERGED,2012-07-30 14:40:25.000000000,2012-07-30 14:40:25.000000000,2012-07-30 14:40:25.000000000,19,38,0,10063,a224d7048068330fb62624c2d2a542d0ad30d8dc,bug/1027120,6,3,1,4,1247,Mark McLoughlin,markmc,"Use BaseTestCase for all tests which override config

Fixes bug #1027120

We already have nice helper methods for overriding config and cleaning
up the overrides, so let's use them.

Change-Id: Ibd501743d1c4ec21cb2b0d22382cb681ee5768ed
"
openstack%2Fnova~master~I34d44485486b623b11743106f09d5ef631d35888,openstack/nova,master,I34d44485486b623b11743106f09d5ef631d35888,Add a link from HACKING to wiki GitCommitMessages page,MERGED,2012-07-30 10:11:35.000000000,2012-07-30 14:38:14.000000000,2012-07-30 14:38:13.000000000,6,0,0,10526,7047d854f13f25f306968aa1b068848eea67d71f,hacking-git-commit-message,11,7,1,1,1779,Daniel Berrange,berrange,"Add a link from HACKING to wiki GitCommitMessages page

The HACKING file contains a short example of an effective
commit message. For reasons for space, it cannot describe
the rationale behind this example. It also does not have
space to describe how to split up a patch into a series
of commits. Add a link from the HACKING file to the wiki

   http://wiki.openstack.org/GitCommitMessages

where further information can be found

Change-Id: I34d44485486b623b11743106f09d5ef631d35888
"
openstack%2Foslo-incubator~master~Ibb9d7484b9d11a6904cc9e2a8dde6d9164ee05b1,openstack/oslo-incubator,master,Ibb9d7484b9d11a6904cc9e2a8dde6d9164ee05b1,fix the qpid_heartbeat option so that it's effective,MERGED,2012-07-30 14:37:11.000000000,2012-07-30 14:37:11.000000000,2012-07-30 14:37:11.000000000,1,1,0,10507,0b760eca5c71f2b6fd29c0df0f4cf394335097f8,bug/1030430,8,4,2,1,1812,p-draigbrady,p-draigbrady,"fix the qpid_heartbeat option so that it's effective

The 'hearbeat' typo caused this setting to be ineffective.
This bug has been present since the initial nova qpid implementation.

Fixes bug: 1030430
Change-Id: Ibb9d7484b9d11a6904cc9e2a8dde6d9164ee05b1
"
openstack%2Fnova~master~I8af1e6232bc5a84cbb878c2663ab30eb4139484c,openstack/nova,master,I8af1e6232bc5a84cbb878c2663ab30eb4139484c,Check for selinux before setting up selinux.,MERGED,2012-07-29 20:36:29.000000000,2012-07-30 12:18:06.000000000,2012-07-29 23:57:56.000000000,3,1,0,10498,9bea239f71279bd0da39180b28b45935d3203b02,master,9,4,1,1,24,Chuck Short,zulcss,"Check for selinux before setting up selinux.

Check to see if /etc/selinux exists before trying
to setup ssh keys for selinux. If it doesnt exist
it will result in a traceback when setting up the image
since the directory doesnt exist on Ubuntu.

Fixes LP: #1030609

Change-Id: I8af1e6232bc5a84cbb878c2663ab30eb4139484c
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fnova~master~Ia13e805d7a9a509926556cbd3116cf2487f9d6fa,openstack/nova,master,Ia13e805d7a9a509926556cbd3116cf2487f9d6fa,Agent Update Fallback,ABANDONED,2012-07-14 20:07:03.000000000,2012-07-30 09:59:20.000000000,,14,5,1,9831,61a490255a48539095fb82d6d57a5c39a93af5b2,bug/1024786,22,9,4,2,1004,Mohammed Naser,mnaser,"Agent Update Fallback

In some cases, such as using the FlatManager, the agent may not
have any internet connectivity.  Therefore, it would fail to
download the agent package and never update successfully.

This fixes it by trying to update right after checking the
version, in the event that the update fails, we try again
after we reset the network (where we should have network
connectivity at that point).  Fixes LP Bug #1024786

The agent timeout has been increased because some operating
systems (mostly Debian-based) have longer network timeouts,
therefore the agent would be stuck trying to download and not
respond to further commands such as the admin password reset
and it would lead the server to be terminated.

Change-Id: Ia13e805d7a9a509926556cbd3116cf2487f9d6fa
"
openstack%2Fcinder~master~Ia925589bd14a2a52c4ab0bc6d23144bc333b8859,openstack/cinder,master,Ia925589bd14a2a52c4ab0bc6d23144bc333b8859,Remove unused prep_size function,ABANDONED,2012-07-28 07:56:08.000000000,2012-07-30 08:27:11.000000000,,0,29,0,10450,61faa7b07b39dc84a1eccb192fb2c3c6574c95ac,ru-prep-resize,3,2,1,3,2481,Rongze Zhu,zrzhit,"Remove unused prep_size function

Only used in nova

Change-Id: Ia925589bd14a2a52c4ab0bc6d23144bc333b8859
"
openstack%2Fhorizon~master~I8f401b6915c36075b56299e64f183c1ede1d0f58,openstack/horizon,master,I8f401b6915c36075b56299e64f183c1ede1d0f58,Portuguese Translation,ABANDONED,2012-07-06 22:17:43.000000000,2012-07-30 06:03:01.000000000,,572,517,0,9465,3d19fe82c36cb6c3ebc90c71c42cce6ff57df7cc,master,27,5,8,7,1699,Matt Joyce,matt-nycresistor,"Portuguese Translation

Change-Id: I8f401b6915c36075b56299e64f183c1ede1d0f58
"
openstack%2Fhorizon~master~I99dfdb8ce0d21ce1d4384384fd9b381101ff5e4c,openstack/horizon,master,I99dfdb8ce0d21ce1d4384384fd9b381101ff5e4c,Guarantee that data is not undefined in quota index view.,MERGED,2012-07-29 23:08:05.000000000,2012-07-30 03:56:18.000000000,2012-07-30 03:56:18.000000000,1,0,0,10501,ec3c76ef2ebee02df26a17bbc4db0ba295201069,data_not_defined,9,3,1,1,1816,Gabriel Hurley,gabriel-hurley,"Guarantee that data is not undefined in quota index view.

Change-Id: I99dfdb8ce0d21ce1d4384384fd9b381101ff5e4c
"
openstack%2Fhorizon~master~Id586bb451e6acf7f301f47eaf8cb27e70d9fcb40,openstack/horizon,master,Id586bb451e6acf7f301f47eaf8cb27e70d9fcb40,Makes the instance detail tabs sticky.,MERGED,2012-07-29 22:13:33.000000000,2012-07-30 03:19:06.000000000,2012-07-30 03:19:06.000000000,1,0,0,10500,4cda859e647d804c365dba3d77fbc8a32333c829,instance_tabs_sticky,6,3,1,1,1816,Gabriel Hurley,gabriel-hurley,"Makes the instance detail tabs sticky.

This is particularly useful when reloading the VNC tab
if something goes wrong.

Change-Id: Id586bb451e6acf7f301f47eaf8cb27e70d9fcb40
"
openstack%2Fhorizon~master~If72a2057218b09fd48e41a02e3818c79523a22c4,openstack/horizon,master,If72a2057218b09fd48e41a02e3818c79523a22c4,"Cleans up instance log page, form, HTML/styles...",MERGED,2012-07-30 00:07:57.000000000,2012-07-30 03:06:05.000000000,2012-07-30 03:06:05.000000000,9,8,0,10502,fc31aa71a0fbc7397c1a10bc7991d4b16178c253,log_form_cleanup,6,3,1,2,1816,Gabriel Hurley,gabriel-hurley,"Cleans up instance log page, form, HTML/styles...

Change-Id: If72a2057218b09fd48e41a02e3818c79523a22c4
"
openstack%2Fnova~master~I3ea91b95812dcec349b4ff6dc889645a57975278,openstack/nova,master,I3ea91b95812dcec349b4ff6dc889645a57975278,EC2 DescribeImageAttribute by kernel/ramdisk.,MERGED,2012-07-24 08:36:06.000000000,2012-07-30 02:41:03.000000000,2012-07-30 02:41:02.000000000,22,0,1,10208,7ea62897626546d330c3458bba4112f52882f313,bug/1026898,13,8,2,2,2140,MotoKen,motokentsai,"EC2 DescribeImageAttribute by kernel/ramdisk.

Fixes bug 1026898.

Supports kernel/ramdisk attributes for EC2 DescribeImageAttribute API to
display the ID of the kernel/ramdisk associated with the AMI. And adds
test cases to verify this behavior.

Change-Id: I3ea91b95812dcec349b4ff6dc889645a57975278
"
