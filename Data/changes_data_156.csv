id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fswift~master~Ia8f3297d610b5a5cf5598d076fdaf30211832366,openstack/swift,master,p-shard-compact,Ia8f3297d610b5a5cf5598d076fdaf30211832366,swift-manage-shard-ranges: add 'compact' command,MERGED,2020-12-04 20:51:54.000000000,2021-02-10 03:40:18.000000000,2021-02-10 03:38:50.000000000,1343,82,31,765623,12bb4839f02cdf32170a85438973fd93da4c1140,58,5,16,8,7847,Alistair Coles,acoles,"swift-manage-shard-ranges: add 'compact' command

This patch adds a 'compact' command to swift-manage-shard-ranges that
enables sequences of contiguous shards with low object counts to be
compacted into another existing shard, or into the root container.

Change-Id: Ia8f3297d610b5a5cf5598d076fdaf30211832366
"
openstack%2Ftripleo-ansible~stable%2Fussuri~Ia6728d68305ba3c662e99ea067b4d4feef9eeea0,openstack/tripleo-ansible,stable/ussuri,bug/1913782-stable/ussuri,Ia6728d68305ba3c662e99ea067b4d4feef9eeea0,Handle containers with no namespace,MERGED,2021-02-04 15:15:05.000000000,2021-02-10 03:23:21.000000000,2021-02-10 03:23:21.000000000,10,0,0,773968,7534d74f90f5cc50b4d6d54a2b19b9aabf1ce462,10,3,2,1,14985,Alex Schultz,mwhahaha,"Handle containers with no namespace

Satellite server does not have an actual namespace in the url so the
container location is just host/container:tag. We need to be able to
properly set the headers on blobs without namespaces.

Change-Id: Ia6728d68305ba3c662e99ea067b4d4feef9eeea0
Related-Bug: #1913782
(cherry picked from commit 4b47fdc93dba05b086ddd80d32d59fa6281b1885)
"
openstack%2Fdevstack~master~Ic3c19dcceceb8116d4c505f783ecdf8d0e0c5416,openstack/devstack,master,async,Ic3c19dcceceb8116d4c505f783ecdf8d0e0c5416,Do some more nova stuff in the background,NEW,2021-02-04 00:24:11.000000000,2021-02-10 03:04:01.000000000,,21,10,0,774019,d19ba8a3577f88e348f9a1f0c85f8b3f0c32615d,7,1,4,3,4393,Dan Smith,danms,"Do some more nova stuff in the background

This isn't much, but it reorders a few things and does some
things like libvirt config and os_vif install in parallel.

Change-Id: Ic3c19dcceceb8116d4c505f783ecdf8d0e0c5416
"
openstack%2Fdevstack~master~I372042e545e89a287d4d97fd3c8e272f5809dcd7,openstack/devstack,master,async,I372042e545e89a287d4d97fd3c8e272f5809dcd7,Create cinder and neutron resources in background,NEW,2021-02-04 00:24:11.000000000,2021-02-10 03:01:24.000000000,,6,4,0,774020,4b7f8b691542080af950f91e8704eaa527a3c50c,9,1,5,1,4393,Dan Smith,danms,"Create cinder and neutron resources in background

This makes us create cinder volume types and neutron networks
in parallel to some other work we're already doing in the background
like uploading the glance image and creating nova flavors.

This makes another nearly 10% difference for me locally.

Change-Id: I372042e545e89a287d4d97fd3c8e272f5809dcd7
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I5a702a84ca0e1942f2e1636d31acc391f689a8ad,openstack/python-tripleoclient,stable/train,train-rhbz1912879,I5a702a84ca0e1942f2e1636d31acc391f689a8ad,Run validation without authentication in particular context,MERGED,2021-01-25 09:50:01.000000000,2021-02-10 02:53:35.000000000,2021-02-10 02:52:05.000000000,20,9,2,772275,8da6f59ebf7197c542501d37d57a987e6fe002ee,29,2,9,1,11491,Gael Chamoulaud,gchamoul,"Run validation without authentication in particular context

Since we are using mistral to get the list of the plan
in TripleO, we require authentication for the clients
otherwise the validation Run won't work due to unable
to get mistral context.
This patch handle the authentication if provided by the user and
environment, if no authentifcation, since we cant generate dynamic
inventory, it checks if a static is passed with the CLI, if not it
raised an exception.

If authentication is provided and succeed, then tripleoclient can
safely call the plan_management to check and ensure if the plan is
present.

Change-Id: I5a702a84ca0e1942f2e1636d31acc391f689a8ad
(cherry picked from commit ff4f4a9578170d2f6049520d1b454a7aef0b2613)
(cherry picked from commit 8ff500c12682a7c0c762fa0c7d8146fc65049546)
(cherry picked from commit 1d7d01a3e1f79fc2a2be36160f5864e060ea0c5c)
"
openstack%2Fpython-tripleoclient~stable%2Fvictoria~I265b77de4b8f9b611f6bc908e90d8f69a26439ab,openstack/python-tripleoclient,stable/victoria,,I265b77de4b8f9b611f6bc908e90d8f69a26439ab,[Validator Run] Add return code management,MERGED,2021-02-09 15:49:18.000000000,2021-02-10 02:53:34.000000000,2021-02-10 02:52:22.000000000,10,3,0,774691,5317f37ae3304ec37faaf812e0c319669a8a066b,9,7,1,1,11491,Gael Chamoulaud,gchamoul,"[Validator Run] Add return code management

The validator run command will now raise a CommandError exception if one
or more validations have failed.

This patch is also aligning the result table to left in order to be
compliant with other table output.

Closes-Bug: #1915154

Change-Id: I265b77de4b8f9b611f6bc908e90d8f69a26439ab
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit be3f43ff81e24a0262d8f02495cca9a876731f7c)
"
openstack%2Fpython-tripleoclient~master~I07bf664c49a157c90d777936be642a20e7c11230,openstack/python-tripleoclient,master,env_merging,I07bf664c49a157c90d777936be642a20e7c11230,Bring back check_deprecated_parameters,MERGED,2021-02-01 04:21:56.000000000,2021-02-10 02:39:51.000000000,2021-02-10 02:38:27.000000000,170,15,0,773284,7d35e85e8aa00485743b7901c9211ab986818e3e,30,8,5,5,8833,Rabi Mishra,rabi,"Bring back check_deprecated_parameters

Though this is expensive and probably does not work as expected,
let's add it back.

Change-Id: I07bf664c49a157c90d777936be642a20e7c11230
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ib58b6152bc98002c048a4ae483454813c8298df9,openstack/tripleo-heat-templates,stable/victoria,,Ib58b6152bc98002c048a4ae483454813c8298df9,Make DnfStreams support RoleParameters,MERGED,2021-02-09 13:52:25.000000000,2021-02-10 02:38:22.000000000,2021-02-10 02:38:22.000000000,15,2,0,774647,0efeb96a3b183a88963ed064ccd5a866876e9ec7,9,5,1,1,6796,Giulio Fidente,gfidente,"Make DnfStreams support RoleParameters

This is useful in case the list of modules to enable is different for
the various roles; for example CephStorage vs Compute

Change-Id: Ib58b6152bc98002c048a4ae483454813c8298df9
Closes-Bug: #1915067
(cherry picked from commit 69357c3a6449b769b53e1b3a2ada75414d29d91c)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I172ae8f35df34887aaf61b3e03d5aaab1d462a60,openstack/tripleo-heat-templates,stable/train,,I172ae8f35df34887aaf61b3e03d5aaab1d462a60,Do not relabel Swift files on every container start,MERGED,2021-01-20 08:11:08.000000000,2021-02-10 02:38:19.000000000,2021-02-10 02:35:15.000000000,7,2,0,771546,5472332d62540413b6b5e888bb18dd2be69111d4,11,5,1,2,6968,Christian Schwede,cschwede,"Do not relabel Swift files on every container start

Without this patch, files in /srv/node are relabeled on every start of
the account_auditor and/or account_reaper containers. If there are many
files (eg. when using Gnocchi) this will take a long time, sometimes
dozens of minutes per container start, and might result in breaking
upgrades/updates.

Relabeling already happens in step 3, this should be sufficient and
prevent additional delays when (re-) starting containers.

Closes-Bug: 1907070
Change-Id: I172ae8f35df34887aaf61b3e03d5aaab1d462a60
(cherry picked from commit 191d160903d1072d3cfd9a594e79f64cc533b2b1)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I934a1ae5bc0d77fd39b25f5039635e5df6e9004f,openstack/tripleo-heat-templates,stable/train,multipath-v2,I934a1ae5bc0d77fd39b25f5039635e5df6e9004f,Deploy multipathd using tripleo_multipathd ansible role,MERGED,2020-12-01 18:51:46.000000000,2021-02-10 02:36:39.000000000,2021-02-10 02:35:09.000000000,152,1,0,764994,f55af442deddb8a595a1437ec238dfdeaad61fbf,16,6,2,5,21129,Alan Bishop,ASBishop,"Deploy multipathd using tripleo_multipathd ansible role

The puppet and ansible tasks for deploying the Multipathd service have
been moved to a new tripleo_multipathd ansible role. THT uses that role
passing in parameter values via ansible variables.

Two new THT parameters are supported:
- MultipathdCustomConfigFile provides a way for the user to specify a
  custom multipath.conf file. This makes it easier for the user to
  manage custom settings that are unique to their deployment, such as
  vendor specific hardware tuning.
- MultipathdSkipKpartx provides a means for overriding multipathd's
  default behavior whereby it automatically creates disk partitions on
  multipath devices. Partitions should be managed by VM servers accessing
  the device, not by the overcloud host itself.

Depends-On: Icf9faff31d83f0ea77d00a59a53d6ad36b06da4f
Depends-On: I3478312b5117da5c2e819e47c99f574246e84838
Change-Id: I934a1ae5bc0d77fd39b25f5039635e5df6e9004f
(cherry picked from commit 80fcd33248c3861a427c0eabdfbff4d4e2622380)
(cherry picked from commit a19a3c6aefc5d0212d6da39f29318b0bd207a5a1)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7b2a408fbfb460e689f00b8d2db0c3fc78972f76,openstack/tripleo-heat-templates,stable/train,,I7b2a408fbfb460e689f00b8d2db0c3fc78972f76,[Train-Only] Remove python-2 packages in the overcloud nodes after leapp upgrade.,MERGED,2021-01-13 15:44:21.000000000,2021-02-10 02:29:17.000000000,2021-02-10 02:29:17.000000000,5,0,0,770637,e69b06ae26c989015c48d23b5821e21087457d6f,17,8,2,1,26343,Jose Luis Franco,jfrancoa,"[Train-Only] Remove python-2 packages in the overcloud nodes after leapp upgrade.

When the overcloud nodes are upgraded from RHEL7 to RHEL8 during the
system_upgrade step, it is required to clean up the remaining python 2
packages from the system.

This action is performed manually on the Undercloud node, but it was
left out for the overcloud nodes.

Change-Id: I7b2a408fbfb460e689f00b8d2db0c3fc78972f76
Closes-Bug: #1911442
Resolves: rhbz#1876046
"
openstack%2Fhorizon~master~I2c72d782b914aa9d1c6149631ec542181c134972,openstack/horizon,master,test-integration-tests,I2c72d782b914aa9d1c6149631ec542181c134972,DNM: test integration tests with prev ver of jquery-migrate,ABANDONED,2021-02-03 00:39:56.000000000,2021-02-10 02:20:01.000000000,,10,10,0,773824,6b5bba66b76c9d84317f642af3ddffa335dc7844,6,1,1,1,841,Akihiro Motoki,amotoki,"DNM: test integration tests with prev ver of jquery-migrate

Depends-On: https://review.opendev.org/c/openstack/requirements/+/773823
Change-Id: I2c72d782b914aa9d1c6149631ec542181c134972
"
openstack%2Fhorizon~master~I3307521df524da30b910f0001165cefa2be6c8bb,openstack/horizon,master,password,I3307521df524da30b910f0001165cefa2be6c8bb,Set Admin Password at NG Launch Instance dialog,MERGED,2021-01-13 02:47:26.000000000,2021-02-10 01:36:05.000000000,2021-02-10 01:33:03.000000000,82,3,6,770528,c2d3f61d4d02ccc3d995912e61ccd716f6387cbd,34,5,5,5,6914,Tatiana Ovchinnikova,tmazur,"Set Admin Password at NG Launch Instance dialog

This patch allows to set admin password at Angular Launch Instance
dialog when 'can_set_password' is true in OPENSTACK_HYPERVISOR_FEATURES.

Closes-Bug: #1439905
Closes-Bug: #1609777

Change-Id: I3307521df524da30b910f0001165cefa2be6c8bb
"
openstack%2Ftacker~master~I1621b904450e94d6793b4c524de6785520f2e805,openstack/tacker,master,add-k8s-for-ft,I1621b904450e94d6793b4c524de6785520f2e805,Add a k8s cluster for the k8s related FT in zuul,MERGED,2020-12-14 06:43:54.000000000,2021-02-10 01:19:48.000000000,2021-02-10 01:13:30.000000000,336,1,17,766886,fe46bd2612171545ca8c451792bab00bdd43109f,113,8,42,9,31730,Naoaki Horie,naoaki-horie,"Add a k8s cluster for the k8s related FT in zuul

This patch add a kubernetes cluster for the kubernetes related
functional tests of the VNF LCM in the zuul environment.

There is no impact to the existing jobs because this patch only
add a new job, however we may need to watch the load on the Zuul
environment due to its parallel jobs.

A new node-set consists of four nodes;

  * Controller: Keystone, Nova, Neutron, Glance, Cinder, Octavia,
                MySQL, MQ, ETCD
  * Controller-tacker: Tacker, Tacker-conductor
  * Controller-k8s: kuryr-k8s, kuryr-CNI, k8s-api, kubelet
  * Compute: Nova-compute

All kubernetes resources are created on the controller-k8s node.

This patch includes the following changes:

  * Added a execution command for the functional test of related
    k8s for the VNF LCM in tox.ini.
  * Registered a vim of the `kubernetes` type by ansible. Also
    added related materials.
  * Moved the functional test files for k8s to other new directory.
  * Fixed a minor invalid definition in the definition file used
    for functional testing.

Change-Id: I1621b904450e94d6793b4c524de6785520f2e805
"
openstack%2Ftripleo-common~master~I9f39dad5bb357b8d98fbb2e8765c96815fc28c20,openstack/tripleo-common,master,ephemeral-heat,I9f39dad5bb357b8d98fbb2e8765c96815fc28c20,Support using ephemeral Heat,ABANDONED,2021-01-08 19:33:28.000000000,2021-02-10 01:12:37.000000000,,39,19,10,769982,9b7b526329442edb5e05cc3044d5e841e380b48e,16,2,5,3,7144,James Slagle,slagle,"Support using ephemeral Heat

This patch begins to add support for using the ephemeral Heat process
(heat-all) to tripleo-common.

The functionality is enabled with the tripleo_deploy ansible boolean
variable. The variable can be toggled with the newly added
--tripleo-deploy cli arg in tripleoclient.

Change-Id: I9f39dad5bb357b8d98fbb2e8765c96815fc28c20
Implements: blueprint ephemeral-heat-overcloud
"
openstack%2Fhorizon~master~I384a6b78eaf75d9c0373cdfa51c3ea5f53f63e6b,openstack/horizon,master,bug/1549636,I384a6b78eaf75d9c0373cdfa51c3ea5f53f63e6b,Add option to set MTU on network creation,MERGED,2021-01-14 21:59:03.000000000,2021-02-10 01:08:13.000000000,2021-02-10 01:06:36.000000000,94,2,15,770870,76f196d1ed5208b75d6019a0f9311e174c3d5b76,22,3,3,5,6914,Tatiana Ovchinnikova,tmazur,"Add option to set MTU on network creation

Setting MTU is now available for network creation on project and
admin panels.

Closes-Bug: #1549636

Change-Id: I384a6b78eaf75d9c0373cdfa51c3ea5f53f63e6b
"
openstack%2Fplacement~master~I0ab16c3a4d997a0a1f86d75323beaa86979bafa3,openstack/placement,master,secure-rbac,I0ab16c3a4d997a0a1f86d75323beaa86979bafa3,policy: Add note about keystone's expansion of roles,MERGED,2021-01-27 17:57:26.000000000,2021-02-10 00:59:20.000000000,2021-02-10 00:55:46.000000000,7,0,1,772752,6805790dda992cf9119368c41bbbc4c2557603bc,14,7,2,1,15334,Stephen Finucane,sfinucan,"policy: Add note about keystone's expansion of roles

The 'HTTP_X_ROLES' header will include both the primary role of the user
and the implied roles. Clarify this in the stub we're using to mock that
out.

Change-Id: I0ab16c3a4d997a0a1f86d75323beaa86979bafa3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcinder~stable%2Fstein~Ib3ff3bd2df8954407e880a759082ef1eee3e76a1,openstack/cinder,stable/stein,cap-bandit-1.6.2,Ib3ff3bd2df8954407e880a759082ef1eee3e76a1,[stable-only] Cap bandit and fix lower-constrains,MERGED,2021-01-14 14:17:09.000000000,2021-02-10 00:58:23.000000000,2021-02-10 00:55:37.000000000,13,10,0,770816,cff32e11896b62c44cc8e852545d9ae4ff88230b,25,5,1,3,17685,Elod Illes,elod.illes,"[stable-only] Cap bandit and fix lower-constrains

bandit 1.6.3 [1] release has dropped support for py2 [2] but the
release is faulty and pip still picks it up for py2 [3][4], so cap to
1.6.2 when using py2.

With the new pip dependency resolver (introduced in pip 20.3) the
lower-constraints job started to timeout and fail. This patch fixes
package version constraint contradictions and add some new lower
constraints to speed up pip's dependency resolution.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Ib3ff3bd2df8954407e880a759082ef1eee3e76a1
"
openstack%2Fneutron~stable%2Fvictoria~I2e89bcb183a75f39ba6aeeef6f1ea355fca59fc8,openstack/neutron,stable/victoria,add-conntrack-helper-extension-unit-test-stable/victoria,I2e89bcb183a75f39ba6aeeef6f1ea355fca59fc8,Add extension unit tests for conntrack_helper plugin,MERGED,2021-02-09 05:27:18.000000000,2021-02-10 00:58:05.000000000,2021-02-10 00:56:13.000000000,141,0,0,774490,63da3c98a14bf5698b35ec3bb655217f7ea2b3e7,17,3,1,1,28329,yangjianfeng,yangjianfeng,"Add extension unit tests for conntrack_helper plugin

Change-Id: I2e89bcb183a75f39ba6aeeef6f1ea355fca59fc8
(cherry picked from commit cbfac6b7a849a5b7344c525d8fd070e48bdbe6b2)
"
openstack%2Fplacement~master~I2153099e5e6adc9fd276089194f5ec5bf4975420,openstack/placement,master,secure-rbac,I2153099e5e6adc9fd276089194f5ec5bf4975420,policy: Deprecate 'admin_api' rule,MERGED,2021-01-25 12:41:05.000000000,2021-02-10 00:57:56.000000000,2021-02-10 00:55:41.000000000,12,1,0,772334,6498534c3b12b1d7befacccd8080cf9285b97b84,18,4,6,1,15334,Stephen Finucane,sfinucan,"policy: Deprecate 'admin_api' rule

All of our granular rules have been transitioned across to the new
scoped policies, which means we can deprecate this base rule itself.

Change-Id: I2153099e5e6adc9fd276089194f5ec5bf4975420
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftooz~stable%2Fussuri~I22b955419014dd34c63e406c488e0636ffe9013b,openstack/tooz,stable/ussuri,bug/1891314,I22b955419014dd34c63e406c488e0636ffe9013b,Blacklist etcd3gw 0.2.6,ABANDONED,2020-10-21 16:28:00.000000000,2021-02-10 00:21:09.000000000,,1,1,0,759102,4b4b7153ed5ce749bc1a2e9af5ea16367283938e,21,7,4,1,6928,Ben Nemec,bnemec,"Blacklist etcd3gw 0.2.6

etcd3gw 0.2.6 was blacklisted in openstack/requirements [0], because
that version has a bug [1].

tooz does not use openstack/requirements' upper constraints, so the
same blacklisting needs to be introduced here in setup.cfg.

[0] Icb6873d8c5d3a3624c0ac3d76fc9125c5d8134b2
[1] https://github.com/dims/etcd3-gateway/issues/41

Change-Id: I22b955419014dd34c63e406c488e0636ffe9013b
Closes-Bug: #1891314
(cherry picked from commit 3f0759091c9fddf4d1486188015fc526e66cd73e)
(cherry picked from commit c8d77ee485746c4367528e542063d5a045c4b6f3)
"
openstack%2Fswift~master~Ie1100386fa647b11570eea068f01fa7d66ccaaf3,openstack/swift,master,Stop_pushing_acceptor_donor,Ie1100386fa647b11570eea068f01fa7d66ccaaf3,Stop pushing acceptor and donor SR to shrinking shards,ABANDONED,2021-01-22 06:42:03.000000000,2021-02-09 23:28:27.000000000,,31,43,3,771913,882542cbf8d23c352a0dff74632d9514d316ddd4,13,1,3,3,7233,Matthew Oliver,mattoliverau,"Stop pushing acceptor and donor SR to shrinking shards

We've currently added the ability for shards that are shrinking to pull
down overlapping ranges in the shard audit. This allows the shards that
are shrinking, the donor, to pull in the acceptor node from root.

We've also now got the final step, where the container backend can
include the root acceptor when required so the root container can pass
itself as an acceptor during a shards audit when the shard needs to
shrink/collapse back into root.

With that last piece of the puzzle we can now remove the sharder code
that pushes the acceptor SR to the donor shard replicas. This not only
stops a bunch of extra requests but also gets use to full root driven
shrinking.

This patch removes said code and updates the test_shrinking sharder
probe test to use the root driven approach.

This version if rebased earier in the chain so it ""could"" be squished
into https://review.opendev.org/c/openstack/swift/+/771885 if we so
desire.

Change-Id: Ie1100386fa647b11570eea068f01fa7d66ccaaf3
"
openstack%2Fnova~master~I03fcf9d64a750e3e8a71c1862d3e2ceb84aaffd2,openstack/nova,master,bp/routed-networks-scheduling,I03fcf9d64a750e3e8a71c1862d3e2ceb84aaffd2,Add requested_networks field to RequestSpec object,MERGED,2020-09-04 14:49:50.000000000,2021-02-09 23:14:05.000000000,2021-02-09 23:12:04.000000000,56,6,0,749977,edaaac6aaf7aea3c5ff3c57fcac70b7a5ac76ff2,49,9,6,3,7166,Sylvain Bauza,sbauza,"Add requested_networks field to RequestSpec object

Since we want to support routed networks in Nova, we need to provide
the needed networks to the scheduler, hence the new field which
won't be persisted.

Change-Id: I03fcf9d64a750e3e8a71c1862d3e2ceb84aaffd2
Related-Implements: blueprint routed-networks-scheduling
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I3650a68640a0ec846be24014ebc6a71110b2f6f7,openstack/tripleo-ansible,stable/train,bug/1915101-stable/train,I3650a68640a0ec846be24014ebc6a71110b2f6f7,Fix molecule jobs after release of cryptography3.4,MERGED,2021-02-09 18:39:13.000000000,2021-02-09 22:51:06.000000000,2021-02-09 22:51:06.000000000,6,0,0,774665,f3bb117c033f1c25f77d08445f8e17cf209aa613,6,3,1,1,14985,Alex Schultz,mwhahaha,"Fix molecule jobs after release of cryptography3.4

Molecule jobs[0] fails with below error:-

ModuleNotFoundError: No module named 'setuptools_rust'

This error appeared following the release of cryptography 3.4, which
now includes Rust code. It can be installed without Rust using a
Python wheel, but only with more recent pip than version 9.0.3
available as RPM on CentOS 8.

The cryptography bug report [1] recommends pip>=19.1.1.

[0] https://e99635be2c7386b5beda-3dea60a35fb0d38e41c535f13b48e895.ssl.cf1.rackcdn.com/773531/1/gate/tripleo-ansible-centos-8-molecule-tripleo_network_config/b1284cd/job-output.txt
[1] https://github.com/pyca/cryptography/issues/5753
Related-Bug: #1915101

Change-Id: I3650a68640a0ec846be24014ebc6a71110b2f6f7
(cherry picked from commit f8a286cf3014c05105075d033178172ac030dcb6)
"
openstack%2Ftempest~master~I3e09b31f63d2cd7ea41c48e62432bd3bc54fcf44,openstack/tempest,master,inclusive_jargon,I3e09b31f63d2cd7ea41c48e62432bd3bc54fcf44,Inclusive jargon,MERGED,2020-12-27 17:45:55.000000000,2021-02-09 22:36:11.000000000,2021-02-09 22:33:47.000000000,336,169,49,768583,dc84423b7294a19cbea4bf1e4b75a59625dec1e9,40,6,8,21,22873,Martin Kopec,mkopec,"Inclusive jargon

Following stestr's example where arguments such as --blacklist-file,
--black-regex and --whitelist-file are deprecated since its
3.1.0 release, let's do the change here as well in order to
get tempest consumers some time for the transition.

This change deprecates the following arguments and replaces them
by new ones which are functionally equivavelnt:
* --black-regex is replaced by --exclude-regex
* --blacklist-file is replaced by --exclude-list
* --whitelist-file is replaced by --include-list

For now, Tempest will accept both (new and old) arguments to make
the transition smoother for all consumers.

The patch also bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I3e09b31f63d2cd7ea41c48e62432bd3bc54fcf44
"
openstack%2Foslo.cache~stable%2Fvictoria~Ibdc6015ac1a9812976c4f3d8a737f7245599553e,openstack/oslo.cache,stable/victoria,memcached-tls-stable/victoria,Ibdc6015ac1a9812976c4f3d8a737f7245599553e,Add dogpile.cache.pymemcache backend,MERGED,2021-02-03 15:37:34.000000000,2021-02-09 22:09:08.000000000,2021-02-09 22:07:35.000000000,31,12,1,773908,886928c12d71d8a2178aedf96a5797afc4476061,33,7,8,2,27954,Moisés Guimarães de Medeiros,moguimar,"Add dogpile.cache.pymemcache backend

dogpile.cache.pymemcache is currently the best driver for using Memcached
with TLS. This backport is intent for security purposes.

Change-Id: Ibdc6015ac1a9812976c4f3d8a737f7245599553e
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
(cherry picked from commit b00b3b23b42652dc7e9af8ec54a7f117b6999895)
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I3650a68640a0ec846be24014ebc6a71110b2f6f7,openstack/tripleo-ansible,stable/victoria,bug/1915101-stable/victoria,I3650a68640a0ec846be24014ebc6a71110b2f6f7,Fix molecule jobs after release of cryptography3.4,MERGED,2021-02-09 18:38:33.000000000,2021-02-09 21:50:10.000000000,2021-02-09 21:50:10.000000000,6,0,0,774663,c4d9b9c893918bc2d1746a8cc9a48edf62653c51,6,3,1,1,14985,Alex Schultz,mwhahaha,"Fix molecule jobs after release of cryptography3.4

Molecule jobs[0] fails with below error:-

ModuleNotFoundError: No module named 'setuptools_rust'

This error appeared following the release of cryptography 3.4, which
now includes Rust code. It can be installed without Rust using a
Python wheel, but only with more recent pip than version 9.0.3
available as RPM on CentOS 8.

The cryptography bug report [1] recommends pip>=19.1.1.

[0] https://e99635be2c7386b5beda-3dea60a35fb0d38e41c535f13b48e895.ssl.cf1.rackcdn.com/773531/1/gate/tripleo-ansible-centos-8-molecule-tripleo_network_config/b1284cd/job-output.txt
[1] https://github.com/pyca/cryptography/issues/5753
Related-Bug: #1915101

Change-Id: I3650a68640a0ec846be24014ebc6a71110b2f6f7
(cherry picked from commit f8a286cf3014c05105075d033178172ac030dcb6)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I3650a68640a0ec846be24014ebc6a71110b2f6f7,openstack/tripleo-ansible,stable/ussuri,bug/1915101-stable/ussuri,I3650a68640a0ec846be24014ebc6a71110b2f6f7,Fix molecule jobs after release of cryptography3.4,MERGED,2021-02-09 18:38:50.000000000,2021-02-09 21:45:10.000000000,2021-02-09 21:45:10.000000000,6,0,0,774664,81fb36295b0da35e679e44f90d297b951675c8af,6,3,1,1,14985,Alex Schultz,mwhahaha,"Fix molecule jobs after release of cryptography3.4

Molecule jobs[0] fails with below error:-

ModuleNotFoundError: No module named 'setuptools_rust'

This error appeared following the release of cryptography 3.4, which
now includes Rust code. It can be installed without Rust using a
Python wheel, but only with more recent pip than version 9.0.3
available as RPM on CentOS 8.

The cryptography bug report [1] recommends pip>=19.1.1.

[0] https://e99635be2c7386b5beda-3dea60a35fb0d38e41c535f13b48e895.ssl.cf1.rackcdn.com/773531/1/gate/tripleo-ansible-centos-8-molecule-tripleo_network_config/b1284cd/job-output.txt
[1] https://github.com/pyca/cryptography/issues/5753
Related-Bug: #1915101

Change-Id: I3650a68640a0ec846be24014ebc6a71110b2f6f7
(cherry picked from commit f8a286cf3014c05105075d033178172ac030dcb6)
"
openstack%2Fproject-config~master~Ifc2e2044cee4ad6f43999d32487e865f2a99d01b,openstack/project-config,master,openinfra-board,Ifc2e2044cee4ad6f43999d32487e865f2a99d01b,Setup OpenInfra-Board Channel,MERGED,2021-02-09 18:06:25.000000000,2021-02-09 21:07:22.000000000,2021-02-09 20:56:34.000000000,1,0,0,774705,7ee208b696db0222b2eee95f6755acdfd96c6266,7,2,1,1,16708,Kendall Nelson,kjnelson,"Setup OpenInfra-Board Channel

openstack-board will now be openinfra-board.

Change-Id: Ifc2e2044cee4ad6f43999d32487e865f2a99d01b
"
openstack%2Fmonasca-thresh~stable%2Fussuri~Iac161d730580f5a887a3ce87fb33beba1a11090b,openstack/monasca-thresh,stable/ussuri,fix-zuul-publish,Iac161d730580f5a887a3ce87fb33beba1a11090b,Fix zuul publish docker image job,MERGED,2021-02-09 19:10:15.000000000,2021-02-09 20:57:53.000000000,2021-02-09 20:57:53.000000000,1,1,0,774667,e602fa76fe5b73b65e68a654dda57973c04e0b99,8,2,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command

Change-Id: Iac161d730580f5a887a3ce87fb33beba1a11090b
(cherry picked from commit b50c1d1a1f9a61cd62adc679763d78dbcb244acf)
"
openstack%2Fopenstacksdk~master~Id61f186c4b9d0209d45e0a488d7d91b47af6c1b6,openstack/openstacksdk,master,collections.abc,Id61f186c4b9d0209d45e0a488d7d91b47af6c1b6,Move 'collections.Mapping' to 'collections.abc',MERGED,2021-02-01 11:01:17.000000000,2021-02-09 20:50:02.000000000,2021-02-09 20:48:07.000000000,3,4,0,773358,8442aeab7ed2ac6cc7d496a4908a5f8e1b9e4fc1,8,3,1,1,15334,Stephen Finucane,sfinucan,"Move 'collections.Mapping' to 'collections.abc'

This was moved in Python 3.3 and the alias will be removed in Python
3.10.

Change-Id: Id61f186c4b9d0209d45e0a488d7d91b47af6c1b6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftempest~master~Ic005de3e56cb4fde9cfce183ee598c7e9f77f464,openstack/tempest,master,,Ic005de3e56cb4fde9cfce183ee598c7e9f77f464,Change Review merge policy from two +2 to single +2 requirement,MERGED,2021-02-03 23:00:28.000000000,2021-02-09 20:31:29.000000000,2021-02-09 20:27:02.000000000,7,13,0,774012,bfce1f219b292f27b902d3b34388710c0fe44a3c,10,5,1,2,8556,Ghanshyam,ghanshyam,"Change Review merge policy from two +2 to single +2 requirement

Now a days, Tempest does not have much active core reviewers due
to that merging the incoming code change is taking too much time.

As you can see we have lot of backlogs in open review ~400

If situation improve in future and we have more Core review
then we can change the policy back to two +2 requirement.

Discussion in QA office hour:
-  http://eavesdrop.openstack.org/meetings/qa/2021/qa.2021-01-26-14.00.log.html#l-147

Change-Id: Ic005de3e56cb4fde9cfce183ee598c7e9f77f464
"
openstack%2Fopenstacksdk~master~I508335b463b889667c4bdfecad98d91c581fcf45,openstack/openstacksdk,master,,I508335b463b889667c4bdfecad98d91c581fcf45,Change microseconds to total_seconds(),MERGED,2021-02-05 07:16:23.000000000,2021-02-09 20:29:39.000000000,2021-02-09 20:27:21.000000000,3,3,0,774199,b25241ccc3f7aa8a81563ba28e49dfc6de72dcf5,9,3,3,1,33012,Ryan Zimmerman,zimmerry,"Change microseconds to total_seconds()

- Change all instances of response.elapsed.microseconds / 1000
to response.elapsed.total_seconds() * 1000

According to:
 - http://eavesdrop.openstack.org/irclogs/%23openstack-sdks/%23openstack-sdks.2021-02-03.log.html#t2021-02-03T18:45:14
 - https://storyboard.openstack.org/#!/story/2008601

Change-Id: I508335b463b889667c4bdfecad98d91c581fcf45
"
openstack%2Ftempest~master~I5a73a4f25f9092a4cdddcaf86f9ff2c89720409e,openstack/tempest,master,bug/1844568,I5a73a4f25f9092a4cdddcaf86f9ff2c89720409e,Create default network for server advance scenario tests,MERGED,2021-01-11 18:36:10.000000000,2021-02-09 20:29:30.000000000,2021-02-09 20:26:13.000000000,1,1,0,770169,f5aef7bec1df36410cbee1799d88896bc7123ea7,23,6,4,1,8556,Ghanshyam,ghanshyam,"Create default network for server advance scenario tests

Previously when fixing this bug for API tests,
we thought it cannot happen in scenario tests
with same reason as scenario base class do fetch
the specific network from neutron to pass it t nova
for creating the server.

But when 'CONF.network.port_vnic_type' and
'CONF.network.port_profile' are not configured in Tempest
then Tempest scenario manager does not fetch the network
from neutron.
- https://github.com/openstack/tempest/blob/fec2c93cdcc14ad08d0a35136ee287525e7a4879/tempest/scenario/manager.py#L242

In that case, tenant network is used, which is not present
as scenario manager does not create the default network
resource for credential and tenant.

- https://github.com/openstack/tempest/blob/fec2c93cdcc14ad08d0a35136ee287525e7a4879/tempest/scenario/manager.py#L298

This commit let server advance test (which is failing for multiple network
erorr) to create the default network which will be used to pass to the
nova API request while creating the test server.

Related-Bug: #1844568
Change-Id: I5a73a4f25f9092a4cdddcaf86f9ff2c89720409e
"
openstack%2Fopenstacksdk~stable%2Fvictoria~If08fa34672ff32dda139b0b50cc7c4af89107846,openstack/openstacksdk,stable/victoria,,If08fa34672ff32dda139b0b50cc7c4af89107846,Add id query parameter to sg rules,MERGED,2021-01-28 18:04:48.000000000,2021-02-09 20:29:27.000000000,2021-02-09 20:27:26.000000000,2,1,0,772809,cdb3980de64d8b4b04d6c9b04a283317a6d61b04,7,3,1,2,10969,Shnaidman Sagi (Sergey),sergsh,"Add id query parameter to sg rules

id paramter is needed for filter functionality in Ansible modules. See PR https://review.opendev.org/c/openstack/ansible-collections-openstack/+/765580

Change-Id: If08fa34672ff32dda139b0b50cc7c4af89107846
(cherry picked from commit b86edc3683ea73e0ecbe3d7d2c1495a1842d836c)
"
openstack%2Fmonasca-thresh~stable%2Fvictoria~Iac161d730580f5a887a3ce87fb33beba1a11090b,openstack/monasca-thresh,stable/victoria,fix-zuul-publish,Iac161d730580f5a887a3ce87fb33beba1a11090b,Fix zuul publish docker image job,MERGED,2021-02-09 19:09:36.000000000,2021-02-09 20:29:25.000000000,2021-02-09 20:29:25.000000000,1,1,0,774666,716733df4f87275c13011b641a5494c489b607b8,8,2,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command

Change-Id: Iac161d730580f5a887a3ce87fb33beba1a11090b
(cherry picked from commit b50c1d1a1f9a61cd62adc679763d78dbcb244acf)
"
openstack%2Ftempest~master~Id2c9f5b304106a5be15639a69f95be424a394436,openstack/tempest,master,secure-rbac,Id2c9f5b304106a5be15639a69f95be424a394436,Fix system & domain scoped admin dynamic credential,MERGED,2021-01-29 19:13:02.000000000,2021-02-09 20:26:34.000000000,2021-02-09 20:26:34.000000000,9,6,0,773173,7f3942522a53d8f5d0935a48b0b74c022afa2c84,14,3,3,1,8556,Ghanshyam,ghanshyam,"Fix system & domain scoped admin dynamic credential

With I8bebb5b9b6d8da62e6a5268d827787da461cc0d6 Tempest
started supporting the system and domain scope along
with project. But system and domain admin are not created
with requried scope. If admin role is requested even with
system or domain scope get_credentials() method does not pass
the requested scope to _create_creds() so it is always created
with project scope.

This commit fix this by passing the correct scope while creating
the cred.

Change-Id: Id2c9f5b304106a5be15639a69f95be424a394436
"
openstack%2Fneutron~stable%2Fussuri~Ib1a95dd41d25f39f3378a6728d752a6589b9b61c,openstack/neutron,stable/ussuri,bug/1912596-stable/ussuri,Ib1a95dd41d25f39f3378a6728d752a6589b9b61c,Fix incorrect exception catch when update floating ip port forwarding,MERGED,2021-02-09 04:54:00.000000000,2021-02-09 20:25:54.000000000,2021-02-09 20:21:20.000000000,60,1,0,774488,9139f40145533990d7c35c2a05153857e978a078,13,3,2,2,28329,yangjianfeng,yangjianfeng,"Fix incorrect exception catch when update floating ip port forwarding

Closes-Bug: #1912596
Change-Id: Ib1a95dd41d25f39f3378a6728d752a6589b9b61c
(cherry picked from commit e9e4395d578e40bb59272b409c7ca3617ec1e6e3)
"
openstack%2Frequirements~master~I53067fffc40bd7e2799b09a14b4e203607e16ab2,openstack/requirements,master,openstack/requirements/constraints/noclob,I53067fffc40bd7e2799b09a14b4e203607e16ab2,Updated from generate-constraints,MERGED,2021-02-09 06:20:54.000000000,2021-02-09 20:25:47.000000000,2021-02-09 20:21:26.000000000,6,7,0,774593,4c4bd7b57937f1050be447a42db10442ce24e0d8,16,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I53067fffc40bd7e2799b09a14b4e203607e16ab2
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fetcd3gw~master~I1d1d2ab862725bed2585406e5f215450a42f225e,openstack/etcd3gw,master,,I1d1d2ab862725bed2585406e5f215450a42f225e,Use unittest.mock instead of mock,MERGED,2021-01-03 03:38:24.000000000,2021-02-09 19:48:46.000000000,2021-02-09 19:46:43.000000000,1,2,0,768949,28daa7970baa8eb3bb01c82a63b5f513cc544057,13,3,4,2,30092,Xuan Yandong,xuanyandong,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I1d1d2ab862725bed2585406e5f215450a42f225e
"
openstack%2Freleases~master~Iac1caf1d96b7ede9dfc57883438aab67a214c54c,openstack/releases,master,release_osa,Iac1caf1d96b7ede9dfc57883438aab67a214c54c,Release OpenStack-Ansible Victoria,MERGED,2021-02-09 08:28:41.000000000,2021-02-09 19:26:00.000000000,2021-02-09 19:26:00.000000000,4,0,0,774599,259d8df5be7dfd04acad0de20cac960433f26083,9,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Release OpenStack-Ansible Victoria

Change-Id: Iac1caf1d96b7ede9dfc57883438aab67a214c54c
"
openstack%2Fetcd3gw~master~Ib35c042f8aff8c2907c9b7f4097945e58858dacf,openstack/etcd3gw,master,,Ib35c042f8aff8c2907c9b7f4097945e58858dacf,remove unicode from code,ABANDONED,2021-01-07 03:31:16.000000000,2021-02-09 19:25:17.000000000,,17,17,0,769655,c3e169d805f93bac86b740a3cc4c1cb776a4592b,4,1,1,2,32921,Reason li,liyou01,"remove unicode from code

Change-Id: Ib35c042f8aff8c2907c9b7f4097945e58858dacf
"
openstack%2Fbifrost~master~I18b123044793fa0662328636517a75dbc8e95834,openstack/bifrost,master,inspect-fast-track,I18b123044793fa0662328636517a75dbc8e95834,Misplaced variable preventing fast-track after inspection,MERGED,2021-02-04 12:54:49.000000000,2021-02-09 19:16:32.000000000,2021-02-09 19:14:02.000000000,7,1,0,774080,73c3fd0eac6e4092fd9c0532101180ef78b99d08,12,3,1,2,10239,Dmitry Tantsur,dtantsur,"Misplaced variable preventing fast-track after inspection

Change-Id: I18b123044793fa0662328636517a75dbc8e95834
"
openstack%2Fansible-role-uwsgi~stable%2Ftrain~I000b8a4ae4c8ee0c9ce44e520e0c74cdd0f4afea,openstack/ansible-role-uwsgi,stable/train,,I000b8a4ae4c8ee0c9ce44e520e0c74cdd0f4afea,Run uwsgi tasks only when uwsgi_services defined,MERGED,2021-02-09 10:17:42.000000000,2021-02-09 19:13:43.000000000,2021-02-09 19:11:41.000000000,4,0,0,774494,546253abdd967c9d8abddcd1b7cb2310f6ed6a58,9,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Run uwsgi tasks only when uwsgi_services defined

Change-Id: I000b8a4ae4c8ee0c9ce44e520e0c74cdd0f4afea
(cherry picked from commit b2a0db4b47ae2ee704be5695f249b952c51eb194)
"
openstack%2Fsushy~stable%2Fvictoria~I16eabdce9bb6e9303df8fb3baa48e490f4afa966,openstack/sushy,stable/victoria,,I16eabdce9bb6e9303df8fb3baa48e490f4afa966,Fix deprecation on collections.MutableMapping,MERGED,2021-02-09 16:21:03.000000000,2021-02-09 19:13:04.000000000,2021-02-09 19:10:19.000000000,1,1,0,774662,8e28a4ad8ba220fb2b09792afadb00b50ecb58c9,9,3,1,1,10239,Dmitry Tantsur,dtantsur,"Fix deprecation on collections.MutableMapping

Python 3.10 removes the deprecated aliases to collections abstract
base clases [1].

[1] - https://bugs.python.org/issue37324

Change-Id: I16eabdce9bb6e9303df8fb3baa48e490f4afa966
(cherry picked from commit d9004ec7d541d139f94bdb6e1be86f7492bba1fa)
"
openstack%2Fmonasca-thresh~master~Iac161d730580f5a887a3ce87fb33beba1a11090b,openstack/monasca-thresh,master,fix-zuul-publish,Iac161d730580f5a887a3ce87fb33beba1a11090b,Fix zuul publish docker image job,MERGED,2021-02-08 11:21:33.000000000,2021-02-09 18:55:04.000000000,2021-02-09 18:55:04.000000000,1,1,0,774436,b50c1d1a1f9a61cd62adc679763d78dbcb244acf,7,3,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command

Change-Id: Iac161d730580f5a887a3ce87fb33beba1a11090b
"
openstack%2Fmanila-specs~master~I0c0119595019d6c2f1655f45649cb55925351fe5,openstack/manila-specs,master,768516,I0c0119595019d6c2f1655f45649cb55925351fe5,Add Manila Support on OpenStack SDK,MERGED,2020-12-25 17:54:28.000000000,2021-02-09 18:51:27.000000000,2021-02-09 18:48:51.000000000,182,0,8,768516,181b1c400ebced6d51517bb38cc73b7612943c85,17,5,2,1,32594,Ashley Rodriguez,ashrod98,"Add Manila Support on OpenStack SDK

This is the spec for adding Manila supprt on the OpenStackSDK.

Change-Id: I0c0119595019d6c2f1655f45649cb55925351fe5
"
openstack%2Fcliff~master~I4803051a6dd05c143a15923254af97e32cd39693,openstack/cliff,master,sort-dir,I4803051a6dd05c143a15923254af97e32cd39693,Handle null values when sorting,MERGED,2021-01-28 11:03:01.000000000,2021-02-09 18:48:10.000000000,2021-02-09 18:35:31.000000000,80,7,5,772854,4f45f9a30e657265c5b5ac119af3aaa0e5ec7184,17,3,3,3,15334,Stephen Finucane,sfinucan,"Handle null values when sorting

One unfortunate change (or fortunate, depending on how you look at
types) in Python 3 is the inability to sort iterables of different
types. For example:

  >>> x = ['foo', 'bar', None, 'qux']
  >>> sorted(x)
  Traceback (most recent call last):
    File ""<stdin>"", line 1, in <module>
  TypeError: '<' not supported between instances of 'NoneType' and 'str'

Fortunately, we can take advantage of the fact that by providing a
function for the 'key' that returns a tuple, we can sort on multiple
conditions. In this case, ""when the first key returns that two elements
are equal, the second key is used to compare."" [1] We can use this to
first separate the values by whether they are None or not, punting those
that are not to the end, before sorting the non-None values normally.
For example:

  >>> x = ['foo', 'bar', None, 'qux']
  >>> sorted(x, key=lambda k: (k is None, k))
  ['bar', 'foo', 'qux', None]

We were already using this feature implicitly through our use of
'operator.itemgetter(*indexes)', which will return a tuple if there is
more than one item in 'indexes', and now we simply make that explicit,
fixing the case where we're attempting to compare a comparable type
with None. For all other cases, such as comparing a value that isn't
comparable, we surround things with a try-catch and a debug logging
statement to allow things to continue.

Note that we could optimize what we're done further by building a key
value that covers all indexes, rather than using a for loop to do so.
For example:

  >>> x = [('baz', 2), (None, 0), ('bar', 3), ('baz', 4), ('qux', 0)]
  >>> sorted(x, key=lambda k: list(
  ...     itertools.chain((k[i] is None, k[i]) for i in (0, 1)))
  ... )
  [('bar', 3), ('baz', 2), ('baz', 4), ('qux', 0), (None, 0)]

However, this would be harder to grok and would also mean we're unable
to handle exceptions on a single column where e.g. there are mixed types
or types that are not comparable while still sorting on the other
columns. Perhaps this would be desirable for some users, but sorting on
a best-effort basis does seem wiser and generally more user friendly.
Anyone that wants to sort on such columns should ensure their types are
comparable or implement their own sorting implementation.

[1] https://www.kite.com/python/answers/how-to-sort-by-two-keys-in-python

Change-Id: I4803051a6dd05c143a15923254af97e32cd39693
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Story: 2008456
Task: 41466
"
openstack%2Fnova~master~I1c2e87f4ff4f7115611f33ee7ddb4820309ef104,openstack/nova,master,bp/compact-db-migrations-wallaby,I1c2e87f4ff4f7115611f33ee7ddb4820309ef104,db: Compact Pike database migrations,MERGED,2020-10-21 15:52:33.000000000,2021-02-09 18:45:59.000000000,2021-02-09 18:34:15.000000000,8,415,0,759087,7674fc6cd8b1467a345cb61ca8a0db337a8b4198,89,14,5,18,15334,Stephen Finucane,sfinucan,"db: Compact Pike database migrations

Compact Pike database migrations into a single migration, '362_pike.py'.

Users will now need to update to Pike before updating to Queens or
later.

Specific changes include:

- Add 'attachment_id' column to 'block_device_mapping' table (358)
- Add 'uuid' column to 'services' table (359)
- Add index covering 'uuid' column of 'services' table (359)
- Add 'mapped' column to 'compute_nodes' table (360)
- Add index covering 'uuid' column of 'compute_nodes' table (361)
- Add 'uuid' column to 'pci_devices' table (362)

Change-Id: I1c2e87f4ff4f7115611f33ee7ddb4820309ef104
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcliff~master~Ib4784d9da96d05a54acdfbb3744af0cb053c0c6c,openstack/cliff,master,sort-dir,Ib4784d9da96d05a54acdfbb3744af0cb053c0c6c,Remove lower-constraints,MERGED,2021-01-28 11:03:01.000000000,2021-02-09 18:45:47.000000000,2021-02-09 18:34:55.000000000,10,50,0,772853,b04cba81ac966717472ae714b6c65c9cc7535978,8,3,1,3,15334,Stephen Finucane,sfinucan,"Remove lower-constraints

This is not part of the PTI and is currently broken. While discussions
are ongoing about removing it from every project, there's a definite
lean towards doing so. Let's do just that. We can re-add in the future
if necessary.

While we're here, we fix some indentation in 'tox.ini'.

Change-Id: Ib4784d9da96d05a54acdfbb3744af0cb053c0c6c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fcliff~master~I27a3689c2e22452c082764eed8d26cd8f3bbcd13,openstack/cliff,master,sort-dir,I27a3689c2e22452c082764eed8d26cd8f3bbcd13,gitignore: Ignore reno artefacts,MERGED,2020-12-10 11:00:58.000000000,2021-02-09 18:35:18.000000000,2021-02-09 18:35:18.000000000,4,7,0,766451,36134739396213fa11d1c4ca1e9cacb8f40215eb,10,3,3,1,15334,Stephen Finucane,sfinucan,"gitignore: Ignore reno artefacts

Change-Id: I27a3689c2e22452c082764eed8d26cd8f3bbcd13
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fcliff~master~I040fccd1714dccd7a87aaf10d397ad3a3ef476d3,openstack/cliff,master,,I040fccd1714dccd7a87aaf10d397ad3a3ef476d3,Remove unicode from code,MERGED,2021-01-03 07:38:19.000000000,2021-02-09 18:35:01.000000000,2021-02-09 18:35:01.000000000,18,18,0,768979,0d18e8812cfead09c0ce1dfbc213c4200a5ee230,12,2,2,6,30092,Xuan Yandong,xuanyandong,"Remove unicode from code

Change-Id: I040fccd1714dccd7a87aaf10d397ad3a3ef476d3
"
openstack%2Ftripleo-ansible~master~I3650a68640a0ec846be24014ebc6a71110b2f6f7,openstack/tripleo-ansible,master,bug/1915101,I3650a68640a0ec846be24014ebc6a71110b2f6f7,Fix molecule jobs after release of cryptography3.4,MERGED,2021-02-09 12:52:30.000000000,2021-02-09 18:28:20.000000000,2021-02-09 18:28:20.000000000,6,0,1,774637,f8a286cf3014c05105075d033178172ac030dcb6,12,9,2,1,29775,Sandeep Yadav,sandeepyadav93,"Fix molecule jobs after release of cryptography3.4

Molecule jobs[0] fails with below error:-

ModuleNotFoundError: No module named 'setuptools_rust'

This error appeared following the release of cryptography 3.4, which
now includes Rust code. It can be installed without Rust using a
Python wheel, but only with more recent pip than version 9.0.3
available as RPM on CentOS 8.

The cryptography bug report [1] recommends pip>=19.1.1.

[0] https://e99635be2c7386b5beda-3dea60a35fb0d38e41c535f13b48e895.ssl.cf1.rackcdn.com/773531/1/gate/tripleo-ansible-centos-8-molecule-tripleo_network_config/b1284cd/job-output.txt
[1] https://github.com/pyca/cryptography/issues/5753
Related-Bug: #1915101

Change-Id: I3650a68640a0ec846be24014ebc6a71110b2f6f7
"
openstack%2Fmonasca-common~master~Iea1d4fa42159984efff262d459292e5c6f941504,openstack/monasca-common,master,,Iea1d4fa42159984efff262d459292e5c6f941504,Bump librdkafka to 1.6.0,MERGED,2021-02-09 15:48:43.000000000,2021-02-09 18:23:40.000000000,2021-02-09 18:23:40.000000000,3,3,0,774690,f59a2f296ea9d2ff255de75ff39f7c807b755481,8,2,1,1,28062,Martin Chacon Piza,martinchacon,"Bump librdkafka to 1.6.0

Package confluent-kafka-python v1.6.0 requires librdkafka >= 1.6.0

Change-Id: Iea1d4fa42159984efff262d459292e5c6f941504
"
openstack%2Frequirements~master~I617e3b73d93792ce23a3c2427db45764dac85498,openstack/requirements,master,block-jquery-migrate-3,I617e3b73d93792ce23a3c2427db45764dac85498,Revert update constraint for XStatic-JQuery-Migrate to new release 3.3.2.1,MERGED,2021-02-03 00:35:53.000000000,2021-02-09 18:23:02.000000000,2021-02-09 18:20:06.000000000,5,2,4,773823,dff4253a1f87d734117835aa0b17a2026f5ad9f2,25,8,4,2,841,Akihiro Motoki,amotoki,"Revert update constraint for XStatic-JQuery-Migrate to new release 3.3.2.1

This patch revert I601a59260daeb925fbd23e8c4e006df733ec6528 commit.
After updating XStatic-JQuery-Migrate to 3.3.2.1 horizon integration
tests start failing. As discussed in yesterday's horizon weekly
meeting[1] horizon team decided to use the older version of
xstatic-jquery-migrate until we fixed the integration tests with the
new xstatic-jquery-migrate version.

It also raise cap on XStatic-JQuery-Migrate version.

[1] http://eavesdrop.openstack.org/irclogs/%23openstack-meeting-alt/%23openstack-meeting-alt.2021-02-03.log.html#t2021-02-03T15:43:44

Change-Id: I617e3b73d93792ce23a3c2427db45764dac85498
"
openstack%2Fheat~master~Ie271e208027a4c28416b41c2445591aafc7363e9,openstack/heat,master,secure-rbac,Ie271e208027a4c28416b41c2445591aafc7363e9,WIP do not merge! removed all the to be deprecated policies and fixed the enforcement to see how the gates behave,NEW,2021-01-25 08:40:44.000000000,2021-02-09 18:13:52.000000000,,203,619,47,772258,f78598d01c3af48c81aa6b447273789a35802fa2,17,1,4,19,15895,Adriano Petrich,apetrich,"WIP do not merge! removed all the to be deprecated policies
and fixed the enforcement to see how the gates behave

Things are broken but that's fine.

Change-Id: Ie271e208027a4c28416b41c2445591aafc7363e9
"
openstack%2Foslo.messaging~master~Id5cddbefbe24ef100f1cc522f44430df77d217cb,openstack/oslo.messaging,master,bug/1905965,Id5cddbefbe24ef100f1cc522f44430df77d217cb,Correctly handle missing RabbitMQ queues,MERGED,2021-01-18 15:12:15.000000000,2021-02-09 18:04:14.000000000,2021-02-09 18:01:29.000000000,60,23,22,771232,4937949dffecdf8863a7876e5a6b0b18e811c3ac,54,5,17,4,28522,Hervé Beraud,hberaud,"Correctly handle missing RabbitMQ queues

Currently, setting the '[oslo_messaging] direct_mandatory_flag' config
option to 'True' (the default) will result in a 'MessageUndeliverable'
exception being raised when sending a reply if a RabbitMQ queue is
missing [1]. It was the responsibility of the application to handle
this exception, however, many applications are not doing so. This has
resulted in a number of bug reports.

Start handling this error condition, using a retry loop to attempt to
resend the message and work around any temporary glitches. Since
attempting to send a reply will will no longer raise an exception,
there is little benefit in retaining the '[oslo_messaging]
direct_mandatory_flag' config option: users setting this to False will
simply not benefit from the retry logic and improved logging added
here. This option is already deprecated though and will be fully
removed in a future release.

[1] https://www.rabbitmq.com/channels.html

Change-Id: Id5cddbefbe24ef100f1cc522f44430df77d217cb
Closes-Bug: #1905965
"
openstack%2Fkuryr-kubernetes~master~Ic13393c841f04e6748f3fe716656cb5a8b3dcd71,openstack/kuryr-kubernetes,master,np-ns-selectors,Ic13393c841f04e6748f3fe716656cb5a8b3dcd71,Make parse_network_policy_rules private.,MERGED,2021-02-08 12:06:02.000000000,2021-02-09 17:58:16.000000000,2021-02-09 17:56:14.000000000,90,90,0,774441,2611dc3b3ab034dc850222e968930e0ce0f92861,8,3,1,2,13692,Roman Dobosz,gryf,"Make parse_network_policy_rules private.

Network policy parse_network_policy_rules is used only within the
NetworkPolicyDriver class. Let's make it private, as it should be.

Also, changed layout of the code a bit, just to easily distinguish
between helper methods from signature of the class.

Change-Id: Ic13393c841f04e6748f3fe716656cb5a8b3dcd71
"
openstack%2Fironic-python-agent~stable%2Fvictoria~I155a47242b526b8f243a5e94bc14da8431f1ab91,openstack/ironic-python-agent,stable/victoria,fix_unit_tests-stable/victoria,I155a47242b526b8f243a5e94bc14da8431f1ab91,Mock tests to return bios boot mode,MERGED,2021-02-09 14:49:58.000000000,2021-02-09 17:46:21.000000000,2021-02-09 17:43:32.000000000,3,0,0,774660,a820851fa800915b7bf948d9bc6ee4411e1f98c1,7,2,1,1,23851,Riccardo Pittau,elfosardo,"Mock tests to return bios boot mode

When running IPA unit tests on machines configured
with UEFI and GPT partition table, some tests will
fail.

Change-Id: I155a47242b526b8f243a5e94bc14da8431f1ab91
(cherry picked from commit d2495a092c2720eb4d7e795c9c03a9b217ab471e)
"
openstack%2Fopenstack-ansible-lxc_container_create~master~I631868db1d460bfbed88b74534b39855279a5384,openstack/openstack-ansible-lxc_container_create,master,,I631868db1d460bfbed88b74534b39855279a5384,Openstack-Ansible Install Fails with OVS,ABANDONED,2017-11-07 05:50:27.000000000,2021-02-09 17:34:07.000000000,,10,3,7,518230,ff6d9f9632e0b5123a108eb11510693312104d33,21,6,2,1,26445,Periyasamy Palanisamy,pperiyasamy,"Openstack-Ansible Install Fails with OVS

The initial wiring is required for veth interfaces with OVS bridge,
otherwise installation fails in creating provider networks.

Closes-bug: 1708360

Change-Id: I631868db1d460bfbed88b74534b39855279a5384
Signed-off-by: Periyasamy Palanisamy <periyasamy.palanisamy@ericsson.com>
"
openstack%2Fopenstack-ansible~master~Ida93dd2fa5724f61f266fef8be2618cc43989499,openstack/openstack-ansible,master,feature-change-haproxy-galera-backend,Ida93dd2fa5724f61f266fef8be2618cc43989499,Change haproxy galera backend to balance between all galera nodes,ABANDONED,2020-07-09 20:08:05.000000000,2021-02-09 17:29:36.000000000,,1,2,0,740355,c5e9f87eba9de73d573ab674132decdda6e28d7b,7,3,1,1,32176,Ryan Drew,learnitall,"Change haproxy galera backend to balance between all galera nodes

In the current HAProxy backend configuration for galera enables a backup
model in which only the first galera node in the `galera_all` group is
used and all other nodes in the group are enabled as backups in case the
first one fails.

I propose we change the HAProxy configuration to allow for load
balancing between all galera nodes by default, since galera allows for
read/write operations on any node in the cluster anyhow. This will
enhance performance of database operations and increase the number of
simultaneous connections to the galera cluster without having to modify
mariadb's configuration.

If needed, we could instead add a snippet into the documentation
describing potential ways to load balance across a galera cluster
depending on the use case, and use this change as an example.

Change-Id: Ida93dd2fa5724f61f266fef8be2618cc43989499
"
openstack%2Fvalidations-common~master~Ice9a3ddbced8562ab4c71d0331ace53b83f4fc93,openstack/validations-common,master,coverage,Ice9a3ddbced8562ab4c71d0331ace53b83f4fc93,Make the measuring code coverage test working,MERGED,2021-02-08 11:51:29.000000000,2021-02-09 17:25:35.000000000,2021-02-09 17:25:35.000000000,30,13,1,774440,4c610b35b9fd5bd20f98b02414c633bf67b38f66,13,5,2,5,11491,Gael Chamoulaud,gchamoul,"Make the measuring code coverage test working

Change-Id: Ice9a3ddbced8562ab4c71d0331ace53b83f4fc93
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
"
openstack%2Ftripleo-ansible~master~I02541adfec2fa604e728aece343e7f0722b84ec6,openstack/tripleo-ansible,master,env_merging,I02541adfec2fa604e728aece343e7f0722b84ec6,Write passwords to env file when rotating,MERGED,2021-02-05 03:06:36.000000000,2021-02-09 17:22:40.000000000,2021-02-09 17:22:40.000000000,22,2,8,774187,6b19ea5e3e9733f72675544c66a346bb914ef695,24,6,3,1,8833,Rabi Mishra,rabi,"Write passwords to env file when rotating

Now that we've removed the plan, we should generate
an environmnent file with rotated passwords which
should be used in the next overcloud deploy.

When we move to ephemeral heat stack this would
update wherever initial passwords are stored.

Change-Id: I02541adfec2fa604e728aece343e7f0722b84ec6
"
openstack%2Fcharm-mysql-innodb-cluster~master~I914e91f632c4670282febe24bc792429dfa28863,openstack/charm-mysql-innodb-cluster,master,bug/1915016,I914e91f632c4670282febe24bc792429dfa28863,Disable scale-in/scale-out tests as unstable in gate,MERGED,2021-02-08 12:55:46.000000000,2021-02-09 17:22:02.000000000,2021-02-09 17:22:02.000000000,3,2,1,774443,19aa62006941cc49699b908af585e1f5aaf033aa,11,4,1,1,20870,Alex Kavanagh,ajkavanagh,"Disable scale-in/scale-out tests as unstable in gate

The gate is unstable as these tests sometimes pass and sometimes don't.
The linked bug will be used to track when to bring these tests back into
gate.

Change-Id: I914e91f632c4670282febe24bc792429dfa28863
Related-Bug: #1915016
"
openstack%2Foslo.policy~master~Ic54b229a4bf1325adac2cab747bcd19b9f8ecb01,openstack/oslo.policy,master,bug/1914095,Ic54b229a4bf1325adac2cab747bcd19b9f8ecb01,Add nova/neutron project unit/functional tests job in gate,MERGED,2021-02-03 16:55:19.000000000,2021-02-09 17:14:10.000000000,2021-02-09 16:57:54.000000000,46,0,4,773947,d57dd1a7c377c94d2a5880ef271936d642cb06a5,33,5,7,1,8556,Ghanshyam,ghanshyam,"Add nova/neutron project unit/functional tests job in gate

We do not test the olso policy master code changes with
services unit or functional tests. Tempest job initialize
policy once and run with default rules so it will not be able
to catch all the scenario what unit or functional job does.
They initialize or override policy in parallel and sometime
that help to find the issue like
- https://bugs.launchpad.net/oslo.policy/+bug/1914095

Also this will help us to avoid any new breaking release which
is detected at the time when requirement u-c are updated
Example: https://review.opendev.org/c/openstack/requirements/+/773779

Currently this commit adds only nova & neutron testing but we can add
more service testing later.

Change-Id: Ic54b229a4bf1325adac2cab747bcd19b9f8ecb01
"
openstack%2Fdevstack~stable%2Frocky~If97e5b709e4704d29692fddd25b818990bebec1e,openstack/devstack,stable/rocky,,If97e5b709e4704d29692fddd25b818990bebec1e,DNM: testing tempest new run-tempest,ABANDONED,2021-01-18 17:46:12.000000000,2021-02-09 17:11:01.000000000,,1,0,0,771259,6f06af620ed7fabf9033365f5d67ae2c244218c2,11,2,1,1,8556,Ghanshyam,ghanshyam,"DNM: testing tempest new run-tempest

Depends-On: https://review.opendev.org/c/openstack/tempest/+/768583
Change-Id: If97e5b709e4704d29692fddd25b818990bebec1e
"
openstack%2Fopenstack-ansible-tests~master~I351b3f2ae458abc14a899768a04999ca10c86ea4,openstack/openstack-ansible-tests,master,,I351b3f2ae458abc14a899768a04999ca10c86ea4,Unpin virtualenv version,MERGED,2021-02-09 14:04:29.000000000,2021-02-09 17:04:16.000000000,2021-02-09 16:56:10.000000000,1,1,0,774651,7fb5312be3190306eaebf92b30c339c486c074cd,8,3,1,1,25023,Jonathan Rosser,jrosser,"Unpin virtualenv version

This is required to allow the latest cryptography wheel to be
installed from pypi

Change-Id: I351b3f2ae458abc14a899768a04999ca10c86ea4
"
openstack%2Fkolla~master~Ib61768465a58e70af5ca43de80fbfb5099f51cac,openstack/kolla,master,,Ib61768465a58e70af5ca43de80fbfb5099f51cac,doc: add wu.chunyang to list of core developers,MERGED,2021-02-09 09:34:06.000000000,2021-02-09 16:31:52.000000000,2021-02-09 16:29:42.000000000,3,0,0,774612,383b1aef6f4ddd32f83cd700642e7c4769802e0d,12,5,1,1,24072,Marcin Juszkiewicz,hrw,"doc: add wu.chunyang to list of core developers

Change-Id: Ib61768465a58e70af5ca43de80fbfb5099f51cac
"
openstack%2Fneutron~stable%2Fvictoria~Ib1a95dd41d25f39f3378a6728d752a6589b9b61c,openstack/neutron,stable/victoria,bug/1912596-stable/victoria,Ib1a95dd41d25f39f3378a6728d752a6589b9b61c,Fix incorrect exception catch when update floating ip port forwarding,MERGED,2021-02-09 04:52:41.000000000,2021-02-09 16:16:56.000000000,2021-02-09 16:13:51.000000000,60,1,0,774487,d2bad8cc18247d39403ddb826b4ff6ae7808cc11,9,3,1,2,28329,yangjianfeng,yangjianfeng,"Fix incorrect exception catch when update floating ip port forwarding

Closes-Bug: #1912596
Change-Id: Ib1a95dd41d25f39f3378a6728d752a6589b9b61c
(cherry picked from commit e9e4395d578e40bb59272b409c7ca3617ec1e6e3)
"
openstack%2Fmagnum~master~I5581650b15ce94e31a44de09f82aef1790013b54,openstack/magnum,master,monitoring,I5581650b15ce94e31a44de09f82aef1790013b54,4. Update cluster monitoring documentation,MERGED,2020-10-06 09:57:45.000000000,2021-02-09 16:13:35.000000000,2021-02-09 15:55:09.000000000,185,142,0,756238,a3d8b4fe8ddc4e12dbd2e5bdf946effc0eab55c7,20,4,7,2,29425,Diogo Guerra,dioguerra,"4. Update cluster monitoring documentation

Change the User Documentation to introduce the new way of installing
the prometheus monitoring suite by using label monitoring_enabled.
Give a broad overview of the existent monitoring features available
out-of-the-box and which components exist and what they do.
Explain which FAQ can be solved with already existent integrations
by manipulating monitoring specific labels.

task: 39627
story: 2006765

Depends-On: Ie0e7000e0d94b2037f2c398fa67a2a2b7e256bc3
Change-Id: I5581650b15ce94e31a44de09f82aef1790013b54
Signed-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@gmail.com>
"
openstack%2Fbifrost~stable%2Fvictoria~I034bcd24031b5881ae49b8bc03bed6654cd1d335,openstack/bifrost,stable/victoria,crypto_pip_workaround-stable/victoria,I034bcd24031b5881ae49b8bc03bed6654cd1d335,Install at least pip version 19.1.1,MERGED,2021-02-09 13:59:57.000000000,2021-02-09 16:13:23.000000000,2021-02-09 15:58:16.000000000,12,6,0,774659,1855fbdb9fa2d5e0a3cf4cbd0d254c52481d8c20,8,2,1,1,23851,Riccardo Pittau,elfosardo,"Install at least pip version 19.1.1

This is to avoid a known issue with a recent version of cryptography [1]

[1] https://github.com/pyca/cryptography/issues/5771

Change-Id: I034bcd24031b5881ae49b8bc03bed6654cd1d335
(cherry picked from commit 5360d0e869daaa9bdb6ab0eeedfd1600453bfd4d)
"
openstack%2Fsushy~master~I16eabdce9bb6e9303df8fb3baa48e490f4afa966,openstack/sushy,master,,I16eabdce9bb6e9303df8fb3baa48e490f4afa966,Fix deprecation on collections.MutableMapping,MERGED,2021-02-09 08:27:09.000000000,2021-02-09 16:13:00.000000000,2021-02-09 15:58:19.000000000,1,1,0,774598,d9004ec7d541d139f94bdb6e1be86f7492bba1fa,9,2,1,1,13294,Javier Peña,jpena,"Fix deprecation on collections.MutableMapping

Python 3.10 removes the deprecated aliases to collections abstract
base clases [1].

[1] - https://bugs.python.org/issue37324

Change-Id: I16eabdce9bb6e9303df8fb3baa48e490f4afa966
"
openstack%2Fkolla-ansible~master~I12185b48dd98318ed9dce7b8e64633f4d73fd41c,openstack/kolla-ansible,master,bp/ansible-zaqar,I12185b48dd98318ed9dce7b8e64633f4d73fd41c,Add Ansible Role Zaqar,ABANDONED,2016-12-06 23:21:33.000000000,2021-02-09 16:12:12.000000000,,612,8,26,407760,b5993d6bacbadecabc2a63ae43fafea1a8f406a6,120,17,38,34,19316,Eduardo Gonzalez,egonzalez90,"Add Ansible Role Zaqar

Zaqar is a messaging queue service in OpenStack.
This PS add Ansible role and related configuration
in order to make it work with kolla-ansible.

* Configure MongoDB as storage (without authentication).
* Configure zaqar-server using websocket and
wsgi as queue service backend.

Co-Authored-By: Kien Nguyen <kiennt65@viettel.com.vn>
Co-Authored-By: Ha Manh Dong <donghm@vn.fujitsu.com>
Implements: blueprint ansible-zaqar
Depends-On: https://review.openstack.org/#/c/610929/
Change-Id: I12185b48dd98318ed9dce7b8e64633f4d73fd41c
"
openstack%2Fmagnum~master~I42117837e8e3cd03f3cb723df4d73692ead0d169,openstack/magnum,master,monitoring,I42117837e8e3cd03f3cb723df4d73692ead0d169,1. Configurable prometheus monitoring persistent storage,MERGED,2020-04-21 10:58:08.000000000,2021-02-09 16:10:59.000000000,2021-02-09 15:50:51.000000000,201,11,9,721572,37497ccf5b3b92b6b5186f46fb8a059360824318,34,4,9,10,29425,Diogo Guerra,dioguerra,"1. Configurable prometheus monitoring persistent storage

* Add metrics_retention_days magnum label allowing user to specify
prometheus server scraped metrics retention days (default: 14)
* Add metrics_retention_size magnum label allowing user to specify
prometheus server metrics storage maximum size in Gib (default: 14)
* Add metrics_scrape_interval allowing user to specify prometheus
scrape frequency in seconds (default: 30)
* Add metrics_storage_class_name allowing user to specify the
storageClass to use as external retention for pod fail-over data
persistency

task: 39509
story: 2006765

Change-Id: I42117837e8e3cd03f3cb723df4d73692ead0d169
Signed-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>
"
openstack%2Fopenstack-helm~master~I0ae1ab0a2455e1ab1102b7aaf44dccd8bfa8f943,openstack/openstack-helm,master,,I0ae1ab0a2455e1ab1102b7aaf44dccd8bfa8f943,[WIP] Enable HttpOnly and Secure flag in horizon,ABANDONED,2021-02-04 12:28:42.000000000,2021-02-09 16:02:01.000000000,,4,4,1,774077,ecc5a06aca18b8c41bd91c55f4e52d0ef93655ae,19,3,6,2,31479,Gayathri Devi Kathiri,gayathri,"[WIP] Enable HttpOnly and Secure flag in horizon

The HTTP only flag prevents the cookie from being accessed
by client side scipt. The Secure flag prevents the cookie
from being transmitted over an unencrypted channel.

Change-Id: I0ae1ab0a2455e1ab1102b7aaf44dccd8bfa8f943
"
openstack%2Ftripleo-ci~master~I7f4f3f0f90187ec86534cdc61b8c88b079552810,openstack/tripleo-ci,master,bug/1915101,I7f4f3f0f90187ec86534cdc61b8c88b079552810,Fix image build after release of cryptography 3.4,MERGED,2021-02-09 09:11:26.000000000,2021-02-09 15:57:58.000000000,2021-02-09 15:57:58.000000000,6,0,4,774603,632143ca84ded38467995f2ee994c8691c02cb51,18,5,3,1,29775,Sandeep Yadav,sandeepyadav93,"Fix image build after release of cryptography 3.4

Image build job fails with:
ModuleNotFoundError: No module named 'setuptools_rust'

This error appeared following the release of cryptography 3.4, which now
includes Rust code. It can be installed without Rust using a Python
wheel, but only with more recent pip than version 9.0.3 available as RPM
on CentOS 8. The cryptography bug report [1] recommends pip>=19.1.1.

[1] https://github.com/pyca/cryptography/issues/5753
Closes-Bug: #1915101
Change-Id: I7f4f3f0f90187ec86534cdc61b8c88b079552810
"
openstack%2Ftripleo-validations~stable%2Ftrain~Ic91a3327852298b1452437a1cd3199c673d48c6c,openstack/tripleo-validations,stable/train,rhbz#1877688-train-bp,Ic91a3327852298b1452437a1cd3199c673d48c6c,Restore layout.yaml file,MERGED,2020-11-24 12:37:17.000000000,2021-02-09 15:57:50.000000000,2021-02-09 15:57:50.000000000,15,37,0,763969,2467f848408232ee798bd8a0856829b92e5235c6,26,6,4,2,11491,Gael Chamoulaud,gchamoul,"Restore layout.yaml file

Depends-On: https://review.rdoproject.org/r/#/c/31640/

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Ic91a3327852298b1452437a1cd3199c673d48c6c
"
openstack%2Ftripleo-heat-templates~master~Ib58b6152bc98002c048a4ae483454813c8298df9,openstack/tripleo-heat-templates,master,,Ib58b6152bc98002c048a4ae483454813c8298df9,Make DnfStreams support RoleParameters,MERGED,2021-02-08 20:23:49.000000000,2021-02-09 15:57:05.000000000,2021-02-09 15:57:05.000000000,15,2,1,774537,69357c3a6449b769b53e1b3a2ada75414d29d91c,9,6,1,1,6796,Giulio Fidente,gfidente,"Make DnfStreams support RoleParameters

This is useful in case the list of modules to enable is different for
the various roles; for example CephStorage vs Compute

Change-Id: Ib58b6152bc98002c048a4ae483454813c8298df9
Closes-Bug: #1915067
"
openstack%2Fmagnum~master~Ie0e7000e0d94b2037f2c398fa67a2a2b7e256bc3,openstack/magnum,master,monitoring,Ie0e7000e0d94b2037f2c398fa67a2a2b7e256bc3,3. Configure monitoring apps path based endpoints,MERGED,2020-04-21 12:17:33.000000000,2021-02-09 15:54:09.000000000,2021-02-09 15:54:09.000000000,266,2,1,721592,ea64468ab31b493191e9419f10542810a9ba7b4d,28,5,7,10,29425,Diogo Guerra,dioguerra,"3. Configure monitoring apps path based endpoints

* Add monitoring_ingress_enabled magnum label to set up ingress with
path based routing for all the configured services
{alertmanager,grafana,prometheus}. When using this,
cluster_root_domain_name magnum label must be used to setup base path
where this services are available.
* Add cluster_basic_auth_secret magnum label to configure basic auth
on unprotected services {alertmanager and  prometheus}. This is only
in effect when app access is routed by ingress.
* Set services logFormat to json to enable easier machine log parsing.

task: 39477
story: 2006765

Depends-On: Ieb90605182626869528349a7fdeed65061914bcb
Change-Id: Ie0e7000e0d94b2037f2c398fa67a2a2b7e256bc3
Signed-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>
"
openstack%2Fmagnum~master~Ieb90605182626869528349a7fdeed65061914bcb,openstack/magnum,master,monitoring,Ieb90605182626869528349a7fdeed65061914bcb,2. Add persistency for grafana dashboards,MERGED,2020-04-23 16:09:32.000000000,2021-02-09 15:51:30.000000000,2021-02-09 15:51:30.000000000,21,0,2,722396,aec5d469bea83312a4886f88603945407a7f166e,18,4,5,3,29425,Diogo Guerra,dioguerra,"2. Add persistency for grafana dashboards

When label monitoring_storage_class_name is specified
dashboards altered using the grafana UI are now
persisted if the pod is terminated.
It is still recommended that the user utilizes a
kubernetes configMap to persist the dashboard.

task: 39514
story: 2006765

Depends-On: I42117837e8e3cd03f3cb723df4d73692ead0d169
Change-Id: Ieb90605182626869528349a7fdeed65061914bcb
Signed-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>
"
openstack%2Foslo.metrics~master~I9ed133543ae6846256c1ea81602ca864f3847dec,openstack/oslo.metrics,master,fix_missing_labels,I9ed133543ae6846256c1ea81602ca864f3847dec,"Add timeout, method to RPC Client Label",MERGED,2021-02-09 08:38:56.000000000,2021-02-09 15:46:17.000000000,2021-02-09 15:42:31.000000000,4,2,0,774600,ef4a4e3b24abbbfdc56b70a29a162fb1f92507c5,11,2,1,2,32523,Ching Kuo,genekuo,"Add timeout, method to RPC Client Label

We are missing timeout and method in label definition for rpc client
this will cause message router to failed to parse messages as there are
unexpected labels sent from oslo.messaging.

This commit added timeout and method to rpc client labels to fix the
issue.

Change-Id: I9ed133543ae6846256c1ea81602ca864f3847dec
"
openstack%2Ftripleo-common~master~Ifee9d90f30c4ad4a401149b979f220d8028d2643,openstack/tripleo-common,master,bgpsupport,Ifee9d90f30c4ad4a401149b979f220d8028d2643,Add healthcheck to the frr image,MERGED,2021-02-05 08:11:01.000000000,2021-02-09 15:32:20.000000000,2021-02-09 15:29:24.000000000,1,0,0,774203,fcbda76d9ecc35eb297f81b5fe955b11927a40b1,13,5,2,1,20172,Michele Baldessari,michele,"Add healthcheck to the frr image

We could not do that in the initial review because CI runs its
tests on a non-rebuild rpm. See:
https://review.opendev.org/c/openstack/tripleo-common/+/763087/6..11

So we add it now that the initial image has already been added.

Change-Id: Ifee9d90f30c4ad4a401149b979f220d8028d2643
"
openstack%2Ftripleo-common~stable%2Fussuri~Iba06dc0f8afe9bc6a8820742c656dca5bf75df15,openstack/tripleo-common,stable/ussuri,,Iba06dc0f8afe9bc6a8820742c656dca5bf75df15,Fix placement endpoint check when endpoints are not set,MERGED,2021-02-08 15:04:42.000000000,2021-02-09 15:32:05.000000000,2021-02-09 15:29:08.000000000,5,4,0,774480,3de751d9cf3f725c6999ece01b081bc7c0210a8c,12,6,1,2,6816,Jesse Pretorius,jesse-pretorius,"Fix placement endpoint check when endpoints are not set

When endpoint are not set in the heat resource, None is returned, not an empty
dict. The check then raises a 'NoneType' is not iterable exception.

Fix the logic to handle None and update the unit test.

Closes-bug: #1913416
Change-Id: Iba06dc0f8afe9bc6a8820742c656dca5bf75df15
(cherry picked from commit 86d0e65a2905f46eca05cbf4070f97feaa392463)
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I9b5445cbccf34e31daf055d264975d0a1eba9aba,openstack/python-tripleoclient,stable/train,train,I9b5445cbccf34e31daf055d264975d0a1eba9aba,Dumping task key instead of tasks from validation_output,MERGED,2021-02-01 11:17:04.000000000,2021-02-09 15:32:04.000000000,2021-02-09 15:29:02.000000000,1,1,0,773368,e3ef26ab0ccf3d1a48cf6ef018ad134a3efcee00,13,6,1,1,11491,Gael Chamoulaud,gchamoul,"Dumping task key instead of tasks from validation_output

Change-Id: I9b5445cbccf34e31daf055d264975d0a1eba9aba
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit c8137f8f016e26043903f63b4ec794467b69eea5)
(cherry picked from commit f5af50f5dc5370c61eba073076dc8e786aacc741)
(cherry picked from commit 4886a706712181265bb621e183a1d48da1c7c46d)
"
openstack%2Fswift~master~I4f900f81b446449ee699b4183ed061209709cf6c,openstack/swift,master,,I4f900f81b446449ee699b4183ed061209709cf6c,Add unit test for relinker conf file option,ABANDONED,2021-02-08 16:04:28.000000000,2021-02-09 15:30:03.000000000,,65,0,1,774510,17368c6aa39d8f022d918f5ac29e4ab80e29eab4,4,1,1,1,7847,Alistair Coles,acoles,"Add unit test for relinker conf file option

Related-Change: I32f979f068592eaac39dcc6807b3114caeaaa814
Change-Id: I4f900f81b446449ee699b4183ed061209709cf6c
"
openstack%2Fswift~master~I3432730557c423974c8c8da90ef4178613ca7f58,openstack/swift,master,,I3432730557c423974c8c8da90ef4178613ca7f58,relinker: unit test drop_privileges,ABANDONED,2021-02-08 21:09:41.000000000,2021-02-09 15:29:36.000000000,,50,0,0,774541,4940d352dc4f6f6896c9144f5b4ff4e91645633a,3,1,1,1,7847,Alistair Coles,acoles,"relinker: unit test drop_privileges

Change-Id: I3432730557c423974c8c8da90ef4178613ca7f58
"
openstack%2Foslo.cache~master~I8c7f9291652a58b8291c3df90571501eed43bf18,openstack/oslo.cache,master,remove_lower_constaints,I8c7f9291652a58b8291c3df90571501eed43bf18,Dropping lower constraints testing.,MERGED,2021-02-05 12:17:14.000000000,2021-02-09 15:18:38.000000000,2021-02-09 15:15:52.000000000,0,71,0,774232,9606e8531d87cfcf0028f5a414212fcb704f598a,10,3,1,2,31245,Daniel Bengtsson,damani42,"Dropping lower constraints testing.

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints[1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I8c7f9291652a58b8291c3df90571501eed43bf18
"
openstack%2Fwhitebox-tempest-plugin~master~Ib3e66b249aca80756b1e2e02293598bbf68b2dbf,openstack/whitebox-tempest-plugin,master,tripleo-job,Ib3e66b249aca80756b1e2e02293598bbf68b2dbf,[Very WIP] TripleO CI job,ABANDONED,2020-01-30 20:40:48.000000000,2021-02-09 15:15:24.000000000,,90,1,12,705113,db900a3eeeb47548a025f5be3862ea430507d510,85,12,30,3,8864,Artom Lifshitz,artom,"[Very WIP] TripleO CI job

TripleO doesn't officially support multinode standalone, but I was
told it should still work.

The purpose of this patch is to use multinode standalone to deploy a
2-node environment to then run whitebox Tempest plugin tests.

Change-Id: Ib3e66b249aca80756b1e2e02293598bbf68b2dbf
"
openstack%2Fvalidations-common~master~I515883c33901253966179063942fde77c2840eac,openstack/validations-common,master,rhbz_1926238,I515883c33901253966179063942fde77c2840eac,Restrict execution to localhost only,MERGED,2021-02-09 05:57:11.000000000,2021-02-09 15:08:11.000000000,2021-02-09 15:08:11.000000000,1,1,2,774591,bcc35b8cc706474e79a15ae34d87abd7b22c34d1,12,7,1,1,11491,Gael Chamoulaud,gchamoul,"Restrict execution to localhost only

The check-latest-packages-version validation was running on all hosts
and was failing on Overcloud nodes because python*-tripleoclient is
only installed on the Undercloud.

This patch restricts the execution of this validation on localhost
only (i.e the Undercloud only).

Closes-Bug: #1915111

Change-Id: I515883c33901253966179063942fde77c2840eac
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
"
openstack%2Ftripleo-ci~master~Ic41ec2c29219c4a4f543177e10c9de21b12d2e9d,openstack/tripleo-ci,master,tripleo-ci-reduce,Ic41ec2c29219c4a4f543177e10c9de21b12d2e9d,remove periodic rocky job from upstream,MERGED,2021-02-08 20:19:37.000000000,2021-02-09 15:08:05.000000000,2021-02-09 15:08:05.000000000,0,3,0,774536,82f442f1a080985c467e5adc31e7533041007b85,9,4,1,1,9592,wes hayutin,weshayutin,"remove periodic rocky job from upstream

Change-Id: Ic41ec2c29219c4a4f543177e10c9de21b12d2e9d
"
openstack%2Ftripleo-ci~master~I5aea36a3fd4a0e00574d402eb6b8402a34c0315b,openstack/tripleo-ci,master,bug/1915101,I5aea36a3fd4a0e00574d402eb6b8402a34c0315b,[dnm] Test only - Fix image build jobs after release of cryptography 3.4,ABANDONED,2021-02-09 07:53:37.000000000,2021-02-09 15:02:49.000000000,,7,34,0,774597,9fa78d83cc15888f7c94888d8c0aacb676e42856,4,2,1,2,29775,Sandeep Yadav,sandeepyadav93,"[dnm] Test only - Fix image build jobs after release of cryptography 3.4

ModuleNotFoundError: No module named 'setuptools_rust'

This error appeared following the release of cryptography 3.4, which now
includes Rust code. It can be installed without Rust using a Python
wheel, but only with more recent pip than version 9.0.3 available as RPM
on CentOS 8. The cryptography bug report [1] recommends pip>=19.1.1.

[1] https://github.com/pyca/cryptography/issues/5753

Change-Id: I5aea36a3fd4a0e00574d402eb6b8402a34c0315b
"
openstack%2Fbarbican-tempest-plugin~master~I1f0d8be1b237da0c96e820c4b3dca09a83b29752,openstack/barbican-tempest-plugin,master,glance-multistore,I1f0d8be1b237da0c96e820c4b3dca09a83b29752,Copy created image into all available glance stores,MERGED,2020-11-20 00:33:50.000000000,2021-02-09 14:55:16.000000000,2021-02-09 14:55:16.000000000,21,0,12,763485,1972c4692428a61fafc7e1290632395d5824a4d8,22,3,5,1,15206,Marian Krcmarik,mvk,"Copy created image into all available glance stores

The openstack can have multiple glance stores deployed/available.
It may be a proper thing to copy newly created signed image into
all the available glance stores so barbican tempest tests can access
image regardless on which compute and storage backend they are ran on
and regardless on which glance store is local.
Additionally there is a nova-compute conf parameter[1] which can even
prevent instances being spawned from image which is not available in local
glance store.
The copy-image would happen only if import_image tempest cong option
is available which indicates glance multistore is available.

[1] https://review.opendev.org/#/c/657078/

Change-Id: I1f0d8be1b237da0c96e820c4b3dca09a83b29752
"
openstack%2Fcinder~stable%2Fussuri~I74c86ac5be06e5dc845dfc712b67f6213c232c43,openstack/cinder,stable/ussuri,ussuri,I74c86ac5be06e5dc845dfc712b67f6213c232c43,"[storwize] test commit, to be abandoned.",ABANDONED,2020-09-17 06:31:01.000000000,2021-02-09 14:45:56.000000000,,1,0,0,752374,02e78b076c971a58fa577884c6d8cdf320a8874d,43,17,1,1,32036,katari manoj kumar,katarimanojkumar,"[storwize] test commit, to be abandoned.

This change will be abandoned once IBM Storage CI
is run on Ussuri.

Change-Id: I74c86ac5be06e5dc845dfc712b67f6213c232c43
"
openstack%2Fcinder~stable%2Ftrain~Ia444b56de264874858b2ee940dfb2031b32905f1,openstack/cinder,stable/train,train,Ia444b56de264874858b2ee940dfb2031b32905f1,"[storwize] test commit, to be abandoned",ABANDONED,2020-09-20 06:33:33.000000000,2021-02-09 14:45:53.000000000,,1,0,0,752810,67031240ba3db18f22f1ea75ad24cda9f1b18648,23,13,1,1,32036,katari manoj kumar,katarimanojkumar,"[storwize] test commit, to be abandoned

Change-Id: Ia444b56de264874858b2ee940dfb2031b32905f1
"
openstack%2Ftempest~master~Ic99c361b8deb04eb1892778ad298a68becfc6d0a,openstack/tempest,master,rm-whitelist.yaml,Ic99c361b8deb04eb1892778ad298a68becfc6d0a,[WIP] Remove etc/whitelist.yaml,NEW,2016-11-28 07:17:15.000000000,2021-02-09 14:45:33.000000000,,0,0,0,403530,4f4cead39c9853963b54fcbf99f6edfbaa7f223b,7,4,1,1,5689,Masayuki Igawa,igawa,"[WIP] Remove etc/whitelist.yaml

This commit removes etc/whitelist.yaml. This file was kept in the
commit[1]. However we should keep the repository clean as possible.

[1] I26f0e9789b167061e2a7dac4dddf04d89bfadee3

Change-Id: Ic99c361b8deb04eb1892778ad298a68becfc6d0a
"
openstack%2Fcharm-guide~master~Ia59776eddf2fe7c595f123acf346d77e7d9f209a,openstack/charm-guide,master,bug/1852221,Ia59776eddf2fe7c595f123acf346d77e7d9f209a,Add known issue for OVS-OVN migration on Groovy,MERGED,2021-01-28 07:19:45.000000000,2021-02-09 14:36:45.000000000,2021-02-09 14:34:57.000000000,19,0,12,772832,e71b06319b55e07b0936016dba754efc09df3c84,14,2,4,1,13686,Frode Nordahl,fnordahl,"Add known issue for OVS-OVN migration on Groovy

The root of the issue is in Open vSwitch itself and it is not
easilly workaroundable in the charms.

We'll pursue a upstream/package level fix.

Related-Bug: #1852221
Change-Id: Ia59776eddf2fe7c595f123acf346d77e7d9f209a
"
openstack%2Fswift~master~I32f979f068592eaac39dcc6807b3114caeaaa814,openstack/swift,master,relinker,I32f979f068592eaac39dcc6807b3114caeaaa814,relinker: Allow conf files for configuration,MERGED,2021-02-02 05:33:07.000000000,2021-02-09 14:33:43.000000000,2021-02-09 14:26:41.000000000,125,29,12,773572,1b7dd34d38c26c3d26c98341499973cc87bad2e1,19,2,3,8,15343,Tim Burke,tburke,"relinker: Allow conf files for configuration

Swap out the standard logger stuff in place of --logfile. Keep --device
as a CLI-only option. Everything else is pretty standard stuff that
ought to be in [DEFAULT].

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Change-Id: I32f979f068592eaac39dcc6807b3114caeaaa814
"
openstack%2Fneutron~stable%2Fussuri~I2e89bcb183a75f39ba6aeeef6f1ea355fca59fc8,openstack/neutron,stable/ussuri,add-conntrack-helper-extension-unit-test-stable/ussuri,I2e89bcb183a75f39ba6aeeef6f1ea355fca59fc8,Add extension unit tests for conntrack_helper plugin,MERGED,2021-02-09 05:30:34.000000000,2021-02-09 14:33:42.000000000,2021-02-09 14:27:10.000000000,141,0,0,774491,75b8fa7e7b6761fa7a78183d0b77499464ea2bdf,9,3,1,1,28329,yangjianfeng,yangjianfeng,"Add extension unit tests for conntrack_helper plugin

Change-Id: I2e89bcb183a75f39ba6aeeef6f1ea355fca59fc8
(cherry picked from commit cbfac6b7a849a5b7344c525d8fd070e48bdbe6b2)
"
openstack%2Fswift~master~Ifc47b00c597217efb4d705bd84dc8f7df117ae9d,openstack/swift,master,relinker,Ifc47b00c597217efb4d705bd84dc8f7df117ae9d,relinker: Pull arg parsing into module,MERGED,2021-02-02 05:33:07.000000000,2021-02-09 14:31:12.000000000,2021-02-09 14:25:40.000000000,131,54,6,773571,e72aaf0c57eb3b7ed4ef1561fb544c1e6c6e8725,15,3,3,4,15343,Tim Burke,tburke,"relinker: Pull arg parsing into module

This allows us to do testing that's more end-to-end.

Change-Id: Ifc47b00c597217efb4d705bd84dc8f7df117ae9d
"
openstack%2Fneutron~master~I3c106ace74b5c6e4ed0cb7e827baf5d6595ec5d0,openstack/neutron,master,bug/1914394-ovn-metadata-networks,I3c106ace74b5c6e4ed0cb7e827baf5d6595ec5d0,[OVN] Fix RowNotFound exception while waiting for metadata networks,MERGED,2021-02-03 14:09:28.000000000,2021-02-09 14:31:02.000000000,2021-02-09 14:24:54.000000000,55,1,2,773893,b618d98541599ad0ef73be41a3edd83d1fc75a56,32,7,2,3,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] Fix RowNotFound exception while waiting for metadata networks

In the set_port_status_up() the OVN driver waits for the metadata to be
provisioned (15 seconds) [0] prior to sending the event to Nova notifying
that the provisioning of the port is done (network-vif-plugged). But
there could be a race condition while trying to get that information
which results in a RowNotFound being raise in the waiting loop.

Once that happens, the exception is bubbled up and the OVN driver end up
not sending the event to Nova and the instance will fail to deploy (it
will be stuck in BUILD state until it times out).

This patch changes the logic of the method looking for the metadata
network information to not raise RowNotFound so that the waiting loop
can iteract again [0] until the information is available.

[0]
https://github.com/openstack/neutron/blob/cbd72e2f4846ec64ff6e6ef24099a8e90ddebf31/neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py#L1124

Change-Id: I3c106ace74b5c6e4ed0cb7e827baf5d6595ec5d0
Closes-Bug: #1914394
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fneutron~stable%2Fussuri~I1d0b3975ae6e92e34e9da20a0e26ce024422d332,openstack/neutron,stable/ussuri,bug/1905726-stable/ussuri,I1d0b3975ae6e92e34e9da20a0e26ce024422d332,Optimize get_ports with QoS extension,MERGED,2021-02-02 06:13:16.000000000,2021-02-09 14:30:59.000000000,2021-02-09 14:24:45.000000000,82,19,0,773581,76a57e9cf5ea25a7ff4bca9c94b08b97f308da7e,48,3,1,1,5948,Oleg Bondarev,obondarev,"Optimize get_ports with QoS extension

Apply qos resource extend func for a full list of ports,
not for each port individually, thus avoiding DB queries for each
individual port.
This should drastically improve port list time in case of many
ports/network with QoS policies assigned.

Change-Id: I1d0b3975ae6e92e34e9da20a0e26ce024422d332
Closes-Bug: #1905726
(cherry picked from commit 2a6fd9d44d8ab1eed038ad1348ed767bd6a6e61a)
"
openstack%2Foctavia-tempest-plugin~master~I0d89f1408a7a539d3982a3710635563939820758,openstack/octavia-tempest-plugin,master,,I0d89f1408a7a539d3982a3710635563939820758,WIP DNM Fix IPv6 VIP network connectivity,ABANDONED,2021-02-04 14:26:53.000000000,2021-02-09 14:28:33.000000000,,49,26,0,774086,ee3a7dcd17fc96c24d14103be6b8a00c3f752955,3,2,1,1,29244,Gregory Thiemonge,gthiemonge,"WIP DNM Fix IPv6 VIP network connectivity

This commit adds a route to an ipv6 subnet from the devstack
node.

Depends-On: https://review.opendev.org/c/openstack/octavia/+/773798

Change-Id: I0d89f1408a7a539d3982a3710635563939820758
"
openstack%2Fneutron~stable%2Fussuri~I89438feae3c0244f6da5e6a2a035d45b956ac247,openstack/neutron,stable/ussuri,bug/1913723-stable/ussuri,I89438feae3c0244f6da5e6a2a035d45b956ac247,Process DHCP events in order if related,MERGED,2021-02-07 10:05:32.000000000,2021-02-09 14:21:18.000000000,2021-02-09 14:17:37.000000000,129,42,0,774272,dc01f5b33011675a919bd80cc4f021066d7f2fc4,10,4,1,4,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Process DHCP events in order if related

When processing port events (create, update, delete), the port
provisioning (port creation) has priority over the other events [1].
As reported in the related bug, if a port deletion with an IP
address and another port creation with the same IP address arrive
to the DHCP agent, those events can be processed in the same queue.

Because of the creation event priority, even when this event arrived
after the deletion event, it will be processed first. That will
clash with the DHCP agent cache, that contains a port (not deleted
yet) with the same IP address. That will trigger an unwanted resync.

This patch implements a specific logic to store the events in
""ResourceProcessingQueue"" (that uses ""PriorityQueue"" [2]). When
a port event arrives, the event comparison method checks the
(subnet, fixed_ips) tuple set of both elements. If there is a
coincidence, that means those ports are the same or are using
the same IP addreses (the race condition explained in the bug).
In this case, the priority is defined only by the timestamp;
that means the events are processed in order of arrival.

Because the Neutron server do not allow to have two ports in the
same subnet with the same IP address, the order of the events is
guaranteed. In the case explained in the bug, the deletion event
will be processed first.

[1]https://review.opendev.org/c/openstack/neutron/+/626830
[2]https://docs.python.org/3/library/queue.html#queue.PriorityQueue

Closes-Bug: #1913723

Change-Id: I89438feae3c0244f6da5e6a2a035d45b956ac247
"
openstack%2Fcharm-glance~master~I5cf12b5959ac116f95c15c516b69d85d6f160bf7,openstack/charm-glance,master,talk-about-multi-backend-support,I5cf12b5959ac116f95c15c516b69d85d6f160bf7,Clarify object storage and multi-backend support,MERGED,2021-02-04 01:26:38.000000000,2021-02-09 14:12:54.000000000,2021-02-09 14:12:54.000000000,49,16,2,774026,f83ab69d757fad7f04aa3e9cd338e18c3eb1c2f1,18,5,4,1,30561,Peter Matulis,pmatulis,"Clarify object storage and multi-backend support

Update README.md

Change-Id: I5cf12b5959ac116f95c15c516b69d85d6f160bf7
"
openstack%2Ftripleo-common~master~I890134743c0cc928d10f43a35924b07ea67f9adf,openstack/tripleo-common,master,config-download/swift,I890134743c0cc928d10f43a35924b07ea67f9adf,Replace swift backend with native OS calls,ABANDONED,2020-09-22 18:42:35.000000000,2021-02-09 14:11:49.000000000,,649,717,84,753427,061ef63564a2705e6ec14931ad40a1bc150133d5,74,5,24,15,7353,Kevin Carter,cloudnull,"Replace swift backend with native OS calls

Add a parallel stack to the swift backend to write objects to the local
file system on the undercloud.

A new module has been created. This module will be used to transition
away from the swift backend.

Eventually we'll replace all of the swift backend API calls with native OS
calls. The intention of this change is to transperently replace the backend,
allowing us to disable swift with no impact on the function of the
undercloud.

Depends-On: Ibe9b2ffe94cdf493fc84366979d1d78b8528ea1b
Change-Id: I890134743c0cc928d10f43a35924b07ea67f9adf
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fbarbican-tempest-plugin~master~Ia59a23a36ebb8548a20e894000f7342c73012eac,openstack/barbican-tempest-plugin,master,change-628499-7,Ia59a23a36ebb8548a20e894000f7342c73012eac,Update hacking for Python3,MERGED,2019-01-04 15:55:21.000000000,2021-02-09 14:08:26.000000000,2021-02-09 14:08:26.000000000,7,8,0,628499,a318f6d77c0b354b4aee2fe9d7651d595adcf38e,36,11,9,4,28614,jacky06,jacky06,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found.

Change-Id: Ia59a23a36ebb8548a20e894000f7342c73012eac
"
openstack%2Fbifrost~master~Ia68bef56edd7edec14f678155220b6e4e15e57f6,openstack/bifrost,master,exit-on-error,Ia68bef56edd7edec14f678155220b6e4e15e57f6,Exit on all errors in bash scripts when possible,MERGED,2021-02-09 11:07:15.000000000,2021-02-09 14:04:30.000000000,2021-02-09 13:59:19.000000000,6,6,0,774623,422bafd6ea4a42d818e564a1778407dcc522aaed,8,3,1,4,23851,Riccardo Pittau,elfosardo,"Exit on all errors in bash scripts when possible

Except for the collect-test-info script, the other bash scripts should
just exit on error.

Change-Id: Ia68bef56edd7edec14f678155220b6e4e15e57f6
"
openstack%2Fbifrost~master~I034bcd24031b5881ae49b8bc03bed6654cd1d335,openstack/bifrost,master,crypto_pip_workaround,I034bcd24031b5881ae49b8bc03bed6654cd1d335,Install at least pip version 19.1.1,MERGED,2021-02-09 09:31:04.000000000,2021-02-09 14:01:54.000000000,2021-02-09 13:59:01.000000000,12,6,0,774611,5360d0e869daaa9bdb6ab0eeedfd1600453bfd4d,12,3,3,1,23851,Riccardo Pittau,elfosardo,"Install at least pip version 19.1.1

This is to avoid a known issue with a recent version of cryptography [1]

[1] https://github.com/pyca/cryptography/issues/5771

Change-Id: I034bcd24031b5881ae49b8bc03bed6654cd1d335
"
openstack%2Fopenstack-ansible~master~Iff0e3c544b12215b2e2a654364d0529fb2d1983c,openstack/openstack-ansible,master,,Iff0e3c544b12215b2e2a654364d0529fb2d1983c,Add reference to netplan config example,MERGED,2021-02-08 09:48:22.000000000,2021-02-09 13:58:21.000000000,2021-02-09 13:54:48.000000000,16,0,2,774425,e86488e30560bb4d76b4d3b17bc802a74b617ddb,14,3,3,1,25023,Jonathan Rosser,jrosser,"Add reference to netplan config example

Change-Id: Iff0e3c544b12215b2e2a654364d0529fb2d1983c
"
openstack%2Fopenstack-ansible~master~I2573bcccef3e69da0a6671e6dff428a5c0e30549,openstack/openstack-ansible,master,,I2573bcccef3e69da0a6671e6dff428a5c0e30549,Disable ssl for rabbitmq,MERGED,2021-02-01 12:27:09.000000000,2021-02-09 13:34:43.000000000,2021-02-09 13:32:39.000000000,1,1,0,773377,f523a24b89eb15e9e305ea7e9006660f35c19dd7,32,3,1,1,25023,Jonathan Rosser,jrosser,"Disable ssl for rabbitmq

This is necessary as new versions of amqp in u-c significantly change
the ssl behaviour for rabbitmq requiring a proper CA cert alongside
a self signed certificate on the rabbitmq server.

Change-Id: I2573bcccef3e69da0a6671e6dff428a5c0e30549
"
openstack%2Freleases~master~Ic2b688e234b92a5e98e617531323738a51db7151,openstack/releases,master,oslo.serialization_bugfix_for_train_json_to_primitive,Ic2b688e234b92a5e98e617531323738a51db7151,New bugfix release for train oslo.serialization.,MERGED,2021-02-09 12:47:15.000000000,2021-02-09 13:27:50.000000000,2021-02-09 13:27:50.000000000,4,0,0,774636,93902e50493b8d2462c681a04895aa023580fc1a,8,3,1,1,31245,Daniel Bengtsson,damani42,"New bugfix release for train oslo.serialization.

A new bugfix oslo.serialization for train. With the fix about json
to_primitive.

Change-Id: Ic2b688e234b92a5e98e617531323738a51db7151
"
openstack%2Ftempest~master~I3f82b1e753bb097cd5829dfd1c5f0b22d73cf5d5,openstack/tempest,master,initial-snapcraft,I3f82b1e753bb097cd5829dfd1c5f0b22d73cf5d5,Add support for building snap package.,ABANDONED,2016-09-29 19:53:55.000000000,2021-02-09 13:19:23.000000000,,34,0,0,379789,18b74a051a7d7015e38f4aa217ab421d9864cc50,6,4,1,3,22446,Jason Hobbs,jhobbs,"Add support for building snap package.

This allows building a snap package for tempest. The config file
location needs to be specified via the config-file option to run,
because the snap's confinement won't allow it to access /etc.

Change-Id: I3f82b1e753bb097cd5829dfd1c5f0b22d73cf5d5
"
openstack%2Ftempest~master~I5fa298bf51cc2d151a903f5eda929e2bfb06eb92,openstack/tempest,master,,I5fa298bf51cc2d151a903f5eda929e2bfb06eb92,Trove related changes in Tempest,ABANDONED,2013-10-23 11:37:07.000000000,2021-02-09 13:12:05.000000000,,108,5,2,53322,d3e1ae7d0631efa08220a8e0d055f651eb17e375,3,6,1,2,9122,Shalini khandelwal,shalini,"Trove related changes in Tempest

Change-Id: I5fa298bf51cc2d151a903f5eda929e2bfb06eb92
"
openstack%2Ftempest~master~I43aef6de09f705ca2094fed21f2f0e143a5980dd,openstack/tempest,master,net,I43aef6de09f705ca2094fed21f2f0e143a5980dd,Adding networks JSON client for nova-network,ABANDONED,2013-02-05 16:22:05.000000000,2021-02-09 13:12:00.000000000,,123,0,2,21225,63d10c842ce0e164305fa51874cc4c7710cd3af1,12,4,9,1,6690,Rami Vaknin,rvaknin,"Adding networks JSON client for nova-network

Based on the Networks section of the OpenStack API Reference
documentation in http://api.openstack.org/api-ref.html

Change-Id: I43aef6de09f705ca2094fed21f2f0e143a5980dd
"
openstack%2Ftempest~master~I52e14abe6081448b1651c6de033b2d728282a2ce,openstack/tempest,master,feature/resume-test,I52e14abe6081448b1651c6de033b2d728282a2ce,Test rescue compute API extension,ABANDONED,2012-12-19 20:16:37.000000000,2021-02-09 13:11:52.000000000,,82,0,0,18411,f5605ba0efec851f16c809979cdf8276974e8c66,1,0,1,3,5713,James King,jking-6,"Test rescue compute API extension

Added a test case to test the rescue API extension.  The update
includes a new configuration option in tempest.conf in case the
extension is disabled in certain environments.

WIP

Change-Id: I52e14abe6081448b1651c6de033b2d728282a2ce
"
openstack%2Ftempest~master~If061f53ed831f104c9b0236da4868ecabab71856,openstack/tempest,master,bug/1675791,If061f53ed831f104c9b0236da4868ecabab71856,[WIP]Add Tests for shelve/unshelve operation with different tenant,ABANDONED,2018-01-30 07:27:16.000000000,2021-02-09 13:10:04.000000000,,15,0,16,539118,77f1de8cdb5a678078b38d8d073989b73be9e284,34,10,8,1,27616,Damini Chopra,damini,"[WIP]Add Tests for shelve/unshelve operation with different tenant

This patch is to add tempest test in which Instance created by
non-admin user, shelved by admin user and changes its status
to 'FORCE_SHELVED_OFFLOAD' and then unshelved by owner changes its
status to 'ACTIVE'

Related-Bug:#1675791

Change-Id: If061f53ed831f104c9b0236da4868ecabab71856
"
openstack%2Ftempest~master~I8baa3e61789b0553b9f85214b60c9e0b8dafde31,openstack/tempest,master,bug/1728600,I8baa3e61789b0553b9f85214b60c9e0b8dafde31,Wait for port status when getting IPv4 address,ABANDONED,2017-10-30 16:10:40.000000000,2021-02-09 13:08:40.000000000,,34,15,13,516372,6b809d2e216f478b42723cce6f3d5dee7be6f1d1,40,14,6,2,20675,Sofiia Andriichenko,SofiiaAndriichenko,"Wait for port status when getting IPv4 address

Depending on neutron backend, ports may take some time to become active,
and im most cases we need them active to be able to successfully access
the node (e.g. via SSH).

This patch reuses `waiters.wait_for_interface_status` function
(which was amended to accept list of port statuses to wait for),
which in turn uses the build_timeout and build_inerval options from
'compute' config sections. The logic of the function is preserved.

Change-Id: I8baa3e61789b0553b9f85214b60c9e0b8dafde31
Closes-Bug: #1728600
"
openstack%2Ftempest~master~Id641aaacdf675e74169b8afb7b86bea182037c83,openstack/tempest,master,bug/1805319,Id641aaacdf675e74169b8afb7b86bea182037c83,"Keystone authentication enabled version defaults to v3,the dependency needs to be set to true by sync",ABANDONED,2018-11-27 02:09:00.000000000,2021-02-09 13:06:07.000000000,,1,1,4,620199,3bf9cb80553ee3ab2b8a18277860148a94896582,9,5,3,1,26975,xiaoxu790,xiaoxu780,"Keystone authentication enabled version defaults to
v3,the dependency needs to be set to true by sync

Closes-Bug:#1805319

Change-Id: Id641aaacdf675e74169b8afb7b86bea182037c83
"
openstack%2Ftempest~master~Iab2e4b22d80d16b48fc28568b8737b2432a6595c,openstack/tempest,master,bug/1631872,Iab2e4b22d80d16b48fc28568b8737b2432a6595c,wait for port status to be ACTIVE,ABANDONED,2016-10-06 15:47:30.000000000,2021-02-09 13:04:15.000000000,,67,6,16,383049,1336b3c29ffee465081793e5d575ad7ef38818f8,111,19,16,3,8213,Claudiu Belu,claudiub,"wait for port status to be ACTIVE

Some tests are failing on the Hyper-V CI due to the
fact that tempest does not wait for the neutron
ports to be come active. All ports that are not active
are ignored, leading to failed tests [1].

Waiting for the ports to become active solves the issue.

[1] http://paste.openstack.org/show/584712/

Closes-Bug: #1631872

Change-Id: Iab2e4b22d80d16b48fc28568b8737b2432a6595c
"
openstack%2Ftempest~master~Id017fbd7a997bf211d71d4f94ee706cd22bbd66e,openstack/tempest,master,bug/1788561,Id017fbd7a997bf211d71d4f94ee706cd22bbd66e,return the correct roles_client for auth_version,ABANDONED,2018-08-23 08:53:30.000000000,2021-02-09 13:01:20.000000000,,16,4,6,595548,958b84a0a8ce6dd3954df745af8954b6a6e1b45a,25,10,2,1,24427,Jawon Choo,JawonChoo,"return the correct roles_client for auth_version

This PS fixes to get correct roles_client when set auth_version='v3'.

Change-Id: Id017fbd7a997bf211d71d4f94ee706cd22bbd66e
Closes-Bug: #1788561
"
openstack%2Ftempest~master~I6c4dd908658609e7c082a8234af33f812b8afd06,openstack/tempest,master,bug/1613819,I6c4dd908658609e7c082a8234af33f812b8afd06,Fix for domain_id in V3 keystone authorization,ABANDONED,2016-10-07 09:20:48.000000000,2021-02-09 13:00:18.000000000,,18,5,19,383601,6f7109b2faeaac5e8c55b12b1d959c26634d21f6,103,17,17,1,23771,morfy,morfy,"Fix for domain_id in V3 keystone authorization

In case of using V3 keystone authorization with Default domain name,
which id not default, create_user failed, with error ""Could not find
domain: default"". So, this patch add domain_id field to the keystone
request and authorization continues normally.

Closes-Bug: #1613819

Change-Id: I6c4dd908658609e7c082a8234af33f812b8afd06
"
openstack%2Ftempest~master~I2cd55b151f3bbf5d765e65c8d29578b9f0a7d698,openstack/tempest,master,bug/1751418,I2cd55b151f3bbf5d765e65c8d29578b9f0a7d698,Fix fip association issue when multi servers are created,ABANDONED,2018-02-24 09:01:48.000000000,2021-02-09 12:58:02.000000000,,51,39,0,547728,9f5f2d6b7d9c149ef499c2a5f39b110db04fee52,12,8,3,3,20190,zhufl,zhufl,"Fix fip association issue when multi servers are created

In test_resize_volume_backed_server_confirm, when connect_method=floating,
because create_test_server doesn't use validatable=True and
validation_resources=validation_resources, so the created server hasn't any
floating ip associated to it, and so the following self.get_server_ip(server,
validation_resources) just refers to other server (the one created in setUp),
this is an amusing hidden error.

This is to move the setup_validation_fip from create_test_server to
get_server_ip, that is, one floating ip can be used for different servers,
so we should associate the floating ip to the server when the server is ready
to ssh, while not when the server is created.

Besides, compute.create_test_server will no longer have the limitation that
""multiple pingable or sshable servers will not be supported"", because all other
validation resources can be shared except floating ip, such as keypair,
security group. And as to floating ip, we will associate it to the server one
at a time.

Change-Id: I2cd55b151f3bbf5d765e65c8d29578b9f0a7d698
Closes-Bug: #1751418
"
openstack%2Ftempest~master~Ic09089fbd488825ba85099171d97bb31921f4993,openstack/tempest,master,bug/1769005,Ic09089fbd488825ba85099171d97bb31921f4993,Object test not cleaning up containers.,ABANDONED,2018-05-17 09:20:16.000000000,2021-02-09 12:57:10.000000000,,4,2,2,569066,f49fe7034bd861cca8b81a76b2e21da9b35dd64a,9,6,2,2,25695,Deepak Mourya,deepak_mourya,"Object test not cleaning up containers.

The below test will not clean up containers

tempest.api.object_storage.test_object_services.PublicObjectTest
tempest.api.object_storage.test_container_acl_negative.ObjectACLsNegativeTest

This patch set will directly call the delete function.

Change-Id: Ic09089fbd488825ba85099171d97bb31921f4993
Closes-Bug: #1769005
"
openstack%2Fironic-lib~master~I8f8967d9c4171057ad3b2f08772821769f575c47,openstack/ironic-lib,master,dnm,I8f8967d9c4171057ad3b2f08772821769f575c47,[DNM] Test CI,NEW,2021-02-08 19:49:01.000000000,2021-02-09 12:56:43.000000000,,1,1,0,774534,cebd96e85c7ecea9172fa679c6b6a6fe0ef62c0d,6,1,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"[DNM] Test CI

Change-Id: I8f8967d9c4171057ad3b2f08772821769f575c47
"
openstack%2Ftempest~master~Ic5c4b036ac111ad7a7326fd1caa7460659a3026e,openstack/tempest,master,bug/1489772,Ic5c4b036ac111ad7a7326fd1caa7460659a3026e,Move value of notifications in TestSwiftTelemetry to config.py,ABANDONED,2015-08-28 09:05:33.000000000,2021-02-09 12:56:00.000000000,,15,14,7,218159,39f7af7fe550ec0cae1ca62d4ad3c648d80bb70c,47,8,6,2,16986,Shuquan Huang,shuquan,"Move value of notifications in TestSwiftTelemetry to config.py

Currently the value of notifications wait&sleep is hard coding which is
not allowed to change them by config. We should move them to
TelemetryGroup in config.py.

Change-Id: Ic5c4b036ac111ad7a7326fd1caa7460659a3026e
Closes-Bug: #1489772
"
openstack%2Ftempest~master~Ife958846a559f8b4be3e9070c0671f59b09b3c36,openstack/tempest,master,bug/1664313,Ife958846a559f8b4be3e9070c0671f59b09b3c36,Force mke2fs to format even if entire device,ABANDONED,2017-02-13 17:43:12.000000000,2021-02-09 12:55:16.000000000,,1,1,2,433213,9ddc5b96b5517a3db9e537e01c6475b97714ef0d,10,11,3,1,18695,Remus Buzatu,rbuzatu,"Force mke2fs to format even if entire device

When formatting an entire device, mke2fs prompts for confirmation
leading to fail the test

Closes-Bug: #1664313

Change-Id: Ife958846a559f8b4be3e9070c0671f59b09b3c36
"
openstack%2Fkayobe~stable%2Fvictoria~Ibe42fa372c6fa0c539d2c2b0e238601286dc213d,openstack/kayobe,stable/victoria,,Ibe42fa372c6fa0c539d2c2b0e238601286dc213d,Fix --limit with commas,MERGED,2021-01-15 16:59:18.000000000,2021-02-09 12:52:30.000000000,2021-02-09 12:50:31.000000000,74,4,0,770958,6ec66524fa0399e4625c45a3d2df720469a0b337,26,3,1,5,14826,Mark Goddard,mgoddard,"Fix --limit with commas

Kayobe allows specifying a --limit argument, which is passed through to
Ansible. In some cases we wish to add an intersection with a group. This
allows us to reuse playbooks for the seed, overcloud etc.

For example, the lvm.yml playbook specifies a host list of
seed-hypervisor:seed:overcloud. When executed as part of a kayobe
overcloud host configure command, Kayobe passes a limit of overcloud. If
the user specifies a --limit argument, this gets intersected with the
overcloud limit: host1:&overcloud.

The problem happens if the user specifies multiple parts to the host
pattern in their limit using a comma, e.g. host1,host2. This results in
host1,host2:&overcloud. Ansible ignores the colon, and treats this as
host1 or host2:&overcloud.

The solution is to use a comma to join the patterns if the user has used
a comma: host1,host2,&overcloud

Change-Id: Ibe42fa372c6fa0c539d2c2b0e238601286dc213d
Story: 2008255
Task: 41111
(cherry picked from commit 017b092df70706177c542c3a3cab3f9d0a75e5c2)
"
openstack%2Fneutron~master~Ib05c4b60ac06facd5d6f31668af3ab51b854d543,openstack/neutron,master,secure-rbac,Ib05c4b60ac06facd5d6f31668af3ab51b854d543,Workaround problem with deepcopy of the regex object in python 3.6,ABANDONED,2021-02-09 10:22:00.000000000,2021-02-09 12:45:12.000000000,,13,0,2,774617,e575ac50b0d39975ec011616c341e381e189859b,4,1,1,1,11975,Slawek Kaplonski,slaweq,"Workaround problem with deepcopy of the regex object in python 3.6

Oslo.policy in version 3.6.2 introduced deepcopy of the rule objects
during initialize of the policy.
It breaks Neutron when running on Python 3.6 or older due to bug [1]
because in the FieldCheck class, which is defined in our repo we are
using regex and that regex can't be deepcopied properly.

This patch workarounds that problem by implementing custom __deepcopy__
method in that class for python 3.6 and older.

[1] https://bugs.python.org/issue10076

Related-Bug: #1913718
Change-Id: Ib05c4b60ac06facd5d6f31668af3ab51b854d543
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I6d03fa8c81c52b6f061514a836bbd15bb6639aaf,openstack/kolla-ansible,stable/victoria,,I6d03fa8c81c52b6f061514a836bbd15bb6639aaf,Fix Barbican API log config,MERGED,2021-02-08 19:12:29.000000000,2021-02-09 12:43:13.000000000,2021-02-09 12:40:25.000000000,14,5,0,774484,4f6988564aae749464377995ba7387d1d0301f7a,9,4,1,6,30523,Dincer Celik,osmanlicilegi,"Fix Barbican API log config

There are a few issues fixed here:

- The Barbican API service doesn't set a log file, so all the Barbican API
  service logs go to loadwsgi.py.log by default.
- The logs in loadwsgi.py.log are not ingested properly by Fluentd.
- uWSGI logs go to barbican-api.log. This would normally be used as the log
  file for the Barbican API service logs.

This patch makes the following changes to address the above issues:

- All uWSGI logs (from the Emperor and Vassals) go to barbican_api_uwsgi_access.log
  Although these logs aren't strictly all access logs, this follows the existing
  pattern for WSGI logs.
- The Barbican API service logs are written to barbican-api.log instead of
  loadwsgi.py.log. This follows the pattern used by other OpenStack services.
- Fluentd is configured to parse the Barbican API service logs as it would with
  other OpenStack Python services.

Change-Id: I6d03fa8c81c52b6f061514a836bbd15bb6639aaf
Closes-Bug: #1891343
"
openstack%2Fkolla-ansible~stable%2Ftrain~I6d03fa8c81c52b6f061514a836bbd15bb6639aaf,openstack/kolla-ansible,stable/train,,I6d03fa8c81c52b6f061514a836bbd15bb6639aaf,Fix Barbican API log config,MERGED,2021-02-08 20:06:12.000000000,2021-02-09 12:43:07.000000000,2021-02-09 12:40:29.000000000,14,5,0,774486,e8030d0fc044c2884e299347bfebe1439f1c2e8f,9,4,2,6,30491,Radosław Piliszek,yoctozepto,"Fix Barbican API log config

There are a few issues fixed here:

- The Barbican API service doesn't set a log file, so all the Barbican API
  service logs go to loadwsgi.py.log by default.
- The logs in loadwsgi.py.log are not ingested properly by Fluentd.
- uWSGI logs go to barbican-api.log. This would normally be used as the log
  file for the Barbican API service logs.

This patch makes the following changes to address the above issues:

- All uWSGI logs (from the Emperor and Vassals) go to barbican_api_uwsgi_access.log
  Although these logs aren't strictly all access logs, this follows the existing
  pattern for WSGI logs.
- The Barbican API service logs are written to barbican-api.log instead of
  loadwsgi.py.log. This follows the pattern used by other OpenStack services.
- Fluentd is configured to parse the Barbican API service logs as it would with
  other OpenStack Python services.

Change-Id: I6d03fa8c81c52b6f061514a836bbd15bb6639aaf
Closes-Bug: #1891343
"
openstack%2Fkolla~stable%2Fussuri~I4d20f23a9b26364943bf967908255d82c8f6621b,openstack/kolla,stable/ussuri,,I4d20f23a9b26364943bf967908255d82c8f6621b,get rid of traces of CentOS 7 support,MERGED,2021-02-05 09:19:03.000000000,2021-02-09 12:42:36.000000000,2021-02-09 12:40:20.000000000,18,61,0,774123,2419efb5d0e9057300ab6565bc3fdcb4e474c99c,12,3,2,2,24072,Marcin Juszkiewicz,hrw,"get rid of traces of CentOS 7 support

Change-Id: I4d20f23a9b26364943bf967908255d82c8f6621b
"
openstack%2Foslo.cache~stable%2Fvictoria~I64f3ddcdfb21d69ae8a6fc7abaeddee2a9289792,openstack/oslo.cache,stable/victoria,memcached-tls-stable/victoria,I64f3ddcdfb21d69ae8a6fc7abaeddee2a9289792,Dropping lower constraints testing,MERGED,2021-01-27 11:46:53.000000000,2021-02-09 12:40:07.000000000,2021-02-09 12:34:46.000000000,0,71,0,772677,8115fb411faca4560da640fa875a0ec33675352b,14,4,3,3,28522,Hervé Beraud,hberaud,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I64f3ddcdfb21d69ae8a6fc7abaeddee2a9289792
"
openstack%2Fopenstacksdk~master~I11c93de2ba8c6c952394856ab828989346377766,openstack/openstacksdk,master,story-2008038,I11c93de2ba8c6c952394856ab828989346377766,Use OOB inspection to fetch MACs for IB inspection,ABANDONED,2020-11-13 01:58:04.000000000,2021-02-09 12:33:21.000000000,,14,1,7,762603,cca82ebb09cf9f1bbdc06377e06ae12153a2038a,23,6,6,2,32177,Jacob Anders,janders,"Use OOB inspection to fetch MACs for IB inspection

This change adds get_mac_addresses call to the ManagementInterface which will
be used by both out-of-band inspection and in-band inspection with
ironic-inspector. This will remove the necessity of manually defining MAC
addresses for nodes and/or enabling IPMI functionality on Redfish-based
systems.

Change-Id: I11c93de2ba8c6c952394856ab828989346377766
Story: 2008038
"
openstack%2Fpuppet-nova~stable%2Fvictoria~I98fe83e0c245388944529cd19b5e2bbed134e855,openstack/puppet-nova,stable/victoria,refactor_nova_db_config,I98fe83e0c245388944529cd19b5e2bbed134e855,Allow both DEFAULT/dhcp_domain and api/dhcp_domain to be set,MERGED,2021-01-06 01:23:32.000000000,2021-02-09 12:32:29.000000000,2021-01-12 08:30:51.000000000,1,3,0,769440,7301812c9e32cde7ee145a1cbd18e8e76f52be37,20,7,2,1,27419,David Vallee Delisle,dvd,"Allow both DEFAULT/dhcp_domain and api/dhcp_domain to be set

Partial revert of If6a26527a737a7184ebddd5b4bc346d64827e9e3 to allow
both/either config option to be used until it is clear what nova will
take.

Related-bug: #1903908
Change-Id: I98fe83e0c245388944529cd19b5e2bbed134e855
"
openstack%2Fironic-inspector~master~I3debcd1f32a2627dafd8456ec73a71fc7c402ebb,openstack/ironic-inspector,master,story-2008038,I3debcd1f32a2627dafd8456ec73a71fc7c402ebb,Use OOB inspection to fetch MACs for IB inspection,ABANDONED,2020-10-21 10:33:40.000000000,2021-02-09 12:32:01.000000000,,103,42,21,758994,4c8058b841fd28144060fcf83cbbf78d3a9f0742,53,6,14,10,32177,Jacob Anders,janders,"Use OOB inspection to fetch MACs for IB inspection

This change adds get_mac_addresses call to the ManagementInterface which will
be used by both out-of-band inspection and in-band inspection with
ironic-inspector. This will remove the necessity of manually defining MAC
addresses for nodes and/or enabling IPMI functionality on Redfish-based
systems.

Change-Id: I3debcd1f32a2627dafd8456ec73a71fc7c402ebb
Story: 2008038
Task: 40699
"
openstack%2Fironic~master~I11c93de2ba8c6c952394856ab828989346377766,openstack/ironic,master,story-2008038,I11c93de2ba8c6c952394856ab828989346377766,Use OOB inspection to fetch MACs for IB inspection,ABANDONED,2020-09-10 10:00:25.000000000,2021-02-09 12:31:38.000000000,,110,31,17,750943,8122c660266be70303061535a00887a5d43cf714,93,6,20,6,32177,Jacob Anders,janders,"Use OOB inspection to fetch MACs for IB inspection

This change adds get_mac_addresses call to the ManagementInterface which will
be used by both out-of-band inspection and in-band inspection with
ironic-inspector. This will remove the necessity of manually defining MAC
addresses for nodes and/or enabling IPMI functionality on Redfish-based
systems.

Change-Id: I11c93de2ba8c6c952394856ab828989346377766
Story: 2008038
"
openstack%2Fkolla~stable%2Fvictoria~I4d20f23a9b26364943bf967908255d82c8f6621b,openstack/kolla,stable/victoria,,I4d20f23a9b26364943bf967908255d82c8f6621b,get rid of traces of CentOS 7 support,MERGED,2021-02-05 09:18:41.000000000,2021-02-09 12:23:17.000000000,2021-02-09 12:19:38.000000000,18,61,0,774122,65870d9650ed3141a84f7cf5173371f2f415fbc0,16,3,1,2,24072,Marcin Juszkiewicz,hrw,"get rid of traces of CentOS 7 support

Change-Id: I4d20f23a9b26364943bf967908255d82c8f6621b
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~I051539fc3bbd3bfcddc30048348c571dd6a5c7e1,openstack/openstack-ansible,stable/victoria,,I051539fc3bbd3bfcddc30048348c571dd6a5c7e1,Add haproxy_*_service variables,MERGED,2021-02-05 10:37:43.000000000,2021-02-09 12:22:02.000000000,2021-02-09 12:17:16.000000000,539,461,0,774126,e55defe9f7c9558e86739cd5092e7376bbd8b868,10,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add haproxy_*_service variables

This aims to ease override of the specific service listen port or other
haproxy frontend/backend setting without override of all backends.

Change-Id: I051539fc3bbd3bfcddc30048348c571dd6a5c7e1
(cherry picked from commit 65a8c2413e1e8f91fd6d712cb84af2ab01784299)
"
openstack%2Fopenstack-ansible-os_aodh~master~I73773536938dff9f768381a333c5fa02c98e9d55,openstack/openstack-ansible-os_aodh,master,osa-new-pip,I73773536938dff9f768381a333c5fa02c98e9d55,Move aodh pip packages from constraints to requirements,MERGED,2021-01-25 08:45:57.000000000,2021-02-09 11:48:08.000000000,2021-02-09 11:45:35.000000000,3,8,0,772259,405f551fad8e08b1610459f30baa4101b92d00fe,19,3,1,1,25023,Jonathan Rosser,jrosser,"Move aodh pip packages from constraints to requirements

Change-Id: I73773536938dff9f768381a333c5fa02c98e9d55
"
openstack%2Ftempest~master~Icff9d1b0be927c5d3aced4394b42867c553a4e97,openstack/tempest,master,multiple_compute_az,Icff9d1b0be927c5d3aced4394b42867c553a4e97,Set the Nova availability zone different from volume az,ABANDONED,2021-02-01 19:46:17.000000000,2021-02-09 11:29:16.000000000,,22,4,5,773476,dacd6bd1f9bff151bd458a03ad6a8ada98abaa84,32,3,8,3,32876,Sergey Bekkerman,sbekkerm,"Set the Nova availability zone different from volume az

The review allows related non-scenario tests
when Nova availability zone don't match the
volume availability zone. This configuration
might be used for the DCN compute-only environment
when edge sites haven't storage.

Change-Id: Icff9d1b0be927c5d3aced4394b42867c553a4e97
"
openstack%2Foslo.policy~master~I2837959e8b03f98e8d947787d5c81569fe69acf6,openstack/oslo.policy,master,,I2837959e8b03f98e8d947787d5c81569fe69acf6,remove unicode from code,MERGED,2021-01-03 08:20:31.000000000,2021-02-09 11:16:29.000000000,2021-02-09 11:13:53.000000000,8,8,0,769016,ca3e551fc38825de5e49b9a9a7cb90b8ee17dbbf,11,2,1,2,30092,Xuan Yandong,xuanyandong,"remove unicode from code

Change-Id: I2837959e8b03f98e8d947787d5c81569fe69acf6
"
openstack%2Fopenstack-ansible~master~Ie58167c4bc940eb5b5d2887421212eb2ce97fb8d,openstack/openstack-ansible,master,,Ie58167c4bc940eb5b5d2887421212eb2ce97fb8d,Do not prepare upstream repos for distro jobs,MERGED,2021-02-07 08:30:57.000000000,2021-02-09 11:06:34.000000000,2021-02-09 10:57:41.000000000,98,28,0,774372,cf3f901c528f2c002cf0899e930d3018ab1b79b1,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Do not prepare upstream repos for distro jobs

Since we don't build from source, we don't need to clone and prepare
upstream services' repos for distro jobs.

Change-Id: Ie58167c4bc940eb5b5d2887421212eb2ce97fb8d
"
openstack%2Fopenstack-ansible-os_zun~master~Ia3782bf272a5970b6992d82e6732854af5e7a561,openstack/openstack-ansible-os_zun,master,osa-new-pip,Ia3782bf272a5970b6992d82e6732854af5e7a561,Move zun pip packages from constraints to requirements,MERGED,2021-01-25 10:39:47.000000000,2021-02-09 11:05:49.000000000,2021-02-09 10:45:55.000000000,15,6,0,772300,fe94ff67b338428d486033ffadc070fbafbe78ec,24,3,8,2,25023,Jonathan Rosser,jrosser,"Move zun pip packages from constraints to requirements

This is necessary to use the new pip resolver

Change-Id: Ia3782bf272a5970b6992d82e6732854af5e7a561
"
openstack%2Fironic-python-agent-builder~master~Ifcf9e165e750fd07b11e7bbc18cf9f912b211e23,openstack/ironic-python-agent-builder,master,gate,Ifcf9e165e750fd07b11e7bbc18cf9f912b211e23,Upgrade pip to at least 19.1.1,MERGED,2021-02-08 15:04:39.000000000,2021-02-09 11:05:49.000000000,2021-02-09 10:45:43.000000000,9,3,0,774475,7e2ba37e4a52181c246305985805f320be1c3e03,10,3,2,1,10239,Dmitry Tantsur,dtantsur,"Upgrade pip to at least 19.1.1

Change-Id: Ifcf9e165e750fd07b11e7bbc18cf9f912b211e23
"
openstack%2Foslo.policy~master~I51a7995b0ca372e494f8c620b6c541373614159a,openstack/oslo.policy,master,fix-lc,I51a7995b0ca372e494f8c620b6c541373614159a,Fix lower-constraints job,ABANDONED,2020-12-11 01:21:32.000000000,2021-02-09 10:58:36.000000000,,4,4,0,766646,0b8892f20bc9d0af0b7cc0f8c6953f1c94de7e17,8,1,3,2,8556,Ghanshyam,ghanshyam,"Fix lower-constraints job

Change-Id: I51a7995b0ca372e494f8c620b6c541373614159a
"
openstack%2Ftempest~master~I73cd35e04d72a96d6a3c3f8e85a2754fe16eeef6,openstack/tempest,master,bug/1600349,I73cd35e04d72a96d6a3c3f8e85a2754fe16eeef6,Adds additional exception handling to credential provider,ABANDONED,2016-07-13 14:51:26.000000000,2021-02-09 10:49:11.000000000,,1,1,2,341592,df162b24aa64de1b04cf1933cfa87a0462513d34,24,10,2,1,97,Daryl Walleck,dwalleck,"Adds additional exception handling to credential provider

Adds additional handling to the PreProvisionedCredentialProvider
to handle the case where the os-networks extension is not
enabled.

Change-Id: I73cd35e04d72a96d6a3c3f8e85a2754fe16eeef6
Closes-Bug: 1600349
"
openstack%2Ftempest~master~I39105c47febd11da27945ad690437bd7d2142167,openstack/tempest,master,bug/1677136,I39105c47febd11da27945ad690437bd7d2142167,Not delete an external network during tearDown,ABANDONED,2017-04-10 12:58:42.000000000,2021-02-09 10:48:30.000000000,,3,0,2,455310,64e4a12326c1ff4ef80d8f506e3e811fa7138468,37,11,5,1,12297,duhu,xxj,"Not delete an external network during tearDown

When finished the testcases in test_auto_allocate_network, an
external network will be deleted in tearDown process, this will
fail if any IP is allocated in the network before. Then the
error happens. This patch make only delete the network owned
by the current tenant.

Change-Id: I39105c47febd11da27945ad690437bd7d2142167
Closes-Bug: #1677136
"
openstack%2Ftempest~master~Id2318e69708fc7457ca4980340b66a6bad3bc947,openstack/tempest,master,bug/1748544,Id2318e69708fc7457ca4980340b66a6bad3bc947,Add verification of show_password to test_change_server_password,ABANDONED,2018-02-09 21:34:27.000000000,2021-02-09 10:47:58.000000000,,5,0,2,543029,c3db6a102b2aefb70dddcb918b5582fbe14b3753,11,4,2,1,4690,melanie witt,melwitt,"Add verification of show_password to test_change_server_password

We have a bug in nova where the password is not saved to the metadata
when the server's password is changed via the API. This adds
verification of the fix and will help catch regressions in the future.

Related-Bug: #1748544

Depends-On: Id5ff7527a687bf285158a70022110863b48b8495

Change-Id: Id2318e69708fc7457ca4980340b66a6bad3bc947
"
openstack%2Ftempest~master~Icd1c0fe5c42738faf37302752fb3b7495efcf416,openstack/tempest,master,bug/1393881,Icd1c0fe5c42738faf37302752fb3b7495efcf416,Remove deprecated AMI image file opts,ABANDONED,2016-07-06 16:09:43.000000000,2021-02-09 10:45:45.000000000,,22,48,6,338377,e20f3367f2d77c1bb3cab2df1fd375ea03807927,63,12,8,4,5196,Matthew Treinish,treinish,"Remove deprecated AMI image file opts

This commit removes the deprecated config options for specifying AMI
image file locations. These options were deprecated in change
I8a6ee167384c8a2d17905db3a4061c06398980ad. The fallback mechanism using
these options is also removed, and the docs are updated to not mention
them anymore.

Depends-On: Ic276cbbb91aaf73ba44e588a607338b93d056da8
Change-Id: Icd1c0fe5c42738faf37302752fb3b7495efcf416
Closes-Bug: #1393881
"
openstack%2Ftempest~master~I3d40bde5c71447c91e5f6e63de6d5b355e6c5f98,openstack/tempest,master,bug/1484511,I3d40bde5c71447c91e5f6e63de6d5b355e6c5f98,Add test for glance's tasks API,ABANDONED,2015-08-25 11:14:37.000000000,2021-02-09 10:44:03.000000000,,124,0,17,216665,47aaadad43c06c2e851b24b3da090a74b031cfba,80,10,8,4,10300,Pranali Deore,PranaliDeore,"Add test for glance's tasks API

Added new test for below glance's tasks APIs,

1. Create task
2. List task
3. Get task

Closes-Bug: #1484511
Change-Id: I3d40bde5c71447c91e5f6e63de6d5b355e6c5f98
"
openstack%2Ftempest~master~I3fc3d3f37faf04ea8bfe720019a758326cf6b8ff,openstack/tempest,master,bug/1427015,I3fc3d3f37faf04ea8bfe720019a758326cf6b8ff,Fix cases regarding to DHCP port operation.,ABANDONED,2015-09-14 06:54:54.000000000,2021-02-09 10:41:38.000000000,,25,1,1,222982,c087c06c4cdae350683cd01a85039a18dc5164e0,30,6,4,1,17958,NGUYEN TUONG THANH,thanhnt,"Fix cases regarding to DHCP port operation.

When number of dhcp ports excess max_fixed_ips_per_port, a dhcp resync will be triggered.
DHCP port is not a tenant port. It means DHCP port is not a tenant resource.
So that - We should not restrict operations regarding DHCP port with admin user.
        - Operations of DHCP port from non-admin user should be forbidden.

Change-Id: I3fc3d3f37faf04ea8bfe720019a758326cf6b8ff
Closes-Bug: #1427015
Depends-On: Iaa9ed6949383ba6a7ce0b3ffd9dcced663126317
"
openstack%2Ftempest~master~I5b5849779a5fa5a6422cdeeb704131c292bd64a7,openstack/tempest,master,bug/1545407,I5b5849779a5fa5a6422cdeeb704131c292bd64a7,Fixed bug with url building,ABANDONED,2016-02-14 07:45:19.000000000,2021-02-09 10:39:45.000000000,,2,2,4,279932,7a73eb55bd613e050403c264ec90122dde5b7dcd,24,6,3,1,20424,Eyal Posener,eyal,"Fixed bug with url building

The requested volume ID contains special characters such as hash '#' or precent '%'.

The hash tag makes the request URL contain a 'fragment identifier'.
Some backend WSGI servers might cut this part and pass it in a different
environment variable.
Conceptually this is a bad practice.

Regarding with RFC3986 percent character '%' must be followed by the two
hexadecimal digits. In other cases WSGI server can reject such request.

Replacing special characters in volume get, and volume delete with numerical characters.

Change-Id: I5b5849779a5fa5a6422cdeeb704131c292bd64a7
Closes-bug: 1545407
"
openstack%2Ftempest~master~I319e154887566888ac350935fd8529177aa90e90,openstack/tempest,master,bug/1594633,I319e154887566888ac350935fd8529177aa90e90,remove order dependency for assert,ABANDONED,2016-06-21 04:29:46.000000000,2021-02-09 10:39:06.000000000,,1,1,0,331935,e99ac01fd869352cbe657976b38d6b1722ff3a7e,8,4,1,1,15696,Prinika Sankaran Nair,PrinikaSN,"remove order dependency for assert

Since the order in which we receive the allowed address pair doesn't matter,
removing the order dependency in _update_port_with_address method.

Change-Id: I319e154887566888ac350935fd8529177aa90e90
Closes-Bug: 1594633
"
openstack%2Ftempest~master~Ia76b7234e0ffce1b00fcc549f12054f84acc36e4,openstack/tempest,master,bug/1520230,Ia76b7234e0ffce1b00fcc549f12054f84acc36e4,Add test to verify ironic multitenancy,ABANDONED,2015-12-17 10:35:58.000000000,2021-02-09 10:37:33.000000000,,224,18,0,258934,e7b0583444936fe27f0e1b2aaa8a995bcf1de31e,15,4,4,3,9068,Yuriy Yekovenko,yyekovenko,"Add test to verify ironic multitenancy

* Create two tenants with own networks.
* Boot 2 baremetal instances in the same network of
  the first tenant and check if they are L2-connected.
* Boot 2 baremetal instances in the different tenants
  and check if they are L2-isolated.

Change-Id: Ia76b7234e0ffce1b00fcc549f12054f84acc36e4
Closes-Bug: 1520230
Depends-On: Iaa787d6f0b643affd4c4666f654a5f7d8b37d2a3
"
openstack%2Ftempest~master~I6d8558667e561d77360e2d8043f57acc88594ce6,openstack/tempest,master,bug1415341,I6d8558667e561d77360e2d8043f57acc88594ce6,Add limit and detail optional cases for node list,ABANDONED,2015-01-29 03:23:16.000000000,2021-02-09 10:36:37.000000000,,46,0,11,151082,cbabf8636cde2bcd46d131794c28e92dd040b282,28,6,4,2,14810,Kan,Kan,"Add limit and detail optional cases for node list

Add limit and detail optional test cases for
ironic node list api.

Change-Id: I6d8558667e561d77360e2d8043f57acc88594ce6
Closes-Bug: #1415341
"
openstack%2Ftempest~master~Ia8d4b18192e09c6abf95bd0fe5a34d640b66336a,openstack/tempest,master,bug/1565584,Ia8d4b18192e09c6abf95bd0fe5a34d640b66336a,tempest_roles now used as default roles for preprov_creds.,ABANDONED,2016-04-06 15:51:32.000000000,2021-02-09 10:33:34.000000000,,40,27,3,302332,a018ecbc8c69cf0d324792c3aef124f70e64c8d1,35,7,6,6,14394,Dale Smith,dalees,"tempest_roles now used as default roles for preprov_creds.

Allows preprov_creds to request primary and alt accounts using
a named role, rather than simply any non-admin account if a test
does not explicitly request a set of roles.

Change-Id: Ia8d4b18192e09c6abf95bd0fe5a34d640b66336a
Closes-Bug: 1565584
"
openstack%2Ftempest~master~I894ed29bd0a7d134c0619c05585b03e1ef228cf2,openstack/tempest,master,bug_1711891,I894ed29bd0a7d134c0619c05585b03e1ef228cf2,[WIP] Fix a bug of default_domain_id,ABANDONED,2017-08-20 16:58:18.000000000,2021-02-09 10:32:15.000000000,,9,4,0,495569,94e88bd4324e4f18b49d3a22da515b337961feff,6,2,1,2,22960,Hai Shi,haishi,"[WIP] Fix a bug of default_domain_id

When I use tempest verify-config, the console show me a 404 error(
I can not get the default domain). So I thought we need add the
default_domain_id in create_project() and create_user().

Closes-Bug: #1711891

Change-Id: I894ed29bd0a7d134c0619c05585b03e1ef228cf2
"
openstack%2Ftempest~master~If50b82a48e7449f41f8fb08f63232eb9a21c2cf5,openstack/tempest,master,bug/1734636,If50b82a48e7449f41f8fb08f63232eb9a21c2cf5,Cut cinder backend name from host info,ABANDONED,2017-11-26 12:07:16.000000000,2021-02-09 10:30:14.000000000,,4,1,11,522952,2e8768ac3e455cc611c17ecd87c9d28b76878317,37,9,9,1,15232,Leontii,listomin,"Cut cinder backend name from host info

  Cinder can have hostname with 'host@backend#pool' format where pool
  info can be present on hostname string.
  To handle all cases we need to extract the hostname string as per
  above formatrmat.

Closes-Bug: #1734636
Change-Id: If50b82a48e7449f41f8fb08f63232eb9a21c2cf5
"
openstack%2Ftempest~master~I56921d3a4a6c94fa3f0c4879079131e6f5da933c,openstack/tempest,master,bug/1635043,I56921d3a4a6c94fa3f0c4879079131e6f5da933c,test_create_token support unspecified user fields,ABANDONED,2016-10-19 20:58:01.000000000,2021-02-09 10:28:12.000000000,,26,5,13,388897,c53063b1fea5b7c7a2c608d7d806be9d08a0ff24,20,8,3,1,6486,Brant Knudson,blk-u,"test_create_token support unspecified user fields

v2.test_tokens.TokensTest.test_create_token would fail if the
user ID (or other account field) wasn't specified in
accounts.yaml because creds.user_id (for example) winds up
being None whereas the ID in the token is whatever the server
returns and so doesn't match None.

The proposed fix is, if there's no creds.user_id (etc.)
specified in the accounts.yaml, then only require that it's in
the returned token and don't test the value.

Change-Id: I56921d3a4a6c94fa3f0c4879079131e6f5da933c
Closes-Bug: 1635043
"
openstack%2Fcinder~master~Ib1acc8bcfcdd0d6fa92a91690dffea389fc73ba1,openstack/cinder,master,bug/1894176,Ib1acc8bcfcdd0d6fa92a91690dffea389fc73ba1,[Unity]: Fix failback issue of multiple volumes,NEW,2020-09-09 08:01:01.000000000,2021-02-09 10:11:08.000000000,,188,19,2,750590,9a20bf68a490ed82526df15b0f816a517d4b8d76,154,37,4,4,26114,Yong Huang,yong.huang,"[Unity]: Fix failback issue of multiple volumes

Fix bug 1894176 to make sure host could be failback
successfully if there is more than one volume enable
replication.

Change-Id: Ib1acc8bcfcdd0d6fa92a91690dffea389fc73ba1
Closes-bug: #1894176
"
openstack%2Ftacker~master~I825a60ac2261c8d47ca4273318f51221be36bb9e,openstack/tacker,master,ft-sol-separate,I825a60ac2261c8d47ca4273318f51221be36bb9e,Increase timeout value of heat stack creation,MERGED,2021-02-08 03:53:30.000000000,2021-02-09 10:05:39.000000000,2021-02-09 09:45:36.000000000,3,1,1,774388,06b58b9e004756013e23830f7a7219f8e868c751,16,6,3,2,4149,Itsuro Oda,oda-g,"Increase timeout value of heat stack creation

Sometimes tacker-functional-devstack-multinode-sol-separated-nfvo
fails because of timeout of heat stack creation.

This patch increases timeout value of heat stack creation.

Change-Id: I825a60ac2261c8d47ca4273318f51221be36bb9e
"
openstack%2Ftempest~master~Ie0569b84dd1c397a79d13af609bf23db52a2dfc8,openstack/tempest,master,webdl-nowait,Ie0569b84dd1c397a79d13af609bf23db52a2dfc8,Make import wait check for store status,MERGED,2021-02-05 20:11:38.000000000,2021-02-09 09:46:08.000000000,2021-02-09 09:23:57.000000000,29,7,0,774302,ef8e054b6b53b393086deb43127195a48107220f,14,3,4,3,4393,Dan Smith,danms,"Make import wait check for store status

During a glance import, if we fail, we are not going to change the
state of the image in all cases, and definitely not to 'active'.
Thus waiting for active just means we keep polling a broken image
for a long time, wasting resources. We should also be checking the
list of failed stores, and if something pops in there, abort right
then and there.

This patch makes us use the wait_for_image_imported_to_stores()
waiter, and modifies it to not look at image['stores'] if no
stores are provided. In the case where we don't have multistore
support enabled, we won't be able to know that the import failed
until we time out, but otherwise we will (barring a glance bug for
which I also have a fix). This also makes the waiter not fail on
KeyError if os_glance_failed_import is not present on the image,
as would be the case if used when stores are not enabled.

Note that I'm doing this because sometimes web-download fails in the
gate due to a timeout trying to pull our http_image and we just keep
looping until our own timeout instead of noticing. It also means
we just report ""never reached active state"" instead of what we know
to be true, which is that import failed.

Change-Id: Ie0569b84dd1c397a79d13af609bf23db52a2dfc8
"
openstack%2Fcharm-guide~master~I44c02ad28b16caf7aab2dc61ba86280d6aedee89,openstack/charm-guide,master,2101-docs,I44c02ad28b16caf7aab2dc61ba86280d6aedee89,Add known issue to 21.01 - Glance backends,MERGED,2021-02-09 00:27:35.000000000,2021-02-09 09:06:05.000000000,2021-02-09 09:04:43.000000000,10,8,0,774568,f813b50575d0c03506bc4ccd50db20ecdd6b45cd,7,2,1,1,30561,Peter Matulis,pmatulis,"Add known issue to 21.01 - Glance backends

Add a Glance known issue when adding storage backends

Tone down doc update list

Fix typo

Change-Id: I44c02ad28b16caf7aab2dc61ba86280d6aedee89
"
openstack%2Fdevstack~stable%2Fvictoria~Icfaaefe1aa576733764b393cba96d276c9b1cf68,openstack/devstack,stable/victoria,fix-tempest-pip-stable/victoria,Icfaaefe1aa576733764b393cba96d276c9b1cf68,Also cap pip in tempest tox venv,ABANDONED,2021-01-24 08:47:32.000000000,2021-02-09 08:27:27.000000000,,3,0,0,772103,195161580a6aac42692dc85be2c12038a4090d79,3,2,1,1,20363,Adit Sarfaty,asarfaty,"Also cap pip in tempest tox venv

I am still unable to stack because of pip 20.3, but this time
because of the tempest venv build. This forces it to the same
capped pip, which further works around the problem.

Change-Id: Icfaaefe1aa576733764b393cba96d276c9b1cf68
Related-Bug: #1906367
(cherry picked from commit bcd0acf6c0b5d6501e91133c3a937b3fc40f7122)
"
openstack%2Fironic-python-agent~master~I9c6ee475601e8169fa46fccc6717a197af210068,openstack/ironic-python-agent,master,story-2008290,I9c6ee475601e8169fa46fccc6717a197af210068,[WIP] Add support for using NVMe specific cleaning,ABANDONED,2021-01-12 07:03:49.000000000,2021-02-09 08:25:19.000000000,,288,5,0,770237,c0b48bea05124efddd7b0a27aeb77c2d38aa00eb,16,3,5,1,32177,Jacob Anders,janders,"[WIP] Add support for using NVMe specific cleaning

This change adds support for utilising NVMe specific cleaning tools
on supported devices. This will remove the neccessity of using shred to
securely delete the contents of a NVMe drive and enable using nvme-cli
tools instead, improving cleaning performance and reducing wear on the device.

Story: 2008290
Change-Id: I9c6ee475601e8169fa46fccc6717a197af210068
"
openstack%2Frequirements~master~I1dcb7d7c25ad61500de0e0c278e366976d7c4ed8,openstack/requirements,master,,I1dcb7d7c25ad61500de0e0c278e366976d7c4ed8,Bump cryptography uc to 3.4.2,ABANDONED,2021-02-09 03:31:26.000000000,2021-02-09 07:34:52.000000000,,2,2,3,774577,239e47ff888be5d678ce3d9424b681eaf7a506a6,13,3,2,2,8833,Rabi Mishra,rabi,"Bump cryptography uc to 3.4.2

Cryptography 3.4.1 seems broken and has been fixed
with 3.4.2.

https://github.com/pyca/cryptography/commit/843ada65e816a17e1b3d90b12ab6403c8ff96654

Change-Id: I1dcb7d7c25ad61500de0e0c278e366976d7c4ed8
"
openstack%2Fswift~master~I5f5fff2e61a3e5fb4f4464262a8ea558a6e7d7ef,openstack/swift,master,rbac,I5f5fff2e61a3e5fb4f4464262a8ea558a6e7d7ef,Add a read-only role to keystoneauth,MERGED,2021-01-18 04:07:08.000000000,2021-02-09 06:36:10.000000000,2021-02-09 06:34:28.000000000,86,1,5,771158,98a0275a9d3cddb08db2e0f1a8ab20391813adc7,16,2,4,3,597,Pete Zaitcev,zaitcev,"Add a read-only role to keystoneauth

An idea was floated recently of a read-only role that can be used for
cluster-wide audits, and is otherwise safe. It was also included into
the ""Consistent and Secure Default Policies"" effort in OpenStack,
where it implements ""reader"" personas in system, domain, and project
scopes. This patch implements it for system scope, where it's most
useful for operators.

Change-Id: I5f5fff2e61a3e5fb4f4464262a8ea558a6e7d7ef
"
openstack%2Fpython-cyborgclient~master~I61d5aae4142db71bc7b3e0a28aaaf9a1bfc92bf0,openstack/python-cyborgclient,master,constraints,I61d5aae4142db71bc7b3e0a28aaaf9a1bfc92bf0,Update the constraints url,NEW,2019-09-23 08:39:17.000000000,2021-02-09 06:24:17.000000000,,1,1,0,683880,56c86ee5a1f4a27265e33bb6184cfc5fbddaf8bb,3,2,1,1,27822,pengyuesheng,pengyuesheng,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I61d5aae4142db71bc7b3e0a28aaaf9a1bfc92bf0
"
openstack%2Ftosca-parser~master~I35452efb333f7abdb6b7200531e94542fc3877c0,openstack/tosca-parser,master,bp/attach-existing-volume,I35452efb333f7abdb6b7200531e94542fc3877c0,Set tosca.nodes.BlockStorage size required as false,ABANDONED,2019-12-11 10:09:07.000000000,2021-02-09 06:01:28.000000000,,1,0,2,698439,c7ffaf7ddaec033e67d73c4e951b1a3da01a4dab,9,4,2,1,18955,dharmendra,dharmendra,"Set tosca.nodes.BlockStorage size required as false

We can provide already created volume_id for tosca.nodes.BlockStorage,
in that case no new volume will be created, and no size required.

Implements: blueprint attach-existing-volume

Change-Id: I35452efb333f7abdb6b7200531e94542fc3877c0
"
openstack%2Ftacker~master~Iab5e3eb7891b12df1c442ed117fbf11ac42b1f02,openstack/tacker,master,bp/attach-existing-volume,Iab5e3eb7891b12df1c442ed117fbf11ac42b1f02,support to attach already created volumes with VNF,ABANDONED,2019-12-11 13:39:34.000000000,2021-02-09 05:43:58.000000000,,130,11,13,698477,7eed467b9ccb3e5e98831c0220b2e7c12e074cea,35,7,5,5,18955,dharmendra,dharmendra,"support to attach already created volumes with VNF

Change-Id: Iab5e3eb7891b12df1c442ed117fbf11ac42b1f02
Implements: blueprint attach-existing-volume
Depends-on: c7ffaf7ddaec033e67d73c4e951b1a3da01a4dab
"
openstack%2Frequirements~stable%2Ftrain~I30658f0da3fa8bc312088eceac1eca574404cf90,openstack/requirements,stable/train,new-release,I30658f0da3fa8bc312088eceac1eca574404cf90,update constraint for os-net-config to new release 11.4.0,MERGED,2021-02-08 14:00:43.000000000,2021-02-09 04:55:50.000000000,2021-02-09 04:55:50.000000000,1,1,0,774464,75757b1324471f7fb9c73d64e463cc90a1759e0b,13,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os-net-config to new release 11.4.0

meta: version: 11.4.0
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Előd Illés <elod.illes@est.tech>
meta: release:Change-Id: I1348f2cb56f7615a9be9a933f74bc487dffb909d
meta: release:Code-Review+1: Marios Andreou <marios@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I30658f0da3fa8bc312088eceac1eca574404cf90
"
openstack%2Fswift~master~Ia5362f850e602667bd63df129f12816d35fc774b,openstack/swift,master,rbac,Ia5362f850e602667bd63df129f12816d35fc774b,reader-role cleanup,ABANDONED,2021-02-08 20:38:57.000000000,2021-02-09 04:04:10.000000000,,5,12,3,774538,cb6ded759fe02fee0bedd8343a36bda7a9fec4fc,4,2,1,1,15343,Tim Burke,tburke,"reader-role cleanup

Change-Id: Ia5362f850e602667bd63df129f12816d35fc774b
Related-Change: I5f5fff2e61a3e5fb4f4464262a8ea558a6e7d7ef
"
openstack%2Ftripleo-common~master~Iaca5c8e149e28dfa7d4862c1b9ac13b8658fa006,openstack/tripleo-common,master,env_merging,Iaca5c8e149e28dfa7d4862c1b9ac13b8658fa006,Removed broken mocked params,MERGED,2021-02-01 21:14:30.000000000,2021-02-09 03:52:49.000000000,2021-02-09 03:51:21.000000000,0,36,0,773482,bc9529cf70ca7789e28f33826042b492ab7a9777,10,4,1,1,7353,Kevin Carter,cloudnull,"Removed broken mocked params

When building local packages the local params will now assume
certificate information that is otherwise irrelevant to the
test. Because the underlying functions have changed, there's
no need to continue with these asserts, so they've been removed.

Signed-off-by: Kevin Carter <kecarter@redhat.com>
Change-Id: Iaca5c8e149e28dfa7d4862c1b9ac13b8658fa006
"
openstack%2Fneutron~master~Ib1a95dd41d25f39f3378a6728d752a6589b9b61c,openstack/neutron,master,bug/1912596,Ib1a95dd41d25f39f3378a6728d752a6589b9b61c,Fix incorrect exception catch when update floating ip port forwarding,MERGED,2021-02-06 02:24:56.000000000,2021-02-09 03:39:39.000000000,2021-02-09 03:38:02.000000000,60,1,0,774325,e9e4395d578e40bb59272b409c7ca3617ec1e6e3,19,4,2,2,28329,yangjianfeng,yangjianfeng,"Fix incorrect exception catch when update floating ip port forwarding

Closes-Bug: #1912596
Change-Id: Ib1a95dd41d25f39f3378a6728d752a6589b9b61c
"
openstack%2Ftacker~master~I94fc914f58747ae75651480ec11b177140fa849a,openstack/tacker,master,cleanup,I94fc914f58747ae75651480ec11b177140fa849a,Remove duplication of getting HOT templates,MERGED,2021-02-02 23:46:09.000000000,2021-02-09 02:14:11.000000000,2021-02-09 02:11:52.000000000,18,61,20,773820,9204d07e5cc632fda52aee5fc3b9b5885d20d64f,11,6,2,4,4149,Itsuro Oda,oda-g,"Remove duplication of getting HOT templates

Previously get_base_nest_hot_dict() was called by vnflcm_driver
and openstack infra_driver redundantly.

This patch remove calling get_base_nest_hot_dict() from
vnflcm_driver because HOT is openstack specific.
base_hot_dict parameter of infra_driver interface is removed
at the same time.
Note that vnf_package_path parameter is passed to infra_driver
always since it is used by both openstack and kubernetes.

Change-Id: I94fc914f58747ae75651480ec11b177140fa849a
"
openstack%2Ftacker~master~I6bedc5c8c712c9cf7d95ae5cb7384c4dea187108,openstack/tacker,master,bug/1910327,I6bedc5c8c712c9cf7d95ae5cb7384c4dea187108,Workaround for the ControllerRevision FT,MERGED,2021-02-05 10:14:00.000000000,2021-02-09 02:12:50.000000000,2021-02-09 02:11:16.000000000,2,0,0,774215,70ec11e11313707ea952591d367d072d7d17e717,9,6,1,1,31730,Naoaki Horie,naoaki-horie,"Workaround for the ControllerRevision FT

This patch is provisional workaround for bug [1].

I think possible ways to fix the bug are using the kubernetes
python client v11.0.0. However, as a other issue, the
ControllerRevision resources is not delete and remain. The
problem of resources remaining cannot be solved immediately.
Therefore, add a skip decorator to skip the Functional Test of
ControllerRevision as a workaround.

The added skip decorator will be removed after this issue
completely resolved.

[1] https://bugs.launchpad.net/tacker/+bug/1910327

Partial-Bug: #1910327
Change-Id: I6bedc5c8c712c9cf7d95ae5cb7384c4dea187108
"
openstack%2Ftacker~master~I6ffdadc196cf2ddcec3625c6bd99b5133e37af4b,openstack/tacker,master,bug/1913978,I6ffdadc196cf2ddcec3625c6bd99b5133e37af4b,Close HOT template files after read,MERGED,2021-02-01 05:16:21.000000000,2021-02-09 02:11:20.000000000,2021-02-09 02:11:20.000000000,21,47,0,773286,54aca142b09b8249531ec558e119e9b7e0db035f,11,6,1,1,4149,Itsuro Oda,oda-g,"Close HOT template files after read

Previously get_base_nest_hot_dict() used by tacker-conductor
opens and reads HOT template files but does not close them.
As a result, tacker-conductor will reach the limit of open
file descriptor while it is running long time.

This patch fixes to close HOT template files after read
them.

This patch makes some clean-ups too.
* use existing method to make path construction and make it easy to
  understand.
* remove _get_base_hot_dict() because it was replaced to
  get_base_nest_hot_dict() and is not used anywhere now.
  And it is considerd that it will not be used any more.
* remove meaningless array to tupple translation.
* same bug fix and clean-ups are applied in the same file.

Closes-Bug: #1913978

Change-Id: I6ffdadc196cf2ddcec3625c6bd99b5133e37af4b
"
openstack%2Frequirements~stable%2Ftrain~I0e329f146da5dcc347e232c38d2203269cac7a45,openstack/requirements,stable/train,new-release,I0e329f146da5dcc347e232c38d2203269cac7a45,update constraint for paunch to new release 5.4.0,MERGED,2021-02-08 13:48:14.000000000,2021-02-09 02:06:17.000000000,2021-02-09 02:06:17.000000000,1,1,0,774458,a24ebc420a5d2c30317d89ddfcb8da19b171edc4,11,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for paunch to new release 5.4.0

meta: version: 5.4.0
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Előd Illés <elod.illes@est.tech>
meta: release:Change-Id: I1348f2cb56f7615a9be9a933f74bc487dffb909d
meta: release:Code-Review+1: Marios Andreou <marios@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I0e329f146da5dcc347e232c38d2203269cac7a45
"
openstack%2Frequirements~stable%2Ftrain~I71f9e9d57a8170a6a6bce28a35a5641e55942c85,openstack/requirements,stable/train,new-release,I71f9e9d57a8170a6a6bce28a35a5641e55942c85,update constraint for os-apply-config to new release 10.5.2,MERGED,2021-02-08 13:52:44.000000000,2021-02-09 02:06:13.000000000,2021-02-09 02:06:13.000000000,1,1,0,774459,9da970c58719067ef80e00bce2613bbe097732de,11,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os-apply-config to new release 10.5.2

meta: version: 10.5.2
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Előd Illés <elod.illes@est.tech>
meta: release:Change-Id: I1348f2cb56f7615a9be9a933f74bc487dffb909d
meta: release:Code-Review+1: Marios Andreou <marios@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I71f9e9d57a8170a6a6bce28a35a5641e55942c85
"
openstack%2Foctavia~master~I48e8882f629886d1b8abadff6e60aad91d1169c7,openstack/octavia,master,secure-rbac,I48e8882f629886d1b8abadff6e60aad91d1169c7,Bump oslo.policy version to 2.1.0,MERGED,2020-11-24 04:44:03.000000000,2021-02-09 01:14:06.000000000,2021-02-09 01:12:27.000000000,4,4,1,763926,a822f30eb135b31f1e5fb212810f99f5d5adf477,23,5,5,2,5046,Lance Bragstad,ldbragst,"Bump oslo.policy version to 2.1.0

The secure RBAC work requires the of oslo.policy's scope_types argument,
which was made available in 1.32.0. This commit updates to version 2.1.0
so that we're using something more relevant.

Required oslo.context bump.

Change-Id: I48e8882f629886d1b8abadff6e60aad91d1169c7
"
openstack%2Foctavia~master~I3c2be8a5189dcda24c42ed7ab4d8fa33a03c5d3e,openstack/octavia,master,secure-rbac,I3c2be8a5189dcda24c42ed7ab4d8fa33a03c5d3e,Bump oslo.log version to 4.3.0,MERGED,2020-11-19 22:23:56.000000000,2021-02-09 00:53:22.000000000,2021-02-09 00:51:30.000000000,8,8,0,763477,7d8b0db3c854d3c452f6072e1a96c3ac5008c5c7,22,6,5,2,5046,Lance Bragstad,ldbragst,"Bump oslo.log version to 4.3.0

This allows us to use the Wallaby release marker in versionutils for
deprecations.

Required some other bumps to satisfy lower-constraints.

Change-Id: I3c2be8a5189dcda24c42ed7ab4d8fa33a03c5d3e
"
openstack%2Fproject-config~master~I4d09979e0c9dac75c7f3d878cde99cdc56b8dbe3,openstack/project-config,master,openifra-channels,I4d09979e0c9dac75c7f3d878cde99cdc56b8dbe3,Setup OpenInfra Channels,MERGED,2021-02-08 22:11:06.000000000,2021-02-09 00:52:21.000000000,2021-02-09 00:32:07.000000000,12,0,1,774550,f9c31de4c134c880d7ef67c3f074dc4ffcf0a2b8,14,2,3,2,16708,Kendall Nelson,kjnelson,"Setup OpenInfra Channels

openstack-forum, openstack-ptg, openstack-summit and openinfra-summit
will now be openinfra-events.

openstack-diversity will now be openinfra-diversity.

openstack-foundation will now be openinfra.

openstack-board will come later after we can get op rights and
register the channel.

Change-Id: I4d09979e0c9dac75c7f3d878cde99cdc56b8dbe3
"
openstack%2Ftripleo-heat-templates~master~Ia0e31c9469033c50a8b65af7fee1adf03b22d4c2,openstack/tripleo-heat-templates,master,,Ia0e31c9469033c50a8b65af7fee1adf03b22d4c2,Add service ordering to cleanup service to avoid conflicts with agent startup,MERGED,2021-01-28 17:00:37.000000000,2021-02-09 00:41:32.000000000,2021-02-09 00:41:32.000000000,1,1,0,772924,0c20e1e1ac320e30aaedba980270dffbf4528fc3,10,6,1,1,6681,Brent Eagles,beagles,"Add service ordering to cleanup service to avoid conflicts with agent startup

If the port cleanup takes too long, the neutron agents might begin
operations on the ovs bridges while cleanup is still ongoing. This can
cause undefined behavior and errors in the agent.

Change-Id: Ia0e31c9469033c50a8b65af7fee1adf03b22d4c2
Closes-Bug: #1913623
"
openstack%2Ftrove~master~I6a144fbf5d79c29dc204483bb7403ea850983a73,openstack/trove,master,custom-registry-doc,I6a144fbf5d79c29dc204483bb7403ea850983a73,Doc: custom container image registry,MERGED,2021-02-08 11:00:44.000000000,2021-02-09 00:39:04.000000000,2021-02-09 00:37:44.000000000,31,0,0,774435,6edd3332b68864e69eb6733a71ecb5e827871d8f,7,2,1,1,6732,Lingxian Kong,kong,"Doc: custom container image registry

Change-Id: I6a144fbf5d79c29dc204483bb7403ea850983a73
"
openstack%2Fswift~master~I991806227f18f115646b0549a77326617aa2c8fe,openstack/swift,master,change-337861-7,I991806227f18f115646b0549a77326617aa2c8fe,Permit to bind object-server on replication_port,NEW,2016-07-05 20:46:21.000000000,2021-02-09 00:24:20.000000000,,77,27,22,337861,758e53b6ef8432ca66556f237cb86e28d6c6d587,32,8,8,5,13852,Romain LE DISEZ,rledisez,"Permit to bind object-server on replication_port

Add a new configuration option 'servers_per_port_type' to choose on which
port the object-server must bind when servers_per_port is enabled. It can
be 'port' (the default, which does not change the current behavior), or
'replication_port', or both separated by a comma.

The following configuration will create two workers per device if port
and replication_port are different in the ring. One worker for clients'
traffic and one worker for replication traffic:
    servers_per_port = 1
    servers_per_port_type = port, replication_port

If using different ports in the ring for proxy and replication traffic,
it allows to dedicate processes to replication, which can be
IO-intensive and sometime hangs the process for many seconds.

Closes-Bug: #1669579

Change-Id: I991806227f18f115646b0549a77326617aa2c8fe
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I30b448930f53aef108d9bdb544a6d02b18658b0d,openstack/python-tripleoclient,stable/ussuri,bug/1896757,I30b448930f53aef108d9bdb544a6d02b18658b0d,Add --disable-container-prepare flag,MERGED,2021-01-07 16:04:51.000000000,2021-02-09 00:23:31.000000000,2021-02-09 00:21:57.000000000,120,40,0,769781,08d9f082eab97dcf42de516c3b7d2a65ed9d325c,17,5,1,8,14985,Alex Schultz,mwhahaha,"Add --disable-container-prepare flag

Users may want to skip the container prepare process to ensure they
don't update their containers. This change adds a
--disable-container-prepare flag to the following actions which should
skip the preparation actions.
 - overcloud deploy (and updates)
 - overcloud plan actions
 - undercloud deploy (and upgrades)
 - tripleo deploy (and standalone deploy)

Conflicts:
        tripleoclient/tests/v1/test_overcloud_plan.py
        tripleoclient/tests/workflows/test_plan_management.py
        tripleoclient/v1/overcloud_deploy.py
        tripleoclient/v1/overcloud_plan.py
        tripleoclient/workflows/plan_management.py

Closes-Bug: #1896757
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/769774
Change-Id: I30b448930f53aef108d9bdb544a6d02b18658b0d
(cherry picked from commit 0d84ac9234bf93ca4d1471d5860739bc31a6be80)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I48665379a87e701633be1bcc90bd8be1cc75c513,openstack/tripleo-heat-templates,stable/train,bug/1913725-stable/train,I48665379a87e701633be1bcc90bd8be1cc75c513,Split network validation to it's own play,MERGED,2021-01-29 14:31:50.000000000,2021-02-09 00:22:01.000000000,2021-02-09 00:22:01.000000000,11,0,0,773072,05c8592732f992790699ee385828b01ca3cad5b1,17,4,2,1,14985,Alex Schultz,mwhahaha,"Split network validation to it's own play

When we moved the network deployment to free, we can hit a race
condition where some nodes are being configured prior to the controllers
being ready. This can lead to the basic network validation failing.  We
can deal with this by moving the validation to it's own play so that we
ensure all network configurations have occurred prior to to checking
that nodes can ping the controllers.

Change-Id: I48665379a87e701633be1bcc90bd8be1cc75c513
Closes-Bug: #1913725
(cherry picked from commit 64e735898b8fae7643fc092fed840d867a252046)
"
openstack%2Fkayobe~stable%2Ftrain~I7fa88a203274c3030b3d8e5208f94b2230d43c68,openstack/kayobe,stable/train,,I7fa88a203274c3030b3d8e5208f94b2230d43c68,Fix /tmp/swift-rings/backups/ files deletion,MERGED,2021-01-22 17:19:34.000000000,2021-02-08 23:52:24.000000000,2021-02-08 23:50:51.000000000,7,0,0,771928,f4a8db8f9d94142979bbf6183062f30e42a3cae8,23,4,2,2,14826,Mark Goddard,mgoddard,"Fix /tmp/swift-rings/backups/ files deletion

Add permission escalation to the swift ring generation playbook

Task: 41256
Story: 2008354
Change-Id: I7fa88a203274c3030b3d8e5208f94b2230d43c68
(cherry picked from commit f811d3148ac542f32b476146ffc791aa4ea72693)
"
openstack%2Fmanila~master~I6a1ada102a40f3e83fe8e5287856d01dd137ea95,openstack/manila,master,service-type-standardization,I6a1ada102a40f3e83fe8e5287856d01dd137ea95,"[devstack] Setup a ""shared-file-system"" service",MERGED,2021-02-05 07:47:21.000000000,2021-02-08 23:45:15.000000000,2021-02-08 23:42:02.000000000,9,0,0,774202,27f01aaa7692614c2e72498418a85545a2aed512,15,7,1,1,16643,Goutham Pacha Ravi,gouthamr,"[devstack] Setup a ""shared-file-system"" service

A few releases ago, service types were standardized
across OpenStack [1] and manila's service type was
recommended as ""shared-file-system"" [2]. Tools were
meant to look at the service-types-authority [3]
and os-service-types repository [4] to find a list
of standard service type names for various first
party OpenStack services.

The openstacksdk currently relies on the service
type to be ""shared-file-system"" [5], so let's set
one up in devstack, to aid contributors working on
openstacksdk.

It is desirable to have all clients to initially
look for the standard service type name in the
cloud's service catalog, and fall back to the
legacy name (""sharev2"") in environments that
call the v2 API that.

[1] https://specs.openstack.org/openstack/service-types-authority/
[2] https://service-types.openstack.org/service-types.json
[3] https://opendev.org/openstack/service-types-authority
[4] https://opendev.org/openstack/os-service-types
[5] https://opendev.org/openstack/openstacksdk/src/commit/f4dd6fe5fd21fb866b43330ecbbafee5cf553ded/openstack/_services_mixin.py#L71-L72

Change-Id: I6a1ada102a40f3e83fe8e5287856d01dd137ea95
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fmanila~master~I47e65d23ebfe310643896e1de3396cd627a3def3,openstack/manila,master,healthcheck,I47e65d23ebfe310643896e1de3396cd627a3def3,Enable healthcheck middleware,MERGED,2021-02-01 09:04:07.000000000,2021-02-08 23:43:37.000000000,2021-02-08 23:41:57.000000000,29,0,0,773311,1c17ca43827246d66d47dfbb2766fedaf34847ef,27,5,2,3,9816,Takashi Kajinami,kajinamit,"Enable healthcheck middleware

This change makes healtcheck middleware enabled by default, so that
operators can use the middleware to monitor service availability for
various purpose like healthcheck by load balancers.

Change-Id: I47e65d23ebfe310643896e1de3396cd627a3def3
"
openstack%2Fbarbican-tempest-plugin~master~Ie586f8eec68d33d08a07ae9c394dcb5fed520e9c,openstack/barbican-tempest-plugin,master,,Ie586f8eec68d33d08a07ae9c394dcb5fed520e9c,DNM: Gate health check,ABANDONED,2020-12-15 21:10:27.000000000,2021-02-08 22:56:26.000000000,,1,1,0,767220,5c72ba3e959ab99e201671a75a88d8c28057a9c3,5,1,2,1,7973,Douglas Mendizábal,dougmendizabal,"DNM: Gate health check

Change-Id: Ie586f8eec68d33d08a07ae9c394dcb5fed520e9c
"
openstack%2Fopenstack-helm-infra~master~I13506ef0b3979004b2be1aa0f46a23d5cb78d065,openstack/openstack-helm-infra,master,osh-infra-tls-feature-gate,I13506ef0b3979004b2be1aa0f46a23d5cb78d065,feat(tls) [WIP] Add tls feature gate to openstack-helm-infra,ABANDONED,2021-02-08 21:53:59.000000000,2021-02-08 22:53:28.000000000,,200,0,0,774546,2883f7e4ab99a7dbe8459a43989cdaa85960e406,4,1,2,6,28849,Meghan Heisler,mh783g,"feat(tls) [WIP] Add tls feature gate to openstack-helm-infra

This will serve as a feature gate for the openstack-helm-infra
repo by turning on tls for the included charts. When tls is
added to a chart a job will need to be added here to turn the
tls on and test that the chart will still deploy correctly.

Change-Id: I13506ef0b3979004b2be1aa0f46a23d5cb78d065
"
openstack%2Fnova~master~I859be652eb8fff591899a223193bd9efc8830cf3,openstack/nova,master,,I859be652eb8fff591899a223193bd9efc8830cf3,fup: Merge duplicate volume attachment checks,MERGED,2021-02-01 12:34:53.000000000,2021-02-08 22:49:04.000000000,2021-02-08 22:45:32.000000000,119,86,19,773380,81b689e5bbae446e0b9da7ad604640aa7abe47e4,33,4,5,6,10135,Lee Yarwood,lyarwood,"fup: Merge duplicate volume attachment checks

This is a follow up to I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a where
it was noted that we could merge these checks into one using a single db
query for all active volume attachments for a given volume. This
requires changes to the BlockDeviceMappingList object and was thus left
as a separate change to allow the original to be backported.

Change-Id: I859be652eb8fff591899a223193bd9efc8830cf3
"
openstack%2Fnova~master~I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a,openstack/nova,master,bug/1908075,I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a,api: Reject volume attach requests when an active bdm exists,MERGED,2020-12-24 13:28:53.000000000,2021-02-08 22:47:51.000000000,2021-02-08 22:45:02.000000000,89,27,21,768472,1252588d4e48da1d3a753639a8a4d937acf3e037,45,5,6,3,10135,Lee Yarwood,lyarwood,"api: Reject volume attach requests when an active bdm exists

When attaching volumes to instances Nova has previously relied on checks
carried out by c-api to ensure that a single non-multiattach volume is
not attached to multiple instances at once. While this works well in
most cases it does not handle PEBKAC issues when admins reset the state
of a volume to available, allowing users to request that Nova attach the
volume to another instance.

This change aims to address this by including a simple check in the
attach flow for non-multiattach volumes ensuring that there are no
existing active block device mapping records for the volume already
present within Nova.

Closes-Bug: #1908075
Change-Id: I2881d77d52bcbde9f3ac6a6ddfb4a22a9bd45c8a
"
openstack%2Ftripleo-common~stable%2Fussuri~I96ab407ba50e2183141daec3341dbb29545d5beb,openstack/tripleo-common,stable/ussuri,bug/1912645-stable/ussuri,I96ab407ba50e2183141daec3341dbb29545d5beb,Check existence of expires_in for auth,MERGED,2021-01-27 16:33:11.000000000,2021-02-08 21:42:32.000000000,2021-02-08 21:40:57.000000000,2,1,0,772718,cefc6250ee754a743037bc9381884aaae84dd3a4,15,4,1,1,14985,Alex Schultz,mwhahaha,"Check existence of expires_in for auth

If a registries doesn't provide an expires_in with their token, the
current code fails doing the comparison. If no such header is included,
let's assume there is no expire time so we can just use the cached
token.  If the token expires, we'll reauth as usual.

Change-Id: I96ab407ba50e2183141daec3341dbb29545d5beb
Closes-Bug: #1912645
(cherry picked from commit e04774948e8cfa8ac4d2a1f57f0e53e2ef0861ee)
"
openstack%2Fnova~master~I639dd5af7c039da546eaf9ccce56cbaaa38fa79a,openstack/nova,master,bug/1908075,I639dd5af7c039da546eaf9ccce56cbaaa38fa79a,Add regression test for bug #1908075,MERGED,2020-12-14 15:45:01.000000000,2021-02-08 21:40:36.000000000,2021-02-08 21:38:52.000000000,102,0,14,766976,ee3a8f02253f1f652785c07ea0be6464ab4bcc11,56,7,7,1,10135,Lee Yarwood,lyarwood,"Add regression test for bug #1908075

Related-Bug: #1908075
Change-Id: I639dd5af7c039da546eaf9ccce56cbaaa38fa79a
"
openstack%2Fswift~stable%2Fussuri~I952690558486a1d981985eae0fe9d7e07ff30e17,openstack/swift,stable/ussuri,,I952690558486a1d981985eae0fe9d7e07ff30e17,Prevent upgrading to pip 21+,MERGED,2021-02-08 15:38:01.000000000,2021-02-08 21:40:26.000000000,2021-02-08 21:38:45.000000000,4,2,0,774482,69a95a52a5a0dc383d30719be6d5c25273ae631d,7,2,1,1,15343,Tim Burke,tburke,"Prevent upgrading to pip 21+

Change-Id: I952690558486a1d981985eae0fe9d7e07ff30e17
(cherry picked from commit 0b870eb94dfe9769a07695b296eaa6758820a5f3)
"
openstack%2Ftripleo-ansible~master~I43852cb3570b8cb12a35f4bc641a42ddfd8ad7f1,openstack/tripleo-ansible,master,bgpsupport,I43852cb3570b8cb12a35f4bc641a42ddfd8ad7f1,Set source IPv4 address from inventory vars,MERGED,2021-01-19 09:54:36.000000000,2021-02-08 21:12:51.000000000,2021-02-08 21:12:51.000000000,2,4,0,771393,7d89d70342dd8512bc9580d855eb186e4309d691,21,4,5,2,6469,Carlos Gonçalves,cgoncalves,"Set source IPv4 address from inventory vars

Currently users have to pass in a dictionary of HOSTNAME:SOURCE_IPV4 of
all nodes in the deployment. An example is as follows from THT:

  FrrBgpIpv4LoopbackMap:
    ctrl-1-0: 99.99.1.1
    ctrl-2-0: 99.99.2.1
    ctrl-3-0: 99.99.3.1
    cmp-1-0: 99.99.1.2
    cmp-2-0: 99.99.2.2
    cmp-3-0: 99.99.3.2
    cmp-1-1: 99.99.1.3
    cmp-2-1: 99.99.2.3
    cmp-3-1: 99.99.3.3

This is rather time consuming, prone to typos and requires updating at
node scale up/down. It would be much easier if users could just pass in
the network and have tripleo_frr get the IP from given network.
Snip from tripleo-ansible-inventory.yaml:

  ControllerRack1:
    hosts:
      ctrl-1-0: {ansible_host: 192.168.1.101, canonical_hostname: ctrl-1-0.bgp.ftw,
        main_network_hostname: ctrl-1-0.mainnetwork.bgp.ftw, main_network_ip: 99.99.1.1,
        [...]

Change-Id: I43852cb3570b8cb12a35f4bc641a42ddfd8ad7f1
"
openstack%2Frequirements~stable%2Ftrain~I4bf84bc29abba99e3e8ac8d68e90bd70bcbeed94,openstack/requirements,stable/train,new-release,I4bf84bc29abba99e3e8ac8d68e90bd70bcbeed94,update constraint for tripleo-common to new release 11.5.0,MERGED,2021-02-08 14:05:25.000000000,2021-02-08 20:58:57.000000000,2021-02-08 20:58:57.000000000,1,1,0,774465,1a9489aa828ef8a0eb9586367f9694eade30c634,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for tripleo-common to new release 11.5.0

meta: version: 11.5.0
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Előd Illés <elod.illes@est.tech>
meta: release:Change-Id: I1348f2cb56f7615a9be9a933f74bc487dffb909d
meta: release:Code-Review+1: Marios Andreou <marios@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I4bf84bc29abba99e3e8ac8d68e90bd70bcbeed94
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~I2f77611f9b5f712d017e51fb6751a51d1e985671,openstack/openstack-ansible,stable/victoria,bump_osa,I2f77611f9b5f712d017e51fb6751a51d1e985671,Bump SHAs for stable/victoria,MERGED,2021-01-31 18:09:02.000000000,2021-02-08 20:49:06.000000000,2021-02-08 20:46:31.000000000,70,70,0,773264,e1dc35d8e10d01d8823065cccfb5c8f341be7446,29,4,5,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump SHAs for stable/victoria

Change-Id: I2f77611f9b5f712d017e51fb6751a51d1e985671
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~Id94132d23d272d383b65a839a75b08f855fb6be3,openstack/python-tripleoclient,stable/train,train,Id94132d23d272d383b65a839a75b08f855fb6be3,[Validator Show Run] Display simplified results by default,MERGED,2021-02-01 11:17:04.000000000,2021-02-08 20:41:19.000000000,2021-02-08 20:39:28.000000000,4,3,0,773367,8ddfc7d5f1f7a8b20d9c0be8604fba35b464601c,17,6,1,1,11491,Gael Chamoulaud,gchamoul,"[Validator Show Run] Display simplified results by default

This patch is displaying the content of the validation_output dictionary
which is a simplified output content (the former validation_output)
instead of dumping the entire log file in the stdout.

It also fixes the --full argument which was True forever!

Change-Id: Id94132d23d272d383b65a839a75b08f855fb6be3
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit 4229bee94016ad5a78dd8455f282a8e7f4a3d28e)
(cherry picked from commit 7873e6d800d75119730c7cd8ff1152fe08aa1c49)
(cherry picked from commit 0f91bcce72633ef9f1e006460aca8ce1c3dec83a)
"
openstack%2Fkayobe~stable%2Ftrain~Ibe42fa372c6fa0c539d2c2b0e238601286dc213d,openstack/kayobe,stable/train,,Ibe42fa372c6fa0c539d2c2b0e238601286dc213d,Fix --limit with commas,MERGED,2021-01-15 16:59:59.000000000,2021-02-08 20:39:47.000000000,2021-02-08 20:38:00.000000000,74,4,0,770960,b3dd061250745f81bfcde292f13464eb8203eba2,16,3,1,5,14826,Mark Goddard,mgoddard,"Fix --limit with commas

Kayobe allows specifying a --limit argument, which is passed through to
Ansible. In some cases we wish to add an intersection with a group. This
allows us to reuse playbooks for the seed, overcloud etc.

For example, the lvm.yml playbook specifies a host list of
seed-hypervisor:seed:overcloud. When executed as part of a kayobe
overcloud host configure command, Kayobe passes a limit of overcloud. If
the user specifies a --limit argument, this gets intersected with the
overcloud limit: host1:&overcloud.

The problem happens if the user specifies multiple parts to the host
pattern in their limit using a comma, e.g. host1,host2. This results in
host1,host2:&overcloud. Ansible ignores the colon, and treats this as
host1 or host2:&overcloud.

The solution is to use a comma to join the patterns if the user has used
a comma: host1,host2,&overcloud

Change-Id: Ibe42fa372c6fa0c539d2c2b0e238601286dc213d
Story: 2008255
Task: 41111
(cherry picked from commit 017b092df70706177c542c3a3cab3f9d0a75e5c2)
"
openstack%2Fopenstack-helm~master~I413f1ea33e1a52919d68a1bdb6208eedca655497,openstack/openstack-helm,master,placement-reno,I413f1ea33e1a52919d68a1bdb6208eedca655497,Update placement release notes to current,MERGED,2021-02-03 20:39:44.000000000,2021-02-08 19:59:15.000000000,2021-02-08 19:56:44.000000000,6,0,0,773998,eab84e55bc25c234a604e8692ef41d5f08b5b88e,11,5,1,1,24780,Sangeet Gupta,sgupta,"Update placement release notes to current

Change-Id: I413f1ea33e1a52919d68a1bdb6208eedca655497
"
openstack%2Fironic-tempest-plugin~master~I3f39b25ee0fd44c1bc51f94a7fbee74de8cba65d,openstack/ironic-tempest-plugin,master,tox-min-version-parse-comments,I3f39b25ee0fd44c1bc51f94a7fbee74de8cba65d,Reconfigure tox.ini,MERGED,2021-01-23 17:48:00.000000000,2021-02-08 19:51:59.000000000,2021-02-08 19:50:12.000000000,6,7,0,772162,13de53a462ad6f9aa27ed740626f1d5666f5f532,10,3,2,2,23851,Riccardo Pittau,elfosardo,"Reconfigure tox.ini

Update minversion of tox to 3.9.0 to support inline comments [1]

Move pep8 and coverage requirements to tox.ini

Fix typo in coverage job

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17

Change-Id: I3f39b25ee0fd44c1bc51f94a7fbee74de8cba65d
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Iaa6fdef24599072f5a31c1fd2da29c276399c83d,openstack/tripleo-heat-templates,stable/victoria,fix_reboot-stable/victoria,Iaa6fdef24599072f5a31c1fd2da29c276399c83d,Add post delay to reboot,MERGED,2021-02-05 10:02:40.000000000,2021-02-08 19:44:15.000000000,2021-02-08 19:44:15.000000000,10,0,0,774124,1dc7be85bbeab9e979a3462a89c192e7933836d3,12,5,2,1,6816,Jesse Pretorius,jesse-pretorius,"Add post delay to reboot

Leapp may reconfigure network after main upgrade. Also systemd may bring
down and up again network unit. This patch adds post_reboot_delay as 2 min to
mitigate such issues which can be configurable as heat variable in
customers env files for some very specific cases. Also test_command is
changed from whoami to systemctl to have better assesment when a system
completed its boot.

Closes-Bug: rhbz#1920293

Change-Id: Iaa6fdef24599072f5a31c1fd2da29c276399c83d
(cherry picked from commit a9bf1c1285ebb54844018b9f18ed8089fbc30a3f)
"
openstack%2Fkolla-ansible~master~I7bcf5039ecb455d5ad73c8d413dbbe89d00da6e9,openstack/kolla-ansible,master,neutron_add_networking_generic_switch,I7bcf5039ecb455d5ad73c8d413dbbe89d00da6e9,Add neutron genericswitch driver,NEW,2020-12-03 11:25:11.000000000,2021-02-08 19:43:05.000000000,,13,0,1,765314,16c46f2ae64550e51475d26a53d714342a7482f0,4,2,1,4,31310,dou,douyali,"Add neutron genericswitch driver

When ironic use multi-tenancy network need switch vlan.
neutron-server need the genericswitch driver supported.

Change-Id: I7bcf5039ecb455d5ad73c8d413dbbe89d00da6e9
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ie91633c2bcc8011cc62b46452ea5b444cf12029f,openstack/tripleo-heat-templates,stable/ussuri,,Ie91633c2bcc8011cc62b46452ea5b444cf12029f,Make NovaComputeOptVolumes and NovaComputeOptEnvVars role aware,MERGED,2021-02-08 06:27:44.000000000,2021-02-08 19:26:08.000000000,2021-02-08 19:26:08.000000000,10,2,0,774395,d38c3df912487b35d1c79994cb42032bcb46ee12,10,8,1,1,20733,Rajesh Tailor,rajesht,"Make NovaComputeOptVolumes and NovaComputeOptEnvVars role aware

Since multiple types of computes can be deployed, we should allow the
customization of these containers to be role specific.

Conflicts:
      deployment/nova/nova-compute-container-puppet.yaml

Change-Id: Ie91633c2bcc8011cc62b46452ea5b444cf12029f
(cherry picked from commit 1471976c6eaf635bc0808dc0f0c6b9cd61654732)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ie91633c2bcc8011cc62b46452ea5b444cf12029f,openstack/tripleo-heat-templates,stable/train,,Ie91633c2bcc8011cc62b46452ea5b444cf12029f,Make NovaComputeOptVolumes and NovaComputeOptEnvVars role aware,MERGED,2021-02-08 08:14:56.000000000,2021-02-08 19:26:01.000000000,2021-02-08 19:26:01.000000000,10,2,0,774417,28cb354c353bef41b2679d49b8c3ae13bcaef626,9,9,1,1,20733,Rajesh Tailor,rajesht,"Make NovaComputeOptVolumes and NovaComputeOptEnvVars role aware

Since multiple types of computes can be deployed, we should allow the
customization of these containers to be role specific.

Conflicts:
      deployment/nova/nova-compute-container-puppet.yaml

Change-Id: Ie91633c2bcc8011cc62b46452ea5b444cf12029f
(cherry picked from commit 1471976c6eaf635bc0808dc0f0c6b9cd61654732)
(cherry picked from commit d38c3df912487b35d1c79994cb42032bcb46ee12)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1133c210f35181d44f8ba56f09b52f00589e035c,openstack/tripleo-heat-templates,stable/train,live-migration-optimization,I1133c210f35181d44f8ba56f09b52f00589e035c,Live migration optimization with HP,MERGED,2021-01-26 19:53:48.000000000,2021-02-08 19:23:12.000000000,2021-02-08 19:21:18.000000000,65,1,0,772544,43b7188ef524c9eec5ee59faae29ffdf62c2de90,24,8,5,2,27419,David Vallee Delisle,dvd,"Live migration optimization with HP

When a node has hugepages enabled, we can help with live migrations by
enabling NovaLiveMigrationPermitPostCopy and
NovaLiveMigrationPermitAutoConverge.

Related: https://bugzilla.redhat.com/1298201

Conflicts:
  deployment/nova/nova-compute-container-puppet.yaml

Change-Id: I1133c210f35181d44f8ba56f09b52f00589e035c
(cherry picked from commit df207fd2e94e9604cdf48e82cd1dcafb660eadc8)
(cherry picked from commit d4a3253d9326d0a890feb29794612420506fb866)
(cherry picked from commit aa4382ee83d40070d72785b23a5ff7fa459b6c04)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I1b4e26fd4a46599985a989441f493a3ed39237bb,openstack/tripleo-heat-templates,stable/victoria,,I1b4e26fd4a46599985a989441f493a3ed39237bb,Use include_role for conditional inclusion,MERGED,2021-02-01 12:49:41.000000000,2021-02-08 19:21:24.000000000,2021-02-08 19:21:24.000000000,1,1,0,773207,9e271664adaed5d5cd3fee03f99e72ba6ab2f1bf,15,5,1,1,6816,Jesse Pretorius,jesse-pretorius,"Use include_role for conditional inclusion

When import_role is used with a condition, the condition is
applied to all tasks in the role. This is inefficient. If we
use include_role instead, then the role inclusion task is
skipped and none of the tasks in the role are even evaluated.

Related-bug: rhbz#1922132

Change-Id: I1b4e26fd4a46599985a989441f493a3ed39237bb
(cherry picked from commit 46df551a0f00cf143ddd5cd9c651b08a13a79fb0)
"
openstack%2Fbifrost~master~I764f2b44de62d79fddc0a1d139b9b3f9ee270e5c,openstack/bifrost,master,,I764f2b44de62d79fddc0a1d139b9b3f9ee270e5c,Update version of doc8,MERGED,2021-01-18 08:48:16.000000000,2021-02-08 19:11:19.000000000,2021-02-08 19:09:22.000000000,1,1,0,771169,57a4f1bf2f4b0e896824614b03d2c00ac4353cfe,10,5,1,1,32291,wushiming,wushiming,"Update version of doc8

The doc8 lib supports Py36 starting from version 0.8.1

Change-Id: I764f2b44de62d79fddc0a1d139b9b3f9ee270e5c
"
openstack%2Frequirements~stable%2Ftrain~Iaac32d3edc938e568b454bc5359da3a6bce234d1,openstack/requirements,stable/train,new-release,Iaac32d3edc938e568b454bc5359da3a6bce234d1,update constraint for os-refresh-config to new release 10.4.1,MERGED,2021-02-08 13:56:58.000000000,2021-02-08 18:55:46.000000000,2021-02-08 18:55:46.000000000,1,1,0,774462,ef0b8aca68b279bf5567fe5917bdbf036b514079,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os-refresh-config to new release 10.4.1

meta: version: 10.4.1
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Előd Illés <elod.illes@est.tech>
meta: release:Change-Id: I1348f2cb56f7615a9be9a933f74bc487dffb909d
meta: release:Code-Review+1: Marios Andreou <marios@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: Iaac32d3edc938e568b454bc5359da3a6bce234d1
"
openstack%2Foslo.serialization~stable%2Ftrain~I3c416e855cb5f0dc32d14b2749ba92aba8964574,openstack/oslo.serialization,stable/train,fix-json-primitive,I3c416e855cb5f0dc32d14b2749ba92aba8964574,Fix json to_primitive when using IO OBjects,MERGED,2021-02-05 09:26:32.000000000,2021-02-08 18:35:28.000000000,2021-02-08 18:33:37.000000000,18,1,0,774210,a9c4bfab354496827ec802f60a46c531107f5de4,8,4,1,3,28522,Hervé Beraud,hberaud,"Fix json to_primitive when using IO OBjects

Currently, using Cinder's backup service with RBD the
backup-create operation gets stuck when logging
('use_json=True' must be set in the config file).

The oslo.log JSONFormatter gets stuck when passing an
RBDVolumeIOWrapper from os-brick. This happens via os-brick's
utils.trace() method which passes a connector containing
{'path': RBDVolumeIOWrapper}.
The oslo.log JSONFormatter format() method calls
oslo_serialization's jsonutils.to_primitive and passes in
this RBDVolumeIOWrapper object.
 
Therefore the to_primitive method eventually calls
RBDVolumeIOWrapper.read(). In order to fix this the current
path avoids mapping io.IOBase objects and fallback the wrapper
RBD volume object.

Co-authored-by: Eric Harney <eharney@redhat.com>
Closes-Bug: #1908607
Change-Id: I3c416e855cb5f0dc32d14b2749ba92aba8964574
(cherry picked from commit 02037330d863ecbe2471b63bff5461dee6a3c024)
(cherry picked from commit fcd737e2b19a4fee58db79281b336342f0f09d7b)
(cherry picked from commit ab5c68d301dcd409a1112da6f2f89b0f2fc13183)
"
openstack%2Fopenstack-helm-infra~master~I18d08eb00c86c1022fdc2599d88ac5429ad661a6,openstack/openstack-helm-infra,master,,I18d08eb00c86c1022fdc2599d88ac5429ad661a6,[CEPH] Update release notes for all ceph charts,MERGED,2021-02-08 14:32:04.000000000,2021-02-08 18:27:47.000000000,2021-02-08 18:25:33.000000000,7,1,1,774471,41b86c1071c9f841e4da0c96af30fafb16811a48,20,13,3,5,28372,chinasubbareddy mallavarapu,chinasubbareddy,"[CEPH] Update release notes for all ceph charts

This change updates the releasenotes for all ceph charts to current
changes as of the date of this commit.

Change-Id: I18d08eb00c86c1022fdc2599d88ac5429ad661a6
"
openstack%2Fpuppet-tripleo~master~Ic2c86e6a890b58ca7703ea3a3147c8d4ecf13953,openstack/puppet-tripleo,master,cinder-multipath,Ic2c86e6a890b58ca7703ea3a3147c8d4ecf13953,Add parameters for multipath connection in cinder store,MERGED,2021-02-02 16:12:17.000000000,2021-02-08 18:21:12.000000000,2021-02-08 18:21:12.000000000,16,0,0,773722,9466c801bc75857334d5b4c8caf0b4175c6fbdc8,8,4,1,2,19138,Pranali Deore,PranaliD,"Add parameters for multipath connection in cinder store

Adding following 2 parameters for cinder store when multipath usage is
enabled in volume connection,

 - cinder_enforce_multipath
 - cinder_use_multipath

Change-Id: Ic2c86e6a890b58ca7703ea3a3147c8d4ecf13953
"
openstack%2Fcinder~master~I611855199722a3880e1b18133a8472e1ebe82e6c,openstack/cinder,master,bug/1910143,I611855199722a3880e1b18133a8472e1ebe82e6c,Pure Storage: Add IPv6 CIDR support,ABANDONED,2021-01-05 16:02:38.000000000,2021-02-08 18:11:47.000000000,,38,9,0,769391,bf0867110956d4e05fcea099d26bacd886f67b86,59,2,3,3,13425,Simon Dodsley,sdodsley,"Pure Storage: Add IPv6 CIDR support

Add new configuration parameter pure_iscsi_cidr_v6 to allow for
IPv6 CIDR range support.

Change-Id: I611855199722a3880e1b18133a8472e1ebe82e6c
Closes-Bug: 1910143
"
openstack%2Ftripleo-common~master~I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad,openstack/tripleo-common,master,bug/1913782,I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad,Handle containers without a namespace,MERGED,2021-01-29 18:36:21.000000000,2021-02-08 18:03:50.000000000,2021-02-08 18:02:04.000000000,6,1,3,773166,7e797317a33a5c5881a1e24b9666ae774ca224c0,13,7,1,1,14985,Alex Schultz,mwhahaha,"Handle containers without a namespace

Satellite server does not include a namespace when exposing containers.
This change fixes our image-serve metadata creation to understand this
concept and build the _catalog we provide correctly. We will only handle
two types of containers path structures with the image-serve.

   * host:port/namespace/container:tag
   * host:port/container:tag

Change-Id: I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/773164
Closes-Bug: #1913782
"
openstack%2Ftripleo-quickstart~master~Ifca4714ed189fc57655382325e45b1678b470cdb,openstack/tripleo-quickstart,master,bug/1914982,Ifca4714ed189fc57655382325e45b1678b470cdb,Add --disable-validations in extra-args for fs020,MERGED,2021-02-08 06:38:20.000000000,2021-02-08 18:03:38.000000000,2021-02-08 18:02:00.000000000,3,0,1,774416,a75507714623ae42246c65d0f191e3ccabb00009,15,4,4,1,29775,Sandeep Yadav,sandeepyadav93,"Add --disable-validations in extra-args for fs020

We have enabled baremetal provisioning for fs020 with [1]. Because
--disable-validations is missing for ussuri/victoria we are hitting
bug[2]. fs001 and fs035 already have disable-validations flag.[3]

In master we don't need to disable validations anymore with
pre-deployed Overcloud nodes, details in [4].

Other featureset need update as well to remove --disable-validations
for master branch, but as this option is in multiple places[5] lets
do that in separate patch.

[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/773648
[2] https://bugs.launchpad.net/tripleo/+bug/1914982
[3] https://opendev.org/openstack/tripleo-quickstart/src/branch/master/config/general_config/featureset001.yml#L80-L82
[4] https://review.opendev.org/c/openstack/tripleo-docs/+/771970/4/deploy-guide/source/features/deployed_server.rst
[5] https://codesearch.opendev.org/?q=--disable-validations&i=nope&files=&excludeFiles=&repos=openstack/tripleo-quickstart

Closes-Bug: #1914982
Change-Id: Ifca4714ed189fc57655382325e45b1678b470cdb
"
openstack%2Fpython-magnumclient~master~Ibbdc9a9cd7ae4733eb6d38a7db11a68866f0d446,openstack/python-magnumclient,master,observations,Ibbdc9a9cd7ae4733eb6d38a7db11a68866f0d446,Add CT tags argument and field to client,MERGED,2020-06-24 15:55:18.000000000,2021-02-08 17:55:09.000000000,2021-02-08 14:00:49.000000000,31,9,4,737837,201b3527b06a9716338bbc9a5cfa5bb661c76a96,42,5,9,5,29425,Diogo Guerra,dioguerra,"Add CT tags argument and field to client

We noticed that from the user perspective it is hard
to know when a cluster_template provided by the cloud
admin is mature enough for a production release.
This field will allow the administrator to add an
annotation to the cluster template like
{deprecated, recommended, testing} giving further
usefull information to the end user about the
template's life cycle

This patch allows the magnumclient to pass the
--tags <text> when creating a cluster template
and also shows the observations available when listing
existent cluster templates.

story: 2004215
task: 40161

Depends-On: I5d1c4221f089bc5cd12b25f620aa01771a029df9
Change-Id: Ibbdc9a9cd7ae4733eb6d38a7db11a68866f0d446
Signed-off-by: Diogo Guerra <dy090.guerra@gmail.com>
"
openstack%2Fneutron~master~Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,openstack/neutron,master,bug/1910691,Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,Stop metadata proxy gracefully,MERGED,2021-02-02 17:31:04.000000000,2021-02-08 17:55:05.000000000,2021-02-08 17:51:49.000000000,64,6,2,773778,bf14c725bbb6ce710a45c55d1dd00eee2fb53f62,33,5,4,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Stop metadata proxy gracefully

HAProxy supports hard stop [1] via SIGTERM signal. From the
documentation:

  """"""
  ... when the SIGTERM signal is sent to the haproxy process,
  it immediately quits and all established connections are
  closed.
  """"""

In case the process does not finish, the SIGKILL signal is sent.
The PID file created by the process is deleted.

[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4

Closes-Bug: #1910691

Change-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb
"
openstack%2Frequirements~master~Id3b51761805e3af00c2b7e5f0e90459c3fccdd64,openstack/requirements,master,new-release,Id3b51761805e3af00c2b7e5f0e90459c3fccdd64,update constraint for oslo.metrics to new release 0.2.0,MERGED,2021-02-08 13:56:05.000000000,2021-02-08 17:54:29.000000000,2021-02-08 17:52:20.000000000,1,1,0,774461,1379c59249c9940c9582b752463df222ec76dfef,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.metrics to new release 0.2.0

meta: version: 0.2.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Ching Kuo <ching.kuo@linecorp.com>
meta: release:Commit: Ching Kuo <ching.kuo@linecorp.com>
meta: release:Change-Id: I68dbea306109ed25124480348a00fe3830066868
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: Id3b51761805e3af00c2b7e5f0e90459c3fccdd64
"
openstack%2Ftripleo-common~stable%2Ftrain~If56cd0fa986ef193d036b73e0ab84a88d59147e3,openstack/tripleo-common,stable/train,healthcheck/http-stable/train,If56cd0fa986ef193d036b73e0ab84a88d59147e3,Conditionally use python instead of cURL,MERGED,2021-01-26 11:53:02.000000000,2021-02-08 17:31:46.000000000,2021-02-08 17:29:17.000000000,54,1,0,772412,74c85faaf0cd5549e0e887672986a3b8f30a4c53,32,3,5,2,28223,Cedric Jeanneret,cjeanner,"Conditionally use python instead of cURL

The healthcheck_curl has always been a bit bonky with the proxies
management, especially the ""no_proxy"" environment variable: since there
isn't any real RFC describing the content of this variable, there isn't
any unified handling.

This leads to situation where an Operator puts some CIDR notation inside
this variable, while curl doesn't handle it.

This change adds a new python script. Since it uses python-requests, it
will have a proper support for the CIDR notation[1].

It will be called if and only if either NO_PROXY or no_proxy environment
variables are set and non-empty.

One can also force the script usage by passing HEALTHCHECK_CURL_PY=1,
such as:
podman exec -e ""HEALTHCHECK_CURL_PY=1"" container /healthchecks/you-healthcheck

The output is 100% iso-compatible, and if someone wants to know what
healthcheck is used, they can check the User-Agent on the target logs.

This change is motivated by, at least, the following existing issues:
https://bugzilla.redhat.com/show_bug.cgi?id=1837458
https://bugzilla.redhat.com/show_bug.cgi?id=1883657

[1] https://github.com/psf/requests/blob/589c4547338b592b1fb77c65663d8aa6fbb7e38b/requests/utils.py#L663-L684

Note: stable/train patch has a different shebang than the original one
due to the CentOS7 support: we don't push any python3 dependencies in
the containers for that OS release.

Depends-On: https://review.rdoproject.org/r/#/c/31813/
Change-Id: If56cd0fa986ef193d036b73e0ab84a88d59147e3
(cherry picked from commit 2185d9a8599f4efb79fe38b188bc48e931eba625)
"
openstack%2Foslo.policy~master~Ibd2503db55739a9b8a3011534a7b51db16282001,openstack/oslo.policy,master,tox_constraints_file,Ibd2503db55739a9b8a3011534a7b51db16282001,Use TOX_CONSTRAINTS_FILE,ABANDONED,2020-11-04 09:49:47.000000000,2021-02-08 17:31:36.000000000,,1,1,0,761349,0529d84c22acfea957a80cdba2abb5adf0fca2ca,15,3,1,1,28522,Hervé Beraud,hberaud,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://review.opendev.org/#/c/722814/
[2] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: Ibd2503db55739a9b8a3011534a7b51db16282001
"
openstack%2Frequirements~master~If35561726af72c8cf15b493e8099d2fe92bf689f,openstack/requirements,master,new-release,If35561726af72c8cf15b493e8099d2fe92bf689f,update constraint for oslo.vmware to new release 3.8.0,MERGED,2021-02-08 13:27:47.000000000,2021-02-08 17:30:45.000000000,2021-02-08 17:26:57.000000000,1,1,0,774450,5d6dbf69fc25c95c70f86c1056cd2c699a6ac925,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.vmware to new release 3.8.0

meta: version: 3.8.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Commit: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Change-Id: I712e9ad4b4b998b80ca71fe53fea1a6cbf328e3c
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: If35561726af72c8cf15b493e8099d2fe92bf689f
"
openstack%2Frequirements~master~Ic3f9642248cf4a19f77bdf298549aeaa34798255,openstack/requirements,master,new-release,Ic3f9642248cf4a19f77bdf298549aeaa34798255,update constraint for oslo.serialization to new release 4.1.0,MERGED,2021-02-08 13:32:19.000000000,2021-02-08 17:28:56.000000000,2021-02-08 17:26:52.000000000,1,1,0,774453,ff905c551003628ad02d00471da1116e1343c7d6,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.serialization to new release 4.1.0

meta: version: 4.1.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Commit: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Change-Id: I712e9ad4b4b998b80ca71fe53fea1a6cbf328e3c
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: Ic3f9642248cf4a19f77bdf298549aeaa34798255
"
openstack%2Ftenks~master~Ibd61e090611b3b7a7e0670c854362b512454bf3c,openstack/tenks,master,,Ibd61e090611b3b7a7e0670c854362b512454bf3c,Fix virtualbmc installation after release of cryptography 3.4,MERGED,2021-02-08 14:55:10.000000000,2021-02-08 17:06:22.000000000,2021-02-08 17:04:10.000000000,19,0,0,774474,f34bb772a018d3ee3a2872358542ad51c22fc06e,8,3,1,2,15197,Pierre Riteau,priteau,"Fix virtualbmc installation after release of cryptography 3.4

Installing virtualbmc system-wide on CentOS 8 fails with:

    ModuleNotFoundError: No module named 'setuptools_rust'

This error appeared following the release of cryptography 3.4, which now
includes Rust code. It can be installed without Rust using a Python
wheel, but only with more recent pip than version 9.0.3 available as RPM
on CentOS 8. The cryptography bug report [1] recommends pip>=19.1.1.

Also ignore PyYAML when installing system-wide to avoid conflicts with
an existing RPM package installation.

[1] https://github.com/pyca/cryptography/issues/5753

Change-Id: Ibd61e090611b3b7a7e0670c854362b512454bf3c
Story: 2008607
Task: 41788
"
openstack%2Ftripleo-heat-templates~master~I269607d43f45f65efcbce33dd776e7eb4f475311,openstack/tripleo-heat-templates,master,,I269607d43f45f65efcbce33dd776e7eb4f475311,Use Ceph-NFS for Manila in scenario004,MERGED,2021-01-08 15:00:23.000000000,2021-02-08 17:03:47.000000000,2021-01-27 00:20:41.000000000,8,0,0,769937,63c5a94f83a6d8d9f9cc3e342265002e2e708d81,29,6,4,2,9003,Tom Barron,tbarron,"Use Ceph-NFS for Manila in scenario004

CephFS gatewayed by NFS is more generally suitable for multi-tenant
OpenStack deployments than native CephFS since the latter requires
that VMs belonging to regular members of Keystone projects be exposed
to the Ceph infrastructure and run client software with capabilities
that are not appropriate for untrusted cloud tenants.

Depends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/769906
Depends-on: https://review.opendev.org/c/openstack/tripleo-ci/+/770049

Change-Id: I269607d43f45f65efcbce33dd776e7eb4f475311
"
openstack%2Ftripleo-ansible~master~I0f553f8e7f622b983b6707674c958e211bb83829,openstack/tripleo-ansible,master,env_merging,I0f553f8e7f622b983b6707674c958e211bb83829,Ignore endpoint not found errors,MERGED,2021-02-05 02:53:50.000000000,2021-02-08 17:01:46.000000000,2021-02-08 17:01:46.000000000,2,2,0,774185,abda8556f94c2e3a6d9be645a1531c9674d31050,8,3,1,1,8833,Rabi Mishra,rabi,"Ignore endpoint not found errors

When deleting overcloud ignore endpoint not found
error which looks like ``endpoint for object-store
service in <regionOne> region not found``, so as not
to fail when swift is disabled in the undercloud.

Change-Id: I0f553f8e7f622b983b6707674c958e211bb83829
"
openstack%2Frequirements~master~Ib3eae193b6c82fdb7fd7940b3eb33e7791f1a2fc,openstack/requirements,master,new-release,Ib3eae193b6c82fdb7fd7940b3eb33e7791f1a2fc,update constraint for oslo.service to new release 2.5.0,MERGED,2021-02-08 13:26:59.000000000,2021-02-08 16:49:00.000000000,2021-02-08 16:45:36.000000000,1,1,0,774449,c4632b8e3bded27329fb92f2d5fd5df6f2c8437a,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.service to new release 2.5.0

meta: version: 2.5.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Commit: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Change-Id: I712e9ad4b4b998b80ca71fe53fea1a6cbf328e3c
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: Ib3eae193b6c82fdb7fd7940b3eb33e7791f1a2fc
"
openstack%2Fneutron~stable%2Fvictoria~Id13ecb68349ca96907c7c1fc959fc89319a10c72,openstack/neutron,stable/victoria,bug/1899004,Id13ecb68349ca96907c7c1fc959fc89319a10c72,[stable only] Wait chassis creation before retrieving agent,MERGED,2021-02-05 12:44:22.000000000,2021-02-08 16:48:10.000000000,2021-02-08 16:43:24.000000000,61,13,0,774236,d3e95a146288d7c1ad0e43903156af8446449093,9,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[stable only] Wait chassis creation before retrieving agent

To be sure the agent is present, first its needed to create
a chassis with the correct references and wait for the creation
event.

This patch is an extract of [1].

[1]https://review.opendev.org/c/openstack/neutron/+/752795

Change-Id: Id13ecb68349ca96907c7c1fc959fc89319a10c72
Related-Bug: #1899004
"
openstack%2Frequirements~master~I7cd73f0a3a3e063a3d8a32dd42807d0a67d7d66a,openstack/requirements,master,new-release,I7cd73f0a3a3e063a3d8a32dd42807d0a67d7d66a,update constraint for oslo.cache to new release 2.7.0,MERGED,2021-02-08 13:25:40.000000000,2021-02-08 16:47:52.000000000,2021-02-08 16:44:42.000000000,1,1,0,774448,f8507717b7a6f6a3bfaaa29f2580efcd4526f7cd,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.cache to new release 2.7.0

meta: version: 2.7.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Commit: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Change-Id: I712e9ad4b4b998b80ca71fe53fea1a6cbf328e3c
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I7cd73f0a3a3e063a3d8a32dd42807d0a67d7d66a
"
openstack%2Frequirements~stable%2Fussuri~I37a4d48f621499b2de238cb9b22afb0528772d74,openstack/requirements,stable/ussuri,new-release,I37a4d48f621499b2de238cb9b22afb0528772d74,update constraint for oslo.serialization to new release 3.1.2,MERGED,2021-02-08 13:21:30.000000000,2021-02-08 16:45:09.000000000,2021-02-08 16:45:09.000000000,3,3,0,774446,007a287c99738cb9ac93d49849ea746a56be8703,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.serialization to new release 3.1.2

meta: version: 3.1.2
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Commit: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Change-Id: I712e9ad4b4b998b80ca71fe53fea1a6cbf328e3c
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I37a4d48f621499b2de238cb9b22afb0528772d74
"
openstack%2Frequirements~stable%2Fvictoria~I99c0f51f4f4d7e006d9cd5ab580d4a34033d1c4a,openstack/requirements,stable/victoria,new-release,I99c0f51f4f4d7e006d9cd5ab580d4a34033d1c4a,update constraint for oslo.serialization to new release 4.0.2,MERGED,2021-02-08 13:24:04.000000000,2021-02-08 16:44:05.000000000,2021-02-08 16:44:05.000000000,1,1,0,774447,5840117b74ac625d4eefaf6a4a73654e0777c06e,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.serialization to new release 4.0.2

meta: version: 4.0.2
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Commit: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Change-Id: I712e9ad4b4b998b80ca71fe53fea1a6cbf328e3c
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I99c0f51f4f4d7e006d9cd5ab580d4a34033d1c4a
"
openstack%2Ftempest~master~Ia15c501a389c1c7524b1ece912b6d1e2c85ef1b8,openstack/tempest,master,,Ia15c501a389c1c7524b1ece912b6d1e2c85ef1b8,[WIP] Add non cirros guest image job in tempest gate,ABANDONED,2021-02-04 20:56:30.000000000,2021-02-08 16:32:39.000000000,,20,0,0,774158,2c7aa2fd42cb79b2d813b8e095adc8de1de87d13,3,1,1,1,31239,Paras Babbar,pbabbar,"[WIP] Add non cirros guest image job in tempest gate

Change-Id: Ia15c501a389c1c7524b1ece912b6d1e2c85ef1b8
"
openstack%2Ftripleo-operator-ansible~master~Idcbc28b107598efec62dd8f4afbb2d404a1a9c14,openstack/tripleo-operator-ansible,master,,Idcbc28b107598efec62dd8f4afbb2d404a1a9c14,Ensure undercloud backup role runs with root privileges,MERGED,2021-02-07 22:16:02.000000000,2021-02-08 16:22:22.000000000,2021-02-08 16:22:22.000000000,4,0,3,774383,b12211cf51a6db8de1f6db8162616075d7dd4fb4,11,4,1,4,29268,Matthew Heler,mheler,"Ensure undercloud backup role runs with root privileges

The undercloud backup command requires root privileges to run,
as such we need to ensure become is available as a boolean option
to the operator. By default this value is set to true.

Change-Id: Idcbc28b107598efec62dd8f4afbb2d404a1a9c14
"
openstack%2Fpuppet-neutron~stable%2Fqueens~I1d96899de29cdd994f2a45b701923b0177a7edd8,openstack/puppet-neutron,stable/queens,bug/1868569,I1d96899de29cdd994f2a45b701923b0177a7edd8,Add ovs/igmp_snooping_enable support,MERGED,2021-02-01 12:20:35.000000000,2021-02-08 16:21:57.000000000,2021-02-08 16:21:57.000000000,24,0,0,773375,b34137a93ea046b50bae76e10fd00a52c6f74256,17,5,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add ovs/igmp_snooping_enable support

This patch is adding support to the ""ovs/igmp_snooping_enable""
configuration option in the ml2_conf.ini configuration file.

Conflicts:
      manifests/agents/ml2/ovs.pp
      spec/classes/neutron_agents_ml2_ovs_spec.rb

Related-Bug: #1868569

Change-Id: I1d96899de29cdd994f2a45b701923b0177a7edd8
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 382352a893c2a693eb10329365357282d68d75e4)
(cherry picked from commit 4d5fd04844b58c84be7428a5bfcaab1b2f4d7eab)
(cherry picked from commit 6e4f4e93afe5e13b1e1fd4943397e4efc97737cf)
"
openstack%2Fopenstack-helm-infra~master~I4978df1bcdb45ad24e632d976eb407d4129715ad,openstack/openstack-helm-infra,master,,I4978df1bcdb45ad24e632d976eb407d4129715ad,Remove snmp_notifier subchart from alertmanager,MERGED,2021-02-04 20:21:45.000000000,2021-02-08 16:18:22.000000000,2021-02-08 16:14:45.000000000,2,169,0,774154,d3bf218250545a54fe71aad1b8177705b2f7ea2f,21,8,3,5,31713,William Zhang,willxz,"Remove snmp_notifier subchart from alertmanager

snmp_notifier lack of features to forward alert labels from Alertmanager.

Change-Id: I4978df1bcdb45ad24e632d976eb407d4129715ad
"
openstack%2Fneutron~master~I3d248e9c4fda64e045d1a0f39d90638ea3b21304,openstack/neutron,master,bug/1600788,I3d248e9c4fda64e045d1a0f39d90638ea3b21304,Removed unneeded log translation.,ABANDONED,2021-02-04 18:40:42.000000000,2021-02-08 15:59:47.000000000,,2,2,2,774143,61204ad46534e16308330498affa5bd72df2317e,8,3,1,2,32927,mitya-eremeev-2,mitya-eremeev-2,"Removed unneeded log translation.

Exceptions in the agent side is not user visibile via API,
so there is no need to mark it as translatable.

Partial-Bug: 1600788
Change-Id: I3d248e9c4fda64e045d1a0f39d90638ea3b21304
"
openstack%2Freleases~master~I97e2b2c091e0dafcbf03a536704e1613796bb62f,openstack/releases,master,tripleo-ocata-eol,I97e2b2c091e0dafcbf03a536704e1613796bb62f,Create new release of puppet-nova for victoria,MERGED,2021-02-04 06:04:17.000000000,2021-02-08 15:39:00.000000000,2021-02-08 15:39:00.000000000,4,0,0,774039,6b9cd13d9abcc71d0b4489606350260f3c309813,12,8,1,1,13861,yatin,yatinkarel,"Create new release of puppet-nova for victoria

Includes some features and fix needed for CentOS8-stream.

Change-Id: I97e2b2c091e0dafcbf03a536704e1613796bb62f
"
openstack%2Foslo.cache~master~Icb2b62d7d51cac652f9958ee094fef78a8ac9574,openstack/oslo.cache,master,bug/1888394,Icb2b62d7d51cac652f9958ee094fef78a8ac9574,Add bug comment and fix nits,MERGED,2021-01-25 18:20:23.000000000,2021-02-08 15:16:27.000000000,2021-02-08 15:14:36.000000000,6,7,6,772418,e5d0b2019e30351e54ee27cbd7597a2114629f39,12,2,2,2,28522,Hervé Beraud,hberaud,"Add bug comment and fix nits

Change-Id: Icb2b62d7d51cac652f9958ee094fef78a8ac9574
"
openstack%2Fironic~stable%2Fvictoria~Idba486c98e1e92d35fca2e2d156866566acb9e40,openstack/ironic,stable/victoria,,Idba486c98e1e92d35fca2e2d156866566acb9e40,Don't mark an agent as alive if rebooted,MERGED,2021-02-08 10:55:25.000000000,2021-02-08 15:11:48.000000000,2021-02-08 15:09:11.000000000,21,1,0,774410,cbccfa2a9ffa29ab1f74fb407973d78aedde1034,9,3,1,3,10239,Dmitry Tantsur,dtantsur,"Don't mark an agent as alive if rebooted

If 'agent_url' has been cleared from internal_info
it indicates that the node has been powered off.

Change-Id: Idba486c98e1e92d35fca2e2d156866566acb9e40
Story: 2008583
Task: 41736
(cherry picked from commit 4287951d711b94972abd13bac6dcbd7250e0867e)
"
openstack%2Fneutron~master~I6340d132ff8e84edef8b7862337c395147a1beb2,openstack/neutron,master,,I6340d132ff8e84edef8b7862337c395147a1beb2,[OVN] security group logging support (2 of 3),ABANDONED,2021-02-08 14:05:49.000000000,2021-02-08 15:08:41.000000000,,341,2,0,774466,6a8b628032751d3c4fd67f69f33242c43b162a00,3,0,1,6,11952,Flavio Fernandes,ffernand,"[OVN] security group logging support (2 of 3)

This patchset 2 of 3 for OVN driver handling of security-group-logging.
It includes the core changes for this feature.

Related-Bug: 1914757
Related-Bug: 1468366

Change-Id: I6340d132ff8e84edef8b7862337c395147a1beb2
"
openstack%2Frally-openstack~master~I2e2d6b6f43b958193557aa6bb8d5e3fe06ef73c7,openstack/rally-openstack,master,,I2e2d6b6f43b958193557aa6bb8d5e3fe06ef73c7,Remove __unicode__() from RallyCliError,MERGED,2021-01-08 03:09:19.000000000,2021-02-08 14:48:04.000000000,2021-02-08 14:48:04.000000000,0,3,0,769865,934b2a596ee0ff763b59645c99a9ef0843d1134b,18,2,1,1,30092,Xuan Yandong,xuanyandong,"Remove __unicode__() from RallyCliError

This is no longer needed in Python 3.

Change-Id: I2e2d6b6f43b958193557aa6bb8d5e3fe06ef73c7
"
openstack%2Fkolla~master~I07490bc3a7809415fe1734aee255143c205d9573,openstack/kolla,master,docs-contributor-release-notes,I07490bc3a7809415fe1734aee255143c205d9573,[docs] Add templates and examples of renos,MERGED,2021-01-31 17:52:54.000000000,2021-02-08 14:39:16.000000000,2021-02-08 14:24:23.000000000,143,2,0,773261,0c3441599671e278031d07f87b318881870c8f10,8,3,1,3,30491,Radosław Piliszek,yoctozepto,"[docs] Add templates and examples of renos

With tips and clarifications.

Adapted from Kolla Ansible's patch. [1]

[1] https://review.opendev.org/c/openstack/kolla-ansible/+/759254

Change-Id: I07490bc3a7809415fe1734aee255143c205d9573
"
openstack%2Fbifrost~stable%2Fvictoria~I90c7ba15a10faaab24712a8cdc8b6c67457b51a6,openstack/bifrost,stable/victoria,collect-firewalld-info-stable/victoria,I90c7ba15a10faaab24712a8cdc8b6c67457b51a6,Collect firewalld info if present,MERGED,2021-02-08 11:01:01.000000000,2021-02-08 14:38:51.000000000,2021-02-08 14:27:44.000000000,5,0,0,774412,e6fde21025af443c3b19fcc851a582969e816d27,7,3,1,1,10239,Dmitry Tantsur,dtantsur,"Collect firewalld info if present

Change-Id: I90c7ba15a10faaab24712a8cdc8b6c67457b51a6
(cherry picked from commit 70101f6a2d18d71b98f0ccc2518550cef7a17ecb)
"
openstack%2Fkolla~stable%2Fvictoria~I644e072a699dccd8f32a24e484ff6dab7b9b449d,openstack/kolla,stable/victoria,horizon-gentler-nounset-handling-stable/victoria,I644e072a699dccd8f32a24e484ff6dab7b9b449d,Horizon: gentler `-o nounset` handling,MERGED,2021-01-29 20:02:51.000000000,2021-02-08 14:38:38.000000000,2021-02-08 14:22:48.000000000,31,36,0,773196,6e02f95883f31e77793454b7a8c18eeea01fc62f,9,3,1,1,30491,Radosław Piliszek,yoctozepto,"Horizon: gentler `-o nounset` handling

When running with `-o nounset` since [1], the Horizon became quite
fragile to run as it started requiring all ENABLE_* environment
variables to be set upfront. Normally they are - via kolla-ansible.
However, when working with it outside of kolla-ansible or removing
services (like it was the case 3 times during the Wallaby cycle),
it creates needless issues (like having to wait for images to get
published for kolla-ansible gate or users bumping into irrelevant
incompatibilities [2]).

This patch makes sure all ENABLE_* environment variables default
to 'no' and are no longer required to be set when there is no
need to set them to 'yes'.

[1] 032804e5a0ddf89f7726880d1b57dd492d7d5c07
[2] https://bugs.launchpad.net/kolla/+bug/1911141

Change-Id: I644e072a699dccd8f32a24e484ff6dab7b9b449d
(cherry picked from commit 48e6309926f42b46369a7c06cc9f81e9188da802)
"
openstack%2Fopenstack-helm-infra~master~I6a281d354505710007e4e55146a9160e5f52d639,openstack/openstack-helm-infra,master,,I6a281d354505710007e4e55146a9160e5f52d639,[ceph-client] Update ceph-client release notes to include 0.1.6,ABANDONED,2021-02-08 14:28:13.000000000,2021-02-08 14:36:42.000000000,,1,0,0,774470,a02dd1a026d8e19d78b8e1244450a2f07a391134,2,0,1,1,29974,Stephen Taylor,st053q,"[ceph-client] Update ceph-client release notes to include 0.1.6

The previous update was in progress at the same time as the patch
set for 0.1.6 and 0.1.6 wasn't included when both merged
effectively simultaneously.

Change-Id: I6a281d354505710007e4e55146a9160e5f52d639
"
openstack%2Ftripleo-quickstart~master~I841efd256677ade1ec99520cfe5a1e503d847af0,openstack/tripleo-quickstart,master,fix-queens,I841efd256677ade1ec99520cfe5a1e503d847af0,undercloud-oooq is failing in tempest,ABANDONED,2021-01-29 15:07:52.000000000,2021-02-08 14:17:48.000000000,,1,0,2,773092,ed1d36fc7f58386f0a22943e2e0b80f4829fdd87,20,7,2,1,14985,Alex Schultz,mwhahaha,"undercloud-oooq is failing in tempest

Switch back to the old tempest execution rather than os_tempest.

Change-Id: I841efd256677ade1ec99520cfe5a1e503d847af0
"
openstack%2Fcinder~master~I99fb6e41a4448848da7ac45ec518a0700608b140,openstack/cinder,master,TOPIC-BRANCH,I99fb6e41a4448848da7ac45ec518a0700608b140,Zadara multiattach and ipv6 changes for cinder driver,ABANDONED,2020-12-28 04:53:01.000000000,2021-02-08 13:42:11.000000000,,2450,0,2,768593,71e7327f7e961c0f4ce1c37185c2799587fabe79,21,1,1,4,32880,Ratnakaram Rajesh,rratnaka,"Zadara multiattach and ipv6 changes for cinder driver

Change-Id: I99fb6e41a4448848da7ac45ec518a0700608b140
"
openstack%2Fneutron~stable%2Ftrain~I5b5cf563f0c3d6ea352303f76323177cffc57c6e,openstack/neutron,stable/train,bug-1912651-stable/ussuri-stable/train,I5b5cf563f0c3d6ea352303f76323177cffc57c6e,Fix losses of ovs flows when ovs is restarted,MERGED,2021-02-05 12:10:56.000000000,2021-02-08 13:40:08.000000000,2021-02-08 13:34:23.000000000,7,3,0,774130,40feff0e468e6575f51bd3295955a1724fdccdf4,14,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Fix losses of ovs flows when ovs is restarted

Reinitialize conj_ip_manager when OVS is restarted.

Closes-Bug: #1912651
Change-Id: I5b5cf563f0c3d6ea352303f76323177cffc57c6e
(cherry picked from commit 412160b97fc398f105c3f7386b928eeec2d9e60a)
"
openstack%2Fneutron~stable%2Fstein~I5b5cf563f0c3d6ea352303f76323177cffc57c6e,openstack/neutron,stable/stein,bug-1912651-stable/stein,I5b5cf563f0c3d6ea352303f76323177cffc57c6e,Fix losses of ovs flows when ovs is restarted,MERGED,2021-02-05 12:11:37.000000000,2021-02-08 13:39:48.000000000,2021-02-08 13:34:32.000000000,7,3,0,774132,a6bb79261a7bfbd2d2c0d79e719a36e1c7e34a8a,10,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Fix losses of ovs flows when ovs is restarted

Reinitialize conj_ip_manager when OVS is restarted.

Closes-Bug: #1912651
Change-Id: I5b5cf563f0c3d6ea352303f76323177cffc57c6e
(cherry picked from commit 412160b97fc398f105c3f7386b928eeec2d9e60a)
"
openstack%2Ftripleo-common~stable%2Fussuri~Id75c11e5b7c4f3bf73c962bc7e46f5a6021efc5f,openstack/tripleo-common,stable/ussuri,extra-hardware-stable/ussuri,Id75c11e5b7c4f3bf73c962bc7e46f5a6021efc5f,Use the new IPA-builder element for installing python-hardware,MERGED,2021-01-29 14:53:26.000000000,2021-02-08 13:37:09.000000000,2021-02-08 13:33:07.000000000,2,2,2,773009,2e2f741ea6dc90157ec92331df3d8fbbf9dc9297,21,5,1,1,13861,yatin,yatinkarel,"Use the new IPA-builder element for installing python-hardware

Change-Id: Id75c11e5b7c4f3bf73c962bc7e46f5a6021efc5f
Depends-On: https://review.opendev.org/#/c/753966/
(cherry picked from commit be437cb1e341c437ddd8d6901ce107982bb808df)
"
openstack%2Fneutron~stable%2Fqueens~I5b5cf563f0c3d6ea352303f76323177cffc57c6e,openstack/neutron,stable/queens,bug-1912651-stable/stein-stable/queens,I5b5cf563f0c3d6ea352303f76323177cffc57c6e,Fix losses of ovs flows when ovs is restarted,MERGED,2021-02-05 12:12:18.000000000,2021-02-08 13:36:06.000000000,2021-02-08 13:36:06.000000000,7,3,0,774134,2e52d3f554240b74ef528f1d6bdf173f9563393a,9,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Fix losses of ovs flows when ovs is restarted

Reinitialize conj_ip_manager when OVS is restarted.

Closes-Bug: #1912651
Change-Id: I5b5cf563f0c3d6ea352303f76323177cffc57c6e
(cherry picked from commit 412160b97fc398f105c3f7386b928eeec2d9e60a)
"
openstack%2Fneutron~stable%2Frocky~I5b5cf563f0c3d6ea352303f76323177cffc57c6e,openstack/neutron,stable/rocky,bug-1912651-stable/stein-stable/rocky,I5b5cf563f0c3d6ea352303f76323177cffc57c6e,Fix losses of ovs flows when ovs is restarted,MERGED,2021-02-05 12:12:00.000000000,2021-02-08 13:35:11.000000000,2021-02-08 13:35:11.000000000,7,3,0,774133,36fc4708be6994893d31e8c6bbbb58ec8b7723bc,9,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Fix losses of ovs flows when ovs is restarted

Reinitialize conj_ip_manager when OVS is restarted.

Closes-Bug: #1912651
Change-Id: I5b5cf563f0c3d6ea352303f76323177cffc57c6e
(cherry picked from commit 412160b97fc398f105c3f7386b928eeec2d9e60a)
"
openstack%2Freleases~master~I1348f2cb56f7615a9be9a933f74bc487dffb909d,openstack/releases,master,train-stable,I1348f2cb56f7615a9be9a933f74bc487dffb909d,Release tripleo for stable/train,MERGED,2021-01-29 15:46:35.000000000,2021-02-08 13:32:47.000000000,2021-02-08 13:32:47.000000000,48,0,20,773110,1c3b70b4297b01e15e5bb05a90eb1d32bab21a9f,17,5,3,12,17685,Elod Illes,elod.illes,"Release tripleo for stable/train

This release picks up new commits to tripleo since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I1348f2cb56f7615a9be9a933f74bc487dffb909d
"
openstack%2Freleases~master~I6e4846676ffde0a5cb86c7a8ed910aac9cc07211,openstack/releases,master,train-stable,I6e4846676ffde0a5cb86c7a8ed910aac9cc07211,Release murano for stable/train,MERGED,2021-01-29 14:23:26.000000000,2021-02-08 13:31:51.000000000,2021-02-08 13:31:51.000000000,4,0,0,773065,18f35d6f217e2115e61176384c41569a7c4ccff3,9,4,1,1,17685,Elod Illes,elod.illes,"Release murano for stable/train

This release picks up new commits to murano since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I6e4846676ffde0a5cb86c7a8ed910aac9cc07211
"
openstack%2Fmagnum~master~I5d1c4221f089bc5cd12b25f620aa01771a029df9,openstack/magnum,master,observations,I5d1c4221f089bc5cd12b25f620aa01771a029df9,Add CT tags field to the database and API,MERGED,2020-06-24 16:10:45.000000000,2021-02-08 13:31:34.000000000,2021-02-08 11:01:54.000000000,71,5,16,737840,332e2b6fe4069b5348d62273819f16492d1567e0,40,4,10,12,29425,Diogo Guerra,dioguerra,"Add CT tags field to the database and API

We noticed that from the user perspective it is hard
to know when a cluster_template provided by the cloud
admin is mature enough for a production release.
This field will allow the administrator to add an
annotation to the cluster template like
{deprecated, recommended, testing} giving further
usefull information to the end user about the
template's life cycle

This patch adds the necessary database column and
API objects to handle the new argument.

story: 2007857
task: 40160

Change-Id: I5d1c4221f089bc5cd12b25f620aa01771a029df9
Signed-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>
"
openstack%2Fneutron~stable%2Fussuri~I05394e49077a72199bbc80c8cb622ec2b17f2fa7,openstack/neutron,stable/ussuri,bug/1890432-stable/victoria-stable/ussuri,I05394e49077a72199bbc80c8cb622ec2b17f2fa7,[OVN] Update metadata port ony for requested subnet,MERGED,2021-02-05 14:29:12.000000000,2021-02-08 13:30:56.000000000,2021-02-08 13:28:31.000000000,91,24,0,774256,55a82dacf150246beeade74a47dfbdcf8143063a,9,3,1,2,11805,Corey Bryant,coreycb,"[OVN] Update metadata port ony for requested subnet

When a subnet is updated or created, the metadata port is updated too,
to add the fixed IP address of the new subnet. In this case, the port
should update only the IP address of this specific subnet.

Change-Id: I05394e49077a72199bbc80c8cb622ec2b17f2fa7
Closes-Bug: #1890432
(cherry picked from commit 93225e016b4957e9c5635985fe9685269fa2556e)
"
openstack%2Fneutron~stable%2Fvictoria~I05394e49077a72199bbc80c8cb622ec2b17f2fa7,openstack/neutron,stable/victoria,bug/1890432-stable/victoria,I05394e49077a72199bbc80c8cb622ec2b17f2fa7,[OVN] Update metadata port ony for requested subnet,MERGED,2021-02-05 14:28:43.000000000,2021-02-08 13:30:48.000000000,2021-02-08 13:28:12.000000000,91,24,0,774135,9c43b4e7a019cccd1c98168ef6042010842753b3,9,3,1,2,11805,Corey Bryant,coreycb,"[OVN] Update metadata port ony for requested subnet

When a subnet is updated or created, the metadata port is updated too,
to add the fixed IP address of the new subnet. In this case, the port
should update only the IP address of this specific subnet.

Change-Id: I05394e49077a72199bbc80c8cb622ec2b17f2fa7
Closes-Bug: #1890432
(cherry picked from commit 93225e016b4957e9c5635985fe9685269fa2556e)
"
openstack%2Freleases~master~I68dbea306109ed25124480348a00fe3830066868,openstack/releases,master,oslo-metrics-release,I68dbea306109ed25124480348a00fe3830066868,Release oslo.metrics 0.2.0,MERGED,2021-02-06 08:28:52.000000000,2021-02-08 13:29:50.000000000,2021-02-08 13:29:50.000000000,2,2,0,774349,26523517c54fcb1ac7e2500c048a00ff46bc8061,11,4,2,1,32523,Ching Kuo,genekuo,"Release oslo.metrics 0.2.0

This commit includes changes for metrics naming that is not compatible
with older release. It is required to continue integration with
oslo.messaging.

Change-Id: I68dbea306109ed25124480348a00fe3830066868
"
openstack%2Freleases~master~I19cf2b717ad97c7219d5c12ac09550279ee9b4bf,openstack/releases,master,tempest-plugin-stein-last,I19cf2b717ad97c7219d5c12ac09550279ee9b4bf,[Tempest Plugins] Tag stein-last,MERGED,2020-12-26 18:29:49.000000000,2021-02-08 13:29:45.000000000,2021-02-08 13:29:45.000000000,9,0,0,768537,bda0d2401ded9df40ba67b39268d21e77c74f0ce,19,5,5,2,8556,Ghanshyam,ghanshyam,"[Tempest Plugins] Tag stein-last

Stein branch is in Extended Maintenance now[1]. All Tempest
plugins are branchless which means master version of Tempest
and its plugins is used to test the supported stable branches.

Once stable branch is moved to EM state then, Tempest and its
plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with this tag once master
Tempest and its plugins are not compatible[2].

This tag will help for testing the stable/stein with single
compatible tag of Tempest and its plugins.

Tagging 'stein-last' as well as a new version also with same hash.
Documenting this new tag name here
- https://review.opendev.org/c/openstack/project-team-guide/+/769821

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/stein/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: I19cf2b717ad97c7219d5c12ac09550279ee9b4bf
"
openstack%2Fnova~master~I1726f53cfeac0a67a5dacdddda2af2cc1db0af0f,openstack/nova,master,bug/1856329,I1726f53cfeac0a67a5dacdddda2af2cc1db0af0f,Faults from cell DB missing in GET /servers/detail,NEW,2019-12-16 10:34:51.000000000,2021-02-08 13:21:46.000000000,,123,7,4,699176,d785c6fe13ae1b1035d006a36a523832c8f07205,120,15,16,2,29125,Ivaylo Mitev,imitev,"Faults from cell DB missing in GET /servers/detail

Field  is empty in the response of API GET /servers/detail if the
instance (hence instace_faults DB entry) is in nova cell DB.
Unlike that, for API /servers/:id fault is retrieved correctly no matter
in which nova cell the instance belongs.

Closes-Bug: #1856329
Change-Id: I1726f53cfeac0a67a5dacdddda2af2cc1db0af0f
"
openstack%2Freleases~master~If117a9da3094e012a308a4a559fcb56a4b815bec,openstack/releases,master,tempest-plugin-stein-last,If117a9da3094e012a308a4a559fcb56a4b815bec,[Tempest Plugins] Tag stein-last,MERGED,2020-12-26 18:51:06.000000000,2021-02-08 13:17:11.000000000,2021-02-08 13:17:11.000000000,10,0,0,768546,14fa075f5970daa4e6756932be266e411380d161,19,4,5,2,8556,Ghanshyam,ghanshyam,"[Tempest Plugins] Tag stein-last

Stein branch is in Extended Maintenance now[1]. All Tempest
plugins are branchless which means master version of Tempest
and its plugins is used to test the supported stable branches.

Once stable branch is moved to EM state then, Tempest and its
plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with this tag once master
Tempest and its plugins are not compatible[2].

This tag will help for testing the stable/stein with single
compatible tag of Tempest and its plugins.

Tagging 'stein-last' as well as a new version also with same hash.
Documenting this new tag name here
- https://review.opendev.org/c/openstack/project-team-guide/+/769821

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/stein/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: If117a9da3094e012a308a4a559fcb56a4b815bec
"
openstack%2Freleases~master~Idbef25ef2c1d4852f7a040046c3c8b77fe863154,openstack/releases,master,tempest-plugin-stein-last,Idbef25ef2c1d4852f7a040046c3c8b77fe863154,[Tempest Plugins] Tag stein-last,MERGED,2020-12-26 18:49:48.000000000,2021-02-08 13:16:53.000000000,2021-02-08 13:16:53.000000000,9,0,1,768545,eceeb5cfbae67b20637be46e28efd3784cabcdd3,22,6,5,2,8556,Ghanshyam,ghanshyam,"[Tempest Plugins] Tag stein-last

Stein branch is in Extended Maintenance now[1]. All Tempest
plugins are branchless which means master version of Tempest
and its plugins is used to test the supported stable branches.

Once stable branch is moved to EM state then, Tempest and its
plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with this tag once master
Tempest and its plugins are not compatible[2].

This tag will help for testing the stable/stein with single
compatible tag of Tempest and its plugins.

Tagging 'stein-last' as well as a new version also with same hash.
Documenting this new tag name here
- https://review.opendev.org/c/openstack/project-team-guide/+/769821

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/stein/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: Idbef25ef2c1d4852f7a040046c3c8b77fe863154
"
openstack%2Freleases~master~I3dedf43f254a745684014bc050ff6ac399144b06,openstack/releases,master,tempest-plugin-stein-last,I3dedf43f254a745684014bc050ff6ac399144b06,[Tempest Plugins] Tag stein-last,MERGED,2020-12-26 18:48:38.000000000,2021-02-08 13:16:31.000000000,2021-02-08 13:16:31.000000000,9,0,0,768544,6c35d87c0fef8fd141441d9ef421e0eb3bc4e539,20,5,5,2,8556,Ghanshyam,ghanshyam,"[Tempest Plugins] Tag stein-last

Stein branch is in Extended Maintenance now[1]. All Tempest
plugins are branchless which means master version of Tempest
and its plugins is used to test the supported stable branches.

Once stable branch is moved to EM state then, Tempest and its
plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with this tag once master
Tempest and its plugins are not compatible[2].

This tag will help for testing the stable/stein with single
compatible tag of Tempest and its plugins.

Tagging 'stein-last' as well as a new version also with same hash.
Documenting this new tag name here
- https://review.opendev.org/c/openstack/project-team-guide/+/769821

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/stein/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: I3dedf43f254a745684014bc050ff6ac399144b06
"
openstack%2Freleases~master~I6c4ab66ac71f9e6050b0944f15b9fef7fccfe89e,openstack/releases,master,I6c4ab66ac71f9e6050b0944f15b9fef7fccfe89e,I6c4ab66ac71f9e6050b0944f15b9fef7fccfe89e,Move os-apply|collect|refresh-config projects to independent,MERGED,2021-01-26 16:39:03.000000000,2021-02-08 13:16:25.000000000,2021-02-08 13:16:25.000000000,9,21,3,772570,78d0577401838b7066341572346f7e7e99640d40,31,10,4,4,8449,Marios Andreou,marios,"Move os-apply|collect|refresh-config projects to independent

As discussed at [1] this proposes that the os-apply-config
os-refresh-config and os-collect-config repos are moved
to the independent model. Removes the wallaby release files
for these repos.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019778.html

Change-Id: I6c4ab66ac71f9e6050b0944f15b9fef7fccfe89e
"
openstack%2Freleases~master~I9ba16662f98523a03f5de5712331273916f3ea5a,openstack/releases,master,merge-horizon-test,I9ba16662f98523a03f5de5712331273916f3ea5a,Drop tempest-horizon from wallaby deliverables,MERGED,2021-01-21 08:20:36.000000000,2021-02-08 13:14:51.000000000,2021-02-08 13:14:51.000000000,0,10,0,771760,82cdebb149705cf4c1d42e495619f7db37ef2122,10,6,1,1,841,Akihiro Motoki,amotoki,"Drop tempest-horizon from wallaby deliverables

tempest tests in tempest-horizon are merged into the main tempest
repo in Wallaby [1][2] as discussed in the wallaby PTG [0].
QA and horizon teams will complete the effort soon around Wallaby-2.

[0] https://etherpad.opendev.org/p/qa-wallaby-ptg
[1] https://review.opendev.org/c/openstack/tempest/+/771727
[2] https://review.opendev.org/q/topic:%22merge-horizon-test%22+(status:open%20OR%20status:merged)

Change-Id: I9ba16662f98523a03f5de5712331273916f3ea5a
"
openstack%2Freleases~master~I712e9ad4b4b998b80ca71fe53fea1a6cbf328e3c,openstack/releases,master,oslo.serialization_wallaby_fix,I712e9ad4b4b998b80ca71fe53fea1a6cbf328e3c,New bugfix and feature releases for oslo.,MERGED,2021-02-08 08:56:31.000000000,2021-02-08 13:11:47.000000000,2021-02-08 13:11:47.000000000,28,0,0,774422,ef3019a11e53c058d6601d569120794aafee1820,11,3,2,6,31245,Daniel Bengtsson,damani42,"New bugfix and feature releases for oslo.

A new releases for oslo for ussuri, victoria and wallaby.

Change-Id: I712e9ad4b4b998b80ca71fe53fea1a6cbf328e3c
"
openstack%2Fkuryr-kubernetes~master~I61a05cf2689a5902004358d3b50b1deb2120b8cc,openstack/kuryr-kubernetes,master,remove-selflink,I61a05cf2689a5902004358d3b50b1deb2120b8cc,Remove selfLink propagation on K8s feature gates.,ABANDONED,2021-01-12 15:03:09.000000000,2021-02-08 12:53:33.000000000,,4,4,0,770352,21b273a82235449af94d435665d9dba9c22939e6,10,6,4,1,13692,Roman Dobosz,gryf,"Remove selfLink propagation on K8s feature gates.

WIP, either bug on nullable items on k8s 1.18 will be fixed, or we
migrate at least to 1.19.
EDIT: Turns out, 1.19 share the same behaviour as 1.18. Bug has been
reported to the Kubernetes project.

Change-Id: I61a05cf2689a5902004358d3b50b1deb2120b8cc
Depends-On: Ib0bcc9f5cb6c4cdc27c3393dcb3f665b21cb64ac
"
openstack%2Fpython-monascaclient~master~I6deeb7f5205d045e45c70729c87168cc6445534a,openstack/python-monascaclient,master,fix-zuul-publish,I6deeb7f5205d045e45c70729c87168cc6445534a,Fix zuul publish docker image job,MERGED,2021-02-08 11:30:20.000000000,2021-02-08 12:48:39.000000000,2021-02-08 12:47:09.000000000,1,1,0,774437,952c4c12fc67ff998003b35b75c2c54b4b69f5f2,7,2,1,1,28062,Martin Chacon Piza,martinchacon,"Fix zuul publish docker image job

Add tag to docker push command

Change-Id: I6deeb7f5205d045e45c70729c87168cc6445534a
"
openstack%2Fneutron~stable%2Fussuri~I5b5cf563f0c3d6ea352303f76323177cffc57c6e,openstack/neutron,stable/ussuri,bug-1912651-stable/ussuri,I5b5cf563f0c3d6ea352303f76323177cffc57c6e,Fix losses of ovs flows when ovs is restarted,MERGED,2021-02-05 11:34:41.000000000,2021-02-08 12:38:23.000000000,2021-02-08 12:36:21.000000000,7,3,0,774129,b84dbd68e8416f23575617f9e8e8f14ab014faf6,10,3,1,1,13095,Marc Gariépy,mgariepy,"Fix losses of ovs flows when ovs is restarted

Reinitialize conj_ip_manager when OVS is restarted.

Closes-Bug: #1912651
Change-Id: I5b5cf563f0c3d6ea352303f76323177cffc57c6e
(cherry picked from commit 412160b97fc398f105c3f7386b928eeec2d9e60a)
"
openstack%2Fneutron~stable%2Fvictoria~I5b5cf563f0c3d6ea352303f76323177cffc57c6e,openstack/neutron,stable/victoria,bug-1912651-stable/victoria,I5b5cf563f0c3d6ea352303f76323177cffc57c6e,Fix losses of ovs flows when ovs is restarted,MERGED,2021-02-05 11:34:04.000000000,2021-02-08 12:35:57.000000000,2021-02-08 12:33:23.000000000,7,3,0,774128,f9827eba86690f16818fad1c5684da3fc93c433b,14,4,1,1,13095,Marc Gariépy,mgariepy,"Fix losses of ovs flows when ovs is restarted

Reinitialize conj_ip_manager when OVS is restarted.

Closes-Bug: #1912651
Change-Id: I5b5cf563f0c3d6ea352303f76323177cffc57c6e
(cherry picked from commit 412160b97fc398f105c3f7386b928eeec2d9e60a)
"
openstack%2Fkolla~stable%2Fussuri~I4a13bbe959e3324f05d5cf78a3be2415eb2ba7ec,openstack/kolla,stable/ussuri,mistral-respect-uc-stable/victoria-stable/ussuri,I4a13bbe959e3324f05d5cf78a3be2415eb2ba7ec,Fix Mistral source images to respect upper-constraints,MERGED,2021-01-29 20:01:21.000000000,2021-02-08 12:35:50.000000000,2021-02-08 12:33:33.000000000,5,1,0,773013,7a4044afb1f063d4d24ce782e546bd71d047c549,9,3,1,2,30491,Radosław Piliszek,yoctozepto,"Fix Mistral source images to respect upper-constraints

Backport to all supported branches.

Change-Id: I4a13bbe959e3324f05d5cf78a3be2415eb2ba7ec
(cherry picked from commit 004d9eb5d575fcb140b4d90fb30ced0a81dd3e66)
"
openstack%2Fkolla~stable%2Fvictoria~I4a13bbe959e3324f05d5cf78a3be2415eb2ba7ec,openstack/kolla,stable/victoria,mistral-respect-uc-stable/victoria,I4a13bbe959e3324f05d5cf78a3be2415eb2ba7ec,Fix Mistral source images to respect upper-constraints,MERGED,2021-01-29 20:01:04.000000000,2021-02-08 12:30:52.000000000,2021-02-08 12:29:22.000000000,5,1,0,773012,cf305aaaf0364006185df76be8c0e3e6ab555154,12,3,1,2,30491,Radosław Piliszek,yoctozepto,"Fix Mistral source images to respect upper-constraints

Backport to all supported branches.

Change-Id: I4a13bbe959e3324f05d5cf78a3be2415eb2ba7ec
(cherry picked from commit 004d9eb5d575fcb140b4d90fb30ced0a81dd3e66)
"
openstack%2Ftripleo-ci~master~I3140b910312ad35b550f69d05311d3ab79adfdb1,openstack/tripleo-ci,master,bz_1913077,I3140b910312ad35b550f69d05311d3ab79adfdb1,Log directory workspace/logs do not exists.,MERGED,2021-01-25 16:27:23.000000000,2021-02-08 11:28:30.000000000,2021-02-08 11:28:30.000000000,6,0,6,772372,1809fd12deb327ba2233ce527ecbf952ec9152cc,26,8,4,1,30750,amolkahat,amolkahat,"Log directory workspace/logs do not exists.

When job fails in pre playbooks and goes to
logs collection, it fails because doesn't
find logs directory.

Closes-Bug: #1913077
Change-Id: I3140b910312ad35b550f69d05311d3ab79adfdb1
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
"
openstack%2Ftripleo-quickstart-extras~master~Id57ecea69a3568767f5b4bea101c14ad1335d286,openstack/tripleo-quickstart-extras,master,,Id57ecea69a3568767f5b4bea101c14ad1335d286,Don't create redundant heat_stack_owner role,MERGED,2020-12-22 05:40:40.000000000,2021-02-08 11:28:26.000000000,2021-02-08 11:28:26.000000000,0,20,5,768142,4cbe54933d785b78175bd4d0c8e60d8926c784f7,11,4,1,2,8833,Rabi Mishra,rabi,"Don't create redundant heat_stack_owner role

This is not required as all the roles of the user are
delegated by default to the trustee. Also removes the
tempest configuration related to that.

Change-Id: Id57ecea69a3568767f5b4bea101c14ad1335d286
"
openstack%2Fbifrost~stable%2Fvictoria~I01d87177bc6137daa2616b34572303a4185ac914,openstack/bifrost,stable/victoria,tiers-stable/victoria,I01d87177bc6137daa2616b34572303a4185ac914,docs: explain OS support in terms of two tiers,MERGED,2021-02-08 11:00:06.000000000,2021-02-08 11:25:13.000000000,2021-02-08 11:23:31.000000000,28,7,0,774411,cb3e8104284ea98d508ba124e8d39e7ce5710b17,7,2,1,1,10239,Dmitry Tantsur,dtantsur,"docs: explain OS support in terms of two tiers

1st tier are OS that we're pretty confident in, 2nd tier are supported
OS that have some problems or are tested indirectly.

Change-Id: I01d87177bc6137daa2616b34572303a4185ac914
(cherry picked from commit e0cb590a3f427a13f2c40abac8948382dfb8d01a)
"
openstack%2Fmagnum~master~I8e266e49b6d3cfe5a0920bf2346fd743e0365281,openstack/magnum,master,,I8e266e49b6d3cfe5a0920bf2346fd743e0365281,Update API version history doc,MERGED,2020-11-30 23:17:24.000000000,2021-02-08 11:04:59.000000000,2021-02-08 11:02:03.000000000,20,0,0,764860,d21d7d50896343ad442b723d2769b3d870db41e6,11,4,2,1,8064,Jake Yip,jake,"Update API version history doc

Info copied from magnum/api/controllers/versions.py

Change-Id: I8e266e49b6d3cfe5a0920bf2346fd743e0365281
"
openstack%2Fvalidations-common~master~Ide7ef784e254b705748135e315a23dab4a35f9ec,openstack/validations-common,master,unittests/validationoutput,Ide7ef784e254b705748135e315a23dab4a35f9ec,Simple tests for validation_output callback.,ABANDONED,2021-02-08 10:48:27.000000000,2021-02-08 10:49:26.000000000,,539,7,0,774432,1e5e74c97237299cde97bb246ccef49467ed12a3,2,0,1,1,32926,Jiri Podivin,jpodivin,"Simple tests for validation_output callback.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ide7ef784e254b705748135e315a23dab4a35f9ec
"
openstack%2Fvalidations-common~master~Ib548898cbdbbe7c94e09b053f83a9e7245e2d744,openstack/validations-common,master,unittests/validationoutput,Ib548898cbdbbe7c94e09b053f83a9e7245e2d744,Simple tests for validation_output callback.,ABANDONED,2021-02-08 10:48:27.000000000,2021-02-08 10:49:16.000000000,,178,1,0,774431,6fbe3ecf17bd0f0f6cba3e782524488494c07289,2,0,1,1,32926,Jiri Podivin,jpodivin,"Simple tests for validation_output callback.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ib548898cbdbbe7c94e09b053f83a9e7245e2d744
"
openstack%2Fbifrost~master~I01d87177bc6137daa2616b34572303a4185ac914,openstack/bifrost,master,tiers,I01d87177bc6137daa2616b34572303a4185ac914,docs: explain OS support in terms of two tiers,MERGED,2021-02-03 11:27:05.000000000,2021-02-08 10:31:27.000000000,2021-02-08 10:29:46.000000000,28,7,1,773875,e0cb590a3f427a13f2c40abac8948382dfb8d01a,8,3,1,1,10239,Dmitry Tantsur,dtantsur,"docs: explain OS support in terms of two tiers

1st tier are OS that we're pretty confident in, 2nd tier are supported
OS that have some problems or are tested indirectly.

Change-Id: I01d87177bc6137daa2616b34572303a4185ac914
"
openstack%2Ftripleo-ci~master~I9c848ce6e0bf7fa07c94ca714d3a5d739f79f85d,openstack/tripleo-ci,master,,I9c848ce6e0bf7fa07c94ca714d3a5d739f79f85d,Update tempest whitelist for scenario004,MERGED,2021-01-20 15:52:47.000000000,2021-02-08 10:23:49.000000000,2021-02-08 10:23:49.000000000,1,3,1,771664,65dc8bde15297874baa98c7779f3cea75e1057f8,19,8,3,1,9003,Tom Barron,tbarron,"Update tempest whitelist for scenario004

In https://review.opendev.org/c/openstack/tripleo-ci/+/770049 we
updated scenrio004 to use CephFS gatewayed by NFS rather than native
CephFS but we did not enable the NFS test case via the tempest whitelist
since these also require the THT changes in dependent review
https://review.opendev.org/c/openstack/tripleo-heat-templates/+/769937.

Here we enable the NFS test case, dependent on the just-mentioned
THT patch.

Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/769937

Change-Id: I9c848ce6e0bf7fa07c94ca714d3a5d739f79f85d
"
openstack%2Fnova~master~I7d3d6d88ddbf530e0547e4122f4274ecf037a7c7,openstack/nova,master,,I7d3d6d88ddbf530e0547e4122f4274ecf037a7c7,api: Reject requests to reset the state of SHELVE_OFFLOADED servers,NEW,2021-01-30 14:36:30.000000000,2021-02-08 10:18:29.000000000,,9,0,10,773238,e1877be3270fd6446c5970ee0443b4843d6adb1e,34,3,4,1,29307,Khomesh Thakre,khomesh24,"api: Reject requests to reset the state of SHELVE_OFFLOADED servers

Adding a validation on os-resetState so that when vm is shelved offload,
reseting the VM state is blocked. In shelved state VM doesnt existed
physically on compute nodes.

Signed-off-by: Khomesh Thakre <khomeshthakre24@gmail.com>
Closes-Bug: 1913016
Change-Id: I7d3d6d88ddbf530e0547e4122f4274ecf037a7c7
"
openstack%2Fbifrost~master~I90c7ba15a10faaab24712a8cdc8b6c67457b51a6,openstack/bifrost,master,collect-firewalld-info,I90c7ba15a10faaab24712a8cdc8b6c67457b51a6,Collect firewalld info if present,MERGED,2021-02-03 17:40:46.000000000,2021-02-08 10:15:36.000000000,2021-02-08 10:14:07.000000000,5,0,0,773953,70101f6a2d18d71b98f0ccc2518550cef7a17ecb,10,3,2,1,23851,Riccardo Pittau,elfosardo,"Collect firewalld info if present

Change-Id: I90c7ba15a10faaab24712a8cdc8b6c67457b51a6
"
openstack%2Fneutron~master~Iff47cf1646fc99fd5a1bf4ff5498d4a15f9d9d68,openstack/neutron,master,fix-dhcp-ut,Iff47cf1646fc99fd5a1bf4ff5498d4a15f9d9d68,Remove duplicated assignement of the device_owner in UT,MERGED,2021-02-03 20:12:38.000000000,2021-02-08 10:14:00.000000000,2021-02-08 10:09:03.000000000,0,2,0,773995,dc322a6e7de7404c05889b1539803103748dadf3,11,4,1,1,11975,Slawek Kaplonski,slaweq,"Remove duplicated assignement of the device_owner in UT

In the unit tests of the dhcp linux driver module there are some
fake port classes defined.
Some of them had duplicate assignement of the device_owner, once
it was set to some constant value and later it was assignment with
some value given as an __init__'s argument.
This patch removes setting constant value. We can always accept
value given as input argument.

TrivialFix

Change-Id: Iff47cf1646fc99fd5a1bf4ff5498d4a15f9d9d68
"
openstack%2Fneutron~master~Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,openstack/neutron,master,bug/1913297,Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,Don't try to create default SG when security groups are disabled,MERGED,2021-01-26 13:56:47.000000000,2021-02-08 10:12:15.000000000,2021-02-08 10:06:49.000000000,19,1,18,772526,013c183d7c1a16d07f5acae9e29b157b0ffd8fae,39,8,5,2,11975,Slawek Kaplonski,slaweq,"Don't try to create default SG when security groups are disabled

If security group API is disabled, there is no point to create default
security group for tenant when e.g. network is created.

Closes-Bug: #1913297
Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa
"
openstack%2Frequirements~master~I3b451a13d0af993f36c7664a0609920933e2744f,openstack/requirements,master,openstack/requirements/constraints/noclob,I3b451a13d0af993f36c7664a0609920933e2744f,Updated from generate-constraints,MERGED,2021-02-07 06:25:47.000000000,2021-02-08 10:10:43.000000000,2021-02-08 10:07:29.000000000,7,6,0,774366,ed019e17dfc136092fe55ff41e2570f566e320e9,13,2,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I3b451a13d0af993f36c7664a0609920933e2744f
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fneutron~master~I2e89bcb183a75f39ba6aeeef6f1ea355fca59fc8,openstack/neutron,master,add-conntrack-helper-extension-unit-test,I2e89bcb183a75f39ba6aeeef6f1ea355fca59fc8,Add extension unit tests for conntrack_helper plugin,MERGED,2021-02-06 02:36:33.000000000,2021-02-08 10:08:29.000000000,2021-02-08 10:08:29.000000000,141,0,0,774344,cbfac6b7a849a5b7344c525d8fd070e48bdbe6b2,10,4,1,1,28329,yangjianfeng,yangjianfeng,"Add extension unit tests for conntrack_helper plugin

Change-Id: I2e89bcb183a75f39ba6aeeef6f1ea355fca59fc8
"
openstack%2Ftacker~master~Icb0f8066de783372305c45c464ce1619b4b8fa02,openstack/tacker,master,zuul-install-test,Icb0f8066de783372305c45c464ce1619b4b8fa02,[DNM] Add new test for zuul-install,NEW,2021-02-05 04:30:47.000000000,2021-02-08 09:38:38.000000000,,4532,189,0,774193,d035e35a945fef79deedaf17fa2578eff9677e76,14,1,7,36,31821,LiangLu,LiangLu,"[DNM] Add new test for zuul-install

Change-Id: Icb0f8066de783372305c45c464ce1619b4b8fa02
"
openstack%2Fironic~master~Idba486c98e1e92d35fca2e2d156866566acb9e40,openstack/ironic,master,,Idba486c98e1e92d35fca2e2d156866566acb9e40,Don't mark an agent as alive if rebooted,MERGED,2021-02-03 17:06:41.000000000,2021-02-08 09:26:57.000000000,2021-02-08 09:24:47.000000000,21,1,3,773949,4287951d711b94972abd13bac6dcbd7250e0867e,27,4,3,3,1926,Derek Higgins,derekh,"Don't mark an agent as alive if rebooted

If 'agent_url' has been cleared from internal_info
it indicates that the node has been powered off.

Change-Id: Idba486c98e1e92d35fca2e2d156866566acb9e40
Story: 2008583
Task: 41736
"
openstack%2Freleases~master~I4f8aca952fae44a737cab10f56d2dac0648d4503,openstack/releases,master,tempest-plugin-stein-last,I4f8aca952fae44a737cab10f56d2dac0648d4503,[Tempest Plugins] Tag stein-last,MERGED,2020-12-26 19:01:20.000000000,2021-02-08 09:22:14.000000000,2021-02-08 09:22:14.000000000,9,0,0,768558,f320b5a4032c11365f8d7c504dab7e84786b5825,21,3,5,2,8556,Ghanshyam,ghanshyam,"[Tempest Plugins] Tag stein-last

Stein branch is in Extended Maintenance now[1]. All Tempest
plugins are branchless which means master version of Tempest
and its plugins is used to test the supported stable branches.

Once stable branch is moved to EM state then, Tempest and its
plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with this tag once master
Tempest and its plugins are not compatible[2].

This tag will help for testing the stable/stein with single
compatible tag of Tempest and its plugins.

Tagging 'stein-last' as well as a new version also with same hash.
Documenting this new tag name here
- https://review.opendev.org/c/openstack/project-team-guide/+/769821

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/stein/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: I4f8aca952fae44a737cab10f56d2dac0648d4503
"
openstack%2Freleases~master~If5360db5adcefc8bce0b38c21172e725e0a5d3f1,openstack/releases,master,tempest-plugin-stein-last,If5360db5adcefc8bce0b38c21172e725e0a5d3f1,[Tempest Plugins] Tag stein-last,MERGED,2020-12-26 18:45:35.000000000,2021-02-08 09:19:24.000000000,2021-02-08 09:19:24.000000000,9,0,0,768541,e4e4f1a5bcf5188e643ef6a544ec827337cb2b09,22,5,5,2,8556,Ghanshyam,ghanshyam,"[Tempest Plugins] Tag stein-last

Stein branch is in Extended Maintenance now[1]. All Tempest
plugins are branchless which means master version of Tempest
and its plugins is used to test the supported stable branches.

Once stable branch is moved to EM state then, Tempest and its
plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with this tag once master
Tempest and its plugins are not compatible[2].

This tag will help for testing the stable/stein with single
compatible tag of Tempest and its plugins.

Tagging 'stein-last' as well as a new version also with same hash.
Documenting this new tag name here
- https://review.opendev.org/c/openstack/project-team-guide/+/769821

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/stein/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: If5360db5adcefc8bce0b38c21172e725e0a5d3f1
"
openstack%2Ftripleo-quickstart~master~I78508d1f8058896c244b40a8a06940221a810a58,openstack/tripleo-quickstart,master,I78508d1f8058896c244b40a8a06940221a810a58,I78508d1f8058896c244b40a8a06940221a810a58,Add openvswitch dependency pipeline repo config,MERGED,2021-01-13 13:50:03.000000000,2021-02-08 09:10:14.000000000,2021-02-08 09:08:24.000000000,18,0,0,770620,5440c9171cc194d1465cccce1bf3f03bf2e488f9,19,6,5,1,8449,Marios Andreou,marios,"Add openvswitch dependency pipeline repo config

Adds the repo config used by the openvswitch dependency
pipeline jobs defined in [1] which depends-on this patch.

[1] https://review.rdoproject.org/r/#/c/31539/

Change-Id: I78508d1f8058896c244b40a8a06940221a810a58
"
openstack%2Fmanila-ui~master~I239e5aeb5296ef0534688ae10059cff57a269ea5,openstack/manila-ui,master,test,I239e5aeb5296ef0534688ae10059cff57a269ea5,DNM: testing manila-ui integration tests,ABANDONED,2021-01-29 05:53:38.000000000,2021-02-08 08:54:50.000000000,,0,0,0,772972,a158f8284af1004194e6624512d1072830d40250,8,1,4,0,32531,Dina Saparbaeva,disap,"DNM: testing manila-ui integration tests

this patch is to test failing manila-ui integration tests.

Change-Id: I239e5aeb5296ef0534688ae10059cff57a269ea5
"
openstack%2Fkolla-ansible~master~Ie8d82010bf8d5b8af2c039f285744e5ae67316dc,openstack/kolla-ansible,master,,Ie8d82010bf8d5b8af2c039f285744e5ae67316dc,docs: improve external Ceph docs,MERGED,2020-11-20 08:53:41.000000000,2021-02-08 08:44:07.000000000,2021-02-07 15:32:38.000000000,69,38,0,763529,8e47f6b8335b8003952f6e8e33f1f2f43aaaa3bc,11,5,1,1,14826,Mark Goddard,mgoddard,"docs: improve external Ceph docs

* make each section independent
* move enable flags to specific sections
* move inventory changes to Cinder section
* move Nova config that is actually for Cinder volumes to Cinder section
* add an introduction about each integration

Change-Id: Ie8d82010bf8d5b8af2c039f285744e5ae67316dc
"
openstack%2Foctavia-tempest-plugin~master~I523eb5d13fe5b5d1a3c55b28b5e0e0870b9bb95f,openstack/octavia-tempest-plugin,master,octavia-availability-zones,I523eb5d13fe5b5d1a3c55b28b5e0e0870b9bb95f,Fix copy output in two-node jobs,ABANDONED,2020-09-21 12:54:15.000000000,2021-02-08 08:27:09.000000000,,2,2,5,752936,4f899f87bae81d2d391117f58d2b3d31a22df7bf,17,5,3,1,6469,Carlos Gonçalves,cgoncalves,"Fix copy output in two-node jobs

The ""zuul_copy_output"" option under host-vars overrides base
""zuul_copy_output"". This means only barely a handful of log files are
copied. Fix this by using ""host_copy_output"" option to combine both log
file lists.

Change-Id: I523eb5d13fe5b5d1a3c55b28b5e0e0870b9bb95f
"
openstack%2Fkolla-ansible~master~I0790830e1c21520df2534d2f3b1ea96010064355,openstack/kolla-ansible,master,bug/1901768,I0790830e1c21520df2534d2f3b1ea96010064355,docs: Improve multinode Docker registry setup,MERGED,2020-10-29 10:11:07.000000000,2021-02-08 08:22:52.000000000,2021-02-07 15:27:41.000000000,44,57,0,760318,34cce4c57e9a609899f2922db83878500495f825,12,5,1,1,14826,Mark Goddard,mgoddard,"docs: Improve multinode Docker registry setup

The multinode guide hints at how to setup the registry as a registry
mirror, however it does not provide all information necessary. This
change fixes that, and separates the local registry and registry mirror
cases.

Change-Id: I0790830e1c21520df2534d2f3b1ea96010064355
Closes-Bug: #1901768
"
openstack%2Fironic~master~I3b6ced6dcf03580903f5ea7237fc057f372999f9,openstack/ironic,master,redfish-vendor,I3b6ced6dcf03580903f5ea7237fc057f372999f9,Prevent redfish-virtual-media from being used with Dell nodes,MERGED,2021-01-20 11:53:56.000000000,2021-02-08 07:49:17.000000000,2021-02-08 07:47:40.000000000,103,1,15,771619,cf22604c5863920b56e0b16dbf30894cbb544130,43,6,7,6,10239,Dmitry Tantsur,dtantsur,"Prevent redfish-virtual-media from being used with Dell nodes

Indicate that idrac-redfish-virtual-media must be used instead,
otherwise a confusing failure will happen.

Change-Id: I3b6ced6dcf03580903f5ea7237fc057f372999f9
"
openstack%2Fheat~stable%2Ftrain~I93abdbf8a9532af1aec7ad15a6f384beb9fc3ff9,openstack/heat,stable/train,wait-exp-stable/train,I93abdbf8a9532af1aec7ad15a6f384beb9fc3ff9,Use random exponential delay,MERGED,2021-02-06 06:17:00.000000000,2021-02-08 04:49:11.000000000,2021-02-08 04:47:29.000000000,1,1,0,774270,069c4db8fed218702c9cd08d773c5ea9a0807fb0,10,3,1,1,8833,Rabi Mishra,rabi,"Use random exponential delay

this is much more suited for resolving contention when
accessing a (lockable) shared resource.

Change-Id: I93abdbf8a9532af1aec7ad15a6f384beb9fc3ff9
(cherry picked from commit 56f6e583d19ef4dd0c1462bfece677a6ec2fa756)
"
openstack%2Fswift~master~I5d48b67217f705ac30bb427ef8d969a90eaad2e5,openstack/swift,master,p-shard-compact,I5d48b67217f705ac30bb427ef8d969a90eaad2e5,Enable shard ranges to be manually shrunk to root container,MERGED,2021-01-21 20:58:47.000000000,2021-02-08 03:03:11.000000000,2021-02-08 03:01:39.000000000,429,62,42,771885,b0c8de699e43dffa4800564ea44a049ebab1a7ac,47,5,8,7,7847,Alistair Coles,acoles,"Enable shard ranges to be manually shrunk to root container

Shard containers learn about their own shard range by fetching shard
ranges from the root container during the sharder audit phase. Since
[1], if the shard is shrinking, it may also learn about acceptor
shards in the shard ranges fetched from the root.  However, the
fetched shard ranges do not currently include the root's own shard
range, even when the root is to be the acceptor for a shrinking shard.
This prevents the mechanism being used to perform shrinking to root.

This patch modifies the root container behaviour to include its own
shard range in responses to shard containers when the container GET
request param 'states' has value 'auditing'. This parameter is used to
indicate that a particular GET request is from the sharder during
shard audit; the root does not otherwise include its own shard range
in GET responses.

When the 'states=auditing' parameter is used with a container GET
request the response includes all shard ranges except those in the
FOUND state. The shard ranges of relevance to a shard are its own
shard range and any overlapping shard ranges that may be acceptors if
the shard is shrinking. None of these relevant shard ranges should be
in state FOUND: the shard itself cannot be in FOUND state since it has
been created; acceptor ranges should not be in FOUND state. The FOUND
state is therefore excluded from the 'auditing' states to prevent an
unintended overlapping FOUND shard range that has not yet been
resolved at the root container being fetched by a shrinking shard,
which might then proceed to create and cleave to it.

The shard only merges the root's shard range (and any other shard
ranges) when the shard is shrinking. If the root shard range is ACTIVE
then it is the acceptor and will be used when the shard cleaves.  If
the root shard range is in any other state then it will be ignored
when the shard cleaves to other acceptors.

The sharder cleave loop is modified to break as soon as cleaving is
done i.e. cleaving has been completed up to the shard's upper bound.
This prevents misleading logging that cleaving has stopped when
in fact cleaving to a non-root acceptor has completed but the shard
range list still contains an irrelevant root shard range in SHARDED
state. This also prevents cleaving to more than one acceptor in the
unexpected case that multiple active acceptors overlap the shrinking
shard - cleaving will now complete once the first acceptor has
cleaved.

[1] Related-Change: I9034a5715406b310c7282f1bec9625fe7acd57b6

Change-Id: I5d48b67217f705ac30bb427ef8d969a90eaad2e5
"
openstack%2Fironic-python-agent-builder~master~Ic24cd265db05acd23675a453632d4488fa83507c,openstack/ironic-python-agent-builder,master,update-tgt-version,Ic24cd265db05acd23675a453632d4488fa83507c,Update version of tgt to 1.0.80,MERGED,2021-02-02 08:31:15.000000000,2021-02-08 02:39:48.000000000,2021-02-08 02:38:39.000000000,1,1,0,773604,1bb81e130daa830d1a66e6871814e416eae78b94,8,3,1,1,23851,Riccardo Pittau,elfosardo,"Update version of tgt to 1.0.80

Change-Id: Ic24cd265db05acd23675a453632d4488fa83507c
"
openstack%2Ffreezer~master~Ia39021e543fea24f686caeacd8dcef964c80f431,openstack/freezer,master,,Ia39021e543fea24f686caeacd8dcef964c80f431,add test_job_start_session unit test cases,MERGED,2021-02-08 01:30:58.000000000,2021-02-08 02:29:18.000000000,2021-02-08 02:28:01.000000000,99,0,0,774387,9773f99febb853ca9fc44756428ce1874ffdf0f5,7,2,1,1,21387,gecong,gecong,"add test_job_start_session unit test cases

Change-Id: Ia39021e543fea24f686caeacd8dcef964c80f431
"
openstack%2Fironic-python-agent~master~I8e2cac5172f009d5204f83bd83e1f27cfd721f09,openstack/ironic-python-agent,master,lsblk-columns,I8e2cac5172f009d5204f83bd83e1f27cfd721f09,Use variable for lsblk columns device info,MERGED,2021-02-03 11:02:11.000000000,2021-02-08 02:26:19.000000000,2021-02-08 02:25:10.000000000,42,34,0,773871,fc1f2c73c665222d4a9ff32a763d4588978d9987,12,4,3,2,23851,Riccardo Pittau,elfosardo,"Use variable for lsblk columns device info

Adjusted unit tests accordingly.

Also removed redundant parenthesis.

Change-Id: I8e2cac5172f009d5204f83bd83e1f27cfd721f09
"
openstack%2Fmurano~master~Ib42e368cfda2b148a07df0bd74046739f40f7018,openstack/murano,master,reuse,Ib42e368cfda2b148a07df0bd74046739f40f7018,Use common rpc pattern for all services,MERGED,2021-01-19 05:05:43.000000000,2021-02-08 01:36:34.000000000,2021-02-08 01:35:08.000000000,100,74,2,771341,e5d9d1b74fec1bcf0d93361670a1ffcc22d2bdaa,15,2,5,7,22623,Erik Olof Gunnar Andersson,eoandersson,"Use common rpc pattern for all services

This patch introduces a common rpc pattern to ensure
that the rpc transport is shared where possible. This
helps prevent rpc connection leaks and should ensure
that we are making the best possible use of all
available rpc connections.

Change-Id: Ib42e368cfda2b148a07df0bd74046739f40f7018
"
openstack%2Fsolum~master~Ibdfb4fa4711b10f66ae4c01b2a10b850d0c42ca1,openstack/solum,master,reuse,Ibdfb4fa4711b10f66ae4c01b2a10b850d0c42ca1,Re-use rpc transport,MERGED,2021-01-16 21:23:50.000000000,2021-02-08 01:29:39.000000000,2021-02-08 01:28:17.000000000,67,19,0,771111,956079ed2511b6f3317d03837a3f919139307acb,16,2,7,5,22623,Erik Olof Gunnar Andersson,eoandersson,"Re-use rpc transport

Solum is currently not re-using the rpc transport, this
will cause connections to leak. This patch introduces
a commonly shared rpc pattern for openstack services
that ensures that the transport is always re-used.

Change-Id: Ibdfb4fa4711b10f66ae4c01b2a10b850d0c42ca1
"
openstack%2Ffreezer~master~Icf6a719bc71d1a478d0a232e65d01a3b6617e7e6,openstack/freezer,master,,Icf6a719bc71d1a478d0a232e65d01a3b6617e7e6,add test_job_execute unit test cases,MERGED,2021-02-08 00:10:11.000000000,2021-02-08 01:23:10.000000000,2021-02-08 01:21:59.000000000,53,0,0,774385,71f04ce289871e69fcaa4c69ab9b7de17bd9faf9,7,2,1,1,21387,gecong,gecong,"add test_job_execute unit test cases

Change-Id: Icf6a719bc71d1a478d0a232e65d01a3b6617e7e6
"
openstack%2Fsolum-dashboard~master~I58231c2cd2f11d9002961f3105a989c37a58bc75,openstack/solum-dashboard,master,fix-relmgt-pip-doc,I58231c2cd2f11d9002961f3105a989c37a58bc75,Add doc/requirements,MERGED,2021-01-07 16:05:36.000000000,2021-02-08 00:53:30.000000000,2021-02-08 00:53:30.000000000,4,3,0,769782,8a7461367ba520cffbe3ff4e9b21e6538f32c4ea,10,2,1,3,28522,Hervé Beraud,hberaud,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver [1] for the release team [2][3].
Removing specific doc requirements from test-requirements.txt.

The problem here is that this repos haven't doc/requirements.txt file
and by default in this case zuul will use the test-requirements.txt file
to pull requirements [4].

This requirements file contains extra requirements like flake8 that
collided with those allowed in our job environment and so the new pip
resolver fails to install these requirements and the job exits in error.

This project meet the conditions leading to the bug.

[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html
[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36

Change-Id: I58231c2cd2f11d9002961f3105a989c37a58bc75
"
openstack%2Fnova~master~Ia9fa4b206b247ff2f52e107b2e31b20a21a58f38,openstack/nova,master,bp/compact-db-migrations-wallaby,Ia9fa4b206b247ff2f52e107b2e31b20a21a58f38,db: Compact Ocata database migrations,MERGED,2020-10-21 15:52:33.000000000,2021-02-08 00:34:00.000000000,2021-02-08 00:31:55.000000000,4,483,0,759086,eb5a1e4d721a2c2dc01932b87ecb88db9e37013c,82,13,5,17,15334,Stephen Finucane,sfinucan,"db: Compact Ocata database migrations

Compact Ocata database migrations into a single migration,
'347_ocata.py'.

Users will now need to update to Ocata before updating to Pike or later.

Specific changes include:

- Drop 'scheduled_at' column from 'instances' table
- Add indexes on 'instances' table covering the 'project_id' column,
  and the 'updated_at' and 'project_id' columns

Change-Id: Ia9fa4b206b247ff2f52e107b2e31b20a21a58f38
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstack-ansible~master~I0a99b37281fed49a10a5f1482e573ab5cac7bb89,openstack/openstack-ansible,master,,I0a99b37281fed49a10a5f1482e573ab5cac7bb89,Add barbican-ui repo package and zuul repo,MERGED,2021-02-04 08:57:41.000000000,2021-02-07 23:52:46.000000000,2021-02-07 23:47:18.000000000,7,0,0,774053,ea1e97941aa9197773d0ee4b92d8815e09a75389,18,3,1,2,25023,Jonathan Rosser,jrosser,"Add barbican-ui repo package and zuul repo

Add these so we can enable the barbican panels in horizon

Change-Id: I0a99b37281fed49a10a5f1482e573ab5cac7bb89
"
openstack%2Fkayobe~stable%2Fussuri~Ibe42fa372c6fa0c539d2c2b0e238601286dc213d,openstack/kayobe,stable/ussuri,,Ibe42fa372c6fa0c539d2c2b0e238601286dc213d,Fix --limit with commas,MERGED,2021-01-15 16:59:38.000000000,2021-02-07 17:23:08.000000000,2021-02-07 17:21:43.000000000,74,4,0,770959,783d0f2e3626bab169d6f2268b0bc1e97514dbed,13,4,1,5,14826,Mark Goddard,mgoddard,"Fix --limit with commas

Kayobe allows specifying a --limit argument, which is passed through to
Ansible. In some cases we wish to add an intersection with a group. This
allows us to reuse playbooks for the seed, overcloud etc.

For example, the lvm.yml playbook specifies a host list of
seed-hypervisor:seed:overcloud. When executed as part of a kayobe
overcloud host configure command, Kayobe passes a limit of overcloud. If
the user specifies a --limit argument, this gets intersected with the
overcloud limit: host1:&overcloud.

The problem happens if the user specifies multiple parts to the host
pattern in their limit using a comma, e.g. host1,host2. This results in
host1,host2:&overcloud. Ansible ignores the colon, and treats this as
host1 or host2:&overcloud.

The solution is to use a comma to join the patterns if the user has used
a comma: host1,host2,&overcloud

Change-Id: Ibe42fa372c6fa0c539d2c2b0e238601286dc213d
Story: 2008255
Task: 41111
(cherry picked from commit 017b092df70706177c542c3a3cab3f9d0a75e5c2)
"
openstack%2Fopenstack-ansible~master~I151a6635c4db76a597d0412eee9d039eb4383ddb,openstack/openstack-ansible,master,bug/1808041,I151a6635c4db76a597d0412eee9d039eb4383ddb,Add a note about stale env.d files,ABANDONED,2018-12-12 11:22:23.000000000,2021-02-07 15:15:29.000000000,,6,0,0,624667,ca67b323384c168b8f89bfefa2928396499a9836,4,2,1,1,16523,ZhangLei,zhang.lei,"Add a note about stale env.d files

backport: rocky queens

Change-Id: I151a6635c4db76a597d0412eee9d039eb4383ddb
Closes-Bug: #1808041
"
openstack%2Fopenstack-ansible-os_masakari~master~I320abfca4946ccd5683722890dfdd054e56d9f49,openstack/openstack-ansible-os_masakari,master,masakari-documentation,I320abfca4946ccd5683722890dfdd054e56d9f49,Add doc for installing masakari role,ABANDONED,2018-06-05 06:41:48.000000000,2021-02-07 15:13:48.000000000,,97,7,2,572264,fd5e620f2096bb513517549ebc394fb00b1d6603,7,2,2,2,26463,Niraj Singh,nirajsingh,"Add doc for installing masakari role

This change adds an installation guide for the masakari role.

Change-Id: I320abfca4946ccd5683722890dfdd054e56d9f49
"
openstack%2Fopenstack-ansible~master~I1d6d1edb4f2968438de6add6846ebf88b1664c4b,openstack/openstack-ansible,master,fix_inventories_path,I1d6d1edb4f2968438de6add6846ebf88b1664c4b,fix inventory path,ABANDONED,2018-02-14 16:25:00.000000000,2021-02-07 15:11:33.000000000,,1,1,1,544523,d448076536fc423d41279d3ffbac54f65d6d3d66,7,4,1,1,20494,Romain Guichard,rguichard,"fix inventory path

Change-Id: I1d6d1edb4f2968438de6add6846ebf88b1664c4b
"
openstack%2Fopenstack-ansible-tests~master~Ifca0af018c074fe0371a5fe0f15106bea817299d,openstack/openstack-ansible-tests,master,log_collection_removed_file,Ifca0af018c074fe0371a5fe0f15106bea817299d,Cope with disappearing files when compressing,ABANDONED,2017-12-19 16:37:28.000000000,2021-02-07 15:10:21.000000000,,7,1,3,529109,9092c1f5fe0cc5f28e646be7257e30d8b28c828d,6,3,1,1,7217,Hugh Saunders,hughsaunders,"Cope with disappearing files when compressing

Gzip fails if a file is not present. So instead of zipping every file
with a single invocation of gzip, we zip them with an invocation per
file. That way if a file is removed after the file list is generated,
only one invocation of gzip will fail and the rest of the files will be
successfully compressed.

Change-Id: Ifca0af018c074fe0371a5fe0f15106bea817299d
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Fussuri~I68c0b138955693c8d1992f986878862ea12f5149,openstack/openstack-ansible-os_keystone,stable/ussuri,,I68c0b138955693c8d1992f986878862ea12f5149,Allow OIDCClaimDelimiter to be set in the apache config file,MERGED,2021-02-04 15:06:24.000000000,2021-02-07 14:49:17.000000000,2021-02-07 14:48:07.000000000,3,0,0,773965,9b75e5071520533bd0e5083029dd344d16beafcc,14,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Allow OIDCClaimDelimiter to be set in the apache config file

This may be necessary for federation where there are multiple
OIDC groups that are separate by a ';'. See [1].

[1] https://docs.openstack.org/keystone/ussuri/admin/federation/mapping_combinations.html

Change-Id: I68c0b138955693c8d1992f986878862ea12f5149
(cherry picked from commit b71f4853e3749169f8d8e23c78c4dc3846c026dd)
"
openstack%2Fopenstack-ansible-os_neutron~stable%2Fussuri~I5a2cfa40dbcd8116065892e5994898914fd0480b,openstack/openstack-ansible-os_neutron,stable/ussuri,,I5a2cfa40dbcd8116065892e5994898914fd0480b,Fix neutron_keepalived_no_track default logic,MERGED,2021-02-04 16:38:42.000000000,2021-02-07 14:35:47.000000000,2021-02-07 14:34:29.000000000,1,1,0,773975,bd74c76dfb5ed5e0d1a01ee6e1efd1bdc7871371,14,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix neutron_keepalived_no_track default logic

Current logic didn't make sense and made condition to be always true
for ubuntu/debian regardless OS version. While for bionic it should have
remained as false.

Change-Id: I5a2cfa40dbcd8116065892e5994898914fd0480b
(cherry picked from commit f441b212f5786f07472c103b36aa6224b19bbf25)
"
openstack%2Fnova~master~Id49a4e400159130fbc676800aeca6b9746071a2e,openstack/nova,master,,Id49a4e400159130fbc676800aeca6b9746071a2e,docs: Move the LibvirtDistroSupportMatrix wiki page into our docs,MERGED,2021-01-22 13:57:22.000000000,2021-02-07 13:41:16.000000000,2021-02-06 01:09:38.000000000,310,14,35,771981,a19d25b67fb524aca83d6ad4e24a16bbd1c65433,73,4,5,3,10135,Lee Yarwood,lyarwood,"docs: Move the LibvirtDistroSupportMatrix wiki page into our docs

This change moves the LibvirtDistroSupportMatrix [1] wiki page into the
tree as a reference doc. The wiki page will be decommissioned once this
change lands and is published.

Some older distro information is removed to keep the table readable and
a note is added to driver.py to ensure it updated with each version
bump.

[1] https://wiki.openstack.org/wiki/LibvirtDistroSupportMatrix

Change-Id: Id49a4e400159130fbc676800aeca6b9746071a2e
"
openstack%2Fnova~master~Idd58298a6b01775f962b9bf0a0835f762c8e0ed2,openstack/nova,master,bp/support-interface-attach-with-qos-ports,Idd58298a6b01775f962b9bf0a0835f762c8e0ed2,Refactor ResourceRequest constructor,MERGED,2021-01-07 12:41:14.000000000,2021-02-07 13:04:52.000000000,2021-02-07 06:36:58.000000000,118,80,41,769720,c3804efd42f2d735ad48455705dfaa34e10f4cdf,108,6,5,6,9708,Balazs Gibizer,gibi,"Refactor ResourceRequest constructor

This refactor changes ResourceRequest __init__ to make only an empty
request and moves the ResourceReqeust creation from a RequestSpec to a
static factory method. This is a preparation to introduce another
factory method later that will generate a ResourceRequest from a single
ResourceGroup instead of a full RequestSpec.

Blueprint: support-interface-attach-with-qos-ports

Change-Id: Idd58298a6b01775f962b9bf0a0835f762c8e0ed2
"
openstack%2Fnova~master~Id854a6a516eb8467d29d186a2b7bc9e9ce70db33,openstack/nova,master,bp/compact-db-migrations-wallaby,Id854a6a516eb8467d29d186a2b7bc9e9ce70db33,db: Compact Newton database migrations,MERGED,2020-10-21 15:52:33.000000000,2021-02-07 12:04:07.000000000,2021-02-07 12:02:26.000000000,28,529,0,759085,c57cc047ee7c2df1ed508eee1faaf9104c5198ae,90,14,5,19,15334,Stephen Finucane,sfinucan,"db: Compact Newton database migrations

Compact Newton database migrations into a single migration,
'334_newton.py'.

Users will now need to update to Newton before updating to Ocata or
later.

Specific changes include:

- Add 'tag' column to 'virtual_interfaces' table
- Add 'tag' column to 'block_device_mapping' table
- Add 'keypairs' column to 'instance_extra' table
- Add 'console_auth_tokens' table
- Add 'device_metadata' column to 'instance_extra' table

Change-Id: Id854a6a516eb8467d29d186a2b7bc9e9ce70db33
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstack-ansible-os_neutron~stable%2Fvictoria~I5a2cfa40dbcd8116065892e5994898914fd0480b,openstack/openstack-ansible-os_neutron,stable/victoria,,I5a2cfa40dbcd8116065892e5994898914fd0480b,Fix neutron_keepalived_no_track default logic,MERGED,2021-02-04 16:37:48.000000000,2021-02-07 10:46:51.000000000,2021-02-07 10:45:43.000000000,1,1,0,773974,f3eb23c7fa8a3fde67535cd8e36f15047cf22e4a,12,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix neutron_keepalived_no_track default logic

Current logic didn't make sense and made condition to be always true
for ubuntu/debian regardless OS version. While for bionic it should have
remained as false.

Change-Id: I5a2cfa40dbcd8116065892e5994898914fd0480b
(cherry picked from commit f441b212f5786f07472c103b36aa6224b19bbf25)
"
openstack%2Ffreezer~master~Ifcef7876c3b1930ebd1237e9c1264db8278e332e,openstack/freezer,master,,Ifcef7876c3b1930ebd1237e9c1264db8278e332e,add test_job_process_event unit test cases,MERGED,2021-02-07 08:51:17.000000000,2021-02-07 09:55:54.000000000,2021-02-07 09:54:27.000000000,26,0,0,774374,98b12b02e0ae653fda3034993afa6eaca42a3113,7,2,1,1,21387,gecong,gecong,"add test_job_process_event unit test cases

Change-Id: Ifcef7876c3b1930ebd1237e9c1264db8278e332e
"
openstack%2Fneutron~master~I2ffee0c8dcfd9911681ba5dd0e16b6d3505a9271,openstack/neutron,master,improve-ml2-docs,I2ffee0c8dcfd9911681ba5dd0e16b6d3505a9271,Add OVN mechanism driver to the ML2 config document,MERGED,2021-02-02 22:12:12.000000000,2021-02-07 09:19:26.000000000,2021-02-07 09:17:59.000000000,36,1,6,773811,0db771dcfe5e2fb6c9c4964cc4769bb13416cf80,12,3,2,1,11975,Slawek Kaplonski,slaweq,"Add OVN mechanism driver to the ML2 config document

Change-Id: I2ffee0c8dcfd9911681ba5dd0e16b6d3505a9271
"
openstack%2Fnova~master~I9933a9e9087868f1cd92100b3e82c35fe02cab09,openstack/nova,master,bp/compact-db-migrations-wallaby,I9933a9e9087868f1cd92100b3e82c35fe02cab09,db: Compact Liberty database migrations,MERGED,2020-10-15 11:17:29.000000000,2021-02-07 09:14:06.000000000,2021-02-06 06:20:13.000000000,54,754,14,758397,1da542ff7a9ebf4cb86ec607bb35b4d69d848f73,122,13,7,25,15334,Stephen Finucane,sfinucan,"db: Compact Liberty database migrations

Compact Liberty database migrations into a single migration,
'302_liberty.py'.

Users will now need to update to Liberty before updating to Mitaka or
later.

Specific changes include:

- Drop 'volumes', 'iscsi_targets' tables
- Add 'migration_type', 'hidden' columns to 'migrations' table
- Add 'last_seen_up' column to 'services' table
- Add index for 'uuid' column of 'virtual_interfaces' table
- Add 'forced_down' column to 'services' table
- Add 'version' column to 'services' table
- Add 'migration_context' column to 'migration_context' table
- Add index for 'instance_uuid' column of 'instance_system_metadata'
  table for PostgreSQL and SQLite; this was already present for MySQL

This hits the same issue seen previously of a constraint being added to
a boolean field in a shadow table on SQLite, despite this being disabled
for the main table. As before, we can ignore this given SQLite is not a
production DB.

We also hit another case of doing something to a main table but not its
shadow table, which will have to be resolved later.

Now that we can rely on flavor records having been migrated, we can
remove the 'db migrate_flavor_data' nova-manage command. This will be
done separately.

When testing, the previous base version was 279. It is now 301.

[1] https://github.com/sqlalchemy/alembic/issues/652

Change-Id: I9933a9e9087868f1cd92100b3e82c35fe02cab09
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ffreezer~master~I3459d776df233dbe8c36495db3cc113984b44e94,openstack/freezer,master,,I3459d776df233dbe8c36495db3cc113984b44e94,add test_save_action_to_file unit test cases,MERGED,2021-02-07 07:47:06.000000000,2021-02-07 08:47:56.000000000,2021-02-07 08:46:46.000000000,46,0,0,774369,ca74ddf145f92db30fc1ec9cc507d5b96b788cbb,7,2,1,1,21387,gecong,gecong,"add test_save_action_to_file unit test cases

Change-Id: I3459d776df233dbe8c36495db3cc113984b44e94
"
openstack%2Fcyborg~master~Ida0ba8f24b9e226da7f3d7a85fc372247e5281a5,openstack/cyborg,master,bp/sriov-smartnic-support,Ida0ba8f24b9e226da7f3d7a85fc372247e5281a5,Add intel NIC driver,MERGED,2020-10-21 05:54:16.000000000,2021-02-07 08:46:57.000000000,2021-02-07 08:45:36.000000000,999,27,94,758942,e3caf5cb0a5d5fe44e2409c7712d3d911508a27b,51,7,10,23,25738,Xinran WANG,Xinran,"Add intel NIC driver

This patch implements a new driver for Intel Nic Card. It
can discover the device and report it to Placement service with
CUSTOM_NIC resource class and specific traits.

Operator should specify the device and correspond profile in a
config file so that nic's driver can read the info from this
file.

Please check the test report in the following link:
https://wiki.openstack.org/wiki/Cyborg/TestReport/IntelNic

Change-Id: Ida0ba8f24b9e226da7f3d7a85fc372247e5281a5
Implements: blueprint sriov-smartnic-support
"
openstack%2Fpython-manilaclient~master~I39afab6c844972a1c97c15055dbc1f07ed90a68b,openstack/python-manilaclient,master,Bug-#1898317,I39afab6c844972a1c97c15055dbc1f07ed90a68b,"Add ""--wait"" option for force-deleting a share/snapshot/share-instance",ABANDONED,2021-01-28 10:41:59.000000000,2021-02-07 08:02:13.000000000,,48,0,7,772849,9e37a49f7ef60074745f354d52d33ea68f8ac8c0,6,2,1,2,32493,Kafilat Adeleke,kafilat-adeleke,"Add ""--wait"" option for force-deleting a share/snapshot/share-instance

Change-Id: I39afab6c844972a1c97c15055dbc1f07ed90a68b
"
openstack%2Fneutron~stable%2Fussuri~Ib840e7c51f7b918b5e17ce9deff9ceafacf063cc,openstack/neutron,stable/ussuri,bug/1899004,Ib840e7c51f7b918b5e17ce9deff9ceafacf063cc,Make test_agent_show only look for its own agents,MERGED,2021-02-03 08:52:20.000000000,2021-02-07 07:52:49.000000000,2021-02-07 07:51:24.000000000,9,9,0,773851,5f78ff515a5a926ab3f8208b0980585e8ab89ae7,19,4,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Make test_agent_show only look for its own agents

Since plugin agents are a global resource, relying just on the
'type' field for test_agent_show may end up finding an agent that
we don't know about, and that agent could be deleted by another
test. This reworks test_agent_show to sepecifically look for its
own OVN controller agent and test agent.

This also adds the 'id' field to the returned agent_status from
create_or_update_agent() to make it possible to look for the agent
that was just created.

Change-Id: Ib840e7c51f7b918b5e17ce9deff9ceafacf063cc
Closes-Bug: #1899004
(cherry picked from commit df2c7baa23b814ccd118fb69d16427b2bf59cecc)
"
openstack%2Ffreezer~master~If11616c358681b2363ea5ff37c1aba726e4d9091,openstack/freezer,master,,If11616c358681b2363ea5ff37c1aba726e4d9091,add test_job_session_id unit testcases,MERGED,2021-02-07 06:05:16.000000000,2021-02-07 07:43:02.000000000,2021-02-07 07:41:47.000000000,19,0,0,774365,d8b96ff91cbdb41a0495f6e7d6214470d3a964ae,7,2,1,1,21387,gecong,gecong,"add test_job_session_id unit testcases

Change-Id: If11616c358681b2363ea5ff37c1aba726e4d9091
"
openstack%2Fneutron~stable%2Fussuri~Ied5bdca2a3b3832f11d42614d609d0849111ae1a,openstack/neutron,stable/ussuri,bug/1897921,Ied5bdca2a3b3832f11d42614d609d0849111ae1a,"Do not update agents ""alive"" state in TestAgentApi",MERGED,2021-02-03 08:50:54.000000000,2021-02-07 07:31:10.000000000,2021-02-07 07:29:33.000000000,2,0,0,773850,c825921dc73f065d4984895d7b1dadf35f505596,31,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Do not update agents ""alive"" state in TestAgentApi

During the execution of FT TestAgentApi, we should not update the
chassis agents ""alive"" state; during the FT execution, some of the
agents returned by ""agents_from_chassis"" do not really exist (not
relevant for the test case).

Change-Id: Ied5bdca2a3b3832f11d42614d609d0849111ae1a
Closes-Bug: #1897921
(cherry picked from commit be7882be27237e7803c0b8411335f66594729175)
(cherry picked from commit 3ca5b3a5de44af57024a67f7f6abc0a09711c232)
"
openstack%2Fglance~master~I2a3a99bd27db1c72d49b36b87e073e0b97fc874d,openstack/glance,master,multiple-cinder-backend-support,I2a3a99bd27db1c72d49b36b87e073e0b97fc874d,Add functional tests for cinder multiple store,MERGED,2020-09-07 09:44:56.000000000,2021-02-07 07:28:32.000000000,2021-02-05 16:20:47.000000000,261,1,15,750144,09b924c9bcdfd4d750f285f60cfd02f5504908fb,42,6,6,3,27615,Rajat Dhasmana,whoami-rajat,"Add functional tests for cinder multiple store

This patch adds functional tests for cinder multiple stores[1] legacy
image migration and new image create.
NOTE: This has been proposed separately as it has a dependency on a
glance-store change[2] which will require a new release of glance-store
to reflect changes on the gate.

[1] https://review.opendev.org/#/c/748039
[2] https://review.opendev.org/#/c/750131

Depends-On: https://review.opendev.org/#/c/750131
Change-Id: I2a3a99bd27db1c72d49b36b87e073e0b97fc874d
"
openstack%2Ffreezer~master~I8955f673b968c34b9b27f6e305f17ab3b6fcfac2,openstack/freezer,master,improveUTC5,I8955f673b968c34b9b27f6e305f17ab3b6fcfac2,add test_job_create unit testcases,MERGED,2021-02-07 03:14:21.000000000,2021-02-07 05:59:35.000000000,2021-02-07 05:58:21.000000000,15,0,0,774364,bf49fb0dfc8bf2ab35921db46bf9e4878c5bad78,7,2,1,1,21387,gecong,gecong,"add test_job_create unit testcases

Change-Id: I8955f673b968c34b9b27f6e305f17ab3b6fcfac2
"
openstack%2Fcinder~master~I7325307d58e93f219e9a24529d90680141b165a4,openstack/cinder,master,bp/volume-list-query-optimization,I7325307d58e93f219e9a24529d90680141b165a4,volume list query optimization,NEW,2020-07-09 03:49:11.000000000,2021-02-07 04:34:20.000000000,,90,2,1,740152,c79b672806cd9854070784bdad533933d95f6cc6,179,42,2,4,30407,haixin,haixin,"volume list query optimization

When we fail to manage a volume, we use cinder list to view the volume
list, or use cinder show to view the volume details, We can see that the
volume state is error.
But when we filter the list of volumes by specifying the status as
error,We found that there were no manage failed volumes in the
screening results,this will confuse the user.
so what needs to be fixed?

(A) when a user filters on status=error, volumes in (internal) status
error_managing should also be included
(B) when a user filters on status=creating, volumes in (internal) status
managing should also be included
(C) when a user filters on status=deleting, volumes in (internal) status
error_managing_deleting should also be included
(D) when a user filters on any status that's not in the official list,
they should get an empty list of volumes (need to verify that's the
current behavior, but I'm pretty sure that if you GET
/v3/v3/{project_id}/volumes/detail?status=not-a-status you get the
response { ""volumes"": [] }, not a 400). Currently we rely on the
database for this, but we may need to handle it in the REST API layer.
(E) fixing the ""like"" operator from microversion 3.34 is going to be
tricky. ?status~=error should include volumes in statuses error,
error_deleting, error_backing-up, error_restoring, and error_extending
(and error_managing), but NOT include volumes with status
error_managing_deleting. ?status~=creating should include volumes with
(internal) status 'managing'. ?status~=deleting should include volumes
with internal status 'error_managing_deleting', but not include error_deleting.

Partially-Implements: blueprint volume-list-query-optimization

Change-Id: I7325307d58e93f219e9a24529d90680141b165a4
"
openstack%2Fceilometer~master~I52455c85b5cb50e9c4f1fdf5538965dc200065aa,openstack/ceilometer,master,iterable,I52455c85b5cb50e9c4f1fdf5538965dc200065aa,Using Iterable was deprecated in python 3.3,MERGED,2021-02-02 12:34:46.000000000,2021-02-07 03:44:19.000000000,2021-02-07 03:42:49.000000000,1,1,0,773652,ec08228a1b0fb09b0d75b2ca41459558c6ec0a71,8,3,1,1,4264,Matthias Runge,mrunge,"Using Iterable was deprecated in python 3.3

and one should use collections.abc.Iterable

Change-Id: I52455c85b5cb50e9c4f1fdf5538965dc200065aa
"
openstack%2Fmurano~master~Id2364b046080c50e122f89d0a7b2d914b1bedbfd,openstack/murano,master,fix_gate,Id2364b046080c50e122f89d0a7b2d914b1bedbfd,Fix lower-constraints,MERGED,2021-01-19 07:51:24.000000000,2021-02-07 03:33:00.000000000,2021-02-07 03:31:41.000000000,25,19,0,771374,7dd31ad63b4ad5d86d747dbc0e3de18f4a768199,10,2,2,3,22623,Erik Olof Gunnar Andersson,eoandersson,"Fix lower-constraints

The lower-constraints job is currently broken since the new
release of pip. This patch resolves all of the issues uncovered
by the new version of pip.

We also add new constraints to fix slow installations
due to pip trying to resolve the ideal candidates.

Change-Id: Id2364b046080c50e122f89d0a7b2d914b1bedbfd
"
openstack%2Fsolum~master~Ie325affdb24ba01e762f0832db80e0c46e635f60,openstack/solum,master,fix_gate,Ie325affdb24ba01e762f0832db80e0c46e635f60,Fix broken CI and lower-constraints,MERGED,2021-01-16 21:52:17.000000000,2021-02-07 03:26:58.000000000,2021-02-07 03:25:32.000000000,34,11,0,771112,e70179000dcef97af1378ad01b8c38d44b8a2742,13,2,5,4,22623,Erik Olof Gunnar Andersson,eoandersson,"Fix broken CI and lower-constraints

We need to monkey patch the tests to make sure
we get the same order of operations as we would
when running the service.

This patch also fixes issues with lower-constraints. I based
the fix on the same fix as I did for Designate and Senlin.

Change-Id: Ie325affdb24ba01e762f0832db80e0c46e635f60
"
openstack%2Ffreezer~master~I3db2a946d0950c9b01ee8912c43f7704ffd97c5d,openstack/freezer,master,improveUTC4,I3db2a946d0950c9b01ee8912c43f7704ffd97c5d,add test_runningstate_remove for unit test,MERGED,2021-02-07 01:48:42.000000000,2021-02-07 03:08:23.000000000,2021-02-07 03:07:10.000000000,12,0,0,774363,97236a160994f139ca1302bb7cd5d68bacc7c15f,7,2,1,1,21387,gecong,gecong,"add test_runningstate_remove for unit test

Change-Id: I3db2a946d0950c9b01ee8912c43f7704ffd97c5d
"
openstack%2Fyaql~master~Ib07d778a01275d7c985e059156e95abc112e81c8,openstack/yaql,master,collections.abc,Ib07d778a01275d7c985e059156e95abc112e81c8,Switch to collections.abc.*,MERGED,2021-02-01 10:34:25.000000000,2021-02-07 02:47:11.000000000,2021-02-07 02:47:11.000000000,19,19,1,773350,c3bda9eeb1d802cd95b3120925d3786a4f060025,10,2,3,3,15334,Stephen Finucane,sfinucan,"Switch to collections.abc.*

The abstract base classes previously defined in 'collections' were moved
to 'collections.abc' in 3.3. The aliases will be removed in 3.10.
Preempt this change now with a simple find-replace:

  $ ag -l 'collections.($TYPES)' | \
      xargs sed -i 's/\(collections\)\.\($TYPES\)/\1.abc.\2/g'

Where $TYPES is the list of moved ABCs from [1].

[1] https://docs.python.org/3/library/collections.abc.html

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ib07d778a01275d7c985e059156e95abc112e81c8
"
openstack%2Fyaql~master~I2f37e055838ea50627562d3585d6951f8d8d46aa,openstack/yaql,master,collections.abc,I2f37e055838ea50627562d3585d6951f8d8d46aa,Remove six,MERGED,2021-02-01 10:34:25.000000000,2021-02-07 02:47:07.000000000,2021-02-07 02:47:07.000000000,4931,276,3,773349,4670f0949c349a162cf48b0aad30a98eabbaff7f,10,2,3,25,15334,Stephen Finucane,sfinucan,"Remove six

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I2f37e055838ea50627562d3585d6951f8d8d46aa
"
openstack%2Fyaql~master~I450c062eed1185e7e4c49a156307abb4320f6cb6,openstack/yaql,master,collections.abc,I450c062eed1185e7e4c49a156307abb4320f6cb6,tox: Set 'ignore_basepython_conflict',MERGED,2021-02-01 10:55:54.000000000,2021-02-07 02:45:51.000000000,2021-02-07 02:45:51.000000000,2,4,0,773356,8fcac72fd36724aecaa2557332852fbfa67773dd,6,2,1,1,15334,Stephen Finucane,sfinucan,"tox: Set 'ignore_basepython_conflict'

Ensure we run with the versions of Python we expect to. Some other
cruft is removed.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I450c062eed1185e7e4c49a156307abb4320f6cb6
"
openstack%2Fmurano-dashboard~master~I425e9b4cfcf86e67c6288796e3da95b07769c6dc,openstack/murano-dashboard,master,fix-relmgt-pip-doc,I425e9b4cfcf86e67c6288796e3da95b07769c6dc,Add doc/requirements,MERGED,2021-01-07 14:32:45.000000000,2021-02-07 02:42:46.000000000,2021-02-07 02:40:56.000000000,10,10,0,769756,7d710044b6d89600fcec73e5b48b146689cca255,18,4,2,4,28522,Hervé Beraud,hberaud,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver [1] for the release team [2][3].
Removing specific doc requirements from test-requirements.txt.

The problem here is that this repos haven't doc/requirements.txt file
and by default in this case zuul will use the test-requirements.txt file
to pull requirements [4].

This requirements file contains extra requirements like flake8 that
collided with those allowed in our job environment and so the new pip
resolver fails to install these requirements and the job exits in error.
It also update horizon version in requirements.txt to match the horizon
version in  lower-constriants.txt to fix requirements-check job.

This project meet the conditions leading to the bug.

[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html
[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36

Change-Id: I425e9b4cfcf86e67c6288796e3da95b07769c6dc
"
openstack%2Fsolum-dashboard~master~Ided45f20b4d30f9c655d1745bbcc8f57e875ff9f,openstack/solum-dashboard,master,,Ided45f20b4d30f9c655d1745bbcc8f57e875ff9f,Fix lower-constraints job,MERGED,2021-02-03 13:25:22.000000000,2021-02-07 02:40:37.000000000,2021-02-07 02:40:37.000000000,5,5,0,773887,a9330963c82dd78585e03b79db79165d1c3124d3,8,2,2,1,29313,Vishal Manchanda,vishalmanchanda,"Fix lower-constraints job

This patch bump few packages version in 'lower-constraints.txt'
to fix the CI.

Change-Id: Ided45f20b4d30f9c655d1745bbcc8f57e875ff9f
"
openstack%2Fnova~master~I9335ddb2d72909a110c313d5b609f2be279b18ef,openstack/nova,master,,I9335ddb2d72909a110c313d5b609f2be279b18ef,Fix ForbiddenWithAccelerators to HTTPForbidden for shelve API,MERGED,2021-01-08 22:55:39.000000000,2021-02-07 01:46:03.000000000,2021-02-05 04:12:43.000000000,38,2,6,770007,cb56ae6aad274ba0cef8b97dcc2130e114260db2,37,7,4,5,8556,Ghanshyam,ghanshyam,"Fix ForbiddenWithAccelerators to HTTPForbidden for shelve API

ForbiddenWithAccelerators is not converted to HTTPForbidden unless
that is explicitly converted in API controller. For example:
- https://github.com/openstack/nova/blob/46899968619e4ea0ff2ab380977619bb29578d43/nova/api/openstack/compute/migrate_server.py#L154

Otherwise it end up raising 500 because ForbiddenWithAccelerators is
not inherrited from nova.exception.Forbidden
- https://github.com/openstack/nova/blob/46899968619e4ea0ff2ab380977619bb29578d43/nova/exception.py#L158

and expected_errors() decorator convert it to 500.
- https://github.com/openstack/nova/blob/46899968619e4ea0ff2ab380977619bb29578d43/nova/api/openstack/wsgi.py#L689

Except shelve API, all other APIs which can get
ForbiddenWithAccelerators via block_accelerators decorator convert it
explicitly.

If we inherit ForbiddenWithAccelerators from nova.exception.Forbidden
then expected_errors() decorator will take care of convertion to
HTTPForbidden automatically for all APIs.

Also adding tests for APIs can get ForbiddenWithAccelerators.

Change-Id: I9335ddb2d72909a110c313d5b609f2be279b18ef
"
openstack%2Ffreezer~master~I33388d127121cc8e017f9db7209ad03773098929,openstack/freezer,master,improveUTC3,I33388d127121cc8e017f9db7209ad03773098929,add test_runningstate_stop for unit test,MERGED,2021-02-07 00:11:10.000000000,2021-02-07 01:44:37.000000000,2021-02-07 01:43:09.000000000,8,0,0,774361,8b26e2738bf7abac57497af896dcac896caf3b16,7,2,1,1,21387,gecong,gecong,"add test_runningstate_stop for unit test

Change-Id: I33388d127121cc8e017f9db7209ad03773098929
"
openstack%2Fnova~master~I51f6da50ac349c78c5bf3d7847b0b34526872cd4,openstack/nova,master,bug/1852727,I51f6da50ac349c78c5bf3d7847b0b34526872cd4,pci: Improve testing of 'nova.pci.request' module,MERGED,2020-11-27 11:35:19.000000000,2021-02-06 20:41:17.000000000,2021-02-05 04:14:02.000000000,171,168,0,764446,671dc5bfe8ae09788e4c7b301b9a069e869b9f7b,24,4,2,2,15334,Stephen Finucane,sfinucan,"pci: Improve testing of 'nova.pci.request' module

The tests for this were a bit of a mess and fairly indecipherable.
Improve them by reducing duplication, using better test function names
and closing some small coverage gaps.

Change-Id: I51f6da50ac349c78c5bf3d7847b0b34526872cd4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~Ib0c9229899e9a83992757270503e0e1a988f2402,openstack/nova,master,bp/compact-db-migrations-wallaby,Ib0c9229899e9a83992757270503e0e1a988f2402,db: Compact Mitaka database migrations,MERGED,2020-10-15 11:17:29.000000000,2021-02-06 16:39:46.000000000,2021-02-06 16:38:08.000000000,98,678,1,758398,76e8653ba1ec62656274ee8b28aa7b7cd34b307a,101,14,6,21,15334,Stephen Finucane,sfinucan,"db: Compact Mitaka database migrations

Compact Mitaka database migrations into a single migration,
'319_mitaka.py'.

Users will now need to update to Mitaka before updating to Newton or
later.

Specific changes include:

- Add 'parent_addr' column to 'pci_devices' table
- Add 'resource_providers', 'inventories', and 'allocations' tables
- Add 'memory_total', 'memory_processed', 'memory_remaining', 'disk_total',
  'disk_processed', and 'disk_remaining' columns to 'migrations' table
- Add 'disk_allocation_ratio' column to 'compute_nodes' table
- Add 'uuid' column and corresponding index to 'aggregates' table
- Add 'name', 'generation' and 'can_host' columns to
  'resource_providers' table
- Add unique constraint on 'name' column of 'resource_providers' table
- Add index on 'name' column of 'resource_providers' table
- Add 'resource_provider_aggregates' table

Some tests that depended on some of these migrations are removed.

When testing, the previous base version was 301. It is now 318.

Change-Id: Ib0c9229899e9a83992757270503e0e1a988f2402
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcharm-mysql-innodb-cluster~master~I573ac3519687f48790809bd3c1c61fba1f5a54da,openstack/charm-mysql-innodb-cluster,master,bug/1914299,I573ac3519687f48790809bd3c1c61fba1f5a54da,Clear ssl_ca when certificates relation departs,MERGED,2021-02-04 02:22:04.000000000,2021-02-06 15:05:13.000000000,2021-02-06 15:05:13.000000000,16,1,0,774033,ee2aff9278c5d903cb892241e7c90bd6fa8e65b3,28,4,3,2,20805,David Ames,thedac,"Clear ssl_ca when certificates relation departs

Closes-Bug: #1914299
Change-Id: I573ac3519687f48790809bd3c1c61fba1f5a54da
"
openstack%2Fnova~master~I5e8bbc078266d81d64c2073a828b6ff394e4f0e1,openstack/nova,master,,I5e8bbc078266d81d64c2073a828b6ff394e4f0e1,glance: Remove [glance]/allowed_direct_url_schemes,MERGED,2021-01-28 12:47:18.000000000,2021-02-06 14:43:18.000000000,2021-02-06 01:10:07.000000000,12,71,0,772874,f9901ca92770a879a28c17f28814f6c93204f2fc,35,4,1,4,10135,Lee Yarwood,lyarwood,"glance: Remove [glance]/allowed_direct_url_schemes

This option was deprecated during Queens and can be removed now.

A single test is fully removed as it is no longer possible to hit the
usecase while an additional two tests are modified to test the recently
introduced rbd direct download usecase.

Change-Id: I5e8bbc078266d81d64c2073a828b6ff394e4f0e1
"
openstack%2Ftripleo-quickstart~master~Ia30d28237c744644e5b8a435458a65fdbcfea4ae,openstack/tripleo-quickstart,master,env_merging,Ia30d28237c744644e5b8a435458a65fdbcfea4ae,Enable swift for fs039,MERGED,2021-02-02 02:53:33.000000000,2021-02-06 11:07:16.000000000,2021-02-06 11:06:06.000000000,1,0,2,773560,5dcdeb202078b6adc864b4e60db104eaab731535,34,4,2,1,8833,Rabi Mishra,rabi,"Enable swift for fs039

Nova/Ironic require swift for certain use cases. Let's enable
it for fs039 where we use nova for node provisioning.

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/773559
Change-Id: Ia30d28237c744644e5b8a435458a65fdbcfea4ae
"
openstack%2Frequirements~master~I5cf25fcba050b07cf0818278484636f5715a424d,openstack/requirements,master,openstack/requirements/constraints/noclob,I5cf25fcba050b07cf0818278484636f5715a424d,Updated from generate-constraints,MERGED,2021-02-06 06:19:39.000000000,2021-02-06 09:34:03.000000000,2021-02-06 09:32:32.000000000,20,20,0,774347,32a1a608513986a0c346eea125b92552feb87296,11,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I5cf25fcba050b07cf0818278484636f5715a424d
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fmanila~master~Ia58fc523e17d6f4c4efdae3e3fd070012c12d341,openstack/manila,master,update_support_mapping,Ia58fc523e17d6f4c4efdae3e3fd070012c12d341,WIP - Add missing features to driver support mapping,NEW,2020-10-08 22:08:25.000000000,2021-02-06 09:17:24.000000000,,69,0,0,756928,8d04691c3115c5b1f1de62da0dbfd82355aa3822,5,3,1,1,30002,Douglas Viroel,dviroel,"WIP - Add missing features to driver support mapping

Change-Id: Ia58fc523e17d6f4c4efdae3e3fd070012c12d341
Signed-off-by: Douglas Viroel <viroel@gmail.com>
"
openstack%2Fmanila~master~I23342d056d5a2167c8140e50b22397904e169e10,openstack/manila,master,,I23342d056d5a2167c8140e50b22397904e169e10,Manila share driver for ZTE CloveStorage series.,NEW,2020-10-12 08:31:37.000000000,2021-02-06 08:28:20.000000000,,2228,0,151,757473,cb2db32cf81c552087251c27ec6a1a27c599ecfe,59,9,15,8,32527,luo.muyao,luomuyao,"Manila share driver for ZTE CloveStorage series.

Features that ZTE CloveStorage Driver support:
share create/delete,
snapshot create/delete,
extend size,
create_share_from_snapshot,
revert_to_snapshot_support,
update_access.
protocol: nfs/cifs

Change-Id: I23342d056d5a2167c8140e50b22397904e169e10
Implements: Blueprint zte-clovestorage-manila-driver
Signed-off-by: luomuyao <luo.muyao@zte.com.cn>
"
openstack%2Fmanila~master~I0287a8a2c93b307fe2b55103e081245900ecfa46,openstack/manila,master,bp/support-share-group-replica,I0287a8a2c93b307fe2b55103e081245900ecfa46,Add share group replica support,NEW,2020-12-17 09:31:16.000000000,2021-02-06 06:44:59.000000000,,8167,455,2,767504,668a4e2be42a0ee9bf4b248cd6ebdb3b52f5bce8,9,2,1,46,18742,Ryan Liang,RyanLiang,"Add share group replica support

Implements: blueprint support-share-group-replica
Change-Id: I0287a8a2c93b307fe2b55103e081245900ecfa46
"
openstack%2Fneutron~master~Ie1d837d17bf50a4675bec4fe48ab13dde22ebdc2,openstack/neutron,master,bug/1600788,Ie1d837d17bf50a4675bec4fe48ab13dde22ebdc2,Drop meaningless translation marker,MERGED,2021-02-04 07:04:11.000000000,2021-02-06 04:08:38.000000000,2021-02-05 14:50:34.000000000,2,5,2,774045,257a51769bb070600ca3d6bc169cf530bd33f1a3,17,5,2,2,841,Akihiro Motoki,amotoki,"Drop meaningless translation marker

The translation marker _(..) wrapping a variable is meaningless
as no string is extracted and there is no way to translate them.
Only rare exception is the same string is defined in somewhere else
but I've never seen such situations so far.

In addition, we now only support translations in user-visible messages
used in API, so we can safely drop translation markers in exceptions
in the agent side.

Change-Id: Ie1d837d17bf50a4675bec4fe48ab13dde22ebdc2
Related-Bug: #1600788
"
openstack%2Frequirements~master~Ifd770cc8f35c7ebf97f831ff9e2f1d92444b5061,openstack/requirements,master,openstack/requirements/constraints/noclob,Ifd770cc8f35c7ebf97f831ff9e2f1d92444b5061,Updated from generate-constraints,MERGED,2021-02-02 06:22:33.000000000,2021-02-06 03:59:17.000000000,2021-02-06 03:58:12.000000000,9,9,0,773573,6a05820984972d2540ae229f8771c33a67e72336,27,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ifd770cc8f35c7ebf97f831ff9e2f1d92444b5061
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Frequirements~stable%2Ftrain~I4a05bca2e71ecbf761c76115f95a8a706fe37d33,openstack/requirements,stable/train,new-release,I4a05bca2e71ecbf761c76115f95a8a706fe37d33,update constraint for ceilometer to new release 13.1.2,MERGED,2021-02-01 19:05:41.000000000,2021-02-06 03:57:18.000000000,2021-02-06 03:57:18.000000000,1,1,0,773472,5fac0f723e9c5a71e593b84250cc9a988231b0a3,17,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for ceilometer to new release 13.1.2

meta: version: 13.1.2
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I1220d32320eab262625c1c4a9a276bc077d113a1
meta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
Change-Id: I4a05bca2e71ecbf761c76115f95a8a706fe37d33
"
openstack%2Fansible-collections-openstack~master~Iabadd94f990c49ba078aa02e2d801c40985f85b8,openstack/ansible-collections-openstack,master,new_roles_info,Iabadd94f990c49ba078aa02e2d801c40985f85b8,Add modules for roles information,MERGED,2021-01-04 18:29:56.000000000,2021-02-06 03:28:01.000000000,2021-02-06 03:28:01.000000000,126,0,2,769202,c39c8f9d744248d1fb8ea3d9cff864f5cebe1caa,19,5,6,2,10969,Shnaidman Sagi (Sergey),sergsh,"Add modules for roles information

Add module that retrieves list of roles for a Openstack cloud.
Change-Id: Iabadd94f990c49ba078aa02e2d801c40985f85b8
"
openstack%2Fansible-collections-openstack~master~Ib032c8d14444cea1fcbfd98d252cc56b9f5f383e,openstack/ansible-collections-openstack,master,,Ib032c8d14444cea1fcbfd98d252cc56b9f5f383e,Add security_group_info module,MERGED,2020-11-13 09:54:54.000000000,2021-02-06 03:27:58.000000000,2021-02-06 03:27:58.000000000,240,0,18,762626,e4c7bd3df831832cbb1cc59c4565aeeac930d2fd,36,5,9,3,27900,Artem Goncharov,gtema,"Add security_group_info module

Let's add a new missing module for getting info about security groups.
Add tests.

Change-Id: Ib032c8d14444cea1fcbfd98d252cc56b9f5f383e
"
openstack%2Fmanila~master~I25aeb1b6dd1a4150c6e542e29b7d43e18d9ad94c,openstack/manila,master,bp/remove-project-id-from-urls,I25aeb1b6dd1a4150c6e542e29b7d43e18d9ad94c,[devstack] create endpoint without project_id,MERGED,2021-02-03 19:25:11.000000000,2021-02-06 01:07:47.000000000,2021-02-06 01:06:03.000000000,9,1,0,773986,9efcb475cff6dd99363a239424a3febccb76374a,24,3,2,1,16643,Goutham Pacha Ravi,gouthamr,"[devstack] create endpoint without project_id

As of API version 2.60, a project_id is no
longer needed in the API URLs. We can stop
devstack from setting up an endpoint with
project_id in it.

Create a ""sharev2_legacy"" endpoint that
contains the project_id for testing the
compatibility with the older style of URLs.

Change-Id: I25aeb1b6dd1a4150c6e542e29b7d43e18d9ad94c
Implements: bp remove-project-id-from-urls
Depends-On: I5127e150e8a71e621890f30dba6720b3932cf583
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Foslo.utils~master~I10fed16dad77ac17691a5d175c42b25916dc8bc4,openstack/oslo.utils,master,aton-flag,I10fed16dad77ac17691a5d175c42b25916dc8bc4,Add a ``strict`` flag allowing users to restrict validation of IPv4 format,MERGED,2021-02-03 10:01:44.000000000,2021-02-06 00:50:03.000000000,2021-02-06 00:48:46.000000000,75,3,16,773863,3288539a0b3be6b69efd2630b79133b918bb079b,20,3,4,3,28522,Hervé Beraud,hberaud,"Add a ``strict`` flag allowing users to restrict validation of IPv4 format

Add a ``strict`` flag allowing users to restrict validation to IP
addresses in presentation format (``a.b.c.d``) as opposed to address
format (``a.b.c.d``, ``a.b.c``, ``a.b``, ``a``).

https://github.com/netaddr/netaddr/issues/186
https://man7.org/linux/man-pages/man3/inet_pton.3.html
https://bugzilla.redhat.com/show_bug.cgi?id=1924436

Change-Id: I10fed16dad77ac17691a5d175c42b25916dc8bc4
Closes-Bug: #1914386
"
openstack%2Ftripleo-heat-templates~master~If9ecd82640b1419090bf169d2f00d02151082cd8,openstack/tripleo-heat-templates,master,,If9ecd82640b1419090bf169d2f00d02151082cd8,[trivial] Fix mistaken variable rename,MERGED,2021-02-05 10:21:26.000000000,2021-02-05 23:46:55.000000000,2021-02-05 23:46:55.000000000,1,1,0,774218,a01784dc38cc4964905ba694c748b5d18f0d5e6d,10,7,1,1,6816,Jesse Pretorius,jesse-pretorius,"[trivial] Fix mistaken variable rename

In https://review.opendev.org/772459 the leading 'u' was
removed from the variable name, resulting in the variable
being renamed by mistake.

This patch corrects it.

Related-Bug: rhbz#1920293

Change-Id: If9ecd82640b1419090bf169d2f00d02151082cd8
"
openstack%2Fmanila~master~I5127e150e8a71e621890f30dba6720b3932cf583,openstack/manila,master,bp/remove-project-id-from-urls,I5127e150e8a71e621890f30dba6720b3932cf583,Advertise v2 API routes without project_id,MERGED,2021-02-02 15:23:18.000000000,2021-02-05 23:39:24.000000000,2021-02-05 22:26:55.000000000,715,502,16,773709,263d5438f0df0a13bb71a154034aa8d071609b65,50,4,5,22,16643,Goutham Pacha Ravi,gouthamr,"Advertise v2 API routes without project_id

Manila APIs have had the requirement to include
project_id in the URLs since the very beginning.
This comes from an old assumption that our APIs
would be differentiated per-tenant on the cloud,
and we would allow different kinds of API endpoints
(public, admin, internal, etc). While it is possible
to set up different endpoints against the API
service, the same and complete API is exposed at
each of these endpoints.

We don't _need_ the project_id information that
we receive in the URL for any of our APIs to
function. We rather authorize tenants by gathering
information from the Identity service (Keystone)
and wrapping that into a RequestContext object
that we then rely on to ensure namespace isolation.

Removing the requirement for ""project_id"" simplifies
our API endpoint structure in the service catalog
as well as provides a way for system scoped users
to interact with manila without having to declare
their project.

In order to make project_id optional in urls, the
possible values of project_id have to be constrained.
This change introduces a new configuration option
so deployers may control that. This configuration
option defaults to accepting UUIDs with and without
dashes.

Since manila can be used in standalone deployments
without the need for Keystone, this change introduces
a noauth middleware that can work without project_id
in the URL paths.

The API version has been incremented to signal this
change to end users. When 2.60 is available, deployments
may drop ""project_id"" in the service catalog endpoint
for Manila and end users applications can stop needing
it as well (if they don't already rely on the service
catalog for this data).

APIImpact
Implements: bp remove-project-id-from-urls
Change-Id: I5127e150e8a71e621890f30dba6720b3932cf583
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fopenstack-ansible-os_tempest~master~If53aca6f16324d305b150466b94d3f18c8a1096a,openstack/openstack-ansible-os_tempest,master,osa-new-pip,If53aca6f16324d305b150466b94d3f18c8a1096a,Move tempest pip package from a constraint to a requirement,MERGED,2021-01-12 12:09:07.000000000,2021-02-05 23:29:50.000000000,2021-02-05 23:28:37.000000000,11,8,0,770281,1fd23f2aede8a5a48621ccad808579c69212f845,25,3,6,2,25023,Jonathan Rosser,jrosser,"Move tempest pip package from a constraint to a requirement

This is necessary to support the new pip resolver.

Depends-On: I9be6bbf4a29a4da2ddf96dc0336bc2a7d8ec9281
Depends-On: I49c75dd11d6c4e8d37fe013b7ffdfd56ff193fcd
Change-Id: If53aca6f16324d305b150466b94d3f18c8a1096a
"
openstack%2Ftripleo-upgrade~stable%2Fvictoria~Ifef1b4201b6959e2a8d30ec5ae6ef31a0e4871d9,openstack/tripleo-upgrade,stable/victoria,,Ifef1b4201b6959e2a8d30ec5ae6ef31a0e4871d9,[live-migration] Count all hosts from all tenants for migration timeout,MERGED,2021-02-04 09:59:27.000000000,2021-02-05 22:55:31.000000000,2021-02-05 22:55:31.000000000,1,1,0,773959,4e7aa848d6cd7a8dc0b97f77a803ddb738799121,12,2,1,1,6816,Jesse Pretorius,jesse-pretorius,"[live-migration] Count all hosts from all tenants for migration timeout

Change-Id: Ifef1b4201b6959e2a8d30ec5ae6ef31a0e4871d9
(cherry picked from commit b9882bec2b57fe2ea4a37dff2d9074eea3bfea51)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I82cc708deb4400b7191b4f706e12f817bc28f0bb,openstack/tripleo-heat-templates,stable/train,,I82cc708deb4400b7191b4f706e12f817bc28f0bb,Make ExternalSwift*Url parameters optional,MERGED,2021-02-03 21:58:23.000000000,2021-02-05 22:55:26.000000000,2021-02-05 22:55:26.000000000,3,0,0,774003,cf605138f2ee38cf6b224e5f4f956a31996d2b2c,15,3,2,1,6796,Giulio Fidente,gfidente,"Make ExternalSwift*Url parameters optional

For backward compatibility reasons, ExternalPublicUrl prevail on
ExternalSwiftPublicUrl yet the templates force setting it
because it does not have a default; that is not necessary instead
and in fact ExternalSwiftPublicUrl won't be honored if
ExternalPublicUrl is set.

Change-Id: I82cc708deb4400b7191b4f706e12f817bc28f0bb
Closes-Bug: 1914471
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0e041c6a95a7f53019967f9263df2326b1408c6f,openstack/tripleo-heat-templates,stable/train,pcmk-shutdown-lock-stable/train,I0e041c6a95a7f53019967f9263df2326b1408c6f,Serialize shutdown of pacemaker nodes,MERGED,2020-10-28 13:28:31.000000000,2021-02-05 22:53:32.000000000,2021-02-05 22:53:32.000000000,161,2,0,760133,6733d14f11e4a15597ba9cbcf4df5e92ce2e914c,32,4,9,4,20778,Damien Ciabrini,dciabrin,"Serialize shutdown of pacemaker nodes

When running minor update in a composable HA, different
roles could run ansible tasks concurrently. However,
there is currently a race when pacemaker nodes are
stopped in parallel [1,2], that could cause nodes to
incorrectly stop themselves once they reconnect to the
cluster.

To prevent concurrent shutdown, use a cluster-wide lock
to signals that one node is about to shutdown, and block
the others until the node disconnects from the cluster.

Tested the minor update in a composable HA environment:
  . when run with ""openstack update run"", every role
    is updated sequentially, and the shutdown lock
    doesn't interfere.
  . when running multiple ansible tasks in parallel
    ""openstack update run --limit role<X>"", pacemaker
    nodes are correctly stopped sequentially thanks
    to the shutdown lock.
  . when updating an existing overcloud, the new
    locking script used in the review is correctly
    injected on the overcloud, thanks to [3].

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404
[3] I2ac6bb98e1d4183327e888240fc8d5a70e0d6fcb

Closes-Bug: #1904193
Change-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f
(cherry picked from commit cb55cc8ce538f3e075754b0328872ec075f4cde9)
(cherry picked from commit 8e9798caf65296e3849afad3a5dbed12f23c735a)
(cherry picked from commit 83ba65e3ae3259e74186eb3db8bce1a2ba546e90)
"
openstack%2Fopenstack-helm-infra~master~I4e8746f428da383759884fbadacd6a50a847a19b,openstack/openstack-helm-infra,master,ceph-charts-release-notes,I4e8746f428da383759884fbadacd6a50a847a19b,[ceph-client] Update ceph-client release notes to current,MERGED,2021-02-04 23:07:52.000000000,2021-02-05 22:38:17.000000000,2021-02-05 22:36:43.000000000,5,0,0,774169,f4f072c2a75c4c35c7a40cfda6cb6fa9c1a2b792,15,11,2,1,28372,chinasubbareddy mallavarapu,chinasubbareddy,"[ceph-client] Update ceph-client release notes to current

This change updates the releasenotes for ceph-client to all current
changes as of the date of this commit.

Change-Id: I4e8746f428da383759884fbadacd6a50a847a19b
"
openstack%2Fopenstack-helm-infra~master~I9a2985855a25cdb98ef6fe011ba473587ea7a4c9,openstack/openstack-helm-infra,master,,I9a2985855a25cdb98ef6fe011ba473587ea7a4c9,[ceph-client] Don't wait for premerge PGs in the rbd pool job,MERGED,2021-02-05 15:57:49.000000000,2021-02-05 22:12:37.000000000,2021-02-05 22:11:04.000000000,2,2,0,774276,1dcaffdf7043ddaca0511de4ec6aac214be4dca0,19,11,2,2,29974,Stephen Taylor,st053q,"[ceph-client] Don't wait for premerge PGs in the rbd pool job

The wait_for_pgs() function in the rbd pool job waits for all PGs
to become active before proceeding, but in the event of an upgrade
that decreases pg_num values on one or more pools it sees PGs in
the clean+premerge+peered state as peering and waits for ""peering""
to complete. Since these PGs are in the process of merging into
active PGs, waiting for the merge to complete is unnecessary. This
change will reduce the wait time in this job significantly in
these cases.

Change-Id: I9a2985855a25cdb98ef6fe011ba473587ea7a4c9
"
openstack%2Ftripleo-docs~master~Ie671804966a5c579ceab0f06f18d9814addc6751,openstack/tripleo-docs,master,dcn-storage,Ie671804966a5c579ceab0f06f18d9814addc6751,Update DCN documentation for rename of dcn-hci to dcn-storage,MERGED,2021-01-26 20:52:38.000000000,2021-02-05 22:12:27.000000000,2021-02-05 22:10:50.000000000,8,8,0,772600,b765122851ef49334cac82b2017374c99b717434,13,5,1,2,18002,John Fulton,fultonj,"Update DCN documentation for rename of dcn-hci to dcn-storage

If Ice5e1cfbc158eb6705988706c8625bedb80d7de2 merges, then the
documentation should be renamed accordingly.

Depends-On: Ice5e1cfbc158eb6705988706c8625bedb80d7de2
Change-Id: Ie671804966a5c579ceab0f06f18d9814addc6751
"
openstack%2Fkolla~stable%2Fussuri~I0cfde46c29eedce77c70c1c677220814a801ff3a,openstack/kolla,stable/ussuri,remove_sensu-stable/ussuri,I0cfde46c29eedce77c70c1c677220814a801ff3a,Remove sensu images,MERGED,2021-02-05 11:00:26.000000000,2021-02-05 22:04:46.000000000,2021-02-05 22:03:29.000000000,6,189,0,774127,27b2914b43afe64d1e7c218aa8b6876851e9d9d6,16,7,1,13,24072,Marcin Juszkiewicz,hrw,"Remove sensu images

They have been deprecated in Ussuri [1].

[1]: https://review.opendev.org/#/c/711636/

Upstream dropped it:

IMPORTANT: Sensu Core reached end-of-life (EOL) on December 31, 2019, and we permanently removed the Sensu EOL repository on February 1, 2021.

Change-Id: I0cfde46c29eedce77c70c1c677220814a801ff3a
(cherry picked from commit 0cfd36292cccb8d3af9c65a1dff9696f50870df6)
"
openstack%2Fcharm-glance~master~Ic54fbe28736c8923b90d868d5c91ac926e78e59e,openstack/charm-glance,master,,Ic54fbe28736c8923b90d868d5c91ac926e78e59e,[DO NOT MERGE] no-op for testing,ABANDONED,2021-01-28 23:50:38.000000000,2021-02-05 22:00:21.000000000,,1,0,0,772957,e197d2c0e0f0e026e86607b3666891a881ed3f6f,10,2,1,1,32803,Garrett Thompson,thogarre,"[DO NOT MERGE] no-op for testing

This is a no-op PR meant to test a Zaza change

Func-Test-Pr: https://github.com/openstack-charmers/zaza/pull/412
Change-Id: Ic54fbe28736c8923b90d868d5c91ac926e78e59e
"
openstack%2Fcharm-designate~master~I46fb4fe2c853154f11ea0c8b86cb682b21d1a5c7,openstack/charm-designate,master,,I46fb4fe2c853154f11ea0c8b86cb682b21d1a5c7,[DO NOT MERGE] no-op for testing,ABANDONED,2021-01-28 23:33:21.000000000,2021-02-05 22:00:00.000000000,,1,0,0,772956,b363a23349566af038b42b8579d1d009c53157bc,10,2,1,1,32803,Garrett Thompson,thogarre,"[DO NOT MERGE] no-op for testing

This is a no-op PR meant to test a Zaza change

Func-Test-Pr: https://github.com/openstack-charmers/zaza/pull/412
Change-Id: I46fb4fe2c853154f11ea0c8b86cb682b21d1a5c7
"
openstack%2Fneutron~master~I89438feae3c0244f6da5e6a2a035d45b956ac247,openstack/neutron,master,bug/1913723,I89438feae3c0244f6da5e6a2a035d45b956ac247,Process DHCP events in order if related,MERGED,2021-01-29 17:22:05.000000000,2021-02-05 21:34:30.000000000,2021-02-05 21:32:31.000000000,129,42,25,773160,f3c229b9cc5c293b4d512f269d5ddb3708fd303a,68,6,7,4,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Process DHCP events in order if related

When processing port events (create, update, delete), the port
provisioning (port creation) has priority over the other events [1].
As reported in the related bug, if a port deletion with an IP
address and another port creation with the same IP address arrive
to the DHCP agent, those events can be processed in the same queue.

Because of the creation event priority, even when this event arrived
after the deletion event, it will be processed first. That will
clash with the DHCP agent cache, that contains a port (not deleted
yet) with the same IP address. That will trigger an unwanted resync.

This patch implements a specific logic to store the events in
""ResourceProcessingQueue"" (that uses ""PriorityQueue"" [2]). When
a port event arrives, the event comparison method checks the
(subnet, fixed_ips) tuple set of both elements. If there is a
coincidence, that means those ports are the same or are using
the same IP addreses (the race condition explained in the bug).
In this case, the priority is defined only by the timestamp;
that means the events are processed in order of arrival.

Because the Neutron server do not allow to have two ports in the
same subnet with the same IP address, the order of the events is
guaranteed. In the case explained in the bug, the deletion event
will be processed first.

[1]https://review.opendev.org/c/openstack/neutron/+/626830
[2]https://docs.python.org/3/library/queue.html#queue.PriorityQueue

Closes-Bug: #1913723

Change-Id: I89438feae3c0244f6da5e6a2a035d45b956ac247
"
openstack%2Fpython-tripleoclient~master~I70469b29b71746fcfdb6382c080baf836c61f2ef,openstack/python-tripleoclient,master,env_merging,I70469b29b71746fcfdb6382c080baf836c61f2ef,Allow enabling swift on undercloud,MERGED,2021-01-29 03:17:31.000000000,2021-02-05 21:29:18.000000000,2021-02-05 21:27:39.000000000,2,24,0,772968,3739872bcdc1177c6eb648b45c270cf344f0ee67,25,4,6,2,8833,Rabi Mishra,rabi,"Allow enabling swift on undercloud

If swift is needed on the undercloud, specifically for missing
use case, it can be enabled.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/772967
Change-Id: I70469b29b71746fcfdb6382c080baf836c61f2ef
"
openstack%2Ftripleo-quickstart~master~Ibee0e195e3ac0557a4e30134ab6b5ce1b43a6afa,openstack/tripleo-quickstart,master,containertools_depspipeline,Ibee0e195e3ac0557a4e30134ab6b5ce1b43a6afa,Added container-tools repo config,MERGED,2021-02-01 04:25:48.000000000,2021-02-05 21:29:15.000000000,2021-02-05 21:27:20.000000000,21,0,8,773285,a28941350797e4740b3c7df1d57215350535ebb4,33,4,6,1,12393,chandan kumar,chkumar246,"Added container-tools repo config

In order to test latest podman and buildah, we need to
enable container-tools:rhel8 on the centos-8-stream
dependency pipeline job.

It adds the config and will be used in container tools
dependency pipeline.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ibee0e195e3ac0557a4e30134ab6b5ce1b43a6afa
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1b4e26fd4a46599985a989441f493a3ed39237bb,openstack/tripleo-heat-templates,stable/train,,I1b4e26fd4a46599985a989441f493a3ed39237bb,Use include_role for conditional inclusion,MERGED,2021-02-01 12:50:23.000000000,2021-02-05 21:27:15.000000000,2021-02-05 21:27:15.000000000,1,1,0,773209,c5a2a9ce50f316370a1f90db358692e9999e6b99,20,6,2,1,6816,Jesse Pretorius,jesse-pretorius,"Use include_role for conditional inclusion

When import_role is used with a condition, the condition is
applied to all tasks in the role. This is inefficient. If we
use include_role instead, then the role inclusion task is
skipped and none of the tasks in the role are even evaluated.

Related-bug: rhbz#1922132

Change-Id: I1b4e26fd4a46599985a989441f493a3ed39237bb
(cherry picked from commit 46df551a0f00cf143ddd5cd9c651b08a13a79fb0)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iaa6fdef24599072f5a31c1fd2da29c276399c83d,openstack/tripleo-heat-templates,stable/train,fix_reboot-stable/train,Iaa6fdef24599072f5a31c1fd2da29c276399c83d,Add post delay to reboot,MERGED,2021-02-05 10:09:11.000000000,2021-02-05 21:26:42.000000000,2021-02-05 21:26:42.000000000,10,0,0,774214,678186027f5addad4fd69ee68986ef4500f17ac2,9,5,1,1,6816,Jesse Pretorius,jesse-pretorius,"Add post delay to reboot

Leapp may reconfigure network after main upgrade. Also systemd may bring
down and up again network unit. This patch adds post_reboot_delay as 2 min to
mitigate such issues which can be configurable as heat variable in
customers env files for some very specific cases. Also test_command is
changed from whoami to systemctl to have better assesment when a system
completed its boot.

Closes-Bug: rhbz#1920293

Change-Id: Iaa6fdef24599072f5a31c1fd2da29c276399c83d
(cherry picked from commit a9bf1c1285ebb54844018b9f18ed8089fbc30a3f)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Iaa6fdef24599072f5a31c1fd2da29c276399c83d,openstack/tripleo-heat-templates,stable/ussuri,fix_reboot-stable/ussuri,Iaa6fdef24599072f5a31c1fd2da29c276399c83d,Add post delay to reboot,MERGED,2021-02-05 10:04:08.000000000,2021-02-05 21:26:37.000000000,2021-02-05 21:26:37.000000000,10,0,0,774125,43c02ebc95393b729db93e5503011f566d3fbe06,9,5,2,1,6816,Jesse Pretorius,jesse-pretorius,"Add post delay to reboot

Leapp may reconfigure network after main upgrade. Also systemd may bring
down and up again network unit. This patch adds post_reboot_delay as 2 min to
mitigate such issues which can be configurable as heat variable in
customers env files for some very specific cases. Also test_command is
changed from whoami to systemctl to have better assesment when a system
completed its boot.

Closes-Bug: rhbz#1920293

Change-Id: Iaa6fdef24599072f5a31c1fd2da29c276399c83d
(cherry picked from commit a9bf1c1285ebb54844018b9f18ed8089fbc30a3f)
"
openstack%2Fopenstack-ansible-os_glance~master~I41fc05409433b4e22307ad604c15d30bcea32abd,openstack/openstack-ansible-os_glance,master,osa-new-pip,I41fc05409433b4e22307ad604c15d30bcea32abd,Move glance pip package from a constraint to a requirement,MERGED,2021-01-13 09:04:19.000000000,2021-02-05 21:21:42.000000000,2021-02-05 21:18:37.000000000,1,2,0,770546,a6b1bc17d542e25b3f8a9eeea29b6d81a5373ab3,21,4,2,1,25023,Jonathan Rosser,jrosser,"Move glance pip package from a constraint to a requirement

This is necessary to support the new pip resolver.

Depends-On: I9be6bbf4a29a4da2ddf96dc0336bc2a7d8ec9281
Depends-On: I49c75dd11d6c4e8d37fe013b7ffdfd56ff193fcd
Change-Id: I41fc05409433b4e22307ad604c15d30bcea32abd
"
openstack%2Fopenstack-ansible-os_placement~master~I00b42c61d03c83bfbfec69ad3bd47d940bb449d2,openstack/openstack-ansible-os_placement,master,osa-new-pip,I00b42c61d03c83bfbfec69ad3bd47d940bb449d2,Move placement pip package from a constraint to a requirement,MERGED,2021-01-12 12:05:06.000000000,2021-02-05 21:09:41.000000000,2021-02-05 21:08:14.000000000,1,2,0,770280,044852c1be35d11debbab981062e8f4a2ae6231e,26,4,4,1,25023,Jonathan Rosser,jrosser,"Move placement pip package from a constraint to a requirement

This is necessary to support the new pip resolver.

Depends-On: I9be6bbf4a29a4da2ddf96dc0336bc2a7d8ec9281
Depends-On: I49c75dd11d6c4e8d37fe013b7ffdfd56ff193fcd
Change-Id: I00b42c61d03c83bfbfec69ad3bd47d940bb449d2
"
openstack%2Fopenstack-ansible-os_keystone~master~I599f9de82a6350599444096e98a0e25a417e18ef,openstack/openstack-ansible-os_keystone,master,osa-new-pip,I599f9de82a6350599444096e98a0e25a417e18ef,Move keystone pip package from a constraint to a requirement,MERGED,2021-01-12 11:34:23.000000000,2021-02-05 21:09:16.000000000,2021-02-05 21:07:49.000000000,1,2,0,770271,05c7f80711c6e267a2a7f9f30d7bffcd90c6271e,29,4,3,1,25023,Jonathan Rosser,jrosser,"Move keystone pip package from a constraint to a requirement

This is necessary to support the new pip resolver.

Depends-On: I9be6bbf4a29a4da2ddf96dc0336bc2a7d8ec9281
Depends-On: I49c75dd11d6c4e8d37fe013b7ffdfd56ff193fcd
Change-Id: I599f9de82a6350599444096e98a0e25a417e18ef
"
openstack%2Fopenstack-ansible-os_cinder~master~I2c4009fbdf524f2d54adf1d4a730604c123f72fd,openstack/openstack-ansible-os_cinder,master,osa-new-pip,I2c4009fbdf524f2d54adf1d4a730604c123f72fd,Move cinder pip package from a constraint to a requirement,MERGED,2021-01-12 11:36:04.000000000,2021-02-05 21:06:49.000000000,2021-02-05 21:05:35.000000000,1,2,0,770272,6958079640b89d637b4c40abb1d857e12f99adfb,25,4,3,1,25023,Jonathan Rosser,jrosser,"Move cinder pip package from a constraint to a requirement

This is necessary to support the new pip resolver.

Depends-On: I9be6bbf4a29a4da2ddf96dc0336bc2a7d8ec9281
Depends-On: I49c75dd11d6c4e8d37fe013b7ffdfd56ff193fcd
Change-Id: I2c4009fbdf524f2d54adf1d4a730604c123f72fd
"
openstack%2Fopenstack-helm-infra~master~Ibaa817a2178e38f18cb6e16f4e9d65e8ae2e7b0a,openstack/openstack-helm-infra,master,ceph-charts-release-notes,Ibaa817a2178e38f18cb6e16f4e9d65e8ae2e7b0a,[ceph-rgw] Update ceph-rgw release notes to current,MERGED,2021-02-04 23:15:10.000000000,2021-02-05 20:59:14.000000000,2021-02-05 20:57:01.000000000,1,0,0,774171,e3e6db5acdf2a043da156943f41c28574a2e74c8,11,10,1,1,28372,chinasubbareddy mallavarapu,chinasubbareddy,"[ceph-rgw] Update ceph-rgw release notes to current

This change updates the releasenotes for ceph-rgw to all current
changes as of the date of this commit.

Change-Id: Ibaa817a2178e38f18cb6e16f4e9d65e8ae2e7b0a
"
openstack%2Fopenstack-helm-infra~master~I48a0e10fcae8920396658499321dede9ed026eff,openstack/openstack-helm-infra,master,ceph-charts-release-notes,I48a0e10fcae8920396658499321dede9ed026eff,[ceph-provisioners] Update ceph-provisioners release notes to current,MERGED,2021-02-04 23:11:44.000000000,2021-02-05 20:58:15.000000000,2021-02-05 20:56:52.000000000,2,0,0,774170,acf0054aa421dcef811b4c73dcbe4af2656552d5,13,10,2,1,28372,chinasubbareddy mallavarapu,chinasubbareddy,"[ceph-provisioners] Update ceph-provisioners release notes to current

This change updates the releasenotes for ceph-provisioners to all current
changes as of the date of this commit.

Change-Id: I48a0e10fcae8920396658499321dede9ed026eff
"
openstack%2Fopenstack-helm~master~I19f4e24ad6e55d917c7e656f78edfa9364bf721b,openstack/openstack-helm,master,,I19f4e24ad6e55d917c7e656f78edfa9364bf721b,Update cinder release notes to current,MERGED,2021-02-04 16:56:10.000000000,2021-02-05 20:57:59.000000000,2021-02-05 20:56:18.000000000,9,0,0,774104,45cde69b17c44fe8cb0afc54519cbaad8ebcee9b,9,4,1,1,24780,Sangeet Gupta,sgupta,"Update cinder release notes to current

Change-Id: I19f4e24ad6e55d917c7e656f78edfa9364bf721b
"
openstack%2Fopenstack-ansible-os_nova~master~Ie2c30984b9ad7fc2cc55900f49b2300e2bdaa1e3,openstack/openstack-ansible-os_nova,master,osa-new-pip,Ie2c30984b9ad7fc2cc55900f49b2300e2bdaa1e3,Move nova pip package from a constraint to a requirement,MERGED,2021-01-12 12:03:37.000000000,2021-02-05 20:57:49.000000000,2021-02-05 20:56:32.000000000,1,2,0,770279,dd93f405e3beacbfe4b3e7a2a257844796f8b811,25,4,3,1,25023,Jonathan Rosser,jrosser,"Move nova pip package from a constraint to a requirement

This is necessary to support the new pip resolver.

Depends-On: I9be6bbf4a29a4da2ddf96dc0336bc2a7d8ec9281
Depends-On: I49c75dd11d6c4e8d37fe013b7ffdfd56ff193fcd
Change-Id: Ie2c30984b9ad7fc2cc55900f49b2300e2bdaa1e3
"
openstack%2Fopenstack-helm-infra~master~I9a29ed9b6d8e17de19c6e929f3c673107ebd7912,openstack/openstack-helm-infra,master,ceph-charts-release-notes,I9a29ed9b6d8e17de19c6e929f3c673107ebd7912,[ceph-mon] Update ceph-mon release notes to current,MERGED,2021-02-04 22:37:42.000000000,2021-02-05 20:56:56.000000000,2021-02-05 20:56:56.000000000,3,0,0,774165,57f70a54b61c3a67fa4ee43e646b1c0d28464026,12,11,1,1,28372,chinasubbareddy mallavarapu,chinasubbareddy,"[ceph-mon] Update ceph-mon release notes to current

This change updates the releasenotes for ceph-mon to all current
changes as of the date of this commit.

Change-Id: I9a29ed9b6d8e17de19c6e929f3c673107ebd7912
"
openstack%2Fopenstack-helm-infra~master~Ib2f1ae712d81ccc3d35e334b15ad71b602ebd87f,openstack/openstack-helm-infra,master,ceph-charts-release-notes,Ib2f1ae712d81ccc3d35e334b15ad71b602ebd87f,[ceph-osd] Update ceph-osd release notes to current,MERGED,2021-02-04 23:01:45.000000000,2021-02-05 20:55:54.000000000,2021-02-05 20:54:32.000000000,17,0,0,774167,8c0343d68c646b0bdd4ce6516629c4c3acbb0166,11,10,1,1,28372,chinasubbareddy mallavarapu,chinasubbareddy,"[ceph-osd] Update ceph-osd release notes to current

This change updates the releasenotes for ceph-osd to all current
changes as of the date of this commit.

Change-Id: Ib2f1ae712d81ccc3d35e334b15ad71b602ebd87f
"
openstack%2Fopenstack-helm~master~I75c888a3401cf2cdf4b889d70d5feb5fc54898a3,openstack/openstack-helm,master,ceilometer-reno,I75c888a3401cf2cdf4b889d70d5feb5fc54898a3,Update ceilometer release notes to current,MERGED,2021-02-04 15:52:49.000000000,2021-02-05 20:53:59.000000000,2021-02-05 20:51:52.000000000,1,0,1,774095,d3256726a1fb3855f9b3996241aca7c3f73551e6,15,4,2,1,24780,Sangeet Gupta,sgupta,"Update ceilometer release notes to current

Change-Id: I75c888a3401cf2cdf4b889d70d5feb5fc54898a3
"
openstack%2Fkolla~master~I4d20f23a9b26364943bf967908255d82c8f6621b,openstack/kolla,master,,I4d20f23a9b26364943bf967908255d82c8f6621b,get rid of traces of CentOS 7 support,MERGED,2021-02-04 16:06:54.000000000,2021-02-05 20:50:19.000000000,2021-02-05 20:48:45.000000000,18,61,0,774098,fc89e57c1cad910dc9f2f01a2ec3c6c36051c8bc,14,3,1,2,24072,Marcin Juszkiewicz,hrw,"get rid of traces of CentOS 7 support

Change-Id: I4d20f23a9b26364943bf967908255d82c8f6621b
"
openstack%2Fnova~master~I598a1f36d197188b9f891f14dd5d0514ed71f2b1,openstack/nova,master,,I598a1f36d197188b9f891f14dd5d0514ed71f2b1,Remove __unicode__() from nova unit test Exception,MERGED,2021-01-08 09:21:24.000000000,2021-02-05 20:19:55.000000000,2021-02-04 21:03:11.000000000,0,3,1,769894,cea5bf3d93b1f414b6612225235edae517cbb774,17,3,2,1,30384,zhangboye,zhangboye,"Remove __unicode__() from nova unit test Exception

This is no longer needed in Python 3.

Change-Id: I598a1f36d197188b9f891f14dd5d0514ed71f2b1
"
openstack%2Fcinder~stable%2Fussuri~Ib80e04512ec34a390e9e17af2f3544e18cad8598,openstack/cinder,stable/ussuri,bug/1900775-stable/victoria-stable/ussuri,Ib80e04512ec34a390e9e17af2f3544e18cad8598,RBD: Retry delete if VolumeIsBusy in _copy_image_to_volume,MERGED,2021-01-06 16:58:07.000000000,2021-02-05 20:01:43.000000000,2021-02-05 19:59:43.000000000,27,4,1,769577,4f40f059f81ac27c92e4238f78ba649b69b09dd0,29,4,2,2,11805,Corey Bryant,coreycb,"RBD: Retry delete if VolumeIsBusy in _copy_image_to_volume

Cinder can fail to create an image-based volume if RBD mirroring
is enabled. With the journaling-based approach to RBD mirroring,
ceph will still create a snapshot as a result of volume creation.
The volume create in _create_from_image_download() results in
a snapshot getting created, resulting in a race where delete_volume()
gets a VolumeIsBusy exception.

Change-Id: Ib80e04512ec34a390e9e17af2f3544e18cad8598
Closes-Bug: #1900775
(cherry picked from commit 6231d26667508e34eb0a985f1f7ced1dbe623e1a)
(cherry picked from commit e1ed30838c3d72e70e3e06d5e7bc6f18d6bc4aad)
"
openstack%2Fcinder~stable%2Fvictoria~I00f1bd46bc8715591016f59c32651fc2c9cddf35,openstack/cinder,stable/victoria,bug/1890591-stable/victoria,I00f1bd46bc8715591016f59c32651fc2c9cddf35,[SVF]:Reduce slowness by caching pool information,MERGED,2020-12-17 08:25:48.000000000,2021-02-05 20:01:38.000000000,2021-02-05 19:59:35.000000000,69,1,0,767477,e2cddc108b174895b3575e9a2640d3cd8afc21ab,34,6,1,3,32171,Girish Chilukuri,GirishChilukuri,"[SVF]:Reduce slowness by caching pool information

[Spectrum Virtualize Family] Data_reduction is a pool specific property,
this property should be saved for a specific pool during initialisation.

With this, calls to get_pool_attrs can be reduced everytime create_vdisk
is called, in order to check if pool is a data_reduction_pool.

closes bug: #1890591

Change-Id: I00f1bd46bc8715591016f59c32651fc2c9cddf35
(cherry picked from commit 7d89890704ef2ed9265a5dec9cbe47cb1ffc5aaa)
"
openstack%2Ftripleo-common~master~Ic42055f642312f9e7a6fead1ac72d3a9e2b7a241,openstack/tripleo-common,master,cephadm_integration,Ic42055f642312f9e7a6fead1ac72d3a9e2b7a241,Bump Ceph containers to octopus,MERGED,2021-01-19 11:11:18.000000000,2021-02-05 19:29:09.000000000,2021-02-05 19:26:56.000000000,4,4,1,771424,97bb49e97c97ba9922b2e0e69150c9e8be806021,32,10,3,2,25402,Francesco Pantano,fmount,"Bump Ceph containers to octopus

Wallaby+ is going to use the Ceph Octopus/Pacific releases.
The purpose of this review is to make the ceph 5 containers
available to the cephadm provisioning process.

Change-Id: Ic42055f642312f9e7a6fead1ac72d3a9e2b7a241
"
openstack%2Fswift~master~I191307967813ed77d41d12900aa641a2d7735069,openstack/swift,master,p-cors-test-random-query-string,I191307967813ed77d41d12900aa641a2d7735069,Make CORS tests tolerate quoted or unquoted Etag,ABANDONED,2021-02-03 16:05:05.000000000,2021-02-05 19:04:18.000000000,,9,2,0,773935,53e40785bcb32b75f5d882d993005cc663e75c94,4,2,1,1,7847,Alistair Coles,acoles,"Make CORS tests tolerate quoted or unquoted Etag

Make the CORS tests match expected Etag against quoted or unquoted
response values in order to tolerate the etag-quoter being in the
proxy pipeline or not.

Change-Id: I191307967813ed77d41d12900aa641a2d7735069
"
openstack%2Fswift~master~I74cbb8bed2d1fe46cb2a7d7fd851bb4454518045,openstack/swift,master,p-cors-test-random-query-string,I74cbb8bed2d1fe46cb2a7d7fd851bb4454518045,Add random query string to CORS test requests,ABANDONED,2021-02-03 15:59:59.000000000,2021-02-05 19:04:09.000000000,,18,8,3,773934,04574c8fe4ac3ebc0415c482b90dcad4d2ba9279,5,3,1,2,7847,Alistair Coles,acoles,"Add random query string to CORS test requests

Add random and date params to CORS test query strings
to avoid the request being served from browser cache.

Change-Id: I74cbb8bed2d1fe46cb2a7d7fd851bb4454518045
"
openstack%2Fswift~master~I17ef7c2d1a71479b7dca68a3a5c83b5a0e296e09,openstack/swift,master,p-cors-test-random-query-string,I17ef7c2d1a71479b7dca68a3a5c83b5a0e296e09,use some javascript builtins,ABANDONED,2021-02-03 18:40:39.000000000,2021-02-05 19:04:03.000000000,,5,7,0,773982,0f09c00fcebfc722a69259e7a036a8c3a39aac48,4,2,1,1,1179,Clay Gerrard,clay-gerrard,"use some javascript builtins

Change-Id: I17ef7c2d1a71479b7dca68a3a5c83b5a0e296e09
"
openstack%2Fpython-brick-cinderclient-ext~stable%2Fvictoria~I742cf8ee70ba427a12ece164f29cf46acaee3c8a,openstack/python-brick-cinderclient-ext,stable/victoria,update-l-c,I742cf8ee70ba427a12ece164f29cf46acaee3c8a,Update requirements and lower-constraints,MERGED,2021-01-09 02:26:55.000000000,2021-02-05 18:58:11.000000000,2021-02-05 18:56:22.000000000,20,21,0,770010,b2e33001c5cdd2ce28c89bdb14e7c169d016915d,8,3,1,3,5314,Brian Rosmaita,brian-rosmaita,"Update requirements and lower-constraints

Major changes:
- python-cinderclient 3.3.0 -> 7.2.0 (update to victoria client)
- os-brick 2.5.0 -> 4.0.0 (update to victoria official release)

Other changes to satisfy dependencies for the above.

Change-Id: I742cf8ee70ba427a12ece164f29cf46acaee3c8a
"
openstack%2Fpython-brick-cinderclient-ext~stable%2Fussuri~Idde52d9d2797fa00af117e428fcb81f6fdb88e1c,openstack/python-brick-cinderclient-ext,stable/ussuri,update-l-c,Idde52d9d2797fa00af117e428fcb81f6fdb88e1c,Update requirements and lower-constraints,MERGED,2021-01-09 02:38:07.000000000,2021-02-05 18:57:55.000000000,2021-02-05 18:56:27.000000000,9,10,0,770011,17dc36a20a9ccad7af6129e8171ee2c9c263a40f,10,3,1,3,5314,Brian Rosmaita,brian-rosmaita,"Update requirements and lower-constraints

Major changes:
- python-cinderclient 3.3.0 -> 7.0.0 (update to ussuri client)
- os-brick 2.5.0 -> 3.0.1 (update to ussuri official release)

Other changes to satisfy dependencies for the above.

Change-Id: Idde52d9d2797fa00af117e428fcb81f6fdb88e1c
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Fvictoria~I68c0b138955693c8d1992f986878862ea12f5149,openstack/openstack-ansible-os_keystone,stable/victoria,,I68c0b138955693c8d1992f986878862ea12f5149,Allow OIDCClaimDelimiter to be set in the apache config file,MERGED,2021-02-04 15:05:56.000000000,2021-02-05 18:51:31.000000000,2021-02-05 18:50:16.000000000,3,0,0,773964,8b4b2251f9b4fc61650188084b7071fbfe1d44de,12,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Allow OIDCClaimDelimiter to be set in the apache config file

This may be necessary for federation where there are multiple
OIDC groups that are separate by a ';'. See [1].

[1] https://docs.openstack.org/keystone/ussuri/admin/federation/mapping_combinations.html

Change-Id: I68c0b138955693c8d1992f986878862ea12f5149
(cherry picked from commit b71f4853e3749169f8d8e23c78c4dc3846c026dd)
"
openstack%2Fopenstack-helm-images~master~I1ac031106d487d61688207c714911fd91d1a717f,openstack/openstack-helm-images,master,,I1ac031106d487d61688207c714911fd91d1a717f,Fix logic for critical_threshold to match the documentation,MERGED,2021-02-04 19:54:58.000000000,2021-02-05 18:41:08.000000000,2021-02-05 18:39:34.000000000,1,1,0,774152,a262c243d2942372b44479d5d02ad3a6680e6086,13,4,2,1,27499,David Smith,smithd,"Fix logic for critical_threshold to match the documentation

Change-Id: I1ac031106d487d61688207c714911fd91d1a717f
"
openstack%2Fopenstack-helm-images~master~I15df1b940c80d756685e58341f5a40c94db1a4a6,openstack/openstack-helm-images,master,,I15df1b940c80d756685e58341f5a40c94db1a4a6,Limit pip for nagios xenial image,MERGED,2021-02-03 22:24:20.000000000,2021-02-05 18:34:44.000000000,2021-02-05 18:33:24.000000000,1,1,0,774010,6f41c6ee840f48c2231a32b9830b09249acb362a,13,7,1,1,8863,Andrii Ostapenko,aostapenko,"Limit pip for nagios xenial image

Starting pip 21 python2 is not supported.

Change-Id: I15df1b940c80d756685e58341f5a40c94db1a4a6
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
"
openstack%2Fopenstack-ansible-os_keystone~stable%2Ftrain~I68c0b138955693c8d1992f986878862ea12f5149,openstack/openstack-ansible-os_keystone,stable/train,,I68c0b138955693c8d1992f986878862ea12f5149,Allow OIDCClaimDelimiter to be set in the apache config file,MERGED,2021-02-04 15:06:51.000000000,2021-02-05 18:21:16.000000000,2021-02-05 18:19:17.000000000,3,0,0,773966,60f7f7f2851106fbfa42956814ed8265187396ac,8,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Allow OIDCClaimDelimiter to be set in the apache config file

This may be necessary for federation where there are multiple
OIDC groups that are separate by a ';'. See [1].

[1] https://docs.openstack.org/keystone/ussuri/admin/federation/mapping_combinations.html

Change-Id: I68c0b138955693c8d1992f986878862ea12f5149
(cherry picked from commit b71f4853e3749169f8d8e23c78c4dc3846c026dd)
"
openstack%2Fetcd3gw~master~I0b2afbb3f8ba1da18e2c10e713e5374a3131a7a6,openstack/etcd3gw,master,drop-py2-support,I0b2afbb3f8ba1da18e2c10e713e5374a3131a7a6,Drop py2 support and clean things up,MERGED,2021-02-04 13:14:16.000000000,2021-02-05 18:20:02.000000000,2021-02-05 18:15:41.000000000,43,125,0,774082,4f299a62c2b3e0188e371c5ce50f40948510c1e6,14,4,3,9,30491,Radosław Piliszek,yoctozepto,"Drop py2 support and clean things up

Change-Id: I0b2afbb3f8ba1da18e2c10e713e5374a3131a7a6
"
openstack%2Foslo.policy~master~Iae1846215b29c07788acd47bc018b4cb97da8df2,openstack/oslo.policy,master,,Iae1846215b29c07788acd47bc018b4cb97da8df2,DNM: More debugging,ABANDONED,2021-01-29 16:22:22.000000000,2021-02-05 18:19:41.000000000,,7,0,2,773143,89893b9d1aa32e209cf6ad580a30e6e2f08f2d35,5,1,2,1,4393,Dan Smith,danms,"DNM: More debugging

Change-Id: Iae1846215b29c07788acd47bc018b4cb97da8df2
"
openstack%2Foslo.config~master~Ie4aa68222bfb0bd4d71f3b579d048b775601f0c3,openstack/oslo.config,master,,Ie4aa68222bfb0bd4d71f3b579d048b775601f0c3,DNM: for debugging,ABANDONED,2021-01-29 16:24:13.000000000,2021-02-05 18:19:29.000000000,,6,1,3,773146,ac2fbff8edc51ebe3b9e116292d14ba9733c3f48,8,2,4,1,4393,Dan Smith,danms,"DNM: for debugging

Change-Id: Ie4aa68222bfb0bd4d71f3b579d048b775601f0c3
"
openstack%2Fmanila~master~I54063d4876a956723ac479c83d924c1efdd98a46,openstack/manila,master,,I54063d4876a956723ac479c83d924c1efdd98a46,DNM (yet) - Gracefully handle ceph backends w/o mode capability,NEW,2019-02-01 15:14:07.000000000,2021-02-05 18:17:44.000000000,,17,4,2,634430,f288329b443bf73f3265bcefabab8b281f311859,30,14,2,1,9003,Tom Barron,tbarron,"DNM (yet) - Gracefully handle ceph backends w/o mode capability

Downstream packages (e.g. ubuntu) of ceph are not yet all up-to-date
even though the requisite changes in ceph git repos have been
backported all the way to luminous, the earliest ceph version supported
in manila.

So gracefully handle the situation where an old version of ceph is
deployed that cannot handle setting mode on volume and snapshot
creates, and on group operations.

Note that CentOS and RHOSP and SUSE packages have been updated and
Kevin Carter is raising a LP issue for ubuntu so we may not have a
need for this one.  Ceph community would like to encourage customers
to update if they hit the issue.

If we do go ahad then we'd need to make corresponding changes for the
other operations than volume creation, add some unit tests that throw,
the TypeError, and of course add a release note.

Change-Id: I54063d4876a956723ac479c83d924c1efdd98a46
"
openstack%2Fswift~master~I1d573ee45e597668032b438e2d50ce96d2639871,openstack/swift,master,p-shard-compact,I1d573ee45e597668032b438e2d50ce96d2639871,Change default -max-shrinking to 1,ABANDONED,2021-02-05 15:59:13.000000000,2021-02-05 18:08:04.000000000,,67,12,0,774277,75461c757f043b13be57a0cda7f7c590c1024e6e,3,1,1,3,7847,Alistair Coles,acoles,"Change default -max-shrinking to 1

Change-Id: I1d573ee45e597668032b438e2d50ce96d2639871
"
openstack%2Fkuryr-kubernetes~master~I3257e263b53bb9f38946ca9cff6a1be5448dec00,openstack/kuryr-kubernetes,master,bug/1914631,I3257e263b53bb9f38946ca9cff6a1be5448dec00,Get trunks more diligently,MERGED,2021-02-04 17:15:13.000000000,2021-02-05 17:50:11.000000000,2021-02-05 17:48:28.000000000,30,12,0,774108,229a990b57ecb74f4019e81f6758db3ead7c7423,9,4,1,5,11600,Michał Dulko,dulek,"Get trunks more diligently

We mostly assumed that trunk ports are only used by Kuryr in an
OpenStack env but sometimes it's not true. This commit adds some checks
to make sure we list trunk ports in a smarter way (checking if they
match the worker_nodes_subnets) and operate on them in a safer way
(checking if they even have IPs).

Change-Id: I3257e263b53bb9f38946ca9cff6a1be5448dec00
Closes-Bug: 1914631
"
openstack%2Fcinder~master~Ic50c5b59b7dfc9a5e594b892398702f1341c25d3,openstack/cinder,master,mypy,Ic50c5b59b7dfc9a5e594b892398702f1341c25d3,squash image_utils,ABANDONED,2021-02-05 17:04:04.000000000,2021-02-05 17:08:45.000000000,,5,3,0,774289,70560c18d52d00db15915c6de1e6a1bbafed9c3b,3,0,1,1,4523,Eric Harney,eharney,"squash image_utils

Change-Id: Ic50c5b59b7dfc9a5e594b892398702f1341c25d3
"
openstack%2Freleases~master~I73528c3ca8a9f3b9fcec6326129d04efa78615fb,openstack/releases,master,,I73528c3ca8a9f3b9fcec6326129d04efa78615fb,Release oslo.policy 3.6.2,MERGED,2021-02-05 15:13:51.000000000,2021-02-05 17:05:17.000000000,2021-02-05 17:05:17.000000000,4,0,0,774250,a612add3f5209d04b60f9f253dea2af5daafe95f,8,6,1,1,5046,Lance Bragstad,ldbragst,"Release oslo.policy 3.6.2

This release includes an important fix ensuring the oslo.policy Enforcer
safely handles data it modifies:

  https://review.opendev.org/c/openstack/oslo.policy/+/773950/5

Change-Id: I73528c3ca8a9f3b9fcec6326129d04efa78615fb
"
openstack%2Fopenstack-manuals~master~I6f8da8772bef24057970cda8cbed7838b3125645,openstack/openstack-manuals,master,bindep-2.9,I6f8da8772bef24057970cda8cbed7838b3125645,Redirect bindep docs to opendev,MERGED,2021-02-04 19:10:28.000000000,2021-02-05 16:36:54.000000000,2021-02-05 16:08:56.000000000,10,0,0,774147,8556867e6f5aaa3d132631dece3c67bdfb1c8ced,10,3,1,2,5263,Jeremy Stanley,fungi,"Redirect bindep docs to opendev

The opendev/bindep projects has started publishing its documentation
on the docs.opendev.org site now, so install a redirect from the
former location for the sake of user continuity.

Change-Id: I6f8da8772bef24057970cda8cbed7838b3125645
Depends-On: https://review.opendev.org/773796
"
openstack%2Fglance~master~I28c2d4701750bbd94c3f0ed106569091bea020b3,openstack/glance,master,secure-rbac,I28c2d4701750bbd94c3f0ed106569091bea020b3,Add devstack plugin script,MERGED,2021-02-02 04:25:56.000000000,2021-02-05 16:35:44.000000000,2021-02-05 16:34:09.000000000,40,0,0,773566,2a120055c657258f6e5e8dcd804c1274d1df692d,13,3,1,1,5046,Lance Bragstad,ldbragst,"Add devstack plugin script

This commit adds a devstack/plugin.sh script so that we can invoke it
from devstack. This is useful for deploying glance in particular ways we
need to test, like with new policy defaults for API protection testing.

Change-Id: I28c2d4701750bbd94c3f0ed106569091bea020b3
"
openstack%2Fblazar~master~I89fccf38451b19c4af25558834cf919bd772fdca,openstack/blazar,master,false_return,I89fccf38451b19c4af25558834cf919bd772fdca,Remove misplaced return statement,MERGED,2020-11-27 07:04:15.000000000,2021-02-05 16:31:14.000000000,2021-02-05 16:29:37.000000000,1,1,0,764417,a1ecf0d98b15f8f0f4dd44037fea79121dee5f2b,7,2,1,1,20190,zhufl,zhufl,"Remove misplaced return statement

This is to remove the misplaced return statement which makes the
statement after it unreachable.

Change-Id: I89fccf38451b19c4af25558834cf919bd772fdca
"
openstack%2Fcharm-trilio-wlm~master~I4e32dab8e4eccbd20269004d3f79905196ed0732,openstack/charm-trilio-wlm,master,ussuri-support,I4e32dab8e4eccbd20269004d3f79905196ed0732,Add support for Ussuri,MERGED,2021-02-05 10:17:51.000000000,2021-02-05 16:24:12.000000000,2021-02-05 16:24:12.000000000,27,0,0,774216,2598bff3ca0d3d61b2f6d64c009b6ca4e6fefafa,7,3,1,1,12549,gnuoy,gnuoy,"Add support for Ussuri

This adds support for

Trilio 4.0 + Bionic + Ussuri
Trilio 4.1 + Bionic + Ussuri
Trilio 4.1 + Focal + Ussuri

Bundles to follow when the rest of the Trilio charms are fixed.

Change-Id: I4e32dab8e4eccbd20269004d3f79905196ed0732
"
openstack%2Fcharm-trilio-dm-api~master~I3ced39cb3ab5bf678ac57ed95e2c5cb8e82b3525,openstack/charm-trilio-dm-api,master,focal-support,I3ced39cb3ab5bf678ac57ed95e2c5cb8e82b3525,Add support for Ussuri,MERGED,2021-02-05 10:23:03.000000000,2021-02-05 16:23:32.000000000,2021-02-05 16:23:32.000000000,26,1,0,774219,10cd6cd2b8e97db73c2105fd3dabfd02d75c4d63,7,3,1,1,12549,gnuoy,gnuoy,"Add support for Ussuri

This adds support for

Trilio 4.0 + Bionic + Ussuri
Trilio 4.1 + Bionic + Ussuri
Trilio 4.1 + Focal + Ussuri

Bundles to follow when the rest of the Trilio charms are fixed.

Change-Id: I3ced39cb3ab5bf678ac57ed95e2c5cb8e82b3525
"
openstack%2Fcinderlib~stable%2Fussuri~I86ccab516108615d6f718c6fdc9d3e4fad67ee05,openstack/cinderlib,stable/ussuri,update-l-c,I86ccab516108615d6f718c6fdc9d3e4fad67ee05,Update requirements and lower-constraints,MERGED,2021-01-15 20:42:22.000000000,2021-02-05 16:22:50.000000000,2021-02-05 16:20:44.000000000,22,15,0,771079,7fdbadddaf300497f0fad52396d3e167322b91b1,14,3,2,5,5314,Brian Rosmaita,brian-rosmaita,"Update requirements and lower-constraints

Changes prompted by the new pip resolver doing stricter dependency
checking:
- req, lc: cinder to 16.0.0 (ussuri official release)
- req: restrict cinder to < 17.0.0 (victoria) because cinder is not
  in upper-constraints
- req, lc: os-brick: to 3.0.1 (ussuri official release)
- update test-req to match cinder stable/ussuri versions
- added some indirect dependencies to test-requirements.txt to help
  speed up dependency resolution
- doc/req: openstackdocstheme, reno exceeded ussuri upper constraint
- tox.ini: base testenv: added upper-constraints and changed it to
  use cinder and os-brick from pypi instead of master

Change-Id: I86ccab516108615d6f718c6fdc9d3e4fad67ee05
"
openstack%2Fcinderlib~stable%2Fvictoria~I59a2dd3cd2e56a83702e75086bec75569060167f,openstack/cinderlib,stable/victoria,update-l-c,I59a2dd3cd2e56a83702e75086bec75569060167f,Update requirements,MERGED,2021-01-26 13:51:43.000000000,2021-02-05 16:22:46.000000000,2021-02-05 16:20:41.000000000,5,9,0,772522,ef98ec2aee205d82c5eeb79b99e2dce74ef0cefe,9,5,1,2,5314,Brian Rosmaita,brian-rosmaita,"Update requirements

- cap cinder at < 18.0.0 (wallaby) in requirements.txt because cinder
  isn't in upper-constraints
- add os-brick>=4.0.1 (victoria official release) to requirements
- tox.ini: base testenv: add upper-constraints and change to use
  cinder and os-brick from pypi instead of master

Change-Id: I59a2dd3cd2e56a83702e75086bec75569060167f
"
openstack%2Ftripleo-heat-templates~master~I020da468d909bd98819f1e3618bf905260791d9b,openstack/tripleo-heat-templates,master,rbd-download,I020da468d909bd98819f1e3618bf905260791d9b,Add new parameters to configure nova-compute direct rbd image download,MERGED,2021-01-23 22:47:29.000000000,2021-02-05 16:13:45.000000000,2021-02-05 16:10:00.000000000,146,12,15,772169,91837d4fa7325e909b5f5a655336015688edb47c,39,11,5,2,17216,Martin Schuppert,mcschupp,"Add new parameters to configure nova-compute direct rbd image download

If rbd is used for glance, but compute is using local ephemeral storage,
nova-compute can direct download the images in this scenario from the
glance ceph pool via rbd, instead going through glance api.

This change introduce new compute role based parameters to enable direct
download of glance images via rbd. If NovaGlanceEnableRbdDownload is set,
per default the global RBD glance parameters are used, CephClientUserName
GlanceRbdPoolName and CephClusterName for the used ceph.conf.

Glance also support multi storage backends which can be configured using
GlanceMultistoreConfig. If additional RBD glance backends are configured,
the NovaGlanceRbdDownloadMultistoreID can be used to pointing to the
hash key (backend ID) of GlanceMultistoreConfig to use.

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/772168
Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/770687
Change-Id: I020da468d909bd98819f1e3618bf905260791d9b
"
openstack%2Fnova~master~I4d3193d8401614311010ed0e055fcb3aaeeebaed,openstack/nova,master,bug/1859496,I4d3193d8401614311010ed0e055fcb3aaeeebaed,Avoid allocation leak when deleting instance stuck in BUILD,MERGED,2020-01-14 08:20:04.000000000,2021-02-05 16:10:01.000000000,2020-02-28 01:02:51.000000000,90,1,16,702368,f35930eef8fa27ee972e87366abb38596839fdba,59,14,4,4,28332,Alexandre arents,aarents,"Avoid allocation leak when deleting instance stuck in BUILD

During instance build, conductor claim resources to scheduler
and create instance DB entry in cell.

If for any reason conductor is not able to complete a build after
instance claim (ex: AMQP issues, conductor restart before build completes)
and in the mean time user requests deletion of its stuck instance in BUILD,
nova api will delete build_request but let allocation in place resulting
in a leak.

The change proposes that nova api ensures allocation cleanup is made
in case of ongoing/incomplete build.
Note that because build did not reach a cell, compute is not able to heal
allocation during its periodic update_available_resource task.
Furthermore, it ensures that instance mapping is also queued for deletion.

Change-Id: I4d3193d8401614311010ed0e055fcb3aaeeebaed
Closes-Bug: #1859496
"
openstack%2Fswift~master~I9edd6a78c5720c0aad4eed5cfb9f6311bb6b2512,openstack/swift,master,p-shard-auditing-states-excludes-found,I9edd6a78c5720c0aad4eed5cfb9f6311bb6b2512,Exclude FOUND state from shard 'auditing' states,ABANDONED,2021-02-04 15:14:01.000000000,2021-02-05 16:01:34.000000000,,17,9,1,774088,5aea1ea7975c6194ae8a599f9b7bfc2951f62957,4,2,1,3,7847,Alistair Coles,acoles,"Exclude FOUND state from shard 'auditing' states

The 'states=auditing' param on a container GET request is used
to indicate that the returned shard ranges are to be used for shard
auditing. Currently all shard range states are included.

The shard ranges of relevance to a shard are its own shard range and
any overlapping shard ranges that may be acceptors if the shard is
shrinking. None of these relevant shard ranges should be in state
FOUND: the shard itself cannot be in FOUND state since it has been
created; acceptor ranges should not be in FOUND state. This patch
therefore excludes FOUND from the 'auditing' states to prevent an
unintended overlapping FOUND shard range that has not yet been
resolved at the root container being fetched by a shrinking shard,
which might then proceed to create and cleave to it.

Change-Id: I9edd6a78c5720c0aad4eed5cfb9f6311bb6b2512
"
openstack%2Fopenstack-helm-images~master~Icda8443c66778ba86fbb415e16a8d509e231c2e4,openstack/openstack-helm-images,master,,Icda8443c66778ba86fbb415e16a8d509e231c2e4,[ceph] Upgrade sudo for CVE fixes,ABANDONED,2021-02-03 22:04:57.000000000,2021-02-05 15:55:38.000000000,,2,1,1,774007,b800c2a7ef35e96ce5163136da70121748d1c315,10,3,3,2,28372,chinasubbareddy mallavarapu,chinasubbareddy,"[ceph] Upgrade sudo for CVE fixes

This is to make sure to install high CVE free sudo package
as few of ceph packages depends on sudo.

Change-Id: Icda8443c66778ba86fbb415e16a8d509e231c2e4
"
openstack%2Fswift~master~I3a5e05b91b29247eeb52ee88bb0a822f45f0523c,openstack/swift,master,fill_all_gaps,I3a5e05b91b29247eeb52ee88bb0a822f45f0523c,Make fill_gaps fill all gaps with own_SR,NEW,2021-02-05 06:20:08.000000000,2021-02-05 15:37:02.000000000,,182,35,1,774195,8c5dfd49ff00c87a80346d982d0722e26d85bd90,4,1,1,7,7233,Matthew Oliver,mattoliverau,"Make fill_gaps fill all gaps with own_SR

There is a bug where we could mark everything to collapse back into the root
container and until all sharder have run any shrinking shard that runs
before the rest will collapse and cause a momentary hole in the object
listing for the sharded container.

We currently have code in get_shard_ranges that when listing will
fill_gaps with the root SR to plug holes. This is used when we are in
the sharding state and we need to still build full listings.

This patch makes this fill_gaps code work for all gaps in a returning
listing, if the own_sr is in a LISTING state, ie SHARDING, CLEAVED,
ACTIVE, SHRINKING. This way if a shard is collapsed back to the root
before any others, the root will already respond to listing for it.

Change-Id: I3a5e05b91b29247eeb52ee88bb0a822f45f0523c
"
openstack%2Fmagnum~master~I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0,openstack/magnum,master,,I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0,Add image prefix for grafana images,MERGED,2020-11-25 00:42:55.000000000,2021-02-05 15:21:57.000000000,2021-02-05 15:20:23.000000000,4,1,1,764105,327c12fc8400c6cb6e29230f81a1735ba5f6d45b,16,5,1,1,31746,Oleksandr Kozachenko,okozachenko,"Add image prefix for grafana images

- grafana image
- k8s-sidecar image

Change-Id: I9b3ca7cd63a2eceef1a0a2bd54cd9b9f550285b0
"
openstack%2Fopenstack-ansible~master~I464799a1c2e488ea6e7ca9f4d38b3e93ddb30e87,openstack/openstack-ansible,master,cinder-mgmt-address,I464799a1c2e488ea6e7ca9f4d38b3e93ddb30e87,Conform cinder management address to pattern used for nova,ABANDONED,2020-07-15 13:05:27.000000000,2021-02-05 14:56:35.000000000,,8,3,0,741180,16f59a2566e4b7e15b377360e8424cef7d81e545,6,2,1,2,31542,Andrew Bonney,andrewbonney,"Conform cinder management address to pattern used for nova

This ensures that the correct address is used when cinder is
deployed to a physical host which uses different networks for
deployment and management

Change-Id: I464799a1c2e488ea6e7ca9f4d38b3e93ddb30e87
"
openstack%2Fopenstack-ansible-lxc_container_create~master~I55b928bc21232f70f37c9c7a9f8e2d60c9fcb5b5,openstack/openstack-ansible-lxc_container_create,master,,I55b928bc21232f70f37c9c7a9f8e2d60c9fcb5b5,Avoid delegation to the target container,ABANDONED,2021-02-02 14:25:24.000000000,2021-02-05 14:56:09.000000000,,10,5,0,773690,695e8dc8ecb457452a2ad961684975539948a540,4,2,1,1,31542,Andrew Bonney,andrewbonney,"Avoid delegation to the target container

This task creates a matching named directory in both the container
and on its physical host. Up to now this has been done with a loop
with delegation to the physical host and then to the container via
inventory_hostname.

It appears that https://github.com/ansible/ansible/issues/72776
may be causing the inventory hostname to be only partially
resolved, resulting in the SSH command targeting the physical host
by hostname rather than by IP address.

This patch splits the task to avoid delegating to the same host
which is being targeted initially by the task.

Change-Id: I55b928bc21232f70f37c9c7a9f8e2d60c9fcb5b5
"
openstack%2Fdevstack~master~I2b108be7386971cc02577d61a97a51bcb388951a,openstack/devstack,master,async,I2b108be7386971cc02577d61a97a51bcb388951a,DNM: Test just on vexxhost,ABANDONED,2021-02-02 15:47:57.000000000,2021-02-05 14:43:17.000000000,,13,414,1,773714,eebac2a80c040ea3607e9f397a49b2ea8e28c277,3,1,1,1,4393,Dan Smith,danms,"DNM: Test just on vexxhost

Change-Id: I2b108be7386971cc02577d61a97a51bcb388951a
"
openstack%2Fpython-brick-cinderclient-ext~stable%2Ftrain~Ic8fbf3c3eb0eaa83b79f9a2a9b630734054314ee,openstack/python-brick-cinderclient-ext,stable/train,update-l-c,Ic8fbf3c3eb0eaa83b79f9a2a9b630734054314ee,Update requirements and lower-constraints,MERGED,2021-01-09 02:51:31.000000000,2021-02-05 14:42:33.000000000,2021-02-05 14:41:03.000000000,7,7,2,770012,8951feb3feed09ee687470e621adaac0dcd9e8e1,14,3,2,4,5314,Brian Rosmaita,brian-rosmaita,"Update requirements and lower-constraints

changes:
- python-cinderclient 3.3.0 -> 5.0.0 (update to train client)
- os-brick 2.5.0 -> 2.10.0 (update to train official release)
- raised Sphinx to 1.8.0 and added py2,py3 classifiers

Change-Id: Ic8fbf3c3eb0eaa83b79f9a2a9b630734054314ee
"
openstack%2Fironic~master~I12b4bc0d4599ccf5ef6fdca91f54f4294b127f9d,openstack/ironic,master,ilo-deploy-boot-mode,I12b4bc0d4599ccf5ef6fdca91f54f4294b127f9d,ilo: do not change deploy_boot_mode in instance_info,MERGED,2021-02-02 10:41:32.000000000,2021-02-05 14:33:05.000000000,2021-02-05 14:30:27.000000000,23,21,0,773631,6c8dad9465af138eb8c8c387af1f42e723310e26,28,3,1,4,10239,Dmitry Tantsur,dtantsur,"ilo: do not change deploy_boot_mode in instance_info

instance_info is the input from an operator, we should not change that.
Use driver_internal_info instead.

Change-Id: I12b4bc0d4599ccf5ef6fdca91f54f4294b127f9d
"
openstack%2Fgovernance~master~If4bdd357fea98df9ae7bb94889a5e75c68c9913f,openstack/governance,master,project-update,If4bdd357fea98df9ae7bb94889a5e75c68c9913f,Remove Karbor project team,MERGED,2020-12-15 00:21:15.000000000,2021-02-05 13:58:07.000000000,2021-02-04 16:01:47.000000000,20,26,4,767056,9945807de256f81347c6268f452ccf6824f8f2bc,30,8,3,2,16708,Kendall Nelson,kjnelson,"Remove Karbor project team

Karbor did not have any PTL candidates for the Wallaby
cycle. As per its activities in Victoria cycle and no
maintainers, the TC decided to retire Karbor deliverables in
the Wallaby cycle. The retirement was announced on the ML[1].

As per retirement process this commit proposes to remove
the Karbor project from the official OpenStack projects.

If there are any maintainers who would like to continue the
development of this projects then they can continue under
opendev in x namespace or repropose it to OpenStack governance.

Thank you to all the contributors of Karbor for your hard work!

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-November/018643.html

Depends-on: https://review.opendev.org/c/openstack/project-config/+/767057

Change-Id: If4bdd357fea98df9ae7bb94889a5e75c68c9913f
"
openstack%2Fpuppet-openstack-integration~master~Icb07742d328827a41132cdd6a6c2bcfa3cde11ec,openstack/puppet-openstack-integration,master,,Icb07742d328827a41132cdd6a6c2bcfa3cde11ec,Retry sealert command on failure,MERGED,2021-02-04 15:32:39.000000000,2021-02-05 13:35:10.000000000,2021-02-05 13:35:10.000000000,2,1,0,774093,425f454bdcb264eb80b305b67a5d4bcd4e04aadb,7,5,1,1,13861,yatin,yatinkarel,"Retry sealert command on failure

We randomly see issues while running sealert
in RDO puppet promotion pipeline, sealert fails with:-
""SELinux is disabled or we can't open a policy file""
As per logs selinux is enabled and selinuxfs is mounted
so seems it's some filesystem issue.

Locally was able to reproduce only with selinux disabled
or umount /sys/fs/selinux. Adding retries in hope to
fix these random failures.

Change-Id: Icb07742d328827a41132cdd6a6c2bcfa3cde11ec
"
openstack%2Fpuppet-openstack-integration~master~Ia33ff3dbb88317171143a43e5b1c674038187254,openstack/puppet-openstack-integration,master,test-rdo-repo-updates,Ia33ff3dbb88317171143a43e5b1c674038187254,Improve retry_cmd function to handle set -e,MERGED,2021-02-05 08:37:19.000000000,2021-02-05 13:35:07.000000000,2021-02-05 13:35:07.000000000,6,0,0,774204,ec57a35931babc9698a8399ca5c76773f069e377,7,5,1,1,13861,yatin,yatinkarel,"Improve retry_cmd function to handle set -e

In run_tests.sh we use 'set -e' which makes
script fail as soon as error hit but we don't
want to fail in case of retries, this patch fixes it.

Change-Id: Ia33ff3dbb88317171143a43e5b1c674038187254
"
openstack%2Freleases~master~I26feae1e85ce2f6dae499441d3984ac3094170a5,openstack/releases,master,train-stable,I26feae1e85ce2f6dae499441d3984ac3094170a5,Release panko for stable/train,MERGED,2021-01-29 14:46:18.000000000,2021-02-05 13:24:46.000000000,2021-02-05 13:24:46.000000000,4,0,0,773085,a9a56c080c6be596cb7e9a167d4d7cbe5d2af8c6,18,4,2,1,17685,Elod Illes,elod.illes,"Release panko for stable/train

This release picks up new commits to panko since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I26feae1e85ce2f6dae499441d3984ac3094170a5
"
openstack%2Fkuryr-kubernetes~master~Ia4c60d4bb8f3e4c232ef0d83d32f9e0bba3815ba,openstack/kuryr-kubernetes,master,Docume_crd,Ia4c60d4bb8f3e4c232ef0d83d32f9e0bba3815ba,Update documentation for svc and ep annotation to KuryrLoadBalancer,MERGED,2020-12-02 19:35:36.000000000,2021-02-05 12:41:26.000000000,2021-02-05 12:39:30.000000000,178,72,38,765197,1d8afc722d1839ee91c65fa2c21df29402b689bf,40,4,11,3,30963,Sarka Scavnicka,sarka_scavnicka,"Update documentation for svc and ep annotation to KuryrLoadBalancer

Change-Id: Ia4c60d4bb8f3e4c232ef0d83d32f9e0bba3815ba
"
openstack%2Fpuppet-nova~stable%2Ftrain~I468ecf06ac6e0853fbb296c011f20d63e38f6922,openstack/puppet-nova,stable/train,c8s,I468ecf06ac6e0853fbb296c011f20d63e38f6922,Fix libvirt version discovery for CentOS Stream,MERGED,2021-02-01 09:43:04.000000000,2021-02-05 12:38:48.000000000,2021-02-05 12:38:48.000000000,1,1,0,773329,c8507e9207a56d364aa2e62b29c57e60a6206e83,9,6,1,1,16312,Alfredo Moralejo,amoralej,"Fix libvirt version discovery for CentOS Stream

CentOS Stream is Rolling-release distro that tracks just ahead of
Red Hat Enterprise Linux (RHEL) development [1]. While not recommended
in RDO, it's used to find potential issues before they are found in
official CentOS 8.

CentOS Stream is reported by facter as '8' with no minor version,
breaking the logic to discover the libvirtd version. This patch is
setting the version of libvirtd to 5.6 for all CdentOS 8 releases,
including Stream, as 8.0 is no longer supported.

[1] https://www.centos.org/centos-stream/

Change-Id: I468ecf06ac6e0853fbb296c011f20d63e38f6922
(cherry picked from commit b6294ce7a27379444ec9a447a51a6a1f83e9069f)
"
openstack%2Fpuppet-nova~stable%2Fussuri~I468ecf06ac6e0853fbb296c011f20d63e38f6922,openstack/puppet-nova,stable/ussuri,c8s,I468ecf06ac6e0853fbb296c011f20d63e38f6922,Fix libvirt version discovery for CentOS Stream,MERGED,2021-02-01 09:42:41.000000000,2021-02-05 12:38:45.000000000,2021-02-05 12:38:45.000000000,1,15,0,773328,6397e5c2260ac960aa9d219d76bc2fd55446d7c0,18,6,2,2,16312,Alfredo Moralejo,amoralej,"Fix libvirt version discovery for CentOS Stream

CentOS Stream is Rolling-release distro that tracks just ahead of
Red Hat Enterprise Linux (RHEL) development [1]. While not recommended
in RDO, it's used to find potential issues before they are found in
official CentOS 8.

CentOS Stream is reported by facter as '8' with no minor version,
breaking the logic to discover the libvirtd version. This patch is
setting the version of libvirtd to 5.6 for all CdentOS 8 releases,
including Stream, as 8.0 is no longer supported.

[1] https://www.centos.org/centos-stream/

(cherry picked from commit b6294ce7a27379444ec9a447a51a6a1f83e9069f)

(suash) Do not test nova::migration::libvirt in 2 places

Currently behavior of the nova::migration::libvirt class is tested in
nova_migration_livirt_spec.rb, thus we don't need to test the same in
nova_compute_libvirt_spec.rb.

This patch also remove a redundant test case.

(cherry picked from commit 2b046eeec6e064c7189d13e699e92cce0ef386b9)

Change-Id: I468ecf06ac6e0853fbb296c011f20d63e38f6922
"
openstack%2Fopenstack-ansible-os_zun~stable%2Fussuri~Ie674947ba6673a92e53f85de2cc8acdae5788f8f,openstack/openstack-ansible-os_zun,stable/ussuri,zun-permissions-stable/ussuri,Ie674947ba6673a92e53f85de2cc8acdae5788f8f,Update zun role to match current requirements,MERGED,2021-01-20 08:43:48.000000000,2021-02-05 12:26:19.000000000,2021-02-05 12:20:50.000000000,110,24,0,771547,bc6079ebe96b39b376bd347170b01bb51b4f068f,25,3,3,11,28619,Dmitriy Rabotyagov,noonedeadpunk,"Update zun role to match current requirements

Brings together a set of existing patches and attempts to address
permissions issues with the kuryr-libnetwork plugin.

Defaults are chosen to match the requirements of the tempest tests

Change-Id: Ie674947ba6673a92e53f85de2cc8acdae5788f8f
Depends-On: https://review.opendev.org/767469
Depends-On: https://review.opendev.org/771608
(cherry picked from commit 6d6a4beb285d4ba4cc5d4896779dc4bb541ab5b4)
"
openstack%2Fcharm-designate-bind~stable%2F20.05~Ib1954ec01d78518da064b0912b91643c153d543e,openstack/charm-designate-bind,stable/20.05,bug/1881532-stable/20.05,Ib1954ec01d78518da064b0912b91643c153d543e,Update files used to seed new bind units,ABANDONED,2020-06-04 12:52:14.000000000,2021-02-05 11:18:45.000000000,,4,3,0,733600,e64fc638ed9eeabe5332cec4d8fc4670c9cff20a,7,3,1,2,12549,gnuoy,gnuoy,"Update files used to seed new bind units

It looks like the focal version of named is compiled with lmdb
support where as the bionic version is not. This means that on
Focal+ zone information is stored in a nzd file rather than
nzf. This change ensure that nzd files are also used to seed new
units.

Change-Id: Ib1954ec01d78518da064b0912b91643c153d543e
Closes-Bug: #1881532
(cherry picked from commit 02f667ac166dc8d6e1eeb8b0d130b6259abc01d2)
"
openstack%2Ftripleo-heat-templates~master~I860e99af585aff6d1f5490930c364f091df81e56,openstack/tripleo-heat-templates,master,env_merging,I860e99af585aff6d1f5490930c364f091df81e56,Disable swift on undercloud by default,MERGED,2021-01-29 03:16:00.000000000,2021-02-05 11:16:19.000000000,2021-02-05 11:16:19.000000000,15,6,0,772967,b3f4111c9ebb6ebd572b734a46b1d58e2875bd55,52,8,8,2,8833,Rabi Mishra,rabi,"Disable swift on undercloud by default

This changes to disable swift by default on the undercloud.
Adds a new environment if there is a requirement to enable
it.

Depends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/772827/
Change-Id: I860e99af585aff6d1f5490930c364f091df81e56
"
openstack%2Fneutron~master~Ie66356428d7c1ab0d9d721d9710f915e90747c99,openstack/neutron,master,bug/1912596,Ie66356428d7c1ab0d9d721d9710f915e90747c99,Add DBDuplicateEntry exception catch code to object update method,ABANDONED,2021-01-21 09:37:32.000000000,2021-02-05 10:34:00.000000000,,219,7,4,771776,01761092f7017993544c8eab7de0eee533cad043,14,3,2,5,28329,yangjianfeng,yangjianfeng,"Add DBDuplicateEntry exception catch code to object update method

In some case, the update action may also cause DBDuplicateEntry
exception. For example: update floating ip port forwarding or
update router conntrack helper. This patch add common catch code
for neutron object's update method.

Additionally, add some extension unit tests for rotuer conntrack
helper plugin.

Closes-Bug: #1912596
Change-Id: Ie66356428d7c1ab0d9d721d9710f915e90747c99
"
openstack%2Fkayobe~stable%2Ftrain~I487633546bbd3a65ed2858d0b5b6df715224a9ee,openstack/kayobe,stable/train,,I487633546bbd3a65ed2858d0b5b6df715224a9ee,CI: overcloud upgrade fixes for Train,MERGED,2021-02-02 11:00:51.000000000,2021-02-05 10:31:30.000000000,2021-02-05 10:29:36.000000000,22,0,1,773635,564af0aba3b89a951d770b21c706783ec8dba1f4,34,4,9,2,14826,Mark Goddard,mgoddard,"CI: overcloud upgrade fixes for Train

1. Use overlay2 storage driver

Sometimes with the overlayfs (v1) driver we can hit the following error
on upgrade jobs: Unknown error message: failed to register layer: link
<path1> <path2>: too many links. This happens when many images share a
base image, we can hit the file system's hard link limit.

Use overlay2 storage driver instead.

2. Add dummy1 port for overcloud upgrade job

Adapted from I0e88683f775769c1a80879685b0e7a2983599b08, which added an
overcloud upgrade job for Ussuri, including this dummy port.

Change-Id: I487633546bbd3a65ed2858d0b5b6df715224a9ee
Co-Authored-By: Pierre Riteau <pierre@stackhpc.com>
"
openstack%2Ffreezer~master~Iccd20901384ccee82dbb1e57dc6dddf211cbbcd0,openstack/freezer,master,improveUTC2,Iccd20901384ccee82dbb1e57dc6dddf211cbbcd0,add test_scheduledstate_start for unit test,MERGED,2021-02-05 08:44:07.000000000,2021-02-05 10:09:58.000000000,2021-02-05 10:08:19.000000000,8,0,0,774206,97984c71d69ba4e05632c920fa62c1e392650a20,7,2,1,1,21387,gecong,gecong,"add test_scheduledstate_start for unit test

Change-Id: Iccd20901384ccee82dbb1e57dc6dddf211cbbcd0
"
openstack%2Fmagnum~stable%2Fussuri~Ifd57405d72ed6c1406bc9cecca3a412507bb8a02,openstack/magnum,stable/ussuri,drop_lc,Ifd57405d72ed6c1406bc9cecca3a412507bb8a02,Drop lower constraints testing,MERGED,2021-02-02 11:56:00.000000000,2021-02-05 10:00:59.000000000,2021-02-05 09:55:54.000000000,0,1,0,773594,2e6ebc0a59bc8e3d36c161a3934811863796d0b1,14,4,2,1,28022,Bharat Kunwar,brtknr,"Drop lower constraints testing

Projects like oslo are dropping lower constraints
testing. There is also discussion to drop it until
we find a proper setup. For details, please follow
the ML thread. TC will have updates soon.

http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019679.html

story: 2008482
task: 41565

Change-Id: Ifd57405d72ed6c1406bc9cecca3a412507bb8a02
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 97c6bdad476b05e2691f3e9c57c9d53997c5f207)
"
openstack%2Fneutron-lib~master~I6b57f7ce6d411be388c63b87f2c75f2de703cc97,openstack/neutron-lib,master,bug/1913180,I6b57f7ce6d411be388c63b87f2c75f2de703cc97,Add qos rule validation for network,MERGED,2021-02-04 13:27:35.000000000,2021-02-05 09:27:24.000000000,2021-02-05 09:26:08.000000000,16,0,5,774083,2dabcc5cf7d68bf2a4640f07d5e170aa8b911390,16,3,3,2,32667,Mamatisa Nurmatov,isabek,"Add qos rule validation for network

Minimum bandwidth QoS rule is only applicable for the network
which is backed by physical networks.
When updating network policy on network without port
will raise exception.

Partial-Bug: #1913180
Change-Id: I6b57f7ce6d411be388c63b87f2c75f2de703cc97
"
openstack%2Fnova~master~Ibe6aff4edeb32208bc9865e9216a7432caddab2b,openstack/nova,master,,Ibe6aff4edeb32208bc9865e9216a7432caddab2b,hyperv: Configures chassis asset tags for VMs.,MERGED,2020-09-18 16:12:06.000000000,2021-02-05 09:14:34.000000000,2021-02-05 01:37:55.000000000,7,2,1,752723,48123d63211a2446ddaf12f8ef692e3c67f09c7d,84,13,2,2,8213,Claudiu Belu,claudiub,"hyperv: Configures chassis asset tags for VMs.

The Msvm_VirtualSystemSettingData object associated with a VM has a
field named ""ChassisAssetTag"". The value set in this field is reflected
in Linux VMs in /sys/class/dmi/id/chassis-asset-tag. This value is
checked by cloud-init in order to figure out if it is currently running
inside an OpenStack VM.

The verification above has been introduced in cloud-init [1] in order to
avoid costly metadata probes that aren't needed in non-OpenStack VMs.

Setting the ChassisAssetTag will allow us to pass these checks. The
value we are setting is similar to what libvirt is setting in the
LibvirtConfigGuestSysinfo.

[1] https://github.com/canonical/cloud-init/commit/1efa8a0a030794cec68197100f31a856d0d264ab

Partially-Fixes: #1895976

Change-Id: Ibe6aff4edeb32208bc9865e9216a7432caddab2b
Depends-On: 33e6c07dab4b46442bf0fbb838d59516112899b9
"
openstack%2Fcharm-mysql-router~master~I0ea751aa4015ad6e569d9c3e9f8364cf36801c18,openstack/charm-mysql-router,master,bug/1914649,I0ea751aa4015ad6e569d9c3e9f8364cf36801c18,Use report host on bootstrap,MERGED,2021-02-04 21:05:15.000000000,2021-02-05 09:08:03.000000000,2021-02-05 09:08:03.000000000,3,0,0,774160,7c8acbc18fae896bd5340ddea8eaa2a070620ba6,12,5,2,2,20805,David Ames,thedac,"Use report host on bootstrap

LP Bug #1914649 saw an edge case where --report-host was necessary for
mysql-router bootstrap. Adding it to cover this edge case.

Change-Id: I0ea751aa4015ad6e569d9c3e9f8364cf36801c18
Closes-Bug: #1914649
"
openstack%2Frequirements~master~Ied2a885c46a07c48d3f04c8d0d492c8acf7c4e37,openstack/requirements,master,,Ied2a885c46a07c48d3f04c8d0d492c8acf7c4e37,Add python-cyborgclient in openstack/requirements.,MERGED,2021-01-18 10:09:45.000000000,2021-02-05 09:03:38.000000000,2021-02-05 09:01:59.000000000,3,0,0,771179,cc40d6ef13888e86ed36c70058350cf20eeda1fc,15,3,3,3,25738,Xinran WANG,Xinran,"Add python-cyborgclient in openstack/requirements.

We have implemented our OpenStack client plugin and would like to
get it added to the global-requirements list.  This is to facilitate
testing and documentation generation, etc.

[Q] Is the library actively maintained?
[A] Yes.

[Q] Is the library good code?
[A] Yes. We think so.

[Q] Is the library python 3 compatible?
[A] Yes.

[Q] Is the library license compatible?
[A] Yes. Apache 2.0

[Q] Is the library already packaged in the distros we target
    (Ubuntu latest / Fedora latest)?
[A] Yes.

[Q] Is the function of this library already covered by other
    libraries in global-requirements.txt?
[A] No.

Change-Id: Ied2a885c46a07c48d3f04c8d0d492c8acf7c4e37
"
openstack%2Ftripleo-ansible~master~I0048fec8c1e19bd20b1edcd23f2490456fe1cd12,openstack/tripleo-ansible,master,bug/1914018,I0048fec8c1e19bd20b1edcd23f2490456fe1cd12,Make server group quota unlimited for Octavia,MERGED,2021-02-01 09:51:22.000000000,2021-02-05 08:49:36.000000000,2021-02-05 08:49:36.000000000,4,1,6,773338,06470bc4d64c9e832d06a2e54ae6a3363a720008,19,6,6,1,33061,Srinivas Atmakuri,Srini0908,"Make server group quota unlimited for Octavia

When a user creates a HA load balancer in Octavia, Octavia creates
server groups as part of the load balancer resources. However because
the default quotas related to server group are very low and we have all
load balancer resources in the common service project, users can create
very limited number of HA load balancers by default.

This patch disables the quota limits of the server-group-members and
server-groups of the service project, so that HA load balancer creation
is not blocked by these quotas.

Closes-Bug: #1914018
Change-Id: I0048fec8c1e19bd20b1edcd23f2490456fe1cd12
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I353e8ca2676bbdceb056f8b2b084bc5102f52c1f,openstack/tripleo-heat-templates,stable/train,1917460-t,I353e8ca2676bbdceb056f8b2b084bc5102f52c1f,Add NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues,MERGED,2021-02-01 14:58:55.000000000,2021-02-05 08:46:39.000000000,2021-02-05 08:44:18.000000000,29,0,0,773408,431cfb979a31f00d7a5c548e466d1b6d343bb434,15,6,1,2,17216,Martin Schuppert,mcschupp,"Add NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues

Add NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues in
nova.conf of the compute. Default 0 corresponds to not set meaning the
legacy limits based on the reported kernel major version will be used.

Conflicts:
  deployment/nova/nova-compute-container-puppet.yaml

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/773267
Change-Id: I353e8ca2676bbdceb056f8b2b084bc5102f52c1f
(cherry picked from commit 67a5a788971c1e2475cd260d91149b7d3d3a2012)
(cherry picked from commit ace2eb097ed221eb5110df9d470306234a6b93ef)
(cherry picked from commit e21b9f8dd0ac758aca1f0a808bfda0b335290a3b)
"
openstack%2Fpython-tripleoclient~master~I2ab141d676088042260c6456b59f22b2ba474e68,openstack/python-tripleoclient,master,,I2ab141d676088042260c6456b59f22b2ba474e68,Quote $@ in ansible-playbook-command.sh,MERGED,2021-01-27 22:31:03.000000000,2021-02-05 08:46:35.000000000,2021-02-05 08:44:41.000000000,1,1,0,772782,0b872060ee1fcc1fb5088163d727464bd703ef5b,8,3,1,1,7144,James Slagle,slagle,"Quote $@ in ansible-playbook-command.sh

$@ should be quoted within the generated ansible-playbook-command.sh
shell script, so that if any of the additional args contain quotes
themselves they will be handled appropriately.

Change-Id: I2ab141d676088042260c6456b59f22b2ba474e68
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I269607d43f45f65efcbce33dd776e7eb4f475311,openstack/tripleo-heat-templates,stable/rocky,,I269607d43f45f65efcbce33dd776e7eb4f475311,Use Ceph-NFS for Manila in scenario004,MERGED,2021-02-04 16:11:35.000000000,2021-02-05 08:45:17.000000000,2021-02-05 08:45:17.000000000,108,0,0,774099,adca6772c4012c999288a89b0e440ecfc0b65512,9,6,1,2,9003,Tom Barron,tbarron,"Use Ceph-NFS for Manila in scenario004

CephFS gatewayed by NFS is more generally suitable for multi-tenant
OpenStack deployments than native CephFS since the latter requires
that VMs belonging to regular members of Keystone projects be exposed
to the Ceph infrastructure and run client software with capabilities
that are not appropriate for untrusted cloud tenants.

Change-Id: I269607d43f45f65efcbce33dd776e7eb4f475311
(cherry picked from commit 63c5a94f83a6d8d9f9cc3e342265002e2e708d81)
(cherry picked from commit 7c2933d3b47d203fa012a6667e61d8377e503a18)
(cherry picked from commit d9414af719142bfa7a619c2d72dd3ebd4360f1a7)
(cherry picked from commit e038ecd2e8433c3927e3d921703c4c897965fecc)
(cherry picked from commit 051a367ae3b9c10a64a717c988be71003d0262df)
"
openstack%2Fpython-tripleoclient~master~I4ac0c2aaf8b6a8f4a9b5e5f40fa68929be32ee38,openstack/python-tripleoclient,master,,I4ac0c2aaf8b6a8f4a9b5e5f40fa68929be32ee38,Write ansible-playbook-command.sh to workdir not playbook_dir,MERGED,2021-01-27 22:45:59.000000000,2021-02-05 08:44:55.000000000,2021-02-05 08:44:55.000000000,1,1,0,772783,8b3fa1bfd7cc6ee27676cfaf7aab6f03ce6408ae,7,3,1,1,7144,James Slagle,slagle,"Write ansible-playbook-command.sh to workdir not playbook_dir

The reproducer command, ansible-playbook-command.sh, should not be
written to playbook_dir, as that directory may not always be writeable.
It is in fact commonly set to /usr/share/ansible/tripleo-playbooks,
which is not writeable by a non-privileged user.

Instead, write the command to workdir, which is either the
config-download directory, or the directory setup for use by ansible
runner.

Change-Id: I4ac0c2aaf8b6a8f4a9b5e5f40fa68929be32ee38
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Ffreezer~master~I75b4025cb207bb0aa59c4325819add1be45cf08e,openstack/freezer,master,improveUTC1,I75b4025cb207bb0aa59c4325819add1be45cf08e,add test_scheduledstate_stop for unit test,MERGED,2021-02-05 05:57:06.000000000,2021-02-05 08:39:39.000000000,2021-02-05 08:38:17.000000000,8,0,0,774194,0ea6b00494cdb19826c0d4124970340dc67ce7a4,7,2,1,1,21387,gecong,gecong,"add test_scheduledstate_stop for unit test

Change-Id: I75b4025cb207bb0aa59c4325819add1be45cf08e
"
openstack%2Fneutron-specs~master~I0427339489140457a2b56911cbabe74082c751c8,openstack/neutron-specs,master,bp/distributed-dhcp-for-ml2-ovs,I0427339489140457a2b56911cbabe74082c751c8,Add spec for Distributed DHCP,MERGED,2020-12-28 02:44:40.000000000,2021-02-05 08:30:16.000000000,2021-02-05 08:28:47.000000000,352,0,128,768588,3f645640d9311a1e353d901fdd54156653559ac0,74,4,14,1,9531,liuyulong,LIU-Yulong,"Add spec for Distributed DHCP

Closes-Bug: #1900934
Change-Id: I0427339489140457a2b56911cbabe74082c751c8
"
openstack%2Fcompute-hyperv~master~I726e426a7274d7c9c6a878afddd23a20ce222a33,openstack/compute-hyperv,master,,I726e426a7274d7c9c6a878afddd23a20ce222a33,rbd volume support,MERGED,2020-04-08 11:38:14.000000000,2021-02-05 08:18:39.000000000,2021-02-05 08:18:39.000000000,20,5,0,718399,81c7cf6c404c98b559ba48974c0cecba682ad396,18,2,5,6,8543,Lucian Petrut,plucian,"rbd volume support

Ceph 16 (Pacific) will support attaching RBD images to Windows
hosts as well as Hyper-V VMs [1].

This patch updates the Hyper-V driver so that it may be able to
consume RBD volumes.

os-brick patch: I56bf09cbd40679eefa5e378c9b36383de89e980c

[1] https://github.com/ceph/ceph/pull/33750

Implements: blueprint rbd-volumes

Change-Id: I726e426a7274d7c9c6a878afddd23a20ce222a33
"
openstack%2Fsushy-tools~master~I5d5e526cedbdd70ea8ee8eaa8fe847baa72fc275,openstack/sushy-tools,master,tox-min-version-parse-comments,I5d5e526cedbdd70ea8ee8eaa8fe847baa72fc275,Move some test requirements to tox.ini,MERGED,2021-01-22 08:49:09.000000000,2021-02-05 07:59:26.000000000,2021-02-05 07:57:39.000000000,5,5,0,771945,0f7fc92a8ac4137b1883687707409d3dd7f90618,13,4,2,2,23851,Riccardo Pittau,elfosardo,"Move some test requirements to tox.ini

Simplify requirements management.

Also increase minversion of tox to support inline comments [1]

https://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17

Change-Id: I5d5e526cedbdd70ea8ee8eaa8fe847baa72fc275
"
openstack%2Fcompute-hyperv~master~I9e5f202bc66eae39dcb7c6b3247012b584a8a618,openstack/compute-hyperv,master,,I9e5f202bc66eae39dcb7c6b3247012b584a8a618,Bump eventlet requirement,MERGED,2021-02-05 07:32:38.000000000,2021-02-05 07:51:06.000000000,2021-02-05 07:51:06.000000000,2,2,0,774200,07c0f8b3c0c1c1ecce7c9fa64c0008e0bea554ed,6,2,1,2,8543,Lucian Petrut,plucian,"Bump eventlet requirement

Nova has raised the eventlet minimum requirement to 0.26.1, which
breaks our lower constraints job.

We're going to use the same constraint.

Change-Id: I9e5f202bc66eae39dcb7c6b3247012b584a8a618
"
openstack%2Frequirements~master~I3eaa71b05031d516078ad1736caac34f1e3046bb,openstack/requirements,master,new-release,I3eaa71b05031d516078ad1736caac34f1e3046bb,update constraint for oslo.messaging to new release 12.7.0,MERGED,2021-02-04 18:13:18.000000000,2021-02-05 07:37:57.000000000,2021-02-05 05:42:54.000000000,1,1,0,774139,2f8d6b267e929e46e0f531da9273fe7f17c93176,12,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.messaging to new release 12.7.0

meta: version: 12.7.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I12a51cd877b28d42bfb3c735ac0744cbcb514250
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I3eaa71b05031d516078ad1736caac34f1e3046bb
"
openstack%2Fkeystone~master~I3b219bde569c5a8001aec0c243027b6881254304,openstack/keystone,master,functional-protection-tests,I3b219bde569c5a8001aec0c243027b6881254304,Use enforce_new_defaults when setting up keystone protection tests,MERGED,2020-10-29 18:31:12.000000000,2021-02-05 06:47:39.000000000,2021-02-05 06:45:20.000000000,1,1,0,760441,5d2f716e4be69e31cc48e326cb024aa18c83bbe9,15,5,2,1,5046,Lance Bragstad,ldbragst,"Use enforce_new_defaults when setting up keystone protection tests

The `keystone.conf [oslo_policy] enforce_new_defaults` option is meant
to help deployments that want to opt into the new policy enforcement
model (with scope checking) but without having to generate override
files. This is the case for devstack and tempest.

We can use this to bypass generating a policy file with just the new
policies for tempest testing.

Change-Id: I3b219bde569c5a8001aec0c243027b6881254304
"
openstack%2Frequirements~master~I661c200364b1ddf101b192d15061c847f6b73d86,openstack/requirements,master,openstack/requirements/constraints,I661c200364b1ddf101b192d15061c847f6b73d86,Updated from generate-constraints,ABANDONED,2021-02-05 06:30:52.000000000,2021-02-05 06:31:47.000000000,,29,29,0,774196,8fbe7e5dbfd3e1f04cacd16d8ccf8e8be4de5e37,2,0,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I661c200364b1ddf101b192d15061c847f6b73d86
"
openstack%2Fopenstack-tempest-skiplist~master~I0dd08585c4449a0c9c2e7ef44cbb45cb9f4f17e6,openstack/openstack-tempest-skiplist,master,bug/1914600,I0dd08585c4449a0c9c2e7ef44cbb45cb9f4f17e6,Adding TrafficOperationsScenarioTest to skip list master,MERGED,2021-02-04 12:52:13.000000000,2021-02-05 06:15:25.000000000,2021-02-04 13:15:31.000000000,3,0,0,774079,7daacdd38e1f2443965b9218be823d3c3e64805e,14,5,1,1,8367,Arx Cruz,arxcruz,"Adding TrafficOperationsScenarioTest to skip list master

The test was removed recently because the ssh timeout issue was fixed,
however, now it's failing to begin traffic on ports 60092 and 8085.

Related-Bug: #1914600
Change-Id: I0dd08585c4449a0c9c2e7ef44cbb45cb9f4f17e6
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ice5e1cfbc158eb6705988706c8625bedb80d7de2,openstack/tripleo-heat-templates,stable/train,dcn-storage-stable/victoria-stable/ussuri-stable/train,Ice5e1cfbc158eb6705988706c8625bedb80d7de2,Deprecate environments/dcn-hci.yaml for dcn-storage.yaml,MERGED,2021-02-03 20:52:32.000000000,2021-02-05 06:05:52.000000000,2021-02-05 06:02:02.000000000,74,5,0,773957,23014772070fa14e78007362d7093f2843a19fb9,16,3,1,4,18002,John Fulton,fultonj,"Deprecate environments/dcn-hci.yaml for dcn-storage.yaml

Rename the file in the environments directory so that it
reflects its expanded scope. This file is used when
deploying storage with DCN sites regardless of if those
sites use HCI. We are now supporting non-HCI DCN sites
with storage so the old name is confusing.

Old name : dcn-hci.yaml
New name : dcn-storage.yaml

dcn-hci.yaml is depreacated but will remain in the environments
directory for backwards compatibility. dcn-hci.yaml will be
removed during the X cycle.

Change-Id: Ice5e1cfbc158eb6705988706c8625bedb80d7de2
(cherry picked from commit d4ae25e2fd53d1af59fa57947843474cf5c2887a)
(cherry picked from commit 8d0638ecac61681c54b657c02bf140401a416b3a)
"
openstack%2Ftripleo-quickstart-extras~master~I8ae3f956b8ddf485f423403faa5b1fcc46409d8b,openstack/tripleo-quickstart-extras,master,ironic_network_interfaces,I8ae3f956b8ddf485f423403faa5b1fcc46409d8b,Add ironic_network_interface opts undercloud.conf.j2,MERGED,2020-10-23 14:25:52.000000000,2021-02-05 06:02:37.000000000,2021-02-05 06:02:37.000000000,20,0,0,759433,654484103e7cf5262e639d9091dd48a43493d5ed,53,7,8,1,24245,Harald Jensås,harald.jensas,"Add ironic_network_interface opts undercloud.conf.j2

Adds options:
  ironic_default_network_interface
  ironic_enabled_network_interfaces

Change-Id: I8ae3f956b8ddf485f423403faa5b1fcc46409d8b
"
openstack%2Ftripleo-validations~stable%2Ftrain~I73d2de81dfd0eba89aaee195f6f0d18adb9d364a,openstack/tripleo-validations,stable/train,__init__dot_py-stable/train,I73d2de81dfd0eba89aaee195f6f0d18adb9d364a,Remove useless __init__.py file in library,MERGED,2021-01-21 11:26:45.000000000,2021-02-05 06:02:33.000000000,2021-02-05 06:02:33.000000000,0,0,0,771797,8274f9c5681d5cc0b99d9d58b3159b69ad1f98a1,14,7,1,1,11491,Gael Chamoulaud,gchamoul,"Remove useless __init__.py file in library

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I73d2de81dfd0eba89aaee195f6f0d18adb9d364a
(cherry picked from commit 949cc1c18ea7c166b999fd0375f61b62f7e02340)
(cherry picked from commit 3866628db31da0b2fb6d2a05a58422d283beee80)
(cherry picked from commit 14bbbbce81916c55f983e87be736eec03e040d6f)
"
openstack%2Ftripleo-quickstart-extras~master~I477644b085bd77407884bce25947be159bfc5c31,openstack/tripleo-quickstart-extras,master,ci/validation,I477644b085bd77407884bce25947be159bfc5c31,add validations playbook for VF component testing,MERGED,2020-09-30 19:47:57.000000000,2021-02-05 06:00:56.000000000,2021-02-05 06:00:56.000000000,34,554,9,755382,9fdfaa1250cd9ab6cba8592bf8c271014ed54cfe,129,8,34,22,16515,mbu,matbu,"add validations playbook for VF component testing

* Removed legacy tripleo-validations role. The new roles will be
  stored in tripleo-validations repo itself
* Removed legacy playbooks tripleo-validations
* Update multinode-undercloud playbook
* Add validations playbook

Change-Id: I477644b085bd77407884bce25947be159bfc5c31
"
openstack%2Frequirements~master~I52189c3792a5302531aa3b3e744a77f34682585d,openstack/requirements,master,new-release,I52189c3792a5302531aa3b3e744a77f34682585d,update constraint for oslo.policy to new release 3.6.1,ABANDONED,2021-02-02 17:39:34.000000000,2021-02-05 05:53:23.000000000,,1,1,0,773779,24712d38d91e3599b0e1c03ca6c3d30a20315fc0,12,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.policy to new release 3.6.1

meta: version: 3.6.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Commit: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Change-Id: Ic312679976481e3082f3523e2c0058b02dd77bf8
meta: release:Code-Review+1: Lance Bragstad <lbragstad@redhat.com>
meta: release:Code-Review+1: Ghanshyam <gmann@ghanshyammann.com>
meta: release:Code-Review+1: Oleg Bondarev <oleg.bondarev@huawei.com>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I52189c3792a5302531aa3b3e744a77f34682585d
"
openstack%2Fkeystone~master~I42f0abc2ddf8c53239d5098d5f32b667314b942d,openstack/keystone,master,ignore_oslodb_warning,I42f0abc2ddf8c53239d5098d5f32b667314b942d,Ignore oslo.db deprecating sqlalchemy-migrate warning,MERGED,2020-10-31 00:36:49.000000000,2021-02-05 05:44:39.000000000,2021-02-05 05:43:03.000000000,3,0,2,760678,11cfc38df1d3f24e8f1b19f58372f6b8386270d9,16,4,2,1,11816,mike_mp@zzzcomputing.com,zzzeek,"Ignore oslo.db deprecating sqlalchemy-migrate warning

In I59335b4f318bae2e29ab139cdea089a4d6e14305, oslo.db
is now emitting deprecation warnings for SQLAlchemy-migrate
functions.  This breaks Keystone tests which raise on
DeprecationWarning, so add to the filters.

Change-Id: I42f0abc2ddf8c53239d5098d5f32b667314b942d
"
openstack%2Fnova~stable%2Fussuri~Ica180165184b319651d22fe77e076af036228860,openstack/nova,stable/ussuri,bug/1896463,Ica180165184b319651d22fe77e076af036228860,Set instance host and drop migration under lock,MERGED,2021-01-14 09:56:31.000000000,2021-02-05 05:43:58.000000000,2021-02-05 05:42:16.000000000,40,37,0,770769,3b497ad7d41bc84ec50124c4d55f4138c4878751,23,3,2,4,9708,Balazs Gibizer,gibi,"Set instance host and drop migration under lock

The _update_available_resources periodic makes resource allocation
adjustments while holding the COMPUTE_RESOURCE_SEMAPHORE based on the
list of instances assigned to this host of the resource tracker and
based on the migrations where the source or the target host is the host
of the resource tracker. So if the instance.host or the migration
context changes without holding the COMPUTE_RESOURCE_SEMAPHORE while
the _update_available_resources task is running there there will be data
inconsistency in the resource tracker.

This patch makes sure that during evacuation the instance.host and the
migration context is changed while holding the semaphore.

Conflicts:
      nova/tests/unit/compute/test_compute_mgr.py due to
  I147bf4d95e6d86ff1f967a8ce37260730f21d236 is not in stable/ussuri

Change-Id: Ica180165184b319651d22fe77e076af036228860
Closes-Bug: #1896463
(cherry picked from commit 7675964af81472f3dd57db952d704539e61a3e6e)
(cherry picked from commit 3ecc098d28addd8f3e1da16b29940f4337209e62)
"
openstack%2Fpuppet-horizon~stable%2Fqueens~I121a4ad2070cfef173c572a3d25788abbbf16989,openstack/puppet-horizon,stable/queens,queens/bug1813786,I121a4ad2070cfef173c572a3d25788abbbf16989,"update ""DROPDOWN_MAX_ITEMS"" horizon parameter as a variable",MERGED,2020-04-24 16:20:12.000000000,2021-02-05 05:09:26.000000000,2021-02-05 05:08:22.000000000,15,1,0,722930,83b6d1b325f2223c1f096b4da022ce4ec944b2d3,16,6,1,4,8648,Radomir Dopieralski,thesheep,"update ""DROPDOWN_MAX_ITEMS"" horizon parameter as a variable

""DROPDOWN_MAX_ITEMS"" horizon parameter was hardcoded in a ruby
template. Hence, it was not possible to manage it using heat.
This fix will allow user to manage ""DROPDOWN_MAX_ITEMS"" from
heat template.

Change-Id: I121a4ad2070cfef173c572a3d25788abbbf16989
Closes-Bug: #1813786
(cherry picked from commit 004142d577a1388244b19b2869797a4653b46bed)
"
openstack%2Fneutron~master~I5b5cf563f0c3d6ea352303f76323177cffc57c6e,openstack/neutron,master,bug-1912651,I5b5cf563f0c3d6ea352303f76323177cffc57c6e,Fix losses of ovs flows when ovs is restarted,MERGED,2021-01-29 18:26:23.000000000,2021-02-05 04:49:51.000000000,2021-02-05 01:58:11.000000000,7,3,3,773165,412160b97fc398f105c3f7386b928eeec2d9e60a,53,5,5,1,13095,Marc Gariépy,mgariepy,"Fix losses of ovs flows when ovs is restarted

Reinitialize conj_ip_manager when OVS is restarted.

Closes-Bug: #1912651
Change-Id: I5b5cf563f0c3d6ea352303f76323177cffc57c6e
"
openstack%2Ffreezer~master~I850f92470380de21b91406eda28ca01339b61d43,openstack/freezer,master,improveUTC,I850f92470380de21b91406eda28ca01339b61d43,add test_stopstate_abort for unit test,MERGED,2021-02-05 03:07:13.000000000,2021-02-05 04:23:08.000000000,2021-02-05 04:21:58.000000000,8,0,0,774188,50885c1041c5ad4fa304d84dc009ba91c8801545,7,2,1,1,21387,gecong,gecong,"add test_stopstate_abort for unit test

Change-Id: I850f92470380de21b91406eda28ca01339b61d43
"
openstack%2Ftempest~master~I78076ebb0fc955662b5ee3f67938f9fc939882d3,openstack/tempest,master,bp/tempest-scenario-manager-stable,I78076ebb0fc955662b5ee3f67938f9fc939882d3,Make _log_console_output non-private,MERGED,2021-01-29 12:48:09.000000000,2021-02-05 04:14:53.000000000,2021-02-05 04:12:33.000000000,15,7,7,773019,1b0cddc90df0d0736e1d7ae63feef3b801ffdbe1,31,7,6,4,30742,Soniya Murlidhar Vyas,svyas,"Make _log_console_output non-private

_log_console_output is made public by this commit as
the tempest.scenario.manager interface is meant to be
consumed by tempest plugins.

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: I78076ebb0fc955662b5ee3f67938f9fc939882d3
"
openstack%2Fos-brick~master~Ied220a5a5cb61afb3e76d5e61594bf38bffa89cc,openstack/os-brick,master,bug/1914671,Ied220a5a5cb61afb3e76d5e61594bf38bffa89cc,fcsan: fix a potential racing when resizing,ABANDONED,2021-02-05 00:50:15.000000000,2021-02-05 03:11:40.000000000,,9,0,0,774180,85da7dc3e551f33876d27ccee816574d9364edc6,3,0,1,1,29071,norman shen,ushen,"fcsan: fix a potential racing when resizing

multipathd reconfigure might re-introduce previous flushed
devices which might cause dangling dm on host

Change-Id: Ied220a5a5cb61afb3e76d5e61594bf38bffa89cc
Related-Bug: #1914671
"
openstack%2Ffreezer~master~I1abb4eca21a19ee810cf3017116eaf446b94af8b,openstack/freezer,master,,I1abb4eca21a19ee810cf3017116eaf446b94af8b,add test_stopstate_stop for unit test,MERGED,2021-02-05 01:48:14.000000000,2021-02-05 02:56:37.000000000,2021-02-05 02:55:08.000000000,14,0,0,774183,04023a00920e000c7d598677214454494b037575,8,2,2,1,21387,gecong,gecong,"add test_stopstate_stop for unit test

Change-Id: I1abb4eca21a19ee810cf3017116eaf446b94af8b
"
openstack%2Fpuppet-openstack-integration~stable%2Fqueens~I06f40a32038bd9b76d174ef2b9c3635c7a25350f,openstack/puppet-openstack-integration,stable/queens,xenial-beaker-nonvoting,I06f40a32038bd9b76d174ef2b9c3635c7a25350f,Make puppet-openstack-beaker-xenial non-voting,MERGED,2021-02-02 14:32:19.000000000,2021-02-05 02:52:46.000000000,2021-02-05 02:52:46.000000000,1,0,0,773693,8ee9d6a6e35a121bef62e9a559e647595deed626,7,6,1,1,9816,Takashi Kajinami,kajinamit,"Make puppet-openstack-beaker-xenial non-voting

This change makes the broken job non-voting to unblock backports to
queens. We have integration tests and beaker tests for CentOS so basic
functionality is tested by the other jobs.

Change-Id: I06f40a32038bd9b76d174ef2b9c3635c7a25350f
"
openstack%2Frequirements~master~I95f27566440c659d6504da156bdaed69836c3a91,openstack/requirements,master,new-release,I95f27566440c659d6504da156bdaed69836c3a91,update constraint for sushy to new release 3.6.1,MERGED,2021-02-04 12:08:01.000000000,2021-02-05 02:47:27.000000000,2021-02-05 02:45:17.000000000,1,1,0,774074,2b4c67254e2175d2e7b9cf0114f11fbc690606ea,12,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for sushy to new release 3.6.1

meta: version: 3.6.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Bill Dodd <billdodd@gmail.com>
meta: release:Commit: Bill Dodd <billdodd@gmail.com>
meta: release:Change-Id: I3a9da98c363fc9322d6f13ce600be1ebfd5b7ed6
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+1: Julia Kreger <juliaashleykreger@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I95f27566440c659d6504da156bdaed69836c3a91
"
openstack%2Fswift~master~I3315f349e5b965cecadc78af9e1c66c3f3bcfe83,openstack/swift,master,delete_db_keeps_root_path,I3315f349e5b965cecadc78af9e1c66c3f3bcfe83,Do not delete root_path on ContainerBroker.delete_db,MERGED,2021-02-03 05:44:15.000000000,2021-02-05 02:47:17.000000000,2021-02-05 02:45:20.000000000,222,32,25,773832,6c62c8d07254fc28f6d3e1cc8a3837a16b02e57d,19,3,3,5,7233,Matthew Oliver,mattoliverau,"Do not delete root_path on ContainerBroker.delete_db

When a shard is deleted all the sysmeta is deleted along with it. But
this is problematic as we support dealing with misplaced objects in
deleted shards. Which is required.

Currently, when we deal with misplaced objects in a shard broker
marked as deleted we push the objects into a handoff broker and set
this broker's root_path attribute from the deleted shard.
Unfortunately, root_path is itself stored in sysmeta, which has been
removed. So the deleted broker falls back to using its own account and
container in the root_path.  This in turn gets pushed to the shard
responsible for the misplaced objects and because these objects are
pushed by replication the root_path meta has a newer timestamp,
replacing the shard's pointer to the root.

As a consequence listings all still works because it's root driven,
but the shard will never pull the latest shard range details from the
_real_ root container during audits.

This patch contains a probe test that demonstrates this issue and also
fixes it by making 'X-Container-Sysmeta-Shard-Quoted-Root' and
'X-Container-Sysmeta-Shard-Root' whitelisted from being cleared on
delete. Meaning a deleted shard retains it's knowledge of root so it
can correctly deal with misplaced objects.

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Change-Id: I3315f349e5b965cecadc78af9e1c66c3f3bcfe83
"
openstack%2Fkeystone~master~Ic65d2fd6ce7215b4a47a6fb41b9cbf991f27773b,openstack/keystone,master,policy-json-to-yaml,Ic65d2fd6ce7215b4a47a6fb41b9cbf991f27773b,[goal] Deprecate the JSON formatted policy file,MERGED,2020-11-25 20:35:48.000000000,2021-02-05 02:01:04.000000000,2021-02-05 01:58:21.000000000,68,21,0,764240,256160b849e49d819f6abd492a99989dec285ae7,37,3,9,13,8556,Ghanshyam,ghanshyam,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file''
config option from 'policy.json' to 'policy.yaml' with
upgrade checks.

2. Deprecate the JSON formatted policy file on the project side
via warning in doc and releasenotes.

Also replace policy.json to policy.yaml ref from doc and tests.

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: Ic65d2fd6ce7215b4a47a6fb41b9cbf991f27773b
"
openstack%2Fnova~stable%2Fussuri~Id91d2e817ef6bd21124bb840bdb098054e9753b8,openstack/nova,stable/ussuri,bug/1907522,Id91d2e817ef6bd21124bb840bdb098054e9753b8,Reproduce bug 1907522 in functional test,MERGED,2021-02-03 15:41:00.000000000,2021-02-05 02:00:43.000000000,2021-02-05 01:58:48.000000000,111,0,0,773930,f67627b44c298159206abe86335dd9cf26f15191,13,4,1,2,9708,Balazs Gibizer,gibi,"Reproduce bug 1907522 in functional test

Cross cell resize does not support neutron ports with resource request
as nova fails to send a proper port binding to neutron. This causes the
migration to fail. However we should simply not allow the migration to
go cross cell if the server has such ports.

This patch adds a functional test to reproduce the problem

On the stable branches Ie15ec8299ae52ae8f5334d591ed3944e9585cf71 was
never done and therefore bug 1907511 visible first during the
reproduction (this bug does not exists on master due to the above
linked change). But if 1907511 has fixed then 1907522 would be visible.
Our incoming bugfix solves fixes both bug at the same time. This means
that the backport is not clean, the reproduction test changed to assert
bug 1907511 instead of bug 1907522

Change-Id: Id91d2e817ef6bd21124bb840bdb098054e9753b8
Related-Bug: #1907522
Related-Bug: #1907511
(cherry picked from commit f96ade2726c4ff91690064e9ae228fa12e618540)
(cherry picked from commit 7366e3c375532f5c4320d8f811106688b1f50813)
"
openstack%2Ffreezer~master~Ibf1b42c7c41aacb4f5d5cb8d2699cb069436f230,openstack/freezer,master,unittest1,Ibf1b42c7c41aacb4f5d5cb8d2699cb069436f230,add test_terminate_subprocess1 for unit test,MERGED,2021-02-05 00:23:28.000000000,2021-02-05 01:38:28.000000000,2021-02-05 01:36:50.000000000,13,0,0,774177,6e0bed59269f1ee6a978b5a6d8299024d8c48f10,7,2,1,1,21387,gecong,gecong,"add test_terminate_subprocess1 for unit test

Change-Id: Ibf1b42c7c41aacb4f5d5cb8d2699cb069436f230
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Icf9faff31d83f0ea77d00a59a53d6ad36b06da4f,openstack/tripleo-ansible,stable/train,multipath-v2,Icf9faff31d83f0ea77d00a59a53d6ad36b06da4f,Add tripleo_multipathd role,MERGED,2020-12-01 18:51:29.000000000,2021-02-05 01:38:13.000000000,2021-02-05 01:34:16.000000000,1034,0,0,764993,18868f4e3978a7befe22fe97083d02169c1409e9,55,4,14,28,21129,Alan Bishop,ASBishop,"Add tripleo_multipathd role

A new tripleo_multipathd role is responsible for preparing and
configuring an overcloud node to run multipathd in a container.
- Host prep tasks ensure any existing multipathd service is disabled
  on the host.
- /etc/multipath.conf configuration is controlled via ansible variables
  supplied by tripleo's OS::TripleO::Services::Multipathd service.
- The multipathd container is restarted whenever the configuration
  changes.

NOTE(stable/train):
- Use tripleo-module-load role instead of tripleo_module_load
- Add molecule/playbook.yml by copying converge.yaml (for autodoc)
- Use canned preexisting_multipath.conf
- Specify the verifier use ansible-lint (flake8 is an ""unallowed value"")
- Fix additional lint errors

Change-Id: Icf9faff31d83f0ea77d00a59a53d6ad36b06da4f
(cherry picked from commit 1af2cde366e42ab8509b4cd2a77a3e8058e175df)
(cherry picked from commit db6541dfb5b6eac4f80a7b8d6e72a1da6f744793)
"
openstack%2Frequirements~stable%2Ftrain~I8718c40cdb95258ea7553ac70c1fd632daf408b7,openstack/requirements,stable/train,new-release,I8718c40cdb95258ea7553ac70c1fd632daf408b7,update constraint for horizon to new release 16.2.1,MERGED,2021-02-04 10:58:19.000000000,2021-02-05 01:23:45.000000000,2021-02-05 01:23:45.000000000,1,1,0,774064,62467c0570ebca99dfaff2f94bdbe0306a7ba070,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for horizon to new release 16.2.1

meta: version: 16.2.1
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Ia2c366658bdd79ec976f90d3fb79fb8362e225d1
meta: release:Code-Review+1: Vishal Manchanda <manchandavishal143@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I8718c40cdb95258ea7553ac70c1fd632daf408b7
"
openstack%2Frequirements~stable%2Ftrain~Icb8a17764e56c71be8f5681905e5d3ab3889f84f,openstack/requirements,stable/train,new-release,Icb8a17764e56c71be8f5681905e5d3ab3889f84f,update constraint for neutron to new release 15.3.2,MERGED,2021-02-04 11:14:40.000000000,2021-02-05 01:23:41.000000000,2021-02-05 01:23:41.000000000,1,1,0,774066,c188a5b2ba678a992e8f9bb717f95819c78af8b2,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for neutron to new release 15.3.2

meta: version: 15.3.2
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I393fa514bcac898f05fba6ffedaefdf99bac7249
meta: release:Code-Review+1: Thomas Bachman <bachman@noironetworks.com>
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Icb8a17764e56c71be8f5681905e5d3ab3889f84f
"
openstack%2Fhorizon~master~I11d804ae71e57119565d53e4a0a54a609e7139d2,openstack/horizon,master,add_mtu,I11d804ae71e57119565d53e4a0a54a609e7139d2,Allow specifying mtu during creating network,ABANDONED,2020-04-17 02:41:14.000000000,2021-02-05 00:35:15.000000000,,13,2,0,720630,0d6b8bdb141112c0726e6d91d8fc3f4b1a2ec50e,5,3,1,3,29071,norman shen,ushen,"Allow specifying mtu during creating network

Allow choosing an mtu during creating network.

Change-Id: I11d804ae71e57119565d53e4a0a54a609e7139d2
"
openstack%2Fnova~stable%2Ftrain~I48f57082edaef3ec4722bd31ce29a90b94d32523,openstack/nova,stable/train,bug/1881944,I48f57082edaef3ec4722bd31ce29a90b94d32523,Use cell targeted context to query BDMs for metadata,MERGED,2021-01-19 14:55:43.000000000,2021-02-05 00:14:55.000000000,2021-02-05 00:12:22.000000000,17,11,0,771407,4839d41fc0c084fe56106c879c468f1553e8e780,16,3,1,2,9708,Balazs Gibizer,gibi,"Use cell targeted context to query BDMs for metadata

The metadata service supports a multicell deployment in a configuration
where the nova-api service implements the metadata API. In this case the
metadata query needs to be cell targeted. This was partly implemented
already. The instance itself is queried from the cell DB properly.
However the BDM data used the non targeted context resulting in an empty
BDM returned by the metadata service.

Functional reproduction test is not added as I did not find a way to
have a cell setup in the functional test that reproduce the problem. I
reproduced the bug and tested the fix in a devstack.

Change-Id: I48f57082edaef3ec4722bd31ce29a90b94d32523
Closes-Bug: #1881944
(cherry picked from commit 1390eecf8dec4c3b022a9b1e259a908197566738)
(cherry picked from commit 9a5b6249d65c96e387a9eb0ecdefcc2057c21869)
(cherry picked from commit c727cfc36c9d352102e04b9c94bebc7e25a1ab97)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I353e8ca2676bbdceb056f8b2b084bc5102f52c1f,openstack/tripleo-heat-templates,stable/victoria,1917460-v,I353e8ca2676bbdceb056f8b2b084bc5102f52c1f,Add NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues,MERGED,2021-02-01 14:51:01.000000000,2021-02-04 23:58:37.000000000,2021-02-04 23:56:46.000000000,30,0,0,773404,ace2eb097ed221eb5110df9d470306234a6b93ef,10,6,2,2,17216,Martin Schuppert,mcschupp,"Add NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues

Add NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues in
nova.conf of the compute. Default 0 corresponds to not set meaning the
legacy limits based on the reported kernel major version will be used.

Conflicts:
  deployment/nova/nova-compute-container-puppet.yaml

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/772805
Change-Id: I353e8ca2676bbdceb056f8b2b084bc5102f52c1f
(cherry picked from commit 67a5a788971c1e2475cd260d91149b7d3d3a2012)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I353e8ca2676bbdceb056f8b2b084bc5102f52c1f,openstack/tripleo-heat-templates,stable/ussuri,1917460-u,I353e8ca2676bbdceb056f8b2b084bc5102f52c1f,Add NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues,MERGED,2021-02-01 14:55:01.000000000,2021-02-04 23:58:29.000000000,2021-02-04 23:56:54.000000000,30,0,0,773406,e21b9f8dd0ac758aca1f0a808bfda0b335290a3b,9,6,1,2,17216,Martin Schuppert,mcschupp,"Add NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues

Add NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues in
nova.conf of the compute. Default 0 corresponds to not set meaning the
legacy limits based on the reported kernel major version will be used.

Conflicts:
  deployment/nova/nova-compute-container-puppet.yaml

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/773266
Change-Id: I353e8ca2676bbdceb056f8b2b084bc5102f52c1f
(cherry picked from commit 67a5a788971c1e2475cd260d91149b7d3d3a2012)
(cherry picked from commit ace2eb097ed221eb5110df9d470306234a6b93ef)
"
openstack%2Fcharm-neutron-openvswitch~master~I06db4d2165a58c99e01f2cea3d771363a3ed3062,openstack/charm-neutron-openvswitch,master,bug/1830746,I06db4d2165a58c99e01f2cea3d771363a3ed3062,Set the memlock rlimit to infinity for containers,ABANDONED,2020-12-04 08:21:58.000000000,2021-02-04 23:50:19.000000000,,1,0,0,765493,78b5aa79eb091314ee25ab94b3ffe5e39cdda49a,13,4,1,1,24824,Dmitrii Shcherbakov,dmitriis,"Set the memlock rlimit to infinity for containers

An issue with starting ovs-vswitchd in an unprivileged LXD container was
encountered on a machine with a large amount of cores:

* ovs-vswitchd started via ovs-ctl configures memory locking for all
memory allocations by calling mlockall(MCL_CURRENT | MCL_FUTURE);
* there are 2 generic threads per process + 1 pthread per core
started by ovs-vswitchd;
* each thread needs around 1.5 MiB of RSS in an idle state;
* Memory locking configured that way affects mmap(2), sbrk(2) system
calls and any malloc(3) calls done in any threads of the ovs-vswitchd
process;
* Any memory allocations (when pages actually get dirty) count toward
RLIMIT_MEMLOCK;
* RLIMIT_MEMLOCK is only ignored for processes that have CAP_IPC_LOCK
in the initial user namespace which is not the case for unprivileged
container root users;
* Resource limits are preserved across forks/clones and execs:
process creation in the kernel uses a common code path which preserves
rlimits stored in the signal_struct and upon exec the limits are
kept as well. Therefore, when LXD uses clone(2) to create a container
init process, resource limits are inherited from LXD;
* rlimits can be per-process, per-uid or mixed. RLIMIT_MEMLOCK is mixed
and uses per-process accounting for non-SHM memory and per-UID
accounting for SHM memory;
* rlimits are not hierarchical and are not set via cgroups;
* Before systemd 237-3ubuntu10.43 on Bionic, the default RLIMIT_MEMLOCK
value was set to 16 MiB. An upstream patch applied with
237-3ubuntu10.43 bumped it to 64 MiB (LP: #1830746);
* this is not enough for ovs-vswitchd with a large amount of threads.

This change sets the RLIMIT_MEMLOCK value to unlimited in the LXD
profile shipped with the charm. If we ever apply memory limits via a
LXD profile, those will limit the amount of RAM a container can allocate
and lock.

Change-Id: I06db4d2165a58c99e01f2cea3d771363a3ed3062
Closes-Bug: #1906280
"
openstack%2Fcharm-hacluster~stable%2F20.10~Ie88982fe987b742082a978ff2488693d0154123b,openstack/charm-hacluster,stable/20.10,bug/1903745,Ie88982fe987b742082a978ff2488693d0154123b,Increase default TimeoutStopSec value,ABANDONED,2021-01-05 15:31:47.000000000,2021-02-04 23:48:40.000000000,,7,2,0,769384,8ed1254418a9e57c1664775ac41d6d35dbe58723,4,2,1,2,8992,Billy Olsen,billy-olsen,"Increase default TimeoutStopSec value

The charm installs systemd overrides of the TimeoutStopSec and
TimeoutStartSec parameters for the corosync and pacemaker services.
The default timeout stop parameter is changed to 60s, which is a
significant change from the package level default of 30 minutes. The
pacemaker systemd default is 30 minutes to allow time for resources
to safely move off the node before shutting down. It can take some
time for services to migrate away under a variety of circumstances (node
usage, the resource, etc).

This change increases the timeout to 10 minutes by default, which should
prevent things like unattended-upgrades from causing outages due
services not starting because systemd timed out (and an instance was
already running).

Change-Id: Ie88982fe987b742082a978ff2488693d0154123b
Closes-Bug: #1903745
(cherry picked from commit 9645aefdec0c43588ddcc4bb8b846d4a694e632c)
"
openstack%2Fnova~stable%2Ftrain~I29d6f4a78c0206385a550967ce244794e71cef6d,openstack/nova,stable/train,bug/1879878,I29d6f4a78c0206385a550967ce244794e71cef6d,Move revert resize under semaphore,NEW,2020-09-11 17:20:55.000000000,2021-02-04 23:47:22.000000000,,63,45,0,751369,66184692cca3239ea750d258e5659e149d56526d,24,7,3,7,15334,Stephen Finucane,sfinucan,"Move revert resize under semaphore

As discussed in change I26b050c402f5721fc490126e9becb643af9279b4, the
resource tracker's periodic task is reliant on the status of migrations
to determine whether to include usage from these migrations in the
total, and races between setting the migration status and decrementing
resource usage via 'drop_move_claim' can result in incorrect usage.
That change tackled the confirm resize operation. This one changes the
revert resize operation, and is a little trickier due to kinks in how
both the same-cell and cross-cell resize revert operations work.

For same-cell resize revert, the 'ComputeManager.revert_resize'
function, running on the destination host, sets the migration status to
'reverted' before dropping the move claim. This exposes the same race
that we previously saw with the confirm resize operation. It then calls
back to 'ComputeManager.finish_revert_resize' on the source host to boot
up the instance itself. This is kind of weird, because, even ignoring
the race, we're marking the migration as 'reverted' before we've done
any of the necessary work on the source host.

The cross-cell resize revert splits dropping of the move claim and
setting of the migration status between the source and destination host
tasks. Specifically, we do cleanup on the destination and drop the move
claim first, via 'ComputeManager.revert_snapshot_based_resize_at_dest'
before resuming the instance and setting the migration status on the
source via
'ComputeManager.finish_revert_snapshot_based_resize_at_source'. This
would appear to avoid the weird quirk of same-cell migration, however,
in typical weird cross-cell fashion, these are actually different
instances and different migration records.

The solution is once again to move the setting of the migration status
and the dropping of the claim under 'COMPUTE_RESOURCE_SEMAPHORE'. This
introduces the weird setting of migration status before completion to
the cross-cell resize case and perpetuates it in the same-cell case, but
this seems like a suitable compromise to avoid attempts to do things
like unplugging already unplugged PCI devices or unpinning already
unpinned CPUs. From an end-user perspective, instance state changes are
what really matter and once a revert is completed on the destination
host and the instance has been marked as having returned to the source
host, hard reboots can help us resolve any remaining issues.

Conflicts:
  nova/compute/manager.py
  nova/compute/resource_tracker.py
  nova/tests/unit/compute/test_compute_mgr.py

NOTE(stephenfin): The bulk of the conflicts are due to the absence of
various cross-cell resize related patches. The only exception is the
conflict in 'nova/compute/resource_tracker.py', which is due to the
absence of change Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9 (""Use fair
locks in resource tracker"") which we can't backport since it requires a
feature only found in newer versions of 'oslo.concurrency' and mandates
a lower constraint bump.

Change-Id: I29d6f4a78c0206385a550967ce244794e71cef6d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1879878
(cherry picked from commit dc9c7a5ebf11253f86127238d33dff7401465155)
(cherry picked from commit 79a467e1cfa05b1c281e592e69549716c11892e5)
"
openstack%2Fopenstack-helm-infra~master~I4f7913967185dd52d4301c218450cfad9d0e2b2b,openstack/openstack-helm-infra,master,change-769572-17,I4f7913967185dd52d4301c218450cfad9d0e2b2b,[CEPH] Uplift from Nautilus to Octopus release,MERGED,2021-01-06 17:41:47.000000000,2021-02-04 23:35:22.000000000,2021-02-04 23:33:34.000000000,86,75,44,769572,da289c78cb8500525d5445e5cc2e0c4a113a7d21,90,8,30,23,28372,chinasubbareddy mallavarapu,chinasubbareddy,"[CEPH] Uplift from Nautilus to Octopus release

This is to uplift ceph charts from 14.X release to 15.X

Change-Id: I4f7913967185dd52d4301c218450cfad9d0e2b2b
"
openstack%2Fopenstack-helm-infra~master~I380a55b93e7aabb606e713c21d71a383fef78b3f,openstack/openstack-helm-infra,master,,I380a55b93e7aabb606e713c21d71a383fef78b3f,Elasticsearch: Make templates job more generic,MERGED,2021-02-03 18:10:23.000000000,2021-02-04 23:24:34.000000000,2021-02-04 23:22:40.000000000,86,179,5,773977,0ab71ae35cae80457c8ed9e8f33d8ba35a5ca537,17,5,4,6,30777,Steven Fitzpatrick,sf280x,"Elasticsearch: Make templates job more generic

This change updates the logic in our create-elasticsearch-templates
job to support creation of a variety of different API objects.

Change-Id: I380a55b93e7aabb606e713c21d71a383fef78b3f
"
openstack%2Fcharm-mysql-innodb-cluster~master~I5abc14d8c6793a18fe5a95c66e9f0a3c5d46d5fe,openstack/charm-mysql-innodb-cluster,master,sync-for-21-01,I5abc14d8c6793a18fe5a95c66e9f0a3c5d46d5fe,Rebuild to use charm-tools pre 2.8 release,MERGED,2021-02-02 17:10:27.000000000,2021-02-04 22:59:24.000000000,2021-02-04 22:59:24.000000000,1,1,0,773755,e84d86289072dbb57cb7275fe4c3be7c1e759f05,10,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Rebuild to use charm-tools pre 2.8 release

Reverting to an earlier version of charm-tools to
resolve some building issues seen with latest 2.8.2
version.

Change-Id: I5abc14d8c6793a18fe5a95c66e9f0a3c5d46d5fe
"
openstack%2Fnova~stable%2Ftrain~Ifd19f636f58ae353d912bde57cba2cd0a29a9baa,openstack/nova,stable/train,fix_hacking_test-stable/train,Ifd19f636f58ae353d912bde57cba2cd0a29a9baa,Fix a hacking test,MERGED,2020-12-19 08:20:51.000000000,2021-02-04 22:57:53.000000000,2021-02-04 22:55:41.000000000,1,1,0,767793,b6cc7e9aacf8d66a6a881ed698f36bb9e4443c0d,14,4,2,1,7634,Takashi Natsume,natsumet,"Fix a hacking test

In test_useless_assertion,
the useless_assertion method should be checked instead of
nonexistent_assertion_methods_and_attributes.

Change-Id: Ifd19f636f58ae353d912bde57cba2cd0a29a9baa
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
(cherry picked from commit 117508129461436e13c148bb068b0775d67e85d3)
(cherry picked from commit f4d62e1a0b77f9611a3be8427adafd96caf24bb1)
(cherry picked from commit 7562e64dee54a36162c3c181214aa269068f1712)
"
openstack%2Fnova~stable%2Fussuri~Ib1e3798992696cf5f271b20bc731b8b766d173ac,openstack/nova,stable/ussuri,bug/1900731,Ib1e3798992696cf5f271b20bc731b8b766d173ac,[doc]: Fix glance image_metadata link,MERGED,2020-11-09 18:20:15.000000000,2021-02-04 22:44:27.000000000,2021-02-04 22:40:32.000000000,3,3,0,761977,97330d65e173e97c600b4ab9206cd2dd4499e95a,14,6,2,3,17685,Elod Illes,elod.illes,"[doc]: Fix glance image_metadata link

Change-Id: Ib1e3798992696cf5f271b20bc731b8b766d173ac
Closes-Bug: #1900731
(cherry picked from commit f5a68826c7820f571de5bb02c8a516ab89ec641b)
(cherry picked from commit a919cc0cbd7d0929befec4de957ff203be366ae4)
"
openstack%2Fneutron~master~Iad52edda8c737585ff2fca59c032be38ba673d57,openstack/neutron,master,fix_todo,Iad52edda8c737585ff2fca59c032be38ba673d57,Use constants from neutron-lib,MERGED,2021-02-02 13:16:22.000000000,2021-02-04 22:42:55.000000000,2021-02-04 22:39:12.000000000,4,6,0,773683,6ffeb0d623975071acfa406b0bf54cfd780ee3a7,35,4,2,3,32667,Mamatisa Nurmatov,isabek,"Use constants from neutron-lib

Constants were released in neutron-lib 2.8.0

Change-Id: Iad52edda8c737585ff2fca59c032be38ba673d57
"
openstack%2Fnova~stable%2Fussuri~Ie15ec8299ae52ae8f5334d591ed3944e9585cf71,openstack/nova,stable/ussuri,bug/1904181,Ie15ec8299ae52ae8f5334d591ed3944e9585cf71,Warn when starting services with older than N-1 computes,MERGED,2021-01-14 09:25:14.000000000,2021-02-04 22:42:52.000000000,2021-02-04 22:39:27.000000000,244,1,3,770764,75bac345d5d579591f6f7f047f0c8f68b4e89002,21,3,3,12,9708,Balazs Gibizer,gibi,"Warn when starting services with older than N-1 computes

Nova services only support computes that are not older than
the previous major release. This patch introduces a check in the
service startup that warns at staring the service if too old computes
are detected.

This is a partial backport from master. As we agreed on the Wallaby PTG
[1] we would like to backport the check but we don't want to make it a
hard failure of the service startup as that felt too harsh for a stable
branch. So this patch changes the behavior from hard failure to emitting
a warning in the log.

This commit also contains two bugfixes from master squashed into it to
avoid merging broken code:

* Improve error handling during service level check
  Change-Id: I89cdf3852266ed93a2ac7cd6261fe269932026ac
  cherry picked from commit 3b44275868e08992a36e9163f533d689f27a0119

* Restore retrying the RPC connection to conductor
  Change-Id: Iad0ba1a02868eebc2f43b1ac843fcc5096cd5c47
  cherry picked from commit 433bee58bc8d7d65edb6a0805021e51972e6bed6

stable/ussuri specific change:
* need to use six.text_type() instead of str() as we still support
  python2.7

[1] https://etherpad.opendev.org/p/nova-wallaby-ptg

Closes-Bug: #1903545
Related-Bug: #1871482
Closes-Bug: #1904181

Change-Id: Ie15ec8299ae52ae8f5334d591ed3944e9585cf71
(cherry picked from commit aa7c6f87699ec1340bd446a7d47e1453847a637f)
(cherry picked from commit 0c5ca351e27ca74610478d8af9777de0db5c0acc)
"
openstack%2Fnova~stable%2Fussuri~Id0577bceed9808b52da4acc352cf9c204f6c8861,openstack/nova,stable/ussuri,bug/1896463,Id0577bceed9808b52da4acc352cf9c204f6c8861,Reproduce bug 1896463 in func env,MERGED,2021-01-14 09:56:31.000000000,2021-02-04 22:39:54.000000000,2021-02-04 22:39:54.000000000,233,0,0,770768,02114a9d7f2e8b62d3a7091ca3fde251dfffa860,15,3,2,1,9708,Balazs Gibizer,gibi,"Reproduce bug 1896463 in func env

There is a race condition between the rebuild and the
_update_available_resource periodic task on the compute. This patch adds
a reproducer functional test. Unfortunately it needs some injected sleep
to make the race happen in a stable way. This is suboptimal but only
adds 3 seconds of slowness to the test execution.

stable/ussuri specific changes:

* GlanceFixture does not exist as
  I6daea47988181dfa6dde3d9c42004c0ecf6ae87a is not in ussuri

* MigrationList.get_in_progress_and_error was added in
  I422a907056543f9bf95acbffdd2658438febf801 which is not in ussuri

Change-Id: Id0577bceed9808b52da4acc352cf9c204f6c8861
Related-Bug: #1896463
(cherry picked from commit 3f348602ae4a40c52c7135b2cb48deaa6052c488)
(cherry picked from commit d768cdbb88d0b0b3ca38623c4bb26d5eabdf1596)
"
openstack%2Ftripleo-common~stable%2Fvictoria~Iba06dc0f8afe9bc6a8820742c656dca5bf75df15,openstack/tripleo-common,stable/victoria,,Iba06dc0f8afe9bc6a8820742c656dca5bf75df15,Fix placement endpoint check when endpoints are not set,MERGED,2021-02-02 10:25:22.000000000,2021-02-04 21:28:48.000000000,2021-02-04 21:26:47.000000000,5,4,0,773590,3b3c9fc0fb29cab93cbca7390958e1e4caa733a0,12,8,1,2,26343,Jose Luis Franco,jfrancoa,"Fix placement endpoint check when endpoints are not set

When endpoint are not set in the heat resource, None is returned, not an empty
dict. The check then raises a 'NoneType' is not iterable exception.

Fix the logic to handle None and update the unit test.

Closes-bug: #1913416
Change-Id: Iba06dc0f8afe9bc6a8820742c656dca5bf75df15
(cherry picked from commit 86d0e65a2905f46eca05cbf4070f97feaa392463)
"
openstack%2Fos-net-config~stable%2Fussuri~I17d19715a1f7c231630416d6fea06fe9afe44e9b,openstack/os-net-config,stable/ussuri,avoid_dpdk_sriov_vf-stable/victoria-stable/ussuri,I17d19715a1f7c231630416d6fea06fe9afe44e9b,Exclude DPDK mapped VF device even if not present,MERGED,2021-01-25 04:21:42.000000000,2021-02-04 21:28:35.000000000,2021-02-04 21:26:23.000000000,33,1,0,772221,fa0fd2e3540cf32d4e559d95f23a2ae5111ac5b7,9,5,1,2,18575,Saravanan KR,saravanankr,"Exclude DPDK mapped VF device even if not present

As part of FFU from queens to train, os-net-config
will run after the RHEL update. At this point, DPDK
mapping file will have VF if it has been used as
part of NIC partitioning feature, but the physically
the VF will not be present as it is yet to be created.
During the active nic list creation (before creating
VFs), DPDK mapped VF will be used as regular nic,
which results in wrong nic numbering.

This patch excludes the VFs by checking the device
type in the sriov_config.yaml mapping file, so that
the nic numbering will be kept same.

Change-Id: I17d19715a1f7c231630416d6fea06fe9afe44e9b
(cherry picked from commit 4f2ebfd6bd90e5247dc2bddf67146e713919a437)
"
openstack%2Ftripleo-common~stable%2Ftrain~Id75c11e5b7c4f3bf73c962bc7e46f5a6021efc5f,openstack/tripleo-common,stable/train,extra-hardware-stable/ussuri-stable/train,Id75c11e5b7c4f3bf73c962bc7e46f5a6021efc5f,Use the new IPA-builder element for installing python-hardware,MERGED,2021-01-29 14:53:54.000000000,2021-02-04 21:28:31.000000000,2021-02-04 21:26:43.000000000,2,2,2,773010,2ec51ff8bd63247dc5f1c380cdacf5e8e8f869e3,20,5,2,1,13861,yatin,yatinkarel,"Use the new IPA-builder element for installing python-hardware

Also use quotes for DIB_EPEL_DISABLED as without that it fails
in python2, in ussuri+ releases it's not needed as those are
python3 only.
  

Change-Id: Id75c11e5b7c4f3bf73c962bc7e46f5a6021efc5f
Depends-On: https://review.opendev.org/#/c/753966/
(cherry picked from commit be437cb1e341c437ddd8d6901ce107982bb808df)
"
