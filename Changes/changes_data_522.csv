id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Ftempest~master~I2ed8a0c77519025e9082ef7124e9010b71e5df0d,openstack/tempest,master,merge_share_code,I2ed8a0c77519025e9082ef7124e9010b71e5df0d,Move share code to _create_server_with_group,MERGED,2018-02-14 07:22:07.000000000,2018-02-26 20:59:52.000000000,2018-02-26 20:59:52.000000000,25,42,12,544192,130f6d530bd67590e62326e8c87b2559c21a3cc4,32,8,4,1,21897,lianghao,cloud-liang,"Move share code to _create_server_with_group

Share the code with test_create_server_with_scheduler_hint_group_anti_affinity
and test_create_server_with_scheduler_hint_group_affinity.

Change-Id: I2ed8a0c77519025e9082ef7124e9010b71e5df0d
"
openstack%2Ftempest~master~I235b822d802cf27d2dc43b35f85802d3a214b1b5,openstack/tempest,master,fix-tempest-run,I235b822d802cf27d2dc43b35f85802d3a214b1b5,Add unit test for tempest run --config-file,MERGED,2018-02-22 07:58:31.000000000,2018-02-26 20:59:49.000000000,2018-02-26 20:59:49.000000000,31,1,4,546905,ff07eace4cf6901779da360dc5c63a9a0437bb0f,53,12,8,2,5689,Masayuki Igawa,igawa,"Add unit test for tempest run --config-file

This commit adds a unit test for `tempest run --config-file`. That
if block was not tested in the gate. And an issue occurs like
this[0]. And this commit fixes a couple of issue in run.py through
adding this test.

[0] https://review.openstack.org/#/c/546822/

Change-Id: I235b822d802cf27d2dc43b35f85802d3a214b1b5
"
openstack%2Fdevstack~stable%2Fpike~Ia5fd8654e062533a55de2e78d84128027c73c094,openstack/devstack,stable/pike,fix-nova-timeout,Ia5fd8654e062533a55de2e78d84128027c73c094,Bump NOVA_READY_TIMEOUT to 120s,MERGED,2018-02-23 21:57:24.000000000,2018-02-26 20:59:48.000000000,2018-02-26 20:59:48.000000000,3,1,0,547676,2895563c822514e08a8cf1dd2ea488df26423644,26,9,1,1,1004,Mohammed Naser,mnaser,"Bump NOVA_READY_TIMEOUT to 120s

This changes bumps NOVA_READY_TIMEOUT to 120s by default in Pike
and older because the UCA shipped libvirt (2.5.0) is very slow
to start up (taking almost a minute at times)

Change-Id: Ia5fd8654e062533a55de2e78d84128027c73c094
"
openstack%2Frally~master~Ide0d715d53eee4027a132f73c45a114c16e48b8f,openstack/rally,master,migration_ci,Ide0d715d53eee4027a132f73c45a114c16e48b8f,[db][ci] Add basic job for checking migrations,MERGED,2018-02-23 13:42:52.000000000,2018-02-26 20:36:16.000000000,2018-02-26 20:36:15.000000000,79,0,0,547427,d29b13fa3e986ad21259c1a1452dc577798080a0,31,4,12,2,9545,Andrey Kurilin,akurilin,"[db][ci] Add basic job for checking migrations

Change-Id: Ide0d715d53eee4027a132f73c45a114c16e48b8f
"
openstack%2Fopenstack-helm-infra~master~I0ec13f45fd4561fec59d08b08eb78390a3866156,openstack/openstack-helm-infra,master,linuxbridge/node-label,I0ec13f45fd4561fec59d08b08eb78390a3866156,Gate: collect more host level logs,MERGED,2018-02-26 07:21:07.000000000,2018-02-26 20:11:35.000000000,2018-02-26 20:11:35.000000000,2,0,0,547910,ca3929025bdc42d81db16ddd7fe39852d6da1cc7,7,3,1,1,23928,Pete Birley,portdirect,"Gate: collect more host level logs

This PS collects more host level logs in the gate scripts.

Change-Id: I0ec13f45fd4561fec59d08b08eb78390a3866156
"
openstack%2Fopenstack-helm-infra~master~I3095c21a75ad3057539f4fed431cb18c68e49a9b,openstack/openstack-helm-infra,master,linuxbridge/node-label,I3095c21a75ad3057539f4fed431cb18c68e49a9b,Node-Labels: Add linuxbridge node label to nodes,MERGED,2018-02-26 03:58:41.000000000,2018-02-26 20:09:45.000000000,2018-02-26 20:09:45.000000000,2,0,0,547887,1bf13af26c7a38373fdfaddb6fb107622b9dc2d1,7,3,1,1,23928,Pete Birley,portdirect,"Node-Labels: Add linuxbridge node label to nodes

This PS adds the linxubridge node label to nodes to simplify
deployment and testing of the neutron linuxbridge backend.

Change-Id: I3095c21a75ad3057539f4fed431cb18c68e49a9b
"
openstack%2Ftripleo-quickstart~master~Ife22410b77c954de95845ce9dc9067a32ab1db1c,openstack/tripleo-quickstart,master,bug/1749786,Ife22410b77c954de95845ce9dc9067a32ab1db1c,add undercloud-setup to default tags,MERGED,2018-02-15 19:45:29.000000000,2018-02-26 19:30:41.000000000,2018-02-26 19:30:41.000000000,1,1,2,545104,10bf28676b6ba11206bc9e8aee2521ec4a7c0629,28,9,1,1,9592,wes hayutin,weshayutin,"add undercloud-setup to default tags

Setting up the undercloud is supported in various ways.
One can use an overcloud image, ovb ( baseos ) and
libvirt ( baseos ).

If the default tags are used the undercloud will
not be setup correctly

Closes-Bug: #1749786
Change-Id: Ife22410b77c954de95845ce9dc9067a32ab1db1c
"
openstack%2Ftripleo-quickstart-extras~master~Ifdf8fb42e6ba5a28841bf696f550f1bc48416406,openstack/tripleo-quickstart-extras,master,,Ifdf8fb42e6ba5a28841bf696f550f1bc48416406,dns from libvirthost should be off for ovb,MERGED,2017-11-17 15:30:22.000000000,2018-02-26 19:30:39.000000000,2018-02-26 19:30:39.000000000,2,0,0,521113,747f818f116e6253ebce24b8693c10d7a079558a,68,10,1,2,9592,wes hayutin,weshayutin,"dns from libvirthost should be off for ovb

Change-Id: Ifdf8fb42e6ba5a28841bf696f550f1bc48416406
"
openstack%2Fpuppet-cinder~stable%2Fnewton~Ibc61fddad43afb75c7c69cc3e0944eaec146db8e,openstack/puppet-cinder,stable/newton,NexentaStor5-Backends,Ibc61fddad43afb75c7c69cc3e0944eaec146db8e,Add NFS and ISCSI backends for NexentaStor5,ABANDONED,2018-02-23 17:56:34.000000000,2018-02-26 19:07:22.000000000,,322,0,0,547529,711481febf68956c25b8f95091acde83b6df72cc,4,2,1,2,27865,Anton Skriptsov,Skriptsov,"Add NFS and ISCSI backends for NexentaStor5

Change-Id: Ibc61fddad43afb75c7c69cc3e0944eaec146db8e
"
openstack%2Fopenstack-zuul-jobs~master~I83f2cd5302095457308ef993115a4c2055c119fe,openstack/openstack-zuul-jobs,master,unit-test,I83f2cd5302095457308ef993115a4c2055c119fe,Add simple run-test-command job,ABANDONED,2018-02-26 19:05:30.000000000,2018-02-26 19:06:12.000000000,,17,0,0,548081,974bc4f9f810ed8d1f7928f6865bd21fce44ed58,2,0,1,2,6547,Andreas Jaeger,jaegerandi,"Add simple run-test-command job

Add a simple run-test-command that can be used to run a simple command
or shell-script.

Change-Id: I83f2cd5302095457308ef993115a4c2055c119fe
"
openstack%2Fswift~stable%2Fqueens~I74e580f31349bdefd187cc5d6770a7041a936bef,openstack/swift,stable/queens,move_eventlet_patch-stable/queens,I74e580f31349bdefd187cc5d6770a7041a936bef,Move eventlet patch before call to loadapp,MERGED,2018-02-26 14:10:19.000000000,2018-02-26 19:05:14.000000000,2018-02-26 19:05:14.000000000,15,18,0,548033,3d12a10cc48a6895e5308756be6060523377ae3f,12,5,1,2,9625,Thiago da Silva,thiago,"Move eventlet patch before call to loadapp

Ran into an eventlet bug[0] while integration Swift/Barbican
in TripleO. It is very similar to a previous bug related
to keystonemiddleware[1]. Suggestion from urllib3[2] is to
patch eventlet ""as early as possible"". Traceback[3] shows that
urllib3 is being imported before the eventlet patch, so moved
the patch to before the loadapp call.

[0] - http://paste.openstack.org/show/658046/
[1] - https://bugs.launchpad.net/swift/+bug/1662473
[2] - https://github.com/shazow/urllib3/issues/1104
[3] - https://gist.github.com/thiagodasilva/12dad7dc4f940b046dd0863b6f82a78b

Change-Id: I74e580f31349bdefd187cc5d6770a7041a936bef
(cherry picked from commit c9410c7dd482cc1faefdfd9d9c83d225e7d28e8f)
"
openstack%2Ftripleo-heat-templates~master~I0deef6c2a71c1f2a34e6efed9586bbaa052b49c9,openstack/tripleo-heat-templates,master,openshift-net-iso,I0deef6c2a71c1f2a34e6efed9586bbaa052b49c9,Set openshift_(ip|hostname) to ctrlplane ip,MERGED,2018-02-20 15:53:43.000000000,2018-02-26 19:02:31.000000000,2018-02-26 19:02:31.000000000,10,0,6,546194,ec8d2bad4c12c4be884572ee06f00c8e28615f19,17,5,2,1,6159,Flavio Percoco Premoli,flaper87,"Set openshift_(ip|hostname) to ctrlplane ip

When enabling network isolation, openshift-ansible picks the wrong ip
address as the default IP for the services. Set the IP to the ctrlplane
network by default, which works with and without network isolation.

Change-Id: I0deef6c2a71c1f2a34e6efed9586bbaa052b49c9
"
openstack%2Fopenstack-manuals~master~Id4e7ddf9d46d6e1a7f81a88047bb6778453cc9b8,openstack/openstack-manuals,master,bug/1751810,Id4e7ddf9d46d6e1a7f81a88047bb6778453cc9b8,Fix the install guide buttons on small screens,MERGED,2018-02-26 15:17:00.000000000,2018-02-26 18:47:12.000000000,2018-02-26 18:47:12.000000000,112,110,0,548051,2b9b3546c000176b74cd640787ae9450817e8bfb,7,6,1,2,12826,Rob Cresswell,rob-cresswell,"Fix the install guide buttons on small screens

This patch fixes the nesting on the rows on the install guide
index page, that were causing all of the links to be covered on
smaller screens.

Unfortunately the high line count change is really required to
make the change easy to understand, as otherwise the indentation makes
it very difficult to notice the incorrect nesting (and probably caused
the bug in the first place).

Closes-Bug: 1751810
Change-Id: Id4e7ddf9d46d6e1a7f81a88047bb6778453cc9b8
"
openstack%2Fironic~stable%2Fqueens~I8ad1223dc289bbe915ee4ca8db66c8f80bf08f15,openstack/ironic,stable/queens,bug/1749860-stable/queens,I8ad1223dc289bbe915ee4ca8db66c8f80bf08f15,Set 'initrd' to 'rescue_ramdisk' for rescue with iPXE,MERGED,2018-02-22 11:49:19.000000000,2018-02-26 18:40:10.000000000,2018-02-22 17:11:01.000000000,13,1,1,546955,6f3e8927e69d6ef781786bbfbeb511f8611991d0,10,7,1,5,10239,Dmitry Tantsur,dtantsur,"Set 'initrd' to 'rescue_ramdisk' for rescue with iPXE

The kernel paramter 'initrd' is hard-coded as 'deploy_ramdisk' in iPXE
config template. A rescue ramdisk may fail to boot due to this wrong
paramter. This patch sets this 'initrd' paramter properly to
'deploy_ramdisk' or 'rescue_ramdisk' by adding a new pxe option.

Change-Id: I8ad1223dc289bbe915ee4ca8db66c8f80bf08f15
Closes-Bug: 1749860
(cherry picked from commit 8f2e487b2bd9168822268fcca1ab43ff93084afe)
"
openstack%2Fpython-manilaclient~master~Iddb491b1fe9e13871a1fa4007fed05636b9ca0db,openstack/python-manilaclient,master,openstack/requirements,Iddb491b1fe9e13871a1fa4007fed05636b9ca0db,Updated from global requirements,MERGED,2018-01-16 03:48:02.000000000,2018-02-26 18:35:41.000000000,2018-02-26 18:35:41.000000000,4,4,0,533931,e4ea631550206d8c34c4964b42ea489a56c905eb,23,4,7,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Iddb491b1fe9e13871a1fa4007fed05636b9ca0db
"
openstack%2Fopenstack-ansible-os_glance~stable%2Fqueens~I7389b7e090882eed93a56a6d8bdb297a7a3f9442,openstack/openstack-ansible-os_glance,stable/queens,scrubber_conf-stable/queens,I7389b7e090882eed93a56a6d8bdb297a7a3f9442,Remove registry options from scrubber config,MERGED,2018-02-21 02:24:17.000000000,2018-02-26 18:30:02.000000000,2018-02-26 18:30:01.000000000,0,6,0,546471,5308f97546761a5ab0f7600b7056d9aec81bde99,11,3,2,1,14805,Jimmy McCrory,jimmy-mccrory,"Remove registry options from scrubber config

A recent change in glance removed the glance-scrubber utility's
dependency on the glance registry client. The scrubber now connects
directly to the database and these options are no longer needed.

Change-Id: I7389b7e090882eed93a56a6d8bdb297a7a3f9442
Related-Change: https://review.openstack.org/#/c/510449/
(cherry picked from commit 45cb804dc252f3a9aaea1904c86958b99863086f)
"
openstack%2Fproject-config~master~Ie34a3fe2521114eb74f54f3059f03919765047ae,openstack/project-config,master,new-project,Ie34a3fe2521114eb74f54f3059f03919765047ae,Add zuul entry for certbot-dns-openstack,MERGED,2018-02-22 15:11:05.000000000,2018-02-26 18:29:41.000000000,2018-02-26 18:29:41.000000000,5,0,1,547023,22669f26e07903d0595a5c43b4953ee4349fc956,17,4,3,1,8099,Graham Hayes,graham,"Add zuul entry for certbot-dns-openstack

Change-Id: Ie34a3fe2521114eb74f54f3059f03919765047ae
"
openstack%2Fswift~master~I7030280a8495628df9ed8edcc8abc31f901da72e,openstack/swift,master,py3,I7030280a8495628df9ed8edcc8abc31f901da72e,py3: port common/storage_policy.py,MERGED,2018-02-02 00:29:56.000000000,2018-02-26 18:12:32.000000000,2018-02-26 18:12:31.000000000,24,6,3,540188,4b19ac772364778a4b96d7e18834db9a7645f482,17,6,4,3,15343,Tim Burke,tburke,"py3: port common/storage_policy.py

Change-Id: I7030280a8495628df9ed8edcc8abc31f901da72e
"
openstack%2Fironic~stable%2Fqueens~Ib2166040508827db28d6f6e2d9a3e655c16f2993,openstack/ironic,stable/queens,bug/1750027-stable/queens,Ib2166040508827db28d6f6e2d9a3e655c16f2993,Support nested objects and object lists in as_dict,MERGED,2018-02-22 00:44:58.000000000,2018-02-26 18:08:44.000000000,2018-02-22 14:05:24.000000000,93,4,0,546830,be94e64b912bfdb70c578918815a28ed8611662a,17,8,2,7,6618,Ruby Loo,rloo,"Support nested objects and object lists in as_dict

The value returned by ironic.objects.IronicObject.as_dict() should be a
plain object, in order for it to be serialised to JSON. Currently,
nested object fields and object list fields are not converted to dict
format. This caused problems during cleaning, when the node object's
as_dict representation is JSON encoded and sent to IPA.

This change adds support for calling as_dict() on nested objects and
list objects, to ensure these are also returned in dict form.

We also change the method used in as_dict() for checking whether an
object has an attribute. The hasattr() function used previously has
problems when used with properties in python 2 [1], in that any
exceptions raised in the property getter result in hasattr() returning
False. Instead we use obj_attr_is_set() to determine whether the object
has a particular attribute.

[1] https://hynek.me/articles/hasattr/

Change-Id: Ib2166040508827db28d6f6e2d9a3e655c16f2993
Closes-Bug: #1750027
(cherry picked from commit c66679f14b0b5f34462a896c3bff5a9f483a9a83)
"
openstack%2Fswift~feature%2Fs3api~Icd160c2ecc982eb61362ae15d973a7b4dc42ee85,openstack/swift,feature/s3api,fix-test-name,Icd160c2ecc982eb61362ae15d973a7b4dc42ee85,Fix functests name address swift3 -> s3api migration,MERGED,2018-02-26 14:42:03.000000000,2018-02-26 18:06:30.000000000,2018-02-26 18:06:29.000000000,24,24,0,548038,6ce7627d760822c8488ab39f27dd5248f1f8332a,6,2,1,5,4608,Kota Tsuyuzaki,tsuyuzaki-kota,"Fix functests name address swift3 -> s3api migration

Change-Id: Icd160c2ecc982eb61362ae15d973a7b4dc42ee85
"
openstack%2Fhorizon~master~Iba9d0a5522fcb4b388ed2f253d21ff05c05f185e,openstack/horizon,master,bug/1751385,Iba9d0a5522fcb4b388ed2f253d21ff05c05f185e,Incorrect field choices in angular create user form,ABANDONED,2018-02-26 17:38:00.000000000,2018-02-26 17:46:50.000000000,,6,8,0,548073,cf08c82deb1c87066cd41b9c4fb582cf855f65d0,2,0,1,2,24056,wei.ying,wei.ying,"Incorrect field choices in angular create user form

In angular user action workflow, we define a set of fields for the
user action form. When populating data for a form field, the field
data does not display properly due to the wrong field being taken
from the field set. These fields include 'domain_name', 'domain_id',
'project' and role.

Change-Id: Iba9d0a5522fcb4b388ed2f253d21ff05c05f185e
Closes-Bug:#1751385
"
openstack%2Fironic~stable%2Fqueens~Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1,openstack/ironic,stable/queens,544750-stable/queens,Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1,Disable .pyc files for grenade multinode,MERGED,2018-02-15 18:55:33.000000000,2018-02-26 17:45:48.000000000,2018-02-22 18:02:46.000000000,29,0,0,545089,780ab207a1b2e46a7fd131f4cbb7c026f3a1b390,79,8,15,1,11655,Julia Kreger,jkreger,"Disable .pyc files for grenade multinode

Ironic's grenade multinode suffers from some of unique issues.

* Nova can never be upgraded as there is a static pin that increments
  higher. As such, newer nova can never run with older ironic.
* As Nova cannot be upgraded, it is left running throughout the test
  sequence.

The above two conditions result in possible breaking package upgrades
as the python environments are shared between the old and new
installations.

In order to better isolate the running processes, as would be in
most actual production environments, we need to minimize underlying
inter-reactions due to python library upgrades.

Credit goes to Jim Rollenhagen for coming up with this idea, once the
massive conundrum was fully explained. Thanks Jim!

Partial-Bug: #1744139
Change-Id: Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1
(cherry picked from commit 93f376f3450b611842816f7248943350e4fd1a73)
"
openstack%2Fnova~stable%2Focata~I9b545ca8aa6dd7b41ddea2d333190c9fbed19bc1,openstack/nova,stable/ocata,bug/1719362,I9b545ca8aa6dd7b41ddea2d333190c9fbed19bc1,libvirt: Don't VIR_MIGRATE_NON_SHARED_INC without migrate_disks,MERGED,2017-11-14 12:22:31.000000000,2018-02-26 17:35:37.000000000,2018-02-26 17:35:37.000000000,73,1,0,519636,2cfdb9c056192ff38e44fd5f03c9ede33ed09bd9,49,13,3,2,9555,Matthew Booth,MatthewBooth,"libvirt: Don't VIR_MIGRATE_NON_SHARED_INC without migrate_disks

If we specify block migration, but there are no disks which actually
require block migration we call libvirt's migrateToURI3() with
VIR_MIGRATE_NON_SHARED_INC in flags and an empty migrate_disks in
params. Libvirt interprets this to be the default block migration
behaviour of ""block migrate all writeable disks"". However,
migrate_disks may only be empty because we filtered attached volumes
out of it, in which case libvirt will block migrate attached volumes.
This is a data corruptor.

This change addresses the issue at the point we call migrateToURI3().
As we never want the default block migration behaviour, we can safely
remove the flag if the list of disks to migrate is empty.

(cherry picked from commit ea9bf5216be60fb3fa1704cf6257adca4e634cb1)

nova/tests/unit/virt/libvirt/test_driver.py:
  Explicitly asserts byte string destination_xml in
  _test_live_migration_block_migration_flags. Not required in master
  due to change I85cd9a90.

(cherry picked from commit 2486f34ec49ffdf381912d7f0fd5199ce0dfa013)

Change-Id: I9b545ca8aa6dd7b41ddea2d333190c9fbed19bc1
Resolves-bug: #1719362
"
openstack%2Fopenstack-ansible-os_tempest~stable%2Fqueens~I4aa26b88022048c8e07916b6bbb37350f446d63d,openstack/openstack-ansible-os_tempest,stable/queens,openstack/openstack-ansible-tests/sync-tests,I4aa26b88022048c8e07916b6bbb37350f446d63d,Updated from OpenStack Ansible Tests,MERGED,2018-02-15 12:56:30.000000000,2018-02-26 17:35:06.000000000,2018-02-26 17:35:06.000000000,1,1,0,544938,8c042b1542f5406877cfd9341a6fe040413f787e,17,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I4aa26b88022048c8e07916b6bbb37350f446d63d
"
openstack%2Fopenstack-ansible-os_cinder~stable%2Fqueens~I6cc40b4fc473df29c6e3d7844fde6340694d43bb,openstack/openstack-ansible-os_cinder,stable/queens,bug/1741634-stable/queens,I6cc40b4fc473df29c6e3d7844fde6340694d43bb,Replace virtualenv-tools by a script,MERGED,2018-02-18 22:13:07.000000000,2018-02-26 17:13:45.000000000,2018-02-26 17:13:45.000000000,7,4,0,545722,7f904825db9472ce1150e8c034cacefae00882c5,24,5,1,2,7353,Kevin Carter,cloudnull,"Replace virtualenv-tools by a script

virtualenv-tools has a bug which gets triggered in gates: it can't
change the shebang of a virtualenv python bin/ files if they
were generated with a virtualenv script whose shebang ends with
python2 instead of python.

Because we can't modify virtualenv-tools, we use shell scripts
instead.

Change-Id: I6cc40b4fc473df29c6e3d7844fde6340694d43bb
Partial-Bug: #1741634
"
openstack%2Fgovernance-uc~master~Ia687ab38f3ca746fbbb0118af80f4d61d9828544,openstack/governance-uc,master,electionresults,Ia687ab38f3ca746fbbb0118af80f4d61d9828544,Add election results,MERGED,2018-02-25 23:59:41.000000000,2018-02-26 17:13:44.000000000,2018-02-26 17:13:44.000000000,4,4,0,547868,c1cfcb73fff05642a4776c0f4900340b95bf8b59,10,4,2,1,17556,Melvin Hillsman,mrhillsman,"Add election results

Change-Id: Ia687ab38f3ca746fbbb0118af80f4d61d9828544
Signed-off-by: Melvin Hillsman <mrhillsman@gmail.com>
"
openstack%2Fneutron~master~I89901235cabdf64428655e034d165ca0de19b7fa,openstack/neutron,master,debug-lb-scenarios,I89901235cabdf64428655e034d165ca0de19b7fa,DNM Debug LB scenario tests failures - attempt 4,ABANDONED,2018-02-22 08:19:27.000000000,2018-02-26 17:12:23.000000000,,36,0,0,546916,4531222ceafd836c82b4d409cae76ac60a45b225,5,3,1,2,11975,Slawek Kaplonski,slaweq,"DNM Debug LB scenario tests failures - attempt 4

Change-Id: I89901235cabdf64428655e034d165ca0de19b7fa
"
openstack%2Fironic~master~Ib2166040508827db28d6f6e2d9a3e655c16f2993,openstack/ironic,master,bug/1750027,Ib2166040508827db28d6f6e2d9a3e655c16f2993,Support nested objects and object lists in as_dict,MERGED,2018-02-19 13:32:39.000000000,2018-02-26 16:56:05.000000000,2018-02-22 04:13:22.000000000,93,4,24,545830,c66679f14b0b5f34462a896c3bff5a9f483a9a83,51,12,5,7,14826,Mark Goddard,mgoddard,"Support nested objects and object lists in as_dict

The value returned by ironic.objects.IronicObject.as_dict() should be a
plain object, in order for it to be serialised to JSON. Currently,
nested object fields and object list fields are not converted to dict
format. This caused problems during cleaning, when the node object's
as_dict representation is JSON encoded and sent to IPA.

This change adds support for calling as_dict() on nested objects and
list objects, to ensure these are also returned in dict form.

We also change the method used in as_dict() for checking whether an
object has an attribute. The hasattr() function used previously has
problems when used with properties in python 2 [1], in that any
exceptions raised in the property getter result in hasattr() returning
False. Instead we use obj_attr_is_set() to determine whether the object
has a particular attribute.

[1] https://hynek.me/articles/hasattr/

Change-Id: Ib2166040508827db28d6f6e2d9a3e655c16f2993
Closes-Bug: #1750027
"
openstack%2Fopenstack-ansible-os_panko~master~I3830f0aec3604d5a80eeacf54f35dedaf8a09115,openstack/openstack-ansible-os_panko,master,,I3830f0aec3604d5a80eeacf54f35dedaf8a09115,dnm: test commit to get first ci pass,ABANDONED,2018-02-21 20:49:27.000000000,2018-02-26 16:55:49.000000000,,2,0,0,546771,614f33b84363a01af657dca2d8129400fda789be,5,2,1,1,1004,Mohammed Naser,mnaser,"dnm: test commit to get first ci pass

Change-Id: I3830f0aec3604d5a80eeacf54f35dedaf8a09115
"
openstack%2Frpm-packaging~stable%2Fpike~I9d501b1f8ab899ac86c61b1f0ef96b3c943fe550,openstack/rpm-packaging,stable/pike,,I9d501b1f8ab899ac86c61b1f0ef96b3c943fe550,python-monascaclient: Drop oslo.service Requires,MERGED,2018-02-26 07:34:35.000000000,2018-02-26 16:35:37.000000000,2018-02-26 16:35:37.000000000,0,1,0,547914,a5f965dee63268a4a73721e97c68114be7b2a33c,11,7,1,1,7102,Thomas Bechtold,toabctl,"python-monascaclient: Drop oslo.service Requires

Not needed.

Change-Id: I9d501b1f8ab899ac86c61b1f0ef96b3c943fe550
"
openstack%2Fvitrage~master~I469193f55b26194ccce0adfdd006b84bae97b953,openstack/vitrage,master,fix,I469193f55b26194ccce0adfdd006b84bae97b953,Fix the invalid links in docs,MERGED,2018-02-26 08:08:16.000000000,2018-02-26 16:33:56.000000000,2018-02-26 16:33:56.000000000,5,5,0,547930,7ca8df29c5edb3f92e688a1f81dd94c5a2676e62,8,3,2,1,23317,ShangXiao,ShangXiao,"Fix the invalid links in docs

The url doc links in these docs are out of date.
Replace them with the right ones according to the OpenStack websites.

Change-Id: I469193f55b26194ccce0adfdd006b84bae97b953
"
openstack%2Fproject-config~master~Ib7df7f72d7cbebc3af99ae2e5553dc2d98b458e8,openstack/project-config,master,iotronic-ui,Ib7df7f72d7cbebc3af99ae2e5553dc2d98b458e8,New required-projects for Iotronic-ui.,MERGED,2018-02-20 15:02:16.000000000,2018-02-26 16:21:17.000000000,2018-02-26 16:21:17.000000000,2,2,1,546174,071c024b67513582078477db5733bcc7a7673b05,10,4,2,1,14291,Carmelo Romeo,carmelo,"New required-projects for Iotronic-ui.

Iotronic-ui needs openstack/horizon as required-projects.

Change-Id: Ib7df7f72d7cbebc3af99ae2e5553dc2d98b458e8
"
openstack%2Fopenstack-helm~master~If2c44801ae3792e8ce10ed80336490a2aa1622e5,openstack/openstack-helm,master,glance/clean,If2c44801ae3792e8ce10ed80336490a2aa1622e5,Glance: fix image clean image reference,MERGED,2018-02-26 04:44:33.000000000,2018-02-26 16:18:36.000000000,2018-02-26 16:18:36.000000000,1,1,0,547891,f6eb6d7b3e1fde97c0ec1e4b32754dcaf05daf4a,7,3,1,1,23928,Pete Birley,portdirect,"Glance: fix image clean image reference

This PS fixes the glance clean job image tags.

Change-Id: If2c44801ae3792e8ce10ed80336490a2aa1622e5
"
openstack%2Fswift~feature%2Fs3api~Idcb6a92bc203de1fe6868f73c72205258e2249a8,openstack/swift,feature/s3api,move_functests-patch4,Idcb6a92bc203de1fe6868f73c72205258e2249a8,Merge s3api func tests,MERGED,2018-01-25 10:42:13.000000000,2018-02-26 15:59:40.000000000,2018-02-26 15:59:40.000000000,313,127,0,537838,063daf7d080c89c233022833b917cec33f58f790,19,3,6,20,4608,Kota Tsuyuzaki,tsuyuzaki-kota,"Merge s3api func tests

Merge s3api tests back into swift's functional
test tree: test/functional.

Also:
- Skip if s3api is not enabled in the pipeline
- Fix some broken things at multipart upload since logging change
- Add in process func-s3api env to tox

Co-Authored-By: Kota Tsuyuzaki <tsuyuzaki.kota@lab.ntt.co.jp>
Change-Id: Idcb6a92bc203de1fe6868f73c72205258e2249a8
"
openstack%2Fpython-tripleoclient~master~I11228582c948adfc90b4f1ddb172fabb87965660,openstack/python-tripleoclient,master,log-mistral-workflow,I11228582c948adfc90b4f1ddb172fabb87965660,"Don't print the start of a workflow, log it",MERGED,2018-02-22 16:28:46.000000000,2018-02-26 15:58:49.000000000,2018-02-26 15:58:49.000000000,2,2,0,547060,bfaf74e11757e6fcc70506918abe363cc6329399,19,7,2,1,7065,Brad P. Crochet,bcrochet,"Don't print the start of a workflow, log it

The printing of the workflow execution makes things too verbose from
the CLI. That output intermixes with other output. We should just log
it at level DEBUG.

Change-Id: I11228582c948adfc90b4f1ddb172fabb87965660
"
openstack%2Fnova~master~Ia1a84c986025f8a46c1062440faa0deb1d2d73a5,openstack/nova,master,bug/1682020,Ia1a84c986025f8a46c1062440faa0deb1d2d73a5,Update noVNC deployment docs to mention non-US keymap fix in 1.0.0,MERGED,2018-02-26 10:56:07.000000000,2018-02-26 15:45:41.000000000,2018-02-26 12:31:17.000000000,5,0,0,547985,ed7af4c8f4d72ed0a1c15daf1c700b07fbeed635,13,8,1,1,6873,Matt Riedemann,mriedem,"Update noVNC deployment docs to mention non-US keymap fix in 1.0.0

noVNC 1.0.0 has the fix for non-US key mappings so this adds a simple
note when installing the novnc package that at least 1.0.0 should be
used for non-US key map support.

Change-Id: Ia1a84c986025f8a46c1062440faa0deb1d2d73a5
Related-Bug: #1682020
"
openstack%2Fopenstack-ansible-galera_server~stable%2Fqueens~I850a37b465a427a827e357111942973457fafa0d,openstack/openstack-ansible-galera_server,stable/queens,bug/1654004,I850a37b465a427a827e357111942973457fafa0d,Restore support for percona packages when using ppc64le,MERGED,2018-02-24 09:21:12.000000000,2018-02-26 15:23:17.000000000,2018-02-26 15:23:16.000000000,127,14,0,547740,7c1749d97b46b88ddf395d908be46c209a429457,8,4,1,8,6816,Jesse Pretorius,jesse-pretorius,"Restore support for percona packages when using ppc64le

In https://review.openstack.org/535252 the installation
process for the role was simplified, but an unintentional
side-effect was to removed the previously included support
for installing the extra percona packages when installing
on the ppc64le platform.

This patch re-introduces that ability, but scopes it to
only execute on that hardware platform, and only for Ubuntu.

The download is, by default, facilitated through the deploy
node (rather than the target nodes) so that the download
is done once, then pushed to the targets. This can be
adjusted with the right parameters to download from the
targets instead.

Also, in https://review.openstack.org/543888 adjustments
were made to disable compression/qpress on architectures
other than x86_64, and to fail the role execution if it
was enabled on any other architecture. This has been
corrected to ensure that compression is enabled by default
for ppc64le on Ubuntu, and enabled by default for x86_64,
but disabled by default for all other combinations. The
fail task is adjusted appropriately and moved to the main
task file so that it executes and fails out before any
changes are made.

Change-Id: I850a37b465a427a827e357111942973457fafa0d
(cherry picked from commit 1075fe411aa7b37e6c536e1c1ea5d4bfd509d2b0)
"
openstack%2Fpuppet-tripleo~stable%2Fnewton~Ife465c2c6739c3cbfb9923ed97f370baa745739c,openstack/puppet-tripleo,stable/newton,bug/1747960,Ife465c2c6739c3cbfb9923ed97f370baa745739c,Remove neutron-managed firewall rules from /etc/sysconfig/iptables,MERGED,2018-02-15 18:16:17.000000000,2018-02-26 15:16:21.000000000,2018-02-26 15:16:21.000000000,35,1,0,545075,5086c67bdf613ed57527446288722a9a2f736168,24,5,5,2,3153,Emilien Macchi,emilienm,"Remove neutron-managed firewall rules from /etc/sysconfig/iptables

See https://bugzilla.redhat.com/show_bug.cgi?id=1541528

We don't want IPtables rules managed by Neutron to be persistent, it can
cause issues when rule are recreated while a namespace doesn't exist.
This patch makes sure that in any Neutron node, no IPtables rule will be
persistent if it contains ""neutron-"" in the name.

Change-Id: Ife465c2c6739c3cbfb9923ed97f370baa745739c
Related-Bug: #1747960
(cherry picked from commit 3c71c483e3e91d11fa83bfd751d2d8e54fdb4a20)
"
openstack%2Fceilometer~master~If2bad05c52c636c728c95ab6e9520cb6467a99e1,openstack/ceilometer,master,latency,If2bad05c52c636c728c95ab6e9520cb6467a99e1,add disk.device.*.latency meters,MERGED,2018-02-13 21:20:43.000000000,2018-02-26 15:13:20.000000000,2018-02-23 00:47:23.000000000,17,0,3,544091,8fdd19e78a2053285569cda05cdc4875b716190c,14,4,2,3,6537,gordon chung,chungg,"add disk.device.*.latency meters

it's missing from docs and gnocchi

see: I0235087af459278b9ad0a66f95c4e4c4ac72e112

Change-Id: If2bad05c52c636c728c95ab6e9520cb6467a99e1
"
openstack%2Fproject-config~master~I1465b337c879c7edcbd6c75280c68b10080249b4,openstack/project-config,master,new-project,I1465b337c879c7edcbd6c75280c68b10080249b4,Add certbot-dns-openstack repo,MERGED,2018-02-22 15:08:52.000000000,2018-02-26 15:11:19.000000000,2018-02-26 15:11:19.000000000,17,0,0,547022,14b27a2cbeb2d65162f5e8d7f929dbf1cf1f9251,16,4,3,3,8099,Graham Hayes,graham,"Add certbot-dns-openstack repo

Change-Id: I1465b337c879c7edcbd6c75280c68b10080249b4
"
openstack%2Frally~master~I1e61fd6bb281baa2014a5e91bf640cf110d6a7ba,openstack/rally,master,migration_ci,I1e61fd6bb281baa2014a5e91bf640cf110d6a7ba,WIP [db] compare results after migration,NEW,2018-02-26 12:20:54.000000000,2018-02-26 15:07:59.000000000,,132,3,0,548015,534f7a485e36e5144377def91910ddd1692eb6ea,11,2,5,2,9545,Andrey Kurilin,akurilin,"WIP [db] compare results after migration

Change-Id: I1e61fd6bb281baa2014a5e91bf640cf110d6a7ba
"
openstack%2Frally~master~I3d2104fa6f6ba4bd90c4ac1771e48c32a5403832,openstack/rally,master,gnocchi_archive_policy_rule,I3d2104fa6f6ba4bd90c4ac1771e48c32a5403832,Add new Gnocchi scenarios,MERGED,2018-02-16 14:00:47.000000000,2018-02-26 14:51:32.000000000,2018-02-26 14:51:32.000000000,275,0,0,545302,68e27137fe121bcc9f550de60fb111fa742539b4,13,4,1,10,14749,Juha Kosonen,jukosone,"Add new Gnocchi scenarios

This patch is based on [1] and adds following scenarios:

GnocchiArchivePolicyRule.list_archive_policy_rule
GnocchiArchivePolicyRule.create_archive_policy_rule
GnocchiArchivePolicyRule.create_delete_archive_policy_rule

[1] https://review.openstack.org/#/c/453861/

Change-Id: I3d2104fa6f6ba4bd90c4ac1771e48c32a5403832
Signed-off-by: Juha Kosonen <juha.kosonen@nokia.com>
"
openstack%2Ftripleo-common~master~I5ff91c569c4e29f65058520ed1be0f0bbf452b48,openstack/tripleo-common,master,313048,I5ff91c569c4e29f65058520ed1be0f0bbf452b48,WIP mistral workflow to deploy nodes without nova,ABANDONED,2016-05-05 16:28:15.000000000,2018-02-26 14:32:42.000000000,,91,0,18,313048,e9de82ca584f114939705802e4f2ca8ecdf9b00f,37,10,6,1,4328,Steven Hardy,shardy,"WIP mistral workflow to deploy nodes without nova

This is an experiment attempting to drive Ironic directly (still using Neutron for the DHCP) without any Nova.

Currently this doesn't work, there's something wrong with the DHCP/netowrk so the node boots but can't find the DHCP to deploy with

To try do:

mistral workbook-create baremetal_deploy.yaml
mistral execution-create tripleo.baremetal_deploy.v1.node_deploy '{""node_uuid"": ""cd613582-7bae-4563-88c1-734cdaf5c19a""}'

Depends-On: I60101883db26f679aa833e8b5638225d9fb93761
Change-Id: I5ff91c569c4e29f65058520ed1be0f0bbf452b48
"
openstack%2Fceilometer~master~I81b2c275f3173f70f170e875e6e348666c0f684b,openstack/ceilometer,master,docs,I81b2c275f3173f70f170e875e6e348666c0f684b,fix meter formating,MERGED,2018-02-20 19:32:06.000000000,2018-02-26 14:27:25.000000000,2018-02-26 14:27:25.000000000,4,4,0,546283,daf6716cbd549699dd573094997bc1c95037a90c,6,2,1,1,6537,gordon chung,chungg,"fix meter formating

Change-Id: I81b2c275f3173f70f170e875e6e348666c0f684b
"
openstack%2Fceilometer~stable%2Focata~I8adc609cc21c86de2daba326d24b73a80d6eb61f,openstack/ceilometer,stable/ocata,bug/1749960-stable/ocata,I8adc609cc21c86de2daba326d24b73a80d6eb61f,Gracefully handle missing metadata in libvirt xml,MERGED,2018-02-23 14:38:14.000000000,2018-02-26 14:27:23.000000000,2018-02-26 14:27:23.000000000,35,22,0,547441,afaa7f7c8cbe34b1573c7ade341a7c42b455c28e,10,4,2,1,6537,gordon chung,chungg,"Gracefully handle missing metadata in libvirt xml

Missing metadata in the libvirt domain xml for a nova instance would
cause ceilometer-compute to abort, leading to missing metrics for the
current and any subequent libvirt guests.

This commit puts a try/except AttributeError block around all the code
that is fetching attributes on the result of metadata_xml.find(...).

also pull in I41aa76cf9def3e8c4bceef0280d15c1fd7c48e3d

Change-Id: I8adc609cc21c86de2daba326d24b73a80d6eb61f
Closes-Bug: #1749960
(cherry picked from commit d2af7e9ece2f903633bf4e95208b2e3ba6ac464d)
"
openstack%2Fceilometer~stable%2Fqueens~I8adc609cc21c86de2daba326d24b73a80d6eb61f,openstack/ceilometer,stable/queens,bug/1749960,I8adc609cc21c86de2daba326d24b73a80d6eb61f,Gracefully handle missing metadata in libvirt xml,MERGED,2018-02-16 17:44:03.000000000,2018-02-26 14:27:22.000000000,2018-02-26 14:27:21.000000000,35,22,0,545403,24caac82528be7678165bf12fb5b997852727ecd,16,4,2,1,6537,gordon chung,chungg,"Gracefully handle missing metadata in libvirt xml

Missing metadata in the libvirt domain xml for a nova instance would
cause ceilometer-compute to abort, leading to missing metrics for the
current and any subequent libvirt guests.

This commit puts a try/except AttributeError block around all the code
that is fetching attributes on the result of metadata_xml.find(...).

also pull in I41aa76cf9def3e8c4bceef0280d15c1fd7c48e3d

Change-Id: I8adc609cc21c86de2daba326d24b73a80d6eb61f
Closes-Bug: #1749960
(cherry picked from commit d2af7e9ece2f903633bf4e95208b2e3ba6ac464d)
"
openstack%2Fopenstack-ansible-pip_install~stable%2Fqueens~Idf726729e725d94b70b53dc40da1ec7e7b0a00bf,openstack/openstack-ansible-pip_install,stable/queens,bp/python-build-install-simplification,Idf726729e725d94b70b53dc40da1ec7e7b0a00bf,Remove the implementation of constraints in pip.conf,MERGED,2018-02-24 14:50:30.000000000,2018-02-26 14:27:20.000000000,2018-02-26 14:27:20.000000000,0,9,0,547756,99181a635478d082f5b8f2bf47d15509907fafb7,10,4,2,1,6816,Jesse Pretorius,jesse-pretorius,"Remove the implementation of constraints in pip.conf

In https://review.openstack.org/526889 constraints were
added to pip.conf. While this may be something we want
later in the python build simplification process, it is
currently causing problems in several tests due to the
assumption that constraints are only set on the CLI.

At this stage I think it's better to leave constraints
setting to be done on the CLI as that is ubiquitous
across all pip install tasks right now.

If we switch to setting constraints in pip.conf then it
will take more co-ordination.

Implements: blueprint python-build-install-simplification
Signed-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
Change-Id: Idf726729e725d94b70b53dc40da1ec7e7b0a00bf
(cherry picked from commit 1085f00f16eec1323b4bb19f7bccffd945f4c3da)
"
openstack%2Fproject-config~master~Ib883b79eead9043f4cd3f545b564e221ddd64118,openstack/project-config,master,,Ib883b79eead9043f4cd3f545b564e221ddd64118,Fix Python 3 gate jobs for Blazar projects,MERGED,2018-02-26 12:20:08.000000000,2018-02-26 14:22:38.000000000,2018-02-26 14:22:38.000000000,4,6,0,548014,a32bfc14e6ab958479957c909e01cdd49d451903,9,5,1,1,15197,Pierre Riteau,priteau,"Fix Python 3 gate jobs for Blazar projects

Change-Id: Ib883b79eead9043f4cd3f545b564e221ddd64118
"
openstack%2Fswift~master~I74e580f31349bdefd187cc5d6770a7041a936bef,openstack/swift,master,move_eventlet_patch,I74e580f31349bdefd187cc5d6770a7041a936bef,Move eventlet patch before call to loadapp,MERGED,2018-02-08 23:41:20.000000000,2018-02-26 14:10:19.000000000,2018-02-09 22:29:27.000000000,15,18,2,542497,c9410c7dd482cc1faefdfd9d9c83d225e7d28e8f,17,5,2,2,9625,Thiago da Silva,thiago,"Move eventlet patch before call to loadapp

Ran into an eventlet bug[0] while integration Swift/Barbican
in TripleO. It is very similar to a previous bug related
to keystonemiddleware[1]. Suggestion from urllib3[2] is to
patch eventlet ""as early as possible"". Traceback[3] shows that
urllib3 is being imported before the eventlet patch, so moved
the patch to before the loadapp call.

[0] - http://paste.openstack.org/show/658046/
[1] - https://bugs.launchpad.net/swift/+bug/1662473
[2] - https://github.com/shazow/urllib3/issues/1104
[3] - https://gist.github.com/thiagodasilva/12dad7dc4f940b046dd0863b6f82a78b

Change-Id: I74e580f31349bdefd187cc5d6770a7041a936bef
"
openstack%2Fpython-magnumclient~stable%2Fqueens~Id9c21c3a603266d6bd32fd744cb3167b01473127,openstack/python-magnumclient,stable/queens,bp/deprecate-magnum-client-stable/queens,Id9c21c3a603266d6bd32fd744cb3167b01473127,"OSC command for ca-show, ca-sign, ca-roatate and stats-list",MERGED,2018-02-26 11:46:14.000000000,2018-02-26 14:10:07.000000000,2018-02-26 14:10:07.000000000,385,0,0,548001,6d9a0cf2cf4b189f1bc4e8ae6646daf6a7eeb2b7,6,2,1,8,20498,Spyros Trigazis,strigazi,"OSC command for ca-show, ca-sign, ca-roatate and stats-list

Implemented Openstack command for ca-show, ca-sign, ca-rotate
and stats-list.

Change-Id: Id9c21c3a603266d6bd32fd744cb3167b01473127
Partially-Implements: blueprint deprecate-magnum-client
(cherry picked from commit ec33c56a236c28879509f04523af8e69303b21c6)
"
openstack%2Fmonasca-agent~master~I2bf84501cc51c24843d7c3befd8f9dd42f010f0c,openstack/monasca-agent,master,max_batch,I2bf84501cc51c24843d7c3befd8f9dd42f010f0c,Add max batch size for writing to API,MERGED,2018-01-03 15:34:55.000000000,2018-02-26 13:42:25.000000000,2018-01-04 18:33:42.000000000,17,5,1,530947,50824d11705c5806b76e1772e9ac09b5f5192a12,16,7,2,5,11809,Craig Bryant,craig-bryant,"Add max batch size for writing to API

Add configurable maximum size of batches of measumrement to write
to Monasca API. Prevents killing Monasca API in memory limited
configurations. The default is no limit.

Change-Id: I2bf84501cc51c24843d7c3befd8f9dd42f010f0c
Story: 2001434
"
openstack%2Fec2-api~stable%2Fqueens~If29d754c4101d3f687d10e521c0b30a21825691d,openstack/ec2-api,stable/queens,,If29d754c4101d3f687d10e521c0b30a21825691d,up version for queens branch after release,MERGED,2018-02-26 11:36:44.000000000,2018-02-26 13:40:26.000000000,2018-02-26 13:40:26.000000000,1,1,0,547997,771ac5015757918dd7d744c9d6ae3d8ca303dd92,6,2,1,1,10234,Andrey Pavlov,andrey-mp,"up version for queens branch after release

Change-Id: If29d754c4101d3f687d10e521c0b30a21825691d
"
openstack%2Fec2-api~master~I84bc33986e9f7376a76187a611c27f3915e38dbe,openstack/ec2-api,master,,I84bc33986e9f7376a76187a611c27f3915e38dbe,up version for master branch due to queens release,MERGED,2018-02-26 11:33:01.000000000,2018-02-26 13:36:04.000000000,2018-02-26 13:36:04.000000000,1,1,0,547996,7d57211b0fc75dc7d9246877d0b54c554411510b,6,2,1,1,10234,Andrey Pavlov,andrey-mp,"up version for master branch due to queens release

Change-Id: I84bc33986e9f7376a76187a611c27f3915e38dbe
"
openstack%2Fheat~master~I08770d2ae09891d7983345616186cff7c26df4ce,openstack/heat,master,rolling-upgrade,I08770d2ae09891d7983345616186cff7c26df4ce,Change transport_url in grenade-multinode job,MERGED,2017-10-09 03:53:20.000000000,2018-02-26 13:34:31.000000000,2018-02-26 13:34:31.000000000,11,0,18,510400,2efa4c7e82ba766b7ea8955ba8885121ab739a76,255,9,63,3,22406,Kien Nguyen,kiennt,"Change transport_url in grenade-multinode job

* Change transport_url to test Heat's upgrade strategy [1] in gate.

[1] https://review.openstack.org/475853/

Change-Id: I08770d2ae09891d7983345616186cff7c26df4ce
"
openstack%2Fdevstack~stable%2Focata~Ia5fd8654e062533a55de2e78d84128027c73c094,openstack/devstack,stable/ocata,fix-nova-timeout,Ia5fd8654e062533a55de2e78d84128027c73c094,Bump NOVA_READY_TIMEOUT to 120s,MERGED,2018-02-23 21:58:38.000000000,2018-02-26 13:24:21.000000000,2018-02-26 13:24:21.000000000,3,1,0,547677,66827dda40737f482b00580b52bc2865c605dcae,13,7,1,1,1004,Mohammed Naser,mnaser,"Bump NOVA_READY_TIMEOUT to 120s

This changes bumps NOVA_READY_TIMEOUT to 120s by default in Pike
and older because the UCA shipped libvirt (2.5.0) is very slow
to start up (taking almost a minute at times)

Change-Id: Ia5fd8654e062533a55de2e78d84128027c73c094
"
openstack%2Fdevstack~stable%2Focata~I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db,openstack/devstack,stable/ocata,fix-nova-timeout,I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db,Create NOVA_READY_TIMEOUT in is_nova_ready function,MERGED,2018-02-23 21:53:50.000000000,2018-02-26 13:24:18.000000000,2018-02-26 13:24:18.000000000,4,1,0,547675,5a66ce224c2fa7b34030307be53966b2bc393d38,13,8,1,2,1004,Mohammed Naser,mnaser,"Create NOVA_READY_TIMEOUT in is_nova_ready function

The function was introduced in [0] using a hardcoded timeout of 60
seconds which turns out to be too small on slow machines. Create a new
global variable NOVA_READY_TIMEOUT instead so that users can
override the timeout if necessary.

[0] I32eb59b9d6c225a3e93992be3a3b9f4b251d7189

Co-Authored-By: Mohammed Naser <mnaser@vexxhost.com>
Change-Id: I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db
"
openstack%2Fnova~master~I8191c9a390cb02b2a38a3f1c6e29457435994981,openstack/nova,master,bp/traits-on-list-resource-providers,I8191c9a390cb02b2a38a3f1c6e29457435994981,rp: GET /resource_providers?required=<traits>,MERGED,2018-02-22 01:35:50.000000000,2018-02-26 13:24:13.000000000,2018-02-26 13:24:13.000000000,177,8,38,546837,558540a27c01bf048d23dd7053d0601b5282d40d,104,20,7,10,14070,Eric Fried,efried,"rp: GET /resource_providers?required=<traits>

Introduce placement microversion 1.18 with a new ?required=<trait list>
query parameter accepted on the GET /resource_providers API.  Results
are filtered by providers possessing *all* of the specified traits.
Empty/invalid traits result in 400 errors.

Change-Id: I8191c9a390cb02b2a38a3f1c6e29457435994981
blueprint: traits-on-list-resource-providers
"
openstack%2Frally~master~I6964139ed3629abf5e5788595b9144c7b42635ce,openstack/rally,master,fix_cli_job,I6964139ed3629abf5e5788595b9144c7b42635ce,Fix cli job,MERGED,2018-02-26 11:58:47.000000000,2018-02-26 12:36:50.000000000,2018-02-26 12:36:50.000000000,3,0,0,548008,428af69fdf68489e2debf05e06aead6daf98a68e,7,3,1,1,9545,Andrey Kurilin,akurilin,"Fix cli job

Change-Id: I6964139ed3629abf5e5788595b9144c7b42635ce
"
openstack%2Fnetworking-bagpipe~master~I412c310af40c4053451a2b9b4f8fcd741a85939a,openstack/networking-bagpipe,master,bug/1751302,I412c310af40c4053451a2b9b4f8fcd741a85939a,"bagpipe ml2: agent extension, do not modify device_details on callbacks",MERGED,2018-02-23 15:47:58.000000000,2018-02-26 12:36:40.000000000,2018-02-26 10:55:02.000000000,3,3,0,547485,f2afcdd00271a8dde18e521a362bd8f7953a69c1,11,2,1,1,12021,Thomas Morin,tmorin,"bagpipe ml2: agent extension, do not modify device_details on callbacks

Modifying the device details dictionnary on handle_port or delete_port
callbacks is something that has, of course, side effects... :-/

Change-Id: I412c310af40c4053451a2b9b4f8fcd741a85939a
Closes-Bug: 1751302
"
openstack%2Fheat~master~Ieebe6a6cb99ece42fd06f1bb6626ffb37dec1f6d,openstack/heat,master,Unskip-StackCancelTest,Ieebe6a6cb99ece42fd06f1bb6626ffb37dec1f6d,Unskip StackCancelTest,MERGED,2017-12-17 16:20:47.000000000,2018-02-26 12:34:12.000000000,2018-02-26 12:34:11.000000000,1,2,0,528572,c6e6196e690e7ff89809c79a7fbac2e26da24f8d,18,5,2,1,12404,Rico Lin,rico.lin,"Unskip StackCancelTest

python-heatclient is bumped, time to resume this test.

Change-Id: Ieebe6a6cb99ece42fd06f1bb6626ffb37dec1f6d
"
openstack%2Fcinder~master~Ief555aa3211b0c1405d2abb155f9ddd44fa149fc,openstack/cinder,master,python3.5,Ief555aa3211b0c1405d2abb155f9ddd44fa149fc,Add python 3.5 in classifier,MERGED,2017-06-27 10:25:10.000000000,2018-02-26 12:31:11.000000000,2018-02-26 12:31:11.000000000,2,0,0,477873,344a10b379c837d088c144172e750ad5968a221d,75,52,2,1,21204,iswarya vakati,iswarya_vakati,"Add python 3.5 in classifier

Now we can support py35 in classifier.

Change-Id: Ief555aa3211b0c1405d2abb155f9ddd44fa149fc
"
openstack%2Frally~master~I97b4ffbb7ed774f4a640e1e8e4adb50c37f3a6d6,openstack/rally,master,functional,I97b4ffbb7ed774f4a640e1e8e4adb50c37f3a6d6,[functional] Do not merge stderr with stdout in case of json,ABANDONED,2017-10-30 16:17:19.000000000,2018-02-26 12:27:08.000000000,,38,31,0,516375,9bac3ba7d74f71ded9bde372464778c9f04a443f,9,3,2,3,9545,Andrey Kurilin,akurilin,"[functional] Do not merge stderr with stdout in case of json

Different kind of warnings are going to stderr by design to not break
the output. Merging stderr with stdout can lead to broken json objects.

Change-Id: I97b4ffbb7ed774f4a640e1e8e4adb50c37f3a6d6
"
openstack%2Fdevstack-gate~master~I1f7af7c0c79d7efff716564a817bc79365142516,openstack/devstack-gate,master,typo,I1f7af7c0c79d7efff716564a817bc79365142516,[trivial] Remove redundant double quotes,ABANDONED,2017-11-06 12:40:08.000000000,2018-02-26 12:26:57.000000000,,1,1,0,517980,cba8a9970ead6494b1d572b22cd3997d9e0e72e3,5,3,1,1,9545,Andrey Kurilin,akurilin,"[trivial] Remove redundant double quotes

Change-Id: I1f7af7c0c79d7efff716564a817bc79365142516
"
openstack%2Frally~master~Icb5225f6657cbd0d1728f476b465fcad0b4e9299,openstack/rally,master,fix_functional,Icb5225f6657cbd0d1728f476b465fcad0b4e9299,"Revert ""Use openstack-tox-functional""",ABANDONED,2018-01-09 12:29:21.000000000,2018-02-26 12:26:32.000000000,,12,2,0,532171,8f4880638f6367e3243d968e1cb89a9d22c7250a,6,2,2,1,9545,Andrey Kurilin,akurilin,"Revert ""Use openstack-tox-functional""

For some reasons, after we migrated to openstack-tox job, several tests
began to fail. Looks like concurrency issues, which should not be
affected in case of calling regular `tox -efunctional`

This reverts commit 70e204ca8e29bb9a08e22f3ea701232de687b00f.

Change-Id: Icb5225f6657cbd0d1728f476b465fcad0b4e9299
"
openstack%2Frally~master~I0d05f346b16e53080f54358acb63a773ef05614e,openstack/rally,master,uc,I0d05f346b16e53080f54358acb63a773ef05614e,WIP: raise uc of osprofiler,ABANDONED,2018-01-22 14:03:09.000000000,2018-02-26 12:26:19.000000000,,1,1,0,536373,0c9798cfc815b54945e092341499526449bff119,4,2,1,1,9545,Andrey Kurilin,akurilin,"WIP: raise uc of osprofiler

Change-Id: I0d05f346b16e53080f54358acb63a773ef05614e
"
openstack%2Fsolum~master~Icfdffbd820b5f07b1682c75e4904799c9481f88d,openstack/solum,master,,Icfdffbd820b5f07b1682c75e4904799c9481f88d,Remove empty files,MERGED,2018-02-22 11:14:47.000000000,2018-02-26 12:25:05.000000000,2018-02-26 12:25:05.000000000,0,0,0,546950,ffec394dd71636d8c81f9593c08c6b080b4e1a45,6,2,1,1,19853,Nguyen Hung Phuong,phuongnh,"Remove empty files

contrib/lp-cedarish/vm/elements/cedarish/post-install.d/09-cleanup
is empty file. We probably should delete it.

Change-Id: Icfdffbd820b5f07b1682c75e4904799c9481f88d
"
openstack%2Frally~master~Id77333f7187c1c144a40736d91b1c01adbff1d3e,openstack/rally,master,dirty_hack,Id77333f7187c1c144a40736d91b1c01adbff1d3e,DO NOT MERGE,ABANDONED,2017-09-21 10:15:44.000000000,2018-02-26 12:25:03.000000000,,1,1,0,506099,74524f35a3846b7ddcdad1965b7b38f2f908abe2,4,1,2,1,9545,Andrey Kurilin,akurilin,"DO NOT MERGE

Change-Id: Id77333f7187c1c144a40736d91b1c01adbff1d3e
"
openstack%2Fdesignate-dashboard~stable%2Fqueens~I6a452fb49319a4793f8c40812ab25afcad3d9a9b,openstack/designate-dashboard,stable/queens,zanata/translations,I6a452fb49319a4793f8c40812ab25afcad3d9a9b,Imported Translations from Zanata,MERGED,2018-02-26 07:25:05.000000000,2018-02-26 12:11:24.000000000,2018-02-26 12:11:23.000000000,31,9,0,547911,5570a2dd51ccd3750012bfde9991f0689a02323b,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6a452fb49319a4793f8c40812ab25afcad3d9a9b
"
openstack%2Fdesignate-dashboard~master~Ia03625573ae422084dee98ecc651efe16ea9cfee,openstack/designate-dashboard,master,zanata/translations,Ia03625573ae422084dee98ecc651efe16ea9cfee,Imported Translations from Zanata,MERGED,2018-02-21 07:26:17.000000000,2018-02-26 12:08:36.000000000,2018-02-26 12:08:36.000000000,31,120,0,546515,c863679a4f46bd84cc90333abdfdf1970399f558,6,2,1,12,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia03625573ae422084dee98ecc651efe16ea9cfee
"
openstack%2Fmistral~master~I679b8338dade284817000670e96ab108481372ae,openstack/mistral,master,improve/fail_action,I679b8338dade284817000670e96ab108481372ae,Add the 'error_data' parameter to the FailAction,MERGED,2017-12-17 12:20:52.000000000,2018-02-26 12:07:48.000000000,2018-02-26 12:07:47.000000000,43,11,19,528543,d2ffecd0035bd0619fd31b90f40dfefdf4aad1ed,34,5,8,3,27008,Vitalii Solodilov,mcdoker18,"Add the 'error_data' parameter to the FailAction

This may be useful for a testing purpose if you want to emulate a
action error with data for timeout, retry and the rest of task policies

Change-Id: I679b8338dade284817000670e96ab108481372ae
Signed-off-by: Vitalii Solodilov <mcdkr@yandex.ru>
"
openstack%2Fhorizon~stable%2Fqueens~Id96c0706b79ca9ae12093088fd28da091d170834,openstack/horizon,stable/queens,zanata/translations,Id96c0706b79ca9ae12093088fd28da091d170834,Imported Translations from Zanata,MERGED,2018-02-26 07:42:43.000000000,2018-02-26 12:06:28.000000000,2018-02-26 12:06:27.000000000,31,12,0,547920,d017fde2a0fdc48e4687f0f5ae0362ba6c5ad66a,6,2,1,3,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id96c0706b79ca9ae12093088fd28da091d170834
"
openstack%2Fhorizon~master~Ic00224f789a94c19adda22d5cfb0d2f1c2e38b6d,openstack/horizon,master,zanata/translations,Ic00224f789a94c19adda22d5cfb0d2f1c2e38b6d,Imported Translations from Zanata,MERGED,2018-02-26 07:43:11.000000000,2018-02-26 12:06:24.000000000,2018-02-26 12:06:24.000000000,24,4,0,547921,ce984d073e13eeb556f25cc6c6adbad0c7c6ca94,6,2,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ic00224f789a94c19adda22d5cfb0d2f1c2e38b6d
"
openstack%2Fneutron-fwaas~master~I375c61e09a76e8b195b19c962b1c561fcbe5ffb0,openstack/neutron-fwaas,master,addpep8,I375c61e09a76e8b195b19c962b1c561fcbe5ffb0,"Enable hacking-extensions H204, H205",MERGED,2018-02-01 02:47:50.000000000,2018-02-26 12:03:58.000000000,2018-02-26 12:03:58.000000000,3,1,0,539776,b120784f7ff2ac4e84acf22d3db7a9ccd43524f2,11,5,2,1,22255,Tuan,Tuan,"Enable hacking-extensions H204, H205

This patch enable extensions:
-[H204] Use assert(Not)Equal to check for equality.
-[H205] Use assert(Greater|Less)(Equal) for comparison.

Change-Id: I375c61e09a76e8b195b19c962b1c561fcbe5ffb0
"
openstack%2Fneutron-fwaas~master~I69bc003019560eb24ac1ba8e418b80129935f885,openstack/neutron-fwaas,master,,I69bc003019560eb24ac1ba8e418b80129935f885,Fix V2 update_firewall_group logging,MERGED,2018-01-08 11:53:03.000000000,2018-02-26 12:03:57.000000000,2018-02-26 12:03:57.000000000,1,1,0,531722,83f85e10dc6fb11aa55e835a3f557624db9708c1,10,6,1,1,20363,Adit Sarfaty,asarfaty,"Fix V2 update_firewall_group logging

Change-Id: I69bc003019560eb24ac1ba8e418b80129935f885
"
openstack%2Fdevstack~master~I5445928ec2ac9b4ad4cf764964904b1e7344c07a,openstack/devstack,master,multinode_zuulv3,I5445928ec2ac9b4ad4cf764964904b1e7344c07a,DNM Check work dir,ABANDONED,2018-02-26 09:39:56.000000000,2018-02-26 12:03:00.000000000,,18,0,0,547954,fac47ed7f52d95b81d22e482f021abe88253919f,7,3,3,2,1921,Andrea Frittoli,andrea-frittoli,"DNM Check work dir

Change-Id: I5445928ec2ac9b4ad4cf764964904b1e7344c07a
"
openstack%2Fptgbot~master~Iaa75da497f026e0d0e601c54d9ddcd52f0028367,openstack/ptgbot,master,hotfixes,Iaa75da497f026e0d0e601c54d9ddcd52f0028367,Fix crash w/ slot codes with more than one hyphen,MERGED,2018-02-26 11:28:18.000000000,2018-02-26 11:56:19.000000000,2018-02-26 11:56:19.000000000,2,2,2,547994,8108273be4a607bbd79405ef44ba3a1bd1485bfb,13,4,3,1,308,Thierry Carrez,ttx,"Fix crash w/ slot codes with more than one hyphen

Split room code only once so that if (wrong) slot codes with
more than one hyphen are entered, it won't crash the bot.

Change-Id: Iaa75da497f026e0d0e601c54d9ddcd52f0028367
"
openstack%2Fmurano~master~Ie0f3488af6771aca0dabec65db3e096cd1f96848,openstack/murano,master,,Ie0f3488af6771aca0dabec65db3e096cd1f96848,Remove empty file,MERGED,2018-02-23 09:35:04.000000000,2018-02-26 11:55:49.000000000,2018-02-26 11:55:49.000000000,0,0,0,547339,36ed695e33f4b6ef24ee3a4131bd551cb11799ee,7,3,1,1,19853,Nguyen Hung Phuong,phuongnh,"Remove empty file

murano/tests/unit/api/v1/cloudfoundry/test_router.py
is empty file. We probably should delete it.

Change-Id: Ie0f3488af6771aca0dabec65db3e096cd1f96848
"
openstack%2Fpython-magnumclient~master~I45c58df5c7457aec419074e4719ef63fb7a0d0b9,openstack/python-magnumclient,master,,I45c58df5c7457aec419074e4719ef63fb7a0d0b9,Replace six.iteritems() with dict.items() in python-magnumclient,MERGED,2017-08-07 07:00:23.000000000,2018-02-26 11:52:14.000000000,2018-02-26 11:40:29.000000000,0,0,0,491372,4f35b15ad92a6fe07505b994f0d11c5983a99dc9,12,4,2,0,25432,yanghuichan,yanghuichan,"Replace six.iteritems() with dict.items() in python-magnumclient

1.As mentioned in [1], we should avoid using six.iteritems
to achieve iterators. We can use dict.items instead, as it
will return iterators in PY3 as well. And dict.items/keys
will more readable.
2.In py2, the performance about list should be negligible,
see the link [2].
[1] https://wiki.openstack.org/wiki/Python3#Common_patterns
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: I45c58df5c7457aec419074e4719ef63fb7a0d0b9
"
openstack%2Ftaskflow~stable%2Fqueens~If6d19bc9fcf1f1813cb087d42dc7ba6a61c71b3d,openstack/taskflow,stable/queens,bug/1748241-stable/queens,If6d19bc9fcf1f1813cb087d42dc7ba6a61c71b3d,Fix invalid json unit test,MERGED,2018-02-18 11:24:00.000000000,2018-02-26 11:51:54.000000000,2018-02-26 11:51:54.000000000,5,1,0,545674,50897c0b0a5d389f1571d4079e10643ab537fa53,11,4,1,1,11904,Sean McGinnis,SeanM,"Fix invalid json unit test

Recent versions of oslo.serialization have made it possible to dump
exceptions to JSON, which broke a unit test in taskflow that
assumed exceptions were unserializable.  This change switches to an
explicitly unserializable class for that test.

Change-Id: If6d19bc9fcf1f1813cb087d42dc7ba6a61c71b3d
Closes-Bug: 1748241
(cherry picked from commit 44ce6eae918d44c0ee85998d0526e916dee8de26)
"
openstack%2Fpython-magnumclient~master~I0b9b241c7940f231c07419cad3674c1486a8418b,openstack/python-magnumclient,master,,I0b9b241c7940f231c07419cad3674c1486a8418b,"Revert ""Replace six.iteritems() with dict.items() in python-magnumclient""",ABANDONED,2018-02-26 11:49:18.000000000,2018-02-26 11:49:31.000000000,,0,0,0,548002,8f8b7691782b1794b731683ee06a5ceaa49ab97f,2,4,1,0,20498,Spyros Trigazis,strigazi,"Revert ""Replace six.iteritems() with dict.items() in python-magnumclient""

This reverts commit 4f35b15ad92a6fe07505b994f0d11c5983a99dc9.

Change-Id: I0b9b241c7940f231c07419cad3674c1486a8418b
"
openstack%2Fpython-magnumclient~master~Id9c21c3a603266d6bd32fd744cb3167b01473127,openstack/python-magnumclient,master,bp/deprecate-magnum-client,Id9c21c3a603266d6bd32fd744cb3167b01473127,"OSC command for ca-show, ca-sign, ca-roatate and stats-list",MERGED,2017-09-14 05:11:18.000000000,2018-02-26 11:46:14.000000000,2018-02-26 11:31:33.000000000,385,0,0,503952,ec33c56a236c28879509f04523af8e69303b21c6,33,7,10,8,20401,M V P Nitesh,mvpnitesh,"OSC command for ca-show, ca-sign, ca-roatate and stats-list

Implemented Openstack command for ca-show, ca-sign, ca-rotate
and stats-list.

Change-Id: Id9c21c3a603266d6bd32fd744cb3167b01473127
Partially-Implements: blueprint deprecate-magnum-client
"
openstack%2Fmagnum-ui~master~I07ff0dcc8f9059992e28caa0f93a174f929a5636,openstack/magnum-ui,master,zanata/translations,I07ff0dcc8f9059992e28caa0f93a174f929a5636,Imported Translations from Zanata,MERGED,2018-02-24 06:41:49.000000000,2018-02-26 11:45:35.000000000,2018-02-26 11:45:35.000000000,50,13,0,547720,baf68774e9981c717a098f5863f7663dd3313540,8,2,2,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I07ff0dcc8f9059992e28caa0f93a174f929a5636
"
openstack%2Fsenlin-dashboard~master~Ie788990e62d32b02cbfeb23b7179f24abb4bcc7f,openstack/senlin-dashboard,master,home-page,Ie788990e62d32b02cbfeb23b7179f24abb4bcc7f,Update home-page url,MERGED,2018-02-25 17:30:55.000000000,2018-02-26 11:45:23.000000000,2018-02-26 11:45:23.000000000,1,1,0,547847,ce6963c785c2cac4e9ae5dd7f35b50b560a1fb41,7,3,1,1,17130,melissaml,malei,"Update home-page url

The url of home-page is out of date. We need update it.

Change-Id: Ie788990e62d32b02cbfeb23b7179f24abb4bcc7f
"
openstack%2Fopenstack-ansible-os_octavia~stable%2Fqueens~I9b0239a9a24861734badbe874dc3e1139d7100c6,openstack/openstack-ansible-os_octavia,stable/queens,bug/1742718-stable/queens,I9b0239a9a24861734badbe874dc3e1139d7100c6,Skip logging for haproxy health checks,MERGED,2018-02-25 21:04:24.000000000,2018-02-26 11:42:51.000000000,2018-02-26 11:42:51.000000000,3,0,0,547860,c4cdbc5f36c43591cf729a5ce0f2a1e605c30be0,7,3,1,1,538,Major Hayden,rackerhacker,"Skip logging for haproxy health checks

The health check requests from haproxy cause uwsgi to write a
lot of useless log lines. This can make it more difficult to find
a problem with a particular service.

This patch adds a route to look for the `osa-haproxy-healthcheck`
user agent string, which haproxy uses when performing health checks.
Any requests with that user agent are not logged.

Closes-Bug: 1742718
Change-Id: I9b0239a9a24861734badbe874dc3e1139d7100c6
(cherry picked from commit e4d5cd0da7c535e7b235c5e9ab4899efb2a5c8e6)
"
openstack%2Foctavia-tempest-plugin~master~If9595e6317e4d5fa18d5b41973c1c6d73bd6309d,openstack/octavia-tempest-plugin,master,bp/l3-active-active,If9595e6317e4d5fa18d5b41973c1c6d73bd6309d,[WIP] Adding frontend_network_id and frontend_subnet_id parameters,NEW,2018-02-26 10:53:20.000000000,2018-02-26 11:39:58.000000000,,77,1,0,547982,273fc8d6faff2aa7f270e8ea294cc77f33205f1e,2,1,1,3,20226,Ganpat Agarwal,gans,"[WIP] Adding frontend_network_id and frontend_subnet_id parameters

Change-Id: If9595e6317e4d5fa18d5b41973c1c6d73bd6309d
Partiallly-Implements: bp l3-active-active
"
openstack%2Ffuel-devops~master~Id28f442959594aa5d6bb5c1d15e4f0880653070d,openstack/fuel-devops,master,,Id28f442959594aa5d6bb5c1d15e4f0880653070d,Avoid race condition using parallel fuel-devops env manipulations,MERGED,2018-02-18 00:40:27.000000000,2018-02-26 11:30:38.000000000,2018-02-26 11:30:38.000000000,123,1,2,545645,cce44f4784b4e95a65db9edd0ba72988ad6ee2b7,13,4,3,6,11969,Dennis Dmitriev,ddmitriev,"Avoid race condition using parallel fuel-devops env manipulations

If multiple processes are creating/erasing different fuel-devops
environments at the same time, there can be race condition during
libvirt object creation/deletion like:
'bridge virbr3 already exists' and others.

This patch allows to use a lock file to avoid such situation:
export DEVOPS_LOCK_FILE=/run/lock/devops_lock

If the environment variable DEVOPS_LOCK_FILE is not set, then
the lock file is not used (backward compatibility to avoid any
errors caused by using the lock file by default).

Change-Id: Id28f442959594aa5d6bb5c1d15e4f0880653070d
"
openstack%2Freleases~master~I8cdbf160c5895b2be8d1da28e8a98afb2005a921,openstack/releases,master,Q-congress,I8cdbf160c5895b2be8d1da28e8a98afb2005a921,Congress Q cycle highlights,MERGED,2018-02-23 20:18:37.000000000,2018-02-26 11:29:53.000000000,2018-02-26 11:29:52.000000000,13,0,2,547658,1d1c5dd8e4bbaa07c6645cba97d0099d16b6a93b,10,4,1,1,18591,Eric Kao,ekcs,"Congress Q cycle highlights

Change-Id: I8cdbf160c5895b2be8d1da28e8a98afb2005a921
"
openstack%2Foslo.messaging~stable%2Fqueens~Ib3483bb9f4a8a6c45cac7b0d281f4843a62c23d3,openstack/oslo.messaging,stable/queens,fix-rabbit-telemetry,Ib3483bb9f4a8a6c45cac7b0d281f4843a62c23d3,DNM: test telemetry fix,ABANDONED,2018-02-26 11:17:44.000000000,2018-02-26 11:27:09.000000000,,2,2,0,547989,f69b035a35c7231f69f872686d4aaec724b2eacf,2,0,1,1,8770,Ken Giusti,kgiusti,"DNM: test telemetry fix

Change-Id: Ib3483bb9f4a8a6c45cac7b0d281f4843a62c23d3
"
openstack%2Freleases~master~I1f56e167476881df51ac6d2d1a19913ce4d5242a,openstack/releases,master,panko-ocata,I1f56e167476881df51ac6d2d1a19913ce4d5242a,panko 2.0.3 (ocata-eol),MERGED,2018-02-23 14:40:51.000000000,2018-02-26 11:20:11.000000000,2018-02-26 11:20:11.000000000,4,0,0,547445,17bea9b5b02612b1d7156460e8b1a86c504031fd,6,2,1,1,6537,gordon chung,chungg,"panko 2.0.3 (ocata-eol)

Change-Id: I1f56e167476881df51ac6d2d1a19913ce4d5242a
"
openstack%2Fswift~master~I9cc610bffb2aa9a2f2b05f4c49e574ab56d05201,openstack/swift,master,547114,I9cc610bffb2aa9a2f2b05f4c49e574ab56d05201,Tighten up assertions around expirer's concurrency,MERGED,2018-02-22 19:16:26.000000000,2018-02-26 11:13:12.000000000,2018-02-26 11:13:12.000000000,6,4,0,547114,25540a415e7e36bb08a01a14ca41e2d7591e62cb,12,4,3,1,15343,Tim Burke,tburke,"Tighten up assertions around expirer's concurrency

In particular, test that each work item is only done *once*.

Change-Id: I9cc610bffb2aa9a2f2b05f4c49e574ab56d05201
Related-Change: Ic0075a3718face8c509ed0524b63d9171f5b7d7a
"
openstack%2Fswift~master~Ic0075a3718face8c509ed0524b63d9171f5b7d7a,openstack/swift,master,fix_expirer_process_based_concurrency_test,Ic0075a3718face8c509ed0524b63d9171f5b7d7a,Remove confusing assertion from expirer's unit test,MERGED,2018-02-13 04:08:53.000000000,2018-02-26 11:13:08.000000000,2018-02-26 11:13:08.000000000,4,7,2,543784,58f5d89066adbd54403ad315ffe1f9b2f05aa583,13,5,3,1,14766,Kazuhiro MIYAHARA,miyahara,"Remove confusing assertion from expirer's unit test

In test_expirer.TestObjectExpirer.test_process_based_concurrency,
an assertion checks that expirer execute tasks in round-robin order
for target containers. But the assertion depends on task object path,
because task assignation for each process depends on md5 of task
object path. The dependency makes the assetion confusing.

Now, we have test_expirer.TestObjectExpirer.test_round_robin_order which
is added in [1]. So this patch remove the confusing assertion.

This patch will help to refactor expirer's task object parsing.
I will push patch for the refactoring after this patch.

[1]: https://review.openstack.org/#/c/538171

Change-Id: Ic0075a3718face8c509ed0524b63d9171f5b7d7a
"
openstack%2Fkeystone~master~I94ad9d2d79d9b1b187547d8129b617f7b919d8bb,openstack/keystone,master,api-typo,I94ad9d2d79d9b1b187547d8129b617f7b919d8bb,Correct typo in identity API reference,MERGED,2018-02-26 09:26:44.000000000,2018-02-26 11:13:01.000000000,2018-02-26 11:13:01.000000000,1,1,0,547951,615ee81b8aa0ec834dcf6264884ab92297da4634,8,5,1,1,9098,Nathan Kinder,nkinder,"Correct typo in identity API reference

This corrects a simple typo in the unified limits API reference.

Change-Id: I94ad9d2d79d9b1b187547d8129b617f7b919d8bb
"
openstack%2Fkeystone~master~I46d6715129845dbfad47475fc826f4bb7927f76a,openstack/keystone,master,zanata/translations,I46d6715129845dbfad47475fc826f4bb7927f76a,Imported Translations from Zanata,MERGED,2018-02-26 06:37:48.000000000,2018-02-26 11:12:53.000000000,2018-02-26 11:12:53.000000000,369,474,0,547901,149753348c07fb48d061d21361bec3e5a772aefb,6,2,1,14,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I46d6715129845dbfad47475fc826f4bb7927f76a
"
openstack%2Fswift~master~I3c6fe7327f5552cc2b8f0f0e42b41f8e989a0a7e,openstack/swift,master,trivialfix,I3c6fe7327f5552cc2b8f0f0e42b41f8e989a0a7e,Fix the incorrect reference links,MERGED,2018-02-26 07:49:13.000000000,2018-02-26 11:12:50.000000000,2018-02-26 11:12:50.000000000,3,3,0,547923,5017864133b5af289f205afaf76ffe4518688b3f,6,2,1,3,17130,melissaml,malei,"Fix the incorrect reference links

TrivialFix
[1] is the installation guide for OpenStack components, obviously,
we need [1] in the docs.

[1] https://docs.openstack.org/latest/install/

Change-Id: I3c6fe7327f5552cc2b8f0f0e42b41f8e989a0a7e
"
openstack%2Fnova~master~Ibcb6bf912b3fb69c8631665fef2832906ba338aa,openstack/nova,master,compute-rpc-drop4x,Ibcb6bf912b3fb69c8631665fef2832906ba338aa,Drop compute RPC 4.x compatibility,MERGED,2018-02-12 18:51:48.000000000,2018-02-26 11:12:45.000000000,2018-02-26 11:12:45.000000000,107,993,6,543580,a761e57368280b6d3e931831ecd393fd5787b3ef,36,13,1,5,4393,Dan Smith,danms,"Drop compute RPC 4.x compatibility

This removes our 4.x manager proxy, dropping server-side compatibility with
pre-Queens 4.x clients. It also drops all the compatibility code from our RPC
client code, removing our ability to send 4.x to older nodes. Since Queens
supported both 4.x and 5.0, we can drop all 4.x compatibility as we know that
N-1 nodes don't need it.

Change-Id: Ibcb6bf912b3fb69c8631665fef2832906ba338aa
"
openstack%2Fpython-magnumclient~stable%2Fqueens~I2cec19e24c6dd32e209ca65a26a2f1999d8289e0,openstack/python-magnumclient,stable/queens,1659189-stable/queens,I2cec19e24c6dd32e209ca65a26a2f1999d8289e0,"Now cluster-template-update works for ""labels""",MERGED,2018-02-26 10:48:34.000000000,2018-02-26 11:08:25.000000000,2018-02-26 11:08:25.000000000,16,1,0,547979,7ed2d75de362d4b0495a3666d4124c73cef28ddf,6,2,1,2,20498,Spyros Trigazis,strigazi,"Now cluster-template-update works for ""labels""

Now we are handling the label values converting them as a dictionary.
But as magnum-api only accepts the input as string. We are converting
the dictionary into string and passing to magnum-api. It is parsing
the string to dictionary and storing the label value a dictionary.

Change-Id: I2cec19e24c6dd32e209ca65a26a2f1999d8289e0
Depends-on: I4d64da78dc4ed4d5599533b54861b65bce609c28
Closes-Bug: #1659189
(cherry picked from commit c165071ff8fee67adbc6bf9acee0368cdebf5503)
"
openstack%2Foctavia~master~I58a21808ee3db67ee20e49caf2a966ff0f373f48,openstack/octavia,master,exclude-func-jobs-from-doc-changes,I58a21808ee3db67ee20e49caf2a966ff0f373f48,Don't run fucntional jobs for docs changes,MERGED,2017-12-07 23:54:36.000000000,2018-02-26 10:57:08.000000000,2018-02-03 23:29:13.000000000,54,148,4,526548,7cb7a6f1feebc6b3050aab1ce6628ce7d68fd0c5,27,7,6,2,11628,Michael Johnson,johnsom,"Don't run fucntional jobs for docs changes

Currently we run scenario and functional jobs for changes that only contain
documentation updates. This patch fixes this issue so that only relevant jobs
are run.

This patch also removes an exception for legacy ^tempest paths that
Octavia does not have.

Change-Id: I58a21808ee3db67ee20e49caf2a966ff0f373f48
"
openstack%2Fpython-magnumclient~master~I2cec19e24c6dd32e209ca65a26a2f1999d8289e0,openstack/python-magnumclient,master,1659189,I2cec19e24c6dd32e209ca65a26a2f1999d8289e0,"Now cluster-template-update works for ""labels""",MERGED,2017-08-22 07:37:55.000000000,2018-02-26 10:48:34.000000000,2018-02-20 14:29:14.000000000,16,1,7,496136,c165071ff8fee67adbc6bf9acee0368cdebf5503,38,7,8,2,20401,M V P Nitesh,mvpnitesh,"Now cluster-template-update works for ""labels""

Now we are handling the label values converting them as a dictionary.
But as magnum-api only accepts the input as string. We are converting
the dictionary into string and passing to magnum-api. It is parsing
the string to dictionary and storing the label value a dictionary.

Change-Id: I2cec19e24c6dd32e209ca65a26a2f1999d8289e0
Depends-on: I4d64da78dc4ed4d5599533b54861b65bce609c28
Closes-Bug: #1659189
"
openstack%2Fopenstack-ansible-galera_server~stable%2Fqueens~Ib65187c1239482bfd823b2f3dfd437aa7a709ccd,openstack/openstack-ansible-galera_server,stable/queens,bug/1654004,Ib65187c1239482bfd823b2f3dfd437aa7a709ccd,tasks: Replace deprecated 'include' statements,MERGED,2018-02-24 09:21:12.000000000,2018-02-26 10:39:06.000000000,2018-02-26 10:39:06.000000000,9,9,0,547739,93d27774a0f8dd43ab4b6cc431376a03b36da732,8,4,1,5,6816,Jesse Pretorius,jesse-pretorius,"tasks: Replace deprecated 'include' statements

Ansible 2.4+ complains that 'include' statements are deprecated in
favor of 'import_tasks' and 'include_tasks' so replace all of them.

Change-Id: Ib65187c1239482bfd823b2f3dfd437aa7a709ccd
(cherry picked from commit 579550d32d0d60e621cc12c85d5c0694580ef211)
"
openstack%2Fopenstack-ansible-galera_server~stable%2Fqueens~I18853707c29955186da5a1f4d6e80bc3012c04f9,openstack/openstack-ansible-galera_server,stable/queens,bug/1654004,I18853707c29955186da5a1f4d6e80bc3012c04f9,tasks: Fix use_percona_upstream variable usage,MERGED,2018-02-24 09:21:12.000000000,2018-02-26 10:39:05.000000000,2018-02-26 10:39:05.000000000,17,165,0,547738,462b92a0f833591a2a6f08a2599146d65bef3b8a,7,3,1,10,6816,Jesse Pretorius,jesse-pretorius,"tasks: Fix use_percona_upstream variable usage

The 'use_percona_upstream' variable had quite different and conflicting
meanings in the tasks. It's used to either denote that the upstream
packages will be used directly or that the upstream repositories will
be configured on the hosts and then use the packages from these
repositories. However, the packages in both cases are the same so the
variable was pointless in this form. The variable was meant to be used
to select between upstream and downstream repositories for the Percona
packages. Moreover, upstream does not provide packages for SUSE so we
have to exit the deployment if that variable is set.

Partial-Bug: #1654004
Change-Id: I18853707c29955186da5a1f4d6e80bc3012c04f9
(cherry picked from commit dbbcb56a62e4a97af3f63f970a34a3c815352ced)
"
openstack%2Fheat~master~I898810cfd6ac86eb54a14873d4e7ae17ce88abad,openstack/heat,master,bug/1607714,I898810cfd6ac86eb54a14873d4e7ae17ce88abad,Unskip test_cancel_update_server_with_port,ABANDONED,2017-09-25 02:30:34.000000000,2018-02-26 10:39:04.000000000,,1,2,0,506975,72370098b64966662eadb0f0805607c433780a94,4,0,1,1,8289,huangtianhua,huangtianhua,"Unskip test_cancel_update_server_with_port

Seems Nova bug 1607714 has been fixed.

Change-Id: I898810cfd6ac86eb54a14873d4e7ae17ce88abad
"
openstack%2Fopenstack-ansible-galera_server~stable%2Fqueens~Iae8b5d0e0998c85ee453efc6620940c80243540e,openstack/openstack-ansible-galera_server,stable/queens,bug/1654004,Iae8b5d0e0998c85ee453efc6620940c80243540e,vars: Install qpress only when galera_xtrabackup_compression is true,MERGED,2018-02-24 09:21:12.000000000,2018-02-26 10:38:13.000000000,2018-02-26 10:38:12.000000000,16,8,0,547737,a3aa5e7424189b24383da0985e916752198225df,8,4,1,6,6816,Jesse Pretorius,jesse-pretorius,"vars: Install qpress only when galera_xtrabackup_compression is true

The qpress library is only needed for xtrabackup compression. The
compression only occurs when a new node is joining the cluster
which shouldn't happen very often. The variable is set to true only
when the architecture is x86_64 since that's the only arch that's
supported by the upstream repository and CentOS and Ubuntu do not
provide qpress in the downstream distributions at all.

Change-Id: Iae8b5d0e0998c85ee453efc6620940c80243540e
(cherry picked from commit aff7866ffe0f4b5a15af594c0143a09704e59b5d)
"
openstack%2Fopenstack-ansible-plugins~master~I511c93ac65a2a8f74f84fda1628b102971f34308,openstack/openstack-ansible-plugins,master,,I511c93ac65a2a8f74f84fda1628b102971f34308,Update location of MAGIC_VARIABLE_MAPPING for ansible 2.5,ABANDONED,2018-02-17 05:46:29.000000000,2018-02-26 10:38:03.000000000,,13,9,0,545508,e20da41f51bef60e95d8c5ec0a52eddd15f2522b,4,2,1,1,2,Monty Taylor,mordred,"Update location of MAGIC_VARIABLE_MAPPING for ansible 2.5

This seems to be in ansible.constants now.

Change-Id: I511c93ac65a2a8f74f84fda1628b102971f34308
"
openstack%2Fceilometer~master~I927c46ef4d937300c18375a5429a66d9db37ffe4,openstack/ceilometer,master,zanata/translations,I927c46ef4d937300c18375a5429a66d9db37ffe4,Imported Translations from Zanata,MERGED,2018-02-26 07:50:29.000000000,2018-02-26 10:34:37.000000000,2018-02-26 10:34:37.000000000,7,1,0,547924,a2a04f05a1c40af5665f2b15930c16f0cf88ca65,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I927c46ef4d937300c18375a5429a66d9db37ffe4
"
openstack%2Ftripleo-ipsec~master~Ica9c2e9c0c2eb24b0f174d30a0d6af1e090768f4,openstack/tripleo-ipsec,master,bug/1751265,Ica9c2e9c0c2eb24b0f174d30a0d6af1e090768f4,Add order constraint for stop operation in resource agent,MERGED,2018-02-23 13:03:35.000000000,2018-02-26 10:15:57.000000000,2018-02-26 10:15:57.000000000,7,2,0,547418,61eac5e734f97ecf3ee2c176530174e7955aeabe,17,3,7,1,10873,Juan Antonio Osorio Robles,ejuaoso,"Add order constraint for stop operation in resource agent

We already have an order constraint for the start operation, apparently
we need another one for the stop operation too, as this assures that the
VIP is stopped before the tunnel is put down.

Change-Id: Ica9c2e9c0c2eb24b0f174d30a0d6af1e090768f4
Closes-Bug: #1751265
"
openstack%2Ftripleo-ipsec~master~Ifa588455b354bd81d63b4fb1698b3a2e492e6473,openstack/tripleo-ipsec,master,bug/1751265,Ifa588455b354bd81d63b4fb1698b3a2e492e6473,Add fallback tunnel option to resource agent,MERGED,2018-02-23 13:03:35.000000000,2018-02-26 10:15:23.000000000,2018-02-26 10:15:23.000000000,24,3,0,547417,e3bdcc16fc4a75c5442466085345ea34bb4974c3,16,3,4,2,10873,Juan Antonio Osorio Robles,ejuaoso,"Add fallback tunnel option to resource agent

This enables the resource agent to fall back to another tunnel when the
resource agent gets a stop operation. This effectively updates the xfrm
rules if done in the right order.

Change-Id: Ifa588455b354bd81d63b4fb1698b3a2e492e6473
Related-Bug: #1751265
"
openstack%2Fheat~master~I2884a316f917468468f01f04875af9745f766ffb,openstack/heat,master,guotao-heat,I2884a316f917468468f01f04875af9745f766ffb,Remove the deprecated giturl option,ABANDONED,2018-01-23 07:45:14.000000000,2018-02-26 10:09:55.000000000,,0,4,0,536703,08dd2a972815c84a510bd1f0a3fc96a2975d7545,4,2,1,1,27366,guotao,taoguo,"Remove the deprecated giturl option

From openstackdocstheme 1.18.0, valid Git URLs can be retrieved by
openstackdocstheme[1], we do not need giturl option anymore.

[1] https://review.openstack.org/532163

Change-Id: I2884a316f917468468f01f04875af9745f766ffb
"
openstack%2Fceilometer~stable%2Fpike~I8adc609cc21c86de2daba326d24b73a80d6eb61f,openstack/ceilometer,stable/pike,bug/1749960,I8adc609cc21c86de2daba326d24b73a80d6eb61f,Gracefully handle missing metadata in libvirt xml,MERGED,2018-02-16 16:27:28.000000000,2018-02-26 10:07:31.000000000,2018-02-26 10:07:30.000000000,35,22,0,545376,48515b4841c462ead3d04928801304b093d7594d,14,4,2,1,8745,Lars Kellogg-Stedman,lars,"Gracefully handle missing metadata in libvirt xml

Missing metadata in the libvirt domain xml for a nova instance would
cause ceilometer-compute to abort, leading to missing metrics for the
current and any subequent libvirt guests.

This commit puts a try/except AttributeError block around all the code
that is fetching attributes on the result of metadata_xml.find(...).

also pull in I41aa76cf9def3e8c4bceef0280d15c1fd7c48e3d

Change-Id: I8adc609cc21c86de2daba326d24b73a80d6eb61f
Closes-Bug: #1749960
(cherry picked from commit d2af7e9ece2f903633bf4e95208b2e3ba6ac464d)
"
openstack%2Fheat~master~I2161224dfcb1a78ea3b0bd37b1c75998a5b72011,openstack/heat,master,zanata/translations,I2161224dfcb1a78ea3b0bd37b1c75998a5b72011,Imported Translations from Zanata,MERGED,2018-02-26 06:50:40.000000000,2018-02-26 10:04:18.000000000,2018-02-26 10:04:18.000000000,5,2,0,547905,0dadb624462744cca4d3a3f1527290d6c9bc11e2,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2161224dfcb1a78ea3b0bd37b1c75998a5b72011
"
openstack%2Fec2-api~stable%2Fqueens~I161bf5da1744f95e55f4b14cf6adc817f1210dbf,openstack/ec2-api,stable/queens,,I161bf5da1744f95e55f4b14cf6adc817f1210dbf,update .gitreview for queens branch,MERGED,2018-02-23 08:31:42.000000000,2018-02-26 10:00:55.000000000,2018-02-26 10:00:55.000000000,1,0,0,547319,0b457adf56cbf0cfc42aa3e6e6af6091fa9aa13d,32,2,1,1,10234,Andrey Pavlov,andrey-mp,"update .gitreview for queens branch

Change-Id: I161bf5da1744f95e55f4b14cf6adc817f1210dbf
"
openstack%2Fec2-api~master~I5a46d7b9f6a1cf67d06e3fd121b8c60d227a23f7,openstack/ec2-api,master,trivialfix,I5a46d7b9f6a1cf67d06e3fd121b8c60d227a23f7,Fix the incorrect reference links,MERGED,2018-02-26 08:02:17.000000000,2018-02-26 10:00:54.000000000,2018-02-26 10:00:54.000000000,1,1,0,547928,257e2a34a6e1628a4503468dc9ff75232f43773f,7,3,1,1,17130,melissaml,malei,"Fix the incorrect reference links

TrivialFix
[1] is the installation guide for OpenStack components, obviously,
we need [1] in the docs.

[1] https://docs.openstack.org/latest/install/

Change-Id: I5a46d7b9f6a1cf67d06e3fd121b8c60d227a23f7
"
openstack%2Frpm-packaging~master~I9d501b1f8ab899ac86c61b1f0ef96b3c943fe550,openstack/rpm-packaging,master,,I9d501b1f8ab899ac86c61b1f0ef96b3c943fe550,python-monascaclient: Drop oslo.service Requires,MERGED,2018-02-26 07:34:02.000000000,2018-02-26 10:00:26.000000000,2018-02-26 10:00:25.000000000,0,1,0,547912,ab0646dcca7539193d73c4b013da30011cf513e8,10,5,1,1,7102,Thomas Bechtold,toabctl,"python-monascaclient: Drop oslo.service Requires

Not needed.

Change-Id: I9d501b1f8ab899ac86c61b1f0ef96b3c943fe550
"
openstack%2Frpm-packaging~master~Ice421ce142735d4a54ef3b4f19a00cf176cef256,openstack/rpm-packaging,master,monasca-ui,Ice421ce142735d4a54ef3b4f19a00cf176cef256,Updated monasca-ui to 1.12.1,MERGED,2018-02-24 09:13:20.000000000,2018-02-26 10:00:24.000000000,2018-02-26 10:00:24.000000000,1,1,0,547732,7732418d8199fcdc01fd69902a540e7c55993ea2,10,6,1,1,27781,zhulingjie,zhulingjie,"Updated monasca-ui to 1.12.1

Change-Id: Ice421ce142735d4a54ef3b4f19a00cf176cef256
"
openstack%2Fneutron~master~I317e13b09b423910f3d17a209c992f00eb918725,openstack/neutron,master,bug/1748132,I317e13b09b423910f3d17a209c992f00eb918725,Support for creating router gateway port without fixed_ip.,NEW,2018-02-05 10:04:47.000000000,2018-02-26 09:39:34.000000000,,124,17,26,540806,e3e346af9650109da9f1159ba654a05a7ae68354,35,12,6,4,24438,Guoshuai Li,Guoshuai,"Support for creating router gateway port without fixed_ip.

When the router binding gateway is supported, it does not carry IPs
and can only communicate with other through floating IP.
This patch may be used to save the public IP in public cloud.

Creates a logical router with POST Request Example:
/v2.0/routers/
{
    ""router"": {
        ""name"": ""router1"",
        ""external_gateway_info"": {
            ""network_id"": ""xxx"",
            ""external_fixed_ips"": []
        }
    }
}

ApiImpact

Change-Id: I317e13b09b423910f3d17a209c992f00eb918725
Closes-Bug: #1748132
"
openstack%2Fpanko~stable%2Fpike~Ic303e4ed7af43c1d31559895c56a29b2c5ea85fc,openstack/panko,stable/pike,bug/1710812-stable/pike,Ic303e4ed7af43c1d31559895c56a29b2c5ea85fc,Fix api's event listing query to sqlalchemy with non-admin user,MERGED,2018-02-08 11:37:00.000000000,2018-02-26 09:38:25.000000000,2018-02-26 09:38:25.000000000,25,13,0,542142,4d238c29b749e33807935206dadcc64479421e59,13,5,1,2,18940,Gyorgy Szombathelyi,gyurco78,"Fix api's event listing query to sqlalchemy with non-admin user

Closes-Bug: #1710812

Original problem:

  Event storage backend is sqlalchemy(mariaDB).
  When listing events by:

         openstack event list [--limit n]
     or  ceilometer event-list [--limit n]

  using non-admin user, the number of events returned does not match the
  limit 'n'. It has much fewer events than it should have. Even when
  limit is not given, the default limit (100 if not changed) will apply
  and that the returned result is still wrong.

Problems in code:

  In the file 'panko/storage/impl_sqlalchemy.py
  The subquery for trait filtering(project_id, user_id mostly) which
  generated in function 'get_events' into variable 'trait_subq' (start
  around line 269) does not seem behave correctly.

  In the original code, the subquery is being wrapped into a deeper
  layered subquery when a new trait is applied. The resulting
  complicated subquery makes results have duplicate 'event_id's. And
  duplicate ids still count for the amount of the result, resulting in
  much fewer number of events than the one 'limit' flag sets.

Fixing:

  This part(line 269-299) which generates the subquery is modified.
  For each trait, the table the trait is in is adding to the 'from' part
  of the query. As for the 'where' section, the trait is filtered, and
  the event_id should be the same as other ones.

  The function at the beginning is changed from '_build_trait_query' to
  '_get_model_and_conditions' which used by the part mentioned above.

  'sqlalchemy.orm.aliased' is imported to aliase tables since the same
  table may be selected multiple times, and it is required to apply
  'aliased' to the table model before adding them to the query.

Test:

  $ tox -e py27-mysql

  The difference is at function 'test_get_event_multiple_trait_filter'
  in file '/tests/functional/storage/test_storage_scenarios.py'.
  The order of the traits to filter can affect how the original code
  produce the subquery, which is the cause of duplicate event_id.

Patch:

  1. Fix coding style according to Julien Danjou's suggestion.

  2. Add test code. Actually, modify existing one.

Change-Id: Ic303e4ed7af43c1d31559895c56a29b2c5ea85fc
(cherry picked from commit 99d591df950271594ee049caa3ff22304437a228)
"
openstack%2Fneutron~master~I1b81f5c3de9e6f2c0967c2db23ddb716ee7ec6b9,openstack/neutron,master,use-lib-gress-consts,I1b81f5c3de9e6f2c0967c2db23ddb716ee7ec6b9,use EGRESS_DIRECTION and INGRESS_DIRECTION from neutron-lib,MERGED,2018-01-05 18:30:36.000000000,2018-02-26 09:34:04.000000000,2018-02-26 09:34:04.000000000,97,109,0,531463,d55e824310b642ed21b0b81db3a65cf3d9f1df48,27,10,3,12,5367,boden,boden,"use EGRESS_DIRECTION and INGRESS_DIRECTION from neutron-lib

The EGRESS_DIRECTION and INGRESS_DIRECTION constants live in neutron-lib
now. This patch removes them from neutron and uses lib's version of
them.

NeutronLibImpact

Change-Id: I1b81f5c3de9e6f2c0967c2db23ddb716ee7ec6b9
"
openstack%2Ftripleo-ipsec~master~Iaca0231e61ffded7ff7f3d7dc9cbd03a2b4a2dfb,openstack/tripleo-ipsec,master,bug/1751265,Iaca0231e61ffded7ff7f3d7dc9cbd03a2b4a2dfb,Force ipsec resource agent overwrite,MERGED,2018-02-23 13:03:35.000000000,2018-02-26 09:33:26.000000000,2018-02-26 09:33:26.000000000,1,1,0,547416,26cb6895ba7ef497001bb66967e6e0a1b723ff55,9,3,2,1,10873,Juan Antonio Osorio Robles,ejuaoso,"Force ipsec resource agent overwrite

This takes the resource agent that's in the playbook as a priority,
allowing us to upgrade easier.

Change-Id: Iaca0231e61ffded7ff7f3d7dc9cbd03a2b4a2dfb
Related-Bug: #1751265
"
openstack%2Fpuppet-openstack-integration~master~I7c0824721f57a2c9d6034fcf649ef12f052d50be,openstack/puppet-openstack-integration,master,fix_tempest_run,I7c0824721f57a2c9d6034fcf649ef12f052d50be,[WIP] use black-regex to skip or excludes the tests,ABANDONED,2018-02-23 06:01:23.000000000,2018-02-26 09:30:44.000000000,,2,2,1,547278,d8ab9c2bb5398a16c40dc7f604b1c86bd98cef20,12,4,3,1,12393,chandan kumar,chkumar246,"[WIP] use black-regex to skip or excludes the tests

Depends-On: https://review.openstack.org/#/c/547106/

Change-Id: I7c0824721f57a2c9d6034fcf649ef12f052d50be
"
openstack%2Fkolla-ansible~master~Iab14884cfc037bc3cb8055db487c53aa14da070f,openstack/kolla-ansible,master,a1,Iab14884cfc037bc3cb8055db487c53aa14da070f,Replace kolla title with kolla-ansible,MERGED,2018-02-23 14:53:10.000000000,2018-02-26 09:22:12.000000000,2018-02-26 09:22:12.000000000,4,4,1,547470,077c85b13f58854360c69b508a0a0b3aa812c592,13,6,2,1,11869,zhubingbing,zhubingbing,"Replace kolla title with kolla-ansible

This is mainly kolla-ansible installation part

Change-Id: Iab14884cfc037bc3cb8055db487c53aa14da070f
"
openstack%2Foctavia~stable%2Fqueens~I834482a1d17ef9d016f705f128a88a19dd15eb4e,openstack/octavia,stable/queens,create-queens,I834482a1d17ef9d016f705f128a88a19dd15eb4e,Update UPPER_CONSTRAINTS_FILE for stable/queens,MERGED,2018-02-08 14:33:44.000000000,2018-02-26 09:22:06.000000000,2018-02-26 09:22:06.000000000,4,4,0,542229,6cda00f89f96e3b06ed7d070d5d797789a6e8944,10,4,1,1,22816,OpenStack Release Bot,release,"Update UPPER_CONSTRAINTS_FILE for stable/queens

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I834482a1d17ef9d016f705f128a88a19dd15eb4e
"
openstack%2Fkolla~master~Idfa19667f1fb83f2cb89712c594513188d859359,openstack/kolla,master,bug/1750967,Idfa19667f1fb83f2cb89712c594513188d859359,Add cap mgr 'allow *' for ceph admin key,MERGED,2018-02-22 06:50:39.000000000,2018-02-26 09:07:49.000000000,2018-02-26 09:07:49.000000000,1,1,0,546891,2222355d25ca56b69057d20c9d4d3ccc2750440f,14,7,1,1,7488,Jeffrey Zhang,Jeffrey4l,"Add cap mgr 'allow *' for ceph admin key

Some ceph cluster commands require this caps

Change-Id: Idfa19667f1fb83f2cb89712c594513188d859359
Closes-Bug: #1750967
"
openstack%2Fpuppet-neutron~master~Id07705a4b29d9372b06f1f245caa6899b559da6a,openstack/puppet-neutron,master,,Id07705a4b29d9372b06f1f245caa6899b559da6a,Allow vhost socket directory user/group as configurable from template,ABANDONED,2018-01-05 07:12:08.000000000,2018-02-26 09:02:56.000000000,,50,30,0,531324,1f5edf92e727e4920235dfb828bed4c943f7618e,14,4,3,3,20866,Janki Chhatbar,janki,"Allow vhost socket directory user/group as configurable from template

For ovs2.8 version, it is required to modify the vhost socket directory
permissions as openvswitch:hugetlbfs. Making these values as input
which could be configured from templates.

Change-Id: Id07705a4b29d9372b06f1f245caa6899b559da6a
"
openstack%2Fmistral~master~I017690b24e3dd1391fa264a6d88f158fce620dd1,openstack/mistral,master,modify,I017690b24e3dd1391fa264a6d88f158fce620dd1,[Trivialfix]Modify a grammatical error,ABANDONED,2018-02-26 08:46:15.000000000,2018-02-26 08:47:00.000000000,,1,1,0,547940,420bcd109e69f784c9223686de2b8bf977499997,2,0,1,1,23317,ShangXiao,ShangXiao,"[Trivialfix]Modify a grammatical error

Modify a grammatical error by deleting reduplicate ""the"".

Change-Id: I017690b24e3dd1391fa264a6d88f158fce620dd1
"
openstack%2Fopenstack-helm~master~I459fc05205e858083c0c1a97b5ce9d36d2d2944c,openstack/openstack-helm,master,armada_fluentd_exporter,I459fc05205e858083c0c1a97b5ce9d36d2d2944c,Add fluentd exporter to armada deployment,MERGED,2018-02-14 14:40:52.000000000,2018-02-26 08:42:06.000000000,2018-02-26 08:42:06.000000000,3,0,0,544362,97dbea37faad9198b91d08c8f9d3201efcd5d5da,9,3,2,1,17591,Steve Wilkerson,srwilkers,"Add fluentd exporter to armada deployment

This enables the fluentd exporter for prometheus metrics in the
armada deployment for openstack-helm

Depends-On: https://review.openstack.org/540068
Change-Id: I459fc05205e858083c0c1a97b5ce9d36d2d2944c
"
openstack%2Fpython-zunclient~master~Ia7968359862615bb38f9d1abb3f4a981c1329700,openstack/python-zunclient,master,,Ia7968359862615bb38f9d1abb3f4a981c1329700,Don't display 'Created At' for service,MERGED,2018-02-14 04:01:28.000000000,2018-02-26 08:02:45.000000000,2018-02-26 08:02:45.000000000,2,2,0,544161,e759493abcea96517e871f08b114a29976ae53f8,9,4,1,2,11536,hongbin,hongbin,"Don't display 'Created At' for service

This field doesn't provide too much information. Also, both nova
and cinder don't display this field so we remove it for consistency.

Change-Id: Ia7968359862615bb38f9d1abb3f4a981c1329700
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I161c72449e51bcfe656adb422cc6b8e419f05457,openstack/openstack-ansible-lxc_hosts,master,,I161c72449e51bcfe656adb422cc6b8e419f05457,Update the outdated links,ABANDONED,2018-02-26 07:54:15.000000000,2018-02-26 08:01:12.000000000,,4,4,0,547925,4e69d81e5acbca5c14da0e0fae2f71120f48fdd6,2,0,1,2,23314,lidong,lidong,"Update the outdated links

Change the outdated links to the latest links

Change-Id: I161c72449e51bcfe656adb422cc6b8e419f05457
"
openstack%2Fpython-zunclient~master~I1c60b34e6bb30ee3c10d8ffebc97b7b16ec84e90,openstack/python-zunclient,master,,I1c60b34e6bb30ee3c10d8ffebc97b7b16ec84e90,Print image uuid instead of the whole dict,MERGED,2018-02-19 21:23:51.000000000,2018-02-26 08:00:37.000000000,2018-02-26 08:00:37.000000000,2,2,0,545983,514534e6dbe17cd02bc3f241d4755263263da282,7,3,1,2,11536,hongbin,hongbin,"Print image uuid instead of the whole dict

After doing a commit, the CLI will print message like:

  Request to commit container XXX has been accepted.
  The image is {u'uuid': u'XXX'}.

Instead of printing the whole image dict, simply print the uuid
of the image will look better.

Change-Id: I1c60b34e6bb30ee3c10d8ffebc97b7b16ec84e90
"
openstack%2Fpython-zunclient~master~I51196335faba517e98ee748955d893b5da92dbda,openstack/python-zunclient,master,bp/golang-client,I51196335faba517e98ee748955d893b5da92dbda,Move Capsule from Experimental API to v1,MERGED,2018-02-13 10:02:11.000000000,2018-02-26 07:48:13.000000000,2018-02-26 07:48:13.000000000,10,176,0,543879,9e167c660898e4337d392a9230e10a38dd3ad76b,11,3,2,8,22076,Kevin Zhao,KevinZhao,"Move Capsule from Experimental API to v1

Part of blueprint golang-client

Depends-On: Id47c95ca60a47ce43f4a89c29cb5d19b09427b7b
Change-Id: I51196335faba517e98ee748955d893b5da92dbda
Signed-off-by: Kevin Zhao <kevin.zhao@arm.com>
"
openstack%2Fopenstack-helm-infra~master~I310e3f6db210e24024fba3335e4381c63ee18ae3,openstack/openstack-helm-infra,master,,I310e3f6db210e24024fba3335e4381c63ee18ae3,Makefile: sync with openstack-helm,MERGED,2018-02-20 16:55:04.000000000,2018-02-26 07:46:15.000000000,2018-02-26 07:46:14.000000000,2,2,0,546235,462567f3237dd4a49c2e6b1c47d887ba3f593a55,7,3,1,1,8898,Chris Wedgwood,anticw,"Makefile: sync with openstack-helm

Change-Id: I310e3f6db210e24024fba3335e4381c63ee18ae3
"
openstack%2Freleases~master~I671fac42e140b4afbc5e25f605b8b1ec9679fd0b,openstack/releases,master,fix,I671fac42e140b4afbc5e25f605b8b1ec9679fd0b,Update the home-page url in setup.cfg,ABANDONED,2018-02-26 07:02:30.000000000,2018-02-26 07:38:43.000000000,,1,1,0,547908,28f2f359971382b17afc4fe1baf70d92438ecfa7,4,2,1,1,23317,ShangXiao,ShangXiao,"Update the home-page url in setup.cfg

The url of home-page is out of date.
We need update it according to the newest OpenStack websites.

Change-Id: I671fac42e140b4afbc5e25f605b8b1ec9679fd0b
"
openstack%2Fkolla~master~I8bbf8257d5a932b7e9f2e9a64d62cd5892e3f1bb,openstack/kolla,master,,I8bbf8257d5a932b7e9f2e9a64d62cd5892e3f1bb,Seem there are some wrong in infra ubuntu repo,MERGED,2018-02-12 09:08:42.000000000,2018-02-26 07:37:55.000000000,2018-02-13 05:22:16.000000000,5,4,0,543387,7b562990b5b717bb83d56673b368de9b355bb315,13,3,2,1,7488,Jeffrey Zhang,Jeffrey4l,"Seem there are some wrong in infra ubuntu repo

Revert this after infra ubuntu repo is OK.

Change-Id: I8bbf8257d5a932b7e9f2e9a64d62cd5892e3f1bb
"
openstack%2Fopenstack-manuals~master~I5cb9fc56b1a1d7a497a21e9b5cc55942dea0e0dc,openstack/openstack-manuals,master,zanata/translations,I5cb9fc56b1a1d7a497a21e9b5cc55942dea0e0dc,Imported Translations from Zanata,MERGED,2018-02-26 06:10:56.000000000,2018-02-26 07:20:30.000000000,2018-02-26 07:20:30.000000000,11,7,0,547895,97990bb942a2748484da2fc270339f639d293578,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5cb9fc56b1a1d7a497a21e9b5cc55942dea0e0dc
"
openstack%2Fzun~master~I599a9f48a966d564da718b97bdad7cfac6ae4dfe,openstack/zun,master,bug/1750208,I599a9f48a966d564da718b97bdad7cfac6ae4dfe,Expose container filters via API,MERGED,2018-02-20 10:04:39.000000000,2018-02-26 06:57:54.000000000,2018-02-26 03:59:44.000000000,11,4,2,546098,00916cfdffe8d10ab6767a2a398743e477b6ea07,24,5,5,2,25695,Deepak Mourya,deepak_mourya,"Expose container filters via API

Right now, in DB layer, we support to filter containers
with certain attributes. In particular, we support
filter containers by attributes such as name, image,
project_id, status, etc. [1]. It is better to expose this
filter via REST API level. For example:

  GET /v1/containers?project_id=<my_project_id>

This should return a list of containers in particular project.

[1] https://github.com/openstack/zun/blob/master/zun/db/sqlalchemy/api.py#L132

Change-Id: I599a9f48a966d564da718b97bdad7cfac6ae4dfe
Closes-Bug: #1750208
"
openstack%2Fneutron~master~I01edd978450877caaac8c919d269516ea33a82d4,openstack/neutron,master,,I01edd978450877caaac8c919d269516ea33a82d4,[DNM] Testing https://review.openstack.org/#/c/540077/,ABANDONED,2018-02-19 12:40:10.000000000,2018-02-26 06:51:42.000000000,,2,0,0,545821,9094eacef66bfe59577138b8fd680fefa25b257c,11,4,2,2,13861,yatin,yatinkarel,"[DNM] Testing https://review.openstack.org/#/c/540077/

Testing on centos.

Change-Id: I01edd978450877caaac8c919d269516ea33a82d4
"
openstack%2Fmagnum~stable%2Fpike~Ife8de2706fc88ed90bc9454ea2ff3514cfcb0db1,openstack/magnum,stable/pike,,Ife8de2706fc88ed90bc9454ea2ff3514cfcb0db1,IGNORE: testing stable/pike jobs,ABANDONED,2017-10-16 05:07:56.000000000,2018-02-26 06:50:49.000000000,,1,0,0,512172,af8d804e50432b6cde6af395f875ecb0e067ee3b,11,2,2,1,13861,yatin,yatinkarel,"IGNORE: testing stable/pike jobs

Change-Id: Ife8de2706fc88ed90bc9454ea2ff3514cfcb0db1
"
openstack%2Ftacker~master~Ieb4d98fe374676bad101a6c2965354a9b19ea0a2,openstack/tacker,master,bug/1557008,Ieb4d98fe374676bad101a6c2965354a9b19ea0a2,Modify OpenWRT image & rewrite deployment OpenWRT instruction,MERGED,2018-02-12 10:19:58.000000000,2018-02-26 06:42:17.000000000,2018-02-26 06:42:17.000000000,209,76,16,543413,da9e0e4b9b0ba9dbea1c985b0ae169e5a910120c,40,5,17,3,27153,Nguyen Hai,nguyentrihai,"Modify OpenWRT image & rewrite deployment OpenWRT instruction

This patch adds the customized OpenWRT image that enables DHCP making
the VNF can be ping. Therefore, the continuously respawning of VNF
can be fixed.

This patch also rewrites the instruction of deploying VNF
based on OpenWRT.

Change-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2
Closes-Bug: #1557008
Closes-Bug: #1749243
Closes-Bug: #1709557
"
openstack%2Fcinder~master~I7faa711fc72cd81676812017a92ef40273f1bf7c,openstack/cinder,master,volume_tyes_descripency,I7faa711fc72cd81676812017a92ef40273f1bf7c,Fix discrepancy in api-ref for volume_types APIs,MERGED,2017-12-07 11:21:00.000000000,2018-02-26 06:35:35.000000000,2017-12-14 00:59:31.000000000,15,9,1,526344,029767c0f24274925b7e737952e38591907f1048,66,37,2,4,26541,Neha Alhat,nehaalhat,"Fix discrepancy in api-ref for volume_types APIs

In the api ref document, for create volume_types 'extra_specs'
parameter is missing. And for parameter 'is_public', in code it
is used as 'os-volume-type-access:is_public'. For update volume_types
api as per api ref, 'name' and 'extra_specs' parameters are mandatory.
But in code 'name' is optional and 'extra_specs' implementation is not
done.

This patch fixes this discrepancy by updating the api-ref according to
the code.

Change-Id: I7faa711fc72cd81676812017a92ef40273f1bf7c
"
openstack%2Foctavia~master~I002fef48fc6f6efa09822734c585cf7428921052,openstack/octavia,master,feature-volume-based,I002fef48fc6f6efa09822734c585cf7428921052,Raise exception when create volume error,ABANDONED,2018-02-26 06:05:11.000000000,2018-02-26 06:35:14.000000000,,4,0,3,547894,bbbdf927d8bca52994d43eeb966334b88ea77f32,5,3,1,1,27488,sapd,sapd,"Raise exception when create volume error

In this case, volume can be in error state or wait too long to create
We use two options for interval check state of volume and timeout for
raise exception.

Change-Id: I002fef48fc6f6efa09822734c585cf7428921052
"
openstack%2Foctavia~master~If3894ed66f789b1c183c2dda44c022093c92e0c7,openstack/octavia,master,feature-volume-based,If3894ed66f789b1c183c2dda44c022093c92e0c7,Fix requirements for cinder,ABANDONED,2018-02-24 10:35:30.000000000,2018-02-26 06:35:04.000000000,,1,1,0,547745,cbaec9da04e5a2999e2691a592b6e1a1ff132fee,4,2,1,1,27488,sapd,sapd,"Fix requirements for cinder

Change-Id: If3894ed66f789b1c183c2dda44c022093c92e0c7
"
openstack%2Foctavia~master~Icdd77c41727adf9032ff5dae4e408cea25d79cec,openstack/octavia,master,feature-volume-based,Icdd77c41727adf9032ff5dae4e408cea25d79cec,Fix pep8 syntax,ABANDONED,2018-02-26 06:30:35.000000000,2018-02-26 06:34:53.000000000,,3,4,0,547899,7fdd4cf8beb725cafbfdb1a083c344a4bf9493ca,2,0,1,2,27488,sapd,sapd,"Fix pep8 syntax

Change-Id: Icdd77c41727adf9032ff5dae4e408cea25d79cec
"
openstack%2Foctavia~master~I913f989ca35439681802e6b5622498b5347d08bf,openstack/octavia,master,feature-volume-based,I913f989ca35439681802e6b5622498b5347d08bf,Fix pep8,ABANDONED,2018-02-26 02:17:53.000000000,2018-02-26 06:34:44.000000000,,48,5,2,547881,5e00c52f7366840a9bf9ae7e7e541f6167b2a119,9,4,2,4,27488,sapd,sapd,"Fix pep8

Change-Id: I913f989ca35439681802e6b5622498b5347d08bf
"
openstack%2Foctavia~master~I5c0684144d3b16efa5f83c732c9f3ed22279a821,openstack/octavia,master,feature-volume-based,I5c0684144d3b16efa5f83c732c9f3ed22279a821,Fix pep8 syntax,ABANDONED,2018-02-24 16:26:40.000000000,2018-02-26 06:34:17.000000000,,8,3,0,547764,d9275a2c4601ddd41f9a4ab2f9b76b42495d1e58,6,3,1,3,27488,sapd,sapd,"Fix pep8 syntax

Change-Id: I5c0684144d3b16efa5f83c732c9f3ed22279a821
"
openstack%2Foctavia~master~I345c2327f513e53be4a8fb10ba33e360ee78095f,openstack/octavia,master,feature-volume-based,I345c2327f513e53be4a8fb10ba33e360ee78095f,Fix pep8 syntax,ABANDONED,2018-02-24 18:19:11.000000000,2018-02-26 06:33:34.000000000,,0,2,0,547777,463badf20cbc01aa949e746c0e3cc6951a6b4fb7,4,2,1,2,27488,sapd,sapd,"Fix pep8 syntax

Change-Id: I345c2327f513e53be4a8fb10ba33e360ee78095f
"
openstack%2Fos-net-config~stable%2Fnewton~I4975130961199ee04dd002ec987081299e3ddd4a,openstack/os-net-config,stable/newton,bug/1702457,I4975130961199ee04dd002ec987081299e3ddd4a,OvS 2.7 support - dpdk-devargs needs to provided for DPDK devices,MERGED,2018-02-12 09:21:13.000000000,2018-02-26 06:31:26.000000000,2018-02-26 06:31:26.000000000,129,4,0,543392,2c7c5e66a7a7393745d67e46de23e69c0f2d4733,10,7,1,4,21151,zenghui.shi,zshi,"OvS 2.7 support - dpdk-devargs needs to provided for DPDK devices

The pci address of the DPDK NIC needs to be specified as dpdk-devargs
when adding the DPDK port. This is required for using DPDK with
OvS 2.7

Change-Id: I4975130961199ee04dd002ec987081299e3ddd4a
Closes-Bug: #1702457
Signed-off-by: Karthik S <ksundara@redhat.com>
(cherry picked from commit 312a77a1ac353c1a135ac0b901863bbe8ee66f20)
"
openstack%2Fzun~master~Id47c95ca60a47ce43f4a89c29cb5d19b09427b7b,openstack/zun,master,bp/golang-client,Id47c95ca60a47ce43f4a89c29cb5d19b09427b7b,Move the Capsule API from Experimental to V1,MERGED,2018-02-13 10:01:17.000000000,2018-02-26 06:28:28.000000000,2018-02-26 06:28:28.000000000,37,306,0,543878,0e741d0ba06e9c40647484e815461423657d3ae9,13,4,3,15,22076,Kevin Zhao,KevinZhao,"Move the Capsule API from Experimental to V1

Part of blueprint golang-client

Change-Id: Id47c95ca60a47ce43f4a89c29cb5d19b09427b7b
Signed-off-by: Kevin Zhao <kevin.zhao@arm.com>
"
openstack%2Fcinder~master~I5c466eae9a5247729264b5d6822d83f53ef033ef,openstack/cinder,master,datacore-tests-speedup,I5c466eae9a5247729264b5d6822d83f53ef033ef,Speed up DataCore unit tests,MERGED,2017-12-12 08:22:25.000000000,2018-02-26 06:25:29.000000000,2017-12-25 23:56:32.000000000,30,5,2,527338,152cbaaf3a4903b078ee64c6cb093066a4a9d150,64,31,2,3,1736,Ivan Kolodyazhny,e0ne,"Speed up DataCore unit tests

Add necessary mocks for looping calls and remove timeouts in
DataCore unit tests.

This patch aslo changes 'start' method signature of ZeroIntervalLoopingCall
class to correspond the base method's signature.

Change-Id: I5c466eae9a5247729264b5d6822d83f53ef033ef
"
openstack%2Fos-net-config~stable%2Focata~I4975130961199ee04dd002ec987081299e3ddd4a,openstack/os-net-config,stable/ocata,bug/1702457,I4975130961199ee04dd002ec987081299e3ddd4a,OvS 2.7 support - dpdk-devargs needs to provided for DPDK devices,MERGED,2018-02-12 09:37:38.000000000,2018-02-26 06:18:35.000000000,2018-02-26 06:18:35.000000000,129,4,0,543396,694f06c69bdffa7cae0d6cf2b7052ea3ab7a6590,9,7,1,4,21151,zenghui.shi,zshi,"OvS 2.7 support - dpdk-devargs needs to provided for DPDK devices

The pci address of the DPDK NIC needs to be specified as dpdk-devargs
when adding the DPDK port. This is required for using DPDK with
OvS 2.7

Change-Id: I4975130961199ee04dd002ec987081299e3ddd4a
Closes-Bug: #1702457
Signed-off-by: Karthik S <ksundara@redhat.com>
(cherry picked from commit 312a77a1ac353c1a135ac0b901863bbe8ee66f20)
"
openstack%2Fcongress~master~If6e1e50160758cc9182333f2097fe6dbaaf351de,openstack/congress,master,,If6e1e50160758cc9182333f2097fe6dbaaf351de,fix a typo,ABANDONED,2018-02-23 12:22:00.000000000,2018-02-26 06:10:25.000000000,,2,2,0,547407,7a29d48e2b016ddaa7b29414c3c4f169b7ef2368,5,3,1,2,21486,wangqi,wangqi,"fix a typo

Change-Id: If6e1e50160758cc9182333f2097fe6dbaaf351de
"
openstack%2Fcinder~master~I240d8d6f1745f9611855e6f6897697b5a0748ef9,openstack/cinder,master,revert_to_snapshot,I240d8d6f1745f9611855e6f6897697b5a0748ef9,VMware: Revert to snapshot,MERGED,2017-08-22 18:50:32.000000000,2018-02-26 06:04:58.000000000,2017-11-08 22:47:54.000000000,107,0,1,496365,01971c9cb6cb555d0c440ffbb7332f18ed553930,146,47,4,6,9171,Vipin Balachandran,vbala,"VMware: Revert to snapshot

Adding support for revert-to-snapshot for COW based snapshot
in VMDK driver.

Change-Id: I240d8d6f1745f9611855e6f6897697b5a0748ef9
"
openstack%2Fneutron~master~I4f22889df0e20034ceb2ff328f4185e0a51eb991,openstack/neutron,master,neutronTemp,I4f22889df0e20034ceb2ff328f4185e0a51eb991,The file has grammar error,ABANDONED,2018-02-02 06:03:51.000000000,2018-02-26 06:04:47.000000000,,2,2,0,540261,d4ef8cfecf05c6c0245b79d4651c883a106c64d5,5,2,1,1,27399,zhouguowei,zhouguowei,"The file has grammar error

Change-Id: I4f22889df0e20034ceb2ff328f4185e0a51eb991
"
openstack%2Fneutron-vpnaas~master~I6f6ae79a79f8f426226af900027c8038ca537213,openstack/neutron-vpnaas,master,add-maintainer,I6f6ae79a79f8f426226af900027c8038ca537213,Add Hunt Xu to list of driver maintainers,MERGED,2018-02-12 02:50:54.000000000,2018-02-26 05:55:45.000000000,2018-02-26 05:55:45.000000000,1,1,0,543284,14f0ebb88282c1a3da746c00b09ab5931fc69bd8,20,5,1,1,15905,Cao Xuan Hoang,hoangcx,"Add Hunt Xu to list of driver maintainers

I would like to add Hunt Xu as a maintainer for libreswan driver
as He is currently focusing and active on it.

Change-Id: I6f6ae79a79f8f426226af900027c8038ca537213
"
openstack%2Fpython-tackerclient~master~I53022ca915d5119668777fcebf2af25199b5c326,openstack/python-tackerclient,master,bp/tacker-support-python-openstackclient,I53022ca915d5119668777fcebf2af25199b5c326,Add --tenant-id in VIM & VNFD osc commands,MERGED,2018-02-21 18:12:28.000000000,2018-02-26 05:31:36.000000000,2018-02-26 05:31:35.000000000,6,0,0,546718,a7b17cc23898b110d9a56fca70fcb16b43e050cc,12,3,4,2,27153,Nguyen Hai,nguyentrihai,"Add --tenant-id in VIM & VNFD osc commands

Compare to tacker commands, the vim and vnfd in osc commands
do not have --tenant-id (or project id) argument when registering
or creating the vim or vnfd.

Change-Id: I53022ca915d5119668777fcebf2af25199b5c326
Implements: blueprint tacker-support-python-openstackclient
"
openstack%2Fbarbican~master~Idd7c8940085d9146ec695d4b5251edb5c78de9a1,openstack/barbican,master,bug/1743688,Idd7c8940085d9146ec695d4b5251edb5c78de9a1,Remove use of unsupported TEMPEST_SERVICES variable,ABANDONED,2018-02-22 04:46:08.000000000,2018-02-26 04:17:51.000000000,,0,3,0,546865,a260867cb9dc2b5a938fb0f7abc66f8afd7c4a99,5,2,1,1,19853,Nguyen Hung Phuong,phuongnh,"Remove use of unsupported TEMPEST_SERVICES variable

TEMPEST_SERVICES global variable is not supported
by devstack since long back.
- I380dd20e5ed716a0bdf92aa02c3730359b8136e4
- I9c24705e494689f09a885eb0a640efd50db33fcf

Service availability of tempest known services will be
set by devstack with local check.
- I02be777bf93143d946ccbb8e9eff637bfd1928d4

This commit removes the unused TEMPEST_SERVICES setting
Related-Bug: #1743688

Change-Id: Idd7c8940085d9146ec695d4b5251edb5c78de9a1
"
openstack%2Fopenstack-helm~master~I3b84e19ea3e6c02b990a372c29dfa6ad27b83b1d,openstack/openstack-helm,master,openstack-object-simpler,I3b84e19ea3e6c02b990a372c29dfa6ad27b83b1d,"gate: Simpler ""openstack object""",ABANDONED,2018-01-29 20:22:28.000000000,2018-02-26 04:00:48.000000000,,6,6,1,539014,ab8b8344cca00db09c49e95ba2b0518d1cb438ff,13,5,5,2,8898,Chris Wedgwood,anticw,"gate: Simpler ""openstack object""

Change-Id: I3b84e19ea3e6c02b990a372c29dfa6ad27b83b1d
"
openstack%2Fzun~master~I4f8a807ee5bde3eee9f512e222c00950572ca989,openstack/zun,master,bug/1718879,I4f8a807ee5bde3eee9f512e222c00950572ca989,Failed to update memory for container,ABANDONED,2017-10-09 08:21:14.000000000,2018-02-26 03:39:32.000000000,,55,3,1,510439,a3c1e53c815afd3d7d3f52334b6f46a4b7e126cf,11,5,1,9,23365,feng.shengqin,FengShengqin,"Failed to update memory for container

The bug happens in docker v1.13:
$docker update -m 10240000 0526a29a5b
Error response from daemon: Cannot update container
0526a29a5b547812ce8c1f66e875cd45e2dbc7a54fa24e636b5f93d1cc8e0768:
Memory limit should be smaller than already set memoryswap limit,
update the memoryswap at the same time

Change-Id: I4f8a807ee5bde3eee9f512e222c00950572ca989
Closes-Bug: #1718879
"
openstack%2Fmasakari~master~I1d171718fbe23a66f5377164afbfee187efd41fb,openstack/masakari,master,fix,I1d171718fbe23a66f5377164afbfee187efd41fb,Replace logging with oslo_log in python file,ABANDONED,2017-12-25 09:44:02.000000000,2018-02-26 03:27:28.000000000,,2,3,0,530020,5e6460eb32634631999c4175bbcfb990b6658185,21,3,6,2,23317,ShangXiao,ShangXiao,"Replace logging with oslo_log in python file

The oslo.log (logging) configuration library provides standardized
configuration for all openstack projects. It also provides custom
formatters, handlers and support for context specific logging (like
resource id's etc).
I think it's better to use the common logging module.

Change-Id: I1d171718fbe23a66f5377164afbfee187efd41fb
"
openstack%2Fzaqar~master~I36d4dcb2a108f934baca21f15c951da15ba216b2,openstack/zaqar,master,g26,I36d4dcb2a108f934baca21f15c951da15ba216b2,Modify grammatical errors,MERGED,2018-02-06 09:53:34.000000000,2018-02-26 03:27:13.000000000,2018-02-26 03:27:13.000000000,2,2,0,541213,a4d942df01b56770542f49d100d96a25787323bd,13,5,2,2,27549,chenge,chenge,"Modify grammatical errors

Change-Id: I36d4dcb2a108f934baca21f15c951da15ba216b2
"
openstack%2Fzun~master~I0615493431dd882895d12ecf67c72fc3d7a200ec,openstack/zun,master,,I0615493431dd882895d12ecf67c72fc3d7a200ec,Remove unnecessary check on container init,MERGED,2018-02-19 03:37:13.000000000,2018-02-26 03:14:43.000000000,2018-02-26 03:14:43.000000000,3,31,0,545739,dfdc8e1b1b61ff5369209d94bf84de97f621bc90,17,4,4,2,11536,hongbin,hongbin,"Remove unnecessary check on container init

The container_start and container_stop are idempotent. It is safe
to run them again on startup if it was unfinished.

Change-Id: I0615493431dd882895d12ecf67c72fc3d7a200ec
"
openstack%2Fzun~master~Ib8fa46acf05ea067bc41795382e368dd296d1a60,openstack/zun,master,,Ib8fa46acf05ea067bc41795382e368dd296d1a60,Add status_reason on setting container to error,MERGED,2018-02-19 03:17:25.000000000,2018-02-26 03:14:42.000000000,2018-02-26 03:14:42.000000000,1,0,0,545737,87a3370ca09cfa982980d09e29858cd4df411fab,15,5,3,1,11536,hongbin,hongbin,"Add status_reason on setting container to error

Change-Id: Ib8fa46acf05ea067bc41795382e368dd296d1a60
"
openstack%2Fzun~master~Ide785f81ad80708e893a6f3941d8bc159e731e6a,openstack/zun,master,,Ide785f81ad80708e893a6f3941d8bc159e731e6a,Remove unnecessary try catch block,MERGED,2018-02-19 03:09:40.000000000,2018-02-26 03:14:40.000000000,2018-02-26 03:14:40.000000000,7,31,0,545736,c16afb3b242dbbafbc60946a59ab4d3c7aaf9c32,18,7,3,1,11536,hongbin,hongbin,"Remove unnecessary try catch block

That is because the wrapping methods are simply for spawning a thread
so it won't raise any exception.

Change-Id: Ide785f81ad80708e893a6f3941d8bc159e731e6a
"
openstack%2Fzun~master~Ia7e471e248bd0ae63606a55be10b7c633235d476,openstack/zun,master,,Ia7e471e248bd0ae63606a55be10b7c633235d476,Add additional task state to init,MERGED,2018-02-18 22:03:06.000000000,2018-02-26 03:14:39.000000000,2018-02-26 03:14:39.000000000,2,1,0,545721,cff9c4b3c376b91f939ba0938b0140b3bb924c30,16,6,4,1,11536,hongbin,hongbin,"Add additional task state to init

Change-Id: Ia7e471e248bd0ae63606a55be10b7c633235d476
"
openstack%2Fzun~master~I8279634e78a69419d5b18751c9f125335bd66d5a,openstack/zun,master,545643,I8279634e78a69419d5b18751c9f125335bd66d5a,Get local containers list from driver,MERGED,2018-02-18 00:03:57.000000000,2018-02-26 03:14:37.000000000,2018-02-26 03:14:37.000000000,99,3,4,545643,88261edd200e2b1cdac9a6e6bececc8d25d547b7,35,6,12,3,11536,hongbin,hongbin,"Get local containers list from driver

In before, we get the list of local containers from database.
In particular, we perform a DB call to list containers with
filters that matches the container's host to current host.
There are some corner cases that could produce an incomplete
list of local containers. For example, if a container is present
in the driver (Docker) but couldn't be found on querying the DB
due to host mismatch (which could happen for reasons such as
the host of the compute node is misconfigured).

To resolve the issue, this patch proposes to get a list of
containers from DB and get another list of containers from driver.
Then, take a union set of both lists. The final list will present
to periodic task to sync the container's state.

Change-Id: I8279634e78a69419d5b18751c9f125335bd66d5a
"
openstack%2Fzun~master~Ia583934ef0d3e39b043eeb059a5aa6ce58ec3503,openstack/zun,master,545643,Ia583934ef0d3e39b043eeb059a5aa6ce58ec3503,Add unit test for filter with list,MERGED,2018-02-18 05:25:00.000000000,2018-02-26 03:14:36.000000000,2018-02-26 03:14:36.000000000,15,0,0,545650,603236b953045b42dc60071730fa0222e2726ab4,26,7,5,1,11536,hongbin,hongbin,"Add unit test for filter with list

In before, we supports filter containers with string value.
For example, the filter can be

  {'name': 'my_container'}

The result will return a list of containers with that name.
Right now, we add support for list as filter value.
For example, the filter can be

  {'name': ['my_container', 'my_second_container']}

The result will be a list of containers with the name in the list.
This patch adds unit test case for this feature.

Change-Id: Ia583934ef0d3e39b043eeb059a5aa6ce58ec3503
"
openstack%2Fneutron-vpnaas~master~Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6,openstack/neutron-vpnaas,master,bug/1692130,Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6,Add IPv6 VPNaaS scenario tests,MERGED,2018-01-12 12:34:11.000000000,2018-02-26 03:11:23.000000000,2018-02-26 03:11:23.000000000,116,21,11,533172,3500b48c5e4e01e884fda99bd0bf853879884ffe,65,5,18,1,21781,Hunt Xu,huntxu,"Add IPv6 VPNaaS scenario tests

Change-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6
Closes-Bug: #1692130
"
openstack%2Fkuryr-libnetwork~master~I43f3402a72a0a999defab1da89e42ff297ca69f8,openstack/kuryr-libnetwork,master,fixBug,I43f3402a72a0a999defab1da89e42ff297ca69f8,remove KuryrException when create kuryr subnetpool,ABANDONED,2018-02-26 01:31:10.000000000,2018-02-26 02:57:10.000000000,,1,5,0,547873,5ae2364365fac7fc64cb036d00520094bae3a788,3,1,1,1,27701,WangChangyu,WangChangyu,"remove KuryrException when create kuryr subnetpool

DuplicatedResourceException would be raised if
there were same subnetpools, instead of KuryrException.

Change-Id: I43f3402a72a0a999defab1da89e42ff297ca69f8
"
openstack%2Fpython-tackerclient~master~I366923e2759ffd85bb4594b82b55472bbdb7f783,openstack/python-tackerclient,master,bug/1751441,I366923e2759ffd85bb4594b82b55472bbdb7f783,"Fix ""F821 undefined name 'unicode' error when run tox pep8",MERGED,2018-02-24 11:17:32.000000000,2018-02-26 02:51:29.000000000,2018-02-26 02:51:29.000000000,3,0,0,547747,a6b721690c8eeb6796664f314a77fda3e4476e6d,8,4,1,1,27068,Trinh Nguyen,dangtrinhnt,"Fix ""F821 undefined name 'unicode' error when run tox pep8

This patch fix the error when running tox pep8 on the master
branch of python-tackerclient:

./tackerclient/tacker/v1_0/vnfm/vnf.py:166:62: F821 undefined
name 'unicode'
            if isinstance(config, str) or isinstance(config, unicode):
                                                             ^
ERROR: InvocationError:
    '/home/projects/python-tackerclient/.tox/pep8/bin/flake8'

Change-Id: I366923e2759ffd85bb4594b82b55472bbdb7f783
Closes-bug: #1751441
"
openstack%2Fpython-tackerclient~master~I800c71a2c2cf5d1710ed6b4c9e4d5b63b31ced4f,openstack/python-tackerclient,master,bp/tacker-support-python-openstackclient,I800c71a2c2cf5d1710ed6b4c9e4d5b63b31ced4f,Complete VNFFGD osc commands,MERGED,2018-02-21 19:58:52.000000000,2018-02-26 02:47:19.000000000,2018-02-26 02:47:18.000000000,221,0,0,546757,d967a881aa4d7c0feac656d6d93cdd1e70eefb5d,11,3,3,2,27153,Nguyen Hai,nguyentrihai,"Complete VNFFGD osc commands

Please see the results here:
http://paste.openstack.org/show/680427/

Change-Id: I800c71a2c2cf5d1710ed6b4c9e4d5b63b31ced4f
Implements: blueprint tacker-support-python-openstackclient
"
openstack%2Fneutron-vpnaas~master~Ia9132cfbe3997d9fc54cf4864f42a7cdec055641,openstack/neutron-vpnaas,master,,Ia9132cfbe3997d9fc54cf4864f42a7cdec055641,Clean imports in code,MERGED,2018-02-21 08:44:06.000000000,2018-02-26 02:38:55.000000000,2018-02-26 02:38:55.000000000,9,5,0,546536,19dcd8f58add56faae24d25d6e6cb2a2b2a0103d,10,6,1,1,19853,Nguyen Hung Phuong,phuongnh,"Clean imports in code

In some part in the code we import objects. In the Openstack style guidelines
they recommend to import only modules. [1]: ""Do not import objects, only modules"".

[1] https://docs.openstack.org/hacking/0.10.3/

Change-Id: Ia9132cfbe3997d9fc54cf4864f42a7cdec055641
"
openstack%2Fwatcher~stable%2Fpike~I57c50ff97efa43efe4fd81875e481b25e9a18cc6,openstack/watcher,stable/pike,,I57c50ff97efa43efe4fd81875e481b25e9a18cc6,workload_stabilization trivial fix,MERGED,2018-02-20 14:42:04.000000000,2018-02-26 02:31:06.000000000,2018-02-26 02:31:06.000000000,1,1,0,546164,f5157f2894cb3f96d383fe66d5bca68be212a529,7,3,1,1,19055,Alexander Chadin,joker946,"workload_stabilization trivial fix

This fix allows to compare metric name by value,
not by object.

Change-Id: I57c50ff97efa43efe4fd81875e481b25e9a18cc6
"
openstack%2Fneutron-vpnaas-dashboard~master~If913cec5ac623a240b18b8fa3593530cce1bb3d8,openstack/neutron-vpnaas-dashboard,master,vpntemp,If913cec5ac623a240b18b8fa3593530cce1bb3d8,Change support to supported,ABANDONED,2018-02-07 06:03:37.000000000,2018-02-26 02:21:41.000000000,,2,2,0,541551,55eb2407786aa6a347566c5fd14316ad75cde353,6,4,1,1,27399,zhouguowei,zhouguowei,"Change support to supported

Change-Id: If913cec5ac623a240b18b8fa3593530cce1bb3d8
"
openstack%2Fzun~master~I6f8a54b290a7910248c776b42d486f8c9d362676,openstack/zun,master,bug/1745078,I6f8a54b290a7910248c776b42d486f8c9d362676,Consolidate periodic tasks,MERGED,2018-02-16 10:03:44.000000000,2018-02-26 02:07:30.000000000,2018-02-26 02:07:30.000000000,32,73,1,545254,80bdbb1c4f9033dee26586fa6fb42322e52b6ec7,17,4,4,4,25695,Deepak Mourya,deepak_mourya,"Consolidate periodic tasks

Right now, periodic tasks are defined in two files:

* https://github.com/openstack/zun/blob/master/zun/service/periodic.py
* https://github.com/openstack/zun/blob/master/zun/compute/manager.py

I think it is better to consolidate all periodic tasks into one file.
This will be slightly better for developers to search. Let's
follow nova's convention to define all compute node's periodic
task into compute/manager.py

Change-Id: I6f8a54b290a7910248c776b42d486f8c9d362676
Closes-Bug: #1745078
"
openstack%2Fsenlin~master~I727cd003c5b4295edcbfb5e0b5fbb9afc45f13eb,openstack/senlin,master,fix-url,I727cd003c5b4295edcbfb5e0b5fbb9afc45f13eb,Update url in HACKING.rst,MERGED,2018-02-25 17:36:06.000000000,2018-02-26 01:58:24.000000000,2018-02-26 01:58:24.000000000,1,1,0,547848,7d810d46c94ba028d88750213794be4c769ae548,6,2,1,1,17130,melissaml,malei,"Update url in HACKING.rst

Change-Id: I727cd003c5b4295edcbfb5e0b5fbb9afc45f13eb
"
openstack%2Fwatcher~master~I9770121b0b0064c3ddfb582e5eaf6ee52ae8d6bb,openstack/watcher,master,modify,I9770121b0b0064c3ddfb582e5eaf6ee52ae8d6bb,[Trivialfix]Modify a grammatical error,MERGED,2018-02-23 08:51:43.000000000,2018-02-26 01:47:50.000000000,2018-02-26 01:47:50.000000000,1,1,0,547323,dd210292ae07460bc26c30ba2f807125d91ef3c6,11,5,2,1,23317,ShangXiao,ShangXiao,"[Trivialfix]Modify a grammatical error

Modify a grammatical error in basic_consolidation.py.

Change-Id: I9770121b0b0064c3ddfb582e5eaf6ee52ae8d6bb
"
openstack%2Fdesignate~master~Icb8817a699a8c12957126a0499d95d13b8eeda6d,openstack/designate,master,OVO,Icb8817a699a8c12957126a0499d95d13b8eeda6d,Migrate object to OVO (7),MERGED,2017-06-08 09:22:35.000000000,2018-02-26 01:44:58.000000000,2018-02-26 01:44:57.000000000,454,1199,17,472176,b215bf69c000354089a190c52866724c85869364,97,10,28,50,19930,Dai Dang Van,daidv,"Migrate object to OVO (7)

- Remove old base objects

Co-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>

Change-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d
Implements: blueprint designate-rolling-upgrade
"
openstack%2Fdesignate~master~I00d72d83dafb28a2d94aeabd844559be92d131f2,openstack/designate,master,OVO,I00d72d83dafb28a2d94aeabd844559be92d131f2,Migrate object to OVO (6),MERGED,2017-06-08 02:29:19.000000000,2018-02-26 01:44:55.000000000,2018-02-26 01:44:55.000000000,22,13,1,472004,f4c96aaae0862413b0efa61b1f0b9ce1a28e038b,65,10,20,3,19930,Dai Dang Van,daidv,"Migrate object to OVO (6)

This commit will migrate:
- ValidationError and ValidationErrorList

Co-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>

Change-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2
Implements: blueprint designate-rolling-upgrade
"
openstack%2Ftooz~master~I328db3d0048386ddd2c4f785de542aeb7b98c6e1,openstack/tooz,master,updated-pti,I328db3d0048386ddd2c4f785de542aeb7b98c6e1,Follow the new PTI for document build,MERGED,2018-01-08 18:22:04.000000000,2018-02-26 01:30:23.000000000,2018-02-26 01:30:23.000000000,1,7,0,531871,f36f0fcdb78ea6cef9efecaa6c648b5fe1626b6e,10,4,1,2,11904,Sean McGinnis,SeanM,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:

https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:

http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I328db3d0048386ddd2c4f785de542aeb7b98c6e1
"
openstack%2Fzun~master~Id50401bf579b296872326d164b58aac6a30c7877,openstack/zun,master,,Id50401bf579b296872326d164b58aac6a30c7877,Fix the incorrect reference links,MERGED,2018-02-24 03:30:51.000000000,2018-02-26 01:00:43.000000000,2018-02-26 01:00:43.000000000,1,1,0,547701,902c45a4905013706e0e3a8e60612d82dd5c144e,8,4,1,1,25456,junboli,junboli,"Fix the incorrect reference links

TrivialFix
[1] is the installation guide for OpenStack components, obviously,
we need [1] in the docs.

[1] https://docs.openstack.org/latest/install/

Change-Id: Id50401bf579b296872326d164b58aac6a30c7877
"
openstack%2Fcinder~master~I1f08519e43883e37f2e6f9418c1634bb4e71ad9f,openstack/cinder,master,JeanCinderBakDel,I1f08519e43883e37f2e6f9418c1634bb4e71ad9f,"Increase description, when we can delete backup 1. the status of backup that can be deleted 2. when backup has incremental, you can't do it",ABANDONED,2018-02-07 10:22:52.000000000,2018-02-26 00:52:34.000000000,,4,0,2,541654,5ea44a7acc05fdffaac507f73c95214f47306fdd,90,39,3,1,27496,Xianjin Shao,shaoxj,"Increase description, when we can delete backup
1. the status of backup that can be deleted
2. when backup has incremental, you can't do it

Change-Id: I1f08519e43883e37f2e6f9418c1634bb4e71ad9f
"
openstack%2Fcinder~master~I8b5381a22488a5b97b453fb8918053a3b2d4b1eb,openstack/cinder,master,bp/cinder-backup-pigz-compress-support,I8b5381a22488a5b97b453fb8918053a3b2d4b1eb,Add pigz support for cinder-backup chunked driver compression,ABANDONED,2017-03-27 15:32:55.000000000,2018-02-26 00:41:30.000000000,,131,1,53,450291,e3c94142c1ad7a3f0133212fe115f34209de029a,550,61,35,6,25312,wzyuliyang,yuliyang,"Add pigz support for cinder-backup chunked driver compression

the python lib zlib used in chunked driver is too slow and
we use pigz to speed up

Implements blueprint cinder-backup-pigz-compress-support

Change-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb
"
openstack%2Fgovernance-uc~master~I6e8e77925d1d8daa94b9a431ce2517dc9ac966b0,openstack/governance-uc,master,cosmetic,I6e8e77925d1d8daa94b9a431ce2517dc9ac966b0,Update UC Charter,ABANDONED,2017-02-24 01:36:08.000000000,2018-02-26 00:32:08.000000000,,2,10,1,437748,63e7b7d63d11257b25332f8db1f8157d6a7306c9,12,3,2,1,17556,Melvin Hillsman,mrhillsman,"Update UC Charter

Fix line break under Process for Creating
a New Working Group/Functional Team.

Remove Initial Committee section since
Spring 2017 election is over.

Change-Id: I6e8e77925d1d8daa94b9a431ce2517dc9ac966b0
"
openstack%2Ffreezer-dr~master~Iece7e8c40d7fedd5294dc73f06d2991fdc797506,openstack/freezer-dr,master,,Iece7e8c40d7fedd5294dc73f06d2991fdc797506,Update homepage url for freezer,MERGED,2018-02-22 04:20:31.000000000,2018-02-25 23:55:20.000000000,2018-02-25 23:55:20.000000000,1,1,0,546863,48a402de4ab5d9cbbabbb89fa0b70c90b78c2a67,7,3,1,1,19853,Nguyen Hung Phuong,phuongnh,"Update homepage url for freezer

Change-Id: Iece7e8c40d7fedd5294dc73f06d2991fdc797506
"
openstack%2Fdesignate~master~I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5,openstack/designate,master,OVO,I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5,Migrate object to OVO (5),MERGED,2017-06-07 10:04:39.000000000,2018-02-25 23:24:24.000000000,2018-02-25 23:24:23.000000000,49,77,7,471700,e9cc75ff016532d8b4f60d8a8966843618e5d627,79,10,24,4,25254,Nguyen Van Trung,trungnv,"Migrate object to OVO (5)

This commit will migrate:
- Blacklist object
- Quota objects
- Floating_IP objects

Co-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>

Change-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5
Implements: blueprint designate-rolling-upgrade
"
openstack%2Fneutron-lbaas~master~I47a263b9a41d797c4db3c3fde8c052754287fea3,openstack/neutron-lbaas,master,,I47a263b9a41d797c4db3c3fde8c052754287fea3,Don't run scenario jobs for docs changes,MERGED,2018-01-17 04:54:22.000000000,2018-02-25 23:11:24.000000000,2018-02-25 23:11:24.000000000,20,73,0,534619,866a20cca62ec79d1bcd8ebb5998e881024c13e9,9,5,1,1,11628,Michael Johnson,johnsom,"Don't run scenario jobs for docs changes

Currently we run scenario jobs for changes that only contain documentation
updates. This patch fixes this issue so that only relevant jobs are run.

Change-Id: I47a263b9a41d797c4db3c3fde8c052754287fea3
"
openstack%2Fdevstack~stable%2Fpike~I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db,openstack/devstack,stable/pike,fix-nova-timeout,I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db,Create NOVA_READY_TIMEOUT in is_nova_ready function,MERGED,2018-02-23 21:53:38.000000000,2018-02-25 22:57:27.000000000,2018-02-25 22:57:27.000000000,4,1,0,547674,a3b62a26aefbb2f29ea760111c13728651f92b0a,28,11,1,2,1004,Mohammed Naser,mnaser,"Create NOVA_READY_TIMEOUT in is_nova_ready function

The function was introduced in [0] using a hardcoded timeout of 60
seconds which turns out to be too small on slow machines. Create a new
global variable NOVA_READY_TIMEOUT instead so that users can
override the timeout if necessary.

[0] I32eb59b9d6c225a3e93992be3a3b9f4b251d7189

Co-Authored-By: Mohammed Naser <mnaser@vexxhost.com>
Change-Id: I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db
"
openstack%2Fdesignate~master~I59da0628a9dc23efe8d8665bbf3359e652eaa8c9,openstack/designate,master,OVO,I59da0628a9dc23efe8d8665bbf3359e652eaa8c9,Migrate object to OVO (4),MERGED,2017-06-07 01:32:32.000000000,2018-02-25 22:54:30.000000000,2018-02-25 21:24:47.000000000,186,298,20,471530,274c2cb82cec2a9d6ca8dd54189a35e55485867f,96,10,27,17,25254,Nguyen Van Trung,trungnv,"Migrate object to OVO (4)

This commit will migrate:
- Pool and PoolList
- Related objects

Co-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>

Change-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9
Implements: blueprint designate-rolling-upgrade
"
openstack%2Foslotest~stable%2Fqueens~I80fb62fceaad967529bb3ad9d6d68b2fae8dc792,openstack/oslotest,stable/queens,openstack/requirements,I80fb62fceaad967529bb3ad9d6d68b2fae8dc792,Updated from global requirements,MERGED,2018-02-13 01:58:58.000000000,2018-02-25 22:29:45.000000000,2018-02-25 22:29:45.000000000,2,2,0,543726,88adc79a2704c7d5709cd49476cee9070559a55a,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I80fb62fceaad967529bb3ad9d6d68b2fae8dc792
"
openstack%2Foctavia-dashboard~stable%2Fqueens~Iee0940af5f2847f475fd96d237a52c3ccb983598,openstack/octavia-dashboard,stable/queens,zanata/translations,Iee0940af5f2847f475fd96d237a52c3ccb983598,Imported Translations from Zanata,MERGED,2018-02-22 06:57:51.000000000,2018-02-25 21:34:57.000000000,2018-02-25 21:34:56.000000000,613,924,0,546894,7a834560dcd7550662cb6354d540bc84d3172909,9,3,2,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iee0940af5f2847f475fd96d237a52c3ccb983598
"
openstack%2Fpython-octaviaclient~stable%2Fqueens~Ia0f87b63a3b53671db43d492548da3138dbdb851,openstack/python-octaviaclient,stable/queens,openstack/requirements,Ia0f87b63a3b53671db43d492548da3138dbdb851,Updated from global requirements,MERGED,2018-02-13 02:00:25.000000000,2018-02-25 21:27:50.000000000,2018-02-25 21:27:50.000000000,1,1,0,543742,a7c5412650b5b68059777fd37c4f637dd7d051ad,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Ia0f87b63a3b53671db43d492548da3138dbdb851
"
openstack%2Fqinling~master~I5b578778921cf86055d5f8e22cbb8104f827691a,openstack/qinling,master,,I5b578778921cf86055d5f8e22cbb8104f827691a,Update mysql connection in doc,MERGED,2018-02-25 16:01:09.000000000,2018-02-25 21:11:14.000000000,2018-02-25 21:11:14.000000000,2,2,0,547836,95234663f04c14af6d88147460c45661a2e08463,6,2,1,1,21486,wangqi,wangqi,"Update mysql connection in doc

Change-Id: I5b578778921cf86055d5f8e22cbb8104f827691a
"
openstack%2Fqinling~master~I39aa2f8fd7a33de7dc461fd1f5e25f0c514379c2,openstack/qinling,master,home-page,I39aa2f8fd7a33de7dc461fd1f5e25f0c514379c2,Update home-page url,MERGED,2018-02-25 15:49:25.000000000,2018-02-25 21:08:07.000000000,2018-02-25 21:08:07.000000000,1,1,0,547829,d3356c37572e3b0a4dc29cae037785bba07aab2d,7,3,1,1,17130,melissaml,malei,"Update home-page url

The url of home-page is out of date. We need update it.

Change-Id: I39aa2f8fd7a33de7dc461fd1f5e25f0c514379c2
"
openstack%2Fopenstack-ansible-os_glance~master~Id06e939f25299d48f4054eec927505ed2ecdb554,openstack/openstack-ansible-os_glance,master,bug/1742718,Id06e939f25299d48f4054eec927505ed2ecdb554,Skip logging for haproxy health checks,MERGED,2018-02-23 14:39:49.000000000,2018-02-25 21:05:03.000000000,2018-02-25 09:06:13.000000000,3,0,0,547443,1302539f1154b2e04e63272bc38dd60f5970b289,8,3,1,1,538,Major Hayden,rackerhacker,"Skip logging for haproxy health checks

The health check requests from haproxy cause uwsgi to write a
lot of useless log lines. This can make it more difficult to find
a problem with a particular service.

This patch adds a route to look for the `osa-haproxy-healthcheck`
user agent string, which haproxy uses when performing health checks.
Any requests with that user agent are not logged.

Closes-Bug: 1742718
Change-Id: Id06e939f25299d48f4054eec927505ed2ecdb554
"
openstack%2Fopenstack-ansible-os_heat~master~I8b1bcd58fc0bea95ee0103901eb8f83b480b50ef,openstack/openstack-ansible-os_heat,master,bug/1742718,I8b1bcd58fc0bea95ee0103901eb8f83b480b50ef,Skip logging for haproxy health checks,MERGED,2018-02-23 14:42:54.000000000,2018-02-25 21:04:55.000000000,2018-02-25 09:09:44.000000000,3,0,0,547446,7500845aa81273ccba3c76e859ef91eb14065c1f,10,5,1,1,538,Major Hayden,rackerhacker,"Skip logging for haproxy health checks

The health check requests from haproxy cause uwsgi to write a
lot of useless log lines. This can make it more difficult to find
a problem with a particular service.

This patch adds a route to look for the `osa-haproxy-healthcheck`
user agent string, which haproxy uses when performing health checks.
Any requests with that user agent are not logged.

Closes-Bug: 1742718
Change-Id: I8b1bcd58fc0bea95ee0103901eb8f83b480b50ef
"
openstack%2Fopenstack-ansible-os_cinder~master~I1a452a627aaa49adc23aa9a7e30a9d27bddac2fb,openstack/openstack-ansible-os_cinder,master,bug/1742718,I1a452a627aaa49adc23aa9a7e30a9d27bddac2fb,Skip logging for haproxy health checks,MERGED,2018-02-23 14:40:30.000000000,2018-02-25 21:04:49.000000000,2018-02-25 09:16:41.000000000,3,0,0,547444,fb5c7c1fe1364997dc801cba5d5ada929c6974c1,8,3,1,1,538,Major Hayden,rackerhacker,"Skip logging for haproxy health checks

The health check requests from haproxy cause uwsgi to write a
lot of useless log lines. This can make it more difficult to find
a problem with a particular service.

This patch adds a route to look for the `osa-haproxy-healthcheck`
user agent string, which haproxy uses when performing health checks.
Any requests with that user agent are not logged.

Closes-Bug: 1742718
Change-Id: I1a452a627aaa49adc23aa9a7e30a9d27bddac2fb
"
openstack%2Fopenstack-ansible-os_ironic~master~I2a1786e2197fbb0fa77e78b94e0c5ff7f4afc8fb,openstack/openstack-ansible-os_ironic,master,bug/1742718,I2a1786e2197fbb0fa77e78b94e0c5ff7f4afc8fb,Skip logging for haproxy health checks,MERGED,2018-02-23 14:45:41.000000000,2018-02-25 21:04:40.000000000,2018-02-25 09:17:20.000000000,3,0,0,547465,e5e0aa48e3dc5c3009df2e445efa16b2936b9685,8,3,1,1,538,Major Hayden,rackerhacker,"Skip logging for haproxy health checks

The health check requests from haproxy cause uwsgi to write a
lot of useless log lines. This can make it more difficult to find
a problem with a particular service.

This patch adds a route to look for the `osa-haproxy-healthcheck`
user agent string, which haproxy uses when performing health checks.
Any requests with that user agent are not logged.

Closes-Bug: 1742718
Change-Id: I2a1786e2197fbb0fa77e78b94e0c5ff7f4afc8fb
"
openstack%2Fopenstack-ansible-os_keystone~master~Ia163d1686274bd3b80a046a945fb7d7ceb5f721c,openstack/openstack-ansible-os_keystone,master,bug/1742718,Ia163d1686274bd3b80a046a945fb7d7ceb5f721c,Skip logging for haproxy health checks,MERGED,2018-02-23 14:38:59.000000000,2018-02-25 21:04:32.000000000,2018-02-25 09:18:27.000000000,3,0,0,547442,943b5c560b6b9618c35ad5a80b43f781abcc5750,8,3,1,1,538,Major Hayden,rackerhacker,"Skip logging for haproxy health checks

The health check requests from haproxy cause uwsgi to write a
lot of useless log lines. This can make it more difficult to find
a problem with a particular service.

This patch adds a route to look for the `osa-haproxy-healthcheck`
user agent string, which haproxy uses when performing health checks.
Any requests with that user agent are not logged.

Closes-Bug: 1742718
Change-Id: Ia163d1686274bd3b80a046a945fb7d7ceb5f721c
"
openstack%2Fopenstack-ansible-os_octavia~master~I9b0239a9a24861734badbe874dc3e1139d7100c6,openstack/openstack-ansible-os_octavia,master,bug/1742718,I9b0239a9a24861734badbe874dc3e1139d7100c6,Skip logging for haproxy health checks,MERGED,2018-02-23 14:44:50.000000000,2018-02-25 21:04:24.000000000,2018-02-25 09:28:52.000000000,3,0,0,547449,e4d5cd0da7c535e7b235c5e9ab4899efb2a5c8e6,8,3,1,1,538,Major Hayden,rackerhacker,"Skip logging for haproxy health checks

The health check requests from haproxy cause uwsgi to write a
lot of useless log lines. This can make it more difficult to find
a problem with a particular service.

This patch adds a route to look for the `osa-haproxy-healthcheck`
user agent string, which haproxy uses when performing health checks.
Any requests with that user agent are not logged.

Closes-Bug: 1742718
Change-Id: I9b0239a9a24861734badbe874dc3e1139d7100c6
"
openstack%2Fopenstack-ansible-os_nova~master~I960bf62cfcd1bcbcec4923f04eb7566081b1bec1,openstack/openstack-ansible-os_nova,master,bug/1742718,I960bf62cfcd1bcbcec4923f04eb7566081b1bec1,Skip logging for haproxy health checks,MERGED,2018-02-23 14:35:49.000000000,2018-02-25 21:04:15.000000000,2018-02-25 09:34:25.000000000,3,0,0,547440,145b98f3298028187f0e151872dcd7d0e54f1353,8,3,1,1,538,Major Hayden,rackerhacker,"Skip logging for haproxy health checks

The health check requests from haproxy cause uwsgi to write a
lot of useless log lines. This can make it more difficult to find
a problem with a particular service.

This patch adds a route to look for the `osa-haproxy-healthcheck`
user agent string, which haproxy uses when performing health checks.
Any requests with that user agent are not logged.

Closes-Bug: 1742718
Change-Id: I960bf62cfcd1bcbcec4923f04eb7566081b1bec1
"
openstack%2Foslo.concurrency~stable%2Fqueens~I2ce344330905eef437ef3f89a2a01169a30df8ab,openstack/oslo.concurrency,stable/queens,bug/1482382-stable/queens,I2ce344330905eef437ef3f89a2a01169a30df8ab,Mask passwords only when command execution fails,MERGED,2018-02-23 11:40:40.000000000,2018-02-25 20:42:05.000000000,2018-02-25 20:42:05.000000000,47,3,0,547388,0c4718fcb77e9f4e3a22ae458869b7294b7bc91f,7,4,1,2,24005,prashkre,prashkre,"Mask passwords only when command execution fails

At many places, processutils.ssh_execute() is being invoked to run
a command over ssh and output returned is parsed to get appropriate
information. In this flow, unsanitized output is being expected
where processutils.ssh_execute() was invoked but found that
output like volume details(containing ""password"" string in its name)
is being masked away with strutils.mask_password(stdout) even though
no error occured during command execution.

This is regression issue from patch[0]. In this fix, stdout and stderr
in processutils.ssh_execute() will be masked only when
ProcessExecutionError exception is thrown i.e. command execution failed
due to some reasons.

[0] https://github.com/openstack/oslo.concurrency/commit/
ae9e05bfc3d7ec867bd6ec78c301f11c2bdd0d5f

Change-Id: I2ce344330905eef437ef3f89a2a01169a30df8ab
Closes-Bug: #1482382
(cherry picked from commit 21ae27e66d77f276c23a7ca2eaa8869438fb4d31)
"
openstack%2Foslo.context~stable%2Fqueens~Ia2cbc83662bf5f6502ca51d6ef9f299fe125932b,openstack/oslo.context,stable/queens,openstack/requirements,Ia2cbc83662bf5f6502ca51d6ef9f299fe125932b,Updated from global requirements,MERGED,2018-02-13 01:57:58.000000000,2018-02-25 20:25:39.000000000,2018-02-25 20:25:38.000000000,3,3,0,543711,41c0bb8fe06f791b9280446e69112b85eae0cb04,6,2,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Ia2cbc83662bf5f6502ca51d6ef9f299fe125932b
"
openstack%2Fopenstack-helm~master~I40b0c0a0be8a32340d992dc690a76980a129ca90,openstack/openstack-helm,master,ceph/remove-unrequired-keys,I40b0c0a0be8a32340d992dc690a76980a129ca90,OSD: remove redundant DMCRYPT setup,MERGED,2018-02-25 01:14:31.000000000,2018-02-25 19:44:25.000000000,2018-02-25 19:44:25.000000000,2,27,0,547792,84db0873d39d508f78af63f3b82f05d6d7162fe8,7,3,1,2,23928,Pete Birley,portdirect,"OSD: remove redundant DMCRYPT setup

This PS removes the redundant dmcrypt setup from the OSD scripts.

Change-Id: I40b0c0a0be8a32340d992dc690a76980a129ca90
"
openstack%2Fopenstack-helm~master~If224796a4579cde195954ab806c20be7a1974ecd,openstack/openstack-helm,master,ceph/remove-unrequired-keys,If224796a4579cde195954ab806c20be7a1974ecd,Ceph: remove unrequired keyrings from pods,MERGED,2018-02-25 01:06:26.000000000,2018-02-25 19:41:17.000000000,2018-02-25 19:41:17.000000000,0,117,0,547791,1cfb0308b95eb1936b290a65fe4079fad1abce35,7,3,1,5,23928,Pete Birley,portdirect,"Ceph: remove unrequired keyrings from pods

This PS removes unrequired keyrings from being mounted into ceph
pods.

Change-Id: If224796a4579cde195954ab806c20be7a1974ecd
"
openstack%2Fautomaton~stable%2Fqueens~I97ab1049a2de21c8b64d731f0ca2b01895da50cb,openstack/automaton,stable/queens,openstack/requirements,I97ab1049a2de21c8b64d731f0ca2b01895da50cb,Updated from global requirements,MERGED,2018-02-13 01:48:07.000000000,2018-02-25 19:40:48.000000000,2018-02-25 19:40:48.000000000,3,3,0,543674,4e25c5c240f166264f24d15f387ecf4052867b3d,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I97ab1049a2de21c8b64d731f0ca2b01895da50cb
"
openstack%2Fopenstack-ansible~master~I62aec92df9d40ef7e9c942c91e00055f9c8f0b08,openstack/openstack-ansible,master,,I62aec92df9d40ef7e9c942c91e00055f9c8f0b08,Switch to using the imported nspawn roles,MERGED,2018-02-23 18:06:25.000000000,2018-02-25 19:35:15.000000000,2018-02-25 19:35:15.000000000,2,4,1,547554,620ae776166235101f4c3fbe737270eaa0f1126b,15,5,3,1,6816,Jesse Pretorius,jesse-pretorius,"Switch to using the imported nspawn roles

We've now imported the roles into the OpenStack
namespace, so let's use them from there.

Change-Id: I62aec92df9d40ef7e9c942c91e00055f9c8f0b08
"
openstack%2Fopenstack-ansible~stable%2Focata~I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1,openstack/openstack-ansible,stable/ocata,,I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1,"Remove the ""max_fail_percentage"" option",MERGED,2018-02-24 17:34:48.000000000,2018-02-25 19:35:14.000000000,2018-02-25 19:35:14.000000000,21,37,0,547774,c1d7a717a7de39c3609ddb1e95976a9229451dae,10,4,2,28,7353,Kevin Carter,cloudnull,"Remove the ""max_fail_percentage"" option

This option can cause silent failures which are confusing and hard to
track down. While the intention of this was to allow large scale
deployments to succeed in cases where a single node fails due to
transiant issues it has produced more problems in terms of confusion
that it solves. This change removes the option from all production
playbooks.

Change-Id: I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
(cherry picked from commit c2743f5cca1930a553ce9f20b207cb17fa6b763d)
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fopenstack-ansible~stable%2Fpike~I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1,openstack/openstack-ansible,stable/pike,,I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1,"Remove the ""max_fail_percentage"" option",MERGED,2018-02-24 17:30:10.000000000,2018-02-25 19:35:13.000000000,2018-02-25 19:35:13.000000000,21,37,0,547773,2cffc500a593b1163cf55f4965dc67f4829d22cc,11,4,2,29,7353,Kevin Carter,cloudnull,"Remove the ""max_fail_percentage"" option

This option can cause silent failures which are confusing and hard to
track down. While the intention of this was to allow large scale
deployments to succeed in cases where a single node fails due to
transiant issues it has produced more problems in terms of confusion
that it solves. This change removes the option from all production
playbooks.

Change-Id: I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
(cherry picked from commit c2743f5cca1930a553ce9f20b207cb17fa6b763d)
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fdebtcollector~stable%2Fqueens~Idfb8e565a874b081de4cc0e0817791dc34f70dce,openstack/debtcollector,stable/queens,openstack/requirements,Idfb8e565a874b081de4cc0e0817791dc34f70dce,Updated from global requirements,MERGED,2018-02-13 01:49:10.000000000,2018-02-25 19:34:43.000000000,2018-02-25 19:34:43.000000000,2,2,0,543678,4e97d4b550bd35ca36f88206f9ea15854af7bb8b,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Idfb8e565a874b081de4cc0e0817791dc34f70dce
"
openstack%2Ftaskflow~stable%2Fpike~I7abf4ded7a23464d25f66a468798aeedc3da6028,openstack/taskflow,stable/pike,openstack/requirements,I7abf4ded7a23464d25f66a468798aeedc3da6028,Updated from global requirements,MERGED,2018-02-14 18:47:00.000000000,2018-02-25 19:34:33.000000000,2018-02-25 19:34:32.000000000,1,1,0,544599,64f98d2f0242e2b9cf31c11b1206e09555d544d0,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I7abf4ded7a23464d25f66a468798aeedc3da6028
"
openstack%2Foslo.middleware~stable%2Fqueens~I8270741f0924846c4ad9179772b3f935dd01260b,openstack/oslo.middleware,stable/queens,openstack/requirements,I8270741f0924846c4ad9179772b3f935dd01260b,Updated from global requirements,MERGED,2018-02-13 01:58:19.000000000,2018-02-25 19:31:58.000000000,2018-02-25 19:31:58.000000000,3,3,0,543716,cb99e7267e3273bb7827ac3d32ef411582a7aac6,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I8270741f0924846c4ad9179772b3f935dd01260b
"
openstack%2Foslo.utils~stable%2Fqueens~I6d24e2d5e411d631eae955cb63391cde6eeb6538,openstack/oslo.utils,stable/queens,openstack/requirements,I6d24e2d5e411d631eae955cb63391cde6eeb6538,Updated from global requirements,MERGED,2018-02-13 01:58:46.000000000,2018-02-25 19:30:29.000000000,2018-02-25 19:30:28.000000000,3,3,0,543723,a39be007ec9975f441bba6702da596633c044a46,6,2,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I6d24e2d5e411d631eae955cb63391cde6eeb6538
"
openstack%2Freno~master~I9be5017c8bcdc601608ce0fc9a2fe83d3575042e,openstack/reno,master,,I9be5017c8bcdc601608ce0fc9a2fe83d3575042e,Update url in HACKING.rst,MERGED,2018-02-25 17:46:37.000000000,2018-02-25 19:29:56.000000000,2018-02-25 19:29:56.000000000,1,1,0,547849,6f0ce883269e587143590e030e9e263568ea1540,6,2,1,1,17130,melissaml,malei,"Update url in HACKING.rst

Change-Id: I9be5017c8bcdc601608ce0fc9a2fe83d3575042e
"
openstack%2Foslo.log~stable%2Fqueens~Ifaf37f2131e5486e5b7a1112448256b922337c53,openstack/oslo.log,stable/queens,openstack/requirements,Ifaf37f2131e5486e5b7a1112448256b922337c53,Updated from global requirements,MERGED,2018-02-13 01:58:09.000000000,2018-02-25 19:28:51.000000000,2018-02-25 19:28:51.000000000,3,3,0,543714,2721107b69e269ffafdf53e0382fb065b94eb9e7,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Ifaf37f2131e5486e5b7a1112448256b922337c53
"
openstack%2Foslo.messaging~master~Ia1be1b67a7151d449185e2ad52eff1787e8b0933,openstack/oslo.messaging,master,kafka-update,Ia1be1b67a7151d449185e2ad52eff1787e8b0933,Add kafka config options for security (ssl/sasl),MERGED,2018-01-29 20:37:46.000000000,2018-02-25 19:12:12.000000000,2018-02-25 19:12:12.000000000,82,16,8,539017,90f7610f9d7f4f2b11f0b7d96bef13a440f28b84,25,5,3,3,20523,Andy Smith,ajssmith,"Add kafka config options for security (ssl/sasl)

Change-Id: Ia1be1b67a7151d449185e2ad52eff1787e8b0933
"
openstack%2Fopenstack-ansible~stable%2Fnewton~I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1,openstack/openstack-ansible,stable/newton,,I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1,"Remove the ""max_fail_percentage"" option",MERGED,2018-02-24 17:36:40.000000000,2018-02-25 19:08:26.000000000,2018-02-25 19:08:26.000000000,21,33,0,547775,0d80b61c43cbf745a8745283842de1e9bec30f21,11,4,2,26,7353,Kevin Carter,cloudnull,"Remove the ""max_fail_percentage"" option

This option can cause silent failures which are confusing and hard to
track down. While the intention of this was to allow large scale
deployments to succeed in cases where a single node fails due to
transiant issues it has produced more problems in terms of confusion
that it solves. This change removes the option from all production
playbooks.

Change-Id: I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
(cherry picked from commit c2743f5cca1930a553ce9f20b207cb17fa6b763d)
(cherry picked from commit 0afeca7f885c2d8002cafa0ae4a64af1c3680570)
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Foctavia~master~I692244236537ac52a1bcfcc278c566c7dc2eec45,openstack/octavia,master,openstack/requirements,I692244236537ac52a1bcfcc278c566c7dc2eec45,Updated from global requirements,MERGED,2018-02-14 09:15:13.000000000,2018-02-25 18:58:21.000000000,2018-02-25 18:58:21.000000000,3,3,0,544217,06f1dcd286e3f8fed8fed9d480d9bfb5ec04b275,13,4,3,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I692244236537ac52a1bcfcc278c566c7dc2eec45
"
openstack%2Fneutron-lbaas~master~Ic544b2ef4286422efac096b902255d16760c1502,openstack/neutron-lbaas,master,openstack/requirements,Ic544b2ef4286422efac096b902255d16760c1502,Updated from global requirements,MERGED,2018-02-17 09:49:21.000000000,2018-02-25 18:53:40.000000000,2018-02-25 18:53:40.000000000,1,1,0,545547,29c319295f5a7cd082f667fcc71b78052e07a6d4,8,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Ic544b2ef4286422efac096b902255d16760c1502
"
openstack%2Fcastellan~master~Ib249a72359cffff7cca89460feb2dd1469363c17,openstack/castellan,master,openstack/requirements,Ib249a72359cffff7cca89460feb2dd1469363c17,Updated from global requirements,MERGED,2018-02-17 09:22:06.000000000,2018-02-25 18:40:20.000000000,2018-02-25 18:40:20.000000000,1,1,0,545530,81d3c2d8c0371bca3a05e282ba65f2109a237248,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Ib249a72359cffff7cca89460feb2dd1469363c17
"
openstack%2Fsenlin~stable%2Fqueens~I10177b76a672b4a0b1406eb830358cb66b3cf0ca,openstack/senlin,stable/queens,scaling_policy_version-stable/queens,I10177b76a672b4a0b1406eb830358cb66b3cf0ca,Add scaling policy version support message,MERGED,2018-02-24 02:16:53.000000000,2018-02-25 18:29:52.000000000,2018-02-25 18:29:52.000000000,5,0,0,547697,6792221968bc81033d9c0dc38085368cd941f29d,11,3,1,1,23517,chenyb4,Yuanbin.Chen,"Add scaling policy version support message

If scaling policy version support miss, policy type
list not display scaling policy type.

Change-Id: I10177b76a672b4a0b1406eb830358cb66b3cf0ca
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
(cherry picked from commit da1d380b37a7d20b1af6d01b833b5d351e6e0ae9)
"
openstack%2Foctavia-dashboard~master~If08560c1eb7007c908ad4f0ead0027571c5fa6da,openstack/octavia-dashboard,master,openstack/requirements,If08560c1eb7007c908ad4f0ead0027571c5fa6da,Updated from global requirements,MERGED,2018-02-14 09:15:21.000000000,2018-02-25 18:03:38.000000000,2018-02-25 18:03:38.000000000,1,1,0,544218,760f36566c03a88bfb959c10560ac88f69f482bd,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: If08560c1eb7007c908ad4f0ead0027571c5fa6da
"
openstack%2Foctavia-dashboard~master~I4fc2a3e65102021341a419851b8f1d3a9fdade3e,openstack/octavia-dashboard,master,zanata/translations,I4fc2a3e65102021341a419851b8f1d3a9fdade3e,Imported Translations from Zanata,MERGED,2018-02-18 06:10:12.000000000,2018-02-25 18:02:19.000000000,2018-02-25 18:02:19.000000000,7,4,0,545651,a48fb9d7aaf25cc82bb2559fac96e2d5fac32906,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4fc2a3e65102021341a419851b8f1d3a9fdade3e
"
openstack%2Fopenstack-ansible-pip_install~master~Idf726729e725d94b70b53dc40da1ec7e7b0a00bf,openstack/openstack-ansible-pip_install,master,bp/python-build-install-simplification,Idf726729e725d94b70b53dc40da1ec7e7b0a00bf,Remove the implementation of constraints in pip.conf,MERGED,2018-02-24 15:46:10.000000000,2018-02-25 17:52:36.000000000,2018-02-25 17:52:36.000000000,0,9,4,547762,1085f00f16eec1323b4bb19f7bccffd945f4c3da,11,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"Remove the implementation of constraints in pip.conf

In https://review.openstack.org/526889 constraints were
added to pip.conf. While this may be something we want
later in the python build simplification process, it is
currently causing problems in several tests due to the
assumption that constraints are only set on the CLI.

At this stage I think it's better to leave constraints
setting to be done on the CLI as that is ubiquitous
across all pip install tasks right now.

If we switch to setting constraints in pip.conf then it
will take more co-ordination.

Implements: blueprint python-build-install-simplification
Signed-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
Change-Id: Idf726729e725d94b70b53dc40da1ec7e7b0a00bf
"
openstack%2Fopenstack-ansible-pip_install~stable%2Fqueens~If472c845036ab904ffc15ca7201ae68d282c1be0,openstack/openstack-ansible-pip_install,stable/queens,bp/python-build-install-simplification-stable/queens,If472c845036ab904ffc15ca7201ae68d282c1be0,Remove pip_lock_to_internal_repo variable,MERGED,2018-02-24 16:40:37.000000000,2018-02-25 17:52:35.000000000,2018-02-25 17:52:35.000000000,2,33,0,547766,071b232074f61b8be91009f835a1e35061ded36a,7,3,1,3,6816,Jesse Pretorius,jesse-pretorius,"Remove pip_lock_to_internal_repo variable

The ability to lock the pip configuration down has
now been extended so that it is possible to implement
a different index and to use find-links to achieve the
same goal.

The only replacement implementation could be to disable
the setting of an index if one wanted to *only* use
wheels, but that is unnecessary in OSA builds as we are
able to set the build to only use a specific set of
wheels through the pypiserver on the repo container.

As such, this variable has become useless and unused.
This patch therefore removes it.

Change-Id: If472c845036ab904ffc15ca7201ae68d282c1be0
Implements: blueprint python-build-install-simplification
Signed-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
(cherry picked from commit f9d65b184f6a4ca418d77397b583e5072b6f8641)
"
openstack%2Fdesignate~master~I2d6ec85e0c47b2e129bc55616ad92f53a2298940,openstack/designate,master,OVO,I2d6ec85e0c47b2e129bc55616ad92f53a2298940,Migrate object to OVO (3),MERGED,2017-06-06 09:19:50.000000000,2018-02-25 17:45:49.000000000,2018-02-25 17:45:48.000000000,94,118,0,471280,aac3812c1a292e4155d9c4ba604761495f7965c0,68,10,22,5,19930,Dai Dang Van,daidv,"Migrate object to OVO (3)

This commit will migrate:
- Server and ServerList
- ServiceStatus and ServiceStatusList
- Tenant and TenantList
- Tld and TldList
- TsigKey and TsigKeyList

Co-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>

Change-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940
Implements: blueprint designate-rolling-upgrade
"
openstack%2Fdesignate~master~I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06,openstack/designate,master,OVO,I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06,Migrate object to OVO (2),MERGED,2017-06-05 09:07:04.000000000,2018-02-25 17:45:45.000000000,2018-02-25 17:45:44.000000000,76,165,0,470890,e9ebf92fbe8b436a57746af0f310803f4294e7e4,77,10,26,5,19930,Dai Dang Van,daidv,"Migrate object to OVO (2)

This commit will migrate:
- ZoneImport and ZoneImportList
- ZoneExport and ZoneExportList
- ZoneTransferAccept and ZoneTransferAcceptList
- ZoneTransferRequest and ZoneTransferRequestList

Co-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>

Change-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06
Implements: blueprint designate-rolling-upgrade
"
openstack%2Fdesignate~master~I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7,openstack/designate,master,OVO,I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7,Migrate object to OVO,MERGED,2017-05-16 08:31:19.000000000,2018-02-25 17:45:35.000000000,2018-02-25 17:45:35.000000000,1135,657,44,464971,0eb9627cb0478cc60a20127270b83f3b4451390a,171,14,44,28,19930,Dai Dang Van,daidv,"Migrate object to OVO

This commit will migrate Zone and ZoneMaster objects

Co-authored-By: Hieu LE <hieulq@vn.fujitsu.com>
Co-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>

Change-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7
Implements: blueprint designate-rolling-upgrade
"
openstack%2Fsenlin~stable%2Fqueens~I72e02695f3eb10d1a00976bf68727e0dfb360167,openstack/senlin,stable/queens,bug/1751242-stable/queens,I72e02695f3eb10d1a00976bf68727e0dfb360167,Get image id from multiple places,MERGED,2018-02-25 15:51:50.000000000,2018-02-25 17:40:59.000000000,2018-02-25 17:40:59.000000000,32,1,0,547831,38f22bc385f082544db99d9ad053ceff98542a39,6,3,1,1,8246,Qiming Teng,tengqm,"Get image id from multiple places

The nova server was not saved image id in 'image' attribute if it was
boot from image(create new volume), then we need to find a volume which
is bootable and use its image_id for the server.

Closes-bug: #1751242

Change-Id: I72e02695f3eb10d1a00976bf68727e0dfb360167
Signed-off-by: blkart <blkart.org@gmail.com>
"
openstack%2Fpython-octaviaclient~master~I99cf0a244c30f67d7b4274d28c24793d468e1782,openstack/python-octaviaclient,master,openstack/requirements,I99cf0a244c30f67d7b4274d28c24793d468e1782,Updated from global requirements,MERGED,2018-02-14 12:30:09.000000000,2018-02-25 17:35:42.000000000,2018-02-25 17:35:42.000000000,2,2,0,544283,31b9234120c79a48ed77758dc923fc78ba849577,9,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I99cf0a244c30f67d7b4274d28c24793d468e1782
"
openstack%2Foctavia-dashboard~master~I7121c40543dba4d5b6aafe6b1b150b8a385ee3e7,openstack/octavia-dashboard,master,,I7121c40543dba4d5b6aafe6b1b150b8a385ee3e7,Modify the '.gitignore' file,MERGED,2018-02-09 03:02:14.000000000,2018-02-25 17:32:56.000000000,2018-02-25 17:32:56.000000000,0,1,1,542554,e531b937a9acb496772c2dcb2f9e7de617088cd4,10,4,1,1,14151,ziyu032,ziyu032,"Modify the '.gitignore' file

Since the horizon remove the 'run_tests.sh' file,
so there should remove '.venv' from the '.gitignore' file.
See the patch 'https://review.openstack.org/#/c/399842/'

Change-Id: I7121c40543dba4d5b6aafe6b1b150b8a385ee3e7
"
openstack%2Fnova~master~I4db0c8a5c55f7fcdebd5fcb04273d922727a4521,openstack/nova,master,functional_tests_traits,I4db0c8a5c55f7fcdebd5fcb04273d922727a4521,[placement] Add functional tests for traits API,MERGED,2017-11-30 08:32:48.000000000,2018-02-25 16:56:50.000000000,2018-02-24 03:43:58.000000000,81,1,5,524094,c23f135b117a4ac21e23aba228a399315c5f5942,134,18,17,1,7634,Takashi Natsume,natsumet,"[placement] Add functional tests for traits API

Add functional tests for traits API in the following cases.

* Invalid 'resource_provider_generation' in
  PUT /resource_providers/{uuid}/traits
* Invalid 'traits' in
  PUT /resource_providers/{uuid}/traits
* Additional properties in
  PUT /resource_providers/{uuid}/traits
* Earlier microverion (1.5)

Fix a response string to check in the following test.

* Missing 'resource_provider_generation' in
  PUT /resource_providers/{uuid}/traits

Change-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521
"
openstack%2Fsenlin~master~If93ba5f05103498972c8e8b3e8c2301a543f1c8d,openstack/senlin,master,update_doc,If93ba5f05103498972c8e8b3e8c2301a543f1c8d,Update senlin documentation url,MERGED,2018-02-23 08:52:48.000000000,2018-02-25 16:56:00.000000000,2018-02-25 16:55:59.000000000,5,5,0,547324,f45cad94a2cd7010ff4f3ee5304b3ff16a1e23d9,9,5,1,5,21690,chenpengzi,chenpengzi,"Update senlin documentation url

Change-Id: If93ba5f05103498972c8e8b3e8c2301a543f1c8d
"
openstack%2Fsenlin~master~I72e02695f3eb10d1a00976bf68727e0dfb360167,openstack/senlin,master,bug/1751242,I72e02695f3eb10d1a00976bf68727e0dfb360167,Get image id from multiple places,MERGED,2018-02-23 10:34:50.000000000,2018-02-25 16:55:58.000000000,2018-02-25 16:55:58.000000000,32,1,1,547364,6d99c130be820091d7586c607b6fc98fd7b9a1d4,19,6,3,1,17656,blkart,blkart,"Get image id from multiple places

The nova server was not saved image id in 'image' attribute if it was
boot from image(create new volume), then we need to find a volume which
is bootable and use its image_id for the server.

Closes-bug: #1751242

Change-Id: I72e02695f3eb10d1a00976bf68727e0dfb360167
Signed-off-by: blkart <blkart.org@gmail.com>
"
openstack%2Fdesignate~master~I38d05065bb98c97bb08e878c94d44a18e7c1ac46,openstack/designate,master,,I38d05065bb98c97bb08e878c94d44a18e7c1ac46,Remove install-guide tox env,MERGED,2018-02-22 10:23:31.000000000,2018-02-25 16:45:13.000000000,2018-02-25 16:45:13.000000000,0,7,0,546937,90bb7f6051bf85175803d60c6d425f6dc74e21fb,7,3,1,1,26310,Hoang Trung Hieu,alanhoang,"Remove install-guide tox env

The install-guide tox env is not used any more after docs migration.

Change-Id: I38d05065bb98c97bb08e878c94d44a18e7c1ac46
"
openstack%2Fsenlin~master~I7050b89afae68725f86ef198499547117d4929a7,openstack/senlin,master,doc-fix,I7050b89afae68725f86ef198499547117d4929a7,Update cluster create command example,MERGED,2018-02-24 06:15:29.000000000,2018-02-25 16:27:59.000000000,2018-02-25 16:27:59.000000000,1,0,0,547718,1232ce35d2f1866597e7f62737e7beda25cbfb06,9,5,1,1,17656,blkart,blkart,"Update cluster create command example

Add config into output information.

Change-Id: I7050b89afae68725f86ef198499547117d4929a7
Signed-off-by: blkart <blkart.org@gmail.com>
"
openstack%2Fglance~master~Ib68769e148b5e3fa59d20aad0b40f22936af9216,openstack/glance,master,,Ib68769e148b5e3fa59d20aad0b40f22936af9216,Remove duplicate word 'the',ABANDONED,2018-02-24 04:10:57.000000000,2018-02-25 16:20:04.000000000,,2,2,0,547706,60face549024d979a7dc1a104c10c70e659c3ab9,6,4,1,2,21486,wangqi,wangqi,"Remove duplicate word 'the'

Change-Id: Ib68769e148b5e3fa59d20aad0b40f22936af9216
"
openstack%2Fsenlin~master~I2cb68c57bcb311e84591b436717905e56d4b8343,openstack/senlin,master,doc-update,I2cb68c57bcb311e84591b436717905e56d4b8343,Update cluster policy type list command example,MERGED,2018-02-24 07:47:19.000000000,2018-02-25 16:19:51.000000000,2018-02-25 16:19:50.000000000,3,0,0,547723,2a399848620e1bcd49b43dae5761e272d7ac4c6b,7,3,1,1,17656,blkart,blkart,"Update cluster policy type list command example

Add deletion and loadbalance policy version 1.1 support info.
Add scaling policy version 1.0 support info.

Change-Id: I2cb68c57bcb311e84591b436717905e56d4b8343
Signed-off-by: blkart <blkart.org@gmail.com>
"
openstack%2Fsenlin~master~I546519e814af437fbb93f0d7f1043536f299ed0c,openstack/senlin,master,,I546519e814af437fbb93f0d7f1043536f299ed0c,Update cluster policy type show command example,MERGED,2018-02-24 08:18:51.000000000,2018-02-25 16:19:49.000000000,2018-02-25 16:19:49.000000000,54,9,2,547725,8dbebdf35eaa4359a823af0cfd06b45de5d9a5a6,8,3,1,1,17656,blkart,blkart,"Update cluster policy type show command example

Use deletion policy version 1.1 in example.

Change-Id: I546519e814af437fbb93f0d7f1043536f299ed0c
Signed-off-by: blkart <blkart.org@gmail.com>
"
openstack%2Fsenlin~master~I5008e088a651455ea6d7db21c6ed363449284e6f,openstack/senlin,master,doc-update3,I5008e088a651455ea6d7db21c6ed363449284e6f,Update cluster receiver create command example,MERGED,2018-02-24 09:38:15.000000000,2018-02-25 16:19:48.000000000,2018-02-25 16:19:48.000000000,22,0,0,547742,a3e9e1c2e295f12e5e4f7c7535d01ac488e9b398,8,4,1,1,17656,blkart,blkart,"Update cluster receiver create command example

Add output information for command example.

Change-Id: I5008e088a651455ea6d7db21c6ed363449284e6f
Signed-off-by: blkart <blkart.org@gmail.com>
"
openstack%2Fsenlin~master~Id6c6a72fb35a192a6cac9e461d6a49c36590c06b,openstack/senlin,master,fix-py3-api-test,Id6c6a72fb35a192a6cac9e461d6a49c36590c06b,Fix py35 API test flake,MERGED,2018-02-23 14:59:10.000000000,2018-02-25 16:19:47.000000000,2018-02-25 16:19:47.000000000,2,2,0,547473,581241bee78b37f7a0c70d23ff21977e1fadb8fd,20,3,8,1,8246,Qiming Teng,tengqm,"Fix py35 API test flake

In py35, dict ordering seems not guaranteed so the version negotiation
sometimes (almost always) fail. This patch enforce the version checking
to be based on an ordered dict so py35 will be happy about it.

Change-Id: Id6c6a72fb35a192a6cac9e461d6a49c36590c06b
"
openstack%2Fdevstack~master~I4fdbe6bce12dfedd0d1e975ab8dd624ee3740c11,openstack/devstack,master,remove_xen_tools,I4fdbe6bce12dfedd0d1e975ab8dd624ee3740c11,XenAPI: remove xen tools,MERGED,2018-02-23 03:58:59.000000000,2018-02-25 15:29:38.000000000,2018-02-25 15:29:38.000000000,2,2662,0,547254,e619603bdab1eebc05690e42de887614a778022a,12,10,1,16,17920,Jianghua Wang,wjhfresh,"XenAPI: remove xen tools

The xen tools have been moved to the project of *os-xenapi* since
os-xenapi 0.3.0. We also did some refact work on these tools in
os-xenapi. This commit is to remove these tools from devstack. So
that os-xenapi will be the single place for xen tools.

Change-Id: I4fdbe6bce12dfedd0d1e975ab8dd624ee3740c11
"
openstack%2Fnova~stable%2Focata~Ide6cc5bb1fce2c9aea9fa3efdf940e8308cd9ed0,openstack/nova,stable/ocata,bug/1745977,Ide6cc5bb1fce2c9aea9fa3efdf940e8308cd9ed0,Lazy-load instance attributes with read_deleted=yes,MERGED,2018-02-19 21:38:24.000000000,2018-02-25 15:29:34.000000000,2018-02-25 15:29:34.000000000,20,3,0,545989,e0c1d461af0701adb94e6974f363e12395ed0162,19,11,1,2,6873,Matt Riedemann,mriedem,"Lazy-load instance attributes with read_deleted=yes

If we're doing a lazy-load of a generic attribute on instance, we
should be using read_deleted=yes. Otherwise we just fail in the load
process which is confusing and not helpful to a cleanup routine that
needs to handle the deleted instance. This makes us load those things
with read_deleted=yes.

Change-Id: Ide6cc5bb1fce2c9aea9fa3efdf940e8308cd9ed0
Closes-Bug: #1745977
(cherry picked from commit 6ba8a35825a7ec839b2d0aab7559351d573130ab)
(cherry picked from commit 619754f5c836ed1b58c807138836e6cf5a4e6904)
(cherry picked from commit 1407079d4008c6304799dd83f5bf4ba505d8e438)
"
openstack%2Fnova~stable%2Focata~I09b288aa2ad9969800a3cd26c675b002c6c9f638,openstack/nova,stable/ocata,bug/1693335-stable/ocata,I09b288aa2ad9969800a3cd26c675b002c6c9f638,Fix instance lookup in hide_server_addresses extension,MERGED,2017-11-10 23:43:11.000000000,2018-02-25 15:28:58.000000000,2018-02-25 15:28:57.000000000,3,2,0,518997,09970fe366cf3200a53d93c41bc996a58a25a4af,43,13,1,1,6873,Matt Riedemann,mriedem,"Fix instance lookup in hide_server_addresses extension

The hide_server_addresses extension is looking up the cached
instance based on what the user provided for the server id,
which may not match what is used to cache the instance for the
request. For example, a request with upper-case server uuid
could be found in a mysql-backed system because mysql is
case insensitive by default, but the instance is keyed off the
server id from the DB, which is lower-case, so we'll fail
to look up the instance in the cache if the IDs don't match.

There is no test for this because it turns out it's actually
really hard to recreate this since it requires running with a
mysql backend to recreate the case insensitive check, which
isn't going to work with sqlite. Given how trivial this fix is,
creating a big mysql recreate test is not worth it.

Change-Id: I09b288aa2ad9969800a3cd26c675b002c6c9f638
Closes-Bug: #1693335
(cherry picked from commit ecfb65cee68e96cc99ceecddbf27c6d6f768358e)
"
openstack%2Fcinder~driverfixes%2Focata~I0e55a8f9084bb8074616bc5c3b89fc8e341b6809,openstack/cinder,driverfixes/ocata,bug/1734505,I0e55a8f9084bb8074616bc5c3b89fc8e341b6809,DO NOT MERGE: Zuul fix,ABANDONED,2017-12-12 06:53:29.000000000,2018-02-25 15:05:37.000000000,,1,0,0,527318,3a956522371cd87c53fe74f8986cbb2d7aa3332d,9,7,1,1,24952,Vivek Soni,sonivi,"DO NOT MERGE: Zuul fix

Change-Id: I0e55a8f9084bb8074616bc5c3b89fc8e341b6809
Closes-Bug: #1734505
"
openstack%2Fcinder~master~I8713f846b1e2e30b4bbc4af57645fdc04bcd8386,openstack/cinder,master,bug/1726715,I8713f846b1e2e30b4bbc4af57645fdc04bcd8386,Don't fail when deleting missing backup,MERGED,2017-10-25 11:05:04.000000000,2018-02-25 15:05:34.000000000,2017-10-27 00:19:49.000000000,4,8,5,515026,6ff364f385b2bfe52a9c55ffbe357979b0dee9b4,104,37,8,2,24131,Abhishek Sharma M,abhi.sharma,"Don't fail when deleting missing backup

The problem here is sometimes when the path doesn't exist and we
try to delete it then exception occurs & breaks the flow. In this
case it happens with the volume delete flow, wherein the exception
occurs just before the quota commit & commit doesn't happen even
though the backup volume got deleted, hence catching the exception
just where it occurs.

Change-Id: I8713f846b1e2e30b4bbc4af57645fdc04bcd8386
Closes-Bug: 1726715
"
openstack%2Fcinder~stable%2Focata~Ied42d13b642617dd239ea92c019354b90657821a,openstack/cinder,stable/ocata,bug/1683431-stable/ocata,Ied42d13b642617dd239ea92c019354b90657821a,Fix NoneType has no attribute get,MERGED,2017-11-09 07:33:11.000000000,2018-02-25 15:05:32.000000000,2018-02-09 21:35:58.000000000,2,1,0,518673,8a0c155a9890efd28064da9173086e60579e3121,67,23,3,1,25169,Xiaojun Liao,wwba,"Fix NoneType has no attribute get

If volume_type is None and then create volumes with allow-multiattach,
Cinder-schduler will raise error:

AttributeError: 'NoneType' object has no attribute 'get'

Change-Id: Ied42d13b642617dd239ea92c019354b90657821a
Closes-bug: #1683431
(cherry picked from commit a58f66e180333ace479983e1287a62793bbd26aa)
"
openstack%2Fcinder~master~Ic112a68101c0dcb14da0db06c62ae190474a37d9,openstack/cinder,master,,Ic112a68101c0dcb14da0db06c62ae190474a37d9,Remove deprecated nova config options,MERGED,2017-09-13 11:14:25.000000000,2018-02-25 15:05:30.000000000,2017-10-16 15:49:57.000000000,11,75,2,503596,c463c6f50c5d1cf6277539626fe386f6d4df6355,186,46,6,5,18940,Gyorgy Szombathelyi,gyurco78,"Remove deprecated nova config options

In Pike, the nova client converted to use the [nova] section.
Remove the obsolete config options now.

Change-Id: Ic112a68101c0dcb14da0db06c62ae190474a37d9
"
openstack%2Fcinder~stable%2Fpike~I5c6ad150543213acfd0c78dbbdb1dc1584d22d26,openstack/cinder,stable/pike,bug/1632333,I5c6ad150543213acfd0c78dbbdb1dc1584d22d26,NetApp ONTAP: Copy offload bugfix,MERGED,2018-02-09 10:38:04.000000000,2018-02-25 15:05:26.000000000,2018-02-20 01:51:39.000000000,136,168,0,542770,82a13da48e7451c2f7813bf2de6990625c05624c,40,22,2,4,10058,Erlon R. Cruz,sombrafam,"NetApp ONTAP: Copy offload bugfix

When 'NetApp NFS Copy Offload' tool is configured to download Glance
images, these images are downloaded twice because the tool is doing
the job after Cinder has already done it.
This patch fixes the bug by executing the copy offload tool inside the
clone_image function instead of using the copy_image_to_volume.

Closes-bug: #1632333

Change-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26
(cherry-picked from commit c27173bad69da4889a5237cf2becc14bb6fc578a)
"
openstack%2Fcinder~driverfixes%2Fnewton~Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769,openstack/cinder,driverfixes/newton,bug/1732812,Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769,nimble: handle unicode strings in volume create,MERGED,2017-12-01 23:53:48.000000000,2018-02-25 15:04:41.000000000,2018-01-11 19:33:44.000000000,57,3,0,524768,6f9e2de22b77d9ef76727e018ad5c5308f6a6f3a,70,18,8,2,16668,Raunak Kumar,rkumar,"nimble: handle unicode strings in volume create

currently nimble cinder driver doesn't handle unicode strings
for display_name and display_description

Change-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769
Closes-Bug: 1732812
(cherry picked from commit 23ac0ab4edd38b91b0c21d5c9e81cd1a7bdddc55)
"
openstack%2Fcinder~master~I76ca1251cd14da6c777bd48a28906d8362d836b0,openstack/cinder,master,522110,I76ca1251cd14da6c777bd48a28906d8362d836b0,Update access control of show under hostAPI,MERGED,2017-11-22 04:26:06.000000000,2018-02-25 15:04:25.000000000,2017-11-23 03:15:02.000000000,7,5,1,522110,f39c3fac2cf4e436a2c5de4f6bfcae1c879f3e43,65,35,5,3,26458,Brin Zhang,zhangbailin,"Update access control of show under hostAPI

Update the detection mechanism of show interface under the host API.
Replacement detection mode, and add policy for host show API.

Change-Id: I76ca1251cd14da6c777bd48a28906d8362d836b0
Closes-Bug: #1732808
"
openstack%2Fcinder~master~If2419008f3f978a4d18f16d57ec6a03fef065d87,openstack/cinder,master,bug/1730720,If2419008f3f978a4d18f16d57ec6a03fef065d87,HPE3PAR: Modify host & clear zone after detach,MERGED,2017-11-07 19:37:46.000000000,2018-02-25 15:04:23.000000000,2017-11-11 22:44:35.000000000,86,17,2,518388,aa15f58bdc40e5e27885b06430a96117b290d91e,122,40,4,3,24952,Vivek Soni,sonivi,"HPE3PAR: Modify host & clear zone after detach

Modify or remove wwn/iqn entries from 3par host, after
vlun deletion. If multiple volumes (via FC and ISCSI)
are exported to same host and FC/ISCSI volumes are
detached subsequently, this fix would remove all
WWN/IQN entries respectively from 3par host

If the last FC volume is detached, then it will remove
all zones from fabrics.

Change-Id: If2419008f3f978a4d18f16d57ec6a03fef065d87
Closes-Bug: #1730720
"
openstack%2Fcinder~master~Ic3c3e622410a83e4c40a95f9012ca19651bd9d01,openstack/cinder,master,,Ic3c3e622410a83e4c40a95f9012ca19651bd9d01,Storwize: Fix typo in log message,MERGED,2017-10-30 18:09:54.000000000,2018-02-25 15:04:21.000000000,2017-11-02 13:02:05.000000000,1,1,0,516414,5a650de44bfd54b88da1bc7a96b4a52ffe58572d,54,37,1,1,4523,Eric Harney,eharney,"Storwize: Fix typo in log message

A missing space here means the message reads as
""theallotted"".

TrivialFix

Change-Id: Ic3c3e622410a83e4c40a95f9012ca19651bd9d01
"
openstack%2Fcinder~master~I8218768216e87f6fdda1dd77dd09ca2ca46111c7,openstack/cinder,master,bug/1714503,I8218768216e87f6fdda1dd77dd09ca2ca46111c7,VMAX driver - Volume identifier issues,MERGED,2017-09-20 09:12:03.000000000,2018-02-25 15:04:15.000000000,2017-10-24 18:17:46.000000000,74,40,6,505559,cbce7226bb4fa922c7bea201e942bb88487154d4,224,48,7,3,23414,Ciara Stacke,cstacke,"VMAX driver - Volume identifier issues

When creating a VMAX volume through cinder, a 'volume_identifier' is
set on the device on the backend. This takes the form 'OS-<cinderUUID>'.
There are a couple of issues with how this is currently being done:
1. When the VMAX driver retrieves the volume using the 'device_id' value
saved in the provider location, it checks that the volume identifier
matches OS-<cinderUUID>. However, the way this is currently being
checked can cause an issue if the create volume operation ends up being
retried in cinder - sometimes there can be two devices on the backend
with the same volume identifier, and the code may not pick up the
correct device.
2. On a deallocate operation, the volume identifier is not being unset
on the device. This patch rectifies these issues.

Change-Id: I8218768216e87f6fdda1dd77dd09ca2ca46111c7
Closes-Bug: 1717933
"
openstack%2Fcinder~master~Id8d886feca938e99df14c35b17826b24d7c2b584,openstack/cinder,master,bp/replication-cg-svc,Id8d886feca938e99df14c35b17826b24d7c2b584,Add Storwize replication group support,MERGED,2017-05-31 09:26:59.000000000,2018-02-25 15:04:13.000000000,2017-10-19 10:11:15.000000000,2307,324,119,469394,24e4c3ea684c7d418c2de5ac8c46d175819a4b42,502,65,15,7,17045,xiaoqin,xiaoqin,"Add Storwize replication group support

This patch adds consistent replication group support for
Storwize/SVC driver.

Supported operations:
* Create replication consistency group
* Add volume to existing replication consistency group
* Adjust existing replication consistency group
* Enable replication on group
* Disable replication on group
* Fail over replication group back and forth

DocImpact Implements: blueprint replication-cg-svc

Change-Id: Id8d886feca938e99df14c35b17826b24d7c2b584
"
openstack%2Fcinder~stable%2Fpike~Ifb14e583723c87de7e83cdf0e5409dc61e8955d8,openstack/cinder,stable/pike,bug/1747656,Ifb14e583723c87de7e83cdf0e5409dc61e8955d8,VMAX doc - incorrect info on Hybrids in Pike,MERGED,2018-02-06 14:11:46.000000000,2018-02-25 15:04:06.000000000,2018-02-07 03:47:07.000000000,1,4,0,541282,114c6582809646f5be396e2912140449180ccbd0,19,15,1,1,12670,Helen Walsh,walshh2,"VMAX doc - incorrect info on Hybrids in Pike

VMAX driver will support VMAX hybrids beyond Rocky.  This has
already been updated in master but is part of the full Queens
documentation which is not relevant for Pike.

Change-Id: Ifb14e583723c87de7e83cdf0e5409dc61e8955d8
Closes-Bug: #1747656
"
openstack%2Fcinder~master~Id0d3b06b2debad70d36c253a3c1ee9d561a22e64,openstack/cinder,master,ks_auth,Id0d3b06b2debad70d36c253a3c1ee9d561a22e64,Simplify keystone password assertions,MERGED,2018-01-24 15:44:22.000000000,2018-02-25 15:03:53.000000000,2018-01-25 08:38:01.000000000,17,24,3,537427,a4b427c5e8a0bcd59c21d821c9a305cf1a54b159,38,28,3,1,11904,Sean McGinnis,SeanM,"Simplify keystone password assertions

With an update to keystoneauth1 > 3.3.0, some of the arguments
to the password plugin change. Some of our unit tests were a
little too zealous in checking the expected parameters that get
passed in to this.

Since we just need to verify that the password plugin is being
used, and we don't necessarily care about each of the values
being passed, just assert that the password plugin was called,
check some specific values, and keep it simple.

Change-Id: Id0d3b06b2debad70d36c253a3c1ee9d561a22e64
"
openstack%2Fcinder~stable%2Fpike~I18b890ab1a73e0e7e9e626c7f896486fdd1f6d75,openstack/cinder,stable/pike,bug/1737551,I18b890ab1a73e0e7e9e626c7f896486fdd1f6d75,Fix available space checking for image conversion,MERGED,2018-01-03 16:47:22.000000000,2018-02-25 15:03:47.000000000,2018-01-27 01:36:59.000000000,2,2,0,530966,fb7d962937b42d53f9bcd4eda60afa7db2997b7e,45,21,1,1,4523,Eric Harney,eharney,"Fix available space checking for image conversion

Cinder checks if there is enough free space to convert image from qcow
to raw format before uploading it into the volume. This patch fixes
the issue when we try to compare GiB to KiB.

Change-Id: I18b890ab1a73e0e7e9e626c7f896486fdd1f6d75
Closes-Bug: #1737551
(cherry picked from commit 66cc0d2429bddf0c983c6969a70b5cd1ea41e086)
Conflicts:
	cinder/image/image_utils.py
"
openstack%2Fcinder~master~I678986e557755c2fe4183927c17342e430f5df0d,openstack/cinder,master,enable_failback_for_solidfire,I678986e557755c2fe4183927c17342e430f5df0d,Enable fail back in SolidFire driver,MERGED,2017-12-19 23:30:57.000000000,2018-02-25 15:03:44.000000000,2017-12-23 16:26:47.000000000,155,48,0,529182,e7498ca5bdd6e16b46e8a6d17dbc7492f6e710e9,61,34,3,3,2243,John Griffith,john-griffith,"Enable fail back in SolidFire driver

This change fixes up a few things in the SolidFire driver to enable the
ability to ""fail back"" to the original cluster in a replication scenario.

We're still assuming a cluster-wide fail over, but now an admin has the
ability to specify subsequent `cinder failover-host` calls to switch
back and forth between their SF clusters.

This change promotes the target on a fail over and also now attempts to
set up replication back to the original src  as well (assuming the
original is available and not a puddle of melted goo).  This means that
writes to the new back end will be replicated back to the src, so if a
user so chooses they can fail back to the original and have their new
data.

Change-Id: I678986e557755c2fe4183927c17342e430f5df0d
"
openstack%2Fcinder~master~Ice541e231eca54318a71c7994a0bf30d1c40f5d0,openstack/cinder,master,,Ice541e231eca54318a71c7994a0bf30d1c40f5d0,Fix migration Invalid volume message,MERGED,2017-12-18 17:24:05.000000000,2018-02-25 15:03:31.000000000,2017-12-20 14:11:39.000000000,1,1,0,528767,313a212202cf30426f12b319c96134c480be1693,34,30,1,1,4523,Eric Harney,eharney,"Fix migration Invalid volume message

This currently prints the volume id as a
dict rather than the volume id.

Make it print the message with just the id.

Change-Id: Ice541e231eca54318a71c7994a0bf30d1c40f5d0
"
openstack%2Fcinder~master~I6ad364fa3713b9f41b56b4b3662634cfb02ef365,openstack/cinder,master,vmdk_version,I6ad364fa3713b9f41b56b4b3662634cfb02ef365,VMware: Bump driver version,MERGED,2017-12-08 02:31:07.000000000,2018-02-25 15:03:22.000000000,2017-12-12 22:20:50.000000000,11,1,0,526570,f857a2c66f1d1af85fc124f423c9889063f4a6ab,43,39,1,1,9171,Vipin Balachandran,vbala,"VMware: Bump driver version

Updating the vmdk driver version to reflect various
enhancements made in the current release.

Change-Id: I6ad364fa3713b9f41b56b4b3662634cfb02ef365
"
openstack%2Fcinder~stable%2Focata~I81dc6f1ac5855b21c10572797fd45a6b38641112,openstack/cinder,stable/ocata,,I81dc6f1ac5855b21c10572797fd45a6b38641112,"Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""",MERGED,2017-11-30 12:46:32.000000000,2018-02-25 15:03:21.000000000,2017-12-04 15:06:43.000000000,0,12,0,524161,23377ac9a84f57c463653efc4b90f789d6f5cf3d,27,20,1,1,11904,Sean McGinnis,SeanM,"Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""

This is currently causing unit test failures since
pymysql _show_warnings calls
    warnings.warn(err.Warning(*w[1:3]), stacklevel=4)
and this code assumes that the warnings are strings.

This reverts commit ed6d50bed642b01d005563866ab9f211632cff5b.

Change-Id: I81dc6f1ac5855b21c10572797fd45a6b38641112
(cherry picked from commit cc6c5b10867544ec0e2cbc73802ec8ee6213bc7a)
"
openstack%2Fcinder~master~Ibcba92f7cdb2506f3b2f31baa2fca6c696ff57a4,openstack/cinder,master,bug/fix_count_error,Ibcba92f7cdb2506f3b2f31baa2fca6c696ff57a4,Fix 'KeyError' when 'with_count' is not specified,MERGED,2017-11-25 07:28:34.000000000,2018-02-25 15:03:19.000000000,2017-11-28 02:42:33.000000000,6,3,2,522917,5b3e809c147a59971260f35f41510c20acaed3b4,69,32,4,3,23083,TommyLike,TommyLike,"Fix 'KeyError' when 'with_count' is not specified

Pop method will raise KeyError if the key
does not exist. Fix this by ensuring 'with_count'
exists before parsing the string value.

Change-Id: Ibcba92f7cdb2506f3b2f31baa2fca6c696ff57a4
"
openstack%2Fcinder~master~I87eef108a6315d630ce78b41bec6543e995e76af,openstack/cinder,master,zanata/translations,I87eef108a6315d630ce78b41bec6543e995e76af,Imported Translations from Zanata,MERGED,2017-11-21 06:14:31.000000000,2018-02-25 15:03:17.000000000,2017-11-21 12:12:01.000000000,239,662,0,521720,b07570360ce1519e205b2cc383fbe9a254ffc39e,36,29,1,11,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I87eef108a6315d630ce78b41bec6543e995e76af
"
openstack%2Fcinder~stable%2Fpike~I87a287f5db912e9aeaa401871178c49414098d06,openstack/cinder,stable/pike,bug/1696361-stable/pike,I87a287f5db912e9aeaa401871178c49414098d06,Fix backup-import error when the deleted record in the same db,MERGED,2017-10-20 00:54:38.000000000,2018-02-25 15:03:13.000000000,2017-10-27 02:49:12.000000000,9,5,0,513572,d4c923345d5832dbc6c512f13b85d5c4e3fd4682,16,12,1,2,26567,kaufmann.smith,,"Fix backup-import error when the deleted record in the same db

If we revive the deleted backup record, cinder-api will raise a
DBDuplicateEntry error, this patch will allow user to import the deleted
record either in the same db or not.

Change-Id: I87a287f5db912e9aeaa401871178c49414098d06
Closes-Bug: #1696361
(cherry picked from commit ea5e4f3945714c9c21ae27468288dea36ab4e07d)
"
openstack%2Fcinder~master~I1c3ee6ad21bd27a5ef7f6691ddd8dde25e9c4c01,openstack/cinder,master,docs_cleanup,I1c3ee6ad21bd27a5ef7f6691ddd8dde25e9c4c01,Clean up docs landing page,MERGED,2017-10-03 19:07:07.000000000,2018-02-25 15:03:12.000000000,2017-10-04 22:27:39.000000000,59,77,0,509253,eca5f769270f6acf4d9f384a03a13ee3fb5b8148,33,28,1,5,11904,Sean McGinnis,SeanM,"Clean up docs landing page

Reorganizes and cleans up the docs landing page so viewers eyes don't
immediately start bleeding. Also tries to simplify things and put them
in a more logical and consumable order.

Change-Id: I1c3ee6ad21bd27a5ef7f6691ddd8dde25e9c4c01
"
openstack%2Fcinder~master~Ia26eebe7b5777c5a72c6407de242e683683d94dc,openstack/cinder,master,zanata/translations,Ia26eebe7b5777c5a72c6407de242e683683d94dc,Imported Translations from Zanata,MERGED,2018-02-18 06:25:35.000000000,2018-02-25 15:02:58.000000000,2018-02-18 09:23:11.000000000,5,2,0,545652,062d76ecfc498e74ee77837185356516df47adc8,28,24,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia26eebe7b5777c5a72c6407de242e683683d94dc
"
openstack%2Fcinder~master~Ib3cde34d9a181107c77c31c22d225dab073f37b0,openstack/cinder,master,log_format_err,Ib3cde34d9a181107c77c31c22d225dab073f37b0,Remove deprecated fatal_exception_format_errors option,MERGED,2018-02-14 21:42:40.000000000,2018-02-25 15:02:55.000000000,2018-02-17 11:52:03.000000000,0,16,0,544704,948f90835b816336b9df5d192445b74096bc1c50,53,34,2,2,11904,Sean McGinnis,SeanM,"Remove deprecated fatal_exception_format_errors option

This config option was only used for internal testing. In Queens
tests were updated to always do this, regardless of the config
option. This removes the option.

No release note included since this was really only an internal
thing and mentioning there would probably just cause confusion.

Change-Id: Ib3cde34d9a181107c77c31c22d225dab073f37b0
"
openstack%2Fcinder~stable%2Fpike~I745062e8fbc8864e5c9d489c687ec37aca862a8f,openstack/cinder,stable/pike,bug/1745549,I745062e8fbc8864e5c9d489c687ec37aca862a8f,Update NEC driver configuration document for Pike,MERGED,2018-01-26 08:09:14.000000000,2018-02-25 15:02:44.000000000,2018-02-02 06:57:18.000000000,15,4,0,538174,0dfda7ef70aa8a29e81bb3974fff538316aa5816,19,14,1,1,23885,Shunei Shiono,s-shiono,"Update NEC driver configuration document for Pike

Added a step for creating control volumes to the initial setup
procedure.

Change-Id: I745062e8fbc8864e5c9d489c687ec37aca862a8f
Partial-Bug: #1745549
"
openstack%2Fcinder~master~I1db2771f7c970341f62271a857795d413a506a34,openstack/cinder,master,,I1db2771f7c970341f62271a857795d413a506a34,ScaleIO: Enable multiattach for volumes,MERGED,2018-01-05 22:26:10.000000000,2018-02-25 15:01:45.000000000,2018-01-22 16:57:30.000000000,11,0,1,531511,bfdb90ed620d6ef424188e187593940867dbaca5,87,38,2,2,25033,Eric Young,tssgery,"ScaleIO: Enable multiattach for volumes

Enable the multiattach capability to allow volumes
to be attached to more than one instance

Change-Id: I1db2771f7c970341f62271a857795d413a506a34
"
openstack%2Fcinder~master~I154d85cde693c6e77e22a677cae7150be48fce07,openstack/cinder,master,backup,I154d85cde693c6e77e22a677cae7150be48fce07,SMBFS: fix detecting if a volume is in-use,MERGED,2017-12-15 17:25:43.000000000,2018-02-25 15:01:35.000000000,2017-12-20 00:07:14.000000000,24,19,0,528351,fb48a1fe64dfc6f241eaff968b4ba0ed84a39adc,53,33,2,4,8543,Lucian Petrut,plucian,"SMBFS: fix detecting if a volume is in-use

The SMBFS driver along with the remotefs module rely on the volume
status field when checking if it's attached.

While in most cases this is fine, it will cause issues when backing
up volumes. In this situation, the volume status will be 'backing-up',
in which case the driver will wrongfully consider that the volume is
detached (by not having the 'in-use' state).

In particular, this affects the volume snapshot workflow.

This change fixes this check, adding a helper method which detects
the volume attach status by looking at the volume 'attach_status'
field.

Change-Id: I154d85cde693c6e77e22a677cae7150be48fce07
Partial-Implements: windows-smb-backup
"
openstack%2Fcinder~master~Iaec8c382f3ae578b3f1da1c570f0b83be59ee984,openstack/cinder,master,nas_ip,Iaec8c382f3ae578b3f1da1c570f0b83be59ee984,Remove deprecated HP 3PAR config options,MERGED,2017-12-15 15:03:32.000000000,2018-02-25 15:01:28.000000000,2017-12-22 13:37:14.000000000,15,20,0,528300,b36ec9c29b742b416f2eba5cb6a5563d85c3c7af,65,33,2,2,1736,Ivan Kolodyazhny,e0ne,"Remove deprecated HP 3PAR config options

HP 3PAR was deprecated during Liberty and now it's safe to be removed.
New HPE 3PAR options should be used instead.

Change-Id: Iaec8c382f3ae578b3f1da1c570f0b83be59ee984
"
openstack%2Fcinder~master~If59c491446a7bf7b928ca2219092ed9561501cd9,openstack/cinder,master,fix_group_type_specs_api_ref,If59c491446a7bf7b928ca2219092ed9561501cd9,Fix api-ref for v3 group type specs,MERGED,2017-12-06 04:04:35.000000000,2018-02-25 15:01:07.000000000,2017-12-11 21:00:34.000000000,11,3,0,525868,07624e533c37218dfa3aac8f2745d702673dde07,37,32,1,2,23081,Jeremy Zhang,jeremy.zhang,"Fix api-ref for v3 group type specs

This patch aims to make some trivial fix on api-ref for v3 group type
specs.

Change-Id: If59c491446a7bf7b928ca2219092ed9561501cd9
"
openstack%2Fcinder~stable%2Fpike~I3b775da8c5e862def54e9d44d7b157cf17a07a24,openstack/cinder,stable/pike,bug/1726284-stable/pike,I3b775da8c5e862def54e9d44d7b157cf17a07a24,Unity: Fix duplicate hosts created with same name,MERGED,2017-12-04 01:56:34.000000000,2018-02-25 15:01:06.000000000,2017-12-09 19:34:09.000000000,68,39,0,525025,85bc7559fb3b8c8ff3d508b3ef54bc4ba4a0591f,24,21,1,4,10628,Peter Wang,peter_wang,"Unity: Fix duplicate hosts created with same name

In some circumstance, there is a race condition in querying/creating
Unity host thus multiple hosts with same name were created.

This issue stops any further attach/detach operation.

This patch leverage the DSL in cinder to avoid above race condition.

Change-Id: I3b775da8c5e862def54e9d44d7b157cf17a07a24
Closes-bug: #1726284
(cherry picked from commit d8dd30f16b8712385b2f0d43c4d0a45f5fe4be41)
"
openstack%2Fcinder~master~Ide79fda590762cc040acc36987504a2bee2e85fe,openstack/cinder,master,bug/1518798,Ide79fda590762cc040acc36987504a2bee2e85fe,Disallow managed volume to be managed again,MERGED,2017-11-28 13:55:55.000000000,2018-02-25 15:01:04.000000000,2017-12-06 12:43:20.000000000,9,1,9,523417,ff878ad0ade86d527696cd05d1c2ca51c7f9c4b3,72,38,6,1,27274,Omar Muhtaseb,OmarM,"Disallow managed volume to be managed again

On manage existing volume, check if the volume is already managed.
If the volume is already managed, display an error
""Unable to manage existing volume. The volume is already managed""

Closes-bug: #1518798

Change-Id: Ide79fda590762cc040acc36987504a2bee2e85fe
"
openstack%2Fcinder~master~I30fe1b0964679416b46a4bbcb72e75814f022aa8,openstack/cinder,master,filter-valid-fc-initiators,I30fe1b0964679416b46a4bbcb72e75814f022aa8,Filter valid FC initiator while FC attaching,MERGED,2017-09-19 11:25:45.000000000,2018-02-25 15:00:44.000000000,2017-11-25 16:23:43.000000000,42,0,3,505178,213b451d82116072ad7ffac19bb1762356217c78,86,44,3,5,16203,zengyingzhe,zengyingzhe,"Filter valid FC initiator while FC attaching

While attaching a volume by FC, Huawei driver will verify the FC initiator
wwns validation via checking if these wwns exist in Huawei storage.
At the situation of NOVA compute node connects to multiple storage through
FC, the passed in inititator wwns must include the wwns that aren't actually
connected to current backend storage, so the verification would fail.

To avoid this problem, add a filtering step for initiator wwns according to
the actual valid FC initiators in backend storage before verification.

Change-Id: I30fe1b0964679416b46a4bbcb72e75814f022aa8
"
openstack%2Fcinder~master~Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769,openstack/cinder,master,bug/1732812,Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769,nimble: handle unicode strings in volume create,MERGED,2017-11-17 20:10:42.000000000,2018-02-25 15:00:37.000000000,2017-12-01 23:36:04.000000000,57,3,0,521185,23ac0ab4edd38b91b0c21d5c9e81cd1a7bdddc55,84,35,4,2,16668,Raunak Kumar,rkumar,"nimble: handle unicode strings in volume create

currently nimble cinder driver doesn't handle unicode strings
for display_name and display_description

Change-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769
Closes-Bug: 1732812
"
openstack%2Fcinder~stable%2Fpike~If2419008f3f978a4d18f16d57ec6a03fef065d87,openstack/cinder,stable/pike,bug/1730720,If2419008f3f978a4d18f16d57ec6a03fef065d87,HPE3PAR: Modify host & clear zone after detach,MERGED,2017-11-20 05:16:08.000000000,2018-02-25 15:00:36.000000000,2017-11-20 22:13:18.000000000,87,17,0,521416,cc6bca988da313dd72f190ad84c1a91b58fca9c6,20,20,1,3,24952,Vivek Soni,sonivi,"HPE3PAR: Modify host & clear zone after detach

Modify or remove wwn/iqn entries from 3par host, after
vlun deletion. If multiple volumes (via FC and ISCSI)
are exported to same host and FC/ISCSI volumes are
detached subsequently, this fix would remove all
WWN/IQN entries respectively from 3par host

If the last FC volume is detached, then it will remove
all zones from fabrics.

Change-Id: If2419008f3f978a4d18f16d57ec6a03fef065d87
Closes-Bug: #1730720
(cherry picked from commit aa15f58bdc40e5e27885b06430a96117b290d91e)
"
openstack%2Fcinder~master~Ie63c6ec677f7fd800a10c9759c535cba395f3ec1,openstack/cinder,master,TrivialFix,Ie63c6ec677f7fd800a10c9759c535cba395f3ec1,NetApp ONTAP: Remove orphaned 7mode file,MERGED,2017-11-13 19:09:49.000000000,2018-02-25 15:00:32.000000000,2017-11-14 22:10:01.000000000,0,0,0,519452,0f8afcb8748d1332f983621866a2f5e7bcaa3633,31,25,1,1,16643,Goutham Pacha Ravi,gouthamr,"NetApp ONTAP: Remove orphaned 7mode file

When the 7mode drivers were removed as part
of I129ca060a89275ffd56481b8f64367b0d803cff5,
a file was inadvertently left behind, blank.

TrivialFix

Change-Id: Ie63c6ec677f7fd800a10c9759c535cba395f3ec1
"
openstack%2Fcinder~master~I1471ecfffe340dafb1c95bac5eaff79cde650955,openstack/cinder,master,bug/1718739,I1471ecfffe340dafb1c95bac5eaff79cde650955,NetApp E-series: Fix provisioned_capacity_gb,MERGED,2017-11-07 22:29:38.000000000,2018-02-25 15:00:30.000000000,2017-11-20 09:17:16.000000000,26,3,0,518406,f905253b9443db1870c3d2b7b70e032bb089efa0,51,34,1,4,14865,Adriano Freires Rosso,adriano_rosso,"NetApp E-series: Fix provisioned_capacity_gb

Currently, NetApp E-series drivers (iSCSI and FC) are incorrectly
reporting the total physical used size as the provisioned_capacity_gb.
This patch fixes the calculation of this attribute by summing the
user-visible capacity of all the volumes present in the backend and
reporting the result as the provisioning_capacity_gb.

Change-Id: I1471ecfffe340dafb1c95bac5eaff79cde650955
Closes-Bug: #1718739
"
openstack%2Fcinder~master~I0a7af6e4b2f407df7d02e6a0348fbe48c8d0e21e,openstack/cinder,master,oslo_py_log,I0a7af6e4b2f407df7d02e6a0348fbe48c8d0e21e,Use oslo_log instead of logging,MERGED,2017-11-07 07:17:06.000000000,2018-02-25 15:00:29.000000000,2017-11-07 13:06:14.000000000,1,1,0,518266,2f97b0c98111730b9caaee2cd38daeedcbe4e699,33,27,1,1,11904,Sean McGinnis,SeanM,"Use oslo_log instead of logging

We missed a recent addition that used Python logging instead of oslo.log.
This just changes the import to use the right logging module.

Change-Id: I0a7af6e4b2f407df7d02e6a0348fbe48c8d0e21e
"
openstack%2Fcinder~master~I5f4af36e7643b41b68ac438ce048559c15b6c5b8,openstack/cinder,master,,I5f4af36e7643b41b68ac438ce048559c15b6c5b8,ScaleIO - Cleanup and enhance configuration doc,MERGED,2017-11-02 15:38:32.000000000,2018-02-25 15:00:27.000000000,2017-11-05 01:21:41.000000000,196,190,12,517354,ae69084f7c862296403f5b789b0ff6311c927477,48,27,2,1,25033,Eric Young,tssgery,"ScaleIO - Cleanup and enhance configuration doc

Restructuring the configuration content for the ScaleIo driver
and adding more information on how to specify a specific
protection domain and storage pool in a volume type as well as
providing examples of setting QOS specs.

Change-Id: I5f4af36e7643b41b68ac438ce048559c15b6c5b8
"
openstack%2Fcinder~stable%2Fpike~Iaae24a7de7171d9c1dc6197aa79b7d8ee87c0051,openstack/cinder,stable/pike,bug/1724074-stable/pike,Iaae24a7de7171d9c1dc6197aa79b7d8ee87c0051,ibm-storage: Fix create_volume_from_snapshot,MERGED,2017-10-31 15:42:18.000000000,2018-02-25 15:00:15.000000000,2017-11-05 00:16:38.000000000,23,9,1,516722,f3430f54965b243a33eacdda747f9a5a6315a2f2,21,19,1,2,14532,Gerald McBrearty,gfm,"ibm-storage: Fix create_volume_from_snapshot

If a snapshot was created from a volume that is part of a generic group,
then when calling ""create_volume_from_snapshot"", the exception
SourceVolumeBadNameError is raised.
This is a leftover from the days where there were no generic groups
(Only consistency groups were exist)

Change-Id: Iaae24a7de7171d9c1dc6197aa79b7d8ee87c0051
Closes-Bug: #1724074
(cherry picked from commit 104d6fc8207d8633cd6fd650a488e86c80057477)
"
openstack%2Fcinder~master~I65393a6a5f995d609152d4b8546c055d7bf0b253,openstack/cinder,master,bp/storwize-backup-snapshots,I65393a6a5f995d609152d4b8546c055d7bf0b253,Storwize: add backup snapshots support,MERGED,2017-10-17 09:40:18.000000000,2018-02-25 15:00:09.000000000,2017-11-07 08:22:42.000000000,222,18,4,512562,f68847353e46c8729d8fc13d2e53608c72c159c7,297,46,9,5,11186,yixuan zhang,yixuanzhang,"Storwize: add backup snapshots support

This patch adds backup snapshots support for Storwize/SVC driver.
The change implements attach and detach snapshot:
initialize_connection_snapshot
terminate_connection_snapshot

Implements: blueprint storwize-backup-snapshots

Change-Id: I65393a6a5f995d609152d4b8546c055d7bf0b253
"
openstack%2Fcinder~master~Id66b6bd9d1a26202f0473628976b6b7da8f9997f,openstack/cinder,master,zanata/translations,Id66b6bd9d1a26202f0473628976b6b7da8f9997f,Imported Translations from Zanata,MERGED,2017-10-23 07:26:27.000000000,2018-02-25 15:00:07.000000000,2017-10-23 14:39:32.000000000,55,58429,0,514170,0ff3fb31f088cef2f3ac8b84bc551d4cb54d4988,25,21,1,22,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id66b6bd9d1a26202f0473628976b6b7da8f9997f
"
openstack%2Fcinder~stable%2Fpike~I2caa5f2763ec343b0bc875e707924ff9b6424ce5,openstack/cinder,stable/pike,bug/1719659,I2caa5f2763ec343b0bc875e707924ff9b6424ce5,Dell EMC PS: Fix over-subscription ratio stats,MERGED,2017-10-17 17:11:57.000000000,2018-02-25 15:00:06.000000000,2017-10-19 20:08:01.000000000,9,4,0,512740,a6632b7a79a13e3611801080dfdb4131b90985a5,26,19,2,3,10379,Rajini Karthik,rajinir,"Dell EMC PS: Fix over-subscription ratio stats

Fixed the provisioned_capacity_gb to use the VolumeReportedSpace
to calculate the over-subscription ratio stats in the Dell EMC
PS volume driver.

Closes Bug: #1719659

Change-Id: I2caa5f2763ec343b0bc875e707924ff9b6424ce5
(cherry picked from commit 761f0c3e66691e6f5c683a63a81beccbbca1cacf)
"
openstack%2Fcinder~master~I8e1b544f510c1a0af30a5a0b672578226c9fd315,openstack/cinder,master,policy-and-docs-in-code,I8e1b544f510c1a0af30a5a0b672578226c9fd315,[policy in code] Add support for snapshot resource,MERGED,2017-09-27 03:15:37.000000000,2018-02-25 15:00:03.000000000,2017-10-10 19:58:34.000000000,349,58,2,507721,d5d070534305eb56582e6e24ebecb6433e4cb746,89,40,3,13,23083,TommyLike,TommyLike,"[policy in code] Add support for snapshot resource

This patch adds policy in code support for snapshot
resources and depends on the basic patch [1].

[1]: https://review.openstack.org/#/c/506976/

Change-Id: I8e1b544f510c1a0af30a5a0b672578226c9fd315
Partial-Implements: blueprint policy-in-code
"
openstack%2Fcinder~master~Id03ff9310fd53c4e6df300f2866b7a17cba82561,openstack/cinder,master,update_blockbox,Id03ff9310fd53c4e6df300f2866b7a17cba82561,Update BlockBox,MERGED,2017-10-04 20:10:18.000000000,2018-02-25 15:00:01.000000000,2017-10-06 19:49:16.000000000,70,2228,0,509622,3a2205e39359fdf98940c35f8ece7d26afc909aa,34,30,1,21,2243,John Griffith,john-griffith,"Update BlockBox

There have been a number of changes to LOCI since the introduction
of BlockBox.  In particular LOCI now offers a `universal` Dockerfile
and employees bindeps and new ARGS features of Docker to customize
images.

This patch modifies BlockBox to use the new universal LOCI repo and
also cleans up a bunch of cruft and adds an updated conf entry with
key-manager.

This patch also removes the dev environment as it's out dated and
doesn't seem to be gaining much usage.  It's easy enough to set
this up on your own, so rather than maintain it just remove it.

Change-Id: Id03ff9310fd53c4e6df300f2866b7a17cba82561
"
openstack%2Fcinder~master~Ib4a0c50f699edb1cc2ea669ac711eb2f537be417,openstack/cinder,master,,Ib4a0c50f699edb1cc2ea669ac711eb2f537be417,Fix tempest test revet_client typo,MERGED,2017-10-02 20:34:41.000000000,2018-02-25 15:00:00.000000000,2017-10-06 17:44:33.000000000,2,2,0,508995,395407c9578686ebc23f0bd4cbc567ac97bafbe9,52,34,1,2,4523,Eric Harney,eharney,"Fix tempest test revet_client typo

TrivialFix

Change-Id: Ib4a0c50f699edb1cc2ea669ac711eb2f537be417
"
openstack%2Fcinder~stable%2Fpike~I117319ac12991e4b46170fe71d18a65ea4c98556,openstack/cinder,stable/pike,bug/1750074,I117319ac12991e4b46170fe71d18a65ea4c98556,Cinder logs rabbitmq password on connection log,MERGED,2018-02-17 19:14:57.000000000,2018-02-25 14:59:53.000000000,2018-02-21 19:47:54.000000000,1,0,0,545621,d51fabb497df2606f04f90cbd2e842c7692bb1af,37,17,2,1,11269,Marga Millet,marga,"Cinder logs rabbitmq password on connection log

Cinder displays rabbitmq password if debug is enabled.

Closes-Bug: 1750074
Change-Id: I117319ac12991e4b46170fe71d18a65ea4c98556
(cherry picked from commit 919dd16a35ef2d0fd2ee4911398ba7830c02c6fd)
(cherry picked from commit ca9bf2d1c56605a565ffc468bb91fb5d58ef5ce9)
"
openstack%2Fcinder~stable%2Fqueens~I53e94a827c3ba31c7322e6faecfcc8ebf4a05b4a,openstack/cinder,stable/queens,add_multiattach_capability_to_solidfire-stable/queens,I53e94a827c3ba31c7322e6faecfcc8ebf4a05b4a,Add multiattach reporting to SolidFire,MERGED,2018-02-20 09:01:22.000000000,2018-02-25 14:59:18.000000000,2018-02-20 12:00:32.000000000,1,0,0,546081,29b151483104cd0a548923b16a56c88b2c585894,17,13,1,1,9562,Ildiko Vancsa,ildikov,"Add multiattach reporting to SolidFire

Wonders never cease!  Multiattach has landed, the cow jumped over
the moon and they put Humpty Dumpty back together again!

This change just addes multiattach=True to the SolidFire driver
now that everything has in fact landed.

Change-Id: I53e94a827c3ba31c7322e6faecfcc8ebf4a05b4a
"
openstack%2Fcinder~master~I991282cd7547dddf2324cdf1ea63bd12d4303ab1,openstack/cinder,master,gaofei,I991282cd7547dddf2324cdf1ea63bd12d4303ab1,Replace Chinese punctuation with English punctuation,MERGED,2018-01-23 08:26:47.000000000,2018-02-25 14:58:09.000000000,2018-01-23 17:59:07.000000000,16,16,0,536712,5f0ea63b60dbec6175145f975789253d2a956384,36,31,1,5,27386,gaofei,gaofei,"Replace Chinese punctuation with English punctuation

Change-Id: I991282cd7547dddf2324cdf1ea63bd12d4303ab1
"
openstack%2Fcinder~stable%2Fpike~I3419e628d42eddfe19c55cd72e7b9469e9fccc94,openstack/cinder,stable/pike,bug/1732462-stable/pike,I3419e628d42eddfe19c55cd72e7b9469e9fccc94,VNX: Fix cloning failure when system is busy,MERGED,2018-01-06 09:31:44.000000000,2018-02-25 14:58:07.000000000,2018-01-22 17:35:01.000000000,10,9,0,531532,41c565debb918c07f18fbe864002abcc241fe50e,39,22,1,3,10628,Peter Wang,peter_wang,"VNX: Fix cloning failure when system is busy

In newton, the 30s wait was removed due to refactor, in this case,
If the session hasn't started in the VNX, the driver would perform
unexpected rollback for the migration.

Adding a wait will make sure the session is started on the VNX thus
cloning can succeed.

Change-Id: I3419e628d42eddfe19c55cd72e7b9469e9fccc94
Closes-bug: #1732462
(cherry picked from commit 552d6fd33a4a2534eea6ca71765ab9936f5920b7)
"
openstack%2Fcinder~stable%2Focata~Id31258ef6f28caca226ac4a0a7f91fd8c8d87e88,openstack/cinder,stable/ocata,zanata/translations,Id31258ef6f28caca226ac4a0a7f91fd8c8d87e88,Imported Translations from Zanata,MERGED,2018-01-19 07:14:56.000000000,2018-02-25 14:58:02.000000000,2018-01-19 19:37:56.000000000,164,4,0,535639,225eef456adee310314335857e9594c7d12fc2de,14,10,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id31258ef6f28caca226ac4a0a7f91fd8c8d87e88
"
openstack%2Fcinder~master~I0ab094a961f0911e860d986c3db28a4e6c75a9f6,openstack/cinder,master,bug/fix_transfer_bug,I0ab094a961f0911e860d986c3db28a4e6c75a9f6,Update volume's 'updated_at' when accept transfer,MERGED,2018-01-16 10:02:00.000000000,2018-02-25 14:57:52.000000000,2018-01-18 06:46:09.000000000,1,2,0,534216,6ce5268b5629533401840bb4aebbf7bff0014621,64,34,1,1,23083,TommyLike,TommyLike,"Update volume's 'updated_at' when accept transfer

When accept volume transfer, the volume object's
'user_id', 'project_id' and 'status' are all updated,
'updated_at' should be refreshed as well.

Change-Id: I0ab094a961f0911e860d986c3db28a4e6c75a9f6
"
openstack%2Fcinder~master~Ifd91b8ddd0f18451b73b7472c9185dacb48b3a72,openstack/cinder,master,huawei-tests-loop,Ifd91b8ddd0f18451b73b7472c9185dacb48b3a72,Mock FixedIntervalLoopingCall for Huawei unit tests,MERGED,2018-01-04 15:52:08.000000000,2018-02-25 14:56:58.000000000,2018-01-05 13:54:49.000000000,4,0,0,531181,b0b0213ec08a9222259d8cb0ceb145044f7c6fc8,37,27,1,1,1736,Ivan Kolodyazhny,e0ne,"Mock FixedIntervalLoopingCall for Huawei unit tests

We should use ZeroIntervalLoopingCall instead of
FixedIntervalLoopingCall to speed-up our tests.

Change-Id: Ifd91b8ddd0f18451b73b7472c9185dacb48b3a72
"
openstack%2Fcinder~master~Id47c42e91885413572dfcc893cf3ecc02681c673,openstack/cinder,master,bug/1739987,Id47c42e91885413572dfcc893cf3ecc02681c673,Missing generalized_filters in cinder administration doc,MERGED,2017-12-25 02:42:07.000000000,2018-02-25 14:56:30.000000000,2017-12-26 02:26:09.000000000,1,0,0,529996,b5adb1e7bc14473555509229465cdcfd4b479b95,30,25,1,1,8846,Hao Wang,sxmatch,"Missing generalized_filters in cinder administration doc

Now cinder miss ""generalized_filters"" in administration doc,
though we defined it in index.rst.

Closes-Bug: #1739987
Change-Id: Id47c42e91885413572dfcc893cf3ecc02681c673
"
openstack%2Fcinder~master~I84e614346cfa4d302f919d12bea9680c5e527475,openstack/cinder,master,,I84e614346cfa4d302f919d12bea9680c5e527475,Follow the new PTI for document build,MERGED,2017-12-19 09:26:46.000000000,2018-02-25 14:56:28.000000000,2017-12-22 16:41:30.000000000,17,5,2,529006,f877ec291776930737c509220a7ac4a74cc2ed15,76,35,4,3,22694,jian.song,jiansong,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:

https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:

http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I84e614346cfa4d302f919d12bea9680c5e527475
"
openstack%2Fcinder~master~Ic0698e4fc0f6519c2676fe91e1a6c0fb47bbeb95,openstack/cinder,master,bug/1737724,Ic0698e4fc0f6519c2676fe91e1a6c0fb47bbeb95,Add online data migration routine for attachment_specs,MERGED,2017-12-19 21:26:36.000000000,2018-02-25 14:56:27.000000000,2017-12-22 17:31:29.000000000,108,5,1,529160,bf5c34e30a74d7915b25dff36dd1bd34de9d4e4f,49,31,2,5,6873,Matt Riedemann,mriedem,"Add online data migration routine for attachment_specs

This adds the hook to the cinder-manage db online_data_migration
CLI for migrating attachment_specs entries to the volume_attachment
table.

Along the way, two changes have to be made in the VolumeAttachment
object:

1. Handle 'connector' in updates in VolumeAttachment.create(); this
   makes the test work to create a volume attachment with the connector
   already set, something we should support so you don't have to create()
   and then save() the object.
2. In _from_db_object, we have to set the context on the attachment
   object and reset the volume field changes *before* saving the
   connector changes, otherwise save() fails because (a) it has an
   empty context and (2) you can't change a volume through the attachment.

Change-Id: Ic0698e4fc0f6519c2676fe91e1a6c0fb47bbeb95
Related-Bug: #1737724
"
openstack%2Fcinder~master~Ibff5a5aaa288138c4c63875d67ddebd24a40fd3f,openstack/cinder,master,openstack/requirements,Ibff5a5aaa288138c4c63875d67ddebd24a40fd3f,Updated from global requirements,MERGED,2017-12-15 21:23:37.000000000,2018-02-25 14:56:22.000000000,2017-12-19 13:18:00.000000000,4,4,0,528395,2a71d4cdebf462b9ffd24bfa28ff7109f264818b,67,32,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Ibff5a5aaa288138c4c63875d67ddebd24a40fd3f
"
openstack%2Fcinder~master~I35db18f36f86683f2ab16694c9787c908251a382,openstack/cinder,master,bug/1703954,I35db18f36f86683f2ab16694c9787c908251a382,Fix create encrypted volume from image,MERGED,2017-12-18 11:40:46.000000000,2018-02-25 14:56:21.000000000,2017-12-19 01:07:49.000000000,45,0,0,528694,3b01eb78ce1c1ce388521f8122b3d6b8f2686fda,32,28,1,2,9535,Gorka Eguileor,Gorka,"Fix create encrypted volume from image

If we run two create encrypted volume from image serially (waiting for
one operation to complete before the making the next request) the first
operation succeeds while the second one will fail during the attach
phase.

The failure we see in the logs indicate that OS-Brick is unable to get
the WWN from the connected volume.

In reality the failure to attach the volume on the second operation is
caused by a failed cleanup of the first create, even if there's no error
in the logs.

The reason why OS-Brick didn't correctly do the cleanup of the first
volume is because didn't know that it was attaching an encrypted volume
and returned a real path (ie: /dev/sdf) that then go overwritten by the
unencrypted device mapper.

The solution is letting OS-Brick know that it's an encrypted volume
during the attachment phase so it will return a symlink to the real
device instead of the real device itself.

The manager's ""initialize_connection"" does this correctly, but the
method creating the volume from an image doesn't use the method of that
class and calls the driver's ""initialize_connection"" method instead,
which is missing the ""encrypted"" field.

Closes-Bug: #1703954
Change-Id: I35db18f36f86683f2ab16694c9787c908251a382
"
openstack%2Fcinder~master~I60f8e8864f236fb92dd03560576377f1a0bdd82b,openstack/cinder,master,bug/1733967,I60f8e8864f236fb92dd03560576377f1a0bdd82b,Check for migrated UUID in SolidFire delete,MERGED,2017-11-23 00:34:45.000000000,2018-02-25 14:56:10.000000000,2017-12-17 22:55:24.000000000,24,28,0,522410,0e6ee1b1df38059f338ebd93c605dfb51a93a8a5,45,30,2,2,2243,John Griffith,john-griffith,"Check for migrated UUID in SolidFire delete

Migration of volumes kinda screws up the use of ID as the
reference to use for deleting volumes.

If a volume is migrated, the UUID (ID) gets swapped and no
longer matches the UUID the volume had when it was initially
created on the back end device.  The result is that deletion
of that volume fails on the back end because the handle to the
new UUID doesn't exist.

On the other hand, you also have to be careful in dealing with
and cleaning up volumes migrated off of your back end device for
the same types of reasons.

This change just adds an additional check in the SF driver so that
we are querying the back end device for the ID and the name_id.

This way we make sure if the volume is on our device we clean it up.

Change-Id: I60f8e8864f236fb92dd03560576377f1a0bdd82b
Closes-Bug: #1733967
"
openstack%2Fcinder~master~Ia3623af2048d6cbda65deebf4404e6b5fefe1bfc,openstack/cinder,master,bug/1731992,Ia3623af2048d6cbda65deebf4404e6b5fefe1bfc,qemu-img info --force-share for NFS driver,MERGED,2017-11-09 19:16:57.000000000,2018-02-25 14:55:57.000000000,2017-12-19 02:06:30.000000000,76,24,0,518782,524a74c6babd300c06f92fdc460bc568089435b0,104,40,4,7,4523,Eric Harney,eharney,"qemu-img info --force-share for NFS driver

NFS initialize_connection fails due to new locking
code in qemu-img info.  Bug 1718133 tracked a related issue.

Fix the NFS driver to work with the new version of
qemu-img info by disabling locking for qemu-img info
queries during initialize_connection and create_snapshot.

Closes-Bug: #1731992
Change-Id: Ia3623af2048d6cbda65deebf4404e6b5fefe1bfc
"
openstack%2Fcinder~master~Ib0ab0319e04e23e93f31a49bca17ed30af2474d0,openstack/cinder,master,api-ref-host-format,Ib0ab0319e04e23e93f31a49bca17ed30af2474d0,API ref: add host format to description,MERGED,2017-12-13 10:12:31.000000000,2018-02-25 14:55:39.000000000,2017-12-25 22:22:19.000000000,4,2,0,527659,69b4a3c9ab25165b93fb0668d0097535404e2fd0,34,26,1,2,13636,aarefiev,aarefiev,"API ref: add host format to description

Specify host and os-vol-host-attr:host parameters format.

Change-Id: Ib0ab0319e04e23e93f31a49bca17ed30af2474d0
"
openstack%2Fcinder~master~I37937c1ebe4a10b896f1deb77f64b520ceba2830,openstack/cinder,master,ut_slowest,I37937c1ebe4a10b896f1deb77f64b520ceba2830,Add output of slowest tests to UT runs,MERGED,2017-12-11 16:26:41.000000000,2018-02-25 14:55:36.000000000,2017-12-12 23:40:28.000000000,1,0,0,527149,6d366292941ef77d32f42b56868750dbf331fc95,46,27,1,1,11904,Sean McGinnis,SeanM,"Add output of slowest tests to UT runs

With the switch to stestr we lost the automatic output of the slowest
tests. We can still get that output, but it is a separate command to
run after the tests. Add that to our tox.ini command for test execution.

Change-Id: I37937c1ebe4a10b896f1deb77f64b520ceba2830
"
openstack%2Fcinder~master~I0ffc5da37d342b722098ea36e11e269c3ae463b3,openstack/cinder,master,bug/1737131,I0ffc5da37d342b722098ea36e11e269c3ae463b3,Updates Help Text on Quobyte Volume URL Option,MERGED,2017-12-08 13:31:44.000000000,2018-02-25 14:55:34.000000000,2017-12-09 01:58:57.000000000,2,1,4,526671,4ca4f644008f4c89edc472cacda19050367ba54a,38,32,3,1,13915,Silvan Kaiser,kaisers,"Updates Help Text on Quobyte Volume URL Option

This microchange updates the quobyte_volume_url option help text to
point out that using a DNS SRV record is the best solution for this
config option.

Change-Id: I0ffc5da37d342b722098ea36e11e269c3ae463b3
"
openstack%2Fcinder~master~I614c0866f52503ed7264f7bf74a193dd17590028,openstack/cinder,master,volume_manage_discripancy,I614c0866f52503ed7264f7bf74a193dd17590028,Fix discrepancy in api-ref for create volume manage api,MERGED,2017-12-07 09:36:49.000000000,2018-02-25 14:55:33.000000000,2017-12-10 16:35:50.000000000,23,3,0,526326,0548a4172e3d9f2794f4d8d54d7be248b81f8c92,36,32,1,2,26541,Neha Alhat,nehaalhat,"Fix discrepancy in api-ref for create volume manage api

For create volume manage api, 'bootable', 'name', and 'metadata'
parameters are mandatory as per api ref document but as per code
these parameters are optional.

This patch fixes this discrepancy by updating the api-ref according
to the code.

Change-Id: I614c0866f52503ed7264f7bf74a193dd17590028
"
openstack%2Fcinder~master~I0dde39ec96b04e497553b07a07acb95039ee5959,openstack/cinder,master,bp/json-schema-validation,I0dde39ec96b04e497553b07a07acb95039ee5959,V3 jsonschema validation: Group types,MERGED,2017-11-14 12:58:37.000000000,2018-02-25 14:55:30.000000000,2017-12-06 12:43:08.000000000,86,41,3,519643,f71b7063c119197a030821030960d79fd5832cd7,109,40,4,4,24645,Pooja Jadhav,poojajadhav,"V3 jsonschema validation: Group types

This patch adds jsonschema validation for below Group types API's
* POST /v3/{project_id}/group_types
* PUT  /v3/{project_id}/group_types/{group_type_id}

Made changes to unit tests to pass body as keyword argument as wsgi
calls action method [1] and passes body as keyword argument.

[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997

Change-Id: I0dde39ec96b04e497553b07a07acb95039ee5959
Partial-Implements: bp json-schema-validation
"
openstack%2Fcinder~master~Ie6a8136835550d1cec1bc0ccd9c30c83e59580d4,openstack/cinder,master,bug/1735674,Ie6a8136835550d1cec1bc0ccd9c30c83e59580d4,Pass in the parameters multipath when migrating volume,MERGED,2017-12-01 09:10:40.000000000,2018-02-25 14:55:28.000000000,2017-12-12 21:39:40.000000000,4,1,0,524536,a045c0f28a31231fc31dc3f4452b19f3cee3cd4f,60,36,1,1,20146,yuyafei,yuyafei,"Pass in the parameters multipath when migrating volume

When multipath is enabled, we do not pass in parameters
multipath when migrating volume.

Change-Id: Ie6a8136835550d1cec1bc0ccd9c30c83e59580d4
Closes-Bug: #1735674
"
openstack%2Fcinder~master~I30817ae767e08c45f9540b19e922864fe2f7a9c2,openstack/cinder,master,504135,I30817ae767e08c45f9540b19e922864fe2f7a9c2,Tests: Fix Storwize hash randomization failure,MERGED,2017-09-14 17:18:12.000000000,2018-02-25 14:54:35.000000000,2017-12-06 12:43:15.000000000,11,0,0,504135,6b34450786aa50eb05e6bf3d0022f0c0b6404e86,54,33,2,1,4523,Eric Harney,eharney,"Tests: Fix Storwize hash randomization failure

Some fields tested here are lists that are generated
from dicts, and can therefore be in any order.

Change-Id: I30817ae767e08c45f9540b19e922864fe2f7a9c2
"
openstack%2Fcinder~master~I2a7440789753bb0e42ac0e8d0190b21652a87e2f,openstack/cinder,master,bp/qnap-enhance-support,I2a7440789753bb0e42ac0e8d0190b21652a87e2f,Add support for enhanced features to the QNAP Cinder driver,MERGED,2017-06-02 08:04:46.000000000,2018-02-25 14:54:30.000000000,2017-12-09 20:58:50.000000000,256,135,25,470188,08dcf03541995cc9f8a22232bf738967e4b6570b,394,65,11,3,20361,Pony Chou,ponychou,"Add support for enhanced features to the QNAP Cinder driver

This adds enhanced supports to the QNAP Cinder driver:
 - CHAP
 - Thin Provision
 - SSD Cache
 - Dedupe
 - Compression

DocImpact
Implements: blueprint qnap-enhance-support

Change-Id: I2a7440789753bb0e42ac0e8d0190b21652a87e2f
"
openstack%2Fcinder~stable%2Fpike~I1f72a8567faa78fec447b9e0a6f948514b43a864,openstack/cinder,stable/pike,,I1f72a8567faa78fec447b9e0a6f948514b43a864,VMAX driver - concurrently deleting volumes can fail,MERGED,2017-11-28 16:42:50.000000000,2018-02-25 14:54:14.000000000,2017-12-13 17:33:44.000000000,16,7,0,523462,5b6b43078b5694601b2c5316b8ea3b2b58ac7130,28,17,1,2,12670,Helen Walsh,walshh2,"VMAX driver - concurrently deleting volumes can fail

When concurrently deleting volumes, sometimes the task fails leaving
the volume in an 'error_deleting' state. This only occurs when
image_volume_cache_enabled is True because a temp snapvx session is
created. This same issue also occurs when there is a batch delete
of snapshots from the same source volume. The fix locks the delete
snapvx session using the source DeviceID as key.

Change-Id: I1f72a8567faa78fec447b9e0a6f948514b43a864
Closes-Bug: #1714922
(cherry picked from commit 209e1564df3dcbb3426799e0010bd94973acbcda)
"
openstack%2Fcinder~master~I8747b56804704da07bc29b9680c57bc172693994,openstack/cinder,master,521619,I8747b56804704da07bc29b9680c57bc172693994,Add cleanup to TestCase.flags(),MERGED,2017-11-20 18:07:15.000000000,2018-02-25 14:54:13.000000000,2017-11-27 19:01:33.000000000,1,1,1,521619,4bbe4dae8451071f336cfdff2699b13091782e93,62,36,2,1,4523,Eric Harney,eharney,"Add cleanup to TestCase.flags()

Prior to change 43a31525, this method was installing
a cleanup method to reset the changed config values
after the test was run.

It should still do that to prevent conf changes in one
test from interfering with other tests.

Change-Id: I8747b56804704da07bc29b9680c57bc172693994
"
openstack%2Fcinder~master~I3308bdedbfe3bb83d695d38667eaea6327fa4461,openstack/cinder,master,bp/datacore-volume-driver,I3308bdedbfe3bb83d695d38667eaea6327fa4461,Adds DataCore Volume Drivers,MERGED,2017-02-08 11:53:45.000000000,2018-02-25 14:54:06.000000000,2017-12-05 02:47:16.000000000,5252,0,95,430858,747efde4709d7aa00f5d13d98d0036639e612945,274,66,10,18,22878,Michael Latchmansingh,mlatchmansingh.datacore,"Adds DataCore Volume Drivers

The iSCSI and Fibre Channel volume drivers for DataCores
SANsymphony and Hyper-converged Virtual SAN storage
support the core/minimum feature set:
 - Volume Create/Delete
 - Volume Attach/Detach
 - Snapshot Create/Delete
 - Create Volume from Snapshot
 - Get Volume Stats
 - Copy Image to Volume
 - Copy Volume to Image
 - Clone Volume
 - Extend Volume

DocImpact
Implements: blueprint datacore-volume-driver

Change-Id: I3308bdedbfe3bb83d695d38667eaea6327fa4461
"
openstack%2Fcinder~master~Ie75b6b135610a8bb206a6f941721d5e97f6db502,openstack/cinder,master,bug/1733480,Ie75b6b135610a8bb206a6f941721d5e97f6db502,Remove DB authorisation checking with quota API operations.,MERGED,2017-11-21 04:46:50.000000000,2018-02-25 14:54:05.000000000,2017-11-22 02:46:09.000000000,12,23,1,521712,93b1d86f6d158a156e7bd2e43f5de84587bb5e6d,59,31,2,4,3031,Sam Morrison,sorrison,"Remove DB authorisation checking with quota API operations.

This is now handled completely in policy.

Change-Id: Ie75b6b135610a8bb206a6f941721d5e97f6db502
Closes-Bug: #1733480
"
openstack%2Fcinder~master~Icfde885384d174dbf9b211faca3f31be0b41f232,openstack/cinder,master,bug/1733632,Icfde885384d174dbf9b211faca3f31be0b41f232,Fix policy documentation for os-show_image_metadata endpoint,MERGED,2017-11-21 16:05:10.000000000,2018-02-25 14:53:55.000000000,2017-12-07 08:56:26.000000000,0,4,0,521915,52576bbbc89af0842b2c7bda2bc4b0d6214bccbb,66,42,1,1,23186,Felipe Monteiro,felipe.monteiro,"Fix policy documentation for os-show_image_metadata endpoint

The policy documentation for os-show_image_metadata endpoint
is inconsistent with the implementation.

In policy documentation, the endpoint is listed as enforcing
""volume_extension:volume_image_metadata"": [0]

But in the code it is clear that no policy enforcement is performed: [1]

This PS removes the os-show_image_metadata entry from the policy
documentation for consistency.

[0] https://github.com/openstack/cinder/blob/9fbf236dc17d67404e2ce9ced517182716d72e6f/cinder/policies/volume_metadata.py#L102
[1] https://github.com/openstack/cinder/blob/0cf910d4345c000e8c306b1cb2b2dd291975cf71/cinder/api/contrib/volume_image_metadata.py#L123

Change-Id: Icfde885384d174dbf9b211faca3f31be0b41f232
Closes-Bug: #1733632
"
openstack%2Fcinder~master~I9272f71e0e68268ad9f558ddd1e1183e3ea69806,openstack/cinder,master,bug/1728640,I9272f71e0e68268ad9f558ddd1e1183e3ea69806,Suppress UT log messages,MERGED,2017-11-20 14:59:05.000000000,2018-02-25 14:53:37.000000000,2017-11-20 19:36:58.000000000,17,31,1,521555,d0fab07245fec2629ffe11e81509037f96c98ff1,38,31,2,3,11904,Sean McGinnis,SeanM,"Suppress UT log messages

Large logger output during unit test run is causing subunit.parser
failures. Most of this output is unnecessary for unit tests, so we
should just suppress this logging.

Also switching oslo.context args from user and tenant to user_id
and project_id to get rid of deprecation warnings and move to new
expected attributes. The minimum version of oslo.context has been
raised to ensure we have a version with the renamed kwargs, so we
are safe changing this. Originally planned to change as its own
change in Iecee4cbd57ac319a02f9bfdf24e3742dbbcb3950, but it causes
enough log output in the unit tests that failures are preventing
either patch from going through without the other included.

Change-Id: I9272f71e0e68268ad9f558ddd1e1183e3ea69806
Partial-bug: #1728640
"
openstack%2Fcinder~master~If5fcdefaa10bfb00e60aa4559d3282d3c6a53752,openstack/cinder,master,bug/1732763,If5fcdefaa10bfb00e60aa4559d3282d3c6a53752,Update api-ref to include volume_image_metadata,MERGED,2017-11-16 19:04:38.000000000,2018-02-25 14:53:29.000000000,2017-11-21 02:04:04.000000000,20,0,2,520686,8cb4aedda6b44c6cacb37cf525e02e5f299af41d,85,31,5,4,8768,Chris Friesen,cbf123,"Update api-ref to include volume_image_metadata

The detailed information for a volume can include ""volume_image_metadata""
in the case where the volume was created from an image, or in the case
where the volume was created from a snapshot of such a volume.

Update the API ref to include the field so we accurately represent
the code.

Change-Id: If5fcdefaa10bfb00e60aa4559d3282d3c6a53752
Closes-Bug: #1732763
"
openstack%2Fcinder~stable%2Fpike~Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6,openstack/cinder,stable/pike,,Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6,Add .zuul.yaml with LIO job,MERGED,2017-11-16 15:27:34.000000000,2018-02-25 14:53:28.000000000,2017-11-20 19:37:03.000000000,122,0,0,520618,e633feee8a17d7d7278064280197eccdf5fd00a7,22,15,1,4,4523,Eric Harney,eharney,"Add .zuul.yaml with LIO job

This replaces the legacy-tempest-dsvm-full-lio job.

Skip tests that are currently failing.

Change-Id: Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6
(cherry picked from commit 5601d336ca556c82891466c89cadef0676df576c)
"
openstack%2Fcinder~master~I6f80c766fed3a98d050290be179b91b218bedcef,openstack/cinder,master,add-gitignore-sample,I6f80c766fed3a98d050290be179b91b218bedcef,Add doc/source/_static/cinder.policy.yaml.sample to .gitignore,MERGED,2017-11-15 07:49:16.000000000,2018-02-25 14:53:27.000000000,2017-11-15 18:48:44.000000000,1,0,0,520001,f1cd25861b8d5ea392c1bb698134d296ac76e5a8,35,31,1,1,5689,Masayuki Igawa,igawa,"Add doc/source/_static/cinder.policy.yaml.sample to .gitignore

This commit adds doc/source/_static/cinder.policy.yaml.sample to
.gitignore which is created by sphinx build.

Change-Id: I6f80c766fed3a98d050290be179b91b218bedcef
"
openstack%2Fcinder~master~I96cd285a82b44af8818514692818e739443dcc45,openstack/cinder,master,bug/1699936,I96cd285a82b44af8818514692818e739443dcc45,Fix resource count for os-host show,MERGED,2017-06-23 02:42:40.000000000,2018-02-25 14:53:25.000000000,2017-11-16 02:26:39.000000000,148,33,27,476750,f50b3555773a1559e29c75ac48857b50cea8dfe5,344,56,11,8,15054,wangxiyuan,wangxiyuan,"Fix resource count for os-host show

os-host show API should only return the resouce count on the
specified host.
The logic in Cinder which counts the project's resouce on all host
is wrong.

Change-Id: I96cd285a82b44af8818514692818e739443dcc45
Closes-bug: #1699936
"
openstack%2Fcinder~master~Ifbb5248e3ad5bad4b8fb6957156540cdf97babde,openstack/cinder,master,bug/fix_request_spec_bug,Ifbb5248e3ad5bad4b8fb6957156540cdf97babde,Add missing 'obj_make_compatible' in RequestSpec object,MERGED,2017-11-13 06:40:43.000000000,2018-02-25 14:53:24.000000000,2017-11-16 19:33:42.000000000,12,0,0,519237,945a2754a92063688236d64a64c80253a5096ab2,31,27,1,1,23083,TommyLike,TommyLike,"Add missing 'obj_make_compatible' in RequestSpec object

RequestSpec is converted to OVO, thus need to add the
'obj_make_compatible' to support backward compatibility.

Change-Id: Ifbb5248e3ad5bad4b8fb6957156540cdf97babde
"
openstack%2Fcinder~master~Idd34cf25b6d146cb1228a31ec738c09bb73588fb,openstack/cinder,master,unity_trace,Idd34cf25b6d146cb1228a31ec738c09bb73588fb,Unity: Remove redundant debug logging,MERGED,2017-11-08 06:20:22.000000000,2018-02-25 14:53:23.000000000,2017-11-21 02:04:00.000000000,0,4,1,518456,b93f1ddf4e5ae6264581e420c53e880a93ec7454,74,38,1,1,11904,Sean McGinnis,SeanM,"Unity: Remove redundant debug logging

Remove cases where tracing decorated methods called tracing decorated
methods that performed debug logging to reduce duplication of the
same data in the logs.

Change-Id: Idd34cf25b6d146cb1228a31ec738c09bb73588fb
"
openstack%2Fcinder~driverfixes%2Focata~I02f79a1ccc1af29e1f843e94c0618c8e4962bdae,openstack/cinder,driverfixes/ocata,bug/1692775,I02f79a1ccc1af29e1f843e94c0618c8e4962bdae,Fix backup compression unit tests,MERGED,2017-11-07 11:53:33.000000000,2018-02-25 14:53:21.000000000,2017-11-13 07:09:48.000000000,3,3,0,518305,0f20809828e5d56b4b22861d49dde485abf2c1dc,15,9,1,3,9535,Gorka Eguileor,Gorka,"Fix backup compression unit tests

Cinder backup tests for compression were incorrectly testing the size of
the compression data, instead of testing against the compressed data
they were checking the tuple (algorithm, compressed_data).

This patches fixes those tests.

Change-Id: I02f79a1ccc1af29e1f843e94c0618c8e4962bdae
(cherry picked from commit fd671c77cd93e8a5a5bafbee7f24564fb780a044)
(cherry picked from commit 9d0658febea9a81e54afd62f37a6a9dfe3135797)
"
openstack%2Fcinder~master~I2e7acb3f407dab2a8c82191e13d491cdc71d279c,openstack/cinder,master,bug/1729793,I2e7acb3f407dab2a8c82191e13d491cdc71d279c,Improve cinder revert-to-snapshot notifications,MERGED,2017-11-03 08:35:14.000000000,2018-02-25 14:53:20.000000000,2017-11-11 00:38:05.000000000,8,4,15,517575,e11f07204255496c3b99adc2c88d24db7e303188,80,37,6,1,25169,Xiaojun Liao,wwba,"Improve cinder revert-to-snapshot notifications

The reverting were sending 'revert.end' message without a
corresponding 'revert.start' notification if creating backup
snapshot failed by an exception, so this patch fixes that.

Closes-Bug:#1729793

Change-Id: I2e7acb3f407dab2a8c82191e13d491cdc71d279c
Signed-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>
"
openstack%2Fcinder~master~I3f95fd3b83d6b5c5801d3a16a3e73623ed49da29,openstack/cinder,master,test_log_setup,I3f95fd3b83d6b5c5801d3a16a3e73623ed49da29,Make test logging setup fixture disable future setup,MERGED,2017-10-31 20:06:33.000000000,2018-02-25 14:52:55.000000000,2017-11-04 07:34:05.000000000,11,0,1,516777,57321ad60c82d2113ff8fb6f60dfb85af85cea00,102,36,3,1,11904,Sean McGinnis,SeanM,"Make test logging setup fixture disable future setup

Our logging fixture sets up logging in a way that we need to capture
things during tests. However, some of our tests do things like call
back into main functions, which then call logging setup again, and
unwind everything we're doing (including debug message testing).

This patches out oslo_log setup after the fixture runs, thus ignoring
calls to it in the future.

This change originally implemented in Nova with commit
dc2f4f88ac8d7bcf904908b4683522cd6839ba70.

Closes-bug: #1728640
Change-Id: I3f95fd3b83d6b5c5801d3a16a3e73623ed49da29
"
openstack%2Fcinder~master~I5024642f8e3e6cd7d221dc3af367bba55fe56cf5,openstack/cinder,master,capability,I5024642f8e3e6cd7d221dc3af367bba55fe56cf5,HPE 3PAR: ISCSI/FC drivers  code refactoring,MERGED,2017-03-16 11:32:23.000000000,2018-02-25 14:52:46.000000000,2017-11-03 15:49:58.000000000,535,734,23,446475,8588aa5cf62ab1623fac0bb239280358ccc5ff49,820,73,30,5,21407,Kushal Wathore,kwathore,"HPE 3PAR: ISCSI/FC drivers  code refactoring

Issue:
=====
Redundant code was present for ISCSI and FC drivers with
the potential to maintenance issues.

Solution:
=======
Refactored code as below:
1.Made common as a base class for existing ISCSI and FC drivers.
2.Moved duplicate methods to the base class.
3.Incorporated template method pattern wherever applicable.

Change-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5
"
openstack%2Fcinder~master~I6bcdbd8343cca237c5f85077273a8ea18c6f534d,openstack/cinder,master,bug/1727248,I6bcdbd8343cca237c5f85077273a8ea18c6f534d,Fix migate_volume API with replication_status not-capable,MERGED,2017-10-25 09:36:18.000000000,2018-02-25 14:52:28.000000000,2017-10-29 23:17:57.000000000,16,1,4,514988,6b5ff682fe45eda12da666ff26126f573478b2f0,92,38,3,2,11186,yixuan zhang,yixuanzhang,"Fix migate_volume API with replication_status not-capable

When migrating a volume with replication_status = 'not-capable',
migrate_volume api will reject it because 'not-capable' isn't in
the replication_status expected list.
This patch fixes the issue by adding not-capable to the expected
replication_status list.

Change-Id: I6bcdbd8343cca237c5f85077273a8ea18c6f534d
Closes-Bug: #1727248
"
openstack%2Fcinder~master~I1d924da3504861f027273d3319e5cf6c485d1d37,openstack/cinder,master,remove-comma,I1d924da3504861f027273d3319e5cf6c485d1d37,[TrivialFix] Remove errant comma in capabilities policies,MERGED,2017-10-26 03:08:38.000000000,2018-02-25 14:52:27.000000000,2017-10-28 03:19:25.000000000,1,1,0,515272,9d1d8ed852b329d9f9465218b516840f308c9340,89,36,1,1,23186,Felipe Monteiro,felipe.monteiro,"[TrivialFix] Remove errant comma in capabilities policies

Currently, the initialization of CAPABILITIES_POLICY is supposed
to be a string, but due to the comma at the end of the string literal
the type of CAPABILITIES_POLICY is actually a tuple, which is a bug.

Change-Id: I1d924da3504861f027273d3319e5cf6c485d1d37
"
openstack%2Fcinder~driverfixes%2Focata~Iee27c0368522c90525a4b8ad757f9fb89dc293a0,openstack/cinder,driverfixes/ocata,backport-migration-issue-to-O,Iee27c0368522c90525a4b8ad757f9fb89dc293a0,Fix a migration issue of Huawei driver,MERGED,2017-09-21 01:33:18.000000000,2018-02-25 14:52:26.000000000,2017-10-26 02:41:37.000000000,17,12,0,505900,f811487fca78d934b19baeb3e8aba3439d7e9db2,40,19,2,2,16203,zengyingzhe,zengyingzhe,"Fix a migration issue of Huawei driver

While migrating volume crossing backends by the host-based way,
after data copying is done, Huawei driver's update_migrated_volume
method doesn't return the provider_location property, which
results old and new volumes' provider_locations aren't swapped as
expected, afterwards, while deleting the old volume, new volume's
provider_location will be used and the if-volume-exist-check fails
because it verifies the new volume's LUN ID actually on the old
backend, which certainly doesn't exist.

This patch fixes this issue.

Change-Id: Iee27c0368522c90525a4b8ad757f9fb89dc293a0
(cherry picked from commit 011daa9b463043a15f9e97986ecce6233ac72de5)
"
openstack%2Fcinder~master~I94b32634396ab3acf19a70c6f3601edc67eedab1,openstack/cinder,master,,I94b32634396ab3acf19a70c6f3601edc67eedab1,Completely remove mox from Cinder unittest,MERGED,2017-10-24 12:54:01.000000000,2018-02-25 14:52:24.000000000,2017-10-27 00:19:42.000000000,41,47,0,514640,2359ee7c8a78c1b3b99063f09de3ae35a0a330c3,46,29,2,5,18320,Dao Cong Tien,TienDC,"Completely remove mox from Cinder unittest

This patch removes mox from the remaining unit tests and
the base class.

Change-Id: I94b32634396ab3acf19a70c6f3601edc67eedab1
"
openstack%2Fcinder~master~I129ca060a89275ffd56481b8f64367b0d803cff5,openstack/cinder,master,bp/remove-netapp-7mode-drivers,I129ca060a89275ffd56481b8f64367b0d803cff5,NetApp ONTAP: Remove support for 7mode systems,MERGED,2017-10-21 05:29:33.000000000,2018-02-25 14:52:22.000000000,2017-10-26 20:23:22.000000000,45,5127,1,513897,425f45a311dc78ff34a18ffea7dbf5bb6dd2d421,107,33,5,33,16643,Goutham Pacha Ravi,gouthamr,"NetApp ONTAP: Remove support for 7mode systems

The Unified Driver for NetApp Storage in Cinder
supports two families of ONTAP, 7mode and Clustered
Data ONTAP.

ONTAP 7 is now officially nearing the end-of-life
of product support. The deprecation notice [1]
for these drivers in Cinder was issued in the Newton
Release, so it is time to remove them from tree.

[1] http://lists.openstack.org/pipermail/openstack-operators/2016-November/011957.html

Implements: bp remove-netapp-7mode-drivers

Change-Id: I129ca060a89275ffd56481b8f64367b0d803cff5
"
openstack%2Fcinder~master~I6696a15cd2c8fbf851a59b8d6d60ae1981bb1b89,openstack/cinder,master,bug/1721837,I6696a15cd2c8fbf851a59b8d6d60ae1981bb1b89,Fix migration 112 to use live_data_migration API,MERGED,2017-10-06 18:07:57.000000000,2018-02-25 14:52:20.000000000,2017-10-24 17:53:42.000000000,100,36,27,510201,e88d3b2c8205a4865d64419623de10d9159eeea2,201,46,10,10,2243,John Griffith,john-griffith,"Fix migration 112 to use live_data_migration API

In the 112 db migration I was being lazy and generating and
updating the newly added UUID column.  I also didn't update
the Service object (left that for the follow on patch).

Turns out we're going to want/need the online_data_migration
pieces for some follow up work and we might as well do this at
least a little bit more efficiently/correctly now.

This patch modifies the db migration to NOT try and populate
the newly added UUID fields in the Service table, and it
updates the Service object properly including adding the gen UUID
components to service.create()

This also fixes up what we had in place for the online_data_migration
code in cmd/manage.py; note that we had a framework there/started but
it wasn't being used up to this point.

Change-Id: I6696a15cd2c8fbf851a59b8d6d60ae1981bb1b89
Closes-Bug: #1721837
"
openstack%2Fcinder~master~I9072e80f4e2817e48b4b5dd23790b727b3d7e4e4,openstack/cinder,master,vol_db_empty,I9072e80f4e2817e48b4b5dd23790b727b3d7e4e4,"Revert ""Move vol_db_empty to NFS driver""",MERGED,2017-10-11 20:03:17.000000000,2018-02-25 14:52:19.000000000,2017-10-18 22:10:00.000000000,24,35,0,511330,9778c5b04acb045dd41754af87da1b7b7eccb0a0,52,32,2,4,4523,Eric Harney,eharney,"Revert ""Move vol_db_empty to NFS driver""

This reverts commit 9b81659128f18239c682a407dcfc9766f0ad307d.

This was purposefully done in the volume manager
because otherwise it requires direct database access
from the driver, which is something we are better off
avoiding.

Change-Id: I9072e80f4e2817e48b4b5dd23790b727b3d7e4e4
"
openstack%2Fcinder~stable%2Fpike~I673b43f9ebe335ced4981af6c53b320a886438c8,openstack/cinder,stable/pike,bug/1715275-stable/pike,I673b43f9ebe335ced4981af6c53b320a886438c8,Storwize: add NPIV support,MERGED,2017-10-18 02:20:25.000000000,2018-02-25 14:52:05.000000000,2017-11-13 06:45:12.000000000,168,9,0,512915,b0abda576e3377d8c2f363b4570d3063291ff795,27,14,1,3,11186,yixuan zhang,yixuanzhang,"Storwize: add NPIV support

The Storwize/svc release 7.7.0.0 introduced an NPIV feature,
which when enabled provides for both virtual and physical wwpns.
The patch enables the storwize cinder driver to make use of the
virtual and physical wwpns that have been enabled for I/O
operations.

Change-Id: I673b43f9ebe335ced4981af6c53b320a886438c8
Closes-Bug: #1715275
(cherry picked from commit 8429fb53c0c3a89ba6508be913487a5d16b7ea52)
"
openstack%2Fcinder~master~I47d11a2f6423a76ca053abf075791ed70ee84b07,openstack/cinder,master,policy-and-docs-in-code,I47d11a2f6423a76ca053abf075791ed70ee84b07,"[policy in code] Add support for volume, volume type resources",MERGED,2017-10-12 09:01:46.000000000,2018-02-25 14:51:47.000000000,2017-10-19 06:22:17.000000000,1117,361,37,511427,a9e075021fe04b8de6c963d8e8d39c2869f5ed4b,84,34,4,38,23083,TommyLike,TommyLike,"[policy in code] Add support for volume, volume type resources

This patch adds policy in code support for volume
and volume type resources.

Change-Id: I47d11a2f6423a76ca053abf075791ed70ee84b07
Partial-Implements: blueprint policy-in-code
"
openstack%2Fcinder~master~Ic47f04e06b886656c9a0f0f7a0494a10fef93e80,openstack/cinder,master,bug/1723922,Ic47f04e06b886656c9a0f0f7a0494a10fef93e80,Make stringify header work under python2.,MERGED,2017-10-16 10:45:41.000000000,2018-02-25 14:51:46.000000000,2017-10-17 14:21:01.000000000,5,5,0,512259,04543abedd429101dc6b410090e463358d22ca48,45,33,2,1,17068,Jean-Philippe Evrard,evrardjp,"Make stringify header work under python2.

This fixes the following issue appearing during
cinder-manage db online_data_migrations.

Change-Id: Ic47f04e06b886656c9a0f0f7a0494a10fef93e80
Closes-Bug: #1723922
"
openstack%2Fcinder~master~I87a287f5db912e9aeaa401871178c49414098d06,openstack/cinder,master,bug/1696361,I87a287f5db912e9aeaa401871178c49414098d06,Fix backup-import error when the deleted record in the same db,MERGED,2017-09-12 07:05:47.000000000,2018-02-25 14:51:44.000000000,2017-10-19 10:00:38.000000000,9,5,2,502897,ea5e4f3945714c9c21ae27468288dea36ab4e07d,102,46,3,2,24564,qtlu,qtlu,"Fix backup-import error when the deleted record in the same db

If we revive the deleted backup record, cinder-api will raise a
DBDuplicateEntry error, this patch will allow user to import the deleted
record either in the same db or not.

Change-Id: I87a287f5db912e9aeaa401871178c49414098d06
Closes-Bug: #1696361
"
openstack%2Fcinder~master~I9a79b5ececc587e80129cc980930e168e805b139,openstack/cinder,master,policy-and-docs-in-code,I9a79b5ececc587e80129cc980930e168e805b139,[policy in code] Add support for backup resource,MERGED,2017-09-25 08:18:56.000000000,2018-02-25 14:51:39.000000000,2017-10-13 07:13:55.000000000,201,41,5,507015,1462d9c2e42775140cc228c90e49eea19e0b4458,210,48,8,8,23083,TommyLike,TommyLike,"[policy in code] Add support for backup resource

This patch adds policy in code support for backup
resources and depends on the basic patch [1].

[1]: https://review.openstack.org/#/c/506976/

Change-Id: I9a79b5ececc587e80129cc980930e168e805b139
Partial-Implements: blueprint policy-in-code
"
openstack%2Fcinder~stable%2Fpike~I8528752630276bd6e2348f27721238115de504cd,openstack/cinder,stable/pike,bug/1722326,I8528752630276bd6e2348f27721238115de504cd,Remove newton-compat upgrade code on service startup,MERGED,2017-10-10 05:52:50.000000000,2018-02-25 14:51:38.000000000,2017-10-12 03:16:28.000000000,29,145,0,510753,d0dc23fb77b8a7b0496313881434267b0091fb3c,29,17,1,2,7198,Jay Bryant,jsbryant,"Remove newton-compat upgrade code on service startup

This upgrade compat check code was marked for removal
in Ocata. Since we're now in Queens, and this is burning
time on every service start, let's remove it.

Change-Id: I8528752630276bd6e2348f27721238115de504cd
Related-Bug: #1722326
(cherry picked from commit 6c630c5e5383ea1cbd5475aad9826bbe2becf364)
"
openstack%2Fcinder~master~I0aaf2775d3fe1d54e64be3616a0a528e452cfa50,openstack/cinder,master,up_cli_quota_doc,I0aaf2775d3fe1d54e64be3616a0a528e452cfa50,Update tenant to project in cli quota doc,MERGED,2017-09-15 07:08:25.000000000,2018-02-25 14:51:31.000000000,2017-11-06 03:15:47.000000000,10,10,0,504353,55ac1ba1afaab3f82136ef91b33be5b0302329dc,57,35,2,1,25111,Dou Rui Yuan,rydou,"Update tenant to project in cli quota doc

Replace tenant with project and keep the descriptions consistent

Change-Id: I0aaf2775d3fe1d54e64be3616a0a528e452cfa50
"
openstack%2Fcinder~master~I7452bb2952459dca8cf0baf39fa76e0e39ad2ffd,openstack/cinder,master,bug/1722326,I7452bb2952459dca8cf0baf39fa76e0e39ad2ffd,Do not load extendable routes for the Versions router,MERGED,2017-10-09 18:35:15.000000000,2018-02-25 14:51:30.000000000,2017-10-10 02:43:43.000000000,4,0,0,510653,abeb81029026dd623f4b132fe6870af40cd97ed1,44,28,3,1,6873,Matt Riedemann,mriedem,"Do not load extendable routes for the Versions router

The Versions router is implicitly spending time loading
up extension routes on startup which is unnecessary since
the Versions router only cares about handling requests to
""/"" on the base endpoint.

Change-Id: I7452bb2952459dca8cf0baf39fa76e0e39ad2ffd
Partial-Bug: #1722326
"
openstack%2Fcinder~master~Ic4c7fd66858039db3f9d09a0babd5601b25a95e3,openstack/cinder,master,bug/1718762,Ic4c7fd66858039db3f9d09a0babd5601b25a95e3,Brocade: Add HTTP connection cleanup,MERGED,2017-10-03 21:35:16.000000000,2018-02-25 14:51:21.000000000,2017-10-09 03:12:26.000000000,5,1,2,509292,4dd33f7e502cd5e91bed78bfa62ee38bc5434697,140,37,3,1,8757,Angela Smith,asmith_brcd,"Brocade: Add HTTP connection cleanup

Method for get device mapping opens
connection to the switch but does not
close the connection.  Add finally
block to close the session.

Closes Bug: #1718762

Change-Id: Ic4c7fd66858039db3f9d09a0babd5601b25a95e3
"
openstack%2Fcinder~master~I48398331fe086760a88bd5ca4c0f28f90e22bd0b,openstack/cinder,master,bug/1720454,I48398331fe086760a88bd5ca4c0f28f90e22bd0b,Dell EMC PS: Fix extend volume creating unmanaged snapsots,MERGED,2017-10-02 21:27:53.000000000,2018-02-25 14:50:24.000000000,2017-10-09 23:38:58.000000000,8,2,10,509006,0910706e762cec88a2b53e82bd7e6a1c372163b9,85,41,4,2,10379,Rajini Karthik,rajinir,"Dell EMC PS: Fix extend volume creating unmanaged snapsots

The Dell EMC PS driver's extend volume code is missing the
no-snap option and creates unmanaged snapshots in the background.
Added that option to fix it.

Closes Bug: #1720454

Change-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b
"
openstack%2Fcinder~master~I0c1593a72473f0db5fb8b5e4d436fee4c9f5c62a,openstack/cinder,master,bug/1716991,I0c1593a72473f0db5fb8b5e4d436fee4c9f5c62a,Doc: Configuration: Remove some outdated Ceph info,MERGED,2017-10-03 15:27:02.000000000,2018-02-25 14:50:10.000000000,2017-10-06 05:49:18.000000000,6,25,0,509207,e4dfc98378cfbf64745039b96ad5ddd140d1fffb,37,29,1,1,4523,Eric Harney,eharney,"Doc: Configuration: Remove some outdated Ceph info

A few small cleanups:
  - Remove irrelevant text about linux kernel
  - Remove recommendations about file systems
  - Remove outdated note about config option

Closes-Bug: #1716991
Change-Id: I0c1593a72473f0db5fb8b5e4d436fee4c9f5c62a
"
openstack%2Fcinder~stable%2Fpike~I78e552998e822fff37fb2c7cf890ebab65d9291f,openstack/cinder,stable/pike,bug/1698786-stable/pike,I78e552998e822fff37fb2c7cf890ebab65d9291f,Do not fail if RBD image is broken,MERGED,2017-10-02 13:10:11.000000000,2018-02-25 14:50:03.000000000,2017-10-05 08:57:20.000000000,32,2,0,508873,225618bf0ca38d70f45c1aa97acd491cce43e8a1,41,21,1,2,13636,aarefiev,aarefiev,"Do not fail if RBD image is broken

Change-Id: I78e552998e822fff37fb2c7cf890ebab65d9291f
Closes-Bug: #1698786
(cherry picked from commit 3e7b9ba546c8cac7bac2ed3d9d985cad0d166313)
"
openstack%2Fcinder~stable%2Fqueens~Id4cfb7771439940c59b828ea7f1d95bcfe7d1e26,openstack/cinder,stable/queens,bp/multi-attach-v3-attach,Id4cfb7771439940c59b828ea7f1d95bcfe7d1e26,Only enforce multiattach policy for retype target,MERGED,2018-02-20 02:29:17.000000000,2018-02-25 14:49:12.000000000,2018-02-20 16:26:50.000000000,5,1,0,546019,6fb0c066dc97ee46b9399a0049e60600165ecb4c,23,14,1,1,11904,Sean McGinnis,SeanM,"Only enforce multiattach policy for retype target

We should only be checking multiattach policy if the target
of a retype is multiattach capable. If they are already on
a type and policy has changed, we should not block retyping.

Change-Id: Id4cfb7771439940c59b828ea7f1d95bcfe7d1e26
(cherry picked from commit aea249f3604200ba329c260daed8b1259011f049)
"
openstack%2Fcinder~master~Ib0bdeeb01e35196ae862e3bf87e198b004f7403f,openstack/cinder,master,linkcheck,Ib0bdeeb01e35196ae862e3bf87e198b004f7403f,Modify broken link,MERGED,2018-01-22 09:12:03.000000000,2018-02-25 14:48:46.000000000,2018-02-21 19:37:36.000000000,2,2,2,536265,3b307ebe3e58efdd96499fb16e7bbaa8e7e85bb5,167,43,5,2,27386,gaofei,gaofei,"Modify broken link

Fix a couple dead links.

Change-Id: Ib0bdeeb01e35196ae862e3bf87e198b004f7403f
"
openstack%2Fcinder~stable%2Fpike~I4a59ed298ba2542dcb4d6787b47085749a34244e,openstack/cinder,stable/pike,rebase-logs-pike,I4a59ed298ba2542dcb4d6787b47085749a34244e,Improve logs on scheduler,MERGED,2018-02-13 12:16:37.000000000,2018-02-25 14:48:44.000000000,2018-02-17 11:53:00.000000000,33,7,1,543912,425dac98c3156a3e7bc0aa57db67b1477bd529c9,23,19,1,2,10058,Erlon R. Cruz,sombrafam,"Improve logs on scheduler

Scheduler decisions still not easy to track due lacking of information
about backends and pools. This adds more verbose information on that
so we can have a better means to help debug problems.

TrivialFix

Change-Id: I4a59ed298ba2542dcb4d6787b47085749a34244e
(cherry picked from commit 9c4cd4a2d75d36145f68e08d3aa28f9a45a68f48)
"
openstack%2Fcinder~stable%2Fqueens~I18a4bdf416f739b400e19e073ea7317034d2e211,openstack/cinder,stable/queens,create-queens,I18a4bdf416f739b400e19e073ea7317034d2e211,Update .gitreview for stable/queens,MERGED,2018-02-08 17:26:59.000000000,2018-02-25 14:48:27.000000000,2018-02-08 20:37:32.000000000,1,0,0,542336,d02b6894f50f07ebd6f4e424f2438e58c234630d,22,18,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/queens

Change-Id: I18a4bdf416f739b400e19e073ea7317034d2e211
"
openstack%2Fcinder~master~I1a1d02a1407926c22fbadcc1049434e24b92549b,openstack/cinder,master,bug/1744005,I1a1d02a1407926c22fbadcc1049434e24b92549b,Use provider_id for SolidFire Volume lookups,MERGED,2018-01-18 18:56:09.000000000,2018-02-25 14:48:23.000000000,2018-02-08 00:09:24.000000000,73,55,2,535449,3b7a2ba47a2b711ff0f356788e41446a0f58bdca,74,38,2,2,2243,John Griffith,john-griffith,"Use provider_id for SolidFire Volume lookups

Over the years the various iterations of volume-get in the SolidFire
driver has gotten a bit redundant.  The biggest problem with all of
these changes comes in when we start dealing with things like managed
volumes, most of the methods we have in place expect the volume-name
on the SolidFire backend to match the cinder UUID.

In the case of manage, migrate and some other cases however, this
isn't a valid assumption.  SolidFire doesn't allow changing the name
of an existing volume.  You're only choice in that case is to clone
or copy to a new volume, but that's terribly heavy weight in this case.

So, what we need to do is harden the volume_get method a bit.  We
want to do a better job here, first by attempting to use the provider_id
info that's stored with a volume, from there we can try some failback
methods like looking for name:uuid map and finally checking attributes.

This should make things much more efficient for delete calls, and fix
the current bug due to imported volumes not having the cinder-uuid as
the name.

We need to do some follow up work and consolidate all of these get calls,
but for now we just fix the recently reported bug.

Change-Id: I1a1d02a1407926c22fbadcc1049434e24b92549b
Closes-Bug: #1744005
"
openstack%2Fcinder~master~Id9905728f0f68df2847b7b71cb76d89a205deea0,openstack/cinder,master,wronggramar,Id9905728f0f68df2847b7b71cb76d89a205deea0,Fix wrong grammar,MERGED,2018-01-31 09:37:04.000000000,2018-02-25 14:47:57.000000000,2018-02-02 05:51:50.000000000,1,1,0,539475,23d657d357fd752e9326510e151d55e4ab2cd986,34,29,1,1,27346,chenxiangui,chenxiangui,"Fix wrong grammar

Modify 'should has' to 'should have'

Change-Id: Id9905728f0f68df2847b7b71cb76d89a205deea0
"
openstack%2Fcinder~driverfixes%2Fnewton~I2099b804a2043078e50a5a9e14c1497861576f61,openstack/cinder,driverfixes/newton,bug/1720147,I2099b804a2043078e50a5a9e14c1497861576f61,Kaminario K2: Support duplicated FQDN in network,MERGED,2017-11-24 06:54:43.000000000,2018-02-25 14:47:50.000000000,2018-01-31 01:48:16.000000000,44,2,0,522722,c527e89be9f5ec5c9ca66590b25659c8e191facc,44,22,2,3,16258,nikesh,nikem,"Kaminario K2: Support duplicated FQDN in network

The Kaminario K2 driver uses the FQDN of the node that is doing the
attach as an unique identifier to map the volume.

The problem is that the FQDN is not always unique, there are
environments where the same FQDN can be found in different systems, and
in those cases if both try to attach volumes the second system will
fail.

One example of this happening would be on a QA environment where you are
creating VMs and they all have names like controller-0.localdomain and
compute-0.localdomain.

This patch adds a configuration option to the K2 driver called
`unique_fqdn_network` to support these kind of environments.

Closes-Bug: #1720147
Change-Id: I2099b804a2043078e50a5a9e14c1497861576f61
(cherry picked from commit baa8626eac9c975b719c03274d42b54ce3de74fe)
"
openstack%2Fcinder~driverfixes%2Focata~Iddf2908ab28825a9082989cb1392ba59379f4bf5,openstack/cinder,driverfixes/ocata,bug/1745183,Iddf2908ab28825a9082989cb1392ba59379f4bf5,VMAX driver Ocata - backward compatibility fix,MERGED,2018-01-24 16:57:18.000000000,2018-02-25 14:47:43.000000000,2018-02-02 05:35:51.000000000,56,7,0,537454,043d7e21f06c1b938c3caf625ee849d2b9530abc,24,17,2,4,12670,Helen Walsh,walshh2,"VMAX driver Ocata - backward compatibility fix

Launchpad 1401297 breaks backward compatibility with Newton. This
fixes the issue by checking for the existence of the uuid within
the ElementName rather than a full equality check

Change-Id: Iddf2908ab28825a9082989cb1392ba59379f4bf5
Closes-Bug: #1745183
"
openstack%2Fcinder~stable%2Fpike~I677a8e39de4292fe4fa8e70d7b6ae2fc3d5cf2ac,openstack/cinder,stable/pike,bug/1743461,I677a8e39de4292fe4fa8e70d7b6ae2fc3d5cf2ac,Fix Backup uses latest req-id for all log calls,MERGED,2018-01-23 23:03:28.000000000,2018-02-25 14:47:23.000000000,2018-01-26 12:41:06.000000000,5,1,0,537001,06fb04a040db7a90f19fea8d3b928fbba5cf9582,22,18,1,1,9535,Gorka Eguileor,Gorka,"Fix Backup uses latest req-id for all log calls

Currently all log entries will have the request ID of the latest request
that was received in the Backup service.

So you would receive a request with ID 1 and you would start logging
that thread log calls with its ID, but as soon as you receive another
request, let's say with ID 2, you will have both request logging with ID
2 instead of each one logging with its own request ID.

The reason for this is that we are monkey patching after we have
imported OSLO logging and we should be doing the monkey patching before,
because OSLO logging imports OSLO context, which in turn imports
threading and defines the _request_store where the context is stored as
threading.local, which is not the monkey patched version and therefore
will be shared among all the greenthreads that share the same python
thread.

To fix this we just move the monkey patching earlier in the imports.

Closes-Bug: #1743461
Change-Id: I677a8e39de4292fe4fa8e70d7b6ae2fc3d5cf2ac
(cherry picked from commit 1a569e15c35d772a8ca236d75cd1840a415983d3)
"
openstack%2Fcinder~master~Ib15a4c06f80dfcfaff2f195ecf0f3afbfb5bfa0b,openstack/cinder,master,533813,Ib15a4c06f80dfcfaff2f195ecf0f3afbfb5bfa0b,Add contributor notes on how to use pdb with tests,MERGED,2018-01-15 22:57:07.000000000,2018-02-25 14:47:21.000000000,2018-01-24 02:40:00.000000000,28,0,6,533813,ad397b4dd7e579a71759617e879bbf948d9f9ce9,61,36,2,1,4523,Eric Harney,eharney,"Add contributor notes on how to use pdb with tests

Change-Id: Ib15a4c06f80dfcfaff2f195ecf0f3afbfb5bfa0b
"
openstack%2Fcinder~stable%2Fpike~Ibfd6f40e8b8ab88d4ec76e9ac27617a0f97b6c29,openstack/cinder,stable/pike,bug/1744383-stable/pike,Ibfd6f40e8b8ab88d4ec76e9ac27617a0f97b6c29,Move disk space check to run when needed,MERGED,2018-01-22 18:26:38.000000000,2018-02-25 14:47:18.000000000,2018-01-27 15:28:57.000000000,24,30,0,536529,0e57f89b8b0e3ed39c7fe59ee9b4e5cf3b8711b6,37,23,1,2,1004,Mohammed Naser,mnaser,"Move disk space check to run when needed

At the moment, the check for disk space when booting from an image
currently happens regardless if the backend supports cloning or not.

This means that even if a backend can clone the image directly, the
control plane must have enough disk to download the entire image
which can be unreasonable in backend such as RBD.

This patch moves the code which checks for enough disk space to be
in the same function that effectively downloads the image, ensuring
that it only runs when an image has to be downloaded and avoiding
the check if the backend successfully cloned the image.

Closes-Bug: #1744383
Change-Id: Ibfd6f40e8b8ab88d4ec76e9ac27617a0f97b6c29
(cherry picked from commit f62f8abad17d1c287d48ea273ea4c4fe7f536d07)
"
openstack%2Fcinder~master~I5054f348f9c016d15b36b9f18d9c89e19e25e81f,openstack/cinder,master,volume-encryption-doc,I5054f348f9c016d15b36b9f18d9c89e19e25e81f,Update Volume Encryption Documentation,MERGED,2018-01-19 16:58:23.000000000,2018-02-25 14:47:14.000000000,2018-01-22 22:09:49.000000000,3,3,0,535850,56b62f9423292c5e802d5f1b545f46e80c7c447f,27,22,1,2,7012,Brianna Poulos,brianna-poulos,"Update Volume Encryption Documentation

The castellan library has recently been updated to
use 'backend' instead of 'api_class' to configure
the backend that should be used.  This change updates
the volume encryption documentation to use the updated
configuration option instead of the deprecated one.

Change-Id: I5054f348f9c016d15b36b9f18d9c89e19e25e81f
"
openstack%2Fcinder~master~Id0aea58f7091c78fcd38a47e475384807f1c04c7,openstack/cinder,master,bug/1741476,Id0aea58f7091c78fcd38a47e475384807f1c04c7,Fix readonly mode for new attachment API calls,MERGED,2018-01-10 22:03:03.000000000,2018-02-25 14:47:13.000000000,2018-01-19 11:40:38.000000000,27,0,0,532645,e69a6a5e0626177c70ed0eafa3be6a45fbfb3f05,80,33,3,3,2243,John Griffith,john-griffith,"Fix readonly mode for new attachment API calls

The introduction of the new attachment API's doesn't
know how to deal with RO volumes that don't use the
connector to set their values.

One of the ways to do RO volumes in cinder is to set
a parameter in the admin_metadata of the volume.  If
this is set, we expect the connector to have a matching
mode setting in it's parameters.  During finalizing of
an attachment this values are compared and if they don't
match the attach fails.

The New attachment calls from the Nova side don't set
this information; and honestly using the connector for
this isn't such a great idea anyway.  To address this
change in behavior/bug however we'll default to the
settings of the volume admin_metadata.

When an attachment is created, we'll check the volumes
admin_metadata and set the attach_mode of the attach
object to ro if required.  Additionally, when the
attachment-completion is performed in the manager, we'll
use the attach_mode setting of the attachment object to
override and force any settings in the connector.

This seems like a better option than forcing Nova to check
and set based on the metadata, and there's no real value
in having an extra lever or requirement during attach that
can go wrong.  There's no case where seting the admin_metadata
to Read Only on a volume and attaching it any other way than
'ro' is valid, so just use the metdata directly.

Going forward we deprecate the use of admin_metadata for
Read Only settings and replace it with an attachment-create
option.

Closes-Bug: # 1741476

Change-Id: Id0aea58f7091c78fcd38a47e475384807f1c04c7
"
openstack%2Fcinder~master~Ie64af4305605717af01f903b05352e2480569d25,openstack/cinder,master,openstack/requirements,Ie64af4305605717af01f903b05352e2480569d25,Updated from global requirements,MERGED,2018-01-12 02:56:12.000000000,2018-02-25 14:47:05.000000000,2018-01-17 00:20:24.000000000,5,5,0,533040,91d6ea9bd535d6ebbc36929f05bb7b2a02f5f55f,86,31,6,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: Ie64af4305605717af01f903b05352e2480569d25
"
openstack%2Fcinder~master~Id5d5f5ed8b449c9f1059528de241417f231f90b5,openstack/cinder,master,bug/1742940,Id5d5f5ed8b449c9f1059528de241417f231f90b5,Fix combination of parameters for update APIs,MERGED,2018-01-16 11:47:01.000000000,2018-02-25 14:47:04.000000000,2018-01-18 20:40:46.000000000,99,14,4,534244,2b2ed02fe531313a6a98673534b97f53a9f00edc,75,36,2,6,26541,Neha Alhat,nehaalhat,"Fix combination of parameters for update APIs

For group_type and volume_type update APIs, If user passes
description or is_public parameter in the request body then name
can be null. But after schema validation [1][2], it is failing with
BadRequest.

This patch allows users to pass 'name' as None if ""description""
or is_public"" parameter is passed in the request body.

[1]: https://review.openstack.org/#/c/520561/
[2]: https://review.openstack.org/#/c/519643/

Change-Id: Id5d5f5ed8b449c9f1059528de241417f231f90b5
Closes-Bug: #1742940
"
openstack%2Fcinder~master~Ib11bda868085dfed0ab0e9018b8ed35956dbdf10,openstack/cinder,master,bug/1741833,Ib11bda868085dfed0ab0e9018b8ed35956dbdf10,Revert volume consumed capacity when rescheduling,MERGED,2018-01-05 09:41:39.000000000,2018-02-25 14:46:56.000000000,2018-01-17 01:30:40.000000000,33,2,2,531345,4bc11505be0b064185ce1173a70706abb51f4353,105,38,2,3,23083,TommyLike,TommyLike,"Revert volume consumed capacity when rescheduling

Cinder scheduler will consume pool capacity repeatedly
when rescheduling creating request.

Closes-Bug: #1741833
Change-Id: Ib11bda868085dfed0ab0e9018b8ed35956dbdf10
"
openstack%2Fcinder~driverfixes%2Fmitaka~Ib68d65ef49c880047768b16241f49afae2dd802f,openstack/cinder,driverfixes/mitaka,,Ib68d65ef49c880047768b16241f49afae2dd802f,Re-enable unit tests,MERGED,2018-01-11 20:50:52.000000000,2018-02-25 14:46:50.000000000,2018-01-18 04:52:22.000000000,1,1,0,532970,1f77ceb5e6e5aa7c8bf6d17d1d0a81e424e031cf,30,11,3,1,4523,Eric Harney,eharney,"Re-enable unit tests

Run unit tests normally.

Change-Id: Ib68d65ef49c880047768b16241f49afae2dd802f
"
openstack%2Fcinder~driverfixes%2Fmitaka~Iaae29d3a48da3e849e558894a2d707be90294551,openstack/cinder,driverfixes/mitaka,532556,Iaae29d3a48da3e849e558894a2d707be90294551,Fix requirements.txt reference / disable tests,MERGED,2017-11-27 15:36:24.000000000,2018-02-25 14:46:39.000000000,2018-01-12 05:56:39.000000000,2,2,0,523149,cdac4d9da0ae6af0e0d190484a9cc8a9aec67c71,43,14,5,1,4523,Eric Harney,eharney,"Fix requirements.txt reference / disable tests

The URL for requirements.txt must now point to
mitaka-eol rather than stable/mitaka.

NOTE: this change allows unit tests to pass
regardless of their actual result.  This is
being done to get the driverfixes/mitaka branch
CI into working order.

Change-Id: Iaae29d3a48da3e849e558894a2d707be90294551
"
openstack%2Fcinder~driverfixes%2Focata~Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48,openstack/cinder,driverfixes/ocata,bug/1739651,Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48,StorageCenter: Fix volume mapping for API v3.1,MERGED,2018-01-11 17:30:13.000000000,2018-02-25 14:46:37.000000000,2018-01-17 18:15:44.000000000,32,14,0,532919,6e4a924fe28e66afc122e22beb4d404d4aab738a,17,12,1,2,9535,Gorka Eguileor,Gorka,"StorageCenter: Fix volume mapping for API v3.1

Volume attachment fails on StorageCenter API v3.1 because the backend
instead of returning wwn or WWN as the key in the controller port it
returns wWN, thus preventing the driver from finding the mapping.

This patch adds support to any combination of upper and lower case of
the WWN key.

Closes-Bug: #1739651
Change-Id: Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48
(cherry picked from commit b50e08bcd8618d9b7935b0245d8b764912c919be)
(cherry picked from commit 0652a58069af9e908d12dd1f1fac8b6a8a8c6c2a)
"
openstack%2Fcinder~stable%2Fpike~I60f8e8864f236fb92dd03560576377f1a0bdd82b,openstack/cinder,stable/pike,bug/1733967,I60f8e8864f236fb92dd03560576377f1a0bdd82b,Check for migrated UUID in SolidFire delete,MERGED,2017-12-18 21:50:19.000000000,2018-02-25 14:46:32.000000000,2018-01-18 15:12:41.000000000,24,28,0,528828,24825e932831286481f2eb610ac0ba3682c3f3ad,50,22,3,2,2243,John Griffith,john-griffith,"Check for migrated UUID in SolidFire delete

Migration of volumes kinda screws up the use of ID as the
reference to use for deleting volumes.

If a volume is migrated, the UUID (ID) gets swapped and no
longer matches the UUID the volume had when it was initially
created on the back end device.  The result is that deletion
of that volume fails on the back end because the handle to the
new UUID doesn't exist.

On the other hand, you also have to be careful in dealing with
and cleaning up volumes migrated off of your back end device for
the same types of reasons.

This change just adds an additional check in the SF driver so that
we are querying the back end device for the ID and the name_id.

This way we make sure if the volume is on our device we clean it up.

Change-Id: I60f8e8864f236fb92dd03560576377f1a0bdd82b
Closes-Bug: #1733967
(cherry picked from commit 0e6ee1b1df38059f338ebd93c605dfb51a93a8a5)
"
openstack%2Fcinder~stable%2Fpike~I4b8d99966f387f51c1125ba72c1ce149229a8bc0,openstack/cinder,stable/pike,flashsystem_hostmap-stable/pike,I4b8d99966f387f51c1125ba72c1ce149229a8bc0,FlashSystem: Add CMMVC6045E CLI error for multi-host mapping,MERGED,2018-01-04 20:26:55.000000000,2018-02-25 14:46:30.000000000,2018-01-18 23:14:13.000000000,72,13,0,531238,dda90fe573303ac8bf1a213f611cdcb9209b27da,47,20,1,2,27059,John Cates,jccates,"FlashSystem: Add CMMVC6045E CLI error for multi-host mapping

Add CMMVC6045E to list of CLI error codes indicating a multi-host
map was attempted without the '-force' parameter. Re-raise on
match failure to avert spurious success when an unexcepted CLI
error is emitted. Add good and bad-path testing for multi-host
map to test_flashsystem_map_vdisk_to_host

Change-Id: I4b8d99966f387f51c1125ba72c1ce149229a8bc0
Closes-Bug: #1723188
(cherry picked from commit 421837ab4a3244022ad8292ad1ef0de37e9de532)
"
openstack%2Fcinder~driverfixes%2Fnewton~Ib55b22009a496bae002bda94190d041519090c75,openstack/cinder,driverfixes/newton,,Ib55b22009a496bae002bda94190d041519090c75,3PAR: Get host from os-brick,MERGED,2018-01-03 08:32:06.000000000,2018-02-25 14:46:25.000000000,2018-01-22 22:09:55.000000000,21,12,0,530862,379024675e028d1635b3fac7af913274369a815c,30,17,2,2,24299,Govardhan Chintha,chinthagovardhan,"3PAR: Get host from os-brick

Driver create hosts from os-brick connector
so get hosts from os-brick connector instead of
volume.

Change-Id: Ib55b22009a496bae002bda94190d041519090c75
Closes-Bug: 1690244
(cherry picked from commit e7a5ae1eaea6fa5b0dfc58920773fadae7ba0a68)
(cherry picked from commit 7973f02e84702f5b22fc27ee0fcfcb79543f8d14)
"
openstack%2Fcinder~master~Ib6751fae6b5fb78de98a2ea62f507f9102f71b76,openstack/cinder,master,cg_api,Ib6751fae6b5fb78de98a2ea62f507f9102f71b76,Deprecate CG APIs,MERGED,2017-12-10 17:46:47.000000000,2018-02-25 14:45:35.000000000,2017-12-25 23:54:01.000000000,28,4,4,526932,556ae86d382bc4bf9a4272884dd1f8ed5f694b4e,104,46,2,5,6491,xing-yang,xing-yang,"Deprecate CG APIs

This patch prints a deprecation message when CG APIs are used and
prompts users to swich to Generic Volume Group APIs instead. CG APIs
are also marked as deprecated in API reference docs. CG APIs will be
removed in a future release when it is appropriate and will be
decided by the Cinder team. This was communicated in Pike.

Change-Id: Ib6751fae6b5fb78de98a2ea62f507f9102f71b76
"
openstack%2Fcinder~master~I0f7b58751c6d8d05cad5b1b95c4e21c8b5d36692,openstack/cinder,master,bug/1731984,I0f7b58751c6d8d05cad5b1b95c4e21c8b5d36692,Update tgt iSCSI target on volume extend,MERGED,2017-12-21 08:09:50.000000000,2018-02-25 14:45:32.000000000,2018-01-04 05:59:45.000000000,33,3,6,529500,d96b6dfba03424baf8b3ddc7539347554892e941,61,39,3,5,11904,Sean McGinnis,SeanM,"Update tgt iSCSI target on volume extend

When extending an in-use volume, the volume will be extended but
the target exposing the volume will still report the original size.

The target needs to be updated to pick up the change, but since it
is in-use the update must be forced. This can cause IO disruption
if there is active IO to the target, however retries will cause the
next attempt to succeed and there will just be a few second IO
pause on the host while the target session is reestablished. Not
ideal, but it does recover with minimal impact on the host.

And operators probably shouldn't extend volumes without pausing
active IO to the volume anyway.

See bug report comments for more testing details. Marking this as
partial as it only addresses the tgt target and further
investigation is needed to see if the other target drivers need
similar updates.

Change-Id: I0f7b58751c6d8d05cad5b1b95c4e21c8b5d36692
Partial-bug: #1731984
"
openstack%2Fcinder~master~I11839fbeec4d9b7adf4255ea237848984350386e,openstack/cinder,master,bug/1731393,I11839fbeec4d9b7adf4255ea237848984350386e,Remove unused sf_enable_volume_mapping conf option,MERGED,2017-12-20 18:40:12.000000000,2018-02-25 14:45:31.000000000,2017-12-25 19:52:27.000000000,0,8,0,529396,88b7963fa94db08c767d0559a322050c583c12ae,36,31,1,2,2243,John Griffith,john-griffith,"Remove unused sf_enable_volume_mapping conf option

The SolidFire driver has a stale config option that's no longer used
anywhere (sf_enable_volume_mapping).

This patch removes that unused variable.

Change-Id: I11839fbeec4d9b7adf4255ea237848984350386e
Closes-Bug: #1731393
"
openstack%2Fcinder~master~I5ff95ca13f02ed6e0afb35f0d6bb5c36d4111f5a,openstack/cinder,master,goal-split-tempest-plugins,I5ff95ca13f02ed6e0afb35f0d6bb5c36d4111f5a,Remove In-repo cinder tempest plugin,MERGED,2017-07-25 17:15:11.000000000,2018-02-25 14:45:29.000000000,2018-01-18 02:35:22.000000000,0,960,2,487144,bcec744c4513d4d5c88deff4f4b7832eadac2d5e,134,58,4,16,22259,Nishant Kumar,nishant.e.kumar,"Remove In-repo cinder tempest plugin

As part of Queens Goal ""Split Tempest Plugins into Separate
Repos/Projects"",the cinder tempest plugin needs to be split
into a separate project.
https://governance.openstack.org/tc/goals/queens/split-tempest-plugins.html

This patch removes the in-tree tempest plugin as well as the
setuptools entry point.

Change-Id: I5ff95ca13f02ed6e0afb35f0d6bb5c36d4111f5a
Depends-On: Ib309cb1f87211e82eae0d27fa2464ec13a9deca6
Implements: blueprint goal-split-tempest-plugin
"
openstack%2Fcinder~master~I581ffcd8e14ab10e054be05429ee0f6717e27015,openstack/cinder,master,bug/1737735_2,I581ffcd8e14ab10e054be05429ee0f6717e27015,VMAX doc - Queens feature documentation,MERGED,2017-12-19 15:40:52.000000000,2018-02-25 14:45:16.000000000,2017-12-26 04:00:01.000000000,237,118,0,529094,e7b940c3126f3be3022972f41268ed7fa82914ee,40,28,1,1,12670,Helen Walsh,walshh2,"VMAX doc - Queens feature documentation

Part 2 - New features documented are iSCSI CHAP Authentication
and deprecation of configuration XML file.

Change-Id: I581ffcd8e14ab10e054be05429ee0f6717e27015
Partial-Bug: #1737735
"
openstack%2Fcinder~master~I263c3f5201ac76773a9c962ec958f02f601c6adc,openstack/cinder,master,bug/1722736,I263c3f5201ac76773a9c962ec958f02f601c6adc,Raise PolicyNotAuthorized exception on consistency Group snapshot,MERGED,2017-10-11 09:47:41.000000000,2018-02-25 14:43:49.000000000,2017-12-20 00:53:53.000000000,36,5,16,511195,3f86310b44105b53846820d262d82091cf58f8f0,198,51,8,2,20050,MonicaJoshi,MonicaJoshi,"Raise PolicyNotAuthorized exception on consistency Group snapshot

In role based access control test case, a consistencyGroup snapshot
delete when attempted by Non-admin role/user does not return
an informative policy not authorized message.

The proposed fix catches the PolicyNotAuthorized exception
explicitly to raise the appropriate message and error code
to the caller method, includes a new unit test case.

Closes-bug:#1722736

Change-Id: I263c3f5201ac76773a9c962ec958f02f601c6adc
"
openstack%2Fcinder~master~Ief48c73eb09afe2b5ff8c391f06013ab7eebd670,openstack/cinder,master,fix_api_ref,Ief48c73eb09afe2b5ff8c391f06013ab7eebd670,[api-ref] Fix http method for updating encryption type,MERGED,2017-11-21 15:52:46.000000000,2018-02-25 14:43:40.000000000,2017-12-19 00:40:38.000000000,2,2,4,521904,f02aa85d75fb0a942b7aff1c0220571a38ca1c48,86,40,3,2,23081,Jeremy Zhang,jeremy.zhang,"[api-ref] Fix http method for updating encryption type

This patch aims to fix http method in api-ref for updating encryption
type, changing from 'POST' to 'PUT'.

Change-Id: Ief48c73eb09afe2b5ff8c391f06013ab7eebd670
"
openstack%2Fcinder~master~I5231f8fe3399deb9c57e6efb121d0d008dc9c7f4,openstack/cinder,master,bp/nvme-target-cli,I5231f8fe3399deb9c57e6efb121d0d008dc9c7f4,Rename iSCSI target config options to more general,MERGED,2017-12-16 22:56:26.000000000,2018-02-25 14:43:38.000000000,2017-12-20 16:23:46.000000000,131,118,8,528515,4b092e8d9d6611d73e22177cb57581e3e2cecee3,92,37,3,37,1736,Ivan Kolodyazhny,e0ne,"Rename iSCSI target config options to more general

Since NVMET target driver will be implemented it would be good to use
the same config options both for NVMEoF and iSCSI targets. That's why
this path renames iscsi_ip_address, iscsi_port, iscsi_helper
iscsi_target_prefix, iscsi_protocol to target_ip_address, target_port,
target_helper, target_prefix, and target_protocol according to current
deprecation policy.

Change-Id: I5231f8fe3399deb9c57e6efb121d0d008dc9c7f4
Related-Blueprint: nvme-target-cli
"
openstack%2Fcinder~master~I950316ac0924acd692b2410993f3c240ce319d6f,openstack/cinder,master,validate_integer,I950316ac0924acd692b2410993f3c240ce319d6f,Use method validate_integer from oslo.utils,MERGED,2017-12-18 04:12:23.000000000,2018-02-25 14:43:37.000000000,2018-01-07 07:13:48.000000000,6,16,4,528618,c0951aac0ade57dbd548bf3ded6630f06303858a,69,36,3,2,9796,ChangBo Guo,gcb,"Use method validate_integer from oslo.utils

We added method validate_integer in oslo.utils 3.33.0 [1].
so we can simply the method validate_integer in Cinder.

Depends-On: I741875eba329b762789a7c7c910a6c46beeff3fa

[1] https://review.openstack.org/#/c/508401/

Change-Id: I950316ac0924acd692b2410993f3c240ce319d6f
"
openstack%2Fcinder~master~Ic1545e431d5b874c5b4beb7265c318aa1708d18e,openstack/cinder,master,tempest_volume_base_client,Ic1545e431d5b874c5b4beb7265c318aa1708d18e,Tempest plugin: switch to use new base_client.BaseClient,ABANDONED,2017-12-16 08:15:04.000000000,2018-02-25 14:43:33.000000000,,1,1,0,528457,12285d03c25e08ab3a9d14274d813b50d6012e93,23,17,2,1,23081,Jeremy Zhang,jeremy.zhang,"Tempest plugin: switch to use new base_client.BaseClient

Class 'tempest.lib.services.volume.v3.base_client.BaseClient' has moved
to 'tempest.lib.services.volume.base_client.BaseClient' in version Pike
[1] and will be removed in a future version.

[1] I645ae35daebd924c4c4523163e5419cc050bb0ed

Change-Id: Ic1545e431d5b874c5b4beb7265c318aa1708d18e
"
openstack%2Fcinder~master~Ifa8ea98e494d3058ef1a29fee4ab9fa76149ce08,openstack/cinder,master,bug/1738223,Ifa8ea98e494d3058ef1a29fee4ab9fa76149ce08,Correct documented service upgrade order,MERGED,2017-12-14 21:08:35.000000000,2018-02-25 14:43:31.000000000,2017-12-16 01:46:54.000000000,25,26,1,528084,cf355db0ed357fb8387206735f4ea2cb717751a8,37,21,2,1,11904,Sean McGinnis,SeanM,"Correct documented service upgrade order

We had inconsistent service upgrade order information in our upgrade
documentation. This corrects the order to be consistent with our
recommended order of operations.

Change-Id: Ifa8ea98e494d3058ef1a29fee4ab9fa76149ce08
Closes-bug: #1738223
"
openstack%2Fcinder~master~Ib37ed5e65ccdd44d2726b36bc668aad2dcd98339,openstack/cinder,master,bug/1737735,Ib37ed5e65ccdd44d2726b36bc668aad2dcd98339,VMAX doc - Queens feature documentation,MERGED,2017-12-12 16:42:49.000000000,2018-02-25 14:43:12.000000000,2017-12-24 23:19:26.000000000,288,26,1,527458,d2281815dfcd0803c7d6ccc52d2f8fd398761876,35,24,2,1,12670,Helen Walsh,walshh2,"VMAX doc - Queens feature documentation

Part 1 - New features documented are Asynchronous SRDF,
SRDF Metro and Manage/Unmanage Snapshots.

Change-Id: Ib37ed5e65ccdd44d2726b36bc668aad2dcd98339
Partial-Bug: #1737735
"
openstack%2Fcinder~master~Id95beae0a46ab492756e0108039fefb28f4f0b69,openstack/cinder,master,bp/use-service-tokens,Id95beae0a46ab492756e0108039fefb28f4f0b69,Add service_token for cinder-nova interaction,MERGED,2017-12-01 07:09:22.000000000,2018-02-25 14:42:42.000000000,2017-12-21 13:05:47.000000000,209,1,0,524497,0787710c2477b127baeba901dc0a1598f7f1eabe,124,47,5,7,26463,Niraj Singh,nirajsingh,"Add service_token for cinder-nova interaction

Service token will be passed along with user token to communicate
with services when dealing with long running tasks like
Create volume snapshot.

Partial-Implements: blueprint use-service-tokens

Change-Id: Id95beae0a46ab492756e0108039fefb28f4f0b69
"
openstack%2Fcinder~master~I496e45608798a6a5d9606f9594feeb8b60855d1a,openstack/cinder,master,bug/1738254,I496e45608798a6a5d9606f9594feeb8b60855d1a,Don't call driver.terminate_connection if there is no connector,MERGED,2017-12-14 18:23:13.000000000,2018-02-25 14:42:35.000000000,2017-12-15 18:50:31.000000000,68,2,3,528028,1bcab6a48de991dd0e029c6acd5527643aa457c9,69,31,4,2,6873,Matt Riedemann,mriedem,"Don't call driver.terminate_connection if there is no connector

It's possible to attach a volume to a shelved offloaded instance,
which is not on a compute host - which means no host connector,
and then detach that volume while the instance is unshelved. There
is a test in Tempest just for this scenario.

When nova calls attachment_delete on detach, the cinder volume
manager is calling the driver.terminate_connection method regardless
of there being a host connector, and some drivers blow up on that.

This used to ""work"" with the pre-3.27 attach flow in nova because
in the detach case where there was no connector, nova would simply
not call os-terminate_connection, but with the new 3.27+ flow for
attach, nova only calls attachment_delete regardless of there
being a connector.

This change simply checks to see if the attachment has a connector
and if not, it avoids the call to the driver to terminate a connection
which does not exist.

Change-Id: I496e45608798a6a5d9606f9594feeb8b60855d1a
Closes-Bug: #1738254
"
openstack%2Fcinder~master~Ie3b8ffb209b30edf2a26a935aab840441b43adfa,openstack/cinder,master,bp/json-schema-validation,Ie3b8ffb209b30edf2a26a935aab840441b43adfa,V3 jsonschema validation: Group Snapshots,MERGED,2017-12-01 08:59:33.000000000,2018-02-25 14:42:34.000000000,2017-12-23 16:26:49.000000000,110,39,2,524528,65d57cf4b16fc47eb0c7e4ef9cb96b6c955f00b5,148,51,4,6,24645,Pooja Jadhav,poojajadhav,"V3 jsonschema validation: Group Snapshots

This patch adds jsonschema validation for below group snapshots API's

* POST /v3/{project_id}/group_snapshots
* POST /v3/{project_id}/group_snapshots/{group_snapshot_id}/action

Made changes to unit tests to pass body as keyword argument as wsgi
calls action method [1] and passes body as keyword argument.

[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997

Change-Id: Ie3b8ffb209b30edf2a26a935aab840441b43adfa
Partial-Implements: bp json-schema-validation
"
openstack%2Fcinder~master~I23def8b2095dcf3945d2e0e1b4e5efe178cef9be,openstack/cinder,master,,I23def8b2095dcf3945d2e0e1b4e5efe178cef9be,SMBFS: remove deprecated config options,MERGED,2017-11-15 11:27:04.000000000,2018-02-25 14:42:32.000000000,2017-12-20 16:23:44.000000000,9,75,2,520050,d618c66c60c2a8d7083f4d0eb5847227996b68e3,98,42,3,3,8543,Lucian Petrut,plucian,"SMBFS: remove deprecated config options

Some driver specific config options have been marked as deprecated
in Pike and are now being removed. The equivalent generic options
are available.

Note that the 'smbfs_sparsed_volumes' config option was only used
by the Linux SMB driver, which was removed in Pike. By mistake,
it was copied over to the Windows SMB driver, which was inheriting
it.

Change-Id: I23def8b2095dcf3945d2e0e1b4e5efe178cef9be
"
openstack%2Fcinder~master~I74c15a99e90a24020b2f427a70f5d04376bd31af,openstack/cinder,master,bug/1732378,I74c15a99e90a24020b2f427a70f5d04376bd31af,Restore_backup: set error when volume status not matched,MERGED,2017-11-15 09:42:32.000000000,2018-02-25 14:42:30.000000000,2017-12-14 00:59:37.000000000,4,0,0,520026,06d4ba2080155632e4609948994df5c8c76b9840,139,43,5,2,25169,Xiaojun Liao,wwba,"Restore_backup: set error when volume status not matched

When volume actual_status was not equal to expected_status, the
restoring were not setting the volume to a 'error_restoring'
status, if it so happened that the actual_status was 'available',
client would be misled to think that restoring had finished. So
this patch fixes that.

Closes-Bug:#1732378

Change-Id: I74c15a99e90a24020b2f427a70f5d04376bd31af
Signed-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>
"
openstack%2Fcinder~master~I33447b1d83911b5cc18d0f29bea4f9a7c855f567,openstack/cinder,master,,I33447b1d83911b5cc18d0f29bea4f9a7c855f567,Fix json formatting eror,MERGED,2017-12-12 09:27:06.000000000,2018-02-25 14:42:27.000000000,2017-12-18 06:13:46.000000000,1,1,0,527351,a345dc0b706f506b8c5b635e8e1dce652a927183,40,27,1,1,26458,Brin Zhang,zhangbailin,"Fix json formatting eror

Change-Id: I33447b1d83911b5cc18d0f29bea4f9a7c855f567
"
openstack%2Fcinder~master~Id20000e483246b96d2dd478b041a56c2b1e119ff,openstack/cinder,master,fix-api-ref-v3-reverting-error-response-codes,Id20000e483246b96d2dd478b041a56c2b1e119ff,Modify v3 api-ref error response codes for reverting,MERGED,2017-11-23 10:07:53.000000000,2018-02-25 14:42:26.000000000,2017-12-12 21:23:16.000000000,1,1,2,522509,7241a8ee521bd6ef539bd8a81fbb8b484958ac9f,70,30,3,1,25169,Xiaojun Liao,wwba,"Modify v3 api-ref error response codes for reverting

Change-Id: Id20000e483246b96d2dd478b041a56c2b1e119ff
Signed-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>
"
openstack%2Fcinder~master~I5672904383d41949b86cfdff41cfa0f0ae79b5ba,openstack/cinder,master,,I5672904383d41949b86cfdff41cfa0f0ae79b5ba,Deprecate cinder-manage logs commands,MERGED,2017-12-10 16:23:46.000000000,2018-02-25 14:41:31.000000000,2017-12-12 00:56:56.000000000,28,4,0,526928,7c00d9b966abac50ad5ad8664fbe327ba2aca10e,76,33,3,3,4523,Eric Harney,eharney,"Deprecate cinder-manage logs commands

These commands search Cinder log files and
/var/log/messages to look for log messages related
to Cinder.

This is hacky and bound to be unreliable in
deployments which now may have log files configured
in different ways.

They also read entire log files into memory as
lists and reverse them, which is bound to be slow
on large deployments.

Deprecate these commands and leave log analysis
as a job for another tool.

Change-Id: I5672904383d41949b86cfdff41cfa0f0ae79b5ba
"
openstack%2Fcinder~master~I2226c8533cbd1ddd274d8dd0b2d77708463896f4,openstack/cinder,master,bp/json-schema-validation,I2226c8533cbd1ddd274d8dd0b2d77708463896f4,V3 jsonschema validation: Volume metadata,MERGED,2017-12-08 07:11:09.000000000,2018-02-25 14:41:04.000000000,2017-12-14 14:26:22.000000000,117,58,0,526606,afa410bcf65c8039edb424caa7ae510c515528e3,60,40,1,5,24645,Pooja Jadhav,poojajadhav,"V3 jsonschema validation: Volume metadata

This patch adds jsonschema validation for below metadata API's
* POST /v3/{project_id}/volumes/{volume_id}/metadata
* PUT  /v3/{project_id}/volumes/{volume_id}/metadata
* PUT  /v3/{project_id}/volumes/{volume_id}/metadata/{key}

The reason behind applying schema for v2(update and update_all) is
that in ""/cinder/tests/unit/api/v2/test_volume_metadata.py"" module
from this patch, V2's unit test cases are inherited for V3 and now
we are applying schema validation for V3 because of that V2's unit
test cases responses are modified.  If we remove schema validation
from V2 then we will need to add separate unit test cases for V3.

Made changes to unit tests to pass body as keyword argument as wsgi
calls action method [1] and passes body as keyword argument.

[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997
Partial-Implements: bp json-schema-validation

Change-Id: I2226c8533cbd1ddd274d8dd0b2d77708463896f4
"
openstack%2Fcinder~master~I2de9766406f5abf7710de8e7a9637d5a23324347,openstack/cinder,master,openstack/requirements,I2de9766406f5abf7710de8e7a9637d5a23324347,Updated from global requirements,MERGED,2017-12-07 13:19:32.000000000,2018-02-25 14:41:02.000000000,2017-12-10 17:52:12.000000000,1,1,0,526367,3ac39a99f6b2b770b6d17f6efa837c9835d7a628,39,34,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I2de9766406f5abf7710de8e7a9637d5a23324347
"
openstack%2Fcinder~master~Ib9596ac3ecc57a4f825b7d7118014e2ac14b2473,openstack/cinder,master,bug/1735337,Ib9596ac3ecc57a4f825b7d7118014e2ac14b2473,Remove skip_validation_flag to False by default,MERGED,2017-11-30 08:07:57.000000000,2018-02-25 14:41:01.000000000,2017-12-18 21:54:25.000000000,8,48,10,524091,7310676502f34a3e38329995731e12bcd5331210,103,42,4,6,14806,Chhavi Agarwal,chhagarw,"Remove skip_validation_flag to False by default

Remove the skip_validation to force quota
validation.
Closes-bug: #1735337

Change-Id: Ib9596ac3ecc57a4f825b7d7118014e2ac14b2473
"
openstack%2Fcinder~driverfixes%2Focata~I623d6114db866a465955f8a5ae7f40b69c781622,openstack/cinder,driverfixes/ocata,bug/1734505-driverfixes/ocata,I623d6114db866a465955f8a5ae7f40b69c781622,HPE3PAR: Create FC vlun as host sees,MERGED,2017-12-05 18:03:04.000000000,2018-02-25 14:40:59.000000000,2018-01-10 21:02:39.000000000,17,92,0,525719,e789cd21eb2d052c6ba57462b7a39d57243705c8,42,21,2,2,24952,Vivek Soni,sonivi,"HPE3PAR: Create FC vlun as host sees

Host sees VLUN template allows host connected
to any port to see a vv. so, only one vlun
template will be created per host irrespective
of number of FC ports available.

Change-Id: I623d6114db866a465955f8a5ae7f40b69c781622
Closes-Bug: #1734505
(cherry picked from commit cd18537fd631ba08a342bcfd328d765ea4d8c129)
"
openstack%2Fcinder~master~I14c4ea5ac1bdb0dedfa875c94d1e1b36a256a390,openstack/cinder,master,bug/1734037,I14c4ea5ac1bdb0dedfa875c94d1e1b36a256a390,DS8K: lss_range_for_cg should take csv as well as range,MERGED,2017-11-23 08:23:37.000000000,2018-02-25 14:40:57.000000000,2017-12-13 15:32:31.000000000,56,13,9,522474,b9ee79fae6d673538df532bf801eba0f0f372816,123,43,5,2,26422,Peng Wang,wangpeng,"DS8K: lss_range_for_cg should take csv as well as range

Now, lss_range_for_cg only accept a range value, but we think it
should also accept csv. This patch is used to implement it in
Queues Release.

Change-Id: I14c4ea5ac1bdb0dedfa875c94d1e1b36a256a390
Closes-Bug: 1734037
"
openstack%2Fcinder~master~I0fb5dc6404ee4db54a3dfc839b9a56622bff6906,openstack/cinder,master,bug/1734633,I0fb5dc6404ee4db54a3dfc839b9a56622bff6906,NEC driver: delete an unused configuration parameter.,MERGED,2017-11-28 10:26:49.000000000,2018-02-25 14:40:56.000000000,2017-12-15 18:45:46.000000000,127,215,3,523382,9974c39f0355bd0a0c3c3364297688de2eccf467,162,44,7,5,23885,Shunei Shiono,s-shiono,"NEC driver: delete an unused configuration parameter.

The `ldset_controller_node_name' parameter has been deprecated
and is ineffective already.
This patch refactors NEC driver by deleting the unused codes.

Change-Id: I0fb5dc6404ee4db54a3dfc839b9a56622bff6906
Closes-Bug: #1734633
"
openstack%2Fcinder~master~Ic70f45762cf4e426c222415e49b947a328282ca0,openstack/cinder,master,bp/migrate-fixed-key-to-barbican,Ic70f45762cf4e426c222415e49b947a328282ca0,Migrate fixed_key encryption keys to Barbican,MERGED,2017-12-01 20:34:23.000000000,2018-02-25 14:40:54.000000000,2017-12-14 17:49:02.000000000,429,0,2,524720,189a1096da2b0ad6b51fd5943a385a89f56a18c4,39,35,1,6,21129,Alan Bishop,ASBishop,"Migrate fixed_key encryption keys to Barbican

Assist users who are switching from the legacy ConfKeyManager to
Barbican by automatically migrating any existing keys. Key migration
is executed in its own thread spawned on cinder-volume startup. Two
factors are used to determine whether existing keys need to be
migrated.

1) The ConfKeyManager's fixed_key config value is set (not None).
   This indicates volumes may exist that were encrypted using the
   ConfKeyManager.
2) Barbican is the current key manager.

When the both conditions are met, each instance of the cinder-volume
service scans its volumes in the database, looking for volumes using
the ConfKeyManager's all-zeros encryption key ID. If a volume has an
all-zeros key ID, the same secret (derived from the fixed_key) is stored
in Barbican, and all database references to that volume's key ID are
replaced with the new Barbican key ID.

Implements: blueprint migrate-fixed-key-to-barbican
Change-Id: Ic70f45762cf4e426c222415e49b947a328282ca0
"
openstack%2Fcinder~master~Ifefc495bdc8877e981e11bd5ffee371dc0eb2e0a,openstack/cinder,master,zanata/translations,Ifefc495bdc8877e981e11bd5ffee371dc0eb2e0a,Imported Translations from Zanata,MERGED,2017-12-01 06:33:05.000000000,2018-02-25 14:40:40.000000000,2017-12-01 17:31:21.000000000,14,5,0,524483,c906171b94de27c3a5174de24dfbb69d009274f5,34,29,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ifefc495bdc8877e981e11bd5ffee371dc0eb2e0a
"
openstack%2Fcinder~master~Id2165a07995ab706d4a327f7340dccee7799c7b6,openstack/cinder,master,bug/1735177,Id2165a07995ab706d4a327f7340dccee7799c7b6,Discrepancy in api-ref and code for create group snapshot API,MERGED,2017-11-30 10:13:37.000000000,2018-02-25 14:40:32.000000000,2017-12-01 03:24:10.000000000,1,1,0,524120,7e693dd10729d696723e3742fdfbca845f821418,36,31,1,1,24645,Pooja Jadhav,poojajadhav,"Discrepancy in api-ref and code for create group snapshot API

'group_id' is mentioned as an optional parameter in api-ref doc for
POST /v3/{project_id}/group_snapshots API but in the code if we don't
pass group-id it returns BadRequest.

This patch fixes this discrepancy by updating the api-ref according
to the code.

Closes-Bug: #1735177
Change-Id: Id2165a07995ab706d4a327f7340dccee7799c7b6
"
openstack%2Fcinder~master~I7d48a0210f3d4545d5a4d932796cb82a677e467f,openstack/cinder,master,,I7d48a0210f3d4545d5a4d932796cb82a677e467f,"added clarification in docs for usage of ""volume_clear*"" options",MERGED,2017-11-29 16:15:31.000000000,2018-02-25 14:40:30.000000000,2017-12-14 00:29:44.000000000,3,3,1,523923,c07f4d3a788951ea3dfa310c46252f41c1141c58,32,27,1,1,11915,Jan Klare,jklare,"added clarification in docs for usage of ""volume_clear*"" options

* In the current documentation its pretty unclear where to set the
volume_clear* options and since we found that they will not work while
set in the [DEFAULT] section this commit adds information on where to
set them.

Change-Id: I7d48a0210f3d4545d5a4d932796cb82a677e467f
"
openstack%2Fcinder~driverfixes%2Fnewton~I7932b1d952844b49cfdb504ed0ba188b489d7f44,openstack/cinder,driverfixes/newton,kaminario-iscsi-non-discovery-newton,I7932b1d952844b49cfdb504ed0ba188b489d7f44,Kaminario K2: Add non discovery iSCSI multipath,MERGED,2017-11-24 09:12:32.000000000,2018-02-25 14:40:29.000000000,2018-01-10 13:54:26.000000000,103,43,3,522748,1e1e8e94b161c161efc227aedf43e95798cbfd18,61,20,2,4,16258,nikesh,nikem,"Kaminario K2: Add non discovery iSCSI multipath

Current Kaminario K2 driver only supports iSCSI multipathing using
discovery (sendtargets), which in some cases may be undesirable, since a
broken primary path could prevent an attachment.

This code adds the possibility of not using discovery mode and return
all connection information when `initialize_connection` is called, which
should provide increased reliability.

Change-Id: I7932b1d952844b49cfdb504ed0ba188b489d7f44
(cherry picked from commit c9ec9b9bd755f042dbe1ccbdc5e3ff87fa60269c)
(cherry picked from commit 7bcb2ff94cf38eaa9def1115569981760e36510c)
"
openstack%2Fcinder~master~Ic220ea4d8a6e83293e5237acfb07b1a417293803,openstack/cinder,master,bug/1710937,Ic220ea4d8a6e83293e5237acfb07b1a417293803,handle no default_cgsnapshot_type,MERGED,2017-11-16 14:47:58.000000000,2018-02-25 14:40:27.000000000,2017-12-13 22:48:27.000000000,13,13,0,520607,be7b476d562f79d649724555aeadfad60127e356,92,38,2,2,10608,Matthew Edmonds,edmondsw,"handle no default_cgsnapshot_type

If default_cgsnapshot_type has been deleted, group operations for
drivers relying on the generic volume group implementation were failing
with a KeyError while attempting to determine if the targeted group was
default_cgsnapshot_type. This fixes that by using a comparison that
allows for the possibility that default_cgsnapshot_type does not
exist.

Change-Id: Ic220ea4d8a6e83293e5237acfb07b1a417293803
Closes-Bug: #1710937
"
openstack%2Fcinder~stable%2Fpike~I065ffba9615af54998ae94a8d2d2fd3853f462cb,openstack/cinder,stable/pike,bug/1721207,I065ffba9615af54998ae94a8d2d2fd3853f462cb,VMAX driver - detach volume shouldn't remove from volume groups,MERGED,2017-11-28 17:11:30.000000000,2018-02-25 14:40:25.000000000,2017-12-19 13:17:59.000000000,165,107,0,523475,68df7c8d7c6445661206fdf0fc15a4e59892ebb6,35,19,1,4,12670,Helen Walsh,walshh2,"VMAX driver - detach volume shouldn't remove from volume groups

Detaching a volume in VMAX removes the volume from all its current
storage groups and returns it to its default storage group. This is not
desired behaviour when the volume is a member of a generic volume group.
The volume should only be removed from the storage group associated
with the masking view related to the detach operation (or all masking
views in the case of a force detach). This patch rectifies the issue.

Change-Id: I065ffba9615af54998ae94a8d2d2fd3853f462cb
Closes-Bug: 1721207
(cherry picked from commit 27fd333df9a7f5b473225b3c55cd0c250f017134)
"
openstack%2Fcinder~master~I962b06eeabfc1ac8dc2bdfc6459fd37f7532f0ee,openstack/cinder,master,doc-migration,I962b06eeabfc1ac8dc2bdfc6459fd37f7532f0ee,Update the documentation links,MERGED,2017-11-28 02:50:47.000000000,2018-02-25 14:40:22.000000000,2017-12-07 06:45:31.000000000,2,2,0,523282,ab86e7c34a176c578c09150d8c71b590de179f88,31,28,1,1,24209,Ding Guoqiang,dingguoqiang,"Update the documentation links

The documentation about ""ops-guide"" has been moved.

Change-Id: I962b06eeabfc1ac8dc2bdfc6459fd37f7532f0ee
"
openstack%2Fcinder~master~Iaf77db73e368aee0d09b4c8e76f180f394f1aa37,openstack/cinder,master,bug/1733903,Iaf77db73e368aee0d09b4c8e76f180f394f1aa37,Use new oslo.db test cases,MERGED,2017-11-22 16:22:38.000000000,2018-02-25 14:39:32.000000000,2017-11-28 18:57:48.000000000,1,1,0,522290,a7ab5ba1f3f0618f29ff02a1e8b61922eaddac61,56,30,2,1,11904,Sean McGinnis,SeanM,"Use new oslo.db test cases

Base migration test cases have moved to a new location in oslo.db
resulting in DeprecationWarnings in the Cinder logs. This updates
the migration tests to use the new location for these base test
classes.

Also tries to clean up slightly by moving the test_migrations
tests under the db directory.

Change-Id: Iaf77db73e368aee0d09b4c8e76f180f394f1aa37
Closes-bug: #1733903
"
openstack%2Fcinder~master~Ic44dfae8bb187a5aa9c2c1f50f7b5dc0ef0f28f8,openstack/cinder,master,bug/1560867,Ic44dfae8bb187a5aa9c2c1f50f7b5dc0ef0f28f8,Support create a volume from image snapshot,MERGED,2016-05-11 10:05:58.000000000,2018-02-25 14:39:09.000000000,2017-11-27 17:42:02.000000000,105,7,13,314944,25dd8109df4425e7f470429956d093bf59fcf669,189,60,10,7,12382,YaoZheng,YaoZheng,"Support create a volume from image snapshot

The instance boot from volume, snapshot the instance will create
a image in glance. The image size is 0, it just a link to the
volume snapshot. When the user create volume from the snapshot
image, in the current version, it will create a blank volume. so
the user is troubled. This patch fix it.

The scheme: when the user create volume from snapshot image, the
api create interface will parse out the snapshot image corresponds
to the volume snapshot id. Then create a volume from the volume
snapshot. So, the user can use this way to restore the instance's
bootable volume.

Change-Id: Ic44dfae8bb187a5aa9c2c1f50f7b5dc0ef0f28f8
Closes-Bug: #1560867
"
openstack%2Fcinder~master~I54695655e563d84e4fb1b76c42f0127c5fb909f7,openstack/cinder,master,bp/remotefs-manage-unmanage-volume,I54695655e563d84e4fb1b76c42f0127c5fb909f7,SMBFS: manageable volumes,MERGED,2017-11-17 18:49:40.000000000,2018-02-25 14:39:08.000000000,2017-12-14 00:59:08.000000000,568,10,1,521158,ed945da6bf05475c272443d2eebacfc79c389926,147,42,6,6,8543,Lucian Petrut,plucian,"SMBFS: manageable volumes

This change allows the SMBFS driver to claim (manage) vhd/x images
present on pre-configured shares.

Note that images having backing (parent) files will be rejected.
Managing snapshots will not be supported either.

The images may reside in subdirectories (and get moved afterwards),
which may be useful when having a folder dedicated to images that
are to be imported in Cinder.

All the logic is included in the new ""RemoteFSManageableVolumesMixin""
class so that any related driver may inherit it. For the record,
this works out of the box for the NFS driver (special care has been
taken in this sense).

Implements: blueprint remotefs-manage-unmanage-volume
Change-Id: I54695655e563d84e4fb1b76c42f0127c5fb909f7
"
openstack%2Fcinder~master~I84b5ff546726c9eddb46badb48b24ed1905e0aa8,openstack/cinder,master,bp/ceph-volume-migrate,I84b5ff546726c9eddb46badb48b24ed1905e0aa8,RBD: support driver-assisted volume migration,MERGED,2015-12-10 20:50:25.000000000,2018-02-25 14:39:04.000000000,2017-11-22 22:26:23.000000000,188,10,94,256091,dd119d5620bebc59a72f4fb1e1b795f56da5db64,559,100,23,3,9236,Jon Bernard,jbernard,"RBD: support driver-assisted volume migration

This patch implements the driver function migration_volume() and allows
a user to efficiently migrate a volume from one pool to another as long
as both pools reside in the same cluster.

Change-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8
Implements: blueprint ceph-volume-migrate
"
openstack%2Fcinder~master~I50a1d3b60652d9d44d2c47bb9bc413dd127bc938,openstack/cinder,master,bp/json-schema-validation,I50a1d3b60652d9d44d2c47bb9bc413dd127bc938,V3 jsonschema validation: Attachments,MERGED,2017-11-08 06:42:16.000000000,2018-02-25 14:39:02.000000000,2017-11-22 07:12:25.000000000,113,23,3,518457,95ba9118c6de62094572eefaf7a14d008295d886,113,42,4,5,24645,Pooja Jadhav,poojajadhav,"V3 jsonschema validation: Attachments

This patch adds jsonschema validation for below Attachments API's
* POST /v3/{project_id}/attachments
* PUT  /v3/{project_id}/attachments/{attachment_id}

Made changes to unit tests to pass body as keyword argument as wsgi
calls action method [1] and passes body as keyword argument.

[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997

Partial-Implements: bp json-schema-validation

Change-Id: I50a1d3b60652d9d44d2c47bb9bc413dd127bc938
"
openstack%2Fcinder~master~I50e4c66097aefdfea1e7589b2ae67e262ae6a6d3,openstack/cinder,master,updated-pti,I50e4c66097aefdfea1e7589b2ae67e262ae6a6d3,Update bindep.txt for doc builds,MERGED,2017-11-21 20:07:19.000000000,2018-02-25 14:39:01.000000000,2017-11-21 23:19:02.000000000,6,3,0,521998,da6470d32f2bc11976e43582932ae8bf713aa883,28,21,1,1,6547,Andreas Jaeger,jaegerandi,"Update bindep.txt for doc builds

https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation
specifies that doc dependencies need the doc tag in bindep, use it.

Leave test environment in for transition period until we use the new
scripts.

Change-Id: I50e4c66097aefdfea1e7589b2ae67e262ae6a6d3
"
openstack%2Fcinder~master~Ia5d1e988256246e3552e3a770146503ea7f7bf73,openstack/cinder,master,add_fk_service_uuid_to_volumes,Ia5d1e988256246e3552e3a770146503ea7f7bf73,Add service_uuid FK to volumes,MERGED,2017-11-11 15:39:45.000000000,2018-02-25 14:38:59.000000000,2017-11-27 19:22:32.000000000,191,4,18,519025,cdb6cdcc961a5553cf9f81cbb49994d98180f947,214,42,8,12,2243,John Griffith,john-griffith,"Add service_uuid FK to volumes

This patch adds a service_uuid FK to the volumes table.
Up until now we've just done some host name parsing and
to match up service node with where the volume is being
serviced from.

With this, we now have a unique identifier that's user
visible to indicate what node the volume-service for a
particular volume is being serviced by.

We'll use this for things like share-target locks going
forward.

Change-Id: Ia5d1e988256246e3552e3a770146503ea7f7bf73
"
openstack%2Fcinder~master~I220cd20fefbe83ba8c392ab6b1679620d6a1d934,openstack/cinder,master,,I220cd20fefbe83ba8c392ab6b1679620d6a1d934,Fix group_type_id in api-ref,MERGED,2017-11-21 07:53:59.000000000,2018-02-25 14:38:54.000000000,2017-11-29 20:18:51.000000000,3,9,2,521747,176f9b17b9e3cc22f17ae7200156491a29fc8fc5,52,29,4,2,8556,Ghanshyam,ghanshyam,"Fix group_type_id in api-ref

group_type_id in GET/DELETE/PUT /group_types/group_type_id
is mentioned as optional path variable which is not true.

- https://github.com/openstack/cinder/blob/7c66eb3d976048e7179fedb7694a989c9181c374/cinder/api/v3/group_types.py#L101

This id is mandatory and doc should be updated.
This create confusion while test case or using this API,
example - https://review.openstack.org/#/c/521634/4/tempest/lib/services/volume/v3/group_types_client.py
Closes-Bugs: # 1733504

Change-Id: I220cd20fefbe83ba8c392ab6b1679620d6a1d934
"
openstack%2Fcinder~master~I37d4fb98e165bed2f36f54d6a30477b65bcddd50,openstack/cinder,master,bug/1728654,I37d4fb98e165bed2f36f54d6a30477b65bcddd50,NetApp ONTAP: Fix delayed snapshot deletion call,MERGED,2017-11-20 18:02:25.000000000,2018-02-25 14:38:36.000000000,2017-11-30 23:25:56.000000000,3,12,0,521616,954ce725d900b653e4f32e71c753bb4e241956ea,62,41,1,3,16643,Goutham Pacha Ravi,gouthamr,"NetApp ONTAP: Fix delayed snapshot deletion call

The ONTAP drivers have a retry mechanism to cleanup
deleted FlexVol snapshots (those that get taken to assist
Cinder's CG snapshots or consistent volume group
snapshots). The driver calls for this pass a redundant
parameter after the cleanup committed in:
I129ca060a89275ffd56481b8f64367b0d803cff5

Fix this redundant parameter.

Change-Id: I37d4fb98e165bed2f36f54d6a30477b65bcddd50
Closes-Bug: #1728654
"
openstack%2Fcinder~master~I80b1853cbe2cc02a056195e967e9422617bbf850,openstack/cinder,master,add_volume_encryption_api_ref,I80b1853cbe2cc02a056195e967e9422617bbf850,Add v3 api-ref for showing encryption specs item,MERGED,2017-11-18 08:21:17.000000000,2018-02-25 14:38:12.000000000,2017-11-20 22:13:16.000000000,39,4,2,521239,4f4a0256f782b4d3f9a54ea975f9f81c59c955a2,39,30,2,3,23081,Jeremy Zhang,jeremy.zhang,"Add v3 api-ref for showing encryption specs item

This patch adds v3 api-ref for showing encryption specs item for an
existing volume type.

Change-Id: I80b1853cbe2cc02a056195e967e9422617bbf850
"
openstack%2Fcinder~master~I9b631dbedd1b2c8bfe7430943dfc16e85b9f85e0,openstack/cinder,master,remove_reno_vers,I9b631dbedd1b2c8bfe7430943dfc16e85b9f85e0,Remove setting of version/release from releasenotes,MERGED,2017-11-16 16:25:46.000000000,2018-02-25 14:38:08.000000000,2017-11-20 08:53:35.000000000,3,10,0,520638,46144c4a27c31101882dc5ca96c16672f4550c02,66,31,2,1,11904,Sean McGinnis,SeanM,"Remove setting of version/release from releasenotes

Release notes are version independent, so remove version/release values.
We've found that most projects now require the service package to be
installed in order to build release notes, and this is entirely due to
the current convention of pulling in the version information.

Release notes should not need installation in order to build, so this
unnecessary version setting needs to be removed.

Change-Id: I9b631dbedd1b2c8bfe7430943dfc16e85b9f85e0
"
openstack%2Fcinder~stable%2Fpike~I9ef79a21c7438e69221a5ed2a1c1bfb59f3f9a32,openstack/cinder,stable/pike,bug/1728834,I9ef79a21c7438e69221a5ed2a1c1bfb59f3f9a32,"Correct gb,snapshot quota update in group snapshot",MERGED,2017-11-16 04:38:52.000000000,2018-02-25 14:38:06.000000000,2017-11-16 20:56:20.000000000,59,20,0,520292,f17ace72fe2cfb4823b153dda915d25261e74cfe,22,17,2,7,24131,Abhishek Sharma M,abhi.sharma,"Correct gb,snapshot quota update in group snapshot

Currently we are incrementing gigabytes quota twice, once while
creating snapshot & then while creating individual volumes & this
is fixed in this change. Also, snapshot quota updation was put in
a loop of volumes because of which it gets incremented to number
of volume times.

Change-Id: I9ef79a21c7438e69221a5ed2a1c1bfb59f3f9a32
Closes-Bug: 1728834
(cherry picked from commit b3669fa67cf08f1075be1dd7641ab3af951c138c)
"
openstack%2Fcinder~master~I06a8eb38f35ccff125282c8886458bfe99fe196e,openstack/cinder,master,bp/inspur-instorage-driver,I06a8eb38f35ccff125282c8886458bfe99fe196e,Inspur Cinder iSCSI driver,MERGED,2017-09-11 12:33:46.000000000,2018-02-25 14:38:04.000000000,2017-11-20 19:37:00.000000000,9877,0,56,502455,e7362103c67579bf7caf1437afc3d4518923c8a6,458,57,13,15,25648,wang yong,wangyong,"Inspur Cinder iSCSI driver

Features that Inspur Driver support:
Create, list, delete, attach (map), and detach (unmap) volumes
Create, list, and delete volume snapshots
Copy an image to a volume
Copy a volume to an image
Clone a volume
Extend a volume
Retype a volume
Create a volume from a snapshot
Manage an existing volume
Consistency group create,update,delete
Consistency group snapshot create,delete
Group create,update,delete
Group snapshot create,delete
Replication V2.1

ThirdPartySystems: INSPUR CI

Implements: Blueprint inspur-instorage-driver

Change-Id: I06a8eb38f35ccff125282c8886458bfe99fe196e
"
openstack%2Fcinder~master~I615d5cab95b07f995318266166480a9fd4d713f8,openstack/cinder,master,fix-docs-indent,I615d5cab95b07f995318266166480a9fd4d713f8,Fix controller install document indentation,MERGED,2017-11-15 06:14:21.000000000,2018-02-25 14:37:59.000000000,2017-11-18 02:31:04.000000000,88,88,0,519978,9a29d679f73623fd3f412d29a3b3efcd8ab0be6d,35,28,2,3,5689,Masayuki Igawa,igawa,"Fix controller install document indentation

This commit fixes the document of cinder-controller-install*.rst.
Otherwise, the html docs are a little weird.

Change-Id: I615d5cab95b07f995318266166480a9fd4d713f8
"
openstack%2Fcinder~master~Id74d48348f2a9aa212fe178ac2e2304ff134be9a,openstack/cinder,master,pwlogging,Id74d48348f2a9aa212fe178ac2e2304ff134be9a,Fix several instances of chap secret being output to logs.,MERGED,2017-11-14 20:03:29.000000000,2018-02-25 14:37:35.000000000,2017-12-14 00:29:52.000000000,26,12,0,519734,46f26084ce59ffcd5c2d66558fee85f4deb53a94,46,34,1,7,24147,Mark Giles,mark-giles,"Fix several instances of chap secret being output to logs.

Several drivers had cases where chap secrets could be output to
the log files.  This fixes several such cases by masking the secret.

Change-Id: Id74d48348f2a9aa212fe178ac2e2304ff134be9a
"
openstack%2Fcinder~master~I093da81fb9a0021e4fedff7eb48d3245957e787a,openstack/cinder,master,bug/1727176,I093da81fb9a0021e4fedff7eb48d3245957e787a,HPE 3PAR: Handle single path in FC configuration,MERGED,2017-11-13 10:30:51.000000000,2018-02-25 14:37:33.000000000,2017-11-14 20:27:43.000000000,95,10,2,519304,d265cc5a2d4edf5bdaecb34feb6d7c35a76ec526,68,39,2,2,24952,Vivek Soni,sonivi,"HPE 3PAR: Handle single path in FC configuration

Issue :- With single path configuration, post
volume attach multiple vluns are created,
instead of one vlun.

Added check to create host with single initiator,
which will use single target wwn to create a vlun

Change-Id: I093da81fb9a0021e4fedff7eb48d3245957e787a
Closes-Bug: #1727176
"
openstack%2Fcinder~master~Ie4c157f11e5fde0c2dd1d3e06feb0caa9d2d9ede,openstack/cinder,master,bp/inspection-mechanism-for-capacity-limited-host,Ie4c157f11e5fde0c2dd1d3e06feb0caa9d2d9ede,Schedule request to scheduler when create group from resource,MERGED,2017-11-03 08:30:22.000000000,2018-02-25 14:37:32.000000000,2017-11-16 06:41:56.000000000,118,34,0,517574,d812f5705fbb9503f307452a9904d21cc609439a,122,39,5,7,23083,TommyLike,TommyLike,"Schedule request to scheduler when create group from resource

Pass the request to scheduler rather than volume service in
order to check the backend's capacity.

Change-Id: Ie4c157f11e5fde0c2dd1d3e06feb0caa9d2d9ede
Partial-Implements: bp inspection-mechanism-for-capacity-limited-host
"
openstack%2Fcinder~master~Ic9720c649ccb1fbcf2f319c0cc422c54f0925aac,openstack/cinder,master,bug/1715041,Ic9720c649ccb1fbcf2f319c0cc422c54f0925aac,set vg_thin_pool_size to float type,MERGED,2017-09-05 03:28:38.000000000,2018-02-25 14:37:28.000000000,2017-11-18 02:31:02.000000000,3,3,0,500663,9a386cee127519ce70a0ef494cbbeaeb7f52c5e7,69,44,3,2,22905,wanghongxu,wanghongxu,"set vg_thin_pool_size to float type

lvsize is type of str, we need a float type.

Closes-Bug: #1715041
Change-Id: Ic9720c649ccb1fbcf2f319c0cc422c54f0925aac
"
openstack%2Fcinder~master~Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6,openstack/cinder,master,,Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6,Add .zuul.yaml with LIO job,MERGED,2017-11-07 19:47:30.000000000,2018-02-25 14:37:27.000000000,2017-11-14 18:43:10.000000000,122,30,0,518390,5601d336ca556c82891466c89cadef0676df576c,106,29,7,5,4523,Eric Harney,eharney,"Add .zuul.yaml with LIO job

This replaces the legacy-tempest-dsvm-full-lio job.

Skip tests that are currently failing.

Change-Id: Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6
"
openstack%2Fcinder~master~I3cf8e29184a68a07d35fb121c816e40b89df393e,openstack/cinder,master,assertRaisesRegex,I3cf8e29184a68a07d35fb121c816e40b89df393e,Handle assertRaisesRegexp Python 3 deprecation,MERGED,2017-11-07 23:54:47.000000000,2018-02-25 14:37:25.000000000,2017-11-16 05:09:41.000000000,28,23,0,518417,c79d1519545baefd3faccbac9e6c5ee9a2b177bd,42,26,2,2,11904,Sean McGinnis,SeanM,"Handle assertRaisesRegexp Python 3 deprecation

In Python 3, assertRaisesRegexp has been deprecated in favor of
assertRaisesRegex. This newer name is not available in Python 2
though, so we can't just change over to the new name.

To get rid of the deprecation messages in our py35 unit test runs,
this adds an alias to our test base that just provides an alias
rather than updating all locations in our tests that use this.

Change-Id: I3cf8e29184a68a07d35fb121c816e40b89df393e
"
openstack%2Fcinder~driverfixes%2Fnewton~Ib78293efa626c098a572f4c64119ee2ff296bd40,openstack/cinder,driverfixes/newton,bug/1726591,Ib78293efa626c098a572f4c64119ee2ff296bd40,Dell EMC PS: Fix Duplicate ACL records Issue,MERGED,2017-11-07 15:35:52.000000000,2018-02-25 14:37:16.000000000,2017-11-21 12:26:53.000000000,45,10,0,518359,e637fe080e18b8faa910c0d90f653de964162ccb,26,14,2,3,10379,Rajini Karthik,rajinir,"Dell EMC PS: Fix Duplicate ACL records Issue

Live migration was creating duplicate ACL records for the compute
nodes. Fixed it by not creating one when an ACL exists during
initialization of the volume.

Closes Bug: #1726591

Change-Id: Ib78293efa626c098a572f4c64119ee2ff296bd40
(cherry picked from commit 22c09d57687b98faf4193cb1be3d738ddf3bbd28)
"
openstack%2Fcinder~driverfixes%2Fnewton~I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,openstack/cinder,driverfixes/newton,bug/1692775,I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,Run backup compression on native thread,MERGED,2017-11-07 11:54:42.000000000,2018-02-25 14:35:55.000000000,2018-01-18 18:40:42.000000000,49,4,0,518311,41754fd57f27bba646d1d6e26388c7f5f4c2dc4e,42,17,1,4,9535,Gorka Eguileor,Gorka,"Run backup compression on native thread

Backup data compression is a CPU bound operation that will not yield to
other greenthreads, so given enough simultaneous backup operations they
will lead to other threads' starvation.

This is really problematic for DB connections, since starvation will
lead to connections getting dropped with errors such as ""Lost connection
to MySQL server during query"".

Detailed information on why these connections get dropped can be found
in comment ""[31 Aug 2007 9:21] Magnus Bludd"" on this MySQL bug [1].

These DB issues may result in backups unnecessary ending in an ""error""
state.

This patch fixes this by moving the compression to a native thread so
the cooperative multitasking in Cinder Backup can continue switching
threads.

[1] https://bugs.mysql.com/bug.php?id=28359

Closes-Bug: #1692775
Closes-Bug: #1719580
Change-Id: I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5
(cherry picked from commit af0f00bc52f79d9395adfe0575b0dbe353e18bbe)
(cherry picked from commit 439f90da8e4c1cfa1acfe36b5ea8a6c5bae6139f)
(cherry picked from commit b241f93267646a6501e3a5fb14521f05e38a2ae9)
"
openstack%2Fcinder~master~I11c0932c546d8edd0e6009c4e2668f50ac2008c1,openstack/cinder,master,,I11c0932c546d8edd0e6009c4e2668f50ac2008c1,VMAX doc - add manage and unmanage section,MERGED,2017-11-06 11:32:00.000000000,2018-02-25 14:35:51.000000000,2017-12-24 23:18:18.000000000,121,0,0,517926,c25be040faa835a0084a39af7e36d8101fe24145,31,25,1,1,12670,Helen Walsh,walshh2,"VMAX doc - add manage and unmanage section

Adding manage and unmanage section

Change-Id: I11c0932c546d8edd0e6009c4e2668f50ac2008c1
Closes-Bug: #1729013
"
openstack%2Fcinder~master~I988370d702d87acde534670575d599159b48c58b,openstack/cinder,master,only_ignore_deleting_missing_backup_exception_when_file_not_exist,I988370d702d87acde534670575d599159b48c58b,Improve deleting-missing-backup exception handling,MERGED,2017-10-30 09:04:06.000000000,2018-02-25 14:35:50.000000000,2017-11-07 13:40:37.000000000,5,2,1,516219,851b60d89d38b67b17930699fbc1f21ef0cf3aaf,68,36,3,1,25169,Xiaojun Liao,wwba,"Improve deleting-missing-backup exception handling

When deleting missing backup, OSError could be checked to make
sure that the actual error was that the file does not exist.

Change-Id: I988370d702d87acde534670575d599159b48c58b
Signed-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>
"
openstack%2Fcinder~master~Ic9e724fcda83fea384406f45f792f7a2d4b979bb,openstack/cinder,master,bp/smbfs-fixed-images,Ic9e724fcda83fea384406f45f792f7a2d4b979bb,SMBFS: add fixed image support,MERGED,2017-10-24 13:13:46.000000000,2018-02-25 14:35:48.000000000,2017-11-22 19:35:47.000000000,80,21,0,514659,54c2787132396a73a45682133f66777ba1eb2085,137,39,6,5,26415,Alexandru Muresan,amuresan,"SMBFS: add fixed image support

The SMBFS driver currently supports only dynamic vhd/x images.

This change will allow configuring the driver to use fixed images
using the 'nas_volume_prov_type' config option.

Note that fixed images will always be zeroed out. We recommend
placing the images on ReFS/SSD backed storage.

Implements: blueprint smbfs-fixed-images

Change-Id: Ic9e724fcda83fea384406f45f792f7a2d4b979bb
"
openstack%2Fcinder~master~I970443c16028d4d3e6bed648c2e188fe65a158fa,openstack/cinder,master,,I970443c16028d4d3e6bed648c2e188fe65a158fa,Remove unused print_function imports,MERGED,2017-11-02 15:07:17.000000000,2018-02-25 14:35:47.000000000,2017-11-03 06:59:16.000000000,0,4,0,517344,7ec31c90c12d0e1eb7cc8b5522dbc37a5e661b36,52,37,1,2,4523,Eric Harney,eharney,"Remove unused print_function imports

This is not needed in these files.

TrivialFix

Change-Id: I970443c16028d4d3e6bed648c2e188fe65a158fa
"
openstack%2Fcinder~master~Ia0f426a257bbaf3c1512c716619fdaa646a9e19c,openstack/cinder,master,,Ia0f426a257bbaf3c1512c716619fdaa646a9e19c,ScaleIO: Update CI Wiki name,MERGED,2017-11-01 13:01:14.000000000,2018-02-25 14:35:46.000000000,2017-11-02 16:48:04.000000000,1,1,0,516986,5e9e1d5f924a26024ae869cdf239241904e0f91f,37,29,1,1,25033,Eric Young,tssgery,"ScaleIO: Update CI Wiki name

The ScaleIO CI Wiki has been renamed to account for the
Dell EMC merger and accompanying branding changes.

Change-Id: Ia0f426a257bbaf3c1512c716619fdaa646a9e19c
"
openstack%2Fcinder~master~I59849d0b5b1ec6636ad1e1af004277fcfa319473,openstack/cinder,master,bug/1659568,I59849d0b5b1ec6636ad1e1af004277fcfa319473,Update setup instructions,MERGED,2017-10-27 01:49:47.000000000,2018-02-25 14:35:42.000000000,2017-11-03 13:29:55.000000000,6,2,6,515564,38e5e7376b797fe3654c3e60591c65b9e0968352,110,37,7,1,25376,zhuangzejian,smartu3,"Update setup instructions

Add python3-dev instructions for Ubuntu16.04.
Verified thos packages in new version and drop Ubuntu12.04 tag.

Change-Id: I59849d0b5b1ec6636ad1e1af004277fcfa319473
Close-Bug: #1659568
"
openstack%2Fcinder~master~Ibc8b1c5a967d05b3e52f992a1e76e74c9120e3f1,openstack/cinder,master,bug/1728457,Ibc8b1c5a967d05b3e52f992a1e76e74c9120e3f1,Use total reserved quota value instead of partial,MERGED,2017-10-31 05:26:20.000000000,2018-02-25 14:35:16.000000000,2017-11-01 14:27:36.000000000,5,3,1,516515,ead1cee88b14de487537f528b0c5631407d320a0,92,37,3,1,24131,Abhishek Sharma M,abhi.sharma,"Use total reserved quota value instead of partial

While reserving snapshot we reserve gigabytes too. In case of
group snapshot we reserve the total gigabytes but in case of an
exception we print just the last volume gb info which needs to be
changed.

Change-Id: Ibc8b1c5a967d05b3e52f992a1e76e74c9120e3f1
Closes-Bug: 1728457
"
openstack%2Fcinder~driverfixes%2Focata~I1f0adaa8e25cd3ec74084b22bbe1573b92713959,openstack/cinder,driverfixes/ocata,bug/1661154,I1f0adaa8e25cd3ec74084b22bbe1573b92713959,Dell EMC PS: Optimize parsing of capacity info from backend,MERGED,2017-10-23 15:46:17.000000000,2018-02-25 14:34:59.000000000,2017-11-03 02:36:47.000000000,14,5,1,514364,9a0a74c30f0954627f77223ec36a4927751aaf8b,52,20,5,2,10379,Rajini Karthik,rajinir,"Dell EMC PS: Optimize parsing of capacity info from backend

The backend api returns large amounts of information and
times out when there are lots of volumes. Accelerated the
process by terminating the parsing after the capacity info
is retrieved.

Closes Bug: #1661154

Change-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959
(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)
"
openstack%2Fcinder~master~Ib3dbc781ed4710c5c2453e4454421f23997c4402,openstack/cinder,master,bug/1727960,Ib3dbc781ed4710c5c2453e4454421f23997c4402,DS8K: update replication_status in generic group APIs,MERGED,2017-10-30 09:08:55.000000000,2018-02-25 14:34:58.000000000,2017-11-29 01:11:48.000000000,61,25,0,516221,26633df36006b7ed6054d936290683afc035da95,56,40,1,2,26422,Peng Wang,wangpeng,"DS8K: update replication_status in generic group APIs

In create_group and create_group_from_src, DS8K driver forgot to update
replication_status of group and its volumes if their type have enabled
replication, this patch tries to fix them.

Change-Id: Ib3dbc781ed4710c5c2453e4454421f23997c4402
Closes-Bug: 1727960
"
openstack%2Fcinder~driverfixes%2Fnewton~Id5122dd9be973000831598fddc9e6f084ec2b7db,openstack/cinder,driverfixes/newton,backport-compatibility-issue-fix-to-N,Id5122dd9be973000831598fddc9e6f084ec2b7db,Fix a compatibility issue after Huawei driver upgrade,MERGED,2017-09-07 01:05:52.000000000,2018-02-25 14:34:53.000000000,2017-10-28 14:10:13.000000000,3,3,1,501503,6c5bb4ddda01d0f563609ad878dfe1499635770c,47,20,3,1,16203,zengyingzhe,zengyingzhe,"Fix a compatibility issue after Huawei driver upgrade

Previously Huawei driver changed the storing place for it's private
data, if upgrade to this new version driver, and there's already an
existing volume created by old driver, there's a compatibility issue
of getting hypermetro_id property, which will result deleting volume
failed while there's no hypermetro configuration exist.

This patch fixes this issue.

Change-Id: Id5122dd9be973000831598fddc9e6f084ec2b7db
(cherry picked from commit 083dfbbc8109924786ecc9f0c96559aa22041d4f)
(cherry picked from commit 96d6dae34f7f4696553928ac30b50f9d44e944f3)
(cherry picked from commit 18814a478d348acc65503ca1a6d31a07a63dbbb0)
"
openstack%2Fcinder~stable%2Fpike~I5b31082296f5bff5089d0f42a62d44bb009d177d,openstack/cinder,stable/pike,feature/fix-fz-bug,I5b31082296f5bff5089d0f42a62d44bb009d177d,Move 'zoning_mode' back to DEFAULT section,MERGED,2017-10-24 08:09:03.000000000,2018-02-25 14:34:51.000000000,2017-10-27 05:11:39.000000000,3,2,0,514555,85a963a5c68a12efe7a7251689028e0b2bd398a9,68,22,4,1,24952,Vivek Soni,sonivi,"Move 'zoning_mode' back to DEFAULT section

We moved 'zoning_mode' option to 'backend_defaults'
section since patch: [1]. But it has two issues:

1. It can not work because we still fetch the value
from the default section [2].
2. From the view of our current design. It's only
used in our framework code, which means it still can
not work if we overwrite the default value in one
specific backend section, such as:

[backend_defaults]
zoning_mode=fabric
[lvmbackend_1]
zoning_mode=other_value

Move this option back to DEFAULT section until we
need to.

Closes-Bug: #1724418

[1]: https://review.openstack.org/#/c/453654/
[2]: https://github.com/openstack/cinder/blob/master/cinder/zonemanager/utils.py#L56

Change-Id: I5b31082296f5bff5089d0f42a62d44bb009d177d
(cherry picked from commit 34287e3fa351db5e5b00cd0cf1affac07d9e6d34)
"
openstack%2Fcinder~driverfixes%2Fnewton~Iee27c0368522c90525a4b8ad757f9fb89dc293a0,openstack/cinder,driverfixes/newton,backport-migration-issue-to-N,Iee27c0368522c90525a4b8ad757f9fb89dc293a0,Fix a migration issue of Huawei driver,MERGED,2017-10-26 06:20:53.000000000,2018-02-25 14:34:45.000000000,2017-10-28 14:10:11.000000000,17,12,0,515287,83307e743b07928306b2a22fb0033289c08a59f4,17,13,1,2,16203,zengyingzhe,zengyingzhe,"Fix a migration issue of Huawei driver

While migrating volume crossing backends by the host-based way,
after data copying is done, Huawei driver's update_migrated_volume
method doesn't return the provider_location property, which
results old and new volumes' provider_locations aren't swapped as
expected, afterwards, while deleting the old volume, new volume's
provider_location will be used and the if-volume-exist-check fails
because it verifies the new volume's LUN ID actually on the old
backend, which certainly doesn't exist.

This patch fixes this issue.

Change-Id: Iee27c0368522c90525a4b8ad757f9fb89dc293a0
(cherry picked from commit 011daa9b463043a15f9e97986ecce6233ac72de5)
(cherry picked from commit f811487fca78d934b19baeb3e8aba3439d7e9db2)
"
openstack%2Fcinder~master~Ib255407f9bf384935b232e8aa3941c22e91eefef,openstack/cinder,master,DellSCPS_ciwiki,Ib255407f9bf384935b232e8aa3941c22e91eefef,Dell EMC: Update PS and SC CI wiki names,MERGED,2017-10-25 18:16:41.000000000,2018-02-25 14:34:43.000000000,2017-10-27 02:49:15.000000000,3,3,3,515159,8f8b7ee8b139c5c8d2c2cdcf344b3125bba1e842,56,36,2,3,10379,Rajini Karthik,rajinir,"Dell EMC: Update PS and SC CI wiki names

Updated the new thrid party CI systems wiki names

Change-Id: Ib255407f9bf384935b232e8aa3941c22e91eefef
"
openstack%2Fcinder~stable%2Fpike~I945300cac84658bbd25182ba615645af881920f8,openstack/cinder,stable/pike,bug/1724929,I945300cac84658bbd25182ba615645af881920f8,ScaleIO Driver - include snap usage in provisioned capacity,MERGED,2017-10-24 23:25:12.000000000,2018-02-25 14:34:38.000000000,2017-10-30 22:35:04.000000000,4,0,0,514860,a36d041c2afa2549f50e7674a054d096af10b9f1,29,17,2,2,25033,Eric Young,tssgery,"ScaleIO Driver - include snap usage in provisioned capacity

Provisioned capacity of storage pools was not correctly accounting
for space used by snapshots.

Change-Id: I945300cac84658bbd25182ba615645af881920f8
Closes-Bug: #1724929
(cherry picked from commit 64180530c14e1d0829788eda1ccb0efc938fbd8e)
"
openstack%2Fcinder~driverfixes%2Focata~I81dc6f1ac5855b21c10572797fd45a6b38641112,openstack/cinder,driverfixes/ocata,,I81dc6f1ac5855b21c10572797fd45a6b38641112,"Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""",MERGED,2017-10-25 15:40:56.000000000,2018-02-25 14:34:37.000000000,2017-10-26 02:41:21.000000000,0,12,0,515111,a4d87d68013f8c56684ec3e315da89d658a23386,18,13,1,1,4523,Eric Harney,eharney,"Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""

This is currently causing unit test failures since
pymysql _show_warnings calls
    warnings.warn(err.Warning(*w[1:3]), stacklevel=4)
and this code assumes that the warnings are strings.

This reverts commit ed6d50bed642b01d005563866ab9f211632cff5b.

Change-Id: I81dc6f1ac5855b21c10572797fd45a6b38641112
(cherry picked from commit cc6c5b10867544ec0e2cbc73802ec8ee6213bc7a)
"
openstack%2Fcinder~master~I17537742a4c1421f2bd0561d2c48c5ae56d89026,openstack/cinder,master,remove-builds,I17537742a4c1421f2bd0561d2c48c5ae56d89026,Remove doc/build before running docs job,MERGED,2017-10-17 06:58:02.000000000,2018-02-25 14:34:35.000000000,2017-10-27 00:19:44.000000000,1,1,2,512507,b7048784b1bb152e69ab195dfa76c1e7a376b1f7,56,27,3,1,25456,junboli,junboli,"Remove doc/build before running docs job

Clear doc/build directory before running docs job may better guarantee
each building output the newest docs.

Change-Id: I17537742a4c1421f2bd0561d2c48c5ae56d89026
"
openstack%2Fcinder~master~I81dc6f1ac5855b21c10572797fd45a6b38641112,openstack/cinder,master,,I81dc6f1ac5855b21c10572797fd45a6b38641112,"Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""",MERGED,2017-10-23 19:46:33.000000000,2018-02-25 14:34:14.000000000,2017-10-24 14:19:46.000000000,0,12,0,514442,cc6c5b10867544ec0e2cbc73802ec8ee6213bc7a,37,29,1,1,4523,Eric Harney,eharney,"Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""

This is currently causing unit test failures since
pymysql _show_warnings calls
    warnings.warn(err.Warning(*w[1:3]), stacklevel=4)
and this code assumes that the warnings are strings.

This reverts commit ed6d50bed642b01d005563866ab9f211632cff5b.

Change-Id: I81dc6f1ac5855b21c10572797fd45a6b38641112
"
openstack%2Fcinder~master~I862ec2d06c169562aa8bbc95ab202cd5eb88440d,openstack/cinder,master,infinidat,I862ec2d06c169562aa8bbc95ab202cd5eb88440d,INFINIDAT: add support for overprovisioning,MERGED,2017-09-05 12:05:28.000000000,2018-02-25 14:33:42.000000000,2017-10-26 14:37:03.000000000,20,2,2,500783,88080cb45c1aaadae3aa284384ce595ff4a9a067,168,44,5,3,22683,Arnon Yaari,arnony,"INFINIDAT: add support for overprovisioning

The driver reports max_over_subscription_ratio as defined by the user
in the cinder configuration file, in addition to whether the volumes
are thin-provisioned or not. This allows overprovisioning in
thin-provisioned volumes in InfiniBox.

Change-Id: I862ec2d06c169562aa8bbc95ab202cd5eb88440d
"
openstack%2Fcinder~master~I597971a29ec61a1bf8c991b2715ec7644b2e2692,openstack/cinder,master,bp/policy-in-code,I597971a29ec61a1bf8c991b2715ec7644b2e2692,Add policy documentation and sample file,MERGED,2017-10-16 07:01:43.000000000,2018-02-25 14:33:41.000000000,2017-10-26 05:54:09.000000000,58,21,6,512187,988f79479e012ea5378f4c154a041f6000785a43,89,31,5,13,23083,TommyLike,TommyLike,"Add policy documentation and sample file

This patch adds documentation and sample
file for default policy in code feature.

Change-Id: I597971a29ec61a1bf8c991b2715ec7644b2e2692
Partial-Implements: blueprint policy-in-code
"
openstack%2Fcinder~stable%2Fpike~I4c154b15991fd624d91bd3e3472d25c714fb8525,openstack/cinder,stable/pike,bug/1722769-stable/pike,I4c154b15991fd624d91bd3e3472d25c714fb8525,DS8000 ConsistencyGroup failed to update group with volumes,MERGED,2017-10-19 10:55:08.000000000,2018-02-25 14:33:39.000000000,2017-10-29 23:08:51.000000000,1,1,0,513350,388fb6b87dbfdabfc090622fc128cbc1275f1c52,18,13,1,1,20050,MonicaJoshi,MonicaJoshi,"DS8000 ConsistencyGroup failed to update group with volumes

While adding a volume to ConsistencyGroup the failed with TypeError: sequence
item 0: expected string, tuple found.  This could have happened if the driver
did not find the specified LSS pairs matching that of the available volume
pools.  The driver intended to throw an error message with available_lss_pairs
but failed to concatinate the data to the error message with TypeError
exception.

The proposed fix attempts to address this issue by simplifying the
concat of available_lss_pairs as string and then adding to error message.

Closes-bug: #1722769

Change-Id: I4c154b15991fd624d91bd3e3472d25c714fb8525
(cherry picked from commit 75a1849c9854cd5f8d366de6087e50eff9b595e4)
"
openstack%2Fcinder~master~I149a9de82fc1003b88e0c0852a0b64634f0c622e,openstack/cinder,master,bug/1540750,I149a9de82fc1003b88e0c0852a0b64634f0c622e,"Add index for reservations on (deleted, uuid)",MERGED,2016-02-02 07:34:19.000000000,2018-02-25 14:33:38.000000000,2017-10-18 22:10:03.000000000,42,0,2,275047,12819a1b6d78f253f795e7992b93ebfb8347e884,156,69,5,3,11676,wuyuting,wuyuting,"Add index for reservations on (deleted, uuid)

The query for uuid_reservations currently does a full table scan.
This adds an index so frequent invocations of uuid does not bog
down the database.

Change-Id: I149a9de82fc1003b88e0c0852a0b64634f0c622e
Closes-Bug: #1540750
"
openstack%2Fcinder~stable%2Fpike~I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,openstack/cinder,stable/pike,bug/1692775,I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,Run backup compression on native thread,MERGED,2017-10-18 12:30:41.000000000,2018-02-25 14:33:36.000000000,2017-10-18 21:50:29.000000000,49,4,0,513016,439f90da8e4c1cfa1acfe36b5ea8a6c5bae6139f,12,7,1,4,9535,Gorka Eguileor,Gorka,"Run backup compression on native thread

Backup data compression is a CPU bound operation that will not yield to
other greenthreads, so given enough simultaneous backup operations they
will lead to other threads' starvation.

This is really problematic for DB connections, since starvation will
lead to connections getting dropped with errors such as ""Lost connection
to MySQL server during query"".

Detailed information on why these connections get dropped can be found
in comment ""[31 Aug 2007 9:21] Magnus Bludd"" on this MySQL bug [1].

These DB issues may result in backups unnecessary ending in an ""error""
state.

This patch fixes this by moving the compression to a native thread so
the cooperative multitasking in Cinder Backup can continue switching
threads.

[1] https://bugs.mysql.com/bug.php?id=28359

Closes-Bug: #1692775
Closes-Bug: #1719580
Change-Id: I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5
(cherry picked from commit af0f00bc52f79d9395adfe0575b0dbe353e18bbe)
"
openstack%2Fcinder~master~Id66d3f0fe36cf7c32ef3875bf5fcb1c7a4678273,openstack/cinder,master,bp/remotefs-revert-snapshot,Id66d3f0fe36cf7c32ef3875bf5fcb1c7a4678273,RemoteFS: revert snapshot support,MERGED,2017-10-06 08:33:06.000000000,2018-02-25 14:33:35.000000000,2017-11-15 12:56:18.000000000,191,6,12,510016,413664d11ca002c49a41c9d2e2efa85afeaca791,162,45,7,5,26415,Alexandru Muresan,amuresan,"RemoteFS: revert snapshot support

This change implements the 'revert_to_snapshot' method at the remotefs
base driver level in a generic way. This should work right away with
most (if not all) remotefs based drivers.

Note that we only consider the case in which the latest snapshot is
being reverted (the Cinder API won't allow reverting volumes to other
snapshots anyway, at least for the time being).

The RemoteFS based drivers (e.g. NFS driver, SMB driver) use COW images
(e.g. qcow2, differencing vhdx) in order to provide volume snapshot
functionality. Reverting a volume to its latest snapshot is a trivial
operation in this case and can be achived by simply cleaning up (e.g.
recreating) the latest image from chain.

In order to avoid breaking drivers, the 'revert_to_snapshot' method
is implemented in a mixin that may be inherited by any RemoteFS based
driver.

Implements: blueprint remotefs-revert-snapshot

Change-Id: Id66d3f0fe36cf7c32ef3875bf5fcb1c7a4678273
"
openstack%2Fcinder~master~I4b8d99966f387f51c1125ba72c1ce149229a8bc0,openstack/cinder,master,flashsystem_hostmap,I4b8d99966f387f51c1125ba72c1ce149229a8bc0,FlashSystem: Add CMMVC6045E CLI error for multi-host mapping,MERGED,2017-10-12 23:20:50.000000000,2018-02-25 14:33:33.000000000,2017-10-27 03:54:29.000000000,72,13,2,511645,421837ab4a3244022ad8292ad1ef0de37e9de532,67,28,3,2,27059,John Cates,jccates,"FlashSystem: Add CMMVC6045E CLI error for multi-host mapping

Add CMMVC6045E to list of CLI error codes indicating a multi-host
map was attempted without the '-force' parameter. Re-raise on
match failure to avert spurious success when an unexcepted CLI
error is emitted. Add good and bad-path testing for multi-host
map to test_flashsystem_map_vdisk_to_host

Change-Id: I4b8d99966f387f51c1125ba72c1ce149229a8bc0
Closes-Bug: #1723188
"
openstack%2Fcinder~master~I04b188d1300979b3b4b070781c6c2105f638b649,openstack/cinder,master,bug/1706729,I04b188d1300979b3b4b070781c6c2105f638b649,NEC driver: Never use target info in migration_status,MERGED,2017-10-13 07:06:53.000000000,2018-02-25 14:33:31.000000000,2017-10-20 20:28:44.000000000,75,124,1,511737,a638f483fb41df4f4acc0b0f42d289ba711333e5,74,32,3,2,23885,Shunei Shiono,s-shiono,"NEC driver: Never use target info in migration_status

NEC driver uses target info in migration_status at volume creation.
The target info will be deleted from migration_status in future
cinder version. This patch change the driver not to use target info
in migration_status.

Change-Id: I04b188d1300979b3b4b070781c6c2105f638b649
Partial-Bug: #1706729
"
openstack%2Fcinder~driverfixes%2Fnewton~Ie927d2ee5f1f1a61d8309049ea7630f73f614cc5,openstack/cinder,driverfixes/newton,bug/1659600,Ie927d2ee5f1f1a61d8309049ea7630f73f614cc5,Dell EMC SC: Delete doesn't account for migration,MERGED,2017-10-16 16:27:44.000000000,2018-02-25 14:33:14.000000000,2017-10-30 19:46:40.000000000,46,11,0,512349,9cbe5748674cf897be09df92b174f87669fbc67a,17,13,1,4,9535,Gorka Eguileor,Gorka,"Dell EMC SC: Delete doesn't account for migration

The function delete_volume is unaware of migration. The volume object
sent down to delete_volume from retype with migration is a mix of the new
and old volumes. In addition to this the Dell EMC API function delete_volume
doesn't validate provider_id to ensure it is for the current back end.

Both of thse are fixed by this patch.

Change-Id: Ie927d2ee5f1f1a61d8309049ea7630f73f614cc5
Closes-Bug: #1659600
(cherry picked from commit 0a36a89bc8caac67777eda8dbbe344c52dc424c3)
"
openstack%2Fcinder~master~I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,openstack/cinder,master,bug/1692775,I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,Run backup compression on native thread,MERGED,2017-09-26 11:59:36.000000000,2018-02-25 14:32:56.000000000,2017-10-17 18:08:26.000000000,49,4,7,507510,af0f00bc52f79d9395adfe0575b0dbe353e18bbe,142,48,4,4,9535,Gorka Eguileor,Gorka,"Run backup compression on native thread

Backup data compression is a CPU bound operation that will not yield to
other greenthreads, so given enough simultaneous backup operations they
will lead to other threads' starvation.

This is really problematic for DB connections, since starvation will
lead to connections getting dropped with errors such as ""Lost connection
to MySQL server during query"".

Detailed information on why these connections get dropped can be found
in comment ""[31 Aug 2007 9:21] Magnus Bludd"" on this MySQL bug [1].

These DB issues may result in backups unnecessary ending in an ""error""
state.

This patch fixes this by moving the compression to a native thread so
the cooperative multitasking in Cinder Backup can continue switching
threads.

[1] https://bugs.mysql.com/bug.php?id=28359

Closes-Bug: #1692775
Closes-Bug: #1719580
Change-Id: I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5
"
openstack%2Fcinder~master~I75d4ca19f87fe1930cf54b554b7e232632a4a21c,openstack/cinder,master,switch_to_stestr,I75d4ca19f87fe1930cf54b554b7e232632a4a21c,Switch from ostestr to stestr,MERGED,2017-09-29 21:44:37.000000000,2018-02-25 14:32:47.000000000,2017-10-15 22:00:51.000000000,8,5,3,508624,f93bc791bf0e788873dbdeaaa4f429b4f12f20e0,80,31,6,2,2243,John Griffith,john-griffith,"Switch from ostestr to stestr

This change just updates the tox.ini file to call stestr directly
instead of going through ostestr.

For more background you can read the ML posting:
    https://goo.gl/TFvcxy

So now you won't need `--n` to run single tests, and you can also
supply regex directly without even the `--`.  For example:
  `tox -epy27 $regex`

Change-Id: I75d4ca19f87fe1930cf54b554b7e232632a4a21c
"
openstack%2Fcinder~master~I4c24cd397f513648e2c2214fc4f87cf5367233ac,openstack/cinder,master,bp/disco-driver-update-option-name,I4c24cd397f513648e2c2214fc4f87cf5367233ac,Update configuration names in ITRI DISCO volume driver,MERGED,2017-05-02 07:47:32.000000000,2018-02-25 14:32:45.000000000,2017-10-13 18:24:57.000000000,36,6,10,461665,1a3f91662c383f105a74638c84655689ab5eac60,420,62,21,4,19576,Guy Kim,Guy,"Update configuration names in ITRI DISCO volume driver

This commit is to update and deprecate the name of some configuration
names:

* ""san_api_port"" is new config option added in san driver
* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""
* ""disco_src_api_port"" is marked as deprecated and will be replaced with
  ""san_ssh_port""

It also includes the changes in the unit tests.

Change-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac
Implements: blueprint disco-driver-update-option-name
"
openstack%2Fcinder~master~I183ed48e3d66a45864a17bb9785745c64aefa626,openstack/cinder,master,openstack/requirements,I183ed48e3d66a45864a17bb9785745c64aefa626,Updated from global requirements,MERGED,2017-10-10 20:47:35.000000000,2018-02-25 14:32:44.000000000,2017-10-13 18:25:19.000000000,3,3,0,511028,186d7f5a7550fa5c45f63e0fd00e1b142684385f,98,34,6,2,11131,OpenStack Proposal Bot,proposal-bot,"Updated from global requirements

Change-Id: I183ed48e3d66a45864a17bb9785745c64aefa626
"
openstack%2Fcinder~master~Idf27d5fd09365374330ad0d4c0448f68f3cc03e8,openstack/cinder,master,policy-and-docs-in-code,Idf27d5fd09365374330ad0d4c0448f68f3cc03e8,[policy in code] Add support for qos and quota resources,MERGED,2017-09-28 09:02:58.000000000,2018-02-25 14:32:42.000000000,2017-10-15 16:54:41.000000000,253,55,3,508091,5a099de01a275e10426ef2b6e2c87836a2130b7b,96,34,5,9,23083,TommyLike,TommyLike,"[policy in code] Add support for qos and quota resources

This patch adds policy in code support for qos, quota,
quota class resources and depends on the group&group
snapshot patch.

[1]: https://review.openstack.org/#/c/507812/

Change-Id: Idf27d5fd09365374330ad0d4c0448f68f3cc03e8
Partial-Implements: blueprint policy-in-code
"
openstack%2Fcinder~master~Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf,openstack/cinder,master,bp/generic-backup-implementation,Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf,Add ability to specify backup driver via class name,MERGED,2017-06-26 09:54:51.000000000,2018-02-25 14:32:40.000000000,2017-10-13 04:45:47.000000000,56,24,4,477472,de2ffaff36e3713e3862b15816f59c4d3dd8abca,321,57,12,4,1736,Ivan Kolodyazhny,e0ne,"Add ability to specify backup driver via class name

This patch also deprecates backup driver initialization using module
name.

Change-Id: Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf
Related-Blueprint: generic-backup-implementation
"
openstack%2Fcinder~stable%2Fpike~I41697632d48f7cbcbe008867671f8196b5543c94,openstack/cinder,stable/pike,bug/1702291-stable/pike,I41697632d48f7cbcbe008867671f8196b5543c94,ibm-storage: enable FC zonning to all ports,MERGED,2017-10-10 17:30:23.000000000,2018-02-25 14:32:39.000000000,2017-10-12 20:17:51.000000000,40,14,0,510962,cbdcc242fd7985716ae984d53d583c483119014a,20,16,1,2,14532,Gerald McBrearty,gfm,"ibm-storage: enable FC zonning to all ports

During 'initialize_connection' we rely on the storage ability to know
which hosts can access it. This is in some cases not accurate. So we
need to enable hosts to connect to all the storage FC ports.

Change-Id: I41697632d48f7cbcbe008867671f8196b5543c94
Closes-Bug: #1702291
(cherry picked from commit 6d3d64c6bbafb57a8b34554d4baef115cc17d962)
"
openstack%2Fcinder~master~I861d61dd11f982a8a54b57b6a6c895e6ebe399c0,openstack/cinder,master,bug/1720063,I861d61dd11f982a8a54b57b6a6c895e6ebe399c0,VNX: Fix issue when creating without type,MERGED,2017-09-28 06:45:37.000000000,2018-02-25 14:32:38.000000000,2017-10-19 20:08:28.000000000,27,20,6,508064,5345f8cb9c8ec416aa5d764ea5ea47e3ff4d8d1d,203,45,5,2,10628,Peter Wang,peter_wang,"VNX: Fix issue when creating without type

When creating a volume without type, a error will be thrown:

AttributeError: 'NoneType' object has no attribute 'qos_specs'

This issue was introduced in qos patch:
https://review.openstack.org/#/c/441786/

Change-Id: I861d61dd11f982a8a54b57b6a6c895e6ebe399c0
Closes-bug: #1720063
"
openstack%2Fcinder~master~I2099b804a2043078e50a5a9e14c1497861576f61,openstack/cinder,master,bug/1720147,I2099b804a2043078e50a5a9e14c1497861576f61,Kaminario K2: Support duplicated FQDN in network,MERGED,2017-09-28 14:14:18.000000000,2018-02-25 14:32:09.000000000,2017-10-11 18:52:07.000000000,46,3,0,508167,baa8626eac9c975b719c03274d42b54ce3de74fe,119,43,2,3,9535,Gorka Eguileor,Gorka,"Kaminario K2: Support duplicated FQDN in network

The Kaminario K2 driver uses the FQDN of the node that is doing the
attach as an unique identifier to map the volume.

The problem is that the FQDN is not always unique, there are
environments where the same FQDN can be found in different systems, and
in those cases if both try to attach volumes the second system will
fail.

One example of this happening would be on a QA environment where you are
creating VMs and they all have names like controller-0.localdomain and
compute-0.localdomain.

This patch adds a configuration option to the K2 driver called
`unique_fqdn_network` to support these kind of environments.

Closes-Bug: #1720147
Change-Id: I2099b804a2043078e50a5a9e14c1497861576f61
"
openstack%2Fcinder~master~I2f9ee172306bf5a99575e0cb6f5eac0ea87b0483,openstack/cinder,master,fix-doc,I2f9ee172306bf5a99575e0cb6f5eac0ea87b0483,Switch base to the latest in doc link address,MERGED,2017-09-09 15:15:52.000000000,2018-02-25 14:31:54.000000000,2017-10-31 03:58:22.000000000,6,6,0,502249,dbb60106e75550b21d08f781de69fbcdf5eec9d1,76,35,3,6,25456,junboli,junboli,"Switch base to the latest in doc link address

Although we had some effort to fix these before, it still left lots
of outdated link address, this patch is to fix them all.

Change-Id: I2f9ee172306bf5a99575e0cb6f5eac0ea87b0483
"
openstack%2Fcinder~master~I93d5610013c17c5344de27d7f3ed5d5b89ba83ee,openstack/cinder,master,,I93d5610013c17c5344de27d7f3ed5d5b89ba83ee,Remove API check is_valid_body,MERGED,2017-10-03 20:38:22.000000000,2018-02-25 14:31:52.000000000,2017-10-10 04:24:07.000000000,28,64,0,509283,79d8f87ea679afab17347a6af828eef4b52e8e13,67,38,3,6,11904,Sean McGinnis,SeanM,"Remove API check is_valid_body

This boolean check was kept around for compatibility for the v1
API. New APIs use (or should use) the assert_valid_body call that
throws a valid exception for missing body elements.

Now that the v1 API has been removed, this removes is_valid_body
and makes sure all remaining instances to the assert call.

Change-Id: I93d5610013c17c5344de27d7f3ed5d5b89ba83ee
"
openstack%2Fcinder~master~I23867aa98f68298beb5db4558c66c1ffd4e7d6f1,openstack/cinder,master,ci_unsupported,I23867aa98f68298beb5db4558c66c1ffd4e7d6f1,Remove Hitachi volume drivers,MERGED,2017-09-26 23:45:37.000000000,2018-02-25 14:31:51.000000000,2017-10-10 14:15:41.000000000,6,18996,2,507709,55d726e5c366834a4dc3131326e9bd3850a6e22f,126,42,5,35,11904,Sean McGinnis,SeanM,"Remove Hitachi volume drivers

Hitachi has decided to provide their drivers out of tree [1]. The
drivers were marked as unsupported in-tree in the Pike release and
are now being removed.

[1] http://lists.openstack.org/pipermail/openstack/2017-March/018812.html

Change-Id: I23867aa98f68298beb5db4558c66c1ffd4e7d6f1
Closes-bug: #1652864
Closes-bug: #1671966
Closes-bug: #1677688
Closes-bug: #1677923
Closes-bug: #1645738
"
openstack%2Fcinder~master~I935990d09f1374a8789b2a0dad8e8a334aa39abc,openstack/cinder,master,ci_unsupported,I935990d09f1374a8789b2a0dad8e8a334aa39abc,Remove Violin volume drivers,MERGED,2017-09-06 16:03:26.000000000,2018-02-25 14:31:49.000000000,2017-10-08 03:19:08.000000000,1,4428,0,501334,46ee7ebdeb5bd5017c2e11a9c20fe5c160c76f36,135,44,3,15,11904,Sean McGinnis,SeanM,"Remove Violin volume drivers

These drivers were marked as deprecated and unsupported in Pike due to
lack of CI. This has not changed and they will now be removed.

Change-Id: I935990d09f1374a8789b2a0dad8e8a334aa39abc
"
openstack%2Fcinder~stable%2Fpike~I1e82bf9d0b6cc0fb1d1fc2dd8b8ccc59aea3f73f,openstack/cinder,stable/pike,bug/1706060,I1e82bf9d0b6cc0fb1d1fc2dd8b8ccc59aea3f73f,RBD: Fix stats reporting,MERGED,2017-09-06 15:31:27.000000000,2018-02-25 14:31:48.000000000,2017-10-06 13:19:44.000000000,196,83,0,501316,8d7f37e810d3228d8b79e4add1a383abe516d9bb,44,26,2,3,9535,Gorka Eguileor,Gorka,"RBD: Fix stats reporting

Current RBD code is incorrectly reporting the stats of the pool in the
following ways:

- `provisioned_capacity_gb` contains physical space used by cinder created
  volumes.
- `free_capacity_gb` is not taking into account that pools can have quota
  restrictions and they should be used as the reference for the free capacity.
- `total_capacity` dynamically changes, which means that there is no way to
  have a fixed over provisioning capacity.

This patch fixes the stats reporting making sure we return the right
values in `provisioned_capacity_gb` and `free_capacity_gb`, and allows
us to use a static calculation of the `total_capacity` using
`report_dynamic_total_capacity` configuration option.

We don't report `allocated_capacity_gb` because this is something that
is calculated by the Cinder core code and should not be reported by
drivers, even if it's not currently working as expected [1][2].

[1] https://bugs.launchpad.net/cinder/+bug/1712549
[2] https://bugs.launchpad.net/cinder/+bug/1706057

Change-Id: I1e82bf9d0b6cc0fb1d1fc2dd8b8ccc59aea3f73f
Closes-Bug: #1706060
(cherry picked from commit 8469109016bcfd5806e230202e1996a8ba649535)
Conflicts:
	cinder/tests/unit/volume/drivers/test_rbd.py
	cinder/volume/drivers/rbd.py
"
openstack%2Fcinder~master~I7d7c4f7d9f9cc94d9ef4e0d5d430513cb3581f16,openstack/cinder,master,use_refresh,I7d7c4f7d9f9cc94d9ef4e0d5d430513cb3581f16,Cleanup some todo's for refresh(),MERGED,2017-10-04 21:17:22.000000000,2018-02-25 14:31:46.000000000,2017-10-05 05:56:11.000000000,8,12,0,509640,250a529cfd3fe9b232a8d47e7d3419853fb2127a,33,29,1,2,11904,Sean McGinnis,SeanM,"Cleanup some todo's for refresh()

There were some TODO tags in the code to switch to using object refresh()
calls once that was available. We have that now, so clean up and switch a
few instances to call refresh instead of fetching a new object.

Change-Id: I7d7c4f7d9f9cc94d9ef4e0d5d430513cb3581f16
"
openstack%2Fcinder~driverfixes%2Focata~Ic4c7fd66858039db3f9d09a0babd5601b25a95e3,openstack/cinder,driverfixes/ocata,bug/1718762-driverfixes/ocata,Ic4c7fd66858039db3f9d09a0babd5601b25a95e3,Brocade: Add HTTP connection cleanup,MERGED,2017-10-04 19:51:33.000000000,2018-02-25 14:31:45.000000000,2017-10-28 03:05:01.000000000,5,1,0,509614,516b56ee13024e638338d92453cfbe8169f116e5,31,16,1,1,8757,Angela Smith,asmith_brcd,"Brocade: Add HTTP connection cleanup

Method for get device mapping opens
connection to the switch but does not
close the connection.  Add finally
block to close the session.

Closes Bug: #1718762

Change-Id: Ic4c7fd66858039db3f9d09a0babd5601b25a95e3
"
openstack%2Fcinder~master~Id5e59fce2ea5958bfcd4fbadb609f8f6cad42aa8,openstack/cinder,master,bug/1714503,Id5e59fce2ea5958bfcd4fbadb609f8f6cad42aa8,VMAX driver - remove WLP stats,MERGED,2017-09-01 13:46:11.000000000,2018-02-25 14:31:43.000000000,2017-10-04 23:46:01.000000000,16,138,1,500056,635e892cc8e7541e83697792c9f45d056460c845,94,44,3,4,12670,Helen Walsh,walshh2,"VMAX driver - remove WLP stats

Workload Planner(WLP) headroom calculations are not always accurate
for All Flash arrays. Because WLP is generally always enabled on
Unisphere, it is best use SRP calculations instead.

Change-Id: Id5e59fce2ea5958bfcd4fbadb609f8f6cad42aa8
Closes-Bug: #1714503
"
openstack%2Fcinder~master~I651699e42c28c05fc8fd71cfeef54d98839c1a29,openstack/cinder,master,isoformat_date,I651699e42c28c05fc8fd71cfeef54d98839c1a29,Generate create_at date in usage in isoformat for backups/snapshots,MERGED,2017-10-03 13:08:47.000000000,2018-02-25 14:31:29.000000000,2017-10-19 20:08:02.000000000,9,6,0,509169,ba8dc73cd2964fe81553e76df7bdf7d88d9a70ed,42,28,1,3,25568,Luis Pigueiras,lpigueiras,"Generate create_at date in usage in isoformat for backups/snapshots

Change the format of the dates when generating notifications
for snapshots and backups. This was generating a format problem
when inserting events into Elasticsearch via Panko, due to an invalid
format (YYYY-MM-DD HH:mm:ssZ to YYYY-MM-DDTHH:mm:ssZ)

Change-Id: I651699e42c28c05fc8fd71cfeef54d98839c1a29
"
openstack%2Fcinder~master~I008cd9089568c5ba084f9c1dacb1ab6e47fc7362,openstack/cinder,master,cisco-fc-zm-unsupported,I008cd9089568c5ba084f9c1dacb1ab6e47fc7362,Mark Cisco FC ZM driver as unsupported,MERGED,2017-09-28 19:20:23.000000000,2018-02-25 14:31:16.000000000,2017-10-27 21:28:02.000000000,18,0,0,508275,c92c428233df7b42bea05bf5468771c07fa8e51b,76,31,1,2,7198,Jay Bryant,jsbryant,"Mark Cisco FC ZM driver as unsupported

The Cisco Fibre Channel Zone Manager CI has not run
successfully during the required period:

Checking name: Cisco CI
  first seen: 2017-02-14 06:07:46 (226 days, 11:04:34 old)
  last seen: 2017-03-03 16:52:40 (209 days, 0:19:40 old)
  last success: 2017-02-23 17:09:46 (217 days, 0:02:34 old)
  Job cisco_zm_cinder 48% success out of 250 comments S=122, F=128
      last success: 2017-02-23 17:09:46 (217 days, 0:02:34 old)

Per Cinder's non-compliance policy, this patch marks the driver
as unsupported and deprecated.  The driver will be removed in
the next cycle if the problem is not corrected.

Change-Id: I008cd9089568c5ba084f9c1dacb1ab6e47fc7362
"
openstack%2Fcinder~master~Iccf87ee22c4e8dce03067fc3435aea1bbb33f61e,openstack/cinder,master,,Iccf87ee22c4e8dce03067fc3435aea1bbb33f61e,Reserve 5 migrations for DB backports,MERGED,2018-02-22 16:53:02.000000000,2018-02-25 14:31:08.000000000,2018-02-23 04:07:04.000000000,110,0,0,547068,139bb49770586a87f485f7a1038b76ad2c6d9a1c,43,33,1,5,4523,Eric Harney,eharney,"Reserve 5 migrations for DB backports

Reserve 5 database migrations in case we need to
backport changes to the stable/queens branch.

Change-Id: Iccf87ee22c4e8dce03067fc3435aea1bbb33f61e
"
openstack%2Fcinder~stable%2Fqueens~I117319ac12991e4b46170fe71d18a65ea4c98556,openstack/cinder,stable/queens,bug/1750074,I117319ac12991e4b46170fe71d18a65ea4c98556,Cinder logs rabbitmq password on connection log,MERGED,2018-02-17 19:15:18.000000000,2018-02-25 14:30:41.000000000,2018-02-20 22:32:38.000000000,1,0,0,545622,ca9bf2d1c56605a565ffc468bb91fb5d58ef5ce9,56,18,3,1,11269,Marga Millet,marga,"Cinder logs rabbitmq password on connection log

Cinder displays rabbitmq password if debug is enabled.

Closes-Bug: 1750074
Change-Id: I117319ac12991e4b46170fe71d18a65ea4c98556
(cherry picked from commit 919dd16a35ef2d0fd2ee4911398ba7830c02c6fd)
"
openstack%2Fcinder~master~I53e94a827c3ba31c7322e6faecfcc8ebf4a05b4a,openstack/cinder,master,add_multiattach_capability_to_solidfire,I53e94a827c3ba31c7322e6faecfcc8ebf4a05b4a,Add multiattach reporting to SolidFire,MERGED,2018-02-20 03:41:25.000000000,2018-02-25 14:30:21.000000000,2018-02-20 10:36:02.000000000,1,0,0,546023,0ab4bbccb83b0c6ab80ddb809239a7747981e43a,42,27,1,1,2243,John Griffith,john-griffith,"Add multiattach reporting to SolidFire

Wonders never cease!  Multiattach has landed, the cow jumped over
the moon and they put Humpty Dumpty back together again!

This change just addes multiattach=True to the SolidFire driver
now that everything has in fact landed.

Change-Id: I53e94a827c3ba31c7322e6faecfcc8ebf4a05b4a
"
openstack%2Fcinder~master~Id5a961c66a62e289a96daa7437374768ef407bb6,openstack/cinder,master,545978,Id5a961c66a62e289a96daa7437374768ef407bb6,Tests: Fix 3par tests with hash randomization,MERGED,2018-02-19 20:39:52.000000000,2018-02-25 14:30:15.000000000,2018-02-22 00:30:39.000000000,14,4,0,545978,91f19a8b75d7f95911e4762f7aeee984ba317f48,46,27,2,1,4523,Eric Harney,eharney,"Tests: Fix 3par tests with hash randomization

""fcwwns"" does not have a deterministic order -- account
for this in the unit test.

Change-Id: Id5a961c66a62e289a96daa7437374768ef407bb6
"
openstack%2Fcinder~master~I599b585444cbd51182d9f17fddd97bd91637e1e3,openstack/cinder,master,bug/1348818,I599b585444cbd51182d9f17fddd97bd91637e1e3,Tests: Fix NetApp tests with hash randomization,MERGED,2018-02-19 18:26:08.000000000,2018-02-25 14:30:12.000000000,2018-02-20 11:01:27.000000000,10,2,0,545949,3b13d77a263d787fce7d6e627ceda9e38fde2236,26,22,1,2,4523,Eric Harney,eharney,"Tests: Fix NetApp tests with hash randomization

Values in initiator target maps are ordered randomly depending
on the hash seed used -- account for this in unit tests.

Partial-Bug: #1715915

Change-Id: I599b585444cbd51182d9f17fddd97bd91637e1e3
"
openstack%2Fcinder~master~I4977ad687150b5a1d6f09a961fca4db5d768ef71,openstack/cinder,master,,I4977ad687150b5a1d6f09a961fca4db5d768ef71,Fix find -delete race in tox,MERGED,2018-02-19 18:08:09.000000000,2018-02-25 14:29:49.000000000,2018-02-20 00:35:19.000000000,1,1,0,545940,0368192a1f74f91c59739bab82dab1fddcd87c44,30,20,1,1,4523,Eric Harney,eharney,"Fix find -delete race in tox

If you launch py35 and py27 envs from the same
directory simultaneously, the find -delete commands
here will race against each other and cause a
failure.

Set the find option to ignore readdir races.

Change-Id: I4977ad687150b5a1d6f09a961fca4db5d768ef71
"
openstack%2Fcinder~master~I49a5e61345ce7c90a527367ae69a28ac04295865,openstack/cinder,master,use_correct_oslodb_fixtures,I49a5e61345ce7c90a527367ae69a28ac04295865,Use oslo_db.sqlalchemy.test_fixtures,MERGED,2018-02-19 15:52:44.000000000,2018-02-25 14:29:47.000000000,2018-02-19 22:42:58.000000000,26,7,0,545860,97bc3cb0c30ac8d6f394ce1dd5c04d1df425e908,32,20,3,1,11816,mike_mp@zzzcomputing.com,zzzeek,"Use oslo_db.sqlalchemy.test_fixtures

The change in Iaf77db73e368aee0d09b4c8e76f180f394f1aa37
makes use of oslo_db.tests.*, which was not the intent of the
deprecations added to oslo_db in
I0163e637ffef6d45d2573ebe29b5438911d01fce.   Make use of the
newer fixtures in oslo_db.sqlalchemy.test_fixtures which is
what was intended to supersede oslo_db.sqlalchemy.test_base.

Change-Id: I49a5e61345ce7c90a527367ae69a28ac04295865
"
openstack%2Fcinder~master~I68f78dc37973a5f29f4ef110b4ff08716f2288be,openstack/cinder,master,bug/1749953,I68f78dc37973a5f29f4ef110b4ff08716f2288be,Tests: Fix python version check,MERGED,2018-02-16 19:44:34.000000000,2018-02-25 14:29:33.000000000,2018-02-16 23:44:21.000000000,2,1,0,545441,3f0ccb746270e86bde9daeb61534e50b062f074e,28,23,1,1,4523,Eric Harney,eharney,"Tests: Fix python version check

This version check assumes that there will
never be a version of Python 3 after 3.5...

Related-Bug: #1749953

Change-Id: I68f78dc37973a5f29f4ef110b4ff08716f2288be
"
openstack%2Fcinder~driverfixes%2Fnewton~I5c6ad150543213acfd0c78dbbdb1dc1584d22d26,openstack/cinder,driverfixes/newton,bug/1632333,I5c6ad150543213acfd0c78dbbdb1dc1584d22d26,NetApp ONTAP: Copy offload bugfix,MERGED,2018-02-09 10:39:36.000000000,2018-02-25 14:28:58.000000000,2018-02-20 15:13:23.000000000,141,172,0,542771,5840e0e654e4c87e3d673b2a25c199e84a4af80c,54,19,5,4,10058,Erlon R. Cruz,sombrafam,"NetApp ONTAP: Copy offload bugfix

When 'NetApp NFS Copy Offload' tool is configured to download Glance
images, these images are downloaded twice because the tool is doing
the job after Cinder has already done it.
This patch fixes the bug by executing the copy offload tool inside the
clone_image function instead of using the copy_image_to_volume.

Closes-bug: #1632333
Depends-on: https://review.openstack.org/542773

Change-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26
(cherry-picked from commit c27173bad69da4889a5237cf2becc14bb6fc578a)
"
openstack%2Fcinder~master~I0a350c94ed4637c59b82dfad3926714451e37abb,openstack/cinder,master,remove_mapping,I0a350c94ed4637c59b82dfad3926714451e37abb,Remove legacy driver name mappings,MERGED,2018-02-14 22:00:31.000000000,2018-02-25 14:28:50.000000000,2018-02-20 11:02:17.000000000,0,24,0,544708,f01c5c96a7d388f6575716cac08b85c9a5aea051,48,35,1,1,11904,Sean McGinnis,SeanM,"Remove legacy driver name mappings

We have several drivers that were renamed in Ocata, and one
(Dell EMC SC Series) that was renamed in Pike. Since this
has been over two releases, we can now remove the legacy
name mapping for these drivers.

Change-Id: I0a350c94ed4637c59b82dfad3926714451e37abb
"
openstack%2Fcinder~stable%2Fqueens~If65300e0686ee5a0977e27380369d1638cd36e7e,openstack/cinder,stable/queens,bp/multi-attach-v3-attach,If65300e0686ee5a0977e27380369d1638cd36e7e,Enable multiattach capability for the zfssa driver,MERGED,2018-02-14 17:27:26.000000000,2018-02-25 14:28:48.000000000,2018-02-15 05:38:39.000000000,1,0,0,544561,b5ba21cd7bbd09880a216d12a871d413fbd84130,23,19,1,1,7198,Jay Bryant,jsbryant,"Enable multiattach capability for the zfssa driver

Enable multiattach capability for the zfssa driver.

Related to blueprint multi-attach-v3-attach

Change-Id: If65300e0686ee5a0977e27380369d1638cd36e7e
(cherry picked from commit 228015300fea1173c35e357ff48af69c7857bc94)
"
openstack%2Fcinder~stable%2Fqueens~I4a59ed298ba2542dcb4d6787b47085749a34244e,openstack/cinder,stable/queens,rebase-logs-queens,I4a59ed298ba2542dcb4d6787b47085749a34244e,Improve logs on scheduler,MERGED,2018-02-13 12:17:18.000000000,2018-02-25 14:28:35.000000000,2018-02-19 22:43:02.000000000,33,7,0,543913,525191ab0f6e6a472d18505820400cf56e2e3dd1,25,20,1,2,10058,Erlon R. Cruz,sombrafam,"Improve logs on scheduler

Scheduler decisions still not easy to track due lacking of information
about backends and pools. This adds more verbose information on that
so we can have a better means to help debug problems.

TrivialFix

Change-Id: I4a59ed298ba2542dcb4d6787b47085749a34244e
(cherry picked from commit 9c4cd4a2d75d36145f68e08d3aa28f9a45a68f48)
"
openstack%2Fcinder~master~I3c27fa7aa3e4649bad4627bfd8847005baa639af,openstack/cinder,master,cinder,I3c27fa7aa3e4649bad4627bfd8847005baa639af,Fix grammar error,MERGED,2018-02-11 03:25:51.000000000,2018-02-25 14:28:26.000000000,2018-02-22 00:29:55.000000000,1,1,1,543163,baa697f99825ce2fdd516ef72726449f06882892,36,30,1,1,27566,xulei,xuleibj,"Fix grammar error

modify 'a' to 'an'.

Change-Id: I3c27fa7aa3e4649bad4627bfd8847005baa639af
"
openstack%2Fcinder~master~I399215f4d3d95232cca79c742154ee44c3ca49c8,openstack/cinder,master,zanata/translations,I399215f4d3d95232cca79c742154ee44c3ca49c8,Imported Translations from Zanata,MERGED,2018-02-09 06:48:59.000000000,2018-02-25 14:28:16.000000000,2018-02-09 08:05:18.000000000,833,5,0,542632,37cf609ec63b13211c4f02bb99646ac3a66b0c29,32,24,1,3,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I399215f4d3d95232cca79c742154ee44c3ca49c8
"
openstack%2Fcinder~stable%2Fqueens~Icbe0036410d7fa15b5b567d3c4a2429aafc6e391,openstack/cinder,stable/queens,create-queens,Icbe0036410d7fa15b5b567d3c4a2429aafc6e391,Update UPPER_CONSTRAINTS_FILE for stable/queens,MERGED,2018-02-08 17:27:02.000000000,2018-02-25 14:28:07.000000000,2018-02-13 14:51:47.000000000,3,3,0,542337,5546b519397e5c41503bbc7be51b1af15d8fdea7,27,18,1,1,22816,OpenStack Release Bot,release,"Update UPPER_CONSTRAINTS_FILE for stable/queens

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Icbe0036410d7fa15b5b567d3c4a2429aafc6e391
"
openstack%2Fcinder~stable%2Fpike~I987ff6f27c30c1ed53f6d6b592f3877f1f8c8ae2,openstack/cinder,stable/pike,zuulv3-projects,I987ff6f27c30c1ed53f6d6b592f3877f1f8c8ae2,Zuul: Remove project name,MERGED,2018-02-08 01:40:34.000000000,2018-02-25 14:28:04.000000000,2018-02-08 05:09:01.000000000,0,1,0,541975,7f4c4ae7f3aec433345136a777b2e91b076ec9dc,23,19,1,1,1,James E. Blair,corvus,"Zuul: Remove project name

Zuul no longer requires the project-name for in-repo configuration.
Omitting it makes forking or renaming projects easier.

Change-Id: I987ff6f27c30c1ed53f6d6b592f3877f1f8c8ae2
"
openstack%2Fcinder~master~I1a1920d141c8c32a8fb30bc6f73e955a1a1c5150,openstack/cinder,master,deprecate_hosts_api,I1a1920d141c8c32a8fb30bc6f73e955a1a1c5150,Deprecate Cinder Hosts API/Extension,MERGED,2018-02-07 16:41:19.000000000,2018-02-25 14:28:01.000000000,2018-02-08 00:09:22.000000000,14,0,1,541787,74746b3407684df6a6e687ce502ffdc7c57f44ab,54,36,3,2,2243,John Griffith,john-griffith,"Deprecate Cinder Hosts API/Extension

This was added a long long long long time ago, but it was never
fully implemented and is not used anywhere.  It might be worth
resurrecting and having, but it should probably be a first class
API rather than an extension, and if nothing else it would be good
if we want this to create a spec and have a real plan on it's
implementation and usage.

Bottom line, it's not used anywhere and the implementation is not
complete.  We could probably remove it safely, but let's deprecate
it and fast track removal and possible replacement next cycle.

Change-Id: I1a1920d141c8c32a8fb30bc6f73e955a1a1c5150
"
openstack%2Fcinder~master~Ia9cc9e20c3b333a054c90f07e952b61dfad8529e,openstack/cinder,master,bug/1743800,Ia9cc9e20c3b333a054c90f07e952b61dfad8529e,Api-ref: add 'all_tenants' API query option,MERGED,2018-01-19 00:17:24.000000000,2018-02-25 14:27:39.000000000,2018-02-07 05:29:41.000000000,31,1,0,535527,ba9eaf27aff1a17f0cf3234302b44c7cfc9d5dbf,61,32,2,15,22299,lihaijing,lihaijing,"Api-ref: add 'all_tenants' API query option

Cinder REST API allows one to use a special query parameter
named ""all_tenants"" to list resources from all projects (tenants)
through the REST API:

`/v3/{project_id}/volumes/detail?all_tenants=1`

However, this option is hardly documented anywhere besides
`/v3/{project_id}/volumes/summary`. So add them.

Change-Id: Ia9cc9e20c3b333a054c90f07e952b61dfad8529e
Closes-Bug: #1743800
"
openstack%2Fcinder~master~Id923e4c8cd5c79fbcf0599b8c0ba9fb6492c5ac0,openstack/cinder,master,fix_lvm_type,Id923e4c8cd5c79fbcf0599b8c0ba9fb6492c5ac0,Correct lvm_type default value in config doc,MERGED,2018-02-05 09:29:38.000000000,2018-02-25 14:27:29.000000000,2018-02-05 14:23:05.000000000,1,1,0,540787,4c6b91b44fe827aaf10b70d11162de07a357c0a7,29,23,1,1,25111,Dou Rui Yuan,rydou,"Correct lvm_type default value in config doc

According to code the default value of lvm_type should be ""auto"".

Change-Id: Id923e4c8cd5c79fbcf0599b8c0ba9fb6492c5ac0
"
openstack%2Fcinder~master~Idfb68b5ddd7aca8642016e392fec6efd169c1ea2,openstack/cinder,master,bp/multi-attach-volume,Idfb68b5ddd7aca8642016e392fec6efd169c1ea2,Add the nova-multiattach job to the check/gate queues,MERGED,2018-01-10 23:45:11.000000000,2018-02-25 14:26:46.000000000,2018-02-03 01:44:28.000000000,2,0,0,532695,939387799f9f88b5dd989e090fa0d6d9b95ccde0,126,47,2,1,6873,Matt Riedemann,mriedem,"Add the nova-multiattach job to the check/gate queues

The nova-multiattach job is defined in the nova repo
but we also need to run it against Cinder changes.

For now the job just runs the tempest compute API tests
since that's the only place in Tempest that has multiattach
testing right now and it will save some time in the CI run.

Change-Id: Idfb68b5ddd7aca8642016e392fec6efd169c1ea2
Depends-On: I51adbbdf13711e463b4d25c2ffd4a3123cd65675
"
openstack%2Fcinder~master~I88e9dad5cf36621c4b86acc7b7e972850e061119,openstack/cinder,master,bp/windows-smb-backup,I88e9dad5cf36621c4b86acc7b7e972850e061119,SMBFS: fix creating volume from snapshot,MERGED,2018-01-31 16:43:58.000000000,2018-02-25 14:26:32.000000000,2018-02-21 14:16:26.000000000,230,77,0,539593,8aa2f5a5b65d6b40ab297e6b6e5c840f86af7960,56,39,1,4,8543,Lucian Petrut,plucian,"SMBFS: fix creating volume from snapshot

In some cases, attempting to create a volume from an in-use snapshot
fails because of Hyper-V locks.

The reason is that in order to locate the backing image that needs
to be *cloned*, we may need to query the currently attached image,
which is not allowed.

In order to avoid this, we're going to store the backing file
information in the DB using the snapshot object metadata field,
at the same time preserving backwards compatibility.

Note that we cannot rely on model changes passed to the manager as
snapshots are used internally in a few cases in which the manager
would not expect snapshot object changes. Also, when deleting
snapshots, we're updating the metadata for more recent snapshots
as the backing file changes.

Fake volume/snapshot object usage throughout the smbfs driver unit
tests had to be updated due to the object changes performed by it.

Change-Id: I88e9dad5cf36621c4b86acc7b7e972850e061119
Closes-Bug: #1694635
"
openstack%2Fcinder~master~I62eeabf084ca8e63562bd10ac82066424ea61205,openstack/cinder,master,typo,I62eeabf084ca8e63562bd10ac82066424ea61205,Fix the typo in api_conditional_updates.rst,MERGED,2018-01-31 05:47:58.000000000,2018-02-25 14:26:18.000000000,2018-02-02 05:51:46.000000000,1,1,1,539419,317b1cc00266e5471c675d97d8013c20488cc029,51,29,3,1,27346,chenxiangui,chenxiangui,"Fix the typo in api_conditional_updates.rst

Fix a typo in api_conditional_updates.rst. It should be 'instead of what
is in' not 'instead of what is is'.

Change-Id: I62eeabf084ca8e63562bd10ac82066424ea61205
"
openstack%2Fcinder~master~Ic4afdd0d248e043107d92b8e42f7630d211cd302,openstack/cinder,master,bug/1746218,Ic4afdd0d248e043107d92b8e42f7630d211cd302,[VNX] `initiator_target_map` is None,MERGED,2018-01-31 08:02:11.000000000,2018-02-25 14:26:17.000000000,2018-02-07 23:55:37.000000000,2,1,0,539445,547bafcdb8716836310c77c15d10fb0a1356ad15,40,36,1,1,18742,Ryan Liang,RyanLiang,"[VNX] `initiator_target_map` is None

The value of `initiator_target_map` in FC target data returned by VNX is
None, which causes os-brick throwing exception. The fix is removing the
key `initiator_target_map` from the target data dict when its value is
None.

Change-Id: Ic4afdd0d248e043107d92b8e42f7630d211cd302
Closes-Bug: #1746218
"
openstack%2Fcinder~stable%2Fpike~I67ac11276715290839c39fc1d0e333c61a38c461,openstack/cinder,stable/pike,bug/1692775,I67ac11276715290839c39fc1d0e333c61a38c461,backup: set default swiftclient log level to WARN,MERGED,2018-01-26 12:17:52.000000000,2018-02-25 14:25:10.000000000,2018-02-04 00:34:45.000000000,9,0,0,538230,112ee583e0c4b6364e99fe15c00d82ec50ca0d6d,42,19,1,1,9535,Gorka Eguileor,Gorka,"backup: set default swiftclient log level to WARN

Similar to change I0857cecd7d8ab0ee7e3e9bd6e15f4987ede4d653, the
swift backup driver cannot be logging stuff while in a thread during
read and write operations. swiftclient logs requests and responses
at DEBUG level, which can cause a thread switch and break the backup
operation.

This sets a default log level of WARN for swiftclient for the
cinder-backup service.

Change-Id: I67ac11276715290839c39fc1d0e333c61a38c461
Closes-Bug: #1745168
(cherry picked from commit e4989c103ff23cbf937faa8cc12c39e9720f9fd7)
"
openstack%2Fcinder~stable%2Fpike~I1f1d9c0d6e3f04f1ecd5ef7c5d813005ee116409,openstack/cinder,stable/pike,bug/1692775,I1f1d9c0d6e3f04f1ecd5ef7c5d813005ee116409,Run backup-restore operations on native thread,MERGED,2018-01-23 23:08:29.000000000,2018-02-25 14:25:09.000000000,2018-02-04 18:23:52.000000000,104,39,0,537003,60bd878c3761b69311ef2732d37aaeeb3929a8e3,78,23,3,6,9535,Gorka Eguileor,Gorka,"Run backup-restore operations on native thread

During huge backup file read write operations holds the CPU which
leads to thread starvation, and cause cinder backup service to
report down, as DB operations are impacted.
Proposed changes are to run CPU and file sensitive operations like
read, write, compress, decompress on a native thread.

Change-Id: I1f1d9c0d6e3f04f1ecd5ef7c5d813005ee116409
Closes-Bug: #1692775
Co-Authored-By: Gorka Eguileor <geguileo@redhat.com>
(cherry picked from commit dd556fa755adca195e7df82477ae6400f693af14)
"
openstack%2Fcinder~stable%2Fpike~I0857cecd7d8ab0ee7e3e9bd6e15f4987ede4d653,openstack/cinder,stable/pike,bug/1692775,I0857cecd7d8ab0ee7e3e9bd6e15f4987ede4d653,Remove logging on Swift backup obj writer,MERGED,2018-01-25 10:44:37.000000000,2018-02-25 14:24:55.000000000,2018-02-03 20:30:39.000000000,17,7,0,537840,a1084c237a8b025353abaf586c05672840b6ec6d,70,22,1,2,9535,Gorka Eguileor,Gorka,"Remove logging on Swift backup obj writer

Since change I1f1d9c0d6e3f04f1ecd5ef7c5d813005ee116409 we are running
parts of the backups on native threads, which due to an eventlet bug [1]
have bad interactions with greenthreads, so we have to avoid any logging
when executing code in a native thread.

This patch removes the MD5 logging on the SwiftObjectWriter close
method and adds comments and docstring referring to this limitation.

[1] https://github.com/eventlet/eventlet/issues/432

Closes-Bug: #1745168
Change-Id: I0857cecd7d8ab0ee7e3e9bd6e15f4987ede4d653
(cherry picked from commit c6cb84bd63135d62ccd7ed9b23b245c41e9f105c)
"
openstack%2Fcinder~stable%2Fpike~I35834a43298b5287d5cd3c37baa82903bdffda12,openstack/cinder,stable/pike,bug/1743462,I35834a43298b5287d5cd3c37baa82903bdffda12,Fix: Propagate OS global request ID,MERGED,2018-01-24 09:42:33.000000000,2018-02-25 14:24:46.000000000,2018-02-06 21:16:20.000000000,1,0,0,537326,d9b38a4b23c21b92ed1c3a86a6201bd94c644c3d,26,17,1,1,9535,Gorka Eguileor,Gorka,"Fix: Propagate OS global request ID

Cinder doesn't propagate global request IDs internally, so any external
request that comes with it will have it logged at the API service and
then we'll lose this information in all the other services.

We are properly serializing this information on our RPC calls, but we
are not reconstructing the Context properly on the receiving end.

This patch ensures that the ""global_request_id"" field from the context
is properly added on RPC reception.

Closes-Bug: #1743462
Change-Id: I35834a43298b5287d5cd3c37baa82903bdffda12
(cherry picked from commit 28ada504af4084f72f3503d77806075e7ad509b0)
"
openstack%2Fcinder~stable%2Fpike~Idbfeeb2604bc84dc0a17c633b782000d94665bbe,openstack/cinder,stable/pike,bug/1692775,Idbfeeb2604bc84dc0a17c633b782000d94665bbe,Fix compression related tests,MERGED,2018-01-23 23:08:29.000000000,2018-02-25 14:24:13.000000000,2018-02-01 08:58:59.000000000,36,10,0,537002,96d0e2755d3c4b9251c7500e2d358bfc484345ad,37,19,1,3,9535,Gorka Eguileor,Gorka,"Fix compression related tests

Tests for chunked backup drivers are using a randomly generated file to
test the compression, which means that in most cases due to the
randomization the generated file is bigger than the original one, so we
end up doing a non compressed backup, which defeats the purpose of the
tests.  More so when you want to test the decompression, since the
backup won't be compressed and there won't be any decompression.

To fix this we generate, for those cases, a simple file that can always
be effectively compressed.

Change-Id: Idbfeeb2604bc84dc0a17c633b782000d94665bbe
(cherry picked from commit 8f3dfd7299a46be106d5b571c442a79986d66883)
"
openstack%2Fcinder~master~I67bc72891d5aec0161e20b2eefeedbe3a401e7c1,openstack/cinder,master,infinidat,I67bc72891d5aec0161e20b2eefeedbe3a401e7c1,INFINIDAT: support force detach,MERGED,2018-01-23 11:30:29.000000000,2018-02-25 14:24:12.000000000,2018-01-31 02:38:44.000000000,50,14,3,536778,1d24144959e42fafc604c9a3d4e16c048dbe0148,64,39,2,2,22683,Arnon Yaari,arnony,"INFINIDAT: support force detach

terminate_connection should support the case where ""connector"" is
None (force detach), in which case all volume connections should
be detached.

Change-Id: I67bc72891d5aec0161e20b2eefeedbe3a401e7c1
"
openstack%2Fcinder~master~Id4f77020a70acd8eb9df513d43f86d9fe78f7e22,openstack/cinder,master,,Id4f77020a70acd8eb9df513d43f86d9fe78f7e22,Run doc8 first,MERGED,2018-01-15 22:57:07.000000000,2018-02-25 14:24:09.000000000,2018-01-24 05:19:47.000000000,1,1,0,533814,12b6ccc8040268c72104243e1b620cfd1a91912a,66,34,2,1,4523,Eric Harney,eharney,"Run doc8 first

For ""tox -e docs"", run doc8 first.

doc8 runs much faster than sphinx builds and
will provide quick feedback on syntax issues.

Change-Id: Id4f77020a70acd8eb9df513d43f86d9fe78f7e22
"
openstack%2Fcinder~master~Id02130e9af8bdf90a712968916017d05c3213c32,openstack/cinder,master,bug/1463525,Id02130e9af8bdf90a712968916017d05c3213c32,RBD: Support encrypted volumes,MERGED,2018-01-17 15:20:25.000000000,2018-02-25 14:24:03.000000000,2018-01-25 05:12:20.000000000,227,16,22,534811,fcb45b439ba039fd88c332fd912949d52cfe290f,177,50,8,5,4523,Eric Harney,eharney,"RBD: Support encrypted volumes

When creating an encrypted RBD volume, initialize
LUKS on the volume using the volume's encryption key.

This is required because os-brick only handles this
step for volumes that attach via block devices.

This requires qemu-img 2.10.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1463525
Implements: blueprint libvirt-qemu-native-luks
Change-Id: Id02130e9af8bdf90a712968916017d05c3213c32
"
openstack%2Fcinder~master~I7fc3ccd24cd9e95cb4fa1d70658fe064cae3a38a,openstack/cinder,master,536254,I7fc3ccd24cd9e95cb4fa1d70658fe064cae3a38a,Remove extra spaces of the volume creation request body,MERGED,2018-01-22 08:47:52.000000000,2018-02-25 14:23:52.000000000,2018-01-22 13:43:54.000000000,2,2,0,536254,23b56315b1e3f9ac7e8ab016c49ed3d4abf661f3,35,25,2,2,26458,Brin Zhang,zhangbailin,"Remove extra spaces of the volume creation request body

Change-Id: I7fc3ccd24cd9e95cb4fa1d70658fe064cae3a38a
"
openstack%2Fcinder~master~I0aba3760cd8f22dd0b19a45ecde06919af4a2447,openstack/cinder,master,bug/1744021,I0aba3760cd8f22dd0b19a45ecde06919af4a2447,"3PAR: fix volume migration for ""in-use"" volume.",MERGED,2018-01-18 10:56:58.000000000,2018-02-25 14:23:46.000000000,2018-01-19 10:26:25.000000000,40,5,0,535288,27176ea58c08c126d1cfd28a453ff8ff95497107,60,34,1,2,21407,Kushal Wathore,kwathore,"3PAR: fix volume migration for ""in-use"" volume.

3par driver does not support cross protocol level
In use volume migration, for such cases we are returning
False and then after that cinder framework takes care of
same.

But we were doing same for same protocol level and
Hence volume migration was failing.

This patch resolve this issue and if same protocol level
in use volume migration case is there then 3par
driver takes care of such migration.

Change-Id: I0aba3760cd8f22dd0b19a45ecde06919af4a2447
Closes-Bug: #1744021
"
openstack%2Fcinder~master~I1c719e6858426416b56357d2f071584209757a78,openstack/cinder,master,bug/1721583,I1c719e6858426416b56357d2f071584209757a78,Storwize: Use passed volume names in migrate,MERGED,2018-01-15 18:23:15.000000000,2018-02-25 14:23:44.000000000,2018-02-02 05:35:54.000000000,24,3,6,533754,22b73784ae4463b335456902c3cbf40acdc6e263,81,36,3,2,12802,Carl Pecinovsky,carl-sky,"Storwize: Use passed volume names in migrate

For the storwize driver, update_migrated_volume() impl, the
original and temporary volume names were generated from a
configuration template value, rather than using the names of
the volumes passed. This only works if the storwize driver
created the original volume, but breaks down if it originated
elsewhere.
Make a small change to use the passed in volume name properties
instead. Add a couple asserts to the test cases.

Change-Id: I1c719e6858426416b56357d2f071584209757a78
Closes-Bug: #1721583
"
openstack%2Fcinder~master~Ia77d9d1a3aa4b54a08912584164739f851188784,openstack/cinder,master,fix/glance-client-tests,Ia77d9d1a3aa4b54a08912584164739f851188784,Fix glance create client unit tests,MERGED,2018-01-16 12:54:19.000000000,2018-02-25 14:23:39.000000000,2018-01-17 17:38:32.000000000,2,0,0,534291,1b9a2deaa5c366b11542dc69a03d5aaa1d2e6885,26,20,1,1,9535,Gorka Eguileor,Gorka,"Fix glance create client unit tests

If tests test_create_glance_client_with_protocol_http and
test_create_glance_client_with_protocol_https from
cinder.tests.unit.image.test_glance.TestGlanceImageServiceClient are run
one after the other (regardless of the order) it will result in an
error: ""AssertionError: Expected 'load_from_options' to be called once.
Called 0 times."".

The reason is that in cinder/image/glance.py we cache the session in
variable _SESSION, so the first test will set it and the second one will
reuse it and won't call the load_from_options method.

This patch solves this issue by resetting the caching variable in the
tests.

TrivialFix

Change-Id: Ia77d9d1a3aa4b54a08912584164739f851188784
"
