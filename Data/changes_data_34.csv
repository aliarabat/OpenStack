id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fpython-manilaclient~stable%2Fwallaby~I7a234666c3edff6486257a370ec361045aa7947d,openstack/python-manilaclient,stable/wallaby,drop-l-c,I7a234666c3edff6486257a370ec361045aa7947d,Drop lower-constraints.txt and its testing,NEW,2022-05-03 15:02:44.000000000,2022-07-05 15:56:28.000000000,,4,97,2,840301,f7d47af863d167845ca5eeca2247f6700618dbfa,12,1,3,3,16643,Goutham Pacha Ravi,gouthamr,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I7a234666c3edff6486257a370ec361045aa7947d
(cherry picked from commit bf2c7a26d62e240468ee062fddd49ff97a956e43)
(cherry picked from commit 9f33f3ab1dc2eb5dd953ee7655c0db093d561d2b)
(cherry picked from commit 0c9c6a1eb64c0de387fa85bd08943c8f04e03fc2)
"
openstack%2Fhorizon~master~I564b1e0cd6a94f1297788649b813e45f819455ff,openstack/horizon,master,integration-chromium,I564b1e0cd6a94f1297788649b813e45f819455ff,Add an option to use Google Chrome for Selenium tests,MERGED,2022-06-27 10:35:22.000000000,2022-07-05 15:47:40.000000000,2022-07-05 15:46:12.000000000,3,0,1,847763,ac8b91f1aa9e1eb1f0ab359872b2d68ba74a098a,10,3,1,1,8648,Radomir Dopieralski,thesheep,"Add an option to use Google Chrome for Selenium tests

It seems to be a bit more stable.

Change-Id: I564b1e0cd6a94f1297788649b813e45f819455ff
"
openstack%2Fansible-collections-openstack~master~Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f,openstack/ansible-collections-openstack,master,security_group_info,Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f,Makes security_group_info compatible with new openstacksdk,MERGED,2022-05-05 12:50:05.000000000,2022-07-05 15:37:35.000000000,2022-07-05 15:37:35.000000000,84,35,59,840660,d600284645ee8f5b83b0644693422c8fa2a1614e,74,5,29,3,32458,Ananya,frenzyfriday,"Makes security_group_info compatible with new openstacksdk

Updated documentation of return values and added test to verify
return values

Function self.conn.search_security_groups() cannot be used here.
Arguments for filtering such as 'description' would have to be passed
to self.conn.search_security_groups() in its 'filters' argument [1].
The latter is passed to both as query arguments to OpenStack API
and later to _utils._filter_list() [2] for filtering the results.
Some arguments such as 'any_tags' are only used as query arguments
by openstacksdk [3] when querying OpenStack API. They are no valid
attributes in security_group.py [4]. Whenever those non-attribute
arguments are passed to self.conn.search_security_groups(),
_utils._filter_list() [2] would drop all results because no result
would have a matching attributes.

[1] https://opendev.org/openstack/openstacksdk/src/commit/0898398415ae7b0e2447d61226acf50f01567cdd/openstack/cloud/_security_group.py#L31
[2] https://opendev.org/openstack/openstacksdk/src/commit/0898398415ae7b0e2447d61226acf50f01567cdd/openstack/cloud/_utils.py#L63
[3] https://opendev.org/openstack/openstacksdk/src/commit/0898398415ae7b0e2447d61226acf50f01567cdd/openstack/common/tag.py#L19
[4] https://opendev.org/openstack/openstacksdk/src/commit/0898398415ae7b0e2447d61226acf50f01567cdd/openstack/network/v2/security_group.py

Change-Id: Ie7fe9d2e973d38751c48e71e6bd55e56a591ac1f
"
openstack%2Fovn-octavia-provider~stable%2Fussuri~Iad9839ce99d50b969924b3fe369301b6dfed369d,openstack/ovn-octavia-provider,stable/ussuri,,Iad9839ce99d50b969924b3fe369301b6dfed369d,Delete vip port if create_vip_port raise exception,MERGED,2022-07-04 08:44:53.000000000,2022-07-05 15:14:18.000000000,2022-07-05 15:12:58.000000000,37,0,2,848583,4d15d0d2f66e0cc5a26ff37527aa62d770a6a5e3,13,4,1,2,34451,Fernando Royo,froyo,"Delete vip port if create_vip_port raise exception

Sometimes on heavy load over Neutron, operations over
neutron client could raise a NeutronClientException that
could cover, e.g. a timeout. In those case, sometimes the
request finish after the client timeout and we have
leftover resource.

create_vip_port is called from Octavia API just before
the create LB request, if this call raise a timeout
maybe the vip port is finally created and linked to a LB
that is not going to be created, so we have this port
unuse.

This patch will try to remove the leftover port for those
situations.

(manually cherry picked from commit
cd3264a07e047b589e4064855169c37f17343e60)

Closes-Bug: #1973765
Change-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d
"
openstack%2Fironic~stable%2Fwallaby~I8ead1d24a9bd502b64fe7dd058e77550fcee141c,openstack/ironic,stable/wallaby,,I8ead1d24a9bd502b64fe7dd058e77550fcee141c,Fix redfish-virtual-media for newer iDRACs,MERGED,2022-07-01 13:59:21.000000000,2022-07-05 15:11:31.000000000,2022-07-05 15:09:32.000000000,76,20,0,848451,dd2bfabbae24b468f3a89611e6b0b3b6c679a8e0,12,3,1,7,27909,Aija Jauntēva,ajya,"Fix redfish-virtual-media for newer iDRACs

The issue with standard Redfish virtual media boot has
been fixed now. Update to restrict use of redfish-virtual-media
based on iDRAC firmware version.

 Conflicts:
       ironic/drivers/modules/redfish/boot.py

Change-Id: I8ead1d24a9bd502b64fe7dd058e77550fcee141c
(cherry picked from commit 73040c88d99f066644277f32e86d196305fc8596)
"
openstack%2Fironic~stable%2Fxena~I8ead1d24a9bd502b64fe7dd058e77550fcee141c,openstack/ironic,stable/xena,,I8ead1d24a9bd502b64fe7dd058e77550fcee141c,Fix redfish-virtual-media for newer iDRACs,MERGED,2022-07-01 13:41:59.000000000,2022-07-05 15:09:54.000000000,2022-07-05 15:07:52.000000000,76,20,0,848450,da14382781b963944f87404098b2d4afa25f378c,12,3,1,7,27909,Aija Jauntēva,ajya,"Fix redfish-virtual-media for newer iDRACs

The issue with standard Redfish virtual media boot has
been fixed now. Update to restrict use of redfish-virtual-media
based on iDRAC firmware version.

 Conflicts:
       ironic/drivers/modules/redfish/boot.py

Change-Id: I8ead1d24a9bd502b64fe7dd058e77550fcee141c
(cherry picked from commit 73040c88d99f066644277f32e86d196305fc8596)
"
openstack%2Fmanila-tempest-plugin~master~Ie554d72f5ba2991df0c7b0decd7f552d034760e0,openstack/manila-tempest-plugin,master,test-cephfs-ci,Ie554d72f5ba2991df0c7b0decd7f552d034760e0,DNM - testing cephfs-native with latest service image,ABANDONED,2021-02-17 20:12:04.000000000,2022-07-05 15:09:02.000000000,,3,33,0,776265,53e9db238bb6ff56354de09f2cf66618635de7bd,7,1,2,2,16643,Goutham Pacha Ravi,gouthamr,"DNM - testing cephfs-native with latest service image

We capped the service image to use an older
image due to a mismatch between clients -
the latest service image had an upgraded
cephfs client that wasn't working with a
nautilus based ceph cluster. Now that we've
changed the ceph cluster infra quite a bit*,
lets try to see if this issue still exists.

* We updated the ceph package sources from
  ceph-ci's shaman to ubuntu
* We updated the base OS for devstack from
  bionic beaver to focal fossa - this allows
  us to test with ceph octopus which is
  made available by default when we look
  for ceph packages in the ubuntu ppa.

Depends-On: I1edd5a50079f325fa143a7e0d51b3aa3bb5ed45d
Change-Id: Ie554d72f5ba2991df0c7b0decd7f552d034760e0
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fmanila-tempest-plugin~master~I4ed0d1f1b5614842ce9359a411cfa0944e4ce0f8,openstack/manila-tempest-plugin,master,glusterfs,I4ed0d1f1b5614842ce9359a411cfa0944e4ce0f8,DNM - testing glusterfs-native,ABANDONED,2020-11-18 23:42:55.000000000,2022-07-05 15:08:51.000000000,,2,29,0,763283,3ff870c484b9f64585c16c0513c73700b1a66359,11,3,2,2,16643,Goutham Pacha Ravi,gouthamr,"DNM - testing glusterfs-native

Depends-On: I96d49f84122a34701328909c929ede4d66746911
Change-Id: I4ed0d1f1b5614842ce9359a411cfa0944e4ce0f8
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fironic~bugfix%2F20.2~I8ead1d24a9bd502b64fe7dd058e77550fcee141c,openstack/ironic,bugfix/20.2,idrac-virtual-media-bugfix/20.2,I8ead1d24a9bd502b64fe7dd058e77550fcee141c,Fix redfish-virtual-media for newer iDRACs,MERGED,2022-07-04 12:13:20.000000000,2022-07-05 15:07:05.000000000,2022-07-05 15:05:13.000000000,73,19,1,848595,db2b6835f228ba7c7c09675a0f339a61482541c5,13,4,1,5,10239,Dmitry Tantsur,dtantsur,"Fix redfish-virtual-media for newer iDRACs

The issue with standard Redfish virtual media boot has
been fixed now. Update to restrict use of redfish-virtual-media
based on iDRAC firmware version.

Change-Id: I8ead1d24a9bd502b64fe7dd058e77550fcee141c
(cherry picked from commit 73040c88d99f066644277f32e86d196305fc8596)
"
openstack%2Ftripleo-heat-templates~master~I7f481f2772f668e7804be93c545116d19ada46ae,openstack/tripleo-heat-templates,master,bug/1967021,I7f481f2772f668e7804be93c545116d19ada46ae,Fix libvirt-guests handling post virt-guest-shutdown,MERGED,2022-05-24 15:01:05.000000000,2022-07-05 15:06:21.000000000,2022-07-04 17:44:54.000000000,2,2,29,843158,dccd879ce9056fffaf3d3cb38ee3def8afb505e0,63,10,9,1,6926,Bogdan Dobrelya,bogdando,"Fix libvirt-guests handling post virt-guest-shutdown

Tripleo_nova_libvirt_guests.service calls libvirt-guests.sh
assuminig there is monolithic libvirt container running.
That's not the case for modular libvirt. Use a proper container
name for that.

Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I7f481f2772f668e7804be93c545116d19ada46ae
"
openstack%2Fetcd3gw~master~I440cedb711149a5f12eb2311e78181b01666d274,openstack/etcd3gw,master,bug/1895952,I440cedb711149a5f12eb2311e78181b01666d274,Handle refreshing of expired lease.,MERGED,2022-05-23 16:47:05.000000000,2022-07-05 15:03:13.000000000,2022-07-05 15:01:01.000000000,5,2,6,843003,e35c7aa1f617278c17649206f98cceb8800bda98,18,2,4,1,32927,mitya-eremeev-2,mitya-eremeev-2,"Handle refreshing of expired lease.

Refreshing of expired lease causes non-obvious error:
Retrying tooz.drivers.etcd3gw.Etcd3Driver.heartbeat
in 1.0 seconds as it raised KeyError: 'TTL'.
The patch handles the error.

Closes-Bug: 1895952
Change-Id: I440cedb711149a5f12eb2311e78181b01666d274
"
openstack%2Fetcd3gw~master~I6367df1b43216eabce7935ba10876691447e2588,openstack/etcd3gw,master,api-path,I6367df1b43216eabce7935ba10876691447e2588,Add py38-etcd tox env,MERGED,2022-02-02 15:37:40.000000000,2022-07-05 15:02:10.000000000,2022-07-05 15:00:39.000000000,6,0,0,827520,284e97b0a6fcf77321153ff68d2ffad8611f8544,7,2,1,2,9542,Pavlo Shchelokovskyy,pshchelo,"Add py38-etcd tox env

Change-Id: I6367df1b43216eabce7935ba10876691447e2588
"
openstack%2Fetcd3gw~master~I6319d58462481aac4b15048aad57de77094e8769,openstack/etcd3gw,master,bug/1967674,I6319d58462481aac4b15048aad57de77094e8769,Handle key has only metadata and no value,MERGED,2022-04-03 14:39:41.000000000,2022-07-05 14:56:35.000000000,2022-07-05 14:55:09.000000000,49,4,18,836244,e00c9f2ec4205650aff7ffd8972591b9f8c45ae0,25,3,7,3,7549,Ekaterina Chernova,efedorova,"Handle key has only metadata and no value

Some other etcd clients may add key
 without providing 'value'.

This patch adds compatibility, so etcd can be used
together with another clients

Closes-bug: #1967674
Change-Id: I6319d58462481aac4b15048aad57de77094e8769
"
openstack%2Fetcd3gw~master~I3a0ac41f30427df6881898fe9688209f55aeb7ab,openstack/etcd3gw,master,move_flake8_local,I3a0ac41f30427df6881898fe9688209f55aeb7ab,Move flake8 as a pre-commit local target.,ABANDONED,2021-03-23 12:06:21.000000000,2022-07-05 14:50:46.000000000,,39,0,1,782459,3d8c09cbd007518aab988c499c6e518a867fad78,6,3,1,1,31245,Daniel Bengtsson,damani42,"Move flake8 as a pre-commit local target.

The goal here is to avoid conflicts between flake8 and hacking version each
2 days.

Inspired from nova's approach[1].

The flake8 version to install will be determined by hacking and
requirements[2] will stay aligned instead of relying on different versions.

[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35
[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1

Change-Id: I3a0ac41f30427df6881898fe9688209f55aeb7ab
"
openstack%2Fmanila~stable%2Fyoga~I2cae5ba54ae0a95e84d5ef7cf0f05287b7ae5d22,openstack/manila,stable/yoga,bug/1964696,I2cae5ba54ae0a95e84d5ef7cf0f05287b7ae5d22,Fix GaneshaNASHelper update_access signature,NEW,2022-04-21 17:45:13.000000000,2022-07-05 14:50:45.000000000,,17,0,2,838876,c37a44dfe67b54e25c3a55332a6d8bab289bc25d,9,2,1,2,16643,Goutham Pacha Ravi,gouthamr,"Fix GaneshaNASHelper update_access signature

The gluster GaneshaNFSHelper update_access method calls
into the GaneshaNASHelper update_access method, but the
signature it uses for this call is not up to date with
the 2017 dynamic export changes made to the Ganesha
driver.

Fix this by adding an update_access method to
the gluster-specific GaneshaNFSHelper which accepts
the signature that the Gluster driver expects but calls
into Ganesha with the signature that it expects.

[1] Change-Id: I01ec100c0afe28a84e9afa8e0660d299e4b3d160

Closes-Bug: #1964696
Change-Id: I2cae5ba54ae0a95e84d5ef7cf0f05287b7ae5d22
(cherry picked from commit 6f4191a6d92342c35ece64c735be6c43ca171d58)
"
openstack%2Fpython-openstackclient~stable%2Frocky~Ib878982b1d469212ca3483dcfaf407a8e1d2b417,openstack/python-openstackclient,stable/rocky,fix_server_list,Ib878982b1d469212ca3483dcfaf407a8e1d2b417,Fix openstack server list --deleted --marker option,ABANDONED,2020-01-27 20:49:31.000000000,2022-07-05 14:46:36.000000000,,87,3,0,704422,95806eeb769d82474109462a042f978748547eb2,14,4,2,3,14892,Keith Berger,kberger,"Fix openstack server list --deleted --marker option

This patch removes using the ""name"" option for a marker when
--deleted is also used. The find_resource() function
that is being called does not correctly handle using the marker
as the ""name"" in the search when also using deleted=True.
One simple way to fix this is force the marker to only be an ID
when --deleted is used. This is how the nova client works.

Using the --deleted option is available to users with the admin
role by default. If you're an admin listing --deleted servers
with a marker by name, find_resource() is going to fail to find
it since it doesn't apply the --deleted filter to find_resource().

The find_resource() function is trying to find the marker server
by name if it's not found by id, and to find it by name it's
listing servers with the given marker as the name, but not
applying the --deleted filter so it doesn't get back any results.

In the story it was suggested modifying find_resource to include
the deleted query param when it's specified on the command line but
that didn't work because it still results in something like this:

http://192.168.1.123/compute/v2.1/servers?deleted=True&name=4cecd49f-bc25-4a7e-826e-4aea6f9267d9

It seems like there are bugs in find_resource().

Restricting the marker to be the server ID when listing deleted servers
is probably OK since if you're using --deleted you're an admin and you could
be listing across all projects and if you're filtering by a server across all
projects anyway (not that you have to, I'm just saying if you are), or even
showing a server in another project, you have to do it by id rather than name
because find_resource() won't find the server in another project by name, only ID.

story: 2006761
Task: 37258

The server test case was removed from the cherry-pick as it used
features of the openstack client that are not in stable/stein

Change-Id: Ib878982b1d469212ca3483dcfaf407a8e1d2b417
(cherry picked from commit f5384ae16a24cdd54149fa21827d14b8b8983d4f)
(cherry picked from commit c42c27aa926e93a2507e686eeaf0c5510a29d245)
(cherry picked from commit 3b48ef54c8ad205dd086520cc17e4f96583e88ec)
"
openstack%2Fpython-openstackclient~stable%2Ftrain~I6725262cf040e0ec6ceca9cf0462ce59224049c6,openstack/python-openstackclient,stable/train,train,I6725262cf040e0ec6ceca9cf0462ce59224049c6,Add parent project filter for listing projects,MERGED,2020-03-04 11:56:16.000000000,2022-07-05 14:41:25.000000000,2022-07-05 14:39:56.000000000,44,0,0,711208,03c28595d172abecf0ae89b38447c67bcedc92b4,14,6,1,4,28522,Hervé Beraud,hberaud,"Add parent project filter for listing projects

This patch introduces a new option --parent into project list,
to specify a parent project to filter projects which has
the given project as their parent.

Depends-on: https://review.opendev.org/#/c/677101
Change-Id: I6725262cf040e0ec6ceca9cf0462ce59224049c6
(cherry picked from commit 7c1b6a799e0ac6fea511a2cf1e97aebb2f94e0d6)
"
openstack%2Fbifrost~master~Ia2e9c78c56f6d0314471973e71de0b45e3309d71,openstack/bifrost,master,ansible-bump,Ia2e9c78c56f6d0314471973e71de0b45e3309d71,Use Ansible 5.x,MERGED,2022-05-30 12:11:16.000000000,2022-07-05 14:33:29.000000000,2022-07-05 14:32:01.000000000,6,2,1,843847,969a5e623f2167973d1d41af7923d9489e19e7ca,13,3,2,3,23851,Riccardo Pittau,elfosardo,"Use Ansible 5.x

Support most recent version of Ansible up to 5.x as default.

Change-Id: Ia2e9c78c56f6d0314471973e71de0b45e3309d71
"
openstack%2Fcharm-keystone-saml-mellon~stable%2Fxena~Ia5dbd216f252ead94380a5031721a43f2d880403,openstack/charm-keystone-saml-mellon,stable/xena,update-bundles-xena,Ia5dbd216f252ead94380a5031721a43f2d880403,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:47:48.000000000,2022-07-05 14:23:34.000000000,2022-07-05 14:23:34.000000000,18,18,2,846323,4628fa7af8ef52f65ba81ab89c0cf5236ebf311e,11,3,1,2,20870,Alex Kavanagh,ajkavanagh,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: Ia5dbd216f252ead94380a5031721a43f2d880403
"
openstack%2Ftripleo-ansible~master~I2da71650d0566386df76ab16d6ad1aeabe716504,openstack/tripleo-ansible,master,neutron-resolver-integration,I2da71650d0566386df76ab16d6ad1aeabe716504,Designate: specify source address when using rndc,MERGED,2022-05-11 16:51:44.000000000,2022-07-05 14:22:26.000000000,2022-07-05 14:22:26.000000000,69,27,15,841456,891828a6de230dd72122078044f01b6d09d3817d,84,7,24,13,6681,Brent Eagles,beagles,"Designate: specify source address when using rndc

This patch switches the bind pool configuration from using a bind key
per target to a configuration file per target, allowing us to specify a
source address which is required to make sure the source address matches
the rndc allow config on the target bind host when using rndc from a
multi-homed host.

Also cleans up some shared bind/worker/central configuration that gets
in the way of configuring things sensibly.

Change-Id: I2da71650d0566386df76ab16d6ad1aeabe716504
"
openstack%2Fcharm-manila-ganesha~stable%2Fxena~I4b09cfd7b19776d6a70c45f85dd2f8001bfa94db,openstack/charm-manila-ganesha,stable/xena,charmhub-migration,I4b09cfd7b19776d6a70c45f85dd2f8001bfa94db,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:48:16.000000000,2022-07-05 14:20:56.000000000,2022-07-05 14:20:56.000000000,19,21,9,841966,07db5effd686dc58021b1f8676f83ee4d6e8328e,28,3,2,3,20870,Alex Kavanagh,ajkavanagh,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I4b09cfd7b19776d6a70c45f85dd2f8001bfa94db
"
openstack%2Fpython-openstackclient~stable%2Fxena~Ica3320242a38901c1180b2b29109c9474366fde0,openstack/python-openstackclient,stable/xena,,Ica3320242a38901c1180b2b29109c9474366fde0,compute: Show flavor in 'server list' with API >= 2.47,MERGED,2021-12-01 01:33:20.000000000,2022-07-05 14:10:11.000000000,2022-07-05 14:07:34.000000000,349,261,0,819935,0873e7580eceab07c3be0824d2ea4163491f8d6e,7,3,1,3,4690,melanie witt,melwitt,"compute: Show flavor in 'server list' with API >= 2.47

Fix the issue where the flavor name was empty in server list output.
This requires somewhat invasive unit test changes to reflect the changed
API response from the server, but this has the upside of meaning we
don't need new tests since what we have validates things.
Also drop the flavor ID column as it is removed from the compute API.

Change-Id: Ica3320242a38901c1180b2b29109c9474366fde0
Signed-off-by: Khomesh Thakre <khomeshthakre24@gmail.com>
Story: 2008257
Task: 41113
(cherry picked from commit 8e362402dee07744668bcf7f6774af4fbe9a07e3)
"
openstack%2Fpython-openstackclient~stable%2Fwallaby~Ica3320242a38901c1180b2b29109c9474366fde0,openstack/python-openstackclient,stable/wallaby,,Ica3320242a38901c1180b2b29109c9474366fde0,compute: Show flavor in 'server list' with API >= 2.47,MERGED,2021-12-01 01:35:22.000000000,2022-07-05 14:10:04.000000000,2022-07-05 14:07:26.000000000,349,261,0,819938,4b7e777c0ce19aa67a9a33cbeb3b4ee2b052383f,7,3,1,3,4690,melanie witt,melwitt,"compute: Show flavor in 'server list' with API >= 2.47

Fix the issue where the flavor name was empty in server list output.
This requires somewhat invasive unit test changes to reflect the changed
API response from the server, but this has the upside of meaning we
don't need new tests since what we have validates things.
Also drop the flavor ID column as it is removed from the compute API.

Change-Id: Ica3320242a38901c1180b2b29109c9474366fde0
Signed-off-by: Khomesh Thakre <khomeshthakre24@gmail.com>
Story: 2008257
Task: 41113
(cherry picked from commit 8e362402dee07744668bcf7f6774af4fbe9a07e3)
(cherry picked from commit 0873e7580eceab07c3be0824d2ea4163491f8d6e)
"
openstack%2Fpython-openstackclient~stable%2Fxena~I7d70eac8aa1a6197ed05a49f071e6899ec219c03,openstack/python-openstackclient,stable/xena,,I7d70eac8aa1a6197ed05a49f071e6899ec219c03,compute: Reorder building of columns for 'server list',MERGED,2021-12-01 01:33:20.000000000,2022-07-05 14:09:09.000000000,2022-07-05 14:07:32.000000000,106,88,0,819934,f4adbcef7b1b18d9454109a020e5e2c6ad78b5f1,7,2,1,1,4690,melanie witt,melwitt,"compute: Reorder building of columns for 'server list'

This has no impact on the end result, but it should make fixing issues
introduced by API microversion 2.69 a little easier.

Change-Id: I7d70eac8aa1a6197ed05a49f071e6899ec219c03
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit 4c3de28e83babb0672950320a20492dc61803b4a)
"
openstack%2Fpython-openstackclient~stable%2Fwallaby~I06de6903d5cc427a8b0fdcd168fec47192f4365b,openstack/python-openstackclient,stable/wallaby,,I06de6903d5cc427a8b0fdcd168fec47192f4365b,Fix typo error in listing server's column name,MERGED,2021-12-01 01:35:22.000000000,2022-07-05 14:08:58.000000000,2022-07-05 14:07:18.000000000,1,1,0,819936,e1a764823cdcc089db3a700a5b0be0cd7d6d2e00,7,3,1,1,4690,melanie witt,melwitt,"Fix typo error in listing server's column name

openstack server list -c ""Created At"" command doesn't work
because the wrong variable was used here.

When we receive resp data, Created At data is saved with
the name ""created"". But in ""server.py"", we append columns
as created_at. So it seems to print an empty table.

Story: 2009149
Task: 43112
Change-Id: I06de6903d5cc427a8b0fdcd168fec47192f4365b
(cherry picked from commit 4aad7dd77953e09b4973df0b37d1cb23d8b0afbf)
(cherry picked from commit e53d034fc85ab2a10e65fd49a54ec3055e5c5b76)
"
openstack%2Fpython-openstackclient~stable%2Fwallaby~I7d70eac8aa1a6197ed05a49f071e6899ec219c03,openstack/python-openstackclient,stable/wallaby,,I7d70eac8aa1a6197ed05a49f071e6899ec219c03,compute: Reorder building of columns for 'server list',MERGED,2021-12-01 01:35:22.000000000,2022-07-05 14:07:24.000000000,2022-07-05 14:07:24.000000000,106,88,0,819937,cb621f22d4547c20f5722058be8d99de936a48c6,6,2,1,1,4690,melanie witt,melwitt,"compute: Reorder building of columns for 'server list'

This has no impact on the end result, but it should make fixing issues
introduced by API microversion 2.69 a little easier.

Change-Id: I7d70eac8aa1a6197ed05a49f071e6899ec219c03
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit 4c3de28e83babb0672950320a20492dc61803b4a)
(cherry picked from commit f4adbcef7b1b18d9454109a020e5e2c6ad78b5f1)
"
openstack%2Ftripleo-upgrade~master~I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c,openstack/tripleo-upgrade,master,cephadm_minor_updates,I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c,Adjust ceph minor update section,MERGED,2022-02-17 09:17:41.000000000,2022-07-05 14:07:03.000000000,2022-07-05 14:07:03.000000000,121,86,38,829661,da06f273cd2be85534542da864c5b89f8467d8e9,39,11,12,6,25402,Francesco Pantano,fmount,"Adjust ceph minor update section

From wallaby+ Ceph is deployed by cephadm and minor updates
are considered day2 operations that can be performed using the
cephadm cli [1].
This patch adjusts current automation from the tripleo-upgrade
project for ceph update related tasks.

`overcloud external-update run --tags ceph` command is replaced with
cephadm. The 'ceph' tags were removed from tht[2] and ceph update can't be
run with TripleO commands. Cephadm should be used instead to safely upgrade
Ceph from one release to the next.

[1] https://docs.ceph.com/en/pacific/cephadm/upgrade/#starting-the-upgrade
[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/830051

Change-Id: I5fe5c10b9f997b12cb87a24cbf00a48f2f6cca8c
"
openstack%2Fpython-openstackclient~stable%2Fxena~I06de6903d5cc427a8b0fdcd168fec47192f4365b,openstack/python-openstackclient,stable/xena,,I06de6903d5cc427a8b0fdcd168fec47192f4365b,Fix typo error in listing server's column name,MERGED,2021-12-01 01:33:20.000000000,2022-07-05 13:57:16.000000000,2022-07-05 13:55:55.000000000,1,1,0,819933,e53d034fc85ab2a10e65fd49a54ec3055e5c5b76,7,3,1,1,4690,melanie witt,melwitt,"Fix typo error in listing server's column name

openstack server list -c ""Created At"" command doesn't work
because the wrong variable was used here.

When we receive resp data, Created At data is saved with
the name ""created"". But in ""server.py"", we append columns
as created_at. So it seems to print an empty table.

Story: 2009149
Task: 43112
Change-Id: I06de6903d5cc427a8b0fdcd168fec47192f4365b
(cherry picked from commit 4aad7dd77953e09b4973df0b37d1cb23d8b0afbf)
"
openstack%2Fironic-lib~master~I97687d815503f2e444f4ecc3ce98ea60aaaa8b20,openstack/ironic-lib,master,drop-queue-ironic,I97687d815503f2e444f4ecc3ce98ea60aaaa8b20,CI: Removing job queue,MERGED,2022-05-19 19:05:06.000000000,2022-07-05 13:55:20.000000000,2022-07-05 13:52:53.000000000,0,1,4,842612,179772a05a08b2e826509c8de22679e467698f07,14,2,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"CI: Removing job queue

Please see:
https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes

Change-Id: I97687d815503f2e444f4ecc3ce98ea60aaaa8b20
"
openstack%2Fheat-cfnclient~master~I64b6f48b210e9d5f0b05aacf18e474d7a42c6e5f,openstack/heat-cfnclient,master,,I64b6f48b210e9d5f0b05aacf18e474d7a42c6e5f,Update min tox version to 2.0,ABANDONED,2018-11-02 07:45:07.000000000,2022-07-05 13:35:08.000000000,,1,1,0,615078,14b6e9cdde142b004647e904cf6ffc9b8e39f409,6,4,1,1,28543,shupeng,Vieri,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: I64b6f48b210e9d5f0b05aacf18e474d7a42c6e5f
"
openstack%2Fneutron~master~I18bbee7b992cf7725e2301343cd9eea37422adcb,openstack/neutron,master,bug/1980727,I18bbee7b992cf7725e2301343cd9eea37422adcb,Add WebTest package to the docs requirements,ABANDONED,2022-07-05 09:19:18.000000000,2022-07-05 13:31:05.000000000,,1,0,2,848730,020eadd16b685ed9f24289f35f102897f32ca606,6,1,1,1,11975,Slawek Kaplonski,slaweq,"Add WebTest package to the docs requirements

Closes-Bug: #1980727
Change-Id: I18bbee7b992cf7725e2301343cd9eea37422adcb
"
openstack%2Ftripleo-ansible~master~Ief3b91d9f1c14bf65fa0e9cadeb71a981a48a6a8,openstack/tripleo-ansible,master,osnet_map_fix,Ief3b91d9f1c14bf65fa0e9cadeb71a981a48a6a8,Ansible_playbook to select ddp package for NFV node provision,MERGED,2022-05-05 13:30:08.000000000,2022-07-05 13:27:22.000000000,2022-07-05 13:27:22.000000000,84,0,12,840664,cb7bc9944bbce08b08e16c5dc6c8d42c56fe7314,28,7,4,1,33688,Vijayalakshmi,VijiC,"Ansible_playbook to select ddp package for NFV node provision

This change adds a playbook related to configuring intel firmware package
for dpdk compute nodes. This can be called during node provision (prior to network config)
This is equivalent of the pre-network role[1]

[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml#L223-L240

Change-Id: Ief3b91d9f1c14bf65fa0e9cadeb71a981a48a6a8
"
openstack%2Ftripleo-heat-templates~master~I3c58a23d26708a1bbe00022cb2d29e577e929f27,openstack/tripleo-heat-templates,master,instance_ha_val,I3c58a23d26708a1bbe00022cb2d29e577e929f27,Validate no services are disabled in pacemaker,NEW,2022-06-10 13:42:57.000000000,2022-07-05 13:04:03.000000000,,12,0,0,845354,69f76420047a56c476a46ff3c310aadb7196f87e,8,4,5,1,7130,David Hill,dhill,"Validate no services are disabled in pacemaker

Validate no services are disabled in pacemaker especially pacemaker
remote service as the configuration steps will timeout after a few
hours if for some reasons the services are disabled and a stack
deploy is ran.

Change-Id: I3c58a23d26708a1bbe00022cb2d29e577e929f27
"
openstack%2Fcharm-trilio-data-mover~master~I1721984e262c643bc99f4491feff7bd7749825ac,openstack/charm-trilio-data-mover,master,support-4.2,I1721984e262c643bc99f4491feff7bd7749825ac,Enable Trilio 4.2,MERGED,2022-06-29 14:59:56.000000000,2022-07-05 13:04:02.000000000,2022-07-05 13:04:02.000000000,310,1168,2,848144,b9963533106bb55d53095e86b1b7009d56d61367,13,3,3,14,12549,gnuoy,gnuoy,"Enable Trilio 4.2

Add new config options and use 4.2 ghostshare class

Change-Id: I1721984e262c643bc99f4491feff7bd7749825ac
"
openstack%2Fcharm-glance-simplestreams-sync~master~I5f96a102be8753eea240cf05e2ca304057101530,openstack/charm-glance-simplestreams-sync,master,bug/1979260,I5f96a102be8753eea240cf05e2ca304057101530,Use yaml.safe_load(),MERGED,2022-07-04 15:00:14.000000000,2022-07-05 12:29:14.000000000,2022-07-05 12:29:14.000000000,1,1,2,848646,5687d74d61a04b4d76a6774858e226ef1aef21ab,9,3,1,1,2424,Felipe Reyes,freyes,"Use yaml.safe_load()

Use safe_load() instead of load() when loading a yaml content, more
details at https://msg.pyyaml.org/load

Closes-Bug: #1979260
Change-Id: I5f96a102be8753eea240cf05e2ca304057101530
"
openstack%2Fironic-lib~master~I79a4b189a7fb220a97d83601002339ebfae45104,openstack/ironic-lib,master,bindep-py3-only,I79a4b189a7fb220a97d83601002339ebfae45104,Remove python version 2 pkgs from bindep,MERGED,2022-02-22 07:50:20.000000000,2022-07-05 12:29:01.000000000,2022-07-05 12:26:37.000000000,1,3,9,830319,0aa35a0edba4cce619d35c9964e975eadb79f9f8,29,4,3,1,24245,Harald Jensås,harald.jensas,"Remove python version 2 pkgs from bindep

Follow up to change: Iee5ac3a778f8106b7f2e96cd9294e2da28fe4def

Since Python version 2 is not supported we can remove these.

Change-Id: I79a4b189a7fb220a97d83601002339ebfae45104
"
openstack%2Fheat~stable%2Fvictoria~I186176b09642b5fbca1a654a52a59e973b8789ee,openstack/heat,stable/victoria,f36-stable/victoria,I186176b09642b5fbca1a654a52a59e973b8789ee,Pin tempest to 26.1.0,ABANDONED,2022-06-06 06:41:41.000000000,2022-07-05 12:12:29.000000000,,2,1,0,844778,b9efca839dd6b3a5b6a34f6e7335f1aecb625a11,3,1,1,1,9816,Takashi Kajinami,kajinamit,"Pin tempest to 26.1.0

Change-Id: I186176b09642b5fbca1a654a52a59e973b8789ee
"
openstack%2Fheat~stable%2Fwallaby~I2de594258231e3f1c217904afce88a83a8f94df3,openstack/heat,stable/wallaby,,I2de594258231e3f1c217904afce88a83a8f94df3,Make grenade job voting again,MERGED,2022-06-20 08:11:23.000000000,2022-07-05 12:04:01.000000000,2022-07-05 12:01:40.000000000,6,3,4,846553,b4d159b87e606024d65bb285576c64bd1c72fecd,34,4,8,2,9816,Takashi Kajinami,kajinamit,"Make grenade job voting again

Because change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported
to the previous stable branch.

Backport note:
This includes the following follow-up commit.

(commit fee8c40c23fb160a4fe64e95a71f827528287690)
Use constraints when creating venv for grenade

As a followup for change I6a8cffdc86c895eebe4269c5cd37841325566c54
let's use branch specific upper constraints when running tests in
grenade.

Change-Id: I2de594258231e3f1c217904afce88a83a8f94df3
(cherry picked from commit fee8c40c23fb160a4fe64e95a71f827528287690)
(cherry picked from commit 03e4f9af62ed66a4df72f5da793f8ce4caf8ac3e)
(cherry picked from commit e3ec8946b3de50c76b2c3b08c2f7356842d3f45a)
"
openstack%2Fpuppet-ironic~stable%2Fxena~I3cd679500edb1206eccd71ffe5e8335a66314842,openstack/puppet-ironic,stable/xena,,I3cd679500edb1206eccd71ffe5e8335a66314842,CentOS 9: Fix unit tests for ironic::pxe,MERGED,2022-06-25 02:33:23.000000000,2022-07-05 11:08:31.000000000,2022-07-05 11:08:31.000000000,96,73,0,847625,3e6254bddf38834b2bcb3d4af4a67e0827ec5c47,9,4,1,1,9816,Takashi Kajinami,kajinamit,"CentOS 9: Fix unit tests for ironic::pxe

This updates unit tests for ironic::pxe to fix failures with CentOS 9
enabled.

Conflicts:
	spec/classes/ironic_pxe_spec.rb

Change-Id: I3cd679500edb1206eccd71ffe5e8335a66314842
(cherry picked from commit cb6f61aebc017c89c6b66dd83cb399a80d9e2d06)
"
openstack%2Fovn-octavia-provider~stable%2Fyoga~I7c75003516015863320e53f0175dec8fdf4e2cf7,openstack/ovn-octavia-provider,stable/yoga,yoga,I7c75003516015863320e53f0175dec8fdf4e2cf7,Apply ServiceMonitorEvent to affected LBs,MERGED,2022-06-17 16:25:40.000000000,2022-07-05 10:37:03.000000000,2022-07-05 10:35:42.000000000,114,71,6,846423,c1f421615ca4fd7bcf6ce8e4d386c90b72446c89,21,4,1,2,34451,Fernando Royo,froyo,"Apply ServiceMonitorEvent to affected LBs

Every Health_Monitor over a LB creates Load_Balancer_Health_Check
NB entry, and it creates 1..n Service_Monitor OVN SB entries according
to the member to be monitored. When more than one LB exists on the
same network segment for the same member, Service_Monitor SB
entries are not duplicated, in order to not performing multiple
checks on the same member.

When a ServiceMonitorUpdateEvent is received with status information
from a member, the LBs that match the event information (protocol,
ip, port and logical_port) are searched. At this way we ensure that
network segments are separated where the same ip and port could match
but the logical_port would be different.

The current logic will update just the status of the first LB selected
as ""related"" to the member event received from the Service_Monitor,
but we could use this information to keep updated all those LBs, that
are in the same network segment and have a Health_Monitor associated
to.

This patch will fix this behaviour in order to provide status to
Octavia of all LBs affected by a ServiceMonitorUpdateEvent.

Partial-Bug: #1965772
Closes-Bug: #1965772
Change-Id: I7c75003516015863320e53f0175dec8fdf4e2cf7
(cherry picked from commit 7db9e23fd9642eacb78731bf215a4820978436ca)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I0083538ae5655e4c1637ed802caba8f0e8dbfa94,openstack/tripleo-heat-templates,stable/wallaby,,I0083538ae5655e4c1637ed802caba8f0e8dbfa94,Add merge strategy for ExtraConfig,MERGED,2022-07-05 02:36:28.000000000,2022-07-05 10:01:57.000000000,2022-07-05 10:01:57.000000000,4,0,1,848681,1a763ca438ba4b60942a8f329d24f8e7fe1939bf,9,5,1,1,8833,Rabi Mishra,rabi,"Add merge strategy for ExtraConfig

This is a backport of 2 commits.

- Add merge strategy for ExtraConfig

It seems users are relying on the undocumented behaviour
that merges maps for *ExtraConfig in multiple environment
files.

- Provide default values for ExtraConfig parameters

In Iafb291419822362be2ab6755589d49f78543dc54 we added merge
strategies for ExtraConfig. However, those would be ignored
without them in overcloud-resource-registry-puppet.j2.yaml

Depends-On: https://review.opendev.org/c/openstack/heat/+/848598
Resolves: rhbz#2102466
Change-Id: I0083538ae5655e4c1637ed802caba8f0e8dbfa94
(cherry picked from commit 2e1b4ef0a0a79d976872f1627dca0ad81b219afe and
cherry picked from commit 7c04fad7286fb26424c9395923097b32aae2c1a0)
"
openstack%2Ftooz~stable%2Ftrain~I5ea06ebd2b976465ff82f10a74e140f30e9e803f,openstack/tooz,stable/train,fix-ci,I5ea06ebd2b976465ff82f10a74e140f30e9e803f,Fix broken CI and PyMySQL support,ABANDONED,2021-05-19 15:41:58.000000000,2022-07-05 10:01:41.000000000,,14,10,1,792193,9febe34244f2ab428aa4efebcd714ccdb6d5dbce,4,2,1,3,15334,Stephen Finucane,sfinucan,"Fix broken CI and PyMySQL support

This is a combination of two patches that depend on
each other to fix a breakage with PyMySQL 0.10.0 and
fixing the up the CI to a working state.

1. Blacklist etcd3gw 0.2.6

etcd3gw 0.2.6 was blacklisted in openstack/requirements [0], because
that version has a bug [1].

tooz does not use openstack/requirements' upper constraints, so the
same blacklisting needs to be introduced here in setup.cfg.

[0] Icb6873d8c5d3a3624c0ac3d76fc9125c5d8134b2
[1] https://github.com/dims/etcd3-gateway/issues/41

Change-Id: I22b955419014dd34c63e406c488e0636ffe9013b
Closes-Bug: #1891314
(cherry picked from commit 3f0759091c9fddf4d1486188015fc526e66cd73e)
(cherry picked from commit c8d77ee485746c4367528e542063d5a045c4b6f3)

2. Fix breakage with PyMySQL 0.10.0

In this version a Connection is no longer a context manager. Fix
it by simply getting a Cursor out of it (locks don't seem to
interact with transactions, at least according to MariaDB docs).

Change-Id: I5ea06ebd2b976465ff82f10a74e140f30e9e803f
(cherry picked from commit d59b283440e96959e6ad1b9ce2aa154c31e71480)
(cherry picked from commit 667e2ec1f4d179c1ec9bd5f89ed12a50cad71e24)
"
openstack%2Ftooz~stable%2Ftrain~If233680e6a00a105a7a77a48386bcea9aaba18de,openstack/tooz,stable/train,fix-ci,If233680e6a00a105a7a77a48386bcea9aaba18de,Fix requirements for python2.7,ABANDONED,2021-05-19 15:41:58.000000000,2022-07-05 10:01:36.000000000,,9,4,0,792194,11e6d18a06d9b99147ad5fb640895044efeefc8c,3,1,1,4,15334,Stephen Finucane,sfinucan,"Fix requirements for python2.7

Change-Id: If233680e6a00a105a7a77a48386bcea9aaba18de
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftooz~stable%2Ftrain~Ief3931d36b7f20860be733a498b3743d1f10938f,openstack/tooz,stable/train,bug/1980079,Ief3931d36b7f20860be733a498b3743d1f10938f,TODO,ABANDONED,2022-07-05 10:00:15.000000000,2022-07-05 10:00:40.000000000,,19,14,0,848734,8567cc924cec318144115b563155ae6cf6125254,2,0,1,4,15334,Stephen Finucane,sfinucan,"TODO

Changes:
  setup.cfg
  test-requirements.txt
  tooz/drivers/mysql.py

NOTE(stephenfin): We also need to set some caps for libraries that
failed to indicate that they had dropped Python 2.7 support using the
proper 'python_requires' setuptools keyword (or equivalent). This
includes 'grpcio' and 'sysv-ipc' (dependencies on the 'etcd3' and 'ipc'
extras in 'setup.cfg', respectively) and 'pifpaf' in
'test-requirements.txt'. We also need to blacklist etcd3gw 0.2.6 to keep
the requirements job happy. This was done elsewhere via change
I22b955419014dd34c63e406c488e0636ffe9013b. Finally, we need to fix a
breakage with PyMySQL 0.10.0. In that version a Connection is no longer
a context manager. We fix this by simply getting a Cursor out of it
(locks don't seem to interact with transactions, at least according to
MariaDB docs). This was done elsewhere via change
I5ea06ebd2b976465ff82f10a74e140f30e9e803f.

Change-Id: Ief3931d36b7f20860be733a498b3743d1f10938f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcharm-manila-ganesha~master~I4d3736300f75b9811f4f6525b5454c7e495ef566,openstack/charm-manila-ganesha,master,bug/1925975,I4d3736300f75b9811f4f6525b5454c7e495ef566,Added NRPE checks for manila-ganesha charm.,MERGED,2022-06-30 06:51:20.000000000,2022-07-05 09:52:56.000000000,2022-07-05 09:52:56.000000000,480,2,5,848219,65ca408318ac637ef4787e61d5ec48f4d4477502,18,3,3,13,35007,Chi Wai CHAN,Ray,"Added NRPE checks for manila-ganesha charm.

- added 3 basic checks to check: nfs connection, nfs services, and nfs shares
- updated test bundles to include nrpe and nrpe-external-master for
  functional tests.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/806

Closes-bug: #1925975
Change-Id: I4d3736300f75b9811f4f6525b5454c7e495ef566
"
openstack%2Fopenstack-ansible-os_horizon~master~I5676d358d1ec38904fc067ab5f14711358f6031c,openstack/openstack-ansible-os_horizon,master,,I5676d358d1ec38904fc067ab5f14711358f6031c,Release pyscss constraints,MERGED,2022-07-04 09:29:37.000000000,2022-07-05 09:38:30.000000000,2022-07-05 09:36:09.000000000,2,9,0,848589,2c9f231d6aea5d11f3033a5812656d96e757f206,10,3,2,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Release pyscss constraints

With [1] pyscss version was bumped to 1.4.0. With that horizon also
requires pyscss>=1.4.0 which means there's no need to additionally
constraint it.

We also temporary disable all functional jobs to resolve circular
dependency.

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible/+/847272
[1] https://opendev.org/openstack/requirements/commit/4fa5acc415610d1c0273bb9d5095bfef94060d9c

Change-Id: I5676d358d1ec38904fc067ab5f14711358f6031c
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Iec23801a9eec1830469a53ab5ffc641125b5d3ff,openstack/python-tripleoclient,stable/wallaby,ceph_ansible_cleanup-stable/wallaby,Iec23801a9eec1830469a53ab5ffc641125b5d3ff,Fail the overcloud deploy is ceph-ansible.yaml is included,ABANDONED,2022-04-21 08:12:47.000000000,2022-07-05 09:35:35.000000000,,69,4,7,838704,b8d7aa46e06a1d6f032d7ee365578baf2870b092,14,4,1,4,25402,Francesco Pantano,fmount,"Fail the overcloud deploy is ceph-ansible.yaml is included

TripleO recently concluded the migration to the new ceph deployment
tool (cephadm). The ceph-ansible.yaml environment file, however, is
still relevant in an upgrade context, where ceph-ansible rolling
update playbook is executed.
For this reason, this patch introduces a new validation to make sure
this environment file and the related registry resources can be used
during the update/upgrade context but not when a regular overcloud
deploy or stack updates are executed.

Change-Id: Iec23801a9eec1830469a53ab5ffc641125b5d3ff
(cherry picked from commit c455a4142c18409d9f5207cd17222d176f4ae71c)
"
openstack%2Fneutron~master~Ib3f3318440c79909090616b9d480b8dbf55e7b81,openstack/neutron,master,fix-docs-requirement,Ib3f3318440c79909090616b9d480b8dbf55e7b81,Fix requirements for doc build,MERGED,2022-07-05 08:28:21.000000000,2022-07-05 09:33:11.000000000,2022-07-05 09:31:49.000000000,1,0,1,848706,62568cf307449526fd0debb8c5faaa13f06f25eb,10,6,1,1,13252,Dr. Jens Harbott,jrosenboom,"Fix requirements for doc build

The doc build needs WebTest, which used to be imported as a transitive
requirement via pecan, but the latest release of pecan dropped this
dependency. So make this requirement explicit.

Change-Id: Ib3f3318440c79909090616b9d480b8dbf55e7b81
"
openstack%2Freleases~master~I581a00019f59b453ef2ef7ac78fa1f9a9cea4ac0,openstack/releases,master,glance-tempest-plugin,I581a00019f59b453ef2ef7ac78fa1f9a9cea4ac0,Release glance-tempest-plugin 0.4.0,MERGED,2022-07-01 10:16:16.000000000,2022-07-05 09:25:06.000000000,2022-07-05 09:25:06.000000000,5,0,1,848404,120ba96d2fca33b8b885a3d8caa12a7f95f7d3e0,9,4,1,1,10459,Luigi Toscano,ltoscano,"Release glance-tempest-plugin 0.4.0

Intermediate release. There are a lot of changes compared
to the previous tag (mostly RBAC-related)

Change-Id: I581a00019f59b453ef2ef7ac78fa1f9a9cea4ac0
"
openstack%2Fovn-octavia-provider~stable%2Fxena~Iad9839ce99d50b969924b3fe369301b6dfed369d,openstack/ovn-octavia-provider,stable/xena,,Iad9839ce99d50b969924b3fe369301b6dfed369d,Delete vip port if create_vip_port raise exception,MERGED,2022-07-04 08:32:12.000000000,2022-07-05 09:15:05.000000000,2022-07-05 09:13:55.000000000,37,0,1,848579,aae410fc85e7ca9341d37961731d16af369f2ab2,12,3,1,2,34451,Fernando Royo,froyo,"Delete vip port if create_vip_port raise exception

Sometimes on heavy load over Neutron, operations over
neutron client could raise a NeutronClientException that
could cover, e.g. a timeout. In those case, sometimes the
request finish after the client timeout and we have
leftover resource.

create_vip_port is called from Octavia API just before
the create LB request, if this call raise a timeout
maybe the vip port is finally created and linked to a LB
that is not going to be created, so we have this port
unuse.

This patch will try to remove the leftover port for those
situations.

Closes-Bug: #1973765
Change-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d
(cherry picked from commit cd3264a07e047b589e4064855169c37f17343e60)
"
openstack%2Fneutron-tempest-plugin~master~I9fbcdd0f30beeb6985bab4de4d53af639f408c75,openstack/neutron-tempest-plugin,master,,I9fbcdd0f30beeb6985bab4de4d53af639f408c75,Add a test for removing security group from ACTIVE instance,MERGED,2022-06-07 11:09:34.000000000,2022-07-05 08:40:42.000000000,2022-07-05 08:40:42.000000000,30,0,116,844958,e3230013a6bfd6410fa7edbf92bb307f9c8eb237,67,13,16,1,34819,ayenachew molla,amolla,"Add a test for removing security group from ACTIVE instance

Test name: ""test_remove_sec_grp_from_active_vm""
1) Create SG associated with ICMP rule
2) Create Port (assoiated to SG #1) and use it to create the VM
3) Ping the VM, expected should be PASS
4) Remove the security group from VM by Port update
5) Ping the VM, expected should be FAIL

Change-Id: I9fbcdd0f30beeb6985bab4de4d53af639f408c75
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ida8e79d5cf1a4ecf80dbe855798c3732ced06260,openstack/tripleo-heat-templates,stable/wallaby,bug/1978892,Ida8e79d5cf1a4ecf80dbe855798c3732ced06260,ironic tftp: Do not format IPv6 address for bind_host,MERGED,2022-07-04 16:40:18.000000000,2022-07-05 08:38:07.000000000,2022-07-05 08:38:07.000000000,1,1,0,848651,e36b018e86cb0d668c0121849a34d172df1c5be5,9,5,1,1,9816,Takashi Kajinami,kajinamit,"ironic tftp: Do not format IPv6 address for bind_host

dnsmasq does not accept IPv6 addresses surrounded by [] and we should
pass a raw IP string without [].

Conflicts:
	deployment/ironic/ironic-conductor-container-puppet.yaml

Resolved conflict caused by replacement of the hiera functions.

Closes-Bug: #1978892
Change-Id: Ida8e79d5cf1a4ecf80dbe855798c3732ced06260
(cherry picked from commit 3290e6f9de3a905085a6e29ebb4cbf9f2d8d41db)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id5c6cf3e41e22ee5275d0fd822b313333bfa1b33,openstack/tripleo-heat-templates,stable/wallaby,,Id5c6cf3e41e22ee5275d0fd822b313333bfa1b33,Ironic: Use generated dnsmasq conf file,MERGED,2022-06-16 01:36:05.000000000,2022-07-05 08:38:04.000000000,2022-07-05 08:38:04.000000000,3,2,2,846079,323f78eeb6beeaa5dc850234460b3e7478c2b559,14,5,1,1,9816,Takashi Kajinami,kajinamit,"Ironic: Use generated dnsmasq conf file

Current puppet-ironic supports generating config file to run dnsmasq
as tftp server.

This change replaces usage of hiera CLI by the generated file to reduce
usage of deprecated hiera CLI.

Conflicts:
	deployment/ironic/ironic-pxe-container-puppet.yaml

resolved a conflict caused by ebab335f3826eabb8d3ec4434cc6d010a4ff453a

Change-Id: Id5c6cf3e41e22ee5275d0fd822b313333bfa1b33
(cherry picked from commit 881334004ad45ee7e962e42db45c7011fc26f045)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b,openstack/tripleo-heat-templates,stable/wallaby,bug/1967021-stable/wallaby,Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b,Fix service dependency on libvirt daemons,MERGED,2022-05-30 13:33:16.000000000,2022-07-05 08:38:00.000000000,2022-07-05 08:38:00.000000000,56,2,4,843866,1b8039b81d72cfb6bd0d799195ccb92ae2ab046c,37,6,6,3,6926,Bogdan Dobrelya,bogdando,"Fix service dependency on libvirt daemons

Since commit 768b66f885cd43552e63acfeb6c2ab68a5668e90 was merged,
TripleO deploys modular libvirt daemons instead of monolithic one.

When modular libvirt daemons are used, the nova_libvirt container is
no longer used and service dependency should rely on individual daemons
like nova_virtqemud.

This change introduces the new tripleo_nova_libvirt.target systemd unit
so that we can define service dependencies more easily and consisently.

Co-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>
Closes-Bug: #1967021
Change-Id: Id3f9e6320fc8bfc8e59cae2308fe4cb118643a9b
(cherry picked from commit d15794339bd4ad0d4a37bbb8083dc9bb9052e0e9)
"
openstack%2Fopenstack-zuul-jobs~master~I29f201332286eb975e522802c6d96cc892ad2cd2,openstack/openstack-zuul-jobs,master,zuul-build-workspace-uuid,I29f201332286eb975e522802c6d96cc892ad2cd2,WIP: Update 'src/' by prepending zuul build uuid,ABANDONED,2020-06-16 17:35:19.000000000,2022-07-05 08:30:36.000000000,,18,14,0,735979,5cf606793f4d8e7c7989afb2bd94f51551edc409,6,1,2,5,31905,Guillaume Chauvel,gchauvel,"WIP: Update 'src/' by prepending zuul build uuid

When using max-parallel-jobs>1 for nodepool static provider, 2+ jobs will
overlap and prepare-workspace will remove files created by an already running
jobs
Thus 'src/' is prepended with zuul build 'uuid'

Depends-On: Circular Dependency Ib78ce4272995680f37ddede73fe6622bcb5c9443
Change-Id: I29f201332286eb975e522802c6d96cc892ad2cd2
"
openstack%2Fneutron-lib~master~I940cb6b66a9d79b45fb29db1afdfea1aea621f76,openstack/neutron-lib,master,remove_constants,I940cb6b66a9d79b45fb29db1afdfea1aea621f76,Remove unused placement constants,MERGED,2022-07-01 13:22:34.000000000,2022-07-05 08:15:21.000000000,2022-07-05 08:13:34.000000000,6,8,3,848445,89dc650220244628ea78f58ea2771a2ca0c63a73,14,5,2,2,32667,Mamatisa Nurmatov,isabek,"Remove unused placement constants

Neutron now uses os-resources-classes lib constants [1],
neutron-lib constants can be removed.

1) https://review.opendev.org/c/openstack/neutron/+/799676/

Change-Id: I940cb6b66a9d79b45fb29db1afdfea1aea621f76
"
openstack%2Fcharm-neutron-openvswitch~master~I991fb6943d833d45e632358141b130c0f2225c09,openstack/charm-neutron-openvswitch,master,,I991fb6943d833d45e632358141b130c0f2225c09,add nagios checks,MERGED,2021-11-02 15:29:28.000000000,2022-07-05 08:10:13.000000000,2022-07-05 08:10:13.000000000,866,0,5,816366,7929fc4909cadad1c2dff93979fd108b62ff8648,25,3,7,12,33613,John Lettman,jplettman,"add nagios checks

Updates charmhelpers for nrpe; adds metadata and config entries for nrpe relation; adds services and ovs liveliness nrpe checks.

Change-Id: I991fb6943d833d45e632358141b130c0f2225c09
"
openstack%2Fpython-saharaclient~master~I921aabf6df8f783302815ba2a8d6bbe90710ac63,openstack/python-saharaclient,master,,I921aabf6df8f783302815ba2a8d6bbe90710ac63,Switch openstack-python3-zed-jobs,ABANDONED,2022-06-15 07:02:04.000000000,2022-07-05 07:59:46.000000000,,1,1,1,845885,d540251dbf819c8327c3950ebca9a3e2ca9c9b6a,4,4,1,1,34665,anguoming,guomingan,"Switch openstack-python3-zed-jobs

In Zed, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I921aabf6df8f783302815ba2a8d6bbe90710ac63
"
openstack%2Freleases~master~If8ccdad6b6e79f812d10058bc05f032ae596289a,openstack/releases,master,wallaby-stable,If8ccdad6b6e79f812d10058bc05f032ae596289a,Release trove-dashboard for stable/wallaby,MERGED,2022-06-28 10:31:22.000000000,2022-07-05 07:48:05.000000000,2022-07-05 07:48:05.000000000,4,0,1,847940,31668d88719eddb5c7ff3ce09ff77b7cf3a37796,9,5,1,1,17685,Elod Illes,elod.illes,"Release trove-dashboard for stable/wallaby

This release picks up new commits to trove-dashboard since
the last release from stable/wallaby.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 16.0.0..3a6e79c
3a6e79c Fix the configuration issue
5d40d07 Fix log actions
a0da9cd Fix nova client initialization in multi-region cloud
c3f0c85 Change the configuration group panel name
7c0cdbd Update TOX_CONSTRAINTS_FILE for stable/wallaby
eebe6c2 Update .gitreview for stable/wallaby

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: If8ccdad6b6e79f812d10058bc05f032ae596289a
"
openstack%2Fswift~master~I155dd81167c84714fdc82c0caf757ce0aab18700,openstack/swift,master,safe-reload,I155dd81167c84714fdc82c0caf757ce0aab18700,Swift-reload: maybe use psutils?,NEW,2022-07-05 06:24:56.000000000,2022-07-05 07:47:05.000000000,,19,23,0,848691,d6cfcb16a4c15905665d900554eadaa81d05c316,3,1,1,3,7233,Matthew Oliver,mattoliverau,"Swift-reload: maybe use psutils?

Maybe rather then calling out to ps with subprocess we could look at
using psutil, it seems to be mature and used a bunch elsewhere.

Change-Id: I155dd81167c84714fdc82c0caf757ce0aab18700
"
openstack%2Fheat~stable%2Fxena~I1b99f8d039271bff8e64d64ad5482231bf2a2118,openstack/heat,stable/xena,heat-remove-tripleo,I1b99f8d039271bff8e64d64ad5482231bf2a2118,Remove TripleO job,MERGED,2022-05-25 04:40:41.000000000,2022-07-05 07:45:39.000000000,2022-07-05 07:43:37.000000000,0,3,0,843231,e6a8e66c78f36b9b7f609a8ec7f80e48b155b957,9,3,1,1,9816,Takashi Kajinami,kajinamit,"Remove TripleO job

This removes the experimental TripleO job. The job has been kept in
experimental queue and it has never attracted actual attention.
Also the job does not use the proposed change in heat but the current
master instead, so it's not useful to be in the Heat jobs.

(yoga to xena)
Conflicts:
	.zuul.yaml

Change-Id: I1b99f8d039271bff8e64d64ad5482231bf2a2118
(cherry picked from commit b3430d9fc2d82820ea14d21381efabe5e22f8925)
(cherry picked from commit c2b8f3c710b05b24c075a98204de9e121a0dc743)
"
openstack%2Ftripleo-heat-templates~master~I6862b85afa226af98cf09ef2a57e5cb02bf53fb0,openstack/tripleo-heat-templates,master,,I6862b85afa226af98cf09ef2a57e5cb02bf53fb0,Remove unused Keyname parameter,ABANDONED,2022-07-05 07:22:58.000000000,2022-07-05 07:34:37.000000000,,5,6,0,848696,32a62f373308c6fb57387b8a676be0b3f17d265f,3,0,2,3,9816,Takashi Kajinami,kajinamit,"Remove unused Keyname parameter

The parameter has been unused since we removed Nova from Undercloud.

Change-Id: I6862b85afa226af98cf09ef2a57e5cb02bf53fb0
"
openstack%2Fzun-ui~master~I059e3c95001d1567ad1fec3ed5d1a2c80be2aa94,openstack/zun-ui,master,,I059e3c95001d1567ad1fec3ed5d1a2c80be2aa94,setup.cfg: Replace dashes with underscores,NEW,2022-06-05 02:18:33.000000000,2022-07-05 07:27:55.000000000,,3,3,1,844724,f80c73f7f9e74be4dfa80f689d00258ee4e4fc53,6,2,1,1,33950,Liangyi Ma,maliangyi,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
Change-Id: I7d93587752aa29747a399ff3dfaf116f6d7b21aa

Change-Id: I059e3c95001d1567ad1fec3ed5d1a2c80be2aa94
"
openstack%2Fopenstack-ansible-os_horizon~master~Ie96ef0f55309d08df78b5acd72ecb2456eee6fa2,openstack/openstack-ansible-os_horizon,master,,Ie96ef0f55309d08df78b5acd72ecb2456eee6fa2,Temporary disable horizon functional jobs,ABANDONED,2022-07-05 07:14:49.000000000,2022-07-05 07:16:56.000000000,,0,4,0,848693,e5aeb51ac3cf08b541eb1a2a6714cf6d3e565a4b,2,0,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Temporary disable horizon functional jobs

This is needed to resolve circular dependency that arised after Yoga
branching. Once it's solved, this patch should be reverted

Change-Id: Ie96ef0f55309d08df78b5acd72ecb2456eee6fa2
Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/848589
"
openstack%2Fheat~stable%2Fxena~I71f8398b6aa57b7c1910750b8e048825383e3d9a,openstack/heat,stable/xena,,I71f8398b6aa57b7c1910750b8e048825383e3d9a,Use constraints when creating venv for grenade,MERGED,2022-07-01 15:14:24.000000000,2022-07-05 07:03:36.000000000,2022-07-05 07:01:47.000000000,6,2,6,848363,75815c4ac3683ec5661b910bb354956a26c2dfd2,34,2,1,2,9816,Takashi Kajinami,kajinamit,"Use constraints when creating venv for grenade

As a followup for change I6a8cffdc86c895eebe4269c5cd37841325566c54
let's use branch specific upper constraints when running tests in
grenade.

Change-Id: I71f8398b6aa57b7c1910750b8e048825383e3d9a
(cherry picked from commit 39d653fa5741e45d26388950270e7ed3ca489b89)
(cherry picked from commit 976bcf9ef34014cdd5cf15f97243609c96ac8ee8)
"
openstack%2Ftripleo-heat-templates~master~Id2d128b51f6ccb7292b56a7be33945378f24db6f,openstack/tripleo-heat-templates,master,missing-logging-source,Id2d128b51f6ccb7292b56a7be33945378f24db6f,Ceilometer: Fix missing logging source for ceilometer-compute,NEW,2022-06-25 09:14:02.000000000,2022-07-05 06:10:29.000000000,,10,1,0,847631,9ed3bbf65a1bdfcfc28f98d0634c630db075b489,10,5,1,1,9816,Takashi Kajinami,kajinamit,"Ceilometer: Fix missing logging source for ceilometer-compute

Change-Id: Id2d128b51f6ccb7292b56a7be33945378f24db6f
"
openstack%2Fswift~master~I203607a0576582330241172d05bf8fd223bbbb9d,openstack/swift,master,,I203607a0576582330241172d05bf8fd223bbbb9d,Emit metrics for tempurl & formpost digest usage,MERGED,2022-06-29 22:46:39.000000000,2022-07-05 05:33:04.000000000,2022-07-05 05:31:53.000000000,31,14,2,848195,475cdba65bcd29871b840395576572c0d8399a6b,19,2,4,4,15343,Tim Burke,tburke,"Emit metrics for tempurl & formpost digest usage

Without this, it's really hard for operators to feel comfortable
removing support for now-deprecated digests.

This patch adds new statsd metrics in the form of:

  formpost.digests.<digest>
  tempurl.digest.<digest>

Something like:

  formpost.digessts.sha1
  tempurl.digests.sha512

Change-Id: I203607a0576582330241172d05bf8fd223bbbb9d
"
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492,openstack/puppet-tripleo,stable/wallaby,,I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492,Add support for ovn clustered DB in the octavia ovn-provider,MERGED,2022-07-04 11:59:45.000000000,2022-07-05 03:47:10.000000000,2022-07-05 03:47:10.000000000,25,10,6,848625,0521b4795329486ba9fa6bfcabd6521c2e82b18d,15,4,5,1,29244,Gregory Thiemonge,gthiemonge,"Add support for ovn clustered DB in the octavia ovn-provider

Conflicts:
	manifests/profile/base/octavia/provider/ovn.pp

Change-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492
(cherry picked from commit e6a4118d24358c22843c7bbc6f97ea06a53e7cec)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I8c0f44186a5a8ecb02a7d190f75c6248fae82725,openstack/tripleo-heat-templates,stable/wallaby,barbican-proxy-headers-stable/wallaby,I8c0f44186a5a8ecb02a7d190f75c6248fae82725,Enable enable_proxy_headers_parsing in Barbican API,NEW,2022-07-04 23:18:58.000000000,2022-07-05 03:33:03.000000000,,1,0,0,848602,d333d18f3d0ff0ad979180daea8b8253030b78dd,4,3,1,1,9816,Takashi Kajinami,kajinamit,"Enable enable_proxy_headers_parsing in Barbican API

... so that Barbican API can detect the actual endpoint and client ip.

Change-Id: I8c0f44186a5a8ecb02a7d190f75c6248fae82725
(cherry picked from commit f5f8f4fa7ca5ec56efbaf3813e7578ea5c7f5439)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3ec4703f61fbfd1133d28aa327b7f2374670b613,openstack/tripleo-heat-templates,stable/wallaby,,I3ec4703f61fbfd1133d28aa327b7f2374670b613,Allow customizing policy rules for Placement Api,NEW,2022-07-04 23:22:01.000000000,2022-07-05 03:32:32.000000000,,11,0,0,848675,08b3921d9f5356799944ad6dab60a36ee86e98b6,4,3,1,2,9816,Takashi Kajinami,kajinamit,"Allow customizing policy rules for Placement Api

Conflicts:
	deployment/placement/placement-api-container-puppet.yaml

Depends-on: https://review.opendev.org/801246
Change-Id: I3ec4703f61fbfd1133d28aa327b7f2374670b613
(cherry picked from commit cbd2842dbcd72a696aa0a4677365dd5e7db6f691)
"
openstack%2Fglance~master~I04efbb7fd47b8b1e022d96c40011b6f03508db2e,openstack/glance,master,bug/1979699,I04efbb7fd47b8b1e022d96c40011b6f03508db2e,glance-cache-prefetcher: Set up access to multistore backends,MERGED,2022-06-24 01:04:12.000000000,2022-07-05 03:26:17.000000000,2022-07-05 03:24:51.000000000,15,3,2,847422,6964e627d5b98c2034aea4bebb72cdab7549b6b5,15,3,4,2,9816,Takashi Kajinami,kajinamit,"glance-cache-prefetcher: Set up access to multistore backends

... because the command requires access to backend stores to pull image
data.

Closes-Bug: #1979699
Change-Id: I04efbb7fd47b8b1e022d96c40011b6f03508db2e
"
openstack%2Fcyborg-tempest-plugin~master~Ief351e1dccb7f0f40d8a54d20c9af9c292c31526,openstack/cyborg-tempest-plugin,master,master11,Ief351e1dccb7f0f40d8a54d20c9af9c292c31526,add list devices filter by hostname,MERGED,2022-07-04 02:46:48.000000000,2022-07-05 02:52:06.000000000,2022-07-05 02:52:06.000000000,11,0,1,848416,253c363414adedde2c315ccbd496c0bf7502d31f,7,3,1,1,30409,wangzhiguang,wangzhiguang,"add list devices filter by hostname

add list devices filter by hostname testcase

Change-Id: Ief351e1dccb7f0f40d8a54d20c9af9c292c31526
"
openstack%2Fdiskimage-builder~master~I33ef4bd63626e1109d9c5ba98e86c1afabc18573,openstack/diskimage-builder,master,enable_openeuler_mirror,I33ef4bd63626e1109d9c5ba98e86c1afabc18573,Enable Yum mirror for openEuler element,ABANDONED,2022-03-16 08:46:46.000000000,2022-07-05 02:50:55.000000000,,14,4,3,833969,493513a06e611d97d0fad4ddd02c69563d633665,21,3,4,3,15054,wangxiyuan,wangxiyuan,"Enable Yum mirror for openEuler element

openEuler element now always use repo.openeuler.org for its Yum
repo. It'll cause speed problem if the user is far from HongKong.

This patch add DIB_DISTRIBUTION_MIRROR for openEuler element the
same as other Distro. So that user can use a faster mirror for
openEuler Yum repo.

Change-Id: I33ef4bd63626e1109d9c5ba98e86c1afabc18573
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Iafb291419822362be2ab6755589d49f78543dc54,openstack/tripleo-heat-templates,stable/wallaby,,Iafb291419822362be2ab6755589d49f78543dc54,Add merge strategy for ExtraConfig,ABANDONED,2022-06-30 23:17:44.000000000,2022-07-05 02:37:48.000000000,,2,0,2,848287,f036a5252068fe0648193038c31a5fbe7b0a40c0,6,3,1,1,9816,Takashi Kajinami,kajinamit,"Add merge strategy for ExtraConfig

It seems users are relying on the undocumented behaviour
that merges maps for *ExtraConfig in multiple environment
files.

Resolves: rhbz#2102466
Change-Id: Iafb291419822362be2ab6755589d49f78543dc54
(cherry picked from commit 2e1b4ef0a0a79d976872f1627dca0ad81b219afe)
"
openstack%2Fskyline-console~master~I5954f560fc9b26b274c3e29549e225c02c5de1ce,openstack/skyline-console,master,open-image-rs,I5954f560fc9b26b274c3e29549e225c02c5de1ce,feat: add create image resource,ABANDONED,2022-07-04 08:33:27.000000000,2022-07-05 02:00:50.000000000,,26,0,1,848581,ed513e70bdd2c4fe96ef784180aef96296cd34a4,9,3,3,1,33689,xusongfu,xusongfu,"feat: add create image resource

Add create image resource command for other tests

Change-Id: I5954f560fc9b26b274c3e29549e225c02c5de1ce
"
openstack%2Fglance~master~I92ec228ebe9ac8eadb56dfe152535d3d6eedd62f,openstack/glance,master,bug/1647491,I92ec228ebe9ac8eadb56dfe152535d3d6eedd62f,Adds purge command to glancemanage man page,NEW,2017-02-01 10:49:59.000000000,2022-07-05 01:52:52.000000000,,32,0,14,427634,b17f770b5fee3d52cece8451b7adb3f944270404,34,5,8,1,9064,Danny Al-Gaaf,dalgaaf,"Adds purge command to glancemanage man page

Closes-Bug: #1647491

Change-Id: I92ec228ebe9ac8eadb56dfe152535d3d6eedd62f
Signed-off-by: Danny Al-Gaaf <danny.al-gaaf@bisect.de>
"
openstack%2Fglance~stable%2Fyoga~I9d1c25638584fe346e3937d0536413d548d46e8e,openstack/glance,stable/yoga,backport/bug/1980049,I9d1c25638584fe346e3937d0536413d548d46e8e,[APIImpact] Correct API response code for DELETE cache APIs,MERGED,2022-06-28 17:43:28.000000000,2022-07-05 01:14:08.000000000,2022-07-05 01:12:53.000000000,22,2,1,848001,ea4ed6dfec2ade544ba30e3324e6c7def6a3eddd,9,4,2,3,9303,Abhishek Kekane,abhishekkekane,"[APIImpact] Correct API response code for DELETE cache APIs

DELETE /v2/cache/{image_id} and /v2/cache returns HTTP 200 response
code to user but as per proposal it should be HTTP 204. This change
returns HTTP 204 response to user.

Closes-Bug: #1980049
Change-Id: I9d1c25638584fe346e3937d0536413d548d46e8e
(cherry picked from commit a71f7ba44e57a7945addb82afd2a19962d5c04cc)
"
openstack%2Fdesignate-tempest-plugin~master~If7aa1033d52b71a6e01559b6cd468d2f5e6ddf9c,openstack/designate-tempest-plugin,master,Transfer_request,If7aa1033d52b71a6e01559b6cd468d2f5e6ddf9c,Transfer Request - refactoring and new test cases,MERGED,2022-06-19 15:18:26.000000000,2022-07-05 01:01:34.000000000,2022-07-05 01:00:27.000000000,35,11,20,846495,ced8704b752a59ff7a3156bbbe4eae3a7c7bde2c,22,7,5,2,34067,Lilach Avraham,lavraham,"Transfer Request - refactoring and new test cases

1) Refactoring:
   - Replace Python underscore variable with indexing.
   - Remove the ""message"" assertion
2)""test_create_transfer_request_404""
   - Try to create a transfer request with random id
3)""test_zone_transfer""
   - Validation that transfer_accept deleted
     after the transfer_request delete

Change-Id: If7aa1033d52b71a6e01559b6cd468d2f5e6ddf9c
"
openstack%2Fglance~master~I0758590e2286205c4f6dc441241dc32c0d840dd5,openstack/glance,master,bug/1712463,I0758590e2286205c4f6dc441241dc32c0d840dd5,Specify a python executable for prlimits when using uwsgi,NEW,2018-01-05 20:47:18.000000000,2022-07-05 00:52:56.000000000,,61,3,18,531498,30c615892bb31ae2b93b117c39944bbdc1f42875,50,10,14,4,5196,Matthew Treinish,treinish,"Specify a python executable for prlimits when using uwsgi

This commit address the prlimit issue when running taskflow executors
under uwsgi. The uwsgi server links libpython.so and the path to the
uwsgi binary becomes the value for sys.executable so processutils can't
figure out whch python executable is actually being used when it needs
to launch python for prlimits enforcement. An option to workaround this
by specifing an executable was added to oslo.concurrency and this commit
leverages it. By default glance will use /usr/bin/python{2,3} (based on
python version) but a user can optionally specify a specific path to an
executable to use for this.

Closes-Bug: #1712463

Depends-On: I2b2b0d865224413254051581b382ff206aae0180
Change-Id: I0758590e2286205c4f6dc441241dc32c0d840dd5
"
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I44f2a823abd4c2880723337b7478eb72817420d6,openstack/puppet-tripleo,stable/wallaby,,I44f2a823abd4c2880723337b7478eb72817420d6,Octavia: Add unit tests for ovn clustered DB,NEW,2022-07-05 00:10:55.000000000,2022-07-05 00:30:19.000000000,,18,0,0,848603,d62d25c27464758f93814759f519d6938ada2d16,2,1,1,1,9816,Takashi Kajinami,kajinamit,"Octavia: Add unit tests for ovn clustered DB

This is follow-up of e6a4118d24358c22843c7bbc6f97ea06a53e7cec and adds
the unit test case to test support for ovn clustered DB added by that
change.

Change-Id: I44f2a823abd4c2880723337b7478eb72817420d6
(cherry picked from commit 479054936d469b2fce33690b4b7bbcd72589bb5c)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id6d0699123b9e9b75011ee94949ec4a69012f9af,openstack/tripleo-heat-templates,stable/wallaby,deployed_ceph_ci-stable/wallaby,Id6d0699123b9e9b75011ee94949ec4a69012f9af,THT cleanup of scenario001/004/010 for Deployed Ceph,MERGED,2022-06-30 17:42:53.000000000,2022-07-05 00:05:21.000000000,2022-07-05 00:05:21.000000000,4,25,8,848279,1d13612ff3fd222a868b2ad93694408bb0d21bc4,44,4,10,3,18002,John Fulton,fultonj,"THT cleanup of scenario001/004/010 for Deployed Ceph

Remove parameters which are not used when ""deployed ceph""
is used. The CephClusterFSID, ""DeployedCeph: true"", and
data_devices (from the soon to be deprecated CephOsdSpec)
will be set in the deployed_ceph.yaml environment file
which is generated and passed to the overcloud deployment
by I982dedb53582fbd76391165c3ca72954c129b84a.

Depends-On: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797
Change-Id: Id6d0699123b9e9b75011ee94949ec4a69012f9af
(cherry picked from commit be7f55bdf66280832768b27a7e2c8e4be8774c26)
"
openstack%2Ftripleo-heat-templates~master~Ida8e79d5cf1a4ecf80dbe855798c3732ced06260,openstack/tripleo-heat-templates,master,bug/1978892,Ida8e79d5cf1a4ecf80dbe855798c3732ced06260,ironic tftp: Do not format IPv6 address for bind_host,MERGED,2022-06-16 02:35:15.000000000,2022-07-04 23:10:04.000000000,2022-07-04 23:10:04.000000000,1,1,8,846081,3290e6f9de3a905085a6e29ebb4cbf9f2d8d41db,29,4,1,1,9816,Takashi Kajinami,kajinamit,"ironic tftp: Do not format IPv6 address for bind_host

dnsmasq does not accept IPv6 addresses surrounded by [] and we should
pass a raw IP string without [].

Closes-Bug: #1978892
Change-Id: Ida8e79d5cf1a4ecf80dbe855798c3732ced06260
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I9c62591639fdee7fc48faa60578cd857c4a48fc6,openstack/tripleo-ansible,stable/wallaby,bnr_composable-stable/wallaby,I9c62591639fdee7fc48faa60578cd857c4a48fc6,bnr - backup of the control plane in composable roles deployment,MERGED,2022-06-29 09:09:43.000000000,2022-07-04 23:10:01.000000000,2022-07-04 23:10:01.000000000,39,17,2,848060,1c3160a28bae58e048580a2b6dc08d65399fc39f,14,7,1,5,34423,Fernando Díaz Bravo,fdiazbra,"bnr - backup of the control plane in composable roles deployment

Support for automated backup of the groups of nodes specified by the ""tripleo_controller_group_name"" variable.

Change-Id: I9c62591639fdee7fc48faa60578cd857c4a48fc6
(cherry picked from commit d1c2a6509f33d95fdcbcb0a2a4c0c06557e63abb)
"
openstack%2Frequirements~stable%2Fyoga~Ia7f81259e3c9db2d13afe77b2f7312f9a131ffd1,openstack/requirements,stable/yoga,new-release,Ia7f81259e3c9db2d13afe77b2f7312f9a131ffd1,update constraint for python-manilaclient to new release 3.3.1,MERGED,2022-07-04 12:13:32.000000000,2022-07-04 22:23:14.000000000,2022-07-04 22:23:14.000000000,1,1,0,848627,fafd055d31584651a69a5bcf42e5da96525df037,11,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-manilaclient to new release 3.3.1

meta: version: 3.3.1
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: silvacarloss <ces.eduardo98@gmail.com>
meta: release:Commit: silvacarloss <ces.eduardo98@gmail.com>
meta: release:Change-Id: Ib4319d2c8e138073d889bbede29843c7bc014223
meta: release:Code-Review+1: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ia7f81259e3c9db2d13afe77b2f7312f9a131ffd1
"
openstack%2Ftripleo-heat-templates~master~I740a87bdf9ce9fccc34e661c48053ac8c969b5db,openstack/tripleo-heat-templates,master,,I740a87bdf9ce9fccc34e661c48053ac8c969b5db,[collectd] Remove processes plugin from default list,MERGED,2022-06-28 21:05:30.000000000,2022-07-04 22:22:06.000000000,2022-07-04 22:20:55.000000000,6,2,7,848031,91ee65408e6f4eb70338b42bc7c3791272c14dbd,21,7,5,3,7294,Leif Madsen,leifmadsen,"[collectd] Remove processes plugin from default list

Remove the processes plugin from the default collectd plugins list as it
can cause logging to be flooded with messages such as 'procs_running not
found'.

Change-Id: I740a87bdf9ce9fccc34e661c48053ac8c969b5db
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
"
openstack%2Fcharm-swift-storage~master~I9effc6052524ead9817454912284e3c48ce55901,openstack/charm-swift-storage,master,bug/1879423,I9effc6052524ead9817454912284e3c48ce55901,Changes to the default inode size,MERGED,2022-06-13 19:48:48.000000000,2022-07-04 20:43:21.000000000,2022-07-04 20:43:21.000000000,23,5,34,845629,98c67e4d92cd4a9dbae16e8f7f6ff1d6e1bd186d,72,7,15,2,34959,Francesco De Simone,fdesi,"Changes to the default inode size

As per the bug report, the xfs-inode-size default value is in contradiction with the current upstream advice.
This patch removes the default value and accept the filesystem defaults for mkfs.xfs inode sizes.

Closes-Bug: #1879423
Change-Id: I9effc6052524ead9817454912284e3c48ce55901
"
openstack%2Ftooz~stable%2Fussuri~Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1,openstack/tooz,stable/ussuri,redis-retry-fix,Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1,Enable retries in redis driver,MERGED,2022-06-22 13:10:23.000000000,2022-07-04 20:03:10.000000000,2022-07-04 20:01:09.000000000,41,36,4,847152,816ea504c92b141b34759faaf814698499fa0c75,21,4,3,2,13177,Emma Foley,emma-l-foley,"Enable retries in redis driver

this is followup to Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b

actually retry for specified number of retries instead of raising
error on first ConnectionError

Change-Id: Ibca3f568b65dfea252da4b67f6d5105ba7f1ecb1
(cherry picked from commit 47c4d56e446a49726e7145c6cbc3bb7620a431f7)
(cherry picked from commit 11526e594c7e7cef8b5a4a4220f100d76a418036)
(cherry picked from commit c1ae1649d22b356f2bbb2293cb421eb155fdee14)
"
openstack%2Ftooz~stable%2Fussuri~Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b,openstack/tooz,stable/ussuri,redis-retry-fix,Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b,Retry on redis connection errors,MERGED,2022-06-22 13:25:22.000000000,2022-07-04 20:02:11.000000000,2022-07-04 20:01:06.000000000,78,52,2,847174,0734d86ae2322aeff92a2d44aa9b796bb7a14c26,12,3,2,1,15334,Stephen Finucane,sfinucan,"Retry on redis connection errors

Sometimes, connections get closed by the server. This change
adds retrying to the code.

Conflicts:
  tooz/drivers/redis.py

NOTE(stephenfin): Conflicts are due to the absence of change
I95809cf4035a6bc487b24f9e91aaa715921ad842 (""Stop to use the __future__
module."") which we don't really need to backport.

Changes:
  requirements.txt

NOTE(stephenfin): We don't need the cap to tenacity that was found in
the stable/victoria backport since that's already been done here by
change I8d6647118be22b0ce55e01b7e5451612ebe30e73 (""Cap protobuf < 4.x"").

Change-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b
(cherry picked from commit a025b4d4ee9fe1bd722960ea03445034580bec6f)
(cherry picked from commit 62d5d17a5d2495f1f898163bbd83acbbc9873620)
(cherry picked from commit 1ddddbba734e5eb4cbba82ae9951a8eb09f94bb9)
"
openstack%2Ftooz~stable%2Fvictoria~I8d6647118be22b0ce55e01b7e5451612ebe30e73,openstack/tooz,stable/victoria,bug/1980079,I8d6647118be22b0ce55e01b7e5451612ebe30e73,Cap protobuf < 4.x,MERGED,2022-07-04 11:46:49.000000000,2022-07-04 20:02:09.000000000,2022-07-04 20:01:04.000000000,21,5,2,848620,8ca40da4bbe813a76cd48d3e8e54b78d10f25765,12,3,1,2,15334,Stephen Finucane,sfinucan,"Cap protobuf < 4.x

tooz doesn't use upper-constraints so we get the newest version of all
dependencies. It seems one of these, etcd3, is incompatible with recent
versions of protobuf.

  Failed to import test module: tooz.tests.drivers.test_etcd3
  Traceback (most recent call last):
    File ""/usr/lib/python3.7/unittest/loader.py"", line 436, in _find_test_path
      module = self._get_module_from_name(name)
    File ""/usr/lib/python3.7/unittest/loader.py"", line 377, in _get_module_from_name
      __import__(name)
    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/tests/drivers/test_etcd3.py"", line 22, in <module>
      import tooz.drivers.etcd3 as etcd3_driver
    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/drivers/etcd3.py"", line 18, in <module>
      import etcd3
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/__init__.py"", line 3, in <module>
      import etcd3.etcdrpc as etcdrpc
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/__init__.py"", line 1, in <module>
      from .rpc_pb2 import *
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/rpc_pb2.py"", line 16, in <module>
      from etcd3.etcdrpc import kv_pb2 as kv__pb2
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/kv_pb2.py"", line 36, in <module>
      type=None),
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/google/protobuf/descriptor.py"", line 755, in __new__
      _message.Message._CheckCalledFromGeneratedFile()
  TypeError: Descriptors cannot not be created directly.
  If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.
  If you cannot immediately regenerate your protos, some other possible workarounds are:
   1. Downgrade the protobuf package to 3.20.x or lower.
   2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).

The etcd3 dependency is only used for the etcd3 driver which was
deprecated in change Iff0cd3b51cfc45ecbddc831c55267e80e9c79cac. The
protobuf dependency is only used for etcd3. We can't outright remove the
etcd3 driver yet as it hasn't been long enough since we deprecated it.
That will happen soon enough though and until then we can simply cap
protobuf to an older version that is compatible with the most recent
etcd3 release.

While we're here, we also sync the lower boundaries in the docs
requirments and add some comments indicating where they come from/what
they're for.

Change-Id: I8d6647118be22b0ce55e01b7e5451612ebe30e73
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit e3de0e634af62e46162eb8d2354416ce4f2ba77c)
(cherry picked from commit 73dbe0e6fc1403cbb121985781d7b6ec996b099a)
"
openstack%2Ftripleo-quickstart-extras~master~I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797,openstack/tripleo-quickstart-extras,master,standalone_ceph_wallaby_squash,I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797,Test Deployed Ceph in Wallaby standalone 001/004/010,MERGED,2022-06-07 21:15:07.000000000,2022-07-04 19:52:44.000000000,2022-07-04 19:52:44.000000000,2,2,14,845054,a049c4d73f57075a2d825c470f31a4bc17c6ddc7,96,5,11,1,18002,John Fulton,fultonj,"Test Deployed Ceph in Wallaby standalone 001/004/010

Deploy Ceph before the overcloud when testing Wallaby.
Follow up to I982dedb53582fbd76391165c3ca72954c129b84a

Change-Id: I8ec7d50ba2d5d9fab9343ca0a4707ddc09fc7797
"
openstack%2Frequirements~stable%2Fwallaby~I72c20ae7a436a868b6ae1ff1c4ed40219ed13fe2,openstack/requirements,stable/wallaby,new-release,I72c20ae7a436a868b6ae1ff1c4ed40219ed13fe2,update constraint for python-manilaclient to new release 2.6.4,MERGED,2022-07-04 12:16:04.000000000,2022-07-04 19:35:32.000000000,2022-07-04 19:35:32.000000000,1,1,0,848629,b2e63902a44f9ff0c5fb1d04f353d3596f9090d2,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-manilaclient to new release 2.6.4

meta: version: 2.6.4
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: silvacarloss <ces.eduardo98@gmail.com>
meta: release:Commit: silvacarloss <ces.eduardo98@gmail.com>
meta: release:Change-Id: I230a7e2dae91f91a37117cc63c6e2840f7c536ed
meta: release:Code-Review+1: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Code-Review+1: Douglas Viroel <viroel@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I72c20ae7a436a868b6ae1ff1c4ed40219ed13fe2
"
openstack%2Ftooz~stable%2Fussuri~I8d6647118be22b0ce55e01b7e5451612ebe30e73,openstack/tooz,stable/ussuri,bug/1980079,I8d6647118be22b0ce55e01b7e5451612ebe30e73,Cap protobuf < 4.x,MERGED,2022-07-04 11:47:12.000000000,2022-07-04 19:01:15.000000000,2022-07-04 18:59:57.000000000,22,6,1,848621,59da4d8d6aae828c2fd36d1ddf12652c3cee7f7a,12,3,2,3,15334,Stephen Finucane,sfinucan,"Cap protobuf < 4.x

tooz doesn't use upper-constraints so we get the newest version of all
dependencies. It seems one of these, etcd3, is incompatible with recent
versions of protobuf.

  Failed to import test module: tooz.tests.drivers.test_etcd3
  Traceback (most recent call last):
    File ""/usr/lib/python3.7/unittest/loader.py"", line 436, in _find_test_path
      module = self._get_module_from_name(name)
    File ""/usr/lib/python3.7/unittest/loader.py"", line 377, in _get_module_from_name
      __import__(name)
    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/tests/drivers/test_etcd3.py"", line 22, in <module>
      import tooz.drivers.etcd3 as etcd3_driver
    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/drivers/etcd3.py"", line 18, in <module>
      import etcd3
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/__init__.py"", line 3, in <module>
      import etcd3.etcdrpc as etcdrpc
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/__init__.py"", line 1, in <module>
      from .rpc_pb2 import *
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/rpc_pb2.py"", line 16, in <module>
      from etcd3.etcdrpc import kv_pb2 as kv__pb2
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/kv_pb2.py"", line 36, in <module>
      type=None),
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/google/protobuf/descriptor.py"", line 755, in __new__
      _message.Message._CheckCalledFromGeneratedFile()
  TypeError: Descriptors cannot not be created directly.
  If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.
  If you cannot immediately regenerate your protos, some other possible workarounds are:
   1. Downgrade the protobuf package to 3.20.x or lower.
   2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).

The etcd3 dependency is only used for the etcd3 driver which was
deprecated in change Iff0cd3b51cfc45ecbddc831c55267e80e9c79cac. The
protobuf dependency is only used for etcd3. We can't outright remove the
etcd3 driver yet as it hasn't been long enough since we deprecated it.
That will happen soon enough though and until then we can simply cap
protobuf to an older version that is compatible with the most recent
etcd3 release.

While we're here, we also sync the lower boundaries in the docs
requirements and add some comments indicating where they come from/what
they're for.

Changes:
  requirements.txt

NOTE(stephenfin): We need to include a cap to tenacity. On
stable/victoria this was done by the backport of change
Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b, however, that's a large
backport and it can't merge without fixing this. We instead squash the
cap in here since we're already playing with requirements.

Change-Id: I8d6647118be22b0ce55e01b7e5451612ebe30e73
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit e3de0e634af62e46162eb8d2354416ce4f2ba77c)
(cherry picked from commit 73dbe0e6fc1403cbb121985781d7b6ec996b099a)
(cherry picked from commit 8ca40da4bbe813a76cd48d3e8e54b78d10f25765)
"
openstack%2Fcharm-ceph-mon~master~I903dfe02aa3b7c67414e3d0d9b57f4042d301830,openstack/charm-ceph-mon,master,bug/1923218,I903dfe02aa3b7c67414e3d0d9b57f4042d301830,Added safe-pg-repair action,MERGED,2022-02-25 15:56:36.000000000,2022-07-04 18:46:38.000000000,2022-07-04 18:46:38.000000000,486,1,84,831001,a1cffc669322a2fe1c709e09a717ff9f78ab5680,59,5,15,4,33192,Connor Chamberlain,lcvcode,"Added safe-pg-repair action

This action automatically repairs inconsistent placement groups
which are caused by read errors.

PGs are repaired using `ceph pg repair <pgid>`.

Action is only taken if on of a PG's shards has a ""read_error"",
and no action will be taken if any additional errors are found.
No action will be taken if multiple ""read_errors"" are found.

This action is intended to be safe to run in all contexts.

Closes-Bug: #1923218
Change-Id: I903dfe02aa3b7c67414e3d0d9b57f4042d301830
"
openstack%2Frequirements~master~I2cd124c546b7af278284aef5e5ac745fa7fb563f,openstack/requirements,master,openstack/requirements/constraints/noclob,I2cd124c546b7af278284aef5e5ac745fa7fb563f,Updated from generate-constraints,MERGED,2022-07-04 02:44:56.000000000,2022-07-04 18:23:50.000000000,2022-07-04 18:22:23.000000000,3,3,0,848557,1512e212d0e5dc24cacdf86e9671fb048d3af2f9,14,2,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I2cd124c546b7af278284aef5e5ac745fa7fb563f
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Ftripleo-ci~master~Ib584aa7066cee2c579e3d3df01ee6ca3e77f1414,openstack/tripleo-ci,master,tripleo-ci-coverage,Ib584aa7066cee2c579e3d3df01ee6ca3e77f1414,Horizon: Trigger relevant standaloe jobs,MERGED,2022-06-13 08:06:45.000000000,2022-07-04 18:06:08.000000000,2022-07-04 18:06:08.000000000,9,0,11,845563,098c90d915e27ba4df3eddd8173333292d32b3a9,30,6,3,1,9816,Takashi Kajinami,kajinamit,"Horizon: Trigger relevant standaloe jobs

Depends-on: https://review.opendev.org/845560
Change-Id: Ib584aa7066cee2c579e3d3df01ee6ca3e77f1414
"
openstack%2Ftripleo-heat-templates~master~Iac31bceedb8a06ed1add83ba3ce37a2151dd9348,openstack/tripleo-heat-templates,master,tripleo-ci-coverage,Iac31bceedb8a06ed1add83ba3ce37a2151dd9348,Enable Horizon in CI,MERGED,2022-06-13 07:59:30.000000000,2022-07-04 18:06:00.000000000,2022-07-04 18:06:00.000000000,3,3,14,845560,6db7153b342b8aad874f9b139f33a19269571a0e,39,7,4,3,9816,Takashi Kajinami,kajinamit,"Enable Horizon in CI

Currently Horizon is not tested in any scenario jobs. This change fixes
that and ensure deployment of Horizon is tested in standalone jobs.

Currently TripleO supports the following dashboards so horizon is
enabled in the jobs which have these components enabled.
 - Heat
 - Manila
 - Octavia

Change-Id: Iac31bceedb8a06ed1add83ba3ce37a2151dd9348
"
openstack%2Ftripleo-heat-templates~master~I7074bbb51535cf46699093e2a3a3d8f4fbf57301,openstack/tripleo-heat-templates,master,missing-logging-source,I7074bbb51535cf46699093e2a3a3d8f4fbf57301,Designate: Fix missing LoggingSource parameters,MERGED,2022-06-25 09:09:33.000000000,2022-07-04 18:05:55.000000000,2022-07-04 18:05:55.000000000,25,1,1,847630,8b39501eec197724eff53ac5983678e2f391070a,15,5,2,3,9816,Takashi Kajinami,kajinamit,"Designate: Fix missing LoggingSource parameters

The following services will be additionally covered.
 - designate-central
 - designate-mdns
 - designate-sink

Change-Id: I7074bbb51535cf46699093e2a3a3d8f4fbf57301
"
openstack%2Ftripleo-heat-templates~master~Ibc0a346c313111fac6002b698dff6d3a4ddd0c93,openstack/tripleo-heat-templates,master,designate-logging,Ibc0a346c313111fac6002b698dff6d3a4ddd0c93,Fix incorrect Designate*LoggingSource,MERGED,2022-06-25 09:02:52.000000000,2022-07-04 18:05:51.000000000,2022-07-04 18:05:51.000000000,5,3,1,847629,8ef751c4e1ed36b576d94b45d9489112acb431aa,13,4,1,3,9816,Takashi Kajinami,kajinamit,"Fix incorrect Designate*LoggingSource

Most of the designate log files are not prefixed by designate- . This
change updates defaults of the Designate*LoggingSource parameters to
use the correct log file path.

Also, this change fixes the inconsistent log file name format used by
the designate-api service, which is currently prefixed by designate-.

Change-Id: Ibc0a346c313111fac6002b698dff6d3a4ddd0c93
"
openstack%2Ftripleo-heat-templates~master~I3450f544597b82d053c33ac1b8ecc7d918fd73b0,openstack/tripleo-heat-templates,master,bug/1979950,I3450f544597b82d053c33ac1b8ecc7d918fd73b0,Fix ignored HeatConfigureDelegatedRoles,MERGED,2022-06-24 11:18:52.000000000,2022-07-04 17:46:06.000000000,2022-07-04 17:44:47.000000000,28,7,21,847570,491fefe7c54ac825cb1ed1957362acb89fc33b28,29,7,7,3,9816,Takashi Kajinami,kajinamit,"Fix ignored HeatConfigureDelegatedRoles

The HeatConfigureDelegatedRoles parameter has been ignored since
the puppet parameter internally used was renamed[1][2].

This change fixes the ineffective parameter. Also, now management role
is implemented by ansible, instead of puppet, following how keystone
resources are managed now.

[1] 74e874365933b3d7a07d6413762597e78efaaaa8
[2] 1b209d35be143564d4592ef188ea5c0d906a8e96

Closes-Bug: #1979950
Change-Id: I3450f544597b82d053c33ac1b8ecc7d918fd73b0
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I9322cd2a2f274daba1d02d5bf98e5abbca795df0,openstack/tripleo-heat-templates,stable/wallaby,bug/1956400,I9322cd2a2f274daba1d02d5bf98e5abbca795df0,Enable notification from Keystone when Barbican is enabled,MERGED,2022-02-04 03:16:15.000000000,2022-07-04 17:46:05.000000000,2022-07-04 17:44:38.000000000,25,1,3,827790,f65e91899010ac7535e6dad00c766452e2642986,18,5,2,4,9816,Takashi Kajinami,kajinamit,"Enable notification from Keystone when Barbican is enabled

Barbican, especially the barbican-keystone-listener service, consumes
notifications from Keystone so that secrets associated with deleted
users are purged. This change ensures notification is enabled in
Keystone when Barbican is enabled to use that feature properly.

Conflicts:
	deployment/keystone/keystone-container-puppet.yaml

Closes-Bug: #1956400
Change-Id: I9322cd2a2f274daba1d02d5bf98e5abbca795df0
(cherry picked from 3a04690cda3332b539445d07ff2f24f7425796af)
"
openstack%2Fpuppet-tripleo~master~I44f2a823abd4c2880723337b7478eb72817420d6,openstack/puppet-tripleo,master,,I44f2a823abd4c2880723337b7478eb72817420d6,Octavia: Add unit tests for ovn clustered DB,MERGED,2022-07-01 14:28:59.000000000,2022-07-04 17:44:58.000000000,2022-07-04 17:44:58.000000000,18,0,0,848454,479054936d469b2fce33690b4b7bbcd72589bb5c,10,3,2,1,9816,Takashi Kajinami,kajinamit,"Octavia: Add unit tests for ovn clustered DB

This is follow-up of e6a4118d24358c22843c7bbc6f97ea06a53e7cec and adds
the unit test case to test support for ovn clustered DB added by that
change.

Change-Id: I44f2a823abd4c2880723337b7478eb72817420d6
"
openstack%2Fpuppet-tripleo~master~I02f9f62be21b5f6c3c6edfb3cc2722ca5863d8c8,openstack/puppet-tripleo,master,designate-mdns-proxy,I02f9f62be21b5f6c3c6edfb3cc2722ca5863d8c8,Designate: create proxy ports on external VIP to access miniDNS workers,MERGED,2022-02-07 16:02:23.000000000,2022-07-04 17:44:50.000000000,2022-07-04 17:44:50.000000000,51,0,10,828169,a15c5f8721b81f4976b4d35f2efaf10c808badfd,37,6,7,1,6681,Brent Eagles,beagles,"Designate: create proxy ports on external VIP to access miniDNS workers

While miniDNS servers are hosted on the internalAPI, they each need to
be accessible from external DNS servers to perform syncing. This is done
by doing a port->host mapping on haproxy.

Change-Id: I02f9f62be21b5f6c3c6edfb3cc2722ca5863d8c8
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If9c6ba12baebcec9fa7a655fd5d2e10af9bde871,openstack/tripleo-heat-templates,stable/wallaby,bug/1978054,If9c6ba12baebcec9fa7a655fd5d2e10af9bde871,Remove leftover of ntp service,MERGED,2022-07-03 14:55:09.000000000,2022-07-04 17:44:42.000000000,2022-07-04 17:44:42.000000000,0,2,1,848534,b21839d32b43578e8c35b1c838242efec8eb8a4f,8,4,1,2,9816,Takashi Kajinami,kajinamit,"Remove leftover of ntp service

The ntp service was already removed[1].
This change removes the remaining references in ci environment and
one role data.

[1] 3abededac21ec9ad4f98b8e60d7b72ca49f1d7c0

Conflicts:
	ci/environments/scenario000-standalone.yaml

Closes-Bug: #1978054
Change-Id: If9c6ba12baebcec9fa7a655fd5d2e10af9bde871
(cherry picked from commit a40e5b3b6cbead13ec2e5f392821085d6e7de22c)
"
openstack%2Fheat~stable%2Fwallaby~Ic6125c6af60c1007243523cc8510a17f49c7b5af,openstack/heat,stable/wallaby,,Ic6125c6af60c1007243523cc8510a17f49c7b5af,Fix parameter merging with merge strategies,MERGED,2022-07-04 13:21:32.000000000,2022-07-04 17:34:02.000000000,2022-07-04 17:32:40.000000000,16,15,0,848598,667b8865d51e4c9f6685cee27bf578de4609bf88,8,2,1,2,9816,Takashi Kajinami,kajinamit,"Fix parameter merging with merge strategies

Earlier users had to specify merge strategy for
a parameter/parameter_default in every environment
file where they are used(or the defaults for that
environment was used). However, the strategy
for a parameter in the first environment was
ignored as there is nothing to merge.

With Iec3367667248d0b46196a6d569f3cbb3b200d842, we
changed to use existing merge strategies, but the
strategies in the first environment were still
ignored. This patch fixes it.

Task: 45578
Change-Id: Ic6125c6af60c1007243523cc8510a17f49c7b5af
(cherry picked from commit d9fe7301b3af2db9fa56d59eb405add94730ba50)
(cherry picked from commit 154691d21d24351edbe066fd23c731afad456b85)
(cherry picked from commit b8d09f347c2d478e7d69c940152a4d85fbc58f7c)
"
openstack%2Fironic-python-agent~bugfix%2F8.3~I5b6075fbff72201a2fd620f789978acceafc417b,openstack/ironic-python-agent,bugfix/8.3,multipath-serial-stable/xena-bugfix/8.3,I5b6075fbff72201a2fd620f789978acceafc417b,Fix discovering WWN/serial for devicemapper devices,MERGED,2022-06-22 14:00:31.000000000,2022-07-04 16:54:36.000000000,2022-07-04 16:53:15.000000000,31,16,5,847158,0edce69f7e7a40209f4546796ec8a5036e280a3e,21,3,3,3,10239,Dmitry Tantsur,dtantsur,"Fix discovering WWN/serial for devicemapper devices

UDev prefix is DM_ not ID_ for them. On top of that, they don't have
short serials (or at least don't always have).

Change-Id: I5b6075fbff72201a2fd620f789978acceafc417b
(cherry picked from commit 69e22545033f544d628f9c4ecd5a665ba0b5b85e)
"
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I5d085b20c06057515ae48ffdfa3dcb5705a4fd63,openstack/puppet-tripleo,stable/wallaby,,I5d085b20c06057515ae48ffdfa3dcb5705a4fd63,logrotate: Remove redundant blank lines,NEW,2022-04-12 00:18:34.000000000,2022-07-04 16:50:59.000000000,,14,14,1,837324,5ae25ae892ea8b736206151794422e8fb82755f1,13,3,3,1,9816,Takashi Kajinami,kajinamit,"logrotate: Remove redundant blank lines

Current logrotate.conf includes multiple blank lines. This change
removes these lines to make the file minimum and more readable.

Change-Id: I5d085b20c06057515ae48ffdfa3dcb5705a4fd63
(cherry picked from commit 70eb69d46849572b4c0fc66b464cb4cb692e35a1)
"
openstack%2Ftooz~stable%2Fussuri~I95809cf4035a6bc487b24f9e91aaa715921ad842,openstack/tooz,stable/ussuri,redis-retry-fix,I95809cf4035a6bc487b24f9e91aaa715921ad842,Stop to use the __future__ module.,ABANDONED,2022-06-22 13:25:22.000000000,2022-07-04 16:45:37.000000000,,0,10,3,847173,1df9e9c30226d51492355d0ddc223b75a39d1806,8,3,1,5,15334,Stephen Finucane,sfinucan,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I95809cf4035a6bc487b24f9e91aaa715921ad842
(cherry picked from commit 9c4f23a01923563d43b2ddf5048340cc386e2c33)
"
openstack%2Fansible-collections-openstack~master~Ie8b309d2aaa8da57794888848fc5414de207e54f,openstack/ansible-collections-openstack,master,sdk_logging_feature,Ie8b309d2aaa8da57794888848fc5414de207e54f,Add SDK logging option for openstack ansible collections.,MERGED,2022-06-03 08:12:31.000000000,2022-07-04 16:44:35.000000000,2022-07-04 16:44:35.000000000,46,0,15,844559,19cd6262cf59b8ab91f2461e46b2f0fea407d9b7,33,4,7,6,32675,Vladimir Hasko,vladimirhasko,"Add SDK logging option for openstack ansible collections.

The solution is based on implementation of logging option
in Open Telekom Cloud collections.

Change-Id: Ie8b309d2aaa8da57794888848fc5414de207e54f
"
openstack%2Fovn-octavia-provider~stable%2Fvictoria~Iad9839ce99d50b969924b3fe369301b6dfed369d,openstack/ovn-octavia-provider,stable/victoria,,Iad9839ce99d50b969924b3fe369301b6dfed369d,Delete vip port if create_vip_port raise exception,MERGED,2022-07-04 08:38:57.000000000,2022-07-04 16:32:39.000000000,2022-07-04 16:31:13.000000000,37,0,0,848582,99fa23ffe7bd154a1640ef90c9f28a5432a68bd5,8,3,1,2,34451,Fernando Royo,froyo,"Delete vip port if create_vip_port raise exception

Sometimes on heavy load over Neutron, operations over
neutron client could raise a NeutronClientException that
could cover, e.g. a timeout. In those case, sometimes the
request finish after the client timeout and we have
leftover resource.

create_vip_port is called from Octavia API just before
the create LB request, if this call raise a timeout
maybe the vip port is finally created and linked to a LB
that is not going to be created, so we have this port
unuse.

This patch will try to remove the leftover port for those
situations.

Closes-Bug: #1973765
Change-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d
(cherry picked from commit cd3264a07e047b589e4064855169c37f17343e60)
"
openstack%2Fovn-octavia-provider~stable%2Fwallaby~Iad9839ce99d50b969924b3fe369301b6dfed369d,openstack/ovn-octavia-provider,stable/wallaby,,Iad9839ce99d50b969924b3fe369301b6dfed369d,Delete vip port if create_vip_port raise exception,MERGED,2022-07-04 08:32:42.000000000,2022-07-04 16:32:37.000000000,2022-07-04 16:31:12.000000000,37,0,0,848580,fb765e856f6f815feaabf4b84c94a6d28eb862fb,8,3,1,2,34451,Fernando Royo,froyo,"Delete vip port if create_vip_port raise exception

Sometimes on heavy load over Neutron, operations over
neutron client could raise a NeutronClientException that
could cover, e.g. a timeout. In those case, sometimes the
request finish after the client timeout and we have
leftover resource.

create_vip_port is called from Octavia API just before
the create LB request, if this call raise a timeout
maybe the vip port is finally created and linked to a LB
that is not going to be created, so we have this port
unuse.

This patch will try to remove the leftover port for those
situations.

Closes-Bug: #1973765
Change-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d
(cherry picked from commit cd3264a07e047b589e4064855169c37f17343e60)
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I40073c57a7ca283ae913bd78c248bc4cf56da3a8,openstack/python-tripleoclient,stable/wallaby,,I40073c57a7ca283ae913bd78c248bc4cf56da3a8,Default working_dir for overcloud credential command,MERGED,2022-07-01 14:41:53.000000000,2022-07-04 16:25:57.000000000,2022-07-04 16:24:37.000000000,7,3,2,848362,40811232d354c4595b812dd0f5331044f3ff8614,10,3,1,1,7144,James Slagle,slagle,"Default working_dir for overcloud credential command

parsed_args.working_dir was not defaulted to a value when it was not
specified, leading to a traceback.

Change-Id: I40073c57a7ca283ae913bd78c248bc4cf56da3a8
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit 43bfc1fb96963e8ab88c6f7bafc52ce1ced228e2)
"
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I490cc558238719d4c9585e2a57497d1b1787a9ed,openstack/puppet-tripleo,stable/wallaby,bug/1955786,I490cc558238719d4c9585e2a57497d1b1787a9ed,Enable policy rule management in nova-compute,NEW,2022-01-14 09:54:32.000000000,2022-07-04 16:25:17.000000000,,9,0,1,824690,3b315047a7dc4b22dd119e2be431842bc11d5ffa,16,4,3,2,9816,Takashi Kajinami,kajinamit,"Enable policy rule management in nova-compute

There are some features in nova-compute which validate policy rules.
For example when connecting an instance to an external network,
nova-compute checks ``network:attach_external_network`` to determine
whether the operation is permitted.

This change makes sure that the nova policy file in compute nodes are
also managed by puppet-tripleo.

Conflicts:
	spec/classes/tripleo_profile_base_nova_compute_spec.rb

Partial-Bug: #1955786
Change-Id: I490cc558238719d4c9585e2a57497d1b1787a9ed
(cherry picked from commit 6cc58e8ac46ec0d4a0b3208b05eaccb289905e31)
"
openstack%2Ftripleo-heat-templates~master~Idc0872cee7de0b16531329e329d222bf661117c4,openstack/tripleo-heat-templates,master,ml2-ovn-dvr-default,Idc0872cee7de0b16531329e329d222bf661117c4,Make NeutronEnableDVR parameter boolean,MERGED,2022-06-07 12:00:27.000000000,2022-07-04 16:24:34.000000000,2022-07-04 16:24:34.000000000,11,25,8,844960,df58fe7bf1df8fae1f7e1358b45e6e021a1b6729,27,6,4,4,8833,Rabi Mishra,rabi,"Make NeutronEnableDVR parameter boolean

Removes the redundant conditions and the template complexity.
This won't have any backward incompatibility with templates
as the only allowed values for it are 'true/false'

Change-Id: Idc0872cee7de0b16531329e329d222bf661117c4
"
openstack%2Ftripleo-ansible~master~I63063e6dd655b974ca2231eb55e03eb30c1461dc,openstack/tripleo-ansible,master,,I63063e6dd655b974ca2231eb55e03eb30c1461dc,[B&R] More robust check on Galera desync the MySQL node,MERGED,2022-06-28 11:11:44.000000000,2022-07-04 16:18:26.000000000,2022-07-04 16:18:26.000000000,15,14,0,847738,32769ae9f9b18f64cce37c73bfa829f35e54fef0,9,5,1,5,34118,Arnau Verdaguer,averdaguer,"[B&R] More robust check on Galera desync the MySQL node

This task will fail if anything is printed on the stderr, even
if it's a warning not related to the actual desync task. With
this patch you can set tripleo_container_cli_flags = '--log-level=error'
to supress this warning and continue with the backup.

Change-Id: I63063e6dd655b974ca2231eb55e03eb30c1461dc
"
openstack%2Fovn-octavia-provider~stable%2Fwallaby~I7c75003516015863320e53f0175dec8fdf4e2cf7,openstack/ovn-octavia-provider,stable/wallaby,wallaby,I7c75003516015863320e53f0175dec8fdf4e2cf7,Apply ServiceMonitorEvent to affected LBs,MERGED,2022-06-17 16:26:57.000000000,2022-07-04 16:12:47.000000000,2022-07-04 16:10:18.000000000,114,71,1,846426,5b1d0bec5a8c6bc7d3291459f8becf16b10a3ed7,9,4,1,2,34451,Fernando Royo,froyo,"Apply ServiceMonitorEvent to affected LBs

Every Health_Monitor over a LB creates Load_Balancer_Health_Check
NB entry, and it creates 1..n Service_Monitor OVN SB entries according
to the member to be monitored. When more than one LB exists on the
same network segment for the same member, Service_Monitor SB
entries are not duplicated, in order to not performing multiple
checks on the same member.

When a ServiceMonitorUpdateEvent is received with status information
from a member, the LBs that match the event information (protocol,
ip, port and logical_port) are searched. At this way we ensure that
network segments are separated where the same ip and port could match
but the logical_port would be different.

The current logic will update just the status of the first LB selected
as ""related"" to the member event received from the Service_Monitor,
but we could use this information to keep updated all those LBs, that
are in the same network segment and have a Health_Monitor associated
to.

This patch will fix this behaviour in order to provide status to
Octavia of all LBs affected by a ServiceMonitorUpdateEvent.

Partial-Bug: #1965772
Closes-Bug: #1965772
Change-Id: I7c75003516015863320e53f0175dec8fdf4e2cf7
(cherry picked from commit 7db9e23fd9642eacb78731bf215a4820978436ca)
"
openstack%2Fovn-octavia-provider~stable%2Fyoga~Iad9839ce99d50b969924b3fe369301b6dfed369d,openstack/ovn-octavia-provider,stable/yoga,,Iad9839ce99d50b969924b3fe369301b6dfed369d,Delete vip port if create_vip_port raise exception,MERGED,2022-07-04 08:31:37.000000000,2022-07-04 16:11:46.000000000,2022-07-04 16:10:19.000000000,37,0,0,848578,3a8aa3349adab85d81614f2d079314de9ecaa9e3,8,3,1,2,34451,Fernando Royo,froyo,"Delete vip port if create_vip_port raise exception

Sometimes on heavy load over Neutron, operations over
neutron client could raise a NeutronClientException that
could cover, e.g. a timeout. In those case, sometimes the
request finish after the client timeout and we have
leftover resource.

create_vip_port is called from Octavia API just before
the create LB request, if this call raise a timeout
maybe the vip port is finally created and linked to a LB
that is not going to be created, so we have this port
unuse.

This patch will try to remove the leftover port for those
situations.

Closes-Bug: #1973765
Change-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d
(cherry picked from commit cd3264a07e047b589e4064855169c37f17343e60)
"
openstack%2Fkuryr-kubernetes~master~Ieb9fd5ed0251425e9fe172e4a93ad048768ce785,openstack/kuryr-kubernetes,master,setuptools-pin,Ieb9fd5ed0251425e9fe172e4a93ad048768ce785,Run Kuryr inside containers in venv,MERGED,2022-06-08 14:27:18.000000000,2022-07-04 16:09:07.000000000,2022-07-04 16:05:35.000000000,11,1,3,845143,bc65ed3c0c964ba8bbaa53fa18a41af3e2c024ff,14,4,1,2,11600,Michał Dulko,dulek,"Run Kuryr inside containers in venv

We've just hit an issue where Ceph repo added by RDO upgraded setuptools
to a version that pip cannot uninstall. This is mainly because we're
still installing all the Kuryr dependencies in system's site-packages.
This commit switches us to create and use a virtualenv to have a clean
environment in which we install all the dependencies through pip.

Change-Id: Ieb9fd5ed0251425e9fe172e4a93ad048768ce785
"
openstack%2Fkuryr-kubernetes~stable%2Fyoga~I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4,openstack/kuryr-kubernetes,stable/yoga,nested-virt-kvm-stable/yoga,I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4,Force kvm and host-passthrough for Amphora jobs,MERGED,2022-06-14 14:50:39.000000000,2022-07-04 16:08:38.000000000,2022-07-04 16:05:33.000000000,8,0,13,845683,3a24e3dd6e22311d1f8a89a449efb6edcfbc3e79,35,3,2,2,27032,Maysa de Macedo Souza,maysa,"Force kvm and host-passthrough for Amphora jobs

We face general instability of the Amphora jobs that we have. A while
ago we've made sure that these jobs are scheduled on the clouds that
support nested virtualization in order to boost performance of the
Amphora LB VMs. Now it turns out we haven't configured DevStack to
actually use kvm instead of qemu, so it's possible that we were still
running these jobs with software virtualization.

This commit attempts to reconfigure DevStack to actually use kvm and
nested virtualization.

Change-Id: I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4
(cherry picked from commit d65720cf7434cd2e201415535d316d3189873d9a)
Depends-On: https://review.opendev.org/c/openstack/neutron/+/848131
"
openstack%2Ftripleo-heat-templates~master~Id33b97fbe85f80e3252877d2a82d8a9935c85e13,openstack/tripleo-heat-templates,master,masquerade-puppet-removal,Id33b97fbe85f80e3252877d2a82d8a9935c85e13,Remove masquerade-networks-baremetal-puppet,MERGED,2022-07-01 14:07:46.000000000,2022-07-04 16:02:33.000000000,2022-07-04 16:01:02.000000000,9,44,5,848452,e1c7b5f6a86f9ba448512d0a281c24af7466cc54,16,4,2,2,28223,Cedric Jeanneret,cjeanner,"Remove masquerade-networks-baremetal-puppet

This service isn't used anymore anyway, and isn't directly used by the
operators.

Change-Id: Id33b97fbe85f80e3252877d2a82d8a9935c85e13
"
openstack%2Ftripleo-ansible~master~Ia6053bf009fc13be1ea319e72c81b084bf3f0e9d,openstack/tripleo-ansible,master,db_backup,Ia6053bf009fc13be1ea319e72c81b084bf3f0e9d,The stderr of the command can have WARNs,MERGED,2022-07-01 12:58:25.000000000,2022-07-04 16:01:05.000000000,2022-07-04 16:01:05.000000000,1,1,4,848442,a66c2b4943f8ee43352a449966d6dc4f8a9a74f4,14,7,2,1,32968,Juan Larriba,jlarriba,"The stderr of the command can have WARNs

There is a task that it is re-tried until there are no more errors, due
to the fact that sometimes it does not work well the first or second times
because the DB has not been completely initialized. To achieve the
retry, we look for an empty stderr, but under certain circumstances
there can be WARN messages. We do not want to retry the execution after
a WARN message, as the action has been already succesfully executed.

Change-Id: Ia6053bf009fc13be1ea319e72c81b084bf3f0e9d
"
openstack%2Ftripleo-heat-templates~master~I8a5b77a31d20dc50d3ee9d140c239ce5a4e5b9f3,openstack/tripleo-heat-templates,master,,I8a5b77a31d20dc50d3ee9d140c239ce5a4e5b9f3,Present ovn_dbs_manage_lb to the haproxy service,MERGED,2022-07-02 17:38:52.000000000,2022-07-04 16:00:58.000000000,2022-07-04 16:00:58.000000000,21,16,0,848517,2107a4cf8b3b21c45bce8ee8fd359db1035a281c,8,4,1,3,9816,Takashi Kajinami,kajinamit,"Present ovn_dbs_manage_lb to the haproxy service

The tripleo::haproxy::ovn_dbs_manage_lb parameter is used by not
the ovn db service but the haproxy service. This ensures the parameter
is presented to the haproxy service even if these two services are not
collocated.

Change-Id: I8a5b77a31d20dc50d3ee9d140c239ce5a4e5b9f3
"
openstack%2Fovn-octavia-provider~stable%2Fxena~I7c75003516015863320e53f0175dec8fdf4e2cf7,openstack/ovn-octavia-provider,stable/xena,xena,I7c75003516015863320e53f0175dec8fdf4e2cf7,Apply ServiceMonitorEvent to affected LBs,MERGED,2022-06-17 16:26:16.000000000,2022-07-04 16:00:58.000000000,2022-07-04 15:59:40.000000000,114,71,1,846425,b006d5273dcfa109e4d1524ec144781d79174b7f,9,4,1,2,34451,Fernando Royo,froyo,"Apply ServiceMonitorEvent to affected LBs

Every Health_Monitor over a LB creates Load_Balancer_Health_Check
NB entry, and it creates 1..n Service_Monitor OVN SB entries according
to the member to be monitored. When more than one LB exists on the
same network segment for the same member, Service_Monitor SB
entries are not duplicated, in order to not performing multiple
checks on the same member.

When a ServiceMonitorUpdateEvent is received with status information
from a member, the LBs that match the event information (protocol,
ip, port and logical_port) are searched. At this way we ensure that
network segments are separated where the same ip and port could match
but the logical_port would be different.

The current logic will update just the status of the first LB selected
as ""related"" to the member event received from the Service_Monitor,
but we could use this information to keep updated all those LBs, that
are in the same network segment and have a Health_Monitor associated
to.

This patch will fix this behaviour in order to provide status to
Octavia of all LBs affected by a ServiceMonitorUpdateEvent.

Partial-Bug: #1965772
Closes-Bug: #1965772
Change-Id: I7c75003516015863320e53f0175dec8fdf4e2cf7
(cherry picked from commit 7db9e23fd9642eacb78731bf215a4820978436ca)
"
openstack%2Fheat~stable%2Fxena~Ic6125c6af60c1007243523cc8510a17f49c7b5af,openstack/heat,stable/xena,,Ic6125c6af60c1007243523cc8510a17f49c7b5af,Fix parameter merging with merge strategies,MERGED,2022-07-04 12:32:15.000000000,2022-07-04 15:59:23.000000000,2022-07-04 15:58:06.000000000,16,15,0,848596,b8d09f347c2d478e7d69c940152a4d85fbc58f7c,8,2,1,2,9816,Takashi Kajinami,kajinamit,"Fix parameter merging with merge strategies

Earlier users had to specify merge strategy for
a parameter/parameter_default in every environment
file where they are used(or the defaults for that
environment was used). However, the strategy
for a parameter in the first environment was
ignored as there is nothing to merge.

With Iec3367667248d0b46196a6d569f3cbb3b200d842, we
changed to use existing merge strategies, but the
strategies in the first environment were still
ignored. This patch fixes it.

Task: 45578
Change-Id: Ic6125c6af60c1007243523cc8510a17f49c7b5af
(cherry picked from commit d9fe7301b3af2db9fa56d59eb405add94730ba50)
(cherry picked from commit 154691d21d24351edbe066fd23c731afad456b85)
"
openstack%2Fneutron~master~Ib18efa3f472736b58c8967847b1061da0e3897d7,openstack/neutron,master,not-supported-framework,Ib18efa3f472736b58c8967847b1061da0e3897d7,Implement experimental features framework,MERGED,2022-06-08 23:35:49.000000000,2022-07-04 15:58:40.000000000,2022-07-04 15:54:25.000000000,181,8,45,845181,7f0413c84c4515cd2fae31d823613c4d7ea43110,89,8,13,15,4694,Miguel Lavalle,minsel,"Implement experimental features framework

During the Zed PTG it was decided to handle unsupported features in
Neutron as experimental. See section titled ""When we say something is
not supported?"", day 2 in [1]. The agreement was:

""We keep existing jobs for linuxbridge driver for example, but when the
tests start to fail we skip them and finally we stop the job also.
To make it clear for operators we add warning logs highlighting that the
given feature/driver is experimental, and introduce cfg option to enable
such features explicitly.""

This commit implements this agreement, initially with Linuxbridge

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/845646

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html

Change-Id: Ib18efa3f472736b58c8967847b1061da0e3897d7
"
openstack%2Fneutron~stable%2Fyoga~I3a91f442a1fd72f9027f10f2b1b6572cee3f8360,openstack/neutron,stable/yoga,bug/1975743-stable/yoga,I3a91f442a1fd72f9027f10f2b1b6572cee3f8360,[OVN] Make binding profile validation more robust,MERGED,2022-06-10 19:04:06.000000000,2022-07-04 15:58:13.000000000,2022-07-04 15:54:19.000000000,43,18,1,845390,f0276fa31403cb52817c2a883b2213e38f2cc77b,10,4,1,3,13686,Frode Nordahl,fnordahl,"[OVN] Make binding profile validation more robust

The main purpose of Neutron's validation of the binding profile
is to make sure expected keys are present and that their values
are of the expected type.

The Nova compute component updates the binding profile as part of
instance creation.  Depending on the version of the Nova compute
component and which hardware it interfaces with, the information
provided by Nova in the binding profile may differ.

Nova also has limited information at its disposal at the point in
time it updates the port binding profile, so it would be
non-trivial for it to provide information conditionally based on
things like VNIC_TYPE and existing binding profile data.

Make the Neutron binding profile validation more robust for both
upgrade and heterogeneous hardware scenarios by accepting the
presence of surplus keys in the binding profile.  The data that
Neutron expects will still be validated and any surplus keys will
be pruned before further processing internally in Neutron.

Closes-Bug: #1975743
Change-Id: I3a91f442a1fd72f9027f10f2b1b6572cee3f8360
(cherry picked from commit 8a9ffcb0d4c0c44fc226810fd7f08dab9b79fcc0)
"
openstack%2Fpython-openstackclient~stable%2Ftrain~I45e9a81d451c64cdd51f9b606d94161742bacdb7,openstack/python-openstackclient,stable/train,drop-lc,I45e9a81d451c64cdd51f9b606d94161742bacdb7,Stop testing lower-constraints,MERGED,2022-07-04 10:27:48.000000000,2022-07-04 15:57:57.000000000,2022-07-04 15:54:16.000000000,4,151,1,848616,93b7e70e571c764935bb5a800f66a92f8fa22cf3,11,3,3,4,15334,Stephen Finucane,sfinucan,"Stop testing lower-constraints

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html

Conflicts:
  .zuul.yaml
  bindep.txt
  lower-constraints.txt
  tox.ini

NOTE(stephenfin): Conflicts are due to the changed job template (train
vs ussuri), slightly different lower constraints between branches and
presence of a 'basepython' line in the tox environment. The bindep
change added to the stable/ussuri change is no longer relevant here.

Change-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7
(cherry picked from commit c677192d51ac80922f990c8a96b49e9dcc9325d2)
(cherry picked from commit cde8db3d619ff94369cdabeebb42d3ecc2027651)
(cherry picked from commit 40f56c653cc4eabf9edc05b5c5785e818295b013)
(cherry picked from commit 84af7608ef931bd21bac7bf29247feda13275313)
(cherry picked from commit db92b96407ac18a611b3d79d34080acaa9c55b8f)
"
openstack%2Fneutron~master~Ic5c8a80f1dc0bebbd117ad9b56365e8c606c112d,openstack/neutron,master,bug/1976357,Ic5c8a80f1dc0bebbd117ad9b56365e8c606c112d,[sqlalchemy-20] Remove unnecessary DB context,MERGED,2022-07-01 10:07:06.000000000,2022-07-04 15:55:39.000000000,2022-07-04 15:53:50.000000000,1,2,0,848401,6c92d7a3076cb58bfcc393ff7be4f37bc9cca81c,11,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[sqlalchemy-20] Remove unnecessary DB context

All ""reserve_provider_segment"" implementations create their own
DB contexts, if needed.

Related-Bug: #1976357
Change-Id: Ic5c8a80f1dc0bebbd117ad9b56365e8c606c112d
"
openstack%2Fneutron-tempest-plugin~master~Id4bf385acaacbaeb308f5e9b1e0f1e22a9b1bbef,openstack/neutron-tempest-plugin,master,experimental-framework,Id4bf385acaacbaeb308f5e9b1e0f1e22a9b1bbef,Enable execution of experimental linuxbridge job,MERGED,2022-06-13 22:59:56.000000000,2022-07-04 15:54:22.000000000,2022-07-04 15:54:22.000000000,2,0,4,845646,22173b8556dbcbc58f9d5cea081b9a23ed9404e1,12,4,2,1,4694,Miguel Lavalle,minsel,"Enable execution of experimental linuxbridge job

During the Zed PTG it was decided to handle unsupported features in
Neutron as experimental. See section titled ""When we say something is
not supported?"", day 2 in [1].

The first feature to be handled this way is the linuxbridge ML2 driver,
see [2]. In this patch, the execution of linuxbridge jobs is enabled
under the experimental framework

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html
[2] https://review.opendev.org/c/openstack/neutron/+/845181

Change-Id: Id4bf385acaacbaeb308f5e9b1e0f1e22a9b1bbef
"
openstack%2Ftripleo-ansible~master~I18b71703942111b3f168d0811bfb2ac121325c20,openstack/tripleo-ansible,master,neutron-resolver-integration,I18b71703942111b3f168d0811bfb2ac121325c20,Designate: remove unnecessary transitional code for moving extra IP,MERGED,2022-05-04 12:57:21.000000000,2022-07-04 15:46:51.000000000,2022-07-04 15:46:51.000000000,7,35,1,840451,86941509d19723af4dcb5af757701f860fc4fe40,40,7,9,6,6681,Brent Eagles,beagles,"Designate: remove unnecessary transitional code for moving extra IP

This patch removes some code that was introduced or kept in
https://review.opendev.org/c/openstack/tripleo-ansible/+/839973 that
was necessary to get a patch series merged. It is no longer necessary

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/839974
Change-Id: I18b71703942111b3f168d0811bfb2ac121325c20
"
openstack%2Ftripleo-heat-templates~master~I0083538ae5655e4c1637ed802caba8f0e8dbfa94,openstack/tripleo-heat-templates,master,,I0083538ae5655e4c1637ed802caba8f0e8dbfa94,Provide default values for ExtraConfig parameters,MERGED,2022-07-01 02:45:42.000000000,2022-07-04 15:46:47.000000000,2022-07-04 15:46:47.000000000,2,0,9,848376,7c04fad7286fb26424c9395923097b32aae2c1a0,27,5,2,1,8833,Rabi Mishra,rabi,"Provide default values for ExtraConfig parameters

In Iafb291419822362be2ab6755589d49f78543dc54 we added merge
strategies for ExtraConfig. However, those would be ignored
without them in overcloud-resource-registry-puppet.j2.yaml

Depends-On: https://review.opendev.org/c/openstack/heat/+/848375
Resolves: rhbz#2102466
Change-Id: I0083538ae5655e4c1637ed802caba8f0e8dbfa94
"
openstack%2Fneutron~master~Iaf40ddc20692a3a51a8d5f5acfc2094b2d5c00c4,openstack/neutron,master,segments,Iaf40ddc20692a3a51a8d5f5acfc2094b2d5c00c4,ovs: handle segmentation ids per network ports,MERGED,2022-04-27 07:32:05.000000000,2022-07-04 15:46:35.000000000,2022-07-04 15:45:13.000000000,61,27,25,839478,1bfbc33ce0390ee180cba4ef691b6f584aa63e29,76,5,11,2,7730,Sahid Orentino Ferdjaoui,sahid,"ovs: handle segmentation ids per network ports

This is changing the datastructure that maintains the relationship
between ports and networks to also handle the segmenation ids related.

This will be necessary in future to support multiple segments per
networks on a same physical provider network.

Partial-Bug: #1956435
Partial-Bug: #1764738
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: Iaf40ddc20692a3a51a8d5f5acfc2094b2d5c00c4
"
openstack%2Fironic~stable%2Fyoga~Ia2739311f065e19ba539fe3df7268075d6075787,openstack/ironic,stable/yoga,redfish-ramdisk-no-agent-stable/yoga,Ia2739311f065e19ba539fe3df7268075d6075787,No deploy_kernel/ramdisk with the ramdisk deploy and no cleaning,MERGED,2022-07-04 12:08:46.000000000,2022-07-04 15:12:09.000000000,2022-07-04 15:10:24.000000000,60,14,0,848594,28796c3da7b8a39f1b25e81919db280d7f6569c4,11,2,1,7,10239,Dmitry Tantsur,dtantsur,"No deploy_kernel/ramdisk with the ramdisk deploy and no cleaning

Ramdisk deploys don't use IPA, no need to provide it. Cleaning may need
the agent, so only skip verification if cleaning is disabled.

Other boot interfaces may need fixing as well, I haven't checked them.

Change-Id: Ia2739311f065e19ba539fe3df7268075d6075787
(cherry picked from commit 65583e64172a0188d125117d1f2288e105832395)
"
openstack%2Fneutron~stable%2Fyoga~I9d87d1c6d2c5415a4bd602cb6968db4d155f15e1,openstack/neutron,stable/yoga,ci-improvements-stable/yoga,I9d87d1c6d2c5415a4bd602cb6968db4d155f15e1,Switch fips scenario jobs to Centos stream 9,MERGED,2022-05-31 06:17:22.000000000,2022-07-04 15:06:18.000000000,2022-07-04 15:01:15.000000000,4,4,4,843824,542f570788af7b3cf834d7289fa9d90876d1c74d,13,7,1,1,13861,yatin,yatinkarel,"Switch fips scenario jobs to Centos stream 9

Those jobs from periodic pipeline were run on Centos Stream 8
so far but lets switch them to new Centos Stream 9.

[Yoga Only] Tempest master is using master upper-constraints and
failing when run with py3.6 as master has dropped py3.6 support, so
let's switch yoga fips jobs too to CentOS 9-Stream.

Change-Id: I9d87d1c6d2c5415a4bd602cb6968db4d155f15e1
(cherry picked from commit e41b8d0a94d15163f76631c043ba15d9136966f2)
"
openstack%2Fneutron~stable%2Fwallaby~Ic9e8586991866ebca0b24bfe691e541c198d18d7,openstack/neutron,stable/wallaby,bug/1980488,Ic9e8586991866ebca0b24bfe691e541c198d18d7,[OVN][Placement] Make the Placement reporter compatible with OVN,MERGED,2022-07-01 11:17:31.000000000,2022-07-04 15:06:10.000000000,2022-07-04 15:01:24.000000000,7,4,0,848431,05345730925d1fe15cf055a7cf669121eb0dfaba,11,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN][Placement] Make the Placement reporter compatible with OVN

Make the ""PlacementReportPlugin"" and the ""PlacementReporterAgents""
classes compatible with agent-less mechanism drivers. OVN mechanism
driver cannot report any agent to the supported agent type list.

NOTE: this patch belongs to a series of patches to provide support
in OVN to report to Placement. However, this patch is backported to
stable releases to fix LP#1980488. This way, OVN won't report anything
to Placement and at the same time won't break the call to
""handle_placement_config"" when another mech driver agent (in the
LP example SR-IOV) pushes a heartbeat and updates the resource
provider values.

Closes-Bug: #1980488
Related-Bug: #1578989
Change-Id: Ic9e8586991866ebca0b24bfe691e541c198d18d7
(cherry picked from commit 0ae8eba7e73e050369478ba095c03371ed5f5718)
(cherry picked from commit 616085537d4a20da4e0f44bb402b3b3f098af92b)
"
openstack%2Fmanila-tempest-plugin~master~Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25,openstack/manila-tempest-plugin,master,share-feature-enabled,Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25,Add new configuration section for share features,NEW,2021-04-14 08:39:58.000000000,2022-07-04 15:05:51.000000000,,340,100,11,786177,b4964408d07845b78d339aa97c0cc54736d02a14,70,5,24,43,19262,Liron Kuchlani,lkuchlan,"Add new configuration section for share features

We are currently skipping feature tests in a confusing way,
for example regarding snapshot feature we use two configuration
options: ``capability_snapshot_support``, ``run_snapshot_tests``
So in order to run a snapshot test we need enable these two
configuration options.

This patch suggests using a new single configuration option,
like other openstack services, called 'share-feature-enabled'.
This way we can skip tests depending on the features that the
environment supports.

This patch is part of the patches that will be uploaded later.
This patch removes the configuration options below:
``capability_snapshot_support``
``capability_create_share_from_snapshot_support``
``run_snapshot_tests``
``run_manage_unmanage_snapshot_tests``

This patch adds a new decorator used to set an attr for each
share feature and skips a test in case the environment does
not support the feature.

Change-Id: Ia41761352f1c3fb5004eeeda2d789a3ea6a8fc25
"
openstack%2Fneutron~stable%2Fvictoria~Ic9e8586991866ebca0b24bfe691e541c198d18d7,openstack/neutron,stable/victoria,bug/1980488,Ic9e8586991866ebca0b24bfe691e541c198d18d7,[OVN][Placement] Make the Placement reporter compatible with OVN,MERGED,2022-07-01 11:18:11.000000000,2022-07-04 15:05:22.000000000,2022-07-04 15:01:29.000000000,7,4,0,848432,4c35618dc9470a98f9395ea59b608bfb52cf8c7c,8,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN][Placement] Make the Placement reporter compatible with OVN

Make the ""PlacementReportPlugin"" and the ""PlacementReporterAgents""
classes compatible with agent-less mechanism drivers. OVN mechanism
driver cannot report any agent to the supported agent type list.

NOTE: this patch belongs to a series of patches to provide support
in OVN to report to Placement. However, this patch is backported to
stable releases to fix LP#1980488. This way, OVN won't report anything
to Placement and at the same time won't break the call to
""handle_placement_config"" when another mech driver agent (in the
LP example SR-IOV) pushes a heartbeat and updates the resource
provider values.

Closes-Bug: #1980488
Related-Bug: #1578989
Change-Id: Ic9e8586991866ebca0b24bfe691e541c198d18d7
(cherry picked from commit 0ae8eba7e73e050369478ba095c03371ed5f5718)
(cherry picked from commit 616085537d4a20da4e0f44bb402b3b3f098af92b)
"
openstack%2Fneutron~stable%2Fxena~Ic9e8586991866ebca0b24bfe691e541c198d18d7,openstack/neutron,stable/xena,bug/1980488,Ic9e8586991866ebca0b24bfe691e541c198d18d7,[OVN][Placement] Make the Placement reporter compatible with OVN,MERGED,2022-07-01 11:16:59.000000000,2022-07-04 15:05:17.000000000,2022-07-04 15:01:19.000000000,7,4,1,848430,616085537d4a20da4e0f44bb402b3b3f098af92b,10,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN][Placement] Make the Placement reporter compatible with OVN

Make the ""PlacementReportPlugin"" and the ""PlacementReporterAgents""
classes compatible with agent-less mechanism drivers. OVN mechanism
driver cannot report any agent to the supported agent type list.

NOTE: this patch belongs to a series of patches to provide support
in OVN to report to Placement. However, this patch is backported to
stable releases to fix LP#1980488. This way, OVN won't report anything
to Placement and at the same time won't break the call to
""handle_placement_config"" when another mech driver agent (in the
LP example SR-IOV) pushes a heartbeat and updates the resource
provider values.

Closes-Bug: #1980488
Related-Bug: #1578989
Change-Id: Ic9e8586991866ebca0b24bfe691e541c198d18d7
(cherry picked from commit 0ae8eba7e73e050369478ba095c03371ed5f5718)
"
openstack%2Fneutron~stable%2Fyoga~I3a9f665653c3e2a5f75175867a45391e6ad01176,openstack/neutron,stable/yoga,bug/1980127-stable/yoga,I3a9f665653c3e2a5f75175867a45391e6ad01176,[FT] Run all .*MySQL and .*PostgreSQL tests in an isolated thread,MERGED,2022-07-04 07:05:04.000000000,2022-07-04 15:04:45.000000000,2022-07-04 15:01:10.000000000,2,2,1,848509,ad7b1e28827fa97a8a6c5f38581b2718b9947585,10,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[FT] Run all .*MySQL and .*PostgreSQL tests in an isolated thread

Similar to [1], this patch moves the PostgreSQL tests to a second
test execution step, where all tests are executed with one single
worker, avoiding any parallel execution on the SQL tests.

[1]https://review.opendev.org/c/openstack/neutron/+/834746

Closes-Bug: #1980127
Related-Bug: #1962594
Change-Id: I3a9f665653c3e2a5f75175867a45391e6ad01176
(cherry picked from commit d3ce69b9465c734d25d1d96c8cb7103834d03dac)
"
openstack%2Ftooz~stable%2Fwallaby~I8d6647118be22b0ce55e01b7e5451612ebe30e73,openstack/tooz,stable/wallaby,bug/1980079,I8d6647118be22b0ce55e01b7e5451612ebe30e73,Cap protobuf < 4.x,MERGED,2022-07-04 11:46:26.000000000,2022-07-04 15:02:59.000000000,2022-07-04 15:00:59.000000000,21,5,1,848619,73dbe0e6fc1403cbb121985781d7b6ec996b099a,8,3,1,2,15334,Stephen Finucane,sfinucan,"Cap protobuf < 4.x

tooz doesn't use upper-constraints so we get the newest version of all
dependencies. It seems one of these, etcd3, is incompatible with recent
versions of protobuf.

  Failed to import test module: tooz.tests.drivers.test_etcd3
  Traceback (most recent call last):
    File ""/usr/lib/python3.7/unittest/loader.py"", line 436, in _find_test_path
      module = self._get_module_from_name(name)
    File ""/usr/lib/python3.7/unittest/loader.py"", line 377, in _get_module_from_name
      __import__(name)
    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/tests/drivers/test_etcd3.py"", line 22, in <module>
      import tooz.drivers.etcd3 as etcd3_driver
    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/drivers/etcd3.py"", line 18, in <module>
      import etcd3
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/__init__.py"", line 3, in <module>
      import etcd3.etcdrpc as etcdrpc
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/__init__.py"", line 1, in <module>
      from .rpc_pb2 import *
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/rpc_pb2.py"", line 16, in <module>
      from etcd3.etcdrpc import kv_pb2 as kv__pb2
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/kv_pb2.py"", line 36, in <module>
      type=None),
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/google/protobuf/descriptor.py"", line 755, in __new__
      _message.Message._CheckCalledFromGeneratedFile()
  TypeError: Descriptors cannot not be created directly.
  If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.
  If you cannot immediately regenerate your protos, some other possible workarounds are:
   1. Downgrade the protobuf package to 3.20.x or lower.
   2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).

The etcd3 dependency is only used for the etcd3 driver which was
deprecated in change Iff0cd3b51cfc45ecbddc831c55267e80e9c79cac. The
protobuf dependency is only used for etcd3. We can't outright remove the
etcd3 driver yet as it hasn't been long enough since we deprecated it.
That will happen soon enough though and until then we can simply cap
protobuf to an older version that is compatible with the most recent
etcd3 release.

While we're here, we also sync the lower boundaries in the docs
requirments and add some comments indicating where they come from/what
they're for.

Change-Id: I8d6647118be22b0ce55e01b7e5451612ebe30e73
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit e3de0e634af62e46162eb8d2354416ce4f2ba77c)
"
openstack%2Fnetworking-bgpvpn~master~Ic89541dbcb1ac671dee8f1862db55ee123017d1c,openstack/networking-bgpvpn,master,remove-tripleo,Ic89541dbcb1ac671dee8f1862db55ee123017d1c,Remove TripleO job,NEW,2022-05-26 02:15:10.000000000,2022-07-04 14:10:31.000000000,,0,7,3,843362,bc3076fe3e310e16c293033c12e23792dc0d2e6e,11,5,3,1,9816,Takashi Kajinami,kajinamit,"Remove TripleO job

... because it has been non-voting and has never attracted actual
attention. Also the job is not used in core Neutron and there is no
quite clear reason to run this job only for this plugin.

Change-Id: Ic89541dbcb1ac671dee8f1862db55ee123017d1c
"
openstack%2Fcharm-rabbitmq-server~master~Ice6cce6a736d96883eb8bc003852c2df60af7c62,openstack/charm-rabbitmq-server,master,lp1971451,Ice6cce6a736d96883eb8bc003852c2df60af7c62,CONFIG_FILES is not a constant,MERGED,2022-06-16 22:27:54.000000000,2022-07-04 14:08:00.000000000,2022-07-04 14:08:00.000000000,1,1,2,846233,f790b2f64589de7f1fa0390e3b47116e79d086c2,10,4,1,1,8992,Billy Olsen,billy-olsen,"CONFIG_FILES is not a constant

The CONFIG_FILES is not a constant, its a method and when this
is passed to the ConfigRenderer it will cause a failure because
the items() function does not exist (since its not a dict).

Change-Id: Ice6cce6a736d96883eb8bc003852c2df60af7c62
Closes-Bug: 1971451
"
openstack%2Fironic-python-agent~master~Ida4ed4646659b2ee3f8f92b0a4d73c0266dd5a99,openstack/ironic-python-agent,master,,Ida4ed4646659b2ee3f8f92b0a4d73c0266dd5a99,Fix passing kwargs in clean steps,MERGED,2022-06-13 12:06:04.000000000,2022-07-04 13:58:24.000000000,2022-07-04 13:56:52.000000000,73,1,5,845583,eb07839bd40387ac9fdd60a67b3e537e751835b0,24,6,3,4,25241,waleed mousa,waleedm,"Fix passing kwargs in clean steps

Pass kwargs to dispatch_to_managers method in execute_clean_step

Change-Id: Ida4ed4646659b2ee3f8f92b0a4d73c0266dd5a99
Story: 2010123
Task: 45705
"
openstack%2Fironic~stable%2Fyoga~I8ead1d24a9bd502b64fe7dd058e77550fcee141c,openstack/ironic,stable/yoga,idrac-virtual-media-stable/yoga,I8ead1d24a9bd502b64fe7dd058e77550fcee141c,Fix redfish-virtual-media for newer iDRACs,MERGED,2022-07-01 13:18:38.000000000,2022-07-04 13:47:20.000000000,2022-07-04 13:45:40.000000000,73,19,0,848359,ffe8d7b0c49eaa867c62711f7a1dcfe616e71259,12,3,1,5,27909,Aija Jauntēva,ajya,"Fix redfish-virtual-media for newer iDRACs

The issue with standard Redfish virtual media boot has
been fixed now. Update to restrict use of redfish-virtual-media
based on iDRAC firmware version.

Change-Id: I8ead1d24a9bd502b64fe7dd058e77550fcee141c
(cherry picked from commit 73040c88d99f066644277f32e86d196305fc8596)
"
openstack%2Fpython-openstackclient~stable%2Fwallaby~I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc,openstack/python-openstackclient,stable/wallaby,wallaby,I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc,Fix: create image from volume command,MERGED,2022-07-01 13:35:09.000000000,2022-07-04 13:39:49.000000000,2022-07-04 13:38:29.000000000,517,3,4,848449,9425e6fcb6b907fbae7e1eb6b01ad293199cee75,17,3,3,4,8122,Cyril Roelandt,cyril.roelandt.enovance,"Fix: create image from volume command

Currently the command ``openstack image create --volume`` calls cinderclient
to upload the volume to image service (glance) but OSC passes ``visibility``
and ``protected`` fields which are only available in microversion 3.1 or
greater. This generates an error if the user is using volume microversion
< 3.1 and wants to create an image from volume.
This patch fixes that by only passing ``visibility`` and ``protected`` fields
when the volume microversion is 3.1 or greater and fail otherwise i.e. the
following 3 cases:
1) visibility/protected argument + mv >= 3.1 = pass
2) visibility/protected argument + mv < 3.1 = fail
3) not visibility/protected argument + any mv = pass

Changes:
  openstackclient/tests/unit/volume/v3/fakes.py
  
NOTE(croelandt): Imported openstackclient/tests/unit/volume/v3/fakes.py from
the Yoga branch. Used FakeType instead of FakeVolumeType for compatibility with
older class names.

Story: 2010060
Task: 45511
Change-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc
(cherry picked from commit 9eea28ba59e44526b9d6f1ad9f80c3553d5853e2)
(cherry picked from commit 849e7e93f83a220265d11af71e2edc009c3f7bea)
(cherry picked from commit 665d93ff0721801896bf08c3cc4f189a55daae80)
"
openstack%2Fpython-openstackclient~stable%2Fxena~I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc,openstack/python-openstackclient,stable/xena,story/2010060,I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc,Fix: create image from volume command,MERGED,2022-07-04 11:33:21.000000000,2022-07-04 13:35:54.000000000,2022-07-04 13:32:25.000000000,128,3,1,848618,665d93ff0721801896bf08c3cc4f189a55daae80,7,2,1,3,15334,Stephen Finucane,sfinucan,"Fix: create image from volume command

Currently the command ``openstack image create --volume`` calls cinderclient
to upload the volume to image service (glance) but OSC passes ``visibility``
and ``protected`` fields which are only available in microversion 3.1 or
greater. This generates an error if the user is using volume microversion
< 3.1 and wants to create an image from volume.
This patch fixes that by only passing ``visibility`` and ``protected`` fields
when the volume microversion is 3.1 or greater and fail otherwise i.e. the
following 3 cases:
1) visibility/protected argument + mv >= 3.1 = pass
2) visibility/protected argument + mv < 3.1 = fail
3) not visibility/protected argument + any mv = pass

Story: 2010060
Task: 45511
Change-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc
(cherry picked from commit 9eea28ba59e44526b9d6f1ad9f80c3553d5853e2)
(cherry picked from commit 849e7e93f83a220265d11af71e2edc009c3f7bea)
"
openstack%2Fpython-openstackclient~stable%2Fwallaby~I45e9a81d451c64cdd51f9b606d94161742bacdb7,openstack/python-openstackclient,stable/wallaby,drop-lc,I45e9a81d451c64cdd51f9b606d94161742bacdb7,Stop testing lower-constraints,MERGED,2022-07-04 10:23:45.000000000,2022-07-04 13:35:05.000000000,2022-07-04 13:32:21.000000000,4,106,0,848613,40f56c653cc4eabf9edc05b5c5785e818295b013,7,2,1,4,15334,Stephen Finucane,sfinucan,"Stop testing lower-constraints

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html

Conflicts:
  .zuul.yaml
  lower-constraints.txt

NOTE(stephenfin): Conflicts are due to the changed job template (wallaby
vs xena) and slightly different lower constraints between branches.

Change-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7
(cherry picked from commit c677192d51ac80922f990c8a96b49e9dcc9325d2)
(cherry picked from commit cde8db3d619ff94369cdabeebb42d3ecc2027651)
"
openstack%2Fpython-openstackclient~stable%2Fyoga~I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc,openstack/python-openstackclient,stable/yoga,yoga,I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc,Fix: create image from volume command,MERGED,2022-07-01 13:27:10.000000000,2022-07-04 13:34:44.000000000,2022-07-04 13:32:13.000000000,128,3,2,848446,849e7e93f83a220265d11af71e2edc009c3f7bea,11,3,2,3,8122,Cyril Roelandt,cyril.roelandt.enovance,"Fix: create image from volume command

Currently the command ``openstack image create --volume`` calls cinderclient
to upload the volume to image service (glance) but OSC passes ``visibility``
and ``protected`` fields which are only available in microversion 3.1 or
greater. This generates an error if the user is using volume microversion
< 3.1 and wants to create an image from volume.
This patch fixes that by only passing ``visibility`` and ``protected`` fields
when the volume microversion is 3.1 or greater and fail otherwise i.e. the
following 3 cases:
1) visibility/protected argument + mv >= 3.1 = pass
2) visibility/protected argument + mv < 3.1 = fail
3) not visibility/protected argument + any mv = pass

Story: 2010060
Task: 45511
Change-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc
(cherry picked from commit 9eea28ba59e44526b9d6f1ad9f80c3553d5853e2)
Conflicts:
	openstackclient/image/v2/image.py
"
openstack%2Ftooz~master~I8d6647118be22b0ce55e01b7e5451612ebe30e73,openstack/tooz,master,bug/1980079,I8d6647118be22b0ce55e01b7e5451612ebe30e73,Cap protobuf < 4.x,MERGED,2022-06-28 10:56:54.000000000,2022-07-04 13:31:21.000000000,2022-07-04 13:29:52.000000000,21,5,2,847949,e3de0e634af62e46162eb8d2354416ce4f2ba77c,13,4,2,2,15334,Stephen Finucane,sfinucan,"Cap protobuf < 4.x

tooz doesn't use upper-constraints so we get the newest version of all
dependencies. It seems one of these, etcd3, is incompatible with recent
versions of protobuf.

  Failed to import test module: tooz.tests.drivers.test_etcd3
  Traceback (most recent call last):
    File ""/usr/lib/python3.7/unittest/loader.py"", line 436, in _find_test_path
      module = self._get_module_from_name(name)
    File ""/usr/lib/python3.7/unittest/loader.py"", line 377, in _get_module_from_name
      __import__(name)
    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/tests/drivers/test_etcd3.py"", line 22, in <module>
      import tooz.drivers.etcd3 as etcd3_driver
    File ""/home/zuul/src/opendev.org/openstack/tooz/tooz/drivers/etcd3.py"", line 18, in <module>
      import etcd3
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/__init__.py"", line 3, in <module>
      import etcd3.etcdrpc as etcdrpc
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/__init__.py"", line 1, in <module>
      from .rpc_pb2 import *
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/rpc_pb2.py"", line 16, in <module>
      from etcd3.etcdrpc import kv_pb2 as kv__pb2
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/etcd3/etcdrpc/kv_pb2.py"", line 36, in <module>
      type=None),
    File ""/home/zuul/src/opendev.org/openstack/tooz/.tox/py37/lib/python3.7/site-packages/google/protobuf/descriptor.py"", line 755, in __new__
      _message.Message._CheckCalledFromGeneratedFile()
  TypeError: Descriptors cannot not be created directly.
  If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.
  If you cannot immediately regenerate your protos, some other possible workarounds are:
   1. Downgrade the protobuf package to 3.20.x or lower.
   2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).

The etcd3 dependency is only used for the etcd3 driver which was
deprecated in change Iff0cd3b51cfc45ecbddc831c55267e80e9c79cac. The
protobuf dependency is only used for etcd3. We can't outright remove the
etcd3 driver yet as it hasn't been long enough since we deprecated it.
That will happen soon enough though and until then we can simply cap
protobuf to an older version that is compatible with the most recent
etcd3 release.

While we're here, we also sync the lower boundaries in the docs
requirments and add some comments indicating where they come from/what
they're for.

Change-Id: I8d6647118be22b0ce55e01b7e5451612ebe30e73
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fironic-python-agent-builder~master~I6952b833e0be4a47e45e9c4d4459956093628b6a,openstack/ironic-python-agent-builder,master,,I6952b833e0be4a47e45e9c4d4459956093628b6a,Add smartmontools package to DIB image,MERGED,2022-06-27 09:27:48.000000000,2022-07-04 13:31:05.000000000,2022-07-04 13:29:44.000000000,2,0,4,847754,57f50f7e10e0043d7aa1e860b72f98211eef4567,10,3,1,1,14826,Mark Goddard,mgoddard,"Add smartmontools package to DIB image

This package includes smartctl, which is necessary for ATA secure erase
disk cleaning.

Without this package, IPA will fall back to shredding ATA devices, and
you will lose hours of your life. Worse, until
https://review.opendev.org/c/openstack/ironic-python-agent/+/847591, the
lack of smartctl was silently ignored.

Change-Id: I6952b833e0be4a47e45e9c4d4459956093628b6a
"
openstack%2Fcinder~master~Ie735b4a8607529ef3334242fd5a90c58f145adb4,openstack/cinder,master,diff_srps,Ie735b4a8607529ef3334242fd5a90c58f145adb4,PowerMax Driver - Manage volume into correct storage group,MERGED,2021-06-21 16:54:52.000000000,2022-07-04 13:27:07.000000000,2022-07-04 08:52:19.000000000,76,1,23,797333,8a890c8369998676ba99658c0973c4409186de24,205,9,5,3,12670,Helen Walsh,walshh2,"PowerMax Driver - Manage volume into correct storage group

Manage a volume into the correct storage group if the name
of the SRP on the remote differs to the SRP on the local
array.  For backward compatibility and name matching, the
default storage group will assume the SRP name of the local
array on both arrays.

Closes-Bug: #1979666
Change-Id: Ie735b4a8607529ef3334242fd5a90c58f145adb4
"
openstack%2Fneutron~master~I9d79b123bb20ded327208d84a14d4f8d2e505087,openstack/neutron,master,bug/1956958,I9d79b123bb20ded327208d84a14d4f8d2e505087,Use common wait_until_ha_router_has_state method everywhere,MERGED,2022-07-04 09:13:01.000000000,2022-07-04 13:19:47.000000000,2022-07-04 13:18:05.000000000,6,10,0,848585,e39011c73396af68fe5002cdbe4c6b3fe8b7cf23,13,7,1,1,11975,Slawek Kaplonski,slaweq,"Use common wait_until_ha_router_has_state method everywhere

In the L3 functional tests framework module there is already helper
method called wait_until_ha_router_has_state which should be used to
wait for desired HA router's state.
This method has proper debug logging added so debugging issues in CI is
easier when it's used.
It is also decorated with unstable_test decorator to skip tests when
router will fail to transition to desired state (see related bug for
details).

In some tests this method wasn't used so we couldn't benefit from the
logging and unstable_test decorator there. Now it should be unifed and
used everywhere in the same way.

Related-Bug: #1956958
Change-Id: I9d79b123bb20ded327208d84a14d4f8d2e505087
"
openstack%2Fpython-openstackclient~stable%2Fxena~I45e9a81d451c64cdd51f9b606d94161742bacdb7,openstack/python-openstackclient,stable/xena,drop-lc,I45e9a81d451c64cdd51f9b606d94161742bacdb7,Stop testing lower-constraints,MERGED,2022-07-04 10:22:30.000000000,2022-07-04 13:10:05.000000000,2022-07-04 13:06:48.000000000,4,105,0,848612,cde8db3d619ff94369cdabeebb42d3ecc2027651,7,2,1,4,15334,Stephen Finucane,sfinucan,"Stop testing lower-constraints

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html

Conflicts:
  .zuul.yaml
  lower-constraints.txt

NOTE(stephenfin): Conflicts are due to the changed job template (xena vs
zed) and slightly different lower constraints between branches.

Change-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7
(cherry picked from commit c677192d51ac80922f990c8a96b49e9dcc9325d2)
"
openstack%2Ftacker~master~I8565c12a69ca75f6c7934e351b5f76ca093ffb02,openstack/tacker,master,v2-api-ref-improvement,I8565c12a69ca75f6c7934e351b5f76ca093ffb02,Improve API Documentation for v2 API,MERGED,2022-06-30 02:29:15.000000000,2022-07-04 13:03:06.000000000,2022-07-04 13:01:00.000000000,11,6,1,848206,0e3793b1a244acb42bdb2aec01570b8ad663e963,9,7,1,1,31668,Ai Hamano,hamano,"Improve API Documentation for v2 API

This patch modifies the following for the API Documentation for v2 API:
 [1] Added 400 code
   - All APIs return ""400 Bad Request"" if the validation check in the
     Version header fails.
 [2] Added 406 code
   - All APIs except api_versions return ""406 Not Acceptable"" if an
     unsupported version is set in the Version header.
 [3] Removed 422 code
   - It is not necessary to describe the ""422 Unprocessable Entity""
     error that occurs after returning ""202 Accepted"" in the response.

Change-Id: I8565c12a69ca75f6c7934e351b5f76ca093ffb02
"
openstack%2Fansible-collections-openstack~master~I857d7ba7b7ca1b23100ee7e85e90e98430d68462,openstack/ansible-collections-openstack,master,security_group_rule,I857d7ba7b7ca1b23100ee7e85e90e98430d68462,Updates security group rule for latest sdk,MERGED,2022-06-21 00:09:02.000000000,2022-07-04 12:43:28.000000000,2022-07-04 12:43:28.000000000,265,107,4,846830,e0958c605ea1b0b9b35abec7cde14512c4a444c2,15,3,5,3,34208,Rafael Castillo,rcastill,"Updates security group rule for latest sdk

- Update docs
- Change calls from cloud to proxy layer
- Make sure return value is a dict
- Improve test coverage

Change-Id: I857d7ba7b7ca1b23100ee7e85e90e98430d68462
"
openstack%2Freleases~master~I230a7e2dae91f91a37117cc63c6e2840f7c536ed,openstack/releases,master,manila,I230a7e2dae91f91a37117cc63c6e2840f7c536ed,[python-manilaclient] Release manilaclient 2.6.4,MERGED,2022-06-30 18:01:34.000000000,2022-07-04 12:06:40.000000000,2022-07-04 12:06:40.000000000,4,0,2,848325,b860bad7b099cd8f1b0f0c172d772c9c9020aeed,11,7,1,1,29632,Carlos Eduardo,silvacarlos,"[python-manilaclient] Release manilaclient 2.6.4

Introduces an important fix:

git log --oneline --no-merges 2.6.3..7f7d7d3
7f7d7d3 Re-enable shell completion cache

Change-Id: I230a7e2dae91f91a37117cc63c6e2840f7c536ed
"
openstack%2Freleases~master~Ib4319d2c8e138073d889bbede29843c7bc014223,openstack/releases,master,manila,Ib4319d2c8e138073d889bbede29843c7bc014223,[python-manilaclient] Release manilaclient 3.3.1,MERGED,2022-06-30 17:35:13.000000000,2022-07-04 12:03:39.000000000,2022-07-04 12:03:39.000000000,4,0,2,848322,51a9711bc2dc0388a6c73a3d1558d82396c899a7,10,6,1,1,29632,Carlos Eduardo,silvacarlos,"[python-manilaclient] Release manilaclient 3.3.1

git log --oneline --no-merges 3.3.0..c1c1133
c1c1133 Avoid using ""force"" kwarg in extend API
9f33f3a Drop lower-constraints.txt and its testing
390f89b Update TOX_CONSTRAINTS_FILE for stable/yoga
dd986d7 Update .gitreview for stable/yoga

Change-Id: Ib4319d2c8e138073d889bbede29843c7bc014223
"
openstack%2Fheat-dashboard~stable%2Fyoga~I4b6bef322a668a805abcd4bc472d30f6d1df3a0a,openstack/heat-dashboard,stable/yoga,,I4b6bef322a668a805abcd4bc472d30f6d1df3a0a,Set False to include_empty_option,MERGED,2022-06-08 06:36:56.000000000,2022-07-04 12:02:24.000000000,2022-07-04 12:01:01.000000000,8,5,0,845086,39c14dc25b23e048e966efc433007b4f3f6a388c,8,3,1,1,30073,Brendan Shephard,bshephar,"Set False to include_empty_option

In _populate_custom_choices(), all methods called at the method have
True as a second argument. It means that the default values sepcified
in a stack are not shown as default when launch stack form.
The fileds always show 'Select Flavor/Image/Network'.
Users doesn't expect to choose default value by hand.
This change shows the default values defined at a template.

Also, image_field_data() doesn't use parameter, include_empty_option.
This change modfies the method to change the behavior based on the
parameter.

Closes-Bug: #1619465
Change-Id: I4b6bef322a668a805abcd4bc472d30f6d1df3a0a
(cherry picked from commit 792f8cbe4ac6f39aa41b0905e3b68f2a8c1e5fb1)
"
openstack%2Ftacker~master~I52057441aeaefc358013a6d5e26925def7ab0b3c,openstack/tacker,master,zanata/translations,I52057441aeaefc358013a6d5e26925def7ab0b3c,Imported Translations from Zanata,MERGED,2022-07-03 04:24:35.000000000,2022-07-04 12:00:40.000000000,2022-07-04 11:59:09.000000000,112,2,0,848528,e1a4666fe6838ec756105def156ae9d225a11e7b,8,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I52057441aeaefc358013a6d5e26925def7ab0b3c
"
openstack%2Ftrove~master~I18da50c47fa3112927e4ccc27ac1bd8a64356c42,openstack/trove,master,zanata/translations,I18da50c47fa3112927e4ccc27ac1bd8a64356c42,Imported Translations from Zanata,MERGED,2022-06-21 04:28:00.000000000,2022-07-04 11:42:35.000000000,2022-07-04 11:40:56.000000000,187,2,0,846893,89ae2cf743f09de4b419fd0262b54e06d8d0445a,9,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I18da50c47fa3112927e4ccc27ac1bd8a64356c42
"
openstack%2Ftripleo-ansible~master~Iae61a0f8fb92473c04e2fa28ec18234a499ed6bf,openstack/tripleo-ansible,master,,Iae61a0f8fb92473c04e2fa28ec18234a499ed6bf,Sort job order,ABANDONED,2022-06-16 14:29:30.000000000,2022-07-04 11:41:50.000000000,,10,10,0,846179,1786978fd1106b46f590440586d1ce36b7f27b57,3,1,1,1,9816,Takashi Kajinami,kajinamit,"Sort job order

Currently when we generate a role using the automation[1], the job
definition for tripleo_iscsi is always moved because of it is breaking
the alphabetical order.

[1] https://docs.openstack.org/tripleo-ansible/latest/contributing_roles.html#create-a-new-role-with-automation

Change-Id: Iae61a0f8fb92473c04e2fa28ec18234a499ed6bf
"
openstack%2Ftripleo-heat-templates~master~I6b797141800ae7f1773e9a06b232dacd158732f5,openstack/tripleo-heat-templates,master,mariabackup,I6b797141800ae7f1773e9a06b232dacd158732f5,Galera: initial support for mariabackup SST,MERGED,2022-04-04 09:02:51.000000000,2022-07-04 11:37:42.000000000,2022-07-04 11:36:19.000000000,43,1,22,836277,4cceeebc86b99f76abaf15990e14d85406628be1,60,7,6,2,20778,Damien Ciabrini,dciabrin,"Galera: initial support for mariabackup SST

When deploying a HA overcloud, allow the SST method to be
configured, to use either rsync (default) or mariabackup.

Tested by deploying a HA overcloud with mariabackup SST
(IPv4, IPv6, TLS-e) as well as with regular rsync SST
(IPv4, IPv6, TLS-e).

Note that this initial support doesn't allow SST method
to be updated via a stack update, as mariabackup requires
a dedicated MySQL user, and there is currently no
orchestration available via a minor update either.

Closes-Bug: #1973872
Depends-On: I1509bd30fbd253790b17e04ef15dca6c58de7311
Depends-On: I4d5983ada52a58cdd853bd7b701bb11eeb88be8d

Change-Id: I6b797141800ae7f1773e9a06b232dacd158732f5
"
openstack%2Fpython-openstackclient~stable%2Fqueens~I47c77f3e7efe112417d2b96936fcd0cafeb9442e,openstack/python-openstackclient,stable/queens,bug/1798493-stable/queens,I47c77f3e7efe112417d2b96936fcd0cafeb9442e,Improve document 'openstack complete',ABANDONED,2018-10-19 01:09:57.000000000,2022-07-04 11:36:42.000000000,,5,2,0,611731,9e963a13193d366bcc0bb2aed66f0ba94475491c,8,3,1,1,19521,Robin Cernin,rcernin,"Improve document 'openstack complete'

The openstack complete command requires bash-completion package
Without the relevant package the bash completion doesn't work.

Change-Id: I47c77f3e7efe112417d2b96936fcd0cafeb9442e
Closes-Bug: #1798493
"
openstack%2Ftripleo-heat-templates~master~I6a82a542855e32bd82c67f34138271b060df5de2,openstack/tripleo-heat-templates,master,,I6a82a542855e32bd82c67f34138271b060df5de2,Fix Cinder Dell EMC SC backend template,MERGED,2022-06-28 15:01:38.000000000,2022-07-04 11:36:23.000000000,2022-07-04 11:36:23.000000000,1,4,4,847739,95a02d2419fa279838a5bc3b600b235f41615cac,19,4,1,1,34598,Manojkatari,mkatari,"Fix Cinder Dell EMC SC backend template

The 'CinderSCStorageProtocol' parameter defined in
cinder-backend-dellemc-sc-puppet.yaml is not used and
has no effect. Modified it as 'CinderScStorageProtocol'
similar to other parameters.

The parameter 'CinderScExcludedDomainIp' is introduced
when the backend support was added in the patch
https://review.opendev.org/c/openstack/tripleo-heat-templates/+/727283
but it is never used.
Removed it as the 'CinderScExcludedDomainIps' parameter is already used.

Closes-Bug: #1978749
Closes-Bug: #1978750
Change-Id: I6a82a542855e32bd82c67f34138271b060df5de2
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ia76b5ab2e319d66666f109aefe22fb83778b6f2d,openstack/tripleo-heat-templates,stable/wallaby,cleanup_openldap_ffu-stable/wallaby,Ia76b5ab2e319d66666f109aefe22fb83778b6f2d,Cleanup openldap certs database,MERGED,2022-03-29 07:57:44.000000000,2022-07-04 11:36:16.000000000,2022-07-04 11:36:16.000000000,28,1,3,835499,d2fa4571a0cc5f8cecb61837f4313a988ba7e41f,19,4,1,1,14250,Grzegorz Grasza,xek,"Cleanup openldap certs database

Cleanup openldap certs database as some users will create certs
database that will conflict with system CA certs database and
break openldap functionality within keystone.

Change-Id: Ia76b5ab2e319d66666f109aefe22fb83778b6f2d
(cherry picked from commit 9cb551201b2e0c68ad0868c9f1f524c51226ba4c)
"
openstack%2Fpython-openstackclient~stable%2Fpike~I93d23581c7e8c84eaf9bb3b293360036f60f456b,openstack/python-openstackclient,stable/pike,story/2004973,I93d23581c7e8c84eaf9bb3b293360036f60f456b,neutron: add --mtu for create/set network,ABANDONED,2019-02-12 12:10:41.000000000,2022-07-04 11:33:05.000000000,,41,0,2,636319,8e9fb15d59cdb86e108bc45095e1b2758cd2e615,20,8,3,5,17685,Elod Illes,elod.illes,"neutron: add --mtu for create/set network

Support Neutron network mtu configuration with a new argument, --mtu
that allows CLI users to set MTU for Neutron networks.

Story: 2004973
Task: 29428

Change-Id: I93d23581c7e8c84eaf9bb3b293360036f60f456b
(cherry picked from commit 18563b4132f794cc6612c2897795f96a31b565ae)
(cherry picked from commit a3caf7b331709d76fc6aec5222c60688fd6112a9)
"
openstack%2Fpython-openstackclient~stable%2Fpike~I1a92999758006d02567c542b6be8902a049899cc,openstack/python-openstackclient,stable/pike,story/1751104,I1a92999758006d02567c542b6be8902a049899cc,Fix server show for microversion 2.47,ABANDONED,2020-04-29 21:19:12.000000000,2022-07-04 11:33:03.000000000,,52,7,0,724424,aab54a88fa16c817e37a046036bf1ba670b604ef,7,5,1,3,17685,Elod Illes,elod.illes,"Fix server show for microversion 2.47

Compute API version 2.47 embeds the server's internal
flavor in the response. The original flavor id is not
preserved since it could have changed if the flavor
was deleted and re-created after the server was created,
which was the dreaded Horizon ""Edit Flavor"" issue.
So the flavor dict in the server response is a dict of
information about the flavor representing the server
""right now"" excluding the id. The original flavor name
is shown though along with the ram/disk/vcpu etc
information.

The server list command has a similar issue which
will be fixed in a follow up change.

Change-Id: I1a92999758006d02567c542b6be8902a049899cc
Task: 13864
Story: 1751104
(cherry picked from commit da7572a5ff9f54dbab4f8328632c562a2816a4fb)
(cherry picked from commit 7569830768a72e14b61bb06c948349365535a11f)
"
openstack%2Fpython-openstackclient~stable%2Fpike~If7d4a27c0aaef588bcd77dd9edddec1e535fbf31,openstack/python-openstackclient,stable/pike,story/2005349,If7d4a27c0aaef588bcd77dd9edddec1e535fbf31,Document 2.53 behavior for compute service list/delete,ABANDONED,2019-11-20 12:20:31.000000000,2022-07-04 11:32:41.000000000,,16,3,0,695184,c1bd35d8ee97af12cf3407841dfa58a4feafd5a8,17,4,3,2,17685,Elod Illes,elod.illes,"Document 2.53 behavior for compute service list/delete

With compute API microversion 2.53, nova-compute services
can only be deleted with the ID as a UUID to uniquely identify
the service in a multi-cell deployment. This documents that for
the ""compute service delete <service>"" argument. The description
of the ""compute service list"" command is also updated to mention
that the ID can be retrieved as a UUID using 2.53 or greater.

Change-Id: If7d4a27c0aaef588bcd77dd9edddec1e535fbf31
Story: 2005349
Task: 30302
(cherry picked from commit 1557afb554e908e097abd39081891ea78083e20e)
(cherry picked from commit 111d6a9b23d8c6b9bcce437039ff49536f0b5dd1)
(cherry picked from commit 72922ae1a1b842b1a5058377f8033cbf09086b4c)
(cherry picked from commit 5eedf36db63ed5edc2315faa85bd95eb201eaefe)
"
openstack%2Fpython-openstackclient~stable%2Fpike~I868e0868e8eb17e7e34eef3d2d58dceedd29c2b0,openstack/python-openstackclient,stable/pike,story/2005349,I868e0868e8eb17e7e34eef3d2d58dceedd29c2b0,Fix compute service set handling for 2.53+,ABANDONED,2019-11-20 12:18:28.000000000,2022-07-04 11:32:39.000000000,,170,12,0,695183,ffb99c86c0b0f0fb4f8fa01049ebfe25db24f3ae,16,5,3,6,17685,Elod Illes,elod.illes,"Fix compute service set handling for 2.53+

With compute API microversion 2.53 there is a single
PUT /os-services/{service_id} API which takes the service
id as a UUID. Since the openstack compute service set
command only takes --host and --service (binary) to identify
the service, this change checks if 2.53 or greater is being
used and if so, looks up the service by host and binary and
calls the appropriate methods in novaclient.

If the command cannot uniquely identify a compute service
with the given host and binary, an error is raised. A future
change could add an --id option to be used with 2.53+ to
pass the service id (as UUID) directly to avoid the host/binary
filtering.

Note(elod.illes): since patch Ib760c55e31209223338a4086ff1f4fee88dc6959
does not exist in pike, openstackclient/tests/unit/compute/v2/fakes.py
needed to be extended with api_version field for FakeComputev2Client
class.

Note(elod.illes): osc-functional-devstack job fails when fetching
upper-constraints.txt because curl does not follow redirection by
default. To fix this '-L' (Follow redirects) option added to curl
command.

Note(pshchelo): pin functional tests to be run under Python2 as
they were when Pike was cut.

Change-Id: I868e0868e8eb17e7e34eef3d2d58dceedd29c2b0
Story: 2005349
Task: 30302
(cherry picked from commit 4bd53dc1090fda86f6ce25b76a079e250c9206d8)
(cherry picked from commit 100d34c54ecdfedf6fb40a2686e1aae1f54df97e)
(cherry picked from commit fc5f2978c0f4f1e3360325b00c1f1b99f1e6318f)
(cherry picked from commit 492a6c400169689182c077df5543f5ec1e481369)
"
openstack%2Fpython-openstackclient~stable%2Fpike~Ie4fdc0c54a9c675d88f56fff5ab75b73a5e83957,openstack/python-openstackclient,stable/pike,zuulv3-projects,Ie4fdc0c54a9c675d88f56fff5ab75b73a5e83957,Zuul: Remove project name,ABANDONED,2018-02-07 23:19:42.000000000,2022-07-04 11:32:12.000000000,,0,1,0,541936,da37d300fe58722a66e29f039ff2fe655bca2343,19,4,1,1,1,James E. Blair,corvus,"Zuul: Remove project name

Zuul no longer requires the project-name for in-repo configuration.
Omitting it makes forking or renaming projects easier.

Change-Id: Ie4fdc0c54a9c675d88f56fff5ab75b73a5e83957
"
openstack%2Fpython-openstackclient~stable%2Fpike~I47c77f3e7efe112417d2b96936fcd0cafeb9442e,openstack/python-openstackclient,stable/pike,bug/1798493-stable/pike,I47c77f3e7efe112417d2b96936fcd0cafeb9442e,Improve document 'openstack complete',ABANDONED,2018-10-19 01:10:16.000000000,2022-07-04 11:32:00.000000000,,5,2,0,611732,5d1dc7b89396d14c1e3f660a14e0097b48541077,5,3,1,1,19521,Robin Cernin,rcernin,"Improve document 'openstack complete'

The openstack complete command requires bash-completion package
Without the relevant package the bash completion doesn't work.

Change-Id: I47c77f3e7efe112417d2b96936fcd0cafeb9442e
Closes-Bug: #1798493
"
openstack%2Fpython-openstackclient~stable%2Fpike~I9134dd2ba86868e1ff68ffb25f6c6925151aad1e,openstack/python-openstackclient,stable/pike,538963,I9134dd2ba86868e1ff68ffb25f6c6925151aad1e,Use find_ip from openstacksdk,ABANDONED,2018-01-29 16:12:35.000000000,2022-07-04 11:31:52.000000000,,23,113,0,538963,87cc7cff1bf46e07c164d8401989bbd286a0e77d,15,3,4,2,2,Monty Taylor,mordred,"Use find_ip from openstacksdk

The find_ip from openstacksdk started being usable by OSC back in 0.9.15
but the local method never got replaced.

OSC's use of _floating_ip.FloatingIP.list(session) for this purpose
makes stable/pike OSC break with master sdk. Updating this to use the
find_ip method which was in the stable/pike version of sdk removes the
site of inteface breakage.

Cherry-picked from master from I18a334280e5f384f8bb96198cdad79c612a02290

Change-Id: I9134dd2ba86868e1ff68ffb25f6c6925151aad1e
"
openstack%2Fpython-openstackclient~stable%2Fpike~I96133a57883d22e98fcbb9fe0328d9e050472469,openstack/python-openstackclient,stable/pike,bug/1703704-stable/pike,I96133a57883d22e98fcbb9fe0328d9e050472469,Support icmp-type and icmp-code to be set as zero,ABANDONED,2017-09-27 08:48:24.000000000,2022-07-04 11:31:44.000000000,,177,2,0,507791,c2bcf8bdbf4acfc3991b312515b8061fc85b0c60,6,4,1,3,17256,Venkatrangan Govindarajan,gvrangan,"Support icmp-type and icmp-code to be set as zero

When icmp-type or icmp-code are set to 0, the current implementation
ignores the value, this fix will allow the value to be copied and
displayed

Change-Id: I96133a57883d22e98fcbb9fe0328d9e050472469
Signed-off-by: gvrangan <venkatrangang@hcl.com>
(cherry picked from commit 221b7052abcefa56213a6516cecc6de9c73026d1)
"
openstack%2Fpython-openstackclient~stable%2Fwallaby~Id5c05ef7d7bb0a04b9d7a9d821e544e1ff7b3d28,openstack/python-openstackclient,stable/wallaby,wallaby,Id5c05ef7d7bb0a04b9d7a9d821e544e1ff7b3d28,openstack image create: honor protection/visibility flags,MERGED,2022-07-01 13:35:09.000000000,2022-07-04 11:29:31.000000000,2022-07-04 11:28:23.000000000,2,0,2,848448,b39fe0b46380686e33b737633deff753d35691d9,9,4,1,1,8122,Cyril Roelandt,cyril.roelandt.enovance,"openstack image create: honor protection/visibility flags

The --protected, --unprotected, --public, --shared, --community,
--private flags were ignored when using --volume.

Change-Id: Id5c05ef7d7bb0a04b9d7a9d821e544e1ff7b3d28
Story: 2008882
(cherry picked from commit 3918622968073738e8fa17eec8bf5512ed609af9)
"
openstack%2Fkolla-ansible~master~Idec79a53fad048f45139af3b8c72e85385ac80b6,openstack/kolla-ansible,master,ovn-bgp,Idec79a53fad048f45139af3b8c72e85385ac80b6,Don't disable neutron-bgp-dragent with OVN,MERGED,2022-07-03 20:04:47.000000000,2022-07-04 11:21:25.000000000,2022-07-04 11:20:08.000000000,1,1,3,848547,3f8683ccccaa44b836b5a158efe7183a4c572610,11,3,1,1,13252,Dr. Jens Harbott,jrosenboom,"Don't disable neutron-bgp-dragent with OVN

The neutron-bgp-dragent container is also needed when using OVN as
backend plugin.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: Idec79a53fad048f45139af3b8c72e85385ac80b6
"
openstack%2Fceilometer~master~Ic145c23cc0b0372ef78f4a45ffb084bec24936c3,openstack/ceilometer,master,lbaas-removal,Ic145c23cc0b0372ef78f4a45ffb084bec24936c3,Remove support for neutron-lbaas,MERGED,2022-04-12 02:04:08.000000000,2022-07-04 11:19:12.000000000,2022-07-04 11:17:01.000000000,5,2564,3,837441,318c54648c2c85d4f4f5425c5ffc5e5f3dda86f2,18,5,4,14,9816,Takashi Kajinami,kajinamit,"Remove support for neutron-lbaas

... because it is of no use since neutron-lbaas was retired and was
replaced by Octavia. This feature was officially deprecated during
Yoga cycle[1] so we are ready to remove it.

[1] 8917c73964eb764c3c4beb65d3713b36938181dd

Change-Id: Ic145c23cc0b0372ef78f4a45ffb084bec24936c3
"
openstack%2Fceilometer~master~I8463537ca09db2f0bc443505afaab6a1f9ff5db2,openstack/ceilometer,master,bug/1929178,I8463537ca09db2f0bc443505afaab6a1f9ff5db2,Remove [coordination] check_watchers,MERGED,2022-06-25 22:46:23.000000000,2022-07-04 11:18:10.000000000,2022-07-04 11:16:59.000000000,5,8,0,847647,3400ad134b80512fd3a06ff8760e80b0abeaafb6,10,3,1,2,9816,Takashi Kajinami,kajinamit,"Remove [coordination] check_watchers

This parameter has had no effect for several cycles and was officially
deprecated during Xena cycle[1].

[1] 46ad2786ae48f41a97a014fd140f022ee3ee3c1c

Related-Bug: #1929178
Change-Id: I8463537ca09db2f0bc443505afaab6a1f9ff5db2
"
openstack%2Fpython-openstackclient~master~I02cc95bab04e8373de389a344cdf70abd0dc288d,openstack/python-openstackclient,master,trivial,I02cc95bab04e8373de389a344cdf70abd0dc288d,image: Simplify list image parser,ABANDONED,2022-06-21 10:26:14.000000000,2022-07-04 11:08:28.000000000,,25,64,0,846994,47d2d0782a8bbf68fd219ed8d1a1de7c33def311,3,1,1,2,15334,Stephen Finucane,sfinucan,"image: Simplify list image parser

Make use of some argarse features.

Change-Id: I02cc95bab04e8373de389a344cdf70abd0dc288d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpython-openstackclient~master~I27871459db2e28af8a77009abe5d5187da2967f2,openstack/python-openstackclient,master,bug/975,I27871459db2e28af8a77009abe5d5187da2967f2,Support listing all images a user has access to,ABANDONED,2022-06-08 15:14:20.000000000,2022-07-04 11:07:10.000000000,,9,0,1,845150,b381e9b160789f7ac8776e1a0f2796be77c4105f,9,2,3,1,32370,Alex Iribarren,alexiribarren,"Support listing all images a user has access to

Story: 2010071
Task: 45556

Signed-off-by: Alex Iribarren <Alex.Iribarren@cern.ch>
Change-Id: I27871459db2e28af8a77009abe5d5187da2967f2
"
openstack%2Fpython-openstackclient~stable%2Fussuri~Iab3634039845adb649c7fd69d1812b405a61433c,openstack/python-openstackclient,stable/ussuri,migrate-to-focal-stable/ussuri,Iab3634039845adb649c7fd69d1812b405a61433c,Fix gate due to switch to focal,ABANDONED,2022-07-04 06:20:43.000000000,2022-07-04 11:02:17.000000000,,2,3,2,848508,99d7177c32397e0f30b0b33cd92acecd5787bf78,5,3,1,2,5112,Seyeong Kim,xtrusia,"Fix gate due to switch to focal

In focal we do not have libffi6.
cffi and greenlet versions in lower-contraints are too old.

Change-Id: Iab3634039845adb649c7fd69d1812b405a61433c
(cherry picked from commit 99b5adf9c65d3cd2e2aa8c40c08a478fae0a49f3)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If839245b306370095ad21d753e9f5d4c98f1740c,openstack/tripleo-heat-templates,stable/wallaby,,If839245b306370095ad21d753e9f5d4c98f1740c,Add generated deployed network environment,MERGED,2022-07-01 20:45:40.000000000,2022-07-04 10:46:51.000000000,2022-07-04 10:46:51.000000000,66,0,5,848473,8550b8482fab548d24304f2f7014bd277560eb1c,26,5,4,2,7144,James Slagle,slagle,"Add generated deployed network environment

The environments/deployed-network-environment.j2.yaml template will
generate an environment file based entirely off of the used roles data
and network data files that can be used in place of the generated
environments from the ""overcloud network"" commands.

For environments without Neutron, the generated file is easier than
having to define all these parameter values manually.

Change-Id: If839245b306370095ad21d753e9f5d4c98f1740c
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit 925af6378e8740792fa0bc3fb0f241cf2fed863f)
"
openstack%2Fmanila~master~I2c47363e9a55547f73b6a060afe44162238ea92f,openstack/manila,master,bp/manila-oversubscription-enhancements,I2c47363e9a55547f73b6a060afe44162238ea92f,manila oversubscription enhancements,NEW,2022-04-20 09:41:24.000000000,2022-07-04 10:31:05.000000000,,101,215,1,838672,3f1580c9d54b4ea8c46aeb83dd204f3346c9fe75,27,1,5,4,30407,haixin,haixin,"manila oversubscription enhancements

Partially-Implements: blueprint manila-oversubscription-enhancements

Change-Id: I2c47363e9a55547f73b6a060afe44162238ea92f
"
openstack%2Fheat~stable%2Fyoga~Ic6125c6af60c1007243523cc8510a17f49c7b5af,openstack/heat,stable/yoga,,Ic6125c6af60c1007243523cc8510a17f49c7b5af,Fix parameter merging with merge strategies,MERGED,2022-07-04 07:05:27.000000000,2022-07-04 10:22:08.000000000,2022-07-04 10:20:52.000000000,16,15,0,848590,154691d21d24351edbe066fd23c731afad456b85,9,3,1,2,9816,Takashi Kajinami,kajinamit,"Fix parameter merging with merge strategies

Earlier users had to specify merge strategy for
a parameter/parameter_default in every environment
file where they are used(or the defaults for that
environment was used). However, the strategy
for a parameter in the first environment was
ignored as there is nothing to merge.

With Iec3367667248d0b46196a6d569f3cbb3b200d842, we
changed to use existing merge strategies, but the
strategies in the first environment were still
ignored. This patch fixes it.

Task: 45578
Change-Id: Ic6125c6af60c1007243523cc8510a17f49c7b5af
(cherry picked from commit d9fe7301b3af2db9fa56d59eb405add94730ba50)
"
openstack%2Fkolla~stable%2Fwallaby~I4bd581c3ea422e1c9a075a71721413d47fdbdfe4,openstack/kolla,stable/wallaby,openstack-exporter-1.6.0-stable/wallaby,I4bd581c3ea422e1c9a075a71721413d47fdbdfe4,Bump prometheus-openstack-exporter version to 1.6.0,MERGED,2022-07-01 14:47:48.000000000,2022-07-04 10:06:51.000000000,2022-07-04 10:05:40.000000000,17,5,0,848459,0541e933286b2ec3e0b4342870cec1c945da59b1,9,3,1,2,15197,Pierre Riteau,priteau,"Bump prometheus-openstack-exporter version to 1.6.0

Change-Id: I4bd581c3ea422e1c9a075a71721413d47fdbdfe4
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/848457
(cherry picked from commit 5f94e53bea9fb81786595cb8b452879afe436e26)
(cherry picked from commit 51d5e442c105bd5dd74c983ef277812b8915eb52)
"
openstack%2Fdevstack~master~I6da4a537e6a8d527ff71a821f07164fc7d342882,openstack/devstack,master,bug/1980421,I6da4a537e6a8d527ff71a821f07164fc7d342882,Increase timeout waiting for OVN startup,MERGED,2022-07-03 20:31:08.000000000,2022-07-04 09:52:38.000000000,2022-07-04 09:51:25.000000000,2,2,3,848548,bd6e5205b115fb0cafed7f50a676699a4b9fc0fe,9,4,1,1,13252,Dr. Jens Harbott,jrosenboom,"Increase timeout waiting for OVN startup

We see some cases where OVN startup takes much longer than 5 seconds, up
to 28 seconds have been observed, so increase the limit to 40 to be on
the safe side.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Closes-Bug: 1980421
Change-Id: I6da4a537e6a8d527ff71a821f07164fc7d342882
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I7605a3f9f74effb29ecec3b28e4709fd5f7f8cd4,openstack/kolla-ansible,stable/wallaby,openstack-exporter-compute-api-version-stable/wallaby,I7605a3f9f74effb29ecec3b28e4709fd5f7f8cd4,Support setting Nova API microversion for openstack-exporter,MERGED,2022-07-01 14:41:38.000000000,2022-07-04 09:52:30.000000000,2022-07-04 09:51:08.000000000,13,0,0,848457,36d1713a8ba35cc8a9c7068379f59a78648a14e5,9,3,1,5,15197,Pierre Riteau,priteau,"Support setting Nova API microversion for openstack-exporter

Starting from v1.5.0 of the exporter, OS_COMPUTE_API_VERSION can be set
to configure the Nova API version to be used [1]. Microversion 2.1 can
be used to keep metrics unmodified from the previous exporter version
deployed by Kolla (v1.3.0).

Support it with prometheus_openstack_exporter_compute_api_version,
defaulting to using version 2.1 to keep metrics unchanged.

[1] https://github.com/openstack-exporter/openstack-exporter/pull/201

Change-Id: I7605a3f9f74effb29ecec3b28e4709fd5f7f8cd4
(cherry picked from commit 41fba3c5df8880a899ddee2e47218c0eab1778b7)
(cherry picked from commit 5cc47b02dae38b44ad603aed7fd1ac4c3648f1e6)
"
openstack%2Fkolla~stable%2Fxena~I4bd581c3ea422e1c9a075a71721413d47fdbdfe4,openstack/kolla,stable/xena,openstack-exporter-1.6.0-stable/xena,I4bd581c3ea422e1c9a075a71721413d47fdbdfe4,Bump prometheus-openstack-exporter version to 1.6.0,MERGED,2022-07-01 14:45:57.000000000,2022-07-04 09:52:17.000000000,2022-07-04 09:51:04.000000000,17,5,0,848458,51d5e442c105bd5dd74c983ef277812b8915eb52,10,3,2,2,15197,Pierre Riteau,priteau,"Bump prometheus-openstack-exporter version to 1.6.0

Change-Id: I4bd581c3ea422e1c9a075a71721413d47fdbdfe4
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/848361
(cherry picked from commit 5f94e53bea9fb81786595cb8b452879afe436e26)
"
openstack%2Fkolla-ansible~stable%2Fxena~I7605a3f9f74effb29ecec3b28e4709fd5f7f8cd4,openstack/kolla-ansible,stable/xena,openstack-exporter-compute-api-version-stable/xena,I7605a3f9f74effb29ecec3b28e4709fd5f7f8cd4,Support setting Nova API microversion for openstack-exporter,MERGED,2022-07-01 14:38:26.000000000,2022-07-04 09:36:46.000000000,2022-07-04 09:35:37.000000000,13,0,0,848361,41c6dbfc2c611abbc5967510e310dd4064e94aed,11,3,1,5,15197,Pierre Riteau,priteau,"Support setting Nova API microversion for openstack-exporter

Starting from v1.5.0 of the exporter, OS_COMPUTE_API_VERSION can be set
to configure the Nova API version to be used [1]. Microversion 2.1 can
be used to keep metrics unmodified from the previous exporter version
deployed by Kolla (v1.3.0).

Support it with prometheus_openstack_exporter_compute_api_version,
defaulting to using version 2.1 to keep metrics unchanged.

[1] https://github.com/openstack-exporter/openstack-exporter/pull/201

Change-Id: I7605a3f9f74effb29ecec3b28e4709fd5f7f8cd4
(cherry picked from commit 41fba3c5df8880a899ddee2e47218c0eab1778b7)
(cherry picked from commit 5cc47b02dae38b44ad603aed7fd1ac4c3648f1e6)
"
openstack%2Fneutron~master~I2f33543fa7ee65ce3d25f70af49a18b69f799aec,openstack/neutron,master,bug/1979047,I2f33543fa7ee65ce3d25f70af49a18b69f799aec,"Revert ""[fips jobs] blacklist AttachInterfacesTestJSON tempest test""",MERGED,2022-07-01 05:39:14.000000000,2022-07-04 09:00:00.000000000,2022-07-04 08:56:44.000000000,0,12,2,848351,f879d1f9578739bb3c5c362def665d9ca354b3f5,12,6,1,1,13861,yatin,yatinkarel,"Revert ""[fips jobs] blacklist AttachInterfacesTestJSON tempest test""

This reverts commit a1384678b88fc7ffb5eeccfbfc0da16a9cb8910a.

Reason for revert: https://bugzilla.redhat.com/show_bug.cgi?id=2092856 fixed in libvirt-8.4.0-3.el9 and available in CentOS 9-Stream.

Change-Id: I2f33543fa7ee65ce3d25f70af49a18b69f799aec
Related-Bug: #1979047
Related-Bug: rhbz#2092856
"
openstack%2Fneutron~master~I611ed3233ea689fe3a7218f0cca7e9b0a44aa9ce,openstack/neutron,master,segments,I611ed3233ea689fe3a7218f0cca7e9b0a44aa9ce,ovs: remove unused function _get_port_local_vlan,MERGED,2022-06-17 07:10:14.000000000,2022-07-04 08:58:47.000000000,2022-07-04 08:56:34.000000000,0,6,5,846275,c9abb2cec3381c32586b899fe76fcc8d3001ed41,34,5,3,1,7730,Sahid Orentino Ferdjaoui,sahid,"ovs: remove unused function _get_port_local_vlan

Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: I611ed3233ea689fe3a7218f0cca7e9b0a44aa9ce
"
openstack%2Fheat-dashboard~master~Ia710315f7dc124c4ac9195584eef1450c4a93bb5,openstack/heat-dashboard,master,drop-py3-6-7,Ia710315f7dc124c4ac9195584eef1450c4a93bb5,Update python testing as per zed cycle testing runtime,MERGED,2022-06-07 15:00:25.000000000,2022-07-04 08:57:41.000000000,2022-07-04 08:53:43.000000000,6,3,0,845001,8775ec3eee7ec9d59035931191b67339bf902dc3,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Update python testing as per zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Co-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>
Change-Id: Ia710315f7dc124c4ac9195584eef1450c4a93bb5
"
openstack%2Fneutron~master~Icd8208d63be413f45fcd0c8652ab02a3a53ffc3a,openstack/neutron,master,bug/1906490,Icd8208d63be413f45fcd0c8652ab02a3a53ffc3a,"Revert ""Temporary blacklist test_reboot_server_hard in OVN IPv6 job""",MERGED,2022-07-01 09:39:58.000000000,2022-07-04 08:56:39.000000000,2022-07-04 08:56:39.000000000,0,4,2,848353,a630fc79a54182d5c1465563b53732e0d39b5533,13,6,2,1,32586,Elvira García Ruiz,elvira,"Revert ""Temporary blacklist test_reboot_server_hard in OVN IPv6 job""

This reverts commit 7c95150c84d77f3eae69def5b1328243ccec248a.

Reason for revert: The bug related to this change has been fixed for a while: https://bugs.launchpad.net/neutron/+bug/1906490

Change-Id: Icd8208d63be413f45fcd0c8652ab02a3a53ffc3a
"
openstack%2Fheat-dashboard~master~Ie32786eb519919a2218f77200edf1dc28ec5a10b,openstack/heat-dashboard,master,,Ie32786eb519919a2218f77200edf1dc28ec5a10b,Add Python 3.9 to supported runtumes,MERGED,2022-06-07 14:59:46.000000000,2022-07-04 08:55:53.000000000,2022-07-04 08:53:42.000000000,1,0,0,845000,e1d05d8150123f7e3c04726b1341db52ff2cdae8,9,3,1,1,9816,Takashi Kajinami,kajinamit,"Add Python 3.9 to supported runtumes

... because it has been part of tested runtimes since Yoga[1].

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Ie32786eb519919a2218f77200edf1dc28ec5a10b
"
openstack%2Fheat-dashboard~stable%2Fyoga~I652e89148b2a1cb28ebf68fd0d8cbf60447695c5,openstack/heat-dashboard,stable/yoga,,I652e89148b2a1cb28ebf68fd0d8cbf60447695c5,Yoga-only: Fix wrong job teamplate used,MERGED,2022-06-23 03:11:22.000000000,2022-07-04 08:55:50.000000000,2022-07-04 08:53:40.000000000,1,1,0,847232,111e6a15be2f8fe30a0ad9bc03705fa3e514f77d,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Yoga-only: Fix wrong job teamplate used

We should use the job template corresponding to the release.

Change-Id: I652e89148b2a1cb28ebf68fd0d8cbf60447695c5
"
openstack%2Fneutron~stable%2Fyoga~Ia74a9404411862dc88b48c4a198d5c53f5f52704,openstack/neutron,stable/yoga,bug/1938478,Ia74a9404411862dc88b48c4a198d5c53f5f52704,[ovn]support read chassis update time from nb_cfg_timestamp,MERGED,2022-06-29 13:29:56.000000000,2022-07-04 08:53:50.000000000,2022-07-04 08:52:24.000000000,76,6,3,848131,cfc0678caf39a5ec002fc56a878275a94dc11b94,12,5,1,5,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[ovn]support read chassis update time from nb_cfg_timestamp

nb_cfg_timestamp: The timestamp when ovn-controller finishes
processing the change corresponding to nb_cfg[1]. it can better
reflect the status of chassis.

This patch updated some unit tests. ensure mock 'time.time' is
stopped after test. if not stop, may affect ""timeutils.utcnow_ts""
to obtain the real time, cause test case
'test_agent_with_nb_cfg_timestamp_not_timeout' failure.

Partial-bug: #1938478
[1] https://www.ovn.org/support/dist-docs/ovn-sb.5.html

Conflicts:
  neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py
  neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py

Change-Id: Ia74a9404411862dc88b48c4a198d5c53f5f52704
(cherry picked from commit 9e263dcf00b7ddc102a54f5e681bcf09931f3a72)
"
openstack%2Fkolla-ansible~master~I22539f927834e2f92ffb28543811886332ace1e8,openstack/kolla-ansible,master,,I22539f927834e2f92ffb28543811886332ace1e8,WIP: mariadb TLS,NEW,2022-04-06 10:19:50.000000000,2022-07-04 08:17:59.000000000,,103,73,3,836791,6ce871e465a4d057841418991511284433859839,13,1,5,13,14826,Mark Goddard,mgoddard,"WIP: mariadb TLS

Change-Id: I22539f927834e2f92ffb28543811886332ace1e8
"
openstack%2Fovn-octavia-provider~master~Iad9839ce99d50b969924b3fe369301b6dfed369d,openstack/ovn-octavia-provider,master,,Iad9839ce99d50b969924b3fe369301b6dfed369d,Delete vip port if create_vip_port raise exception,MERGED,2022-05-17 13:42:00.000000000,2022-07-04 08:17:56.000000000,2022-07-04 08:16:48.000000000,37,0,6,842107,cd3264a07e047b589e4064855169c37f17343e60,13,3,1,2,34451,Fernando Royo,froyo,"Delete vip port if create_vip_port raise exception

Sometimes on heavy load over Neutron, operations over
neutron client could raise a NeutronClientException that
could cover, e.g. a timeout. In those case, sometimes the
request finish after the client timeout and we have
leftover resource.

create_vip_port is called from Octavia API just before
the create LB request, if this call raise a timeout
maybe the vip port is finally created and linked to a LB
that is not going to be created, so we have this port
unuse.

This patch will try to remove the leftover port for those
situations.

Closes-Bug: #1973765
Change-Id: Iad9839ce99d50b969924b3fe369301b6dfed369d
"
openstack%2Ftripleo-common~stable%2Fwallaby~I74b0775a4274eb0ed8abbb0b3db7bec832f0eb60,openstack/tripleo-common,stable/wallaby,drop_collectd_gnocchi-stable/wallaby,I74b0775a4274eb0ed8abbb0b3db7bec832f0eb60,Remove python-collectd-gnocchi from the image,MERGED,2022-04-21 14:18:32.000000000,2022-07-04 07:58:03.000000000,2022-07-04 07:56:54.000000000,0,1,19,838872,282a1df6eba746311fff0be01840194e0da3ce00,58,5,2,1,4264,Matthias Runge,mrunge,"Remove python-collectd-gnocchi from the image

Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844519
Depends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/844517

Change-Id: I74b0775a4274eb0ed8abbb0b3db7bec832f0eb60
(cherry picked from commit 7a7bbceca523541bd0368c91ba7d8ab9da0ab99f)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If962b8250fcbe206713bdd7628beb4d7c1e89c07,openstack/tripleo-heat-templates,stable/wallaby,aodh-service_credentials-stable/wallaby,If962b8250fcbe206713bdd7628beb4d7c1e89c07,Clean up usage of the deprecated aodh::auth class,MERGED,2022-04-05 01:54:54.000000000,2022-07-04 07:56:57.000000000,2022-07-04 07:56:57.000000000,0,4,2,836348,722eb2abf999a03360f9d8524050818997c5c30f,14,4,1,1,9816,Takashi Kajinami,kajinamit,"Clean up usage of the deprecated aodh::auth class

Depends-on: https://review.opendev.org/772694
Depends-on: https://review.opendev.org/836347
Change-Id: If962b8250fcbe206713bdd7628beb4d7c1e89c07
(cherry picked from commit 4f2884ff60b42b868f04fbfc6dc3ca5c3336d6fb)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic3199c9a20c0ed7ab060b7287556ee5f994bab67,openstack/tripleo-heat-templates,stable/wallaby,,Ic3199c9a20c0ed7ab060b7287556ee5f994bab67,Fix run_after of certs_requests in modular libvirt,MERGED,2022-06-21 11:38:47.000000000,2022-07-04 07:56:50.000000000,2022-07-04 07:56:50.000000000,2,4,1,846936,e901311fe0c47e0d90965987ab352d85c55306b7,11,5,2,1,6926,Bogdan Dobrelya,bogdando,"Fix run_after of certs_requests in modular libvirt

When changing the /etc/pki/qemu certs, there is no need to
restart/reload any (modular libvirt) service. Those certs are either
loaded when QEMU VM is booted, or dynamically loaded into QEMU when a
live migration takes place. For the libvirt certs in /etc/pki/libvirt
though we need to either restart 'libvirtd.service' (what we already
do in the monolithic world), or restart 'virtproxyd.service' (modular
world). No need to restart 'virtqemud.service in modular world.

Before reloading container via systemctl, attempt a more graceful
virt-admin command to reload certificates.

Related: rhbz#2088515
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: Ic3199c9a20c0ed7ab060b7287556ee5f994bab67
(cherry picked from commit 5e314d9f79fb4b183cf7b1cb4eed3744140ee172)
"
openstack%2Flarge-scale~master~I93610c60bd11b10d6c35f5cce7dc60ee1e3f754f,openstack/large-scale,master,add/largescale_rabbitmq_documentation,I93610c60bd11b10d6c35f5cce7dc60ee1e3f754f,Transfer rabbitmq page to rst format,MERGED,2022-07-01 11:56:35.000000000,2022-07-04 07:37:35.000000000,2022-07-04 07:36:31.000000000,247,4,1,848435,63caf2bf526a58ea3fccd7ec685ae8dec75bd734,11,2,3,1,34533,Ramona Beermann,ramonarautenberg,"Transfer rabbitmq page to rst format

Signed-off-by: Ramona Rautenberg <rautenberg@osism.tech>
Change-Id: I93610c60bd11b10d6c35f5cce7dc60ee1e3f754f
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I0fa188e4492f852ac1097d69c913f116ae96bb52,openstack/tripleo-heat-templates,stable/wallaby,5ddeac-wallaby,I0fa188e4492f852ac1097d69c913f116ae96bb52,Set amphora timezone based on TimeZone setting,ABANDONED,2022-07-02 18:59:51.000000000,2022-07-04 07:37:07.000000000,,10,0,4,848523,84542c33a264c86f86f8a98db0d12950defa600d,13,4,2,2,34429,Tom Weininger,tweining,"Set amphora timezone based on TimeZone setting

Use the global TimeZone parameter in order to configure the timezone of
the amphora.

 Conflicts:
	deployment/octavia/octavia-base.yaml

Depends-On: https://review.opendev.org/c/openstack/octavia/+/848568
Depends-On: https://review.opendev.org/c/openstack/puppet-octavia/+/848569
Change-Id: I0fa188e4492f852ac1097d69c913f116ae96bb52
(cherry picked from commit 5ddeac53c0a93754b8a2f054bc7feccff3d54665)
"
openstack%2Fpuppet-octavia~stable%2Fxena~I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5,openstack/puppet-octavia,stable/xena,b5ab3d-xena,I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5,Allow amphora timezone configuration,ABANDONED,2022-07-04 07:15:05.000000000,2022-07-04 07:35:57.000000000,,15,0,1,848574,86a17c3ad4e85922241c24e792cfd1dcacd65548,4,1,1,3,34429,Tom Weininger,tweining,"Allow amphora timezone configuration

Adds support for the ``[controller_worker] amp_timezone`` configuration
parameter. It allows to configure the timezone of the amphora.

 Conflicts:
	manifests/controller.pp
	spec/classes/octavia_controller_spec.rb

Depends-On: https://review.opendev.org/c/openstack/octavia/+/839937
Change-Id: I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5
(cherry picked from commit b5ab3de4bcf122d4228173eca0d0cd733a0e1ed9)
(cherry picked from commit 8a5a3c6fabcfc0ad158d01a562a0dde60cec4b2e)
"
openstack%2Fpuppet-octavia~stable%2Fyoga~I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5,openstack/puppet-octavia,stable/yoga,b5ab3d-yoga,I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5,Allow amphora timezone configuration,ABANDONED,2022-07-04 07:07:10.000000000,2022-07-04 07:35:51.000000000,,15,0,2,848572,8a5a3c6fabcfc0ad158d01a562a0dde60cec4b2e,4,1,1,3,34429,Tom Weininger,tweining,"Allow amphora timezone configuration

Adds support for the ``[controller_worker] amp_timezone`` configuration
parameter. It allows to configure the timezone of the amphora.

Depends-On: https://review.opendev.org/c/openstack/octavia/+/839937
Change-Id: I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5
(cherry picked from commit b5ab3de4bcf122d4228173eca0d0cd733a0e1ed9)
"
openstack%2Fpuppet-octavia~stable%2Fwallaby~I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5,openstack/puppet-octavia,stable/wallaby,b5ab3d-wallaby,I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5,Allow amphora timezone configuration,ABANDONED,2022-07-04 06:56:17.000000000,2022-07-04 07:35:35.000000000,,15,0,2,848569,d29db45e541790a7312912886454d26a634d963e,6,2,2,3,34429,Tom Weininger,tweining,"Allow amphora timezone configuration

Adds support for the ``[controller_worker] amp_timezone`` configuration
parameter. It allows to configure the timezone of the amphora.

 Conflicts:
	manifests/controller.pp
	spec/classes/octavia_controller_spec.rb

Depends-On: https://review.opendev.org/c/openstack/octavia/+/848568
Change-Id: I9a2cfddfa2e91fde8280c4cab4c51d05ae436ae5
(cherry picked from commit b5ab3de4bcf122d4228173eca0d0cd733a0e1ed9)
(cherry picked from commit 8a5a3c6fabcfc0ad158d01a562a0dde60cec4b2e)
(cherry picked from commit 86a17c3ad4e85922241c24e792cfd1dcacd65548)
"
openstack%2Foctavia~stable%2Fwallaby~I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07,openstack/octavia,stable/wallaby,829e44-wallaby,I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07,Make amphora timezone configurable,ABANDONED,2022-07-04 06:50:26.000000000,2022-07-04 07:35:00.000000000,,22,4,0,848568,3b0f35f257ec09c69ff1a2cf08f81ccfacdb1faf,3,1,1,7,34429,Tom Weininger,tweining,"Make amphora timezone configurable

The new amp_timezone option allows to adjust the timezone of
amphora using cloud-init.

Change-Id: I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07
(cherry picked from commit 829e44acbd3b1d193ad0125c67b83ec5860a470f)
(cherry picked from commit 2d786a5371086d9761fe23cc3bed6c64d2282b32)
(cherry picked from commit 295026d68b15eacec7a0e37c09c754521cc21d3e)
"
openstack%2Foctavia~stable%2Fxena~I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07,openstack/octavia,stable/xena,829e44-xena,I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07,Make amphora timezone configurable,ABANDONED,2022-07-04 06:50:10.000000000,2022-07-04 07:34:54.000000000,,22,4,0,848567,295026d68b15eacec7a0e37c09c754521cc21d3e,3,1,1,7,34429,Tom Weininger,tweining,"Make amphora timezone configurable

The new amp_timezone option allows to adjust the timezone of
amphora using cloud-init.

Change-Id: I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07
(cherry picked from commit 829e44acbd3b1d193ad0125c67b83ec5860a470f)
(cherry picked from commit 2d786a5371086d9761fe23cc3bed6c64d2282b32)
"
openstack%2Foctavia~stable%2Fyoga~I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07,openstack/octavia,stable/yoga,829e44-yoga,I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07,Make amphora timezone configurable,ABANDONED,2022-07-04 06:49:50.000000000,2022-07-04 07:34:37.000000000,,22,4,0,848566,2d786a5371086d9761fe23cc3bed6c64d2282b32,3,1,1,7,34429,Tom Weininger,tweining,"Make amphora timezone configurable

The new amp_timezone option allows to adjust the timezone of
amphora using cloud-init.

Change-Id: I2f49cbb7f8d99ba2da878bbfc7081a3cc3b3aa07
(cherry picked from commit 829e44acbd3b1d193ad0125c67b83ec5860a470f)
"
openstack%2Flarge-scale~master~Ie5bb8c7e09ed49f633290cc789b874107676f9e4,openstack/large-scale,master,add/largescale_scaling_stories_documentation,Ie5bb8c7e09ed49f633290cc789b874107676f9e4,Transfer large scale scaling stories to rst documentation,MERGED,2022-07-01 13:05:40.000000000,2022-07-04 07:31:32.000000000,2022-07-04 07:30:19.000000000,105,8,1,848443,6698cddaaf0aee9e17cdf3d076a36f00637b9ec4,13,2,5,7,34533,Ramona Beermann,ramonarautenberg,"Transfer large scale scaling stories to rst documentation

Signed-off-by: Ramona Rautenberg <rautenberg@osism.tech>
Change-Id: Ie5bb8c7e09ed49f633290cc789b874107676f9e4
"
openstack%2Fci-log-processing~master~I9f3b922652829ba577186cff2af5e0debe5df088,openstack/ci-log-processing,master,,I9f3b922652829ba577186cff2af5e0debe5df088,"Update Opensearch user, role, ISM policy",MERGED,2022-06-28 07:29:03.000000000,2022-07-04 07:21:57.000000000,2022-07-04 07:20:41.000000000,67,0,0,847891,9f226fa5e296daacf516f5751675e2c6005ef082,8,6,1,1,20676,daniel.pawlik,daniel.pawlik,"Update Opensearch user, role, ISM policy

After merging change related to create 'performance-' index [1],
it was necessary to add new permissions into the logstash role.
Also added ISM policy to remove performance data after 14 days.

[1] https://review.opendev.org/c/openstack/ci-log-processing/+/840466

Change-Id: I9f3b922652829ba577186cff2af5e0debe5df088
"
openstack%2Fci-log-processing~master~Iae7e2fa7a5ed6d09855a2cb042ce68f7152f9cbc,openstack/ci-log-processing,master,,Iae7e2fa7a5ed6d09855a2cb042ce68f7152f9cbc,Add Prometheus monitoring metrics into logscraper,MERGED,2022-06-21 08:34:15.000000000,2022-07-04 07:20:46.000000000,2022-07-04 07:19:41.000000000,92,10,4,846965,81f23539d15d85c75b753093b93aa7029c662280,18,7,6,7,20676,daniel.pawlik,daniel.pawlik,"Add Prometheus monitoring metrics into logscraper

We would like to know statistics of processed jobs.
It might help us to estimate storage usage on Opensearch service.

Change-Id: Iae7e2fa7a5ed6d09855a2cb042ce68f7152f9cbc
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic9010307c2aab7041c8ae30c72cc1bf99fdd22f6,openstack/tripleo-heat-templates,stable/wallaby,,Ic9010307c2aab7041c8ae30c72cc1bf99fdd22f6,"Add CephNfs service on roles providing ""external"" network connectivity",MERGED,2022-03-07 10:28:29.000000000,2022-07-04 07:13:45.000000000,2022-07-04 07:13:45.000000000,9,22,8,831857,31eafc7353d22a351d11738cfd09a192e55afb03,33,5,1,9,6796,Giulio Fidente,gfidente,"Add CephNfs service on roles providing ""external"" network connectivity

With the recent changes meant to allow deployment of Ganesha on the
""external"" network, the CephNfs service can be added to more roles
than just ControllerStorageNfs.

Change-Id: Ic9010307c2aab7041c8ae30c72cc1bf99fdd22f6
Closes-Bug: 1961578
(cherry picked from commit e1de2bcb728a2a0d7de9fd4c14fe031738de4ecb)
"
openstack%2Ftripleo-heat-templates~master~Ie183b1bd16875cc47ce00cfd45236db7608247ef,openstack/tripleo-heat-templates,master,duplicate,Ie183b1bd16875cc47ce00cfd45236db7608247ef,Remove duplicate entries from .gitignore,MERGED,2022-06-30 11:02:32.000000000,2022-07-04 07:13:41.000000000,2022-07-04 07:13:41.000000000,0,3,1,848257,645aba41a45d808f82aaac5ac561221ae25ec305,10,5,1,1,20733,Rajesh Tailor,rajesht,"Remove duplicate entries from .gitignore

Change-Id: Ie183b1bd16875cc47ce00cfd45236db7608247ef
"
openstack%2Ftripleo-heat-templates~master~Ibbf6afe738607fe3eebe38464fb001edadabd7fb,openstack/tripleo-heat-templates,master,,Ibbf6afe738607fe3eebe38464fb001edadabd7fb,Remove unused parameters from undercloud post deployment template,MERGED,2022-06-15 02:13:28.000000000,2022-07-04 07:13:36.000000000,2022-07-04 07:13:36.000000000,0,15,2,845868,41801f614798c775ce6cc0645f913fcc2e79da61,12,4,1,1,9816,Takashi Kajinami,kajinamit,"Remove unused parameters from undercloud post deployment template

Change-Id: Ibbf6afe738607fe3eebe38464fb001edadabd7fb
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3d7cda24ac6eb9b105a1a93440df290413b16ab1,openstack/tripleo-heat-templates,stable/wallaby,aoth-typo-stable/wallaby,I3d7cda24ac6eb9b105a1a93440df290413b16ab1,Fix typo in aodh-base template,MERGED,2022-07-01 11:30:14.000000000,2022-07-04 07:13:32.000000000,2022-07-04 07:13:32.000000000,2,2,1,848355,2ef49475c36128959f6e51b74ee81667881a15eb,10,5,1,1,20733,Rajesh Tailor,rajesht,"Fix typo in aodh-base template

This change fixes typo in aodh-base template from
aoth to aodh when setting hiera params.

Change-Id: I3d7cda24ac6eb9b105a1a93440df290413b16ab1
(cherry picked from commit 340a8625c54543720eae798a5139a1ad9745e1ec)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I9fb4cdad1254f91faa694dc8915d552df4959904,openstack/tripleo-heat-templates,stable/wallaby,ovn_cpu-stable/wallaby,I9fb4cdad1254f91faa694dc8915d552df4959904,Add OVNContainerCpusetCpus,MERGED,2022-02-10 15:33:48.000000000,2022-07-04 06:59:50.000000000,2022-07-04 06:59:50.000000000,63,43,7,828662,8b81323fbbf53e61389453ccfe9a9e1f534c50d4,28,6,4,1,7130,David Hill,dhill,"Add OVNContainerCpusetCpus

Add OVNContainerCpusetCpus to allow core isolation for ovn-controllers.
This helps with NFV performances in regards to isolating each processes
on their own cores.

Change-Id: I9fb4cdad1254f91faa694dc8915d552df4959904
(cherry picked from commit a170d70e2a81cdc9db1681e4bf41b4e33d628653)
"
openstack%2Fopenstack-helm~master~Iffaa346d814b8d0a3e2292849943219f70d50a23,openstack/openstack-helm,master,,Iffaa346d814b8d0a3e2292849943219f70d50a23,upgrading umbrella w/o changes has no app changes,MERGED,2022-06-22 16:29:27.000000000,2022-07-04 06:24:58.000000000,2022-07-04 06:22:44.000000000,54,5,3,847198,078a49693753eb054b1ebd3c4f0578b7bf4af7f0,29,8,12,6,28701,Dustin Specker,dustinspecker,"upgrading umbrella w/o changes has no app changes

If a Helm upgrade is performed on the OpenStack Umbrella chart using
the exact same configuration as the first release, then it's expected
for no DaemonSets, Deployments, or StatefulSets to be updated.
This did not work as expected.

A few changes were required to support this desired behavior:
1. Update glance's configmap-etc.yaml to trim whitespace and convert
   YAML comment to Helm template comment. Before this change, Helm
   rendered the template with the YAML comment and a newline for the
   install phase. On upgrades, Helm rendered the template without the
   YAML comment and newline causing the hash of configmap-etc to change,
   thus causing the glance-api Deployment to update.
2. Update openstack.sh script to create a randomly generated memcache
   secret for glance. Without this change, the glance-api deployment
   changes each time since Helm randomly generates a new memcache
   secret if not provided.

This behavior is enforced via a new test script,
validate-umbrella-upgrade-no-side-effects.sh.

The following jobs are always recreated due to hooks:
- keystone-bootstrap
- keystone-credential-setup
- keystone-db-init
- keystone-db-sync
- keystone-domain-manage
- keystone-fernet-setup
- keystone-rabbit-init
- rabbitmq-cluster-wait

Some Jobs are created via CronJobs and could be created during
validation. So far, heat-engine-cleaner has been seen, but others
could be caught too.

So the validation script ignores these pod changes by ignoring if
Jobs were recreated. Plus Jobs being recreated should not impact
the OpenStack deployment.

Change-Id: Iffaa346d814b8d0a3e2292849943219f70d50a23
"
openstack%2Fopenstack-helm-images~master~I4b4a22ff63439460e85a63c362c706172aea7fe9,openstack/openstack-helm-images,master,,I4b4a22ff63439460e85a63c362c706172aea7fe9,[test],ABANDONED,2022-02-01 15:36:33.000000000,2022-07-04 06:20:48.000000000,,1,0,0,827308,2a6a2d6d31ca320c47f936d2b78267a3340adf92,3,1,1,1,8863,Andrii Ostapenko,aostapenko,"[test]

Depends-On: https://review.opendev.org/826505
Change-Id: I4b4a22ff63439460e85a63c362c706172aea7fe9
Signed-off-by: Andrii Ostapenko <aostapenko@microsoft.com>
"
openstack%2Fopenstack-helm-images~master~I27b66ef13af8ae4e643dcee7b0d1d073a5779625,openstack/openstack-helm-images,master,,I27b66ef13af8ae4e643dcee7b0d1d073a5779625,[test],ABANDONED,2022-04-05 17:31:13.000000000,2022-07-04 06:20:42.000000000,,1,0,0,836685,14902885d8920f3bba0c519b8a329dec4310de46,3,1,1,1,8863,Andrii Ostapenko,aostapenko,"[test]

Change-Id: I27b66ef13af8ae4e643dcee7b0d1d073a5779625
Signed-off-by: Andrii Ostapenko <aostapenko@microsoft.com>
"
openstack%2Fopenstack-helm-infra~master~I01f82cdd92828ad0c99c343a1261f57562be3041,openstack/openstack-helm-infra,master,tox-e-releasenotes,I01f82cdd92828ad0c99c343a1261f57562be3041,Fix 'tox -e releasenotes',MERGED,2022-06-29 18:24:37.000000000,2022-07-04 06:10:15.000000000,2022-07-04 06:08:59.000000000,1,0,0,848173,e511ba851770e5c6b03957b85e3b889ce578ee50,8,3,1,1,35024,Brian Haley,v-brianhaley,"Fix 'tox -e releasenotes'

Running 'tox -e releasenotes' fails with:

ERROR: You must give at least one requirement to install

Added missing doc/requirements.txt dep to tox.ini, similar
to recent openstack-helm patch.

Trivialfix

Change-Id: I01f82cdd92828ad0c99c343a1261f57562be3041
"
openstack%2Fheat~master~Ic6125c6af60c1007243523cc8510a17f49c7b5af,openstack/heat,master,,Ic6125c6af60c1007243523cc8510a17f49c7b5af,Fix parameter merging with merge strategies,MERGED,2022-07-01 02:38:28.000000000,2022-07-04 06:05:40.000000000,2022-07-04 06:04:19.000000000,16,15,4,848375,d9fe7301b3af2db9fa56d59eb405add94730ba50,12,4,2,2,8833,Rabi Mishra,rabi,"Fix parameter merging with merge strategies

Earlier users had to specify merge strategy for
a parameter/parameter_default in every environment
file where they are used(or the defaults for that
environment was used). However, the strategy
for a parameter in the first environment was
ignored as there is nothing to merge.

With Iec3367667248d0b46196a6d569f3cbb3b200d842, we
changed to use existing merge strategies, but the
strategies in the first environment were still
ignored. This patch fixes it.

Task: 45578
Change-Id: Ic6125c6af60c1007243523cc8510a17f49c7b5af
"
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Ibaca9010269e84e7a97c66ed419886796a011df9,openstack/puppet-tripleo,stable/wallaby,847959-stable/wallaby,Ibaca9010269e84e7a97c66ed419886796a011df9,Fix tls related grafana check in the cephadm context,MERGED,2022-07-01 00:41:35.000000000,2022-07-04 05:54:04.000000000,2022-07-04 05:54:04.000000000,6,1,5,848289,c5294e652959f1580864115a8cab9c5b27f485d2,27,3,2,1,18002,John Fulton,fultonj,"Fix tls related grafana check in the cephadm context

When grafana is deployed by cephadm as part of the Ceph cluster monitoring
stack, the key/cert info are stored within the Ceph monitors' config-key
store.
This change allows to avoid haproxy producing several tls errors related
to this config change in Ceph.

Depends-On: Ia6f6c472a8f7332ae3e998078f167f5f7d027857
Change-Id: Ibaca9010269e84e7a97c66ed419886796a011df9
(cherry picked from commit f593a9a09f543ca672f16e2fd9f97ce1a3339db9)
"
openstack%2Fcyborg-tempest-plugin~master~I7d208b8b6999623568ed7e920fed0fdb7c8b058f,openstack/cyborg-tempest-plugin,master,,I7d208b8b6999623568ed7e920fed0fdb7c8b058f,Update python testing as per zed cycle teting runtime,MERGED,2022-06-05 02:21:08.000000000,2022-07-04 05:39:54.000000000,2022-07-04 05:39:54.000000000,1,3,0,844726,9b68fcc60e898fa005b91c8d08cf148d73e038e5,7,2,2,1,33881,LiZekun,joeylee666666,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I7d208b8b6999623568ed7e920fed0fdb7c8b058f
"
openstack%2Fpython-cyborgclient~master~Id7ccc117b8c4288b60dbb9a1ebab411dfaeb7a4a,openstack/python-cyborgclient,master,,Id7ccc117b8c4288b60dbb9a1ebab411dfaeb7a4a,The Python 3.6 and Python 3.7 Support has been dropped since zed,ABANDONED,2022-06-05 01:19:56.000000000,2022-07-04 05:36:25.000000000,,1,3,1,844712,1df6870e9f8d49834ee725b06f2015efe976ee72,4,2,1,1,31827,Jorhson Deng,dengzhaosen,"The Python 3.6 and Python 3.7 Support has been dropped since zed

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Id7ccc117b8c4288b60dbb9a1ebab411dfaeb7a4a
"
openstack%2Fheat-translator~master~Ibd4149ce962b6aab084ba3474d22c0bf4e3929cf,openstack/heat-translator,master,,Ibd4149ce962b6aab084ba3474d22c0bf4e3929cf,Add Python3 zed unit tests,MERGED,2022-07-01 09:46:33.000000000,2022-07-04 05:33:24.000000000,2022-07-04 05:30:52.000000000,1,1,2,848399,82f8b0d9bb82239388de6b42cf374c3f53ccda9d,13,6,3,1,33455,Hiromu Asahina,h_asahina,"Add Python3 zed unit tests

Update Zuul job template to recent python versions [1].
python-novaclient 18.0.0 [2] which is listed on upper-constraints [3]
doesn't support python3.6.

[1] https://docs.openstack.org/infra/openstack-zuul-jobs/project-templates.html#project_template-openstack-python3-zed-jobs
[2] https://pypi.org/project/python-novaclient/
[3] https://releases.openstack.org/constraints/upper/master

Change-Id: Ibd4149ce962b6aab084ba3474d22c0bf4e3929cf
"
openstack%2Ftripleo-docs~master~Ic78cb31bf9bbaa3abd3a30672ec2da8cf176b6da,openstack/tripleo-docs,master,,Ic78cb31bf9bbaa3abd3a30672ec2da8cf176b6da,python-tripleoclient to python3-tripleoclient,MERGED,2022-06-27 04:05:57.000000000,2022-07-04 03:44:06.000000000,2022-07-04 03:42:50.000000000,2,2,1,847708,49e4d903aa45465b0fa608997a466977b3896493,8,3,1,1,30073,Brendan Shephard,bshephar,"python-tripleoclient to python3-tripleoclient

We use python3-tripleoclient in the latest releases.
Our update doc should direct users to update the correct
package before running openstack undercloud upgrade.

This change also replaced yum with dnf in the update doc.

Change-Id: Ic78cb31bf9bbaa3abd3a30672ec2da8cf176b6da
"
openstack%2Fpython-heatclient~master~Ib392f81b3f12ee02979723f17e08f775d63b8abe,openstack/python-heatclient,master,drop-l-c,Ib392f81b3f12ee02979723f17e08f775d63b8abe,Drop lower-constraints.txt and its testing,MERGED,2022-04-30 20:59:20.000000000,2022-07-04 02:54:48.000000000,2022-07-04 02:51:53.000000000,4,96,2,840053,b65fb84919848ff7bd3d90e15f4560e0beca5802,19,5,3,4,8556,Ghanshyam,ghanshyam,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ib392f81b3f12ee02979723f17e08f775d63b8abe
"
openstack%2Fheat-cfntools~master~I587f619134ca20eab6f7a04de6e8fb63624429e8,openstack/heat-cfntools,master,,I587f619134ca20eab6f7a04de6e8fb63624429e8,Update home-page,MERGED,2019-01-11 09:19:29.000000000,2022-07-04 02:28:36.000000000,2022-07-04 02:26:33.000000000,1,1,3,630090,53ea35f467b83ce71dc1b0b1b624193c0b3a306d,15,6,3,1,28935,98k,98k,"Update home-page

Change-Id: I587f619134ca20eab6f7a04de6e8fb63624429e8
"
openstack%2Fheat-agents~master~Iadebd5f857d446870fa79a96dab0ce8f111854f5,openstack/heat-agents,master,drop-l-c,Iadebd5f857d446870fa79a96dab0ce8f111854f5,Drop lower-constraints.txt and its testing,MERGED,2022-04-30 20:58:56.000000000,2022-07-04 02:24:17.000000000,2022-07-04 02:19:39.000000000,0,83,1,840049,3e0f62f995cfc2befffeb1f7c76d651cab9f4382,12,4,1,3,8556,Ghanshyam,ghanshyam,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Iadebd5f857d446870fa79a96dab0ce8f111854f5
"
openstack%2Ftripleo-image-elements~master~I67af2b17f59cc4d05c4fa217861992123da97758,openstack/tripleo-image-elements,master,feature/debian-bullseye-updates,I67af2b17f59cc4d05c4fa217861992123da97758,Updates for virtualenv on debian bullseye,MERGED,2022-03-23 15:37:54.000000000,2022-07-04 02:14:34.000000000,2022-07-04 02:14:34.000000000,30,4,0,834912,b5b3160ef1cbe9161c6c11e5fd69dae07ec33f1e,8,4,1,4,34644,Joseph Tole,jtole-tc,"Updates for virtualenv on debian bullseye

Change-Id: I67af2b17f59cc4d05c4fa217861992123da97758
"
openstack%2Ftripleo-image-elements~master~Ic4f330f1a192b5cf920a9b0c28c07fd425a01580,openstack/tripleo-image-elements,master,feature/debian-bullseye-updates,Ic4f330f1a192b5cf920a9b0c28c07fd425a01580,Updated package maps for Debian Bullseye,MERGED,2022-03-23 15:37:54.000000000,2022-07-04 02:14:32.000000000,2022-07-04 02:14:32.000000000,21,0,0,834911,bfbccfb8236bbbe283b2ae407c90e2097c5ebce7,8,4,1,3,34644,Joseph Tole,jtole-tc,"Updated package maps for Debian Bullseye

Change-Id: Ic4f330f1a192b5cf920a9b0c28c07fd425a01580
"
openstack%2Fnetworking-sfc~master~I650684473a9f6307c7e4d11f4764e3afeb99b05f,openstack/networking-sfc,master,drop-l-c,I650684473a9f6307c7e4d11f4764e3afeb99b05f,Drop lower-constraints.txt and its testing,ABANDONED,2022-06-30 07:43:05.000000000,2022-07-04 01:46:00.000000000,,4,156,2,848223,45b3e20476bc690bdc1f1d3b385880401fd7bbff,8,2,3,4,33436,YuehuiLei,leiyuehui,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I650684473a9f6307c7e4d11f4764e3afeb99b05f
"
openstack%2Fpuppet-cinder~stable%2Fwallaby~I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e,openstack/puppet-cinder,stable/wallaby,backend_host-stable/wallaby,I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e,Fix handling of the backend_host parameter,ABANDONED,2022-07-04 01:24:47.000000000,2022-07-04 01:25:40.000000000,,26,6,0,848496,fc61eead48a98310c3321badbe41bdb79ad13f55,2,0,1,3,9816,Takashi Kajinami,kajinamit,"Fix handling of the backend_host parameter

Currently the cinder::backend_host parameter is ignored unless
hieradata is used to define its value because hiera function is used
instead of pick function.
This change ensures that the cinder::backend_host parameter is honored
even if the parameter is defined in a manifest file.

Change-Id: I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e
(cherry picked from commit 5449d242f4fc77e27357331d22719c3f99dcf8c7)
"
openstack%2Fpuppet-openstack-integration~master~I48284520343c0d9b415b810dd50ee57746e70d73,openstack/puppet-openstack-integration,master,,I48284520343c0d9b415b810dd50ee57746e70d73,wip: Provision the demo user/project for tempest,ABANDONED,2022-06-16 09:10:43.000000000,2022-07-04 00:37:26.000000000,,19,0,2,846140,512e610673dab1b0d796e83624c96bf73d6bcd05,14,1,5,2,9816,Takashi Kajinami,kajinamit,"wip: Provision the demo user/project for tempest

Change-Id: I48284520343c0d9b415b810dd50ee57746e70d73
"
openstack%2Fproject-config~master~I0f5dea071cb2b6212538ef42bad169a089f6e458,openstack/project-config,master,,I0f5dea071cb2b6212538ef42bad169a089f6e458,Update openstack-ansible grafana dashboard job status rates,MERGED,2022-06-28 15:33:38.000000000,2022-07-03 23:50:22.000000000,2022-07-03 23:28:12.000000000,75,21,2,847988,4a018763f9e86b3319d79b32e75cb7e20ff6715e,10,2,1,1,25023,Jonathan Rosser,jrosser,"Update openstack-ansible grafana dashboard job status rates

1) Update plots to include current operating systems for master
branch.

2) Calculate the rates with respect to all returned statuses rather
that just SUCCESS/FAILURE/TIMEOUT.

3) Add a plot specifically for POST_FAILURE

Change-Id: I0f5dea071cb2b6212538ef42bad169a089f6e458
"
openstack%2Fproject-config~master~I1c4705ccf92b2d4c6ca372b26572e674d93e1bdb,openstack/project-config,master,,I1c4705ccf92b2d4c6ca372b26572e674d93e1bdb,Update openstack-ansible grafana dashboard,MERGED,2022-06-28 13:31:39.000000000,2022-07-03 23:45:05.000000000,2022-07-03 23:26:51.000000000,81,53,0,847973,a3b01749949d7e6c553fc31fec9e12f6e3dea8df,8,2,1,1,25023,Jonathan Rosser,jrosser,"Update openstack-ansible grafana dashboard

Update with the current set of operating systems running jobs on
master branch:

Remove Centos 7
Switch Centos 8 to Centos 8 stream
Add Centos 9 Stream
Remove Ubuntu Bionic
Add Ubuntu Jammy
Add Rockylinux 8

Change-Id: I1c4705ccf92b2d4c6ca372b26572e674d93e1bdb
"
openstack%2Ftripleo-heat-templates~master~Ieb16a502a46bb53b75e6159e9ad56c98800e2b80,openstack/tripleo-heat-templates,master,optional_pg_num,Ieb16a502a46bb53b75e6159e9ad56c98800e2b80,Deprecate CephPoolDefaultPgNum and CephPoolDefaultSize,MERGED,2022-06-03 18:27:01.000000000,2022-07-03 22:36:30.000000000,2022-07-03 22:35:23.000000000,43,34,18,844632,66ba918c746c624e9afc905d008c9b3ffef035b3,74,6,9,7,18002,John Fulton,fultonj,"Deprecate CephPoolDefaultPgNum and CephPoolDefaultSize

CephPoolDefaultPgNum and CephPoolDefaultSize no longer affect the
Ceph deployment and pools are created without a pg_num unless one
is provided _per_ pool by overriding CephPools. Parameters are
still present but have no effect.

If you deloyed a Ceph RBD cluster, then would you expect an overcloud
deployment which happened after that to change the default PG number
or replica count? That kind of thing should be decoupled from overcloud
deployment and handled between 'openstack overcloud ceph deploy' and
'openstack overcloud deploy'. Pool creation during overcloud deployment
is another matter however.

It's no longer required to pass a PG number when creating pools so don't
by default. When you create pools you should set a target_size_ratio (or
PG number) by overriding CephPools. Else you'll inherit Ceph's, not
OpenStack's, defualt PG and replica values per Ceph release (now 32 PGs
in Pacific).

Update the CephPools example comment to show use of target_size_ratio;
volumes 40%, images 10%, vms 30% (which leaves 20% of space free) so
user can borrow it and fill it in without worrying about PG numbers.
If they overlook it and go with all defaults (no target_size_ratio
and default pg_num), then pg_autoscale_mode will fix it later though
""all data that is written will end up moving approximately once after
it is written ... but the overhead of ignorance is at least bounded
and reasonable."" [1]

[1] https://ceph.io/en/news/blog/2019/new-in-nautilus-pg-merging-and-autotuning

Depends-On: I18a898ad7f6fcd3818bac707ce34a93303a59430
Depends-On: Ief1a40161a1c57be8fd038b473a6f21feb9aa8fc
Depends-On: I982dedb53582fbd76391165c3ca72954c129b84a
Change-Id: Ieb16a502a46bb53b75e6159e9ad56c98800e2b80
"
openstack%2Fpuppet-openstack-integration~stable%2Fvictoria~Ie78b6ef1c3f09fbbc3bc584ac99d2a0acfc5d9d9,openstack/puppet-openstack-integration,stable/victoria,,Ie78b6ef1c3f09fbbc3bc584ac99d2a0acfc5d9d9,Ubuntu: Switch to Focal and Victoria,NEW,2022-07-03 15:47:24.000000000,2022-07-03 18:27:54.000000000,,57,62,0,848541,c1f92bab4dbfe23000210f6ad5e9ff5c74db85a3,4,2,2,10,9816,Takashi Kajinami,kajinamit,"Ubuntu: Switch to Focal and Victoria

We already have OpenStack Victoria releae available in cloud archive
so let's switch our master tests to that latest version.
Since Victoria release is only available in Focal this change also
switch base Ubuntu version from Bionic to Focal.

Conflicts:
	zuul.d/layout.yaml
	zuul.d/libraries.yaml
	zuul.d/unit.yaml

Change-Id: Ie78b6ef1c3f09fbbc3bc584ac99d2a0acfc5d9d9
(cherry picked from commit fe029254fd5f9f89b3ae042eca8c1e474ad7493c)
"
openstack%2Frequirements~master~If0dc814b74ab10eb9400a2a1fa6a220d454da755,openstack/requirements,master,openstack/requirements/constraints,If0dc814b74ab10eb9400a2a1fa6a220d454da755,Updated from generate-constraints,MERGED,2022-06-30 02:53:00.000000000,2022-07-03 17:44:06.000000000,2022-07-03 17:43:00.000000000,21,21,2,848209,70282106c9d00df1ec0b6bfb830bf1858a2ebad5,28,2,5,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: If0dc814b74ab10eb9400a2a1fa6a220d454da755
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Frequirements~master~Iaf0d98566d6993bba56ee990b95663e627de2778,openstack/requirements,master,openstack/requirements/constraints,Iaf0d98566d6993bba56ee990b95663e627de2778,Updated from generate-constraints,ABANDONED,2022-07-03 02:44:54.000000000,2022-07-03 17:10:01.000000000,,27,26,0,848526,92e91c6aa70024d2a4966466a6856816f92e3240,4,1,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: If0dc814b74ab10eb9400a2a1fa6a220d454da755
Ic0269dc272807f3a4801adb6c30e332eb73b1030

Change-Id: Iaf0d98566d6993bba56ee990b95663e627de2778
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~I19ad4c2995bd852add41c73e0543b8e410758834,openstack/puppet-openstack_spec_helper,stable/train,,I19ad4c2995bd852add41c73e0543b8e410758834,Train-only: Ubuntu: Fix wrong version used in unit tests,NEW,2022-07-03 15:41:02.000000000,2022-07-03 16:03:53.000000000,,1,1,0,848540,f0a172cab17f59a0b304af04e693216519b852ef,3,2,1,1,9816,Takashi Kajinami,kajinamit,"Train-only: Ubuntu: Fix wrong version used in unit tests

UCA Train is supported with only Ubuntu 18.04. This change fixes
the wrong and old version(16.04) used in unit tests. This was later
fixed in Wallaby so this change is submitted directly to stable
branches.

Change-Id: I19ad4c2995bd852add41c73e0543b8e410758834
"
openstack%2Fpuppet-openstack_spec_helper~master~Iccde07f3d1e74b8383cdf70f2b6e05b57d028377,openstack/puppet-openstack_spec_helper,master,,Iccde07f3d1e74b8383cdf70f2b6e05b57d028377,Enable unit tests for CentOS 9 Stream,ABANDONED,2021-12-23 00:38:16.000000000,2022-07-03 15:59:05.000000000,,2,0,0,822769,70d7258e791cc4422b702f674c7bba41eca2850d,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Enable unit tests for CentOS 9 Stream

Change-Id: Iccde07f3d1e74b8383cdf70f2b6e05b57d028377
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I905999fd7901490aa87d3ab302b28b437225ed89,openstack/python-tripleoclient,stable/wallaby,add-roles-network-stable/wallaby,I905999fd7901490aa87d3ab302b28b437225ed89,Add handling for roles and networks to answers,MERGED,2022-06-21 12:37:22.000000000,2022-07-03 09:44:54.000000000,2022-07-03 09:43:43.000000000,23,9,16,846937,88d025d0275c2bee983bf00cf587b33ff2de4d79,24,4,3,2,30073,Brendan Shephard,bshephar,"Add handling for roles and networks to answers

The answers file only supports environments and templates today.
This change adds handling for roles and networks arguments. This
change will allow users to specify their roles_data.yaml and
network_data.yaml file in the same location as their other custom
templates.

Conflicts:
	tripleoclient/v1/overcloud_deploy.py

Resolved conflicts caused by the refactoring done in
dc8b39adf0e54a454ee61c07cbf9cbf5ee36d6da

Change-Id: I905999fd7901490aa87d3ab302b28b437225ed89
(cherry picked from commit f931e73c477394ac19e4b7bf36ce9c9dbd38154e)
"
openstack%2Fpuppet-tripleo~master~I1a353bdfaf7ad323302991cf02b48dd932a12538,openstack/puppet-tripleo,master,nova-migration-target,I1a353bdfaf7ad323302991cf02b48dd932a12538,nova-migration-target: Remove redundant options from match block,MERGED,2022-06-07 02:12:01.000000000,2022-07-03 09:43:45.000000000,2022-07-03 09:43:45.000000000,11,27,2,844898,36c3ad485e51e45567de4b13f3cee6616ffdd8c5,16,4,2,2,9816,Takashi Kajinami,kajinamit,"nova-migration-target: Remove redundant options from match block

This change removes some options from match block because these are
defined in the core section now.

Depends-on: https://review.opendev.org/844897
Change-Id: I1a353bdfaf7ad323302991cf02b48dd932a12538
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ic46ba50c7200d5b4eacd1ee8c03d135bdcc2e353,openstack/tripleo-ansible,stable/wallaby,,Ic46ba50c7200d5b4eacd1ee8c03d135bdcc2e353,Prevent the abusive restart of the octavia services,MERGED,2022-03-16 09:56:18.000000000,2022-07-03 09:43:41.000000000,2022-07-03 09:43:41.000000000,4,1,5,833973,fde570021032937b8ad30995ba84b9c6376cb761,27,4,1,2,29244,Gregory Thiemonge,gthiemonge,"Prevent the abusive restart of the octavia services

The octavia services were always restarted when running the
ansible-playbook

1. The 'Bring the management port interface up' task should only be run
   if the 'create octavia management interface' task changed.
   Add a when clause that checks the output of the previous task.
2. A 'when' clause compares 2 strings, but one of the strings always
   starts with a whitespace, while the other string doesn't.
   Trim the output of a task to make sure the strings are formatted
   correctly.

Closes-Bug: 1964099
Change-Id: Ic46ba50c7200d5b4eacd1ee8c03d135bdcc2e353
(cherry picked from commit 78d58174c339d9eea465e9ab29d6580079f9ff64)
"
openstack%2Ftripleo-heat-templates~master~If9c6ba12baebcec9fa7a655fd5d2e10af9bde871,openstack/tripleo-heat-templates,master,bug/1978054,If9c6ba12baebcec9fa7a655fd5d2e10af9bde871,Remove leftover of ntp service,MERGED,2022-06-09 04:58:38.000000000,2022-07-03 07:32:05.000000000,2022-07-03 07:32:05.000000000,0,2,5,845215,a40e5b3b6cbead13ec2e5f392821085d6e7de22c,23,4,2,2,9816,Takashi Kajinami,kajinamit,"Remove leftover of ntp service

The ntp service was already removed[1].
This change removes the remaining references in ci environment and
one role data.

[1] 3abededac21ec9ad4f98b8e60d7b72ca49f1d7c0

Closes-Bug: #1978054
Change-Id: If9c6ba12baebcec9fa7a655fd5d2e10af9bde871
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I2ad892ecd3ef8b8e13dd97473fd22d9158bbd8ab,openstack/tripleo-ansible,stable/wallaby,lp_1977490,I2ad892ecd3ef8b8e13dd97473fd22d9158bbd8ab,Remove - from endfor statement,MERGED,2022-06-27 16:07:49.000000000,2022-07-03 07:23:55.000000000,2022-07-03 07:23:55.000000000,5,5,2,847811,a76a26d85c8372bcf77927637823ca9226d2d2fb,16,4,1,5,20733,Rajesh Tailor,rajesht,"Remove - from endfor statement

This change removes '-' from endfor statement, so that
it doesn't control whitespace and concatnate config.yaml
content as mentioned in lp [1] comment#2 as below:

routes: [] - type: vlan

[1] https://bugs.launchpad.net/tripleo/+bug/1977490

Also fixes similar occurances in other templates.

Closes-Bug: #1977490
Change-Id: I2ad892ecd3ef8b8e13dd97473fd22d9158bbd8ab
(cherry picked from commit d6bd930ddfe7e26fb468f851d0d6513c98b7b3af)
"
openstack%2Frequirements~master~Ic0269dc272807f3a4801adb6c30e332eb73b1030,openstack/requirements,master,openstack/requirements/constraints,Ic0269dc272807f3a4801adb6c30e332eb73b1030,Updated from generate-constraints,ABANDONED,2022-07-01 02:48:26.000000000,2022-07-03 03:22:41.000000000,,25,24,0,848378,81517469832470ee6fc4c000593dbf591029c7cb,7,1,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ic0269dc272807f3a4801adb6c30e332eb73b1030
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ic4ddbaba8aa8ca9501a00f5e4741fef73ba35b9d,openstack/tripleo-ansible,stable/wallaby,bug/1970354,Ic4ddbaba8aa8ca9501a00f5e4741fef73ba35b9d,Ensure the dependent service is started in advance,MERGED,2022-06-08 17:09:28.000000000,2022-07-03 01:12:07.000000000,2022-07-03 01:12:07.000000000,3,0,5,845046,b760d62b6a40a34baba7dc5b6b0e4822813d791b,26,3,1,1,9816,Takashi Kajinami,kajinamit,"Ensure the dependent service is started in advance

Currently when dependent service is defined using the depends_on key,
tripleo-ansible adds 'Wants' so that the dependent service is also
started. However this attribute does not guarantee that the dependent
service is started BEFORE the target service is started.

Because current usage of depends_on expect the dependent service is
started before the target service, this change adds 'After' so that
the ordering is properly enforced.

Closes-Bug: #1970354
Change-Id: Ic4ddbaba8aa8ca9501a00f5e4741fef73ba35b9d
(cherry picked from commit 2f09033fcb5f1d6623d17ad402d06cea4838f35d)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id16a374b5ecd1c8ea9141f99872096b18c14343f,openstack/tripleo-heat-templates,stable/wallaby,,Id16a374b5ecd1c8ea9141f99872096b18c14343f,Fix commands for configure_ovn_north/south_db_server,MERGED,2022-07-01 05:46:32.000000000,2022-07-02 23:43:38.000000000,2022-07-02 23:43:38.000000000,16,10,4,848383,18b8568594eafd26cc213d2b2215ebcb4fe8752e,22,7,1,1,9816,Takashi Kajinami,kajinamit,"Fix commands for configure_ovn_north/south_db_server

This fixes the regression caused by [1] and ensures the whole command
is passed as a single element, so that it is properly handled by
kolla_start.

[1] 5a43e8a30704692f3eb184cce694dec52ed77635

Change-Id: Id16a374b5ecd1c8ea9141f99872096b18c14343f
(cherry picked from commit c62903f7f725b166896e4e646cb74ad08f55df87)
"
openstack%2Ftripleo-common~stable%2Fwallaby~I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6,openstack/tripleo-common,stable/wallaby,wallaby-memory-usage,I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6,Reduce memory consumption in Cinder services,MERGED,2022-06-29 09:35:43.000000000,2022-07-02 23:15:20.000000000,2022-07-02 23:14:08.000000000,13,0,1,848089,250ee60374ed820a9ce0e3b3ad2683bd14df5cc0,13,3,1,3,9535,Gorka Eguileor,Gorka,"Reduce memory consumption in Cinder services

This patch reduces memory usage for Cinder Volume and Backup services by
tuning glibc.

The specific tuning consist on disabling the per thread arenas and
disabling dynamic thresholds.

The Cinder Backup service suffers from high water mark memory usage and
uses excessive memory.  As an example just after 10 restore operations
the service uses almost 1GB of RAM and does not ever free it afterwards.
With this patch the memory consumption of the service is reduced down to
almost 130MB.  If we add a revert from Cinder (Change-Id
I43a20c8687f12bc52b014611cc6977c4c3ca212c) it goes down to 100MB during
my tests.

It's even worse on real deployments, where we have seen a reduction in
peak memory usage, going down from 2.9GB to 1.2GB, and fixing the high
water mark issue that previously left the service constantly using 2GB
going down to 140MB.

This glibc tuning is not applied to all Python services because I
haven't done proper testings on them and at first glance they don't seem
to have such great improvements.

This is the equivalent of the devstack proposed patch from Change-Id
Ic9030d01468b3189350f83b04a8d1d346c489d3c

Related-bug: #1908805
Change-Id: I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6
(cherry picked from commit 6d8b07b7f9500850cb08a64e436eeb2f38c00b11)
"
openstack%2Ftripleo-heat-templates~master~I0293e019f3a2c4c8ffbf8258214d8522957d56f5,openstack/tripleo-heat-templates,master,,I0293e019f3a2c4c8ffbf8258214d8522957d56f5,Stop generating certificate requests for disabled networks,MERGED,2022-07-01 10:39:02.000000000,2022-07-02 23:14:04.000000000,2022-07-02 23:14:04.000000000,14,11,2,848405,f3c76bcf07197b93b9cfe7bb49d0d53933be7898,14,6,2,1,14250,Grzegorz Grasza,xek,"Stop generating certificate requests for disabled networks

Make sure the list includes only networks that are configured on the
running node. This change is analogous to
7013a04e04a5f941710bd311003cbdeb647e62d7 , but for haproxy.

Change-Id: I0293e019f3a2c4c8ffbf8258214d8522957d56f5
Resolves: rhbz#2088526
"
openstack%2Ftripleo-heat-templates~master~I357e00783112042c779cf1ce2e702e329880e4b8,openstack/tripleo-heat-templates,master,,I357e00783112042c779cf1ce2e702e329880e4b8,Start ceilometer-compute after libvirt is started,MERGED,2022-06-08 17:11:55.000000000,2022-07-02 23:14:00.000000000,2022-07-02 23:14:00.000000000,2,0,4,845160,eac874338dba3ca7816f7eea0468881ee72c24d6,22,6,3,1,9816,Takashi Kajinami,kajinamit,"Start ceilometer-compute after libvirt is started

... because ceilometer-compute requires access to libvirt.

If the service fails to communicate with libvirt, then it disables all
metrics related to libvirt which results in missing metrics.

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/839295
Change-Id: I357e00783112042c779cf1ce2e702e329880e4b8
"
openstack%2Ftripleo-heat-templates~master~I98509e93d1d03a1b59aa304ed01b56507c627320,openstack/tripleo-heat-templates,master,,I98509e93d1d03a1b59aa304ed01b56507c627320,Remove remaining reference to removed services,MERGED,2022-06-09 05:15:11.000000000,2022-07-02 23:13:57.000000000,2022-07-02 23:13:57.000000000,0,5,2,845216,abeb98a0752443997d3183fb5cde3b7b35d37a6c,17,4,2,1,9816,Takashi Kajinami,kajinamit,"Remove remaining reference to removed services

- Neutron LBaaS was removed and was replaced by Octavia[1]

- nova-console-auth service was removed during Train cycle[2]

- TripleO UI was removed and retired.

- Minion was already removed by [3] and its services no longer exist

[1] 14436f915bffe1c466e13baaae263d7ecbcb2e78
[2] 20dbe32060f7db3b99cd8ca87d12e6571f1bde36
[3] b3e5e03d6a55931cec37de93d65a3c01eff5f598

Change-Id: I98509e93d1d03a1b59aa304ed01b56507c627320
"
openstack%2Ftripleo-heat-templates~master~I0fa188e4492f852ac1097d69c913f116ae96bb52,openstack/tripleo-heat-templates,master,amp-timezone,I0fa188e4492f852ac1097d69c913f116ae96bb52,Set amphora timezone based on TimeZone setting,MERGED,2022-05-17 10:02:45.000000000,2022-07-02 19:33:38.000000000,2022-07-02 19:32:33.000000000,10,0,23,842073,5ddeac53c0a93754b8a2f054bc7feccff3d54665,93,5,10,2,34429,Tom Weininger,tweining,"Set amphora timezone based on TimeZone setting

Use the global TimeZone parameter in order to configure the timezone of
the amphora.

Depends-On: https://review.opendev.org/c/openstack/octavia/+/839937
Depends-On: https://review.opendev.org/c/openstack/puppet-octavia/+/842079
Change-Id: I0fa188e4492f852ac1097d69c913f116ae96bb52
"
openstack%2Ftripleo-heat-templates~master~I2e5374da7e501af491e15e71be1e9f38e5e8bb68,openstack/tripleo-heat-templates,master,nova-migration-target,I2e5374da7e501af491e15e71be1e9f38e5e8bb68,nova-migration-target: Restrict access to the core sshd,MERGED,2022-06-07 02:07:33.000000000,2022-07-02 19:32:38.000000000,2022-07-02 19:32:38.000000000,3,3,1,844897,e89088784a4c086f3abcd5bc2e018fc1ba162a9d,14,4,1,1,9816,Takashi Kajinami,kajinamit,"nova-migration-target: Restrict access to the core sshd

This change adjusts the core options of the sshd instance for nova
migation target, based on the following points.

- Restrict access to the nova_migration_target user globally

- Disable X11 forwarding and tcp forwarding because these are not
  required

- Disable sftp subsystem because sftp is not used by nova.

Change-Id: I2e5374da7e501af491e15e71be1e9f38e5e8bb68
"
openstack%2Fdesignate~master~I4b866042f4362df27e3ab26fb857761032d32154,openstack/designate,master,fips-compatibility,I4b866042f4362df27e3ab26fb857761032d32154,Make FIPS job voting,NEW,2022-05-17 19:44:52.000000000,2022-07-02 18:32:15.000000000,,2,2,15,842221,24b7e27769d7045aacffcef45e384b118e4f16af,36,3,5,1,9914,Ade Lee,alee,"Make FIPS job voting

Looks like johnsom was right.  The intermittent failures in the FIPS
job was due to things not being fully up when devstack starts after
the node is rebooted.  This is fixed by a now merged zuul-job role.

Change-Id: I4b866042f4362df27e3ab26fb857761032d32154
"
openstack%2Fcinder~master~I1ce8451260223aa9d2a5c4790214d096ab7a6fde,openstack/cinder,master,port-info,I1ce8451260223aa9d2a5c4790214d096ab7a6fde,PowerMax Driver - Empty port info response,MERGED,2021-09-02 20:36:45.000000000,2022-07-02 14:27:20.000000000,2022-07-01 11:19:11.000000000,30,11,5,807215,0df989f76887563e36c64579c0de291f0ec69f11,95,8,2,4,12670,Helen Walsh,walshh2,"PowerMax Driver - Empty port info response

1. Return correct parameters on a connection failure
2. Throw exception in missing port info response

Change-Id: I1ce8451260223aa9d2a5c4790214d096ab7a6fde
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I46a0e58b2d6db08127de4b55a75f95ffa2b678ee,openstack/tripleo-heat-templates,stable/wallaby,bug/1980552-stable/wallaby,I46a0e58b2d6db08127de4b55a75f95ffa2b678ee,Add test-requirements.txt in tox-tht deps,MERGED,2022-07-01 21:30:18.000000000,2022-07-02 12:38:27.000000000,2022-07-02 12:37:10.000000000,1,0,1,848490,47b5ce10376e11059bedd97bb3cf1293eb45757c,14,4,4,1,18002,John Fulton,fultonj,"Add test-requirements.txt in tox-tht deps

openstack-tox-tht is currently failing with ""ModuleNotFoundError:
No module named 'testtools' more details in Closes-Bug.

With this patch adding test-requirements.txt in tox-tht deps
as python testtool is already available in test-requirements.

Closes-Bug: #1980552
Change-Id: I46a0e58b2d6db08127de4b55a75f95ffa2b678ee
(cherry picked from commit d5a9d845e38cae435fd7b7717c34001c823c532c)
"
openstack%2Ftripleo-heat-templates~master~I46a0e58b2d6db08127de4b55a75f95ffa2b678ee,openstack/tripleo-heat-templates,master,bug/1980552,I46a0e58b2d6db08127de4b55a75f95ffa2b678ee,Add test-requirements.txt in tox-tht deps,MERGED,2022-07-01 21:19:42.000000000,2022-07-02 12:30:25.000000000,2022-07-02 12:29:18.000000000,1,0,6,848474,d5a9d845e38cae435fd7b7717c34001c823c532c,20,8,3,1,30002,Douglas Viroel,dviroel,"Add test-requirements.txt in tox-tht deps

openstack-tox-tht is currently failing with ""ModuleNotFoundError:
No module named 'testtools' more details in Closes-Bug.

With this patch adding test-requirements.txt in tox-tht deps
as python testtool is already available in test-requirements.

Closes-Bug: #1980552
Change-Id: I46a0e58b2d6db08127de4b55a75f95ffa2b678ee
"
openstack%2Fironic~master~I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23,openstack/ironic,master,,I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23,Auto-populate lessee for deployments,MERGED,2021-11-19 20:55:40.000000000,2022-07-02 10:09:08.000000000,2022-07-02 02:56:54.000000000,194,13,35,818641,c3f397149ac217e305e52e9eb241f33d1ba21d78,117,5,16,13,11655,Julia Kreger,jkreger,"Auto-populate lessee for deployments

Adds a configuration option and capability to automatically
record the lessee for a deployment based upon the original
auth_token information provided in the request context.

Additional token information is now shared through the context
which is extended in the same fashion as most other projects
saving request token information to their RequestContext,
instead of triggering excess API calls in the background to
Keystone to try and figure out requestor's information.

Change-Id: I42a2ceb9d2e7dfdc575eb37ed773a1bc682cec23
"
openstack%2Ftripleo-quickstart-extras~master~I0619f231f90f25d6f52fa4def35048e89278f267,openstack/tripleo-quickstart-extras,master,stdout-typo,I0619f231f90f25d6f52fa4def35048e89278f267,Fix typo from `sdtout` to `stdout`,MERGED,2022-06-27 16:40:25.000000000,2022-07-02 10:08:33.000000000,2022-07-02 10:08:33.000000000,1,1,3,847834,9bf550c808ef95c079eb125d94711c4020c10b10,24,5,1,1,20733,Rajesh Tailor,rajesht,"Fix typo from `sdtout` to `stdout`

Change-Id: I0619f231f90f25d6f52fa4def35048e89278f267
"
openstack%2Fcyborg-tempest-plugin~master~I1caf04b9a3759d5e011d0d3ba0d949e3dbefd98d,openstack/cyborg-tempest-plugin,master,,I1caf04b9a3759d5e011d0d3ba0d949e3dbefd98d,delete device profile by name,MERGED,2022-06-23 03:42:02.000000000,2022-07-02 09:33:40.000000000,2022-07-02 09:33:40.000000000,10,0,2,846981,432cff749b7ab77784e46edb83833c955d58153f,10,3,2,1,34868,zhaoqiuxia,zhaoqiuxia,"delete device profile by name

delete device pfofile by name

Change-Id: I1caf04b9a3759d5e011d0d3ba0d949e3dbefd98d
"
openstack%2Fcyborg-tempest-plugin~master~Ibb57e158c14d95321691e872c02f602d71c3d6da,openstack/cyborg-tempest-plugin,master,master9,Ibb57e158c14d95321691e872c02f602d71c3d6da,add list devices filter by vendor,MERGED,2022-06-22 06:28:46.000000000,2022-07-02 09:33:21.000000000,2022-07-02 09:33:21.000000000,11,0,1,846974,45203e3a1183a882e1de91dc509e38fd3ff929aa,7,3,1,1,30409,wangzhiguang,wangzhiguang,"add list devices filter by vendor

add list devices filter by vendor testcase

Change-Id: Ibb57e158c14d95321691e872c02f602d71c3d6da
"
openstack%2Fcharms.openstack~master~I2dbc4432a4be2b23dd39e66680abbe33da5ae5af,openstack/charms.openstack,master,fix-config-flags,I2dbc4432a4be2b23dd39e66680abbe33da5ae5af,fix in config flags features,MERGED,2022-07-01 22:08:19.000000000,2022-07-02 05:14:21.000000000,2022-07-02 05:14:21.000000000,19,22,1,848476,d049eee8f47e3913123762b6cd4f493e8ff0d18d,8,2,2,2,34959,Francesco De Simone,fdesi,"fix in config flags features

* fix name clashing
* fix regex
* fix test case

Change-Id: I2dbc4432a4be2b23dd39e66680abbe33da5ae5af
"
openstack%2Fpython-tripleoclient~master~I6e6a016e8b413f8db43584c4d9d80c97d26f7de5,openstack/python-tripleoclient,master,cephadm_not_during,I6e6a016e8b413f8db43584c4d9d80c97d26f7de5,Stop deploying Ceph during the overcloud deployment,MERGED,2022-04-28 12:15:47.000000000,2022-07-02 04:50:03.000000000,2022-07-02 04:48:52.000000000,104,0,14,839727,da75b98bb5d6d6768c632d2978a5ccf638d22c8a,55,5,15,4,25402,Francesco Pantano,fmount,"Stop deploying Ceph during the overcloud deployment

This patch blocks the operators to deploy Ceph during the overcloud
deployment stage, suggesting the right command that should be run.
However, if users are trying to configure an external ceph cluster
(which means the client role should be run), the tripleoclient command
works as expected.

Change-Id: I6e6a016e8b413f8db43584c4d9d80c97d26f7de5
"
openstack%2Ftripleo-common~stable%2Fwallaby~Ibdeb5741b32f8060c14ca79d2300886dee68555f,openstack/tripleo-common,stable/wallaby,,Ibdeb5741b32f8060c14ca79d2300886dee68555f,build_catalog should loop deeper than one level,MERGED,2022-04-14 13:12:57.000000000,2022-07-02 04:49:22.000000000,2022-07-02 04:48:21.000000000,6,11,3,837803,8b5be06cceea13dac02fac2001e31cfdbf01b02c,28,4,3,1,27419,David Vallee Delisle,dvd,"build_catalog should loop deeper than one level

There's some scenarios where our catalog is nested under more than one
layer of folder. build_catalog should take this into account.

Closes-bug: 1966222
Change-Id: Ibdeb5741b32f8060c14ca79d2300886dee68555f
(cherry picked from commit 5c909793655e182619e1b1ac0c75ace47bc2fe71)
"
openstack%2Fdesignate~stable%2Fussuri~I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0,openstack/designate,stable/ussuri,bug/1958409-stable/ussuri,I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0,Fix zone update when adding new Bind9 target to pool.,MERGED,2022-06-24 04:51:35.000000000,2022-07-02 04:39:32.000000000,2022-07-02 04:38:08.000000000,43,1,3,847432,5e569a3c7646042131926b090f570ca5082503e3,11,4,1,3,32553,Sven Kieske,skieske,"Fix zone update when adding new Bind9 target to pool.

When a new Bind9 is added to the pool, Designate will trigger 'modzone'
rndc command that will fail, unless zone is already present on the backend.

This change will first verify that the zone is present on the backend,
before an update attempt. If zone is not present - zone creation will be
triggered.

Closes-Bug: 1958409

Co-authored-by: Kiran Pawar <kinpaa@gmail.com>
Change-Id: I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0
(cherry picked from commit 66cc876eadd9a4ded3afa35aed675c15c60f149d)
"
openstack%2Fdesignate~stable%2Fvictoria~I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0,openstack/designate,stable/victoria,bug/1958409-stable/victoria,I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0,Fix zone update when adding new Bind9 target to pool.,MERGED,2022-06-24 04:39:05.000000000,2022-07-02 03:24:46.000000000,2022-07-02 03:23:17.000000000,43,1,2,847431,a74c2389bf587fc6a36c72d87fba6c958cef2141,9,4,1,3,32553,Sven Kieske,skieske,"Fix zone update when adding new Bind9 target to pool.

When a new Bind9 is added to the pool, Designate will trigger 'modzone'
rndc command that will fail, unless zone is already present on the backend.

This change will first verify that the zone is present on the backend,
before an update attempt. If zone is not present - zone creation will be
triggered.

Closes-Bug: 1958409

Co-authored-by: Kiran Pawar <kinpaa@gmail.com>
Change-Id: I782bf38a68f24a2e7133ff2afad7c96e2ae6b7f0
(cherry picked from commit 66cc876eadd9a4ded3afa35aed675c15c60f149d)
"
openstack%2Fironic-python-agent~master~I75a618f94de58f6de2bd96b37de1894bb0e61998,openstack/ironic-python-agent,master,bindep-no-py2,I75a618f94de58f6de2bd96b37de1894bb0e61998,Drop python2 from bindep.txt,MERGED,2022-06-10 17:31:40.000000000,2022-07-02 03:10:44.000000000,2022-07-02 03:09:24.000000000,1,3,7,845371,d8a6bf5f61eb1365294c6c07840286f46c9535fc,27,5,3,1,9542,Pavlo Shchelokovskyy,pshchelo,"Drop python2 from bindep.txt

IPA dropped support for Python2 long ago,
and now Python2 is not even available in newer distros,
breaking installation if IPA binary dependencies.

Depends-On: https://review.opendev.org/c/openstack/ironic/+/848345
Change-Id: I75a618f94de58f6de2bd96b37de1894bb0e61998
"
openstack%2Fironic-python-agent~master~Ied9a2259a4329a86b4f0853bd1fb187563c0a036,openstack/ironic-python-agent,master,lsblk-json,Ied9a2259a4329a86b4f0853bd1fb187563c0a036,Remove oslo.serialization dependency,MERGED,2022-06-17 07:35:57.000000000,2022-07-02 02:59:02.000000000,2022-07-02 02:56:44.000000000,34,27,7,846278,64ffd2ee8052e69d56c4bba7fa8c4e6eae145af1,22,3,2,7,23851,Riccardo Pittau,elfosardo,"Remove oslo.serialization dependency

Use pure json instead of jsonutils.

Borrow encode function from oslo.serialization to be used in the
utils module.

Change-Id: Ied9a2259a4329a86b4f0853bd1fb187563c0a036
"
openstack%2Fcinder~master~Id4ffff47ec309a6c8837930e1e438ad7cc607a8e,openstack/cinder,master,manage-existing,Id4ffff47ec309a6c8837930e1e438ad7cc607a8e,PowerMax Driver - allow for None values in metadata,MERGED,2021-08-06 16:32:31.000000000,2022-07-02 01:38:15.000000000,2022-06-30 21:11:21.000000000,47,8,12,803785,52dfbcb3e28e39076f3f1497408af1f2e9b63544,75,8,1,3,12670,Helen Walsh,walshh2,"PowerMax Driver - allow for None values in metadata

Allow for non-existent dict values in the metadata for
manage existing volume operation.

Change-Id: Id4ffff47ec309a6c8837930e1e438ad7cc607a8e
"
openstack%2Fcinder-tempest-plugin~master~I7426e6ee3dbb140839adfa33dc4516d2e8ce7225,openstack/cinder-tempest-plugin,master,barbican-import-test,I7426e6ee3dbb140839adfa33dc4516d2e8ce7225,DNM WIP Try to import cinder tests from barbican-tempest-plugin,NEW,2020-07-28 09:38:34.000000000,2022-07-02 01:35:42.000000000,,137,0,8,743492,336a95129b04dc3dcd2bfaee18b40ce64447447e,29,2,8,3,10459,Luigi Toscano,ltoscano,"DNM WIP Try to import cinder tests from barbican-tempest-plugin

Try to see if the barbican tests for cinder from
barbican-tempest-plugin work when imported here.

Heavily work in progress.

If it works, the implication of depending on another potentially
unstable manager are to be evaluated.
Also:
- a proper import would need adding some historical context,
  like the list of changed-ids which changed the file;
- the tests would need to be skipped if barbican is not found.

Depends-On: https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/847560
Change-Id: I7426e6ee3dbb140839adfa33dc4516d2e8ce7225
"
openstack%2Fironic-python-agent~master~Ifcf3dfff00b604dec1e2f430369ab8053f50f137,openstack/ironic-python-agent,master,collect-udev,Ifcf3dfff00b604dec1e2f430369ab8053f50f137,Collect udev properties in the ramdisk logs,MERGED,2022-06-17 07:48:36.000000000,2022-07-02 00:38:46.000000000,2022-07-02 00:37:35.000000000,89,4,0,846280,a98675890f3d404189e5a967d8f215628beb9ac7,10,3,2,3,10239,Dmitry Tantsur,dtantsur,"Collect udev properties in the ramdisk logs

Change-Id: Ifcf3dfff00b604dec1e2f430369ab8053f50f137
"
openstack%2Fironic~master~I88a4863cd24258eb0b395303738c23e3468615c0,openstack/ironic,master,,I88a4863cd24258eb0b395303738c23e3468615c0,CI: Pull in diskimage-builder until new release is cut,MERGED,2022-06-30 23:29:43.000000000,2022-07-01 22:58:35.000000000,2022-07-01 22:56:37.000000000,2,0,3,848345,af838cca79b36b068c210ae64d95441d7db02a23,18,3,1,1,11655,Julia Kreger,jkreger,"CI: Pull in diskimage-builder until new release is cut

Change-Id: I88a4863cd24258eb0b395303738c23e3468615c0
"
openstack%2Ftripleo-common~master~Ic30b3b12b39fb13c1d9df809ecf1e5bf8051cdb1,openstack/tripleo-common,master,sensubility-new-podman,Ic30b3b12b39fb13c1d9df809ecf1e5bf8051cdb1,Add dependency for container healthcheck script,MERGED,2022-06-23 16:07:01.000000000,2022-07-01 22:28:20.000000000,2022-07-01 22:27:16.000000000,2,0,0,847373,609934933c663fb13c199151168b6e36ecd2428f,10,5,1,1,5241,Martin Magr,mmagr,"Add dependency for container healthcheck script

This patch adds packages required for collectd-sensubility HC script.

Change-Id: Ic30b3b12b39fb13c1d9df809ecf1e5bf8051cdb1
Related: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/847370
"
openstack%2Fpuppet-tripleo~master~I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492,openstack/puppet-tripleo,master,,I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492,Add support for ovn clustered DB in the octavia ovn-provider,MERGED,2022-06-15 19:08:37.000000000,2022-07-01 22:27:09.000000000,2022-07-01 22:27:09.000000000,25,10,11,846059,e6a4118d24358c22843c7bbc6f97ea06a53e7cec,37,5,8,1,29244,Gregory Thiemonge,gthiemonge,"Add support for ovn clustered DB in the octavia ovn-provider

Change-Id: I9ff9fac2ddaf6dc90b5a426e6988aa1e1f83b492
"
openstack%2Fpuppet-tripleo~master~I1d8630d427b353daab17c3661b1fdea9e38a1814,openstack/puppet-tripleo,master,tripleo-hiera-v5,I1d8630d427b353daab17c3661b1fdea9e38a1814,HAProxy: Replace hiera by lookup (1),MERGED,2022-06-23 13:09:38.000000000,2022-07-01 22:27:07.000000000,2022-07-01 22:27:07.000000000,5,5,0,847343,fbda281c33bac10ba6d47adb3ef6540c610c4709,9,4,2,1,9816,Takashi Kajinami,kajinamit,"HAProxy: Replace hiera by lookup (1)

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: I1d8630d427b353daab17c3661b1fdea9e38a1814
"
openstack%2Fpuppet-tripleo~master~I452cc36a2da5ecd50350e10c207af81bb7060f60,openstack/puppet-tripleo,master,,I452cc36a2da5ecd50350e10c207af81bb7060f60,HAProxy: Remove unused logic to reload haproxy service,MERGED,2022-06-23 13:09:38.000000000,2022-07-01 22:27:04.000000000,2022-07-01 22:27:04.000000000,0,14,0,847342,7e85c0a645c406e05a816f3e002c63ce907048d4,9,4,1,1,9816,Takashi Kajinami,kajinamit,"HAProxy: Remove unused logic to reload haproxy service

Now haproxy is running inside container and is not directly managed by
systemd, so the logic to reload haproxy using systemctl command is no
longer used.

Change-Id: I452cc36a2da5ecd50350e10c207af81bb7060f60
"
openstack%2Fpuppet-tripleo~master~I4d765dfb7d569942e37d2bbc1d3a382fb9b7a904,openstack/puppet-tripleo,master,tripleo-hiera-v5,I4d765dfb7d569942e37d2bbc1d3a382fb9b7a904,Database: Replace hiera by lookup,MERGED,2022-06-23 13:17:34.000000000,2022-07-01 21:36:03.000000000,2022-07-01 21:36:03.000000000,50,50,0,847344,ae739fe4c3ed667759652ba8e89f0a44988a9958,9,4,1,5,9816,Takashi Kajinami,kajinamit,"Database: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: I4d765dfb7d569942e37d2bbc1d3a382fb9b7a904
"
openstack%2Ftripleo-ci~master~I9ec6b3d93f0643455da650d0b0a55335084cb61a,openstack/tripleo-ci,master,,I9ec6b3d93f0643455da650d0b0a55335084cb61a,Trigger standalone jobs by change in tripleo_cephadm role,MERGED,2022-06-30 09:41:29.000000000,2022-07-01 21:27:21.000000000,2022-07-01 21:27:21.000000000,2,2,1,848244,a9b3c08b89c5d0583758f261727af8c838cf9317,13,5,2,1,9816,Takashi Kajinami,kajinamit,"Trigger standalone jobs by change in tripleo_cephadm role

This change fixes the file pattern used to trigger standalone jobs
with Ceph enabled, so that any change in the tripleo_cephadm role is
tested by these jobs.

Change-Id: I9ec6b3d93f0643455da650d0b0a55335084cb61a
"
openstack%2Fmanila~stable%2Fyoga~Idb2a8838d492ac3c616fb21ab1272f7dc74ee589,openstack/manila,stable/yoga,bug/1918323,Idb2a8838d492ac3c616fb21ab1272f7dc74ee589,Add validation to share network,MERGED,2022-04-21 17:44:25.000000000,2022-07-01 21:17:21.000000000,2022-07-01 21:16:01.000000000,55,10,2,838875,95099bdfc46f4734c082b051a0029627aff9e473,11,3,1,5,16643,Goutham Pacha Ravi,gouthamr,"Add validation to share network

Adds a check when associating a security service to a share network, so
that both resources must have the same project_id. If not,
a HTTP Bad Request is raised. Affiliated tests were altered or created.

Closes-Bug: #1918323
Change-Id: Idb2a8838d492ac3c616fb21ab1272f7dc74ee589
(cherry picked from commit a97d65d3eb9b3a5b4a88a1b3f22b59ca2f75c9bc)
"
openstack%2Fmanila~stable%2Fyoga~If28d97a9916ce56d7f7bf93274f5618eee01c209,openstack/manila,stable/yoga,bug/1922243,If28d97a9916ce56d7f7bf93274f5618eee01c209,Check project permissions for share replicas,MERGED,2022-05-06 12:08:31.000000000,2022-07-01 21:07:35.000000000,2022-07-01 21:06:19.000000000,14,0,2,840736,886c2258528a8cd2ad2d8a68634a265a257f8c7d,11,3,1,2,16643,Goutham Pacha Ravi,gouthamr,"Check project permissions for share replicas

Fixed the issue of returning more share replicas than we should
be in a project context. Derived project id from parent share in
the share replicas listing query in non-admin share replicas
listing request scenarios.

Change-Id: If28d97a9916ce56d7f7bf93274f5618eee01c209
Closes-Bug: #1922243
Depends-On: I69c31a33c1aad8edae2d90ad6101da1be650be85
(cherry picked from commit 6484de925119ffb3614921b59045a958a404d43d)
"
openstack%2Fbarbican-tempest-plugin~master~I07d9f3758243df89ef4ccd482ae0ee3e49e5f88f,openstack/barbican-tempest-plugin,master,fix-queue-config,I07d9f3758243df89ef4ccd482ae0ee3e49e5f88f,zuul: Declare queue at top level,MERGED,2022-06-13 00:59:08.000000000,2022-07-01 20:31:16.000000000,2022-07-01 20:31:16.000000000,1,1,1,845522,cb6e982334d8ce767f1e07d6a2c20897c76c1912,8,6,1,1,9816,Takashi Kajinami,kajinamit,"zuul: Declare queue at top level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This updates the job definition to use the top level
declaration instead.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I07d9f3758243df89ef4ccd482ae0ee3e49e5f88f
"
openstack%2Fbarbican-tempest-plugin~master~I9df1b691a9d142997a3d3ee5e115187c0923e85d,openstack/barbican-tempest-plugin,master,yoga-stable-job,I9df1b691a9d142997a3d3ee5e115187c0923e85d,Update 'Maintained' stable branch jobs on master gate,MERGED,2022-04-15 01:42:18.000000000,2022-07-01 20:31:15.000000000,2022-07-01 20:31:15.000000000,6,14,1,838063,8580430fba96aca71e918564a4c5943ff05652ee,12,6,3,1,8556,Ghanshyam,ghanshyam,"Update 'Maintained' stable branch jobs on master gate

We have stable/yoga released and stable/ussuri is in
'Extended Maintenance' state. Current 'Maintained'
stable branches are yoga, xena, wallaby, and victoria.

As per tempest stable branch testing policy[1], adding the
newly released stable/yoga job and remove the EM stable/ussuri
and stable/victoria job.

[1] https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I9df1b691a9d142997a3d3ee5e115187c0923e85d
"
openstack%2Fbarbican-tempest-plugin~master~Ic8ef45bcb9518968d32872a93fc3381004d218ff,openstack/barbican-tempest-plugin,master,fix-notfound-exc,Ic8ef45bcb9518968d32872a93fc3381004d218ff,Fix the import of NotFound exception,MERGED,2022-06-24 09:39:52.000000000,2022-07-01 20:19:30.000000000,2022-07-01 20:19:30.000000000,1,1,0,847560,4e9303e1bb83da10f8d5d97ee4fd31447c5dc396,7,5,1,1,10459,Luigi Toscano,ltoscano,"Fix the import of NotFound exception

It is exported by tempest.lib.exceptions, not tempest.exceptions
(it was originally until 2015).

Change-Id: Ic8ef45bcb9518968d32872a93fc3381004d218ff
"
openstack%2Fmanila~stable%2Fyoga~I547de2f4cd82744ecc1cc8180f8cefdf5ec485b4,openstack/manila,stable/yoga,,I547de2f4cd82744ecc1cc8180f8cefdf5ec485b4,Fix Dummy driver fails to get subnet_allocations,MERGED,2022-03-29 16:30:17.000000000,2022-07-01 20:13:15.000000000,2022-07-01 20:12:02.000000000,32,8,2,835673,f449ebbf8fc188f9952047c5875481e20991514f,10,3,1,1,16643,Goutham Pacha Ravi,gouthamr,"Fix Dummy driver fails to get subnet_allocations

With the addition of support to multiple subnets per AZ,
backend_details structure was changed in Dummy driver to store
multiple subnet primary and secondary public ips in a
subnet_allocations list dumped to a json string, breaking upgrading
environments that already contains pre-existent share servers in
old format.

This change fixes the issue by checking if subnet_allocations does
exist, otherwise ensure backward compatibility by reading public
ips information in the old format.

Change-Id: I547de2f4cd82744ecc1cc8180f8cefdf5ec485b4
(cherry picked from commit 785016eb742206d89aae2898fc4af77e19c581fa)
"
openstack%2Fbarbican-tempest-plugin~master~I2f96cf7b5f85f2a1297eb7a1aafdfd88485eaebe,openstack/barbican-tempest-plugin,master,tempest-scenario-manager-cleanup,I2f96cf7b5f85f2a1297eb7a1aafdfd88485eaebe,Remove _create_port and create_keypair methods,MERGED,2022-02-16 07:29:16.000000000,2022-07-01 20:10:22.000000000,2022-07-01 20:10:22.000000000,3,28,17,829485,6e39d991c8892f40d9df67849ec99ede6e66224e,24,8,7,1,33732,Roman Popelka,rpopelka,"Remove _create_port and create_keypair methods

As tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.

Replaced methods:
	* _create_port
	* create_keypair

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0

Change-Id: I2f96cf7b5f85f2a1297eb7a1aafdfd88485eaebe
"
openstack%2Fironic~master~Ib4894a40f499dd7fb019eb6037071a0b36805981,openstack/ironic,master,487118,Ib4894a40f499dd7fb019eb6037071a0b36805981,Switch to cirros 0.4.0,ABANDONED,2017-07-25 15:14:42.000000000,2022-07-01 19:40:00.000000000,,3,7,0,487118,098beca4f0d28bf12bfe46c368f357f7b29c8695,131,12,19,3,1926,Derek Higgins,derekh,"Switch to cirros 0.4.0

This supports ext4 partitions with metadata_csum(as created
by ubuntu bionic by default).

Also Using it with the e1000 virt driver cirros sees the nics.

This allows us to remove 2 of the special cases we had inserted
when the CI jobs were switched to bionic.

Story: #2004604
Task: #28570
Task: #28499

Change-Id: Ib4894a40f499dd7fb019eb6037071a0b36805981
"
openstack%2Fmanila-tempest-plugin~master~I4abf0d60e6662c6f409bfa6506ab51ea717dc8cf,openstack/manila-tempest-plugin,master,,I4abf0d60e6662c6f409bfa6506ab51ea717dc8cf,Follow up for CI jobs refactoring,MERGED,2022-06-30 19:59:50.000000000,2022-07-01 19:24:12.000000000,2022-07-01 19:24:12.000000000,9,6,3,848333,d12285b25b40031ec90743c45b095d1bbcba4ca4,11,4,1,2,29632,Carlos Eduardo,silvacarlos,"Follow up for CI jobs refactoring

This changes addresses few comments left in the change that
refactored some of our CI jobs [1], regarding a more suggestive
anchor name and a comment to give more context for code reviewers
in the future.

[1] https: //review.opendev.org/c/openstack/manila-tempest-plugin/+/847366

Change-Id: I4abf0d60e6662c6f409bfa6506ab51ea717dc8cf
"
openstack%2Fmanila~stable%2Fwallaby~I5ea31e1d46148045ddc92853742f2321045c5680,openstack/manila,stable/wallaby,manila-stable-jobs-stable/wallaby,I5ea31e1d46148045ddc92853742f2321045c5680,Use defined project config of manila-tempest-plugin,MERGED,2022-07-01 14:25:47.000000000,2022-07-01 18:52:29.000000000,2022-07-01 18:48:58.000000000,1,10,1,848360,71c906e6015bbf91ee9363b38030b1561398baef,11,3,1,1,29632,Carlos Eduardo,silvacarlos,"Use defined project config of manila-tempest-plugin

Due to recent issues we ran into, our jobs needed to be modified
and we needed to control a few variables to be set into the stable
branches.

This change makes use of such modifications and starts using the
project config defined in the manila-tempest-plugin manifests.

Change-Id: I5ea31e1d46148045ddc92853742f2321045c5680
(cherry picked from commit 123db367ed75a10042d1c65644cd6f4b11860ea2)
(cherry picked from commit 3e4d1292ff21b93d8fdbc0b88c41839d643970ca)
"
openstack%2Fmanila~stable%2Fxena~Ife023187f307f1190d5e76daf644db0b5cd55d38,openstack/manila,stable/xena,fix-queue-config,Ife023187f307f1190d5e76daf644db0b5cd55d38,Define queues at project level,MERGED,2022-06-24 16:43:58.000000000,2022-07-01 18:52:08.000000000,2022-07-01 18:48:55.000000000,1,1,1,847442,b06cc4b8cbbb8bd80134eecdd5f14095d512cbb0,17,3,2,1,30002,Douglas Viroel,dviroel,"Define queues at project level

Defining queues at project.pipeline level was deprecated in release
4.1.0 of Zuul [1] and support for it will (probably) be dropped in
release 7.0.0. [2][3]

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html
[3] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Signed-off-by: Eduardo Santos <eduardo.experimental@gmail.com>
Change-Id: Ife023187f307f1190d5e76daf644db0b5cd55d38
(cherry picked from commit 441d6470ca3a24f29f60494ed31755d2842b2fa3)
(cherry picked from commit ad6874141de3637c2200315e95f51242b070b0e7)
"
openstack%2Fvalidations-libs~master~I335e1660f56fa254ffd3c6728d4fe4bf9563284f,openstack/validations-libs,master,yamllint/config,I335e1660f56fa254ffd3c6728d4fe4bf9563284f,Minor style violations fix,MERGED,2022-06-28 06:53:29.000000000,2022-07-01 18:44:31.000000000,2022-07-01 18:43:22.000000000,1,3,1,847886,b27ad5ae4270851ea80b8273cc399ba28d88feb6,14,4,2,3,32926,Jiri Podivin,jpodivin,"Minor style violations fix

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I335e1660f56fa254ffd3c6728d4fe4bf9563284f
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14,openstack/tripleo-ansible,stable/wallaby,designate-wallaby,I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14,Designate: use extra IP for bind/unbound colocation on the bind9 backend,MERGED,2022-06-21 16:33:55.000000000,2022-07-01 18:43:20.000000000,2022-07-01 18:43:20.000000000,206,6,2,847062,b5f66485d3719592cc9651eae1b7dcb6efc4227c,15,3,1,8,6681,Brent Eagles,beagles,"Designate: use extra IP for bind/unbound colocation on the bind9 backend

Using the standard DF supplied IP for the unbound resolver instead of
the bind instance makes resolver integration with neutron a great deal
more straightforward. This patch introduces ansible tasks for
configuring the bind service to run on an alternate IP.

Change-Id: I0a5d647cbfb01722f5ecdacd0dd07b839a71eb14
(cherry picked from commit a0004cf138838c60a9cf24495d27fb00630b3833)
"
openstack%2Fpython-openstackclient~master~I45e9a81d451c64cdd51f9b606d94161742bacdb7,openstack/python-openstackclient,master,drop-l-c,I45e9a81d451c64cdd51f9b606d94161742bacdb7,Stop testing lower-constraints,MERGED,2022-05-11 09:38:09.000000000,2022-07-01 18:06:33.000000000,2022-07-01 18:01:08.000000000,4,104,9,841389,c677192d51ac80922f990c8a96b49e9dcc9325d2,24,4,3,4,32029,likui,likui,"Stop testing lower-constraints

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/018445.html

Change-Id: I45e9a81d451c64cdd51f9b606d94161742bacdb7
"
openstack%2Fkeystone~master~Ifef262cfca4ecb8ad1222da3c43e5749f40c1f24,openstack/keystone,master,add-dns-target-for-fips,Ifef262cfca4ecb8ad1222da3c43e5749f40c1f24,Move fips job to centos-9,MERGED,2022-06-21 18:23:06.000000000,2022-07-01 18:06:11.000000000,2022-07-01 18:01:04.000000000,4,2,0,847079,950dd5e5032afd73527c82c6ce63ee2ad94dc252,11,5,1,1,9914,Ade Lee,alee,"Move fips job to centos-9

Move FIPS job to centos 9 and add new required nslookup_target variable.

Change-Id: Ifef262cfca4ecb8ad1222da3c43e5749f40c1f24
"
openstack%2Fpython-openstackclient~master~Ie5f3600672953f40be52de51e84717c8912ddaf8,openstack/python-openstackclient,master,,Ie5f3600672953f40be52de51e84717c8912ddaf8,image: Make better use of argparse,MERGED,2022-06-30 10:55:42.000000000,2022-07-01 18:04:52.000000000,2022-07-01 18:00:58.000000000,116,149,1,848253,4776e0a5ae17c728f9344041f9bf634b3263fcd5,10,3,1,2,15334,Stephen Finucane,sfinucan,"image: Make better use of argparse

Simplify some logic by using a common 'dest' for mutually exclusive
options.

Change-Id: Ie5f3600672953f40be52de51e84717c8912ddaf8
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Ftempest~master~I5ef9233d9ba2437198bac1357782a9639024dc79,openstack/tempest,master,,I5ef9233d9ba2437198bac1357782a9639024dc79,Fix create_server_snapshot for microversion,MERGED,2022-06-30 14:26:12.000000000,2022-07-01 18:03:48.000000000,2022-07-01 18:00:54.000000000,3,1,1,848302,7d2edc2d811d62e224c2336a6d4cfa18e404502c,9,5,1,1,11075,Benny Kopilov,bkopilov,"Fix create_server_snapshot for microversion

Location returned till microversion 2.44
image_id returned from microversion 2.45

Added support in manager for both

Change-Id: I5ef9233d9ba2437198bac1357782a9639024dc79
"
openstack%2Frally-openstack~master~I853795f4d19b8a6800c77a06ec90d707923ac655,openstack/rally-openstack,master,bug/1980055,I853795f4d19b8a6800c77a06ec90d707923ac655,Update gnocchiclient requirement,MERGED,2022-06-28 06:20:14.000000000,2022-07-01 18:02:27.000000000,2022-07-01 18:02:27.000000000,12,12,4,847879,3984f97c1c9fd0695bab123da81323e83abac3a3,18,5,3,3,13861,yatin,yatinkarel,"Update gnocchiclient requirement

With [1] gnocchiclient upper constraint updated to 7.0.7,
and that broke neutron rally jobs as 7.0.7 is blacklisted
in requirements, in order to fix it let's update the
requirement.

+ temporary turn off several ci jobs to unblock merging and fix ci issues
  one by one

[1] https://review.opendev.org/q/If661968a583555ef061e58be8538b12b141e7359

Closes-Bug: #1980055
Change-Id: I853795f4d19b8a6800c77a06ec90d707923ac655
"
openstack%2Fpython-openstackclient~master~Id153c951a7d18403568bf67e13d5e0a4827428d4,openstack/python-openstackclient,master,,Id153c951a7d18403568bf67e13d5e0a4827428d4,image: Split image creation depending on service,MERGED,2022-06-30 10:55:42.000000000,2022-07-01 18:01:01.000000000,2022-07-01 18:01:01.000000000,83,49,0,848254,14b93fec761b8de3c6129c93a88d144feba599e8,6,2,1,1,15334,Stephen Finucane,sfinucan,"image: Split image creation depending on service

The 'image create' operation is actually one of two operations: it can
be either an image service (glance) operation if the '--volume' argument
is *not* passed or a block storage (cinder) operation if it is. Make
this clearer and add a log warning users about options that are
supported by the former but not the latter.

Change-Id: Id153c951a7d18403568bf67e13d5e0a4827428d4
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fkeystone~master~I185420e6d16276e7d184146f6a38b098abc00b25,openstack/keystone,master,bp/remove-sqlalchemy-migrate,I185420e6d16276e7d184146f6a38b098abc00b25,tests: Don't monkeypatch functions,MERGED,2022-06-20 12:30:09.000000000,2022-07-01 17:21:46.000000000,2022-07-01 17:18:49.000000000,15,5,0,846612,0916df35f9d391639d935d89f28554852fdf07be,12,5,1,1,15334,Stephen Finucane,sfinucan,"tests: Don't monkeypatch functions

We were inadvertently monkeypatching a variety of functions in
'keystone.common.sql.upgrades'. We should be configuring mocks for these
that we teardown at the end of the test. This has been an issue since we
first added these tests way back in change
I9f138fe0bcbf5ffbb98e6fcebd7d897329a301b7. Fix it now.

Change-Id: I185420e6d16276e7d184146f6a38b098abc00b25
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Suggested-by: Mike Bayer <mike_mp@zzzcomputing.com>
"
openstack%2Fkeystone~master~I2165710ee83dad12ddd795b665ecac6c8bd42a93,openstack/keystone,master,remove-sqlalchemy-migrate,I2165710ee83dad12ddd795b665ecac6c8bd42a93,sql: Don't create a new connection in migrations,MERGED,2022-06-17 13:38:33.000000000,2022-07-01 17:20:35.000000000,2022-07-01 17:18:46.000000000,1,1,0,846367,c4f2e2e1db55172aeb5e3a610d3b6ec0df4383d5,12,5,1,1,15334,Stephen Finucane,sfinucan,"sql: Don't create a new connection in migrations

We can use the existing connection. No need to create a new one.

Change-Id: I2165710ee83dad12ddd795b665ecac6c8bd42a93
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fmanila~master~I412a92579fea8207a24e5d104cf1f9aec4d914d2,openstack/manila,master,bp/metadata-for-share-resources,I412a92579fea8207a24e5d104cf1f9aec4d914d2,Metadata for Share Access Rules Resource,NEW,2022-06-22 19:22:01.000000000,2022-07-01 17:17:21.000000000,,130,39,0,847219,0d2b35dac808caffdc54c600d803c103f29a552b,25,1,3,10,32594,Ashley Rodriguez,ashrod98,"Metadata for Share Access Rules Resource

This change adds metadata controller for Shares access rules resource.
Some refactoring for metadata regarding router and policies.

APIImpact
Partially-implements: bp/metadata-for-share-resources

Change-Id: I412a92579fea8207a24e5d104cf1f9aec4d914d2
"
openstack%2Fos-brick~stable%2Fxena~Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58,openstack/os-brick,stable/xena,xena-symlink,Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58,Fix encryption symlink issues,MERGED,2022-06-17 11:46:34.000000000,2022-07-01 16:48:04.000000000,2022-07-01 16:46:47.000000000,567,184,1,846343,b31b109f0f95c0102300bbda15b011f3623a2873,13,6,1,16,9535,Gorka Eguileor,Gorka,"Fix encryption symlink issues

This patch fixes 2 issues related to the symlinks, or lack of, that
connectors' connect_volume methods return.

Some connectors always return the block device instead of a symlink for
encrypted volumes, and other connectors return a symlink that is owned
by the system's udev rules.  Both cases are problematic

Returning the real device can prevent the encryptor connect_volume to
complete successfully, and in other cases (such as nvmeof) it completes,
but on the connector's disconnect volume it will leave the device behind
(i.e., /dev/nvme0n1) preventing new connections that would use that same
device name.

Returning a symlink owned by the system's udev rules means that they can
be reclaimed by those rules at any time.  This can happen with
cryptsetup, because when it creates a new mapping it triggers udev rules
for the device that can reclaim the symlink after os-brick has replaced
it.

This patch creates a couple of decorators to facilitate this for all
connectors. These decorators transform the paths so that the callers
gets the expected symlink, but the connector doesn't need to worry about
it and will always see the value it returns regardless of what symlink
the caller gets.

From this moment onwards we use our own custom symlink that starts with
""/dev/disk/by-id/os-brick"".

The patch fixes bugs in other connectors (such as the RBD local
connection), but since there are no open bugs they have not been
reported.

Closes-Bug: #1964379
Closes-Bug: #1967790
Change-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58
(cherry picked from commit 1583a5038d34fd560b554e0eee5c1c5a7612722f)
(cherry picked from commit 0bd5dc99152261d1d59ecb788faf4aea3e299edd)
Conflicts:
	os_brick/initiator/connectors/lightos.py
	os_brick/utils.py
"
openstack%2Foctavia~stable%2Fvictoria~I433e074c2eac5f6875ee5dace8faf86969b24f66,openstack/octavia,stable/victoria,,I433e074c2eac5f6875ee5dace8faf86969b24f66,Fix potential race conditions on update requests in the v2 worker,MERGED,2022-04-29 06:45:54.000000000,2022-07-01 16:33:29.000000000,2022-07-01 16:31:54.000000000,306,10,3,839857,2376784895d41be62eff8e5fef460e0d69eb16ef,15,4,2,3,29244,Gregory Thiemonge,gthiemonge,"Fix potential race conditions on update requests in the v2 worker

The v2 worker was not waiting for a resource to be set to PENDING_UPDATE
before updating it effectively. In some circumstances (loaded
server/slow DB for instance), the resources may have been updated with
old data from the DB, resulting in a no-op update.

This wait for a PENDING_UPDATE state exists in amphorav1 but it was not
moved to v2 when we switched the logic from the DB-based objects to
dict-based objects.

Note for stable/victoria: this backport also contains [0] which improves
code coverage.

[0] I403e1861b1b51c07edad35c64ffac22167342c88

Story 2009887
Task 44645
Story 2009985
Task 45032

Change-Id: I433e074c2eac5f6875ee5dace8faf86969b24f66
(cherry picked from commit 6042de759db557f421482d22185c5e5075511417)
(cherry picked from commit c31051b3881b80ec706161c92a3929e8cc9d3d18)
(cherry picked from commit 0e4efed23cb688867025a866565e371f8fc477ca)
(cherry picked from commit 331b11c10532b097829808c3a18382abff56ed45)
"
openstack%2Fpuppet-tripleo~master~I4b861f5cd600792422d57bb5676aa72505d190b0,openstack/puppet-tripleo,master,require-redis,I4b861f5cd600792422d57bb5676aa72505d190b0,ceilometer-polling: : Require redis backend,NEW,2022-04-26 02:31:51.000000000,2022-07-01 16:32:43.000000000,,5,4,1,839289,6b10b80a670cd1520b29b67e781928fb95842965,12,3,4,2,9816,Takashi Kajinami,kajinamit,"ceilometer-polling: : Require redis backend

The ceilometer polling agents require valid tooz backend so that tasks
are distributed properly among multiple nodes. This change ensures
redis vip and password are defined in hieradata so that coordination
backend can always be configured properly.

Change-Id: I4b861f5cd600792422d57bb5676aa72505d190b0
"
openstack%2Fneutron~master~Ic79ad0f8e7fa1d55328e2315d87a3950fdb82258,openstack/neutron,master,bug/1980346,Ic79ad0f8e7fa1d55328e2315d87a3950fdb82258,[sqlalchemy-20] Add the needed DB context decorators in ``ml2.plugin``,MERGED,2022-07-01 09:14:21.000000000,2022-07-01 16:27:19.000000000,2022-07-01 13:48:33.000000000,6,5,5,848396,d3f711e7f6cf644dd616e7b241c2c6fe90a73fc8,13,6,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[sqlalchemy-20] Add the needed DB context decorators in ``ml2.plugin``

The method ""_handle_segment_change"" was handling the network DB object
outside a DB writer context.

Closes-Bug: #1980346
Related-Bug: #1976357
Change-Id: Ic79ad0f8e7fa1d55328e2315d87a3950fdb82258
"
openstack%2Fkeystone~master~I150b8fa19d4ec1582234caa4c25db905e6403590,openstack/keystone,master,remove-sqlalchemy-migrate,I150b8fa19d4ec1582234caa4c25db905e6403590,Ignore UserWarning for scope checks during test runs,MERGED,2022-06-17 13:38:33.000000000,2022-07-01 16:21:23.000000000,2022-07-01 16:19:42.000000000,17,0,2,846366,30fa47f98ade92a38715ae8fffa4ce6a6d73c962,15,5,1,1,15334,Stephen Finucane,sfinucan,"Ignore UserWarning for scope checks during test runs

Keystone's API policy rules are defaulting to system scope. Scope checks
are disabled by default in oslo.policy, but if you hit the API with a
token that doesn't match the scope, it generates a UserWarning, for
every policy check on that request. This is pretty annoying, so just
filter those warnings during our test runs.

Change-Id: I150b8fa19d4ec1582234caa4c25db905e6403590
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnetworking-sfc~master~I85dd616efbd93bef6b3e099f328576c04c09d5ef,openstack/networking-sfc,master,drop-l-c,I85dd616efbd93bef6b3e099f328576c04c09d5ef,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:29:23.000000000,2022-07-01 16:09:07.000000000,2022-07-01 16:06:07.000000000,4,156,6,840096,b1ad8c7ebc8104f5f5b959d8946a3d91bea4273b,25,4,2,4,8556,Ghanshyam,ghanshyam,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I85dd616efbd93bef6b3e099f328576c04c09d5ef
"
openstack%2Fneutron~master~I3a9f665653c3e2a5f75175867a45391e6ad01176,openstack/neutron,master,bug/1980127,I3a9f665653c3e2a5f75175867a45391e6ad01176,[FT] Run all .*MySQL and .*PostgreSQL tests in an isolated thread,MERGED,2022-06-29 15:07:09.000000000,2022-07-01 16:04:09.000000000,2022-07-01 16:02:18.000000000,2,2,2,848146,d3ce69b9465c734d25d1d96c8cb7103834d03dac,17,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[FT] Run all .*MySQL and .*PostgreSQL tests in an isolated thread

Similar to [1], this patch moves the PostgreSQL tests to a second
test execution step, where all tests are executed with one single
worker, avoiding any parallel execution on the SQL tests.

[1]https://review.opendev.org/c/openstack/neutron/+/834746

Closes-Bug: #1980127
Related-Bug: #1962594
Change-Id: I3a9f665653c3e2a5f75175867a45391e6ad01176
"
openstack%2Fpython-openstackclient~master~I35b7b8a80609916eb47357af4398789788d66382,openstack/python-openstackclient,master,,I35b7b8a80609916eb47357af4398789788d66382,image: Trivial style changes,MERGED,2022-06-30 10:55:42.000000000,2022-07-01 15:41:23.000000000,2022-07-01 15:39:50.000000000,319,189,0,848252,2290b38ab3d02ca67d6c2177fa9521720d48b0f0,8,2,1,1,15334,Stephen Finucane,sfinucan,"image: Trivial style changes

Change-Id: I35b7b8a80609916eb47357af4398789788d66382
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~Ia6a8128b0c87979fd118a7ae8cd33e0430a4aad1,openstack/tripleo-heat-templates,master,neutron-resolver-integration,Ia6a8128b0c87979fd118a7ae8cd33e0430a4aad1,Designate: configure collocation IP on bind and neutron dns integration,MERGED,2022-04-29 16:51:24.000000000,2022-07-01 15:29:03.000000000,2022-07-01 15:29:03.000000000,118,105,12,839974,78a51efb6c21c2dd3173a0ad55a9fb4873a21766,50,6,7,5,6681,Brent Eagles,beagles,"Designate: configure collocation IP on bind and neutron dns integration

This patch moves the collcation IP that was on unbound to the bind
worker instance allowing the use of the framework provided to configure
the neutron services to refer to the designate DNS services.

Note: the ansible tasks were move to the bind config ansible role
instead of the template.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/839973
Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/835742
Change-Id: Ia6a8128b0c87979fd118a7ae8cd33e0430a4aad1
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ia3f4de0028a4c264a9f2d1277878221969e180d5,openstack/tripleo-heat-templates,stable/wallaby,fix_upgrade,Ia3f4de0028a4c264a9f2d1277878221969e180d5,Remove StackAction from Octavia deployment,MERGED,2022-06-28 05:57:49.000000000,2022-07-01 15:28:58.000000000,2022-07-01 15:28:58.000000000,0,8,3,847878,72d679af415eb7e77e1de423c5b1262a883ec215,17,4,2,1,8833,Rabi Mishra,rabi,"Remove StackAction from Octavia deployment

Since ephemeral Heat, StackAction is now always
CREATE. Subsequentaly, it no longer serves the
intended purpose for the Octavia deployment.

This change removes StackAction from the template.

Partial-Bug: #1936138
Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/847817
Change-Id: Ia3f4de0028a4c264a9f2d1277878221969e180d5
(cherry picked from commit 5771d93182862592fa69d20662b9fcaa339bbf5a)
"
openstack%2Fglance~master~Ibc6d67efa564451828befe341b29eca6f37b06ef,openstack/glance,master,zanata/translations,Ibc6d67efa564451828befe341b29eca6f37b06ef,Imported Translations from Zanata,MERGED,2022-06-21 02:33:34.000000000,2022-07-01 15:26:14.000000000,2022-07-01 15:24:30.000000000,624,1298,0,846845,3bc85b77494fcd88a97e4dbf889b5918aab54538,17,2,6,13,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibc6d67efa564451828befe341b29eca6f37b06ef
"
openstack%2Fneutron~master~I2e389e3cce70505ce01f03c09b36fa9d55be964a,openstack/neutron,master,bug/1971672,I2e389e3cce70505ce01f03c09b36fa9d55be964a,"[FT] Ensure ""update_virtual_port_host"" has been called",MERGED,2022-06-29 16:38:55.000000000,2022-07-01 15:26:08.000000000,2022-07-01 15:24:26.000000000,2,0,0,848156,753fbff11bb7500db4293cb79fbf3d7cb0b2b121,10,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[FT] Ensure ""update_virtual_port_host"" has been called

An OVS DB event once matched, is stored in a cache and processed in
``ovsdbapp.event.RowEventHandler.notify_loop``. The method
``update_virtual_port_host`` is called in the ``run`` method of the
event. Sometimes in the FT execution, the test checks if the
method has been called when the event ``run`` method has not been
executed yet.

This patch adds a short active wait to ensure the event is actually
processed and the method called.

This bug can be easily reproduced if in the
``PortBindingUpdateVirtualPortsEvent.run`` method, a 2 seconds delay
is added:
  import time; time.sleep(2)

Closes-Bug: #1971672
Change-Id: I2e389e3cce70505ce01f03c09b36fa9d55be964a
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3a73996b00e7d169756875b39aba18f8f305a718,openstack/tripleo-heat-templates,stable/wallaby,legacy-env-stable/wallaby,I3a73996b00e7d169756875b39aba18f8f305a718,Remove legacy network-isolation env files,MERGED,2022-06-17 14:04:34.000000000,2022-07-01 15:24:42.000000000,2022-07-01 15:24:42.000000000,0,189,3,846255,5f97b4136041c2b4fbbf0f5aa407941c3ec61f23,19,4,1,4,8833,Rabi Mishra,rabi,"Remove legacy network-isolation env files

These environment files no longer work. In
fact, using them will cause errors during the
deployment. We should remove them to avoid
causing confusion for users.

Change-Id: I3a73996b00e7d169756875b39aba18f8f305a718
(cherry picked from commit f71723aa591955a5cc9b64bd8416a388d5d9911f)
"
openstack%2Fkeystone~master~Ia9583a254336fad7b302430a38b538c84338d13d,openstack/keystone,master,bug/1887515,Ia9583a254336fad7b302430a38b538c84338d13d,"Keystone to honor the ""domain"" attribute mapping rules",NEW,2020-07-08 12:18:08.000000000,2022-07-01 15:18:28.000000000,,786,85,13,739966,bfc37ddabb4afb8fe50a2376595fdebfac6e91be,51,3,9,18,28356,Rafael Weingartner,rafaelweingartner,"Keystone to honor the ""domain"" attribute mapping rules

We propose to extend Keystone identity provider (IdP) attribute mapping schema
to make Keystone honor the `domain` configuration that we have on it.
Currently, that configuration is only used to define a default domain for
groups (and then each group there, could override it). It is interesting to
expand this configuration (as long as it is in the root of the attribute
mapping) to be also applied for users and projects.

Moreover, to facilitate the development and extension concerning attribute
mappings for IdPs, we changed the way the attribute mapping schema is handled.
We introduce a new configuration `federation_attribute_mapping_schema_version`,
which defaults to ""1.0"". This attribute mapping schema version will then be
used to control the validation of attribute mapping, and also the rule
processors used to process the attributes that come from the IdP. So far, with
this PR, we introduce the attribute mapping schema ""1.1"", which enables
operators to also define a domain for the projects they want to assign users.
If no domain is defined either in the project or in the global domain definition
for the attribute mapping, we take the IdP domain as the default.

Change-Id: Ia9583a254336fad7b302430a38b538c84338d13d
Implements: https://bugs.launchpad.net/keystone/+bug/1887515
Closes-Bug: #1887515
"
openstack%2Fheat~stable%2Fyoga~I71f8398b6aa57b7c1910750b8e048825383e3d9a,openstack/heat,stable/yoga,,I71f8398b6aa57b7c1910750b8e048825383e3d9a,Use constraints when creating venv for grenade,MERGED,2022-07-01 10:52:28.000000000,2022-07-01 15:16:30.000000000,2022-07-01 15:13:39.000000000,6,2,1,848354,976bcf9ef34014cdd5cf15f97243609c96ac8ee8,11,2,1,2,9816,Takashi Kajinami,kajinamit,"Use constraints when creating venv for grenade

As a followup for change I6a8cffdc86c895eebe4269c5cd37841325566c54
let's use branch specific upper constraints when running tests in
grenade.

Change-Id: I71f8398b6aa57b7c1910750b8e048825383e3d9a
(cherry picked from commit 39d653fa5741e45d26388950270e7ed3ca489b89)
"
openstack%2Fpython-manilaclient~master~I385d0bf4b16083d9630969319ecc752681e8fe87,openstack/python-manilaclient,master,functional-tests,I385d0bf4b16083d9630969319ecc752681e8fe87,"Fix ""test_share_server_migration"" sporadic failure",MERGED,2022-06-30 20:52:18.000000000,2022-07-01 15:12:39.000000000,2022-07-01 15:11:01.000000000,2,3,2,848335,00caf0a5a5e0704fe3530865b759e6cbae2febeb,8,3,1,1,16643,Goutham Pacha Ravi,gouthamr,"Fix ""test_share_server_migration"" sporadic failure

The test in question kicks off the second phase
of share server migration (migration complete).
When the task state of the destination server
changes to ""migration_success"", it checks if the
source server has been deleted. The problem is
that the deletion isn't instantaneous [1]. So,
lets wait for the cleanup rather than expect
to not find the source share server as soon as
the migration is completed.

[1] https://opendev.org/openstack/manila/src/commit/5866dadd4b1ddcd935c854b3190e6df5e12ac4e4/manila/share/manager.py#L5658-L5674

Change-Id: I385d0bf4b16083d9630969319ecc752681e8fe87
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Ftripleo-common~master~I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6,openstack/tripleo-common,master,memory-usage,I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6,Reduce memory consumption in Cinder services,MERGED,2022-06-14 18:46:23.000000000,2022-07-01 15:07:45.000000000,2022-07-01 13:10:17.000000000,13,0,12,845807,6d8b07b7f9500850cb08a64e436eeb2f38c00b11,34,8,2,3,9535,Gorka Eguileor,Gorka,"Reduce memory consumption in Cinder services

This patch reduces memory usage for Cinder Volume and Backup services by
tuning glibc.

The specific tuning consist on disabling the per thread arenas and
disabling dynamic thresholds.

The Cinder Backup service suffers from high water mark memory usage and
uses excessive memory.  As an example just after 10 restore operations
the service uses almost 1GB of RAM and does not ever free it afterwards.
With this patch the memory consumption of the service is reduced down to
almost 130MB.  If we add a revert from Cinder (Change-Id
I43a20c8687f12bc52b014611cc6977c4c3ca212c) it goes down to 100MB during
my tests.

It's even worse on real deployments, where we have seen a reduction in
peak memory usage, going down from 2.9GB to 1.2GB, and fixing the high
water mark issue that previously left the service constantly using 2GB
going down to 140MB.

This glibc tuning is not applied to all Python services because I
haven't done proper testings on them and at first glance they don't seem
to have such great improvements.

This is the equivalent of the devstack proposed patch from Change-Id
Ic9030d01468b3189350f83b04a8d1d346c489d3c

Related-bug: #1908805
Change-Id: I65b32f4ce3fddeb694fb33ca65076d45d23a3bb6
"
openstack%2Fironic~master~I8ead1d24a9bd502b64fe7dd058e77550fcee141c,openstack/ironic,master,idrac-virtual-media,I8ead1d24a9bd502b64fe7dd058e77550fcee141c,Fix redfish-virtual-media for newer iDRACs,MERGED,2022-06-29 13:12:14.000000000,2022-07-01 14:55:29.000000000,2022-07-01 12:22:11.000000000,73,19,3,848107,73040c88d99f066644277f32e86d196305fc8596,22,3,1,5,27909,Aija Jauntēva,ajya,"Fix redfish-virtual-media for newer iDRACs

The issue with standard Redfish virtual media boot has
been fixed now. Update to restrict use of redfish-virtual-media
based on iDRAC firmware version.

Change-Id: I8ead1d24a9bd502b64fe7dd058e77550fcee141c
"
openstack%2Fsahara-plugin-ambari~master~I8824d2b1cc108b1857dd3857efee0d3e58f5cf70,openstack/sahara-plugin-ambari,master,,I8824d2b1cc108b1857dd3857efee0d3e58f5cf70,Update python testing classifier,MERGED,2021-12-21 09:58:48.000000000,2022-07-01 14:45:06.000000000,2022-07-01 14:43:26.000000000,2,3,0,822458,1c4c442525f8383d121c3ce3e80f1b737cc350b9,15,4,3,1,34375,hejunli,hejunli,"Update python testing classifier

Remove py36 and py37,and add py39.

Change-Id: I8824d2b1cc108b1857dd3857efee0d3e58f5cf70
"
openstack%2Fsahara-plugin-mapr~master~I1ed84376e3cd5f7dad8ba1642e52d1b150c43203,openstack/sahara-plugin-mapr,master,,I1ed84376e3cd5f7dad8ba1642e52d1b150c43203,Delete py36 and py37,MERGED,2021-12-21 10:47:11.000000000,2022-07-01 14:45:04.000000000,2022-07-01 14:43:25.000000000,2,3,2,822474,3708548d0ba92a46c04638a1ea34510be03c2f05,20,5,4,1,34375,hejunli,hejunli,"Delete py36 and py37

Add py39 in setup.cfg.

Change-Id: I1ed84376e3cd5f7dad8ba1642e52d1b150c43203
"
openstack%2Freleases~master~Ibbae7c24eb3d98494b8a5bc59bc956c8d66dc154,openstack/releases,master,release_osa,Ibbae7c24eb3d98494b8a5bc59bc956c8d66dc154,Release OpenStack-Ansible Yoga RC2,MERGED,2022-06-30 18:31:36.000000000,2022-07-01 14:44:53.000000000,2022-07-01 14:44:53.000000000,4,0,1,848327,8e964c1bc207d6c03709b1ba2a9f3731da0a370a,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Release OpenStack-Ansible Yoga RC2

Change-Id: Ibbae7c24eb3d98494b8a5bc59bc956c8d66dc154
"
openstack%2Fpython-openstackclient~master~I5e988faf14288d4cf995b9859e6348d89ff1dca1,openstack/python-openstackclient,master,bug/1980346,I5e988faf14288d4cf995b9859e6348d89ff1dca1,Use different segments for different tests,ABANDONED,2022-06-30 09:36:37.000000000,2022-07-01 14:30:41.000000000,,2,2,11,848242,be501af6af108c11e9b2ad8b0d884700b861b043,20,6,1,1,15334,Stephen Finucane,sfinucan,"Use different segments for different tests

If these tests run in parallel, things fail because neutron (rather
sensibly) does not allow you to create two segments with the same ID on
the same network. Instead, we see the following error message:

  Unable to create the network. The tunnel ID 2055 is in use.

Avoid this by using different values instead.

Change-Id: I5e988faf14288d4cf995b9859e6348d89ff1dca1
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1980346
"
openstack%2Fpython-manilaclient~master~I153d3131b591aef599cff87a5dbd85f5db3115dd,openstack/python-manilaclient,master,bp/openstack-client-support,I153d3131b591aef599cff87a5dbd85f5db3115dd,[OSC] Implement Share Migration Cancel and Complete Command,MERGED,2022-04-17 17:25:59.000000000,2022-07-01 14:27:37.000000000,2022-07-01 14:26:18.000000000,111,0,7,838233,495125587609a086cdb337ff62b682bd1b60d20f,31,3,10,4,21785,Namrata,namrata,"[OSC] Implement Share Migration Cancel and Complete Command

This commit adds 'openstack share migration cancel' and
'openstack share migration complete' command, that implement the
same functionality as 'manila migration-cancel'and 'manila
migration-complete' command.

Partially-implements: bp openstack-client-support
Change-Id: I153d3131b591aef599cff87a5dbd85f5db3115dd
"
openstack%2Fglance~master~I795c751edd1403d23aa1de5cda194aada80d05b2,openstack/glance,master,fips-compatibility,I795c751edd1403d23aa1de5cda194aada80d05b2,Fix fips job,MERGED,2022-06-21 19:38:18.000000000,2022-07-01 14:22:38.000000000,2022-07-01 14:19:41.000000000,1,5,7,847089,05543914a774bb4a170b789f64e6945bcfbc4259,19,3,2,1,9914,Ade Lee,alee,"Fix fips job

The ecdsa usage for ssh is supposed to be the default right now.
Also, a new role paramter nslookup_target is required for the fips role

Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/847193
Change-Id: I795c751edd1403d23aa1de5cda194aada80d05b2
"
openstack%2Fdevstack~master~I28e6159944746abe2d320369249b87f1c4b9e24e,openstack/devstack,master,client-service,I28e6159944746abe2d320369249b87f1c4b9e24e,Use OSCaaS to speed up devstack runs,NEW,2019-08-12 20:15:08.000000000,2022-07-01 14:17:06.000000000,,251,0,30,676016,9ecda595fb17e70d939f7a1d57281147dd3e3a21,60,8,23,6,6928,Ben Nemec,bnemec,"Use OSCaaS to speed up devstack runs

OpenStackClient has a significant amount of startup overhead, which
adds a non-trivial amount of time to each devstack run because it makes
a lot of OSC calls. This change uses the OSC service from [0] to run
a persistent process that handles openstack calls. This removes most
of the startup overhead and in my local testing removes about three
minutes per devstack run.

Currently this is implemented as an opt-in feature. There are likely a
lot of edge cases in projects that use a devstack plugin so turning it
on universally is going to require boiling the ocean. I think getting
this in and enabled for some of the major projects should give us a lot
of the benefit without the enormous effort of making it 100% compatible
across all of OpenStack.

Another thing to note is that the openstack-cli-server doesn't seem to be
able to properly handle image upload commands. The client side has
logic to run ""openstack image create"" directly instead of calling the
server in that case.

Change-Id: I28e6159944746abe2d320369249b87f1c4b9e24e
0: http://lists.openstack.org/pipermail/openstack-dev/2016-April/092546.html
"
openstack%2Fcharms.openstack~master~I74a693df95bebb14a6edcb796f1c8e6b17a95317,openstack/charms.openstack,master,config-flags,I74a693df95bebb14a6edcb796f1c8e6b17a95317,Add observer for add multiple arbitrary options with config-flags,MERGED,2022-06-29 08:46:40.000000000,2022-07-01 14:16:54.000000000,2022-07-01 14:16:54.000000000,85,0,14,848087,18ac668cd78e16adba5706e4d9606ff3f15ddd6e,20,2,5,2,34959,Francesco De Simone,fdesi,"Add observer for add multiple arbitrary options with config-flags

Add config_property_with_config_flags observer to handle extra option.
The config-flags are comma separated list of key-value pairs.

Change-Id: I74a693df95bebb14a6edcb796f1c8e6b17a95317
"
openstack%2Fkolla~stable%2Fyoga~I4bd581c3ea422e1c9a075a71721413d47fdbdfe4,openstack/kolla,stable/yoga,openstack-exporter-1.6.0-stable/yoga,I4bd581c3ea422e1c9a075a71721413d47fdbdfe4,Bump prometheus-openstack-exporter version to 1.6.0,MERGED,2022-06-27 11:54:54.000000000,2022-07-01 14:07:51.000000000,2022-07-01 14:06:31.000000000,16,5,1,847773,8253acdea048cd52470b0ad2f09a0c87185af193,13,3,2,2,15197,Pierre Riteau,priteau,"Bump prometheus-openstack-exporter version to 1.6.0

Change-Id: I4bd581c3ea422e1c9a075a71721413d47fdbdfe4
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/847538
(cherry picked from commit 5f94e53bea9fb81786595cb8b452879afe436e26)
"
openstack%2Fironic~stable%2Fyoga~I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b,openstack/ironic,stable/yoga,redfish-raid-stable/yoga,I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b,Fix Redfish RAID to update raid_config,MERGED,2022-06-30 12:04:42.000000000,2022-07-01 14:04:26.000000000,2022-07-01 14:02:53.000000000,159,5,0,848128,00242e4a07b22abb143da05ef32bf01853596957,12,3,1,3,27909,Aija Jauntēva,ajya,"Fix Redfish RAID to update raid_config

Story: 2003514
Task: 41940
Change-Id: I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b
(cherry picked from commit 29364b7fb40327dc277c535e5b829133274ad420)
"
openstack%2Freleases~master~I0808c86df2f156dd7ab9b8c1cc7004c8267ef1db,openstack/releases,master,,I0808c86df2f156dd7ab9b8c1cc7004c8267ef1db,Add releasenotes link for Temepst 31.1.0,MERGED,2022-06-29 09:44:28.000000000,2022-07-01 14:02:41.000000000,2022-07-01 14:02:41.000000000,1,1,5,848091,634522453608d0faa48aecf902711864db90f5b5,14,4,2,1,22873,Martin Kopec,mkopec,"Add releasenotes link for Temepst 31.1.0

This commit adds the release notes link for Tempest 31.1.0 release.

Change-Id: I0808c86df2f156dd7ab9b8c1cc7004c8267ef1db
"
openstack%2Fneutron~master~Ic26da2e20c0878204cf9565e173b4825cb36f34c,openstack/neutron,master,bug/1943155,Ic26da2e20c0878204cf9565e173b4825cb36f34c,"Replace ""Inspector.from_engine()"" with ""sqlalchemy.inspect()""",MERGED,2022-06-29 16:50:29.000000000,2022-07-01 13:50:25.000000000,2022-07-01 13:48:27.000000000,2,3,0,848159,d7ba5948ffe4ff4ec760a2774c699774b065cdfb,11,4,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Replace ""Inspector.from_engine()"" with ""sqlalchemy.inspect()""

Since SQLAlchemy 1.4, the method ""Inspector.from_engine()"" is
deprecated.

This patch is related to [1].

[1]https://review.opendev.org/c/openstack/neutron/+/808103

Related-Bug: #1943155
Change-Id: Ic26da2e20c0878204cf9565e173b4825cb36f34c
"
openstack%2Fpython-openstackclient~master~Ib1667ecc8d4c4336dd314282347bca248916b141,openstack/python-openstackclient,master,test-segment-fix,Ib1667ecc8d4c4336dd314282347bca248916b141,DNM: Test neutron segments fix,ABANDONED,2022-07-01 09:30:31.000000000,2022-07-01 13:42:49.000000000,,15,10,1,848397,0ed4b3a5abca1eec8f929dca2629ed0d9783799b,5,1,1,1,13252,Dr. Jens Harbott,jrosenboom,"DNM: Test neutron segments fix

Depends-On: https://review.opendev.org/c/openstack/neutron/+/848396
Change-Id: Ib1667ecc8d4c4336dd314282347bca248916b141
"
openstack%2Fneutron~master~Ic7dc7636549e10a0cb4cb462e5ff79e1737caf42,openstack/neutron,master,bug/1961740,Ic7dc7636549e10a0cb4cb462e5ff79e1737caf42,[WIP][DNM] Do not add again an VETH pair to its namespace,ABANDONED,2022-07-01 08:43:37.000000000,2022-07-01 13:33:47.000000000,,15,15,2,848393,27f5828a752064f03fac9cf77a36e6d45360cd9f,5,1,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[WIP][DNM] Do not add again an VETH pair to its namespace

NOTE: this is just a test. This patch is related to LP#1961740.
The error reported in this bug is happening again.

The rationale of this patch is that: when we create a VETH pair,
the second device is already created in the required namespace.
Check IPWrapper.add_veth. ""name2"" is created and assigned to
""namespace2"". This is why I don't understand the call to
""_add_device_to_namespace"".

Of course, this is just a test and I need to confirm that. Maybe
I'm totally wrong but I've tested manually this method
(""IPWrapper.add_veth"") and is working as expected.

Change-Id: Ic7dc7636549e10a0cb4cb462e5ff79e1737caf42
"
openstack%2Fmanila~stable%2Fxena~I5ea31e1d46148045ddc92853742f2321045c5680,openstack/manila,stable/xena,manila-stable-jobs,I5ea31e1d46148045ddc92853742f2321045c5680,Use defined project config of manila-tempest-plugin,MERGED,2022-06-30 19:04:41.000000000,2022-07-01 13:17:29.000000000,2022-07-01 13:15:00.000000000,1,10,2,848280,3e4d1292ff21b93d8fdbc0b88c41839d643970ca,13,3,1,1,29632,Carlos Eduardo,silvacarlos,"Use defined project config of manila-tempest-plugin

Due to recent issues we ran into, our jobs needed to be modified
and we needed to control a few variables to be set into the stable
branches.

This change makes use of such modifications and starts using the
project config defined in the manila-tempest-plugin manifests.

Change-Id: I5ea31e1d46148045ddc92853742f2321045c5680
(cherry picked from commit 123db367ed75a10042d1c65644cd6f4b11860ea2)
"
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Ib3e2e10bd7d5cd0eca3d2e86f7c3041105adc42d,openstack/puppet-tripleo,stable/wallaby,drop_collectd_gnocchi-stable/wallaby,Ib3e2e10bd7d5cd0eca3d2e86f7c3041105adc42d,Drop support for collectd-gnocchi,MERGED,2022-06-02 18:44:14.000000000,2022-07-01 13:14:36.000000000,2022-07-01 13:14:36.000000000,14,349,2,844517,149143bc42dcc02710f9f8cfa5945de21eea0c90,11,3,2,3,4264,Matthias Runge,mrunge,"Drop support for collectd-gnocchi

Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844519
Change-Id: Ib3e2e10bd7d5cd0eca3d2e86f7c3041105adc42d
(cherry picked from commit 7e1d6e486a9d5042a1b98f586ce8241d7eeb8308)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Id12c0971fd1c52d92a0983917fe12d42f27364f8,openstack/tripleo-ansible,stable/wallaby,remove_stack_action-stable/wallaby,Id12c0971fd1c52d92a0983917fe12d42f27364f8,Remove stack_action from Octavia deployment,MERGED,2022-06-28 05:56:47.000000000,2022-07-01 13:10:40.000000000,2022-07-01 13:10:40.000000000,0,3,2,847817,9bdc0bbf1e9d38f331f2f0d8248896c34f85f7c5,14,4,1,2,8833,Rabi Mishra,rabi,"Remove stack_action from Octavia deployment

Due to ephemeral Heat, the stack_action will now
always be CREATE. This breaks certain jobs relying on
the UPDATE action. In the case of Octavia, relying
on generate_certs alone should be enough.

Partial-Bug: #1936138
Change-Id: Id12c0971fd1c52d92a0983917fe12d42f27364f8
(cherry picked from commit b26666e9f942eb2e63e06abb0fcb426b4b332e69)
"
openstack%2Ftripleo-ci~master~Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1,openstack/tripleo-ci,master,reparenting-sc010-jobs,Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1,Create sc010 and sc010-ovn-provider -options jobs,MERGED,2022-05-23 13:42:39.000000000,2022-07-01 13:10:37.000000000,2022-07-01 13:10:37.000000000,110,72,58,842976,4e357758bd8d2571049ae5964d1acc10bd4b1237,117,8,20,3,20182,Bhagyashri Shewale,bhagyashris,"Create sc010 and sc010-ovn-provider -options jobs

This patch created sc010 and sc010-ovn-provider options jobs.

Test patch is here: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844950

Change-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1
"
openstack%2Ftripleo-heat-templates~master~I018811a07283644ae7445c92ced958542f97b0e4,openstack/tripleo-heat-templates,master,,I018811a07283644ae7445c92ced958542f97b0e4,Octavia: Remove unnecessary neutronclient package,MERGED,2022-04-22 00:27:33.000000000,2022-07-01 13:10:33.000000000,2022-07-01 13:10:33.000000000,6,18,10,838959,ac5b16012a4f3164c8c607f9960961c7c1810c2e,37,7,6,1,9816,Takashi Kajinami,kajinamit,"Octavia: Remove unnecessary neutronclient package

The neutron cli is no longer used since the dependent patch was merged.
Also CentOS/RHEL 7 is no longer supported so the logic for that old
OS version can be removed.

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/838960
Change-Id: I018811a07283644ae7445c92ced958542f97b0e4
"
openstack%2Ftripleo-heat-templates~master~Icd25f71b408afefb20cf0f26fe8bc87e21d838bb,openstack/tripleo-heat-templates,master,hm-opts,Icd25f71b408afefb20cf0f26fe8bc87e21d838bb,Octavia: Migrate [health_manager] heartbeat_key to base,MERGED,2022-06-02 13:09:53.000000000,2022-07-01 13:10:28.000000000,2022-07-01 13:10:28.000000000,6,8,3,844447,c2a6a56643e66f1e330627784f63885507d5224c,20,6,2,2,9816,Takashi Kajinami,kajinamit,"Octavia: Migrate [health_manager] heartbeat_key to base

The heartbeat_key parameter is used not only by octavia-health-manager
but also by octavia-worker.

This replaces the deprecated octavia::health_manager parameter and
migrates the parameter definition to the base resource, so that
the parameter is configured for both of these two services.

Depends-on: https://review.opendev.org/844360
Change-Id: Icd25f71b408afefb20cf0f26fe8bc87e21d838bb
"
openstack%2Ftripleo-heat-templates~master~Id156bde2d876d64b5c60ab5672acbfe51c757d11,openstack/tripleo-heat-templates,master,bug_1978756,Id156bde2d876d64b5c60ab5672acbfe51c757d11,Fix Cinder Dell EMC Powerflex backend template,MERGED,2022-06-28 16:59:32.000000000,2022-07-01 13:10:24.000000000,2022-07-01 13:10:24.000000000,1,1,1,847740,a0809cbde415aa8239ca60ad7b2198acdd34799c,14,4,2,1,34598,Manojkatari,mkatari,"Fix Cinder Dell EMC Powerflex backend template

The 'CinderPowerFlexServerApiVersion' parameter defined in
cinder-backend-dellemc-powerflex-puppet.yaml is not used.

Puppet hiera parameter powerflex_server_api_version is incorrectly
assigned.

Closes-Bug: #1978756
Change-Id: Id156bde2d876d64b5c60ab5672acbfe51c757d11
"
openstack%2Ftripleo-heat-templates~master~I677ad84c4f86320519e6022449c70c3884b14d05,openstack/tripleo-heat-templates,master,,I677ad84c4f86320519e6022449c70c3884b14d05,neutorn-ironic-agent: Use internal endpoint to query Neutron API,MERGED,2022-05-11 15:23:15.000000000,2022-07-01 13:10:20.000000000,2022-07-01 13:10:20.000000000,1,0,3,841443,4e1940f15fed59fa4c9f1b9489c1cf953c256b33,19,7,1,1,9816,Takashi Kajinami,kajinamit,"neutorn-ironic-agent: Use internal endpoint to query Neutron API

... instead of public endpoint, because internal endpoint should be
used for communication between services.

Depends-on: https://review.opendev.org/841367
Change-Id: I677ad84c4f86320519e6022449c70c3884b14d05
"
openstack%2Fcharm-magpie~master~I784bb410110813472e14b3477247fe138db5c214,openstack/charm-magpie,master,lacp-passive-check,I784bb410110813472e14b3477247fe138db5c214,Optionally ignore LACP activity bit in port check,MERGED,2022-06-16 05:40:58.000000000,2022-07-01 13:06:43.000000000,2022-07-01 13:06:43.000000000,98,1,12,846098,abb21efbae9d9ae28cad0db5bd16aa0a0ce8fee4,29,4,6,3,34352,Samuel Walladge,swalladge,"Optionally ignore LACP activity bit in port check

If the LACP bond on the switch side is configured in passive mode,
the activity mode bit on the port states will usually be mismatched.

Add an option to the charm config to inform when this is expected,
so that the charm will ignore this mismatched bit when checking ports.

Closes-Bug: #1958327

Change-Id: I784bb410110813472e14b3477247fe138db5c214
"
openstack%2Fvalidations-libs~stable%2F1.6~Iad57f033f49f52e0f4861ad362a2f4aeaeeca5f8,openstack/validations-libs,stable/1.6,stable-ci/docs,Iad57f033f49f52e0f4861ad362a2f4aeaeeca5f8,[Stable/1.6-Only] Adding override checkout to docs job,ABANDONED,2022-06-28 06:45:19.000000000,2022-07-01 12:59:01.000000000,,1,0,1,847883,c6232160313fa835457c5d34710e19a8d7cd0fee,15,4,9,1,32926,Jiri Podivin,jpodivin,"[Stable/1.6-Only] Adding override checkout to docs job

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iad57f033f49f52e0f4861ad362a2f4aeaeeca5f8
"
openstack%2Fvalidations-common~stable%2F1.6~I43a0cf6b3164dbd07ccc415afcc47a0083b7e1d7,openstack/validations-common,stable/1.6,stable-ci/docs,I43a0cf6b3164dbd07ccc415afcc47a0083b7e1d7,[Stable/1.6-Only] Adding checkout override for docs job,ABANDONED,2022-06-28 06:45:35.000000000,2022-07-01 12:55:04.000000000,,1,0,0,847884,de1caa3084b89a8f437e0665d559655c1dcbb050,10,4,5,1,32926,Jiri Podivin,jpodivin,"[Stable/1.6-Only] Adding checkout override for docs job

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I43a0cf6b3164dbd07ccc415afcc47a0083b7e1d7
"
openstack%2Flarge-scale~master~I2a5a1aa29fe70d32d25a572073ac746002ff20e7,openstack/large-scale,master,refactor/fix_links_in_rst_documentation,I2a5a1aa29fe70d32d25a572073ac746002ff20e7,Fix links in the rst documentation files,MERGED,2022-07-01 12:27:06.000000000,2022-07-01 12:53:58.000000000,2022-07-01 12:52:45.000000000,7,7,0,848438,31b81b5e5b537a706342e10de9f9cc1d237cf154,7,2,1,2,34533,Ramona Beermann,ramonarautenberg,"Fix links in the rst documentation files

Signed-off-by: Ramona Rautenberg <rautenberg@osism.tech>
Change-Id: I2a5a1aa29fe70d32d25a572073ac746002ff20e7
"
openstack%2Flarge-scale~master~Iaab0c039e13f81c49c8c9144adb2a759e096402f,openstack/large-scale,master,add/largescale_guidelines_documentation,Iaab0c039e13f81c49c8c9144adb2a759e096402f,Transfer guidelines page to rst format,MERGED,2022-07-01 12:03:56.000000000,2022-07-01 12:48:29.000000000,2022-07-01 12:47:21.000000000,30,4,0,848436,afc4f8727add217373c80cdfd7cf16273e824816,7,2,1,1,34533,Ramona Beermann,ramonarautenberg,"Transfer guidelines page to rst format

Signed-off-by: Ramona Rautenberg <rautenberg@osism.tech>
Change-Id: Iaab0c039e13f81c49c8c9144adb2a759e096402f
"
openstack%2Fcharm-mysql-router~master~Id0e6b878f3857f6c590f00f64d6bcaedb51094fc,openstack/charm-mysql-router,master,bug/1969927,Id0e6b878f3857f6c590f00f64d6bcaedb51094fc,Add max_total_connections configuration option,MERGED,2022-05-04 10:01:32.000000000,2022-07-01 12:46:55.000000000,2022-07-01 12:46:55.000000000,30,6,23,840435,6fb39ff8b904230fe5ac4b551dd93364964a3cad,42,4,7,3,33780,Eric Chen,eric-chen,"Add max_total_connections configuration option

Add new configuration max_total_connections

Closes-Bug: #1969927
Change-Id: Id0e6b878f3857f6c590f00f64d6bcaedb51094fc
"
openstack%2Flarge-scale~master~Ie040566682d2cac2d9a84ac19281d222398502ac,openstack/large-scale,master,add/largescale_ceph_documentation,Ie040566682d2cac2d9a84ac19281d222398502ac,Transfer ceph page to rst format,MERGED,2022-07-01 09:57:04.000000000,2022-07-01 12:45:29.000000000,2022-07-01 12:44:18.000000000,32,4,1,848400,ad0d6f01417a59ce5108ca9f756b16fbd9155817,7,2,1,1,34533,Ramona Beermann,ramonarautenberg,"Transfer ceph page to rst format

Signed-off-by: Ramona Rautenberg <rautenberg@osism.tech>
Change-Id: Ie040566682d2cac2d9a84ac19281d222398502ac
"
openstack%2Fvalidations-libs~master~I31c92a77450a57ee0c112a6a515311fcb07bacfa,openstack/validations-libs,master,docs/sphinxbump,I31c92a77450a57ee0c112a6a515311fcb07bacfa,Incrementing sphinx version used for doc building,ABANDONED,2022-07-01 10:14:17.000000000,2022-07-01 12:25:04.000000000,,1,1,0,848403,70b5902de212d1e14e7341cc9048ec2608716d37,3,4,1,1,32926,Jiri Podivin,jpodivin,"Incrementing sphinx version used for doc building

The previous minimum version of Sphinx allowed for incompatible
extensions in some edge cases. Incrementing the minimum version allowed
and propagating this fix downstream addresses the issue.

Related-Bug: #1980465

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I31c92a77450a57ee0c112a6a515311fcb07bacfa
"
openstack%2Fmanila~stable%2Fyoga~Ibb1b7ad8b167c469e213c5de0ce56214c1fcff2b,openstack/manila,stable/yoga,,Ibb1b7ad8b167c469e213c5de0ce56214c1fcff2b,Update image URL and image name,MERGED,2022-06-22 17:54:26.000000000,2022-07-01 12:16:25.000000000,2022-07-01 12:14:39.000000000,2,2,0,847212,2bb2de55bc8395014ab57660a2d54b0d3780519d,11,2,1,1,29632,Carlos Eduardo,silvacarlos,"Update image URL and image name

In order to switch our manila service image to Ubuntu Jammy, we
needed to get in a couple of changes that Modified the flavor for
the manila service image. After all changes got merged, we switched
to the Ubuntu Jammy image [1].

However, now the manila service image master on Tarballs is using
a Ubuntu Jammy image, which requires more resources. It would not
be ideal to backport the changes that modify the flavor to the
stable branches because it is not an actual requirement for them,
and that also forced us to reduce concurrency of some jobs on the
master branch.

Using the Ubuntu Jammy image broke our stable branches CI, since
with less resources we are not able to successfuly spawn a nova
instance using the Ubuntu Jammy image.

In order to avoid that, this change will modify the manila service
image to be used in the stable branches. This selected version
is the latest built whilst still using Ubuntu Focal. This will
allow tests to pass on stable branches, since Manila will be able
to spawn VMs using this image.

[1] https://review.opendev.org/c/openstack/manila-image-elements/+/841264

Change-Id: Ibb1b7ad8b167c469e213c5de0ce56214c1fcff2b
"
openstack%2Fneutron~stable%2Fwallaby~Icfa2d94e123268679cf152e00e2e3d45162f10b1,openstack/neutron,stable/wallaby,migration-stable/yoga-stable/xena-stable/wallaby,Icfa2d94e123268679cf152e00e2e3d45162f10b1,migration: Remove patch port between br-int and br-tun,MERGED,2022-06-30 16:37:04.000000000,2022-07-01 12:15:38.000000000,2022-07-01 12:13:16.000000000,1,0,0,848278,c390b2ab6ce4e9e3152dc576774d4d573c4431e2,10,3,1,1,8655,Jakub Libosvar,jlibosva,"migration: Remove patch port between br-int and br-tun

After migration there is one side of patch port on the integration
bridge. It has no impact on functionality but it's better to remove it.

Change-Id: Icfa2d94e123268679cf152e00e2e3d45162f10b1
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 1f0708b352fc846ab5d8d0bc55b812bb8fbcf303)
"
openstack%2Fneutron~stable%2Fxena~Icfa2d94e123268679cf152e00e2e3d45162f10b1,openstack/neutron,stable/xena,migration-stable/yoga-stable/xena,Icfa2d94e123268679cf152e00e2e3d45162f10b1,migration: Remove patch port between br-int and br-tun,MERGED,2022-06-30 16:36:57.000000000,2022-07-01 12:15:23.000000000,2022-07-01 12:13:12.000000000,1,0,0,848277,bc1dd6939d197d15799aaf252049f76442866c21,10,3,1,1,8655,Jakub Libosvar,jlibosva,"migration: Remove patch port between br-int and br-tun

After migration there is one side of patch port on the integration
bridge. It has no impact on functionality but it's better to remove it.

Change-Id: Icfa2d94e123268679cf152e00e2e3d45162f10b1
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 1f0708b352fc846ab5d8d0bc55b812bb8fbcf303)
"
openstack%2Fneutron~stable%2Fyoga~Icfa2d94e123268679cf152e00e2e3d45162f10b1,openstack/neutron,stable/yoga,migration-stable/yoga,Icfa2d94e123268679cf152e00e2e3d45162f10b1,migration: Remove patch port between br-int and br-tun,MERGED,2022-06-30 16:36:49.000000000,2022-07-01 12:15:13.000000000,2022-07-01 12:13:08.000000000,1,0,1,848276,fc8d088dd2da0acd1092bc2238f367a713602388,9,3,1,1,8655,Jakub Libosvar,jlibosva,"migration: Remove patch port between br-int and br-tun

After migration there is one side of patch port on the integration
bridge. It has no impact on functionality but it's better to remove it.

Change-Id: Icfa2d94e123268679cf152e00e2e3d45162f10b1
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 1f0708b352fc846ab5d8d0bc55b812bb8fbcf303)
"
openstack%2Fvalidations-common~master~I027ba43989e75c35de01400356acfc9d36fc1d24,openstack/validations-common,master,doc/sphinxbump,I027ba43989e75c35de01400356acfc9d36fc1d24,Constraining sphinx version used for doc building,ABANDONED,2022-07-01 10:58:33.000000000,2022-07-01 11:30:36.000000000,,1,1,0,848408,1cbff8710b2d1db22d1047a9eb1927769bdc9ce5,5,1,2,1,32926,Jiri Podivin,jpodivin,"Constraining sphinx version used for doc building

The previous minimum version of Sphinx allowed for incompatible
extensions in some edge cases. Incrementing and capping the minimum version allowed
and propagating this fix downstream addresses the issue.

Related-Bug: #1980465

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I027ba43989e75c35de01400356acfc9d36fc1d24
"
openstack%2Fneutron~master~I984dad79505b85822ffdd9a088a04b6ed5a14f27,openstack/neutron,master,,I984dad79505b85822ffdd9a088a04b6ed5a14f27,"Mellanox_eth.img url expires, remove the mellanox_eth.img node",MERGED,2022-06-29 05:39:13.000000000,2022-07-01 11:21:25.000000000,2022-07-01 11:19:23.000000000,1,7,2,848074,1e5d43a2f324bcc8ebbe544de8a6cb6a08deb795,14,4,2,1,35025,renliang,renliang17,"Mellanox_eth.img url expires, remove the mellanox_eth.img node

Mellanox_eth. Img download link failure,
delete the http://www.mellanox.com/repository/solutions/openstack/images/mellanox_eth.img node

Change-Id: I984dad79505b85822ffdd9a088a04b6ed5a14f27
"
openstack%2Fpython-openstackclient~master~I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc,openstack/python-openstackclient,master,844268,I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc,Fix: create image from volume command,MERGED,2022-06-01 09:25:02.000000000,2022-07-01 11:20:52.000000000,2022-07-01 11:19:14.000000000,128,3,11,844268,9eea28ba59e44526b9d6f1ad9f80c3553d5853e2,26,4,4,3,27615,Rajat Dhasmana,whoami-rajat,"Fix: create image from volume command

Currently the command ``openstack image create --volume`` calls cinderclient
to upload the volume to image service (glance) but OSC passes ``visibility``
and ``protected`` fields which are only available in microversion 3.1 or
greater. This generates an error if the user is using volume microversion
< 3.1 and wants to create an image from volume.
This patch fixes that by only passing ``visibility`` and ``protected`` fields
when the volume microversion is 3.1 or greater and fail otherwise i.e. the
following 3 cases:
1) visibility/protected argument + mv >= 3.1 = pass
2) visibility/protected argument + mv < 3.1 = fail
3) not visibility/protected argument + any mv = pass

Story: 2010060
Task: 45511
Change-Id: I568a0ea0af8f7f82b16d49a6a1bb0391b99c50dc
"
openstack%2Fneutron~stable%2Fyoga~I9e6e05b7a4f36383a44bd80f07d25052b17bdfa0,openstack/neutron,stable/yoga,stateful_nat-stable/yoga,I9e6e05b7a4f36383a44bd80f07d25052b17bdfa0,ovn: revert to stateful dnat_and_snat,MERGED,2022-06-30 19:35:48.000000000,2022-07-01 11:03:38.000000000,2022-07-01 11:02:15.000000000,101,51,2,848283,ce06020addcbb56550a3da48b969f31005f101db,10,3,1,9,9656,Ihar Hrachyshka,ihrachys,"ovn: revert to stateful dnat_and_snat

This is an effective revert of:
I312a950131d62d93fb4bc121bc5e60febb8d35ee
""ovn: use stateless NAT rules for FIPs"".

The performance benefits promised by the ""reverted"" patch never
materialized. On the contrary, the discussion in [1] revealed that the
switch to stateless=true made it impossible to fully hw offload nat
rules, while it's possible with stateless=false.  Specifically, see this
comment [2].

Since at this point it's unclear if keeping stateless=true as an option
is beneficial for any case, even when w/o hw offload, and to avoid
complexity of introducing a config option for unclear benefit, this
patch reverts the effects of the original patch, switching all
dnat_and_snat objects to implicit stateless=false state.

This patch cannot be a clean revert because of the need for db
migration.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2004995
[2] https://bugzilla.redhat.com/show_bug.cgi?id=2004995#c18

Change-Id: I9e6e05b7a4f36383a44bd80f07d25052b17bdfa0
(cherry picked from commit ffd64df9d306bf56091b2f3ae8a8f579f578de53)
"
openstack%2Ftripleo-heat-templates~master~I3d7cda24ac6eb9b105a1a93440df290413b16ab1,openstack/tripleo-heat-templates,master,aoth-typo,I3d7cda24ac6eb9b105a1a93440df290413b16ab1,Fix typo in aodh-base template,MERGED,2022-06-28 04:48:21.000000000,2022-07-01 10:39:08.000000000,2022-07-01 10:39:08.000000000,2,2,7,847875,340a8625c54543720eae798a5139a1ad9745e1ec,24,8,1,1,20733,Rajesh Tailor,rajesht,"Fix typo in aodh-base template

This change fixes typo in aodh-base template from
aoth to aodh when setting hiera params.

Change-Id: I3d7cda24ac6eb9b105a1a93440df290413b16ab1
"
openstack%2Fheat~master~I71f8398b6aa57b7c1910750b8e048825383e3d9a,openstack/heat,master,,I71f8398b6aa57b7c1910750b8e048825383e3d9a,Use constraints when creating venv for grenade,MERGED,2022-06-30 05:30:13.000000000,2022-07-01 10:35:59.000000000,2022-07-01 10:33:42.000000000,6,2,3,848215,39d653fa5741e45d26388950270e7ed3ca489b89,17,3,1,2,8833,Rabi Mishra,rabi,"Use constraints when creating venv for grenade

As a followup for change I6a8cffdc86c895eebe4269c5cd37841325566c54
let's use branch specific upper constraints when running tests in
grenade.

Change-Id: I71f8398b6aa57b7c1910750b8e048825383e3d9a
"
openstack%2Freleases~master~Ib461bdb37e9c918477ad91e86afcd6ee6aee3fe8,openstack/releases,master,cinder-tempest-plugin,Ib461bdb37e9c918477ad91e86afcd6ee6aee3fe8,Release cinder-tempest-plugin 1.7.0,MERGED,2022-06-30 09:25:13.000000000,2022-07-01 10:02:44.000000000,2022-07-01 10:02:44.000000000,5,0,3,848238,e82e232c5704440aef6edbdf9fda1b632a2fb54e,10,5,1,1,10459,Luigi Toscano,ltoscano,"Release cinder-tempest-plugin 1.7.0

Intermediate release. There are a few useful changes compared
to the previous tag.

Change-Id: Ib461bdb37e9c918477ad91e86afcd6ee6aee3fe8
"
openstack%2Fpython-manilaclient~master~I3e8a04904ba387161841a677442b00b4a5456c4d,openstack/python-manilaclient,master,bp/openstack-client-support,I3e8a04904ba387161841a677442b00b4a5456c4d,[OSC] Implement Share Migration Start Command,MERGED,2022-04-03 08:43:04.000000000,2022-07-01 10:00:31.000000000,2022-07-01 09:59:13.000000000,215,5,65,836239,fa84d6118c59a4fa9b0d72d02adee24a367aeaa9,62,3,16,4,21785,Namrata,namrata,"[OSC] Implement Share Migration Start Command

This commit adds 'openstack share migration start'
command, that implement the same functionality as 'manila migration-start'
command.

Partially-implements: bp openstack-client-support
Change-Id: I3e8a04904ba387161841a677442b00b4a5456c4d
"
openstack%2Fneutron~master~I67df1820bfd681de44b8568b46cbc95dd940c024,openstack/neutron,master,bug/1906490,I67df1820bfd681de44b8568b46cbc95dd940c024,Temporary blacklist test_reboot_server_hard in OVN IPv6 job,MERGED,2020-12-02 09:05:43.000000000,2022-07-01 09:39:58.000000000,2020-12-15 19:43:46.000000000,3,0,0,765070,7c95150c84d77f3eae69def5b1328243ccec248a,18,4,2,1,11975,Slawek Kaplonski,slaweq,"Temporary blacklist test_reboot_server_hard in OVN IPv6 job

It's blacklisted due to related bug. When the bug will be fixed we
should restore this test to be run in the gate.

Change-Id: I67df1820bfd681de44b8568b46cbc95dd940c024
Related-Bug: #1906490
"
openstack%2Fkolla~master~If81989603185528dae86df52e8f8d0f94cdca85d,openstack/kolla,master,kolla-version,If81989603185528dae86df52e8f8d0f94cdca85d,Change kolla_version LABEL to git sha-1,MERGED,2021-11-22 10:08:28.000000000,2022-07-01 09:37:42.000000000,2022-07-01 09:36:30.000000000,12,1,40,818727,ad7b9054ca5ebc53031a10dc3f03675c88845b11,58,6,8,3,27339,Michal Arbet,michalarbet,"Change kolla_version LABEL to git sha-1

Downstream users are often building their own
custom images from their own forked git.
Reasoning can be various - added fixes not merged yet,
some customizations and etc.

Because of this, it's very usefull to have information
about git commit in images, and this is exactly what
that patch does.

If images are built from pip source, kolla_version
LABEL contains kolla version.

Change-Id: If81989603185528dae86df52e8f8d0f94cdca85d
"
openstack%2Fkolla-ansible~stable%2Fvictoria~Idb8a82acbd8193fd3fe71c080a1c57e8614d89ec,openstack/kolla-ansible,stable/victoria,fix/ironic_user_for_ironic_neutron_agent-stable/victoria,Idb8a82acbd8193fd3fe71c080a1c57e8614d89ec,use ironic user in ironic_neutron_agent.ini file,MERGED,2022-06-30 19:58:41.000000000,2022-07-01 09:15:43.000000000,2022-07-01 09:14:22.000000000,3,3,0,848286,851cf7c6d38f24b08f9b1fcb84fd1688a7100445,9,3,1,1,15197,Pierre Riteau,priteau,"use ironic user in ironic_neutron_agent.ini file

Signed-off-by: Bernd Mueller <mueller@b1-systems.de>
Change-Id: Idb8a82acbd8193fd3fe71c080a1c57e8614d89ec
(cherry picked from commit ae69994db7756399576c117697aef0fbbd14a2d2)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Idb8a82acbd8193fd3fe71c080a1c57e8614d89ec,openstack/kolla-ansible,stable/wallaby,fix/ironic_user_for_ironic_neutron_agent-stable/wallaby,Idb8a82acbd8193fd3fe71c080a1c57e8614d89ec,use ironic user in ironic_neutron_agent.ini file,MERGED,2022-06-30 19:55:55.000000000,2022-07-01 09:15:40.000000000,2022-07-01 09:14:20.000000000,3,3,1,848285,4be435470c0d7be7ad9cd863ceb937885ff81e3c,10,3,1,1,15197,Pierre Riteau,priteau,"use ironic user in ironic_neutron_agent.ini file

Signed-off-by: Bernd Mueller <mueller@b1-systems.de>
Change-Id: Idb8a82acbd8193fd3fe71c080a1c57e8614d89ec
(cherry picked from commit ae69994db7756399576c117697aef0fbbd14a2d2)
"
openstack%2Fansible-role-redhat-subscription~master~I04b6e8ed0c265021697ed574c55fc8b21eb66395,openstack/ansible-role-redhat-subscription,master,no_check_container,I04b6e8ed0c265021697ed574c55fc8b21eb66395,Add missing environment for a couple of tasks,MERGED,2022-07-01 07:52:43.000000000,2022-07-01 09:12:35.000000000,2022-07-01 09:12:35.000000000,4,0,4,848391,f703e5c494752e3a0e05aa02cd284b591a0d7959,11,7,1,2,28223,Cedric Jeanneret,cjeanner,"Add missing environment for a couple of tasks

If564089fb1cb77366fa6d6f8e4086691a4dfcf37 introduced a new parameter,
allowing to disable container validation by setting the
SMDEV_CONTAINER_OFF environment variable.

A couple of places were overlooked, leading to issues, especially in a
satellite-6 enabled environment.

Resolves: rhbz#2102906
Change-Id: I04b6e8ed0c265021697ed574c55fc8b21eb66395
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ic12dd0a099a2a13fa058677dc3c327b808173893,openstack/tripleo-ansible,stable/wallaby,make_osd_spec_flexible-stable/wallaby,Ic12dd0a099a2a13fa058677dc3c327b808173893,Make osds spec extra keys more flexible,MERGED,2022-07-01 00:39:25.000000000,2022-07-01 09:12:15.000000000,2022-07-01 09:10:48.000000000,1,8,0,848288,02ad913f592cf024d5e6bf28dd2f4b68addf3997,8,3,1,1,18002,John Fulton,fultonj,"Make osds spec extra keys more flexible

We need to be flexible enough and allow all the options provided by
drivegroups implementation [1].
This patch removes the ALLOWED_EXTRA_KEYS constraint built against the
OSD spec passed to the module.

[1] https://docs.ceph.com/en/latest/cephadm/services/osd/#additional-options

Change-Id: Ic12dd0a099a2a13fa058677dc3c327b808173893
(cherry picked from commit 3906d5245781c7b1338caed8cd00b90fbc63cb6e)
"
openstack%2Ftripleo-quickstart~master~Id9d512b0d11e1006f4bb41eb6e6ce7aecdf63819,openstack/tripleo-quickstart,master,bug1978969,Id9d512b0d11e1006f4bb41eb6e6ce7aecdf63819,"Revert ""Temp downgrade of libvirt 8.4.x - failing tempest""",MERGED,2022-06-30 15:40:58.000000000,2022-07-01 08:57:25.000000000,2022-07-01 08:55:58.000000000,0,12,2,848273,eb9f5547bf80973d3ca7d2801f8ac11ed92966a5,13,10,1,4,34208,Rafael Castillo,rcastill,"Revert ""Temp downgrade of libvirt 8.4.x - failing tempest""

This reverts commit 98d0085b5bacc10cebcc670738d8fee6bdb82210.

Reason for revert: Underlying bug fixed in libvirt-8.4.0-3

Change-Id: Id9d512b0d11e1006f4bb41eb6e6ce7aecdf63819
"
openstack%2Ftripleo-heat-templates~master~Id16a374b5ecd1c8ea9141f99872096b18c14343f,openstack/tripleo-heat-templates,master,,Id16a374b5ecd1c8ea9141f99872096b18c14343f,Fix commands for configure_ovn_north/south_db_server,MERGED,2022-06-30 12:14:58.000000000,2022-07-01 08:57:00.000000000,2022-07-01 08:57:00.000000000,16,10,2,848262,c62903f7f725b166896e4e646cb74ad08f55df87,11,8,1,1,13861,yatin,yatinkarel,"Fix commands for configure_ovn_north/south_db_server

This fixes the regression caused by [1] and ensures the whole command
is passed as a single element, so that it is properly handled by
kolla_start.

[1] 5a43e8a30704692f3eb184cce694dec52ed77635

Change-Id: Id16a374b5ecd1c8ea9141f99872096b18c14343f
"
openstack%2Fpython-saharaclient~master~I60f1f739f25755cd344fe45e76d225712fedc40f,openstack/python-saharaclient,master,,I60f1f739f25755cd344fe45e76d225712fedc40f,"Dropping lower constraints testing and remove py36,py37 support",MERGED,2021-10-26 02:10:28.000000000,2022-07-01 08:56:53.000000000,2022-07-01 08:54:26.000000000,3,82,3,815401,84555b6c2dc35eb9f97f2c1e57c745f6c9a8e946,19,4,3,4,31412,Wenping Song,songwenping,"Dropping lower constraints testing and remove py36,py37 support

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I60f1f739f25755cd344fe45e76d225712fedc40f
"
openstack%2Flarge-scale~master~I1c9c41a1bc4be2643cef25ebdcef5188afe60281,openstack/large-scale,master,add/more_files_for_documentation,I1c9c41a1bc4be2643cef25ebdcef5188afe60281,Add more files for the documentation in rst format,MERGED,2022-07-01 08:25:53.000000000,2022-07-01 08:54:32.000000000,2022-07-01 08:53:20.000000000,21,0,0,848392,97066f83993c20b5829edfe782ac88d811bc63d5,9,2,2,4,34533,Ramona Beermann,ramonarautenberg,"Add more files for the documentation in rst format

Signed-off-by: Ramona Rautenberg <rautenberg@osism.tech>
Change-Id: I1c9c41a1bc4be2643cef25ebdcef5188afe60281
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I4d0fef3fe2f821ad694858b0bf109b555f736823,openstack/tripleo-heat-templates,stable/wallaby,rhsm/no-empty-parameter_defaults-stable/wallaby,I4d0fef3fe2f821ad694858b0bf109b555f736823,"Comment out the empty ""parameter_defaults""",MERGED,2022-06-30 13:53:37.000000000,2022-07-01 08:48:08.000000000,2022-07-01 08:48:08.000000000,23,21,1,848272,e9bccbe4406b6b24e292dcdd0b81c433ccc41f05,10,6,1,1,28223,Cedric Jeanneret,cjeanner,"Comment out the empty ""parameter_defaults""

If an operator passes this file and gets their actual RHSM data in
another environment file, such as:
openstack overcloud deploy \
  -e /usr/share/openstack-tripleo-heat-templates/environments/rhsm.yaml \
  -e /home/stack/custom-rhsm.yaml

it will fail with the following error:
ValueError: environment has empty section ""parameter_defaults""

Commenting out the empty parameter_defaults will avoid this kind of
issue - while allowing the operator to still pass their files.

Change-Id: I4d0fef3fe2f821ad694858b0bf109b555f736823
(cherry picked from commit 226d5cb2a60b27fddb0995fa89ac1e2a0f1db5d8)
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Iddd6a2796ec73314dc750163ac03c598407355ba,openstack/python-tripleoclient,stable/wallaby,upgrade_wallaby,Iddd6a2796ec73314dc750163ac03c598407355ba,WIP upgrade changes TBD,ABANDONED,2022-06-06 09:43:20.000000000,2022-07-01 08:26:56.000000000,,162,138,55,844818,569f78fde6c1220300aff53bcd3a4e419f36854c,15,3,4,4,22954,Juan Badia Payno,jbadiapa,"WIP upgrade changes TBD

Change-Id: Iddd6a2796ec73314dc750163ac03c598407355ba
"
openstack%2Fpython-tripleoclient~master~Iba1a6eb7ecaf8fb50fb891bcfafa07f88f3c3a0a,openstack/python-tripleoclient,master,overcloud_deploy,Iba1a6eb7ecaf8fb50fb891bcfafa07f88f3c3a0a,WIP overcloud_upgrade,ABANDONED,2022-06-02 10:05:35.000000000,2022-07-01 08:26:38.000000000,,3,16,1,844412,b30b078e2a81966654e34a6881a97598b4513028,3,1,1,1,22954,Juan Badia Payno,jbadiapa,"WIP overcloud_upgrade

Change-Id: Iba1a6eb7ecaf8fb50fb891bcfafa07f88f3c3a0a
"
openstack%2Fcharm-keystone-ldap~master~I2668d90a58aac9d103240dc67061612358a67150,openstack/charm-keystone-ldap,master,ldap-anon-bind,I2668d90a58aac9d103240dc67061612358a67150,Support ldap anonymous binding,MERGED,2022-06-22 04:54:46.000000000,2022-07-01 08:12:32.000000000,2022-07-01 08:08:52.000000000,11,8,12,847121,cb7fdb3527eda513554a521e8b594d36c168be3b,32,3,5,5,34352,Samuel Walladge,swalladge,"Support ldap anonymous binding

We can support this simply by allowing ldap-user and ldap-password
configuration options to be optional.

Closes-Bug: #1762587

Co-authored-by: Vern Hart <vern.hart@canonical.com>

Change-Id: I2668d90a58aac9d103240dc67061612358a67150
"
openstack%2Ftacker~master~I32c041b8fd996b9b338fe97eb1604567fd6b6aaf,openstack/tacker,master,bp/remove-cnf-restriction,I32c041b8fd996b9b338fe97eb1604567fd6b6aaf,Enable multiple VNFs creation from one package,MERGED,2022-04-21 14:27:17.000000000,2022-07-01 07:52:40.000000000,2022-07-01 07:51:19.000000000,839,301,2,838908,a89d5b284d423e57c2ff60707a14c7ec267247ed,25,5,8,18,31857,Ayumu Ueha,ueha,"Enable multiple VNFs creation from one package

This patch removes the restriction that only one VNF can be created from
a single VNF package when deploying CNFs.
The process of associating the `VDU.properties.name` in VNFD with the
actual resource name has changed by adding the `vdu_mapping` parameter
to InstantiateVnfRequest.additionalParams.

The patch also updates the documentation to remove the restriction and
add how to instantiate with `vdu_mapping` parameter.

Implements: blueprint remove-cnf-restriction
Change-Id: I32c041b8fd996b9b338fe97eb1604567fd6b6aaf
"
openstack%2Fnova~master~I5c3fff65fd6d9e4f3632d1ec62ae3f1f9cfbe626,openstack/nova,master,bug/1979047,I5c3fff65fd6d9e4f3632d1ec62ae3f1f9cfbe626,zuul: Temporarly put Centos9 Stream job non-voting,MERGED,2022-06-17 10:03:11.000000000,2022-07-01 07:47:04.000000000,2022-06-18 04:13:38.000000000,6,0,2,846292,45c0a3884b6b4c0b9a6b1b3cef47651f5504502e,22,3,2,1,7166,Sylvain Bauza,sbauza,"zuul: Temporarly put Centos9 Stream job non-voting

Due to the bug below, all the nova patches are failing. I accordingly
propose to make the job non-voting as it would allow our gate to ressurect.

Of course, this is a transient solution and we need a proper fix for the
job in order to have Centos 9 Stream support back in place ASAP.

When the job is back OK, please make it voting again by reverting this patch.

Change-Id: I5c3fff65fd6d9e4f3632d1ec62ae3f1f9cfbe626
Related-Bug: #1979047
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I791407490dcdddb927d488aa73856cd3ef7191bb,openstack/python-tripleoclient,stable/wallaby,,I791407490dcdddb927d488aa73856cd3ef7191bb,Refactor deploy validations for ephemeral heat,MERGED,2022-06-30 13:06:52.000000000,2022-07-01 07:27:27.000000000,2022-07-01 07:26:11.000000000,109,312,1,848293,8e3d3cbc0f1aaeff49128a149284a3b37f3020cf,12,3,2,8,7144,James Slagle,slagle,"Refactor deploy validations for ephemeral heat

All these validations are not executed with ephemeral
heat. With this we'll save stack environment to disk
and validate using it in the next deployment.

Note: Some of these validations have been changed to
not use saved stack environment as we don't update
the stack anymore.

Also cleans up some usage of existing stack in code.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/846943
Change-Id: I791407490dcdddb927d488aa73856cd3ef7191bb
(cherry picked from commit 5a6c8fc0c38346140e0f2f45aa4e16f0612845fc)
"
openstack%2Fkayobe~master~I636e761cf95642774b5d796cbe044f865fddfe15,openstack/kayobe,master,rav-wrongvar,I636e761cf95642774b5d796cbe044f865fddfe15,corrected wrong variable name in documentation: selinux_do_reboot -> disable_selinux_do_reboot,ABANDONED,2022-06-30 14:58:23.000000000,2022-07-01 07:21:15.000000000,,2,2,1,848308,dc6ac67d92ad0a815b0806b2980c60c0198a683c,4,2,1,1,34940,Rafal Lewandowski,rav,"corrected wrong variable name in documentation:
selinux_do_reboot -> disable_selinux_do_reboot

Change-Id: I636e761cf95642774b5d796cbe044f865fddfe15
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I9ab2fd33660022ea105e40ad5aa4f92186118abb,openstack/tripleo-heat-templates,stable/wallaby,fix_upgrade,I9ab2fd33660022ea105e40ad5aa4f92186118abb,Remove StackAction/StackUpdateType,MERGED,2022-06-22 04:27:27.000000000,2022-07-01 06:56:36.000000000,2022-07-01 06:54:57.000000000,5,48,3,846943,b07ba1054268910c7d65f6ae4edc112b81e23f8e,25,4,3,5,8833,Rabi Mishra,rabi,"Remove StackAction/StackUpdateType

Now that we don't update overcloud stacks with ephemeral heat,
we can drop these.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/846942
Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/848119
Change-Id: I9ab2fd33660022ea105e40ad5aa4f92186118abb
(cherry picked from commit 936aa927d7a0db572d33ebf59da74b02bd748bc1)
"
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I2097c9e578713ac43e7360566e786dd92b4ebec0,openstack/puppet-tripleo,stable/wallaby,nonbundle_removal-stable/wallaby,I2097c9e578713ac43e7360566e786dd92b4ebec0,Drop non-bundle manila,MERGED,2022-06-29 23:28:09.000000000,2022-07-01 06:54:54.000000000,2022-07-01 06:54:54.000000000,0,87,0,848119,2219af2d67fcfa93c5ec7f9bc67bdc7241bc3005,10,3,2,1,9816,Takashi Kajinami,kajinamit,"Drop non-bundle manila

Just like we did via Id1340c45679d720cdf5ed9b5b15347d73cffc445
(Drop all non bundle implementations), let's also drop the non-bundle
implementation of manila

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/848118

Change-Id: I2097c9e578713ac43e7360566e786dd92b4ebec0
(cherry picked from commit 5b5ee3fdcf92b70173db168c8f65b1117c89e966)
"
openstack%2Fglance~master~I36ef2c59628332fd898b34f94fc9e623ff0f46ce,openstack/glance,master,cinder-user-domain-docs,I36ef2c59628332fd898b34f94fc9e623ff0f46ce,Document domain-related cinder backend options,MERGED,2021-06-24 16:59:05.000000000,2022-07-01 06:32:06.000000000,2022-07-01 06:30:51.000000000,38,0,1,797989,d8a9b1062b144d61dd6856db9b585cb2a5f8fe22,10,3,1,1,9542,Pavlo Shchelokovskyy,pshchelo,"Document domain-related cinder backend options

followup to I1d6c07b6c0e7e6a4da9adabaa026f024b64bb029

add cinder_user_domain_name and cinder_project_domain_name options
to the cinder backend configuration documentation.

Change-Id: I36ef2c59628332fd898b34f94fc9e623ff0f46ce
Related-Bug: #1930299
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I7ae78f506f0b0c8020edde6f679ace13a71e604a,openstack/tripleo-heat-templates,stable/wallaby,nonbundle_removal-stable/wallaby,I7ae78f506f0b0c8020edde6f679ace13a71e604a,Drop non-bundle manila from puppet-config,MERGED,2022-06-29 23:27:22.000000000,2022-07-01 06:22:38.000000000,2022-07-01 06:22:38.000000000,1,1,0,848118,bec4f45c63eb9786e966ab04a8277f9861657828,12,4,2,1,9816,Takashi Kajinami,kajinamit,"Drop non-bundle manila from puppet-config

Drop ""include tripleo::profile::pacemaker::manila"" and replace it with
""include tripleo::profile::pacemaker::manila::share_bundle"" so we can
eventually drop the non-bundle implementation of manila-share.

Both puppet manifests end up including the base manila profile anyways.

Change-Id: I7ae78f506f0b0c8020edde6f679ace13a71e604a
(cherry picked from commit 34b7d28e6c1e02655d346a18ac4daaa4d478ada6)
"
openstack%2Fglance~master~I50cc6fcd94175767d26bdbce59b28fbe25b86c43,openstack/glance,master,,I50cc6fcd94175767d26bdbce59b28fbe25b86c43,Add release notes link to README,NEW,2018-06-12 11:40:39.000000000,2022-07-01 06:21:51.000000000,,4,0,2,574701,f419ad042a59271399fda7a44bc149b081162875,6,3,2,1,27366,guotao,taoguo,"Add release notes link to README

Change-Id: I50cc6fcd94175767d26bdbce59b28fbe25b86c43
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id16a374b5ecd1c8ea9141f99872096b18c14343f,openstack/tripleo-heat-templates,stable/train,,Id16a374b5ecd1c8ea9141f99872096b18c14343f,Fix commands for configure_ovn_north/south_db_server,ABANDONED,2022-06-30 12:15:58.000000000,2022-07-01 05:48:07.000000000,,16,10,2,848270,3821e8a1a0c1cd3f23d42cac9ef683aebc132333,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix commands for configure_ovn_north/south_db_server

This fixes the regression caused by [1] and ensures the whole command
is passed as a single element, so that it is properly handled by
kolla_start.

[1] 5a43e8a30704692f3eb184cce694dec52ed77635

Change-Id: Id16a374b5ecd1c8ea9141f99872096b18c14343f
"
openstack%2Fpython-tripleoclient~master~I40073c57a7ca283ae913bd78c248bc4cf56da3a8,openstack/python-tripleoclient,master,,I40073c57a7ca283ae913bd78c248bc4cf56da3a8,Default working_dir for overcloud credential command,MERGED,2022-06-28 10:45:34.000000000,2022-07-01 05:40:06.000000000,2022-07-01 05:38:53.000000000,7,3,3,847947,43bfc1fb96963e8ab88c6f7bafc52ce1ced228e2,14,6,2,1,7144,James Slagle,slagle,"Default working_dir for overcloud credential command

parsed_args.working_dir was not defaulted to a value when it was not
specified, leading to a traceback.

Change-Id: I40073c57a7ca283ae913bd78c248bc4cf56da3a8
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fneutron~master~Ia97fc084dcbdfbced0c2cc79f127a97b4d97d1e3,openstack/neutron,master,bug/1979047,Ia97fc084dcbdfbced0c2cc79f127a97b4d97d1e3,[fips jobs] blacklist AttachInterfacesTestJSON tempest test,MERGED,2022-06-21 05:51:46.000000000,2022-07-01 05:39:14.000000000,2022-06-21 17:05:19.000000000,12,0,6,846905,a1384678b88fc7ffb5eeccfbfc0da16a9cb8910a,20,6,2,1,13861,yatin,yatinkarel,"[fips jobs] blacklist AttachInterfacesTestJSON tempest test

libvirt-8.4.0-1.el9 caused a regression which resulted into
AttachInterfacesTestJSON and test_hotplug_nic tempest test to
fail, until fixed libvirt version is available in CentOS 9-Stream
repos, let's exclude these tests from jobs running
on CentOS 9-Stream.

Related-Bug: #1979047
Related-Bug: rhbz#2092856
Change-Id: Ia97fc084dcbdfbced0c2cc79f127a97b4d97d1e3
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~If825271ec82f4906cf9ad433a3e4b848f7f2e685,openstack/tripleo-ansible,stable/wallaby,cleanup-endpoints-stable/wallaby,If825271ec82f4906cf9ad433a3e4b848f7f2e685,Cleanup Keystone services that are not required,MERGED,2022-06-30 12:56:36.000000000,2022-07-01 05:37:46.000000000,2022-07-01 05:35:38.000000000,53,0,1,848271,258cf821e6058480739bc26ecb9054ffbbcf8174,11,4,1,4,11166,Lukas Bezdicka,xbezdick,"Cleanup Keystone services that are not required

Occassionally, services are disabled by the user. This
can happen during upgrades on the undercloud. But it can
also be invoked by a user who is removing a service.

This change introduces a block to cleanup keystone services
that are no longer required.

Resolves: rhbz#2080199
Change-Id: If825271ec82f4906cf9ad433a3e4b848f7f2e685
(cherry picked from commit 1d9093bbefa0433b974a2d104b4e7aeffb600f9b)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I750ff2146f2c289fea86c111b651f32ef992ece4,openstack/tripleo-ansible,stable/wallaby,fix_upgrade,I750ff2146f2c289fea86c111b651f32ef992ece4,Remove usage of stack_action/stack_update_type,MERGED,2022-06-22 04:26:50.000000000,2022-07-01 05:36:50.000000000,2022-07-01 05:35:35.000000000,4,8,8,846942,e9cf875ba2ed0ec4a304bee17c07f0f0fa0ee50b,29,3,1,5,8833,Rabi Mishra,rabi,"Remove usage of stack_action/stack_update_type

They are not relevant with ephemeral heat and not used anywhere.

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/846941
Change-Id: I750ff2146f2c289fea86c111b651f32ef992ece4
(cherry picked from commit e67ce7304d4d922b2379e94038f51d9298852aa5)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I4dfab1122c1b42e04dff57b514bf4b853ab53543,openstack/tripleo-heat-templates,stable/wallaby,drop_collectd_gnocchi-stable/wallaby,I4dfab1122c1b42e04dff57b514bf4b853ab53543,Remove support for collectd-gnocchi,MERGED,2022-06-02 18:53:12.000000000,2022-07-01 05:35:32.000000000,2022-07-01 05:35:32.000000000,2,167,14,844519,80e3b537005303375c3a8d7cc7eb335fb0e648d1,45,5,2,2,4264,Matthias Runge,mrunge,"Remove support for collectd-gnocchi

This should not be used, it is easy to overwhelm gnocchi
by setting collectd to send data there.

Conflicts:
	deployment/metrics/collectd-container-puppet.yaml

Resolved conflict caused by c5c558229eaedfac0dcba5fbbf3983649aa1182c .

Change-Id: I4dfab1122c1b42e04dff57b514bf4b853ab53543
(cherry picked from commit 7fcaf62a896f61de3eec325a3328693e06626dc3)
"
openstack%2Fsahara~master~I9b5f826863fd913241cb803ef479b890f74fbb6c,openstack/sahara,master,,I9b5f826863fd913241cb803ef479b890f74fbb6c,Update python testing as per zed cycle testing runtime,MERGED,2022-06-04 03:01:45.000000000,2022-07-01 04:41:46.000000000,2022-07-01 04:40:21.000000000,6,9,7,844655,c943f4a510a0f022ebce8364c2bc2e6fa23b3cf7,22,4,4,3,27190,Leopard Ma,LeopardMa,"Update python testing as per zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I9b5f826863fd913241cb803ef479b890f74fbb6c
"
openstack%2Fopenstack-health~master~I7077077244baf40e77791f61a36d8009a5f4ba7b,openstack/openstack-health,master,,I7077077244baf40e77791f61a36d8009a5f4ba7b,Add non-voting Python 3.10 jobs for Zed cycle,ABANDONED,2022-03-20 09:11:55.000000000,2022-07-01 04:37:18.000000000,,2,0,2,834386,569b3f0f544403771a6b1a2eda1b79d2a515f469,6,1,1,1,30615,Tushar Trambak Gite,tushargite96,"Add non-voting Python 3.10 jobs for Zed cycle

The template which is used to test runtime for the Zed cycle added
python 3.10 as a non-voting job [1]. So this patch follows the same
thing here.

[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/831633

Change-Id: I7077077244baf40e77791f61a36d8009a5f4ba7b
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I5e13d81586ea8739fea8590c7a27b207942bd88f,openstack/python-tripleoclient,stable/wallaby,,I5e13d81586ea8739fea8590c7a27b207942bd88f,Add handling for roles and networks to answers,ABANDONED,2022-06-27 06:07:26.000000000,2022-07-01 03:33:47.000000000,,23,9,10,847714,967f29fc3f410feadd186acfb81c26e8c2fed433,22,5,5,2,30073,Brendan Shephard,bshephar,"Add handling for roles and networks to answers

The answers file only supports environments and templates today.
This change adds handling for roles and networks arguments. This
change will allow users to specify their roles_data.yaml and
network_data.yaml file in the same location as their other custom
templates.

 Conflicts:
	tripleoclient/v1/overcloud_deploy.py

(cherry picked from commit f931e73c477394ac19e4b7bf36ce9c9dbd38154e)
Change-Id: I5e13d81586ea8739fea8590c7a27b207942bd88f
"
openstack%2Fcharm-deployment-guide~master~I9e8ca51759650d211f491457cb0d0fc0040358e8,openstack/charm-deployment-guide,master,bug/1913289,I9e8ca51759650d211f491457cb0d0fc0040358e8,Add guide for switching between different types of certificates,MERGED,2022-04-11 21:23:57.000000000,2022-07-01 02:26:15.000000000,2022-07-01 02:23:56.000000000,59,0,18,837417,9c06b031283b6f17726aa9a7c6db2c055239608d,16,2,4,1,34543,Tianqi Xiao,txiao,"Add guide for switching between different types of certificates

Add the steps for swtiching between self-signed CA certificate
and third-party intermediate CA certificate after Vault charm
deployment. A note asking user to check the level of authorization
of the intermediate CA certificate is also added.

Closes-Bug: #1913289
Change-Id: I9e8ca51759650d211f491457cb0d0fc0040358e8
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I9e2a6d6d45b86da333658a73179607b2623b5cc7,openstack/python-tripleoclient,stable/wallaby,node-extract-role-data-from-stack-stable/wallaby,I9e2a6d6d45b86da333658a73179607b2623b5cc7,node export provisioned - get role_data from stack,MERGED,2022-06-29 23:34:17.000000000,2022-07-01 01:50:40.000000000,2022-07-01 01:48:35.000000000,35,17,0,848121,ae410f64de02100eb56d85e0a876b21e1bef7f6b,9,4,1,2,11166,Lukas Bezdicka,xbezdick,"node export provisioned - get role_data from stack

Since change: I1efecdcd7afa6af3e6b4b26f4435198836db535f
we store the THT Jinja2 input files in the stack output.

Make the --roles-file option optional for overcloud node
export provisioned commend. Use the value from the stack
if --roles-file not provided by the user.

Change-Id: I9e2a6d6d45b86da333658a73179607b2623b5cc7
(cherry picked from commit e3c66d6a2065a0be973dd014973717524bb1e456)
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ibaa42fa7ac6ebb7212dd19997bd6d01541be988c,openstack/python-tripleoclient,stable/wallaby,fix_upgrade-stable/wallaby,Ibaa42fa7ac6ebb7212dd19997bd6d01541be988c,Fix upgrade/external_update/external_upgrade,MERGED,2022-06-29 03:10:45.000000000,2022-07-01 01:49:45.000000000,2022-07-01 01:48:30.000000000,79,135,0,848052,e97d88602eb7e835afe4328edfd2554ee28dfc6c,8,3,1,6,8833,Rabi Mishra,rabi,"Fix upgrade/external_update/external_upgrade

These commands still reference heat stack which does
not exist. Also fixes missing option extra_vars.

Deprecates --static-inventory option, as the inventory
can't be generated without stack. If required users
have to run `update/upgrade prepare` to generate it
which would be in working_dir.

Change-Id: Ibaa42fa7ac6ebb7212dd19997bd6d01541be988c
(cherry picked from commit 6d18e27d28a93da87d3db9080d13cb0d624cd06f)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ia6c7c93525d99df457482cda11e996656555f5e1,openstack/tripleo-ansible,stable/wallaby,bug/1966155-stable/wallaby,Ia6c7c93525d99df457482cda11e996656555f5e1,Use node UUID for bridge_mapping agent check,MERGED,2022-06-30 12:11:42.000000000,2022-07-01 01:49:43.000000000,2022-07-01 01:48:32.000000000,8,2,0,848129,90712c5ce53e53db4e4d61ec70635d4da3493d12,10,5,1,1,30073,Brendan Shephard,bshephar,"Use node UUID for bridge_mapping agent check

When we check for bridge mapping. If the user
has provided the Name of the node, rather than
the UUID, then we will fail to lookup the agent.

This change ensures that we lookup the agent using
the nodes UUID rather than the name, regardless of
what the user has input in the provide command.

Closes-bug: 1966155
Resolves: rhbz#2067261
Change-Id: Ia6c7c93525d99df457482cda11e996656555f5e1
(cherry picked from commit a3c700e12da5efaaac31e4ccd8c2167f6ad0617b)
"
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I2f161e7247c696a75fc53af5043d94bc85d4ec0f,openstack/puppet-tripleo,stable/wallaby,designate-wallaby,I2f161e7247c696a75fc53af5043d94bc85d4ec0f,Designate: configure unbound resolvers as dns servers,MERGED,2022-06-21 16:34:55.000000000,2022-07-01 01:48:37.000000000,2022-07-01 01:48:37.000000000,332,5,1,847063,82e2461ac6a7c7202e3065ef69d1d0f7a07e5745,10,3,1,4,6681,Brent Eagles,beagles,"Designate: configure unbound resolvers as dns servers

Configure dns related config in neutron with the IPs for the unbound
resolvers if they are available.

Change-Id: I2f161e7247c696a75fc53af5043d94bc85d4ec0f
(cherry picked from commit f736d081bfcaccb1d249f0f1a519131b79a2deac)
"
openstack%2Ftripleo-heat-templates~master~I3de524f24480e348d6906e8ab23637cdb173222f,openstack/tripleo-heat-templates,master,bug/1980320,I3de524f24480e348d6906e8ab23637cdb173222f,Testing scenario001,ABANDONED,2022-06-30 06:41:41.000000000,2022-07-01 01:43:04.000000000,,1,0,1,848217,43137ccad5a2bd35d26daa920432daacc2c07ac5,8,2,1,1,9816,Takashi Kajinami,kajinamit,"Testing scenario001

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/848216
Change-Id: I3de524f24480e348d6906e8ab23637cdb173222f
"
openstack%2Fsahara-plugin-ambari~master~I6f467a6bb175e27c011a57fec15a37b7c8dabdd0,openstack/sahara-plugin-ambari,master,,I6f467a6bb175e27c011a57fec15a37b7c8dabdd0,Drop lower-constraints.txt and it's testing,MERGED,2021-12-21 09:36:52.000000000,2022-07-01 00:57:23.000000000,2022-07-01 00:54:02.000000000,5,159,2,822447,139213dbfdc9e7e0aa8bd36e72a47ebebd90bb8d,13,4,3,4,34375,hejunli,hejunli,"Drop lower-constraints.txt and it's testing

As discussed in TC PTG[1] and TC resolution[2], dropping
the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

And switch zuul task openstack-python3-zed-jobs

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I6f467a6bb175e27c011a57fec15a37b7c8dabdd0
"
openstack%2Fsahara-plugin-mapr~master~I2372c591165b0a080cf32c34525b64ff1d565534,openstack/sahara-plugin-mapr,master,,I2372c591165b0a080cf32c34525b64ff1d565534,Drop lower-constraints.txt and it's testing,MERGED,2021-12-21 09:44:27.000000000,2022-07-01 00:56:59.000000000,2022-07-01 00:54:00.000000000,5,159,3,822451,13d1f142667140347af14f442f7d20673719b5f2,14,4,3,4,34375,hejunli,hejunli,"Drop lower-constraints.txt and it's testing

As discussed in TC PTG[1] and TC resolution[2], dropping
the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

And switch to openstack-python3-zed-jobs

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I2372c591165b0a080cf32c34525b64ff1d565534
"
openstack%2Fdiskimage-builder~master~Iaf1788342e7418af92dd35714415a979b0ba11db,openstack/diskimage-builder,master,gentoo-python-3.10,Iaf1788342e7418af92dd35714415a979b0ba11db,update default python for gentoo to 3.10,MERGED,2022-06-30 14:50:51.000000000,2022-07-01 00:14:55.000000000,2022-07-01 00:13:39.000000000,1,1,0,848307,d85a3421a7806bfe9ae685357e69c8caf05a1c73,11,4,1,1,14288,Matthew Thode,prometheanfire,"update default python for gentoo to 3.10

Change-Id: Iaf1788342e7418af92dd35714415a979b0ba11db
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I2f62cdfcb88edb5552cbd7351b6240f78376c93d,openstack/python-tripleoclient,stable/wallaby,bug/1979093-stable/wallaby,I2f62cdfcb88edb5552cbd7351b6240f78376c93d,Limit standalone ceph-admin user creation to a single host,MERGED,2022-06-28 14:25:44.000000000,2022-07-01 00:03:17.000000000,2022-07-01 00:02:08.000000000,10,2,2,847980,186d7f4e4cd1b931918bbb375f62b4fb9d48375e,16,4,3,1,18002,John Fulton,fultonj,"Limit standalone ceph-admin user creation to a single host

When 'openstack overcloud ceph user enable --standalone' is
run, call Ansible with '--limit undercloud'.

Bug #1979093 happened because Ansible was running the user
module on the same host as if it were two hosts. The module
is idempotent but not race safe. E.g. when user execution A
and user execution B are run on the same host, A's check that
the user does not exist might be true but before A goes on to
create the user, B could have created it first depending on
scheduling.

The python-tripleoclient uses Ansible --limit when creating
the ceph-admin user so only _admin nodes get the private key.
This works for multinode but standalone only has one node, so
for that condition redefine the limit list to that single node.

Change-Id: I2f62cdfcb88edb5552cbd7351b6240f78376c93d
Closes-Bug: #1979093
(cherry picked from commit 5ee23cf83def70b541858958659dc33a6bb5b0b6)
"
openstack%2Fpython-openstackclient~master~I114766d31d2a2243f4db450b4d2c246ab68f9396,openstack/python-openstackclient,master,sec-gp-tenant-id,I114766d31d2a2243f4db450b4d2c246ab68f9396,WIP: Test for tenant_id and project_id columns,ABANDONED,2022-06-27 08:53:45.000000000,2022-06-30 23:58:37.000000000,,3,0,1,847752,7d7aed93e927460d318a9b196ce4ec2494e4952d,7,1,3,1,13252,Dr. Jens Harbott,jrosenboom,"WIP: Test for tenant_id and project_id columns

We want to assure that tenant_id is not shown, since it is deprecated in
Neutron.

Change-Id: I114766d31d2a2243f4db450b4d2c246ab68f9396
"
openstack%2Fironic-python-agent~master~I0c5812736b7a320cc4ecc333f80db70eb78cc76d,openstack/ironic-python-agent,master,lsblk-json,I0c5812736b7a320cc4ecc333f80db70eb78cc76d,Use json for lsblk output,MERGED,2021-02-12 14:10:59.000000000,2022-06-30 23:39:38.000000000,2022-06-30 23:38:15.000000000,226,201,22,775391,09ea41c83dda9b46739c1d9d0498476db855d952,56,6,12,4,23851,Riccardo Pittau,elfosardo,"Use json for lsblk output

The lsblk output is available in json format since version 2.27 of
util-linux [1]

https: //mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.27/v2.27-ReleaseNotes

Change-Id: I0c5812736b7a320cc4ecc333f80db70eb78cc76d
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I7514c95b5c3c24a82e8703556d4205b272270511,openstack/python-tripleoclient,stable/wallaby,standalone_ceph_wallaby_squash,I7514c95b5c3c24a82e8703556d4205b272270511,Squash standalone deployed_ceph for pythonclient to Wallaby,MERGED,2022-06-10 20:41:54.000000000,2022-06-30 23:23:17.000000000,2022-06-30 23:21:40.000000000,406,19,21,845482,46919b64db6764fa74c7500422cce85728d04f4a,46,6,7,5,18002,John Fulton,fultonj,"Squash standalone deployed_ceph for pythonclient to Wallaby

This squash backports the standalone deployed_ceph feature to
Wallaby without introducing related bugs. It has 5 commits.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/845595

1. Add --mon-ip option to deployed ceph

Add --mon-ip option to 'openstack overcloud
ceph deploy', to easily override the variable
tripleo_cephadm_first_mon_ip from the CLI.

This option makes deployed ceph easier when
using standalone.

Change-Id: Id9a61356e8fd4618ce68faa2677f4ed30981b7d6
(cherry picked from commit 2ac3953410337361777974cb2dccde3231ee3116)

2. Make deployed ceph baremetal file optional

If the --ceph-spec option is passed to 'openstack
overcloud ceph deploy', then it is not necessary
for the path to the environment file output from
'openstack overcloud node provision' to be passed.

Add conditional to ensure that either --ceph-spec
or <deployed_baremetal.yaml> are used and add two
unit tests to cover all three scenarios: a. metal
is passed, b. spec is passed and c. neither are
passed so a failure is asserted.

Change-Id: Ibd350956f401fa48aaeae89fdd5e0bd9c28d0685
(cherry picked from commit 84055814f9303a3fea6a252a24c2d9d123535bea)

3. Introduce ""openstack overcloud ceph spec""

This command may be used to create a cephadm spec file as
a function of the output of metalsmith and a TripleO roles
file.

Calls cli-deployed-ceph.yaml with ceph_spec tag so users
may create the Ceph spec in a separate step from the Ceph
Deployment. The Ceph spec file may be then be passed to
""openstack overcloud ceph deploy"".

Also, supports a --standalone feature which directly calls
the ceph_spec library in tripleo-common in the depends-on
chain. As Ansible is used less the tripleo-pythonclient can
use the ceph_spec library directly for more than just the
--standalone feature.

Change-Id: Icd18de08ebc818441e45ff7ce9f348fbc5813253
(cherry picked from commit 3701f2ac318373250210c85f3483cd4f1be17dc7)

4. Add --standalone to overcloud ceph user and deploy

Both 'openstack overcloud ceph user enable' and 'openstack
overcloud ceph deploy' currently use Ansible and require an
inventory with hosts matching those in the Ceph spec. The
inventory is created in the working directory when 'openstack
overcloud node provision' runs but for a standalone deployment
the user would need to create it manually. Abstract this detail
away by providing a --standalone option for single node deploys
which do not use metalsmith.

Change-Id: Icb785f015ee69d45dd513aef09fac625de421250
(cherry picked from commit 88ec87caf625f3a28382c484ec93ebdae1fe33b6)

5. Build standalone ceph_spec with Ansible

Instead of calling the ceph_spec library directly from
the python-tripleoclient call an ansible wrapper to it
instead so that the library does not need to live in
tripleo-common and bug 1961325 can be avoided.

Closes-Bug: 1961325
Change-Id: I7514c95b5c3c24a82e8703556d4205b272270511
(cherry picked from commit ec411b93297f2c841b03f7afb55a51bf2a0f0d0e)
"
openstack%2Ftripleo-ansible~master~Ic12dd0a099a2a13fa058677dc3c327b808173893,openstack/tripleo-ansible,master,make_osd_spec_flexible,Ic12dd0a099a2a13fa058677dc3c327b808173893,Make osds spec extra keys more flexible,MERGED,2022-06-29 16:46:47.000000000,2022-06-30 23:22:57.000000000,2022-06-30 23:21:42.000000000,1,8,2,848158,3906d5245781c7b1338caed8cd00b90fbc63cb6e,17,6,3,1,25402,Francesco Pantano,fmount,"Make osds spec extra keys more flexible

We need to be flexible enough and allow all the options provided by
drivegroups implementation [1].
This patch removes the ALLOWED_EXTRA_KEYS constraint built against the
OSD spec passed to the module.

[1] https://docs.ceph.com/en/latest/cephadm/services/osd/#additional-options

Change-Id: Ic12dd0a099a2a13fa058677dc3c327b808173893
"
openstack%2Fmanila~stable%2Fyoga~I3de8f5bfa6ac4580da9b1012caa25657a6df71ec,openstack/manila,stable/yoga,bug/1975483,I3de8f5bfa6ac4580da9b1012caa25657a6df71ec,Rollback quota when share network create API fails.,MERGED,2022-06-09 11:21:45.000000000,2022-06-30 23:18:53.000000000,2022-06-30 23:17:27.000000000,28,1,4,845196,4179dfa428e4044544013e9ee14cf79ac12a9fc6,18,4,1,3,16643,Goutham Pacha Ravi,gouthamr,"Rollback quota when share network create API fails.

During share network create API, if failure occurs quota is not rolled
back and its usable only after quota reservations timed out (waiting
conf.reservation_expire seconds).

Closes-bug: #1975483
Change-Id: I3de8f5bfa6ac4580da9b1012caa25657a6df71ec
(cherry picked from commit 8c854a1c6847e74b876ce84780afba72e1b87eae)
"
openstack%2Fmanila~stable%2Fyoga~Ife023187f307f1190d5e76daf644db0b5cd55d38,openstack/manila,stable/yoga,fix-queue-config,Ife023187f307f1190d5e76daf644db0b5cd55d38,Define queues at project level,MERGED,2022-06-24 16:43:11.000000000,2022-06-30 23:11:10.000000000,2022-06-30 23:09:07.000000000,1,1,0,847441,a7a053c5415165ad52c5cd8b22912daacd68a7c1,15,3,2,1,30002,Douglas Viroel,dviroel,"Define queues at project level

Defining queues at project.pipeline level was deprecated in release
4.1.0 of Zuul [1] and support for it will (probably) be dropped in
release 7.0.0. [2][3]

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html
[3] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Signed-off-by: Eduardo Santos <eduardo.experimental@gmail.com>
Change-Id: Ife023187f307f1190d5e76daf644db0b5cd55d38
(cherry picked from commit 441d6470ca3a24f29f60494ed31755d2842b2fa3)
"
openstack%2Fcharm-barbican~stable%2Fxena~Ice7131459753f15e1184c687a24301689df338e2,openstack/charm-barbican,stable/xena,,Ice7131459753f15e1184c687a24301689df338e2,Add use-public-endpoint config option,MERGED,2022-04-01 19:45:16.000000000,2022-06-30 23:06:24.000000000,2022-06-30 23:06:24.000000000,19,1,6,836155,f688b83a7ceab55aa2e32912809a1da4285de778,14,4,2,2,17097,Tiago Pasqualini da Silva,tiago.pasqualini,"Add use-public-endpoint config option

Currently, this charm sets the host_href config option with the
admin endpoint. This patch adds a config option to allow it to be
configured to use the public endpoint, so that the secrets could
be accessible through this endpoint.

Closes-bug: #1642769
Change-Id: Ice7131459753f15e1184c687a24301689df338e2
(cherry picked from commit c3bb1bb650cc090c24a65b10dab59338a3b7b1bb)
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I5dec7022430bd6e9230ef501741707a7ca31025d,openstack/python-tripleoclient,stable/wallaby,fix_upgrade-stable/wallaby,I5dec7022430bd6e9230ef501741707a7ca31025d,Fix upgrade prepare,MERGED,2022-06-30 07:58:51.000000000,2022-06-30 22:44:17.000000000,2022-06-30 22:43:06.000000000,7,12,1,848126,26d4db68dd69e534aa2a0124b15d5c5da14e9576,12,3,1,2,22954,Juan Badia Payno,jbadiapa,"Fix upgrade prepare

This is still trying to fetch stack details before
get_hosts_and_enable_ssh_admin(), which won't work.

Change-Id: I5dec7022430bd6e9230ef501741707a7ca31025d
(cherry picked from commit 019441f19d15c604871a36b24117c71cbee4a9f2)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I18a898ad7f6fcd3818bac707ce34a93303a59430,openstack/tripleo-ansible,stable/wallaby,,I18a898ad7f6fcd3818bac707ce34a93303a59430,Fix list append for ansible 2.13,MERGED,2022-06-29 16:57:54.000000000,2022-06-30 22:43:08.000000000,2022-06-30 22:43:08.000000000,2,2,1,848111,22ac916e3e3f35c2d4be752a71606bb019152da9,14,7,2,1,25402,Francesco Pantano,fmount,"Fix list append for ansible 2.13

Looks like the current syntax does not work on ansible 2.13.

Change-Id: I18a898ad7f6fcd3818bac707ce34a93303a59430
Closes-Bug: #1980185
(cherry picked from commit 35be5dda559ec1815812e33a605f910fbd1cb912)
"
openstack%2Fswift~stable%2Fwallaby~I4fcacc76ab52b45510aee82156a7cbf6ad72467d,openstack/swift,stable/wallaby,,I4fcacc76ab52b45510aee82156a7cbf6ad72467d,Stop partial()ing hashlib.new,MERGED,2022-06-29 13:07:33.000000000,2022-06-30 22:36:33.000000000,2022-06-30 22:35:23.000000000,1,2,0,848110,6a1a8ce14be8b4625eaf4f2b4d18ddfbdbbb4289,11,2,3,1,6968,Christian Schwede,cschwede,"Stop partial()ing hashlib.new

Seems to be causing issues on (some?) FIPS nodes.

Change-Id: I4fcacc76ab52b45510aee82156a7cbf6ad72467d
(cherry picked from commit 471a559a4ded3591429aebf0c98b46806923d238)
"
openstack%2Ftripleo-validations~master~I28f8fdd61f629ab7e65f08a1ee68b677ac797393,openstack/tripleo-validations,master,libvirtd_socket,I28f8fdd61f629ab7e65f08a1ee68b677ac797393,Add libvirtd.socket to list of services,MERGED,2022-05-09 20:08:45.000000000,2022-06-30 22:16:26.000000000,2022-06-30 22:12:42.000000000,2,1,2,841166,48c52d9f6841ece404115498812f0908d8c01bab,16,3,2,1,7130,David Hill,dhill,"Add libvirtd.socket to list of services

Add libvirtd.socket to list of services that should not be running
on an undercloud.

Change-Id: I28f8fdd61f629ab7e65f08a1ee68b677ac797393
"
openstack%2Ftripleo-ansible~master~I7fbb53c7b33a768163c7ce1436a7a7bde566f0bc,openstack/tripleo-ansible,master,unified_mol_config/env-data,I7fbb53c7b33a768163c7ce1436a7a7bde566f0bc,Gather some environment data,MERGED,2022-06-29 09:19:28.000000000,2022-06-30 22:16:06.000000000,2022-06-30 22:12:36.000000000,304,172,12,848088,8d4b36c7a23d5f3cf1a7cc45f2ea0b1e186c4c0d,34,5,13,98,28223,Cedric Jeanneret,cjeanner,"Gather some environment data

This should help debugging some issues, especially when we have some
doubts about packages or related.

Change-Id: I7fbb53c7b33a768163c7ce1436a7a7bde566f0bc
"
openstack%2Fpuppet-tripleo~master~Ibaca9010269e84e7a97c66ed419886796a011df9,openstack/puppet-tripleo,master,847959,Ibaca9010269e84e7a97c66ed419886796a011df9,Fix tls related grafana check in the cephadm context,MERGED,2022-06-28 11:28:42.000000000,2022-06-30 22:12:47.000000000,2022-06-30 22:12:47.000000000,6,1,2,847959,f593a9a09f543ca672f16e2fd9f97ce1a3339db9,20,4,3,1,25402,Francesco Pantano,fmount,"Fix tls related grafana check in the cephadm context

When grafana is deployed by cephadm as part of the Ceph cluster monitoring
stack, the key/cert info are stored within the Ceph monitors' config-key
store.
This change allows to avoid haproxy producing several tls errors related
to this config change in Ceph.

Depends-On: Ia6f6c472a8f7332ae3e998078f167f5f7d027857
Change-Id: Ibaca9010269e84e7a97c66ed419886796a011df9
"
openstack%2Ftripleo-ci~master~I3a9ffb568132963dbd1f07669f84f68de3f1eccf,openstack/tripleo-ci,master,neutron-resolver-integration,I3a9ffb568132963dbd1f07669f84f68de3f1eccf,Add designate/neutron integration puppet trigger to scen3,MERGED,2022-06-14 19:26:14.000000000,2022-06-30 22:12:44.000000000,2022-06-30 22:12:44.000000000,2,0,2,845813,437b8bf16ccb3a83850138376b11934da7cf0c17,15,6,2,1,6681,Brent Eagles,beagles,"Add designate/neutron integration puppet trigger to scen3

It's possible that a change to these files could break scenario
3/designate so let's add them the triggers.

Change-Id: I3a9ffb568132963dbd1f07669f84f68de3f1eccf
"
openstack%2Fswift~stable%2Fwallaby~I0e0f802fa355060f43f9e63f52897fbcf66816d2,openstack/swift,stable/wallaby,,I0e0f802fa355060f43f9e63f52897fbcf66816d2,tests: Fix swiftclient/requests log level & Ignore py36 deprecation warnings,MERGED,2022-06-29 17:47:46.000000000,2022-06-30 22:12:43.000000000,2022-06-30 22:10:54.000000000,15,2,0,848170,969dcb6ee962e94e193c8158d564cc6efec1b9eb,9,2,2,3,6968,Christian Schwede,cschwede,"tests: Fix swiftclient/requests log level & Ignore py36 deprecation warnings

Gotta update now that swiftclient changed how it imports and uses
requests.

Related-Change: https://review.opendev.org/c/openstack/python-swiftclient/+/828821
Change-Id: I0e0f802fa355060f43f9e63f52897fbcf66816d2
(cherry picked from commit a5a98d7e3bbcfb6d4e8cca8f4aca08cca4286b17)
(cherry picked from commit 7298038ed90fe5824c250975045a6f0a3eb39d04)
"
openstack%2Ftripleo-ci~master~I3325b20945f78bd34cfac24f0e5747f43fc056a7,openstack/tripleo-ci,master,standalone_ceph_wallaby_squash,I3325b20945f78bd34cfac24f0e5747f43fc056a7,Run scenario004/010 if TQE roles/standalone/tasks/.* changes,MERGED,2022-06-29 21:09:29.000000000,2022-06-30 22:12:34.000000000,2022-06-30 22:12:34.000000000,4,5,2,848191,a1a1d7275d0f59b4265e02f3c2c569a2484de200,9,5,1,1,18002,John Fulton,fultonj,"Run scenario004/010 if TQE roles/standalone/tasks/.* changes

This is a follow up for [1]. If there's any change to the
tasks in the TQE Ansible role standalone, then test not only
standalone 001 but also 004 and 010 since changes in those
files could also break the Ceph portion of those jobs. This
patch is depended on by [2] so we can see all Ceph jobs for
Wallaby run when that branch is moved to deployed Ceph.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/842900
[2] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/845054

Change-Id: I3325b20945f78bd34cfac24f0e5747f43fc056a7
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ieb52658aaf9ebff95cec1dd80eaf2556e75eef8c,openstack/python-tripleoclient,stable/wallaby,,Ieb52658aaf9ebff95cec1dd80eaf2556e75eef8c,Remove overcloud config download command,MERGED,2022-06-28 13:05:37.000000000,2022-06-30 22:11:59.000000000,2022-06-30 22:09:45.000000000,7,156,0,847969,b5c43bf2143599508c2cbe9a8597644c2d2c1f1d,8,3,1,4,28223,Cedric Jeanneret,cjeanner,"Remove overcloud config download command

The config download command no longer works with
ephemeral Heat. We can already achieve the same
functionality using overcloud deploy with the
--stack-only flag.

As such, this change is removing the no longer functional
config download command.

Change-Id: Ieb52658aaf9ebff95cec1dd80eaf2556e75eef8c
(cherry picked from commit df5e61589f305bc0f7d214afb75abbbcf6a2fd55)
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ib4b8c53b1dc9623a6fdc8fb3c25b8148422209a8,openstack/python-tripleoclient,stable/wallaby,fix-standalone-ovn-bridge-macs-stable/wallaby,Ib4b8c53b1dc9623a6fdc8fb3c25b8148422209a8,Standalone - ovn_bridge_mac comma_delimited_list,MERGED,2022-06-29 05:11:44.000000000,2022-06-30 22:10:54.000000000,2022-06-30 22:09:37.000000000,3,0,0,848053,594743944f584acda54706b657cf59c933bca115,8,3,1,1,8833,Rabi Mishra,rabi,"Standalone - ovn_bridge_mac comma_delimited_list

Fix an issue with the OVN bridge mac mappings for standalone.
When NeutronBridgeMappings is defined as a comma_delimited_list
we need to convert it to a list.

Change-Id: Ib4b8c53b1dc9623a6fdc8fb3c25b8148422209a8
(cherry picked from commit 2011e7967767edc79bbccb062f653e8d5f272a23)
"
openstack%2Ftripleo-heat-templates~master~Iafb291419822362be2ab6755589d49f78543dc54,openstack/tripleo-heat-templates,master,,Iafb291419822362be2ab6755589d49f78543dc54,Add merge strategy for ExtraConfig,MERGED,2022-06-30 05:04:32.000000000,2022-06-30 22:09:42.000000000,2022-06-30 22:09:42.000000000,2,0,2,848214,2e1b4ef0a0a79d976872f1627dca0ad81b219afe,10,4,1,1,8833,Rabi Mishra,rabi,"Add merge strategy for ExtraConfig

It seems users are relying on the undocumented behaviour
that merges maps for *ExtraConfig in multiple environment
files.

Resolves: rhbz#2102466
Change-Id: Iafb291419822362be2ab6755589d49f78543dc54
"
openstack%2Ftripleo-ansible~master~Ia6f6c472a8f7332ae3e998078f167f5f7d027857,openstack/tripleo-ansible,master,bug/1980320,Ia6f6c472a8f7332ae3e998078f167f5f7d027857,Ensure distribution facts are available,MERGED,2022-06-30 06:21:45.000000000,2022-06-30 22:09:40.000000000,2022-06-30 22:09:40.000000000,7,0,10,848216,0bc2fa808d34235ffe7cf8d36920f6d96f0685b5,22,7,4,1,9816,Takashi Kajinami,kajinamit,"Ensure distribution facts are available

This fixes regression caused by [1] and ensures distribution facts are
available before being read.

[1] 4c9233d07c0886871719b46b2801c7b0565f26cc

Closes-Bug: #1980320
Change-Id: Ia6f6c472a8f7332ae3e998078f167f5f7d027857
"
openstack%2Fswift~stable%2Fxena~I4fcacc76ab52b45510aee82156a7cbf6ad72467d,openstack/swift,stable/xena,,I4fcacc76ab52b45510aee82156a7cbf6ad72467d,Stop partial()ing hashlib.new,MERGED,2022-06-29 13:07:13.000000000,2022-06-30 21:27:41.000000000,2022-06-30 21:26:20.000000000,1,2,0,848069,c6c51be17a6a7e407e95388fab9583111b07b3bf,15,2,4,1,6968,Christian Schwede,cschwede,"Stop partial()ing hashlib.new

Seems to be causing issues on (some?) FIPS nodes.

Change-Id: I4fcacc76ab52b45510aee82156a7cbf6ad72467d
(cherry picked from commit 471a559a4ded3591429aebf0c98b46806923d238)
"
openstack%2Fswift~stable%2Fxena~I0e0f802fa355060f43f9e63f52897fbcf66816d2,openstack/swift,stable/xena,,I0e0f802fa355060f43f9e63f52897fbcf66816d2,tests: Fix swiftclient/requests log level & Ignore py36 deprecation warnings,MERGED,2022-06-29 17:47:12.000000000,2022-06-30 21:12:54.000000000,2022-06-30 21:11:25.000000000,15,2,0,848169,8804225838f64480cbb9d22b44bc04d2cca5031b,12,2,3,3,6968,Christian Schwede,cschwede,"tests: Fix swiftclient/requests log level & Ignore py36 deprecation warnings

Gotta update now that swiftclient changed how it imports and uses
requests.

Related-Change: https://review.opendev.org/c/openstack/python-swiftclient/+/828821
Change-Id: I0e0f802fa355060f43f9e63f52897fbcf66816d2
(cherry picked from commit a5a98d7e3bbcfb6d4e8cca8f4aca08cca4286b17)
(cherry picked from commit 7298038ed90fe5824c250975045a6f0a3eb39d04)
"
openstack%2Fcharm-cinder~stable%2Fxena~I5c41dd2bd4eb9c30baeef49fae92e1809f21f362,openstack/charm-cinder,stable/xena,update-bundles-xena,I5c41dd2bd4eb9c30baeef49fae92e1809f21f362,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:46:48.000000000,2022-06-30 20:54:22.000000000,2022-06-30 20:54:22.000000000,21,16,2,846308,8d1b269d0f1c4ce5a99f1804721642849896ce04,13,3,3,4,20870,Alex Kavanagh,ajkavanagh,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: I5c41dd2bd4eb9c30baeef49fae92e1809f21f362
"
openstack%2Fheat~master~Ieba5f353b0fe8a9b187bac1f6ff1b3a8f3b896b3,openstack/heat,master,story/2010095,Ieba5f353b0fe8a9b187bac1f6ff1b3a8f3b896b3,Fix AttributeError in Python 3.8,MERGED,2022-06-20 02:06:22.000000000,2022-06-30 20:16:13.000000000,2022-06-21 08:13:41.000000000,45,6,4,846540,eec1f92bc02e8beb4ce1db9646f8b3b678fb8329,27,4,7,2,9816,Takashi Kajinami,kajinamit,"Fix AttributeError in Python 3.8

The importlib-metadata package was imported to the core Python since
Python 3.8, and stevedore uses the standard library implementation
instead of the 3rd party package in Python 3.8 and later. However
the implementation available in Python 3.8 is quite old and especially
it does not include the change which added the module attribute[1].

This change makes sure we avoid referring to that attribute if it does
not exist, to avoid AttributeError in Python 3.8.

[1] https://github.com/python/importlib_metadata/commit/dfc96137ac3583477c02aa97291b0896fb61f282

Story: 2010095
Task: 45650
Change-Id: Ieba5f353b0fe8a9b187bac1f6ff1b3a8f3b896b3
"
openstack%2Fswift~stable%2Fyoga~I4fcacc76ab52b45510aee82156a7cbf6ad72467d,openstack/swift,stable/yoga,,I4fcacc76ab52b45510aee82156a7cbf6ad72467d,Stop partial()ing hashlib.new,MERGED,2022-06-29 13:06:55.000000000,2022-06-30 20:11:28.000000000,2022-06-30 16:37:56.000000000,1,2,3,848068,00763d5a00896a28b6665e88f9ea4d4a9fb50a83,16,2,3,1,6968,Christian Schwede,cschwede,"Stop partial()ing hashlib.new

Seems to be causing issues on (some?) FIPS nodes.

Change-Id: I4fcacc76ab52b45510aee82156a7cbf6ad72467d
(cherry picked from commit 471a559a4ded3591429aebf0c98b46806923d238)
"
openstack%2Fmanila-tempest-plugin~master~I14afe2572c5bc8064417ba7ba3be26751022901d,openstack/manila-tempest-plugin,master,manila-stable-jobs,I14afe2572c5bc8064417ba7ba3be26751022901d,Change the set of jobs in the stable branches,MERGED,2022-06-23 15:49:15.000000000,2022-06-30 20:00:08.000000000,2022-06-29 16:03:29.000000000,165,55,48,847366,95b3ac39514164ed3d2e8f12e39aeefa6ab4d481,39,4,9,3,29632,Carlos Eduardo,silvacarlos,"Change the set of jobs in the stable branches

In order to switch our manila service image to Ubuntu Jammy, we
needed to get in a couple of changes that Modified the flavor for
the manila service image. After all changes got merged, we switched
to the Ubuntu Jammy image [1].

However, now the manila service image master on Tarballs is using
a Ubuntu Jammy image, which requires more resources. It would not
be ideal to backport the changes that modify the flavor to the
stable branches because it is not an actual requirement for them,
and that also forced us to reduce concurrency of some jobs on the
master branch.

Using the Ubuntu Jammy image broke our stable branches CI, since
with less resources we are not able to successfuly spawn a nova
instance using the Ubuntu Jammy image.

In the stable branches, the jobs that spawn VMs will need to use
Ubuntu focal, so we have a new couple of jobs that will
selectively run against the stable branches and they will use a
pinned version of Ubuntu Focal from Tarballs.

These jobs were grouped into project templates to help us keep our
manifests readable.

Change-Id: I14afe2572c5bc8064417ba7ba3be26751022901d
"
openstack%2Fkolla-ansible~master~Idb8a82acbd8193fd3fe71c080a1c57e8614d89ec,openstack/kolla-ansible,master,fix/ironic_user_for_ironic_neutron_agent,Idb8a82acbd8193fd3fe71c080a1c57e8614d89ec,use ironic user in ironic_neutron_agent.ini file,MERGED,2021-09-13 08:55:16.000000000,2022-06-30 19:57:57.000000000,2021-09-20 20:03:12.000000000,3,3,3,808673,ae69994db7756399576c117697aef0fbbd14a2d2,12,3,1,1,21715,Bernd Mueller,bernd,"use ironic user in ironic_neutron_agent.ini file

Signed-off-by: Bernd Mueller <mueller@b1-systems.de>
Change-Id: Idb8a82acbd8193fd3fe71c080a1c57e8614d89ec
"
openstack%2Fdesignate-dashboard~master~Idcef4c3ce4e9455acceed645c2530355989a7ee2,openstack/designate-dashboard,master,,Idcef4c3ce4e9455acceed645c2530355989a7ee2,Fix designate-dashboard lint,MERGED,2022-06-23 21:55:48.000000000,2022-06-30 19:52:02.000000000,2022-06-30 19:50:41.000000000,371,313,1,847415,64993055e7367610793e4bf488e237a22268167f,14,3,4,29,11628,Michael Johnson,johnsom,"Fix designate-dashboard lint

Previously the lint test was failing to run because there was no configuration file for it. This patch adds the .eslintrc file and fixes the found lint issues.
This patch also adds tox environments to run the lint and karma tests.

Change-Id: Idcef4c3ce4e9455acceed645c2530355989a7ee2
"
openstack%2Fdevstack~stable%2Fyoga~Ic67cddabd5069211dc0611994b8b8360bcd61bef,openstack/devstack,stable/yoga,c9-stable/yoga,Ic67cddabd5069211dc0611994b8b8360bcd61bef,Support CentOS Stream 9,ABANDONED,2022-06-30 19:18:21.000000000,2022-06-30 19:33:51.000000000,,0,0,0,848281,efe0495aaa0fd38fe09948c5e6700a5a3dcafd55,8,1,5,0,9914,Ade Lee,alee,"Support CentOS Stream 9

This patch includes changes required to run devstack on CentOS Stream 9
which has been already published in official repos by CentOS team [1]:

- Add RDO deps repository for CS9.
- remove xinetd package from installation for swift. Note that
  rsync-daemon is installed which should work fine.
- Replace genisoimage by xorriso in CS9.
- Use /etc/os-release to identify the distro in CS9 as it doesn't
  provide lsb_release command.
- Use pip from rpm package instead of from get-pip.py as done in Fedora.
- Add non-voting job devstack-platform-centos-9-stream to the check
  pipeline.

Change-Id: Ic67cddabd5069211dc0611994b8b8360bcd61bef
(cherry picked from commit 5ea4c3c18c558ec1fa37e0dd9b28ce66c3da1130)
"
openstack%2Fopenstack-tempest-skiplist~master~I58011a961e925ca5729060de8d2b6fb884e8ddc0,openstack/openstack-tempest-skiplist,master,tempest_allow_list,I58011a961e925ca5729060de8d2b6fb884e8ddc0,Add featureset060 group into tempest-allow,MERGED,2022-05-23 14:17:09.000000000,2022-06-30 19:25:03.000000000,2022-06-30 19:23:45.000000000,13,0,2,842980,5150df13cadb49260f644af8e3b56b10d7eb00dc,11,4,1,1,31075,Pooja Jadhav,pojadhav,"Add featureset060 group into tempest-allow

This add featureset060 group in tempest-allow
to be used with featureset060 job.

Change-Id: I58011a961e925ca5729060de8d2b6fb884e8ddc0
"
openstack%2Fcharm-cinder~master~I6d44223b7c2863c6d9c62b46a41275fd360f92d1,openstack/charm-cinder,master,,I6d44223b7c2863c6d9c62b46a41275fd360f92d1,Add nova section,MERGED,2022-05-22 23:39:49.000000000,2022-06-30 19:06:27.000000000,2022-06-30 19:06:27.000000000,162,8,16,842902,024de3783fc459fc25596ec6084dd065e945df76,49,5,10,6,34352,Samuel Walladge,swalladge,"Add nova section

Cinder sometimes needs to communicate with nova,
for example to notify VMs when live-resizing a disk.
Under certain circumstances,
the autodetected authentication details don't work,
so we must add a dedicated section in the config
for the nova client with proper credentials.

This issue has been observed on victoria and newer,
hence the addition of cinder.conf for victoria.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/776

Closes-Bug: #1939389

Co-authored-by: Samuel Walladge <samuel.walladge@canonical.com>

Change-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1
"
openstack%2Ftempest~master~I8752f3428e498c4b1fd2c12283bc0c97194423fe,openstack/tempest,master,,I8752f3428e498c4b1fd2c12283bc0c97194423fe,Add release notes page for version 31.1.0,MERGED,2022-06-27 19:47:13.000000000,2022-06-30 19:01:05.000000000,2022-06-30 18:59:33.000000000,6,0,1,847851,c95d550c8f6eb5d140af0bc8b9c17e76558a51b5,14,3,3,2,22873,Martin Kopec,mkopec,"Add release notes page for version 31.1.0

Tempest 31.1.0 has been released [1].
This commit adds a new page for 31.1.0 release notes.

[1] https://review.opendev.org/c/openstack/releases/+/848090

Change-Id: I8752f3428e498c4b1fd2c12283bc0c97194423fe
"
openstack%2Fmanila~stable%2Fyoga~I5ea31e1d46148045ddc92853742f2321045c5680,openstack/manila,stable/yoga,manila-stable-jobs,I5ea31e1d46148045ddc92853742f2321045c5680,Use defined project config of manila-tempest-plugin,MERGED,2022-06-23 18:43:49.000000000,2022-06-30 18:56:36.000000000,2022-06-30 18:53:55.000000000,1,10,18,847400,123db367ed75a10042d1c65644cd6f4b11860ea2,56,3,6,1,29632,Carlos Eduardo,silvacarlos,"Use defined project config of manila-tempest-plugin

Due to recent issues we ran into, our jobs needed to be modified
and we needed to control a few variables to be set into the stable
branches.

This change makes use of such modifications and starts using the
project config defined in the manila-tempest-plugin manifests.

Change-Id: I5ea31e1d46148045ddc92853742f2321045c5680
"
openstack%2Fvalidations-common~master~If7c2cd9b00d9bf351fbf3629de16fe28a67040c8,openstack/validations-common,master,linters/pep8,If7c2cd9b00d9bf351fbf3629de16fe28a67040c8,Enabling pep8 linting and fixing style violations,MERGED,2022-06-28 07:00:27.000000000,2022-06-30 18:27:20.000000000,2022-06-30 18:24:22.000000000,1,1,0,847887,e7aca613d2d89310cb2bc59fa24a318348ac760b,8,4,1,2,32926,Jiri Podivin,jpodivin,"Enabling pep8 linting and fixing style violations

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: If7c2cd9b00d9bf351fbf3629de16fe28a67040c8
"
openstack%2Fvalidations-libs~master~I13d8b91c20a08d0b59bd644bd19605311355be05,openstack/validations-libs,master,yamllint/config,I13d8b91c20a08d0b59bd644bd19605311355be05,Adding yamllint configuration file and fixing style violations,MERGED,2022-06-28 06:52:48.000000000,2022-06-30 18:24:24.000000000,2022-06-30 18:24:24.000000000,17,0,1,847885,9bf191d29564f4d7fe26499416fed4cada7f2dc8,10,4,2,4,32926,Jiri Podivin,jpodivin,"Adding yamllint configuration file and fixing style violations

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I13d8b91c20a08d0b59bd644bd19605311355be05
"
openstack%2Ftripleo-validations~stable%2Fwallaby~I87efcf520c090aed4947c7c1915feecd2c8bf6f2,openstack/tripleo-validations,stable/wallaby,,I87efcf520c090aed4947c7c1915feecd2c8bf6f2,Normalizing Tripleo Validations metadata,MERGED,2022-05-30 09:31:42.000000000,2022-06-30 18:24:19.000000000,2022-06-30 18:24:19.000000000,7,3,0,843809,37bfae36d4b8833c5eb5b479acdd53810bb40379,9,4,2,1,32926,Jiri Podivin,jpodivin,"Normalizing Tripleo Validations metadata

Removed the `description-file` key, it used by flit, but setuptools
which is our packagin lib uses `long_description`[0].

Content type of of readme file was set to 'text/rst-x',
to improve integration with PiPy and provide for possible future changes.

Added framework and development classifiers.[2]

Moved 'python_requires' key into 'options' section where it belongs.[3]

[0] https://setuptools.pypa.io/en/latest/userguide/declarative_config.html?highlight=long_description_content_type#metadata
[1] https://packaging.python.org/en/latest/specifications/core-metadata/#description-content-type
[2] https://pypi.org/classifiers/
[3] https://setuptools.pypa.io/en/latest/userguide/dependency_management.html?highlight=python_requires#python-requirement

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I87efcf520c090aed4947c7c1915feecd2c8bf6f2
(cherry picked from commit befe0ccdac2cffaaf11a94a613025b2696cbd0ab)
"
openstack%2Fdiskimage-builder~master~I235f75b385a8b0348c8fe064038c51409f8722c4,openstack/diskimage-builder,master,,I235f75b385a8b0348c8fe064038c51409f8722c4,Use internal dhcp client for centos 9-stream and beyond,MERGED,2022-06-28 18:08:23.000000000,2022-06-30 18:22:40.000000000,2022-06-30 18:20:50.000000000,24,5,4,848017,5f01bd5d6114225087ecf4bcc1876f668b7d5721,15,6,1,2,11655,Julia Kreger,jkreger,"Use internal dhcp client for centos 9-stream and beyond

All indication in CI is that Centos Stream9's use of dhclient
appears to point to compatability issues when interacting with
dnsmasq. However, this doesn't appear to be the issue with the
internal dhcp client. As such, lets constraint the RH default
so that it no longer applies to Centos 9-stream.

I've also added a documentation entry for DIB_DHCP_CLIENT which
was previously undocumented.

As an aside, I've already reached out to RH's NetworkManager team
regarding this, but root cause is not entirely understood at this
point.

Change-Id: I235f75b385a8b0348c8fe064038c51409f8722c4
Story: 2010109
Task: 45677
"
openstack%2Fdiskimage-builder~master~I3e3aeaa965e142e400b8196a56573d37ff44caf9,openstack/diskimage-builder,master,,I3e3aeaa965e142e400b8196a56573d37ff44caf9,DNM: Network Manager logging to Trace for Debugging,NEW,2022-06-24 18:51:25.000000000,2022-06-30 18:19:07.000000000,,8,3,0,847600,7e654470680df4fa573815a09d2f381ba64278c3,26,1,7,1,11655,Julia Kreger,jkreger,"DNM: Network Manager logging to Trace for Debugging

Change-Id: I3e3aeaa965e142e400b8196a56573d37ff44caf9
"
openstack%2Fproject-config~master~I5061d96775ded9c43b3eafe7b2edbbc5fb500949,openstack/project-config,master,zuul-tenant-cleanup,I5061d96775ded9c43b3eafe7b2edbbc5fb500949,Remove x/ansible-role-shade from Zuul tenant config,MERGED,2022-06-30 17:01:07.000000000,2022-06-30 18:01:10.000000000,2022-06-30 17:29:02.000000000,0,6,0,848318,4896f4d317d3c5c2b991acce9ae6cc5912d4df9e,7,2,1,2,4146,Clark Boylan,cboylan,"Remove x/ansible-role-shade from Zuul tenant config

This repo appeas to have been integrated with windmill which was
previously removed from Zuul. The removal of windmill caused
x/ansible-role-shade to have an error in the Zuul config. Address this
by removing the role from the Zuul tenant config. Shade doesn't exist
anymore, the role hasn't been updated in years, and it seems to have
primarily been used by windmill.

Change-Id: I5061d96775ded9c43b3eafe7b2edbbc5fb500949
"
openstack%2Fproject-config~master~I35a6093229951659d7b80015275aebc386b4cd95,openstack/project-config,master,zuul-tenant-cleanup,I35a6093229951659d7b80015275aebc386b4cd95,Remove x/neutron-classifier from Zuul tenant config,MERGED,2022-06-28 21:22:34.000000000,2022-06-30 17:52:27.000000000,2022-06-30 17:28:59.000000000,0,1,0,848034,8d806f27eb3f8b9778cff4c42cdaa2f5bbd6de12,8,3,1,1,4146,Clark Boylan,cboylan,"Remove x/neutron-classifier from Zuul tenant config

This repo uses deprecated per pipeline Zuul queue: configuration. I
pushed a change [0] to correct this, but the project seems to be idle.
The last merge occured at the end of 2019. We remove this repo from the
Zuul tenant config to avoid errors when Zuul stops supporting this
deprecated syntax.

[0] https://review.opendev.org/c/x/neutron-classifier/+/842623

Change-Id: I35a6093229951659d7b80015275aebc386b4cd95
"
openstack%2Fglance~master~I13bd4a3639d4e8ff120c168fa6e65e0924ad9abe,openstack/glance,master,devstack-plugin,I13bd4a3639d4e8ff120c168fa6e65e0924ad9abe,Add Devstack plugin,ABANDONED,2016-11-29 19:09:45.000000000,2022-06-30 17:50:29.000000000,,167,0,2,404391,fe06ba5058cf8e323feb430589c2d9af3cc9d259,18,4,4,4,17685,Elod Illes,elod.illes,"Add Devstack plugin

This review
- creates the structure for the Devstack plugin and prints to the
  console to ensure its execution in the gate.
- enables multinode grenade job in devstack by configuring haproxy

Change-Id: I13bd4a3639d4e8ff120c168fa6e65e0924ad9abe
"
openstack%2Fcharm-ceph-dashboard~master~Ia3240146a923dc6d2eda490311705692be606508,openstack/charm-ceph-dashboard,master,,Ia3240146a923dc6d2eda490311705692be606508,CI test for:,ABANDONED,2022-06-24 21:01:25.000000000,2022-06-30 17:46:32.000000000,,0,0,2,847618,7912a9994bdfeb7d26cc693e6859415f57a6f674,8,2,1,0,20634,Chris MacNaughton,Chris.MacNaughton,"CI test for:

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/803
Change-Id: Ia3240146a923dc6d2eda490311705692be606508
"
openstack%2Fopenstack-ansible~stable%2Fyoga~I898230a2831fd0ab0c66651b8e89f811ae893a84,openstack/openstack-ansible,stable/yoga,,I898230a2831fd0ab0c66651b8e89f811ae893a84,Bump OpenStack-Ansible roles for RC2,MERGED,2022-06-29 20:16:39.000000000,2022-06-30 17:43:44.000000000,2022-06-30 17:41:20.000000000,12,12,3,848188,cc1bd29cb304042f8fb03b4bd770b1934904ba6b,14,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump OpenStack-Ansible roles for RC2

Change-Id: I898230a2831fd0ab0c66651b8e89f811ae893a84
"
openstack%2Fnova~stable%2Fwallaby~Ib8009f38f20b008d08148f7f591af13b1ca5b420,openstack/nova,stable/wallaby,bug/1939545,Ib8009f38f20b008d08148f7f591af13b1ca5b420,fup: Assert state of connection_info during LM rollback in func tests,MERGED,2022-06-03 14:03:29.000000000,2022-06-30 16:57:25.000000000,2022-06-30 16:54:50.000000000,72,10,2,844595,c248986eeb8e9b9c3586c83b01663d3585132c3f,24,3,4,1,8864,Artom Lifshitz,artom,"fup: Assert state of connection_info during LM rollback in func tests

This came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as
something we should be asserting in our func tests somewhere. I had
thought it already was but this is as close as we got. Add that coverage
here.

Change-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420
(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)
"
openstack%2Fnova~stable%2Fwallaby~Iea8896682fc28e3a5cd25afa45238272bee745e1,openstack/nova,stable/wallaby,bug/1939545,Iea8896682fc28e3a5cd25afa45238272bee745e1,compute: Ensure updates to bdms during pre_live_migration are saved,MERGED,2022-05-27 19:19:23.000000000,2022-06-30 16:56:07.000000000,2022-06-30 16:54:37.000000000,18,3,12,843680,9bccc5a04354b0490fbe7e0f0b98cf55d4b7c9c4,69,5,10,3,8864,Artom Lifshitz,artom,"compute: Ensure updates to bdms during pre_live_migration are saved

When connecting volumes to the underlying host the virt drivers can
attempt to stash additional metadata returned from os-brick into the
connection_info associated with a bdm. This pretty janky behaviour
relies on someone later calling .save() against the underlying
BlockDeviceMapping object to persist these changes into the database as
happens in the driver block device layer during a standard volume
attach.

However during pre_live_migration no call was made to .save() resulting
in the changes made to the connection_info being lost. This change
simply introduces this call at the end of the pre_live_migration method
on the destination via the driver bdm objects we provide in
block_device_info.

Closes-Bug: #1939545
Change-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1
(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)
"
openstack%2Fnova~stable%2Fwallaby~Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa,openstack/nova,stable/wallaby,bug/1939545,Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa,fup: Make connection_info returned by CinderFixture unique per attachment,MERGED,2022-06-03 14:03:29.000000000,2022-06-30 16:54:43.000000000,2022-06-30 16:54:43.000000000,22,12,2,844594,8e008925343f27f017b8c3d6d49a2cfa2aea8aeb,23,3,4,1,8864,Artom Lifshitz,artom,"fup: Make connection_info returned by CinderFixture unique per attachment

Conflicts: Changes applied manually to the CinderFixture in
nova/tests/fixtures.py because nova/tests/fixtures/cinder.py does not
exist in stable/wallaby.

Change-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa
(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)
"
openstack%2Fproject-config~master~Icc618589a3432a4ce4ae75cffa073759464f8c5e,openstack/project-config,master,zuul-tenant-cleanup,Icc618589a3432a4ce4ae75cffa073759464f8c5e,Remove windmill from zuul tenant config,MERGED,2022-06-28 21:22:34.000000000,2022-06-30 16:49:55.000000000,2022-06-30 16:41:37.000000000,0,26,0,848033,598407a05167507b9719ab63bca38dde8984aa73,8,3,1,1,4146,Clark Boylan,cboylan,"Remove windmill from zuul tenant config

Some windmill repos contain deprecated per pipeline queue:
specifications. In the near future Zuul will remove support for this
configuration. I have pushed changes [0][1 ]to the windmill repos to fix
this, but it appears the software is no longer maintained. Remove these
repos from the Zuul tenant config to avoid configuration errors.

Note we remove all the windmill repos rather than those that have the
errors as these repos very likely have jobs that all depend on each
other and removing only the repos with bad queue specifications will
likely break the other repos too.

[0] https://review.opendev.org/c/windmill/windmill-backup/+/842622
[1] https://review.opendev.org/c/windmill/windmill/+/842621

Change-Id: Icc618589a3432a4ce4ae75cffa073759464f8c5e
"
openstack%2Freleases~master~Ifdc4ed73ceb64443cb8d68a42416f6b23d913935,openstack/releases,master,wallaby-stable,Ifdc4ed73ceb64443cb8d68a42416f6b23d913935,Release kuryr-kubernetes for stable/wallaby,MERGED,2022-06-28 08:53:53.000000000,2022-06-30 16:43:43.000000000,2022-06-30 16:43:43.000000000,4,0,1,847916,ec9eebbcffe00c8d204303dbf0005f61a0936b44,9,4,1,1,17685,Elod Illes,elod.illes,"Release kuryr-kubernetes for stable/wallaby

This release picks up new commits to kuryr-kubernetes since
the last release from stable/wallaby.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 4.0.0..8ec71e7e
8ec71e7e Fix stable gate
0dbb151a Remove ep_slices from klb on endpoint delete event
0162d414 Add Octavia Tempest Plugin
643effc3 Fix NPs for OVN LBs with hairpin traffic
bd63ba20 Update TOX_CONSTRAINTS_FILE for stable/wallaby
b09144a8 Update .gitreview for stable/wallaby

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ifdc4ed73ceb64443cb8d68a42416f6b23d913935
"
openstack%2Fneutron~master~I9e6e05b7a4f36383a44bd80f07d25052b17bdfa0,openstack/neutron,master,stateful_nat,I9e6e05b7a4f36383a44bd80f07d25052b17bdfa0,ovn: revert to stateful dnat_and_snat,MERGED,2022-04-20 19:15:09.000000000,2022-06-30 16:39:47.000000000,2022-06-30 16:38:00.000000000,101,51,15,838776,ffd64df9d306bf56091b2f3ae8a8f579f578de53,43,9,4,9,9656,Ihar Hrachyshka,ihrachys,"ovn: revert to stateful dnat_and_snat

This is an effective revert of:
I312a950131d62d93fb4bc121bc5e60febb8d35ee
""ovn: use stateless NAT rules for FIPs"".

The performance benefits promised by the ""reverted"" patch never
materialized. On the contrary, the discussion in [1] revealed that the
switch to stateless=true made it impossible to fully hw offload nat
rules, while it's possible with stateless=false.  Specifically, see this
comment [2].

Since at this point it's unclear if keeping stateless=true as an option
is beneficial for any case, even when w/o hw offload, and to avoid
complexity of introducing a config option for unclear benefit, this
patch reverts the effects of the original patch, switching all
dnat_and_snat objects to implicit stateless=false state.

This patch cannot be a clean revert because of the need for db
migration.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2004995
[2] https://bugzilla.redhat.com/show_bug.cgi?id=2004995#c18

Change-Id: I9e6e05b7a4f36383a44bd80f07d25052b17bdfa0
"
openstack%2Fswift~stable%2Fyoga~I0e0f802fa355060f43f9e63f52897fbcf66816d2,openstack/swift,stable/yoga,,I0e0f802fa355060f43f9e63f52897fbcf66816d2,tests: Fix swiftclient/requests log level & Ignore py36 deprecation warnings,MERGED,2022-06-29 17:45:58.000000000,2022-06-30 16:39:24.000000000,2022-06-30 16:37:52.000000000,15,2,3,848168,7c888bf6ca81b3fed9a8e6522a078497902bd354,13,2,2,3,6968,Christian Schwede,cschwede,"tests: Fix swiftclient/requests log level & Ignore py36 deprecation warnings

Gotta update now that swiftclient changed how it imports and uses
requests.

Related-Change: https://review.opendev.org/c/openstack/python-swiftclient/+/828821
Change-Id: I0e0f802fa355060f43f9e63f52897fbcf66816d2
(cherry picked from commit a5a98d7e3bbcfb6d4e8cca8f4aca08cca4286b17)
(cherry picked from commit 7298038ed90fe5824c250975045a6f0a3eb39d04)
"
openstack%2Fnova~master~I858b4da35382a9f4dcf88f4b6db340e1f34eb82d,openstack/nova,master,bug/1890244,I858b4da35382a9f4dcf88f4b6db340e1f34eb82d,ignore deleted server groups in validation,MERGED,2022-06-21 11:25:45.000000000,2022-06-30 16:39:11.000000000,2022-06-30 16:37:43.000000000,155,13,16,847001,cd2c2f359bbd4913cfe73199847bc35b2664aaa9,30,3,3,6,11604,sean mooney,sean-k-mooney,"ignore deleted server groups in validation

This change simply catches the exception raised when
we lookup a servergroup via a hint and the validation
upcall is enabled.

Change-Id: I858b4da35382a9f4dcf88f4b6db340e1f34eb82d
Closes-Bug: #1890244
"
openstack%2Fpython-tripleoclient~master~I804cea42df92c5c0262bc81923173857331137fa,openstack/python-tripleoclient,master,,I804cea42df92c5c0262bc81923173857331137fa,overcloud deploy: Remove validation based on existing stack,ABANDONED,2022-06-17 01:38:37.000000000,2022-06-30 16:38:23.000000000,,23,401,6,846239,4cce26ffc9cb2d7876358657d35b88574e1b98db,7,2,2,4,9816,Takashi Kajinami,kajinamit,"overcloud deploy: Remove validation based on existing stack

... because now only Ephemeral heat is supported and we never have
any ""existing stack"" during overcloud deploy.

--disable-validation option is removed because it was deprecated a few
cycles ago and will be made ineffective by this change.

Change-Id: I804cea42df92c5c0262bc81923173857331137fa
"
openstack%2Fheat~master~I9ac91946a1aaaf7aa5b33f9bd3304254586c08c0,openstack/heat,master,,I9ac91946a1aaaf7aa5b33f9bd3304254586c08c0,Switch to TOX_CONSTRAINTS_FILE,ABANDONED,2022-06-21 18:08:37.000000000,2022-06-30 16:38:06.000000000,,2,2,0,847075,0f9b456f1d87b8042ea206f12d8054402f649ee2,6,1,3,2,9816,Takashi Kajinami,kajinamit,"Switch to TOX_CONSTRAINTS_FILE

... because UPPER_CONSTRAITNS_FILE is deprecated.
 https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: I9ac91946a1aaaf7aa5b33f9bd3304254586c08c0
"
openstack%2Frequirements~stable%2Fwallaby~Ibfaae1890708438a8b03c961f55c88dc8c7acd17,openstack/requirements,stable/wallaby,new-release,Ibfaae1890708438a8b03c961f55c88dc8c7acd17,update constraint for horizon to new release 19.3.0,MERGED,2022-06-30 08:55:23.000000000,2022-06-30 16:37:48.000000000,2022-06-30 16:37:48.000000000,1,1,0,848232,41c274af44c8d463da38baa0722c1d12e9a87764,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for horizon to new release 19.3.0

meta: version: 19.3.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Előd Illés <elod.illes@est.tech>
meta: release:Change-Id: I89887738a4da9fd1beefa210980479d2508c2227
meta: release:Code-Review+1: Vishal Manchanda <manchandavishal143@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ibfaae1890708438a8b03c961f55c88dc8c7acd17
"
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Id1340c45679d720cdf5ed9b5b15347d73cffc445,openstack/puppet-tripleo,stable/wallaby,nonbundle_removal-stable/wallaby,Id1340c45679d720cdf5ed9b5b15347d73cffc445,Drop all non bundle implementations,MERGED,2022-06-28 15:14:35.000000000,2022-06-30 16:34:29.000000000,2022-06-30 11:34:19.000000000,0,1111,3,847984,10d3c7cf1d9200c82b0add480ee32b731ce19a11,16,3,1,6,9816,Takashi Kajinami,kajinamit,"Drop all non bundle implementations

We dropped support for non-containerized HA stuff in queens,
keeping all these manifests around brings very little and probably
slows each puppet invocation down a little bit.

Note: this is only dropping the non-containerized HA manifests, the
containerized HA manifests are being preserved.

There do not seem be other classes referencing these (besides the
THT dep-on):
$ for i in 'profile::pacemaker::database::(mysql|redis)' 'profile::pacemaker::cinder::(backup|volume)' 'profile::pacemaker::haproxy' 'profile::pacemaker::rabbitmq'; do
    grep -ir -P ""^[^#].*$i"" manifests
  done

manifests/profile/pacemaker/database/mysql_bundle.pp:class tripleo::profile::pacemaker::database::mysql_bundle (
manifests/profile/pacemaker/database/redis_bundle.pp:class tripleo::profile::pacemaker::database::redis_bundle (
manifests/profile/pacemaker/cinder/backup_bundle.pp:class tripleo::profile::pacemaker::cinder::backup_bundle (
manifests/profile/pacemaker/cinder/volume_bundle.pp:class tripleo::profile::pacemaker::cinder::volume_bundle (
manifests/profile/pacemaker/haproxy_bundle.pp:class tripleo::profile::pacemaker::haproxy_bundle (
manifests/profile/pacemaker/haproxy_bundle.pp:  $haproxy_docker_image = hiera('tripleo::profile::pacemaker::haproxy::haproxy_docker_image', undef),
manifests/profile/pacemaker/rabbitmq_bundle.pp:class tripleo::profile::pacemaker::rabbitmq_bundle (

Depends-On: I60b92234a8b41b1843e702ff238dd8b6e94dd6e2

Conflicts:
	manifests/profile/pacemaker/database/mysql.pp
	manifests/profile/pacemaker/database/redis.pp
	manifests/profile/pacemaker/rabbitmq.pp

Change-Id: Id1340c45679d720cdf5ed9b5b15347d73cffc445
(cherry picked from commit b55ffb5b99e1ccf55b6f3a26b942426601703731)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I60b92234a8b41b1843e702ff238dd8b6e94dd6e2,openstack/tripleo-heat-templates,stable/wallaby,nonbundle_removal-stable/wallaby,I60b92234a8b41b1843e702ff238dd8b6e94dd6e2,"Only reference _bundle manifests in cinder-{backup,volume}-pacemaker-puppet.yaml",MERGED,2022-06-28 15:05:59.000000000,2022-06-30 16:25:38.000000000,2022-06-29 23:43:33.000000000,2,2,5,847994,c0b48909edc027c48dc9f25db62487b001534c27,15,4,1,2,9816,Takashi Kajinami,kajinamit,"Only reference _bundle manifests in cinder-{backup,volume}-pacemaker-puppet.yaml

Let's remove the non used non-_bundle pacemaker manifests.
We do not support any HA via non-containerized services at this point in time.
And via Id1340c45679d720cdf5ed9b5b15347d73cffc445 we're actually
removing them from puppet-tripleo.

Change-Id: I60b92234a8b41b1843e702ff238dd8b6e94dd6e2
(cherry picked from commit fd893918ce1f6fde80211c3566febf6af3b6020b)
"
openstack%2Fos-vif~master~Ic5b38a0467b3c18e38bec005d80cd1f5f0e66b28,openstack/os-vif,master,hybrid-plug,Ic5b38a0467b3c18e38bec005d80cd1f5f0e66b28,Check for hybrid plugging in OVS,MERGED,2022-04-22 21:09:08.000000000,2022-06-30 16:06:58.000000000,2022-06-30 16:04:54.000000000,32,4,12,839102,9ace551db2262d1134ad984ae8a10436a02cdac6,24,5,3,3,8655,Jakub Libosvar,jlibosva,"Check for hybrid plugging in OVS

There is a cold migration scenario that leaves some interfaces behind in
case port binding changes from hybrid to direct plugging between the
nodes. This patch adds functionality that checks presence of
intermediate linux bridge and clears things up properly if found.

Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
Change-Id: Ic5b38a0467b3c18e38bec005d80cd1f5f0e66b28
"
openstack%2Ftripleo-quickstart-extras~master~I136c0d40b8088779a5fbc3570e1f136a88ec41e3,openstack/tripleo-quickstart-extras,master,nftables,I136c0d40b8088779a5fbc3570e1f136a88ec41e3,Allow CI to switch the firewall engine,MERGED,2022-06-21 11:28:40.000000000,2022-06-30 16:02:34.000000000,2022-06-30 16:02:34.000000000,4,0,9,847002,bd772df0ebd836bb5125cc61f513d1f0eb07f9a6,23,7,2,1,28223,Cedric Jeanneret,cjeanner,"Allow CI to switch the firewall engine

In order to properly test nftables in the different scenarios, we want
to be able to switch the engine.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/841445
Change-Id: I136c0d40b8088779a5fbc3570e1f136a88ec41e3
"
openstack%2Fgovernance-sigs~master~I533080c8e1c07f6bb046aea4f521b39d4dfc560e,openstack/governance-sigs,master,opensearch,I533080c8e1c07f6bb046aea4f521b39d4dfc560e,tact-sig: Simplify OpenSearch mention,MERGED,2022-06-21 13:18:29.000000000,2022-06-30 15:53:40.000000000,2022-06-30 15:52:33.000000000,5,7,2,847017,175c615f2df82d52c87e73c87a86a7f84f643394,12,4,2,1,5263,Jeremy Stanley,fungi,"tact-sig: Simplify OpenSearch mention

The TaCT SIG section on the OpenSearch service no longer needs to
link to the old Logstash service, since that's not even reachable
lately after being turned off. Just remove the sentence about it.

Clarify the separate callout for the ""global"" tenant name, because
the supplied URL already embeds it so the login page doesn't
normally prompt for it, but may do so if the session expires.

Correct the capitalization of Opensearch to OpenSearch, since that
seems to be how their community styles the name.

Change-Id: I533080c8e1c07f6bb046aea4f521b39d4dfc560e
"
openstack%2Freleases~master~I594705baa9e8318565e1bb402fcd2ce45537c85d,openstack/releases,master,wallaby-stable,I594705baa9e8318565e1bb402fcd2ce45537c85d,Release blazar for stable/wallaby,MERGED,2022-06-28 08:13:37.000000000,2022-06-30 15:50:31.000000000,2022-06-30 15:50:31.000000000,4,0,1,847896,961f3a99ad6d91eaadc3042ebe42151ae0d9c9a1,9,4,1,1,17685,Elod Illes,elod.illes,"Release blazar for stable/wallaby

This release picks up new commits to blazar since
the last release from stable/wallaby.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 7.0.0..60622bc
cba58e0 Fix references to start and end dates
61daf2d Fix list_allocations for multi-host reservations
6549ab0 Handle AggregateNotFound when deleting aggregate
dd844f0 Fix lease update when resource_type parameter is missing
80a7539 Use built-in oslo context de/serialization
7a0fef2 Update Nova scheduler filter configuration
23c7ed9 Skip blazar install in docs and pep8 jobs
5b6c51d Switch to stestr
da70772 Remove six again
43587aa docs: Update Freenode to OFTC
d3737b5 Update TOX_CONSTRAINTS_FILE for stable/wallaby
dbdb059 Update .gitreview for stable/wallaby

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I594705baa9e8318565e1bb402fcd2ce45537c85d
"
openstack%2Ftripleo-quickstart~master~Icfdea8c5d2f3b3abac6e1bc50c634c644531637c,openstack/tripleo-quickstart,master,bug1978969,Icfdea8c5d2f3b3abac6e1bc50c634c644531637c,Temp downgrade of libvirt 8.4.x - failing tempest,MERGED,2022-06-16 15:42:26.000000000,2022-06-30 15:40:58.000000000,2022-06-17 07:42:17.000000000,12,0,1,846194,98d0085b5bacc10cebcc670738d8fee6bdb82210,22,8,3,4,9976,Ronelle Landy,rlandy,"Temp downgrade of libvirt 8.4.x - failing tempest

With libvirt-8.4.0-1 and latest related packages from
centos-stream/9-stream/AppStream, the test_hotplug_nic
tempest test and others are failing.

Related BZ: https://bugzilla.redhat.com/show_bug.cgi?id=2092856

This review temp removes these libvirt related
packages to unblock testing while the BZ fix propogates.

Related-Bug: #1978969
Change-Id: Icfdea8c5d2f3b3abac6e1bc50c634c644531637c
"
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I94647b1eaa90ec9507c4887fbae9a07cfb9f8f35,openstack/puppet-tripleo,stable/wallaby,,I94647b1eaa90ec9507c4887fbae9a07cfb9f8f35,Swift: Fix the class to enable the audit middleware,MERGED,2022-03-23 14:21:37.000000000,2022-06-30 15:37:12.000000000,2022-05-24 17:48:40.000000000,52,1,2,834891,b915c17236205755bd0e84deee96deefcda4b4e9,13,4,1,2,6968,Christian Schwede,cschwede,"Swift: Fix the class to enable the audit middleware

The swift::audit class does not exist, and the swift::proxy::audit
class should be used instead.

Change-Id: I94647b1eaa90ec9507c4887fbae9a07cfb9f8f35
Closes-Bug: #1960630
(cherry picked from commit a68d37f88c9e6dbb172a7bfdcc66bbb4a02f3e44)
"
openstack%2Fnova~stable%2Fxena~Ia511879d2f5f50a3f63d180258abccf046a7264e,openstack/nova,stable/xena,bug/1964149,Ia511879d2f5f50a3f63d180258abccf046a7264e,reenable greendns in nova.,MERGED,2022-03-11 16:14:47.000000000,2022-06-30 15:34:30.000000000,2022-06-30 15:31:48.000000000,16,58,2,833411,a913ab1aabb827771e54ef64b579cebe44ad53d1,13,4,1,3,11604,sean mooney,sean-k-mooney,"reenable greendns in nova.

Back in the days of centos 6 and python 2.6 eventlet
greendns monkeypatching broke ipv6. As a result nova
has run without greendns monkey patching ever since.
This removes that old workaround allowing modern
eventlet to use greendns for non blocking dns lookups.

Closes-Bug: #1964149
Change-Id: Ia511879d2f5f50a3f63d180258abccf046a7264e
(cherry picked from commit fe1ebe69f358cbed62434da3f1537a94390324bb)
"
openstack%2Ftripleo-heat-templates~master~Id8a9854b0932b0a9df7312cb980b4a1d65b341fb,openstack/tripleo-heat-templates,master,dnm,Id8a9854b0932b0a9df7312cb980b4a1d65b341fb,[DNM] Test ovn dbs non ha standalone,NEW,2022-06-30 06:56:17.000000000,2022-06-30 15:32:55.000000000,,27,36,0,848220,4272f776e81ccea288460fbe2f8a95a18faee507,10,2,5,11,13861,yatin,yatinkarel,"[DNM] Test ovn dbs non ha standalone

Change-Id: Id8a9854b0932b0a9df7312cb980b4a1d65b341fb
"
openstack%2Fnova~stable%2Fwallaby~I3f1073d70e4332737e33f3c9c00cf129d0ef76b4,openstack/nova,stable/wallaby,bug/1939545,I3f1073d70e4332737e33f3c9c00cf129d0ef76b4,Add a regression test for bug 1939545,MERGED,2022-05-27 19:19:23.000000000,2022-06-30 15:03:36.000000000,2022-06-30 15:00:57.000000000,151,15,10,843679,9f7b81c4cfe9f6a41fb28ec3b9d20616817ceab5,31,3,7,2,8864,Artom Lifshitz,artom,"Add a regression test for bug 1939545

Assert the behaviour of the libvirt driver during pre_live_migration
with instances that have block based volumes attached.

Bug #1939545 covering the case where the returned path from os-brick
isn't being saved into the connection_info of the associated bdm in
Nova.

The cinder fixture is extended as part of this change to offer
connection_info listing the iscsi volume type in order to correctly
assert the behaviour of the associated libvirt volume driver.

Conflicts: nova/tests/fixtures/cinder.py did not exist, applied
changes to CinderFixture class in nova/tests/fixtures.py. Also:
* Switched to using uuidsentinel instead of uuids, as the import is
  done as the former in stable/wallaby.
* Fixed the fakelibvirt import to match where it lives in
  stable/wallaby.
* Replace use of OSBrickFixture() that didn't exist in stable/wallaby
  with the fake_os_brick_connector from the libvirt unit tests.
* Fix fakelibvirt migrateToURI3 monkeypatch to use correct path for
  stable/wallaby.

Related-Bug: #1939545
Change-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4
(cherry picked from commit 268b7169554f871d3813d78e79861934d086484d)
"
openstack%2Fnova~stable%2Fwallaby~I066fb5617bae944a03273049117fc2b5bf329283,openstack/nova,stable/wallaby,bug/1939545,I066fb5617bae944a03273049117fc2b5bf329283,fake: Ensure need_legacy_block_device_info returns False,MERGED,2022-05-27 19:19:23.000000000,2022-06-30 15:02:22.000000000,2022-06-30 15:00:51.000000000,31,19,12,843678,74160240526ccc64b7c86b66969b2e22f8a2c683,54,5,4,3,8864,Artom Lifshitz,artom,"fake: Ensure need_legacy_block_device_info returns False

The legacy block_device_info format has not been used for a while in the
virt drivers and the Fake virt drivers shouldn't be using it anymore.

Some compute tests have been updated as they were previously asserting
the legacy format incorrectly. TODOs are also left to remove support for
the legacy format in a follow up change.

Change-Id: I066fb5617bae944a03273049117fc2b5bf329283
(cherry picked from commit d102b751b743b5315557cac0997198152c0cac74)
"
openstack%2Fosc-placement~master~I38ff55bdd072f3a9c1ed03e28192d045cb4096cf,openstack/osc-placement,master,add-zed-python-jobtemplates,I38ff55bdd072f3a9c1ed03e28192d045cb4096cf,Support microversion 1.39,MERGED,2022-02-09 14:54:51.000000000,2022-06-30 14:39:35.000000000,2022-06-30 14:37:56.000000000,284,18,24,828545,9545623054fda8313cde1253d9af3fffcdaa3949,25,4,7,8,9708,Balazs Gibizer,gibi,"Support microversion 1.39

The CLI now support the following syntax both for openstack resource
providers list and allocation candidate list commands:

  --required T1,T2 --required T3

and it means (T1 or T2) and T3.

In the allocation candidate list command the above can be used both
outside and in a --group context.

Story: 2005345
Story: 2005346

Depends-On: https://review.opendev.org/c/openstack/placement/+/826719

Change-Id: I38ff55bdd072f3a9c1ed03e28192d045cb4096cf
"
openstack%2Fos-vif~master~Icf04eca5b92387c0e81a28b4bfa00389d5da219d,openstack/os-vif,master,bug/1939542,Icf04eca5b92387c0e81a28b4bfa00389d5da219d,extend per-port bridge support to vhost-user,ABANDONED,2021-08-19 13:13:31.000000000,2022-06-30 14:28:50.000000000,,98,35,0,805214,b303d6b98f61336ecc62869f02e0a95c1eed2e91,4,2,1,2,11604,sean mooney,sean-k-mooney,"extend per-port bridge support to vhost-user

This change extneds the ablity to create per port
bridges to vhost-user interfaces. This is useful
when deploying with ml2/ovn to reduce packetloss
due to flow installation delay by creating a per port bridge.

This is an extention of the change intoduced by change
I0d55ccbef5b585330b5512e67e442b80304a2e73
which enabled per port bridge when using kernel ovs with ml2/ovn.

Change-Id: Icf04eca5b92387c0e81a28b4bfa00389d5da219d
Closes-Bug: #1939542
"
openstack%2Fpython-manilaclient~master~I477ca712edd5d54b2dcd5202848aec564002fabb,openstack/python-manilaclient,master,osc-functional-tests,I477ca712edd5d54b2dcd5202848aec564002fabb,Fix test to not check service updated_at time,MERGED,2022-06-30 09:33:16.000000000,2022-06-30 14:24:27.000000000,2022-06-30 14:23:08.000000000,2,4,3,848239,8f60f6928f091df6c0cb1e267508d03b1d55f699,12,5,1,1,16643,Goutham Pacha Ravi,gouthamr,"Fix test to not check service updated_at time

When listing and verifying services, it's possible
that the service record has been updated within
manila, and the ""updated_at"" timestamp varies. So
lets not expect it to be the same between the prior
listing and the verification to avoid a mismatch
error:

ft1.1: manilaclient.tests.functional.osc.test_share_services.ShareServicesTestCase.test_services_listtesttools.testresult.real._StringException: Traceback (most recent call last):
<snip></snap>
testtools.matchers._impl.MismatchError: '2022-06-29T20:40:16.852331' != '2022-06-29T20:40:26.856247'

Change-Id: I477ca712edd5d54b2dcd5202848aec564002fabb
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fcinder~stable%2Fwallaby~I55f383293ed32a433fc5ec87f8b638c5c52ba9bd,openstack/cinder,stable/wallaby,,I55f383293ed32a433fc5ec87f8b638c5c52ba9bd,DNM: Test cinderlib fix for privsep,ABANDONED,2022-06-22 15:58:23.000000000,2022-06-30 14:06:20.000000000,,1,54,4,847189,61c737bea8ff2895ec79e1ce274fbf7e4136f358,55,1,5,1,27615,Rajat Dhasmana,whoami-rajat,"DNM: Test cinderlib fix for privsep

Depends-On: https://review.opendev.org/c/openstack/cinderlib/+/847623
Change-Id: I55f383293ed32a433fc5ec87f8b638c5c52ba9bd
"
openstack%2Fopenstack-zuul-jobs~master~Ied5fcd27346cc098a4e3256734aa9a63a03a6ac9,openstack/openstack-zuul-jobs,master,,Ied5fcd27346cc098a4e3256734aa9a63a03a6ac9,Update 'openstack-python3-charm-jobs' to latest Python,ABANDONED,2022-06-01 17:47:01.000000000,2022-06-30 13:56:38.000000000,,26,38,0,844322,1f6bbb193acaa6c11c9fea9b8437ca0319bf0ea9,3,1,1,1,20870,Alex Kavanagh,ajkavanagh,"Update 'openstack-python3-charm-jobs' to latest Python

Modify 'openstack-python3-charm-jobs' so that it mimics the behavior of
the recently introduced 'openstack-python3-jobs' template, allowing us
to add a (non-voting) 3.10 job, and remove the 3.5, 3.6 and 3.9 jobs.

Change-Id: Ic6b29e0f70b71de25d6b1bee306a2608e59451c5
Originally by Stephen Finucane <stephenfin@redhat.com>

Change-Id: Ied5fcd27346cc098a4e3256734aa9a63a03a6ac9
"
openstack%2Fnova~master~I494425232596cf40caa97d25d88a07fb0ca9dc25,openstack/nova,master,bug/1971760,I494425232596cf40caa97d25d88a07fb0ca9dc25,[DNM] allow monkey patching spawn_n to spawn,ABANDONED,2022-05-18 13:35:45.000000000,2022-06-30 13:50:54.000000000,,22,0,0,842359,b38cdfa659b72f8b89bb6dfdb034ed56efdedef6,20,1,5,2,11604,sean mooney,sean-k-mooney,"[DNM] allow monkey patching spawn_n to spawn

This patch add a workaround config option to enable
global replacement of eventlet.spawn_n with
eventlet.spawn. This will have the side effect of
converting all freestanding greenlets to full greenthreads
with all of the implications that brings.

Related-Bug: #1971760
Change-Id: I494425232596cf40caa97d25d88a07fb0ca9dc25
"
openstack%2Fcinder-tempest-plugin~master~Ib79f2550be6183c5491c83f83d1cd79789c4d899,openstack/cinder-tempest-plugin,master,test-ceph-cs9,Ib79f2550be6183c5491c83f83d1cd79789c4d899,DNM test ceph on CentOS Stream 9,NEW,2020-05-20 21:31:23.000000000,2022-06-30 13:41:35.000000000,,70,16,3,729766,fdc878d759b5c4f24bf51586a80eb3042b34497c,87,5,21,2,10459,Luigi Toscano,ltoscano,"DNM test ceph on CentOS Stream 9

Depends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/826484/
Depends-On: https://review.opendev.org/c/openstack/devstack/+/834269
Change-Id: Ib79f2550be6183c5491c83f83d1cd79789c4d899
"
openstack%2Ftripleo-heat-templates~master~I6d2d9ecfdf5b136a1b0845416ef221d4a0b93fd1,openstack/tripleo-heat-templates,master,,I6d2d9ecfdf5b136a1b0845416ef221d4a0b93fd1,Fix commands for configure_ovn_north/south_db_server,ABANDONED,2022-06-30 11:03:36.000000000,2022-06-30 13:26:16.000000000,,20,12,1,848258,2ffe014d644215af70f505e315cec18c540b417f,5,2,2,1,9816,Takashi Kajinami,kajinamit,"Fix commands for configure_ovn_north/south_db_server

This fixes the regression caused by [1] and ensures the whole command
is passed as a single element, so that it is properly handled by
kolla_start.

[1] 5a43e8a30704692f3eb184cce694dec52ed77635
Change-Id: I6d2d9ecfdf5b136a1b0845416ef221d4a0b93fd1
"
openstack%2Ftripleo-heat-templates~master~I58ff6a38062d09cc7a2f7c623d6a6cf169e85dd4,openstack/tripleo-heat-templates,master,fix-typo,I58ff6a38062d09cc7a2f7c623d6a6cf169e85dd4,Fixing typo in HAProxyBase for DCN,MERGED,2022-06-16 02:52:01.000000000,2022-06-30 13:13:13.000000000,2022-06-30 13:13:13.000000000,1,1,5,846084,1710b9da2ec6e71152d430fe7244fa770917205b,35,5,5,1,30073,Brendan Shephard,bshephar,"Fixing typo in HAProxyBase for DCN

There is a typo in HAProxyBase causing failures in
DCN deployments. This change fixes the typo.

Resolves: rhbz#2097551
Change-Id: I58ff6a38062d09cc7a2f7c623d6a6cf169e85dd4
"
openstack%2Fkolla-ansible~master~Ia735f0f8c12acf6b89fcb8e31a3e290a4def96ab,openstack/kolla-ansible,master,,Ia735f0f8c12acf6b89fcb8e31a3e290a4def96ab,Remove unused variable haproxy_enable_federation_openid,MERGED,2022-06-30 09:41:20.000000000,2022-06-30 13:08:37.000000000,2022-06-30 12:35:14.000000000,0,2,4,848243,2793741fa41700fec1aefaf723f4adfadde98719,10,2,1,1,14826,Mark Goddard,mgoddard,"Remove unused variable haproxy_enable_federation_openid

Change-Id: Ia735f0f8c12acf6b89fcb8e31a3e290a4def96ab
"
openstack%2Fdevstack~master~Ic9030d01468b3189350f83b04a8d1d346c489d3c,openstack/devstack,master,cinder-vsz,Ic9030d01468b3189350f83b04a8d1d346c489d3c,Reduce memory consumption in Cinder services,MERGED,2022-06-14 18:37:21.000000000,2022-06-30 13:04:00.000000000,2022-06-22 08:53:39.000000000,25,6,20,845805,d5af514ac9485009229f3b594bccc09e905782fb,31,4,5,2,9535,Gorka Eguileor,Gorka,"Reduce memory consumption in Cinder services

This patch reduces memory usage on the Cinder Volume and Backup services
by tuning glibc.

The specific tuning consist on disabling the per thread arenas and
disabling dynamic thresholds.

The Cinder Backup service suffers from high water mark memory usage and
uses excessive memory.  As an example just after 10 restore operations
the service uses almost 1GB of RAM and does not ever free it afterwards.
With this patch the memory consumption of the service is reduced down to
almost 130MB.  If we add a revert from Cinder (Change-Id
I43a20c8687f12bc52b014611cc6977c4c3ca212c) it goes down to 100MB during
my tests.

This glibc tuning is not applied to all Python services because I
haven't done proper testings on them and at first glance they don't seem
to have such great improvements.

Related-bug: #1908805
Change-Id: Ic9030d01468b3189350f83b04a8d1d346c489d3c
"
openstack%2Fpython-openstackclient~master~I8879e51ab497d5ab98a50d3cc894538035e3fa79,openstack/python-openstackclient,master,ci/devstack-functionnal,I8879e51ab497d5ab98a50d3cc894538035e3fa79,Moving osc-functional-devstack and osc-functional-devstack-tips as non voting,ABANDONED,2022-06-30 09:03:33.000000000,2022-06-30 12:47:11.000000000,,2,0,3,848233,86e87d807b4cbb6034b5a21e6f1d50c93d89f990,8,2,2,1,16515,mbu,matbu,"Moving osc-functional-devstack and osc-functional-devstack-tips as non voting

Moving those jobs as non-voting since they are completely inconsistent.
Those jobs are not able to meet a correct pass rate over few weeks, blocking
patches in the gates.

Change-Id: I8879e51ab497d5ab98a50d3cc894538035e3fa79
"
openstack%2Fdevstack-plugin-ceph~master~Id2a704b136b9e47b7b88ef586282cb5d0f754cf1,openstack/devstack-plugin-ceph,master,bp/cephadm_deploy,Id2a704b136b9e47b7b88ef586282cb5d0f754cf1,Deploy with cephadm,MERGED,2022-01-26 15:14:28.000000000,2022-06-30 12:16:59.000000000,2022-06-30 12:14:30.000000000,867,79,209,826484,bba01bdd2f7c50635bb7656e8c043064b422e085,266,9,83,5,6413,Victoria Martinez de la Cruz,vkmc,"Deploy with cephadm

Add the option to deploy the Ceph cluster
with the cephadm tool.

Depends-On: I799521f008123b8e42b2021c1c11d374b834bec3
Co-Authored-By: Francesco Pantano <fpantano@redhat.com>

Change-Id: Id2a704b136b9e47b7b88ef586282cb5d0f754cf1
"
openstack%2Fneutron-vpnaas~master~Ie8d998c60c626bd745e207927de1936b739a2858,openstack/neutron-vpnaas,master,DNM,Ie8d998c60c626bd745e207927de1936b739a2858,DNM: Check master,ABANDONED,2022-06-21 09:42:22.000000000,2022-06-30 12:08:35.000000000,,3,3,0,846991,30df20e75a81494f2c7e260be071e5044ae4cd53,3,1,1,1,8313,Lajos Katona,elajkat,"DNM: Check master

Change-Id: Ie8d998c60c626bd745e207927de1936b739a2858
"
openstack%2Fcharm-ceph-mon~stable%2Fpacific~I937ac59b0583921b07358751ab2b78acbf42e424,openstack/charm-ceph-mon,stable/pacific,charmhub-migration-ceph,I937ac59b0583921b07358751ab2b78acbf42e424,Set default for source to be cloud:focal-victoria,ABANDONED,2022-03-23 15:46:51.000000000,2022-06-30 11:40:43.000000000,,1,1,2,834914,93b52259f704ed017cc88719033e4f98d3b9a71b,13,3,3,1,20870,Alex Kavanagh,ajkavanagh,"Set default for source to be cloud:focal-victoria

Change-Id: I937ac59b0583921b07358751ab2b78acbf42e424
"
openstack%2Fsahara-plugin-cdh~master~I7805ba2ff67335d23917de8b04d6aeaeff83120f,openstack/sahara-plugin-cdh,master,,I7805ba2ff67335d23917de8b04d6aeaeff83120f,Remove py36 and py37,MERGED,2021-12-21 10:24:54.000000000,2022-06-30 11:21:50.000000000,2022-06-30 11:16:46.000000000,2,3,6,822466,6b0409043f3e77d47569c3239aff0c9110940a81,45,4,16,1,34375,hejunli,hejunli,"Remove py36 and py37

In zed cycle, OpenStack projects has dropped the py3.6 and py3.7
support, so we will remove them from this project.

And add py38 and py39 support in setup.cfg file.

- https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I7805ba2ff67335d23917de8b04d6aeaeff83120f
"
openstack%2Fsahara-plugin-cdh~master~If1f5aea0975e05b00e57f03d0f61f6f0fa7796b0,openstack/sahara-plugin-cdh,master,drop-l-c,If1f5aea0975e05b00e57f03d0f61f6f0fa7796b0,Drop lower-constraints.txt and its testing,MERGED,2022-06-29 07:28:21.000000000,2022-06-30 11:20:49.000000000,2022-06-30 11:16:44.000000000,5,160,0,847744,70677e452bc8f7ed9103a84f50de085f7a8d99c6,11,5,2,4,26458,Brin Zhang,zhangbailin,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], dropping
the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

And switch to openstack-python3-zed-jobs

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: If1f5aea0975e05b00e57f03d0f61f6f0fa7796b0
"
openstack%2Fsahara~master~I7351b45dff2754b07ab6f0f8a72263f64307e8b4,openstack/sahara,master,drop-l-c,I7351b45dff2754b07ab6f0f8a72263f64307e8b4,Drop lower-constraints.txt and its testing,MERGED,2022-06-29 07:34:14.000000000,2022-06-30 11:20:47.000000000,2022-06-30 11:16:42.000000000,4,160,0,847745,b3a20e5f02901ca33b1ccca414e877d409f81d5e,9,5,1,4,26458,Brin Zhang,zhangbailin,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], dropping
the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I7351b45dff2754b07ab6f0f8a72263f64307e8b4
"
openstack%2Fpython-openstackclient~master~I2f558b046e384cdbdb5aa713305cbd71d9079fae,openstack/python-openstackclient,master,,I2f558b046e384cdbdb5aa713305cbd71d9079fae,Stop enabling network segments,ABANDONED,2022-06-30 09:19:40.000000000,2022-06-30 11:14:43.000000000,,3,2,5,848237,5220358bdd3d8dab0cecff9b7e7e788a7da63815,8,3,1,1,13252,Dr. Jens Harbott,jrosenboom,"Stop enabling network segments

The tests for network segments are failing often, disable them until
they can be fixed to be more stable.

Change-Id: I2f558b046e384cdbdb5aa713305cbd71d9079fae
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I0a0bd4a353bdc35698444b72f093cce176bbe5a0,openstack/tripleo-heat-templates,stable/wallaby,executable-tools-scripts-stable/wallaby,I0a0bd4a353bdc35698444b72f093cce176bbe5a0,Make tools scripts executable,MERGED,2022-06-30 00:36:01.000000000,2022-06-30 11:12:34.000000000,2022-06-30 11:12:34.000000000,0,0,0,848123,dd13d732009822f3f07592af6bdf9f7b20d2220a,7,3,1,2,24245,Harald Jensås,harald.jensas,"Make tools scripts executable

Set +x permission on files:
 * tools/convert_heat_nic_config_to_ansible_j2.py
 * tools/convert_v1_net_data.py

Other python scripts have the executable permission set.
Align the two scripts with the rest.

Change-Id: I0a0bd4a353bdc35698444b72f093cce176bbe5a0
(cherry picked from commit a77d5ebde2f72366ba1bce6859b7d4034ddc414c)
"
openstack%2Ftripleo-heat-templates~master~Ia6bf5b1576af80d1a4db281636b051902192e5c2,openstack/tripleo-heat-templates,master,deprecate-networking-ansible,Ia6bf5b1576af80d1a4db281636b051902192e5c2,"Revert ""Deprecate support for networking-ansible""",ABANDONED,2022-06-29 10:59:34.000000000,2022-06-30 10:51:22.000000000,,1,7,4,848065,7dc783c7fe9763668a4fe868c1e26ceb1952e5b7,8,9,1,5,9976,Ronelle Landy,rlandy,"Revert ""Deprecate support for networking-ansible""

This reverts commit f90f685d5d22b12f3d74a141ce57d9cee02e0047.

Reason for revert: Testing bug: #1980202

Change-Id: Ia6bf5b1576af80d1a4db281636b051902192e5c2
"
openstack%2Fvalidations-common~stable%2F1.6~I252892fdae2370e1ad9005e39e5209ac43895c0e,openstack/validations-common,stable/1.6,,I252892fdae2370e1ad9005e39e5209ac43895c0e,DNM testing constraints on stable/1.6 branch,ABANDONED,2022-06-27 12:32:09.000000000,2022-06-30 10:49:37.000000000,,1,0,0,847776,07a8992729a711856ffbee974d6980b2b7afbbf8,3,1,1,1,32926,Jiri Podivin,jpodivin,"DNM testing constraints on stable/1.6 branch

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I252892fdae2370e1ad9005e39e5209ac43895c0e
"
openstack%2Fvalidations-libs~stable%2F1.6~Iacdb38ced1272e2d2c8111d33275cb60c1dfa663,openstack/validations-libs,stable/1.6,,Iacdb38ced1272e2d2c8111d33275cb60c1dfa663,DNM testing tox constraints on stable  branches,ABANDONED,2022-06-27 09:20:04.000000000,2022-06-30 10:49:32.000000000,,1,0,0,847753,4e41705b6177dcd882dee37d6bc07c5b3612a6cb,3,1,1,1,32926,Jiri Podivin,jpodivin,"DNM testing tox constraints on stable  branches

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iacdb38ced1272e2d2c8111d33275cb60c1dfa663
"
openstack%2Fpuppet-openstacklib~stable%2Fyoga~I7728df4bae694fe560e2e2b90ee4bb480f03a43c,openstack/puppet-openstacklib,stable/yoga,hide-file-diff-stable/yoga,I7728df4bae694fe560e2e2b90ee4bb480f03a43c,Hide differences when updating clouds.yaml,MERGED,2022-06-28 16:42:28.000000000,2022-06-30 10:47:35.000000000,2022-06-30 10:47:35.000000000,6,5,1,847997,2c66f1d9ebaeb117094ab130711a991d25af8b08,11,3,1,1,9816,Takashi Kajinami,kajinamit,"Hide differences when updating clouds.yaml

The clouds.yaml file includes credentials to access OpenStack APIs, so
differences should be hidden from output.

Change-Id: I7728df4bae694fe560e2e2b90ee4bb480f03a43c
(cherry picked from commit b109d66934f9bc23e9609307473819c0f7cf2e4e)
"
openstack%2Ftripleo-ansible~master~I9fcca0551ff673bbfabddfe9daefb6e96699f93d,openstack/tripleo-ansible,master,bug/1980198,I9fcca0551ff673bbfabddfe9daefb6e96699f93d,Remove wrong usage of --node in puppet lookup command,MERGED,2022-06-29 15:50:34.000000000,2022-06-30 10:20:39.000000000,2022-06-30 10:20:39.000000000,1,4,6,848150,f54b54839abe6e9229aff77cc959a4cd63043ad6,14,4,4,2,9816,Takashi Kajinami,kajinamit,"Remove wrong usage of --node in puppet lookup command

Puppet does not translate agent.local and regards it as an actual node
name. Usage of an invalid command results in a failure since puppet
7.13.0[1] (now we have puppet 7.16.0) because hieradata of that node is
not properly looked up. If we want to look up data for the local node
then --node is not needed.

[1] https://github.com/puppetlabs/puppet/commit/6b1cc3f6ec2d75508395a0803f39fc89c7db980d

Closes-Bug: #1980198
Change-Id: I9fcca0551ff673bbfabddfe9daefb6e96699f93d
"
openstack%2Ftripleo-heat-templates~master~I4d0fef3fe2f821ad694858b0bf109b555f736823,openstack/tripleo-heat-templates,master,rhsm/no-empty-parameter_defaults,I4d0fef3fe2f821ad694858b0bf109b555f736823,"Comment out the empty ""parameter_defaults""",MERGED,2022-06-28 08:17:57.000000000,2022-06-30 10:20:35.000000000,2022-06-30 10:20:35.000000000,23,21,1,847899,226d5cb2a60b27fddb0995fa89ac1e2a0f1db5d8,8,4,1,1,28223,Cedric Jeanneret,cjeanner,"Comment out the empty ""parameter_defaults""

If an operator passes this file and gets their actual RHSM data in
another environment file, such as:
openstack overcloud deploy \
  -e /usr/share/openstack-tripleo-heat-templates/environments/rhsm.yaml \
  -e /home/stack/custom-rhsm.yaml

it will fail with the following error:
ValueError: environment has empty section ""parameter_defaults""

Commenting out the empty parameter_defaults will avoid this kind of
issue - while allowing the operator to still pass their files.

Change-Id: I4d0fef3fe2f821ad694858b0bf109b555f736823
"
openstack%2Ftripleo-ci~master~Ieb275fd0f4f9df2251465a8fffe2a962d53b1ce9,openstack/tripleo-ci,master,ubi9_container,Ieb275fd0f4f9df2251465a8fffe2a962d53b1ce9,Switch to ubi9 containers_base_image image,MERGED,2022-05-30 07:26:15.000000000,2022-06-30 10:20:32.000000000,2022-06-30 10:20:32.000000000,4,3,12,843787,140097ee9b64e025b28171e31862ce6f162b1f16,52,5,8,4,12393,chandan kumar,chkumar246,"Switch to ubi9 containers_base_image image

Since RHEL-9 is released now and
registry.access.redhat.com/ubi9 is also available.
Let's use the same in content provider and build-containers job.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/846166


Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ieb275fd0f4f9df2251465a8fffe2a962d53b1ce9
"
openstack%2Ftripleo-validations~stable%2Ftrain~I55c4a9204f1ccf73234da67ab191e4498d49dfb1,openstack/tripleo-validations,stable/train,,I55c4a9204f1ccf73234da67ab191e4498d49dfb1,DNM override-checkout,ABANDONED,2022-03-18 14:04:28.000000000,2022-06-30 09:53:51.000000000,,1,0,0,834313,fb1bdc191953be61e4271ecb7ce1e3da503112bb,3,1,1,1,32926,Jiri Podivin,jpodivin,"DNM override-checkout

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I55c4a9204f1ccf73234da67ab191e4498d49dfb1
"
openstack%2Fansible-collections-openstack~master~I0951488d9632b73e40e262b4fa3a957c980c9b0a,openstack/ansible-collections-openstack,master,stable/1.0.0,I0951488d9632b73e40e262b4fa3a957c980c9b0a,DNM testing override behavior,ABANDONED,2022-05-24 06:50:50.000000000,2022-06-30 09:53:39.000000000,,2,0,3,843106,063c08c81e969bbe3d28227ff360893bb5b3cf81,15,2,5,2,32926,Jiri Podivin,jpodivin,"DNM testing override behavior

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I0951488d9632b73e40e262b4fa3a957c980c9b0a
"
openstack%2Fironic~master~I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b,openstack/ironic,master,redfish-raid,I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b,Fix Redfish RAID to update raid_config,MERGED,2022-05-23 14:12:27.000000000,2022-06-30 09:53:09.000000000,2022-06-30 09:50:51.000000000,159,5,7,842979,29364b7fb40327dc277c535e5b829133274ad420,40,3,1,3,27909,Aija Jauntēva,ajya,"Fix Redfish RAID to update raid_config

Story: 2003514
Task: 41940
Change-Id: I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b
"
