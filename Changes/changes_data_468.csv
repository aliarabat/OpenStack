id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fpuppet-openstack-integration~master~I280adf43e8a427b555a91d1f481ea3c0c5334370,openstack/puppet-openstack-integration,master,enable-py3,I280adf43e8a427b555a91d1f481ea3c0c5334370,Remove base fedora repos as fedora-stable is enabled,MERGED,2018-07-03 14:35:55.000000000,2018-07-05 12:24:45.000000000,2018-07-05 12:24:45.000000000,11,0,0,579884,5f3a71521745d3ca0018394d880af20832ca9fc7,20,5,4,1,13861,yatin,yatinkarel,"Remove base fedora repos as fedora-stable is enabled

https://review.openstack.org/#/c/577819/ enabled
stable-base repo which includes all required packages
for fedora. We don't need fedora base repos, so remove them
after repos are configured.

Change-Id: I280adf43e8a427b555a91d1f481ea3c0c5334370
"
openstack%2Frequirements~master~Ie347ab273a1b239d9d264704482d3202dc4e4c74,openstack/requirements,master,build-lower-constraint-list,Ie347ab273a1b239d9d264704482d3202dc4e4c74,Ignore empty requirements/constraints when building lower-constraints,MERGED,2018-07-04 23:53:27.000000000,2018-07-05 11:59:45.000000000,2018-07-05 11:59:45.000000000,14,1,0,580237,8bc094cf9e922579bdc6aa42eaad9979d11b82ed,9,5,1,2,12898,Tony Breeds,tonyb,"Ignore empty requirements/constraints when building lower-constraints

Some constraints files[1] contain valid data but we want to ignore them
when generating a combined lower-constraints.txt, rather than erroring
out:

 [tony@thor requirements]$ time .tox/venv/bin/build-lower-constraints ../*/lower-constraints.txt > tjmaxx.txt
 Traceback (most recent call last):
   File "".tox/venv/bin/build-lower-constraints"", line 10, in <module>
     sys.exit(main())
   File ""/home/tony/projects/openstack/openstack/requirements/openstack_requirements/cmds/build_lower_constraints.py"", line 71, in main
     merged = list(merge_constraints_sets(constraints_sets))
   File ""/home/tony/projects/openstack/openstack/requirements/openstack_requirements/cmds/build_lower_constraints.py"", line 53, in merge_constraints_sets
     val = max((c[0] for c in constraints), key=get_requirements_version)
   File ""/home/tony/projects/openstack/openstack/requirements/openstack_requirements/cmds/build_lower_constraints.py"", line 43, in get_requirements_version
     raise ValueError('could not find version for {}'.format(req))
 ValueError: could not find version for Requirement(package='', location='', specifiers='', markers='', comment='# flake8==2.5.5', extras=frozenset())

Let's just ignore comments in those files.

[1] http://git.openstack.org/cgit/openstack/zaqar/tree/lower-constraints.txt#n28

Change-Id: Ie347ab273a1b239d9d264704482d3202dc4e4c74
"
openstack%2Ftripleo-quickstart~master~Ia72b5c2a73e639942dd5182ae8fdc21ab6aa08ef,openstack/tripleo-quickstart,master,libvirt_repro_tweaks,Ia72b5c2a73e639942dd5182ae8fdc21ab6aa08ef,Allow custom host kernel params for libguestfs,MERGED,2018-06-20 07:41:05.000000000,2018-07-05 11:31:28.000000000,2018-07-05 11:31:28.000000000,7,1,5,576772,b469bc0923824303cf234a2f62e39abcbffdf3aa,64,13,3,1,6926,Bogdan Dobrelya,bogdando,"Allow custom host kernel params for libguestfs

In the libvirt mode of the reproducer script, it may be
very useful to allow customize kernel versions used for
libguestfs commands.

Allow to define those via exported LIBGUESTFS_BACKEND,
SUPERMIN_KERNEL, SUPERMIN_KERNEL_VERSION, SUPERMIN_MODULES
env vars on the virthost.

Change-Id: Ia72b5c2a73e639942dd5182ae8fdc21ab6aa08ef
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fkolla-ansible~master~I8b8631e1c215580dd7711a0c0b3683b06ddc47d3,openstack/kolla-ansible,master,,I8b8631e1c215580dd7711a0c0b3683b06ddc47d3,Fix missed notify for zun-wsproxy container.,MERGED,2018-07-04 10:31:19.000000000,2018-07-05 11:17:55.000000000,2018-07-05 11:17:55.000000000,4,0,3,580126,acccec75a3099151063f742d148c850ccd41023d,16,6,2,1,28012,Peter Cipriano,pvc,"Fix missed notify for zun-wsproxy container.

Change-Id: I8b8631e1c215580dd7711a0c0b3683b06ddc47d3
"
openstack%2Foslo.middleware~master~I637254de2b5e1fcf2ecf94c10d44e303db5256eb,openstack/oslo.middleware,master,removing_unnecessary_requirement,I637254de2b5e1fcf2ecf94c10d44e303db5256eb,Removing oslo.serialization in test-requirements.txt,ABANDONED,2018-07-05 01:19:54.000000000,2018-07-05 11:00:01.000000000,,0,1,0,580240,d1f1965d218852b93360152882dd61dc08c12254,6,3,1,1,25903,Vu Cong Tuan,tuanvu,"Removing oslo.serialization in test-requirements.txt

oslo.serialization is not required in test-requirements.txt
This patch removes this unnecessary package.

Change-Id: I637254de2b5e1fcf2ecf94c10d44e303db5256eb
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ic5ae53d9ab52ea5e7c3f75a240a7a7f4bb5632ba,openstack/tripleo-heat-templates,stable/queens,bug/1776987,Ic5ae53d9ab52ea5e7c3f75a240a7a7f4bb5632ba,Do not grant caps if pool name is empty,MERGED,2018-07-02 15:26:55.000000000,2018-07-05 10:54:50.000000000,2018-07-05 10:54:50.000000000,17,17,2,579600,70271cd94dee7020eaacb1e83036f66d2383f179,21,4,2,1,18002,John Fulton,fultonj,"Do not grant caps if pool name is empty

The openstack_keys map can have permissions for an empty pool
which results in an invalid kerying.

Co-Authored-By: Giulio Fidente <gfidente@redhat.com>
Change-Id: Ic5ae53d9ab52ea5e7c3f75a240a7a7f4bb5632ba
Closes-Bug: 1776987
(cherry picked from commit 9746e2f9bb7926c6a5ff3028d5ae496ba4836a49)
"
openstack%2Ftripleo-common~master~Ibabe216d3e2b1ea33adc1feaae7095e76cfad19d,openstack/tripleo-common,master,bug/1739024,Ibabe216d3e2b1ea33adc1feaae7095e76cfad19d,ensure unique ironic node ID with UCS driver,MERGED,2017-12-18 13:52:41.000000000,2018-07-05 10:54:48.000000000,2018-07-05 10:54:48.000000000,81,2,4,528726,ea50e58eb6c4d0aab9d79a531a3644fd136993c5,41,8,5,3,26340,Ilya Etingof,etingof,"ensure unique ironic node ID with UCS driver

The UCS driver info handling is split off the common
PrefixedDriverInfo implementation for the purpose of
generating unique node IDs in a driver-specific and
clean way.

This change un-deprecates `pm_service_profile` option
support.

Closes-Bug: #1739024
Change-Id: Ibabe216d3e2b1ea33adc1feaae7095e76cfad19d
"
openstack%2Ftripleo-ci~master~I7bd0ebba906887db31c34085a1c8a7efa31871a9,openstack/tripleo-ci,master,bug/1779108,I7bd0ebba906887db31c34085a1c8a7efa31871a9,Use correct release file for periodic jobs,MERGED,2018-06-28 13:15:22.000000000,2018-07-05 10:54:47.000000000,2018-07-05 10:54:47.000000000,85,11,8,578793,90cce3d112a438aed8ae112475e5e5fe7f8f4480,34,11,6,3,27898,Quique Llorente,quiquell,"Use correct release file for periodic jobs

After emit releases script refactoring, we were using
{stable_release}.yml as release file for fs010 periodic jobs
The correct release file for it should use
promotion-testing-hash-{stable_release}.yml

Closes-Bug: 1779108

Change-Id: I7bd0ebba906887db31c34085a1c8a7efa31871a9
"
openstack%2Ftripleo-heat-templates~master~I50eb4831c2b413e2253cb0c3dc9aba4c719f0f14,openstack/tripleo-heat-templates,master,,I50eb4831c2b413e2253cb0c3dc9aba4c719f0f14,Handle roles w/o deprecated_nic_config_name during template cleanup,MERGED,2018-06-20 19:28:15.000000000,2018-07-05 10:54:45.000000000,2018-07-05 10:54:45.000000000,4,3,0,576946,fdeabe06e72d2b8eda6773100975addd75225a50,15,5,1,1,7144,James Slagle,slagle,"Handle roles w/o deprecated_nic_config_name during template cleanup

Don't assume the role dict has a deprecated_nic_config_name key during
cleanup of the process templates. This isn't a required field, so we
can't assume it exists, otherwise the script will traceback with a
KeyError.

Change-Id: I50eb4831c2b413e2253cb0c3dc9aba4c719f0f14
"
openstack%2Ftripleo-common~master~If9365f53c215c656cc558f07fd6651dd4a471fbf,openstack/tripleo-common,master,bug/1777660,If9365f53c215c656cc558f07fd6651dd4a471fbf,Force lowercase hostnames,MERGED,2018-06-19 14:32:58.000000000,2018-07-05 10:54:43.000000000,2018-07-05 10:54:43.000000000,4,4,0,576534,acd1bed60752efbe1d40a80583f0bb696b63fe07,19,8,1,3,7144,James Slagle,slagle,"Force lowercase hostnames

Updates the inventory, config-download and deployments.yaml tasks file
to force using lowercase hostnames everywhere. Hostnames should be
treated as case insensitive.

Change-Id: If9365f53c215c656cc558f07fd6651dd4a471fbf
Closes-Bug: #1777660
"
openstack%2Ftripleo-common~master~Ibbe1e9a6776b16078c88b9b2111bf7b774a50161,openstack/tripleo-common,master,,Ibbe1e9a6776b16078c88b9b2111bf7b774a50161,Workflows for manipulating deployment status,MERGED,2018-06-27 18:39:13.000000000,2018-07-05 10:54:42.000000000,2018-07-05 10:54:42.000000000,111,0,0,578518,6a9f9239331568a727f55aaee248d6764f8e3557,13,4,1,2,7144,James Slagle,slagle,"Workflows for manipulating deployment status

Adds new workflows for setting the deployment status to either success,
failed, or deploying. These are useful when interacting with the
deployment manually, such as manually running config-download.

Change-Id: Ibbe1e9a6776b16078c88b9b2111bf7b774a50161
"
openstack%2Ftripleo-heat-templates~master~I07374da9ddbd61f9feb2a17dcbe4514f43d70457,openstack/tripleo-heat-templates,master,bug/1780050,I07374da9ddbd61f9feb2a17dcbe4514f43d70457,Fluentd: disable log path docker transformation,MERGED,2018-07-04 15:26:54.000000000,2018-07-05 10:54:41.000000000,2018-07-05 10:54:41.000000000,0,3,0,580193,b0a27757c4e7fb7236fc1f9c67db13b6d5ad7ed6,9,6,1,1,22954,Juan Badia Payno,jbadiapa,"Fluentd: disable log path docker transformation

Currently fluentd is using a path transformation to set the log
path on all the docker services. This transformation creates
/var/log/containers path from /var/log, so all the log paths are
configured wrongly as /var/log/containers/containers/

This path disables the transformation on the fluentd service.

Closes-Bug: #1780050

Change-Id: I07374da9ddbd61f9feb2a17dcbe4514f43d70457
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ia2f50d539bf6afbeb67610a925f9f4ea0849d735,openstack/tripleo-heat-templates,stable/queens,bug/1779123,Ia2f50d539bf6afbeb67610a925f9f4ea0849d735,OVN: Remove environment files which deploy OVN dbs in non HA,MERGED,2018-07-03 07:39:04.000000000,2018-07-05 10:54:38.000000000,2018-07-05 10:54:38.000000000,8,186,0,579796,1e2df5a617ce47b9a05375541b8f77265dc10e1c,16,4,3,7,10237,Numan Siddique,numansiddique,"OVN: Remove environment files which deploy OVN dbs in non HA

In a 3 node controller deployment OVN db servers are started only on one node
and if that node goes down, we hit the down time for ovsdb-servers and neutron-server.

So it is highly recommended to deploy OVN db servers as a pacemaker HA resource.

Conflicts:
	environments/neutron-ml2-ovn-dvr.yaml
	environments/neutron-ml2-ovn.yaml
	environments/services-docker/neutron-ovn-dvr.yaml
	environments/services-docker/neutron-ovn.yaml
	environments/services/neutron-ovn-dvr.yaml
	environments/services/neutron-ovn.yaml

Change-Id: Ia2f50d539bf6afbeb67610a925f9f4ea0849d735
Closes-bug: #1779123
(cherry picked from 819805d708cccc6e1419a47b16fc012955ce9156)
"
openstack%2Fsahara-dashboard~master~Ia4f0ae1b01c632708bb5062f13dbe733ef74da37,openstack/sahara-dashboard,master,stestr,Ia4f0ae1b01c632708bb5062f13dbe733ef74da37,Switch to stestr,ABANDONED,2018-07-05 02:58:00.000000000,2018-07-05 10:47:12.000000000,,13,1,0,580255,170f550f657ac66a27c4434abede1b11d056a5bd,4,2,1,5,25903,Vu Cong Tuan,tuanvu,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: Ia4f0ae1b01c632708bb5062f13dbe733ef74da37
"
openstack%2Ftripleo-specs~master~I126812c33e0c99401214c04f7e5ddbd7151d5e36,openstack/tripleo-specs,master,priv-mgmt,I126812c33e0c99401214c04f7e5ddbd7151d5e36,"Revert ""[WIP] Spec for improved privilege escalation in py-scripts""",MERGED,2018-07-03 14:13:59.000000000,2018-07-05 10:41:26.000000000,2018-07-03 15:07:56.000000000,0,178,0,579881,1a96c16375ec1c76e16ec7ec08bd8f68fa0708cd,10,10,1,2,7144,James Slagle,slagle,"Revert ""[WIP] Spec for improved privilege escalation in py-scripts""

This was not ready to be merged.

This reverts commit a9924accdc0869084e812dac8f6fbed02bca527f.

Change-Id: I126812c33e0c99401214c04f7e5ddbd7151d5e36
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~Ib7fcafbe769aadfcc58323ba3a06fa28a80a488a,openstack/puppet-tripleo,stable/queens,bug/1779112-stable/queens,Ib7fcafbe769aadfcc58323ba3a06fa28a80a488a,Run cinder's db sync only on bootstrap node,MERGED,2018-07-03 01:50:54.000000000,2018-07-05 10:39:04.000000000,2018-07-05 10:39:04.000000000,21,3,0,579732,690bf10462d2ac922e8c22631320e359cba9698f,15,4,1,2,21129,Alan Bishop,ASBishop,"Run cinder's db sync only on bootstrap node

The sync_db variable (which is True only on bootstrap node) needs to be
passed to the ::cinder::api resource to ensure the db sync only happens
on the bootstrap node.

Closes-Bug: #1779112
Change-Id: Ib7fcafbe769aadfcc58323ba3a06fa28a80a488a
(cherry picked from commit 34810fc361e71cfabe5d8ad6e083c664af9120e8)
"
openstack%2Frally~master~I91c7447916ddcc76acae3731d0ed7e86ab3757ac,openstack/rally,master,,I91c7447916ddcc76acae3731d0ed7e86ab3757ac,Invalid links in doc,MERGED,2018-07-05 09:05:58.000000000,2018-07-05 10:36:08.000000000,2018-07-05 10:36:08.000000000,3,2,0,580325,dd4716229213f9ac6d2e559bd38e79e7d6628ea3,6,2,1,2,18320,Dao Cong Tien,TienDC,"Invalid links in doc

Change-Id: I91c7447916ddcc76acae3731d0ed7e86ab3757ac
"
openstack%2Fnetworking-ovn~master~Ie938dfcae231b1702645ea3f50795766b1e4a06d,openstack/networking-ovn,master,loosen_rev_num_test,Ie938dfcae231b1702645ea3f50795766b1e4a06d,Don't check specific revision numbers in tests,ABANDONED,2018-07-05 10:27:28.000000000,2018-07-05 10:33:58.000000000,,8,16,0,580339,1939ce0006c68e51d86ee18ee90a3934aac3de0a,2,0,1,1,5756,Terry Wilson,otherwiseguy,"Don't check specific revision numbers in tests

We can't know exactly what the revision number will be, so just
check that it matches the neutron resource.o

Depends-On: I530a6e54d82daa5d1c34a026434e432c31554287
Change-Id: Ie938dfcae231b1702645ea3f50795766b1e4a06d
"
openstack%2Fcinder~master~I65fabec317a3e3dce2512002247e8a7b75fbe5d7,openstack/cinder,master,multiattach,I65fabec317a3e3dce2512002247e8a7b75fbe5d7,NetApp ONTAP NFS: Enable multiattach capability,MERGED,2018-06-25 20:16:38.000000000,2018-07-05 10:29:15.000000000,2018-07-05 05:41:44.000000000,6,2,0,577919,4e064a3ae7ddc305e7226432d5248f4d7ae6c77d,46,30,1,3,25186,Luiz Benedito Aidar Gavioli,luizbag,"NetApp ONTAP NFS: Enable multiattach capability

Change-Id: I65fabec317a3e3dce2512002247e8a7b75fbe5d7
"
openstack%2Ftempest~master~I4121b85aa271ccd7df30d7675bd923cb84a5673a,openstack/tempest,master,group-test,I4121b85aa271ccd7df30d7675bd923cb84a5673a,refactor: Combine nearly duplicate group tests together,MERGED,2018-07-03 18:21:39.000000000,2018-07-05 10:21:55.000000000,2018-07-05 10:21:55.000000000,22,19,2,579942,597236208c222df2dd0b4583bcc214f9b44b3161,10,6,1,1,23186,Felipe Monteiro,felipe.monteiro,"refactor: Combine nearly duplicate group tests together

This patchset combines test_group_update_with_few_fields with
test_group_create_update_get since the first one is almost the
exact same as the update scenario in the second test.

test_group_update_with_few_fields just updates 1 field and
checks whether the other fields remain unchanged. This is a
unique test case that is very niche and so shouldn't really be
its own test case. It can be combined with
test_group_create_update_get.

Also this patchset adds better comments and also adds assertions
for checking that the domain_id of the group is correct.

Change-Id: I4121b85aa271ccd7df30d7675bd923cb84a5673a
"
openstack%2Foslo.messaging~master~Ib748e4f8ba1263f2c6475c8641c800b7df872b88,openstack/oslo.messaging,master,correct_group,Ib748e4f8ba1263f2c6475c8641c800b7df872b88,Moving stestr to correct package order in test-requirements.txt,MERGED,2018-07-05 01:32:20.000000000,2018-07-05 10:20:45.000000000,2018-07-05 10:20:45.000000000,1,1,0,580242,bcbebb7d6a6a36280a867143a07cc54ac902e794,7,3,1,1,25903,Vu Cong Tuan,tuanvu,"Moving stestr to correct package order in test-requirements.txt

As the comment from Stephen [1],
after moving to stestr, the package should be in exact position
where testrepository is removed.

[1] https://review.openstack.org/#/c/579743/2/test-requirements.txt@16

Change-Id: Ib748e4f8ba1263f2c6475c8641c800b7df872b88
"
openstack%2Ftempest~master~I86b418f56dfb8087e49965196971b28ab71c138e,openstack/tempest,master,setup_test_group,I86b418f56dfb8087e49965196971b28ab71c138e,refactor: Add setup_test_group to identity admin base test class,MERGED,2018-07-03 18:10:13.000000000,2018-07-05 10:18:40.000000000,2018-07-05 10:18:40.000000000,23,31,0,579940,d44150717ab816dbedaaad55bd3dab05fa51789e,9,5,1,4,23186,Felipe Monteiro,felipe.monteiro,"refactor: Add setup_test_group to identity admin base test class

This patchset adds a setup_test_group helper to identity admin
base test class which is similar to other methods like setup_test_user
to cut down on cookie cutter create/addCleanup code throughout
tests that create groups. Note that this is an instance level method
so class level group creation isn't refactored.

Change-Id: I86b418f56dfb8087e49965196971b28ab71c138e
"
openstack%2Frequirements~master~I60d87555de3eed0081157fd5ce48ba70169832e4,openstack/requirements,master,openstack/requirements/constraints,I60d87555de3eed0081157fd5ce48ba70169832e4,Updated from generate-constraints,ABANDONED,2018-07-05 06:29:30.000000000,2018-07-05 10:18:32.000000000,,21,21,0,580296,9b0c4d65a74f3b74260fe35ac610f197836d39ed,3,1,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I60d87555de3eed0081157fd5ce48ba70169832e4
"
openstack%2Freleases~master~Ib488e2b972916013424c86f8cb60abab78ceb37f,openstack/releases,master,ironic,Ib488e2b972916013424c86f8cb60abab78ceb37f,Release ironic 11.0.0 for Rocky,MERGED,2018-07-04 15:26:48.000000000,2018-07-05 10:12:39.000000000,2018-07-05 10:12:39.000000000,5,0,0,580192,c81ba3319f5d0994cd8a2b6d9a28f13943b6c7d1,6,3,1,1,10239,Dmitry Tantsur,dtantsur,"Release ironic 11.0.0 for Rocky

Change-Id: Ib488e2b972916013424c86f8cb60abab78ceb37f
"
openstack%2Fcloudkitty-dashboard~stable%2Fqueens~I2576e8078f5aceba994280990c275937f0a133f2,openstack/cloudkitty-dashboard,stable/queens,create-queens,I2576e8078f5aceba994280990c275937f0a133f2,Update UPPER_CONSTRAINTS_FILE for stable/queens,MERGED,2018-02-22 04:52:01.000000000,2018-07-05 10:03:27.000000000,2018-07-05 10:03:27.000000000,1,1,0,546867,c5f98865e9c984556dac3f41120d33629dc26205,7,3,1,1,22816,OpenStack Release Bot,release,"Update UPPER_CONSTRAINTS_FILE for stable/queens

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I2576e8078f5aceba994280990c275937f0a133f2
"
openstack%2Fcloudkitty-dashboard~stable%2Fqueens~I234a8a55e57af30a17340ba8bb2d7220e968a678,openstack/cloudkitty-dashboard,stable/queens,create-queens,I234a8a55e57af30a17340ba8bb2d7220e968a678,Update .gitreview for stable/queens,MERGED,2018-02-22 04:51:58.000000000,2018-07-05 10:03:22.000000000,2018-07-05 10:03:22.000000000,1,0,0,546866,ac8a701b012b0e24f12afa1c48d803c7c9152829,7,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/queens

Change-Id: I234a8a55e57af30a17340ba8bb2d7220e968a678
"
openstack%2Fblazar~master~Ib0eabb34f4ed367de5096a741be5ece8307d3d97,openstack/blazar,master,bug/1747560,Ib0eabb34f4ed367de5096a741be5ece8307d3d97,Query multiple events in the event loop,MERGED,2018-06-01 04:59:42.000000000,2018-07-05 09:55:58.000000000,2018-07-05 09:55:58.000000000,82,14,5,571634,8dd7a70a37b06cb122ae4988e7af024eb41a657d,32,5,7,4,8878,Masahito Muroi,masa,"Query multiple events in the event loop

The blazar manager queries only one event once a loop. The interval
of the loop is 10 seconds. So if more than 7 events start at same
time some events delay to start.

This patch enables the event loop queries multiple events at once.

Change-Id: Ib0eabb34f4ed367de5096a741be5ece8307d3d97
Closes-Bug: #1747560
"
openstack%2Fswift~master~If6441d61ee0cb11641c38d46763db6244e05e275,openstack/swift,master,,If6441d61ee0cb11641c38d46763db6244e05e275,Be consistent about capitalizing Swift in the README,MERGED,2018-07-05 06:06:25.000000000,2018-07-05 09:53:18.000000000,2018-07-05 09:53:18.000000000,2,2,0,580292,7bacd5306233e7bb2e4462ce293ddb62d7fd55ff,6,2,1,1,15343,Tim Burke,tburke,"Be consistent about capitalizing Swift in the README

Change-Id: If6441d61ee0cb11641c38d46763db6244e05e275
"
openstack%2Fswift~master~Ib11bfb551e44ccc6bbbad9d78e1e20d6486a3103,openstack/swift,master,,Ib11bfb551e44ccc6bbbad9d78e1e20d6486a3103,Make docs link consistent,MERGED,2018-07-05 06:05:15.000000000,2018-07-05 09:51:03.000000000,2018-07-05 09:51:03.000000000,1,1,0,580291,f27f1ae6490a30183c155f703a2bc31bcdd8aac0,6,2,1,1,15343,Tim Burke,tburke,"Make docs link consistent

We already link to Swift's docs in particular (as opposed to OpenStack's
in general) later in the README, may as well do it earlier, too.

Change-Id: Ib11bfb551e44ccc6bbbad9d78e1e20d6486a3103
"
openstack%2Fswift~master~Ie327fecb6a3055ff146a94e1171ec0ec68d7179f,openstack/swift,master,558692,Ie327fecb6a3055ff146a94e1171ec0ec68d7179f,Address some review comments,MERGED,2018-04-04 04:14:37.000000000,2018-07-05 09:40:47.000000000,2018-07-05 09:40:47.000000000,25,17,3,558692,7ae2cc4cc8fcf3306f5792fb44ca546c110f10db,11,5,2,2,15343,Tim Burke,tburke,"Address some review comments

There's already a nice way to reap a process if it's exited while not
waiting, and it doesn't require timeouts.

Change-Id: Ie327fecb6a3055ff146a94e1171ec0ec68d7179f
Related-Change: If6dc7b003e18ab4e8a5ed687c965025ebd417dfa
"
openstack%2Fnova~master~I88d1a5fb2576ff7ac81981798d300a27030f74f7,openstack/nova,master,use-heartbeat,I88d1a5fb2576ff7ac81981798d300a27030f74f7,Time how long pre_live_migration() takes,MERGED,2018-06-11 23:14:59.000000000,2018-07-05 09:37:02.000000000,2018-07-05 09:37:02.000000000,7,3,2,574481,7f81657818068e49fe2925cdfae7ab1365850729,63,20,3,1,6873,Matt Riedemann,mriedem,"Time how long pre_live_migration() takes

Now that we have the long_rpc_timeout setting for
pre_live_migration rpc calls from the source to
destination host, timing that operation is a bit more
interesting so this adds a timer and log message
for how long that round-trip takes.

Change-Id: I88d1a5fb2576ff7ac81981798d300a27030f74f7
"
openstack%2Fopenstack-manuals~master~Ic91c09bdccfe533b53e280f08f178b89b610a269,openstack/openstack-manuals,master,watcher-api,Ic91c09bdccfe533b53e280f08f178b89b610a269,Add Watcher API reference,MERGED,2018-06-27 08:19:42.000000000,2018-07-05 09:26:32.000000000,2018-07-05 09:26:32.000000000,1,0,0,578312,d0f01a35ba28a859ead023b81abf364a11f662fe,15,5,1,1,19055,Alexander Chadin,joker946,"Add Watcher API reference

This patch set adds API reference[1]
1. https://review.openstack.org/#/c/558559/

Change-Id: Ic91c09bdccfe533b53e280f08f178b89b610a269
"
openstack%2Fneutron-lib~master~I7a2c0c063dac86e663f7f8110758711714fca75f,openstack/neutron-lib,master,,I7a2c0c063dac86e663f7f8110758711714fca75f,"Revert ""remove CORE and L3 from neutron_lib.constants""",ABANDONED,2018-07-05 08:15:23.000000000,2018-07-05 09:12:25.000000000,,12,6,0,580317,f29d4994afdf07e76eb235b62da4eec5843c78b9,3,1,1,3,6773,Lucas Alvares Gomes,lucasagomes,"Revert ""remove CORE and L3 from neutron_lib.constants""

This commit is breaking the out-of-tree plugins because they depend on
released versions of neutron (from pypi) which is incompatible with this
change [0].

This can be re-reverted once a new version of Neutron is released.

[0] The last stable version 12.0.3 depends on these constants

This reverts commit ec829f9384547864aebb56390da8e17df7051aac.

Change-Id: I7a2c0c063dac86e663f7f8110758711714fca75f
"
openstack%2Frally~master~Ie0ec7353b2b97cb874dcd544d53a9330d09e1fcf,openstack/rally,master,fix_typos,Ie0ec7353b2b97cb874dcd544d53a9330d09e1fcf,fix typos,MERGED,2018-06-21 08:21:08.000000000,2018-07-05 09:08:33.000000000,2018-07-05 09:08:33.000000000,7,7,0,577089,0813f356b7b693ed4eff9c4a14623f703f6843c9,9,3,2,4,27511,sunqingliang,sunqingliang6,"fix typos

Change-Id: Ie0ec7353b2b97cb874dcd544d53a9330d09e1fcf
"
openstack%2Fkolla~master~I80b1c9d702224dd8d622ec616c745723ab2bb01d,openstack/kolla,master,fix-blazar-build,I80b1c9d702224dd8d622ec616c745723ab2bb01d,Fix blazar build,MERGED,2018-07-04 11:43:38.000000000,2018-07-05 08:52:06.000000000,2018-07-05 08:52:06.000000000,0,1,0,580143,a6e5b6e7fcfa4787cefd6258ca8eb95e3dbf6247,8,4,1,1,19316,Eduardo Gonzalez,egonzalez90,"Fix blazar build

Blazar recently implemented policy in code.
They removed policy.json

Change-Id: I80b1c9d702224dd8d622ec616c745723ab2bb01d
"
openstack%2Fmonasca-api~master~If599eda62aeedacdd5660d8efc2462ad83da2ae6,openstack/monasca-api,master,enable_service,If599eda62aeedacdd5660d8efc2462ad83da2ae6,Show how to enable more OpenStack services in devstack,MERGED,2018-07-03 12:32:09.000000000,2018-07-05 08:32:24.000000000,2018-07-05 08:32:24.000000000,11,0,0,579852,c1adf3b30da8a529c13cbf9a2c1677081f29f5a3,10,4,1,1,21922,Dobroslaw Zybort,dobrolaw.zybort,"Show how to enable more OpenStack services in devstack

Change-Id: If599eda62aeedacdd5660d8efc2462ad83da2ae6
"
openstack%2Freleases~master~Iecb1f6ddb2689ff641202a894bdde61dcd56ebfe,openstack/releases,master,oslo-2018-7-2,Iecb1f6ddb2689ff641202a894bdde61dcd56ebfe,Oslo releases for 2018-7-3,MERGED,2018-07-03 21:20:44.000000000,2018-07-05 08:18:15.000000000,2018-07-05 08:18:15.000000000,12,0,0,579992,ec7f918a702c7d9a4d4dad4cd09419c84eff9ff0,8,3,1,3,6928,Ben Nemec,bnemec,"Oslo releases for 2018-7-3

Change-Id: Iecb1f6ddb2689ff641202a894bdde61dcd56ebfe
"
openstack%2Fwatcher~master~I842a4e4bbe0bb713c8206df32952b4297b21d15f,openstack/watcher,master,watcher-api,I842a4e4bbe0bb713c8206df32952b4297b21d15f,Triggers the api-ref-jobs to publish wather api reference,MERGED,2018-07-03 09:00:48.000000000,2018-07-05 08:13:48.000000000,2018-07-05 08:13:48.000000000,2,2,0,579819,c783a29047909d9bdf5c70db227f503181e9135c,10,4,1,1,19779,Chason Chan,chenxing,"Triggers the api-ref-jobs to publish wather api reference

Change-Id: I842a4e4bbe0bb713c8206df32952b4297b21d15f
"
openstack%2Fmonasca-log-api~master~Ib6c577cca038dc50836264bd17c83ed8cd0acfb8,openstack/monasca-log-api,master,enable_service,Ib6c577cca038dc50836264bd17c83ed8cd0acfb8,Show how to enable more OpenStack services in devstack,MERGED,2018-07-03 12:19:00.000000000,2018-07-05 07:36:42.000000000,2018-07-05 07:36:42.000000000,11,0,0,579850,fa3b160b8407286f3f722d766cc2a31ab32cea1a,11,4,3,1,21922,Dobroslaw Zybort,dobrolaw.zybort,"Show how to enable more OpenStack services in devstack

Change-Id: Ib6c577cca038dc50836264bd17c83ed8cd0acfb8
"
openstack%2Fmonasca-log-api~master~I9cde2c00785596f3971378520cbc0ea96e141ac1,openstack/monasca-log-api,master,579130,I9cde2c00785596f3971378520cbc0ea96e141ac1,Fix and unify cover environment,MERGED,2018-06-29 12:02:52.000000000,2018-07-05 07:36:41.000000000,2018-07-05 07:36:41.000000000,7,4,0,579130,3fac2891598d4bbbcea4f7258fa94c43b5a75810,10,3,3,1,16222,witek,witek,"Fix and unify cover environment

Fix cover environment and unify it accordingly to Project Testing
Interface [1].

[1] https://governance.openstack.org/tc/reference/pti/python.html#coverage-jobs

Change-Id: I9cde2c00785596f3971378520cbc0ea96e141ac1
"
openstack%2Fnova~master~Iad256079945bf8b5745ebdcc393c55115dbcab75,openstack/nova,master,bug/1775863,Iad256079945bf8b5745ebdcc393c55115dbcab75,Fix unbound local when saving an unchanged RequestSpec,MERGED,2018-06-08 16:02:36.000000000,2018-07-05 07:31:59.000000000,2018-07-04 15:28:12.000000000,19,4,2,573768,08fb09e878dcaedbb446e18502a6172fa4d43121,50,20,3,2,9708,Balazs Gibizer,gibi,"Fix unbound local when saving an unchanged RequestSpec

RequestSpec._get_update_primitives() tried to return the unitialized
db_updates field when the object has no changes. This patch initalizes
that local to None and handles that None in create() and save() where
the RequestSpec._get_update_primitives() is called.

Change-Id: Iad256079945bf8b5745ebdcc393c55115dbcab75
Closes-Bug: #1775863
"
openstack%2Fkolla-ansible~master~Idf7f222645b5073e2c72d59eecf3d47b3f1dc6ba,openstack/kolla-ansible,master,,Idf7f222645b5073e2c72d59eecf3d47b3f1dc6ba,Migrate ceph keyring creation to kolla_ceph_keyring module,MERGED,2018-03-30 02:53:33.000000000,2018-07-05 07:29:37.000000000,2018-07-05 07:29:37.000000000,118,41,2,557872,3397668d10aac69e016e7c6bd72d16c625e1e0d1,39,14,7,13,7488,Jeffrey Zhang,Jeffrey4l,"Migrate ceph keyring creation to kolla_ceph_keyring module

In this way, keyring caps is updatable.

Change-Id: Idf7f222645b5073e2c72d59eecf3d47b3f1dc6ba
"
openstack%2Fnova~master~I692a048b3a8da4e912e000b47da977dda466348b,openstack/nova,master,bp/api-extensions-merge-rocky,I692a048b3a8da4e912e000b47da977dda466348b,Merge server create schema for user data extension,MERGED,2018-06-27 10:15:33.000000000,2018-07-05 07:29:07.000000000,2018-07-05 07:19:03.000000000,31,115,3,578349,de03b832adcf74702c0747ff66ae6aa570538a72,59,19,2,4,8556,Ghanshyam,ghanshyam,"Merge server create schema for user data extension

As nova extensions has been deprecated already and goal is to
merge all scattered code into main controller side.
Currently schema and request/response extended code are there
among all extensions.

This commit merge the schema part of create server for user data
extensions.

Also this commit removes the logic of appending the extensions
schema as this is the last extensions schema to merge.

Partially implements: blueprint api-extensions-merge-rocky

Change-Id: I692a048b3a8da4e912e000b47da977dda466348b
"
openstack%2Fkolla-ansible~master~Ic03eb9f414e7258b6e7b710904ba7327092a7cca,openstack/kolla-ansible,master,,Ic03eb9f414e7258b6e7b710904ba7327092a7cca,Test11,ABANDONED,2018-07-03 10:06:27.000000000,2018-07-05 07:24:29.000000000,,1,0,0,579836,046053df918b388d16d3dcdaa6b185fccabb3e13,5,1,2,1,14151,ziyu032,ziyu032,"Test11

Change-Id: Ic03eb9f414e7258b6e7b710904ba7327092a7cca
"
openstack%2Ftripleo-common~master~Icdaa734a44c55c830c0109d25488b68838e8736f,openstack/tripleo-common,master,bp/bios-workflow,Icdaa734a44c55c830c0109d25488b68838e8736f,Workflow for configuring BIOS settings to ironic nodes,MERGED,2018-06-19 09:24:49.000000000,2018-07-05 07:13:33.000000000,2018-07-05 07:13:33.000000000,168,0,8,576449,6e4b8dc9cb2b9e3ea477aa7eb25aa1dcd07e1c8d,42,10,4,1,21151,zenghui.shi,zshi,"Workflow for configuring BIOS settings to ironic nodes

Introduces four workflows for configuring BIOS settings:

1) tripleo.baremetal.v1.apply_bios_settings
2) tripleo.baremetal.v1.reset_bios_settings
3) tripleo.baremetal.v1.apply_bios_settings_on_manageable_nodes
4) tripleo.baremetal.v1.reset_bios_settings_on_manageable_nodes

Note configuring BIOS settings requires a particular
hardware type to support BIOS interface.

Change-Id: Icdaa734a44c55c830c0109d25488b68838e8736f
"
openstack%2Ftripleo-heat-templates~master~Iabb447699910876d7c33a03efd2f35fc22618a0d,openstack/tripleo-heat-templates,master,bp/tripleo-messaging,Iabb447699910876d7c33a03efd2f35fc22618a0d,Update scenario003 to deploy separate messaging backends,MERGED,2018-05-06 23:06:20.000000000,2018-07-05 07:06:59.000000000,2018-07-05 07:06:58.000000000,7,3,0,566483,139b5521523bc1161cf30c2db7e9787a0d4fc25a,41,6,7,2,20523,Andy Smith,ajssmith,"Update scenario003 to deploy separate messaging backends

This patch:
* Sets up amqp1/qdrouterd for RPC and rabbit/rabbitmq for Notify

Change-Id: Iabb447699910876d7c33a03efd2f35fc22618a0d
"
openstack%2Fmonasca-ui~master~I63302965cabb1deb0a1a74ca62f3e56bd04309b7,openstack/monasca-ui,master,grafana_templating,I63302965cabb1deb0a1a74ca62f3e56bd04309b7,Adding support to use grafana templating,MERGED,2018-06-07 12:38:16.000000000,2018-07-05 07:00:14.000000000,2018-07-05 07:00:14.000000000,10,0,0,573214,c5f514815ca0de79c667bde5192b3a9fa023fd3c,16,6,2,2,28062,Martin Chacon Piza,martinchacon,"Adding support to use grafana templating

Change-Id: I63302965cabb1deb0a1a74ca62f3e56bd04309b7
Story: 2002175
Task: 20041
"
openstack%2Fmonasca-notification~master~I5d90ccb1b919c4bab66b468a8ddb714ffc5f1635,openstack/monasca-notification,master,docs,I5d90ccb1b919c4bab66b468a8ddb714ffc5f1635,Convert README to reStructuredText,MERGED,2018-06-05 13:33:08.000000000,2018-07-05 06:50:02.000000000,2018-07-05 06:50:02.000000000,144,111,0,572393,20d655774440595d06675fc1ccff34b3f3a4321c,16,3,6,6,16222,witek,witek,"Convert README to reStructuredText

* Add PyPI validation check for README.rst [1]
* Add docutils to test-requirements.txt
* Add lower bound for jira

[1] https://docs.openstack.org/project-team-guide/project-setup/python.html#running-the-style-checks

Change-Id: I5d90ccb1b919c4bab66b468a8ddb714ffc5f1635
Story: 2001980
Task: 20013
"
openstack%2Frequirements~master~Ifa21c3b3d55988c725e049733b227fa0ee22fbbd,openstack/requirements,master,python3-first,Ifa21c3b3d55988c725e049733b227fa0ee22fbbd,switch project-requirements-change to use python3,MERGED,2018-06-28 17:31:18.000000000,2018-07-05 06:48:46.000000000,2018-07-05 06:48:46.000000000,3,1,0,578944,c6ee7f563a56b5e7a80780fad20b64e1d0500179,15,4,2,1,2472,Doug Hellmann,doug-hellmann,"switch project-requirements-change to use python3

Update the version of python used to run the requirements-check script
as part of the python3-first goal.

Change-Id: Ifa21c3b3d55988c725e049733b227fa0ee22fbbd
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fheat~master~Ic635d1e4eae61ea0dfe8b1b6f9ab26f7f161e384,openstack/heat,master,test-py36,Ic635d1e4eae61ea0dfe8b1b6f9ab26f7f161e384,[Test][DMT]Test py36,ABANDONED,2018-06-06 01:25:35.000000000,2018-07-05 06:43:43.000000000,,1,0,0,572655,755bf932e9d4d99e0289ad11645130e1b2a4afb3,4,1,1,1,12404,Rico Lin,rico.lin,"[Test][DMT]Test py36

Change-Id: Ic635d1e4eae61ea0dfe8b1b6f9ab26f7f161e384
"
openstack%2Fheat~master~Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e,openstack/heat,master,microversion_mixin,Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e,Refactor resource plugins for microversion usage,MERGED,2017-09-12 11:54:47.000000000,2018-07-05 06:42:13.000000000,2018-07-05 06:42:12.000000000,74,113,26,502961,3c06347a93343850409a243b3c7e1f11eeb4db3f,68,7,15,6,8833,Rabi Mishra,rabi,"Refactor resource plugins for microversion usage

This changes the way nova client plugin is used in some nova
resource plugins.

Change-Id: Ibc41e0387a3056b3fde7b7690bf924e7493a7a7e
"
openstack%2Fbifrost~master~I10359bd752cd89cb8ff66dbec4b321449a8c7eb6,openstack/bifrost,master,579488,I10359bd752cd89cb8ff66dbec4b321449a8c7eb6,Add repository & storyboard link to README,MERGED,2018-07-02 08:28:49.000000000,2018-07-05 06:26:18.000000000,2018-07-05 06:26:18.000000000,6,0,5,579488,106eade6947cabeb293d8a44bdc05876608c3477,14,4,2,1,25254,Nguyen Van Trung,trungnv,"Add repository & storyboard link to README

Change-Id: I10359bd752cd89cb8ff66dbec4b321449a8c7eb6
"
openstack%2Fqinling~master~Ie85f1d3c7eae3009a74721d9582d34415ca10eed,openstack/qinling,master,579050,Ie85f1d3c7eae3009a74721d9582d34415ca10eed,Add an example for function cookbook,MERGED,2018-06-29 03:57:46.000000000,2018-07-05 06:18:07.000000000,2018-07-05 06:18:06.000000000,270,1,0,579050,16f5bb28261f82014df2e345619b99f0fc09ee5f,15,3,5,2,15285,Neerja Narayan,Neerja,"Add an example for function cookbook

Story: 2001577
Co-Authored-By: Lingxian Kong <anlin.kong@gmail.com>
Change-Id: Ie85f1d3c7eae3009a74721d9582d34415ca10eed
"
openstack%2Fmanila-tempest-plugin~master~I77d87c8e6f98054f2f02bc4202c14314ff321964,openstack/manila-tempest-plugin,master,bug/1696669,I77d87c8e6f98054f2f02bc4202c14314ff321964,Add ou to security service tests,MERGED,2018-02-01 14:20:13.000000000,2018-07-05 05:46:24.000000000,2018-07-05 05:46:24.000000000,103,9,3,539969,5ac3717d742fa068773f0a86581c01ff4c903573,36,6,4,4,18816,Maurice Escher,mapocace,"Add ou to security service tests

This patch complements I70fd4e0ea7898e85dff59a927b3cb086d5e408ac
by adding tests for ou parameter at security services with new
microversion 2.44.

Depends-On: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac
Change-Id: I77d87c8e6f98054f2f02bc4202c14314ff321964
Partial-Bug: #1696669
"
openstack%2Fpython-heatclient~master~I043f90541c8d2d604f3edb4e7ea082ec8adb4b25,openstack/python-heatclient,master,bug/1746669,I043f90541c8d2d604f3edb4e7ea082ec8adb4b25,Fix log_http_request function in http module,MERGED,2018-02-01 06:58:03.000000000,2018-07-05 05:45:19.000000000,2018-07-05 05:45:19.000000000,4,1,0,539834,6a27997abb1944f19feedf52b9f1415c15157861,8,3,1,1,25395,liyi,liyi8611,"Fix log_http_request function in http module

Change-Id: I043f90541c8d2d604f3edb4e7ea082ec8adb4b25
Closes-Bug:  #1746669
"
openstack%2Fqinling~master~Ib4b007d0c1e0401ed652bdf7a90993200bbfb576,openstack/qinling,master,mutable-config,Ib4b007d0c1e0401ed652bdf7a90993200bbfb576,Enable oslo_config mutable configurations,MERGED,2018-07-04 11:03:45.000000000,2018-07-05 05:28:52.000000000,2018-07-05 05:28:51.000000000,10,1,0,580134,779bcf76074890bbedeb9703aa20023cb535ff7f,6,2,1,3,6732,Lingxian Kong,kong,"Enable oslo_config mutable configurations

This patch enables oslo_config mutable configuration for the Qinling
control plane processes. The configuration will be updated when the
parent process receives a HUP signal.
This completes the Rocky goal: Enable mutable configuration.

Change-Id: Ib4b007d0c1e0401ed652bdf7a90993200bbfb576
Story: 2001545
Task: 6400
"
openstack%2Fzun~master~Ia623cd54432f83505c93f94680859c492adc4f22,openstack/zun,master,,Ia623cd54432f83505c93f94680859c492adc4f22,Backward-compatible with old restart_policy,MERGED,2018-07-05 03:10:29.000000000,2018-07-05 05:06:19.000000000,2018-07-05 05:06:19.000000000,11,2,0,580257,1526cfd22d364970f88d248a17273e23e4aa0f92,7,3,1,2,11536,hongbin,hongbin,"Backward-compatible with old restart_policy

The property 'restart_policy' is changed in spec content [1], but
unfortunately it doesn't change in a backward-compatible way and
breaks the gophercloud CI. This patch fixes it.

[1] https://review.openstack.org/#/c/571398/

Change-Id: Ia623cd54432f83505c93f94680859c492adc4f22
"
openstack%2Fcongress~master~Ia63614a84742833c75ca3cadec7db48a44200e9d,openstack/congress,master,explicit-types,Ia63614a84742833c75ca3cadec7db48a44200e9d,Data source driver preserves data types,MERGED,2018-04-18 01:25:40.000000000,2018-07-05 04:38:28.000000000,2018-07-05 04:38:28.000000000,131,119,5,562089,c8b3774a161d0062048cce42dac4aed6b73afa33,25,7,5,16,18591,Eric Kao,ekcs,"Data source driver preserves data types

Move the conversion to agnostic-compatible types from
datasource_driver to agnostic.

Internal change only; external API unaffected.

The datalog compiler and the agnostic policy engine in Congress
do not support booleans and Nones/nulls. To work with that design,
the data source drivers currently convert booleans and Nones into
strings. This works well for agnostic, but unnecessarily limits
the types handled by the data source drivers.

In the spirit of the original architecture to support policy engines
in addition to agnostic, this change expands the types handled by the
data source drivers and the Congress data bus to all the JSON scalar
types, de-coupling from the more limited set of types accepted by
agnostic. This way, other policy engines can independently choose
which subset of the data types to work with.

This would be a small first step toward integrating other policy
engines such as those based on SQL, z3, or Open Policy Agent.

Change-Id: Ia63614a84742833c75ca3cadec7db48a44200e9d
"
openstack%2Fpuppet-tripleo~stable%2Focata~I977cd46534a4c840741d5cc929994794e7b82eb4,openstack/puppet-tripleo,stable/ocata,release/ocata,I977cd46534a4c840741d5cc929994794e7b82eb4,Prepare 6.5.14 (ocata),MERGED,2018-07-04 15:50:46.000000000,2018-07-05 04:36:56.000000000,2018-07-05 04:36:56.000000000,1,1,0,580202,6e0ee312234c5b324950e04d2c85ef5879a520e0,7,3,1,1,3153,Emilien Macchi,emilienm,"Prepare 6.5.14 (ocata)

Change-Id: I977cd46534a4c840741d5cc929994794e7b82eb4
"
openstack%2Fpuppet-tripleo~stable%2Fpike~I7ef6f1c45c952b6de9315245bff76623ecd1f18b,openstack/puppet-tripleo,stable/pike,release/pike,I7ef6f1c45c952b6de9315245bff76623ecd1f18b,Prepare 7.4.14 (pike),MERGED,2018-07-04 15:51:15.000000000,2018-07-05 04:36:55.000000000,2018-07-05 04:36:55.000000000,1,1,0,580203,5a0b738d513890122d79376eb720fb00ec134fd8,7,3,1,1,3153,Emilien Macchi,emilienm,"Prepare 7.4.14 (pike)

Change-Id: I7ef6f1c45c952b6de9315245bff76623ecd1f18b
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~I3ea3774e86bb41de6a9efd96ef168a2d14299dcd,openstack/puppet-tripleo,stable/queens,release/queens,I3ea3774e86bb41de6a9efd96ef168a2d14299dcd,Prepare 8.3.4 (queens),MERGED,2018-07-04 15:51:43.000000000,2018-07-05 04:36:54.000000000,2018-07-05 04:36:54.000000000,1,1,0,580206,15a81ad902728cf75750fad9bde3f8439a99f913,7,3,1,1,3153,Emilien Macchi,emilienm,"Prepare 8.3.4 (queens)

Change-Id: I3ea3774e86bb41de6a9efd96ef168a2d14299dcd
"
openstack%2Ftripleo-ui~stable%2Fqueens~I3d6b49678264a4d74898866a2280570390075511,openstack/tripleo-ui,stable/queens,release/queens,I3d6b49678264a4d74898866a2280570390075511,Prepare 8.3.2 (queens),MERGED,2018-07-04 15:52:46.000000000,2018-07-05 04:36:53.000000000,2018-07-05 04:36:53.000000000,2,2,0,580207,93101f26e25ec8788b061554d3181d4c84148c9c,6,2,1,2,3153,Emilien Macchi,emilienm,"Prepare 8.3.2 (queens)

Change-Id: I3d6b49678264a4d74898866a2280570390075511
"
openstack%2Ftripleo-heat-templates~master~Iecf855a785bc1f787234e4e54430c929cb9cb906,openstack/tripleo-heat-templates,master,bug/1724559,Iecf855a785bc1f787234e4e54430c929cb9cb906,Disable pid file usage in the swift_rsync container,MERGED,2018-06-22 12:19:39.000000000,2018-07-05 04:36:52.000000000,2018-07-05 04:36:52.000000000,9,0,1,577403,448e04029e5d8bc982cbc3fbd4409304488437ec,22,5,1,1,6968,Christian Schwede,cschwede,"Disable pid file usage in the swift_rsync container

The pidfile is useless within containers, but prevents a restart if the
process has been stopped unclean. This happens for example when a
restart takes longer than the default timeout of 10 seconds.

This is mainly a workaround because the pid file setting is hardcoded in
the used Puppet module template. It should be removed later once the
setting can be disabled cleanly with an updated Puppet rsync module.

Related-Bug: 1724559
Change-Id: Iecf855a785bc1f787234e4e54430c929cb9cb906
"
openstack%2Fheat~master~If8f13def196442e6f28616e88972f28f8ec23d0d,openstack/heat,master,versionnegotiation,If8f13def196442e6f28616e88972f28f8ec23d0d,Restore auth-less version negotiation,MERGED,2018-06-12 11:28:01.000000000,2018-07-05 04:33:11.000000000,2018-07-05 04:33:11.000000000,4,4,0,574697,63cf3761bebe24c56d40ad8a894b3c5ee73866e6,11,5,1,1,9542,Pavlo Shchelokovskyy,pshchelo,"Restore auth-less version negotiation

change Change-Id: I097bf70431a999a0f6aa56079ffb5743b50d4d7f
inadvertently started to require (keystone) authentication
when accessing API root to get the API version document.

This breaks standard version negotiation (that usually does not require
auth) and also some monitoring / loadbalancing that used to check
returns on GET to API root.

Change-Id: If8f13def196442e6f28616e88972f28f8ec23d0d
Story: 2002531
Task: 22072
"
openstack%2Fzun~master~I644f7488190e11205ce958d8b79c9541a7ea10ec,openstack/zun,master,bug/1755019,I644f7488190e11205ce958d8b79c9541a7ea10ec,capsule: convert 'command' from string to list,MERGED,2018-07-05 02:53:03.000000000,2018-07-05 04:20:55.000000000,2018-07-05 04:20:55.000000000,1,10,0,580253,aafdd20617e882620f956a2c7cac3c67343cf690,6,2,1,1,11536,hongbin,hongbin,"capsule: convert 'command' from string to list

Change-Id: I644f7488190e11205ce958d8b79c9541a7ea10ec
Related-Bug: #1755019
"
openstack%2Fcastellan~master~I0980a08f35965292a705ad7299cfdc9a433dfc87,openstack/castellan,master,python3-first,I0980a08f35965292a705ad7299cfdc9a433dfc87,fix tox python3 overrides,MERGED,2018-06-06 18:50:25.000000000,2018-07-05 04:09:32.000000000,2018-07-05 04:09:32.000000000,9,1,0,572869,b9f6436776ddc9d9fafe3f7353532cc1fa1a0fe0,21,5,2,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I0980a08f35965292a705ad7299cfdc9a433dfc87
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fnova~master~I3816176ccd33995486a7cd19217bd76100f8bddf,openstack/nova,master,remove-newton-online-compat-code,I3816176ccd33995486a7cd19217bd76100f8bddf,Remove remaining legacy DB API instance_group* methods,MERGED,2018-06-27 17:24:46.000000000,2018-07-05 03:48:18.000000000,2018-07-04 17:36:40.000000000,2,486,0,578497,683fbe3c84ee70e817ffb8396fefb9ff6cd8830d,35,17,1,5,6873,Matt Riedemann,mriedem,"Remove remaining legacy DB API instance_group* methods

Since Ifbd53b13fa0fef62e0329283b73d587f367e46c2 we no
longer have compat code in the InstanceGroup object
and everything is handled in the API database, so we can
drop the legacy DB API methods for instance groups.

Change-Id: I3816176ccd33995486a7cd19217bd76100f8bddf
"
openstack%2Ftripleo-heat-templates~master~I5db52d5dd833833c989532931baea8fac03f9cb7,openstack/tripleo-heat-templates,master,ovs_dpdk_fails_on_pre_network,I5db52d5dd833833c989532931baea8fac03f9cb7,Ensure node is rebooted before enabling DPDK,MERGED,2018-02-09 06:31:43.000000000,2018-07-05 03:31:16.000000000,2018-02-19 20:46:36.000000000,34,6,3,542623,f9e099f218c4c5bcba5ae3daeabc7e15d75fe136,19,8,2,1,18575,Saravanan KR,saravanankr,"Ensure node is rebooted before enabling DPDK

In the PreNetworkConfig, the order of resources sent to os-collect-config
changed after introducing vhost user resource. The current order is
1. HostParametersDeployment
2. DpdkVhostGroupDeployment
3. RebootDeployment and EnableDpdkDeployment
Here the expectation is that RebootDeployment should be completed
before enabling DPDK, but since both are provided at the same time to
os-collect-config, DPDK is enabled first. The reson is RebootDepolyment
is having signal transport as NONE and EnableDpdkDeployment is moved
after reboot because of ovs2.7 change of restart vswitchd, when DPDK is
enabled. This is causing the a failure.
This patch modifies the order as below:
1. HostParametersDeployment and DpdkVhostGroupDeployment
2. RebootDeployment and RebootEnsureDeployment
3. EnableDpdkDeployment

Change-Id: I5db52d5dd833833c989532931baea8fac03f9cb7
"
openstack%2Frequirements~master~Id15691a0d415f38b243ca49351f31891168812ae,openstack/requirements,master,block_pyroute,Id15691a0d415f38b243ca49351f31891168812ae,[DNR] Block pyroute 0.5.2 for neutron-fwaas,ABANDONED,2018-07-04 13:25:49.000000000,2018-07-05 03:21:13.000000000,,2,2,0,580166,f86c76220aa178544281a80efb304cfc159ea069,3,1,1,2,25254,Nguyen Van Trung,trungnv,"[DNR] Block pyroute 0.5.2 for neutron-fwaas

Change-Id: Id15691a0d415f38b243ca49351f31891168812ae
"
openstack%2Fopenstack-helm~master~I1398e357f39ebb7dfe62a87eb33513443f22f91b,openstack/openstack-helm,master,rabbitmq-definitions,I1398e357f39ebb7dfe62a87eb33513443f22f91b,configure rabbitmq objects at startup,ABANDONED,2018-07-03 07:05:25.000000000,2018-07-05 03:17:12.000000000,,68,1,4,579785,32fd13dfbc294e6874c5bfa046cf9e10501ef970,13,7,3,3,28162,Ruslan Khanbikov,rkhanbikov,"configure rabbitmq objects at startup

This feature allows to configure at startup rabbitmq objects like policies,
users, permissions, etc.
http://www.rabbitmq.com/management.html#load-definitions

The default rmq policies have been added for nova, keystone, glance, heat notifications queues so
all messages are mirrored to the rest of the cluster and expire within 70 seconds. (the expired message will
be discarded if it reaches the head of a queue)

The configuration example:
definitions:
  users:
    - name: ""test""
      password: ...
  permissions:
    - user: ""test""
      vhost: ""/""
      ...
  policies:
    - name: ""ttl_keystone""
      vhost: ""keystone""
      definition:
        message-ttl: 70000

  which will beequal to in rabbitmq notations:
{""users: [
 {
   ""name"": ""test"",
   ""password"": ...,
 },
],
""permissions"": [
 {
   ""user"": ""test"",
   ""vhost"": ""/"",
   ...
 },
],
""policies"": [
 {
   ""name"": ""ttl_keystone"",
   ""vhost"": ""keystone"",
   ""definition"":{""message-ttl"":70000}
   ...
 }
]

Change-Id: I1398e357f39ebb7dfe62a87eb33513443f22f91b
Signed-off-by: Ruslan Khanbikov <rk760n@att.com>
"
openstack%2Fzun~master~I7471003a3af04c96bc859d89a59a3fed355f7ff2,openstack/zun,master,,I7471003a3af04c96bc859d89a59a3fed355f7ff2,"Revert ""Modify restart_policy to spec content""",ABANDONED,2018-07-05 02:28:18.000000000,2018-07-05 03:11:20.000000000,,26,37,0,580249,f2f788f0d66c67d84376677a7e68e3fb853f2d1b,4,6,1,10,11536,hongbin,hongbin,"Revert ""Modify restart_policy to spec content""

This reverts commit 1e8503e870d09f5e77b8803783f7bd59c120753f.

Change-Id: I7471003a3af04c96bc859d89a59a3fed355f7ff2
"
openstack%2Fkolla-ansible~master~I0e3c098db9d1f0a8fda383910c05ed5efc929994,openstack/kolla-ansible,master,development_guidline,I0e3c098db9d1f0a8fda383910c05ed5efc929994,Update using openstack section of quickstart,MERGED,2018-05-10 09:32:43.000000000,2018-07-05 02:59:58.000000000,2018-07-05 02:59:58.000000000,37,24,0,567536,47e2b6221bb4d11f56d9b08e6098ca5557350c5a,27,13,2,1,19779,Chason Chan,chenxing,"Update using openstack section of quickstart

Change-Id: I0e3c098db9d1f0a8fda383910c05ed5efc929994
"
openstack%2Fzun~master~I24cec2b92ebef0c984cbf74bac074633624c498a,openstack/zun,master,,I24cec2b92ebef0c984cbf74bac074633624c498a,Modify restart_policy to spec content,MERGED,2018-05-31 07:45:37.000000000,2018-07-05 02:28:18.000000000,2018-06-11 02:04:10.000000000,37,26,3,571398,1e8503e870d09f5e77b8803783f7bd59c120753f,18,6,2,10,22076,Kevin Zhao,KevinZhao,"Modify restart_policy to spec content

Align with Kubernetes

Change-Id: I24cec2b92ebef0c984cbf74bac074633624c498a
Signed-off-by: Kevin Zhao <kevin.zhao@arm.com>
"
openstack%2Fsenlin~master~Iaf9174b4a372df6fc38935a67648229bfb1ebc16,openstack/senlin,master,healthpol_poll_url,Iaf9174b4a372df6fc38935a67648229bfb1ebc16,Add node poll url detection type to health policy,MERGED,2018-06-18 22:17:23.000000000,2018-07-05 01:49:14.000000000,2018-07-05 01:49:14.000000000,877,30,21,576278,309fefa68cd91113813233f16cf053ae422df795,37,6,8,16,27224,Duc Truong,dtruong2,"Add node poll url detection type to health policy

The current implementation of health policy is able to check node health
either using lifecycle events sent by Nova or by actively polling the
the node status using Nova driver.  However, neither of those detection
types will detect that a node is unhealthy because the compute node on
which the node is running on went down.  In that case Nova will still
report the node status as active even though the node is no longer
running.

This change adds a new detection type that actively polls the node
health using a URL specified in the health policy.  That way the user
can integrate Senlin health policy with another custom or 3rd party
health check service.  Using this external health check service, the
health policy will be able to detect the failure scenario when a compute
node running the node goes down.

When a health policy with NODE_STATUS_POLL_URL is attached to a cluster,
the health manager performs a GET operation on the URL. The URL
specified in NODE_STATUS_POLL_URL can contain expansion parameters that
are resolved by the health manager before the GET operation is executed.
The only valid expansion parameter at this time is {nodename}.

If the response body of the GET operation contains the string specified
by poll_url_healthy_response in the health policy, the node is
considered to be healthy.  If it does not contain that string, the
health manager will retry the GET operation the number of times
specified in poll_url_retry_limit while sleeping the time interval
specified in poll_url_retry_interval between each retry.  If the
response body of each of those GET operations still does not contain the
poll_url_healthy_response string, the node is considered to be
unhealthy.

Once a node is determined to be unhealthy, the health manager will
attempt to recover the node using the recovery type specified in the
health policy.  In the case when a compute node was shutdown, the
deletion of an existing node will never finish.  If node_force_recreate
is set to True in the health policy's recovery options, the health
manager will wait for the time interval in node_delete_timeout before
continuing to create the node even if the node deletion failed due to
timeout.

The detailed changes include:
* Add new options to health policy related to node poll url detection
type
* Update health manager to support node status polling by URL
* Update server profile to handle force_recreate option
* Add supported status to health policy
* Add new configuration value health_check_interval_min

The senlin documentation and senlin-tempest-plugin will be updated to
include the health policy detection type in a separate patch sets.

Change-Id: Iaf9174b4a372df6fc38935a67648229bfb1ebc16
"
openstack%2Fsenlin~master~I4caeba85d880c5f0456efeac963ea9d792180498,openstack/senlin,master,0619_modify_typo,I4caeba85d880c5f0456efeac963ea9d792180498,modify grammatical errors,MERGED,2018-06-19 13:00:26.000000000,2018-07-05 01:49:13.000000000,2018-07-05 01:49:13.000000000,7,7,0,576513,446e713d04052e1997ad24c3885a761779fcd967,20,5,3,7,27511,sunqingliang,sunqingliang6,"modify grammatical errors

Change-Id: I4caeba85d880c5f0456efeac963ea9d792180498
"
openstack%2Fsenlin~master~I6d03ebde27b93955b97368846754fbbb95a20251,openstack/senlin,master,stop_node_before_delete,I6d03ebde27b93955b97368846754fbbb95a20251,Add space to error messages,MERGED,2018-07-03 17:12:40.000000000,2018-07-05 01:44:17.000000000,2018-07-05 01:44:17.000000000,5,5,0,579929,7b945457bb799e99a1c998ccca2d499c36d89651,11,4,2,2,27224,Duc Truong,dtruong2,"Add space to error messages

Change-Id: I6d03ebde27b93955b97368846754fbbb95a20251
"
openstack%2Fsenlin~master~I2248419cc7b1e359c9a189fae97d7883bab3ec84,openstack/senlin,master,stop_node_before_delete,I2248419cc7b1e359c9a189fae97d7883bab3ec84,Add cluster option cluster.stop_node_before_delete,MERGED,2018-06-27 17:03:41.000000000,2018-07-05 01:42:08.000000000,2018-07-05 01:42:08.000000000,212,43,11,578487,e7dae6c45830eb700afdce3f30c7f4bdc80c32fd,15,6,2,2,27224,Duc Truong,dtruong2,"Add cluster option cluster.stop_node_before_delete

This adds 'cluster.stop_node_before_delete' as a new boolean cluster
config option. If true, a cluster will issue a stop to a node and then a
delete for all cluster operations that trigger a node delete. If not
set, the config option defaults to False and the cluster will perform a
regular node delete. The cluster operations affected by this change are
cluster delete, scale-in and resize.

Change-Id: I2248419cc7b1e359c9a189fae97d7883bab3ec84
"
openstack%2Fpuppet-openstack-integration~master~I539aaa03671f6fdd59fcd372ffa9904541fb8a4c,openstack/puppet-openstack-integration,master,nonvoting,I539aaa03671f6fdd59fcd372ffa9904541fb8a4c,Remove tripleo-puppet-ci-centos-7-undercloud-oooq from gate,ABANDONED,2018-07-05 01:36:09.000000000,2018-07-05 01:40:10.000000000,,0,1,0,580243,5c62b5a24154d2e84e944c67928274ce0cafb6de,2,0,1,1,3153,Emilien Macchi,emilienm,"Remove tripleo-puppet-ci-centos-7-undercloud-oooq from gate

tripleo-puppet-ci-centos-7-undercloud-oooq is non voting, we want to
remove it from the gate as well.

Change-Id: I539aaa03671f6fdd59fcd372ffa9904541fb8a4c
"
openstack%2Fmagnum~master~I43e82a53f5ee2f97d851b31db7a63f47de20015e,openstack/magnum,master,imagepull,I43e82a53f5ee2f97d851b31db7a63f47de20015e,Do not repeat pull images when container recreate in magnum cluster,ABANDONED,2018-06-15 07:23:02.000000000,2018-07-05 01:39:34.000000000,,3,3,0,575663,66d5ce9d337cee8ee3bcb4a8a8429daf3e6060e8,8,2,3,3,25311,wei zhao,weizhao,"Do not repeat pull images when container recreate in magnum cluster

Change-Id: I43e82a53f5ee2f97d851b31db7a63f47de20015e
Story: 2002572
Task: 22139
"
openstack%2Foslo.messaging~master~I89b785c91738ab62e3f42da42c431b9df8ccfd70,openstack/oslo.messaging,master,stestr,I89b785c91738ab62e3f42da42c431b9df8ccfd70,Switch to stestr,MERGED,2018-07-03 02:55:20.000000000,2018-07-05 01:32:38.000000000,2018-07-04 13:03:07.000000000,18,21,10,579743,7e5be7c54c02cac0262c39c621d139c2a7ee4833,11,3,2,6,25903,Vu Cong Tuan,tuanvu,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I89b785c91738ab62e3f42da42c431b9df8ccfd70
"
openstack%2Fpuppet-tripleo~master~I271559d040853c0399ab5c282b8dcdeefa7abcab,openstack/puppet-tripleo,master,fix_tox_python3_overrides,I271559d040853c0399ab5c282b8dcdeefa7abcab,fix tox python3 overrides,ABANDONED,2018-07-03 08:28:36.000000000,2018-07-05 01:29:45.000000000,,1,0,0,579806,cb56e6589f0ddd884da3cf09a388aa70cfa0c6ae,6,3,1,1,28427,Tuan Do Anh,tuanda,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because of that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I271559d040853c0399ab5c282b8dcdeefa7abcab
"
openstack%2Foslo.middleware~master~I9b230222866d41a12713f321cee88da896ba76a1,openstack/oslo.middleware,master,stestr,I9b230222866d41a12713f321cee88da896ba76a1,Switch to stestr,MERGED,2018-07-03 04:24:39.000000000,2018-07-05 01:21:18.000000000,2018-07-04 11:57:33.000000000,7,11,6,579759,48ec101f159f2345bdadb688fe2d35b08a038686,15,3,4,6,25903,Vu Cong Tuan,tuanvu,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I9b230222866d41a12713f321cee88da896ba76a1
"
openstack%2Fsenlin~master~I1d32a26ed13fd6380d9236b45c463cc8ed1f6e96,openstack/senlin,master,add_doc_node_name_format,I1d32a26ed13fd6380d9236b45c463cc8ed1f6e96,Add config option to user documentation,MERGED,2018-06-26 18:11:35.000000000,2018-07-05 01:16:40.000000000,2018-07-05 01:16:40.000000000,7,0,0,578165,b02acea3e6a99a6b2103e63f2c64da3e0ac9f172,8,4,1,1,27224,Duc Truong,dtruong2,"Add config option to user documentation

This adds user documentation for the node.name.format config property
added in Queens [1].

[1] http://git.openstack.org/cgit/openstack/senlin/tree/releasenotes/notes/node-name-formatter-284b768be7fbe6c6.yaml

Change-Id: I1d32a26ed13fd6380d9236b45c463cc8ed1f6e96
"
openstack%2Fsenlin~master~I45acc3b444ad0296d27d1d0dd6d6a9c5817847d0,openstack/senlin,master,0619_add_link_to_release_note,I45acc3b444ad0296d27d1d0dd6d6a9c5817847d0,add a link to release notes in README file,MERGED,2018-06-19 12:48:03.000000000,2018-07-05 01:16:40.000000000,2018-07-05 01:16:39.000000000,4,0,0,576508,2183eb149ffdd02ad1347877659b72009244da91,7,3,1,1,27511,sunqingliang,sunqingliang6,"add a link to release notes in README file

Change-Id: I45acc3b444ad0296d27d1d0dd6d6a9c5817847d0
"
openstack%2Fsenlin~master~I8e77f1f8a98bcda81308504676fad74f9194bddf,openstack/senlin,master,,I8e77f1f8a98bcda81308504676fad74f9194bddf,Update auth_url in install docs,MERGED,2018-05-12 16:07:23.000000000,2018-07-05 01:01:30.000000000,2018-07-05 01:01:30.000000000,2,2,0,568001,32242332bca33468b0897ace016919103867e067,9,5,1,2,22165,caoyuan,caoyuan,"Update auth_url in install docs

Beginning with the Queens release, the keystone install guide
recommends running all interfaces on the same port. This patch
updates the install guide to reflect that change.

Change-Id: I8e77f1f8a98bcda81308504676fad74f9194bddf
"
openstack%2Fpaunch~master~Id4b4b7897d8f7da4eda33c1e5187514c234f3a79,openstack/paunch,master,bp/container-prepare-workflow,Id4b4b7897d8f7da4eda33c1e5187514c234f3a79,Implement group_add,MERGED,2018-06-28 01:17:56.000000000,2018-07-05 00:33:11.000000000,2018-07-05 00:33:11.000000000,4,1,0,578620,56d62300029e3530ad22878bfdf783cdc144de36,13,4,1,2,4571,Steve Baker,steve-stevebaker,"Implement group_add

This is part of the compose v2 spec, and may prove useful to allowing
the mistral-executor container to have membership to the docker group

Blueprint: container-prepare-workflow
Change-Id: Id4b4b7897d8f7da4eda33c1e5187514c234f3a79
"
openstack%2Fkolla-ansible~master~I04bd9cf102a1aa0a4d159a11c384118aba45257d,openstack/kolla-ansible,master,,I04bd9cf102a1aa0a4d159a11c384118aba45257d,Make dev mode available to glance-registry,MERGED,2018-04-15 16:10:43.000000000,2018-07-05 00:31:10.000000000,2018-04-21 16:03:25.000000000,1,0,1,561467,654196d67499c35444127ffd798cf8ff74151888,10,4,2,1,22165,caoyuan,caoyuan,"Make dev mode available to glance-registry

Change-Id: I04bd9cf102a1aa0a4d159a11c384118aba45257d
"
openstack%2Fcongress~master~Ieb2efb8237ab787e44ba5309104531cb861ac04b,openstack/congress,master,,Ieb2efb8237ab787e44ba5309104531cb861ac04b,minor fix to test case,MERGED,2018-06-29 18:47:25.000000000,2018-07-05 00:29:42.000000000,2018-07-05 00:29:41.000000000,1,1,0,579247,f782ffc73f23645d8718acab5a97e251caf0a0fd,7,3,1,1,18591,Eric Kao,ekcs,"minor fix to test case

'parent_key': 'id'  refers to a column which does not exist in the parent
translator.
Fixed by changing to 'col_id' defined on line 1199 in parent translator.

Change-Id: Ieb2efb8237ab787e44ba5309104531cb861ac04b
"
openstack%2Fopenstack-helm~master~I42d83b5f6ff63368f5497f6ab020718e87078576,openstack/openstack-helm,master,,I42d83b5f6ff63368f5497f6ab020718e87078576,Fix the gnocchi home,MERGED,2018-05-15 07:17:28.000000000,2018-07-05 00:27:29.000000000,2018-05-19 16:11:11.000000000,1,1,2,568479,e98b5404bebe574f80d37a21f7095fbc53c07cee,13,6,2,1,22165,caoyuan,caoyuan,"Fix the gnocchi home

Change-Id: I42d83b5f6ff63368f5497f6ab020718e87078576
"
openstack%2Foctavia~stable%2Fqueens~I32db9e6cc72d320c7ec393b77cef9a2d61a07d19,openstack/octavia,stable/queens,story/2002691-stable/queens,I32db9e6cc72d320c7ec393b77cef9a2d61a07d19,[amphora-agent] add local net to routing table 1,MERGED,2018-07-03 07:38:27.000000000,2018-07-04 23:23:01.000000000,2018-07-04 23:23:01.000000000,56,4,0,579795,a99f70f7c7d1c8131ce02d75c3090bd5b231ec07,17,6,2,7,6469,Carlos Gonçalves,cgoncalves,"[amphora-agent] add local net to routing table 1

ensure local route is added to table 1 routing table to prevent
all traffic being routed through the default gateway

Change-Id: I32db9e6cc72d320c7ec393b77cef9a2d61a07d19
Story: 2002691
Task: 22716
(cherry picked from commit 1fa91ab0c9c6c7530302da0654db0e796202c0a0)
"
openstack%2Fcinder~master~Ifb778dd9d418e9a638a385db585add55698d7e21,openstack/cinder,master,bug/fix_time_convert_error,Ifb778dd9d418e9a638a385db585add55698d7e21,Fix time convert error in testcases.,MERGED,2018-06-27 08:20:26.000000000,2018-07-04 22:44:15.000000000,2018-07-04 22:44:15.000000000,3,3,0,578314,0ac8be26a9d62bb7507eb275e6870280c2a4224d,29,24,1,1,23083,TommyLike,TommyLike,"Fix time convert error in testcases.

The converted time differs via different timezones, this patch replace
the expected value with 'mock.ANY' to avoid testcase failure.

Change-Id: Ifb778dd9d418e9a638a385db585add55698d7e21
"
openstack%2Frequirements~stable%2Fqueens~I902a66891e2f1f35434f794c2a20ac9929547bdf,openstack/requirements,stable/queens,new-release,I902a66891e2f1f35434f794c2a20ac9929547bdf,update constraint for cliff to new release 2.11.1,MERGED,2018-07-03 14:06:32.000000000,2018-07-04 21:51:32.000000000,2018-07-04 21:51:31.000000000,1,1,0,579878,c793a23a2714dd9a68466adef2cb2e73227f5fde,16,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for cliff to new release 2.11.1

Change-Id: I902a66891e2f1f35434f794c2a20ac9929547bdf
meta:version: 2.11.1
meta:diff-start: -
meta:series: queens
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dean Troyer <dtroyer@gmail.com>
meta:release:Commit: Dean Troyer <dtroyer@gmail.com>
meta:release:Change-Id: I81f3f01ef75bcec0cd19f3ab0998b6367a3194ce
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fironic~master~I494a51422de3701632b6c348357670a158a09d00,openstack/ironic,master,,I494a51422de3701632b6c348357670a158a09d00,iDRAC RAID10 creation with greater than 16 drives,ABANDONED,2018-06-29 14:16:57.000000000,2018-07-04 21:06:22.000000000,,60,3,0,579171,2084287d74fc9bef20177b0867a7146320aa8560,9,6,1,2,10250,Christopher Dearborn,cdearbor,"iDRAC RAID10 creation with greater than 16 drives

This patch enables creation of large RAID10's with greater than 16
drives when using the iDRAC hardware type.  Best practice is to not
pass span length and span depth when creating a RAID10.  In this
case, the iDRAC will calculate these values using information queried
from the RAID controller.

See this white paper on intelligent mirroring for more information:
https://www.dell.com/support/article/us/en/04/sln111362/
intelligent-mirroring-and-enhanced-raid-10-aka-raid-10e-?lang=en

Change-Id: I494a51422de3701632b6c348357670a158a09d00
Task: # 22634
Story: #2002771
"
openstack%2Fheat~master~Iec6f3606c9fdf8474f393b0990356f34d38bcf75,openstack/heat,master,story/2002781,Iec6f3606c9fdf8474f393b0990356f34d38bcf75,Support region_name for software deployment,MERGED,2018-07-02 08:18:17.000000000,2018-07-04 21:04:05.000000000,2018-07-04 16:31:06.000000000,8,4,1,579485,fe7d98bdde01cbf60bbf09bf46c5c6990f6b807e,12,6,2,2,6484,Feilong Wang,flwang,"Support region_name for software deployment

In magnum, we're running into a problem that the heat-container-agent can't
get the region name. As a result, it can't get the correct Heat endpoint,
which is causing problems. This patch fixes this from heat side.

Task: 22661
Story: 2002781

Change-Id: Iec6f3606c9fdf8474f393b0990356f34d38bcf75
"
openstack%2Fsahara-dashboard~master~Iaf272af9919f8a69562c0a469130bbf8628936cf,openstack/sahara-dashboard,master,mox-removal,Iaf272af9919f8a69562c0a469130bbf8628936cf,Goodbye mox - no more needed,MERGED,2018-07-04 15:51:33.000000000,2018-07-04 20:16:15.000000000,2018-07-04 20:16:15.000000000,4,27,0,580205,56b69d6477099c59ab34a84bab8b9d3454957f06,12,2,4,14,10459,Luigi Toscano,ltoscano,"Goodbye mox - no more needed

The porting to mock of sahara-dashboard is complete.
This fulfills the community goal
""Remove Use of mox/mox3 for Testing"" set for Rocky:
https://governance.openstack.org/tc/goals/rocky/mox_removal.html

Raise the requirement to the Rocky M2 release of Horizon,
which drops the usage of mox by default (it should be
explicitly enabled). Without a forced import from Horizon
the mox dependencies can be dropped here.
Bump also a dependency needed by this new version of Horizon.

Change-Id: Iaf272af9919f8a69562c0a469130bbf8628936cf
"
openstack%2Fsahara-dashboard~master~I12347f3fa30a67c0e16a8b0f019663786ce686fa,openstack/sahara-dashboard,master,mox-removal,I12347f3fa30a67c0e16a8b0f019663786ce686fa,Remove mox from DataProcessingJobTemplateTests,MERGED,2018-07-04 15:51:33.000000000,2018-07-04 20:10:58.000000000,2018-07-04 20:10:58.000000000,111,84,0,580204,5fc84cd7d2c8330a661312eccca947a824d0488a,6,2,1,1,10459,Luigi Toscano,ltoscano,"Remove mox from DataProcessingJobTemplateTests

This change is part of ""Remove Use of mox/mox3 for Testing""
community goal set for Rocky:
https://governance.openstack.org/tc/goals/rocky/mox_removal.html

Change-Id: I12347f3fa30a67c0e16a8b0f019663786ce686fa
"
openstack%2Ftripleo-common~master~If5ad384cfc8783c3b10c4cc567e42f06e5c6880b,openstack/tripleo-common,master,bug/1779213,If5ad384cfc8783c3b10c4cc567e42f06e5c6880b,Retry inspect of container images,MERGED,2018-07-03 02:11:04.000000000,2018-07-04 18:30:44.000000000,2018-07-04 18:30:44.000000000,28,12,1,579734,2dbcc9036aed8f47467e81b028f2fae76dd28816,12,6,2,3,4571,Steve Baker,steve-stevebaker,"Retry inspect of container images

This change parses the error output of a failed skopeo inspect to
detect if it is a missing image error, then adds tenacity retries for all
other error types.

Failures are being seen in CI due to transient AWS DNS issues, so this change
should make image inspections more resilient.

Change-Id: If5ad384cfc8783c3b10c4cc567e42f06e5c6880b
Closes-Bug: #1779213
"
openstack%2Fproject-config~master~I4567c487bc6066ac3c7dbd27d98d2bc91b1657b4,openstack/project-config,master,vexxhost,I4567c487bc6066ac3c7dbd27d98d2bc91b1657b4,"Revert ""Temporarily stop booting nodes in vexxhost""",MERGED,2018-07-02 19:10:41.000000000,2018-07-04 18:16:58.000000000,2018-07-03 00:27:22.000000000,1,1,0,579671,5450a084a69706bcda139d4c098acd108417725a,11,4,1,1,4146,Clark Boylan,cboylan,"Revert ""Temporarily stop booting nodes in vexxhost""

This reverts commit edc1710e34ba86df1349f2235619bb6cdd044d99.

Routing issues appear to be sorted out and ipv6 addrs ping in vexxhost
once again.

Change-Id: I4567c487bc6066ac3c7dbd27d98d2bc91b1657b4
"
openstack%2Fneutron-lbaas~stable%2Fqueens~I3f6c53bb23bc4fd84581b18ec847d52ade3d1ac6,openstack/neutron-lbaas,stable/queens,bug/1709602-stable/queens,I3f6c53bb23bc4fd84581b18ec847d52ade3d1ac6,tempest: healthmonitor is deleted via resource_cleanup,ABANDONED,2018-05-29 07:33:12.000000000,2018-07-04 18:08:28.000000000,,2,1,0,570850,e0376c20573e6eb0777c947e09188e9f30b8c581,12,4,2,1,23735,sumitjami,nthforloop,"tempest: healthmonitor is deleted via resource_cleanup

No need for an explicit cleanup. Explicit cleanup of monitors deleted by
resource_cleanup causes tempest tests to fail

Change-Id: I3f6c53bb23bc4fd84581b18ec847d52ade3d1ac6
Closes-bug: 1709602
"
openstack%2Fheat~master~If541d421a0a2af17ab937ec0a27bee6e4e9c1f6b,openstack/heat,master,,If541d421a0a2af17ab937ec0a27bee6e4e9c1f6b,Fix purging events from stacks converted to convergence,MERGED,2018-06-29 20:06:51.000000000,2018-07-04 18:08:20.000000000,2018-07-04 18:08:20.000000000,0,3,0,579276,d12512ab17b35ca8adaba9eea407dda6c62c8137,15,3,1,1,4257,Zane Bitter,zaneb,"Fix purging events from stacks converted to convergence

Stacks with convergence enabled are guaranteed not to have a backup stack,
but they may have previously had backup stacks (prior to being converted to
convergence) that remain only soft-deleted. In this case they may still
fail the foreign key constraints in the database when purging events, so
don't bail out of the workaround path when we encounter this situation.

This will allow events to be purged from these stacks without having to
wait for purge_deleted to purge the backup stacks first.

Change-Id: If541d421a0a2af17ab937ec0a27bee6e4e9c1f6b
Story: #2002643
Task: 22648
"
openstack%2Foslo.messaging~master~I9324b9d9df77fd05c2e10bb48d7ccf8b4c634525,openstack/oslo.messaging,master,fix-bandit,I9324b9d9df77fd05c2e10bb48d7ccf8b4c634525,Fix the bandit security linter test,MERGED,2018-06-13 20:43:02.000000000,2018-07-04 18:04:50.000000000,2018-07-04 18:04:50.000000000,16,12,2,575226,ae9e67388706e57561531652145ba187f8870b94,10,4,2,3,8770,Ken Giusti,kgiusti,"Fix the bandit security linter test

Add the bandit security linter test to the pep8 target

Change-Id: I9324b9d9df77fd05c2e10bb48d7ccf8b4c634525
"
openstack%2Fkeystone~master~I1e2b1229edb8272333340b29cc1897a36ed324d5,openstack/keystone,master,ignore-eggs,I1e2b1229edb8272333340b29cc1897a36ed324d5,Ignore .eggs dir as well,MERGED,2018-07-04 12:45:22.000000000,2018-07-04 18:04:49.000000000,2018-07-04 18:04:49.000000000,1,1,0,580154,91fe8a925bbdd0438e92ce599ec57bc79a1d3387,7,3,1,1,9542,Pavlo Shchelokovskyy,pshchelo,"Ignore .eggs dir as well

Change-Id: I1e2b1229edb8272333340b29cc1897a36ed324d5
"
openstack%2Fopenstack-zuul-jobs~master~Ic1c13e9635e00bcdd096c48c8a7983ccc19bfbda,openstack/openstack-zuul-jobs,master,kata-cleanups,Ic1c13e9635e00bcdd096c48c8a7983ccc19bfbda,Cleanup the kata setup role,MERGED,2018-06-23 01:03:41.000000000,2018-07-04 17:52:38.000000000,2018-07-04 17:52:38.000000000,21,0,0,577590,7bfe80df739d34f4b2639814a37b342b01775049,15,4,4,2,4146,Clark Boylan,cboylan,"Cleanup the kata setup role

This adds a modprobe for vhost_net to ensure it is present for kata.
Also we will remove the explicit docker install as .ci/setup.sh should
do it for us now.

Allow k8s cluster-cidr range to talk to port 6443 (k8s api server).

Change-Id: Ic1c13e9635e00bcdd096c48c8a7983ccc19bfbda
"
openstack%2Fopenstack-ansible-plugins~master~I7a4e89c579a3e688decaeb91b9035500129c7b16,openstack/openstack-ansible-plugins,master,physical-host-var,I7a4e89c579a3e688decaeb91b9035500129c7b16,Template the physical host address,MERGED,2018-06-30 04:48:33.000000000,2018-07-04 17:49:49.000000000,2018-07-04 17:49:49.000000000,5,2,0,579320,a743d4c81fc202633f68ebcc132bc9ae19030270,7,3,1,1,17799,Logan V,Logan2211,"Template the physical host address

In the scenario where the fallback group 'all' is used to find the
physical host address, there are typically containers present in this
group with ansible_host settings like ""{{ container_name }}"".

When this happens, you get physical_host_addrs lists like:
aiotest1 127.0.0.1
test1 1.1.1.1
test-1-zbx1 {{ container_name }}
test-1-cdns1 {{ container_name }}
test-1-lb1 {{ container_name }}
test-1-lb2 {{ container_name }}
fatal: [aiotest1]: FAILED! => {""msg"": ""'container_name' is undefined""}

To avoid this we need to run the physical_host_addr through a templar
loaded with the physical_host_vars:

aiotest1 127.0.0.1
test1 1.1.1.1
test-1-zbx1 test-1-zbx1
test-1-cdns1 test-1-cdns1
test-1-lb1 test-1-lb1
test-1-lb2 test-1-lb2
test-1-tpxy1 test-1-tpxy1
ok: [aiotest1]

Change-Id: I7a4e89c579a3e688decaeb91b9035500129c7b16
"
openstack%2Foslo.service~master~Ia82a17fe26b41730c8c323819591523d66a8cb36,openstack/oslo.service,master,unnecessary_pyNN,Ia82a17fe26b41730c8c323819591523d66a8cb36,Convert oslo.service to using stestr,MERGED,2018-07-02 03:01:11.000000000,2018-07-04 17:44:42.000000000,2018-07-04 17:44:42.000000000,8,12,5,579420,ebad161c897e2bf61d0f3ccd04e2262f18f8843c,33,4,10,6,25903,Vu Cong Tuan,tuanvu,"Convert oslo.service to using stestr

With the upgrade to oslotest 3.6.0 [0], testr no longer works [1].
This is because oslotest no longer requires testr and we don't depend
on it directly in oslo.service. Let's switch to using stestr, too!
Everyone's doing it...
This patch follows [2] in oslo.policy

[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431
[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2
[2] https://review.openstack.org/#/c/579295/

Change-Id: Ia82a17fe26b41730c8c323819591523d66a8cb36
"
openstack%2Frequirements~stable%2Fqueens~I2d7f8a571b7a781c416116a29033bfa1ac41e21b,openstack/requirements,stable/queens,neutron-lbaas-pin,I2d7f8a571b7a781c416116a29033bfa1ac41e21b,"Revert ""Add constraints for the neutron-lbaas""",MERGED,2018-07-02 23:36:18.000000000,2018-07-04 17:24:21.000000000,2018-07-04 17:24:20.000000000,0,2,0,579717,e067590b1e69ae51a5e5620dd9577f8b0033ca84,30,15,5,2,11628,Michael Johnson,johnsom,"Revert ""Add constraints for the neutron-lbaas""

This breaks the stable branches. We don't constrain any of the
neutron plugins on the stable branches.

This reverts commit 0227404b79404cc34784798654df771f180e896e.

Change-Id: I2d7f8a571b7a781c416116a29033bfa1ac41e21b
"
openstack%2Fheat~master~Ifd345a3098342c8ae5b7b64054f6a130dad2a03c,openstack/heat,master,,Ifd345a3098342c8ae5b7b64054f6a130dad2a03c,Fix an exception message,MERGED,2018-06-27 02:45:46.000000000,2018-07-04 17:06:15.000000000,2018-07-04 17:06:15.000000000,2,1,0,578255,a2c6f14c632fc5c992d54827e91a6304cff1a53f,23,4,1,1,4257,Zane Bitter,zaneb,"Fix an exception message

The message contained ""<built-in function id>"" instead of the row ID.

Change-Id: Ifd345a3098342c8ae5b7b64054f6a130dad2a03c
"
openstack%2Fmistral~master~I23197a23001cd28f7137fa5741a8a7ddcc05c101,openstack/mistral,master,python3-first,I23197a23001cd28f7137fa5741a8a7ddcc05c101,fix tox python3 overrides,MERGED,2018-06-06 20:07:27.000000000,2018-07-04 17:03:23.000000000,2018-07-04 17:03:23.000000000,7,0,0,572967,60fba7239eb49c1fdd1285f728fe986522b2715f,24,8,4,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I23197a23001cd28f7137fa5741a8a7ddcc05c101
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fmistral~master~If0a8219bb54ee0d01084dbaf5c9ed5b2041c2bc4,openstack/mistral,master,bug/1772265,If0a8219bb54ee0d01084dbaf5c9ed5b2041c2bc4,Refresh a number of retry a task when task was rerun,MERGED,2018-05-20 15:37:34.000000000,2018-07-04 17:03:22.000000000,2018-07-04 17:03:22.000000000,65,0,3,569643,78b542c4c5e7ed6604bed4e50088690d187ab683,26,7,4,3,27008,Vitalii Solodilov,mcdoker18,"Refresh a number of retry a task when task was rerun

Change-Id: If0a8219bb54ee0d01084dbaf5c9ed5b2041c2bc4
Closes-Bug: #1772265
Signed-off-by: Vitalii Solodilov <mcdkr@yandex.ru>
"
openstack%2Fnova~stable%2Focata~Iaaf7f68d6874fd5d6e737e7d2bc589ea4a048fee,openstack/nova,stable/ocata,bug/1774205,Iaaf7f68d6874fd5d6e737e7d2bc589ea4a048fee,Use instance project/user when creating RequestSpec during resize reschedule,MERGED,2018-06-25 20:50:06.000000000,2018-07-04 16:55:07.000000000,2018-07-04 16:55:07.000000000,13,4,0,577929,09e678ee142ea297640e44ce9af630402871c38a,20,8,2,2,6873,Matt Riedemann,mriedem,"Use instance project/user when creating RequestSpec during resize reschedule

When rescheduling from a failed cold migrate / resize, the compute
service does not pass the request spec back to conductor so we
create one based on the in-scope variables.

This introduces a problem for some scheduler filters like the
AggregateMultiTenancyIsolation filter since it will create the
RequestSpec using the project and user information from the current
context, which for a cold migrate is the admin and might not be
the owner of the instance (which could be in some other project).
So the AggregateMultiTenancyIsolation filter might reject the
request or select a host that fits an aggregate for the admin but
not the end user.

This fixes the problem by using the instance project/user information
when constructing the RequestSpec which will take priority over
the context in RequestSpec.from_components().

Long-term we need the compute service to pass the request spec back
to the conductor during a reschedule, but we do this first since we
can backport it.

NOTE(mriedem): RequestSpec.user_id was added in Rocky in commit
6e49019fae80586c4bbb8a7281600cf6140c176a so we have to remove its
usage in this backport.

NOTE(mriedem): Some existing tests in test_conductor.py had to
be updated to set a project_id on the fake instance since change
I34b1d99a9d0d2aca80f094a79ec1656abaf762dc is not in Ocata.

Change-Id: Iaaf7f68d6874fd5d6e737e7d2bc589ea4a048fee
Closes-Bug: #1774205
(cherry picked from commit 8c216608194c89d281e8d2b66abd1e50e2405b01)
(cherry picked from commit 1162902280d06eb6201738ef54ff8300f974b374)
(cherry picked from commit ce7ad878093e5730b8dcec5ca717b831db8965eb)
"
openstack%2Fironic~master~I468f511dd8ad9a25c17f2a2754f7a45f7147c483,openstack/ironic,master,,I468f511dd8ad9a25c17f2a2754f7a45f7147c483,Ensure we allow Ironic API traffic from baremetal network,MERGED,2018-07-02 13:35:36.000000000,2018-07-04 16:43:38.000000000,2018-07-04 16:43:38.000000000,3,0,3,579560,2bb87c1b69839d969ac372044f95cc3bf2987d7e,18,10,2,1,6637,Sam Betts,sambetts,"Ensure we allow Ironic API traffic from baremetal network

In deployments with a separate baremetal network we need to ensure we
apply an iptables rule to allow traffic on port 80 to the Ironic API.

Change-Id: I468f511dd8ad9a25c17f2a2754f7a45f7147c483
Story: 2002788
Task: 22673
"
openstack%2Freleases~master~Ib88e24ee41fc462176b608c87f83ef304bd8efcc,openstack/releases,master,support-stable-deliverables,Ib88e24ee41fc462176b608c87f83ef304bd8efcc,new_release: increment feature version with skips,ABANDONED,2018-07-04 15:29:10.000000000,2018-07-04 16:40:04.000000000,,62,2,0,580196,abf151d1a9b31d2254e79d63a152344a20c4af5a,3,1,1,2,308,Thierry Carrez,ttx,"new_release: increment feature version with skips

Properly increment feature version based on the depth at which
the last release was found.

Change-Id: Ib88e24ee41fc462176b608c87f83ef304bd8efcc
Task: 22351
"
openstack%2Fpython-tripleoclient~master~I85f59182ac86034dc7e2d7ba2d7f6db0702d8473,openstack/python-tripleoclient,master,bug/1761595,I85f59182ac86034dc7e2d7ba2d7f6db0702d8473,undercloud: chown config/templates to deployment user,ABANDONED,2018-04-06 05:19:14.000000000,2018-07-04 16:35:10.000000000,,64,23,21,559265,6a25d022e800be7735a20acefc4820baddfabbfd,90,8,22,4,3153,Emilien Macchi,emilienm,"undercloud: chown config/templates to deployment user

For tripleo-undercloud-passwords.yaml and undercloud-passwords.conf,
change the permissions so the files are owned by the deployment user,
and have 0600 mask.

For config-download directory, change the directory (recursively) so the
files are owned by the deployment user as well. Same for generated THT.

Note: no need to change permisisons for the deployment log file, it's
readable by the operator but not writable (which is fine).

Change-Id: I85f59182ac86034dc7e2d7ba2d7f6db0702d8473
Closes-Bug: #1761595
"
openstack%2Fopenstack-zuul-jobs~master~I114455d076623f627ca71adba3bcaeea92f347f8,openstack/openstack-zuul-jobs,master,,I114455d076623f627ca71adba3bcaeea92f347f8,Do not merge: Test review for include_role issue,ABANDONED,2018-02-19 22:02:04.000000000,2018-07-04 16:28:35.000000000,,23,0,0,545994,182541d66b4550f83b6c54ee565829a4cbb27178,3,1,1,3,9061,David Moreau Simard,dmsimard,"Do not merge: Test review for include_role issue

Change-Id: I114455d076623f627ca71adba3bcaeea92f347f8
"
openstack%2Fopenstack-zuul-jobs~master~I1ed92d21ad72b345fab996cce7eeca44d415e778,openstack/openstack-zuul-jobs,master,ara-sqlite-middleware,I1ed92d21ad72b345fab996cce7eeca44d415e778,Do not merge: test ara-report with base-minimal/base-test,ABANDONED,2018-03-16 03:16:38.000000000,2018-07-04 16:26:31.000000000,,2,4,0,553663,8d018e7fad0a40af7429dc66a36bff1ab6eebb3e,15,2,5,3,9061,David Moreau Simard,dmsimard,"Do not merge: test ara-report with base-minimal/base-test

Change-Id: I1ed92d21ad72b345fab996cce7eeca44d415e778
"
openstack%2Fansible-role-k8s-mariadb~master~I0398ce2b30eefb9c271f9e63b91abce544d912b6,openstack/ansible-role-k8s-mariadb,master,default-registry,I0398ce2b30eefb9c271f9e63b91abce544d912b6,Stop using the tripleoupstream docker.io namespace,ABANDONED,2018-02-09 19:57:43.000000000,2018-07-04 16:25:47.000000000,,2,2,0,543005,84992120aee870e45307ebd83f4b2f25b5c08372,3,1,1,1,9061,David Moreau Simard,dmsimard,"Stop using the tripleoupstream docker.io namespace

tripleoupstream is unmaintained and docker.io/tripleomaster should be
used instead.
The ""latest"" tag is not used in this namespace so default to a tested
tag: current-tripleo.

Change-Id: I0398ce2b30eefb9c271f9e63b91abce544d912b6
"
openstack%2Fansible-role-k8s-keystone~master~I338e7c51a95369c823937fe70a8cdbd9c2e20d7e,openstack/ansible-role-k8s-keystone,master,default-registry,I338e7c51a95369c823937fe70a8cdbd9c2e20d7e,Stop using the tripleoupstream docker.io namespace,ABANDONED,2018-02-09 19:56:06.000000000,2018-07-04 16:25:45.000000000,,4,4,0,543004,1edff23a4c70adcdedb9b2ac70a56a751ed0eb20,5,3,1,1,9061,David Moreau Simard,dmsimard,"Stop using the tripleoupstream docker.io namespace

tripleoupstream is unmaintained and docker.io/tripleomaster should be
used instead.
The ""latest"" tag is not used in this namespace so default to a tested
tag: current-tripleo.

Change-Id: I338e7c51a95369c823937fe70a8cdbd9c2e20d7e
"
openstack%2Fansible-role-k8s-glance~master~Iacb53a425fd8e3112a153195e62c5401158380b8,openstack/ansible-role-k8s-glance,master,default-registry,Iacb53a425fd8e3112a153195e62c5401158380b8,Stop using the tripleoupstream docker.io namespace,ABANDONED,2018-02-09 19:54:21.000000000,2018-07-04 16:25:43.000000000,,2,2,0,543003,159085984ef92619dcfce0008217f3bcd3f0c7ac,3,1,1,1,9061,David Moreau Simard,dmsimard,"Stop using the tripleoupstream docker.io namespace

tripleoupstream is unmaintained and docker.io/tripleomaster should be
used instead.
The ""latest"" tag is not used in this namespace so default to a tested
tag: current-tripleo.

Change-Id: Iacb53a425fd8e3112a153195e62c5401158380b8
"
openstack%2Fansible-role-k8s-tripleo~master~I57c52930ff5a00c53fc8c050a1654cca2f05280c,openstack/ansible-role-k8s-tripleo,master,default-registry,I57c52930ff5a00c53fc8c050a1654cca2f05280c,Stop using the tripleoupstream docker.io namespace,ABANDONED,2018-02-09 19:49:34.000000000,2018-07-04 16:25:41.000000000,,5,5,0,543000,2ec3254f6c0512abfe93c77b10576b57d836e263,3,1,1,2,9061,David Moreau Simard,dmsimard,"Stop using the tripleoupstream docker.io namespace

tripleoupstream is unmaintained and docker.io/tripleomaster should be
used instead.
The ""latest"" tag is not used in this namespace so default to a tested
tag: current-tripleo.

Change-Id: I57c52930ff5a00c53fc8c050a1654cca2f05280c
"
openstack%2Fansible-role-k8s-tripleo~master~I0036652afea6db746e198bf4ac0e03e683f7465a,openstack/ansible-role-k8s-tripleo,master,default-registry,I0036652afea6db746e198bf4ac0e03e683f7465a,Add .gitreview,ABANDONED,2018-02-09 19:49:34.000000000,2018-07-04 16:25:39.000000000,,4,0,0,542999,5798bd1304a531c1499b3c5b611383db63899aba,3,1,1,1,9061,David Moreau Simard,dmsimard,"Add .gitreview

Change-Id: I0036652afea6db746e198bf4ac0e03e683f7465a
"
openstack%2Fproject-config~master~I16b6eb28f3c77eb59bd87c5ee3eb9b742020e7a7,openstack/project-config,master,,I16b6eb28f3c77eb59bd87c5ee3eb9b742020e7a7,Exclude COMMAND=/bin/true from sudoers verification,ABANDONED,2017-10-27 12:38:42.000000000,2018-07-04 16:24:45.000000000,,4,4,0,515700,c993b3e58db739323d828d6dd1c0da90e0e3f7fe,6,3,1,1,9061,David Moreau Simard,dmsimard,"Exclude COMMAND=/bin/true from sudoers verification

We're actually using the /bin/true command as a means to verify
if sudo is enabled for a given user [1], we don't want this to
trigger an alarm that sudo was attempted because of that.

[1]: http://git.openstack.org/cgit/openstack-infra/zuul-jobs/tree/roles/revoke-sudo/tasks/main.yaml

Change-Id: I16b6eb28f3c77eb59bd87c5ee3eb9b742020e7a7
"
openstack%2Fopenstack-ansible~master~Iab3f57af5633ef34ef55077fe0d703247335efb5,openstack/openstack-ansible,master,,Iab3f57af5633ef34ef55077fe0d703247335efb5,Do not merge: retrieve ara database,ABANDONED,2017-10-15 20:57:56.000000000,2018-07-04 16:24:38.000000000,,1,0,0,512115,6e2719fa1666653186589b27d104ef59bc178caa,14,4,4,1,9061,David Moreau Simard,dmsimard,"Do not merge: retrieve ara database

Change-Id: Iab3f57af5633ef34ef55077fe0d703247335efb5
"
openstack%2Fpuppet-openstack-integration~master~Ia2ac79a8392544b147938af2b4bacca60d89c2b6,openstack/puppet-openstack-integration,master,,Ia2ac79a8392544b147938af2b4bacca60d89c2b6,WIP: Add role to validate Zuul variables,ABANDONED,2017-10-13 20:29:01.000000000,2018-07-04 16:24:31.000000000,,22,0,0,511958,1f692c823f5b600e5e204bdba71847f6648e0bc6,5,1,1,2,9061,David Moreau Simard,dmsimard,"WIP: Add role to validate Zuul variables

Change-Id: Ia2ac79a8392544b147938af2b4bacca60d89c2b6
"
openstack%2Fdevstack-gate~master~Ib8c43a8c24c393ffd5545f070c6269e1a1c3414f,openstack/devstack-gate,master,zuulv3,Ib8c43a8c24c393ffd5545f070c6269e1a1c3414f,"DNM: Test centos-7, fedora-26 and opensuse-423 devstack jobs",ABANDONED,2017-09-08 19:37:37.000000000,2018-07-04 16:24:23.000000000,,62,8,2,502147,88ba584d3e4a40dbe28f5096fad579e771a0c2a3,50,5,5,1,9061,David Moreau Simard,dmsimard,"DNM: Test centos-7, fedora-26 and opensuse-423 devstack jobs

Change-Id: Ib8c43a8c24c393ffd5545f070c6269e1a1c3414f
"
openstack%2Fdevstack-gate~master~Ic82f006644d6414b5ad47c444562ba0c5eb0bba0,openstack/devstack-gate,master,zuulv3,Ic82f006644d6414b5ad47c444562ba0c5eb0bba0,Add ansible-lint and ansible-playbook syntax as a non-voting job,ABANDONED,2017-08-26 03:12:29.000000000,2018-07-04 16:23:54.000000000,,37,11,8,498140,49d300c32614fe68c45b1e3c9065c43cb94a265c,23,4,8,5,9061,David Moreau Simard,dmsimard,"Add ansible-lint and ansible-playbook syntax as a non-voting job

It also aggregates bashate so we can remove the 'bashate' v2 job.
ansible-lint and ansible-playbook syntax check should hopefully help
us find errors easily.

Change-Id: Ic82f006644d6414b5ad47c444562ba0c5eb0bba0
"
openstack%2Fdevstack-gate~master~I4cbfc7e987f3ab43836f3f46b6678db55bfe0de1,openstack/devstack-gate,master,ara-py3,I4cbfc7e987f3ab43836f3f46b6678db55bfe0de1,Dynamically retrieve the location of ARA to work on both py2 & py3,ABANDONED,2017-07-23 01:43:15.000000000,2018-07-04 16:23:46.000000000,,4,1,0,486356,3c02b4d73b2f0a6925668cd2bf5f3962a0346b0a,9,1,2,1,9061,David Moreau Simard,dmsimard,"Dynamically retrieve the location of ARA to work on both py2 & py3

Remove the hardcoded callback path with python2.7 and use the
virtualenv python to determine the path where ARA is installed so
that no matter if we're running py2 or py3, it will work.

Change-Id: I4cbfc7e987f3ab43836f3f46b6678db55bfe0de1
"
openstack%2Ftripleo-common~master~I671bd1ba60e39c2809e3dad03fa3f7579389f581,openstack/tripleo-common,master,,I671bd1ba60e39c2809e3dad03fa3f7579389f581,Test container images from trunk.registry.rdoproject.org,ABANDONED,2017-05-24 15:09:36.000000000,2018-07-04 16:23:39.000000000,,104,52,0,467651,e068f0fcd74a4436bb41c28a02c33b690667fa26,22,3,3,1,9061,David Moreau Simard,dmsimard,"Test container images from trunk.registry.rdoproject.org

Change-Id: I671bd1ba60e39c2809e3dad03fa3f7579389f581
"
openstack%2Fpuppet-openstack-integration~master~I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf,openstack/puppet-openstack-integration,master,ansible,I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf,WIP: Translate run_test.sh framework to Ansible,ABANDONED,2016-11-29 23:22:32.000000000,2018-07-04 16:23:29.000000000,,331,316,0,404471,8b9a9ac4f293985bac0e41df82dde3e6975891bb,67,3,37,11,9061,David Moreau Simard,dmsimard,"WIP: Translate run_test.sh framework to Ansible

This is a rough draft, obviously, and very WIP.
Feel free to discuss.

Change-Id: I4cbfe709771a3b5fb73df6243e8121b88cc8b5bf
"
openstack%2Fpuppet-nova~master~Ib147e84d1ed8dee7527be16ddd04ad06b13276fa,openstack/puppet-nova,master,magnum-testing,Ib147e84d1ed8dee7527be16ddd04ad06b13276fa,WIP: Add a nova_keypair provider,ABANDONED,2016-09-12 18:22:10.000000000,2018-07-04 16:22:56.000000000,,115,0,0,369003,403ea19c50619d791966a95ee47397ba88bd2143,19,6,2,2,9061,David Moreau Simard,dmsimard,"WIP: Add a nova_keypair provider

This is a WIP to add a nova_keypair provider that would ideally be
used like so:

    nova_keypair { 'keypair'
        ensure       => present,
        public_key   => '/root/.ssh/id_rsa.pub'
        project_name => 'some_project'
    }

The challenge lies in the fact that the ""openstack keypair create""
command does not have a ""project id"" or ""project name"" parameter
in order to choose where the keypair will be created.

In order to create a keypair in a particular project, it is required
to ""impersonate"" (authenticate as) another project.
It seems there is a way to do things like that [1] but I haven't got
it to work yet.

[1]: https://github.com/openstack/puppet-keystone/blob/master/lib/puppet/provider/keystone_user/openstack.rb#L105-L145

Change-Id: Ib147e84d1ed8dee7527be16ddd04ad06b13276fa
"
openstack%2Fkolla-ansible~master~I88a871ad1f3ccb626d31b98a3e49d5b023f45bc1,openstack/kolla-ansible,master,weirdo-kolla,I88a871ad1f3ccb626d31b98a3e49d5b023f45bc1,Refactor the baremetal role,ABANDONED,2016-12-16 17:43:39.000000000,2018-07-04 16:22:28.000000000,,227,223,31,411930,a46c40dbbc20be7d89dad9f6252cfaf74984d3d0,23,8,4,9,9061,David Moreau Simard,dmsimard,"Refactor the baremetal role

The purpose of this patch is to be mostly no-op - it doesn't
change the end result, it cleans up, re-organizes and optimizes
the tasks.
The only actual difference is that now docker-py is installed
from packages instead of from pip.

Summary of changes:
- Use best practices for including OS family or distribution vars
- Use blocks to re-group several tasks that use the same condition
- Remove some superfluous/unnecessary tasks
- docker-py is now installed from binary instead of pip, the
  base operating systems (Debian, Ubuntu, CentOS/RHEL) all have
  a high enough version to satisfy our requirements
- Re-order/move/merge some tasks between pre-install/install/post-install
- Standardize syntax on proper yaml dict layout (foo=bar vs foo: bar)
- Don't needlessly do things (ex: restart docker all the time)
- Only return a changed status when relevant to do so, re-running the
  same role twice should not yield any changed statuses

Change-Id: I88a871ad1f3ccb626d31b98a3e49d5b023f45bc1
"
openstack%2Fdevstack-gate~master~If5036341ba8b280320ef62ee2644ecc2c135b8a6,openstack/devstack-gate,master,zuulv3,If5036341ba8b280320ef62ee2644ecc2c135b8a6,DNM: Test devstack-legacy multinode,ABANDONED,2017-09-13 16:22:41.000000000,2018-07-04 16:22:20.000000000,,17,68,0,503734,8adbf939ca4afea30122ea56983484b72dee06d2,6,1,1,1,9061,David Moreau Simard,dmsimard,"DNM: Test devstack-legacy multinode

Change-Id: If5036341ba8b280320ef62ee2644ecc2c135b8a6
"
openstack%2Fnova~master~I649d8a27baa8840bc1bb567fef027c749c663432,openstack/nova,master,bug/1744658,I649d8a27baa8840bc1bb567fef027c749c663432,Add action initiator attribute to the instance payload,MERGED,2018-01-22 08:00:55.000000000,2018-07-04 16:15:06.000000000,2018-07-04 05:19:55.000000000,111,45,37,536243,2bca6431e69bf2c6e657736b7fe11f5a2fbb9433,256,23,24,24,27188,shuangyang.qian,shuangyang.qian,"Add action initiator attribute to the instance payload

The instance action notifications contain the user id and the
project id of the owner of the instance. However an instance
action might be initiated by another user. It could be another
user from the same project or can be an admin from the admin project.
To be able to distinguish between the user who initiated the instance
action from the user owning the instance we need to add two new
fields to the instance action notifications, action_initiator_user
and action_initiator_project

Change-Id: I649d8a27baa8840bc1bb567fef027c749c663432
Closes-bug: #1744658
Blueprint: add-action-initiator-to-instance-action-notifications
"
openstack%2Fmanila~master~Ic68f8e8ae80279fb38b00acbf2784a7301ff51bb,openstack/manila,master,fix-typo,Ic68f8e8ae80279fb38b00acbf2784a7301ff51bb,Change depreciated to deprecated,MERGED,2018-07-04 09:20:53.000000000,2018-07-04 16:10:56.000000000,2018-07-04 15:50:48.000000000,0,0,0,580101,3657c5969d0a0f1e96fa062a38034e52858309dc,24,10,2,1,9414,zhongshengping,ZhongShengping,"Change depreciated to deprecated

TrivialFix

Change-Id: Ic68f8e8ae80279fb38b00acbf2784a7301ff51bb
"
openstack%2Fkolla~master~Ia647b8f59ea0bd1c34b7bd9e063791c63f86edd9,openstack/kolla,master,,Ia647b8f59ea0bd1c34b7bd9e063791c63f86edd9,[WIP] Use kolla-scripts in rabbitmq,ABANDONED,2018-06-28 13:03:33.000000000,2018-07-04 16:10:39.000000000,,23,11,0,578791,be14204cc13062b178d8eb13444f8d6c88a74207,4,2,1,2,1390,Paul Bourke,pauldbourke,"[WIP] Use kolla-scripts in rabbitmq

POC to show how separately packaged scripts can be used in kolla images

Change-Id: Ia647b8f59ea0bd1c34b7bd9e063791c63f86edd9
"
openstack%2Fkolla-ansible~master~Ia0961ec63fa8816f56dab6d7985d55780a42e22b,openstack/kolla-ansible,master,externalise-spec,Ia0961ec63fa8816f56dab6d7985d55780a42e22b,Add spec for splitting out the kolla start scripts,ABANDONED,2018-03-08 17:26:08.000000000,2018-07-04 16:10:25.000000000,,99,0,9,550958,cab4db634282e74af21ecaeb63050a6117e0e02e,26,10,6,1,1390,Paul Bourke,pauldbourke,"Add spec for splitting out the kolla start scripts

This was discussed during the Rocky PTG[0]

[0] https://etherpad.openstack.org/p/kolla-rocky-ptg-build-refactor

Change-Id: Ia0961ec63fa8816f56dab6d7985d55780a42e22b
"
openstack%2Fansible-role-tripleo-modify-image~master~Ifebc943675e109dbb1241c1a2283e6a0e1693d3b,openstack/ansible-role-tripleo-modify-image,master,no_repoquery,Ifebc943675e109dbb1241c1a2283e6a0e1693d3b,Add ability to skip images based on labels,ABANDONED,2018-06-28 15:46:16.000000000,2018-07-04 16:08:23.000000000,,77,64,0,578856,bf218db726089b95421f2005e9d007fdb66d8c6b,5,5,1,2,13039,Martin André,mandre,"Add ability to skip images based on labels

If the `only_with_label` variable is provided, then only the container
images where the given label is set will be processed.

Change-Id: Ifebc943675e109dbb1241c1a2283e6a0e1693d3b
"
openstack%2Fkolla-ansible~master~Ic45094594c21116b5b0d6a606f568fc7954175e3,openstack/kolla-ansible,master,check-bifrost,Ic45094594c21116b5b0d6a606f568fc7954175e3,Add a job for testing deployment of bifrost,MERGED,2018-03-05 14:33:33.000000000,2018-07-04 15:51:45.000000000,2018-07-04 15:51:45.000000000,132,30,2,549775,45a4f9c07589c9aa2e08fa342a57561eec21d137,87,15,23,6,14826,Mark Goddard,mgoddard,"Add a job for testing deployment of bifrost

Deploys a bifrost container using kolla-ansible bifrost-deploy.

IPA and disk images are downloaded rather than built to improve
reliability.

Currently only minimal testing of the deployment is performed, creating
and deleting an ironic node. Ideally we would perform a bare metal node
deployment.

The job is based on CentOS, as Ubuntu bifrost deployment is currently
failing with a python-MySQLdb error.

Change-Id: Ic45094594c21116b5b0d6a606f568fc7954175e3
"
openstack%2Fheat~master~Ic06a4bd7afbd4838ca97be302d75dede5402ae6e,openstack/heat,master,bug/1634127,Ic06a4bd7afbd4838ca97be302d75dede5402ae6e,Allow lazy load of raw_template but log warning,MERGED,2016-10-20 01:18:28.000000000,2018-07-04 15:36:08.000000000,2018-07-04 15:36:08.000000000,45,3,0,388951,7cd0d244640c188e40448841af50352deee7c45a,22,6,4,2,13564,Crag Wolfe,cwolfe,"Allow lazy load of raw_template but log warning

To avoid hard-to-debug bugs, rather than represent a db_stack's
raw_template as None if it hasn't been eagerly loaded, lazy load
it. In the lazy loading case, log a warning so developers are aware
there is a non-eager loading query that needs to be fixed.

Change-Id: Ic06a4bd7afbd4838ca97be302d75dede5402ae6e
"
openstack%2Fopenstack-ansible-nspawn_container_create~master~Ibb3ac9d3c187c4bf44c79c247c6143f88253c2f4,openstack/openstack-ansible-nspawn_container_create,master,updated-pti,Ibb3ac9d3c187c4bf44c79c247c6143f88253c2f4,Follow the new PTI for document build,MERGED,2018-07-03 09:13:46.000000000,2018-07-04 15:31:16.000000000,2018-07-04 15:31:16.000000000,15,9,0,579826,7ea32e92198e505eea1a934988037de3ff389ce6,13,5,1,3,6816,Jesse Pretorius,jesse-pretorius,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html

For more details information, please refer to:
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

In order to pass the requirements check, a new lower bound is set for the
'pyasn1' and 'requests' packages.

Change-Id: Ibb3ac9d3c187c4bf44c79c247c6143f88253c2f4
"
openstack%2Fnova~stable%2Focata~I00f7dee26f031366dbc0d3d6a03abe89afeb85fd,openstack/nova,stable/ocata,bug/1775308,I00f7dee26f031366dbc0d3d6a03abe89afeb85fd,Ensure resource class cache when listing usages,MERGED,2018-06-11 14:31:54.000000000,2018-07-04 15:28:18.000000000,2018-07-04 15:28:18.000000000,1,0,0,574279,4bd2a8d9d97ba8ce2e1bab404454aeb543561760,21,8,2,1,11564,Chris Dent,chdent,"Ensure resource class cache when listing usages

In rare circumstances it is possible to list usages in a new placement
process that has not yet instantiated the _RC_CACHE but for which
there are inventories and allocations in the database (added by
other processes running against the same db). Before this change
that would cause a 500 error (AttributeError) when the Usage objects
in the UsageList were instantiated.

The fix is to added _ensure_rc_cache to the two list methods. The
addition is done there rather than in the _from_db_object as the
latter would cause a lot of redundant checks.

While we could probably devise a test for this, it's perhaps good
enough to evaluate the change by inspection. If not, suggestions
welcome.

This, the ocata version, has only half the changes provided by
commits in newer versions because in ocata, get_all_by_project_user
is not yet available.

Change-Id: I00f7dee26f031366dbc0d3d6a03abe89afeb85fd
Closes-Bug: #1775308
(cherry picked from commit 724d440122232a5bfdfec51eb0d37ca4f1d748d8)
(cherry picked from commit 79a1a113775df87d420b242cea4bbf953df3779c)
(cherry picked from commit 6e1dd287f18e03428b6f991c5b4bdd66901f8c2d)
"
openstack%2Fpuppet-ironic~master~Ide6de7f7a147e15b2941706f282455baa9d8f671,openstack/puppet-ironic,master,power-sync,Ide6de7f7a147e15b2941706f282455baa9d8f671,Expose power sync parameters,MERGED,2018-07-03 14:52:23.000000000,2018-07-04 15:26:10.000000000,2018-07-04 15:26:10.000000000,26,1,0,579893,5310a06d4611ede31980e08cf1662ef1beaaad6f,10,5,1,3,10239,Dmitry Tantsur,dtantsur,"Expose power sync parameters

A busy environment is likely to tune these parameters, let's expose them.

Change-Id: Ide6de7f7a147e15b2941706f282455baa9d8f671
"
openstack%2Fkolla-ansible~master~Id1805c9cfeb499da9bb56c70028f14c6f8bb20b6,openstack/kolla-ansible,master,docker_insecure,Id1805c9cfeb499da9bb56c70028f14c6f8bb20b6,Option for enable SSL verification on docker registry,MERGED,2018-06-13 08:27:07.000000000,2018-07-04 15:02:55.000000000,2018-07-04 15:02:55.000000000,8,1,3,575023,acfc4fd26acd007a72061adc97c9c62c06bab86b,22,8,5,3,18368,Kevin Tibi,kodokuu,"Option for enable SSL verification on docker registry

By default, kolla configure docker to use an insecure connection
with the private registry. If we want to use SSL verification we need
to add an option.

Change-Id: Id1805c9cfeb499da9bb56c70028f14c6f8bb20b6
"
openstack%2Fnova~master~I55cf259c715ba129fa8479d1e8a0d11ec15aaa43,openstack/nova,master,bug/1779626,I55cf259c715ba129fa8479d1e8a0d11ec15aaa43,libvirt: add qemu version check when configuring mtu for network,MERGED,2018-07-02 15:48:11.000000000,2018-07-04 14:54:20.000000000,2018-07-04 14:54:19.000000000,6,2,6,579611,e2d7189f4ff7e4a2697256cf3f695327e1d71db2,45,17,1,1,7730,Sahid Orentino Ferdjaoui,sahid,"libvirt: add qemu version check when configuring mtu for network

This adds a QEMU check when configuring MTU for ethernet and bridge
interface types. When creating and configuring tap devices, libvirt is
setting MTU but also configures the virtio-net devices to let it
discovers the MTU used. This QEMU 'host_mtu' option is supported by
QEMU version 2.9 and more.

Closes-Bug: 1779626
Change-Id: I55cf259c715ba129fa8479d1e8a0d11ec15aaa43
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>
"
openstack%2Fnova~stable%2Focata~Id67e1285a0522474844de130c9263e11868f67fb,openstack/nova,stable/ocata,bug/1739646,Id67e1285a0522474844de130c9263e11868f67fb,Add policy rule to block image-backed servers with 0 root disk flavor,MERGED,2018-04-23 17:49:07.000000000,2018-07-04 14:54:14.000000000,2018-07-04 14:54:14.000000000,125,2,0,563719,8392c7f2656ae624877e3df539681c0a8f8b4926,21,10,2,8,6873,Matt Riedemann,mriedem,"Add policy rule to block image-backed servers with 0 root disk flavor

This adds a new policy rule which defaults to behave in a
backward compatible way, but will allow operators to enforce
that servers created with a zero disk flavor must also be
volume-backed servers.

Allowing users to upload their own images and create image-backed
servers on local disk with zero root disk size flavors can be
potentially hazardous if the size of the image is unexpectedly
large, since it can consume the local disk (or shared storage pool).

It should be noted that disabling the new policy rule will
result in a non-backward compatible API behavior change and no
microversion is being introduced for this because enforcement via
a new microversion would not close the security gap on any previous
microversions.

Related compute API reference and user documentation is updated
to mention the policy rule along with a release note since
this is tied to a security bug, which will be backported to stable
branches.

Conflicts:
      api-ref/source/parameters.yaml
      doc/source/admin/flavors2.rst
      nova/policies/servers.py
      nova/tests/functional/wsgi/test_servers.py

NOTE(mriedem): The api-ref/source/parameters.yaml conflict is due
to If646149efb7eec8c90bf7d07c39ff4c495349941 not being in Pike.
The doc/source/admin/flavors2.rst conflict is due to the doc
not being in Ocata - it was migrated from the central admin-guide
in Ifa0039e270e54ea2fb58ab18ce6724e5e8e061a1.
The nova/policies/servers.py conflict is due to two changes in Pike:
I17b6ca6e17c777ae7d337bf70ec4774ffe5187a8 and
I050c4f5f19aa79a682e076cc3e47eba597f272dd. The DocumentedRuleDefault
class was added to oslo.policy starting in 1.21.1 in Pike which is
newer than what stable/ocata supports in global-requirements so we
can't use it in this backport.
The nova/tests/functional/wsgi/test_servers.py conflict is due to
Ifcaaf285c8f98a1d0e8bbbc87b2f57fbce057346 and
I294c54e5a22dd6e5b226a4b00e7cd116813f0704 not being in Ocata.

Change-Id: Id67e1285a0522474844de130c9263e11868f67fb
Closes-Bug: #1739646
(cherry picked from commit 763fd62464e9a0753e061171cc1fd826055bbc01)
(cherry picked from commit 7bcd581c78bb5916bf4b52e213322e7b56283572)
(cherry picked from commit 0bf75621bbd25d4ce8a3588f112cf714891556eb)
"
openstack%2Fnova~stable%2Fpike~Iaaf7f68d6874fd5d6e737e7d2bc589ea4a048fee,openstack/nova,stable/pike,bug/1774205,Iaaf7f68d6874fd5d6e737e7d2bc589ea4a048fee,Use instance project/user when creating RequestSpec during resize reschedule,MERGED,2018-06-25 20:42:35.000000000,2018-07-04 14:54:08.000000000,2018-07-04 14:54:08.000000000,7,1,0,577926,ce7ad878093e5730b8dcec5ca717b831db8965eb,11,7,1,2,6873,Matt Riedemann,mriedem,"Use instance project/user when creating RequestSpec during resize reschedule

When rescheduling from a failed cold migrate / resize, the compute
service does not pass the request spec back to conductor so we
create one based on the in-scope variables.

This introduces a problem for some scheduler filters like the
AggregateMultiTenancyIsolation filter since it will create the
RequestSpec using the project and user information from the current
context, which for a cold migrate is the admin and might not be
the owner of the instance (which could be in some other project).
So the AggregateMultiTenancyIsolation filter might reject the
request or select a host that fits an aggregate for the admin but
not the end user.

This fixes the problem by using the instance project/user information
when constructing the RequestSpec which will take priority over
the context in RequestSpec.from_components().

Long-term we need the compute service to pass the request spec back
to the conductor during a reschedule, but we do this first since we
can backport it.

NOTE(mriedem): RequestSpec.user_id was added in Rocky in commit
6e49019fae80586c4bbb8a7281600cf6140c176a so we have to remove its
usage in this backport.

Conflicts:
      nova/tests/unit/conductor/test_conductor.py

NOTE(mriedem): The conflict is due to not having change
Ibc44e3b2261b314bb92062a88ca9ee6b81298dc3 in Pike.

Change-Id: Iaaf7f68d6874fd5d6e737e7d2bc589ea4a048fee
Closes-Bug: #1774205
(cherry picked from commit 8c216608194c89d281e8d2b66abd1e50e2405b01)
(cherry picked from commit 1162902280d06eb6201738ef54ff8300f974b374)
"
openstack%2Fnetworking-bgpvpn~master~I3b7eec8b4e0003866d14f7a242768b14802f4906,openstack/networking-bgpvpn,master,,I3b7eec8b4e0003866d14f7a242768b14802f4906,New tempest test added for many bgvpn routes.,MERGED,2018-05-14 12:22:47.000000000,2018-07-04 14:50:07.000000000,2018-07-04 14:50:07.000000000,85,2,21,568279,ddbffe90a9fb712b670c684329cf6b62a7b359fd,28,5,7,1,27800,Andrzej Denisiewicz,denisand,"New tempest test added for many bgvpn routes.

* Test many bgpvpn routes association for one port.
    * Number of routes is defined by AMOUNT_LOOPBACKS
    * Test no ping before association
    * Test ping after association
    * Test no ping after removing association

Change-Id: I3b7eec8b4e0003866d14f7a242768b14802f4906
"
openstack%2Fironic~master~Iaeb365ffb1e59479e15c676e268542fdfef38a91,openstack/ironic,master,576575,Iaeb365ffb1e59479e15c676e268542fdfef38a91,Add a prelude for version 11,MERGED,2018-06-19 16:21:37.000000000,2018-07-04 14:50:05.000000000,2018-07-04 14:50:05.000000000,14,0,7,576575,9d049f7e14e5cb82965900cb7ffeaa4edd27f9f6,14,5,2,1,11655,Julia Kreger,jkreger,"Add a prelude for version 11

Adds a simple prelude for the rocky release cycle release.

Change-Id: Iaeb365ffb1e59479e15c676e268542fdfef38a91
"
openstack%2Fnova~master~Ie4f3f9be0ca7f94ce00a14f3d825a067a807eb12,openstack/nova,master,bug/1779606,Ie4f3f9be0ca7f94ce00a14f3d825a067a807eb12,Fix missing versioned notification examples,MERGED,2018-07-02 05:44:27.000000000,2018-07-04 14:47:15.000000000,2018-07-02 16:53:51.000000000,3,3,1,579436,54d3e7096ca3b68af3cf5f0d30f7c0949e87c6d9,13,9,1,1,7634,Takashi Natsume,natsumet,"Fix missing versioned notification examples

Python 3 is used in executing 'tox -e docs' by default currently.
When Python 3 is used, there are some missing notification examples.

In python 3, map function returns an iterator instead of a list,
and importlib.import_module is not executed in the document generation.
So it causes missing versioned notification examples in the nova docs.

This patch fixes it.

Change-Id: Ie4f3f9be0ca7f94ce00a14f3d825a067a807eb12
Closes-Bug: #1779606
"
openstack%2Fnetworking-bgpvpn~master~Iba72d0bd67d6d6331b1abcfa338d02a8f4070562,openstack/networking-bgpvpn,master,django20-support,Iba72d0bd67d6d6331b1abcfa338d02a8f4070562,Add python3 django 1.11 job instead of django 2.0 job,MERGED,2018-06-12 15:01:27.000000000,2018-07-04 14:42:36.000000000,2018-07-04 14:42:36.000000000,5,9,0,574759,656b62c6ad5c94ec8e5f9d6e03bd0eee480a9d93,12,4,1,2,841,Akihiro Motoki,amotoki,"Add python3 django 1.11 job instead of django 2.0 job

Django 2.0 is now used in tox py35 job, so there is no need for
py35dj20 job. Instead, Django 1.11 with python3 is not covered.

- py35dj20 job is dropped from tox.ini.
- python3-django111 is added to tox.ini.
  python3 is specified to basepython to avoid a specific python version.
- .zuul.yaml is updated to consume horizon-openstack-tox-python3-django111
  and drop horizon-openstack-tox-py35dj20.

Change-Id: Iba72d0bd67d6d6331b1abcfa338d02a8f4070562
"
openstack%2Fopenstack-ansible~master~Ib20057b9cc2860167c6eeed064c303519c4c9b5c,openstack/openstack-ansible,master,common-role-python-reqs,Ib20057b9cc2860167c6eeed064c303519c4c9b5c,Ensure python-keystoneclient has a lower bound,MERGED,2018-07-02 06:37:11.000000000,2018-07-04 14:38:34.000000000,2018-07-04 14:38:34.000000000,1,1,0,579463,132544930466876a80c6ef13641c8a289ac0e31d,27,6,1,1,6816,Jesse Pretorius,jesse-pretorius,"Ensure python-keystoneclient has a lower bound

In order to pass the requirements test, every lib in
the *requirements.txt files must have a lower bound.

Change-Id: Ib20057b9cc2860167c6eeed064c303519c4c9b5c
"
openstack%2Fsahara-dashboard~master~If0010e61e4f3c25c9800a8adc73ea1563366a34c,openstack/sahara-dashboard,master,mox-removal,If0010e61e4f3c25c9800a8adc73ea1563366a34c,Remove mox3 from DataProcessingClusterTemplateTests,MERGED,2018-04-21 14:42:56.000000000,2018-07-04 14:37:35.000000000,2018-07-04 14:37:35.000000000,46,60,6,563424,77bc89043272e2d3b6c743c81788dbf4e4f977f2,31,4,7,1,24,Chuck Short,zulcss,"Remove mox3 from DataProcessingClusterTemplateTests

Apart of the mox3 community goal for rocky.

Change-Id: If0010e61e4f3c25c9800a8adc73ea1563366a34c
Signed-off-by: Charles Short <zulcss@gmail.com>
"
openstack%2Fpuppet-murano~master~I52a4ae2740a13eba6d9dab1aeaf6a39b65615ea5,openstack/puppet-murano,master,,I52a4ae2740a13eba6d9dab1aeaf6a39b65615ea5,Add release note link in README,MERGED,2018-06-27 14:16:51.000000000,2018-07-04 14:37:03.000000000,2018-07-04 14:37:03.000000000,1,3,0,578406,8a4221008c0dee4b68d0bf2fbf3a9c648c1597ca,7,3,1,1,17499,Filippo Inzaghi,qingszhao,"Add release note link in README

Change-Id: I52a4ae2740a13eba6d9dab1aeaf6a39b65615ea5
"
openstack%2Fproject-config~master~Ibf891deadcaa8e5d323992e9626765341ca5c44a,openstack/project-config,master,,Ibf891deadcaa8e5d323992e9626765341ca5c44a,Add executor used HDD metric to zuul-status dashboard,MERGED,2018-07-03 20:20:33.000000000,2018-07-04 14:35:55.000000000,2018-07-04 14:35:55.000000000,5,0,0,579970,0a911a8b6379aacc5ac4783bc58a13f1ccbb6436,8,4,1,1,4162,Paul Belanger,pabelanger,"Add executor used HDD metric to zuul-status dashboard

Start tracking HDD usage for zuul-executors, as it now has the
ability to stop / start builds.

Change-Id: Ibf891deadcaa8e5d323992e9626765341ca5c44a
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
"
openstack%2Fopenstack-ansible-tests~master~I748b509d24b0060908ac75322dd20062a1515169,openstack/openstack-ansible-tests,master,bp/python-build-install-simplification,I748b509d24b0060908ac75322dd20062a1515169,Ensure clouds.yaml is placed correctly,MERGED,2018-07-03 19:56:21.000000000,2018-07-04 14:29:17.000000000,2018-07-04 13:15:15.000000000,6,0,0,579959,cdad81ae96a181ca50c9ec58fe81d823aa41e9ea,11,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"Ensure clouds.yaml is placed correctly

When placing the clouds.yaml file, it needs to be accessible to
the user running ansible. This user is not necessarily root and
for openstack-infra is a non-root user.

To ensure that the file is placed in the right directory and with
the right permissions, we provide the right variable value to
ansible when it runs the role.

Change-Id: I748b509d24b0060908ac75322dd20062a1515169
"
openstack%2Fkuryr-kubernetes~master~I6d1622891c874f6477b37f37a0249ab636dcadab,openstack/kuryr-kubernetes,master,move_multinode_to_check,I6d1622891c874f6477b37f37a0249ab636dcadab,Move multinode gate to check pipeline,MERGED,2018-07-03 09:38:02.000000000,2018-07-04 14:21:17.000000000,2018-07-04 14:21:17.000000000,1,1,0,579829,ad211c0debf53155085b92a4ad8c59db120a56ba,8,6,1,1,14885,Daniel Mellado,daniel-mellado,"Move multinode gate to check pipeline

After the split of .zuul.yaml into .zuul.d/ files multinode gate, which
was added to check by [1] was left back on experimental. This commit
moves it back to check pipeline.

[1] https://review.openstack.org/#/c/578792/

Change-Id: I6d1622891c874f6477b37f37a0249ab636dcadab
"
openstack%2Ftripleo-heat-templates~master~Idc5d48d60ab82139c2444cc40e7bf923732b41f9,openstack/tripleo-heat-templates,master,bug/1780050,Idc5d48d60ab82139c2444cc40e7bf923732b41f9,"Revert ""Correct log location in container environment for Fluentd""",ABANDONED,2018-07-04 09:24:46.000000000,2018-07-04 14:14:25.000000000,,32,482,0,580102,fc2f471307c72bce8b9a53420d675297e3b98574,4,2,1,38,22954,Juan Badia Payno,jbadiapa,"Revert ""Correct log location in container environment for Fluentd""

This patch makes fluentd set the services log path wrong.
The service log path should be something like
/var/log/containers/SERVICE but currently is
/var/log/containers/containers/SERVICE due to this patch.

It can be seen at the gate:
http://logs.openstack.org/97/579697/1/check/tripleo-ci-centos-7-scenario001-multinode-oooq-container/16ae389/logs/subnode-2/var/log/config-data/fluentd/etc/fluentd/config.d/100-openstack-ceilometer_agent_central.conf.txt.gz

This patch set the log path on the dockers as
/var/log/containers/XXXX, but fluentd already has a
puppet-transformation for it.
https://github.com/openstack/puppet-tripleo/blob/master/manifests/profile/base/logging/fluentd/fluentd_service.pp#L36-L39

Closes-Bug: #1780050

This reverts commit 3848713182c0cdb1e0e78cee9233a278d69cf3ab.

Change-Id: Idc5d48d60ab82139c2444cc40e7bf923732b41f9
"
openstack%2Fnova~master~I7150e15694bb149ae67da37b5e43b6ea7507fe82,openstack/nova,master,bug/1762688,I7150e15694bb149ae67da37b5e43b6ea7507fe82,libvirt: Fix the rescue race for vGPU instances,MERGED,2018-06-22 13:51:44.000000000,2018-07-04 14:14:02.000000000,2018-06-29 08:51:59.000000000,21,2,7,577424,1c59397e09de5506bccba513ef31ffb8585fcdc3,29,15,2,3,7166,Sylvain Bauza,sbauza,"libvirt: Fix the rescue race for vGPU instances

When rescuing an instance having a vGPU, we were not using the vGPU.
There would then be a race condition during the rescue where the vGPU
could be passed to another instance.
Instead, we should just make sure the vGPU would also be in the rescued
instance.

Change-Id: I7150e15694bb149ae67da37b5e43b6ea7507fe82
Closes-bug: #1762688
"
openstack%2Fheat~master~I6dde50de599eb3b6b001cbc044929c64df044575,openstack/heat,master,python3-first,I6dde50de599eb3b6b001cbc044929c64df044575,fix tox python3 overrides,MERGED,2018-06-06 20:07:02.000000000,2018-07-04 14:09:51.000000000,2018-07-04 14:09:51.000000000,10,0,0,572959,55d1f4006ccab853ccae34ab861834f9e28b0f10,12,4,2,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I6dde50de599eb3b6b001cbc044929c64df044575
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Ffreezer-web-ui~stable%2Fpike~I9bff33eac9c756afb571f81824a8a3242477f321,openstack/freezer-web-ui,stable/pike,bug/1777705-stable/pike,I9bff33eac9c756afb571f81824a8a3242477f321,Avoid using deprecated opt in Web-UI,MERGED,2018-07-02 23:09:56.000000000,2018-07-04 14:07:41.000000000,2018-07-04 14:07:41.000000000,3,3,0,579713,a712fd4fe7cade6caff2ea0da9272abd1e4d5fdd,7,3,1,1,25601,Kent Wu,wukent,"Avoid using deprecated opt in Web-UI

Use new opt instead of deprecated opt to avoid KeyError.

Change-Id: I9bff33eac9c756afb571f81824a8a3242477f321
Closes-Bug: #1777705
(cherry picked from commit 40a07a0e003961b26a1a87172f796f75a215b917)
"
openstack%2Fpython-heatclient~master~Ifc4bcb53cca13af8f6afa03ab50e3526a0c422f6,openstack/python-heatclient,master,add-functional-test,Ifc4bcb53cca13af8f6afa03ab50e3526a0c422f6,Add extra functional tests in heatclient,NEW,2016-12-13 07:09:35.000000000,2018-07-04 14:06:22.000000000,,26,3,4,410063,c5c8356ec0d095bed476049bc7009fe6422af578,25,6,7,2,22863,shizhihui,shizhihui,"Add extra functional tests in heatclient

For now, there are several heat osc CLIs which do not have own
functional tests in heatclient/tests/functional/osc/v1.
I think it is time to add some for heatclient.

Add functional test for 'openstack stack list'
                        'openstack stack snapshot list'

Change-Id: Ifc4bcb53cca13af8f6afa03ab50e3526a0c422f6
"
openstack%2Fnova~stable%2Fqueens~I7150e15694bb149ae67da37b5e43b6ea7507fe82,openstack/nova,stable/queens,bug/1762688-stable/queens,I7150e15694bb149ae67da37b5e43b6ea7507fe82,libvirt: Fix the rescue race for vGPU instances,MERGED,2018-07-02 09:32:47.000000000,2018-07-04 14:01:26.000000000,2018-07-04 14:01:26.000000000,21,2,0,579503,3163c9391ec2569f77e583bccf6163c309e45482,14,8,1,3,7166,Sylvain Bauza,sbauza,"libvirt: Fix the rescue race for vGPU instances

When rescuing an instance having a vGPU, we were not using the vGPU.
There would then be a race condition during the rescue where the vGPU
could be passed to another instance.
Instead, we should just make sure the vGPU would also be in the rescued
instance.

Change-Id: I7150e15694bb149ae67da37b5e43b6ea7507fe82
Closes-bug: #1762688
(cherry picked from commit 1c59397e09de5506bccba513ef31ffb8585fcdc3)
"
openstack%2Fopenstack-ansible~master~I2a49a407e82c23540cd0aff209bd276c8a303bf0,openstack/openstack-ansible,master,bug/1779534,I2a49a407e82c23540cd0aff209bd276c8a303bf0,Pin get-pip.py to 3.2,MERGED,2018-07-03 17:10:37.000000000,2018-07-04 13:44:18.000000000,2018-07-04 13:44:18.000000000,4,4,0,579927,e79314ecd462f1388d72bada681cc792a588d8db,14,6,2,3,6816,Jesse Pretorius,jesse-pretorius,"Pin get-pip.py to 3.2

As get-pip.py evolves based on pip 10, while we're still using
pip 9, changes in the way it can be used are causing problems.

For example, the ability to use --download is no longer there.

As such, let's pin to a known good version and leave it at that
until we no longer need to use this script. Version 3.2 maps to
pip 7.1.2 which fulfills our needs.

Change-Id: I2a49a407e82c23540cd0aff209bd276c8a303bf0
Closes-Bug: 1779534
"
openstack%2Fneutron-fwaas~master~I30642267b93eed0bc3eb6523b4ff7eae18104da0,openstack/neutron-fwaas,master,579835,I30642267b93eed0bc3eb6523b4ff7eae18104da0,[DNR] trying to understand functional test,ABANDONED,2018-07-03 10:03:54.000000000,2018-07-04 13:29:58.000000000,,8,3,0,579835,9ce94c8f49333dc0dcd6c5eb0a29258d6790f18f,9,1,4,2,25254,Nguyen Van Trung,trungnv,"[DNR] trying to understand functional test

Change-Id: I30642267b93eed0bc3eb6523b4ff7eae18104da0
"
openstack%2Fcinder~master~I3e84e54eb5cd9eb81604740732ea2d717a7e25e9,openstack/cinder,master,bug/1779911,I3e84e54eb5cd9eb81604740732ea2d717a7e25e9,Correct Pure Storage configuration documentation,MERGED,2018-07-03 17:41:59.000000000,2018-07-04 13:29:15.000000000,2018-07-03 22:31:56.000000000,7,7,3,579934,52deeff8d2519c1700aa880d3fae0bb0e83ea86c,27,19,1,1,13425,Simon Dodsley,sdodsley,"Correct Pure Storage configuration documentation

The Automatic thin-provisioning/oversubscription ratio section
incorrectly defines the default value.

Rewrite section to be correct.

Change-Id: I3e84e54eb5cd9eb81604740732ea2d717a7e25e9
Closes-Bug: 1779911
"
openstack%2Fpython-heatclient~master~Ia20d2ef56af2da00b374b3a3e5d79d7228c6a763,openstack/python-heatclient,master,python3-first,Ia20d2ef56af2da00b374b3a3e5d79d7228c6a763,fix tox python3 overrides,MERGED,2018-06-07 16:45:15.000000000,2018-07-04 13:22:53.000000000,2018-07-04 13:22:53.000000000,6,0,0,573335,4c782b2817b9519cafe8e7c0f96469e6b97453e5,10,4,1,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ia20d2ef56af2da00b374b3a3e5d79d7228c6a763
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fwatcher~stable%2Fqueens~I1bbfd373ad12b98696ab2ddb78e56e6503cc4c4d,openstack/watcher,stable/queens,fix-zuul-queens,I1bbfd373ad12b98696ab2ddb78e56e6503cc4c4d,Remove undefined job,MERGED,2018-07-03 20:27:28.000000000,2018-07-04 13:06:11.000000000,2018-07-04 13:06:11.000000000,0,1,0,579973,e0faeea60815908d6ad31bcb59b9bbd9acf22b00,7,3,1,1,4146,Clark Boylan,cboylan,"Remove undefined job

The legacy-rally-dsvm-watcher-rally job does not exist but it is listed
in the .zuul.yaml config. This is a zuul configuration error. Remove
this job which does not exist to fix zuul.

Change-Id: I1bbfd373ad12b98696ab2ddb78e56e6503cc4c4d
"
openstack%2Fpuppet-qdr~master~I717a5fb84e85ebe5611cadbacbe960fe33461a83,openstack/puppet-qdr,master,,I717a5fb84e85ebe5611cadbacbe960fe33461a83,Add release note link in README,MERGED,2018-06-27 14:36:48.000000000,2018-07-04 13:05:38.000000000,2018-07-04 13:05:38.000000000,2,0,0,578420,42d68ba1b40f2578c7da1d97f5f0aa6487256f66,7,3,1,1,17499,Filippo Inzaghi,qingszhao,"Add release note link in README

Change-Id: I717a5fb84e85ebe5611cadbacbe960fe33461a83
"
openstack%2Frpm-packaging~stable%2Fpike~I5a901ade60949af2c5246ce1ae1877d7feb37b4d,openstack/rpm-packaging,stable/pike,,I5a901ade60949af2c5246ce1ae1877d7feb37b4d,Use python3 as python for envs as spec_cleaner dropped python2,MERGED,2018-07-02 13:16:35.000000000,2018-07-04 13:02:07.000000000,2018-07-04 13:02:07.000000000,1,0,0,579550,f26060324399827bee83b98ce5ff0b4112fcec7c,9,4,2,1,23735,sumitjami,nthforloop,"Use python3 as python for envs as spec_cleaner dropped python2

https://github.com/openSUSE/spec-cleaner/issues/234

Change-Id: I5a901ade60949af2c5246ce1ae1877d7feb37b4d
"
openstack%2Fpuppet-ovn~master~I09d72f715331c86e663b979879f2fb6d0c957bbb,openstack/puppet-ovn,master,,I09d72f715331c86e663b979879f2fb6d0c957bbb,Add release note link in README,MERGED,2018-06-27 13:34:29.000000000,2018-07-04 13:01:58.000000000,2018-07-04 13:01:58.000000000,3,0,0,578383,f0d4e4b52118b79cecadc9e087ba25bb0cdb837f,7,3,1,1,17499,Filippo Inzaghi,qingszhao,"Add release note link in README

Change-Id: I09d72f715331c86e663b979879f2fb6d0c957bbb
"
openstack%2Frpm-packaging~master~Ia7047f4303346b4bdf9bc4624164074373af7866,openstack/rpm-packaging,master,linters,Ia7047f4303346b4bdf9bc4624164074373af7866,DNM: python3,ABANDONED,2018-07-02 13:05:17.000000000,2018-07-04 12:47:26.000000000,,2,2,0,579546,4aa4fd712c84db57380ccb0cb6a3f1719c40bc1b,5,3,1,1,6593,Dirk Mueller,dmllr,"DNM: python3

Change-Id: Ia7047f4303346b4bdf9bc4624164074373af7866
"
openstack%2Fpuppet-horizon~stable%2Fqueens~I53a9107a33e9afffc5d00884c66c073e77c59237,openstack/puppet-horizon,stable/queens,backport-bugfix,I53a9107a33e9afffc5d00884c66c073e77c59237,Fix redirect to https bug and testing,ABANDONED,2018-07-04 07:19:29.000000000,2018-07-04 12:46:21.000000000,,164,3,0,580062,08ad0a3d936b991acef9c0838f91eee46b9ec0de,4,2,1,3,16137,Tobias Urdin,tobasco,"Fix redirect to https bug and testing

Fixes a bug where having listen_ssl and ssl_redirect
set to true did not redirect http to https if your
root_url was empty or '/'.

This now forces redirection from http to https no
matter what your root_url is if listen_ssl and ssl_redirect
is set to true.

This also cleans up all apache::wsgi::apache testing and fixes
the structure so it doesn't enforce some context tests only for
the SSL enabled context but for everything.

Change-Id: I53a9107a33e9afffc5d00884c66c073e77c59237
"
openstack%2Fwatcher~master~Id94e49347006bca850f72a0400794da8c2a67144,openstack/watcher,master,fix-zuul,Id94e49347006bca850f72a0400794da8c2a67144,Remove non-voting jobs from gate queue,MERGED,2018-07-04 09:43:45.000000000,2018-07-04 12:28:55.000000000,2018-07-04 12:28:55.000000000,6,8,0,580110,c9e88866313d59dd77b073db954f073ecc6d4eb5,8,2,3,1,6547,Andreas Jaeger,jaegerandi,"Remove non-voting jobs from gate queue

Non-voting jobs should not be in gate queue at all, remove them.
They are wasting needlessly are resources.

To make clearer which jobs are non-voting, move voting:false
from base job to individual jobs.

Make watcherclient-tempest-functional as voting job and explicitly set
it non-voting in project stanza so that it can be easier to make it
voting in other repos.

Change-Id: Id94e49347006bca850f72a0400794da8c2a67144
"
openstack%2Fwatcher~master~I1bbfd373ad12b98696ab2ddb78e56e6503cc4c4d,openstack/watcher,master,fix-zuul,I1bbfd373ad12b98696ab2ddb78e56e6503cc4c4d,Remove undefined job,MERGED,2018-07-03 20:26:42.000000000,2018-07-04 12:28:55.000000000,2018-07-04 12:28:54.000000000,0,2,0,579972,737358867378966235a036b368b5641430391219,15,4,3,1,4146,Clark Boylan,cboylan,"Remove undefined job

The legacy-rally-dsvm-watcher-rally job does not exist but it is listed
in the .zuul.yaml config. This is a zuul configuration error. Remove
this job which does not exist to fix zuul.

Change-Id: I1bbfd373ad12b98696ab2ddb78e56e6503cc4c4d
"
openstack%2Fopenstack-ansible-os_sahara~master~Ic1f54fb2b626f7e194fc89b6df5eb6afc6897c80,openstack/openstack-ansible-os_sahara,master,,Ic1f54fb2b626f7e194fc89b6df5eb6afc6897c80,Switch to using project-templates,MERGED,2018-06-22 19:30:53.000000000,2018-07-04 12:17:42.000000000,2018-07-04 12:17:41.000000000,2,13,0,577523,edf8782081a58d12b187eef8ce957449c6f00cbf,18,5,3,1,28521,Heba Naser,nheba,"Switch to using project-templates

In order to have more centralized configuration, switch the role
to use the project-template instead.

Depends-On: I3df2c670beeb78baaa1515bcd27e8f2b0d95b3a9
Change-Id: Ic1f54fb2b626f7e194fc89b6df5eb6afc6897c80
"
openstack%2Fnova~master~I075785abcd4f4a8e180959daeadf215b9cd175c8,openstack/nova,master,placement-direct-as-adapter,I075785abcd4f4a8e180959daeadf215b9cd175c8,Provide a direct interface to placement,MERGED,2018-06-05 22:36:29.000000000,2018-07-04 12:14:39.000000000,2018-06-15 04:52:26.000000000,270,81,86,572576,43cc59abe2ac087f3447ef1a294041684545d1e4,76,20,5,5,11564,Chris Dent,chdent,"Provide a direct interface to placement

This is a method of using wsgi-intercept to provide a context
manager that allows talking to placement over requests, but without
a network. It is a quick and dirty way to talk to and make changes
in the placement database where the only network traffic is with the
placement database.

This is expected to be useful in the creation of tools for
performing fast forward upgrades where each compute node may need to
""migrate"" its resource providers, inventory and allocations in the
face of changing representations of hardware (for example
pre-existing VGPUs being represented as nested providers) but would
like to do so when all non-database services are stopped. A system
like this would allow code on the compute node to update the
placement database, using well known HTTP interactions, without the
placement service being up.

The basic idea is that we spin up the WSGI stack with no auth,
configured using whatever already loaded CONF we happen to have
available. That CONF points to the placement database and all the
usual stuff. The context manager provides a keystoneauth1 Adapter
class that operates as a client for accessing placement. The full
WSGI stack is brought up because we need various bits of middleware
to help ensure that policy calls don't explode and so JSON
validation is in place.

In this model everything else is left up to the caller: constructing
the JSON, choosing which URIs to call with what methods (see
test_direct for minimal examples that ought to give an idea of what
real callers could expect).

To make things friendly in the nova context and ease creation of fast
forward upgrade tools, SchedulerReportClient is tweaked to take an
optional adapter kwarg on construction. If specified, this is used
instead of creating one with get_ksa_adapter(), using settings from
[placement] conf.

Doing things in this way draws a clear line between the placement parts
and the nova parts while keeping the nova parts straightforward.

NoAuthReportClient is replaced with a base test class,
test_report_client.SchedulerReportClientTestBase. This provides an
_interceptor() context manager which is a wrapper around
PlacementDirect, but instead of producing an Adapter, it produces a
SchedulerReportClient (which has been passed the Adapter provided by
PlacementDirect). test_resource_tracker and test_report_client are
updated accordingly.

Caveats to be aware of:

* This is (intentionally) set up to circumvent authentication and
  authorization. If you have access to the necessary database
  connection string, then you are good to go. That's what we want,
  right?

* CONF construction being left up to the caller is on purpose
  because right now placement itself is not super flexible in this
  area and flexibility is desired here.

This is not (by a long shot) the only way to do this. Other options
include:

* Constructing a WSGI environ that has all the necessary bits to
  allow calling the methods in the handlers directly (as python
  commands).  This would duplicate a fair bit of the middleware and
  seems error prone, because it's hard to discern what parts of the
  environ need to be filled. It's also weird for data input: we need
  to use a BytesIO to pass in data on PUTs and POSTs.

* Using either the WSGI environ or wsgi-intercept models but wrap it
  with a pythonic library that exposes a ""pretty"" interface to
  callers. Something like:

      placement.direct.allocations.update(consumer_uuid, {data})

* Creating a python library that assembles the necessary data for
  calling the methods in the resource provider objects and exposing
  that to:
  a) the callers who want this direct stuff
  b) the existing handlers in placement (which remain responsible
     for json manipulation and validation and microversion handling,
     and marshal data appropriately for the python lib)

I've chosen the simplest thing as a starting point because it gives
us something to talk over and could solve the immediate problem. If
we were to eventually pursue the 4th option, I would hope that we
had some significant discussion before doing so as I think it is a)
harder than it might seem at first glance, b) likely to lead to many
asking ""why bother with the http interface at all?"". Both require
thought.

Partially implements blueprint reshape-provider-tree
Co-Authored-By: Eric Fried <efried@us.ibm.com>
Change-Id: I075785abcd4f4a8e180959daeadf215b9cd175c8
"
openstack%2Foslo.serialization~master~I78a93c29f2c9033bba1859c79d826578d72257f5,openstack/oslo.serialization,master,stestr,I78a93c29f2c9033bba1859c79d826578d72257f5,Switch to stestr,MERGED,2018-07-03 06:32:53.000000000,2018-07-04 12:06:55.000000000,2018-07-04 12:06:55.000000000,7,11,4,579773,dc592c68e351c1461e94610976b548081b451790,12,3,3,6,25903,Vu Cong Tuan,tuanvu,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I78a93c29f2c9033bba1859c79d826578d72257f5
"
openstack%2Foslo.utils~master~Ica0262653e8c18681d049acca6d5920ac38f97e6,openstack/oslo.utils,master,stestr,Ica0262653e8c18681d049acca6d5920ac38f97e6,Switch to stestr,MERGED,2018-07-03 06:39:36.000000000,2018-07-04 11:57:35.000000000,2018-07-04 11:57:35.000000000,8,13,8,579776,0812f94a2367cf16d8379a6432f1a60a46c89616,12,3,3,6,25903,Vu Cong Tuan,tuanvu,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: Ica0262653e8c18681d049acca6d5920ac38f97e6
"
openstack%2Foslo.context~master~Ic863da849df2a728ce6b26bfd946262a5439fcad,openstack/oslo.context,master,stestr,Ic863da849df2a728ce6b26bfd946262a5439fcad,Switch to stestr,MERGED,2018-07-03 02:40:32.000000000,2018-07-04 11:57:34.000000000,2018-07-04 11:57:34.000000000,7,11,4,579739,4abd5377e4d847102a4e87a528d689e31cc1713c,17,4,4,6,25903,Vu Cong Tuan,tuanvu,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: Ic863da849df2a728ce6b26bfd946262a5439fcad
"
openstack%2Fpython-watcherclient~master~I73fd45772ba9c793dad3221c852af4e9606362e1,openstack/python-watcherclient,master,,I73fd45772ba9c793dad3221c852af4e9606362e1,Don't run voting jobs in gate,MERGED,2018-07-04 09:48:14.000000000,2018-07-04 11:49:07.000000000,2018-07-04 11:49:07.000000000,2,2,0,580112,152804168dc0457396f58ae59269bb1734e4ad7f,6,2,1,1,6547,Andreas Jaeger,jaegerandi,"Don't run voting jobs in gate

Non-voting jobs should not be in gate queue at all, remove them.
They are wasting needlessly our resources since they get ignored.

Mark the job explictely as non-voting, since another change will make
the job voting by default - which allows to make it easily voting here.

See also https://review.openstack.org/580110

Change-Id: I73fd45772ba9c793dad3221c852af4e9606362e1
"
openstack%2Foslo.vmware~master~Iea425a8583f7396cc4e9d6964f3efa9875dc59ac,openstack/oslo.vmware,master,stestr,Iea425a8583f7396cc4e9d6964f3efa9875dc59ac,Switch to stestr,MERGED,2018-07-03 06:47:19.000000000,2018-07-04 11:47:18.000000000,2018-07-04 11:47:18.000000000,7,12,4,579780,d1cfde2b6de415a076e5b712588a8b0612631671,17,4,3,6,25903,Vu Cong Tuan,tuanvu,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: Iea425a8583f7396cc4e9d6964f3efa9875dc59ac
"
openstack%2Fnova~master~I42c91f5f752f0a4fba8b1d95489fc3f87a1c5b6e,openstack/nova,master,bug/1779635,I42c91f5f752f0a4fba8b1d95489fc3f87a1c5b6e,Prevent updating an RP's parent to form a loop,MERGED,2018-07-02 16:01:28.000000000,2018-07-04 11:44:11.000000000,2018-07-04 05:20:01.000000000,31,3,11,579618,00b13a2e2fab6e9a9635c4df186269a16d9fbfbd,48,17,3,2,9708,Balazs Gibizer,gibi,"Prevent updating an RP's parent to form a loop

Placement had RP loop detection for RP creation but if an RP is created
without a parent (e.g. root RP) then the parent can be set later with a
PUT /resource_providers/{uuid} request by providing the UUID of the
parent. In this code path the loop detection was missing from the
validation. Moreover there are different loop cases for create than for
set. For create the only possible loop is when the RP being created is
points to itself as a parent. However when the parent is provided later
in a PUT the RP being updated can have descendant RPs. Setting a parent
to a descendant also creates a loop.

This patch adds the missing check and returns HTTP 400 if loop is detected.

Closes-Bug: #1779635
Change-Id: I42c91f5f752f0a4fba8b1d95489fc3f87a1c5b6e
"
openstack%2Fneutron~stable%2Fpike~I202db59acb7fb0b7924748cf7def2879a748e56a,openstack/neutron,stable/pike,bug/1736068,I202db59acb7fb0b7924748cf7def2879a748e56a,Add/rm centralized fips for DVR+HA from standby node,MERGED,2018-06-15 08:55:40.000000000,2018-07-04 11:28:43.000000000,2018-07-04 11:28:43.000000000,65,4,0,575690,5e967131eec7035a019adaa93284f16830faf510,33,8,2,2,11975,Slawek Kaplonski,slaweq,"Add/rm centralized fips for DVR+HA from standby node

For DVR+HA:
When adding/removing a centralized fip, just add/remove it to/from
keepalived instance and do not check if it is a master router.

When adding a centralized fip, it is still needed to invoke method
of supperclass to configure nat rules on master node.

When removing a centralized fip, it is still needed to invoke method
of supperclass to clean contrack on master node.

Change-Id: I202db59acb7fb0b7924748cf7def2879a748e56a
Closes-Bug: #1736068
(cherry picked from commit 2200b1c3697a478af9f25a20ce09564bc2c9a968)
"
openstack%2Fpython-glanceclient~master~I7de7c27a067f6346ebb9a29f76a7531502801a71,openstack/python-glanceclient,master,,I7de7c27a067f6346ebb9a29f76a7531502801a71,Add release note link in README,MERGED,2018-06-27 17:52:56.000000000,2018-07-04 11:19:46.000000000,2018-07-04 11:19:46.000000000,1,1,0,578500,45ba4e3b28081f8872b74b9005dd5d109fd621a0,7,3,1,1,17499,Filippo Inzaghi,qingszhao,"Add release note link in README

Change-Id: I7de7c27a067f6346ebb9a29f76a7531502801a71
"
openstack%2Fopenstack-ansible-tests~master~I6aa297ee6e1ca3a76f016a6a0c3d4a735433a9b2,openstack/openstack-ansible-tests,master,bug/1779534,I6aa297ee6e1ca3a76f016a6a0c3d4a735433a9b2,Pin get-pip.py to 3.2,MERGED,2018-07-03 17:09:40.000000000,2018-07-04 11:18:48.000000000,2018-07-04 10:31:42.000000000,1,1,0,579926,aa0a76ce9c1cae9e9b11d13be6b67bfd81232c75,12,3,2,1,6816,Jesse Pretorius,jesse-pretorius,"Pin get-pip.py to 3.2

As get-pip.py evolves based on pip 10, while we're still using
pip 9, changes in the way it can be used are causing problems.

For example, the ability to use --download is no longer there.

As such, let's pin to a known good version and leave it at that
until we no longer need to use this script. Version 3.2 maps to
pip 7.1.2 which fulfills our needs.

Change-Id: I6aa297ee6e1ca3a76f016a6a0c3d4a735433a9b2
Closes-Bug: 1779534
"
openstack%2Fglance-specs~master~I6482178dfbd4be00d997b80c068f465875103cff,openstack/glance-specs,master,move-to-implemented,I6482178dfbd4be00d997b80c068f465875103cff,"Move specs implemented in Rocky-{1,2} milestones",MERGED,2018-06-20 21:55:44.000000000,2018-07-04 11:16:47.000000000,2018-07-04 11:16:47.000000000,20,1,0,576996,0cd9928970c888ac340fa289710f4a9c89d82161,7,3,1,6,5314,Brian Rosmaita,brian-rosmaita,"Move specs implemented in Rocky-{1,2} milestones

The owner_is_tenant option was deprecated in R-1.
The pending-delete revert was merged for R-2.
This patch moves the specs to 'implemented' and sets up redirects
from 'approved' so links won't be broken.

Change-Id: I6482178dfbd4be00d997b80c068f465875103cff
"
openstack%2Fopenstack-ansible-os_sahara~master~Ib0fe2f1ce614ef9cbceefe6c8620dc2ddb5445b4,openstack/openstack-ansible-os_sahara,master,common-role-python-reqs,Ib0fe2f1ce614ef9cbceefe6c8620dc2ddb5445b4,Use tests repo for common role test requirements,MERGED,2018-07-02 15:31:03.000000000,2018-07-04 11:13:29.000000000,2018-07-04 11:13:29.000000000,1,28,0,579602,b8fe070f8db2f8b7953191c039397b5f8b53ea6a,11,4,2,2,28521,Heba Naser,nheba,"Use tests repo for common role test requirements

Using tox for requirements management requires in-repo
requirements files for all our repositories. Rather than
do that, we make use of the tests repo to capture our
common requirements and use this to install them.

This reduces our review requirement rate and simplifies
maintenance for us for the tox config. It also makes it
usable with 'Depends-On', which is marvellous!

The tox requirements definitions for docs/releasenotes
builds are left in-place as those are standard entries
across the community. If that changes at some point, we
can re-assess those entries too.

Depends-On: https://review.openstack.org/579208
Change-Id: Ib0fe2f1ce614ef9cbceefe6c8620dc2ddb5445b4
"
openstack%2Fkuryr-kubernetes~master~Id60bae1adfcf9825a22f0c53544bd239c2118ed6,openstack/kuryr-kubernetes,master,bug/1779133,Id60bae1adfcf9825a22f0c53544bd239c2118ed6,OCP-Route: configuration and testing documentation,MERGED,2018-06-28 13:51:59.000000000,2018-07-04 11:04:49.000000000,2018-07-04 11:04:49.000000000,146,0,1,578806,496ba3ce7f916e37bd831b3400a817fe8d0f1b9f,13,4,3,2,21041,Yossi Boaron,yboaron,"OCP-Route: configuration and testing documentation

This patch adds configuration and testing document for OCP-Route.
Closes-Bug: #1779133

Change-Id: Id60bae1adfcf9825a22f0c53544bd239c2118ed6
"
openstack%2Foctavia~master~I18c5b92f872e048b6735dcd111b33e8ba9760512,openstack/octavia,master,bug/1690812,I18c5b92f872e048b6735dcd111b33e8ba9760512,Fix a Python3 issue with start_stop_listener,ABANDONED,2017-07-06 09:02:02.000000000,2018-07-04 10:53:49.000000000,,1,1,0,480919,76da0dd9232fe4a6e333d35aac27fea15958c58c,11,2,3,1,6579,Nir Magnezi,nmagnezi,"Fix a Python3 issue with start_stop_listener

Change-Id: I18c5b92f872e048b6735dcd111b33e8ba9760512
Related-Bug: #1690812
"
openstack%2Fnova~master~Ief1634f7e31c473b226e9f19240ecd21840ebdb3,openstack/nova,master,bug/1779711,Ief1634f7e31c473b226e9f19240ecd21840ebdb3,Handle nested serialized json entries in assertJsonEqual,MERGED,2018-07-02 15:51:38.000000000,2018-07-04 10:48:47.000000000,2018-07-03 12:54:22.000000000,13,2,0,579615,ac9acce283a28326c6f9af4a158e6f3c1e09db45,36,17,2,2,6873,Matt Riedemann,mriedem,"Handle nested serialized json entries in assertJsonEqual

test_pre_live_migration_volume_backed* tests are comparing
primitive versions of LibvirtLiveMigrateData objects which
nest primitive LibvirtLiveMigrateBDMInfo which have
serialized connection_info_json fields in them, which can
have a random key order when comparing which makes the tests
fail. This changes assertJsonEqual to try and deserialize
nested json strings like it does for the top level expected
and observed variables, and updates the test to use
assertJsonEqual.

Change-Id: Ief1634f7e31c473b226e9f19240ecd21840ebdb3
Closes-Bug: #1779711
"
openstack%2Fkuryr-kubernetes~master~I43a6b5423bd32a564511ea10ae620922bbad2d2a,openstack/kuryr-kubernetes,master,openshift-dns,I43a6b5423bd32a564511ea10ae620922bbad2d2a,devstack support for openshift-dns,MERGED,2018-06-29 15:48:22.000000000,2018-07-04 10:40:19.000000000,2018-07-04 10:40:19.000000000,159,0,4,579203,46f750edae74225a4dfbcce1f70990e1122a9613,35,6,13,4,14352,Antoni Segura Puimedon,toni,"devstack support for openshift-dns

This adds a new devstack service to provide cluster local DNS
for Pods. It uses dnsmasq to still allow access to the upstream
nameserver, so an extra devstack service openshift-dnsmasq is
also created.

Change-Id: I43a6b5423bd32a564511ea10ae620922bbad2d2a
Signed-off-by: Antoni Segura Puimedon <asegurap@redhat.com>
"
openstack%2Fnetworking-bgpvpn~master~I868cf65aa5ff0e55d0d45f36808c76286e4e7fd3,openstack/networking-bgpvpn,master,switch-to-stestr,I868cf65aa5ff0e55d0d45f36808c76286e4e7fd3,switch to stestr,MERGED,2018-07-03 07:14:49.000000000,2018-07-04 10:37:44.000000000,2018-07-04 10:37:44.000000000,16,25,0,579787,e9ab21a29d944f298616538fd1442201519be507,10,4,3,7,12021,Thomas Morin,tmorin,"switch to stestr

Update to new PTI:
https://governance.openstack.org/tc/reference/pti/python.html#python-test-running

This change also wraps in a change to requirements.txt that
point pre-rocky neutron pypi release, which is the only
way I found to have the functional job get a fresh-enough
neutron (it's not a tox job and hence does not benefit
from the tox-siblings magic). This also reflects better what
is the real dependency we have (when rocky will ship we will
have neutron>=13.0.0.0).

Change-Id: I868cf65aa5ff0e55d0d45f36808c76286e4e7fd3
"
openstack%2Fopenstack-ansible-galera_server~master~Ibe0c62a2f3b03c7e6ea9d3e903481453851e8de3,openstack/openstack-ansible-galera_server,master,,Ibe0c62a2f3b03c7e6ea9d3e903481453851e8de3,Fix upgrades to test from Queens,ABANDONED,2018-06-21 21:48:51.000000000,2018-07-04 10:10:58.000000000,,1,1,0,577305,01cf23a20ece0030c1091036ea8af37e9b4224ea,9,3,3,1,1004,Mohammed Naser,mnaser,"Fix upgrades to test from Queens

It seems that we're trying to upgrade from Pike -> Master, we should
be instead doing Queens -> Master

Change-Id: Ibe0c62a2f3b03c7e6ea9d3e903481453851e8de3
"
openstack%2Fmonasca-api~master~I2fe004962a30fbd7f49afdb8097d2c5cb9d4dfe7,openstack/monasca-api,master,clean-up-packaging-metadata,I2fe004962a30fbd7f49afdb8097d2c5cb9d4dfe7,remove AUTHORS file from git,MERGED,2018-07-03 16:31:11.000000000,2018-07-04 10:06:59.000000000,2018-07-04 10:06:59.000000000,0,119,0,579913,30658b866300240bbc8e71f6a350c2e224b1ad5a,7,3,1,1,2472,Doug Hellmann,doug-hellmann,"remove AUTHORS file from git

The AUTHORS file is generated automatically by pbr as part of building a
package, so it should not be checked in to git.

Change-Id: I2fe004962a30fbd7f49afdb8097d2c5cb9d4dfe7
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fwatcher~master~I0aaa2047cc8fcf09dee8bc7168e35f7a58c10125,openstack/watcher,master,fix_unit_test,I0aaa2047cc8fcf09dee8bc7168e35f7a58c10125,Fix unit test error,MERGED,2018-07-03 04:42:22.000000000,2018-07-04 10:04:07.000000000,2018-07-04 10:04:07.000000000,1,1,0,579763,393d68f6583b7cbb29ea54298aa795348a75d4ef,9,3,1,1,13111,Hidekazu Nakamura,hid-nakamura,"Fix unit test error

This patch fixes watcher.tests.common.test_clients.TestClients.
test_clients_ironic unit test error due to python-ironicclient 2.4.0.

Change-Id: I0aaa2047cc8fcf09dee8bc7168e35f7a58c10125
"
openstack%2Fopenstack-ansible-os_sahara~master~I1952353c0eea966a02e5cb20140170d671808b42,openstack/openstack-ansible-os_sahara,master,osprofiler,I1952353c0eea966a02e5cb20140170d671808b42,Add packages required for osprofiler,MERGED,2018-06-08 04:40:01.000000000,2018-07-04 10:00:56.000000000,2018-07-04 10:00:56.000000000,1,0,0,573514,adf0c5b9cefaae6738a23b2b3f71c83f3d8c1733,25,6,3,1,7353,Kevin Carter,cloudnull,"Add packages required for osprofiler

The following packages are required in-order to run osprofiler.
these packages will provide deployers the ability to profile
a service on demand should they choose to enable the profile
functionality.

Depends-On: I3df2c670beeb78baaa1515bcd27e8f2b0d95b3a9
Change-Id: I1952353c0eea966a02e5cb20140170d671808b42
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Ftripleo-quickstart~master~Ib09acb90fcc64475d1eeb2729d914efc22a90a9d,openstack/tripleo-quickstart,master,bug/1779123,Ib09acb90fcc64475d1eeb2729d914efc22a90a9d,OVN fset030: Switch to OVN DBs HA for queens,ABANDONED,2018-07-03 13:05:51.000000000,2018-07-04 09:56:49.000000000,,1,1,0,579864,07bab6c358c3b6411fe599cd2757c82fcc777337,12,6,1,1,10237,Numan Siddique,numansiddique,"OVN fset030: Switch to OVN DBs HA for queens

The master is already switched to OVN DBs HA.

Change-Id: Ib09acb90fcc64475d1eeb2729d914efc22a90a9d
Partial-bug: #1779123
"
openstack%2Fopenstack-ansible-pip_install~master~I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc,openstack/openstack-ansible-pip_install,master,bug/1779534,I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc,Pin get-pip.py to 3.2,MERGED,2018-07-03 17:04:41.000000000,2018-07-04 09:54:55.000000000,2018-07-04 09:54:23.000000000,2,2,0,579924,6c00fab455fd764836442b51b5d788fed32f8278,12,3,2,1,6816,Jesse Pretorius,jesse-pretorius,"Pin get-pip.py to 3.2

As get-pip.py evolves based on pip 10, while we're still using
pip 9, changes in the way it can be used are causing problems.

For example, the ability to use --download is no longer there.

As such, let's pin to a known good version and leave it at that
until we no longer need to use this script. Version 3.2 maps to
pip 7.1.2 which fulfills our needs.

Closes-Bug: 1779534
Change-Id: I5a4d4096457d84fcf3a9e21a6873dd61f2a456fc
"
openstack%2Fmistral~master~I7990abcbefbae08f69b3c2f7632eff95f0229f89,openstack/mistral,master,add_cloudflow_info_to_doc,I7990abcbefbae08f69b3c2f7632eff95f0229f89,Add CloudFlow info to Mistral documentation,MERGED,2018-07-03 14:40:35.000000000,2018-07-04 09:54:47.000000000,2018-07-04 09:54:47.000000000,7,0,0,579887,2bfc9d1ad86835d4785d5e6d19c58cc48a7c485a,10,5,2,2,28603,Guy,gshaanan,"Add CloudFlow info to Mistral documentation

Change-Id: I7990abcbefbae08f69b3c2f7632eff95f0229f89
"
openstack%2Ftripleo-heat-templates~master~I9eadd1394d2e6f2a78e971bc9fbee3e0080c7362,openstack/tripleo-heat-templates,master,bug/1779706,I9eadd1394d2e6f2a78e971bc9fbee3e0080c7362,OVN: Set mac-table-size for provider bridges,ABANDONED,2018-07-02 15:12:44.000000000,2018-07-04 09:53:02.000000000,,14,0,1,579593,f94530ed882711a0fb2b679b05b6b6ad8ff98793,8,5,1,1,10237,Numan Siddique,numansiddique,"OVN: Set mac-table-size for provider bridges

OpenvSwitch maintains a MAC-IP table for every bridge and updates this table with the MACs it
learns. OVS learns the macs when NORMAL action is used. The default size of this table is 2048.
As per this bug report - [1], ovs-vswitchd CPU usage shoots to 100% when this table overflows.
Although OVN doesn't use NORMAL action for the integration bridge, the provider bridges
(br-ex for example) can be programmed with NORMAL action and we can see the same issue.

To address this problem, this patch programs the provider bridges to a mac table size of 50000.
This table size is quite huge and should be enough to handle this issue.

In the docker_config, step 3 this patch runs a container which reads the 'ovn-bridge-mappings'
value from the openvswitch table (ovs-vsctl get open . external_ids:ovn-bridge-mappings), gets the
provider bridges and runs ovs-vsctl set bridge $br other_config:mac-table-siz=50000. If the node
is not configured with ovn-bridge-mappings, it will be a no-op.

[1] - https://bugzilla.redhat.com/show_bug.cgi?id=1589058
Change-Id: I9eadd1394d2e6f2a78e971bc9fbee3e0080c7362
Closes-bug: #1779706
"
openstack%2Frelease-tools~master~Ia30884174c43ef1c1afcc1f4a18b3c0051a89d8e,openstack/release-tools,master,retire-release-tools,Ia30884174c43ef1c1afcc1f4a18b3c0051a89d8e,This repository is now retired,MERGED,2018-06-29 15:02:22.000000000,2018-07-04 09:39:28.000000000,2018-07-04 09:39:28.000000000,8,82269,4,579188,39a82df080dda0b3028be623f016354ff0544520,15,4,2,247,5263,Jeremy Stanley,fungi,"This repository is now retired

The Release Management Team ceased using this months ago. Its
contents are replaced with a retirement notice so that potential
users will realize it is no longer maintained. Publicly announced
at:

http://lists.openstack.org/pipermail/openstack-dev/2018-June/131920.html

Change-Id: Ia30884174c43ef1c1afcc1f4a18b3c0051a89d8e
Depends-On: https://review.openstack.org/579185
"
openstack%2Fheat~master~I7f0bf18db8e1858fa8bd0928c37e79d94d7c246c,openstack/heat,master,bp/multiple-cloud-support,I7f0bf18db8e1858fa8bd0928c37e79d94d7c246c,[TEST][DMT] check unittest issue,ABANDONED,2018-07-04 03:19:21.000000000,2018-07-04 09:36:24.000000000,,330,23,0,580023,90095ff6505da056ef30a78e51ba64aed223c40b,8,0,5,6,12404,Rico Lin,rico.lin,"[TEST][DMT] check unittest issue

Depends-On: https://review.openstack.org/579750

Change-Id: I7f0bf18db8e1858fa8bd0928c37e79d94d7c246c
"
openstack%2Fnova~master~Ia1772057de4e0e5763d354e6b31ffafea959c37c,openstack/nova,master,bug/1778576,Ia1772057de4e0e5763d354e6b31ffafea959c37c,[placement] Fix bug in consumer generation handling,ABANDONED,2018-06-25 19:51:12.000000000,2018-07-04 09:34:01.000000000,,31,2,3,577915,aa95850bbfc7fd90c042311915cce3b7e34c6c28,19,15,1,2,11564,Chris Dent,chdent,"[placement] Fix bug in consumer generation handling

When PUTting allocations to a non-existent consumer, the code expects
the consumer generation to be 'null'. When there is only one resource
provider in the set of allocations sent, this works well.

Unfortunately when there is more than one resource provider the loop
which calls _new_allocations still uses the 'null' generation but now
the code expects the generation to be 0, because the consumer now
exists.

This patch fixes the bug by looking at the generation of the newly
created consumer after the first iteration of the loop that calls
_new_allocations. It then uses that for the next iteration through
the loop. The change is made in both PUT and POST allocations, both
of which use _new_allocations.

The x-failing test for PUT allocations is now passing, and an additional
test has been added for POST.

This fix is the expedient one. It works with the existing style of how
ensure_consumer works and preserves the HTTP interface that we planned
but does it in a way that feels a bit icky: externally the consumer
should have no generation at all until there are some allocations.

Closes-Bug: #1778576
Change-Id: Ia1772057de4e0e5763d354e6b31ffafea959c37c
"
openstack%2Fpython-tripleoclient~stable%2Fpike~If0b9a678354b634a2f060df4a6ff1b479967d566,openstack/python-tripleoclient,stable/pike,fix-ci,If0b9a678354b634a2f060df4a6ff1b479967d566,Avoid tox_install.sh for constraints support,MERGED,2018-06-30 18:25:05.000000000,2018-07-04 09:32:01.000000000,2018-07-04 09:32:01.000000000,4,34,0,579344,77b99d617d7406994ba2318c509270163f3c5c67,11,6,1,2,14985,Alex Schultz,mwhahaha,"Avoid tox_install.sh for constraints support

We do not need tox_install.sh, pip can handle constraints itself
and install the project correctly. Thus update tox.ini and remove
the now obsolete tools/tox_install.sh file.

This follows https://review.openstack.org/#/c/508061 to remove
tools/tox_install.sh.

Change-Id: If0b9a678354b634a2f060df4a6ff1b479967d566
(cherry picked from commit c88f0f4b39cc319d074846003ddc25166bbd01ef)
"
openstack%2Fheat~master~I6580fbbddcbb2952136abc24149bf066e09e5d0a,openstack/heat,master,test1,I6580fbbddcbb2952136abc24149bf066e09e5d0a,[TEST][DMT] check unittest,ABANDONED,2018-07-04 08:38:26.000000000,2018-07-04 09:22:00.000000000,,1,0,0,580091,3b315f058fd7d21d5a418971c4b4e1e965cbe827,2,0,1,1,12404,Rico Lin,rico.lin,"[TEST][DMT] check unittest

Depends-On: https://review.openstack.org/#/c/578392
Change-Id: I6580fbbddcbb2952136abc24149bf066e09e5d0a
"
openstack%2Ftripleo-quickstart~master~Ib240c3184fe4a43be26193dd7be2a3adf6845037,openstack/tripleo-quickstart,master,containers-default-stable/queens,Ib240c3184fe4a43be26193dd7be2a3adf6845037,Switch to the containerized services defaults,MERGED,2018-06-29 07:19:50.000000000,2018-07-04 09:17:36.000000000,2018-07-04 09:17:36.000000000,1,1,0,579080,aae68194f4e56323e05da8ed5b5cb1d5901b3947,21,11,2,1,6926,Bogdan Dobrelya,bogdando,"Switch to the containerized services defaults

...for queens as well

Depends-On: I923731f46ea26582160a11d2dfe85792ab74110b

Change-Id: Ib240c3184fe4a43be26193dd7be2a3adf6845037
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fnova~master~I7d014d62878e91b59bf9a52b0e1fe0f9c0c0cad0,openstack/nova,master,fix_file_permission,I7d014d62878e91b59bf9a52b0e1fe0f9c0c0cad0,Remove unnecessary execute permissions of a file,MERGED,2018-07-02 10:42:24.000000000,2018-07-04 09:12:25.000000000,2018-07-02 18:00:31.000000000,0,0,0,579511,0083b58dc20564b1842c0db110f9588572effc83,14,10,1,1,7634,Takashi Natsume,natsumet,"Remove unnecessary execute permissions of a file

TrivialFix
Change-Id: I7d014d62878e91b59bf9a52b0e1fe0f9c0c0cad0
"
openstack%2Fnova~master~I01c68d14ecdfd853b839b527c559c7aac675f336,openstack/nova,master,(detached,I01c68d14ecdfd853b839b527c559c7aac675f336,Add api sample tests for security group rules,ABANDONED,2017-03-31 06:22:55.000000000,2018-07-04 09:07:10.000000000,,127,0,9,452055,ac82dedc0f2d12d002c2631186366a7d6bcda16d,33,14,3,5,8556,Ghanshyam,ghanshyam,"Add api sample tests for security group rules

api sample tests for security group rules are missing and so
their sample files.

This commit adds those which will be used to fill the api-ref
for this API.

Change-Id: I01c68d14ecdfd853b839b527c559c7aac675f336
"
openstack%2Fnova~master~Ie81de7bdd43bfdb2ba48996f79d41efc2d70c1cd,openstack/nova,master,bug/1779635,Ie81de7bdd43bfdb2ba48996f79d41efc2d70c1cd,Regression test for bug 1779635,MERGED,2018-07-02 10:16:34.000000000,2018-07-04 09:05:41.000000000,2018-07-02 21:28:43.000000000,11,0,1,579508,16812e8979e6a58534b97d031c7d965c3a91f97f,20,12,1,1,9708,Balazs Gibizer,gibi,"Regression test for bug 1779635

This patch adds a test that shows that placement allows setting the
parent of an RP to itself.

Change-Id: Ie81de7bdd43bfdb2ba48996f79d41efc2d70c1cd
Related-Bug: #1779635
"
openstack%2Fmonasca-ui~master~Ie7c1ac5d4e11bc6673cec561fd2cc13708b8d594,openstack/monasca-ui,master,clean-up-packaging-metadata,Ie7c1ac5d4e11bc6673cec561fd2cc13708b8d594,remove ChangeLog from git,MERGED,2018-07-03 16:32:19.000000000,2018-07-04 09:05:34.000000000,2018-07-04 09:05:34.000000000,0,359,0,579914,e123ece039a789cc00bce59b897aefac3ea3f3f4,7,3,1,1,2472,Doug Hellmann,doug-hellmann,"remove ChangeLog from git

The ChangeLog file is automatically generated by pbr as the package is
built and does not need to be checked in to git.

Change-Id: Ie7c1ac5d4e11bc6673cec561fd2cc13708b8d594
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fnetworking-midonet~master~I6169fa7c0e74e4678a46980f66b0ee05bd781da6,openstack/networking-midonet,master,bug/1779801,I6169fa7c0e74e4678a46980f66b0ee05bd781da6,autodoc: Mock neutron and neutron_lib,ABANDONED,2018-07-03 04:28:50.000000000,2018-07-04 09:03:24.000000000,,3,0,0,579761,bd82058cf98df6066421937f378e4c25abb8779f,5,1,2,1,6854,YAMAMOTO Takashi,yamamoto,"autodoc: Mock neutron and neutron_lib

Change-Id: I6169fa7c0e74e4678a46980f66b0ee05bd781da6
"
openstack%2Frequirements~stable%2Fqueens~I5d58f036feee80a5cf9e2a252a3ff3b2b803cd37,openstack/requirements,stable/queens,bug/1778054,I5d58f036feee80a5cf9e2a252a3ff3b2b803cd37,"Revert ""add neutron-lbaas to global-requirements""",MERGED,2018-07-03 01:21:29.000000000,2018-07-04 09:01:24.000000000,2018-07-04 09:01:23.000000000,0,1,0,579725,99131cfb8ec7643fc331000623676f3e3b1448d8,14,7,2,1,11628,Michael Johnson,johnsom,"Revert ""add neutron-lbaas to global-requirements""

This breaks the stable branches. We don't constrain any of the
neutron plugins on the stable branches. We are reverting the addition of neutron-lbaas to g-r, blacklist, and the upper-constraints.

This reverts commit abafb89c7b5fdc8a93c7aeb731503c1e53cfdafd.

Change-Id: I5d58f036feee80a5cf9e2a252a3ff3b2b803cd37
"
openstack%2Frequirements~stable%2Fqueens~I5c8c1926d7ce3f812ad80e5435f19ced601aae13,openstack/requirements,stable/queens,,I5c8c1926d7ce3f812ad80e5435f19ced601aae13,Remove spec-cleaner from upper-constraints/gr tracking,MERGED,2018-07-03 17:53:54.000000000,2018-07-04 09:01:23.000000000,2018-07-04 09:01:23.000000000,0,2,0,579938,0149c941feb0b7b0c381ed800501335dea78b220,8,3,1,2,6593,Dirk Mueller,dmllr,"Remove spec-cleaner from upper-constraints/gr tracking

spec-cleaner is used for rpm-packaging spec linting, it is not intended
as an OpenStack dependency per se. This could be added as a blacklisted
item as all the other linters are but rpm-packaging itself is not a
tracked project so it is not required to add it there.

Change-Id: I5c8c1926d7ce3f812ad80e5435f19ced601aae13
"
openstack%2Foctavia~master~Idaf608c6e5fd2fa74a68c3b562be441a20107a50,openstack/octavia,master,,Idaf608c6e5fd2fa74a68c3b562be441a20107a50,Enable oslo_config mutable configurations,MERGED,2018-07-01 19:16:18.000000000,2018-07-04 08:57:16.000000000,2018-07-04 08:57:16.000000000,47,1,0,579391,5021e0f5471871680f3a043f677f59a274be38d2,11,4,2,6,11628,Michael Johnson,johnsom,"Enable oslo_config mutable configurations

This patch enables oslo_config mutable configuration for the Octavia
control plane processes. The configuration will be updated when the
parent process receives a HUP signal.
This completes the Rocky goal: Enable mutable configuration.

Change-Id: Idaf608c6e5fd2fa74a68c3b562be441a20107a50
Story: 2001545
Task: 6391
"
openstack%2Fnova~master~Ieee66aee7bef4f0839e8934916b133d051aadfbe,openstack/nova,master,bp/handling-down-cell,Ieee66aee7bef4f0839e8934916b133d051aadfbe,"[Ugly POC] Addition of ""unavailable_servers"" key to GET /servers response",ABANDONED,2018-06-17 19:41:34.000000000,2018-07-04 08:54:49.000000000,,47,15,13,575996,521d2e50200a42a2eb3184fa95f6b456d38118f6,21,15,1,5,26936,Surya Seetharaman,tssurya,"[Ugly POC] Addition of ""unavailable_servers"" key to GET /servers response

The patch is only a WIP/POC, does not do any version bumps yet, because
the logic is still being explored. This is being proposed only for
pushing the alternative option listed in the handling-down-cell spec
forward.

Related to blueprint handling-down-cell

Change-Id: Ieee66aee7bef4f0839e8934916b133d051aadfbe
"
openstack%2Fnova~master~Ie4eddda36439e6746cb2d97e43b91f63d835877b,openstack/nova,master,bug/1755783,Ie4eddda36439e6746cb2d97e43b91f63d835877b,conf: Resolve Sphinx errors,MERGED,2018-07-02 13:01:01.000000000,2018-07-04 08:42:05.000000000,2018-07-03 19:02:52.000000000,39,32,13,579545,e2b790e8e84404e236bfccc8fd30ddb393aa184f,17,13,1,10,15334,Stephen Finucane,sfinucan,"conf: Resolve Sphinx errors

This resolves all the warnings currently emitted by oslo.config for nova
and makes the output nicer looking to boot. There are still some issues
but these lie without other projects (osprofiler, oslo.db) and will be
resolved in a future update of those packages.

Change-Id: Ie4eddda36439e6746cb2d97e43b91f63d835877b
"
openstack%2Fnova~master~If9d6747f8e894c1a78a6d89961a3fa2bc6459465,openstack/nova,master,bug/1746209,If9d6747f8e894c1a78a6d89961a3fa2bc6459465,Request only instance_uuid in ironic node list,MERGED,2018-01-31 12:08:45.000000000,2018-07-04 08:41:46.000000000,2018-07-02 20:04:06.000000000,15,8,3,539509,e91fc7da82755358ae6523842d19968f3ac269de,60,20,3,2,14826,Mark Goddard,mgoddard,"Request only instance_uuid in ironic node list

For list_instances and list_instance_uuids in the ironic virt driver, we
only need the instance_uuid field of ironic nodes, so restrict the
node list request to include only that field.

Change-Id: If9d6747f8e894c1a78a6d89961a3fa2bc6459465
Related-Bug: #1746209
"
openstack%2Fopenstack-ansible-ops~master~I5964a7ac3f142434eef76e5fab77299d3a29a651,openstack/openstack-ansible-ops,master,fix_tox_python3_overrides,I5964a7ac3f142434eef76e5fab77299d3a29a651,fix tox python3 overrides,ABANDONED,2018-07-03 07:44:55.000000000,2018-07-04 08:38:33.000000000,,6,0,0,579797,a204df48bea196d6475069f3a1481ee855478b11,5,2,1,1,28427,Tuan Do Anh,tuanda,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because of that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I5964a7ac3f142434eef76e5fab77299d3a29a651
"
openstack%2Frpm-packaging~stable%2Fqueens~I5a901ade60949af2c5246ce1ae1877d7feb37b4d,openstack/rpm-packaging,stable/queens,,I5a901ade60949af2c5246ce1ae1877d7feb37b4d,Use python3 as python for envs as spec_cleaner dropped python2,MERGED,2018-07-02 13:16:18.000000000,2018-07-04 08:24:38.000000000,2018-07-04 08:24:38.000000000,1,0,0,579549,75cb259975056fdcdac5804532f1f10eb93a110e,9,4,1,1,23735,sumitjami,nthforloop,"Use python3 as python for envs as spec_cleaner dropped python2

https://github.com/openSUSE/spec-cleaner/issues/234

Change-Id: I5a901ade60949af2c5246ce1ae1877d7feb37b4d
"
openstack%2Fmonasca-agent~master~Ieb4039e5af8d876218ce9b20d6f293c3dff989a9,openstack/monasca-agent,master,goal-python35,Ieb4039e5af8d876218ce9b20d6f293c3dff989a9,Python3: Make monasca-setup compatible with py35,MERGED,2018-06-20 10:09:55.000000000,2018-07-04 08:21:54.000000000,2018-07-04 08:21:54.000000000,47,42,2,576815,92ac626c9b6d6b93ce7bdd8b93006d7f92efd151,32,6,13,13,26141,Adrian Czarnecki,czarneckia,"Python3: Make monasca-setup compatible with py35

Change-Id: Ieb4039e5af8d876218ce9b20d6f293c3dff989a9
"
openstack%2Fansible-role-tripleo-modify-image~master~I15284189fda16514f7ba70b95ab551d58eca7ab1,openstack/ansible-role-tripleo-modify-image,master,bug/1779642,I15284189fda16514f7ba70b95ab551d58eca7ab1,Remove previous yum.repos.d to only used the custom ones,MERGED,2018-07-03 08:17:28.000000000,2018-07-04 08:15:34.000000000,2018-07-04 08:15:34.000000000,1,0,5,579803,a9055e351b31e3370fe2c868e45bda3bf1526460,15,8,1,1,27898,Quique Llorente,quiquell,"Remove previous yum.repos.d to only used the custom ones

There are some repos that are deactivated in the hosts
but not deactivated in the docker images, like
CentOS-QEMU-EV.repo, this patch remove the old repos dir
to just use the the ones injected.

Change-Id: I15284189fda16514f7ba70b95ab551d58eca7ab1
Closes-Bug: 1779642
"
openstack%2Frequirements~stable%2Fqueens~I2d94f1a470468eda6508845635b5878f77445d97,openstack/requirements,stable/queens,spec-cleaner-py3,I2d94f1a470468eda6508845635b5878f77445d97,update spec-cleaner global-requirement for py3 only versions,ABANDONED,2018-07-03 17:47:07.000000000,2018-07-04 07:33:42.000000000,,2,1,0,579936,d6331327750821bd2b12d778cd23e7bcebddfdd2,7,6,1,1,14288,Matthew Thode,prometheanfire,"update spec-cleaner global-requirement for py3 only versions

upper-constraints.txt does not need updating as 1.0.1 supports
py2 and py3.

Change-Id: I2d94f1a470468eda6508845635b5878f77445d97
"
openstack%2Fnetworking-bgpvpn~master~I40023fbda656ce213e28a9fa702df91d1f910007,openstack/networking-bgpvpn,master,fix_functional,I40023fbda656ce213e28a9fa702df91d1f910007,point requirements to pre-rocky neutron,ABANDONED,2018-07-04 06:33:10.000000000,2018-07-04 07:16:44.000000000,,1,1,0,580048,d4854a4e7e165c37d152d540138bd2e91feecf69,3,1,1,1,12021,Thomas Morin,tmorin,"point requirements to pre-rocky neutron

This will:
- reflect better what is the real dependency we have
  (when rocky will ship we will have neutron>=13.0.0.0)
- hopefully fix the functional test that does not
  benefit from the tox-siblings black magic which
  allows tox jobs to automatically use neutron from master

Change-Id: I40023fbda656ce213e28a9fa702df91d1f910007
"
openstack%2Fnetworking-bagpipe~master~Iab04f573c82f8ffa8d01b0bd417e5febdd768bff,openstack/networking-bagpipe,master,update_reqs,Iab04f573c82f8ffa8d01b0bd417e5febdd768bff,sync requirements,ABANDONED,2018-07-03 11:52:12.000000000,2018-07-04 07:10:02.000000000,,1,2,0,579847,5e288a183898f38b1f9a38f4e09f08713f577128,3,1,1,2,12021,Thomas Morin,tmorin,"sync requirements

Change-Id: Iab04f573c82f8ffa8d01b0bd417e5febdd768bff
"
openstack%2Fkolla~master~I87a8b09234e4bf0565e26b4a69fb3f4d5e3b31bf,openstack/kolla,master,unified-macros,I87a8b09234e4bf0565e26b4a69fb3f4d5e3b31bf,Unified install_pip macros,ABANDONED,2018-06-22 10:54:26.000000000,2018-07-04 07:06:45.000000000,,22,20,0,577392,437b7d69f0d88cd347fe375505962174c576fe2d,7,3,2,11,19779,Chason Chan,chenxing,"Unified install_pip macros

Change-Id: I87a8b09234e4bf0565e26b4a69fb3f4d5e3b31bf
"
openstack%2Fswift~master~I90c6e8a7c6faf8fafb0cd64fabbc9629d6c4c48a,openstack/swift,master,556664,I90c6e8a7c6faf8fafb0cd64fabbc9629d6c4c48a,swob.Match: remove quotes when checking __contains__,MERGED,2018-03-26 22:02:17.000000000,2018-07-04 06:34:17.000000000,2018-07-04 06:34:17.000000000,17,0,0,556664,158d4c28b224d3c9064df3352e98432e81355c4d,11,4,2,2,15343,Tim Burke,tburke,"swob.Match: remove quotes when checking __contains__

If we're going to drop the quotes during initialization, we should
probably drop them when making comparisons, too.

Change-Id: I90c6e8a7c6faf8fafb0cd64fabbc9629d6c4c48a
"
openstack%2Fkolla-ansible~master~I751c3901b831aaed03b88d36184cd9cc5df1789b,openstack/kolla-ansible,master,bug/1779110,I751c3901b831aaed03b88d36184cd9cc5df1789b,Update docker config docs for insecure registry,MERGED,2018-06-28 12:02:29.000000000,2018-07-04 06:20:32.000000000,2018-07-04 06:20:31.000000000,7,67,3,578777,8233bc7a842e5cc99e5fe969becbe1d420898f60,22,7,3,1,21369,Christian Zunker,czunker,"Update docker config docs for insecure registry

Change-Id: I751c3901b831aaed03b88d36184cd9cc5df1789b
Closes-Bug: #1779110
"
openstack%2Fnova~master~I160028d77e84705106aad5ec8b2d9a54a3c54b18,openstack/nova,master,bp/api-extensions-merge-rocky,I160028d77e84705106aad5ec8b2d9a54a3c54b18,Merge server create schema for security group extension,MERGED,2018-06-27 09:41:19.000000000,2018-07-04 06:18:33.000000000,2018-07-04 06:18:33.000000000,17,30,0,578345,1f677061fa886f52426f5bea04aabac7244fabfa,48,19,3,4,8556,Ghanshyam,ghanshyam,"Merge server create schema for security group extension

As nova extensions has been deprecated already and goal is to
merge all scattered code into main controller side.
Currently schema and request/response extended code are there
among all extensions.

This commit merge the schema part of create server for security
group extensions.

Partially implements: blueprint api-extensions-merge-rocky

Change-Id: I160028d77e84705106aad5ec8b2d9a54a3c54b18
"
openstack%2Ftripleo-heat-templates~master~Ib3d6c580d81dae648c5828582e24d20fc3668099,openstack/tripleo-heat-templates,master,scaleup-and-ha,Ib3d6c580d81dae648c5828582e24d20fc3668099,Refactor the inventory generation,MERGED,2018-06-28 07:38:33.000000000,2018-07-04 06:04:58.000000000,2018-07-04 06:04:58.000000000,81,65,10,578715,c0cf926b65eb09ce228011a3c1fe42f5fc71404c,35,6,6,2,6159,Flavio Percoco Premoli,flaper87,"Refactor the inventory generation

Avoid using templates and allow for easier manipulation of host groups.
This patch is a starting point for the scaleup patch that adds new
nodes (masters and workers) to the the inventory and requires a more
flexible node groups management.

Change-Id: Ib3d6c580d81dae648c5828582e24d20fc3668099
"
openstack%2Ftripleo-heat-templates~master~Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f,openstack/tripleo-heat-templates,master,scaleup-and-ha,Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f,Update for openshift 3.9,MERGED,2018-06-11 12:09:54.000000000,2018-07-04 06:04:56.000000000,2018-07-04 06:04:56.000000000,90,14,7,574233,4e30f514704d1ed7f212e0f5eae4832861f67bd7,181,6,27,5,13039,Martin André,mandre,"Update for openshift 3.9

This commit updates the openshift templates to deploy openshift 3.9
instead of 3.7.

Update the default playbook path to the one expected by
openshift-ansible 3.9.

Update the default openshift-ansible variables and move them in the
template where they belong. They can be overridden individually via the
OpenShiftGlobalVariables heat parameter.

Disable unbound on the openshift nodes in CI as it is listening on port
53 and is preventing openshift to start its own DNS service.

Co-Authored-By: Flavio Percoco <flavio@redhat.com>
Depends-On: I6f123cd71a23fb15aaa2005f7397fc98fdaf187a
Depends-On: I27ad9d168af575da8c4f5094152c94e2fa03987c
Change-Id: Ifc3d25fa590cfba1fa64ed0266c76c9342a7aa4f
"
openstack%2Ftripleo-quickstart-extras~master~I27ad9d168af575da8c4f5094152c94e2fa03987c,openstack/tripleo-quickstart-extras,master,docker_log_collection,I27ad9d168af575da8c4f5094152c94e2fa03987c,Prevent recursive copy of /var/log,MERGED,2018-06-28 17:15:20.000000000,2018-07-04 06:04:55.000000000,2018-07-04 06:04:55.000000000,5,1,0,578892,5c7ed8b36ea59466284f5aa3666ccb0f99e9098f,40,8,1,1,13039,Martin André,mandre,"Prevent recursive copy of /var/log

If the container bind mounts the directory in which the logs are
extracted, it causes the files to be copied recursively and leads to
a log explosion in CI. This is typically the case with the openshift
containers where the copied log size approaches 4GB [1].

This commit ensures that we skip the copy of /var/log if it contains the
directory in which the logs are extracted.

http://logs.openstack.org/33/574233/22/experimental/tripleo-ci-centos-7-scenario009-multinode-oooq/d816f2f/logs/log-size.txt

Change-Id: I27ad9d168af575da8c4f5094152c94e2fa03987c
"
openstack%2Fnova~master~Ic1da9e2c36297784ddc2e7dc9e1a83146fa2292c,openstack/nova,master,remove-newton-online-compat-code,Ic1da9e2c36297784ddc2e7dc9e1a83146fa2292c,Remove unused DB API instance_group_member* methods,MERGED,2018-06-27 17:07:49.000000000,2018-07-04 05:37:29.000000000,2018-07-04 05:37:29.000000000,0,118,0,578488,7a4c43d20bc6d1eb9a1e291120ff80235edee5bb,28,15,2,3,6873,Matt Riedemann,mriedem,"Remove unused DB API instance_group_member* methods

Since Ifbd53b13fa0fef62e0329283b73d587f367e46c2 we no
longer have compat code in the InstanceGroup object
and everything is handled in the API database, so we can
drop the legacy DB API methods for instance groups.

This is part of a series of cleanup changes.

Change-Id: Ic1da9e2c36297784ddc2e7dc9e1a83146fa2292c
"
openstack%2Ftripleo-heat-templates~master~I15a984172cd5532bc966269d8c68f27b5703733e,openstack/tripleo-heat-templates,master,bug/1776206,I15a984172cd5532bc966269d8c68f27b5703733e,Execute post_update_tasks in update playbook,MERGED,2018-06-25 08:57:30.000000000,2018-07-04 05:27:46.000000000,2018-07-04 05:27:46.000000000,4,12,0,577754,6b3e8aa073ca68fe600288b1dbb05dd384368d3b,17,9,1,1,8042,Jiří Stránský,jistr,"Execute post_update_tasks in update playbook

We drop the post_update_steps_playbook, and execute post_update_tasks
as part of the update_steps_playbook. This will ensure that
post_update_tasks are executed, and they're executed in accordance
with the `serial: 1` ordering that update_steps_playbook is using. (We
want to avoid an issue similar to what we've had in bug #1776206).

Change-Id: I15a984172cd5532bc966269d8c68f27b5703733e
Closes-Bug: #1778471
"
openstack%2Fkeystone~master~I9a81056b9afda924aac71f64c2158d9db53d8594,openstack/keystone,master,bug/1777892,I9a81056b9afda924aac71f64c2158d9db53d8594,Add registered_limit_id column for limit,MERGED,2018-06-25 08:39:13.000000000,2018-07-04 05:22:56.000000000,2018-07-04 05:22:55.000000000,215,44,7,577751,a558eb0baba05280747ea67556e1041e86898ef3,25,6,5,6,15054,wangxiyuan,wangxiyuan,"Add registered_limit_id column for limit

This patch add a registered_limit_id column referring to
the related registered limit for limit talbe.

This change aims to reduce the duplicate data between unified
limit tables.

In Rocky, ""registered_limit_id"" will co-exist with ""service_id"",
""region_id"" and ""resource_name"" columns.

In Stein, we'll migrate the old data to satisfy the
""registered_limit_id"" way

In T release, the ""service_id"", ""region_id"" and ""resource_name""
columns will be removed at all.

Closes-Bug: #1777892
Change-Id: I9a81056b9afda924aac71f64c2158d9db53d8594
"
openstack%2Ftempest~master~I83b1bde77ee8af933a9eab4cece31e3babea244b,openstack/tempest,master,resize-bug,I83b1bde77ee8af933a9eab4cece31e3babea244b,Add related bug info for resize test,MERGED,2018-07-03 05:45:40.000000000,2018-07-04 05:20:06.000000000,2018-07-04 05:20:06.000000000,1,0,0,579766,e027dd37be2ec644780925563c2ababaf8eaa70a,12,6,1,1,8556,Ghanshyam,ghanshyam,"Add related bug info for resize test

This commit adds related bug info for newly added
resize tests in https://review.openstack.org/#/c/527439/

Change-Id: I83b1bde77ee8af933a9eab4cece31e3babea244b
"
openstack%2Fironic~master~Id7ca290fa03efec4c64d8e7f2e64194e14f9619b,openstack/ironic,master,,Id7ca290fa03efec4c64d8e7f2e64194e14f9619b,Remove doc of classic drivers from the admin guide,MERGED,2018-07-02 11:09:19.000000000,2018-07-04 05:19:11.000000000,2018-07-04 05:19:11.000000000,5,14,0,579516,778662acbee7aa227c85502a78efc27f8b34d387,8,4,1,3,18320,Dao Cong Tien,TienDC,"Remove doc of classic drivers from the admin guide

This patch removes pieces of doc of classic drivers from
the admin guide (doc/source/admin dir).

upgrade-to-hardware-types.rst is excluded from the patch
as it is used in the upgrade guide.

Change-Id: Id7ca290fa03efec4c64d8e7f2e64194e14f9619b
"
openstack%2Ftripleo-heat-templates~master~I5d8e31020700f13e21f4cfa2f1bfa14ff4c88e4a,openstack/tripleo-heat-templates,master,c2/remove_ovs_dpdk_workaround,I5d8e31020700f13e21f4cfa2f1bfa14ff4c88e4a,Removed ovs-dpdk workaround to fix the vhost socket permission,MERGED,2017-12-20 09:15:11.000000000,2018-07-04 04:57:50.000000000,2018-02-27 12:12:55.000000000,0,27,0,529273,b7a70f56138b69837d26d27cdc1c62bf10e8fa21,22,7,3,1,18575,Saravanan KR,saravanankr,"Removed ovs-dpdk workaround to fix the vhost socket permission

Change-Id: I5d8e31020700f13e21f4cfa2f1bfa14ff4c88e4a
"
openstack%2Fneutron~stable%2Fpike~I5d0678ea2383483e6106976c148353ef4352befd,openstack/neutron,stable/pike,bug/1754327,I5d0678ea2383483e6106976c148353ef4352befd,[Scenario tests] Try longer SSH timeout for ubuntu image,MERGED,2018-06-08 09:07:27.000000000,2018-07-04 04:33:55.000000000,2018-07-04 04:33:54.000000000,1,1,0,573632,073b44b1005e7e93bdef6fa04153498009cc9412,38,7,2,1,11975,Slawek Kaplonski,slaweq,"[Scenario tests] Try longer SSH timeout for ubuntu image

It looks that many scenario tests are failing because of too long
instance booting time and reached ssh timeout during checking
connectivity.
So longer timeout should solve this problem and tests should
not fail with this reason.

Change-Id: I5d0678ea2383483e6106976c148353ef4352befd
Closes-Bug: #1754327
(cherry picked from commit 0ab03003b9f9c4f0cace538eee84478a099c0c58)
"
openstack%2Fpuppet-neutron~master~Id8a97b337eff68860547e07e675b79bde94628ba,openstack/puppet-neutron,master,bp/g,Id8a97b337eff68860547e07e675b79bde94628ba,Add support for dynamic routing bpg dragent,MERGED,2018-06-28 11:55:47.000000000,2018-07-04 04:23:52.000000000,2018-07-04 04:23:52.000000000,508,0,2,578774,75a999369a7d5dc7f11680274863e3efa38e40db,25,5,6,11,16137,Tobias Urdin,tobasco,"Add support for dynamic routing bpg dragent

This patch adds support to install and configure the
bgp dynamic routing agent. It also install the
dynamic-routing package since that is required by
the bgp dragent.

These packages already exists on Debian and Ubuntu but
since it was removed from RPM packages when dynamic-routing
was moved out of the Neutron tree there are work to add it here [1].
So until [1] is merged and hopefully backported to Queens for the latest
stable release this will work propery on RedHat based OS.

[1] https://review.rdoproject.org/r/#/c/7935/

Change-Id: Id8a97b337eff68860547e07e675b79bde94628ba
"
openstack%2Fnova~master~I14295dddc302a603a71f71ccb6fcc5745ca7826c,openstack/nova,master,flavor_manage_doc,I14295dddc302a603a71f71ccb6fcc5745ca7826c,Update admin/flavors document,MERGED,2018-06-07 01:52:46.000000000,2018-07-04 03:58:01.000000000,2018-07-02 12:34:48.000000000,39,29,30,573063,8f0aa1f35c052e62a6fc6989c0a57fcfeea6cdaa,71,18,7,1,7634,Takashi Natsume,natsumet,"Update admin/flavors document

Replace nova commands with openstack commands.
Add an example to create a private flavor.
Repopulate the ""Modify a flavor"" section.
Replace 'extra_spec' with 'extra_specs'.
Fix a wrong link.
Remove rxtx-factor in descriptions and command examples.

Change-Id: I14295dddc302a603a71f71ccb6fcc5745ca7826c
"
openstack%2Ftricircle~master~I1b481f3042f6dbb8b748596ec19ef0ddd1e42a83,openstack/tricircle,master,,I1b481f3042f6dbb8b748596ec19ef0ddd1e42a83,Update links in CONTRIBUTING.rst,MERGED,2018-06-20 02:36:35.000000000,2018-07-04 03:53:24.000000000,2018-07-04 03:53:24.000000000,2,2,0,576681,ed7f6ffb6149eeec107852a4af6c0869260e6474,12,3,1,1,27368,zhangzhaoshan,zhangzs,"Update links in CONTRIBUTING.rst

Change-Id: I1b481f3042f6dbb8b748596ec19ef0ddd1e42a83
"
openstack%2Fdevstack~master~I4d4392f1f58f0431b10764610668565af88d392f,openstack/devstack,master,fix_hostname,I4d4392f1f58f0431b10764610668565af88d392f,Fix wait_for_compute to work for modified compute host name,MERGED,2018-03-16 11:07:55.000000000,2018-07-04 03:48:48.000000000,2018-07-03 06:47:41.000000000,6,1,10,553752,6f38cf4ad846f394489334caae7a38b8e49b646c,70,16,8,1,23367,Prabhat Ranjan,pranjank,"Fix wait_for_compute to work for modified compute host name

When we change the name of compute host then devstack is breaking
because it is using default host name from host.

How to change compute host name in local.conf
[[post-config|$NOVA_CONF]]
[DEFAULT]
host = foo

Change-Id: I4d4392f1f58f0431b10764610668565af88d392f
Signed-off-by: Prabhat Ranjan <pranjank@in.ibm.com>
"
openstack%2Fopenstack-zuul-jobs~master~Ic1a7ec3d3d39f5c187d4f6ebdf528e13b2889d7b,openstack/openstack-zuul-jobs,master,,Ic1a7ec3d3d39f5c187d4f6ebdf528e13b2889d7b,persistent-firewall commits should trigger integration jobs for it,MERGED,2018-07-03 13:59:34.000000000,2018-07-04 03:45:09.000000000,2018-07-04 03:45:09.000000000,1,0,0,579873,0ea7524a5ef9f92512d9f082b6025ed4ef73eef1,7,3,1,1,9061,David Moreau Simard,dmsimard,"persistent-firewall commits should trigger integration jobs for it

The persistent-firewall role is included as part of the
multi-node-firewall role.
This is a good way of exercising that role.

Change-Id: Ic1a7ec3d3d39f5c187d4f6ebdf528e13b2889d7b
"
openstack%2Fblazar~master~I26a7e635660eec54b0bef9754ef46aa5af7fe60e,openstack/blazar,master,bp/multi-freepools,I26a7e635660eec54b0bef9754ef46aa5af7fe60e,Handle availability zone info in compute host APIs,MERGED,2018-04-25 08:58:32.000000000,2018-07-04 03:39:39.000000000,2018-07-04 03:39:38.000000000,124,10,19,564138,c2ab836293cb886f115a3a610d702c721fd60b7a,36,5,9,7,8878,Masahito Muroi,masa,"Handle availability zone info in compute host APIs

The create host API stores availability zone information into the
computehosts tables. The information comes from Nova's availability
zone API.

Cloud users can specify the availability zone information by following
query in the host reservation and the instance reservation.

- The host reservation
  hypervisor_properties=[""=="", ""$availability_zone"", ""zone1""]

- The instance reservation
  resource_properties=[""=="", ""$availability_zone"", ""zone1""]

The az_aware config is a flag to store the infomation or not.
If a cloud operator doesn't prefer to store the information, set the
flag to False.

Implements: blueprint multi-freepools
Change-Id: I26a7e635660eec54b0bef9754ef46aa5af7fe60e
"
openstack%2Fopenstack-helm~master~I5deb4fecbee9f70e6be63189d4afa81e5c71ad4b,openstack/openstack-helm,master,replace_jq,I5deb4fecbee9f70e6be63189d4afa81e5c71ad4b,Replace deploy jq role name,MERGED,2018-06-28 07:15:33.000000000,2018-07-04 03:15:43.000000000,2018-07-04 03:15:43.000000000,2,2,0,578707,052ac34e38e5b40e5a00ed37422f8869921791d8,12,7,1,1,25431,Wayne Chan,wayne.chan,"Replace deploy jq role name

We should replace role name from deploy-yq to deploy-jq.

Depends-On: https://review.openstack.org/578703
Change-Id: I5deb4fecbee9f70e6be63189d4afa81e5c71ad4b
"
openstack%2Fnova~master~I4cb7ac55683951aa5900699ba587da03c22fb0a1,openstack/nova,master,enhance_api_configuration_1,I4cb7ac55683951aa5900699ba587da03c22fb0a1,[doc] enhance admin/configuration/api.rst,MERGED,2018-05-03 09:38:46.000000000,2018-07-04 03:10:58.000000000,2018-07-03 18:59:32.000000000,9,8,0,566008,f44d28590b6fd5ee01fe417a57ab44c3dacbdab2,22,14,2,1,6062,jichenjc,jichenjc,"[doc] enhance admin/configuration/api.rst

enhance doc including remove 'nova-api' daemon which is deprecated
to use wsgi instead, and added some operations for password
response.

Change-Id: I4cb7ac55683951aa5900699ba587da03c22fb0a1
"
openstack%2Fqinling~master~I4d4eed380a4140c905603891e1dfa942834bd25d,openstack/qinling,master,fix-python-runtime,I4d4eed380a4140c905603891e1dfa942834bd25d,Invoke Python function in a directory rather than a zip package,MERGED,2018-07-03 12:54:47.000000000,2018-07-04 03:02:56.000000000,2018-07-04 03:02:56.000000000,12,13,0,579858,bbfe83eee3474db1b69ffcb05fbcbffe042514ea,8,2,2,5,6732,Lingxian Kong,kong,"Invoke Python function in a directory rather than a zip package

There is a limitation for loading modules directly from a zip file:
""ZIP import of dynamic modules (.pyd, .so) is disallowed."" which
makes most of python libs including C extentions not work. So we have
to extract the zip before executing the function.

Change-Id: I4d4eed380a4140c905603891e1dfa942834bd25d
"
openstack%2Fpatrole~master~I71099c62cb9c49739ec21579f24d4fd8a9cbf432,openstack/patrole,master,ip-allocation-cleanup,I71099c62cb9c49739ec21579f24d4fd8a9cbf432,Add fixed ip cleanup to test_add_fixed_ip,MERGED,2018-06-18 20:59:57.000000000,2018-07-04 02:53:53.000000000,2018-07-04 02:53:53.000000000,20,6,0,576266,1bed58be501ac22ef8f6c01f1e1e77fe2c6129a8,9,4,1,1,23186,Felipe Monteiro,felipe.monteiro,"Add fixed ip cleanup to test_add_fixed_ip

There is a data race on clean up with the test test_add_fixed_ip
because it can currently fail during resource_cleanup [0] with:
""One or more ports have an IP allocation from this subnet.""

[0] http://logs.openstack.org/36/575536/4/gate/patrole-admin/ccf48f1/testr_results.html.gz

Change-Id: I71099c62cb9c49739ec21579f24d4fd8a9cbf432
"
openstack%2Fzun~master~I3d84059ffd2ee1b1c0b90c6675fcc7d47f8633d2,openstack/zun,master,,I3d84059ffd2ee1b1c0b90c6675fcc7d47f8633d2,Allow branch to be override externally,ABANDONED,2018-05-17 17:00:41.000000000,2018-07-04 02:44:58.000000000,,8,0,0,569170,735578fb9bb5d34e74c7153663a16127002f5a86,14,2,3,2,11536,hongbin,hongbin,"Allow branch to be override externally

Needed-By: Ib4ae1b1968c3d35af58d0d99479a9cfd75b7450d
Change-Id: I3d84059ffd2ee1b1c0b90c6675fcc7d47f8633d2
"
openstack%2Ftripleo-ci~master~Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f,openstack/tripleo-ci,master,sprint15,Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f,Migrate undercloud jobs to the new base configurations,MERGED,2018-06-27 15:29:55.000000000,2018-07-04 02:37:09.000000000,2018-07-04 02:37:09.000000000,22,13,0,578447,bc05b8928940a81517ab9d44c1872968cc9c569f,39,7,12,5,10022,Gabriele Cerami,panda,"Migrate undercloud jobs to the new base configurations

This changes make the undercloud jobs use the new base jobs, nodeset and
playbooks requireed to run the job with the configuration that are
closer to zuulv3.
It also adds logic to not run any vxlan networking on our own for all
the v3 runners.

Change-Id: Idf7b8a54499ef252bf7d34b3b5f16a9a34e6a83f
"
openstack%2Fnova~master~I1c0c9bbd9a2595822d74d2b82e26c39b60ca1822,openstack/nova,master,bug/1778734,I1c0c9bbd9a2595822d74d2b82e26c39b60ca1822,Use 'version2' when syncing placement db,MERGED,2018-06-29 15:40:17.000000000,2018-07-04 01:34:38.000000000,2018-07-02 11:04:43.000000000,1,1,0,579200,dd4e9496d37f2bc27763926327d45df01fd08a05,20,16,1,1,11564,Chris Dent,chdent,"Use 'version2' when syncing placement db

The original code was started before the version2 variable existed.
Somewhere along the way the change was missed in a merge. This
corrects the migration.db_sync call to use the right version.

Change-Id: I1c0c9bbd9a2595822d74d2b82e26c39b60ca1822
Closes-Bug: #1778734
"
openstack%2Fnova~master~I073bd537a5756c6693e82237d4d1f9c0c3992395,openstack/nova,master,cd/typo-fox,I073bd537a5756c6693e82237d4d1f9c0c3992395,[placement] fix allocation handler docstring typo,MERGED,2018-06-29 15:33:39.000000000,2018-07-04 01:28:34.000000000,2018-06-29 23:25:46.000000000,1,1,2,579198,e30b6a770a6fb7db8698dc614f2785c7072c1bee,17,13,1,1,11564,Chris Dent,chdent,"[placement] fix allocation handler docstring typo

Review of I4b69ddaa6dbb66f977c5dad2d508cac3192d19d4 identified a
non-blocking type. This fixes it.

TrivialFix

Change-Id: I073bd537a5756c6693e82237d4d1f9c0c3992395
"
openstack%2Fnova~master~I345f372815aef5ac0fb6fc607812ce81587734bf,openstack/nova,master,bug/1773225,I345f372815aef5ac0fb6fc607812ce81587734bf,Fix placement incompatible with webob 1.7,MERGED,2018-06-29 09:46:44.000000000,2018-07-04 01:27:57.000000000,2018-06-29 23:20:51.000000000,2,2,1,579110,c4e0ad14333f00e464826921d8b7a7e53e2c30c9,36,16,3,2,7166,Sylvain Bauza,sbauza,"Fix placement incompatible with webob 1.7

In Ie4d81fa178b3ed6b2a7b450b4978009486f07810 we started using a new WebOb API
for introspecting headers but since this new API isn't supported by older
versions than 1.8, we need to only accept 1.8.1 or 1.8.2 for Nova
(because 1.8.0 was having a bug fixed by 1.8.1 at least).

Change-Id: I345f372815aef5ac0fb6fc607812ce81587734bf
Closes-Bug: #1773225
"
openstack%2Fnova~master~I1dbfe3a0d9ef15176b17c7a959c68c6b8be879fa,openstack/nova,master,remove-nova-network,I1dbfe3a0d9ef15176b17c7a959c68c6b8be879fa,manage: Remove dead code,MERGED,2018-06-29 10:50:07.000000000,2018-07-04 01:17:02.000000000,2018-07-02 00:42:58.000000000,1,7,2,579118,2337aa5a7f14b9e9f69743479e63840f969560dc,48,14,1,1,15334,Stephen Finucane,sfinucan,"manage: Remove dead code

There is code here to handle 'CONF.network_manager' being set to
'NeutronManager'. This is a long-dead pattern, having been replaced by
the 'use_neutron' option, and would never be called given that the
'validate_network_plugin' decorator ensures the functions can only be
used for nova-network. Just remove it.

Change-Id: I1dbfe3a0d9ef15176b17c7a959c68c6b8be879fa
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpuppet-designate~master~I89f5b4b24558a4d8b66b2a9082fec152694e6b6a,openstack/puppet-designate,master,minimal-responses,I89f5b4b24558a4d8b66b2a9082fec152694e6b6a,Set minimal-responses in BIND backend configuration,MERGED,2018-06-28 16:33:45.000000000,2018-07-04 01:01:06.000000000,2018-07-04 01:01:06.000000000,9,0,0,578881,d7aa75209dda69f56287f2c9436d6ac9605d70d9,15,4,1,1,6928,Ben Nemec,bnemec,"Set minimal-responses in BIND backend configuration

This is recommended as a mitigation for a potential cache poisoning
attack when using BIND with Designate.

https://docs.openstack.org/designate/queens/admin/production-guidelines.html#bind9-mitigation

Change-Id: I89f5b4b24558a4d8b66b2a9082fec152694e6b6a
"
openstack%2Fnova~master~I2da96671f9008c9622f92b23f751437ad9a74014,openstack/nova,master,bp/nested-resource-providers-allocation-candidates,I2da96671f9008c9622f92b23f751437ad9a74014,Fix nits in placement-return-all-resources series,MERGED,2018-06-08 07:34:34.000000000,2018-07-04 00:53:26.000000000,2018-06-29 15:44:48.000000000,16,16,1,573604,4240fa72873c4724b523775f45250945718f7d5b,174,28,15,1,25625,Tetsuro Nakamura,tetsuro0907,"Fix nits in placement-return-all-resources series

Addresses the following minor/nonblocking review comments from earlier
in this series:

https://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@120
https://review.openstack.org/#/c/558045/27/nova/api/openstack/placement/handlers/allocation_candidate.py@168
https://review.openstack.org/#/c/565487/31/nova/api/openstack/placement/handlers/allocation_candidate.py@146

Change-Id: I2da96671f9008c9622f92b23f751437ad9a74014
"
openstack%2Fproject-config~master~Idc7b5f28c9a57890ded3e442387df9d781d7233b,openstack/project-config,master,tempest-multinode,Idc7b5f28c9a57890ded3e442387df9d781d7233b,Drop neutron-tempest-multinode-full job from Tempest,MERGED,2018-07-01 20:37:56.000000000,2018-07-04 00:49:12.000000000,2018-07-03 06:23:31.000000000,0,11,0,579399,b546236abee519843b23a16f3ade91f1162ec1da,16,6,1,1,23186,Felipe Monteiro,felipe.monteiro,"Drop neutron-tempest-multinode-full job from Tempest

This patchset drops neutron-tempest-multinode-full job from
Tempest since Tempest now has an in-tree Zuul v3 version called
tempest-multinode-full (which is voting, while this legacy
job being removed is non-voting). tempest-multinode-full
replaces neutron-tempest-multinode-full [0].

This is to cut down on extraneous resource consumption
that is being dedicated to an obsolete job.

[0] https://github.com/openstack/tempest/blob/83b154a28369a062ab7a4c014531a86abf650133/.zuul.yaml#L105

Change-Id: Idc7b5f28c9a57890ded3e442387df9d781d7233b
"
openstack%2Fnova~master~I6cecb25c6c16cecc23d4008474d150b1f15f7d8a,openstack/nova,master,bp/nested-resource-providers-allocation-candidates,I6cecb25c6c16cecc23d4008474d150b1f15f7d8a,Add microversion for nested allocation candidate,MERGED,2018-05-01 11:52:48.000000000,2018-07-04 00:46:02.000000000,2018-06-29 15:03:02.000000000,253,93,38,565487,5b4aa7845901a6127ad7266596d9aca4442f7d48,319,19,32,8,25625,Tetsuro Nakamura,tetsuro0907,"Add microversion for nested allocation candidate

This patch adds a microversion with a release note for allocation
candidates with nested resource provider trees.

From now on we support allocation candidates with nested resource
providers with the following features.

1) ``GET /allocation_candidates`` is aware of nested providers.
   Namely, when provider trees are present, ``allocation_requests``
   in the response of ``GET /allocation_candidates`` can include
   allocations on combinations of multiple resource providers
   in the same tree.
2) ``root_provider_uuid`` and ``parent_provider_uuid`` fields are
    added to ``provider_summaries`` in the response of
   ``GET /allocation_candidates``.

Change-Id: I6cecb25c6c16cecc23d4008474d150b1f15f7d8a
Blueprint: nested-resource-providers-allocation-candidates
"
openstack%2Foslo.db~master~Ifb2c59c2cfbd615b04570b31fcfe868f4ffea3c6,openstack/oslo.db,master,deprecate_async,Ifb2c59c2cfbd615b04570b31fcfe868f4ffea3c6,Rename enginefacade.async to enginefacade.async_,MERGED,2018-06-12 17:27:51.000000000,2018-07-04 00:40:44.000000000,2018-07-04 00:40:44.000000000,39,6,4,574833,df6bf3401266f42271627c1e408f87c71a06cef7,19,4,5,2,11816,mike_mp@zzzcomputing.com,zzzeek,"Rename enginefacade.async to enginefacade.async_

Python 3.7 now makes ""async"" a keyword, so deprecate the
""async"" name and replace with ""async_"".  Additionally,
use attribute name access only in order to implement and
test ""async"" as it won't work under Python 3.7.

Closes-Bug: #1775866
Change-Id: Ifb2c59c2cfbd615b04570b31fcfe868f4ffea3c6
"
openstack%2Fneutron~master~I61bbe8c724b9e64ae788cd9acbaafd5954e75ca6,openstack/neutron,master,bug/1778741,I61bbe8c724b9e64ae788cd9acbaafd5954e75ca6,Add geneve in neutron tunnel protocols doc,MERGED,2018-06-28 07:40:56.000000000,2018-07-04 00:30:09.000000000,2018-06-29 23:25:58.000000000,11,0,8,578716,b37f4402277c8b95984799d03c15095ee55214c3,21,6,3,1,25564,yanpuqing,ycx,"Add geneve in neutron tunnel protocols doc

The patch adds the introduce of geneve in neutron tunnel
protocols doc.

Change-Id: I61bbe8c724b9e64ae788cd9acbaafd5954e75ca6
Closes-Bug: 1778741
"
openstack%2Foslo.messaging~master~Ic787696852690b59779fb4716aec1e78c48bbe6a,openstack/oslo.messaging,master,amqp1-call-monitoring,Ic787696852690b59779fb4716aec1e78c48bbe6a,Enable RPC call monitoring in AMQP 1.0 driver,MERGED,2018-06-13 15:01:58.000000000,2018-07-04 00:04:17.000000000,2018-07-04 00:04:17.000000000,262,67,0,575141,684e3f0e410e969e00d0acb6f0a5a56f8a856f84,8,5,1,5,8770,Ken Giusti,kgiusti,"Enable RPC call monitoring in AMQP 1.0 driver

The call monitoring feature was introduced in commit
b34ab8b1cc9f4d513a2927c102dbbe82031d9c2a for RabbitMQ.  This patch
enables the feature on the AMQP 1.0 driver - currently the only other
driver that supports RPC.

Change-Id: Ic787696852690b59779fb4716aec1e78c48bbe6a
"
openstack%2Fnova~master~I4521eca6f6cbd4f8cd6dad48ab1d40a1b136bf73,openstack/nova,master,config-drive-docs-file-injection,I4521eca6f6cbd4f8cd6dad48ab1d40a1b136bf73,Remove file injection from config drive sample docs,MERGED,2018-06-28 17:01:59.000000000,2018-07-03 23:44:43.000000000,2018-06-29 15:45:13.000000000,4,23,0,578888,39d457752140c0ee4f8d5dc81faa9a5556a54786,14,10,1,1,6873,Matt Riedemann,mriedem,"Remove file injection from config drive sample docs

File injection is disabled by default (see
[libvirt]/inject_partition) and deprecated
in the API since microversion 2.57. We
don't really want people relying on file
injection, so this removes it from the
config drive docs. While in here, also
replace the 'nova boot' command mention
with 'openstack server create' since that
is the command used through the examples.

Change-Id: I4521eca6f6cbd4f8cd6dad48ab1d40a1b136bf73
"
openstack%2Fnova~master~Id9a16e07709a445814fb7a183bd12f7740722ced,openstack/nova,master,config-drive-docs,Id9a16e07709a445814fb7a183bd12f7740722ced,More config drive docs updates,MERGED,2018-06-28 17:09:57.000000000,2018-07-03 23:44:33.000000000,2018-07-02 11:04:50.000000000,7,0,0,578890,70b1045a5accc7038ff33b3788baa9ce81fd56da,14,10,1,1,6873,Matt Riedemann,mriedem,"More config drive docs updates

This adds two things:

1. Mention the img_config_drive image property
   which can be used to force a config drive.

2. Note that the config_drive_cdrom config option
   is for hyper-v only.

Change-Id: Id9a16e07709a445814fb7a183bd12f7740722ced
"
openstack%2Fnova~master~I9435fe84c8dc8a6f35ffb195ddbf71ca34edb242,openstack/nova,master,bug/1776981,I9435fe84c8dc8a6f35ffb195ddbf71ca34edb242,Use ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa in tree,MERGED,2018-06-28 16:15:55.000000000,2018-07-03 23:43:27.000000000,2018-06-29 09:08:40.000000000,20,0,1,578878,17b3bae64ca7aa4c1a6d296860cce6c0bfbb38a1,29,13,3,1,6873,Matt Riedemann,mriedem,"Use ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa in tree

ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa is
defined in the ironic repo but nova uses it because it's defined
in the project-config repo with it's own irrelevant-files list.
Due to a recent change in zuul [1], the definition from project-config
overrides the irrelevant-files from the job definition in ironic and
results in us running this job on things like docs-only changes in
nova, which is not awesome.

This change moves the job usage in-tree from project-config and updates
the irrelevant-files list to match nova-dsvm-base.

Since project-config is branchless, we'll have to backport this in-tree
change to nova's stable branches to continue running this job on nova
stable branches once the override is removed from project-config.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-June/131304.html

Change-Id: I9435fe84c8dc8a6f35ffb195ddbf71ca34edb242
Closes-Bug: #1776981
"
openstack%2Ftempest~master~I9b8433bcbd45c2a0c5b38e17e3a86d3b0ac68d08,openstack/tempest,master,bug/1737599,I9b8433bcbd45c2a0c5b38e17e3a86d3b0ac68d08,Add volume-attached resize revert server test,MERGED,2017-12-12 15:49:32.000000000,2018-07-03 22:28:13.000000000,2018-07-03 22:28:13.000000000,35,0,13,527439,01ff7c6edf15165f917b828055e23689da191610,43,13,3,1,6873,Matt Riedemann,mriedem,"Add volume-attached resize revert server test

We have a test to confirm a volume-backed server but there
are subtle differences in how nova handles volume-backed servers
vs attached non-root volumes during a resize, and we regressed
that functionality recently because we don't have CI coverage
for it.

Trove CI jobs have a test for a non-root volume attached resize
confirm scenario but the resize revert scenario is not tested
in integration CI so a test is added for that here.

Depends-On: Ifc80d07d94311534fd9e7824ede9d09223a011c2

Change-Id: I9b8433bcbd45c2a0c5b38e17e3a86d3b0ac68d08
Related-Bug: #1737599
"
openstack%2Frequirements~master~Iee61fad7954a56b225221e5b5254ee8094911d43,openstack/requirements,master,,Iee61fad7954a56b225221e5b5254ee8094911d43,Proposing distro for global-requirements,MERGED,2018-06-28 19:55:49.000000000,2018-07-03 22:03:23.000000000,2018-07-03 22:03:23.000000000,3,0,1,578983,11e83f83655ad13092e8ea73f2f70ecdcad91aae,15,7,2,3,11628,Michael Johnson,johnsom,"Proposing distro for global-requirements

In the spirit of ""python 3"" first I would like to propose distro for
global-requirements.
The builtin platform.linux_distribution[1] is deprecated and will be
removed in 3.8 and the recommended replacement is distro. Since
linux_distribution is widely used in OpenStack projects[2], we should
have an approved alternative.

Is the library actively maintained?
Yes[3]

Is the library good code?
Yes, it is pretty simple code with 98% coverage[4]

Is the library license compatible?
Yes, Apache 2.0[5]

Is the library already packaged in the distros we target (Ubuntu latest
/ Fedora latest)?
Ubuntu since artful (17.10)
Fedora since 23
RHEL 6

Is the function of this library already covered by other libraries in
global-requirements.txt?
Not that I am aware of.

Is the library required for OpenStack project or related dev or
infrastructure setup? (Answer to this should be Yes, of course) Which?
As noted above[2], many OpenStack projects are using the deprecated
function. Octavia is one that would like to move to distro.

[1] https://docs.python.org/2/library/platform.html \
    #platform.linux_distribution
[2] http://codesearch.openstack.org/?q=platform.linux_distribution
[3] https://pypi.org/project/distro/1.2.0/#history
[4] https://codecov.io/github/nir0s/distro?branch=master
[5] https://github.com/nir0s/distro/blob/master/LICENSE

Change-Id: Iee61fad7954a56b225221e5b5254ee8094911d43
"
openstack%2Fpuppet-openstack-integration~master~I3767645807279afac77c1c367a70af6f0f9f4084,openstack/puppet-openstack-integration,master,,I3767645807279afac77c1c367a70af6f0f9f4084,Change ceph caps to profile rbd,MERGED,2018-06-26 15:36:51.000000000,2018-07-03 21:49:41.000000000,2018-07-03 19:31:31.000000000,2,2,0,578135,70cb017808e2f783bcb7fdeb782ef5553036e6eb,8,3,1,1,16137,Tobias Urdin,tobasco,"Change ceph caps to profile rbd

Based on the documentation [1] and this
bug [2] we should set caps for ceph keys
that use RBD to use the profile.

As we can see in the bug [2] setting it to wrong
can have cause very bad issues, this should direct
as a guideline since we will not hit this in CI.

[1] http://docs.ceph.com/docs/luminous/rbd/rbd-openstack/#setup-ceph-client-authentication
[2] https://bugs.launchpad.net/nova/+bug/1773449

Change-Id: I3767645807279afac77c1c367a70af6f0f9f4084
"
openstack%2Fopenstack-ansible-os_zun~master~I837d7d9afd105678e67b1c7d39f6727ea8a2d3a1,openstack/openstack-ansible-os_zun,master,fix,I837d7d9afd105678e67b1c7d39f6727ea8a2d3a1,Add release notes link to README,MERGED,2018-06-11 06:47:56.000000000,2018-07-03 20:37:54.000000000,2018-07-03 20:37:54.000000000,3,0,0,574142,7c467fef926640d17471c98c09a289eae95007b5,7,2,1,1,23317,ShangXiao,ShangXiao,"Add release notes link to README

Change-Id: I837d7d9afd105678e67b1c7d39f6727ea8a2d3a1
"
openstack%2Fneutron~master~I89610e80b1b9527b8485061a84890b7c034c059c,openstack/neutron,master,,I89610e80b1b9527b8485061a84890b7c034c059c,Clarify how to run fullstack tests in devstack,ABANDONED,2018-06-15 20:01:37.000000000,2018-07-03 20:31:40.000000000,,9,3,1,575833,b758f074f5a350b18c471f32e2b8b3333a689cab,7,5,1,2,27654,Hongbin Lu,hongbin.lu,"Clarify how to run fullstack tests in devstack

Change-Id: I89610e80b1b9527b8485061a84890b7c034c059c
"
openstack%2Fnova~master~I6573e7c86d00e9174a5219397f676503c0e9b744,openstack/nova,master,fix-config-drive-xenapi-disable-agent,I6573e7c86d00e9174a5219397f676503c0e9b744,Update xenapi_disable_agent config option usage in docs,MERGED,2018-06-28 15:24:42.000000000,2018-07-03 20:13:26.000000000,2018-07-03 15:36:53.000000000,2,2,3,578848,255f71ac677c4a861cdb9d91603b2ec244f16e2e,16,11,1,1,6873,Matt Riedemann,mriedem,"Update xenapi_disable_agent config option usage in docs

The xenapi_disable_agent config option was moved to
[xenserver]/disable_agent so this just updates the config
drive docs.

Change-Id: I6573e7c86d00e9174a5219397f676503c0e9b744
"
openstack%2Fnova~master~Idc1b656a0aa5cd442fae3be895369fa71c86fc99,openstack/nova,master,bug/1779159,Idc1b656a0aa5cd442fae3be895369fa71c86fc99,Mention PowerVM support of config drive,MERGED,2018-06-28 15:10:05.000000000,2018-07-03 20:13:08.000000000,2018-06-29 18:10:09.000000000,4,4,6,578840,5c0f9379b5b79d8263b978a515b99c74f7c17e34,20,12,2,1,14070,Eric Fried,efried,"Mention PowerVM support of config drive

...in the config-drive user doc.

Change-Id: Idc1b656a0aa5cd442fae3be895369fa71c86fc99
Closes-Bug: #1779159
"
openstack%2Frequirements~master~Ia238607b9feb292842971d0fc161ae6294150e1f,openstack/requirements,master,build-lower-constraint-list,Ia238607b9feb292842971d0fc161ae6294150e1f,add build-lower-constraints command,MERGED,2018-06-29 19:40:33.000000000,2018-07-03 20:06:40.000000000,2018-07-03 20:06:40.000000000,150,0,3,579268,9fa26daf57f06671e5388e6ee080c3d4bccd8502,12,5,2,4,2472,Doug Hellmann,doug-hellmann,"add build-lower-constraints command

Add a command to merge lower constraints lists together, as a
precursor to removing the global lower-constraints.txt list in this
repository.

Change-Id: Ia238607b9feb292842971d0fc161ae6294150e1f
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fpuppet-openstack_extras~master~I8305171e10c51e980c4736b571477aa436e5f48d,openstack/puppet-openstack_extras,master,,I8305171e10c51e980c4736b571477aa436e5f48d,Add release note link in README,MERGED,2018-06-27 14:20:45.000000000,2018-07-03 19:48:16.000000000,2018-07-03 19:48:16.000000000,3,0,0,578409,e8999a6406138f7d9928cf580d52556666f1523e,7,3,1,1,17499,Filippo Inzaghi,qingszhao,"Add release note link in README

Change-Id: I8305171e10c51e980c4736b571477aa436e5f48d
"
openstack%2Fpuppet-openstack_extras~master~Id33c970e810ea48d74b9095b0e505d4e71be005a,openstack/puppet-openstack_extras,master,enable-py3,Id33c970e810ea48d74b9095b0e505d4e71be005a,Use 'dnf' when configuring repo in Fedora,MERGED,2018-06-25 14:24:59.000000000,2018-07-03 19:48:15.000000000,2018-07-03 19:48:15.000000000,13,6,0,577839,7c4183e3360ee73ed12d0d7424370a0d2d30feba,15,5,3,1,13861,yatin,yatinkarel,"Use 'dnf' when configuring repo in Fedora

Use 'dnf' instead of 'yum' in Fedora as Fedora
no longer have 'yum' binary. Also Fedora do not
need yum-plugin-priorities to manage repo priorities.

Also Do not Enable rdo-qemu-ev repo for Fedora.

Change-Id: Id33c970e810ea48d74b9095b0e505d4e71be005a
"
openstack%2Frequirements~master~I9abd008e903462d63e3e6cc4d1a0a51a9b74da8b,openstack/requirements,master,new-release,I9abd008e903462d63e3e6cc4d1a0a51a9b74da8b,update constraint for cliff to new release 2.13.0,MERGED,2018-07-03 14:07:30.000000000,2018-07-03 19:47:20.000000000,2018-07-03 19:47:20.000000000,1,1,0,579879,65e1ca7ea664cdbe680885ffe75d89b7f892f7bd,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for cliff to new release 2.13.0

Change-Id: I9abd008e903462d63e3e6cc4d1a0a51a9b74da8b
meta:version: 2.13.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dean Troyer <dtroyer@gmail.com>
meta:release:Commit: Dean Troyer <dtroyer@gmail.com>
meta:release:Change-Id: Ic49828bbf16d3e620615c06deac358c7cb1e4558
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fpuppet-horizon~master~I53a9107a33e9afffc5d00884c66c073e77c59237,openstack/puppet-horizon,master,,I53a9107a33e9afffc5d00884c66c073e77c59237,Fix redirect to https bug and testing,MERGED,2018-06-20 15:19:32.000000000,2018-07-03 19:35:46.000000000,2018-07-03 19:35:46.000000000,412,229,0,576890,a56420e5ef88b9431e4a31d06aa723bf61c34d76,26,4,10,3,16137,Tobias Urdin,tobasco,"Fix redirect to https bug and testing

Fixes a bug where having listen_ssl and ssl_redirect
set to true did not redirect http to https if your
root_url was empty or '/'.

This now forces redirection from http to https no
matter what your root_url is if listen_ssl and ssl_redirect
is set to true.

This also cleans up all apache::wsgi::apache testing and fixes
the structure so it doesn't enforce some context tests only for
the SSL enabled context but for everything.

Change-Id: I53a9107a33e9afffc5d00884c66c073e77c59237
"
openstack%2Fpython-cinderclient~master~I937c6ac2f6e254c438ee2f36eb6c291f62c0f411,openstack/python-cinderclient,master,nova-cinderclient-split-logging,I937c6ac2f6e254c438ee2f36eb6c291f62c0f411,Remove initialization of logger if logger is None,MERGED,2018-06-26 09:20:08.000000000,2018-07-03 19:15:25.000000000,2018-07-03 19:15:25.000000000,0,5,0,578045,ebb3b675ade348f52d3e0260bda3c0df843108c9,7,5,1,1,26541,Neha Alhat,nehaalhat,"Remove initialization of logger if logger is None

If default_log_level=keystoneauth=WARN is enabled in nova.conf,
then these log messages [1][2][3] are logged using cinderclient.v3.client
logger name instead of keystoneauth.session. This is because cinderclient
initializes logger if not passed by nova and since debug=True is set in
nova.conf it’s uses root logger log level.

This patch removes initialization of logger code to ensure log
messages[1][2][3] are logged only when keystoneauth=DEBUG is enabled
in nova.conf. This will also enable us to consume split_logger config
option [4] when enabled in nova without making any additional changes
in client code.

[1] REQ: https://review.openstack.org/#/c/505764/8/keystoneauth1/session.py@391
[2] RESP: https://review.openstack.org/#/c/505764/8/keystoneauth1/session.py@422
[3] RESP BODY: https://review.openstack.org/#/c/505764/8/keystoneauth1/session.py@454
[4] https://review.openstack.org/#/c/568878/

Change-Id: I937c6ac2f6e254c438ee2f36eb6c291f62c0f411
"
openstack%2Fpython-tripleoclient~master~I58d5d90f3d6641d8a3f86cbcba855cc37968f1dd,openstack/python-tripleoclient,master,fix-releasenotes,I58d5d90f3d6641d8a3f86cbcba855cc37968f1dd,Remove required releasenote reference,MERGED,2018-06-27 14:33:05.000000000,2018-07-03 19:14:25.000000000,2018-07-03 19:14:25.000000000,0,6,0,578418,5c89dafddf0ccf6bdfb201f3fcff4deddf8092c6,7,3,1,1,14985,Alex Schultz,mwhahaha,"Remove required releasenote reference

The mentioned option was made optional by a later patch

Change-Id: I58d5d90f3d6641d8a3f86cbcba855cc37968f1dd
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I812c7da90ae06120707fd8795a41e4fd867f510e,openstack/tripleo-heat-templates,stable/pike,bug/1776869,I812c7da90ae06120707fd8795a41e4fd867f510e,Add host prep step for ntp time sync,MERGED,2018-06-25 16:20:03.000000000,2018-07-03 19:14:24.000000000,2018-07-03 19:14:24.000000000,18,1,0,577861,d82b3d11eebe952e0fabd915730d6f5d1f8187ef,8,4,1,1,14985,Alex Schultz,mwhahaha,"Add host prep step for ntp time sync

Docker doesn't like it when the time shifts so if we're building
containers when the ntp time sync actually occurs it can lead to
deployment failures. To prevent this, let's force a ntpdate on the host
during step1 to ensure the hardware time is properly synced before
proceeding.

Change-Id: I812c7da90ae06120707fd8795a41e4fd867f510e
Closes-Bug: #1776869
(cherry picked from commit a866f55691c5871db335cd976c71d3429dbf62b1)
"
openstack%2Fopenstacksdk~master~I0622894cbb95949fca50de461a61cc7cecdb17bf,openstack/openstacksdk,master,579168,I0622894cbb95949fca50de461a61cc7cecdb17bf,Use shade create_image method in image proxy layer,NEW,2018-06-29 14:08:19.000000000,2018-07-03 19:12:11.000000000,,122,113,0,579168,5212d21be276d39c0c68998a4c5975c7ee04b659,4,1,2,4,2,Monty Taylor,mordred,"Use shade create_image method in image proxy layer

There is a ton of logic in the original shade code for dealing with
image uploads. Use it from the SDK layer instead of the existing
upload_image code which only handles the PUT case.

Change-Id: I0622894cbb95949fca50de461a61cc7cecdb17bf
"
openstack%2Fgovernance~master~If3e481af23c3b9d1a12f538e96c3b3c32f543a02,openstack/governance,master,code-change,If3e481af23c3b9d1a12f538e96c3b3c32f543a02,Add team fragility analysis script,MERGED,2018-06-29 12:58:45.000000000,2018-07-03 19:09:42.000000000,2018-07-03 19:09:42.000000000,154,0,0,579142,36ce233906ac69114a8a87e0784d00c59267874e,11,3,2,1,308,Thierry Carrez,ttx,"Add team fragility analysis script

Add a script that computes team fragility for (past or
current) development cycle, on two axis: corporate diversity
fragility (impact if the most active company abandons the
team), and individual fragility (impact if the most active
individual abandons the team).

The script orders them from most fragile to least fragile.
It's based on imperfect Stackalytics data, so any insight
from that analysis should be investigated deeper before
considering it ""real"".

Change-Id: If3e481af23c3b9d1a12f538e96c3b3c32f543a02
"
openstack%2Fironic~master~I8ee58dfade87ae2a2544c5dcc27702c069f5089d,openstack/ironic,master,hw-types,I8ee58dfade87ae2a2544c5dcc27702c069f5089d,Remove support for creating and loading classic drivers,MERGED,2018-06-27 15:59:49.000000000,2018-07-03 19:01:59.000000000,2018-07-03 19:01:59.000000000,327,1278,2,578457,53e7baef4205767af8e6c15e6e0e5369e04aea5e,43,9,6,26,10239,Dmitry Tantsur,dtantsur,"Remove support for creating and loading classic drivers

* removes any bits related to loading classic drivers from
  the drivers factory code
* removes exceptions that only happen when classic drivers
  can be loaded
* removes the BaseDriver, moves the useful functionality to
  the BareDriver class
* /v1/drivers/?type=classic now always returns an empty list
* removes the migration updating classic drivers to hardware
  types

The documentation will be updated separately.

Change-Id: I8ee58dfade87ae2a2544c5dcc27702c069f5089d
"
openstack%2Fpuppet-horizon~master~I67c4c8923ef4d6e4c3420e0a2b0d38ee3c6e2819,openstack/puppet-horizon,master,domaindropdown,I67c4c8923ef4d6e4c3420e0a2b0d38ee3c6e2819,Add option for populating a dropdown list instead of the textfield for selecting domain at the horizon login,MERGED,2018-06-25 08:07:04.000000000,2018-07-03 19:00:44.000000000,2018-07-03 19:00:44.000000000,47,0,2,577745,e14074e4fcff3c2499c7bda32846ec9602311b7f,28,5,8,4,28542,Eigil Obrestad,obrestad,"Add option for populating a dropdown list instead of the textfield for
selecting domain at the horizon login

Depends-On: https://review.openstack.org/579475
Change-Id: I67c4c8923ef4d6e4c3420e0a2b0d38ee3c6e2819
"
openstack%2Fnova~master~I1807a5e513ff53c9268a02bac6b38983620fb623,openstack/nova,master,bp/mox-removal,I1807a5e513ff53c9268a02bac6b38983620fb623,Remove mox in sec group test and functional tests,MERGED,2018-06-20 06:26:30.000000000,2018-07-03 18:59:39.000000000,2018-07-03 18:59:39.000000000,15,13,0,576751,43e5a5a639fb268068ff9842fe3c333ebc980472,22,13,2,3,7634,Takashi Natsume,natsumet,"Remove mox in sec group test and functional tests

The 'test_get_security_group_list_missing_group_id_rule' method
in nova/tests/unit/api/openstack/compute/test_security_groups.py
is executed in the TestNeutronSecurityGroupsV21 class
because the TestNeutronSecurityGroupsV21 class is a subclass of
the TestSecurityGroupsV21 class.
So replace mox with mock in the method.

The 'stub_compute_with_ips' method in nova/tests/unit/fake_network.py
is used in API sample functional tests in both nova-network and
neutron cases.
So replace mox with stub_out in the method.

Change-Id: I1807a5e513ff53c9268a02bac6b38983620fb623
Implements: blueprint mox-removal
"
openstack%2Fnova~master~Ice377939ff7214738419f940e69307ae0a4f0b19,openstack/nova,master,bug/1755783,Ice377939ff7214738419f940e69307ae0a4f0b19,conf: Correct documentation for '[pci] passthrough_whitelist',MERGED,2018-03-14 10:43:25.000000000,2018-07-03 18:59:26.000000000,2018-07-03 18:59:25.000000000,27,15,1,552874,68e6551e85e9283cbff22a22a71c4d7b427079b7,85,18,5,1,15334,Stephen Finucane,sfinucan,"conf: Correct documentation for '[pci] passthrough_whitelist'

Literal blocks weren't being rendered as such, causing them to render as
regular text with smartquotes. This meant people could not copy-paste
the same config provided. Correct this.

Change-Id: Ice377939ff7214738419f940e69307ae0a4f0b19
Related-Bug: #1755783
"
openstack%2Ftripleo-common~stable%2Fqueens~Iaf1b8aa68af0274ba40eae329e32ab14f3689481,openstack/tripleo-common,stable/queens,bug/1778269,Iaf1b8aa68af0274ba40eae329e32ab14f3689481,Switch ansible tmp for local connections,MERGED,2018-06-28 13:27:31.000000000,2018-07-03 18:57:42.000000000,2018-07-03 18:57:42.000000000,10,0,0,578797,4ecf42a8ce5b1125cd155484c8e10225a9fc2a19,10,5,2,4,14985,Alex Schultz,mwhahaha,"Switch ansible tmp for local connections

With ansible 2.5.4, they introduced a change that causes the temp
directory used to not honor the HOME for a user. See
https://github.com/ansible/ansible/pull/40363. Now the directory
defaults to ~/.ansible/tmp but using the HOME env has no effect. In our
case the code can be executed via mistral which doesn't have a valid
or writable home directory so it errors.  This change updates the
ansible_remote_tmp for the undercloud inventory file to
/tmp/ansible-${USER} to ensure it will work when running under mistral
but will work for any user as well.

The recommended fix for this is to configure the ansible_remote_tmp in
the inventory file for local connections to change this location.
Alternatively ANSIBLE_REMOTE_TMP can be used via an environment var but
that would change the location for all hosts which is not ideal.

Additionally HOME has been replaced with ANSIBLE_LOCAL_TEMP due to
changes upstream around the effect of home. See
https://github.com/ansible/ansible/pull/36755

Change-Id: Iaf1b8aa68af0274ba40eae329e32ab14f3689481
Closes-Bug: #1778269
(cherry picked from commit f7bd4e71fe092724780de37002275016a29e5f3d)
"
openstack%2Fneutron~stable%2Fpike~If506e0ff68fc49748f19618470c85901339a419b,openstack/neutron,stable/pike,bug/1757089,If506e0ff68fc49748f19618470c85901339a419b,Don't set administratively disabled ports as ACTIVE,MERGED,2018-06-15 08:09:59.000000000,2018-07-03 18:51:55.000000000,2018-07-03 18:51:55.000000000,17,0,0,575682,eb7ee4d8eb19901f95e56cded1033b7d33cbc221,22,6,3,2,11975,Slawek Kaplonski,slaweq,"Don't set administratively disabled ports as ACTIVE

There was a race condition during port update to disable it.
In case when neutron-server receives port update call to set
admin_state_down on port, it sends PORT_UPDATE notification
to agents.

Then both L2 and DHCP agents start doing their job with port.
L2 agent asks neutron-server about device details and during
processing this call server sets port's status to DOWN if
its admin_state_up = False.
Problem is that sometimes just after that, DHCP agent will send
to neutron server notification that provisioning for this port
is finished.
As there is no any other provisioning block in db (because it
is just port update) neutron-server is setting port's status
to ACTIVE.

This patch fixes this issue by allowing to transition to
ACTIVE only ports which are administratively enabled.

Change-Id: If506e0ff68fc49748f19618470c85901339a419b
Closes-Bug: #1757089
(cherry picked from commit 2a1319ab7a21c2492627c38c5549d20eada899ff)
"
openstack%2Fpuppet-openstack-integration~master~I0bd3bc4faf5169b589052da591d61aa2032b8129,openstack/puppet-openstack-integration,master,job-reduction,I0bd3bc4faf5169b589052da591d61aa2032b8129,Update scenario004 branches,MERGED,2018-06-19 19:17:36.000000000,2018-07-03 18:38:57.000000000,2018-07-03 18:38:57.000000000,2,3,0,576620,c7daa4117a962794c206a322bda98c35f6592c64,33,6,4,1,14985,Alex Schultz,mwhahaha,"Update scenario004 branches

Change-Id: I0bd3bc4faf5169b589052da591d61aa2032b8129
"
openstack%2Fcinder~stable%2Fqueens~I067cb09928c4c9d4ebb7159950fff526ee70f1bb,openstack/cinder,stable/queens,bug/1778669-stable/queens,I067cb09928c4c9d4ebb7159950fff526ee70f1bb,NEC driver: Reuse iSCSI LUNs of detached volumes.,MERGED,2018-07-03 04:03:41.000000000,2018-07-03 18:38:42.000000000,2018-07-03 18:38:42.000000000,127,98,0,579758,23f57d348b0e82fc59503eac5c676854680a3eec,19,15,1,4,23885,Shunei Shiono,s-shiono,"NEC driver: Reuse iSCSI LUNs of detached volumes.

Currently, NEC driver does not reuse iSCSI LUNs of detached volumes.
The driver always use the LUN of (max(LUNs used) + 1) to attach
a volume.

If multi-target mode of NEC Storage is enabled, the driver works
without the problem because only LUN0s are used in the multi-target
mode.

This patch changes the using LUN to min(LUNs not used) for reusing
a LUN of detached volume with multi-target mode disabled.

Change-Id: I067cb09928c4c9d4ebb7159950fff526ee70f1bb
Closes-Bug: #1778669
(cherry picked from commit 78f104d75c3fef6f9371a2eadfdfd990aa1cb93d)
"
openstack%2Ftripleo-heat-templates~master~I7c7b2bd6d202268fdf4bc08f951ec4c9c4065c08,openstack/tripleo-heat-templates,master,bug/1778505,I7c7b2bd6d202268fdf4bc08f951ec4c9c4065c08,Fix non-HA rabbitmq user password updates,MERGED,2018-06-25 10:54:32.000000000,2018-07-03 18:36:28.000000000,2018-07-03 18:36:27.000000000,6,6,0,577785,f14369c08515de9e969ea3b72be1da29772f6124,31,8,4,3,6926,Bogdan Dobrelya,bogdando,"Fix non-HA rabbitmq user password updates

Fix the invocation of puppet's rabbitmq_user by allowing the
produced changes written into /var/lib/rabbitmq state.

Move the docker_puppet_tasks for non-HA rabbit into the step_2
as puppet-tripleo expects it for the rabbitmq_user call.

Related-bug: #1777939
Related-bug: #1778505

Depends-on: I55dc83acb2ed5ee07b4cf57e25135e6201589ac4
Change-Id: I7c7b2bd6d202268fdf4bc08f951ec4c9c4065c08
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftempest~master~Ia2e81da2ded351df5b53f36de278a3400d1b2605,openstack/tempest,master,,Ia2e81da2ded351df5b53f36de278a3400d1b2605,Update image creation error msg to mention the correct image type,MERGED,2015-12-03 21:58:47.000000000,2018-07-03 18:27:10.000000000,2018-07-03 18:27:10.000000000,3,1,6,253234,e5107be23f954d47fbd0249758cf39d7a3d1ee7e,40,17,4,1,8302,Ryan Hsu,rhsu,"Update image creation error msg to mention the correct image type

Currently, the glance_image_create method allows the ability to
create any type of image as specified in the [scenario] section
of tempest.conf. The error message when unable to find this image,
however, only mentions qcow, which can cause confusion for users
testing with other image types. This commit updates the error to
mention the image type configured in the conf and also issues the
log as a warning rather than a debug message.

Change-Id: Ia2e81da2ded351df5b53f36de278a3400d1b2605
"
openstack%2Fneutron~stable%2Focata~I024bbbdf7059835b2f23c264b48478c71633a43c,openstack/neutron,stable/ocata,bug/1767422,I024bbbdf7059835b2f23c264b48478c71633a43c,Avoid agents adding ports as trunk by default.,MERGED,2018-05-11 17:11:51.000000000,2018-07-03 18:16:57.000000000,2018-07-03 18:16:57.000000000,78,3,0,567901,559bf87fd0d92e4d230058f5819c78f8b727d326,58,8,3,7,8788,Miguel Angel Ajo,mangelajo,"Avoid agents adding ports as trunk by default.

Agent OVS interface code adds ports without a vlan tag,
if neutron-openvswitch-agent fails to set the tag, or takes
too long, the port will be a trunk port, receiving
traffic from the external network or any other port
sending traffic on br-int.

Also, those kinds of ports are triggering a code path
on the ovs-vswitchd revalidator thread which can eventually
hog the CPU of the host (that's a bug under investigation [1])

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1558336

Conflicts:
    neutron/tests/functional/agent/test_ovs_lib.py

    needed the addition of the following import:
from neutron.plugins.ml2.drivers.openvswitch.agent.common import (
    constants as agent_const)

Co-Authored-By: Slawek Kaplonski <skaplons@redhat.com>
Change-Id: I024bbbdf7059835b2f23c264b48478c71633a43c
Closes-Bug: 1767422
(cherry picked from commit 88f5e11d8bf820b0124be0f6ec3c2d96011592d9)
(cherry picked from commit 2b1d413ee90dfe2e9ae41c35ab37253df53fc6cd)
"
openstack%2Fpuppet-freezer~master~I779c30e2c7507db195261bad617231996a7cf0d0,openstack/puppet-freezer,master,,I779c30e2c7507db195261bad617231996a7cf0d0,Add release note link in README,MERGED,2018-06-27 14:00:23.000000000,2018-07-03 18:16:05.000000000,2018-07-03 18:16:05.000000000,3,0,0,578396,c4e5efd9566d0c53dff7731ebb86e867c478f5a7,7,3,1,1,17499,Filippo Inzaghi,qingszhao,"Add release note link in README

Change-Id: I779c30e2c7507db195261bad617231996a7cf0d0
"
openstack%2Fnova~master~I66ba0e0835970b965acce00ba69d143bd4471037,openstack/nova,master,python3-first,I66ba0e0835970b965acce00ba69d143bd4471037,trivial: Remove 'tools/releasenotes_tox.sh',MERGED,2018-01-16 17:04:38.000000000,2018-07-03 18:14:24.000000000,2018-06-29 15:44:56.000000000,3,29,0,534383,de4ab973d50aa1d26b15a27f909a2c56973a0567,94,19,9,2,15334,Stephen Finucane,sfinucan,"trivial: Remove 'tools/releasenotes_tox.sh'

This is not needed since reno 2.1.0 (commit f8fc8f97) [1].

[1] https://github.com/openstack/reno/commit/f8fc8f97ff20026582742e3e7838cdd0ed5cad68

Change-Id: I66ba0e0835970b965acce00ba69d143bd4471037
"
openstack%2Fnova~master~I7d15614051d4a38b74b0fc9e5c751fdc3f64cb1c,openstack/nova,master,bp/api-extensions-merge-rocky,I7d15614051d4a38b74b0fc9e5c751fdc3f64cb1c,Merge server create schema for scheduler hint extension,MERGED,2018-06-27 09:34:55.000000000,2018-07-03 18:11:55.000000000,2018-07-03 18:11:55.000000000,59,94,0,578343,f4ec8116aedadb3d4b958b49b8a703fbcbd7d383,34,17,3,4,8556,Ghanshyam,ghanshyam,"Merge server create schema for scheduler hint extension

As nova extensions has been deprecated already and goal is to
merge all scattered code into main controller side.
Currently schema and request/response extended code are there
among all extensions.

This commit merge the schema part of create server for scheduler
hint extensions.

Partially implements: blueprint api-extensions-merge-rocky

Change-Id: I7d15614051d4a38b74b0fc9e5c751fdc3f64cb1c
"
openstack%2Fnova~master~I2b1a7a45ee35d3a7023a27f13e197221868087b2,openstack/nova,master,bp/api-extensions-merge-rocky,I2b1a7a45ee35d3a7023a27f13e197221868087b2,Merge server create schema for multiple create extension,MERGED,2018-06-27 09:19:53.000000000,2018-07-03 18:11:49.000000000,2018-07-03 18:11:49.000000000,3,27,0,578338,74ee397dbbdb3f33b05f750cc0b135ba7dbc51c3,41,16,3,4,8556,Ghanshyam,ghanshyam,"Merge server create schema for multiple create extension

As nova extensions has been deprecated already and goal is to
merge all scattered code into main controller side.
Currently schema and request/response extended code are there
among all extensions.

This commit merge the schema part of create server for multiplex
create extensions.

Partially implements: blueprint api-extensions-merge-rocky

Change-Id: I2b1a7a45ee35d3a7023a27f13e197221868087b2
"
openstack%2Fpuppet-glare~master~Ib8fed241d0b2287ba5a918a9602b63b33b604ff4,openstack/puppet-glare,master,,Ib8fed241d0b2287ba5a918a9602b63b33b604ff4,Add release note link in README,MERGED,2018-06-27 14:06:29.000000000,2018-07-03 18:10:27.000000000,2018-07-03 18:10:27.000000000,3,0,0,578401,345366e19442f56a78e8abecbe437d68cd9ea9d2,7,3,1,1,17499,Filippo Inzaghi,qingszhao,"Add release note link in README

Change-Id: Ib8fed241d0b2287ba5a918a9602b63b33b604ff4
"
openstack%2Fnova~master~I33675b7eedcffcebf1115dd48757874cb73f3e2f,openstack/nova,master,python3-first,I33675b7eedcffcebf1115dd48757874cb73f3e2f,tox: Document and dedupe mostly everything,MERGED,2018-06-28 14:44:22.000000000,2018-07-03 17:51:06.000000000,2018-06-29 15:45:05.000000000,56,55,7,578825,7601b3bb7f5fde6f3ef99776594e7b78da861603,16,10,1,1,15334,Stephen Finucane,sfinucan,"tox: Document and dedupe mostly everything

Take advantage of tox's expressiveness to avoid duplication wherever
possible and document the many targets we have.

Change-Id: I33675b7eedcffcebf1115dd48757874cb73f3e2f
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpuppet-openstack-integration~master~Ie4bd3c46882a1cd4ec2be8c6bb4850e17fe79905,openstack/puppet-openstack-integration,master,579475,Ie4bd3c46882a1cd4ec2be8c6bb4850e17fe79905,Fix select ceph version failing beaker tests,MERGED,2018-07-02 07:32:09.000000000,2018-07-03 17:38:55.000000000,2018-07-03 17:38:55.000000000,13,5,0,579475,1cafb2d4fc0a4a62fe775304f637a78814b1a89f,28,4,8,3,16137,Tobias Urdin,tobasco,"Fix select ceph version failing beaker tests

Change-Id: Ie4bd3c46882a1cd4ec2be8c6bb4850e17fe79905
"
openstack%2Fansible-role-systemd_mount~master~I0fbcdc5552e192cb93ff43bbbbd5bda9fdaaa2ea,openstack/ansible-role-systemd_mount,master,,I0fbcdc5552e192cb93ff43bbbbd5bda9fdaaa2ea,Add release note link in README,MERGED,2018-06-29 06:47:09.000000000,2018-07-03 16:40:21.000000000,2018-07-03 16:40:21.000000000,2,0,0,579072,aa794588ad29031477c5f75019d950f0a63a07df,6,2,1,1,27336,XiaojueGuan,XiaojueGuan,"Add release note link in README

Change-Id: I0fbcdc5552e192cb93ff43bbbbd5bda9fdaaa2ea
"
openstack%2Fnetworking-odl~stable%2Fqueens~I955c9d737864b8a2557366be518922e192f4be91,openstack/networking-odl,stable/queens,,I955c9d737864b8a2557366be518922e192f4be91,Remove tox_install.sh helper,ABANDONED,2018-07-02 16:30:42.000000000,2018-07-03 16:33:36.000000000,,17,79,0,579630,04b08b22743127e6bcd89d9473ab7e09c7bd0b98,5,3,3,5,17120,Manjeet Singh Bhatia,manjeets,"Remove tox_install.sh helper

With the move to Zuul v3 there is no need to use zuul cloner anymore and
therefore also no need to have tox_install.sh -that does not work well
with the OpenStack CI.

This patch removes the need for the helpers, adapts tox.ini to install
with pip and moves to use packages from PyPi while installing from git
the only package (ceilometer) that does not publish in PyPi.

(chery picked from commit 391c1d89ef2b8133d3aafbe7612c7908be106e73)

Change-Id: I955c9d737864b8a2557366be518922e192f4be91
"
openstack%2Fopenstack-ansible-os_magnum~master~Iea2a04716c55a9dfe2215aa44dfef3fcb16dbe8a,openstack/openstack-ansible-os_magnum,master,common-systemd-service,Iea2a04716c55a9dfe2215aa44dfef3fcb16dbe8a,Add systemd tags to include role,MERGED,2018-06-28 00:01:37.000000000,2018-07-03 16:32:46.000000000,2018-07-03 16:32:46.000000000,1,0,0,578604,ce2183980d4c9196da3d7e4cc82db3773f053c33,15,4,1,1,7353,Kevin Carter,cloudnull,"Add systemd tags to include role

There are times when a deployer will need to reconfigure parts of
an environment and having a general purpose tag to run said operation
will be important especicially should the deployer be needing to
reconfigure systemd unit files in a downtime event. This change adds
a general purpose systemd tag where include_role and systemd is found
which will assit operators with day2 operational tasks.

Change-Id: Iea2a04716c55a9dfe2215aa44dfef3fcb16dbe8a
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fkeystone~master~Ibb408758466ff367f57bafbd4b8c9213499f8dc3,openstack/keystone,master,bug/1777892,Ibb408758466ff367f57bafbd4b8c9213499f8dc3,Add auto increase primary key for unified limit,MERGED,2018-06-18 03:41:51.000000000,2018-07-03 16:22:36.000000000,2018-07-03 16:22:36.000000000,308,65,13,576025,209462c90d44df7bf58fd3786887047adefdc22b,46,6,14,8,15054,wangxiyuan,wangxiyuan,"Add auto increase primary key for unified limit

What this patch did and why:

1. added an auto increment primary column `interenal_id` for both
   registered_limit and limit tables. Removed the primary key but
   added unique index for `id` column. This change can improve
   the db performance.
2. dropped the forieign keys in limit table. The `project_id`
   column has a foreign key. Using foreign key between different
   backends can lead some unexpected error.
3. dropped the unique constraints and foreign key constraint in both
   tables. Because `region_id` can be null, in this case, both
   constraints can't work well in all kinds of DBs. Instead, we'll
   check the unique and foreign reference in code.

NOTE: For MySQL and PostgreSQL, we did the change inner tables. But
for SQLite, it doesn't support adding a primary column into an existed
table, so that we recreated the tables instead..

Closes-bug: #1777893
Change-Id: Ibb408758466ff367f57bafbd4b8c9213499f8dc3
"
openstack%2Fsahara-image-elements~master~Iafafb64fd60a1ae585375a68173c84fbb82c7e1f,openstack/sahara-image-elements,master,,Iafafb64fd60a1ae585375a68173c84fbb82c7e1f,Totally rewrite s3_hadoop,MERGED,2018-06-26 20:20:11.000000000,2018-07-03 16:19:03.000000000,2018-07-03 16:19:03.000000000,63,62,6,578193,7910521a7ed7ed685a4bd7ec892f26c79557dc50,29,4,8,4,23078,Jeremy Freudberg,jeremyfreudberg,"Totally rewrite s3_hadoop

Remedying of patchings, version conflicts, classpath issues, etc.

ALSO: Switch the Hadoop libraries used on the Spark standalone plugin to
Hadoop 2.7.3. The version was previously 2.6.5, to match Cloudera's
so-called ""Hadoop 2.6.0"", but in fact this concordance is not at all
necessary...

Change-Id: Iafafb64fd60a1ae585375a68173c84fbb82c7e1f
"
openstack%2Fopenstack-ansible~stable%2Fqueens~Ia9d23f8861b53eadd7d4eff4a68683ebcda37dc2,openstack/openstack-ansible,stable/queens,haproxy-loop-control-stable/queens,Ia9d23f8861b53eadd7d4eff4a68683ebcda37dc2,Fix loop variable name for nested loop,MERGED,2018-07-02 08:46:39.000000000,2018-07-03 16:16:43.000000000,2018-07-03 16:16:43.000000000,3,1,0,579489,518d7b9755890504d17d5131464a8ab6f151d849,8,5,1,1,6816,Jesse Pretorius,jesse-pretorius,"Fix loop variable name for nested loop

The HAProxy service management did not work because the loop variable
""item"" was used in a nested loop within an include. Because of this the
haproxy Ansible module acted on an inexistant HAProxy backend.
Unfortunately the module does not throw an error in this case.

The issue is fixed by using loop_control/loop_var in the inner loop to
use another loop variable name.

Change-Id: Ia9d23f8861b53eadd7d4eff4a68683ebcda37dc2
(cherry picked from commit 144b8505636f7065519c6c905d0b184367396d82)
"
openstack%2Fmetalsmith~master~I52ef0228cce2be276046b93c284743c4067da0a6,openstack/metalsmith,master,ansible-role,I52ef0228cce2be276046b93c284743c4067da0a6,ansible: split waiting from provisioning,MERGED,2018-06-12 13:01:15.000000000,2018-07-03 16:12:35.000000000,2018-07-03 16:12:35.000000000,80,11,0,574720,cbf7294be9d9b68899940fb80f8a90f11fa6f488,10,2,2,5,10239,Dmitry Tantsur,dtantsur,"ansible: split waiting from provisioning

Introduces a new command 'wait' for this purpose.

Change-Id: I52ef0228cce2be276046b93c284743c4067da0a6
Story: #2002186
Task: #20058
"
openstack%2Foctavia-tempest-plugin~master~Ie4c3ffeb194a779b2e4e04ef423d23e3891ad3ce,openstack/octavia-tempest-plugin,master,,Ie4c3ffeb194a779b2e4e04ef423d23e3891ad3ce,"Add ""wait for active"" after object delete",MERGED,2018-06-29 15:56:25.000000000,2018-07-03 16:09:51.000000000,2018-07-03 16:09:51.000000000,42,0,4,579205,b0573224f50413a6831752c664c65fc0984f1e0f,14,6,2,6,11628,Michael Johnson,johnsom,"Add ""wait for active"" after object delete

Currently we are waiting for the object to finish deleting, but
we are not waiting for the LB to go back to ACTIVE. On fast test
hosts this can lead to an immutable error on the shared parent objects.
This patch adds a ""wait for active"" after the object ""wait for deleted"".

Change-Id: Ie4c3ffeb194a779b2e4e04ef423d23e3891ad3ce
"
openstack%2Ftrove~master~Ib5db3b936de5a9c6747a652cb15c1002a3b7c524,openstack/trove,master,,Ib5db3b936de5a9c6747a652cb15c1002a3b7c524,Fix for 'Client' object has no attribute 'tenants',ABANDONED,2017-02-13 10:42:56.000000000,2018-07-03 16:09:47.000000000,,1,0,1,432980,cb4c4b2348553717efb9fb8c0f7e79d1ee3e16bf,14,5,1,1,24,Chuck Short,zulcss,"Fix for 'Client' object has no attribute 'tenants'

Each time taskmanager is failing to prepare 'dbaas.quotas'
notification with an error 'Client object has no attribute tenants'
and the root cause for the failure is publish_quota_notifications
method is trying to get tenant list using 'novaclient'
instead of using 'keystoneclient'.

This fix was ripped from [1].

[1] https://review.openstack.org/#/c/340022/

Closes: #1600485

Change-Id: Ib5db3b936de5a9c6747a652cb15c1002a3b7c524
Signed-off-by: Chuck Short <chuck.short@canonical.com>
"
openstack%2Fdesignate~master~I89818e1a369b38365ebf0c6b6141207bb72a52ed,openstack/designate,master,bug/1775720,I89818e1a369b38365ebf0c6b6141207bb72a52ed,Fix systemctl command in Ubuntu installation guide,MERGED,2018-06-21 07:42:20.000000000,2018-07-03 16:09:24.000000000,2018-07-03 16:09:24.000000000,2,2,0,577084,b07c7817a983129867ce0f8f83c7cd5fa4d53d3b,7,3,1,1,28055,Monjurul Hasan,mxh2832,"Fix systemctl command in Ubuntu installation guide

The systemctl command service names no longer prepend ""openstack-""

Closes bug: #1775720

Change-Id: I89818e1a369b38365ebf0c6b6141207bb72a52ed
"
openstack%2Fdesignate~master~I4fc1c7264671c3102c067beb7298879e62214d60,openstack/designate,master,listener-pools,I4fc1c7264671c3102c067beb7298879e62214d60,Use listener pools in designate-sink,MERGED,2018-06-26 17:29:50.000000000,2018-07-03 16:09:23.000000000,2018-07-03 16:09:23.000000000,25,2,0,578158,5fdef82a30bf36fbbe2073163e201fedb4849d1b,8,3,2,4,9542,Pavlo Shchelokovskyy,pshchelo,"Use listener pools in designate-sink

configuring pools for notificaiton listeners is an alternative approach
to using per-component notification topics, however not all
oslo.messaging drivers support it (from currently available, zmq and
amqp1 do not, rabbit and kafka do support listener pools).

This patch adds a config option 'listener-pool-name' to [service:sink]
config section (defaults to None) that can be used to configure a common
pool for designate-sink notification listeners if the messaging driver
does support them.

Change-Id: I4fc1c7264671c3102c067beb7298879e62214d60
"
openstack%2Fmetalsmith~master~Iea7aece885a5ea4c42000c0d220060a102db03c8,openstack/metalsmith,master,wait-instance,Iea7aece885a5ea4c42000c0d220060a102db03c8,Change wait_for_provisioning to return Instance objects,MERGED,2018-07-03 13:12:09.000000000,2018-07-03 16:08:06.000000000,2018-07-03 16:08:06.000000000,16,8,0,579866,ef7521e29487046f3d078f4cebf0943245f2fd59,6,2,1,2,10239,Dmitry Tantsur,dtantsur,"Change wait_for_provisioning to return Instance objects

Change-Id: Iea7aece885a5ea4c42000c0d220060a102db03c8
"
openstack%2Fdesignate~master~Ic54ceebc1af5a9d74e415f7369e1d5bb19c6e915,openstack/designate,master,bump-requirements,Ic54ceebc1af5a9d74e415f7369e1d5bb19c6e915,Allow newer versions of Flask,MERGED,2018-06-28 11:36:03.000000000,2018-07-03 16:08:05.000000000,2018-07-03 16:08:05.000000000,1,1,0,578770,16162a30c07587b147092844bca9c443f83042f1,10,6,1,1,17068,Jean-Philippe Evrard,evrardjp,"Allow newer versions of Flask

Since keystone bumped the version of Flask in openstack/requirements,
the upper constraint is now equal to 1.0.2 that is not allowed by
the requirements.txt of designate.

If we change the designate requirements, we could use the same
version of Flask for both Keystone and Designate, helping
deployers.

Change-Id: Ic54ceebc1af5a9d74e415f7369e1d5bb19c6e915
"
openstack%2Ftripleo-quickstart~master~I5f574923bb3f38b8f71a002e643bf89b52069adc,openstack/tripleo-quickstart,master,bug/1779108,I5f574923bb3f38b8f71a002e643bf89b52069adc,"Include python{2,3}-tripleo-common from delorean current",MERGED,2018-06-28 11:58:54.000000000,2018-07-03 16:03:31.000000000,2018-06-29 06:50:31.000000000,2,0,3,578776,8176bdd578f2749d4e90b5b22287ee4940704fcf,18,13,1,2,27898,Quique Llorente,quiquell,"Include python{2,3}-tripleo-common from delorean current

After https://review.rdoproject.org/r/#/c/14232 we need
to include those packages

Change-Id: I5f574923bb3f38b8f71a002e643bf89b52069adc
Closes-Bug: 1779108
"
openstack%2Fdiskimage-builder~master~Iec3a51bb1bd187cc9cbffc9da027388c7ef6a34f,openstack/diskimage-builder,master,grub-modules,Iec3a51bb1bd187cc9cbffc9da027388c7ef6a34f,Allow extra grub modules to be installed,ABANDONED,2018-06-22 02:37:13.000000000,2018-07-03 16:00:10.000000000,,8,0,1,577338,8f4d35e7db5b9fce93355a4fc95e17e362e8db7e,6,4,1,2,17799,Logan V,Logan2211,"Allow extra grub modules to be installed

Add an environment option that can be used to add additional grub
modules to the boot sector.

Change-Id: Iec3a51bb1bd187cc9cbffc9da027388c7ef6a34f
"
openstack%2Ftripleo-heat-templates~stable%2Fnewton~Ib563842f182383a9cec49ee57943039346098b53,openstack/tripleo-heat-templates,stable/newton,,Ib563842f182383a9cec49ee57943039346098b53,Conditionally Enable Nuage VRS,ABANDONED,2018-06-22 02:39:14.000000000,2018-07-03 15:40:10.000000000,,30,0,0,577340,a0ecd7ba316150fad0770c8b02d5779c2f11fbbb,6,3,1,2,27069,Sai Ram Peesapati,sairamp,"Conditionally Enable Nuage VRS

Using this change, users can conditionally enable and
configure Nuage VRS on Overcloud nodes

In Pike, as neutron-server is still running as a service on
the hypervisor, this approach will configure VRS which is also
running on the hypervisor.

This review is meant for Pike and earlier releases only.

Change-Id: Ib563842f182383a9cec49ee57943039346098b53
Depends-On: I6a996a6b9e1b2d4c74e25e2582699eb9e023093a
Closes-Bug: 1776998
(cherry picked from commit 885f64daf86e6ff80340b05eec893cdf9ec98b4a)
"
openstack%2Finstack-undercloud~stable%2Fnewton~I0df4356c4cb8deccd95d2d5787f11d209c8b1db7,openstack/instack-undercloud,stable/newton,bug/1773963,I0df4356c4cb8deccd95d2d5787f11d209c8b1db7,Removing packages when installing Undercloud in Newton,ABANDONED,2018-05-29 10:56:27.000000000,2018-07-03 15:40:05.000000000,,13,0,2,570897,7cff4ebb75daf7f5372d0f4555c27500b36b40aa,16,10,3,1,20775,Carlos Camacho,ccamacho,"Removing packages when installing Undercloud in Newton

We need to be sure that both mariadb-devel and neutron-vpnaas
are not present when installing the Undercloud in
Newton.

Fix only for stable/newton

Change-Id: I0df4356c4cb8deccd95d2d5787f11d209c8b1db7
Related-BZ: https://bugzilla.redhat.com/show_bug.cgi?id=1582662
Closes-Bug: 1773963
"
openstack%2Fpuppet-tripleo~stable%2Fnewton~Ib9f511219e8cb9a7322745b6bd7c4f9c9cc0c198,openstack/puppet-tripleo,stable/newton,,Ib9f511219e8cb9a7322745b6bd7c4f9c9cc0c198,Sync the db as part of the glance-api install,ABANDONED,2017-10-26 09:39:59.000000000,2018-07-03 15:39:57.000000000,,26,13,1,515333,3409c2c397dc5f068451b15fe6fa8f29ec2fbfc5,45,9,3,2,19138,Pranali Deore,PranaliD,"Sync the db as part of the glance-api install

The glance database should be created as part of the glance-api service
installation and not the registry. Move the db_sync param to the
glance-api class call.


Closes-Bug: 1731245
Depends-On: I209498033ea81571d45d9fbd69ff03e0155a9deb

Change-Id: Ib9f511219e8cb9a7322745b6bd7c4f9c9cc0c198
(cherry picked from commit
b09f7a6c80de65c53c8af3a3a84024a19fa320fe)
"
openstack%2Fpuppet-tripleo~stable%2Fnewton~I8f075a5ad869ef0dc72a700dcb7be0b6efca787a,openstack/puppet-tripleo,stable/newton,,I8f075a5ad869ef0dc72a700dcb7be0b6efca787a,WIP: fail hard if we detect that the neutron/nova/ceilometer host has changed,ABANDONED,2018-04-13 00:17:37.000000000,2018-07-03 15:39:44.000000000,,82,0,0,561079,a2872c6b557a6ce9cebdcedcefebfbca1e203822,5,2,1,4,8297,Sofer Athlan-Guyot,chem,"WIP: fail hard if we detect that the neutron/nova/ceilometer host has changed

Change-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a
(cherry picked from commit d089ca37155646b4664fb02299faff91e63398ed)
"
openstack%2Fpuppet-tripleo~stable%2Fnewton~Ieb9cf3c6a8373df288a73ff2dacfc9d0b09e675a,openstack/puppet-tripleo,stable/newton,bug/1738453,Ieb9cf3c6a8373df288a73ff2dacfc9d0b09e675a,Give horizon's stanza in haproxy a per-server cookie,ABANDONED,2018-03-06 16:46:10.000000000,2018-07-03 15:39:40.000000000,,10,6,0,550153,588560914939633cf39d3ecf7d345a73773969f5,5,2,1,1,20172,Michele Baldessari,michele,"Give horizon's stanza in haproxy a per-server cookie

Currently our haproxy.cfg stanza for horizon looks like the following:
server overcloud-controller-0.internalapi.localdomain 172.17.0.22:80 check cookie overcloud-controller-0 fall 5 inter 2000 rise 2
server overcloud-controller-1.internalapi.localdomain 172.17.0.25:80 check cookie overcloud-controller-0 fall 5 inter 2000 rise 2
server overcloud-controller-2.internalapi.localdomain 172.17.0.12:80 check cookie overcloud-controller-0 fall 5 inter 2000 rise 2

We need to make sure that the cookie is set the same as the server:
server overcloud-controller-0.internalapi.localdomain 172.17.0.22:80 check cookie overcloud-controller-0.internalapi.localdomain fall 5 inter 2000 rise 2
server overcloud-controller-1.internalapi.localdomain 172.17.0.25:80 check cookie overcloud-controller-1.internalapi.localdomain fall 5 inter 2000 rise 2
server overcloud-controller-2.internalapi.localdomain 172.17.0.12:80 check cookie overcloud-controller-2.internalapi.localdomain fall 5 inter 2000 rise 2

The problem here is that the cookie is being inserted into the response
by haproxy so that we have session persistence. When logging to horizon
we want the session to be persistent and go to the same backend server.
When haproxy sees a match for the cookie, it does just that. The cookie
value will should match the server name. Prior to this fix
each server was matching on the same cookie ($::hostname) which is not
correct.

Tested by connecting to horizon's VIP and shutting off horizon on each
controller node one at the time. Observed that after each stop, the
correct cookie from the remaining servers was sent to the browser.

NB: it was not a straight cherry-pick due to missing change
I1a68771cc7be7fb2b32abbad81db7890bd2c5502 in ocata (missing
haproxy/horizon_endpoint.pp)

Backport tested by hand by applying this patch and observing that the
horizon stanza looks correct like in OSP13:
listen horizon
  bind 10.0.0.9:80 transparent
  bind 172.17.0.15:80 transparent
  mode http
  cookie SERVERID insert indirect nocache
  option forwardfor
  option httpchk
  server overcloud-controller-0.internalapi.localdomain 172.17.0.17:80 check cookie overcloud-controller-0.internalapi.localdomain fall 5 inter 2000 rise 2
  server overcloud-controller-1.internalapi.localdomain 172.17.0.19:80 check cookie overcloud-controller-1.internalapi.localdomain fall 5 inter 2000 rise 2
  server overcloud-controller-2.internalapi.localdomain 172.17.0.25:80 check cookie overcloud-controller-2.internalapi.localdomain fall 5 inter 2000 rise 2

Closes-Bug: #1738453
Change-Id: Ieb9cf3c6a8373df288a73ff2dacfc9d0b09e675a
(cherry picked from commit a6bffe1386913def005a3e70f8475073062601ab)
"
openstack%2Ftripleo-heat-templates~stable%2Fnewton~I168ffd25bc954f962cadfab8e2927eb326bb58e7,openstack/tripleo-heat-templates,stable/newton,,I168ffd25bc954f962cadfab8e2927eb326bb58e7,FFU: add plan-environment.yaml to allow deployment on master,ABANDONED,2017-12-18 11:14:05.000000000,2018-07-03 15:39:21.000000000,,8,0,0,528693,1263ee06f25e4b8d3774909bb2400c8a5f3fca74,9,7,1,1,11166,Lukas Bezdicka,xbezdick,"FFU: add plan-environment.yaml to allow deployment on master

For FastForwardUpgrades we need to be able to deploy stable/newton
from undercloud deployed on master.

Change-Id: I168ffd25bc954f962cadfab8e2927eb326bb58e7
"
openstack%2Fdevstack~master~I423230cc5cbb13d2cfb7b926a9571a8157ce5c46,openstack/devstack,master,horizon-django-pkg,I423230cc5cbb13d2cfb7b926a9571a8157ce5c46,Remove old packages from rpms/horizon,MERGED,2018-06-22 05:20:10.000000000,2018-07-03 15:36:50.000000000,2018-07-03 15:36:49.000000000,0,2,0,577347,2f5771541209b6016c07c25d6808e1e3162f9d3b,18,7,1,1,7118,Ian Wienand,iwienand,"Remove old packages from rpms/horizon

I'm not sure what the history of the (capital-D) Django package or
pyxattr; they've been there for a long time and should just be
installed like other dependencies these days.

Change-Id: I423230cc5cbb13d2cfb7b926a9571a8157ce5c46
"
openstack%2Fpython-tripleoclient~master~I7b35bc0525b599950a7fa0e58caeffcedb6bd18b,openstack/python-tripleoclient,master,,I7b35bc0525b599950a7fa0e58caeffcedb6bd18b,Replace 'raise StopIteration' with 'return',MERGED,2018-06-29 10:27:07.000000000,2018-07-03 15:26:39.000000000,2018-07-03 15:26:39.000000000,1,1,0,579116,9f3cbf7706e98a33fa6006f2468c7d1fe3b161d5,16,7,1,1,9712,Dougal Matthews,dougal,"Replace 'raise StopIteration' with 'return'

With PEP 479, the behaviour of StopIteration is changing. Raising it to
stop a generator is considered incorrect and from Python 3.7 this will
cause a RuntimeError. The PEP recommends using the return statement.

More details: https://www.python.org/dev/peps/pep-0479/#examples-of-breakage

Change-Id: I7b35bc0525b599950a7fa0e58caeffcedb6bd18b
"
openstack%2Fcinder~master~I66ec74e1396f4fa42fd855988265990a535c333b,openstack/cinder,master,bug/1766965,I66ec74e1396f4fa42fd855988265990a535c333b,Reject any filter whose key contains non ascii character,MERGED,2018-04-26 08:07:53.000000000,2018-07-03 15:20:07.000000000,2018-07-03 14:42:54.000000000,26,2,2,564418,70969a64575d2ff83c5a6714982c38ca0689bd3d,163,50,6,2,23083,TommyLike,TommyLike,"Reject any filter whose key contains non ascii character

Since filter key will be recognized as the object attribute inside
Cinder, this change will disallow any filter whose key contains
non ascii character.

Change-Id: I66ec74e1396f4fa42fd855988265990a535c333b
Closes-Bug: #1766965
"
openstack%2Fopenstack-ansible-os_nova~stable%2Focata~Idc30671d3972cf2217c8f88b6a82ac43be4d1b78,openstack/openstack-ansible-os_nova,stable/ocata,bug/1776606-stable/ocata,Idc30671d3972cf2217c8f88b6a82ac43be4d1b78,Add qemu-kvm to package list for ubuntu-16.04,MERGED,2018-06-28 19:38:20.000000000,2018-07-03 15:13:05.000000000,2018-07-03 15:13:05.000000000,1,0,0,578978,bbba18ab60f7f04a441dde7a3ba6cd4875643b69,8,5,1,1,6816,Jesse Pretorius,jesse-pretorius,"Add qemu-kvm to package list for ubuntu-16.04

If installing a kvm host, qemu-kvm package might not be installed, which
can cause instances to not boot/live-migrate.
This explicitly tells to install qemu-kvm on ubuntu 16.04.

Change-Id: Idc30671d3972cf2217c8f88b6a82ac43be4d1b78
Closes-Bug: 1776606
(cherry picked from commit 2d3582819aec1e32f42b5c7abdb4bf4a8ad29bc9)
"
openstack%2Fopenstack-ansible-os_nova~stable%2Fpike~Idc30671d3972cf2217c8f88b6a82ac43be4d1b78,openstack/openstack-ansible-os_nova,stable/pike,bug/1776606-stable/pike,Idc30671d3972cf2217c8f88b6a82ac43be4d1b78,Add qemu-kvm to package list for ubuntu-16.04,MERGED,2018-06-28 19:38:11.000000000,2018-07-03 15:13:05.000000000,2018-07-03 15:13:05.000000000,1,0,0,578977,abaa68783cdadcc822f2367a34c9b5baee836230,9,5,1,1,6816,Jesse Pretorius,jesse-pretorius,"Add qemu-kvm to package list for ubuntu-16.04

If installing a kvm host, qemu-kvm package might not be installed, which
can cause instances to not boot/live-migrate.
This explicitly tells to install qemu-kvm on ubuntu 16.04.

Change-Id: Idc30671d3972cf2217c8f88b6a82ac43be4d1b78
Closes-Bug: 1776606
(cherry picked from commit 2d3582819aec1e32f42b5c7abdb4bf4a8ad29bc9)
"
openstack%2Foslo.i18n~master~I43565d0f5b89f0b6d438f88dab941688ee3aef5c,openstack/oslo.i18n,master,stestr,I43565d0f5b89f0b6d438f88dab941688ee3aef5c,Switch to stestr,MERGED,2018-07-03 02:44:54.000000000,2018-07-03 15:07:17.000000000,2018-07-03 15:07:17.000000000,8,11,2,579740,e690af4a3c2d6efd7afcde6d87196895030d7576,12,3,3,6,25903,Vu Cong Tuan,tuanvu,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I43565d0f5b89f0b6d438f88dab941688ee3aef5c
"
openstack%2Foslo.privsep~master~I06d7b72fcaa4ce1f8764fd51635ae8239ea649b2,openstack/oslo.privsep,master,stestr,I06d7b72fcaa4ce1f8764fd51635ae8239ea649b2,Switch to stestr,MERGED,2018-07-03 04:27:51.000000000,2018-07-03 15:04:37.000000000,2018-07-03 15:04:37.000000000,14,12,2,579760,58ecafb104834a527e23f7a4a160deb0838b5ab4,10,3,2,6,25903,Vu Cong Tuan,tuanvu,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I06d7b72fcaa4ce1f8764fd51635ae8239ea649b2
"
openstack%2Foslo.cache~master~I829d57082b4fb981dfab6ed0f976bb30f28b7901,openstack/oslo.cache,master,stestr,I829d57082b4fb981dfab6ed0f976bb30f28b7901,Switch to stestr,MERGED,2018-07-03 02:37:37.000000000,2018-07-03 15:02:55.000000000,2018-07-03 15:02:54.000000000,16,14,2,579737,03dc05dec34963efb5ae5cbc9cc420b6f21f152a,10,3,2,6,25903,Vu Cong Tuan,tuanvu,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I829d57082b4fb981dfab6ed0f976bb30f28b7901
"
openstack%2Foslo.rootwrap~master~Ibee9bd5c371f6f94131cccf093ec2100e258f411,openstack/oslo.rootwrap,master,stestr,Ibee9bd5c371f6f94131cccf093ec2100e258f411,Switch to stestr,MERGED,2018-07-03 06:30:17.000000000,2018-07-03 15:02:27.000000000,2018-07-03 15:02:27.000000000,14,11,3,579772,de7e0f0df2acf2e2827d98387417dc0c2ea263aa,10,3,2,6,25903,Vu Cong Tuan,tuanvu,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: Ibee9bd5c371f6f94131cccf093ec2100e258f411
"
openstack%2Fpuppet-ceph~master~I21a29ef103da4330951207af1373db7e55475c48,openstack/puppet-ceph,master,enable-py3,I21a29ef103da4330951207af1373db7e55475c48,Do not enable Epel repo in case of Fedora,MERGED,2018-06-26 16:36:11.000000000,2018-07-03 14:56:14.000000000,2018-07-03 14:56:14.000000000,1,1,0,578148,fd64982c1f73471d6fd7dce42ac1e475a83fb824,9,5,1,1,13861,yatin,yatinkarel,"Do not enable Epel repo in case of Fedora

Epel repos are not meant for CentOS/RHEL, Fedora
has it's own set of packages. So do not enable epel
repo with Fedora.

Change-Id: I21a29ef103da4330951207af1373db7e55475c48
"
openstack%2Foslo.limit~master~I4357350b3ad442658ef872c295dbe734a0f2cc9b,openstack/oslo.limit,master,,I4357350b3ad442658ef872c295dbe734a0f2cc9b,Convert tox.ini to using stestr,MERGED,2018-07-02 20:55:13.000000000,2018-07-03 14:45:16.000000000,2018-07-03 14:45:15.000000000,2,1,0,579685,e5d6b14534fa682bbc507aadbf784ad0defe4424,8,4,1,2,5046,Lance Bragstad,ldbragst,"Convert tox.ini to using stestr

With the upgrade to oslotest 3.6.0 [0], testr no longer works [1].
This is because oslotest no longer requires testr and we don't depend
on it directly in oslo.limit.

[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431
[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2

Change-Id: I4357350b3ad442658ef872c295dbe734a0f2cc9b
"
openstack%2Fneutron-lbaas~master~I660f2cc915819a6181bfc25145bc567bf981bc53,openstack/neutron-lbaas,master,,I660f2cc915819a6181bfc25145bc567bf981bc53,Re-enable KVM,MERGED,2018-06-29 16:36:11.000000000,2018-07-03 14:43:32.000000000,2018-07-03 14:43:32.000000000,1,1,0,579217,fd55125641c9458369842f72e1fc65060468ef5f,16,6,1,1,11628,Michael Johnson,johnsom,"Re-enable KVM

A recent kernel update in the nodepool images has resolved the issue
we were seeing with using KVM on some hosting providers.
This patch removes the exclusion for those hosting providers and
allows the neutron-lbaas gates to use KVM if it is available on the host.

Change-Id: I660f2cc915819a6181bfc25145bc567bf981bc53
"
openstack%2Foslo.reports~master~Id762418616487dfb0955675b7c50085b48307879,openstack/oslo.reports,master,stestr,Id762418616487dfb0955675b7c50085b48307879,Switch to stestr,MERGED,2018-07-03 06:26:05.000000000,2018-07-03 14:42:44.000000000,2018-07-03 14:42:44.000000000,7,11,2,579771,8d49f913495d3440ba841ac68d39de14e0671f37,10,3,2,6,25903,Vu Cong Tuan,tuanvu,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: Id762418616487dfb0955675b7c50085b48307879
"
openstack%2Fceilometer~master~Ic8d1a0c56e4bfd04d468c9f4a38236d29f4fe4f8,openstack/ceilometer,master,remove-dispatcher-options,Ic8d1a0c56e4bfd04d468c9f4a38236d29f4fe4f8,Remove deprecated gnocchi_dispatcher option group,MERGED,2018-06-14 08:28:30.000000000,2018-07-03 14:35:00.000000000,2018-07-03 14:35:00.000000000,8,32,1,575368,c567258979064d4a6e82057f68587b184ee939aa,12,4,3,3,1669,Julien Danjou,jdanjou,"Remove deprecated gnocchi_dispatcher option group

Change-Id: Ic8d1a0c56e4bfd04d468c9f4a38236d29f4fe4f8
"
openstack%2Fkuryr-kubernetes~master~Ia75ef8478522c51e2879c8001bf5c6a0778fa89e,openstack/kuryr-kubernetes,master,test-object-versions,Ia75ef8478522c51e2879c8001bf5c6a0778fa89e,Test Objects Module,ABANDONED,2018-07-03 12:53:01.000000000,2018-07-03 14:21:53.000000000,,79,0,0,579857,51c36a3c07e933afcc4e20ea51c007dd5fdbb336,4,0,3,1,28562,Emilio Garcia,egarcia,"Test Objects Module

Adds a test case that checks the versions of all kuryr objects. This makes sure
that when an object is modified, its version is bumped.

Change-Id: Ia75ef8478522c51e2879c8001bf5c6a0778fa89e
"
openstack%2Fmanila~stable%2Fpike~I95e99b26f416bbf25cfd1c8f7295f3ba6220efb3,openstack/manila,stable/pike,bug/1776947-stable/queens-stable/pike,I95e99b26f416bbf25cfd1c8f7295f3ba6220efb3,Remove confusing DB deprecation messages,MERGED,2018-06-18 18:16:37.000000000,2018-07-03 14:19:05.000000000,2018-07-03 14:19:05.000000000,10,12,0,576227,77db1b7889957e012dbd08bc63aa1f6d29f01221,20,10,2,2,9003,Tom Barron,tbarron,"Remove confusing DB deprecation messages

When share instances were introduced a number of fields
were moved in the database model to the underlying share instance
and proxied back to the share in order to maintain compatability
with APIs that assume these to belong to the share.  A deprecation
warning was added for these.  The warning spams the API log and
confuses end users because it sounds like they or their client
should make a change to get rid of them and that cannot actually
be done.  The API would have to change to expose share instances
to end users rather than just administrators and that is not
something that we plan to do.

Remove these confusing warnings.

Closes-Bug: #1776947

Depends-On: https://review.openstack.org/578558
Change-Id: I95e99b26f416bbf25cfd1c8f7295f3ba6220efb3
(cherry picked from commit 8bdbbd86ae8efe05950ad0651c40aa17c8ec71c7)
(cherry picked from commit 0c182bca8671dff0296899eef05ac0c473b1a115)
"
openstack%2Ftripleo-specs~master~I24f373ffbbda09bd5247f29b6b38ce4bd18fccb3,openstack/tripleo-specs,master,priv-mgmt,I24f373ffbbda09bd5247f29b6b38ce4bd18fccb3,[WIP] Spec for improved privilege escalation in py-scripts,MERGED,2018-06-06 12:56:08.000000000,2018-07-03 14:13:59.000000000,2018-07-02 08:59:15.000000000,178,0,14,572761,a9924accdc0869084e812dac8f6fbed02bca527f,33,10,9,2,17893,Luke Hinds,lhinds,"[WIP] Spec for improved privilege escalation in py-scripts

In order to avoid a widely open sudo for a bunch of
users, we must take care of the way privilege escalation
is done in our python script as well as shell calls.

This spec takes care of the ""python"" aspect of this issue.

Change-Id: I24f373ffbbda09bd5247f29b6b38ce4bd18fccb3
Co-Authored-By: Luke Hinds <lhinds@redhat.com>
Blueprint: improve-privilege-mgmt-in-tripleo
"
openstack%2Foslo.db~master~Iccda37a3279d6f24de69cfccef3e29787f1ac694,openstack/oslo.db,master,bug/1684329,Iccda37a3279d6f24de69cfccef3e29787f1ac694,Add 'save_and_reraise_exception' method when call 'session.rollback()',MERGED,2017-05-08 03:14:17.000000000,2018-07-03 14:10:36.000000000,2017-07-05 11:32:54.000000000,29,6,2,463224,bee339d79c8ac318573fd54229d99e64fd27617a,21,5,6,2,23983,D G Lee,DG,"Add 'save_and_reraise_exception' method when call 'session.rollback()'

Maybe we need to know the original exception when exception occurs on 
method 'session.rollback()'.

Change-Id: Iccda37a3279d6f24de69cfccef3e29787f1ac694
Closes-Bug: #1684329
"
openstack%2Foslo.db~master~Iea834429a0b8398f076b10426525a5c17dbf3c85,openstack/oslo.db,master,caused_during_handling_2,Iea834429a0b8398f076b10426525a5c17dbf3c85,Memoize sys.exc_info() before attempting a savepoint rollback,MERGED,2016-06-13 22:56:53.000000000,2018-07-03 14:10:30.000000000,2016-07-29 01:58:30.000000000,116,5,9,329215,60b5b14988b2986c161e6a25dc5030a31d41728b,55,6,10,3,11816,mike_mp@zzzcomputing.com,zzzeek,"Memoize sys.exc_info() before attempting a savepoint rollback

This presents a system of reporting the ultimate ""cause"" in the
case that a MySQL failed SAVEPOINT rollback occurs.

Change-Id: Iea834429a0b8398f076b10426525a5c17dbf3c85
"
openstack%2Fopenstack-ansible-os_nova~master~Iff373b5402c664206b940b8e95a0b8845050213b,openstack/openstack-ansible-os_nova,master,bp/openstack-distribution-packages,Iff373b5402c664206b940b8e95a0b8845050213b,Add support for using distribution packages for OpenStack services,MERGED,2018-05-10 09:17:26.000000000,2018-07-03 14:09:56.000000000,2018-07-03 14:09:56.000000000,576,268,1,567530,1deb3b5a26d9983fdf11ef12b414bbe24c580ea5,57,16,21,20,23163,Markos Chandras (hwoarang),mchandras,"Add support for using distribution packages for OpenStack services

Distributions provide packages for the OpenStack services so we add
support for using these instead of the pip ones.

Depends-On: https://review.openstack.org/#/c/579151/
Depends-On: https://review.openstack.org/#/c/579071/
Change-Id: Iff373b5402c664206b940b8e95a0b8845050213b
Implements: blueprint openstack-distribution-packages
"
openstack%2Fkolla-ansible~master~I1b0e1df0e91b7a4abc408ee4b0852e1278e441ef,openstack/kolla-ansible,master,,I1b0e1df0e91b7a4abc408ee4b0852e1278e441ef,Only start tgtd when cinder_iscsi_helper=tgtadm,MERGED,2018-05-02 19:55:42.000000000,2018-07-03 14:09:49.000000000,2018-07-03 14:09:49.000000000,1,0,0,565889,4423f25d84d3a6449b938c6aacfbcf4cef92ea28,17,10,2,1,1390,Paul Bourke,pauldbourke,"Only start tgtd when cinder_iscsi_helper=tgtadm

Change-Id: I1b0e1df0e91b7a4abc408ee4b0852e1278e441ef
"
openstack%2Ftripleo-ci~master~I6272be2e4c3195862060ff1a48604129c6391d9a,openstack/tripleo-ci,master,refstack-support,I6272be2e4c3195862060ff1a48604129c6391d9a,[DNM] testing FS055,ABANDONED,2018-06-04 11:08:11.000000000,2018-07-03 13:52:54.000000000,,1,0,0,572078,4726d990c95fff5ca4f2fa6af887986b1eb46f21,13,3,1,1,12393,chandan kumar,chkumar246,"[DNM] testing FS055

Change-Id: I6272be2e4c3195862060ff1a48604129c6391d9a
"
openstack%2Fopenstack-ansible-ops~master~Ib90f4c54636371b38d37e588ef6f7ba259fbe1b3,openstack/openstack-ansible-ops,master,ceph_detect,Ib90f4c54636371b38d37e588ef6f7ba259fbe1b3,Improve metricbeat Ceph detection,MERGED,2018-06-21 21:07:32.000000000,2018-07-03 13:49:47.000000000,2018-07-03 13:49:47.000000000,28,2,0,577300,14182c142ee27b08f0a0b49dc352f2a4a0f60a35,16,3,2,2,25023,Jonathan Rosser,jrosser,"Improve metricbeat Ceph detection

When Ceph is deployed by OSA ceph_mons is a list of addresses
of the mons on the storage network populated from the OSA inventory.

When Ceph is deployed outside of OSA, ceph_mons is provided by
the deployer as a pointer to the mon addresses for integration.

To cover both these cases, the only OSA hosts in the control plane
which are guaranteed to be able to access the Ceph mons and the ELK
stack are those in the cinder_volumes host group.

This change configures metricbeat on the cinder_volumes hosts to
collect data from the ceph REST API on the mon hosts when possible.
Otherwise, collection is attempted from all hosts which have a
/etc/ceph directory.

Change-Id: Ib90f4c54636371b38d37e588ef6f7ba259fbe1b3
"
openstack%2Fkolla-ansible~master~I50c5eb97be1123b76b1d42fbb25a0ecbaa2c1a44,openstack/kolla-ansible,master,bp/mount-sources,I50c5eb97be1123b76b1d42fbb25a0ecbaa2c1a44,dev mode: Add support for blazar,MERGED,2018-06-26 02:55:03.000000000,2018-07-03 13:48:25.000000000,2018-07-03 13:48:25.000000000,24,4,3,577961,8da93792698c3ec1d7bd5c359600ef97856fdc90,13,5,3,6,26285,wu.chunyang,wu.chunyang,"dev mode: Add support for blazar

Provide support for kolla dev mode in blazar. When
'kolla_dev_mode' or 'blazar_dev_mode' variables are
enabled, source code of blazar project will be  cloned
and mounted automatically

Partially implements: blueprint mount-sources

Change-Id: I50c5eb97be1123b76b1d42fbb25a0ecbaa2c1a44
"
openstack%2Fnova~master~Idd85d2f19b434fd0eb522d4ca6cae6d5ca9e14af,openstack/nova,master,bp/json-schema-for-versioned-notifications,Idd85d2f19b434fd0eb522d4ca6cae6d5ca9e14af,Validate payload jsonschema in notification test,ABANDONED,2017-01-10 12:35:23.000000000,2018-07-03 13:46:22.000000000,,13,0,0,418366,68e26b94f5626888ef1b481883c21232d1657d0b,10,7,1,1,9708,Balazs Gibizer,gibi,"Validate payload jsonschema in notification test

The ovo lib now supports to_json_schema() call to provide the schema of
any ovo. We can use this to validate the payload of the versioned notification
agains the schema of the notification payload class.

Implements: bp json-schema-for-versioned-notifications
Change-Id: Idd85d2f19b434fd0eb522d4ca6cae6d5ca9e14af
"
openstack%2Fcinder~master~Icfb3843d8917970797b246b99332ff6a12cef63d,openstack/cinder,master,short-circuit-notifications,Icfb3843d8917970797b246b99332ff6a12cef63d,Improve notification short-circuit,ABANDONED,2017-03-06 16:18:26.000000000,2018-07-03 13:45:45.000000000,,14,27,4,442016,51fe35ed3009822429e6cf694e8b3ecf8d4280cb,249,62,14,5,9708,Balazs Gibizer,gibi,"Improve notification short-circuit

Until now Cinder was depenedent on the configuration of oslo messaging
to short circuit the notification sending. This patch replaces the
dependency with the new Notifier.is_enabled() function call introduced
recently in oslo.messaging.

This patch reverts the optimization in rpc.init(). This means just an
one time preformance loss at the start of each service as every
subsequent get_notifier call is already skipped with by
if_notifications_enabled decorator if the notifications are not enabled.
This was necessary as we need a Notifier object first to be able to
decide if the notifications are enabled on that Notifier or not.

Change-Id: Icfb3843d8917970797b246b99332ff6a12cef63d
Depends-On: Ib992f5c20fef85224fb00823e1d8d9c6cff19bec
Depends-On: I094b3bf09b6c19a48e31ba868556867705b47abc
"
openstack%2Freleases~master~Ic49828bbf16d3e620615c06deac358c7cb1e4558,openstack/releases,master,cliff-rocky,Ic49828bbf16d3e620615c06deac358c7cb1e4558,Release cliff 2.13.0,MERGED,2018-07-02 22:15:16.000000000,2018-07-03 13:43:04.000000000,2018-07-03 13:43:04.000000000,4,0,0,579703,caaec721823725d7f999e9c0dc5aaa6af86899dd,6,2,1,1,970,Dean Troyer,dtroyer,"Release cliff 2.13.0

Change-Id: Ic49828bbf16d3e620615c06deac358c7cb1e4558
"
openstack%2Freleases~master~I81f3f01ef75bcec0cd19f3ab0998b6367a3194ce,openstack/releases,master,cliff-queens,I81f3f01ef75bcec0cd19f3ab0998b6367a3194ce,Release cliff 2.11.1 for queens,MERGED,2018-07-02 22:17:11.000000000,2018-07-03 13:41:57.000000000,2018-07-03 13:41:57.000000000,4,0,0,579704,ba2a3bdf3a4e3129f433594f23f89b962b014722,6,2,1,1,970,Dean Troyer,dtroyer,"Release cliff 2.11.1 for queens

Change-Id: I81f3f01ef75bcec0cd19f3ab0998b6367a3194ce
"
openstack%2Freleases~master~I6be0224ca88fe681f1d4151f4178385cf8497089,openstack/releases,master,cliff-pike,I6be0224ca88fe681f1d4151f4178385cf8497089,Release cliff 2.8.2 for pike,MERGED,2018-07-02 22:18:39.000000000,2018-07-03 13:41:56.000000000,2018-07-03 13:41:56.000000000,4,0,0,579705,72927ac76ae62355a6656621f405f922a890b64c,6,2,1,1,970,Dean Troyer,dtroyer,"Release cliff 2.8.2 for pike

Change-Id: I6be0224ca88fe681f1d4151f4178385cf8497089
"
openstack%2Fpython-tripleoclient~stable%2Fpike~Idcf0039d4918253092850a82c36702de4e4f3be7,openstack/python-tripleoclient,stable/pike,bug/1767379,Idcf0039d4918253092850a82c36702de4e4f3be7,"Add --stack to update, upgrade and ffwd-upgrade 'run' CLI.",ABANDONED,2018-06-27 17:08:24.000000000,2018-07-03 13:40:12.000000000,,6,8,0,578489,622964bdcaa996c6848b42e3baee2ae659c062ff,14,4,2,2,9592,wes hayutin,weshayutin,"Add --stack to update, upgrade and ffwd-upgrade 'run' CLI.

We need to be able to define the stack name if it
is different than 'overcloud', for the ansible inventory
used with the upgrade playbooks.

(cherry picked from commit 5181d8af5f5431d629b46a5b71444b67140cb44c)
(cherry picked from commit 01f5fd25aaee64a215dec087539041fb5d36ac6a)
Closes-Bug: 1767379

Change-Id: Idcf0039d4918253092850a82c36702de4e4f3be7
"
openstack%2Fpuppet-ceph~stable%2Fluminous~Iccee3d8d1807cbbdc3d2d2687cecacc00cd2343d,openstack/puppet-ceph,stable/luminous,create-luminous,Iccee3d8d1807cbbdc3d2d2687cecacc00cd2343d,Update UPPER_CONSTRAINTS_FILE for stable/luminous,MERGED,2018-06-28 20:45:27.000000000,2018-07-03 13:32:05.000000000,2018-07-03 13:32:05.000000000,10,11,0,579000,0759c273a692edfd365618835153ffbdde98dbcb,13,4,3,3,22816,OpenStack Release Bot,release,"Update UPPER_CONSTRAINTS_FILE for stable/luminous

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Iccee3d8d1807cbbdc3d2d2687cecacc00cd2343d
"
openstack%2Fopenstack-helm~master~If27fb360d107af5d6423b0995b5fd6a21d4e8754,openstack/openstack-helm,master,mariadb,If27fb360d107af5d6423b0995b5fd6a21d4e8754,[WIP] etcd mariadb,ABANDONED,2017-12-05 20:56:24.000000000,2018-07-03 13:25:15.000000000,,451,28,2,525752,aaf519c7e04d82fea3e54024fe01fea1e43975e6,11,6,2,7,14119,Sam Yaple,SamYaple,"[WIP] etcd mariadb

Co-Authored-By: Pete Birley <pete@port.direct>

Change-Id: If27fb360d107af5d6423b0995b5fd6a21d4e8754
"
openstack%2Fopenstack-helm-infra~master~Ic31748d670564b184273f2204f4b1c0b8d335b58,openstack/openstack-helm-infra,master,fix_petes_mistakes,Ic31748d670564b184273f2204f4b1c0b8d335b58,[WIP] gatey things,ABANDONED,2018-02-28 23:56:50.000000000,2018-07-03 13:25:11.000000000,,8,14,0,548725,0e4e448d4ff1fdb7295b03f84492596d1cb31e4d,4,3,1,1,14119,Sam Yaple,SamYaple,"[WIP] gatey things

Change-Id: Ic31748d670564b184273f2204f4b1c0b8d335b58
"
openstack%2Fopenstack-ansible-os_tempest~master~I40af74537c41260323961a278c17fe58350a34b5,openstack/openstack-ansible-os_tempest,master,osa-pti,I40af74537c41260323961a278c17fe58350a34b5,Add Ubuntu Bionic 18.04 support,MERGED,2018-06-17 02:23:21.000000000,2018-07-03 13:19:09.000000000,2018-07-03 13:19:09.000000000,31,0,1,575956,83e6f3045cdf2fb3fd05c3fb318197d902274715,32,8,5,1,1004,Mohammed Naser,mnaser,"Add Ubuntu Bionic 18.04 support

Change-Id: I40af74537c41260323961a278c17fe58350a34b5
"
openstack%2Fopenstack-ansible-os_tempest~master~I995d4da20d592e519d990c38f47a5243e9575846,openstack/openstack-ansible-os_tempest,master,,I995d4da20d592e519d990c38f47a5243e9575846,Switch to using project-templates,MERGED,2018-06-22 19:38:02.000000000,2018-07-03 13:19:08.000000000,2018-07-03 13:19:07.000000000,2,15,0,577528,d05070bcb057db8ae36e46bdba9a33417d68628f,21,5,2,1,28521,Heba Naser,nheba,"Switch to using project-templates

In order to have more centralized configuration, switch the role
to use the project-template instead.

Depends-On: I3df2c670beeb78baaa1515bcd27e8f2b0d95b3a9
Change-Id: I995d4da20d592e519d990c38f47a5243e9575846
"
openstack%2Fkuryr-tempest-plugin~master~I8b5dd74b98f3fcb53ee40a0578a8a140e99136fc,openstack/kuryr-tempest-plugin,master,sync_zuul_jobs,I8b5dd74b98f3fcb53ee40a0578a8a140e99136fc,Sync zuul projects with kuryr-kubernetes,MERGED,2018-07-03 10:54:56.000000000,2018-07-03 13:08:23.000000000,2018-07-03 13:08:23.000000000,13,11,0,579841,1e21c050cc6d7c6259d7ad79aab9762769ebc3f2,10,4,1,1,14885,Daniel Mellado,daniel-mellado,"Sync zuul projects with kuryr-kubernetes

This commit syncs the pipeline jobs with the main kuryr-kubernetes
project.

Change-Id: I8b5dd74b98f3fcb53ee40a0578a8a140e99136fc
"
openstack%2Foslo.config~master~Ide3748e67d14191b6b33c97c7d8437e4888e61d5,openstack/oslo.config,master,bug/1763239,Ide3748e67d14191b6b33c97c7d8437e4888e61d5,Make List option format bounds-sensitive,MERGED,2018-04-12 02:51:50.000000000,2018-07-03 13:07:36.000000000,2018-04-16 03:04:09.000000000,18,2,0,560716,a69701c495947a2bbe618e71e20d6203977a6943,14,4,1,2,5314,Brian Rosmaita,brian-rosmaita,"Make List option format bounds-sensitive

The List ConfigType has a boolean 'bounds' option that indicates
whether the value must be enclosed in brackets.  This patch modifies
the List formatter so that when bounds=True the output is displayed
in enclosing brackets.

Change-Id: Ide3748e67d14191b6b33c97c7d8437e4888e61d5
Closes-bug: #1763239
"
openstack%2Fmonasca-api~master~Ibb8cba96f62ac5580cd7b74bf6f2751efa66cd90,openstack/monasca-api,master,goal-python35,Ibb8cba96f62ac5580cd7b74bf6f2751efa66cd90,Python 3.5: Fix alarms repository,MERGED,2018-06-11 08:17:58.000000000,2018-07-03 13:05:59.000000000,2018-07-03 13:05:59.000000000,43,36,4,574160,dd99ad56a216a2cca0717d54654ca0202c2e6652,22,7,5,2,26141,Adrian Czarnecki,czarneckia,"Python 3.5: Fix alarms repository

Fix python3 unit test for alarms reposiotry.

Change-Id: Ibb8cba96f62ac5580cd7b74bf6f2751efa66cd90
"
openstack%2Fmonasca-api~master~I98789e858470eb9ff77413218dc51d76c210be3a,openstack/monasca-api,master,goal-python35,I98789e858470eb9ff77413218dc51d76c210be3a,Python 3.5: Fix alarm definitions repository,MERGED,2018-05-28 08:15:18.000000000,2018-07-03 13:05:58.000000000,2018-07-03 13:05:58.000000000,34,22,6,570743,b7c9b7ae6d86853363bd72299fcbb043e97b192d,46,7,9,2,26141,Adrian Czarnecki,czarneckia,"Python 3.5: Fix alarm definitions repository

Change-Id: I98789e858470eb9ff77413218dc51d76c210be3a
"
openstack%2Fpython-mistralclient~stable%2Fpike~Ie25fd46e64ef21f96713ec65f49aac9c299b6ae2,openstack/python-mistralclient,stable/pike,bug/1769491-stable/pike,Ie25fd46e64ef21f96713ec65f49aac9c299b6ae2,Make python3 basepython for docs job,ABANDONED,2018-06-29 14:43:34.000000000,2018-07-03 13:00:28.000000000,,1,0,0,579179,80567b05ab0407c2be781dda058bb306aa8becfe,3,1,1,1,7065,Brad P. Crochet,bcrochet,"Make python3 basepython for docs job

Change-Id: Ie25fd46e64ef21f96713ec65f49aac9c299b6ae2
"
openstack%2Fopenstack-helm~master~I28bd9e2c2ebc22ca9c4319970c657298281e28d2,openstack/openstack-helm,master,glance/swift,I28bd9e2c2ebc22ca9c4319970c657298281e28d2,Gate: Update armada manifests to delete all release jobs on upgrade,MERGED,2018-07-02 11:21:43.000000000,2018-07-03 12:57:43.000000000,2018-07-03 12:57:43.000000000,137,167,0,579519,d2434c26bd48f9f5ffc3e17848fe539dd3c77f46,10,6,2,4,23928,Pete Birley,portdirect,"Gate: Update armada manifests to delete all release jobs on upgrade

This PS updates the armada manifests to delete all jobs for a release
via the `release_group` label. It also extends this to cover charts that
do not currently have jobs contained, to allow simple future expansion
of services.

Change-Id: I28bd9e2c2ebc22ca9c4319970c657298281e28d2
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fmanila-specs~master~I0690e900cb354727b786032fc456eed25a72c3b8,openstack/manila-specs,master,python3-first,I0690e900cb354727b786032fc456eed25a72c3b8,fix tox python3 overrides,MERGED,2018-07-03 07:49:39.000000000,2018-07-03 12:50:49.000000000,2018-07-03 12:50:49.000000000,3,0,0,579798,95cbd02299712ff5ea7b4d27df87243dd9747872,7,5,1,1,19853,Nguyen Hung Phuong,phuongnh,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I0690e900cb354727b786032fc456eed25a72c3b8
"
openstack%2Fkolla-ansible~master~I3d1c7cb2de9fedecdf9ad8744f6589c6f3f83ece,openstack/kolla-ansible,master,bug/1770660,I3d1c7cb2de9fedecdf9ad8744f6589c6f3f83ece,Fix default value logic of 'glance_backend_file' variable,MERGED,2018-05-11 15:06:20.000000000,2018-07-03 12:44:33.000000000,2018-07-03 12:44:33.000000000,3,2,0,567873,8bfb7897903a495a98a6aa59ae1149964e9c0e20,13,8,1,1,13671,Vladislav Belogrudov,vb,"Fix default value logic of 'glance_backend_file' variable

glance_backend_file should be set to 'yes' if no other backends
are enabled. In all-Ceph clusters the best choice of backend is
Ceph. In non-Ceph clusters if Swift is enabled the latter is the
next best choice for Glance. With this fix default backend is
configured automatically and helps avoid non-ha file backend
issues after deployment.

Change-Id: I3d1c7cb2de9fedecdf9ad8744f6589c6f3f83ece
Closes-Bug: #1770660
"
openstack%2Ftripleo-common~master~Id82de41e7a49c2d8124fc74125ed51031579aa80,openstack/tripleo-common,master,bp/multiarch-support,Id82de41e7a49c2d8124fc74125ed51031579aa80,Allow platform in instackenv.json,MERGED,2018-01-19 06:07:59.000000000,2018-07-03 12:37:49.000000000,2018-07-03 12:37:48.000000000,63,1,10,535614,89cefb9ef4d09a867931dbadb37362b6c6adb436,27,9,3,2,12898,Tony Breeds,tonyb,"Allow platform in instackenv.json

We'll store that as /extra/tripleo_platform so we can later refer to it.

Blueprint: multiarch-support
Change-Id: Id82de41e7a49c2d8124fc74125ed51031579aa80
"
openstack%2Ftripleo-common~master~I6c72b03512a0815326a1b62bc88231b17340c45f,openstack/tripleo-common,master,bp/multiarch-support,I6c72b03512a0815326a1b62bc88231b17340c45f,IPMI doesn't mandate a username or password so tripleo shouldn't either,MERGED,2017-09-08 03:32:36.000000000,2018-07-03 12:37:47.000000000,2018-07-03 12:37:47.000000000,20,4,14,501937,ca290cf4afcfcabd3e678fdba9e0099cc477739d,41,10,5,2,12898,Tony Breeds,tonyb,"IPMI doesn't mandate a username or password so tripleo shouldn't either

Give driver types a little more flexibility in defining which fields are
mandated.

Blueprint: multiarch-support
Related-Bug: 1715787
Change-Id: I6c72b03512a0815326a1b62bc88231b17340c45f
"
openstack%2Ftripleo-heat-templates~master~I2561a35c54e0137f5420de4403e5e20dd08afd28,openstack/tripleo-heat-templates,master,gnocchi-auth,I2561a35c54e0137f5420de4403e5e20dd08afd28,Fix gnocchi auth mode to basic,MERGED,2018-06-18 19:49:49.000000000,2018-07-03 12:37:46.000000000,2018-07-03 12:37:46.000000000,4,4,0,576242,ddcca3c64be7ea9d946a8bb3994f38c89a8586b8,16,8,2,1,6924,Pradeep Kilambi,pkilambi,"Fix gnocchi auth mode to basic

There is no auth mode called simple. Fix the mode to
basic so it gets set corretcly when configured in
collectd.

Depends-On: I05632137ed12c59a41a5219189c431983935d461

Change-Id: I2561a35c54e0137f5420de4403e5e20dd08afd28
"
openstack%2Fpython-tripleoclient~master~Ia34f6da6006b1fc9b8075865ec4a666e86a32095,openstack/python-tripleoclient,master,bug/1778779,Ia34f6da6006b1fc9b8075865ec4a666e86a32095,Drop example in config file comments,MERGED,2018-06-26 19:02:45.000000000,2018-07-03 12:37:45.000000000,2018-07-03 12:37:45.000000000,6,20,0,578172,c4701f8b68447af3be8bb75a393cf753349b476c,13,6,3,1,24245,Harald Jensås,harald.jensas,"Drop example in config file comments

There have been some reports of users misinterpreting
where to place configuration for the provisining subnets
in undercloud.conf. The example text for the subnets leads
to users adding the subnets section directly after the
subnets option. I.e in the middle of the DEFAULT section
of the ini file.

This change drops the example. The ctlplane-subnet section
is there as an example already.

Related-Bug: rhbz1585497
Related-Bug: #1778779
Change-Id: Ia34f6da6006b1fc9b8075865ec4a666e86a32095
"
openstack%2Fkolla-ansible~master~Idcc2428b9080bee1afa9ef83bc3c5e5c89ca0ee9,openstack/kolla-ansible,master,fix_prechecks,Idcc2428b9080bee1afa9ef83bc3c5e5c89ca0ee9,fix freezer prechecks,MERGED,2018-06-24 09:59:36.000000000,2018-07-03 12:37:06.000000000,2018-07-03 12:37:06.000000000,2,1,4,577642,b42508ff43fe03ac2059d692eeb706ef754b9e0f,20,9,4,1,26285,wu.chunyang,wu.chunyang,"fix freezer prechecks

the value of {{ freezer_services.keys() }} is freezer-api and
freezer-scheduler ,but we just need freezer_api,not freezer-api and
freezer-scheduler

Change-Id: Idcc2428b9080bee1afa9ef83bc3c5e5c89ca0ee9
"
openstack%2Fkolla-ansible~master~I5983f9c7fd3859d60741dfd23ad10dfd91872eeb,openstack/kolla-ansible,master,bug/1701313,I5983f9c7fd3859d60741dfd23ad10dfd91872eeb,fixed destroy confirmation no properly evaluated,MERGED,2018-06-23 05:55:38.000000000,2018-07-03 12:36:56.000000000,2018-07-03 12:36:56.000000000,6,1,5,577609,8f156691ce1da72218c666c32f01607d8a55b07b,21,12,4,1,26355,yuqian,yuqian,"fixed destroy confirmation no properly evaluated

To destroy a kolla-ansible environment a confirmation string should be passed
along with kolla-ansible command: kolla-ansible destroy -i ~/multinode \
--yes-i-really-really-mean-it
However, this string is not evaluated right and just putting --y starts destroy
process: ./kolla-ansible destroy -i ~/multinode --y

Change-Id: I5983f9c7fd3859d60741dfd23ad10dfd91872eeb
Closes-Bug: #1701313
"
openstack%2Fpython-tripleoclient~master~I5fd6f57d8107e3c84933d0c7bf356c46011de019,openstack/python-tripleoclient,master,bug/1619350,I5fd6f57d8107e3c84933d0c7bf356c46011de019,Reduce number of mock in tests,MERGED,2018-06-28 10:00:02.000000000,2018-07-03 12:36:31.000000000,2018-07-03 12:36:31.000000000,50,86,0,578751,7df59bcab44d030dc557cc5a10d4d7eda5c49c99,12,5,2,1,11082,Kamil Sambor,ksambor,"Reduce number of mock in tests

Move mocks into setUp part of the code

Change-Id: I5fd6f57d8107e3c84933d0c7bf356c46011de019
Partial-Bug: 1619350
"
openstack%2Ftripleo-quickstart~master~I74c03ecaedaa8847c585814acf6249722b508dff,openstack/tripleo-quickstart,master,I74c03ecaedaa8847c585814acf6249722b508dff,I74c03ecaedaa8847c585814acf6249722b508dff,allow tq req to be installed w/o cache,MERGED,2018-07-01 16:38:18.000000000,2018-07-03 12:36:30.000000000,2018-07-03 12:36:30.000000000,11,2,0,579381,df55d3908d053b5b3a33d0dfa22ed7cbe65ea1b6,17,7,3,1,9592,wes hayutin,weshayutin,"allow tq req to be installed w/o cache

When the user specifies --clean the pip
cache dir should not be used.

Related-Bug: #1777896
Change-Id: I74c03ecaedaa8847c585814acf6249722b508dff
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I575c0d438a65ce24ee6cb75fec1b95a418e875b1,openstack/tripleo-heat-templates,stable/queens,bug/1779701,I575c0d438a65ce24ee6cb75fec1b95a418e875b1,Prevent Neutron L3 and Metadata agents from running when using OVN DVR.,MERGED,2018-07-02 14:37:18.000000000,2018-07-03 12:36:28.000000000,2018-07-03 12:36:28.000000000,12,0,0,579576,2dcd4af21e893990338524c6f934f4ae712acc95,9,5,1,6,23804,Daniel Alvarez,dalvarez,"Prevent Neutron L3 and Metadata agents from running when using OVN DVR.

When using the DVR OVN environments, Neutron metadata and L3 agents could
be left running on the overcloud compute nodes. This patch explicitly
nullifies the DVR versions of those Heat resources to ensure they are
disabled.

Closes-Bug: #1779701
Change-Id: I575c0d438a65ce24ee6cb75fec1b95a418e875b1
(cherry picked from commit cfe872ed4f889b6e891c7250cd394c25efb8ef27)
"
openstack%2Fkolla-ansible~master~I22b79a30f01c90a92ecc0974886edf3791518f2f,openstack/kolla-ansible,master,550579,I22b79a30f01c90a92ecc0974886edf3791518f2f,Create and use keystone_admin[project|user],MERGED,2018-03-07 19:40:46.000000000,2018-07-03 12:26:38.000000000,2018-07-03 12:26:38.000000000,20,13,2,550579,6a331d4e3742e43228ed16fba07f0d7913df29f3,39,14,8,3,1297,Joshua Harlow,harlowja,"Create and use keystone_admin[project|user]

It is not always convenient to use the the given
admin project and admin user; especially when some clouds
use different user and project for there keystone 'admin'

This allows setting the variables for these users to something
else, and defaults them to there current values of 'admin'.

Change-Id: I22b79a30f01c90a92ecc0974886edf3791518f2f
"
openstack%2Fnova~master~Ia3ca8a328794d0bfafd0a2b91251261fc87d6d4c,openstack/nova,master,use_testing_exception,Ia3ca8a328794d0bfafd0a2b91251261fc87d6d4c,Use nova.test.TestingException,MERGED,2018-06-13 07:39:16.000000000,2018-07-03 12:09:36.000000000,2018-06-29 05:44:24.000000000,12,28,0,575012,bdc1842e86d56afcb94926ff37ae4f01035e8b82,33,15,3,4,7634,Takashi Natsume,natsumet,"Use nova.test.TestingException

In nova/test.py,
the following exception class for testing is defined.

  class TestingException(Exception):
      pass

It is not necessary to define an exception class for testing
in each unit test files.

TrivialFix
Change-Id: Ia3ca8a328794d0bfafd0a2b91251261fc87d6d4c
"
openstack%2Fopenstack-ansible~master~I5a0db09b842b74aae0aec14415c5c07a9c594705,openstack/openstack-ansible,master,add-bootstrap-dev-fs-type-option,I5a0db09b842b74aae0aec14415c5c07a9c594705,Add option to change fs type on bootstrap device,MERGED,2018-05-04 12:17:34.000000000,2018-07-03 12:04:05.000000000,2018-07-03 12:04:05.000000000,16,6,4,566299,1e9c7b044f1fc37ff5b6f960b509b4a4bfa7a00c,34,8,6,3,19578,Olivier Bourdon,olivierbourdon38,"Add option to change fs type on bootstrap device

User can now choose to have a filesystem type different from
default ext4 by using:
export BOOTSTRAP_OPTS=""bootstrap_host_data_disk_fs_type=xfs""
for instance.

This may be usefull to get closer to new distributions defaults
(like Centos) which moved to xfs. Furthermore, xfs offers
several operational advantages over ext4.

Change-Id: I5a0db09b842b74aae0aec14415c5c07a9c594705
"
openstack%2Fopenstack-ansible~master~I6930c08c798f6d16aa205819ffa7f4f4038f575c,openstack/openstack-ansible,master,move-db-setup-into-roles,I6930c08c798f6d16aa205819ffa7f4f4038f575c,Move database creation into role (trove),MERGED,2018-06-28 16:04:23.000000000,2018-07-03 12:04:03.000000000,2018-07-03 12:04:03.000000000,6,15,0,578868,1b58c9dd6c667cdd4720949c3c0a4db5283921bb,15,5,1,2,6816,Jesse Pretorius,jesse-pretorius,"Move database creation into role (trove)

There is no record for why we implement the database creation outside
of the role in the playbook, when we could do it inside the role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we remove the group_vars which were duplicated from the
role, and remove the DB setup tasks as they are no longer required.

Depends-On: https://review.openstack.org/578867
Change-Id: I6930c08c798f6d16aa205819ffa7f4f4038f575c
"
openstack%2Ftripleo-ci~master~I83f38ed0879a414bf7f38a0e5d2dab0e3f3e6ed1,openstack/tripleo-ci,master,ci_pipelines,I83f38ed0879a414bf7f38a0e5d2dab0e3f3e6ed1,Add CI triggers for OC deploy jobs to depend on UC,ABANDONED,2018-05-15 09:06:33.000000000,2018-07-03 12:00:04.000000000,,138,46,3,568536,84d047c4d975d52eff91eefade8f81a20a137848,25,8,6,2,6926,Bogdan Dobrelya,bogdando,"Add CI triggers for OC deploy jobs to depend on UC

Do not run multinode overcloud deploy CI jobs, when undercloud
containers installation fails. It does not make any sense to burn
CI resources and block other jobs sitting in zuul queue to see
the same error in a 10 more places in the end.

We could expect the jobs time extended by ~80 min in average with
that change, but compensated by a shorter wait times in zuul queue.

Related upstream ML thread:
http://lists.openstack.org/pipermail/openstack-dev/2018-March/
127869.html

Change-Id: I83f38ed0879a414bf7f38a0e5d2dab0e3f3e6ed1
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fnova~master~I3edebfe436b3dd5ba6a7e4f0b07daa2447d4dfa2,openstack/nova,master,bp/libvirt-qemu-native-luks,I3edebfe436b3dd5ba6a7e4f0b07daa2447d4dfa2,libvirt: Add missing encryption_secret_uuid tests for pre_live_migration,MERGED,2018-02-04 22:02:45.000000000,2018-07-03 11:51:45.000000000,2018-06-29 13:17:04.000000000,108,72,18,540679,4c0fea8edcc00e88c216e02ea8afbff41f91e5eb,85,19,7,1,10135,Lee Yarwood,lyarwood,"libvirt: Add missing encryption_secret_uuid tests for pre_live_migration

This change updates the recently mox to mock converted pre LM tests for
volume backed instances to assert that a secret UUID is stashed on the
destination when connecting encrypted volumes.

is_shared_instance_path is now also set to True within these volume
based tests to avoid asserting the unrelated behaviour of creating the
instance directory during pre_live_migration.

Change-Id: I3edebfe436b3dd5ba6a7e4f0b07daa2447d4dfa2
"
openstack%2Fmetalsmith~master~I9e687d50b369402d36376e08496281d77afce215,openstack/metalsmith,master,validate,I9e687d50b369402d36376e08496281d77afce215,CI: try SSH into the deployed instances,MERGED,2018-06-21 11:38:27.000000000,2018-07-03 11:51:08.000000000,2018-07-03 11:51:08.000000000,47,1,0,577131,5cfaf5566d4d00c9ccbe14ffeaa461a246295f47,28,2,12,3,10239,Dmitry Tantsur,dtantsur,"CI: try SSH into the deployed instances

Raise the VM specs and fix the partition image building.

Change-Id: I9e687d50b369402d36376e08496281d77afce215
"
openstack%2Foctavia~master~Iaa4877f71e98689b7e92b3e2abb9d7da2c5ca521,openstack/octavia,master,story-2001944,Iaa4877f71e98689b7e92b3e2abb9d7da2c5ca521,Fix fields translation on filtering,MERGED,2018-07-02 13:35:12.000000000,2018-07-03 11:47:52.000000000,2018-07-03 11:32:23.000000000,19,8,0,579559,fd20d06896792681234bc3eebd64cf862442e75c,10,4,2,5,6469,Carlos Gonçalves,cgoncalves,"Fix fields translation on filtering

Filtering load balancers by VIP data would raise an internal server
error (500 HTTP) in octavia-api. This patch fixes that as well as pool
filtering by healthmonitor_id.

The patch also adds vip.qos_policy_id to the load balancer filtering
capabilities.

Story: 2001944
Task: 15061

Change-Id: Iaa4877f71e98689b7e92b3e2abb9d7da2c5ca521
"
openstack%2Ftacker~master~Ib98b667188fe3245a5ad4a140c0d3b2d3378ef84,openstack/tacker,master,bug/1778698,Ib98b667188fe3245a5ad4a140c0d3b2d3378ef84,Fix tox to run functional instead of unit tests,MERGED,2018-07-03 09:01:56.000000000,2018-07-03 11:43:53.000000000,2018-07-03 11:43:53.000000000,5,7,0,579821,7d0c22524ac8352a50af2e017eed4b5be28d4c31,7,4,1,1,20182,Bhagyashri Shewale,bhagyashris,"Fix tox to run functional instead of unit tests

Earlier tox -efunctional command was running unit tests
instead of functional.

This issue is fixed in this patch by explicitly pointing
to functional test code path.

Closes-Bug: #1778698
Change-Id: Ib98b667188fe3245a5ad4a140c0d3b2d3378ef84
"
openstack%2Fcinder~master~I82d741ea8278de75ed817379b0a04f1f919a27c7,openstack/cinder,master,bug/fix_invalide_status_error,I82d741ea8278de75ed817379b0a04f1f919a27c7,Keep volume's status in 'creating' when creating from backup,MERGED,2018-06-29 08:40:11.000000000,2018-07-03 11:26:07.000000000,2018-07-03 06:47:40.000000000,73,15,0,579097,a61677ffd56bf2c82ed561e073e931af77eb1931,59,29,2,4,23083,TommyLike,TommyLike,"Keep volume's status in 'creating' when creating from backup

When volume is created via restoring backup action, the volume
status would change into 'restoring-backup' from 'creating', this
state change would confusing end user. This patch updates this
and keep volume status in 'creating' when creating.

Change-Id: I82d741ea8278de75ed817379b0a04f1f919a27c7
"
openstack%2Fproject-config~master~I97fb242d68183255b2c956efa24b62cb1661cf5a,openstack/project-config,master,,I97fb242d68183255b2c956efa24b62cb1661cf5a,consolidate nova job definitions,ABANDONED,2018-01-29 13:07:00.000000000,2018-07-03 11:10:55.000000000,,2,1,12,538908,06dbb6f74655051077f4434ba64fa3c4d8d13276,20,6,4,1,9708,Balazs Gibizer,gibi,"consolidate nova job definitions

Nova includes some of the legacy job definitions from
zuul-legacy-project-templates.yaml [1]

for the check and gate queue:
* legacy-tempest-dsvm-neutron-full
* tempest-full
* neutron-grenade

and for the experimental queue:
* legacy-tempest-dsvm-neutron-pg-full
* legacy-tempest-dsvm-neutron-full-opensuse-423

The same jobs are also specified in the project.yaml [2] for nova but
with different parameters. Zuul handles the matcher paramters, like
branch and irrelevant-files, of the two variants of the same job as
separate triggers for the variants [3]. As [1] contains the variants
without irrelevant-files definition the variants from [1] are
triggered for every nova change. This means that the variants from [1]
are triggered on irrelevant changes.

This patch removes the the include of [1] form the nova project in [2]
and makes sure that the remaining one variant of the above jobs are
what nova wants.

See a bit more explanation in the [4] ML post.

[1] http://git.openstack.org/cgit/openstack-infra/openstack-zuul-jobs/tree/zuul.d/zuul-legacy-project-templates.yaml#n126
[2] https://github.com/openstack-infra/project-config/blob/5ddbd62a46e17dd2fdee07bec32aa65e3b637ff3/zuul.d/projects.yaml#L10480
[3] https://docs.openstack.org/infra/zuul/user/config.html#matchers
[4] http://lists.openstack.org/pipermail/openstack-dev/2018-January/126630.html

Change-Id: I97fb242d68183255b2c956efa24b62cb1661cf5a
Closes-Bug: #1745431
Closes-Bug: #1745405
"
openstack%2Fnova~master~I8de92239b5f251fad826de0d6f7e73160fe54e38,openstack/nova,master,zuul-job-fixes,I8de92239b5f251fad826de0d6f7e73160fe54e38,DNM: test if tempest-full is triggered or not,ABANDONED,2018-01-25 15:26:19.000000000,2018-07-03 11:10:36.000000000,,2,0,0,537936,390397602bae31c1f2084980bc5561f920a1999a,29,10,6,2,9708,Balazs Gibizer,gibi,"DNM: test if tempest-full is triggered or not

Based on the project-config [1] changes in nova/tests/ directory
should not trigger the tempest-full tests.

[1] https://github.com/openstack-infra/project-config/blob/5ddbd62a46e17dd2fdee07bec32aa65e3b637ff3/zuul.d/projects.yaml#L10683
Depends-On: https://review.openstack.org/#/c/538908/
Change-Id: I8de92239b5f251fad826de0d6f7e73160fe54e38
"
openstack%2Fzun~master~I5792d01fcb3f360864c49ea7368dc470181a5a75,openstack/zun,master,bug/1735076,I5792d01fcb3f360864c49ea7368dc470181a5a75,Remove the unused url for container exec,MERGED,2018-06-05 01:00:10.000000000,2018-07-03 11:05:06.000000000,2018-07-03 11:05:06.000000000,0,4,0,572235,64745c1fc525d821fc40490232f8d8692b4a1079,13,4,3,1,11536,hongbin,hongbin,"Remove the unused url for container exec

This url is not needed anymore since we are using websocket
proxy for doing interactive execute now.

Depends-On: I68d2b3daaaf8fb551d00774f01ad0ee88538f7ae
Change-Id: I5792d01fcb3f360864c49ea7368dc470181a5a75
Closes-Bug: #1735076
"
openstack%2Fzun~master~I6542a7889d0e355a5ddc394aa209db5e8dcc7ead,openstack/zun,master,support-etcd-backend,I6542a7889d0e355a5ddc394aa209db5e8dcc7ead,Add create_network method in etcd db.,MERGED,2018-06-20 01:46:29.000000000,2018-07-03 11:05:05.000000000,2018-07-03 11:05:05.000000000,14,0,1,576672,864ec75a57d85655dac13e426da9897f580edfea,14,4,3,1,27577,caishan,caishan,"Add create_network method in etcd db.

Add create_network method in etcd db. Now support two db types,
both etcd and sql for storing network.

Relatated bug: https://bugs.launchpad.net/zun/+bug/1777770

Change-Id: I6542a7889d0e355a5ddc394aa209db5e8dcc7ead
"
openstack%2Fzun~master~Ic86e9c13d3837728bf596779f940ce405ca15cd2,openstack/zun,master,bp/migrate-to-zuulv3,Ic86e9c13d3837728bf596779f940ce405ca15cd2,Add native Zuulv3 jobs,MERGED,2017-10-16 08:09:51.000000000,2018-07-03 11:05:04.000000000,2018-07-03 11:05:03.000000000,71,312,0,512209,725d4c1e54451530a0fc264b447564075fd94cdf,181,5,69,9,22406,Kien Nguyen,kiennt,"Add native Zuulv3 jobs

Do step 2: Reworking Legacy Jobs to be v3 Native

Depends-On: https://review.openstack.org/#/c/545724/
Change-Id: Ic86e9c13d3837728bf596779f940ce405ca15cd2
Implements: blueprint migrate-to-zuulv3
"
openstack%2Fdevstack~master~I0d5738ac3a6d27ddb7655835d77689409a6ff6f4,openstack/devstack,master,fix-devstack,I0d5738ac3a6d27ddb7655835d77689409a6ff6f4,Make configure_neutron_nova_new and create_nova_conf_neutron param optional,MERGED,2018-06-28 10:03:34.000000000,2018-07-03 11:01:42.000000000,2018-07-02 02:28:17.000000000,4,3,2,578752,e63859362487856f1f53c173909cb8aa3bb55bab,16,11,2,2,6773,Lucas Alvares Gomes,lucasagomes,"Make configure_neutron_nova_new and create_nova_conf_neutron param optional

The commit e95f2a36645b58b172855213cb8311a3486bfcd9 broke
networking-ovn (and potentially other ml2 drivers) by making the config
parameter mandatory. It doesn't need to be.

Change-Id: I0d5738ac3a6d27ddb7655835d77689409a6ff6f4
"
openstack%2Fopenstack-ansible-ops~master~Ib03a2836de7271dcbccab7a0742ed98515de859b,openstack/openstack-ansible-ops,master,common-role-python-reqs,Ib03a2836de7271dcbccab7a0742ed98515de859b,Use tests repo for common role test requirements,MERGED,2018-07-02 16:26:41.000000000,2018-07-03 10:54:34.000000000,2018-07-03 10:54:34.000000000,1,11,0,579628,c9a203597213bcb07b98a6050f037c834a299eed,7,3,1,2,28521,Heba Naser,nheba,"Use tests repo for common role test requirements

Using tox for requirements management requires in-repo
requirements files for all our repositories. Rather than
do that, we make use of the tests repo to capture our
common requirements and use this to install them.

This reduces our review requirement rate and simplifies
maintenance for us for the tox config. It also makes it
usable with 'Depends-On', which is marvellous!

The tox requirements definitions for docs/releasenotes
builds are left in-place as those are standard entries
across the community. If that changes at some point, we
can re-assess those entries too.

Depends-On: https://review.openstack.org/579208
Change-Id: Ib03a2836de7271dcbccab7a0742ed98515de859b
"
openstack%2Faodh~master~I96811e7644423c74fc2cb5ad62f0c0a09995a821,openstack/aodh,master,,I96811e7644423c74fc2cb5ad62f0c0a09995a821,Invalid link to static file in doc,MERGED,2018-07-03 08:26:48.000000000,2018-07-03 10:49:28.000000000,2018-07-03 10:49:28.000000000,1,1,0,579805,179c8b798c5403f481ee2dd164f59f7477b82ef1,6,2,1,1,18320,Dao Cong Tien,TienDC,"Invalid link to static file in doc

Change-Id: I96811e7644423c74fc2cb5ad62f0c0a09995a821
"
openstack%2Fmasakari~master~Ib818ba22573bcee799c0202a5a4cf947de232759,openstack/masakari,master,for-ci,Ib818ba22573bcee799c0202a5a4cf947de232759,Test masakari CI masakari CI test patch,NEW,2016-12-18 13:15:34.000000000,2018-07-03 10:36:30.000000000,,1,1,0,412216,656fa8aa2a7360d45282afc073e5fba823863c83,262,6,50,1,23754,Izumi Takahiro,izumi.takahiro,"Test masakari CI
masakari CI test patch

Change-Id: Ib818ba22573bcee799c0202a5a4cf947de232759
"
openstack%2Foslo.policy~master~Id05a41b84123aeb57b193bba97cb9e8442587a51,openstack/oslo.policy,master,579295,Id05a41b84123aeb57b193bba97cb9e8442587a51,Pass dictionary as creds in policy tests,MERGED,2018-06-28 20:40:02.000000000,2018-07-03 10:25:50.000000000,2018-07-03 10:25:50.000000000,7,4,0,578994,13a4e789bcf5d1e8bb67f92c866355f180260df9,21,5,6,1,5046,Lance Bragstad,ldbragst,"Pass dictionary as creds in policy tests

According to the documentation strings for the ``enforce`` method, the
``creds`` parameter is expected to be a dictionary. The implementation
also treats it like a dictionary.

This commit updates three of the tests in test_policy.py to pass a
dictionary into enforce instead of just a string called 'creds'.

Change-Id: Id05a41b84123aeb57b193bba97cb9e8442587a51
"
openstack%2Fkolla~stable%2Fqueens~Iabb3d6d24727dc4a6a34e659cfcfac048c205d32,openstack/kolla,stable/queens,,Iabb3d6d24727dc4a6a34e659cfcfac048c205d32,Remove neutron-lbaas from upper-constraints.txt file,MERGED,2018-07-02 09:18:34.000000000,2018-07-03 10:19:12.000000000,2018-07-03 10:19:12.000000000,2,0,0,579500,01869ce92709ebe9ecc2a9cf3266b4e24210a8a3,8,4,1,1,7488,Jeffrey Zhang,Jeffrey4l,"Remove neutron-lbaas from upper-constraints.txt file

Patch I49727fb75d9d8c8f411a6c9ca2ef3a3d2836d41b add neutron-lbaas into
upper-constraints.txt file, which break kolla's gate

In kolla, the neutron-lbaas is controlled through config.py file, we do
not need the constraints.

Change-Id: Iabb3d6d24727dc4a6a34e659cfcfac048c205d32
"
openstack%2Fheat-dashboard~master~I9cc4e8097e0be5ae9d6420cd60eeb4e4b7be2f1c,openstack/heat-dashboard,master,feature/add-scaling-policy,I9cc4e8097e0be5ae9d6420cd60eeb4e4b7be2f1c,Add support of ScalingPolicy,MERGED,2018-06-22 06:55:01.000000000,2018-07-03 09:59:20.000000000,2018-07-03 09:59:20.000000000,311,0,0,577356,4b0fcd3016f480260cc71b1c224de493de730e10,7,5,1,8,19224,Xinni Ge,irisayame,"Add support of ScalingPolicy

Change-Id: I9cc4e8097e0be5ae9d6420cd60eeb4e4b7be2f1c
Story: #2002028
Task: #19669
"
openstack%2Finstack-undercloud~master~Ie908247405fd02243b380d93f2a4a422ef1a45fd,openstack/instack-undercloud,master,ins,Ie908247405fd02243b380d93f2a4a422ef1a45fd,incompatability spelling error,MERGED,2018-06-14 08:39:01.000000000,2018-07-03 09:54:24.000000000,2018-07-03 09:54:23.000000000,1,1,0,575371,6b74fe4e38ad6da9c472ab4769b5dcf9ecf5bb19,6,2,1,1,26776,chen jiao,chenjiao,"incompatability spelling error

the world incompatability should be incompatibility

Change-Id: Ie908247405fd02243b380d93f2a4a422ef1a45fd
"
openstack%2Finstack-undercloud~master~I417623db410330058d30fe7435112f01a0f72c83,openstack/instack-undercloud,master,bug/1778779,I417623db410330058d30fe7435112f01a0f72c83,Drop example in config file comments,MERGED,2018-06-26 19:02:46.000000000,2018-07-03 09:54:23.000000000,2018-07-03 09:54:22.000000000,8,36,5,578173,930e2ca49d9515fcf0cc91614be2e3595a6e898b,19,7,4,2,24245,Harald Jensås,harald.jensas,"Drop example in config file comments

There have been some reports of users misinterpreting
where to place configuration for the provisining subnets
in undercloud.conf. The example text for the subnets leads
to users adding the subnets section directly after the
subnets option. I.e in the middle of the DEFAULT section
of the ini file.

This change drops the example. The ctlplane-subnet section
is there as an example already.

Related-Bug: rhbz1585497
Related-Bug: #1778779
Change-Id: I417623db410330058d30fe7435112f01a0f72c83
"
openstack%2Fironic-lib~master~Icd824982d23966605fb179270bbf428cab23a41d,openstack/ironic-lib,master,umaster,Icd824982d23966605fb179270bbf428cab23a41d,Expose GPT partitioning fixing method,MERGED,2018-05-15 08:27:36.000000000,2018-07-03 09:51:36.000000000,2018-07-03 09:51:36.000000000,59,8,27,568518,a8097877830233035441aba9e0106fc5913399c2,56,7,11,2,19578,Olivier Bourdon,olivierbourdon38,"Expose GPT partitioning fixing method

As suggested by TheJulia, the `_fix_gpt_structs` code
which is currently not accessible/callable from outside of ironic-lib
should be exposed so that other code like ironic-python-agent
can use it such as https://review.openstack.org/#/c/568524/

This patchset now exposes this code as `fix_gpt_structs`
(no leading underscore).

Change-Id: Icd824982d23966605fb179270bbf428cab23a41d
"
openstack%2Fopenstack-ansible-os_trove~master~I0bf801416bd0349534588fc7272dffd4b86b7bb9,openstack/openstack-ansible-os_trove,master,move-db-setup-into-roles,I0bf801416bd0349534588fc7272dffd4b86b7bb9,Move database creation into role,MERGED,2018-06-28 16:02:21.000000000,2018-07-03 09:47:01.000000000,2018-07-03 09:47:00.000000000,29,175,0,578867,a1b510f7ba8c344db9be366612f06da29622ce26,17,5,5,10,6816,Jesse Pretorius,jesse-pretorius,"Move database creation into role

There is no record for why we implement the database creation outside
of the role in the playbook, when we could do it inside the role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we implement a new variable called 'trove_db_setup_host'
which is used in the role to allow delegation of the database setup
task to any host, but defaults to the first member of the galera_all
host group. We also document the variable 'trove_galera_address' which
has been used for a long time, but never documented. A bunch of unused
variables have also been removed.

The extras folder is removed given that trove's playbooks have been
merged into the integrated repository.

Change-Id: I0bf801416bd0349534588fc7272dffd4b86b7bb9
"
openstack%2Fopenstack-ansible-os_trove~master~I4df8f1a83b09eba3ce35d88373c392a1715ccad4,openstack/openstack-ansible-os_trove,master,osprofiler,I4df8f1a83b09eba3ce35d88373c392a1715ccad4,Add packages required for osprofiler,MERGED,2018-06-08 04:45:50.000000000,2018-07-03 09:47:01.000000000,2018-07-03 09:47:01.000000000,1,0,0,573518,1c7022dd72a7cd15d36be3d7428039b29919b70b,24,5,3,1,7353,Kevin Carter,cloudnull,"Add packages required for osprofiler

The following packages are required in-order to run osprofiler.
these packages will provide deployers the ability to profile
a service on demand should they choose to enable the profile
functionality.

Change-Id: I4df8f1a83b09eba3ce35d88373c392a1715ccad4
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fopenstack-ansible-os_trove~master~Iab6c46d082e0218dcbd37ac4ac7a48fac7080a47,openstack/openstack-ansible-os_trove,master,common-systemd-service,Iab6c46d082e0218dcbd37ac4ac7a48fac7080a47,Add systemd tags to include role,MERGED,2018-06-28 00:02:08.000000000,2018-07-03 09:47:00.000000000,2018-07-03 09:47:00.000000000,1,0,0,578608,0fc0cc2ff994d415b4455f2cfc678dd8ccbdf5eb,18,5,2,1,7353,Kevin Carter,cloudnull,"Add systemd tags to include role

There are times when a deployer will need to reconfigure parts of
an environment and having a general purpose tag to run said operation
will be important especicially should the deployer be needing to
reconfigure systemd unit files in a downtime event. This change adds
a general purpose systemd tag where include_role and systemd is found
which will assit operators with day2 operational tasks.

Change-Id: Iab6c46d082e0218dcbd37ac4ac7a48fac7080a47
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fopenstack-ansible-os_trove~master~Idfa2ba78862912aea856c1e54b22e45de857a9c4,openstack/openstack-ansible-os_trove,master,common-systemd-service,Idfa2ba78862912aea856c1e54b22e45de857a9c4,correct typo in service setup,MERGED,2018-06-27 23:08:04.000000000,2018-07-03 09:46:59.000000000,2018-07-03 09:46:59.000000000,1,1,0,578584,fb1b211021457973680c4764ea24a33af97182f9,12,4,2,1,7353,Kevin Carter,cloudnull,"correct typo in service setup

Change-Id: Idfa2ba78862912aea856c1e54b22e45de857a9c4
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fopenstack-ansible-os_trove~master~Icc31c4913238d3608ff05d54f47099a3377dd32d,openstack/openstack-ansible-os_trove,master,common-role-python-reqs,Icc31c4913238d3608ff05d54f47099a3377dd32d,Use tests repo for common role test requirements,MERGED,2018-07-02 15:45:49.000000000,2018-07-03 09:44:52.000000000,2018-07-03 09:44:52.000000000,1,28,0,579610,e64a0253cebd63f52cfd123d2846ebca4e822125,10,4,2,2,28521,Heba Naser,nheba,"Use tests repo for common role test requirements

Using tox for requirements management requires in-repo
requirements files for all our repositories. Rather than
do that, we make use of the tests repo to capture our
common requirements and use this to install them.

This reduces our review requirement rate and simplifies
maintenance for us for the tox config. It also makes it
usable with 'Depends-On', which is marvellous!

The tox requirements definitions for docs/releasenotes
builds are left in-place as those are standard entries
across the community. If that changes at some point, we
can re-assess those entries too.

Depends-On: https://review.openstack.org/579208
Change-Id: Icc31c4913238d3608ff05d54f47099a3377dd32d
"
openstack%2Fopenstack-ansible-os_trove~master~Icc7feffcc38174c2e35f16d2b65edae9e8d27b66,openstack/openstack-ansible-os_trove,master,,Icc7feffcc38174c2e35f16d2b65edae9e8d27b66,Reduce distro packages installed,MERGED,2018-06-29 13:22:01.000000000,2018-07-03 09:37:50.000000000,2018-07-03 09:37:50.000000000,0,14,0,579153,2afcbefe3db64c8e2e3cedd27f8a47732075462c,11,4,1,2,6816,Jesse Pretorius,jesse-pretorius,"Reduce distro packages installed

It's not clear why all these packages are being installed.
They don't seem to relate to the service itself or the role's
requirements to run the service.

Change-Id: Icc7feffcc38174c2e35f16d2b65edae9e8d27b66
"
openstack%2Fmistral~master~I084b8acfa01e80ac287983667e3285d7fc0d58b9,openstack/mistral,master,bug/1778757,I084b8acfa01e80ac287983667e3285d7fc0d58b9,Remove time.sleep from tests,MERGED,2018-06-27 11:29:20.000000000,2018-07-03 09:31:55.000000000,2018-07-03 09:31:55.000000000,14,7,0,578359,dc8b50e036d4a1eeb6979332d8f92479be819f0d,12,4,1,2,15895,Adriano Petrich,apetrich,"Remove time.sleep from tests

Use the await method instead of time.sleep to improve the tests.

Closes-Bug: 1778757
Change-Id: I084b8acfa01e80ac287983667e3285d7fc0d58b9
"
openstack%2Fopenstack-ansible~master~I582f33a7233515e139f5a0c1fd6e47dfdfd305bf,openstack/openstack-ansible,master,bp/python-build-install-simplification,I582f33a7233515e139f5a0c1fd6e47dfdfd305bf,Use requirements_constraints for pip installs,ABANDONED,2018-01-24 16:31:21.000000000,2018-07-03 09:23:56.000000000,,14,6,0,537446,34cd735516e74e5ec3a4b2be0b2ae812098ac807,16,3,2,3,6816,Jesse Pretorius,jesse-pretorius,"Use requirements_constraints for pip installs

Instead of assuming that the repo has all wheels built,
this patch sets the pip install constraints to use the
adjusted requirements_constraints file on the repo server
which now uses the upstream git URL or the repo server
git URL depending on the repo_build_type.

This is another step towards simplifying the python
installation process and to reduce the reliance on
the repo server having all python wheels pre-built.

Some of the previously implemented comments related to
the repo server pip configuration have been adjusted for
improved clarity.

Change-Id: I582f33a7233515e139f5a0c1fd6e47dfdfd305bf
Depends-On: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27
Implements: blueprint python-build-install-simplification
Signed-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
"
openstack%2Fopenstack-ansible-repo_build~master~I90fd488956f3d5f9e8ad6f189b635e6a083d0a27,openstack/openstack-ansible-repo_build,master,bp/python-build-install-simplification,I90fd488956f3d5f9e8ad6f189b635e6a083d0a27,Make the git clone and wheel build optional,ABANDONED,2018-01-23 23:50:13.000000000,2018-07-03 09:23:50.000000000,,496,165,4,537015,7809300e602090be7a966ab9480aa4b7eb2f857f,66,4,21,13,6816,Jesse Pretorius,jesse-pretorius,"Make the git clone and wheel build optional

To cut down on unnecessary build time, the repo build
process can now be set (using the minimal build type)
to only build what is absolutely required in order to
facilitate the execution of the integrated build.

The minimal build only builds the venvs and does not
bother downloading the git repositories or building
the wheels any more. The git repositories are
downloaded by any of the hosts which need them, and
the wheels are downloaded through the reverse proxy
setup to cache pypi on the repo server.

The constraints used are split out into multiple files
to make their purpose and application more obvious, and
also to allow us to get rid of all the jinja required
to process the various sources from upstream into a
single file given that pip is able to resolve them
itself (it uses the first applicable constraint it
finds). Once the integrated build is using these files
we can removed the majority of the complexity from the
repo_build role.

Tasks are heavily commented to specify notes to bear
in mind and where tasks are removable once dependencies
are removed from other repositories.

The test-vars are updated to help with the full build
tests. The variables are updated to match recent changes
in the gnocchi repository.

Depends-On: https://review.openstack.org/547762
Change-Id: I90fd488956f3d5f9e8ad6f189b635e6a083d0a27
Implements: blueprint python-build-install-simplification
Signed-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
"
openstack%2Fopenstack-ansible~master~I307da89d44a893c4e0d9cdf17296192c3db36b3f,openstack/openstack-ansible,master,bp/python-build-install-simplification,I307da89d44a893c4e0d9cdf17296192c3db36b3f,Set the default pip index to use the pypi cache when possible,ABANDONED,2017-11-24 12:27:51.000000000,2018-07-03 09:23:19.000000000,,48,5,10,522802,34de5ddc050785b2a72013927781279d819d45ce,50,8,12,8,6816,Jesse Pretorius,jesse-pretorius,"Set the default pip index to use the pypi cache when possible

Once the repo server is up, the pypi cache will be available
to be used. This implements the changes to detect whether it
is available - this is important for the plays doing pip
installs before the repo server is available. Once it is
available the same plays will use it.

All playbooks after the repo-server playbook will then
benefit from using it.

We also remove the use of the pip_lock_to_internal_repo
variable as we want to change the pip.conf to set the
index, instead of setting no-index and only relying on
links.

Finally, we set the AIO in OpenStack-Infra to make use of
the appropriate infra mirror for the nginx reverse proxy.

Change-Id: I307da89d44a893c4e0d9cdf17296192c3db36b3f
Depends-On: I56f22f46ff849a7049ac7ae873af7a4bc526fa63
Depends-On: Ic4fd64f4dc82121a65088f3d7f4ae53f373df608
Depends-On: I7bd31f2d89d3fe9d48e32c79ddef7a8ef1392eb7
Depends-On: Icd93c0c801bfee1b4fdc8154d078067722c0640a
Depends-On: I1e9782eb0fd72690a9644c7a01e8c83a4486872b
Implements: blueprint python-build-install-simplification
Signed-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
"
openstack%2Frally~master~I1796182339023d4f04ed08c185ffe99835b44655,openstack/rally,master,docker,I1796182339023d4f04ed08c185ffe99835b44655,Update config sample file,MERGED,2018-07-02 13:23:03.000000000,2018-07-03 09:13:54.000000000,2018-07-03 09:13:54.000000000,6,566,0,579552,1deae09758611bcf65836ec4a1ec116845b16af1,6,2,1,2,9545,Andrey Kurilin,akurilin,"Update config sample file

Change-Id: I1796182339023d4f04ed08c185ffe99835b44655
"
openstack%2Fheat-dashboard~master~Ib0fc88eddb9bb5b02b158d199b729bf4f42f3a11,openstack/heat-dashboard,master,feature/add-auto-scaling-group,Ib0fc88eddb9bb5b02b158d199b729bf4f42f3a11,Add support of AutoScalingGroup,MERGED,2018-06-21 05:30:13.000000000,2018-07-03 09:10:20.000000000,2018-07-03 09:10:20.000000000,438,0,0,577066,6a260ecd5ddc37e52555a45a38785ce5034f7301,11,4,3,10,19224,Xinni Ge,irisayame,"Add support of AutoScalingGroup

Change-Id: Ib0fc88eddb9bb5b02b158d199b729bf4f42f3a11
Task: #19672
Story: #2002031
"
openstack%2Fnetworking-generic-switch~master~Ie0cba55cfdf28cf0854a689414f2773ca55372d9,openstack/networking-generic-switch,master,story/2002179,Ie0cba55cfdf28cf0854a689414f2773ca55372d9,Add support for Dell PowerConnect switches,MERGED,2018-06-07 17:36:57.000000000,2018-07-03 09:00:19.000000000,2018-07-03 09:00:19.000000000,198,29,0,573380,f852d35f4a4bb0023fa40f30b795601ebde13a5e,23,5,7,6,14826,Mark Goddard,mgoddard,"Add support for Dell PowerConnect switches

Dell PowerConnect switches have a different user interface from the
newer Force10 switches, and therefore require a different NGS driver.

This change adds a netmiko_dell_powerconnect device driver.

Change-Id: Ie0cba55cfdf28cf0854a689414f2773ca55372d9
Story: 2002179
"
openstack%2Fnetworking-generic-switch~master~Ie2dc3e7a716720673ee425216232a347190ff54b,openstack/networking-generic-switch,master,,Ie2dc3e7a716720673ee425216232a347190ff54b,Add documentation on configuration of synchronisation,MERGED,2018-06-22 14:10:47.000000000,2018-07-03 08:44:58.000000000,2018-07-03 08:44:58.000000000,22,0,5,577430,1ec6b846ed12342209ff85d84e5a2eeb87121957,20,5,5,1,14826,Mark Goddard,mgoddard,"Add documentation on configuration of synchronisation

Change-Id: Ie2dc3e7a716720673ee425216232a347190ff54b
"
openstack%2Ftripleo-docs~master~I7cc12712bb11048069c6a7d51f3f39c72abcf63a,openstack/tripleo-docs,master,bug/1779005,I7cc12712bb11048069c6a7d51f3f39c72abcf63a,Fix notes for SELinux settings for UC,MERGED,2018-07-02 08:26:08.000000000,2018-07-03 08:43:18.000000000,2018-07-03 08:43:18.000000000,3,10,2,579487,bef4c52203690e7f94819a3da81eea1c511dc968,7,6,1,1,6926,Bogdan Dobrelya,bogdando,"Fix notes for SELinux settings for UC

Depends-On: I2109bf62e307df92b6bdb57600c58dd61482f46d

Change-Id: I7cc12712bb11048069c6a7d51f3f39c72abcf63a
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fnetworking-generic-switch~master~I0e5da5abfd2bb4a3c6143155a701d12477191aaf,openstack/networking-generic-switch,master,reorganise-docs,I0e5da5abfd2bb4a3c6143155a701d12477191aaf,Rework documentation layout,MERGED,2018-06-25 10:06:43.000000000,2018-07-03 08:35:53.000000000,2018-07-03 08:35:53.000000000,183,172,4,577774,93e2f5060db350fe990ce9bfe9847cd30b209e93,14,4,4,5,14826,Mark Goddard,mgoddard,"Rework documentation layout

Move content out of the README, replace with more high level project info.

Change-Id: I0e5da5abfd2bb4a3c6143155a701d12477191aaf
"
openstack%2Fnova~master~I56b044863a2454601d3f4534bace229a94c4f0e3,openstack/nova,master,bp/api-extensions-merge-rocky,I56b044863a2454601d3f4534bace229a94c4f0e3,Merge server create schema for keypair extension,MERGED,2018-06-27 09:03:02.000000000,2018-07-03 08:31:27.000000000,2018-07-03 08:31:27.000000000,3,17,0,578332,07731a6cf2ba925b887554061d10351b4e616fc9,46,19,2,4,8556,Ghanshyam,ghanshyam,"Merge server create schema for keypair extension

As nova extensions has been deprecated already and goal is to
merge all scattered code into main controller side.
Currently schema and request/response extended code are there
among all extensions.

This commit merge the schema part of create server for keypair extensions.

Partially implements: blueprint api-extensions-merge-rocky

Change-Id: I56b044863a2454601d3f4534bace229a94c4f0e3
"
openstack%2Ftrove~master~I009a366fd8342edfd30890df6fe8e1fca88bf3cc,openstack/trove,master,,I009a366fd8342edfd30890df6fe8e1fca88bf3cc,Fix invalid escape sequence warnings,MERGED,2018-05-17 17:03:29.000000000,2018-07-03 08:30:21.000000000,2018-07-03 08:30:21.000000000,64,62,24,569172,4860f523d45df502e2d1005df3db4121c7795fe0,18,7,3,26,27733,Krzysztof Opasiak,kopasiak,"Fix invalid escape sequence warnings

Starting with Python 3.6, invalid escape sequences in string literals
are now deprecated[1]. This influence also automatic style checkers like
pycodestyle which starting with 2.4.0 complains about invalid escape
sequences (W605)[2].

Let's fix all those warnings at once by using raw strings where possible
and adding additional \ where not.

Footnotes:
1 - https://docs.python.org/3/whatsnew/3.6.html#deprecated-python-behavior
2 - https://github.com/PyCQA/pycodestyle/pull/676

Change-Id: I009a366fd8342edfd30890df6fe8e1fca88bf3cc
Signed-off-by: Krzysztof Opasiak <k.opasiak@samsung.com>
"
openstack%2Fkeystone-specs~master~I540a504b42f43eac3c25424fd947e04f880071e9,openstack/keystone-specs,master,python3-first,I540a504b42f43eac3c25424fd947e04f880071e9,fix tox python3 overrides,ABANDONED,2018-07-03 07:29:57.000000000,2018-07-03 08:28:39.000000000,,2,0,0,579791,4f18f4a2c8b83cbb960a31dbc7261b79ce599d0d,3,1,1,1,19853,Nguyen Hung Phuong,phuongnh,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I540a504b42f43eac3c25424fd947e04f880071e9
"
openstack%2Fdocs-specs~master~I7b65a9dbb394224550008f0feeb5a47bb743c208,openstack/docs-specs,master,python3-first,I7b65a9dbb394224550008f0feeb5a47bb743c208,fix tox python3 overrides,MERGED,2018-07-03 03:30:37.000000000,2018-07-03 08:26:14.000000000,2018-07-03 08:26:14.000000000,2,0,0,579754,154df6365cf7f904086218691bac4b5b0b977bcb,7,3,1,1,19853,Nguyen Hung Phuong,phuongnh,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I7b65a9dbb394224550008f0feeb5a47bb743c208
"
openstack%2Foslotest~master~I0e0bb5629f63ec18af27b26cb5675ff88f041c00,openstack/oslotest,master,bug/1735588,I0e0bb5629f63ec18af27b26cb5675ff88f041c00,mock: Removes underscore from autospec mock classes,ABANDONED,2018-03-30 17:42:30.000000000,2018-07-03 08:09:14.000000000,,6,6,0,557974,fc1f7a9c8030f3a90b865c24e98cc433ccb8fb3f,23,5,3,1,8213,Claudiu Belu,claudiub,"mock: Removes underscore from autospec mock classes

Originally, the underscore in _AutospecMock and _AutospecMagicMock
has been added in order to discourage their direct usage outside of
oslotest, MockAutospecFixture should be used to replace mock.Mock
and mock.MagicMock with their autospec versions.

But the underscore can break some unit tests [1], especially those that
split the stringified mock by undercore.

Related-Bug: #1735588

[1] https://review.openstack.org/#/c/557956/

Change-Id: I0e0bb5629f63ec18af27b26cb5675ff88f041c00
"
openstack%2Fglance~master~I656b5c244b98202f3c8d019d0bbeddc4e7c0314a,openstack/glance,master,default-rng_dev_path,I656b5c244b98202f3c8d019d0bbeddc4e7c0314a,useful-image-properties.rst: Update default RNG source,MERGED,2018-07-02 12:42:23.000000000,2018-07-03 07:58:51.000000000,2018-07-02 15:12:14.000000000,3,3,2,579537,9a893e80c2a5ee665487ce73845a88946d65ade4,9,4,1,1,6962,Kashyap Chamarthy,kashyapc,"useful-image-properties.rst: Update default RNG source

Nova's libvirt driver has changed[*] the default source from /dev/random
to /dev/urandom:

    ""Since libvirt 1.3.4, any RNG (Random Number Generator) device path
    (that returns random numbers when read!) is accepted. However, the
    recommended source of entropy is `/dev/urandom` (it is non-blocking;
    and doesn't have the same limitations of `dev/random`, which is a
    legacy interface).""

Update the relevant Glance documentation to reflect that.

[*] https://git.openstack.org/cgit/openstack/nova/commit/?id=814bfd93

Change-Id: I656b5c244b98202f3c8d019d0bbeddc4e7c0314a
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
"
openstack%2Foctavia~master~I32db9e6cc72d320c7ec393b77cef9a2d61a07d19,openstack/octavia,master,story/2002691,I32db9e6cc72d320c7ec393b77cef9a2d61a07d19,[amphora-agent] add local net to routing table 1,MERGED,2018-06-26 05:53:16.000000000,2018-07-03 07:38:27.000000000,2018-07-03 01:05:01.000000000,56,4,1,577992,1fa91ab0c9c6c7530302da0654db0e796202c0a0,28,6,11,7,26086,Cristian Calin,cristicalin,"[amphora-agent] add local net to routing table 1

ensure local route is added to table 1 routing table to prevent
all traffic being routed through the default gateway

Change-Id: I32db9e6cc72d320c7ec393b77cef9a2d61a07d19
Story: 2002691
Task: 22517
"
openstack%2Fheat~master~I93329197c99a2dba37b0e1dbd7efe7b2b17bc036,openstack/heat,master,,I93329197c99a2dba37b0e1dbd7efe7b2b17bc036,Don't re-use resource-properties-data in backup stacks,MERGED,2018-06-27 02:42:47.000000000,2018-07-03 07:37:03.000000000,2018-07-03 07:37:03.000000000,1,0,0,578253,acd77dde9e623d1bc5804f60145418de4d612d5d,9,4,1,1,4257,Zane Bitter,zaneb,"Don't re-use resource-properties-data in backup stacks

When purging events we are only able to (efficiently) search for
references to resource properties data from events and resources in the
same stack. This results in foreign key constraint errors if the
resource properties data is referenced from a backup stack. To avoid
this, don't reuse resource properties data IDs after moving a resource
between the backup and main stacks, but duplicate the data instead.

Change-Id: I93329197c99a2dba37b0e1dbd7efe7b2b17bc036
Story: #2002643
Task: 22510
"
openstack%2Fkolla-ansible~master~I62f430abd8f332cc2ece56a6733776fa03b10f77,openstack/kolla-ansible,master,bug/1777982,I62f430abd8f332cc2ece56a6733776fa03b10f77,Make Swift log_level changeable,MERGED,2018-06-21 05:01:18.000000000,2018-07-03 07:24:58.000000000,2018-07-03 07:24:57.000000000,6,4,0,577046,cebb77d7e218d0978519288d0d4071c451e26c92,12,6,2,5,24574,Tone Zhang,tone.zhang,"Make Swift log_level changeable

The log_level in Swift is fixed to INFO. The patch make it changeable
according to the value of ""openstack_logging_debug"".

When ""openstack_logging_debug"" is ""False"", the log_level is set to
""INFO"". It is default value. Otherwise, the log_level is set to
""DEBUG"".

Closes-Bug: #1777982

Change-Id: I62f430abd8f332cc2ece56a6733776fa03b10f77
Signed-off-by: tone.zhang <tone.zhang@arm.com>
"
openstack%2Fkolla-ansible~master~I4f46907c9b47b9108a9aa7bfbd668b833db420af,openstack/kolla-ansible,master,,I4f46907c9b47b9108a9aa7bfbd668b833db420af,Add kuryr prechecks for zun,MERGED,2018-06-25 16:18:31.000000000,2018-07-03 07:05:46.000000000,2018-07-03 07:05:46.000000000,8,0,0,577860,8397d3a7b607cbe819c010ea4b9bdde763900161,15,7,2,1,22165,caoyuan,caoyuan,"Add kuryr prechecks for zun

the zun is need kuryr to be enabled[0], add it into
prechecks is a good idea.

[0]: https://docs.openstack.org/zun/latest/install/compute-install-ubuntu.html#install-and-configure-components

Change-Id: I4f46907c9b47b9108a9aa7bfbd668b833db420af
"
openstack%2Fkolla-ansible~stable%2Fqueens~If774502b66652f25593cda137cc8a5baefbd9695,openstack/kolla-ansible,stable/queens,,If774502b66652f25593cda137cc8a5baefbd9695,Optimise the destroy role by script module,ABANDONED,2018-06-30 14:57:06.000000000,2018-07-03 07:01:28.000000000,,12,50,0,579341,a9019f77e9d0c9e87660777c16285342e2cfc55c,5,3,1,6,22165,caoyuan,caoyuan,"Optimise the destroy role by script module

Ansible provide script module to run shell script, The local script at
path will be transferred to the remote node and then executed, so no
need to copy script to remote node and use shell moulde to run it.
this patch optimise it.

Change-Id: If774502b66652f25593cda137cc8a5baefbd9695
(cherry picked from commit 8f2256d2990d62bedba885cb3609b242559bc38d)
"
openstack%2Ftacker~master~Iac4d843041d8e920e94e827dce00d3198f4e87f8,openstack/tacker,master,,Iac4d843041d8e920e94e827dce00d3198f4e87f8,fix a typo,MERGED,2018-06-20 03:23:45.000000000,2018-07-03 07:01:24.000000000,2018-07-03 07:01:24.000000000,1,1,0,576695,c31042339e249626ec4209025da83b800196748f,9,5,1,1,27368,zhangzhaoshan,zhangzs,"fix a typo

Change-Id: Iac4d843041d8e920e94e827dce00d3198f4e87f8
"
openstack%2Fkolla-ansible~master~I0b54bc2bd384f092f2fcd1b0396e133a0d95befe,openstack/kolla-ansible,master,EnableYamllintStrict,I0b54bc2bd384f092f2fcd1b0396e133a0d95befe,Enable yamllint strict mode,MERGED,2018-06-24 08:47:44.000000000,2018-07-03 06:51:19.000000000,2018-07-03 06:51:19.000000000,1,1,0,577641,3566daec76673be2237bd5e2e7dbb699305949e3,14,11,1,1,9820,Liping Mao,LipingMao,"Enable yamllint strict mode

To make sure we can find the yaml warning before code merge[1].
We can enable strict mode to treat warning as error[2].

[1] https://review.openstack.org/#/c/573482/1
[2] http://yamllint.readthedocs.io/en/stable/configuration.html#errors-and-warnings

Change-Id: I0b54bc2bd384f092f2fcd1b0396e133a0d95befe
"
openstack%2Ftempest~master~I58c348b954a679bc809906b2c73df9b1ab4459c5,openstack/tempest,master,bug/1740544,I58c348b954a679bc809906b2c73df9b1ab4459c5,Adding test case for migration policy 'never',MERGED,2018-06-05 07:46:04.000000000,2018-07-03 06:47:46.000000000,2018-07-03 06:47:45.000000000,96,45,38,572287,a3a67d476132fe5f55020cf2dc1f672c17be6eb3,72,12,6,1,27615,Rajat Dhasmana,whoami-rajat,"Adding test case for migration policy 'never'

There doesn't exist any test case in tempest for retype
volume without migration, so adding new test for it.

Related-Bug: #1740544

Change-Id: I58c348b954a679bc809906b2c73df9b1ab4459c5
"
openstack%2Fcinder~master~Iade148d2afeaae486aab4dc789d52e9522f206ee,openstack/cinder,master,fix_api_ref,Iade148d2afeaae486aab4dc789d52e9522f206ee,Fix parameter description in volume and snapshot manage extension,MERGED,2018-06-29 18:31:42.000000000,2018-07-03 06:47:44.000000000,2018-07-03 06:47:43.000000000,4,4,4,579244,999cd2be12f99e287cbb445189b4ee4058ba3043,42,22,2,1,23081,Jeremy Zhang,jeremy.zhang,"Fix parameter description in volume and snapshot manage extension

The parameters 'cinder_id', 'reason_not_safe', 'extra_info' can be None,
but are required in the response body of listing detail of managable
volumes or snapshots.

Change-Id: Iade148d2afeaae486aab4dc789d52e9522f206ee
"
openstack%2Fopenstack-helm-infra~master~I476b7f2e8fc0948d0fb04f51d852080281c265bf,openstack/openstack-helm-infra,master,,I476b7f2e8fc0948d0fb04f51d852080281c265bf,Enable systemd service helm-serve,MERGED,2018-06-20 05:39:44.000000000,2018-07-03 06:45:40.000000000,2018-07-03 06:45:40.000000000,1,0,0,576729,59eb4ce3754b6f75712eac0dcbc68591d0b1ce9e,9,4,1,1,25431,Wayne Chan,wayne.chan,"Enable systemd service helm-serve

When the system is restarted, the helm service is not running,
which results in the failure of the helm command.

Change-Id: I476b7f2e8fc0948d0fb04f51d852080281c265bf
"
openstack%2Fcookbook-openstack-compute~master~I49a767724e744f98d7f008411755c063f96a4c9d,openstack/cookbook-openstack-compute,master,nova-api-wsgi,I49a767724e744f98d7f008411755c063f96a4c9d,Convert Nova APIs to WSGI services,MERGED,2018-06-15 16:17:40.000000000,2018-07-03 06:44:12.000000000,2018-07-03 06:44:12.000000000,134,81,2,575785,4992010231b205140b5fa1b3279d75d76e89acf7,11,4,2,13,14790,Samuel Cassiba,scassiba,"Convert Nova APIs to WSGI services

To be consistent with the install guide[1], the Nova services should be
deployed as WSGI services.

[1] https://docs.openstack.org/nova/queens/install/controller-install-ubuntu.html

Change-Id: I49a767724e744f98d7f008411755c063f96a4c9d
"
openstack%2Fproject-config~master~If2d59686c62fdbe2fac44519f8e013d26f78892f,openstack/project-config,master,,If2d59686c62fdbe2fac44519f8e013d26f78892f,Add os-acc to openstack repo,MERGED,2018-06-29 08:48:11.000000000,2018-07-03 06:42:38.000000000,2018-07-03 06:42:37.000000000,5,0,0,579101,b86f1d49c753df6812706367010572be6303a107,14,8,2,3,25738,Xinran WANG,Xinran,"Add os-acc to openstack repo

OS-ACC is a lib implements the nova/cyborg interaction.

Change-Id: If2d59686c62fdbe2fac44519f8e013d26f78892f
"
openstack%2Fcookbook-openstack-identity~master~I01d44e48053cad7aeb92636f4b41649204006c93,openstack/cookbook-openstack-identity,master,bp/simplify-identity-endpoint,I01d44e48053cad7aeb92636f4b41649204006c93,Simplify identity endpoint,MERGED,2018-06-13 04:39:42.000000000,2018-07-03 06:31:58.000000000,2018-07-03 06:31:58.000000000,129,252,0,574975,7657e34edadfccf0d85081f6507f6591119eec4f,42,4,17,8,14790,Samuel Cassiba,scassiba,"Simplify identity endpoint

Per the Keystone Install Guide[1] the admin endpoint is superseded in
favor of a single public endpoint. As a result, the admin endpoint is no
longer deployed by default.

[1] https://docs.openstack.org/keystone/queens/install/keystone-install-ubuntu.html#install-and-configure-components

Depends-On: I7e1ee2fa32e5d9b816bd3624524e6680a278ed5d
Depends-On: I833cc80421be375aed202c208cf93a0165761226
Depends-On: Ife7bb6d09eafd137c6858f6ae18d4d34508928a6
Depends-On: Ic70e3adc4615b3a79a49f8cd739d7505efee91ef
Depends-On: Ic2733d94e776eaa50ad8e4a39e6d2a8c18a45d89
Depends-On: Iafb0db54b3589eea0402c0f18687344667d0208a
Depends-On: I70775929dc49ed8c00a23bc7e354ebf9e9feb7f0
Depends-On: I06d0f98e641a041ddc864f524858edc0cffbbbba
Depends-On: Ied0fb46ae8c10273fde31691b910dc2748845faf
Change-Id: I01d44e48053cad7aeb92636f4b41649204006c93
Implements: blueprint simplify-identity-endpoint
"
openstack%2Fkolla-ansible~master~Iaf228e3137cd73b933ca395b3081438393603251,openstack/kolla-ansible,master,bug/1692430,Iaf228e3137cd73b933ca395b3081438393603251,Use the different nova_cell0 database password from nova,ABANDONED,2017-05-22 07:35:38.000000000,2018-07-03 05:48:26.000000000,,9,4,2,466615,3f12cf2a155dadf5fd9489da3af18c07afdb9ae6,11,3,2,3,22165,caoyuan,caoyuan,"Use the different nova_cell0 database password from nova

refer to
https://docs.openstack.org/ocata/install-guide-rdo/nova-controller-install.html

Change-Id: Iaf228e3137cd73b933ca395b3081438393603251
Closes-Bug: #1692430
"
openstack%2Fproject-config~master~I854e810d2f328387a6e6c6b1af4ceda54c4f5cb7,openstack/project-config,master,,I854e810d2f328387a6e6c6b1af4ceda54c4f5cb7,Publish Devstack docs for stable branch too,MERGED,2018-07-03 02:38:41.000000000,2018-07-03 05:43:16.000000000,2018-07-03 05:43:16.000000000,0,4,0,579738,39ab25481fc90535857172e3c79d02ed3e70ee69,7,3,1,1,8556,Ghanshyam,ghanshyam,"Publish Devstack docs for stable branch too

Currently Devstack docs are built for master only but
we should have those published for stable branch also as
Devstack is branched.

This commit allows Devstack docs to be published by template
'publish-openstack-sphinx-docs'

Change-Id: I854e810d2f328387a6e6c6b1af4ceda54c4f5cb7
"
openstack%2Fopenstack-helm~master~Idf909cddf61fa1948ce01081ada7385904550b12,openstack/openstack-helm,master,,Idf909cddf61fa1948ce01081ada7385904550b12,Update the path of vars.yaml,MERGED,2018-06-19 15:26:27.000000000,2018-07-03 05:38:29.000000000,2018-07-03 05:38:29.000000000,1,1,0,576559,d80a399b4f49292a2ffaf576eec3006d3b4a946f,14,6,1,1,22165,caoyuan,caoyuan,"Update the path of vars.yaml

the path of vars.yaml should be in /opt since the code is clone in
/opt

Change-Id: Idf909cddf61fa1948ce01081ada7385904550b12
"
openstack%2Fkolla-ansible~master~I6ffa18b58824238a375114fb1312ac6e6d5a02fd,openstack/kolla-ansible,master,bug/1779792,I6ffa18b58824238a375114fb1312ac6e6d5a02fd,"Extend the value of ""osd max object size"" in Ceph bluestore OSD",ABANDONED,2018-07-03 01:23:48.000000000,2018-07-03 05:19:00.000000000,,4,0,0,579727,00bb2ad8acae3dc50513d0e31358af0a879f1b23,5,3,1,1,24574,Tone Zhang,tone.zhang,"Extend the value of ""osd max object size"" in Ceph bluestore OSD

In Ceph bluestore OSD, the default value of ""osd max object size""
is 100MB.

In Ceph filestore OSD, the default value is 1GB.

The patch extends the value of bluestore OSD to be the same as
filestore OSD.

Closes-Bug: #1779792

Change-Id: I6ffa18b58824238a375114fb1312ac6e6d5a02fd
Signed-off-by: tone.zhang <tone.zhang@arm.com>
"
openstack%2Fnova~master~I728f30999bcfb806c07a8c2fd3fad0f72391b97d,openstack/nova,master,bug/1663456,I728f30999bcfb806c07a8c2fd3fad0f72391b97d,Modify show aggregate to display 'updated_at' value,ABANDONED,2018-01-24 10:08:17.000000000,2018-07-03 05:13:13.000000000,,24,20,1,537334,7b46bc122e0e5943973b264b456dff87d2506c2b,30,16,2,21,27618,nalini,nvarshney,"Modify show aggregate to display 'updated_at' value

In 'openstack show aggregate ' command 'updated_at' field is
always None. This commit fixes the same to retrieve the correct value.

Change-Id: I728f30999bcfb806c07a8c2fd3fad0f72391b97d
Closes-Bug: #1663456
"
openstack%2Fneutron~master~Iafbabe6352283e7f1a535a7b147bd81fb32f0ed1,openstack/neutron,master,bug/1766380,Iafbabe6352283e7f1a535a7b147bd81fb32f0ed1,Routed Networks - peer-subnet/segment host-routes (2/2),MERGED,2018-06-09 05:55:55.000000000,2018-07-03 05:11:14.000000000,2018-06-29 09:54:15.000000000,150,19,21,573897,8361b8b5aebad4df3c1012952d9a87b936fef326,52,11,7,6,24245,Harald Jensås,harald.jensas,"Routed Networks - peer-subnet/segment host-routes (2/2)

Ensure that host routes are maintained for each subnet within
a network. Subnets associated with different segments on the
same network get host_routes entries added/removed as subnets
are created, deleted or updated.

This change handle the host_routes for the peer subnets on the
same network when a subnet is created or deleted.

Also adds a shim api extension.

APIImpact: Host routes are now calculated for routed networks.
Closes-Bug: #1766380
Change-Id: Iafbabe6352283e7f1a535a7b147bd81fb32f0ed1
"
openstack%2Fproject-config~master~Id3f49dbeabf4a01ee87b1c299443e8c3915d386c,openstack/project-config,master,add-stx-docs,Id3f49dbeabf4a01ee87b1c299443e8c3915d386c,Add StarlingX documentation repository,MERGED,2018-06-29 22:44:29.000000000,2018-07-03 05:06:43.000000000,2018-07-03 05:06:43.000000000,10,0,0,579301,06d98e4e50d904fe9c8624979a87b18e7aecc727,16,7,2,2,15405,Erich Cordoba,ericho,"Add StarlingX documentation repository

Adding stx-docs as the documentation repository for the
StarlingX project.

Needed-By: https://review.openstack.org/#/c/579303/
Change-Id: Id3f49dbeabf4a01ee87b1c299443e8c3915d386c
"
openstack%2Fglance~master~I0537c9facc8e0ccae7615f4dc46c89d3419c9391,openstack/glance,master,remove-duplicate-conf-option,I0537c9facc8e0ccae7615f4dc46c89d3419c9391,Remove duplicate registration of 'timeout' conf option,ABANDONED,2018-06-29 03:11:07.000000000,2018-07-03 04:51:56.000000000,,0,1,0,579047,353c8d9d494ceb27ea7baa3e9c2c5d79e9e32b75,4,2,1,1,26541,Neha Alhat,nehaalhat,"Remove duplicate registration of 'timeout' conf option

This patch removes duplicate registration of session of
option 'timeout' under [keystone_authtoken] as it is
registered in keystonemiddleware in patch[1].

[1]: https://review.openstack.org/#/c/578008/

Depends-On: I641366cc857f585117eb7797543e18fdaed46561
Change-Id: I0537c9facc8e0ccae7615f4dc46c89d3419c9391
"
openstack%2Fpuppet-openstack-integration~master~I5d681aa56868aa977c1c3dad2cc50336a1ce91bb,openstack/puppet-openstack-integration,master,enable-py3,I5d681aa56868aa977c1c3dad2cc50336a1ce91bb,Configure delorean repos based on OS Type,MERGED,2018-06-25 13:29:30.000000000,2018-07-03 04:34:53.000000000,2018-07-03 04:34:53.000000000,11,3,0,577819,ae869dec6f7cc9b77cb36c6f6782304b6aeb9732,9,4,1,1,13861,yatin,yatinkarel,"Configure delorean repos based on OS Type

For CentOS it's same as now, for fedora:-
delorean trunk:- trunk.rdoproject.org/fedora/current
delorean deps:- trunk.rdoproject.org/fedora/stable-base/latest

Change-Id: I5d681aa56868aa977c1c3dad2cc50336a1ce91bb
"
openstack%2Fpuppet-openstack-integration~master~Ib9f23e592105d08281f400827416e6f126935b1d,openstack/puppet-openstack-integration,master,enable-py3,Ib9f23e592105d08281f400827416e6f126935b1d,Use stestr-3 when it's available,MERGED,2018-06-25 08:59:18.000000000,2018-07-03 04:34:52.000000000,2018-07-03 04:34:52.000000000,5,1,0,577755,029101ab8278184e86f79b6a4886935927376b17,7,3,1,1,13861,yatin,yatinkarel,"Use stestr-3 when it's available

python3-stestr provides stestr-3, With switch to fedora
it would be installed and used.

Change-Id: Ib9f23e592105d08281f400827416e6f126935b1d
"
openstack%2Fironic~master~Idef1bc876fe440824894332a211af9a10401e49c,openstack/ironic,master,ping,Idef1bc876fe440824894332a211af9a10401e49c,Modifying 'whole_disk_image_url' and 'whole_disk_image_checksum' variable,MERGED,2018-01-19 07:37:40.000000000,2018-07-03 04:18:52.000000000,2018-07-03 04:18:52.000000000,8,4,8,535651,194d0420689c1a7222592f237fb9258bc21bc149,64,12,6,1,19604,ankit,ankit,"Modifying 'whole_disk_image_url' and 'whole_disk_image_checksum' variable

Need to set variable whole_disk_image_url and
whole_disk_image_checksum in tempest.conf
irrespective of IPXE is enabled or disabled.

Also setting the ping_timeout for standalone ironic
like we are setting ssh_timeout in case node is
taking more time for becoming active.

This change is required for iLO-CI as iLO-CI is
running tests as standalone ironic.

Change-Id: Idef1bc876fe440824894332a211af9a10401e49c
Closes-Bug: #1748849
"
openstack%2Fosc-lib~master~I01e8cf1b70d7a1501dccd26bf30db52e36dedb38,openstack/osc-lib,master,python3-first,I01e8cf1b70d7a1501dccd26bf30db52e36dedb38,fix tox python3 overrides,MERGED,2018-06-06 19:28:02.000000000,2018-07-03 04:11:40.000000000,2018-07-03 04:11:39.000000000,7,0,0,572915,1716e9fd0d7fd49d855da58abe26cb905c85e21b,17,5,1,1,2472,Doug Hellmann,doug-hellmann,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I01e8cf1b70d7a1501dccd26bf30db52e36dedb38
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fcinder~master~I067cb09928c4c9d4ebb7159950fff526ee70f1bb,openstack/cinder,master,bug/1778669,I067cb09928c4c9d4ebb7159950fff526ee70f1bb,NEC driver: Reuse iSCSI LUNs of detached volumes.,MERGED,2018-06-27 04:15:03.000000000,2018-07-03 04:03:41.000000000,2018-07-02 20:04:12.000000000,127,98,0,578271,78f104d75c3fef6f9371a2eadfdfd990aa1cb93d,34,26,1,4,23885,Shunei Shiono,s-shiono,"NEC driver: Reuse iSCSI LUNs of detached volumes.

Currently, NEC driver does not reuse iSCSI LUNs of detached volumes.
The driver always use the LUN of (max(LUNs used) + 1) to attach
a volume.

If multi-target mode of NEC Storage is enabled, the driver works
without the problem because only LUN0s are used in the multi-target
mode.

This patch changes the using LUN to min(LUNs not used) for reusing
a LUN of detached volume with multi-target mode disabled.

Change-Id: I067cb09928c4c9d4ebb7159950fff526ee70f1bb
Closes-Bug: #1778669
"
openstack%2Fosc-placement~master~Ie70497981ff4295b3ccd6b495b21bbb919d92c47,openstack/osc-placement,master,bp/placement-osc-plugin-rocky,Ie70497981ff4295b3ccd6b495b21bbb919d92c47,Allocation candidates parameter: required (v1.17),MERGED,2018-02-27 15:54:38.000000000,2018-07-03 03:56:46.000000000,2018-07-03 03:56:46.000000000,73,8,8,548326,5883b82f69f60a64583cc51b7f578c7e8ae2ce9d,86,6,39,5,15554,Bence Romsics,ebenrom,"Allocation candidates parameter: required (v1.17)

New parameter to 'allocation candidate list':
    --required TRAIT [--required ...]

New output field of 'allocation candidate list':
    traits

Change-Id: Ie70497981ff4295b3ccd6b495b21bbb919d92c47
Partially-Implements: blueprint placement-osc-plugin-rocky
"
openstack%2Fosc-placement~master~Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c,openstack/osc-placement,master,bp/placement-osc-plugin-rocky,Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c,"Limit allocation candidates (v1.15, v1.16)",MERGED,2018-02-26 15:03:01.000000000,2018-07-03 03:56:45.000000000,2018-07-03 03:56:45.000000000,55,7,12,548043,9f4e7eb9e82de3bd5778802e11fa15911c79b7bb,90,7,39,5,15554,Bence Romsics,ebenrom,"Limit allocation candidates (v1.15, v1.16)

v1.15:
Microversion 1.15 does not need any support in osc
so we just skip over that in this patch.

v1.16:
New optional parameter to allocation candidate list:
    --limit N

Change-Id: Ic23dc4274c6fe42bfdf97fec55ddf0c36462501c
Partially-Implements: blueprint placement-osc-plugin-rocky
"
openstack%2Fosc-placement~master~Iafefbfce6b439190909476fd40ccb74ffb511b5d,openstack/osc-placement,master,bp/placement-osc-plugin-rocky,Iafefbfce6b439190909476fd40ccb74ffb511b5d,Add nested resource providers (v1.14),MERGED,2018-02-21 16:05:54.000000000,2018-07-03 03:56:45.000000000,2018-07-03 03:56:44.000000000,178,20,33,546675,565fb8d8c4e7dff0e3df1f6708a81c0b6dc13c75,96,8,37,5,15554,Bence Romsics,ebenrom,"Add nested resource providers (v1.14)

New fields to the output of resource provider list/show/create/set:
  root_provider_uuid
  parent_provider_uuid

New optional parameter to resource provider create:
  --parent-provider UUID

New optional parameter to resource provider set:
  --parent-provider UUID

New optional parameter to resource provider list:
  --in-tree UUID

Change-Id: Iafefbfce6b439190909476fd40ccb74ffb511b5d
Partially-Implements: blueprint placement-osc-plugin-rocky
Related-Bug: #1770636
"
openstack%2Fdevstack~master~I111f2b1311b67836757496a0eac19f79a1b64073,openstack/devstack,master,uwsgi-f28,I111f2b1311b67836757496a0eac19f79a1b64073,Specifically enable plugins for uwsgi,ABANDONED,2018-06-26 04:46:32.000000000,2018-07-03 03:48:10.000000000,,2,2,0,577987,6ce5f6059c30175b83b4710360efa99e122c3ee9,21,5,5,1,7118,Ian Wienand,iwienand,"Specifically enable plugins for uwsgi

When using distribution based uwsgi, we may have to explicitly specify
more plugins in the configuration file as they are not built in by
default.  Add http, http-socket (maybe only needed for glance?),
python, python3.

Change-Id: I111f2b1311b67836757496a0eac19f79a1b64073
"
openstack%2Ftripleo-docs~master~I3f37d5b83625d653f96ebcd4c4744e7fd46c72e7,openstack/tripleo-docs,master,standalone-version,I3f37d5b83625d653f96ebcd4c4744e7fd46c72e7,Add note about standalone being only in master,MERGED,2018-06-20 14:53:52.000000000,2018-07-03 03:43:08.000000000,2018-07-03 03:43:08.000000000,3,0,2,576887,8a135ce84cdee8519a11841fb520c34067182c17,16,4,4,1,14985,Alex Schultz,mwhahaha,"Add note about standalone being only in master

It only works in master but our repository list has all the stable
versions. Need to address that seperately but for now, let's at least
warn people ahead of time.

Change-Id: I3f37d5b83625d653f96ebcd4c4744e7fd46c72e7
"
openstack%2Ftripleo-heat-templates~master~Ia2f50d539bf6afbeb67610a925f9f4ea0849d735,openstack/tripleo-heat-templates,master,bug/1779123,Ia2f50d539bf6afbeb67610a925f9f4ea0849d735,OVN: Remove environment files which deploy OVN dbs in non HA,MERGED,2018-06-28 12:48:27.000000000,2018-07-03 03:42:20.000000000,2018-07-03 03:42:20.000000000,8,186,0,578788,819805d708cccc6e1419a47b16fc012955ce9156,26,6,4,7,10237,Numan Siddique,numansiddique,"OVN: Remove environment files which deploy OVN dbs in non HA

In a 3 node controller deployment OVN db servers are started only on one node
and if that node goes down, we hit the down time for ovsdb-servers and neutron-server.

So it is highly recommended to deploy OVN db servers as a pacemaker HA resource.

Change-Id: Ia2f50d539bf6afbeb67610a925f9f4ea0849d735
Closes-bug: #1779123
"
openstack%2Fneutron-fwaas~master~Id5848e119a7927fe1e4a00aa2a810b2e6265dca3,openstack/neutron-fwaas,master,neutron_master_code,Id5848e119a7927fe1e4a00aa2a810b2e6265dca3,Update neutron code master for project,ABANDONED,2018-07-03 02:48:41.000000000,2018-07-03 03:34:31.000000000,,1,1,0,579741,f703d72f1be923c76a35b0fe747b1b584b323f33,2,0,1,1,25254,Nguyen Van Trung,trungnv,"Update neutron code master for project

This patch will bring newest neutron code from master and
avoid to some issues when neutron is updating.

Change-Id: Id5848e119a7927fe1e4a00aa2a810b2e6265dca3
"
openstack%2Ftricircle~master~I0c004ca3a7f31159372ff69d6e7ea0dcede0e66a,openstack/tricircle,master,s9,I0c004ca3a7f31159372ff69d6e7ea0dcede0e66a,Fix the unit test error,MERGED,2018-06-29 08:30:03.000000000,2018-07-03 03:15:47.000000000,2018-07-03 03:15:47.000000000,11,4,0,579095,593bfa0c391480f45c91d2bfc9ee767262741053,22,3,4,1,27215,baisen,songbaisen,"       Fix the unit test error

        1. What is the problem?

           the unit test can not pass.

        2. What is the solution to the problem?

           after the devstac run export the OS_PASSWORD as

           define in the devstack.

        3. What the features to be implemented in the Tricircle to realize the solution?

           I compare the faild and before passed local.conf they are all the same. so

           it is look like a bug of devstack. later on I will pull a bug for this in

           devstack bug list.wait on devstack to fix this bug.

        Signed-off-by: song baisen <songbaisen@szzt.com.cn>

        Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>, zhiyuan_cai <luckyvega.g@gmail.com>

Change-Id: I0c004ca3a7f31159372ff69d6e7ea0dcede0e66a
"
openstack%2Fblazar~master~I2b26d09366c1a802433e15e84cf06b6ddad88d0f,openstack/blazar,master,policy-and-docs-in-code,I2b26d09366c1a802433e15e84cf06b6ddad88d0f,Add upgrade releaesnote for policy-in-code,MERGED,2018-06-19 05:09:40.000000000,2018-07-03 03:12:39.000000000,2018-07-03 03:12:39.000000000,5,0,0,576353,0c3142d2c093c45b1279f4c58c0334207af3801f,12,3,3,1,8878,Masahito Muroi,masa,"Add upgrade releaesnote for policy-in-code

Change-Id: I2b26d09366c1a802433e15e84cf06b6ddad88d0f
"
openstack%2Fneutron~master~I9240be68bcaadf5491b6ee2f406e847ef1b902f3,openstack/neutron,master,,I9240be68bcaadf5491b6ee2f406e847ef1b902f3,Update the Bugs link for triage,MERGED,2018-06-28 05:54:06.000000000,2018-07-03 03:12:04.000000000,2018-06-28 23:46:09.000000000,3,3,0,578682,daa7ae4e249d136ba0113547f10f36ed63236208,11,5,2,2,21691,weizj,ZhijunWei,"Update the Bugs link for triage

This content has been moved to [0]

[0]: https://docs.openstack.org/project-team-guide/bugs.html

Change-Id: I9240be68bcaadf5491b6ee2f406e847ef1b902f3
"
openstack%2Fblazar~master~Ia4052c9683598efe5ec766de4fc30d7b69ec4363,openstack/blazar,master,policy-and-docs-in-code,Ia4052c9683598efe5ec766de4fc30d7b69ec4363,Add a release note for policy-in-code,MERGED,2018-06-07 05:03:43.000000000,2018-07-03 03:09:58.000000000,2018-07-03 03:09:58.000000000,9,0,0,573082,98ae9a99ae8eb6dfccd8cc3e4973290d0000f933,16,5,3,1,23840,Hiroaki Kobayashi,hiro-kobayashi,"Add a release note for policy-in-code

Change-Id: Ia4052c9683598efe5ec766de4fc30d7b69ec4363
Implements: blueprint policy-in-code
"
openstack%2Fblazar~master~I47afa929ebfa30e17c2dbeac31108ecbab67f067,openstack/blazar,master,policy-and-docs-in-code,I47afa929ebfa30e17c2dbeac31108ecbab67f067,Register and document policy in code,MERGED,2018-06-07 02:51:39.000000000,2018-07-03 02:53:06.000000000,2018-07-03 02:53:06.000000000,259,119,5,573074,99cb6b5199cd61cea218bd11848b11e2b1baaff4,22,4,6,22,23840,Hiroaki Kobayashi,hiro-kobayashi,"Register and document policy in code

This patch moves default policy definitions from file-based maintenance
to registering them in code following OpenStack standard[1].

[1] https://governance.openstack.org/tc/goals/queens/policy-in-code.html

Change-Id: I47afa929ebfa30e17c2dbeac31108ecbab67f067
Implements: blueprint policy-in-code
"
openstack%2Fwatcher~master~I0fcec510498857c3c840a3973bb504d2fa2045e8,openstack/watcher,master,6212,I0fcec510498857c3c840a3973bb504d2fa2045e8,rectify 'a exception' to 'an exception',NEW,2018-06-21 02:56:17.000000000,2018-07-03 02:43:18.000000000,,1,1,0,577026,70ec34a61dd8ad969fd0b9b9d54032cb9ec3310c,4,3,1,1,27370,wangdequn,wangdequn,"rectify 'a exception' to 'an exception'

Change-Id: I0fcec510498857c3c840a3973bb504d2fa2045e8
"
openstack%2Fopenstack-ansible~stable%2Fqueens~I71de7a029bb75e2eb37a85f81f404c8d63468ca7,openstack/openstack-ansible,stable/queens,update-ironic-role-sha,I71de7a029bb75e2eb37a85f81f404c8d63468ca7,Update ironic role SHA for conf fixes,MERGED,2018-07-02 14:51:52.000000000,2018-07-03 02:24:09.000000000,2018-07-03 02:24:09.000000000,1,1,0,579585,cd91c7400beccf56da7d8939037c095e57b66de7,16,4,1,1,21314,Cam J. Loader,4-cameron,"Update ironic role SHA for conf fixes

Change-Id: I71de7a029bb75e2eb37a85f81f404c8d63468ca7
"
openstack%2Fopenstack-helm~master~I4733a72b3c9c4473dd721c39671918bb99562044,openstack/openstack-helm,master,,I4733a72b3c9c4473dd721c39671918bb99562044,Complete the Default values decription,MERGED,2018-06-27 05:14:58.000000000,2018-07-03 02:22:12.000000000,2018-07-03 02:22:12.000000000,38,0,0,578282,8f4eadcf8533eaf7b09d631e5047f34cdaab3fef,11,5,2,8,22165,caoyuan,caoyuan,"Complete the Default values decription

Change-Id: I4733a72b3c9c4473dd721c39671918bb99562044
"
openstack%2Fneutron~stable%2Fqueens~Ie37e72b98f0d8e6e3ccafb1fe38a57bd50777331,openstack/neutron,stable/queens,bug/1775220-stable/queens,Ie37e72b98f0d8e6e3ccafb1fe38a57bd50777331,Mark unit test test_get_objects_queries_constant as unstable,MERGED,2018-06-29 20:40:01.000000000,2018-07-03 02:15:28.000000000,2018-07-03 02:15:28.000000000,1,0,0,579282,f384828895e1d334310973cfeafa14264d6bc5f6,8,5,1,1,13995,Nate Johnston,natejohnston,"Mark unit test test_get_objects_queries_constant as unstable

This test is failing a lot in our check and gate queues.
It's reported in [1].
To make life easier, this test will be marked as unstable
until [1] will be fixed.

[1] https://bugs.launchpad.net/neutron/+bug/1775220

Change-Id: Ie37e72b98f0d8e6e3ccafb1fe38a57bd50777331
Related-Bug: #1775220
(cherry picked from commit c4ea8ba82bb0e5c3026330333c9a88c88ab930ee)
"
openstack%2Fneutron~stable%2Fqueens~I775b466dce19c4168985b19e1ddb938118f48dcb,openstack/neutron,stable/queens,bug/1705351,I775b466dce19c4168985b19e1ddb938118f48dcb,ovs: removed sinkhole RPC target for old topics,MERGED,2018-06-15 08:48:50.000000000,2018-07-03 02:15:24.000000000,2018-07-03 02:15:24.000000000,0,24,0,575688,8cf39054ef2ffa5a28c53e5fd39647024b8cc09a,14,5,2,1,11975,Slawek Kaplonski,slaweq,"ovs: removed sinkhole RPC target for old topics

The oslo.messaging bug that triggered adding the hack is fixed in
Queens, so we don't need it anymore.

Change-Id: I775b466dce19c4168985b19e1ddb938118f48dcb
Related-Bug: #1705351
(cherry picked from commit 46cbe459ea812ec6ca18b2f597f295e0755927ae)
"
openstack%2Fzun~master~Ie0df504a67cc20907d35e3513fd80d3f6be687fd,openstack/zun,master,bug/1755019,Ie0df504a67cc20907d35e3513fd80d3f6be687fd,Convert type of 'command' from string to list,MERGED,2018-06-15 09:49:00.000000000,2018-07-03 02:00:01.000000000,2018-07-03 02:00:01.000000000,156,64,17,575709,b03fbe6dfddea496bc156ee45c44f972d4ebd580,37,4,10,17,25571,Rajat Sharma,rajat29,"Convert type of 'command' from string to list

Zun is currently using a string representation of 'command',
but Docker is returning 'Cmd' in string representation. This
requires a conversion of commands between list and string,
which is complicated and error-prone (it might causes bugs like
https://review.openstack.org/#/c/551795/).
It is better to switch from string to list

Co-Authored-By: Hongbin Lu <hongbin034@gmail.com>

Change-Id: Ie0df504a67cc20907d35e3513fd80d3f6be687fd
Closes-Bug: #1755019
"
openstack%2Frequirements~stable%2Fqueens~I93f1fa8ac2086427e5255b555aa99c7a19e609e7,openstack/requirements,stable/queens,bug/1778054,I93f1fa8ac2086427e5255b555aa99c7a19e609e7,"Revert ""add neutron/networking projects to blacklist for queens""",ABANDONED,2018-07-03 01:22:01.000000000,2018-07-03 01:51:38.000000000,,0,12,1,579726,49e790f127ed85610e0443ad4c28bc0d36b686f0,7,6,2,1,11628,Michael Johnson,johnsom,"Revert ""add neutron/networking projects to blacklist for queens""

This breaks the stable branches. We don't constrain any of the
neutron plugins on the stable branches. We are reverting the addition of neutron-lbaas to g-r, blacklist, and the upper-constraints.

Depends-On: https://review.openstack.org/#/c/579725/
This reverts commit 0afc5ccf774e2d0f5aa6a8f1988bc3c11c859a80.

Change-Id: I93f1fa8ac2086427e5255b555aa99c7a19e609e7
"
openstack%2Fopenstack-ansible~master~If1aae993adae0417841dd91f914c58f101d191b2,openstack/openstack-ansible,master,move-db-setup-into-roles,If1aae993adae0417841dd91f914c58f101d191b2,Move database creation into role (octavia),MERGED,2018-06-28 15:30:04.000000000,2018-07-03 01:51:05.000000000,2018-07-03 01:51:05.000000000,5,17,0,578850,eeef4da5879bb678032cbc05d081d3e9974bd9c9,16,8,1,1,6816,Jesse Pretorius,jesse-pretorius,"Move database creation into role (octavia)

There is no record for why we implement the database creation outside
of the role in the playbook, when we could do it inside the role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we remove the group_vars which were duplicated from the
role, and remove the DB setup tasks as they are no longer required.

Depends-On: https://review.openstack.org/578849
Change-Id: If1aae993adae0417841dd91f914c58f101d191b2
"
openstack%2Fpuppet-tripleo~master~Ib7fcafbe769aadfcc58323ba3a06fa28a80a488a,openstack/puppet-tripleo,master,bug/1779112,Ib7fcafbe769aadfcc58323ba3a06fa28a80a488a,Run cinder's db sync only on bootstrap node,MERGED,2018-06-29 17:28:06.000000000,2018-07-03 01:50:54.000000000,2018-07-02 22:34:27.000000000,21,3,0,579234,34810fc361e71cfabe5d8ad6e083c664af9120e8,8,3,1,2,21129,Alan Bishop,ASBishop,"Run cinder's db sync only on bootstrap node

The sync_db variable (which is True only on bootstrap node) needs to be
passed to the ::cinder::api resource to ensure the db sync only happens
on the bootstrap node.

Closes-Bug: #1779112
Change-Id: Ib7fcafbe769aadfcc58323ba3a06fa28a80a488a
"
openstack%2Fneutron~stable%2Fqueens~If506e0ff68fc49748f19618470c85901339a419b,openstack/neutron,stable/queens,bug/1757089,If506e0ff68fc49748f19618470c85901339a419b,Don't set administratively disabled ports as ACTIVE,MERGED,2018-06-15 08:09:26.000000000,2018-07-03 01:50:27.000000000,2018-07-03 01:50:27.000000000,17,0,0,575681,b3e47415cc7c74535aa66dc2bf0e51aae4760d1d,17,7,2,2,11975,Slawek Kaplonski,slaweq,"Don't set administratively disabled ports as ACTIVE

There was a race condition during port update to disable it.
In case when neutron-server receives port update call to set
admin_state_down on port, it sends PORT_UPDATE notification
to agents.

Then both L2 and DHCP agents start doing their job with port.
L2 agent asks neutron-server about device details and during
processing this call server sets port's status to DOWN if
its admin_state_up = False.
Problem is that sometimes just after that, DHCP agent will send
to neutron server notification that provisioning for this port
is finished.
As there is no any other provisioning block in db (because it
is just port update) neutron-server is setting port's status
to ACTIVE.

This patch fixes this issue by allowing to transition to
ACTIVE only ports which are administratively enabled.

Change-Id: If506e0ff68fc49748f19618470c85901339a419b
Closes-Bug: #1757089
(cherry picked from commit 2a1319ab7a21c2492627c38c5549d20eada899ff)
"
openstack%2Fopenstack-helm-infra~master~Ibd0d0775445db3124bfd543a4588d62daf961478,openstack/openstack-helm-infra,master,fix_role_name,Ibd0d0775445db3124bfd543a4588d62daf961478,Fix wrong role name reference.,ABANDONED,2018-06-28 07:21:55.000000000,2018-07-03 01:44:19.000000000,,1,1,0,578711,cdc7aedc55932963b12c432a79b42dbbf2e78bfd,10,4,3,1,25431,Wayne Chan,wayne.chan,"Fix wrong role name reference.

Change-Id: Ibd0d0775445db3124bfd543a4588d62daf961478
"
openstack%2Fneutron~stable%2Focata~If506e0ff68fc49748f19618470c85901339a419b,openstack/neutron,stable/ocata,bug/1757089,If506e0ff68fc49748f19618470c85901339a419b,Don't set administratively disabled ports as ACTIVE,MERGED,2018-06-15 08:23:15.000000000,2018-07-03 01:34:31.000000000,2018-07-03 01:34:30.000000000,17,0,0,575684,39b9197f6f30407d1e65db571b68a18c4524d479,19,5,2,2,11975,Slawek Kaplonski,slaweq,"Don't set administratively disabled ports as ACTIVE

There was a race condition during port update to disable it.
In case when neutron-server receives port update call to set
admin_state_down on port, it sends PORT_UPDATE notification
to agents.

Then both L2 and DHCP agents start doing their job with port.
L2 agent asks neutron-server about device details and during
processing this call server sets port's status to DOWN if
its admin_state_up = False.
Problem is that sometimes just after that, DHCP agent will send
to neutron server notification that provisioning for this port
is finished.
As there is no any other provisioning block in db (because it
is just port update) neutron-server is setting port's status
to ACTIVE.

This patch fixes this issue by allowing to transition to
ACTIVE only ports which are administratively enabled.

Change-Id: If506e0ff68fc49748f19618470c85901339a419b
Closes-Bug: #1757089
(cherry picked from commit 2a1319ab7a21c2492627c38c5549d20eada899ff)
"
openstack%2Fneutron~stable%2Fqueens~Ib84b1f869f936cf45abb2fab8e14e92d714cdbd3,openstack/neutron,stable/queens,bug/1768952,Ib84b1f869f936cf45abb2fab8e14e92d714cdbd3,Fix an attribute error on listing AZs with filters,MERGED,2018-06-24 13:34:11.000000000,2018-07-03 01:34:27.000000000,2018-07-03 01:34:27.000000000,6,1,0,577649,593bce98a0bfe7969b189acc556527424c9be80a,17,7,2,2,11975,Slawek Kaplonski,slaweq,"Fix an attribute error on listing AZs with filters

Change-Id: Ib84b1f869f936cf45abb2fab8e14e92d714cdbd3
Closes-Bug: #1768952
(cherry picked from commit 37b66a4700ec944ebc0a3bf140c1b01ce3c4987d)
"
openstack%2Fpuppet-openstack-integration~master~I3ed98047e1d62efdbd1c754b70cbd03e757e1051,openstack/puppet-openstack-integration,master,unit,I3ed98047e1d62efdbd1c754b70cbd03e757e1051,Make puppet 5.5 unit job voting,MERGED,2018-07-02 11:37:19.000000000,2018-07-03 01:23:51.000000000,2018-07-03 01:23:51.000000000,0,1,0,579524,c1174e23cd1661ef1a03dff8af213250e0845f87,7,3,1,1,16137,Tobias Urdin,tobasco,"Make puppet 5.5 unit job voting

If we only run puppet 5 jobs now this should be
voting, puppet 4 unit should still be voting so
that we know if we break puppet 4 support.

Change-Id: I3ed98047e1d62efdbd1c754b70cbd03e757e1051
"
openstack%2Frequirements~stable%2Fqueens~I8a390202e9674e5309540a5c8b70121a9b369b15,openstack/requirements,stable/queens,bug/1778054,I8a390202e9674e5309540a5c8b70121a9b369b15,add neutron/networking projects to blacklist for queens,MERGED,2018-06-20 21:27:35.000000000,2018-07-03 01:22:01.000000000,2018-06-25 02:59:49.000000000,12,0,2,576988,0afc5ccf774e2d0f5aa6a8f1988bc3c11c859a80,17,5,4,1,5367,boden,boden,"add neutron/networking projects to blacklist for queens

The introduction of [1] caused complete gate breakage to vmware-nsx
(see logs in [2]) queens jobs and I suspect any project depending on
lbaas. As a result it was suggested we update our queens branch for zuul
v3, done in [3]. However, while [3] appears to get the jobs running the
requirements job is failing because it can't find neutron, and the other
networking project dependencies [4].

This patch adds the neutron/networking dependencies to global
blacklist to address [4].

[1] https://review.openstack.org/#/c/576526/
[2] https://review.openstack.org/#/c/576822/
[3] https://review.openstack.org/#/c/576925/
[4] http://logs.openstack.org/25/576925/2/check/requirements-check/
75bc4c0/job-output.txt.gz#_2018-06-20_19_25_32_069738

Closes-Bug: #1778054

Change-Id: I8a390202e9674e5309540a5c8b70121a9b369b15
"
openstack%2Frequirements~stable%2Fqueens~I51e0902215b21abffb39d17daf780b419d55ceea,openstack/requirements,stable/queens,bug/1778054,I51e0902215b21abffb39d17daf780b419d55ceea,add neutron-lbaas to global-requirements,MERGED,2018-06-25 13:57:46.000000000,2018-07-03 01:21:29.000000000,2018-06-25 17:30:53.000000000,1,0,0,577825,abafb89c7b5fdc8a93c7aeb731503c1e53cfdafd,8,3,1,1,5367,boden,boden,"add neutron-lbaas to global-requirements

Now that we have neutron-lbaas constrained [1] for queens and the
blacklist setup [2] for this, we now need to add neutron-lbaas to
the global-requirements.

[1] https://review.openstack.org/#/c/576526/
[2] https://review.openstack.org/#/c/576988/

Change-Id: I51e0902215b21abffb39d17daf780b419d55ceea
"
openstack%2Fopenstack-ansible~master~I0d9ecec55ee15c83159a1ea5715241f53823cd32,openstack/openstack-ansible,master,move-db-setup-into-roles,I0d9ecec55ee15c83159a1ea5715241f53823cd32,Move database creation into role (magnum),MERGED,2018-06-28 14:06:04.000000000,2018-07-03 01:18:10.000000000,2018-07-03 01:18:10.000000000,6,16,0,578813,f407d7f0781b450c0e6f3d6758c3105a8f95a476,14,7,1,2,6816,Jesse Pretorius,jesse-pretorius,"Move database creation into role (magnum)

There is no record for why we implement the database creation outside
of the role in the playbook, when we could do it inside the role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we remove the group_vars which were duplicated from the
role, and remove the DB setup tasks as they are no longer required.

Depends-On: https://review.openstack.org/578812
Change-Id: I0d9ecec55ee15c83159a1ea5715241f53823cd32
"
openstack%2Fpuppet-openstack-integration~stable%2Fqueens~If84ecbf86f3ebde8e69a1a26759ad967d061725a,openstack/puppet-openstack-integration,stable/queens,,If84ecbf86f3ebde8e69a1a26759ad967d061725a,Add support to select ceph version,MERGED,2018-07-02 12:13:52.000000000,2018-07-03 01:12:50.000000000,2018-07-03 01:12:50.000000000,101,39,0,579531,d46e33d2049174e2efbdebc07a655a6b12a49153,12,4,2,6,16137,Tobias Urdin,tobasco,"Add support to select ceph version

We are closing in on adding Ceph Mimic support and
want to ensure we can select either Luminous or Mimic
for running our tests.

For example Ubuntu 18.04 must run Ceph Mimic because
Luminous is not available (yet), Debian doesn't have
Ceph Mimic packages so we must run Luminous there.

Change-Id: If84ecbf86f3ebde8e69a1a26759ad967d061725a
"
openstack%2Fpuppet-openstack-integration~master~I581c469853ea28e0a75654c5d0f0a5cbdd98d257,openstack/puppet-openstack-integration,master,enable-py3,I581c469853ea28e0a75654c5d0f0a5cbdd98d257,Handle issue caused by pip installed setuptools (Fedora),MERGED,2018-07-02 13:31:33.000000000,2018-07-03 01:12:18.000000000,2018-07-03 01:12:18.000000000,17,0,0,579557,ae8e9225e2c1a9426f57353275af2710edbf9312,7,3,1,1,13861,yatin,yatinkarel,"Handle issue caused by pip installed setuptools (Fedora)

setuptools is being installed by pip in the image.
We need it to be used by sealert which looks for
pkg_resources in Python3 pythonpath. setuptools
is being excluded at /etc/dnf/dnf.conf.
This patch removes and reinstall python3-setuptools.

Change-Id: I581c469853ea28e0a75654c5d0f0a5cbdd98d257
"
openstack%2Fopenstack-ansible-os_neutron~master~I84c8ba7952b15772d9b070dee9ba704cc9de8339,openstack/openstack-ansible-os_neutron,master,common-role-python-reqs,I84c8ba7952b15772d9b070dee9ba704cc9de8339,Use tests repo for common role test requirements,MERGED,2018-07-02 15:16:03.000000000,2018-07-03 01:06:27.000000000,2018-07-03 01:06:27.000000000,1,46,0,579595,5b40083621b0b3196884c435c36f2f440f7404bb,9,3,1,2,28521,Heba Naser,nheba,"Use tests repo for common role test requirements

Using tox for requirements management requires in-repo
requirements files for all our repositories. Rather than
do that, we make use of the tests repo to capture our
common requirements and use this to install them.

This reduces our review requirement rate and simplifies
maintenance for us for the tox config. It also makes it
usable with 'Depends-On', which is marvellous!

The tox requirements definitions for docs/releasenotes
builds are left in-place as those are standard entries
across the community. If that changes at some point, we
can re-assess those entries too.

Depends-On: https://review.openstack.org/579208
Change-Id: I84c8ba7952b15772d9b070dee9ba704cc9de8339
"
openstack%2Fopenstack-ansible-os_horizon~master~Ic21746968da2f0a091ed2d343561a4e98b8499c0,openstack/openstack-ansible-os_horizon,master,common-role-python-reqs,Ic21746968da2f0a091ed2d343561a4e98b8499c0,Use tests repo for common role test requirements,MERGED,2018-07-02 14:53:41.000000000,2018-07-03 00:59:15.000000000,2018-07-03 00:59:15.000000000,1,28,0,579586,416c23dd09555152837787994b8d56c9b32b6cf4,11,3,1,2,28521,Heba Naser,nheba,"Use tests repo for common role test requirements

Using tox for requirements management requires in-repo
requirements files for all our repositories. Rather than
do that, we make use of the tests repo to capture our
common requirements and use this to install them.

This reduces our review requirement rate and simplifies
maintenance for us for the tox config. It also makes it
usable with 'Depends-On', which is marvellous!

The tox requirements definitions for docs/releasenotes
builds are left in-place as those are standard entries
across the community. If that changes at some point, we
can re-assess those entries too.

Depends-On: https://review.openstack.org/579208
Change-Id: Ic21746968da2f0a091ed2d343561a4e98b8499c0
"
openstack%2Fopenstack-ansible-os_rally~master~I8df9f72bc23b7552b3097be51bc18cd1ed0e84d4,openstack/openstack-ansible-os_rally,master,common-role-python-reqs,I8df9f72bc23b7552b3097be51bc18cd1ed0e84d4,Use tests repo for common role test requirements,MERGED,2018-07-02 15:26:34.000000000,2018-07-03 00:57:47.000000000,2018-07-03 00:57:47.000000000,1,26,0,579598,6c985840152eed3d29afba3928d3d05cfb87a93f,9,3,1,2,28521,Heba Naser,nheba,"Use tests repo for common role test requirements

Using tox for requirements management requires in-repo
requirements files for all our repositories. Rather than
do that, we make use of the tests repo to capture our
common requirements and use this to install them.

This reduces our review requirement rate and simplifies
maintenance for us for the tox config. It also makes it
usable with 'Depends-On', which is marvellous!

The tox requirements definitions for docs/releasenotes
builds are left in-place as those are standard entries
across the community. If that changes at some point, we
can re-assess those entries too.

Depends-On: https://review.openstack.org/579208
Change-Id: I8df9f72bc23b7552b3097be51bc18cd1ed0e84d4
"
openstack%2Fosc-lib~master~Id4cf07a46e380af9a1aa30352193ca52624fc9eb,openstack/osc-lib,master,opentracing-id,Id4cf07a46e380af9a1aa30352193ca52624fc9eb,Add OpenTracing based driver id,MERGED,2018-05-07 02:40:00.000000000,2018-07-03 00:49:59.000000000,2018-07-03 00:49:59.000000000,7,2,4,566493,9071962d96dd3bb2d72fc1fd807953fc97da1750,12,7,1,1,23630,Tovin Seven,tovin07,"Add OpenTracing based driver id

Drivers/tracers that follow OpenTracing API are using 64-bit id
instead of 128-bit id like native OSProfiler (uuid4 from uuidutils)

This output is for some tracers like Zipkin, Jaeger.

Depends-On: I8f75af487f50d5e67a1321a4c951d2a0d85733a1
Change-Id: Id4cf07a46e380af9a1aa30352193ca52624fc9eb
"
openstack%2Fpuppet-ceph~master~Iccee3d8d1807cbbdc3d2d2687cecacc00cd2343d,openstack/puppet-ceph,master,create-luminous,Iccee3d8d1807cbbdc3d2d2687cecacc00cd2343d,Update UPPER_CONSTRAINTS_FILE for stable/luminous,ABANDONED,2018-07-02 14:17:13.000000000,2018-07-03 00:49:03.000000000,,10,11,0,579568,c53ef49ca0bf07b3c628740e71e859d8dfd4541b,4,3,1,3,16137,Tobias Urdin,tobasco,"Update UPPER_CONSTRAINTS_FILE for stable/luminous

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Iccee3d8d1807cbbdc3d2d2687cecacc00cd2343d
"
openstack%2Foctavia~master~I132977d3fb6766d4349746f845c424c97bf51973,openstack/octavia,master,test-ovh,I132977d3fb6766d4349746f845c424c97bf51973,DNM: Re-enable KVM on OVH hosts,ABANDONED,2018-03-01 22:34:03.000000000,2018-07-03 00:47:20.000000000,,8,1,0,549054,42fb16f579107fd19cf8b068a60e20f5c05f7444,62,7,11,3,11628,Michael Johnson,johnsom,"DNM: Re-enable KVM on OVH hosts

OVH appears to have resolved the KVM issue with the gate hosts.
This patch re-enabled KVM on OVH hosts.

DO NOT MERGE - This patch contains dirty hacks to install some test
tools to debug this issue.

Change-Id: I132977d3fb6766d4349746f845c424c97bf51973
"
openstack%2Fkolla-ansible~stable%2Fpike~Ie90bd9c4d7d3a4b7b0aef884351cb58ed13ebd11,openstack/kolla-ansible,stable/pike,arm64-stable/pike,Ie90bd9c4d7d3a4b7b0aef884351cb58ed13ebd11,common: fix ansible location,MERGED,2018-07-02 07:21:58.000000000,2018-07-03 00:44:46.000000000,2018-07-03 00:44:46.000000000,1,1,0,579472,41b46ee15ed031cf3f27cc59a4c38a9259869ec0,7,4,1,1,7488,Jeffrey Zhang,Jeffrey4l,"common: fix ansible location

When deploying on arm64, common reports error:
stat /usr/bin/ansible: no such file or directory

The reason is ansible is installed to /usr/local/bin/ansible
rather that /usr/bin/ansible
Fix the issue to call ansible directly, to consider both cases.

Change-Id: Ie90bd9c4d7d3a4b7b0aef884351cb58ed13ebd11
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
Signed-off-by: Zhangfei Gao <zhangfei.gao@linaro.org>
(cherry picked from commit 30f0dc10ce3e41451c6429ee4c79b3ba09a391a1)
"
openstack%2Foslo.policy~master~I6dac4c8e7b39c9b80cc8f3728763e8d783c9e940,openstack/oslo.policy,master,579295,I6dac4c8e7b39c9b80cc8f3728763e8d783c9e940,Fix requirements and convert to stestr,MERGED,2018-06-29 14:08:29.000000000,2018-07-03 00:33:26.000000000,2018-07-03 00:33:26.000000000,8,9,0,579169,8f74e2ba283c2a8ed757088d706c5e02afbe6a73,12,3,4,6,5046,Lance Bragstad,ldbragst,"Fix requirements and convert to stestr

This commit fixes two issues that are currently blocking the gate.

The first is that it bumps the Sphinx requirement to be within
acceptable constraints. The second is that it converts oslo.policy to
use stestr instead of testr. This is all being done in one patch
because proposing them individually causes deadlock (the patch to
bump the sphinx requirement fails because we're still using testr and
the patch to convert to stestr fails the requirements-check job).

The following explains the reasoning behind the stestr change.

With the upgrade to oslotest 3.6.0 [0], testr no longer works [1].
This is because oslotest no longer requires testr and we don't depend
on it directly in oslo.policy.

[0] https://github.com/openstack/requirements/commit/d5a3c58f7195517a6083032e41b702c2a0aca431
[1] https://github.com/openstack/oslotest/commit/897823fbd61ae9ba015af38e9fed5a5728de64c2

Change-Id: I6dac4c8e7b39c9b80cc8f3728763e8d783c9e940
"
openstack%2Fpuppet-senlin~master~I7a01e38c61c9a1d3064b4177b521f17dc662e18d,openstack/puppet-senlin,master,fix-debian-version,I7a01e38c61c9a1d3064b4177b521f17dc662e18d,Debian release is 9 in metadata,MERGED,2018-07-02 06:04:52.000000000,2018-07-03 00:24:19.000000000,2018-07-03 00:24:19.000000000,1,1,0,579453,dcb9e050dfafa68b22ee45abd70dc6c6ec3ee4fa,6,2,1,1,9414,zhongshengping,ZhongShengping,"Debian release is 9 in metadata

Change-Id: I7a01e38c61c9a1d3064b4177b521f17dc662e18d
"
openstack%2Fopenstack-ansible-os_panko~master~Ib31b94433183bb12209fe824ea5c8ee67aaa8276,openstack/openstack-ansible-os_panko,master,move-db-setup-into-roles,Ib31b94433183bb12209fe824ea5c8ee67aaa8276,Move database creation into role,MERGED,2018-06-28 15:36:51.000000000,2018-07-03 00:20:12.000000000,2018-07-03 00:20:12.000000000,34,25,0,578851,e5b8094b745187df1ca3d108b2a4e96760b58d2a,13,4,2,6,6816,Jesse Pretorius,jesse-pretorius,"Move database creation into role

There is no record for why we implement the database creation outside
of the role in the playbook, when we could do it inside the role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we implement a new variable called 'panko_db_setup_host'
which is used in the role to allow delegation of the database setup
task to any host, but defaults to the first member of the galera_all
host group. We also document the variable 'panko_galera_address' which
has been used for a long time, but never documented. A bunch of unused
variables have also been removed.

Change-Id: Ib31b94433183bb12209fe824ea5c8ee67aaa8276
"
openstack%2Ftripleo-common~master~I37c2422ddea3ad2ac67252107666e2d320cf295d,openstack/tripleo-common,master,networking-ansible,I37c2422ddea3ad2ac67252107666e2d320cf295d,Install python2-networking-ansible in neutron-server,MERGED,2018-06-18 10:39:23.000000000,2018-07-03 00:17:40.000000000,2018-07-03 00:17:40.000000000,3,1,1,576093,2d4c5d351d1aeff0732b5cfb940411775d51e046,25,9,1,1,8833,Rabi Mishra,rabi,"Install python2-networking-ansible in neutron-server

This package contain the ML2 networking-ansible mechanism driver used
to integrate networking devices with neutron.

Change-Id: I37c2422ddea3ad2ac67252107666e2d320cf295d
"
openstack%2Fansible-hardening~master~Ia84911ece4666ad69a15b3439e74853aab9ec275,openstack/ansible-hardening,master,python3-first,Ia84911ece4666ad69a15b3439e74853aab9ec275,fix tox python3 overrides,ABANDONED,2018-07-02 07:32:49.000000000,2018-07-03 00:04:55.000000000,,13,0,0,579476,cd6ae383f220e765971b6c625f6a9adddc3f6f38,8,3,3,2,19853,Nguyen Hung Phuong,phuongnh,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Ia84911ece4666ad69a15b3439e74853aab9ec275
"
openstack%2Fosc-lib~master~Ifa5b0f211fbf395d2d6a287204e89d949276931b,openstack/osc-lib,master,story/2002095,Ifa5b0f211fbf395d2d6a287204e89d949276931b,"Delete the output in ""find_bulk"" api",MERGED,2018-06-14 08:40:34.000000000,2018-07-03 00:03:48.000000000,2018-07-03 00:03:48.000000000,0,1,0,575372,8cd329b3b60745e8b9afd0284913170555e444bf,10,3,1,1,25564,yanpuqing,ycx,"Delete the output in ""find_bulk"" api

The output affects the output of openstackclient and it's unnecessary.

Change-Id: Ifa5b0f211fbf395d2d6a287204e89d949276931b
Task: 19773
Story: 2002095
"
openstack%2Fopenstack-ansible-os_zaqar~master~I1c0f315a9260319024dc437654727c6cf646cb2c,openstack/openstack-ansible-os_zaqar,master,common-role-python-reqs,I1c0f315a9260319024dc437654727c6cf646cb2c,Use tests repo for common role test requirements,MERGED,2018-07-02 17:06:32.000000000,2018-07-02 23:56:04.000000000,2018-07-02 23:56:04.000000000,1,26,0,579643,d46bf4bc2fdf9c72e39d9a85851b90b5eaebe183,7,3,1,2,28521,Heba Naser,nheba,"Use tests repo for common role test requirements

Using tox for requirements management requires in-repo
requirements files for all our repositories. Rather than
do that, we make use of the tests repo to capture our
common requirements and use this to install them.

This reduces our review requirement rate and simplifies
maintenance for us for the tox config. It also makes it
usable with 'Depends-On', which is marvellous!

The tox requirements definitions for docs/releasenotes
builds are left in-place as those are standard entries
across the community. If that changes at some point, we
can re-assess those entries too.

Depends-On: https://review.openstack.org/579208
Change-Id: I1c0f315a9260319024dc437654727c6cf646cb2c
"
openstack%2Fansible-role-python_venv_build~master~Ib95d3ed9bdb956d0426dadb31a85b1191dbd4e2b,openstack/ansible-role-python_venv_build,master,,Ib95d3ed9bdb956d0426dadb31a85b1191dbd4e2b,Switch to using project-templates,MERGED,2018-06-20 21:12:36.000000000,2018-07-02 23:56:03.000000000,2018-07-02 23:56:03.000000000,2,12,1,576984,93059cbe188e67a5fb0b9b9a10100e4d535297b3,12,3,2,1,28521,Heba Naser,nheba,"Switch to using project-templates

In order to have more centralized configuration, switch the role
to use the project-template instead.

Change-Id: Ib95d3ed9bdb956d0426dadb31a85b1191dbd4e2b
"
openstack%2Fansible-role-python_venv_build~master~I5a9cac0a65e36bc40300cb67175bd146949ac141,openstack/ansible-role-python_venv_build,master,common-role-python-reqs,I5a9cac0a65e36bc40300cb67175bd146949ac141,Use tests repo for common role test requirements,MERGED,2018-07-01 18:51:37.000000000,2018-07-02 23:56:02.000000000,2018-07-02 23:56:02.000000000,1,24,0,579389,3d57ea0dcdc51d9c164b0f5ec92f2d831372c810,9,3,1,2,28521,Heba Naser,nheba,"Use tests repo for common role test requirements

Using tox for requirements management requires in-repo
requirements files for all our repositories. Rather than
do that, we make use of the tests repo to capture our
common requirements and use this to install them.

This reduces our review requirement rate and simplifies
maintenance for us for the tox config. It also makes it
usable with 'Depends-On', which is marvellous!

The tox requirements definitions for docs/releasenotes
builds are left in-place as those are standard entries
across the community. If that changes at some point, we
can re-assess those entries too.

Depends-On: https://review.openstack.org/579208
Change-Id: I5a9cac0a65e36bc40300cb67175bd146949ac141
"
openstack%2Fproject-team-guide~master~I425056ed5c88628ea72527ad9f3124956e7c9cd5,openstack/project-team-guide,master,addcyclehighlights,I425056ed5c88628ea72527ad9f3124956e7c9cd5,fix a few formatting nits in new cycle highlights section,MERGED,2018-07-02 21:49:49.000000000,2018-07-02 23:56:01.000000000,2018-07-02 23:56:01.000000000,11,8,0,579698,c287dd8bf120d6ed2061ba1acb96dcec01745353,8,3,1,1,2472,Doug Hellmann,doug-hellmann,"fix a few formatting nits in new cycle highlights section

Use literal text markup for filenames.

Use literal text block markup for console output and sample YAML file
content.

Remove space before list marker to remove the block quote formatting
in the output HTML.

Remove trailing blank line at end of file.

Change-Id: I425056ed5c88628ea72527ad9f3124956e7c9cd5
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fpuppet-openstack-cookiecutter~master~I176e81e5ee8c2e73cd929d105ae5fba7b9c61946,openstack/puppet-openstack-cookiecutter,master,fix-debian-version,I176e81e5ee8c2e73cd929d105ae5fba7b9c61946,Debian release is 9 in metadata,MERGED,2018-07-02 05:56:57.000000000,2018-07-02 23:56:00.000000000,2018-07-02 23:56:00.000000000,1,1,0,579445,19bf91b14135b5417ff7ab9ba546215428d91395,7,3,1,1,9414,zhongshengping,ZhongShengping,"Debian release is 9 in metadata

Change-Id: I176e81e5ee8c2e73cd929d105ae5fba7b9c61946
"
openstack%2Fpython-tripleoclient~master~I6973fec9bcc55373f89e5c873ff6ae7050fff432,openstack/python-tripleoclient,master,bug/1779005,I6973fec9bcc55373f89e5c873ff6ae7050fff432,Add undercloud_enable_selinux,MERGED,2018-06-28 15:44:54.000000000,2018-07-02 23:55:58.000000000,2018-07-02 23:55:58.000000000,16,0,4,578855,4aa679e9606d1f30a966eb3935b3a99973c5f59c,19,8,1,4,14985,Alex Schultz,mwhahaha,"Add undercloud_enable_selinux

Expose selinux configuration via the undercloud.conf

Change-Id: I6973fec9bcc55373f89e5c873ff6ae7050fff432
Depends-On: I2109bf62e307df92b6bdb57600c58dd61482f46d
Partial-Bug: #1779005
"
openstack%2Frequirements~master~Id63a6fb6fbb524081ebf46a1ef3492a4eda97868,openstack/requirements,master,bug/1779317,Id63a6fb6fbb524081ebf46a1ef3492a4eda97868,avoid exabgp 4.0.6,MERGED,2018-07-02 08:09:54.000000000,2018-07-02 23:48:17.000000000,2018-07-02 23:48:17.000000000,2,2,0,579483,b8b694f0c072ed8f45925c139cfcdc307437d5ba,10,7,1,2,12021,Thomas Morin,tmorin,"avoid exabgp 4.0.6

ExaBGP has a route parsing bug for VPNv4 default routes.
We need to avoid this version.

A fix has merged in exabgp master, expected to release in
a future 4.0.7.

Change-Id: Id63a6fb6fbb524081ebf46a1ef3492a4eda97868
Closes-Bug: 1779317
"
openstack%2Fkeystone~master~I7a42408893c782bcc20fb40ebba5f2d8af9da6a5,openstack/keystone,master,bug/1778945,I7a42408893c782bcc20fb40ebba5f2d8af9da6a5,Remove token bind capabilities,MERGED,2018-06-22 19:32:23.000000000,2018-07-02 23:48:16.000000000,2018-07-02 23:48:15.000000000,12,415,8,577524,eaa543541641fe22de0c805c9425ee3fbc09496a,24,8,5,8,5046,Lance Bragstad,ldbragst,"Remove token bind capabilities

Token bind operations were deprecated in Pike with UUID tokens and
staged for removal in Rocky.

  https://review.openstack.org/#/c/428388/

This change does keep a configuration option around since it was not
officially deprecated with the rest of the token bind functionality.
The option is being officially deprecated in this commit and
additional context about the change was added to the help text for the
option.

bp removed-as-of-rocky

Change-Id: I7a42408893c782bcc20fb40ebba5f2d8af9da6a5
"
openstack%2Fneutron-tempest-plugin~master~I285986c7a19c4804b3c8c3b0a2d2e3f895a46ff7,openstack/neutron-tempest-plugin,master,bug/1768690,I285986c7a19c4804b3c8c3b0a2d2e3f895a46ff7,Test port mac_address update,MERGED,2018-06-26 12:14:40.000000000,2018-07-02 23:48:14.000000000,2018-07-02 23:48:14.000000000,61,1,9,578082,41c43924712c728bfaff5955b92c210402c1faf5,22,6,4,2,24245,Harald Jensås,harald.jensas,"Test port mac_address update

Adds api admin tests ``test_update_mac`` and ``test_regenerate_mac``.
Also enable the ``port-mac-address-regenerate`` extension in zuul
job.

Related-Bug: #1768690
Depends-On: I7d04beea4810718c3b745de8ea97897b1323267e
Change-Id: I285986c7a19c4804b3c8c3b0a2d2e3f895a46ff7
"
openstack%2Fkeystone~master~Ib147e90e4076c1c2ca7a9fd1cf8d17ce3ddc5e34,openstack/keystone,master,bug/1711883,Ib147e90e4076c1c2ca7a9fd1cf8d17ce3ddc5e34,"Added check to avoid keyerror ""user['name']""",MERGED,2018-06-19 08:53:19.000000000,2018-07-02 23:48:13.000000000,2018-07-02 23:48:13.000000000,17,0,8,576433,f4729795ecfbc53ae391204726fd441ce4b462ef,29,8,3,2,27621,Vishakha Agarwal,Vishakha,"Added check to avoid keyerror ""user['name']""

In get_user_unique_id_and_display_name() of
keystone/auth/plugins/mapped.py, the checking
of user dict's key ""name"" is not very strict.
So, we need to add more strict validation here.

Change-Id: Ib147e90e4076c1c2ca7a9fd1cf8d17ce3ddc5e34
Closes-Bug: #1711883
"
openstack%2Fpuppet-cloudkitty~master~Ie6030f2699b2c2c720f0aeb38ac76baa852ee5f5,openstack/puppet-cloudkitty,master,,Ie6030f2699b2c2c720f0aeb38ac76baa852ee5f5,Add release note link in README,MERGED,2018-06-27 13:55:18.000000000,2018-07-02 23:46:29.000000000,2018-07-02 23:46:29.000000000,3,0,0,578395,0ded4024c445fd5624415f9c773d003d08762095,7,3,1,1,17499,Filippo Inzaghi,qingszhao,"Add release note link in README

Change-Id: Ie6030f2699b2c2c720f0aeb38ac76baa852ee5f5
"
openstack%2Fpuppet-vswitch~master~Ibd9b94fdd5d7b5ecbc313d82c6fdc2d177f8e029,openstack/puppet-vswitch,master,,Ibd9b94fdd5d7b5ecbc313d82c6fdc2d177f8e029,Add release note link in README,MERGED,2018-06-27 14:57:19.000000000,2018-07-02 23:43:56.000000000,2018-07-02 23:43:56.000000000,5,0,0,578427,130a7279ad7d7a8dabf4b31381b88a7aefbce116,7,3,1,1,17499,Filippo Inzaghi,qingszhao,"Add release note link in README

Change-Id: Ibd9b94fdd5d7b5ecbc313d82c6fdc2d177f8e029
"
