id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fcharm-manila~master~I66ae659bc5a23a17cbf53d27e2310f762c4018bd,openstack/charm-manila,master,charm-metadata-impish,I66ae659bc5a23a17cbf53d27e2310f762c4018bd,Add impish to metadata.yaml,MERGED,2021-06-03 09:16:42.000000000,2021-06-24 12:24:18.000000000,2021-06-24 12:24:18.000000000,1,0,0,794512,91e4dcfe4f72962c69f5a9c38d16e6c2988856d4,10,4,1,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: I66ae659bc5a23a17cbf53d27e2310f762c4018bd
"
openstack%2Fcharm-neutron-api~master~I8baece928d4545c8849c9b69648cb154ad15f052,openstack/charm-neutron-api,master,charm-metadata-impish,I8baece928d4545c8849c9b69648cb154ad15f052,Add impish to metadata.yaml,MERGED,2021-06-03 09:19:25.000000000,2021-06-24 12:20:43.000000000,2021-06-24 12:20:43.000000000,1,0,0,794522,0d4c5e139a127c05e19f33f2a6c46a19014ae607,13,4,2,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: I8baece928d4545c8849c9b69648cb154ad15f052
"
openstack%2Fcharm-ironic-api~master~I1e55936ee53816450868ba83fd204d6d11445dbb,openstack/charm-ironic-api,master,charm-metadata-impish,I1e55936ee53816450868ba83fd204d6d11445dbb,Add impish to metadata.yaml,MERGED,2021-06-03 09:13:32.000000000,2021-06-24 12:19:47.000000000,2021-06-24 12:19:47.000000000,1,0,0,794503,75d3de431a60e9a7adf856cbfbf677e15b3c751a,10,4,1,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: I1e55936ee53816450868ba83fd204d6d11445dbb
"
openstack%2Fcharm-neutron-api-plugin-arista~master~I5ffbc097358814458f903157a05f7181cfbcb906,openstack/charm-neutron-api-plugin-arista,master,charm-metadata-impish,I5ffbc097358814458f903157a05f7181cfbcb906,Add impish to metadata.yaml,MERGED,2021-06-03 09:19:45.000000000,2021-06-24 12:19:07.000000000,2021-06-24 12:19:07.000000000,1,1,0,794523,5c1724d802aec7967d3fe42d56cf880d80dbb531,11,4,1,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: I5ffbc097358814458f903157a05f7181cfbcb906
"
openstack%2Fcharm-neutron-openvswitch~master~I3ad5f489b759de5d53be6ca234f52ffe41951488,openstack/charm-neutron-openvswitch,master,charm-metadata-impish,I3ad5f489b759de5d53be6ca234f52ffe41951488,Add impish to metadata.yaml,MERGED,2021-06-03 09:21:19.000000000,2021-06-24 12:18:01.000000000,2021-06-24 12:18:01.000000000,1,0,0,794528,7dd86369c2cdf61c21923c4033db0fa10286b5c2,11,4,2,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: I3ad5f489b759de5d53be6ca234f52ffe41951488
"
openstack%2Fcharm-manila-ganesha~master~I461aefffadc7b8bdb7cc070732cbc12bd1dc2e39,openstack/charm-manila-ganesha,master,charm-metadata-impish,I461aefffadc7b8bdb7cc070732cbc12bd1dc2e39,Add impish to metadata.yaml,MERGED,2021-06-03 09:17:19.000000000,2021-06-24 12:17:45.000000000,2021-06-24 12:17:45.000000000,1,0,0,794514,77fef213bc1ff57badb0b8b9ae4bbea8c8352e4a,10,4,1,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: I461aefffadc7b8bdb7cc070732cbc12bd1dc2e39
"
openstack%2Fcharm-manila-generic~master~I58f1f8e78f7c8bbbb976fdbd3f95968daa3d8f29,openstack/charm-manila-generic,master,charm-metadata-impish,I58f1f8e78f7c8bbbb976fdbd3f95968daa3d8f29,Add impish to metadata.yaml,MERGED,2021-06-03 09:17:36.000000000,2021-06-24 12:16:43.000000000,2021-06-24 12:16:43.000000000,1,0,0,794515,9425d771ae77c54f93066f8ccd1be7de2c4532ce,9,4,1,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: I58f1f8e78f7c8bbbb976fdbd3f95968daa3d8f29
"
openstack%2Fcharm-hacluster~master~I101079745afa4ab5d8024d253652724b6ff064c0,openstack/charm-hacluster,master,charm-metadata-impish,I101079745afa4ab5d8024d253652724b6ff064c0,Add impish to metadata.yaml,MERGED,2021-06-03 09:12:54.000000000,2021-06-24 12:15:24.000000000,2021-06-24 12:15:24.000000000,1,0,0,794501,688054baec7c46440405f19f227f90373eb0cda7,8,4,1,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: I101079745afa4ab5d8024d253652724b6ff064c0
"
openstack%2Fcharm-ceph-radosgw~master~If0bc6f21f8139186f0d279a4a38d1522c295c127,openstack/charm-ceph-radosgw,master,charm-metadata-impish,If0bc6f21f8139186f0d279a4a38d1522c295c127,Add impish to metadata.yaml,MERGED,2021-06-03 09:09:11.000000000,2021-06-24 12:15:10.000000000,2021-06-24 12:15:10.000000000,1,0,0,794489,beed326fb01f1949467d2a1f4c271bf6a5120a06,11,4,2,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: If0bc6f21f8139186f0d279a4a38d1522c295c127
"
openstack%2Fcharm-openstack-dashboard~master~I30c395a244a812b2e78af63e5c0587097533d3a3,openstack/charm-openstack-dashboard,master,charm-metadata-impish,I30c395a244a812b2e78af63e5c0587097533d3a3,Add impish to metadata.yaml,MERGED,2021-06-03 09:23:35.000000000,2021-06-24 12:14:53.000000000,2021-06-24 12:14:53.000000000,1,0,0,794535,b8f3ad3519894168075dbcc90faec740e039ebfb,9,4,1,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: I30c395a244a812b2e78af63e5c0587097533d3a3
"
openstack%2Fcharm-neutron-api-plugin-ovn~master~Ib0494ac2cd02992c0d5b9d5a474f245906844fae,openstack/charm-neutron-api-plugin-ovn,master,charm-metadata-impish,Ib0494ac2cd02992c0d5b9d5a474f245906844fae,Add impish to metadata.yaml,MERGED,2021-06-03 09:20:20.000000000,2021-06-24 12:14:46.000000000,2021-06-24 12:14:46.000000000,1,0,0,794525,e2794bb2b1bc164309e1bfc6f4f368af9673c76a,10,4,1,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: Ib0494ac2cd02992c0d5b9d5a474f245906844fae
"
openstack%2Fcharm-cinder-backup-swift-proxy~master~I446562e3362f7d3f042c95455fc4e41a54802225,openstack/charm-cinder-backup-swift-proxy,master,charm-metadata-impish,I446562e3362f7d3f042c95455fc4e41a54802225,Add impish to metadata.yaml,MERGED,2021-06-03 09:10:23.000000000,2021-06-24 12:14:21.000000000,2021-06-24 12:14:21.000000000,1,0,0,794493,2c601fd98b227ed3918f742d26d7984a9ef25bf9,10,4,1,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: I446562e3362f7d3f042c95455fc4e41a54802225
"
openstack%2Fcharm-masakari-monitors~master~Ifd7109d7990d3b423dbdd521d235cc3e7fbb69c3,openstack/charm-masakari-monitors,master,charm-metadata-impish,Ifd7109d7990d3b423dbdd521d235cc3e7fbb69c3,Add impish to metadata.yaml,MERGED,2021-06-03 09:18:31.000000000,2021-06-24 12:13:53.000000000,2021-06-24 12:13:53.000000000,1,0,0,794518,b0c17b127f0974c11cc0ed5ba68a845c814ee0bb,8,4,1,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: Ifd7109d7990d3b423dbdd521d235cc3e7fbb69c3
"
openstack%2Fcharm-ceph-fs~master~I6d93ffc924e760a497c5dc74b59a665f888412f0,openstack/charm-ceph-fs,master,charm-metadata-impish,I6d93ffc924e760a497c5dc74b59a665f888412f0,Add impish to metadata.yaml,MERGED,2021-06-03 09:06:42.000000000,2021-06-24 12:12:51.000000000,2021-06-24 12:12:51.000000000,1,0,0,794481,4d343edc66e0d722ca42482c8adc7a58a64b483f,13,4,2,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: I6d93ffc924e760a497c5dc74b59a665f888412f0
"
openstack%2Fcharm-magnum-dashboard~master~I3b476d426a57da4534e6bbafc366fc13272394ce,openstack/charm-magnum-dashboard,master,charm-metadata-impish,I3b476d426a57da4534e6bbafc366fc13272394ce,Add impish to metadata.yaml,MERGED,2021-06-03 09:16:23.000000000,2021-06-24 12:11:19.000000000,2021-06-24 12:11:19.000000000,2,1,0,794511,6f2cb997863b771c0d48f3d4914188d7e39b756b,12,4,1,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: I3b476d426a57da4534e6bbafc366fc13272394ce
"
openstack%2Fneutron~master~I482f648f2b8e85818741e0a779fd01a356e46afe,openstack/neutron,master,bug/1928764,I482f648f2b8e85818741e0a779fd01a356e46afe,DNM: Check fullstack jobs,ABANDONED,2021-05-21 06:45:38.000000000,2021-06-24 12:11:09.000000000,,96,21,2,792505,f067bf9325432783b8d965970084a690aedb8156,30,1,3,2,8313,Lajos Katona,elajkat,"DNM: Check fullstack jobs

Change-Id: I482f648f2b8e85818741e0a779fd01a356e46afe
Related-Bug: #1928764
"
openstack%2Fcharm-octavia~master~I48fc59344e7caf4cb2d5220f6d0298276a766519,openstack/charm-octavia,master,charm-metadata-impish,I48fc59344e7caf4cb2d5220f6d0298276a766519,Add impish to metadata.yaml,MERGED,2021-06-03 09:22:38.000000000,2021-06-24 12:10:13.000000000,2021-06-24 12:10:13.000000000,1,0,0,794532,4cc576af79effdb877d0456c1d85fb2249d92367,11,4,2,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: I48fc59344e7caf4cb2d5220f6d0298276a766519
"
openstack%2Fcharm-swift-proxy~master~I8db38c02c33ae61c39f84d9a138450f402c8a8da,openstack/charm-swift-proxy,master,charm-metadata-impish,I8db38c02c33ae61c39f84d9a138450f402c8a8da,Add impish to metadata.yaml,MERGED,2021-06-03 09:25:48.000000000,2021-06-24 12:09:12.000000000,2021-06-24 12:09:12.000000000,1,0,0,794542,a513ec881c823afbd7179bce9f4147303ada0241,11,4,2,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: I8db38c02c33ae61c39f84d9a138450f402c8a8da
"
openstack%2Fkayobe~master~I67f0e48ee03b150f6fe52b1a3e7e727b79207231,openstack/kayobe,master,image-regexes,I67f0e48ee03b150f6fe52b1a3e7e727b79207231,Prevent matching unrelated images,MERGED,2021-06-10 15:17:21.000000000,2021-06-24 11:24:43.000000000,2021-06-24 11:23:01.000000000,65,65,0,795831,f575f4b7fd11b4155b7f4f78981f71fd66f4d2c5,18,3,2,1,15197,Pierre Riteau,priteau,"Prevent matching unrelated images

Because regexes defined by Kayobe are not strict enough, Kolla can build
container images unrelated to the deployment. For example, the default
service configuration will build:

- centos-binary-barbican-keystone-listener (matches keystone)
- centos-binary-prometheus-memcached-exporter (matches memcached)

This commit makes regexes stricter to avoid unecessary builds. Note that
some images are still built unecessarily, such as nova-compute-ironic
when ironic is disabled or neutron-metadata-agent-ovn when ovn is
disabled.

Change-Id: I67f0e48ee03b150f6fe52b1a3e7e727b79207231
"
openstack%2Fcloudkitty~master~I4896d4dfaf4836f21263a39c63cf949c6713bc2d,openstack/cloudkitty,master,change-797323-4,I4896d4dfaf4836f21263a39c63cf949c6713bc2d,Fix code broken by SQLAlchemy 1.4,ABANDONED,2021-06-21 15:09:55.000000000,2021-06-24 11:11:35.000000000,,27,18,4,797323,2139528801880f17d598f862c42debc4251298d5,29,11,6,10,27339,Michal Arbet,michalarbet,"Fix code broken by SQLAlchemy 1.4

This change fixes issues following the upgrade to SQLAlchemy 1.4.

The deprecated query.with_lockmode() function has been removed, this
patch updates it with query.with_for_update().

SQLalchemy 1.4.0 and upwards do not generate contraints
for Enums on SQLite databases by default, this patch adds
arg create_constraint=True for sqlalchemy.Enum which is
also backward compatible as SQLAlchemy <1.4.0 has
create_constraint=True by default while >1.4.0 has
create_constraint=False by default.

Change-Id: I4896d4dfaf4836f21263a39c63cf949c6713bc2d
Co-Authored-By: Pierre Riteau <pierre@stackhpc.com>
"
openstack%2Ftripleo-ci~master~I5d694c551a5aa5a34eda135520eb2e1bfebd73ed,openstack/tripleo-ci,master,bug/1930151,I5d694c551a5aa5a34eda135520eb2e1bfebd73ed,Set T->U undercloud upgrade to non-voting,MERGED,2021-05-30 09:14:47.000000000,2021-06-24 11:03:06.000000000,2021-05-31 02:39:19.000000000,1,7,1,793693,3f9eb85616ac96d29135d930c380afd420527457,10,3,1,1,29775,Sandeep Yadav,sandeepyadav93,"Set T->U undercloud upgrade to non-voting

tripleo-ci-centos-8-undercloud-upgrade-ussuri is failing with issue
as mentioned in Related-Bug.

Setting this job to non-voting and removing from gate jobs to
unblock check/gate.

Related-Bug: #1930151
Change-Id: I5d694c551a5aa5a34eda135520eb2e1bfebd73ed
"
openstack%2Fcloudkitty~master~Ib36a7275ce8ff30aa19cbde521fd37f60bd00ff8,openstack/cloudkitty,master,fix_sqlalchemy_upgrade,Ib36a7275ce8ff30aa19cbde521fd37f60bd00ff8,SQLalchemy not creating constraint for Enum on version 1.4.0+,MERGED,2021-06-22 12:53:46.000000000,2021-06-24 10:52:22.000000000,2021-06-24 10:50:56.000000000,23,21,0,797443,35ce237b763407e7844545d5e2531c6dc0f15998,11,3,1,10,28356,Rafael Weingartner,rafaelweingartner,"SQLalchemy not creating constraint for Enum on version 1.4.0+

SQLachemy was upgraded via the `requirements` projects commit
(https://github.com/openstack/requirements/commit/dc86260b283dedc3076d7873f5f031f45e3e3671).

That upgrade broke some code. Therefore, this patch intends to fix
the code that was broken due to a method removal and also due to a
change in `create_constraint` for Enum types, which was defaulted
to `False` in version 1.4.0

Change-Id: Ib36a7275ce8ff30aa19cbde521fd37f60bd00ff8
"
openstack%2Ftempest~master~I01e4ae2da4a01cdf85b8b1230949eb079cf22de9,openstack/tempest,master,,I01e4ae2da4a01cdf85b8b1230949eb079cf22de9,DNM - dump console log after requesting volume detach,ABANDONED,2021-06-11 12:29:27.000000000,2021-06-24 10:19:28.000000000,,4,0,3,795994,4e28ad2bc334be203c89ddbdf31edb29534ec49a,6,1,3,1,10135,Lee Yarwood,lyarwood,"DNM - dump console log after requesting volume detach

Related-Bug: #1931702
Change-Id: I01e4ae2da4a01cdf85b8b1230949eb079cf22de9
"
openstack%2Fvalidations-common~master~I02d9de16ddead8f91fe60b8bbbee7ce3548e6386,openstack/validations-common,master,,I02d9de16ddead8f91fe60b8bbbee7ce3548e6386,DNM Set verbose and debug mode to validation cli,ABANDONED,2021-06-22 17:54:08.000000000,2021-06-24 10:09:37.000000000,,1,1,0,797523,86d7388ea5d3c7afbf6670dcb471360c9c4d157b,3,1,1,1,11491,Gael Chamoulaud,gchamoul,"DNM Set verbose and debug mode to validation cli

Change-Id: I02d9de16ddead8f91fe60b8bbbee7ce3548e6386
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
"
openstack%2Fcharm-masakari~master~I411dbafe007b5e32ca9eb991321ce23801db8f17,openstack/charm-masakari,master,batch-update,I411dbafe007b5e32ca9eb991321ce23801db8f17,rebuild - restore c-h proxy env vars for add-apt-repository,ABANDONED,2021-05-13 13:10:43.000000000,2021-06-24 10:03:53.000000000,,1,1,0,791203,9e56c8d319f86af76c916c434b8c80e1b9e98d64,12,2,1,1,11805,Corey Bryant,coreycb,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I411dbafe007b5e32ca9eb991321ce23801db8f17
"
openstack%2Foctavia~master~I82d482bba3e4c40913583fb26f692824c56e6ac1,openstack/octavia,master,tox_constraints_file,I82d482bba3e4c40913583fb26f692824c56e6ac1,Use TOX_CONSTRAINTS_FILE,MERGED,2020-11-01 08:35:08.000000000,2021-06-24 10:00:12.000000000,2021-06-24 09:58:17.000000000,4,4,0,760711,56f5987867154ac698d69cc4496f124f599af90b,29,7,2,1,32029,likui,likui,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://review.opendev.org/#/c/722814/

Change-Id: I82d482bba3e4c40913583fb26f692824c56e6ac1
"
openstack%2Fkuryr-kubernetes~master~I743e4ef717f5e06932da103c02ef6f07e48fb584,openstack/kuryr-kubernetes,master,udoc,I743e4ef717f5e06932da103c02ef6f07e48fb584,Update the Service Creation Process,MERGED,2021-06-08 15:21:46.000000000,2021-06-24 09:59:16.000000000,2021-06-24 09:57:15.000000000,48,0,57,795363,1b6eb50d83903971fe523852a790d45979d32b40,50,4,12,1,33240,Sunday Mgbogu,digitalsimboja,"Update the Service Creation Process

Change-Id: I743e4ef717f5e06932da103c02ef6f07e48fb584
"
openstack%2Fcharm-masakari~master~Ib436e8916cb31fe049bc0a641fbd29fda2e0f260,openstack/charm-masakari,master,fix-wrong-series,Ib436e8916cb31fe049bc0a641fbd29fda2e0f260,Fix wrong series in hirsute test bundle,MERGED,2021-06-21 09:58:10.000000000,2021-06-24 09:53:15.000000000,2021-06-24 09:53:15.000000000,0,2,0,797249,737cea6409dbf9899e9ba985bbfa87232ddb3854,20,4,1,2,31289,Aurelien Lourot,lourot,"Fix wrong series in hirsute test bundle

Without this fix deployment fails with
ERROR cannot deploy bundle: cannot add unit for
application ""masakari"": acquiring machine to host
unit ""masakari/0"": cannot assign unit ""masakari/0""
to machine 12: series does not match

Change-Id: Ib436e8916cb31fe049bc0a641fbd29fda2e0f260
"
openstack%2Ftripleo-ci~master~I195b63990cf2ac0c73ae5ea8ac837f36d8cf4b7d,openstack/tripleo-ci,master,master-upgrades-jobs,I195b63990cf2ac0c73ae5ea8ac837f36d8cf4b7d,Adds master upgrades/updates jobs to periodic,ABANDONED,2021-06-24 09:23:53.000000000,2021-06-24 09:45:18.000000000,,8,8,26,797858,8f03b88f9a77c91c077846de3e835a3880be7b9d,5,1,2,1,31075,Pooja Jadhav,pojadhav,"Adds master upgrades/updates jobs to periodic

This patch adds master undercloud overcloud
upgrades/updates jobs to periodic.

Change-Id: I195b63990cf2ac0c73ae5ea8ac837f36d8cf4b7d
"
openstack%2Fcharm-nova-compute~master~I80c212a223637e2b76e421085fef1b466f548c30,openstack/charm-nova-compute,master,update-action-definitions,I80c212a223637e2b76e421085fef1b466f548c30,Update action definitions,MERGED,2021-05-13 18:29:11.000000000,2021-06-24 09:41:20.000000000,2021-06-24 09:41:20.000000000,24,17,0,791300,a435b03e33f6dba1adf92426bfc79c94f000b566,24,3,5,1,30561,Peter Matulis,pmatulis,"Update action definitions

Remove references to the charm's README for two
actions:

* register-to-cloud
* remove-from-cloud

Not only is this non-standard but, in particular, the
referenced information will be moved to the CDG

Drive-by: Improve the remaining defintions

Depends-On: I03493b30956eddcb77bd714360806aa53c126942
Change-Id: I80c212a223637e2b76e421085fef1b466f548c30
"
openstack%2Freleases~master~I96bd4e65fa2aaf6192f5b69440581751e722b205,openstack/releases,master,force-tags,I96bd4e65fa2aaf6192f5b69440581751e722b205,DNM [force_tagging] PoC 2 - force won't be allowed,ABANDONED,2021-06-23 15:05:44.000000000,2021-06-24 09:40:32.000000000,,4,0,1,797672,19d44f0c602144aa22d4e173ab1a189f109ec1da,15,1,6,1,28522,Hervé Beraud,hberaud,"DNM [force_tagging] PoC 2 - force won't be allowed

Change-Id: I96bd4e65fa2aaf6192f5b69440581751e722b205
"
openstack%2Freleases~master~I372ee36ca4a0e1dadd3e0dd1af32de434dfbf6b6,openstack/releases,master,force-tags,I372ee36ca4a0e1dadd3e0dd1af32de434dfbf6b6,DNM [force_tagging] PoC 1 - force will be allowed,ABANDONED,2021-06-23 15:05:44.000000000,2021-06-24 09:40:28.000000000,,5,0,1,797671,7a1357cf0af568983c176b2422c31c4d09fc2ba6,19,3,6,1,28522,Hervé Beraud,hberaud,"DNM [force_tagging] PoC 1 - force will be allowed

Change-Id: I372ee36ca4a0e1dadd3e0dd1af32de434dfbf6b6
"
openstack%2Freleases~master~I6b5179c15c961f968670529c0a41038bcbeb40c8,openstack/releases,master,force-tags,I6b5179c15c961f968670529c0a41038bcbeb40c8,Allow us to disable our validation,ABANDONED,2021-06-23 15:05:44.000000000,2021-06-24 09:40:19.000000000,,104,0,5,797670,bfb41a9bf15ec76c9ac7783842b91fe21281465e,13,1,5,3,28522,Hervé Beraud,hberaud,"Allow us to disable our validation

Only the release team PTL is allowed to disable the validation.

This is related to our previous discussion with the ironic team [1] and
related to the need of the non regular tags.

[1] https://meetings.opendev.org/irclogs/%23openstack-release/%23openstack-release.2021-06-22.log.html#t2021-06-22T15:37:05

Change-Id: I6b5179c15c961f968670529c0a41038bcbeb40c8
"
openstack%2Frequirements~master~Ied35e05ab619c39e0b7c487911cf7c28692df3c2,openstack/requirements,master,osa/deprecate_nspawn,Ied35e05ab619c39e0b7c487911cf7c28692df3c2,Deprecate OpenStack-Ansible nspawn repositories,MERGED,2021-06-23 17:06:09.000000000,2021-06-24 09:36:35.000000000,2021-06-24 09:33:47.000000000,0,2,0,797719,8341527608c5d296bcbf0782139959c471b1435b,11,2,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Deprecate OpenStack-Ansible nspawn repositories

Since nspawn support has been removed with [1] we now
start repositories deprecation process.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/782569

Change-Id: Ied35e05ab619c39e0b7c487911cf7c28692df3c2
"
openstack%2Fneutron~master~Ie55a04deac6c2f54f7f5d475c350f0fbf7b1fe77,openstack/neutron,master,port_before_update,Ie55a04deac6c2f54f7f5d475c350f0fbf7b1fe77,use payloads for PORT BEFORE_UPDATE events,MERGED,2021-06-11 08:40:12.000000000,2021-06-24 09:36:27.000000000,2021-06-24 09:33:31.000000000,71,47,15,795964,324a35a3d09194d94985cbcdc563861e45b6e821,40,3,5,5,32667,Mamatisa Nurmatov,isabek,"use payloads for PORT BEFORE_UPDATE events

This patch switches the code over to the payload style of callbacks
for PORT BEFORE_UPDATE events

Change-Id: Ie55a04deac6c2f54f7f5d475c350f0fbf7b1fe77
"
openstack%2Fglance~master~I795c52f606f85955e39efc29b75f2941be1264b4,openstack/glance,master,bp/glance-unified-quotas,I795c52f606f85955e39efc29b75f2941be1264b4,Update image.size after conversion,MERGED,2021-04-26 21:58:02.000000000,2021-06-24 09:36:22.000000000,2021-06-24 09:34:04.000000000,15,6,5,788091,154ef3fe94fb71712e9da12c8eb53b04c8b2efa4,40,3,11,4,4393,Dan Smith,danms,"Update image.size after conversion

When we convert an image to a specified format during import, we
update the disk_format to match. At that point, we also know the (new)
image.size, so we should set it.

This is somewhat related to setting image size on stage, in that once
it is set we will validate that it does not change in later steps.
Since this one comes between stage and the actual store upload, this
patch makes conversion set it and confirms that the later steps are
happy with that. A later patch sets it during stage, confirming that
we can change it here during conversion when we are changing the
actual image file itself.

Related to blueprint glance-unified-quotas

Change-Id: I795c52f606f85955e39efc29b75f2941be1264b4
"
openstack%2Fkolla-ansible~master~Ieb6b6eab9b55c8b43c350dee935c3344c03d29ca,openstack/kolla-ansible,master,container-health-check,Ieb6b6eab9b55c8b43c350dee935c3344c03d29ca,Use Docker healthchecks for panko services,ABANDONED,2021-03-07 10:49:32.000000000,2021-06-24 09:33:51.000000000,,22,0,0,779096,f19b87fca9430b0c806d2ed6aebf144e1211cf65,12,2,2,4,31506,Lin PeiWen,LinPeiWen,"Use Docker healthchecks for panko services

This change enables the use of Docker healthchecks for panko services.
Implements: blueprint container-health-check

Change-Id: Ieb6b6eab9b55c8b43c350dee935c3344c03d29ca
"
openstack%2Fneutron-tempest-plugin~master~Id14a4d6f9e7c921e5e682e7b5b27bf628ff28a77,openstack/neutron-tempest-plugin,master,bug/1891309,Id14a4d6f9e7c921e5e682e7b5b27bf628ff28a77,Move back designate scenario job to the check queue,MERGED,2021-05-05 06:48:47.000000000,2021-06-24 09:29:47.000000000,2021-06-24 09:29:47.000000000,7,28,0,789709,4a91784c02b7799241af2c01b9964442c65cf7af,9,4,1,1,11975,Slawek Kaplonski,slaweq,"Move back designate scenario job to the check queue

Due to bug [1] designate integration job was moved to
the experimental queue some time ago but now as [1] is fixed,
we can make it again running in the check queue and make it voting.

[1] https://launchpad.net/bugs/1891309

Depends-On: https://review.opendev.org/c/openstack/neutron/+/789659
Depends-On: https://review.opendev.org/c/openstack/neutron/+/789660
Depends-On: https://review.opendev.org/c/openstack/neutron/+/789661
Depends-On: https://review.opendev.org/c/openstack/neutron/+/789662
Depends-On: https://review.opendev.org/c/openstack/neutron/+/789663
Depends-On: https://review.opendev.org/c/openstack/neutron/+/789664
Depends-On: https://review.opendev.org/c/openstack/neutron/+/789665

Change-Id: Id14a4d6f9e7c921e5e682e7b5b27bf628ff28a77
Related-Bug: #1891309
"
openstack%2Fcharm-neutron-openvswitch~master~I1e884eac26d51c825736f34bcbfdccc906944b8d,openstack/charm-neutron-openvswitch,master,bug/1931696,I1e884eac26d51c825736f34bcbfdccc906944b8d,Set explicitly_egress_direct=True for ml2 ovs,MERGED,2021-06-11 10:34:24.000000000,2021-06-24 09:06:31.000000000,2021-06-24 09:06:31.000000000,49,0,0,795981,0f7d135507def07196aa98cc4cf9fd518641a369,18,4,2,1,6737,Edward Hope-Morley,hopem,"Set explicitly_egress_direct=True for ml2 ovs

This fixes a regression introduced in 16.3.0 neutron
release that causes non-offloaded ports to break on
hypervisors that have offloaded enabled.

Closes-Bug: #1931696
Change-Id: I1e884eac26d51c825736f34bcbfdccc906944b8d
"
openstack%2Fproject-config~master~Ieabc9d9b51e0a908480dfb56cfc5baf0d0760365,openstack/project-config,master,pause-failing-builds,Ieabc9d9b51e0a908480dfb56cfc5baf0d0760365,nodepool: pause centos-8-stream builds,MERGED,2021-06-24 06:32:43.000000000,2021-06-24 08:32:17.000000000,2021-06-24 07:22:32.000000000,1,1,0,797806,813542fabd0f9563283833b9d455ea070b24b79c,7,2,1,1,7118,Ian Wienand,iwienand,"nodepool: pause centos-8-stream builds

A new release of rng-tools is causing the build to constantly time-out
[1].  I'm not confident with the dib change until it's had more review
[2], and it will take us some time to release or a fixed package to
come through anyway.  In the mean-time, pause the build.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1975588
[2] https://review.opendev.org/c/openstack/diskimage-builder/+/797794

Change-Id: Ieabc9d9b51e0a908480dfb56cfc5baf0d0760365
"
openstack%2Fkolla-ansible~stable%2Fvictoria~Ifb3e51891de33e5d698571b898f7a471cfe89718,openstack/kolla-ansible,stable/victoria,centos8_stream_victoria,Ifb3e51891de33e5d698571b898f7a471cfe89718,CI: Fix nfv job with kolla dependency,MERGED,2021-06-23 15:46:48.000000000,2021-06-24 08:25:59.000000000,2021-06-24 08:24:00.000000000,2,2,0,797698,37017d1a0e8def4c94b85aef7047dff3d74ca2bd,15,4,2,2,22629,Michal Nasiadka,mnasiadka,"CI: Fix nfv job with kolla dependency

Change-Id: Ifb3e51891de33e5d698571b898f7a471cfe89718
(cherry picked from commit ec36eb016c88761eb9d4465247a8f7375e1470c7)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I01714cbea03bddb0e438aebb197a8a0b2bcdb5b3,openstack/kolla-ansible,stable/victoria,ci-fix-nfv-stable/victoria,I01714cbea03bddb0e438aebb197a8a0b2bcdb5b3,[CI] Fix the NFV scenario,MERGED,2021-06-23 15:57:43.000000000,2021-06-24 08:22:11.000000000,2021-06-24 08:20:52.000000000,2,0,0,797702,567fb01a766a068e5dafcb67af4b686d0ed1a8fa,9,3,1,1,22629,Michal Nasiadka,mnasiadka,"[CI] Fix the NFV scenario

It seems Aodh started being required.

Change-Id: I01714cbea03bddb0e438aebb197a8a0b2bcdb5b3
Closes-Bug: #1906299
(cherry picked from commit c00e7b2c9549d58c799b3a0639e16a12505c348b)
"
openstack%2Fnova~stable%2Fussuri~I02b2b851a74f24816d2f782a66d94de81ee527b0,openstack/nova,stable/ussuri,native-zuulv3-migration,I02b2b851a74f24816d2f782a66d94de81ee527b0,zuul: Replace grenade and nova-grenade-multinode with grenade-multinode,ABANDONED,2021-06-03 19:37:28.000000000,2021-06-24 08:21:36.000000000,,18,535,0,794675,e05999aef49fe4453a2bafe0ce32f0138488d57a,29,4,3,10,4690,melanie witt,melwitt,"zuul: Replace grenade and nova-grenade-multinode with grenade-multinode

If2608406776e0d5a06b726e65b55881e70562d18 dropped the single node
grenade job from the integrated-gate-compute template as it duplicates
the existing grenade-multinode job. However it doesn't remove the
remianing single node grenade job still present in the Nova project.

This change replaces the dsvm based nova-grenade-multinode job with the
zuulv3 native grenade-multinode based job.

Various legacy playbooks and hook scripts are also removed as they are
no longer used. Note that this does result in a loss of coverage for
ceph that should be replaced as soon as a zuulv3 native ceph based
multinode job is available.

Conflicts:
    gate/live_migration/hooks/run_tests.sh

NOTE(melwitt): The conflict is because change
I67255fa1b919a27e92028da95d71ddd4bf53edc1 (lower-constraints: Bump
packaging to 20.4) is not in Ussuri.

Changes:
    roles/run-evacuate-hook/tasks/main.yaml

NOTE(elod.illes): in ussuri ubuntu-bionic is used, which does not have
the libvirtd services and thus the run-evacuate-hook fails. This patch
replaces ubuntu-focal's libvirtd services with a single libvirtd
service.

Change-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0
(cherry picked from commit 91e53e4c2b90ea57aeac4ec522dd7c8c54961d09)
(cherry picked from commit c45bedd98d50af865d727b7456c974c8e27bff8b)
(cherry picked from commit 2af08fb5ead8ca1fa4d6b8ea00f3c5c3d26e562c)
"
openstack%2Fnova~stable%2Fussuri~Ib342e2d3c395830b4667a60de7e492d3b9de2f0a,openstack/nova,stable/ussuri,native-zuulv3-migration,Ib342e2d3c395830b4667a60de7e492d3b9de2f0a,zuul: Replace nova-live-migration with zuulv3 jobs,ABANDONED,2021-06-09 01:20:03.000000000,2021-06-24 08:21:02.000000000,,228,22,3,795433,4434a76ce96586698fc16e35a719a95de7d1c15e,8,3,1,8,4690,melanie witt,melwitt,"zuul: Replace nova-live-migration with zuulv3 jobs

This change removes the original nova-live-migration job and replaces it
directly with the new Focal based zuulv3 native job.

The nova-dsvm-multinode-base base job is no longer used and so also
removed as part of this change.

Note that this new nova-live-migration job does not yet contain any
ceph coverage like the original, this is still pending and will be
completed early in the W cycle.

This change is being merged ahead of this to resolve bug #1901739, a
known QEMU -drive issue caused by the previous jobs use of libvirt 5.4.0
as provided by Ubuntu Bionic. The fix here being the migration to Ubuntu
Focal based jobs and libvirt 6.0.0 that now defaults to using QEMU
-blockdev.

NOTE(lyarwood): This change squashes the following changes into it to
ensure we end up with a passing zuulv3 Focal based job in
stable/victoria. This includes the reintroduction of
nova-dsvm-multinode-base that was incorrectly removed by this change on
master while still being used.

zuul: Introduce nova-evacuate
(cherry picked from commit f357d8040741b0346c3105fb3d3d1b260f5cb13d)

nova-evacuate: Disable libvirtd service and sockets during negative tests
(cherry picked from commit 226250beb6858bb3094c005fbc335a7378531df1)

zuul: Merge nova-evacuate into nova-multinode-live-migration
(cherry picked from commit c0fe95fcc5aec99a83dd57093dc230ef67b36b39)

zuul: Reintroduce nova-dsvm-multinode-base
(cherry picked from commit be752b8175f0cb3444ee47679753be847c8f8fd2)

nova-live-migration: Disable *all* virt services during negative tests
(cherry picked from commit 76360e566bcd0e203f3e9357ca2b0ca3d7baf4b8)

Closes-Bug: #1901739
Change-Id: Ib342e2d3c395830b4667a60de7e492d3b9de2f0a
(cherry picked from commit 4ac4a04d1843b0450e8d6d80189ce3e85253dcd0)
(cherry picked from commit 478be6f4fbbbc7b05becd5dd92a27f0c4e8f8ef8)
"
openstack%2Fopenstack-ansible~master~I55387dbb5999546955cb30dc7a8d6e6b63bc2129,openstack/openstack-ansible,master,compatibility-typo,I55387dbb5999546955cb30dc7a8d6e6b63bc2129,[doc] Fix compatability -> compatibility,MERGED,2021-06-23 15:05:56.000000000,2021-06-24 07:50:41.000000000,2021-06-24 07:48:37.000000000,5,5,0,797673,cede2dc592a936c30b48517fdf045198263b15d1,8,3,1,3,32441,Fridtjof Mund,fridtjof,"[doc] Fix compatability -> compatibility

Change-Id: I55387dbb5999546955cb30dc7a8d6e6b63bc2129
"
openstack%2Fopenstack-manuals~master~I7e213d2171678c60e1679884445a789ecf3761ad,openstack/openstack-manuals,master,osa/deprecate_nspawn,I7e213d2171678c60e1679884445a789ecf3761ad,Deprecate OpenStack-Ansible nspawn repositories,MERGED,2021-06-23 17:37:59.000000000,2021-06-24 07:37:12.000000000,2021-06-23 22:29:15.000000000,2,0,1,797730,00589bd09ba9c6d8ca23677532703f6eaa478d6c,11,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Deprecate OpenStack-Ansible nspawn repositories

Since nspawn support has been removed with [1] we now
start repositories deprecation process.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/782569

Change-Id: I7e213d2171678c60e1679884445a789ecf3761ad
"
openstack%2Ftripleo-ci~master~I19c2392f407b03a6a8ddb78ede4b8f123107ebdf,openstack/tripleo-ci,master,,I19c2392f407b03a6a8ddb78ede4b8f123107ebdf,Making tripleo-buildimage-overcloud-hardened-uefi-full-centos-8 non voting,ABANDONED,2021-06-23 21:44:35.000000000,2021-06-24 07:17:32.000000000,,1,0,0,797787,a0ee4843f3a8b1eaa95014284d25005d7490f083,6,4,1,1,32458,Ananya,frenzyfriday,"Making tripleo-buildimage-overcloud-hardened-uefi-full-centos-8 non voting

Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1933309
Change-Id: I19c2392f407b03a6a8ddb78ede4b8f123107ebdf
"
openstack%2Freleases~master~If78806f790dbec2a3464984418751ff8c85a58f4,openstack/releases,master,remove_uneeded_tq_requirements,If78806f790dbec2a3464984418751ff8c85a58f4,Release tripleo-operator-ansible-0.5.1,MERGED,2021-06-18 09:05:43.000000000,2021-06-24 07:00:24.000000000,2021-06-23 16:06:17.000000000,4,0,3,797010,4ce8cb674d06e4d0dad21584b329d17f85d02d28,23,5,2,1,12393,chandan kumar,chkumar246,"Release tripleo-operator-ansible-0.5.1

It is a minor release which contains changes related
to publishing the tarballs of tripleo-operator-ansible
to tarballs.opendev.org.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: If78806f790dbec2a3464984418751ff8c85a58f4
"
openstack%2Ftripleo-ansible~master~Id296a370c215f10c11d7fd811c2665d53c44b4a6,openstack/tripleo-ansible,master,bug/1932079,Id296a370c215f10c11d7fd811c2665d53c44b4a6,%%_USER_THT_ROOT_%% replaces static THT path,ABANDONED,2021-06-15 21:40:19.000000000,2021-06-24 06:45:30.000000000,,15,18,0,796546,e58b0b05514355212fc553f690c8a487915fee67,14,3,2,6,24245,Harald Jensås,harald.jensas,"%%_USER_THT_ROOT_%% replaces static THT path

When generating environment files the THT path
was statically set to:
 /usr/share/openstack-tripleo-heat-templates

This forces the user to change the paths manually
to the --templates directory if not using the
default.

Write the environment files with the template
%%_USER_THT_ROOT_%% which can be replaced by
tripleoclient during deployment.

Closes-Bug: #1932079
Depends-On: I62d4531c80c690dc55d1c248cb099683511f310e
Change-Id: Id296a370c215f10c11d7fd811c2665d53c44b4a6
"
openstack%2Fneutron~master~If6ef990baf039c556d7420962ac4c54608711f06,openstack/neutron,master,bug/1891360,If6ef990baf039c556d7420962ac4c54608711f06,Remove FIP agent's gw port when L3 agent is deleted,MERGED,2021-04-23 08:50:22.000000000,2021-06-24 06:40:49.000000000,2021-06-24 06:38:48.000000000,185,0,33,787691,8cc7c0cf7a5196103b097fae67eccbd5dc3980ac,76,5,6,4,11975,Slawek Kaplonski,slaweq,"Remove FIP agent's gw port when L3 agent is deleted

Floating IP agent gateway ports are created for each external network
for each node where DVR L3 agent is running and where there is some FIP
from the ext_net.
But even, if L3 agent is removed (e.g. when scaling down the cluster),
such floating IP gateway port is never removed so it consumes IP address
from the external network.

With this patch when the DVR L3 agent is deleted, all such fip gateway
ports owned by that agent will be deleted.
When new L3 agent is created (registered in the DB), Neutron will check
if there are any floating IPs on that host and will recreate such FIP
gateway ports for it.

Closes-Bug: #1891360
Change-Id: If6ef990baf039c556d7420962ac4c54608711f06
"
openstack%2Fpython-tripleoclient~master~I62d4531c80c690dc55d1c248cb099683511f310e,openstack/python-tripleoclient,master,network-data-v2,I62d4531c80c690dc55d1c248cb099683511f310e,Rewrite %%_USER_THT_ROOT_%% in user envs,ABANDONED,2021-06-15 21:39:53.000000000,2021-06-24 05:51:22.000000000,,84,13,0,796545,d18734a66c2c6fa99cb3ef21a18fc3826cdfe18d,16,4,6,4,24245,Harald Jensås,harald.jensas,"Rewrite %%_USER_THT_ROOT_%% in user envs

The baremtal provisioning and network-v2 hard codes
/usr/share/openstack-tripleo-heat-templates in the
generated environment files. This is problematic
when not using the default template path.

Add a method to rewrite %%_USER_THT_ROOT_%% in
resource registry values with the --templates path.

Change Id296a370c215f10c11d7fd811c2665d53c44b4a6 in
tripleo-ansible updates the generate environment
module to use %%_USER_THT_ROOT_%% instead of the
static default templates path.

The rewrite will only work the first time the
environment is used. If the --templates path is
changed, the user will have to manually update the
environment files. Or re-run the commands that
generated them.

Related-Bug: #1932079
Change-Id: I62d4531c80c690dc55d1c248cb099683511f310e
"
openstack%2Fcinder~master~Idc95d5e8f7e542973676e2d269a3840217b02d9e,openstack/cinder,master,,Idc95d5e8f7e542973676e2d269a3840217b02d9e,Update decode_cipher doc text about encryption ciphers,MERGED,2021-06-16 13:56:52.000000000,2021-06-24 04:39:00.000000000,2021-06-22 17:07:43.000000000,5,3,0,796680,74ac9090b01c91403d684eba38c9156fc66ae0bf,58,4,1,1,4523,Eric Harney,eharney,"Update decode_cipher doc text about encryption ciphers

Point to the new doc file location and specify that
we don't support keycount/ivopts.

Change-Id: Idc95d5e8f7e542973676e2d269a3840217b02d9e
"
openstack%2Ftripleo-heat-templates~master~I923856c83c14eb54073684ace93e9e1e85f53329,openstack/tripleo-heat-templates,master,prep_images_output,I923856c83c14eb54073684ace93e9e1e85f53329,Add Ephemeral Heat service,MERGED,2021-06-16 09:43:05.000000000,2021-06-24 04:19:01.000000000,2021-06-23 06:18:36.000000000,79,0,29,796617,afc0d39dc2dd32ba602aaabebe7e398b2d5c82b9,66,7,11,5,6926,Bogdan Dobrelya,bogdando,"Add Ephemeral Heat service

Adds a ephemeral heat service that ensures the containers are fetched on
the system and tagged specially for usage later with the overcloud
deployment process.  After the service deploys, the following container
images should be available on the local system.

   localhost/tripleo/openstack-heat-all:ephemeral
   localhost/tripleo/openstack-heat-engine:ephemeral
   localhost/tripleo/openstack-heat-api:ephemeral

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/796614
Partial-Bug: #1931995

Change-Id: I923856c83c14eb54073684ace93e9e1e85f53329
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Signed-off-by: Alex Schultz <aschultz@redhat.com>
"
openstack%2Fskyline-console~master~I810e948e46698f4acd92b1c3da7e7b200fa8a7dc,openstack/skyline-console,master,,I810e948e46698f4acd92b1c3da7e7b200fa8a7dc,fix: Fix folder name,MERGED,2021-06-24 03:39:20.000000000,2021-06-24 04:03:13.000000000,2021-06-24 04:03:13.000000000,0,0,0,797799,166f8b5ed77d09382d16936c47eb2c079f70eeb0,9,3,2,101,30434,Jingwei.Zhang,jwzhang,"fix: Fix folder name

Fix folder name to avoid docker build failure

Change-Id: I810e948e46698f4acd92b1c3da7e7b200fa8a7dc
"
openstack%2Fskyline-console~master~I81bc934b915809c2225745314863762982c137d8,openstack/skyline-console,master,,I81bc934b915809c2225745314863762982c137d8,Fix README,MERGED,2021-06-17 06:21:54.000000000,2021-06-24 03:42:34.000000000,2021-06-24 03:42:34.000000000,1,1,0,796760,81fa2248a3510a62b7c2097cdb2d5bdc30f4d0c8,7,5,1,1,33196,conna,yangshaoxue,"Fix README

fix README.md

Change-Id: I81bc934b915809c2225745314863762982c137d8
"
openstack%2Fcinder~master~Ib3e03b43e0bf5b484af3f42c2da6cdcbb9e4abd9,openstack/cinder,master,,Ib3e03b43e0bf5b484af3f42c2da6cdcbb9e4abd9,Tests: Add coverage for coordinator start/stop,MERGED,2021-04-19 16:11:48.000000000,2021-06-24 03:07:25.000000000,2021-06-24 03:04:22.000000000,6,0,0,786895,fb2dde068673bfeef4a6dd23ba0396505c75560d,24,4,1,1,4523,Eric Harney,eharney,"Tests: Add coverage for coordinator start/stop

These tests test the logic for start/stop skipping
their actions based on the value of self.started.

A new test for this took about 2.5s to run, so I've
opted to cover this within existing tests.

Change-Id: Ib3e03b43e0bf5b484af3f42c2da6cdcbb9e4abd9
"
openstack%2Fcinder~master~I096e673319663f539788f27fdf056ad10153f6bf,openstack/cinder,master,,I096e673319663f539788f27fdf056ad10153f6bf,Drop support for SQLite < 3.7,MERGED,2021-04-30 02:43:20.000000000,2021-06-24 03:06:16.000000000,2021-06-24 03:04:07.000000000,3,33,0,788871,23dd35d6800b49b24c0e41047c4452421d150bb6,29,5,1,1,31827,Jorhson Deng,dengzhaosen,"Drop support for SQLite < 3.7

Both Ubuntu 18.04 [1] and CentOS 8 [2] provide sufficiently new versions
of SQLite that make this check unnecessary now.

[1] https://packages.ubuntu.com/bionic/sqlite3
[2] http://mirror.centos.org/centos/7/os/x86_64/Packages/

Change-Id: I096e673319663f539788f27fdf056ad10153f6bf
"
openstack%2Fglance~master~Ic9359aac5dba2b4d7d0d2c7fa92a5b67440e22e0,openstack/glance,master,bp/glance-unified-quotas,Ic9359aac5dba2b4d7d0d2c7fa92a5b67440e22e0,Refactor SynchronousAPIBase for more cases,MERGED,2021-04-26 19:09:15.000000000,2021-06-24 03:06:11.000000000,2021-06-24 03:04:44.000000000,70,14,3,788065,a1e46cca6e84ff3a6dc4c6436bb77ef93b5a791d,32,3,9,1,4393,Dan Smith,danms,"Refactor SynchronousAPIBase for more cases

This simply adds some functionality and flexibility to this test base
so that subsequent patches can do some more things.

Related to blueprint glance-unified-quotas

Change-Id: Ic9359aac5dba2b4d7d0d2c7fa92a5b67440e22e0
"
openstack%2Foslo.log~master~I6d676d690e4656598be037914d5cc4b4f2adfa0c,openstack/oslo.log,master,,I6d676d690e4656598be037914d5cc4b4f2adfa0c,Use py3 as the default runtime for tox,ABANDONED,2021-04-28 07:57:23.000000000,2021-06-24 02:23:29.000000000,,1,1,0,788421,0cf8bb9ec8a3a34aaa9cadfa8f4352d12253e5a2,3,1,1,1,31827,Jorhson Deng,dengzhaosen,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.
Change-Id: I6d676d690e4656598be037914d5cc4b4f2adfa0c
"
openstack%2Fcyborg-tempest-plugin~master~I0f5f0e9a8697d8a51eecd1c0e94f01e5237b4b52,openstack/cyborg-tempest-plugin,master,,I0f5f0e9a8697d8a51eecd1c0e94f01e5237b4b52,fix typo,ABANDONED,2021-06-21 15:36:11.000000000,2021-06-24 02:21:37.000000000,,1,1,0,797326,7b5249a8c5367aadb9edb101603a7453712c1023,3,1,1,1,25738,Xinran WANG,Xinran,"fix typo

Change-Id: I0f5f0e9a8697d8a51eecd1c0e94f01e5237b4b52
"
openstack%2Fcyborg-tempest-plugin~master~I7bc7ab298b7386b28d679cb06fccc3ea1b33b6f4,openstack/cyborg-tempest-plugin,master,,I7bc7ab298b7386b28d679cb06fccc3ea1b33b6f4,fix create device profile negative test,ABANDONED,2021-06-23 10:11:20.000000000,2021-06-24 02:16:52.000000000,,3,3,1,797617,7ea4f65ac5e0048a433e6cc5d8716ddc3a500a45,3,1,1,1,25738,Xinran WANG,Xinran,"fix create device profile negative test

Change-Id: I7bc7ab298b7386b28d679cb06fccc3ea1b33b6f4
"
openstack%2Ftripleo-validations~stable%2Fvictoria~I585d03ad42fc0435c711a02717b2b17c1ec8275b,openstack/tripleo-validations,stable/victoria,tsx_flag_compute,I585d03ad42fc0435c711a02717b2b17c1ec8275b,Trigger molecule tests when modifying CI scripts,MERGED,2021-06-11 07:42:00.000000000,2021-06-24 01:30:26.000000000,2021-06-24 01:30:26.000000000,121,9,39,795944,b2322fa4d3bf2c8d1a1390090129ce75bcc4dae0,15,6,2,2,11491,Gael Chamoulaud,gchamoul,"Trigger molecule tests when modifying CI scripts

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I585d03ad42fc0435c711a02717b2b17c1ec8275b
(cherry picked from commit 7db15e5fe2385b01d6b45ec46b6f776755294e05)
"
openstack%2Ftripleo-ci~master~I4f032471a1b1ab7fbf1051a4e3d8f85870f31dcc,openstack/tripleo-ci,master,,I4f032471a1b1ab7fbf1051a4e3d8f85870f31dcc,Remove EPEL from test images,MERGED,2021-06-22 18:20:07.000000000,2021-06-24 00:05:14.000000000,2021-06-24 00:05:14.000000000,18,23,0,797528,29dbd915ec68c3e93fd841eff806f118c854903f,26,4,10,5,24162,Sorin Sbârnea,ssbarnea,"Remove EPEL from test images

Closes-Bug: #1933193
Change-Id: I4f032471a1b1ab7fbf1051a4e3d8f85870f31dcc
"
openstack%2Fproject-config~master~If013a67fb01f23cb6cef9610f218fa6b55067851,openstack/project-config,master,pause-failing-builds,If013a67fb01f23cb6cef9610f218fa6b55067851,nodepool: pause gentoo and tumbleweed builds,MERGED,2021-06-23 23:26:22.000000000,2021-06-24 00:01:53.000000000,2021-06-23 23:56:00.000000000,2,2,0,797790,356b63f7bcd3d3a19c032a9c81edc685a3814673,8,2,1,1,7118,Ian Wienand,iwienand,"nodepool: pause gentoo and tumbleweed builds

Both of these are failing in ways that look like we need to fix them
in dib.  Stop attempting to build them for now.

Change-Id: If013a67fb01f23cb6cef9610f218fa6b55067851
"
openstack%2Fswift~master~Ib99c9fb61125122d2e3cca633ce3504fd311dc6d,openstack/swift,master,,Ib99c9fb61125122d2e3cca633ce3504fd311dc6d,relinker: Add some logging when we want to clean up but can't,ABANDONED,2021-04-06 20:00:57.000000000,2021-06-23 23:51:08.000000000,,5,3,4,785038,e5c1f3bdae287f470e38ce86754954a1685f021f,6,3,1,1,15343,Tim Burke,tburke,"relinker: Add some logging when we want to clean up but can't

Change-Id: Ib99c9fb61125122d2e3cca633ce3504fd311dc6d
"
openstack%2Ftripleo-quickstart-extras~master~I074016bbac527d0234d95a950532c1eefe1b0e2c,openstack/tripleo-quickstart-extras,master,ipa-github,I074016bbac527d0234d95a950532c1eefe1b0e2c,build-test-packages requires github.com to resolve - ipa,MERGED,2021-06-23 13:16:17.000000000,2021-06-23 22:48:13.000000000,2021-06-23 22:48:13.000000000,10,0,0,797644,e423bb068a96ed919ead08226f9447b2cdfc0332,9,5,1,1,9976,Ronelle Landy,rlandy,"build-test-packages requires github.com to resolve - ipa

Adding the public server dns record github.com,
required for the build-test-packages role.

Change-Id: I074016bbac527d0234d95a950532c1eefe1b0e2c
"
openstack%2Fneutron~master~If86e42c7c56bb0fc571d68818febf54a29a31aa2,openstack/neutron,master,packet_rate_limit,If86e42c7c56bb0fc571d68818febf54a29a31aa2,Bump neutron-lib to 2.12.0,MERGED,2021-06-15 08:35:24.000000000,2021-06-23 22:39:28.000000000,2021-06-23 22:37:33.000000000,2,2,0,796404,2ea7d66216f96705d7a50d39a30046193bba17f1,44,5,4,2,9531,liuyulong,LIU-Yulong,"Bump neutron-lib to 2.12.0

Related-bug: #1912460
Change-Id: If86e42c7c56bb0fc571d68818febf54a29a31aa2
"
openstack%2Fmanila-tempest-plugin~master~Ib1067db3771bacb287517e370c83a13d8bea89b5,openstack/manila-tempest-plugin,master,stable-jobs,Ib1067db3771bacb287517e370c83a13d8bea89b5,Add stable branch jobs on the plugins master gate,MERGED,2020-05-05 22:16:03.000000000,2021-06-23 22:35:15.000000000,2021-06-23 21:34:38.000000000,22,0,7,725692,cf95d4089769650bd4da4254dbd578b33b8d77d3,59,5,9,2,8556,Ghanshyam,ghanshyam,"Add stable branch jobs on the plugins master gate

Supported stable branches in maintenance state
(ussuri, victoria, wallaby) use the Tempest and
plugin's master version for their testing.

To make sure master version (new tests or any changes)
are compatible with stable branch testing, we need to
add the stable branches job on the plugins master gate.
Tempest and many other plugins are already testing the
stable branches in same way [1].

Ussuri onwards, Tempest or plugins are py3 only, so we
are running only python3 version of stable jobs

Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

[1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646

Change-Id: Ib1067db3771bacb287517e370c83a13d8bea89b5
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fneutron-specs~master~I1b57cbd45513295f80df96efca917476c4fa5033,openstack/neutron-specs,master,bug/1877301,I1b57cbd45513295f80df96efca917476c4fa5033,L3 router support ndp proxy,MERGED,2020-05-16 08:50:02.000000000,2021-06-23 22:03:50.000000000,2021-06-23 22:01:03.000000000,727,0,330,728628,6e6ad985f1403299eae125338185c725d023f030,151,10,41,1,28329,yangjianfeng,yangjianfeng,"L3 router support ndp proxy

Change-Id: I1b57cbd45513295f80df96efca917476c4fa5033
Related-Bug: #1877301
"
openstack%2Fneutron~master~If5b997bcf6413f00a16504a5f40cb29e0d0af051,openstack/neutron,master,,If5b997bcf6413f00a16504a5f40cb29e0d0af051,[ovn] Clean-up unused ACL method for DHCP,MERGED,2021-05-05 10:31:41.000000000,2021-06-23 21:00:50.000000000,2021-06-23 20:58:36.000000000,1,83,1,789777,a77a97371e680ec551225e1bc55b366dd6a780a0,28,4,2,3,23804,Daniel Alvarez,dalvarez,"[ovn] Clean-up unused ACL method for DHCP

This patch removes an unused method that sets up DHCP ACLs in
and the associated code in the relevant tests.

Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: If5b997bcf6413f00a16504a5f40cb29e0d0af051
"
openstack%2Fglance~master~I7263ff1498dfdf51a919aa678adde413c1935bc6,openstack/glance,master,update-min-tox,I7263ff1498dfdf51a919aa678adde413c1935bc6,Changed minversion in tox to 3.18.0,MERGED,2021-06-03 06:39:19.000000000,2021-06-23 21:00:24.000000000,2021-06-23 20:58:48.000000000,2,2,0,794404,bba5014c1a5398f8bbc819bb558c5b1a7453e5a5,11,3,2,1,32291,wushiming,wushiming,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I7263ff1498dfdf51a919aa678adde413c1935bc6
"
openstack%2Fglance~master~Ice0409fc063a77f507f25be3e583f79808783e84,openstack/glance,master,,Ice0409fc063a77f507f25be3e583f79808783e84,Remove references to sys.version_info,MERGED,2021-05-28 00:45:13.000000000,2021-06-23 20:42:51.000000000,2021-06-23 20:41:31.000000000,2,13,6,793513,3ec92eafc4312fc535764a66faa29d881bd06948,14,4,3,2,31412,Wenping Song,songwenping,"Remove references to sys.version_info

We support Python 3.6 as a minimum now, making these checks no-ops.

Change-Id: Ice0409fc063a77f507f25be3e583f79808783e84
"
openstack%2Fglance~master~I9a39f57ab4ab29d62105812f82b3eb4c7548eb5c,openstack/glance,master,collections.abc,I9a39f57ab4ab29d62105812f82b3eb4c7548eb5c,Replace collections.Iterable,MERGED,2021-02-01 10:59:12.000000000,2021-06-23 20:41:39.000000000,2021-06-23 20:38:55.000000000,2,2,0,773357,9b67bd19763bf77d0b002ccc447de5b786b6a165,11,3,1,1,15334,Stephen Finucane,sfinucan,"Replace collections.Iterable

This has been moved to the 'abc' submodule in Python 3.3 and the alias
will be removed in 3.10.

Change-Id: I9a39f57ab4ab29d62105812f82b3eb4c7548eb5c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fopenstack-ansible-os_heat~master~I3d1c51a025f2c94cb02f7e0882472344dcb97fa4,openstack/openstack-ansible-os_heat,master,policy-json-to-yaml,I3d1c51a025f2c94cb02f7e0882472344dcb97fa4,[goal] Deprecate the JSON formatted policy file,MERGED,2021-03-18 17:04:18.000000000,2021-06-23 20:37:45.000000000,2021-06-23 20:36:37.000000000,29,5,0,781516,5a8cd45701495a1010188030b67bb1e7a0fd7b85,13,3,3,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to replace policy.json to
policy.yaml and remove deprecated policy.json.

config_template has been choosen instead of the copy, since it can
properly handle content that has been lookuped.

We make a separate task not to restart service when it's not needed.

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Depends-On: https://review.opendev.org/c/openstack/heat/+/766861
Change-Id: I3d1c51a025f2c94cb02f7e0882472344dcb97fa4
"
openstack%2Fneutron~master~Id80dc6790226cc81cb6535dc1bcaba58e991fdcb,openstack/neutron,master,sg_rules_callback,Id80dc6790226cc81cb6535dc1bcaba58e991fdcb,use callback payloads for SECURITY_GROUP_RULE,MERGED,2021-05-25 06:48:41.000000000,2021-06-23 20:25:48.000000000,2021-06-23 20:22:34.000000000,109,63,6,792895,941be42a61bca5b4cbfe682a0fa232f16a840d56,49,4,7,5,32667,Mamatisa Nurmatov,isabek,"use callback payloads for SECURITY_GROUP_RULE

This patch switches over to callback payloads for
SECURITY_GROUP_RULE events.

Change-Id: Id80dc6790226cc81cb6535dc1bcaba58e991fdcb
"
openstack%2Fneutron~stable%2Fussuri~If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252,openstack/neutron,stable/ussuri,bug/1914842-stable/ussuri,If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252,Make phynet paramter also is optional when network_segment_range enabled,MERGED,2021-06-08 11:25:58.000000000,2021-06-23 20:25:44.000000000,2021-06-23 20:23:21.000000000,80,4,0,795279,d27421d5823a525af654b640df06214d4c0c74a8,37,4,1,2,28329,yangjianfeng,yangjianfeng,"Make phynet paramter also is optional when network_segment_range enabled

When network_segment_range plugin is not enabled, we can create a provider
network without physical_network parameter. In order to compatibility,
We should support to not provide physical_network parameter when create
provider network with network_segment_range plugin enabled.

Closes-Bug: #1914842
Change-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252
(cherry picked from commit fa7c7282f019d3e0dd4d492f5ff2c47bd45b0ce7)
"
openstack%2Fnova~stable%2Fvictoria~Icbf59b865af48570b6467ab48d9587b6243233f2,openstack/nova,stable/victoria,,Icbf59b865af48570b6467ab48d9587b6243233f2,DNM: volume detach test,NEW,2021-06-23 15:18:04.000000000,2021-06-23 20:23:01.000000000,,1,0,0,797675,2cdc6e662daeea4b8dbf2b94f4689367380b6def,6,1,1,1,17685,Elod Illes,elod.illes,"DNM: volume detach test

Depends-On: https://review.opendev.org/c/openstack/tempest/+/794757
Change-Id: Icbf59b865af48570b6467ab48d9587b6243233f2
"
openstack%2Ftripleo-common~master~I38414673f804e228bef0341812a6cf313d92a111,openstack/tripleo-common,master,undercloud-noauth,I38414673f804e228bef0341812a6cf313d92a111,Remove undercloud auth details from inventory,MERGED,2021-06-17 11:33:08.000000000,2021-06-23 20:19:50.000000000,2021-06-23 20:17:38.000000000,45,74,0,796825,8576785366d6071f72cbfbd7eae02044306a6991,37,5,7,2,8833,Rabi Mishra,rabi,"Remove undercloud auth details from inventory

This also refactors to allow passing a cloud_name
rather than a session object from the module.

Change-Id: I38414673f804e228bef0341812a6cf313d92a111
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id33995996d930d06b65b51f72466120eb74ca467,openstack/tripleo-heat-templates,stable/wallaby,cephadm_ci_switch,Id33995996d930d06b65b51f72466120eb74ca467,Move scenario004 to cephadm,MERGED,2021-06-23 11:29:31.000000000,2021-06-23 20:17:29.000000000,2021-06-23 20:17:29.000000000,21,37,0,797575,f1d4c29d5384f6726b59623c242f446ad1ee54d8,10,4,1,1,25402,Francesco Pantano,fmount,"Move scenario004 to cephadm

This patch changes the template references from ceph-ansible
to cephadm, using the new role provided by tripleo-ansible.
Since the Ceph dashboard requires a new -stable Ceph
container which is not yet released, the monitoring stack
deployment is disabled.

Depends-On: Ief63794bebf1050744e1a54e554f5234d6337373
Depends-On: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3
Change-Id: Id33995996d930d06b65b51f72466120eb74ca467
(cherry picked from commit fb67c2da9fee6d14b990cbee8ddde1dabe215ce0)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id26e4fb1627f208d390ef22184f4997120f151ac,openstack/tripleo-heat-templates,stable/train,,Id26e4fb1627f208d390ef22184f4997120f151ac,[Train-Only] Remove kernel drivers from leapp database (removed_drivers.txt),MERGED,2021-06-22 14:44:42.000000000,2021-06-23 20:17:20.000000000,2021-06-23 20:17:20.000000000,4,3,0,797465,43d94063f96e92557a428e4f90e4c4924e8efa0a,12,11,2,1,11090,Sergii Golovatiuk,holser,"[Train-Only] Remove kernel drivers from leapp database (removed_drivers.txt)

Even when we run modprobe just before leapp we are not 100% confident
that these drivers won't be loaded back during leapp run as some RPMs
may have post actions to load drivers back. Instead this patch removes
these kernel modules from leapp database (removed_drivers.txt) as we
know these modules are loaded (floppy, pata_acpi) but not used.

Resolves: rhbz#1962365

Change-Id: Id26e4fb1627f208d390ef22184f4997120f151ac
"
openstack%2Fcharm-trilio-wlm~stable%2F21.03~I174cd14f069c2e9de3a38f79cf5edc8542971a39,openstack/charm-trilio-wlm,stable/21.03,bug/1914577-stable/21.03,I174cd14f069c2e9de3a38f79cf5edc8542971a39,Update lxd profile,MERGED,2021-06-09 13:09:41.000000000,2021-06-23 19:56:02.000000000,2021-06-23 19:56:02.000000000,1,0,0,795464,52ac246b58a47de6b796a819995c73b50a73a756,10,3,1,1,12549,gnuoy,gnuoy,"Update lxd profile

Add security.nesting to lxd profile to allow containers to be
deployed on focal.

Closes-Bug: 1914577
Change-Id: I174cd14f069c2e9de3a38f79cf5edc8542971a39
(cherry picked from commit e0b6693254de35bca386400a35462039fe76002a)
"
openstack%2Fansible-collections-openstack~master~I99857903ed22f46e4bbf317dab49f5e581141ea2,openstack/ansible-collections-openstack,master,dev150,I99857903ed22f46e4bbf317dab49f5e581141ea2,Bump to devel 1.5.1-dev version,MERGED,2021-06-23 15:41:28.000000000,2021-06-23 19:40:07.000000000,2021-06-23 19:40:07.000000000,1,1,0,797684,b839f9e25d3ee0fea92c24404a14f7c2ed2648ac,6,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Bump to devel 1.5.1-dev version

Change-Id: I99857903ed22f46e4bbf317dab49f5e581141ea2
"
openstack%2Fopenstack-helm-images~master~I18d07e57adf05c4885eec02cb8aaf9e574ac5e1d,openstack/openstack-helm-images,master,fix/dockerfile,I18d07e57adf05c4885eec02cb8aaf9e574ac5e1d,fix(dockerfile): removes blank lines,MERGED,2021-06-23 16:20:11.000000000,2021-06-23 19:30:23.000000000,2021-06-23 19:28:51.000000000,1,8,0,797717,fc2a5cb320c89ccef4f219ce2296e31ded86c72e,10,4,2,1,33519,Tin Lam,tlam,"fix(dockerfile): removes blank lines

This patch removes all the blank lines in the run-on \ command.
This also removes commented out block.

Signed-off-by: Tin Lam <t@lam.wtf>
Change-Id: I18d07e57adf05c4885eec02cb8aaf9e574ac5e1d
"
openstack%2Fcharm-guide~master~I51f8f9787f08a332335f0cb726758cea0413bab7,openstack/charm-guide,master,2110-docs,I51f8f9787f08a332335f0cb726758cea0413bab7,Add release schedule entry for 21.10,MERGED,2021-06-17 17:58:54.000000000,2021-06-23 19:14:15.000000000,2021-06-23 19:12:56.000000000,12,6,0,796932,8ee3388c06d8035a6026eb78c79e4ae6a7d7f8c8,10,3,2,1,30561,Peter Matulis,pmatulis,"Add release schedule entry for 21.10

Confirmed in the QA meeting of June 23.

Change-Id: I51f8f9787f08a332335f0cb726758cea0413bab7
"
openstack%2Fcinder~master~Idc03d997cfedfc2fcc967cca519997d157df115a,openstack/cinder,master,no-nova-api-ext,Idc03d997cfedfc2fcc967cca519997d157df115a,Fix instance locality scheduler filter,MERGED,2021-04-13 09:31:49.000000000,2021-06-23 19:06:36.000000000,2021-06-23 19:01:56.000000000,2,43,0,786025,738f81feebff0568f10c4c058a3173755d08a1e9,36,6,1,3,9542,Pavlo Shchelokovskyy,pshchelo,"Fix instance locality scheduler filter

the filter tries to use list_extensions API of novaclient,
however it was removed in Ussuri release
https://review.opendev.org/c/openstack/python-novaclient/+/686516

All the former extensions are long ago rolled into Nova ""core"" code,
so we may take the ""extension"" this filter depends on as given.

Change-Id: Idc03d997cfedfc2fcc967cca519997d157df115a
"
openstack%2Fcinder~master~I162a2b2b530bba074bf9bf6ecd5c4d6eab59cd0a,openstack/cinder,master,bp/six-removal,I162a2b2b530bba074bf9bf6ecd5c4d6eab59cd0a,Remove six from cinder.tests.unit.objects,MERGED,2021-03-16 09:27:35.000000000,2021-06-23 19:04:50.000000000,2021-06-23 19:01:07.000000000,11,66,0,780757,1db0e34ccf53d3a40da58bcedafd0a297ca7000e,33,4,1,11,30092,Xuan Yandong,xuanyandong,"Remove six from cinder.tests.unit.objects

- six.PY3

Change-Id: I162a2b2b530bba074bf9bf6ecd5c4d6eab59cd0a
"
openstack%2Fneutron~stable%2Ftrain~Ic08ca5b167db4884efa07112cf9a6c3637e1b827,openstack/neutron,stable/train,bug/1923633-stable/wallaby-stable/victoria-stable/ussuri-stable/train,Ic08ca5b167db4884efa07112cf9a6c3637e1b827,Force to close http connection after notify about HA router status,MERGED,2021-06-22 14:37:53.000000000,2021-06-23 19:04:45.000000000,2021-06-23 19:00:49.000000000,2,1,0,797410,939ad7016f0920530cdd937cb79649d886b65ade,10,3,1,1,11975,Slawek Kaplonski,slaweq,"Force to close http connection after notify about HA router status

Neutron-keepalived-state-change-monitor process is using HTTP to notify
L3 agent that state of the HA router was changed. It is done through
unix socket.
With HTTP 1.1 connection isn't closed properly and if
router's state was changed more than once in short time, it could happen
that wsgi worker on the L3 agent's side didn't process second request at
all. That caused problem with transitioning router to master state after
creation.
Request to close connection should be explicitly defined in the header
[1] and this patch adds ""connection: close"" header to the headers send in
such request to do exactly that.

[1] https://www.geeksforgeeks.org/http-headers-connection/

Closes-Bug: #1923633
Change-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827
(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)
"
openstack%2Fneutron~stable%2Fussuri~Ic08ca5b167db4884efa07112cf9a6c3637e1b827,openstack/neutron,stable/ussuri,bug/1923633-stable/wallaby-stable/victoria-stable/ussuri,Ic08ca5b167db4884efa07112cf9a6c3637e1b827,Force to close http connection after notify about HA router status,MERGED,2021-06-22 14:37:10.000000000,2021-06-23 19:04:39.000000000,2021-06-23 19:00:41.000000000,2,1,0,797409,87ec11cd901bbfeba631c281b99643848f3d6d7e,10,3,1,1,11975,Slawek Kaplonski,slaweq,"Force to close http connection after notify about HA router status

Neutron-keepalived-state-change-monitor process is using HTTP to notify
L3 agent that state of the HA router was changed. It is done through
unix socket.
With HTTP 1.1 connection isn't closed properly and if
router's state was changed more than once in short time, it could happen
that wsgi worker on the L3 agent's side didn't process second request at
all. That caused problem with transitioning router to master state after
creation.
Request to close connection should be explicitly defined in the header
[1] and this patch adds ""connection: close"" header to the headers send in
such request to do exactly that.

[1] https://www.geeksforgeeks.org/http-headers-connection/

Closes-Bug: #1923633
Change-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827
(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)
"
openstack%2Fcinder~master~Iec1f4c715b49d8a6461a9d175b9c6cfccf9b8c82,openstack/cinder,master,msa-report-config-options,Iec1f4c715b49d8a6461a9d175b9c6cfccf9b8c82,HPMSA: Report SAN driver options,MERGED,2021-01-14 13:14:15.000000000,2021-06-23 19:01:33.000000000,2021-06-23 19:01:33.000000000,11,2,0,770807,52997e56c74da7878ec5e332f4b247d048cb1339,49,4,1,3,9535,Gorka Eguileor,Gorka,"HPMSA: Report SAN driver options

The iSCSI and FC HPE HPMSA drivers are only reporting their specific
configuration options on the ""get_driver_options"" method, but they
should also report the common SAN configuration options that they
require.

This patch adds these configuration options as indicated in the current
docs [1].

[1]: https://docs.openstack.org/cinder/latest/configuration/block-storage/drivers/hp-msa-driver.html

Change-Id: Iec1f4c715b49d8a6461a9d175b9c6cfccf9b8c82
"
openstack%2Fpuppet-cinder~master~If052cde4da84970df4af657136060532ccb422f7,openstack/puppet-cinder,master,multistropt,If052cde4da84970df4af657136060532ccb422f7,Add support for MultiStrOpt,MERGED,2021-05-05 01:45:30.000000000,2021-06-23 18:51:38.000000000,2021-06-23 18:51:38.000000000,31,26,0,789677,870ff626558c0203a4be1ae64e5d31212c0cd80f,7,3,1,5,9816,Takashi Kajinami,kajinamit,"Add support for MultiStrOpt

This replaces the provider implementation of cinder_config type so that
MultiStrOpt, which is used by several options like
 - oslo_messaging_notifications/driver
 - oslo_policy/policy_dirs
is handled correctly.

Change-Id: If052cde4da84970df4af657136060532ccb422f7
"
openstack%2Fneutron~stable%2Fwallaby~Ic08ca5b167db4884efa07112cf9a6c3637e1b827,openstack/neutron,stable/wallaby,bug/1923633-stable/wallaby,Ic08ca5b167db4884efa07112cf9a6c3637e1b827,Force to close http connection after notify about HA router status,MERGED,2021-06-22 14:35:10.000000000,2021-06-23 18:45:24.000000000,2021-06-23 18:42:47.000000000,2,1,0,797407,b8581a7d57c8beec7dd4e9a388e4b63fd2febe78,11,3,1,1,11975,Slawek Kaplonski,slaweq,"Force to close http connection after notify about HA router status

Neutron-keepalived-state-change-monitor process is using HTTP to notify
L3 agent that state of the HA router was changed. It is done through
unix socket.
With HTTP 1.1 connection isn't closed properly and if
router's state was changed more than once in short time, it could happen
that wsgi worker on the L3 agent's side didn't process second request at
all. That caused problem with transitioning router to master state after
creation.
Request to close connection should be explicitly defined in the header
[1] and this patch adds ""connection: close"" header to the headers send in
such request to do exactly that.

[1] https://www.geeksforgeeks.org/http-headers-connection/

Closes-Bug: #1923633
Change-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827
(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)
"
openstack%2Fneutron~stable%2Fvictoria~Ic08ca5b167db4884efa07112cf9a6c3637e1b827,openstack/neutron,stable/victoria,bug/1923633-stable/wallaby-stable/victoria,Ic08ca5b167db4884efa07112cf9a6c3637e1b827,Force to close http connection after notify about HA router status,MERGED,2021-06-22 14:36:45.000000000,2021-06-23 18:45:08.000000000,2021-06-23 18:43:33.000000000,2,1,0,797408,f0defcf73e98e6406ecb9b05bc0a5171524f6425,11,4,1,1,11975,Slawek Kaplonski,slaweq,"Force to close http connection after notify about HA router status

Neutron-keepalived-state-change-monitor process is using HTTP to notify
L3 agent that state of the HA router was changed. It is done through
unix socket.
With HTTP 1.1 connection isn't closed properly and if
router's state was changed more than once in short time, it could happen
that wsgi worker on the L3 agent's side didn't process second request at
all. That caused problem with transitioning router to master state after
creation.
Request to close connection should be explicitly defined in the header
[1] and this patch adds ""connection: close"" header to the headers send in
such request to do exactly that.

[1] https://www.geeksforgeeks.org/http-headers-connection/

Closes-Bug: #1923633
Change-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827
(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)
"
openstack%2Fglance_store~master~Iec6c4be5c61710f2a7a0056168d0c31ade987b1f,openstack/glance_store,master,use_cookiejar_from_oslo_vmware_client_directly,Iec6c4be5c61710f2a7a0056168d0c31ade987b1f,vmware: Use cookiejar from oslo.vmware client directly,MERGED,2021-04-23 11:41:46.000000000,2021-06-23 18:29:13.000000000,2021-06-23 18:27:14.000000000,4,4,0,787715,83c6fa7f7445225fde213aaad80ea3ce73a4836b,17,4,3,4,17031,Mike,glacierr,"vmware: Use cookiejar from oslo.vmware client directly

With changing the SOAP library backing oslo.vmware [1], the cookiejar of
a session must be accessed differently. Therefore, oslo.vmware
introduced a property on the client to abstract this change away. This
commit uses the new place to access the attribute.

[1]
https://specs.openstack.org/openstack/oslo-specs/specs/victoria/oslo-vmware-soap-library-switch.html

Change-Id: Iec6c4be5c61710f2a7a0056168d0c31ade987b1f
"
openstack%2Fneutron~master~I653afa92ef938bc8603e70e4f4dcdbe8e7d568aa,openstack/neutron,master,l3_no_threads,I653afa92ef938bc8603e70e4f4dcdbe8e7d568aa,[DNM][WIP] Remove threading processing in L3 agent.,ABANDONED,2021-04-23 16:16:33.000000000,2021-06-23 17:48:06.000000000,,29,19,30,787777,9a48bbcd394f1e78455dda1b798b15c25012b0d6,31,1,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[DNM][WIP] Remove threading processing in L3 agent.

This is a POC that tries to solve the problem we have when attending
to the keepalived-state-chanche messages sent to the socket server
opened in ""L3AgentKeepalivedStateChangeServer"".

Change-Id: I653afa92ef938bc8603e70e4f4dcdbe8e7d568aa
"
openstack%2Fos-vif~master~I3e3eebfd60217c2e810c529774d340eb4171b802,openstack/os-vif,master,neutron_jobs_explicit_backend,I3e3eebfd60217c2e810c529774d340eb4171b802,Make explicit the network backend used in the CI jobs,ABANDONED,2021-06-23 13:05:07.000000000,2021-06-23 17:44:40.000000000,,2,2,9,797640,2489173c4a907e7014ffc69c8a03dfbdd8626577,10,2,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Make explicit the network backend used in the CI jobs

All Neutron CI jobs (except for unit, functional and fullstack jobs),
have explicitly defined the network backend used:
- linuxbridge
- ovs
- ovn

That was discussed and approved during the Neutron CI meetings [1].

[1]https://meetings.opendev.org/meetings/neutron_ci/2021/neutron_ci.2021-06-15-15.00.log.html

Depends-On: https://review.opendev.org/c/openstack/neutron/+/797051
Change-Id: I3e3eebfd60217c2e810c529774d340eb4171b802
"
openstack%2Fneutron~stable%2Fussuri~Iea2533f4c52935b4ecda9ec22fb619c131febfa1,openstack/neutron,stable/ussuri,bug/1926693-stable/wallaby-stable/victoria-stable/ussuri,Iea2533f4c52935b4ecda9ec22fb619c131febfa1,Make default hypervisor hostname compatible with libvirt,MERGED,2021-06-17 13:16:38.000000000,2021-06-23 17:34:53.000000000,2021-06-23 17:32:24.000000000,119,7,0,796856,aa8f6ff547b132a2b85d7da561fa3444de5f8254,9,4,1,5,11975,Slawek Kaplonski,slaweq,"Make default hypervisor hostname compatible with libvirt

This change ensures that neutron relies on the same logic as libvirt
to generate hypervisor hostname, to fix imcompatible hostname format
used in Nova and Neutron for resource provider name in some
configuration pattens like the one generated by TripleO.

Closes-Bug: #1926693
Change-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1
(cherry picked from commit 577217c52d677ba35ca78b87c06302d506f66ff9)
"
openstack%2Fneutron~stable%2Fvictoria~Iea2533f4c52935b4ecda9ec22fb619c131febfa1,openstack/neutron,stable/victoria,bug/1926693-stable/wallaby-stable/victoria,Iea2533f4c52935b4ecda9ec22fb619c131febfa1,Make default hypervisor hostname compatible with libvirt,MERGED,2021-06-17 13:15:30.000000000,2021-06-23 17:34:47.000000000,2021-06-23 17:32:16.000000000,119,7,0,796855,1ee664f65bc650775713c7adcaf983e48c12dbec,12,4,1,5,11975,Slawek Kaplonski,slaweq,"Make default hypervisor hostname compatible with libvirt

This change ensures that neutron relies on the same logic as libvirt
to generate hypervisor hostname, to fix imcompatible hostname format
used in Nova and Neutron for resource provider name in some
configuration pattens like the one generated by TripleO.

Closes-Bug: #1926693
Change-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1
(cherry picked from commit 577217c52d677ba35ca78b87c06302d506f66ff9)
"
openstack%2Freleases~master~I1b643a91f8294f60dcfa1b6dd5fc8b7785096511,openstack/releases,master,,I1b643a91f8294f60dcfa1b6dd5fc8b7785096511,Release Kolla projects for Wallaby,MERGED,2021-06-22 14:51:43.000000000,2021-06-23 17:34:24.000000000,2021-06-23 17:34:24.000000000,16,0,0,797467,9fc733841de7d5d98455348785feec0dd649f8f1,9,4,1,3,14826,Mark Goddard,mgoddard,"Release Kolla projects for Wallaby

* kolla 12.0.0
* kolla-ansible 12.0.0
* kayobe 10.0.0

Change-Id: I1b643a91f8294f60dcfa1b6dd5fc8b7785096511
"
openstack%2Fneutron~stable%2Fwallaby~Iea2533f4c52935b4ecda9ec22fb619c131febfa1,openstack/neutron,stable/wallaby,bug/1926693-stable/wallaby,Iea2533f4c52935b4ecda9ec22fb619c131febfa1,Make default hypervisor hostname compatible with libvirt,MERGED,2021-06-17 13:14:42.000000000,2021-06-23 17:33:34.000000000,2021-06-23 17:23:59.000000000,119,7,0,796854,b0c487f711ab7d4a1ec615ea2f0e94614cbbf8da,10,4,1,5,11975,Slawek Kaplonski,slaweq,"Make default hypervisor hostname compatible with libvirt

This change ensures that neutron relies on the same logic as libvirt
to generate hypervisor hostname, to fix imcompatible hostname format
used in Nova and Neutron for resource provider name in some
configuration pattens like the one generated by TripleO.

Closes-Bug: #1926693
Change-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1
(cherry picked from commit 577217c52d677ba35ca78b87c06302d506f66ff9)
"
openstack%2Ftripleo-validations~stable%2Fussuri~Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2,openstack/tripleo-validations,stable/ussuri,tsx_flag_compute,Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2,Compute TSX validation,MERGED,2021-06-10 13:27:20.000000000,2021-06-23 17:33:16.000000000,2021-06-23 17:23:03.000000000,342,0,0,795793,7c937a03069ea939f87952f3532a42e0227c9c4b,29,7,8,10,27419,David Vallee Delisle,dvd,"Compute TSX validation

RHEL-8.3 kernel disabled the Intel TSX (Transactional
Synchronization Extensions) feature by default as a preemptive
security measure, but it breaks live migration from RHEL-7.9
(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.

Operators are expected to explicitly define the TSX flag in
their KernelArgs for the compute role to prevent live-migration
issues during the upgrade process.

This also impacts upstream CentOS systems.

Co-Authored-By: Martin Schuppert <mschuppert@redhat.com>
Related: https://bugzilla.redhat.com/1923165
Closes-Bug: #1916758
Change-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2
(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)
(cherry picked from commit 74c30cf49147dedad2944da332b58079bc703200)
(cherry picked from commit 1d8c110b52bf90db9efaf55b4f071a1233270163)
"
openstack%2Ftripleo-validations~stable%2Fvictoria~I4717825e2767dc55016a30fb62aa6a5541f26cfd,openstack/tripleo-validations,stable/victoria,,I4717825e2767dc55016a30fb62aa6a5541f26cfd,Add shared configuration for all molecule test,MERGED,2021-06-11 07:42:00.000000000,2021-06-23 17:31:33.000000000,2021-06-23 17:20:57.000000000,351,4311,0,795943,8bd52a2fba9e05cdf9081d3e0f80d0db8fc572b3,9,7,1,112,11491,Gael Chamoulaud,gchamoul,"Add shared configuration for all molecule test

This patch adds a molecule configuration file at the repository
level (tripleo-validations/.config/molecule/config.yml) which defines
all the default values for molecule.yml files in all roles.

This patch also introduces a common Dockerfile (UBI8 image) shared
between all the role molecule tests. This Dockerfile will install the
CentOS 8.x Linux Repos and GPG Keys during the image build.

This Dockerfile is located in tripleo-validations/.config/molecule
directory and it is shared through a relative symbolic link between all
the molecule directories.

NOTE: tox-ansible doesn't manage shared molecule configuration at the
project level (see [1]). To be able to use it, we have to explicitly add
the driver name in each molecule.yml file in the roles level. Once [1]
will be fixed, these will be removed.

[1] - https://github.com/ansible-community/tox-ansible/issues/88).

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd
(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)
(cherry picked from commit 6a3081beac7a845cd7a77f3813372fa8a8cc44f3)
"
openstack%2Ftripleo-validations~stable%2Fussuri~I4717825e2767dc55016a30fb62aa6a5541f26cfd,openstack/tripleo-validations,stable/ussuri,tsx_flag_compute,I4717825e2767dc55016a30fb62aa6a5541f26cfd,Add shared configuration for all molecule test,MERGED,2021-06-11 08:10:31.000000000,2021-06-23 17:31:26.000000000,2021-06-23 17:18:48.000000000,347,4228,0,795952,a6d9d13a5fb21ba51c7da829b17aa5227d9cddbf,14,4,4,110,11491,Gael Chamoulaud,gchamoul,"Add shared configuration for all molecule test

This patch adds a molecule configuration file at the repository
level (tripleo-validations/.config/molecule/config.yml) which defines
all the default values for molecule.yml files in all roles.

This patch also introduces a common Dockerfile (UBI8 image) shared
between all the role molecule tests. This Dockerfile will install the
CentOS 8.x Linux Repos and GPG Keys during the image build.

This Dockerfile is located in tripleo-validations/.config/molecule
directory and it is shared through a relative symbolic link between all
the molecule directories.

NOTE: tox-ansible doesn't manage shared molecule configuration at the
project level (see [1]). To be able to use it, we have to explicitly add
the driver name in each molecule.yml file in the roles level. Once [1]
will be fixed, these will be removed.

[1] - https://github.com/ansible-community/tox-ansible/issues/88).

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd
(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)
(cherry picked from commit 6a3081beac7a845cd7a77f3813372fa8a8cc44f3)
(cherry picked from commit 8bd52a2fba9e05cdf9081d3e0f80d0db8fc572b3)
"
openstack%2Ftripleo-validations~stable%2Fussuri~I1fb32100139736b88a078940f930122f2694955c,openstack/tripleo-validations,stable/ussuri,tsx_flag_compute,I1fb32100139736b88a078940f930122f2694955c,Add Validation Development Workflow Documentation,MERGED,2021-06-11 08:10:31.000000000,2021-06-23 17:20:26.000000000,2021-06-23 17:20:26.000000000,260,53,0,795957,8a659c4a3444e526628937c4c3ab2ac7480e886f,17,4,5,8,11491,Gael Chamoulaud,gchamoul,"Add Validation Development Workflow Documentation

This patch adds documentation for:
- How to develop a molecule test for a new role
- How to run the molecule test scenarios via tox-ansible

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I1fb32100139736b88a078940f930122f2694955c
(cherry picked from commit 443f8d328f63df4cc65c0ebf84c717772e77ed31)
(cherry picked from commit 99acc1cb493a7c6a7c70b776d9cc5a6aa5944256)
(cherry picked from commit 6fd4fc82d54b6dc023501e4373b155f22adf8618)
"
openstack%2Ftripleo-validations~stable%2Fussuri~I219f4054e6b854306719b9c91a0738c526f07666,openstack/tripleo-validations,stable/ussuri,tsx_flag_compute,I219f4054e6b854306719b9c91a0738c526f07666,Introduce new Ansible validation_init role.,MERGED,2021-06-11 08:10:31.000000000,2021-06-23 17:19:57.000000000,2021-06-23 17:19:57.000000000,645,169,0,795956,aa54732c3258ef33d052c1ed01b7ddea691f250a,21,4,6,21,11491,Gael Chamoulaud,gchamoul,"Introduce new Ansible validation_init role.

This patch migrates the new role addition playbook into a proper Ansible
role with proper molecule tests. This new role will be responsible for
creating a new validation.

It is good to mention that the process won't change and it will be
fully transparent for the user.

To create a new role in tripleo-validations:

$ cd tripleo-validations/
$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""
$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I219f4054e6b854306719b9c91a0738c526f07666
(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)
(cherry picked from commit 19bb19ea3c74feec3ceb6e6c31b14ca5855dae16)
(cherry picked from commit fc7ab69ef0f9b69611d08d78244440d7145ff96c)
"
openstack%2Ftripleo-validations~stable%2Fussuri~I259c17b7a49ff5bf3476df4da399cc4b2782403d,openstack/tripleo-validations,stable/ussuri,tsx_flag_compute,I259c17b7a49ff5bf3476df4da399cc4b2782403d,Remove workaround for tox-ansible and global molecule config,MERGED,2021-06-11 08:10:31.000000000,2021-06-23 17:19:34.000000000,2021-06-23 17:19:34.000000000,5,208,0,795955,eea038f0a35b95a003cb9a4b14f987c5d2786a2d,13,3,5,102,11491,Gael Chamoulaud,gchamoul,"Remove workaround for tox-ansible and global molecule config

[1] has been merged and released[2] in upstream tox-ansible and it is now
able to manage global molecule configuration. The workaround, which
consisted in adding the molecule driver name in each scenarios
molecule.yml files, is not necessary anymore.

This patch also removes all the relative symlink to the Dockerfile and
adds directly in the global molecule configuration file.

[1] https://github.com/ansible-community/tox-ansible/pull/89
[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d
(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)
(cherry picked from commit f3cba823d7424277402720946c76f2f78730e046)
(cherry picked from commit 12dd20e3b55e96d88468531f8752b9bcea21360b)
"
openstack%2Ftripleo-validations~stable%2Fussuri~I5a00e854198fc5429db0353b490dc07192183476,openstack/tripleo-validations,stable/ussuri,tsx_flag_compute,I5a00e854198fc5429db0353b490dc07192183476,Quick documentation content reorganization,MERGED,2021-06-11 08:10:31.000000000,2021-06-23 17:19:08.000000000,2021-06-23 17:19:08.000000000,152,105,0,795954,3bab48c78d86c05aabb09fc32a8c5d2d84760e8b,14,4,5,9,11491,Gael Chamoulaud,gchamoul,"Quick documentation content reorganization

This patch organizes better the content of the documentation files in order
to render it clearer and better.

Change-Id: I5a00e854198fc5429db0353b490dc07192183476
(cherry picked from commit 06ce5bf55cbc30aeb29e6775351dd3e63a964d4c)
(cherry picked from commit 98cdbd03db7048d1b8ed82205f93976c1862e0a3)
(cherry picked from commit 3d68f6a644d7020a550476e764ddbc77f996062c)
"
openstack%2Ftripleo-validations~stable%2Fussuri~I585d03ad42fc0435c711a02717b2b17c1ec8275b,openstack/tripleo-validations,stable/ussuri,tsx_flag_compute,I585d03ad42fc0435c711a02717b2b17c1ec8275b,Trigger molecule tests when modifying CI scripts,MERGED,2021-06-11 08:10:31.000000000,2021-06-23 17:18:51.000000000,2021-06-23 17:18:51.000000000,132,24,0,795953,ccecdcbaf78ccb1e04afd26729968946d2a03a5e,15,3,6,2,11491,Gael Chamoulaud,gchamoul,"Trigger molecule tests when modifying CI scripts

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I585d03ad42fc0435c711a02717b2b17c1ec8275b
(cherry picked from commit 7db15e5fe2385b01d6b45ec46b6f776755294e05)
(cherry picked from commit f755757d551a45b8db8fba2ac45239e642e3c3eb)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,openstack/tripleo-heat-templates,stable/ussuri,collectd_memory-stable/wallaby-stable/victoria-stable/ussuri,I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,Limit collectds memory usage,MERGED,2021-06-23 07:33:27.000000000,2021-06-23 17:18:42.000000000,2021-06-23 17:18:42.000000000,1,0,0,797573,6d304d61b4a9f3dd03f00824e622a654b44ad718,8,3,1,1,4264,Matthias Runge,mrunge,"Limit collectds memory usage

to guard nodes from running out of memory.

If there is a connection issue with collectd not being able to
write to event or metrics endpoints, this can lead to accumulating
to large portions of memory. Limiting the memory usage via podman
memory will prevent the container to grow limitless. In case of
using more than 512 MB, podman will restart the container.

Change-Id: I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28
(cherry picked from commit 2f702f7bb1452138811f42309b032f9747182e97)
(cherry picked from commit e987a234061773f0817a090c7c9752e1fab0fd72)
(cherry picked from commit 02b7e3d67729bd219d9b9e1ff957ee51df0d9b8c)
"
openstack%2Fhorizon~stable%2Fvictoria~Ie69b7725a1e83c47b47488c9d83b47e97c056792,openstack/horizon,stable/victoria,zanata/translations,Ie69b7725a1e83c47b47488c9d83b47e97c056792,Imported Translations from Zanata,MERGED,2021-06-20 06:54:13.000000000,2021-06-23 17:04:18.000000000,2021-06-23 17:02:02.000000000,7,3,0,797185,146beeda55b290acb274017988c60c2662b50bed,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie69b7725a1e83c47b47488c9d83b47e97c056792
"
openstack%2Fansible-collections-openstack~master~I433087510adf633e9656f844680ef22c1aff1a72,openstack/ansible-collections-openstack,master,rel150,I433087510adf633e9656f844680ef22c1aff1a72,Release 1.5.0 version,MERGED,2021-06-23 11:14:01.000000000,2021-06-23 16:59:01.000000000,2021-06-23 16:59:01.000000000,136,1,0,797623,b7765776a724d8e44613696f00947c55db5b2278,9,2,2,3,10969,Shnaidman Sagi (Sergey),sergsh,"Release 1.5.0 version

Change-Id: I433087510adf633e9656f844680ef22c1aff1a72
"
openstack%2Fopenstack-ansible-os_nova~stable%2Fvictoria~Ie004f845138a23095f6e02138401511054975a01,openstack/openstack-ansible-os_nova,stable/victoria,,Ie004f845138a23095f6e02138401511054975a01,Use version from repo_packages for SPICE HTML5,MERGED,2021-06-21 12:58:11.000000000,2021-06-23 16:57:35.000000000,2021-06-23 16:56:12.000000000,2,2,0,797271,94805d0a6a8c6daacbb08ae5ec970a89f0aeee1c,16,3,3,1,11290,Gaudenz Steinlin,gaudenz,"Use version from repo_packages for SPICE HTML5

Use the version pinned in repo_packages/nova_consoles.yml in
openstack-ansible to install the SPICE HTML5 client. Without this change
the version pin in openstack-ansible has no effect and the role always
installs master.

This is the same change as already done for the noVNC console in commit
1de7b24e701bda75e0fc1d019510f71f16608502.

Change-Id: Ie004f845138a23095f6e02138401511054975a01
(cherry picked from commit 9244767bcdb613a984d69699e56467a762cb4f14)
"
openstack%2Fneutron~stable%2Ftrain~I229e926341c5e6c8b06f59950e3ae09864d0f1f6,openstack/neutron,stable/train,bug/1861221,I229e926341c5e6c8b06f59950e3ae09864d0f1f6,Increase log information when a RootHelperProcess fails,MERGED,2020-04-21 17:12:42.000000000,2021-06-23 16:32:38.000000000,2020-04-23 04:48:45.000000000,19,5,0,721695,b1811dc1bb59661cc18c83812035dca69453f1da,13,5,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Increase log information when a RootHelperProcess fails

If a RootHelperProcess does not start, add more information to the
exception raised: the command return code, the stdout and the stderr.

Change-Id: I229e926341c5e6c8b06f59950e3ae09864d0f1f6
Closes-Bug: #1861221
(cherry picked from commit 97773eaea6407eb12a0f1a2b8dbac24a71f3b7c6)
"
openstack%2Fkayobe~stable%2Fussuri~I6c79d6f4df9be192e20db413b72f0b51e4d8d501,openstack/kayobe,stable/ussuri,centos84-seed-vm-stable/ussuri,I6c79d6f4df9be192e20db413b72f0b51e4d8d501,Update seed VM image to CentOS 8.4,MERGED,2021-06-17 12:28:53.000000000,2021-06-23 16:31:59.000000000,2021-06-23 16:30:36.000000000,2,2,0,796670,3ebeaefbdb00ab9885280c031624ed4b1b933c35,10,3,1,2,15197,Pierre Riteau,priteau,"Update seed VM image to CentOS 8.4

Change-Id: I6c79d6f4df9be192e20db413b72f0b51e4d8d501
(cherry picked from commit 2dad64bcd48dd58cb6c70cfc0654f7fcec5d9ede)
"
openstack%2Frequirements~master~Ib06b9cbe14f9a585f84c6d245cbc2fd78d7c60b4,openstack/requirements,master,fix/sort-upper-constraints,Ib06b9cbe14f9a585f84c6d245cbc2fd78d7c60b4,Ensure upper-constraints.txt is sorted,ABANDONED,2021-06-22 16:31:37.000000000,2021-06-23 16:27:14.000000000,,586,579,0,797506,a28213ee7e1a9098290201f716a4989045c07ba9,11,3,2,2,24162,Sorin Sbârnea,ssbarnea,"Ensure upper-constraints.txt is sorted

- sorts upper-constraints.txt
- update validate tox env to ensure atomic sorting
- ensure tox does not report success if it ended up modifying tracked
  files, this means validate will not pass if the file was not already
  sorted.
- adopts newer allowlist_externals

Change-Id: Ib06b9cbe14f9a585f84c6d245cbc2fd78d7c60b4
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I6241e29b19174d8e70c2bc4c59ed85ee04379081,openstack/networking-ovn,stable/train,,I6241e29b19174d8e70c2bc4c59ed85ee04379081,Use TCP keepalives for ovsdb connections,ABANDONED,2021-06-23 16:13:58.000000000,2021-06-23 16:14:26.000000000,,43,0,0,797714,9a06199d6a0171e8781a728e3e4e4812ba494685,2,0,1,1,5756,Terry Wilson,otherwiseguy,"Use TCP keepalives for ovsdb connections

When failing over OVN DB servers from one server to another, the
server which originally hosted the VIP doesn't notice the connection
is gone and doesn't reconnect. Ultimately, this is something that
needs to be fixed in python-ovs, but setting the SO_KEEPALIVE socket
option avoids the issue. This also has the benefit that the client
doesn't need to send 'echo' requests, which can time out on an
overloaded ovsdb-server, which causes a disconnection which then
adds even more load on the ovsdb-server as it has to send the entire
db contents over the wire after the connection.

Closes-Bug: #1930926
(cherry picked from neutron commit 65cce351d74a9a637fdb2a9d5e0e63445dda9ea9)
Change-Id: Ie0205785cab307c132fbe409588739685cade7c0

Change-Id: I6241e29b19174d8e70c2bc4c59ed85ee04379081
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I74ca47fbd36a913cffc6ed1751a350dc2ae9dbb3,openstack/networking-ovn,stable/train,,I74ca47fbd36a913cffc6ed1751a350dc2ae9dbb3,Use TCP keepalives for ovsdb connections,ABANDONED,2021-06-23 16:10:00.000000000,2021-06-23 16:13:04.000000000,,43,0,0,797692,1742fedfa00272534b240ad7c7b42a7e93de1840,2,0,1,1,5756,Terry Wilson,otherwiseguy,"Use TCP keepalives for ovsdb connections

When failing over OVN DB servers from one server to another, the
server which originally hosted the VIP doesn't notice the connection
is gone and doesn't reconnect. Ultimately, this is something that
needs to be fixed in python-ovs, but setting the SO_KEEPALIVE socket
option avoids the issue. This also has the benefit that the client
doesn't need to send 'echo' requests, which can time out on an
overloaded ovsdb-server, which causes a disconnection which then
adds even more load on the ovsdb-server as it has to send the entire
db contents over the wire after the connection.

Closes-Bug: #1930926
Change-Id: Ie0205785cab307c132fbe409588739685cade7c0
(cherry picked from neutron commit 65cce351d74a9a637fdb2a9d5e0e63445dda9ea9)

Change-Id: I74ca47fbd36a913cffc6ed1751a350dc2ae9dbb3
"
openstack%2Freleases~master~Ic11ec20a14062b46b8441976f90e9a01ec40d846,openstack/releases,master,ironic-wallaby-1703,Ic11ec20a14062b46b8441976f90e9a01ec40d846,Release ironic 17.0.3 for wallaby,MERGED,2021-06-22 15:21:29.000000000,2021-06-23 16:04:59.000000000,2021-06-23 16:04:59.000000000,4,0,0,797499,7278d4c245b1167b46a7f39aaa841d605c9cdcb2,10,6,1,1,23851,Riccardo Pittau,elfosardo,"Release ironic 17.0.3 for wallaby

Change-Id: Ic11ec20a14062b46b8441976f90e9a01ec40d846
"
openstack%2Fhorizon~stable%2Fpike~I41e9d94345151bc4473d704cdc040ed77870ce45,openstack/horizon,stable/pike,change-725785-8,I41e9d94345151bc4473d704cdc040ed77870ce45,Allow OVA upload for images,ABANDONED,2020-05-06 08:28:08.000000000,2021-06-23 15:27:54.000000000,,199,237,26,725785,53d2f22e252ab292b6f4667d04d036a511cabc99,35,7,9,8,16963,Zara,Zara,"Allow OVA upload for images

Bug #1641383 was not fixed for REST API call.
The two implementation of create_image_metadata are merged
into api/glance.py.

There were minor differences in field naming and handling
(min_ vs minimum_, is_public vs public vs visibility).
This commit normalizes them to simplify the logic.

Closes-Bug: #1757136
Change-Id: I41e9d94345151bc4473d704cdc040ed77870ce45
Cherry-picked from: e3626260313c87aba6d9579c81f8dac415cc7235
"
openstack%2Foslo.db~master~I1de4b7f7f7ea3634e3a2d49704f689205f746085,openstack/oslo.db,master,,I1de4b7f7f7ea3634e3a2d49704f689205f746085,Remove the useless else.,MERGED,2021-06-23 10:44:43.000000000,2021-06-23 15:22:27.000000000,2021-06-23 15:19:50.000000000,1,2,0,797621,50356dca820270314e594b4d76814cd147dae0fe,10,3,1,1,31245,Daniel Bengtsson,damani42,"Remove the useless else.

We return the value in the if condition, so the else is not necessary.

Change-Id: I1de4b7f7f7ea3634e3a2d49704f689205f746085
"
openstack%2Fovn-octavia-provider~stable%2Fwallaby~Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,openstack/ovn-octavia-provider,stable/wallaby,,Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,Ensure that load balancer is added to logical switch,MERGED,2021-06-17 13:22:49.000000000,2021-06-23 15:12:54.000000000,2021-06-23 15:11:38.000000000,62,3,0,796839,9c362b3ded873121e9626e5322245a33fd429840,15,6,1,2,11952,Flavio Fernandes,ffernand,"Ensure that load balancer is added to logical switch

Add logic to handle cases where a race between logical router port and
load balancer creation renders the affected logical switch without the
proper load balancer in its attribute.

This change adds _get_subnet() to the helper module, so obtaining the
subnet is done from a shared location.

Closes-bug: #1931639
Change-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d
(cherry picked from commit b2a862fdb3d4eae440a342f6b6bbc0323022f8ba)
"
openstack%2Fvalidations-libs~master~If5f5438926d5da9a2a773f9541ba217e73e6b754,openstack/validations-libs,master,requirements,If5f5438926d5da9a2a773f9541ba217e73e6b754,Filling license info for Ansible and Pyflakes,MERGED,2021-06-14 13:49:30.000000000,2021-06-23 15:10:37.000000000,2021-06-23 15:10:37.000000000,2,2,0,796280,db65bae2464b16c568198fef3f45788871a46b4f,9,6,2,2,32926,Jiri Podivin,jpodivin,"Filling license info for Ansible and Pyflakes

License information for the Ansible and Pyflakes
was filled in using information obtained from their
repective code repositories.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: If5f5438926d5da9a2a773f9541ba217e73e6b754
"
openstack%2Fos-brick~master~Ia5c645704ab366b8691f3ca3e7920e87c6279171,openstack/os-brick,master,,Ia5c645704ab366b8691f3ca3e7920e87c6279171,Ussuri+ is python3 only,MERGED,2021-05-06 01:21:41.000000000,2021-06-23 15:01:20.000000000,2021-06-23 14:59:10.000000000,2,2,0,789964,496c7226fa0166411d49c3f8d5f5f6c287a1152d,52,8,1,2,31827,Jorhson Deng,dengzhaosen,"Ussuri+ is python3 only

update python to python3

Change-Id: Ia5c645704ab366b8691f3ca3e7920e87c6279171
"
openstack%2Fkayobe-config-dev~stable%2Fussuri~I42a417281c4da5b732b3e1fa0ed855c16182c9b2,openstack/kayobe-config-dev,stable/ussuri,,I42a417281c4da5b732b3e1fa0ed855c16182c9b2,Sync configs with kayobe @ cf8869eecd669df411696e78bd90d0b9a02f429f,MERGED,2021-06-09 12:29:43.000000000,2021-06-23 14:49:06.000000000,2021-06-23 14:49:06.000000000,186,28,0,795526,cb096de2edc8a4eaab6b9fb1061a6e218ef238e0,12,3,1,9,15197,Pierre Riteau,priteau,"Sync configs with kayobe @ cf8869eecd669df411696e78bd90d0b9a02f429f

Change-Id: I42a417281c4da5b732b3e1fa0ed855c16182c9b2
"
openstack%2Foslo.db~master~I0c26c3e14ad9ad9a4f30af80757e369d6042441a,openstack/oslo.db,master,remove_idle_timeout,I0c26c3e14ad9ad9a4f30af80757e369d6042441a,Remove the idle_timeout option.,MERGED,2021-03-03 11:54:52.000000000,2021-06-23 14:43:30.000000000,2021-06-23 14:41:58.000000000,7,26,6,778441,a857b83c9c28d1fe461d1c06549607c48acf337b,27,4,7,5,31245,Daniel Bengtsson,damani42,"Remove the idle_timeout option.

The option was replaced 4 years ago[1] by connection_recycle_time. The
option is not anymore present in sqlalchemy. It's the good time to
remove it.

[1] https://opendev.org/openstack/oslo.db/commit/6634218415906192fca891362b8fa0ac50b66284

Change-Id: I0c26c3e14ad9ad9a4f30af80757e369d6042441a
"
openstack%2Fansible-collections-openstack~master~I049b0dade4c7ea3e1ef24777ae558f650caa136c,openstack/ansible-collections-openstack,master,story_2008172_necessary_changes_to_subnets_only,I049b0dade4c7ea3e1ef24777ae558f650caa136c,Only apply necessary changes to subnets,MERGED,2021-01-11 13:10:50.000000000,2021-06-23 14:35:49.000000000,2021-06-23 14:35:49.000000000,19,22,3,770121,ce421fe3702b2cd411aa9d471e2675cb5ff098ae,26,6,6,2,32962,Jakob Meng,jakobmeng@web.de,"Only apply necessary changes to subnets

Previously, all subnet properties were updated if any value did not match.
But this behaviour caused errors like e.g. ""Current gateway ip 192.168.0.1
already in use by port [ID]. Unable to update."" even if that gateway was
not about to be changed.

Task: 40927
Story: 2008172
Change-Id: I049b0dade4c7ea3e1ef24777ae558f650caa136c
"
openstack%2Fcharm-keystone~stable%2F21.04~I110cc089fa7d51dfd513c630cb28cd49b330bf6f,openstack/charm-keystone,stable/21.04,bug/1933109-stable/21.04,I110cc089fa7d51dfd513c630cb28cd49b330bf6f,Set WSGI env with lang=C.UTF-8,MERGED,2021-06-23 06:18:39.000000000,2021-06-23 14:02:21.000000000,2021-06-23 14:02:21.000000000,3,3,0,797492,42ee87a9968506c1eb3d0ca96fce025ab98c53d0,8,5,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Set WSGI env with lang=C.UTF-8

The default apache2 environment, and therefore the default WSGI
environment, sets LANG=C. For languages beyond the scope of ASCII
this can create problems.

Explicitly set the lang and locale to C.UTF-8 which will support all
UTF-8 language sets.

Change-Id: I110cc089fa7d51dfd513c630cb28cd49b330bf6f
Closes-Bug: #1933109
(cherry picked from commit 7e6647951d2408ceae10170f7c4597f593d68d58)
"
openstack%2Fpython-brick-cinderclient-ext~master~If2629a142a795b5663c5e6a04c57549c76530416,openstack/python-brick-cinderclient-ext,master,setup-cfg,If2629a142a795b5663c5e6a04c57549c76530416,setup.cfg: Replace dashes with underscores,MERGED,2021-05-05 02:22:40.000000000,2021-06-23 14:00:12.000000000,2021-06-23 13:58:47.000000000,4,4,0,789695,36835474b218593943582980d58931438047221d,12,6,1,1,32326,YuehuiLei,YuehuiLei,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: If2629a142a795b5663c5e6a04c57549c76530416
"
openstack%2Fkolla-ansible~master~Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6,openstack/kolla-ansible,master,bug/1917068,Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6,Allow user to set sysctl_net_ipv4_tcp_retries2,MERGED,2021-02-26 16:57:32.000000000,2021-06-23 13:58:50.000000000,2021-06-23 13:57:13.000000000,79,3,25,777772,09d0409ed4a69f514355925754e832e752f817ca,68,5,17,6,27339,Michal Arbet,michalarbet,"Allow user to set sysctl_net_ipv4_tcp_retries2

This patch is adding configuration option to
manipulate with kernel option sysctl_net_ipv4_tcp_retries2.

More informations about kernel option in [1][2]
and RedHat suggestion [3] to set for DBs and HA.

[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html
[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/
[3]: https://access.redhat.com/solutions/726753

Closes-Bug: #1917068
Change-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~Iaf398b280e55f634a20295c517b6e5c8b0bc95be,openstack/tripleo-upgrade,stable/train,,Iaf398b280e55f634a20295c517b6e5c8b0bc95be,[Train-Only] Remove kernel drivers from leapp database (removed_drivers.txt),MERGED,2021-06-22 14:55:50.000000000,2021-06-23 13:52:38.000000000,2021-06-23 13:52:38.000000000,8,5,0,797469,7bed774213b14018de2062795d3597e402759ef8,10,10,1,1,11090,Sergii Golovatiuk,holser,"[Train-Only] Remove kernel drivers from leapp database (removed_drivers.txt)

Even when we run modprobe just before leapp we are not 100% confident
that these drivers won't be loaded back during leapp run as some RPMs
may have post actions to load drivers back. Instead this patch removes
these kernel modules from leapp database (removed_drivers.txt) as we
know these modules are loaded (floppy, pata_acpi) but not used.

Resolves: rhbz#1962365
Change-Id: Iaf398b280e55f634a20295c517b6e5c8b0bc95be
"
openstack%2Ftripleo-upgrade~master~I61068df4809968c04120b29c0ebeb6d3239ad4a2,openstack/tripleo-upgrade,master,bump_tox_requirements,I61068df4809968c04120b29c0ebeb6d3239ad4a2,Bump test-requirements.txt,MERGED,2021-06-18 14:17:03.000000000,2021-06-23 13:52:29.000000000,2021-06-23 13:52:29.000000000,5,5,0,797115,d8443e2ccc9bfdc2b8134b37829e27d7ef8877bb,8,3,1,2,11090,Sergii Golovatiuk,holser,"Bump test-requirements.txt

A lot of python packages has not been updated for ages. This patch bumps
the minimal required versions to the most recent.

Change-Id: I61068df4809968c04120b29c0ebeb6d3239ad4a2
"
openstack%2Fovn-octavia-provider~stable%2Fussuri~Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,openstack/ovn-octavia-provider,stable/ussuri,,Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,Ensure that load balancer is added to logical switch,MERGED,2021-06-17 14:59:53.000000000,2021-06-23 13:40:24.000000000,2021-06-23 13:38:33.000000000,62,3,1,796876,4d20d3243fc7376bb31c94834d43550f1200ffcd,12,4,2,2,11952,Flavio Fernandes,ffernand,"Ensure that load balancer is added to logical switch

Add logic to handle cases where a race between logical router port and
load balancer creation renders the affected logical switch without the
proper load balancer in its attribute.

Conflicts:
  ovn_octavia_provider/helper.py
  ovn_octavia_provider/tests/unit/test_helper.py

Closes-bug: #1931639
Change-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d
(cherry picked from commit b2a862fdb3d4eae440a342f6b6bbc0323022f8ba)
"
openstack%2Fcinder-specs~master~I8742af4ace0baf1175b2a06afa9dbca462d9805b,openstack/cinder-specs,master,,I8742af4ace0baf1175b2a06afa9dbca462d9805b,Snapshot attached volumes w/o force flag,MERGED,2021-03-19 21:32:43.000000000,2021-06-23 13:30:16.000000000,2021-06-23 13:28:31.000000000,143,0,4,781914,22c2f063f09cfda48886ae5008de8f07062f23e3,17,5,3,1,4523,Eric Harney,eharney,"Snapshot attached volumes w/o force flag

Allow snapshots of attached volumes w/o
the force flag.

Change-Id: I8742af4ace0baf1175b2a06afa9dbca462d9805b
"
openstack%2Fovn-octavia-provider~stable%2Fvictoria~Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,openstack/ovn-octavia-provider,stable/victoria,,Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,Ensure that load balancer is added to logical switch,MERGED,2021-06-17 15:02:47.000000000,2021-06-23 13:28:14.000000000,2021-06-23 13:26:33.000000000,62,3,0,796877,62891fa3c29f1e2748250f65108f4383c6cce7fb,9,3,1,2,11952,Flavio Fernandes,ffernand,"Ensure that load balancer is added to logical switch

Add logic to handle cases where a race between logical router port and
load balancer creation renders the affected logical switch without the
proper load balancer in its attribute.

This change adds _get_subnet() to the helper module, so obtaining the
subnet is done from a shared location.

Closes-bug: #1931639
Change-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d
(cherry picked from commit b2a862fdb3d4eae440a342f6b6bbc0323022f8ba)
"
openstack%2Fcinder-specs~master~I0a3f5836641dec535c2d2bf49cbf3a435faa8224,openstack/cinder-specs,master,temp-resources,I0a3f5836641dec535c2d2bf49cbf3a435faa8224,Temporary Resource Tracking,MERGED,2021-06-10 16:06:52.000000000,2021-06-23 13:26:56.000000000,2021-06-23 13:25:30.000000000,244,6,12,795842,4090c987c4e963b7a6b128418720709ec26c865c,14,4,2,2,9535,Gorka Eguileor,Gorka,"Temporary Resource Tracking

This spec proposes a way to easily track which volumes and snapshots are
temporary and should not be considered when updating the usage quota.

Change-Id: I0a3f5836641dec535c2d2bf49cbf3a435faa8224
Implements: blueprint temp-resources
"
openstack%2Fansible-collections-openstack~master~I1a500673d870b706d9187ce9780fc72d3603bad9,openstack/ansible-collections-openstack,master,fix-removal-of-allowed-address-pairs,I1a500673d870b706d9187ce9780fc72d3603bad9,fix update on empty list of allowed address pairs,MERGED,2021-06-17 14:11:15.000000000,2021-06-23 13:10:43.000000000,2021-06-23 13:10:43.000000000,4,0,0,796847,72f371c157a47644fba2ad35c2d9cfc6f46dfd87,10,4,2,1,33634,Jan Hartkopf,jhartkopf,"fix update on empty list of allowed address pairs

Story: 2008986
Task: 42636
Change-Id: I1a500673d870b706d9187ce9780fc72d3603bad9
"
openstack%2Fkolla-ansible~master~I0d388851c8b953af0494e44ae569e7eb9e15c326,openstack/kolla-ansible,master,,I0d388851c8b953af0494e44ae569e7eb9e15c326,Make it possible to override automatic fluentd version detection,MERGED,2021-01-18 17:52:26.000000000,2021-06-23 13:04:14.000000000,2021-06-23 13:02:49.000000000,15,3,2,771260,25c33f9c9477c3a7b5f48a50157b16b1b7c595b1,31,6,3,2,28048,Will Szumski,jovial,"Make it possible to override automatic fluentd version detection

One use case for this is so that you can generate config in a CI job
without access to the container repository. It also removes the
dependency of having docker configured for config generation.

TrivialFix

Change-Id: I0d388851c8b953af0494e44ae569e7eb9e15c326
"
openstack%2Fmanila-tempest-plugin~master~I70979bb5ca913c6e5bddd22795012b3fbcf3c8c3,openstack/manila-tempest-plugin,master,DNM,I70979bb5ca913c6e5bddd22795012b3fbcf3c8c3,DNM,ABANDONED,2021-06-17 13:21:51.000000000,2021-06-23 12:47:23.000000000,,0,0,0,796838,b8f3ee8e87145ee782e2562d1eba2d86a5f9d791,4,1,1,1,19262,Liron Kuchlani,lkuchlan,"DNM

Change-Id: I70979bb5ca913c6e5bddd22795012b3fbcf3c8c3
"
openstack%2Fcharm-magnum-dashboard~master~I51328280b90a2cfa7afd9c4e505d95d299e7d099,openstack/charm-magnum-dashboard,master,batch-update,I51328280b90a2cfa7afd9c4e505d95d299e7d099,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:10:00.000000000,2021-06-23 12:41:55.000000000,2021-06-23 12:41:55.000000000,5,0,0,791197,1b29cce7e5b3c755043dfa279d2077e1af5d1eaf,16,3,1,1,11805,Corey Bryant,coreycb,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I51328280b90a2cfa7afd9c4e505d95d299e7d099
"
openstack%2Fcharm-cinder-backup-swift-proxy~master~I448f81fccc833a647c27141e9848051e3675289c,openstack/charm-cinder-backup-swift-proxy,master,batch-update,I448f81fccc833a647c27141e9848051e3675289c,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:08:27.000000000,2021-06-23 12:34:08.000000000,2021-06-23 12:34:08.000000000,1,1,0,791185,72520d787d04b3089bcf11f60775eabbedcdefd8,11,3,1,1,11805,Corey Bryant,coreycb,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I448f81fccc833a647c27141e9848051e3675289c
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id17dec07c2aa0a3b080eb05f71c637d6a422ec41,openstack/tripleo-heat-templates,stable/wallaby,designate-wallaby,Id17dec07c2aa0a3b080eb05f71c637d6a422ec41,Add support for designate standalone jobs,ABANDONED,2021-06-21 18:47:29.000000000,2021-06-23 12:27:32.000000000,,30,0,0,797344,7b1b08d369bc90c75cbf51e2020761eec0d6f58c,4,2,1,2,6681,Brent Eagles,beagles,"Add support for designate standalone jobs

This patch adds the UnboundListenIPs that allows the deployer to specify
an IP to be used in the event that neutron isn't being used to manage
the overcloud networks - as is the case for standalone deployments.

Change-Id: Id17dec07c2aa0a3b080eb05f71c637d6a422ec41
(cherry picked from commit 857807247d8f1a7270fdade30f570bf2f17789ce)
"
openstack%2Foslo.config~stable%2Ftrain~I407b2c9bc6e9c1cd5b070a1cdca7c0eabe19b0ca,openstack/oslo.config,stable/train,,I407b2c9bc6e9c1cd5b070a1cdca7c0eabe19b0ca,remove lower-constraints.txt,MERGED,2021-06-23 09:09:01.000000000,2021-06-23 12:26:21.000000000,2021-06-23 12:24:28.000000000,0,64,0,797609,e8ab0c22801038d4763a6a04e454ec36cdf76f7e,9,3,3,3,31245,Daniel Bengtsson,damani42,"remove lower-constraints.txt

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Co-Authored-By: Moisés Guimarães de Medeiros <moguimar@redhat.com>
Change-Id: I407b2c9bc6e9c1cd5b070a1cdca7c0eabe19b0ca
(cherry picked from commit 63213f8eca8bafe8b117e92b921457d62d9647e8)
"
openstack%2Fkolla-ansible~master~Id2ca7347e9c31bca88aa83badb3b36f1353fd05c,openstack/kolla-ansible,master,,Id2ca7347e9c31bca88aa83badb3b36f1353fd05c,CI: Use interpreter_python = auto,ABANDONED,2021-06-17 06:06:49.000000000,2021-06-23 12:24:41.000000000,,1,0,0,796756,77ed3ae91ecef69d8b70e5c01630924f2039c107,8,1,1,1,22629,Michal Nasiadka,mnasiadka,"CI: Use interpreter_python = auto

By default Ansible 2.8 - 2.11 uses auto_legacy as the interpreter,
which results in [1] in Debian upgrade job.

As per [2] auto should be a better solution.

[1]: https://2504ffb60b1909a0bde9-237e20f2346dac25649a4e5e3b0485b4.ssl.cf2.rackcdn.com/796422/4/check/kolla-ansible-debian-source-upgrade/ef33796/primary/logs/ansible/chrony-install
[2]: https://docs.ansible.com/ansible/2.9/reference_appendices/interpreter_discovery.html

Change-Id: Id2ca7347e9c31bca88aa83badb3b36f1353fd05c
"
openstack%2Fcharm-deployment-guide~master~I95691676f89ae3d7fc5df3fc46d9a9466bc6bdb5,openstack/charm-deployment-guide,master,lp1929140-lower-admonishment,I95691676f89ae3d7fc5df3fc46d9a9466bc6bdb5,Fix up Overview on RGW replication page,MERGED,2021-06-10 14:30:11.000000000,2021-06-23 12:04:51.000000000,2021-06-23 12:03:22.000000000,9,16,0,795816,ab270b90f8070311c33cec1f570561df42b8e9b1,10,3,2,1,30561,Peter Matulis,pmatulis,"Fix up Overview on RGW replication page

Fix up the Overview section on the Ceph RADOS
Gateway multisite replication page.

Closes-Bug: #1929140
Change-Id: I95691676f89ae3d7fc5df3fc46d9a9466bc6bdb5
"
openstack%2Fcharm-deployment-guide~master~Iac9e26e8c5cb6693a12d4248a12a89e83981b424,openstack/charm-deployment-guide,master,cdg-ops,Iac9e26e8c5cb6693a12d4248a12a89e83981b424,Improve security for three cloud operations,MERGED,2021-06-08 17:01:53.000000000,2021-06-23 12:01:52.000000000,2021-06-23 11:59:54.000000000,12,9,0,795381,a42182cf1b5e24a56ddcfcc9fa862fbcb262f171,7,2,1,3,30561,Peter Matulis,pmatulis,"Improve security for three cloud operations

Add better security to three cloud operations tasks
when handling sensitive data.

Change-Id: Iac9e26e8c5cb6693a12d4248a12a89e83981b424
"
openstack%2Fcharm-nova-compute~master~I8510382c256dbe731b810f09f25408f7fa1d7b15,openstack/charm-nova-compute,master,improve-option-text-for-virt-type,I8510382c256dbe731b810f09f25408f7fa1d7b15,Improve definition of virt-type option,MERGED,2021-06-10 16:04:33.000000000,2021-06-23 11:57:50.000000000,2021-06-23 11:57:50.000000000,4,6,0,795841,63273a4e1d49a663057691bdcc889c536da77ca7,9,3,1,1,30561,Peter Matulis,pmatulis,"Improve definition of virt-type option

The lxd hypervisor is no longer supported

I'm not sure whether the other types should be
there, even for testing.

Improve general wording

Related-Bug: #1931579
Change-Id: I8510382c256dbe731b810f09f25408f7fa1d7b15
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I70ecd7a57f45d03722fa17f0ddf61b2167f705d0,openstack/tripleo-ansible,stable/wallaby,manila_ceph_caps,I70ecd7a57f45d03722fa17f0ddf61b2167f705d0,"Update manila mon, mgr and osd caps for Wallaby+",MERGED,2021-06-22 16:47:55.000000000,2021-06-23 11:54:14.000000000,2021-06-23 11:54:14.000000000,1,2,0,797484,a90f50b3234802de53f94c41b97c3ec67850f53b,12,3,1,1,16643,Goutham Pacha Ravi,gouthamr,"Update manila mon, mgr and osd caps for Wallaby+

As described in [1], manila needs a different caps set
to interact with a ceph cluster. This patch just fixes
the mon, mgr and osd caps section to reflect the new
requirements.

[1] https://docs.openstack.org/manila/latest/admin/cephfs_driver.html

Change-Id: I70ecd7a57f45d03722fa17f0ddf61b2167f705d0
(cherry picked from commit 471067a2f84992523e01fd620b1233a9c3411dbc)
"
openstack%2Fansible-collections-openstack~master~If02e03f124a8677cba42aa7019947e8f00ea476f,openstack/ansible-collections-openstack,master,add_address_scope,If02e03f124a8677cba42aa7019947e8f00ea476f,Add address scope module,MERGED,2021-05-20 22:38:23.000000000,2021-06-23 11:38:23.000000000,2021-06-23 11:38:23.000000000,244,0,2,792486,f20ec3a151d15079664ba2430b063bb7680fdeff,17,2,5,5,29296,Uemit Seren,timeu,"Add address scope module

Change-Id: If02e03f124a8677cba42aa7019947e8f00ea476f
"
openstack%2Fkolla-ansible~master~If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8,openstack/kolla-ansible,master,,If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8,Make rabbitmq cluster_partition_handling configurable,MERGED,2021-05-20 22:33:06.000000000,2021-06-23 11:36:50.000000000,2021-05-31 16:08:40.000000000,3,2,9,792484,c99841272f89f83d0b0dbce606ad075453896dce,30,5,4,2,27339,Michal Arbet,michalarbet,"Make rabbitmq cluster_partition_handling configurable

Change-Id: If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8
"
openstack%2Ftripleo-heat-templates~master~Id33995996d930d06b65b51f72466120eb74ca467,openstack/tripleo-heat-templates,master,cephadm_ci_switch,Id33995996d930d06b65b51f72466120eb74ca467,Move scenario004 to cephadm,MERGED,2021-02-01 10:54:32.000000000,2021-06-23 11:28:33.000000000,2021-06-23 11:28:33.000000000,21,37,2,773355,fb67c2da9fee6d14b990cbee8ddde1dabe215ce0,127,6,41,1,25402,Francesco Pantano,fmount,"Move scenario004 to cephadm

This patch changes the template references from ceph-ansible
to cephadm, using the new role provided by tripleo-ansible.
Since the Ceph dashboard requires a new -stable Ceph
container which is not yet released, the monitoring stack
deployment is disabled.

Depends-On: Ief63794bebf1050744e1a54e554f5234d6337373
Depends-On: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3
Change-Id: Id33995996d930d06b65b51f72466120eb74ca467
"
openstack%2Fovn-octavia-provider~master~Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,openstack/ovn-octavia-provider,master,,Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,Ensure that load balancer is added to logical switch,MERGED,2021-06-11 22:47:41.000000000,2021-06-23 11:12:59.000000000,2021-06-23 11:11:40.000000000,62,3,8,796095,b2a862fdb3d4eae440a342f6b6bbc0323022f8ba,69,6,7,2,11952,Flavio Fernandes,ffernand,"Ensure that load balancer is added to logical switch

Add logic to handle cases where a race between logical router port and
load balancer creation renders the affected logical switch without the
proper load balancer in its attribute.

This change adds _get_subnet() to the helper module, so obtaining the
subnet is done from a shared location.

Closes-bug: #1931639
Change-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d
"
openstack%2Freleases~master~I0f5d35e2524bc66d04811a23eb5dbf2f96aa1435,openstack/releases,master,ocata-eol,I0f5d35e2524bc66d04811a23eb5dbf2f96aa1435,[cloudkitty] Transition Ocata to End of Life,MERGED,2021-06-09 18:46:37.000000000,2021-06-23 10:55:32.000000000,2021-06-23 10:55:32.000000000,12,0,0,795648,f9ca28a5890182c00885f79d98e45f85ee822e4d,10,4,1,3,17685,Elod Illes,elod.illes,"[cloudkitty] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I0f5d35e2524bc66d04811a23eb5dbf2f96aa1435
"
openstack%2Freleases~master~I34b3de54b274280ba1e733317af5056aefb026d9,openstack/releases,master,ocata-eol,I34b3de54b274280ba1e733317af5056aefb026d9,[OpenStackSDK] Transition Ocata to End of Life,MERGED,2021-06-09 19:09:33.000000000,2021-06-23 10:49:45.000000000,2021-06-23 10:49:45.000000000,16,0,0,795667,82a64cd663b187b763ee17e8c6e822ee9570dd3a,10,4,1,4,17685,Elod Illes,elod.illes,"[OpenStackSDK] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I34b3de54b274280ba1e733317af5056aefb026d9
"
openstack%2Fansible-collections-openstack~master~Ic07fddc5e70f2442fb72a048084fa3a625844528,openstack/ansible-collections-openstack,master,,Ic07fddc5e70f2442fb72a048084fa3a625844528,Add minimum SDK version to volume snapshot,ABANDONED,2021-06-22 19:49:57.000000000,2021-06-23 10:40:02.000000000,,2,0,0,797533,2ef79093451b6e6938ed03228958c19d4deb15e9,3,1,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add minimum SDK version to volume snapshot

Change-Id: Ic07fddc5e70f2442fb72a048084fa3a625844528
"
openstack%2Fkolla-ansible~stable%2Fussuri~Icd3d140473886ba3c4847859cddccdb3c1376818,openstack/kolla-ansible,stable/ussuri,bug/1933122-stable/wallaby-stable/victoria-stable/ussuri,Icd3d140473886ba3c4847859cddccdb3c1376818,Fix host bootstrap pkg removal on Debian,MERGED,2021-06-22 06:24:39.000000000,2021-06-23 10:24:27.000000000,2021-06-23 10:22:47.000000000,7,1,0,797394,0c7db5a14b4eb311d7ead2e40793098d6982cfc1,9,3,1,2,30491,Radosław Piliszek,yoctozepto,"Fix host bootstrap pkg removal on Debian

The variable names are awful but this all agrees with the docs now.

Closes-Bug: #1933122
Change-Id: Icd3d140473886ba3c4847859cddccdb3c1376818
(cherry picked from commit 3a7440b370f5c2bf6f255a6530349a3e680007b9)
(cherry picked from commit bcce291aa3bc1ee511e17fbc9a872612c55ed09d)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~Icd3d140473886ba3c4847859cddccdb3c1376818,openstack/kolla-ansible,stable/victoria,bug/1933122-stable/wallaby-stable/victoria,Icd3d140473886ba3c4847859cddccdb3c1376818,Fix host bootstrap pkg removal on Debian,MERGED,2021-06-22 06:23:50.000000000,2021-06-23 10:24:13.000000000,2021-06-23 10:22:24.000000000,7,1,0,797393,fdbe6aebe1ec34e4f4d8822598777e24aa4fd1ac,9,3,1,2,30491,Radosław Piliszek,yoctozepto,"Fix host bootstrap pkg removal on Debian

The variable names are awful but this all agrees with the docs now.

Closes-Bug: #1933122
Change-Id: Icd3d140473886ba3c4847859cddccdb3c1376818
(cherry picked from commit 3a7440b370f5c2bf6f255a6530349a3e680007b9)
(cherry picked from commit bcce291aa3bc1ee511e17fbc9a872612c55ed09d)
"
openstack%2Fcastellan~master~I143cb57c8534a8dc0a91e6e42917dd0c134170c0,openstack/castellan,master,,I143cb57c8534a8dc0a91e6e42917dd0c134170c0,barbican key manager: Add support for service user,MERGED,2021-01-06 15:46:46.000000000,2021-06-23 10:05:10.000000000,2021-06-23 10:03:37.000000000,77,6,28,769560,162039467ad0dfc5e25a16b75d9072d607690702,50,4,10,3,14826,Mark Goddard,mgoddard,"barbican key manager: Add support for service user

This change adds support to the Barbican key manager for configuring a
service user. This can be used to provide additional security through
the combination of a user token and a service token, with appropriate
modifications to Barbican API policy.

Use of a service user is enabled via the [barbican]
send_service_user_token option, which defaults to False. When set to
True, the service user is configured via keystoneauth options in the
barbican_service_user group.

Change-Id: I143cb57c8534a8dc0a91e6e42917dd0c134170c0
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I436c7426bb430307c972445f04a47f8e11bfcc17,openstack/tripleo-ansible,stable/wallaby,bug/1933220,I436c7426bb430307c972445f04a47f8e11bfcc17,Disable facts gathering in net config playbook,MERGED,2021-06-22 10:48:21.000000000,2021-06-23 09:58:55.000000000,2021-06-23 09:58:55.000000000,1,0,0,797425,bf757bd5563da0e02578319cfddc574fb88009bf,12,4,1,1,24245,Harald Jensås,harald.jensas,"Disable facts gathering in net config playbook

Disable the facts gathering in the playbook used
to apply network configuration to provisioned
nodes.

In some cases the fact gatehereing step causes
the playbook to fail in case the node is just
booting and connection is refused for SSH.

Disabling the facts gathering should also speed up
the plabook execution.

Closes-Bug: #1933220
Partially-Implements: blueprint network-data-v2-ports
Change-Id: I436c7426bb430307c972445f04a47f8e11bfcc17
(cherry picked from commit f45ef1994d06b2c30d50c91fefaa43934d393bb1)
"
openstack%2Fkayobe~master~I0510db9fd1b8dd72540c83173267491b32728330,openstack/kayobe,master,upgrading-hardware-types,I0510db9fd1b8dd72540c83173267491b32728330,Remove outdated upgrade step,MERGED,2021-06-17 14:12:17.000000000,2021-06-23 09:36:58.000000000,2021-06-23 09:35:40.000000000,0,23,0,796848,bca23698947aeccc2e2ed300eeb6487a0711873f,9,4,1,1,15197,Pierre Riteau,priteau,"Remove outdated upgrade step

Migrating to Ironic hardware types was required in Rocky. This can now
be removed from upgrading instructions.

Change-Id: I0510db9fd1b8dd72540c83173267491b32728330
"
openstack%2Fkayobe~stable%2Fwallaby~I2637085a1df22e39d64c33b823fc948063d3e06f,openstack/kayobe,stable/wallaby,,I2637085a1df22e39d64c33b823fc948063d3e06f,Fix url to ansible site in kolla-ansible.rst,MERGED,2021-06-22 08:33:57.000000000,2021-06-23 09:34:31.000000000,2021-06-23 09:33:21.000000000,1,1,0,797392,cda42898d5b7a6a5746103664079098349215c26,7,3,1,1,15197,Pierre Riteau,priteau,"Fix url to ansible site in kolla-ansible.rst

Story: 2008961
Task: 42597
Change-Id: I2637085a1df22e39d64c33b823fc948063d3e06f
(cherry picked from commit 15d20154bc68eb26550f4e33325a4f74a47b6816)
"
openstack%2Fkolla-ansible~stable%2Fussuri~Ib67d715ddfa986a5b70a55fdda39e6d0e3333162,openstack/kolla-ansible,stable/ussuri,bug/1933025-stable/wallaby-stable/victoria-stable/ussuri,Ib67d715ddfa986a5b70a55fdda39e6d0e3333162,Add missing region_name in keystoneauth sections,MERGED,2021-06-22 15:16:15.000000000,2021-06-23 09:18:09.000000000,2021-06-23 09:16:10.000000000,39,0,0,797479,026ddc97d29a0eff6c4e759125029afd3721346b,11,4,2,28,30491,Radosław Piliszek,yoctozepto,"Add missing region_name in keystoneauth sections

Closes-Bug: #1933025

Change-Id: Ib67d715ddfa986a5b70a55fdda39e6d0e3333162
(cherry picked from commit 7da770d290eb1d45f3bca50aba965b47e40c9a83)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~Ib67d715ddfa986a5b70a55fdda39e6d0e3333162,openstack/kolla-ansible,stable/victoria,bug/1933025-stable/wallaby-stable/victoria,Ib67d715ddfa986a5b70a55fdda39e6d0e3333162,Add missing region_name in keystoneauth sections,MERGED,2021-06-22 15:15:13.000000000,2021-06-23 09:17:40.000000000,2021-06-23 09:16:06.000000000,39,0,0,797478,f0487e793a2283ff30776ebf70be9476d1d05a17,9,4,1,28,30491,Radosław Piliszek,yoctozepto,"Add missing region_name in keystoneauth sections

Closes-Bug: #1933025

Change-Id: Ib67d715ddfa986a5b70a55fdda39e6d0e3333162
(cherry picked from commit 7da770d290eb1d45f3bca50aba965b47e40c9a83)
"
openstack%2Fkolla~stable%2Fwallaby~I511fa599f43c5376f841ec6d03e272243aaa2ba4,openstack/kolla,stable/wallaby,,I511fa599f43c5376f841ec6d03e272243aaa2ba4,tox: Use allowlist_externals instead of whitelist_externals,MERGED,2021-06-23 08:09:44.000000000,2021-06-23 09:17:36.000000000,2021-06-23 09:16:14.000000000,4,4,0,797574,e3ed1d5b4a532030487654d79845226fdd63aa97,8,3,1,1,14826,Mark Goddard,mgoddard,"tox: Use allowlist_externals instead of whitelist_externals

whitelist_externals is now deprecated, use allowlist_externals
instead. see[0]

[0]: https://tox.readthedocs.io/en/latest/config.html

follow: https://review.opendev.org/c/openstack/kolla-ansible/+/791928

Change-Id: I511fa599f43c5376f841ec6d03e272243aaa2ba4
(cherry picked from commit fd49c3d6fe90b05d2181fe1f18481620b32506c3)
"
openstack%2Fvalidations-common~master~I656f5a843a1073ea554990ff56227f29841c83fc,openstack/validations-common,master,,I656f5a843a1073ea554990ff56227f29841c83fc,DNM potentialfix,ABANDONED,2021-06-23 08:38:37.000000000,2021-06-23 08:47:38.000000000,,4,0,0,797601,114d351ca60c550114ebd716d34830b1695116d6,2,0,1,1,32926,Jiri Podivin,jpodivin,"DNM potentialfix

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I656f5a843a1073ea554990ff56227f29841c83fc
"
openstack%2Fneutron~master~Id8c3e0485bebc55c778ecaadaabca1c28ec56205,openstack/neutron,master,bug/1791159,Id8c3e0485bebc55c778ecaadaabca1c28ec56205,SR-IOV agent can handle ports with same MAC addresses,MERGED,2021-03-11 17:53:52.000000000,2021-06-23 08:31:07.000000000,2021-06-22 19:21:53.000000000,344,398,23,780055,77ac42d2ee664263dd1dfd391dac4d8e062875e0,238,9,13,13,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"SR-IOV agent can handle ports with same MAC addresses

SR-IOV agent can handle ports with same MAC address (located in
different networks). The agent can retrieve, from the system, the
MAC address and the PCI slot; because the PCI slot is unique per
port in the same host, this parameter is used to match with the
Neutron port ID stored in the database (published via RPC).

RPC API bumped to version 1.9.

Closes-Bug: #1791159

Change-Id: Id8c3e0485bebc55c778ecaadaabca1c28ec56205
"
openstack%2Fswift~master~I983d665584471c9d689506592f48ddd00c0887ef,openstack/swift,master,failed-404,I983d665584471c9d689506592f48ddd00c0887ef,Return 503 for container listings when shards are deleted,MERGED,2021-05-27 18:46:25.000000000,2021-06-23 08:24:11.000000000,2021-06-23 08:22:32.000000000,109,21,12,793492,e40cf1ec561c78c8a02d40b581bf195939a6450a,22,5,6,2,1179,Clay Gerrard,clay-gerrard,"Return 503 for container listings when shards are deleted

Previously, when building a listing from shard containers, the proxy
would return 200 to the client even if one or more of the component
shards failed to return a successful listing response. With this patch
the proxy will now return a 503 in those circumstances, since the
listing would otherwise be incomplete due to an internal error.

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Change-Id: I983d665584471c9d689506592f48ddd00c0887ef
"
openstack%2Faodh~master~I93fbdc4b8c35d4e90607064813ebccb632f73886,openstack/aodh,master,launchpad,I93fbdc4b8c35d4e90607064813ebccb632f73886,Bugs are in launchpad,MERGED,2021-06-18 10:18:38.000000000,2021-06-23 08:11:59.000000000,2021-06-23 08:10:17.000000000,24,5,0,797047,434ee46815290c33a53bb50740b3fbcebfa50105,7,2,1,1,4264,Matthias Runge,mrunge,"Bugs are in launchpad

Update the README to point to oftc, and also update the
bug location.

Change-Id: I93fbdc4b8c35d4e90607064813ebccb632f73886
"
openstack%2Fmanila-tempest-plugin~master~I2eceb1d5fe42b1b779e115a0144a5d9639d3753f,openstack/manila-tempest-plugin,master,fix-test-skips,I2eceb1d5fe42b1b779e115a0144a5d9639d3753f,Fix API version test skip logic,MERGED,2021-05-18 18:04:34.000000000,2021-06-23 08:06:29.000000000,2021-05-29 19:15:26.000000000,153,163,2,792026,a0acf25969daf37f3b1f527809f297e6ba227cc9,16,5,3,56,16643,Goutham Pacha Ravi,gouthamr,"Fix API version test skip logic

API tests must be evaluated by min and max
versions, however, we've multiple places
where we don't seem to evaluate the min_version;
this leads to incorrect behavior when test
runners set a different min_version in their
test configuration.

We can also consolidate the decorators and
callables that we have. We attempted this in
the recent past [1], however, we replaced the
callables with calling a decorator method, which
resulted in many tests not being skipped.

This bugfix is currently necessary to get
tests working against stable/ussuri and
stable/train branches.

[1] I0c35aff993e67c1ef44c27580f8c2c829a6275f7
Change-Id: I2eceb1d5fe42b1b779e115a0144a5d9639d3753f
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fceilometer~master~I3ea900c3260009ac96140341ab346ebc8e5d4034,openstack/ceilometer,master,launchpad,I3ea900c3260009ac96140341ab346ebc8e5d4034,Move bug tracking back to launchpad,MERGED,2021-06-18 10:11:11.000000000,2021-06-23 08:06:15.000000000,2021-06-23 08:04:57.000000000,1,2,0,797043,82f7659e33f1924659c5a1a51de3c7316636c55e,7,2,1,1,4264,Matthias Runge,mrunge,"Move bug tracking back to launchpad

Storyboard is hard to discover, and slow in usage. Since
telemetry projects are mostly under maintenance, there are no
big stories to be implemented at the moment, which can not be
tracked in launchpad.

Change-Id: I3ea900c3260009ac96140341ab346ebc8e5d4034
"
openstack%2Fmanila-ui~stable%2Ftrain~I0983359acc489513a5a0940ac379e0a078870548,openstack/manila-ui,stable/train,bug/1931641,I0983359acc489513a5a0940ac379e0a078870548,Fix share group creation with share types,MERGED,2021-06-22 18:40:35.000000000,2021-06-23 07:14:43.000000000,2021-06-23 07:13:31.000000000,4,1,1,797487,2ce86803ba72d00e8207ad3db373b7d6bd65cd59,16,3,1,1,16643,Goutham Pacha Ravi,gouthamr,"Fix share group creation with share types

A recent change [1] introduced an encoding for
problematic field names. On the share group
creation form, an encoding was missed causing
a silent failure where the share type/s chosen
were ignored in the API request.

[1] 37e5b2f0530c9fe8117cea0dac95577b912bdecc
Change-Id: I0983359acc489513a5a0940ac379e0a078870548
Partial-Bug: #1931641
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 803ab32358eec94804a3b630786f8cf6b0795cbd)
(cherry picked from commit f421aeb1e18664411cbb20420fe2c4847767573b)
(cherry picked from commit bf820e10c742c3aff610665d7ec1b7c56a1fea9f)
(cherry picked from commit 21e31332cb0a3e77122aff63ca2bbfd045e093e5)
"
openstack%2Fproject-config~master~I41bbdbeecefc5b212a5b6b206cb13910855724c1,openstack/project-config,master,remove_uneeded_tq_requirements,I41bbdbeecefc5b212a5b6b206cb13910855724c1,Add publish-to-pypi job template for tripleo-operator-ansible,MERGED,2021-06-22 08:48:52.000000000,2021-06-23 05:15:51.000000000,2021-06-23 05:15:51.000000000,5,0,0,797415,ff72348bacadb3f9a5af83b40341dee263e44838,7,6,1,1,12393,chandan kumar,chkumar246,"Add publish-to-pypi job template for tripleo-operator-ansible

In order to do a new release of tripleo-ansible-operator [1],
openstack-tox-validate job on openstack/release project side
needs to be passing.

In order to fix that, we need to add publish-to-pypi job template
for tripleo-operator-ansible job config.

It also moves those check and gate job to tripleo queue.
[1] https://review.opendev.org/c/openstack/releases/+/797010

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I41bbdbeecefc5b212a5b6b206cb13910855724c1
"
openstack%2Fcinder~master~I0a2420f3e4a411f5fa52ebe2d22859b138ef387f,openstack/cinder,master,bug/1932287,I0a2420f3e4a411f5fa52ebe2d22859b138ef387f,"Retry ""lvs"" call on segfault for _get_thin_pool_free_space",MERGED,2021-06-17 16:30:03.000000000,2021-06-23 02:59:04.000000000,2021-06-21 15:34:09.000000000,43,3,1,796889,2da7d42b91fd0015f8bfb2b67067eaf5768691ca,51,6,2,2,4523,Eric Harney,eharney,"Retry ""lvs"" call on segfault for _get_thin_pool_free_space

This is a follow-up to I6824ba4f.

LVM commands segfault occasionally, exiting with code 139.
Change I6824ba4f introduced a workaround to retry the command
when code 139 is returned, which generally works.  This expands
that retry to the case where thin pool space is queried, which
currently results in the LVM driver reporting no free space to
the scheduler.

Further work is needed to expand this to other LVM calls, but
this patch is narrow in scope to target a particular gate
failure.

Related-Bug: #1901783
Partial-Bug: #1932188
Closes-Bug: #1932287
Change-Id: I0a2420f3e4a411f5fa52ebe2d22859b138ef387f
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Ib67d715ddfa986a5b70a55fdda39e6d0e3333162,openstack/kolla-ansible,stable/wallaby,bug/1933025-stable/wallaby,Ib67d715ddfa986a5b70a55fdda39e6d0e3333162,Add missing region_name in keystoneauth sections,MERGED,2021-06-22 15:14:50.000000000,2021-06-23 02:56:51.000000000,2021-06-23 02:55:43.000000000,39,0,0,797477,24d3228d00ecf749575a3913004c6325353228e1,9,4,1,28,30491,Radosław Piliszek,yoctozepto,"Add missing region_name in keystoneauth sections

Closes-Bug: #1933025

Change-Id: Ib67d715ddfa986a5b70a55fdda39e6d0e3333162
(cherry picked from commit 7da770d290eb1d45f3bca50aba965b47e40c9a83)
"
openstack%2Fkolla-ansible~master~Ib67d715ddfa986a5b70a55fdda39e6d0e3333162,openstack/kolla-ansible,master,bug/1933025,Ib67d715ddfa986a5b70a55fdda39e6d0e3333162,Add missing region_name in keystoneauth sections,MERGED,2021-05-18 14:06:55.000000000,2021-06-23 02:42:37.000000000,2021-06-22 11:08:56.000000000,39,0,5,791980,7da770d290eb1d45f3bca50aba965b47e40c9a83,35,5,4,28,27339,Michal Arbet,michalarbet,"Add missing region_name in keystoneauth sections

Closes-Bug: #1933025

Change-Id: Ib67d715ddfa986a5b70a55fdda39e6d0e3333162
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I307bbf28dc3ee447a6ed704b5f956118d2099e07,openstack/python-tripleoclient,stable/wallaby,network-data-v2-fixes-stable/wallaby,I307bbf28dc3ee447a6ed704b5f956118d2099e07,Don't allow --config-download-only with --baremetal-deployment,MERGED,2021-06-16 12:14:57.000000000,2021-06-23 00:41:27.000000000,2021-06-23 00:40:03.000000000,7,0,0,796572,d0aead192c609583d4d507935f8103e632ea5df5,11,3,1,1,8833,Rabi Mishra,rabi,"Don't allow --config-download-only with --baremetal-deployment

We would need the stack to be updated for newly provisioned
nodes. Therefore --config-download-only and --setup-only
would not work with --baremetal-deployment.

Change-Id: I307bbf28dc3ee447a6ed704b5f956118d2099e07
(cherry picked from commit 8800f06c940cc6326d655d33641cf0b0603b215c)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3,openstack/tripleo-ansible,stable/wallaby,ceph_conf_mgmt,Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3,Make sure the _admin label is present on mons,MERGED,2021-06-22 14:58:54.000000000,2021-06-23 00:41:26.000000000,2021-06-23 00:38:59.000000000,31,12,0,797474,54d149405eeb87288364b0893879c376f4daab81,10,6,1,7,25402,Francesco Pantano,fmount,"Make sure the _admin label is present on mons

If a ceph mon does not have the _admin label, then the
hosts ceph.conf may be deleted. All mons are considered
admin hosts, so apply this label to any host with the
mon service.
In addition, this change fixes the default alertmanager
port (it should be 9093 as 9094 is reserved for clustering
purposes) and the cluster_name is explicitly passed to
the mkspec tasks.

Change-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3
(cherry picked from commit 2784b2795774477213600c1355aab1c51218e202)
"
openstack%2Ftripleo-quickstart-extras~master~I95128a9b3e0f6fd1b2c3ddf5b502f460969214b1,openstack/tripleo-quickstart-extras,master,keystone-test,I95128a9b3e0f6fd1b2c3ddf5b502f460969214b1,Set tempest_test_extra_test variable,MERGED,2021-06-22 11:30:53.000000000,2021-06-23 00:40:11.000000000,2021-06-23 00:40:11.000000000,1,0,2,797432,18e0d1e76d50c3a960e8b62acc43dd405f0466e6,10,3,2,1,8367,Arx Cruz,arxcruz,"Set tempest_test_extra_test variable

This variable on os_tempest allow us to run an alternative test on
tempest. This is required because very often the included list of tests
is empty because of the match with the excluded list.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/796818

Change-Id: I95128a9b3e0f6fd1b2c3ddf5b502f460969214b1
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ide14902e85aaaa8a6017326aaf789857c7a3dae5,openstack/tripleo-heat-templates,stable/ussuri,bug/1933228,Ide14902e85aaaa8a6017326aaf789857c7a3dae5,Fix NetworkDeploymentActionValue format,MERGED,2021-06-22 14:04:06.000000000,2021-06-23 00:39:57.000000000,2021-06-23 00:39:57.000000000,4,4,0,797457,d63e665670c60b8eb73de6ece346a17e7d19ed83,8,5,1,1,24245,Harald Jensås,harald.jensas,"Fix NetworkDeploymentActionValue format

This should be a list, not a list of lists.

Closes-bug: #1933228
Change-Id: Ide14902e85aaaa8a6017326aaf789857c7a3dae5
(cherry picked from commit a6118661f7e95ba8954f9a967e92811e4e098942)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ide14902e85aaaa8a6017326aaf789857c7a3dae5,openstack/tripleo-heat-templates,stable/victoria,bug/1933228,Ide14902e85aaaa8a6017326aaf789857c7a3dae5,Fix NetworkDeploymentActionValue format,MERGED,2021-06-22 14:03:32.000000000,2021-06-23 00:39:48.000000000,2021-06-23 00:39:48.000000000,4,4,0,797456,3a919de4effa20267a03cb753720978256b3b855,8,5,1,1,24245,Harald Jensås,harald.jensas,"Fix NetworkDeploymentActionValue format

This should be a list, not a list of lists.

Closes-bug: #1933228
Change-Id: Ide14902e85aaaa8a6017326aaf789857c7a3dae5
(cherry picked from commit a6118661f7e95ba8954f9a967e92811e4e098942)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ide14902e85aaaa8a6017326aaf789857c7a3dae5,openstack/tripleo-heat-templates,stable/train,bug/1933228,Ide14902e85aaaa8a6017326aaf789857c7a3dae5,Fix NetworkDeploymentActionValue format,MERGED,2021-06-22 14:04:42.000000000,2021-06-23 00:39:38.000000000,2021-06-23 00:39:38.000000000,4,4,0,797458,590cbe1c9895c0f1c43062680897a36b2e3ede01,8,5,1,1,24245,Harald Jensås,harald.jensas,"Fix NetworkDeploymentActionValue format

This should be a list, not a list of lists.

Closes-bug: #1933228
Change-Id: Ide14902e85aaaa8a6017326aaf789857c7a3dae5
(cherry picked from commit a6118661f7e95ba8954f9a967e92811e4e098942)
"
openstack%2Ftripleo-heat-templates~master~I538ae9aea155cdb730a3b947c28dedd085bc330a,openstack/tripleo-heat-templates,master,,I538ae9aea155cdb730a3b947c28dedd085bc330a,Introducing the nova-cell environments,MERGED,2021-05-20 12:23:35.000000000,2021-06-23 00:39:22.000000000,2021-06-23 00:39:22.000000000,43,0,3,792366,c42ba433aaf5468b9156605a532a09317b14c67f,22,7,3,2,27419,David Vallee Delisle,dvd,"Introducing the nova-cell environments

Adding default parameters when adding a new nova compute cell.

Change-Id: I538ae9aea155cdb730a3b947c28dedd085bc330a
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ide14902e85aaaa8a6017326aaf789857c7a3dae5,openstack/tripleo-heat-templates,stable/wallaby,bug/1933228,Ide14902e85aaaa8a6017326aaf789857c7a3dae5,Fix NetworkDeploymentActionValue format,MERGED,2021-06-22 14:02:44.000000000,2021-06-23 00:39:13.000000000,2021-06-23 00:39:13.000000000,4,4,0,797455,e38ea651e792ac6f85b0a0091996a76f57ba9ad0,8,5,1,1,24245,Harald Jensås,harald.jensas,"Fix NetworkDeploymentActionValue format

This should be a list, not a list of lists.

Closes-bug: #1933228
Change-Id: Ide14902e85aaaa8a6017326aaf789857c7a3dae5
(cherry picked from commit a6118661f7e95ba8954f9a967e92811e4e098942)
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I0d59e12d1523491618c83c0002edb8412e664be0,openstack/tripleo-upgrade,stable/train,,I0d59e12d1523491618c83c0002edb8412e664be0,Skip evacuations for non-compute nodes,MERGED,2021-06-21 17:44:19.000000000,2021-06-23 00:39:04.000000000,2021-06-23 00:39:04.000000000,13,3,0,797334,5cf94869ed02adcc56492dcac5aaa692304dfb59,11,5,3,3,6816,Jesse Pretorius,jesse-pretorius,"Skip evacuations for non-compute nodes

It may happen that multiple hosts are passed into this
script, so we ensure that the grep OR's all the values.

We then also check if there are no hosts in the response,
and exit with failure if that is the case because this
script should always include at least one compute host.

We also revert the conditionals changed by:
https://review.opendev.org/773002

The conditions must be taken together to ensure that the
script is only created and run for computes.

Change-Id: I0d59e12d1523491618c83c0002edb8412e664be0
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Icc0ee9a859c2c67cae92339c6b4102946150269f,openstack/tripleo-heat-templates,stable/train,region-authtoken,Icc0ee9a859c2c67cae92339c6b4102946150269f,Set region in authtoken middleware settings,MERGED,2021-06-18 14:10:56.000000000,2021-06-23 00:38:51.000000000,2021-06-23 00:38:51.000000000,23,1,0,797114,ea3b72f8ec99e376d7e25aaed9659dc3778b5f43,8,3,2,14,9816,Takashi Kajinami,kajinamit,"Set region in authtoken middleware settings

While we can specify keystone region where all keystone resources
are created, currently we don't set the specified region correctly
in credential configurations used for authtoken middleware.

Configure region parameter for authtoken according to the parameter
KeystoneRegion so that we're consistent about the region where
we expect to have service users created.

Conflicts:
	deployment/manila/manila-api-container-puppet.yaml
	deployment/mistral/mistral-base.yaml
	deployment/nova/novajoin-container-puppet.yaml

Backport note:
This change updates the panko tempalte which no longer exists in Ussuri
and later.

Change-Id: Icc0ee9a859c2c67cae92339c6b4102946150269f
(cherry picked from commit 26305fae911b30bc3692291578852ad94a2f3a4d)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,openstack/tripleo-heat-templates,stable/victoria,collectd_memory-stable/wallaby-stable/victoria,I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,Limit collectds memory usage,MERGED,2021-06-22 05:44:33.000000000,2021-06-23 00:38:31.000000000,2021-06-23 00:38:31.000000000,1,0,0,797310,02b7e3d67729bd219d9b9e1ff957ee51df0d9b8c,7,3,1,1,4264,Matthias Runge,mrunge,"Limit collectds memory usage

to guard nodes from running out of memory.

If there is a connection issue with collectd not being able to
write to event or metrics endpoints, this can lead to accumulating
to large portions of memory. Limiting the memory usage via podman
memory will prevent the container to grow limitless. In case of
using more than 512 MB, podman will restart the container.

Change-Id: I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28
(cherry picked from commit 2f702f7bb1452138811f42309b032f9747182e97)
(cherry picked from commit e987a234061773f0817a090c7c9752e1fab0fd72)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Iba6a0da80cb75a93537a014dba8e77032101e570,openstack/tripleo-heat-templates,stable/ussuri,rsyslog-reopen-on-truncate-ussuri,Iba6a0da80cb75a93537a014dba8e77032101e570,Add option for enabling rsyslog reopenOnTruncate,MERGED,2021-06-21 15:31:33.000000000,2021-06-23 00:38:25.000000000,2021-06-23 00:38:25.000000000,8,2,0,797298,50ed57fd0cb81c90fe218e8bbc3ec8c19485cfe1,11,3,1,1,31510,Paul Leimer,pleimer,"Add option for enabling rsyslog reopenOnTruncate

reopenOnTruncate ensures rsyslog immediately recognizes when a logrotation happens on a file. When not on, rsyslog will wait for a log file to fill to its original capacity before consuming any additional logs.

Setting this here will ensure that every service configured to work with rsyslog will have this parameter. Default to off because this is an experimental feature

(cherry picked from commit a76bd1a69ba72d2f412e2d8ef8602861dde3e064)
Change-Id: Iba6a0da80cb75a93537a014dba8e77032101e570
"
openstack%2Fproject-config~master~Iac977829df94d5defaaf87441c6ecc60c676b16c,openstack/project-config,master,gating.dev,Iac977829df94d5defaaf87441c6ecc60c676b16c,Adding gating.dev zone repo,MERGED,2021-06-22 22:06:43.000000000,2021-06-22 23:59:14.000000000,2021-06-22 23:31:24.000000000,8,0,0,797544,4a8cb120844168eaf6c2126a495d9b7b328d98eb,14,3,3,2,1,James E. Blair,corvus,"Adding gating.dev zone repo

Change-Id: Iac977829df94d5defaaf87441c6ecc60c676b16c
"
openstack%2Fproject-config~master~I688898ba1b000185f9ee707f47ab52bb9ead8fc6,openstack/project-config,master,gating.dev,I688898ba1b000185f9ee707f47ab52bb9ead8fc6,Add zuul/gating.dev repo,MERGED,2021-06-22 22:01:27.000000000,2021-06-22 23:42:51.000000000,2021-06-22 23:31:16.000000000,7,0,0,797543,1ddf30fab14607a41c5decc66720d82d3cef1637,9,3,1,2,1,James E. Blair,corvus,"Add zuul/gating.dev repo

This repo will hold the website content for gating.dev.

Change-Id: I688898ba1b000185f9ee707f47ab52bb9ead8fc6
"
openstack%2Fdesignate~master~I4cd26693fac7c16f4fa3d3c0015cd7af796f0877,openstack/designate,master,remove-six,I4cd26693fac7c16f4fa3d3c0015cd7af796f0877,Remove six,MERGED,2020-12-04 03:20:04.000000000,2021-06-22 23:35:49.000000000,2021-06-22 23:34:12.000000000,101,153,1,765433,88a4be5e5c900ebf754ca6b12c1c45af67b2e6be,32,5,7,44,32238,wdd,wangzihao,"Remove six

Remove six Replace the following items with Python 3 style code.

- six.PY3
- six.moves.urllib
- six.PY2
- six.text_type
- six.string_types
- six.iterkeys
- six.moves.range
- six.add_metaclass
- six.moves.map
- six.moves.zip
- six.MAXSIZE

Change-Id: I4cd26693fac7c16f4fa3d3c0015cd7af796f0877
"
openstack%2Ftripleo-heat-templates~master~Iad255451726867dc172404513fdac4ad0599c4c0,openstack/tripleo-heat-templates,master,iscsid-fips-fix,Iad255451726867dc172404513fdac4ad0599c4c0,Distribute iscsid.conf to all containers using iscsi,MERGED,2021-06-16 17:23:20.000000000,2021-06-22 22:38:29.000000000,2021-06-22 22:38:29.000000000,9,5,0,796714,48fd886a03b8d8249b6ea539b76bbd50e081a85e,23,6,2,4,21129,Alan Bishop,ASBishop,"Distribute iscsid.conf to all containers using iscsi

This patch updates the way files related to iscsi are distributed
to the cinder, glance and nova containers that use the protocol.

Previously it was thought that only the iscsid container needs
access to /etc/iscsi/iscsid.conf, but the LP bug reveals the client
side also reads the file in order to determine the list of chap
algorithms to offer when initiating an iscsi connection.

The bug was exposed when testing a secure environment that uses a
non-default list of chap algorithms. The iscsid container was using
the customized list, but the client containers (e.g. nova) were
using the default list, which caused iscsid to reject connections.

Closes-Bug: #1932181
Change-Id: Iad255451726867dc172404513fdac4ad0599c4c0
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ib6000467f830037c3d9721a3b6ebf06523225f98,openstack/tripleo-heat-templates,stable/victoria,BnRSkipNFSTest-stable/wallaby-stable/victoria,Ib6000467f830037c3d9721a3b6ebf06523225f98,Added the posibility of skipping the NFS ping test on the rear installation,MERGED,2021-06-15 14:40:08.000000000,2021-06-22 22:38:23.000000000,2021-06-22 22:38:23.000000000,8,0,0,796442,7f19b9635ac201cd32c0e9f469c5f8aaf207ef5b,10,3,1,2,22954,Juan Badia Payno,jbadiapa,"Added the posibility of skipping the NFS ping test on the rear installation

Also changed the CI to skip this test.

Depends-On: Ibbf7ba3435da8dc9218403df76f0eb86df4374db
Change-Id: Ib6000467f830037c3d9721a3b6ebf06523225f98
(cherry picked from commit 86daa77b376db832498aaf90809674b95ac7b6b1)
(cherry picked from commit f006d015657f4635115932715428cc1d5ee83ae4)
"
openstack%2Ftrove~stable%2Fwallaby~Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6,openstack/trove,stable/wallaby,bridge-network-stable/wallaby,Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6,Use bridge network for db container,MERGED,2021-06-22 11:59:43.000000000,2021-06-22 22:21:25.000000000,2021-06-22 22:20:05.000000000,71,11,0,797400,a401b761d93eca6b2d34aaeced09ed0331b419cc,7,2,1,11,6732,Lingxian Kong,kong,"Use bridge network for db container

- Changed the network mode of database container to ""bridge"" and exposed
  the service ports.
- Use socket file to connect with the database.
- Upgrade the backup container image for postgressql.

Change-Id: Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6
(cherry picked from commit b050996b9f6df738a0f68ac36a5b5f17f8bb2bc2)
"
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Ia42c29d5b082120f5a984cffd97325faf387ca8b,openstack/puppet-tripleo,stable/wallaby,designate-wallaby,Ia42c29d5b082120f5a984cffd97325faf387ca8b,Remove bind and bind pool generation for designate from puppet,MERGED,2021-06-21 19:10:47.000000000,2021-06-22 21:36:59.000000000,2021-06-22 21:36:59.000000000,21,114,0,797348,147e6a26078c2bf8ffa97e2d43399e24ef220139,7,3,1,7,6681,Brent Eagles,beagles,"Remove bind and bind pool generation for designate from puppet

This patch removes configuring the bind backend and desginate bind pool
configuration from puppet as it is now generated in ansible.

Depends-On: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc
Change-Id: Ia42c29d5b082120f5a984cffd97325faf387ca8b
(cherry picked from commit 98a0af7cc9b745ebf4f3964d5c33259edb5e0ea2)
"
openstack%2Fmanila-ui~stable%2Fussuri~I0983359acc489513a5a0940ac379e0a078870548,openstack/manila-ui,stable/ussuri,bug/1931641,I0983359acc489513a5a0940ac379e0a078870548,Fix share group creation with share types,MERGED,2021-06-22 18:40:02.000000000,2021-06-22 21:36:35.000000000,2021-06-22 21:35:22.000000000,4,1,1,797486,21e31332cb0a3e77122aff63ca2bbfd045e093e5,12,3,1,1,16643,Goutham Pacha Ravi,gouthamr,"Fix share group creation with share types

A recent change [1] introduced an encoding for
problematic field names. On the share group
creation form, an encoding was missed causing
a silent failure where the share type/s chosen
were ignored in the API request.

[1] 37e5b2f0530c9fe8117cea0dac95577b912bdecc
Change-Id: I0983359acc489513a5a0940ac379e0a078870548
Partial-Bug: #1931641
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 803ab32358eec94804a3b630786f8cf6b0795cbd)
(cherry picked from commit f421aeb1e18664411cbb20420fe2c4847767573b)
(cherry picked from commit bf820e10c742c3aff610665d7ec1b7c56a1fea9f)
"
openstack%2Fironic~stable%2Fwallaby~Ie2a1905d118d74e83eab5ad64931c685b3059504,openstack/ironic,stable/wallaby,anaconda_admin_docs-stable/wallaby,Ie2a1905d118d74e83eab5ad64931c685b3059504,Add documentation for anaconda deploy interface,MERGED,2021-06-22 15:37:54.000000000,2021-06-22 21:28:52.000000000,2021-06-22 16:24:08.000000000,131,0,0,797482,b88956550e3755491b309bd2a3be4e2188271f2f,8,3,1,2,10342,Jay Faulkner,JayF,"Add documentation for anaconda deploy interface

This adds admin docs on how configure and use the newly added
anaconda deploy interface.

Change-Id: Ie2a1905d118d74e83eab5ad64931c685b3059504
(cherry picked from commit 595345ffc43b3652ff249f214e1b90e91e717791)
"
openstack%2Fdevstack~master~Ib7b169c5a1c9a69cdd1a4fc3f1f60c02692b2c0e,openstack/devstack,master,add_centos_multinode_jobs,Ib7b169c5a1c9a69cdd1a4fc3f1f60c02692b2c0e,WIP/DNM: Add centos-multinode nodeset,NEW,2021-06-22 19:55:39.000000000,2021-06-22 21:28:09.000000000,,30,0,0,797535,c836421edf73fc8ef80528cdc962feeb53d1a407,2,1,1,1,9914,Ade Lee,alee,"WIP/DNM: Add centos-multinode nodeset

This is needed for some WIP neutron multi-node FIPS tests.  If we
decide to keep those tests, we can add this permanently.

Change-Id: Ib7b169c5a1c9a69cdd1a4fc3f1f60c02692b2c0e
"
openstack%2Fneutron~stable%2Fussuri~I78673b6a85f1c872e70026da82124d1ba2326562,openstack/neutron,stable/ussuri,bug/1932421,I78673b6a85f1c872e70026da82124d1ba2326562,ovn: Don't use dict.remove() for filtering dhcp ports in db-sync,MERGED,2021-06-18 07:47:58.000000000,2021-06-22 21:09:17.000000000,2021-06-22 21:07:45.000000000,8,8,0,797000,0d0acf062adb21663fc533200324cf30109f5f94,27,4,1,1,8655,Jakub Libosvar,jlibosva,"ovn: Don't use dict.remove() for filtering dhcp ports in db-sync

The db-sync script removes ovnmeta ports because sometimes removing
reserved_dhcp_port in the loop doesn't work.

Closes-Bug: #1932421

Conflicts:
	neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py

Change-Id: I78673b6a85f1c872e70026da82124d1ba2326562
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 0aab51c9f8be1d42e5b578493cefd384ee07665b)
"
openstack%2Fansible-collections-openstack~master~I0f4281324e5276122f51722c7b8e79ee185fd476,openstack/ansible-collections-openstack,master,,I0f4281324e5276122f51722c7b8e79ee185fd476,Switch Snapshot module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-22 20:53:47.000000000,2021-06-22 20:53:47.000000000,69,76,16,792449,e3c61aeefd6ee456a3f2a0920c9b7e99440caafd,16,2,3,2,27900,Artem Goncharov,gtema,"Switch Snapshot module to OpenStackModule

Switch snapshot module to the general OpenStackModule.

Change-Id: I0f4281324e5276122f51722c7b8e79ee185fd476
"
openstack%2Fansible-collections-openstack~master~I28a61bf70b161358b76e3adb70b32896613e9aba,openstack/ansible-collections-openstack,master,,I28a61bf70b161358b76e3adb70b32896613e9aba,Switch Quota module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-22 20:48:11.000000000,2021-06-22 20:48:11.000000000,108,143,16,792418,06115c77b7e4f8af462b71629a2f8f05d3df1a15,16,2,4,1,27900,Artem Goncharov,gtema,"Switch Quota module to OpenStackModule

Switch quota module to the general OpenStackModule.

Change-Id: I28a61bf70b161358b76e3adb70b32896613e9aba
"
openstack%2Ftripleo-ansible~master~Ia4fa4b950114c5fcc787a7ffb957360c65c850c9,openstack/tripleo-ansible,master,remove-deprecated-macs-field,Ia4fa4b950114c5fcc787a7ffb957360c65c850c9,"Drop deprecated ""macs"" field in nodes_json",MERGED,2021-06-18 14:05:15.000000000,2021-06-22 20:48:08.000000000,2021-06-22 20:46:33.000000000,2,6,0,797091,badab82c2b371f99011e981f9a2f2c1e88488314,9,4,1,2,24245,Harald Jensås,harald.jensas,"Drop deprecated ""macs"" field in nodes_json

In change I74d4178dbb0cfe8c934ce15e3e7c9bb1c469de10
the ""macs"" field in nodes_json was deprecated and
replaced by the ""ports"" field.

It has been several cycles with a deprecation warning
in the logs. Remove convert_nodes_json_mac_to_ports
use which keept backward compatibility.

Change-Id: Ia4fa4b950114c5fcc787a7ffb957360c65c850c9
"
openstack%2Fironic~master~Ie758cccdf8a7bc30389cd5d4cd83ea80dbae040f,openstack/ironic,master,ilo-prefix,Ie758cccdf8a7bc30389cd5d4cd83ea80dbae040f,Rename ilo_boot_iso -> boot_iso,MERGED,2021-06-14 14:54:35.000000000,2021-06-22 20:47:31.000000000,2021-06-22 14:49:07.000000000,90,68,0,796289,e84b6d102073d67d1f5ddb52516d4957f92596cb,34,3,1,7,10239,Dmitry Tantsur,dtantsur,"Rename ilo_boot_iso -> boot_iso

Change-Id: Ie758cccdf8a7bc30389cd5d4cd83ea80dbae040f
"
openstack%2Fmanila~stable%2Fwallaby~I4f22fe7b45394045f672d5bbd3b46c4e5e4b2fd3,openstack/manila,stable/wallaby,bug/1918707,I4f22fe7b45394045f672d5bbd3b46c4e5e4b2fd3,Fix PDF build,MERGED,2021-06-14 19:37:43.000000000,2021-06-22 20:44:51.000000000,2021-06-22 20:42:32.000000000,9,8,0,796224,377fbc3acd3943440235eb79a8a2f6fe438f16ee,13,4,1,2,16643,Goutham Pacha Ravi,gouthamr,"Fix PDF build

With newer sphinx the pdf build fails and gives the following error:

! Dimension too large.

This could be memory issue, that can be fixed by not generating the
sample_policy file as that can be large.

This patch also sets back the tox-docs job as voting.

Closes-Bug: #1918707
Change-Id: I4f22fe7b45394045f672d5bbd3b46c4e5e4b2fd3
(cherry picked from commit 4bfea794d74019eb5e6fa907ee26ff1fc71ce6b2)
"
openstack%2Fopenstack-ansible-os_tempest~master~Ic5f5b44d81ed39b1fa622b5a1d76e482c2aa23aa,openstack/openstack-ansible-os_tempest,master,alternative-tests,Ic5f5b44d81ed39b1fa622b5a1d76e482c2aa23aa,Add tempest_test_extra_test variable,MERGED,2021-06-17 10:37:29.000000000,2021-06-22 20:41:50.000000000,2021-06-22 20:40:35.000000000,12,1,13,796818,4c0fcc91c32ac864dec60d33ea380428b79838d2,31,6,6,2,8367,Arx Cruz,arxcruz,"Add tempest_test_extra_test variable

This add a aditional test in the tempest_test_includelist. This is
required right now as a workaround for tripleo jobs, while the
implementation of the includelist in openstack-tempest-skiplist tool.
Tripleo uses os_tempest to setup and run tempest, but it doesn't run all
tempest tests. Sometimes, the list of excluded tests matches the list of
included tests and so tempest fail with no tests to run. This
tempest_test_extra_test will ensure that it will execute at least one
keystone api test to avoid this.
Right now, the tempest_test_whitelist variable is parsed to ansible via
-e command line, and so it's hard to overwrite it on tripleo side, and
it's spreaded in several different jobs with several different set of
tests. So, this is the best/easy way to fix this problem, while we work
on a long term solution.

Change-Id: Ic5f5b44d81ed39b1fa622b5a1d76e482c2aa23aa
"
openstack%2Fcharm-keystone~master~I110cc089fa7d51dfd513c630cb28cd49b330bf6f,openstack/charm-keystone,master,bug/1933109,I110cc089fa7d51dfd513c630cb28cd49b330bf6f,Set WSGI env with lang=C.UTF-8,MERGED,2021-06-22 17:10:31.000000000,2021-06-22 20:39:48.000000000,2021-06-22 20:39:48.000000000,3,3,0,797516,7e6647951d2408ceae10170f7c4597f593d68d58,8,3,1,1,20805,David Ames,thedac,"Set WSGI env with lang=C.UTF-8

The default apache2 environment, and therefore the default WSGI
environment, sets LANG=C. For languages beyond the scope of ASCII
this can create problems.

Explicitly set the lang and locale to C.UTF-8 which will support all
UTF-8 language sets.

Change-Id: I110cc089fa7d51dfd513c630cb28cd49b330bf6f
Closes-Bug: #1933109
"
openstack%2Fpython-tripleoclient~master~Ic5c13adf7ef848af7e6f87c270a48876556024c9,openstack/python-tripleoclient,master,drop-mistral,Ic5c13adf7ef848af7e6f87c270a48876556024c9,Drop mistralclient from requirements,MERGED,2021-06-15 19:41:20.000000000,2021-06-22 20:39:45.000000000,2021-06-22 20:38:16.000000000,0,1,0,796534,28722a7bd7106a798a660855d757f854f1193761,14,3,1,1,14985,Alex Schultz,mwhahaha,"Drop mistralclient from requirements

We no longer leverage mistral.

Change-Id: Ic5c13adf7ef848af7e6f87c270a48876556024c9
"
openstack%2Fpuppet-neutron~master~I74ba02ce89d7ca2a2237a4f8aaa80c8b395dc862,openstack/puppet-neutron,master,,I74ba02ce89d7ca2a2237a4f8aaa80c8b395dc862,Warn about new default placement username next release,MERGED,2021-06-07 12:35:54.000000000,2021-06-22 20:37:33.000000000,2021-06-22 20:35:45.000000000,17,6,1,795094,c7759349c33336d8080b5ca61beca982c3b93b63,18,3,5,2,16137,Tobias Urdin,tobasco,"Warn about new default placement username next release

Change-Id: I74ba02ce89d7ca2a2237a4f8aaa80c8b395dc862
"
openstack%2Fpuppet-cinder~stable%2Fvictoria~I564528663a3d2f83136b98ed46e09e373a9ad6de,openstack/puppet-cinder,stable/victoria,,I564528663a3d2f83136b98ed46e09e373a9ad6de,Allow for '-' in volume type property values,MERGED,2021-06-22 05:32:08.000000000,2021-06-22 20:25:24.000000000,2021-06-22 20:25:24.000000000,4,4,0,797384,9ece2cff0ef9365ff0ee4599a37f010da877ad22,9,3,2,2,25600,Ebbex,ebbex,"Allow for '-' in volume type property values

There's no validation going on (yet) in cinder as to which characters
are allowed in properties. So this change alters the regex to cast a
wide net catching '-' and other possible valid variations.

Also update unit-test to cover this scenario.

Closes-Bug: #1932272
Change-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de
(cherry picked from commit 62899eba67f134a92fb863b5a9b6dcfc3e18aa56)
(cherry picked from commit fee24886422bf1dcdad64da33e022b01b0324fdb)
"
openstack%2Fpuppet-cinder~stable%2Fvictoria~If08fce9443281e65636aaaa99e3139732435f6f7,openstack/puppet-cinder,stable/victoria,,If08fce9443281e65636aaaa99e3139732435f6f7,Improve cinder_type properties regex,MERGED,2021-06-22 05:32:08.000000000,2021-06-22 20:25:21.000000000,2021-06-22 20:25:21.000000000,4,4,2,797383,5782fc7f2d64d981b328c896c305cda4018afe37,12,4,2,2,25600,Ebbex,ebbex,"Improve cinder_type properties regex

This changes the regex for properties managed with
the cinder_type resource so that it supports the
format Cinder needs for multiattach and similar.

  multiattach=<is> True

This patch is needed so that cinder_type resources
can set the above.

See regex testing here [1]. Needs to be backported
to older versions so that cinder_type can be
properly used there as well.

[1] https://regexr.com/5imqk

Change-Id: If08fce9443281e65636aaaa99e3139732435f6f7
(cherry picked from commit a032bec7d6a6016126f667361143e6630e159080)
(cherry picked from commit a3976afb609c9ab19ea802205b7b15e0be37f0ec)
"
openstack%2Fopenstack-helm~master~I4e3e0fe4e7afeedb78679a4d4dfa37f93f459072,openstack/openstack-helm,master,,I4e3e0fe4e7afeedb78679a4d4dfa37f93f459072,fix(yaml): add end symbol,MERGED,2021-06-22 11:58:00.000000000,2021-06-22 20:18:07.000000000,2021-06-22 20:16:10.000000000,16,0,0,797438,33efbaeb27105319ffd8de007ab01897cd6a07b2,9,4,1,16,30449,jinyuanliu,jinyuanliu,"fix(yaml): add end symbol

This patch set fixes end symbol to update the yaml format specification.

Change-Id: I4e3e0fe4e7afeedb78679a4d4dfa37f93f459072
"
openstack%2Ftripleo-heat-templates~master~Ide14902e85aaaa8a6017326aaf789857c7a3dae5,openstack/tripleo-heat-templates,master,bug/1933228,Ide14902e85aaaa8a6017326aaf789857c7a3dae5,Fix NetworkDeploymentActionValue format,MERGED,2021-06-22 12:22:54.000000000,2021-06-22 20:11:36.000000000,2021-06-22 20:11:36.000000000,4,4,0,797441,a6118661f7e95ba8954f9a967e92811e4e098942,9,6,1,1,23811,Oliver Walsh,owalsh,"Fix NetworkDeploymentActionValue format

This should be a list, not a list of lists.

Closes-bug: #1933228
Change-Id: Ide14902e85aaaa8a6017326aaf789857c7a3dae5
"
openstack%2Fmanila-ui~stable%2Fvictoria~I0983359acc489513a5a0940ac379e0a078870548,openstack/manila-ui,stable/victoria,bug/1931641,I0983359acc489513a5a0940ac379e0a078870548,Fix share group creation with share types,MERGED,2021-06-22 18:36:18.000000000,2021-06-22 20:10:09.000000000,2021-06-22 20:08:52.000000000,4,1,0,797485,bf820e10c742c3aff610665d7ec1b7c56a1fea9f,10,3,1,1,16643,Goutham Pacha Ravi,gouthamr,"Fix share group creation with share types

A recent change [1] introduced an encoding for
problematic field names. On the share group
creation form, an encoding was missed causing
a silent failure where the share type/s chosen
were ignored in the API request.

[1] 37e5b2f0530c9fe8117cea0dac95577b912bdecc
Change-Id: I0983359acc489513a5a0940ac379e0a078870548
Partial-Bug: #1931641
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 803ab32358eec94804a3b630786f8cf6b0795cbd)
(cherry picked from commit f421aeb1e18664411cbb20420fe2c4847767573b)
"
openstack%2Fneutron~master~Ibf4890985b6d07077d04f989eab833ae5b057200,openstack/neutron,master,,Ibf4890985b6d07077d04f989eab833ae5b057200,Fix devstack path in plugin.sh,MERGED,2021-06-18 15:30:12.000000000,2021-06-22 19:59:11.000000000,2021-06-22 19:57:16.000000000,1,1,3,797128,5b5bc483aeadecd12e7f7ef81eae523910ff5716,37,8,1,1,29244,Gregory Thiemonge,gthiemonge,"Fix devstack path in plugin.sh

devstack is not necessarily cloned to ""$DEST/devstack""
(""/opt/stack/devstack""), it can be run from any other directory.
$TOP_DIR [1] should be used when referring to the devstack working dir.

[1] https://opendev.org/openstack/devstack/src/commit/\
6af3cb9eb273c127c20bc07f65c9a5d7f8ba95cd/stack.sh#L73

Change-Id: Ibf4890985b6d07077d04f989eab833ae5b057200
"
openstack%2Fmanila-ui~stable%2Ftrain~Id924fc55debdc38ae2131bf8cef396f28caa3e77,openstack/manila-ui,stable/train,bug/1931641,Id924fc55debdc38ae2131bf8cef396f28caa3e77,Fix parsing names in switched fields,MERGED,2021-06-15 21:43:08.000000000,2021-06-22 19:48:47.000000000,2021-06-22 19:47:20.000000000,90,41,0,796547,902baefc33f3b783060b075331298b66adf77ac3,16,4,4,8,16643,Goutham Pacha Ravi,gouthamr,"Fix parsing names in switched fields

In the share creation form dialog, share network
selection is optionally provided based on whether
the share type chosen supports the DHSS extra-spec.
This selection breaks often when dealing with share
types that have a name matching the format: "".*-\d+.*"".
For example: test-700. The root cause of this seems to
be in javascript code for ""switchable"" fields [1] that
doesn't get triggered as expected.

A similar issue manifests in the share Network Creation
form where we setup switched fields with the Neutron
network IDs (dashed format UUIDs) and in the Share
Group Creation form where we setup switched fields
with the Share Group Type IDs (dashed format UUIDs).

So, we could encode the ""-"" in these field names to
workaround this issue.

Unfortunately this isn't a clean cherry-pick since
we need to support users running manila-ui under
python2 in this branch - and unicode wrangling
isn't cleanly possible due to some assumptions
django makes about field names in the forms code as
well as in tests.

Closes-Bug: #1931641
[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613

Change-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 37e5b2f0530c9fe8117cea0dac95577b912bdecc)
(cherry picked from commit b7d87e886a1d71e02034b7dde9b96be3beabdb6a)
(cherry picked from commit 6ad8fd882afe8c7ad2f0c45a26920db824c45db5)
(cherry picked from commit a97f5e67508b02c428c9adde3eee8fdcdacba58b)
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Ftripleo-operator-ansible~master~I5e3e166f02b8825e23320d910e03bc7fddb519b0,openstack/tripleo-operator-ansible,master,standalone-cleanup,I5e3e166f02b8825e23320d910e03bc7fddb519b0,Switch tripleo_deploy_standalone to false by default,MERGED,2020-09-23 20:57:33.000000000,2021-06-22 19:48:44.000000000,2021-06-22 19:48:44.000000000,5,6,0,753853,1dc91295186d74fa8c1d23b01da8189b20fce220,11,7,3,4,14985,Alex Schultz,mwhahaha,"Switch tripleo_deploy_standalone to false by default

In the victoria cycle, this option become deprecated and no longer needs
to be provided. In older version a user will need to set it to true if
they wish to use the `openstack tripleo deploy` command.

Depends-On: https://review.opendev.org/#/c/753852/
Change-Id: I5e3e166f02b8825e23320d910e03bc7fddb519b0
"
openstack%2Fmanila-ui~stable%2Ftrain~I92e87282020047c7fad055cae92f2382c4193597,openstack/manila-ui,stable/train,bp/remove-nova-net-plugin,I92e87282020047c7fad055cae92f2382c4193597,Remove nova networking,MERGED,2021-06-15 21:39:07.000000000,2021-06-22 19:20:57.000000000,2021-06-22 19:19:33.000000000,9,28,0,796556,76fe0c53286524dc1728efb2824450f510f5c07d,12,3,1,6,16643,Goutham Pacha Ravi,gouthamr,"Remove nova networking

This is essentially dead code elimination
from manila-ui at this point since manila
and python-manilaclient dropped support
in the Ocata release.

Change-Id: I92e87282020047c7fad055cae92f2382c4193597
Partially-implements: bp remove-nova-net-plugin
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 4edb837a1b5492b14b05d00236337525bdcde686)
(cherry picked from commit 85137cf757d848a51d82f78f770fb507532279ee)
(cherry picked from commit 7a311bac44ecc0980747b94f28c4dea15dc467a7)
(cherry picked from commit 0dbfc479fd9a8441f7ae9554f65c96e2e588c071)
"
openstack%2Fmanila~master~I59908509fc6714e6f0db1fdda27171a9390c4411,openstack/manila,master,,I59908509fc6714e6f0db1fdda27171a9390c4411,Remove duplicate line in release note,MERGED,2021-06-22 11:24:39.000000000,2021-06-22 19:14:34.000000000,2021-06-22 19:13:07.000000000,0,2,0,797430,a4765cff1e09e46c31e7e91fd523441b7a6348b8,12,3,1,1,9003,Tom Barron,tbarron,"Remove duplicate line in release note

Goutham noted in review [1] that there is a duplicate line in a recent
release note, so let's remove it.

[1] https://review.opendev.org/c/openstack/manila/+/745206/9/releasenotes/notes/remove-deprecated-options-and-auth-4d497e03ad47e872.yaml@161

Change-Id: I59908509fc6714e6f0db1fdda27171a9390c4411
"
openstack%2Fneutron~master~Idc938a1dc9de3ad77f558df4f4fb4ae5c3de3d21,openstack/neutron,master,bug/1901707,Idc938a1dc9de3ad77f558df4f4fb4ae5c3de3d21,"Add ""nova:live_migration_events"" flag to subnode in multinode CI job",MERGED,2021-06-10 11:15:33.000000000,2021-06-22 19:06:03.000000000,2021-06-22 19:03:14.000000000,3,0,2,795761,48af145d95dcc50897b504a8bbff44c3906a112b,35,4,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add ""nova:live_migration_events"" flag to subnode in multinode CI job

Added ""nova:live_migration_events"" flag to subnode neutron.conf file in
""neutron-tempest-multinode-full-py3"" CI job. That flag was missing in
the patch implementing this feature [1].

[1]https://review.opendev.org/c/openstack/neutron/+/766277

Change-Id: Idc938a1dc9de3ad77f558df4f4fb4ae5c3de3d21
Related-Bug: #1901707
"
openstack%2Fdevstack~master~I88254c6e22b52585506ee4907c1c03b8d4f2dac7,openstack/devstack,master,bug/1929446,I88254c6e22b52585506ee4907c1c03b8d4f2dac7,os_vif: Add support for configuring os_vif_ovs plugin,MERGED,2021-06-17 11:54:19.000000000,2021-06-22 19:06:00.000000000,2021-06-22 19:03:33.000000000,35,0,12,796826,5344885a61fe39565692014c15e0b4fb1055c835,39,6,9,2,11604,sean mooney,sean-k-mooney,"os_vif: Add support for configuring os_vif_ovs plugin

This change add an os-vif lib that declares two new variables
OS_VIF_OVS_OVSDB_INTERFACE and OS_VIF_OVS_ISOLATE_VIF

The former is introduced to workaround bug #1929446 which cause the nova
and neutron agents to periodically block waiting for ovs to respond.

OS_VIF_OVS_ISOLATE_VIF is added to address bug #1734320 when using
ml2/ovs vif isolation should always be used to prevent cross tenant
traffic during a live migration.  This makes devstack more closely
mirror reality by enabling it when ml2/ovs is used and disabling it
otherwise.

Related-Bug: #1734320
Related-Bug: #1929446
Related-Bug: #1912310
Change-Id: I88254c6e22b52585506ee4907c1c03b8d4f2dac7
"
openstack%2Fmanila-ui~stable%2Fwallaby~I0983359acc489513a5a0940ac379e0a078870548,openstack/manila-ui,stable/wallaby,bug/1931641,I0983359acc489513a5a0940ac379e0a078870548,Fix share group creation with share types,MERGED,2021-06-22 16:32:16.000000000,2021-06-22 18:51:31.000000000,2021-06-22 18:50:08.000000000,4,1,0,797483,f421aeb1e18664411cbb20420fe2c4847767573b,10,3,1,1,16643,Goutham Pacha Ravi,gouthamr,"Fix share group creation with share types

A recent change [1] introduced an encoding for
problematic field names. On the share group
creation form, an encoding was missed causing
a silent failure where the share type/s chosen
were ignored in the API request.

[1] 37e5b2f0530c9fe8117cea0dac95577b912bdecc
Change-Id: I0983359acc489513a5a0940ac379e0a078870548
Partial-Bug: #1931641
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 803ab32358eec94804a3b630786f8cf6b0795cbd)
"
openstack%2Fmanila-ui~stable%2Fussuri~Id924fc55debdc38ae2131bf8cef396f28caa3e77,openstack/manila-ui,stable/ussuri,bug/1931641,Id924fc55debdc38ae2131bf8cef396f28caa3e77,Fix parsing names in switched fields,MERGED,2021-06-18 21:37:17.000000000,2021-06-22 18:49:46.000000000,2021-06-22 18:47:51.000000000,87,41,0,797164,a97f5e67508b02c428c9adde3eee8fdcdacba58b,9,3,1,8,16643,Goutham Pacha Ravi,gouthamr,"Fix parsing names in switched fields

In the share creation form dialog, share network
selection is optionally provided based on whether
the share type chosen supports the DHSS extra-spec.
This selection breaks often when dealing with share
types that have a name matching the format: "".*-\d+.*"".
For example: test-700. The root cause of this seems to
be in javascript code for ""switchable"" fields [1] that
doesn't get triggered as expected.

A similar issue manifests in the share Network Creation
form where we setup switched fields with the Neutron
network IDs (dashed format UUIDs) and in the Share
Group Creation form where we setup switched fields
with the Share Group Type IDs (dashed format UUIDs).

So, we could encode the ""-"" in these field names to
workaround this issue.

Closes-Bug: #1931641
[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613

Change-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 37e5b2f0530c9fe8117cea0dac95577b912bdecc)
(cherry picked from commit b7d87e886a1d71e02034b7dde9b96be3beabdb6a)
(cherry picked from commit 6ad8fd882afe8c7ad2f0c45a26920db824c45db5)
"
openstack%2Ftripleo-common~master~Ifb2d5dd58e9c703702864f2c152f26a685b0980f,openstack/tripleo-common,master,prep_images_output,Ifb2d5dd58e9c703702864f2c152f26a685b0980f,Make sure Heat Ephemeral has images prepared,MERGED,2021-06-16 09:38:48.000000000,2021-06-22 18:38:32.000000000,2021-06-22 18:37:09.000000000,6,0,6,796614,fc4e256b22a2f7635180f86dc12fae764c5b2f5c,41,6,5,1,6926,Bogdan Dobrelya,bogdando,"Make sure Heat Ephemeral has images prepared

Add extra Heat Ephemeral service that only ensures the required
container images are prepared.

Change-Id: Ifb2d5dd58e9c703702864f2c152f26a685b0980f
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Co-Authored-By: Alex Schultz <aschultz@redhat.com>
"
openstack%2Ftripleo-ansible~master~I371fbb5d3489c70e2bd4e3473faaa3e65f591d63,openstack/tripleo-ansible,master,,I371fbb5d3489c70e2bd4e3473faaa3e65f591d63,"Container manage module, attempt 2",MERGED,2021-06-17 15:52:49.000000000,2021-06-22 18:34:42.000000000,2021-06-22 18:32:27.000000000,403,11,2,796884,72f42e0f3b870d435ce9083480dd189e163ef1c9,27,5,7,4,14985,Alex Schultz,mwhahaha,"Container manage module, attempt 2

Use a module to manage podman containers rather than the async task
loops.  This change also includes fixes for container-puppet json data
to match the expectations of the module.

This changed the default state from created to started which matches
what used to occur in the tripleo_container_manage role. Additionally
an additional check was added to an exec to ensure the target container
is up before running the exec. We will sleep for 5 seconds and check
again if the container is not running.

Change-Id: I371fbb5d3489c70e2bd4e3473faaa3e65f591d63
"
openstack%2Fmanila-ui~stable%2Fussuri~I92e87282020047c7fad055cae92f2382c4193597,openstack/manila-ui,stable/ussuri,bp/remove-nova-net-plugin,I92e87282020047c7fad055cae92f2382c4193597,Remove nova networking,MERGED,2021-06-15 21:38:18.000000000,2021-06-22 18:32:49.000000000,2021-06-22 18:31:19.000000000,9,28,0,796555,0dbfc479fd9a8441f7ae9554f65c96e2e588c071,14,3,1,6,16643,Goutham Pacha Ravi,gouthamr,"Remove nova networking

This is essentially dead code elimination
from manila-ui at this point since manila
and python-manilaclient dropped support
in the Ocata release.

Change-Id: I92e87282020047c7fad055cae92f2382c4193597
Partially-implements: bp remove-nova-net-plugin
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 4edb837a1b5492b14b05d00236337525bdcde686)
(cherry picked from commit 85137cf757d848a51d82f78f770fb507532279ee)
(cherry picked from commit 7a311bac44ecc0980747b94f28c4dea15dc467a7)
"
openstack%2Fpuppet-openstack-cookiecutter~master~Ia4f93833bba9a11ba74e5d2000cee1a2a88f4162,openstack/puppet-openstack-cookiecutter,master,pyvers-removal,Ia4f93833bba9a11ba74e5d2000cee1a2a88f4162,Get rid of the $pyvers variable,MERGED,2021-06-09 14:19:18.000000000,2021-06-22 18:24:18.000000000,2021-06-22 18:24:18.000000000,0,1,0,795552,ab2f1456a8a2da12f9ede9b38712f830d1250e59,9,3,1,1,6476,Thomas Goirand,thomas-goirand,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: Ia4f93833bba9a11ba74e5d2000cee1a2a88f4162
"
openstack%2Fneutron~stable%2Fussuri~If76c6ee1734f544abdd4196431351d4328ad26fd,openstack/neutron,stable/ussuri,bug/1917793-stable/ussuri,If76c6ee1734f544abdd4196431351d4328ad26fd,Read keepalived initial state in parallel to interface monitoring,MERGED,2021-06-18 07:37:03.000000000,2021-06-22 17:56:18.000000000,2021-06-22 17:54:38.000000000,60,10,0,796998,a23accea9b912d844ff937123d2ece022698edf6,42,3,1,2,11975,Slawek Kaplonski,slaweq,"Read keepalived initial state in parallel to interface monitoring

The initial router state method is now a thread that is executed
in parallel with the ""ip monitor"" thread. If by any circumstance
this thread does not read the interface IP addresses on time, the
state of the router will be defined as ""backup"".

Related-Bug: #1917793

Conflicts:
    neutron/agent/l3/keepalived_state_change.py

Change-Id: If76c6ee1734f544abdd4196431351d4328ad26fd
(cherry picked from commit c1ade52fda59163510dd0959ab72c442d1d07027)
"
openstack%2Fkolla~stable%2Fussuri~I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581,openstack/kolla,stable/ussuri,bug/1928408-stable/ussuri,I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581,horizon: Correct location of monitoring_policy file,MERGED,2021-06-21 16:27:09.000000000,2021-06-22 17:47:04.000000000,2021-06-22 17:22:46.000000000,8,1,0,797301,f7556324fd3850d3e63320fdd2d4086055fc9c87,20,4,1,2,14826,Mark Goddard,mgoddard,"horizon: Correct location of monitoring_policy file

Patch to correctly copy monitoring_policy.json into
/etc/openstack-dashboard.  Policy was misplaced, and not being enforced.

Note that by current default policy, admin doesn't not have Monitoring
access.

Closes-Bug: #1928408
Change-Id: I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581
(cherry picked from commit f68dfb88fdbad51322727575457b3d78a70466b1)
"
openstack%2Fmanila-ui~stable%2Fvictoria~Id924fc55debdc38ae2131bf8cef396f28caa3e77,openstack/manila-ui,stable/victoria,bug/1931641,Id924fc55debdc38ae2131bf8cef396f28caa3e77,Fix parsing names in switched fields,MERGED,2021-06-18 21:34:08.000000000,2021-06-22 17:46:19.000000000,2021-06-22 17:44:50.000000000,87,41,0,797163,6ad8fd882afe8c7ad2f0c45a26920db824c45db5,9,3,2,8,16643,Goutham Pacha Ravi,gouthamr,"Fix parsing names in switched fields

In the share creation form dialog, share network
selection is optionally provided based on whether
the share type chosen supports the DHSS extra-spec.
This selection breaks often when dealing with share
types that have a name matching the format: "".*-\d+.*"".
For example: test-700. The root cause of this seems to
be in javascript code for ""switchable"" fields [1] that
doesn't get triggered as expected.

A similar issue manifests in the share Network Creation
form where we setup switched fields with the Neutron
network IDs (dashed format UUIDs) and in the Share
Group Creation form where we setup switched fields
with the Share Group Type IDs (dashed format UUIDs).

So, we could encode the ""-"" in these field names to
workaround this issue.

Closes-Bug: #1931641
[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613

Change-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 37e5b2f0530c9fe8117cea0dac95577b912bdecc)
(cherry picked from commit b7d87e886a1d71e02034b7dde9b96be3beabdb6a)
"
openstack%2Fmanila-ui~stable%2Fvictoria~I92e87282020047c7fad055cae92f2382c4193597,openstack/manila-ui,stable/victoria,bp/remove-nova-net-plugin,I92e87282020047c7fad055cae92f2382c4193597,Remove nova networking,MERGED,2021-06-15 21:37:04.000000000,2021-06-22 17:42:47.000000000,2021-06-22 17:41:02.000000000,9,28,0,796554,7a311bac44ecc0980747b94f28c4dea15dc467a7,12,3,1,6,16643,Goutham Pacha Ravi,gouthamr,"Remove nova networking

This is essentially dead code elimination
from manila-ui at this point since manila
and python-manilaclient dropped support
in the Ocata release.

Change-Id: I92e87282020047c7fad055cae92f2382c4193597
Partially-implements: bp remove-nova-net-plugin
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 4edb837a1b5492b14b05d00236337525bdcde686)
(cherry picked from commit 85137cf757d848a51d82f78f770fb507532279ee)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I27edf0834849c4a37cd07c8bdb69041ad5e41a99,openstack/tripleo-heat-templates,stable/train,hybrid_state_for_ovs,I27edf0834849c4a37cd07c8bdb69041ad5e41a99,[ffwd] Introduce hybrid mode for ovs neutron agent,MERGED,2021-06-08 08:03:20.000000000,2021-06-22 17:37:17.000000000,2021-06-22 17:37:17.000000000,95,1,8,795252,1c572df8a9c3106c47451220e981d63aa54e9706,39,8,9,2,11166,Lukas Bezdicka,xbezdick,"[ffwd] Introduce hybrid mode for ovs neutron agent

For livemigration to work during ffwd we need also the
ovs neutron agent to be bumped to train version during
the hybrid more.

To resolve incompatibility between RHEL8 iptables which
are nft based and RHEL7 iptables we simply mount the
required bits from host operating system.

Resolves: rhbz#1956787
Change-Id: I27edf0834849c4a37cd07c8bdb69041ad5e41a99
"
openstack%2Fneutron~stable%2Fussuri~I692219200535df3af1265248e88c96947e4d8f9d,openstack/neutron,stable/ussuri,bug/1926693-stable/wallaby-stable/victoria-stable/ussuri,I692219200535df3af1265248e88c96947e4d8f9d,Add a single option to override the default hypervisor name,MERGED,2021-06-17 13:05:56.000000000,2021-06-22 17:29:55.000000000,2021-06-22 17:27:22.000000000,55,11,0,796853,07a31397ff1d2b435cff9150884c296604f783c7,41,4,1,7,11975,Slawek Kaplonski,slaweq,"Add a single option to override the default hypervisor name

Currently neutron uses socket.gethostname() to determine hypervisor
names, but this implementation is not fully compatible with libvirt
driver which uses canonical name for hypervisor name.
This incompatibility causes an issue with root resource provider
detection if a deployment uses FQDNs as canonicanl names.

This change introduces the resource_provider_default_hypervisor option,
so that users can override the hypervisor name by the single option(*1)
instead of setting two list options(*2). This is especially useful if
the deployment has multiple bridges or interfaces.

(*1)
[OVS]
resource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\
br-data3:1024,1024,br-data4,1024:1024
resource_provider_default_hypervisor=compute0.mydomain

(*2)
[OVS]
resource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\
br-data3:1024,1024,br-data4,1024:1024
resource_provider_hypervisors=br-data1:compute0.mydomain,br-data2:\
compute0.mydomain,br-data3:compute0.mydomain,br-data4:compute0.mydomain

Related-Bug: #1926693
Change-Id: I692219200535df3af1265248e88c96947e4d8f9d
(cherry picked from commit ddf0fef28b7095724c8ba27f3275d0dad2252251)
"
openstack%2Foslo.privsep~master~Ie7cc25ed53563dd500f7b10ff43a48518d46a2e0,openstack/oslo.privsep,master,context-logging,Ie7cc25ed53563dd500f7b10ff43a48518d46a2e0,Allow finer grained log levels,MERGED,2021-03-31 13:13:22.000000000,2021-06-22 17:24:58.000000000,2021-06-22 17:22:35.000000000,79,19,5,784098,71c732c8337309b3dc1b5a1957255da617d8dc3f,21,4,5,4,9535,Gorka Eguileor,Gorka,"Allow finer grained log levels

Currently all privsep calls use the same logging level as they use the
``oslo_privsep.daemon`` logger.

This creates a problem for services like nova where we don't want to
log its own privsep debug messages by default (even in debug mode) but
we want them for os-brick privsep calls.

This patch introduces a new string parameter to ``PrivContext`` called
``logger_name`` to control the name of the logger to use, which defaults
to ``oslo_privsep.daemon``.

Related-Bug: #1922052
Change-Id: Ie7cc25ed53563dd500f7b10ff43a48518d46a2e0
"
openstack%2Fmanila-ui~master~I0983359acc489513a5a0940ac379e0a078870548,openstack/manila-ui,master,bug/1931641,I0983359acc489513a5a0940ac379e0a078870548,Fix share group creation with share types,MERGED,2021-06-21 21:59:10.000000000,2021-06-22 17:20:58.000000000,2021-06-22 17:19:27.000000000,4,1,0,797354,803ab32358eec94804a3b630786f8cf6b0795cbd,12,4,3,1,16643,Goutham Pacha Ravi,gouthamr,"Fix share group creation with share types

A recent change [1] introduced an encoding for
problematic field names. On the share group
creation form, an encoding was missed causing
a silent failure where the share type/s chosen
were ignored in the API request.

[1] 37e5b2f0530c9fe8117cea0dac95577b912bdecc
Change-Id: I0983359acc489513a5a0940ac379e0a078870548
Partial-Bug: #1931641
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fcinder~master~I5135a48326f5f7adb0a380b55993660b8b38ce27,openstack/cinder,master,bug/1930748,I5135a48326f5f7adb0a380b55993660b8b38ce27,[Pure Storage] Ensure multiattach volumes are not disconnected early,MERGED,2021-06-03 19:18:06.000000000,2021-06-22 17:18:30.000000000,2021-06-19 15:16:07.000000000,52,10,2,794669,0c5511f84378e99afabb4c61f2c8330294310707,75,5,6,3,13425,Simon Dodsley,sdodsley,"[Pure Storage] Ensure multiattach volumes are not disconnected early

Change-Id: I5135a48326f5f7adb0a380b55993660b8b38ce27
Closes-Bug: #1930748
"
openstack%2Fneutron~stable%2Ftrain~Ic64fb0926c52408c7199c728ff88348b979d2f93,openstack/neutron,stable/train,clean-non-voting-jobs,Ic64fb0926c52408c7199c728ff88348b979d2f93,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2021-06-15 13:38:09.000000000,2021-06-22 17:15:59.000000000,2021-06-22 17:07:32.000000000,21,22,0,796472,5d5fb07e7fa029b9b3326ce4ddefc787169ec4ad,15,4,1,1,11975,Slawek Kaplonski,slaweq,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extened Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: Ic64fb0926c52408c7199c728ff88348b979d2f93
"
openstack%2Fnova~master~Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,openstack/nova,master,bug/1910466,Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,Fix max cpu topologies with numa affinity,MERGED,2021-01-06 19:51:05.000000000,2021-06-22 17:14:08.000000000,2021-06-22 17:08:30.000000000,59,306,115,769614,387823b36d091abbaa37efb930fc98b94a5bbb93,59,5,5,6,11604,sean mooney,sean-k-mooney,"Fix max cpu topologies with numa affinity

Nova has never supported specifying per numa node
cpu toplogies. Logically the  cpu toplogy of a guest
is independent of its numa toplogy and there is no
way to model different cpu toplogies per numa node
or implement that in hardware.

The presence of the code in nova that allowed the generation
of these invalid configuration has now been removed as it
broke the automatic selection of cpu topologies based
on hw:max_[cpus|sockets|threads] flavor and image properties.

This change removed the incorrect code and related unit
tests with assert nova could generate invalid topologies.

Closes-Bug: #1910466
Change-Id: Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b
"
openstack%2Fneutron~stable%2Ftrain~I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1,openstack/neutron,stable/train,bug/1926170,I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1,Added common config and SR-IOV agent config to sanity check,MERGED,2021-06-11 14:52:40.000000000,2021-06-22 17:13:49.000000000,2021-06-22 17:07:13.000000000,12,4,0,796029,cbbceca72417d6cdda17719f064c6b14e02f3712,57,3,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Added common config and SR-IOV agent config to sanity check

Added common config and SR-IOV agent config parameters to the sanity
check script, to add the following missing configuration parameters:
- default.notify_nova_on_port_status_changes
- default.notify_nova_on_port_data_changes
- sriov_nic.physical_device_mappings

Change-Id: I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1
Closes-Bug: #1926170
(cherry picked from commit 28cd6c82e9a0dbf908eb4ece54085a975c2fe5d4)
"
openstack%2Fovn-octavia-provider~master~I0955ce35a1f48f114a06337b1a55540865f9a7cd,openstack/ovn-octavia-provider,master,fix-functional-jobs,I0955ce35a1f48f114a06337b1a55540865f9a7cd,Fix functional jobs due to OVS file removal,MERGED,2021-06-17 02:54:48.000000000,2021-06-22 17:13:45.000000000,2021-06-22 17:10:53.000000000,1,1,0,796747,e7f5ab99e3b54b8fb328ef7a9927ae5088b62d09,55,5,2,1,1131,Brian Haley,brian-haley,"Fix functional jobs due to OVS file removal

The neutron file devstack/lib/ovs was removed in
https://review.opendev.org/c/openstack/neutron/+/793470
in favor of using the devstack in-tree version at
lib/neutron_plugins/ovs_source.  Start using it to
un-break the functional jobs.

Change-Id: I0955ce35a1f48f114a06337b1a55540865f9a7cd
"
openstack%2Fneutron~stable%2Fstein~I1355984870bd13ab1c734b27f24a53b6863fad92,openstack/neutron,stable/stein,clean-non-voting-jobs-stable/stein,I1355984870bd13ab1c734b27f24a53b6863fad92,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2021-06-15 13:59:02.000000000,2021-06-22 17:04:31.000000000,2021-06-22 17:02:00.000000000,16,16,0,796483,f300ebff0899c97cfd6d735205a7d863ffeea4d0,14,3,1,1,11975,Slawek Kaplonski,slaweq,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extened Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: I1355984870bd13ab1c734b27f24a53b6863fad92
"
openstack%2Ftripleo-ansible~master~I70ecd7a57f45d03722fa17f0ddf61b2167f705d0,openstack/tripleo-ansible,master,manila_ceph_caps,I70ecd7a57f45d03722fa17f0ddf61b2167f705d0,"Update manila mon, mgr and osd caps for Wallaby+",MERGED,2021-06-17 09:01:44.000000000,2021-06-22 16:42:55.000000000,2021-06-22 16:42:55.000000000,1,2,2,796801,471067a2f84992523e01fd620b1233a9c3411dbc,12,7,1,1,25402,Francesco Pantano,fmount,"Update manila mon, mgr and osd caps for Wallaby+

As described in [1], manila needs a different caps set
to interact with a ceph cluster. This patch just fixes
the mon, mgr and osd caps section to reflect the new
requirements.

[1] https://docs.openstack.org/manila/latest/admin/cephfs_driver.html

Change-Id: I70ecd7a57f45d03722fa17f0ddf61b2167f705d0
"
openstack%2Ftripleo-heat-templates~master~I7e22dbe287bf9c93438717c08a3ceb1998445b93,openstack/tripleo-heat-templates,master,,I7e22dbe287bf9c93438717c08a3ceb1998445b93,Do not run Swift rsync container in single replica mode,MERGED,2021-06-17 09:18:59.000000000,2021-06-22 16:42:46.000000000,2021-06-22 16:42:46.000000000,21,21,0,796807,91f06efb3a899176a376861cac3e0456e185f351,15,7,1,1,6968,Christian Schwede,cschwede,"Do not run Swift rsync container in single replica mode

When Swift is running in single replica mode, rsync is pretty much
useless - there is no counterpart to transfer data.

On the undercloud this also prevents misleading error messages if
xinetd is running and already using port 873.

Change-Id: I7e22dbe287bf9c93438717c08a3ceb1998445b93
"
openstack%2Fopenstack-virtual-baremetal~master~I3728bb8589a82fea71f54505c6f7c17e79d8378e,openstack/openstack-virtual-baremetal,master,remove-deprecated-macs-field,I3728bb8589a82fea71f54505c6f7c17e79d8378e,"build-nodes-json - use ports by default, mac is deprecated",MERGED,2021-06-22 15:40:48.000000000,2021-06-22 16:34:44.000000000,2021-06-22 16:34:44.000000000,85,29,0,797502,23914fab1a057d177452703defd7595048f8f336,7,3,1,2,24245,Harald Jensås,harald.jensas,"build-nodes-json - use ports by default, mac is deprecated

The mac field in TripleO nodes JSON has been deprecated
since Rocky. Let's switch to use the 'ports' field by
default.

Add the argument '--use-mac' to allow the user to choose
to use the legacy ""mac"" field.

Change-Id: I3728bb8589a82fea71f54505c6f7c17e79d8378e
"
openstack%2Frally-openstack~master~Ia5f965e81f903178c24e2ba00bbf8b89fb4be8b8,openstack/rally-openstack,master,fix_ci,Ia5f965e81f903178c24e2ba00bbf8b89fb4be8b8,Fix neutron job,MERGED,2021-06-17 15:24:14.000000000,2021-06-22 16:22:48.000000000,2021-06-22 16:22:48.000000000,34,5,0,796878,ee4964e1a5d56bf6a30b8962e16ff06939afacc2,17,2,5,2,9545,Andrey Kurilin,akurilin,"Fix neutron job

+ temporary mark cinder job as non-voting

Change-Id: Ia5f965e81f903178c24e2ba00bbf8b89fb4be8b8
"
openstack%2Foslo.limit~master~I1ccf40d4456d5afcfbe65f826d14b16142cfc2d9,openstack/oslo.limit,master,bug/1835106,I1ccf40d4456d5afcfbe65f826d14b16142cfc2d9,Allow configuration per service and region name,NEW,2020-05-11 19:07:47.000000000,2021-06-22 16:07:31.000000000,,252,19,8,726929,adc1d3ed273f23ba0334350d6b00acf06b9f69ea,25,4,7,6,28595,Victor Coutellier,alistarle,"Allow configuration per service and region name

Currently oslo_limit only allow configuration per endpoint_id.
This commit allow configuration per service and region name in
order to ease the generation of configuration file for deployer.

In both endpoint_id and service/region name are specified,
endpoint_id preceed.

Closes-Bug: #1835106
Depends-on: https://review.opendev.org/726621
Depends-on: https://review.opendev.org/733881
Change-Id: I1ccf40d4456d5afcfbe65f826d14b16142cfc2d9
"
openstack%2Ftripleo-ansible~master~Idc71eb176acc5e63c23f62147082d562b0085aea,openstack/tripleo-ansible,master,fix-vip-provision-doc,Idc71eb176acc5e63c23f62147082d562b0085aea,Fix vip provision module documentation,MERGED,2021-06-06 20:20:56.000000000,2021-06-22 15:55:10.000000000,2021-06-22 15:53:46.000000000,2,3,0,795003,6fba5344a222bd29fbecdb31276d75e707b08afc,10,5,1,1,24245,Harald Jensås,harald.jensas,"Fix vip provision module documentation

The short_description and description was incorrect.

Change-Id: Idc71eb176acc5e63c23f62147082d562b0085aea
"
openstack%2Fironic~stable%2Fvictoria~I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3,openstack/ironic,stable/victoria,secure-rbac-stable/victoria,I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3,Fix node detail instance_uuid request handling,MERGED,2021-06-21 09:04:25.000000000,2021-06-22 15:35:19.000000000,2021-06-22 15:33:30.000000000,138,58,0,797253,755c75e2e82ee6a7addfac3b7a30fafefb36ab56,9,3,1,4,23851,Riccardo Pittau,elfosardo,"Fix node detail instance_uuid request handling

The instance_uuid handling on the detailed node information
endpoint of the api (/v1/nodes/detail?instance_uuid=<uuid>),
which is used by services such as Nova for explicit node status
lookups, previously had special conditional logic surrounding it
which skipped the inclusion of the API requestor project-id, from
being incorporated into the database query.

Ultimately, this allowed an authenticated user to obtain a partially
redacted node entry where sensitive informational fields were scrubbed
from the response payload.

With this fix, queries for an explicit instance_uuid now follow the
standard path inside the Ironic API to the database which includes
inclusion of a requestor Project-ID if required by configured policy.

Change-Id: I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3
Story: 2008976
Task: 42620
(cherry picked from commit be3c153d56e7f94a128438adcc5c717c50336bed)
"
openstack%2Foslo.config~stable%2Fussuri~I407b2c9bc6e9c1cd5b070a1cdca7c0eabe19b0ca,openstack/oslo.config,stable/ussuri,,I407b2c9bc6e9c1cd5b070a1cdca7c0eabe19b0ca,remove lower-constraints.txt,MERGED,2021-06-01 09:43:50.000000000,2021-06-22 15:21:03.000000000,2021-06-22 15:17:11.000000000,0,63,0,793912,63213f8eca8bafe8b117e92b921457d62d9647e8,12,3,2,3,31245,Daniel Bengtsson,damani42,"remove lower-constraints.txt

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Co-Authored-By: Moisés Guimarães de Medeiros <moguimar@redhat.com>
Change-Id: I407b2c9bc6e9c1cd5b070a1cdca7c0eabe19b0ca
(cherry picked from commit f4e54d934353f87feb08182079c11d94255a7824)
"
openstack%2Fpython-tripleoclient~master~I8f2f7700d0dd5a6c7459c8bc69d7937d72d23687,openstack/python-tripleoclient,master,,I8f2f7700d0dd5a6c7459c8bc69d7937d72d23687,Use {{role.name}}Services parameters,MERGED,2021-06-19 07:30:52.000000000,2021-06-22 15:15:22.000000000,2021-06-22 15:13:49.000000000,30,125,0,797174,e895c326355515dd3f1607780aeed241eaeb5777,23,4,1,4,8833,Rabi Mishra,rabi,"Use {{role.name}}Services parameters

This would ensure that we don't build service chains for
not enabled roles and cip would not try to pull images
for services mapped to OS::Heat::None.

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/797173
Change-Id: I8f2f7700d0dd5a6c7459c8bc69d7937d72d23687
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I749714c1f0af3787020f3e9b88f752d272b91d37,openstack/tripleo-heat-templates,stable/ussuri,bug/1930151-stable/ussuri,I749714c1f0af3787020f3e9b88f752d272b91d37,Always run network config for undercloud,MERGED,2021-06-16 19:14:07.000000000,2021-06-22 15:12:28.000000000,2021-06-17 20:23:57.000000000,1,0,0,796730,4efcf186259efd22ae56357bd378e32231a0f880,9,3,1,1,14985,Alex Schultz,mwhahaha,"Always run network config for undercloud

We need to ensure that os-net-config is run on upgrades. On the
undercloud we want the os-net-config to always run so let's set the
NetworkDeploymentAction correctly.

Change-Id: I749714c1f0af3787020f3e9b88f752d272b91d37
Related-Bug: #1930151
(cherry picked from commit 38ca24be2feda9baac7f5ddff221dcb5b2222240)
"
openstack%2Fironic~stable%2Fwallaby~I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3,openstack/ironic,stable/wallaby,secure-rbac-stable/wallaby,I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3,Fix node detail instance_uuid request handling,MERGED,2021-06-21 09:03:35.000000000,2021-06-22 15:06:05.000000000,2021-06-22 15:01:41.000000000,138,58,0,797212,adc4f7657a555e2e81088911e23bf68b4043a9a5,13,3,1,4,23851,Riccardo Pittau,elfosardo,"Fix node detail instance_uuid request handling

The instance_uuid handling on the detailed node information
endpoint of the api (/v1/nodes/detail?instance_uuid=<uuid>),
which is used by services such as Nova for explicit node status
lookups, previously had special conditional logic surrounding it
which skipped the inclusion of the API requestor project-id, from
being incorporated into the database query.

Ultimately, this allowed an authenticated user to obtain a partially
redacted node entry where sensitive informational fields were scrubbed
from the response payload.

With this fix, queries for an explicit instance_uuid now follow the
standard path inside the Ironic API to the database which includes
inclusion of a requestor Project-ID if required by configured policy.

Change-Id: I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3
Story: 2008976
Task: 42620
(cherry picked from commit be3c153d56e7f94a128438adcc5c717c50336bed)
"
openstack%2Fironic~stable%2Fwallaby~I4e7d2a555eff48ee164d4ecce53156bacbc68da4,openstack/ironic,stable/wallaby,,I4e7d2a555eff48ee164d4ecce53156bacbc68da4,Handle non-key-value params in [inspector]extra_kernel_params,MERGED,2021-06-16 12:18:36.000000000,2021-06-22 15:04:37.000000000,2021-06-22 15:01:05.000000000,49,19,0,796638,566cff59a4005122b1163a0db6b371f762e327de,20,4,2,7,10239,Dmitry Tantsur,dtantsur,"Handle non-key-value params in [inspector]extra_kernel_params

Since we use a dict for passing them internally, use None value for
single-value params.

Conflicts:
	ironic/tests/unit/drivers/modules/test_image_utils.py

Wallaby: adjusted pxe_utils unit tests to pass.

Change-Id: I4e7d2a555eff48ee164d4ecce53156bacbc68da4
Story: #2008963
Task: #42599
(cherry picked from commit 3824912f0a54d5fc9d58e9d5bedf316fcdab560a)
"
openstack%2Ftripleo-heat-templates~master~I749714c1f0af3787020f3e9b88f752d272b91d37,openstack/tripleo-heat-templates,master,bug/1930151,I749714c1f0af3787020f3e9b88f752d272b91d37,Always run network config for undercloud,MERGED,2021-06-16 17:03:12.000000000,2021-06-22 15:03:49.000000000,2021-06-22 15:03:49.000000000,1,0,2,796712,3b043e4953393c7723553c84cc094a25902cd083,27,7,2,1,14985,Alex Schultz,mwhahaha,"Always run network config for undercloud

We need to ensure that os-net-config is run on upgrades. On the
undercloud we want the os-net-config to always run so let's set the
NetworkDeploymentAction correctly.

Change-Id: I749714c1f0af3787020f3e9b88f752d272b91d37
Related-Bug: #1930151
"
openstack%2Ftripleo-ansible~master~Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3,openstack/tripleo-ansible,master,ceph_conf_mgmt,Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3,Make sure the _admin label is present on mons,MERGED,2021-06-16 13:48:49.000000000,2021-06-22 14:56:53.000000000,2021-06-22 14:55:28.000000000,31,12,22,796677,2784b2795774477213600c1355aab1c51218e202,75,6,30,7,25402,Francesco Pantano,fmount,"Make sure the _admin label is present on mons

If a ceph mon does not have the _admin label, then the
hosts ceph.conf may be deleted. All mons are considered
admin hosts, so apply this label to any host with the
mon service.
In addition, this change fixes the default alertmanager
port (it should be 9093 as 9094 is reserved for clustering
purposes) and the cluster_name is explicitly passed to
the mkspec tasks.

Change-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3
"
openstack%2Freleases~master~Ifd09ca163f2073bb1b89ea0c24c26b85367b5691,openstack/releases,master,trailing-wallaby,Ifd09ca163f2073bb1b89ea0c24c26b85367b5691,Release rc2 for Kolla projects,MERGED,2021-06-22 08:43:52.000000000,2021-06-22 14:41:03.000000000,2021-06-22 14:41:03.000000000,16,0,0,797413,95444eaebf191ce433cf92a3c545fe2083321db7,14,5,1,3,14826,Mark Goddard,mgoddard,"Release rc2 for Kolla projects

* kolla
* kolla-ansible
* kayobe

Change-Id: Ifd09ca163f2073bb1b89ea0c24c26b85367b5691
"
openstack%2Ftripleo-heat-templates~master~Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a,openstack/tripleo-heat-templates,master,libvirt_ssl,Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a,Simplify libvirt/qemu ssl certificates,MERGED,2021-05-05 07:38:43.000000000,2021-06-22 14:37:22.000000000,2021-06-22 14:34:08.000000000,101,163,5,789718,d20f295f3a8e6a5792528fa79f9797a610bfefc7,50,9,11,2,17216,Martin Schuppert,mcschupp,"Simplify libvirt/qemu ssl certificates

On the compute nodes, right now ssl certificates got created for
libvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required
because the all services use the same NovaLibvirtNetwork network and
therefore multiple certificates for the same hostname get created.
Also from qemu point of view, if default_tls_x509_cert_dir and
default_tls_x509_verify parameters get set for all certificates, there
is no need to specify any of the other *_tls* config options. From [1]

The intention (of libvirt) is that you can just use the
default_tls_x509_* config attributes so that you don’t need to set any
other *_tls* parameters, unless_ you need different certificates for
some services. The rationale for that is that some services (e.g.
migration / NBD) are only exposed to internal infrastructure; while
some sevices (VNC, Spice) might be exposed publically, so might need
different certificates. For OpenStack this does not matter, though,
we will stick with the defaults.

Therefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile
and InternalTLSQemuCAFile get removed (which defaulted to
/etc/ipa/ca.crt anyways) and just use InternalTLSCAFile.

Also all cerfificates get created when EnableInternalTLS is true to
and mount all SSL certificates from the host. This is to prevent
certificate information is not available in a qemu's process container
environment if features get switched later, which has shown to be
problematic.

[1] https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html

Change-Id: Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a
"
openstack%2Ftripleo-heat-templates~master~I6783ed86428d80c7237ca6310e57421101ea1fe8,openstack/tripleo-heat-templates,master,,I6783ed86428d80c7237ca6310e57421101ea1fe8,Neutron: Remove unused NeutronMechanismDrivers from dhcp-agent template,MERGED,2021-06-08 13:01:39.000000000,2021-06-22 14:33:54.000000000,2021-06-22 14:33:54.000000000,0,10,0,795316,7dbcb415766031611166b18825f24de66f522472,9,5,1,1,9816,Takashi Kajinami,kajinamit,"Neutron: Remove unused NeutronMechanismDrivers from dhcp-agent template

The NeutronMechanismDrivers parameter is no longer used by dhcp-agent
template since check for OVN+AZ was removed by [1].

[1] 9283e44d16214f148e04a66d248514b170dad07f

Change-Id: I6783ed86428d80c7237ca6310e57421101ea1fe8
"
openstack%2Fcastellan~master~Id9b9f5c3a99f6b3717a69a65e1aadc25aa4d48b4,openstack/castellan,master,,Id9b9f5c3a99f6b3717a69a65e1aadc25aa4d48b4,Changed minversion in tox to 3.18.0,MERGED,2021-06-10 01:31:13.000000000,2021-06-22 14:26:10.000000000,2021-06-22 14:24:38.000000000,3,3,0,795716,2073f450bee172da1b94f333d9b8751262c8f340,7,2,1,1,32291,wushiming,wushiming,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Id9b9f5c3a99f6b3717a69a65e1aadc25aa4d48b4
"
openstack%2Fopenstack-ansible~master~I680484779ea13410a414a45c8769697d422c3ec9,openstack/openstack-ansible,master,789376,I680484779ea13410a414a45c8769697d422c3ec9,[doc] Add OS compatability matrix,MERGED,2021-05-03 15:35:53.000000000,2021-06-22 14:14:44.000000000,2021-06-22 14:11:44.000000000,247,0,6,789376,f1e43fbe7986723a7085204a39e6f12ea19c29a4,40,4,15,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"[doc] Add OS compatability matrix

Change-Id: I680484779ea13410a414a45c8769697d422c3ec9
"
openstack%2Foslo.db~master~I86c077215e3256a050d22b00e89d240ef7dbcbff,openstack/oslo.db,master,,I86c077215e3256a050d22b00e89d240ef7dbcbff,Changed minversion in tox to 3.18.0,MERGED,2021-06-04 08:41:11.000000000,2021-06-22 13:59:56.000000000,2021-06-22 13:58:31.000000000,4,4,3,794745,bd3ead2b5eaac6f944b27949ebfa1eb765a8508c,13,3,2,1,32326,YuehuiLei,YuehuiLei,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I86c077215e3256a050d22b00e89d240ef7dbcbff
"
openstack%2Fneutron~master~Iab3e242b297f8484c120c8999155abd908cf6d6e,openstack/neutron,master,delete_port_fip_opt,Iab3e242b297f8484c120c8999155abd908cf6d6e,Do a quick FIP check on port delete,MERGED,2021-04-09 12:52:39.000000000,2021-06-22 13:51:18.000000000,2021-06-22 13:45:51.000000000,9,1,13,785633,fd8b88ef542197f85e42cfe721d3d5217905acc8,146,7,8,1,5948,Oleg Bondarev,obondarev,"Do a quick FIP check on port delete

Get FloatingIP object results in a quite heavy DB request.
On port delete it's in fact done 2 times: lines 1628
and 1635 in current patch's l3_db.py (please see diff).

A simple and quick check at the beginning significantly
improves performance for deleting ports not associated with
floating IPs, which seems the most common case.

Also add the check to _get_floatingips_by_port_id() to improve
performance of create and update ports not associated with
floating IPs. For associated ports the overhead should be
negligible.

Change-Id: Iab3e242b297f8484c120c8999155abd908cf6d6e
"
openstack%2Foslo.tools~master~Id20f1ee2725533e2a06dc6798ead3cc9d70c35eb,openstack/oslo.tools,master,tox-skipsdist,Id20f1ee2725533e2a06dc6798ead3cc9d70c35eb,Correct the tox option for skipping sdist generation,MERGED,2021-06-17 17:05:43.000000000,2021-06-22 13:51:00.000000000,2021-06-22 13:51:00.000000000,1,1,0,796911,02c638fda10edcaf4e11fa1ac8ca8a80b933ce36,6,2,1,1,5263,Jeremy Stanley,fungi,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: Id20f1ee2725533e2a06dc6798ead3cc9d70c35eb
"
openstack%2Fneutron~master~Ic08ca5b167db4884efa07112cf9a6c3637e1b827,openstack/neutron,master,bug/1923633,Ic08ca5b167db4884efa07112cf9a6c3637e1b827,Force to close http connection after notify about HA router status,MERGED,2021-06-17 13:44:47.000000000,2021-06-22 13:48:50.000000000,2021-06-22 13:45:20.000000000,2,1,2,796844,976cba61331702e1a8e4781af478fa4676afd13d,38,6,2,1,11975,Slawek Kaplonski,slaweq,"Force to close http connection after notify about HA router status

Neutron-keepalived-state-change-monitor process is using HTTP to notify
L3 agent that state of the HA router was changed. It is done through
unix socket.
With HTTP 1.1 connection isn't closed properly and if
router's state was changed more than once in short time, it could happen
that wsgi worker on the L3 agent's side didn't process second request at
all. That caused problem with transitioning router to master state after
creation.
Request to close connection should be explicitly defined in the header
[1] and this patch adds ""connection: close"" header to the headers send in
such request to do exactly that.

[1] https://www.geeksforgeeks.org/http-headers-connection/

Closes-Bug: #1923633
Change-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827
"
openstack%2Fneutron~master~Ie8b6eb88e046c172d99212f966bdee327f42ed37,openstack/neutron,master,feature/allow-to-create-record-on-default-zone-from-tenants,Ie8b6eb88e046c172d99212f966bdee327f42ed37,Allow to parse keywords in dns labels,MERGED,2019-10-03 07:42:03.000000000,2021-06-22 13:34:29.000000000,2021-06-22 13:31:32.000000000,491,8,82,686343,7727fc07e682daa9a91230d2d17d0b8234af0c39,201,16,31,10,30900,Gregoire Mahe,gregoiremahe,"Allow to parse keywords in dns labels

Co-Authored-By: Slawek Kaplonski <skaplons@redhat.com>

Related-Bug: #1843218
Change-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37
"
openstack%2Fneutron~stable%2Fwallaby~I692219200535df3af1265248e88c96947e4d8f9d,openstack/neutron,stable/wallaby,bug/1926693-stable/wallaby,I692219200535df3af1265248e88c96947e4d8f9d,Add a single option to override the default hypervisor name,MERGED,2021-06-15 10:22:26.000000000,2021-06-22 13:23:27.000000000,2021-06-22 13:21:35.000000000,55,11,0,796230,5f57525c9d7bed778fc481019008b312a58e17c4,22,3,2,7,9816,Takashi Kajinami,kajinamit,"Add a single option to override the default hypervisor name

Currently neutron uses socket.gethostname() to determine hypervisor
names, but this implementation is not fully compatible with libvirt
driver which uses canonical name for hypervisor name.
This incompatibility causes an issue with root resource provider
detection if a deployment uses FQDNs as canonicanl names.

This change introduces the resource_provider_default_hypervisor option,
so that users can override the hypervisor name by the single option(*1)
instead of setting two list options(*2). This is especially useful if
the deployment has multiple bridges or interfaces.

(*1)
[OVS]
resource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\
br-data3:1024,1024,br-data4,1024:1024
resource_provider_default_hypervisor=compute0.mydomain

(*2)
[OVS]
resource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\
br-data3:1024,1024,br-data4,1024:1024
resource_provider_hypervisors=br-data1:compute0.mydomain,br-data2:\
compute0.mydomain,br-data3:compute0.mydomain,br-data4:compute0.mydomain

Related-Bug: #1926693
Change-Id: I692219200535df3af1265248e88c96947e4d8f9d
(cherry picked from commit ddf0fef28b7095724c8ba27f3275d0dad2252251)
"
openstack%2Foslo.db~master~Ie1513f9b4911e54ce6714074eb2dc4052323ef42,openstack/oslo.db,master,deprecation-warning,Ie1513f9b4911e54ce6714074eb2dc4052323ef42,Replace getargspec with getfullargspec,MERGED,2021-05-11 01:37:48.000000000,2021-06-22 13:19:11.000000000,2021-06-22 13:17:32.000000000,2,22,3,790539,8064e184059385a44d7834dc5924e14ae6ed6240,13,5,1,2,32029,likui,likui,"Replace getargspec with getfullargspec

getargspec() is deprecated since py3

[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Change-Id: Ie1513f9b4911e54ce6714074eb2dc4052323ef42
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I78673b6a85f1c872e70026da82124d1ba2326562,openstack/networking-ovn,stable/train,bug/1932421,I78673b6a85f1c872e70026da82124d1ba2326562,ovn: Don't use dict.remove() for filtering dhcp ports in db-sync,MERGED,2021-06-18 07:58:18.000000000,2021-06-22 13:13:19.000000000,2021-06-22 13:11:34.000000000,8,8,0,797001,420b45a5eea8458a7d7c79fdd25c97f384a11c1a,17,4,1,1,8655,Jakub Libosvar,jlibosva,"ovn: Don't use dict.remove() for filtering dhcp ports in db-sync

The db-sync script removes ovnmeta ports because sometimes removing
reserved_dhcp_port in the loop doesn't work.

Closes-Bug: #1932421

Conflicts:
	networking_ovn/ovn_db_sync.py

Change-Id: I78673b6a85f1c872e70026da82124d1ba2326562
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 0aab51c9f8be1d42e5b578493cefd384ee07665b)
"
openstack%2Freleases~master~Iaeae1543cba016acd4bc6a4a89703ed344fdc5d5,openstack/releases,master,ocata-eol,Iaeae1543cba016acd4bc6a4a89703ed344fdc5d5,[fuel] Transition Ocata to End of Life,MERGED,2021-06-09 18:47:21.000000000,2021-06-22 13:09:54.000000000,2021-06-22 13:09:54.000000000,24,0,0,795652,d4bee8d3483d18cc35a450d9b96d1df2548e65c3,7,3,1,1,17685,Elod Illes,elod.illes,"[fuel] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Iaeae1543cba016acd4bc6a4a89703ed344fdc5d5
"
openstack%2Freleases~master~I68157a362979bac503e597d56e7ec8275beb76e9,openstack/releases,master,tag-panko-as-retired,I68157a362979bac503e597d56e7ec8275beb76e9,retire panko and python-pankoclient,ABANDONED,2021-06-16 14:57:48.000000000,2021-06-22 12:57:49.000000000,,20,20,0,796689,4f22f8ead3308f408cafa38387b7abe070ccb0ec,8,2,2,10,28522,Hervé Beraud,hberaud,"retire panko and python-pankoclient

Change-Id: I68157a362979bac503e597d56e7ec8275beb76e9
"
openstack%2Fopenstack-ansible-os_nova~stable%2Fussuri~Ie004f845138a23095f6e02138401511054975a01,openstack/openstack-ansible-os_nova,stable/ussuri,,Ie004f845138a23095f6e02138401511054975a01,Use version from repo_packages for SPICE HTML5,MERGED,2021-06-21 13:03:14.000000000,2021-06-22 12:48:15.000000000,2021-06-22 12:47:02.000000000,2,2,0,797272,e970ca0038820ab5c6573e45bfcacc834866b21d,10,3,2,1,11290,Gaudenz Steinlin,gaudenz,"Use version from repo_packages for SPICE HTML5

Use the version pinned in repo_packages/nova_consoles.yml in
openstack-ansible to install the SPICE HTML5 client. Without this change
the version pin in openstack-ansible has no effect and the role always
installs master.

This is the same change as already done for the noVNC console in commit
1de7b24e701bda75e0fc1d019510f71f16608502.

Change-Id: Ie004f845138a23095f6e02138401511054975a01
(cherry picked from commit 9244767bcdb613a984d69699e56467a762cb4f14)
"
openstack%2Foslo.db~master~I30f236c9a3d3d4e278c5551603be3091157387af,openstack/oslo.db,master,cleanup_disposes,I30f236c9a3d3d4e278c5551603be3091157387af,clean up test engine disposal,ABANDONED,2020-11-18 19:26:55.000000000,2021-06-22 12:40:07.000000000,,20,6,3,763248,11bdb891dd4dbeb5c324f23c4e2df4e97804c877,5,1,1,6,11816,mike_mp@zzzcomputing.com,zzzeek,"clean up test engine disposal

wip

Change-Id: I30f236c9a3d3d4e278c5551603be3091157387af
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~Id0a75b0f6a61803949996a72ff38bba4dea29f62,openstack/tripleo-upgrade,stable/train,,Id0a75b0f6a61803949996a72ff38bba4dea29f62,Also disable kernel modules before leapp,ABANDONED,2021-06-22 11:19:11.000000000,2021-06-22 12:13:46.000000000,,17,5,0,797429,70eed32c5d174950b70e107a583b1a6e1c7840ca,2,0,1,1,6816,Jesse Pretorius,jesse-pretorius,"Also disable kernel modules before leapp

During the leapp process, somehow these kernel modules
are being reloaded. In this patch we also blacklist
them to try and prevent reloading.

Related: rhbz#1962365

Change-Id: Id0a75b0f6a61803949996a72ff38bba4dea29f62
"
openstack%2Fkayobe-config-dev~stable%2Fwallaby~I51e1d05cf6382ce077ebd70f6306b54511d575ce,openstack/kayobe-config-dev,stable/wallaby,,I51e1d05cf6382ce077ebd70f6306b54511d575ce,CI: Switch to CentOS 8 stream jobs,MERGED,2021-06-22 07:40:04.000000000,2021-06-22 11:36:23.000000000,2021-06-22 11:36:23.000000000,14,14,0,797388,b2f0a0ac7748491cc512830c3873e8731d2a7210,7,3,1,1,15197,Pierre Riteau,priteau,"CI: Switch to CentOS 8 stream jobs

Change-Id: I51e1d05cf6382ce077ebd70f6306b54511d575ce
(cherry picked from commit 487a92db15daf0532fc7c0c405f552ffc40b4a63)
"
openstack%2Fnova~stable%2Fvictoria~I15c3119857970c38541f4de270bd561166334548,openstack/nova,stable/victoria,bug/1865223,I15c3119857970c38541f4de270bd561166334548,[neutron] Get only ID and name of the SGs from Neutron,MERGED,2021-04-21 07:15:05.000000000,2021-06-22 11:20:06.000000000,2021-06-22 11:18:27.000000000,7,1,0,787252,f7d84db5876b30d6849877799c08ebc65ac077ca,314,7,4,1,11975,Slawek Kaplonski,slaweq,"[neutron] Get only ID and name of the SGs from Neutron

During the VM booting process Nova asks Neutron for the security groups
of the project. If there are no any fields specified, Neutron will
prepare list of security groups with all fields, including rules.
In case if project got many SGs, it may take long time as rules needs to
be loaded separately for each SG on Neutron's side.

During booting of the VM, Nova really needs only ""id"" and ""name"" of the
security groups so this patch limits request to only those 2 fields.

This lazy loading of the SG rules was introduced in Neutron in [1] and
[2].

[1] https://review.opendev.org/#/c/630401/
[2] https://review.opendev.org/#/c/637407/

Related-Bug: #1865223
Change-Id: I15c3119857970c38541f4de270bd561166334548
(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)
(cherry picked from commit 4f49545afaf3cd453796d48ba96b9a82d11c01bf)
"
openstack%2Fopenstack-ansible-os_nova~stable%2Fstein~Ie004f845138a23095f6e02138401511054975a01,openstack/openstack-ansible-os_nova,stable/stein,,Ie004f845138a23095f6e02138401511054975a01,Use version from repo_packages for SPICE HTML5,MERGED,2021-06-21 13:03:38.000000000,2021-06-22 11:04:33.000000000,2021-06-22 11:03:14.000000000,2,2,0,797293,ed0a2e0ba0bff50f0720dc8f677ebc9ffa1e553a,10,3,2,1,11290,Gaudenz Steinlin,gaudenz,"Use version from repo_packages for SPICE HTML5

Use the version pinned in repo_packages/nova_consoles.yml in
openstack-ansible to install the SPICE HTML5 client. Without this change
the version pin in openstack-ansible has no effect and the role always
installs master.

This is the same change as already done for the noVNC console in commit
1de7b24e701bda75e0fc1d019510f71f16608502.

Change-Id: Ie004f845138a23095f6e02138401511054975a01
(cherry picked from commit 9244767bcdb613a984d69699e56467a762cb4f14)
"
openstack%2Ftrove~master~Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6,openstack/trove,master,bridge-network,Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6,Use bridge network for db container,MERGED,2021-06-18 05:17:04.000000000,2021-06-22 10:55:54.000000000,2021-06-22 10:54:15.000000000,71,11,0,796988,b050996b9f6df738a0f68ac36a5b5f17f8bb2bc2,25,2,10,11,6732,Lingxian Kong,kong,"Use bridge network for db container

- Changed the network mode of database container to ""bridge"" and exposed
  the service ports.
- Use socket file to connect with the database.
- Upgrade the backup container image for postgressql.

Change-Id: Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6
"
openstack%2Fneutron~stable%2Fussuri~Ia8d798955cb693a0ae16c8c8428da22977489a51,openstack/neutron,stable/ussuri,bug/1933086,Ia8d798955cb693a0ae16c8c8428da22977489a51,[stable/ussuri] Set USE_PYTHON3 for neutron-tempest-slow-py3 job,MERGED,2021-06-21 10:12:09.000000000,2021-06-22 10:51:43.000000000,2021-06-22 10:48:51.000000000,4,0,4,797273,71779033d4fb3a5ba75196e8f23ac1d864fda359,13,5,2,1,21798,Bernard Cafarelli,bcafarel,"[stable/ussuri] Set USE_PYTHON3 for neutron-tempest-slow-py3 job

While parent job already sets this variable, it seems the job definition
looses it, generating job failures in gates trying to use python 2 for
pip as reported in linked bug.

Change-Id: Ia8d798955cb693a0ae16c8c8428da22977489a51
Closes-Bug: #1933086
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Idb311e18b437fba696759ecb1cf2a6b4803aa5c5,openstack/kolla-ansible,stable/wallaby,drop-zfssa-stable/wallaby,Idb311e18b437fba696759ecb1cf2a6b4803aa5c5,Drop support for Cinder ZFSSA backend,MERGED,2021-06-22 06:29:00.000000000,2021-06-22 10:42:35.000000000,2021-06-22 10:40:53.000000000,7,38,0,797395,86bf12d2f7edd5e25ccc2092ad249980eeb46e79,10,3,1,7,30491,Radosław Piliszek,yoctozepto,"Drop support for Cinder ZFSSA backend

Following upstream which removed ZFSSA support in Ussuri [1].

[1] https://review.opendev.org/c/openstack/cinder/+/690137

Change-Id: Idb311e18b437fba696759ecb1cf2a6b4803aa5c5
(cherry picked from commit 0158221fd2972c7c0c3733994f985feb8318121d)
"
openstack%2Fkolla-ansible~stable%2Fussuri~I71f45ba5b9d1d2227c95633d3de51e2ccd42a467,openstack/kolla-ansible,stable/ussuri,,I71f45ba5b9d1d2227c95633d3de51e2ccd42a467,chronyd crash loop if Debian server is rebooted,MERGED,2021-06-21 09:32:52.000000000,2021-06-22 10:42:27.000000000,2021-06-22 10:41:01.000000000,7,2,0,797256,ccbdf9202eb64261cd3f4390dc948d0819160bd1,14,4,1,2,14826,Mark Goddard,mgoddard,"chronyd crash loop if Debian server is rebooted

This patch fixes the constant chrony container crash loop after (Debian 10) server is rebooted,
as described in Bug-ID: #1915528.

Due to permissions issue, before this fix is applied chronyd process will be exiting with
root cause error message:

Fatal error : Could not open configuration file /etc/chrony/chrony.conf : Permission denied
This has to do with priviledges we configured for chrony. Relaxing them fixes the issue.
Tested on top of stable/victoria and Debian 10 Buster.

Not tested on CentOS/RHEL. If this does not work well on RHEL/CentOS we can maybe parametrise
the owner and make it configurable (just one idea).

Closes-Bug: #1915528
Change-Id: I71f45ba5b9d1d2227c95633d3de51e2ccd42a467
(cherry picked from commit 21ccae12f7937201cff2f4cf08deefe57b7594e2)
"
openstack%2Fopenstacksdk~feature%2Fr1~I01c1876cf3b08c5598d61181a0ae7ad85d212420,openstack/openstacksdk,feature/r1,,I01c1876cf3b08c5598d61181a0ae7ad85d212420,DNM Testing zuul jobs,ABANDONED,2021-05-14 19:06:02.000000000,2021-06-22 10:39:13.000000000,,2,0,0,791527,d589ac1d98c06d3a8f2d3e16068edca13f78cb36,11,1,6,1,2,Monty Taylor,mordred,"DNM Testing zuul jobs

Change-Id: I01c1876cf3b08c5598d61181a0ae7ad85d212420
Depends-On: https://review.opendev.org/c/openstack/devstack/+/796035
"
openstack%2Ftripleo-quickstart~master~I3faba9d3488a596d27fdde9974f75b69e5de5d52,openstack/tripleo-quickstart,master,,I3faba9d3488a596d27fdde9974f75b69e5de5d52,Use OS_CLOUD env variable,MERGED,2021-06-21 09:05:03.000000000,2021-06-22 10:31:00.000000000,2021-06-22 10:26:02.000000000,8,8,0,797246,f1533a36c040a83dd3bc85c90b8c3534f6da21b7,17,9,1,1,8833,Rabi Mishra,rabi,"Use OS_CLOUD env variable

This would use OS_CLOUD if set else would fallback to
old way.

Aso removes old novaclient related logic.

Change-Id: I3faba9d3488a596d27fdde9974f75b69e5de5d52
"
openstack%2Ftripleo-quickstart~master~I81469dca320a7d18abea300ed48c03fd32d35325,openstack/tripleo-quickstart,master,,I81469dca320a7d18abea300ed48c03fd32d35325,Switch standalone libvirt c8-stream image,MERGED,2021-06-21 12:52:10.000000000,2021-06-22 10:29:53.000000000,2021-06-22 10:25:52.000000000,1,1,0,797290,65572266fb61e53e34c292bbf3aa376371f7fb2d,13,6,2,1,13861,yatin,yatinkarel,"Switch standalone libvirt c8-stream image

Change-Id: I81469dca320a7d18abea300ed48c03fd32d35325
"
openstack%2Ftripleo-common~master~I7805c9eceec5d85fac9298ce5776542f977417ca,openstack/tripleo-common,master,bug/1932584,I7805c9eceec5d85fac9298ce5776542f977417ca,Refactor enabled_services for roles,MERGED,2021-06-19 07:25:23.000000000,2021-06-22 10:29:26.000000000,2021-06-22 10:25:57.000000000,45,26,0,797173,21710a412ca1d715682c8ebd722ac379e63b09f9,20,5,1,2,8833,Rabi Mishra,rabi,"Refactor enabled_services for roles

This refactors get_enabled_services() utility functions for us
to get the {{role.name}}Sevices parameters that can be used
to filter the services during deployment and cip.

Change-Id: I7805c9eceec5d85fac9298ce5776542f977417ca
"
openstack%2Ftripleo-validations~stable%2Fussuri~I280cea451114a0c63bec9ae0f4dc2c85e3d3de90,openstack/tripleo-validations,stable/ussuri,linters/yaml/indent,I280cea451114a0c63bec9ae0f4dc2c85e3d3de90,Enabling indentation rule for yamllint.,MERGED,2021-06-21 07:50:16.000000000,2021-06-22 10:26:26.000000000,2021-06-22 10:26:26.000000000,90,87,0,797236,8c3b847fed7360e6ca52dad3b99c0a015349d20c,8,3,1,4,32926,Jiri Podivin,jpodivin,"Enabling indentation rule for yamllint.

With the exception of release notes, yaml files will
now have to be indented with a consistent number of whitespace chars.

As described:
https://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation

Also fixes indentaion for the zuul.d/molecule.yaml.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90
(cherry picked from commit c1277a5e5cc6af20cebe432be34d5b82624a3e6c)
"
openstack%2Ftripleo-validations~stable%2Fvictoria~I280cea451114a0c63bec9ae0f4dc2c85e3d3de90,openstack/tripleo-validations,stable/victoria,linters/yaml/indent,I280cea451114a0c63bec9ae0f4dc2c85e3d3de90,Enabling indentation rule for yamllint.,MERGED,2021-06-21 07:34:35.000000000,2021-06-22 10:26:22.000000000,2021-06-22 10:26:22.000000000,12,10,4,797234,92aaa111f495f38d3bad6b1acb92044a104e2932,16,3,3,2,32926,Jiri Podivin,jpodivin,"Enabling indentation rule for yamllint.

With the exception of release notes, yaml files will
now have to be indented with a consistent number of whitespace chars.

As described:
https://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation

Also fixes indentaion for the zuul.d/molecule.yaml.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90
(cherry picked from commit c1277a5e5cc6af20cebe432be34d5b82624a3e6c)
"
openstack%2Ftripleo-validations~stable%2Fwallaby~I280cea451114a0c63bec9ae0f4dc2c85e3d3de90,openstack/tripleo-validations,stable/wallaby,linters/yaml/indent,I280cea451114a0c63bec9ae0f4dc2c85e3d3de90,Enabling indentation rule for yamllint.,MERGED,2021-06-21 14:15:40.000000000,2021-06-22 10:26:19.000000000,2021-06-22 10:26:19.000000000,275,273,0,797317,d2571bc3ccadc4e34a57d5b9c54c38bf043e299a,7,7,1,2,32926,Jiri Podivin,jpodivin,"Enabling indentation rule for yamllint.

With the exception of release notes, yaml files will
now have to be indented with a consistent number of whitespace chars.

As described:
https://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation

Also fixes indentaion for the zuul.d/molecule.yaml.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90
(cherry picked from commit c1277a5e5cc6af20cebe432be34d5b82624a3e6c)
"
openstack%2Fmanila-ui~master~I6f4ce5434a6504ca037c867ce7b9b1ea8e852be4,openstack/manila-ui,master,bug/1933137,I6f4ce5434a6504ca037c867ce7b9b1ea8e852be4,[CI] Temporarily set integration test job to non-voting,MERGED,2021-06-21 19:10:46.000000000,2021-06-22 10:10:58.000000000,2021-06-22 10:08:48.000000000,4,2,0,797347,ba0749778bd799f67fd5633ea5e175c3aff0b5b5,9,3,1,1,16643,Goutham Pacha Ravi,gouthamr,"[CI] Temporarily set integration test job to non-voting

This failure has been determined to be unrelated to
changes that are currently in-flight. While we
investigate a fix, we can set this job to non-voting
to merge unrelated fixes/improvements in parallel.

Change-Id: I6f4ce5434a6504ca037c867ce7b9b1ea8e852be4
Partial-Bug: #1933137
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Foslo.db~master~I5ac9a4dcd76768d84aa2cee4343f2a2530899f2d,openstack/oslo.db,master,ed25519,I5ac9a4dcd76768d84aa2cee4343f2a2530899f2d,Add PyNaCl requirement to authenticate with auth_ed25519,ABANDONED,2020-10-06 12:13:05.000000000,2021-06-22 10:05:37.000000000,,1,0,6,756277,baa74598501584f2b62c898fe4fd4133b08a90e0,10,4,1,1,20778,Damien Ciabrini,dciabrin,"Add PyNaCl requirement to authenticate with auth_ed25519

Since PyMySQL 0.10.0, mariadb clients can connect to the
database with users that have been configured to authenticate
with auth_ed25519 [1], a new secure authentication protocol.

When auth_ed25519 is configured, PyMySQL requires PyNaCl
to answer to the crypto challenge that it receives from the
server. The authentication is transparent for oslo.db.

Since oslo.db depends on a PyMySQL version that supports
auth_ed25519, add PyNaCl to the list of requirements so that
oslo.db clients can always use auth_ed25519 if they want to.
By default, it is not is use and PyMySQL keeps connecting
as usual (PyNaCl is not used).

[1] https://mariadb.com/kb/en/authentication-plugin-ed25519

Related-Bug: #1866093
Change-Id: I5ac9a4dcd76768d84aa2cee4343f2a2530899f2d
"
openstack%2Fkolla-ansible~master~If2eb2678da506362b36ba8c8651281c00b309e34,openstack/kolla-ansible,master,ci-wait-longer-for-attachments,If2eb2678da506362b36ba8c8651281c00b309e34,[CI] Wait longer for volume attachments,ABANDONED,2021-06-20 18:21:23.000000000,2021-06-22 09:58:04.000000000,,4,61,0,797216,d5ffa44405d1453787537e9c4b7595711874f829,26,2,5,3,30491,Radosław Piliszek,yoctozepto,"[CI] Wait longer for volume attachments

Sometimes, the logs show no ERRORs and even that the attachment
was succesful but our CI job fails because the volume was still
reporting ""attaching"" status instead of the desired ""in-use"".

There could be a bug in Cinder that causes some updates to be
lost but we are good to wait a bit longer.
Perhaps this could even help catch a timeout on Cinder's side
instead of shutting down prematurely.

This also bumps the timeout for detachments to keep the two
in sync.

Change-Id: If2eb2678da506362b36ba8c8651281c00b309e34
"
openstack%2Fgovernance~master~I33ee89f690148780d4cd18c5dc5432f55f4ce168,openstack/governance,master,project-update,I33ee89f690148780d4cd18c5dc5432f55f4ce168,Panko is deprecated now,MERGED,2021-06-15 09:03:48.000000000,2021-06-22 09:56:00.000000000,2021-06-22 09:53:37.000000000,3,0,0,796408,1646ea2131bd2d58fd844b97d1604b8206a7c1ad,20,10,1,1,4264,Matthias Runge,mrunge,"Panko is deprecated now

Change-Id: I33ee89f690148780d4cd18c5dc5432f55f4ce168
"
openstack%2Foctavia-lib~master~I69f61d7d2708be0d3d1248438db3e5b7ee6376ca,openstack/octavia-lib,master,,I69f61d7d2708be0d3d1248438db3e5b7ee6376ca,DNM testing driver agent socket,ABANDONED,2021-04-09 06:37:04.000000000,2021-06-22 09:53:25.000000000,,19,4,6,785559,8aa1750e4c575f042ccf5c09668ebe91219f6a8f,7,1,3,1,29244,Gregory Thiemonge,gthiemonge,"DNM testing driver agent socket

Change-Id: I69f61d7d2708be0d3d1248438db3e5b7ee6376ca
"
openstack%2Foctavia~master~I6f200561af19af072c92a61ac2e92442d93239a9,openstack/octavia,master,,I6f200561af19af072c92a61ac2e92442d93239a9,DNM testing octavia-lib,ABANDONED,2021-04-09 07:35:10.000000000,2021-06-22 09:53:21.000000000,,45,52,0,785567,9e548ba0b21b8ae8d0e16ede1bb4b5b8740fa0e1,3,1,1,1,29244,Gregory Thiemonge,gthiemonge,"DNM testing octavia-lib

Depends-On: https://review.opendev.org/c/openstack/octavia-lib/+/785559
Change-Id: I6f200561af19af072c92a61ac2e92442d93239a9
"
openstack%2Fkolla~stable%2Fvictoria~I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581,openstack/kolla,stable/victoria,bug/1928408-stable/victoria,I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581,horizon: Correct location of monitoring_policy file,MERGED,2021-06-21 16:27:04.000000000,2021-06-22 09:49:23.000000000,2021-06-22 09:47:54.000000000,8,1,0,797300,32eb32f1b66416a2ccd385bd4afee765bf1eb712,10,4,1,2,14826,Mark Goddard,mgoddard,"horizon: Correct location of monitoring_policy file

Patch to correctly copy monitoring_policy.json into
/etc/openstack-dashboard.  Policy was misplaced, and not being enforced.

Note that by current default policy, admin doesn't not have Monitoring
access.

Closes-Bug: #1928408
Change-Id: I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581
(cherry picked from commit f68dfb88fdbad51322727575457b3d78a70466b1)
"
openstack%2Fnetworking-bagpipe~stable%2Ftrain~I42b41de1d837fb19023ab0c8d8f1e1f92fc3debe,openstack/networking-bagpipe,stable/train,clean-non-voting-jobs,I42b41de1d837fb19023ab0c8d8f1e1f92fc3debe,stable only: Fix failing doc build job,ABANDONED,2021-06-22 06:37:54.000000000,2021-06-22 09:41:31.000000000,,2,59,0,797386,68a6294313778cbf4b24d30cece4a1f33b85a617,3,1,1,3,8313,Lajos Katona,elajkat,"stable only: Fix failing doc build job

Change-Id: I42b41de1d837fb19023ab0c8d8f1e1f92fc3debe
"
openstack%2Fpython-octaviaclient~master~Ib43d484a6da32b0a9fe83b7b1ccd83e58b9f9499,openstack/python-octaviaclient,master,typos,Ib43d484a6da32b0a9fe83b7b1ccd83e58b9f9499,Fix some typos,MERGED,2021-06-10 21:30:49.000000000,2021-06-22 09:35:21.000000000,2021-06-22 09:33:13.000000000,60,60,14,795902,6ef3eed57378490ab9731cc5f3c0975aa0a4d4e9,13,4,2,12,1131,Brian Haley,brian-haley,"Fix some typos

Originally just noticed ""balncer"" but fixed a few more
while I was at it.

Still a Trivialfix

Change-Id: Ib43d484a6da32b0a9fe83b7b1ccd83e58b9f9499
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I7b20399d55c3de82c8aeddc3317c9972409217da,openstack/tripleo-heat-templates,stable/wallaby,cephadm_rbdmirror,I7b20399d55c3de82c8aeddc3317c9972409217da,Set tripleo_cephadm rbd mirror vars,MERGED,2021-06-18 14:45:02.000000000,2021-06-22 09:26:27.000000000,2021-06-22 09:26:27.000000000,24,1,0,797096,3737ec8fd39029c7b556fded1ad251c182caf1f3,17,7,3,1,25402,Francesco Pantano,fmount,"Set tripleo_cephadm rbd mirror vars

This patch introduces the logic of adding and setting the rbd mirror
parameters required, later in the process, by cephadm.
By doing this we can not only deploy the rbd-mirror daemon (via the
cephadm spec file), but also run a set of ceph commands to properly
configure mirroring on a given pool.

Depends-On: I0d1ce33270ccf8636925c3534812c3b1cf650103
Change-Id: I7b20399d55c3de82c8aeddc3317c9972409217da
(cherry picked from commit 33f7868d551745ed4cbd219ab82128940acb99b8)
"
openstack%2Fcharm-manila-ganesha~master~Ie8a4791f70111c8844149232da380ee29a163977,openstack/charm-manila-ganesha,master,batch-update,Ie8a4791f70111c8844149232da380ee29a163977,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:10:28.000000000,2021-06-22 09:22:10.000000000,2021-06-22 09:22:10.000000000,1,1,0,791200,b308b2cc2657c8558279b4d593270608fd680ca5,17,3,1,1,11805,Corey Bryant,coreycb,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Ie8a4791f70111c8844149232da380ee29a163977
"
openstack%2Fkolla-ansible~master~I0f3ed4674f9629963e0a10118ad5d9b194fd4661,openstack/kolla-ansible,master,bug/1782147,I0f3ed4674f9629963e0a10118ad5d9b194fd4661,Deploy Sahara with unversioned endpoints,MERGED,2019-03-04 06:10:56.000000000,2021-06-22 09:16:07.000000000,2019-03-07 10:11:13.000000000,3,3,0,640668,008e2b15ec9c31bfb516839106c1e00f87fca34c,13,5,2,1,9414,zhongshengping,ZhongShengping,"Deploy Sahara with unversioned endpoints

Sahara supports unversioned endpoint also for the current API v1.1,
and deploying with unversioned endpoints is a better setting
if people want to use both API v1.1 and the (soon-stable) API v2
at the same time.
See https://review.openstack.org/#/c/582285/ for more details.

Change-Id: I0f3ed4674f9629963e0a10118ad5d9b194fd4661
Closes-Bug: #1782147
"
openstack%2Fpython-octaviaclient~stable%2Fvictoria~Ibc39478ab220d014264f066db041d7d2e28cb7b1,openstack/python-octaviaclient,stable/victoria,,Ibc39478ab220d014264f066db041d7d2e28cb7b1,Dropping lower-constraints job,MERGED,2021-06-18 06:58:16.000000000,2021-06-22 09:13:19.000000000,2021-06-22 09:11:20.000000000,0,61,0,796995,fd7cd86832288b51e19af3e605c1905ebc5529bd,9,4,1,3,29244,Gregory Thiemonge,gthiemonge,"Dropping lower-constraints job

We decided to drop lower-constraints jobs in the Octavia projects on
stable branches. They consumes too much time to get them updated.
We're still maintaining those jobs on master branches.

Change-Id: Ibc39478ab220d014264f066db041d7d2e28cb7b1
"
openstack%2Ftacker-specs~master~I80b180a433636d1ac70546535f1d3762f828cb13,openstack/tacker-specs,master,update-min-tox,I80b180a433636d1ac70546535f1d3762f828cb13,Update min version of tox,MERGED,2021-05-10 11:21:15.000000000,2021-06-22 09:08:13.000000000,2021-06-22 09:05:35.000000000,2,2,0,790418,565b195415c4be214245199826e75b39d352ff7e,10,6,1,1,32102,Manpreet Kaur,manpreet,"Update min version of tox

This patch bumps the minimum version of tox to 3.18.0 [1].
Additionally fix the argument such as ""whitelist_externals""
which is deprecated, it replaces whitelist_externals by
allowlist_externals option [1].

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I80b180a433636d1ac70546535f1d3762f828cb13
"
openstack%2Fcharm-neutron-api-plugin-ovn~master~I0ce4cd8fd63b507a3bc8fd2cc2fafbc3aa63050c,openstack/charm-neutron-api-plugin-ovn,master,batch-update,I0ce4cd8fd63b507a3bc8fd2cc2fafbc3aa63050c,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:11:43.000000000,2021-06-22 09:03:58.000000000,2021-06-22 09:03:58.000000000,1,1,0,791210,15e6453a5b917e3c32646fc870d67be80679bdf4,19,3,1,1,11805,Corey Bryant,coreycb,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I0ce4cd8fd63b507a3bc8fd2cc2fafbc3aa63050c
"
openstack%2Ftacker-specs~master~Iaa9f6083e0c47f437821d317d00e301e8ffe9bdb,openstack/tacker-specs,master,replace-dashes-setup-cfg,Iaa9f6083e0c47f437821d317d00e301e8ffe9bdb,setup.cfg: Replace dashes with underscores,MERGED,2021-05-18 07:46:45.000000000,2021-06-22 09:03:40.000000000,2021-06-22 09:02:10.000000000,3,3,0,791898,55cf046a80364d043218ff4729ea8dff991a92b3,10,6,1,1,32102,Manpreet Kaur,manpreet,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages like the following on new
enough versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Iaa9f6083e0c47f437821d317d00e301e8ffe9bdb
"
openstack%2Fcharm-cinder-purestorage~master~Ib0ae5578002899d5c4b6f0e2e8db07fd5c9bee32,openstack/charm-cinder-purestorage,master,batch-update,Ib0ae5578002899d5c4b6f0e2e8db07fd5c9bee32,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:08:37.000000000,2021-06-22 09:00:57.000000000,2021-06-22 09:00:57.000000000,1,1,0,791186,76008a6d04256c97409f8ac53270c5ab8f6f74d9,14,3,1,1,11805,Corey Bryant,coreycb,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Ib0ae5578002899d5c4b6f0e2e8db07fd5c9bee32
"
openstack%2Fcharm-ironic-conductor~master~Ia34c4709211bac49e8112a41af02b4886c341470,openstack/charm-ironic-conductor,master,batch-update,Ia34c4709211bac49e8112a41af02b4886c341470,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:09:16.000000000,2021-06-22 08:59:30.000000000,2021-06-22 08:59:30.000000000,1,1,0,791191,8db091f41d40ee489c2cba74a868cbb58388f512,11,3,1,1,11805,Corey Bryant,coreycb,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Ia34c4709211bac49e8112a41af02b4886c341470
"
openstack%2Fkolla~master~I37e515827f6a4f9fabb33da7e546147aaee955fe,openstack/kolla,master,bug/1610968,I37e515827f6a4f9fabb33da7e546147aaee955fe,Fix service_type of mistral,ABANDONED,2016-08-17 07:08:55.000000000,2021-06-22 08:59:01.000000000,,1,1,0,356271,ae1d7ac9d6d7405e63297ac4686d2a7eca08f045,8,5,1,1,9414,zhongshengping,ZhongShengping,"Fix service_type of mistral

The service type used in ansible/roles/mistral/tasks/register.yml
is application_catalog, which is wrong. It should be workflowv2.

Change-Id: I37e515827f6a4f9fabb33da7e546147aaee955fe
Closes-Bug: 1610968
"
openstack%2Fkolla-ansible~master~I13292500c394134c6c0ab0e50727389a47c97007,openstack/kolla-ansible,master,bug/1774091,I13292500c394134c6c0ab0e50727389a47c97007,Remove ceilometer collector for cloudkitty-processor,MERGED,2018-05-24 01:58:45.000000000,2021-06-22 08:58:43.000000000,2018-07-16 07:10:31.000000000,0,3,2,570289,60a11279f07769c62522e8cec3ab02ad6c6cc9e8,39,17,4,1,9414,zhongshengping,ZhongShengping,"Remove ceilometer collector for cloudkitty-processor

cloudkitty-processor service error when using ceilometer collector.
Because the ceilometer collector has been removed in cloudkitty repo[1].

[1]https://review.openstack.org/#/c/548630/

Change-Id: I13292500c394134c6c0ab0e50727389a47c97007
Closes-Bug: #1774091
"
openstack%2Fcharm-mysql-router~master~Ibf0755f62717d3dea0d8ed6b5977080689991b46,openstack/charm-mysql-router,master,batch-update,Ibf0755f62717d3dea0d8ed6b5977080689991b46,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:11:08.000000000,2021-06-22 08:56:11.000000000,2021-06-22 08:56:11.000000000,1,1,0,791207,9de8958b2632749a206ee5595150ae22f7998701,18,3,1,1,11805,Corey Bryant,coreycb,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Ibf0755f62717d3dea0d8ed6b5977080689991b46
"
openstack%2Fproject-config~master~I17504632998a4ec0b4db120783852f7267c4b4c6,openstack/project-config,master,remove_uneeded_tq_requirements,I17504632998a4ec0b4db120783852f7267c4b4c6,Enable publish-openstack-python-tarball job,MERGED,2021-06-18 10:22:38.000000000,2021-06-22 08:44:19.000000000,2021-06-22 06:51:05.000000000,3,0,3,797049,69d99110944f6a17983e731832e703090f17f842,10,7,1,1,12393,chandan kumar,chkumar246,"Enable publish-openstack-python-tarball job

https://review.opendev.org/c/openstack/project-config/+/791745
adds the above job, It needs to be enable for
tripleo-operator-ansible so that it will run in release
pipeline.

We defined the release job[1] with in
tripleo-operator-ansible project but it is not working
as it requires secrets which exists with in project-config repo.

For fixing and enabling it, we are adding the job here so that
it will gets triggered in the release pipeline.

[1] https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/791645
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I17504632998a4ec0b4db120783852f7267c4b4c6
"
openstack%2Fkolla~master~I511fa599f43c5376f841ec6d03e272243aaa2ba4,openstack/kolla,master,,I511fa599f43c5376f841ec6d03e272243aaa2ba4,tox: Use allowlist_externals instead of whitelist_externals,MERGED,2021-05-18 12:05:49.000000000,2021-06-22 08:36:43.000000000,2021-06-22 08:34:52.000000000,4,4,1,791930,fd49c3d6fe90b05d2181fe1f18481620b32506c3,14,3,2,1,26285,wu.chunyang,wu.chunyang,"tox: Use allowlist_externals instead of whitelist_externals

whitelist_externals is now deprecated, use allowlist_externals
instead. see[0]

[0]: https://tox.readthedocs.io/en/latest/config.html

follow: https://review.opendev.org/c/openstack/kolla-ansible/+/791928

Change-Id: I511fa599f43c5376f841ec6d03e272243aaa2ba4
"
openstack%2Fkolla-ansible~master~I184af9c919f649be2eb1eda2d192f13463c55ab1,openstack/kolla-ansible,master,,I184af9c919f649be2eb1eda2d192f13463c55ab1,CI: Use testinfra for post-deploy checks,NEW,2021-06-16 18:50:18.000000000,2021-06-22 08:36:03.000000000,,78,47,13,796722,8a2e8edcbf9214ef900d6f9dd0b8b9e3b7a8879b,26,2,6,4,14826,Mark Goddard,mgoddard,"CI: Use testinfra for post-deploy checks

This change refactors the post deployment check scripts into
testinfra [1] based test cases. This allows us to generate a report, and
makes it easier to add further tests in future. The pattern is based on
usage of testinfra in Kayobe.

[1] https://testinfra.readthedocs.io/

Change-Id: I184af9c919f649be2eb1eda2d192f13463c55ab1
"
openstack%2Ftripleo-validations~stable%2Fwallaby~I7507ce26879d3de71387c035e06d5a25bf5543d3,openstack/tripleo-validations,stable/wallaby,zuul/generalization,I7507ce26879d3de71387c035e06d5a25bf5543d3,DNM,ABANDONED,2021-06-02 08:49:53.000000000,2021-06-22 08:23:24.000000000,,7,11,0,794165,441be3aa77760d9b86367d030297c78e8fd6c0f7,8,1,6,3,32926,Jiri Podivin,jpodivin,"DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I7507ce26879d3de71387c035e06d5a25bf5543d3
"
openstack%2Fvalidations-common~master~I4bfa744097dc095694dce3d165543840c18c2230,openstack/validations-common,master,test/molgen,I4bfa744097dc095694dce3d165543840c18c2230,DNM,ABANDONED,2021-06-02 07:42:54.000000000,2021-06-22 08:20:31.000000000,,1,1,0,794149,e36ecc10000d404a0817479170419f8cba49f921,7,1,1,1,32926,Jiri Podivin,jpodivin,"DNM

Depends-On: https://review.opendev.org/c/openstack/validations-common/+/794144

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I4bfa744097dc095694dce3d165543840c18c2230
"
openstack%2Fvalidations-common~master~Ic78f9080c72ad9e0e38a44efb6085f873338a7fb,openstack/validations-common,master,callback/logpathfix,Ic78f9080c72ad9e0e38a44efb6085f873338a7fb,DNM Potential fix,ABANDONED,2021-06-11 10:58:20.000000000,2021-06-22 08:20:06.000000000,,10,3,0,795987,7ff4a9df47e2fba1830691b6bc0a3c5eaf1fbf42,18,1,6,1,32926,Jiri Podivin,jpodivin,"DNM Potential fix

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic78f9080c72ad9e0e38a44efb6085f873338a7fb
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ie98d5326be7ddbed4ffe4d542a0a882c0dd35fda,openstack/python-tripleoclient,stable/wallaby,docdiagnosis,Ie98d5326be7ddbed4ffe4d542a0a882c0dd35fda,DNM import all cmds,ABANDONED,2021-06-17 08:19:06.000000000,2021-06-22 08:19:22.000000000,,1,4,0,796797,3bffaabca15d6e3483ec9b9ff2a10584de2c9198,3,1,1,1,32926,Jiri Podivin,jpodivin,"DNM import all cmds

Change-Id: Ie98d5326be7ddbed4ffe4d542a0a882c0dd35fda
"
openstack%2Fcyborg~master~I32b65f4053a90dfbdd6d491fc8e356cc148d53fb,openstack/cyborg,master,bug/1928077,I32b65f4053a90dfbdd6d491fc8e356cc148d53fb,revert the created device datas,MERGED,2021-05-12 06:10:07.000000000,2021-06-22 07:52:12.000000000,2021-05-14 07:13:46.000000000,8,1,2,790901,516a7d7094f1f17dd762e2ccd85b0643bf1ca08b,13,5,2,1,30077,Qiu Fossen,qiufossen,"revert the created device datas

Closes-Bug: #1928077
Change-Id: I32b65f4053a90dfbdd6d491fc8e356cc148d53fb
"
openstack%2Fdesignate~master~If9e7d1ac3a8d518ed445ad76ce5175f40408a02a,openstack/designate,master,tld_doc,If9e7d1ac3a8d518ed445ad76ce5175f40408a02a,TLD Doc update,MERGED,2021-06-10 07:33:55.000000000,2021-06-22 07:49:31.000000000,2021-06-22 07:46:14.000000000,42,84,32,795735,3df130af12d098f5cf17a62f29b6d10eb9244159,20,5,5,1,6994,Michael Chapman,michaeltchapman,"TLD Doc update

Add some more detail to the TLD admin doc. Replace API calls with
cli.

Change-Id: If9e7d1ac3a8d518ed445ad76ce5175f40408a02a
"
openstack%2Fdesignate~master~Id28a67abc74c3e14d4cba8d3278c89a1fe029252,openstack/designate,master,,Id28a67abc74c3e14d4cba8d3278c89a1fe029252,replace whitelist_externals by allowlist_externals,MERGED,2021-06-22 02:15:47.000000000,2021-06-22 07:48:20.000000000,2021-06-22 07:46:10.000000000,3,3,0,797372,6916137b823ccb33a84c6dc7e4f3550ef8f0de8f,9,3,1,1,32238,wdd,wangzihao,"replace whitelist_externals by allowlist_externals

replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Depends-on: https://review.opendev.org/c/openstack/designate/+/796597
Change-Id: Id28a67abc74c3e14d4cba8d3278c89a1fe029252
"
openstack%2Fneutron~master~I5d0fa7da847b72015aa82e5ca3f75206f0f45b2b,openstack/neutron,master,fix-prio-dashboard,I5d0fa7da847b72015aa82e5ca3f75206f0f45b2b,Fix priority review dashboard,MERGED,2021-06-22 05:32:23.000000000,2021-06-22 07:39:46.000000000,2021-06-22 07:00:57.000000000,1,1,0,797385,1e2088abbecc3ed17b816e2432c068b83b728671,10,4,1,1,13252,Dr. Jens Harbott,jrosenboom,"Fix priority review dashboard

The URL was containing quoted quotations, using e.g. %2528 instead of just
%28 for a ""("", fix this.

Change-Id: I5d0fa7da847b72015aa82e5ca3f75206f0f45b2b
"
openstack%2Fdesignate-tempest-plugin~master~I06459a6208757b95117af3f270fde60b847f0b97,openstack/designate-tempest-plugin,master,lp_1926058,I06459a6208757b95117af3f270fde60b847f0b97,Re-enable zone export list filter test,MERGED,2021-05-18 03:32:07.000000000,2021-06-22 07:37:34.000000000,2021-06-22 07:36:07.000000000,2,4,0,791884,ce1a26c8e0c58c920eb93ab59ab278005cde9d6e,12,4,2,1,6994,Michael Chapman,michaeltchapman,"Re-enable zone export list filter test

Filter criteria are respected when listing zone imports and exports

Depends-On: https://review.opendev.org/789711
Change-Id: I06459a6208757b95117af3f270fde60b847f0b97
"
openstack%2Fdesignate~master~I983d930f975c109cce24a9587bba6db563b3f19f,openstack/designate,master,zone_filter,I983d930f975c109cce24a9587bba6db563b3f19f,Support filtering on zone import/export list,MERGED,2021-05-05 06:59:03.000000000,2021-06-22 07:22:57.000000000,2021-06-22 07:21:10.000000000,14,6,0,789711,fb9f0b33d338037365f5c9dae20f4f795b119d13,27,3,5,1,6994,Michael Chapman,michaeltchapman,"Support filtering on zone import/export list

List operations should add the task_type criterion to the user
provided criterion.

Change-Id: I983d930f975c109cce24a9587bba6db563b3f19f
Launchpad: 1926058
"
openstack%2Fkuryr-kubernetes~master~I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca,openstack/kuryr-kubernetes,master,udoc,I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca,Update the Handlers and the Resources,MERGED,2021-06-08 13:10:46.000000000,2021-06-22 07:21:43.000000000,2021-06-22 07:20:14.000000000,22,10,15,795322,032d0736f834d3d0c2be4d1467f5a6c5c31707f0,44,3,13,1,33240,Sunday Mgbogu,digitalsimboja,"Update the Handlers and the Resources

Change-Id: I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca
"
openstack%2Fopenstack-ansible-galera_server~master~I763106d90ef481203c3a1a6456102dc0d46e8b39,openstack/openstack-ansible-galera_server,master,osa/pki,I763106d90ef481203c3a1a6456102dc0d46e8b39,DNM - Test PKI role,ABANDONED,2021-04-26 16:00:40.000000000,2021-06-22 07:16:30.000000000,,0,0,0,788041,37306af2d758560205054f048da19438794641f2,4,1,1,1,25023,Jonathan Rosser,jrosser,"DNM - Test PKI role

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031
Change-Id: I763106d90ef481203c3a1a6456102dc0d46e8b39
"
openstack%2Ftripleo-operator-ansible~master~I2f3837ec5c4bcd5e0a8502ec28354ed3fdd7418f,openstack/tripleo-operator-ansible,master,remove_uneeded_tq_requirements,I2f3837ec5c4bcd5e0a8502ec28354ed3fdd7418f,"Revert ""Added publish-openstack-python-tarball job to publish the tarballs""",MERGED,2021-06-18 10:23:57.000000000,2021-06-22 07:14:21.000000000,2021-06-22 07:14:21.000000000,0,4,0,797028,574ada8d5799291a82f37f82b12d0fb2f6f7de98,7,10,1,1,12393,chandan kumar,chkumar246,"Revert ""Added publish-openstack-python-tarball job to publish the tarballs""

This reverts commit d997a4b7cb0633743fe0f0cb7dc4f464e48063ca.

Reason for revert: https://review.opendev.org/c/openstack/project-config/+/797049 the job needs to be added in project-config repo

Change-Id: I2f3837ec5c4bcd5e0a8502ec28354ed3fdd7418f
"
openstack%2Fkolla-ansible~master~Id3c3b7aadb9cf19813ccf3a9d39858f68526d25a,openstack/kolla-ansible,master,kolla-ansible-bifrost-more,Id3c3b7aadb9cf19813ccf3a9d39858f68526d25a,[CI] Test bifrost on Ubuntu as well,MERGED,2021-06-10 09:19:57.000000000,2021-06-22 06:41:51.000000000,2021-06-22 06:38:52.000000000,8,0,0,795750,085a30f751476d52b4f3d91ef476e239223cb833,13,3,3,2,30491,Radosław Piliszek,yoctozepto,"[CI] Test bifrost on Ubuntu as well

Now that bifrost on Ubuntu focal is fully supported
both upstream (bifrost, kolla) and downstream (kayobe),
we should test it in kolla ansible CI.

Change-Id: Id3c3b7aadb9cf19813ccf3a9d39858f68526d25a
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I71f45ba5b9d1d2227c95633d3de51e2ccd42a467,openstack/kolla-ansible,stable/victoria,,I71f45ba5b9d1d2227c95633d3de51e2ccd42a467,chronyd crash loop if Debian server is rebooted,MERGED,2021-06-21 09:32:22.000000000,2021-06-22 06:41:38.000000000,2021-06-22 06:38:47.000000000,7,2,0,797255,12157d68bf0ecc0cf9ab996977bce1d5beaa0ea5,9,4,1,2,14826,Mark Goddard,mgoddard,"chronyd crash loop if Debian server is rebooted

This patch fixes the constant chrony container crash loop after (Debian 10) server is rebooted,
as described in Bug-ID: #1915528.

Due to permissions issue, before this fix is applied chronyd process will be exiting with
root cause error message:

Fatal error : Could not open configuration file /etc/chrony/chrony.conf : Permission denied
This has to do with priviledges we configured for chrony. Relaxing them fixes the issue.
Tested on top of stable/victoria and Debian 10 Buster.

Not tested on CentOS/RHEL. If this does not work well on RHEL/CentOS we can maybe parametrise
the owner and make it configurable (just one idea).

Closes-Bug: #1915528
Change-Id: I71f45ba5b9d1d2227c95633d3de51e2ccd42a467
(cherry picked from commit 21ccae12f7937201cff2f4cf08deefe57b7594e2)
"
openstack%2Fdesignate-tempest-plugin~master~Ic074c2c4dc5a5f97c609aac5992f78557722bb71,openstack/designate-tempest-plugin,master,,Ic074c2c4dc5a5f97c609aac5992f78557722bb71,Fix list-all-project tests for pagination limit,MERGED,2021-06-21 23:43:28.000000000,2021-06-22 06:26:02.000000000,2021-06-22 06:23:58.000000000,33,7,0,797366,65ebf4bbe79e856cf3878a6ef20c6486276c07d5,10,3,1,6,11628,Michael Johnson,johnsom,"Fix list-all-project tests for pagination limit

Designate has a fairly small default pagination limit of 20.
Some tests were making list API calls with the all-projects header,
which with parallel test execution could cause the list to exceed the
default pagination limit of 20. This would cause the tests to intermittently
fail.
This patch sets the request parameter ""limit"" to 1000 for these tests
to allow for parallel test execution which may cause lists to include
more than twenty entries.

Change-Id: Ic074c2c4dc5a5f97c609aac5992f78557722bb71
"
openstack%2Fkayobe-config-dev~master~I51e1d05cf6382ce077ebd70f6306b54511d575ce,openstack/kayobe-config-dev,master,,I51e1d05cf6382ce077ebd70f6306b54511d575ce,CI: Switch to CentOS 8 stream jobs,MERGED,2021-05-25 13:24:38.000000000,2021-06-22 06:18:47.000000000,2021-06-22 06:18:47.000000000,14,14,0,792974,487a92db15daf0532fc7c0c405f552ffc40b4a63,10,3,2,1,14826,Mark Goddard,mgoddard,"CI: Switch to CentOS 8 stream jobs

Change-Id: I51e1d05cf6382ce077ebd70f6306b54511d575ce
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Icd3d140473886ba3c4847859cddccdb3c1376818,openstack/kolla-ansible,stable/wallaby,bug/1933122-stable/wallaby,Icd3d140473886ba3c4847859cddccdb3c1376818,Fix host bootstrap pkg removal on Debian,MERGED,2021-06-21 20:43:34.000000000,2021-06-22 05:33:48.000000000,2021-06-22 05:32:33.000000000,7,1,0,797306,bcce291aa3bc1ee511e17fbc9a872612c55ed09d,9,4,1,2,14826,Mark Goddard,mgoddard,"Fix host bootstrap pkg removal on Debian

The variable names are awful but this all agrees with the docs now.

Closes-Bug: #1933122
Change-Id: Icd3d140473886ba3c4847859cddccdb3c1376818
(cherry picked from commit 3a7440b370f5c2bf6f255a6530349a3e680007b9)
"
openstack%2Ftrove~stable%2Fwallaby~Ib35743e1c315bb7fd4d0fbd99eaa409a4bf5c792,openstack/trove,stable/wallaby,bridge-network-stable/wallaby,Ib35743e1c315bb7fd4d0fbd99eaa409a4bf5c792,Fix backup using customized container image registry,MERGED,2021-06-21 23:58:37.000000000,2021-06-22 04:42:34.000000000,2021-06-22 04:40:27.000000000,10,1,0,797308,8849cedaf70a5d76367e8f53985f536bbbe3b58e,7,2,1,3,6732,Lingxian Kong,kong,"Fix backup using customized container image registry

Change-Id: Ib35743e1c315bb7fd4d0fbd99eaa409a4bf5c792
Story: 2008996
Task: 42658
(cherry picked from commit 6d2ab68a8aa0406ee6320e778b8e290827c9e730)
"
openstack%2Ftrove~stable%2Fwallaby~Iae4d8fc52a50da4fd347270271f6761ce766d5c3,openstack/trove,stable/wallaby,story/2008917-stable/wallaby,Iae4d8fc52a50da4fd347270271f6761ce766d5c3,Add float types to load_items to support configuration parameters of float type,MERGED,2021-06-21 23:56:18.000000000,2021-06-22 04:41:32.000000000,2021-06-22 04:40:19.000000000,2,0,0,797307,c7bbcf43d272a328a9ad685918375a3c2049a0ad,7,3,1,1,6732,Lingxian Kong,kong,"Add float types to load_items to support configuration parameters of float type

Complement missing float types when loading configuration group parameters
so that parameters of type float can be attached into the trove instance successfully

Story: 2008917
Task: 42508
Change-Id: Iae4d8fc52a50da4fd347270271f6761ce766d5c3
(cherry picked from commit 189d3493a844231dfa10062b5e632a3e931e50f2)
"
openstack%2Fneutron~stable%2Fstein~I2cc58c30cf844ee0ecf0611ecdec430086464790,openstack/neutron,stable/stein,bug/1916022-stable/stein,I2cc58c30cf844ee0ecf0611ecdec430086464790,Remove update_initial_state() method from the HA router,MERGED,2021-02-27 18:22:39.000000000,2021-06-22 03:26:43.000000000,2021-06-22 03:25:02.000000000,13,29,0,777868,60f801e67e070da868fe9b7d70203437fccb8593,30,3,3,6,11975,Slawek Kaplonski,slaweq,"Remove update_initial_state() method from the HA router

This method was intended to check state of the HA router on the
node and update it in the neutron server.
Patch [1] added check of the initial status to the
neutron_keepalived_state_change_monitor process.
It also could cause some race conditions and event which is setting
correct state of the router will be not processed thus router may endup
with two nodes with ""primary"" state in the Neutron's DB.

Neutron_keepalived_state_change_monitor was notifying agent about
router's initial state only if this state was 'primary'.
Now it will notify agent always to let agent set router's state as
'backup' if needed (that was previously done by this removed
update_initial_state() method).

[1] https://review.opendev.org/c/openstack/neutron/+/642295

Conflicts:
    neutron/agent/l3/agent.py
    neutron/agent/l3/ha_router.py
    neutron/agent/l3/keepalived_state_change.py
    neutron/tests/functional/agent/l3/test_keepalived_state_change.py
    neutron/tests/unit/agent/l3/test_dvr_local_router.py

Change-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790
Closes-Bug: #1916022
(cherry picked from commit 0d8ae1576724b196580c9af3782fd3c9e9072bef)
"
openstack%2Fswift~master~Ibf6cce2447921b58f5a0dff630ea5a0c6284119c,openstack/swift,master,,Ibf6cce2447921b58f5a0dff630ea5a0c6284119c,Quiet EPIPE tracebacks,MERGED,2021-06-17 23:41:31.000000000,2021-06-22 03:26:34.000000000,2021-06-22 03:25:08.000000000,14,0,0,796960,0d05a8ff382e7cd64b077730c3d9c314393bf3ef,13,3,2,2,15343,Tim Burke,tburke,"Quiet EPIPE tracebacks

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Change-Id: Ibf6cce2447921b58f5a0dff630ea5a0c6284119c
"
openstack%2Fopenstack-helm~master~Ib389aebb2450f8ed134ef8f75110b559d1a4f2ee,openstack/openstack-helm,master,probes,Ib389aebb2450f8ed134ef8f75110b559d1a4f2ee,Set reasonable default probe timeouts,MERGED,2021-06-19 00:13:18.000000000,2021-06-22 03:14:00.000000000,2021-06-22 03:12:34.000000000,24,3,0,797168,c775184bddffdb90856a9f53e1613a0a8897c689,9,3,1,3,21420,Gage Hugo,ghugo,"Set reasonable default probe timeouts

This change modifies the default values for all of the readiness
and liveness probes to something a bit less aggressive, namely
the default timeout of 1 second.

Change-Id: Ib389aebb2450f8ed134ef8f75110b559d1a4f2ee
"
openstack%2Fkolla-ansible~stable%2Fussuri~I667adc7d8a7dbd20dbfa293f389e02355f8275bb,openstack/kolla-ansible,stable/ussuri,,I667adc7d8a7dbd20dbfa293f389e02355f8275bb,baremetal: fix /etc/hosts generation when api_interface has dashes,MERGED,2021-06-21 09:35:35.000000000,2021-06-22 03:12:38.000000000,2021-06-22 03:11:23.000000000,9,2,0,797259,c6aa022a4a047c0d266dd2ab303b5ec30f0a7ffe,9,3,1,2,14826,Mark Goddard,mgoddard,"baremetal: fix /etc/hosts generation when api_interface has dashes

Interface names with dashes can cause problems in Ansible since dashes
are replaced with underscores when referencing facts. In the baremetal
role we reference the fact for api_interface without replacing dashes
with underscores. This may result in host entries being omitted from
/etc/hosts.

This change fixes the issue.

Change-Id: I667adc7d8a7dbd20dbfa293f389e02355f8275bb
Related-Bug: #1927357
(cherry picked from commit 46bd05250d5c6497da35d8a490336a433915358e)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I667adc7d8a7dbd20dbfa293f389e02355f8275bb,openstack/kolla-ansible,stable/victoria,,I667adc7d8a7dbd20dbfa293f389e02355f8275bb,baremetal: fix /etc/hosts generation when api_interface has dashes,MERGED,2021-06-21 09:35:11.000000000,2021-06-22 03:12:30.000000000,2021-06-22 03:11:19.000000000,9,2,0,797258,5bc072141a8645414e62d2d468ebb8ed649c92bb,9,3,1,2,14826,Mark Goddard,mgoddard,"baremetal: fix /etc/hosts generation when api_interface has dashes

Interface names with dashes can cause problems in Ansible since dashes
are replaced with underscores when referencing facts. In the baremetal
role we reference the fact for api_interface without replacing dashes
with underscores. This may result in host entries being omitted from
/etc/hosts.

This change fixes the issue.

Change-Id: I667adc7d8a7dbd20dbfa293f389e02355f8275bb
Related-Bug: #1927357
(cherry picked from commit 46bd05250d5c6497da35d8a490336a433915358e)
"
openstack%2Fkolla-ansible~master~Idb311e18b437fba696759ecb1cf2a6b4803aa5c5,openstack/kolla-ansible,master,drop-zfssa,Idb311e18b437fba696759ecb1cf2a6b4803aa5c5,Drop support for Cinder ZFSSA backend,MERGED,2021-06-21 09:51:18.000000000,2021-06-22 02:45:50.000000000,2021-06-22 02:43:58.000000000,7,38,0,797248,0158221fd2972c7c0c3733994f985feb8318121d,12,3,2,7,30491,Radosław Piliszek,yoctozepto,"Drop support for Cinder ZFSSA backend

Following upstream which removed ZFSSA support in Ussuri [1].

[1] https://review.opendev.org/c/openstack/cinder/+/690137

Change-Id: Idb311e18b437fba696759ecb1cf2a6b4803aa5c5
"
openstack%2Fmanila~master~I1b36f8d35162a3ac326ba24852d35dbae09c3aaa,openstack/manila,master,bug/1559265,I1b36f8d35162a3ac326ba24852d35dbae09c3aaa,[doc] clean up compute client options,MERGED,2020-08-21 21:43:55.000000000,2021-06-22 01:49:48.000000000,2021-06-22 01:47:00.000000000,9,23,0,747487,d9d9fbcd77656f19909e986bfbce09ba0e5b03c7,13,7,1,1,9003,Tom Barron,tbarron,"[doc] clean up compute client options

Clean up some tables in our documention
that still mention obsolete, removed configuration
options.

When we fix https://bugs.launchpad.net/manila/+bug/1713062
fixes of this kind will no longer be required, since the
tables in question will (again) be auto-generated from our code.

Closes-bug: #1559265
Depends-on: https://review.opendev.org/#/c/745206/
Change-Id: I1b36f8d35162a3ac326ba24852d35dbae09c3aaa
"
openstack%2Fmanila~master~I148225926cd249a0dd8d1f8c02b22ed06487f405,openstack/manila,master,cleanup-deprecations,I148225926cd249a0dd8d1f8c02b22ed06487f405,Remove deprecated config and auth,MERGED,2020-08-06 19:18:38.000000000,2021-06-22 01:48:38.000000000,2021-06-22 01:46:56.000000000,209,238,38,745206,5af3b8e68b5d5351b3a53114d179a78ba1bf466f,109,14,9,28,9003,Tom Barron,tbarron,"Remove deprecated config and auth

Remove manila configuration options
and auth classes that were deprecated
before the Ussuri release.

Change-Id: I148225926cd249a0dd8d1f8c02b22ed06487f405
"
openstack%2Fdesignate-tempest-plugin~master~I6697c502875f281f0174a46a725d29fadb73c754,openstack/designate-tempest-plugin,master,clean_transfers,I6697c502875f281f0174a46a725d29fadb73c754,Properly clean up transfer requests,MERGED,2021-06-19 07:06:08.000000000,2021-06-22 01:48:36.000000000,2021-06-22 01:47:05.000000000,46,17,0,797172,fa6f78c1cfb59065f6f71ef8d17e91e00130787d,10,3,2,2,22623,Erik Olof Gunnar Andersson,eoandersson,"Properly clean up transfer requests

Change-Id: I6697c502875f281f0174a46a725d29fadb73c754
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I133b9de89df4260767c40eadafa7af73fe132343,openstack/networking-ovn,stable/train,clean-non-voting-jobs,I133b9de89df4260767c40eadafa7af73fe132343,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2021-06-15 13:43:01.000000000,2021-06-22 00:27:42.000000000,2021-06-22 00:25:47.000000000,15,14,7,796474,1478d17f4673bbb47edd52289c64ca0195ef0cf2,17,4,3,1,11975,Slawek Kaplonski,slaweq,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extened Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: I133b9de89df4260767c40eadafa7af73fe132343
"
openstack%2Fneutron~master~Ie1dd5c26ec0eb1875d2a6a176838598117678f4a,openstack/neutron,master,bug/1923700,Ie1dd5c26ec0eb1875d2a6a176838598117678f4a,Report ExternalDNSOverQuota exception for recordset quota error,MERGED,2021-04-14 08:11:10.000000000,2021-06-22 00:25:18.000000000,2021-06-22 00:23:23.000000000,8,0,9,786175,c16f88d1481f59e8547c406ac24b670723a3b1da,73,7,5,2,32919,kiran pawar,kpdev,"Report ExternalDNSOverQuota exception for recordset quota error

When floating IP or port with DNS records are created and the recordset
quota value of the external dns service (e.g. designate) exceeds limit,
the recordset creation fails. Report the exact reason of failure i.e.
ExternalDNSOverQuota instead of HttpException.

Depends-On: https://review.opendev.org/c/openstack/neutron-lib/+/786174

Closes-Bug: #1923700
Change-Id: Ie1dd5c26ec0eb1875d2a6a176838598117678f4a
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f,openstack/tripleo-heat-templates,stable/ussuri,libvirt_ssl-u,I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f,"[victoria/ussuri/train] Change nbd, vnc and qemu default cacert file",MERGED,2021-06-16 13:09:58.000000000,2021-06-22 00:18:20.000000000,2021-06-22 00:16:39.000000000,26,7,0,796651,58e6913751c88595d997c99cb6d218f07939c7c6,9,7,1,3,17216,Martin Schuppert,mcschupp,"[victoria/ussuri/train] Change nbd, vnc and qemu default cacert file

InternalTLSNbdCAFile, InternalTLSVncCAFile and InternalTLSQemuCAFile
do not point to the default IPA ca.crt file and instead are requested
to be loaded to component specific CA files (even if they are the same).
This can lead to a race where the CA cert is not being written by
certmonger in time and the following issue is seen after the 60s timeout:

May  1 16:47:39 puppet-user: Notice: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Certmonger_certificate[libvirt-vnc-server-cert]/ensure: created
May  1 16:48:40 puppet-user: Error: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]
May  1 16:48:40 puppet-user: Error: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Exec[/etc/pki/CA/certs/vnc.crt]/returns: change from 'notrun' to ['0'] failed: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]

The problem here is that certmonger doesn't behave in the way that we
expect it to do. When we make the cert request and ask for the ca cert to
be retrieved, it issues the cert and schedules the cert to be returned
asynchronously, even if you specify -w to wait for the cert.  -w will block
pending the cert being retrieved, but not for the CA cert.

You can always force the retrieval to happen by restarting certmonger, and
this has helped in some cases in the past, but is a less than ideal
solution.

This is a bug in certmonger IMHO, in that we should expect the CA cert to
be returned synchronously along with the cert if we specify -w.

The BZ for certmonger is unlikely to be fixed anytime soon though, so we
need to look at other options.

Ib868465c20d97c62cbcb214bfc62d949bd6efc62 already changed the default to
use the IPA system cacert file '/etc/ipa/ca.crt' per default starting with
the wallaby release using the ansible role. This change backports to also
use the IPA system cacert file '/etc/ipa/ca.crt' to previous release when
managing the certs via puppet-tripleo.

Conflicts:
deployment/nova/nova-vnc-proxy-container-puppet.yaml

Change-Id: I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f
Closes-Bug: #1927201
(cherry picked from commit d54d63285db71cdca4da943094b219bc560286ab)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f,openstack/tripleo-heat-templates,stable/train,libvirt_ssl-t,I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f,"[victoria/ussuri/train] Change nbd, vnc and qemu default cacert file",MERGED,2021-06-16 13:13:08.000000000,2021-06-22 00:18:18.000000000,2021-06-22 00:16:56.000000000,26,7,0,796673,a43c41deab78bc9a0252e9e0548b7b911236c91c,9,7,1,3,17216,Martin Schuppert,mcschupp,"[victoria/ussuri/train] Change nbd, vnc and qemu default cacert file

InternalTLSNbdCAFile, InternalTLSVncCAFile and InternalTLSQemuCAFile
do not point to the default IPA ca.crt file and instead are requested
to be loaded to component specific CA files (even if they are the same).
This can lead to a race where the CA cert is not being written by
certmonger in time and the following issue is seen after the 60s timeout:

May  1 16:47:39 puppet-user: Notice: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Certmonger_certificate[libvirt-vnc-server-cert]/ensure: created
May  1 16:48:40 puppet-user: Error: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]
May  1 16:48:40 puppet-user: Error: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Exec[/etc/pki/CA/certs/vnc.crt]/returns: change from 'notrun' to ['0'] failed: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]

The problem here is that certmonger doesn't behave in the way that we
expect it to do. When we make the cert request and ask for the ca cert to
be retrieved, it issues the cert and schedules the cert to be returned
asynchronously, even if you specify -w to wait for the cert.  -w will block
pending the cert being retrieved, but not for the CA cert.

You can always force the retrieval to happen by restarting certmonger, and
this has helped in some cases in the past, but is a less than ideal
solution.

This is a bug in certmonger IMHO, in that we should expect the CA cert to
be returned synchronously along with the cert if we specify -w.

The BZ for certmonger is unlikely to be fixed anytime soon though, so we
need to look at other options.

Ib868465c20d97c62cbcb214bfc62d949bd6efc62 already changed the default to
use the IPA system cacert file '/etc/ipa/ca.crt' per default starting with
the wallaby release using the ansible role. This change backports to also
use the IPA system cacert file '/etc/ipa/ca.crt' to previous release when
managing the certs via puppet-tripleo.

Conflicts:
deployment/nova/nova-vnc-proxy-container-puppet.yaml

Change-Id: I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f
Closes-Bug: #1927201
(cherry picked from commit d54d63285db71cdca4da943094b219bc560286ab)
(cherry picked from commit 58e6913751c88595d997c99cb6d218f07939c7c6)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I2797da50489e3812aa58415e2e6ba44894a89094,openstack/tripleo-heat-templates,stable/victoria,bug/1916386-victoria,I2797da50489e3812aa58415e2e6ba44894a89094,Remove heat::heat_keystone_clients_url definition,MERGED,2021-06-16 15:51:42.000000000,2021-06-22 00:16:50.000000000,2021-06-22 00:16:50.000000000,0,1,0,796657,0ed341f447aaec139fb0c39ff643d8e75f015712,11,5,1,1,9816,Takashi Kajinami,kajinamit,"Remove heat::heat_keystone_clients_url definition

During Queens release cycle it was decided that
clients_keystone/auth_uri should be defined and should point to
public URL to allow instances run some API calls.

Two changes were added:

- I4429d86d831f49f1bc0fef04379a81ada20b6ab6 was used to add
  related definitions to puppet-heat
- Ib1cb8a5da886e3f7afd88f8dc9d63f0847f677bd was used to add
  appropriate hiera defition to THT

But hiera definition in THT was incorrect:
heat::heat_keystone_clients_url was defined instead of
heat::heat_clients_keystone_uri.

heat_clients_keystone_uri parameter was removed from puppet-heat
during Train release cycle:
I507fd2beecface5f8de35d18bfb546a653c6ef51

Partial-Bug: #1916386
Change-Id: I2797da50489e3812aa58415e2e6ba44894a89094
(cherry picked from commit dc083686dee210a1b81a32da2ff1f1a0f17ec324)
(cherry picked from commit c3f91bcd7608428fa6e65cdf155ebe8f1e8c0cd0)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I542956aef6da63a376790ec87d4767196ff85067,openstack/tripleo-heat-templates,stable/train,remove_nova_nfs_enabled-stable-t,I542956aef6da63a376790ec87d4767196ff85067,Remove no longer used NovaNfsEnabled parameter and condtion,MERGED,2021-06-16 13:12:18.000000000,2021-06-22 00:16:25.000000000,2021-06-22 00:16:25.000000000,0,46,0,796652,20a03f22b318e7fe3620d92ee545d007d2f47b77,8,6,1,4,17216,Martin Schuppert,mcschupp,"Remove no longer used NovaNfsEnabled parameter and condtion

With Id5503ed274bd5dc0c5365cc994de7e5cdcbc2fb6 the handling of
/var/lib/nova on NFS changed and NovaNfsEnabled and nova_nfs_enabled
condition is no longer used in most of the deployment files.

This cleans up the no longer used parameter and condition in
nova-compute-container-puppet.yaml, nova-ironic-container-puppet.yaml
nova-libvirt-container-puppet.yaml and nova-migration-target-container-puppet.yaml

Conflicts:
deployment/nova/nova-libvirt-container-puppet.yaml

Change-Id: I542956aef6da63a376790ec87d4767196ff85067
(cherry picked from commit d2f6a3be26b2de2bb6aabf9e5bd3accfacc01916)
(cherry picked from commit df04e951812dc7affefbb2fe122c252cc07e8d11)
(cherry picked from commit 98ba67989fdec334f15e580a83de48b7c2bf0718)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I542956aef6da63a376790ec87d4767196ff85067,openstack/tripleo-heat-templates,stable/ussuri,remove_nova_nfs_enabled-stable-u,I542956aef6da63a376790ec87d4767196ff85067,Remove no longer used NovaNfsEnabled parameter and condtion,MERGED,2021-06-16 13:06:40.000000000,2021-06-22 00:16:20.000000000,2021-06-22 00:16:20.000000000,0,46,0,796650,98ba67989fdec334f15e580a83de48b7c2bf0718,8,6,1,4,17216,Martin Schuppert,mcschupp,"Remove no longer used NovaNfsEnabled parameter and condtion

With Id5503ed274bd5dc0c5365cc994de7e5cdcbc2fb6 the handling of
/var/lib/nova on NFS changed and NovaNfsEnabled and nova_nfs_enabled
condition is no longer used in most of the deployment files.

This cleans up the no longer used parameter and condition in
nova-compute-container-puppet.yaml, nova-ironic-container-puppet.yaml
nova-libvirt-container-puppet.yaml and nova-migration-target-container-puppet.yaml

Conflicts:
deployment/nova/nova-libvirt-container-puppet.yaml

Change-Id: I542956aef6da63a376790ec87d4767196ff85067
(cherry picked from commit d2f6a3be26b2de2bb6aabf9e5bd3accfacc01916)
(cherry picked from commit df04e951812dc7affefbb2fe122c252cc07e8d11)
"
openstack%2Fcinderlib~master~I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1,openstack/cinderlib,master,privsep-support,I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1,Add privsep support,MERGED,2020-06-16 15:00:00.000000000,2021-06-22 00:13:13.000000000,2021-06-22 00:11:18.000000000,254,837,2,735935,cf638c41f6aa8437aab14babc6406df2ceb0facc,63,7,12,11,9535,Gorka Eguileor,Gorka,"Add privsep support

Cinderlib does not support Cinder drivers that make use of the privsep
library.

Originally privsep had a limitation that would serialize all requests,
so slow operations would create a bottleneck, thus cinderlib decided not
to use privsep and call the commands directly.

Since privsep no longer serializes requests we stop going around privsep
and use it.

Cinderlib is a library that works when run in a virtual environment, so
we must maintain backward compatibiliy and still support it, which is
problematic, because with Cinder's rootwrap+privsep we require
/etc/cinder/rootwrap.conf and /etc/cinder/rootwrap.d to exist, but under
a virtual env these are installed in the virtualenv's etc
directory instead.  For example: .tox/py37/etc/cinder/rootwrap.conf

This configuration file is modified to point to the right filters
directory and add the virtual env's bin directory to exec_dirs.

We also take into account if we have installed cinder as editable in our
virtual environment, because in that case files are not installed, and
we will copy them from the source's directory into the virtual
environment so we can freely modify them.

Depends-On: https://review.opendev.org/737312
Closes-Bug: #1883720
Change-Id: I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1
"
openstack%2Fneutron~master~I50a7585441bfb28f47ad2f587eec4e6954838e9f,openstack/neutron,master,bug/1932483,I50a7585441bfb28f47ad2f587eec4e6954838e9f,Add CONTEXT_WRITER decorator to delete_floatingip_agent_gateway_port,MERGED,2021-06-21 10:51:11.000000000,2021-06-22 00:10:51.000000000,2021-06-22 00:08:40.000000000,1,0,0,797280,b74a272bba5fafcad5847b2b100dc81b088ea3aa,23,7,1,1,11975,Slawek Kaplonski,slaweq,"Add CONTEXT_WRITER decorator to delete_floatingip_agent_gateway_port

Closes-Bug: #1932483

Change-Id: I50a7585441bfb28f47ad2f587eec4e6954838e9f
"
openstack%2Fpuppet-cinder~stable%2Fwallaby~I564528663a3d2f83136b98ed46e09e373a9ad6de,openstack/puppet-cinder,stable/wallaby,,I564528663a3d2f83136b98ed46e09e373a9ad6de,Allow for '-' in volume type property values,MERGED,2021-06-19 20:23:08.000000000,2021-06-22 00:09:47.000000000,2021-06-22 00:09:47.000000000,4,4,2,797108,fee24886422bf1dcdad64da33e022b01b0324fdb,23,4,4,2,25600,Ebbex,ebbex,"Allow for '-' in volume type property values

There's no validation going on (yet) in cinder as to which characters
are allowed in properties. So this change alters the regex to cast a
wide net catching '-' and other possible valid variations.

Also update unit-test to cover this scenario.

Closes-Bug: #1932272
Change-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de
(cherry picked from commit 62899eba67f134a92fb863b5a9b6dcfc3e18aa56)
"
openstack%2Frequirements~master~I4afcf08726536d51c20e7d9fa4cf1b5b0057efd2,openstack/requirements,master,openstack/requirements/constraints/noclob,I4afcf08726536d51c20e7d9fa4cf1b5b0057efd2,Updated from generate-constraints,MERGED,2021-06-21 06:32:33.000000000,2021-06-21 23:47:59.000000000,2021-06-21 23:46:40.000000000,2,2,0,797227,269a7bc5ffba8a0830c20fca6a31a45612c9c3f6,12,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I4afcf08726536d51c20e7d9fa4cf1b5b0057efd2
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I2797da50489e3812aa58415e2e6ba44894a89094,openstack/tripleo-heat-templates,stable/ussuri,bug/1916386-ussuri,I2797da50489e3812aa58415e2e6ba44894a89094,Remove heat::heat_keystone_clients_url definition,MERGED,2021-06-18 13:52:50.000000000,2021-06-21 23:35:57.000000000,2021-06-21 23:35:57.000000000,0,1,0,797085,819870702e43773a5c320eb5fdc860ee465c7bf1,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Remove heat::heat_keystone_clients_url definition

During Queens release cycle it was decided that
clients_keystone/auth_uri should be defined and should point to
public URL to allow instances run some API calls.

Two changes were added:

- I4429d86d831f49f1bc0fef04379a81ada20b6ab6 was used to add
  related definitions to puppet-heat
- Ib1cb8a5da886e3f7afd88f8dc9d63f0847f677bd was used to add
  appropriate hiera defition to THT

But hiera definition in THT was incorrect:
heat::heat_keystone_clients_url was defined instead of
heat::heat_clients_keystone_uri.

heat_clients_keystone_uri parameter was removed from puppet-heat
during Train release cycle:
I507fd2beecface5f8de35d18bfb546a653c6ef51

(To Ussuri)
Conflicts:
	deployment/heat/heat-base-puppet.yaml

Partial-Bug: #1916386
Change-Id: I2797da50489e3812aa58415e2e6ba44894a89094
(cherry picked from commit dc083686dee210a1b81a32da2ff1f1a0f17ec324)
(cherry picked from commit c3f91bcd7608428fa6e65cdf155ebe8f1e8c0cd0)
(cherry picked from commit 0ed341f447aaec139fb0c39ff643d8e75f015712)
"
openstack%2Fnetworking-bagpipe~stable%2Fstein~Ifb16099fa24baba7da343fceb5170809ace3edaa,openstack/networking-bagpipe,stable/stein,clean-non-voting-jobs-stable/stein,Ifb16099fa24baba7da343fceb5170809ace3edaa,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2021-06-15 14:50:38.000000000,2021-06-21 23:32:53.000000000,2021-06-21 23:30:54.000000000,8,6,0,796497,a85648177ee7a324e61f026556f9e37500dc7cdb,9,4,1,1,11975,Slawek Kaplonski,slaweq,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extened Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: Ifb16099fa24baba7da343fceb5170809ace3edaa
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I2797da50489e3812aa58415e2e6ba44894a89094,openstack/tripleo-heat-templates,stable/train,bug/1916386-train,I2797da50489e3812aa58415e2e6ba44894a89094,Remove heat::heat_keystone_clients_url definition,MERGED,2021-06-18 13:53:42.000000000,2021-06-21 23:20:36.000000000,2021-06-21 23:20:36.000000000,0,1,0,797094,378f65240fe9156903fadd510fea429e5107ede9,10,4,1,1,9816,Takashi Kajinami,kajinamit,"Remove heat::heat_keystone_clients_url definition

During Queens release cycle it was decided that
clients_keystone/auth_uri should be defined and should point to
public URL to allow instances run some API calls.

Two changes were added:

- I4429d86d831f49f1bc0fef04379a81ada20b6ab6 was used to add
  related definitions to puppet-heat
- Ib1cb8a5da886e3f7afd88f8dc9d63f0847f677bd was used to add
  appropriate hiera defition to THT

But hiera definition in THT was incorrect:
heat::heat_keystone_clients_url was defined instead of
heat::heat_clients_keystone_uri.

heat_clients_keystone_uri parameter was removed from puppet-heat
during Train release cycle:
I507fd2beecface5f8de35d18bfb546a653c6ef51

(To Ussuri)
Conflicts:
	deployment/heat/heat-base-puppet.yaml

Partial-Bug: #1916386
Change-Id: I2797da50489e3812aa58415e2e6ba44894a89094
(cherry picked from commit dc083686dee210a1b81a32da2ff1f1a0f17ec324)
(cherry picked from commit c3f91bcd7608428fa6e65cdf155ebe8f1e8c0cd0)
(cherry picked from commit 0ed341f447aaec139fb0c39ff643d8e75f015712)
(cherry picked from commit 819870702e43773a5c320eb5fdc860ee465c7bf1)
"
openstack%2Ftripleo-common~stable%2Fwallaby~Idcbe3f248ce631310245e35214b51b38263956b6,openstack/tripleo-common,stable/wallaby,bug/1931172-stable/wallaby,Idcbe3f248ce631310245e35214b51b38263956b6,Cleanup OS_CLOUD env var for ephemeral heat,MERGED,2021-06-21 07:01:23.000000000,2021-06-21 22:33:57.000000000,2021-06-21 22:32:21.000000000,2,1,0,797207,d2552f6e646a5282b5cdff161ecc05c80428fcb4,10,3,1,1,8833,Rabi Mishra,rabi,"Cleanup OS_CLOUD env var for ephemeral heat

This would cleanup OS_CLOUD if already set. Otherwise there
would be conflicts.

Related-Bug: #1931172
Change-Id: Idcbe3f248ce631310245e35214b51b38263956b6
(cherry picked from commit 1371815d554d6ad85a661f73f211579d9348752b)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ib42fc397389d8b50c740edf334fe6f281c392ec6,openstack/tripleo-heat-templates,stable/wallaby,bug/1931172-stable/wallaby,Ib42fc397389d8b50c740edf334fe6f281c392ec6,Set OS_CLOUD instead in stackrc,MERGED,2021-06-21 07:05:11.000000000,2021-06-21 22:32:25.000000000,2021-06-21 22:32:25.000000000,6,33,0,797209,e2ff0b44649ece5257a84eca76c5b33a1a0fd88a,7,3,1,2,8833,Rabi Mishra,rabi,"Set OS_CLOUD instead in stackrc

We now write clouds.yaml when configuring keystone and
can use OS_CLOUD instead. Setting OS_AUTH_URL overrides
when we want use OS_CLOUD pointing to overcloud.

Closes-bug: #1931172
Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/797207
Depends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/797208
Change-Id: Ib42fc397389d8b50c740edf334fe6f281c392ec6
(cherry picked from commit 454b45c7d2705f75bb06c5e60470e5aa0264923a)
"
openstack%2Fnetworking-odl~stable%2Ftrain~I982ad3f002d58db63dab936e57dde5bde68fb476,openstack/networking-odl,stable/train,clean-non-voting-jobs,I982ad3f002d58db63dab936e57dde5bde68fb476,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2021-06-15 13:47:25.000000000,2021-06-21 22:18:35.000000000,2021-06-21 22:16:48.000000000,41,42,0,796475,7b2a7ed4031720d8f67b929999b98fd5a7ad37a9,12,4,1,1,11975,Slawek Kaplonski,slaweq,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extened Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: I982ad3f002d58db63dab936e57dde5bde68fb476
"
openstack%2Fnetworking-odl~stable%2Fstein~Iad0721d4f132a47b070310119843fe25840bbdbe,openstack/networking-odl,stable/stein,clean-non-voting-jobs-stable/stein,Iad0721d4f132a47b070310119843fe25840bbdbe,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2021-06-15 14:48:51.000000000,2021-06-21 22:13:05.000000000,2021-06-21 22:11:16.000000000,45,45,3,796496,c118764a216a31be4c93f89c28267bc0ac33f003,15,5,2,1,11975,Slawek Kaplonski,slaweq,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extened Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: Iad0721d4f132a47b070310119843fe25840bbdbe
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,openstack/tripleo-heat-templates,stable/wallaby,collectd_memory-stable/wallaby,I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,Limit collectds memory usage,MERGED,2021-06-21 14:47:10.000000000,2021-06-21 21:56:39.000000000,2021-06-21 21:56:39.000000000,1,0,0,797296,e987a234061773f0817a090c7c9752e1fab0fd72,7,3,1,1,4264,Matthias Runge,mrunge,"Limit collectds memory usage

to guard nodes from running out of memory.

If there is a connection issue with collectd not being able to
write to event or metrics endpoints, this can lead to accumulating
to large portions of memory. Limiting the memory usage via podman
memory will prevent the container to grow limitless. In case of
using more than 512 MB, podman will restart the container.

Change-Id: I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28
(cherry picked from commit 2f702f7bb1452138811f42309b032f9747182e97)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Iba6a0da80cb75a93537a014dba8e77032101e570,openstack/tripleo-heat-templates,stable/victoria,rsyslog-reopen-on-truncate-victoria,Iba6a0da80cb75a93537a014dba8e77032101e570,Add option for enabling rsyslog reopenOnTruncate,MERGED,2021-06-18 12:54:10.000000000,2021-06-21 21:56:34.000000000,2021-06-21 21:56:34.000000000,8,2,0,797078,4704961718c81830d78f5747044f6a687991fed1,11,3,1,1,31510,Paul Leimer,pleimer,"Add option for enabling rsyslog reopenOnTruncate

reopenOnTruncate ensures rsyslog immediately recognizes when a logrotation happens on a file. When not on, rsyslog will wait for a log file to fill to its original capacity before consuming any additional logs.

Setting this here will ensure that every service configured to work with rsyslog will have this parameter. Default to off because this is an experimental feature

(cherry picked from commit a76bd1a69ba72d2f412e2d8ef8602861dde3e064)
Change-Id: Iba6a0da80cb75a93537a014dba8e77032101e570
"
openstack%2Fdevstack-plugin-ceph~master~I76c2c3805a8f606dca69a0f12aca226680fda573,openstack/devstack-plugin-ceph,master,support-centos8-stream,I76c2c3805a8f606dca69a0f12aca226680fda573,Add CentOS8 Stream support,MERGED,2021-06-18 15:17:47.000000000,2021-06-21 20:58:04.000000000,2021-06-21 20:56:51.000000000,3,3,2,797124,83a076c2145618caf7dd22bd5286c5661191829e,16,4,3,1,6413,Victoria Martinez de la Cruz,vkmc,"Add CentOS8 Stream support

Remove the need of using FORCE_CEPH_INSTALL=yes
for CentOS8 Stream

Change-Id: I76c2c3805a8f606dca69a0f12aca226680fda573
"
openstack%2Fmanila-ui~master~Id924fc55debdc38ae2131bf8cef396f28caa3e77,openstack/manila-ui,master,bug/1931641,Id924fc55debdc38ae2131bf8cef396f28caa3e77,Fix parsing names in switched fields,MERGED,2021-06-15 07:02:30.000000000,2021-06-21 20:37:45.000000000,2021-06-21 20:36:10.000000000,87,41,3,796384,37e5b2f0530c9fe8117cea0dac95577b912bdecc,36,6,4,8,16643,Goutham Pacha Ravi,gouthamr,"Fix parsing names in switched fields

In the share creation form dialog, share network
selection is optionally provided based on whether
the share type chosen supports the DHSS extra-spec.
This selection breaks often when dealing with share
types that have a name matching the format: "".*-\d+.*"".
For example: test-700. The root cause of this seems to
be in javascript code for ""switchable"" fields [1] that
doesn't get triggered as expected.

A similar issue manifests in the share Network Creation
form where we setup switched fields with the Neutron
network IDs (dashed format UUIDs) and in the Share
Group Creation form where we setup switched fields
with the Share Group Type IDs (dashed format UUIDs).

So, we could encode the ""-"" in these field names to
workaround this issue.

Closes-Bug: #1931641
[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613

Change-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fbarbican-tempest-plugin~master~I9f0c030b172a544821aa42924e4401cd7ccc9956,openstack/barbican-tempest-plugin,master,,I9f0c030b172a544821aa42924e4401cd7ccc9956,Don't use legacy exponent for RSA,MERGED,2021-06-10 20:46:43.000000000,2021-06-21 19:55:24.000000000,2021-06-21 19:33:13.000000000,2,2,2,795897,25e16b8a0f36fbfee8fcccd6926682f0958bcc8d,11,5,1,1,7973,Douglas Mendizábal,dougmendizabal,"Don't use legacy exponent for RSA

As stated in the cryptography.io documentation, ""Almost everyone should
use 65537"" for the public_exponent in an RSA key. [1]

This patch also uses a larger RSA key length for FIPS compatibility.

[1] https://cryptography.io/en/latest/hazmat/primitives/asymmetric/rsa/#cryptography.hazmat.primitives.asymmetric.rsa.generate_private_key

Change-Id: I9f0c030b172a544821aa42924e4401cd7ccc9956
"
openstack%2Fkolla-ansible~master~Icd3d140473886ba3c4847859cddccdb3c1376818,openstack/kolla-ansible,master,bug/1933122,Icd3d140473886ba3c4847859cddccdb3c1376818,Fix host bootstrap pkg removal on Debian,MERGED,2021-06-21 15:42:04.000000000,2021-06-21 19:45:34.000000000,2021-06-21 19:44:16.000000000,7,1,0,797328,3a7440b370f5c2bf6f255a6530349a3e680007b9,10,4,1,2,30491,Radosław Piliszek,yoctozepto,"Fix host bootstrap pkg removal on Debian

The variable names are awful but this all agrees with the docs now.

Closes-Bug: #1933122
Change-Id: Icd3d140473886ba3c4847859cddccdb3c1376818
"
openstack%2Fneutron-tempest-plugin~master~Ia1756ddbea665dea639de8ef40602034c07dadbb,openstack/neutron-tempest-plugin,master,,Ia1756ddbea665dea639de8ef40602034c07dadbb,Remove allowed_address_pair API tests,MERGED,2021-06-15 12:40:22.000000000,2021-06-21 19:29:35.000000000,2021-06-21 19:29:35.000000000,0,123,1,796462,3eb483bf8db96e5646c1cecfd1cbdce33fe62519,8,7,1,1,11975,Slawek Kaplonski,slaweq,"Remove allowed_address_pair API tests

The same tests are also available in
tempest.api.network.test_allowed_address_pair module. Usually in
such case, tests are removed from the tempest repo and kept in the
tempest plugin repo but in this case we discussed that with the core
members of the QA team and we agreed that it will be better to remove
those tests from neutron-tempest-plugin and keep them in the tempest
repo as they are part of the Interop tests.

Change-Id: Ia1756ddbea665dea639de8ef40602034c07dadbb
"
openstack%2Fheat~master~I1aa12bcd2638390f25d57ce8abeeec248121dc02,openstack/heat,master,policy-json-to-yaml,I1aa12bcd2638390f25d57ce8abeeec248121dc02,[goal] Deprecate the JSON formatted policy file,MERGED,2020-12-13 18:55:43.000000000,2021-06-21 19:26:46.000000000,2021-06-21 19:25:09.000000000,86,35,23,766861,157f358057c3e12158ee4ba354566c2ad5a9ecb5,121,5,21,21,8556,Ghanshyam,ghanshyam,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file''
config option from 'policy.json' to 'policy.yaml' with
upgrade checks.

2. Deprecate the JSON formatted policy file on the project side
via warning in doc and releasenotes.

Also replace policy.json to policy.yaml ref from doc and code.

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02
"
openstack%2Fpython-tripleoclient~master~I1991afdb93e7019a9c29ea70e25eec5c062a98d6,openstack/python-tripleoclient,master,undercloud-noauth,I1991afdb93e7019a9c29ea70e25eec5c062a98d6,Deprecate overcloud image upload to glance,MERGED,2021-06-21 03:20:46.000000000,2021-06-21 18:55:54.000000000,2021-06-21 18:54:18.000000000,48,21,0,797223,10722b5f9768768f5f8fc58e2437946a6c2e88a2,9,4,1,3,8833,Rabi Mishra,rabi,"Deprecate overcloud image upload to glance

We don't have glance in the undercloud by default. Though we
currently fall back to upload locally if glance is not
available. Let's make local upload the default and deprecate
image upload to glance. This would help avoid looking glance
endpoint in the catalog, which would not be available in the
noauth use-case.

We'll drop GlanceClientAdapter when we remove option to enable
glance from the undercloud.

Change-Id: I1991afdb93e7019a9c29ea70e25eec5c062a98d6
"
openstack%2Fpython-neutronclient~master~I83717c5b2661df0d4288699903c38814cefb43d9,openstack/python-neutronclient,master,update-min-tox,I83717c5b2661df0d4288699903c38814cefb43d9,Changed minversion in tox to 3.18.0,MERGED,2021-06-03 06:48:28.000000000,2021-06-21 18:52:45.000000000,2021-06-21 18:51:17.000000000,3,3,0,794405,d6c211c139928fff3e1bcc41f069995892e233fe,17,4,2,1,32291,wushiming,wushiming,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I83717c5b2661df0d4288699903c38814cefb43d9
"
openstack%2Fswift~master~Ie9a2f1a9c00e44b895f3165cbe9a13b94865fca3,openstack/swift,master,,Ie9a2f1a9c00e44b895f3165cbe9a13b94865fca3,Add unit test for some quietened tracebacks,ABANDONED,2021-06-21 13:30:22.000000000,2021-06-21 18:26:29.000000000,,12,0,0,797292,82e7b42845ccece6b3d35e1ae9eed23f691d61f3,4,1,1,1,7847,Alistair Coles,acoles,"Add unit test for some quietened tracebacks

Change-Id: Ie9a2f1a9c00e44b895f3165cbe9a13b94865fca3
"
openstack%2Fmonasca-agent~master~I50f0aa5d8865323515d15d1c1c5f10683bbac090,openstack/monasca-agent,master,bp/oslo-vmware-soap-library-switch,I50f0aa5d8865323515d15d1c1c5f10683bbac090,vmware: Use oslo.vmware's get_moref_value(),MERGED,2021-04-30 05:54:37.000000000,2021-06-21 18:18:19.000000000,2021-06-21 18:18:19.000000000,10,7,9,788887,f6d1170b9b9f70b3139e20e59ef09faa8525bb84,15,4,3,2,32919,kiran pawar,kpdev,"vmware: Use oslo.vmware's get_moref_value()

With switching the SOAP library backing oslo.vmware [1], the internal
representation of ManagedObjectReference's attributes changes. To be able
to make the switch without interruption, we introduced helper functions
in oslo.vmware. This commit uses one of those - get_moref_value()
- to make the access to the ""value"" attribute compatible with both
backing libraries.

[1] https://specs.openstack.org/openstack/oslo-specs/specs/victoria/oslo-vmware-soap-library-switch.html

Change-Id: I50f0aa5d8865323515d15d1c1c5f10683bbac090
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I667adc7d8a7dbd20dbfa293f389e02355f8275bb,openstack/kolla-ansible,stable/wallaby,,I667adc7d8a7dbd20dbfa293f389e02355f8275bb,baremetal: fix /etc/hosts generation when api_interface has dashes,MERGED,2021-06-21 09:35:05.000000000,2021-06-21 18:12:51.000000000,2021-06-21 18:10:32.000000000,9,2,0,797257,315d8eec29b387bbc269eb4a13a3d979985bd845,9,3,1,2,14826,Mark Goddard,mgoddard,"baremetal: fix /etc/hosts generation when api_interface has dashes

Interface names with dashes can cause problems in Ansible since dashes
are replaced with underscores when referencing facts. In the baremetal
role we reference the fact for api_interface without replacing dashes
with underscores. This may result in host entries being omitted from
/etc/hosts.

This change fixes the issue.

Change-Id: I667adc7d8a7dbd20dbfa293f389e02355f8275bb
Related-Bug: #1927357
(cherry picked from commit 46bd05250d5c6497da35d8a490336a433915358e)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I71f45ba5b9d1d2227c95633d3de51e2ccd42a467,openstack/kolla-ansible,stable/wallaby,,I71f45ba5b9d1d2227c95633d3de51e2ccd42a467,chronyd crash loop if Debian server is rebooted,MERGED,2021-06-21 09:32:17.000000000,2021-06-21 18:11:49.000000000,2021-06-21 18:10:28.000000000,7,2,0,797254,a6a2e5ec1617b806ae3fc54866b256c343d75303,9,4,1,2,14826,Mark Goddard,mgoddard,"chronyd crash loop if Debian server is rebooted

This patch fixes the constant chrony container crash loop after (Debian 10) server is rebooted,
as described in Bug-ID: #1915528.

Due to permissions issue, before this fix is applied chronyd process will be exiting with
root cause error message:

Fatal error : Could not open configuration file /etc/chrony/chrony.conf : Permission denied
This has to do with priviledges we configured for chrony. Relaxing them fixes the issue.
Tested on top of stable/victoria and Debian 10 Buster.

Not tested on CentOS/RHEL. If this does not work well on RHEL/CentOS we can maybe parametrise
the owner and make it configurable (just one idea).

Closes-Bug: #1915528
Change-Id: I71f45ba5b9d1d2227c95633d3de51e2ccd42a467
(cherry picked from commit 21ccae12f7937201cff2f4cf08deefe57b7594e2)
"
openstack%2Fhorizon~stable%2Fstein~I969ad70065c580ba90bb0a050c7a9cf242d805ec,openstack/horizon,stable/stein,matherial-fix-stable/stein,I969ad70065c580ba90bb0a050c7a9cf242d805ec,Fix Material theme to work with any combination of pyScss and MDI icons,ABANDONED,2021-03-19 16:38:21.000000000,2021-06-21 18:09:08.000000000,,27,2,0,781805,7ba2e44ab105aefd8e7850c8a579f058fc9ca42c,3,2,1,7,13095,Marc Gariépy,mgariepy,"Fix Material theme to work with any combination of pyScss and MDI icons

':before' class doesn't work as expected with current versions of
xstatic-mdi and PyScss. It's a temporary workaround with copy ':before'
styles from MDI directly into the Material theme.

Closes-Bug: #1771559
Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Change-Id: I969ad70065c580ba90bb0a050c7a9cf242d805ec
(cherry picked from commit f3bfa383417b270fce384fee18c5cb470cec15f7)
"
openstack%2Fhorizon~stable%2Ftrain~I969ad70065c580ba90bb0a050c7a9cf242d805ec,openstack/horizon,stable/train,matherial-fix-stable/train,I969ad70065c580ba90bb0a050c7a9cf242d805ec,Fix Material theme to work with any combination of pyScss and MDI icons,ABANDONED,2021-03-19 16:37:37.000000000,2021-06-21 18:09:00.000000000,,27,2,0,781804,3580e6c7203baeb0faf3d7234f7838c1936c0c1d,4,2,1,7,13095,Marc Gariépy,mgariepy,"Fix Material theme to work with any combination of pyScss and MDI icons

':before' class doesn't work as expected with current versions of
xstatic-mdi and PyScss. It's a temporary workaround with copy ':before'
styles from MDI directly into the Material theme.

Closes-Bug: #1771559
Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Change-Id: I969ad70065c580ba90bb0a050c7a9cf242d805ec
(cherry picked from commit f3bfa383417b270fce384fee18c5cb470cec15f7)
"
openstack%2Fdesignate-tempest-plugin~master~I4d85395100ffc3cabcc27857e68fd5d948b45ef6,openstack/designate-tempest-plugin,master,,I4d85395100ffc3cabcc27857e68fd5d948b45ef6,DNM: Debugging test_list_all_projects_recordsets,ABANDONED,2021-06-18 15:03:11.000000000,2021-06-21 18:06:22.000000000,,15,1,0,797119,ba8793262daaf60354023253c268e932834e990c,4,2,1,1,11628,Michael Johnson,johnsom,"DNM: Debugging test_list_all_projects_recordsets

Change-Id: I4d85395100ffc3cabcc27857e68fd5d948b45ef6
"
openstack%2Fcinder~stable%2Frocky~Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,openstack/cinder,stable/rocky,unity-fix-typo,Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,Fix typo in Dell EMC Unity driver documentation,MERGED,2021-06-21 16:21:55.000000000,2021-06-21 17:58:49.000000000,2021-06-21 17:51:00.000000000,1,1,0,797299,1d1ab08124ec7f31039f5797960714a70e2fedd2,12,3,1,1,31016,Ivan Pchelintsev,pcheli,"Fix typo in Dell EMC Unity driver documentation

Co-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>
Change-Id: Ice28d5cf8af88ae8e44f9c56661afeb7b0773503
(cherry picked from commit 8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2)
(cherry picked from commit 624f63f340dbe5759d196504cc357050ad3c140a)
(cherry picked from commit c9457f860a0174415160fe88fa103d41170fac16)
(cherry picked from commit 35d56b6805392dc0e3d67c66b951327b2355bda2)
(cherry picked from commit 80ab7cb90b58cdb9da95fef36ed39f510e8acd7a)
(cherry picked from commit 6b5215331622ba1dc15b5332a91752aa3ce0f6c4)
"
openstack%2Fkolla~stable%2Fwallaby~I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581,openstack/kolla,stable/wallaby,bug/1928408-stable/wallaby,I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581,horizon: Correct location of monitoring_policy file,MERGED,2021-06-21 09:39:27.000000000,2021-06-21 17:53:30.000000000,2021-06-21 17:42:44.000000000,8,1,0,797263,d578ac26063db885b022e3d4ef52b432831c6f26,11,5,1,2,14826,Mark Goddard,mgoddard,"horizon: Correct location of monitoring_policy file

Patch to correctly copy monitoring_policy.json into
/etc/openstack-dashboard.  Policy was misplaced, and not being enforced.

Note that by current default policy, admin doesn't not have Monitoring
access.

Closes-Bug: #1928408
Change-Id: I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581
(cherry picked from commit f68dfb88fdbad51322727575457b3d78a70466b1)
"
openstack%2Fneutron~master~Ia6691cbe35a1e874857ec94660ac4b1850586305,openstack/neutron,master,bug/1906318,Ia6691cbe35a1e874857ec94660ac4b1850586305,[Docs] Add info about vlan transparent networks' MTU,MERGED,2021-06-16 12:06:54.000000000,2021-06-21 17:53:07.000000000,2021-06-21 17:51:18.000000000,9,0,1,796637,c7e1de09e1fd221ab9d5880165baaa3f34678c35,11,5,1,1,11975,Slawek Kaplonski,slaweq,"[Docs] Add info about vlan transparent networks' MTU

MTU configured inside instances which are connected to the networks
with enabled transparent vlan needs to have MTU set to 4 bytes less
than it is provided by DHCP to make space for additional vlan
header.
This is required only if instance will have some vlan tagged interfaces
configured.

Closes-bug: #1906318
Change-Id: Ia6691cbe35a1e874857ec94660ac4b1850586305
"
openstack%2Fneutron~stable%2Fvictoria~If76c6ee1734f544abdd4196431351d4328ad26fd,openstack/neutron,stable/victoria,bug/1917793-stable/wallaby-stable/victoria,If76c6ee1734f544abdd4196431351d4328ad26fd,Read keepalived initial state in parallel to interface monitoring,MERGED,2021-06-18 07:33:51.000000000,2021-06-21 17:53:04.000000000,2021-06-21 17:50:54.000000000,60,10,0,796866,a3ba317b8c58776cc3fdde80272871cf6aa6714d,33,3,1,2,11975,Slawek Kaplonski,slaweq,"Read keepalived initial state in parallel to interface monitoring

The initial router state method is now a thread that is executed
in parallel with the ""ip monitor"" thread. If by any circumstance
this thread does not read the interface IP addresses on time, the
state of the router will be defined as ""backup"".

Related-Bug: #1917793

Change-Id: If76c6ee1734f544abdd4196431351d4328ad26fd
(cherry picked from commit c1ade52fda59163510dd0959ab72c442d1d07027)
"
openstack%2Fkolla~stable%2Fwallaby~I0cae18c1d5169cd444a14ba3b56de24dede5919c,openstack/kolla,stable/wallaby,heat-dashboard-policy-stable/wallaby,I0cae18c1d5169cd444a14ba3b56de24dede5919c,Horizon: Install required policy files for heat-dashboard,MERGED,2021-06-21 09:37:31.000000000,2021-06-21 17:49:05.000000000,2021-06-21 17:47:48.000000000,5,2,0,797261,128a45a2b04197e40d634658f82cca3f3fe7ffbd,11,4,1,1,14826,Mark Goddard,mgoddard,"Horizon: Install required policy files for heat-dashboard

Since the commit 8e7914fce24d2c9d94a83795983aaa0fb05f020c was merged,
heat-dashboard no longer use policy.json but it use two yaml files to
manage policy rules. This change updates managed files for
heat-dashboard accordingly.

Change-Id: I0cae18c1d5169cd444a14ba3b56de24dede5919c
(cherry picked from commit f9715a66e24638cdcf11223c23a7958a1e2c3a8f)
"
openstack%2Fcinder~master~If8d847245e97505f204a4d29a09aed87d1e78cb3,openstack/cinder,master,rbd-max-clone-test,If8d847245e97505f204a4d29a09aed87d1e78cb3,Unit test RBD clone depth calculation,MERGED,2020-10-24 00:17:07.000000000,2021-06-21 17:47:45.000000000,2021-06-21 17:43:58.000000000,31,0,14,759536,738e77a0f122dafa6d4d4f1bc538ff4e7d9f41a5,109,31,5,1,5314,Brian Rosmaita,brian-rosmaita,"Unit test RBD clone depth calculation

Add a unit test for change I8c445058a25c

Related-bug: #1901241
Change-Id: If8d847245e97505f204a4d29a09aed87d1e78cb3
"
openstack%2Fkolla~stable%2Fwallaby~Id92145ba74237da2fd8430b9d84413465297d3a7,openstack/kolla,stable/wallaby,manila-dashboard-policy-stable/wallaby,Id92145ba74237da2fd8430b9d84413465297d3a7,Horizon: Install policy files for manila-ui,MERGED,2021-06-21 09:39:09.000000000,2021-06-21 17:47:00.000000000,2021-06-21 17:44:52.000000000,7,0,0,797262,24bad11edf41835e2d3da3bd7ac89464dce50e6c,10,4,1,1,14826,Mark Goddard,mgoddard,"Horizon: Install policy files for manila-ui

Since the commit 89a90ff9773b93062760df5e3deefb9750112633 was merged,
manila-ui provides two policy files. This change ensures that these
files are installed when manila-ui is enabled.

Change-Id: Id92145ba74237da2fd8430b9d84413465297d3a7
(cherry picked from commit 77fc442a91bf479772b45dd8a3c9de1691e450b9)
"
openstack%2Fcinder~master~Icf8a4829a02a3b3bba9375af7a27f86e24a850b7,openstack/cinder,master,,Icf8a4829a02a3b3bba9375af7a27f86e24a850b7,image_utils: Simplify fetch_verify_image,MERGED,2021-02-05 23:13:29.000000000,2021-06-21 17:46:30.000000000,2021-06-21 17:43:24.000000000,6,49,3,774321,e96f48d3692d92e80cebc2ac607fb1782162fc37,34,5,1,2,4523,Eric Harney,eharney,"image_utils: Simplify fetch_verify_image

Remove unused params and code.

This is only ever called with user_id,
project_id, and size set to None.

Change-Id: Icf8a4829a02a3b3bba9375af7a27f86e24a850b7
"
openstack%2Fdevstack~master~I32ee7457586e3de8ba4dfce3b1a12025f9776542,openstack/devstack,master,,I32ee7457586e3de8ba4dfce3b1a12025f9776542,Delay horizon startup,MERGED,2021-06-19 12:17:14.000000000,2021-06-21 17:46:05.000000000,2021-06-21 17:44:27.000000000,1,2,0,797177,7befae663c6aa99343cb2c90e74ee2e3bc676559,11,4,2,1,29244,Gregory Thiemonge,gthiemonge,"Delay horizon startup

Move the 'Starting Horizon' task after the end of the wait for
create_flavors.
The start_horizon function restarts the httpd server, the openstack
services are unavailable during a short period of time, so the
""openstack flavor create"" calls might fail randomly.

Closes-Bug: #1932580
Change-Id: I32ee7457586e3de8ba4dfce3b1a12025f9776542
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I6ce262a6e77a4d40b6ff246240d21390289cc54b,openstack/tripleo-ansible,stable/wallaby,sefcontext-stable/wallaby,I6ce262a6e77a4d40b6ff246240d21390289cc54b,Ensure we get the relevant fcontext overrides,MERGED,2021-06-21 06:03:44.000000000,2021-06-21 17:41:44.000000000,2021-06-21 17:41:44.000000000,119,13,0,797206,57c7149488f05ce7c896a79dad3aa7dbcf3e61bf,12,6,3,19,28223,Cedric Jeanneret,cjeanner,"Ensure we get the relevant fcontext overrides

Until now, running a restorecon could break the SELinux labels. In order
to avoid such an issue, we can override the existing rules pushed in
/etc/selinux/targeted/contexts/ using fcontext. It makes the change
persistent across reboots.

Please note the following:
- sefcontext triggers a policy reload
- fcontext doesn't actually apply the labels
- creating the fcontext entry before creating the file allows to get the
  file created with the right labels directly
- we have to ensure SELinux is enabled on the host before actually
  creating the rules.

Change-Id: I6ce262a6e77a4d40b6ff246240d21390289cc54b
(cherry picked from commit 608fdfae85be5e1d6d20d49c62583e48ce5a0bc5)
"
openstack%2Fuc-recognition~master~Ie4df1226ad07bad2f6a549b7e31c79f5b896470e,openstack/uc-recognition,master,retire-uc-recognition,Ie4df1226ad07bad2f6a549b7e31c79f5b896470e,Retire uc-recognition repo,MERGED,2021-06-18 00:19:06.000000000,2021-06-21 17:38:16.000000000,2021-06-21 17:38:16.000000000,10,645,0,796969,8d9e110d9cbe0076f03f6783d0e47b815ae5fa9f,9,3,2,7,8556,Ghanshyam,ghanshyam,"Retire uc-recognition repo

As discussed in TC meeting[1], TC is retiring the
uc-recognition repo.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: Ie4df1226ad07bad2f6a549b7e31c79f5b896470e
"
openstack%2Fops-tags-team~master~I2416860cc53f39cca3379667da70208670e401ff,openstack/ops-tags-team,master,retire-ops-tags-team,I2416860cc53f39cca3379667da70208670e401ff,Retire ops-tags-team repo,MERGED,2021-06-18 00:18:12.000000000,2021-06-21 17:38:09.000000000,2021-06-21 17:38:09.000000000,8,2120,0,796968,48f390085a0792c2f8f8d61588df858817c87f32,9,3,2,29,8556,Ghanshyam,ghanshyam,"Retire ops-tags-team repo

As discussed in TC meeting[1], TC is retiring the
ops-tags-team repo.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: I2416860cc53f39cca3379667da70208670e401ff
"
openstack%2Fenterprise-wg~master~Ic195761466c3a0eb4d50f2e2bdb89738b67b32a7,openstack/enterprise-wg,master,retire-enterprise-wg,Ic195761466c3a0eb4d50f2e2bdb89738b67b32a7,Retire enterprise-wg repo,MERGED,2021-06-18 00:10:55.000000000,2021-06-21 17:37:57.000000000,2021-06-21 17:37:57.000000000,10,0,0,796966,bb4cfb598fbded0aec95b1a960cf2b9d6d537a93,9,3,2,1,8556,Ghanshyam,ghanshyam,"Retire enterprise-wg repo

As discussed in TC meeting[1], TC is retiring the
enterprise-wg repo.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: Ic195761466c3a0eb4d50f2e2bdb89738b67b32a7
"
openstack%2Fgovernance-uc~master~I108328a22c5b8e941fef057ef90574b9d1217754,openstack/governance-uc,master,retire-governance-uc,I108328a22c5b8e941fef057ef90574b9d1217754,Retire governance-uc repo,MERGED,2021-06-18 00:19:50.000000000,2021-06-21 17:37:53.000000000,2021-06-21 17:37:53.000000000,8,1772,0,796970,5f6a68896324b85fe208a9d80abef4daa66177d8,10,3,2,32,8556,Ghanshyam,ghanshyam,"Retire governance-uc repo

As discussed in TC meeting[1], TC is retiring the
governance-uc repo.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: I108328a22c5b8e941fef057ef90574b9d1217754
"
openstack%2Fworkload-ref-archs~master~I935d26a6b6b8fc137491674b7f81667127a58137,openstack/workload-ref-archs,master,retire-workload-ref-archs,I935d26a6b6b8fc137491674b7f81667127a58137,Retire workload-ref-archs repo,MERGED,2021-06-18 00:17:44.000000000,2021-06-21 17:37:51.000000000,2021-06-21 17:37:51.000000000,8,6223,0,796967,4f68968bedbb7ff0adbab20e268f014093b0df41,10,3,2,62,8556,Ghanshyam,ghanshyam,"Retire workload-ref-archs repo

As discussed in TC meeting[1], TC is retiring the
workload-ref-archs repo.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: I935d26a6b6b8fc137491674b7f81667127a58137
"
openstack%2Farch-wg~master~Ib6d7bceada9b41d87785ea90e27761435439596c,openstack/arch-wg,master,retire-arch-wg,Ib6d7bceada9b41d87785ea90e27761435439596c,Retire arch-wg repo,MERGED,2021-06-18 00:09:10.000000000,2021-06-21 17:37:48.000000000,2021-06-21 17:37:48.000000000,9,930,0,796964,33f4d817d41494b97260948ff579ef020cfd13a6,12,4,2,16,8556,Ghanshyam,ghanshyam,"Retire arch-wg repo

As discussed in TC meeting[1], TC is retiring the
arch-wg repo.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: Ib6d7bceada9b41d87785ea90e27761435439596c
"
openstack%2Fproject-navigator-data~master~Ibbdf7099298e1eb5c0209298b67b667434488526,openstack/project-navigator-data,master,retire-project-navigator-data,Ibbdf7099298e1eb5c0209298b67b667434488526,Retire project-navigator-data repo,MERGED,2021-06-18 00:10:29.000000000,2021-06-21 17:35:46.000000000,2021-06-21 17:35:46.000000000,9,1371,0,796965,824ca86eccfd4f8363448e5d4304c0089fcedace,13,4,2,106,8556,Ghanshyam,ghanshyam,"Retire project-navigator-data repo

As discussed in TC meeting[1], TC is retiring the
project-navigator-data repo.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: Ibbdf7099298e1eb5c0209298b67b667434488526
"
openstack%2Fopenstack-specs~master~Ieb37227e6b80a64ead680ece315973e2f040da6e,openstack/openstack-specs,master,retire-openstack-specs,Ieb37227e6b80a64ead680ece315973e2f040da6e,Retire openstack-specs repo,MERGED,2021-06-18 00:08:51.000000000,2021-06-21 17:35:24.000000000,2021-06-21 17:35:24.000000000,12,3607,2,796963,51789f3b4f29e25dfb64785e44354463f6bd4dcc,19,4,4,33,8556,Ghanshyam,ghanshyam,"Retire openstack-specs repo

As discussed in TC meeting[1], TC is retiring the
openstack-specs repo.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: Ieb37227e6b80a64ead680ece315973e2f040da6e
"
openstack%2Fcharm-deployment-guide~master~I273027c6c7ac8baef1f850ea47e1c65ba2490ec1,openstack/charm-deployment-guide,master,lp1926385-add-support-info-trilio,I273027c6c7ac8baef1f850ea47e1c65ba2490ec1,Add support info to Trilio page,MERGED,2021-06-14 14:47:15.000000000,2021-06-21 17:34:14.000000000,2021-06-21 17:33:02.000000000,40,0,0,796288,f266eaa367ad4306411bf76833d6b769c987e23d,7,2,1,1,30561,Peter Matulis,pmatulis,"Add support info to Trilio page

Add ""Supported combinations"" section to the Trilio
page. This was taken verbatim from the 21.03_Trilio
Release Notes page.

Closes-Bug: #1926385
Change-Id: I273027c6c7ac8baef1f850ea47e1c65ba2490ec1
"
openstack%2Ftripleo-ansible~master~I936c2054e03e269be4dc7a6c2f02878feb288f5d,openstack/tripleo-ansible,master,bp/whole-disk-default,I936c2054e03e269be4dc7a6c2f02878feb288f5d,Properly detect default whole-disk image,MERGED,2021-05-06 01:55:21.000000000,2021-06-21 17:29:31.000000000,2021-06-21 17:29:31.000000000,13,5,0,789973,25e099891dc94230b9c5a0dab7cab1f510334a5d,26,6,3,1,4571,Steve Baker,steve-stevebaker,"Properly detect default whole-disk image

Previously the whole-disk default detection worked by looking for
overcloud-full.raw with no .vmlinuz or .initrd file, but our tooling
will never produce this by default.

The overcloud image build command will generate
overcloud-hardened-uefi-full.qcow2, and the upload command will
convert this to overcloud-hardened-uefi-full.raw. This commit changes
the whole-disk default detection to simply look for the presence of
file overcloud-hardened-uefi-full.raw.

Change-Id: I936c2054e03e269be4dc7a6c2f02878feb288f5d
Blueprint: whole-disk-default
"
openstack%2Ftripleo-heat-templates~master~If256b2b70f3a62648eb9563903c2adfb9b31fea9,openstack/tripleo-heat-templates,master,,If256b2b70f3a62648eb9563903c2adfb9b31fea9,Drop mistral configuration from post deploy,MERGED,2021-06-21 06:32:36.000000000,2021-06-21 17:29:21.000000000,2021-06-21 17:29:21.000000000,0,37,0,797228,574cf27691638a7bb0170f7920ace405d3bd5eb1,9,5,1,2,8833,Rabi Mishra,rabi,"Drop mistral configuration from post deploy

Though we still have the option to enable mistral
in the undercloud, we don't use it for overcloud
deployment.

Note: We can get rid of UndercloudPostPy* resources once
nova is not supported for node deployment.

Change-Id: If256b2b70f3a62648eb9563903c2adfb9b31fea9
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I2797da50489e3812aa58415e2e6ba44894a89094,openstack/tripleo-heat-templates,stable/wallaby,bug/1916386-wallaby,I2797da50489e3812aa58415e2e6ba44894a89094,Remove heat::heat_keystone_clients_url definition,MERGED,2021-06-16 15:50:37.000000000,2021-06-21 17:29:02.000000000,2021-06-21 17:29:02.000000000,0,1,0,796656,5e941e4ef217fdb58429045809c4592f3ce03b33,15,5,2,1,9816,Takashi Kajinami,kajinamit,"Remove heat::heat_keystone_clients_url definition

During Queens release cycle it was decided that
clients_keystone/auth_uri should be defined and should point to
public URL to allow instances run some API calls.

Two changes were added:

- I4429d86d831f49f1bc0fef04379a81ada20b6ab6 was used to add
  related definitions to puppet-heat
- Ib1cb8a5da886e3f7afd88f8dc9d63f0847f677bd was used to add
  appropriate hiera defition to THT

But hiera definition in THT was incorrect:
heat::heat_keystone_clients_url was defined instead of
heat::heat_clients_keystone_uri.

heat_clients_keystone_uri parameter was removed from puppet-heat
during Train release cycle:
I507fd2beecface5f8de35d18bfb546a653c6ef51

Partial-Bug: #1916386
Change-Id: I2797da50489e3812aa58415e2e6ba44894a89094
(cherry picked from commit dc083686dee210a1b81a32da2ff1f1a0f17ec324)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I74874b81002fe435752a5cd724d2df9683b0cdbf,openstack/tripleo-heat-templates,stable/wallaby,,I74874b81002fe435752a5cd724d2df9683b0cdbf,Add post_upgrade_task and remove puppet-ceph pkg,MERGED,2021-06-18 08:59:20.000000000,2021-06-21 17:28:56.000000000,2021-06-21 17:28:56.000000000,7,0,0,797007,17de50a8d1802192c347c75effd8bb5a176fd05a,10,4,1,1,6796,Giulio Fidente,gfidente,"Add post_upgrade_task and remove puppet-ceph pkg

Adds a post_upgrade_task to remove the puppet-ceph package which
is no longer required.

Also see change I9cd63ee34dfd964f18a33043980703660b0a55d7 for
the ceph-ansible version.

Change-Id: I74874b81002fe435752a5cd724d2df9683b0cdbf
(cherry picked from commit e85da3e9ed08ca6bd04adee7e23bfe14f8cd36a4)
"
openstack%2Fhorizon~stable%2Ftrain~I1bbf3b23717f9924974920d6569e018b94e3dbe8,openstack/horizon,stable/train,bug/1926511-stable/train,I1bbf3b23717f9924974920d6569e018b94e3dbe8,Add horizontal scrollbar to role dropdown,ABANDONED,2021-06-21 15:16:08.000000000,2021-06-21 17:16:46.000000000,,2,0,0,797297,e44954fa14967327dbfdb66bc30be7687413bc87,4,3,1,1,30746,Travis Neely,travis.neely@att.com,"Add horizontal scrollbar to role dropdown

Manage members dialog has a dropdown which lists all the role names.
If a role name is long enough, it pushes all the roles to the left
and hides them partially. This patch adds horizontal scrollbar for
such cases.

Closes-Bug: #1926511

Change-Id: I1bbf3b23717f9924974920d6569e018b94e3dbe8
"
openstack%2Fansible-collections-openstack~master~I9e64913cd157f2985ef720ddecfbeb9ad996fa2c,openstack/ansible-collections-openstack,master,,I9e64913cd157f2985ef720ddecfbeb9ad996fa2c,Switch user_info module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-21 17:16:09.000000000,2021-06-21 17:16:09.000000000,17,30,8,792428,555178ecc6961c1f123d50eaa3c0ee8ebaec3922,32,2,3,1,27900,Artem Goncharov,gtema,"Switch user_info module to OpenStackModule

Drop deprecated block to keep simplicity.

Change-Id: I9e64913cd157f2985ef720ddecfbeb9ad996fa2c
"
openstack%2Fkolla-ansible~stable%2Fussuri~I185f7c09c3f026fd6926a26001393f066ff1860d,openstack/kolla-ansible,stable/ussuri,,I185f7c09c3f026fd6926a26001393f066ff1860d,Support editable installation in all cases,MERGED,2021-06-18 07:42:20.000000000,2021-06-21 17:14:32.000000000,2021-06-21 17:13:08.000000000,26,8,0,796870,46898f4e3f035ec7cd17be159c7c76687ffff52e,19,4,2,1,30491,Radosław Piliszek,yoctozepto,"Support editable installation in all cases

An editable installation allows changes to be made to the source code
directly, and have those changes applied immediately without having to
reinstall.

    pip install -e /path/to/kolla-ansible

Above is currently working only in virtualenv, but there is no reason to
not allow in all cases. This is usefull for example when user is
building his own docker container with editable kolla-ansible installed
from git without virtualenv.

Change-Id: I185f7c09c3f026fd6926a26001393f066ff1860d
(cherry picked from commit 22a6765f5e0ddae1527faaaeeff0260f5996a9e7)
"
openstack%2Fansible-collections-openstack~master~I359fcf8d815413b52b993b343c458c8c986bc247,openstack/ansible-collections-openstack,master,,I359fcf8d815413b52b993b343c458c8c986bc247,Switch ProjectAccess module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-21 17:04:10.000000000,2021-06-21 17:04:10.000000000,43,48,0,792419,7446ab23b8ae61983a28d23911e0a4927b3ebae1,15,2,3,1,27900,Artem Goncharov,gtema,"Switch ProjectAccess module to OpenStackModule

Switch project_access module to the general OpenStackModule.

Change-Id: I359fcf8d815413b52b993b343c458c8c986bc247
"
openstack%2Fansible-collections-openstack~master~I67df08cced62fb729cb1d4fbb43ac5977fca61de,openstack/ansible-collections-openstack,master,,I67df08cced62fb729cb1d4fbb43ac5977fca61de,Switch role_assignment module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-21 17:04:07.000000000,2021-06-21 17:04:07.000000000,58,63,0,792416,025887840015c7a0048b08a021d07fb2f257aac7,26,3,2,1,27900,Artem Goncharov,gtema,"Switch role_assignment module to OpenStackModule

Switch role_assignment module to the general OpenStackModule.

Change-Id: I67df08cced62fb729cb1d4fbb43ac5977fca61de
"
openstack%2Fpuppet-cinder~stable%2Fwallaby~If08fce9443281e65636aaaa99e3139732435f6f7,openstack/puppet-cinder,stable/wallaby,,If08fce9443281e65636aaaa99e3139732435f6f7,Improve cinder_type properties regex,MERGED,2021-06-20 13:06:24.000000000,2021-06-21 17:01:45.000000000,2021-06-21 17:01:45.000000000,4,4,0,797194,a3976afb609c9ab19ea802205b7b15e0be37f0ec,8,5,2,2,9816,Takashi Kajinami,kajinamit,"Improve cinder_type properties regex

This changes the regex for properties managed with
the cinder_type resource so that it supports the
format Cinder needs for multiattach and similar.

  multiattach=<is> True

This patch is needed so that cinder_type resources
can set the above.

See regex testing here [1]. Needs to be backported
to older versions so that cinder_type can be
properly used there as well.

[1] https://regexr.com/5imqk

Change-Id: If08fce9443281e65636aaaa99e3139732435f6f7
(cherry picked from commit a032bec7d6a6016126f667361143e6630e159080)
"
openstack%2Ftripleo-quickstart~master~Id9b0c5bcf8419e3112d25ac27629c15b8d88f7ff,openstack/tripleo-quickstart,master,csibbitt-1947116-test-qdr-in-fs039,Id9b0c5bcf8419e3112d25ac27629c15b8d88f7ff,[DNM] Include metrics QDR in FS039 (TLS-e) testing,ABANDONED,2021-05-17 18:42:48.000000000,2021-06-21 17:01:44.000000000,,1,0,0,791817,4ffaba4352558dc2fe8552653851aee8403ffce9,5,2,2,1,30893,Chris Sibbitt,csibbitt,"[DNM] Include metrics QDR in FS039 (TLS-e) testing

Test commit in order to get CI to run against https://review.opendev.org/c/openstack/tripleo-heat-templates/+/786700

Change-Id: Id9b0c5bcf8419e3112d25ac27629c15b8d88f7ff
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I8453ed584ec62458622522bd99fb7fda60afe022,openstack/tripleo-heat-templates,stable/victoria,bug/1930151-stable/victoria,I8453ed584ec62458622522bd99fb7fda60afe022,"Revert ""Always run network config for undercloud""",MERGED,2021-06-18 14:51:48.000000000,2021-06-21 16:55:09.000000000,2021-06-21 16:55:09.000000000,0,1,0,797098,f58effc74cbcee34320566351f02706aeb85aa80,12,3,1,1,14985,Alex Schultz,mwhahaha,"Revert ""Always run network config for undercloud""

This reverts commit c2c2111ef5aaef12e3a9fe70f4569e606de2cfe6.

Reason for revert: Merged before master and the var is incorrect.

Change-Id: I8453ed584ec62458622522bd99fb7fda60afe022
"
openstack%2Ftripleo-ansible~master~I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127,openstack/tripleo-ansible,master,change_tasks_names,I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127,More descriptive task names,MERGED,2021-06-11 10:22:53.000000000,2021-06-21 16:41:02.000000000,2021-06-21 16:41:02.000000000,3,3,0,795980,138f9f6708546cf17f28334be93ee2acc3fbf9a8,12,8,1,2,32968,Juan Larriba,jlarriba,"More descriptive task names

As highlighted by marios on [1] and [2] the task names were
not descriptive of what it was being done, as it implied that some kind
of verification was being done.

This patch does not change any functionality, but it changes the names
of the tasks to something more according to what it is being done.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml
[2] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml

Change-Id: I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127
"
openstack%2Fansible-collections-openstack~master~I57c2c558bd01c984453fb11048e8a888ec4d9eea,openstack/ansible-collections-openstack,master,,I57c2c558bd01c984453fb11048e8a888ec4d9eea,Switch identity_role module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-21 16:19:07.000000000,2021-06-21 16:19:07.000000000,27,31,0,792430,0cbaeb6fbb5de9ca8aab9445324f951491306693,17,2,3,1,27900,Artem Goncharov,gtema,"Switch identity_role module to OpenStackModule

Change-Id: I57c2c558bd01c984453fb11048e8a888ec4d9eea
"
openstack%2Ftripleo-ansible~master~I2d4738a78f5fa1c94844d7a51fb7f50cf832c070,openstack/tripleo-ansible,master,prep_images_output,I2d4738a78f5fa1c94844d7a51fb7f50cf832c070,Write prepared container images tags to a file,ABANDONED,2021-06-16 08:06:06.000000000,2021-06-21 16:18:21.000000000,,7,5,1,796598,355db551ea69a8bae1dce19eac119ed5daa732a0,6,4,1,1,6926,Bogdan Dobrelya,bogdando,"Write prepared container images tags to a file

Since ephemeral heat containers require a mechanism to auto-evaluate
image/tag for it to use, always store the resulted prepared container
images info as a file, additionally to stdout. It defaults to
$HOME/container_images.yaml.

Change-Id: I2d4738a78f5fa1c94844d7a51fb7f50cf832c070
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fpython-tripleoclient~master~I52e1c27541f8f748b045ae29dfa7a718e12cb903,openstack/python-tripleoclient,master,prep_images_output,I52e1c27541f8f748b045ae29dfa7a718e12cb903,Write prepared container images tags to a file,ABANDONED,2021-06-16 08:34:22.000000000,2021-06-21 16:18:13.000000000,,17,3,3,796606,7a68879d7be76d89cd56632a836965ac852892b3,12,5,3,3,6926,Bogdan Dobrelya,bogdando,"Write prepared container images tags to a file

Similarly to 'overcloud container image prepare', make sure
'tripleo container image prepare' always stores the resulted
images tags info into a file. It picks the same default
~/container_images.yaml destination for that.

This would help to auto-evaluate the image/tag to be used with
ephemeral heat, had that container_images.yaml file been
prepared earlier by a user.

Depends-On: https://review.opendev.org/c/796598

Change-Id: I52e1c27541f8f748b045ae29dfa7a718e12cb903
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fmanila~master~Ifdf0633bc60d58da9d626aa148d63e57660714a1,openstack/manila,master,,Ifdf0633bc60d58da9d626aa148d63e57660714a1,test_git_review,ABANDONED,2021-06-21 10:46:32.000000000,2021-06-21 16:09:10.000000000,,1,0,0,797277,2a474884ace5d41e6cafcb1c13b530e73f3e766d,3,0,1,1,30384,zhangboye,zhangboye,"test_git_review

Change-Id: Ifdf0633bc60d58da9d626aa148d63e57660714a1
"
openstack%2Fironic~master~I76821c032180a58d0f99d31110fbe0f844c0cb3f,openstack/ironic,master,story/2008863,I76821c032180a58d0f99d31110fbe0f844c0cb3f,Add additional node indexes,MERGED,2021-04-29 00:49:05.000000000,2021-06-21 16:06:47.000000000,2021-05-21 14:19:59.000000000,202,0,21,788625,205a8b3037b62cbae7f5385f4d9b9404a702414e,60,4,12,5,11655,Julia Kreger,jkreger,"Add additional node indexes

Secure RBAC, along with numerous periodics, and even some common API
access patterns heavily access the ironic database and sometimes cause
queries across multiple columns to match nodes to return.

None of this is bad, but what is bad is we didn't have indexes on these
columns.

This change adds docs, and the schema upgrade to create the column
indexes, and a release note to provide more visible documentation
for operators.

It must be stressed that this does *not* improve query times
when all records are asked for on a database connection.

Also adds an upgrade check in to raise a warning for operator
visibility.

Story: 2008863
Task: 42392
Change-Id: I76821c032180a58d0f99d31110fbe0f844c0cb3f
"
openstack%2Fopenstack-helm~master~I0ad86c9d53db3533b65a41387bbd426c9023d6ee,openstack/openstack-helm,master,update-ceph-csi-provisioner,I0ad86c9d53db3533b65a41387bbd426c9023d6ee,Update gate scripts for Ceph CSI RBD Provisioner,MERGED,2021-06-11 14:31:50.000000000,2021-06-21 16:06:43.000000000,2021-06-21 16:03:05.000000000,19,2,0,796025,48738f5426638c75819cec89897c0ffcfcd834ff,21,9,1,7,22636,Cliff Parsons,cliffparsons,"Update gate scripts for Ceph CSI RBD Provisioner

This patch updates the gate scripts so that the Ceph CSI RBD Provisioner
will be tested appropriately and is documented properly.

Change-Id: I0ad86c9d53db3533b65a41387bbd426c9023d6ee
"
openstack%2Fironic~bugfix%2F18.0~I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3,openstack/ironic,bugfix/18.0,secure-rbac-bugfix/18.0,I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3,Fix node detail instance_uuid request handling,MERGED,2021-06-21 09:02:53.000000000,2021-06-21 15:52:53.000000000,2021-06-21 14:18:26.000000000,138,58,0,797211,0bbbba77c28549b7d24bf97ce7764409e7585c99,11,2,1,4,23851,Riccardo Pittau,elfosardo,"Fix node detail instance_uuid request handling

The instance_uuid handling on the detailed node information
endpoint of the api (/v1/nodes/detail?instance_uuid=<uuid>),
which is used by services such as Nova for explicit node status
lookups, previously had special conditional logic surrounding it
which skipped the inclusion of the API requestor project-id, from
being incorporated into the database query.

Ultimately, this allowed an authenticated user to obtain a partially
redacted node entry where sensitive informational fields were scrubbed
from the response payload.

With this fix, queries for an explicit instance_uuid now follow the
standard path inside the Ironic API to the database which includes
inclusion of a requestor Project-ID if required by configured policy.

Change-Id: I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3
Story: 2008976
Task: 42620
(cherry picked from commit be3c153d56e7f94a128438adcc5c717c50336bed)
"
openstack%2Fcharm-deployment-guide~master~If6ac7c32e7a0cf518d3ec105cfedb168c4d0cd5b,openstack/charm-deployment-guide,master,fix-broken-links,If6ac7c32e7a0cf518d3ec105cfedb168c4d0cd5b,Fix broken hyperlinks,MERGED,2021-06-21 14:56:23.000000000,2021-06-21 15:48:05.000000000,2021-06-21 15:45:22.000000000,3,3,0,797321,e61379839114518fc74d56dd0db4a847a583f27e,7,2,1,3,30561,Peter Matulis,pmatulis,"Fix broken hyperlinks

These links aren't really broken but web team reporting
tools see them as such, probably due to redirection
time (?).

Change-Id: If6ac7c32e7a0cf518d3ec105cfedb168c4d0cd5b
"
openstack%2Fkolla-ansible~stable%2Ftrain~Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,openstack/kolla-ansible,stable/train,bug/1933033-stable/train,Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,Do not set pid file for iscsid,MERGED,2021-06-21 12:03:43.000000000,2021-06-21 15:47:27.000000000,2021-06-21 15:46:08.000000000,7,1,0,797270,362838dec696485814b981168fed0ea1077ae27b,9,3,1,2,14826,Mark Goddard,mgoddard,"Do not set pid file for iscsid

Kolla Ansible runs iscsid in the foreground (-f) and
a recent change to iscsid in CentOS 8 (both Linux and Stream)
caused it to reject setting pid file in such a case.
PID file is irrelevant in this scenario so this commit
removes its parameter.

Closes-Bug: #1933033
Change-Id: Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d
(cherry picked from commit 18a0af6954f48a03bc125fd690347e3ef259096f)
"
openstack%2Fcharm-deployment-guide~master~I112db5c4e6bf22f09757ca0ed5788140d124deab,openstack/charm-deployment-guide,master,de-app,I112db5c4e6bf22f09757ca0ed5788140d124deab,De-appendicize nova-cells page,MERGED,2021-06-04 20:47:22.000000000,2021-06-21 15:47:11.000000000,2021-06-21 15:44:52.000000000,3,1,0,794898,b495131bef5e2afff68b92ec12a491cb6ebbb7ef,14,3,3,4,30561,Peter Matulis,pmatulis,"De-appendicize nova-cells page

Rename the nova-cells page

Add a corresponding redirect and redirect test

Change-Id: I112db5c4e6bf22f09757ca0ed5788140d124deab
"
openstack%2Fmanila~master~I7ab152192740d477110b0d1d626b059bb2881cce,openstack/manila,master,,I7ab152192740d477110b0d1d626b059bb2881cce,test_git_review,ABANDONED,2021-06-21 10:37:46.000000000,2021-06-21 15:46:18.000000000,,1,0,0,797274,4dcffce0df44d7265605606b9418e316d7268d48,3,0,1,1,30384,zhangboye,zhangboye,"test_git_review

Change-Id: I7ab152192740d477110b0d1d626b059bb2881cce
"
openstack%2Fpython-tripleoclient~master~Ieef12cc62515d565463658e03c6b494f171dedf0,openstack/python-tripleoclient,master,bug/1932584,Ieef12cc62515d565463658e03c6b494f171dedf0,Add roles override for unused services,ABANDONED,2021-06-18 18:55:57.000000000,2021-06-21 15:45:15.000000000,,23,2,1,797150,88df634be6c5a51081dc9b2e989d75334d3ec53d,6,3,2,1,14985,Alex Schultz,mwhahaha,"Add roles override for unused services

We used to remove unused services from the roles file prior to doing
deploys as this reduced the number of stacks and prevented extra
containers from being fetched. This was lost when we moved away from
swift. This changes pulls some of the code we use to do this for
standalone and applies it to the overcloud deployment.

Change-Id: Ieef12cc62515d565463658e03c6b494f171dedf0
Related-Bug: #1932584
"
openstack%2Fsahara-dashboard~master~Ic7dd570f9a8c75fddf4584b0b63c1530d1becb39,openstack/sahara-dashboard,master,exame-tls-proxy,Ic7dd570f9a8c75fddf4584b0b63c1530d1becb39,Enable tls-proxy in test job,NEW,2021-06-17 07:42:41.000000000,2021-06-21 15:40:52.000000000,,0,1,0,796775,2e516e35d0e85afc9faefc55b4cba8379d07103c,3,2,1,1,12404,Rico Lin,rico.lin,"Enable tls-proxy in test job

Change-Id: Ic7dd570f9a8c75fddf4584b0b63c1530d1becb39
"
openstack%2Fsahara-tests~master~If3939c0b4ad9d81105f60f83be74c73ecd8429eb,openstack/sahara-tests,master,exame-tls-proxy,If3939c0b4ad9d81105f60f83be74c73ecd8429eb,Enable tls-proxy in test jobs,NEW,2021-06-17 07:45:21.000000000,2021-06-21 15:40:41.000000000,,0,8,0,796776,ee04fed8f2a44844dbcb592022f617718d9b3fda,3,2,1,1,12404,Rico Lin,rico.lin,"Enable tls-proxy in test jobs

Change-Id: If3939c0b4ad9d81105f60f83be74c73ecd8429eb
"
openstack%2Fsahara~master~I1cf6f22277c3ee98f1be1c8f70a3b762ceb7b2d1,openstack/sahara,master,exame-tls-proxy,I1cf6f22277c3ee98f1be1c8f70a3b762ceb7b2d1,Enable tls-support in test job,NEW,2021-06-17 07:39:57.000000000,2021-06-21 15:40:29.000000000,,0,5,0,796774,92e759b24010256340cefbbf4e63bd73aa1d7226,3,2,1,1,12404,Rico Lin,rico.lin,"Enable tls-support in test job

Change-Id: I1cf6f22277c3ee98f1be1c8f70a3b762ceb7b2d1
"
openstack%2Ftrove~stable%2Focata~I6994c37fd159289fb755e5b59cf4c1896d18fe3d,openstack/trove,stable/ocata,bug/1743405,I6994c37fd159289fb755e5b59cf4c1896d18fe3d,Failed to build mongo image,ABANDONED,2018-05-02 20:08:34.000000000,2021-06-21 15:33:04.000000000,,1,1,0,565892,f625c4a244409134bb0762cde43825454f78dbc1,6,4,1,1,18665,Pierre Blanc,pblanc,"Failed to build mongo image

Mongodb is no more available in version 3.2.6

Partial-Bug: #1743405
Change-Id: I6994c37fd159289fb755e5b59cf4c1896d18fe3d
(cherry picked from commit 5e16c93cfddc7cd0e45910c1ad4571a67846e5c7)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ia5a6b7faa65401e61b39ac36d049f40a48c346a6,openstack/tripleo-heat-templates,stable/wallaby,create-wallaby,Ia5a6b7faa65401e61b39ac36d049f40a48c346a6,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-05-05 15:36:19.000000000,2021-06-21 15:32:22.000000000,2021-06-21 15:31:01.000000000,2,2,0,789890,0c97152f2064cf544aa6f43d9f2a910a36020544,8,3,1,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ia5a6b7faa65401e61b39ac36d049f40a48c346a6
"
openstack%2Ftacker~stable%2Focata~I02833fb0be37c7cb5842b5c20110755d9d150300,openstack/tacker,stable/ocata,fix_bug_1706336,I02833fb0be37c7cb5842b5c20110755d9d150300,Author: Wangchenglong Date: Aug.7th 2017,ABANDONED,2017-08-07 03:20:02.000000000,2021-06-21 15:31:21.000000000,,13,3,0,491325,dcdda4c6f285da7343119a204faff67637d4cc3b,6,3,1,1,24173,wangchenglong,wangchenglong,"Author: Wangchenglong
Date: Aug.7th 2017

  Get the last heat limits=2 event eventA before sending signal,
  and in scale_wait function, get the heat limits=2 evnetB.
  Compare these two event id, if they are not equals and the eventB
  resource status is not ""SIGNAL_COMPLETE"", it means heat
  auto_scaling is in progress.
  If the events id are the same, it means signal occurred within
  cool down window or capability reaches the limit, no events generated
  from heat or the signal is not received. Five seconds is well enough
  to get the signal if the network is ok.
  Tacker VNF status should switch back to ACTIVE when this
  scenario occurring.

Change-Id: I02833fb0be37c7cb5842b5c20110755d9d150300
"
openstack%2Fpuppet-nova~stable%2Fwallaby~I92af8c82febbcdd09512aa05130e9bba0b21e83f,openstack/puppet-nova,stable/wallaby,num_memory_encrypted_guests_w,I92af8c82febbcdd09512aa05130e9bba0b21e83f,Add parameter to set the libvirt max_number of guests with encrypted memory,MERGED,2021-06-17 15:27:49.000000000,2021-06-21 15:31:07.000000000,2021-06-21 15:29:25.000000000,40,25,3,796880,b256cb0a27bc45d19b4e67034728cb6c2c74cc35,16,5,2,3,17216,Martin Schuppert,mcschupp,"Add parameter to set the libvirt max_number of guests with encrypted memory

Depends-On: https://review.opendev.org/c/openstack/nova/+/666616

Conflicts:
	manifests/compute/libvirt.pp

Change-Id: I92af8c82febbcdd09512aa05130e9bba0b21e83f
(cherry picked from commit 6d1bad02a977f824a4e18687729972082e62ac52)
"
openstack%2Ftripleo-validations~stable%2Fwallaby~If2578fcd069ba60e33b375c04ba2912affce53e0,openstack/tripleo-validations,stable/wallaby,bug/1931172-stable/wallaby,If2578fcd069ba60e33b375c04ba2912affce53e0,Use OS_CLOUD environment variable,MERGED,2021-06-21 07:02:06.000000000,2021-06-21 15:30:55.000000000,2021-06-21 15:30:55.000000000,2,2,0,797208,1d166b03f43069739170d517ff9ccc8a41a79f64,7,6,1,1,8833,Rabi Mishra,rabi,"Use OS_CLOUD environment variable

If OS_CLOUD env variable is set, that should be used.

Change-Id: If2578fcd069ba60e33b375c04ba2912affce53e0
(cherry picked from commit ee6e66649fd14656db1a1f49eb8463821b475393)
"
openstack%2Fpython-tackerclient~stable%2Focata~I52a99aaaba5f0c39a22ded3c0c2355454938dd71,openstack/python-tackerclient,stable/ocata,bug/1705372,I52a99aaaba5f0c39a22ded3c0c2355454938dd71,"tackerclient provides os-service-type as an input parameter, but when user inputs something different with ""nfv-orchestration"" it does not work.",ABANDONED,2017-07-20 06:49:59.000000000,2021-06-21 15:30:09.000000000,,1,0,2,485463,663dd7ca94b88b7e2dbaf456844eae5562d973ac,8,5,1,1,24173,wangchenglong,wangchenglong,"tackerclient provides os-service-type as an input parameter, but
when user inputs something different with ""nfv-orchestration"" it does not work.

it is because when constructing client in tackerclient.tacker.client.make_client
function, the service_type value is not put in the tacker_client instatiated parameters.

And the tackerclient.client.construct_http_client put ""nfv-orchestration"" as the default value
for service_type.

We need to add service_type=instance._service_type to let user choose what service type they want.

Change-Id: I52a99aaaba5f0c39a22ded3c0c2355454938dd71
Closes-Bug:#1705372
"
openstack%2Fkolla-ansible~stable%2Fussuri~Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,openstack/kolla-ansible,stable/ussuri,bug/1933033-stable/ussuri,Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,Do not set pid file for iscsid,MERGED,2021-06-21 12:03:15.000000000,2021-06-21 15:27:00.000000000,2021-06-21 15:25:39.000000000,7,1,0,797269,f0e39cd320b227489acc1c3d81ab772696114dfa,11,3,1,2,14826,Mark Goddard,mgoddard,"Do not set pid file for iscsid

Kolla Ansible runs iscsid in the foreground (-f) and
a recent change to iscsid in CentOS 8 (both Linux and Stream)
caused it to reject setting pid file in such a case.
PID file is irrelevant in this scenario so this commit
removes its parameter.

Closes-Bug: #1933033
Change-Id: Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d
(cherry picked from commit 18a0af6954f48a03bc125fd690347e3ef259096f)
"
openstack%2Foslo-specs~master~I41ca7856d5900ff1805bce017ede4d08528f1e7a,openstack/oslo-specs,master,,I41ca7856d5900ff1805bce017ede4d08528f1e7a,Use TOX_CONSTRAINTS_FILE,MERGED,2020-12-24 07:58:26.000000000,2021-06-21 15:21:49.000000000,2021-06-21 15:20:21.000000000,1,1,0,768449,ad4af697d1bfbdd9fde6d11e345d0a2bedfd3fd0,8,3,1,1,30384,zhangboye,zhangboye,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I41ca7856d5900ff1805bce017ede4d08528f1e7a
"
openstack%2Fansible-collections-openstack~master~I86ebbcc52b6558f4110fc439ed13fb590dddb590,openstack/ansible-collections-openstack,master,,I86ebbcc52b6558f4110fc439ed13fb590dddb590,Switch hostaggregate module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-21 15:20:38.000000000,2021-06-21 15:20:38.000000000,88,93,0,792435,fa7526a0ec2c28823d41edce3caaf66b14f90e68,16,2,4,1,27900,Artem Goncharov,gtema,"Switch hostaggregate module to OpenStackModule

Change-Id: I86ebbcc52b6558f4110fc439ed13fb590dddb590
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,openstack/kolla-ansible,stable/wallaby,bug/1933033-stable/wallaby,Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,Do not set pid file for iscsid,MERGED,2021-06-21 12:02:52.000000000,2021-06-21 15:17:24.000000000,2021-06-21 15:15:35.000000000,7,1,0,797267,ecddf74d7d2a58d4f62ad990c0705737b737b006,9,3,1,2,14826,Mark Goddard,mgoddard,"Do not set pid file for iscsid

Kolla Ansible runs iscsid in the foreground (-f) and
a recent change to iscsid in CentOS 8 (both Linux and Stream)
caused it to reject setting pid file in such a case.
PID file is irrelevant in this scenario so this commit
removes its parameter.

Closes-Bug: #1933033
Change-Id: Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d
(cherry picked from commit 18a0af6954f48a03bc125fd690347e3ef259096f)
"
openstack%2Fkolla-ansible~stable%2Fussuri~I968efbf3ad1de676548b4e3aeefc20bf80ca94a0,openstack/kolla-ansible,stable/ussuri,,I968efbf3ad1de676548b4e3aeefc20bf80ca94a0,octavia: Ensure service auth project exists,MERGED,2021-06-20 08:15:39.000000000,2021-06-21 15:17:19.000000000,2021-06-21 15:15:43.000000000,14,15,0,797112,a343753a7c224a64d2fb77471083d17bcc78d05e,15,3,2,3,30491,Radosław Piliszek,yoctozepto,"octavia: Ensure service auth project exists

Kolla Ansible supports configuration of the project used by Octavia to
communicate with other services, via octavia_service_auth_project. Until
Ussuri, this was set to admin. In Ussuri it changed to service. It may
also be set to a different value.

Kolla Ansible currently gives the octavia user the admin role in the
project, but it does not ensure that the project exists. For admin and
service projects, this is not a problem. If the project has been
customised however, it will not necessarily exist, which will cause
Octavia deployment to fail.

This change fixes the issue by ensuring that the service auth project
exists, in addition to the service project.

Closes-Bug: #1922100
Change-Id: I968efbf3ad1de676548b4e3aeefc20bf80ca94a0
(cherry picked from commit fbd80bcdc869cf22330d5d3c8770ec11bb28b4cd)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,openstack/kolla-ansible,stable/victoria,bug/1933033-stable/victoria,Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,Do not set pid file for iscsid,MERGED,2021-06-21 12:02:57.000000000,2021-06-21 15:17:05.000000000,2021-06-21 15:15:39.000000000,7,1,0,797268,77d70f0d8fbaec529379d84ca2b695b31d89535a,9,3,1,2,14826,Mark Goddard,mgoddard,"Do not set pid file for iscsid

Kolla Ansible runs iscsid in the foreground (-f) and
a recent change to iscsid in CentOS 8 (both Linux and Stream)
caused it to reject setting pid file in such a case.
PID file is irrelevant in this scenario so this commit
removes its parameter.

Closes-Bug: #1933033
Change-Id: Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d
(cherry picked from commit 18a0af6954f48a03bc125fd690347e3ef259096f)
"
openstack%2Fironic~master~Ieefc184c01cd056880e7d6b467207308784e3ba0,openstack/ironic,master,secure-rbac,Ieefc184c01cd056880e7d6b467207308784e3ba0,WIP: Tea pot response,ABANDONED,2021-02-02 00:03:53.000000000,2021-06-21 15:11:46.000000000,,51,0,7,773548,76c8603c8f49af8e985673e3d30752ee030bc622,8,1,1,3,11655,Julia Kreger,jkreger,"WIP: Tea pot response

Signal to the API requestor when something is absurd and
the API won't do it.... by indicating the API is a Tea Pot.

In all seriousness, the API should likely say ""this is not""
an endpoint that a user should be trying ot use. I could see
system, but we don't have a good way to restrict it in the
system/project scoped universe. So it becomes IM_A_TEAPOT

Note: Python3.9 apparently adds the HTTP 418 response code
support. It doesn't appear to get populated at present, but
it is a minor detail in the grand scheme of things.

Change-Id: Ieefc184c01cd056880e7d6b467207308784e3ba0
"
openstack%2Faodh~stable%2Focata~I3f12811684a49794bca87c4a10b18d45879da773,openstack/aodh,stable/ocata,bug/1776375,I3f12811684a49794bca87c4a10b18d45879da773,Support same projects in different domain,ABANDONED,2018-07-06 10:33:11.000000000,2021-06-21 15:04:04.000000000,,19,1,0,580603,f0a6e009047150418ad5e3bef040dcf660a164c1,29,4,2,2,5112,Seyeong Kim,xtrusia,"Support same projects in different domain

Getting 500 error when there are same project name
in different domain.
Selecting one domain from service_credentials.
e.g. services(or service) projects are in default and service_domain
having differrent id. so this selects default's services project
instead of service_domain's services project

Change-Id: I3f12811684a49794bca87c4a10b18d45879da773
Closes-Bug: #1776375
(backported from commit e923493e4feec239c9fe9b58736960a40e373bee)
"
openstack%2Ftripleo-quickstart~master~Ief63794bebf1050744e1a54e554f5234d6337373,openstack/tripleo-quickstart,master,centos-storage-sig,Ief63794bebf1050744e1a54e554f5234d6337373,Moving the Ceph Pacific repos to -stream,MERGED,2021-06-07 09:55:18.000000000,2021-06-21 15:02:41.000000000,2021-06-21 15:01:14.000000000,7,7,0,795078,1731386eb85ed8870247667723bd40f3214e088e,52,10,2,7,25402,Francesco Pantano,fmount,"Moving the Ceph Pacific repos to -stream

As per [1] [2] both cephadm and ceph-ansible are now available in the
-pacific 8-stream repos.
This change just moves the quickstart Ceph related references to the
new repos.

[1] https://cbs.centos.org/koji/packageinfo?packageID=8439
[2] https://cbs.centos.org/koji/packageinfo?packageID=3726

Change-Id: Ief63794bebf1050744e1a54e554f5234d6337373
"
openstack%2Fcharm-deployment-guide~master~I74c8aa95bf12aad6eb71e82b9fcaf41a305d75bb,openstack/charm-deployment-guide,master,de-app,I74c8aa95bf12aad6eb71e82b9fcaf41a305d75bb,De-appendicize rgw-multisite page,MERGED,2021-06-08 18:17:56.000000000,2021-06-21 14:54:12.000000000,2021-06-21 14:52:51.000000000,4,2,0,795393,e3cb5ac3d093af46f9210ffe83411ecbf9ae72ed,7,2,1,5,30561,Peter Matulis,pmatulis,"De-appendicize rgw-multisite page

Rename the rgw-multisite page

Add a corresponding redirect and redirect test

Make appropriate edits in the doc set where required

Change-Id: I74c8aa95bf12aad6eb71e82b9fcaf41a305d75bb
"
openstack%2Fcharm-deployment-guide~master~If4c900886622e7608042c868e3f9b548de7d3421,openstack/charm-deployment-guide,master,de-app,If4c900886622e7608042c868e3f9b548de7d3421,Remove mention of appendices,MERGED,2021-06-08 19:13:26.000000000,2021-06-21 14:52:15.000000000,2021-06-21 14:50:56.000000000,9,9,0,795402,5869e40d1faa5bba1f38a98ff05aa12fda48d1d1,7,2,1,5,30561,Peter Matulis,pmatulis,"Remove mention of appendices

Appendices are now pages.

Change-Id: If4c900886622e7608042c868e3f9b548de7d3421
"
openstack%2Fcharms.ceph~master~I1b7f08c3bd94828a5c6468df7aab6b38517cf3fa,openstack/charms.ceph,master,add-more-utils,I1b7f08c3bd94828a5c6468df7aab6b38517cf3fa,Utils for managing modules and setting config,MERGED,2021-06-21 13:38:45.000000000,2021-06-21 14:44:49.000000000,2021-06-21 14:44:49.000000000,190,0,0,797315,e8240a764e9e59e87dc1bed0bdef81b8c552f982,8,2,2,2,12549,gnuoy,gnuoy,"Utils for managing modules and setting config

The methods for checking modules are taken from the ceph-mon
charm and charmhelpers.contrib.storage.linux.ceph module. When
this lands I'll update the ch methods to emit a deprecation warning
and  update the ceph-mon charm to use these methods instead.

Change-Id: I1b7f08c3bd94828a5c6468df7aab6b38517cf3fa
"
openstack%2Fnova~master~I5a020d2632f0338d230c7851629a7a93f242a826,openstack/nova,master,bug/1815989,I5a020d2632f0338d230c7851629a7a93f242a826,[DNM] testing with force_legacy_port_binding workaround,ABANDONED,2020-04-29 17:42:07.000000000,2021-06-21 14:40:41.000000000,,7,1,3,724387,6f78c7d044ee00f62d7a8ebaed30b0ce35bd984b,22,8,3,1,11604,sean mooney,sean-k-mooney,"[DNM] testing with force_legacy_port_binding workaround

This patch is intended to demonstrate that the
new force_legacy_port_binding added in the previous patch
does not break anything.

Change-Id: I5a020d2632f0338d230c7851629a7a93f242a826
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I88203eaf7f6ef5d1fead379ea3b4be854781b928,openstack/tripleo-heat-templates,stable/wallaby,tox_wallaby,I88203eaf7f6ef5d1fead379ea3b4be854781b928,Set proper upper constraints for wallaby,ABANDONED,2021-06-21 10:03:20.000000000,2021-06-21 14:26:42.000000000,,1,1,0,797251,95b0aa91a234799846e78ac003c362814f673cba,5,14,2,1,11090,Sergii Golovatiuk,holser,"Set proper upper constraints for wallaby

Change-Id: I88203eaf7f6ef5d1fead379ea3b4be854781b928
"
openstack%2Fnova~master~I333b3d85deed971678141307dd06545e308cf989,openstack/nova,master,bug/1910466,I333b3d85deed971678141307dd06545e308cf989,Test numa and vcpu topologies bug: #1910466,MERGED,2021-01-06 18:58:11.000000000,2021-06-21 14:22:05.000000000,2021-06-21 14:19:10.000000000,37,2,53,769601,fe25fa13e0572aafb62b28bf7fa843a1860e5010,42,4,6,1,11604,sean mooney,sean-k-mooney,"Test numa and vcpu topologies bug: #1910466

This change reproduces bug #1910466
When hw:cpu_max_[sockets|cores|threads] is configured
in addition to an explict numa topologies and cpu pinning
nova is currently incapable of generating the correct
virtual CPU topology resulting in an index out of range
error as we attempt to retrieve the first topology
from an empty list.

This change reproduces the error via a new functional
test.

Related-Bug: #1910466
Change-Id: I333b3d85deed971678141307dd06545e308cf989
"
openstack%2Fcinder~stable%2Fstein~Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,openstack/cinder,stable/stein,unity-fix-typo,Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,Fix typo in Dell EMC Unity driver documentation,MERGED,2021-06-21 13:09:49.000000000,2021-06-21 14:21:57.000000000,2021-06-21 14:19:42.000000000,1,1,0,797294,6b5215331622ba1dc15b5332a91752aa3ce0f6c4,13,3,1,1,31016,Ivan Pchelintsev,pcheli,"Fix typo in Dell EMC Unity driver documentation

Co-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>
Change-Id: Ice28d5cf8af88ae8e44f9c56661afeb7b0773503
(cherry picked from commit 8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2)
(cherry picked from commit 624f63f340dbe5759d196504cc357050ad3c140a)
(cherry picked from commit c9457f860a0174415160fe88fa103d41170fac16)
(cherry picked from commit 35d56b6805392dc0e3d67c66b951327b2355bda2)
(cherry picked from commit 80ab7cb90b58cdb9da95fef36ed39f510e8acd7a)
"
openstack%2Fkolla~master~I3560c3a2bee4e391cac841b9bcd8b8d2199f920d,openstack/kolla,master,remove-rally,I3560c3a2bee4e391cac841b9bcd8b8d2199f920d,Remove rally,MERGED,2021-06-02 14:41:00.000000000,2021-06-21 14:20:04.000000000,2021-06-21 14:17:40.000000000,6,93,7,794238,e6cea7b93df7b60619c1348f18356579bf4e0946,26,3,3,10,26285,wu.chunyang,wu.chunyang,"Remove rally

Remove rally project as planned

Change-Id: I3560c3a2bee4e391cac841b9bcd8b8d2199f920d
"
openstack%2Fneutron~master~Ic3b0b5f2a4f89edfb43d0025538fe1f1fc76bda9,openstack/neutron,master,bug/1930397,Ic3b0b5f2a4f89edfb43d0025538fe1f1fc76bda9,"Revert ""Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""""",ABANDONED,2021-06-21 10:06:06.000000000,2021-06-21 14:08:38.000000000,,2,3,0,797266,e250fbba4011d27f423d7ccd7e71ec05e74ffef6,11,7,1,2,9531,liuyulong,LIU-Yulong,"Revert ""Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""""

This reverts commit cc3dc7c8508a142b614ee9cfe3f4a6766f62d8b8.

Reason for revert: bug #1932483

Change-Id: Ic3b0b5f2a4f89edfb43d0025538fe1f1fc76bda9
"
openstack%2Fhorizon~master~I27d6262016f0fb33b3d43b959639897ec0ec3c4b,openstack/horizon,master,,I27d6262016f0fb33b3d43b959639897ec0ec3c4b,Fix typo for 'Instance ID =' in chinese,ABANDONED,2021-05-29 02:00:02.000000000,2021-06-21 14:07:17.000000000,,1,1,0,793654,b3f7299ba9841f2e74783187c90fe3572854a5c1,4,2,1,1,23950,Eric Xie,ericxie,"Fix typo for 'Instance ID =' in chinese

This patch changes meaning of 'Instance ID =' to '实例 ID ='.

Closes-Bug: #1929360
Change-Id: I27d6262016f0fb33b3d43b959639897ec0ec3c4b
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I185f7c09c3f026fd6926a26001393f066ff1860d,openstack/kolla-ansible,stable/wallaby,,I185f7c09c3f026fd6926a26001393f066ff1860d,Support editable installation in all cases,MERGED,2021-06-18 07:37:22.000000000,2021-06-21 14:06:18.000000000,2021-06-21 14:04:57.000000000,26,8,0,796867,2e76e05654d948cd089611a717b7bf8614696621,12,4,2,1,30491,Radosław Piliszek,yoctozepto,"Support editable installation in all cases

An editable installation allows changes to be made to the source code
directly, and have those changes applied immediately without having to
reinstall.

    pip install -e /path/to/kolla-ansible

Above is currently working only in virtualenv, but there is no reason to
not allow in all cases. This is usefull for example when user is
building his own docker container with editable kolla-ansible installed
from git without virtualenv.

Change-Id: I185f7c09c3f026fd6926a26001393f066ff1860d
(cherry picked from commit 22a6765f5e0ddae1527faaaeeff0260f5996a9e7)
"
openstack%2Freleases~master~I78c47e1ea84364b55298d928982b79ddc8306cf1,openstack/releases,master,retire-puppet-glare,I78c47e1ea84364b55298d928982b79ddc8306cf1,Retire puppet-glare,MERGED,2021-05-17 13:46:13.000000000,2021-06-21 14:04:27.000000000,2021-06-21 14:04:27.000000000,0,7,0,791757,df9075b74d247a4df9120fd767436d7be7643063,8,6,1,1,28522,Hervé Beraud,hberaud,"Retire puppet-glare

Retiring this project according to the latest governance updates.

https://opendev.org/openstack/governance/commit/1397701e0712297262a784fa7d2dd495205e849d

Change-Id: I78c47e1ea84364b55298d928982b79ddc8306cf1
"
openstack%2Freleases~master~I93b8951e8906c5d15c80a2e5aa6528ce1fb25bd8,openstack/releases,master,os-cloud-ocata,I93b8951e8906c5d15c80a2e5aa6528ce1fb25bd8,reapply the missing ocata-eol tag,MERGED,2021-05-28 14:40:49.000000000,2021-06-21 14:04:10.000000000,2021-06-21 14:04:10.000000000,4,0,0,793611,73aa450565dce9aabbaba110ec55750f4a81ef61,8,5,1,1,28522,Hervé Beraud,hberaud,"reapply the missing ocata-eol tag

Change-Id: I93b8951e8906c5d15c80a2e5aa6528ce1fb25bd8
"
openstack%2Freleases~master~I849c42a92c4ccd9b10c3693e38f845b5aea00237,openstack/releases,master,puppet-nova-train,I849c42a92c4ccd9b10c3693e38f845b5aea00237,[Puppet OpenStack] Fix some bugs in the last train release,MERGED,2021-06-17 07:05:52.000000000,2021-06-21 14:04:04.000000000,2021-06-21 14:04:04.000000000,8,0,2,796770,6639de7b8fb98f782b9475cadd3d744db26c645c,18,5,2,2,9816,Takashi Kajinami,kajinamit,"[Puppet OpenStack] Fix some bugs in the last train release

The previous release commit set the wrong has about puppet-nova and
released 15.8.0 based on the exactly same hash as 15.7.0. Also,
puppet-murano had 15.4.1 in its metadata.json while released version
was 15.5.0.

Change-Id: I849c42a92c4ccd9b10c3693e38f845b5aea00237
"
openstack%2Fpython-openstackclient~master~I05c1cc0c2fbf77021cc1e05bc96bee03528c69f0,openstack/python-openstackclient,master,tox-skipsdist,I05c1cc0c2fbf77021cc1e05bc96bee03528c69f0,Correct the tox option for skipping sdist generation,MERGED,2021-06-17 17:07:56.000000000,2021-06-21 13:58:40.000000000,2021-06-21 13:56:44.000000000,1,1,0,796915,98979cfc7f27e323e576af58b5b5d9c0594a8a70,12,5,1,1,5263,Jeremy Stanley,fungi,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: I05c1cc0c2fbf77021cc1e05bc96bee03528c69f0
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Id3b2afee89be1fdf3008cfd53906766d94c00549,openstack/tripleo-heat-templates,stable/ussuri,,Id3b2afee89be1fdf3008cfd53906766d94c00549,Bump ovs and ovn versions to 2.15 for FFWD.,MERGED,2021-06-11 15:20:46.000000000,2021-06-21 13:45:28.000000000,2021-06-21 13:45:28.000000000,1,1,0,795889,1a81309da123aedfb48804d6a3ea4b3ec7dc0504,24,4,1,1,26343,Jose Luis Franco,jfrancoa,"Bump ovs and ovn versions to 2.15 for FFWD.

A new openvswitch and ovn version has been released, 2.15. As during the
leapp upgrade we tell leapp which version of ovs and ovn to install in order
to safe some restarts we now need to update the version in the
UpgradeLeappToInstall Heat parameter.

(cherry picked from commit bb1a8557529d37088e51bfd349d1cc6671cdc153)
Resolves: rhbz#1966476
Change-Id: Id3b2afee89be1fdf3008cfd53906766d94c00549
"
openstack%2Fcinder~stable%2Ftrain~Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,openstack/cinder,stable/train,unity-fix-typo,Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,Fix typo in Dell EMC Unity driver documentation,MERGED,2021-06-21 08:37:59.000000000,2021-06-21 13:41:16.000000000,2021-06-21 12:37:24.000000000,1,1,0,797210,80ab7cb90b58cdb9da95fef36ed39f510e8acd7a,15,4,1,1,31016,Ivan Pchelintsev,pcheli,"Fix typo in Dell EMC Unity driver documentation

Co-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>
Change-Id: Ice28d5cf8af88ae8e44f9c56661afeb7b0773503
(cherry picked from commit 8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2)
(cherry picked from commit 624f63f340dbe5759d196504cc357050ad3c140a)
(cherry picked from commit c9457f860a0174415160fe88fa103d41170fac16)
(cherry picked from commit 35d56b6805392dc0e3d67c66b951327b2355bda2)
"
openstack%2Fopenstacksdk~feature%2Fr1~I19c4b76258eb22897b3ae5d9573b01ea4ce8022b,openstack/openstacksdk,feature/r1,sdk_cloud_network,I19c4b76258eb22897b3ae5d9573b01ea4ce8022b,Stop sending tenant_id to Neutron,MERGED,2021-05-07 13:36:41.000000000,2021-06-21 13:39:32.000000000,2021-06-21 13:35:28.000000000,169,113,0,790257,70a06d99908c9a56cb28715c62e8ebe6f076a87d,9,2,2,51,27900,Artem Goncharov,gtema,"Stop sending tenant_id to Neutron

For a long time we are supporting both tenant_id and project_id for most
of the networking resources. tenant_id is deprecated since long time
already and we should stop sending it ourselves to Neutron, while
leaving it as attribute where it was present.

Change-Id: I19c4b76258eb22897b3ae5d9573b01ea4ce8022b
"
openstack%2Freleases~master~I8476688ca820543eb8ad508b52d441b7f7901c54,openstack/releases,master,ocata-eol,I8476688ca820543eb8ad508b52d441b7f7901c54,[oslo] Transition Ocata to End of Life,MERGED,2021-06-09 19:09:48.000000000,2021-06-21 13:37:51.000000000,2021-06-21 13:37:51.000000000,112,0,0,795668,0e3f81791e226c9c04c3a6bf16cbcf7f5d734dc1,7,3,1,28,17685,Elod Illes,elod.illes,"[oslo] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I8476688ca820543eb8ad508b52d441b7f7901c54
"
openstack%2Fopenstacksdk~feature%2Fr1~I36e73ff183d22fb975ef8ea2f3122bd9d9bde74a,openstack/openstacksdk,feature/r1,,I36e73ff183d22fb975ef8ea2f3122bd9d9bde74a,Add cleanup function for DNS resource,MERGED,2021-06-08 08:42:02.000000000,2021-06-21 13:37:03.000000000,2021-06-21 13:35:00.000000000,41,1,10,795257,d6c51c5335da758c636062dbf552ae916eabb947,20,2,4,2,32671,Kristian Kucerak,kucerakk,"Add cleanup function for DNS resource

Extended the _service_cleanup method of proxy DNS to cleanup DNS zones and FloatingIPs.
Added a separate method unset_floating_ip which calls upate_floating_ip with attrs.
Extended the unit test class TestDnsFloatIP() with the new method.

Change-Id: I36e73ff183d22fb975ef8ea2f3122bd9d9bde74a
"
openstack%2Fopenstacksdk~feature%2Fr1~I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7,openstack/openstacksdk,feature/r1,sdk_cloud_network,I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7,Switch networking function in cloud layer to proxy,MERGED,2021-05-07 13:36:13.000000000,2021-06-21 13:35:22.000000000,2021-06-21 13:35:22.000000000,540,347,0,790256,6db391f674077970b113006e52eeac103b6c1dea,11,2,2,17,27900,Artem Goncharov,gtema,"Switch networking function in cloud layer to proxy

We need to complete rework of our cloud layer to rely on proxy layer
instead of reimplementing direct API calls. This time networking
functions are touched.

Change-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7
"
openstack%2Fopenstacksdk~feature%2Fr1~I981892aaba8d3f476a5d1ad71d22ab82b8798975,openstack/openstacksdk,feature/r1,,I981892aaba8d3f476a5d1ad71d22ab82b8798975,Add access to the resource attribute by server-side name,MERGED,2021-05-07 13:35:44.000000000,2021-06-21 13:35:18.000000000,2021-06-21 13:35:18.000000000,24,0,0,790175,03b2b3b00e42ae6d3e959e93d6ce301e06adc163,6,2,1,2,27900,Artem Goncharov,gtema,"Add access to the resource attribute by server-side name

In order to keep backward compatibility while we are switching more and
more things to the proxy layer add possibility to get attribute (in dict
style only) by server-side attribute name. While we do this inform user
not to use this anymore.

Change-Id: I981892aaba8d3f476a5d1ad71d22ab82b8798975
"
openstack%2Fpython-openstackclient~master~Id7ca925e0ada03e259f0ecaf3e02af11c900641e,openstack/python-openstackclient,master,cinder-gaps,Id7ca925e0ada03e259f0ecaf3e02af11c900641e,volume: Add more missing 'volume backup *' options,MERGED,2021-06-10 14:59:04.000000000,2021-06-21 13:21:58.000000000,2021-06-21 13:20:28.000000000,251,5,0,795828,7f66dfe0e3e8720e847211494c185d7d4983ba5b,7,2,1,5,15334,Stephen Finucane,sfinucan,"volume: Add more missing 'volume backup *' options

Add an additional '--no-property' option to the 'volume backup set'
command, along with a brand spanking new 'volume backup unset' command.

Change-Id: Id7ca925e0ada03e259f0ecaf3e02af11c900641e
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fkuryr-kubernetes~master~I2ee06734ece04c2707f2ac95060bd451f0725089,openstack/kuryr-kubernetes,master,fix-pool-warnings,I2ee06734ece04c2707f2ac95060bd451f0725089,Increase keystoneauth's connection pool size,MERGED,2021-06-18 13:09:05.000000000,2021-06-21 13:17:18.000000000,2021-06-21 13:15:44.000000000,9,0,0,797080,7a6fb928655b7b5468d07b2be687fba70aea6a3b,9,4,1,1,11600,Michał Dulko,dulek,"Increase keystoneauth's connection pool size

With Kuryr running up to 1000 greenthreads, the default urllib3 pool
size of 10 is way too little. This commit increases it on the
keystoneauth side, effectively setting it for the openstacksdk
connections.

Change-Id: I2ee06734ece04c2707f2ac95060bd451f0725089
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I67e9c892a945d04eff59427a0161aafceb136560,openstack/kolla-ansible,stable/wallaby,,I67e9c892a945d04eff59427a0161aafceb136560,tox: Add find command to allowlist_externals list,MERGED,2021-06-21 09:35:50.000000000,2021-06-21 13:16:16.000000000,2021-06-21 13:14:46.000000000,5,4,0,797260,cf58c04605b2529ac3dee007dc1aefac5e1e6643,7,3,1,1,14826,Mark Goddard,mgoddard,"tox: Add find command to allowlist_externals list

whitelist_externals is deprecated now, use allowlist_externals
instead. see[0]
Add find command to allowlist_externals list to fix a warning.[1]

[0]: https://tox.readthedocs.io/en/latest/config.html
[1]: https://zuul.opendev.org/t/openstack/build/9ac7f205080343f29d7e2b519abbdb73/log/job-output.txt#945

Change-Id: I67e9c892a945d04eff59427a0161aafceb136560
(cherry picked from commit 13965f40c740d8bee696b3f847190d75a19b062c)
"
openstack%2Fpython-openstackclient~master~Ia5084749b7c1a5a936fd6d6e8d89b9b80969f68c,openstack/python-openstackclient,master,cinder-gaps,Ia5084749b7c1a5a936fd6d6e8d89b9b80969f68c,volume: Add 'volume group snapshot *' commands,MERGED,2021-06-03 17:01:39.000000000,2021-06-21 13:13:42.000000000,2021-06-21 13:09:41.000000000,573,4,0,794644,34de2d3352aaef5c1bb86a5441cc8781e03b5587,9,2,2,8,15334,Stephen Finucane,sfinucan,"volume: Add 'volume group snapshot *' commands

These mirror the 'cinder group-snapshot-*' commands, with arguments
copied across essentially verbatim. The only significant departure is
the replacement of ""tenant"" terminology with ""project"".

  volume group snapshot create
  volume group snapshot delete
  volume group snapshot list
  volume group snapshot show

Change-Id: Ia5084749b7c1a5a936fd6d6e8d89b9b80969f68c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpython-openstackclient~master~Iee6ee2f1f276e6ef6f75a74f8f2980f14c0d5e2f,openstack/python-openstackclient,master,cinder-gaps,Iee6ee2f1f276e6ef6f75a74f8f2980f14c0d5e2f,volume: Add 'volume group type *' commands,MERGED,2021-06-03 17:01:39.000000000,2021-06-21 13:11:49.000000000,2021-06-21 13:09:36.000000000,919,9,0,794643,83551d2a0c7604179c0988c13d58455a6b289cc8,9,2,1,8,15334,Stephen Finucane,sfinucan,"volume: Add 'volume group type *' commands

These mirror the 'cinder group-type-*' commands, with arguments copied
across essentially verbatim. The only significant departure is the
merging of some commands, such as 'group-type-default' and
'group-type-list' into 'group type list', and 'group-type-update' and
'group-type-key' into 'group type set/unset'.

  volume group type create
  volume group type delete
  volume group type list
  volume group type show
  volume group type set
  volume group type unset

Change-Id: Iee6ee2f1f276e6ef6f75a74f8f2980f14c0d5e2f
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fcharm-rabbitmq-server~master~Id45c969d37f8cb1c26d0f9834f4a79e7555dd03c,openstack/charm-rabbitmq-server,master,bug/1930417,Id45c969d37f8cb1c26d0f9834f4a79e7555dd03c,If rabbit cluster is partioned show that in status,MERGED,2021-06-17 13:38:03.000000000,2021-06-21 13:08:33.000000000,2021-06-21 13:08:33.000000000,91,18,2,796843,fbf3bda59a7fdf2f9bd56f220bb5798210bb8b72,14,4,2,2,12549,gnuoy,gnuoy,"If rabbit cluster is partioned show that in status

If rabbit cluster is partioned show that in status. This check
only works on focal+, prior to that the check is ignored.

Change-Id: Id45c969d37f8cb1c26d0f9834f4a79e7555dd03c
Closes-Bug: 1930417
"
openstack%2Ftripleo-heat-templates~master~I3370aa089428c7a15179e43ed6cde6a527471d81,openstack/tripleo-heat-templates,master,fix-unbound-ci,I3370aa089428c7a15179e43ed6cde6a527471d81,Re-add the unbound resolver to scenario 003,ABANDONED,2021-06-01 13:36:43.000000000,2021-06-21 13:03:06.000000000,,1,0,0,793969,0bca2a9cdee8652486b94ae774b8b1199201b282,5,2,1,1,6681,Brent Eagles,beagles,"Re-add the unbound resolver to scenario 003

The unbound resolver template and related code was not added to scenario 003
triggers. A previous patch removed it so it can be re-added after the relevant
tripleo-ci patch lands.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793964
Change-Id: I3370aa089428c7a15179e43ed6cde6a527471d81
"
openstack%2Fmanila-ui~stable%2Fwallaby~Id924fc55debdc38ae2131bf8cef396f28caa3e77,openstack/manila-ui,stable/wallaby,bug/1931641,Id924fc55debdc38ae2131bf8cef396f28caa3e77,Fix parsing names in switched fields,MERGED,2021-06-18 21:26:54.000000000,2021-06-21 13:02:56.000000000,2021-06-21 13:01:01.000000000,87,41,0,797105,b7d87e886a1d71e02034b7dde9b96be3beabdb6a,10,3,1,8,16643,Goutham Pacha Ravi,gouthamr,"Fix parsing names in switched fields

In the share creation form dialog, share network
selection is optionally provided based on whether
the share type chosen supports the DHSS extra-spec.
This selection breaks often when dealing with share
types that have a name matching the format: "".*-\d+.*"".
For example: test-700. The root cause of this seems to
be in javascript code for ""switchable"" fields [1] that
doesn't get triggered as expected.

A similar issue manifests in the share Network Creation
form where we setup switched fields with the Neutron
network IDs (dashed format UUIDs) and in the Share
Group Creation form where we setup switched fields
with the Share Group Type IDs (dashed format UUIDs).

So, we could encode the ""-"" in these field names to
workaround this issue.

Closes-Bug: #1931641
[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613

Change-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 37e5b2f0530c9fe8117cea0dac95577b912bdecc)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I185f7c09c3f026fd6926a26001393f066ff1860d,openstack/kolla-ansible,stable/victoria,,I185f7c09c3f026fd6926a26001393f066ff1860d,Support editable installation in all cases,MERGED,2021-06-18 07:39:29.000000000,2021-06-21 12:51:18.000000000,2021-06-21 12:49:37.000000000,26,8,0,796869,421d7acfb205517f47e32fe98a2a0295b544de9b,9,4,1,1,30491,Radosław Piliszek,yoctozepto,"Support editable installation in all cases

An editable installation allows changes to be made to the source code
directly, and have those changes applied immediately without having to
reinstall.

    pip install -e /path/to/kolla-ansible

Above is currently working only in virtualenv, but there is no reason to
not allow in all cases. This is usefull for example when user is
building his own docker container with editable kolla-ansible installed
from git without virtualenv.

Change-Id: I185f7c09c3f026fd6926a26001393f066ff1860d
(cherry picked from commit 22a6765f5e0ddae1527faaaeeff0260f5996a9e7)
"
openstack%2Fcharm-trilio-wlm~master~I924ae61d66f718c6ec03f5012922171efffdb7ba,openstack/charm-trilio-wlm,master,batch-update,I924ae61d66f718c6ec03f5012922171efffdb7ba,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:14:07.000000000,2021-06-21 12:50:02.000000000,2021-06-21 12:50:02.000000000,1,1,0,791224,c7b1058820ac38dbec63828e345bdfea1bc20405,19,3,2,1,11805,Corey Bryant,coreycb,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I924ae61d66f718c6ec03f5012922171efffdb7ba
"
openstack%2Fkolla~stable%2Fussuri~I0b3eb6744a34a601266179fb358510a5c500e6ba,openstack/kolla,stable/ussuri,pip_local-stable/wallaby-stable/victoria-stable/ussuri,I0b3eb6744a34a601266179fb358510a5c500e6ba,Fix _get_images_dir when pip-installed with --user,MERGED,2021-06-18 07:46:44.000000000,2021-06-21 12:49:59.000000000,2021-06-21 12:47:02.000000000,6,0,0,797015,5c676e4a9303b1177501dee7e010c0f66013d1f6,9,4,1,2,30491,Radosław Piliszek,yoctozepto,"Fix _get_images_dir when pip-installed with --user

There are two cases where pip installs kolla share into ~/.local/share/kolla:

- with `pip install --user kolla`
- with `pip install kolla` as non-root

This patch helps kolla find the share dir in these cases.

Closes-Bug: #1930544

Change-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba
(cherry picked from commit db78657c231663f3e8ebbc18de43c06ddaa94c97)
"
openstack%2Fkolla~stable%2Fwallaby~I0b3eb6744a34a601266179fb358510a5c500e6ba,openstack/kolla,stable/wallaby,pip_local-stable/wallaby,I0b3eb6744a34a601266179fb358510a5c500e6ba,Fix _get_images_dir when pip-installed with --user,MERGED,2021-06-18 07:38:42.000000000,2021-06-21 12:49:58.000000000,2021-06-21 12:46:53.000000000,6,0,0,796868,8cd42eccc0d125c1496e110d276f17583526424c,9,4,1,2,30491,Radosław Piliszek,yoctozepto,"Fix _get_images_dir when pip-installed with --user

There are two cases where pip installs kolla share into ~/.local/share/kolla:

- with `pip install --user kolla`
- with `pip install kolla` as non-root

This patch helps kolla find the share dir in these cases.

Closes-Bug: #1930544

Change-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba
(cherry picked from commit db78657c231663f3e8ebbc18de43c06ddaa94c97)
"
openstack%2Fkolla~stable%2Fvictoria~I0b3eb6744a34a601266179fb358510a5c500e6ba,openstack/kolla,stable/victoria,pip_local-stable/wallaby-stable/victoria,I0b3eb6744a34a601266179fb358510a5c500e6ba,Fix _get_images_dir when pip-installed with --user,MERGED,2021-06-18 07:42:41.000000000,2021-06-21 12:49:14.000000000,2021-06-21 12:46:58.000000000,6,0,0,796871,08e95e5324925b785fa539d2abac21945e58487d,9,4,1,2,30491,Radosław Piliszek,yoctozepto,"Fix _get_images_dir when pip-installed with --user

There are two cases where pip installs kolla share into ~/.local/share/kolla:

- with `pip install --user kolla`
- with `pip install kolla` as non-root

This patch helps kolla find the share dir in these cases.

Closes-Bug: #1930544

Change-Id: I0b3eb6744a34a601266179fb358510a5c500e6ba
(cherry picked from commit db78657c231663f3e8ebbc18de43c06ddaa94c97)
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~If6893492a854956b6b3b19cf5ed36411daf0a1b0,openstack/python-tripleoclient,stable/wallaby,remove-iscsi-stable/wallaby,If6893492a854956b6b3b19cf5ed36411daf0a1b0,Remove iscsi from IronicEnabledDeployInterfaces,MERGED,2021-06-15 20:40:17.000000000,2021-06-21 12:45:43.000000000,2021-06-21 12:44:03.000000000,4,4,0,796451,2ebf9d48a3190d2bebed7c6a02d7c32df4a7ef1a,12,3,1,2,14985,Alex Schultz,mwhahaha,"Remove iscsi from IronicEnabledDeployInterfaces

Iscsi is deprecated and should no longer be used

Related-Bug: #1931417
Change-Id: If6893492a854956b6b3b19cf5ed36411daf0a1b0
(cherry picked from commit 0f0352a5b856c44f589d1ab6adb189142216498a)
"
openstack%2Ftripleo-validations~stable%2Fwallaby~Ia8b78c0e81d716718139aec17f959a1a9955025e,openstack/tripleo-validations,stable/wallaby,,Ia8b78c0e81d716718139aec17f959a1a9955025e,Use and ownership info for the check_flavors module,MERGED,2021-06-15 15:00:41.000000000,2021-06-21 12:44:06.000000000,2021-06-21 12:44:06.000000000,5,1,0,796509,149b72e5999b7191d61b4d2f84b8c462cde4bcd9,10,6,1,1,32926,Jiri Podivin,jpodivin,"Use and ownership info for the check_flavors module

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ia8b78c0e81d716718139aec17f959a1a9955025e
(cherry picked from commit 81bd49d628c50398c9f001f2b20ae3060d2b7835)
"
openstack%2Fnova~master~Id2703ea4439d587a1a7a878796a79709fae5ea61,openstack/nova,master,bug/1913605,Id2703ea4439d587a1a7a878796a79709fae5ea61,api: Log correct client IP if load balancer in use,MERGED,2021-04-18 12:28:25.000000000,2021-06-21 12:38:59.000000000,2021-06-21 12:36:58.000000000,33,2,2,786766,375a8452bbb2b3d12fbf82f725e977c3ce4b09b7,59,8,5,2,32881,Rajat Jain,rajjai,"api: Log correct client IP if load balancer in use

When Nova-Api runs behind the load balancer or Reverse proxy,
Loadbalancer IP is getting logged in nova_api.log instead of end user
source ip by RequestLog

It should check for CONF.api.use_forwarded_for and then uses key
'HTTP_X_FORWARDED_FOR' to get the client ip.

Co-Authored-By: melanie witt <melwittt@gmail.com>

Closes-Bug: #1913605

Change-Id: Id2703ea4439d587a1a7a878796a79709fae5ea61
"
openstack%2Fkolla~stable%2Fvictoria~If69536387513ca221e03a80878016532a41aef87,openstack/kolla,stable/victoria,,If69536387513ca221e03a80878016532a41aef87,Fix build of masakari-monitors image,MERGED,2021-06-18 17:36:42.000000000,2021-06-21 12:34:02.000000000,2021-06-21 12:32:36.000000000,1,0,0,797102,29048206ed67323b318f35f5756d41e8e83f5b8d,12,4,3,1,28295,Buddhika Sanjeewa,bsanjeewa,"Fix build of masakari-monitors image

The CentOS 8 Advanced Virtualization repository recently added libvirt
7.0.0. The current version of libvirt-python fails to build against it:

    running build
    /usr/bin/pkg-config --print-errors --atleast-version=0.9.11 libvirt
    /var/lib/kolla/venv/bin/python3.6 generator.py libvirt /usr/share/libvirt/api/libvirt-api.xml
    Found 480 functions in /usr/share/libvirt/api/libvirt-api.xml
    Found 0 functions in libvirt-override-api.xml
    Generated 389 wrapper functions
    Missing type converters:
    char ** *:1
    char **:1
    ERROR: failed virDomainAuthorizedSSHKeysGet
    ERROR: failed virDomainAuthorizedSSHKeysSet
    error: command '/var/lib/kolla/venv/bin/python3.6' failed with exit status 1

We need at least libvirt-python v6.10.0.

Closes-Bug: #1931817
Change-Id: If69536387513ca221e03a80878016532a41aef87
(cherry picked from commit 715d799ab997cbfe9e444b3f2a72c5dbbbf6728e)
"
openstack%2Freleases~master~I227190c07435dc0bd755acf8c848d51ff5dbd7ee,openstack/releases,master,train-em,I227190c07435dc0bd755acf8c848d51ff5dbd7ee,[kolla] Transition Train to EM,MERGED,2021-05-11 15:09:20.000000000,2021-06-21 12:26:38.000000000,2021-06-21 12:26:38.000000000,20,0,0,790751,bf48fbae492ab559f4397c103e21cb91fb13f5ca,18,5,2,4,17685,Elod Illes,elod.illes,"[kolla] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I227190c07435dc0bd755acf8c848d51ff5dbd7ee
"
openstack%2Fkolla~stable%2Fussuri~If69536387513ca221e03a80878016532a41aef87,openstack/kolla,stable/ussuri,,If69536387513ca221e03a80878016532a41aef87,Fix build of masakari-monitors image,MERGED,2021-06-20 07:52:43.000000000,2021-06-21 12:09:25.000000000,2021-06-21 12:07:56.000000000,1,0,0,797109,253c215f1ea1ce9547fff7442c570248494c7115,10,5,1,1,30491,Radosław Piliszek,yoctozepto,"Fix build of masakari-monitors image

The CentOS 8 Advanced Virtualization repository recently added libvirt
7.0.0. The current version of libvirt-python fails to build against it:

    running build
    /usr/bin/pkg-config --print-errors --atleast-version=0.9.11 libvirt
    /var/lib/kolla/venv/bin/python3.6 generator.py libvirt /usr/share/libvirt/api/libvirt-api.xml
    Found 480 functions in /usr/share/libvirt/api/libvirt-api.xml
    Found 0 functions in libvirt-override-api.xml
    Generated 389 wrapper functions
    Missing type converters:
    char ** *:1
    char **:1
    ERROR: failed virDomainAuthorizedSSHKeysGet
    ERROR: failed virDomainAuthorizedSSHKeysSet
    error: command '/var/lib/kolla/venv/bin/python3.6' failed with exit status 1

We need at least libvirt-python v6.10.0.

Closes-Bug: #1931817
Change-Id: If69536387513ca221e03a80878016532a41aef87
(cherry picked from commit 715d799ab997cbfe9e444b3f2a72c5dbbbf6728e)
"
openstack%2Fkolla-ansible~master~Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,openstack/kolla-ansible,master,bug/1933033,Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d,Do not set pid file for iscsid,MERGED,2021-06-20 14:18:26.000000000,2021-06-21 11:51:37.000000000,2021-06-21 11:49:50.000000000,7,1,2,797192,18a0af6954f48a03bc125fd690347e3ef259096f,16,4,1,2,30491,Radosław Piliszek,yoctozepto,"Do not set pid file for iscsid

Kolla Ansible runs iscsid in the foreground (-f) and
a recent change to iscsid in CentOS 8 (both Linux and Stream)
caused it to reject setting pid file in such a case.
PID file is irrelevant in this scenario so this commit
removes its parameter.

Closes-Bug: #1933033
Change-Id: Ic0c4beae0c812f3ca68a6ee5cc4daa2fee0f277d
"
openstack%2Fopenstack-ansible-os_nova~master~Ie004f845138a23095f6e02138401511054975a01,openstack/openstack-ansible-os_nova,master,,Ie004f845138a23095f6e02138401511054975a01,Use version from repo_packages for SPICE HTML5,MERGED,2021-06-17 14:54:10.000000000,2021-06-21 11:45:12.000000000,2021-06-21 11:43:54.000000000,2,2,0,796852,9244767bcdb613a984d69699e56467a762cb4f14,10,3,1,1,11290,Gaudenz Steinlin,gaudenz,"Use version from repo_packages for SPICE HTML5

Use the version pinned in repo_packages/nova_consoles.yml in
openstack-ansible to install the SPICE HTML5 client. Without this change
the version pin in openstack-ansible has no effect and the role always
installs master.

This is the same change as already done for the noVNC console in commit
1de7b24e701bda75e0fc1d019510f71f16608502.

Change-Id: Ie004f845138a23095f6e02138401511054975a01
"
openstack%2Fcharm-mysql-router~stable%2F21.04~Id3f7605ad1e9e4a6e4b0a1abe8000abd75b5b0fd,openstack/charm-mysql-router,stable/21.04,stable/bug/1931095,Id3f7605ad1e9e4a6e4b0a1abe8000abd75b5b0fd,Configure /run/mysql location for PID file,MERGED,2021-06-16 09:09:17.000000000,2021-06-21 11:36:25.000000000,2021-06-21 11:36:25.000000000,25,4,0,796610,3582c9cf11ceccb8e67492320114fa30da4b9981,8,4,1,3,935,James Page,james-page,"Configure /run/mysql location for PID file

Ensure that a location in /run is used for the PID file for
the mysqlrouter instance - this ensures that in the event
of a power outage, the old PID file will not be present and
the daemon will correctly startup when the machine starts up.

Update systemd configuration to create /run/mysql and to use
the mysql user and group to execute the daemon.

Switch to 'forking' mode to ensure that the mysqlrouter process
gets tracked by systemd.

Closes-Bug: 1931095
Change-Id: Id3f7605ad1e9e4a6e4b0a1abe8000abd75b5b0fd
(cherry picked from commit 72aca90ea3551a95ecf0bf301fd626bfb8b25a97)
"
openstack%2Fpython-cloudkittyclient~master~I3224ca9b96a181de8c0251d0bd589135e098d557,openstack/python-cloudkittyclient,master,,I3224ca9b96a181de8c0251d0bd589135e098d557,docs: Update Freenode to OFTC,MERGED,2021-06-08 08:18:58.000000000,2021-06-21 11:25:05.000000000,2021-06-21 11:23:43.000000000,1,1,0,795254,0608c0527bd34cfa1968568d32731dc46d1ba0d1,8,3,1,1,15197,Pierre Riteau,priteau,"docs: Update Freenode to OFTC

Change-Id: I3224ca9b96a181de8c0251d0bd589135e098d557
"
openstack%2Ftripleo-common~master~I4aef31ea2e2f5665e63cb2dae598428d4654b0ca,openstack/tripleo-common,master,bp/whole-disk-default,I4aef31ea2e2f5665e63cb2dae598428d4654b0ca,Update image build dependencies,MERGED,2021-04-30 04:20:11.000000000,2021-06-21 11:17:04.000000000,2021-06-21 11:15:00.000000000,2,0,0,788880,99974ab82aa546d57bf28894a7274aaaa5d408e1,12,6,2,1,4571,Steve Baker,steve-stevebaker,"Update image build dependencies

tripleo-buildimage-overcloud-hardened-uefi-full-centos-8 has the same
dependencies as tripleo-buildimage-overcloud-hardened-full-centos-8

Blueprint: whole-disk-default
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/788878
Change-Id: I4aef31ea2e2f5665e63cb2dae598428d4654b0ca
"
openstack%2Ftripleo-heat-templates~master~Id17dec07c2aa0a3b080eb05f71c637d6a422ec41,openstack/tripleo-heat-templates,master,,Id17dec07c2aa0a3b080eb05f71c637d6a422ec41,Add support for designate standalone jobs,MERGED,2021-06-07 20:39:44.000000000,2021-06-21 11:15:05.000000000,2021-06-21 11:15:05.000000000,31,0,0,795181,857807247d8f1a7270fdade30f570bf2f17789ce,13,11,3,2,6681,Brent Eagles,beagles,"Add support for designate standalone jobs

This patch adds the UnboundListenIPs that allows the deployer to specify
an IP to be used in the event that neutron isn't being used to manage
the overcloud networks - as is the case for standalone deployments.

Change-Id: Id17dec07c2aa0a3b080eb05f71c637d6a422ec41
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I968efbf3ad1de676548b4e3aeefc20bf80ca94a0,openstack/kolla-ansible,stable/victoria,,I968efbf3ad1de676548b4e3aeefc20bf80ca94a0,octavia: Ensure service auth project exists,MERGED,2021-06-20 08:15:12.000000000,2021-06-21 11:02:02.000000000,2021-06-21 11:00:18.000000000,14,15,0,797111,1d6906bbb8b43a046dc3810d34e0522e7ff9c836,9,3,1,3,30491,Radosław Piliszek,yoctozepto,"octavia: Ensure service auth project exists

Kolla Ansible supports configuration of the project used by Octavia to
communicate with other services, via octavia_service_auth_project. Until
Ussuri, this was set to admin. In Ussuri it changed to service. It may
also be set to a different value.

Kolla Ansible currently gives the octavia user the admin role in the
project, but it does not ensure that the project exists. For admin and
service projects, this is not a problem. If the project has been
customised however, it will not necessarily exist, which will cause
Octavia deployment to fail.

This change fixes the issue by ensuring that the service auth project
exists, in addition to the service project.

Closes-Bug: #1922100
Change-Id: I968efbf3ad1de676548b4e3aeefc20bf80ca94a0
(cherry picked from commit fbd80bcdc869cf22330d5d3c8770ec11bb28b4cd)
"
openstack%2Ftripleo-common~master~I5a1900d4e50395065b6b56876ab9ee10f01fae05,openstack/tripleo-common,master,,I5a1900d4e50395065b6b56876ab9ee10f01fae05,Add TypeError exception when parsing addresses,MERGED,2021-06-16 17:57:58.000000000,2021-06-21 10:58:59.000000000,2021-06-21 10:57:26.000000000,6,3,2,796718,eaeb230f838f5a806daf70845fe970c77534e1bc,19,4,3,2,7353,Kevin Carter,cloudnull,"Add TypeError exception when parsing addresses

When parsing addresses the value could be None, if that is the case, we
need to handle the result and return it accordingly. This change adds
the expected TypeError when dealing with a null value.

Additionally the overcloudrc will now process the data ahead of time and
ensure that the items in the array have an assosiated value before
feeding the data into the mapped function.

Change-Id: I5a1900d4e50395065b6b56876ab9ee10f01fae05
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I968efbf3ad1de676548b4e3aeefc20bf80ca94a0,openstack/kolla-ansible,stable/wallaby,,I968efbf3ad1de676548b4e3aeefc20bf80ca94a0,octavia: Ensure service auth project exists,MERGED,2021-06-20 08:13:57.000000000,2021-06-21 10:57:52.000000000,2021-06-21 10:55:51.000000000,14,15,0,797110,cbd474cc4801b1918b7e267e0ad6e23282079974,9,3,1,3,30491,Radosław Piliszek,yoctozepto,"octavia: Ensure service auth project exists

Kolla Ansible supports configuration of the project used by Octavia to
communicate with other services, via octavia_service_auth_project. Until
Ussuri, this was set to admin. In Ussuri it changed to service. It may
also be set to a different value.

Kolla Ansible currently gives the octavia user the admin role in the
project, but it does not ensure that the project exists. For admin and
service projects, this is not a problem. If the project has been
customised however, it will not necessarily exist, which will cause
Octavia deployment to fail.

This change fixes the issue by ensuring that the service auth project
exists, in addition to the service project.

Closes-Bug: #1922100
Change-Id: I968efbf3ad1de676548b4e3aeefc20bf80ca94a0
(cherry picked from commit fbd80bcdc869cf22330d5d3c8770ec11bb28b4cd)
"
openstack%2Ftripleo-heat-templates~master~Ib4d09589c8558fbd72c69a7b5b21bc9e0fc97f32,openstack/tripleo-heat-templates,master,bug/1916386,Ib4d09589c8558fbd72c69a7b5b21bc9e0fc97f32,Remove or fix outdated/incorrect neutron hieradata definitions,MERGED,2021-03-13 12:59:19.000000000,2021-06-21 10:57:09.000000000,2021-06-21 10:57:09.000000000,2,28,2,780413,02bb4b8aa095619f2bc07aeb7302c2f333093569,19,6,1,11,19234,Alexey Stupnikov,astupnikov,"Remove or fix outdated/incorrect neutron hieradata definitions

- neutron::server::qos_notification_drivers was deprecated in Ocata
  change: Ie95e8d07273d168da0fe9ae1635774b230683efa
- neutron::server::placement::www_authenticate_uri is incorrect:
  neutron::server::placement::auth_url should be used instead and it is
  already defined
- neutron::agents::ml2::networking_baremetal::username should be used
  instead of neutron::agents::ml2::networking_baremetal::user
- neutron::agents::metadata::auth_password,
  neutron::agents::metadata::auth_url and
  neutron::agents::metadata::auth_tenant were deprecated in Newton
  change: I2c88f8523630ad0246785190f90b7a02fc704153
- neutron::agents::ovn_metadata::auth_password,
  neutron::agents::ovn_metadata::auth_url and
  neutron::agents::ovn_metadata::auth_tenant are likely artifacts that
  were not removed when service template for OVN Metadata service was
  copied from Neutron Metadata service definition.

Partial-Bug: #1916386
Change-Id: Ib4d09589c8558fbd72c69a7b5b21bc9e0fc97f32
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97,openstack/tripleo-ansible,stable/wallaby,change-792978-6-stable/wallaby,I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97,Remove become: true from the role,MERGED,2021-06-10 11:33:22.000000000,2021-06-21 10:56:57.000000000,2021-06-21 10:56:57.000000000,0,26,0,795629,6cb6a99c4b56cf4b401d4f5507025095fa937487,9,8,1,10,32968,Juan Larriba,jlarriba,"Remove become: true from the role

The role is always executed with --become, as it is specified in the
documentation. The CLI also invokes the role with --become parameter. In
this case, we were currently implementing a non consistent become
policy. As almost all the tasks in the role require root access, it is
more consistent to remove all the become: true entries and launch the
role with --become parameter.

Depends-on: Id2aff61f219b0c4992f6f0045f1aba2c7d129758
Change-Id: I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97
(cherry picked from commit fad1ea42cea2087e85948ab666978a2c32d60a00)
"
openstack%2Ftripleo-quickstart-extras~master~I438220744bdb1d426c8484d8548716278737ff86,openstack/tripleo-quickstart-extras,master,network-data-v2,I438220744bdb1d426c8484d8548716278737ff86,Run os-net-config as part of node provisioning,MERGED,2021-05-07 17:31:31.000000000,2021-06-21 10:56:52.000000000,2021-06-21 10:56:52.000000000,7,2,0,790287,d6482cd149ba888660577f11a98c3f8873baf840,40,6,7,2,24245,Harald Jensås,harald.jensas,"Run os-net-config as part of node provisioning

Render in the network_config from the node topology_map
and switch the 'node provision' command to use the
'--network-config' option so that the tripleo_network_config
role is applied to deployed nodes prior to running the
overcloud deploy command.

Related: blueprint network-data-v2-ports
Depends-On: https://review.opendev.org/790286
Change-Id: I438220744bdb1d426c8484d8548716278737ff86
"
openstack%2Fkolla-ansible~stable%2Fussuri~Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8,openstack/kolla-ansible,stable/ussuri,fix-mariadb-xinetd-logs-stable/wallaby-stable/victoria-stable/ussuri,Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8,Fix parsing of infra.mariadb.xinetd logs,MERGED,2021-06-20 18:44:47.000000000,2021-06-21 10:28:19.000000000,2021-06-21 10:26:49.000000000,1,1,0,797202,9a1e9b60736e6ed94445e9c4d219190c067df60c,9,4,1,1,30491,Radosław Piliszek,yoctozepto,"Fix parsing of infra.mariadb.xinetd logs

Currently the logs tagged with infra.mariadb.xinetd flow into
elasticsearch with no hostname or programname attach, thus making
navigating the logs very hard.

The quick fix is renaming the tag to infra.mariadb-xinetd, which is just
enought to ensure the logs are processed correctly with the existing
filters.

TrivialFix

Change-Id: Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8
(cherry picked from commit 7f1248fee5b4c067b7033dbf8731f4d83be0d86d)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8,openstack/kolla-ansible,stable/victoria,fix-mariadb-xinetd-logs-stable/wallaby-stable/victoria,Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8,Fix parsing of infra.mariadb.xinetd logs,MERGED,2021-06-20 18:44:15.000000000,2021-06-21 10:28:08.000000000,2021-06-21 10:26:44.000000000,1,1,0,797201,903601a7a3f0b2050598053f7b43368c21a4af98,9,4,1,1,30491,Radosław Piliszek,yoctozepto,"Fix parsing of infra.mariadb.xinetd logs

Currently the logs tagged with infra.mariadb.xinetd flow into
elasticsearch with no hostname or programname attach, thus making
navigating the logs very hard.

The quick fix is renaming the tag to infra.mariadb-xinetd, which is just
enought to ensure the logs are processed correctly with the existing
filters.

TrivialFix

Change-Id: Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8
(cherry picked from commit 7f1248fee5b4c067b7033dbf8731f4d83be0d86d)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8,openstack/kolla-ansible,stable/wallaby,fix-mariadb-xinetd-logs-stable/wallaby,Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8,Fix parsing of infra.mariadb.xinetd logs,MERGED,2021-06-20 18:43:55.000000000,2021-06-21 10:27:39.000000000,2021-06-21 10:25:25.000000000,1,1,0,797200,381e3a40dc45d3636ba8ea437aee402a3fec713b,9,4,1,1,30491,Radosław Piliszek,yoctozepto,"Fix parsing of infra.mariadb.xinetd logs

Currently the logs tagged with infra.mariadb.xinetd flow into
elasticsearch with no hostname or programname attach, thus making
navigating the logs very hard.

The quick fix is renaming the tag to infra.mariadb-xinetd, which is just
enought to ensure the logs are processed correctly with the existing
filters.

TrivialFix

Change-Id: Icd72206de7c1f701bdf35c8fb3b128ef2dbe29a8
(cherry picked from commit 7f1248fee5b4c067b7033dbf8731f4d83be0d86d)
"
openstack%2Fkolla-ansible~stable%2Fussuri~Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6,openstack/kolla-ansible,stable/ussuri,fix-fluentd-warning-stable/wallaby-stable/victoria-stable/ussuri,Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6,Stop fluentd deprecation warnings of type vs @type,MERGED,2021-06-20 18:46:52.000000000,2021-06-21 10:26:36.000000000,2021-06-21 10:25:11.000000000,1,1,0,797205,0cc46ff2a4218e49ceb3f308952f784427c9a42d,13,4,2,1,30491,Radosław Piliszek,yoctozepto,"Stop fluentd deprecation warnings of type vs @type

Currently when elasticsearch log output is enabled there are lots
of warnings going into elasticsearch about type being deprecated
and needing to move to @type. This change stops those warnings.

TrivialFix

Change-Id: Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6
(cherry picked from commit 0c7ba86e05637d715065bac60839fcaab2db760c)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6,openstack/kolla-ansible,stable/victoria,fix-fluentd-warning-stable/wallaby-stable/victoria,Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6,Stop fluentd deprecation warnings of type vs @type,MERGED,2021-06-20 18:45:50.000000000,2021-06-21 10:26:29.000000000,2021-06-21 10:25:05.000000000,2,2,0,797204,5283eb8bfe1978ca67d78abd8759a6351697e05e,9,4,1,1,30491,Radosław Piliszek,yoctozepto,"Stop fluentd deprecation warnings of type vs @type

Currently when elasticsearch log output is enabled there are lots
of warnings going into elasticsearch about type being deprecated
and needing to move to @type. This change stops those warnings.

TrivialFix

Change-Id: Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6
(cherry picked from commit 0c7ba86e05637d715065bac60839fcaab2db760c)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Ib96d68f1dc60a0cbb5b79302c1face9c2272946a,openstack/kolla-ansible,stable/wallaby,,Ib96d68f1dc60a0cbb5b79302c1face9c2272946a,Fix neutron-ovn-metadata-agent with policy.yaml,MERGED,2021-06-20 18:41:21.000000000,2021-06-21 10:26:26.000000000,2021-06-21 10:24:54.000000000,6,7,0,797197,189c1c245906d4d78e061c98f88e480f0ac95ae9,9,3,1,1,30491,Radosław Piliszek,yoctozepto,"Fix neutron-ovn-metadata-agent with policy.yaml

The config.json template for neutron-ovn-metadata-agent uses a
hard-coded policy file name of policy.json. This prevents use of a
policy.yaml file with this service. This patch fixes this.

TrivialFix

Change-Id: Ib96d68f1dc60a0cbb5b79302c1face9c2272946a
(cherry picked from commit 0b132775eb4b8c373837772974b03518e3e09f61)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6,openstack/kolla-ansible,stable/wallaby,fix-fluentd-warning-stable/wallaby,Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6,Stop fluentd deprecation warnings of type vs @type,MERGED,2021-06-20 18:45:31.000000000,2021-06-21 10:24:57.000000000,2021-06-21 10:24:57.000000000,2,2,0,797203,252671f8ba3f057fcf17c95c2ea1451b9040a326,8,4,1,1,30491,Radosław Piliszek,yoctozepto,"Stop fluentd deprecation warnings of type vs @type

Currently when elasticsearch log output is enabled there are lots
of warnings going into elasticsearch about type being deprecated
and needing to move to @type. This change stops those warnings.

TrivialFix

Change-Id: Ideac1925cb764ad0d7d8416f56d5e4a993c6d8b6
(cherry picked from commit 0c7ba86e05637d715065bac60839fcaab2db760c)
"
openstack%2Fmasakari~master~Ic75176119249e48a23db8b75c43b4552fbbeee98,openstack/masakari,master,,Ic75176119249e48a23db8b75c43b4552fbbeee98,not wait when error occurs in stop or start.,ABANDONED,2021-05-07 01:54:59.000000000,2021-06-21 10:10:09.000000000,,30,0,4,790199,d118f3215123292aaad7449f09b9f9440a1a6473,4,2,1,2,32722,Ye Haiyang,YeHaiyang,"not wait when error occurs in stop or start.

When processing instance failure notification, if an error occurs wen start or stop instance, thread still waits until loopingcall timeout.

Change-Id: Ic75176119249e48a23db8b75c43b4552fbbeee98
"
openstack%2Freleases~master~I5d9024528d08487a7582e0a0e73576b22708a6cf,openstack/releases,master,fix-first-series-release-check,I5d9024528d08487a7582e0a0e73576b22708a6cf,Fix validation to ensure that first release of series isn't a bugfix,MERGED,2021-06-15 12:27:14.000000000,2021-06-21 10:09:54.000000000,2021-06-21 10:09:54.000000000,55,0,0,796456,9504e96b5df4bd26d87c36681fecca5b27872a9d,23,3,8,3,28522,Hervé Beraud,hberaud,"Fix validation to ensure that first release of series isn't a bugfix

We recently observed that this check was skipped. Indeed it was
possible to propose a bugfix version on the first release of a series
without facing validation errors [1].

The described situation was allowed by checks that we introduced
during Wallaby [2]. Those was designed to ensure that we can
build sdist from the proposed tag. Indeed, they temporarly created
the new git tag to build sdist from it. However we never delete this
tag after our tests so this temporary tag is see as an existing tag
and so that led us to the observed bug.

Our validation check that the first version number of series isn't a
bugfix after it tried to build the sdist from the new tag, so, without
this patch the tag newly created by the sdist check remains available
in the repo, and so a couple of next checks are skipped, including the
validation of the version number, because these checks are decorated
to ignore existing tags.

Indeed the function decorated with `skip_existing_tags` detect this
temporary tag as an existing tag, so, the decorated functions are
skipped.

We should notice that it surely impacted other checks in the same manner.
Indeed, all validation functions decorated with this function
`skip_existing_tags` are impacted by this bug.
Hopefully it didn't have too much side effects.

These changes delete the temporary tag after usage to ensure to restore
the initial environment and to stop skipping next checks.

[1] https://review.opendev.org/c/openstack/releases/+/795836
[2] https://opendev.org/openstack/releases/commit/80652b523214ab7215928368246fbf726b78a645

Change-Id: I5d9024528d08487a7582e0a0e73576b22708a6cf
"
openstack%2Fcharm-manila-generic~master~I00723438f781d619611ae7f5585a6407df619816,openstack/charm-manila-generic,master,batch-update,I00723438f781d619611ae7f5585a6407df619816,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:10:36.000000000,2021-06-21 10:07:56.000000000,2021-06-21 10:07:56.000000000,1,1,0,791201,80e7b7d7280234f864433952156f041425a90034,11,3,1,1,11805,Corey Bryant,coreycb,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I00723438f781d619611ae7f5585a6407df619816
"
openstack%2Fkolla-ansible~stable%2Fvictoria~Ib96d68f1dc60a0cbb5b79302c1face9c2272946a,openstack/kolla-ansible,stable/victoria,,Ib96d68f1dc60a0cbb5b79302c1face9c2272946a,Fix neutron-ovn-metadata-agent with policy.yaml,MERGED,2021-06-20 18:42:01.000000000,2021-06-21 10:07:40.000000000,2021-06-21 10:05:59.000000000,6,7,0,797198,f557229ef67cc6bcccf2772132501d76dad96bc4,9,3,1,1,30491,Radosław Piliszek,yoctozepto,"Fix neutron-ovn-metadata-agent with policy.yaml

The config.json template for neutron-ovn-metadata-agent uses a
hard-coded policy file name of policy.json. This prevents use of a
policy.yaml file with this service. This patch fixes this.

TrivialFix

Change-Id: Ib96d68f1dc60a0cbb5b79302c1face9c2272946a
(cherry picked from commit 0b132775eb4b8c373837772974b03518e3e09f61)
"
openstack%2Fneutron~master~I7870b869a755054ef1989f86ebdd3470ec5cf435,openstack/neutron,master,bug/1930397,I7870b869a755054ef1989f86ebdd3470ec5cf435,"Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""",MERGED,2021-06-02 14:30:13.000000000,2021-06-21 10:06:06.000000000,2021-06-16 19:38:44.000000000,3,2,6,794236,cc3dc7c8508a142b614ee9cfe3f4a6766f62d8b8,87,7,5,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""

This method, when called from outside an active session, must create
a new one, given the context.

This patch also changes the L3HARouterAgentPortBinding.port and
L3HARouterAgentPortBinding.agent relationships to be ""joined"". That
will retrieve the port and the agent DB registers in the main query
and the returned object won't need to make subqueries to retrieve
them. The SQL query looks like
http://paste.openstack.org/show/806275/.

Change-Id: I7870b869a755054ef1989f86ebdd3470ec5cf435
Closes-Bug: #1930397
"
openstack%2Fkolla-ansible~stable%2Fussuri~Ib96d68f1dc60a0cbb5b79302c1face9c2272946a,openstack/kolla-ansible,stable/ussuri,,Ib96d68f1dc60a0cbb5b79302c1face9c2272946a,Fix neutron-ovn-metadata-agent with policy.yaml,MERGED,2021-06-20 18:42:30.000000000,2021-06-21 10:06:05.000000000,2021-06-21 10:04:31.000000000,6,7,0,797199,005d4b89fff8a841d4ac254608f59864ecdd9e54,9,3,1,1,30491,Radosław Piliszek,yoctozepto,"Fix neutron-ovn-metadata-agent with policy.yaml

The config.json template for neutron-ovn-metadata-agent uses a
hard-coded policy file name of policy.json. This prevents use of a
policy.yaml file with this service. This patch fixes this.

TrivialFix

Change-Id: Ib96d68f1dc60a0cbb5b79302c1face9c2272946a
(cherry picked from commit 0b132775eb4b8c373837772974b03518e3e09f61)
"
openstack%2Fvalidations-common~master~I352e09c2761ca3e3a6a4ad7c6c4e5b370c70563f,openstack/validations-common,master,molecule/jobgeneralization,I352e09c2761ca3e3a6a4ad7c6c4e5b370c70563f,DNM Zuul job generalization,ABANDONED,2021-06-02 07:18:57.000000000,2021-06-21 10:04:24.000000000,,7,24,0,794144,c5b4c154246edcbb312a5d5fd8c9c96148367f54,8,1,5,1,32926,Jiri Podivin,jpodivin,"DNM Zuul job generalization

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I352e09c2761ca3e3a6a4ad7c6c4e5b370c70563f
"
