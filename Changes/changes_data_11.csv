id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Ftripleo-ansible~master~Iface80568fe3f9db3fa9fbe859eedf73f861e55b,openstack/tripleo-ansible,master,derive-parameters-cleanup,Iface80568fe3f9db3fa9fbe859eedf73f861e55b,Derive parameters clean up,MERGED,2022-07-27 09:15:26.000000000,2022-10-07 11:32:47.000000000,2022-10-06 03:25:04.000000000,0,27239,17,851198,9fe9f2ee607251716e6673f2cb9d0d346469a25a,41,5,5,46,22865,Jaganathan Palanisamy,jaganathancse,"Derive parameters clean up

This change is to remove derive parameters code
for OvS DPDK, SRIOV and HCI Parameters.

Change-Id: Iface80568fe3f9db3fa9fbe859eedf73f861e55b
"
openstack%2Fkolla-ansible~master~I48b115e46dcd39882385f89626b048d6d69b0a0c,openstack/kolla-ansible,master,stop-showing-image-locations,I48b115e46dcd39882385f89626b048d6d69b0a0c,Stop showing image locations,ABANDONED,2022-10-07 11:31:26.000000000,2022-10-07 11:32:34.000000000,,17,4,0,860677,4d5e314c39178c27519f1c872efd4fb5cf76510f,2,0,1,2,30491,Rados≈Çaw Piliszek,yoctozepto,"Stop showing image locations

This is generally considered insecure because it may reveal
sensitive data [1].
Furthermore, it happens that the default Ceph perms cause fatal
ERRORs with this setting:
1) when Glance wants to remove an image, it cannot list children
because Cinder or Nova might have created a linked volume clone
behind the scenes and it is put in another pool (volumes/vms)
which Glance cannot normally access;
2) when Nova wants to create an image, it lacks permissions
to write to the images pool.

Thus, I propose that Kolla Ansible stops setting this by default
and relies on the working defaults.
The downside is that this disables optimisations in Cinder and Nova.
On the other hand, these optimisations have nasty behaviour of
being linked directly to the original image, preventing its removal.

[1] https://docs.openstack.org/glance/yoga/configuration/glance_api.html#DEFAULT.show_multiple_locations

Change-Id: I48b115e46dcd39882385f89626b048d6d69b0a0c
"
openstack%2Fcharm-openstack-dashboard~master~Idc3a9dcfedd7c96ec3c2aaac22a746c9191f5f9c,openstack/charm-openstack-dashboard,master,bug/1983578,Idc3a9dcfedd7c96ec3c2aaac22a746c9191f5f9c,Closes-Bug: #1983578,NEW,2022-10-07 10:37:59.000000000,2022-10-07 11:30:06.000000000,,11,0,0,860673,43d03393af4e7b05844738ee608c8a5ce581b2d3,3,2,1,3,29685,Alexander Litvinov,alitvinov,"Closes-Bug: #1983578

Change-Id: Idc3a9dcfedd7c96ec3c2aaac22a746c9191f5f9c
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iedad3472383aec6708af41edfaf400879a5a0d26,openstack/tripleo-heat-templates,stable/train,ovn-migration,Iedad3472383aec6708af41edfaf400879a5a0d26,Neutron: Set br-int as default integration bridge,MERGED,2022-10-06 22:45:04.000000000,2022-10-07 11:28:02.000000000,2022-10-07 11:28:02.000000000,1,0,1,860609,dae1f19d2075b71cf3ce9e3725ccbf3c67d0a014,9,7,1,1,4694,Miguel Lavalle,minsel,"Neutron: Set br-int as default integration bridge

Having the default set is useful for migration from Neutron OVS
mechanism driver to the OVN mechanism driver. The migration process
installs OVN configured with temporary br-migration bridge. To avoid
problems with potential future updates we had to call ""overcloud deploy""
twice, second time just to re-deploy all things again with br-int. We
can avoid the second call and speed up the migration process
significantly just by setting the default in THT.

Conflicts:
    overcloud-resource-registry-puppet.j2.yaml

Change-Id: Iedad3472383aec6708af41edfaf400879a5a0d26
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit e0835ccd1a9e916ea175b3bec0269ab3cba340ab)
"
openstack%2Foctavia~master~I21746515e4ceb0352b4e77708f58873e16d4cdfe,openstack/octavia,master,fix_persistence_granularity,I21746515e4ceb0352b4e77708f58873e16d4cdfe,Fix persistence_granularity default value,NEW,2022-10-04 07:59:50.000000000,2022-10-07 11:22:47.000000000,,47,5,2,860211,dd5d3cca6cd7ec27cd388d7ce4939c9c38af8c83,8,3,3,4,31664,Omer Schwartz,oschwart,"Fix persistence_granularity default value

So far we assiged an ipv4 default value to persistence_granularity when
we created a UDP pool with session persistence.

This patch adds the condition of ipv6 and assigns its matching netmask
value.

Story 2009922
Task 44780

Change-Id: I21746515e4ceb0352b4e77708f58873e16d4cdfe
"
openstack%2Fopenstack-ansible~stable%2Fxena~I76b57d0435e418e5e02bc3fa5cd7e82b9ff2f168,openstack/openstack-ansible,stable/xena,bump_osa,I76b57d0435e418e5e02bc3fa5cd7e82b9ff2f168,Bump OpenStack-Ansible Xena,MERGED,2022-09-28 21:27:58.000000000,2022-10-07 11:12:52.000000000,2022-10-07 11:11:26.000000000,34,34,1,859730,5502f685d940b9ac7cd323360c13f7f986c2bbf9,15,4,2,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump OpenStack-Ansible Xena

Change-Id: I76b57d0435e418e5e02bc3fa5cd7e82b9ff2f168
"
openstack%2Fneutron~stable%2Fussuri~Ic281dec74a46c95024a6df1db3b1f9ee7d7d1227,openstack/neutron,stable/ussuri,bug/1896816,Ic281dec74a46c95024a6df1db3b1f9ee7d7d1227,Convert OvnDbNotifyHandler rows to frozen rows,MERGED,2022-10-04 12:20:05.000000000,2022-10-07 11:09:29.000000000,2022-10-07 11:08:03.000000000,1,0,1,860248,47a2387595a01e7b8afe9f6b90a5048c93123d15,14,4,2,1,30463,Krzysztof Tomaszewski,labedz,"Convert OvnDbNotifyHandler rows to frozen rows

In I87489596e2ff224431f7e83f43a1725172ee0953, the intent was to
make sure all event rows were converted to ""frozen"" rows to avoid
race conditions. Since OnvDbNotifyHandler.notify() does not call
super(), then it is necessary to do this conversion ourselves.

Related-Bug: #1896816
Change-Id: Ic281dec74a46c95024a6df1db3b1f9ee7d7d1227
(cherry picked from commit 27255fce30f570b549b026346fb10b7d0dca9039)
"
openstack%2Fopenstack-tempest-skiplist~master~I55c2b7eb781c76adf4e055a00a1ab020751576f2,openstack/openstack-tempest-skiplist,master,copy-release,I55c2b7eb781c76adf4e055a00a1ab020751576f2,Add copy release command,NEW,2022-10-05 09:47:37.000000000,2022-10-07 11:08:48.000000000,,235,0,13,860390,6efec8e5b32538cb7d463c024e984e3dfc46a274,10,4,2,6,8367,Arx Cruz,arxcruz,"Add copy release command

This patch add the copy-release command to tempest-skip cli. This is
usefull when a new release of openstack is released and we don't need to
manually add the new release for each test in the skip list.

Change-Id: I55c2b7eb781c76adf4e055a00a1ab020751576f2
"
openstack%2Fpython-tripleoclient~master~I9ccf3154e9052df97383d460f0c0f87a5370e7ef,openstack/python-tripleoclient,master,overcloud_db_backup,I9ccf3154e9052df97383d460f0c0f87a5370e7ef,Implement --db-only backups for overcloud,NEW,2022-08-25 13:18:41.000000000,2022-10-07 11:03:12.000000000,,20,0,2,854621,fe36c2bde4d0285edd5842da2d91fef4cb42c3db,8,3,2,1,7130,David Hill,dhill,"Implement --db-only backups for overcloud

This new change allows an operator to take a database backup from
the first host in the Controller group by using `openstack overcloud
backup --db-only`

Change-Id: I9ccf3154e9052df97383d460f0c0f87a5370e7ef
Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/854620
"
openstack%2Ftripleo-ansible~master~I141a240aedeff173d64413fd1b75df38f0d5ac7e,openstack/tripleo-ansible,master,overcloud_db_backup,I141a240aedeff173d64413fd1b75df38f0d5ac7e,Add overcloud-db-backup cli playbook,NEW,2022-08-25 13:06:23.000000000,2022-10-07 10:59:49.000000000,,45,0,16,854620,6890d8d0836e4faf2474d5e8dba1cb0407cfb541,26,7,6,1,7130,David Hill,dhill,"Add overcloud-db-backup cli playbook

Add overcloud-db-backup cli playbook

Change-Id: I141a240aedeff173d64413fd1b75df38f0d5ac7e
"
openstack%2Fcharm-openstack-dashboard~master~I915eefdd723f0ed7fddcb01b7b39c27b9daea0ee,openstack/charm-openstack-dashboard,master,bug/1983578,I915eefdd723f0ed7fddcb01b7b39c27b9daea0ee,Fix for the bug 1983578,ABANDONED,2022-10-07 07:36:25.000000000,2022-10-07 10:38:28.000000000,,11,0,0,860637,45d4e454b32a98abfeaf72be616d590fb826e71e,4,2,1,3,29685,Alexander Litvinov,alitvinov,"Fix for the bug 1983578

Change-Id: I915eefdd723f0ed7fddcb01b7b39c27b9daea0ee
"
openstack%2Fopenstack-ansible-os_tempest~master~I862e1ea4cef840d1903962181bfc8ec3c5a1e903,openstack/openstack-ansible-os_tempest,master,osa/deb_git-core,I862e1ea4cef840d1903962181bfc8ec3c5a1e903,Replace git-core with git for debian,MERGED,2022-10-05 09:06:15.000000000,2022-10-07 10:35:53.000000000,2022-10-07 10:34:51.000000000,1,1,0,860358,c43fc6c9c8aeba25de25131a30e7c1cac617cce1,9,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Replace git-core with git for debian

With ansible-core 2.13 it tries to substitude package resolution in apt
module.
However git-core is used in Debian as transitional name, but ansible
tries to select it and provide version, which is not correct behaviour.
But since git-core is not really valid anyway, we just replace it
to workaround ansible's imperfectness.

Change-Id: I862e1ea4cef840d1903962181bfc8ec3c5a1e903
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I4f5c1bd8be8e23cf6299ca4bdfd79e9d98c9a9eb,openstack/kolla-ansible,stable/wallaby,keystone-oidc-azure-stable/wallaby,I4f5c1bd8be8e23cf6299ca4bdfd79e9d98c9a9eb,Keystone OIDC JWKS fix,MERGED,2022-10-06 19:26:27.000000000,2022-10-07 10:34:20.000000000,2022-10-07 10:33:04.000000000,26,2,0,860469,f5f14cb4a7055addaf37f80d68e805c3e6a4b913,11,3,2,4,34076,Jakub Darmach,darmach,"Keystone OIDC JWKS fix

JWT failed to validate on auth-oidc endpoint used by openstack cli
with ""could not find key with kid: XX"" error. To fix this we need
to use jwks provided in ""jwks_uri"" by OIDC metadata endpoint.

Missing ""ServerName"" directive from vhost config causes redirection
to fail in some cases when external tls is enabled.

  - added ""keystone_federation_oidc_jwks_uri"" variable
  - added ""OIDCOAuthVerifyJwksUri"" to keystone vhost config
  - added ""ServerName"" to keystone vhost config
  - jinja templating additional whitespace trimmed to
    correct end result indentation and empty newlines

Closes-bug: 1990375
Change-Id: I4f5c1bd8be8e23cf6299ca4bdfd79e9d98c9a9eb
(cherry picked from commit 98929761191e265474459a0b73fdbeb07afd2bb4)
"
openstack%2Fkolla~master~I88e1e0ca01b2b2effad9515b905cc761fbb5d2d4,openstack/kolla,master,nova-compute-qemu-rbd,I88e1e0ca01b2b2effad9515b905cc761fbb5d2d4,Support qemu block rbd in nova-compute,MERGED,2022-10-04 10:09:44.000000000,2022-10-07 10:27:35.000000000,2022-10-07 10:26:36.000000000,2,0,1,860230,9e92e4c8e494ec345ccce1eff739f18bf9035c9b,19,4,3,1,30491,Rados≈Çaw Piliszek,yoctozepto,"Support qemu block rbd in nova-compute

This is necessary if using nova-compute with RBD backend (directly,
not via Cinder) and wishing to make an instance image to Glance
while (1) following the recommended Ceph permissions which do not
give Nova write permissions to the images' pool or (2) not using
RBD with Glance or (3) not revealing what Glance actually uses
as the backend (hiding locations).

Change-Id: I88e1e0ca01b2b2effad9515b905cc761fbb5d2d4
"
openstack%2Fopenstacksdk~master~I95af9b81e6abd51af2a7dd91cae14b56926a869c,openstack/openstacksdk,master,better_tests,I95af9b81e6abd51af2a7dd91cae14b56926a869c,Implement acceptance test job,NEW,2022-10-05 10:27:19.000000000,2022-10-07 10:26:42.000000000,,320,38,0,860399,19fe7e9c0f6caa9d097142af7c74a5cbd7c1ac15,39,1,20,11,27900,Artem Goncharov,gtema,"Implement acceptance test job

Implement acceptance tests. Those jobs will run in the post-review
pipeline requiring access to secrets containing credentials of friendly
public clouds to test sdk with them.
Base job is generating a token from the given credentials and writes
clouds.yaml file with the token inside instead of password. As a post
step the token is physically revoked. This is done to prevent potential
leakage of real credentials from the test jobs/logs.

Since devstack is not a real cloud we do not use zuul secrets.

Change-Id: I95af9b81e6abd51af2a7dd91cae14b56926a869c
"
openstack%2Fhorizon~stable%2Fzed~I76a2eb9aaaaf0082ada3d44adfd1bb0b2ec29af0,openstack/horizon,stable/zed,zanata/translations,I76a2eb9aaaaf0082ada3d44adfd1bb0b2ec29af0,Imported Translations from Zanata,MERGED,2022-10-06 03:36:51.000000000,2022-10-07 10:23:28.000000000,2022-10-07 10:22:05.000000000,66,29624,1,860517,34717d905f1e7bde0518deca23b8db7958cfdabe,7,2,1,25,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I76a2eb9aaaaf0082ada3d44adfd1bb0b2ec29af0
"
openstack%2Fopenstack-ansible~stable%2Fwallaby~I7fd60171ddeb72aad4f8d95403afed3076bc7093,openstack/openstack-ansible,stable/wallaby,bump_osa,I7fd60171ddeb72aad4f8d95403afed3076bc7093,Bump OpenStack-Ansible Wallaby,MERGED,2022-09-28 21:37:28.000000000,2022-10-07 10:22:49.000000000,2022-10-07 10:20:35.000000000,32,32,1,859731,236e2677f1a7e7862aded23b251a47547270d623,12,4,1,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump OpenStack-Ansible Wallaby

Change-Id: I7fd60171ddeb72aad4f8d95403afed3076bc7093
"
openstack%2Fopenstack-ansible~stable%2Fyoga~Ic935494eff54195f3e6a12c1e282def298cc98bd,openstack/openstack-ansible,stable/yoga,bump_osa,Ic935494eff54195f3e6a12c1e282def298cc98bd,Bump OpenStack-Ansible Yoga,MERGED,2022-09-28 21:14:53.000000000,2022-10-07 10:22:36.000000000,2022-10-07 10:20:32.000000000,25,25,0,859728,3f440373c4799119173c1fc76b2f03dec58550f9,8,3,1,5,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump OpenStack-Ansible Yoga

Change-Id: Ic935494eff54195f3e6a12c1e282def298cc98bd
"
openstack%2Fopenstack-ansible-os_cinder~master~Ib0a75886baffec27c8a7d38d729623c7b41216eb,openstack/openstack-ansible-os_cinder,master,osa/deb_git-core,Ib0a75886baffec27c8a7d38d729623c7b41216eb,Replace git-core with git for debian,MERGED,2022-10-05 08:51:27.000000000,2022-10-07 10:13:46.000000000,2022-10-07 10:12:41.000000000,1,1,0,860349,0ebed2408b920f9fd16994fed337da41800784bf,9,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Replace git-core with git for debian

With ansible-core 2.13 it tries to substitude package resolution in apt
module.
However git-core is used in Debian as transitional name, but ansible
tries to select it and provide version, which is not correct behaviour.
But since git-core is not really valid anyway, we just replace it
to workaround ansible's imperfectness.

Change-Id: Ib0a75886baffec27c8a7d38d729623c7b41216eb
"
openstack%2Fhorizon~master~I82f019845a827e4fa0ed81d41265adea4638d2e3,openstack/horizon,master,,I82f019845a827e4fa0ed81d41265adea4638d2e3,DNM: Test older PyYAML,ABANDONED,2022-10-07 00:40:13.000000000,2022-10-07 10:06:32.000000000,,1,1,1,860612,cc73fca21cead65a0be4b539f6fcb50fa73be423,4,1,1,1,5263,Jeremy Stanley,fungi,"DNM: Test older PyYAML

Debian may be releasing with PyYAML 5.4 due to other reverse-depends
not being compatible with 6 yet, so test with what they have
currently and see if that's new enough.

Change-Id: I82f019845a827e4fa0ed81d41265adea4638d2e3
"
openstack%2Ftripleo-quickstart-extras~master~Ia2d664c89a00f139454a4e7b6322eb3fd383e473,openstack/tripleo-quickstart-extras,master,,Ia2d664c89a00f139454a4e7b6322eb3fd383e473,Remove quotation marks from set statements in standalone_config template,MERGED,2022-10-06 12:01:16.000000000,2022-10-07 09:49:30.000000000,2022-10-06 23:51:44.000000000,2,2,1,860558,db86a9352bec6f982ca10acc2ed6ffb910088d29,9,4,1,1,33080,Mikolaj Ciecierski,mciecierski,"Remove quotation marks from set statements in standalone_config template

Quotation marks should be removed in set statements from
standalone_config jinja template to make the template compatible with
all ansible versions. When quotation marks are used, variable does not
return its value, but is passed as regular string value.

Change-Id: Ia2d664c89a00f139454a4e7b6322eb3fd383e473
"
openstack%2Fdevstack~stable%2Fwallaby~I793c250cae5e7b9bc835b7016d790d1f9ae8a7f3,openstack/devstack,stable/wallaby,,I793c250cae5e7b9bc835b7016d790d1f9ae8a7f3,Further fixup for Ubuntu cloud images,MERGED,2022-10-03 11:37:43.000000000,2022-10-07 09:36:42.000000000,2022-10-07 09:35:36.000000000,2,0,0,860086,bc7431665b0aa7cdee3061a857c586d85fb88694,8,4,1,1,30674,Lukas Piwowarski,lukas-piwowarski,"Further fixup for Ubuntu cloud images

The official Ubuntu cloud images have some further python pkgs
preinstalled that conflict with our requirements. Allow to
overwrite them.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Closes-Bug: 1871485
Change-Id: I793c250cae5e7b9bc835b7016d790d1f9ae8a7f3
(cherry picked from commit 61a37bff9a35337f5924ca7cc61c76e42e55d787)
"
openstack%2Fopenstack-ansible-os_mistral~master~I247aa7bebda37b6c8d9e83767e7b77d1cd30c575,openstack/openstack-ansible-os_mistral,master,osa/deb_git-core,I247aa7bebda37b6c8d9e83767e7b77d1cd30c575,Replace git-core with git for debian,MERGED,2022-10-05 09:04:03.000000000,2022-10-07 09:33:54.000000000,2022-10-07 09:32:54.000000000,1,1,0,860355,e2ed22524c5a61f75cc8710d6face939035c6d9a,9,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Replace git-core with git for debian

With ansible-core 2.13 it tries to substitude package resolution in apt
module.
However git-core is used in Debian as transitional name, but ansible
tries to select it and provide version, which is not correct behaviour.
But since git-core is not really valid anyway, we just replace it
to workaround ansible's imperfectness.

Change-Id: I247aa7bebda37b6c8d9e83767e7b77d1cd30c575
"
openstack%2Fopenstack-health~master~I368beadca9184654d1727579e7cd9274b53192d6,openstack/openstack-health,master,fix/gulp,I368beadca9184654d1727579e7cd9274b53192d6,WIP: Fix gulp,ABANDONED,2022-01-19 15:44:07.000000000,2022-10-07 09:31:50.000000000,,84,63,1,825336,e6a5a432472d8828f3aa2c9ff4a87ce775b52523,5,2,1,12,30674,Lukas Piwowarski,lukas-piwowarski,"WIP: Fix gulp

Change-Id: I368beadca9184654d1727579e7cd9274b53192d6
"
openstack%2Fopenstack-ansible-haproxy_server~master~Ic4bc4393ec89469876e9e95b12bb9c4069972713,openstack/openstack-ansible-haproxy_server,master,,Ic4bc4393ec89469876e9e95b12bb9c4069972713,Allow do disable SSL only for stats frontend,MERGED,2022-09-22 14:06:49.000000000,2022-10-07 09:31:04.000000000,2022-10-07 09:29:57.000000000,2,1,2,858939,6025eaac36d4d6b03e529b66f97813e52c747b09,15,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Allow do disable SSL only for stats frontend

Currently there is no way of disabling SSL connection for stats frontend
as it implies more global variable. However, for some systems consuming
self-signed root certificate might be not an option and disabling
SSL verification tricky. Thus, we introduce new variable that allows to
nicely control if SSL should be served for stats frontend or not.

Change-Id: Ic4bc4393ec89469876e9e95b12bb9c4069972713
"
openstack%2Fopenstack-ansible-os_swift~master~Ic931147588dc549eaf41db9ff1c4abda2b8537c5,openstack/openstack-ansible-os_swift,master,osa/deb_git-core,Ic931147588dc549eaf41db9ff1c4abda2b8537c5,Replace git-core with git for debian,MERGED,2022-10-05 09:05:35.000000000,2022-10-07 09:30:34.000000000,2022-10-07 09:29:18.000000000,1,1,0,860357,0b14d1ebaed2e89b08cf329940e94a2be95247e4,9,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Replace git-core with git for debian

With ansible-core 2.13 it tries to substitude package resolution in apt
module.
However git-core is used in Debian as transitional name, but ansible
tries to select it and provide version, which is not correct behaviour.
But since git-core is not really valid anyway, we just replace it
to workaround ansible's imperfectness.

Change-Id: Ic931147588dc549eaf41db9ff1c4abda2b8537c5
"
openstack%2Fopenstack-ansible-haproxy_server~master~I54717d4f7230b8d8dff2d293592831cc88c51d24,openstack/openstack-ansible-haproxy_server,master,,I54717d4f7230b8d8dff2d293592831cc88c51d24,Validate haproxy conf after assemble,MERGED,2022-10-05 11:37:14.000000000,2022-10-07 09:27:37.000000000,2022-10-07 09:26:35.000000000,1,0,0,860402,9fc079a65d86ac9920ecd759eaa0f25957135855,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Validate haproxy conf after assemble

Right now we don't ensure haproxy conf validity and if it's incorrect
role will fail on attempt to reload haproxy. However it's really worth
adding validation step and do not proceed if configuration is wrong

Change-Id: I54717d4f7230b8d8dff2d293592831cc88c51d24
"
openstack%2Fpython-openstackclient~master~Ifedaa1c8bfab23d92958e58c69c03e778454a408,openstack/python-openstackclient,master,coverage/omittests,Ifedaa1c8bfab23d92958e58c69c03e778454a408,Excluding test code from coverage reports,NEW,2022-09-07 07:10:18.000000000,2022-10-07 09:23:06.000000000,,1,0,0,856237,e3199ea37744af1ff27a23df84ea1601c03927b2,3,3,1,1,32926,Jiri Podivin,jpodivin,"Excluding test code from coverage reports

Coverage report should not include statiststics on test modules
which is not only unnecessary, but also pollutes the coverage
statistics and pollutes the final report.

Requesting the path to tests to be omitted in .coveragerc resolves the issue.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ifedaa1c8bfab23d92958e58c69c03e778454a408
"
openstack%2Ftripleo-ansible~master~I32dc4fa9df2432ea377f5bfa0df4c9916d7ac2e6,openstack/tripleo-ansible,master,httpd/gnocchi,I32dc4fa9df2432ea377f5bfa0df4c9916d7ac2e6,tripleo_gnocchi service role,NEW,2022-09-22 09:48:44.000000000,2022-10-07 09:20:54.000000000,,197,0,2,858878,cfe860d56fa9e2d94365c0f7f56ff968cc1354a6,19,4,7,8,32926,Jiri Podivin,jpodivin,"tripleo_gnocchi service role

Derived from tripleo_aodh service role. Handles httpd configuration.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I32dc4fa9df2432ea377f5bfa0df4c9916d7ac2e6
"
openstack%2Ftempest~master~I337c59abab3328ef96ed2172c43e366f23327c58,openstack/tempest,master,fix/delete_snapshot,I337c59abab3328ef96ed2172c43e366f23327c58,[DNM] Remove snapshot deletion,ABANDONED,2021-06-02 15:30:42.000000000,2022-10-07 09:14:42.000000000,,6,21,0,794257,1464238f59e3bc37baeb91a1dde7bc81e2e2e142,3,1,1,1,30674,Lukas Piwowarski,lukas-piwowarski,"[DNM] Remove snapshot deletion

This patch makes sure that snapshots created within volume tests
are deleted only once.

Before, each snapshot was deleted twice [1][2].

[1] https://github.com/openstack/tempest/blob/3e127640657b294c9d4a941b6a6bb287aa496539/tempest/api/volume/test_volumes_snapshots.py#L142
[2] https://github.com/openstack/tempest/blob/3e127640657b294c9d4a941b6a6bb287aa496539/tempest/api/volume/base.py#L142

Change-Id: I337c59abab3328ef96ed2172c43e366f23327c58
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Iff8d22d76bff98acc9fe4c67226450af81000236,openstack/kolla-ansible,stable/wallaby,feat/add_storm_ui,Iff8d22d76bff98acc9fe4c67226450af81000236,enable storm ui,ABANDONED,2022-10-04 07:59:22.000000000,2022-10-07 09:02:39.000000000,,89,0,2,860210,9a7bcec33b7b71e85e38ef982f998b530b366346,4,1,1,7,13114,Hoai-Thu Vuong,thuvh,"enable storm ui

Change-Id: Iff8d22d76bff98acc9fe4c67226450af81000236
"
openstack%2Fkolla~master~I8f08abb1722e558e3874fd7d92322598d55de563,openstack/kolla,master,,I8f08abb1722e558e3874fd7d92322598d55de563,Deprecate Monasca and dependencies,MERGED,2022-10-05 12:14:46.000000000,2022-10-07 08:54:53.000000000,2022-10-07 08:52:41.000000000,6,0,9,860404,61b9d8503365614a668a99c490c1c2b75e211685,20,4,3,1,32657,Piotr Parczewski,piotrp,"Deprecate Monasca and dependencies

Adds a deprecation notice for Monasca service in Kolla with its
dependencies: Kafka, Storm and Zookeeper.

Change-Id: I8f08abb1722e558e3874fd7d92322598d55de563
"
openstack%2Fkolla-ansible~stable%2Fyoga~I7be366aa9319a4046e93cf22eb15fd523ed4a006,openstack/kolla-ansible,stable/yoga,,I7be366aa9319a4046e93cf22eb15fd523ed4a006,"Revert ""Disable c8s upgrade jobs""",MERGED,2022-10-07 05:51:04.000000000,2022-10-07 08:54:46.000000000,2022-10-07 08:52:39.000000000,3,3,0,860650,285419787badc7ee5afd1974f52bf369dd666ba5,9,3,1,1,22629,Michal Nasiadka,mnasiadka,"Revert ""Disable c8s upgrade jobs""

This reverts commit 85e3ea41c08d60a1983c489b1543f77481cf111e.

Reason for revert: rdo-openvswitch-2.17 package is on the mirrors

Change-Id: I7be366aa9319a4046e93cf22eb15fd523ed4a006
"
openstack%2Ftripleo-heat-templates~master~I97bea1f17ed293cce7bc0490e93bb870fa901025,openstack/tripleo-heat-templates,master,bug/1988550,I97bea1f17ed293cce7bc0490e93bb870fa901025,"Change how ipa principal service names are generated. Instead of hard-coding `$hostname.$interface.$domain`, now the domain part is retrieved from `network.dns_domain` if set, otherwise defaulting to the previous logic.",NEW,2022-09-30 02:09:08.000000000,2022-10-07 07:55:25.000000000,,48,10,10,859907,3c5974bb6e0fa4543ceb6b47587dd52f2671adff,24,3,7,3,34754,Cristian Le,lecris,"Change how ipa principal service names are generated.
Instead of hard-coding `$hostname.$interface.$domain`, now the domain part is retrieved from `network.dns_domain` if set, otherwise defaulting to the previous logic.

Closes-Bug: #1988550
Change-Id: I97bea1f17ed293cce7bc0490e93bb870fa901025
Signed-off-by: Cristian Le <git@lecris.me>
"
openstack%2Fneutron-tempest-plugin~master~Iab4debdb7a4d7f5a23eef49284138504954b0398,openstack/neutron-tempest-plugin,master,bug/1991962,Iab4debdb7a4d7f5a23eef49284138504954b0398,"Add ""devstack-tempest"" job to ""neutron-tempest-plugin-jobs""",ABANDONED,2022-10-06 16:06:50.000000000,2022-10-07 07:47:45.000000000,,1,0,7,860589,1152a4d818a0d418f38850de80fc9b9c3807943c,8,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add ""devstack-tempest"" job to ""neutron-tempest-plugin-jobs""

The aim of this addition is to test the default devstack tempest
test job in the Neutron and neutron-tempest-plugin CI, at least in
the gate. That will prevent some errors like the one described
in LP#1991962. This ""devstack-tempest"" job is the parent of many
other tempest jobs executed in other OpenStack projects.

Change-Id: Iab4debdb7a4d7f5a23eef49284138504954b0398
Related-Bug: #1991962
"
openstack%2Ftripleo-ansible~master~Ibe584e6b7f0bbea534b75e13d0ec527993d708b5,openstack/tripleo-ansible,master,standalone-roles-octavia,Ibe584e6b7f0bbea534b75e13d0ec527993d708b5,Add Octavia Worker host_prep_tasks,NEW,2022-10-05 02:15:59.000000000,2022-10-07 07:21:26.000000000,,41,0,6,860333,40f0a28279579b040f8da617d619b31f8accc041,9,3,2,1,30073,Brendan Shephard,bshephar,"Add Octavia Worker host_prep_tasks

This change moves host_prep_tasks for Octavia Worker from THT
into the dedicated tripleo_octavia standalone-role.

Change-Id: Ibe584e6b7f0bbea534b75e13d0ec527993d708b5
"
openstack%2Fopenstack-tempest-skiplist~master~I38c89edf0d6467252d9627656c2162b99012ea66,openstack/openstack-tempest-skiplist,master,lp1990480,I38c89edf0d6467252d9627656c2162b99012ea66,Add standalone-full-tempest-api-rhos-17 to dns test skip,MERGED,2022-10-06 21:26:53.000000000,2022-10-07 07:20:23.000000000,2022-10-07 07:19:05.000000000,1,0,2,860604,438e3145e3f2717d90dc6de44d8f72bd38b1a2c8,9,4,1,1,9976,Ronelle Landy,rlandy,"Add standalone-full-tempest-api-rhos-17 to dns test skip

This test is now showing the 'KeyError: 'dns_domain''
error.

Change-Id: I38c89edf0d6467252d9627656c2162b99012ea66
Related-Bug: #1990480
"
openstack%2Fmasakari-specs~master~Iccc247a5babd8b579ddb922c95717c845f6293fc,openstack/masakari-specs,master,,Iccc247a5babd8b579ddb922c95717c845f6293fc,add 2023.1 Antelope repository,MERGED,2022-10-06 08:05:44.000000000,2022-10-07 07:06:12.000000000,2022-10-07 07:04:54.000000000,413,0,4,860532,1975f2f1772941babc0008ab13fc373e0ea68f5f,14,2,3,8,30623,suzhengwei,SuZhengwei,"add 2023.1 Antelope repository

Change-Id: Iccc247a5babd8b579ddb922c95717c845f6293fc
"
openstack%2Fopenstack-tempest-skiplist~master~Ibb363165668da23b43eef6e461cf1407b2982405,openstack/openstack-tempest-skiplist,master,bug/1990480,Ibb363165668da23b43eef6e461cf1407b2982405,Update skiplist for bug 1990480,MERGED,2022-10-04 14:24:04.000000000,2022-10-07 06:54:48.000000000,2022-10-07 06:53:53.000000000,0,10,6,860263,236489728882dad0466de0d1a4a50fa1c0e7e6df,12,5,1,1,13861,yatin,yatinkarel,"Update skiplist for bug 1990480

With [1] included in master and wallaby, the skips
not required for these releases.
rhos-17 jobs can be removed later once the fixes are
backported.

Related-Bug: #1990480
Change-Id: Ibb363165668da23b43eef6e461cf1407b2982405
"
openstack%2Fkolla~master~Iac6ea537491e5c00ce6fb4b4e8f07a9124e9fa8b,openstack/kolla,master,refactor/engine-adapter,Iac6ea537491e5c00ce6fb4b4e8f07a9124e9fa8b,do not play with PROJECT_ROOT in build.py,MERGED,2022-10-06 11:14:31.000000000,2022-10-07 05:54:36.000000000,2022-10-07 05:53:37.000000000,5,20,0,860547,e2c061ee63a701284bc2f6b1470d9d33a58e724c,17,4,3,1,24072,Marcin Juszkiewicz,hrw,"do not play with PROJECT_ROOT in build.py

PROJECT_ROOT mangling is already done in kolla/cmd/build.py (which is
called as 'kolla-build' or 'tools/build.py' or directly) so it is not
needed here.

Now we can sort imports and drop not needed ones.

Change-Id: Iac6ea537491e5c00ce6fb4b4e8f07a9124e9fa8b
"
openstack%2Fkolla-ansible~stable%2Fyoga~I08949053291d4b85cc5d2f9cb51be5076ff7b1ae,openstack/kolla-ansible,stable/yoga,,I08949053291d4b85cc5d2f9cb51be5076ff7b1ae,Disable c8s upgrade jobs,MERGED,2022-10-06 08:03:34.000000000,2022-10-07 05:51:04.000000000,2022-10-06 08:50:32.000000000,3,3,1,860531,85e3ea41c08d60a1983c489b1543f77481cf111e,13,3,3,1,22629,Michal Nasiadka,mnasiadka,"Disable c8s upgrade jobs

RDO upgraded OVS from 2.15 to 2.17 in Wallaby and Xena, but not in Yoga,
therefore upgrade jobs fails because we are downgrading OVS.

Disable for now (until it's fixed).

Change-Id: I08949053291d4b85cc5d2f9cb51be5076ff7b1ae
"
openstack%2Fpuppet-neutron~master~I4cd215cfc479acd98552a7ce138631fb7a86d448,openstack/puppet-neutron,master,puppet-zed-rc1,I4cd215cfc479acd98552a7ce138631fb7a86d448,Prepare Zed RC1,MERGED,2022-10-05 09:23:23.000000000,2022-10-07 04:46:19.000000000,2022-10-07 04:46:19.000000000,5,5,0,860374,eb46c425f48c6250052b4037613c1e13fe60fb4e,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I4cd215cfc479acd98552a7ce138631fb7a86d448
"
openstack%2Fpuppet-vswitch~master~Ie6acaad31f24c1f3f306eafd56f27332f4485b7b,openstack/puppet-vswitch,master,puppet-zed-rc1,Ie6acaad31f24c1f3f306eafd56f27332f4485b7b,Prepare Zed RC1,MERGED,2022-10-05 04:09:45.000000000,2022-10-07 04:46:05.000000000,2022-10-07 04:46:05.000000000,2,2,0,860339,feb79d61d3b05d9150ab6bd7a2301ae58f16a007,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: Ie6acaad31f24c1f3f306eafd56f27332f4485b7b
"
openstack%2Fpuppet-openstack_extras~master~I617611cccb03a1008275f7f23981f78db68b2edd,openstack/puppet-openstack_extras,master,puppet-zed-rc1,I617611cccb03a1008275f7f23981f78db68b2edd,Prepare Zed RC1,MERGED,2022-10-05 04:08:06.000000000,2022-10-07 04:46:01.000000000,2022-10-07 04:46:01.000000000,1,1,0,860337,54dae5932372b0042042b6c01e7e434250cac788,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I617611cccb03a1008275f7f23981f78db68b2edd
"
openstack%2Fpuppet-vitrage~master~I4cd0abd95c007f709ae39b740ef23b7e68debd59,openstack/puppet-vitrage,master,puppet-zed-rc1,I4cd0abd95c007f709ae39b740ef23b7e68debd59,Prepare Zed RC1,MERGED,2022-10-05 09:35:23.000000000,2022-10-07 04:44:24.000000000,2022-10-07 04:44:24.000000000,4,4,0,860383,09c70ac0480ae248e9d601cd70e917275ced19af,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I4cd0abd95c007f709ae39b740ef23b7e68debd59
"
openstack%2Fpuppet-mistral~master~I7a4381a040bff15fcb942f060b4a495bea453f56,openstack/puppet-mistral,master,puppet-zed-rc1,I7a4381a040bff15fcb942f060b4a495bea453f56,Prepare Zed RC1,MERGED,2022-10-05 09:19:03.000000000,2022-10-07 04:44:14.000000000,2022-10-07 04:44:14.000000000,4,4,0,860372,c6bf5a6f5809c584e0c72b76487594b78704a1fc,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I7a4381a040bff15fcb942f060b4a495bea453f56
"
openstack%2Fpuppet-swift~master~I731847354eec0db313ae72dc70fec0b518ecaa16,openstack/puppet-swift,master,puppet-zed-rc1,I731847354eec0db313ae72dc70fec0b518ecaa16,Prepare Zed RC1,MERGED,2022-10-05 09:34:02.000000000,2022-10-07 04:43:57.000000000,2022-10-07 04:43:57.000000000,3,3,0,860380,b39a938a62e33dacc59f0ec16c77231fd5f306ad,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I731847354eec0db313ae72dc70fec0b518ecaa16
"
openstack%2Fpuppet-zaqar~master~I0cfb7bb1d9b2829494d0e27a6c9813b277f6243a,openstack/puppet-zaqar,master,puppet-zed-rc1,I0cfb7bb1d9b2829494d0e27a6c9813b277f6243a,Prepare Zed RC1,MERGED,2022-10-05 09:36:19.000000000,2022-10-07 04:43:04.000000000,2022-10-07 04:43:04.000000000,4,4,0,860385,7018bff22260ec5570d3577e92b595c815d9000f,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I0cfb7bb1d9b2829494d0e27a6c9813b277f6243a
"
openstack%2Fpuppet-watcher~master~Ifba875929f210e53ccda607057187c56d1dd85ed,openstack/puppet-watcher,master,puppet-zed-rc1,Ifba875929f210e53ccda607057187c56d1dd85ed,Prepare Zed RC1,MERGED,2022-10-05 09:35:52.000000000,2022-10-07 04:42:54.000000000,2022-10-07 04:42:54.000000000,4,4,0,860384,32683a7882309a64e8641505dac0b1fd38ffa333,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: Ifba875929f210e53ccda607057187c56d1dd85ed
"
openstack%2Fpuppet-qdr~master~I7003bc8d621c7d634e883389fd9afe0c3423869b,openstack/puppet-qdr,master,puppet-zed-rc1,I7003bc8d621c7d634e883389fd9afe0c3423869b,Prepare Zed RC1,MERGED,2022-10-05 04:11:12.000000000,2022-10-07 04:42:52.000000000,2022-10-07 04:42:52.000000000,1,1,0,860341,dfe49c78947b9b19779abb04e334ffa0eb6d54a6,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I7003bc8d621c7d634e883389fd9afe0c3423869b
"
openstack%2Fpuppet-tempest~master~I02dceabc1ac71eeeebea752f1bf4a3d3809d8f84,openstack/puppet-tempest,master,puppet-zed-rc1,I02dceabc1ac71eeeebea752f1bf4a3d3809d8f84,Prepare Zed RC1,MERGED,2022-10-05 09:34:32.000000000,2022-10-07 04:42:50.000000000,2022-10-07 04:42:50.000000000,3,3,0,860381,79465b34b5b85ee686a5b94f7787e797983e745b,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I02dceabc1ac71eeeebea752f1bf4a3d3809d8f84
"
openstack%2Fpuppet-placement~master~Ib23043ccfbc0b66a0c9a223d93ca7f653aec2a56,openstack/puppet-placement,master,puppet-zed-rc1,Ib23043ccfbc0b66a0c9a223d93ca7f653aec2a56,Prepare Zed RC1,MERGED,2022-10-05 09:31:05.000000000,2022-10-07 04:42:46.000000000,2022-10-07 04:42:46.000000000,4,4,0,860377,fee2a7fd73358b7c037edebb9c44b63023e138dd,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: Ib23043ccfbc0b66a0c9a223d93ca7f653aec2a56
"
openstack%2Fpuppet-tacker~master~Ib5e1ff8d77cf19ec84a79eaf4c189997543e0eb9,openstack/puppet-tacker,master,puppet-zed-rc1,Ib5e1ff8d77cf19ec84a79eaf4c189997543e0eb9,Prepare Zed RC1,MERGED,2022-10-05 09:43:05.000000000,2022-10-07 04:42:20.000000000,2022-10-07 04:42:20.000000000,4,4,0,860389,b3e9e291e4e2daf2db57b4ac1d51aae847eb5795,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: Ib5e1ff8d77cf19ec84a79eaf4c189997543e0eb9
"
openstack%2Fpuppet-rally~master~Idd1d784e7ec5d7c857706f4eeb6d718e93c0c95f,openstack/puppet-rally,master,puppet-zed-rc1,Idd1d784e7ec5d7c857706f4eeb6d718e93c0c95f,Prepare Zed RC1,MERGED,2022-10-05 09:31:40.000000000,2022-10-07 04:41:52.000000000,2022-10-07 04:41:52.000000000,3,3,0,860378,dd32b32aa0ad006f612c4758b91115c84f8e04de,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: Idd1d784e7ec5d7c857706f4eeb6d718e93c0c95f
"
openstack%2Fpuppet-heat~master~Ie706a89d9bcd72ac7e7737c1c8537ce98ceafb52,openstack/puppet-heat,master,puppet-zed-rc1,Ie706a89d9bcd72ac7e7737c1c8537ce98ceafb52,Prepare Zed RC1,MERGED,2022-10-05 09:15:50.000000000,2022-10-07 04:41:44.000000000,2022-10-07 04:41:44.000000000,4,4,0,860368,2de13d78ea938f812a617e18a134dc67f6c0f270,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: Ie706a89d9bcd72ac7e7737c1c8537ce98ceafb52
"
openstack%2Fpuppet-ec2api~master~I977eb56eae0a6ee7f5dcc41b8b76a4b14084c2d7,openstack/puppet-ec2api,master,puppet-zed-rc1,I977eb56eae0a6ee7f5dcc41b8b76a4b14084c2d7,Prepare Zed RC1,MERGED,2022-10-05 09:13:09.000000000,2022-10-07 04:41:39.000000000,2022-10-07 04:41:39.000000000,4,4,0,860365,45515d1909f50cf919c51469502e93f4c5f1205e,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I977eb56eae0a6ee7f5dcc41b8b76a4b14084c2d7
"
openstack%2Fpuppet-ironic~master~I25b3750403af26f8dfb93884df1203879f22e1da,openstack/puppet-ironic,master,puppet-zed-rc1,I25b3750403af26f8dfb93884df1203879f22e1da,Prepare Zed RC1,MERGED,2022-10-05 09:17:36.000000000,2022-10-07 04:40:59.000000000,2022-10-07 04:40:59.000000000,4,4,0,860370,0d764220e87fe38f38dd04c25030379b6e05b637,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I25b3750403af26f8dfb93884df1203879f22e1da
"
openstack%2Fpuppet-openstacklib~master~Ib223b2844791a4dcc4838476b8f7b5d11852eb36,openstack/puppet-openstacklib,master,puppet-zed-rc1,Ib223b2844791a4dcc4838476b8f7b5d11852eb36,Prepare Zed RC1,MERGED,2022-10-05 04:06:19.000000000,2022-10-07 04:40:55.000000000,2022-10-07 04:40:55.000000000,1,1,0,860336,8cf6305bc49cbf89441add8986bc18836d0bd142,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: Ib223b2844791a4dcc4838476b8f7b5d11852eb36
"
openstack%2Fpuppet-ovn~master~I48cc33e3621a31f07419a5b70a27c13bc6fb2e58,openstack/puppet-ovn,master,puppet-zed-rc1,I48cc33e3621a31f07419a5b70a27c13bc6fb2e58,Prepare Zed RC1,MERGED,2022-10-05 04:10:30.000000000,2022-10-07 04:40:37.000000000,2022-10-07 04:40:37.000000000,3,3,0,860340,aa8b3613c2717112abe563bc4c7a4dee22792b03,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I48cc33e3621a31f07419a5b70a27c13bc6fb2e58
"
openstack%2Fpuppet-ceilometer~master~Id6c07d1d212bd0893fcaa22510a29deedfcae9a4,openstack/puppet-ceilometer,master,puppet-zed-rc1,Id6c07d1d212bd0893fcaa22510a29deedfcae9a4,Prepare Zed RC1,MERGED,2022-10-05 09:10:52.000000000,2022-10-07 04:39:50.000000000,2022-10-07 04:39:50.000000000,4,4,0,860362,c7eb9c1fc36175d040af4dfa86d428f688e47508,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: Id6c07d1d212bd0893fcaa22510a29deedfcae9a4
"
openstack%2Fpuppet-gnocchi~master~I0476d89e062c5a07611b02374fe416e5b950e9a8,openstack/puppet-gnocchi,master,puppet-zed-rc1,I0476d89e062c5a07611b02374fe416e5b950e9a8,Prepare Zed RC1,MERGED,2022-10-05 09:14:53.000000000,2022-10-07 04:38:47.000000000,2022-10-07 04:38:47.000000000,4,4,0,860367,4d7e30ee691a8149320a1818f79a7e52f4e4576e,9,3,2,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I0476d89e062c5a07611b02374fe416e5b950e9a8
"
openstack%2Fpuppet-magnum~master~I180c6fd3b3dd88be6a18e6f3dbffeab6e8053207,openstack/puppet-magnum,master,puppet-zed-rc1,I180c6fd3b3dd88be6a18e6f3dbffeab6e8053207,Prepare Zed RC1,MERGED,2022-10-05 09:38:39.000000000,2022-10-07 04:38:24.000000000,2022-10-07 04:38:24.000000000,4,4,0,860386,c7f71ef17a213538034b2b8ff462c0fd3c162404,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I180c6fd3b3dd88be6a18e6f3dbffeab6e8053207
"
openstack%2Fpuppet-trove~master~I64746b5138564f42b8347ad91d499628c487b5ea,openstack/puppet-trove,master,puppet-zed-rc1,I64746b5138564f42b8347ad91d499628c487b5ea,Prepare Zed RC1,MERGED,2022-10-05 09:34:50.000000000,2022-10-07 04:37:35.000000000,2022-10-07 04:37:35.000000000,4,4,0,860382,39e94a5d4621b19da6ca09848d2f3e6eaa1bc262,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I64746b5138564f42b8347ad91d499628c487b5ea
"
openstack%2Fpuppet-designate~master~Iaa57d5b0328d768c5b746f6e254a930d9222d239,openstack/puppet-designate,master,puppet-zed-rc1,Iaa57d5b0328d768c5b746f6e254a930d9222d239,Prepare Zed RC1,MERGED,2022-10-05 09:12:36.000000000,2022-10-07 04:37:23.000000000,2022-10-07 04:37:23.000000000,4,4,0,860364,56acd26945355034a7910aa980174c3d862af9db,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: Iaa57d5b0328d768c5b746f6e254a930d9222d239
"
openstack%2Fpuppet-sahara~master~I7a7adc74592173285caf8dfd42b66cb2cdce2382,openstack/puppet-sahara,master,puppet-zed-rc1,I7a7adc74592173285caf8dfd42b66cb2cdce2382,Prepare Zed RC1,MERGED,2022-10-05 09:32:16.000000000,2022-10-07 04:37:13.000000000,2022-10-07 04:37:13.000000000,4,4,0,860379,5b9f473c44d8724b8bb237554dafb6e39e43a720,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I7a7adc74592173285caf8dfd42b66cb2cdce2382
"
openstack%2Fpuppet-octavia~master~I70d0a0a9464e9d53ff9207919053508c1ca875ce,openstack/puppet-octavia,master,puppet-zed-rc1,I70d0a0a9464e9d53ff9207919053508c1ca875ce,Prepare Zed RC1,MERGED,2022-10-05 09:25:58.000000000,2022-10-07 04:36:23.000000000,2022-10-07 04:36:23.000000000,5,5,0,860376,1f4f16b488900c3bcc40f882494655869ee30116,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I70d0a0a9464e9d53ff9207919053508c1ca875ce
"
openstack%2Fpuppet-murano~master~I234824c69222e7ccd666b93087921f58fa7d58b6,openstack/puppet-murano,master,puppet-zed-rc1,I234824c69222e7ccd666b93087921f58fa7d58b6,Prepare Zed RC1,MERGED,2022-10-05 09:20:02.000000000,2022-10-07 04:36:20.000000000,2022-10-07 04:36:20.000000000,4,4,0,860373,66b2a1ebfa977f86cf5a4a13a4a221d78c93a31e,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I234824c69222e7ccd666b93087921f58fa7d58b6
"
openstack%2Fpuppet-cloudkitty~master~I12539330c301994af79516cfd86c86be0d6f5dac,openstack/puppet-cloudkitty,master,puppet-zed-rc1,I12539330c301994af79516cfd86c86be0d6f5dac,Prepare Zed RC1,MERGED,2022-10-05 09:39:20.000000000,2022-10-07 04:35:47.000000000,2022-10-07 04:35:47.000000000,4,4,0,860387,46524134fccead41ded9df49583b5234e4d338eb,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I12539330c301994af79516cfd86c86be0d6f5dac
"
openstack%2Fpuppet-aodh~master~I0215572acb732caf3f0e873ad3feaeb460e119eb,openstack/puppet-aodh,master,puppet-zed-rc1,I0215572acb732caf3f0e873ad3feaeb460e119eb,Prepare Zed RC1,MERGED,2022-10-05 09:08:30.000000000,2022-10-07 04:35:43.000000000,2022-10-07 04:35:43.000000000,4,4,0,860360,a1f3b1b006d0134dc36082a45501ef25ea2d6625,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I0215572acb732caf3f0e873ad3feaeb460e119eb
"
openstack%2Fpuppet-barbican~master~I785103f7ad48c583dacde5686641249f21b82fce,openstack/puppet-barbican,master,puppet-zed-rc1,I785103f7ad48c583dacde5686641249f21b82fce,Prepare Zed RC1,MERGED,2022-10-05 09:09:30.000000000,2022-10-07 04:35:40.000000000,2022-10-07 04:35:40.000000000,4,4,0,860361,e2d05a32186315e6f764c0de3e479d75880b3762,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I785103f7ad48c583dacde5686641249f21b82fce
"
openstack%2Fpuppet-horizon~master~I7d7a0078404449fdaa2403e694ee94a205241530,openstack/puppet-horizon,master,puppet-zed-rc1,I7d7a0078404449fdaa2403e694ee94a205241530,Prepare Zed RC1,MERGED,2022-10-05 09:16:34.000000000,2022-10-07 04:35:36.000000000,2022-10-07 04:35:36.000000000,2,2,0,860369,dac3cece5198e9cd76c7419dc697a34d85b62d08,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I7d7a0078404449fdaa2403e694ee94a205241530
"
openstack%2Fnova~master~I283eb270a4e47da15cf01d098b4f3952f7b5b570,openstack/nova,master,bp/nova-change-default-overcommit-values,I283eb270a4e47da15cf01d098b4f3952f7b5b570,update default overcommit,MERGED,2022-02-24 14:46:08.000000000,2022-10-07 02:31:55.000000000,2022-10-07 02:29:22.000000000,49,15,23,830829,1260cdd49218f8bedf935190e2721422e5b5c6b6,51,7,5,8,11604,sean mooney,sean-k-mooney,"update default overcommit

This change updates the cpu and ram initial
allocation ratios to 4.0 and 1.0 to reflect
the typical values that are suitable for non web
hosting workloads.

Change-Id: I283eb270a4e47da15cf01d098b4f3952f7b5b570
implements: bp/nova-change-default-overcommit-values
"
openstack%2Fcharm-hacluster~master~I33de6e656dec1859e3ea566b7a61f59b27eb8981,openstack/charm-hacluster,master,fix-log-msg,I33de6e656dec1859e3ea566b7a61f59b27eb8981,Fix log message formatting,NEW,2022-07-10 02:38:48.000000000,2022-10-07 01:36:29.000000000,,2,2,4,849208,6499d4f864b277192c294049611dc263dc95a660,14,5,1,1,2424,Felipe Reyes,freyes,"Fix log message formatting

The log message was missing to pass the node name.

Change-Id: I33de6e656dec1859e3ea566b7a61f59b27eb8981
"
openstack%2Fcharm-neutron-api-plugin-ovn~stable%2Fxena~Idb84edee0dcdb0ff7b265e5c2ef0dc6e83c0db54,openstack/charm-neutron-api-plugin-ovn,stable/xena,xena-lock-layers,Idb84edee0dcdb0ff7b265e5c2ef0dc6e83c0db54,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 19:00:08.000000000,2022-10-07 00:44:34.000000000,2022-10-07 00:44:34.000000000,6,6,2,859706,718efc4db1206293bc10658820f9e50f456d1cc5,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: Idb84edee0dcdb0ff7b265e5c2ef0dc6e83c0db54
"
openstack%2Fcharm-neutron-api-plugin-ironic~stable%2Fxena~Id63c527bb7eec10a77040aba93433514fd590038,openstack/charm-neutron-api-plugin-ironic,stable/xena,xena-lock-layers,Id63c527bb7eec10a77040aba93433514fd590038,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 18:59:49.000000000,2022-10-07 00:43:36.000000000,2022-10-07 00:43:36.000000000,6,6,2,859705,b8db359d7df2c1da9977f5f1db532ca72f61f891,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: Id63c527bb7eec10a77040aba93433514fd590038
"
openstack%2Fcharm-manila~stable%2Fussuri~I19f743b38e7aa63faf779a728eaee2bb55a18a8c,openstack/charm-manila,stable/ussuri,bug/1990062,I19f743b38e7aa63faf779a728eaee2bb55a18a8c,Pin build.lock for all layers to the commit hash,NEW,2022-09-28 11:44:29.000000000,2022-10-07 00:29:46.000000000,,14,14,3,859556,f3f0c6a931900bebfa8c63880ffbe842ab337818,10,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Closes-Bug: #1990062
Change-Id: I19f743b38e7aa63faf779a728eaee2bb55a18a8c
"
openstack%2Fcharm-cinder-backup~stable%2Fyoga~Ia72cdd5530e8a624c0ccc8ebb5b3992ce19cca82,openstack/charm-cinder-backup,stable/yoga,update-bundles-yoga,Ia72cdd5530e8a624c0ccc8ebb5b3992ce19cca82,"Update the bundles to use the stable track, edge risk for yoga",MERGED,2022-06-15 11:48:57.000000000,2022-10-07 00:29:22.000000000,2022-10-07 00:29:22.000000000,30,21,2,845930,b05a983151bd26adef58c39ed7df314509988e06,13,3,2,5,20870,Alex Kavanagh,ajkavanagh,"Update the bundles to use the stable track, edge risk for yoga

The bundles for the yoga channel currently point to ""latest/edge""
channel for all the charms.  This update points the charms to the
appropriate channel for the charm being used, either from ceph,
openstack, ovn or the misc tracks.

Change-Id: Ia72cdd5530e8a624c0ccc8ebb5b3992ce19cca82
"
openstack%2Fcharm-manila~master~If2c459d1964a731f1faaa41233ada19ebf3d2e4a,openstack/charm-manila,master,test-func-pr,If2c459d1964a731f1faaa41233ada19ebf3d2e4a,Test,ABANDONED,2022-05-24 21:50:20.000000000,2022-10-07 00:29:02.000000000,,1,1,3,843217,7f711476d1986327b9926cb2a2a2e476eff32084,10,2,1,1,2424,Felipe Reyes,freyes,"Test

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/772
Change-Id: If2c459d1964a731f1faaa41233ada19ebf3d2e4a
"
openstack%2Fcharm-designate~master~Idcb662fb6bfb08f0d1776b5cd60af75a10fdced5,openstack/charm-designate,master,test,Idcb662fb6bfb08f0d1776b5cd60af75a10fdced5,Test charm-tools with poetry-core as explicit dependency,ABANDONED,2022-09-28 15:14:39.000000000,2022-10-07 00:28:49.000000000,,1,1,0,859631,ddedbad953b1e329e9ec4f10cc2caa9ac2e93850,4,2,1,1,2424,Felipe Reyes,freyes,"Test charm-tools with poetry-core as explicit dependency

Change-Id: Idcb662fb6bfb08f0d1776b5cd60af75a10fdced5
"
openstack%2Fcharm-cinder-lvm~master~I76a0fe458d016bf767d74dfcb75bb326c32ad9c3,openstack/charm-cinder-lvm,master,test,I76a0fe458d016bf767d74dfcb75bb326c32ad9c3,Test requirements change in charm-tools,ABANDONED,2022-09-28 15:01:44.000000000,2022-10-07 00:28:39.000000000,,1,2,0,859628,ecd40f32355308fd608a445dd7f7719df5729d6e,4,2,1,1,2424,Felipe Reyes,freyes,"Test requirements change in charm-tools

Change-Id: I76a0fe458d016bf767d74dfcb75bb326c32ad9c3
"
openstack%2Fcharm-masakari~stable%2Fussuri~I2a66ba368c068e333f6e5b131af6934cc3e31db8,openstack/charm-masakari,stable/ussuri,bug/1990062,I2a66ba368c068e333f6e5b131af6934cc3e31db8,Pin build.lock for all layers to the commit hash,NEW,2022-09-28 11:47:34.000000000,2022-10-07 00:27:56.000000000,,11,11,2,859559,8c361b8257aed1b42cbfeefb37aa303a080f6f3f,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Closes-Bug: #1990062
Change-Id: I2a66ba368c068e333f6e5b131af6934cc3e31db8
"
openstack%2Fcharm-cinder-lvm~stable%2Fxena~Ib394f6ca0447281385b4bf8116bb5e7b1f546419,openstack/charm-cinder-lvm,stable/xena,xena-lock-layers,Ib394f6ca0447281385b4bf8116bb5e7b1f546419,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 18:48:49.000000000,2022-10-07 00:27:01.000000000,2022-10-07 00:27:01.000000000,5,5,3,859693,41e452698173e6bc49559a7be841ba9c933c0112,10,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: Ib394f6ca0447281385b4bf8116bb5e7b1f546419
"
openstack%2Fcharm-manila~stable%2Fyoga~I0aa036980df9fb30bf4427d34618cb5f1c64e4c4,openstack/charm-manila,stable/yoga,,I0aa036980df9fb30bf4427d34618cb5f1c64e4c4,Ignore any *.charm artifacts (.gitignore),MERGED,2022-08-11 14:43:21.000000000,2022-10-07 00:25:46.000000000,2022-10-07 00:25:46.000000000,1,0,3,852876,1f339e21f0db88c8f2a8df3ac610e59e8e00cdb6,11,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Ignore any *.charm artifacts (.gitignore)

This is so that any charm artifact (*.charm) is not accidentally
added to the git repository.

Change-Id: I0aa036980df9fb30bf4427d34618cb5f1c64e4c4
"
openstack%2Fcharm-neutron-api-plugin-ovn~stable%2Fwallaby~I0f30182a3889f4dd723289be5d16539ff364569b,openstack/charm-neutron-api-plugin-ovn,stable/wallaby,wallaby-lock-layers,I0f30182a3889f4dd723289be5d16539ff364569b,Pin build.lock for all layers to the commit hash,MERGED,2022-09-21 18:43:55.000000000,2022-10-07 00:24:48.000000000,2022-10-07 00:24:48.000000000,6,6,2,858807,7f6a2823424cd6c603cc9288c87bfa38c638a23c,10,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: I0f30182a3889f4dd723289be5d16539ff364569b
"
openstack%2Fcharm-masakari-monitors~stable%2Fxena~Id04756ba5c922e759b3d1527e6fbfae4dfee07fe,openstack/charm-masakari-monitors,stable/xena,xena-lock-layers,Id04756ba5c922e759b3d1527e6fbfae4dfee07fe,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 18:59:06.000000000,2022-10-07 00:24:18.000000000,2022-10-07 00:24:18.000000000,5,5,2,859703,8c9782dffe3ea92677ca4e8f006e072a7a07f7fb,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: Id04756ba5c922e759b3d1527e6fbfae4dfee07fe
"
openstack%2Fcharm-designate-bind~stable%2Fwallaby~I677de2db612054f9307e93cbfc8ba1f848164de3,openstack/charm-designate-bind,stable/wallaby,wallaby-lock-layers,I677de2db612054f9307e93cbfc8ba1f848164de3,Pin build.lock for all layers to the commit hash,MERGED,2022-09-21 18:25:34.000000000,2022-10-07 00:23:50.000000000,2022-10-07 00:23:50.000000000,6,6,2,858797,eb86c4df924872d70ed6c0b3d403499d01808023,9,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: I677de2db612054f9307e93cbfc8ba1f848164de3
"
openstack%2Ftripleo-heat-templates~master~Ie7a12a297e00efebca017d51afb9bf9e8c56ee50,openstack/tripleo-heat-templates,master,,Ie7a12a297e00efebca017d51afb9bf9e8c56ee50,Fix inconsistent <service>Workers,MERGED,2022-09-27 03:29:05.000000000,2022-10-06 23:51:41.000000000,2022-10-06 23:51:41.000000000,71,60,8,859365,190420f1bb4221e9655c2f95a095508ecb5bcd64,10,4,1,11,9816,Takashi Kajinami,kajinamit,"Fix inconsistent <service>Workers

Currently the <service>Workers parameters are implemented in different
ways according to services. Because of this, these parameters enforce
different type(number vs string) and behave differently for a specific
value such as 0. These are quite confusing for users.

This change introduces the standard implementation for all Workers
parameters so that the parameters behave consistently in all services.

This also introduces the following changes as side-effects.

- Outdated description of some workers parameter is removed. Currently
  workers are limited to a certain number(such as 12) even in a system
  with many CPU cores

- Default value of BarbicanWorkers is effectively lowered down to
  $::os_workers from $::processorcount, to use the consistent default
  workers for all services.

Change-Id: Ie7a12a297e00efebca017d51afb9bf9e8c56ee50
"
openstack%2Fcinder~master~I5b58e9485654f707740175d5ff2a60594dff42f5,openstack/cinder,master,antelope_version,I5b58e9485654f707740175d5ff2a60594dff42f5,Pure Storage - bump version numbers for Antelope,MERGED,2022-09-27 15:30:36.000000000,2022-10-06 23:50:44.000000000,2022-10-06 23:49:24.000000000,3,3,16,859447,fae5538f919c420b682d8166547271c81ef4a3dd,80,7,2,1,35316,Keerthivasan S,keerthivasan,"Pure Storage - bump version numbers for Antelope

Pure uses the version number of the driver to identify which
customers are using which versions of OpenStack.

This will help granular analysis of which driver is being
used in each OpenStack version

Change-Id: I5b58e9485654f707740175d5ff2a60594dff42f5
"
openstack%2Fnova~master~I77fdfa9cffbd44b2889f49f266b2582bcc6a4267,openstack/nova,master,bug/1982284,I77fdfa9cffbd44b2889f49f266b2582bcc6a4267,"Handle ""no RAM info was set"" migration case",MERGED,2022-08-04 06:56:20.000000000,2022-10-06 23:50:38.000000000,2022-10-06 23:49:17.000000000,40,0,31,852002,9fea934c71d3c2fa7fdd80c67d94e18466c5cf9a,67,10,6,3,26032,Brett Milford,brett,"Handle ""no RAM info was set"" migration case

This handles the case where the live migration monitoring thread may
race and call jobStats() after the migration has completed resulting in
the following error:

    libvirt.libvirtError: internal error: migration was active, but no
    RAM info was set

Closes-Bug: #1982284
Change-Id: I77fdfa9cffbd44b2889f49f266b2582bcc6a4267
"
openstack%2Fneutron~master~I733864e7437213bfb6edde24f207b2c9861998c6,openstack/neutron,master,misplaced-comparison-constant,I733864e7437213bfb6edde24f207b2c9861998c6,Fix misplaced comparison constant warnings,MERGED,2022-10-05 22:09:48.000000000,2022-10-06 23:08:42.000000000,2022-10-06 23:07:21.000000000,8,9,1,860504,4858315286aa0bc3902e1e7ae6459d25c16afae4,17,5,1,7,1131,Brian Haley,brian-haley,"Fix misplaced comparison constant warnings

Use ""value > constant"" syntax and not vice-versa. Also
removed disable of misplaced-comparison-constant in
.pylintrc so future ones are caught.

Trivialfix

Change-Id: I733864e7437213bfb6edde24f207b2c9861998c6
"
openstack%2Fnova~master~Icbf3bdd944f9a6c38f25ddea0b521ca48ee87a7f,openstack/nova,master,bug/1980845,Icbf3bdd944f9a6c38f25ddea0b521ca48ee87a7f,Remove deleted projects from flavor access list,NEW,2022-07-08 16:06:07.000000000,2022-10-06 21:40:45.000000000,,45,11,26,849131,8c6daaacbedc33e738ce85aec0ead5f6947d60bf,44,9,4,3,19234,Alexey Stupnikov,astupnikov,"Remove deleted projects from flavor access list

Previously Nova was unable to remove deleted projects from flavor's
access lists. This patch lifts described limitation and improves
logic of nova/api/openstack/identity.py library by introducing two
separate kinds of exceptions:

- webob.exc.HTTPInternalServerError is raised when Keystone identity
  service version 3.0 was not found.
- webob.exc.HTTPBadRequest is raised when specified project is not
  found.

Closes-bug: #1980845
Change-Id: Icbf3bdd944f9a6c38f25ddea0b521ca48ee87a7f
"
openstack%2Fcloudkitty~master~Ia6f12151be829be6d2f21b3536536697345e05f4,openstack/cloudkitty,master,docs-deps,Ia6f12151be829be6d2f21b3536536697345e05f4,[docs] Install cloudkitty requirements using constraints,MERGED,2022-10-03 14:34:24.000000000,2022-10-06 20:26:47.000000000,2022-10-06 20:25:49.000000000,1,0,3,860096,386f086a8bed7ee7ce4fdf4e106c1b138d7e7ab8,21,3,1,1,15197,Pierre Riteau,priteau,"[docs] Install cloudkitty requirements using constraints

The deps configuration for the docs environment only uses upper
constraints for doc/requirements.txt. However, cloudkitty also gets
installed automatically without upper constraints, which produces
various errors on older branches.

Install cloudkitty requirements using constraints to fix this issue.

Change-Id: Ia6f12151be829be6d2f21b3536536697345e05f4
"
openstack%2Fopenstacksdk~master~If1cd25c992bf34013efb8081a642b7e43db09d19,openstack/openstacksdk,master,stack,If1cd25c992bf34013efb8081a642b7e43db09d19,Changed data type of stack's tags attribute from list to str,NEW,2022-10-06 08:41:12.000000000,2022-10-06 20:14:05.000000000,,11,3,5,860534,8a1eb5104b3cad84302045107d58ae377bd9e795,11,3,3,3,32962,Jakob Meng,jakobmeng@web.de,"Changed data type of stack's tags attribute from list to str

Attribute tags in a Stack object has type str [1], not list. When
passing a list of tags such as tags=['tag1', 'tag2'] instead of
string 'tag1,tag2' to Heat, openstacksdk a request similar to the
following:

  curl -g -i [...] -d '{[...], ""tags"": [""tag1"", ""tag2""]}'

Heat will then raise an error:

  The server could not comply with the request since it is either malformed or otherwise incorrect.

  Traceback (most recent call last):
    ...
    File \""/opt/stack/heat/heat/common/wsgi.py\"", line 964, in dispatch
      return method(*args, **kwargs)
    File \""/opt/stack/heat/heat/api/openstack/v1/util.py\"", line 46, in handle_stack_method
      return handler(controller, req, **kwargs)
    File \""/opt/stack/heat/heat/api/openstack/v1/util.py\"", line 84, in handle_stack_method
      return handler(controller, req, dict(stack_identity), **kwargs)
    File \""/opt/stack/heat/heat/api/openstack/v1/stacks.py\"", line 497, in update
      args = self.prepare_args(data, is_update=True)
    File \""/opt/stack/heat/heat/api/openstack/v1/stacks.py\"", line 400, in prepare_args
      args[key] = self._extract_tags_param(args[key])
    File \""/opt/stack/heat/heat/api/openstack/v1/stacks.py\"", line 213, in _extract_tags_param
      return param_utils.extract_tags(tags)
    File \""/opt/stack/heat/heat/common/param_utils.py\"", line 70, in extract_tags
      tags = subject.split(',')
  AttributeError: 'list' object has no attribute 'split'

This patch changes the datatype of tags from list to str.

[1] https://opendev.org/openstack/heat/src/commit/f71308319ad528b1a009c27f64b96e452aa144e4/api-ref/source/v1/parameters.yaml#L1484

Change-Id: If1cd25c992bf34013efb8081a642b7e43db09d19
"
openstack%2Fnova~master~Ibab54aa4f2e929b384b75e7e0a21c8b059b680c5,openstack/nova,master,bug/1982284,Ibab54aa4f2e929b384b75e7e0a21c8b059b680c5,Unit test exceptions raised duing live migration monitoring,NEW,2022-09-27 00:35:01.000000000,2022-10-06 19:55:33.000000000,,79,0,1,859358,ca9b7defe857404162bfd3909652bbd98514ffa8,7,2,1,1,4690,melanie witt,melwitt,"Unit test exceptions raised duing live migration monitoring

This adds some test coverage to verify the expected handling of
exceptions raised in Guest.get_job_info() during live migration
monitoring.

In the case of the related bug fix, this testing verifies that the post
live migration method is called after handling the special case and
workaround of libvirt error ""migration was active, but no RAM info was
set"".

Related-Bug: #1982284

Change-Id: Ibab54aa4f2e929b384b75e7e0a21c8b059b680c5
"
openstack%2Floci~master~I3e619a694d0cf140f3f8f1c290755506711b533f,openstack/loci,master,dnm_all_fixes,I3e619a694d0cf140f3f8f1c290755506711b533f,DNM,NEW,2022-09-29 14:23:03.000000000,2022-10-06 19:41:27.000000000,,488,438,0,859860,4ca38b7036c7703b9f69e67e969404bdcfe2fe7c,16,1,8,20,14119,Sam Yaple,SamYaple,"DNM

How did we get here? Large refactor. Supports latest
pip/setuptools/venv. Testing done with stable/zed and ubuntu:jammy

This moves all scripts into bash functions in scripts/install.sh as well
as refactoring a great deal of outdated code

Change-Id: I3e619a694d0cf140f3f8f1c290755506711b533f
"
openstack%2Fkolla~master~Ia1ba2699f425749f9d4f2cdba27caeb97bc3d668,openstack/kolla,master,refactor/engine-adapter,Ia1ba2699f425749f9d4f2cdba27caeb97bc3d668,drop shebang from Python files,MERGED,2022-10-06 10:26:14.000000000,2022-10-06 18:49:59.000000000,2022-10-06 18:48:55.000000000,0,6,4,860546,cd08d9b54383252b90d9184c8ce63ed8c66c2418,20,3,4,3,24072,Marcin Juszkiewicz,hrw,"drop shebang from Python files

Only kolla/cmd/build.py is an executable script used by user (either as
'kolla-build' or 'tools/build.py' or directly).

Change-Id: Ia1ba2699f425749f9d4f2cdba27caeb97bc3d668
"
openstack%2Fneutron~master~I95785fab04fe8d386d5ef709ee2324d338e44420,openstack/neutron,master,grenade-skiplevel,I95785fab04fe8d386d5ef709ee2324d338e44420,Update grenade skip level jobs for new release,MERGED,2022-09-30 13:22:32.000000000,2022-10-06 18:36:54.000000000,2022-10-06 18:33:36.000000000,8,2,4,859991,0c9e7d4e181a69ca744f6218afc5ec002f189433,16,6,3,1,8313,Lajos Katona,elajkat,"Update grenade skip level jobs for new release

2023.1 is SLURP release and can test the upgrade from
stable/yoga to 2023.1 by neutron-ovs-grenade-multinode-tick-tick and
neutron-ovn-grenade-multinode-tick-tick jobs, for background see [1].

This commit updates the setting for those jobs and also add branches
variant to avoid running it on non-SLURP (zed) release gate.
Simalar patch from manila is [2].

[1]: https://lists.openstack.org/pipermail/openstack-discuss/2022-September/030654.html
[2]: https://review.opendev.org/c/openstack/manila/+/859875

Change-Id: I95785fab04fe8d386d5ef709ee2324d338e44420
"
openstack%2Fneutron~master~Iafd0ce629bf3a93454f4e322780d3b2f911363f8,openstack/neutron,master,bug/1990229,Iafd0ce629bf3a93454f4e322780d3b2f911363f8,"Revert ""Since OVN 20.06, config is stored in ""Chassis.other_config""""",MERGED,2022-10-06 15:33:06.000000000,2022-10-06 18:35:36.000000000,2022-10-06 18:33:31.000000000,102,131,3,860461,72dd768a124dd63bab3c00d19cef248c1170d3da,12,7,1,19,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Revert ""Since OVN 20.06, config is stored in ""Chassis.other_config""""

This reverts commit f8fa909444cf87d55819fa9dbc45ed77cff7b845.

Reason for revert:
Because the OpenStack CI OS (Ubuntu 20.04) still doesn't support OVN > v20.03, we need to revert this patch until the CI migrates to Ubuntu 22.04

Change-Id: Iafd0ce629bf3a93454f4e322780d3b2f911363f8
Closes-Bug: #1991962
"
openstack%2Fpuppet-glance~master~I79bad738e647d7caaa01d3913d1fdf21ebc1a701,openstack/puppet-glance,master,puppet-zed-rc1,I79bad738e647d7caaa01d3913d1fdf21ebc1a701,Prepare Zed RC1,MERGED,2022-10-05 09:14:11.000000000,2022-10-06 18:08:35.000000000,2022-10-06 18:08:35.000000000,5,5,0,860366,4cd3aa64ed79491d23e6f30e58770fdc23481bfa,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: I79bad738e647d7caaa01d3913d1fdf21ebc1a701
"
openstack%2Fpuppet-cinder~master~Ic8779ccd4d109df00107b5f99a86d386177626bf,openstack/puppet-cinder,master,puppet-zed-rc1,Ic8779ccd4d109df00107b5f99a86d386177626bf,Prepare Zed RC1,MERGED,2022-10-05 09:11:47.000000000,2022-10-06 18:07:26.000000000,2022-10-06 18:07:26.000000000,4,4,1,860363,de6271d895d2eb90979577a2e1a7d5dcc33fd410,10,3,2,1,9816,Takashi Kajinami,kajinamit,"Prepare Zed RC1

Change-Id: Ic8779ccd4d109df00107b5f99a86d386177626bf
"
openstack%2Fdesignate-tempest-plugin~master~I53a1e4676c5bbb63bee0c4bb91eac03c95dd3a3c,openstack/designate-tempest-plugin,master,bug/1714088,I53a1e4676c5bbb63bee0c4bb91eac03c95dd3a3c,Add tempest api tests for shared zones,NEW,2020-05-22 16:11:13.000000000,2022-10-06 18:03:34.000000000,,374,22,37,730370,ee37abd331eeff8244dff1122948510aa8c17357,40,7,9,6,14232,Igor Malinovskiy,imalinovskiy,"Add tempest api tests for shared zones

Author: Igor Malinovskiy <u.glide@gmail.com>
Co-Authored-By: Sergey Drozdov <sergey.drozdov.dev@gmail.com, sergey.drozdov93@thehutgroup.com>

Change-Id: I53a1e4676c5bbb63bee0c4bb91eac03c95dd3a3c
Partial-Bug: #1714088
Depends-On: https://review.opendev.org/726334
"
openstack%2Fswift~master~Icc7e1226c1c860d1366062efdcde3a280fc64a11,openstack/swift,master,jh,Icc7e1226c1c860d1366062efdcde3a280fc64a11,some more method extraction,ABANDONED,2022-10-04 15:27:09.000000000,2022-10-06 17:45:41.000000000,,108,118,5,860273,b40f156d12ac6b760c928320f4591db7297120d9,5,1,1,3,1179,Clay Gerrard,clay-gerrard,"some more method extraction

Change-Id: Icc7e1226c1c860d1366062efdcde3a280fc64a11
"
openstack%2Fneutron~master~Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4,openstack/neutron,master,bug/1639186,Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4,"[OVS][QoS] Add QoS support for Trunk service, OVS driver",NEW,2022-04-27 13:11:54.000000000,2022-10-06 17:43:47.000000000,,438,26,58,839523,176bf07d518d2a4d9e9450231baddbf35d92069f,89,6,15,13,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVS][QoS] Add QoS support for Trunk service, OVS driver

This patch adds support for the QoS extension in the OVS driver of
the Trunk service. Same as in a ML2 driver extension, the Trunk
service OVS driver creates a ``L2AgentExtensionsManager`` instance
that will load the ``TrunkConfig`` object.

The extension manager will load the ``QosAgentExtension``, if
configured in the ML2 configuration section. The QoS agent extension
will load the ``QosOVSTrunkAgentDriver``.

The ``QosOVSTrunkAgentDriver`` has a RPC listener attending any PORT
event. If the port belongs to a Trunk local bridge and this bridge
has an instance port, the ``QosOVSTrunkAgentDriver`` calls the
``QosAgentExtension`` instance ""handle_port"" and ""delete_port"" methods.
Those methods will manage the internal policy map cache and will
call the ``QosOVSTrunkAgentDriver`` methods to add or delete the
bandwidth limits in the OVS backend.

NOTE: the Trunk OVS driver QoS extension only supports bandwidth limit
rule type, egress direction.

Partial-Bug: #1639186
Change-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4
"
openstack%2Fovn-octavia-provider~master~If504cd0cc73f9e2340668cff12a2cd63030653bc,openstack/ovn-octavia-provider,master,ovs-version,If504cd0cc73f9e2340668cff12a2cd63030653bc,[OVN] Pin OVS version for OVN master,MERGED,2022-10-05 14:17:48.000000000,2022-10-06 17:30:50.000000000,2022-10-06 17:28:41.000000000,2,2,4,858365,8affd00b968656653172d879a8381efcef3d8bf0,22,4,1,1,23567,Luis Tomas Bolivar,ltomasbo,"[OVN] Pin OVS version for OVN master

According to [1], the needed version for OVN master is
5a686267d36c5c4229ec801a9616ceb60740fbe3. So pin to this
for OVN master build from sources jobs.

[1] http:github.com/ovn-org/ovn/commit/2e4f393650ccf298f26787583c13a88197ba8348

Change-Id: If504cd0cc73f9e2340668cff12a2cd63030653bc
"
openstack%2Fcharm-barbican~stable%2Fxena~I180b9b9f5861bce297ac77a4a416b1356c5a468e,openstack/charm-barbican,stable/xena,bug/1990062,I180b9b9f5861bce297ac77a4a416b1356c5a468e,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 18:41:06.000000000,2022-10-06 17:27:46.000000000,2022-10-06 17:27:46.000000000,14,14,1,859679,e01b5ac9ab7feb83c6e593aadb1635a692c8366a,14,4,3,1,20870,Alex Kavanagh,ajkavanagh,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Closes-Bug: #1990062
Change-Id: I180b9b9f5861bce297ac77a4a416b1356c5a468e
"
openstack%2Fcharm-barbican~stable%2Fxena~I81295ea5fb981c17334fa731a43c752f1a61c631,openstack/charm-barbican,stable/xena,pin-zuul-job,I81295ea5fb981c17334fa731a43c752f1a61c631,Set versioned unit test jobs.,MERGED,2022-09-29 13:50:42.000000000,2022-10-06 17:27:45.000000000,2022-10-06 17:27:45.000000000,1,1,3,859855,751c3c3e9fa67923dc67863e4f0269c6ff5fd770,12,4,2,1,2424,Felipe Reyes,freyes,"Set versioned unit test jobs.

Use openstack-python3-xena-jobs to run unit tests and correctly
run against the expected python versions.

Change-Id: I81295ea5fb981c17334fa731a43c752f1a61c631
"
openstack%2Fproject-config~master~I61493e74d9955a444326d72e085f511a838f88dd,openstack/project-config,master,ansible-6,I61493e74d9955a444326d72e085f511a838f88dd,Update OpenDev tenants' default ansible to 6,MERGED,2022-10-05 15:12:52.000000000,2022-10-06 16:58:21.000000000,2022-10-06 16:31:21.000000000,5,5,0,860474,6beca8328bc474f73ba32096dc1f449a6c372832,9,4,1,1,4146,Clark Boylan,cboylan,"Update OpenDev tenants' default ansible to 6

Zuul is looking at dropping ansible 5 support. By updating our default
ansible version to 6 early we can provide valuable feedback to the Zuul
project. That said we expect this to function. The Zuul Zuul tenant is
already running under ansible 6, and I've done some testing with
devstack [0] that appears to show those jobs running happily.

The openstack release is now out the door which makes this a good time
to change the zuul default.

[0] https://review.opendev.org/c/openstack/devstack/+/858436

Change-Id: I61493e74d9955a444326d72e085f511a838f88dd
"
openstack%2Fkolla-ansible~stable%2Fxena~I4f5c1bd8be8e23cf6299ca4bdfd79e9d98c9a9eb,openstack/kolla-ansible,stable/xena,keystone-oidc-azure-stable/xena,I4f5c1bd8be8e23cf6299ca4bdfd79e9d98c9a9eb,Keystone OIDC JWKS fix,MERGED,2022-10-06 13:38:59.000000000,2022-10-06 16:52:25.000000000,2022-10-06 16:51:06.000000000,26,2,2,860453,d94d1376378bbb3c72864374615d65edef59338a,11,3,2,4,34076,Jakub Darmach,darmach,"Keystone OIDC JWKS fix

JWT failed to validate on auth-oidc endpoint used by openstack cli
with ""could not find key with kid: XX"" error. To fix this we need
to use jwks provided in ""jwks_uri"" by OIDC metadata endpoint.

Missing ""ServerName"" directive from vhost config causes redirection
to fail in some cases when external tls is enabled.

  - added ""keystone_federation_oidc_jwks_uri"" variable
  - added ""OIDCOAuthVerifyJwksUri"" to keystone vhost config
  - added ""ServerName"" to keystone vhost config
  - jinja templating additional whitespace trimmed to
    correct end result indentation and empty newlines

Closes-bug: 1990375
Change-Id: I4f5c1bd8be8e23cf6299ca4bdfd79e9d98c9a9eb
(cherry picked from commit 98929761191e265474459a0b73fdbeb07afd2bb4)
"
openstack%2Fhorizon~master~Ic32b69d9f50860ef20b0c564e777cc738e0b2b81,openstack/horizon,master,zanata/translations,Ic32b69d9f50860ef20b0c564e777cc738e0b2b81,Imported Translations from Zanata,MERGED,2022-10-06 03:11:13.000000000,2022-10-06 16:49:32.000000000,2022-10-06 16:48:19.000000000,132,69,0,860514,a645545584bc04057600503ee0afd4623ceedbcd,7,2,1,18,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ic32b69d9f50860ef20b0c564e777cc738e0b2b81
"
openstack%2Fneutron~stable%2Fussuri~I4581848ad3e176fa576f80a752f2f062c974c2d1,openstack/neutron,stable/ussuri,bug/1896816,I4581848ad3e176fa576f80a752f2f062c974c2d1,Add support for deleting ml2/ovn agents,MERGED,2022-10-04 12:20:05.000000000,2022-10-06 16:42:26.000000000,2022-10-06 16:39:57.000000000,427,147,1,860247,ae6d06be8007e20ee7145aa7fce4943aad76451c,13,3,2,8,30463,Krzysztof Tomaszewski,labedz,"Add support for deleting ml2/ovn agents

This adds support for deleting OVN controller/metadata agents.
Behavior is undefined if the agents are still actually up as per
the Agent API docs.

As part of this, it is necessary to be able to tell all workers
that the agent is gone. This can't be done by deleting the
Chassis, because ovn-controller deletes the Chassis if it is
stopped gracefully and we need to still display those agents as
down until ovn-controller is restarted. This also means we can't
write a value to the Chassis marking the agent as 'deleted'
because the Chassis may not be there. And of course you can't
use the cache because then other workers won't see that the
agent is deleted.

Due to the hash ring implementation, we also cannot naively just
send some pre-defined event that all workers can listen for to
update their status of the agent. Only one worker would process
the event. So we need some kind of GLOBAL event type that is
processed by all workers.

When the hash ring implementation was done, the agent API
implementation was redesigned to work around moving from having
a single OVN Worker to having distributed events. That
implementation relied on marking the agents 'alive' in the
OVSDB. With large numbers of Chassis entries, this induces
significant load, with 2 DB writes per Chassis per
cfg.CONF.agent_down_time / 2 seconds (37 by default).

This patch reverts that change and goes back to using events
to store agent information in the cache, but adds support for
""GLOBAL"" events that are run on each worker that uses a particular
connection.

Change-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1
(cherry picked from commit da3ce7319866e8dc874d405e91f9af160e2c3d31)
"
openstack%2Fheat~stable%2Fvictoria~I1b99f8d039271bff8e64d64ad5482231bf2a2118,openstack/heat,stable/victoria,heat-remove-tripleo,I1b99f8d039271bff8e64d64ad5482231bf2a2118,Remove TripleO job,MERGED,2022-05-25 04:41:46.000000000,2022-10-06 16:41:29.000000000,2022-10-06 16:38:50.000000000,0,3,4,843233,40a56d353a43e167d33bb56645ad7727ea1cabfe,17,4,1,1,9816,Takashi Kajinami,kajinamit,"Remove TripleO job

This removes the experimental TripleO job. The job has been kept in
experimental queue and it has never attracted actual attention.
Also the job does not use the proposed change in heat but the current
master instead, so it's not useful to be in the Heat jobs.

(yoga to xena)
Conflicts:
	.zuul.yaml

Change-Id: I1b99f8d039271bff8e64d64ad5482231bf2a2118
(cherry picked from commit b3430d9fc2d82820ea14d21381efabe5e22f8925)
(cherry picked from commit c2b8f3c710b05b24c075a98204de9e121a0dc743)
(cherry picked from commit e6a8e66c78f36b9b7f609a8ec7f80e48b155b957)
(cherry picked from commit 044b094e237b4bade1a84a209a94314315e4a989)
"
openstack%2Fironic~bugfix%2F20.2~Id6f8996e4d103f849325f54fe0619b4acb43453a,openstack/ironic,bugfix/20.2,,Id6f8996e4d103f849325f54fe0619b4acb43453a,[iRMC] Add SNMPv3 authentication functionality,MERGED,2022-09-26 07:17:18.000000000,2022-10-06 16:28:27.000000000,2022-10-06 16:26:59.000000000,553,63,0,859216,4ab1f1e599f7b18007b0dac4b3ad684c47179247,10,2,1,10,28806,SONG SHUKUN,song,"[iRMC] Add SNMPv3 authentication functionality

Currently when using SNMPv3, iRMC driver does not use SNMPv3
authentication parameters so the SNMPv3 authentication will
always fail. And iRMC cannot recognize FIPS mode, so when FIPS mode
is enabled, iRMC driver could still use non-FIPS-compliant algorithms.

This commit changes iRMC driver to require and use SNMPv3
authentication parameters when 'irmc_snmp_version' is set to v3 and
also makes iRMC driver to force 'irmc_snmp_version' to v3,
'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES
when FIPS mode is enabled, because currently among the algorithms
supported by iRMC, only SHA and AES are FIPS compliant.

Conflicts:
	doc/source/admin/drivers/irmc.rst
	driver-requirements.txt
	ironic/drivers/modules/irmc/common.py
	ironic/tests/unit/drivers/modules/irmc/test_common.py

Change-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a
Story: 2010085
Task: 45590
(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)
"
openstack%2Fpython-ironicclient~stable%2Fwallaby~I35cf9f1ad94ef8ca54ee9bbab04608a51afbfeea,openstack/python-ironicclient,stable/wallaby,graphical_console_interface,I35cf9f1ad94ef8ca54ee9bbab04608a51afbfeea,Add graphical console interface,ABANDONED,2022-10-06 12:39:10.000000000,2022-10-06 16:17:10.000000000,,231,26,0,860568,558eaa2f0ed03ce9a9611e23ee72fa5903a3ad95,3,1,1,11,35370,Kirill,kirillgermanov,"Add graphical console interface

Change-Id: I35cf9f1ad94ef8ca54ee9bbab04608a51afbfeea
"
openstack%2Fnova~stable%2Fwallaby~If487f2ada932390edd4e2d8fefbad2c5534117ca,openstack/nova,stable/wallaby,idrac_vnc_console,If487f2ada932390edd4e2d8fefbad2c5534117ca,add support of vnc console for ironic,ABANDONED,2022-10-06 12:00:16.000000000,2022-10-06 16:16:58.000000000,,284,16,21,860557,cd9e84c9f884e46f39782531ba72045184189402,4,1,1,22,35370,Kirill,kirillgermanov,"add support of vnc console for ironic

Change-Id: If487f2ada932390edd4e2d8fefbad2c5534117ca
"
openstack%2Fironic~stable%2Fwallaby~Ibc50885e2d92e3fa8dfa00ce362150aa67a2e910,openstack/ironic,stable/wallaby,idrac_vnc_console,Ibc50885e2d92e3fa8dfa00ce362150aa67a2e910,add vnc console,ABANDONED,2022-10-06 11:28:20.000000000,2022-10-06 16:16:26.000000000,,257,0,11,860552,96f4721fe80dc7296b2c38818b2d9c9b17849864,6,1,1,4,35370,Kirill,kirillgermanov,"add vnc console

Change-Id: Ibc50885e2d92e3fa8dfa00ce362150aa67a2e910
"
openstack%2Fkolla~master~I093620679016b37e1664c9fe4cf7559433e744b7,openstack/kolla,master,refactor/engine-adapter,I093620679016b37e1664c9fe4cf7559433e744b7,Move build related tasks to separate file,MERGED,2022-10-06 10:21:13.000000000,2022-10-06 16:08:42.000000000,2022-10-06 15:46:47.000000000,413,390,5,860544,a8ee3244bfd4f3ee388308da6ab7e9da60d4a6b7,17,6,3,3,24072,Marcin Juszkiewicz,hrw,"Move build related tasks to separate file

As part of kolla/image/ refactoring we move build related task classes
into own file.

Based on patch by Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>

Change-Id: I093620679016b37e1664c9fe4cf7559433e744b7
"
openstack%2Fpython-openstackclient~master~I3f1155002e221af10abc0b0a9e15d071806e9d5f,openstack/python-openstackclient,master,,I3f1155002e221af10abc0b0a9e15d071806e9d5f,DNM: Test job with capped sdk,NEW,2022-09-20 18:24:45.000000000,2022-10-06 16:05:07.000000000,,18,20,2,858569,0d73d3347c3d5e6c50fa3a5f8e415ad5843085d2,11,1,4,1,13252,Dr. Jens Harbott,jrosenboom,"DNM: Test job with capped sdk

To make sure we can still run against sdk<0.99

Change-Id: I3f1155002e221af10abc0b0a9e15d071806e9d5f
"
openstack%2Fkolla~master~I55c3f6b34631048b2463b02e6ea611d7e4c1a912,openstack/kolla,master,refactor/engine-adapter,I55c3f6b34631048b2463b02e6ea611d7e4c1a912,Move KollaWorker stuff to separate file,MERGED,2022-10-06 10:21:13.000000000,2022-10-06 16:04:32.000000000,2022-10-06 16:03:24.000000000,773,740,1,860545,145d096bf7d93e200cd567f8177f09fd8492de61,15,5,3,3,24072,Marcin Juszkiewicz,hrw,"Move KollaWorker stuff to separate file

As part of kolla/image/ refactoring we move KollaWorker related classes
into own file.

Based on patch by Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>

Change-Id: I55c3f6b34631048b2463b02e6ea611d7e4c1a912
"
openstack%2Fdesignate~master~I70b92b400cfeb059d1a1889ffa72621e0011d8c6,openstack/designate,master,,I70b92b400cfeb059d1a1889ffa72621e0011d8c6,Add clean_zonefile to BIND9 pool.yaml doc,NEW,2022-10-03 22:17:32.000000000,2022-10-06 15:54:05.000000000,,2,0,1,860197,c17751bb672de270af5fc608990d5dae809e421c,3,2,1,2,11628,Michael Johnson,johnsom,"Add clean_zonefile to BIND9 pool.yaml doc

This patch adds an example of the ""clean_zonefile"" option in the BIND9 targets in the pools.yaml file. The option has existed in the code, but was not documented in any way.
It also enables this feature in the bind9 devstack plugin for testing and to reduce the storage utilization during test runs.

Change-Id: I70b92b400cfeb059d1a1889ffa72621e0011d8c6
"
openstack%2Fneutron~master~If379cefb66a262318858e1cea6503aa3a56ba956,openstack/neutron,master,bug/1990229,If379cefb66a262318858e1cea6503aa3a56ba956,"Since OVN 20.06, config is stored in ""Chassis.other_config""",MERGED,2022-09-28 15:54:51.000000000,2022-10-06 15:52:30.000000000,2022-10-06 11:22:56.000000000,131,102,12,859642,f8fa909444cf87d55819fa9dbc45ed77cff7b845,46,6,5,19,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Since OVN 20.06, config is stored in ""Chassis.other_config""

Since OVN 20.06 [1], the OVN configuration is stored in
""Chassis.other_config"".

Since OVN 22.09, the ""Chassis"" configuration stored in
""Chassis.other_config"" will not be replicated to
""Chassis.external_ids"".

This patch replaces any reference to ""external_ids"" when
retrieving the Chassis configuration. That means Neutron
no longer supports OVN versions below 20.06.

[1]https://github.com/ovn-org/ovn/commit/74d90c2223d0a8c123823fb849b4c2de58c296e4
[2]https://github.com/ovn-org/ovn/commit/51309429cc3032a0cb422603e7bbda4905ca01ae

Closes-Bug: #1990229
Change-Id: If379cefb66a262318858e1cea6503aa3a56ba956
"
openstack%2Fblazar~master~I5f2044da0efcbe3e091d25f97d69fec877858d7e,openstack/blazar,master,bug/1801794,I5f2044da0efcbe3e091d25f97d69fec877858d7e,[docs] Rewrite the architecture description,MERGED,2022-08-06 16:55:07.000000000,2022-10-06 15:31:59.000000000,2022-10-06 15:30:29.000000000,135,136,33,852301,e93abfe5369fcdcde470f68266b8d73b175f73b1,17,3,3,3,30491,Rados≈Çaw Piliszek,yoctozepto,"[docs] Rewrite the architecture description

To match the reality.

Closes-Bug: #1801794
Change-Id: I5f2044da0efcbe3e091d25f97d69fec877858d7e
"
openstack%2Fdevstack~master~If0a2131b0d6740c2d04e4d5b61c76e6f7a208ad4,openstack/devstack,master,bug/1991952,If0a2131b0d6740c2d04e4d5b61c76e6f7a208ad4,Bump OVN version to v21.06.0,ABANDONED,2022-10-06 14:43:34.000000000,2022-10-06 15:31:01.000000000,,3,0,4,860577,60d69ee601b18451a054c36316bb525b7747d01c,6,1,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Bump OVN version to v21.06.0

This patch bumps the ""devstack"" job OVN version to v21.06.0. This
job is inherited from multiple other projects and jobs.

Since [1], Neutron needs at least OVN v20.06. This patch retrieves the
""Chassis"" configuration from ""other_config"", instead of ""external_ids"".

The proposed version v21.06.0 is extensively tested now in the Neutron
and neutron-tempest-plugin CIs and has proven to be a stable version.

Ubuntu 20.04 LTS, currently used in the OpenStack CI, provides OVN
v20.03. This OVN version needs to be built from source when devstack
builds an environment.

[1]https://review.opendev.org/c/openstack/neutron/+/859642

Change-Id: If0a2131b0d6740c2d04e4d5b61c76e6f7a208ad4
Closes-Bug: #1991952
"
openstack%2Fproject-team-guide~master~Ie932b38c79eaa5947959c6f642c041acfdb87679,openstack/project-team-guide,master,,Ie932b38c79eaa5947959c6f642c041acfdb87679,Explicitly mention the each steps of repo retirement,MERGED,2022-04-28 18:02:47.000000000,2022-10-06 15:14:14.000000000,2022-10-06 15:13:09.000000000,35,27,1,839807,f35460edcbe7629746038af29eea561f7055ab40,13,5,1,1,8556,Ghanshyam,ghanshyam,"Explicitly mention the each steps of repo retirement

In repo retirement process, we need to wait for
governance patch to get TC agreement as well as to check
the proper retirement which need repo content removal first
to check the proper retirement. But as we refer to the OpenDev
manual for 3 steps together, this become confusing to mention the
right order. As per OpenStack process, those 3 steps need to be in
different order.

We have note about those but still it may confuse people to know
the right order.

I am extracting the each step explictly and what patch they need
to depends-on.

Change-Id: Ie932b38c79eaa5947959c6f642c041acfdb87679
"
openstack%2Fneutron~master~Id60940269d80bddfccc3f412cd6f09093fbc74e7,openstack/neutron,master,dnm,Id60940269d80bddfccc3f412cd6f09093fbc74e7,[DNM] test revert datapath id switch,ABANDONED,2022-09-22 13:14:37.000000000,2022-10-06 15:13:42.000000000,,45,70,1,858924,d3bf2ea28e0a4c166572abe109ed681b48557d60,6,2,1,4,13861,yatin,yatinkarel,"[DNM] test revert datapath id switch

Change-Id: Id60940269d80bddfccc3f412cd6f09093fbc74e7
"
openstack%2Fneutron~stable%2Fwallaby~I1eb2591a3d1bebe3210244197a396859a38cbc41,openstack/neutron,stable/wallaby,dnm,I1eb2591a3d1bebe3210244197a396859a38cbc41,[DNM] Test dns api test in wallaby,ABANDONED,2022-09-22 16:10:16.000000000,2022-10-06 15:13:04.000000000,,1,51,0,858953,7656e34c9089464003c21a0128d4c2b8bbc6b930,4,1,1,1,13861,yatin,yatinkarel,"[DNM] Test dns api test in wallaby

For https://bugs.launchpad.net/tripleo/+bug/1990480
Change-Id: I9494c7315db2e7148010e4fab35316e765735bbb

Change-Id: I1eb2591a3d1bebe3210244197a396859a38cbc41
"
openstack%2Fansible-collections-openstack~master~I5eda8e476a4e779382e6c63f5982504d5951501d,openstack/ansible-collections-openstack,master,volume,I5eda8e476a4e779382e6c63f5982504d5951501d,Update quota for 2.0.0,MERGED,2022-07-29 04:34:04.000000000,2022-10-06 15:07:19.000000000,2022-10-06 15:07:19.000000000,476,273,52,851483,f0cb7f680231bf17fdf043de4e5e8117c1aef097,59,7,21,5,34208,Rafael Castillo,rcastill,"Update quota for 2.0.0

Add a test role to validate module functionality

Replace calls to the sdk cloud layer to use the proxy layer.

Update module parameters to use names matching the sdk. Keep aliases for
old values.

Remove _scrub_results, no longer necessary with proxy layer.

Move check mode outside of main flow to keep the module readable.

Refactor code to handle fields that should be ignored.

Simplify return value from _system_state_change_details.

Inline calls to fetch existing quotas.

Remove metaprogramming calls to cloud layer methods, as the proxy layer
doesn't have the same consistent API.

Remove handling for case where neutron throws exception when unsetting
quotas that aren't set. This is validated in the test role.

Ensure return values are dicts.

Replace exception handler with conditionals which allows us to drop the
dependency on keystoneauth1 library and is much more correct than
catching all exceptions and always printing the same error even on
unrelated exceptions.

Story: 2010099
Task: 45654

Change-Id: I5eda8e476a4e779382e6c63f5982504d5951501d
"
openstack%2Fkolla~master~I759ab49a3ef488042984067c1eca93e945805678,openstack/kolla,master,refactor/engine-adapter,I759ab49a3ef488042984067c1eca93e945805678,Move info about unbuildable images to separate file,MERGED,2022-10-06 10:21:13.000000000,2022-10-06 14:58:59.000000000,2022-10-06 14:18:11.000000000,68,56,0,860542,8dd52300c0e6bac8eee2f8c842ea2e665547e989,10,3,2,2,24072,Marcin Juszkiewicz,hrw,"Move info about unbuildable images to separate file

As part of kolla/image/ refactoring we move information about
unbuildable images to own file. Like we did with users and sources in
past.

Based on patch by Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>

Change-Id: I759ab49a3ef488042984067c1eca93e945805678
"
openstack%2Fneutron~master~I3e2ddfc78204e17241635ac66f6f089d246a8e8a,openstack/neutron,master,bug/1799790,I3e2ddfc78204e17241635ac66f6f089d246a8e8a,Try to update port status to DOWN port not bound to host,NEW,2022-02-03 17:29:02.000000000,2022-10-06 14:44:19.000000000,,60,26,11,827728,a1d8ff30aea04101c6850b79887384edc6508cb6,24,4,4,3,8313,Lajos Katona,elajkat,"Try to update port status to DOWN port not bound to host

It can happen that port is already not bound to host after detach,
but the status is not set to DOWN, to avoid this situation try to
update_port_status to DOWN if port is not bound, but the status is still
something else.

Change-Id: I3e2ddfc78204e17241635ac66f6f089d246a8e8a
Related-Bug: #1799790
"
openstack%2Fkolla~master~I940816c7e487f6d5c7abc4446226e2992cf9e63d,openstack/kolla,master,refactor/engine-adapter,I940816c7e487f6d5c7abc4446226e2992cf9e63d,Move status and log related things to separate file,MERGED,2022-10-06 10:21:13.000000000,2022-10-06 14:41:34.000000000,2022-10-06 14:40:22.000000000,76,59,0,860543,aee19bd1c4b45807d7d246b3d06710cca93f137a,11,6,2,3,24072,Marcin Juszkiewicz,hrw,"Move status and log related things to separate file

As part of kolla/image/ refactoring we move status enums/consts into
own file.

Based on patch by Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>

Change-Id: I940816c7e487f6d5c7abc4446226e2992cf9e63d
"
openstack%2Fheat~stable%2Fussuri~Ib54f5944cfd803baa4044858c097fc71f1ffb789,openstack/heat,stable/ussuri,fix-queue-config,Ib54f5944cfd803baa4044858c097fc71f1ffb789,zuul: Declare queue at top level,MERGED,2022-09-28 03:27:56.000000000,2022-10-06 14:38:28.000000000,2022-10-06 14:36:09.000000000,1,1,1,859417,bfc7541f3a746f30b4306acd1f3ca15778eb58a3,11,2,1,1,9816,Takashi Kajinami,kajinamit,"zuul: Declare queue at top level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This updates the job definition to use the top level
declaration instead.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: Ib54f5944cfd803baa4044858c097fc71f1ffb789
(cherry picked from commit 4a898171f0b512518aa94dbcdd58cfc707630af9)
(cherry picked from commit f4904ff7af40c8683d0dd3550eaf979fa90a2e47)
(cherry picked from commit 782da94b34d17b2bf06ba8bf06f43c091c52266f)
(cherry picked from commit 167ece3673f6db5db8694dff9644a73216697185)
(cherry picked from commit 94cac44798a32fcdf027ee1905c69328890c5049)
"
openstack%2Fnova~master~I7d708c5551a065ae7d486893d4677acc03829317,openstack/nova,master,default_persistant_objects_without_soft_delete,I7d708c5551a065ae7d486893d4677acc03829317,objects: Validate object-DB model field parity,NEW,2022-10-06 11:55:51.000000000,2022-10-06 14:33:30.000000000,,235,0,0,860556,7ce8835a5d4fee8c7a69a7eb94776a7d549a6d4b,4,1,1,5,15334,Stephen Finucane,sfinucan,"objects: Validate object-DB model field parity

Add a test to validate parity between o.vo fields and database columns.
This will help catch issues like those recently highlighted in change
I0ff6ecac89f282f50f23a6cee2e54740a44d355c.

Change-Id: I7d708c5551a065ae7d486893d4677acc03829317
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpython-tripleoclient~master~I9e37971291b1153f3e30a84f96a1caebedd24ee4,openstack/python-tripleoclient,master,,I9e37971291b1153f3e30a84f96a1caebedd24ee4,Allow to skip container image prepare,NEW,2022-10-06 05:38:14.000000000,2022-10-06 14:30:35.000000000,,17,0,4,860524,91c9683b0b56341a312e43a2fb1ba6f5a100adcd,8,3,1,2,8833,Rabi Mishra,rabi,"Allow to skip container image prepare

Add cli option to skip running container image prepare
with uprade run.

Change-Id: I9e37971291b1153f3e30a84f96a1caebedd24ee4
"
openstack%2Ftripleo-heat-templates~master~I8557670c748718bd518fadf02eefd296fb713a83,openstack/tripleo-heat-templates,master,provisioning-network,I8557670c748718bd518fadf02eefd296fb713a83,Add provisioning net map service for easier configuration,NEW,2022-09-30 09:05:53.000000000,2022-10-06 14:26:13.000000000,,3,3,1,859948,5b49a960355c96510fba8e8f926d05b3a5a37793,4,4,1,1,34754,Cristian Le,lecris,"Add provisioning net map service for easier configuration

Signed-off-by: Cristian Le <git@lecris.me>
Change-Id: I8557670c748718bd518fadf02eefd296fb713a83
"
openstack%2Fpython-octaviaclient~master~I43010cc62d6398e5d6b9669a2231ab0404ce216d,openstack/python-octaviaclient,master,fix_pool_prot_choices,I43010cc62d6398e5d6b9669a2231ab0404ce216d,Fix pool protocols,NEW,2022-09-12 14:31:52.000000000,2022-10-06 13:57:00.000000000,,6,2,0,857193,ad18a19e113cd70cf8269d9dd8fd4c4180f30f4c,3,3,1,2,31664,Omer Schwartz,oschwart,"Fix pool protocols

This patch removes the TERMINATED_HTTPS from the pool protocols, as it
is not supported.

Story 2010290
Task 46263

Change-Id: I43010cc62d6398e5d6b9669a2231ab0404ce216d
"
openstack%2Ftosca-parser~master~Ia7064518a528e322c366daa6d9a30df9746126ce,openstack/tosca-parser,master,fix-dash-separated-setupcfg,Ia7064518a528e322c366daa6d9a30df9746126ce,Fix dash-separated attributes in setup.cfg,MERGED,2022-10-06 00:26:07.000000000,2022-10-06 13:30:47.000000000,2022-10-06 13:29:43.000000000,4,4,2,860508,e6675da564ad1a100f16a5ee00b023cf2eb62a38,9,3,1,1,25701,Yasufumi Ogawa,yasufum,"Fix dash-separated attributes in setup.cfg

For dash-separated attribute names in setup.cfg will not be supported
in future versions, setuptools warns for such a names [1]. This update
is to replace dashes with underscores for the fix.

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: Ia7064518a528e322c366daa6d9a30df9746126ce
"
openstack%2Ftripleo-ansible~master~If9bdb915b28e33afd9ec2a487ccad5de3498188b,openstack/tripleo-ansible,master,cleanup/iptables,If9bdb915b28e33afd9ec2a487ccad5de3498188b,Clean tripleo_iptables related resources,MERGED,2022-10-03 05:56:08.000000000,2022-10-06 13:29:48.000000000,2022-10-06 13:27:27.000000000,7,972,1,860063,cf587dd0097a9dbf21b410fd31488d64396a3f70,13,4,3,25,28223,Cedric Jeanneret,cjeanner,"Clean tripleo_iptables related resources

Now that we've switched to nftables, it's time to remove
tripleo_iptables related resources. We don't want to support both
interfaces, since nftables is the future of the NetFilter interface (for
now).

We remove most of molecule tests as well since we're already testing
nftables directly in tripleo_nftables. tripleo_firewall is now a wrapper
ensuring proper service is enabled, and rules are properly listed.

We keep tripleo_firewall since it allows a smooth migration to whatever
engine the future will provide.

Change-Id: If9bdb915b28e33afd9ec2a487ccad5de3498188b
"
openstack%2Ftripleo-heat-templates~master~I18d23125a468cb2db5ff33979d8b810a0207819a,openstack/tripleo-heat-templates,master,cleanup/iptables,I18d23125a468cb2db5ff33979d8b810a0207819a,Cleanup iptables resources,MERGED,2022-10-03 06:07:38.000000000,2022-10-06 13:29:47.000000000,2022-10-06 13:27:30.000000000,9,75,7,860064,0074098f0e5e1c20b0c47c9bdf8cbebb4192725c,19,4,1,3,28223,Cedric Jeanneret,cjeanner,"Cleanup iptables resources

The only supported firewall engine is nftables from now on.
Tripleo-ansible has been cleaned from its tripleo_iptables related
resources and actions, meaning we don't need to keep the FirewallEngine
anymore.

This patch also removes an old and deprecated upgrade action related to
puppet-firewall - since Train, we're using tripleo_iptables and related,
meaning there shouldn't be any trailing config at this point. Especially
since iptables and ip6tables services are now deactivated for good.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/860063
Change-Id: I18d23125a468cb2db5ff33979d8b810a0207819a
"
openstack%2Fneutron~master~Ic04493f20eb9aecda563942c51f343dc4202523a,openstack/neutron,master,hashring-probe,Ic04493f20eb9aecda563942c51f343dc4202523a,Split Hash Ring probing from the maintenance task,MERGED,2022-10-04 10:40:51.000000000,2022-10-06 13:28:25.000000000,2022-10-06 11:23:01.000000000,17,3,6,860233,240f2c6aebb5a958e3cdea9b9188e7f605238494,32,6,3,1,6773,Lucas Alvares Gomes,lucasagomes,"Split Hash Ring probing from the maintenance task

This patch split out the Hash Ring probing out of the maitenance task
into it's own thread. The idea is to speed up the start of probing by
doing it right after adding a node to the Hash Ring.

By doing that, we avoid the problem of delaying probing in case the
connection with OVSDB takes longer than expected to connect and the hash
ring nodes are considered dead as they weren't probed in time.

The patch re-uses the same classes as before to start this new thread
(instead of reusing the maintenance task thread). It adds a layer of
synchronization with a lock to make sure that only one new Hash Ring
probing thread is started.

Closes-Bug: #1991655
Change-Id: Ic04493f20eb9aecda563942c51f343dc4202523a
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I1c0b1a7cc869607b3173f98c28af7af91190e927,openstack/tripleo-ansible,stable/wallaby,enable_br_molecule-stable/wallaby,I1c0b1a7cc869607b3173f98c28af7af91190e927,Mark B&R job as voting,MERGED,2022-09-23 13:10:57.000000000,2022-10-06 13:27:36.000000000,2022-10-06 13:27:36.000000000,7,10,5,858907,045889963a08fe3776cb512df2eed8ba1927abd0,17,6,2,3,32968,Juan Larriba,jlarriba,"Mark B&R job as voting

backup_and_restore molecule job was marked as non-voting due to
an issue [1] that has been already solved. As it is passing now
we are re-enabling it as a voting job.

[1] https://bugs.launchpad.net/tripleo/+bug/1980198

Change-Id: I1c0b1a7cc869607b3173f98c28af7af91190e927
(cherry picked from commit becf405fc7d7e2322fcd1f897247505d1515a2f0)
"
openstack%2Ftripleo-upgrade~master~I0f3d115512c5593eff9556d1ca1aca4e465fb29b,openstack/tripleo-upgrade,master,,I0f3d115512c5593eff9556d1ca1aca4e465fb29b,Bump Cirros to 0.6.0,MERGED,2022-10-03 10:56:31.000000000,2022-10-06 13:27:34.000000000,2022-10-06 13:27:34.000000000,2,2,0,860082,f3be13b37e30fa0a3c504e928ddcb335ce597f8a,7,4,1,2,33080,Mikolaj Ciecierski,mciecierski,"Bump Cirros to 0.6.0

Due to [1] cirros should be bumped to 0.6.0

[1] https://bugs.launchpad.net/tripleo/+bug/1991231

Change-Id: I0f3d115512c5593eff9556d1ca1aca4e465fb29b
"
openstack%2Ftripleo-heat-templates~master~Iddb394a0a9610c3ef70476d6a11377ba77347766,openstack/tripleo-heat-templates,master,,Iddb394a0a9610c3ef70476d6a11377ba77347766,Add environment file to allow access to docker registry,ABANDONED,2022-10-06 09:21:59.000000000,2022-10-06 13:10:52.000000000,,5,0,0,860537,e86f999a07c00c9bfb9aceea7bdf4637013d0497,5,2,2,1,9816,Takashi Kajinami,kajinamit,"Add environment file to allow access to docker registry

This change introduces a tiny environment file used by CI, to allow
access to docker registry, which listens on tcp/5001. This registry
is used as the source container registry which stores the images built
within CI, when a standalone job is executed with build_images: true.

Change-Id: Iddb394a0a9610c3ef70476d6a11377ba77347766
"
openstack%2Foslo.db~master~Ifa453955b7e8c553ac3e2a01658681a608a9c994,openstack/oslo.db,master,configurable-soft-delete,Ifa453955b7e8c553ac3e2a01658681a608a9c994,RFC: Make soft deletion optional,NEW,2022-10-05 12:24:53.000000000,2022-10-06 12:40:32.000000000,,59,5,5,860407,c8d210ccb0c2d3b1633cab425c61e9b22e4cab6f,6,3,1,4,15334,Stephen Finucane,sfinucan,"RFC: Make soft deletion optional

Expose a knob that can be used to configure soft deletion.

RFC because we need to determine if this is something that individual
projects should do or something that we should do in oslo.db.

Change-Id: Ifa453955b7e8c553ac3e2a01658681a608a9c994
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcharm-cinder-lvm~master~I6fef6f81371abed79d5f77a86537ac6bf5c8a381,openstack/charm-cinder-lvm,master,fix-build,I6fef6f81371abed79d5f77a86537ac6bf5c8a381,Install charm-helpers from master branch,MERGED,2022-10-05 17:52:11.000000000,2022-10-06 12:19:53.000000000,2022-10-06 12:19:53.000000000,1,1,2,860485,404a6d652e01b3333c472f6f8f8d26ca63853433,12,3,2,1,2424,Felipe Reyes,freyes,"Install charm-helpers from master branch

Change-Id: I6fef6f81371abed79d5f77a86537ac6bf5c8a381
"
openstack%2Fcharm-cinder-lvm~master~Id1f879a7f15ddf4e7e97a474cb2d1596337036d0,openstack/charm-cinder-lvm,master,fix-build,Id1f879a7f15ddf4e7e97a474cb2d1596337036d0,Add kinetic to run-on,MERGED,2022-10-05 17:52:11.000000000,2022-10-06 12:19:31.000000000,2022-10-06 12:19:31.000000000,15,15,2,860484,067f3049d7c34cc0257fdb65461cea2a8e024971,12,3,2,4,2424,Felipe Reyes,freyes,"Add kinetic to run-on

This change aligns the list of bases to the other charms where the charm
is built on 22.04 and marked to run-on 22.04 and 22.10

Change-Id: Id1f879a7f15ddf4e7e97a474cb2d1596337036d0
"
openstack%2Fnova~master~I7b6f8c198aa42f5ef3f8b158308b993b040454ec,openstack/nova,master,doc-typos,I7b6f8c198aa42f5ef3f8b158308b993b040454ec,Fix typos in nova docs,MERGED,2022-09-21 11:23:38.000000000,2022-10-06 12:12:26.000000000,2022-10-06 12:09:51.000000000,49,49,11,858673,0fce3c03abc2e105b89ef9cc00996944d3d19f8e,21,6,2,27,20733,Rajesh Tailor,rajesht,"Fix typos in nova docs

Change-Id: I7b6f8c198aa42f5ef3f8b158308b993b040454ec
"
openstack%2Fopenstacksdk~master~I6c674ff968088960ee68e2f6dd187f77e97d0755,openstack/openstacksdk,master,bifrost-job,I6c674ff968088960ee68e2f6dd187f77e97d0755,Added Ansible OpenStack Collection to Bifrost's job.required-projects,MERGED,2022-10-05 08:59:57.000000000,2022-10-06 12:12:24.000000000,2022-10-06 12:09:46.000000000,1,0,0,860351,9a1778162961b52201950be9f21f8a6cb9632543,8,2,1,1,32962,Jakob Meng,jakobmeng@web.de,"Added Ansible OpenStack Collection to Bifrost's job.required-projects

Job bifrost-integration-openstacksdk-src installs the latest code of
openstacksdk's master branch because it has openstacksdk's repo listed
in its job.required-projects. It also has to pull the latest code of
Ansible OpenStack Collection, because Bifrost jobs pin the former to
older releases which is compatible to openstacksdk <0.99.0 only.

Change-Id: I6c674ff968088960ee68e2f6dd187f77e97d0755
"
openstack%2Fkolla-ansible~stable%2Fxena~Ib0fe96fba7e02f3383a6904aad895504ac27c018,openstack/kolla-ansible,stable/xena,,Ib0fe96fba7e02f3383a6904aad895504ac27c018,Enable back c8s upgrade jobs,MERGED,2022-10-06 09:05:52.000000000,2022-10-06 12:08:13.000000000,2022-10-06 12:06:05.000000000,3,3,0,860535,3de939defc50d37d453967c2f83496071a25a295,7,2,1,1,22629,Michal Nasiadka,mnasiadka,"Enable back c8s upgrade jobs

rdo-openvswitch-2.17 has been uploaded to CentOS mirrors.

Change-Id: Ib0fe96fba7e02f3383a6904aad895504ac27c018
"
openstack%2Fneutron~stable%2Fussuri~I34c9e9621e84112dc950e1d274e867093f3d12e4,openstack/neutron,stable/ussuri,bug/1896816,I34c9e9621e84112dc950e1d274e867093f3d12e4,Simplify OVN Agent API implementation,MERGED,2022-10-04 12:20:05.000000000,2022-10-06 12:02:14.000000000,2022-10-06 12:00:51.000000000,33,17,1,860246,847ddbb358cdc491526ac8f9f94e04ba8a347bbe,10,4,2,2,30463,Krzysztof Tomaszewski,labedz,"Simplify OVN Agent API implementation

This is a small enhancement to https://review.opendev.org/#/c/737106/
that breaks apart the ControllerAgent and ControllerGatewayAgent.

Change-Id: I34c9e9621e84112dc950e1d274e867093f3d12e4
(cherry picked from commit 827c5878d3cca5807e72d90f3fb8b4a92d513426)
"
openstack%2Fnova~stable%2Fwallaby~Id57de5d9ad3b2e75db761967ac9dd7dbb8ae1ecd,openstack/nova,stable/wallaby,idrac_vnc_console,Id57de5d9ad3b2e75db761967ac9dd7dbb8ae1ecd,GCLOUD2-6989:vnc workable varsion,ABANDONED,2022-10-06 11:55:09.000000000,2022-10-06 11:57:59.000000000,,284,16,0,860555,71bef087f5013e4abcca35c122b65ba9584f33ea,2,0,1,22,35370,Kirill,kirillgermanov,"GCLOUD2-6989:vnc workable varsion

Change-Id: Id57de5d9ad3b2e75db761967ac9dd7dbb8ae1ecd
"
openstack%2Fkolla-ansible~stable%2Fyoga~I4f5c1bd8be8e23cf6299ca4bdfd79e9d98c9a9eb,openstack/kolla-ansible,stable/yoga,keystone-oidc-azure-stable/yoga,I4f5c1bd8be8e23cf6299ca4bdfd79e9d98c9a9eb,Keystone OIDC JWKS fix,MERGED,2022-10-05 13:44:02.000000000,2022-10-06 11:56:55.000000000,2022-10-06 11:55:25.000000000,26,2,2,860431,1d8c7c0da1186bbbb707a4da6aba1f7c24b887a5,18,3,3,4,34076,Jakub Darmach,darmach,"Keystone OIDC JWKS fix

JWT failed to validate on auth-oidc endpoint used by openstack cli
with ""could not find key with kid: XX"" error. To fix this we need
to use jwks provided in ""jwks_uri"" by OIDC metadata endpoint.

Missing ""ServerName"" directive from vhost config causes redirection
to fail in some cases when external tls is enabled.

  - added ""keystone_federation_oidc_jwks_uri"" variable
  - added ""OIDCOAuthVerifyJwksUri"" to keystone vhost config
  - added ""ServerName"" to keystone vhost config
  - jinja templating additional whitespace trimmed to
    correct end result indentation and empty newlines

Closes-bug: 1990375
Change-Id: I4f5c1bd8be8e23cf6299ca4bdfd79e9d98c9a9eb
(cherry picked from commit 98929761191e265474459a0b73fdbeb07afd2bb4)
"
openstack%2Fnova~master~I575bdac2ed540324ec868048cd73bba6183e6deb,openstack/nova,master,bug/1538011,I575bdac2ed540324ec868048cd73bba6183e6deb,Fix case-sensitivity for metadata keys,ABANDONED,2017-09-18 08:57:04.000000000,2022-10-06 11:39:08.000000000,,46,0,2,504885,2eb00f47d9b162f9f3ee8ca63e3943af31b84aeb,118,27,9,3,20733,Rajesh Tailor,rajesht,"Fix case-sensitivity for metadata keys

The addition of metadata keys are not case-sensitive, when using
mysql backend, because mysql doesn't support case-sensitivity by-default.

As of now, the metadata keys ""abc"" and ""ABC"" are considered same, which
is not true, as both differ by their case. And if one is set and user
tries to set another, instead of metadata being set to host-aggreate,
user gets unexpected error.

Fixed the issue by changing the collation type to utf8_bin for
aggregate_metadata table on mysql backend, to enable case-sensitivity.

Change-Id: I575bdac2ed540324ec868048cd73bba6183e6deb
Closes-Bug: 1538011
"
openstack%2Fkolla-ansible~master~Ia0af044ff436c2a204b357750a16ff49fcdfec45,openstack/kolla-ansible,master,,Ia0af044ff436c2a204b357750a16ff49fcdfec45,Support exposing prometheus_server externally,NEW,2022-02-10 11:14:12.000000000,2022-10-06 11:38:59.000000000,,28,1,10,828695,39bd9f03f2d6c39b0fedb6028c21e3560bfeb3fd,22,4,4,5,28048,Will Szumski,jovial,"Support exposing prometheus_server externally

This avoids the need to use a proxy, or some other means, to connect to
Prometheus. This is disabled by default and can be enabled by setting
enable_prometheus_server_external to true.

Change-Id: Ia0af044ff436c2a204b357750a16ff49fcdfec45
"
openstack%2Fneutron-tempest-plugin~master~Ie3b545ef0289f38938dc05f42ba3f51d26dd20e7,openstack/neutron-tempest-plugin,master,test-cirros,Ie3b545ef0289f38938dc05f42ba3f51d26dd20e7,DNM: Test custom cirros image,NEW,2022-08-28 12:54:21.000000000,2022-10-06 11:38:46.000000000,,48,45,6,854910,65cd5a9c063162f531d6a6b8fe42b0c45d7b7842,28,3,9,5,13252,Dr. Jens Harbott,jrosenboom,"DNM: Test custom cirros image

Changes needed in order to work on Cirros instead of Ubuntu:
- Change bash to sh
- Use root to read files created by root
- Don't use subnet without DHCP
- Drop host-passthrough from libvirt config

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: Ie3b545ef0289f38938dc05f42ba3f51d26dd20e7
"
openstack%2Fheat~stable%2Fvictoria~Ib54f5944cfd803baa4044858c097fc71f1ffb789,openstack/heat,stable/victoria,fix-queue-config,Ib54f5944cfd803baa4044858c097fc71f1ffb789,zuul: Declare queue at top level,MERGED,2022-09-28 03:27:11.000000000,2022-10-06 11:24:27.000000000,2022-10-06 11:21:56.000000000,1,1,0,859416,94cac44798a32fcdf027ee1905c69328890c5049,9,2,1,1,9816,Takashi Kajinami,kajinamit,"zuul: Declare queue at top level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This updates the job definition to use the top level
declaration instead.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: Ib54f5944cfd803baa4044858c097fc71f1ffb789
(cherry picked from commit 4a898171f0b512518aa94dbcdd58cfc707630af9)
(cherry picked from commit f4904ff7af40c8683d0dd3550eaf979fa90a2e47)
(cherry picked from commit 782da94b34d17b2bf06ba8bf06f43c091c52266f)
(cherry picked from commit 167ece3673f6db5db8694dff9644a73216697185)
"
openstack%2Fbarbican-tempest-plugin~master~I34753317a8a80656a460c2fc6104fd2c9827f838,openstack/barbican-tempest-plugin,master,,I34753317a8a80656a460c2fc6104fd2c9827f838,"Add train, ussuri and victoria integration jobs",MERGED,2022-10-05 18:59:47.000000000,2022-10-06 10:45:14.000000000,2022-10-06 10:45:14.000000000,36,0,0,860491,0eebe182c887603033315eaab837d30c1b48bd17,6,5,1,1,7973,Douglas Mendiz√°bal,dougmendizabal,"Add train, ussuri and victoria integration jobs

This patch adds the missing train, ussuri, and victoria jobs to the zuul
config.  This should help fix the gates for those stable banches which
are currently failing because they are attempting to test newer APIs
(e.g. Secret Consumers)

Change-Id: I34753317a8a80656a460c2fc6104fd2c9827f838
"
openstack%2Fkolla-ansible~master~Icc805647fe8d1fe61cd7910c087510309e81e65f,openstack/kolla-ansible,master,,Icc805647fe8d1fe61cd7910c087510309e81e65f,Run testssl.sh against HAProxy on tls scenario,ABANDONED,2022-01-05 11:27:07.000000000,2022-10-06 10:43:54.000000000,,42,3,3,823499,99250aca19060fc441c7a87fc44c800b8fbbca34,60,1,23,3,22629,Michal Nasiadka,mnasiadka,"Run testssl.sh against HAProxy on tls scenario

Change-Id: Icc805647fe8d1fe61cd7910c087510309e81e65f
"
openstack%2Fmagnum-tempest-plugin~master~I7d520a314c5a5a486e0aa7c8e14240acb3a49e88,openstack/magnum-tempest-plugin,master,,I7d520a314c5a5a486e0aa7c8e14240acb3a49e88,DNM: Enable disabled tests and troubleshoot,ABANDONED,2022-01-20 17:08:18.000000000,2022-10-06 10:43:39.000000000,,1,1,0,825656,5d07cdce037cba1f85c6368f105772727ce729c4,8,1,4,1,22629,Michal Nasiadka,mnasiadka,"DNM: Enable disabled tests and troubleshoot

Change-Id: I7d520a314c5a5a486e0aa7c8e14240acb3a49e88
"
openstack%2Fkayobe~master~I5868b6e3e66fce9c18ef495c12a932b0ddbc3024,openstack/kayobe,master,,I5868b6e3e66fce9c18ef495c12a932b0ddbc3024,[DNM]: debug clouds.yaml issues,ABANDONED,2022-09-27 14:57:44.000000000,2022-10-06 10:43:22.000000000,,1,0,1,859442,4c2daf6a6411f903887081350823be0ee014a304,8,1,3,1,22629,Michal Nasiadka,mnasiadka,"[DNM]: debug clouds.yaml issues

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/859618
Change-Id: I5868b6e3e66fce9c18ef495c12a932b0ddbc3024
"
openstack%2Fneutron~master~I077a8409773ca4ad057cb45d446971a2c3a3703f,openstack/neutron,master,bug/1990229,I077a8409773ca4ad057cb45d446971a2c3a3703f,Bump minimum OVN version to v21.06.0,MERGED,2022-10-03 10:35:09.000000000,2022-10-06 10:36:20.000000000,2022-10-06 10:33:46.000000000,12,12,1,860078,7b15ad94339fd59785f409eb7903ddd08a55cfa7,13,4,1,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Bump minimum OVN version to v21.06.0

Bumped minimum OVN version of ""neutron-ovn-grenade-multinode"" job
to v21.06.0

Now ""neutron-ovn-tempest-ipv6-only"" and ""neutron-ovn-rally-task"" will
use this specific verison too, instead of using the default OS package
(in Ubuntu 20.04, the released package is v20.03.2).

Related-Bug: #1990229
Change-Id: I077a8409773ca4ad057cb45d446971a2c3a3703f
"
openstack%2Fcinder~master~I009d0748fdc829ca0b4f99bc9b70dadd19717d04,openstack/cinder,master,bug/1969643,I009d0748fdc829ca0b4f99bc9b70dadd19717d04,RBD: Flattening of child volumes during deletion,NEW,2022-03-27 14:44:51.000000000,2022-10-06 10:28:46.000000000,,403,241,145,835384,09555fe086beeb39ac2e08c2bbca56bfcd8d4eac,522,8,28,2,20813,Sofia Enriquez,enriquetaso,"RBD: Flattening of child volumes during deletion

This patch allows delete_volume and delete_snapshot calls
to fail less often when using RBD volume clones and snapshots.

RBD clone v2 support allows remove() to pass in situations
where it would previously fail, but it still fails with an
ImageBusy error in some situations.  For example:

 volume1
   -> snapshot s1 of volume 1
     -> volume2 cloned from snapshot 1
Deleting snapshot s1 would fail with ImageBusy.

This is fixed by using RBD flatten operations to break
dependencies between volumes/snapshots and other RBD volumes
or snapshots.

Delete now works as follows:
  1. Attempt RBD remove()
     This is the ""fast path"" for removing a simple volume
     that involves no extra overhead.
  2. If busy and the volume has child dependencies,
     flatten those dependencies with RBD flatten()
  3. Attempt RBD remove() again
     This will succeed in more cases than (1) would have.
  4. Use trash_move() instead to move the image to the trash
     instead of remove().
     This allows Cinder deletion of a volume (volume1) to proceed
     in the scenario where volume2 was cloned from snapshot s1 of
     volume1, and snapshot s1 has been trashed and not fully
     deleted from the RBD backend.  (Snapshots in the trash
     namespace are no longer visible but are still in the
     dependency chain.)

This allows Cinder deletions to succeed in most scenarios where
they would previously fail.

A new configuration option, rbd_concurrent_flatten_operations, was
introduced to limit how many flatten calls can be made at the same time.
This is to prevent overloading the backend. The default value is 3.

Co-Author-By: Eric Harney <eharney@redhat.com>
Co-Author-By: Sofia Enriquez <lsofia.enriquez@gmail.com>

Depends-On: I281f881ad565e565839522ddf02057f7545c7146
Closes-Bug: #1969643
Change-Id: I009d0748fdc829ca0b4f99bc9b70dadd19717d04
"
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fxena~Ia26c9a73f33a3686b14a03575e1ffe5730651218,openstack/openstack-ansible-rabbitmq_server,stable/xena,,Ia26c9a73f33a3686b14a03575e1ffe5730651218,Upgrade erlang version,MERGED,2022-10-04 07:29:54.000000000,2022-10-06 10:28:01.000000000,2022-10-06 10:26:55.000000000,6,2,0,860208,567ce279db5862a5c163892636e932fd88f62486,9,4,1,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Upgrade erlang version

Erlang 24.1 has been completely removed from cloudsmith repo. With that
erlang version has been bumped to 24.2 which is latest erlang compatible
with rabbitmq 3.9.8.

Change-Id: Ia26c9a73f33a3686b14a03575e1ffe5730651218
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~I097b8c678a0744f31db04d0a402a2bba793f6824,openstack/openstack-ansible-rabbitmq_server,master,,I097b8c678a0744f31db04d0a402a2bba793f6824,Update rabbitmq to 3.10.7-1,MERGED,2022-09-06 01:10:27.000000000,2022-10-06 10:25:02.000000000,2022-10-06 10:23:35.000000000,4,46,7,855985,2e2ef998f59b649f59a3eb57d401be81a54c9eb9,24,3,5,3,7353,Kevin Carter,cloudnull,"Update rabbitmq to 3.10.7-1

Bigger number, moar better.

Change-Id: I097b8c678a0744f31db04d0a402a2bba793f6824
Signed-off-by: Kevin Carter <kevin@cloudnull.com>
"
openstack%2Freleases~master~I1c445e5868a055c26c31a5ff021e3374bba34ff1,openstack/releases,master,pike-eol,I1c445e5868a055c26c31a5ff021e3374bba34ff1,[mistral] Transition Pike to End of Life,MERGED,2022-07-29 15:58:09.000000000,2022-10-06 10:14:46.000000000,2022-10-06 10:14:46.000000000,16,0,2,851567,78711d8624cc6170f4001f2f121f9a21bb7707c6,8,5,1,3,17685,Elod Illes,elod.illes,"[mistral] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I1c445e5868a055c26c31a5ff021e3374bba34ff1
"
openstack%2Freleases~master~I4c83688caf4d4ec92ef1fadf19160eeb6c50e4fb,openstack/releases,master,pike-eol,I4c83688caf4d4ec92ef1fadf19160eeb6c50e4fb,[murano] Transition Pike to End of Life,MERGED,2022-07-29 16:05:30.000000000,2022-10-06 10:08:36.000000000,2022-10-06 10:08:36.000000000,16,0,2,851591,7ec51d3b4a7e792d6ba086d3ce92242878c418f7,12,4,2,4,17685,Elod Illes,elod.illes,"[murano] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I4c83688caf4d4ec92ef1fadf19160eeb6c50e4fb
"
openstack%2Freleases~master~I0aff1b575de1759ef2e91497b0f96faae35a310b,openstack/releases,master,pike-eol,I0aff1b575de1759ef2e91497b0f96faae35a310b,[senlin] Transition Pike to End of Life,MERGED,2022-07-29 16:01:18.000000000,2022-10-06 10:08:33.000000000,2022-10-06 10:08:33.000000000,12,0,2,851578,6ed98e4e64885255f02395745f7c3a56a65329aa,10,4,1,3,17685,Elod Illes,elod.illes,"[senlin] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I0aff1b575de1759ef2e91497b0f96faae35a310b
"
openstack%2Fheat-dashboard~stable%2Fwallaby~I7dc431aea5d800f000826cb371c4f1e1c89dc302,openstack/heat-dashboard,stable/wallaby,drop-l-c,I7dc431aea5d800f000826cb371c4f1e1c89dc302,Drop lower-constraints.txt and its testing,MERGED,2022-07-13 01:25:07.000000000,2022-10-06 10:03:30.000000000,2022-10-06 10:00:58.000000000,4,156,0,849596,904cf330f5e8385be970e75a0c4ae1ffabdb5a37,8,3,1,4,9816,Takashi Kajinami,kajinamit,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Conflicts:
	.zuul.yaml
	lower-constraints.txt

Change-Id: I7dc431aea5d800f000826cb371c4f1e1c89dc302
(cherry picked from commit 866d4bbcc55d3826d9a38962036823af0973474c)
(cherry picked from commit 36ae65ee9da09aa486541740b58ffd6aea748513)
(cherry picked from commit 4d1ce41ba402574ce25e854d47348be507b93e3f)
"
openstack%2Freleases~master~I7de903e699081570aee18afc4873dbc383068a09,openstack/releases,master,kolla-stable-monthly,I7de903e699081570aee18afc4873dbc383068a09,Tag monthly kolla stable releases,MERGED,2022-10-06 05:09:12.000000000,2022-10-06 10:03:14.000000000,2022-10-06 10:03:14.000000000,50,0,1,860521,f207e44a128dbd7510e9c6df8cdd7f0f0643f6ee,9,4,1,10,13252,Dr. Jens Harbott,jrosenboom,"Tag monthly kolla stable releases

Change-Id: I7de903e699081570aee18afc4873dbc383068a09
"
openstack%2Ftripleo-heat-templates~master~Iefebbe64883bd4be1a838ffa650fb9e86f23a3f4,openstack/tripleo-heat-templates,master,add-NovaHWMachineType-value,Iefebbe64883bd4be1a838ffa650fb9e86f23a3f4,Create separate ovb-ha file for downstream,ABANDONED,2022-09-29 07:34:15.000000000,2022-10-06 10:02:05.000000000,,2,0,6,859783,0b5115db3b9bbaadff410a44b92c1484ecb66119,12,4,2,1,20182,Bhagyashri Shewale,bhagyashris,"Create separate ovb-ha file for downstream

As we are currently facing ovb job failure on rhos17.1 on rhel8
due to tempest tests failure because of recently changed in
the value of NovaHWMachineType [1] so created a separate file
to add NovaHWMachineType: x86_64=q35 .

[1]: https://code.engineering.redhat.com/gerrit/c/openstack-tripleo-heat-templates/+/417307/4/deployment/nova/nova-compute-container-puppet.yaml#436

Related-bz: #2110535 (https://bugzilla.redhat.com/show_bug.cgi?id=2110535)
Change-Id: Iefebbe64883bd4be1a838ffa650fb9e86f23a3f4
"
openstack%2Freleases~master~Id6117a0885c25920816512268776e94fdc251c6f,openstack/releases,master,,Id6117a0885c25920816512268776e94fdc251c6f,New release of puppet-swift for Yoga,MERGED,2022-09-30 06:47:08.000000000,2022-10-06 09:53:45.000000000,2022-10-06 09:53:45.000000000,4,0,1,859937,c9019f5a3c863a3901304ffe700ba33ab957c9ea,16,6,3,1,16312,Alfredo Moralejo,amoralej,"New release of puppet-swift for Yoga

It includes new features as customizing internal-client.conf in [1].

[1] https://review.opendev.org/c/openstack/puppet-swift/+/853641

Depends-On: https://review.opendev.org/c/openstack/puppet-swift/+/859942
Change-Id: Id6117a0885c25920816512268776e94fdc251c6f
"
openstack%2Ftripleo-ci~master~I8849e269a185b1a8e0722effbd8ce8400e5dab9c,openstack/tripleo-ci,master,,I8849e269a185b1a8e0722effbd8ce8400e5dab9c,Remove victoria standalone and undercloud upgrade jobs,NEW,2022-05-12 10:14:01.000000000,2022-10-06 09:47:44.000000000,,33,70,1,841568,823fbe58c4259af55f59d972dd10081c876c343f,4,8,1,2,8449,Marios Andreou,marios,"Remove victoria standalone and undercloud upgrade jobs

The ussuri content provider is broken by related-bug and since
Ussuri is EOL we cannot fix it (no tripleo-common to post the fix
like [1]).

Victoria is currently in EM and will be moving to EOL soon.

[1] https://review.opendev.org/c/openstack/tripleo-common/+/841549/

Related-Bug: 1973115
Change-Id: I8849e269a185b1a8e0722effbd8ce8400e5dab9c
"
openstack%2Fansible-collections-openstack~master~Ieb624b76627b5127d7a6c4d95233bbd5c2f16182,openstack/ansible-collections-openstack,master,sdk-warning,Ieb624b76627b5127d7a6c4d95233bbd5c2f16182,Ensure openstacksdk compatibility in inventory plugin,MERGED,2022-09-30 06:34:28.000000000,2022-10-06 09:45:20.000000000,2022-10-06 09:45:20.000000000,58,54,1,859936,6ab3d76696e6dda36aa5499859a1aea9e8ca0478,11,4,1,2,32962,Jakob Meng,jakobmeng@web.de,"Ensure openstacksdk compatibility in inventory plugin

Story: 2010337
Task: 46470

Change-Id: Ieb624b76627b5127d7a6c4d95233bbd5c2f16182
(cherry picked from commit e8bba38e2e78b0352f4ce5a93b8ebb43ce7714ed)
"
openstack%2Freleases~master~I2a607d5ea8950b7edc7ad84caf29d08db987a4b4,openstack/releases,master,barbican-sec-xena,I2a607d5ea8950b7edc7ad84caf29d08db987a4b4,[xena] [security]¬†Release Barbican 13.0.1,MERGED,2022-09-12 15:48:51.000000000,2022-10-06 09:44:43.000000000,2022-10-06 09:44:43.000000000,4,0,5,857207,edee519540ee898a420f38d659469f4146039b3b,18,7,3,1,16137,Tobias Urdin,tobasco,"[xena] [security]¬†Release Barbican 13.0.1

Release security changes merged into Xena.

Change-Id: I2a607d5ea8950b7edc7ad84caf29d08db987a4b4
"
openstack%2Freleases~master~I4e815e166c6b7b4346bf36d43aca1db5125c278c,openstack/releases,master,,I4e815e166c6b7b4346bf36d43aca1db5125c278c,Release devstack-tools 2.0.0,MERGED,2022-09-21 09:51:09.000000000,2022-10-06 09:39:42.000000000,2022-10-06 09:39:42.000000000,4,0,6,858655,ab9f2b000be0f07c067f6ebdf9711e51530e3f1e,17,5,2,1,22873,Martin Kopec,mkopec,"Release devstack-tools 2.0.0

Support for python 3.6 and 3.7 has been dropped.

Change-Id: I4e815e166c6b7b4346bf36d43aca1db5125c278c
"
openstack%2Freleases~master~I60c615fd80a8fb8fbf824e7a78c40d4c387cdbc1,openstack/releases,master,hacking,I60c615fd80a8fb8fbf824e7a78c40d4c387cdbc1,hacking: release 5.0.0,MERGED,2022-07-28 01:44:29.000000000,2022-10-06 09:39:39.000000000,2022-10-06 09:39:39.000000000,4,0,11,851273,394b76ea44d27bcb1de2b867a14459c3448a0be5,19,6,2,1,7118,Ian Wienand,iwienand,"hacking: release 5.0.0

This has dropped support for Python 3.6 and 3.7 since the last
release, hence the version jump.

Change-Id: I60c615fd80a8fb8fbf824e7a78c40d4c387cdbc1
"
openstack%2Freleases~master~I8e3dd673e3c0aa43bc56300588466aa22b7fa9bf,openstack/releases,master,,I8e3dd673e3c0aa43bc56300588466aa22b7fa9bf,Release bashate 2.1.1,MERGED,2022-09-21 21:45:44.000000000,2022-10-06 09:37:42.000000000,2022-10-06 09:37:42.000000000,4,0,5,858822,74852a70f99a3ef623c1bf0d1a388d8360ddd866,13,5,1,1,22873,Martin Kopec,mkopec,"Release bashate 2.1.1

Mainly one important change, one of the checks has been
extended for comments as well.

Change-Id: I8e3dd673e3c0aa43bc56300588466aa22b7fa9bf
"
openstack%2Fovn-octavia-provider~stable%2Fussuri~I91b29add2a5d2ca3d4eff4b8d6a88be16c42be51,openstack/ovn-octavia-provider,stable/ussuri,ussuri,I91b29add2a5d2ca3d4eff4b8d6a88be16c42be51,Avoid LB ERROR status on delete when LS/LR are already deleted,MERGED,2022-09-28 08:18:57.000000000,2022-10-06 09:29:06.000000000,2022-10-06 09:27:57.000000000,48,3,1,859534,c1976cf761a25a3e28ed28b22422ad8b80055a18,11,4,2,2,34451,Fernando Royo,froyo,"Avoid LB ERROR status on delete when LS/LR are already deleted

The delete operation of an LB lists all references to it (LS and
LR) and in a single transaction deletes them together with the
LB itself. If any of those deletions raise a RowNotFound exception,
the execution will report ERROR status.

This patch will reduce those situations, rechecking the command
that triggers the RowNotFound exception and passing in case a LS
or a LR was the culprit, deleting finally the LB and reporting as
a DELETED status. In other case, the exception is raised and
finally the LB will be reported as ERROR status.

Closes-Bug:#1990129

(manually cherry picked from commit f9ccb4c48627a200ef27dde60b01bccdccac4e45)

Depends-On: https://review.opendev.org/c/openstack/ovn-octavia-provider/+/859625

Change-Id: I91b29add2a5d2ca3d4eff4b8d6a88be16c42be51
(cherry picked from commit f9ccb4c48627a200ef27dde60b01bccdccac4e45)
"
openstack%2Fovn-octavia-provider~stable%2Fussuri~Iad838349303bb25e92c12e92187541da17eec8ee,openstack/ovn-octavia-provider,stable/ussuri,,Iad838349303bb25e92c12e92187541da17eec8ee,[stable-only] Cap virtualenv for py37,MERGED,2022-09-28 14:38:48.000000000,2022-10-06 09:27:32.000000000,2022-10-06 09:26:32.000000000,4,0,1,859625,8d8dbd8b1d040b1b7ba620e6b55602bde06b40fa,9,5,1,1,34451,Fernando Royo,froyo,"[stable-only] Cap virtualenv for py37

py37 test started to fail with latest virtualenv (20.16.4) as it
bundles setuptools 65.3.0, which causes installation problems under
py37. (Note: with py38 the problem does not occur

This patch sets virtualenv<20.16.4 to unblock the gate as
virtualenv 20.16.3 bundles setuptools 63.4.1, with which py37 gate
works well.

Co-Authored-By: Elod Illes <elod.illes@est.tech>
Change-Id: Iad838349303bb25e92c12e92187541da17eec8ee
"
openstack%2Freleases~master~Iedb0e5d814ea47d07be81803ef3cdbea4731229e,openstack/releases,master,,Iedb0e5d814ea47d07be81803ef3cdbea4731229e,Update Barbican release liaison,MERGED,2022-10-03 20:29:57.000000000,2022-10-06 09:23:10.000000000,2022-10-06 09:23:10.000000000,3,3,1,860152,17ac763d589278eff9c8163624d3084bf1b3e3cd,7,4,1,1,7973,Douglas Mendiz√°bal,dougmendizabal,"Update Barbican release liaison

This patch updates the Barbican Team release liaison to remove Dave
McCowan and add Douglas Mendiz√°bal instead.

Dave was an awesome contributor to Barbican, but has unfortunately moved
on to other projects and is no longer contributing to OpenStack.

Change-Id: Iedb0e5d814ea47d07be81803ef3cdbea4731229e
"
openstack%2Freleases~master~I677502cb1642d4c53850feea4fce66ffc564e3b2,openstack/releases,master,barbican-sec-yoga,I677502cb1642d4c53850feea4fce66ffc564e3b2,[yoga] [security] Release Barbican 14.0.1,MERGED,2022-09-12 15:47:35.000000000,2022-10-06 09:20:22.000000000,2022-10-06 09:20:22.000000000,4,0,12,857206,940cba91dc29c5b699588faf821446f878cb4280,25,6,3,1,16137,Tobias Urdin,tobasco,"[yoga] [security] Release Barbican 14.0.1

Release security changes merged into Yoga.

Change-Id: I677502cb1642d4c53850feea4fce66ffc564e3b2
"
openstack%2Ftripleo-heat-templates~master~Ifb731cfe4d95190625dd139cc547ae0af308c1de,openstack/tripleo-heat-templates,master,bug/1946239,Ifb731cfe4d95190625dd139cc547ae0af308c1de,WIP - Use network.dns_domain if defined,ABANDONED,2021-10-07 14:38:17.000000000,2022-10-06 09:12:39.000000000,,12,0,4,813037,3392f2692fef081407b54d9bf6e8e561ea376967,8,2,1,2,24245,Harald Jens√•s,harald.jensas,"WIP - Use network.dns_domain if defined

Network v2 allows specifying the network dns_domain for
networks. Use that to NetHostMap and legacy networks when
it is defined. If it is not defined, fall back to joinging
network.name.lower() with CloudDomain.

Change-Id: Ifb731cfe4d95190625dd139cc547ae0af308c1de
"
openstack%2Fneutron~master~I906a13ef6c2f5426a1ac7c4ae24dbf168a0f371a,openstack/neutron,master,unnecessary-comprehension,I906a13ef6c2f5426a1ac7c4ae24dbf168a0f371a,Remove some unnecessary list comprehensions,MERGED,2022-10-05 22:09:42.000000000,2022-10-06 09:01:14.000000000,2022-10-06 08:59:53.000000000,4,4,0,860503,3d0f1ef4fabc45807b6059224ad74aac70537244,12,5,1,4,1131,Brian Haley,brian-haley,"Remove some unnecessary list comprehensions

Just use list() instead. Noticed while looking at something else.

Trivialfix

Change-Id: I906a13ef6c2f5426a1ac7c4ae24dbf168a0f371a
"
openstack%2Fansible-collections-openstack~master~If3d8cd1491266e3332f478267fc41771f280b9a8,openstack/ansible-collections-openstack,master,sdk-warning,If3d8cd1491266e3332f478267fc41771f280b9a8,Dropped minimum OpenStack SDK version in inventory plugin,MERGED,2022-09-30 06:31:14.000000000,2022-10-06 08:59:00.000000000,2022-10-06 08:59:00.000000000,3,3,0,859934,40d913d2a63c298ceff9c5fcf404512752fffa9b,7,3,1,1,32962,Jakob Meng,jakobmeng@web.de,"Dropped minimum OpenStack SDK version in inventory plugin

We require openstacksdk>=0.99.0 for this collection but we do not
specify versions in module requirements. We probably should do so,
but then consistently across all modules and plugins.

Change-Id: If3d8cd1491266e3332f478267fc41771f280b9a8
"
openstack%2Ftripleo-ansible~master~Ia52b766b1532c7c47f96c1d1c61ad18fad590044,openstack/tripleo-ansible,master,,Ia52b766b1532c7c47f96c1d1c61ad18fad590044,Add template file for bonding + controller node without external net,MERGED,2022-07-07 12:47:33.000000000,2022-10-06 08:53:15.000000000,2022-10-06 08:53:15.000000000,39,0,0,848953,b15d7ca66b2478cc31ee49815b97245f1c96b332,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Add template file for bonding + controller node without external net

... to replace the remaining usage of NetSoftwareConfig resource.

Change-Id: Ia52b766b1532c7c47f96c1d1c61ad18fad590044
"
openstack%2Fkayobe~master~Ibb00f6d079442a8509411ae8a71d74fd7bd8cccd,openstack/kayobe,master,,Ibb00f6d079442a8509411ae8a71d74fd7bd8cccd,Bump up Ansible supported versions to 5.x/6.x,NEW,2022-10-06 07:55:53.000000000,2022-10-06 08:51:35.000000000,,8,2,0,860529,9f6714afe6e58a500416deb2461b8451fd397eaa,2,1,1,3,22629,Michal Nasiadka,mnasiadka,"Bump up Ansible supported versions to 5.x/6.x

This change bumps up the maximum supported Ansible version to 4.x
(ansible-core 2.13.x) and minimum to 5.x. This synchronises Kayobe with
Kolla Ansible.

Change-Id: Ibb00f6d079442a8509411ae8a71d74fd7bd8cccd
"
openstack%2Fmistral~stable%2Fxena~I15502818594ce73a265adc841707609c17270fc3,openstack/mistral,stable/xena,,I15502818594ce73a265adc841707609c17270fc3,DNM: Pass custom HTTP header by default,ABANDONED,2022-10-05 08:44:36.000000000,2022-10-06 08:44:36.000000000,,2,1,0,860348,4ad476f137720c81cc56e5caa2346c4055e30c97,3,1,1,1,16137,Tobias Urdin,tobasco,"DNM: Pass custom HTTP header by default

Change-Id: I15502818594ce73a265adc841707609c17270fc3
"
openstack%2Fcinder-specs~master~I3464629ea2d1d42b7e80cebd2581178461ca5b7f,openstack/cinder-specs,master,rbd_qos,I3464629ea2d1d42b7e80cebd2581178461ca5b7f,Implement backend QOS for rbd driver,NEW,2021-12-01 14:07:56.000000000,2022-10-06 08:29:08.000000000,,193,0,42,820030,8065df89f1c20330b627f17de8b2513c96892eb0,30,7,6,1,32051,Danny Webb,dswebb,"Implement backend QOS for rbd driver

Specification for a backend QOS spec implementation of the RBD driver

Implements: rbd-backend-qos

Change-Id: I3464629ea2d1d42b7e80cebd2581178461ca5b7f
"
openstack%2Fceilometer~master~Ibde27d0053ff1446d1511bc1d9b4884b1ed31018,openstack/ceilometer,master,cpu-util-libvirt,Ibde27d0053ff1446d1511bc1d9b4884b1ed31018,WiP Add cpu_util metric to libvirt,NEW,2021-07-08 06:38:24.000000000,2022-10-06 08:28:27.000000000,,11,0,7,799963,0b7b7629e72f69d500b17c9305ee7cff6eb9bb71,14,2,2,2,9542,Pavlo Shchelokovskyy,pshchelo,"WiP Add cpu_util metric to libvirt

current alarming and aggregation based on CPU utilization for libvirt
instances is next to impossible.
The raw 'cpu' metric is cumulative and is very unintuitive how to transform
it to simple 'cpu load / cpu utilization' which is easier to take action
on even if it may be not very precise.

This patch attempts to add this metric, or at least some sort of it,
for libvirt instances - as pre-calculated value that still, as 'cpu',
must be consumed via 'rate:...' aggregations in Gnocchi.

Change-Id: Ibde27d0053ff1446d1511bc1d9b4884b1ed31018
"
openstack%2Fheat~stable%2Fwallaby~Ib54f5944cfd803baa4044858c097fc71f1ffb789,openstack/heat,stable/wallaby,fix-queue-config,Ib54f5944cfd803baa4044858c097fc71f1ffb789,zuul: Declare queue at top level,MERGED,2022-09-27 04:13:56.000000000,2022-10-06 08:22:57.000000000,2022-10-06 08:20:47.000000000,1,1,0,859371,167ece3673f6db5db8694dff9644a73216697185,10,3,1,1,9816,Takashi Kajinami,kajinamit,"zuul: Declare queue at top level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This updates the job definition to use the top level
declaration instead.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: Ib54f5944cfd803baa4044858c097fc71f1ffb789
(cherry picked from commit 4a898171f0b512518aa94dbcdd58cfc707630af9)
(cherry picked from commit f4904ff7af40c8683d0dd3550eaf979fa90a2e47)
(cherry picked from commit 782da94b34d17b2bf06ba8bf06f43c091c52266f)
"
openstack%2Fopenstack-tempest-skiplist~master~I1c3842f544b07a02ca9a08cb9b723d7f4416e133,openstack/openstack-tempest-skiplist,master,oooci_zed,I1c3842f544b07a02ca9a08cb9b723d7f4416e133,Add zed release to list of skipped tests,MERGED,2022-10-05 11:38:49.000000000,2022-10-06 08:08:44.000000000,2022-10-06 08:07:43.000000000,159,3,2,860403,8438eff26365ff30035152978417821a517659fa,9,3,1,1,8367,Arx Cruz,arxcruz,"Add zed release to list of skipped tests

Add zed release for tests being skipped,
based on the master release. This means
the zed release as well as lp and bz are
copied from master release.

Change-Id: I1c3842f544b07a02ca9a08cb9b723d7f4416e133
"
openstack%2Ftripleo-ci~master~I3ab8d9bc7ca1e9b92692fd5a8521b9f138572c6e,openstack/tripleo-ci,master,bug/1988550,I3ab8d9bc7ca1e9b92692fd5a8521b9f138572c6e,Trigger ipa job on service-principals changes,NEW,2022-10-06 04:34:42.000000000,2022-10-06 07:36:25.000000000,,1,0,0,860519,395e9548564647aecbe9a9cf4c6bd1e6bf4c36a0,3,2,1,1,34754,Cristian Le,lecris,"Trigger ipa job on service-principals changes

Signed-off-by: Cristian Le <git@lecris.me>
Change-Id: I3ab8d9bc7ca1e9b92692fd5a8521b9f138572c6e
"
openstack%2Fmanila-tempest-plugin~master~Ia40e014527756efc9e182d97ffc11dffb4924a64,openstack/manila-tempest-plugin,master,access_rule,Ia40e014527756efc9e182d97ffc11dffb4924a64,Move access rule creation to the test level method,ABANDONED,2022-04-27 09:59:57.000000000,2022-10-06 07:30:04.000000000,,9,9,0,839506,0689fa835b7a0fb304171c53f3aacdd04f4d2a0e,7,5,2,1,19262,Liron Kuchlani,lkuchlan,"Move access rule creation to the test level method

The access rule is currently being created in the level of the
class in ""resource_setup"" method, however, only one single test
uses it.
This causes to failure with the deletion of the share, the share
stuck in ""error_deleting"" state.
Moving the creation of the access rule to the test level prevents
this issue.

Change-Id: Ia40e014527756efc9e182d97ffc11dffb4924a64
"
openstack%2Fglance-tempest-plugin~master~Ifa31c201707195bb081abbf254ecdd253a5faa14,openstack/glance-tempest-plugin,master,yoga-xena-pin-tempest,Ifa31c201707195bb081abbf254ecdd253a5faa14,Pin glance-tempest-plugin for yoga/xena jobs,MERGED,2022-09-12 06:43:18.000000000,2022-10-06 07:23:16.000000000,2022-10-06 07:23:16.000000000,14,1,16,856989,4a614cade2061dedd1c0704428f3b04c05d87ca3,25,9,7,1,19138,Pranali Deore,PranaliD,"Pin glance-tempest-plugin for yoga/xena jobs

To have compatible glance-tempest-plugin version for
stable/xena & stable/yoga testing, we need to pin
it with 0.3.0.

Since glance-tempest-plugin have only rbac tests and as
per SRbac support in glance branch wise, pinned the plugin
with the specific tag for stable branches by keeping job name
same with different branches which are mutually exclusive.

Change-Id: Ifa31c201707195bb081abbf254ecdd253a5faa14
"
openstack%2Fcharm-cinder~stable%2Fwallaby~I04ccd451bb66c17ce12694002fa4f3e149146ab5,openstack/charm-cinder,stable/wallaby,test-tests,I04ccd451bb66c17ce12694002fa4f3e149146ab5,Empty commit to test functional tests,ABANDONED,2022-10-06 05:07:23.000000000,2022-10-06 07:18:15.000000000,,0,0,0,860520,c1374a89420c4043a6efd867b7384e81513460eb,4,2,1,0,34352,Samuel Walladge,swalladge,"Empty commit to test functional tests

Change-Id: I04ccd451bb66c17ce12694002fa4f3e149146ab5
"
openstack%2Ftripleo-heat-templates~master~Ia513338082359442207fc23141bf032f2794df03,openstack/tripleo-heat-templates,master,role-image-prepare,Ia513338082359442207fc23141bf032f2794df03,Add release note for role specific ContainerImagePrepare,MERGED,2022-09-26 05:09:25.000000000,2022-10-06 05:38:26.000000000,2022-10-06 05:37:25.000000000,6,0,3,859210,57e8fc59022d04fe3f374e12907bd8bdcf411869,10,3,1,1,9816,Takashi Kajinami,kajinamit,"Add release note for role specific ContainerImagePrepare

Depends-on: https://review.opendev.org/851686
Change-Id: Ia513338082359442207fc23141bf032f2794df03
"
openstack%2Fdiskimage-builder~master~Iafe3283665a437d0a9cf83a93ff66c0613310b69,openstack/diskimage-builder,master,,Iafe3283665a437d0a9cf83a93ff66c0613310b69,Add variable for check installing python3 in yum element,NEW,2022-09-09 08:16:29.000000000,2022-10-06 04:46:36.000000000,,17,15,9,856577,eb29ed9d99da516a4bafa29c2989053347c7afb8,21,3,4,2,35208,Frikin Evgenii,efrikin,"Add variable for check installing python3 in yum element

If client have not internet or have some limitation, such as firewall/proxy/etc. this step will stop build image with error. Client must have possible override of URL for pass this step.

Change-Id: Iafe3283665a437d0a9cf83a93ff66c0613310b69
"
openstack%2Fcharm-cinder-ceph~master~Ie300accae11e39c61442334352d4921242c412a8,openstack/charm-cinder-ceph,master,,Ie300accae11e39c61442334352d4921242c412a8,Add Python3 antelope unit tests,ABANDONED,2022-09-21 11:49:35.000000000,2022-10-06 04:43:33.000000000,,1,1,2,858684,377570a0c5f08de94d4b80eb40102fe9b59b61a6,8,2,1,1,30615,Tushar Trambak Gite,tushargite96,"Add Python3 antelope unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ie300accae11e39c61442334352d4921242c412a8
"
openstack%2Fcharm-cinder-lvm~master~I25da5b11785e1947939bf01c3952a28d4590a046,openstack/charm-cinder-lvm,master,,I25da5b11785e1947939bf01c3952a28d4590a046,Add Python3 antelope unit tests,ABANDONED,2022-09-21 11:49:46.000000000,2022-10-06 04:43:28.000000000,,5,1,6,858685,6cef5a54ca7716b67f140dcada08f6436a86ff59,20,2,4,2,30615,Tushar Trambak Gite,tushargite96,"Add Python3 antelope unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I25da5b11785e1947939bf01c3952a28d4590a046
"
openstack%2Fcharm-cinder~master~I69d90c42297710c5e354f1bdd9f028db3b0b4d83,openstack/charm-cinder,master,,I69d90c42297710c5e354f1bdd9f028db3b0b4d83,Add Python3 antelope unit tests,ABANDONED,2022-09-21 11:50:10.000000000,2022-10-06 04:43:25.000000000,,1,1,5,858686,2a2850da31df6660ac733a699d965d71c1bede9e,17,2,4,1,30615,Tushar Trambak Gite,tushargite96,"Add Python3 antelope unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I69d90c42297710c5e354f1bdd9f028db3b0b4d83
"
openstack%2Fcharm-cinder-backup~master~Iac3f9d999583dbc435da7f963374837c6303c94e,openstack/charm-cinder-backup,master,,Iac3f9d999583dbc435da7f963374837c6303c94e,Add Python3 antelope unit tests,ABANDONED,2022-09-21 11:48:44.000000000,2022-10-06 04:43:22.000000000,,1,1,2,858681,1d3ed76d27050d4c1313f7bdf3138e4bea5d66d0,12,2,3,1,30615,Tushar Trambak Gite,tushargite96,"Add Python3 antelope unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Iac3f9d999583dbc435da7f963374837c6303c94e
"
openstack%2Fcharm-cinder-solidfire~master~I93648bf7a7a0569d67c600551ecbc44948101cf7,openstack/charm-cinder-solidfire,master,,I93648bf7a7a0569d67c600551ecbc44948101cf7,Add Python3 antelope unit tests,ABANDONED,2022-09-21 11:50:39.000000000,2022-10-06 04:43:19.000000000,,1,1,4,858688,639a3e238a64774129a847244e10526c5c784d94,14,2,3,1,30615,Tushar Trambak Gite,tushargite96,"Add Python3 antelope unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I93648bf7a7a0569d67c600551ecbc44948101cf7
"
openstack%2Fcharm-cinder-nimblestorage~master~I6ecb2fe0898d9e44a30e349a5feb203a56caa603,openstack/charm-cinder-nimblestorage,master,,I6ecb2fe0898d9e44a30e349a5feb203a56caa603,Add Python3 antelope unit tests,ABANDONED,2022-09-21 11:50:55.000000000,2022-10-06 04:43:15.000000000,,1,1,3,858689,280720d97cd627b19a27ba80456408ed50a9514c,13,4,3,1,30615,Tushar Trambak Gite,tushargite96,"Add Python3 antelope unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I6ecb2fe0898d9e44a30e349a5feb203a56caa603
"
openstack%2Fcinder~master~I784b4c006ae0a509dcf519a2aff3313296d4674e,openstack/cinder,master,zanata/translations,I784b4c006ae0a509dcf519a2aff3313296d4674e,Imported Translations from Zanata,MERGED,2022-10-01 03:37:19.000000000,2022-10-06 04:24:08.000000000,2022-10-06 04:22:42.000000000,10,6,0,860044,e1eee5ce45ebd9329800ddf989fbdd1d235c075a,23,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I784b4c006ae0a509dcf519a2aff3313296d4674e
"
openstack%2Floci~master~I7482e9097a7c0a5b332907c9e5849f2fe48af473,openstack/loci,master,dnm_all_fixes,I7482e9097a7c0a5b332907c9e5849f2fe48af473,Update fetch_wheels to add Accept header,MERGED,2022-09-20 16:15:28.000000000,2022-10-06 04:10:38.000000000,2022-10-06 04:10:38.000000000,6,2,0,858551,2e4f6d555a249d81dc141a7f3cdd5f42f2e0f5ae,15,3,5,1,14119,Sam Yaple,SamYaple,"Update fetch_wheels to add Accept header

A private registry run from docker.io/registry:2 will use the Accept
content type added. This allows private repos to work:

  WHEELS=192.168.1.50:5000/privateloci/requirements:ubuntu

Also remove the simple distutils function we used ahead of its removal
in python3.12

Change-Id: I7482e9097a7c0a5b332907c9e5849f2fe48af473
"
openstack%2Floci~master~Ia7be53e84090cc8b80e1dd5753ba1460ff454851,openstack/loci,master,dnm_all_fixes,Ia7be53e84090cc8b80e1dd5753ba1460ff454851,Remove PYTHON3,MERGED,2022-09-21 18:52:22.000000000,2022-10-06 03:59:13.000000000,2022-10-06 03:59:13.000000000,18,35,1,858810,4ff506ae5cd88fd551945da3c7f9e0e99f5dd468,12,3,3,6,14119,Sam Yaple,SamYaple,"Remove PYTHON3

The python2 is long dead and the PYTHON3 flag has been noop for a while.

Change-Id: Ia7be53e84090cc8b80e1dd5753ba1460ff454851
Related-Id: I3f4f60756887ad07229cf522803b30d4e16463cd
"
openstack%2Floci~master~I282b7b0aefa8aabc1f5c6495564d13b70cd0ec5d,openstack/loci,master,dnm_all_fixes,I282b7b0aefa8aabc1f5c6495564d13b70cd0ec5d,Do not always install libapache2-mod-oauth2,MERGED,2022-09-21 18:54:38.000000000,2022-10-06 03:59:10.000000000,2022-10-06 03:59:10.000000000,17,5,1,858811,361fd6e1045a13c793b84335790e30b828eea7c2,14,3,4,2,14119,Sam Yaple,SamYaple,"Do not always install libapache2-mod-oauth2

This package is unavailable for 22.04 (the current LTS version of
Ubuntu). It is in 22.10 and may be backported to 22.04 through the
backports repo, but currently there is no prebuilt trusted source for
this package on 22.04.

This package is getting deployed on all ubuntu systems. In my opinion,
it should not have been merged, but we can gate the install around a
PROFILE='mod_oauth2' rather than revert the change entirely.

Related-Id: Ib3eac4269f7ac8365623f95a81b07a6436464ed0
Change-Id: I282b7b0aefa8aabc1f5c6495564d13b70cd0ec5d
"
openstack%2Fcinder~master~Iccfbe62406b6202446e974487e0f91465a5d0fa3,openstack/cinder,master,lvm-nvmet-shared,Iccfbe62406b6202446e974487e0f91465a5d0fa3,LVM nvmet: Add support for multiple ip addresses,NEW,2022-04-22 13:56:52.000000000,2022-10-06 02:58:44.000000000,,216,85,2,839064,e547f216d67058e8bc4da8d094cbfdaa9098b646,56,2,2,17,9535,Gorka Eguileor,Gorka,"LVM nvmet: Add support for multiple ip addresses

The nvmet target driver only supports single portals, which was all that
was available back on the original implementation, but now that it
supports the new connection information format it can provide
multiple portals.

This patch adds support to provide multiple portals when attaching a new
volume, that way os-brick can try the different portals when connecting a
volume until it finds one that works, making it more robust.

Thanks to this features it will also enable multipathing automatically
(without additional changes) once the NVMe-oF os-brick connector
supports it.

Since the new connection information format is necessary to pass
multiple portals it requires that the configuration option
``nvmeof_new_conn_info`` is set to ``true``.

The patch also deprecates the ``iscsi_secondary_ip_addresses``
configuration option in favor of the new
``target_secondary_ip_addresses``.  This is something we already did a
while back for ``iscsi_ip_address`` which was renamed in the same way to
``target_ip_address``.

Change-Id: Iccfbe62406b6202446e974487e0f91465a5d0fa3
"
openstack%2Fpuppet-tripleo~master~Ic3d2dc927f4ce2b118ee98811db74e4ac8dfb96a,openstack/puppet-tripleo,master,unified-quotas,Ic3d2dc927f4ce2b118ee98811db74e4ac8dfb96a,Glance: Include the required glance::limit class for unified quotas,NEW,2022-07-12 07:36:35.000000000,2022-10-06 01:46:22.000000000,,78,46,5,849458,85b7b6e5886ed53c46d00d62d6f009351296db69,24,4,11,2,19138,Pranali Deore,PranaliD,"Glance: Include the required glance::limit class for unified quotas

Including glance::limit for enabling unified quotas in glance
and glance::limit class requires a glance endpoint_id & password,
so adding thses 2 parameters in hieradata with their default value
'None'.

Change-Id: Ic3d2dc927f4ce2b118ee98811db74e4ac8dfb96a
"
openstack%2Ftacker-specs~master~I9c56ef2a1bbce716a37cac83e4316e37d989b386,openstack/tacker-specs,master,intro-antelope,I9c56ef2a1bbce716a37cac83e4316e37d989b386,Add 2023.1 specs directory,MERGED,2022-10-05 04:28:17.000000000,2022-10-06 01:33:11.000000000,2022-10-06 01:32:10.000000000,134,6,7,860342,949c4ce423abda4b1c40dfb24699140f36f9dec9,17,4,3,5,25701,Yasufumi Ogawa,yasufum,"Add 2023.1 specs directory

Using release number here. In Zed cycle, TC passed a resolution[1] and
updated the release Identification document[2] to use the release
number as primary identifier in the development cycle. Release name
will be used in marketting and release team tooling (until they are
migrated to work with release number) only.

[1] https://governance.openstack.org/tc/resolutions/20220524-release-identification-process.html
[2] https://governance.openstack.org/tc/reference/release-naming.html

Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: I9c56ef2a1bbce716a37cac83e4316e37d989b386
"
openstack%2Fironic~stable%2Fvictoria~Ibdfe0775065f3b27478305dd18929a291df3ee3c,openstack/ironic,stable/victoria,fast-track-bios-19-stable/xena-bugfix/18.1-stable/wallaby-stable/victoria,Ibdfe0775065f3b27478305dd18929a291df3ee3c,Do not reboot into nowhere after BIOS settings with fast-track,MERGED,2022-09-27 14:23:54.000000000,2022-10-06 01:24:34.000000000,2022-10-06 01:23:19.000000000,64,26,0,859411,f27fbdfe8d6e86318c156ac5bc6483df4cea4e4d,10,3,1,4,10342,Jay Faulkner,JayF,"Do not reboot into nowhere after BIOS settings with fast-track

Currently, the prepare_ramdisk implementation of the
redfish-virtual-media boot interface skips configuring an ISO in
fast-track mode. When rebooting after BIOS/RAID settings changes, we
need to enforce the correct ISO configuration.

Conflicts:
	ironic/drivers/modules/deploy_utils.py
	ironic/drivers/modules/redfish/bios.py

Change-Id: Ibdfe0775065f3b27478305dd18929a291df3ee3c
(cherry picked from commit 89f421b166915a22626dcb919382ce13f4588973)
(cherry picked from commit d85d7f8ac52f289b7b01096c65757b68791f4bd4)
(cherry picked from commit 66373aadc04974de0838abc43c5f9cf113781f1f)
(cherry picked from commit 67d8c30c0446ec3e641a8402c2cedd6e9b789ec3)
"
openstack%2Ftacker~master~I878eec30cc6d7de23b247cacc9dbad0124bacef0,openstack/tacker,master,ci-revert-temp-fix,I878eec30cc6d7de23b247cacc9dbad0124bacef0,CI: Revert temporary fixes for aodh and ceilometer,MERGED,2022-10-05 01:48:31.000000000,2022-10-06 01:23:31.000000000,2022-10-06 01:20:28.000000000,10,18,1,860331,ccf87eed4fa531106eabb935df1a9c9d06f37840,12,3,3,1,31857,Ayumu Ueha,ueha,"CI: Revert temporary fixes for aodh and ceilometer

This patch reverts the temporary CI fixes for issues of
python-aodhclient and ceilometer in the patch [1] and [2].

[1] https://review.opendev.org/c/openstack/tacker/+/819554
[2] https://review.opendev.org/c/openstack/tacker/+/851478

Signed-off-by: Ayumu Ueha <ueha.ayumu@fujitsu.com>
Change-Id: I878eec30cc6d7de23b247cacc9dbad0124bacef0
"
openstack%2Ftacker~master~If7893e5e2d4df868f844b9c769e9adc86a619e4f,openstack/tacker,master,ci-revert-temp-fix,If7893e5e2d4df868f844b9c769e9adc86a619e4f,CI: Revert temporary changes for Z release RC,MERGED,2022-10-05 01:22:41.000000000,2022-10-06 01:22:34.000000000,2022-10-06 01:20:27.000000000,3,9,1,860330,d8edcf11370c023acbc8dfac1f26b21e6fa7c56e,11,3,1,1,31857,Ayumu Ueha,ueha,"CI: Revert temporary changes for Z release RC

This patch reverts the changes made by the [1] patch with some jobs set
to non-voting for the Z release RC.

[1] https://review.opendev.org/c/openstack/tacker/+/857551

Signed-off-by: Ayumu Ueha <ueha.ayumu@fujitsu.com>
Change-Id: If7893e5e2d4df868f844b9c769e9adc86a619e4f
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I116253b60df1dc41237e06db9f6938c2bd3edd2e,openstack/tripleo-ansible,stable/wallaby,wallaby,I116253b60df1dc41237e06db9f6938c2bd3edd2e,Unbound: remove incorrect config of forwarding,MERGED,2022-09-27 16:16:09.000000000,2022-10-06 00:23:06.000000000,2022-10-06 00:23:06.000000000,10,11,0,859450,5bd2690e20a9c1e6e00c3b4d0887ca93f4a2b12e,7,3,1,2,6681,Brent Eagles,beagles,"Unbound: remove incorrect config of forwarding

Configuring forwarders is only valid if
tripleo_unbound_forward_resolvers is defined and should also never be
set to bind servers that are meant to be authoritative.

The intention is that the forwarder configuration only be generated if
tripleo_unbound_forward_resolvers is configured with actual values.
This patch includes a fix to the conditional to skip creating the file
and also removes it in case it the deployment parameters no longer
include tripleo_unbound_forward_resolvers on redeploy.

Change-Id: I116253b60df1dc41237e06db9f6938c2bd3edd2e
(cherry picked from commit e858bbdd8d237da72bf8bd1c3794dc7c11df1827)
"
openstack%2Fironic-lib~stable%2Frocky~If93ca57e1340b2ed39c02f673502c04d9b63c98c,openstack/ironic-lib,stable/rocky,,If93ca57e1340b2ed39c02f673502c04d9b63c98c,CI: Zuul no longer respects queue param,ABANDONED,2022-10-03 21:53:28.000000000,2022-10-05 21:14:32.000000000,,0,1,0,860178,2f0c5addd0a65a6bdcbab5eb3faa20e5d3cd776d,4,2,1,1,10342,Jay Faulkner,JayF,"CI: Zuul no longer respects queue param

Change-Id: If93ca57e1340b2ed39c02f673502c04d9b63c98c
"
openstack%2Fironic-lib~stable%2Fstein~If93ca57e1340b2ed39c02f673502c04d9b63c98c,openstack/ironic-lib,stable/stein,,If93ca57e1340b2ed39c02f673502c04d9b63c98c,CI: Zuul no longer respects queue param,ABANDONED,2022-10-03 21:53:15.000000000,2022-10-05 21:14:26.000000000,,0,1,0,860177,737eee0ed6db5282d2ad2d0e70f78b6668efd413,4,2,1,1,10342,Jay Faulkner,JayF,"CI: Zuul no longer respects queue param

Change-Id: If93ca57e1340b2ed39c02f673502c04d9b63c98c
"
openstack%2Fironic-lib~stable%2Frocky~I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a,openstack/ironic-lib,stable/rocky,,I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a,Returns disk_identifier for UEFI boot mode nodes,ABANDONED,2019-06-25 09:16:31.000000000,2022-10-05 21:14:13.000000000,,97,0,0,667299,ed3c8d7d657bf160bd359d3e75cd014e235f1c7f,9,3,2,2,20401,M V P Nitesh,mvpnitesh,"Returns disk_identifier for UEFI boot mode nodes

Returns the disk_identifer for the block device images which will be
needed in pxe_grub_config.template to boot wholedisk images in UEFI
boot mode.

Change-Id: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a
Story: 2005532
Task: 33673
(cherry picked from commit c826e7db4c44cc2c6e7648a9c8394881c14989a4)
"
openstack%2Fironic-lib~stable%2Fstein~I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a,openstack/ironic-lib,stable/stein,,I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a,Returns disk_identifier for UEFI boot mode nodes,ABANDONED,2019-06-25 09:16:07.000000000,2022-10-05 21:13:53.000000000,,97,0,0,667298,b6b031e651eed53b715fe1a3ee69f25f39fe3509,9,3,2,2,20401,M V P Nitesh,mvpnitesh,"Returns disk_identifier for UEFI boot mode nodes

Returns the disk_identifer for the block device images which will be
needed in pxe_grub_config.template to boot wholedisk images in UEFI
boot mode.

Change-Id: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a
Story: 2005532
Task: 33673
(cherry picked from commit c826e7db4c44cc2c6e7648a9c8394881c14989a4)
"
openstack%2Fironic-python-agent~stable%2Fqueens~I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4,openstack/ironic-python-agent,stable/queens,,I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4,CI: Zuul no longer respects queue param,ABANDONED,2022-10-03 22:09:59.000000000,2022-10-05 21:06:59.000000000,,0,1,0,860193,2bde76e7e1c344f2b7decef8196b216779e7af5c,4,2,1,1,10342,Jay Faulkner,JayF,"CI: Zuul no longer respects queue param

Change-Id: I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4
"
openstack%2Fironic-python-agent~stable%2Fstein~I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4,openstack/ironic-python-agent,stable/stein,,I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4,CI: Zuul no longer respects queue param,ABANDONED,2022-10-03 22:09:46.000000000,2022-10-05 21:04:22.000000000,,0,1,0,860191,bbea3be45aa572cb8383c1f85026db6f451078cc,4,2,1,1,10342,Jay Faulkner,JayF,"CI: Zuul no longer respects queue param

Change-Id: I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4
"
openstack%2Fironic-python-agent~stable%2Frocky~I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4,openstack/ironic-python-agent,stable/rocky,,I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4,CI: Zuul no longer respects queue param,ABANDONED,2022-10-03 22:09:53.000000000,2022-10-05 21:04:12.000000000,,0,1,0,860192,1a7a3a8b4037f531dbda02e7a314c18780756d7d,4,2,1,1,10342,Jay Faulkner,JayF,"CI: Zuul no longer respects queue param

Change-Id: I1e7a3b3c9ded13b10002bb47e98d4a7b486e1dd4
"
openstack%2Fironic~stable%2Fqueens~I3398b6fd14b491a13231a6032a669d6e30deca98,openstack/ironic,stable/queens,venv_support,I3398b6fd14b491a13231a6032a669d6e30deca98,Preserve env when running vbmc,ABANDONED,2018-04-09 22:34:19.000000000,2022-10-05 21:03:11.000000000,,10,2,0,559856,5ec404dac4a7c9df268b609dc9907c34835fb50c,16,6,2,1,4146,Clark Boylan,cboylan,"Preserve env when running vbmc

The create-node.sh and cleanup-node.sh scripts are called with sudo -E
but then runs su which will break the env we were initially trying to
preserve. This is important so that devstack can control things like
$PATH for determining the path to vbmc. Address this by adding a -p to
the su call which should preserve the environment for us.

Unfortunately for PATH specifically even using sudo -E has a tendency
for sanitizing PATH. We work around this behavior by explicitly setting
$PATH in the commands being run by sudo su.

Note that the su appears to be necessary to have the stack user pick up
its new libvirt group membership which allows it to successfully use
virsh to start the virtual baremetal instances.

Change-Id: I3398b6fd14b491a13231a6032a669d6e30deca98
(cherry picked from commit bdbeefd07860ac8a986e55caebf97f5a7c2d932e)
"
openstack%2Fironic~stable%2Ftrain~I12f3b34020cadfbd6901b9f1fdd93dee2b4c8720,openstack/ironic,stable/train,,I12f3b34020cadfbd6901b9f1fdd93dee2b4c8720,Fix installation of virtualbmc with py36 in devstack,ABANDONED,2022-06-24 08:54:09.000000000,2022-10-05 21:02:35.000000000,,2,1,1,847436,c6bbb04c25773b8f7580843c8543bbe98cfc6530,6,2,1,1,13039,Martin Andr√©,mandre,"Fix installation of virtualbmc with py36 in devstack

Virtualbmc dropped support for python 3.6 with
I58a810d8cf4247153623c247de71f774928653aa, causing stable/ussuri and
below branches to fail with:

    ERROR: Package 'virtualbmc' requires a different Python: 3.6.9 not in '>=3.8'

This commit pins virtualbmc to the last commit before the py36 support
was removed.

Change-Id: I12f3b34020cadfbd6901b9f1fdd93dee2b4c8720
"
openstack%2Fironic~stable%2Frocky~I79558d2aad98c3063ba1a5568d7a4fa27948e77b,openstack/ironic,stable/rocky,fix_ci,I79558d2aad98c3063ba1a5568d7a4fa27948e77b,Use specific tempest regex for each job,ABANDONED,2020-08-03 19:19:09.000000000,2022-10-05 21:01:06.000000000,,7,1,0,744542,346dfc9caaa4e42c56f238cd25823d528772ee3d,8,4,1,2,15519,Iury Gregory Melo Ferreira,iurygregory,"Use specific tempest regex for each job

To avoid running partition and wholedisk tests in old stable branches
let's update the regex of each job.

Change-Id: I79558d2aad98c3063ba1a5568d7a4fa27948e77b
"
openstack%2Fironic-inspector~stable%2Frocky~I7de2be5950a23def3ec6490f2e6dfa3d5c42798a,openstack/ironic-inspector,stable/rocky,1756012-stable/rocky,I7de2be5950a23def3ec6490f2e6dfa3d5c42798a,Support ip6tables for iptables pxe filter,ABANDONED,2019-05-28 12:07:32.000000000,2022-10-05 21:00:07.000000000,,85,17,0,661740,0a450b5da932c1fbdc3ffaa2f5656be62cadb542,5,4,1,5,2874,yong sheng gong,gongysh,"Support ip6tables for iptables pxe filter

Adds a configuration option [iptables]ip_version to specify the
desired ip version for the iptables pxe filter, which can be set to
4 or 6. When set to 6, the iptables pxe filter will use ip6tables
command to manage rules for the port 547 which is the port of DHCPv6
server side.

The string type is used to make room for the future, when there is need
to automatically determine ip version from the binding interface.

Change-Id: I7de2be5950a23def3ec6490f2e6dfa3d5c42798a
Story: 1756012
Task: 11411
(cherry picked from commit f37eb0fc587a24b3a29a695c2d2b708d2f7c32f2)
"
openstack%2Fironic-inspector~stable%2Frocky~I8389391f0f4ff270460341f42729cd01d01e2172,openstack/ironic-inspector,stable/rocky,,I8389391f0f4ff270460341f42729cd01d01e2172,CI: Zuul no longer respects queue,ABANDONED,2022-10-03 21:49:00.000000000,2022-10-05 20:59:45.000000000,,0,1,0,860168,5f12d29edc047c5b9ac6006559ecd8cd8b7bfa92,4,2,1,1,10342,Jay Faulkner,JayF,"CI: Zuul no longer respects queue

Change-Id: I8389391f0f4ff270460341f42729cd01d01e2172
"
openstack%2Fironic-inspector~stable%2Fstein~I8389391f0f4ff270460341f42729cd01d01e2172,openstack/ironic-inspector,stable/stein,,I8389391f0f4ff270460341f42729cd01d01e2172,CI: Zuul no longer respects queue,ABANDONED,2022-10-03 21:48:47.000000000,2022-10-05 20:59:33.000000000,,0,1,0,860167,d986699f63c927af42db94f23af11ab349c1b3f8,4,2,1,1,10342,Jay Faulkner,JayF,"CI: Zuul no longer respects queue

Change-Id: I8389391f0f4ff270460341f42729cd01d01e2172
"
openstack%2Fneutron~master~I27af495f96a3ea88dd31345dbfb55f1be8faabd6,openstack/neutron,master,bug/1991579,I27af495f96a3ea88dd31345dbfb55f1be8faabd6,ovn: Use ovsdb-client to create neutron_pg_drop,MERGED,2022-10-04 15:42:09.000000000,2022-10-05 20:40:14.000000000,2022-10-05 20:39:05.000000000,315,291,10,860275,50eee19723b2d762c2b5653e7a2c75e470f44cdf,24,6,5,9,8655,Jakub Libosvar,jlibosva,"ovn: Use ovsdb-client to create neutron_pg_drop

Previously we used short living OVN database connection to create
neutron_pg_drop Port Group before workers were spawned. The
pre_fork_initialize actually happens after the api workers are spawned
anyways and it blocks spawning of other workers, such as maintenance,
rpc or periodic. If the OVN database was large it may take several
minutes to connect to the database at scale and this blocks spawning of
other workers. That means connecting to OVN in pre_fork is not a good
idea.

This patch replaces the mechanism by using ovsdb-client to send a
transaction without connecting to the database and downloading the whole
content. The command does following, everything is on the server side:

 1) With timeout 0 it waits for neutron_pg_drop Port Group. If the PG is
    present, the transaction finishes and nothing happens.

 2) If the PG is not present, it times out immediately and commits new
    entries that effectivelly creates neutron_pg_drop Port Group with
    implicit ACLs to block ingress and egress traffic.

Closes-Bug: #1991579
Co-Authored-By: Terry Wilson <twilson@redhat.com>

Change-Id: I27af495f96a3ea88dd31345dbfb55f1be8faabd6
"
openstack%2Ftripleo-heat-templates~master~If8ca57751d6c64dab71c1245d0efb239936dd95c,openstack/tripleo-heat-templates,master,,If8ca57751d6c64dab71c1245d0efb239936dd95c,The NfsUrl parameter does not exist,NEW,2022-06-24 11:09:25.000000000,2022-10-05 20:23:25.000000000,,0,1,0,847566,f4de46ac4409eb9c599229c0a1e2e320ab582231,7,3,2,1,9816,Takashi Kajinami,kajinamit,"The NfsUrl parameter does not exist

Change-Id: If8ca57751d6c64dab71c1245d0efb239936dd95c
"
openstack%2Fdevstack~stable%2Fxena~Ie99f12691d9062611a8930accfa14d9540970cc5,openstack/devstack,stable/xena,add-import-wait-stable/yoga-stable/xena,Ie99f12691d9062611a8930accfa14d9540970cc5,lib/tempest: add wait for Glance image import,MERGED,2022-05-19 19:23:19.000000000,2022-10-05 20:09:17.000000000,2022-10-05 20:08:16.000000000,67,6,0,842404,2a5aeff28c278f0447b38297b6b9056d3c36d84c,8,3,1,1,5314,Brian Rosmaita,brian-rosmaita,"lib/tempest: add wait for Glance image import

Glance image import is asynchronous and may be configured to do image
conversion.  If image import is being used, it's possible that the
tempest configuration code is executed before the import has
completed and there may be no active images yet.  In that case,
we will poll glance every TEMPEST_GLANCE_IMPORT_POLL_INTERVAL seconds
(default: 1) to see if there are TEMPEST_GLANCE_IMAGE_COUNT active
images (default: 1) up to TEMPEST_GLANCE_IMPORT_POLL_LIMIT times
(default: 12).

You can see an example of the issue this patch addresses in real
life:
https://review.opendev.org/c/openstack/glance/+/841278/1#message-456096e48b28e5b866deb8bf53e9258ee08219a0

Change-Id: Ie99f12691d9062611a8930accfa14d9540970cc5
(cherry picked from commit 111a38b4d6e6f61c21570e0adba58f6c59c52900)
(cherry picked from commit e754b600f289fe0f943c9bac7898fd16fd2e1d8f)
"
openstack%2Fopenstack-ansible~master~I7f39aa2c628761d5f56eea7eb8d05e715efd00e9,openstack/openstack-ansible,master,osa-facts,I7f39aa2c628761d5f56eea7eb8d05e715efd00e9,Disable fact variables,NEW,2021-03-03 09:53:07.000000000,2022-10-05 19:25:11.000000000,,4,3,1,778396,5b2ec05c050f094c671ca5e462715616caa782b3,39,2,21,3,25023,Jonathan Rosser,jrosser,"Disable fact variables

This patch disables automatic generation of ansible_<var>
variables which are duplicate of ansible_facts['var'].

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/860424
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/860480
Change-Id: I7f39aa2c628761d5f56eea7eb8d05e715efd00e9
"
openstack%2Fnova~master~I067be0abe978bde30bcb6e73ba1f9bc50331cf0a,openstack/nova,master,mypy-integration,I067be0abe978bde30bcb6e73ba1f9bc50331cf0a,WIP: add ovo-mypy-plugin to type hinting o.vos,NEW,2020-10-19 17:49:48.000000000,2022-10-05 19:24:00.000000000,,9,0,0,758851,12a66eb396cbe449aa4ac9a8d891614af59bc416,52,9,8,4,9708,Balazs Gibizer,gibi,"WIP: add ovo-mypy-plugin to type hinting o.vos

If you turn on verbose mode in mypy you will see that the plugin
generates o.vo fields and assign types for them:

LOG:  Processing SCC singleton (nova.objects.agent) as inherently stale
LOG:  OsloVersionedObjectPlugin: Defined o.vo field: nova.objects.agent.Agent.id as builtins.int
LOG:  OsloVersionedObjectPlugin: Defined o.vo field: nova.objects.agent.Agent.hypervisor as builtins.str
LOG:  OsloVersionedObjectPlugin: Defined o.vo field: nova.objects.agent.Agent.os as builtins.str
LOG:  OsloVersionedObjectPlugin: Defined o.vo field: nova.objects.agent.Agent.architecture as builtins.str
LOG:  OsloVersionedObjectPlugin: Defined o.vo field: nova.objects.agent.Agent.version as builtins.str
LOG:  OsloVersionedObjectPlugin: Defined o.vo field: nova.objects.agent.Agent.url as builtins.str
LOG:  OsloVersionedObjectPlugin: Defined o.vo field: nova.objects.agent.Agent.md5hash as builtins.str
LOG:  OsloVersionedObjectPlugin: looking up oslo_versionedobjects.fields.ListOfObjectsField got exception
LOG:  OsloVersionedObjectPlugin: Defined o.vo field: nova.objects.agent.AgentList.objects as Any

Change-Id: I067be0abe978bde30bcb6e73ba1f9bc50331cf0a
"
openstack%2Fnova~master~I34132cdc82c74f1baffa1f10aa4de695556c56f3,openstack/nova,master,mypy-integration,I34132cdc82c74f1baffa1f10aa4de695556c56f3,objects: Remove 'NovaObjectDictCompat' from 'Service',NEW,2022-03-29 08:55:37.000000000,2022-10-05 19:10:24.000000000,,920,708,1,835595,c132ea6d3bedca399b68b0da7403ac1e0358453e,18,2,3,33,15334,Stephen Finucane,sfinucan,"objects: Remove 'NovaObjectDictCompat' from 'Service'

Addresses a long-standing TODO. This was actually a *lot* more involved
that expected, mostly because we were relying on dictionary-style access
in so many places. The two main changes are that we now store a raw
'Service' object in the 'HostState' object used by the scheduler and the
use of consistent terminology in tests to determine whether we're
talking about a service in DB representation or o.vo form. We also add
loads of type hints because these are A Good Thing (TM).

Change-Id: I34132cdc82c74f1baffa1f10aa4de695556c56f3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~Ia69e26638f72e5351190c16b69f329dbd416531f,openstack/nova,master,mypy-integration,Ia69e26638f72e5351190c16b69f329dbd416531f,objects: Remove wrappers around ovo mixins,NEW,2020-06-25 13:36:45.000000000,2022-10-05 19:06:19.000000000,,40,29,1,738019,ef1f2e2b81ebe2cce8980dd714229ac0605de32a,93,14,10,15,15334,Stephen Finucane,sfinucan,"objects: Remove wrappers around ovo mixins

We don't need to store and use our own aliases for these.

Change-Id: Ia69e26638f72e5351190c16b69f329dbd416531f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I2da1ddf34aee5d54bf75101e56e3ccb38e32d6c6,openstack/nova,master,mypy-integration,I2da1ddf34aee5d54bf75101e56e3ccb38e32d6c6,"objects: Remove unnecessary type aliases, exceptions",NEW,2020-06-26 16:38:37.000000000,2022-10-05 18:52:38.000000000,,17,82,4,738240,112b5cfe3c8280e13e373d82f846ffe5137e30d2,83,13,9,2,15334,Stephen Finucane,sfinucan,"objects: Remove unnecessary type aliases, exceptions

We used these aliases when first moving things to o.vo. They're no
longer necessary and neither are the tests.

Change-Id: I2da1ddf34aee5d54bf75101e56e3ccb38e32d6c6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fdevstack~master~I8e3134c3b2d591f7ab72b8040e1b931e967e11be,openstack/devstack,master,octavia-guide-update,I8e3134c3b2d591f7ab72b8040e1b931e967e11be,Update user guide for Octavia,MERGED,2022-09-14 15:24:55.000000000,2022-10-05 18:47:00.000000000,2022-10-05 18:45:57.000000000,150,149,24,857726,1516997afe888ebc3cd06653a4f29a05bba7b346,30,5,11,4,34429,Tom Weininger,tweining,"Update user guide for Octavia

Change-Id: I8e3134c3b2d591f7ab72b8040e1b931e967e11be
"
openstack%2Ftempest~master~I72df40dc13c86f8e6933361d4c51a854decc0471,openstack/tempest,master,orchestration-client,I72df40dc13c86f8e6933361d4c51a854decc0471,Move orchestration_client to tempest/lib,ABANDONED,2017-06-12 07:59:40.000000000,2022-10-05 18:40:12.000000000,,15,9,6,473278,66f71ed3660a1db6e88e487d2b08d9bb4f0c62a3,24,7,3,6,5689,Masayuki Igawa,igawa,"Move orchestration_client to tempest/lib

This commit moves orchestration_client to tempest/lib. We removed Heat
tests from Tempest, already. However, some plugins are still using the
client. And we'll be able to remove tempest/services directory in the
future, probably. So to keep the compatibility, it's good to have it in
Tempest tree and put a pydoc for that client class.

Related discussion:
 http://lists.openstack.org/pipermail/openstack-dev/2017-April/115987.html

Change-Id: I72df40dc13c86f8e6933361d4c51a854decc0471
"
openstack%2Fnova~master~Iecf5a5078b0791af296286e021ee361bf177e342,openstack/nova,master,remove-fake-notifier,Iecf5a5078b0791af296286e021ee361bf177e342,rpc: Mark attributes as private,NEW,2021-05-24 11:41:24.000000000,2022-10-05 18:37:47.000000000,,136,124,0,792803,3d61c9476e13e4df5948803780dc8b10fa158cf9,23,2,3,9,15334,Stephen Finucane,sfinucan,"rpc: Mark attributes as private

Resolve a TODO.

Change-Id: Iecf5a5078b0791af296286e021ee361bf177e342
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcharm-cinder~master~Ifc35474c98b1ffa1d7d81ac42deb897ace7db885,openstack/charm-cinder,master,bug/1989538,Ifc35474c98b1ffa1d7d81ac42deb897ace7db885,Ensure openstack-release package is correct after install hook,MERGED,2022-10-05 14:46:46.000000000,2022-10-05 18:19:00.000000000,2022-10-05 18:19:00.000000000,4,0,1,860426,0fa3fdadd03eb5ee7178e88f3ad99777d41a3439,9,3,1,1,11805,Corey Bryant,coreycb,"Ensure openstack-release package is correct after install hook

The linked bug shows the install of the charm with openstack-origin set
to zed.  This happens because configure_installation_source() causes the
openstack-release package to be installed *before* the zed cloud archive
sources are configured into /etc/apt and an apt update done. This means
that the openstack-release package says ""yoga"" despite the zed packages
actually being installed.

Then, on the config-changed hook, it sees that the installed version is
showing as yoga and tries to do an upgrade.  This fails, as the charm
hasn't yet bootstrapped, and the charm tries to bootstrap after
upgrading the packages.

There's a few bugs here which are exposed, but the tactical fix is to
force the openstack-release to match the installed packages.

Closes-Bug: #1989538
Change-Id: Ifc35474c98b1ffa1d7d81ac42deb897ace7db885
"
openstack%2Fneutron~stable%2Fwallaby~Iaaccec770484234b704f70f3c144efac4d8ffba0,openstack/neutron,stable/wallaby,retry-stable/yoga-stable/xena-stable/wallaby,Iaaccec770484234b704f70f3c144efac4d8ffba0,Retry connections to Nova,MERGED,2022-09-09 08:35:11.000000000,2022-10-05 18:09:01.000000000,2022-10-05 18:07:47.000000000,21,0,2,856580,b5e9148cc7311080ba1b2a410145949c1adaa0ca,24,7,1,2,11975,Slawek Kaplonski,slaweq,"Retry connections to Nova

Sometimes Neutron is failing to send notification to Nova
due to timeout, refused connection or another HTTP error.
Retry send in those cases.

Closes-Bug: #1987780
Change-Id: Iaaccec770484234b704f70f3c144efac4d8ffba0
(cherry picked from commit cd475f9af898b81d98b3e0d3f55b94ea653c193c)
"
openstack%2Fpython-openstackclient~master~If66f705b191c6402c683b9dc1b79a3d87b38fadd,openstack/python-openstackclient,master,logging-cleanup,If66f705b191c6402c683b9dc1b79a3d87b38fadd,WIP: Switch to use of 'Command.log',NEW,2022-10-05 16:55:57.000000000,2022-10-05 18:08:40.000000000,,53,65,0,860478,0024f0f67564834d70c3a8b08de126a8515731f1,2,1,1,7,15334,Stephen Finucane,sfinucan,"WIP: Switch to use of 'Command.log'

We already have this available to use. We might as well use it.

Change-Id: If66f705b191c6402c683b9dc1b79a3d87b38fadd
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~I804f865624a76292910acc76f192b4ef2ef1fa37,openstack/tripleo-heat-templates,master,unified-quotas,I804f865624a76292910acc76f192b4ef2ef1fa37,Allow configuring unified quotas in glance.,NEW,2022-06-16 05:43:13.000000000,2022-10-05 18:05:45.000000000,,28,0,3,846099,09e94819deaa915406e3fe794511b812bb0a4b91,21,5,4,2,19138,Pranali Deore,PranaliD,"Allow configuring unified quotas in glance.

Adding ``GlanceEnableUnifiedQuotas`` parameter, to configure
unified quotas in glance.

To make glance unified quotas work, ``oslo_limit/endpoint_id`` is
also needs to be set in glance-api.conf, hence adding the
``GlanceKeystoneEndpointId`` for the same.

NOTE: The service's endpoint id registered in keystone will obviously
      not be available until the service is up, hence without unified
      quotas the correct endpoint id needs to be find first once
      overcloud is deployed and then respective THT parameter could be
      set by enabling the unified quotas.

Depends-on: Ic3d2dc927f4ce2b118ee98811db74e4ac8dfb96a
Change-Id: I804f865624a76292910acc76f192b4ef2ef1fa37
"
openstack%2Fkolla-ansible~master~Ie09bf108250a71d539002dd5ccfa63dd71bcfe90,openstack/kolla-ansible,master,ansible-bump,Ie09bf108250a71d539002dd5ccfa63dd71bcfe90,Bump Ansible min version to 2.12/5 and max to 2.13/6,MERGED,2022-09-07 16:56:52.000000000,2022-10-05 18:05:37.000000000,2022-10-05 18:04:38.000000000,9,9,3,856300,98a691a7c99f33b3c5050acf2d85c783ba0712fe,23,4,3,6,22629,Michal Nasiadka,mnasiadka,"Bump Ansible min version to 2.12/5 and max to 2.13/6

Change-Id: Ie09bf108250a71d539002dd5ccfa63dd71bcfe90
"
openstack%2Fpython-tripleoclient~master~I8e2a321cdaeea75dd86635de92721a1515f63f4f,openstack/python-tripleoclient,master,pathlib,I8e2a321cdaeea75dd86635de92721a1515f63f4f,Replace some unnecessary os.path.join(),MERGED,2022-09-24 06:55:30.000000000,2022-10-05 18:04:40.000000000,2022-10-05 18:03:28.000000000,6,8,6,859188,0d3e3b92db6fd8076853bb1ca9f27059ed9034a8,12,3,2,1,30073,Brendan Shephard,bshephar,"Replace some unnecessary os.path.join()

When using pathlib, it's not necessary[1] to use in conjunction with
os.path.join(). This change just simplifies some of the use of
pathlib within tripleoclient.

We may want to expand our use of pathlib in the future to provide
additional flexibility over the traditional os.path interfaces.

[1] https://docs.python.org/3/library/pathlib.html#operators

Change-Id: I8e2a321cdaeea75dd86635de92721a1515f63f4f
"
openstack%2Fgovernance~master~I8de7cd9ee045e62cfb72b5d7a046bab322f4176b,openstack/governance,master,formal-vote,I8de7cd9ee045e62cfb72b5d7a046bab322f4176b,Add Ghanshyam nomination as chair,MERGED,2022-09-22 16:33:57.000000000,2022-10-05 18:02:31.000000000,2022-10-05 18:01:28.000000000,1,1,8,858957,7d96ef3fb4cba0c9a901239969dfe0f06856c57e,21,10,1,1,8556,Ghanshyam,ghanshyam,"Add Ghanshyam nomination as chair

I would like to nominate myself as chair of the
Technical Committee for next cycle.

I served as TC Chair since Xena cycle and trying my
best to be more active in TC and perform all duties
on time. Few of the things got initiated in the past couple
of cycles and went well (and we will continue these) are:

* TC + Community Leaders interaction: We as TC always
want to get feedback from the community on TC activity and
what direction do they want us to work on? But we hardly
receive any feedback when we initiated it in the past on ML.
Starting a separate session in PTG with TC and Leaders helped
us to receive feedback and also improved the interaction with
community.

* TC doing more Technical work: As feedback from the community
in TC+Leaders sessions, we started doing more technical work than just
project updates (add, remove projects) things. But still, a lot to improve on
this. We will continue working on this and helping the community in both
ways technical as well as from process/governance perspectives.

* Re-starting the interaction with Board members is one of the
good things. It helps to have more visibility of the OpenStack community,
TC as well as discussing our challenges at a broader level.

I would like to continue the chair role and do the same as I am
currently doing. Thanks for considering my nomination.

Change-Id: I8de7cd9ee045e62cfb72b5d7a046bab322f4176b
"
openstack%2Fironic~stable%2Frocky~I99d39ad9265392b08f52fccde4e2519b244505d6,openstack/ironic,stable/rocky,,I99d39ad9265392b08f52fccde4e2519b244505d6,CI: Zuul no longer respects queue param,ABANDONED,2022-10-03 21:40:36.000000000,2022-10-05 18:01:47.000000000,,0,1,0,860159,776c1f46e7c4cc334bbcc6c9c1b4da8d70865baa,5,2,1,1,10342,Jay Faulkner,JayF,"CI: Zuul no longer respects queue param

Change-Id: I99d39ad9265392b08f52fccde4e2519b244505d6
"
openstack%2Fironic~stable%2Fqueens~I99d39ad9265392b08f52fccde4e2519b244505d6,openstack/ironic,stable/queens,,I99d39ad9265392b08f52fccde4e2519b244505d6,CI: Zuul no longer respects queue param,ABANDONED,2022-10-03 21:40:54.000000000,2022-10-05 18:01:41.000000000,,0,1,0,860160,287a2d9c0cc9e43dbc53aecdd59f2e57faa00031,5,2,1,1,10342,Jay Faulkner,JayF,"CI: Zuul no longer respects queue param

Change-Id: I99d39ad9265392b08f52fccde4e2519b244505d6
"
openstack%2Fcharm-octavia~stable%2Fqueens~I5cda72d55b7aba51d087bababa94435e53c2201b,openstack/charm-octavia,stable/queens,bug/1979553,I5cda72d55b7aba51d087bababa94435e53c2201b,Ensure upgrades are executed,ABANDONED,2022-10-05 14:18:13.000000000,2022-10-05 18:01:38.000000000,,3,0,0,860441,7d66e270287ce5ba7652f64b3789c89ffde513e9,6,2,1,2,11805,Corey Bryant,coreycb,"Ensure upgrades are executed

Prior to this change, big bang upgrades were not being run
when openstack-origin was updated to a new release.

Closes-Bug: #1979553
Change-Id: I5cda72d55b7aba51d087bababa94435e53c2201b
(cherry picked from commit e237d6621eec7734a18dae52618030c30a21c9b8)
"
openstack%2Fironic~stable%2Fstein~I99d39ad9265392b08f52fccde4e2519b244505d6,openstack/ironic,stable/stein,,I99d39ad9265392b08f52fccde4e2519b244505d6,CI: Zuul no longer respects queue param,ABANDONED,2022-10-03 21:39:58.000000000,2022-10-05 18:01:34.000000000,,0,1,0,860158,ea11d7a3b2e91975ff509832fa729715ee234401,5,2,1,1,10342,Jay Faulkner,JayF,"CI: Zuul no longer respects queue param

Change-Id: I99d39ad9265392b08f52fccde4e2519b244505d6
"
openstack%2Fcharm-barbican~stable%2Fqueens~I3a9d0211bede8db43cd5ae8e0db51736155282f6,openstack/charm-barbican,stable/queens,bug/1979553,I3a9d0211bede8db43cd5ae8e0db51736155282f6,Ensure upgrades are executed,ABANDONED,2022-10-05 14:25:08.000000000,2022-10-05 18:01:28.000000000,,4,0,1,860451,0b572bb02973ea1739aaf0cc548482125267d611,7,3,1,2,11805,Corey Bryant,coreycb,"Ensure upgrades are executed

Prior to this change, big bang upgrades were not being run
when openstack-origin was updated to a new release.

Closes-Bug: #1979553
Change-Id: I3a9d0211bede8db43cd5ae8e0db51736155282f6
(cherry picked from commit 6d73c8263f5ad520a75c2fc6207bba65136ef6f3)
"
openstack%2Fcharm-octavia~stable%2Fstein~I5cda72d55b7aba51d087bababa94435e53c2201b,openstack/charm-octavia,stable/stein,bug/1979553,I5cda72d55b7aba51d087bababa94435e53c2201b,Ensure upgrades are executed,ABANDONED,2022-10-05 14:21:01.000000000,2022-10-05 18:01:11.000000000,,3,0,0,860442,2dfac6dfb2877a8115f34e05b29e1b2318fdeb35,6,2,1,2,11805,Corey Bryant,coreycb,"Ensure upgrades are executed

Prior to this change, big bang upgrades were not being run
when openstack-origin was updated to a new release.

Closes-Bug: #1979553
Change-Id: I5cda72d55b7aba51d087bababa94435e53c2201b
(cherry picked from commit e237d6621eec7734a18dae52618030c30a21c9b8)
"
openstack%2Fcharm-octavia~stable%2Frocky~I5cda72d55b7aba51d087bababa94435e53c2201b,openstack/charm-octavia,stable/rocky,bug/1979553,I5cda72d55b7aba51d087bababa94435e53c2201b,Ensure upgrades are executed,ABANDONED,2022-10-05 14:17:58.000000000,2022-10-05 18:00:33.000000000,,3,0,0,860440,14d60e4921393f53d576cac745f8f5865e158ab0,6,2,1,2,11805,Corey Bryant,coreycb,"Ensure upgrades are executed

Prior to this change, big bang upgrades were not being run
when openstack-origin was updated to a new release.

Closes-Bug: #1979553
Change-Id: I5cda72d55b7aba51d087bababa94435e53c2201b
(cherry picked from commit e237d6621eec7734a18dae52618030c30a21c9b8)
"
openstack%2Fcharm-barbican~stable%2Frocky~I3a9d0211bede8db43cd5ae8e0db51736155282f6,openstack/charm-barbican,stable/rocky,bug/1979553,I3a9d0211bede8db43cd5ae8e0db51736155282f6,Ensure upgrades are executed,ABANDONED,2022-10-05 14:24:56.000000000,2022-10-05 18:00:12.000000000,,4,0,1,860450,fb6f601a6c60a96c75b4ede969b81d250ad5d160,7,3,1,2,11805,Corey Bryant,coreycb,"Ensure upgrades are executed

Prior to this change, big bang upgrades were not being run
when openstack-origin was updated to a new release.

Closes-Bug: #1979553
Change-Id: I3a9d0211bede8db43cd5ae8e0db51736155282f6
(cherry picked from commit 6d73c8263f5ad520a75c2fc6207bba65136ef6f3)
"
openstack%2Fcharm-barbican~stable%2Fstein~I3a9d0211bede8db43cd5ae8e0db51736155282f6,openstack/charm-barbican,stable/stein,bug/1979553,I3a9d0211bede8db43cd5ae8e0db51736155282f6,Ensure upgrades are executed,ABANDONED,2022-10-05 14:24:44.000000000,2022-10-05 17:59:56.000000000,,4,0,1,860449,7c990ad81a0457f52edad7021e6dc83dc46d9fb3,7,3,1,2,11805,Corey Bryant,coreycb,"Ensure upgrades are executed

Prior to this change, big bang upgrades were not being run
when openstack-origin was updated to a new release.

Closes-Bug: #1979553
Change-Id: I3a9d0211bede8db43cd5ae8e0db51736155282f6
(cherry picked from commit 6d73c8263f5ad520a75c2fc6207bba65136ef6f3)
"
openstack%2Fpython-openstackclient~master~Ie32c919bb987eb0b9bc4c5b2ec54ee20a6841c03,openstack/python-openstackclient,master,logging-cleanup,Ie32c919bb987eb0b9bc4c5b2ec54ee20a6841c03,tests: Enable logging fixture,NEW,2022-10-05 16:55:57.000000000,2022-10-05 17:57:12.000000000,,10,5,0,860477,cde1acf82c726c9a53006c88b01d566d4d63a477,2,1,1,1,15334,Stephen Finucane,sfinucan,"tests: Enable logging fixture

Quieten the output of our test runs significantly.

Change-Id: Ie32c919bb987eb0b9bc4c5b2ec54ee20a6841c03
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fgovernance~master~Ib556babad755bf936fe0ae742c66b36551cd1cd9,openstack/governance,master,formal-vote,Ib556babad755bf936fe0ae742c66b36551cd1cd9,Add nomination for chair for Kristi Nikolla,ABANDONED,2022-09-22 14:54:41.000000000,2022-10-05 17:55:17.000000000,,1,1,4,858947,c6cb496d0eb11a0624bf2ea853623ebbf8599490,14,6,2,1,16465,Kristi Nikolla,knikolla,"Add nomination for chair for Kristi Nikolla

Hi all,

Please consider my candidacy for chair of the OpenStack
Technical Committee.

I fundamentally believe that the role of the chair is to
facilitate, encourage, and promote discussions and a welcoming
environment for these discussions to take place in. It is also
that of a bridge, between the community and the TC, between the
TC and the board, and between the TC and itself.

How we work, interact, and collaborate has rapidly shifted in
the past 3 years. We can't depend on things that have worked
before nor can we continue to scale down the focus of the TC
in response to declining contributions.

I believe the challenges we face cannot be solved by technical
means.

Most of the composition of the TC is inevitably technical. For
you, my goal is to streamline the bureacracy and minutiae. I hope
that by taking those on and freeing up more of your time I can
create the space for you to be interested in a more diverse set of
topics.

I want to create an environment that is not dominated by a few
voices.

In pursuit of these goals, I‚Äôm ready to ask the stupid questions,
hear the crazy ideas, and attempt to create bridges where there
aren't, or reinforce them where there are. In particular with the
board, community and other open source projects.

On that note, here's some crazy questions and ideas:
- As OpenStack matures and there's less contributors, the developers
  that are left have a stake in more project teams than one. In
  this environment, how can we get the diverse project teams to
  collaborate even closer with each other? Does the project teams
  distinction still matter?
- How can we get more community participation in the TC meetings?
  What if we create new short-term rotating roles that don't involve
  singing up for a full one year of responsibility to introduce people
  to the workings of the TC?

Thank you for you consideration,
Kristi Nikolla

Change-Id: Ib556babad755bf936fe0ae742c66b36551cd1cd9
"
openstack%2Fstevedore~stable%2Fyoga~Ib9c2b0a14edea91e97d122d2ac93b650029f918e,openstack/stevedore,stable/yoga,bug/1966040,Ib9c2b0a14edea91e97d122d2ac93b650029f918e,"Fix compatibility with Python 3.12, importlib-metadata 5.0",MERGED,2022-10-05 10:16:25.000000000,2022-10-05 17:50:12.000000000,2022-10-05 17:49:13.000000000,18,2,0,860394,143a3e9f0716690be7343d4d083f65d7624b3d2e,8,2,1,2,15334,Stephen Finucane,sfinucan,"Fix compatibility with Python 3.12, importlib-metadata 5.0

importlib-metadata 5.0 has removed support for dict-style interaction
with entrypoints [1]. This is going to eventually affect us when Python
3.12 is released but even before then anyone not properly using upper
constraints with an older Python 3.7-based release (the only Python
version where we require the third-party importlib-metadata package
rather than the stdlib importlib.metadata package) will be bitten. Fix
it now to address both.

[1] https://github.com/python/importlib_metadata/commit/dde2b9de2973ce1c6fa9ba21dfe81069b0baa77b

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ib9c2b0a14edea91e97d122d2ac93b650029f918e
Closes-Bug: #1991559
(cherry picked from commit 28fc7164dace83abc3ecc06fcb56f7ca880d735a)
(cherry picked from commit 1e4d71d4b552494ff33ad03b76d2a590d58efe77)
"
openstack%2Fglance-specs~master~I8ce4d83a470eb5c87527db7ffacb9d0b2302b661,openstack/glance-specs,master,,I8ce4d83a470eb5c87527db7ffacb9d0b2302b661,Add option region_name to s3 store,NEW,2022-08-23 07:20:05.000000000,2022-10-05 17:34:56.000000000,,35,1,7,854112,a74fe34a7dc23f1e8f57352221d2122a6a8b5e01,17,8,5,2,11583,Arnaud Morin,arnaudmorin,"Add option region_name to s3 store

The current s3 driver determine region_name from amazon endpoints, but
some operators are using an s3 compatible API which is not from amazon.
Adding a region_name paramater to the s3 store allow such operators to
use custom endpoints with custom regions.

Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
Change-Id: I8ce4d83a470eb5c87527db7ffacb9d0b2302b661
"
openstack%2Fstevedore~stable%2Fyoga~Iff536d4f4267efbebc4be1e7e5da8a9fde39f79b,openstack/stevedore,stable/yoga,bug/1966040,Iff536d4f4267efbebc4be1e7e5da8a9fde39f79b,"Fix compatibility with Python 3.10, 3.9.11",MERGED,2022-10-05 10:16:25.000000000,2022-10-05 17:24:18.000000000,2022-10-05 17:23:19.000000000,19,11,0,860393,9c78134d7b2a3a355bb2ba155fe80382d375e3ab,8,2,1,1,15334,Stephen Finucane,sfinucan,"Fix compatibility with Python 3.10, 3.9.11

A fix to 'importlib.metadata' in Python 3.10 [1], later backported to
3.9 and released in 3.9.11 [2], has broken our tests. Fix them.

[1] https://github.com/python/cpython/commit/b1e286860742e7ba6fadc75e3ddb6c2899a56919
[2] https://github.com/python/cpython/commit/177be52517da9a876a3f9e670f88c4731b906986

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-bug: #1966040
Change-Id: Iff536d4f4267efbebc4be1e7e5da8a9fde39f79b
(cherry picked from commit 663d56c9535c64f4f8bd363abf69406975585ee9)
(cherry picked from commit 2312415517cd5ded007127d21f75f78ff2f63f52)
"
openstack%2Fironic~stable%2Fyoga~I49e1907b89a9096aa043424b205e7bd390ed1a2f,openstack/ironic,stable/yoga,,I49e1907b89a9096aa043424b205e7bd390ed1a2f,Redfish: Consider password part of the session cache,MERGED,2022-09-22 17:50:11.000000000,2022-10-05 17:19:37.000000000,2022-10-05 17:18:24.000000000,111,23,1,858903,de15ee79474273485d6979b88b973ff3833c4f0a,12,2,1,4,10342,Jay Faulkner,JayF,"Redfish: Consider password part of the session cache

Previously, when a password change occured in ironic,
the session would not be invalidated, and this, in theory,
could lead to all sorts of issues with the old password
still being re-used for authentication.

In a large environment where credentials for BMCs may not
be centralized, this can quickly lead to repeated account
lockout experiences for the BMC service account.

Anyhow, now we consider it in tracking the sessions, so
when the saved password is changed, a new session is
established, and the old session is eventually expired out
of the cache.

Change-Id: I49e1907b89a9096aa043424b205e7bd390ed1a2f
(cherry picked from commit c2ba869040f535e4bb83481d1fe9468e7e6991d8)
"
openstack%2Fironic-inspector~master~I9ffe108354515f2c80ee57cdeceeae9e5fa2d8b8,openstack/ironic-inspector,master,inspector-power-off-help,I9ffe108354515f2c80ee57cdeceeae9e5fa2d8b8,Add missing space to configuration help message,MERGED,2022-10-04 16:22:46.000000000,2022-10-05 17:19:32.000000000,2022-10-05 17:18:27.000000000,1,1,2,860278,3a249b60ba844250cdf174ce7390fd790595f7b6,9,4,1,1,15197,Pierre Riteau,priteau,"Add missing space to configuration help message

Change-Id: I9ffe108354515f2c80ee57cdeceeae9e5fa2d8b8
"
openstack%2Fansible-role-chrony~master~I673ce4fc17dd98aa251fdffce73bf9a096aad6fb,openstack/ansible-role-chrony,master,standalone-roles,I673ce4fc17dd98aa251fdffce73bf9a096aad6fb,Add tasks for run and sync to chrony role,MERGED,2022-05-17 20:09:07.000000000,2022-10-05 17:17:59.000000000,2022-10-05 17:17:59.000000000,160,25,13,842223,9528e8a0b75dbb8f6f9c0867766f69a8b077d611,24,6,5,6,7144,James Slagle,slagle,"Add tasks for run and sync to chrony role

- Moves some of the tasks from config.yml that are actually used to run
  the chronyd into a new dedicated run.yml tasks file.
- Adds a sync.yml with tasks for actually syncing using chronyc.
- Adds some install tasks to install.yml to disable ntpd in case it is
  running as it's not compatible when chronyd is also running.
- Refactors the distro variable loading into a common tasks vars.yml
  that can be reused by the other tasks files
- Adds a symbolic link 'chrony' to the top level directory of the
  project, since the role is named 'chrony', and ansible searches for a
  directory with that name.

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: I673ce4fc17dd98aa251fdffce73bf9a096aad6fb
"
openstack%2Ftripleo-ansible~master~I4193913292af02f762cdeabf53525342b19438eb,openstack/tripleo-ansible,master,standalone-roles,I4193913292af02f762cdeabf53525342b19438eb,Ensure /var/lib/kolla/config_files sub-directories exist,ABANDONED,2022-10-05 15:11:25.000000000,2022-10-05 17:16:36.000000000,,37,0,4,860472,60c6d9e26ab95be6f30ee83384273c3f58875230,11,1,2,2,18002,John Fulton,fultonj,"Ensure /var/lib/kolla/config_files sub-directories exist

If a standalone role sets a kolla_config template to a
source with a subdirectory of /var/lib/kolla/config_files,
then ensure that directory exists.

Without this patch, https://review.opendev.org/843659 fails.
tripleo_nova_compute/templates/kolla_config/nova_compute.yaml.j2
contains /var/lib/kolla/config_files/src-iscsid, so nova_compute
container exits with MissingRequiredSource:
/var/lib/kolla/config_files/src-iscsid/* file is not found.

Follow up to I9695bd5f40867fee404f3af8606737559a32284c

Change-Id: I4193913292af02f762cdeabf53525342b19438eb
"
openstack%2Fpython-openstackclient~master~Ie28fe625663c960fbffa12efb1503b8c9f8c0581,openstack/python-openstackclient,master,bp/unshelve-to-host,Ie28fe625663c960fbffa12efb1503b8c9f8c0581,Remove invalid note from requirements files,MERGED,2022-08-24 10:04:12.000000000,2022-10-05 17:11:07.000000000,2022-10-05 17:08:23.000000000,0,9,3,854364,8b0e467355440779e6463b88f7e6689110b9db1a,14,3,1,3,15334,Stephen Finucane,sfinucan,"Remove invalid note from requirements files

This isn't true with the new dependency resolver introduced in pip 20.3.

Change-Id: Ie28fe625663c960fbffa12efb1503b8c9f8c0581
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fopenstack-ansible-os_cinder~master~Ifceb2b816199339ec7725bd95cc890595eed95d9,openstack/openstack-ansible-os_cinder,master,osa/test_volumes,Ifceb2b816199339ec7725bd95cc890595eed95d9,Add nfs and ceph jobs to templates,MERGED,2022-09-26 18:43:52.000000000,2022-10-05 17:11:06.000000000,2022-10-05 17:08:59.000000000,13,1,5,859337,0d4b99404946d1cbffcd814657d02d9deb9442ac,23,3,3,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add nfs and ceph jobs to templates

With changing cinder code we potentially can break some backends.
In order to detect this in time we are adding ceph and nfs scenarios.

We also fix lvm backend for use on RedHat.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/859339
Change-Id: Ifceb2b816199339ec7725bd95cc890595eed95d9
"
openstack%2Fpython-openstackclient~master~I40a77334e4aee2e196062c38a0bb70f8f3079b44,openstack/python-openstackclient,master,bp/unshelve-to-host,I40a77334e4aee2e196062c38a0bb70f8f3079b44,Bump python-novaclient version,MERGED,2022-08-24 10:04:12.000000000,2022-10-05 17:09:55.000000000,2022-10-05 17:08:21.000000000,1,1,3,854363,84003aa6fe6aa1a570ced518bca473f1e5159cba,13,2,1,1,15334,Stephen Finucane,sfinucan,"Bump python-novaclient version

The recently added support for nova API microversions 2.91 and 2.92
necessitate a newer version of python-novaclient. Make it so.

Change-Id: I40a77334e4aee2e196062c38a0bb70f8f3079b44
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpuppet-tripleo~master~I011578c397780ed621bd3c4e92ad0a2a0cb3b78c,openstack/puppet-tripleo,master,crypto_policy,I011578c397780ed621bd3c4e92ad0a2a0cb3b78c,Allow an operator to change the crypto policies,NEW,2022-10-03 19:29:28.000000000,2022-10-05 17:04:14.000000000,,44,0,1,860124,f60bf4b653d8db09cff0b1449c40079b5dae1db8,14,4,9,1,7130,David Hill,dhill,"Allow an operator to change the crypto policies

Allow an operator to change the crypto policies through tripleo.

Change-Id: I011578c397780ed621bd3c4e92ad0a2a0cb3b78c
"
openstack%2Fcliff~master~I624fc0059057de05bb2bacd9c1238cba71ebad2a,openstack/cliff,master,importlib-metadata,I624fc0059057de05bb2bacd9c1238cba71ebad2a,Use importlib.metadata on Python 3.10+,NEW,2022-09-28 12:55:34.000000000,2022-10-05 16:52:16.000000000,,8,5,2,859579,fe58e0ac781bc581acd1a0451a6439db8916fd42,6,2,2,2,35352,Benjamin Alan Beasley,music,"Use importlib.metadata on Python 3.10+

Favor importlib.metadata.packages_distributions() over
importlib_metadata.packages_distributions() where it is available, i.e.,
on Python 3.10 and later.

Depend on PyPI importlib_metadata only on Python 3.9 and older:
conditionalize the requirements.txt entry on Python version.

Change-Id: I624fc0059057de05bb2bacd9c1238cba71ebad2a
"
openstack%2Fcharm-glance~master~Ic1cf491e1121f4fee3e57862fd1cc0315d3953da,openstack/charm-glance,master,bug/1989538,Ic1cf491e1121f4fee3e57862fd1cc0315d3953da,Ensure openstack-release package is correct after install hook,MERGED,2022-10-04 19:38:19.000000000,2022-10-05 16:27:42.000000000,2022-10-05 16:27:42.000000000,4,0,3,860301,4d29d4792ebc3f99d484488ed1041ede74b4a620,13,3,1,1,11805,Corey Bryant,coreycb,"Ensure openstack-release package is correct after install hook

The linked bug shows the install of the charm with openstack-origin set
to zed.  This happens because configure_installation_source() causes the
openstack-release package to be installed *before* the zed cloud archive
sources are configured into /etc/apt and an apt update done. This means
that the openstack-release package says ""yoga"" despite the zed packages
actually being installed.

Then, on the config-changed hook, it sees that the installed version is
showing as yoga and tries to do an upgrade.  This fails, as the charm
hasn't yet bootstrapped, and the charm tries to bootstrap after
upgrading the packages.

There's a few bugs here which are exposed, but the tactical fix is to
force the openstack-release to match the installed packages.

Closes-Bug: #1989538
Change-Id: Ic1cf491e1121f4fee3e57862fd1cc0315d3953da
"
openstack%2Fneutron~stable%2Fxena~If57d822ff617c2f9b5e5cade7d4ca74065376e55,openstack/neutron,stable/xena,bug/1991222,If57d822ff617c2f9b5e5cade7d4ca74065376e55,"[stable-only] Add writer DB context to ""add_provisioning_component""",MERGED,2022-09-29 14:36:15.000000000,2022-10-05 16:00:12.000000000,2022-10-05 15:59:05.000000000,1,0,8,859865,99bce9d055e08d9921ebe14164a36e8d2a47f81c,30,4,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[stable-only] Add writer DB context to ""add_provisioning_component""

To ensure the ""standardatributes"" register is present during the
creation of the ""provisioningblocks"" register, the method
""add_provisioning_component"" is wrapped with a database writer
context. That will ensure the standard attribute ID, used as a
foreign key in the ""provisioningblocks"" table, is present during
the transaction.

Closes-Bug: #1991222
Change-Id: If57d822ff617c2f9b5e5cade7d4ca74065376e55
(cherry picked from commit 9db730764c3b6bc394c4262e68bfcec7cea65b50)
"
openstack%2Fnova~stable%2Fwallaby~I11fb5d3ada7f27b39c183157ea73c8b72b4e672e,openstack/nova,stable/wallaby,bug/1815989,I11fb5d3ada7f27b39c183157ea73c8b72b4e672e,libvirt: Delegate OVS plug to os-vif,ABANDONED,2021-05-10 17:25:21.000000000,2022-10-05 15:48:06.000000000,,413,130,25,790447,d16ded1f5bbfa27d96c36978c6cedd0c050ab106,29,5,5,14,11604,sean mooney,sean-k-mooney,"libvirt: Delegate OVS plug to os-vif

os-vif 1.15.0 added the ability to create an OVS port during plugging
by specifying the 'create_port' attribute in the 'port_profile' field.
By delegating port creation to os-vif, we can rely on it's 'isolate_vif'
config option [1] that will temporarily configure the VLAN to 4095
(0xfff), which is reserved for implementation use [2] and is used by
neutron to as a dead VLAN [3]. By doing this, we ensure VIFs are plugged
securely, preventing guests from accessing other tenants' networks
before the neutron OVS agent can wire up the port.

This change requires a little dance as part of the live migration flow.
Since we can't be certain the destination host has a version of os-vif
that supports this feature, we need to use a sentinel to indicate when
it does. Typically we would do so with a field in
'LibvirtLiveMigrateData', such as the 'src_supports_numa_live_migration'
and 'dst_supports_numa_live_migration' fields used to indicate support
for NUMA-aware live migration. However, doing this prevents us
backporting this important fix since o.vo changes are not backportable.
Instead, we (somewhat evilly) rely on the free-form nature of the
'VIFMigrateData.profile_json' string field, which stores JSON blobs and
is included in 'LibvirtLiveMigrateData' via the 'vifs' attribute, to
transport this sentinel. This is a hack but is necessary to work around
the lack of a free-form ""capabilities"" style dict that would allow us do
backportable fixes to live migration features.

Note that this change has the knock on effect of modifying the XML
generated for OVS ports: when hybrid plug is false will now be of type
'ethernet' rather than 'bridge' as before. This explains the larger than
expected test damage but should not affect users.

Changes:
  lower-constraints.txt
  requirements.txt
  nova/network/os_vif_util.py
  nova/tests/unit/virt/libvirt/test_vif.py
  nova/tests/unit/virt/libvirt/test_driver.py
  nova/virt/libvirt/driver.py

NOTE(stephenfin): Change I362deb1088c88cdcd8219922da9dc9a01b10a940
(""objects: Fix VIFMigrateData.supports_os_vif_delegation setter"") which
contains an important fix for the original change, is squashed into this
change. In addition, the os-vif version bump we introduced in the
original version of this patch is not backportable and as a result, we
must introduce two additional checks. Both checks ensure we have a
suitable version of os-vif and skip the new code paths if not. The first
check is in the libvirt driver's 'check_can_live_migrate_destination'
function, which as the name suggests runs on the destination host early
in the live migration process. If os-vif is not new enough on the
destination, we will report that we cannot support os-vif delegation.
The other check is in the '_nova_to_osvif_vif_ovs' helper in
'nova.network.os_vif_util'. This simply ensures we don't try to set an
invalid attribute on the os-vif object if the version isn't new enough.
Two tests are modified to accommodate these checks with similar version
check logic. The lower-constraints job can be relied on to validate
behavior on the older version of os-vif.

[1] https://opendev.org/openstack/os-vif/src/tag/2.4.0/vif_plug_ovs/ovs.py#L90-L93
[2] https://en.wikipedia.org/wiki/IEEE_802.1Q#Frame_format
[3] https://answers.launchpad.net/neutron/+question/231806

Change-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e
Depends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50
Closes-Bug: #1734320
Closes-Bug: #1815989
(cherry picked from commit a62dd42c0dbb6b2ab128e558e127d76962738446)
"
openstack%2Fnova~stable%2Fvictoria~I11fb5d3ada7f27b39c183157ea73c8b72b4e672e,openstack/nova,stable/victoria,bug/1815989,I11fb5d3ada7f27b39c183157ea73c8b72b4e672e,libvirt: Delegate OVS plug to os-vif,ABANDONED,2021-06-18 17:38:56.000000000,2022-10-05 15:47:45.000000000,,408,106,0,797144,749ce863886329364305edfee375a2b5b44de187,7,2,1,14,15334,Stephen Finucane,sfinucan,"libvirt: Delegate OVS plug to os-vif

os-vif 1.15.0 added the ability to create an OVS port during plugging
by specifying the 'create_port' attribute in the 'port_profile' field.
By delegating port creation to os-vif, we can rely on it's 'isolate_vif'
config option [1] that will temporarily configure the VLAN to 4095
(0xfff), which is reserved for implementation use [2] and is used by
neutron to as a dead VLAN [3]. By doing this, we ensure VIFs are plugged
securely, preventing guests from accessing other tenants' networks
before the neutron OVS agent can wire up the port.

This change requires a little dance as part of the live migration flow.
Since we can't be certain the destination host has a version of os-vif
that supports this feature, we need to use a sentinel to indicate when
it does. Typically we would do so with a field in
'LibvirtLiveMigrateData', such as the 'src_supports_numa_live_migration'
and 'dst_supports_numa_live_migration' fields used to indicate support
for NUMA-aware live migration. However, doing this prevents us
backporting this important fix since o.vo changes are not backportable.
Instead, we (somewhat evilly) rely on the free-form nature of the
'VIFMigrateData.profile_json' string field, which stores JSON blobs and
is included in 'LibvirtLiveMigrateData' via the 'vifs' attribute, to
transport this sentinel. This is a hack but is necessary to work around
the lack of a free-form ""capabilities"" style dict that would allow us do
backportable fixes to live migration features.

Note that this change has the knock on effect of modifying the XML
generated for OVS ports: when hybrid plug is false will now be of type
'ethernet' rather than 'bridge' as before. This explains the larger than
expected test damage but should not affect users.

Conflicts:
  nova/tests/unit/virt/libvirt/fakelibvirt.py
  nova/tests/unit/virt/libvirt/test_driver.py
  nova/tests/unit/virt/libvirt/test_vif.py
  nova/virt/libvirt/driver.py

Changes:
  nova/tests/unit/virt/libvirt/test_driver.py

NOTE(stephenfin): Conflicts in the fake libvirt fixture are due to the
absence of I7f2b6330decb92e2838aa7cee47fb228f00f47da (""Replace blind
retry with libvirt event waiting in detach""), which significantly beefed
up this fixture. We use the beefed up version here since it works and is
arguably more correct that what we had previously. The conflicts in the
other files are trivial conflicts caused by the removal of 'six' imports
in changes I779bd1446dc1f070fa5100ccccda7881fa508d79 (""Remove
six.text_type (2/2)"") and I23bb9e539d08f5c6202909054c2dd49b6c7a7a0e
(""Remove six.text_type (1/2)"") on stable/wallaby. The additional change
is a trivial addition of a mock to two tests that no longer existed on
stable/wallaby due to change I952f36fe201aad37297c7630ed562b579c90f64a
(""libvirt: Remove MIN_LIBVIRT_FILE_BACKED_DISCARD_VERSION"").

[1] https://opendev.org/openstack/os-vif/src/tag/2.4.0/vif_plug_ovs/ovs.py#L90-L93
[2] https://en.wikipedia.org/wiki/IEEE_802.1Q#Frame_format
[3] https://answers.launchpad.net/neutron/+question/231806

Change-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e
Depends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50
Closes-Bug: #1734320
Closes-Bug: #1815989
(cherry picked from commit a62dd42c0dbb6b2ab128e558e127d76962738446)
(cherry picked from commit d16ded1f5bbfa27d96c36978c6cedd0c050ab106)
"
openstack%2Fnova~stable%2Fussuri~I11fb5d3ada7f27b39c183157ea73c8b72b4e672e,openstack/nova,stable/ussuri,bug/1815989,I11fb5d3ada7f27b39c183157ea73c8b72b4e672e,libvirt: Delegate OVS plug to os-vif,ABANDONED,2021-06-21 13:09:02.000000000,2022-10-05 15:47:42.000000000,,469,132,0,797291,b7a8cb073822cca41301a2e209d9947ee0c3cf66,14,1,2,14,15334,Stephen Finucane,sfinucan,"libvirt: Delegate OVS plug to os-vif

os-vif 1.15.0 added the ability to create an OVS port during plugging
by specifying the 'create_port' attribute in the 'port_profile' field.
By delegating port creation to os-vif, we can rely on it's 'isolate_vif'
config option [1] that will temporarily configure the VLAN to 4095
(0xfff), which is reserved for implementation use [2] and is used by
neutron to as a dead VLAN [3]. By doing this, we ensure VIFs are plugged
securely, preventing guests from accessing other tenants' networks
before the neutron OVS agent can wire up the port.

This change requires a little dance as part of the live migration flow.
Since we can't be certain the destination host has a version of os-vif
that supports this feature, we need to use a sentinel to indicate when
it does. Typically we would do so with a field in
'LibvirtLiveMigrateData', such as the 'src_supports_numa_live_migration'
and 'dst_supports_numa_live_migration' fields used to indicate support
for NUMA-aware live migration. However, doing this prevents us
backporting this important fix since o.vo changes are not backportable.
Instead, we (somewhat evilly) rely on the free-form nature of the
'VIFMigrateData.profile_json' string field, which stores JSON blobs and
is included in 'LibvirtLiveMigrateData' via the 'vifs' attribute, to
transport this sentinel. This is a hack but is necessary to work around
the lack of a free-form ""capabilities"" style dict that would allow us do
backportable fixes to live migration features.

Note that this change has the knock on effect of modifying the XML
generated for OVS ports: when hybrid plug is false will now be of type
'ethernet' rather than 'bridge' as before. This explains the larger than
expected test damage but should not affect users.

Conflicts:
  nova/tests/functional/libvirt/test_pci_sriov_servers.py
  nova/virt/libvirt/vif.py

Changes:
  nova/tests/unit/virt/libvirt/test_vif.py

NOTE(stephenfin): Conflicts in the functional test are due to the
absence of a large number of cleanup changes and additional test changes
like change I3b648c6d7ba6d4bd5d355ce890608744354ae907 (""functional: Add
cold migration tests for PCI servers""), while the conflicts in the 'vif'
module are due to change Iefa6009874395cafe3121e44a48d882c38230d16
(""libvirt: Remove MIN_*_INTERFACE_MTU, MIN_*_TX_QUEUE_SIZE"") which
removed the 'host' argument from a number of function calls in the
module which we must re-add here. The changes to the tests are necessary
because these tests were removed in later branches as part of change
Iefa6009874395cafe3121e44a48d882c38230d16 (""libvirt: Remove
MIN_*_INTERFACE_MTU, MIN_*_TX_QUEUE_SIZE"")

[1] https://opendev.org/openstack/os-vif/src/tag/2.4.0/vif_plug_ovs/ovs.py#L90-L93
[2] https://en.wikipedia.org/wiki/IEEE_802.1Q#Frame_format
[3] https://answers.launchpad.net/neutron/+question/231806

Change-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e
Depends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50
Closes-Bug: #1734320
Closes-Bug: #1815989
(cherry picked from commit a62dd42c0dbb6b2ab128e558e127d76962738446)
(cherry picked from commit d16ded1f5bbfa27d96c36978c6cedd0c050ab106)
(cherry picked from commit 749ce863886329364305edfee375a2b5b44de187)
"
openstack%2Fnova~stable%2Ftrain~I11fb5d3ada7f27b39c183157ea73c8b72b4e672e,openstack/nova,stable/train,bug/1815989,I11fb5d3ada7f27b39c183157ea73c8b72b4e672e,libvirt: Delegate OVS plug to os-vif,ABANDONED,2021-06-21 14:11:41.000000000,2022-10-05 15:47:40.000000000,,468,132,2,797316,503204f5f1d25192dc5ae71f3e55de7b8f1eb00d,14,1,2,13,15334,Stephen Finucane,sfinucan,"libvirt: Delegate OVS plug to os-vif

os-vif 1.15.0 added the ability to create an OVS port during plugging
by specifying the 'create_port' attribute in the 'port_profile' field.
By delegating port creation to os-vif, we can rely on it's 'isolate_vif'
config option [1] that will temporarily configure the VLAN to 4095
(0xfff), which is reserved for implementation use [2] and is used by
neutron to as a dead VLAN [3]. By doing this, we ensure VIFs are plugged
securely, preventing guests from accessing other tenants' networks
before the neutron OVS agent can wire up the port.

This change requires a little dance as part of the live migration flow.
Since we can't be certain the destination host has a version of os-vif
that supports this feature, we need to use a sentinel to indicate when
it does. Typically we would do so with a field in
'LibvirtLiveMigrateData', such as the 'src_supports_numa_live_migration'
and 'dst_supports_numa_live_migration' fields used to indicate support
for NUMA-aware live migration. However, doing this prevents us
backporting this important fix since o.vo changes are not backportable.
Instead, we (somewhat evilly) rely on the free-form nature of the
'VIFMigrateData.profile_json' string field, which stores JSON blobs and
is included in 'LibvirtLiveMigrateData' via the 'vifs' attribute, to
transport this sentinel. This is a hack but is necessary to work around
the lack of a free-form ""capabilities"" style dict that would allow us do
backportable fixes to live migration features.

Note that this change has the knock on effect of modifying the XML
generated for OVS ports: when hybrid plug is false will now be of type
'ethernet' rather than 'bridge' as before. This explains the larger than
expected test damage but should not affect users.

Conflicts:
  nova/tests/unit/fake_network.py
  nova/tests/unit/virt/libvirt/test_driver.py
  nova/tests/unit/virt/libvirt/test_vif.py
  nova/virt/libvirt/driver.py

Changes:
  nova/tests/unit/virt/libvirt/test_driver.py
  nova/virt/libvirt/driver.py

NOTE(stephenfin): The conflicts aren't as bad (well, as complex) as you
would think from the raw file count. The conflicts in the 'fake_network'
and 'test_vif' modules are caused by the nova-network removal that
occurred in Ussuri, changes I08aa4d581720b0f6cd1dabccc98dac210d1a1663
(""nova-net: Remove dependency on nova-net from fake cache"") and
I5a9e5532c46a5f7064441ae644125d21efe5fda1 (""nova-net: Remove firewall
support (pt. 2)"") specifically. The conflicts in the 'test_driver'
module are due to change If56842da51688476072814e6e8309cf9e0a0210c
(""libvirt: flatten rbd image during cross-cell move spawn at dest"") and
change Id80fd1f68c0bb3b2d3af6e139b3d163acaef081d (""libvirt: Remove
MIN_QEMU_FILE_BACKED_DISCARD_VERSION""). Finally, the small conflict in
'nova.virt.libvirt.driver' is due to some reshuffling of the glance
module from change I7ca7d8a92dfbc7c8d0ee2f9e660eabaa7e220e2a (""Remove
'nova.image.api' module"").

NOTE(stephenfin): All of the additional changes, specifically an updated
import in the libvirt driver and updated mocks in the tests for same to
handle the reshuffle of the neutron module introduced in change
I329f0fd589a4b2e0426485f09f6782f94275cc07 (""nova-net: Remove layer of
indirection in 'nova.network'"").

[1] https://opendev.org/openstack/os-vif/src/tag/2.4.0/vif_plug_ovs/ovs.py#L90-L93
[2] https://en.wikipedia.org/wiki/IEEE_802.1Q#Frame_format
[3] https://answers.launchpad.net/neutron/+question/231806

Change-Id: I11fb5d3ada7f27b39c183157ea73c8b72b4e672e
Depends-On: Id12486b3127ab4ac8ad9ef2b3641da1b79a25a50
Closes-Bug: #1734320
Closes-Bug: #1815989
(cherry picked from commit a62dd42c0dbb6b2ab128e558e127d76962738446)
(cherry picked from commit d16ded1f5bbfa27d96c36978c6cedd0c050ab106)
(cherry picked from commit 749ce863886329364305edfee375a2b5b44de187)
(cherry picked from commit b7a8cb073822cca41301a2e209d9947ee0c3cf66)
"
openstack%2Fnova~stable%2Fvictoria~I333b3d85deed971678141307dd06545e308cf989,openstack/nova,stable/victoria,bug/1910466,I333b3d85deed971678141307dd06545e308cf989,Test numa and vcpu topologies bug: #1910466,ABANDONED,2021-06-23 15:30:37.000000000,2022-10-05 15:45:06.000000000,,38,3,2,797680,e9526265455e3189b400bc7877b89ca3f59777cf,7,2,1,1,15334,Stephen Finucane,sfinucan,"Test numa and vcpu topologies bug: #1910466

This change reproduces bug #1910466
When hw:cpu_max_[sockets|cores|threads] is configured
in addition to an explict numa topologies and cpu pinning
nova is currently incapable of generating the correct
virtual CPU topology resulting in an index out of range
error as we attempt to retrieve the first topology
from an empty list.

This change reproduces the error via a new functional
test.

Conflicts:
  nova/tests/functional/libvirt/test_numa_servers.py

NOTE(stephenfin): Conflicts are trivial and due to the absence of change
I1c97776583f9e43c4a284fb9ef59bd6293730a28 (""fakelibvirt: make kB_mem
default not laughable"").

Related-Bug: #1910466
Change-Id: I333b3d85deed971678141307dd06545e308cf989
(cherry picked from commit fe25fa13e0572aafb62b28bf7fa843a1860e5010)
(cherry picked from commit 5f994a18b3105047a2231231815d09f96c920958)
"
openstack%2Fnova~stable%2Frocky~I333b3d85deed971678141307dd06545e308cf989,openstack/nova,stable/rocky,bug/1910466,I333b3d85deed971678141307dd06545e308cf989,Test numa and vcpu topologies bug: #1910466,ABANDONED,2021-06-24 16:46:56.000000000,2022-10-05 15:44:45.000000000,,44,0,0,797981,c4d9a7581ab11fd1510d0fccfd869d14169bf31f,3,2,1,1,15334,Stephen Finucane,sfinucan,"Test numa and vcpu topologies bug: #1910466

This change reproduces bug #1910466
When hw:cpu_max_[sockets|cores|threads] is configured
in addition to an explict numa topologies and cpu pinning
nova is currently incapable of generating the correct
virtual CPU topology resulting in an index out of range
error as we attempt to retrieve the first topology
from an empty list.

This change reproduces the error via a new functional
test.

Changes:
  nova/tests/functional/libvirt/test_numa_servers.py

NOTE(stephenfin): Changes are necessary because we don't have change
I3b4c1153bebdeab2eb8bc2108aa177732f5c6a97 (""tests: Move mocking to
setUp"") which changed how we mocked the libvirt connection in our
functional tests. We must modify the tests to use the ""old way"".

Related-Bug: #1910466
Change-Id: I333b3d85deed971678141307dd06545e308cf989
(cherry picked from commit fe25fa13e0572aafb62b28bf7fa843a1860e5010)
(cherry picked from commit 5f994a18b3105047a2231231815d09f96c920958)
(cherry picked from commit e9526265455e3189b400bc7877b89ca3f59777cf)
(cherry picked from commit 334a310e2096e699d3c327e95b1c0a83cf77691b)
(cherry picked from commit 2e785340207c8c3dd318525626facd6812295449)
(cherry picked from commit 34d48d3d3732061f6be6e4842a09847d57d7f37a)
"
openstack%2Fnova~stable%2Fvictoria~Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,openstack/nova,stable/victoria,bug/1910466,Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,Fix max cpu topologies with numa affinity,ABANDONED,2021-06-23 15:30:37.000000000,2022-10-05 15:44:31.000000000,,63,301,0,797681,6c858fa6b53526e92013980817716934b14e65df,5,2,1,6,15334,Stephen Finucane,sfinucan,"Fix max cpu topologies with numa affinity

Nova has never supported specifying per numa node
cpu toplogies. Logically the  cpu toplogy of a guest
is independent of its numa toplogy and there is no
way to model different cpu toplogies per numa node
or implement that in hardware.

The presence of the code in nova that allowed the generation
of these invalid configuration has now been removed as it
broke the automatic selection of cpu topologies based
on hw:max_[cpus|sockets|threads] flavor and image properties.

This change removed the incorrect code and related unit
tests with assert nova could generate invalid topologies.

Conflicts:
  nova/tests/functional/libvirt/test_numa_servers.py
  nova/virt/hardware.py

Changes:
  nova/tests/functional/libvirt/test_numa_servers.py

NOTE(stephenfin): Conflicts trival and are due to two changes, change
I30a040d549f48d53cab2c59c00bb269f821ace88 (""functional: Add tests for
mixed CPU policy"") and change I72afe21d117e932cc00c9f616618fb3722bf8ca4
(""functional: Add test for #1898272""), both of which were part of the
mixed CPU policy series. The change is also duplicating something we did
in one of these changes, as we modify the '_run_build_test' helper to
handle 'expected_usages=None' (the default)

Closes-Bug: #1910466
Change-Id: Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b
(cherry picked from commit 387823b36d091abbaa37efb930fc98b94a5bbb93)
(cherry picked from commit c9826ca6eb10fc36fb563a42f55715ff5ac51684)
"
openstack%2Fnova~stable%2Fussuri~I333b3d85deed971678141307dd06545e308cf989,openstack/nova,stable/ussuri,bug/1910466,I333b3d85deed971678141307dd06545e308cf989,Test numa and vcpu topologies bug: #1910466,ABANDONED,2021-06-24 11:24:53.000000000,2022-10-05 15:44:29.000000000,,36,0,0,797878,334a310e2096e699d3c327e95b1c0a83cf77691b,4,2,1,1,15334,Stephen Finucane,sfinucan,"Test numa and vcpu topologies bug: #1910466

This change reproduces bug #1910466
When hw:cpu_max_[sockets|cores|threads] is configured
in addition to an explict numa topologies and cpu pinning
nova is currently incapable of generating the correct
virtual CPU topology resulting in an index out of range
error as we attempt to retrieve the first topology
from an empty list.

This change reproduces the error via a new functional
test.

Conflicts:
  nova/tests/functional/libvirt/test_numa_servers.py

Changes:
  nova/tests/functional/libvirt/test_numa_servers.py

NOTE(stephenfin): Conflicts are due to the absence of change
I79a16a0a62c6060cd3062174ce68fd8cbde9f3fc (""functional: Add
'start_compute' helper"") which, as the name would suggest, added a
'start_compute' helper. We're forced to use the ""old way"" here. The
changes are due to the same missing change.

Related-Bug: #1910466
Change-Id: I333b3d85deed971678141307dd06545e308cf989
(cherry picked from commit fe25fa13e0572aafb62b28bf7fa843a1860e5010)
(cherry picked from commit 5f994a18b3105047a2231231815d09f96c920958)
(cherry picked from commit e9526265455e3189b400bc7877b89ca3f59777cf)
"
openstack%2Fnova~stable%2Ftrain~I333b3d85deed971678141307dd06545e308cf989,openstack/nova,stable/train,bug/1910466,I333b3d85deed971678141307dd06545e308cf989,Test numa and vcpu topologies bug: #1910466,ABANDONED,2021-06-24 11:35:13.000000000,2022-10-05 15:44:26.000000000,,36,0,0,797880,2e785340207c8c3dd318525626facd6812295449,4,2,1,1,15334,Stephen Finucane,sfinucan,"Test numa and vcpu topologies bug: #1910466

This change reproduces bug #1910466
When hw:cpu_max_[sockets|cores|threads] is configured
in addition to an explict numa topologies and cpu pinning
nova is currently incapable of generating the correct
virtual CPU topology resulting in an index out of range
error as we attempt to retrieve the first topology
from an empty list.

This change reproduces the error via a new functional
test.

Conflicts:
  nova/tests/functional/libvirt/test_numa_servers.py

Changes:
  nova/tests/functional/libvirt/test_numa_servers.py

NOTE(stephenfin): Conflicts are due to the absence of change
I79a16a0a62c6060cd3062174ce68fd8cbde9f3fc (""functional: Add
'start_compute' helper"") which, as the name would suggest, added a
'start_compute' helper. We're forced to use the ""old way"" here. The
changes are due to the same missing change.

Related-Bug: #1910466
Change-Id: I333b3d85deed971678141307dd06545e308cf989
(cherry picked from commit fe25fa13e0572aafb62b28bf7fa843a1860e5010)
(cherry picked from commit 5f994a18b3105047a2231231815d09f96c920958)
(cherry picked from commit e9526265455e3189b400bc7877b89ca3f59777cf)
(cherry picked from commit 334a310e2096e699d3c327e95b1c0a83cf77691b)
"
openstack%2Fnova~stable%2Fussuri~Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,openstack/nova,stable/ussuri,bug/1910466,Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,Fix max cpu topologies with numa affinity,ABANDONED,2021-06-24 11:24:53.000000000,2022-10-05 15:44:24.000000000,,63,282,0,797879,cfceb61c976c7f6a80426d29c956515cbc6fa8fb,5,2,1,6,15334,Stephen Finucane,sfinucan,"Fix max cpu topologies with numa affinity

Nova has never supported specifying per numa node
cpu toplogies. Logically the  cpu toplogy of a guest
is independent of its numa toplogy and there is no
way to model different cpu toplogies per numa node
or implement that in hardware.

The presence of the code in nova that allowed the generation
of these invalid configuration has now been removed as it
broke the automatic selection of cpu topologies based
on hw:max_[cpus|sockets|threads] flavor and image properties.

This change removed the incorrect code and related unit
tests with assert nova could generate invalid topologies.

Conflicts:
  nova/tests/unit/virt/test_hardware.py
  nova/virt/hardware.py

Changes:
  nova/virt/hardware.py

NOTE(stephenfin): Conflicts in 'nova/tests/unit/virt/test_hardware.py'
are due to missing changes from the use-pcpu-and-vcpu-in-one-instance
series, specifically changes Ia651cf9f51ff7265c5e3bfec79bc695aa3fe3394
(""hardware: Remove '_numa_fit_instance_cell_with_pinning'"") and
I901fbd7df00e45196395ff4c69e7b8aa3359edf6 (""objects: Introduce 'pcpuset'
field for InstanceNUMACell""). Both the conflict and change (removal of
an unnecessary import) in 'nova/virt/hardware.py' are due to the absence
of change Iccce0ab50eee515e533ab36c8e7adc10cb3f7019 (""Remove six.PY2 and
six.PY3"").

Closes-Bug: #1910466
Change-Id: Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b
(cherry picked from commit 387823b36d091abbaa37efb930fc98b94a5bbb93)
(cherry picked from commit c9826ca6eb10fc36fb563a42f55715ff5ac51684)
(cherry picked from commit 6c858fa6b53526e92013980817716934b14e65df)
"
openstack%2Fnova~stable%2Fstein~I333b3d85deed971678141307dd06545e308cf989,openstack/nova,stable/stein,bug/1910466,I333b3d85deed971678141307dd06545e308cf989,Test numa and vcpu topologies bug: #1910466,ABANDONED,2021-06-24 16:19:49.000000000,2022-10-05 15:44:22.000000000,,36,0,0,797975,34d48d3d3732061f6be6e4842a09847d57d7f37a,4,2,2,1,15334,Stephen Finucane,sfinucan,"Test numa and vcpu topologies bug: #1910466

This change reproduces bug #1910466
When hw:cpu_max_[sockets|cores|threads] is configured
in addition to an explict numa topologies and cpu pinning
nova is currently incapable of generating the correct
virtual CPU topology resulting in an index out of range
error as we attempt to retrieve the first topology
from an empty list.

This change reproduces the error via a new functional
test.

Conflicts:
  nova/tests/functional/libvirt/test_numa_servers.py

Changes:
  nova/tests/functional/libvirt/test_numa_servers.py

NOTE(stephenfin): Conflicts are due to the absence of changes related to
the 'cpu-resources' spec, which moved pinned CPU tracking to placement,
such as change I0996c7c5b76deec759ebff325038ded216306908 (""tests:
Additional functional tests for pinned instances""), as well as a couple
of related bug fixes and fixups. The change is because we're missing
change Ifcda7336d56c9b623720ee018ec5697740986273 (""fakelibvirt: Stop
distinguishing between NUMA, non-NUMA"") and need to replace a reference
to 'HostInfo' with the older 'NUMAHostInfo'

Related-Bug: #1910466
Change-Id: I333b3d85deed971678141307dd06545e308cf989
(cherry picked from commit fe25fa13e0572aafb62b28bf7fa843a1860e5010)
(cherry picked from commit 5f994a18b3105047a2231231815d09f96c920958)
(cherry picked from commit e9526265455e3189b400bc7877b89ca3f59777cf)
(cherry picked from commit 334a310e2096e699d3c327e95b1c0a83cf77691b)
(cherry picked from commit 2e785340207c8c3dd318525626facd6812295449)
"
openstack%2Fnova~stable%2Fqueens~I333b3d85deed971678141307dd06545e308cf989,openstack/nova,stable/queens,bug/1910466,I333b3d85deed971678141307dd06545e308cf989,Test numa and vcpu topologies bug: #1910466,ABANDONED,2021-06-24 16:57:47.000000000,2022-10-05 15:44:17.000000000,,44,0,0,797987,c89050c567477fd321d93aea2bf11a53bb3fe6eb,3,2,1,1,15334,Stephen Finucane,sfinucan,"Test numa and vcpu topologies bug: #1910466

This change reproduces bug #1910466
When hw:cpu_max_[sockets|cores|threads] is configured
in addition to an explict numa topologies and cpu pinning
nova is currently incapable of generating the correct
virtual CPU topology resulting in an index out of range
error as we attempt to retrieve the first topology
from an empty list.

This change reproduces the error via a new functional
test.

Changes:
  nova/tests/functional/libvirt/test_numa_servers.py

NOTE(stephenfin): Changes are necessary because we don't have change
I3b4c1153bebdeab2eb8bc2108aa177732f5c6a97 (""tests: Move mocking to
setUp"") which changed how we mocked the libvirt connection in our
functional tests. We must modify the tests to use the ""old way"".

Related-Bug: #1910466
Change-Id: I333b3d85deed971678141307dd06545e308cf989
(cherry picked from commit fe25fa13e0572aafb62b28bf7fa843a1860e5010)
(cherry picked from commit 5f994a18b3105047a2231231815d09f96c920958)
(cherry picked from commit e9526265455e3189b400bc7877b89ca3f59777cf)
(cherry picked from commit 334a310e2096e699d3c327e95b1c0a83cf77691b)
(cherry picked from commit 2e785340207c8c3dd318525626facd6812295449)
(cherry picked from commit 34d48d3d3732061f6be6e4842a09847d57d7f37a)
(cherry picked from commit c4d9a7581ab11fd1510d0fccfd869d14169bf31f)
"
openstack%2Fnova~stable%2Fstein~Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,openstack/nova,stable/stein,bug/1910466,Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,Fix max cpu topologies with numa affinity,ABANDONED,2021-06-24 16:19:49.000000000,2022-10-05 15:44:15.000000000,,58,280,0,797976,1ad30eeaf8b0670036252f36cb28e101e1a8ff89,5,2,2,6,15334,Stephen Finucane,sfinucan,"Fix max cpu topologies with numa affinity

Nova has never supported specifying per numa node
cpu toplogies. Logically the  cpu toplogy of a guest
is independent of its numa toplogy and there is no
way to model different cpu toplogies per numa node
or implement that in hardware.

The presence of the code in nova that allowed the generation
of these invalid configuration has now been removed as it
broke the automatic selection of cpu topologies based
on hw:max_[cpus|sockets|threads] flavor and image properties.

This change removed the incorrect code and related unit
tests with assert nova could generate invalid topologies.

Conflicts:
  nova/tests/functional/libvirt/test_numa_servers.py
  nova/virt/hardware.py

NOTE(stephenfin): As expected, this was the hairiest of the backports so
far due to the absence of changes from 'cpu-resources' series. With that
said, most of the ""hairiness"" is in the functional test, given we're
missing tests from change Ie38aa625dff543b5980fd437ad2febeba3b50079
(""Add support for translating CPU policy extra specs, image meta"") and
its ilk. The actual test itself is unchanged from stable/train, however.
The conflicts in the code itself are far more trivial and are caused by
the absence of changes Ie38aa625dff543b5980fd437ad2febeba3b50079 and
I6381365ff882cf23808e8dabfce41143c5e35192 (""hacking: Resolve W503 (line
break occurred before a binary operator)""). They're easily resolved.

Closes-Bug: #1910466
Change-Id: Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b
(cherry picked from commit 387823b36d091abbaa37efb930fc98b94a5bbb93)
(cherry picked from commit c9826ca6eb10fc36fb563a42f55715ff5ac51684)
(cherry picked from commit 6c858fa6b53526e92013980817716934b14e65df)
(cherry picked from commit cfceb61c976c7f6a80426d29c956515cbc6fa8fb)
(cherry picked from commit 5973c09b7abbcd8ff3a0214cf3429737d266dabc)
"
openstack%2Fnova~stable%2Frocky~Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,openstack/nova,stable/rocky,bug/1910466,Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,Fix max cpu topologies with numa affinity,ABANDONED,2021-06-24 16:46:56.000000000,2022-10-05 15:44:12.000000000,,58,275,0,797982,5ccea552a0f3858786a0760ac7f0e8267fce2a7e,4,2,1,6,15334,Stephen Finucane,sfinucan,"Fix max cpu topologies with numa affinity

Nova has never supported specifying per numa node
cpu toplogies. Logically the  cpu toplogy of a guest
is independent of its numa toplogy and there is no
way to model different cpu toplogies per numa node
or implement that in hardware.

The presence of the code in nova that allowed the generation
of these invalid configuration has now been removed as it
broke the automatic selection of cpu topologies based
on hw:max_[cpus|sockets|threads] flavor and image properties.

This change removed the incorrect code and related unit
tests with assert nova could generate invalid topologies.

Conflicts:
  nova/tests/functional/libvirt/test_numa_servers.py
  nova/virt/hardware.py

NOTE(stephenfin): Test conflicts are due to the absence of change
I3b4c1153bebdeab2eb8bc2108aa177732f5c6a97 (""tests: Move mocking to
setUp"") and the changes we made to the functional test added in
I333b3d85deed971678141307dd06545e308cf989 to handle this. The other
conflict is due to change Ib3dd924e967bc9b48d81dc81e1fcdeba0120985c
(""Use math.gcd starting with python 3.5""), which affects code that we're
removing here and therefore isn't something we should backport.

Closes-Bug: #1910466
Change-Id: Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b
(cherry picked from commit 387823b36d091abbaa37efb930fc98b94a5bbb93)
(cherry picked from commit c9826ca6eb10fc36fb563a42f55715ff5ac51684)
(cherry picked from commit 6c858fa6b53526e92013980817716934b14e65df)
(cherry picked from commit cfceb61c976c7f6a80426d29c956515cbc6fa8fb)
(cherry picked from commit 5973c09b7abbcd8ff3a0214cf3429737d266dabc)
(cherry picked from commit 1ad30eeaf8b0670036252f36cb28e101e1a8ff89)
"
openstack%2Fnova~stable%2Ftrain~Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,openstack/nova,stable/train,bug/1910466,Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,Fix max cpu topologies with numa affinity,ABANDONED,2021-06-24 11:35:13.000000000,2022-10-05 15:44:09.000000000,,63,282,0,797881,5973c09b7abbcd8ff3a0214cf3429737d266dabc,5,2,1,6,15334,Stephen Finucane,sfinucan,"Fix max cpu topologies with numa affinity

Nova has never supported specifying per numa node
cpu toplogies. Logically the  cpu toplogy of a guest
is independent of its numa toplogy and there is no
way to model different cpu toplogies per numa node
or implement that in hardware.

The presence of the code in nova that allowed the generation
of these invalid configuration has now been removed as it
broke the automatic selection of cpu topologies based
on hw:max_[cpus|sockets|threads] flavor and image properties.

This change removed the incorrect code and related unit
tests with assert nova could generate invalid topologies.

Conflicts:
  nova/objects/instance_numa.py

NOTE(stephenfin): Conflicts are due to the absence of change
Ica9f217d0318fc7c2db4bcdea12d00aad749c30c (""Add NovaEphemeralObject
class for non-persistent objects"") which we _could_ backport but don't
really need to.

Closes-Bug: #1910466
Change-Id: Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b
(cherry picked from commit 387823b36d091abbaa37efb930fc98b94a5bbb93)
(cherry picked from commit c9826ca6eb10fc36fb563a42f55715ff5ac51684)
(cherry picked from commit 6c858fa6b53526e92013980817716934b14e65df)
(cherry picked from commit cfceb61c976c7f6a80426d29c956515cbc6fa8fb)
"
openstack%2Fnova~stable%2Fqueens~Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,openstack/nova,stable/queens,bug/1910466,Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,Fix max cpu topologies with numa affinity,ABANDONED,2021-06-24 16:57:47.000000000,2022-10-05 15:44:03.000000000,,58,274,0,797988,828a8d67540de6227d22edd0db6a79eaa9ecda0a,4,2,1,6,15334,Stephen Finucane,sfinucan,"Fix max cpu topologies with numa affinity

Nova has never supported specifying per numa node
cpu toplogies. Logically the  cpu toplogy of a guest
is independent of its numa toplogy and there is no
way to model different cpu toplogies per numa node
or implement that in hardware.

The presence of the code in nova that allowed the generation
of these invalid configuration has now been removed as it
broke the automatic selection of cpu topologies based
on hw:max_[cpus|sockets|threads] flavor and image properties.

This change removed the incorrect code and related unit
tests with assert nova could generate invalid topologies.

Conflicts:
  nova/virt/hardware.py

NOTE(stephenfin): Conflicts are due to the absence of changes
Ia99d2e4e502d6fa13572727a9dabc617f472cb0f (""hardware: Rework
'_get_cpu_topology_constraints'"") and
I021ce59048d6292055af49457ba642022f648c81 (""Ensure emulator threads are
always calculated""), both of which are too invasive to backport.

Closes-Bug: #1910466
Change-Id: Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b
(cherry picked from commit 387823b36d091abbaa37efb930fc98b94a5bbb93)
(cherry picked from commit c9826ca6eb10fc36fb563a42f55715ff5ac51684)
(cherry picked from commit 6c858fa6b53526e92013980817716934b14e65df)
(cherry picked from commit cfceb61c976c7f6a80426d29c956515cbc6fa8fb)
(cherry picked from commit 5973c09b7abbcd8ff3a0214cf3429737d266dabc)
(cherry picked from commit 1ad30eeaf8b0670036252f36cb28e101e1a8ff89)
(cherry picked from commit 5ccea552a0f3858786a0760ac7f0e8267fce2a7e)
"
openstack%2Fstevedore~stable%2Fyoga~I0db3624fcdb50eea4ff039e65456ef6e91c99c48,openstack/stevedore,stable/yoga,cap-importlib-metadata,I0db3624fcdb50eea4ff039e65456ef6e91c99c48,[stable-only] Cap importlib-metadata on Python 3.7,NEW,2022-10-03 15:48:26.000000000,2022-10-05 15:42:23.000000000,,1,1,2,860109,f974e5fc42caf38880e39153f5c4bee498b944db,6,2,2,1,5196,Matthew Treinish,treinish,"[stable-only] Cap importlib-metadata on Python 3.7

In the recently released importlib-metadata 5.0.0 package a number of
breaking changes where made to the interface (in fact that was the only
change for the release removing a bunch of things tagged as deprecated).
Since Python 3.7 depends on this library to function for querying
package metadata these breaking API changes cause anything using
stevedore to fail when 5.0.0 is installed. To workaround these issues
this commit sets a version cap on importlib-metadata to avoid using the
version which is incompatible with stevedore.

Depends-on: Id696f42db7f47976aaf2f42bad3ca3fd8202be27

Change-Id: I0db3624fcdb50eea4ff039e65456ef6e91c99c48
"
openstack%2Fstevedore~master~Ibf3e8d63a7a43e65ac626e50ef42831c4a9b5e41,openstack/stevedore,master,add-antelope-python-jobtemplates,Ibf3e8d63a7a43e65ac626e50ef42831c4a9b5e41,Add Python3 antelope unit tests,MERGED,2022-09-09 09:19:32.000000000,2022-10-05 15:26:10.000000000,2022-10-05 15:24:14.000000000,1,1,2,856687,8c546cb6c8ea8c49577813dce92bbb64eec74b8a,11,3,1,1,22816,OpenStack Release Bot,release,"Add Python3 antelope unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for antelope.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ibf3e8d63a7a43e65ac626e50ef42831c4a9b5e41
"
openstack%2Fmanila~master~Id32da3b37186880cefdb5ff48d836c0a7f1ad656,openstack/manila,master,,Id32da3b37186880cefdb5ff48d836c0a7f1ad656,Macrosan driver: some improvements about variables and syntax,MERGED,2022-09-21 11:29:43.000000000,2022-10-05 15:23:01.000000000,2022-10-05 15:21:54.000000000,50,76,20,858355,4b83a6bd52c34a75346a03e01f01af54d554dbed,67,3,8,5,33693,yuehui gan,gyh,"Macrosan driver: some improvements about variables and syntax

Change-Id: Id32da3b37186880cefdb5ff48d836c0a7f1ad656
"
openstack%2Fcharm-octavia-dashboard~master~I99549065a4ef7c2d76356228a58b687d7cb8877c,openstack/charm-octavia-dashboard,master,batch-update,I99549065a4ef7c2d76356228a58b687d7cb8877c,Build separately for each supported series and use binary builds,MERGED,2022-10-04 20:57:06.000000000,2022-10-05 15:14:56.000000000,2022-10-05 14:04:19.000000000,92,181,2,860304,0eced9552032706babfd3b39c9808ca5dbf4cde5,12,3,2,10,11805,Corey Bryant,coreycb,"Build separately for each supported series and use binary builds

Charms for OpenStack Yoga supports both Ubuntu Focal and Jammy
which means Python 3.8 and Python 3.10.  Managing dependencies
across those two versions is non-trivial and we need to build
the charm on the series the charm is supposed to support.

Switch to using a binary build which allows pip's dependency
resolution to work.

This patch also drops the impish bundle.

Change-Id: I99549065a4ef7c2d76356228a58b687d7cb8877c
"
openstack%2Ftelemetry-specs~master~Ia098c1a0acbfa66ec190b0774742dcd03c948ea0,openstack/telemetry-specs,master,prometheus-spec,Ia098c1a0acbfa66ec190b0774742dcd03c948ea0,Prometheus exporter spec,NEW,2022-06-10 21:36:00.000000000,2022-10-05 15:05:14.000000000,,541,0,17,845485,6d633d447b4cb64ffdbfb258ba940bd7cc3f17bc,15,3,4,3,5241,Martin Magr,mmagr,"Prometheus exporter spec

Change-Id: Ia098c1a0acbfa66ec190b0774742dcd03c948ea0
"
openstack%2Freleases~master~I7d03975ec2741817f4a2801e92672209c22f346a,openstack/releases,master,old-stale-eol,I7d03975ec2741817f4a2801e92672209c22f346a,Fix existing eol hashes on newton,NEW,2022-05-18 15:48:54.000000000,2022-10-05 14:58:42.000000000,,15,5,3,842381,e9fb13dba46890e9a8567b45e4d0a81df9c60604,6,6,1,6,17685,Elod Illes,elod.illes,"Fix existing eol hashes on newton

Some project were tagged with newton-eol, but it seems later on
stable/newton was reopened and some generated patch merged.
This is a formal patch that corrects/adds the hashes of existing
newton-eol tags. (Note: the tags won't be recreated as the branch
is already marked as End of Life, this just sync the reported hashes
with the actual existing tags' hashes)

Change-Id: I7d03975ec2741817f4a2801e92672209c22f346a
"
openstack%2Fdiskimage-builder~master~I25f0661fa79b7bc8ac1b8e3b2831a413c4161d1d,openstack/diskimage-builder,master,fix_wrong_centos_9_yum_conf_name,I25f0661fa79b7bc8ac1b8e3b2831a413c4161d1d,Fix wrong yum.conf name of CentOS 9 Stream,MERGED,2022-08-08 13:53:37.000000000,2022-10-05 14:51:10.000000000,2022-10-05 14:50:07.000000000,5,1,0,852408,e8c7787ec84c436c3a9ef62fc57d6bf128023468,10,3,1,1,30566,Vanou Ishii,vanou,"Fix wrong yum.conf name of CentOS 9 Stream

This commit fixes wrong name of yum.conf files
on CentOS 9 Stream in centos element to correct ones.

Change-Id: I25f0661fa79b7bc8ac1b8e3b2831a413c4161d1d
"
openstack%2Ftripleo-heat-templates~master~I9b291d96cc9cdc66dbe1d7076426d75750296ab0,openstack/tripleo-heat-templates,master,httpd/gnocchi,I9b291d96cc9cdc66dbe1d7076426d75750296ab0,Converting gnocchi-api httpd configuration to ansible role,NEW,2022-09-22 10:35:38.000000000,2022-10-05 14:48:35.000000000,,21,28,12,858882,896df781fd04672eeece381f19deee16b255951a,53,3,13,1,32926,Jiri Podivin,jpodivin,"Converting gnocchi-api httpd configuration to ansible role

Ansible role will now be used for httpd setup on gnocchi-api containers.
The change directly affects gnocchi-api container and indirectly affects
other gnocchi, as well as ceilometer-upgrade containers.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/858878
Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/859059

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9b291d96cc9cdc66dbe1d7076426d75750296ab0
"
openstack%2Fosprofiler~master~I10b8b57432894e28d5da87eb6d886a053be776f0,openstack/osprofiler,master,elastic-search-port,I10b8b57432894e28d5da87eb6d886a053be776f0,Add default port to Elasticsearch connection url,NEW,2022-10-05 12:44:54.000000000,2022-10-05 14:41:12.000000000,,2,2,0,860412,5833d9519a31665447250e9c734ca64c065dab64,2,1,1,2,35361,danigm,danigm,"Add default port to Elasticsearch connection url

This change makes it compatible with modern versions of elasticsearch.

Change-Id: I10b8b57432894e28d5da87eb6d886a053be776f0
"
openstack%2Freleases~master~I65d51978ab978b66d6d67c5c323b29dc59c62de8,openstack/releases,master,zed-final,I65d51978ab978b66d6d67c5c323b29dc59c62de8,Mark Zed as released,MERGED,2022-09-30 19:25:44.000000000,2022-10-05 14:40:22.000000000,2022-10-05 14:40:22.000000000,8,8,2,860029,63433942e0a8c3c1c09daf2581ad8a0a0e4d0ed4,15,7,3,3,17685,Elod Illes,elod.illes,"Mark Zed as released

Change-Id: I65d51978ab978b66d6d67c5c323b29dc59c62de8
"
openstack%2Fpython-tripleoclient~master~Ib931e86624846dbe1b7ced70352df3076a26ee5a,openstack/python-tripleoclient,master,ephemeral-heat-hiera,Ib931e86624846dbe1b7ced70352df3076a26ee5a,Use local socket to check mysql status,NEW,2022-09-14 01:51:21.000000000,2022-10-05 14:36:02.000000000,,3,23,2,857533,8c63d3842c9b23c290dc7a13e21ceec79b7e5ca5,10,3,4,2,9816,Takashi Kajinami,kajinamit,"Use local socket to check mysql status

... instead of bind address. This allows us to reduce usage of
the deprecated hiera CLI, which is used to look up the bind address
from hieradata.

Change-Id: Ib931e86624846dbe1b7ced70352df3076a26ee5a
"
openstack%2Fpython-tripleoclient~master~I0ff44cd0dbed44cb7c754235e3c22133fbc3fae3,openstack/python-tripleoclient,master,,I0ff44cd0dbed44cb7c754235e3c22133fbc3fae3,Clean up unused exceptions,NEW,2022-09-21 09:01:53.000000000,2022-10-05 14:33:24.000000000,,1,57,0,858644,54538c2bd79f751233b66b67adfc5716b17a75e6,3,2,1,1,9816,Takashi Kajinami,kajinamit,"Clean up unused exceptions

This removes several exceptions which are no longer used.

Change-Id: I0ff44cd0dbed44cb7c754235e3c22133fbc3fae3
"
openstack%2Fkolla~master~I13e3cf5a02dadcedd1ebbd54d56f7f633e6e3d68,openstack/kolla,master,ansible-bump,I13e3cf5a02dadcedd1ebbd54d56f7f633e6e3d68,kolla-toolbox: bump ansible-core to 2.13,MERGED,2022-10-04 09:04:30.000000000,2022-10-05 14:25:17.000000000,2022-10-05 14:24:02.000000000,5,4,0,860222,3f07d8f7f679103d91c0864c38cea4bab03c6ac9,14,4,2,3,22629,Michal Nasiadka,mnasiadka,"kolla-toolbox: bump ansible-core to 2.13

Change-Id: I13e3cf5a02dadcedd1ebbd54d56f7f633e6e3d68
"
openstack%2Fkolla~master~Id3d5c39654e0459bd10fb674d773f7f7f90b4004,openstack/kolla,master,,Id3d5c39654e0459bd10fb674d773f7f7f90b4004,Switch from os.path to pathlib,ABANDONED,2022-09-14 14:34:35.000000000,2022-10-05 14:23:56.000000000,,40,38,2,857720,579006e90fb30faff5bfc50595bc86af9fde0872,11,1,3,6,24072,Marcin Juszkiewicz,hrw,"Switch from os.path to pathlib

Pathlib is a ""new"" way of handling path manipulation in Python (instead
of using os.path).

This patch changes most of uses of os.path to pathlib.

Change-Id: Id3d5c39654e0459bd10fb674d773f7f7f90b4004
"
openstack%2Fcharm-neutron-api~stable%2Ftrain~I1596352db38bb423019b7d15efe5a217730d8066,openstack/charm-neutron-api,stable/train,pin-importlib-metadata-stable/train,I1596352db38bb423019b7d15efe5a217730d8066,"Pin importlib-metadata, -resources for py37",NEW,2022-10-05 12:49:06.000000000,2022-10-05 14:23:53.000000000,,2,0,0,860430,6fddfaac8a7d5103695fba1c6b609180234c108d,3,2,1,1,20870,Alex Kavanagh,ajkavanagh,"Pin importlib-metadata, -resources for py37

importlib-metadata 5.0.0 breaks compatibility with setuptools that is
pinned in the train track for bionic; thus this pins allows the py37
tests to pass.

Change-Id: I1596352db38bb423019b7d15efe5a217730d8066
"
openstack%2Fstevedore~stable%2Fzed~Ib9c2b0a14edea91e97d122d2ac93b650029f918e,openstack/stevedore,stable/zed,bug/1966040,Ib9c2b0a14edea91e97d122d2ac93b650029f918e,"Fix compatibility with Python 3.12, importlib-metadata 5.0",MERGED,2022-10-05 10:15:40.000000000,2022-10-05 14:18:33.000000000,2022-10-05 14:17:32.000000000,18,2,0,860392,1e4d71d4b552494ff33ad03b76d2a590d58efe77,8,2,1,2,15334,Stephen Finucane,sfinucan,"Fix compatibility with Python 3.12, importlib-metadata 5.0

importlib-metadata 5.0 has removed support for dict-style interaction
with entrypoints [1]. This is going to eventually affect us when Python
3.12 is released but even before then anyone not properly using upper
constraints with an older Python 3.7-based release (the only Python
version where we require the third-party importlib-metadata package
rather than the stdlib importlib.metadata package) will be bitten. Fix
it now to address both.

[1] https://github.com/python/importlib_metadata/commit/dde2b9de2973ce1c6fa9ba21dfe81069b0baa77b

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ib9c2b0a14edea91e97d122d2ac93b650029f918e
Closes-Bug: #1991559
(cherry picked from commit 28fc7164dace83abc3ecc06fcb56f7ca880d735a)
"
openstack%2Fsecurity-doc~master~I6e1e134d84ab00241afa4df4d4dfba856e2aab51,openstack/security-doc,master,openstack/openstack-manuals,I6e1e134d84ab00241afa4df4d4dfba856e2aab51,Updated from openstack-manuals,MERGED,2022-10-05 13:31:27.000000000,2022-10-05 14:13:34.000000000,2022-10-05 14:12:20.000000000,20,1,0,860420,79939a0d2afb7188e61239bfe049e0d3db525170,7,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from openstack-manuals

Change-Id: I6e1e134d84ab00241afa4df4d4dfba856e2aab51
"
openstack%2Fcharm-octavia-dashboard~master~I2cb698f719106e54b06009f24ea47259419e9cad,openstack/charm-octavia-dashboard,master,batch-update,I2cb698f719106e54b06009f24ea47259419e9cad,Add Kinetic and Zed support,MERGED,2022-06-24 01:26:09.000000000,2022-10-05 14:11:31.000000000,2022-10-05 14:11:31.000000000,80,229,9,847499,a68761b7efbf357ae51dfd5271bdedb2992a5d78,74,3,20,14,11805,Corey Bryant,coreycb,"Add Kinetic and Zed support

* sync charm-helpers to classic charms
* change openstack-origin/source default to zed
* align testing with zed
* add new zed bundles
* add zed bundles to tests.yaml
* add zed tests to osci.yaml and .zuul.yaml
* update build-on and run-on bases
* add bindep.txt for py310
* sync tox.ini and requirements.txt for ruamel
* use charmcraft_channel 2.0/stable
* drop reactive plugin overrides
* move interface/layer env vars to charmcraft.yaml

Change-Id: I2cb698f719106e54b06009f24ea47259419e9cad
Depends-On: https://review.opendev.org/c/openstack/charm-octavia/+/850215
"
openstack%2Fcharm-octavia~master~I5cda72d55b7aba51d087bababa94435e53c2201b,openstack/charm-octavia,master,bug/1979553,I5cda72d55b7aba51d087bababa94435e53c2201b,Ensure upgrades are executed,MERGED,2022-06-22 16:28:17.000000000,2022-10-05 14:10:00.000000000,2022-10-05 14:10:00.000000000,3,0,9,847197,e237d6621eec7734a18dae52618030c30a21c9b8,41,3,9,2,11805,Corey Bryant,coreycb,"Ensure upgrades are executed

Prior to this change, big bang upgrades were not being run
when openstack-origin was updated to a new release.

Closes-Bug: #1979553
Change-Id: I5cda72d55b7aba51d087bababa94435e53c2201b
"
openstack%2Fstevedore~stable%2Fzed~Iff536d4f4267efbebc4be1e7e5da8a9fde39f79b,openstack/stevedore,stable/zed,bug/1966040,Iff536d4f4267efbebc4be1e7e5da8a9fde39f79b,"Fix compatibility with Python 3.10, 3.9.11",MERGED,2022-10-05 10:15:40.000000000,2022-10-05 14:06:29.000000000,2022-10-05 14:05:27.000000000,19,11,1,860391,2312415517cd5ded007127d21f75f78ff2f63f52,8,2,1,1,15334,Stephen Finucane,sfinucan,"Fix compatibility with Python 3.10, 3.9.11

A fix to 'importlib.metadata' in Python 3.10 [1], later backported to
3.9 and released in 3.9.11 [2], has broken our tests. Fix them.

[1] https://github.com/python/cpython/commit/b1e286860742e7ba6fadc75e3ddb6c2899a56919
[2] https://github.com/python/cpython/commit/177be52517da9a876a3f9e670f88c4731b906986

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-bug: #1966040
Change-Id: Iff536d4f4267efbebc4be1e7e5da8a9fde39f79b
(cherry picked from commit 663d56c9535c64f4f8bd363abf69406975585ee9)
"
openstack%2Fopenstack-manuals~master~I02c7a600df24b04d63218ad068538576e44f1db1,openstack/openstack-manuals,master,www-zed-final,I02c7a600df24b04d63218ad068538576e44f1db1,[www] Set Zed as released,MERGED,2022-09-28 19:39:07.000000000,2022-10-05 14:01:53.000000000,2022-10-05 13:31:04.000000000,1,1,4,859713,52666665f447149c348606b88a92fb97e71fbd2a,16,4,3,1,17685,Elod Illes,elod.illes,"[www] Set Zed as released

Update Zed series info in www-generator.py so that Zed is marked as
maintained, thus released.

This patch needs to be merged at release day, October 5th.

Change-Id: I02c7a600df24b04d63218ad068538576e44f1db1
"
openstack%2Fneutron-dynamic-routing~stable%2Fwallaby~I856af3f0143e75253d001b50e70a418c1cac89f6,openstack/neutron-dynamic-routing,stable/wallaby,add-reno-stable/wallaby,I856af3f0143e75253d001b50e70a418c1cac89f6,Add releasenotes for recently added fixes,MERGED,2022-09-29 08:23:47.000000000,2022-10-05 14:01:52.000000000,2022-10-05 14:00:54.000000000,15,0,0,859792,1ba3fb13b63827935d93d4b0d50ca653e217f61c,8,3,1,2,13252,Dr. Jens Harbott,jrosenboom,"Add releasenotes for recently added fixes

Conflicts:
  releasenotes/notes/sqlalchemy-20-abaa3d2895131ab4.yaml

Dropped one releasenote that doesn't apply to stable branches and
amended the title of the commit message for the backport.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I856af3f0143e75253d001b50e70a418c1cac89f6
(cherry picked from commit abfd71ce4210cf0edd18eab6812ff151d64e1caf)
(cherry picked from commit 0fad6a8b9bd8dfcf92c745c3cd5a2d9d9ed293fa)
"
openstack%2Fcharm-cinder-purestorage~master~I1932245da4fa27ef0c1783727847635ee5bfc96e,openstack/charm-cinder-purestorage,master,batch-update,I1932245da4fa27ef0c1783727847635ee5bfc96e,Fix s390x and pp64el builds,MERGED,2022-10-04 14:41:31.000000000,2022-10-05 14:01:00.000000000,2022-10-05 14:01:00.000000000,4,0,1,860266,f004c6a22869e21fdbc0366029be867ccdc30266,7,3,1,1,11805,Corey Bryant,coreycb,"Fix s390x and pp64el builds

Without this change s390x and pp64el fail to build cryptography.

Change-Id: I1932245da4fa27ef0c1783727847635ee5bfc96e
"
openstack%2Ftempest~master~Ibdd71511bbd96d0cec6bb0cdd2ac9cddcbdf0b69,openstack/tempest,master,,Ibdd71511bbd96d0cec6bb0cdd2ac9cddcbdf0b69,Fixed some security vulnerabilities using bandit.,ABANDONED,2022-09-05 08:15:25.000000000,2022-10-05 14:00:54.000000000,,4,3,3,855855,b9d3ca23978f3880a85415e8fa706b17954e93ef,4,2,1,3,35229,Jakub Skunda,jskunda,"Fixed some security vulnerabilities using bandit.

Change-Id: Ibdd71511bbd96d0cec6bb0cdd2ac9cddcbdf0b69
"
openstack%2Fkolla~master~I04121fd5ca9894b6deeda3808808cbffd6b97811,openstack/kolla,master,,I04121fd5ca9894b6deeda3808808cbffd6b97811,CI/centos/rocky: use repos from opendev mirror,MERGED,2022-09-27 17:25:20.000000000,2022-10-05 13:45:44.000000000,2022-10-05 13:44:48.000000000,145,29,29,859463,0c523e7f1b10ab0b456c20f4e900a6c8c6f7dcea,61,7,16,3,24072,Marcin Juszkiewicz,hrw,"CI/centos/rocky: use repos from opendev mirror

Repo definitions in RHEL 9 rebuilds use metalink method for most of
entries which makes our use of sed obsolete.

This patch adds file with definitions of all CS9 repos we use and
moves all official definitions a side at start of build. After build our
definitions get removed and official ones are restored.

Similar is done for RockyLinux 9 builds but there RL9 repos are used
from official mirrors while CS9/EPEL ones are from OpenDev mirrors.

Final images will have repos in wrong enabled/disabled state.

Change-Id: I04121fd5ca9894b6deeda3808808cbffd6b97811
"
openstack%2Fopenstack-manuals~master~Ibfe1386c7b05008f962d5c74673523e22a1e5486,openstack/openstack-manuals,master,www-zed-final,Ibfe1386c7b05008f962d5c74673523e22a1e5486,[glossary] Add 2023.1 Antelope,MERGED,2022-09-28 18:38:27.000000000,2022-10-05 13:44:27.000000000,2022-10-05 13:25:51.000000000,20,1,5,859677,8219fbaae1877fd2840535b20f084d7a09c774ed,14,3,2,1,17685,Elod Illes,elod.illes,"[glossary] Add 2023.1 Antelope

2023.1 Antelope is the name for the 27th release, add it to Glossary.

Change-Id: Ibfe1386c7b05008f962d5c74673523e22a1e5486
"
openstack%2Fcharm-nova-cloud-controller~stable%2Ftrain~I1466981f1d68f8dea3bbe32fdde6c4825056c0d0,openstack/charm-nova-cloud-controller,stable/train,bug/1927698-stable/train,I1466981f1d68f8dea3bbe32fdde6c4825056c0d0,Fix bug where str is added to cached_hostset list,MERGED,2022-10-02 20:59:24.000000000,2022-10-05 13:41:11.000000000,2022-10-05 13:41:11.000000000,4,1,1,859924,dc6b82845d428fc0b5c94099d19b826bcdaa8099,11,4,2,1,20870,Alex Kavanagh,ajkavanagh,"Fix bug where str is added to cached_hostset list

The original code was appending a str to a list rather than either
appending it or adding it as a list of one element.  The code avoids
append to avoid unintentional side-effects.

Change-Id: I1466981f1d68f8dea3bbe32fdde6c4825056c0d0
Closes-Bug: #1927698
(cherry picked from commit e63c68d505ee2eb88a0edef83c4a63a8d827f9f6)
"
openstack%2Fcharm-nova-cloud-controller~stable%2Ftrain~Ic476c24329d41e82de76eacbaf34ef0cba573b48,openstack/charm-nova-cloud-controller,stable/train,pin-importlib-metadata,Ic476c24329d41e82de76eacbaf34ef0cba573b48,"Pin importlib-metadata, -resources for py37",MERGED,2022-10-03 09:43:53.000000000,2022-10-05 13:41:09.000000000,2022-10-05 13:41:09.000000000,2,0,2,860070,c6bd7263db37615c770ca57e52f080cf6f9b6adb,11,4,2,1,20870,Alex Kavanagh,ajkavanagh,"Pin importlib-metadata, -resources for py37

importlib-metadata 5.0.0 breaks compatibility with setuptools that is
pinned in the train track for bionic; thus this pins allows the py37
tests to pass.

Change-Id: Ic476c24329d41e82de76eacbaf34ef0cba573b48
"
openstack%2Fcharm-nova-cloud-controller~stable%2Fussuri~I1466981f1d68f8dea3bbe32fdde6c4825056c0d0,openstack/charm-nova-cloud-controller,stable/ussuri,bug/1927698-stable/ussuri,I1466981f1d68f8dea3bbe32fdde6c4825056c0d0,Fix bug where str is added to cached_hostset list,MERGED,2022-10-02 20:59:10.000000000,2022-10-05 13:41:06.000000000,2022-10-05 13:41:06.000000000,4,1,1,859923,2687b874fe08b4eab6b4a9e39d112c8d37f763a0,11,4,2,1,20870,Alex Kavanagh,ajkavanagh,"Fix bug where str is added to cached_hostset list

The original code was appending a str to a list rather than either
appending it or adding it as a list of one element.  The code avoids
append to avoid unintentional side-effects.

Change-Id: I1466981f1d68f8dea3bbe32fdde6c4825056c0d0
Closes-Bug: #1927698
(cherry picked from commit e63c68d505ee2eb88a0edef83c4a63a8d827f9f6)
"
openstack%2Fcharm-nova-cloud-controller~stable%2Fussuri~Ic476c24329d41e82de76eacbaf34ef0cba573b48,openstack/charm-nova-cloud-controller,stable/ussuri,pin-importlib-metadata-stable/ussuri,Ic476c24329d41e82de76eacbaf34ef0cba573b48,"Pin importlib-metadata, -resources for py37",MERGED,2022-10-03 10:05:34.000000000,2022-10-05 13:41:05.000000000,2022-10-05 13:41:05.000000000,2,0,1,859926,5efb1188190ab1a5ff64ba1dfbba9baee60cdfa8,8,4,1,1,20870,Alex Kavanagh,ajkavanagh,"Pin importlib-metadata, -resources for py37

importlib-metadata 5.0.0 breaks compatibility with setuptools that is
pinned in the train track for bionic; thus this pins allows the py37
tests to pass.

Change-Id: Ic476c24329d41e82de76eacbaf34ef0cba573b48
"
openstack%2Fcharm-nova-cloud-controller~stable%2Fvictoria~I1466981f1d68f8dea3bbe32fdde6c4825056c0d0,openstack/charm-nova-cloud-controller,stable/victoria,bug/1927698-stable/victoria,I1466981f1d68f8dea3bbe32fdde6c4825056c0d0,Fix bug where str is added to cached_hostset list,MERGED,2022-10-02 20:58:49.000000000,2022-10-05 13:41:04.000000000,2022-10-05 13:41:04.000000000,4,1,1,859922,c2f00d81549e879b17d171b6c7dc98623f45e4c8,8,4,1,1,20870,Alex Kavanagh,ajkavanagh,"Fix bug where str is added to cached_hostset list

The original code was appending a str to a list rather than either
appending it or adding it as a list of one element.  The code avoids
append to avoid unintentional side-effects.

Change-Id: I1466981f1d68f8dea3bbe32fdde6c4825056c0d0
Closes-Bug: #1927698
(cherry picked from commit e63c68d505ee2eb88a0edef83c4a63a8d827f9f6)
"
openstack%2Fcharm-nova-cloud-controller~stable%2Fwallaby~I1466981f1d68f8dea3bbe32fdde6c4825056c0d0,openstack/charm-nova-cloud-controller,stable/wallaby,bug/1927698-stable/wallaby,I1466981f1d68f8dea3bbe32fdde6c4825056c0d0,Fix bug where str is added to cached_hostset list,MERGED,2022-10-02 20:58:31.000000000,2022-10-05 13:41:02.000000000,2022-10-05 13:41:02.000000000,4,1,1,859921,2988a7f4a32e77abe85af30d7f04747da3461f9d,8,4,1,1,20870,Alex Kavanagh,ajkavanagh,"Fix bug where str is added to cached_hostset list

The original code was appending a str to a list rather than either
appending it or adding it as a list of one element.  The code avoids
append to avoid unintentional side-effects.

Change-Id: I1466981f1d68f8dea3bbe32fdde6c4825056c0d0
Closes-Bug: #1927698
(cherry picked from commit e63c68d505ee2eb88a0edef83c4a63a8d827f9f6)
"
openstack%2Fcharm-nova-cloud-controller~stable%2Fxena~I1466981f1d68f8dea3bbe32fdde6c4825056c0d0,openstack/charm-nova-cloud-controller,stable/xena,bug/1927698-stable/xena,I1466981f1d68f8dea3bbe32fdde6c4825056c0d0,Fix bug where str is added to cached_hostset list,MERGED,2022-10-02 20:58:02.000000000,2022-10-05 13:36:27.000000000,2022-10-05 13:36:27.000000000,4,1,1,859920,91d721f8b2b7e04c29999be7215c9fea2c06af0f,8,4,1,1,20870,Alex Kavanagh,ajkavanagh,"Fix bug where str is added to cached_hostset list

The original code was appending a str to a list rather than either
appending it or adding it as a list of one element.  The code avoids
append to avoid unintentional side-effects.

Change-Id: I1466981f1d68f8dea3bbe32fdde6c4825056c0d0
Closes-Bug: #1927698
(cherry picked from commit e63c68d505ee2eb88a0edef83c4a63a8d827f9f6)
"
openstack%2Fopenstack-manuals~master~I887e557c4cfed70299997de90321a9b1508553b3,openstack/openstack-manuals,master,www-zed-final,I887e557c4cfed70299997de90321a9b1508553b3,[www] Setup 2023.1 Antelope and add project data to Zed,MERGED,2022-09-28 18:38:27.000000000,2022-10-05 13:31:01.000000000,2022-10-05 13:31:01.000000000,1434,0,12,859678,f8fa19f42ed29084e0cefc44d46bf41b30612b7f,21,3,5,12,17685,Elod Illes,elod.illes,"[www] Setup 2023.1 Antelope and add project data to Zed

This change adds
* default pages for next release, 2023.1 Antelope
* Zed project data so that index pages will be generated

It still keeps Zed in development phase. A future change will
transition Zed to maintained at release time.

Change-Id: I887e557c4cfed70299997de90321a9b1508553b3
"
openstack%2Freleases~master~Ic7eb8b90e5d68f390ef9015fa41dddac943cba3a,openstack/releases,master,fix-title-duplication,Ic7eb8b90e5d68f390ef9015fa41dddac943cba3a,Fix title duplication,MERGED,2022-10-05 12:38:41.000000000,2022-10-05 13:20:22.000000000,2022-10-05 13:20:22.000000000,2,0,1,860411,f8b6f0927ee34cd606b47b68d0c999b9d0275ea5,7,3,1,1,308,Thierry Carrez,ttx,"Fix title duplication

Sphinx4 produces a different structure, so the CSS hack that was posted
to avoid duplication of titles no longer works. Apply the same hack to
the new structure.

See also: https://review.opendev.org/798897

Change-Id: Ic7eb8b90e5d68f390ef9015fa41dddac943cba3a
"
openstack%2Fcharm-ceph-mon~master~Ie0d73f14698e4f3ba4e7231920a622f587b4330f,openstack/charm-ceph-mon,master,bug/1989154,Ie0d73f14698e4f3ba4e7231920a622f587b4330f,"Make check_ceph_status.py a bit more ""noisy"" by default.",MERGED,2022-10-05 07:30:53.000000000,2022-10-05 13:05:13.000000000,2022-10-05 13:05:13.000000000,3,3,1,860344,845111311bcdcebb62c5c82d160abb7b6476d5db,8,4,1,1,35007,Chi Wai CHAN,Ray,"Make check_ceph_status.py a bit more ""noisy"" by default.

Closes-Bug: #1989154
Change-Id: Ie0d73f14698e4f3ba4e7231920a622f587b4330f
"
openstack%2Fcharm-keystone~master~I9af8c4869cd077b62f8a0db5103e23e7b90a4782,openstack/charm-keystone,master,test,I9af8c4869cd077b62f8a0db5103e23e7b90a4782,Test,ABANDONED,2022-10-04 18:34:41.000000000,2022-10-05 13:05:02.000000000,,6,2,0,860295,2088676033e6875d6f7cc6fd8378eb827febb1de,4,2,1,1,2424,Felipe Reyes,freyes,"Test

Change-Id: I9af8c4869cd077b62f8a0db5103e23e7b90a4782
"
openstack%2Fneutron~stable%2Fussuri~Iaaccec770484234b704f70f3c144efac4d8ffba0,openstack/neutron,stable/ussuri,retry-stable/ussuri,Iaaccec770484234b704f70f3c144efac4d8ffba0,Retry connections to Nova,MERGED,2022-09-09 08:39:25.000000000,2022-10-05 12:55:38.000000000,2022-10-05 12:54:25.000000000,23,0,2,856607,3758762021919aa90a0d94b20e8f31049347fe5e,9,4,1,2,11975,Slawek Kaplonski,slaweq,"Retry connections to Nova

Sometimes Neutron is failing to send notification to Nova
due to timeout, refused connection or another HTTP error.
Retry send in those cases.

Conflicts:
    neutron/notifiers/nova.py
    neutron/tests/unit/notifiers/test_nova.py

Closes-Bug: #1987780
Change-Id: Iaaccec770484234b704f70f3c144efac4d8ffba0
(cherry picked from commit cd475f9af898b81d98b3e0d3f55b94ea653c193c)
(cherry picked from commit b5e9148cc7311080ba1b2a410145949c1adaa0ca)
(cherry picked from commit 49f49bc2bf3b477df00a92e25a8de66221ec8ee6)
"
openstack%2Fcharm-keystone-openidc~master~I0a6c53e5f34f4747b3ec6635f41daa898726068c,openstack/charm-keystone-openidc,master,,I0a6c53e5f34f4747b3ec6635f41daa898726068c,Add OpenID Connect specific classes  to the list of zaza testing.,MERGED,2022-09-22 03:10:27.000000000,2022-10-05 12:53:38.000000000,2022-10-05 12:53:38.000000000,2,0,9,858844,061b4b0b465180f776066fa81dbabe0dc14a0db6,35,3,6,1,2424,Felipe Reyes,freyes,"Add OpenID Connect specific classes  to the list of zaza testing.

These tests take care of validating a user backed by a OpenID Connect
provider is capable of accessing cloud resources.

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/925
Change-Id: I0a6c53e5f34f4747b3ec6635f41daa898726068c
"
openstack%2Fcharm-keystone-openidc~master~Ia09cb5b68bc35d25f5b012f0011697966827eb03,openstack/charm-keystone-openidc,master,add-websso,Ia09cb5b68bc35d25f5b012f0011697966827eb03,Add support for websso-fid-service-provider relation.,MERGED,2022-09-21 22:10:30.000000000,2022-10-05 12:53:37.000000000,2022-10-05 12:53:37.000000000,52,13,2,858828,43a2215d3c1d175eb06dfdb0c2f48326a31a2dec,25,4,7,4,2424,Felipe Reyes,freyes,"Add support for websso-fid-service-provider relation.

This change adds support to relate the keystone-openidc charm to
openstack-dashboard allowing it expose a OpenID Connect backend for
logging into Horizon.

The configuration option 'user-facing-name' allows operator to set a
user friendly name that gets displayed in the list of choices available
for logging in.

Change-Id: Ia09cb5b68bc35d25f5b012f0011697966827eb03
"
openstack%2Fcharm-keystone-openidc~master~I0264dc9cef3c90f5dc99b0dfc9b1d3a97007d64e,openstack/charm-keystone-openidc,master,add-websso,I0264dc9cef3c90f5dc99b0dfc9b1d3a97007d64e,Drop @when_data_ready(),MERGED,2022-09-21 22:10:30.000000000,2022-10-05 12:53:36.000000000,2022-10-05 12:53:36.000000000,10,16,2,858826,0dd5f3807f7efd37337c3a4baaad0904f5d51b45,21,3,6,1,2424,Felipe Reyes,freyes,"Drop @when_data_ready()

Move the functionlity provided by the decorator into the even handlers
that neeeded it, this favors simplicity, the long term solution will be
to define and use custom events (on.connected, on.ready and
on.goneaway).

Change-Id: I0264dc9cef3c90f5dc99b0dfc9b1d3a97007d64e
"
openstack%2Fcharm-nova-cloud-controller~stable%2Fvictoria~I93129733c459afa44d1d18c8601fb930decb1aa8,openstack/charm-nova-cloud-controller,stable/victoria,bug/1965967,I93129733c459afa44d1d18c8601fb930decb1aa8,Backport support for access rules,MERGED,2022-05-22 14:55:01.000000000,2022-10-05 12:50:20.000000000,2022-10-05 12:50:20.000000000,34,1,3,842896,b9b3406af518a616e7c0eb05de176e82b009dfcb,20,3,3,8,6737,Edward Hope-Morley,hopem,"Backport support for access rules

This patch is a charm-helpers sync to get the fixes
application credential access-rules.

Change-Id: I93129733c459afa44d1d18c8601fb930decb1aa8
Related-Bug: #1965967
"
openstack%2Fcharm-nova-cloud-controller~stable%2Fwallaby~Ifaec55671740141c7e7340b63d1757aec4e668c3,openstack/charm-nova-cloud-controller,stable/wallaby,bug/1965967,Ifaec55671740141c7e7340b63d1757aec4e668c3,Backport support for access rules,MERGED,2022-05-22 14:51:53.000000000,2022-10-05 12:50:18.000000000,2022-10-05 12:50:18.000000000,40,2,4,842893,4a147508b71d3bf517a9e50c3256a9f7134db4dc,22,3,3,9,6737,Edward Hope-Morley,hopem,"Backport support for access rules

This patch is a charm-helpers sync to get the fixes
application credential access-rules.

Change-Id: Ifaec55671740141c7e7340b63d1757aec4e668c3
Related-Bug: #1965967
"
openstack%2Fopenstack-ansible-os_keystone~master~I2810208301fb31eeeabf31e4b38add7f8aa3e00b,openstack/openstack-ansible-os_keystone,master,osa/cache_backends,I2810208301fb31eeeabf31e4b38add7f8aa3e00b,Improve way of cache backend selection,MERGED,2022-09-23 08:49:22.000000000,2022-10-05 12:45:31.000000000,2022-10-05 12:44:25.000000000,35,3,0,859054,0a24c61e3e65e126691577c9b2843a7d9f448301,10,3,1,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Improve way of cache backend selection

At the moment we don't provide any option rather then use memcached
backend. With that we also hardocde list of packages that should be
installed inside virtualenv for selected backend.

Adding bmemcached requirement to oslo_cache.memcache_pool [1] gives us
opportunity to refactor this bit of deployment and allow to be more
flexible in backend selection and requirements installation for it.

[1] https://review.opendev.org/c/openstack/oslo.cache/+/854628

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/858981/4
Change-Id: I2810208301fb31eeeabf31e4b38add7f8aa3e00b
"
openstack%2Fcharm-keystone-openidc~master~Ifbab960704eeeb2170bf4d314548f3620fd0cd83,openstack/charm-keystone-openidc,master,add-websso,Ifbab960704eeeb2170bf4d314548f3620fd0cd83,Enable Zed.,MERGED,2022-09-21 22:10:30.000000000,2022-10-05 12:44:40.000000000,2022-10-05 12:44:40.000000000,96,531,1,858827,afeb2eb8260545455336725c4c04dcd2b5ee842b,19,3,5,9,2424,Felipe Reyes,freyes,"Enable Zed.

Changes:

- Drop focal-*
- Add jammy-zed and kinetic-zed
- Update target deploy status for keystone-openidc
- Reorder setup functions to configure keystone-openidc earlier
- Drop OVN in favor of neutron-openvswitch in the testing bundles
- Set constraints for nova-compute machines

Change-Id: Ifbab960704eeeb2170bf4d314548f3620fd0cd83
"
openstack%2Fcharm-keystone-openidc~master~Ifc4c6246fe72a08bb605b78bee73abc673e0bb7c,openstack/charm-keystone-openidc,master,,Ifc4c6246fe72a08bb605b78bee73abc673e0bb7c,Add py36 target to tox.ini,MERGED,2022-09-22 03:10:27.000000000,2022-10-05 12:44:03.000000000,2022-10-05 12:44:03.000000000,5,0,1,858842,510de73a68b5ac831e0976b8799763b693806f44,7,3,1,1,2424,Felipe Reyes,freyes,"Add py36 target to tox.ini

Change-Id: Ifc4c6246fe72a08bb605b78bee73abc673e0bb7c
"
openstack%2Fneutron~stable%2Fvictoria~Ic281dec74a46c95024a6df1db3b1f9ee7d7d1227,openstack/neutron,stable/victoria,bug/1896816,Ic281dec74a46c95024a6df1db3b1f9ee7d7d1227,Convert OvnDbNotifyHandler rows to frozen rows,MERGED,2022-10-04 12:17:55.000000000,2022-10-05 12:37:58.000000000,2022-10-05 12:36:39.000000000,1,0,2,860245,6f450f764cb30daca8a153b4e012772b53790c49,15,3,2,1,30463,Krzysztof Tomaszewski,labedz,"Convert OvnDbNotifyHandler rows to frozen rows

In I87489596e2ff224431f7e83f43a1725172ee0953, the intent was to
make sure all event rows were converted to ""frozen"" rows to avoid
race conditions. Since OnvDbNotifyHandler.notify() does not call
super(), then it is necessary to do this conversion ourselves.

Related-Bug: #1896816
Change-Id: Ic281dec74a46c95024a6df1db3b1f9ee7d7d1227
(cherry picked from commit 27255fce30f570b549b026346fb10b7d0dca9039)
"
openstack%2Fkolla-ansible~master~I4f62b1c2a03dcea23291c18450fd32caddffa784,openstack/kolla-ansible,master,feat/monasca_storm_ui,I4f62b1c2a03dcea23291c18450fd32caddffa784,monasca enable storm ui,NEW,2022-10-04 09:40:38.000000000,2022-10-05 12:36:29.000000000,,104,1,4,860228,fa2564e0aa261fe0fc34114a97cbaf7c0a3a91c1,10,2,3,7,13114,Hoai-Thu Vuong,thuvh,"monasca enable storm ui

Change-Id: I4f62b1c2a03dcea23291c18450fd32caddffa784
"
openstack%2Fopenstack-ansible~master~I96f29dba4874005a78a844c8909ff39052cca636,openstack/openstack-ansible,master,osa-ironic-tidy,I96f29dba4874005a78a844c8909ff39052cca636,Do not spawn ironic-api on metal,MERGED,2022-09-22 09:35:01.000000000,2022-10-05 12:33:28.000000000,2022-10-05 12:30:29.000000000,0,2,1,858877,ab4a1659c92e719c777277a370a0b31114cb82a5,12,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Do not spawn ironic-api on metal

When removing ironic-server group [1] we have introduced bug, where
ironic-api started appearing on_metal.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/852182

Change-Id: I96f29dba4874005a78a844c8909ff39052cca636
"
openstack%2Fopenstack-ansible~master~I6e57c26dcae1e1470280dc5988903b79f9cb9b16,openstack/openstack-ansible,master,,I6e57c26dcae1e1470280dc5988903b79f9cb9b16,Require usage of service_token_roles,MERGED,2022-09-08 08:10:53.000000000,2022-10-05 12:32:19.000000000,2022-10-05 12:30:26.000000000,8,3,0,856437,6c396318ed3b705947ab5d967d4496b136402f0b,8,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Require usage of service_token_roles

With Yoga we've added `service` role for each service and set it as
`service_token_roles`. For upgrade purposes service_token_roles_required
was set to False, as otherwise services won't be able to comunicate
until upgrade is finished. Now we remove override and require usage
of service_token_roles by default.

Change-Id: I6e57c26dcae1e1470280dc5988903b79f9cb9b16
"
openstack%2Fcloudkitty~stable%2Fwallaby~I95f2ff931ff987a288d3db40606f7ab28fe7fe64,openstack/cloudkitty,stable/wallaby,zuul-queue-stable/wallaby,I95f2ff931ff987a288d3db40606f7ab28fe7fe64,[CI] Move queue setting to project level,MERGED,2022-09-19 14:17:31.000000000,2022-10-05 12:25:25.000000000,2022-10-05 12:23:15.000000000,2,2,9,858341,11d296f240e3c9c8f16bd50806044ff4b246d5e4,37,4,10,2,15197,Pierre Riteau,priteau,"[CI] Move queue setting to project level

Per [1].

This also drops several failing jobs and includes a backport of a change
to fix docs build [2] (Ia6f12151be829be6d2f21b3536536697345e05f4).

[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html
[2] https://review.opendev.org/c/openstack/cloudkitty/+/860096

Change-Id: I95f2ff931ff987a288d3db40606f7ab28fe7fe64
(cherry picked from commit ed53054c184a191bdd44e636f2928e18308af95e)
"
openstack%2Fopenstack-ansible~master~I7da7814261d734b96644624870ed7cc2f1173bff,openstack/openstack-ansible,master,rockylinux/9,I7da7814261d734b96644624870ed7cc2f1173bff,Replace usage of which with command,MERGED,2022-09-28 11:22:03.000000000,2022-10-05 12:04:41.000000000,2022-10-05 12:01:56.000000000,20,20,0,859550,b5ea66fcda44c6db1b7615dbaa2503f75fede787,13,5,3,5,28619,Dmitriy Rabotyagov,noonedeadpunk,"Replace usage of which with command

`which` is not a default package for CentOS 9 and Rocky Linux. This
means that we should either take care of installing `which` at very
beginning or use built-in alternative of `command -v`.
Command is part of GNU Bash package and will present on each system
which have bash installed, which is OSA requirements.

`command -v` behaves exactly same way - it provides path as output
and exits with code 1 when binary can't be found. So it's a drop-in
replacement.

Change-Id: I7da7814261d734b96644624870ed7cc2f1173bff
"
openstack%2Fneutron~stable%2Fxena~Iaaccec770484234b704f70f3c144efac4d8ffba0,openstack/neutron,stable/xena,retry-stable/yoga-stable/xena,Iaaccec770484234b704f70f3c144efac4d8ffba0,Retry connections to Nova,MERGED,2022-09-09 08:34:58.000000000,2022-10-05 12:03:25.000000000,2022-10-05 12:02:02.000000000,21,0,2,856579,3de47d284e899d1b1d57625a3eabfe4408301e05,18,7,1,2,11975,Slawek Kaplonski,slaweq,"Retry connections to Nova

Sometimes Neutron is failing to send notification to Nova
due to timeout, refused connection or another HTTP error.
Retry send in those cases.

Closes-Bug: #1987780
Change-Id: Iaaccec770484234b704f70f3c144efac4d8ffba0
(cherry picked from commit cd475f9af898b81d98b3e0d3f55b94ea653c193c)
"
openstack%2Fopenstack-ansible~master~I545f4098e899ab80045c9dba03101873b80f9a6c,openstack/openstack-ansible,master,osa/test_volumes,I545f4098e899ab80045c9dba03101873b80f9a6c,Fix cinder-volume AIO ceph scenario,MERGED,2022-09-26 10:54:27.000000000,2022-10-05 12:03:25.000000000,2022-10-05 12:01:48.000000000,23,19,1,859263,091ae6369d6868a41779acf0aacc308fd7308b6e,23,4,11,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix cinder-volume AIO ceph scenario

At the moment we don't configure cinder-volume properly to deal with
ceph scenario - LVM backend is always hardcoded even for ceph scenario.
We fix this by moving cinder_backends definition from conf.d to aio
templates. With that proper tempest test has been added to verify
cinder-volume functionality.

Change-Id: I545f4098e899ab80045c9dba03101873b80f9a6c
"
openstack%2Fneutron~stable%2Fvictoria~Iaaccec770484234b704f70f3c144efac4d8ffba0,openstack/neutron,stable/victoria,retry-stable/victoria,Iaaccec770484234b704f70f3c144efac4d8ffba0,Retry connections to Nova,MERGED,2022-09-09 08:37:33.000000000,2022-10-05 12:03:23.000000000,2022-10-05 12:02:06.000000000,21,0,2,856606,49f49bc2bf3b477df00a92e25a8de66221ec8ee6,11,4,1,2,11975,Slawek Kaplonski,slaweq,"Retry connections to Nova

Sometimes Neutron is failing to send notification to Nova
due to timeout, refused connection or another HTTP error.
Retry send in those cases.

Conflicts:
    neutron/notifiers/nova.py
    neutron/tests/unit/notifiers/test_nova.py

Closes-Bug: #1987780
Change-Id: Iaaccec770484234b704f70f3c144efac4d8ffba0
(cherry picked from commit cd475f9af898b81d98b3e0d3f55b94ea653c193c)
(cherry picked from commit b5e9148cc7311080ba1b2a410145949c1adaa0ca)
"
openstack%2Fopenstack-ansible~master~I037f0eeafae9cd8dc2f65deee1a12f28ed78ad78,openstack/openstack-ansible,master,osa/test_volumes,I037f0eeafae9cd8dc2f65deee1a12f28ed78ad78,Run test_minimum_basic_scenario test for cinder,MERGED,2022-09-26 19:19:50.000000000,2022-10-05 12:01:53.000000000,2022-10-05 12:01:53.000000000,5,3,1,859339,c002b35967aa5448533f471c54997303b7bf89c0,18,3,7,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Run test_minimum_basic_scenario test for cinder

Currently we run only test_server_basic_ops scenario that does launch
VM from ephemeral drive. While it's important thing to test, we still
need to ensure, that volume-based instances does also work properly.
For that we will run test_minimum_basic_scenario when os_cinder
role is running in CI. We also want to minimize amount of test to
reduce time in CI, thus it's not added as a general test.

Change-Id: I037f0eeafae9cd8dc2f65deee1a12f28ed78ad78
"
openstack%2Fopenstack-ansible~master~I5bc0e5e08fdfd8f0fb90e5716cc6b9a0b1401c55,openstack/openstack-ansible,master,osa/test_volumes,I5bc0e5e08fdfd8f0fb90e5716cc6b9a0b1401c55,Extend NFS scenario to support cinder,MERGED,2022-09-26 18:40:03.000000000,2022-10-05 12:01:51.000000000,2022-10-05 12:01:51.000000000,18,1,1,859336,38ee58b390b7dd32590e10d55cb40e9d4443d47d,19,4,7,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Extend NFS scenario to support cinder

We do have NFS scenario to deploy glance with NFS backend. However
we did not test cinder with NFS. With this change we extend possible
usecase of NFS server to support cinder as a backend.

Change-Id: I5bc0e5e08fdfd8f0fb90e5716cc6b9a0b1401c55
"
openstack%2Fstevedore~master~Ib9c2b0a14edea91e97d122d2ac93b650029f918e,openstack/stevedore,master,bug/1991559,Ib9c2b0a14edea91e97d122d2ac93b650029f918e,"Fix compatibility with Python 3.12, importlib-metadata 5.0",MERGED,2022-10-03 15:35:01.000000000,2022-10-05 11:58:24.000000000,2022-10-05 11:56:41.000000000,18,2,0,860105,28fc7164dace83abc3ecc06fcb56f7ca880d735a,13,4,2,2,15334,Stephen Finucane,sfinucan,"Fix compatibility with Python 3.12, importlib-metadata 5.0

importlib-metadata 5.0 has removed support for dict-style interaction
with entrypoints [1]. This is going to eventually affect us when Python
3.12 is released but even before then anyone not properly using upper
constraints with an older Python 3.7-based release (the only Python
version where we require the third-party importlib-metadata package
rather than the stdlib importlib.metadata package) will be bitten. Fix
it now to address both.

[1] https://github.com/python/importlib_metadata/commit/dde2b9de2973ce1c6fa9ba21dfe81069b0baa77b

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ib9c2b0a14edea91e97d122d2ac93b650029f918e
Closes-Bug: #1991559
"
openstack%2Fstevedore~master~Iff536d4f4267efbebc4be1e7e5da8a9fde39f79b,openstack/stevedore,master,bug/1966040,Iff536d4f4267efbebc4be1e7e5da8a9fde39f79b,"Fix compatibility with Python 3.10, 3.9.11",MERGED,2022-09-09 15:53:53.000000000,2022-10-05 11:57:43.000000000,2022-10-05 11:56:39.000000000,19,11,13,856830,663d56c9535c64f4f8bd363abf69406975585ee9,26,3,3,1,15334,Stephen Finucane,sfinucan,"Fix compatibility with Python 3.10, 3.9.11

A fix to 'importlib.metadata' in Python 3.10 [1], later backported to
3.9 and released in 3.9.11 [2], has broken our tests. Fix them.

[1] https://github.com/python/cpython/commit/b1e286860742e7ba6fadc75e3ddb6c2899a56919
[2] https://github.com/python/cpython/commit/177be52517da9a876a3f9e670f88c4731b906986

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-bug: #1966040
Change-Id: Iff536d4f4267efbebc4be1e7e5da8a9fde39f79b
"
openstack%2Freleases~master~I89c7eb88c86f012536713e1ad7aa5b243aaf7f83,openstack/releases,master,zed-final,I89c7eb88c86f012536713e1ad7aa5b243aaf7f83,Zed final releases for cycle-with-rc projects,MERGED,2022-09-30 18:10:14.000000000,2022-10-05 11:56:45.000000000,2022-10-05 11:56:45.000000000,462,1,29,860011,b38f01c4271fdb3919cb2ecafe94a72107f65f11,45,60,2,92,17685,Elod Illes,elod.illes,"Zed final releases for cycle-with-rc projects

This tags the final release for all cycle-with-rc projects for Zed.
While not required, having PTLs ack this patch would be nice to include
that record in the merged metadata.

Release activity should now be frozen until this is processed on
October 5th. Any bugfixes merged to stable/zed can be queued up and
ready to go as a follow on stable release after the coordinated release
date.

There are different diff-start values for each project. This is used
when generating release notes to denote the point where the stable/yoga
branch started to diverge from what is included on stable/zed. For
some, this will be the final Yoga major version, but if multiple RCs
were done, this may show the initial RC1 release version. This is
normal.

This patch will be merged on October 5th.

Change-Id: I89c7eb88c86f012536713e1ad7aa5b243aaf7f83
"
openstack%2Fcharm-nova-cloud-controller~master~Icdef04e25e74c0a18fd49997c5f5b0540d583f40,openstack/charm-nova-cloud-controller,master,bug/1989538,Icdef04e25e74c0a18fd49997c5f5b0540d583f40,Ensure openstack-release package is correct after install hook,MERGED,2022-10-04 19:37:48.000000000,2022-10-05 11:55:57.000000000,2022-10-05 11:55:57.000000000,4,0,1,860299,abb8ee551c0abc91c986f2a8482c7462cd7a8e39,10,3,1,1,11805,Corey Bryant,coreycb,"Ensure openstack-release package is correct after install hook

The linked bug shows the install of the charm with openstack-origin set
to zed.  This happens because configure_installation_source() causes the
openstack-release package to be installed *before* the zed cloud archive
sources are configured into /etc/apt and an apt update done. This means
that the openstack-release package says ""yoga"" despite the zed packages
actually being installed.

Then, on the config-changed hook, it sees that the installed version is
showing as yoga and tries to do an upgrade.  This fails, as the charm
hasn't yet bootstrapped, and the charm tries to bootstrap after
upgrading the packages.

There's a few bugs here which are exposed, but the tactical fix is to
force the openstack-release to match the installed packages.

Closes-Bug: #1989538
Change-Id: Icdef04e25e74c0a18fd49997c5f5b0540d583f40
"
openstack%2Fcharm-neutron-api~master~Icaa2303d2dbbcfc883ea1cd44ce0a77af1ef7250,openstack/charm-neutron-api,master,bug/1989538,Icaa2303d2dbbcfc883ea1cd44ce0a77af1ef7250,Ensure openstack-release package is correct after install hook,MERGED,2022-10-04 19:38:02.000000000,2022-10-05 11:55:49.000000000,2022-10-05 11:55:49.000000000,4,0,1,860300,8e708a76b72fa66234f0ef7fd722ae315eae1b12,10,3,1,1,11805,Corey Bryant,coreycb,"Ensure openstack-release package is correct after install hook

The linked bug shows the install of the charm with openstack-origin set
to zed.  This happens because configure_installation_source() causes the
openstack-release package to be installed *before* the zed cloud archive
sources are configured into /etc/apt and an apt update done. This means
that the openstack-release package says ""yoga"" despite the zed packages
actually being installed.

Then, on the config-changed hook, it sees that the installed version is
showing as yoga and tries to do an upgrade.  This fails, as the charm
hasn't yet bootstrapped, and the charm tries to bootstrap after
upgrading the packages.

There's a few bugs here which are exposed, but the tactical fix is to
force the openstack-release to match the installed packages.

Closes-Bug: #1989538
Change-Id: Icaa2303d2dbbcfc883ea1cd44ce0a77af1ef7250
"
openstack%2Fcharm-heat~master~I501aae7f7d818211deaeda945648dfdf63c21d7a,openstack/charm-heat,master,bug/1989538,I501aae7f7d818211deaeda945648dfdf63c21d7a,Ensure openstack-release package is correct after install hook,MERGED,2022-10-04 19:38:30.000000000,2022-10-05 11:55:31.000000000,2022-10-05 11:55:31.000000000,4,0,1,860302,f5a61e7c784e48772fdb07aac4782e74b9e09951,10,3,1,1,11805,Corey Bryant,coreycb,"Ensure openstack-release package is correct after install hook

The linked bug shows the install of the charm with openstack-origin set
to zed.  This happens because configure_installation_source() causes the
openstack-release package to be installed *before* the zed cloud archive
sources are configured into /etc/apt and an apt update done. This means
that the openstack-release package says ""yoga"" despite the zed packages
actually being installed.

Then, on the config-changed hook, it sees that the installed version is
showing as yoga and tries to do an upgrade.  This fails, as the charm
hasn't yet bootstrapped, and the charm tries to bootstrap after
upgrading the packages.

There's a few bugs here which are exposed, but the tactical fix is to
force the openstack-release to match the installed packages.

Closes-Bug: #1989538
Change-Id: I501aae7f7d818211deaeda945648dfdf63c21d7a
"
openstack%2Fcharm-ceph-mon~master~I28f3ac85f22971bac63f58825842d0f5d712fad9,openstack/charm-ceph-mon,master,fix/ceph_metrics,I28f3ac85f22971bac63f58825842d0f5d712fad9,Fix: ceph metrics alert rule symlinking,MERGED,2022-10-05 08:21:24.000000000,2022-10-05 11:53:47.000000000,2022-10-05 11:53:47.000000000,6,4,0,860346,fd9104907e201fbfd0805da300ea7d90329cadff,7,3,1,1,15382,Peter Sabaini,peter-sabaini,"Fix: ceph metrics alert rule symlinking

Really remove existing symlinks, also improve type hinting

Change-Id: I28f3ac85f22971bac63f58825842d0f5d712fad9
"
openstack%2Fosprofiler~master~If6de005dd8229fe6f21dc103f50db083a415d7e4,openstack/osprofiler,master,drop-py36,If6de005dd8229fe6f21dc103f50db083a415d7e4,"tox: Add functional-py38, functional-py39 envs",NEW,2022-05-05 17:02:12.000000000,2022-10-05 11:47:24.000000000,,29,36,1,840711,a01aa0a8cdee83cfa60dbdb3175d4ca300db5b5e,7,2,3,1,15334,Stephen Finucane,sfinucan,"tox: Add functional-py38, functional-py39 envs

While here, we also clean up some style issues in this file.

Change-Id: If6de005dd8229fe6f21dc103f50db083a415d7e4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fstevedore~master~Id772d9f002e6945666685138bdef8f8ca32b5229,openstack/stevedore,master,remove-caching,Id772d9f002e6945666685138bdef8f8ca32b5229,Remove Extension.extras,NEW,2022-10-04 14:58:50.000000000,2022-10-05 11:40:28.000000000,,7,27,1,860269,7eca3f5661bb7624139d629c097167c82ce4692c,5,2,2,3,15334,Stephen Finucane,sfinucan,"Remove Extension.extras

The behavior of the 'EntryPoint.extras` attribute that this exposes has
changed in recent versions of 'importlib_metadata'/'importlib.metadata'.
In change Iff536d4f4267efbebc4be1e7e5da8a9fde39f79b we applied a
temporary fix to preserve the legacy behavior on these newer versions,
however, given that this is actually a deprecated attribute [1], the
best long-term option seems to be not exposing things. Do just that.

[1] https://packaging.python.org/en/latest/specifications/entry-points/#data-model

Change-Id: Id772d9f002e6945666685138bdef8f8ca32b5229
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstack-ansible-os_trove~master~Ia0d50b96a4af59352a89c566137d8b0208338b6b,openstack/openstack-ansible-os_trove,master,,Ia0d50b96a4af59352a89c566137d8b0208338b6b,Change networks_info output structure,MERGED,2022-08-29 18:16:58.000000000,2022-10-05 11:37:54.000000000,2022-10-05 11:36:54.000000000,2,2,0,855075,27880b4b50511ed57cf9f620613b9513a14a1e63,10,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Change networks_info output structure

With commit [1] to collection output structure of networks_info module
has been changed. With that we adpot to the new format.

[1] https://opendev.org/openstack/ansible-collections-openstack/commit/9272146cf7a7486f6004b52bec420a998e710f45

Change-Id: Ia0d50b96a4af59352a89c566137d8b0208338b6b
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I299605bb5735cd510a82490a710ef6fae98bfafa,openstack/openstack-ansible-lxc_hosts,master,,I299605bb5735cd510a82490a710ef6fae98bfafa,Use policy_rc_d attribute instead of copy,MERGED,2022-09-26 11:31:03.000000000,2022-10-05 11:28:34.000000000,2022-10-05 11:27:11.000000000,1,16,0,859273,a09612c1fbc4f2c93047ecea77c51b2ebb326496,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use policy_rc_d attribute instead of copy

Since ansible 2.8 it's possible to provide policy_rc_d attribute to the
apt module in order to avoid service restart on installation/upgrade

Change-Id: I299605bb5735cd510a82490a710ef6fae98bfafa
"
openstack%2Fkolla~master~Ibee94fe5a6217048eef01aa24ebed6ee05aae8de,openstack/kolla,master,,Ibee94fe5a6217048eef01aa24ebed6ee05aae8de,debian: swtpm is in backports,MERGED,2022-10-04 09:35:31.000000000,2022-10-05 11:27:38.000000000,2022-10-05 11:26:37.000000000,3,2,2,860225,446893d65da37c4c631a6ec27c24a80a6a3de13d,14,3,2,1,24072,Marcin Juszkiewicz,hrw,"debian: swtpm is in backports

We need to mark swtpm/libtpms in APT preferences to make it installed on
AArch64.

Change-Id: Ibee94fe5a6217048eef01aa24ebed6ee05aae8de
"
openstack%2Ftacker~master~I84c4631eed2eb56448077eb51ff4b2341f08ac2b,openstack/tacker,master,bug/1991327,I84c4631eed2eb56448077eb51ff4b2341f08ac2b,Fix Vagrantfile for no_proxy is empty,MERGED,2022-09-29 19:59:15.000000000,2022-10-05 11:24:48.000000000,2022-10-05 11:23:38.000000000,1,1,4,859895,77ecc2a7b3be36d67dbed44b2ea8e904cff1bbec,14,3,1,1,25701,Yasufumi Ogawa,yasufum,"Fix Vagrantfile for no_proxy is empty

ENV[""no_proxy""] is nil if the environment variable is empty, but
expected as empty string """" wrongly. This update is to fix the mistake.

Closes-Bug: #1991327
Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: I84c4631eed2eb56448077eb51ff4b2341f08ac2b
"
openstack%2Fopenstack-ansible-galera_server~master~Ida1ce1b767497c792fbb7bcdb934ba5e282041b1,openstack/openstack-ansible-galera_server,master,,Ida1ce1b767497c792fbb7bcdb934ba5e282041b1,Use policy_rc_d attribute instead of copy,MERGED,2022-09-26 11:28:42.000000000,2022-10-05 11:23:47.000000000,2022-10-05 11:22:39.000000000,1,17,0,859272,c6218267c6ac7c0845a07dd6c473f894d5f2bf9d,8,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use policy_rc_d attribute instead of copy

Since ansible 2.8 it's possible to provide policy_rc_d attribute to the
apt module in order to avoid service restart on installation/upgrade

Change-Id: Ida1ce1b767497c792fbb7bcdb934ba5e282041b1
"
openstack%2Fopenstack-ansible-os_manila~master~I7766cd5de2e49dae5c1bb5edc5407c3d6304894d,openstack/openstack-ansible-os_manila,master,osa/deb_git-core,I7766cd5de2e49dae5c1bb5edc5407c3d6304894d,Replace git-core with git for debian,NEW,2022-10-05 09:03:21.000000000,2022-10-05 11:10:01.000000000,,1,1,0,860354,7a629714da7ad8105044b16f692d78f83d8e0c9f,3,1,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Replace git-core with git for debian

With ansible-core 2.13 it tries to substitude package resolution in apt
module.
However git-core is used in Debian as transitional name, but ansible
tries to select it and provide version, which is not correct behaviour.
But since git-core is not really valid anyway, we just replace it
to workaround ansible's imperfectness.

Change-Id: I7766cd5de2e49dae5c1bb5edc5407c3d6304894d
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Ib834a9f8b4a0238960dca65b2ebc1da840cec626,openstack/kolla-ansible,stable/wallaby,monitoring-stable/xena-stable/wallaby,Ib834a9f8b4a0238960dca65b2ebc1da840cec626,Fix AlertManager's external web url,MERGED,2022-09-12 08:26:54.000000000,2022-10-05 11:06:20.000000000,2022-10-05 11:05:02.000000000,9,1,2,856889,7b567eb13a1aefe7985f234004e405e1061865dc,17,4,3,3,22629,Michal Nasiadka,mnasiadka,"Fix AlertManager's external web url

Remove hard-coded internal address; introduce variable to control
external web url.

Closes-bug: #1972817
Change-Id: Ib834a9f8b4a0238960dca65b2ebc1da840cec626
(cherry picked from commit 61ff6f811abfc96045230e9f6b09f1e9c59e5432)
"
openstack%2Ftripleo-common~master~I7fd8d4d1f9b1cfee6d2b4be7c81c003e3b02c9e5,openstack/tripleo-common,master,,I7fd8d4d1f9b1cfee6d2b4be7c81c003e3b02c9e5,Fix the roles symlink,MERGED,2022-10-04 13:26:58.000000000,2022-10-05 10:54:18.000000000,2022-10-05 10:53:15.000000000,1,1,2,860259,6ebdbdca3062fd23ed42860c426f527311c2116c,9,6,1,1,32968,Juan Larriba,jlarriba,"Fix the roles symlink

The current symlink has a typo so it renders the roles unusable. This
patch fixes this and leaves the correct behaviour.

Change-Id: I7fd8d4d1f9b1cfee6d2b4be7c81c003e3b02c9e5
"
openstack%2Fopenstack-zuul-jobs~master~I11ac0a3778eff2f5a5fe3600082087d820108e94,openstack/openstack-zuul-jobs,master,zed-translations,I11ac0a3778eff2f5a5fe3600082087d820108e94,Start translations for Zed stable branch,MERGED,2022-10-04 15:22:51.000000000,2022-10-05 10:47:01.000000000,2022-10-05 10:44:35.000000000,2,4,3,860272,7e7045ab92b0b9db28f24fe9a38f914f74174938,11,3,1,1,14482,Ian Y. Choi,ianychoi,"Start translations for Zed stable branch

Run the translation jobs on zed branches, stop
work on old branches.

Change-Id: I11ac0a3778eff2f5a5fe3600082087d820108e94
"
openstack%2Fopenstacksdk~master~I34c5989be4710c863cce24d6f55bd1faae86cd52,openstack/openstacksdk,master,bp/unshelve-to-host,I34c5989be4710c863cce24d6f55bd1faae86cd52,Microversion 2.91: Support specifying destination host to unshelve,NEW,2022-08-22 10:55:28.000000000,2022-10-05 10:23:47.000000000,,80,5,13,853949,2142eb0ad8f10523c9f7b30ad5ed28c093515314,12,2,3,3,16207,ribaudr,uggla,"Microversion 2.91: Support specifying destination host to unshelve

This patch adds ``host`` to openstacksdk unshelve api.
This can help administrators to specify a ``host``
to unshelve a shelve offloaded server starting from 2.91 microversion.

Implements: blueprint unshelve-to-host
Change-Id: I34c5989be4710c863cce24d6f55bd1faae86cd52
"
openstack%2Fansible-hardening~master~I11763ed4563506b7d25585f8c633df08a123e731,openstack/ansible-hardening,master,,I11763ed4563506b7d25585f8c633df08a123e731,Remove sebang from get_users,MERGED,2022-10-04 15:46:32.000000000,2022-10-05 10:18:51.000000000,2022-10-05 10:17:32.000000000,0,1,0,860276,b709007104d8f6e77435f55d777f19438e7f32d5,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove sebang from get_users

Shebang is not required for modern ansible versions. But in some cases
it might lead to incorrect behaviour by using incorrect interpreter.

Change-Id: I11763ed4563506b7d25585f8c633df08a123e731
"
openstack%2Fironic~stable%2Fyoga~Ie2ec6e08214661f7dc61c92de646e2f4d5bb5469,openstack/ironic,stable/yoga,yoga-851950-backport,Ie2ec6e08214661f7dc61c92de646e2f4d5bb5469,Modify do_node_verify to avoid state machine stuck,MERGED,2022-10-04 23:54:27.000000000,2022-10-05 10:12:15.000000000,2022-10-05 10:10:30.000000000,1,1,1,860306,cb4a29e90520e8790a733a32724ef87dd2c8616b,13,2,1,1,32177,Jacob Anders,janders,"Modify do_node_verify to avoid state machine stuck

do_node_verify function runs vendor-driver-defined verify_step.
However, when vendor verify_step fails, it causes stuck of state
machine at verifying.
This is because do_node_verify function tries to retrieve name
of verify_step through node.verify_step but node doesn't have
verify_step attribute and there is no way to handle exception.

This commit fixes this issue.

Change-Id: Ie2ec6e08214661f7dc61c92de646e2f4d5bb5469
Story: 2010209
Task: 45942
(cherry picked from commit f6d2b2ed930caaa1fa7a6827876845eb02610848)
"
openstack%2Fironic~bugfix%2F19.0~Ie2ec6e08214661f7dc61c92de646e2f4d5bb5469,openstack/ironic,bugfix/19.0,bugfix-19.0-851950-backport,Ie2ec6e08214661f7dc61c92de646e2f4d5bb5469,Modify do_node_verify to avoid state machine stuck,MERGED,2022-10-05 00:01:24.000000000,2022-10-05 10:11:46.000000000,2022-10-05 10:10:37.000000000,1,1,0,860308,6ae0aa11ddb57f50f3f5f52e09bd8794ff60f2d0,8,2,1,1,32177,Jacob Anders,janders,"Modify do_node_verify to avoid state machine stuck

do_node_verify function runs vendor-driver-defined verify_step.
However, when vendor verify_step fails, it causes stuck of state
machine at verifying.
This is because do_node_verify function tries to retrieve name
of verify_step through node.verify_step but node doesn't have
verify_step attribute and there is no way to handle exception.

This commit fixes this issue.

Change-Id: Ie2ec6e08214661f7dc61c92de646e2f4d5bb5469
Story: 2010209
Task: 45942
(cherry picked from commit f6d2b2ed930caaa1fa7a6827876845eb02610848)
"
openstack%2Foslo.log~stable%2Fvictoria~I1adc9b29bb356ce56704c066b375b49374200d3c,openstack/oslo.log,stable/victoria,,I1adc9b29bb356ce56704c066b375b49374200d3c,Log Global Request IDs by default,NEW,2022-04-27 13:57:52.000000000,2022-10-05 10:03:13.000000000,,7,2,4,839551,10818751f0d0d83e443288c6bb9495de1adc83b4,10,1,1,2,31245,Daniel Bengtsson,damani42,"Log Global Request IDs by default

Global Request IDs were introduced a while ago[1] so that operators can
trace processing of resources across multiple services more easily.

Some services like Nova or Neutron have implemented this feature and
a request made by these services have additional global request id in
its context. However current default format doesn't include that new id
and users need to update the log format parameter in each service to
get this information recorded.

This change updates the default log format so that the Global Request
IDs can be more widely and easily used.

[1] https://specs.openstack.org/openstack/oslo-specs/specs/pike/global-req-id.html

Change-Id: I1adc9b29bb356ce56704c066b375b49374200d3c
(cherry picked from commit 2ba348facba5b493440d12cfc1f9630193cba3ef)
"
openstack%2Freleases~master~I90ed98f05900c25b0555cfc9042edeec0856ae0b,openstack/releases,master,reno-links,I90ed98f05900c25b0555cfc9042edeec0856ae0b,Add missing release note links for Zed,MERGED,2022-10-05 09:07:26.000000000,2022-10-05 09:55:06.000000000,2022-10-05 09:55:06.000000000,3,0,2,860359,f324ac68f56d653c1af7bd2513ccd00e5ad7ea7f,7,3,1,3,17685,Elod Illes,elod.illes,"Add missing release note links for Zed

This generated patch adds Zed release note page link if that page
exists for a deliverable.

If any of your deliverables does not have a release note link added
already under deliverables/zed, then please check whether there is an
open patch on that repository with the topic ""reno-zed"" [1] still
waiting to be approved.

[1] https://review.opendev.org/q/topic:reno-zed

Change-Id: I90ed98f05900c25b0555cfc9042edeec0856ae0b
"
openstack%2Fironic~bugfix%2F20.2~Ie2ec6e08214661f7dc61c92de646e2f4d5bb5469,openstack/ironic,bugfix/20.2,bugfix-20.2-851950-backport,Ie2ec6e08214661f7dc61c92de646e2f4d5bb5469,Modify do_node_verify to avoid state machine stuck,MERGED,2022-10-04 23:59:54.000000000,2022-10-05 09:54:53.000000000,2022-10-05 09:53:08.000000000,1,1,0,860307,979ae10088dced7bcc2cd1f3ce1d0345ec8d5a0c,9,2,1,1,32177,Jacob Anders,janders,"Modify do_node_verify to avoid state machine stuck

do_node_verify function runs vendor-driver-defined verify_step.
However, when vendor verify_step fails, it causes stuck of state
machine at verifying.
This is because do_node_verify function tries to retrieve name
of verify_step through node.verify_step but node doesn't have
verify_step attribute and there is no way to handle exception.

This commit fixes this issue.

Change-Id: Ie2ec6e08214661f7dc61c92de646e2f4d5bb5469
Story: 2010209
Task: 45942
(cherry picked from commit f6d2b2ed930caaa1fa7a6827876845eb02610848)
"
openstack%2Fsolum~master~I503489440bc9a906b6f2e299ce81148c3d76f0cb,openstack/solum,master,,I503489440bc9a906b6f2e299ce81148c3d76f0cb,remove unicode literal from code,NEW,2022-08-06 13:37:42.000000000,2022-10-05 09:33:30.000000000,,8,8,0,852357,9cbf564e68be871a152a2186e3dd31d2c493700f,3,2,1,1,35058,Ke Niu,niuke,"remove unicode literal from code

Change-Id: I503489440bc9a906b6f2e299ce81148c3d76f0cb
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ia676b845f75107ae49b0ea2ef2b34cc1c41abab6,openstack/tripleo-ansible,stable/wallaby,,Ia676b845f75107ae49b0ea2ef2b34cc1c41abab6,Use openstack CLI instead of neutron CLI,NEW,2022-06-15 16:11:00.000000000,2022-10-05 09:33:24.000000000,,6,6,1,845846,58b49d3df74519cb1156c64acda4c5b2607fc805,7,3,2,1,9816,Takashi Kajinami,kajinamit,"Use openstack CLI instead of neutron CLI

... because neutron CLI is already deprecated and will be replaced by
openstack CLI.

Change-Id: Ia676b845f75107ae49b0ea2ef2b34cc1c41abab6
(cherry picked from commit 799db93bc15926ad3d355773382098e054f9cff1)
"
openstack%2Fsolum~master~Ic6d067865596c5bc6f0ae33f2ee8a7ac4a6fd792,openstack/solum,master,,Ic6d067865596c5bc6f0ae33f2ee8a7ac4a6fd792,Remove install unnecessary packages,NEW,2022-08-06 11:38:42.000000000,2022-10-05 09:30:47.000000000,,0,2,0,852337,6340f4978a9214195ae61baebfccbda810df2a9c,3,2,1,1,35058,Ke Niu,niuke,"Remove install unnecessary packages

The docs requirements migrated to doc/requirements.txt
we need not install things from requirements.txt.

Change-Id: Ic6d067865596c5bc6f0ae33f2ee8a7ac4a6fd792
"
openstack%2Fproject-team-guide~master~I8fd68f1ef4b4b1307d9f5fa3023f0a7544186268,openstack/project-team-guide,master,,I8fd68f1ef4b4b1307d9f5fa3023f0a7544186268,Add openstack-map and zuul jobs updates step in repository handling,MERGED,2022-09-29 18:44:36.000000000,2022-10-05 09:22:30.000000000,2022-10-05 09:21:19.000000000,51,2,9,859886,4df577d376a99fc60eb416d465300f2b4cc0b0b9,18,6,2,1,8556,Ghanshyam,ghanshyam,"Add openstack-map and zuul jobs updates step in repository handling

While renaming or retiring repository, we usually forget to update the
openstack-map and zuul jobs definition. To remind to do those, let's
explicitly add these steps in repository rename/retire process.

Change-Id: I8fd68f1ef4b4b1307d9f5fa3023f0a7544186268
"
openstack%2Fbarbican-specs~master~I02f6dfc072416780dc541534733274279a849423,openstack/barbican-specs,master,secret-consumers,I02f6dfc072416780dc541534733274279a849423,Update the secret consumers spec,MERGED,2022-09-09 12:12:09.000000000,2022-10-05 09:18:43.000000000,2022-10-05 09:17:39.000000000,23,13,1,856759,33b30e604c5d47a0cf202c1c87eec91d6898c3ca,11,6,1,1,14250,Grzegorz Grasza,xek,"Update the secret consumers spec

This changes the spec, so that the API makes the same assumptions
as the container consumers API.

Change-Id: I02f6dfc072416780dc541534733274279a849423
"
openstack%2Fnova~master~I0255a5697cd4ea148bd91c4f6fd183841d69a333,openstack/nova,master,bp/manila_shares_attachments_v2,I0255a5697cd4ea148bd91c4f6fd183841d69a333,Attach Manila shares via virtiofs (api),NEW,2022-04-06 13:19:27.000000000,2022-10-05 08:50:02.000000000,,1074,3,30,836830,261b8c5525edc36ad3e0a10d15f10b7a7b1686ee,103,3,19,23,16207,ribaudr,uggla,"Attach Manila shares via virtiofs (api)

This patch introduce the REST API modifications to attach/detach a share
and list/show share mappings.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares

Change-Id: I0255a5697cd4ea148bd91c4f6fd183841d69a333
"
openstack%2Fcharm-ceph-mon~master~I5e5b9510998d2ebb03d94a585739b1ffc0fdd613,openstack/charm-ceph-mon,master,fix/ceph_metrics_alert_rules,I5e5b9510998d2ebb03d94a585739b1ffc0fdd613,Fix: ceph metrics alert rule symlinking,ABANDONED,2022-10-05 07:32:45.000000000,2022-10-05 08:40:04.000000000,,6,5,1,860345,1cad028905afb6aaff91ae050c4f9781cd992691,7,2,3,1,15382,Peter Sabaini,peter-sabaini,"Fix: ceph metrics alert rule symlinking

Really remove existing symlinks, also improve type hinting

Change-Id: I5e5b9510998d2ebb03d94a585739b1ffc0fdd613
"
openstack%2Fnova~master~I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3,openstack/nova,master,bp/manila_shares_attachments_v2,I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3,Attach Manila shares via virtiofs (drivers and compute manager part),NEW,2022-03-10 14:00:36.000000000,2022-10-05 08:36:37.000000000,,905,127,73,833090,3dc9da7046ab0219c36da84f024fab4523c0329f,123,2,21,27,16207,ribaudr,uggla,"Attach Manila shares via virtiofs (drivers and compute manager part)

This patch does multiple things:
1) Extends the virt interface to pass share_info down to the driver an update the signatures in all in tree drivers.
2) Extends the compute manager to pass the share_info to the driver at certain actions.
3) Implement the share_info handling in the libvirt driver.
3.1) Checks requirements for shares and reports the new capabilities COMPUTE_STORAGE_VIRTIO_FS and
COMPUTE_MEM_BACKING_FILE to signal that.
3.2) Extends the config handling for virtio mounts.
3.3) Implements mount / unmount.
4) Changes the scheduler to request new capabilities.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares

Depends-On: https://review.opendev.org/c/openstack/os-traits/+/832769
Change-Id: I3a4bca7f03cfa9a1bc20f3f9937bb9b44fe2cde3
"
openstack%2Fcharm-ceph-mon~master~Iba44920b38d93aff8ea7ae56aa7bb41c3b59e667,openstack/charm-ceph-mon,master,ops-status-update,Iba44920b38d93aff8ea7ae56aa7bb41c3b59e667,Rewrite update status machinery with the ops framework,ABANDONED,2022-10-02 18:57:10.000000000,2022-10-05 08:15:49.000000000,,421,389,1,860057,c00a34408b27a22e675d5e90bc48b0d898c914ae,20,2,7,10,15382,Peter Sabaini,peter-sabaini,"Rewrite update status machinery with the ops framework

Add a new module ceph_status for checking ceph-mon status.

Provide the ceph_shared helpers for querying current status of
ceph-mon units. Also add some initial testing for the charm module.

Change-Id: Iba44920b38d93aff8ea7ae56aa7bb41c3b59e667
"
openstack%2Fneutron~master~I935186b6ee95f0cae8dc05869d9742c8fb3353c3,openstack/neutron,master,bug/1952730,I935186b6ee95f0cae8dc05869d9742c8fb3353c3,Avoid writing segments to the DB repeatedly,MERGED,2021-11-30 09:32:15.000000000,2022-10-05 07:44:40.000000000,2021-12-08 10:47:44.000000000,10,3,10,819777,176503e610aee16cb5799a77466579bc55129450,26,5,2,3,15554,Bence Romsics,ebenrom,"Avoid writing segments to the DB repeatedly

When:
* the segments service plugin is enabled and
* we have multiple rpc worker processes (as in the sum of rpc_workers
  and rpc_state_report_workers, since both kind processes agent
  state_reports) and
* many ovs-agents report physnets,
then rabbitmq dispatches the state_report messages between the workers
in a round robin fashion, therefore eventually the state_reports of the
same agent will hit all rpc workers.

Unfortunately all worker processes have a 'reported_hosts' set to
remember from which host it has seen agent reports already. But right
after a server start when that set is still empty, each worker will
unconditionally write the received physnet-segment information into
the db. This means we multiply the load on the db and rpc workers by
a factor of the rpc worker count.

This patch tries to reduce the load on the db by adding another early
return before the unconditional db write.

Change-Id: I935186b6ee95f0cae8dc05869d9742c8fb3353c3
Closes-Bug: #1952730
"
openstack%2Fpython-manilaclient~master~Idcb852af2a0464ed13f433b4196836e2403d2cfb,openstack/python-manilaclient,master,bp/openstack-client-support,Idcb852af2a0464ed13f433b4196836e2403d2cfb,[OSC] Add OSC Functional Tests Share Server Delete,NEW,2022-10-01 15:45:51.000000000,2022-10-05 07:35:14.000000000,,40,0,0,860052,7622165703bf02cb02fad708e02fda80555354fe,2,3,1,1,34123,Franca Mgbogu,franciedigital,"[OSC] Add OSC Functional Tests Share Server Delete

Adds osc functional tests for share server delete

Partially-implements: bp openstack-client-support
Change-Id: Idcb852af2a0464ed13f433b4196836e2403d2cfb
"
openstack%2Ftripleo-heat-templates~master~I637f4567b6fd16df318108da8b9cde8ce1ccf585,openstack/tripleo-heat-templates,master,standalone-roles-octavia,I637f4567b6fd16df318108da8b9cde8ce1ccf585,Move host_prep_tasks for octavia worker to Ansible role,NEW,2022-10-05 02:20:16.000000000,2022-10-05 06:19:19.000000000,,6,23,0,860334,654bb4e5a66af4680af6a66a00514e5a2b94915a,5,2,3,1,30073,Brendan Shephard,bshephar,"Move host_prep_tasks for octavia worker to Ansible role

This change moves the THT host_prep_tasks for Octavia worker
into the dedicated tripleo_octavia standalone-role.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/860333
Change-Id: I637f4567b6fd16df318108da8b9cde8ce1ccf585
"
openstack%2Fpython-heatclient~master~Ie385012787c3d574611a50781c59090efff2377c,openstack/python-heatclient,master,zanata/translations,Ie385012787c3d574611a50781c59090efff2377c,Imported Translations from Zanata,NEW,2022-07-06 03:52:57.000000000,2022-10-05 06:17:50.000000000,,100,0,0,848802,1c851850a32930e40dfbbd14ad8bbaf2d5811fa3,6,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie385012787c3d574611a50781c59090efff2377c
"
openstack%2Foslo.versionedobjects~master~I5af1a69bd62a85ddec406aff30dbc2ff7a294fd0,openstack/oslo.versionedobjects,master,zanata/translations,I5af1a69bd62a85ddec406aff30dbc2ff7a294fd0,Imported Translations from Zanata,NEW,2022-10-01 03:58:33.000000000,2022-10-05 06:16:47.000000000,,5,2,0,860046,fb5a423bd406f35b9295b6e3801c3d991fb38d8e,3,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5af1a69bd62a85ddec406aff30dbc2ff7a294fd0
"
openstack%2Ftripleo-heat-templates~master~I85107ce5424a102fc454f67f398ec508ec4629b4,openstack/tripleo-heat-templates,master,standalone-roles-octavia,I85107ce5424a102fc454f67f398ec508ec4629b4,Move host_prep_tasks for octavia_api,NEW,2022-10-05 02:02:39.000000000,2022-10-05 06:06:54.000000000,,4,15,0,860332,03f6710a37631b8e239d124b9395f55d47f0db12,3,2,1,1,30073,Brendan Shephard,bshephar,"Move host_prep_tasks for octavia_api

This change moves host_prep_tasks for octavia_api into it's own
standalone-role for tripleo_octavia in line with the wider efforts
around standalone-roles.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/860204
Change-Id: I85107ce5424a102fc454f67f398ec508ec4629b4
"
openstack%2Fpython-tripleoclient~master~I703fc4411008fe83ec62901466a7a2dfaae29daf,openstack/python-tripleoclient,master,,I703fc4411008fe83ec62901466a7a2dfaae29daf,overcloud node delete: Fix ignored --overcloud-ssh-port-timeout,NEW,2022-10-05 03:02:35.000000000,2022-10-05 05:49:20.000000000,,6,0,0,860335,6489ac636c2a1d1e5e1c617cff242b06ade6f1de,3,2,1,2,9816,Takashi Kajinami,kajinamit,"overcloud node delete: Fix ignored --overcloud-ssh-port-timeout

The --overcloud-ssh-port-timeout option of the overcloud node delete
command has been unused by any logics actually. This change fixes that
and ensures the option controls ssh timeout during ansible playbook
execution.

Change-Id: I703fc4411008fe83ec62901466a7a2dfaae29daf
"
openstack%2Fpython-openstackclient~master~Idda1577cfc2ad700dd04dda96dcf18dab6b65f89,openstack/python-openstackclient,master,,Idda1577cfc2ad700dd04dda96dcf18dab6b65f89,Dropping lower constraints testing,ABANDONED,2021-04-25 02:53:22.000000000,2022-10-05 05:48:45.000000000,,0,105,0,787861,6d1f5345622b6264bccb7ddf0da1d0b2f220e767,3,1,1,3,31412,Wenping Song,songwenping,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Idda1577cfc2ad700dd04dda96dcf18dab6b65f89
"
openstack%2Fpuppet-tripleo~master~I8b03cbc00fc6e9174610124b031fc42fd671e384,openstack/puppet-tripleo,master,ovndb-cleanup,I8b03cbc00fc6e9174610124b031fc42fd671e384,Remove manifest to deploy OVNDB at host,NEW,2022-08-08 15:31:24.000000000,2022-10-05 05:44:07.000000000,,0,100,0,852449,ec8d964435c39f4006751e89635e67154609ccee,11,3,3,1,9816,Takashi Kajinami,kajinamit,"Remove manifest to deploy OVNDB at host

This removes the manifest file to deploy the OVNDB service as
a pacemaker resource running at host. The OVNDB service should be
deployed in containers instead and we use a different manifest for it.

Depends-on: https://review.opendev.org/852447
Change-Id: I8b03cbc00fc6e9174610124b031fc42fd671e384
"
openstack%2Fpuppet-openstack-integration~master~Iea76dde5c36054a0994c69bf6f4b39494364d642,openstack/puppet-openstack-integration,master,openstack/puppet/constraints,Iea76dde5c36054a0994c69bf6f4b39494364d642,Updated from Puppet OpenStack modules constraints,MERGED,2022-10-04 02:23:35.000000000,2022-10-05 05:39:39.000000000,2022-10-05 05:39:39.000000000,3,3,1,860201,4334e4b7adba3e7121d14a1748cdfc9004149592,11,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from Puppet OpenStack modules constraints

Change-Id: Iea76dde5c36054a0994c69bf6f4b39494364d642
"
openstack%2Fcinder~master~I396db66f72fbf1f31f279d4431c64c9004a1a665,openstack/cinder,master,lvm-nvmet-shared,I396db66f72fbf1f31f279d4431c64c9004a1a665,LVM nvmet: Add support for shared subsystems,NEW,2022-03-31 19:00:45.000000000,2022-10-05 05:16:56.000000000,,759,181,1,836074,7206af0975861b14f5a628f840046f19ebe59daa,117,1,5,13,9535,Gorka Eguileor,Gorka,"LVM nvmet: Add support for shared subsystems

LVM target drivers usually only support unique subsystems/targets, so a
specific subsystem/target is created for each volume.

While this is good from a deployment point of view, it is insufficient
from a testing perspective, since it limits the code paths that can be
tested in os-brick.

Being able to test these 2 different paths in os-brick is very
important, because the shared case usually present very particular
issues: Leftover devices caused by race conditions between nova and
cinder, premature subsystem/target disconnection, not disconnecting
subsystem/target, etc.

Thanks to this patch we'll be able to increase the testing possibilities
of the NVMe-oF os-brick connector to cover combinations of:

- Different connection properties formats: old & new
- Different target sharing: shared & non shared

Change-Id: I396db66f72fbf1f31f279d4431c64c9004a1a665
"
openstack%2Fkolla-ansible~master~I79147e9171236388f597e11e9c40134f9f296dc7,openstack/kolla-ansible,master,bb,I79147e9171236388f597e11e9c40134f9f296dc7,DNM: Failing a job to hold a node,ABANDONED,2022-09-26 06:24:29.000000000,2022-10-05 05:08:57.000000000,,3,53,0,859214,84c251cea8aa6bb3ec0d148c74839a203eb33b11,8,1,2,3,13252,Dr. Jens Harbott,jrosenboom,"DNM: Failing a job to hold a node

Change-Id: I79147e9171236388f597e11e9c40134f9f296dc7
Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
"
openstack%2Fnova~master~Ib735e9b52915639006bb08424d83f8ee39113d4f,openstack/nova,master,,Ib735e9b52915639006bb08424d83f8ee39113d4f,Remove the periodic Centos 8 job,MERGED,2022-09-19 09:35:11.000000000,2022-10-05 05:00:36.000000000,2022-10-05 04:58:19.000000000,0,4,4,858272,6aea9f37721aa36d16af49041ddf76e16c45e67c,22,7,3,1,34120,Andre Aranha,afariasa,"Remove the periodic Centos 8 job

Centos 9 fips tests are already merged on Nova and Centos 8 jobs were already replaced by Centos 9,
this patch will delete a Centos 8 periodic pipeline that should have been deleted on previous patcc.

Change-Id: Ib735e9b52915639006bb08424d83f8ee39113d4f
"
openstack%2Ftripleo-heat-templates~master~I0c017d022fbad9a8f99e5f27a7245f84de483950,openstack/tripleo-heat-templates,master,bug/1990990,I0c017d022fbad9a8f99e5f27a7245f84de483950,"Fix kill-script search string to match any ""/libpod-""",MERGED,2022-09-27 16:33:52.000000000,2022-10-05 04:48:37.000000000,2022-10-05 04:48:37.000000000,1,1,5,859454,3e983806e0979d6b9a86a61eded878ecf648f6c8,11,5,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Fix kill-script search string to match any ""/libpod-""

In order to find the container hash, the ""/proc/$PID/cgroup"" file will
return several lines, some of them with the patterns:
  .*/libpod-<container_ID>.scope
  .*/libpod-conmon-<container_ID>.scope

The search pattern should look for ""/libpod-"" and the rest of the
expression will extract the container ID. That will prevent the
issue reported in the related bug, when the ""pids:..."" line does
not contain this information.

Change-Id: I0c017d022fbad9a8f99e5f27a7245f84de483950
Closes-Bug: #1990990
"
openstack%2Fheat~stable%2Fxena~Ib54f5944cfd803baa4044858c097fc71f1ffb789,openstack/heat,stable/xena,fix-queue-config,Ib54f5944cfd803baa4044858c097fc71f1ffb789,zuul: Declare queue at top level,MERGED,2022-09-27 04:13:31.000000000,2022-10-05 04:41:10.000000000,2022-10-05 04:39:02.000000000,1,1,1,859370,782da94b34d17b2bf06ba8bf06f43c091c52266f,9,2,1,1,9816,Takashi Kajinami,kajinamit,"zuul: Declare queue at top level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This updates the job definition to use the top level
declaration instead.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: Ib54f5944cfd803baa4044858c097fc71f1ffb789
(cherry picked from commit 4a898171f0b512518aa94dbcdd58cfc707630af9)
(cherry picked from commit f4904ff7af40c8683d0dd3550eaf979fa90a2e47)
"
openstack%2Fpuppet-swift~master~Id799e345b4dd8b9897c907690107478a4be38548,openstack/puppet-swift,master,,Id799e345b4dd8b9897c907690107478a4be38548,Create internal-client.conf in acceptance tests,NEW,2022-08-22 06:20:54.000000000,2022-10-05 03:35:51.000000000,,16,2,0,853922,e70d5a24d5a707fba9efefcbafacb8c1ecf66a28,7,2,3,1,9816,Takashi Kajinami,kajinamit,"Create internal-client.conf in acceptance tests

... because the file is required by a few daemons like
container-sharder.

Change-Id: Id799e345b4dd8b9897c907690107478a4be38548
"
openstack%2Fpython-tripleoclient~master~I9c56eb8703c3e0df3d238a18b72570d668f60c21,openstack/python-tripleoclient,master,,I9c56eb8703c3e0df3d238a18b72570d668f60c21,overcloud node delete: Fix ignored timeout options,ABANDONED,2022-06-07 07:29:25.000000000,2022-10-05 02:57:02.000000000,,19,5,4,844916,b0b10f7f1bab42ad45514e1d60ed5aa1e5608fac,16,4,4,2,9816,Takashi Kajinami,kajinamit,"overcloud node delete: Fix ignored timeout options

This change fixes the following two options of overcloud node delete
command, which were ignored previously.
 --timeout : Timeout of the whole deployment process
 --overcloud-ssh-port-timeout : Timeout of ssh connection in ansible

Change-Id: I9c56eb8703c3e0df3d238a18b72570d668f60c21
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Iff7d789cd0816d912fe3218143e9e15b8c76320a,openstack/tripleo-heat-templates,stable/wallaby,sensubility-permission-stable/wallaby,Iff7d789cd0816d912fe3218143e9e15b8c76320a,"Revert ""Make sure sensubility has proper permission""",ABANDONED,2022-09-18 04:05:05.000000000,2022-10-05 02:43:36.000000000,,2,16,3,858037,9237f9c8f870c9e6fd3a67f916f9d20ac65667a4,9,7,1,2,9976,Ronelle Landy,rlandy,"Revert ""Make sure sensubility has proper permission""

This reverts commit fcaef7a890cc1625a306edeeab59a707bf92929f.

Reason for revert: https://bugs.launchpad.net/tripleo/+bug/1990046

Change-Id: Iff7d789cd0816d912fe3218143e9e15b8c76320a
"
openstack%2Fcyborg-tempest-plugin~master~Ic409b3b15b645a7cef3680a850479f684d637c5c,openstack/cyborg-tempest-plugin,master,,Ic409b3b15b645a7cef3680a850479f684d637c5c,Use TOX_CONSTRAINTS_FILE,MERGED,2022-09-16 05:19:42.000000000,2022-10-05 02:41:29.000000000,2022-10-05 02:41:29.000000000,1,1,10,857953,a31beef036a69e04ba955764f616c90eeb3ad0f4,20,7,3,1,35058,Ke Niu,niuke,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated.
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Ic409b3b15b645a7cef3680a850479f684d637c5c
"
openstack%2Ftripleo-heat-templates~master~I6e1ef1747aeecc60bc745e022cfe886b20e7676b,openstack/tripleo-heat-templates,master,standalone-roles-octavia,I6e1ef1747aeecc60bc745e022cfe886b20e7676b,Move host_prep_tasks to standalone Ansible role,ABANDONED,2022-06-13 04:10:04.000000000,2022-10-05 02:24:57.000000000,,4,35,0,845536,a35f27069c4cf0581445de9fa4aaf1fd4edea82b,5,2,1,1,30073,Brendan Shephard,bshephar,"Move host_prep_tasks to standalone Ansible role

With the move towards modularity, the host_prep_tasks
have been moved from THT into tripleo-ansible in the
host_prep_tasks.yml playbook.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/845535
Change-Id: I6e1ef1747aeecc60bc745e022cfe886b20e7676b
"
openstack%2Ftripleo-ansible~master~Ib8bb2e371e8d30f9834a7470c65cf04c20571e4c,openstack/tripleo-ansible,master,standalone-roles-octavia,Ib8bb2e371e8d30f9834a7470c65cf04c20571e4c,Add standalone tasks for host_prep,ABANDONED,2022-06-13 04:07:21.000000000,2022-10-05 02:08:19.000000000,,35,0,2,845535,bb811fe8ed2076bc779b7f1bf04dbf9105576f04,8,3,1,1,30073,Brendan Shephard,bshephar,"Add standalone tasks for host_prep

Bring Octavia Host Prep tasks from Tripleo Heat Templates
into the tripleo-ansible role.

Change-Id: Ib8bb2e371e8d30f9834a7470c65cf04c20571e4c
"
openstack%2Fcinder~master~Ie967a42188bd020178cb7af527e3dd3ab8975a3d,openstack/cinder,master,lvm-nvmet-shared,Ie967a42188bd020178cb7af527e3dd3ab8975a3d,LVM: terminate_connection fails if no initiator,NEW,2022-03-31 19:00:45.000000000,2022-10-05 01:41:36.000000000,,85,4,1,836073,06ef324a9b856b9bd8a55714c2e435cc46e2e19e,114,2,5,8,9535,Gorka Eguileor,Gorka,"LVM: terminate_connection fails if no initiator

The LVM driver assumes that all connecting hosts will have the iSCSI
initiator installed and configured. If they don't, then there won't be
an ""initiator"" key in the connector properties dictionary and the call
to terminate connection will always fail with a KeyError exception on
the 'initiator' key.

This is the case if we don't have iSCSI configured on the computes
because we are only using NVMe-oF volumes with the nvmet target.

This patch starts using the dictionary ``get`` method so there is no
failure even when the keys don't exist, and it also differentiates by
target type so they target the identifier they care about, which is the
``initiator`` for iSCSI and ``nqn`` for NVMe-oF.

Closes-Bug: #1966513
Related-Bug: #1786327
Change-Id: Ie967a42188bd020178cb7af527e3dd3ab8975a3d
"
openstack%2Fnova~master~Id1147b80a48c783095968aa06dee306b64383182,openstack/nova,master,bp/manila_shares_attachments_v2,Id1147b80a48c783095968aa06dee306b64383182,Support rescuing an instance with shares (compute and API part),NEW,2022-10-04 16:56:22.000000000,2022-10-05 01:37:20.000000000,,66,11,0,860288,17c95711b6e607eaa129a4d2739142e3ea07fef0,5,1,1,4,16207,ribaudr,uggla,"Support rescuing an instance with shares (compute and API part)

Allow to rescue an instance with shares attached.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares
Change-Id: Id1147b80a48c783095968aa06dee306b64383182
"
openstack%2Fcyborg-tempest-plugin~master~Ie9862ba9585519d9aad41be60160d9a734c9f510,openstack/cyborg-tempest-plugin,master,fix-zuul-queue-syntax,Ie9862ba9585519d9aad41be60160d9a734c9f510,Fix deprecated zuul queue syntax,MERGED,2022-10-04 10:38:30.000000000,2022-10-05 01:33:03.000000000,2022-10-05 01:33:03.000000000,7,1,1,860232,7f960b9883650f005502f9ca3bce92dd6fe37e63,7,2,1,1,17685,Elod Illes,elod.illes,"Fix deprecated zuul queue syntax

Zuul deprecated (and now removed) declaring shared queues at a pipeline
level [1]. This patch fixes the syntax to make the gate work for
cyborg-tempest-plugin.

Also, I've added the jobs from check queue to gate queue as well, to
have proper gating for cyborg-tempest-plugin.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: Ie9862ba9585519d9aad41be60160d9a734c9f510
"
openstack%2Fnova~master~I0d61e0055d95b15e299ebc2b39003a9d05f29441,openstack/nova,master,bp/manila_shares_attachments_v2,I0d61e0055d95b15e299ebc2b39003a9d05f29441,Add helper methods to rescue/unrescue shares,NEW,2022-10-04 16:56:22.000000000,2022-10-05 01:04:52.000000000,,9,0,0,860286,771a9515ec5c50003c1a437a736ca2761c1dd25d,6,1,1,1,16207,ribaudr,uggla,"Add helper methods to rescue/unrescue shares

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares
Change-Id: I0d61e0055d95b15e299ebc2b39003a9d05f29441
"
openstack%2Fnova~master~I27a408b5af6103c60947fb2c4415cafe11f37f61,openstack/nova,master,bp/manila_shares_attachments_v2,I27a408b5af6103c60947fb2c4415cafe11f37f61,Support rescuing an instance with shares (driver part),NEW,2022-10-04 16:56:22.000000000,2022-10-05 00:42:59.000000000,,38,13,0,860287,c58427590d1a4e89f20bd41c2cbdf4c0827d1bd8,4,1,1,7,16207,ribaudr,uggla,"Support rescuing an instance with shares (driver part)

Allow to rescue an instance with shares attached.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares
Change-Id: I27a408b5af6103c60947fb2c4415cafe11f37f61
"
openstack%2Fironic-inspector~stable%2Fxena~I8389391f0f4ff270460341f42729cd01d01e2172,openstack/ironic-inspector,stable/xena,,I8389391f0f4ff270460341f42729cd01d01e2172,CI: Zuul no longer respects queue,MERGED,2022-10-03 21:47:08.000000000,2022-10-05 00:39:59.000000000,2022-10-05 00:38:15.000000000,0,1,2,860162,befeb52ba4c5c4bf687a24456664368a86a819e4,15,2,1,1,10342,Jay Faulkner,JayF,"CI: Zuul no longer respects queue

Change-Id: I8389391f0f4ff270460341f42729cd01d01e2172
"
openstack%2Fnova~master~I41639e51b624be0d09f8dad25e66cb8bd0185311,openstack/nova,master,bp/manila_shares_attachments_v2,I41639e51b624be0d09f8dad25e66cb8bd0185311,Support resuming an instance with shares (compute and API part),NEW,2022-10-04 16:56:22.000000000,2022-10-05 00:21:54.000000000,,23,1,0,860285,038a454c3c8d3f11b7691c42f19e274993871ff5,5,1,1,2,16207,ribaudr,uggla,"Support resuming an instance with shares (compute and API part)

Allow to resume an instance with shares attached.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares
Change-Id: I41639e51b624be0d09f8dad25e66cb8bd0185311
"
openstack%2Fnova~master~I66da2b010caa7e7bed15e69c1e14fd22ca1c8a31,openstack/nova,master,bp/manila_shares_attachments_v2,I66da2b010caa7e7bed15e69c1e14fd22ca1c8a31,Add share_info parameter to resume method for each driver (driver part),NEW,2022-10-04 16:56:22.000000000,2022-10-04 23:42:08.000000000,,60,11,0,860284,5f92b43368ec2406316119b87159ea866f17f0dc,5,1,1,6,16207,ribaudr,uggla,"Add share_info parameter to resume method for each driver (driver part)

This patch allow to pass share_info parameter to the resume
method. So it will allow to resume an instance and keep the
shares attached.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares
Change-Id: I66da2b010caa7e7bed15e69c1e14fd22ca1c8a31
"
openstack%2Fnova~master~Ic1aeb2308af5bf645fa67fe1f47e5a076efd6071,openstack/nova,master,bp/manila_shares_attachments_v2,Ic1aeb2308af5bf645fa67fe1f47e5a076efd6071,Add instance.share_detach_error notification,NEW,2022-10-04 16:56:22.000000000,2022-10-04 23:09:17.000000000,,137,21,0,860283,29d9c83dd1970724502863163427b87b70312d9b,5,1,1,4,16207,ribaudr,uggla,"Add instance.share_detach_error notification

This patch add a notification when a share can not be unmounted on the
compute host.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares
Change-Id: Ic1aeb2308af5bf645fa67fe1f47e5a076efd6071
"
openstack%2Fnova~master~I3d5005eab9e3f23be149e955e8cb4608a6ee1312,openstack/nova,master,bp/manila_shares_attachments_v2,I3d5005eab9e3f23be149e955e8cb4608a6ee1312,Add shares to InstancePayload,NEW,2022-07-26 13:02:43.000000000,2022-10-04 23:04:23.000000000,,228,25,0,851029,5993c874344b801fdd87da6c19ca7e2d04d99b63,63,1,13,8,16207,ribaudr,uggla,"Add shares to InstancePayload

This patch add share information to the InstancePayload that can be sent
if the include_share_mapping configuration parameter is enabled.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares

Change-Id: I3d5005eab9e3f23be149e955e8cb4608a6ee1312
"
openstack%2Fnova~master~I67c33f249ceb6cd51b6843acd347205777e89be0,openstack/nova,master,bp/manila_shares_attachments_v2,I67c33f249ceb6cd51b6843acd347205777e89be0,Add libvirt test to ensure metadata are working.,NEW,2022-08-04 07:44:42.000000000,2022-10-04 22:52:21.000000000,,170,0,0,852086,434ea6c2e3a64276cc7b568c9307165456a961a3,52,1,12,2,16207,ribaudr,uggla,"Add libvirt test to ensure metadata are working.

This patch add libvirt functional test to ensure metadata are transmitted
up to the metadata service.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares

Change-Id: I67c33f249ceb6cd51b6843acd347205777e89be0
"
openstack%2Fnova~master~Idd44f5ad96c0a1dd62eba5d283e614c324854a80,openstack/nova,master,bp/manila_shares_attachments_v2,Idd44f5ad96c0a1dd62eba5d283e614c324854a80,Add instance.share_attach_error notification,NEW,2022-10-04 16:56:22.000000000,2022-10-04 22:50:24.000000000,,166,20,0,860282,889d1d10e2d9fb1cd30addc49f556d0fefe49a59,5,1,1,6,16207,ribaudr,uggla,"Add instance.share_attach_error notification

This patch add a notification when a share can not be mounted on the
compute host.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares
Change-Id: Idd44f5ad96c0a1dd62eba5d283e614c324854a80
"
openstack%2Fnova~master~I973b6145353b16e14834fd12f67ffa61011837da,openstack/nova,master,bp/manila_shares_attachments_v2,I973b6145353b16e14834fd12f67ffa61011837da,Change microversion to 2.94,NEW,2022-08-04 07:44:42.000000000,2022-10-04 22:29:08.000000000,,14,8,0,852088,440944ac73e155c7f91d0b403f40a1f3d226cbac,57,1,12,12,16207,ribaudr,uggla,"Change microversion to 2.94

Change-Id: I973b6145353b16e14834fd12f67ffa61011837da
"
openstack%2Fnova~master~I897cbd9ebc91938d0227d988b4bc833f2216618a,openstack/nova,master,bp/manila_shares_attachments_v2,I897cbd9ebc91938d0227d988b4bc833f2216618a,Add share_info parameter to reboot method for each driver (driver part),NEW,2022-08-26 18:01:51.000000000,2022-10-04 22:11:45.000000000,,8,8,0,854823,fe1cd790d47463d52535431788e990d1e2d43a85,37,1,8,7,16207,ribaudr,uggla,"Add share_info parameter to reboot method for each driver (driver part)

This patch allow to pass share_info parameter to the reboot
method. So it will allow to reboot instance and keep the
shares attached.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares
Change-Id: I897cbd9ebc91938d0227d988b4bc833f2216618a
"
openstack%2Fnova~master~I4ee4bb6cfe4f2baee121c2bcd62a8532d4ed8d1c,openstack/nova,master,bp/manila_shares_attachments_v2,I4ee4bb6cfe4f2baee121c2bcd62a8532d4ed8d1c,Support rebooting an instance with shares (compute and API part),NEW,2022-08-26 18:01:51.000000000,2022-10-04 22:07:50.000000000,,68,5,0,854824,03f591f1485739170f7f106afb71c681758f9203,38,1,8,3,16207,ribaudr,uggla,"Support rebooting an instance with shares (compute and API part)

Allow to reboot an instance with shares attached.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares
Change-Id: I4ee4bb6cfe4f2baee121c2bcd62a8532d4ed8d1c
"
openstack%2Fnova~master~I21b4cacf43240c336a0a25d977db051f81d201b0,openstack/nova,master,bp/manila_shares_attachments_v2,I21b4cacf43240c336a0a25d977db051f81d201b0,Add helper methods to attach/detach shares,NEW,2022-08-04 07:44:42.000000000,2022-10-04 21:36:21.000000000,,11,0,0,852085,416fc478ed9c39c6ef83f91d05d92ccbaa1d7c70,53,1,12,1,16207,ribaudr,uggla,"Add helper methods to attach/detach shares

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares

Change-Id: I21b4cacf43240c336a0a25d977db051f81d201b0
"
openstack%2Fnova~master~I5e64cb56585654bc04d0fc3ba86d76a19f9636aa,openstack/nova,master,bp/manila_shares_attachments_v2,I5e64cb56585654bc04d0fc3ba86d76a19f9636aa,Add virt/libvirt error test cases,NEW,2022-08-04 07:44:42.000000000,2022-10-04 20:21:22.000000000,,148,1,0,852087,94f7a68825346410fa5290098a466c912cf7f8a5,52,1,12,1,16207,ribaudr,uggla,"Add virt/libvirt error test cases

This patch add libvirt functional tests to test error cases.
It also change the libvirt fixture to handre libvirt filesystems that
will be used by shares.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares

Change-Id: I5e64cb56585654bc04d0fc3ba86d76a19f9636aa
"
openstack%2Fnova~master~I6fe3807164bd2ca6439342abd32f8e4ce9057c8c,openstack/nova,master,bp/manila_shares_attachments_v2,I6fe3807164bd2ca6439342abd32f8e4ce9057c8c,Add instance.share_attach notification,NEW,2022-07-20 10:07:31.000000000,2022-10-04 20:19:36.000000000,,203,4,0,850501,daf15c0d2f6859a1a4a62c1d90ee9298b78defc2,68,1,14,12,16207,ribaudr,uggla,"Add instance.share_attach notification

This patch add a notification when a share is attached to an instance.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares

Change-Id: I6fe3807164bd2ca6439342abd32f8e4ce9057c8c
"
openstack%2Fnova~master~I203b71a39878c3929b22b53220f58c12c0a4c0b9,openstack/nova,master,bp/manila_shares_attachments_v2,I203b71a39878c3929b22b53220f58c12c0a4c0b9,Add instance.share_detach notification,NEW,2022-07-26 13:02:43.000000000,2022-10-04 20:10:22.000000000,,86,0,0,851028,d87caf75f929870864d5d0d6df8eacadd3fd731d,63,1,13,7,16207,ribaudr,uggla,"Add instance.share_detach notification

This patch add a notification when a share is detached from an instance.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares

Change-Id: I203b71a39878c3929b22b53220f58c12c0a4c0b9
"
openstack%2Fopenstack-helm~edge~I83c67c1dd35bcea1a09d154694e5f730725b1f92,openstack/openstack-helm,edge,,I83c67c1dd35bcea1a09d154694e5f730725b1f92,Remove unused jobs,MERGED,2022-08-02 20:05:39.000000000,2022-10-04 19:56:22.000000000,2022-10-04 19:54:28.000000000,0,159,4,851928,77d5c15a4ae69595081a1072f004c9424575db5a,30,3,7,2,21420,Gage Hugo,ghugo,"Remove unused jobs

Some of the unused jobs on the edge branch are still counted as
references for osh-infra, causing issues when we try to remove
anything that is unused.

This change removes several older job references in order to allow
us to continue with the efforts on the main branch.

Change-Id: I83c67c1dd35bcea1a09d154694e5f730725b1f92
"
openstack%2Fnova~master~Ic470178e91d6aa247892939e5d2475530b4f72b4,openstack/nova,master,bp/manila_shares_attachments_v2,Ic470178e91d6aa247892939e5d2475530b4f72b4,Bump compute version and check shares support,NEW,2022-07-20 10:07:31.000000000,2022-10-04 19:49:21.000000000,,313,4,0,850499,6b9998e1516fd2ef189f8036097c627b6295c1fd,68,1,14,13,16207,ribaudr,uggla,"Bump compute version and check shares support

This patch increase the compute API version.
It allows to block requests involving shares, if the compute API is not
at the correct version.
It also blocks instance actions not allowed (shelve, evacuate,...) if
the instance is running and attached to a share.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares

Change-Id: Ic470178e91d6aa247892939e5d2475530b4f72b4
"
openstack%2Fnova~master~I4c7bb15dbe423ec2815efe9d9505b1e8f2a3c4f5,openstack/nova,master,bp/manila_shares_attachments_v2,I4c7bb15dbe423ec2815efe9d9505b1e8f2a3c4f5,Add metadata for shares,NEW,2022-07-20 10:07:31.000000000,2022-10-04 19:39:40.000000000,,120,12,0,850500,ee74465ab8bbcc855fbee2edebc50b3311dd4ca9,68,1,14,6,16207,ribaudr,uggla,"Add metadata for shares

This patch add device metatada to an instance if a share is is attached.
Users can get the share information (share_id and tag) from the metadata
and create automation to mount the share on the VM.

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares

Change-Id: I4c7bb15dbe423ec2815efe9d9505b1e8f2a3c4f5
"
openstack%2Fironic~master~I48b51fbad3562061976c8b8300fcb6ef72822cae,openstack/ironic,master,,I48b51fbad3562061976c8b8300fcb6ef72822cae,Change allocations name length check to an upgrade failure,ABANDONED,2022-09-30 18:49:25.000000000,2022-10-04 19:20:58.000000000,,12,11,1,860027,22642431168b87833b14e9a0d517da36498c0094,7,1,1,3,11655,Julia Kreger,jkreger,"Change allocations name length check to an upgrade failure

This should likely be backported to Zed as the prior version's
upgrade check is supposed to provide indication to the operator
if they will need to take action before upgrading.

Change-Id: I48b51fbad3562061976c8b8300fcb6ef72822cae
Story: 2010348
Task: 46494
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I35e7d3072c6340f4ecbe02f8961158bcb663954e,openstack/kolla-ansible,stable/victoria,ironic-neutron-agent-interface-stable/victoria,I35e7d3072c6340f4ecbe02f8961158bcb663954e,Fix interface option for ironic-neutron-agent,MERGED,2022-10-04 10:41:19.000000000,2022-10-04 19:12:00.000000000,2022-10-04 19:11:01.000000000,7,1,1,860137,009520215f4c0d4d04dc5db7c27bb71b29f4c4b9,12,3,1,2,15197,Pierre Riteau,priteau,"Fix interface option for ironic-neutron-agent

The correct option to use is valid_interfaces [1], not os_endpoint_type.

[1] https://docs.openstack.org/networking-baremetal/latest/configuration/ironic-neutron-agent/config.html#ironic

Closes-Bug: #1990675
Change-Id: I35e7d3072c6340f4ecbe02f8961158bcb663954e
(cherry picked from commit 39eafd068b46991494684f5880a8873d288f9ccb)
"
openstack%2Fneutron~stable%2Fyoga~If57d822ff617c2f9b5e5cade7d4ca74065376e55,openstack/neutron,stable/yoga,bug/1991222,If57d822ff617c2f9b5e5cade7d4ca74065376e55,"[stable-only] Add writer DB context to ""add_provisioning_component""",MERGED,2022-09-30 16:32:24.000000000,2022-10-04 19:10:42.000000000,2022-10-04 19:09:07.000000000,1,0,2,860005,9db730764c3b6bc394c4262e68bfcec7cea65b50,16,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[stable-only] Add writer DB context to ""add_provisioning_component""

To ensure the ""standardatributes"" register is present during the
creation of the ""provisioningblocks"" register, the method
""add_provisioning_component"" is wrapped with a database writer
context. That will ensure the standard attribute ID, used as a
foreign key in the ""provisioningblocks"" table, is present during
the transaction.

Closes-Bug: #1991222
Change-Id: If57d822ff617c2f9b5e5cade7d4ca74065376e55
"
openstack%2Fcharm-hacluster~stable%2Ffocal~If43a5c95bb59c9cca7f1a975214a9f013ad6f4d6,openstack/charm-hacluster,stable/focal,bug/1971762-stable/focal,If43a5c95bb59c9cca7f1a975214a9f013ad6f4d6,Catch FileExistsError when creating /etc/corosync dir.,MERGED,2022-08-08 11:41:54.000000000,2022-10-04 19:09:02.000000000,2022-10-04 19:09:02.000000000,13,1,5,852410,4661d9c4aa1bb5ada91a3233d34074a96657bb23,39,5,10,2,20870,Alex Kavanagh,ajkavanagh,"Catch FileExistsError when creating /etc/corosync dir.

Hooks are expected to be idempotent, if the install hook for whatever
reason needs to be re-run and the /etc/corosync directory already exists,
because for example it was created in a previous run, the exception
FileExistsError will be raised, this change captures the exception and
moves on.

Change-Id: If43a5c95bb59c9cca7f1a975214a9f013ad6f4d6
Closes-Bug: #1971762
(cherry picked from commit 715d31e09f939844bd27f2d4ed8c9207598a5938)
"
openstack%2Fcharm-hacluster~stable%2Ffocal~Idc677a9e2620e8a3960813c0f538aee7a6a00843,openstack/charm-hacluster,stable/focal,fix-pin-tempest,Idc677a9e2620e8a3960813c0f538aee7a6a00843,Use openstack-python3-victoria-jobs template,MERGED,2022-08-09 12:45:33.000000000,2022-10-04 19:07:22.000000000,2022-10-04 19:07:22.000000000,5,2,6,852576,23444d888dae21c9fad835b2783fe01613780c2e,38,6,9,2,2424,Felipe Reyes,freyes,"Use openstack-python3-victoria-jobs template

The branch stable/focal needs to support Ubuntu Bionic (python 3.6) and
Focal (python 3.8), using openstack-python3-victoria-jobs allows the
execution of both of those targets

This patch includes tempest pinning for python 3.8

Change-Id: Idc677a9e2620e8a3960813c0f538aee7a6a00843
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ic6d15c0aed5d115a09253788cf3441b72605e5dc,openstack/tripleo-ansible,stable/train,ovs_service,Ic6d15c0aed5d115a09253788cf3441b72605e5dc,Ensure the openvswitch service is enabled and deps are installed,MERGED,2022-09-28 17:11:14.000000000,2022-10-04 19:02:24.000000000,2022-10-04 19:02:24.000000000,14,0,1,859661,67bb25151696bf6b03841c18b254ccbe8d0697d1,9,7,1,4,23811,Oliver Walsh,owalsh,"Ensure the openvswitch service is enabled and deps are installed

On overcloud images the openvswitch service is enabled.
However on pre-deployed nodes the service is not enabled by default
after installing the package.
Also the driverctl package is required to bind dpdk interfaces in
os-net-config

Change-Id: Ic6d15c0aed5d115a09253788cf3441b72605e5dc
(cherry picked from commit 15d454554210b56327377b4286c5bb653a7d5f61)
(cherry picked from commit e9c86203c2059ea95a81b96a1ce6becb80b61d21)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I79ff5d3babd05c7d1ba5195f372c1348d6692e2b,openstack/tripleo-heat-templates,stable/wallaby,,I79ff5d3babd05c7d1ba5195f372c1348d6692e2b,Change --start-at-task for plays using tripleo_free,MERGED,2022-09-27 17:07:59.000000000,2022-10-04 19:02:22.000000000,2022-10-04 19:02:22.000000000,19,33,0,859413,acecb87e960ce5c65a843c030043acef4af0666b,9,7,1,1,6816,Jesse Pretorius,jesse-pretorius,"Change --start-at-task for plays using tripleo_free

With tripleo_free strategy a playbook run fails only after the
end of the play. In case a task failure for a node, the other nodes
keep continuing till the end of play. Therefore, --start-at-task
should be always at the beginning of the play as different nodes
can fail at different tasks and we need to always start from the
start of play.

Change-Id: I79ff5d3babd05c7d1ba5195f372c1348d6692e2b
(cherry picked from commit dd6e8878337df6ac3ee8d1ab17763e77944314ca)
"
openstack%2Fos-vif~stable%2Fxena~I635dff2b4fcff905ca8f431eb7e928265200f92a,openstack/os-vif,stable/xena,bug/1929446,I635dff2b4fcff905ca8f431eb7e928265200f92a,only register tables used by os-vif,MERGED,2022-05-13 16:09:13.000000000,2022-10-04 19:00:56.000000000,2022-10-04 18:59:55.000000000,4,1,2,841772,e6e791bd0af560ac501e383814fa7a5bce004536,10,4,1,1,11604,sean mooney,sean-k-mooney,"only register tables used by os-vif

This change limits the tables registered in the native driver
to the set actully used by os-vif. This will shorten the inital
startup time and reconnection time if the ovs db connection is dropped.
as a result this will help mitigate bug #1929446 where on reconnection
the nova compute agent can stall until reconnection is completed.

Change-Id: I635dff2b4fcff905ca8f431eb7e928265200f92a
Partial-Bug: #1929446
(cherry picked from commit e4dc8b5664ccee8bde9e90fc9e618d6b705a0b68)
"
openstack%2Fmanila~master~Ibc5681e59691d55536c5539feef97b14f74d98ba,openstack/manila,master,bug/1991378,Ibc5681e59691d55536c5539feef97b14f74d98ba,Rename 'nfs_cluster_id' to 'cluster_id' in the NFSProtocolHelper,MERGED,2022-09-30 09:37:44.000000000,2022-10-04 18:51:22.000000000,2022-10-04 18:49:49.000000000,17,8,12,859950,ed0af6e9dd5346c5e86ea0582d7d00817c60aea3,28,3,4,3,6413,Victoria Martinez de la Cruz,vkmc,"Rename 'nfs_cluster_id' to 'cluster_id' in the NFSProtocolHelper

The CephFS NFS driver, specifically the NFSProtocolHelper
implementation, is passing a wrong param to the Ceph backend
and this is preventing users to add and/or deny access to the
created shares. The 'nfs_cluster_id' field has been renamed
to 'cluster_id' to comply with what the rados client expects.
With this fix, users of the CephFS NFS NFSProtocolHelper can
normally create and remove access to their shares.

Closes-Bug: #1991378
Change-Id: Ibc5681e59691d55536c5539feef97b14f74d98ba
"
openstack%2Fdesignate-tempest-plugin~master~I156508e404dc2d2966a189941b0b4ff13412953f,openstack/designate-tempest-plugin,master,query_client_setter,I156508e404dc2d2966a189941b0b4ff13412953f,DNS Query Client - raise ValueError if provided Nameservers list is empty,MERGED,2022-10-03 18:34:08.000000000,2022-10-04 18:50:34.000000000,2022-10-04 18:49:33.000000000,8,2,2,860116,6c251b44c57f8d08d45468ef00a5c4d53a9c923b,15,10,4,1,28609,Arkady Shtempler,ashtempl,"DNS Query Client - raise ValueError if provided Nameservers list is empty

There is no sense to ""dig"" not existing DNS backends, therefor
when Query Client object is being created with an empty list for
the namesrevers attribute, ValueError will be raised.

Change-Id: I156508e404dc2d2966a189941b0b4ff13412953f
"
openstack%2Fpython-designateclient~master~Iea92371176d9126205384624a18a9097acb3daef,openstack/python-designateclient,master,bug/1714088,Iea92371176d9126205384624a18a9097acb3daef,Add shared zone commands,NEW,2020-05-08 10:46:54.000000000,2022-10-04 18:46:08.000000000,,303,3,20,726335,8e06bc085951cfc45b6c67aa3a96829f3fbd9b06,34,5,9,8,14232,Igor Malinovskiy,imalinovskiy,"Add shared zone commands

Change-Id: Iea92371176d9126205384624a18a9097acb3daef
Partial-Bug: #1714088
Depends-On: https://review.opendev.org/#/c/726334/
"
openstack%2Fos-vif~stable%2Fxena~I984ec62730276f8ee60d71a02a98fbfc4c37f7d8,openstack/os-vif,stable/xena,bug/1929446,I984ec62730276f8ee60d71a02a98fbfc4c37f7d8,Use TCP keepalives for ovsdb connections,MERGED,2022-05-13 16:09:13.000000000,2022-10-04 18:43:17.000000000,2022-10-04 18:41:31.000000000,45,0,3,841771,26f073f0969cfd9719375a4edfc16ce4ec139c4f,10,5,1,1,11604,sean mooney,sean-k-mooney,"Use TCP keepalives for ovsdb connections

Ultimately, this is something that should be fixed in python-ovs,
but setting the SO_KEEPALIVE socket option benefits the client by
removing the need to send 'echo' requests, which can time out on
an overloaded ovsdb-server, which causes a disconnection which then#
adds even more load on the ovsdb-server as it has to send the entire
db contents over the wire after the connection is restored.

This patch ports the optimisation form neutron to reduce the likelyhood
of a reconnection which can cause the nova compute agent to hang
temporarily while the connection is reestablished.

Change-Id: I984ec62730276f8ee60d71a02a98fbfc4c37f7d8
Related-Bug: #1930926
Partial-Bug: #1929446
(cherry picked from commit 09c0629bb728ad342a41d844143d8e7437c925c4)
"
openstack%2Fstevedore~master~Id962cce270cfbe0517da36babcf123137d803082,openstack/stevedore,master,remove-caching,Id962cce270cfbe0517da36babcf123137d803082,Remove caching,NEW,2022-10-03 16:23:21.000000000,2022-10-04 18:35:08.000000000,,55,302,6,860111,f8d1936860543b2b77ad2131b3e7ce451a5628d1,14,3,4,8,15334,Stephen Finucane,sfinucan,"Remove caching

As jaraco notes in bug 1942209 [1]:

  In the later releases of importlib_metadata [ref], performance of
  loading entry points has been dramatically improved, including much
  faster discovery/loading and an in-memory cache for entry points for a
  running process.

  These performance gains are measured and tracked in the CI runs for
  importlib_metadata.

  If possible, this project should consider removing its own cache in
  favor of the built-in caching in importlib_metadata (also
  importlib.metadata in Python 3.10). Doing so should also address
  #1627906 and would limit the dependencies on the data model (such as
  construction of EntryPoint objects).

  [ref] https://importlib-metadata.readthedocs.io/en/latest/history.html

importlib-metadata clearly isn't a stable API so anything that allows us
to reduce the amount of APIs we are exposed to is a good thing. This
does require reintroducing the need for importlib-metadata (the third
party lib) in some of the older versions of Python but that's a
temporary measure at best that will eventually result in us being closer
to upstream.

[1] https://bugs.launchpad.net/python-stevedore/+bug/1942209

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Id962cce270cfbe0517da36babcf123137d803082
"
openstack%2Ftripleo-quickstart~master~I458677abf666259060396946cb88ba72f822e4b5,openstack/tripleo-quickstart,master,,I458677abf666259060396946cb88ba72f822e4b5,[DNM] Add temporary repo with ansible-collections-openstack 2.0.0 preview,NEW,2022-09-23 13:45:45.000000000,2022-10-04 18:29:20.000000000,,3,3,0,859090,489ef111bf14d215a7d4c722dda83b8c3ef50381,7,2,3,3,16312,Alfredo Moralejo,amoralej,"[DNM] Add temporary repo with ansible-collections-openstack 2.0.0 preview

This patch is adding a new temporary repo which contains a package for
a-o-c 2.0.0 preview and python3-openstacksdk-0.101.0 which is current
u-c version.

Also is updating the version installed with galaxy to the same commit as
the pre-release package.

Change-Id: I458677abf666259060396946cb88ba72f822e4b5
"
openstack%2Fcharm-ceph-mon~master~I2d0d3d799f0d48f2785dd9a6cf8b27d518665395,openstack/charm-ceph-mon,master,,I2d0d3d799f0d48f2785dd9a6cf8b27d518665395,bump testing to yoga alignment,MERGED,2022-10-03 15:14:03.000000000,2022-10-04 18:28:16.000000000,2022-10-04 18:28:16.000000000,1,1,7,860101,33de6e614f9ea6faaa6a8e4309ea5ae050e23015,20,4,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"bump testing to yoga alignment

Change-Id: I2d0d3d799f0d48f2785dd9a6cf8b27d518665395
"
openstack%2Fcliff~master~I8b8598875f896cb3dbf417515d377e7758b3b98b,openstack/cliff,master,readable-columns,I8b8598875f896cb3dbf417515d377e7758b3b98b,"columns: Useful __str__, __repr__ implementation",MERGED,2022-09-20 16:13:52.000000000,2022-10-04 18:19:05.000000000,2022-10-04 18:15:39.000000000,23,3,8,858550,67217b0e56cae8e88ebb861d3894551e3dedb1b7,17,5,4,2,15334,Stephen Finucane,sfinucan,"columns: Useful __str__, __repr__ implementation

The default implementations for __str__ and __repr__ are rubbish.

  >>> from osc_lib.cli import format_columns
  >>> str(format_columns.DictColumn({'foo': 'bar'}))
  '<osc_lib.cli.format_columns.DictColumn object at 0x7f6e26771e40>'
  >>> repr(format_columns.DictColumn({'foo': 'bar'}))
  '<osc_lib.cli.format_columns.DictColumn object at 0x7f6e26b57ac0>'

Make it useful.

  >>> from osc_lib.cli import format_columns
  >>> str(format_columns.DictColumn({'foo': 'bar'}))
  ""foo='bar'""
  >>> repr(format_columns.DictColumn({'foo': 'bar'}))
  ""DictColumn({'foo': 'bar'})""

This helps when testing as the reason for mismatches will be more
obvious.

Change-Id: I8b8598875f896cb3dbf417515d377e7758b3b98b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Ftripleo-ansible~master~I3defd70380ded2186970b5055cfa11a0b2d61e7d,openstack/tripleo-ansible,master,nftables/remove_rule,I3defd70380ded2186970b5055cfa11a0b2d61e7d,Allow to remove an nft rule based on its comment,NEW,2022-08-08 09:17:49.000000000,2022-10-04 18:18:13.000000000,,142,0,3,852386,b6a853bb8a7b8628810c01af773ffb5e5e1e481d,41,5,22,4,28223,Cedric Jeanneret,cjeanner,"Allow to remove an nft rule based on its comment

For now, we cannot remove nft rules like we do with iptables[1]. While
this feature is apparently a goal, we need to rely on the rule handle.

Since all of the TripleO managed rules are supposed to get a comment,
let's use that feature to target the rule we want to remove.

Some notes to keep in mind:
- this addition is done to manage temporary rule
- this addition doesn't take care of files having that rule added in
  order to recreate it upon nftables restart
- hopefully we'll be able to move to a more convenient way to remove
  rules, though using a comment is pretty convenient in order to filter
  it
- if multiple rules have the same comment, all of them will be removed

[1] https://wiki.nftables.org/wiki-nftables/index.php/Simple_rule_management#Removing_rules

Change-Id: I3defd70380ded2186970b5055cfa11a0b2d61e7d
"
openstack%2Fcliff~master~I5e86211323c5e08553a5c777c0b6d1d85f95e1a9,openstack/cliff,master,,I5e86211323c5e08553a5c777c0b6d1d85f95e1a9,Replace abc.abstractproperty with property and abc.abstractmethod,MERGED,2022-08-04 01:01:25.000000000,2022-10-04 18:17:39.000000000,2022-10-04 18:15:37.000000000,5,3,1,852058,4ba0a97f85483add9a03db4031d9c2bd6f11dd11,16,7,2,2,28743,huang liujie,ljhuang,"Replace abc.abstractproperty with property and abc.abstractmethod

Replace abc.abstractproperty with property and abc.abstractmethod,
as abc.abstractproperty has been deprecated since python3.3[1]

[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc

Change-Id: I5e86211323c5e08553a5c777c0b6d1d85f95e1a9
"
openstack%2Fkolla-ansible~stable%2Fxena~I35e7d3072c6340f4ecbe02f8961158bcb663954e,openstack/kolla-ansible,stable/xena,ironic-neutron-agent-interface-stable/xena,I35e7d3072c6340f4ecbe02f8961158bcb663954e,Fix interface option for ironic-neutron-agent,MERGED,2022-10-04 10:40:57.000000000,2022-10-04 17:55:11.000000000,2022-10-04 17:53:35.000000000,7,1,0,860135,685d4545d890743fb274c41659d66571a5cd2ab9,9,3,1,2,15197,Pierre Riteau,priteau,"Fix interface option for ironic-neutron-agent

The correct option to use is valid_interfaces [1], not os_endpoint_type.

[1] https://docs.openstack.org/networking-baremetal/latest/configuration/ironic-neutron-agent/config.html#ironic

Closes-Bug: #1990675
Change-Id: I35e7d3072c6340f4ecbe02f8961158bcb663954e
(cherry picked from commit 39eafd068b46991494684f5880a8873d288f9ccb)
"
openstack%2Fgovernance~master~I3edd0c5d80e795948c2eb266c51b74058f795189,openstack/governance,master,formal-vote,I3edd0c5d80e795948c2eb266c51b74058f795189,Dedicate Zed release to Ilya Etingof,MERGED,2022-09-27 17:38:36.000000000,2022-10-04 17:47:36.000000000,2022-10-04 17:46:19.000000000,29,0,5,859464,08f9f4ba5953882730a15481c32cf737b5efca38,24,16,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Dedicate Zed release to Ilya Etingof

Change-Id: I3edd0c5d80e795948c2eb266c51b74058f795189
"
openstack%2Fmanila~master~Ic17ac43160092445ec11ada41c0eb6eaf525b6d0,openstack/manila,master,glance-endpoint-type,Ic17ac43160092445ec11ada41c0eb6eaf525b6d0,Allow setting endpoint_type for glance,MERGED,2022-09-29 14:32:24.000000000,2022-10-04 17:20:18.000000000,2022-10-04 15:39:59.000000000,15,0,11,859864,111104b9a2fd54de2559041249bdb7a10c64664c,32,3,4,3,9542,Pavlo Shchelokovskyy,pshchelo,"Allow setting endpoint_type for glance

currently Manila always uses public endpoint of Glance, which
may not be possible in certain deployment scenarios.

Change-Id: Ic17ac43160092445ec11ada41c0eb6eaf525b6d0
Closes-Bug: #1991396
"
openstack%2Fcinder~stable%2Fyoga~I81dd9861b9464244f23967f4f83888d06b50754e,openstack/cinder,stable/yoga,bug/1914639-stable/yoga,I81dd9861b9464244f23967f4f83888d06b50754e,[NetApp] Fix iSCSI CHAP auth issue during volume attach,NEW,2022-06-29 10:42:40.000000000,2022-10-04 17:09:23.000000000,,13,5,2,848064,b83b4405505cd7f2b844e190a2bedb53c05aef62,17,6,1,3,29632,Carlos Eduardo,silvacarlos,"[NetApp] Fix iSCSI CHAP auth issue during volume attach

Fixes a failure in the NetApp ONTAP driver while trying to
configure CHAP authentication during a volume attach operation, by
making the code more flexible while trying to identify if the
prompted field is available in the buffered message.

Change-Id: I81dd9861b9464244f23967f4f83888d06b50754e
Closes-Bug: #1914639
(cherry picked from commit a5c80032f623b4a593612bc159257a2f52fe285e)
"
openstack%2Fcinder~master~Ibc3f7b995c43bc281b6978bfcba4d1a50db41fa3,openstack/cinder,master,,Ibc3f7b995c43bc281b6978bfcba4d1a50db41fa3,Make volume Glance metadata bulk update idempotent,NEW,2020-11-24 17:44:32.000000000,2022-10-04 17:04:52.000000000,,73,0,4,764045,54d1c97646859ca8e95e934fb6ff711d3dba4286,138,8,4,3,14826,Mark Goddard,mgoddard,"Make volume Glance metadata bulk update idempotent

The cinder.db.sqlalchemy.api.volume_glance_metadata_bulk_create function
has the following in its docstring:

    This API does not support changing the value of a key once it has
    been created.

However, it actually fails if a specified key exists and has the same
value. This can cause problems if volume creation is retried following a
failure, since the metadata may have already been created.

This change modifies the function to ignore keys that exist and have the
expected value, as per the docstring.

Related-Bug: #1823445

Change-Id: Ibc3f7b995c43bc281b6978bfcba4d1a50db41fa3
"
openstack%2Fneutron~stable%2Fvictoria~I4581848ad3e176fa576f80a752f2f062c974c2d1,openstack/neutron,stable/victoria,victoria,I4581848ad3e176fa576f80a752f2f062c974c2d1,Add support for deleting ml2/ovn agents,MERGED,2022-02-23 04:15:46.000000000,2022-10-04 16:52:27.000000000,2022-10-04 16:50:47.000000000,371,171,5,830548,1dce786dd01eef07138a00b1ea5c8db4a7b5f4df,34,5,7,8,10366,Hemanth N,Hemanth,"Add support for deleting ml2/ovn agents

This adds support for deleting OVN controller/metadata agents.
Behavior is undefined if the agents are still actually up as per
the Agent API docs.

As part of this, it is necessary to be able to tell all workers
that the agent is gone. This can't be done by deleting the
Chassis, because ovn-controller deletes the Chassis if it is
stopped gracefully and we need to still display those agents as
down until ovn-controller is restarted. This also means we can't
write a value to the Chassis marking the agent as 'deleted'
because the Chassis may not be there. And of course you can't
use the cache because then other workers won't see that the
agent is deleted.

Due to the hash ring implementation, we also cannot naively just
send some pre-defined event that all workers can listen for to
update their status of the agent. Only one worker would process
the event. So we need some kind of GLOBAL event type that is
processed by all workers.

When the hash ring implementation was done, the agent API
implementation was redesigned to work around moving from having
a single OVN Worker to having distributed events. That
implementation relied on marking the agents 'alive' in the
OVSDB. With large numbers of Chassis entries, this induces
significant load, with 2 DB writes per Chassis per
cfg.CONF.agent_down_time / 2 seconds (37 by default).

This patch reverts that change and goes back to using events
to store agent information in the cache, but adds support for
""GLOBAL"" events that are run on each worker that uses a particular
connection.

Change-Id: I4581848ad3e176fa576f80a752f2f062c974c2d1
(cherry picked from commit da3ce7319866e8dc874d405e91f9af160e2c3d31)
"
openstack%2Fneutron~stable%2Fussuri~If57d822ff617c2f9b5e5cade7d4ca74065376e55,openstack/neutron,stable/ussuri,bug/1991222,If57d822ff617c2f9b5e5cade7d4ca74065376e55,"[stable-only] Add writer DB context to ""add_provisioning_component""",MERGED,2022-10-04 08:24:42.000000000,2022-10-04 16:41:58.000000000,2022-10-04 16:40:19.000000000,1,0,2,860217,e1a45c82f32d343a82bbb80e5533b7917e521a4d,9,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[stable-only] Add writer DB context to ""add_provisioning_component""

To ensure the ""standardatributes"" register is present during the
creation of the ""provisioningblocks"" register, the method
""add_provisioning_component"" is wrapped with a database writer
context. That will ensure the standard attribute ID, used as a
foreign key in the ""provisioningblocks"" table, is present during
the transaction.

Closes-Bug: #1991222
Change-Id: If57d822ff617c2f9b5e5cade7d4ca74065376e55
(cherry picked from commit 9db730764c3b6bc394c4262e68bfcec7cea65b50)
"
openstack%2Fneutron~stable%2Fvictoria~If57d822ff617c2f9b5e5cade7d4ca74065376e55,openstack/neutron,stable/victoria,bug/1991222,If57d822ff617c2f9b5e5cade7d4ca74065376e55,"[stable-only] Add writer DB context to ""add_provisioning_component""",MERGED,2022-10-04 08:24:26.000000000,2022-10-04 16:41:36.000000000,2022-10-04 16:40:10.000000000,1,0,0,860216,ebbc79c7829d881aa0840132a2bc0bace6eff72b,8,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[stable-only] Add writer DB context to ""add_provisioning_component""

To ensure the ""standardatributes"" register is present during the
creation of the ""provisioningblocks"" register, the method
""add_provisioning_component"" is wrapped with a database writer
context. That will ensure the standard attribute ID, used as a
foreign key in the ""provisioningblocks"" table, is present during
the transaction.

Closes-Bug: #1991222
Change-Id: If57d822ff617c2f9b5e5cade7d4ca74065376e55
(cherry picked from commit 9db730764c3b6bc394c4262e68bfcec7cea65b50)
"
openstack%2Fneutron~stable%2Ftrain~If57d822ff617c2f9b5e5cade7d4ca74065376e55,openstack/neutron,stable/train,bug/1991222,If57d822ff617c2f9b5e5cade7d4ca74065376e55,"[stable-only] Add writer DB context to ""add_provisioning_component""",MERGED,2022-10-04 08:25:00.000000000,2022-10-04 16:41:35.000000000,2022-10-04 16:40:15.000000000,1,0,0,860218,8e9a99b589eb91547d6c26a20419470aa3e7739b,8,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[stable-only] Add writer DB context to ""add_provisioning_component""

To ensure the ""standardatributes"" register is present during the
creation of the ""provisioningblocks"" register, the method
""add_provisioning_component"" is wrapped with a database writer
context. That will ensure the standard attribute ID, used as a
foreign key in the ""provisioningblocks"" table, is present during
the transaction.

Closes-Bug: #1991222
Change-Id: If57d822ff617c2f9b5e5cade7d4ca74065376e55
(cherry picked from commit 9db730764c3b6bc394c4262e68bfcec7cea65b50)
"
openstack%2Fstevedore~master~Ieb6a6beccebcd39f8ff9027013fa9c592dc912c6,openstack/stevedore,master,remove-caching,Ieb6a6beccebcd39f8ff9027013fa9c592dc912c6,fixup! Remove caching,ABANDONED,2022-10-04 14:58:50.000000000,2022-10-04 16:26:42.000000000,,27,0,0,860268,eaacd7015a19be1a4c13979be975bc6af6c2ddf6,2,0,1,2,15334,Stephen Finucane,sfinucan,"fixup! Remove caching

Change-Id: Ieb6a6beccebcd39f8ff9027013fa9c592dc912c6
"
openstack%2Fneutron-tempest-plugin~master~Ie2093e457e0b664f36204d61f3020ef84ef15a3e,openstack/neutron-tempest-plugin,master,fix_designate_dns,Ie2093e457e0b664f36204d61f3020ef84ef15a3e,"Adds use of ""Designate API"" into ""_verify_dns_records"" method",NEW,2022-09-29 15:44:56.000000000,2022-10-04 16:25:34.000000000,,90,22,13,859871,8be43858669301d8a281c9a902b1342be6db7e84,21,14,8,1,28609,Arkady Shtempler,ashtempl,"Adds use of ""Designate API"" into ""_verify_dns_records"" method

This patch adds additional phase (phase1) to ""_verify_dns_records"", method that
is based on: ""Designate DNS API"" to ensure reordset existence in Designate DB.
This phase will be running prior to the original phase (phase2 dig backends).
In case when the configured nameservers list is empty (as of now tests aren't skipped),
only phase1 will be running, otherwise both: phase1 and phase2 will be running.

Change-Id: Ie2093e457e0b664f36204d61f3020ef84ef15a3e
"
openstack%2Fneutron~stable%2Fwallaby~If57d822ff617c2f9b5e5cade7d4ca74065376e55,openstack/neutron,stable/wallaby,bug/1991222,If57d822ff617c2f9b5e5cade7d4ca74065376e55,"[stable-only] Add writer DB context to ""add_provisioning_component""",MERGED,2022-10-04 08:24:11.000000000,2022-10-04 16:20:36.000000000,2022-10-04 16:18:47.000000000,1,0,0,860215,b96886b9ea8f173afc5f9b6ba905c33d1de49508,11,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[stable-only] Add writer DB context to ""add_provisioning_component""

To ensure the ""standardatributes"" register is present during the
creation of the ""provisioningblocks"" register, the method
""add_provisioning_component"" is wrapped with a database writer
context. That will ensure the standard attribute ID, used as a
foreign key in the ""provisioningblocks"" table, is present during
the transaction.

Closes-Bug: #1991222
Change-Id: If57d822ff617c2f9b5e5cade7d4ca74065376e55
(cherry picked from commit 9db730764c3b6bc394c4262e68bfcec7cea65b50)
"
openstack%2Fcharm-hacluster~master~I1f8ef19905d899c32b90ba62c722358f03b54831,openstack/charm-hacluster,master,bindep,I1f8ef19905d899c32b90ba62c722358f03b54831,Add bindep.txt,MERGED,2022-10-03 19:35:13.000000000,2022-10-04 16:00:00.000000000,2022-10-04 16:00:00.000000000,3,0,0,860126,40bb1676b5e102e0fead006336d8ada54fb49ece,7,3,1,1,2424,Felipe Reyes,freyes,"Add bindep.txt

bindep.txt allows zuul to install the deb dependencies needed to run the
unittest, these are needed to run py310.

Change-Id: I1f8ef19905d899c32b90ba62c722358f03b54831
"
openstack%2Fkolla-ansible~master~I2907d5f38c6a74776961bd473553edf2d83f7257,openstack/kolla-ansible,master,stop-owning-rbd-defaults,I2907d5f38c6a74776961bd473553edf2d83f7257,[glance][cinder] Stop owning RBD defaults,MERGED,2022-10-03 14:54:34.000000000,2022-10-04 15:55:01.000000000,2022-10-04 15:53:27.000000000,0,4,3,860098,52ec5ef3903896baaaa7a691bfb5b3ee329fdb12,11,3,1,2,30491,Rados≈Çaw Piliszek,yoctozepto,"[glance][cinder] Stop owning RBD defaults

These are upstream defaults, no need to carry them around.

TrivialFix

Change-Id: I2907d5f38c6a74776961bd473553edf2d83f7257
"
openstack%2Fneutron~master~Iaee5608c9581228a83f7ad75dbf2cc31dafaa9ea,openstack/neutron,master,bug/1991398,Iaee5608c9581228a83f7ad75dbf2cc31dafaa9ea,Allow to pass EUI64 IP address as fixed ip for the port,MERGED,2022-10-01 20:14:28.000000000,2022-10-04 15:43:16.000000000,2022-10-04 15:42:02.000000000,39,5,0,860054,d7b44f7218ff665045adb923b1aa92c35b371af9,11,4,1,2,11975,Slawek Kaplonski,slaweq,"Allow to pass EUI64 IP address as fixed ip for the port

When port with IP address from the auto allocation subnet (SLAAC or
dhcp_stateless) is created or updated and fixed IP address is specified,
Neutron will fail as in case of such subnets IP address is assigned
automatically based on the subnet's prefix and port's MAC address.
But in case when given IP address is actually correct EUI64 generated IP
address (the same as Neutron would generate for that port) there is no
need to raise an exception and fail request.

Additionally this patch fixes imports sections in the
ipam_pluggable_backend module.

Closes-bug: #1991398
Change-Id: Iaee5608c9581228a83f7ad75dbf2cc31dafaa9ea
"
openstack%2Ftripleo-ansible~master~Ia8d64e1628c1972ffdc7e362520fe9016a567bf6,openstack/tripleo-ansible,master,standalone-roles-octavia,Ia8d64e1628c1972ffdc7e362520fe9016a567bf6,Add standalone role for Octavia,NEW,2022-10-04 06:56:57.000000000,2022-10-04 15:36:51.000000000,,168,0,1,860204,31ec46aa71d190e08dac24781c248e88d4691ee8,9,4,4,10,30073,Brendan Shephard,bshephar,"Add standalone role for Octavia

This change adds the host_prep_tasks from THT into a Octavia
standalone-roles as part of the wider standalone-roles work

Change-Id: Ia8d64e1628c1972ffdc7e362520fe9016a567bf6
"
openstack%2Frally-openstack~master~Ibc15de34fe383293dbfd2d74ad4655e2cbe32126,openstack/rally-openstack,master,,Ibc15de34fe383293dbfd2d74ad4655e2cbe32126,Set api_version for nova extend attached volume,NEW,2022-09-28 17:06:23.000000000,2022-10-04 15:23:52.000000000,,35,8,1,859655,3f152c19bef04914bbaa42b414e9ece30f754dba,26,2,14,5,16137,Tobias Urdin,tobasco,"Set api_version for nova extend attached volume

Change-Id: Ibc15de34fe383293dbfd2d74ad4655e2cbe32126
"
openstack%2Foctavia-tempest-plugin~master~I20d6e5aa44fa989182ef002f9a7360f2460ef36b,openstack/octavia-tempest-plugin,master,ssl,I20d6e5aa44fa989182ef002f9a7360f2460ef36b,Set pyOpenSSL to 22.0.0,NEW,2022-10-02 06:57:57.000000000,2022-10-04 15:05:50.000000000,,1,1,1,860056,b9889685c4f2da29ef35ffb6a54dbd4212b2a1e1,7,2,3,1,4727,Itzik Brown,itzikb1,"Set pyOpenSSL to 22.0.0

New pyOpenSSL pip package was released lately (22.1.0) which includes a requirement of cryptography package which is not resolved by pip.
This change is needed for forcing the cryptopgraphy package to be updated accordingly.

Setting pyOpenSSL to 22.0.0 workaround this issue.

Reference: https://github.com/pyca/pyopenssl/commit/a145fc3bc6d2e943434beb2f04bbf9b18930296f
Change-Id: Ic3eea56ef1fac13880c0d434a1c6a2cd50162b5b

Change-Id: I20d6e5aa44fa989182ef002f9a7360f2460ef36b
"
openstack%2Fopenstack-helm~master~Ia835c0c142d0e0878623af9165d595a386b7c4c2,openstack/openstack-helm,master,horizon-component,Ia835c0c142d0e0878623af9165d595a386b7c4c2,Added horizon to install as default component,MERGED,2022-09-06 20:43:55.000000000,2022-10-04 14:53:51.000000000,2022-10-04 14:51:31.000000000,287,1,75,856186,94a8d348a9863188dc4e214831b80af2c3ba52c4,124,7,57,16,35266,Sunil Emmadi,sunile,"Added horizon to install as default component

Added horizon to the openstack umbrella chart to deploy but disabled
by default.

Change-Id: Ia835c0c142d0e0878623af9165d595a386b7c4c2
"
openstack%2Fneutron~stable%2Fwallaby~I7093f6a5f282b06fb2267cf2c88c533c1eae685d,openstack/neutron,stable/wallaby,revert_plan-stable/wallaby,I7093f6a5f282b06fb2267cf2c88c533c1eae685d,Migration revert plan,MERGED,2022-09-20 08:08:11.000000000,2022-10-04 14:46:01.000000000,2022-10-04 14:42:43.000000000,168,5,9,858461,c35aed1b30055b4b0583f135eb1aa464b487dc51,20,4,2,7,34118,Arnau Verdaguer,averdaguer,"Migration revert plan

As a failsave the migration code can create a backup of
the controllers to use in case that the migration fails
and leaves the environment on a unusable state.

The revert plan has two stages:
1- Backup stage: included on the current ovn-migration.yml.
   Can be configured using the env variable CREATE_BACKUP
   (True by default). This stage will run the new ansible
   role, recovery-backup.
   It will store the backup on `/ctl_plane_backup` on the host
   where the BACKUP_MIGRATION_IP belongs to (can be modified by
   modifing the env var).
   In order to restore the controllers, boot them using the iso created
   by ReaR (stored in /ctl_plane_backup) and perform `automatic recover`
2- Revert stage: this stage has its own ansible playbook (revert.yml)
   This playbook will clean the environment from all the OVN ressources
   that could had been created (breaking the data plane connectivity)
   to leave the environment in a stage where an overcloud deploy with
   the OVS templates can be run.

Note: If the user creates new resources after running the backup stage
and then performs the recovery of the controllers, those resources will
be lost.

Conflicts:
    tools/ovn_migration/tripleo_environment/ovn_migration.sh

Change-Id: I7093f6a5f282b06fb2267cf2c88c533c1eae685d
(cherry picked from commit 7003817b697beae2f5effd96a3f71d2c2787e64f)
"
openstack%2Fneutron~stable%2Fxena~I7093f6a5f282b06fb2267cf2c88c533c1eae685d,openstack/neutron,stable/xena,,I7093f6a5f282b06fb2267cf2c88c533c1eae685d,Migration revert plan,MERGED,2022-09-26 16:12:55.000000000,2022-10-04 14:45:55.000000000,2022-10-04 14:42:39.000000000,168,5,4,859308,a54a800659080a9f1cd5048fb277f08666fe039c,18,3,3,7,32586,Elvira Garc√≠a Ruiz,elvira,"Migration revert plan

As a failsave the migration code can create a backup of
the controllers to use in case that the migration fails
and leaves the environment on a unusable state.

The revert plan has two stages:
1- Backup stage: included on the current ovn-migration.yml.
   Can be configured using the env variable CREATE_BACKUP
   (True by default). This stage will run the new ansible
   role, recovery-backup.
   It will store the backup on `/ctl_plane_backup` on the host
   where the BACKUP_MIGRATION_IP belongs to (can be modified by
   modifing the env var).
   In order to restore the controllers, boot them using the iso created
   by ReaR (stored in /ctl_plane_backup) and perform `automatic recover`
2- Revert stage: this stage has its own ansible playbook (revert.yml)
   This playbook will clean the environment from all the OVN ressources
   that could had been created (breaking the data plane connectivity)
   to leave the environment in a stage where an overcloud deploy with
   the OVS templates can be run.

Note: If the user creates new resources after running the backup stage
and then performs the recovery of the controllers, those resources will
be lost.

Conflicts:
    tools/ovn_migration/tripleo_environment/ovn_migration.sh

Change-Id: I7093f6a5f282b06fb2267cf2c88c533c1eae685d
(cherry picked from commit 7003817b697beae2f5effd96a3f71d2c2787e64f)
"
openstack%2Fneutron~master~Iffdca967340c01d4e8c063c516d0d5441750c653,openstack/neutron,master,bug/1991398,Iffdca967340c01d4e8c063c516d0d5441750c653,Fix ipam_pluggable_backend unit tests module,MERGED,2022-10-01 20:14:28.000000000,2022-10-04 14:44:33.000000000,2022-10-04 14:42:47.000000000,5,3,3,860053,a3e68e8f76e2792c30d1527bb20ee5961c6a8a53,13,4,1,1,11975,Slawek Kaplonski,slaweq,"Fix ipam_pluggable_backend unit tests module

This module couldn't be run alone due to missing registratration of
the ""ipam_driver"" config option from the core neutron configuration.
To solve that problem there is test plugin configured for those tests
and it registers that option which is necessary.

Change-Id: Iffdca967340c01d4e8c063c516d0d5441750c653
"
openstack%2Fneutron~stable%2Fstein~I8de0cb952e0fa3b9a12fc27ab2764b1552524128,openstack/neutron,stable/stein,,I8de0cb952e0fa3b9a12fc27ab2764b1552524128,fix: Fix url of Floodlight,MERGED,2022-09-29 05:56:58.000000000,2022-10-04 14:44:29.000000000,2022-10-04 14:42:29.000000000,1,1,0,859765,f6460f117a29695899029f5d6e842616c077dac3,8,3,1,1,33787,weilingfei,weilingfei,"fix: Fix url of Floodlight

The url of Floodlight[1] is unavailable.

Update it to an accessible project url[2].

[1] http://www.projectfloodlight.org/floodlight/
[2] https://github.com/floodlight/floodlight

Change-Id: I8de0cb952e0fa3b9a12fc27ab2764b1552524128
"
openstack%2Fneutron~stable%2Fxena~I8de0cb952e0fa3b9a12fc27ab2764b1552524128,openstack/neutron,stable/xena,,I8de0cb952e0fa3b9a12fc27ab2764b1552524128,fix: Fix url of Floodlight,MERGED,2022-09-29 05:55:10.000000000,2022-10-04 14:44:28.000000000,2022-10-04 14:42:11.000000000,1,1,0,859760,9a48e866b9f0c98f3868814a27afc0562549a2f1,9,3,1,1,33787,weilingfei,weilingfei,"fix: Fix url of Floodlight

The url of Floodlight[1] is unavailable.

Update it to an accessible project url[2].

[1] http://www.projectfloodlight.org/floodlight/
[2] https://github.com/floodlight/floodlight

Change-Id: I8de0cb952e0fa3b9a12fc27ab2764b1552524128
"
openstack%2Fneutron~stable%2Ftrain~I8de0cb952e0fa3b9a12fc27ab2764b1552524128,openstack/neutron,stable/train,,I8de0cb952e0fa3b9a12fc27ab2764b1552524128,fix: Fix url of Floodlight,MERGED,2022-09-29 05:56:46.000000000,2022-10-04 14:44:27.000000000,2022-10-04 14:42:25.000000000,1,1,0,859764,20c62ccb18fb8a4b2982254070a37f36a4e3b955,8,3,1,1,33787,weilingfei,weilingfei,"fix: Fix url of Floodlight

The url of Floodlight[1] is unavailable.

Update it to an accessible project url[2].

[1] http://www.projectfloodlight.org/floodlight/
[2] https://github.com/floodlight/floodlight

Change-Id: I8de0cb952e0fa3b9a12fc27ab2764b1552524128
"
openstack%2Fneutron~stable%2Fwallaby~I0de5fbb70eb852f82bd311616557985d1ce89bbf,openstack/neutron,stable/wallaby,bug/1979072,I0de5fbb70eb852f82bd311616557985d1ce89bbf,Script to remove duplicated port bindings,MERGED,2022-09-30 15:35:52.000000000,2022-10-04 14:44:22.000000000,2022-10-04 14:42:03.000000000,139,0,3,859998,8b1ec76321e33406c06f8cc49489dbdceeb0ee91,15,3,2,8,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Script to remove duplicated port bindings

A new script to remove the duplicated port bindings was added. This
script will list all ``ml2_port_bindings`` records in the database,
finding those ones with the same port ID. Then the script removes
those ones with status=INACTIVE. This script is useful to remove
those leftovers that remain in the database after a failed live
migration.

""dry_run"" mode is possible if selected in ""[cli_script] dry_run""
boolean config option. The duplicated port bindings are printed in
the shell but not deleted.

Related-Bug: #1979072

Conflicts:
    neutron/conf/common.py
    neutron/objects/ports.py
    setup.cfg

Change-Id: I0de5fbb70eb852f82bd311616557985d1ce89bbf
(cherry picked from commit c5b76a8393a21adb87447c925da2ede4a75dd11a)
(cherry picked from commit 3d307ef8f8c31ebc92a621aac75c62b83a7b3787)
"
openstack%2Fneutron~stable%2Fvictoria~I8de0cb952e0fa3b9a12fc27ab2764b1552524128,openstack/neutron,stable/victoria,,I8de0cb952e0fa3b9a12fc27ab2764b1552524128,fix: Fix url of Floodlight,MERGED,2022-09-29 05:56:13.000000000,2022-10-04 14:44:20.000000000,2022-10-04 14:42:18.000000000,1,1,0,859762,f9cf91ffddb7add81e8e82bc76ea2078ee4349b4,8,3,1,1,33787,weilingfei,weilingfei,"fix: Fix url of Floodlight

The url of Floodlight[1] is unavailable.

Update it to an accessible project url[2].

[1] http://www.projectfloodlight.org/floodlight/
[2] https://github.com/floodlight/floodlight

Change-Id: I8de0cb952e0fa3b9a12fc27ab2764b1552524128
"
openstack%2Fneutron~stable%2Fussuri~I8de0cb952e0fa3b9a12fc27ab2764b1552524128,openstack/neutron,stable/ussuri,,I8de0cb952e0fa3b9a12fc27ab2764b1552524128,fix: Fix url of Floodlight,MERGED,2022-09-29 05:56:31.000000000,2022-10-04 14:44:13.000000000,2022-10-04 14:42:22.000000000,1,1,0,859763,32ade32e9738baa7101909e800f54b7c63cd509a,8,3,1,1,33787,weilingfei,weilingfei,"fix: Fix url of Floodlight

The url of Floodlight[1] is unavailable.

Update it to an accessible project url[2].

[1] http://www.projectfloodlight.org/floodlight/
[2] https://github.com/floodlight/floodlight

Change-Id: I8de0cb952e0fa3b9a12fc27ab2764b1552524128
"
openstack%2Fneutron~stable%2Fyoga~I8de0cb952e0fa3b9a12fc27ab2764b1552524128,openstack/neutron,stable/yoga,,I8de0cb952e0fa3b9a12fc27ab2764b1552524128,fix: Fix url of Floodlight,MERGED,2022-09-29 05:54:59.000000000,2022-10-04 14:44:01.000000000,2022-10-04 14:42:07.000000000,1,1,1,859759,e2aa1330c6a6e99a3c0fb85ec00ca35fe360043e,9,3,1,1,33787,weilingfei,weilingfei,"fix: Fix url of Floodlight

The url of Floodlight[1] is unavailable.

Update it to an accessible project url[2].

[1] http://www.projectfloodlight.org/floodlight/
[2] https://github.com/floodlight/floodlight

Change-Id: I8de0cb952e0fa3b9a12fc27ab2764b1552524128
"
openstack%2Fneutron~stable%2Fqueens~I8de0cb952e0fa3b9a12fc27ab2764b1552524128,openstack/neutron,stable/queens,,I8de0cb952e0fa3b9a12fc27ab2764b1552524128,fix: Fix url of Floodlight,MERGED,2022-09-29 05:57:23.000000000,2022-10-04 14:42:36.000000000,2022-10-04 14:42:36.000000000,1,1,0,859767,3658ec31ef6dbda0e652ba4b15fe8cd3be729e10,7,3,1,1,33787,weilingfei,weilingfei,"fix: Fix url of Floodlight

The url of Floodlight[1] is unavailable.

Update it to an accessible project url[2].

[1] http://www.projectfloodlight.org/floodlight/
[2] https://github.com/floodlight/floodlight

Change-Id: I8de0cb952e0fa3b9a12fc27ab2764b1552524128
"
openstack%2Fneutron~stable%2Frocky~I8de0cb952e0fa3b9a12fc27ab2764b1552524128,openstack/neutron,stable/rocky,,I8de0cb952e0fa3b9a12fc27ab2764b1552524128,fix: Fix url of Floodlight,MERGED,2022-09-29 05:57:11.000000000,2022-10-04 14:42:33.000000000,2022-10-04 14:42:33.000000000,1,1,0,859766,7f245edd59b071ab0d5001ed05268ae3ac5ce6d7,7,3,1,1,33787,weilingfei,weilingfei,"fix: Fix url of Floodlight

The url of Floodlight[1] is unavailable.

Update it to an accessible project url[2].

[1] http://www.projectfloodlight.org/floodlight/
[2] https://github.com/floodlight/floodlight

Change-Id: I8de0cb952e0fa3b9a12fc27ab2764b1552524128
"
openstack%2Fneutron~stable%2Fwallaby~I8de0cb952e0fa3b9a12fc27ab2764b1552524128,openstack/neutron,stable/wallaby,,I8de0cb952e0fa3b9a12fc27ab2764b1552524128,fix: Fix url of Floodlight,MERGED,2022-09-29 05:55:47.000000000,2022-10-04 14:42:15.000000000,2022-10-04 14:42:15.000000000,1,1,0,859761,9c99dfa08957735a10b0edfa815521dbae3ce26c,8,3,1,1,33787,weilingfei,weilingfei,"fix: Fix url of Floodlight

The url of Floodlight[1] is unavailable.

Update it to an accessible project url[2].

[1] http://www.projectfloodlight.org/floodlight/
[2] https://github.com/floodlight/floodlight

Change-Id: I8de0cb952e0fa3b9a12fc27ab2764b1552524128
"
openstack%2Fneutron~stable%2Fyoga~I0de5fbb70eb852f82bd311616557985d1ce89bbf,openstack/neutron,stable/yoga,bug/1979072,I0de5fbb70eb852f82bd311616557985d1ce89bbf,Script to remove duplicated port bindings,MERGED,2022-09-30 15:23:34.000000000,2022-10-04 14:41:56.000000000,2022-10-04 14:40:22.000000000,138,0,2,859996,3d307ef8f8c31ebc92a621aac75c62b83a7b3787,14,3,1,8,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Script to remove duplicated port bindings

A new script to remove the duplicated port bindings was added. This
script will list all ``ml2_port_bindings`` records in the database,
finding those ones with the same port ID. Then the script removes
those ones with status=INACTIVE. This script is useful to remove
those leftovers that remain in the database after a failed live
migration.

""dry_run"" mode is possible if selected in ""[cli_script] dry_run""
boolean config option. The duplicated port bindings are printed in
the shell but not deleted.

Related-Bug: #1979072

Conflicts:
    neutron/conf/common.py

Change-Id: I0de5fbb70eb852f82bd311616557985d1ce89bbf
(cherry picked from commit c5b76a8393a21adb87447c925da2ede4a75dd11a)
"
openstack%2Fneutron~stable%2Fxena~I0de5fbb70eb852f82bd311616557985d1ce89bbf,openstack/neutron,stable/xena,bug/1979072,I0de5fbb70eb852f82bd311616557985d1ce89bbf,Script to remove duplicated port bindings,MERGED,2022-09-30 15:24:08.000000000,2022-10-04 14:41:53.000000000,2022-10-04 14:40:26.000000000,138,0,0,859997,d033ab6eb6dadeb1770eb259d4d59b469d9e3bc0,10,3,1,8,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Script to remove duplicated port bindings

A new script to remove the duplicated port bindings was added. This
script will list all ``ml2_port_bindings`` records in the database,
finding those ones with the same port ID. Then the script removes
those ones with status=INACTIVE. This script is useful to remove
those leftovers that remain in the database after a failed live
migration.

""dry_run"" mode is possible if selected in ""[cli_script] dry_run""
boolean config option. The duplicated port bindings are printed in
the shell but not deleted.

Related-Bug: #1979072

Conflicts:
    neutron/conf/common.py

Change-Id: I0de5fbb70eb852f82bd311616557985d1ce89bbf
(cherry picked from commit c5b76a8393a21adb87447c925da2ede4a75dd11a)
(cherry picked from commit 3d307ef8f8c31ebc92a621aac75c62b83a7b3787)
"
openstack%2Fcharm-cinder-purestorage~master~I485eecdb85a2cb035cc548a9a1cf36697a452808,openstack/charm-cinder-purestorage,master,batch-update,I485eecdb85a2cb035cc548a9a1cf36697a452808,Add Kinetic and Zed support,MERGED,2022-09-27 18:32:46.000000000,2022-10-04 14:25:18.000000000,2022-10-04 14:25:18.000000000,59,175,6,859471,75c1b2a978c5cd0135966396b21c39f634180e07,47,3,13,11,11805,Corey Bryant,coreycb,"Add Kinetic and Zed support

* sync charm-helpers to classic charms
* change openstack-origin/source default to zed
* align testing with zed
* add new zed bundles
* add zed bundles to tests.yaml
* add zed tests to osci.yaml and .zuul.yaml
* update build-on and run-on bases
* add bindep.txt for py310
* sync tox.ini and requirements.txt for ruamel
* use charmcraft_channel 2.0/stable
* drop reactive plugin overrides
* move interface/layer env vars to charmcraft.yaml

Change-Id: I485eecdb85a2cb035cc548a9a1cf36697a452808
"
openstack%2Fcharm-manila~master~I4cae0a313230a8617beac36a2dbfe0c019c5e0de,openstack/charm-manila,master,batch-update,I4cae0a313230a8617beac36a2dbfe0c019c5e0de,Add Kinetic and Zed support,MERGED,2022-06-24 01:25:08.000000000,2022-10-04 14:25:16.000000000,2022-10-04 14:25:16.000000000,79,493,6,847480,e9c09f4313b6009fedaa88973b504094d7c29924,105,3,32,14,11805,Corey Bryant,coreycb,"Add Kinetic and Zed support

* sync charm-helpers to classic charms
* change openstack-origin/source default to zed
* align testing with zed
* add new zed bundles
* add zed bundles to tests.yaml
* add zed tests to osci.yaml and .zuul.yaml
* update build-on and run-on bases
* add bindep.txt for py310
* sync tox.ini and requirements.txt for ruamel
* use charmcraft_channel 2.0/stable
* drop reactive plugin overrides
* move interface/layer env vars to charmcraft.yaml

Depends-On: https://review.opendev.org/c/openstack/charm-manila/+/858765
Change-Id: I4cae0a313230a8617beac36a2dbfe0c019c5e0de
"
openstack%2Fcharm-manila~master~Ib3aea3fb26aa3e6282989b2758bdf4913ef58c28,openstack/charm-manila,master,batch-update,Ib3aea3fb26aa3e6282989b2758bdf4913ef58c28,Build separately for each supported series and use binary builds,MERGED,2022-09-21 15:45:20.000000000,2022-10-04 14:25:14.000000000,2022-10-04 14:25:14.000000000,66,405,1,858765,10524b6ed3188e5a48060c6772c8425dcc8cbe6e,33,3,9,11,11805,Corey Bryant,coreycb,"Build separately for each supported series and use binary builds

Charms for OpenStack Yoga supports both Ubuntu Focal and Jammy
which means Python 3.8 and Python 3.10.  Managing dependencies
across those two versions is non-trivial and we need to build
the charm on the series the charm is supposed to support.

Switch to using a binary build which allows pip's dependency
resolution to work.

This patch also updates manila.py to align with
charm-interface-keystone commit
9ad5cade97e14b672ac859d34040353c3a40c7aa.

This patch also drops the impish bundle.

Change-Id: Ib3aea3fb26aa3e6282989b2758bdf4913ef58c28
"
openstack%2Fcharm-cinder-purestorage~master~I251f0715dd4cff68cba22ffe7d793878317bbef5,openstack/charm-cinder-purestorage,master,batch-update,I251f0715dd4cff68cba22ffe7d793878317bbef5,Build separately for each supported series and use binary builds,MERGED,2022-09-28 11:48:31.000000000,2022-10-04 14:24:04.000000000,2022-10-04 14:24:04.000000000,48,118,3,859561,b0acd923b7257f51613a17a4e4e93baf20876528,31,4,7,12,11805,Corey Bryant,coreycb,"Build separately for each supported series and use binary builds

Charms for OpenStack Yoga supports both Ubuntu Focal and Jammy
which means Python 3.8 and Python 3.10.  Managing dependencies
across those two versions is non-trivial and we need to build
the charm on the series the charm is supposed to support.

Switch to using a binary build which allows pip's dependency
resolution to work.

This patch also drops the impish bundle.

Change-Id: I251f0715dd4cff68cba22ffe7d793878317bbef5
"
openstack%2Fkolla-ansible~master~Ia8acdf69cb3676ec939777c32f0568cb720c471f,openstack/kolla-ansible,master,remove-deprecated-enable_ironic_ipxe,Ia8acdf69cb3676ec939777c32f0568cb720c471f,Remove the deprecated enable_ironic_ipxe,MERGED,2022-09-29 08:51:49.000000000,2022-10-04 14:23:44.000000000,2022-10-04 14:21:23.000000000,7,2,0,859815,3029281c1d0f835f668fe1aafa51147a3c6d02bb,9,3,1,2,30491,Rados≈Çaw Piliszek,yoctozepto,"Remove the deprecated enable_ironic_ipxe

Change-Id: Ia8acdf69cb3676ec939777c32f0568cb720c471f
"
openstack%2Fkolla-ansible~master~I4f5c1bd8be8e23cf6299ca4bdfd79e9d98c9a9eb,openstack/kolla-ansible,master,keystone-oidc-azure,I4f5c1bd8be8e23cf6299ca4bdfd79e9d98c9a9eb,Keystone OIDC JWKS fix,MERGED,2022-09-21 12:47:40.000000000,2022-10-04 14:22:42.000000000,2022-10-04 14:21:17.000000000,26,2,44,858698,98929761191e265474459a0b73fdbeb07afd2bb4,64,3,13,4,34076,Jakub Darmach,darmach,"Keystone OIDC JWKS fix

JWT failed to validate on auth-oidc endpoint used by openstack cli
with ""could not find key with kid: XX"" error. To fix this we need
to use jwks provided in ""jwks_uri"" by OIDC metadata endpoint.

Missing ""ServerName"" directive from vhost config causes redirection
to fail in some cases when external tls is enabled.

  - added ""keystone_federation_oidc_jwks_uri"" variable
  - added ""OIDCOAuthVerifyJwksUri"" to keystone vhost config
  - added ""ServerName"" to keystone vhost config
  - jinja templating additional whitespace trimmed to
    correct end result indentation and empty newlines

Closes-bug: 1990375
Change-Id: I4f5c1bd8be8e23cf6299ca4bdfd79e9d98c9a9eb
"
openstack%2Fkolla-ansible~master~I0721cadcf53d59947bc0db6a193bfafe49c41ad3,openstack/kolla-ansible,master,bug/1990523,I0721cadcf53d59947bc0db6a193bfafe49c41ad3,set haproxy balance algorithm to roundrobin for horizon,MERGED,2022-09-22 12:42:53.000000000,2022-10-04 14:21:20.000000000,2022-10-04 14:21:20.000000000,8,2,10,858916,155ed969ae0b034820bf766ac2e3b7d97bbf8d4a,30,4,7,2,30226,Serhat Rƒ±fat Demircan,serhatrd,"set haproxy balance algorithm to roundrobin for horizon

Currently kolla-ansible sets haproxy balance algorithm to source for
horizon. We can set it to round-robin if the cache backend is memcached
or using the database as the session storage backend. So we can
distribute http requests evenly to all available horizon instances.

Closes-Bug: #1990523
Change-Id: I0721cadcf53d59947bc0db6a193bfafe49c41ad3
"
openstack%2Fkayobe~master~I798a59ffeff060352e73ae755314a83222c92260,openstack/kayobe,master,,I798a59ffeff060352e73ae755314a83222c92260,CI: Set previous_release to Yoga - part 2,MERGED,2022-10-04 11:35:35.000000000,2022-10-04 14:17:52.000000000,2022-10-04 14:16:17.000000000,0,2,0,860238,b3cc98d3028d98a49693723db565d1f65003f522,7,2,1,1,22629,Michal Nasiadka,mnasiadka,"CI: Set previous_release to Yoga - part 2

Followups after I295e8f5f1cc9b7af1cd45ac788db473510220170

Change-Id: I798a59ffeff060352e73ae755314a83222c92260
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I25f75d7bd8864ea132246cea79e073232d664d76,openstack/tripleo-heat-templates,stable/wallaby,bug/1990480,I25f75d7bd8864ea132246cea79e073232d664d76,Enable dns_domain_ports extension by default,MERGED,2022-09-29 11:19:43.000000000,2022-10-04 14:06:20.000000000,2022-10-04 14:05:15.000000000,14,9,3,859834,aaf4435d2c013ab631103ac2a45e73d50dac34cc,14,8,1,10,13861,yatin,yatinkarel,"Enable dns_domain_ports extension by default

'dns_domain_ports' extension allows dns_domain to be set
for ports and ML2 OVN supports it since wallaby[1]
and ML2 OVS long before that.
This patch replaces 'dns' with 'dns_domain_ports' for
NeutronPluginExtensions in ml2 plugin heat template and
all environment files.
'dns' extension not equired to be enabled explicitly
with 'dns_domain_ports' as it inherits all the capabilities
of 'dns' extension.

[1] https://review.opendev.org/q/Ic269902ef7a16893c4ea624b04347d04db4f52d9

Related-Bug: #1990480
Change-Id: I25f75d7bd8864ea132246cea79e073232d664d76
(cherry picked from commit 7efe0063b97bfdd9dee960d920642f0385095558)
Conflicts:
 	environments/services/undercloud-neutron-ovn-dhcp.yaml
"
openstack%2Ftripleo-heat-templates~master~I8972b16254b141e7102ea87cb6c0d489d8426751,openstack/tripleo-heat-templates,master,containers/cap_audit_write,I8972b16254b141e7102ea87cb6c0d489d8426751,Enable CAP_AUDIT_WRITE for some containers/steps,MERGED,2022-10-03 11:34:30.000000000,2022-10-04 14:05:21.000000000,2022-10-04 14:05:21.000000000,32,0,0,860085,ae5fa916f7ea0d4f3215738327eb05819bcb5bae,10,5,1,16,28223,Cedric Jeanneret,cjeanner,"Enable CAP_AUDIT_WRITE for some containers/steps

Usually, db_sync involves call to ""sudo"". Such call are now logging a
warning/error in the host log due to a recently removed capability in
podman, the CAP_AUDIT_WRITE. This capability allows containers to write
in the audit log whenever there's a security related thing.

Sudo isn't the only one needing this access - sshd also writes in the
audit. Since the nova-migration-target runs sshd, enabling the
capability in there will ensure we're keeping clean track of the
accesses.

Change-Id: I8972b16254b141e7102ea87cb6c0d489d8426751
Closes-Bug: #1991219
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ic6d15c0aed5d115a09253788cf3441b72605e5dc,openstack/tripleo-ansible,stable/wallaby,ovs_service,Ic6d15c0aed5d115a09253788cf3441b72605e5dc,Ensure the openvswitch service is enabled and deps are installed,MERGED,2022-09-28 17:03:17.000000000,2022-10-04 14:05:18.000000000,2022-10-04 14:05:18.000000000,15,0,3,859652,e9c86203c2059ea95a81b96a1ce6becb80b61d21,17,7,1,5,23811,Oliver Walsh,owalsh,"Ensure the openvswitch service is enabled and deps are installed

On overcloud images the openvswitch service is enabled.
However on pre-deployed nodes the service is not enabled by default
after installing the package.
Also the driverctl package is required to bind dpdk interfaces in
os-net-config

Change-Id: Ic6d15c0aed5d115a09253788cf3441b72605e5dc
(cherry picked from commit 15d454554210b56327377b4286c5bb653a7d5f61)
"
openstack%2Fansible-collections-openstack~stable%2F1.0.0~Ia5c6809d820865fd477d6956707a195ab672f069,openstack/ansible-collections-openstack,stable/1.0.0,stable-release,Ia5c6809d820865fd477d6956707a195ab672f069,Release 1.10.0 version,MERGED,2022-10-04 09:07:38.000000000,2022-10-04 13:56:47.000000000,2022-10-04 13:56:47.000000000,40,3,0,860223,1b03f918ac42315f2fdea6ca572ed6ea3e80494c,7,3,1,3,32962,Jakob Meng,jakobmeng@web.de,"Release 1.10.0 version

Change-Id: Ia5c6809d820865fd477d6956707a195ab672f069
"
openstack%2Fcharm-hacluster~stable%2Ffocal~I485a3409021201870b8a638313b66a24251743ed,openstack/charm-hacluster,stable/focal,,I485a3409021201870b8a638313b66a24251743ed,Use openstack-python3-victori-jobs template,ABANDONED,2022-10-03 19:55:30.000000000,2022-10-04 13:43:54.000000000,,3,1,1,860129,41fbba5745f9a9997d40cff4ceb8726429285204,9,2,3,1,2424,Felipe Reyes,freyes,"Use openstack-python3-victori-jobs template

The branch stable/focal needs to support Ubuntu Bionic (python 3.6) and
Focal (python 3.8), using openstack-python3-victoria-jobs allows the
execution of both of those targets

Change-Id: I485a3409021201870b8a638313b66a24251743ed
"
openstack%2Fkeystone~master~I539047bffa8b14f9d8d0adca8d215dd57745ec85,openstack/keystone,master,project-tags,I539047bffa8b14f9d8d0adca8d215dd57745ec85,Emit tags notification on project creation,ABANDONED,2022-07-13 17:57:24.000000000,2022-10-04 13:40:19.000000000,,4,0,0,849724,1d32325bcc37628aa133f1b61c2694574bad2974,12,2,4,1,21420,Gage Hugo,ghugo,"Emit tags notification on project creation

Currently when a project is created with given tags, keystone does
not emit any notifications that any tags were created. This is a
small gap in behavior where each project tag API emits a notification
when project tags are modified in any way.

This change adds in a notification for project tags being updated for
a project if the project is created with project tags.

Change-Id: I539047bffa8b14f9d8d0adca8d215dd57745ec85
"
openstack%2Fmanila-tempest-plugin~master~I53bb9851445038f81032485817389ec31e2b7341,openstack/manila-tempest-plugin,master,secure-rbac,I53bb9851445038f81032485817389ec31e2b7341,Add S-RBAC tests for manila,MERGED,2021-08-25 04:49:52.000000000,2022-10-04 13:32:48.000000000,2022-10-04 13:32:48.000000000,1850,0,146,805938,7b2566a61ef2dc2d4c84460b54ded70d11ed4a79,254,6,70,9,19262,Liron Kuchlani,lkuchlan,"Add S-RBAC tests for manila

The tests validate policy share actions for admin,member
and reader users in a project scope.
This patch adds tests for the following resources/features:
- share
- share snapshot
- share type
- share network
- scheduler stats

Below settings were used for ease of code development
and testing:
1. DHHS = False
2. Dummy driver as it supports all features
3. Manila-tempest-plugin as a base repo to test the changes

Depends-On: https://review.opendev.org/c/openstack/manila/+/858761
Change-Id: I53bb9851445038f81032485817389ec31e2b7341
"
openstack%2Fvitrage~stable%2Fzed~I1afc0dd769c31f89afd80d7f05e7ce382d1fa1e1,openstack/vitrage,stable/zed,create-zed,I1afc0dd769c31f89afd80d7f05e7ce382d1fa1e1,Update TOX_CONSTRAINTS_FILE for stable/zed,NEW,2022-09-20 08:57:40.000000000,2022-10-04 13:15:23.000000000,,5,4,2,858500,98ad9df1b7c5e08a23a438762bdd2c473e16f917,21,2,4,4,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/zed

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/zed branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I1afc0dd769c31f89afd80d7f05e7ce382d1fa1e1
"
openstack%2Fcharm-neutron-api-plugin-arista~stable%2Fxena~I8c893b216de09633c15eda229ae4bd5ec06d5475,openstack/charm-neutron-api-plugin-arista,stable/xena,xena-lock-layers,I8c893b216de09633c15eda229ae4bd5ec06d5475,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 18:59:27.000000000,2022-10-04 13:13:06.000000000,2022-10-04 13:13:06.000000000,5,5,5,859704,7c9447dbf61f4138f66ffad4bc3a8f90996541da,12,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: I8c893b216de09633c15eda229ae4bd5ec06d5475
"
openstack%2Fcharm-octavia~master~I759b60939a4fe2c9599d34e2ff64649426ffbf62,openstack/charm-octavia,master,batch-update,I759b60939a4fe2c9599d34e2ff64649426ffbf62,Add Kinetic and Zed support,MERGED,2022-07-18 13:14:51.000000000,2022-10-04 13:06:12.000000000,2022-10-04 13:06:12.000000000,256,536,14,850215,ff317f99fc18ac3d8ef9b97f32621b6956c19f50,130,3,39,22,11805,Corey Bryant,coreycb,"Add Kinetic and Zed support

* sync charm-helpers to classic charms
* change openstack-origin/source default to zed
* align testing with zed
* add new zed bundles
* add zed bundles to tests.yaml
* add zed tests to osci.yaml and .zuul.yaml
* update build-on and run-on bases
* add bindep.txt for py310
* sync tox.ini and requirements.txt for ruamel
* use charmcraft_channel 2.0/stable
* move interface/layer env vars to charmcraft.yaml
* fix gss mirror_list and odr retrofit-uca-pocket
* use local charm overlay for HA config instead of manually managing
  symlinks

Depends-On: https://review.opendev.org/c/openstack/charm-octavia/+/858919
Change-Id: I759b60939a4fe2c9599d34e2ff64649426ffbf62
"
openstack%2Fkolla~master~If2f39736e2af34cd91d0976051ff66f06e96ab42,openstack/kolla,master,bug/1826324,If2f39736e2af34cd91d0976051ff66f06e96ab42,Add exclude for permissions in kolla config.json file,NEW,2019-04-25 07:02:39.000000000,2022-10-04 13:03:11.000000000,,19,2,16,655620,cd40b891b750640c2bddd62fcf4eebb10c352c99,33,10,8,1,21113,Min Sun,MinSun,"Add exclude for permissions in kolla config.json file

In kolla config.json file, we can set permissions for a directory,
when use recurse mode, every directories and files under the
directory will be set permissions according to the config.
Sometimes, there should be an exception, that we don't want
permissions be set for any directories or files.

We can set exclude like this:
    ""permissions"": [
        {
            ""path"": ""/var/lib/glance"",
            ""owner"": ""glance:glance"",
            ""recurse"": true,
            ""exclude"": [""/var/lib/glance/.snapshot""]
        }
     ]

Change-Id: If2f39736e2af34cd91d0976051ff66f06e96ab42
"
openstack%2Fcharm-octavia~master~I744a8903be7450b5d9b2af3f96c6f61d206f9271,openstack/charm-octavia,master,batch-update,I744a8903be7450b5d9b2af3f96c6f61d206f9271,Build separately for each supported series and use binary builds,MERGED,2022-09-22 13:04:26.000000000,2022-10-04 12:54:58.000000000,2022-10-04 12:54:58.000000000,133,118,12,858919,7cb77afe26b25ae1bab1bf7b0125021a44529a04,40,3,9,12,11805,Corey Bryant,coreycb,"Build separately for each supported series and use binary builds

Charms for OpenStack Yoga supports both Ubuntu Focal and Jammy
which means Python 3.8 and Python 3.10.  Managing dependencies
across those two versions is non-trivial and we need to build
the charm on the series the charm is supposed to support.

Switch to using a binary build which allows pip's dependency
resolution to work.

This patch also drops the impish bundle and fixes channels
for auxiliary charms.

Update metadata with jammy support.

Replace `octavia.setup.ensure_lts_images` with the default glance
lts image configure job.

Drop python build dependencies in wheelhouse and let the binary
build figure those out automatically.

Closes-Bug: #1915171
Change-Id: I744a8903be7450b5d9b2af3f96c6f61d206f9271
"
openstack%2Fpuppet-nova~stable%2Ftrain~Ic9b5ccd8fc23f6cebc06f62d972b64efd2400396,openstack/puppet-nova,stable/train,,Ic9b5ccd8fc23f6cebc06f62d972b64efd2400396,Delete policy file if policies hash is empty,ABANDONED,2022-10-04 12:39:33.000000000,2022-10-04 12:54:05.000000000,,53,23,0,860251,5138fc83f34ba56b257bbebb9f50a3b72c11e8de,2,0,1,3,6926,Bogdan Dobrelya,bogdando,"Delete policy file if policies hash is empty

If all policies get deleted, previously created policy files won't
get removed and the api policy file is still used. Let's make
sure the policy file gets purged if the policies hash is empty.

Conflicts:
	manifests/metadata/novajoin/policy.pp
	manifests/policy.pp
	spec/classes/nova_metadata_novajoin_policy_spec.rb
	spec/classes/nova_policy_spec.rb

Depends-On: https://review.opendev.org/802305
Change-Id: Ic9b5ccd8fc23f6cebc06f62d972b64efd2400396
(cherry picked from commit d7c27f5051422089b95ad9291f8d43f07a63166d)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If0b60037f7bb7084d0d5e549670e9d8bf53330a8,openstack/tripleo-heat-templates,stable/train,,If0b60037f7bb7084d0d5e549670e9d8bf53330a8,Parameter to set api policy to limit live migration to role,ABANDONED,2022-10-04 12:42:28.000000000,2022-10-04 12:53:57.000000000,,39,1,0,860252,27a3016a2226b7c7d95747ae42f6ec9edbaa1d3b,2,0,1,2,6926,Bogdan Dobrelya,bogdando,"Parameter to set api policy to limit live migration to role

Adds NovaRestrictLiveMigration boolean parmeter to enable an
api policy to allow live migration only for a specific role
which can be customized using NovaRestrictLiveMigrationRole.
This feature is to prevent the default admin role users to
be able to use live migration on coincidence.
Additional policies specified using NovaApiPolicies get
merged with this polic

Conflicts:
	deployment/nova/nova-api-container-puppet.yaml

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/802251
Change-Id: If0b60037f7bb7084d0d5e549670e9d8bf53330a8
(cherry picked from commit 6db0f74e23db06ab391c4dc02da45083c1907992)
"
openstack%2Fpuppet-openstacklib~stable%2Ftrain~Iec610053a9250cb78c2a17bfc2c197bf55d9df86,openstack/puppet-openstacklib,stable/train,,Iec610053a9250cb78c2a17bfc2c197bf55d9df86,Add support for yaml format policy files,ABANDONED,2022-10-04 11:50:34.000000000,2022-10-04 12:53:31.000000000,,50,6,1,860239,3a43adfd0c38845827382047b72b20c71dfaf32c,3,1,1,3,6926,Bogdan Dobrelya,bogdando,"Add support for yaml format policy files

This patch adds a 'file_format' field to the policies definition to
allow overriding the default file format which is currently json.

Change-Id: Iec610053a9250cb78c2a17bfc2c197bf55d9df86
Related-Bug: #1885602
(cherry picked from commit 462270987992b9780e2a2413f40a51d38b06b5d9)
"
openstack%2Fpuppet-openstacklib~stable%2Ftrain~Ie308a481eb70d5f930633b18d8044f9542a142af,openstack/puppet-openstacklib,stable/train,,Ie308a481eb70d5f930633b18d8044f9542a142af,Fix support for policy.yaml,ABANDONED,2022-10-04 11:50:34.000000000,2022-10-04 12:53:26.000000000,,118,40,0,860240,92b8004405db4c84f99898d9897488e1ec2e373f,2,0,1,3,6926,Bogdan Dobrelya,bogdando,"Fix support for policy.yaml

This change fixes support for policy.yaml, which was broken because
of the following problems.
 - The default content was still formatted in json
 - Augeas doesn't support flat yaml contents required

Change-Id: Ie308a481eb70d5f930633b18d8044f9542a142af
(cherry picked from commit 0ffc8e1c4b98cb8649be7be03f327bc421a9d7e1)
"
openstack%2Fpuppet-openstacklib~stable%2Ftrain~Ie2e5a6798e8603585c20b947eb91bbad5453934b,openstack/puppet-openstacklib,stable/train,,Ie2e5a6798e8603585c20b947eb91bbad5453934b,policy: Raise error when file_path and file_format are inconsistent,ABANDONED,2022-10-04 11:50:34.000000000,2022-10-04 12:53:21.000000000,,26,0,0,860241,9b53b9857117916299d39bf41116a2608d5febf5,2,0,1,2,6926,Bogdan Dobrelya,bogdando,"policy: Raise error when file_path and file_format are inconsistent

We have replaced policy.yaml with policy.json following the community
goal[1], but it might be possible that users are not aware of that
migration and still expect json files.
This change ensures that users are not expecting json file based on
the given file path.

[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: Ie2e5a6798e8603585c20b947eb91bbad5453934b
(cherry picked from commit 61aeda0b485274a7f8f1ede6e603d74318dd5d85)
"
openstack%2Fpuppet-openstacklib~stable%2Ftrain~I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5,openstack/puppet-openstacklib,stable/train,,I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5,Re-implement openstacklib::policy,ABANDONED,2022-10-04 12:34:28.000000000,2022-10-04 12:53:16.000000000,,382,108,1,860250,a1aa9b1fb6063291054b12cb0370813a7c2206f4,3,0,1,8,6926,Bogdan Dobrelya,bogdando,"Re-implement openstacklib::policy

openstacklib::policy has never been used in any other modules because
it was implemented as a class not reusable for each service.
This change re-implements openstacklib::policy as a defined resource
type so that we can use this implementation from each puppet modules.

The openstacklib::policy resource type provides the purge_config
parameter. When this parameter is set to true, a policy file is cleared
during configuration process. This allows users to remove any existing
rules before applying their own (no) rules.

 Conflicts:
	manifests/policy/base.pp

Change-Id: I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5
(cherry picked from commit 2a53c66ed3e4ae6b1907d824915a59c175eb0258)
"
openstack%2Fpuppet-nova~stable%2Ftrain~I194754b3337f0b600b59a14b79fef26ca3381c4b,openstack/puppet-nova,stable/train,,I194754b3337f0b600b59a14b79fef26ca3381c4b,Delete policy file if policies hash is empty,ABANDONED,2022-10-04 12:27:26.000000000,2022-10-04 12:41:39.000000000,,53,23,1,860249,6dd1e8513bd8ff5f59073aa54e8e634de1127a68,4,1,2,3,6926,Bogdan Dobrelya,bogdando,"Delete policy file if policies hash is empty

If all policies get deleted, previously created policy files won't
get removed and the api policy file is still used. Let's make
sure the policy file gets purged if the policies hash is empty.

Depends-On: https://review.opendev.org/802305
Change-Id: Ic9b5ccd8fc23f6cebc06f62d972b64efd2400396

 Conflicts:
	manifests/metadata/novajoin/policy.pp
	manifests/policy.pp
	spec/classes/nova_metadata_novajoin_policy_spec.rb
	spec/classes/nova_policy_spec.rb

Change-Id: I194754b3337f0b600b59a14b79fef26ca3381c4b
"
openstack%2Frally-openstack~master~I7cb2cb682f60cedf7fdbad22f182d52fce0ad1d6,openstack/rally-openstack,master,,I7cb2cb682f60cedf7fdbad22f182d52fce0ad1d6,Make nova job voting again,NEW,2022-09-29 20:51:23.000000000,2022-10-04 12:40:09.000000000,,1,2,0,859900,bc9199db60baedf982a8dd3204ab8d9a81683b9b,12,2,6,1,16137,Tobias Urdin,tobasco,"Make nova job voting again

Change-Id: I7cb2cb682f60cedf7fdbad22f182d52fce0ad1d6
"
openstack%2Fpuppet-openstacklib~stable%2Ftrain~I8e48856ede33c7b5321de0561bdfab227d593ed1,openstack/puppet-openstacklib,stable/train,,I8e48856ede33c7b5321de0561bdfab227d593ed1,Re-implement openstacklib::policy,ABANDONED,2022-10-04 11:50:34.000000000,2022-10-04 12:34:38.000000000,,382,108,1,860242,9e5719ae4c93750d0f65eb570ecffb8319485d92,3,0,1,8,6926,Bogdan Dobrelya,bogdando,"Re-implement openstacklib::policy

openstacklib::policy has never been used in any other modules because
it was implemented as a class not reusable for each service.
This change re-implements openstacklib::policy as a defined resource
type so that we can use this implementation from each puppet modules.

The openstacklib::policy resource type provides the purge_config
parameter. When this parameter is set to true, a policy file is cleared
during configuration process. This allows users to remove any existing
rules before applying their own (no) rules.

Change-Id: I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5
(cherry picked from commit 2a53c66ed3e4ae6b1907d824915a59c175eb0258)

 Conflicts:
	manifests/policy/base.pp

Change-Id: I8e48856ede33c7b5321de0561bdfab227d593ed1
"
openstack%2Fopenstacksdk~master~I792dd52136c31fd95cd98be903f12a9273fa6c76,openstack/openstacksdk,master,better_tests,I792dd52136c31fd95cd98be903f12a9273fa6c76,Rework network functional tests,NEW,2022-09-23 15:54:37.000000000,2022-10-04 12:31:05.000000000,,1251,844,1,859114,0b99f23eca130629e718e3c952664f1f71be8943,10,1,5,46,27900,Artem Goncharov,gtema,"Rework network functional tests

Fix skip conditions of the functional tests in the network area and
switch to use of the proper cloud. This is required to allow executing
functional tests on real OpenStack clouds differentiating regular user
vs administrator accounts.

Change-Id: I792dd52136c31fd95cd98be903f12a9273fa6c76
"
