id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fproject-config~master~I4c1b03300d9f6d63cda6fa634f23f32359b714f0,openstack/project-config,master,neutron-accessbot,I4c1b03300d9f6d63cda6fa634f23f32359b714f0,Add members of the neutron drivers team as ops in neutron channel,MERGED,2021-06-15 15:58:43.000000000,2021-06-29 01:20:33.000000000,2021-06-29 00:43:02.000000000,8,0,0,796521,7c0c23b480ad9cda5cd86867cf2595948851730d,8,3,1,1,11975,Slawek Kaplonski,slaweq,"Add members of the neutron drivers team as ops in neutron channel

Change-Id: I4c1b03300d9f6d63cda6fa634f23f32359b714f0
"
openstack%2Fsenlin~master~Iff48ff530ab27325cc33b3c63d1330cd0d135842,openstack/senlin,master,,Iff48ff530ab27325cc33b3c63d1330cd0d135842,setup.cfg: Replace dashes with underscores,MERGED,2021-05-06 03:03:37.000000000,2021-06-29 01:19:11.000000000,2021-06-29 01:17:47.000000000,4,4,0,789993,412197ad5e24a845cfa5765af6c444d1d7d94739,10,5,1,1,32326,YuehuiLei,YuehuiLei,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Iff48ff530ab27325cc33b3c63d1330cd0d135842
"
openstack%2Fproject-config~master~I56528e76e52dc3a8ae2be0818e248290971fc516,openstack/project-config,master,add-charm-ceph-dashboard,I56528e76e52dc3a8ae2be0818e248290971fc516,Add Ceph Dashboard charm to OpenStack charms,MERGED,2021-06-24 14:53:28.000000000,2021-06-29 01:05:47.000000000,2021-06-29 00:37:04.000000000,7,0,1,797911,2a12b88737e97fd8317e8c4cac67390313b5db13,16,4,3,2,12549,gnuoy,gnuoy,"Add Ceph Dashboard charm to OpenStack charms

Add new charm that provides the Ceph Dashboard.

Required-By: I1221a6ec640d3b3f31a7a26e739e0b6f78324997
Change-Id: I56528e76e52dc3a8ae2be0818e248290971fc516
"
openstack%2Fproject-config~master~If2b00203c7794456cb601399c62b73900ec49a18,openstack/project-config,master,rbd-iscsi-client-mirroring,If2b00203c7794456cb601399c62b73900ec49a18,Add project templates to rbd-iscsi-client,MERGED,2021-06-28 15:50:16.000000000,2021-06-29 00:43:36.000000000,2021-06-29 00:43:36.000000000,6,0,0,798348,e2d2c2f9f0a7a9b8395a29df816bbb2a457d092c,7,3,1,1,5314,Brian Rosmaita,brian-rosmaita,"Add project templates to rbd-iscsi-client

Add github mirroring and publishing to pypi to the rbd-iscsi-client
library.

Change-Id: If2b00203c7794456cb601399c62b73900ec49a18
"
openstack%2Fproject-config~master~Iafae4acf9fe561277f91ac9c7a2e4e60b9d58c84,openstack/project-config,master,etcd3gw-release-config,Iafae4acf9fe561277f91ac9c7a2e4e60b9d58c84,Adding missing zuul for etcd3gw,MERGED,2021-06-10 14:48:29.000000000,2021-06-29 00:43:21.000000000,2021-06-29 00:43:21.000000000,6,0,0,795824,34b136c75dd2a2f1357f153cfbd68d16f2dcd91e,11,3,3,1,28522,Hervé Beraud,hberaud,"Adding missing zuul for etcd3gw

etcd3gw has been added to the oslo scope few months ago however it was
never released and some elements are missing to allow us to release it.

https://opendev.org/openstack/governance/commit/e90a44648cb2224f9ca5efef6f10ffea963fe6d1

Change-Id: Iafae4acf9fe561277f91ac9c7a2e4e60b9d58c84
"
openstack%2Ftripleo-ansible~stable%2Fussuri~Ibbf7ba3435da8dc9218403df76f0eb86df4374db,openstack/tripleo-ansible,stable/ussuri,BnR_ping_nfs_test-stable/wallaby-stable/victoria-stable/ussuri,Ibbf7ba3435da8dc9218403df76f0eb86df4374db,BnR Test NFS server conectivity & ubi-minimal container image,MERGED,2021-06-28 11:52:54.000000000,2021-06-29 00:42:38.000000000,2021-06-29 00:42:38.000000000,12,3,0,798112,e860091f1ef44369a928f39a6170a58b6eccf9ed,7,3,1,4,22954,Juan Badia Payno,jbadiapa,"BnR Test NFS server conectivity & ubi-minimal container image

When ReaR is configure there is no validation on the NFS server,
this patch adds a simple ping test validation to the NFS server.
The NFS ping test can be disabled with a variable.

This patch also switches from centos-8 to ubi-minimal container.

Change-Id: Ibbf7ba3435da8dc9218403df76f0eb86df4374db
(cherry picked from commit 64932f1bcad982d1e85179149da9f3803b22ea8d)
(cherry picked from commit 8bfee72c8c538d2c5f53cf07eef0e8dcf725901b)
(cherry picked from commit 303936ab3ca7de60e3a59061864ca2477e28f3e4)
"
openstack%2Frequirements~stable%2Fwallaby~I5846531b0553026c0b0ff4b178d69dce65fa1b8a,openstack/requirements,stable/wallaby,fix-zuul-stable/wallaby,I5846531b0553026c0b0ff4b178d69dce65fa1b8a,remove invalid ansible_python_interpreter variable,MERGED,2021-06-28 21:18:29.000000000,2021-06-29 00:37:22.000000000,2021-06-29 00:37:22.000000000,0,2,0,798318,951cf48168607d413fdca3c77132ddc8e1b602a9,8,3,1,1,14288,Matthew Thode,prometheanfire,"remove invalid ansible_python_interpreter variable

Change-Id: I5846531b0553026c0b0ff4b178d69dce65fa1b8a
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Frequirements~stable%2Fvictoria~I5846531b0553026c0b0ff4b178d69dce65fa1b8a,openstack/requirements,stable/victoria,fix-zuul-stable/victoria,I5846531b0553026c0b0ff4b178d69dce65fa1b8a,remove invalid ansible_python_interpreter variable,MERGED,2021-06-28 21:18:47.000000000,2021-06-29 00:37:10.000000000,2021-06-29 00:37:10.000000000,0,2,0,798319,3ae598801c9eb7727b60375b324000a988d26831,9,3,2,1,14288,Matthew Thode,prometheanfire,"remove invalid ansible_python_interpreter variable

Change-Id: I5846531b0553026c0b0ff4b178d69dce65fa1b8a
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Ftripleo-common~master~I9b6cdad78f834c097226bd1681fa2e13791c33aa,openstack/tripleo-common,master,bug/1933850,I9b6cdad78f834c097226bd1681fa2e13791c33aa,Rename hieradata_files result var,MERGED,2021-06-28 15:30:55.000000000,2021-06-28 23:48:24.000000000,2021-06-28 23:47:01.000000000,2,2,0,798343,2118998220805bc34e99dc5875bc6c711939fa5c,11,5,1,1,14985,Alex Schultz,mwhahaha,"Rename hieradata_files result var

This var is used internally in tripleo-ansible tripleo_hieradata role so
the check result is overwriting the variable used to generate hiera.yaml

Closes-Bug: #1933850
Change-Id: I9b6cdad78f834c097226bd1681fa2e13791c33aa
"
openstack%2Fpython-tripleoclient~master~Ib520d5e8366159917076c35cf80efb4b5fcffca6,openstack/python-tripleoclient,master,remove-deprecated-macs-field,Ib520d5e8366159917076c35cf80efb4b5fcffca6,"Drop deprecated ""macs"" field in nodes_json",MERGED,2021-06-18 14:05:11.000000000,2021-06-28 23:48:09.000000000,2021-06-28 23:46:53.000000000,0,2,0,797090,9facf538a994776249c771a9c0d9722d9dad2136,9,4,1,1,24245,Harald Jensås,harald.jensas,"Drop deprecated ""macs"" field in nodes_json

In change I74d4178dbb0cfe8c934ce15e3e7c9bb1c469de10
the ""macs"" field in nodes_json was deprecated and
replaced by the ""ports"" field.

It has been several cycles with a deprecation warning
in the logs. Remove convert_nodes_json_mac_to_ports
use which keept backward compatibility.

Change-Id: Ib520d5e8366159917076c35cf80efb4b5fcffca6
"
openstack%2Ftripleo-heat-templates~master~Ib5ad872110be891273cced723189022eac18ef27,openstack/tripleo-heat-templates,master,deprecate-vpp,Ib5ad872110be891273cced723189022eac18ef27,Deprecate VPP service and Neutron ML2/VPP agent,MERGED,2021-05-20 12:23:48.000000000,2021-06-28 23:34:19.000000000,2021-06-28 23:32:55.000000000,10,3,0,792367,18651160a96632d24291a16803af612221fa61a8,15,6,2,5,19234,Alexey Stupnikov,astupnikov,"Deprecate VPP service and Neutron ML2/VPP agent

VPP service relies on third-party python-fdio project, which wasn't
updated for 3 years: https://git.fd.io/puppet-fdio. Neutron ML2/VPP
services in TripleO were not updated for a while and it looks like
they have no active users.

Change-Id: Ib5ad872110be891273cced723189022eac18ef27
"
openstack%2Fneutron~master~I6e33ff4a7e0cb7864535a0905b5dc197a0aa8a5d,openstack/neutron,master,fix-subport-not-found-message,I6e33ff4a7e0cb7864535a0905b5dc197a0aa8a5d,Correctly label port as SubPort in SubPortNotFound,MERGED,2021-04-29 09:48:38.000000000,2021-06-28 23:23:26.000000000,2021-06-28 21:27:46.000000000,1,1,0,788706,31c0ef9dbe64b6b9fd46bf6ae41d409f774608be,48,5,4,1,30314,Sebastian Lohff,seba,"Correctly label port as SubPort in SubPortNotFound

The SubPortNotFound exception gets the port id of the subport that was
not found. This is now correctly labeled as SubPort, not as parent port
anymore.

Change-Id: I6e33ff4a7e0cb7864535a0905b5dc197a0aa8a5d
"
openstack%2Fpuppet-cinder~stable%2Fussuri~I564528663a3d2f83136b98ed46e09e373a9ad6de,openstack/puppet-cinder,stable/ussuri,,I564528663a3d2f83136b98ed46e09e373a9ad6de,Allow for '-' in volume type property values,MERGED,2021-06-23 06:41:22.000000000,2021-06-28 23:21:04.000000000,2021-06-28 23:21:04.000000000,4,4,0,797569,d0bdfc2fdec0881960692819c179a9b189860e9b,8,3,1,2,25600,Ebbex,ebbex,"Allow for '-' in volume type property values

There's no validation going on (yet) in cinder as to which characters
are allowed in properties. So this change alters the regex to cast a
wide net catching '-' and other possible valid variations.

Also update unit-test to cover this scenario.

Closes-Bug: #1932272
Change-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de
(cherry picked from commit 62899eba67f134a92fb863b5a9b6dcfc3e18aa56)
(cherry picked from commit fee24886422bf1dcdad64da33e022b01b0324fdb)
(cherry picked from commit 9ece2cff0ef9365ff0ee4599a37f010da877ad22)
"
openstack%2Ftripleo-heat-templates~master~I2778336ca58f17b71b9459ab9fe91cf2522e5c7e,openstack/tripleo-heat-templates,master,no-ipxe-enabled,I2778336ca58f17b71b9459ab9fe91cf2522e5c7e,Deprecate IronicIPXEEnabled,MERGED,2021-06-11 04:39:35.000000000,2021-06-28 23:19:57.000000000,2021-06-28 23:18:13.000000000,17,3,0,795922,d2bbc3fbb418b746b0ed622c32542e0aee1aee94,9,4,1,2,4571,Steve Baker,steve-stevebaker,"Deprecate IronicIPXEEnabled

The ironic.conf [pxe] ipxe_enabled was removed from Ironic in Ussuri,
and has also just been removed from puppet-ironic[1]

This change deprecates IronicIPXEEnabled and documents it as having no
effect.

[1] https://review.opendev.org/c/openstack/puppet-ironic/+/789592

Change-Id: I2778336ca58f17b71b9459ab9fe91cf2522e5c7e
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Id3924a027c9bd7865c9fb081a2eda4f8be069a57,openstack/tripleo-heat-templates,stable/victoria,bug/1930151-stable/victoria,Id3924a027c9bd7865c9fb081a2eda4f8be069a57,Always run network config for undercloud,MERGED,2021-06-22 15:09:23.000000000,2021-06-28 23:18:06.000000000,2021-06-28 23:18:06.000000000,1,0,0,797494,c748d92c768ccf59d4579f35f8b14cda142686f2,7,3,1,1,14985,Alex Schultz,mwhahaha,"Always run network config for undercloud

We need to ensure that os-net-config is run on upgrades. On the
undercloud we want the os-net-config to always run so let's set the
NetworkDeploymentAction correctly.

NOTE: Changed Change-Id as we incorrectly early cherry-picked and
and to revert.
Original-Change-Id: I749714c1f0af3787020f3e9b88f752d272b91d37
Change-Id: Id3924a027c9bd7865c9fb081a2eda4f8be069a57
Related-Bug: #1930151
(cherry picked from commit 3b043e4953393c7723553c84cc094a25902cd083)
"
openstack%2Fswift~master~Ida7a0178adc8726dacb0127489e5eea0da6bd519,openstack/swift,master,,Ida7a0178adc8726dacb0127489e5eea0da6bd519,Tests for bufferedhttp,ABANDONED,2021-06-28 21:53:30.000000000,2021-06-28 23:17:26.000000000,,43,0,0,798387,d13f0f40dfc3909d4e019586f53276ddd9a73e17,4,1,1,1,1179,Clay Gerrard,clay-gerrard,"Tests for bufferedhttp

Related-Change-Id: I35b3660f954bcf91aee2698b2c9cc10d5447abc1
Change-Id: Ida7a0178adc8726dacb0127489e5eea0da6bd519
"
openstack%2Fpuppet-cinder~stable%2Fussuri~If08fce9443281e65636aaaa99e3139732435f6f7,openstack/puppet-cinder,stable/ussuri,,If08fce9443281e65636aaaa99e3139732435f6f7,Improve cinder_type properties regex,MERGED,2021-06-23 06:41:22.000000000,2021-06-28 22:59:27.000000000,2021-06-28 22:59:27.000000000,4,4,0,797568,41bf50d0d027437d06d7bdb0368ea6b796bfeaba,8,4,1,2,25600,Ebbex,ebbex,"Improve cinder_type properties regex

This changes the regex for properties managed with
the cinder_type resource so that it supports the
format Cinder needs for multiattach and similar.

  multiattach=<is> True

This patch is needed so that cinder_type resources
can set the above.

See regex testing here [1]. Needs to be backported
to older versions so that cinder_type can be
properly used there as well.

[1] https://regexr.com/5imqk

Change-Id: If08fce9443281e65636aaaa99e3139732435f6f7
(cherry picked from commit a032bec7d6a6016126f667361143e6630e159080)
(cherry picked from commit a3976afb609c9ab19ea802205b7b15e0be37f0ec)
(cherry picked from commit 5782fc7f2d64d981b328c896c305cda4018afe37)
"
openstack%2Fpuppet-openstacklib~stable%2Fstein~Ib2468ef3593ad232ed78488879eb2f63a9023f24,openstack/puppet-openstacklib,stable/stein,stein-tripleo,Ib2468ef3593ad232ed78488879eb2f63a9023f24,Stein only: Remove tripleo job,MERGED,2021-06-27 14:59:45.000000000,2021-06-28 22:51:59.000000000,2021-06-28 22:51:59.000000000,0,1,0,798229,d5e2460e2982ef8b9420d498e3b49ec3c9869e19,12,3,1,1,9816,Takashi Kajinami,kajinamit,"Stein only: Remove tripleo job

... because TripleO is moving its stable/stein to EOL.

Change-Id: Ib2468ef3593ad232ed78488879eb2f63a9023f24
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id3924a027c9bd7865c9fb081a2eda4f8be069a57,openstack/tripleo-heat-templates,stable/train,bug/1930151-stable/train,Id3924a027c9bd7865c9fb081a2eda4f8be069a57,Always run network config for undercloud,MERGED,2021-06-22 15:10:58.000000000,2021-06-28 22:51:27.000000000,2021-06-28 22:51:27.000000000,1,0,0,797495,6ba7307e6a94d2f339b945817cce620d42449fab,7,3,1,1,14985,Alex Schultz,mwhahaha,"Always run network config for undercloud

We need to ensure that os-net-config is run on upgrades. On the
undercloud we want the os-net-config to always run so let's set the
NetworkDeploymentAction correctly.

NOTE: Changed Change-Id as we incorrectly early cherry-picked and
and to revert.
Original-Change-Id: I749714c1f0af3787020f3e9b88f752d272b91d37
Change-Id: Id3924a027c9bd7865c9fb081a2eda4f8be069a57
Related-Bug: #1930151
(cherry picked from commit 3b043e4953393c7723553c84cc094a25902cd083)
"
openstack%2Fpuppet-openstacklib~stable%2Ftrain~Idb5b832d3243fd32b7d48615c7f41f96ce9054b8,openstack/puppet-openstacklib,stable/train,tripleo-tempest-stable/victoria-stable/ussuri-stable/train,Idb5b832d3243fd32b7d48615c7f41f96ce9054b8,TripleO: Do not use an independent content provide job,MERGED,2021-06-27 15:02:25.000000000,2021-06-28 22:46:48.000000000,2021-06-28 22:46:48.000000000,19,1,0,798102,f818022cad511ed8ad38bd2c72ed6a4306a479a1,8,3,2,1,9816,Takashi Kajinami,kajinamit,"TripleO: Do not use an independent content provide job

The tripleo-puppet-standalone template introduces a content provider
job and a subsequent job to use containers built by the content
provider job. This is inefficient because we run only a single tripleo
job.

Change-Id: Idb5b832d3243fd32b7d48615c7f41f96ce9054b8
(cherry picked from commit 49dcf5846765a0ed07e06409ad9a19a851fdc959)
(cherry picked from commit c40038800cb1457f186bfde8697d079315e2719f)
(cherry picked from commit 4c71787841da6336744a4325e1d3d9bc8f2a4a5f)
(cherry picked from commit c06f90366da1ad0674d2c3bbd49cbbd977ca4f26)
"
openstack%2Fpuppet-openstacklib~stable%2Fussuri~Idb5b832d3243fd32b7d48615c7f41f96ce9054b8,openstack/puppet-openstacklib,stable/ussuri,tripleo-tempest-stable/victoria-stable/ussuri,Idb5b832d3243fd32b7d48615c7f41f96ce9054b8,TripleO: Do not use an independent content provide job,MERGED,2021-06-27 15:01:58.000000000,2021-06-28 22:46:45.000000000,2021-06-28 22:46:45.000000000,19,1,0,798101,c06f90366da1ad0674d2c3bbd49cbbd977ca4f26,9,3,2,1,9816,Takashi Kajinami,kajinamit,"TripleO: Do not use an independent content provide job

The tripleo-puppet-standalone template introduces a content provider
job and a subsequent job to use containers built by the content
provider job. This is inefficient because we run only a single tripleo
job.

Change-Id: Idb5b832d3243fd32b7d48615c7f41f96ce9054b8
(cherry picked from commit 49dcf5846765a0ed07e06409ad9a19a851fdc959)
(cherry picked from commit c40038800cb1457f186bfde8697d079315e2719f)
(cherry picked from commit 4c71787841da6336744a4325e1d3d9bc8f2a4a5f)
"
openstack%2Fpuppet-openstacklib~stable%2Fvictoria~Idb5b832d3243fd32b7d48615c7f41f96ce9054b8,openstack/puppet-openstacklib,stable/victoria,tripleo-tempest-stable/victoria,Idb5b832d3243fd32b7d48615c7f41f96ce9054b8,TripleO: Do not use an independent content provide job,MERGED,2021-06-27 15:01:23.000000000,2021-06-28 22:34:54.000000000,2021-06-28 22:34:54.000000000,19,1,0,798100,4c71787841da6336744a4325e1d3d9bc8f2a4a5f,9,3,2,1,9816,Takashi Kajinami,kajinamit,"TripleO: Do not use an independent content provide job

The tripleo-puppet-standalone template introduces a content provider
job and a subsequent job to use containers built by the content
provider job. This is inefficient because we run only a single tripleo
job.

Change-Id: Idb5b832d3243fd32b7d48615c7f41f96ce9054b8
(cherry picked from commit 49dcf5846765a0ed07e06409ad9a19a851fdc959)
(cherry picked from commit c40038800cb1457f186bfde8697d079315e2719f)
"
openstack%2Fproject-config~master~I6125a9c8985847fd957dcb83bf5ea2865bdd2672,openstack/project-config,master,retire-openstack-specs,I6125a9c8985847fd957dcb83bf5ea2865bdd2672,End proejct gating for puppet-openstack-specs,ABANDONED,2021-06-23 21:30:04.000000000,2021-06-28 22:29:29.000000000,,1,0,0,797781,4f80367b554ea6d24fb1abc2d425a3ac66439a70,3,1,1,1,8556,Ghanshyam,ghanshyam,"End proejct gating for puppet-openstack-specs

openstack-specs repo is retired now, so we can retire
puppet-openstack-specs also:

https: //review.opendev.org/q/topic:%22retire-openstack-specs%22+(status:open%20OR%20status:merged)
Change-Id: I6125a9c8985847fd957dcb83bf5ea2865bdd2672
"
openstack%2Fpuppet-tripleo~master~I5f75433dcb0804cfa1f0007bed70f91371105e5a,openstack/puppet-tripleo,master,cinder-keymgr-opts,I5f75433dcb0804cfa1f0007bed70f91371105e5a,Cinder: Include new puppet classes for castellan options,MERGED,2021-05-12 23:52:55.000000000,2021-06-28 22:28:05.000000000,2021-06-28 22:28:05.000000000,14,13,0,791061,44d5d1720d8a021ce7ace686fc84ebf7921b21a3,10,3,2,3,9816,Takashi Kajinami,kajinamit,"Cinder: Include new puppet classes for castellan options

The keymgr_* parameters are deprecated and these parameters will be
completely migrated to cinder::key_manager. This change ensures the new
classes are included.

Depends-on: https://review.opendev.org/772139
Change-Id: I5f75433dcb0804cfa1f0007bed70f91371105e5a
"
openstack%2Ftripleo-heat-templates~master~Icfb9c5c37283f1c94cd870305aa51c9605b901b3,openstack/tripleo-heat-templates,master,bug/1916386,Icfb9c5c37283f1c94cd870305aa51c9605b901b3,Remove or fix outdated/incorrect tripleo hieradata definitions,MERGED,2021-05-13 10:59:52.000000000,2021-06-28 22:27:51.000000000,2021-06-28 22:27:51.000000000,4,13,0,791131,ab9f26b305ce3ee71b51c8d2230171f0574425d3,12,5,1,6,19234,Alexey Stupnikov,astupnikov,"Remove or fix outdated/incorrect tripleo hieradata definitions

- tripleo::profile::base::database::mysql::client_bind_address
  definition was removed. This parameter looks like an artifact
  from Newton release when separate class for client configuration
  tripleo::profile::base::database::mysql::client was introduced.
- tripleo::profile::pacemaker::database::redis_bundle::control_port
  parameter was renamed to
  tripleo::profile::pacemaker::database::redis_bundle::redis_docker_control_port
- tripleo::haproxy::panko definition was removed: related
  puppet-tripleo definition was removed during Ussuri release
  I3ef5c1433691dd31b619e0fdbd5ec433a181ec03
- tripleo::haproxy::ec2_api and tripleo::haproxy::ec2_api_metadata
  parameters were removed: related puppet-tripleo definitons
  were removed during Victoria release
  I9ce13aefb82cbcada5466cd3dddf851cfc51bacc
- multiple tripleo::profile::pacemaker::rabbitmq_bundle::control_port
  parameter definitions were renamed to
  tripleo::profile::pacemaker::rabbitmq_bundle::rabbitmq_docker_control_port

Partial-Bug: #1916386
Change-Id: Icfb9c5c37283f1c94cd870305aa51c9605b901b3
"
openstack%2Ftripleo-heat-templates~master~I8a4c8450914d89ac4148e7c9d3dc2da822ebd5d5,openstack/tripleo-heat-templates,master,glance-keymgr-opts,I8a4c8450914d89ac4148e7c9d3dc2da822ebd5d5,Glance: Update puppet parameters to set castellan options,MERGED,2021-05-13 08:01:25.000000000,2021-06-28 22:27:39.000000000,2021-06-28 22:27:39.000000000,9,3,0,791121,05dbd476193d650a33a8424a66bddbc42a3b226d,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Glance: Update puppet parameters to set castellan options

Depends-on: https://review.opendev.org/772141
Depends-on: https://review.opendev.org/791062
Change-Id: I8a4c8450914d89ac4148e7c9d3dc2da822ebd5d5
"
openstack%2Fcinder~stable%2Fwallaby~I5135a48326f5f7adb0a380b55993660b8b38ce27,openstack/cinder,stable/wallaby,bug/1930748-stable/wallaby,I5135a48326f5f7adb0a380b55993660b8b38ce27,[Pure Storage] Ensure multiattach volumes are not disconnected early,MERGED,2021-06-19 17:19:48.000000000,2021-06-28 22:15:02.000000000,2021-06-28 22:13:29.000000000,52,10,0,797107,ba49980eca359be190d08e81b82ae7d2ed6b7571,17,3,1,3,13425,Simon Dodsley,sdodsley,"[Pure Storage] Ensure multiattach volumes are not disconnected early

Change-Id: I5135a48326f5f7adb0a380b55993660b8b38ce27
Closes-Bug: #1930748
(cherry picked from commit 0c5511f84378e99afabb4c61f2c8330294310707)
"
openstack%2Fgovernance~master~Ia3a00c8794d6fd7a1d5c405d9f93480990c37a72,openstack/governance,master,project-update,Ia3a00c8794d6fd7a1d5c405d9f93480990c37a72,Deprecate OpenStack-Ansible nspawn repositories,MERGED,2021-06-23 17:42:20.000000000,2021-06-28 22:08:26.000000000,2021-06-28 22:07:03.000000000,6,2,3,797731,27051558f1e93e6910a124c914ee70a0d15dff33,15,5,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Deprecate OpenStack-Ansible nspawn repositories

Since nspawn support has been removed with [1] we now
start repositories deprecation process.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/782569

Depends-On: https://review.opendev.org/c/openstack/project-config/+/797727
Change-Id: Ia3a00c8794d6fd7a1d5c405d9f93480990c37a72
"
openstack%2Fproject-config~master~Id4b1a5d6d5e32e92f93b012e0fec5138d405e4b7,openstack/project-config,master,retire-openstack-specs,Id4b1a5d6d5e32e92f93b012e0fec5138d405e4b7,Remove puppet-openstack-specs from infra,MERGED,2021-06-23 21:38:32.000000000,2021-06-28 22:07:13.000000000,2021-06-28 21:17:26.000000000,2,12,1,797784,57464b6ae6c3b59f79759ee95089048fe4fd33cb,12,3,2,4,8556,Ghanshyam,ghanshyam,"Remove puppet-openstack-specs from infra

puppet-openstack-specs repo is retired, this commit remove it
from infra.

- https://review.opendev.org/q/topic:%22retire-openstack-specs%22+(status:open%20OR%20status:merged)

Change-Id: Id4b1a5d6d5e32e92f93b012e0fec5138d405e4b7
"
openstack%2Fironic~master~I25c28df048c706f0c5b013b4d252f09d5a7e57bd,openstack/ironic,master,ramdisk-validate,I25c28df048c706f0c5b013b4d252f09d5a7e57bd,Fix ramdisk boot option handling,MERGED,2021-06-22 17:12:33.000000000,2021-06-28 22:02:44.000000000,2021-06-28 08:27:44.000000000,10,31,2,797517,d7a5b3469cfb5c16e122451e9cd8594d7a7671a1,39,4,2,3,10239,Dmitry Tantsur,dtantsur,"Fix ramdisk boot option handling

The current ramdisk deploy code expects a user to set the boot_option
capability to ""ramdisk"". Not only is it redundant, it's also not
documented, so chances are high nobody has ever done that.

As a side effect of e6bb99cd8ff94a24c3f2108e649c7ca39189d220 boot
interfaces no longer validate kernel/ramdisk/image if boot option
is ""local"". Unless a user explicitly sets boot option to ""ramdisk"",
the validation will be skipped for the ramdisk deploy.

This patch follows the pattern of the anaconda deploy and makes
get_boot_option always return ""ramdisk"" for the ramdisk deploy.

In the future we need to refactor this code so that the deploy interface
provides the boot option it works with, but that is a lot of changes.

Change-Id: I25c28df048c706f0c5b013b4d252f09d5a7e57bd
"
openstack%2Fproject-config~master~I8808e97b832725504d12a8d4f3c41d1311d38a8f,openstack/project-config,master,,I8808e97b832725504d12a8d4f3c41d1311d38a8f,Update Zuul job semaphore usage,MERGED,2021-06-24 20:22:20.000000000,2021-06-28 22:00:25.000000000,2021-06-28 22:00:25.000000000,4,4,0,798021,a8a99116f5ea729170789e93012d4add1213a1e5,8,3,1,1,1,James E. Blair,corvus,"Update Zuul job semaphore usage

The job attribute 'semaphore' is deprecated and replaced with
'semaphores'.

Change-Id: I8808e97b832725504d12a8d4f3c41d1311d38a8f
"
openstack%2Fproject-config~master~Ia88d08e34e6995e43aaf4172877edc11f2ded613,openstack/project-config,master,retire-scientific-wg,Ia88d08e34e6995e43aaf4172877edc11f2ded613,End project gating for retiring scientific-wg repo,MERGED,2021-06-23 20:26:51.000000000,2021-06-28 21:53:12.000000000,2021-06-28 21:12:38.000000000,3,18,0,797745,668345bbe7a4210ecd67198a3afa2a19c9424118,8,3,1,3,8556,Ghanshyam,ghanshyam,"End project gating for retiring scientific-wg repo

As discussed in TC meeting[1], TC is retiring the
scientific-wg repo.

Also updating the ACl for this repo to openstack/retired.config
so that TC can finish the retirement.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: Ia88d08e34e6995e43aaf4172877edc11f2ded613
"
openstack%2Fpuppet-glance~stable%2Fstein~Ib2ebea9823b40c547fe24c751a3e275533397a7e,openstack/puppet-glance,stable/stein,stein-tripleo,Ib2ebea9823b40c547fe24c751a3e275533397a7e,Stein only: Remove tripleo job,MERGED,2021-06-27 14:51:19.000000000,2021-06-28 21:48:55.000000000,2021-06-28 21:48:55.000000000,0,18,0,798218,f5eecf60fce7fa40344d38ac5dc83a01b8d80ab5,10,3,1,1,9816,Takashi Kajinami,kajinamit,"Stein only: Remove tripleo job

... because TripleO is moving its stable/stein to EOL.

Change-Id: Ib2ebea9823b40c547fe24c751a3e275533397a7e
"
openstack%2Ftripleo-specs~master~I6cc71c407e909842642d4266da8f2227d99755d4,openstack/tripleo-specs,master,,I6cc71c407e909842642d4266da8f2227d99755d4,Retarget Scaling with Ansible Inventory spec to Wallaby,ABANDONED,2021-01-18 14:53:43.000000000,2021-06-28 21:47:24.000000000,,0,0,5,771229,f292574c0d1be45be66a98bc97eed3cce25ac9ae,6,3,1,1,7144,James Slagle,slagle,"Retarget Scaling with Ansible Inventory spec to Wallaby

This spec was never fully implemented in Ussuri. Given there is renewed
interest in finishing the work, retarget it towards Wallaby. Given the
timing in the Wallaby cycle, we will likely completely it in the X cycle
and plan to backport as much as possible to Wallaby.

Change-Id: I6cc71c407e909842642d4266da8f2227d99755d4
"
openstack%2Fproject-config~master~I967e96a1ebb3d294aff121e2a8a0ff126ec9e0c1,openstack/project-config,master,retire-uc-recognition,I967e96a1ebb3d294aff121e2a8a0ff126ec9e0c1,Remove uc-recognition from infra,MERGED,2021-06-23 21:07:46.000000000,2021-06-28 21:46:31.000000000,2021-06-28 21:11:57.000000000,0,7,0,797778,ad58188df909c30d55457739c61ea9921d80ca33,10,3,2,2,8556,Ghanshyam,ghanshyam,"Remove uc-recognition from infra

uc-recognition repo is retired, this commit remove it
from infra.

- https://review.opendev.org/q/topic:%22retire-uc-recognition%22+(status:open%20OR%20status:merged)

Change-Id: I967e96a1ebb3d294aff121e2a8a0ff126ec9e0c1
"
openstack%2Fpuppet-mistral~stable%2Fstein~Idff8ac608aee7ed8427dfcb5ed58fbdba30d660d,openstack/puppet-mistral,stable/stein,stein-tripleo,Idff8ac608aee7ed8427dfcb5ed58fbdba30d660d,Stein only: Remove tripleo job,MERGED,2021-06-27 14:52:32.000000000,2021-06-28 21:45:48.000000000,2021-06-28 21:45:48.000000000,0,1,0,798221,23ca466d9b14c5e6d435da6e3233720dc8d9786e,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Stein only: Remove tripleo job

... because TripleO is moving its stable/stein to EOL.

Change-Id: Idff8ac608aee7ed8427dfcb5ed58fbdba30d660d
"
openstack%2Fpuppet-cinder~stable%2Fstein~I19b4350ec0645ab33ddf133befd66fd2ec0ba9eb,openstack/puppet-cinder,stable/stein,stein-tripleo,I19b4350ec0645ab33ddf133befd66fd2ec0ba9eb,Stein only: Remove tripleo job,MERGED,2021-06-27 14:50:00.000000000,2021-06-28 21:44:58.000000000,2021-06-28 21:44:58.000000000,0,21,0,798216,25ecd103e76c69dbf6a2eceba183f86cab4224c9,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Stein only: Remove tripleo job

... because TripleO is moving its stable/stein to EOL.

Change-Id: I19b4350ec0645ab33ddf133befd66fd2ec0ba9eb
"
openstack%2Fcharm-hacluster~master~I5a19440c03f4e559ef3f22f5cb51d4ba911ad550,openstack/charm-hacluster,master,readme-remove-update-ring-content,I5a19440c03f4e559ef3f22f5cb51d4ba911ad550,Remove moved content from README,MERGED,2021-06-11 19:56:28.000000000,2021-06-28 21:43:28.000000000,2021-06-28 21:43:28.000000000,0,22,0,796058,155a213446b03ef78ecf825b59fa0e332add2dcd,7,3,1,1,30561,Peter Matulis,pmatulis,"Remove moved content from README

The content in section 'update-ring action' has been
moved and integrated into a cloud operation in the CDG:
""Scale back an application with hacluster""

Depends-On: I98a687a9ac9a3336ece99a4ecb2a00189453869d
Change-Id: I5a19440c03f4e559ef3f22f5cb51d4ba911ad550
"
openstack%2Fpuppet-heat~stable%2Fstein~I34c3bec203520ce554e1299f1f246c4a3c8b9f0e,openstack/puppet-heat,stable/stein,stein-tripleo,I34c3bec203520ce554e1299f1f246c4a3c8b9f0e,Stein only: Remove tripleo job,MERGED,2021-06-27 14:52:54.000000000,2021-06-28 21:42:41.000000000,2021-06-28 21:42:41.000000000,0,1,0,798222,d65bf76d4f3c8bb8885f69aac03af83e673b8710,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Stein only: Remove tripleo job

... because TripleO is moving its stable/stein to EOL.

Change-Id: I34c3bec203520ce554e1299f1f246c4a3c8b9f0e
"
openstack%2Fcharm-neutron-gateway~master~I1226ee0039cca11dd8c341e0f511de125ae8c633,openstack/charm-neutron-gateway,master,readme-mention-deferred-service-events,I1226ee0039cca11dd8c341e0f511de125ae8c633,Mention deferred service events in README,MERGED,2021-06-14 16:39:45.000000000,2021-06-28 21:40:16.000000000,2021-06-28 21:40:16.000000000,21,0,0,796296,80d390961de2e7139f0b571fa9bd2b87ffedd918,9,3,1,1,30561,Peter Matulis,pmatulis,"Mention deferred service events in README

This is a boilerplate section that will eventually
be added to the README for every charm that supports
the deferred restart feature.

Change-Id: I1226ee0039cca11dd8c341e0f511de125ae8c633
"
openstack%2Fcharm-deployment-guide~master~I5da8dccf967a09e34f2cabe5027506138175ee6c,openstack/charm-deployment-guide,master,cdg-ops,I5da8dccf967a09e34f2cabe5027506138175ee6c,Add operation: scale out nova-compute,MERGED,2021-05-18 16:39:33.000000000,2021-06-28 21:38:54.000000000,2021-06-28 21:37:33.000000000,158,5,0,792011,516f5a66bbf58390fddea5dcd9b8bf4d95242584,16,3,5,3,30561,Peter Matulis,pmatulis,"Add operation: scale out nova-compute

Add a new cloud operation for scaling out nova-compute

Drive-by: Reword the scale-in counterpart operation

Change-Id: I5da8dccf967a09e34f2cabe5027506138175ee6c
"
openstack%2Fcharm-deployment-guide~master~I3fa453c0ce52c463b5a6b6079deb08d8092927f0,openstack/charm-deployment-guide,master,add-note-about-nested-virt,I3fa453c0ce52c463b5a6b6079deb08d8092927f0,Mention possible need for nested virtualisation,MERGED,2021-06-22 16:00:53.000000000,2021-06-28 21:31:28.000000000,2021-06-28 21:30:25.000000000,7,0,1,797503,043cbbca00057e1bc8e8842152be808dc110342b,10,2,2,1,30561,Peter Matulis,pmatulis,"Mention possible need for nested virtualisation

Although the guide assumes physical MAAS nodes add a
note reminding readers about a possible need for
nested virtualisation.

Closes-Bug: #1931579
Change-Id: I3fa453c0ce52c463b5a6b6079deb08d8092927f0
"
openstack%2Fproject-config~master~I338a13d3010210b607675febd71220da01f74e5e,openstack/project-config,master,retire-governance-uc,I338a13d3010210b607675febd71220da01f74e5e,Remove governance-uc from infra,MERGED,2021-06-23 21:05:43.000000000,2021-06-28 21:31:13.000000000,2021-06-28 21:11:52.000000000,0,18,0,797777,3f81edc8df9e90e081441ef6444d065506a03199,13,4,2,3,8556,Ghanshyam,ghanshyam,"Remove governance-uc from infra

governance-uc repo is retired, this commit remove it
from infra.

- https://review.opendev.org/q/topic:%22retire-governance-uc%22+(status:open%20OR%20status:merged)

Change-Id: I338a13d3010210b607675febd71220da01f74e5e
"
openstack%2Fpython-tripleoclient~master~I408560ffbecd145b476aa5205c4fd1c780491d0c,openstack/python-tripleoclient,master,toconstants,I408560ffbecd145b476aa5205c4fd1c780491d0c,Moving the 'export_data' dict into constants,MERGED,2021-06-24 08:35:50.000000000,2021-06-28 21:22:44.000000000,2021-06-28 21:18:35.000000000,22,21,0,797816,2400624bd46cde003287ce0234a5dfb982679dcf,15,9,2,2,32926,Jiri Podivin,jpodivin,"Moving the 'export_data' dict into constants

The 'export_data' variable in the 'tripleoclient.export.export_stack'
is accessed in read-only manner and is used to determine
parameters selected for export.

It is, effectivelly, a constant, but placed within a function
body, without declaration of it's exact contents in the docstrings.

By moving the 'export_data' among constants, we expose the information
about exported parameters, with minimal change to the original code,
as the 'tripleoclient.constants' is already imported by the module.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I408560ffbecd145b476aa5205c4fd1c780491d0c
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I1e4f8dde9f56311bed8dcbe1b08ade09225fd595,openstack/python-tripleoclient,stable/wallaby,network-data-v2-backports,I1e4f8dde9f56311bed8dcbe1b08ade09225fd595,overcloud deploy - provision virtual ips,MERGED,2021-06-21 06:50:52.000000000,2021-06-28 21:21:54.000000000,2021-06-28 21:19:04.000000000,133,35,3,797230,6bc6c92125365580c91f7af999ecb47f418beb26,28,4,4,5,24245,Harald Jensås,harald.jensas,"overcloud deploy - provision virtual ips

When the --vip-file argument provides the vip_data.yaml
provision Virtual IPs and include the deployed network
environment file in user environments.

Conflicts:
  tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py
  tripleoclient/utils.py
  tripleoclient/v1/overcloud_deploy.py

Depends-On: Ia50435c0560ed76791d1859612f625a1b776a8b2
Change-Id: I1e4f8dde9f56311bed8dcbe1b08ade09225fd595
(cherry picked from commit ef077696a0da413cb6038128ea8a0510d9c0e7c3)
"
openstack%2Ftripleo-ansible~master~If7a7414aafe962036ad25c4d5a37b6525cbce634,openstack/tripleo-ansible,master,network-data-v2,If7a7414aafe962036ad25c4d5a37b6525cbce634,Remove 'pre_network' from role 'ansible_playbooks',MERGED,2021-06-14 09:26:13.000000000,2021-06-28 21:21:39.000000000,2021-06-28 21:17:48.000000000,0,1,0,796247,e5584d7eb3c9247d6e1ce4c669ce45597533e188,14,4,1,1,24245,Harald Jensås,harald.jensas,"Remove 'pre_network' from role 'ansible_playbooks'

With Ief11590f3421ffd6fb1b4312c07ce9de48f17c3d all playbooks
are 'pre_network'. Anything post network can be done using
the THT extra config interfaces. Keeping both pre- and post-
network configurastion playbooks in the baremetal workflow
is not neccecary.

Depends-On: https://review.opendev.org/794017
Change-Id: If7a7414aafe962036ad25c4d5a37b6525cbce634
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id74ba956cf29241c93849602ab05c21c1ccb2b06,openstack/tripleo-heat-templates,stable/wallaby,pmd_parameters,Id74ba956cf29241c93849602ab05c21c1ccb2b06,Support for OVS DPDK pmd auto balance parameters.,MERGED,2021-06-25 05:45:32.000000000,2021-06-28 21:21:32.000000000,2021-06-28 21:17:55.000000000,53,0,0,798042,443498e69fb28fb0b889c9850ecceed187df22c7,15,4,1,2,14972,yogananth Subramanian,yogi,"Support for OVS DPDK pmd auto balance parameters.

This patch adds 3 new role specific THT parameters to configure OVS DPDK
pmd auto balance feature, OvsPmdLoadThreshold (PMD load threshold)
OvsPmdImprovementThreshold (variance in PMD improvement threshold)
OvsPmdRebalInterval (minimum time between 2 consecutive
PMD auto load balancing iterations).

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/790251
Signed-off-by: yogananth subramanian <ysubrama@redhat.com>
Change-Id: Id74ba956cf29241c93849602ab05c21c1ccb2b06
(cherry picked from commit ec444622dc2c002386893885378c3f6d8da0b184)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ia50435c0560ed76791d1859612f625a1b776a8b2,openstack/tripleo-heat-templates,stable/wallaby,network-data-v2-stable/wallaby,Ia50435c0560ed76791d1859612f625a1b776a8b2,Add network-v2 default files + vip data examples,MERGED,2021-06-20 14:15:44.000000000,2021-06-28 21:18:45.000000000,2021-06-28 21:18:45.000000000,131,1,2,797196,a154529980cce3df5c335ff39b3d8aea24ae0d1d,20,4,2,6,24245,Harald Jensås,harald.jensas,"Add network-v2 default files + vip data examples

Add a default file for network data and vip data to
use with network-data-v2.

The network data is an empty list, i.e no network
isolation is the default.

The default vip data file keeps one entry for the
ctlplane network, which is the only Virtual IP in
the no network isolation scenarios.

Related-Blueprint: blueprint network-data-v2-ports
Change-Id: Ia50435c0560ed76791d1859612f625a1b776a8b2
(cherry picked from commit be0b91ef564e618ee719d06915cc1dab4624560b)
"
openstack%2Fpuppet-tripleo~master~Idaee3c5fcc90f8107eac7c2ada94c1e5180abce5,openstack/puppet-tripleo,master,metrics-qdr-ssl,Idaee3c5fcc90f8107eac7c2ada94c1e5180abce5,Create SSL certificates from sslProfiles,MERGED,2021-03-29 13:02:59.000000000,2021-06-28 21:18:01.000000000,2021-06-28 21:18:01.000000000,97,1,11,783648,6fd83b96311513f9602117000c4960c03c66409c,85,5,15,3,5241,Martin Magr,mmagr,"Create SSL certificates from sslProfiles

Adds function for transforming SSL certificate/key content values
into path values with creating the appropriate files.

Change-Id: Idaee3c5fcc90f8107eac7c2ada94c1e5180abce5
"
openstack%2Fproject-config~master~I89b78be2072802b7c84be28a633427cb97449eff,openstack/project-config,master,osa/deprecate_nspawn,I89b78be2072802b7c84be28a633427cb97449eff,Remove noop jobs for OpenStack-Ansible nspawn projects,MERGED,2021-06-23 17:26:43.000000000,2021-06-28 21:17:33.000000000,2021-06-28 21:17:33.000000000,0,16,0,797727,5d39be960c20a8837842ef996b4f5fc0f33a8a81,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove noop jobs for OpenStack-Ansible nspawn projects

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-nspawn_hosts/+/797724
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-nspawn_container_create/+/797726
Change-Id: I89b78be2072802b7c84be28a633427cb97449eff
"
openstack%2Fpuppet-octavia~stable%2Ftrain~I985abb8e5dcd6d29e794b200982f8bce99ac316c,openstack/puppet-octavia,stable/train,enable_proxy_headers_parsing-stable/ussuri-stable/train,I985abb8e5dcd6d29e794b200982f8bce99ac316c,Add support for [oslo_middleware] enable_proxy_headers_parsing,MERGED,2021-06-26 02:23:24.000000000,2021-06-28 21:15:18.000000000,2021-06-28 21:13:32.000000000,30,0,0,798097,d6e88fb5399aadae2dceb8e219a239a825609397,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for [oslo_middleware] enable_proxy_headers_parsing

The enable_proxy_haders_parsing parameter was added into Octavia[1] so
that Octavia API can set up the request URL correctly.
This patch adds support for this parameter in octaiva::api module, so
that operators can set it according to their deployment architecture.

[1] https://review.opendev.org/#/c/639736/

Change-Id: I985abb8e5dcd6d29e794b200982f8bce99ac316c
(cherry picked from commit ddc7986e1821303b5a444f993888992cf8a7dcd7)
(cherry picked from commit 4b7ee3307c1158ee610f8503206529ce901f9ae5)
"
openstack%2Fproject-config~master~I1e32e6ffc4a7bca2c185b316e0b4c13820c3946e,openstack/project-config,master,bug/ci_jobs_backend_used,I1e32e6ffc4a7bca2c185b316e0b4c13820c3946e,Make explicit the network backend used in the CI jobs,MERGED,2021-06-22 13:59:13.000000000,2021-06-28 20:58:11.000000000,2021-06-28 20:55:01.000000000,20,20,0,797454,79731fc70df03d787e74037e20a923ddaa475dd6,10,5,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Make explicit the network backend used in the CI jobs

All Neutron CI jobs (except for unit, functional and fullstack jobs),
have explicitly defined the network backend used:
- linuxbridge
- ovs
- ovn

Depends-On: https://review.opendev.org/c/openstack/neutron/+/797051
Change-Id: I1e32e6ffc4a7bca2c185b316e0b4c13820c3946e
"
openstack%2Frequirements~master~I5846531b0553026c0b0ff4b178d69dce65fa1b8a,openstack/requirements,master,fix-zuul,I5846531b0553026c0b0ff4b178d69dce65fa1b8a,remove invalid ansible_python_interpreter variable,MERGED,2021-06-28 17:18:13.000000000,2021-06-28 20:50:32.000000000,2021-06-28 20:48:24.000000000,0,2,0,798361,0f4b2bc959bc8a74228349cb853b4efa84780f85,9,3,1,1,14288,Matthew Thode,prometheanfire,"remove invalid ansible_python_interpreter variable

Change-Id: I5846531b0553026c0b0ff4b178d69dce65fa1b8a
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fdesignate~master~I93cede3371f1ec650adf3b00bf8250457a38f96c,openstack/designate,master,fix_schedulers,I93cede3371f1ec650adf3b00bf8250457a38f96c,Cleanup scheduler,MERGED,2019-09-09 21:48:02.000000000,2021-06-28 20:42:55.000000000,2021-06-28 20:40:54.000000000,53,54,22,681131,44383504519d94730fe712e7d8e300bbc5e21892,110,7,38,6,22623,Erik Olof Gunnar Andersson,eoandersson,"Cleanup scheduler

This patch is not changing any functionality, but instead it is
aimed at cleaning up the scheduler code. It also removes the use
of reserved keywords in the scheduler code.

Change-Id: I93cede3371f1ec650adf3b00bf8250457a38f96c
"
openstack%2Fovn-octavia-provider~master~I8568b84623adabf99c6ec9b1d63fa50d78002799,openstack/ovn-octavia-provider,master,flake8-update,I8568b84623adabf99c6ec9b1d63fa50d78002799,Update to flake8>3.9.0,ABANDONED,2021-06-28 19:43:59.000000000,2021-06-28 20:35:08.000000000,,2,1,0,798375,911030883c1cc7c6e7caed0ab28f00a7f91da02a,3,0,2,2,1131,Brian Haley,brian-haley,"Update to flake8>3.9.0

This avoids a failure when you run 'tox -e pep8' locally
as it pulls-in the correct dependencies:

 flake8.exceptions.PluginRequestedUnknownParameters: ""pycodestyle""
 requested unknown parameters causing 'FileProcessor' object has
 no attribute 'indent_size'

Change-Id: I8568b84623adabf99c6ec9b1d63fa50d78002799
"
openstack%2Fnova~stable%2Fussuri~Ibbb3930a6e629e93a424b3ae048f599f11923be3,openstack/nova,stable/ussuri,native-zuulv3-migration,Ibbb3930a6e629e93a424b3ae048f599f11923be3,[CI] Fix gate by using zuulv3 live migration and grenade jobs,MERGED,2021-06-09 01:20:03.000000000,2021-06-28 19:21:35.000000000,2021-06-28 19:19:31.000000000,253,518,5,795432,341ba7aa175a0a082fec6e5360ae3afa2596ca95,60,4,4,16,4690,melanie witt,melwitt,"[CI] Fix gate by using zuulv3 live migration and grenade jobs

This patch is a combination of several legacy-to-zuulv3 job patches to
unblock the gate: with the latest Ceph release the legacy grenade jobs
started to fail with the following erros (back till ussuri):

'Error EPERM: configuring pool size as 1 is disabled by default.'

The patch contains almost a clean backport of the job configuration.

Conflicts:
    gate/live_migration/hooks/run_tests.sh
    roles/run-evacuate-hook/tasks/main.yaml

NOTE(melwitt): The conflict is because change
I67255fa1b919a27e92028da95d71ddd4bf53edc1 (lower-constraints: Bump
packaging to 20.4) is not in Ussuri.

NOTE(lyarwood): An additional change was required to the
run-evacuate-hook as we are now running against Bionic based hosts.
These hosts only have a single libvirtd service running so stop and
start only this during an evacuation run.

List of included patches:

1. zuul: Start to migrate nova-live-migration to zuulv3

2. zuul: Replace nova-live-migration with zuulv3 jobs

   Closes-Bug: #1901739
   Change-Id: Ib342e2d3c395830b4667a60de7e492d3b9de2f0a
   (cherry picked from commit 4ac4a04d1843b0450e8d6d80189ce3e85253dcd0)
   (cherry picked from commit 478be6f4fbbbc7b05becd5dd92a27f0c4e8f8ef8)

3. zuul: Replace grenade and nova-grenade-multinode with grenade-multinode

   Change-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0
   (cherry picked from commit 91e53e4c2b90ea57aeac4ec522dd7c8c54961d09)
   (cherry picked from commit c45bedd98d50af865d727b7456c974c8e27bff8b)
   (cherry picked from commit 2af08fb5ead8ca1fa4d6b8ea00f3c5c3d26e562c)

Change-Id: Ibbb3930a6e629e93a424b3ae048f599f11923be3
(cherry picked from commit 1c733d973015999ee692ed48fb10a282c50fdc49)
"
openstack%2Fneutron~master~I8b2eb11dfae5bc67ee9c3629f609e4b461e0ad7c,openstack/neutron,master,bug/1933626,I8b2eb11dfae5bc67ee9c3629f609e4b461e0ad7c,Use OVS backend for testing os-ken library,MERGED,2021-06-25 08:45:26.000000000,2021-06-28 19:01:32.000000000,2021-06-28 18:55:31.000000000,3,3,0,798058,b189b0f32284ca5209a9b116953053448ca4a49b,19,3,2,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Use OVS backend for testing os-ken library

Only OVS agent uses os-ken library, makes sense that the CI job
testing it uses this backend.

Closes-Bug: #1933626
Change-Id: I8b2eb11dfae5bc67ee9c3629f609e4b461e0ad7c
"
openstack%2Fglance~master~I8d8f4aaed465486e80be85bc9a5d2c2be7f1ecad,openstack/glance,master,bp/glance-unified-quotas,I8d8f4aaed465486e80be85bc9a5d2c2be7f1ecad,Add unified quotas infrastructure,MERGED,2021-04-26 17:35:46.000000000,2021-06-28 19:01:08.000000000,2021-06-28 18:57:07.000000000,288,2,14,788054,06e6542f153a1ba197361f3f8cb0010c7d2d4285,56,3,15,5,4393,Dan Smith,danms,"Add unified quotas infrastructure

This adds some infrastructure to be able to query and honor limits
declared in keystone. It adds a single initial quota value for the
total size of all active images for bootstrapping the tests.

Checking these values is controlled by a new configuration option
that globally enables and disables the checking, defaulting to
False.

Related to blueprint glance-unified-quotas
Change-Id: I8d8f4aaed465486e80be85bc9a5d2c2be7f1ecad
"
openstack%2Fneutron~master~I036924f13b77dd5957ad5e60b9f536562deb9f05,openstack/neutron,master,neutron_ci_jobs_backend,I036924f13b77dd5957ad5e60b9f536562deb9f05,Make explicit the network backend used in the CI jobs,MERGED,2021-06-18 10:27:04.000000000,2021-06-28 19:00:05.000000000,2021-06-28 18:55:11.000000000,73,43,44,797051,d7ca286e6c82cad056f2879bc43d29aba457c9e0,73,8,7,6,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Make explicit the network backend used in the CI jobs

All Neutron CI jobs (except for unit, functional and fullstack jobs),
have explicitly defined the network backend used:
- linuxbridge
- ovs
- ovn

That was discussed and approved during the Neutron CI meetings [1].

[1]https://meetings.opendev.org/meetings/neutron_ci/2021/neutron_ci.2021-06-15-15.00.log.html

Change-Id: I036924f13b77dd5957ad5e60b9f536562deb9f05
"
openstack%2Fglance~master~Id030b56b721cb62255936d56f0409c4be9ce21d4,openstack/glance,master,bp/glance-unified-quotas,Id030b56b721cb62255936d56f0409c4be9ce21d4,Drop lower-constraints jobs,MERGED,2021-03-24 14:49:01.000000000,2021-06-28 19:00:01.000000000,2021-06-28 18:56:51.000000000,0,146,0,782768,fa1bc2f904d647735365937488cddb27bd830b1b,44,6,10,3,4393,Dan Smith,danms,"Drop lower-constraints jobs

Change-Id: Id030b56b721cb62255936d56f0409c4be9ce21d4
"
openstack%2Frequirements~master~I9bc38c607aace93caa7ba3868cfb279258638a33,openstack/requirements,master,new-release,I9bc38c607aace93caa7ba3868cfb279258638a33,update constraint for oslo.privsep to new release 2.6.0,MERGED,2021-06-28 10:44:38.000000000,2021-06-28 18:59:47.000000000,2021-06-28 18:56:36.000000000,1,1,0,798279,28512fef3745765546e4cc7a373cdb16ea56eefd,8,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.privsep to new release 2.6.0

meta: version: 2.6.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Change-Id: I2a2ee1aae839f1e9de07c0c4554381385e4a5c50
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I9bc38c607aace93caa7ba3868cfb279258638a33
"
openstack%2Fmanila-tempest-plugin~master~Ib3b3148a99812c69476e51cf0609c08fc9c4a9ef,openstack/manila-tempest-plugin,master,tempest-757010,Ib3b3148a99812c69476e51cf0609c08fc9c4a9ef,Add testcase for share metadata,MERGED,2020-10-09 07:11:41.000000000,2021-06-28 18:48:01.000000000,2021-06-28 18:48:01.000000000,10,0,5,757010,184e486190fa5c6d65941f9b1dfadd5a4573b6ae,37,5,8,2,30643,wanglbj,wanglbj,"Add testcase for share metadata

Add get metadata item for share metadata testcase

Change-Id: Ib3b3148a99812c69476e51cf0609c08fc9c4a9ef
"
openstack%2Fopenstack-helm~master~Icce06bf2247591a7b603aa32ded254ce7b6cc67a,openstack/openstack-helm,master,probes,Icce06bf2247591a7b603aa32ded254ce7b6cc67a,Modify default probe timings,MERGED,2021-06-19 00:16:24.000000000,2021-06-28 17:45:46.000000000,2021-06-28 17:44:22.000000000,6,4,0,797169,c1c6cb8300acba58302159226c9cf5dd9f8439e7,9,3,1,3,21420,Gage Hugo,ghugo,"Modify default probe timings

This change modifies the keystone probe timings to be less
aggressive. This should prevent the probes from restarting any
keystone-api pods that are under a high volume of traffic as well
as reduce the amount of log spam.

Change-Id: Icce06bf2247591a7b603aa32ded254ce7b6cc67a
"
openstack%2Fopenstack-helm~master~I1cd3e523301b1aaeb3366288d128e23aae5e0780,openstack/openstack-helm,master,archive-deleted-rows,I1cd3e523301b1aaeb3366288d128e23aae5e0780,Added cronjob for nova which will be cleaning the databases.,MERGED,2021-06-16 17:42:52.000000000,2021-06-28 17:44:19.000000000,2021-06-28 17:42:55.000000000,165,1,1,796717,f3d361d2f7038baa3f1425c4e34d273052b43dcc,23,5,6,6,33130,Susanta gautam,sgautam,"Added cronjob for nova which will be cleaning the databases.

Script has been created with archve_deleted_rows which will run as
cronjob to move the deleted rows from production table to shadow table.

Change-Id: I1cd3e523301b1aaeb3366288d128e23aae5e0780
"
openstack%2Fopenstack-helm-addons~master~I2d84f0e40f6fa989b7984802f103dd96f111c7ea,openstack/openstack-helm-addons,master,shaker,I2d84f0e40f6fa989b7984802f103dd96f111c7ea,Remove shaker chart,MERGED,2021-06-24 19:41:03.000000000,2021-06-28 17:41:22.000000000,2021-06-28 17:33:22.000000000,0,675,0,798012,e9a2bf0159ff488c766793d7d822cc57a5871b4d,12,2,3,14,21420,Gage Hugo,ghugo,"Remove shaker chart

The shaker chart was moved to osh-infra repo, the copy in this
repo can now be deleted.

Change-Id: I2d84f0e40f6fa989b7984802f103dd96f111c7ea
"
openstack%2Fopenstack-helm-infra~master~I976a47a5d68884ffb54a0ddd8ab802d69cecbf44,openstack/openstack-helm-infra,master,auth_order,I976a47a5d68884ffb54a0ddd8ab802d69cecbf44,Use local auth before keystone for s3,MERGED,2021-06-23 14:15:50.000000000,2021-06-28 17:39:43.000000000,2021-06-28 17:38:27.000000000,3,1,2,797659,787e692ea0888a5f7dd973b674b0e70155972cdc,22,8,3,3,32190,Frank Ritchie,fr801x,"Use local auth before keystone for s3

This change is to have RGW use local authentication before Keystone
when both are enabled. This can improve performance:

https://cloudblog.switch.ch/2020/02/10/radosgw-keystone-integration-performance-issues-finally-solved/

Given that we do not duplicate local users in keystone with different
passwords this should be a safe change.

Change-Id: I976a47a5d68884ffb54a0ddd8ab802d69cecbf44
"
openstack%2Ftripleo-common~master~Ib34b3d3b383336e4d74d1b2f9c3ecebf86af05a5,openstack/tripleo-common,master,runner-dirs,Ib34b3d3b383336e4d74d1b2f9c3ecebf86af05a5,Build out runner dir structure,MERGED,2021-06-25 19:45:59.000000000,2021-06-28 17:37:23.000000000,2021-06-28 17:33:05.000000000,29,1,0,798153,ead1f468aba81d652c043d586179a3accd744317,9,4,1,2,14985,Alex Schultz,mwhahaha,"Build out runner dir structure

Built out an AnsibleRunner directory structure[0] in the config download
directory. Additionally this change fixes the create_config_dir function
to actually create the directory. Previously it didn't actually create
the directory and just removed the existing directory if persist flag is
not set.

[0] https://ansible-runner.readthedocs.io/en/stable/intro.html#runner-artifacts-directory-hierarchy

Change-Id: Ib34b3d3b383336e4d74d1b2f9c3ecebf86af05a5
"
openstack%2Fopenstack-helm-infra~master~Ia933420157f456bf99a6ec5416e6dbb63bfa5258,openstack/openstack-helm-infra,master,ssl/certs,Ia933420157f456bf99a6ec5416e6dbb63bfa5258,chore(openssl): updates cert generation,MERGED,2021-06-22 14:30:01.000000000,2021-06-28 17:36:42.000000000,2021-06-28 17:35:21.000000000,4,50,0,797460,00052793dd520da6e958fdd0a4a501588abece9b,23,4,6,1,33519,Tin Lam,tlam,"chore(openssl): updates cert generation

This patch removes the dependency on cfssl to generate certificates and
removes unused constructs in the script.

Change-Id: Ia933420157f456bf99a6ec5416e6dbb63bfa5258
Signed-off-by: Tin Lam <t@lam.wtf>
"
openstack%2Ftripleo-ansible~master~I9e9f9f4e38476d070cac038600f9856cab070787,openstack/tripleo-ansible,master,runner-dirs,I9e9f9f4e38476d070cac038600f9856cab070787,Copy inventory to AnsibleRunner dir,MERGED,2021-06-25 19:53:01.000000000,2021-06-28 17:36:05.000000000,2021-06-28 17:36:05.000000000,15,0,0,798154,aa3209f2a5606e3ce113e34c21d8d00175a96551,8,4,1,1,14985,Alex Schultz,mwhahaha,"Copy inventory to AnsibleRunner dir

Copy the existing tripleo-ansible-inventory.yaml to an AnsibleRunner
friendly location so we can drop the inventory parameter when running
AnsibleRunner

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/798153
Change-Id: I9e9f9f4e38476d070cac038600f9856cab070787
"
openstack%2Ftripleo-common~master~Ifa0842a6e19eedd49b6b76ab87801c9694486303,openstack/tripleo-common,master,tcib-cinder-cleanup,Ifa0842a6e19eedd49b6b76ab87801c9694486303,tcib: clean up cinder packages,MERGED,2021-06-15 18:49:07.000000000,2021-06-28 17:35:53.000000000,2021-06-28 17:32:11.000000000,0,14,2,796531,bc50c25459e3f56990c76f38d38f12a00b69eca1,27,5,3,3,21129,Alan Bishop,ASBishop,"tcib: clean up cinder packages

Prune the list of tcib_packages for cinder services by removing entries
that are already pulled in by other package dependencies.

For the cinder-volume service, the python3-cinderlib package is retained
not because it's required, but because it can be useful in debug
sitations.

Change-Id: Ifa0842a6e19eedd49b6b76ab87801c9694486303
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716,openstack/tripleo-ansible,stable/wallaby,pmd_parameters,Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716,pmd auto balance parameters support in ovs,MERGED,2021-06-25 06:32:23.000000000,2021-06-28 17:35:49.000000000,2021-06-28 17:29:57.000000000,121,0,0,798046,fb3e553cc7754342ae390b0af3d541682678018d,14,4,1,6,14972,yogananth Subramanian,yogi,"pmd auto balance parameters support in ovs

This patch enables the end user to customize PMD load threshold
(pmd-auto-lb-load-threshold), variance improvement threshold
(pmd-auto-lb-improvement-threshold), minimum time between 2 consecutive
PMD auto load balancing iterations(pmd-auto-lb-rebal-interval)
rather than using the default values.

Signed-off-by: yogananth subramanian <ysubrama@redhat.com>
Change-Id: Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716
(cherry picked from commit 4983761dc4f145a4bfa68ddd0b69177bff7ddb6d)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716,openstack/tripleo-ansible,stable/ussuri,pmd_parameters,Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716,pmd auto balance parameters support in ovs,MERGED,2021-06-25 06:58:11.000000000,2021-06-28 17:35:45.000000000,2021-06-28 17:29:30.000000000,121,0,0,798050,afb8fd8ab9404bfc4fb066583bf2e341415a471f,9,4,1,6,14972,yogananth Subramanian,yogi,"pmd auto balance parameters support in ovs

This patch enables the end user to customize PMD load threshold
(pmd-auto-lb-load-threshold), variance improvement threshold
(pmd-auto-lb-improvement-threshold), minimum time between 2 consecutive
PMD auto load balancing iterations(pmd-auto-lb-rebal-interval)
rather than using the default values.

Signed-off-by: yogananth subramanian <ysubrama@redhat.com>
Change-Id: Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716
(cherry picked from commit 4983761dc4f145a4bfa68ddd0b69177bff7ddb6d)
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716,openstack/tripleo-ansible,stable/victoria,pmd_parameters,Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716,pmd auto balance parameters support in ovs,MERGED,2021-06-25 06:48:08.000000000,2021-06-28 17:35:42.000000000,2021-06-28 17:29:39.000000000,121,0,0,798048,bbe8e203736fe859c4813ac2425649ce4c90b1ff,9,4,1,6,14972,yogananth Subramanian,yogi,"pmd auto balance parameters support in ovs

This patch enables the end user to customize PMD load threshold
(pmd-auto-lb-load-threshold), variance improvement threshold
(pmd-auto-lb-improvement-threshold), minimum time between 2 consecutive
PMD auto load balancing iterations(pmd-auto-lb-rebal-interval)
rather than using the default values.

Signed-off-by: yogananth subramanian <ysubrama@redhat.com>
Change-Id: Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716
(cherry picked from commit 4983761dc4f145a4bfa68ddd0b69177bff7ddb6d)
"
openstack%2Fpython-tripleoclient~master~I2fa073863f2d292575ee1dbdc0da271434f219f6,openstack/python-tripleoclient,master,network-v2,I2fa073863f2d292575ee1dbdc0da271434f219f6,"Option to disable Node, Net and VIP provisioning",MERGED,2021-06-24 16:30:24.000000000,2021-06-28 17:35:40.000000000,2021-06-28 17:32:43.000000000,17,6,0,797978,952eb85a5578230c670d2076371b7363a8e4d0f3,9,4,1,1,24245,Harald Jensås,harald.jensas,"Option to disable Node, Net and VIP provisioning

Add an option '--skip-nodes-and-networks', when this
is set the _provision_networks, _provision_virtual_ips
and _provision_baremetal steps will be skipped.

Change-Id: I2fa073863f2d292575ee1dbdc0da271434f219f6
"
openstack%2Fvalidations-common~master~I82f68c1d78605e5b48df3d16461e4875d34890d0,openstack/validations-common,master,VALIDATION_DEVELOPMENT_WORKFLOW,I82f68c1d78605e5b48df3d16461e4875d34890d0,Allow comments in variable files to be rendered in docs,MERGED,2021-06-23 12:37:23.000000000,2021-06-28 17:35:34.000000000,2021-06-28 17:30:00.000000000,98,79,1,797632,cfd708aba1d9818094191f304b2414b47785b382,13,6,3,2,11491,Gael Chamoulaud,gchamoul,"Allow comments in variable files to be rendered in docs

This change will allow all comments in our variable files to be rendered
normally within our documentation. This will allow folks reading our
documentation to benefit from information we may put in the various
files.

This patch adds ruamel.yaml as new dependency for building documentation
and we won't need to include a README.md file into the documentation
role index anymore.

Co-Authored-By: Kevin Carter <kecarter@redhat.com>

Change-Id: I82f68c1d78605e5b48df3d16461e4875d34890d0
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If11e2fc07a1ff773f6eaf209d8b48493f0b60e85,openstack/tripleo-heat-templates,stable/wallaby,ephemeral-heat-stable/wallaby,If11e2fc07a1ff773f6eaf209d8b48493f0b60e85,Add OS::TripleO::UndercloudUpgradeEphemeralHeat,MERGED,2021-06-09 17:03:44.000000000,2021-06-28 17:35:18.000000000,2021-06-28 17:31:59.000000000,323,2,0,795471,71223f9ee886db3584ce781999ffb071afcbfd48,9,4,1,7,7144,James Slagle,slagle,"Add OS::TripleO::UndercloudUpgradeEphemeralHeat

A new service, OS::TripleO::Services::UndercloudUpgradeEphemeralHeat is
added to the Undercloud role. The service is mapped to OS::Heat::None by
default, but when environments/lifecycle/undercloud-upgrade-prepare.yaml
is included, the service will be enabled and will migrate any already
deployed stacks in the undercloud's Heat instance to be able to be used
with the ephemeral Heat deployment option from tripleoclient.

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: If11e2fc07a1ff773f6eaf209d8b48493f0b60e85
(cherry picked from commit b252d45739a9e359a005dfb911dc38d516df4675)
"
openstack%2Ftripleo-heat-templates~master~I3e7532e0e33326f1e4ff8f59bafe41d8582abd03,openstack/tripleo-heat-templates,master,horizon-plugins-env,I3e7532e0e33326f1e4ff8f59bafe41d8582abd03,Remove ENABLE_* environment about puglins not installed,MERGED,2021-06-04 14:18:15.000000000,2021-06-28 17:32:48.000000000,2021-06-28 17:32:48.000000000,2,21,2,794835,0bb24e11e7ce15041e55a6aed190a63a8c717220,10,4,2,1,9816,Takashi Kajinami,kajinamit,"Remove ENABLE_* environment about puglins not installed

Currently we maintain list of installed plugins and not installed
plugins in horizon template but the list has some incorrect/invalid
items. Futhermore kolla sets ENABLE_* to no by default unless
the environments are explicitly set so there is no need to maintain
""uninstalled"" items.

This change simplifies the list of plugins to include only installed
and enabled plugins.

Change-Id: I3e7532e0e33326f1e4ff8f59bafe41d8582abd03
"
openstack%2Ftripleo-common~master~I8b5ad48920db4311bf6a63d61fc486446bef8c22,openstack/tripleo-common,master,bp/whole-disk-default,I8b5ad48920db4311bf6a63d61fc486446bef8c22,Add missing ipa images to overcloud-hardened-images-uefi,MERGED,2021-06-23 21:24:10.000000000,2021-06-28 17:32:21.000000000,2021-06-28 17:32:21.000000000,39,4,0,797780,1a96493a23fd7fb4c4df3537b6383137c44c1336,8,4,1,3,4571,Steve Baker,steve-stevebaker,"Add missing ipa images to overcloud-hardened-images-uefi

CI jobs which build images will include a config file then run the
command to build all images. This means that
overcloud-hardened-images-uefi needs to do the same thing as
overcloud-full, and have the image definition for ironic-python-agent
as well as overcloud-hardened-uefi-full.

Without this change the ironic-python-agent image won't be built and
the CI job will fail.

Blueprint: whole-disk-default
Change-Id: I8b5ad48920db4311bf6a63d61fc486446bef8c22
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127,openstack/tripleo-ansible,stable/wallaby,change_tasks_names-stable/wallaby,I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127,More descriptive task names,MERGED,2021-06-22 07:30:32.000000000,2021-06-28 17:32:16.000000000,2021-06-28 17:32:16.000000000,3,3,0,797398,d3e2068b7979a2140a50e972aa813757d361ce7e,8,4,1,2,32968,Juan Larriba,jlarriba,"More descriptive task names

As highlighted by marios on [1] and [2] the task names were
not descriptive of what it was being done, as it implied that some kind
of verification was being done.

This patch does not change any functionality, but it changes the names
of the tasks to something more according to what it is being done.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml
[2] https://review.opendev.org/c/openstack/tripleo-ansible/+/791450/12/tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml

Change-Id: I19445ffd1c8d35972fbf8ea3da4a9fbe599f6127
(cherry picked from commit 138f9f6708546cf17f28334be93ee2acc3fbf9a8)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Id17f69c714dec75ec48862f6f0cf900fae5e7c30,openstack/tripleo-ansible,stable/wallaby,cephadm_distribute_keyring-stable/wallaby,Id17f69c714dec75ec48862f6f0cf900fae5e7c30,Add tripleo_ceph_distribute_keys role,MERGED,2021-06-28 06:46:08.000000000,2021-06-28 17:31:55.000000000,2021-06-28 17:31:55.000000000,309,0,0,798105,a7e2e33907dd71e56071e704af76a442a1cee064,10,6,1,11,25402,Francesco Pantano,fmount,"Add tripleo_ceph_distribute_keys role

The nodes having an _admin label should be able to interact with
the ceph cluster using the ceph.client.admin keyring. This label
is typically added to the mon/mgr group, but they need the admin
keyring to run any ceph command (via cephadm shell or any other
client tool).
This change just adds a new role to properly distribute the admin
keyring right after the ceph cluster is deployed, and improves the
cephadm.yaml playbook to include this action.

Change-Id: Id17f69c714dec75ec48862f6f0cf900fae5e7c30
(cherry picked from commit 0f40d4b4392fbb8e80dc09b48dd4bfaf4aebf12a)
"
openstack%2Ftripleo-heat-templates~master~If962b8250fcbe206713bdd7628beb4d7c1e89c07,openstack/tripleo-heat-templates,master,aodh-service_credentials,If962b8250fcbe206713bdd7628beb4d7c1e89c07,Clean up usage of the deprecated aodh::auth class,MERGED,2021-03-11 07:49:00.000000000,2021-06-28 17:31:23.000000000,2021-06-28 17:31:23.000000000,0,4,0,779914,4f2884ff60b42b868f04fbfc6dc3ca5c3336d6fb,18,5,3,1,9816,Takashi Kajinami,kajinamit,"Clean up usage of the deprecated aodh::auth class

Depends-on: https://review.opendev.org/772694
Depends-on: https://review.opendev.org/773252
Change-Id: If962b8250fcbe206713bdd7628beb4d7c1e89c07
"
openstack%2Fpuppet-tripleo~master~I394ac5520504650d122b148f661a0104d35c29a9,openstack/puppet-tripleo,master,aodh-service_credentials,I394ac5520504650d122b148f661a0104d35c29a9,Replace the deprecated aodh::auth class,MERGED,2021-01-31 00:47:14.000000000,2021-06-28 17:31:07.000000000,2021-06-28 17:31:07.000000000,6,6,0,773252,f37376490a4907fee85108a27cc9bbf8bf688ca8,20,4,4,3,9816,Takashi Kajinami,kajinamit,"Replace the deprecated aodh::auth class

... by the new aodh::service_credentials class.

Depends-on: https://review.opendev.org/772694
Depends-on: https://review.opendev.org/779884
Change-Id: I394ac5520504650d122b148f661a0104d35c29a9
"
openstack%2Ftripleo-heat-templates~master~I2fd0d51f9206f6545b1d6f2552c2e57238a6d52d,openstack/tripleo-heat-templates,master,aodh-service_credentials,I2fd0d51f9206f6545b1d6f2552c2e57238a6d52d,Set hieradata for the aodh::service_credentials class,MERGED,2021-03-11 00:58:15.000000000,2021-06-28 17:30:45.000000000,2021-06-28 17:30:45.000000000,6,0,2,779884,2e9900e81f58dadc4aa6fafc3b3ed69ccc5d6bf7,28,6,5,1,9816,Takashi Kajinami,kajinamit,"Set hieradata for the aodh::service_credentials class

This is a prep work to replace the deperecated aodh::auth class by
the new aodh::service_credentials class. The remaining hieradata for
the aodh::auth class will be removed later.

Depends-on: https://review.opendev.org/772694
Change-Id: I2fd0d51f9206f6545b1d6f2552c2e57238a6d52d
"
openstack%2Fpuppet-tripleo~master~I11e53615b90e052ebc39f70a7699414a8b82cc28,openstack/puppet-tripleo,master,,I11e53615b90e052ebc39f70a7699414a8b82cc28,Add audit middleware to Swift proxy pipeline,MERGED,2019-08-30 10:25:40.000000000,2021-06-28 17:30:27.000000000,2021-06-28 17:30:27.000000000,13,0,0,679417,a4803b26a0b3b992823ebbc31c0693051dcae1cb,25,7,4,2,6968,Christian Schwede,cschwede,"Add audit middleware to Swift proxy pipeline

Depends-On: Ifa4e2ed894844ab1c7501f8edc18e55a9dea7e61
Change-Id: I11e53615b90e052ebc39f70a7699414a8b82cc28
"
openstack%2Fpuppet-tripleo~master~Ia98657707adb9c9ec8e0bb7b01931e2bc4997e1d,openstack/puppet-tripleo,master,bug/1930266,Ia98657707adb9c9ec8e0bb7b01931e2bc4997e1d,haproxy: Enable httplog for all http endpoints,MERGED,2021-05-31 12:08:49.000000000,2021-06-28 17:30:17.000000000,2021-06-28 17:30:17.000000000,25,19,4,793777,1a0b513423c378cc13ec982e5cb07ac87f0821e3,22,5,3,1,9816,Takashi Kajinami,kajinamit,"haproxy: Enable httplog for all http endpoints

Currently some http endpoints like glance don't have httplog enabled
thus all access logs in haproxy doesn't include L7 information but only
L4 information.
This change ensures that httplog is enabled for all http endpoints so
that L7 infomation is recorded in haproxy.log.

Closes-Bug: #1930266
Change-Id: Ia98657707adb9c9ec8e0bb7b01931e2bc4997e1d
"
openstack%2Fpuppet-tripleo~master~Ida113dbb250c7a2972a0faf163539e370fa5bda6,openstack/puppet-tripleo,master,bug/1930600,Ida113dbb250c7a2972a0faf163539e370fa5bda6,haproxy: Use httpchk instead of tcpchk for heat endpoints,MERGED,2021-06-02 15:53:51.000000000,2021-06-28 17:30:05.000000000,2021-06-28 17:30:05.000000000,1,1,6,794259,06f663d6a02fc3ba59890fd0e8b26d21285e4545,16,5,1,1,9816,Takashi Kajinami,kajinamit,"haproxy: Use httpchk instead of tcpchk for heat endpoints

The following change[1] introduced the tcpka option for heat endpoints
but at the same time removed default options including httchk. This
removal switched healthcheck for heat endpoints from httpchk to tcpchk.
Because heat endpoints accepts http requests, httpchk allows more
detailed healthcheck to ensure that heat can handle http requests.
This change restores the httpchk option so that http requests are used
for healthcheck.

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/735541

Closes-Bug: #1930600
Change-Id: Ida113dbb250c7a2972a0faf163539e370fa5bda6
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iba6a0da80cb75a93537a014dba8e77032101e570,openstack/tripleo-heat-templates,stable/train,rsyslog-reopen-on-truncate-train,Iba6a0da80cb75a93537a014dba8e77032101e570,Add option for enabling rsyslog reopenOnTruncate,MERGED,2021-06-23 12:22:44.000000000,2021-06-28 17:29:25.000000000,2021-06-28 17:29:25.000000000,8,2,0,797577,e2dc75ea53409411741ba9da845f82adc753f002,19,4,1,1,31510,Paul Leimer,pleimer,"Add option for enabling rsyslog reopenOnTruncate

reopenOnTruncate ensures rsyslog immediately recognizes when a logrotation happens on a file. When not on, rsyslog will wait for a log file to fill to its original capacity before consuming any additional logs.

Setting this here will ensure that every service configured to work with rsyslog will have this parameter. Default to off because this is an experimental feature

(cherry picked from commit 50ed57fd0cb81c90fe218e8bbc3ec8c19485cfe1)
Change-Id: Iba6a0da80cb75a93537a014dba8e77032101e570
"
openstack%2Fopenstack-helm-addons~master~Ifb2f09d82ee02a9a94e46f595d9dfda55e3691d4,openstack/openstack-helm-addons,master,,Ifb2f09d82ee02a9a94e46f595d9dfda55e3691d4,docs: Update Freenode to OFTC,MERGED,2021-06-02 02:16:08.000000000,2021-06-28 17:19:03.000000000,2021-06-28 17:12:44.000000000,4,3,0,794083,e678baf6cf3f63aa2dd41e9dec8009109f354257,19,6,4,2,30449,jinyuanliu,jinyuanliu,"docs: Update Freenode to OFTC

http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022780.html
Change-Id: Ifb2f09d82ee02a9a94e46f595d9dfda55e3691d4
"
openstack%2Fopenstacksdk~master~Ia7d7c88eb55307296336e2f04a00e92bdca6f8ae,openstack/openstacksdk,master,shared-file-system,Ia7d7c88eb55307296336e2f04a00e92bdca6f8ae,Add share resource to shared file system,ABANDONED,2021-02-15 21:09:54.000000000,2021-06-28 17:04:12.000000000,,434,4,73,775707,b189e3d913cd56a3ee6192741b78b66430ad4f46,46,5,12,8,32594,Ashley Rodriguez,ashrod98,"Add share resource to shared file system

Introduce Shares class with basic methods
including list, create, delete, get and update to
shared file system storage service.

[1] https://tree.taiga.io/project/ashrod98-openstacksdk-manila-support/us/11?kanban-status=2360120

Change-Id: Ia7d7c88eb55307296336e2f04a00e92bdca6f8ae
"
openstack%2Fpuppet-horizon~stable%2Fstein~I1fc7cca93b5e8f58653e4f7e6531c5315aa4f8c1,openstack/puppet-horizon,stable/stein,stein-tripleo,I1fc7cca93b5e8f58653e4f7e6531c5315aa4f8c1,Stein only: Remove tripleo job,MERGED,2021-06-27 14:56:15.000000000,2021-06-28 17:01:58.000000000,2021-06-28 17:01:58.000000000,0,19,0,798227,8e2af33674ec3bfcaeced05e026afb60c111e2c8,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Stein only: Remove tripleo job

... because TripleO is moving its stable/stein to EOL.

Change-Id: I1fc7cca93b5e8f58653e4f7e6531c5315aa4f8c1
"
openstack%2Fpuppet-neutron~stable%2Fstein~I2b443a6113e94b25c5cbc1f70431dada89ba69af,openstack/puppet-neutron,stable/stein,stein-tripleo,I2b443a6113e94b25c5cbc1f70431dada89ba69af,Stein only: Remove tripleo job,MERGED,2021-06-27 14:53:19.000000000,2021-06-28 17:01:12.000000000,2021-06-28 17:01:12.000000000,0,19,0,798223,471738d1c6230c67726311f33505dd8c072888f7,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Stein only: Remove tripleo job

... because TripleO is moving its stable/stein to EOL.

Change-Id: I2b443a6113e94b25c5cbc1f70431dada89ba69af
"
openstack%2Fpuppet-zaqar~stable%2Fstein~I02f1b3cea8e36c21f5361fe41db957acc3ff94ed,openstack/puppet-zaqar,stable/stein,stein-tripleo,I02f1b3cea8e36c21f5361fe41db957acc3ff94ed,Stein only: Remove tripleo job,MERGED,2021-06-27 14:52:12.000000000,2021-06-28 16:59:24.000000000,2021-06-28 16:59:24.000000000,0,1,0,798220,ed847e7c9e7fb76f33007fc4e5351249453f2768,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Stein only: Remove tripleo job

... because TripleO is moving its stable/stein to EOL.

Change-Id: I02f1b3cea8e36c21f5361fe41db957acc3ff94ed
"
openstack%2Fopenstack-ansible-openstack_hosts~master~Icb13a09838b455048df103909a1304ff1c583469,openstack/openstack-ansible-openstack_hosts,master,,Icb13a09838b455048df103909a1304ff1c583469,Drop CentOS overrides for systemd version,MERGED,2021-06-23 09:09:59.000000000,2021-06-28 16:56:52.000000000,2021-06-28 16:55:40.000000000,0,36,0,797610,c9444000a5c762c36bfd60959ca799a9a9a675b3,12,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Drop CentOS overrides for systemd version

Partially reverts: I3fb3080c69307b38e21735d431b55eefa221f12c

Change-Id: Icb13a09838b455048df103909a1304ff1c583469
"
openstack%2Fpuppet-swift~stable%2Fstein~Ia5a50b9e75985b8d1aa2911355f1bc9edc331dc9,openstack/puppet-swift,stable/stein,stein-tripleo,Ia5a50b9e75985b8d1aa2911355f1bc9edc331dc9,Stein only: Remove tripleo job,MERGED,2021-06-27 14:56:53.000000000,2021-06-28 16:53:54.000000000,2021-06-28 16:53:54.000000000,0,18,0,798228,2061a76a1dec45e46e827790c279d03a44ab3bff,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Stein only: Remove tripleo job

... because TripleO is moving its stable/stein to EOL.

Change-Id: Ia5a50b9e75985b8d1aa2911355f1bc9edc331dc9
"
openstack%2Fpuppet-keystone~stable%2Fstein~I541333fcc2878e79dda1494727653704f40d4673,openstack/puppet-keystone,stable/stein,stein-tripleo,I541333fcc2878e79dda1494727653704f40d4673,Stein only: Remove tripleo job,MERGED,2021-06-27 14:53:42.000000000,2021-06-28 16:50:33.000000000,2021-06-28 16:50:33.000000000,0,20,0,798224,3bded1dba0b3be004e254c7ba023eec1788bd565,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Stein only: Remove tripleo job

... because TripleO is moving its stable/stein to EOL.

Change-Id: I541333fcc2878e79dda1494727653704f40d4673
"
openstack%2Fopenstack-helm-infra~master~I133d6d30d4a68628ee516f5896780cc8096ffd1f,openstack/openstack-helm-infra,master,,I133d6d30d4a68628ee516f5896780cc8096ffd1f,Uplift ingress to 0.42.0,MERGED,2021-06-08 12:05:44.000000000,2021-06-28 16:49:31.000000000,2021-06-28 16:46:55.000000000,18,3,0,795305,2e80509e0fb1f9827712e73d0246324c4fc741fc,17,5,3,4,30449,jinyuanliu,jinyuanliu,"Uplift ingress to 0.42.0

- Uplifts the image to nginx 0.42.0 to address CVEs
- Adds labels needed for nginx 0.42.0
- Updates release notes for ingress

Change-Id: I133d6d30d4a68628ee516f5896780cc8096ffd1f
"
openstack%2Fopenstack-helm-infra~master~I5f82e96f2aa274379b6d808291d4b5109709bf72,openstack/openstack-helm-infra,master,,I5f82e96f2aa274379b6d808291d4b5109709bf72,kafka broker hosts should be defined with a comma separated list,MERGED,2021-06-25 13:47:49.000000000,2021-06-28 16:48:16.000000000,2021-06-28 16:46:49.000000000,3,2,0,798090,0ecb9bf288e725a9f65d162afc74c49a4f85e38d,13,6,3,3,27499,David Smith,smithd,"kafka broker hosts should be defined with a comma separated list

The broker attribute should use a comma separated list with the port
definition included

Example: kafka1:9092,kafka2:9092,kafka:9092

The kafka client will connect to the first available host this
will provide resiliency if a host is not available

Change-Id: I5f82e96f2aa274379b6d808291d4b5109709bf72
"
openstack%2Fironic-python-agent~stable%2Ftrain~I6eb5981d28b9ae368239af0c1d0ec32ff79d95b3,openstack/ironic-python-agent,stable/train,,I6eb5981d28b9ae368239af0c1d0ec32ff79d95b3,Fix getting memory size in some lshw output,MERGED,2021-06-25 22:30:39.000000000,2021-06-28 16:43:20.000000000,2021-06-28 16:40:25.000000000,210,7,0,798173,3aa76b4bbbcf94193f353dd5151d493918c553eb,8,4,1,3,11655,Julia Kreger,jkreger,"Fix getting memory size in some lshw output

Due to a regression in lshw introduced by
https://github.com/lyonel/lshw/pull/60, there are some versions in the
wild that do not return sizes for memory banks <32GiB. In those cases,
work around the problem by looking at the top-level size (if available)
to find the total size. Previously we assumed that we only needed the
top-level size when there was no list of memory banks.

The issue is fixed upstream by https://github.com/lyonel/lshw/pull/65,
but the erroneous patch is still present in the lshw-B.02.19.2-5.el8
package in CentOS 8.4 and 8.5.

Note from Backport to Victoria branch:
The stable test data was moved sometime during the Wallaby development
cycle to a separate file, where as in Victoria and earlier, it is based
in the test file itself. The required content was moved into the test
file in line with where it was in the later versions.

Change-Id: I6eb5981d28b9ae368239af0c1d0ec32ff79d95b3
Story: #2008865
Task: 42395
(cherry picked from commit ed791d97786f4ed37bf7b9f18eac8e2af46c3766)
(cherry picked from commit bae3aec172df5b6ca9d609f29ea9feb9f6d11f13)
(cherry picked from commit 97ce08d039099f569c48a2348c784e71e3693829)
(cherry picked from commit 746f65bd8481aac32abb12768590e809697449e4)
"
openstack%2Fironic-python-agent~stable%2Fussuri~I6eb5981d28b9ae368239af0c1d0ec32ff79d95b3,openstack/ironic-python-agent,stable/ussuri,,I6eb5981d28b9ae368239af0c1d0ec32ff79d95b3,Fix getting memory size in some lshw output,MERGED,2021-06-25 22:27:22.000000000,2021-06-28 16:43:03.000000000,2021-06-28 16:40:10.000000000,210,7,0,798171,746f65bd8481aac32abb12768590e809697449e4,8,4,1,3,11655,Julia Kreger,jkreger,"Fix getting memory size in some lshw output

Due to a regression in lshw introduced by
https://github.com/lyonel/lshw/pull/60, there are some versions in the
wild that do not return sizes for memory banks <32GiB. In those cases,
work around the problem by looking at the top-level size (if available)
to find the total size. Previously we assumed that we only needed the
top-level size when there was no list of memory banks.

The issue is fixed upstream by https://github.com/lyonel/lshw/pull/65,
but the erroneous patch is still present in the lshw-B.02.19.2-5.el8
package in CentOS 8.4 and 8.5.

Note from Backport to Victoria branch:
The stable test data was moved sometime during the Wallaby development
cycle to a separate file, where as in Victoria and earlier, it is based
in the test file itself. The required content was moved into the test
file in line with where it was in the later versions.

Change-Id: I6eb5981d28b9ae368239af0c1d0ec32ff79d95b3
Story: #2008865
Task: 42395
(cherry picked from commit ed791d97786f4ed37bf7b9f18eac8e2af46c3766)
(cherry picked from commit bae3aec172df5b6ca9d609f29ea9feb9f6d11f13)
(cherry picked from commit 97ce08d039099f569c48a2348c784e71e3693829)
"
openstack%2Fironic-python-agent~stable%2Fvictoria~I6eb5981d28b9ae368239af0c1d0ec32ff79d95b3,openstack/ironic-python-agent,stable/victoria,,I6eb5981d28b9ae368239af0c1d0ec32ff79d95b3,Fix getting memory size in some lshw output,MERGED,2021-06-25 22:22:11.000000000,2021-06-28 16:42:00.000000000,2021-06-28 16:39:55.000000000,210,7,0,798168,97ce08d039099f569c48a2348c784e71e3693829,8,4,1,3,11655,Julia Kreger,jkreger,"Fix getting memory size in some lshw output

Due to a regression in lshw introduced by
https://github.com/lyonel/lshw/pull/60, there are some versions in the
wild that do not return sizes for memory banks <32GiB. In those cases,
work around the problem by looking at the top-level size (if available)
to find the total size. Previously we assumed that we only needed the
top-level size when there was no list of memory banks.

The issue is fixed upstream by https://github.com/lyonel/lshw/pull/65,
but the erroneous patch is still present in the lshw-B.02.19.2-5.el8
package in CentOS 8.4 and 8.5.

Note from Backport to Victoria branch:
The stable test data was moved sometime during the Wallaby development
cycle to a separate file, where as in Victoria and earlier, it is based
in the test file itself. The required content was moved into the test
file in line with where it was in the later versions.

Change-Id: I6eb5981d28b9ae368239af0c1d0ec32ff79d95b3
Story: #2008865
Task: 42395
(cherry picked from commit ed791d97786f4ed37bf7b9f18eac8e2af46c3766)
(cherry picked from commit bae3aec172df5b6ca9d609f29ea9feb9f6d11f13)
"
openstack%2Fironic-python-agent~stable%2Ftrain~I5ab98b6450ff45dff35ddae093a83140f37047a8,openstack/ironic-python-agent,stable/train,,I5ab98b6450ff45dff35ddae093a83140f37047a8,Add function to calculate memory,MERGED,2021-06-25 22:30:39.000000000,2021-06-28 16:41:56.000000000,2021-06-28 16:40:20.000000000,22,16,0,798172,0c230a6f09d436d1e9751c398527ca552c31fa9b,8,4,1,1,11655,Julia Kreger,jkreger,"Add function to calculate memory

Move logic to calculate memory to its own function.

Change-Id: I5ab98b6450ff45dff35ddae093a83140f37047a8
(cherry picked from commit 2738e57f2a6cacd44cf78331d6d77f3ae9f6a254)
(cherry picked from commit e03d80d572c173aed66dcc10909b4df684e1c76b)
"
openstack%2Fironic-python-agent~stable%2Fussuri~I5ab98b6450ff45dff35ddae093a83140f37047a8,openstack/ironic-python-agent,stable/ussuri,,I5ab98b6450ff45dff35ddae093a83140f37047a8,Add function to calculate memory,MERGED,2021-06-25 22:27:22.000000000,2021-06-28 16:41:52.000000000,2021-06-28 16:40:05.000000000,22,16,0,798170,e03d80d572c173aed66dcc10909b4df684e1c76b,8,4,1,1,11655,Julia Kreger,jkreger,"Add function to calculate memory

Move logic to calculate memory to its own function.

Change-Id: I5ab98b6450ff45dff35ddae093a83140f37047a8
(cherry picked from commit 2738e57f2a6cacd44cf78331d6d77f3ae9f6a254)
"
openstack%2Fcinder~master~I2942202c85931652e613f336f56ec0be0d05b6d6,openstack/cinder,master,swift-storage-policy,I2942202c85931652e613f336f56ec0be0d05b6d6,Add backup_swift_storage_policy cfg,ABANDONED,2020-08-13 08:43:05.000000000,2021-06-28 16:33:43.000000000,,15,1,2,746025,76a6afe35f3b8d4d0ae6719e3aa6297115369073,121,33,4,2,30754,FengJiankui,FengJiankui,"Add backup_swift_storage_policy cfg

Swift has supported different storage policies.
This patch adds backup_swift_storage_policy cfg
in order to support different storage policies.
The storage policy is the same as before if
backup_swift_storage_policy is not set.

Change-Id: I2942202c85931652e613f336f56ec0be0d05b6d6
Implements: blueprint support-different-storage-policy-for-swift
"
openstack%2Fglance~master~I71afe6a877485c8f92e67dcf32bb475c1a1a42a3,openstack/glance,master,policy-poc,I71afe6a877485c8f92e67dcf32bb475c1a1a42a3,Fix broken test_update_queued_image_with_hidden,MERGED,2021-06-23 17:07:38.000000000,2021-06-28 16:21:09.000000000,2021-06-28 16:18:52.000000000,2,2,0,797721,7c1cd438a0a9fe5cababc9ff0164ce7844c98abf,13,4,2,1,4393,Dan Smith,danms,"Fix broken test_update_queued_image_with_hidden

This fixes the test to behave the way we expect. It was failing to
do the update because it was using an image the requester did not
own, and asserting the found behavior of 403. However, the intent
here is to allow it to be updated. So, this uses the proper image and
asserts the proper behavior.

Change-Id: I71afe6a877485c8f92e67dcf32bb475c1a1a42a3
Closes-Bug: #1933360
"
openstack%2Fkuryr-kubernetes~master~Idcc71a60b2fe448287f2e2d1a0747657c12a5719,openstack/kuryr-kubernetes,master,log-exception-with-healthchecks,Idcc71a60b2fe448287f2e2d1a0747657c12a5719,Add original exception to log about dead component,MERGED,2021-06-24 11:05:15.000000000,2021-06-28 16:18:33.000000000,2021-06-28 16:16:27.000000000,18,6,2,797876,1e2e5b1633d3e04cf1f4fff74440e04edd1493a2,11,4,2,3,11600,Michał Dulko,dulek,"Add original exception to log about dead component

This commit make sure we save the exception that caused a handler to be
dead and log it when printing ""Component X is dead"".

Change-Id: Idcc71a60b2fe448287f2e2d1a0747657c12a5719
"
openstack%2Fopenstack-helm-images~master~I037e935b337f760b1865179de072cedfdf9f9fce,openstack/openstack-helm-images,master,,I037e935b337f760b1865179de072cedfdf9f9fce,[WIP] Nagios: Add TLS support to communicate with Prometheus,ABANDONED,2021-06-24 20:29:13.000000000,2021-06-28 16:09:04.000000000,,8,3,0,798023,0aa65d1128d8c579e30cedba7eb1794c7c0edf8b,7,1,3,3,24780,Sangeet Gupta,sgupta,"[WIP] Nagios: Add TLS support to communicate with Prometheus

Change-Id: I037e935b337f760b1865179de072cedfdf9f9fce
"
openstack%2Fwhitebox-tempest-plugin~master~Icc38f38059803279263f96f24158c62011a4ec68,openstack/whitebox-tempest-plugin,master,,Icc38f38059803279263f96f24158c62011a4ec68,WIP: Unskip selinux tests,ABANDONED,2021-06-11 20:15:42.000000000,2021-06-28 15:28:06.000000000,,2,2,0,796060,df097a78d12d79b1646b6193444dedab669f9736,3,1,1,1,8864,Artom Lifshitz,artom,"WIP: Unskip selinux tests

When we originally merged the selinux tests, we left the two config
options that drive it unset, meaning the test was always skipped. In
its current WIP state, this patch attempts to work out what values
need to be set in the upstream gate.

Change-Id: Icc38f38059803279263f96f24158c62011a4ec68
"
openstack%2Fmagnum~master~I9367535ff81a9f657dda62b28d9a7e2d7675b322,openstack/magnum,master,story/2007590-39534,I9367535ff81a9f657dda62b28d9a7e2d7675b322,[WIP] Adding /nodes API,NEW,2020-04-30 08:29:28.000000000,2021-06-28 14:53:49.000000000,,130,0,15,724609,dfb3f43ffc57742930a473196d618bf789e1bae5,27,5,5,3,6484,Feilong Wang,flwang,"[WIP] Adding /nodes API

1. GET /<Cluster>/nodegroups/<NodeGroup>/nodes

API to get nodes list based on a given node group

2. GET /<Cluster>/nodes/<ServerID>

API to get a node detailed info based on cluster ID
and server ID.

Task: 39534
Story: 2007590

Change-Id: I9367535ff81a9f657dda62b28d9a7e2d7675b322
"
openstack%2Fopenstack-tempest-skiplist~master~I3b012a0b73ad361a406e62555cd3bb8a56db35f2,openstack/openstack-tempest-skiplist,master,,I3b012a0b73ad361a406e62555cd3bb8a56db35f2,Adds ussuri/victoria/wallaby skips for +bug/1931516,MERGED,2021-06-28 13:09:20.000000000,2021-06-28 14:44:07.000000000,2021-06-28 14:42:47.000000000,10,3,3,798296,83968651b3aa882cdddaec5b215de8fbbb4fef3a,12,4,2,1,8449,Marios Andreou,marios,"Adds ussuri/victoria/wallaby skips for +bug/1931516

As commented in related bug (see comment #4) we are seeing this
affect stable/ussuri victoria and wallaby so we need to skip on
those branches too.

Related-Bug: 1931516
Change-Id: I3b012a0b73ad361a406e62555cd3bb8a56db35f2
"
openstack%2Ftripleo-quickstart-extras~master~I97d895fd531665d4ade944e718d9f5a9d2a2e58c,openstack/tripleo-quickstart-extras,master,fixatop,I97d895fd531665d4ade944e718d9f5a9d2a2e58c,Fix atop repo version for centos8,ABANDONED,2021-06-28 14:30:59.000000000,2021-06-28 14:37:01.000000000,,1,1,0,798309,89365f719235d15a3be4901bf7111aeae3bbf06b,2,0,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Fix atop repo version for centos8

Change-Id: I97d895fd531665d4ade944e718d9f5a9d2a2e58c
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6,openstack/kolla-ansible,stable/wallaby,bug/1917068-stable/wallaby,Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6,Allow user to set sysctl_net_ipv4_tcp_retries2,MERGED,2021-06-25 13:48:12.000000000,2021-06-28 14:26:25.000000000,2021-06-28 14:24:45.000000000,79,3,0,798096,8521ddca289cac3a585f3a289be3111209bd1c02,8,3,1,6,27339,Michal Arbet,michalarbet,"Allow user to set sysctl_net_ipv4_tcp_retries2

This patch is adding configuration option to
manipulate with kernel option sysctl_net_ipv4_tcp_retries2.

More informations about kernel option in [1][2]
and RedHat suggestion [3] to set for DBs and HA.

[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html
[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/
[3]: https://access.redhat.com/solutions/726753

Closes-Bug: #1917068
Change-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6
(cherry picked from commit 09d0409ed4a69f514355925754e832e752f817ca)
"
openstack%2Fbarbican~stable%2Fqueens~If1b493707bd012d4a779dc6deba1a70ac3293ec6,openstack/barbican,stable/queens,octavia-v1,If1b493707bd012d4a779dc6deba1a70ac3293ec6,[Rocky and before] Drop octavia v1 job,NEW,2021-06-28 13:09:34.000000000,2021-06-28 14:22:34.000000000,,0,2,0,798115,02b2460c7145a7554f482bcd6a97cf3421a66353,5,1,2,1,9816,Takashi Kajinami,kajinamit,"[Rocky and before] Drop octavia v1 job

Since Octavia EOLed its stable/stein and older branches, there is no
longer octavia v1 job defined. Because the job has been non-voting
let's remove the job to resolve job definition error.

Change-Id: If1b493707bd012d4a779dc6deba1a70ac3293ec6
(cherry picked from commit 863c714bdcb07534ad7cc5991a6d9a1afc655e86)
"
openstack%2Fpuppet-cinder~stable%2Fussuri~I40391cecb877d948a30a480b080a10895b431d0b,openstack/puppet-cinder,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I40391cecb877d948a30a480b080a10895b431d0b,Set fixture paths for unit tests,MERGED,2021-06-13 02:49:53.000000000,2021-06-28 14:16:56.000000000,2021-06-28 14:16:56.000000000,5,0,0,796189,59e9e4c04b1f3a75f62be955e2237a1fcb1d3b91,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I40391cecb877d948a30a480b080a10895b431d0b
(cherry picked from commit 24dbff6a5ded2573b8037d5a172a7027535bb0ea)
"
openstack%2Fpuppet-cinder~master~I210f207d4f05862c98a2ef6d04162880d1cfc4ae,openstack/puppet-cinder,master,coordination,I210f207d4f05862c98a2ef6d04162880d1cfc4ae,Use oslo::coordination to manage coordination parameters,MERGED,2021-05-18 01:06:29.000000000,2021-06-28 14:16:53.000000000,2021-06-28 14:16:53.000000000,8,4,0,791857,9078af8559248308e2557da0b51b1983120fd1c4,13,3,1,2,9816,Takashi Kajinami,kajinamit,"Use oslo::coordination to manage coordination parameters

This change replaces current implementation to manage coordination
parameters by the base class in puppet-oslo. With this change
the required backend package is installed according to the backend
driver used.

Depends-on: https://review.opendev.org/791628
Change-Id: I210f207d4f05862c98a2ef6d04162880d1cfc4ae
"
openstack%2Fpuppet-zaqar~stable%2Fussuri~I0b2f0d06e05c0d5ddd02db4275a1f6206e6ef0fb,openstack/puppet-zaqar,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I0b2f0d06e05c0d5ddd02db4275a1f6206e6ef0fb,Set fixture paths for unit tests,MERGED,2021-06-13 02:48:19.000000000,2021-06-28 14:16:40.000000000,2021-06-28 14:16:40.000000000,5,0,0,796176,608dbe1b178b03897a4e4ef6d316d57299158f3f,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I0b2f0d06e05c0d5ddd02db4275a1f6206e6ef0fb
(cherry picked from commit 0afad6e6c350a5b4635af375d69c70bcdd4b43bb)
(cherry picked from commit c06222e1377ce169ee636f40fd42a5c73685b2bf)
"
openstack%2Fpuppet-swift~stable%2Fussuri~If2601644bbb8eeba3c103b25184e96e3c6f967ac,openstack/puppet-swift,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,If2601644bbb8eeba3c103b25184e96e3c6f967ac,Set fixture paths for unit tests,MERGED,2021-06-13 02:48:18.000000000,2021-06-28 14:16:29.000000000,2021-06-28 14:16:29.000000000,5,0,0,796175,2b267de322a09b234d60c4e56ff82262779219b5,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: If2601644bbb8eeba3c103b25184e96e3c6f967ac
(cherry picked from commit 4eaee6777d27667e31f1ee013971d64a378fb33f)
"
openstack%2Fpuppet-octavia~stable%2Fussuri~I1645afb89e33cfe03e25b09c446e2d47fc6b9f18,openstack/puppet-octavia,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I1645afb89e33cfe03e25b09c446e2d47fc6b9f18,Set fixture paths for unit tests,MERGED,2021-06-13 02:48:22.000000000,2021-06-28 14:11:13.000000000,2021-06-28 14:11:13.000000000,5,0,0,796177,ee0b9f566647a84d85ec71a45e26730d8344b840,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I1645afb89e33cfe03e25b09c446e2d47fc6b9f18
(cherry picked from commit 456e7ff27663471a27ff19be44637e6992572891)
"
openstack%2Fpuppet-vitrage~stable%2Fussuri~I18dc83d8b96b161d0416bbdd0e789506b60bccf7,openstack/puppet-vitrage,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I18dc83d8b96b161d0416bbdd0e789506b60bccf7,Set fixture paths for unit tests,MERGED,2021-06-13 02:49:59.000000000,2021-06-28 14:10:01.000000000,2021-06-28 14:10:01.000000000,5,0,0,796191,23e9285dc9ce61d4229cfc8841972bafeef713f5,10,3,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I18dc83d8b96b161d0416bbdd0e789506b60bccf7
(cherry picked from commit cb1d03650c6b957794b62e1f21812f5fdc92ca1e)
"
openstack%2Fironic~master~I5a176f51db93d2a2238496f6955c1c7d9a79c548,openstack/ironic,master,secure-rbac,I5a176f51db93d2a2238496f6955c1c7d9a79c548,Remove redundant/legacy is_admin logic,MERGED,2021-06-16 00:31:04.000000000,2021-06-28 14:06:33.000000000,2021-06-24 23:08:35.000000000,5,29,2,796552,f91915d4cd2abec54d760556e0e5c5f7ddae70ca,16,5,1,6,11655,Julia Kreger,jkreger,"Remove redundant/legacy is_admin logic

The original model used was to assert is_admin on the object context
which was actually used in only one place in ironic's code. Redudnantly
of course.

This is an excess call of is_admin on all API invocations, and is
simply not necessary as individual calls have API policy checking
and is_admin was only being consulted in the glance service utils...
However, the glance service utils also confirmed it should be able
to access glance if there was an auth_token present on the request
which should also always be the case. This was somewhat identified
as redundant/possible bug during the Wallaby cycle and appears to
be fine to remove

This does *not* remove the deprecated rule. At present, it appears
that rule may not be removed until after Xena.

Change-Id: I5a176f51db93d2a2238496f6955c1c7d9a79c548
"
openstack%2Fcinder~master~I5b7c9cb3703413a0323bd3f333160ffa582cca7a,openstack/cinder,master,clib-req-check,I5b7c9cb3703413a0323bd3f333160ffa582cca7a,DNM: cinderlib wallaby development check,ABANDONED,2021-06-15 13:31:30.000000000,2021-06-28 14:05:31.000000000,,0,53,0,796471,10e72010bb5e3ade7fb961bf8d1c095aaadefc30,18,1,1,1,5314,Brian Rosmaita,brian-rosmaita,"DNM: cinderlib wallaby development check

Checking to see if the below patch for cinderlib will break
cinder tests.

Depends-on: https://review.opendev.org/c/openstack/cinderlib/+/785677
Change-Id: I5b7c9cb3703413a0323bd3f333160ffa582cca7a
"
openstack%2Fpuppet-trove~stable%2Fussuri~I93c83dfe9b92ef772e1ae3c15f70aeac39ccf449,openstack/puppet-trove,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I93c83dfe9b92ef772e1ae3c15f70aeac39ccf449,Set fixture paths for unit tests,MERGED,2021-06-13 02:49:49.000000000,2021-06-28 14:04:45.000000000,2021-06-28 14:04:45.000000000,5,0,0,796185,b7b28081a1acd6167728879b236f50a1aaf809d6,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I93c83dfe9b92ef772e1ae3c15f70aeac39ccf449
(cherry picked from commit fe0f6508c45e0a0f1b6061f3d7b8ed6299691958)
"
openstack%2Fpuppet-panko~stable%2Fussuri~I2c7828b0198f51e8b77b83a0f3a793e747da69c8,openstack/puppet-panko,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I2c7828b0198f51e8b77b83a0f3a793e747da69c8,Set fixture paths for unit tests,MERGED,2021-06-13 02:49:46.000000000,2021-06-28 14:02:57.000000000,2021-06-28 14:02:57.000000000,5,0,0,796184,ea3430aa51e6896b534a68ee361316d1a0c88e75,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I2c7828b0198f51e8b77b83a0f3a793e747da69c8
(cherry picked from commit bdbc8382d8f58f380ffaa05a6cd4c522366495fc)
"
openstack%2Fpuppet-ironic~stable%2Fussuri~If66e6478563f9968ce1c25d7739a4feefbe0f8b1,openstack/puppet-ironic,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,If66e6478563f9968ce1c25d7739a4feefbe0f8b1,Set fixture paths for unit tests,MERGED,2021-06-13 02:47:55.000000000,2021-06-28 14:02:47.000000000,2021-06-28 14:02:47.000000000,5,0,0,796090,a19bb2847aec1aa2c0604055ee906f46b23684c7,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: If66e6478563f9968ce1c25d7739a4feefbe0f8b1
(cherry picked from commit cbca433a2c24b581fec944a9389f2c8decd3b30c)
"
openstack%2Fpuppet-tacker~stable%2Fussuri~I2a4c32c174b61a131d97e4ab811237fa1937f7e9,openstack/puppet-tacker,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I2a4c32c174b61a131d97e4ab811237fa1937f7e9,Set fixture paths for unit tests,MERGED,2021-06-13 02:51:12.000000000,2021-06-28 14:02:39.000000000,2021-06-28 14:02:39.000000000,5,0,0,796196,eaffec57ebcabba2a65b706012aa4aabd13adaea,11,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I2a4c32c174b61a131d97e4ab811237fa1937f7e9
(cherry picked from commit ae0ed566f55bfd78286e34daff8e83339aa5a588)
"
openstack%2Fpuppet-glance~stable%2Fussuri~I83fd4739397ce8c4b4ec3f806b5a91fb10867caf,openstack/puppet-glance,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I83fd4739397ce8c4b4ec3f806b5a91fb10867caf,Set fixture paths for unit tests,MERGED,2021-06-13 02:51:13.000000000,2021-06-28 14:02:00.000000000,2021-06-28 14:02:00.000000000,5,0,0,796197,dc03fed968b8eedff26aebcd796afed1933fbd90,10,3,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I83fd4739397ce8c4b4ec3f806b5a91fb10867caf
(cherry picked from commit a556783d37a98c6fe02cfd1357f9ff607b32e263)
"
openstack%2Fpuppet-heat~stable%2Fussuri~Ifd966b0f62cd5f682d5ba70927597d6923f3fa47,openstack/puppet-heat,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,Ifd966b0f62cd5f682d5ba70927597d6923f3fa47,Set fixture paths for unit tests,MERGED,2021-06-13 02:47:55.000000000,2021-06-28 14:01:31.000000000,2021-06-28 14:01:31.000000000,5,0,0,796174,b87c83c45af57aa87232ca2a8273155f083be4ea,10,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Ifd966b0f62cd5f682d5ba70927597d6923f3fa47
(cherry picked from commit bd7d486b522ede2e78367bd18ce7ddf19f3b597c)
"
openstack%2Fpuppet-designate~stable%2Fussuri~Ibf9d7008b985a84d2edbaf072c9fce2fab448bc8,openstack/puppet-designate,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,Ibf9d7008b985a84d2edbaf072c9fce2fab448bc8,Set fixture paths for unit tests,MERGED,2021-06-13 02:47:55.000000000,2021-06-28 14:01:15.000000000,2021-06-28 14:01:15.000000000,5,0,0,796092,52434bb86786a7624c30525df09c0fe10aa7f0f7,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Ibf9d7008b985a84d2edbaf072c9fce2fab448bc8
(cherry picked from commit 8fe9a66e28579acd53c8c288d3f5e293016002ff)
"
openstack%2Fpuppet-sahara~stable%2Fussuri~I39f79793af3c6704b2d42347de0f080561a4fd20,openstack/puppet-sahara,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I39f79793af3c6704b2d42347de0f080561a4fd20,Set fixture paths for unit tests,MERGED,2021-06-13 02:49:49.000000000,2021-06-28 14:00:11.000000000,2021-06-28 14:00:11.000000000,5,0,0,796186,ea7e427744be344f212d9b84af093a8037564c4e,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I39f79793af3c6704b2d42347de0f080561a4fd20
(cherry picked from commit a33f3e55f3cf3aeb9540aead8d8d6989ce30651c)
"
openstack%2Fpuppet-watcher~stable%2Fussuri~I50f23198d4bbcf17d741a589ad6dd2132d0a2e25,openstack/puppet-watcher,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I50f23198d4bbcf17d741a589ad6dd2132d0a2e25,Set fixture paths for unit tests,MERGED,2021-06-13 02:48:25.000000000,2021-06-28 13:59:31.000000000,2021-06-28 13:59:31.000000000,5,0,0,796179,3acbacb0cf827a3b69bc61e27bcbf4cb99efb50b,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I50f23198d4bbcf17d741a589ad6dd2132d0a2e25
(cherry picked from commit 8063b23de1a3c835ab2d81864e2661717571ae9b)
"
openstack%2Fpuppet-mistral~stable%2Fussuri~I4b78286b2c16d3708e07164bd88d73b72d6d3bb4,openstack/puppet-mistral,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I4b78286b2c16d3708e07164bd88d73b72d6d3bb4,Set fixture paths for unit tests,MERGED,2021-06-13 02:51:16.000000000,2021-06-28 13:58:48.000000000,2021-06-28 13:58:48.000000000,5,0,0,796198,3d813917fc242e9b603fc3e9de21aeaedc97538d,11,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I4b78286b2c16d3708e07164bd88d73b72d6d3bb4
(cherry picked from commit f4b3c4d78363c3615d3a181e8873a3cebed30c0e)
"
openstack%2Fpuppet-horizon~stable%2Fussuri~I4563185c85a4b4cde30138c26a0f623616cf768d,openstack/puppet-horizon,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I4563185c85a4b4cde30138c26a0f623616cf768d,Set fixture paths for unit tests,MERGED,2021-06-13 02:47:55.000000000,2021-06-28 13:58:39.000000000,2021-06-28 13:58:39.000000000,5,0,0,796089,ef402860ea14433b677a0bd5c2a6f2893f2f3f19,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I4563185c85a4b4cde30138c26a0f623616cf768d
(cherry picked from commit 36c8f38dfb72677010931cb5869e37059c0167fd)
"
openstack%2Fpuppet-ec2api~stable%2Fussuri~I64316e1bb130c9bba96cfa77ee2a2971363dcd97,openstack/puppet-ec2api,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I64316e1bb130c9bba96cfa77ee2a2971363dcd97,Set fixture paths for unit tests,MERGED,2021-06-13 02:49:52.000000000,2021-06-28 13:58:25.000000000,2021-06-28 13:58:25.000000000,5,0,0,796187,59bd61b59966d2aabc0a0b4c420857ef9ddfc57f,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I64316e1bb130c9bba96cfa77ee2a2971363dcd97
(cherry picked from commit 0d07da09818b31f4e7babeb7bea44df8f2ba1053)
"
openstack%2Fpuppet-cloudkitty~stable%2Fussuri~I12dbfcfd4bada8d8578632f47e74e638ec3754a7,openstack/puppet-cloudkitty,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I12dbfcfd4bada8d8578632f47e74e638ec3754a7,Set fixture paths for unit tests,MERGED,2021-06-13 02:47:55.000000000,2021-06-28 13:58:02.000000000,2021-06-28 13:58:02.000000000,5,0,0,796091,7f51cb708246fba2e20cf3e7e5319bec73ac0b26,10,2,2,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I12dbfcfd4bada8d8578632f47e74e638ec3754a7
(cherry picked from commit 217a8ec17c6756a6e989e9c8d4dad73e493fd6b7)
(cherry picked from commit b325089a99861043b81320a1365bfca8e18b4861)
(cherry picked from commit 0e02be66f389430a0cb8efecc9cdb7001ce466e5)
"
openstack%2Fpuppet-magnum~stable%2Fussuri~I358b00bc88bfbf570f884d16956a862579dbd18a,openstack/puppet-magnum,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I358b00bc88bfbf570f884d16956a862579dbd18a,Set fixture paths for unit tests,MERGED,2021-06-13 02:48:26.000000000,2021-06-28 13:57:28.000000000,2021-06-28 13:57:28.000000000,5,0,0,796181,a6556ac1799795747f57ec3c47ce6af4b6db9940,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I358b00bc88bfbf570f884d16956a862579dbd18a
(cherry picked from commit ff99582f942422d851cf1043078fea1d86bd4226)
"
openstack%2Fpuppet-manila~stable%2Fussuri~I96a74759996de469b0a8d4e1259b6b085501f4ae,openstack/puppet-manila,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I96a74759996de469b0a8d4e1259b6b085501f4ae,Set fixture paths for unit tests,MERGED,2021-06-13 02:49:52.000000000,2021-06-28 13:56:45.000000000,2021-06-28 13:56:45.000000000,5,0,0,796188,6e1a3bd4a1ff0f27dc6fee6c226ba0b58de8bb79,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I96a74759996de469b0a8d4e1259b6b085501f4ae
(cherry picked from commit 35657a2331e85d80b14793288beb69f769fb3282)
"
openstack%2Fpuppet-barbican~stable%2Fussuri~I63d12a8c8a86b6e67f6958aff10e40f521af14aa,openstack/puppet-barbican,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I63d12a8c8a86b6e67f6958aff10e40f521af14aa,Set fixture paths for unit tests,MERGED,2021-06-13 02:51:17.000000000,2021-06-28 13:55:58.000000000,2021-06-28 13:55:58.000000000,5,0,0,796199,2246865020221891d16d631bc9a8944550de2f43,10,3,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I63d12a8c8a86b6e67f6958aff10e40f521af14aa
(cherry picked from commit eb4d09752b33b135f75944c1adbad53f4432e4c9)
"
openstack%2Fpuppet-aodh~stable%2Fussuri~I960e6e19da4f05cfb07d261f294411bcb4618f68,openstack/puppet-aodh,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I960e6e19da4f05cfb07d261f294411bcb4618f68,Set fixture paths for unit tests,MERGED,2021-06-13 02:48:25.000000000,2021-06-28 13:55:37.000000000,2021-06-28 13:55:37.000000000,5,0,0,796180,698a140705c9385f7b04677913a3338651bb1376,10,3,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I960e6e19da4f05cfb07d261f294411bcb4618f68
(cherry picked from commit 6cd026faf68cbc4768caa707d0019732d376074e)
"
openstack%2Fpuppet-ceilometer~stable%2Fussuri~I9342ae7e8945cf8a8d05c0d8d2956191605c7ad8,openstack/puppet-ceilometer,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I9342ae7e8945cf8a8d05c0d8d2956191605c7ad8,Set fixture paths for unit tests,MERGED,2021-06-13 02:48:27.000000000,2021-06-28 13:54:53.000000000,2021-06-28 13:54:53.000000000,5,0,0,796183,9335ac5fa17525459d50b6bfed80517230c26ac7,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I9342ae7e8945cf8a8d05c0d8d2956191605c7ad8
(cherry picked from commit abb7623404988b1bc0adddc95be204a53b511f69)
"
openstack%2Fpuppet-gnocchi~stable%2Fussuri~Idc7a8a5b663d1cccb54ff1f62e975582c81d9f82,openstack/puppet-gnocchi,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,Idc7a8a5b663d1cccb54ff1f62e975582c81d9f82,Set fixture paths for unit tests,MERGED,2021-06-13 02:50:02.000000000,2021-06-28 13:53:48.000000000,2021-06-28 13:53:48.000000000,5,0,0,796192,39861e1b06baf6748052a0a3c3dd0299514be7c1,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: Idc7a8a5b663d1cccb54ff1f62e975582c81d9f82
(cherry picked from commit 05e70d90fd4e37c1cbf43a0fb7bf2453ed3d55ce)
"
openstack%2Fcinderlib~master~I9d76b380d18f5a15fb26496b209b3dd8342e4364,openstack/cinderlib,master,continue-wallaby,I9d76b380d18f5a15fb26496b209b3dd8342e4364,Continue wallaby development,MERGED,2021-04-09 16:12:52.000000000,2021-06-28 13:52:39.000000000,2021-06-28 13:51:22.000000000,19,13,6,785677,cd0ae51c93ee773c572dad69cadef3aea5e1ebf3,33,5,5,3,5314,Brian Rosmaita,brian-rosmaita,"Continue wallaby development

The master branches of cinder and os-brick are now in xena development,
so while cinderlib is still in wallaby development, we want to use
stable/wallaby cinder and stable/wallaby os-brick for testing cinderlib.
Also use stable/wallaby upper constraints.

Change-Id: I9d76b380d18f5a15fb26496b209b3dd8342e4364
"
openstack%2Fproject-config~master~If5fb2a1fe2cce058f1d516d5f5f7180a6cab06cf,openstack/project-config,master,bullseye-python-interp,If5fb2a1fe2cce058f1d516d5f5f7180a6cab06cf,wheel: don't try to release Xenial ARM64,MERGED,2021-06-28 01:58:29.000000000,2021-06-28 13:49:34.000000000,2021-06-28 13:42:28.000000000,0,60,0,798236,3a401e0dead202e7e492571f9af54f71a7c594e1,8,3,1,2,7118,Ian Wienand,iwienand,"wheel: don't try to release Xenial ARM64

This was missed with Ia44c384072c0482cfd11c642013fd51004f85c8b when we
removed the Xenial ARM64 jobs.

Also cleanup the grafana; additionally remove CentOS 7 ARM64
references which are not present.

Change-Id: If5fb2a1fe2cce058f1d516d5f5f7180a6cab06cf
"
openstack%2Fneutron~master~I79ce7f833cb3618eff404c99457ba6f675cff304,openstack/neutron,master,bug/1915255,I79ce7f833cb3618eff404c99457ba6f675cff304,[docs] extend bw qos limitations to include pf netdev name,ABANDONED,2021-06-28 13:21:45.000000000,2021-06-28 13:48:13.000000000,,7,0,0,798302,8af9a17ce74be28cb814dcf430369ff1bf0daee3,3,2,1,1,11604,sean mooney,sean-k-mooney,"[docs] extend bw qos limitations to include pf netdev name

This change updates the limitations section fo the minium
bandwith QoS policy doc to note that when used with sriov interfaces
the parent PF must have a netdev.

Related-Bug: #1915255
Change-Id: I79ce7f833cb3618eff404c99457ba6f675cff304
"
openstack%2Fneutron~master~Ica4490d3ec36e227301e3f3a7b093750b2e18b83,openstack/neutron,master,bug/1933115,Ica4490d3ec36e227301e3f3a7b093750b2e18b83,[OVN] Add subnet-service-types as supported by OVN mech driver,MERGED,2021-06-23 07:48:42.000000000,2021-06-28 13:46:28.000000000,2021-06-28 13:44:28.000000000,4,0,0,797595,0cd01edc9c0788ba9c63b34e78e347042eb5792d,10,3,1,2,11975,Slawek Kaplonski,slaweq,"[OVN] Add subnet-service-types as supported by OVN mech driver

This API extension is supported by ML2 plugin and is database only
thing. So there is no need to filter it out when OVN backend is used.

Related-Bug: #1933115
Change-Id: Ica4490d3ec36e227301e3f3a7b093750b2e18b83
"
openstack%2Ftripleo-quickstart~master~I7b648965a478c97025c3e0e6e502007763b0b668,openstack/tripleo-quickstart,master,,I7b648965a478c97025c3e0e6e502007763b0b668,Add new cloud-init to excludes in AppStream repo,ABANDONED,2021-06-02 13:36:28.000000000,2021-06-28 13:27:56.000000000,,26,2,1,794225,39f6f13915b19023e54b942a5c17cda10725cc07,11,5,2,10,29775,Sandeep Yadav,sandeepyadav93,"Add new cloud-init to excludes in AppStream repo

This particular release of cloud-init contains some changes regarding
openvswitch that might be affecting our jobs.

Adding cloud-init-20.3-10.el8_4.2* in exclude list.

Change-Id: I7b648965a478c97025c3e0e6e502007763b0b668
"
openstack%2Freleases~master~Ice2ec661b4b55f55fe536176ed17a44e71bf6c3a,openstack/releases,master,ocata-eol,Ice2ec661b4b55f55fe536176ed17a44e71bf6c3a,[heat] Transition Ocata to End of Life,MERGED,2021-06-09 18:49:48.000000000,2021-06-28 13:22:32.000000000,2021-06-28 13:22:32.000000000,12,0,0,795654,498aa1d98dc923aca418f9e623a2710f9eeb1bca,10,4,1,3,17685,Elod Illes,elod.illes,"[heat] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Ice2ec661b4b55f55fe536176ed17a44e71bf6c3a
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I9e0da2a48c23c35e084bea831fc744b9f053508b,openstack/tripleo-heat-templates,stable/stein,,I9e0da2a48c23c35e084bea831fc744b9f053508b,Modify how libvirt related containers use SELinux,ABANDONED,2020-07-20 14:52:40.000000000,2021-06-28 13:13:10.000000000,,16,20,0,741962,5f919ba4fdec97d4cc8a44280356353af9067cda,44,7,6,2,28223,Cedric Jeanneret,cjeanner,"Modify how libvirt related containers use SELinux

1- Add specific mounts in nova_libvirt
They are needed in order to get SELinux support within the container

2- Remove now deprecated docker_enable condition
Since this one isn't needed anymore, just drop it.

3- Drop ""z"" flag from libvirt related mounts
This avoids relabelling issues from non-privileged containers

4- Set specific labels for the container itself.
See note 2 for more details.

Notes:
1- This will require to patch podman-1.6.4 in order to allow to actually
   use security-opt when --privileged and/or --pid=host are passed[1].

2- The ""container_share_t"" filetype will be updated in a follow-up to
   the newer version, ""container_ro_file_t"". This makes backports easier
   to older releases that might not be aware of this new type.
   The follow-up change is purely cosmetic in order to reflect the
   actual behavior of SELinux and has no functional change.

Testing:
The first tests were done using a podman 1.9.3 in order to work around the
mentionned issues.

Newer tests were done using podman 1.6.4 scratch-builds in order to ensure
the reported issues were fixed.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1846364

Depends-On: https://review.opendev.org/736256
Co-Authored-By: Daniel Berrange <berrange@redhat.com>
Co-Authored-By: Kashyap Chamarthy <kchamart@redhat.com>
Change-Id: I9e0da2a48c23c35e084bea831fc744b9f053508b
(cherry picked from commit 9f0e5d724f6ac9f24a6296907c400dce54e9d2cd)
(cherry picked from commit 909984bbe18d841c09c598c8336bea50b7b91582)
(cherry picked from commit 16f0010621e5e1b24de03d0c43833dd1e3ef8d57)
(cherry picked from commit 9bfc8c24afcb7529ba3d5b0708dae1069db07f9f)
"
openstack%2Fcinder~stable%2Fwallaby~I0a2420f3e4a411f5fa52ebe2d22859b138ef387f,openstack/cinder,stable/wallaby,,I0a2420f3e4a411f5fa52ebe2d22859b138ef387f,"Retry ""lvs"" call on segfault for _get_thin_pool_free_space",MERGED,2021-06-18 21:02:13.000000000,2021-06-28 13:12:07.000000000,2021-06-28 13:10:01.000000000,43,3,0,797161,9ad46817e42b577ae2625ce90a32ee96eb00f427,22,3,1,2,4523,Eric Harney,eharney,"Retry ""lvs"" call on segfault for _get_thin_pool_free_space

This is a follow-up to I6824ba4f.

LVM commands segfault occasionally, exiting with code 139.
Change I6824ba4f introduced a workaround to retry the command
when code 139 is returned, which generally works.  This expands
that retry to the case where thin pool space is queried, which
currently results in the LVM driver reporting no free space to
the scheduler.

Further work is needed to expand this to other LVM calls, but
this patch is narrow in scope to target a particular gate
failure.

Related-Bug: #1901783
Partial-Bug: #1932188
Closes-Bug: #1932287
Change-Id: I0a2420f3e4a411f5fa52ebe2d22859b138ef387f
(cherry picked from commit 410306efb82760191e76b4d40817f38842d87eb0)
"
openstack%2Fcharm-vault~master~I10f159a0a4755fcf474605fe8dfed75be817ec95,openstack/charm-vault,master,improve-action-definitions,I10f159a0a4755fcf474605fe8dfed75be817ec95,Improve action definitions,MERGED,2021-05-14 14:45:06.000000000,2021-06-28 13:00:29.000000000,2021-06-28 13:00:29.000000000,11,6,0,791498,520ef01816915c842b683411c21190895bf7fc5b,16,3,2,1,30561,Peter Matulis,pmatulis,"Improve action definitions

Clarify the differences between actions resume,
restart, and reload

Change-Id: I10f159a0a4755fcf474605fe8dfed75be817ec95
"
openstack%2Fcharm-trilio-data-mover~master~I868240fee4f5e767c9dac2d41ddc128bc307e4ae,openstack/charm-trilio-data-mover,master,s3-not-experimental,I868240fee4f5e767c9dac2d41ddc128bc307e4ae,Remove experimental from s3 options,MERGED,2021-06-28 09:02:55.000000000,2021-06-28 12:42:23.000000000,2021-06-28 12:42:23.000000000,54,47,0,798265,c7874e862a54f921943e8441b95abf4764e24741,8,3,1,5,12549,gnuoy,gnuoy,"Remove experimental from s3 options

Remove the experimental status from the S3 options. Update the
README documentation to provide information on configuring the
appropriate backend to use for NFS or S3 storage.

This change is mainly copied from the corresponding change to
trilio-wlm ( I7836754529a8b5d067a86077e1e004fa2f53ec6e ). Bug
1933809 *1 is tracking the consolidation of duplicate code.

*1 https://bugs.launchpad.net/charm-trilio-data-mover/+bug/1933809

Change-Id: I868240fee4f5e767c9dac2d41ddc128bc307e4ae
"
openstack%2Fironic~master~I9a3dc7ddabde38faa77a2c4bc7bf5db750a7f4d8,openstack/ironic,master,ilo-refactor,I9a3dc7ddabde38faa77a2c4bc7bf5db750a7f4d8,Refactor: untie IloVendor from validate_image_properties,MERGED,2021-06-24 10:44:14.000000000,2021-06-28 12:26:25.000000000,2021-06-28 12:24:21.000000000,34,21,0,797872,4dc1920154214be361c6964e4c840200365ffeaf,21,3,1,3,10239,Dmitry Tantsur,dtantsur,"Refactor: untie IloVendor from validate_image_properties

The function does more than just validating that the image exists.
This change simplifies further refactoring of image validation.

Change-Id: I9a3dc7ddabde38faa77a2c4bc7bf5db750a7f4d8
"
openstack%2Fpuppet-keystone~stable%2Fussuri~I8c0589bccbac4776720badfdb009b966ac2f7087,openstack/puppet-keystone,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I8c0589bccbac4776720badfdb009b966ac2f7087,Set fixture paths for unit tests,MERGED,2021-06-13 02:47:55.000000000,2021-06-28 12:18:53.000000000,2021-06-28 12:18:53.000000000,5,2,0,796088,509aecfc71931b0b76900c4cc904445d8aaf6734,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I8c0589bccbac4776720badfdb009b966ac2f7087
(cherry picked from commit c0f33c2806eefc79fdc82a1eccb67a4c3b9ad68c)
"
openstack%2Fpuppet-heat~master~Ifb3a302e1e15b496761112936c847217ec2116cc,openstack/puppet-heat,master,multistropt,Ifb3a302e1e15b496761112936c847217ec2116cc,Add support for MultiStrOpt,MERGED,2021-05-05 01:49:36.000000000,2021-06-28 12:08:27.000000000,2021-06-28 12:08:27.000000000,32,28,0,789678,97bce7569d18b6c456c23a87e63ccce275b3bc27,7,3,1,5,9816,Takashi Kajinami,kajinamit,"Add support for MultiStrOpt

This replaces the provider implementation of heat_config type so that
MultiStrOpt, which is used by several options like
 - oslo_messaging_notifications/driver
 - oslo_policy/policy_dirs
is handled correctly.

Change-Id: Ifb3a302e1e15b496761112936c847217ec2116cc
"
openstack%2Fcharms.ceph~stable%2F21.04~I93f53274bc8c7e62ebb8cb7bf81ff816f4bfd98b,openstack/charms.ceph,stable/21.04,bug/1929054-stable/21.04,I93f53274bc8c7e62ebb8cb7bf81ff816f4bfd98b,"filter_missing_packages expects a list, not string",MERGED,2021-05-25 10:51:45.000000000,2021-06-28 11:48:23.000000000,2021-06-28 11:48:23.000000000,46,3,15,792881,d1515daf737ceaca8e544b15bdcee5c10f67888e,10,4,2,2,20870,Alex Kavanagh,ajkavanagh,"filter_missing_packages expects a list, not string

filter_missing_packages expects a list and not a single package name as
a string. Pass the chrony package as a single item list to avoid it
checking installation candiates for 'c', 'h', 'r', 'o', 'n' and 'y'

This patch simplifies the function, which makes it a little easier to
reason about.  Also a test is added to stop regressions in the future.

[1] Ie3c9c5899c1d46edd21c32868938d3290db321e7
[2] Ifef76eacd8bd837d2181ec75e406aa35f88b8b5b
Closes-Bug: #1929054

Change-Id: I93f53274bc8c7e62ebb8cb7bf81ff816f4bfd98b
"
openstack%2Fpuppet-nova~stable%2Fussuri~I1df7c3d76fd99f08c01d170f2270d31388ec8604,openstack/puppet-nova,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I1df7c3d76fd99f08c01d170f2270d31388ec8604,Set fixture paths for unit tests,MERGED,2021-06-13 02:47:55.000000000,2021-06-28 11:40:43.000000000,2021-06-28 11:40:43.000000000,5,0,0,796087,cc3a0113fb9aee40fd7c1f791838011b29cea581,10,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I1df7c3d76fd99f08c01d170f2270d31388ec8604
(cherry picked from commit 53b661e26b5af3b11bcbee6d887c0447f959e41e)
"
openstack%2Fpuppet-neutron~stable%2Fussuri~I2b398861007c0ffd5f1a038c60d88c5b9490bb01,openstack/puppet-neutron,stable/ussuri,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,I2b398861007c0ffd5f1a038c60d88c5b9490bb01,Set fixture paths for unit tests,MERGED,2021-06-13 02:49:57.000000000,2021-06-28 11:31:29.000000000,2021-06-28 11:31:29.000000000,5,0,0,796190,b1acf1e66cadbed41d56c602be497dee45d08c35,9,2,1,1,9816,Takashi Kajinami,kajinamit,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I2b398861007c0ffd5f1a038c60d88c5b9490bb01
(cherry picked from commit 6c3eecf7b57895b05063bb20ec365152c3897537)
"
openstack%2Ftripleo-ci~master~Ib5c208a8a538e2e3d774b7ac131fca26c54f5e1b,openstack/tripleo-ci,master,master-upgrades-jobs,Ib5c208a8a538e2e3d774b7ac131fca26c54f5e1b,Adds wallaby upgrades/updates jobs to periodic,ABANDONED,2021-06-28 11:23:52.000000000,2021-06-28 11:25:56.000000000,,63,22,0,798284,5b8e8f2a62aa110a9b37628a4a9c56950f81812d,2,0,1,2,31075,Pooja Jadhav,pojadhav,"Adds wallaby upgrades/updates jobs to periodic

This patch adds wallaby undercloud and minor
upgrades/updates jobs to periodic.

Change-Id: Ib5c208a8a538e2e3d774b7ac131fca26c54f5e1b
"
openstack%2Fpuppet-neutron~master~I25bef469a1caeede529054579d014788b84de9e4,openstack/puppet-neutron,master,vpp-host,I25bef469a1caeede529054579d014788b84de9e4,vpp: Allow setting the host parameter,MERGED,2021-05-13 12:43:00.000000000,2021-06-28 11:22:36.000000000,2021-06-28 11:21:18.000000000,20,1,0,791150,d0158c36550e9023b2d664f820f239a10e908746,12,3,4,3,9816,Takashi Kajinami,kajinamit,"vpp: Allow setting the host parameter

This change allows users to set the host parmeter for ml2+vpp plugin.
The parameter was hard-coded by $::hostname but it would result in
incosnsistency with the hostname set by neutron::host .

Change-Id: I25bef469a1caeede529054579d014788b84de9e4
"
openstack%2Fpuppet-horizon~master~I738e3c6dbd40d035d22bd0f14f19119ed2526b58,openstack/puppet-horizon,master,keystoneauth-logging,I738e3c6dbd40d035d22bd0f14f19119ed2526b58,Configure logging for keystoneauth module,MERGED,2021-05-17 06:50:52.000000000,2021-06-28 11:21:41.000000000,2021-06-28 11:21:41.000000000,7,0,0,791639,e73a182d8eda50edc03f9a9c1d6fe443bf358101,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Configure logging for keystoneauth module

Change-Id: I738e3c6dbd40d035d22bd0f14f19119ed2526b58
"
openstack%2Fneutron~master~I6161a8b387812808c4d679f882a3193c93235647,openstack/neutron,master,sec_gr_callback,I6161a8b387812808c4d679f882a3193c93235647,use callback payloads for SECURITY_GROUP,MERGED,2019-08-01 14:14:44.000000000,2021-06-28 11:20:48.000000000,2021-06-28 11:18:38.000000000,124,85,13,674044,b05a9186d1246460b21d3db26d5e7e70717e2d77,116,12,15,6,5367,boden,boden,"use callback payloads for SECURITY_GROUP

This patch switches over to callback payloads for SECURITY_GROUP
events. To do so a few shims are put into place the handle both
payload and kwarg style callbacks; these shims will be removed once
all events use payloads. In addition a few UT updates are included to
get the tests working properly with payloads.

Change-Id: I6161a8b387812808c4d679f882a3193c93235647
"
openstack%2Fopenstack-helm~master~I718a8170109028b2a5aa78d9c35839eaeb8982c7,openstack/openstack-helm,master,,I718a8170109028b2a5aa78d9c35839eaeb8982c7,MariaDB enable volume by default,ABANDONED,2021-03-15 10:27:32.000000000,2021-06-28 11:14:57.000000000,,1,1,1,780536,552474a736ccc751e3bad467248edc8dda2b6dfc,31,4,2,1,30449,jinyuanliu,jinyuanliu,"MariaDB enable volume by default

The StatefulSets all leverage PVCs to provide stateful storage.

Change-Id: I718a8170109028b2a5aa78d9c35839eaeb8982c7
"
openstack%2Freleases~master~I9bfb13acc16276aabeb98cdcffeb471c97cfcbf0,openstack/releases,master,tag-puppet-panko-as-retired,I9bfb13acc16276aabeb98cdcffeb471c97cfcbf0,retire puppet-panko,MERGED,2021-06-16 15:05:14.000000000,2021-06-28 11:14:34.000000000,2021-06-28 11:14:34.000000000,16,13,0,796690,ded599178ef61a69d0bf4f17abc616ff0a506ef0,16,4,2,6,28522,Hervé Beraud,hberaud,"retire puppet-panko

Change-Id: I9bfb13acc16276aabeb98cdcffeb471c97cfcbf0
"
openstack%2Fcharm-hacluster~master~I56cf2360ac41b12fc0a508881897ba63a5e89dbd,openstack/charm-hacluster,master,bug/1933223,I56cf2360ac41b12fc0a508881897ba63a5e89dbd,Safely delete node from ring,MERGED,2021-06-24 20:16:31.000000000,2021-06-28 11:11:15.000000000,2021-06-28 11:11:15.000000000,149,32,16,798018,102d463aa3439b6b4a9392757e1aa92b1ae63106,24,4,3,6,20805,David Ames,thedac,"Safely delete node from ring

Provide the delete-node-from-ring action to safely remove a known node
from the corosync ring.

Update the less safe update-ring action to avoid LP Bug #1933223 and
provide warnings in actions.yaml on its use.

Change-Id: I56cf2360ac41b12fc0a508881897ba63a5e89dbd
Closes-Bug: #1933223
"
openstack%2Fpuppet-oslo~master~I4478d209c23e7468e6f36fe417acc01d7b986938,openstack/puppet-oslo,master,listopts,I4478d209c23e7468e6f36fe417acc01d7b986938,Cors: Accept array for ListOpts,MERGED,2021-05-11 23:23:18.000000000,2021-06-28 11:10:07.000000000,2021-06-28 11:10:07.000000000,43,4,0,790861,769ff6dec9cbc9fe1c48b6493027407b37217f96,11,3,1,2,9816,Takashi Kajinami,kajinamit,"Cors: Accept array for ListOpts

The following four parameters of cors middleware are ListOpt, thus
accepting array for these options allows users to define parameters
in a similar format.

 - allowed_origin
 - expose_headers
 - allow_methods
 - allow_headers

Change-Id: I4478d209c23e7468e6f36fe417acc01d7b986938
"
openstack%2Fironic-python-agent~stable%2Fwallaby~Ifd738b2c5663f1a211d7e13b5ba386be631d8db1,openstack/ironic-python-agent,stable/wallaby,,Ifd738b2c5663f1a211d7e13b5ba386be631d8db1,Only mount the ESP if not yet mounted,MERGED,2021-06-25 15:58:26.000000000,2021-06-28 11:09:47.000000000,2021-06-28 11:08:30.000000000,20,7,0,798124,8ce1cd5395a5b4aaf7caace144b4b0e51f9bcdf2,8,3,1,3,11292,Arne Wiebalck,wiebalck,"Only mount the ESP if not yet mounted

Check if the ESP is already mounted before attempting to mount it
for the bootloader installation.

Change-Id: Ifd738b2c5663f1a211d7e13b5ba386be631d8db1
(cherry picked from commit 27568204aeb7f063bf236ad7f2f8043db627baa9)
"
openstack%2Freleases~master~I4383393afd59e98f9de04aa6171aea9f262e82cd,openstack/releases,master,ocata-eol,I4383393afd59e98f9de04aa6171aea9f262e82cd,[tricircle] Transition Ocata to End of Life,MERGED,2021-06-09 19:27:33.000000000,2021-06-28 11:09:10.000000000,2021-06-28 11:09:10.000000000,4,0,0,795680,e6ddf7f751b35552f190e69af8ae0ae548a7c65a,8,3,1,1,17685,Elod Illes,elod.illes,"[tricircle] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I4383393afd59e98f9de04aa6171aea9f262e82cd
"
openstack%2Foctavia~master~I8f0d3ba1d083c7e37e7e26617826400a538a0890,openstack/octavia,master,interfaces,I8f0d3ba1d083c7e37e7e26617826400a538a0890,Fix using host_routes in VIP subnet with amphorav2,MERGED,2021-06-07 13:37:04.000000000,2021-06-28 11:06:11.000000000,2021-06-28 11:04:44.000000000,14,2,0,795109,76606b4c4dc9595a015afb4c997f5d02ac7a7343,14,5,2,3,29244,Gregory Thiemonge,gthiemonge,"Fix using host_routes in VIP subnet with amphorav2

Ensure that amphorae_network_config parameter is not modified in
AmphoraPostVIPPlug. Modifying it would break amphorav2 persistence by
introducing non-serializable elements in the subnet dict

Story: 2008955
Task: 42580

Change-Id: I8f0d3ba1d083c7e37e7e26617826400a538a0890
"
openstack%2Fironic-python-agent~stable%2Fwallaby~Idfbce44065e1e5a8b730b94741b2604c51f0ab14,openstack/ironic-python-agent,stable/wallaby,,Idfbce44065e1e5a8b730b94741b2604c51f0ab14,Coalesce heartbeats,MERGED,2021-06-25 16:37:05.000000000,2021-06-28 11:05:27.000000000,2021-06-28 11:04:12.000000000,66,9,0,798129,fe898e22c5f97c02f2872b0f5bc607bb2a706666,8,3,1,3,11292,Arne Wiebalck,wiebalck,"Coalesce heartbeats

The IPA sends heartbeats to the conductor periodically and when
requested, e.g. at the end of asynchronous commands. In order
to avoid to send such notifications in too quick succession,
e.g. when two asynchronous commands finish at the same time or
when the periodic heartbeat was just sent right before a command
ended, this patch proposes to coalesce heartbeats which are
close together timewise and send only one for all of them
in a time interval of 5 seconds.

Co-Authored-By: Arne Wiebalck <arne.wiebalck@cern.ch>

Story: #2008983
Task: 42633

Change-Id: Idfbce44065e1e5a8b730b94741b2604c51f0ab14
(cherry picked from commit b605943796c24a174f0709b84170e0c6de7f4238)
"
openstack%2Fpuppet-horizon~master~Id8e4f4f9320e236e16b6e32f9b6a459f3fd10ece,openstack/puppet-horizon,master,nose-removal,Id8e4f4f9320e236e16b6e32f9b6a459f3fd10ece,Remove logger for nose.plugin.manager,MERGED,2021-05-17 06:53:14.000000000,2021-06-28 11:03:44.000000000,2021-06-28 11:03:44.000000000,0,7,0,791641,5227aca44f39ec919dc6b5177de725f905cc2cce,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Remove logger for nose.plugin.manager

Horizon has switched test runnner from nose to default Django test
runner a while ago[1], and doesn't require logger for nose module
since then.

[1] 1f80d94459856a8c477310cc0fe4b0e165d8c0c1

Change-Id: Id8e4f4f9320e236e16b6e32f9b6a459f3fd10ece
"
openstack%2Ftripleo-ansible~master~I629089ed09a0fc5b0ff320e518cbf551c02e1e88,openstack/tripleo-ansible,master,network-data-v2,I629089ed09a0fc5b0ff320e518cbf551c02e1e88,Module: tripleo_unprovision_network and cli playbook,ABANDONED,2021-06-28 10:56:25.000000000,2021-06-28 10:59:13.000000000,,202,0,0,798281,743479479fb02877519f92b6252624c611c86f5d,2,0,1,4,29775,Sandeep Yadav,sandeepyadav93,"Module: tripleo_unprovision_network and cli playbook

Add the ansible module `tripleo_unprovision_network`. Currently, We
don't have an automated way to clear the resources which we create
using ""openstack network provision"" command /
`tripleo_composable_network` module.  This module will be used to
delete the composable networks.

We expect user to pass the required network-data.yaml when
to the unprovision command which we added in patch[1].

This module only delete subnet/networks that are defined in net-data
passed via network-data.yaml. This module will only delete a subnet
if there are no ports from corresponding subnets, A network will only
be deleted if there are no subnets in that network (This is to
safeguard us from scenarios where same networks are used with
different subnets for the separate overcloud stacks).

Also, Adds CLI playbook cli-overcloud-network-unprovision.yaml
Playbook loads configuration data file, iterates over each composable
network definition and calls the tripleo_unprovision_network to delete
the network.

[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/773034
Change-Id: Ibef1d21c4d1f911e9c8ccc27253439c336c2420c

Change-Id: I629089ed09a0fc5b0ff320e518cbf551c02e1e88
"
openstack%2Fkolla~stable%2Fvictoria~I9490a844563fca4f8753378e98673ea3369f37e2,openstack/kolla,stable/victoria,,I9490a844563fca4f8753378e98673ea3369f37e2,Clean up extra spaces,ABANDONED,2021-06-25 04:35:14.000000000,2021-06-28 10:57:18.000000000,,5,1,0,798036,3a2af1ac17d45d9ff77fc94b9d50e307b1f01c35,4,2,1,2,30449,jinyuanliu,jinyuanliu,"Clean up extra spaces

I recently reviewed the code, although these errors are not important, they affect the code specification.

Change-Id: I9490a844563fca4f8753378e98673ea3369f37e2
"
openstack%2Fkolla~stable%2Fwallaby~I20f7576ad70c50f0163784de9965c1d945abf412,openstack/kolla,stable/wallaby,,I20f7576ad70c50f0163784de9965c1d945abf412,Clean up extra spaces,ABANDONED,2021-06-25 04:19:44.000000000,2021-06-28 10:57:04.000000000,,5,1,0,798034,591d5d4f0a45d45374c7e21b062317876e452aac,7,2,1,2,30449,jinyuanliu,jinyuanliu,"Clean up extra spaces

I recently reviewed the code, although these errors are not important, they affect the code specification.

Change-Id: I20f7576ad70c50f0163784de9965c1d945abf412
"
openstack%2Fpuppet-ironic~stable%2Fstein~I7fb70363d3473e8ff91cdb62595f227f3033a6f2,openstack/puppet-ironic,stable/stein,stein-tripleo,I7fb70363d3473e8ff91cdb62595f227f3033a6f2,Stein only: Remove tripleo job,MERGED,2021-06-27 14:51:51.000000000,2021-06-28 10:56:03.000000000,2021-06-28 10:56:03.000000000,0,1,0,798219,8094aade353bfc236c485961ad5c75fc70aa236a,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Stein only: Remove tripleo job

... because TripleO is moving its stable/stein to EOL.

Change-Id: I7fb70363d3473e8ff91cdb62595f227f3033a6f2
"
openstack%2Fkolla~stable%2Ftrain~If8088587c34d6293cfabe4949e588de28ecae93a,openstack/kolla,stable/train,,If8088587c34d6293cfabe4949e588de28ecae93a,Clean up extra spaces,ABANDONED,2021-06-25 04:39:31.000000000,2021-06-28 10:55:54.000000000,,5,1,0,798037,1960fbb77387c2dd5d2bb7f020e797adf3c6a6fa,12,2,1,2,30449,jinyuanliu,jinyuanliu,"Clean up extra spaces

I recently reviewed the code, although these errors are not important, they affect the code specification.

Change-Id: If8088587c34d6293cfabe4949e588de28ecae93a
"
openstack%2Fvalidations-common~master~I87f992918e6db67d8182a1bcc3ba2637f922bcf5,openstack/validations-common,master,VALIDATION_DEVELOPMENT_WORKFLOW,I87f992918e6db67d8182a1bcc3ba2637f922bcf5,Reorganize CONTRIBUTING information,MERGED,2021-06-23 14:50:29.000000000,2021-06-28 10:55:05.000000000,2021-06-28 10:53:57.000000000,59,99,0,797665,4a7a3c940f553dcca545e0dc6ebf572c0e623d3a,8,6,1,5,11491,Gael Chamoulaud,gchamoul,"Reorganize CONTRIBUTING information

This patch moves all the contributing information from
doc/source/contributing.rst to CONTRIBUTING.rst file.

It also removes the installation.rst because we have the same content in
the readme.rst.

Change-Id: I87f992918e6db67d8182a1bcc3ba2637f922bcf5
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
"
openstack%2Fpuppet-horizon~stable%2Fwallaby~I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9,openstack/puppet-horizon,stable/wallaby,puppet-horizon-dashboards,I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9,Add support for independent heat-dashboard configurations,MERGED,2021-06-08 05:08:52.000000000,2021-06-28 10:54:43.000000000,2021-06-28 10:53:35.000000000,241,2,1,795208,655e0df25e40b401d2daa5d673a416215ccd17b7,35,3,14,8,9816,Takashi Kajinami,kajinamit,"Add support for independent heat-dashboard configurations

Currently horizon supports per-dashboard configurations in
/etc/openstack-dashboard/local_settings.d. Each dashboard plugin
provides a specific file to define its parameters, and any parameters
used in dashboard plugins have been removed from the base
local_settings(.py) in horizon repo.

To follow how each plugin is supposed to have its configurations
managed, this change introduces an independent file for heat-dashboard.
Support for the other dashboards like manila-ui, octavia-ui, and etc
will be added later.

Conflicts:
	manifests/init.pp
	manifests/params.pp
	spec/classes/horizon_init_spec.rb
	templates/local_settings.py.erb

Backport note:
To minimize effect of this backport, the following change was made.
- The enable_user_pass parameter is not deprecated by this patch.

- Users can set the enable_user_pass parameter to undef to remove
  OPENSTACK_HEAT_STACK from local_settings.

- heatclient logging setting is left in local_settings, because
  consistent configuration is added.

Change-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9
(cherry picked from commit 382877dd4c8ee321eff1846c7c7afe4104dbd58f)
"
openstack%2Fkolla~stable%2Fussuri~Ib855c9ff1f0d7b9d0ba559359f6e9952571d2504,openstack/kolla,stable/ussuri,,Ib855c9ff1f0d7b9d0ba559359f6e9952571d2504,Clean up extra spaces,ABANDONED,2021-06-25 04:27:54.000000000,2021-06-28 10:54:42.000000000,,5,1,0,798035,2fcff1e70fcb0efe0d0edab0dbcf16410d159823,4,2,1,2,30449,jinyuanliu,jinyuanliu,"Clean up extra spaces

I recently reviewed the code, although these errors are not important, they affect the code specification.

Change-Id: Ib855c9ff1f0d7b9d0ba559359f6e9952571d2504
"
openstack%2Fvalidations-common~master~If214d99be7a2ce616f0f99700165f482d3847f79,openstack/validations-common,master,train/backward,If214d99be7a2ce616f0f99700165f482d3847f79,Fix the way we handle validation cli command in CI role,MERGED,2021-06-24 09:34:18.000000000,2021-06-28 10:53:54.000000000,2021-06-28 10:53:54.000000000,16,10,0,797860,5d0dc7a7eb72d72bf4e8f94fccdee462c2aa03ee,14,6,5,3,16515,mbu,matbu,"Fix the way we handle validation cli command in CI role

Change-Id: If214d99be7a2ce616f0f99700165f482d3847f79
"
openstack%2Fpuppet-neutron~master~I35c0a76cade37ccbaf7920b30ac162fe0f49e173,openstack/puppet-neutron,master,bug/1926693,I35c0a76cade37ccbaf7920b30ac162fe0f49e173,Add support for the resource_provider_default_hypervisor parameter,MERGED,2021-06-15 00:50:33.000000000,2021-06-28 10:50:57.000000000,2021-06-28 10:49:30.000000000,90,57,0,796326,38d85c0e7822fca68662371fe11018d7a457a19b,13,4,3,5,9816,Takashi Kajinami,kajinamit,"Add support for the resource_provider_default_hypervisor parameter

Related-Bug: #1926693
Depends-on: https://review.opendev.org/763563
Change-Id: I35c0a76cade37ccbaf7920b30ac162fe0f49e173
"
openstack%2Fpuppet-neutron~master~I8ef9bd75cd5afbdb784d584a2d9f282532370585,openstack/puppet-neutron,master,vpp-physnet,I8ef9bd75cd5afbdb784d584a2d9f282532370585,vpp: Accept array for physnets parameter,MERGED,2021-05-13 12:23:48.000000000,2021-06-28 10:50:22.000000000,2021-06-28 10:50:22.000000000,12,3,0,791141,3d85a90209b15041dd7926a629cd3a0901375206,10,3,3,2,9816,Takashi Kajinami,kajinamit,"vpp: Accept array for physnets parameter

The ml2_vpp/physnets parameter is ListOpt which takes comma separated
list, so accepting an array value allows users to set the parameter
using the same type.

Change-Id: I8ef9bd75cd5afbdb784d584a2d9f282532370585
"
openstack%2Fpuppet-openstacklib~master~I3fc6d1192632cc1458d00900508d548f522e9cdb,openstack/puppet-openstacklib,master,iscsid,I3fc6d1192632cc1458d00900508d548f522e9cdb,Add support for iscsid configuration,MERGED,2021-06-03 15:02:30.000000000,2021-06-28 10:48:57.000000000,2021-06-28 10:47:27.000000000,123,0,7,794605,6e67434c27d23d38c4a2bc52b944a9c7df5ff222,28,5,5,4,9816,Takashi Kajinami,kajinamit,"Add support for iscsid configuration

The iscsid service is used in sevral components like nova, cinder,
glance and so on to connect to iscsi devices. This change introduces
the new class to manage basic configuration of the iscsid service.

Co-authored-by: Alfredo Moralejo <amoralej@redhat.com>
Change-Id: I3fc6d1192632cc1458d00900508d548f522e9cdb
"
openstack%2Fpuppet-placement~master~I055b1614d796a1c7f686a0976700e1fee9c61ca3,openstack/puppet-placement,master,tripleo,I055b1614d796a1c7f686a0976700e1fee9c61ca3,Add TripleO job,MERGED,2021-04-18 14:00:31.000000000,2021-06-28 10:48:49.000000000,2021-06-28 10:48:49.000000000,19,0,1,786768,a7bf42e47a8e9cfdbe5fe846f62ab3de05dd8d78,17,4,3,1,9816,Takashi Kajinami,kajinamit,"Add TripleO job

The placement service is one of the core components generally used in
any OpenStack deployment. This change introduces a tripleo job to
ensure that any change in puppet-placement doesn't break TripleO.
Because tempest doesn't provide specific test cases for placement, nova
tests are used to check functionality of a TripleO deployment.

Change-Id: I055b1614d796a1c7f686a0976700e1fee9c61ca3
"
openstack%2Fpuppet-cinder~master~I933ccfbd779719056ec05196c3d4165c6882f03b,openstack/puppet-cinder,master,pure_host_personality,I933ccfbd779719056ec05196c3d4165c6882f03b,Pure Storage driver: Add support for pure_host_personality,MERGED,2021-06-23 13:44:11.000000000,2021-06-28 10:48:30.000000000,2021-06-28 10:47:18.000000000,25,0,1,797650,714c56b2a072f6732c5f4f391ad6a4e93f8ac651,9,4,1,3,9816,Takashi Kajinami,kajinamit,"Pure Storage driver: Add support for pure_host_personality

This change introduces support for the pure_host_personality parameter
in Pure Storage volume driver.

Change-Id: I933ccfbd779719056ec05196c3d4165c6882f03b
"
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~Ia086679798eaf4eb8eed83867125defe689909e3,openstack/puppet-openstack-integration,stable/ussuri,,Ia086679798eaf4eb8eed83867125defe689909e3,Drop syntax job on CentOS8,MERGED,2021-05-04 01:59:04.000000000,2021-06-28 10:47:48.000000000,2021-06-28 10:47:48.000000000,4,14,0,789431,6eef4f4e75e5622fc4d8bcfdc68b37d2ec403b7d,8,2,2,2,9816,Takashi Kajinami,kajinamit,"Drop syntax job on CentOS8

Currently we run syntax job on Ubuntu only for usual modules while
we run also one on CentOS8 for libraries.
Since syntax job doesn't depend on the host OS, it's enough if we run
the job on Ubuntu.

Conflicts:
	zuul.d/layout.yaml
	zuul.d/linters.yaml

Resolved conflict caused by a different Puppet 6 minor version used
in Victoria. Also, resolved conflict caused by Puppet 5 syntax job
still enabled in Ussuri.

Change-Id: Ia086679798eaf4eb8eed83867125defe689909e3
(cherry picked from commit fc340a3da47a8c68b7573d86680b94dc04d69f0c)
(cherry picked from commit 0849daf900827d02e5cec52172b6d503c66bfa70)
(cherry picked from commit 1a6e1b764c6a3a222259159e3634c5ef4ef3cf69)
"
openstack%2Fpuppet-openstack-integration~master~I2e01e3a8da9a0d082ad44c1834083cbb3e64b33b,openstack/puppet-openstack-integration,master,modules,I2e01e3a8da9a0d082ad44c1834083cbb3e64b33b,CentOS: Get list of dnf modules,MERGED,2021-05-25 12:15:51.000000000,2021-06-28 10:47:45.000000000,2021-06-28 10:47:45.000000000,3,0,0,792956,b0d2e00979119b72d2c136aa095d35c7ee5d7215,7,3,1,1,9816,Takashi Kajinami,kajinamit,"CentOS: Get list of dnf modules

... so that we can check which modules are enabled in CI.

Change-Id: I2e01e3a8da9a0d082ad44c1834083cbb3e64b33b
"
openstack%2Fpuppet-openstack-integration~master~Ie4989a772a308bfb44ad61a04d135d0c8b217163,openstack/puppet-openstack-integration,master,dashboards,Ie4989a772a308bfb44ad61a04d135d0c8b217163,Test the new horizon::dashboards::heat class,MERGED,2021-05-03 17:03:56.000000000,2021-06-28 10:47:39.000000000,2021-06-28 10:47:39.000000000,15,3,0,789387,7538c249d97e4de7b07082e25ca577f0b8fdf77d,19,3,3,2,9816,Takashi Kajinami,kajinamit,"Test the new horizon::dashboards::heat class

Depends-on: https://review.opendev.org/775322
Change-Id: Ie4989a772a308bfb44ad61a04d135d0c8b217163
"
openstack%2Fpuppet-gnocchi~master~Ibf79b167a9d193974180949c95557d77ca495499,openstack/puppet-gnocchi,master,file-incoming,Ibf79b167a9d193974180949c95557d77ca495499,Add support for the file incoming driver,MERGED,2021-05-24 16:30:26.000000000,2021-06-28 10:37:33.000000000,2021-06-28 10:36:23.000000000,84,0,0,792832,a00bfa36426708c5b674d2467e345e0dbcf4f453,13,3,3,3,9816,Takashi Kajinami,kajinamit,"Add support for the file incoming driver

This change introduces a new gnocchi::storage::incoming::driver class
so that users can configure the file incoming driver of Gnocchi, which
stores incoming data in local (or shared) filesystem.

Change-Id: Ibf79b167a9d193974180949c95557d77ca495499
"
openstack%2Fopenstack-tempest-skiplist~master~Ia56f013220e242b9b048d38a925c17492fbd447b,openstack/openstack-tempest-skiplist,master,,Ia56f013220e242b9b048d38a925c17492fbd447b,Fixup tempest skip for bug/1933115,MERGED,2021-06-25 10:25:24.000000000,2021-06-28 10:35:00.000000000,2021-06-25 19:10:23.000000000,2,2,0,798068,8d216bd92500d76b51f0f7cd8c7b40d89ae58b7f,10,2,1,1,8449,Marios Andreou,marios,"Fixup tempest skip for bug/1933115

See related-bug comment #3 this tweaks the skip for a failing test

Related-Bug: 1933115
Change-Id: Ia56f013220e242b9b048d38a925c17492fbd447b
"
openstack%2Freleases~master~I2a2ee1aae839f1e9de07c0c4554381385e4a5c50,openstack/releases,master,oslo.privsep_2_6_0,I2a2ee1aae839f1e9de07c0c4554381385e4a5c50,Release oslo.privsep 2.6.0,MERGED,2021-06-25 11:03:26.000000000,2021-06-28 10:29:55.000000000,2021-06-28 10:29:55.000000000,5,0,0,798076,16eb68b12846a9f95a9b2ff70b2802d91c60edbb,9,4,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Release oslo.privsep 2.6.0

Change-Id: I2a2ee1aae839f1e9de07c0c4554381385e4a5c50
"
openstack%2Fpuppet-vswitch~master~I99e6da0110de10467fa44aa894a66814fa632839,openstack/puppet-vswitch,master,drop-el6,I99e6da0110de10467fa44aa894a66814fa632839,Remove a provider for CentOS/RHEL 6,MERGED,2021-06-09 09:28:21.000000000,2021-06-28 10:26:56.000000000,2021-06-28 10:26:56.000000000,0,22,0,795507,99ab87be9c101a06320035a52457b682334d7145,9,4,2,1,9816,Takashi Kajinami,kajinamit,"Remove a provider for CentOS/RHEL 6

CentOS6 and RHEL6 are no longer supported so we'll no longer use that
provider implementation.

Change-Id: I99e6da0110de10467fa44aa894a66814fa632839
"
openstack%2Fpuppet-openstack_extras~master~I4ca4c8b93a81e5146f28f2bdf152882e737be0bf,openstack/puppet-openstack_extras,master,drop-fedora,I4ca4c8b93a81e5146f28f2bdf152882e737be0bf,Drop Fedora support,MERGED,2021-06-12 15:12:51.000000000,2021-06-28 10:21:44.000000000,2021-06-28 10:21:44.000000000,2,8,0,796145,33140bff9b0b6587b397a57622fb39feed0d959f,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I4ca4c8b93a81e5146f28f2bdf152882e737be0bf
"
openstack%2Fpuppet-magnum~master~I4c2d291f4cc6cf90a8f5621edf6b5db066038437,openstack/puppet-magnum,master,drop-fedora,I4c2d291f4cc6cf90a8f5621edf6b5db066038437,Drop Fedora support,MERGED,2021-06-12 14:35:27.000000000,2021-06-28 10:16:13.000000000,2021-06-28 10:14:56.000000000,4,6,0,796122,b9850c0d333e49398e1302f79c4d84b48c13fbb3,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I4c2d291f4cc6cf90a8f5621edf6b5db066038437
"
openstack%2Fpuppet-magnum~master~I190035142db4743128b73246a5886e12e8b4808f,openstack/puppet-magnum,master,manage_service,I190035142db4743128b73246a5886e12e8b4808f,Only manage service if manage_service is set,MERGED,2021-06-23 05:55:09.000000000,2021-06-28 10:14:51.000000000,2021-06-28 10:14:51.000000000,9,9,1,797565,3a9c564885728134d6ba233e3f03961eb4126d7c,15,4,3,2,8064,Jake Yip,jake,"Only manage service if manage_service is set

For magnum::api, the service is not managed by puppet when
manage_service is false. This should be the correct/intuitive behaviour.

Set magnum::conductor to be the same.

Change-Id: I190035142db4743128b73246a5886e12e8b4808f
"
openstack%2Fpuppet-ceilometer~master~I5e0af169ccdb2f4c56318dbc0198f480ab4b15fa,openstack/puppet-ceilometer,master,coordination,I5e0af169ccdb2f4c56318dbc0198f480ab4b15fa,Use oslo::coordination to manage coordination parameters,MERGED,2021-05-21 07:04:04.000000000,2021-06-28 10:14:31.000000000,2021-06-28 10:13:07.000000000,83,17,0,792509,1155b41db051e95e9246aa02eed2205f1f0f845a,11,3,4,5,9816,Takashi Kajinami,kajinamit,"Use oslo::coordination to manage coordination parameters

This change replaces current implementation about coordination
parameters by oslo::coordination resource type, so that we can gather
all logics related to coordination in a single place.

Depends-on: https://review.opendev.org/791628
Change-Id: I5e0af169ccdb2f4c56318dbc0198f480ab4b15fa
"
openstack%2Fcharm-cinder-purestorage~master~I671cf2071e1f156f776b793b06828e1b6d5f62dc,openstack/charm-cinder-purestorage,master,charm-metadata-impish,I671cf2071e1f156f776b793b06828e1b6d5f62dc,Add impish to metadata.yaml,MERGED,2021-06-03 09:10:58.000000000,2021-06-28 10:13:28.000000000,2021-06-28 10:13:28.000000000,1,0,0,794495,2d1ece65611b43242a0549f1088621353e3dd9ce,17,4,2,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: I671cf2071e1f156f776b793b06828e1b6d5f62dc
"
openstack%2Fswift~master~Ib0f35a61657b62019d8769871d79127e7d95b2ea,openstack/swift,master,p-sharder-tiny-tail,Ib0f35a61657b62019d8769871d79127e7d95b2ea,sharder: make default minimum_shard_size = shrink_threshold + 1,ABANDONED,2021-06-04 17:40:37.000000000,2021-06-28 10:10:49.000000000,,30,23,1,794869,5674a6062d022ee06ce1c1b6a5d299c2ae7ca72d,5,2,1,3,7847,Alistair Coles,acoles,"sharder: make default minimum_shard_size = shrink_threshold + 1

shrink_threshold can be set to zero to prevent shrinking, but
minimum_shard_size must be > 0.

Change-Id: Ib0f35a61657b62019d8769871d79127e7d95b2ea
"
openstack%2Fpuppet-manila~master~I5705b218fedd9088602d931af544b2728745d8c1,openstack/puppet-manila,master,driver_handles_share_servers,I5705b218fedd9088602d931af544b2728745d8c1,Deprecate redundant driver_handles_share_servers,MERGED,2021-05-28 06:15:07.000000000,2021-06-28 10:08:07.000000000,2021-06-28 10:06:21.000000000,136,122,0,793542,4c365c9064845e73a1da0f868ebba5a00c6a5c7a,17,3,8,7,9816,Takashi Kajinami,kajinamit,"Deprecate redundant driver_handles_share_servers

Several dreivers don't support changing driver_handles_share_servers
but only support True or False. For such drivers, it's not really
helpful to expose an interface to set the parameter. Futhermore, it's
just redundant to require the parmaeters is set with the proper value.
This change deprecate the driver_handles_share_servers parameter about
share drivers which support only one of True or False.

Change-Id: I5705b218fedd9088602d931af544b2728745d8c1
"
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~Ief2498258d43c32ef70afb390ec12a2a580bce19,openstack/puppet-openstack-integration,stable/ussuri,bug/1933232,Ief2498258d43c32ef70afb390ec12a2a580bce19,Ussuri-only: Make beaker job non-voting,MERGED,2021-06-27 13:34:13.000000000,2021-06-28 10:07:28.000000000,2021-06-28 10:07:28.000000000,1,0,0,798213,48ab839e7b08314ca8bec3b6ccde178a7584eaa4,8,5,2,1,9816,Takashi Kajinami,kajinamit,"Ussuri-only: Make beaker job non-voting

Beaker jobs in stable/ussuri are currently broken and are blocking
backports. Let's make these jobs non-voting until we fix the issue.

Related-Bug: #1933232
Change-Id: Ief2498258d43c32ef70afb390ec12a2a580bce19
"
openstack%2Fironic~bugfix%2F18.0~I72eb4d7f0d26dd5deee9167c5e29cf6af1b683ae,openstack/ironic,bugfix/18.0,dhcp-less-configdrive-bugfix/18.0,I72eb4d7f0d26dd5deee9167c5e29cf6af1b683ae,dhcp-less: mention how to provide network_data to instance,MERGED,2021-06-16 13:18:52.000000000,2021-06-28 09:45:42.000000000,2021-06-28 09:44:02.000000000,19,0,0,796655,7628d46e18e102e5156d6a2ef1e3be1858799efa,7,2,1,1,23851,Riccardo Pittau,elfosardo,"dhcp-less: mention how to provide network_data to instance

Change-Id: I72eb4d7f0d26dd5deee9167c5e29cf6af1b683ae
(cherry picked from commit fd7cde9b9ed7e331a4a4932b903534591e42d562)
"
openstack%2Fpuppet-octavia~master~I2f757b80ef45a7bd6c28814fddb8a024b591587f,openstack/puppet-octavia,master,healthcheck_refresh_interval,I2f757b80ef45a7bd6c28814fddb8a024b591587f,Add support for [api_settings] healthcheck_refresh_interval,MERGED,2021-05-04 08:19:15.000000000,2021-06-28 09:44:38.000000000,2021-06-28 09:43:16.000000000,14,0,0,789520,1a95466c0be294183c83ed5241186fb381e4ecfc,9,4,1,3,9816,Takashi Kajinami,kajinamit,"Add support for [api_settings] healthcheck_refresh_interval

Change-Id: I2f757b80ef45a7bd6c28814fddb8a024b591587f
"
openstack%2Fkolla-ansible~master~I9c415656073221371b52589707c2ef74e14d8608,openstack/kolla-ansible,master,,I9c415656073221371b52589707c2ef74e14d8608,Configure Monasca Grafana user roles,ABANDONED,2019-06-26 16:13:34.000000000,2021-06-28 09:44:07.000000000,,18,3,0,667671,ba7231f4d20f2a10e0ae5176a36c3a16c119af9d,31,7,6,3,17669,Doug Szumski,DougSzumski,"Configure Monasca Grafana user roles

This change automatically configures roles for admins, editors and
viewers in Monasca Grafana. It also removes an unused field which
originated from the example config.

Change-Id: I9c415656073221371b52589707c2ef74e14d8608
"
openstack%2Fkolla~stable%2Ftrain~Ib74eecd46617af51e23a3ccad664767b1bf6e04f,openstack/kolla,stable/train,ci-emergency-fix-for-zuul-4-6-stable/wallaby-stable/victoria-stable/ussuri-stable/train,Ib74eecd46617af51e23a3ccad664767b1bf6e04f,[CI] Do not set ansible_python_interpreter for Zuul,ABANDONED,2021-06-28 09:32:09.000000000,2021-06-28 09:34:20.000000000,,62,0,0,798110,8fa740807f66954147e9e847519257dd4e3322c3,2,0,1,2,30491,Radosław Piliszek,yoctozepto,"[CI] Do not set ansible_python_interpreter for Zuul

Zuul 4.6.0 does not allow to set ansible_python_interpreter. [1]
Instead, with the current Zuul and Ansible, this should be
automatically set to the proper python.

This patch is required to restore the jobs which are ignored
otherwise. [2] [3]

Additionally, this change avoids the use of Ansible's pip
module because it tries to use setuptools from the
ansible_python_interpreter first even if another executable is
set.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html

Change-Id: Ib74eecd46617af51e23a3ccad664767b1bf6e04f
"
openstack%2Ftripleo-ci~master~I21450e262b674c795e556e04c18e2627cb3a410f,openstack/tripleo-ci,master,bug/1930151,I21450e262b674c795e556e04c18e2627cb3a410f,"Revert ""Set T->U undercloud upgrade to non-voting""",MERGED,2021-06-24 11:03:06.000000000,2021-06-28 09:31:54.000000000,2021-06-28 09:31:54.000000000,7,1,0,797769,232de9dd839755601648af65385553956991e634,9,5,1,1,8449,Marios Andreou,marios,"Revert ""Set T->U undercloud upgrade to non-voting""

This reverts commit 3f9eb85616ac96d29135d930c380afd420527457.

Related-Bug: 1930151
Reason for revert: Job should be fixed and made voting again

Change-Id: I21450e262b674c795e556e04c18e2627cb3a410f
"
openstack%2Fcharm-neutron-openvswitch~master~I5e455fa701cc2f5248ccfd9ed15f3c902aacb1ef,openstack/charm-neutron-openvswitch,master,bug/1635067,I5e455fa701cc2f5248ccfd9ed15f3c902aacb1ef,Deprecate linux bridge usage in data-port config,MERGED,2020-05-15 08:32:00.000000000,2021-06-28 09:14:59.000000000,2021-06-28 09:14:59.000000000,20,1,2,728382,0cbc2a8c0f645d34d3a293928de0be3bf36fd0ef,28,6,7,2,24824,Dmitrii Shcherbakov,dmitriis,"Deprecate linux bridge usage in data-port config

f832f1073d47a430111c59563962922dfe37a0a5 addressed LP: #1635067 by
adding support for using pre-created Linux bridges in the data-port
config option.

The same use-case of reusing a single physical interface for VLAN
interfaces and plugging it into an OVS bridge can be addressed in a
different way by plugging the physical interface directly into the OVS
bridge and creating VLAN interfaces on that physical interface - this
does not require the use of veth pairs which is problematic due to the
performance reasons and lack of support for in netplan for veth pairs at
the time of writing.

There is a procedure to move from the setup with Linux bridge and veth
pair used to the one that does not which will be documented to migrate
the existing environments in-place.

Partial-Bug: #1877594
Change-Id: I5e455fa701cc2f5248ccfd9ed15f3c902aacb1ef
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
"
openstack%2Fpuppet-gnocchi~master~I21c43154fad6ce7a7f31f7b7e539c18f23ec59ea,openstack/puppet-gnocchi,master,drop-fedora,I21c43154fad6ce7a7f31f7b7e539c18f23ec59ea,Drop Fedora support,MERGED,2021-06-12 15:14:10.000000000,2021-06-28 09:10:46.000000000,2021-06-28 09:08:33.000000000,4,6,0,796146,39fc4eeeb2fc01ac188abace7c1306bbc7ce0146,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I21c43154fad6ce7a7f31f7b7e539c18f23ec59ea
"
openstack%2Fpuppet-heat~master~I9193e4ca93ebb203f88b3a8c888d0d774dcc3854,openstack/puppet-heat,master,drop-fedora,I9193e4ca93ebb203f88b3a8c888d0d774dcc3854,Drop Fedora support,MERGED,2021-06-12 14:30:19.000000000,2021-06-28 09:07:56.000000000,2021-06-28 09:06:06.000000000,4,6,0,796117,eaa9b393a29a5cde0bdfc36f4e297996ff14fc9b,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I9193e4ca93ebb203f88b3a8c888d0d774dcc3854
"
openstack%2Fpuppet-cloudkitty~master~Ief3640d02625ac18ad638e5c7b4ee3cf01bd7b22,openstack/puppet-cloudkitty,master,drop-fedora,Ief3640d02625ac18ad638e5c7b4ee3cf01bd7b22,Drop Fedora support,MERGED,2021-06-12 03:52:47.000000000,2021-06-28 09:07:35.000000000,2021-06-28 09:06:02.000000000,4,6,0,796100,4886129911665ec31a820ca5da002d9ce8f89ebb,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: Ief3640d02625ac18ad638e5c7b4ee3cf01bd7b22
"
openstack%2Fpuppet-ec2api~master~I686b1f27b9929795d5d4c0de5c4740e6d15a0b6f,openstack/puppet-ec2api,master,drop-fedora,I686b1f27b9929795d5d4c0de5c4740e6d15a0b6f,Drop Fedora support,MERGED,2021-06-12 03:49:24.000000000,2021-06-28 09:06:33.000000000,2021-06-28 09:04:29.000000000,4,6,0,796098,398a77598a223a523ae2d8d2e4df3046c9c65f95,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I686b1f27b9929795d5d4c0de5c4740e6d15a0b6f
"
openstack%2Fpuppet-designate~master~I1f890f7bad072dd14cfa938a2fb78451f855f024,openstack/puppet-designate,master,drop-fedora,I1f890f7bad072dd14cfa938a2fb78451f855f024,Drop Fedora support,MERGED,2021-06-12 03:51:32.000000000,2021-06-28 09:06:23.000000000,2021-06-28 09:04:45.000000000,4,6,0,796099,578ec7d6fc38c18fdd19fc9cf217ccd1d44e83bc,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I1f890f7bad072dd14cfa938a2fb78451f855f024
"
openstack%2Fpuppet-horizon~master~I2f683609898995962efe68f9b7467f07862761e4,openstack/puppet-horizon,master,drop-fedora,I2f683609898995962efe68f9b7467f07862761e4,Drop Fedora support,MERGED,2021-06-12 14:31:13.000000000,2021-06-28 09:04:23.000000000,2021-06-28 09:03:00.000000000,4,0,0,796118,6a606c65e4db6c1ab7f22a144efb7f2995f06722,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I2f683609898995962efe68f9b7467f07862761e4
"
openstack%2Fpuppet-qdr~master~Id0f6bf8e1e1f622c957477a8895ac99584176f33,openstack/puppet-qdr,master,drop-fedora,Id0f6bf8e1e1f622c957477a8895ac99584176f33,Drop Fedora support,MERGED,2021-06-12 15:02:07.000000000,2021-06-28 09:03:16.000000000,2021-06-28 09:01:55.000000000,9,13,0,796139,94a6b90a6dc72ea9053130ebe7e18eeb331194d6,10,3,2,3,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: Id0f6bf8e1e1f622c957477a8895ac99584176f33
"
openstack%2Fpuppet-mistral~master~I1cbf166670fad2689f85a0987b60c52cfef2aa1f,openstack/puppet-mistral,master,drop-fedora,I1cbf166670fad2689f85a0987b60c52cfef2aa1f,Drop Fedora support,MERGED,2021-06-12 14:37:10.000000000,2021-06-28 09:02:47.000000000,2021-06-28 09:01:20.000000000,4,6,0,796124,8d0e5fba2e331d1bfa6cfbf5a6c81c1fef435e08,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I1cbf166670fad2689f85a0987b60c52cfef2aa1f
"
openstack%2Fpuppet-freezer~master~I1336c9c91dfd8ef24be84331aa73a2924df0181f,openstack/puppet-freezer,master,drop-fedora,I1336c9c91dfd8ef24be84331aa73a2924df0181f,Drop Fedora support,MERGED,2021-06-12 14:59:22.000000000,2021-06-28 09:02:11.000000000,2021-06-28 09:00:38.000000000,4,0,0,796138,47f015ac986e422f6c6a067783fcf957c1437f54,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I1336c9c91dfd8ef24be84331aa73a2924df0181f
"
openstack%2Fpuppet-placement~master~Ia739ccfd456edee60010614b4e9433088a90e1af,openstack/puppet-placement,master,drop-fedora,Ia739ccfd456edee60010614b4e9433088a90e1af,Drop Fedora support,MERGED,2021-06-12 15:10:53.000000000,2021-06-28 09:02:00.000000000,2021-06-28 08:59:54.000000000,4,6,0,796144,6994e30d7edbe547f1cbffcdd3ac5bb8019b7680,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: Ia739ccfd456edee60010614b4e9433088a90e1af
"
openstack%2Fpuppet-keystone~master~Ic4a3606eb44b32f566fc21fc8dfde0732ad9c12f,openstack/puppet-keystone,master,drop-fedora,Ic4a3606eb44b32f566fc21fc8dfde0732ad9c12f,Drop Fedora support,MERGED,2021-06-12 14:34:22.000000000,2021-06-28 09:01:47.000000000,2021-06-28 08:59:38.000000000,4,6,0,796121,e914abd4f1e6586e1f345068d8f77592bb3dd1ae,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: Ic4a3606eb44b32f566fc21fc8dfde0732ad9c12f
"
openstack%2Fpuppet-swift~master~I4859f41e090671450197cb21d8ef5d3f7046f4dc,openstack/puppet-swift,master,drop-fedora,I4859f41e090671450197cb21d8ef5d3f7046f4dc,Drop Fedora support,MERGED,2021-06-12 14:40:12.000000000,2021-06-28 09:01:37.000000000,2021-06-28 08:59:47.000000000,4,6,0,796127,6836151ac045650ecf1d379e1accdb3e49653c5e,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I4859f41e090671450197cb21d8ef5d3f7046f4dc
"
openstack%2Fpuppet-tempest~master~Id38c7059f99eef60f904da5cfc6abf4cbcba0056,openstack/puppet-tempest,master,drop-fedora,Id38c7059f99eef60f904da5cfc6abf4cbcba0056,Drop Fedora support,MERGED,2021-06-12 14:40:59.000000000,2021-06-28 09:00:11.000000000,2021-06-28 08:57:52.000000000,4,6,0,796128,277822974cd58ee30888a348df5fd16e0e0696bf,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: Id38c7059f99eef60f904da5cfc6abf4cbcba0056
"
openstack%2Fpuppet-sahara~master~Icf29bfc2457683c31b8b7be7f46fbc6a9ca3e8f7,openstack/puppet-sahara,master,drop-fedora,Icf29bfc2457683c31b8b7be7f46fbc6a9ca3e8f7,Drop Fedora support,MERGED,2021-06-12 14:39:36.000000000,2021-06-28 09:00:08.000000000,2021-06-28 08:58:20.000000000,4,6,0,796126,4589c76a29f4dbde5099cfda8136929b1f1c3316,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: Icf29bfc2457683c31b8b7be7f46fbc6a9ca3e8f7
"
openstack%2Fpuppet-tacker~master~I3c114e27716851446e2ee884fcf33afde3c09a8a,openstack/puppet-tacker,master,drop-fedora,I3c114e27716851446e2ee884fcf33afde3c09a8a,Drop Fedora support,MERGED,2021-06-12 15:05:05.000000000,2021-06-28 09:00:02.000000000,2021-06-28 08:57:40.000000000,4,6,0,796141,8ddfe2e2a1805eff20842b0adb00c02d76eeffda,10,3,2,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I3c114e27716851446e2ee884fcf33afde3c09a8a
"
openstack%2Fpuppet-keystone~master~I6988ee097d61be78f065c79ce18dc2bac83ddb10,openstack/puppet-keystone,master,pyvers-removal,I6988ee097d61be78f065c79ce18dc2bac83ddb10,Fix leftover related to $pyvers variable,MERGED,2021-06-12 14:33:49.000000000,2021-06-28 08:59:17.000000000,2021-06-28 08:59:17.000000000,1,9,0,796120,4a0b48ca6c64395d2ad62b0be5ebe7ac110b82b7,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Fix leftover related to $pyvers variable

This change removes a logic in unit tests assuming usage of $pyvers,
which was left by 62d556fc63da83fbd56ea80c78e6eaac5f559cc0 which
removed $pyvers.

Change-Id: I6988ee097d61be78f065c79ce18dc2bac83ddb10
"
openstack%2Fpuppet-octavia~master~I9f21f32e9844341ade8c082ac09a66dacfd71a87,openstack/puppet-octavia,master,drop-fedora,I9f21f32e9844341ade8c082ac09a66dacfd71a87,Drop Fedora support,MERGED,2021-06-12 14:38:34.000000000,2021-06-28 08:58:56.000000000,2021-06-28 08:57:28.000000000,4,6,0,796125,2777bc55b8159ea02f1ac368b4881430a386b3a8,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I9f21f32e9844341ade8c082ac09a66dacfd71a87
"
openstack%2Fpuppet-manila~master~I1724fc9a3616c87393314e5a2796e465bbb94e91,openstack/puppet-manila,master,drop-fedora,I1724fc9a3616c87393314e5a2796e465bbb94e91,Drop Fedora support,MERGED,2021-06-12 14:36:00.000000000,2021-06-28 08:58:54.000000000,2021-06-28 08:57:32.000000000,4,6,2,796123,52865dc8d37ddbb0090afe006c1ab20b356ee824,14,4,3,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I1724fc9a3616c87393314e5a2796e465bbb94e91
"
openstack%2Fpuppet-ovn~master~I845c0e39ce56847cd336cacb3047b1e3dfe0c813,openstack/puppet-ovn,master,drop-fedora,I845c0e39ce56847cd336cacb3047b1e3dfe0c813,Drop Fedora support,MERGED,2021-06-12 14:42:11.000000000,2021-06-28 08:57:17.000000000,2021-06-28 08:55:54.000000000,4,6,0,796129,2b47ff55433d4b50965366ef16f86c0b66d412e5,8,3,1,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I845c0e39ce56847cd336cacb3047b1e3dfe0c813
"
openstack%2Fpuppet-cinder~stable%2Fwallaby~I7b540f9d1f604fc8c63e9cc7cbe5edfff82a055d,openstack/puppet-cinder,stable/wallaby,,I7b540f9d1f604fc8c63e9cc7cbe5edfff82a055d,Fix ignored unit test case of cinder::backend::pure,MERGED,2021-06-25 09:19:52.000000000,2021-06-28 08:55:50.000000000,2021-06-28 08:55:50.000000000,1,1,0,797953,42d22c252845c015b2383aac44a9767c872687e7,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix ignored unit test case of cinder::backend::pure

Change-Id: I7b540f9d1f604fc8c63e9cc7cbe5edfff82a055d
(cherry picked from commit bf00282852a753d0498178b49ad22d2406eeafd8)
"
openstack%2Fpuppet-openstack-cookiecutter~master~I0e42694ba0c09fb32bce259a54313d3a7bde8027,openstack/puppet-openstack-cookiecutter,master,postgresql-password,I0e42694ba0c09fb32bce259a54313d3a7bde8027,Remove unused logic to generate md5 password,MERGED,2021-06-22 11:28:19.000000000,2021-06-28 08:53:54.000000000,2021-06-28 08:53:54.000000000,0,2,0,797431,da8d31af9d0b60cbc8bf4ab3b450a7d91201d68f,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Remove unused logic to generate md5 password

Since d878511593c7895a5837c19d8b25f301293018db is merged, md5 hashing
is handled within openstacklib::db::postgresql and we no longer need
to care about hashed values.

Change-Id: I0e42694ba0c09fb32bce259a54313d3a7bde8027
"
openstack%2Fpuppet-barbican~master~I47b68064df58fb9874d1d069619611a1e8a51a60,openstack/puppet-barbican,master,drop-fedora,I47b68064df58fb9874d1d069619611a1e8a51a60,Drop Fedora support,MERGED,2021-05-26 09:51:59.000000000,2021-06-28 08:49:33.000000000,2021-06-28 08:48:01.000000000,4,6,0,793131,95600aadefc5abacc09f59ab338525ed9f615c84,13,4,3,2,9816,Takashi Kajinami,kajinamit,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I47b68064df58fb9874d1d069619611a1e8a51a60
"
openstack%2Fkolla-ansible~master~I53e666d59d0cce26e38c6f66a39eb204bda502d3,openstack/kolla-ansible,master,ci-emergency-fix-for-zuul-4-6,I53e666d59d0cce26e38c6f66a39eb204bda502d3,[CI] Do not set ansible_python_interpreter for Zuul,MERGED,2021-06-26 19:14:55.000000000,2021-06-28 08:25:17.000000000,2021-06-28 08:12:54.000000000,13,18,0,798201,a73e89f03f62124017d8f1ee02b4f8137232bd11,20,6,3,2,30491,Radosław Piliszek,yoctozepto,"[CI] Do not set ansible_python_interpreter for Zuul

Zuul 4.6.0 does not allow to set ansible_python_interpreter. [1]
Instead, with the current Zuul and Ansible, this should be
automatically set to the proper python.

This patch is required to restore the jobs which are ignored
otherwise. [2] [3]

Additionally, this change avoids the use of Ansible's pip
module because it tries to use setuptools from the
ansible_python_interpreter first even if another executable is
set.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html

Change-Id: I53e666d59d0cce26e38c6f66a39eb204bda502d3
"
openstack%2Fkolla-ansible~stable%2Fussuri~I53e666d59d0cce26e38c6f66a39eb204bda502d3,openstack/kolla-ansible,stable/ussuri,ci-emergency-fix-for-zuul-4-6,I53e666d59d0cce26e38c6f66a39eb204bda502d3,[CI] Do not set ansible_python_interpreter for Zuul,MERGED,2021-06-26 19:19:16.000000000,2021-06-28 08:17:09.000000000,2021-06-28 08:13:28.000000000,15,30,0,798204,0d8f65eac8d8818d4f56c79a17f2348f343e2bb0,17,4,3,2,30491,Radosław Piliszek,yoctozepto,"[CI] Do not set ansible_python_interpreter for Zuul

Zuul 4.6.0 does not allow to set ansible_python_interpreter. [1]
Instead, with the current Zuul and Ansible, this should be
automatically set to the proper python.

This patch is required to restore the jobs which are ignored
otherwise. [2] [3]

Additionally, this change avoids the use of Ansible's pip
module because it tries to use setuptools from the
ansible_python_interpreter first even if another executable is
set.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html

Change-Id: I53e666d59d0cce26e38c6f66a39eb204bda502d3
"
openstack%2Fkolla-ansible~stable%2Ftrain~I53e666d59d0cce26e38c6f66a39eb204bda502d3,openstack/kolla-ansible,stable/train,ci-emergency-fix-for-zuul-4-6,I53e666d59d0cce26e38c6f66a39eb204bda502d3,[CI] Do not set ansible_python_interpreter for Zuul,MERGED,2021-06-26 19:23:26.000000000,2021-06-28 08:17:07.000000000,2021-06-28 08:13:37.000000000,23,143,0,798205,f1201f95fe8e317229750a5f2a5a60736c924f6c,25,4,10,4,30491,Radosław Piliszek,yoctozepto,"[CI] Do not set ansible_python_interpreter for Zuul

Zuul 4.6.0 does not allow to set ansible_python_interpreter. [1]
Instead, with the current Zuul and Ansible, this should be
automatically set to the proper python.

This patch is required to restore the jobs which are ignored
otherwise. [2] [3]

Additionally, this change avoids the use of Ansible's pip
module because it tries to use setuptools from the
ansible_python_interpreter first even if another executable is
set.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html

Change-Id: I53e666d59d0cce26e38c6f66a39eb204bda502d3
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I53e666d59d0cce26e38c6f66a39eb204bda502d3,openstack/kolla-ansible,stable/victoria,ci-emergency-fix-for-zuul-4-6,I53e666d59d0cce26e38c6f66a39eb204bda502d3,[CI] Do not set ansible_python_interpreter for Zuul,MERGED,2021-06-26 19:18:14.000000000,2021-06-28 08:17:02.000000000,2021-06-28 08:13:15.000000000,13,18,0,798203,d41e01406ec709bbdfde478e674c0b0a89b0b7d0,17,4,3,2,30491,Radosław Piliszek,yoctozepto,"[CI] Do not set ansible_python_interpreter for Zuul

Zuul 4.6.0 does not allow to set ansible_python_interpreter. [1]
Instead, with the current Zuul and Ansible, this should be
automatically set to the proper python.

This patch is required to restore the jobs which are ignored
otherwise. [2] [3]

Additionally, this change avoids the use of Ansible's pip
module because it tries to use setuptools from the
ansible_python_interpreter first even if another executable is
set.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html

Change-Id: I53e666d59d0cce26e38c6f66a39eb204bda502d3
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I53e666d59d0cce26e38c6f66a39eb204bda502d3,openstack/kolla-ansible,stable/wallaby,ci-emergency-fix-for-zuul-4-6,I53e666d59d0cce26e38c6f66a39eb204bda502d3,[CI] Do not set ansible_python_interpreter for Zuul,MERGED,2021-06-26 19:16:42.000000000,2021-06-28 08:17:00.000000000,2021-06-28 08:13:10.000000000,13,18,0,798202,bd0bcd75adaf342f953e341f277780c61fe8c8be,17,4,3,2,30491,Radosław Piliszek,yoctozepto,"[CI] Do not set ansible_python_interpreter for Zuul

Zuul 4.6.0 does not allow to set ansible_python_interpreter. [1]
Instead, with the current Zuul and Ansible, this should be
automatically set to the proper python.

This patch is required to restore the jobs which are ignored
otherwise. [2] [3]

Additionally, this change avoids the use of Ansible's pip
module because it tries to use setuptools from the
ansible_python_interpreter first even if another executable is
set.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html

Change-Id: I53e666d59d0cce26e38c6f66a39eb204bda502d3
"
openstack%2Ftripleo-heat-templates~master~I7172004a53db33299b5aaa3a4590af208c44c238,openstack/tripleo-heat-templates,master,memcached-cert,I7172004a53db33299b5aaa3a4590af208c44c238,Set memcached server list as FQDNs in the Memcached TLS env,ABANDONED,2021-05-19 11:51:41.000000000,2021-06-28 08:16:08.000000000,,1,0,4,792131,1cfdce04697088cb0337f07395f4ae582cdc10df,20,5,3,1,14250,Grzegorz Grasza,xek,"Set memcached server list as FQDNs in the Memcached TLS env

Certificate for Memcached TLS is created using FQDN. Because
of this validation may fail when using pymemcache. This sets
the memcached_node_ips hiera variable to memcached_node_names,
which contains the list of FQDNs.

Closes-Bug: 1929574
Change-Id: I7172004a53db33299b5aaa3a4590af208c44c238
"
openstack%2Fpuppet-cinder~master~Id00162678c1191489aafec637d980a8913e9feb7,openstack/puppet-cinder,master,,Id00162678c1191489aafec637d980a8913e9feb7,Fix a wrong spec file name,MERGED,2021-06-28 00:36:28.000000000,2021-06-28 07:52:03.000000000,2021-06-28 07:52:03.000000000,0,0,0,798233,2c869fdeb1a1682267c51538116f4f67715be730,9,3,2,1,9816,Takashi Kajinami,kajinamit,"Fix a wrong spec file name

All spec files should be named as *_spec.rb otherwise these files are
ignored.

Change-Id: Id00162678c1191489aafec637d980a8913e9feb7
"
openstack%2Fpython-tripleoclient~master~I9f5dc697dd1cd7895723d4c23ce89a00631b310f,openstack/python-tripleoclient,master,ephemeral-heat,I9f5dc697dd1cd7895723d4c23ce89a00631b310f,Copy the deployment archive to /var/lib/tripleo,MERGED,2021-06-15 20:25:26.000000000,2021-06-28 06:45:25.000000000,2021-06-22 20:11:44.000000000,27,3,11,796537,4cf79c5c3af67b5327366faed09e9ebb333d7739,27,4,5,4,7144,James Slagle,slagle,"Copy the deployment archive to /var/lib/tripleo

Save a copy of the deployment archive to /var/lib/tripleo to avoid
accidental deletion by a normal user.

Change-Id: I9f5dc697dd1cd7895723d4c23ce89a00631b310f
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fkolla~master~Ie1acc2b288692b4dbff5704078258d882d97bcfb,openstack/kolla,master,,Ie1acc2b288692b4dbff5704078258d882d97bcfb,rename 'openstack-base' as 'dependencies',ABANDONED,2017-09-29 15:38:58.000000000,2021-06-28 06:35:25.000000000,,49,49,0,508545,36f76165e0822144cd7d741ad70c88990b78362a,6,2,1,48,23215,tv,ThierryVignaud,"rename 'openstack-base' as 'dependencies'

rationale:
commit 9d3f3f28e24388316f01eb5683e73ea1f25e3d91 introduced
'openstack-base' as a new intermediate image on top of 'base'

This is confusing for downstreams when one adds eg an ""openstack-""
prefix:
- base => openstack-base
- openstack-base => openstack-openstack-base

We can solve that by renaming 'openstack-base'

Change-Id: Ie1acc2b288692b4dbff5704078258d882d97bcfb
"
openstack%2Fpuppet-neutron~master~I43246534016cfffd26b0e7f3ca3360c73cfdef45,openstack/puppet-neutron,master,,I43246534016cfffd26b0e7f3ca3360c73cfdef45,WIP: Follow up of the parent change,ABANDONED,2021-06-15 09:17:41.000000000,2021-06-28 05:45:05.000000000,,102,60,0,796411,364267539329e9c1250e72ca910adda415c17194,9,1,4,4,9816,Takashi Kajinami,kajinamit,"WIP: Follow up of the parent change

Change-Id: I43246534016cfffd26b0e7f3ca3360c73cfdef45
"
openstack%2Fhorizon~master~Ibb8047bfcda147859eacd7fe6246c62a4cf0342d,openstack/horizon,master,zanata/translations,Ibb8047bfcda147859eacd7fe6246c62a4cf0342d,Imported Translations from Zanata,MERGED,2021-06-25 06:49:22.000000000,2021-06-28 05:31:54.000000000,2021-06-28 05:30:23.000000000,31,5,0,798049,310a24d05401cfe2aceeccb77013967cf1afc3d2,7,2,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibb8047bfcda147859eacd7fe6246c62a4cf0342d
"
openstack%2Fcyborg-tempest-plugin~master~I5247ad699c8d537dc6d231b18ef8685113de26ed,openstack/cyborg-tempest-plugin,master,,I5247ad699c8d537dc6d231b18ef8685113de26ed,Skip the cases effected by sqlalchemy version update,MERGED,2021-06-18 00:59:42.000000000,2021-06-28 03:28:46.000000000,2021-06-25 07:28:54.000000000,54,53,4,796977,210b12f887ec44e2af91efdba0b94dd7f879cb6a,22,4,5,4,31412,Wenping Song,songwenping,"Skip the cases effected by sqlalchemy version update

As the sqlalchemy version upstream updated, we need skip these cases
effected, and then restore these cases after the cyborg code fixed.

Change-Id: I5247ad699c8d537dc6d231b18ef8685113de26ed
"
openstack%2Fneutron~master~I6a4ff42f47f7ee90365516d37472c09ac87773e5,openstack/neutron,master,bug/1929676,I6a4ff42f47f7ee90365516d37472c09ac87773e5,[ML2] Change way how list of supported API extensions is made,MERGED,2021-05-26 10:55:44.000000000,2021-06-28 00:57:31.000000000,2021-06-28 00:54:46.000000000,18,6,7,793141,db2207f32d2b88772966e4e2a4f10e2ad66fcf49,122,8,8,3,11975,Slawek Kaplonski,slaweq,"[ML2] Change way how list of supported API extensions is made

Previously if extension was not supported by one of the mech drivers,
but it wasn't filtered out by next mech driver, it was available finally
in the list.
Now, this patch changes that so if extension is disabled by one of the
drivers it isn't available on the list at all.
This will work better e.g. with discoverability of what is available
e.g. when OVN backend is used by Neutron.

Closes-Bug: #1929676
Change-Id: I6a4ff42f47f7ee90365516d37472c09ac87773e5
"
openstack%2Fneutron-lib~stable%2Fvictoria~Ie39d5576c282cacd45c8a35ff51eb467bc7b230b,openstack/neutron-lib,stable/victoria,fix-context,Ie39d5576c282cacd45c8a35ff51eb467bc7b230b,add global_request_id in from_dict,ABANDONED,2021-06-26 08:32:24.000000000,2021-06-28 00:56:28.000000000,,1,0,0,798186,7e5e334b444eec134fe8c149b8b8412cbfcc7821,3,1,1,1,33003,Shuai Qian,qianshuai01,"add global_request_id in from_dict

Change-Id: Ie39d5576c282cacd45c8a35ff51eb467bc7b230b
"
openstack%2Fneutron~master~I456afcc9054627e74b18460d169052f262451c22,openstack/neutron,master,bug/1929676,I456afcc9054627e74b18460d169052f262451c22,Move dns-integration extension to the ML2_SUPPORTED_API_EXTENSIONS list,MERGED,2021-06-11 10:16:39.000000000,2021-06-28 00:56:21.000000000,2021-06-28 00:54:31.000000000,1,12,3,795979,bc82a664b637c72b49fd585a41350164103d6aaa,40,4,4,2,11975,Slawek Kaplonski,slaweq,"Move dns-integration extension to the ML2_SUPPORTED_API_EXTENSIONS list

dns-integration extension is actually implemented as ML2 extension
driver, so has nothing to do with the L3 plugin.
In OVN it was listed in the ML2_SUPPORTED_API_EXTENSIONS_OVN_L3 but it
should be in ML2_SUPPORTED_API_EXTENSIONS. This patch moves it to the
correct list.
This patch also removes disable_dns_extension_by_extension_drivers
method from the OVN L3 plugin class as there is no need to disable this
extension by L3 agent.

Related-Bug: #1929676
Change-Id: I456afcc9054627e74b18460d169052f262451c22
"
openstack%2Ftripleo-ansible~master~Id17f69c714dec75ec48862f6f0cf900fae5e7c30,openstack/tripleo-ansible,master,cephadm_distribute_keyring,Id17f69c714dec75ec48862f6f0cf900fae5e7c30,Add tripleo_ceph_distribute_keys role,MERGED,2021-06-22 16:56:46.000000000,2021-06-27 23:01:41.000000000,2021-06-27 22:59:45.000000000,309,0,12,797511,0f40d4b4392fbb8e80dc09b48dd4bfaf4aebf12a,59,7,10,11,25402,Francesco Pantano,fmount,"Add tripleo_ceph_distribute_keys role

The nodes having an _admin label should be able to interact with
the ceph cluster using the ceph.client.admin keyring. This label
is typically added to the mon/mgr group, but they need the admin
keyring to run any ceph command (via cephadm shell or any other
client tool).
This change just adds a new role to properly distribute the admin
keyring right after the ceph cluster is deployed, and improves the
cephadm.yaml playbook to include this action.

Change-Id: Id17f69c714dec75ec48862f6f0cf900fae5e7c30
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I2887249af44ccfdae1592dd9120d3366fa059876,openstack/tripleo-heat-templates,stable/victoria,bug/1931047-victoria,I2887249af44ccfdae1592dd9120d3366fa059876,Add support for keystone_authtoken/memcache_use_advanced_pool,MERGED,2021-06-16 16:06:58.000000000,2021-06-27 23:01:29.000000000,2021-06-27 22:59:40.000000000,109,0,0,796703,89fde273eaf69bc32d79221883c7abf657ebbda9,17,4,4,18,9816,Takashi Kajinami,kajinamit,"Add support for keystone_authtoken/memcache_use_advanced_pool

This change introduces a single parameter, MemcacheUseAdvancedPool,
to enable usage of advanced connection pool in keystone middleware.
This is useful to avoid bursting connection to memcached.

Note that the default value of memcached_use_advanced_pool was changed
from false to true during Xena cycle[1], so this parameter is no longer
required in master. However the change in keystonemiddleware will
never be backported. This change is created so that we can switch to
advanced pool even in older releases.

[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/773939

(To Victoria)
Conflicts:
	deployment/aodh/aodh-api-container-puppet.yaml
	deployment/glance/glance-api-container-puppet.yaml
	deployment/gnocchi/gnocchi-api-container-puppet.yaml
	deployment/manila/manila-api-container-puppet.yaml
	deployment/nova/nova-api-container-puppet.yaml

Closes-Bug: #1931047
Change-Id: I2887249af44ccfdae1592dd9120d3366fa059876
(cherry picked from commit 09bcacd25a7217ce66eec10ccfda4847e6d3d87a)
(cherry picked from commit 9a89b9add62d1d6251285a091e96e98f8157d1bd)
"
openstack%2Ftripleo-upgrade~master~Ib86b5a7c337158a211c127b57e63f716800b654c,openstack/tripleo-upgrade,master,fix_release_notes,Ib86b5a7c337158a211c127b57e63f716800b654c,Remove unicode prefix,MERGED,2021-04-28 17:48:49.000000000,2021-06-27 22:59:50.000000000,2021-06-27 22:59:50.000000000,8,8,1,788560,90ef2625100a7e2e553a026d9a9498c2b8596522,28,12,8,1,11090,Sergii Golovatiuk,holser,"Remove unicode prefix

Python 3 is unicode based by default. This patch removes unicode prefix
as python 2.X is no longer supported.

Change-Id: Ib86b5a7c337158a211c127b57e63f716800b654c
"
openstack%2Fneutron-specs~master~I3018715e1265aff70002711a06b2bf5ee9ba53a5,openstack/neutron-specs,master,bp/qos-minimum-guaranteed-packet-rate,I3018715e1265aff70002711a06b2bf5ee9ba53a5,Fix up the pps spec config name,MERGED,2021-06-24 11:18:42.000000000,2021-06-27 22:25:54.000000000,2021-06-27 22:24:36.000000000,1,1,0,797877,6fbc6bd8a4156641d2e8335b3a4c15a2ee7819a2,10,7,1,1,9708,Balazs Gibizer,gibi,"Fix up the pps spec config name

There was a comment from Rodolfo to add the resource_provider_ prefix
for the new packet processing config options but I forgot to add it to
the packet_processing_inventory_defaults config name. Fixed it now so
all the three new config option names have the same prefix.

Related-Bug: 1922237
Change-Id: I3018715e1265aff70002711a06b2bf5ee9ba53a5
"
openstack%2Fopenstack-tempest-skiplist~master~If7d55ba4d1cbd76d69e09447dd0e60d57b1bae35,openstack/openstack-tempest-skiplist,master,BZ1976239,If7d55ba4d1cbd76d69e09447dd0e60d57b1bae35,Add tempest.api.compute.volumes.test_attach_volume_negative,MERGED,2021-06-25 15:42:03.000000000,2021-06-27 21:03:36.000000000,2021-06-27 21:02:27.000000000,10,0,0,798121,19332d036e6b9ea7303591b5fb9e115b1b47dd34,11,5,3,1,9976,Ronelle Landy,rlandy,"Add tempest.api.compute.volumes.test_attach_volume_negative

This test is failing rhos-17 baremetal jobs.

Change-Id: If7d55ba4d1cbd76d69e09447dd0e60d57b1bae35
Related-Bug: #BZ1976239
"
openstack%2Fneutron~master~I5c0ff485cd0c966afe535f8063deca6e410e012d,openstack/neutron,master,bug/1881995,I5c0ff485cd0c966afe535f8063deca6e410e012d,[L3] Add some logs for router processing,MERGED,2020-06-17 15:21:03.000000000,2021-06-27 20:39:25.000000000,2021-06-27 20:37:54.000000000,14,1,21,736269,ac1597d00911fefdd5dec388052cb8fc76f30965,97,10,10,3,9531,liuyulong,LIU-Yulong,"[L3] Add some logs for router processing

In order to dig the real action of a ResourceUpdate, add logs for:
1. add/update router
2. delete router
3. delete namespace
4. agent extension router add/delete/update actions

Change-Id: I5c0ff485cd0c966afe535f8063deca6e410e012d
Related-bug: #1881995
"
openstack%2Fironic~master~I808cf92c98339aa447b4799900066c310e15fd5b,openstack/ironic,master,,I808cf92c98339aa447b4799900066c310e15fd5b,Change UEFI ipxe bootloader default,MERGED,2021-06-24 16:17:08.000000000,2021-06-27 19:29:23.000000000,2021-06-25 21:50:51.000000000,12,2,0,797973,4d13da9cc7b8f8fa9ee428731f88d5723eddeffa,15,3,2,2,11655,Julia Kreger,jkreger,"Change UEFI ipxe bootloader default

The bootloader default for ipxe, previously set to ipxe.efi
was, while consistent with the interface naming, a likely
setting that had to be overridden by most deployments,
as very little hardware can make use of ipxe.efi for network
booting, where as snponly.efi is realistically what should
be used in nearly all cases with the exception of some
extremely early UEFI supporting hardware, which may
happen to work with ipxe.efi *if* support for the network
card happens to be compiled in.

Note: This was likely never observable in CI as CI leverages
firmware with integrated iPXE binaries.

Change-Id: I808cf92c98339aa447b4799900066c310e15fd5b
"
openstack%2Fpuppet-glance~master~I4eb3ad545de76f39514c06020172eedfda6d4979,openstack/puppet-glance,master,stein-tripleo,I4eb3ad545de76f39514c06020172eedfda6d4979,Stein only: Remove tripleo job,ABANDONED,2021-06-27 14:50:28.000000000,2021-06-27 14:50:49.000000000,,0,19,0,798217,c9835d9fd0764ea1ebcc3d0c7d2313603e4cb003,2,0,1,1,9816,Takashi Kajinami,kajinamit,"Stein only: Remove tripleo job

... because TripleO is moving its stable/stein to EOL.

Change-Id: I4eb3ad545de76f39514c06020172eedfda6d4979
"
openstack%2Fmasakari~master~Ic607edef6ce6c8b90eb46a840f483210ba6019f6,openstack/masakari,master,fix-unittest-spelling-mistakes,Ic607edef6ce6c8b90eb46a840f483210ba6019f6,Fix a spelling mistakes in unit test,MERGED,2021-06-24 09:22:22.000000000,2021-06-27 10:36:09.000000000,2021-06-27 10:34:57.000000000,1,1,0,797857,f2e830f9278a2bf1b3ac9b042bd25393f8793916,8,4,1,1,31268,minruigao,minruigao@cmss.chinamobile.com,"Fix a spelling mistakes in unit test

The patch fix a spelling mistakes in unit test.In notification unit test,
test use fake host named 'fake_host1',normally it is 'fake_host_1'.

Change-Id: Ic607edef6ce6c8b90eb46a840f483210ba6019f6
"
openstack%2Fnova~stable%2Fwallaby~I11131a3f90b8af85e7151b519fb26d225629c391,openstack/nova,stable/wallaby,bug/1930734,I11131a3f90b8af85e7151b519fb26d225629c391,libvirt: Set driver_iommu when attaching virtio devices to SEV instance,MERGED,2021-06-16 08:44:10.000000000,2021-06-27 07:28:43.000000000,2021-06-27 07:27:03.000000000,215,74,0,796607,5d65680095298764466af532381b81b604429426,22,5,1,6,10135,Lee Yarwood,lyarwood,"libvirt: Set driver_iommu when attaching virtio devices to SEV instance

As called out in the original spec [1] virtio devices attached to a SEV
enabled instance must have the iommu attribute enabled. This was done
within the original implementation of the spec for all virtio devices
defined when initially spawning the instance but does not include volume
and interfaces that are later hot plugged.

This change corrects this for both volumes and nics and in doing so
slightly refactors the original designer code to make it usable in both
cases.

[1] https://specs.openstack.org/openstack/nova-specs/specs/train/implemented/amd-sev-libvirt-support.html#proposed-change

Closes-Bug: #1930734
Change-Id: I11131a3f90b8af85e7151b519fb26d225629c391
(cherry picked from commit 4d8bf15fec15dc3416023e577e0f2c277c216506)
"
openstack%2Ftripleo-heat-templates~master~I114520e756a584faf7ac72fa2df85df1dbed5eb4,openstack/tripleo-heat-templates,master,bug/1933709,I114520e756a584faf7ac72fa2df85df1dbed5eb4,Remove CinderHPELeftHandISCSI service,ABANDONED,2021-06-26 03:35:36.000000000,2021-06-27 04:07:05.000000000,,4,11,0,798176,4d06c221e8af9f76ef845370e84a4cecf30ed1da,9,2,1,12,9816,Takashi Kajinami,kajinamit,"Remove CinderHPELeftHandISCSI service

Following the previous commit to remove all implementation for the HPE
Lefthand cinder driver, this change removes the service which is no
longer used.

Related-Bug: #1933709
Change-Id: I114520e756a584faf7ac72fa2df85df1dbed5eb4
"
openstack%2Fmanila~master~I1a1079df8e104c5ddba29cb614eb4e02a304082e,openstack/manila,master,bug/1930459,I1a1079df8e104c5ddba29cb614eb4e02a304082e,Add Ceph version check,MERGED,2021-06-02 16:45:14.000000000,2021-06-26 23:15:19.000000000,2021-06-26 22:43:03.000000000,93,2,38,794275,3ed02db00e3e8db9712582d00fe65ceefecbf162,97,5,8,3,6413,Victoria Martinez de la Cruz,vkmc,"Add Ceph version check

CephFS drivers in OpenStack Manila are directing
mgr commands to the mgr by specifying mon-mgr as
the target [0]. This target (mon-mgr) was added
to Ceph in Octopus [1].

We would need a version check in order to set the
correct target while we wait on the backport on Ceph
to land [2].

[0] https://github.com/openstack/manila/commit/3ea5d50a2383d298cf64db3c035a63865e091119
[1] https://github.com/ceph/ceph/commit/4000d500c0d2c017e7761a5592df1301d7f40538
[2] https://tracker.ceph.com/issues/51039

Closes-Bug: #1930459
Change-Id: I1a1079df8e104c5ddba29cb614eb4e02a304082e
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I8f2f7700d0dd5a6c7459c8bc69d7937d72d23687,openstack/python-tripleoclient,stable/wallaby,,I8f2f7700d0dd5a6c7459c8bc69d7937d72d23687,Use {{role.name}}Services parameters,MERGED,2021-06-23 08:51:30.000000000,2021-06-26 23:11:50.000000000,2021-06-26 23:10:40.000000000,33,131,0,797607,1765cb3ade303cac2d582cab79fd8a56d8c756cb,11,4,1,3,8833,Rabi Mishra,rabi,"Use {{role.name}}Services parameters

This would ensure that we don't build service chains for
not enabled roles and cip would not try to pull images
for services mapped to OS::Heat::None.

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/797402
Change-Id: I8f2f7700d0dd5a6c7459c8bc69d7937d72d23687
(cherry picked from commit e895c326355515dd3f1607780aeed241eaeb5777)
"
openstack%2Ftripleo-common~stable%2Fwallaby~I7805c9eceec5d85fac9298ce5776542f977417ca,openstack/tripleo-common,stable/wallaby,bug/1932584-stable/wallaby,I7805c9eceec5d85fac9298ce5776542f977417ca,Refactor enabled_services for roles,MERGED,2021-06-22 13:17:02.000000000,2021-06-26 23:05:45.000000000,2021-06-26 23:04:39.000000000,45,26,0,797402,29d8f0834427e1a5ebe7d6504a1e4fd8fbe64fa0,8,3,1,2,14985,Alex Schultz,mwhahaha,"Refactor enabled_services for roles

This refactors get_enabled_services() utility functions for us
to get the {{role.name}}Sevices parameters that can be used
to filter the services during deployment and cip.

Change-Id: I7805c9eceec5d85fac9298ce5776542f977417ca
(cherry picked from commit 21710a412ca1d715682c8ebd722ac379e63b09f9)
"
openstack%2Fpython-tripleoclient~master~I51110d4c71966a95e023f28a3d62b6c3030e1ee3,openstack/python-tripleoclient,master,no-ipxe-enabled,I51110d4c71966a95e023f28a3d62b6c3030e1ee3,Only use undercloud.conf ipxe_enabled for inspection,MERGED,2021-06-11 04:34:28.000000000,2021-06-26 23:05:40.000000000,2021-06-26 23:04:35.000000000,3,5,0,795921,91fa0eeb7bd936dbb9300846c3d6d8e8facf0188,8,3,1,2,4571,Steve Baker,steve-stevebaker,"Only use undercloud.conf ipxe_enabled for inspection

Setting ironic ipxe_enabled was removed in Ussuri, replaced with
a per-node boot interface.

This change stops setting IronicIPXEEnabled and clarifies that
ipxe_enabled is only used for inspection.

Change-Id: I51110d4c71966a95e023f28a3d62b6c3030e1ee3
"
openstack%2Fopenstack-ansible~master~I0646b2c6d9e9e4e61f105abeb971726fa8f14274,openstack/openstack-ansible,master,osa/pki,I0646b2c6d9e9e4e61f105abeb971726fa8f14274,Don't set keystone URI as unsecure,MERGED,2021-06-17 09:48:24.000000000,2021-06-26 21:50:00.000000000,2021-06-26 21:48:08.000000000,7,15,0,796809,6e5b0094d52bb5972e3b5d805afc5302f8696d2f,55,4,9,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Don't set keystone URI as unsecure

Once PKI items are merged, we should have all self-signed SSLs
to be trusted, so no need in setting insecure even if no user cert
is provided.

Additionally cover all endpoints with SSL certificates for AIO
deployments in order to do CI testing of how properly CA
is configured and distributed across containers.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/796940
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/797129
Depends-On: https://review.opendev.org/c/openstack/ansible-role-uwsgi/+/797600
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_openrc/+/797818
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/797892
Change-Id: I0646b2c6d9e9e4e61f105abeb971726fa8f14274
"
openstack%2Fneutron~master~I73240679055b943caf46646440f9c325cf21faf3,openstack/neutron,master,exame-tls-proxy,I73240679055b943caf46646440f9c325cf21faf3,Enable tls-proxy support in the tempest jobs,MERGED,2021-06-03 15:04:06.000000000,2021-06-26 20:04:15.000000000,2021-06-26 20:02:10.000000000,2,2,0,794606,68d62fa18d1112ee84ef890d972aec60d1d8bc3d,29,4,3,1,12404,Rico Lin,rico.lin,"Enable tls-proxy support in the tempest jobs

It wasn't enabled for neutron-tempest-iptables_hybrid and
neutron-ovn-tempest-ovs-master-fedora and that patch
enables it in both of those jobs.

Change-Id: I73240679055b943caf46646440f9c325cf21faf3
"
openstack%2Ftripleo-heat-templates~master~I3ff7d557fc3f544affd35da3a23e56f287b8112f,openstack/tripleo-heat-templates,master,octavia-proxy_header_parsing,I3ff7d557fc3f544affd35da3a23e56f287b8112f,Enable proxy header parsing in Octavia API,MERGED,2020-06-18 06:28:43.000000000,2021-06-26 19:11:39.000000000,2021-06-26 19:11:39.000000000,1,0,0,736452,a314ad3ae4ab254d1172b311abd5a855af07ccee,34,8,2,1,9816,Takashi Kajinami,kajinamit,"Enable proxy header parsing in Octavia API

... so that Octavia API can set up the correct request URL even when
SSL/TLS is enabled.

Depends-on: https://review.opendev.org/#/c/736446/
Change-Id: I3ff7d557fc3f544affd35da3a23e56f287b8112f
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~If419d53fc3a90cdd62271c00714fff79a3b4fd12,openstack/tripleo-heat-templates,stable/victoria,bug/1916386,If419d53fc3a90cdd62271c00714fff79a3b4fd12,Fix NovaDefaultFloatingPool parameter,MERGED,2021-03-23 16:07:14.000000000,2021-06-26 19:11:33.000000000,2021-06-26 19:11:33.000000000,1,1,0,782424,9e8061ae7c9e59ae1b27a2d71d07b054a57defae,43,5,1,1,19234,Alexey Stupnikov,astupnikov,"Fix NovaDefaultFloatingPool parameter

nova::api::default_floating_pool parameter was removed from
puppet-nova back in 2018 with
I2624b92871f4cba5a7361a5d006d985946493e83

It is now recommended to use
nova::network::neutron::default_floating_pool parameter to
define default floating IP pool.

Partial-Bug: #1916386
Change-Id: If419d53fc3a90cdd62271c00714fff79a3b4fd12
(cherry picked from commit a6c1aff5c5b1c8e855f9740b217f9545f7bb0116)
"
openstack%2Fnetworking-ovn~stable%2Ftrain~Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,openstack/networking-ovn,stable/train,,Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,Ensure that load balancer is added to logical switch,MERGED,2021-06-14 00:44:21.000000000,2021-06-26 19:03:39.000000000,2021-06-26 19:02:32.000000000,59,3,7,796169,679bdb2fdbe8a43b10e324edbd457911d8bab25b,62,7,7,2,11952,Flavio Fernandes,ffernand,"Ensure that load balancer is added to logical switch

Add logic to handle cases where a race between logical router port and
load balancer creation renders the affected logical switch without the
proper load balancer in its attribute.

Conflicts:
networking_ovn/octavia/ovn_driver.py
networking_ovn/tests/unit/octavia/test_ovn_driver.py

Closes-bug: #1931639
Change-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d
(cherry picked from ovn-octavia-provider commit b2a862fdb3d4eae440a342f6b6bbc0323022f8ba)
"
openstack%2Fneutron~master~If03362b07e14e7bbfdbd5dfe87e80eeca3e2cb57,openstack/neutron,master,,If03362b07e14e7bbfdbd5dfe87e80eeca3e2cb57,[ovn] Add 'address_group' extension to OVN,MERGED,2020-12-03 08:50:16.000000000,2021-06-26 19:01:21.000000000,2021-06-26 18:59:53.000000000,2,0,2,765299,95ee3bfeaf5615538eaa3bf384956b803e71ca35,49,6,4,1,11975,Slawek Kaplonski,slaweq,"[ovn] Add 'address_group' extension to OVN

Change-Id: If03362b07e14e7bbfdbd5dfe87e80eeca3e2cb57
"
openstack%2Fpuppet-horizon~stable%2Fwallaby~I1d97225939ccf9b8d0403caaa16ea3ebaf546c51,openstack/puppet-horizon,stable/wallaby,puppet-horizon-dashboards,I1d97225939ccf9b8d0403caaa16ea3ebaf546c51,DNM: Testing (2),ABANDONED,2021-06-11 14:09:31.000000000,2021-06-26 17:55:54.000000000,,2,2,0,796019,9cd8e8c6134ea1b9af0835eefe10579fbb1fa708,3,1,1,2,9816,Takashi Kajinami,kajinamit,"DNM: Testing (2)

Change-Id: I1d97225939ccf9b8d0403caaa16ea3ebaf546c51
"
openstack%2Fpuppet-horizon~stable%2Fwallaby~I4b913323399990688d70dcc53da65fcf20ef2b1f,openstack/puppet-horizon,stable/wallaby,puppet-horizon-dashboards,I4b913323399990688d70dcc53da65fcf20ef2b1f,DNM: Testing (1),ABANDONED,2021-06-11 14:08:24.000000000,2021-06-26 17:55:51.000000000,,1,1,0,796018,6212c76feb6be642cf2f3bc6568fc838b8e21174,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Testing (1)

Change-Id: I4b913323399990688d70dcc53da65fcf20ef2b1f
"
openstack%2Fceilometer~master~I5b888ec1777c2d0040c3a7e660e482e56ec85f7b,openstack/ceilometer,master,bug/1929178,I5b888ec1777c2d0040c3a7e660e482e56ec85f7b,DNM: Remove check_watchers,ABANDONED,2021-05-21 10:48:53.000000000,2021-06-26 17:54:48.000000000,,0,7,0,792579,9a43d4d4f9dd85a560f4ea8cc082ef022564fdeb,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Remove check_watchers

Change-Id: I5b888ec1777c2d0040c3a7e660e482e56ec85f7b
"
openstack%2Faodh~master~Ia86465eddb2b6b0d539628052f6e0a9ffbe17a3e,openstack/aodh,master,bug/1929178,Ia86465eddb2b6b0d539628052f6e0a9ffbe17a3e,DNM: Remove check_watchers,ABANDONED,2021-05-21 10:51:50.000000000,2021-06-26 17:54:46.000000000,,0,6,0,792581,3fb2001495aeaaa4d4e680ee58a936451284a002,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: Remove check_watchers

Change-Id: Ia86465eddb2b6b0d539628052f6e0a9ffbe17a3e
"
openstack%2Fpuppet-cinder~stable%2Frocky~Ic1cec3b039d8a65bef9ad69314074a15bf96d3a2,openstack/puppet-cinder,stable/rocky,dnm,Ic1cec3b039d8a65bef9ad69314074a15bf96d3a2,DNM: test jobs,ABANDONED,2021-05-20 09:55:42.000000000,2021-06-26 17:54:43.000000000,,0,0,0,792342,e61292f5ff3b0e6bb8bd081007bfc590cabf8c4a,3,1,1,1,9816,Takashi Kajinami,kajinamit,"DNM: test jobs

Depends-on: https://review.opendev.org/792341
Change-Id: Ic1cec3b039d8a65bef9ad69314074a15bf96d3a2
"
openstack%2Fstorlets~master~Ic75b1672a4689225a92e67064cc64f9183cc4c0d,openstack/storlets,master,focal,Ic75b1672a4689225a92e67064cc64f9183cc4c0d,Use Ubuntu Forcal as base container image,ABANDONED,2020-08-03 00:46:16.000000000,2021-06-26 17:52:46.000000000,,19,22,0,744386,a67ded5ad44cb766a5f5b60bbccbdd023f727aa3,9,2,3,4,9816,Takashi Kajinami,kajinamit,"Use Ubuntu Forcal as base container image

Change-Id: Ic75b1672a4689225a92e67064cc64f9183cc4c0d
"
openstack%2Fpuppet-openstacklib~master~I5fa7d401bf60d994fe2c24563840dd23493513b5,openstack/puppet-openstacklib,master,,I5fa7d401bf60d994fe2c24563840dd23493513b5,Use Python 3.7 instead of 3.6 for Fedora >= 29,ABANDONED,2020-08-30 10:57:35.000000000,2021-06-26 17:51:23.000000000,,8,2,1,748845,45fe8a95e1a4940e4571631d07cad5e61eb3d5ea,6,4,1,1,9816,Takashi Kajinami,kajinamit,"Use Python 3.7 instead of 3.6 for Fedora >= 29

Since Fedora 29, Fedora uses Python 3.7 as its defalt Python 3[1].

[1] https://fedoraproject.org/wiki/Changes/Python3.7

Change-Id: I5fa7d401bf60d994fe2c24563840dd23493513b5
"
openstack%2Ftripleo-heat-templates~master~I5646db3a53b11e758748df1ed484b1fe2d8fb567,openstack/tripleo-heat-templates,master,bug/1906489,I5646db3a53b11e758748df1ed484b1fe2d8fb567,Do not remove symlinks by containers-tmpwatch,ABANDONED,2020-12-02 08:58:39.000000000,2021-06-26 17:50:18.000000000,,1,1,0,765068,ab55a2944d4160b647346eccf8a1f60dfbf652f1,11,6,2,1,9816,Takashi Kajinami,kajinamit,"Do not remove symlinks by containers-tmpwatch

This change prevents the containers-tmpwatch cron job from deleting
symlinks, so that /var/log/containers/swift, which is a symlink to
/var/log/swift, is preserved.

Change-Id: I5646db3a53b11e758748df1ed484b1fe2d8fb567
Closes-Bug: #1906489
"
openstack%2Fpuppet-neutron~master~I14fba7a1c4a1ce23a0f6008fd52cf6ef33e4880d,openstack/puppet-neutron,master,py2-pkg,I14fba7a1c4a1ce23a0f6008fd52cf6ef33e4880d,Fix wrong package name in unit tests,ABANDONED,2021-05-13 02:23:15.000000000,2021-06-26 17:48:41.000000000,,3,3,0,791081,260aa9fe292646f553467cc6b63475261fed9b54,5,2,1,3,9816,Takashi Kajinami,kajinamit,"Fix wrong package name in unit tests

This fixes the wrong package name introduced in unit tests by
34b5036ed8a1b7d7b50ec85484f496d861be57bf . In CentOS7 package names
shoukd be python-* instead of python2-*.

Change-Id: I14fba7a1c4a1ce23a0f6008fd52cf6ef33e4880d
"
openstack%2Fneutron~master~I05c4eeee8d9cdb8faee2ee2eee166b421482173f,openstack/neutron,master,782534,I05c4eeee8d9cdb8faee2ee2eee166b421482173f,Add script to aid in using ovn-trace with OpenStack,MERGED,2021-03-23 14:37:27.000000000,2021-06-26 17:43:02.000000000,2021-06-26 17:39:24.000000000,366,0,30,782534,028c544b050aae156641b6975d9d19a04ef36d6a,57,4,10,4,5756,Terry Wilson,otherwiseguy,"Add script to aid in using ovn-trace with OpenStack

This adds a script that allows one to pass in OpenStack objects
to fill in the eth/ip src/dst data when running ovn-trace. e.g.

  $ ml2ovn-trace --from server=vm1 --to server=vm2

or

 $ ml2ovn-trace --from server=vm1 --ip-dst 8.8.8.8 --via router=r1

Change-Id: I05c4eeee8d9cdb8faee2ee2eee166b421482173f
"
openstack%2Fneutron~stable%2Fvictoria~I1fb91734260b24d71ad6bd661fae71fc71bcbbc9,openstack/neutron,stable/victoria,,I1fb91734260b24d71ad6bd661fae71fc71bcbbc9,[Stable only] Set irrelevant-files in some additional jobs,MERGED,2021-05-31 14:18:57.000000000,2021-06-26 17:41:56.000000000,2021-06-26 17:39:33.000000000,1,0,0,793799,a8d4063bf1ccab9c68967cb085e886cae46069ec,15,3,1,1,21798,Bernard Cafarelli,bcafarel,"[Stable only] Set irrelevant-files in some additional jobs

tripleo-ci-centos-8-content-provider runs in check queue in victoria and
ussuri, and does not have irrelevant-files set while other centos-8 jobs
do. This can trigger ""Unable to freeze job graph"" error when changing
only such files, for example in [1]

[1] https://review.opendev.org/c/openstack/neutron/+/793417

Change-Id: I1fb91734260b24d71ad6bd661fae71fc71bcbbc9
"
openstack%2Fneutron~stable%2Frocky~Ic08ca5b167db4884efa07112cf9a6c3637e1b827,openstack/neutron,stable/rocky,bug/1923633-stable/wallaby-stable/victoria-stable/ussuri-stable/train-stable/stein-stable/rocky,Ic08ca5b167db4884efa07112cf9a6c3637e1b827,Force to close http connection after notify about HA router status,MERGED,2021-06-22 14:40:23.000000000,2021-06-26 17:39:52.000000000,2021-06-26 17:39:52.000000000,2,1,0,797412,35bf91d8a012a0762b55653f966bd616a9ff7ae1,25,3,1,1,11975,Slawek Kaplonski,slaweq,"Force to close http connection after notify about HA router status

Neutron-keepalived-state-change-monitor process is using HTTP to notify
L3 agent that state of the HA router was changed. It is done through
unix socket.
With HTTP 1.1 connection isn't closed properly and if
router's state was changed more than once in short time, it could happen
that wsgi worker on the L3 agent's side didn't process second request at
all. That caused problem with transitioning router to master state after
creation.
Request to close connection should be explicitly defined in the header
[1] and this patch adds ""connection: close"" header to the headers send in
such request to do exactly that.

[1] https://www.geeksforgeeks.org/http-headers-connection/

Closes-Bug: #1923633
Change-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827
(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)
"
openstack%2Fpuppet-tripleo~master~Iac63d8d43828be743fd93530a18d0d752c932d97,openstack/puppet-tripleo,master,neutron-wsgi,Iac63d8d43828be743fd93530a18d0d752c932d97,WIP: Set up apache+wsgi for neutron-api,ABANDONED,2021-05-03 03:24:43.000000000,2021-06-26 16:54:55.000000000,,9,0,0,789126,d100cae418ef58c2ab59016704123f4dd1071a5f,4,2,1,1,9816,Takashi Kajinami,kajinamit,"WIP: Set up apache+wsgi for neutron-api

Change-Id: Iac63d8d43828be743fd93530a18d0d752c932d97
"
openstack%2Ftripleo-heat-templates~master~I281fa92cbe5205b16bc9080b3c551801c776f950,openstack/tripleo-heat-templates,master,neutron-wsgi,I281fa92cbe5205b16bc9080b3c551801c776f950,WIP: Run neutron-api using apache+wsgi,ABANDONED,2021-05-03 03:21:02.000000000,2021-06-26 16:54:48.000000000,,120,58,0,789125,756de5022e90a29c52f746a590e876dfb2fbe71e,9,2,4,1,9816,Takashi Kajinami,kajinamit,"WIP: Run neutron-api using apache+wsgi

Depends-on: https://review.opendev.org/789126
Change-Id: I281fa92cbe5205b16bc9080b3c551801c776f950
"
openstack%2Fneutron~stable%2Fussuri~I1fb91734260b24d71ad6bd661fae71fc71bcbbc9,openstack/neutron,stable/ussuri,,I1fb91734260b24d71ad6bd661fae71fc71bcbbc9,[Stable only] Set irrelevant-files in some additional jobs,MERGED,2021-05-31 14:28:35.000000000,2021-06-26 16:01:33.000000000,2021-06-26 15:59:28.000000000,1,0,0,793801,0f7061a41f915899d81f307d16582bb5d6abeab0,12,3,1,1,21798,Bernard Cafarelli,bcafarel,"[Stable only] Set irrelevant-files in some additional jobs

tripleo-ci-centos-8-content-provider runs in check queue in victoria and
ussuri, and does not have irrelevant-files set while other centos-8 jobs
do. This can trigger ""Unable to freeze job graph"" error when changing
only such files, for example in [1]

[1] https://review.opendev.org/c/openstack/neutron/+/793417

Change-Id: I1fb91734260b24d71ad6bd661fae71fc71bcbbc9
(cherry picked from commit a8d4063bf1ccab9c68967cb085e886cae46069ec)
"
openstack%2Foslo.config~stable%2Ftrain~I70ab87c9bed093cad883b6301b8a09753fc470d9,openstack/oslo.config,stable/train,automated_config_validation,I70ab87c9bed093cad883b6301b8a09753fc470d9,config-generator yaml format doesn't work with i18n fields,MERGED,2021-06-04 17:27:33.000000000,2021-06-26 15:47:50.000000000,2021-06-26 15:46:40.000000000,14,0,0,794817,149d726d2c2006cfce72c17dc366647cfea27861,13,9,3,1,27419,David Vallee Delisle,dvd,"config-generator yaml format doesn't work with i18n fields

This is because there's no yaml representer for i18n Messages object.
This patch aims to add this representer and allow the generation of
configurations using oslo.i18n strings.

One example of this is cinder.

Closes-bug: #1928582
Change-Id: I70ab87c9bed093cad883b6301b8a09753fc470d9
(cherry picked from commit e5fc313ecf47813364a2111b987ced823c0d64e3)
(cherry picked from commit de1dbeed235d2df7cf1528aef6ad4a70ddf8559f)
(cherry picked from commit 0950f82ec59e1b4a2af66b5c5940a651a5cb574f)
(cherry picked from commit 11f8a430d34ed880a02eaa59092e8c9873f37c6c)
"
openstack%2Fcinder-specs~master~I94c1e8df684a25b0630af6490966b376dad6c047,openstack/cinder-specs,master,bp/nvmeof-connection-agent,I94c1e8df684a25b0630af6490966b376dad6c047,NVMe-oF connection agent,MERGED,2021-06-15 05:04:21.000000000,2021-06-26 13:55:50.000000000,2021-06-25 20:58:21.000000000,237,0,33,796365,46bfe10ef67279a6e265d5b7a4d25dfd6c701154,29,5,6,1,16721,Zohar Mamedov,zohar,"NVMe-oF connection agent

Implements: blueprint nvmeof-connection-agent

Change-Id: I94c1e8df684a25b0630af6490966b376dad6c047
"
openstack%2Fneutron~master~Id8a4c501daad7c2185e6d69441182666ef987e61,openstack/neutron,master,bp/distributed-dhcp-for-ml2-ovs,Id8a4c501daad7c2185e6d69441182666ef987e61,Add agent extension 'dhcp' for ovs agent,MERGED,2021-02-19 01:54:59.000000000,2021-06-26 12:14:19.000000000,2021-06-26 12:12:45.000000000,426,7,88,776567,56e8498a4dac9e4db6185cc5d97612d824c6e8d5,239,8,31,13,9531,liuyulong,LIU-Yulong,"Add agent extension 'dhcp' for ovs agent

Add a new ovs agent extension to support distributed DHCP for
VMs in compute nodes directly. For large scale deployment, this
can be used to reduce the number of neutron agents. Large scale
cloud can benefit from it.

From the perspective of virtual machine, this will reduce the
probability of DHCP request failure. The VMs will get a higher
level availability for DHCP R/R, no single point of failure
permanently. If one host goes down, VMs in other hosts will not
be influnced by it.

For the perspective of network performance, after using this
extension, the DHCP broadcasting packages will be limited
to the host locally.

Partially-Implements: bp/distributed-dhcp-for-ml2-ovs
Closes-Bug: #1900934
Change-Id: Id8a4c501daad7c2185e6d69441182666ef987e61
"
openstack%2Fopenstack-helm~master~I6044afe777bc70c58a73502c9327e96a3bac9891,openstack/openstack-helm,master,zanata/translations,I6044afe777bc70c58a73502c9327e96a3bac9891,Imported Translations from Zanata,MERGED,2021-06-25 07:43:50.000000000,2021-06-26 07:19:59.000000000,2021-06-26 07:18:21.000000000,157,269,0,798053,6c8afcc2e569f71995f5d4ca07754665508b50b3,7,2,1,20,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6044afe777bc70c58a73502c9327e96a3bac9891
"
openstack%2Fcyborg~master~I1f189a2f354edb4dcad30ba2a82d83a8e24ffbd2,openstack/cyborg,master,bug_2008980,I1f189a2f354edb4dcad30ba2a82d83a8e24ffbd2,Replace deprecated with_lockmode with with_for_update,MERGED,2021-06-16 13:46:46.000000000,2021-06-26 05:44:39.000000000,2021-06-26 05:43:27.000000000,9,9,2,796676,c236a7d3c5e927a01bab92cb41a5c9ff9dfb9df3,22,4,4,1,23950,Eric Xie,ericxie,"Replace deprecated with_lockmode with with_for_update

The Query.with_lockmode() method is deprecated since version 0.9.0
and will be removed in a future release. [1]
This patch replaces it with Query.with_for_update().

[1] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode

Closes-Bug: #1933398

Change-Id: I1f189a2f354edb4dcad30ba2a82d83a8e24ffbd2
"
openstack%2Ftripleo-heat-templates~master~Ided90c3f486458e819ac24ee6dc93742420e750a,openstack/tripleo-heat-templates,master,cinder-lvm,Ided90c3f486458e819ac24ee6dc93742420e750a,Cinder: Allow using physical devices to set up backend LVM,ABANDONED,2021-06-23 13:31:22.000000000,2021-06-26 03:52:20.000000000,,83,60,2,797645,ef71c21416e40d5e1e38ca0d8f830f5c164a0804,9,2,2,1,9816,Takashi Kajinami,kajinamit,"Cinder: Allow using physical devices to set up backend LVM

This change introduces a new CinderLVMPhysicalDevices parameter which
allows users to use additional physical devices as backend of the LVM
driver. This is useful when a controller node has a secondary disk
device to store volume data.

Change-Id: Ided90c3f486458e819ac24ee6dc93742420e750a
"
openstack%2Fheat~master~Id6fd24dad04c5d547368ca54f7210429f27e2b37,openstack/heat,master,,Id6fd24dad04c5d547368ca54f7210429f27e2b37,Don't reference OS::Nova::FloatingIP in the docs,MERGED,2021-06-24 20:33:49.000000000,2021-06-26 03:47:13.000000000,2021-06-26 03:44:53.000000000,2,41,0,798024,0d1976c98810c926d4b05661d417b12d7f8d1876,7,2,1,2,4257,Zane Bitter,zaneb,"Don't reference OS::Nova::FloatingIP in the docs

Nova-network is long gone and this resource type has been hidden for
many, many releases.

Change-Id: Id6fd24dad04c5d547368ca54f7210429f27e2b37
Story: 2008978
Task: 42622
"
openstack%2Fheat~master~Ib33ff22fdd0ec8ceb0b2d4f7ae7ec581e9d998b4,openstack/heat,master,use_stdlib_fnmatch,Ib33ff22fdd0ec8ceb0b2d4f7ae7ec581e9d998b4,Use stdlib fnmatch module,MERGED,2021-06-25 10:48:52.000000000,2021-06-26 03:46:10.000000000,2021-06-26 03:44:48.000000000,1,1,0,798074,4fe338cafbe581c6963e751694d36f65455ac3a3,8,2,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Use stdlib fnmatch module

oslo.utils fnmatch module has been deprecated [1].

[1]https://github.com/openstack/oslo.utils/commit/4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b

Change-Id: Ib33ff22fdd0ec8ceb0b2d4f7ae7ec581e9d998b4
"
openstack%2Fneutron~stable%2Fussuri~I8033e12f5b30e3ecc9143431543266a890fe4073,openstack/neutron,stable/ussuri,,I8033e12f5b30e3ecc9143431543266a890fe4073,[OVN] Disable mcast_flood on localnet ports,MERGED,2021-06-24 08:32:36.000000000,2021-06-26 03:12:34.000000000,2021-06-26 03:11:04.000000000,6,6,0,797815,2c9803a8b4e395a1c2c0262987ebe21d8afb87a3,26,3,1,4,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] Disable mcast_flood on localnet ports

The mcast_flood option will unconditionally forward multicast traffic
for that port, this behavior is not desired and results in duplicated
traffic being sent to the same port. This patch disables that behavior
by setting the mcast_flood option for the localnet ports to False.

Note that, a similar option called ""mcast_flood_reports"" is still
enabled because we do want to have the multicast reports being sent but
not normal traffic.

Change-Id: I8033e12f5b30e3ecc9143431543266a890fe4073
Closes-Bug: #1933207
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 953eb92a4f1d686a45d91100c8b02f9fe0771ed9)
"
openstack%2Fpuppet-tripleo~master~I15f6648ad47f0e196a13c17ad63c6b578822cdd8,openstack/puppet-tripleo,master,metrics-qdr-ssl,I15f6648ad47f0e196a13c17ad63c6b578822cdd8,WIP. Drafting ...,ABANDONED,2021-06-16 16:42:52.000000000,2021-06-26 02:19:54.000000000,,24,49,0,796708,19c06cc9aa5be26a9132693fc19b685601234e38,7,2,2,2,9816,Takashi Kajinami,kajinamit,"WIP. Drafting ...

Change-Id: I15f6648ad47f0e196a13c17ad63c6b578822cdd8
"
openstack%2Ftripleo-quickstart~master~Ia971b1b0d4f47dc98ea568ad0cd088bae8aa7c0e,openstack/tripleo-quickstart,master,bug1933272,Ia971b1b0d4f47dc98ea568ad0cd088bae8aa7c0e,Exclude ansible-* from ceph-pacific repo,MERGED,2021-06-22 21:47:05.000000000,2021-06-26 02:18:56.000000000,2021-06-26 02:17:48.000000000,8,0,0,797541,c2c64ca32ade63dcebc429dc84e027e705d37215,29,5,5,4,9976,Ronelle Landy,rlandy,"Exclude ansible-* from ceph-pacific repo

The quickstart-centos-ceph-pacific repo includes
ansible rpm at a newer revision than dep-testing
repo where ansible should be installed from.

This could cause issues with version requirements.
This patch excludes ansible-* from the ceph-pacific
repo so that ansible will be installed from the
deps repo.

Change-Id: Ia971b1b0d4f47dc98ea568ad0cd088bae8aa7c0e
Closes-Bug: #1933272
"
openstack%2Fopenstacksdk~master~I952b0590ac571aff220b2285d3dc0b5c5bc99816,openstack/openstacksdk,master,shared-file-system,I952b0590ac571aff220b2285d3dc0b5c5bc99816,Add a manila functional check job,NEW,2021-02-18 05:34:18.000000000,2021-06-26 02:04:05.000000000,,70,0,0,776312,54e2fe8daa31a70c2ef48bcf75bb269a4fda2597,16,2,3,1,16643,Goutham Pacha Ravi,gouthamr,"Add a manila functional check job

This job can be non-voting.

Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
Change-Id: I952b0590ac571aff220b2285d3dc0b5c5bc99816
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fcinder~master~I06723bbe12d40e97c2d25d6bf44b2087f6b9a955,openstack/cinder,master,dnm_felipen,I06723bbe12d40e97c2d25d6bf44b2087f6b9a955,DNM: testing gerrti CI 2,ABANDONED,2021-06-25 18:51:55.000000000,2021-06-26 00:52:01.000000000,,0,0,0,798149,5fe1a03acdb19828b95518d5756a183a5dc68ac6,4,0,1,1,31721,Felipe Rodrigues,felipefutty,"DNM: testing gerrti CI 2

Change-Id: I06723bbe12d40e97c2d25d6bf44b2087f6b9a955
"
openstack%2Fopenstack-helm~master~I02c0a0ece680ecb55e83f3da5a992398c3ab6390,openstack/openstack-helm,master,fix-horizon-multidomain,I02c0a0ece680ecb55e83f3da5a992398c3ab6390,Fix multidomain support selector,MERGED,2021-06-25 17:16:33.000000000,2021-06-26 00:16:33.000000000,2021-06-26 00:14:57.000000000,3,2,0,798138,947aac114fa6b674688ed0ab86ef40057caac523,8,3,1,3,1004,Mohammed Naser,mnaser,"Fix multidomain support selector

At the moment, the multidomain support selector is broken because
it always puts the value of a boolean inside a string which always
evaluates to true, which means setting it to false does nothing.

This patch drops the quotes around the templated configuration,
that way, it is taken for the literal boolean value.

Change-Id: I02c0a0ece680ecb55e83f3da5a992398c3ab6390
"
openstack%2Fcinder~master~I2e829c24c2e06553f139e2f9423d720038431e0c,openstack/cinder,master,dnm_felipen,I2e829c24c2e06553f139e2f9423d720038431e0c,DNM: testing gerrit CI,ABANDONED,2021-06-25 18:38:48.000000000,2021-06-26 00:10:53.000000000,,0,0,0,798147,a39095e33a805edec0349d557e0d29c35659b754,4,0,1,1,31721,Felipe Rodrigues,felipefutty,"DNM: testing gerrit CI

Change-Id: I2e829c24c2e06553f139e2f9423d720038431e0c
"
openstack%2Fopenstack-ansible~master~Ie9fa464561c81b503d6946a7afe4870b92790cee,openstack/openstack-ansible,master,,Ie9fa464561c81b503d6946a7afe4870b92790cee,Split neutron server and neutron agent hosts,MERGED,2021-06-24 17:54:41.000000000,2021-06-25 23:36:49.000000000,2021-06-25 23:34:37.000000000,59,2,0,798001,82d7c034a01cede90f8cb9e43b9fa87f27d2a3dc,11,3,2,5,28619,Dmitriy Rabotyagov,noonedeadpunk,"Split neutron server and neutron agent hosts

It is very common usecase when neutron-api is intended to run on
infra hosts (inside lxc containers), while neutron-agents are to run on
independent network nodes.

That was not possible by default, so env.d overrides has to be placed
to fix this behaviour. This patch brings option to do this natively
without extra override.

In the meanwhile it shouldn't break any existing depoyments as leaves
previous groups naming as is.

Change-Id: Ie9fa464561c81b503d6946a7afe4870b92790cee
"
openstack%2Fironic-python-agent-builder~master~I01956d7b71362b288fdb8ef06852043f9c8290a2,openstack/ironic-python-agent-builder,master,add-configdrive-support,I01956d7b71362b288fdb8ef06852043f9c8290a2,Add static network configuration support,ABANDONED,2019-10-14 13:11:04.000000000,2021-06-25 23:31:18.000000000,,349,0,1,688402,c9464f23c4aa9c3e550612055624378b3295782e,31,3,9,5,26340,Ilya Etingof,etingof,"Add static network configuration support

Adds config drive based static network configuration to tinyipa.
Prerequisites:

* ramdisk is booted from a CD drive
* boot ISO image contains a config drive image
* OpenStack network meta data is found on the config drive

Then attempt to apply static network configuration to the NICs.
Fall back to DHCP configuration if not a single NIC has been
configured successfully.

Change-Id: I01956d7b71362b288fdb8ef06852043f9c8290a2
Story: 2006691
Task: 36993
"
openstack%2Fironic~master~Iccd36c899f08b4b4f285f21f92cfac3c19032cb0,openstack/ironic,master,51-fix-deploy-floppy,Iccd36c899f08b4b4f285f21f92cfac3c19032cb0,Fix to provide floppy on deploy redfish virtual media boot,ABANDONED,2019-10-22 13:35:10.000000000,2021-06-25 23:30:27.000000000,,74,20,11,690077,7264cefe49436dac352f56022a4c1ba3df6ec9e4,45,7,5,3,26340,Ilya Etingof,etingof,"Fix to provide floppy on deploy redfish virtual media boot

Fixes a bug of not preparing and inserting virtual floppy disk when
booting deploy image despite `[driver_info]/config_via_floppy` property
being set.

Story: 2006756
Task: 37246
Change-Id: Iccd36c899f08b4b4f285f21f92cfac3c19032cb0
"
openstack%2Fironic~master~I8f1b6b203315bc99018329e1ade796f1cf943177,openstack/ironic,master,suppress-stray-ipmitool-calls,I8f1b6b203315bc99018329e1ade796f1cf943177,Fix suppressing stray ipmitool calls,ABANDONED,2018-10-04 10:02:49.000000000,2021-06-25 23:28:33.000000000,,35,0,9,607877,95604b7834de315f9efbbff7be6f2c9d9b0564de,20,12,2,3,26340,Ilya Etingof,etingof,"Fix suppressing stray ipmitool calls

When ironic discovers that ipmitool can do IPMI retrying on its own,
we should make sure that ironic calls ipmitool just once e.g. not
retrying on top of ipmitool's own retry effort.

Change-Id: I8f1b6b203315bc99018329e1ade796f1cf943177
"
openstack%2Fsushy~master~I4dfb7852b3f3adb43b7f6fbb45dec543d68cb929,openstack/sushy,master,add-set-session-key,I4dfb7852b3f3adb43b7f6fbb45dec543d68cb929,Allow HTTP session info to be set on authenticator,ABANDONED,2018-10-24 14:54:05.000000000,2021-06-25 23:27:16.000000000,,68,6,0,613062,168f0802b3126d483e89294ab659b8269a2ef0a0,10,6,2,2,26340,Ilya Etingof,etingof,"Allow HTTP session info to be set on authenticator

In order to be able to reuse authenticated HTTP sessions with
Redfish server, Redfish HTTP client needs a way to retrieve
session information for the authenticated HTTP session, then set
it back to the new HTTP connection instead of requesting a new
session from Redfish session service.

This change adds this capability by introducing two new methods
to sushy authentication object: `set_session_key()` and
`set_session_resouce_id()`.

Change-Id: I4dfb7852b3f3adb43b7f6fbb45dec543d68cb929
"
openstack%2Fsushy~master~Ic85615f9ade5dd78a09f4df76a834462ecab5498,openstack/sushy,master,untie-connector-from-authencicator,Ic85615f9ade5dd78a09f4df76a834462ecab5498,Untie `Connection` from authenticator on `.close()`,ABANDONED,2018-10-16 17:05:40.000000000,2021-06-25 23:26:41.000000000,,38,0,12,611095,0680f569034b19d4f1953a2b0a33c63e19c049a0,27,5,4,3,26340,Ilya Etingof,etingof,"Untie `Connection` from authenticator on `.close()`

The HTTP authentication objects hold references to the Connection
object. That may not let GC to reap dead connection objects should we
ever decide to persist authentication objects (for session credentials
reuse).

This patch unties this cyclic reference on `.close()` call on the
authenticator as well as lets the caller to just break this cycle by
calling the `.unset_context()` method on authentication object.

Change-Id: Ic85615f9ade5dd78a09f4df76a834462ecab5498
"
openstack%2Fnova~stable%2Ftrain~I58dca95251b607eaff602783fee2fc38e2421944,openstack/nova,stable/train,bug/1885528,I58dca95251b607eaff602783fee2fc38e2421944,Use absolute path during qemu img rebase,MERGED,2020-10-09 11:59:07.000000000,2021-06-25 23:12:51.000000000,2021-06-25 23:11:10.000000000,33,6,2,757084,e926ec75e29dcdf3b671811533587bba246a8c45,54,6,5,2,10135,Lee Yarwood,lyarwood,"Use absolute path during qemu img rebase

During an assisted volume snapshot delete request from Cinder nova
removes the snapshot from the backing file chain. During that nova
checks the existence of such file. However in some cases (see the bug
report) the path is relative and therefore os.path.exists fails.

This patch makes sure that nova uses the volume absolute path to make
the backing file path absolute as well.

Closes-Bug #1885528

Change-Id: I58dca95251b607eaff602783fee2fc38e2421944
(cherry picked from commit b9333125790682f9d60bc74fdbb12a098565e7c2)
(cherry picked from commit 831abc9f83a2d3f517030f881e7da724417fea93)
(cherry picked from commit c2044d4bd0919860aa2d49687ba9c6ef6f7d37e8)
"
openstack%2Fcinder~master~Ia2b27874a2c35e7837b6d61dc4cb81d5ada5d5ae,openstack/cinder,master,bp/alembic-migration,Ia2b27874a2c35e7837b6d61dc4cb81d5ada5d5ae,db: Compact migrations to Train,MERGED,2021-04-19 16:57:34.000000000,2021-06-25 22:13:33.000000000,2021-06-23 23:05:12.000000000,41,317,0,786926,b29bb44e98e00c68382b3f381a0a6e0938fe6dda,60,3,2,15,15334,Stephen Finucane,sfinucan,"db: Compact migrations to Train

Compare all database migrations up to Train into the initial schema to
speed up migrations and make switching to alembic easier. Changes
include:

127_change_project_resource_attribute_for_quota_usages
  Change type of 'quota_usages.resource' to CHAR(300)

128_add_project_id_and_accepted_to_transfer
  Add 'source_project_id', 'destination_project_id', and 'accepted'
  columns to 'transfers' table

132_create_default_volume_type
  Add default entry to 'volume_types' entry

Change-Id: Ia2b27874a2c35e7837b6d61dc4cb81d5ada5d5ae
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstack-ansible-os_neutron~master~Idedbef8b70cb42588c9c9ace9530df84a5d1f6ff,openstack/openstack-ansible-os_neutron,master,osa/ovs-dpdk,Idedbef8b70cb42588c9c9ace9530df84a5d1f6ff,Add centos-8 support for ovs-dpdk,MERGED,2020-11-14 06:48:46.000000000,2021-06-25 22:12:31.000000000,2021-06-25 22:11:21.000000000,9,3,10,762729,61459c64bb28cdfff01c3166f3a0b79009b8d473,47,6,8,4,28752,Satish Patel,spatel,"Add centos-8 support for ovs-dpdk

changed /var/lib/vhost_socket dir owner/group permission for centos-8 and
added openvswitch service name.

Change-Id: Idedbef8b70cb42588c9c9ace9530df84a5d1f6ff
"
openstack%2Fneutron~stable%2Fussuri~Iaecfda2700c5316cb25a93496d24ece366e40a4a,openstack/neutron,stable/ussuri,subnet_create_opt-stable/wallaby-stable/ussuri,Iaecfda2700c5316cb25a93496d24ece366e40a4a,Improve Subnet create performance,MERGED,2021-06-23 15:36:10.000000000,2021-06-25 22:02:31.000000000,2021-06-25 22:01:14.000000000,11,6,0,797590,9c5259e10c8bbfdd32261b24ae226d6bc95e97c5,24,3,1,3,5948,Oleg Bondarev,obondarev,"Improve Subnet create performance

- pass network dict from ml2 plugin to _create_subnet_postcommit
- skip ipam subnet fetch for non ipv6 auto-address subnets
- don't count subnets (DB request) if subnet has no segment

Change-Id: Iaecfda2700c5316cb25a93496d24ece366e40a4a
(cherry picked from commit f52280287f956f67c7b9c5c53ad945d96dd69103)
"
openstack%2Fopenstack-helm-infra~master~I6167b277e111ed59ccf4415e7f7d178fe4338cbd,openstack/openstack-helm-infra,master,,I6167b277e111ed59ccf4415e7f7d178fe4338cbd,Ceph OSD Init Improvements,MERGED,2021-06-23 21:34:20.000000000,2021-06-25 21:57:36.000000000,2021-06-25 21:56:26.000000000,13,12,0,797783,b3ebb46ce23365d77b2502366578646406b3b9cb,17,8,4,4,22636,Cliff Parsons,cliffparsons,"Ceph OSD Init Improvements

Some minor improvements are made in this patchset:
1) Move osd_disk_prechecks to the very beginning to make sure the
   required variables are set before running the bulk of the script.
2) Specify variables in a more consistent manner for readability.
3) Remove variables from CLI commands that are not used/set.

Change-Id: I6167b277e111ed59ccf4415e7f7d178fe4338cbd
"
openstack%2Fansible-config_template~master~If4aa4ee0d63a046635f7236cf35aa6125133adab,openstack/ansible-config_template,master,osa-cleanup,If4aa4ee0d63a046635f7236cf35aa6125133adab,Use ansible_facts[] instead of fact variables,MERGED,2021-03-16 09:20:19.000000000,2021-06-25 21:28:48.000000000,2021-06-25 21:26:51.000000000,2,2,0,780753,8a9b9622d5225177891bf0fa14b4b37b8c5fb379,23,3,4,1,25023,Jonathan Rosser,jrosser,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: If4aa4ee0d63a046635f7236cf35aa6125133adab
"
openstack%2Fansible-config_template~master~I5b1f1fcaef6cab54b3ad4ba3c31afeccf66f97d3,openstack/ansible-config_template,master,,I5b1f1fcaef6cab54b3ad4ba3c31afeccf66f97d3,Add PKI role to functional testing,MERGED,2021-06-12 19:46:44.000000000,2021-06-25 21:27:57.000000000,2021-06-25 21:26:48.000000000,4,0,0,796151,331d8932aa6f60fc540db65c2bbabac25825e79d,12,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add PKI role to functional testing

Change-Id: I5b1f1fcaef6cab54b3ad4ba3c31afeccf66f97d3
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I7310c340a1e2b48cdbc378ab4fe3944bd7e89112,openstack/tripleo-heat-templates,stable/wallaby,config-next-stable/wallaby,I7310c340a1e2b48cdbc378ab4fe3944bd7e89112,Ignore puppet_config is an empty dict,MERGED,2021-06-16 19:00:44.000000000,2021-06-25 21:19:24.000000000,2021-06-25 21:19:24.000000000,28,106,0,796726,cb8f13027e56ff20c3a572d7cb5f8e75631ea67b,12,3,1,27,14985,Alex Schultz,mwhahaha,"Ignore puppet_config is an empty dict

Previously this was required which lead to folks defining invalid empty
data that actually gets ignored later in the process. Since you don't
have to have a puppet_config, let's say it needs to be defined but skip
validation if it is an empty.

Change-Id: I7310c340a1e2b48cdbc378ab4fe3944bd7e89112
(cherry picked from commit 45fca9e0298e0499a0edff4335b2c2a3ead483ae)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d,openstack/tripleo-heat-templates,stable/wallaby,config-next-stable/wallaby,I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d,Switch barbican actions to use kolla_config,MERGED,2021-06-16 19:00:44.000000000,2021-06-25 21:19:17.000000000,2021-06-25 21:19:17.000000000,125,75,0,796725,ad010c08423644374f5e2ead1e38cc97626bce62,15,5,1,1,14985,Alex Schultz,mwhahaha,"Switch barbican actions to use kolla_config

I split this out from the other one because there is an extensive set of
barbican containers that need updating and close review to make sure we
don't break anything since we don't test this in the upstream.

Change-Id: I7a8fef2797ab5e42364bfdfdb7893e5f14f90b7d
(cherry picked from commit 2b9b8eed90daf04a0807c24370aaf314b27e8c4f)
"
openstack%2Fopenstack-ansible-os_barbican~master~I6267d3b65f514c4ad4cb5494f111463e685b6fbb,openstack/openstack-ansible-os_barbican,master,,I6267d3b65f514c4ad4cb5494f111463e685b6fbb,Allow to symlink barbican_user_libraries,MERGED,2021-06-24 17:06:03.000000000,2021-06-25 21:10:41.000000000,2021-06-25 21:09:28.000000000,15,1,0,797991,05c5ab38e430654ea5093960e995ef5fc79e784c,8,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Allow to symlink barbican_user_libraries

When barbican uses PKCS#11 crypt plugin, libCryptoki2 library tends to
search for Chrystoki.conf inside /etc by default. At the same time it's
tricky to place file there at once since approriate permissions not
always could be set for files that reside directly in /etc.
As a workaround to this Chrystoki.conf can be placed inside /opt and
symlinked to /etc to satisfy library.

Change-Id: I6267d3b65f514c4ad4cb5494f111463e685b6fbb
"
openstack%2Fopenstack-ansible~master~Ie1905a1d939d2852752f35c7a8fa52bf8aeac3b6,openstack/openstack-ansible,master,osa/pki,Ie1905a1d939d2852752f35c7a8fa52bf8aeac3b6,Reset deploy host SSH connection after running openstack_hosts role,MERGED,2021-06-24 12:32:26.000000000,2021-06-25 21:05:04.000000000,2021-06-25 21:02:53.000000000,3,0,0,797892,5e07412fcc7f3e55203860b9f5e300c0c6cd6ad8,12,3,1,1,25023,Jonathan Rosser,jrosser,"Reset deploy host SSH connection after running openstack_hosts role

The openstack hosts role adjusts environment variable settings which
need to be available later in the deployment to ansible tasks. Ensure
that the ssh connection is re-established so that these variables
will be in scope on the target host.

Change-Id: Ie1905a1d939d2852752f35c7a8fa52bf8aeac3b6
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic18f07f01a2b4053d042dc0a1b783b397d985d9e,openstack/tripleo-heat-templates,stable/wallaby,config-next-stable/wallaby,Ic18f07f01a2b4053d042dc0a1b783b397d985d9e,Fix typo that breaks Octavia db sync step,MERGED,2021-06-16 19:00:44.000000000,2021-06-25 20:43:47.000000000,2021-06-25 20:43:47.000000000,1,1,0,796724,4758c3e7ced1970b96cb36b180484f790f6d3644,19,4,1,1,14985,Alex Schultz,mwhahaha,"Fix typo that breaks Octavia db sync step

The filename for the kolla_config octavia json file was incorrect
causing there to be no database initialization for octavia deployments.

Closes-Bug: #1931428
Change-Id: Ic18f07f01a2b4053d042dc0a1b783b397d985d9e
(cherry picked from commit 6e67e7377e89fd9eb1da73eff6fa8b7c756718bc)
"
openstack%2Fopenstack-ansible~master~I367e1f72ca86f20f9c93c0be88a18399b8b45439,openstack/openstack-ansible,master,osa/pki,I367e1f72ca86f20f9c93c0be88a18399b8b45439,Allow proxy zuul job to connect to any port,MERGED,2021-06-24 12:29:27.000000000,2021-06-25 20:09:38.000000000,2021-06-25 20:07:49.000000000,0,2,0,797890,57ac756465820bed0f1396530ff9b4ea8a9da494,16,3,1,1,25023,Jonathan Rosser,jrosser,"Allow proxy zuul job to connect to any port

This was previously restricted to port 443, but now we are moving
to have the internal VIP also available on HTTPS so connections to
port 5000 and many others will be necessary.

Change-Id: I367e1f72ca86f20f9c93c0be88a18399b8b45439
"
openstack%2Fopenstack-ansible-nspawn_container_create~master~Ic80477b87a3ddc74ac1712f6bd4c3aba284fa1cb,openstack/openstack-ansible-nspawn_container_create,master,osa/deprecate_nspawn,Ic80477b87a3ddc74ac1712f6bd4c3aba284fa1cb,Deprecate OpenStack-Ansible nspawn repositories,MERGED,2021-06-23 17:24:45.000000000,2021-06-25 19:43:51.000000000,2021-06-25 19:43:51.000000000,8,3032,0,797726,bc258b4e194de38db5f93e3ac6ad0252618ad184,9,4,1,55,28619,Dmitriy Rabotyagov,noonedeadpunk,"Deprecate OpenStack-Ansible nspawn repositories

Since nspawn support has been removed with [1] we now
start repositories deprecation process.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/782569

Depends-On: https://review.opendev.org/c/openstack/project-config/+/797723
Change-Id: Ic80477b87a3ddc74ac1712f6bd4c3aba284fa1cb
"
openstack%2Fopenstack-ansible-nspawn_hosts~master~I113f0f2b5befc4bca830c130d7f60e621c86798e,openstack/openstack-ansible-nspawn_hosts,master,osa/deprecate_nspawn,I113f0f2b5befc4bca830c130d7f60e621c86798e,Deprecate OpenStack-Ansible nspawn repositories,MERGED,2021-06-23 17:17:49.000000000,2021-06-25 19:41:21.000000000,2021-06-25 19:41:21.000000000,8,3551,0,797724,611fb2bf4c89bfa44ff3c92ce03b849939bafaa9,10,4,2,55,28619,Dmitriy Rabotyagov,noonedeadpunk,"Deprecate OpenStack-Ansible nspawn repositories

Since nspawn support has been removed with [1] we now
start repositories deprecation process.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/782569

Depends-On: https://review.opendev.org/c/openstack/project-config/+/797723
Change-Id: I113f0f2b5befc4bca830c130d7f60e621c86798e
"
openstack%2Fnova~stable%2Ftrain~I069b6b1d28eaf1eee5c7fb8d0fdef9c0c229a1bf,openstack/nova,stable/train,bug/1858877,I069b6b1d28eaf1eee5c7fb8d0fdef9c0c229a1bf,Add a workaround config toggle to refuse ceph image upload,MERGED,2020-10-09 19:05:30.000000000,2021-06-25 19:31:59.000000000,2021-06-25 19:30:28.000000000,104,0,0,757177,794bedf00e6a3dcdf89f07ae3f63deee09138a9a,21,9,2,4,4690,melanie witt,melwitt,"Add a workaround config toggle to refuse ceph image upload

If a compute node is backed by ceph, and the image is not clone-able
in that same ceph, nova will try to download the image from glance
and upload it to ceph itself. This is nice in that it ""just works"",
but it also means we store that image in ceph in an extremely
inefficient way. In a glance multi-store case with multiple ceph
clusters, the user is currently required to make sure that the image
they are going to use is stored in a backend local to the compute
node they land on, and if they do not (or can not), then nova will
do this non-COW inefficient copy of the image, which is likely not
what the operator expects.

Per the discussion at the Denver PTG, this adds a workaround flag
which allows the operators to direct nova to *not* do this behavior
and instead refuse to boot the instance entirely.

Conflicts:
    nova/conf/workarounds.py

NOTE(melwitt): The conflict is because this patch originally landed on
ussuri and change If874f018ea996587e178219569c2903c2ee923cf (Reserve
DISK_GB resource for the image cache) landed afterward and was
backported to stable/train.

Related-Bug: #1858877
Change-Id: I069b6b1d28eaf1eee5c7fb8d0fdef9c0c229a1bf
(cherry picked from commit 80191e6d828cf823ce3aa7c6176da5e531694900)
"
openstack%2Fmagnum~master~I3fc2b95d936cb9b2ff733c6819ec8203e7f9e4fc,openstack/magnum,master,ovn-devstack,I3fc2b95d936cb9b2ff733c6819ec8203e7f9e4fc,Fix devstack enable_service for default ovn,ABANDONED,2021-06-25 16:00:56.000000000,2021-06-25 18:45:25.000000000,,0,9,0,798126,830298a8a236d5523acb13920881c335d50a9693,6,2,1,1,8556,Ghanshyam,ghanshyam,"Fix devstack enable_service for default ovn

Devstack is defaulted to ovn and enable/disable the
required services in devstack itself.

- https://review.opendev.org/c/openstack/devstack/+/791436

Devstack plugins does not need to enable any network service
other than what devstack is doing.

Change-Id: I3fc2b95d936cb9b2ff733c6819ec8203e7f9e4fc
"
openstack%2Fnova~stable%2Fvictoria~I212a2db8d71702d330b146dc6f871b402a309e74,openstack/nova,stable/victoria,bug/1919487,I212a2db8d71702d330b146dc6f871b402a309e74,compute: Reject requests to commit intermediary snapshot of an inactive instance,NEW,2021-04-09 09:07:29.000000000,2021-06-25 18:35:44.000000000,,66,9,0,785579,8a41605a78173207746a38350d7fb554f2701b7a,13,2,1,2,10135,Lee Yarwood,lyarwood,"compute: Reject requests to commit intermediary snapshot of an inactive instance

Introduced by I76eb2e4da027a13525314bd58264f482374d270d the
os-assisted-volume-snapshots API is only implemented by the libvirt virt
driver and should only be called by c-vol as part of an orchestrated
remotefs based volume snapshot creation or deletion workflow.

While not documented clearly in the current api-ref there are code
comments within the compute API suggesting that this API can be called
against a volume attached to an instance that is in *any* vm_state.

This however is not correct when deleting and in turn committing an
intermediary volume snapshot of an instance that is not running given
the current implementation within the libvirt driver. With a request to
virDomainBlockCommit being made that fails if the instance and
underlying domain is not running.

Adding support for an offline commit isn't trivial and would be
considered a new feature and not something we could backport on the
stable branches. As such this change seeks to ensure requests to commit
an intermediary volume snapshot from an inactive instance are rejected
quickly and clearly by the compute API to the caller before we cast to
the compute.

Closes-Bug: #1919487
Change-Id: I212a2db8d71702d330b146dc6f871b402a309e74
(cherry picked from commit 99409375a03e6f923a8b6b00a5dd653bab74caaf)
(cherry picked from commit 200c743400ed3fd5240fd25d0396eb6180b3f26a)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Id3924a027c9bd7865c9fb081a2eda4f8be069a57,openstack/tripleo-heat-templates,stable/ussuri,bug/1930151-stable/ussuri,Id3924a027c9bd7865c9fb081a2eda4f8be069a57,Always run network config for undercloud,MERGED,2021-06-22 15:12:53.000000000,2021-06-25 17:47:11.000000000,2021-06-25 17:47:11.000000000,1,0,1,797496,21c696d2d64d354f3f179e9d1960cc90cb85ed5f,21,5,2,1,14985,Alex Schultz,mwhahaha,"Always run network config for undercloud

We need to ensure that os-net-config is run on upgrades. On the
undercloud we want the os-net-config to always run so let's set the
NetworkDeploymentAction correctly.

NOTE: Changed Change-Id as we incorrectly early cherry-picked and
and to revert.
Original-Change-Id: I749714c1f0af3787020f3e9b88f752d272b91d37
Change-Id: Id3924a027c9bd7865c9fb081a2eda4f8be069a57
Related-Bug: #1930151
(cherry picked from commit 3b043e4953393c7723553c84cc094a25902cd083)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ia81e1f33d6ce230db4a39c90dc01ebc0c4d71830,openstack/tripleo-heat-templates,stable/ussuri,bug/1930151-stable/ussuri,Ia81e1f33d6ce230db4a39c90dc01ebc0c4d71830,"Revert ""Always run network config for undercloud""",MERGED,2021-06-22 15:12:28.000000000,2021-06-25 17:37:57.000000000,2021-06-25 17:37:57.000000000,0,1,0,797476,63bd84405aeef39b870627b985df63b60c9132ac,13,3,2,1,14985,Alex Schultz,mwhahaha,"Revert ""Always run network config for undercloud""

This reverts commit 4efcf186259efd22ae56357bd378e32231a0f880.

Reason for revert: Merged before master and the var is incorrect.

Change-Id: Ia81e1f33d6ce230db4a39c90dc01ebc0c4d71830
"
openstack%2Fopenstack-ansible-haproxy_server~master~I0a9eb7689eb42b50daf5c94c874bb7429b271efe,openstack/openstack-ansible-haproxy_server,master,osa/pki,I0a9eb7689eb42b50daf5c94c874bb7429b271efe,Generate self-signed SSL per listen IP,MERGED,2021-06-17 18:32:01.000000000,2021-06-25 17:23:45.000000000,2021-06-25 17:21:17.000000000,112,84,7,796940,f14ba917986c28023fcc7673573d66774b9e29bb,33,4,14,9,28619,Dmitriy Rabotyagov,noonedeadpunk,"Generate self-signed SSL per listen IP

We're providing an option to have an IP address per VIP
address. Currently it's used only for creating self-signed
SSLs signed with internal CA per each VIP. With follow-up
patches that will also allow to provide user certificates
per VIP, making possible to cover internal and external
endpoints with different non-wildcard certs.

Change-Id: I0a9eb7689eb42b50daf5c94c874bb7429b271efe
"
openstack%2Fcharm-neutron-openvswitch~stable%2F21.04~I1e884eac26d51c825736f34bcbfdccc906944b8d,openstack/charm-neutron-openvswitch,stable/21.04,bug/1931696,I1e884eac26d51c825736f34bcbfdccc906944b8d,Set explicitly_egress_direct=True for ml2 ovs,MERGED,2021-06-25 10:46:25.000000000,2021-06-25 17:04:46.000000000,2021-06-25 17:04:46.000000000,49,0,0,798072,97e3f63b43e68bd0d01e350509c83024a320e444,8,4,1,1,6737,Edward Hope-Morley,hopem,"Set explicitly_egress_direct=True for ml2 ovs

This fixes a regression introduced in 16.3.0 neutron
release that causes non-offloaded ports to break on
hypervisors that have offloaded enabled.

Closes-Bug: #1931696
Change-Id: I1e884eac26d51c825736f34bcbfdccc906944b8d
(cherry picked from commit 0f7d135507def07196aa98cc4cf9fd518641a369)
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I79446813602ae094bb788d3c29654fb814ec19a8,openstack/openstack-ansible-openstack_hosts,master,osa/pki,I79446813602ae094bb788d3c29654fb814ec19a8,Set REQUESTS_CA_BUNDLE env var,MERGED,2021-06-18 15:33:43.000000000,2021-06-25 16:46:02.000000000,2021-06-25 16:44:47.000000000,65,12,0,797129,92b1d408b8d0787a927b5663e112cf96bc28be1a,31,4,11,10,28619,Dmitriy Rabotyagov,noonedeadpunk,"Set REQUESTS_CA_BUNDLE env var

In order to force requests module inside venvs to trust system-trusted
certificate authorities, we need to define environment variable
that will provide full path to CA file. Otherwise certifi provided file
will be used, that can't be updated with new CA once they're added
to system trust store.

Change-Id: I79446813602ae094bb788d3c29654fb814ec19a8
"
openstack%2Fopenstack-ansible-os_nova~stable%2Ftrain~Ie004f845138a23095f6e02138401511054975a01,openstack/openstack-ansible-os_nova,stable/train,,Ie004f845138a23095f6e02138401511054975a01,Use version from repo_packages for SPICE HTML5,MERGED,2021-06-22 06:00:28.000000000,2021-06-25 16:03:00.000000000,2021-06-25 16:01:50.000000000,2,2,0,797312,cd92345cc06bbb03423c646d7b9845bad57bae83,11,4,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use version from repo_packages for SPICE HTML5

Use the version pinned in repo_packages/nova_consoles.yml in
openstack-ansible to install the SPICE HTML5 client. Without this change
the version pin in openstack-ansible has no effect and the role always
installs master.

This is the same change as already done for the noVNC console in commit
1de7b24e701bda75e0fc1d019510f71f16608502.

Change-Id: Ie004f845138a23095f6e02138401511054975a01
(cherry picked from commit 9244767bcdb613a984d69699e56467a762cb4f14)
"
openstack%2Ftripleo-specs~master~I7a76e048ea5f7ac70b82a4c3ff6243a6839dda64,openstack/tripleo-specs,master,drop-placeholder,I7a76e048ea5f7ac70b82a4c3ff6243a6839dda64,Remove now useless placeholder,MERGED,2021-06-08 14:29:28.000000000,2021-06-25 15:55:58.000000000,2021-06-25 15:54:37.000000000,0,11,0,795351,5c74646259008aca2af56f8d5c64adf0d1da2ddc,8,3,1,1,28223,Cedric Jeanneret,cjeanner,"Remove now useless placeholder

Since we have specs...

Change-Id: I7a76e048ea5f7ac70b82a4c3ff6243a6839dda64
"
openstack%2Fnova~master~I6ef77bd92f2595016a99d1953414d3f554f6b2eb,openstack/nova,master,nova-centos-8-stream,I6ef77bd92f2595016a99d1953414d3f554f6b2eb,zuul: Add nova-tox-functional-centos8-py36 job,MERGED,2021-06-16 14:31:48.000000000,2021-06-25 15:42:40.000000000,2021-06-25 15:40:20.000000000,29,4,0,796684,b5b2e998249436e2b6fbdedc2343e9288ee735d9,34,3,6,1,10135,Lee Yarwood,lyarwood,"zuul: Add nova-tox-functional-centos8-py36 job

The nova-tox-functional-py36 job was replaced with the current py38
version during Victoria by I1d6a2986fcb0435cfabdd104d202b65329909d2b.

However as clearly stated in both the Victoria and Xena runtime
reference documents python 3.6 remains supported through CentOS 8 and
later CentOS 8 stream.

This change reintroduces functional test coverage for py36 using a
CentOS 8 stream based job.

[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html
[2] https://governance.openstack.org/tc/reference/runtimes/xena.html

Change-Id: I6ef77bd92f2595016a99d1953414d3f554f6b2eb
"
openstack%2Fopenstack-helm-infra~master~I71b9f7de7bf2cfac71984047b8d44d707ed2b07f,openstack/openstack-helm-infra,master,,I71b9f7de7bf2cfac71984047b8d44d707ed2b07f,Clean up residual file,MERGED,2021-06-25 05:53:06.000000000,2021-06-25 15:36:05.000000000,2021-06-25 15:34:59.000000000,0,1,0,798043,cc9ad68b30b9c562878d7d43725432802213c1a9,13,4,1,1,30449,jinyuanliu,jinyuanliu,"Clean up residual file

The soft link file has been deleted, This path cleans up the redundant files.

Change-Id: I71b9f7de7bf2cfac71984047b8d44d707ed2b07f
"
openstack%2Fironic-python-agent~master~Ifd738b2c5663f1a211d7e13b5ba386be631d8db1,openstack/ironic-python-agent,master,esp_mount,Ifd738b2c5663f1a211d7e13b5ba386be631d8db1,Only mount the ESP if not yet mounted,MERGED,2021-06-11 16:23:51.000000000,2021-06-25 15:26:56.000000000,2021-06-25 15:25:33.000000000,20,7,1,796045,27568204aeb7f063bf236ad7f2f8043db627baa9,15,3,3,3,11292,Arne Wiebalck,wiebalck,"Only mount the ESP if not yet mounted

Check if the ESP is already mounted before attempting to mount it
for the bootloader installation.

Change-Id: Ifd738b2c5663f1a211d7e13b5ba386be631d8db1
"
openstack%2Fironic-python-agent~master~Idfbce44065e1e5a8b730b94741b2604c51f0ab14,openstack/ironic-python-agent,master,story_2008983,Idfbce44065e1e5a8b730b94741b2604c51f0ab14,Coalesce heartbeats,MERGED,2021-06-17 15:46:33.000000000,2021-06-25 15:23:13.000000000,2021-06-25 15:21:41.000000000,66,9,0,796882,b605943796c24a174f0709b84170e0c6de7f4238,15,4,2,3,10239,Dmitry Tantsur,dtantsur,"Coalesce heartbeats

The IPA sends heartbeats to the conductor periodically and when
requested, e.g. at the end of asynchronous commands. In order
to avoid to send such notifications in too quick succession,
e.g. when two asynchronous commands finish at the same time or
when the periodic heartbeat was just sent right before a command
ended, this patch proposes to coalesce heartbeats which are
close together timewise and send only one for all of them
in a time interval of 5 seconds.

Co-Authored-By: Arne Wiebalck <arne.wiebalck@cern.ch>

Story: #2008983
Task: 42633

Change-Id: Idfbce44065e1e5a8b730b94741b2604c51f0ab14
"
openstack%2Fnova~master~If90d9295b231166a28c2cc350d324691821a696b,openstack/nova,master,bp/remove-sqlalchemy-migrate,If90d9295b231166a28c2cc350d324691821a696b,db: Use module-level imports for sqlalchemy,MERGED,2021-04-14 17:43:16.000000000,2021-06-25 15:19:58.000000000,2021-06-25 12:09:55.000000000,1205,1197,0,786295,3b18b788f20d5c7df44759043b3da86b561a5dd0,122,4,4,2,15334,Stephen Finucane,sfinucan,"db: Use module-level imports for sqlalchemy

No need to special case this library any longer. This will make the move
to alembic slightly easier.

Change-Id: If90d9295b231166a28c2cc350d324691821a696b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~I7122933d85bd7d0333c2c35e0f1a8414c1baa6d5,openstack/nova,master,nova-centos-8-stream,I7122933d85bd7d0333c2c35e0f1a8414c1baa6d5,tests: Allow bindep and test-setup.sh to run on EL distros,MERGED,2021-06-15 11:51:09.000000000,2021-06-25 15:19:07.000000000,2021-06-25 15:17:09.000000000,40,3,3,796428,085de864db31631ead22f9c23488ed05b6bd5f88,34,4,5,2,10135,Lee Yarwood,lyarwood,"tests: Allow bindep and test-setup.sh to run on EL distros

Only install mariadb on EL based hosts. Also when using mariadb and
postgresql on EL based distros we need to ensure each service is
configured and actually started before using either.

Co-Authored-By: Ade Lee <alee@redhat.com>
Change-Id: I7122933d85bd7d0333c2c35e0f1a8414c1baa6d5
"
openstack%2Fironic~master~Icedc1cd57c64bfc9b0bad535a6eb7c890e843410,openstack/ironic,master,ilo-gate,Icedc1cd57c64bfc9b0bad535a6eb7c890e843410,CI: change ilo_deploy_iso to deploy_iso,MERGED,2021-06-17 15:55:31.000000000,2021-06-25 15:13:33.000000000,2021-06-25 15:11:35.000000000,1,1,0,796886,4f2d1ca94b048ba62ca408c64a7f076fa9a0b03a,15,3,1,1,10239,Dmitry Tantsur,dtantsur,"CI: change ilo_deploy_iso to deploy_iso

Change-Id: Icedc1cd57c64bfc9b0bad535a6eb7c890e843410
"
openstack%2Fneutron~master~Ieadb801e48898e8b654153ad37be80dd9c865413,openstack/neutron,master,bug/1929438,Ieadb801e48898e8b654153ad37be80dd9c865413,Fix phys network lost after reconfigure,MERGED,2021-05-25 17:31:57.000000000,2021-06-25 14:37:49.000000000,2021-06-25 14:34:43.000000000,28,10,6,793015,edc3852c83980d722a09eab17ca3c2214c79ee64,50,6,3,2,28722,Anton Kurbatov,akurbatov,"Fix phys network lost after reconfigure

This patch moves phys_brs and 'self' associated attributes from
setup_physical_bridges to __init__. Otherwise, bridges from bridge_mapping
could be lost, e.g. when setup_physical_bridges is called with only
reconfigured bridges from _do_reconfigure_physical_bridges.

Closes-Bug: #1929438
Signed-off-by: Anton Kurbatov <Anton.Kurbatov@acronis.com>
Change-Id: Ieadb801e48898e8b654153ad37be80dd9c865413
"
openstack%2Fneutron~master~I812b7e8669bf1ef7b30a3670612d14bc65a93190,openstack/neutron,master,bump-ovsdbapp,I812b7e8669bf1ef7b30a3670612d14bc65a93190,Bump minimal ovsdbapp version to 1.11.0,MERGED,2021-06-17 19:22:13.000000000,2021-06-25 14:36:42.000000000,2021-06-25 14:34:28.000000000,2,2,0,796943,8954b33576536e798c9fdddfe75e284ac6f53250,38,4,2,2,9656,Ihar Hrachyshka,ihrachys,"Bump minimal ovsdbapp version to 1.11.0

This is to make sure stateless-security-groups API extension works
for OVN. (The new ovsdbapp version contains support for
allow-stateless ACL verb.)

Change-Id: I812b7e8669bf1ef7b30a3670612d14bc65a93190
"
openstack%2Fopenstack-ansible-haproxy_server~master~I54307c00673ababb277257f2bb0e456e3e011ac4,openstack/openstack-ansible-haproxy_server,master,stick-table,I54307c00673ababb277257f2bb0e456e3e011ac4,Add variable to disable stick-table,MERGED,2021-06-23 13:10:40.000000000,2021-06-25 14:20:31.000000000,2021-06-25 14:19:13.000000000,7,0,0,797642,31397724357eba22de5d4042b7f354a473d7ebed,13,3,3,2,31749,James Gibson,jamesgibo,"Add variable to disable stick-table

In some use cases you may want to define your own stick-table and
rules, this can be done using the backend_arguments variables.
As you can have only one stick-table per backend or frontend
the default stick-table needs to be disabled.

I am also not convinved the default stick-table is used for anything,
it just logs requests and never uses the logs, i think it could be
removed.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/797819

Change-Id: I54307c00673ababb277257f2bb0e456e3e011ac4
"
openstack%2Fansible-role-uwsgi~master~Idb532c206c3338b9934dfa47e76170aebbb5a5ef,openstack/ansible-role-uwsgi,master,osa/pki,Idb532c206c3338b9934dfa47e76170aebbb5a5ef,Use the system trust store for python requests rather than certifi,MERGED,2021-06-23 08:11:38.000000000,2021-06-25 13:53:07.000000000,2021-06-25 13:51:51.000000000,15,0,0,797600,5f2a0732433caeae8a2d0c0c84e844d2a977cd06,11,3,2,7,25023,Jonathan Rosser,jrosser,"Use the system trust store for python requests rather than certifi

Custom CA are added to the system trust store, never to certifi.
It is necessary to use the system trust store to cover the scenario
where private or self-signed certificate authrorities are used to
secure APIs that the uwsgi service should communicate with.

The default is changed to the system trust store, and can be overridden
per service through uwsgi_services, or globally through uwsgi_ini_overrides.

Change-Id: Idb532c206c3338b9934dfa47e76170aebbb5a5ef
"
openstack%2Fkuryr-kubernetes~master~I2943e55b7d69908261ec71d8014730034bd481a2,openstack/kuryr-kubernetes,master,samples,I2943e55b7d69908261ec71d8014730034bd481a2,Fixes for latest changes on Neutron devstack.,MERGED,2021-06-02 10:45:47.000000000,2021-06-25 13:45:28.000000000,2021-06-25 13:43:53.000000000,85,154,13,794200,a707cc1f714ff202f78e8e293f4a9312a1deaf60,35,4,6,3,13692,Roman Dobosz,gryf,"Fixes for latest changes on Neutron devstack.

There were a changes regarding OVN on Neutron side, let's reflect them
on our local.conf's samples. Now, we will install assume neutron will
have enabled OVN by default.

Change-Id: I2943e55b7d69908261ec71d8014730034bd481a2
"
openstack%2Foslo.config~stable%2Ftrain~Id6f70b27df117f35a6bd5a6b38b4ffaee7e930b3,openstack/oslo.config,stable/train,,Id6f70b27df117f35a6bd5a6b38b4ffaee7e930b3,Updating lower-constraints.txt,ABANDONED,2021-06-15 21:00:26.000000000,2021-06-25 13:39:27.000000000,,4,4,0,796452,52bf381d0d5981361f5f6bbbdfc57e80b64fb8f4,9,2,2,1,27419,David Vallee Delisle,dvd,"Updating lower-constraints.txt

There's currently a conflict when installing test-requirements.txt with
lower-constraints.txt.

The conflict is caused by:
    hacking had to be upgraded to 1.1.0
    flake8>=2.6.0
    oslotest 3.2.0 depends on python-subunit>=1.0.0
    stestr 2.1.0 depends on python-subunit>=1.3.0

Change-Id: Id6f70b27df117f35a6bd5a6b38b4ffaee7e930b3
(cherry picked from commit f1ab25875d8540f69d54bd6dfe1e1b74da823fd4)
"
openstack%2Fcharm-heat~master~I196346e4ca869efab45d1c2aafb1420b2a917d39,openstack/charm-heat,master,bug/1925436,I196346e4ca869efab45d1c2aafb1420b2a917d39,Number of heat queues will keep growing forever after heat-engine restarts,MERGED,2021-05-24 09:55:05.000000000,2021-06-25 13:35:19.000000000,2021-06-25 13:35:19.000000000,20,5,0,792795,de88ad5344c4411dd81c600f724b760a0e8cf03f,11,7,1,3,2711,Zhang Hua,zhhuabj,"Number of heat queues will keep growing forever after heat-engine restarts

Set TTL as a solution for topic queue engine_worker and heat-engine-listener
to avoid them growing all the time after heat-engin restarts.

This is heat part.

Closes-Bug: 1925436
Change-Id: I196346e4ca869efab45d1c2aafb1420b2a917d39
"
openstack%2Foslo.messaging~master~Id5381a0a5216783f0df594b126786947db16a8d1,openstack/oslo.messaging,master,,Id5381a0a5216783f0df594b126786947db16a8d1,Remove the oslo_utils.fnmatch,MERGED,2021-04-28 02:04:57.000000000,2021-06-25 13:35:08.000000000,2021-06-25 13:33:56.000000000,1,1,1,788386,39826f06f1159080324edd794dc3d9cc893c297f,19,5,3,1,31827,Jorhson Deng,dengzhaosen,"Remove the oslo_utils.fnmatch

Oslo.utils's fnmatch module was added to fix the py2.7 fnmatch module
who was not thread safe [1]. Python 2.7 is no longer supported so now we
can use the stdlib's fnmatch module and deprecate the one of oslo.utils.

[1] https://bugs.python.org/issue23191$

Change-Id: Id5381a0a5216783f0df594b126786947db16a8d1
"
openstack%2Fcharm-rabbitmq-server~master~I7b826fe965a200da29020a8f2c6148f76d10a2b0,openstack/charm-rabbitmq-server,master,bug/1925436,I7b826fe965a200da29020a8f2c6148f76d10a2b0,Number of heat queues will keep growing forever after heat-engine restarts,MERGED,2021-04-26 02:52:49.000000000,2021-06-25 13:26:28.000000000,2021-06-25 13:26:28.000000000,65,9,10,787909,707fa0e093af3b6ab636b65b018c29049f7a51ff,60,8,7,4,2711,Zhang Hua,zhhuabj,"Number of heat queues will keep growing forever after heat-engine restarts

Set TTL as a solution for topic queue engine_worker and heat-engine-listener
to avoid them growing all the time after heat-engin restarts.

This is rabbitmq-server part. eg: we can set heat ttl by:

juju config heat ttl=3600000

Closes-Bug: 1925436
Change-Id: I7b826fe965a200da29020a8f2c6148f76d10a2b0
"
openstack%2Fproject-config~master~Ica735f6496b58970df7d7e8ef110e387cec7c4d4,openstack/project-config,master,osa/deprecate_nspawn,Ica735f6496b58970df7d7e8ef110e387cec7c4d4,Deprecate OpenStack-Ansible nspawn repositories,MERGED,2021-06-23 17:13:57.000000000,2021-06-25 13:20:44.000000000,2021-06-25 13:01:29.000000000,16,6,0,797723,d93f2e09ff118fdaa3857ea4d6227a8815d8439b,10,4,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Deprecate OpenStack-Ansible nspawn repositories

Since nspawn support has been removed with [1] we now
start repositories deprecation process.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/782569

Change-Id: Ica735f6496b58970df7d7e8ef110e387cec7c4d4
"
openstack%2Fproject-config~master~I624812a40c9927dfd38a12be3c7b3ab232d82437,openstack/project-config,master,retire-ops-tags-team,I624812a40c9927dfd38a12be3c7b3ab232d82437,Remove ops-tags-team from infra,MERGED,2021-06-23 21:03:38.000000000,2021-06-25 13:14:31.000000000,2021-06-25 12:53:41.000000000,0,7,0,797775,39d123d719dfa88a1905c13c32f15cbaac084235,8,3,1,2,8556,Ghanshyam,ghanshyam,"Remove ops-tags-team from infra

ops-tags-team repo is retired, this commit remove it
from infra.

- https://review.opendev.org/q/topic:%22retire-ops-tags-team%22+(status:open%20OR%20status:merged)

Change-Id: I624812a40c9927dfd38a12be3c7b3ab232d82437
"
openstack%2Ftripleo-upgrade~master~I518be6cdba50d9bd48b3328e19cc89432f1b89b1,openstack/tripleo-upgrade,master,fix_tests_for_centos8_ubuntu_focal_py38,I518be6cdba50d9bd48b3328e19cc89432f1b89b1,Remove additional dependency from pre-commit,MERGED,2021-06-24 12:52:34.000000000,2021-06-25 13:10:13.000000000,2021-06-25 13:10:13.000000000,0,2,0,797896,523d09a801947685f17fc6e43fd550efcf23e832,9,3,1,1,11090,Sergii Golovatiuk,holser,"Remove additional dependency from pre-commit

This dependency breaks Centos8/Ubuntu Focal testing as these OSes use
python 3.8.

Change-Id: I518be6cdba50d9bd48b3328e19cc89432f1b89b1
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7e22dbe287bf9c93438717c08a3ceb1998445b93,openstack/tripleo-heat-templates,stable/train,,I7e22dbe287bf9c93438717c08a3ceb1998445b93,Do not run Swift rsync container in single replica mode,MERGED,2021-06-24 10:53:17.000000000,2021-06-25 13:10:08.000000000,2021-06-25 13:10:08.000000000,21,21,0,797768,2751feac7489e3b8fb1a5feccc9eab39d28265c6,9,4,1,1,6968,Christian Schwede,cschwede,"Do not run Swift rsync container in single replica mode

When Swift is running in single replica mode, rsync is pretty much
useless - there is no counterpart to transfer data.

On the undercloud this also prevents misleading error messages if
xinetd is running and already using port 873.

Change-Id: I7e22dbe287bf9c93438717c08a3ceb1998445b93
(cherry picked from commit 91f06efb3a899176a376861cac3e0456e185f351)
"
openstack%2Fopenstack-tempest-skiplist~master~Id53dd8dd35dec9c5ce705fccec23b07fc8fbcdd5,openstack/openstack-tempest-skiplist,master,,Id53dd8dd35dec9c5ce705fccec23b07fc8fbcdd5,Changing ruamel.yaml version to >= instad of ==,MERGED,2021-06-25 12:30:52.000000000,2021-06-25 13:04:37.000000000,2021-06-25 13:03:10.000000000,1,1,0,798080,52a73c11f51865bbe0efaee2a21d1d082bf97c2c,8,3,1,1,32458,Ananya,frenzyfriday,"Changing ruamel.yaml version to >= instad of ==

Changing ruamel.yaml version to >= instad of == because of jobs failing with conflicting dependencies. Eg: https://zuul.openstack.org/build/c598131fb7354467bdf951497f51d788

Change-Id: Id53dd8dd35dec9c5ce705fccec23b07fc8fbcdd5
"
openstack%2Fproject-config~master~I95b80f11993c1359b65b52cc3bd18baa9375ec88,openstack/project-config,master,retire-workload-ref-archs,I95b80f11993c1359b65b52cc3bd18baa9375ec88,Remove workload-ref-archs from infra,MERGED,2021-06-23 21:00:57.000000000,2021-06-25 13:02:50.000000000,2021-06-25 12:53:28.000000000,0,7,0,797774,889699de52ed3a3fc7d68c35417cc73b5bb18318,8,3,1,2,8556,Ghanshyam,ghanshyam,"Remove workload-ref-archs from infra

workload-ref-archs repo is retired, this commit remove it
from infra.

- https://review.opendev.org/q/topic:%22retire-workload-ref-archs%22+(status:open%20OR%20status:merged)

Change-Id: I95b80f11993c1359b65b52cc3bd18baa9375ec88
"
openstack%2Fneutron~master~Ic4c3490aed4f899293be993d4663bb537c34ab8b,openstack/neutron,master,subnet_callback,Ic4c3490aed4f899293be993d4663bb537c34ab8b,use callback payloads for SUBNET,MERGED,2021-06-11 13:40:56.000000000,2021-06-25 12:59:33.000000000,2021-06-25 12:57:25.000000000,102,69,18,796011,cd8c4f7e3088e7d033fbbc5503217d56fafc0892,73,5,7,9,32667,Mamatisa Nurmatov,isabek,"use callback payloads for SUBNET

This patch switches over to callback payloads for
SUBNET events.

Change-Id: Ic4c3490aed4f899293be993d4663bb537c34ab8b
"
openstack%2Fnova~master~Icad92d1b3e3a2e2cdd9cfb0d3f80ee091c697756,openstack/nova,master,bp/remove-sqlalchemy-migrate,Icad92d1b3e3a2e2cdd9cfb0d3f80ee091c697756,db: Fold in indexes,MERGED,2021-04-14 17:43:16.000000000,2021-06-25 12:59:29.000000000,2021-06-25 12:56:58.000000000,156,233,0,786296,66daa87339bb4141a80a3ba614fd95cefed4c4b8,83,4,4,1,15334,Stephen Finucane,sfinucan,"db: Fold in indexes

This will also make the alembic move simpler. Most of this change was
accomplished with ""s/[a-z_]\+\.c\.\([a-z_]\+\)/'\1'/"" (i.e. replace
""model.c.column"" with ""'column'""). The only other odd change is the use
of the 'mysql_length' parameter [1] to allow us to specify the length of
index entries for the 'migrations_by_host_nodes_and_status_idx' index on
the 'migrations' table.

[1] https://docs.sqlalchemy.org/en/14/dialects/mysql.html#index-length

Change-Id: Icad92d1b3e3a2e2cdd9cfb0d3f80ee091c697756
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstack-ansible~master~I92a29c83502c4fa90583414f6249ca40d31eb677,openstack/openstack-ansible,master,bump_osa,I92a29c83502c4fa90583414f6249ca40d31eb677,Bump SHAs for master,ABANDONED,2021-06-06 18:24:06.000000000,2021-06-25 12:55:18.000000000,,60,60,0,794998,bf87afccb78bd3b6831fd130e866bb27fa8ffa27,4,1,2,4,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump SHAs for master

Change-Id: I92a29c83502c4fa90583414f6249ca40d31eb677
"
openstack%2Fopenstack-ansible-openstack_openrc~master~Ibe6b59b497fa665b722b648a57cb5568b1b29b5f,openstack/openstack-ansible-openstack_openrc,master,osa/pki,Ibe6b59b497fa665b722b648a57cb5568b1b29b5f,Add OS_CACERT env variable,MERGED,2021-06-24 08:42:43.000000000,2021-06-25 12:55:06.000000000,2021-06-25 12:52:53.000000000,2,0,0,797818,ea1f0c084f7d74c70576c4bb1cde580a277b4654,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add OS_CACERT env variable

Once internal CA is used, that is not part of default trust store,
we need to ensure that openstack clients will use system-trust instead
of the default one provided by certifi library.

Change-Id: Ibe6b59b497fa665b722b648a57cb5568b1b29b5f
"
openstack%2Fopenstack-ansible~master~I8c65b3270298f5da6438834d6b3b26d98c000dd0,openstack/openstack-ansible,master,,I8c65b3270298f5da6438834d6b3b26d98c000dd0,Gather hardware facts by default,ABANDONED,2021-05-05 11:07:35.000000000,2021-06-25 12:43:57.000000000,,1,1,0,789784,6be642090b6da3388fe51abd889ce2fef24fbcf1,4,2,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Gather hardware facts by default

In all roles (or at least most of them) we leverage hardware
facts, like amount of vcpus. So instead of adding extra facts gathering
in all playbooks, we just extend subset of gathered facts.

Change-Id: I8c65b3270298f5da6438834d6b3b26d98c000dd0
"
openstack%2Fproject-config~master~I18044f33d1c9091e5b5a63a5071f6810b82f7542,openstack/project-config,master,rdoci,I18044f33d1c9091e5b5a63a5071f6810b82f7542,Allow RDO CI on ansible-collections-openstack,MERGED,2021-06-23 18:51:11.000000000,2021-06-25 12:28:24.000000000,2021-06-25 11:24:17.000000000,1,0,0,797738,c8a3fcddca23c1039408594cff4a1e37c0f8c7c1,10,8,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Allow RDO CI on ansible-collections-openstack

Allow RDO thirdparty jobs to run and report results on CI of
ansible-collections-openstack project.

Change-Id: I18044f33d1c9091e5b5a63a5071f6810b82f7542
Signed-off-by: Sagi Shnaidman <sshnaidm@redhat.com>
"
openstack%2Fproject-config~master~Ie88770fc91f58d2f03c5e951b9ec58c4116662d2,openstack/project-config,master,retire-enterprise-wg,Ie88770fc91f58d2f03c5e951b9ec58c4116662d2,Remove enterprise-wg from infra,MERGED,2021-06-23 20:53:45.000000000,2021-06-25 12:21:25.000000000,2021-06-25 11:24:12.000000000,0,7,0,797752,9bfd746ba58a7a6281a54c0a9b531e7aa2be5b86,8,3,1,2,8556,Ghanshyam,ghanshyam,"Remove enterprise-wg from infra

enterprise-wg repo is retired, this commit remove it
from infra.

- https://review.opendev.org/q/topic:%22retire-enterprise-wg%22+(status:open%20OR%20status:merged)

Change-Id: Ie88770fc91f58d2f03c5e951b9ec58c4116662d2
"
openstack%2Fopenstack-ansible~master~I69d38dbdf53a7c4b72c5c951b364c46453a168f3,openstack/openstack-ansible,master,zanata/translations,I69d38dbdf53a7c4b72c5c951b364c46453a168f3,Imported Translations from Zanata,MERGED,2021-06-25 07:41:51.000000000,2021-06-25 12:11:41.000000000,2021-06-25 12:09:31.000000000,132,305,0,798052,f005795e1991bce9c480019211d6f2a4b4bee244,8,3,1,7,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I69d38dbdf53a7c4b72c5c951b364c46453a168f3
"
openstack%2Fproject-config~master~I883cb23e3f21bf8d00826e55cb53660e56e306f6,openstack/project-config,master,retire-project-navigator-data,I883cb23e3f21bf8d00826e55cb53660e56e306f6,Remove project-navigator-data from infra,MERGED,2021-06-23 20:51:41.000000000,2021-06-25 12:07:13.000000000,2021-06-25 11:24:07.000000000,0,8,0,797751,19ad64bf38d1ba68ea8a7c7266570077de15784b,8,3,1,3,8556,Ghanshyam,ghanshyam,"Remove project-navigator-data from infra

project-navigator-data repo is retired, this commit remove it
from infra.

- https://review.opendev.org/q/topic:%22retire-project-navigator-data%22+(status:open%20OR%20status:merged)

Change-Id: I883cb23e3f21bf8d00826e55cb53660e56e306f6
"
openstack%2Fproject-config~master~I883ca53650463ee2946ba4f38339bd54dbf5c3b0,openstack/project-config,master,retire-openstack-specs,I883ca53650463ee2946ba4f38339bd54dbf5c3b0,Remove openstack-specs from infra,MERGED,2021-06-23 20:47:33.000000000,2021-06-25 11:53:12.000000000,2021-06-25 11:23:06.000000000,0,8,0,797750,6924a8be6af3e71129020e62f533872223447fe6,8,3,1,3,8556,Ghanshyam,ghanshyam,"Remove openstack-specs from infra

openstack-specs repo is retired, this commit remove it
from infra.

- https://review.opendev.org/q/topic:%22retire-openstack-specs%22+(status:open%20OR%20status:merged)

Change-Id: I883ca53650463ee2946ba4f38339bd54dbf5c3b0
"
openstack%2Foslo.db~master~Idf6fd858fad9521c7c5ba82c31b6d3077756abd9,openstack/oslo.db,master,sqlalchemy-1-4-14,Idf6fd858fad9521c7c5ba82c31b6d3077756abd9,types: Set 'cache_ok',MERGED,2021-06-22 10:57:23.000000000,2021-06-25 11:41:01.000000000,2021-06-25 11:39:41.000000000,4,0,1,797426,1dc20f646b558354e4ba434f4132a1b7979d563e,18,7,2,1,15334,Stephen Finucane,sfinucan,"types: Set 'cache_ok'

Resolves the following warning that has been popping up on tests:

  SAWarning: TypeDecorator SoftDeleteInteger() will not produce a cache
  key because the ``cache_ok`` flag is not set to True.  Set this flag
  to True if this type object's state is safe to use in a cache key, or
  False to disable this warning.

Both SoftDeleteInteger and the various subclasses of 'JsonEncodedType'
are hashable and should return a consistent hash and key. For more
information, refer to the SQLAlchemy docs [1].

[1] https://docs.sqlalchemy.org/en/14/core/custom_types.html#sqlalchemy.types.TypeDecorator.cache_ok

Change-Id: Idf6fd858fad9521c7c5ba82c31b6d3077756abd9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcloudkitty~master~I9e29808dc5771a6455d3c564f080e8c2ec28dc72,openstack/cloudkitty,master,deprecate_state_variable,I9e29808dc5771a6455d3c564f080e8c2ec28dc72,Deprecate `state` field and propose `last_processed_timestamp` field,MERGED,2021-02-09 12:46:42.000000000,2021-06-25 11:35:58.000000000,2021-06-25 11:34:38.000000000,176,35,16,774634,70114c829e292d97e424b6697568fd285dc668cb,53,5,11,12,28356,Rafael Weingartner,rafaelweingartner,"Deprecate `state` field and propose `last_processed_timestamp` field

Changes the `state` field in `cloudkitty_storage_states` table.
The goal is to use a more descriptive and meaningful name.
The proposed new column name is `last_processed_timestamp`.

Depends-on: https://review.opendev.org/c/openstack/cloudkitty/+/793973
Depends-on: https://review.opendev.org/c/openstack/cloudkitty/+/797443

Change-Id: I9e29808dc5771a6455d3c564f080e8c2ec28dc72
Implements: https://review.opendev.org/c/openstack/cloudkitty-specs/+/771513
"
openstack%2Fproject-config~master~I34892d42091e8532f8b0648f2f3a5773eb486199,openstack/project-config,master,retire-arch-wg,I34892d42091e8532f8b0648f2f3a5773eb486199,Remove arch-wg from infra,MERGED,2021-06-23 20:43:24.000000000,2021-06-25 11:34:24.000000000,2021-06-25 11:19:44.000000000,0,16,0,797748,c17885fe39319c971ababbcb0097534ec881f2b7,8,3,1,3,8556,Ghanshyam,ghanshyam,"Remove arch-wg from infra

arch-wg repo is retired, this commit remove it
from infra.

- https://review.opendev.org/q/topic:%22retire-arch-wg%22+(status:open%20OR%20status:merged)

Change-Id: I34892d42091e8532f8b0648f2f3a5773eb486199
"
openstack%2Fproject-config~master~Iba7f7d905893193461038b3ad1b097a11720c996,openstack/project-config,master,nova,Iba7f7d905893193461038b3ad1b097a11720c996,Add nova-core to stable maintainers,NEW,2021-06-25 11:12:56.000000000,2021-06-25 11:26:30.000000000,,3,0,0,798077,eb58b4a4581550384e6654745a0b9a240081be2a,3,2,1,1,15334,Stephen Finucane,sfinucan,"Add nova-core to stable maintainers

We could also do this by adding nova-core to nova-stable-maint in the
Gerrit UI, but this seems cleaner/clearer.

Change-Id: Iba7f7d905893193461038b3ad1b097a11720c996
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I461e0fdc8fc717beed3aea7a66e41de1e11116da,openstack/tripleo-heat-templates,stable/train,env/external_from_pool-stable/train,I461e0fdc8fc717beed3aea7a66e41de1e11116da,Add environment for external network VIP,MERGED,2021-06-02 00:26:07.000000000,2021-06-25 11:25:16.000000000,2021-06-25 11:25:16.000000000,5,0,0,794066,374990f20495b3692dbe38ecf4dcc486e5051afc,9,4,1,1,3153,Emilien Macchi,emilienm,"Add environment for external network VIP

This environment allows us to control the external VIP for Undercloud or Standalone SSL.
When used, a network data has to be provided (e.g. network_data_undercloud.yaml) and
`openstack tripleo deploy` must be called with --public-virtual-ip.

It's not really needed for Undercloud because
environments/undercloud.yaml already sets the resource right, but for
Standalone users this file will be useful when they want public
endpoints to be listening on another network.

Change-Id: I461e0fdc8fc717beed3aea7a66e41de1e11116da
(cherry picked from commit d297c822c4177b98028e1a3b2838737b58eb3be1)
"
openstack%2Fneutron~stable%2Ftrain~I34f850782092f771482a297ae1e68a63ffb027c1,openstack/neutron,stable/train,subnet_del_opt-stable/train,I34f850782092f771482a297ae1e68a63ffb027c1,Improve Subnet delete performance,MERGED,2021-06-23 15:38:42.000000000,2021-06-25 11:18:19.000000000,2021-06-25 11:16:19.000000000,5,4,0,797696,88a91d4b96058fcf118b9032456d5c8df49453e0,14,3,1,2,5948,Oleg Bondarev,obondarev,"Improve Subnet delete performance

- don't re-fetch subnet object from DB
- network is not used in SubnetContext when deleting subnet

Above gives ~35% improvement

Change-Id: I34f850782092f771482a297ae1e68a63ffb027c1
(cherry picked from commit bdd50ffcde2875c877127975294dd5a29213e92b)
"
openstack%2Fneutron~stable%2Fussuri~I34f850782092f771482a297ae1e68a63ffb027c1,openstack/neutron,stable/ussuri,subnet_del_opt-stable/ussuri,I34f850782092f771482a297ae1e68a63ffb027c1,Improve Subnet delete performance,MERGED,2021-06-23 15:38:29.000000000,2021-06-25 11:18:08.000000000,2021-06-25 11:16:11.000000000,5,4,0,797695,279e707a32e6d9cf5ad42857ba593436920ac3b8,14,3,1,2,5948,Oleg Bondarev,obondarev,"Improve Subnet delete performance

- don't re-fetch subnet object from DB
- network is not used in SubnetContext when deleting subnet

Above gives ~35% improvement

Change-Id: I34f850782092f771482a297ae1e68a63ffb027c1
(cherry picked from commit bdd50ffcde2875c877127975294dd5a29213e92b)
"
openstack%2Fneutron~stable%2Fwallaby~I34f850782092f771482a297ae1e68a63ffb027c1,openstack/neutron,stable/wallaby,subnet_del_opt-stable/wallaby,I34f850782092f771482a297ae1e68a63ffb027c1,Improve Subnet delete performance,MERGED,2021-06-23 15:37:34.000000000,2021-06-25 11:17:57.000000000,2021-06-25 11:16:32.000000000,5,4,0,797592,061b234c7aaa61c8c7960782db1231523ff07b1f,11,3,1,2,5948,Oleg Bondarev,obondarev,"Improve Subnet delete performance

- don't re-fetch subnet object from DB
- network is not used in SubnetContext when deleting subnet

Above gives ~35% improvement

Change-Id: I34f850782092f771482a297ae1e68a63ffb027c1
(cherry picked from commit bdd50ffcde2875c877127975294dd5a29213e92b)
"
openstack%2Fneutron~stable%2Fvictoria~I34f850782092f771482a297ae1e68a63ffb027c1,openstack/neutron,stable/victoria,subnet_del_opt-stable/victoria,I34f850782092f771482a297ae1e68a63ffb027c1,Improve Subnet delete performance,MERGED,2021-06-23 15:38:15.000000000,2021-06-25 11:15:14.000000000,2021-06-25 11:13:30.000000000,5,4,0,797693,fdd4e276f2f423532073bb8a4ecf3b1f3e99c6de,14,3,1,2,5948,Oleg Bondarev,obondarev,"Improve Subnet delete performance

- don't re-fetch subnet object from DB
- network is not used in SubnetContext when deleting subnet

Above gives ~35% improvement

Change-Id: I34f850782092f771482a297ae1e68a63ffb027c1
(cherry picked from commit bdd50ffcde2875c877127975294dd5a29213e92b)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I461e0fdc8fc717beed3aea7a66e41de1e11116da,openstack/tripleo-heat-templates,stable/ussuri,env/external_from_pool-stable/ussuri,I461e0fdc8fc717beed3aea7a66e41de1e11116da,Add environment for external network VIP,MERGED,2021-06-02 00:25:45.000000000,2021-06-25 11:08:44.000000000,2021-06-25 11:08:44.000000000,5,0,0,794065,4abbadb467bc8dffdc593ebf778d97d5eb38a1f5,10,3,1,1,3153,Emilien Macchi,emilienm,"Add environment for external network VIP

This environment allows us to control the external VIP for Undercloud or Standalone SSL.
When used, a network data has to be provided (e.g. network_data_undercloud.yaml) and
`openstack tripleo deploy` must be called with --public-virtual-ip.

It's not really needed for Undercloud because
environments/undercloud.yaml already sets the resource right, but for
Standalone users this file will be useful when they want public
endpoints to be listening on another network.

Change-Id: I461e0fdc8fc717beed3aea7a66e41de1e11116da
(cherry picked from commit d297c822c4177b98028e1a3b2838737b58eb3be1)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I461e0fdc8fc717beed3aea7a66e41de1e11116da,openstack/tripleo-heat-templates,stable/victoria,env/external_from_pool-stable/victoria,I461e0fdc8fc717beed3aea7a66e41de1e11116da,Add environment for external network VIP,MERGED,2021-06-02 00:25:22.000000000,2021-06-25 11:08:38.000000000,2021-06-25 11:08:38.000000000,5,0,0,794064,27ae88324b815ede4e525986230d4debac04cb50,10,3,1,1,3153,Emilien Macchi,emilienm,"Add environment for external network VIP

This environment allows us to control the external VIP for Undercloud or Standalone SSL.
When used, a network data has to be provided (e.g. network_data_undercloud.yaml) and
`openstack tripleo deploy` must be called with --public-virtual-ip.

It's not really needed for Undercloud because
environments/undercloud.yaml already sets the resource right, but for
Standalone users this file will be useful when they want public
endpoints to be listening on another network.

Change-Id: I461e0fdc8fc717beed3aea7a66e41de1e11116da
(cherry picked from commit d297c822c4177b98028e1a3b2838737b58eb3be1)
"
openstack%2Fheat~stable%2Ftrain~I6f517a38aade8418e9a0f6a105a569c2cdf473ef,openstack/heat,stable/train,,I6f517a38aade8418e9a0f6a105a569c2cdf473ef,Make the failing multi-node grenade job non-voting,NEW,2021-06-25 08:41:02.000000000,2021-06-25 10:56:31.000000000,,1,3,0,798057,ec3a115be5da475828a62524eacf7100bbfa1489,3,2,1,1,8833,Rabi Mishra,rabi,"Make the failing multi-node grenade job non-voting

We've not fixed py2 jobs since a long time. Telemetry services
don't work with py2. Multinode grenade job is failing in train
as we can't https://review.opendev.org/c/openstack/heat/+/738731
to stein. Let's only run the py3 and the single node
grenade job as voting in train. Also removes all non-voting jobs
from gate queue.

Change-Id: I6f517a38aade8418e9a0f6a105a569c2cdf473ef
"
openstack%2Foslo.messaging~master~I131471ebb22f558911deb6709175e2bb41eaeeef,openstack/oslo.messaging,master,use_stdlib_fnmatch,I131471ebb22f558911deb6709175e2bb41eaeeef,Use stdlib fnmatch module,ABANDONED,2021-06-25 10:52:14.000000000,2021-06-25 10:53:25.000000000,,1,1,0,798075,b40eefaeab8aa74cafbf6aa539aca0f3af34e358,2,0,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Use stdlib fnmatch module

oslo.utils fnmatch module has been deprecated [1].

[1]https://github.com/openstack/oslo.utils/commit/4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b

Change-Id: I131471ebb22f558911deb6709175e2bb41eaeeef
"
openstack%2Fheat~master~I5b52b0bdaa41510c0d962876241bf9b7ad121d96,openstack/heat,master,heat_logs,I5b52b0bdaa41510c0d962876241bf9b7ad121d96,Suppress policy deprecation warnings,MERGED,2021-06-23 09:22:03.000000000,2021-06-25 10:44:11.000000000,2021-06-25 10:40:30.000000000,3,0,0,797611,892f365a1e9d3f477f5ac12a89d64cacb8baf9e1,12,3,1,1,8833,Rabi Mishra,rabi,"Suppress policy deprecation warnings

Logs are now filled with these deprecated policy warnings.
We'll remove it once we remove the deprecated rules.

Closes-Bug: #1933241
Change-Id: I5b52b0bdaa41510c0d962876241bf9b7ad121d96
"
openstack%2Fheat~master~Icfe18a5d299da4b6b4024374791be53f2b3e41f2,openstack/heat,master,heat_logs,Icfe18a5d299da4b6b4024374791be53f2b3e41f2,Switch to use <user/project>_domain_id in context,MERGED,2021-06-23 06:57:19.000000000,2021-06-25 10:42:52.000000000,2021-06-25 10:40:21.000000000,35,40,1,797570,3cf6c575db764741e729e41d87efdd555dc4400d,17,3,3,3,8833,Rabi Mishra,rabi,"Switch to use <user/project>_domain_id in context

Unreadable logs from oslo.context warnings.

""Using the 'project_domain' argument is deprecated in version
'2.18' and will be removed in version '3.0'""

Change-Id: Icfe18a5d299da4b6b4024374791be53f2b3e41f2
"
openstack%2Fopenstack-ansible~master~Ie0322e63ff1856373284e9804faeed0ee7db40f5,openstack/openstack-ansible,master,,Ie0322e63ff1856373284e9804faeed0ee7db40f5,"Revert ""Set buster jobs to non-voting""",MERGED,2021-06-25 05:47:34.000000000,2021-06-25 10:39:24.000000000,2021-06-25 10:36:52.000000000,4,5,0,797952,d5e9e05bec4efa0875906bd768082ea6c44413a3,8,2,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Revert ""Set buster jobs to non-voting""

Once bugfix is published in buster repos and CI imnages rebuilt we can revert patch.

This reverts commit 55ac8d3d008e14360049d989c7044512afc45fdf.

Change-Id: Ie0322e63ff1856373284e9804faeed0ee7db40f5
"
openstack%2Fneutron~stable%2Fvictoria~I8033e12f5b30e3ecc9143431543266a890fe4073,openstack/neutron,stable/victoria,,I8033e12f5b30e3ecc9143431543266a890fe4073,[OVN] Disable mcast_flood on localnet ports,MERGED,2021-06-24 08:32:11.000000000,2021-06-25 10:33:48.000000000,2021-06-25 10:31:47.000000000,6,6,0,797814,5351d1b66bb269cdb22c23347fe939c359734ad1,20,3,1,4,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] Disable mcast_flood on localnet ports

The mcast_flood option will unconditionally forward multicast traffic
for that port, this behavior is not desired and results in duplicated
traffic being sent to the same port. This patch disables that behavior
by setting the mcast_flood option for the localnet ports to False.

Note that, a similar option called ""mcast_flood_reports"" is still
enabled because we do want to have the multicast reports being sent but
not normal traffic.

Change-Id: I8033e12f5b30e3ecc9143431543266a890fe4073
Closes-Bug: #1933207
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 953eb92a4f1d686a45d91100c8b02f9fe0771ed9)
"
openstack%2Fopenstack-tempest-skiplist~master~Ib01581ce3d7ebc74b58591564aa92fa57c2af258,openstack/openstack-tempest-skiplist,master,,Ib01581ce3d7ebc74b58591564aa92fa57c2af258,Adds neutron_tempest_plugin.api.test_subnets.SubnetServiceTypeTestJSON to skiplist,MERGED,2021-06-21 14:36:41.000000000,2021-06-25 10:23:51.000000000,2021-06-21 15:05:41.000000000,8,0,1,797320,7a34dcc1cdf6b7834a6c43734bb506f0e66105de,9,2,2,1,32458,Ananya,frenzyfriday,"Adds neutron_tempest_plugin.api.test_subnets.SubnetServiceTypeTestJSON to skiplist

Related-Bug: 1933115
Change-Id: Ib01581ce3d7ebc74b58591564aa92fa57c2af258
"
openstack%2Fdevstack~master~I706a33b0a7c737a23b9a7270af1e53e5de83c66f,openstack/devstack,master,revert-edk2-workaround,I706a33b0a7c737a23b9a7270af1e53e5de83c66f,Revert edk2 workaround,MERGED,2021-06-18 12:06:47.000000000,2021-06-25 10:18:41.000000000,2021-06-25 10:16:44.000000000,1,11,0,797071,808331488dc16afdf9bd4c2c3103a4a8fc9a6209,11,3,1,1,30491,Radosław Piliszek,yoctozepto,"Revert edk2 workaround

It is not needed anymore.

Change-Id: I706a33b0a7c737a23b9a7270af1e53e5de83c66f
"
openstack%2Foslo.privsep~master~Ie3b1fc255c0c05fd5403b90ef49b954fe397fb77,openstack/oslo.privsep,master,bug/1930401,Ie3b1fc255c0c05fd5403b90ef49b954fe397fb77,Add timeout to PrivContext and entrypoint_with_timeout decorator,MERGED,2021-06-06 14:55:29.000000000,2021-06-25 10:01:25.000000000,2021-06-25 09:59:53.000000000,202,50,19,794993,f7f3349d6a4def52f810ab1728879521c12fe2d0,40,7,5,8,8313,Lajos Katona,elajkat,"Add timeout to PrivContext and entrypoint_with_timeout decorator

entrypoint_with_timeout decorator can be used with a timeout parameter,
if the timeout is reached PrivsepTimeout is raised.
The PrivContext has timeout variable, which will be used for all
functions decorated with entrypoint, and PrivsepTimeout is raised if
timeout is reached.

Co-authored-by: Rodolfo Alonso <ralonsoh@redhat.com>
Change-Id: Ie3b1fc255c0c05fd5403b90ef49b954fe397fb77
Related-Bug: #1930401
"
openstack%2Ftripleo-specs~master~I91b8c0764101515e8d5d209029ef25787887878d,openstack/tripleo-specs,master,bp/whole-disk-default,I91b8c0764101515e8d5d209029ef25787887878d,Deploy whole disk images by default,MERGED,2021-04-29 23:55:26.000000000,2021-06-25 09:38:21.000000000,2021-06-04 11:27:25.000000000,307,0,18,788850,e80d5821515ff89863e2e5275bf2add210520533,29,6,5,1,4571,Steve Baker,steve-stevebaker,"Deploy whole disk images by default

This tracks the tasks required to switch to whole-disk overcloud
images by default instead of the current overcloud-full partition image

Change-Id: I91b8c0764101515e8d5d209029ef25787887878d
Blueprint: whole-disk-default
"
openstack%2Ftripleo-specs~master~Iabb4bc9d8ba2f93aadef67b7fd9fc09bb1402ede,openstack/tripleo-specs,master,healthcheck-cleanup,Iabb4bc9d8ba2f93aadef67b7fd9fc09bb1402ede,Healthcheck cleaning and consolidation,MERGED,2021-04-22 11:48:41.000000000,2021-06-25 09:23:52.000000000,2021-06-08 14:17:56.000000000,217,0,32,787535,01b4c0a1af5329023f0fdaa4671c960fbda95168,47,8,11,1,28223,Cedric Jeanneret,cjeanner,"Healthcheck cleaning and consolidation

As discussed at the Xena PTG, let's make healthcheck less a burdon.

Change-Id: Iabb4bc9d8ba2f93aadef67b7fd9fc09bb1402ede
"
openstack%2Freleases~master~I3657224953c027b5537bd465d43e469e12ede8a5,openstack/releases,master,,I3657224953c027b5537bd465d43e469e12ede8a5,Create pike-eol tag for horizon project,MERGED,2021-05-17 09:45:37.000000000,2021-06-25 09:13:45.000000000,2021-06-25 09:13:45.000000000,4,0,1,791707,84bb332bf4b1d0dca05261bb384be88be275282f,24,4,2,1,29313,Vishal Manchanda,vishalmanchanda,"Create pike-eol tag for horizon project

Horizon Team is no longer accepting patches to stable/pike
branch, this patch proposes to create pike-eol tags for
horizon project.

Announcement email: http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022466.html

Change-Id: I3657224953c027b5537bd465d43e469e12ede8a5
"
openstack%2Ftripleo-ansible~master~I4a1f1d6e57b5e2e19f07096faf396b70de57d5ab,openstack/tripleo-ansible,master,undercloud-noauth,I4a1f1d6e57b5e2e19f07096faf396b70de57d5ab,Don't pass session object,MERGED,2021-06-18 06:16:23.000000000,2021-06-25 09:10:39.000000000,2021-06-25 09:09:08.000000000,13,22,0,796991,e4d0413bf7c7c3b12dd951a413d0de3e739f1e08,41,5,4,1,8833,Rabi Mishra,rabi,"Don't pass session object

Creating openstack connection obejcts from session objects
won't not work with noauth as they don't carry endpoint
override data. Pass the cloud_name instead and create the
connection object in tripleo-common inventory module.

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/796825
Change-Id: I4a1f1d6e57b5e2e19f07096faf396b70de57d5ab
"
openstack%2Fneutron-tempest-plugin~master~I2b9b472a07455f5e67fc4adcc3b264b4ad8a9dbf,openstack/neutron-tempest-plugin,master,bug/1933115,I2b9b472a07455f5e67fc4adcc3b264b4ad8a9dbf,Fix required extensions for the subnet's service type API tests,MERGED,2021-06-23 07:38:59.000000000,2021-06-25 09:06:35.000000000,2021-06-25 09:06:35.000000000,9,1,0,797594,a5cdede38739b52340d204ebe57c63638a19dcca,11,3,2,9,11975,Slawek Kaplonski,slaweq,"Fix required extensions for the subnet's service type API tests

In [1] new tests for subnet service types were added but by mistake
'service-types' was set as API extension required for those tests.
In fact this API feature in the subnet is provided by the
'subnet-service-types' extension and this should be required for that
tests.

This patch also adds ""subnet-service-types"" extension to the Tempest
conf in jobs for all branches up to stable/queens becuase this API
extension was available in Neutron since queens for sure so it's safe to
add it there.

[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/787718

Related-Bug: #1933115
Change-Id: I2b9b472a07455f5e67fc4adcc3b264b4ad8a9dbf
"
openstack%2Fironic~master~If58ad24b52ea6dc6f4f71072b6a744ad2b31a88a,openstack/ironic,master,deploy-set-state,If58ad24b52ea6dc6f4f71072b6a744ad2b31a88a,[WIP] Consistently handle errors in the deploy process,ABANDONED,2020-05-13 11:17:19.000000000,2021-06-25 08:50:56.000000000,,24,15,0,727714,f4e928baa8a192e9aaf7452e32e7905bf40be4fa,5,3,1,4,10239,Dmitry Tantsur,dtantsur,"[WIP] Consistently handle errors in the deploy process

Currently in some places we call set_failed_state, in some
deploying_error_handler. The former calls the latter, but also adds
deploy logs collection and disables clean up. It seems that the
naked deploying_error_handler should only be called early in the
deployment process, so change the deploy steps handling to use
set_failed_state.

Change-Id: If58ad24b52ea6dc6f4f71072b6a744ad2b31a88a
"
openstack%2Fsushy~stable%2Fqueens~Id8c5533d884eaf23b802122f7550791c5012d830,openstack/sushy,stable/queens,,Id8c5533d884eaf23b802122f7550791c5012d830,Do not log passwords and auth tokens when using SessionService,ABANDONED,2020-08-26 09:51:05.000000000,2021-06-25 08:50:18.000000000,,30,6,0,748150,2ca4bb10d9bfa21fed0b32c0fdd0e1934340da10,31,6,1,4,10239,Dmitry Tantsur,dtantsur,"Do not log passwords and auth tokens when using SessionService

Conflicts:
	sushy/connector.py
	sushy/tests/unit/test_utils.py
	sushy/utils.py

Change-Id: Id8c5533d884eaf23b802122f7550791c5012d830
(cherry picked from commit 5ffe8ee3b5ae569e5a2241cac5f25fae1bddad3e)
"
openstack%2Fswift~master~I3ab30b3a18952e16dec0c47b8fddacff3c5880f9,openstack/swift,master,json-hashes,I3ab30b3a18952e16dec0c47b8fddacff3c5880f9,Be willing to send hashes as JSON,NEW,2020-10-17 05:03:50.000000000,2021-06-25 08:42:28.000000000,,316,95,3,758638,d1a91fc88062c9de3fbdf9098f06ae2302291ff3,37,6,9,6,15343,Tim Burke,tburke,"Be willing to send hashes as JSON

I could say something about how pickle is dangerous if you've got a
compromised server sending malicious responses, but really, I just want
a way to read the response more easily via curl.

Update both replicator and reconstructor to prefer JSON responses.
At some point in the future we may want to add an option in the
object-server to only respond with JSON, and eventually get rid of
pickle support entirely.

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Co-Authored-By: Matthew Oliver <matt@oliver.net.au>
Change-Id: I3ab30b3a18952e16dec0c47b8fddacff3c5880f9
"
openstack%2Ftripleo-validations~master~Iac715fb9bb2208ca903f2839f1e583b7997e79e3,openstack/tripleo-validations,master,healthcheck,Iac715fb9bb2208ca903f2839f1e583b7997e79e3,Updated container healthcheck validation to use podman native check,ABANDONED,2020-04-21 12:01:09.000000000,2021-06-25 08:32:24.000000000,,52,21,10,721588,f30289735ec12a1e814394dd66a26bd7c1af50d1,29,6,9,2,28223,Cedric Jeanneret,cjeanner,"Updated container healthcheck validation to use podman native check

Unfortunately, due to https://github.com/containers/libpod/issues/5915,
we have to actually RUN the healthcheck in order to get the actual
status.

This means the test is a bit slower than needed. It also makes the
molecule testing a bit harder since it's running within a container...

Change-Id: Iac715fb9bb2208ca903f2839f1e583b7997e79e3
"
openstack%2Fvalidations-common~master~Ice148cd958b34f84cf114e70dae034ba7a33538e,openstack/validations-common,master,752446,Ice148cd958b34f84cf114e70dae034ba7a33538e,Make mock import python 2.7 compatible,ABANDONED,2020-09-17 12:18:37.000000000,2021-06-25 08:31:50.000000000,,4,5,1,752446,802db66b31a6097951858d954d667039d1bceb24,19,8,7,6,28223,Cedric Jeanneret,cjeanner,"Make mock import python 2.7 compatible

This project is now branchless, meaning we must support train
on centos-7, with python-2.7.

This reverts commit 208a585bb624f43194b80f3c88e059f5213c58e1.

Change-Id: Ice148cd958b34f84cf114e70dae034ba7a33538e
"
openstack%2Fos-vif~master~Ifb64cc71a0cffec179302e8a93ebe2f2091eed5b,openstack/os-vif,master,DPDK-FW,Ifb64cc71a0cffec179302e8a93ebe2f2091eed5b,Add support for vDPA port,ABANDONED,2019-09-22 13:49:24.000000000,2021-06-25 08:14:14.000000000,,108,14,0,683819,a9f01bed88d3466a13d41d6c11427f64ae2c5887,10,7,2,4,22948,Hamdy Khader,hamdyk,"Add support for vDPA port

Allow “VIFVHostUser” VIFs with “DatapathOffloadRepresentor” object
assigned to “datapath_offload” attribute in VIF’s “port_profile”
to be plugged as vDPA port[1].

[1] https://mail.openvswitch.org/pipermail/ovs-dev/2019-September/362722.html

Change-Id: Ifb64cc71a0cffec179302e8a93ebe2f2091eed5b
"
openstack%2Fcharm-hacluster~master~I9727e7b5babcfed1444f6d4821498fbc16e69297,openstack/charm-hacluster,master,bug/1931588,I9727e7b5babcfed1444f6d4821498fbc16e69297,"Retry on ""Transport endpoint is not connected""",MERGED,2021-06-23 20:14:41.000000000,2021-06-25 07:45:16.000000000,2021-06-25 07:45:16.000000000,7,0,0,797744,3b872ff4d28a42dc6dd0fbb1a2725444ff8d07cb,10,4,2,1,20805,David Ames,thedac,"Retry on ""Transport endpoint is not connected""

The crm node delete already handles some expected failure modes. Add
""Transport endpoint is not connected"" so that it retries the node
delete.

Change-Id: I9727e7b5babcfed1444f6d4821498fbc16e69297
Closes-Bug: #1931588
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
"
openstack%2Fkuryr-kubernetes~master~Ie279c998be5ad6ab31790f2dd9fc111dc3f8ca85,openstack/kuryr-kubernetes,master,formatting,Ie279c998be5ad6ab31790f2dd9fc111dc3f8ca85,Minor formatting corrections.,MERGED,2021-06-24 10:17:32.000000000,2021-06-25 07:09:15.000000000,2021-06-25 07:07:53.000000000,48,39,0,797869,b418608f9a23f0e92a7172b418bc514fa5799a4d,8,3,1,1,13692,Roman Dobosz,gryf,"Minor formatting corrections.

Change-Id: Ie279c998be5ad6ab31790f2dd9fc111dc3f8ca85
"
openstack%2Fneutron~master~Iba04ac4c82b3b56ccdb0f20102fe4ea5ca822bff,openstack/neutron,master,,Iba04ac4c82b3b56ccdb0f20102fe4ea5ca822bff,Update version of doc8,MERGED,2021-01-08 07:55:01.000000000,2021-06-25 07:04:18.000000000,2021-06-25 07:02:21.000000000,1,1,0,769878,3347e11572277238def83fc0ff2cae0e5da0336b,51,3,1,1,32238,wdd,wangzihao,"Update version of doc8

The doc8 lib supports Py36 starting from version 0.8.1

Change-Id: Iba04ac4c82b3b56ccdb0f20102fe4ea5ca822bff
"
openstack%2Fcharm-hacluster~master~I961b6b32e7ed23f967b047dd0ecb45b0c0dff49a,openstack/charm-hacluster,master,bug/1850829,I961b6b32e7ed23f967b047dd0ecb45b0c0dff49a,Add option for no-quorum-policy,MERGED,2021-03-10 03:18:26.000000000,2021-06-25 07:03:59.000000000,2021-06-25 07:03:59.000000000,38,1,8,779648,d17fdd276ef1c6614bfc43491e4cb9e1ee5ce612,32,3,7,4,10086,Xav Paice,xavpaice,"Add option for no-quorum-policy

Adds a config item for what to do when the cluster does not have quorum.
This is useful with stateless services where, e.g., we only need a VIP
and that can be up on a single host with no problem.

Though this would be a good relation data setting, many sites would
prefer to stop the resources rather than have a VIP on multiple hosts,
causing arp issues with the switch.

Closes-bug: #1850829
Change-Id: I961b6b32e7ed23f967b047dd0ecb45b0c0dff49a
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I0e3d5748a50937880a55413b75fe6eca479c9160,openstack/tripleo-heat-templates,stable/wallaby,config-next-stable/wallaby,I0e3d5748a50937880a55413b75fe6eca479c9160,Use kolla_config for other actions,MERGED,2021-06-16 19:00:44.000000000,2021-06-25 06:36:14.000000000,2021-06-25 06:36:14.000000000,281,159,0,796723,fd0a1aca104dd22f5cb7398ea597d77e68144d63,14,3,1,22,14985,Alex Schultz,mwhahaha,"Use kolla_config for other actions

Today for some services we mount in /var/lib/config-data/<service>/etc
which is actually an output from the container-puppet process. We should
be using kolla to ensure that we properly create the configurations
based on the puppet generated configurations and things in the
container.  Some services correctly leverage the kolla_config that the
associated api/service uses when running their db sync. This patch
aligns the rest to follow the similar pattern.

Change-Id: I0e3d5748a50937880a55413b75fe6eca479c9160
(cherry picked from commit 8e052715c87dde7fba62824d25b847d52c97dc5e)
"
openstack%2Ftripleo-ci~master~I4851f6e498b879fe640d1397b638b7fd315d07ac,openstack/tripleo-ci,master,I4851f6e498b879fe640d1397b638b7fd315d07ac,I4851f6e498b879fe640d1397b638b7fd315d07ac,Imports close_bugs.py utility to move stale bugs to Incomplete,MERGED,2021-02-17 16:46:27.000000000,2021-06-25 06:35:57.000000000,2021-06-25 06:35:57.000000000,95,0,2,776232,7594837480843b153ed105759c8bcff4f8d15b2d,12,4,2,1,8449,Marios Andreou,marios,"Imports close_bugs.py utility to move stale bugs to Incomplete

We already have the move_bugs utility this adds close_bugs.py
This imports the close_bugs.py from [1] with removal of the
commented #pdb.set_trace()

[1] https://gitlab.cee.redhat.com/whayutin/launchpad_bugs/-/blob/master/launchpad_close_old_bugs.py

Change-Id: I4851f6e498b879fe640d1397b638b7fd315d07ac
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I7e22dbe287bf9c93438717c08a3ceb1998445b93,openstack/tripleo-heat-templates,stable/victoria,,I7e22dbe287bf9c93438717c08a3ceb1998445b93,Do not run Swift rsync container in single replica mode,MERGED,2021-06-24 11:03:53.000000000,2021-06-25 06:35:50.000000000,2021-06-25 06:35:50.000000000,21,21,0,797771,52f26b6fb98488c5933ac685b3af6730d7a1e3d7,7,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"Do not run Swift rsync container in single replica mode

When Swift is running in single replica mode, rsync is pretty much
useless - there is no counterpart to transfer data.

On the undercloud this also prevents misleading error messages if
xinetd is running and already using port 873.

Change-Id: I7e22dbe287bf9c93438717c08a3ceb1998445b93
(cherry picked from commit 91f06efb3a899176a376861cac3e0456e185f351)
"
openstack%2Fopenstack-virtual-baremetal~stable%2F1.0~Ic2cab2e7b7d2567af66fa002a4072be6c0806097,openstack/openstack-virtual-baremetal,stable/1.0,private_nw_support,Ic2cab2e7b7d2567af66fa002a4072be6c0806097,[DNM] Add id as suffix when private-net is created,ABANDONED,2019-11-08 05:55:37.000000000,2021-06-25 05:54:14.000000000,,5,1,1,693480,381170013143b2114ff3da6fab3f48bfd1bde761,34,3,9,2,13861,yatin,yatinkarel,"[DNM] Add id as suffix when private-net is created

Change-Id: Ic2cab2e7b7d2567af66fa002a4072be6c0806097
"
openstack%2Fopenstack-ansible~master~I66d17855d33dd04f0925e038aa91347c46bb3e63,openstack/openstack-ansible,master,,I66d17855d33dd04f0925e038aa91347c46bb3e63,Set buster jobs to non-voting,MERGED,2021-06-24 08:48:47.000000000,2021-06-25 05:47:34.000000000,2021-06-24 23:49:07.000000000,5,4,0,797819,55ac8d3d008e14360049d989c7044512afc45fdf,11,2,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Set buster jobs to non-voting

Due to kernel bug [1] that was brought in with Debian 10.10, that makes
impossible to attach unprivileged container,
we mark Debian jobs as non-voting, since kernel patch has already landed
and we wait for new kernel to be packaged and nodepool images update

[1] https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=990072

Change-Id: I66d17855d33dd04f0925e038aa91347c46bb3e63
"
openstack%2Fopenstack-virtual-baremetal~stable%2F1.0~I657bf3e207bc6f12fde17360344abb13cab97aa2,openstack/openstack-virtual-baremetal,stable/1.0,,I657bf3e207bc6f12fde17360344abb13cab97aa2,[DNM] Test bmc override,ABANDONED,2021-03-23 04:45:41.000000000,2021-06-25 05:39:03.000000000,,21,1,0,782358,0c65db137d298acbe9d3e3a98946d2b1501a25ad,7,2,2,1,13861,yatin,yatinkarel,"[DNM] Test bmc override

Change-Id: I657bf3e207bc6f12fde17360344abb13cab97aa2
"
openstack%2Ftripleo-heat-templates~master~I168fbabc971939b3f3604c8b8c7d8898c606d6c7,openstack/tripleo-heat-templates,master,,I168fbabc971939b3f3604c8b8c7d8898c606d6c7,Run cloud-init wait task only when service is not inactive,ABANDONED,2021-01-29 08:19:15.000000000,2021-06-25 05:37:57.000000000,,3,2,0,772979,f93cf385c690ab591046e3db47d2d8422f7b8ea0,19,5,1,1,13861,yatin,yatinkarel,"Run cloud-init wait task only when service is not inactive

[1] Added cloud-init wait task to run when cloud-init service
is in 'enabled' state.

But since cloud-init depends on NetworkManager-wait-online.service,
if that fails cloud-init will never start on boot leading
to cloud-init wait task to fail, let's run that task only
when cloud-init service is not in 'inactive' state.

NetworkManager-wait-online.service can fail to start on
slow nodes where NetworkManager takes more than 60 seconds
to fully start.

[1] https://review.opendev.org/764943

Closes-Bug: #1913675
Change-Id: I168fbabc971939b3f3604c8b8c7d8898c606d6c7
"
openstack%2Ftripleo-upgrade~master~I4c0c5ef19011067ad98a0fd785c96a0a1d27d328,openstack/tripleo-upgrade,master,exclude_pre-commit-config,I4c0c5ef19011067ad98a0fd785c96a0a1d27d328,Do not run job on .pre-commit-config.yaml changes,MERGED,2021-06-24 16:12:24.000000000,2021-06-25 05:26:16.000000000,2021-06-25 05:26:16.000000000,1,0,0,797969,da2dd1e548e3236940309ea400a528602f12800b,8,6,1,1,11090,Sergii Golovatiuk,holser,"Do not run job on .pre-commit-config.yaml changes

When .pre-commit-config.yaml is changed it will affect on the way how we
test our changes. There is no need to spin up environment on its change

Change-Id: I4c0c5ef19011067ad98a0fd785c96a0a1d27d328
"
openstack%2Ftripleo-upgrade~master~Ibe63195d2c7259255af0026986e4dad1e1e6f26a,openstack/tripleo-upgrade,master,,Ibe63195d2c7259255af0026986e4dad1e1e6f26a,Remove xinetd when leapp upgrading the Undercloud.,MERGED,2021-06-17 11:09:47.000000000,2021-06-25 05:26:13.000000000,2021-06-25 05:26:13.000000000,1,0,0,796821,dd671ed34e3e37ec78a60a14419f029fc556a548,13,2,2,1,26343,Jose Luis Franco,jfrancoa,"Remove xinetd when leapp upgrading the Undercloud.

xinetd was left aside from the list of packages to remove before
upgrading the Undercloud and this caused issues with swift_rsync.

Change-Id: Ibe63195d2c7259255af0026986e4dad1e1e6f26a
"
openstack%2Ftripleo-quickstart~master~I2b0f1e8a0f642409d4e24cda1e8df2967564ca4a,openstack/tripleo-quickstart,master,dnmovs,I2b0f1e8a0f642409d4e24cda1e8df2967564ca4a,[DNM] Test ovs2.15 with upgrades,ABANDONED,2021-06-15 11:04:39.000000000,2021-06-25 05:26:11.000000000,,7,28,0,796424,72bd82536cd6dda176c98d7c97057a5fe6ac4581,3,1,1,2,13861,yatin,yatinkarel,"[DNM] Test ovs2.15 with upgrades

Change-Id: I2b0f1e8a0f642409d4e24cda1e8df2967564ca4a
"
openstack%2Ftripleo-ansible~master~Idcfd47dcfe6d635da4cc6bb6f18cbaa2a3bc4a6e,openstack/tripleo-ansible,master,network-data-v2,Idcfd47dcfe6d635da4cc6bb6f18cbaa2a3bc4a6e,Delete network VIPs on stack delete,MERGED,2021-06-07 10:42:30.000000000,2021-06-25 04:33:49.000000000,2021-06-25 04:32:18.000000000,98,10,0,795084,260cdbf00c779479e382b1041ec5f03d8af1cf1f,14,4,2,4,24245,Harald Jensås,harald.jensas,"Delete network VIPs on stack delete

Update the tripleo_overcloud_network_vip_provision
module to remove obsolete network vip ports for a
stack by keeping a list of managed vip ports in
'managed_ports', then run a cleanup to delete any
port with the apropriate tags that are not in the
'managed_ports' list to keep the provisioned resources
state matching the VIPs defined in the vip_data.

On stack delete, call the module without specifying any
vip_data, so that the remove_obsolete_ports method will
delete any network VIP port resources associated with
the stack.

Also add cli-overcloud-network-vip-unprovision.yaml.

Related-Blueprint: blueprint network-data-v2-ports
Change-Id: Idcfd47dcfe6d635da4cc6bb6f18cbaa2a3bc4a6e
"
openstack%2Ftripleo-heat-templates~master~I3ceacb5e26a6878049fc13b24b541ebdc763c16a,openstack/tripleo-heat-templates,master,haproxy-invalid-params,I3ceacb5e26a6878049fc13b24b541ebdc763c16a,Drop usage of removed tripleo::haproxy parameters,MERGED,2021-06-04 14:11:50.000000000,2021-06-25 04:32:40.000000000,2021-06-25 04:32:40.000000000,0,3,0,794834,7d0320ad99ff8d3a2def127ee735dbeb63abbfbf,10,4,3,1,9816,Takashi Kajinami,kajinamit,"Drop usage of removed tripleo::haproxy parameters

ec2api and panko are no longer supported by TripleO.
This change drops remaining usage of the removed tripleo::haproxy
parameters for these two services.

Change-Id: I3ceacb5e26a6878049fc13b24b541ebdc763c16a
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I7e22dbe287bf9c93438717c08a3ceb1998445b93,openstack/tripleo-heat-templates,stable/ussuri,,I7e22dbe287bf9c93438717c08a3ceb1998445b93,Do not run Swift rsync container in single replica mode,MERGED,2021-06-24 11:04:15.000000000,2021-06-25 04:32:35.000000000,2021-06-25 04:32:35.000000000,21,21,0,797772,78546082510f23fbc55679e570f31e4bf1ebe8ad,7,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"Do not run Swift rsync container in single replica mode

When Swift is running in single replica mode, rsync is pretty much
useless - there is no counterpart to transfer data.

On the undercloud this also prevents misleading error messages if
xinetd is running and already using port 873.

Change-Id: I7e22dbe287bf9c93438717c08a3ceb1998445b93
(cherry picked from commit 91f06efb3a899176a376861cac3e0456e185f351)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ie0e3f25976464121e27f73765ccd271557d60e96,openstack/tripleo-ansible,stable/train,BnR_validations-stable/wallaby-stable/victoria-stable/victoria-stable/ussuri-stable/train,Ie0e3f25976464121e27f73765ccd271557d60e96,BnR Added a nfs validation when the nfs server is installed,MERGED,2021-06-15 14:47:10.000000000,2021-06-25 04:32:15.000000000,2021-06-25 04:32:15.000000000,12,1,1,796446,d664889b5ed4c4b01acdb383a626c32186db3841,11,3,2,1,22954,Juan Badia Payno,jbadiapa,"BnR Added a nfs validation when the nfs server is installed

Added a simple validation, the Backupnode group needs to be configured. Besides the name
of the group can be configured by parameter.

Change-Id: Ie0e3f25976464121e27f73765ccd271557d60e96
(cherry picked from commit 994d331095337d9b9c95e8c8b15bb5798c0bc00c)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I445418bb52fa38604c797a9dc69492edb0a41a8c,openstack/tripleo-ansible,stable/wallaby,designate-wallaby,I445418bb52fa38604c797a9dc69492edb0a41a8c,Add support for collocating Unbound and bind on the same host,MERGED,2021-06-21 18:43:29.000000000,2021-06-25 04:32:12.000000000,2021-06-25 04:32:12.000000000,90,4,0,797342,862f876dcd8d374df3f4731f4b28c5a2c09d2f05,7,3,1,5,6681,Brent Eagles,beagles,"Add support for collocating Unbound and bind on the same host

In designate deployments, bind and unbound might be collocated and need
to be bound to the same port on the same network. This patch supports
adding a unique IP so that the two services can do that.

Conflicts:
	tripleo_ansible/roles/tripleo_unbound/tasks/main.yml

Change-Id: I445418bb52fa38604c797a9dc69492edb0a41a8c
(cherry picked from commit e8db40f753ed954ba09ed8bf817e282dd57b4caf)
"
openstack%2Fneutron~master~I2c8392628dd63ca612c6d8428daab66724e88c20,openstack/neutron,master,bug/1932483,I2c8392628dd63ca612c6d8428daab66724e88c20,Remove tox_install_siblings=False from the functional job's definition,MERGED,2021-06-23 11:12:38.000000000,2021-06-25 03:32:46.000000000,2021-06-25 03:29:25.000000000,0,1,0,797622,dbfa1b5d9298dc146ff5eb6e560fea42600cf64f,32,4,1,1,11975,Slawek Kaplonski,slaweq,"Remove tox_install_siblings=False from the functional job's definition

It is set to true by default in base jobs. Also e.g. in
functional job for neutron-dynamic-routing it is set to True so
it should be fine to use default value in the neutron-functional job as
well.

Related-bug: #1932483
Change-Id: I2c8392628dd63ca612c6d8428daab66724e88c20
"
openstack%2Fnova~stable%2Ftrain~I3b597a46314a1b29a952fc0f7a9c4537341e37b8,openstack/nova,stable/train,bug/1904446,I3b597a46314a1b29a952fc0f7a9c4537341e37b8,Add missing exception,MERGED,2020-11-19 15:21:36.000000000,2021-06-25 03:32:40.000000000,2021-06-25 03:30:38.000000000,10,1,0,763393,eaecd1ceb0243b31cde9b3c909e8fb3fbef7e635,15,6,1,2,15334,Stephen Finucane,sfinucan,"Add missing exception

Change Idd49b0c70caedfcd42420ffa2ac926a6087d406e added support for
discovery of PMEM devices by the libvirt driver. Some error handling
code in this was expected to raise a 'GetPMEMNamespacesFailed'
exception, however, a typo meant the exception was actually called
'GetPMEMNamespaceFailed' (singular). This exception was later removed in
change I6fd027fb51823b8a8a24ed7b864a2191c4e8e8c0 because it had no
references.

Re-introduce the exception, this time with the correct name, and add
some unit tests to prevent us regressing.

Conflicts:
	nova/exception.py

NOTE(stephenfin): Conflicts are because change
I6fd027fb51823b8a8a24ed7b864a2191c4e8e8c0 doesn't exist on this branch,
meaning the misnamed exception still exists and simply needs to be
renamed.

Change-Id: I3b597a46314a1b29a952fc0f7a9c4537341e37b8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1904446
(cherry picked from commit 160ed6ff652b80cd0a86d41dc3f66c15cee66290)
(cherry picked from commit 82d415d200e39a5c11fe134e9ef62e427988f2ba)
(cherry picked from commit 8f65de96a07623c6a8a9cd49db942ad6d4d3ab03)
"
openstack%2Fneutron~stable%2Fussuri~If6ef990baf039c556d7420962ac4c54608711f06,openstack/neutron,stable/ussuri,bug/1891360-stable/wallaby-stable/victoria-stable/ussuri,If6ef990baf039c556d7420962ac4c54608711f06,Remove FIP agent's gw port when L3 agent is deleted,MERGED,2021-06-24 06:54:15.000000000,2021-06-25 03:32:35.000000000,2021-06-25 03:29:53.000000000,185,0,0,797759,96259e96c76475f11ec91d41749d1aca56598427,12,3,1,4,11975,Slawek Kaplonski,slaweq,"Remove FIP agent's gw port when L3 agent is deleted

Floating IP agent gateway ports are created for each external network
for each node where DVR L3 agent is running and where there is some FIP
from the ext_net.
But even, if L3 agent is removed (e.g. when scaling down the cluster),
such floating IP gateway port is never removed so it consumes IP address
from the external network.

With this patch when the DVR L3 agent is deleted, all such fip gateway
ports owned by that agent will be deleted.
When new L3 agent is created (registered in the DB), Neutron will check
if there are any floating IPs on that host and will recreate such FIP
gateway ports for it.

Closes-Bug: #1891360
Change-Id: If6ef990baf039c556d7420962ac4c54608711f06
(cherry picked from commit 8cc7c0cf7a5196103b097fae67eccbd5dc3980ac)
"
openstack%2Ftempest~master~I9771ed73f3ff0da2025edb3fd3a84a9bfaab7eeb,openstack/tempest,master,,I9771ed73f3ff0da2025edb3fd3a84a9bfaab7eeb,Remove skip for test_fix_argument_yes unit test,MERGED,2021-06-22 11:53:51.000000000,2021-06-25 03:32:32.000000000,2021-06-25 03:30:11.000000000,0,2,0,797436,e638ce8b5216b0e336ef1fe998a991ed7c4c5bb1,9,2,2,1,22873,Martin Kopec,mkopec,"Remove skip for test_fix_argument_yes unit test

The test is not failing anymore, so removing the skip
decorator.

Closes-Bug: 1918316
Change-Id: I9771ed73f3ff0da2025edb3fd3a84a9bfaab7eeb
"
openstack%2Frequirements~master~I3468337f853707928a989bd1c12ec2a4afe4dccb,openstack/requirements,master,eventlet-0.31.0,I3468337f853707928a989bd1c12ec2a4afe4dccb,update eventlet to 0.31.0,MERGED,2021-05-25 17:57:15.000000000,2021-06-25 03:32:28.000000000,2021-06-25 03:29:37.000000000,1,1,1,793021,51b961fa37507a5783b0b3ed5055678998e7e127,11,2,2,1,14288,Matthew Thode,prometheanfire,"update eventlet to 0.31.0

Change-Id: I3468337f853707928a989bd1c12ec2a4afe4dccb
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Frequirements~stable%2Fwallaby~I208b00629493953a502f8b95756820ae0d9a9cb6,openstack/requirements,stable/wallaby,add_ruamel_yaml,I208b00629493953a502f8b95756820ae0d9a9cb6,Add ruamel.yaml to global-requirements.txt,MERGED,2021-06-18 10:20:02.000000000,2021-06-25 03:29:45.000000000,2021-06-25 03:29:45.000000000,2,0,0,797048,148563d374d3cad33c286f28a10e4ba330d154b5,10,8,1,2,11491,Gael Chamoulaud,gchamoul,"Add ruamel.yaml to global-requirements.txt

This Python library is now a requirement for building
documentation (ansible-autodoc) for the following project:
- openstack/tripleo-validations
- openstack/validations-common

ruamel.yaml is a YAML 1.2 loader/dumper package for Python.

The library is actively maintained, with almost a weekly release. It is
compatible with Python 2 and 3 and licensed under the MIT.

https://pypi.org/project/ruamel.yaml/

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I208b00629493953a502f8b95756820ae0d9a9cb6
(cherry picked from commit 5930f2fbd44667943b9ea20fcaf995f25dde4954)
"
openstack%2Fskyline-console~master~I29cd91f47069c9e64928800094282d4cbc977920,openstack/skyline-console,master,,I29cd91f47069c9e64928800094282d4cbc977920,docs: Add Chinese documents,MERGED,2021-06-25 01:52:48.000000000,2021-06-25 03:12:47.000000000,2021-06-25 03:12:47.000000000,6819,1,0,798031,781d751722ccdfc212630950076abd166cad9df6,10,4,2,164,30434,Jingwei.Zhang,jwzhang,"docs: Add Chinese documents

1. Add Chinese development documents
2. Add Chinese test document

Change-Id: I29cd91f47069c9e64928800094282d4cbc977920
"
openstack%2Fneutron~stable%2Fvictoria~If6ef990baf039c556d7420962ac4c54608711f06,openstack/neutron,stable/victoria,bug/1891360-stable/wallaby-stable/victoria,If6ef990baf039c556d7420962ac4c54608711f06,Remove FIP agent's gw port when L3 agent is deleted,MERGED,2021-06-24 06:53:10.000000000,2021-06-25 03:01:11.000000000,2021-06-25 02:59:46.000000000,185,0,0,797758,dcf050951d71a3c2f3e3d997c6b171fa4483bc20,12,3,1,4,11975,Slawek Kaplonski,slaweq,"Remove FIP agent's gw port when L3 agent is deleted

Floating IP agent gateway ports are created for each external network
for each node where DVR L3 agent is running and where there is some FIP
from the ext_net.
But even, if L3 agent is removed (e.g. when scaling down the cluster),
such floating IP gateway port is never removed so it consumes IP address
from the external network.

With this patch when the DVR L3 agent is deleted, all such fip gateway
ports owned by that agent will be deleted.
When new L3 agent is created (registered in the DB), Neutron will check
if there are any floating IPs on that host and will recreate such FIP
gateway ports for it.

Closes-Bug: #1891360
Change-Id: If6ef990baf039c556d7420962ac4c54608711f06
(cherry picked from commit 8cc7c0cf7a5196103b097fae67eccbd5dc3980ac)
"
openstack%2Fneutron~stable%2Ftrain~I22f3bf543948dcadaf7276762b14198028f40bc6,openstack/neutron,stable/train,bug/1861221,I22f3bf543948dcadaf7276762b14198028f40bc6,"Revert ""Increase log information when a RootHelperProcess fails""",MERGED,2021-06-23 16:32:38.000000000,2021-06-25 03:00:57.000000000,2021-06-25 02:59:38.000000000,5,19,0,797703,05d9250254c2b0a22cd7f1e235b4fb37e2ebf75f,19,5,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Revert ""Increase log information when a RootHelperProcess fails""

This reverts commit b1811dc1bb59661cc18c83812035dca69453f1da.

This backported patch introduced two incompatible calls in python2.7:
- subprocess.communicate does not have timeout as input parameter
- subprocess does not implement TimeoutExpired

Reason for revert: #1933366

Change-Id: I22f3bf543948dcadaf7276762b14198028f40bc6
"
openstack%2Fnova~stable%2Fvictoria~I2bd360dcc6501feea7baf02d4510b282205fc061,openstack/nova,stable/victoria,bug/1882094,I2bd360dcc6501feea7baf02d4510b282205fc061,Initialize global data separately and run_once in WSGI app init,MERGED,2021-04-06 22:13:39.000000000,2021-06-25 02:43:01.000000000,2021-06-25 02:40:07.000000000,256,2,0,785059,e3085fa6310ddeaafa493c3f718aab0ce64f0994,30,4,3,5,4690,melanie witt,melwitt,"Initialize global data separately and run_once in WSGI app init

NOTE(melwitt): This is a combination of two changes to avoid
intermittent test failure that was introduced by the original bug fix,
and was fixed by change I2bd360dcc6501feea7baf02d4510b282205fc061.

We have discovered that if an exception is raised at any point during
the running of the init_application WSGI script in an apache/mod_wsgi
Daemon Mode environment, it will prompt apache/mod_wsgi to re-run the
script without starting a fresh python process. Because we initialize
global data structures during app init, subsequent runs of the script
blow up as some global data do *not* support re-initialization. It is
anyway not safe to assume that init of global data is safe to run
multiple times.

This mod_wsgi behavior appears to be a special situation that does not
behave the same as a normal reload in Daemon Mode as the script file is
being reloaded upon failure instead of the daemon process being
shutdown and restarted as described in the documentation [1].

In order to handle this situation, we can move the initialization of
global data structures to a helper method that is decorated to run only
once per python interpreter instance. This way, we will not attempt to
re-initialize global data that are not safe to init more than once.

Co-Authored-By: Michele Baldessari <michele@redhat.com>
Co-Authored-By: melanie witt <melwittt@gmail.com>

Conflicts:
    nova/api/openstack/wsgi_app.py

NOTE(melwitt): The conflict is because change
If4783adda92da33d512d7c2834f0bb2e2a9b9654 (Support sys.argv in wsgi
app) is not in Victoria.

Closes-Bug: #1882094

[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode

Reset global wsgi app state in unit test

Since I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state
set during the wsgi_app init making our unit test cases
non-deterministic based on the order of them. This patch makes sure
that the global state is reset for each test case.

Closes-Bug: #1921098
(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)

Change-Id: I2bd360dcc6501feea7baf02d4510b282205fc061
(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)
"
openstack%2Fneutron~stable%2Ftrain~If6ef990baf039c556d7420962ac4c54608711f06,openstack/neutron,stable/train,bug/1891360-stable/wallaby-stable/victoria-stable/ussuri-stable/train,If6ef990baf039c556d7420962ac4c54608711f06,Remove FIP agent's gw port when L3 agent is deleted,MERGED,2021-06-24 06:54:42.000000000,2021-06-25 02:41:59.000000000,2021-06-25 02:39:27.000000000,185,0,0,797760,4bdfc711453e9b6af955be62a28ef9fcc46a5040,13,3,1,4,11975,Slawek Kaplonski,slaweq,"Remove FIP agent's gw port when L3 agent is deleted

Floating IP agent gateway ports are created for each external network
for each node where DVR L3 agent is running and where there is some FIP
from the ext_net.
But even, if L3 agent is removed (e.g. when scaling down the cluster),
such floating IP gateway port is never removed so it consumes IP address
from the external network.

With this patch when the DVR L3 agent is deleted, all such fip gateway
ports owned by that agent will be deleted.
When new L3 agent is created (registered in the DB), Neutron will check
if there are any floating IPs on that host and will recreate such FIP
gateway ports for it.

Closes-Bug: #1891360
Change-Id: If6ef990baf039c556d7420962ac4c54608711f06
(cherry picked from commit 8cc7c0cf7a5196103b097fae67eccbd5dc3980ac)
"
openstack%2Fswift~master~I25da3aa81018c5de7b63e5584ac6a9dbb73243db,openstack/swift,master,p-log-capture,I25da3aa81018c5de7b63e5584ac6a9dbb73243db,Capture logs when running custom daemons in probe tests,MERGED,2021-06-23 18:10:51.000000000,2021-06-25 02:41:52.000000000,2021-06-25 02:40:20.000000000,110,35,12,797735,40aace89f0070a06d1654edcfacadccb140c65b4,21,2,2,2,7847,Alistair Coles,acoles,"Capture logs when running custom daemons in probe tests

Previously a DebugLogger was used when probe tests ran 'custom
daemons', which provided a means to inspect captured logs but logged
to console. This patch replaces that DebugLogger with a 'normal' swift
logger that is adapted to also capture logs and support log
inspection.

Change-Id: I25da3aa81018c5de7b63e5584ac6a9dbb73243db
"
openstack%2Fnova~stable%2Fvictoria~Ic03a5336abdced883f62f395690c0feac12075c8,openstack/nova,stable/victoria,bug/1928007,Ic03a5336abdced883f62f395690c0feac12075c8,rbd: Get rbd_utils unit tests running again,MERGED,2021-06-03 18:04:42.000000000,2021-06-25 02:41:47.000000000,2021-06-25 02:39:50.000000000,1,1,0,794624,04057099991579bccfb2accb6b0952ba589fe092,11,3,1,2,4690,melanie witt,melwitt,"rbd: Get rbd_utils unit tests running again

Awhile back, change I25baf5edd25d9e551686b7ed317a63fd778be533 moved
rbd_utils out from the libvirt driver and into a central location under
nova/storage. This move missed adding a __init__.py file under
nova/tests/unit/storage, so unit test discovery wasn't picking up the
rbd_utils tests and couldn't run them.

This adds a __init__.py file under nova/tests/unit/storage to get the
tests running again.

This also fixes a small bug introduced by change
I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb in RbdTestCase.setUp() that
passed nonexistent self.images_rbd_pool to self.flags. It should be
self.rbd_pool.

Closes-Bug: #1928007

Change-Id: Ic03a5336abdced883f62f395690c0feac12075c8
(cherry picked from commit 8b647f1b3f56879be221b3925570790a1e0e77f8)
(cherry picked from commit 8f018d754d5c55e432cd51df99278382b527283e)
"
openstack%2Frequirements~master~Ib727242c1aba8597389259d8dbacba7194f9f0d6,openstack/requirements,master,fix/generate,Ib727242c1aba8597389259d8dbacba7194f9f0d6,Make tox -e generate easier to use,MERGED,2021-06-23 13:54:39.000000000,2021-06-25 02:41:37.000000000,2021-06-25 02:39:22.000000000,8,3,15,797654,ecf18825abca7660eb2478c7daa3f785bb5513b1,18,3,3,2,24162,Sorin Sbârnea,ssbarnea,"Make tox -e generate easier to use

- auto detect python paths (which)
- make it possible to call `tox -e generate` w/o extra args
- update list of pythons to include currently supported versions

Change-Id: Ib727242c1aba8597389259d8dbacba7194f9f0d6
"
openstack%2Fneutron~stable%2Fqueens~Ic08ca5b167db4884efa07112cf9a6c3637e1b827,openstack/neutron,stable/queens,bug/1923633-stable/wallaby-stable/victoria-stable/ussuri-stable/train-stable/stein-stable/rocky-stable/queens,Ic08ca5b167db4884efa07112cf9a6c3637e1b827,Force to close http connection after notify about HA router status,MERGED,2021-06-22 14:41:25.000000000,2021-06-25 02:39:42.000000000,2021-06-25 02:39:42.000000000,2,1,0,797473,cfc474cc1261f4dd96cccb3194fb0da3e1cae4dd,21,3,1,1,11975,Slawek Kaplonski,slaweq,"Force to close http connection after notify about HA router status

Neutron-keepalived-state-change-monitor process is using HTTP to notify
L3 agent that state of the HA router was changed. It is done through
unix socket.
With HTTP 1.1 connection isn't closed properly and if
router's state was changed more than once in short time, it could happen
that wsgi worker on the L3 agent's side didn't process second request at
all. That caused problem with transitioning router to master state after
creation.
Request to close connection should be explicitly defined in the header
[1] and this patch adds ""connection: close"" header to the headers send in
such request to do exactly that.

[1] https://www.geeksforgeeks.org/http-headers-connection/

Closes-Bug: #1923633
Change-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827
(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)
"
openstack%2Fcinder~stable%2Fussuri~I52b87d03c49db74002f09cfeea86bc0ac7ce8a42,openstack/cinder,stable/ussuri,,I52b87d03c49db74002f09cfeea86bc0ac7ce8a42,"Open local image files with ""rb"" mode",MERGED,2021-05-26 14:30:28.000000000,2021-06-25 02:33:22.000000000,2021-06-25 02:31:43.000000000,2,1,0,793169,f6d7b09195ce738576252736708a7f3417f761db,26,7,1,2,4523,Eric Harney,eharney,"Open local image files with ""rb"" mode

When using ""file"" in allowed_direct_url_schemes,
open image files w/ binary mode.

Closes-Bug: #1923313
Change-Id: I52b87d03c49db74002f09cfeea86bc0ac7ce8a42
(cherry picked from commit 5d7e7547f0119300ecb8f6cd171b04ead3210ecc)
(cherry picked from commit c16567bd8784761d24b73678377994903b8dc35b)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I398d24406bafdb34dd0cf793ade8e4085d8fd1b0,openstack/tripleo-ansible,stable/wallaby,designate-wallaby,I398d24406bafdb34dd0cf793ade8e4085d8fd1b0,Add tripleo_findif_for_ip ansible module,MERGED,2021-06-21 18:43:29.000000000,2021-06-25 02:02:26.000000000,2021-06-25 02:01:15.000000000,163,0,0,797341,6d0523b6ff89a5774ef2d72b9880c1cbde518b66,8,3,1,2,6681,Brent Eagles,beagles,"Add tripleo_findif_for_ip ansible module

This module finds an interface that has the provided IP assigned to it.

Change-Id: I398d24406bafdb34dd0cf793ade8e4085d8fd1b0
(cherry picked from commit 5e826a5852735c3fc911325b90f4ee520b781681)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I7e22dbe287bf9c93438717c08a3ceb1998445b93,openstack/tripleo-heat-templates,stable/wallaby,,I7e22dbe287bf9c93438717c08a3ceb1998445b93,Do not run Swift rsync container in single replica mode,MERGED,2021-06-24 11:03:33.000000000,2021-06-25 02:01:10.000000000,2021-06-25 02:01:10.000000000,21,21,0,797770,fdfd4e9926ab45f3fabdd177a88dd7dc4f778d2e,7,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"Do not run Swift rsync container in single replica mode

When Swift is running in single replica mode, rsync is pretty much
useless - there is no counterpart to transfer data.

On the undercloud this also prevents misleading error messages if
xinetd is running and already using port 873.

Change-Id: I7e22dbe287bf9c93438717c08a3ceb1998445b93
(cherry picked from commit 91f06efb3a899176a376861cac3e0456e185f351)
"
openstack%2Fopenstack-zuul-jobs~master~I9130014837d297fad6802c99da417dbb8f3a8b76,openstack/openstack-zuul-jobs,master,bulleye-arm64-wheel-build,I9130014837d297fad6802c99da417dbb8f3a8b76,wheel-build: reduce Bullseye build,MERGED,2021-06-24 07:03:54.000000000,2021-06-25 01:37:35.000000000,2021-06-25 01:35:50.000000000,11,2,8,797808,58873cad486701b63c405c98ce52440bce8e7768,15,2,3,2,7118,Ian Wienand,iwienand,"wheel-build: reduce Bullseye build

Likely due to many less Python 3.9 wheels the Bullseye builds take too
long.  Given this is a new distro, limiting the builds to the latest
releases is a practical solution here.

Add the bullseye jobs so they test in the gate.

Depends-On: https://review.opendev.org/c/openstack/project-config/+/798029
Change-Id: I9130014837d297fad6802c99da417dbb8f3a8b76
"
openstack%2Fkolla-ansible~master~I31c978be7f8687de1e41b168712aceed28c67a8a,openstack/kolla-ansible,master,container-health-check,I31c978be7f8687de1e41b168712aceed28c67a8a,Use Docker healthchecks for kafka services,MERGED,2021-03-08 10:46:51.000000000,2021-06-25 01:24:57.000000000,2021-06-25 01:23:34.000000000,23,0,0,779204,72df931b58e0ec1e9218ad86cf7dfff0a19d7c89,13,3,1,4,31506,Lin PeiWen,LinPeiWen,"Use Docker healthchecks for kafka services

This change enables the use of Docker healthchecks for kafka services.
Implements: blueprint container-health-check

Change-Id: I31c978be7f8687de1e41b168712aceed28c67a8a
"
openstack%2Fmanila~master~I861f4f0a3e98bcb86fa706c52c5111c9e4a8fd54,openstack/manila,master,powermax_version_change,I861f4f0a3e98bcb86fa706c52c5111c9e4a8fd54,PowerMax Manila - version change for Wallaby,MERGED,2021-04-08 13:58:28.000000000,2021-06-25 01:02:14.000000000,2021-06-24 21:13:55.000000000,2,1,0,785424,290de55a4bd53390eaa45f94d8aca0132d484d40,35,3,1,1,12670,Helen Walsh,walshh2,"PowerMax Manila - version change for Wallaby

Incrementing version for Wallaby.

Change-Id: I861f4f0a3e98bcb86fa706c52c5111c9e4a8fd54
"
openstack%2Ftripleo-ci~master~If72bc5420ca0fd02403a2487aedd79df28173a4d,openstack/tripleo-ci,master,test,If72bc5420ca0fd02403a2487aedd79df28173a4d,DNM Enable ANSIBLE_DEBUG=True for multinode debug,ABANDONED,2020-06-17 12:09:11.000000000,2021-06-25 01:01:33.000000000,,2,39,0,736174,38f30dac09e36ced85a56e43e91d44cc3c55548d,29,2,7,2,29775,Sandeep Yadav,sandeepyadav93,"DNM Enable ANSIBLE_DEBUG=True for multinode debug

Change-Id: If72bc5420ca0fd02403a2487aedd79df28173a4d
"
openstack%2Ftripleo-quickstart-extras~master~Ia77577355a75f2e54a5d0936b18bb2e9011f0806,openstack/tripleo-quickstart-extras,master,,Ia77577355a75f2e54a5d0936b18bb2e9011f0806,[dnm] Enable debug,ABANDONED,2021-02-16 13:50:29.000000000,2021-06-25 01:00:12.000000000,,1,54,0,775833,2a3549a59374dd68d2e4278358b435196931997e,7,3,2,2,29775,Sandeep Yadav,sandeepyadav93,"[dnm] Enable debug

To debug a failure in downstream.

Change-Id: Ia77577355a75f2e54a5d0936b18bb2e9011f0806
"
openstack%2Ftripleo-ci~master~I1101689f468b9ceca13491b3fefdfa8bce2e1185,openstack/tripleo-ci,master,,I1101689f468b9ceca13491b3fefdfa8bce2e1185,[dnm] test 790598,ABANDONED,2021-05-12 12:05:33.000000000,2021-06-25 00:59:56.000000000,,1,39,0,790956,c371a98703261c83c28935e09a657274de91f953,4,2,1,1,29775,Sandeep Yadav,sandeepyadav93,"[dnm] test 790598

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/790598
Change-Id: I1101689f468b9ceca13491b3fefdfa8bce2e1185
"
openstack%2Fopenstack-virtual-baremetal~master~Ic39ff2929eceddc8467a8ad9ea272a001c172ec4,openstack/openstack-virtual-baremetal,master,,Ic39ff2929eceddc8467a8ad9ea272a001c172ec4,[DNM] Test config-drive: true for BMC,ABANDONED,2021-05-25 06:01:22.000000000,2021-06-25 00:59:01.000000000,,1,1,0,792870,009b3b30c6bb75089256c428cf5b6931ccd66291,4,2,1,1,29775,Sandeep Yadav,sandeepyadav93,"[DNM] Test config-drive: true for BMC

config-drive defaults to false, We can overide this in config project under
ovb-manage role for bmc node. But as that is a trusted project we cannot
test without merge.

Changing default here for testing purpose.

Change-Id: Ic39ff2929eceddc8467a8ad9ea272a001c172ec4
"
openstack%2Fopenstack-virtual-baremetal~stable%2F2.0~I0c2951d3e285cf7a8b5667040fbd7bcc1ed2fd4e,openstack/openstack-virtual-baremetal,stable/2.0,,I0c2951d3e285cf7a8b5667040fbd7bcc1ed2fd4e,[DNM] Test only,ABANDONED,2021-05-31 15:10:01.000000000,2021-06-25 00:58:51.000000000,,4,3,0,793810,29f93c8362a7b2d00284fb49e54b3697d7bd2977,3,1,1,4,29775,Sandeep Yadav,sandeepyadav93,"[DNM] Test only

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793806
Change-Id: I0c2951d3e285cf7a8b5667040fbd7bcc1ed2fd4e
"
openstack%2Ftripleo-quickstart-extras~master~I19b756a92d403644aa18dcff2c3f016e8896d60a,openstack/tripleo-quickstart-extras,master,,I19b756a92d403644aa18dcff2c3f016e8896d60a,[DNM] Lock NetworkManager,ABANDONED,2021-06-04 02:28:56.000000000,2021-06-25 00:58:44.000000000,,4,58,0,794700,94b6cccba50893879c8fcbd7d353c356fb99a8ef,3,1,1,2,29775,Sandeep Yadav,sandeepyadav93,"[DNM] Lock NetworkManager

Change-Id: I19b756a92d403644aa18dcff2c3f016e8896d60a
"
openstack%2Fdiskimage-builder~master~I5ba6ab4149cb146782436b97987ba86ad1d9ba3c,openstack/diskimage-builder,master,,I5ba6ab4149cb146782436b97987ba86ad1d9ba3c,[DNM] Lock NetworkManager in DIB,ABANDONED,2021-06-04 04:01:02.000000000,2021-06-25 00:58:40.000000000,,4,60,0,794704,9779852958132e6f34b2c24c0088b4abd382c2ce,7,1,2,2,29775,Sandeep Yadav,sandeepyadav93,"[DNM] Lock NetworkManager in DIB

Trying locking NM to debug[1]
https://bugs.launchpad.net/tripleo/+bug/1929745

Change-Id: I5ba6ab4149cb146782436b97987ba86ad1d9ba3c
"
openstack%2Ftripleo-ci~master~Ief7feb1570618476c0f220e736a95d21affc45e1,openstack/tripleo-ci,master,,Ief7feb1570618476c0f220e736a95d21affc45e1,[DNM] Try new Centos-8 stream image,ABANDONED,2021-06-07 05:43:19.000000000,2021-06-25 00:58:10.000000000,,2,41,0,795024,72b4687c5fa4e4bf58d0ca6439fc74b7e8c9cbf0,3,1,1,2,29775,Sandeep Yadav,sandeepyadav93,"[DNM] Try new Centos-8 stream image

For testing as we now have new c8 stream image.

Change-Id: Ief7feb1570618476c0f220e736a95d21affc45e1
"
openstack%2Ftripleo-ansible~master~I3755fde69070d9c13f1f2049f91344aea52d991d,openstack/tripleo-ansible,master,bug/1931090,I3755fde69070d9c13f1f2049f91344aea52d991d,[DNM] Temporarily disable no_log for podmans info task,ABANDONED,2021-06-07 09:54:32.000000000,2021-06-25 00:54:50.000000000,,5,58,0,795077,68b67b740c10a23ec217cc349efa00539c71c12b,3,1,1,3,29775,Sandeep Yadav,sandeepyadav93,"[DNM] Temporarily disable no_log for podmans info task

In order to investigate the issue, let's disable no_log.

Related-Bug: #1931090
Change-Id: I3755fde69070d9c13f1f2049f91344aea52d991d
"
openstack%2Ftripleo-heat-templates~master~If7b3640191d84e5cf30cbbcb1cc94aa0f068d11c,openstack/tripleo-heat-templates,master,cinder-nfs-conversion-dir,If7b3640191d84e5cf30cbbcb1cc94aa0f068d11c,Support cinder image conversion on an NFS share,MERGED,2021-05-21 13:42:13.000000000,2021-06-25 00:51:28.000000000,2021-06-25 00:50:10.000000000,69,2,0,792631,2225f9666b157de773fc1dadf195034e24e2577b,23,6,1,3,21129,Alan Bishop,ASBishop,"Support cinder image conversion on an NFS share

New CinderImageConversionNfsShare and CinderImageConversionNfsOptions
parameters add support for mounting an external NFS share for cinder
to use when converting glance images to or from another format (e.g.
qcow2 versus raw).

This feature is useful in preventing the node's root disk from filling
up in situations where the available disk space is too small, which
can happen in deployments that utilize very large glance images.

Change-Id: If7b3640191d84e5cf30cbbcb1cc94aa0f068d11c
"
openstack%2Ftripleo-heat-templates~master~I1efecdcd7afa6af3e6b4b26f4435198836db535f,openstack/tripleo-heat-templates,master,network-data-v2,I1efecdcd7afa6af3e6b4b26f4435198836db535f,Add THT Jinja2 data sources as stack output,MERGED,2021-05-14 13:13:38.000000000,2021-06-25 00:49:48.000000000,2021-06-25 00:49:48.000000000,5,0,1,791476,0b5b914e312c25a956b412c0702064b65fafdab6,40,9,6,1,24245,Harald Jensås,harald.jensas,"Add THT Jinja2 data sources as stack output

This simply stores the data structure in the network_data
and roles_data YAML files provided with the -n and -r
options when deploying the overcloud.

This can be generally useful for troubleshooting.

Also the 'overcloud node extract provision' command rely
on the roles data source. Storing it in the stack means
we can get to the data in case the user missplaced the
file originally used, or in the case where we want to
automate the process for all deployed stacks.

NOTE: The idea is to backport this to the release intended
as the upgrade from release, so that the follow on change
Icc6a7a438e9d0f39d003d1cf8ed84d6fb1d5485a can use it during
upgrade.

Related: blueprint network-data-v2-ports
Change-Id: I1efecdcd7afa6af3e6b4b26f4435198836db535f
"
openstack%2Ftripleo-heat-templates~master~Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9,openstack/tripleo-heat-templates,master,network-data-v2,Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9,Extend UC ephemeral heat to export network,MERGED,2021-06-10 13:06:33.000000000,2021-06-25 00:49:37.000000000,2021-06-25 00:49:37.000000000,142,2,9,795773,28105815c15cd2633accc1a900e7887c83a728af,48,7,9,2,24245,Harald Jensås,harald.jensas,"Extend UC ephemeral heat to export network

Run the commands to export the current stack's networks,
virtual IPs and provisioned server as part of the
OS::TripleO::UndercloudUpgradeEphemeralHeat service script.

The network, virtual IP definitions and baremeteal deployment
definition will will be stored in each stacks subdirectory in
the working-dir.

The user must provide the path to the roles data file for each
overcloud stack managed by the undercloud being upgraded.
For example, by adding a file with below content and including
this env file using the 'custom_env_files' option in
undercloud.conf.

  parameter_defaults:
    OvercloudStackRoleDataFileMap:
      overcloud: /home/centos/overcloud/my_roles_data.yaml

Related: blueprint network-data-v2-ports
Change-Id: Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I282c43a9aeb599ab84ffd20f53ea2f0ee86cbeb7,openstack/tripleo-heat-templates,stable/train,bug/1930151-stable/train,I282c43a9aeb599ab84ffd20f53ea2f0ee86cbeb7,"Revert ""Always run network config for undercloud""",MERGED,2021-06-18 14:52:16.000000000,2021-06-25 00:49:31.000000000,2021-06-25 00:49:31.000000000,0,1,0,797100,d2bddc7606f9830581fc7dad2ebcfee30e3c1f2c,8,3,1,1,14985,Alex Schultz,mwhahaha,"Revert ""Always run network config for undercloud""

This reverts commit ec1a78829a9db51e1140c5bae68500bf6e94e3b5.

Reason for revert: Merged before master and the var is incorrect.

Change-Id: I282c43a9aeb599ab84ffd20f53ea2f0ee86cbeb7
"
openstack%2Fproject-config~master~I6a202d7d2d9e85e99d53d2f13993bf2e3a4237d3,openstack/project-config,master,bullseye-python-interp,I6a202d7d2d9e85e99d53d2f13993bf2e3a4237d3,Add python-path to Debian bullseye ARM64 images,MERGED,2021-06-24 23:52:22.000000000,2021-06-25 00:46:08.000000000,2021-06-25 00:36:16.000000000,1,0,0,798029,de75db6d95361f955ea14647cd3399e4c50f6caa,7,2,1,1,7118,Ian Wienand,iwienand,"Add python-path to Debian bullseye ARM64 images

The versions of Ansible we use in Zuul don't detect Debian Bullseye
correctly and try to use python2.  Set a python3 override.

Change-Id: I6a202d7d2d9e85e99d53d2f13993bf2e3a4237d3
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716,openstack/tripleo-ansible,stable/train,pmd_parameters,Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716,pmd auto balance parameters support in ovs,MERGED,2021-06-22 15:33:27.000000000,2021-06-25 00:33:08.000000000,2021-06-25 00:31:51.000000000,121,0,50,797481,e4ea60968ae79a020d390ba6960c6aac697839c0,18,4,3,6,14972,yogananth Subramanian,yogi,"pmd auto balance parameters support in ovs

This patch enables the end user to customize PMD load threshold
(pmd-auto-lb-load-threshold), variance improvement threshold
(pmd-auto-lb-improvement-threshold), minimum time between 2 consecutive
PMD auto load balancing iterations(pmd-auto-lb-rebal-interval)
rather than using the default values.

Signed-off-by: yogananth subramanian <ysubrama@redhat.com>
Change-Id: Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716
(cherry picked from commit 4983761dc4f145a4bfa68ddd0b69177bff7ddb6d)
"
openstack%2Ftripleo-upgrade~stable%2Ftrain~I4708ab72f742247a3a17318b2785862960de1724,openstack/tripleo-upgrade,stable/train,,I4708ab72f742247a3a17318b2785862960de1724,[Train-Only] Move the rename-nics after upgrade prepare.,MERGED,2021-06-24 09:05:16.000000000,2021-06-25 00:31:53.000000000,2021-06-25 00:31:53.000000000,16,8,0,797824,95a61a86c5eb44d167e02f3d5ce7b998fd63468e,8,4,1,2,26343,Jose Luis Franco,jfrancoa,"[Train-Only] Move the rename-nics after upgrade prepare.

During upgrade prepare in FFWD it looks like some of the stackrc parameters
get updated, therefore we need to update the tripleo-ansible-inventory
file using that environment file, as this inventory is being used to
execute the nics renaming on the overcloud nodes.

This patch adds a new task to regenerate the tripleo-ansible-inventory.yaml
file after running upgrade prepare and then it executes the nics renaming
script.

Change-Id: I4708ab72f742247a3a17318b2785862960de1724
"
openstack%2Ffreezer-tempest-plugin~master~I315dc315049583e7f3bb4c8716f59b57a3229b52,openstack/freezer-tempest-plugin,master,wallaby-stable-jobs,I315dc315049583e7f3bb4c8716f59b57a3229b52,Add victoria/wallaby stable branch jobs on master gate,MERGED,2021-04-29 23:42:22.000000000,2021-06-24 23:27:19.000000000,2021-06-24 23:27:19.000000000,12,10,0,788842,900356a192f71cec55f7a25396c34a436f0a4353,15,3,1,1,8556,Ghanshyam,ghanshyam,"Add victoria/wallaby stable branch jobs on master gate

We have stable/victoria and stable/wallaby released so we
should add their job on master gate to keep branchless
tempest plugins compatible to those branch.

This also removes the stable/stein job as that is in EM
state now.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I315dc315049583e7f3bb4c8716f59b57a3229b52
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I371fbb5d3489c70e2bd4e3473faaa3e65f591d63,openstack/tripleo-ansible,stable/wallaby,config-next-stable/wallaby,I371fbb5d3489c70e2bd4e3473faaa3e65f591d63,"Container manage module, attempt 2",MERGED,2021-06-22 18:49:00.000000000,2021-06-24 22:05:48.000000000,2021-06-24 22:04:37.000000000,403,11,2,797530,1dec400625eb0040a79ffb4b146b56a0a6b3f07a,9,3,1,4,14985,Alex Schultz,mwhahaha,"Container manage module, attempt 2

Use a module to manage podman containers rather than the async task
loops.  This change also includes fixes for container-puppet json data
to match the expectations of the module.

This changed the default state from created to started which matches
what used to occur in the tripleo_container_manage role. Additionally
an additional check was added to an exec to ensure the target container
is up before running the exec. We will sleep for 5 seconds and check
again if the container is not running.

Change-Id: I371fbb5d3489c70e2bd4e3473faaa3e65f591d63
(cherry picked from commit 72f42e0f3b870d435ce9083480dd189e163ef1c9)
"
openstack%2Ftripleo-upgrade~master~I5b6660dfb11c9a1aee0f0270be0554a782db8005,openstack/tripleo-upgrade,master,fix_dogpile,I5b6660dfb11c9a1aee0f0270be0554a782db8005,Bump dogpile to >=0.9.2,MERGED,2021-06-23 16:09:16.000000000,2021-06-24 22:04:25.000000000,2021-06-24 22:04:25.000000000,1,2,0,797690,0bb8f854157cbaa6f4b9c3d1d7f394817ee933ef,10,9,1,1,11090,Sergii Golovatiuk,holser,"Bump dogpile to >=0.9.2

The issue described in [1] is not present from 0.9.2 and higher version

[1] https://github.com/sqlalchemy/dogpile.cache/issues/178

Change-Id: I5b6660dfb11c9a1aee0f0270be0554a782db8005
"
openstack%2Ftripleo-upgrade~stable%2Fussuri~I0d59e12d1523491618c83c0002edb8412e664be0,openstack/tripleo-upgrade,stable/ussuri,,I0d59e12d1523491618c83c0002edb8412e664be0,Skip evacuations for non-compute nodes,MERGED,2021-06-23 13:42:43.000000000,2021-06-24 22:04:22.000000000,2021-06-24 22:04:22.000000000,13,3,0,797581,cbfd42cb04b75a7867867607950d58a21761d2c9,7,4,1,3,6816,Jesse Pretorius,jesse-pretorius,"Skip evacuations for non-compute nodes

It may happen that multiple hosts are passed into this
script, so we ensure that the grep OR's all the values.

We then also check if there are no hosts in the response,
and exit with failure if that is the case because this
script should always include at least one compute host.

We also revert the conditionals changed by:
https://review.opendev.org/773002

The conditions must be taken together to ensure that the
script is only created and run for computes.

Change-Id: I0d59e12d1523491618c83c0002edb8412e664be0
(cherry picked from commit 5cf94869ed02adcc56492dcac5aaa692304dfb59)
"
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I0d59e12d1523491618c83c0002edb8412e664be0,openstack/tripleo-upgrade,stable/victoria,,I0d59e12d1523491618c83c0002edb8412e664be0,Skip evacuations for non-compute nodes,MERGED,2021-06-23 13:43:10.000000000,2021-06-24 22:04:19.000000000,2021-06-24 22:04:19.000000000,13,3,0,797582,c33cf633298be2e8f345d16252b2adfc81bea3fe,7,4,1,3,6816,Jesse Pretorius,jesse-pretorius,"Skip evacuations for non-compute nodes

It may happen that multiple hosts are passed into this
script, so we ensure that the grep OR's all the values.

We then also check if there are no hosts in the response,
and exit with failure if that is the case because this
script should always include at least one compute host.

We also revert the conditionals changed by:
https://review.opendev.org/773002

The conditions must be taken together to ensure that the
script is only created and run for computes.

Change-Id: I0d59e12d1523491618c83c0002edb8412e664be0
(cherry picked from commit 5cf94869ed02adcc56492dcac5aaa692304dfb59)
"
openstack%2Fcharm-designate~master~Id06099ad82f07a6accc7eedbf2adb00b654da3c0,openstack/charm-designate,master,symlink-bundles,Id06099ad82f07a6accc7eedbf2adb00b654da3c0,change test bundles to symlinks,ABANDONED,2020-10-06 21:18:10.000000000,2021-06-24 21:46:20.000000000,,137,833,0,756399,63031dcf08c4e35b48b39fec13eabfee257d53d8,13,2,2,27,10086,Xav Paice,xavpaice,"change test bundles to symlinks

Relocates the zaza test bundles to a pair of base bundles, plus symlinks
and individual overlays for the differences between the base bundles.

Change-Id: Id06099ad82f07a6accc7eedbf2adb00b654da3c0
"
openstack%2Fneutron~stable%2Fvictoria~Iaecfda2700c5316cb25a93496d24ece366e40a4a,openstack/neutron,stable/victoria,subnet_create_opt-stable/victoria,Iaecfda2700c5316cb25a93496d24ece366e40a4a,Improve Subnet create performance,MERGED,2021-06-23 15:35:53.000000000,2021-06-24 21:39:33.000000000,2021-06-24 21:37:08.000000000,11,6,0,797589,68dadec27fc6a973dc50bee4db85737cf6147fc5,10,3,1,3,5948,Oleg Bondarev,obondarev,"Improve Subnet create performance

- pass network dict from ml2 plugin to _create_subnet_postcommit
- skip ipam subnet fetch for non ipv6 auto-address subnets
- don't count subnets (DB request) if subnet has no segment

Change-Id: Iaecfda2700c5316cb25a93496d24ece366e40a4a
(cherry picked from commit f52280287f956f67c7b9c5c53ad945d96dd69103)
"
openstack%2Fneutron~stable%2Ftrain~Iaecfda2700c5316cb25a93496d24ece366e40a4a,openstack/neutron,stable/train,subnet_create_opt-stable/train,Iaecfda2700c5316cb25a93496d24ece366e40a4a,Improve Subnet create performance,MERGED,2021-06-23 15:36:32.000000000,2021-06-24 21:39:29.000000000,2021-06-24 21:37:16.000000000,11,6,0,797591,256006eb7fdf2c92391d6ad07b738a4deb59aab1,10,3,1,3,5948,Oleg Bondarev,obondarev,"Improve Subnet create performance

- pass network dict from ml2 plugin to _create_subnet_postcommit
- skip ipam subnet fetch for non ipv6 auto-address subnets
- don't count subnets (DB request) if subnet has no segment

Change-Id: Iaecfda2700c5316cb25a93496d24ece366e40a4a
(cherry picked from commit f52280287f956f67c7b9c5c53ad945d96dd69103)
"
openstack%2Fneutron~stable%2Fwallaby~If6ef990baf039c556d7420962ac4c54608711f06,openstack/neutron,stable/wallaby,bug/1891360-stable/wallaby,If6ef990baf039c556d7420962ac4c54608711f06,Remove FIP agent's gw port when L3 agent is deleted,MERGED,2021-06-24 06:52:44.000000000,2021-06-24 21:39:19.000000000,2021-06-24 21:37:35.000000000,185,0,0,797757,170e6306e20399f60815d7d6e87983de004b83e9,11,3,1,4,11975,Slawek Kaplonski,slaweq,"Remove FIP agent's gw port when L3 agent is deleted

Floating IP agent gateway ports are created for each external network
for each node where DVR L3 agent is running and where there is some FIP
from the ext_net.
But even, if L3 agent is removed (e.g. when scaling down the cluster),
such floating IP gateway port is never removed so it consumes IP address
from the external network.

With this patch when the DVR L3 agent is deleted, all such fip gateway
ports owned by that agent will be deleted.
When new L3 agent is created (registered in the DB), Neutron will check
if there are any floating IPs on that host and will recreate such FIP
gateway ports for it.

Closes-Bug: #1891360
Change-Id: If6ef990baf039c556d7420962ac4c54608711f06
(cherry picked from commit 8cc7c0cf7a5196103b097fae67eccbd5dc3980ac)
"
openstack%2Fneutron~stable%2Fstein~Ic08ca5b167db4884efa07112cf9a6c3637e1b827,openstack/neutron,stable/stein,bug/1923633-stable/wallaby-stable/victoria-stable/ussuri-stable/train-stable/stein,Ic08ca5b167db4884efa07112cf9a6c3637e1b827,Force to close http connection after notify about HA router status,MERGED,2021-06-22 14:39:52.000000000,2021-06-24 21:39:15.000000000,2021-06-24 21:37:26.000000000,2,1,0,797411,2056645d9df50f11bc1512743936f3711c6c3b6a,13,3,1,1,11975,Slawek Kaplonski,slaweq,"Force to close http connection after notify about HA router status

Neutron-keepalived-state-change-monitor process is using HTTP to notify
L3 agent that state of the HA router was changed. It is done through
unix socket.
With HTTP 1.1 connection isn't closed properly and if
router's state was changed more than once in short time, it could happen
that wsgi worker on the L3 agent's side didn't process second request at
all. That caused problem with transitioning router to master state after
creation.
Request to close connection should be explicitly defined in the header
[1] and this patch adds ""connection: close"" header to the headers send in
such request to do exactly that.

[1] https://www.geeksforgeeks.org/http-headers-connection/

Closes-Bug: #1923633
Change-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827
(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)
"
openstack%2Fswift~master~I580c3ed7df3d83a8867c5be03f5dca6946d5ac1e,openstack/swift,master,fast-post-404,I580c3ed7df3d83a8867c5be03f5dca6946d5ac1e,WIP: test for fast-POST w/ 404s,NEW,2021-06-24 20:26:40.000000000,2021-06-24 21:38:58.000000000,,40,0,0,798022,59c99518b20da2003e64ade1a76d745df3ab3b12,4,1,2,1,1179,Clay Gerrard,clay-gerrard,"WIP: test for fast-POST w/ 404s

Related-Bug: #1933546
Change-Id: I580c3ed7df3d83a8867c5be03f5dca6946d5ac1e
"
openstack%2Ftripleo-validations~master~I4341483264dbe657066f03a132ee83943e4aa823,openstack/tripleo-validations,master,VALIDATION_DEVELOPMENT_WORKFLOW,I4341483264dbe657066f03a132ee83943e4aa823,[validation_init] Remove the creation of a README.md file for a new validation,MERGED,2021-06-08 11:02:26.000000000,2021-06-24 21:32:30.000000000,2021-06-24 21:30:51.000000000,111,93,6,795295,0a37793cdc045801d3f908f010a5f850b3b75f2f,26,7,6,7,11491,Gael Chamoulaud,gchamoul,"[validation_init] Remove the creation of a README.md file for a new validation

This patch removes the creation of a role README.md file during the
creation of a new validation with the validation_init role and adds
documentation directly in the sphinx role documentation file. All
variables are documented using comment(s) and will be rendered
automatically by the ansible-autodoc.py script during the sphinx build.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I4341483264dbe657066f03a132ee83943e4aa823
"
openstack%2Ftripleo-upgrade~master~I0d59e12d1523491618c83c0002edb8412e664be0,openstack/tripleo-upgrade,master,,I0d59e12d1523491618c83c0002edb8412e664be0,Skip evacuations for non-compute nodes,MERGED,2021-06-23 13:43:33.000000000,2021-06-24 21:31:21.000000000,2021-06-24 21:31:21.000000000,13,3,0,797583,842265afd76c1fb4948525c3327840e616a0a53d,7,4,1,3,6816,Jesse Pretorius,jesse-pretorius,"Skip evacuations for non-compute nodes

It may happen that multiple hosts are passed into this
script, so we ensure that the grep OR's all the values.

We then also check if there are no hosts in the response,
and exit with failure if that is the case because this
script should always include at least one compute host.

We also revert the conditionals changed by:
https://review.opendev.org/773002

The conditions must be taken together to ensure that the
script is only created and run for computes.

Change-Id: I0d59e12d1523491618c83c0002edb8412e664be0
(cherry picked from commit 5cf94869ed02adcc56492dcac5aaa692304dfb59)
"
openstack%2Ftripleo-operator-ansible~master~I0e4b62d33429b9a4473543e3cd0ae219c272b147,openstack/tripleo-operator-ansible,master,fix_tripleo_validator_show_parameter,I0e4b62d33429b9a4473543e3cd0ae219c272b147,Fixing tripleo_validator_show_parameter role,MERGED,2021-06-24 10:54:09.000000000,2021-06-24 21:31:08.000000000,2021-06-24 21:31:08.000000000,35,12,2,797873,33b812b8d20bb68c2e119ca9edc64250e8b4c904,16,4,4,3,33663,Jad Haj Yahya,jadh,"Fixing tripleo_validator_show_parameter role

The openstack tripleo validator show parameter command expects either validation or group name.
The role was modified to meet this requirement.

Change-Id: I0e4b62d33429b9a4473543e3cd0ae219c272b147
"
openstack%2Ftripleo-quickstart-extras~master~Id3b1ea025b748dee578e5bfb1cdd41d0bb7f7383,openstack/tripleo-quickstart-extras,master,custom-container-overcloud,Id3b1ea025b748dee578e5bfb1cdd41d0bb7f7383,Add missing custom container parameters - overcloud,MERGED,2021-06-18 17:57:11.000000000,2021-06-24 21:30:46.000000000,2021-06-24 21:30:46.000000000,72,0,0,797146,d46cbb211a08f9b7a140986e24ac4feb5a5badcf,26,7,6,2,9976,Ronelle Landy,rlandy,"Add missing custom container parameters - overcloud

roles/standalone/tasks/containers.yml has a number of
ceph-related and other custom parameters that were
missing from the overcloud prep parameters.

This review adds those custom parameters to ensure
that the correct containers (from the desired
registries and namespaces) are used.

Change-Id: Id3b1ea025b748dee578e5bfb1cdd41d0bb7f7383
"
openstack%2Fneutron~stable%2Fwallaby~Iaecfda2700c5316cb25a93496d24ece366e40a4a,openstack/neutron,stable/wallaby,subnet_create_opt-stable/wallaby,Iaecfda2700c5316cb25a93496d24ece366e40a4a,Improve Subnet create performance,MERGED,2021-06-23 15:35:16.000000000,2021-06-24 21:30:02.000000000,2021-06-24 21:28:24.000000000,11,6,0,797588,9afbe8b65f1d2b9dde60f7bc1cd2961c113c7bb3,11,3,1,3,5948,Oleg Bondarev,obondarev,"Improve Subnet create performance

- pass network dict from ml2 plugin to _create_subnet_postcommit
- skip ipam subnet fetch for non ipv6 auto-address subnets
- don't count subnets (DB request) if subnet has no segment

Change-Id: Iaecfda2700c5316cb25a93496d24ece366e40a4a
(cherry picked from commit f52280287f956f67c7b9c5c53ad945d96dd69103)
"
openstack%2Fkeystone~master~Ia37b3f3918a2a4bc99a83f898a48b51ea618edda,openstack/keystone,master,,Ia37b3f3918a2a4bc99a83f898a48b51ea618edda,"use port 5000, keystone-wsgi-public, and --http-socket",NEW,2018-11-01 10:41:38.000000000,2021-06-24 21:08:51.000000000,,1,1,0,614735,2350fb9aa16a1572c9f66644756a4f21c264d406,15,2,3,1,29381,Shuayb Popoola,shuayb,"use port 5000, keystone-wsgi-public, and --http-socket

Change-Id: Ia37b3f3918a2a4bc99a83f898a48b51ea618edda
"
openstack%2Fopenstack-ansible-os_tempest~stable%2Fvictoria~Ie8e04a1635a32e368ec3906082f7773dcefd30d1,openstack/openstack-ansible-os_tempest,stable/victoria,bug/1925331,Ie8e04a1635a32e368ec3906082f7773dcefd30d1,Install py3-dev when not building wheels,MERGED,2021-06-18 13:10:41.000000000,2021-06-24 20:44:31.000000000,2021-06-24 20:43:08.000000000,10,0,0,797031,c81740773db15b32393413ef3fd3036774832365,17,3,4,4,33633,Jonathan Heathcote,mossblaser,"Install py3-dev when not building wheels

When we're in CI and not building wheels, we might appear missing
py3-dev inside utility container, which is required for netifaces. So we
add it as `tempest_devel_distro_packages` which will get package
installed on the required target.

Change-Id: Ie8e04a1635a32e368ec3906082f7773dcefd30d1
Closes-Bug: 1925331
(cherry picked from commit a12a662114dda5c19269bff6bf067271d35e7f69)
"
openstack%2Fansible-collections-openstack~master~Ic6113a785090cc05771fb2f4730dc25f40a8d4dc,openstack/ansible-collections-openstack,master,,Ic6113a785090cc05771fb2f4730dc25f40a8d4dc,Add missing info to changelog,MERGED,2021-06-24 20:13:32.000000000,2021-06-24 20:42:05.000000000,2021-06-24 20:42:05.000000000,4,0,0,798017,9911c7f93aaf4b90e9d25c829c1c34d27d5eff6a,6,2,1,2,10969,Shnaidman Sagi (Sergey),sergsh,"Add missing info to changelog

Change-Id: Ic6113a785090cc05771fb2f4730dc25f40a8d4dc
"
openstack%2Fansible-collections-openstack~master~Ida13b691ae09c2222ae1c83a88b47702fdf684f4,openstack/ansible-collections-openstack,master,,Ida13b691ae09c2222ae1c83a88b47702fdf684f4,Update IRC server in README,MERGED,2021-06-24 14:00:05.000000000,2021-06-24 20:42:02.000000000,2021-06-24 20:42:02.000000000,1,1,0,797905,8c890e656b4fb6de35765a5b6040b1d07b52e0ec,7,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Update IRC server in README

Change-Id: Ida13b691ae09c2222ae1c83a88b47702fdf684f4
"
openstack%2Fneutron~master~I25742880b24f31a1b52a84487bd3d85996102d76,openstack/neutron,master,dhcp/fix-restart-config,I25742880b24f31a1b52a84487bd3d85996102d76,Don't remove DHCP config on restart,ABANDONED,2021-06-07 21:33:02.000000000,2021-06-24 20:31:44.000000000,,3,1,8,795186,355a0c28c24ed2454c6274245158afe62c3de38c,33,4,3,2,11290,Gaudenz Steinlin,gaudenz,"Don't remove DHCP config on restart

Currently the DHCP agent regenerates all configuration files on restart.
This means that DHCPv6 leases are lost as they can't be regenerated.
This changes the agent to only delete the config files if the agent's
ports are also removed.

Related-Bug: #1722126

Change-Id: I25742880b24f31a1b52a84487bd3d85996102d76
"
openstack%2Fneutron~stable%2Fwallaby~I8033e12f5b30e3ecc9143431543266a890fe4073,openstack/neutron,stable/wallaby,,I8033e12f5b30e3ecc9143431543266a890fe4073,[OVN] Disable mcast_flood on localnet ports,MERGED,2021-06-24 08:31:49.000000000,2021-06-24 20:27:18.000000000,2021-06-24 20:25:15.000000000,6,6,0,797813,0ff471aebab99eac16d649775f3f73958e8699c9,10,3,1,4,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] Disable mcast_flood on localnet ports

The mcast_flood option will unconditionally forward multicast traffic
for that port, this behavior is not desired and results in duplicated
traffic being sent to the same port. This patch disables that behavior
by setting the mcast_flood option for the localnet ports to False.

Note that, a similar option called ""mcast_flood_reports"" is still
enabled because we do want to have the multicast reports being sent but
not normal traffic.

Change-Id: I8033e12f5b30e3ecc9143431543266a890fe4073
Closes-Bug: #1933207
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 953eb92a4f1d686a45d91100c8b02f9fe0771ed9)
"
openstack%2Fcinder-specs~master~I201235a1816a300806c0a0dc7678b695cebff27e,openstack/cinder-specs,master,s-rbac-ready,I201235a1816a300806c0a0dc7678b695cebff27e,"Spec for ""Consistent and Secure RBAC"" in Cinder",MERGED,2021-06-23 14:01:38.000000000,2021-06-24 20:10:19.000000000,2021-06-24 20:08:40.000000000,187,0,9,797655,38efff1e24af424091afa531d2ad359254c2dac4,15,3,2,1,5314,Brian Rosmaita,brian-rosmaita,"Spec for ""Consistent and Secure RBAC"" in Cinder

Change-Id: I201235a1816a300806c0a0dc7678b695cebff27e
"
openstack%2Fpyeclib~master~I7c3eb54c72b3a3b02490a3ad4df78276593e1890,openstack/pyeclib,master,rhbz/1967534,I7c3eb54c72b3a3b02490a3ad4df78276593e1890,DNM Drop explicit /usr/lib,NEW,2021-06-24 19:34:12.000000000,2021-06-24 20:06:31.000000000,,0,2,0,798010,2e2273d2fa4e9c34fbfc07d075ec8299a941682d,3,1,1,1,597,Pete Zaitcev,zaitcev,"DNM Drop explicit /usr/lib

When building Fedora RPM, the newest checkers complain that
the library contains an explicit RPATH of ""/usr/lib"".
Looking at the code, isn't it silly to have a path
of sys.prefix? It could make sense when prefix was /usr/local,
but we supported that one through some explicit checking,
now removed.

WIP: let's see if we can make PyECLib installed in /usr/local
without screwing with explicit arguments to the Extension class.

Related-To: rhbz#1967534
Change-Id: I7c3eb54c72b3a3b02490a3ad4df78276593e1890
"
openstack%2Fopenstack-helm-addons~master~Ic9a48f2082c1aa602d903d22f42c1724fd4aec73,openstack/openstack-helm-addons,master,sonobuoy,Ic9a48f2082c1aa602d903d22f42c1724fd4aec73,Remove sonobuoy chart,MERGED,2021-04-07 21:25:47.000000000,2021-06-24 19:48:41.000000000,2021-06-24 19:41:40.000000000,0,1007,0,785281,ee0201bd7da0f86281bf939890f20cc64fff73f3,11,3,2,21,21420,Gage Hugo,ghugo,"Remove sonobuoy chart

This change removes the sonobuoy chart from openstack-helm-addons.

Change-Id: Ic9a48f2082c1aa602d903d22f42c1724fd4aec73
"
openstack%2Fopenstack-helm-infra~master~I430809d9849a6a87b0408d0b871196964afc0be0,openstack/openstack-helm-infra,master,mariadb-deployment,I430809d9849a6a87b0408d0b871196964afc0be0,DNM - Testing mariadb chart,ABANDONED,2021-04-26 21:26:07.000000000,2021-06-24 19:41:44.000000000,,62,602,0,788087,d67f261ea5ae300f02e6722e6d85451c42f6b843,26,2,17,8,21420,Gage Hugo,ghugo,"DNM - Testing mariadb chart

Change-Id: I430809d9849a6a87b0408d0b871196964afc0be0
"
openstack%2Fpuppet-cinder~master~I7b540f9d1f604fc8c63e9cc7cbe5edfff82a055d,openstack/puppet-cinder,master,,I7b540f9d1f604fc8c63e9cc7cbe5edfff82a055d,Fix ignored unit test case of cinder::backend::pure,MERGED,2021-06-23 13:42:32.000000000,2021-06-24 19:35:54.000000000,2021-06-24 19:35:54.000000000,1,1,0,797649,bf00282852a753d0498178b49ad22d2406eeafd8,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix ignored unit test case of cinder::backend::pure

Change-Id: I7b540f9d1f604fc8c63e9cc7cbe5edfff82a055d
"
openstack%2Foctavia~stable%2Fvictoria~Ie4d40509ae7e6faccecd1d0cc0bc4c7d93959261,openstack/octavia,stable/victoria,,Ie4d40509ae7e6faccecd1d0cc0bc4c7d93959261,Optimize CountPoolChildrenForQuota task in amphorav2,MERGED,2021-05-17 07:38:01.000000000,2021-06-24 19:25:59.000000000,2021-06-24 19:24:01.000000000,63,37,0,791668,37b15da4a13da800b991d81e89e15fe1ff216568,9,3,1,4,6469,Carlos Gonçalves,cgoncalves,"Optimize CountPoolChildrenForQuota task in amphorav2

The CountPoolChildrenForQuota task takes 3 or 4 seconds to execute in
amphorav2. When cascade deleting a load balancer with many pools (60),
it might take minutes.

We don't need to get and to convert all the fields from the object to
compute the number of children of a pool, we can optimize this task by
creating a new method in the PoolRepository class.

Story 2008873
Task 42414

Change-Id: Ie4d40509ae7e6faccecd1d0cc0bc4c7d93959261
(cherry picked from commit 7075d22c4cb0dfc25b4c5c8eff654aa4358f2f25)
(cherry picked from commit adb454b2e8a9fc7b69c40c4fa62c21020a68524c)
"
openstack%2Foctavia~stable%2Fwallaby~I27b54b5b2e93665aad771438e618ac02900ab123,openstack/octavia,stable/wallaby,,I27b54b5b2e93665aad771438e618ac02900ab123,Fix jobboard_enabled setting in devstack,MERGED,2021-05-17 07:20:26.000000000,2021-06-24 19:13:40.000000000,2021-06-24 19:12:02.000000000,1,0,0,791654,e06530e650daab7c23294ce6ea943f1548fc750f,10,4,1,1,6469,Carlos Gonçalves,cgoncalves,"Fix jobboard_enabled setting in devstack

When OCTAVIA_ENABLE_AMPHORAV2_JOBBOARD is True in devstack,
jobboard_enabled must be set to True.

Change-Id: I27b54b5b2e93665aad771438e618ac02900ab123
(cherry picked from commit 190d6a33dcb63b32551a46bdc02763dc8855499d)
"
openstack%2Fosc-lib~master~Iea7e75d0183cbca6b0e8446a8034dfe383ce7bbe,openstack/osc-lib,master,prompt_all,Iea7e75d0183cbca6b0e8446a8034dfe383ce7bbe,Iterate over auth option and ask for promting,NEW,2021-06-24 13:25:55.000000000,2021-06-24 18:45:18.000000000,,7,7,0,797903,f5ef055091e91f4edf784ef310d7f38817a13f07,3,2,1,2,9545,Andrey Kurilin,akurilin,"Iterate over auth option and ask for promting

Do not limit prompting only for passwords.

Change-Id: Iea7e75d0183cbca6b0e8446a8034dfe383ce7bbe
"
openstack%2Ftripleo-ansible~master~Ief0729e51997c3eb1dba679cc40ce7bbf4702bc3,openstack/tripleo-ansible,master,config-next,Ief0729e51997c3eb1dba679cc40ce7bbf4702bc3,Adjust shutdown service management,MERGED,2021-06-02 19:51:42.000000000,2021-06-24 18:41:54.000000000,2021-06-24 18:41:54.000000000,12,16,0,794335,a881b039f2c3bc3874f58e8d1df2f40a46495796,17,4,3,3,14985,Alex Schultz,mwhahaha,"Adjust shutdown service management

We currently attempt to manage the triple container related serivces for
startup/shutdown every time we invoke tripleo container manage. This
management should only occur at most once during a deployment. This
change moves the podman drop in fact to where it's used (for systemd
service unit management) and drops the inclusion of the shutdown.yml for
each inclusion of tripleo_container_manage.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/794334
Change-Id: Ief0729e51997c3eb1dba679cc40ce7bbf4702bc3
"
openstack%2Ftripleo-heat-templates~master~I4398322a02f6f899ea226b60336da83fc841812f,openstack/tripleo-heat-templates,master,config-next,I4398322a02f6f899ea226b60336da83fc841812f,Use module for container puppet tasks,MERGED,2021-05-04 16:48:10.000000000,2021-06-24 18:41:45.000000000,2021-06-24 18:41:45.000000000,13,30,1,789608,8fb3a0b88951fbeb439585071c02d98b7ed317c4,130,6,39,2,14985,Alex Schultz,mwhahaha,"Use module for container puppet tasks

Switch container puppet tasks to use the module for management rather
than the tripleo_container_manage role which has a bunch of unrelated
tasks.

Change-Id: I4398322a02f6f899ea226b60336da83fc841812f
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/796884
"
openstack%2Ftripleo-heat-templates~master~I1c31042e05307733d0f9b4c6223b9a34df599eca,openstack/tripleo-heat-templates,master,config-next,I1c31042e05307733d0f9b4c6223b9a34df599eca,Include tripleo container service management once,MERGED,2021-06-02 19:51:22.000000000,2021-06-24 18:25:43.000000000,2021-06-24 18:25:43.000000000,7,0,0,794334,d9b6ed3fb2121b2eb64ae50e5873801489cc7984,26,4,3,1,14985,Alex Schultz,mwhahaha,"Include tripleo container service management once

Currently this management occurs every time we include
tripleo_container_manage.  We only need to manage the tripleo container
shutdown service once during a deployment. This change moves it to a
deployment step and there is a subsequent tripleo-ansible patch to drop
it from tripleo_container_manage.

Change-Id: I1c31042e05307733d0f9b4c6223b9a34df599eca
"
openstack%2Fproject-config~master~I47687d4e747652279f7da7a85e6a431fde525dd7,openstack/project-config,master,zuul-4.6.0,I47687d4e747652279f7da7a85e6a431fde525dd7,Do var subst in openstack-github-mirroring secret,MERGED,2021-06-24 17:33:42.000000000,2021-06-24 18:18:53.000000000,2021-06-24 18:18:53.000000000,1,1,0,797992,ff16ef203dddc197fb6cf42926f0a7485295a690,7,3,1,1,5263,Jeremy Stanley,fungi,"Do var subst in openstack-github-mirroring secret

Another hotfix for Zuul 4.6.0, related change will be required for
opendev/base-jobs.

Change-Id: I47687d4e747652279f7da7a85e6a431fde525dd7
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,openstack/tripleo-heat-templates,stable/train,collectd_memory-stable/wallaby-stable/victoria-stable/ussuri-stable/train,I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,Limit collectds memory usage,MERGED,2021-06-23 18:00:01.000000000,2021-06-24 18:10:50.000000000,2021-06-24 01:52:52.000000000,1,0,0,797704,fc1fd201c5344ecef4d653d0002d8d9af90a9f4e,8,4,1,1,4264,Matthias Runge,mrunge,"Limit collectds memory usage

to guard nodes from running out of memory.

If there is a connection issue with collectd not being able to
write to event or metrics endpoints, this can lead to accumulating
to large portions of memory. Limiting the memory usage via podman
memory will prevent the container to grow limitless. In case of
using more than 512 MB, podman will restart the container.

Change-Id: I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28
(cherry picked from commit 2f702f7bb1452138811f42309b032f9747182e97)
(cherry picked from commit e987a234061773f0817a090c7c9752e1fab0fd72)
(cherry picked from commit 02b7e3d67729bd219d9b9e1ff957ee51df0d9b8c)
(cherry picked from commit 6d304d61b4a9f3dd03f00824e622a654b44ad718)
"
openstack%2Fglance~master~I93a9145df27594a0cc59828619a7d0573e58d4fc,openstack/glance,master,bp/glance-unified-quotas,I93a9145df27594a0cc59828619a7d0573e58d4fc,Make image stage set image.size,MERGED,2021-04-26 20:30:31.000000000,2021-06-24 17:29:28.000000000,2021-06-24 17:27:41.000000000,39,11,3,788075,c290c4af5a06957bdc16158a3dff6971d1d3ad65,39,4,12,4,4393,Dan Smith,danms,"Make image stage set image.size

When we stage an image, we know the image size, so we should set it.
Since the user may be streaming an image and did not declare the
expected size, this lets them confirm before they import. It also
provides us a value to count for the staging quota coming in a later
patch.

The bulk of this change is adjusting existing tests to validate the
size for all of our stage/import tests.

This follows the change to set the image size during conversion,
ensuring that we can set it during stage for non-conversion jobs,
and that the conversion code that re-sets it after changing the
image data and size continues to work.

Related to blueprint glance-unified-quotas

Change-Id: I93a9145df27594a0cc59828619a7d0573e58d4fc
"
openstack%2Fneutron~stable%2Ftrain~Iea2533f4c52935b4ecda9ec22fb619c131febfa1,openstack/neutron,stable/train,bug/1926693-stable/train,Iea2533f4c52935b4ecda9ec22fb619c131febfa1,Make default hypervisor hostname compatible with libvirt,MERGED,2021-06-17 13:20:24.000000000,2021-06-24 17:22:08.000000000,2021-06-24 13:55:05.000000000,119,7,4,796837,d9d884f783417795a05ca8a1c2bf64c9b55b6370,20,4,2,5,11975,Slawek Kaplonski,slaweq,"Make default hypervisor hostname compatible with libvirt

This change ensures that neutron relies on the same logic as libvirt
to generate hypervisor hostname, to fix imcompatible hostname format
used in Nova and Neutron for resource provider name in some
configuration pattens like the one generated by TripleO.

Conflicts:
    neutron/agent/common/utils.py
    neutron/tests/unit/agent/common/test_utils.py

Closes-Bug: #1926693
Change-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1
(cherry picked from commit 577217c52d677ba35ca78b87c06302d506f66ff9)
"
openstack%2Fglance_store~master~I1d6c07b6c0e7e6a4da9adabaa026f024b64bb029,openstack/glance_store,master,cinder-user-domain,I1d6c07b6c0e7e6a4da9adabaa026f024b64bb029,Allow any Keystone domain for cinder store,MERGED,2021-05-31 16:17:36.000000000,2021-06-24 16:59:39.000000000,2021-06-24 13:21:59.000000000,125,40,8,793826,4ea33139516250f32ba4e7d07eee0ed52352d0be,21,4,3,5,9542,Pavlo Shchelokovskyy,pshchelo,"Allow any Keystone domain for cinder store

add two new config options for cinder store

- cinder_store_user_domain_name
- cinder_store_project_domain_name

that allow to set the internal user and project to Keystone domains
other that the 'Default' one.

Closes-Bug: #1930299
Change-Id: I1d6c07b6c0e7e6a4da9adabaa026f024b64bb029
"
openstack%2Fproject-config~master~I4ea24dadf24437222373853cf70908d82e3dbbc3,openstack/project-config,master,zuul-4.6.0,I4ea24dadf24437222373853cf70908d82e3dbbc3,Update promote/publish secrets and jobs,MERGED,2021-06-24 16:13:04.000000000,2021-06-24 16:56:35.000000000,2021-06-24 16:56:35.000000000,56,23,1,797971,2e1623783aba2e30265002f923d302e90c0ff91c,10,3,2,2,5263,Jeremy Stanley,fungi,"Update promote/publish secrets and jobs

This updates the promote and publish secrets and jobs to no longer
rely on jinja templates in secrets since Zuul removed support for
that.

Instead, we pass in only known safe static variables (ie, the ""zuul""
hierarchy).

Change-Id: I4ea24dadf24437222373853cf70908d82e3dbbc3
"
openstack%2Fneutron-tempest-plugin~master~If36aa3e99286f4f91ea488609aee0589656881da,openstack/neutron-tempest-plugin,master,bug/1875981,If36aa3e99286f4f91ea488609aee0589656881da,Add test for default DNS zone per tenant,MERGED,2020-06-07 22:08:06.000000000,2021-06-24 16:44:56.000000000,2021-06-24 16:44:56.000000000,54,0,10,733994,913c3065e2f2adcf74167b3bdf3e7e0f5200fc18,62,6,8,2,11975,Slawek Kaplonski,slaweq,"Add test for default DNS zone per tenant

Related-Bug: #1843218

Depends-On: https://review.opendev.org/#/c/686343/
Change-Id: If36aa3e99286f4f91ea488609aee0589656881da
"
openstack%2Fnova~stable%2Fstein~Ieea576b700327ba5a5300e512d42e51a255abbba,openstack/nova,stable/stein,bug/1910466,Ieea576b700327ba5a5300e512d42e51a255abbba,libvirt: Start checking compute usage in functional tests,ABANDONED,2021-06-24 16:19:49.000000000,2021-06-24 16:23:56.000000000,,23,4,0,797974,e96ee3034fc3a3544e4bc7bb61b9d3c09f3762e7,2,0,1,1,15334,Stephen Finucane,sfinucan,"libvirt: Start checking compute usage in functional tests

We're using placement. Let's make sure everything is working in concert
and requesting the right amount and types of things.

Change-Id: Ieea576b700327ba5a5300e512d42e51a255abbba
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Co-authored-by: Bhagyashri Shewale <bhagyashri.shewale@nttdata.com>
(cherry picked from commit 64f09a4a1f41348efa15b08c8457004f42909f2d)
"
openstack%2Ftripleo-heat-templates~master~I1092d0660c382bac78c6489691e7378daec63e04,openstack/tripleo-heat-templates,master,ceph_conf_mgmt,I1092d0660c382bac78c6489691e7378daec63e04,Reduce scope of CephClusterName to Ceph clients only,ABANDONED,2021-06-21 19:45:48.000000000,2021-06-24 15:46:22.000000000,,136,31,8,797350,07f367abadc11ff188596d259e43c85380c74da9,20,5,3,18,18002,John Fulton,fultonj,"Reduce scope of CephClusterName to Ceph clients only

Ceph deprecated naming clusters anything but ""ceph"" [1]
so deprecate CephClusterName for the naming of Ceph
server files in /etc/ceph/ on the container hosts and
let cephadm manage replicating all files in /etc/ceph/
to other Ceph servers. The name of the replicated files
will no longer reflect the value of CephClusterName.

Ceph client configuration is managed not by cephadm but
by the tripleo_ceph_client role from tripleo-ansible. The
files managed by this role are stored in CephConfigPath,
which defaults to /var/lib/tripleo-config/ceph/, and we
must continue to support the CephClusterName for these
files so we can support multiple Ceph client configuration
as found in GlanceMultistoreConfig. Thus, the scope of
the CephClusterName paramter is being reduced and it will
only have effect in CephConfigPath and not /etc/ceph/.

[1] https://docs.ceph.com/en/latest/rados/configuration/common/#naming-clusters-deprecated

Depends-On: I7e31cd6368cd256b22a21b506947c0214e298361
Change-Id: I1092d0660c382bac78c6489691e7378daec63e04
"
openstack%2Fswift~master~Idd2440277516dac14ea0155da32af2fc8b603ba7,openstack/swift,master,p-log-capture,Idd2440277516dac14ea0155da32af2fc8b603ba7,Further refactor of debug_logger,NEW,2021-06-24 10:00:59.000000000,2021-06-24 15:43:57.000000000,,92,90,4,797864,4b72e5091d98d8da579382ddf2c601c961499e59,5,1,1,4,7847,Alistair Coles,acoles,"Further refactor of debug_logger

Move log capture functionality from FakeLogger to DebugLogAdapter
for consistency with system log capture pattern. FakeLogger will
no longer capyure logs but is currently only used as a fake syslog
handler.

Some unit tests were previously calling
DebugLogAdapter.logger.get_lines_for_level i.e. calling
FakeLogger.get_lines_for_level. This was not necessary since
DebugLogAdapter would forward a call to get_lines_for_level, but will
now not work because get_lines_for_level is only implemented by
DebugLogAdapter.

Change-Id: Idd2440277516dac14ea0155da32af2fc8b603ba7
"
openstack%2Fironic-python-agent~master~I0678c6252394fec1174299038f40fc9352e2059a,openstack/ironic-python-agent,master,add_fips_job,I0678c6252394fec1174299038f40fc9352e2059a,WIP/DNM: Add FIPS jobs,NEW,2021-06-23 19:08:28.000000000,2021-06-24 15:41:29.000000000,,12,33,0,797741,c37ece764a14d4276d95d799abaef04283279c6b,4,2,1,3,9914,Ade Lee,alee,"WIP/DNM: Add FIPS jobs

This commit adds a job to confirm that nothing is broken when FIPS
is enabled on the node.  To speed up testing, we've removed all other
check jobs except this one.

Change-Id: I0678c6252394fec1174299038f40fc9352e2059a
"
openstack%2Ftripleo-ansible~master~I7e31cd6368cd256b22a21b506947c0214e298361,openstack/tripleo-ansible,master,ceph_conf_mgmt,I7e31cd6368cd256b22a21b506947c0214e298361,Distribute Ceph conf and admin keyring to all Ceph _admin nodes,ABANDONED,2021-06-18 10:58:39.000000000,2021-06-24 15:24:21.000000000,,14,0,18,797056,c32cb1b2421fd14cdd258577fa7a5aaa12cfd044,49,5,12,2,25402,Francesco Pantano,fmount,"Distribute Ceph conf and admin keyring to all Ceph _admin nodes

The nodes having an _admin label should be able to interact with
the ceph cluster using the ceph.client.admin keyring. This label
is typically added to the mon/mgr group, but they need the admin
keyring to run any ceph command (via cephadm shell or any other
client tool).

This change adds a new block to make sure both the ceph.conf and
ceph.client.admin.keyring are distributed to the relevant nodes
by enabling cephadm's mgr/cephadm/manage_etc_ceph_ceph_conf.

Change-Id: I7e31cd6368cd256b22a21b506947c0214e298361
"
openstack%2Ftripleo-operator-ansible~master~I5524e968ef3650342629076cd17963831c2a96e3,openstack/tripleo-operator-ansible,master,fix_tripleo_validator_show,I5524e968ef3650342629076cd17963831c2a96e3,Removing --validation from role,MERGED,2021-06-23 15:22:05.000000000,2021-06-24 15:13:22.000000000,2021-06-24 15:13:22.000000000,2,2,0,797677,7de6a6af5121d3fb3cba7ada28e1151b0740d7a4,11,3,2,2,33663,Jad Haj Yahya,jadh,"Removing --validation from role

According to usage, --validation parameter is not needed and it is
enough to supply the validation name

Change-Id: I5524e968ef3650342629076cd17963831c2a96e3
"
openstack%2Fheat~master~I63369b92b77b4f84bc2646ab35632006ee6b841b,openstack/heat,master,octavia-az,I63369b92b77b4f84bc2646ab35632006ee6b841b,Add availability_zone to OS::Octavia::LoadBalancer,MERGED,2021-05-27 01:50:12.000000000,2021-06-24 13:44:34.000000000,2021-06-24 13:42:54.000000000,14,2,0,793259,ba0b6676c07e944ba046b2b067832e0583163662,27,3,4,4,8064,Jake Yip,jake,"Add availability_zone to OS::Octavia::LoadBalancer

Change-Id: I63369b92b77b4f84bc2646ab35632006ee6b841b
"
openstack%2Fosc-lib~master~Ia080056c6239471ebb6c6aedb0a7ad191072d550,openstack/osc-lib,master,auth_prompting,Ia080056c6239471ebb6c6aedb0a7ad191072d550,POC: add pluggable cli helpers,NEW,2021-06-24 12:47:54.000000000,2021-06-24 13:44:09.000000000,,216,62,5,797894,f33b98b360fab8cded401e9c8822f86431c75b03,3,1,1,7,9545,Andrey Kurilin,akurilin,"POC: add pluggable cli helpers

The existing osc_lib implementation allows asking to prompt only a user
password without any ability to extend this feature.

pluggable way for validation cli options allows developers to implement
a custom authentication method (keystone allows to do that) and improve
UX (e.g. ask to prompt hardware totp token) without using any addional
bash scripts with workarounds.

Change-Id: Ia080056c6239471ebb6c6aedb0a7ad191072d550
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ib1fd2fb89899b40b3ce2574af067006f566ef2ea,openstack/tripleo-heat-templates,stable/wallaby,virtlogd_wrapper-stable/wallaby,Ib1fd2fb89899b40b3ce2574af067006f566ef2ea,Introduce nova virtlogd wrapper,MERGED,2021-06-08 05:51:48.000000000,2021-06-24 13:38:27.000000000,2021-06-24 13:35:09.000000000,211,123,5,795149,0a690e519178043f3bb823126b79f7a03ac10a9a,27,9,4,2,17216,Martin Schuppert,mcschupp,"Introduce nova virtlogd wrapper

When nova_virtlogd container gets restarted the instance console auth
files will not be reopened again by virtlogd. As a result either
instances need to be restarted or live migrated to a different compute
node to get new console logs messages logged again.
Usually on receipt of SIGUSR1, virtlogd will re-exec() its binary,
while maintaining all current logs and clients. This allows for live
upgrades of the virtlogd service on non containerized environments
where updates just by doing an RPM update.
To reduce the likelihood in a containerized environment virtlogd
should only be restarted on manual request, or on compute node reboot.
It should not be restarted on a minor update without migration off
instances.
This introduces a nova_virtlogd_wrapper container and virtlogd wrapper
script, to only restart virtlogd on either manual or compute node
restart.

With NovaEnableVirtlogdContainerWrapper the virtlogd wrapper can be
disabled.

Co-Authored-By: Rajesh Tailor <ratailor@redhat.com>

Closes-Bug: #1838272
Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/795148

Change-Id: Ib1fd2fb89899b40b3ce2574af067006f566ef2ea
(cherry picked from commit 49415d04b2f97583d63004420b500d454f62386a)
"
openstack%2Ftripleo-validations~stable%2Fvictoria~Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2,openstack/tripleo-validations,stable/victoria,tsx_flag_compute,Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2,Compute TSX validation,MERGED,2021-06-10 13:15:44.000000000,2021-06-24 13:37:41.000000000,2021-06-24 13:34:55.000000000,342,0,0,795632,5207e0ede4ca8950d69cd3a264a9d2efa36bb94d,30,7,9,10,27419,David Vallee Delisle,dvd,"Compute TSX validation

RHEL-8.3 kernel disabled the Intel TSX (Transactional
Synchronization Extensions) feature by default as a preemptive
security measure, but it breaks live migration from RHEL-7.9
(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.

Operators are expected to explicitly define the TSX flag in
their KernelArgs for the compute role to prevent live-migration
issues during the upgrade process.

This also impacts upstream CentOS systems.

Co-Authored-By: Martin Schuppert <mschuppert@redhat.com>
Related: https://bugzilla.redhat.com/1923165
Closes-Bug: #1916758
Change-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2
(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)
(cherry picked from commit 74c30cf49147dedad2944da332b58079bc703200)
"
openstack%2Fkolla-ansible~master~I23a2c2efab858b9ed39c6ce0ec4a82df10e7f93d,openstack/kolla-ansible,master,container-health-check,I23a2c2efab858b9ed39c6ce0ec4a82df10e7f93d,Use Docker healthchecks for rabbitmq services,MERGED,2021-03-13 07:54:42.000000000,2021-06-24 13:19:16.000000000,2021-06-24 13:17:27.000000000,22,0,6,780407,1ddef85973dc510b642a6c633cf99e72320c17b5,39,6,5,4,31506,Lin PeiWen,LinPeiWen,"Use Docker healthchecks for rabbitmq services

This change enables the use of Docker healthchecks for rabbitmq services.

Implements: blueprint container-health-check
Depends-On: https://review.opendev.org/c/openstack/kolla/+/784562

Change-Id: I23a2c2efab858b9ed39c6ce0ec4a82df10e7f93d
"
openstack%2Foslo.messaging~master~I66954ebeaa32561e9159de8f606a66d2fe4ea9cf,openstack/oslo.messaging,master,topic/remove-deprecated-get-transport,I66954ebeaa32561e9159de8f606a66d2fe4ea9cf,[WIP] Remove the deprecated method get_transport,ABANDONED,2019-01-22 18:05:40.000000000,2021-06-24 13:07:15.000000000,,39,108,0,632523,d958fd035e0d306fb5b51d1dbeef23828a970fc5,13,6,4,5,28522,Hervé Beraud,hberaud,"[WIP] Remove the deprecated method get_transport

the transport.get_transport method are deprecated since few
months and this method is useless.

These changes adapt unit tests to use rpc.transport instead of
transport and remove the deprecated method.

Closes-Bug: #1714945
Change-Id: I66954ebeaa32561e9159de8f606a66d2fe4ea9cf
"
openstack%2Ftripleo-validations~stable%2Fvictoria~I1fb32100139736b88a078940f930122f2694955c,openstack/tripleo-validations,stable/victoria,tsx_flag_compute,I1fb32100139736b88a078940f930122f2694955c,Add Validation Development Workflow Documentation,MERGED,2021-06-11 07:42:00.000000000,2021-06-24 12:44:05.000000000,2021-06-24 12:40:46.000000000,263,56,0,795946,3ab836aca681940ce761d365cb98dedd45b16d03,16,7,3,9,11491,Gael Chamoulaud,gchamoul,"Add Validation Development Workflow Documentation

This patch adds documentation for:
- How to develop a molecule test for a new role
- How to run the molecule test scenarios via tox-ansible

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I1fb32100139736b88a078940f930122f2694955c
(cherry picked from commit 443f8d328f63df4cc65c0ebf84c717772e77ed31)
(cherry picked from commit 99acc1cb493a7c6a7c70b776d9cc5a6aa5944256)
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I2887249af44ccfdae1592dd9120d3366fa059876,openstack/tripleo-heat-templates,stable/wallaby,bug/1931047-wallaby,I2887249af44ccfdae1592dd9120d3366fa059876,Add support for keystone_authtoken/memcache_use_advanced_pool,MERGED,2021-06-14 09:33:54.000000000,2021-06-24 12:42:40.000000000,2021-06-24 12:39:54.000000000,109,0,2,796248,ef18f2515852b17064d8fdd4d9ad65fc42492135,35,5,5,18,20778,Damien Ciabrini,dciabrin,"Add support for keystone_authtoken/memcache_use_advanced_pool

This change introduces a single parameter, MemcacheUseAdvancedPool,
to enable usage of advanced connection pool in keystone middleware.
This is useful to avoid bursting connection to memcached.

Note that the default value of memcached_use_advanced_pool was changed
from false to true during Xena cycle[1], so this parameter is no longer
required in master. However the change in keystonemiddleware will
never be backported. This change is created so that we can switch to
advanced pool even in older releases.

[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/773939

Closes-Bug: #1931047
Change-Id: I2887249af44ccfdae1592dd9120d3366fa059876
(cherry picked from commit 09bcacd25a7217ce66eec10ccfda4847e6d3d87a)
"
openstack%2Ftripleo-validations~stable%2Fvictoria~I5a00e854198fc5429db0353b490dc07192183476,openstack/tripleo-validations,stable/victoria,tsx_flag_compute,I5a00e854198fc5429db0353b490dc07192183476,Quick documentation content reorganization,MERGED,2021-06-10 14:22:33.000000000,2021-06-24 12:42:37.000000000,2021-06-24 12:40:25.000000000,152,105,0,795797,1c0b5dbbe03778f0e147b36708ce8d1c31c80318,17,8,3,9,27419,David Vallee Delisle,dvd,"Quick documentation content reorganization

This patch organizes better the content of the documentation files in order
to render it clearer and better.

Change-Id: I5a00e854198fc5429db0353b490dc07192183476
(cherry picked from commit 06ce5bf55cbc30aeb29e6775351dd3e63a964d4c)
(cherry picked from commit 98cdbd03db7048d1b8ed82205f93976c1862e0a3)
"
openstack%2Ftripleo-validations~stable%2Fvictoria~I219f4054e6b854306719b9c91a0738c526f07666,openstack/tripleo-validations,stable/victoria,tsx_flag_compute,I219f4054e6b854306719b9c91a0738c526f07666,Introduce new Ansible validation_init role.,MERGED,2021-06-11 07:42:00.000000000,2021-06-24 12:40:34.000000000,2021-06-24 12:40:34.000000000,643,170,1,795945,379c42717a2dec669a6f4cba7ea1195b6133f4ac,18,6,3,21,11491,Gael Chamoulaud,gchamoul,"Introduce new Ansible validation_init role.

This patch migrates the new role addition playbook into a proper Ansible
role with proper molecule tests. This new role will be responsible for
creating a new validation.

It is good to mention that the process won't change and it will be
fully transparent for the user.

To create a new role in tripleo-validations:

$ cd tripleo-validations/
$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""
$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I219f4054e6b854306719b9c91a0738c526f07666
(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)
(cherry picked from commit 19bb19ea3c74feec3ceb6e6c31b14ca5855dae16)
"
openstack%2Ftripleo-validations~stable%2Fvictoria~I259c17b7a49ff5bf3476df4da399cc4b2782403d,openstack/tripleo-validations,stable/victoria,tsx_flag_compute,I259c17b7a49ff5bf3476df4da399cc4b2782403d,Remove workaround for tox-ansible and global molecule config,MERGED,2021-06-10 14:21:53.000000000,2021-06-24 12:40:28.000000000,2021-06-24 12:40:28.000000000,5,212,0,795796,4496600249e2121147b0a1b156cb5077f6a3d362,17,9,4,104,27419,David Vallee Delisle,dvd,"Remove workaround for tox-ansible and global molecule config

[1] has been merged and released[2] in upstream tox-ansible and it is now
able to manage global molecule configuration. The workaround, which
consisted in adding the molecule driver name in each scenarios
molecule.yml files, is not necessary anymore.

This patch also removes all the relative symlink to the Dockerfile and
adds directly in the global molecule configuration file.

[1] https://github.com/ansible-community/tox-ansible/pull/89
[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d
(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)
(cherry picked from commit f3cba823d7424277402720946c76f2f78730e046)
"
openstack%2Ftripleo-heat-templates~master~I67698dafb3ade4239d8cee868c0333c5ec89472c,openstack/tripleo-heat-templates,master,explicite_set_cert_grp,I67698dafb3ade4239d8cee868c0333c5ec89472c,Explicit set qemu certificate group ownership,MERGED,2021-06-23 12:13:52.000000000,2021-06-24 12:40:00.000000000,2021-06-24 12:40:00.000000000,2,0,0,797627,c904c7555c28b2978e49655ef7dff40c97ea8fd9,10,9,1,1,17216,Martin Schuppert,mcschupp,"Explicit set qemu certificate group ownership

While the certificates get requested with the appropriate group
root:qemu [1] and copied to /etc/pki/qemu/ with -a it has seen
that the group ownership is not correct on the target certificate
files. Lets set explicit group ownership via the run_after
script.

Closes-Bug: #1933330

[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/nova/nova-libvirt-container-puppet.yaml#L777-L779

Change-Id: I67698dafb3ade4239d8cee868c0333c5ec89472c
"
openstack%2Fcharm-mysql-router~master~I7311b11ced7698dc3f8a953bcaaa4ba0d179029c,openstack/charm-mysql-router,master,charm-metadata-impish,I7311b11ced7698dc3f8a953bcaaa4ba0d179029c,Add impish to metadata.yaml,MERGED,2021-06-03 09:19:06.000000000,2021-06-24 12:31:45.000000000,2021-06-24 12:31:45.000000000,1,0,0,794520,19eb99b84ed279d8393fb5caaf651884b151d4b6,12,4,2,1,31289,Aurelien Lourot,lourot,"Add impish to metadata.yaml

Change-Id: I7311b11ced7698dc3f8a953bcaaa4ba0d179029c
"
