id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fopenstack-ansible~stable%2Fstein~I25a89ed706cad0ae3376c466807f3ba024941c2a,openstack/openstack-ansible,stable/stein,bug/1830028-stable/stein,I25a89ed706cad0ae3376c466807f3ba024941c2a,Utility container venv is missing python libs for ansible openstack modules,MERGED,2019-05-30 05:50:33.000000000,2019-05-30 20:21:37.000000000,2019-05-30 20:21:37.000000000,1,0,0,662132,b4cbd2e76d270b4481d086e3f3673269d27185d2,12,6,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Utility container venv is missing python libs for ansible openstack modules

Some service set up tasks use ansible modules that require external
python libraries. When using a utility container as a service setup host
these ansible tasks will fail if the required libraries are not present
in the utility venv.

Added openstacksdk to the list of pip packages installed to the container
as required for ansible 2.7 and above.

Change-Id: I25a89ed706cad0ae3376c466807f3ba024941c2a
Closes-Bug: #1830028
(cherry picked from commit 5567d92c21c567fa30213b3bc6ac6e040cc745cd)
"
openstack%2Fopenstack-ansible-tests~stable%2Fpike~I82052e89d84beb31df41ee2cb8e89746ddf41150,openstack/openstack-ansible-tests,stable/pike,opendev-fixes,I82052e89d84beb31df41ee2cb8e89746ddf41150,Fix clone list for opendev changes,MERGED,2019-05-29 22:53:39.000000000,2019-05-30 20:01:00.000000000,2019-05-30 20:01:00.000000000,21,22,0,662108,310d2450d129f2ec11e59d102d989a9892cbb1b8,7,3,1,4,290,Antony Messerli,antonym,"Fix clone list for opendev changes

Disable CentOS gating to allow the galera_server percona-release fix
to merge[1].

openSUSE 42.3 gating is removed since it uses LXC containers and our
LXC build process is broken on 42.3, plus 42.3 is scheduled for EOL
soon.

[1] https://review.opendev.org/#/c/662107/

Change-Id: I82052e89d84beb31df41ee2cb8e89746ddf41150
"
openstack-infra%2Fopendev-website~master~I3e22fcb2debbeae704bb05d8e92552d8ea3d4f55,openstack-infra/opendev-website,master,retire-repos,I3e22fcb2debbeae704bb05d8e92552d8ea3d4f55,Retire repo,MERGED,2019-05-29 08:26:42.000000000,2019-05-30 19:59:28.000000000,2019-05-30 19:59:27.000000000,10,215,0,661911,779bdca9947d70c51ad4dbc58dbb52f0e93ed7bf,9,4,1,8,6547,Andreas Jaeger,jaegerandi,"Retire repo

This repo is not used anymore, retire it.

Depends-On: https://review.opendev.org/661910
Change-Id: I3e22fcb2debbeae704bb05d8e92552d8ea3d4f55
"
openstack%2Fproject-config~master~I1c0ec1dbf12751fafd07a045a59e7ea25301d712,openstack/project-config,master,update-neutron-lib-dash,I1c0ec1dbf12751fafd07a045a59e7ea25301d712,Update the neutron-lib failure rate dashboard,MERGED,2019-05-29 15:41:00.000000000,2019-05-30 19:58:01.000000000,2019-05-30 19:58:01.000000000,100,21,0,662024,6fc2ff579f9a83094ea074fa79660d1838778bd6,8,4,1,1,1131,Brian Haley,brian-haley,"Update the neutron-lib failure rate dashboard

Change to be like the Neutron dashboard with both failure rate
and number of jobs run per section.  This will allow us to
better understand how the neutron-lib jobs are running over time.

Also added some missing stats for things like py37, pep8 and docs.

Change-Id: I1c0ec1dbf12751fafd07a045a59e7ea25301d712
"
openstack%2Fopenstack-helm-infra~master~I7661083ad24abfb8469700ab2039b4b7be5dd681,openstack/openstack-helm-infra,master,fix_hostpath_mariadb,I7661083ad24abfb8469700ab2039b4b7be5dd681,mariadb: fix hostpath values,MERGED,2019-05-29 12:06:55.000000000,2019-05-30 19:46:14.000000000,2019-05-30 19:46:14.000000000,3,1,0,661955,ce086f7e41b512768bc87a7e2bf72bd6acc5bf86,10,8,1,1,12281,Itxaka,itxaka,"mariadb: fix hostpath values

Use the correct declaration of the hostpath

Change-Id: I7661083ad24abfb8469700ab2039b4b7be5dd681
"
openstack%2Fopenstack-helm-infra~master~I6b97ebcd69d3a0c8f80f939bfb0750c743d39f2e,openstack/openstack-helm-infra,master,fix-curator-overrides,I6b97ebcd69d3a0c8f80f939bfb0750c743d39f2e,Curator: Fix deployment job overrides,ABANDONED,2019-05-21 19:49:39.000000000,2019-05-30 19:45:59.000000000,,69,46,0,660501,4f60be2b48af227e23063a5c156f8a01af4f968d,3,1,1,3,17591,Steve Wilkerson,srwilkers,"Curator: Fix deployment job overrides

This updates the overrides for configuration Curator in our jobs,
as they were previously indented incorrectly

Change-Id: I6b97ebcd69d3a0c8f80f939bfb0750c743d39f2e
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fproject-config~master~Ia9b05e5da2352f06014fb63051f4e90030def77d,openstack/project-config,master,fix-neutron-lib-dash,Ia9b05e5da2352f06014fb63051f4e90030def77d,fix neutron-lib grafana dashboard,MERGED,2019-05-29 13:18:59.000000000,2019-05-30 19:40:15.000000000,2019-05-30 19:40:15.000000000,14,19,0,661977,721dbef6ba45693dd07dc72ee7588d80ba690876,11,6,1,1,5367,boden,boden,"fix neutron-lib grafana dashboard

The neutron-lib Grafana dashboard has been broken since we moved to
opendev and off py35 jobs. At the moment the dashboard shows no data
[1]. This patch updates the dashboard to pull the proper zuul stats
to get the dashboard working again.

[1] http://grafana.openstack.org/d/Um5INcSmz/neutron-lib-failure-rate?orgId=1&panelId=6&fullscreen

Change-Id: Ia9b05e5da2352f06014fb63051f4e90030def77d
"
openstack%2Fnova~master~Iee5e94050c5e2a5ab658ffcf22b6225cf6711fd7,openstack/nova,master,bug/1815799,Iee5e94050c5e2a5ab658ffcf22b6225cf6711fd7,[ironic] ignore conflict upon cleaning up node,ABANDONED,2019-03-14 23:03:26.000000000,2019-05-30 19:39:58.000000000,,18,1,11,643484,4c2e2248f9dfc2dbc69535aef928faa720f620f9,28,15,4,2,11655,Julia Kreger,jkreger,"[ironic] ignore conflict upon cleaning up node

Depending on the configuration of the ironic deployment,
the internal lock in the Ironic conductor can be held for
long enough to cause a conflict upon removing the node
instance_uuid and instance_info from ironic.

That being said, these fields have been long deleted as part
of final steps in ironic's teardown process since changes:
Ie968e5b3d45f417e98da6b3d985de5bfd851c364
I58bc848ab3a60d3e9ab16d00ce96a603df1c244a

Change-Id: Iee5e94050c5e2a5ab658ffcf22b6225cf6711fd7
Closes-Bug: 1815799
"
openstack%2Ftripleo-heat-templates~master~Ie623e91517f2b310d58181233f06bc3e7c9e9c71,openstack/tripleo-heat-templates,master,ceph_ansible_playbook_name,Ie623e91517f2b310d58181233f06bc3e7c9e9c71,ceph-base: Update ceph-ansible default playbook,MERGED,2019-05-28 18:56:35.000000000,2019-05-30 19:33:08.000000000,2019-05-29 21:54:24.000000000,1,1,0,661830,c450bae2ba7717a3fd0d2116b3d901d50a511d4d,18,5,1,1,14270,Dimitri Savineau,dsavineau,"ceph-base: Update ceph-ansible default playbook

The main ceph-ansible playbook for containerized deployment is named
site-container.yml because it isn't only used for docker.
Currently the site-docker playbook is a symlink to site-container and
this symlink will probably be remove in the future.

Change-Id: Ie623e91517f2b310d58181233f06bc3e7c9e9c71
"
openstack%2Fopenstack-helm-infra~master~I22f4957f90e4113831a8ddf48691cb14f811c1e5,openstack/openstack-helm-infra,master,elasticsearch-container-hooks,I22f4957f90e4113831a8ddf48691cb14f811c1e5,Elasticsearch: Add data node specific entrypoint override,MERGED,2019-05-04 12:42:25.000000000,2019-05-30 19:24:40.000000000,2019-05-30 19:24:40.000000000,61,9,2,657114,91178c31bf449242aa41a61fd67ced4e2a49a624,35,5,11,3,17591,Steve Wilkerson,srwilkers,"Elasticsearch: Add data node specific entrypoint override

This updates the Elasticsearch chart to include a specific start
script for the Elasticsearch data nodes that includes a trap on
signals that removes a data node from allocation eligible nodes
before shutting down.  This results in all shards being moved from
a node on shut down to alleviate issues with planned down nodes,
such as during upgrade scenarios

Change-Id: I22f4957f90e4113831a8ddf48691cb14f811c1e5
"
openstack%2Fnetworking-l2gw~master~I4e5a56a2ffc1b76d9cf245bf5568c181195b7293,openstack/networking-l2gw,master,bug/1564110,I4e5a56a2ffc1b76d9cf245bf5568c181195b7293,Enable MySQL Cluster Support for l2gw,ABANDONED,2017-10-16 14:25:15.000000000,2019-05-30 19:16:23.000000000,,16,14,2,512312,c3dd3a97d3e9da97e62705b86142ac1aeb584513,11,4,5,1,23479,Murali Annamneni,mannamne,"Enable MySQL Cluster Support for l2gw

This enables the usage of the mysql_enable_ndb setting from oslo.db
from bug 1564110.This allows operators to select from MySQL (InnoDB)
or MySQL Cluster (NDB) as the storage engine backend.

Depends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3
Depends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf
Change-Id: I4e5a56a2ffc1b76d9cf245bf5568c181195b7293
Implements: blueprint mysql-cluster-support
"
openstack%2Fnetworking-l2gw~master~I3667a863bfcb1d14754dbac5f0972afdc1c8faa0,openstack/networking-l2gw,master,doc,I3667a863bfcb1d14754dbac5f0972afdc1c8faa0,Improve the l2gw command in README.rst,ABANDONED,2018-05-29 02:38:04.000000000,2019-05-30 19:16:01.000000000,,2,2,1,570832,f0a5cd3dd8d381cf89870dab077f74c2bc61d9cb,4,2,1,1,25058,huangshan,huangshan,"Improve the l2gw command in README.rst

Change-Id: I3667a863bfcb1d14754dbac5f0972afdc1c8faa0
"
openstack%2Fnetworking-l2gw~master~Id7cbbf34db39aaceabc481a20476bd2fa6bcf93f,openstack/networking-l2gw,master,mutable-config,Id7cbbf34db39aaceabc481a20476bd2fa6bcf93f,Enable mutable config in networking_l2gw,ABANDONED,2018-07-25 20:46:22.000000000,2019-05-30 19:15:44.000000000,,1,1,0,585883,fbadeda678815be2b3d385b622c767a3c21fab6d,12,3,2,1,9631,sajuptpm,sajuptpm,"Enable mutable config in networking_l2gw

New releases of oslo.config support a 'mutable' parameter to Opts.
oslo.service provides an option here Icec3e664f3fe72614e373b2938e8dee53cf8bc5e
allows services to tell oslo.service they want mutate_config_files to be
called by passing a parameter.

This commit is to use the same. This allows networking_l2gw to benefit from
I1e7a69de169cc85f4c09954b2f46ce2da7106d90, where the 'debug' option
(owned by oslo.log) is made mutable. we should be able to turn debug
logging on and off by changing the config.

tc goal:
https://governance.openstack.org/tc/goals/rocky/enable-mutable-configuration.html

Change-Id: Id7cbbf34db39aaceabc481a20476bd2fa6bcf93f
"
openstack%2Fcinder~master~Ied0aa9a5e4fc5d8def4a50501d0fb60af247a6b9,openstack/cinder,master,update-nec-manual-and-support-matrix,Ied0aa9a5e4fc5d8def4a50501d0fb60af247a6b9,Update NEC driver manual and support matrix.,MERGED,2019-05-14 00:36:14.000000000,2019-05-30 19:14:49.000000000,2019-05-30 09:03:52.000000000,29,12,0,658939,6b996b689db36453977c1f526b9baac86f16bbaf,29,24,1,2,28403,Naoki Saito,n-saito,"Update NEC driver manual and support matrix.

In NEC driver manual, add new NEC Storage models and update setup
instructions.

In support matrix, fix NEC Storage column. The driver does support
Thin Provisioning, and Volume Migration (Storage Assisted).
It does not support Snapshot Attachment.

Change-Id: Ied0aa9a5e4fc5d8def4a50501d0fb60af247a6b9
"
openstack%2Fglance_store~master~I1a6cfa45b5a37eacb4ba158b62fe619e1b1c9dff,openstack/glance_store,master,remove-deprecation-options,I1a6cfa45b5a37eacb4ba158b62fe619e1b1c9dff,Removed 'store_capabilities_update_min_interval' config option,MERGED,2019-05-24 06:22:37.000000000,2019-05-30 19:14:19.000000000,2019-05-30 19:14:19.000000000,0,150,4,661190,d0d883e16dff136442ec83710288b1a2e7c57abd,13,5,2,4,9303,Abhishek Kekane,abhishekkekane,"Removed 'store_capabilities_update_min_interval' config option

Removed 'store_capabilities_update_min_interval' configuration
option which was scheduled to remove during Stein development
cycle.

Change-Id: I1a6cfa45b5a37eacb4ba158b62fe619e1b1c9dff
"
openstack%2Fcinder~master~I6d9ade8c194b10b3618cffbbd5c904d27f785356,openstack/cinder,master,trivialfix,I6d9ade8c194b10b3618cffbbd5c904d27f785356,Remove confusing annotation,MERGED,2019-05-10 02:39:36.000000000,2019-05-30 19:12:26.000000000,2019-05-30 18:32:40.000000000,1,2,0,658241,faffb74ff8043d375a0894e155db4d2002c81e96,56,31,1,1,28706,Boxiang Zhu,ZhuBoxiang,"Remove confusing annotation

The function which was to check for valid disk-format
had been removed here. Now remove the confusing annotation.

Change-Id: I6d9ade8c194b10b3618cffbbd5c904d27f785356
"
openstack%2Fcinder~master~I0b61934067bfb69ed3375f14bb1e05c9eeb694ad,openstack/cinder,master,,I0b61934067bfb69ed3375f14bb1e05c9eeb694ad,Bump bandit version,MERGED,2019-05-13 17:26:26.000000000,2019-05-30 18:59:08.000000000,2019-05-30 17:47:21.000000000,6,4,7,658873,0554ee1d477cbff4a338524147e9243e823fd43e,126,38,4,3,27615,Rajat Dhasmana,whoami-rajat,"Bump bandit version

Bandit 1.6.0 changes the behavior of the '-x' option so that it now
supports glob patterns. Update our tox file to use to correctly exclude
test code from bandit scans. This requires bumping our minimum bandit
version.
For additional details, refer to ML Thread[1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006116.html

Change-Id: I0b61934067bfb69ed3375f14bb1e05c9eeb694ad
"
openstack%2Fheat~stable%2Fstein~I23493b1c477d082c478f87167de2c1859ba5ace7,openstack/heat,stable/stein,,I23493b1c477d082c478f87167de2c1859ba5ace7,Fix regression with SW deployments when region not configured,MERGED,2019-05-30 14:23:17.000000000,2019-05-30 18:53:47.000000000,2019-05-30 18:53:47.000000000,5,3,0,662232,bc6b4d9e7ea16f3d499d42f8b1a83983e5231fb2,6,2,1,1,8833,Rabi Mishra,rabi,"Fix regression with SW deployments when region not configured

The region name eventually has to pass through an os-collect-config.conf
file, the format of which is unable to distinguish between the JSON null
(equivalent to None in Python) and the string ""null"".

This means that Story 2002781 caused a regression for users who didn't
have the region_name_for_services config option explicitly set in
heat.conf.

To avoid this, only specify the region when we know what it is.

Change-Id: I23493b1c477d082c478f87167de2c1859ba5ace7
Story: #2005797
Task: 33527
Task: 33528
(cherry picked from commit d580565abff2997002eff856535bdfd2ddb44da7)
"
openstack%2Fopenstack-helm-infra~master~Iec6d6f259dc8b7b4f2309b492409cc0e5feab669,openstack/openstack-helm-infra,master,update-es-deps,Iec6d6f259dc8b7b4f2309b492409cc0e5feab669,Elasticsearch: Update client and data pod deps,MERGED,2019-05-29 14:37:47.000000000,2019-05-30 18:52:51.000000000,2019-05-30 18:52:51.000000000,8,2,0,661997,d334c5b68a082c0c09ce37116060b9efc1d45af4,10,4,2,1,17591,Steve Wilkerson,srwilkers,"Elasticsearch: Update client and data pod deps

This updates the Elasticsearch client and data pod dependencies
to allow for sequential bring up of the cluster components. As
we want the order to be master->client->data, we add the discovery
service endpoint as a dependency for the client pods and add both
the discovery and client service endpoints as dependencies for
the data pods

Change-Id: Iec6d6f259dc8b7b4f2309b492409cc0e5feab669
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fcinder~master~I1dfc0b32a152b43f52328eab9a5d50faa991113b,openstack/cinder,master,doc_additions,I1dfc0b32a152b43f52328eab9a5d50faa991113b,PowerMax docs - add information on new and existing functionality,MERGED,2019-04-10 14:37:22.000000000,2019-05-30 18:46:25.000000000,2019-05-30 17:47:35.000000000,103,0,14,651559,c2c084da77c2387a61191881076ad5bfe4a9491a,108,29,5,1,12670,Helen Walsh,walshh2,"PowerMax docs - add information on new and existing functionality

Adding more information on the PowerMax support of cinder backup and
links to the latest documentation.  Adding note on support of in use
(attached) volume retyping and Unisphere failover feature.

Change-Id: I1dfc0b32a152b43f52328eab9a5d50faa991113b
"
openstack%2Fcinder~master~Ib35eba39009a2ecdb1c45c6b56de7c08dabd6676,openstack/cinder,master,driver_exceptions,Ib35eba39009a2ecdb1c45c6b56de7c08dabd6676,move kaminario driver exceptions,MERGED,2019-05-07 20:16:56.000000000,2019-05-30 18:42:48.000000000,2019-05-24 02:37:59.000000000,50,52,0,657678,6db2e945430c1ba900ba055e0555e277b95c3f06,149,42,4,5,5997,Walt,walter-boring,"move kaminario driver exceptions

This patch moves the kaminario exceptions to the
kaminario_common file

Change-Id: Ib35eba39009a2ecdb1c45c6b56de7c08dabd6676
"
openstack%2Fcinder~master~Ia9f7107cde306271faeca49a8d3e447b3962c47b,openstack/cinder,master,driver_exceptions,Ia9f7107cde306271faeca49a8d3e447b3962c47b,move brocade zone manager exceptions,MERGED,2019-05-09 18:28:31.000000000,2019-05-30 18:42:45.000000000,2019-05-20 20:34:41.000000000,98,80,0,658172,659d4e390ac84e2c7a8fe4a2bbeaf4f69fe5dea6,74,38,2,7,5997,Walt,walter-boring,"move brocade zone manager exceptions

This patch moves the brocade zone manager exceptions to
brocade/exception.py

Change-Id: Ia9f7107cde306271faeca49a8d3e447b3962c47b
"
openstack%2Fos-brick~stable%2Fqueens~I12b9535d8a9969356394e406a1ed5ac4a5f1f959,openstack/os-brick,stable/queens,bug/1775677,I12b9535d8a9969356394e406a1ed5ac4a5f1f959,Fix FC case sensitive scanning,MERGED,2019-05-15 12:27:22.000000000,2019-05-30 18:42:39.000000000,2019-05-17 09:01:49.000000000,45,3,0,659281,bdd05d22328a61d9e284317614884d5bcb133863,15,11,1,2,21129,Alan Bishop,ASBishop,"Fix FC case sensitive scanning

For FC connections there are multiple places where we check the
initiator target map provided by the backend against the port names of
the HBAs on the system.

Currently this check is case sensitive, but some backends are returning
the port names in the initiator target map upper cased, which usually
results in attach failures.

Some of the reasons for the attach failures is that os-brick will not
issue scan requests.

Example from a 3PAR backend from a specific system:

  Connector properties:
    {
     'wwpns': ['10001409dcd71ff6', '10001409dcd71ff7'],
     'wwnns': ['20001409dcd71ff6', '20001409dcd71ff7'],
     ...
    }

  Connection properties:
    {
     'initiator_target_map': {
       '10001409DCD71FF6': ['20320002AC01E166', '21420002AC01E166'],
       '10001409DCD71FF7': ['20410002AC01E166', '21410002AC01E166']
     }
     ...
    }

This patch converts to lower case the
initiator_target_map and the target_wwn/target_wwns.

Closes-Bug: #1775677
Change-Id: I12b9535d8a9969356394e406a1ed5ac4a5f1f959
(cherry picked from commit 037f9fe66768a99f3792d014b67ccf7d71e744c5)
Conflicts:
	os_brick/initiator/connectors/fibre_channel.py
(cherry picked from commit 00a4d96d2506bed5c5507282a774bc75df9f790f)
"
openstack%2Fcinder~master~I4c6bee3d41e3d83c4d05d079e6d0f649587ecd98,openstack/cinder,master,driver_exceptions,I4c6bee3d41e3d83c4d05d079e6d0f649587ecd98,move datera exception,MERGED,2019-05-08 19:45:48.000000000,2019-05-30 18:42:37.000000000,2019-05-10 08:41:53.000000000,32,33,0,657876,12225b6c0a0b1dff5f90c6bca382d9d40b8477fb,50,33,1,3,5997,Walt,walter-boring,"move datera exception

This patch moves the datera exception to datera_common

Change-Id: I4c6bee3d41e3d83c4d05d079e6d0f649587ecd98
"
openstack%2Fcinder~master~I83ab1925dd7eb39cf64b9853cd65e2b7cb06e833,openstack/cinder,master,driver_exceptions,I83ab1925dd7eb39cf64b9853cd65e2b7cb06e833,move Dell EMC SC driver exceptions,MERGED,2019-05-24 13:23:25.000000000,2019-05-30 18:42:31.000000000,2019-05-29 16:19:01.000000000,8,13,0,661288,30da697a5925bc402df82508dc03f7e6fad18333,41,33,1,3,5997,Walt,walter-boring,"move Dell EMC SC driver exceptions

This patch moves the Dell EMC SC exceptions to the driver.

Change-Id: I83ab1925dd7eb39cf64b9853cd65e2b7cb06e833
"
openstack%2Fcinder~master~Id1249b73a3e7f1c8424c220ffc15066e47b1e77e,openstack/cinder,master,driver_exceptions,Id1249b73a3e7f1c8424c220ffc15066e47b1e77e,move zadara exceptions,MERGED,2019-05-08 19:34:00.000000000,2019-05-30 18:42:25.000000000,2019-05-21 17:13:23.000000000,33,34,0,657874,8a954f117d08059c0277cfe8e22afaa736da2c98,88,38,2,3,5997,Walt,walter-boring,"move zadara exceptions

This patch moves the zadara exceptions to the driver.

Change-Id: Id1249b73a3e7f1c8424c220ffc15066e47b1e77e
"
openstack%2Fcinder~stable%2Fqueens~I77ed6e3caa5553193c3d886d86c52d23eb87b429,openstack/cinder,stable/queens,,I77ed6e3caa5553193c3d886d86c52d23eb87b429,Remove LOCI publishing from the post pipeline,MERGED,2019-05-07 16:28:29.000000000,2019-05-30 18:42:17.000000000,2019-05-08 15:57:12.000000000,0,3,0,657636,1fc75e74d71b57981167016a0ae7eb192ef28278,35,23,1,1,11904,Sean McGinnis,SeanM,"Remove LOCI publishing from the post pipeline

Due to transitive rights changes in Zuul, the LOCI job that was
publishing Cinder containers after every build is now causing an error
when building the post pipeline graph that causes all post jobs to be
skipped. This removes the job for now until a better solution is found
by the team.

Change-Id: I77ed6e3caa5553193c3d886d86c52d23eb87b429
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 67cb1bde74da0d175b78bd73df6ca274c50a6e88)
"
openstack%2Fcinder~stable%2Fqueens~Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,openstack/cinder,stable/queens,bug/1829398-stable/stein-stable/rocky-stable/queens,Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,"Fix ""connector=None"" issue in Kaminario drivers",MERGED,2019-05-23 10:26:24.000000000,2019-05-30 18:42:09.000000000,2019-05-27 20:20:15.000000000,47,4,1,660969,8d7620b478e31510e5f1ec74eb8fb488d45a7873,28,20,1,4,16258,nikesh,nikem,"Fix ""connector=None"" issue in Kaminario drivers

Currently, Kaminario Cinder FC and iSCSI volume drivers are not
handling ""connector=None"" in the terminate_connection. This causes
the failure of the following tempest test:
test_volumes_actions.VolumesActionsTest.test_force_detach_volume

This patch handles ""connector=None"" in the terminate_connection
for Kaminario Cinder FC and iSCSI volume drivers.

Change-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a
Closes-Bug: #1829398
Co-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>
(cherry picked from commit 49331b2bb6fc8154343fe2655a0c57e814cf4f7a)
"
openstack%2Fcinder~master~I054c5589a0b96849ad5ef745c1b3f30df26cfcc2,openstack/cinder,master,driver_exceptions,I054c5589a0b96849ad5ef745c1b3f30df26cfcc2,Move RBD driver exception to driver,MERGED,2019-05-17 23:03:15.000000000,2019-05-30 18:42:00.000000000,2019-05-20 20:34:46.000000000,7,7,0,659891,17bf1d3875604fda10039749280152b5419a1369,50,37,1,2,5997,Walt,walter-boring,"Move RBD driver exception to driver

This patch moves the ceph driver's exception to it's driver file.

Change-Id: I054c5589a0b96849ad5ef745c1b3f30df26cfcc2
"
openstack%2Fcinder~master~Idbd9f2f5befcf89e34f668a6620e7fe3e05a35da,openstack/cinder,master,driver_exceptions,Idbd9f2f5befcf89e34f668a6620e7fe3e05a35da,move zfssa exception,MERGED,2019-05-08 19:21:16.000000000,2019-05-30 18:41:55.000000000,2019-05-20 20:34:44.000000000,15,17,0,657872,a203f363d90ad4f7100bad1e7763a79a2b94da26,95,37,2,2,5997,Walt,walter-boring,"move zfssa exception

This patch moves the zfssa exception to the zfssa webdavclient

Change-Id: Idbd9f2f5befcf89e34f668a6620e7fe3e05a35da
"
openstack%2Fcinder~stable%2Fstein~I5b1c285680f7c3256a707ea5973573f1176d4a26,openstack/cinder,stable/stein,requirements-fix,I5b1c285680f7c3256a707ea5973573f1176d4a26,Make sure we install cinder requirements during the correct tox phase,MERGED,2019-05-10 08:27:41.000000000,2019-05-30 18:41:49.000000000,2019-05-13 12:58:56.000000000,1,0,0,658297,aecb6100e296aed7235635a5b18a0835fd2aca34,18,14,1,1,17685,Elod Illes,elod.illes,"Make sure we install cinder requirements during the correct tox phase

When runnign tests under tox the virtualenv is created in a number of
phases (in brush strokes)
0. virtualenv -p $python .tox/$dir
1. pip install $deps
2. pip install .

Step 2 is run without any deps as they're all supposed to be installed
in phase 2

We have constraints in 'deps' we need to install all of cinders
requirements during phase 2.  If we don't then we get unconstrained
versions being installed during phase 2.

This shows up in a py27 run[1] as the absence of taskflow, and then in
[2] with new dependancies being installed

[1] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-1.log
[2] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-2.log

Change-Id: I5b1c285680f7c3256a707ea5973573f1176d4a26
(cherry picked from commit f12fda8ffbb42e71108701b38c09618997b836c3)
"
openstack%2Fcinder~master~I82308dc1a6aaf039b675a17e19747f11be574209,openstack/cinder,master,bug/1828113,I82308dc1a6aaf039b675a17e19747f11be574209,api-ref: mark migration_status parameter as optional,MERGED,2019-05-09 13:29:41.000000000,2019-05-30 18:41:47.000000000,2019-05-30 17:47:29.000000000,6,18,0,658077,c549325bd2d9df21af46c2703a55a0ff97f5bfcc,32,24,2,4,6873,Matt Riedemann,mriedem,"api-ref: mark migration_status parameter as optional

Everything that goes through the volumes view builder
detail() method has a strict is_admin check on returning
the migration_status parameter [1]. This means the
migration_status parameter in the API reference should
be optional since it's admin-only and not always shown.

This fixes the v2 and v3 API references for showing,
creating, updating, resetting the status of, and creating
from a managed volume. As a result, the parameter for a
required migration_status parameter is unused and removed.

Note that there is no strict policy check on the
migration_status request parameter when resetting a volume's
status, but the action itself is admin-only by default
using the volume_extension:volume_admin_actions:reset_status
policy rule.

[1] https://opendev.org/openstack/cinder/src/tag/14.0.0/cinder/api/v2/views/volumes.py#L94

Change-Id: I82308dc1a6aaf039b675a17e19747f11be574209
Closes-Bug: #1828113
"
openstack%2Fos-brick~master~I9d5aaad0e6213535afc1ce071f12190cc6aa02d0,openstack/os-brick,master,bug/1619701,I9d5aaad0e6213535afc1ce071f12190cc6aa02d0,Provide setting to ignore lvm descriptor leak warnings,MERGED,2019-04-15 23:32:16.000000000,2019-05-30 18:41:44.000000000,2019-05-08 01:34:33.000000000,52,28,0,652797,5dc5a55d33941bc30de247fb85b1c03f8b32006a,40,18,2,2,11904,Sean McGinnis,SeanM,"Provide setting to ignore lvm descriptor leak warnings

For some reason the leaked descriptor warning message coming
from LVM is causing Cinder to fail startup and it appears to be
masking out the vg response in vgs calls.

We typically don't hit this, but due to the nature of Kolla and
I guess going through the different processes via the containers
this gets logged every time vgs is called.  Eric Harney rightly
pointed out that rather than use exception handling and such
that we should use the LVM env variable mechanism we already have
in place in Cinder.

This was added to the LVM local_dev code in the openstack/cinder repo,
but was not also added to os-brick. The long term goal is to have all of
this handling in os-brick, so this replicates the changes from cinder
done in I85612fa49475beea58d30330c8fe8352a2f91123.

Change-Id: I9d5aaad0e6213535afc1ce071f12190cc6aa02d0
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fcinder~stable%2Fpike~Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,openstack/cinder,stable/pike,bug/1829398-stable/stein-stable/rocky-stable/queens-stable/pike,Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,"Fix ""connector=None"" issue in Kaminario drivers",MERGED,2019-05-23 14:49:27.000000000,2019-05-30 18:41:29.000000000,2019-05-30 17:47:18.000000000,47,4,0,661020,7dcd50a0bfc533221b52a2d5611ab4cc986311c9,53,22,1,4,16258,nikesh,nikem,"Fix ""connector=None"" issue in Kaminario drivers

Currently, Kaminario Cinder FC and iSCSI volume drivers are not
handling ""connector=None"" in the terminate_connection. This causes
the failure of the following tempest test:
test_volumes_actions.VolumesActionsTest.test_force_detach_volume

This patch handles ""connector=None"" in the terminate_connection
for Kaminario Cinder FC and iSCSI volume drivers.

Change-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a
Closes-Bug: #1829398
Co-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>
(cherry picked from commit 49331b2bb6fc8154343fe2655a0c57e814cf4f7a)
"
openstack%2Fcinder~master~I5658b377eb79c663037c595515125a16bd9f369c,openstack/cinder,master,driver_exceptions,I5658b377eb79c663037c595515125a16bd9f369c,move dothill exceptions,MERGED,2019-05-08 18:43:19.000000000,2019-05-30 18:41:26.000000000,2019-05-29 01:22:50.000000000,128,108,1,657866,ce7b86267cb4459e65033b6ed149f7316fff51e9,208,41,4,7,5997,Walt,walter-boring,"move dothill exceptions

This patch moves the dothill exceptions to the dothill module

Change-Id: I5658b377eb79c663037c595515125a16bd9f369c
"
openstack%2Fcinder~stable%2Frocky~Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,openstack/cinder,stable/rocky,bug/1829398-stable/stein-stable/rocky,Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,"Fix ""connector=None"" issue in Kaminario drivers",MERGED,2019-05-22 00:45:02.000000000,2019-05-30 18:41:23.000000000,2019-05-24 20:05:58.000000000,47,4,0,660540,4467c231b029e608104068d33780b8ad021c00d1,23,19,1,4,16258,nikesh,nikem,"Fix ""connector=None"" issue in Kaminario drivers

Currently, Kaminario Cinder FC and iSCSI volume drivers are not
handling ""connector=None"" in the terminate_connection. This causes
the failure of the following tempest test:
test_volumes_actions.VolumesActionsTest.test_force_detach_volume

This patch handles ""connector=None"" in the terminate_connection
for Kaminario Cinder FC and iSCSI volume drivers.

Change-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a
Closes-Bug: #1829398
Co-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>
(cherry picked from commit 49331b2bb6fc8154343fe2655a0c57e814cf4f7a)
"
openstack%2Fcinder~master~I5bc8a1b2c4175dbfb249f7aa31ba50a4009dd9d7,openstack/cinder,master,driver_exceptions,I5bc8a1b2c4175dbfb249f7aa31ba50a4009dd9d7,move Hyperscale exceptions to driver,MERGED,2019-05-03 17:49:41.000000000,2019-05-30 18:41:20.000000000,2019-05-23 21:10:10.000000000,81,65,4,656994,c3f6ccbe8d73c16847cc26c6364032b191fd028a,154,43,4,5,5997,Walt,walter-boring,"move Hyperscale exceptions to driver

This patch moves the Veritas Hyperscale specific exceptions to it's
own exceptions file in the veritas directory.

Change-Id: I5bc8a1b2c4175dbfb249f7aa31ba50a4009dd9d7
"
openstack%2Fcinder~master~I632e5f986f58d6790d722aaa7c0a9fef2a42d29c,openstack/cinder,master,driver_exceptions,I632e5f986f58d6790d722aaa7c0a9fef2a42d29c,move cisco zonemanager exception,MERGED,2019-05-09 18:04:05.000000000,2019-05-30 18:41:15.000000000,2019-05-24 02:38:02.000000000,35,17,0,658167,cf49fc7a9039db6fcc9824dd46f05e26a3e6c3d6,116,40,4,6,5997,Walt,walter-boring,"move cisco zonemanager exception

This patch moves the cisco zonemanager exception to the new
cisco/exception.py file.

Change-Id: I632e5f986f58d6790d722aaa7c0a9fef2a42d29c
"
openstack%2Fcinder~master~I78c7e0cb076405d37c9bd54576cec735986a0f38,openstack/cinder,master,3par_multiattach,I78c7e0cb076405d37c9bd54576cec735986a0f38,HPE 3PAR-Added support for multiattach feature in hpe3par cinder driver,MERGED,2019-05-16 06:05:23.000000000,2019-05-30 18:41:09.000000000,2019-05-20 20:07:21.000000000,6,2,1,659443,1926a035216ed156cdb28ea27774d4e1115eeee3,83,43,2,2,29502,Sneha Rai,sneharai,"HPE 3PAR-Added support for multiattach feature in hpe3par cinder driver

The 3PAR driver has long supported the ability to do
multiattach of volumes. This patch updates the
capability reporting to support multiattach.

Change-Id: I78c7e0cb076405d37c9bd54576cec735986a0f38
"
openstack%2Fcinder~master~I74494d1fff366ca92ed470cdb722eb68d4fce057,openstack/cinder,master,requirements,I74494d1fff366ca92ed470cdb722eb68d4fce057,Cap sphinx for py2 to match global reqs,MERGED,2019-05-14 18:48:45.000000000,2019-05-30 18:40:58.000000000,2019-05-16 16:21:45.000000000,2,1,0,659138,7af13ef613b637f8c29dc96092b4bee7e483db1a,48,27,3,1,11904,Sean McGinnis,SeanM,"Cap sphinx for py2 to match global reqs

Change-Id: I74494d1fff366ca92ed470cdb722eb68d4fce057
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fcinder~master~I220c83b3d751410150cb75db48437d4afab97f63,openstack/cinder,master,driver_exceptions,I220c83b3d751410150cb75db48437d4afab97f63,move Nexenta exception,MERGED,2019-05-08 17:33:57.000000000,2019-05-30 18:40:50.000000000,2019-05-20 20:34:54.000000000,50,50,0,657855,9c00ebbed0d18cc4a061ac1fbd7d1f7f3cddb4da,83,36,3,8,5997,Walt,walter-boring,"move Nexenta exception

This patch moves the nexenta specific exception to the nexenta
utils.py file.

Change-Id: I220c83b3d751410150cb75db48437d4afab97f63
"
openstack%2Fcinder~master~I61cda4dab24e1f6065e9e78e5b956fbd953fd332,openstack/cinder,master,driver_exceptions,I61cda4dab24e1f6065e9e78e5b956fbd953fd332,move xtremio exceptions,MERGED,2019-05-08 19:10:03.000000000,2019-05-30 18:40:47.000000000,2019-05-14 01:02:37.000000000,22,23,1,657871,b986a241d01afc5d2f65aeaee8f4c05b45b50620,153,35,2,3,5997,Walt,walter-boring,"move xtremio exceptions

This patch moves the xtremio exceptions to the driver.

Change-Id: I61cda4dab24e1f6065e9e78e5b956fbd953fd332
"
openstack%2Fcinder~master~I5b1c285680f7c3256a707ea5973573f1176d4a26,openstack/cinder,master,requirements-fix,I5b1c285680f7c3256a707ea5973573f1176d4a26,Make sure we install cinder requirements during the correct tox phase,MERGED,2019-05-08 20:12:04.000000000,2019-05-30 18:40:40.000000000,2019-05-08 22:49:18.000000000,1,0,0,657881,f12fda8ffbb42e71108701b38c09618997b836c3,31,25,1,1,12898,Tony Breeds,tonyb,"Make sure we install cinder requirements during the correct tox phase

When runnign tests under tox the virtualenv is created in a number of
phases (in brush strokes)
0. virtualenv -p $python .tox/$dir
1. pip install $deps
2. pip install .

Step 2 is run without any deps as they're all supposed to be installed
in phase 2

We have constraints in 'deps' we need to install all of cinders
requirements during phase 2.  If we don't then we get unconstrained
versions being installed during phase 2.

This shows up in a py27 run[1] as the absence of taskflow, and then in
[2] with new dependancies being installed

[1] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-1.log
[2] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-2.log

Change-Id: I5b1c285680f7c3256a707ea5973573f1176d4a26
"
openstack%2Fcinder~stable%2Fqueens~I9ad8c610f0512bdcbf2eff210a02abf8f88c425a,openstack/cinder,stable/queens,bug/1775649-stable/queens,I9ad8c610f0512bdcbf2eff210a02abf8f88c425a,Dell EMC: SC FC Driver wwns api response in lower,MERGED,2019-05-08 14:36:34.000000000,2019-05-30 18:40:38.000000000,2019-05-14 15:42:20.000000000,50,43,0,657826,e32ecf6cd6fd97f99b85e5c3472de918647447d7,72,26,1,2,29466,snecklifter,snecker,"Dell EMC: SC FC Driver wwns api response in lower

Fixed the SC api to return the wwns in lower case
so os-brick rescan targets can return the right port
names.

Closes Bug: #1775649
Co-Authored-By: KC Bi <kecheng.bi@dell.com>

Change-Id: I9ad8c610f0512bdcbf2eff210a02abf8f88c425a
(cherry picked from commit 30182a55d5055e0885969d2bd3452217b30f5892)
"
openstack%2Fcinder~stable%2Focata~I77ed6e3caa5553193c3d886d86c52d23eb87b429,openstack/cinder,stable/ocata,,I77ed6e3caa5553193c3d886d86c52d23eb87b429,Remove LOCI publishing from the post pipeline,MERGED,2019-05-07 16:31:47.000000000,2019-05-30 18:40:35.000000000,2019-05-08 21:03:05.000000000,0,3,0,657639,21c5bca7f2e674f959a0d452158e1261095755da,43,19,1,1,11904,Sean McGinnis,SeanM,"Remove LOCI publishing from the post pipeline

Due to transitive rights changes in Zuul, the LOCI job that was
publishing Cinder containers after every build is now causing an error
when building the post pipeline graph that causes all post jobs to be
skipped. This removes the job for now until a better solution is found
by the team.

Change-Id: I77ed6e3caa5553193c3d886d86c52d23eb87b429
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 67cb1bde74da0d175b78bd73df6ca274c50a6e88)
(cherry picked from commit bd707cbdd63969f5241ca9b3a6c0733c13a7dbfe)
"
openstack%2Fcinder~master~I24a25e9f9d34ec078bdaff8f10c5a722e0204c09,openstack/cinder,master,,I24a25e9f9d34ec078bdaff8f10c5a722e0204c09,Removes drbdmanage as a requirement for drbdmanage driver,MERGED,2019-05-07 15:39:20.000000000,2019-05-30 18:40:32.000000000,2019-05-09 11:36:25.000000000,0,1,0,657630,1c72c38ee39e8e9f199e7a54729f283f40506e51,91,38,1,1,28940,Woojay Poynter,woojay,"Removes drbdmanage as a requirement for drbdmanage driver

This helps with transitioning to pypi available driver
packages.  The driver is also in the process of being
replaced by LINSTOR driver.

Change-Id: I24a25e9f9d34ec078bdaff8f10c5a722e0204c09
"
openstack%2Fcinder~master~I285cc12a28f8648a9aecd47c82a7695f5f2e4f00,openstack/cinder,master,stein_upgrade_checks,I285cc12a28f8648a9aecd47c82a7695f5f2e4f00,Add Upgrade Check for Drivers Removed in Stein,MERGED,2019-04-02 02:00:57.000000000,2019-05-30 18:39:59.000000000,2019-05-30 15:14:22.000000000,101,0,26,649209,e78e05c95dcb01336811a503c4292ac528959b8d,270,44,12,4,7198,Jay Bryant,jsbryant,"Add Upgrade Check for Drivers Removed in Stein

This patch adds a check for configuration of CoprHD,
HGST and ITRI DISCO drivers which were all removed
in the Stein release.  The upgrade check will fail if
any of these drivers are configured in enabled_backends.

Change-Id: I285cc12a28f8648a9aecd47c82a7695f5f2e4f00
Co-authored-by: Brian Rosmaita <romaita.fossdev@gmail.com>
"
openstack%2Fcinder~master~I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d,openstack/cinder,master,stein_upgrade_checks,I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d,Add upgrade check for Windows iSCSI driver.,MERGED,2019-04-01 21:29:46.000000000,2019-05-30 18:39:56.000000000,2019-05-24 16:50:29.000000000,88,0,11,649193,bc18906f01b10ca21a68b0b760503436caa4f91a,251,45,12,4,7198,Jay Bryant,jsbryant,"Add upgrade check for Windows iSCSI driver.

The WindowsDriver was renamed in the Queens release to
WindowsISCSIDriver to avoid confusion with the SMB driver.
The backwards compatibility for this has now been removed, so
any cinder.conf settings still using
cinder.volume.drivers.windows.windows.WindowsDriver
must now be updated to use
cinder.volume.drivers.windows.iscsi.WindowsISCSIDriver.

The change includes the addtion of a function to get the
enabled_drivers for a system as it is likely that the
functionality will be useful for multiple update checks
in the future.

Change-Id: I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d
"
openstack%2Fcinder~master~I56fc03affc9c2c47cbc0e38a66aa8b86f56d1499,openstack/cinder,master,nested-quota,I56fc03affc9c2c47cbc0e38a66aa8b86f56d1499,Deprecate NestedDbQuotaDriver for nested quotas,MERGED,2019-05-07 01:34:30.000000000,2019-05-30 18:39:47.000000000,2019-05-23 14:09:11.000000000,62,0,0,657511,8fbfe923bd99760293117dea47040c77746bc2d5,83,43,2,6,11904,Sean McGinnis,SeanM,"Deprecate NestedDbQuotaDriver for nested quotas

This driver does not appear to be used and all projects will be
switching over to the keystone supported unified limits quota mechanism.
To prepare for switching quota handling to this new code, we want to
deprecate the driver now so we can remove the code and not need to
refactor it into the new handling.

Change-Id: I56fc03affc9c2c47cbc0e38a66aa8b86f56d1499
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fcinder~stable%2Fstein~Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,openstack/cinder,stable/stein,bug/1829398-stable/stein,Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,"Fix ""connector=None"" issue in Kaminario drivers",MERGED,2019-05-22 00:42:27.000000000,2019-05-30 18:39:39.000000000,2019-05-23 22:30:49.000000000,47,4,0,660539,520e6e06593393b845384fbf39b9b81f116c6a64,24,16,1,4,16258,nikesh,nikem,"Fix ""connector=None"" issue in Kaminario drivers

Currently, Kaminario Cinder FC and iSCSI volume drivers are not
handling ""connector=None"" in the terminate_connection. This causes
the failure of the following tempest test:
test_volumes_actions.VolumesActionsTest.test_force_detach_volume

This patch handles ""connector=None"" in the terminate_connection
for Kaminario Cinder FC and iSCSI volume drivers.

Change-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a
Closes-Bug: #1829398
Co-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>
(cherry picked from commit 49331b2bb6fc8154343fe2655a0c57e814cf4f7a)
"
openstack%2Fcinder~master~Ia60404f37d523671f9862f1aca3fe5732570a55f,openstack/cinder,master,driver_exceptions,Ia60404f37d523671f9862f1aca3fe5732570a55f,move purestorage driver exceptions,MERGED,2019-05-21 20:10:28.000000000,2019-05-30 18:39:36.000000000,2019-05-23 09:31:09.000000000,56,58,0,660506,2bbd7d87a745d06651960bcfdb27957d8faabe95,48,29,1,3,5997,Walt,walter-boring,"move purestorage driver exceptions

This patch moves the purestorage exceptions to the driver file.

Change-Id: Ia60404f37d523671f9862f1aca3fe5732570a55f
"
openstack%2Fcinder~master~Ifa04e1f8f9e09c83a6bed16daecda51863ea3bcb,openstack/cinder,master,driver_exceptions,Ifa04e1f8f9e09c83a6bed16daecda51863ea3bcb,move storpool exception,MERGED,2019-05-08 18:58:08.000000000,2019-05-30 18:39:34.000000000,2019-05-22 03:31:28.000000000,8,9,0,657868,d67105c7f478c00248422109757f3e361cf3a32b,156,41,4,3,5997,Walt,walter-boring,"move storpool exception

This patch moves the storpool driver exception to the driver.

Change-Id: Ifa04e1f8f9e09c83a6bed16daecda51863ea3bcb
"
openstack%2Fcinder~master~Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,openstack/cinder,master,bug/1829398,Id0e9c235d7260081da20ef7ced7ad28d42e3e03a,"Fix ""connector=None"" issue in Kaminario drivers",MERGED,2019-05-20 09:28:31.000000000,2019-05-30 18:39:25.000000000,2019-05-21 23:08:18.000000000,47,4,8,660062,49331b2bb6fc8154343fe2655a0c57e814cf4f7a,134,36,4,4,16258,nikesh,nikem,"Fix ""connector=None"" issue in Kaminario drivers

Currently, Kaminario Cinder FC and iSCSI volume drivers are not
handling ""connector=None"" in the terminate_connection. This causes
the failure of the following tempest test:
test_volumes_actions.VolumesActionsTest.test_force_detach_volume

This patch handles ""connector=None"" in the terminate_connection
for Kaminario Cinder FC and iSCSI volume drivers.

Change-Id: Id0e9c235d7260081da20ef7ced7ad28d42e3e03a
Closes-Bug: #1829398
Co-Authored-By: Srinivas Dasthagiri <srinivasd@biarca.com>
"
openstack%2Fcinder~master~Ia007916c46a7912f3ecb7791cc7c9fcc22d6d9d5,openstack/cinder,master,driver_exceptions,Ia007916c46a7912f3ecb7791cc7c9fcc22d6d9d5,move vzstorage exceptions,MERGED,2019-05-09 18:43:52.000000000,2019-05-30 18:39:23.000000000,2019-05-21 10:56:12.000000000,28,30,0,658180,b97670549b933d614388679702c6029aad09dd02,66,35,2,3,5997,Walt,walter-boring,"move vzstorage exceptions

This patch moves the vzstorage driver specific exceptions to the driver.

Change-Id: Ia007916c46a7912f3ecb7791cc7c9fcc22d6d9d5
"
openstack%2Fcinder~master~Id4f7de01416cac48df31c6181befd0cd8c626631,openstack/cinder,master,init_vendor_properties,Id4f7de01416cac48df31c6181befd0cd8c626631,LOG _init_vendor_properites,MERGED,2019-05-17 19:30:49.000000000,2019-05-30 18:39:15.000000000,2019-05-22 03:31:59.000000000,1,0,0,659872,d35e8565f4da2fed52442bd7758298b527537d1f,58,33,2,1,5997,Walt,walter-boring,"LOG _init_vendor_properites

This patch adds an info log in _init_vendor_properties that will get
called when a driver doesn't directly implement the method.  It's
not currently required, but we want to highly encourage drivers
to implement this method and expose the capabilites the driver
supports, so admins can discover what extra specs are available.

Change-Id: Id4f7de01416cac48df31c6181befd0cd8c626631
"
openstack%2Fcinder~master~Ic813445cb5d55edb68ca8e756b9350ca7e8a1270,openstack/cinder,master,pure_iscsi_cidr,Ic813445cb5d55edb68ca8e756b9350ca7e8a1270,Pure Storage FlashArray iSCSI driver target CIDR support,MERGED,2019-05-14 22:18:44.000000000,2019-05-30 18:39:00.000000000,2019-05-26 03:21:24.000000000,36,3,4,659178,23cfc6efab58b239b37c6bdd16852239810dbbac,151,38,8,3,13425,Simon Dodsley,sdodsley,"Pure Storage FlashArray iSCSI driver target CIDR support

Add new configuration parameter to allow user to specify
the CIDR of iSCSI targets on a FlashArray that can be
connected to.
This allows a FlashArray to have targets in multiple VLANs
and Cinder not try to connect to inaccesible targets which
can cause serious timeouts when connecting Cinder volumes
to hosts.
Default setting will be 0.0.0.0/0 which allow connection
to any live iSCSI target.

Change-Id: Ic813445cb5d55edb68ca8e756b9350ca7e8a1270
"
openstack%2Fcinder~master~Ia3c09e662b3c13583bcaec51ceb2233b5597ffd7,openstack/cinder,master,,Ia3c09e662b3c13583bcaec51ceb2233b5597ffd7,Removes python-linstor as a requirement for LINSTOR driver,MERGED,2019-05-08 17:41:19.000000000,2019-05-30 18:38:58.000000000,2019-05-16 21:28:14.000000000,0,2,2,657856,846b6d388a6626aab9cd638f46cae8e8d29fda74,96,36,2,1,28940,Woojay Poynter,woojay,"Removes python-linstor as a requirement for LINSTOR driver

This helps with Cinder transitioning to pypi
available driver packages.

Change-Id: Ia3c09e662b3c13583bcaec51ceb2233b5597ffd7
"
openstack%2Fcinder~master~I5a7ccd21cf83c068bddd62fc8e35cf60aa39d14f,openstack/cinder,master,py3_deprecations,I5a7ccd21cf83c068bddd62fc8e35cf60aa39d14f,Handle collections.abc deprecations,MERGED,2019-04-09 21:40:07.000000000,2019-05-30 18:38:52.000000000,2019-05-17 20:57:50.000000000,48,22,6,651391,920a87866b3a9b41b2808142aece4705d9939266,107,39,2,7,11904,Sean McGinnis,SeanM,"Handle collections.abc deprecations

The use of ABC classes directly from collections has been deprecated in
3.x versions of Python. The direction is to use the classes defined in
collections.abc. Python 2.7 does not have this, but Python 3.8 will be
dropping the backwards compatibility to use the old location.

Six also does not have support for this yet, so in the mean time to make
sure we don't run into issues as folks try to move to 3.8, and to get
rid of deprecation warnings in logs, this handles importing from the
preferred location and falls back if it not available.

Change-Id: I5a7ccd21cf83c068bddd62fc8e35cf60aa39d14f
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fcinder~stable%2Fqueens~I1d7ee395c89beda0e50cbe26b4abb4fc7749e15e,openstack/cinder,stable/queens,bug/1801316,I1d7ee395c89beda0e50cbe26b4abb4fc7749e15e,Change the matching method of the backup driver,MERGED,2019-04-26 20:28:59.000000000,2019-05-30 18:38:49.000000000,2019-05-15 20:12:08.000000000,47,21,10,656010,66133741602924c4a6509277bcb33a2f2aa042d1,71,25,6,2,20813,Sofia Enriquez,enriquetaso,"Change the matching method of the backup driver

The backup driver name is configured uniformly from the Stein version.
For example, support for
'cinder.backup.drivers.service.ServiceBackupDriver' does not support
'cinder.backup.drivers.service'.

However, the above two backup drivers are supported in a stable version
before Rocky (including Rocky).

For the same storage backend, if the backup driver used to create the
backup file is 'cinder.backup.drivers.service.ServiceBackupDriver',
the backup driver configured when restoring the backup is
'cinder.backup.drivers.service'. The recovery of the backup file will
fail because the drivers do not match.

Therefore, the processing of this method needs to be compatible with the
backup driver for different configurations of the same backend.

The above 'service' is a proxy, it can be one of {'swift', 'nfs',
'ceph', 'glusterfs', 'google', 'tsm', 'posix'}

Closes-Bug: #1801316
Part of this backup comes from Change-Id:
If1e34ea112b0cff328a58ec2fc9c3f5a5005f1c6
Change-Id: I1d7ee395c89beda0e50cbe26b4abb4fc7749e15e
(cherry picked from commit b90a13d07dcf230a509cc93a4c864a20494cf5e7)
Conflicts:
    cinder/backup/manager.py
"
openstack%2Fcinder~stable%2Fpike~I5b1c285680f7c3256a707ea5973573f1176d4a26,openstack/cinder,stable/pike,,I5b1c285680f7c3256a707ea5973573f1176d4a26,Make sure we install cinder requirements during the correct tox phase,MERGED,2019-05-13 20:35:25.000000000,2019-05-30 18:38:47.000000000,2019-05-30 17:47:32.000000000,3,2,0,658916,6b2f7470c68cb25e1d28f9f8fbbca66f6142ff0f,19,15,1,1,6593,Dirk Mueller,dmllr,"Make sure we install cinder requirements during the correct tox phase

When runnign tests under tox the virtualenv is created in a number of
phases (in brush strokes)
0. virtualenv -p $python .tox/$dir
1. pip install $deps
2. pip install .

Step 2 is run without any deps as they're all supposed to be installed
in phase 2

We have constraints in 'deps' we need to install all of cinders
requirements during phase 2.  If we don't then we get unconstrained
versions being installed during phase 2.

This shows up in a py27 run[1] as the absence of taskflow, and then in
[2] with new dependancies being installed

[1] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-1.log
[2] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-2.log

Change-Id: I5b1c285680f7c3256a707ea5973573f1176d4a26
(cherry picked from commit f12fda8ffbb42e71108701b38c09618997b836c3)
(cherry picked from commit aecb6100e296aed7235635a5b18a0835fd2aca34)
(cherry picked from commit 81bf9537018486b9c4ef7985daaec901fbdc2a1b)
(cherry picked from commit ad8e3dc8aba932793ad2c1c9711cd310c5e5e0f3)
"
openstack%2Fcinder~stable%2Frocky~I5b1c285680f7c3256a707ea5973573f1176d4a26,openstack/cinder,stable/rocky,,I5b1c285680f7c3256a707ea5973573f1176d4a26,Make sure we install cinder requirements during the correct tox phase,MERGED,2019-05-13 20:21:54.000000000,2019-05-30 18:38:44.000000000,2019-05-14 01:33:54.000000000,3,2,0,658913,81bf9537018486b9c4ef7985daaec901fbdc2a1b,16,12,1,1,6593,Dirk Mueller,dmllr,"Make sure we install cinder requirements during the correct tox phase

When runnign tests under tox the virtualenv is created in a number of
phases (in brush strokes)
0. virtualenv -p $python .tox/$dir
1. pip install $deps
2. pip install .

Step 2 is run without any deps as they're all supposed to be installed
in phase 2

We have constraints in 'deps' we need to install all of cinders
requirements during phase 2.  If we don't then we get unconstrained
versions being installed during phase 2.

This shows up in a py27 run[1] as the absence of taskflow, and then in
[2] with new dependancies being installed

[1] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-1.log
[2] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-2.log

Change-Id: I5b1c285680f7c3256a707ea5973573f1176d4a26
(cherry picked from commit f12fda8ffbb42e71108701b38c09618997b836c3)
(cherry picked from commit aecb6100e296aed7235635a5b18a0835fd2aca34)
"
openstack%2Fcinder~master~I02d1401314c9219f3f61c423dbc5b68044263105,openstack/cinder,master,fix-typo,I02d1401314c9219f3f61c423dbc5b68044263105,Correct typo in api-ref,MERGED,2019-05-10 19:19:27.000000000,2019-05-30 18:38:41.000000000,2019-05-10 23:13:06.000000000,1,1,0,658457,c7d92f456f5166d84d02a40d71db82f74c917dbd,31,24,1,1,5314,Brian Rosmaita,brian-rosmaita,"Correct typo in api-ref

The 'os-' prefix is incorrectly written as 'is-' in one place (yes,
I checked, doesn't seem to occur anywhere else).

Change-Id: I02d1401314c9219f3f61c423dbc5b68044263105
"
openstack%2Fcinder~master~I4bed2917bdb7d9929c0fbfa2dcfe4067cb3d963f,openstack/cinder,master,driver_exceptions,I4bed2917bdb7d9929c0fbfa2dcfe4067cb3d963f,move netapp exception,MERGED,2019-05-08 21:22:26.000000000,2019-05-30 18:38:38.000000000,2019-05-20 21:05:31.000000000,43,44,1,657889,b260260779f358f78359ab46842e5f6031dd93ac,87,39,3,13,5997,Walt,walter-boring,"move netapp exception

This patch moves the netapp exception to the netapp/utils.py
for common use among all the netapp drivers.

Change-Id: I4bed2917bdb7d9929c0fbfa2dcfe4067cb3d963f
"
openstack%2Fcinder~master~I18925ae7c8d10588b810a7ac5371b81c98227306,openstack/cinder,master,driver_exceptions,I18925ae7c8d10588b810a7ac5371b81c98227306,move NVMEOF exception to target file,MERGED,2019-05-03 16:05:16.000000000,2019-05-30 18:38:36.000000000,2019-05-21 10:56:16.000000000,8,7,2,656976,1538251464826034613ce6b711761689308442c2,96,40,3,3,5997,Walt,walter-boring,"move NVMEOF exception to target file

This patch moves the NVMEof specific exception from
cinder/exception to the target driver file itself.

Change-Id: I18925ae7c8d10588b810a7ac5371b81c98227306
"
openstack%2Fcinder~master~I5c7aeb6cc663d7157d7bb14442fc4f8df5e60754,openstack/cinder,master,driver_exceptions,I5c7aeb6cc663d7157d7bb14442fc4f8df5e60754,move 3par exception,MERGED,2019-05-09 19:10:49.000000000,2019-05-30 18:38:33.000000000,2019-05-13 06:38:13.000000000,10,11,0,658189,73adbf564c862c67285121a86a10afb2353485bb,74,36,2,3,5997,Walt,walter-boring,"move 3par exception

This patch moves the 3par driver exception to the hpe_3par_common file.

Change-Id: I5c7aeb6cc663d7157d7bb14442fc4f8df5e60754
"
openstack%2Fcinder~master~I4993878b0b86e3b25ee6a7d86b7a406023f20118,openstack/cinder,master,doc_fix,I4993878b0b86e3b25ee6a7d86b7a406023f20118,Update doc for missed quotation marks,MERGED,2019-05-10 10:01:24.000000000,2019-05-30 18:38:30.000000000,2019-05-10 13:46:58.000000000,2,2,0,658320,a30fd0276babf566d25aeb4272342ae8e096a472,27,21,1,1,8037,renminmin,renminmin,"Update doc for missed quotation marks

Update doc for missed quotation marks

Change-Id: I4993878b0b86e3b25ee6a7d86b7a406023f20118
"
openstack%2Fcinder~master~I925d4261214c9845e859dfc3c211ef1215ceadf3,openstack/cinder,master,,I925d4261214c9845e859dfc3c211ef1215ceadf3,Remove driver requirements of removed drivers,MERGED,2019-05-08 11:06:01.000000000,2019-05-30 18:38:27.000000000,2019-05-29 20:59:58.000000000,0,6,2,657777,8b4ca85883f643a08cd084668ce595c75da4da7c,69,38,3,1,27615,Rajat Dhasmana,whoami-rajat,"Remove driver requirements of removed drivers

As of I935990d09f1374a8789b2a0dad8e8a334aa39abc  and 
e15a21e72b818da9623c210344d4414c59bf99be Violin and DataCore
drivers were removed but their dependent requirements still exist.
This patch removes the same.

Change-Id: I925d4261214c9845e859dfc3c211ef1215ceadf3
"
openstack%2Fcinder~master~I2eaac05c1ac1872d184c29ef25bca5d59edb50cb,openstack/cinder,master,driver_exceptions,I2eaac05c1ac1872d184c29ef25bca5d59edb50cb,move solidfire driver exceptions,MERGED,2019-05-09 19:45:26.000000000,2019-05-30 18:38:22.000000000,2019-05-10 13:46:55.000000000,81,82,0,658198,1b86192584eaf009c30ec9d8bd18c4870a57382b,30,23,1,3,5997,Walt,walter-boring,"move solidfire driver exceptions

This patch moves the solidfire driver exceptions to the driver.

Change-Id: I2eaac05c1ac1872d184c29ef25bca5d59edb50cb
"
openstack%2Fcinder~master~I00d95069786eab263c788457c35c31ee1d2d1912,openstack/cinder,master,,I00d95069786eab263c788457c35c31ee1d2d1912,Add python37 job,MERGED,2019-04-25 04:52:23.000000000,2019-05-30 18:38:16.000000000,2019-05-13 13:10:25.000000000,5,0,9,655612,7a944b91f2db6126372462c66092a241e18f8886,138,40,6,2,27615,Rajat Dhasmana,whoami-rajat,"Add python37 job

Since we've entered Train and the runtime proposed include py37[1],
we need to include it in gate as well as local env.
This patch adds the support for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I00d95069786eab263c788457c35c31ee1d2d1912
"
openstack%2Fcinder~master~I70a9e11e76c9bb79295913b7a63fa428a5f16178,openstack/cinder,master,driver_exceptions,I70a9e11e76c9bb79295913b7a63fa428a5f16178,remove unused exceptions,MERGED,2019-05-08 19:51:27.000000000,2019-05-30 18:38:13.000000000,2019-05-10 07:54:56.000000000,0,10,0,657878,44a7889025c418048ba3edcc4aabbd106072edf1,46,31,1,1,5997,Walt,walter-boring,"remove unused exceptions

This patch removes 2 unused EMC VNX exceptions.

Change-Id: I70a9e11e76c9bb79295913b7a63fa428a5f16178
"
openstack%2Fcinder~master~Ib1875c5ee99d6159ead7be620e75c5f2a8a5a164,openstack/cinder,master,driver_exceptions,Ib1875c5ee99d6159ead7be620e75c5f2a8a5a164,move sheepdog exception,MERGED,2019-05-08 17:53:29.000000000,2019-05-30 18:38:10.000000000,2019-05-20 21:33:33.000000000,78,79,0,657859,4454b7c4456ff13c2b0eee6e3c665621bbd4ad26,51,36,1,3,5997,Walt,walter-boring,"move sheepdog exception

This patch moves the sheepdog exception to the sheepdog driver

Change-Id: Ib1875c5ee99d6159ead7be620e75c5f2a8a5a164
"
openstack%2Fcinder~master~I5612e9cddfcf6728a73239fffda5c3c489f1271d,openstack/cinder,master,dict_get,I5612e9cddfcf6728a73239fffda5c3c489f1271d,Use assertNotIn to check dict item,MERGED,2019-05-08 08:55:41.000000000,2019-05-30 18:38:08.000000000,2019-05-16 06:42:14.000000000,5,5,0,657759,466f08b679ddcfb7841b3b1cb1baf002625cdfab,54,33,1,1,20190,zhufl,zhufl,"Use assertNotIn to check dict item

As I634dca85b378ea42bd2e49aeb12aadea59a929fd shows, we should
use assertNotIn to check dict item, instead of assertIsNone of
dict.get()

Change-Id: I5612e9cddfcf6728a73239fffda5c3c489f1271d
"
openstack%2Fcinder~master~I9f881f88a1574b6b392e71ddf2f68d4aa7313793,openstack/cinder,master,driver_exceptions,I9f881f88a1574b6b392e71ddf2f68d4aa7313793,move Google backup exceptions,MERGED,2019-05-07 20:40:19.000000000,2019-05-30 18:38:05.000000000,2019-05-09 22:02:09.000000000,19,19,0,657684,fe32529d5dab460fdfcf47b93ab92b0758828e59,61,36,1,3,5997,Walt,walter-boring,"move Google backup exceptions

This patch moves the Google backup driver exceptions
to the gcs.py file

Change-Id: I9f881f88a1574b6b392e71ddf2f68d4aa7313793
"
openstack%2Fcinder~stable%2Fpike~I77ed6e3caa5553193c3d886d86c52d23eb87b429,openstack/cinder,stable/pike,,I77ed6e3caa5553193c3d886d86c52d23eb87b429,Remove LOCI publishing from the post pipeline,MERGED,2019-05-07 16:28:39.000000000,2019-05-30 18:38:02.000000000,2019-05-08 15:41:42.000000000,0,3,0,657637,bd707cbdd63969f5241ca9b3a6c0733c13a7dbfe,27,23,1,1,11904,Sean McGinnis,SeanM,"Remove LOCI publishing from the post pipeline

Due to transitive rights changes in Zuul, the LOCI job that was
publishing Cinder containers after every build is now causing an error
when building the post pipeline graph that causes all post jobs to be
skipped. This removes the job for now until a better solution is found
by the team.

Change-Id: I77ed6e3caa5553193c3d886d86c52d23eb87b429
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 67cb1bde74da0d175b78bd73df6ca274c50a6e88)
"
openstack%2Fcinder~stable%2Frocky~I77ed6e3caa5553193c3d886d86c52d23eb87b429,openstack/cinder,stable/rocky,,I77ed6e3caa5553193c3d886d86c52d23eb87b429,Remove LOCI publishing from the post pipeline,MERGED,2019-05-07 16:28:07.000000000,2019-05-30 18:38:00.000000000,2019-05-08 05:48:39.000000000,0,3,0,657635,33742fff108d40bebb4ef313f60ffc8e829f8a04,58,22,1,1,11904,Sean McGinnis,SeanM,"Remove LOCI publishing from the post pipeline

Due to transitive rights changes in Zuul, the LOCI job that was
publishing Cinder containers after every build is now causing an error
when building the post pipeline graph that causes all post jobs to be
skipped. This removes the job for now until a better solution is found
by the team.

Change-Id: I77ed6e3caa5553193c3d886d86c52d23eb87b429
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 67cb1bde74da0d175b78bd73df6ca274c50a6e88)
"
openstack%2Fcinder~master~I56fa1811dbfc0423db569c233118e99bbb76d553,openstack/cinder,master,driver_exceptions,I56fa1811dbfc0423db569c233118e99bbb76d553,Remove unused exception,MERGED,2019-05-06 19:09:00.000000000,2019-05-30 18:37:57.000000000,2019-05-07 15:26:45.000000000,0,4,0,657437,779979789c12d66686fd1fe163bf963c00502136,61,37,1,1,5997,Walt,walter-boring,"Remove unused exception

This patch removes an unused exception InvalidAttachment

Change-Id: I56fa1811dbfc0423db569c233118e99bbb76d553
"
openstack%2Fcinder~master~Ie75babd057d71e31b442485d64eba8b2dc0b1809,openstack/cinder,master,driver_exceptions,Ie75babd057d71e31b442485d64eba8b2dc0b1809,Move NVMET driver exceptions to driver file,MERGED,2019-05-03 15:13:57.000000000,2019-05-30 18:37:54.000000000,2019-05-09 21:37:45.000000000,12,15,2,656957,4dfca46ce807598d801e54473dff69f7dbcaf6b3,66,39,3,3,5997,Walt,walter-boring,"Move NVMET driver exceptions to driver file

This patch migrates the NVMET driver specific exceptions from
the cinder/exception.py file to the respective driver.

Change-Id: Ie75babd057d71e31b442485d64eba8b2dc0b1809
"
openstack%2Fcinder~master~I3fea5d24692be8b8575379aff7b75a5479f314ef,openstack/cinder,master,slash,I3fea5d24692be8b8575379aff7b75a5479f314ef,[Trivial fix]Remove unnecessary slash,MERGED,2019-05-05 09:33:32.000000000,2019-05-30 18:37:51.000000000,2019-05-30 15:59:29.000000000,23,34,4,657219,27afe7147681d7d7798de03ffdf710d20217513b,106,37,3,9,20190,zhufl,zhufl,"[Trivial fix]Remove unnecessary slash

This is to remove the unncessary slash when the line doesn't
exceed the length of 79, to make the code more readable.

Change-Id: I3fea5d24692be8b8575379aff7b75a5479f314ef
"
openstack%2Fcinder~stable%2Fqueens~If6b5ad23c899032dbf7535ed91251cbfe54a223a,openstack/cinder,stable/queens,bug/1806398,If6b5ad23c899032dbf7535ed91251cbfe54a223a,NetApp: Return all iSCSI targets-portals,MERGED,2019-04-09 10:13:07.000000000,2019-05-30 18:37:43.000000000,2019-05-17 14:39:55.000000000,120,115,1,651184,7cc7322a0fb5a9c7f965bdf80de4c0cf71fdfe37,35,19,2,10,21570,pcaruana,pcaruana,"NetApp: Return all iSCSI targets-portals

NetApp iSCSI drivers use discovery mode for multipathing, which means
that we'll fail to attach a volume if the IP provided for the discovery
is not accessible from the host.

Something similar would happen when using singlepath, as we are only
trying to connect to one target/portal.

This patch changes NetApp drivers so the return target_iqns,
target_portals, and target_luns parameters whenever there are more than
one option.

Changes to be committed:
modified:   cinder/volume/drivers/netapp/eseries/library.py
As part eseries driver  code is still in the tree.  Need to propose
an additional patch to the stable branch, notice that patch
would not be in master, even though both have the same issue.

Closes-Bug: #1806398
Change-Id: If6b5ad23c899032dbf7535ed91251cbfe54a223a
(cherry picked from commit c65869626594522231709d9c90a30524a1f0d18c)
(cherry picked from commit dee7292b0849e3d6e28941c8d203dfd39692f0c6)
(cherry picked from commit 8be2bb6d2a31b157a5247de9068806fd11ac4075)
"
openstack%2Fcinder~master~Id03022b2871cbb13a9c80521dff21f52b06d5b69,openstack/cinder,master,driver_exceptions,Id03022b2871cbb13a9c80521dff21f52b06d5b69,move smbfs exceptions,MERGED,2019-05-09 18:54:06.000000000,2019-05-30 18:37:40.000000000,2019-05-20 20:34:49.000000000,23,24,0,658185,7e038bc2e94ce65aa3a004632dcc867b4aee59ae,44,32,1,3,5997,Walt,walter-boring,"move smbfs exceptions

This patch moves the smbfs driver exceptions to the driver.

Change-Id: Id03022b2871cbb13a9c80521dff21f52b06d5b69
"
openstack%2Fcinder~master~I2a36a4b501fbeba07ef5adaa80171337066d58ce,openstack/cinder,master,driver_exceptions,I2a36a4b501fbeba07ef5adaa80171337066d58ce,move synology driver exceptions,MERGED,2019-05-06 20:02:21.000000000,2019-05-30 18:37:37.000000000,2019-05-09 12:18:44.000000000,66,68,0,657446,467b0441d0ee8b1e1c69870b2adec579be120aec,42,35,1,5,5997,Walt,walter-boring,"move synology driver exceptions

This patch moves the synology driver exceptions to the
synology_common.py file.

Change-Id: I2a36a4b501fbeba07ef5adaa80171337066d58ce
"
openstack%2Fpuppet-tripleo~master~Iab5f11c3065ff34a3543621554e7f05161d069f2,openstack/puppet-tripleo,master,haproxy_stats_fix,Iab5f11c3065ff34a3543621554e7f05161d069f2,Fix tripleo::haproxy::stats to be more correct and flexible,MERGED,2019-05-18 19:22:33.000000000,2019-05-30 18:36:20.000000000,2019-05-30 16:48:14.000000000,22,9,0,659926,e76519d2c8324e71db1871e2a9219eb66d0ce5c4,26,5,4,2,20172,Michele Baldessari,michele,"Fix tripleo::haproxy::stats to be more correct and flexible

In this change we do three things:
1) We make the class parameter 'ip' also be a list so that multiple
   bind addresses are possible
2) We remove the hard coded 1993 and move it to a parameter
3) Instead of passing only the controller_virtual_ip as the only bind
   address on all controllers which makes no sense (see linked LP)
   we also bind to the IP specified in the hiera key
   'tripleo::haproxy::haproxy_stats_bind_address'.

Tested this change with the accompanying THT patch and correctly
got the haproxy stats on a custom network (internal_api and the
controller vip):

listen haproxy.stats
  bind fd00:fd00:fd00:2000::16:1993 transparent
  bind 192.168.24.15:1993 transparent
  mode http
  stats enable
  stats uri /
  stats auth admin:password

I did not remove the controller_virtual_ip binding as that might be
a breaking change for operators. We could think about deprecating it
and removing it eventually.

Related-Bug: #1830334
Change-Id: Iab5f11c3065ff34a3543621554e7f05161d069f2
"
openstack%2Fproject-config~master~I6a69ee28b4d2770c755e20ad7e720f1771905c56,openstack/project-config,master,infra-specs,I6a69ee28b4d2770c755e20ad7e720f1771905c56,Publish infra-specs on docs.opendev.org,MERGED,2019-05-30 16:47:42.000000000,2019-05-30 18:34:14.000000000,2019-05-30 18:34:14.000000000,9,4,0,662263,2013b9dc4952d7e3a4c10d34cb3ac03ea951f785,7,3,1,2,6547,Andreas Jaeger,jaegerandi,"Publish infra-specs on docs.opendev.org

Use the opendev tox-docs and publish job to publish the content on
docs.opendev.org.

Remove infra-specs from specs.openstack.org.

Change-Id: I6a69ee28b4d2770c755e20ad7e720f1771905c56
"
openstack%2Fnova~stable%2Fqueens~I9d6478f492351b58aa87b8f56e907ee633d6d1c6,openstack/nova,stable/queens,bug/1821594,I9d6478f492351b58aa87b8f56e907ee633d6d1c6,Add functional confirm_migration_error test,MERGED,2019-05-09 15:36:54.000000000,2019-05-30 18:33:51.000000000,2019-05-30 18:33:50.000000000,74,1,0,658136,944b24f462f8785a5c039efb74eec5310ef7729e,40,11,6,2,14567,Rodrigo Barbieri,ganso,"Add functional confirm_migration_error test

This test checks if allocations have been
successfully cleaned up upon the driver failing
during ""confirm_migration"".

NOTE(mriedem): The _wait_until_deleted helper method
is modified here to include the changes from patch
I4ced19bd9259f0b5a50b89dd5908abe35ca73894 in Rocky
otherwise the test fails.

Change-Id: I9d6478f492351b58aa87b8f56e907ee633d6d1c6
Related-bug: #1821594
(cherry picked from commit 873ac499c50125adc2fb49728d936922f9acf4a9)
(cherry picked from commit d7d7f115430c7ffeb88ec9dcd155ac69b29d7513)
(cherry picked from commit 01bfb7863c80c43538632952ec9f1728f0b412d6)
"
openstack%2Fnova~master~Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba,openstack/nova,master,bp/mox-removal-train,Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba,Remove mox in unit/network/test_neutronv2.py (12),MERGED,2018-06-18 02:09:23.000000000,2019-05-30 18:33:40.000000000,2019-05-30 18:33:40.000000000,112,102,0,576019,a6c50bf7e0ea909553b0f30316e9df4ed0745e66,296,12,33,1,7634,Takashi Natsume,natsumet,"Remove mox in unit/network/test_neutronv2.py (12)

Replace mox with mock in the following methods
in the TestNeutronv2 class
in nova/tests/unit/network/test_neutronv2.py.
Then moves the methods to the TestNeutronv2WithMock class.

* test_validate_networks_port_no_subnet_id
* test_validate_networks_no_subnet_id
* test_validate_networks_ports_in_same_network_enable
* test_validate_networks_ports_not_in_same_network
* test_validate_networks_no_quota

Change-Id: Iaeefc1bcfa7df5bfa863dd265840af343b0f76ba
Implements: blueprint mox-removal-train
"
openstack%2Fnova~master~Ifeac24ea65065575c2aaf7946835f70cdb763012,openstack/nova,master,bp/mox-removal-train,Ifeac24ea65065575c2aaf7946835f70cdb763012,Remove mox in unit/network/test_neutronv2.py (11),MERGED,2018-06-18 02:00:30.000000000,2019-05-30 18:33:28.000000000,2019-05-30 18:33:27.000000000,134,130,0,576018,04223519dd1051a10ba5e77889d8e13cd9a67dcb,282,12,33,1,7634,Takashi Natsume,natsumet,"Remove mox in unit/network/test_neutronv2.py (11)

Replace mox with mock in the following methods
in the TestNeutronv2 class
in nova/tests/unit/network/test_neutronv2.py.
Then moves the methods to the TestNeutronv2WithMock class.

* test_validate_networks_ex_1
* test_validate_networks_ex_2
* test_validate_networks_duplicate_enable
* test_validate_networks_not_specified
* test_validate_networks_port_not_found
* test_validate_networks_port_show_raises_non404
* test_validate_networks_port_in_use

The 'test_validate_networks_ex_1' test case was broken.
The expected behavior of the 'validate_networks' method is raising
the NetworkNotFound exception, but the exception was not raised.
so fix it.

Change-Id: Ifeac24ea65065575c2aaf7946835f70cdb763012
Implements: blueprint mox-removal-train
"
openstack%2Fnova~master~I68eb932c9db150c66f25d82ecdbeec277dbcaed6,openstack/nova,master,bp/mox-removal-train,I68eb932c9db150c66f25d82ecdbeec277dbcaed6,Remove mox in unit/network/test_neutronv2.py (10),MERGED,2018-06-18 01:47:45.000000000,2019-05-30 18:33:16.000000000,2019-05-30 18:33:16.000000000,142,111,0,576017,067cfcd45f4bbf9e099b50e389d441be68fb91f2,294,13,33,1,7634,Takashi Natsume,natsumet,"Remove mox in unit/network/test_neutronv2.py (10)

Replace mox with mock in the following methods
in the TestNeutronv2 class
in nova/tests/unit/network/test_neutronv2.py.
Then moves the methods to the TestNeutronv2WithMock class.

* _test_deallocate_port_for_instance
* test_deallocate_port_for_instance_1
* test_deallocate_port_for_instance_2
* test_list_ports
* test_show_port
* test_validate_networks
* test_validate_networks_without_port_quota_on_network_side

Change-Id: I68eb932c9db150c66f25d82ecdbeec277dbcaed6
Implements: blueprint mox-removal-train
"
openstack%2Fnova~master~I87aff2df5b4d8d899782446e2739e6b9fb679a84,openstack/nova,master,bp/mox-removal-train,I87aff2df5b4d8d899782446e2739e6b9fb679a84,Remove mox in unit/network/test_neutronv2.py (9),MERGED,2018-06-15 01:16:12.000000000,2019-05-30 18:33:05.000000000,2019-05-30 18:33:05.000000000,155,112,1,575581,8b1b0234e2e8d2df1de1d2ad2dbf4d4d568e5908,325,12,37,1,7634,Takashi Natsume,natsumet,"Remove mox in unit/network/test_neutronv2.py (9)

Replace mox with mock in the following methods
in the TestNeutronv2 class
in nova/tests/unit/network/test_neutronv2.py.
Then moves the methods to the TestNeutronv2WithMock class.

* _deallocate_for_instance
* test_deallocate_for_instance_1_with_requested
* test_deallocate_for_instance_2_with_requested
* test_deallocate_for_instance_1
* test_deallocate_for_instance_2
* test_deallocate_for_instance_port_not_found

The '_deallocate_for_instance' method is renamed to
'_test_deallocate_for_instance'.

Change-Id: I87aff2df5b4d8d899782446e2739e6b9fb679a84
Implements: blueprint mox-removal-train
"
openstack%2Fnova~master~Ic19074165422d85430211b44fc685d0c2cb6f216,openstack/nova,master,bp/mox-removal-train,Ic19074165422d85430211b44fc685d0c2cb6f216,Remove mox in unit/network/test_neutronv2.py (8),MERGED,2018-06-14 02:34:12.000000000,2019-05-30 18:32:53.000000000,2019-05-30 18:32:53.000000000,105,98,2,575311,7f3aedfe720f369efb64cdc01effedc5b95b1bf3,311,12,38,1,7634,Takashi Natsume,natsumet,"Remove mox in unit/network/test_neutronv2.py (8)

Replace mox with mock in the following methods
in the TestNeutronv2 class
in nova/tests/unit/network/test_neutronv2.py.
Then moves the methods to the TestNeutronv2WithMock class.

* test_allocate_for_instance_ex2
* test_allocate_for_instance_no_port_or_network
* test_allocate_for_instance_with_externalnet_forbidden
* test_allocate_for_instance_with_externalnet_multiple

Change-Id: Ic19074165422d85430211b44fc685d0c2cb6f216
Implements: blueprint mox-removal-train
"
openstack%2Fnova~master~I3847567601a5bd38e9774f75914b6dda50c9dd40,openstack/nova,master,heal_allocations_dry_run,I3847567601a5bd38e9774f75914b6dda50c9dd40,Add BFV wrinkle to TestNovaManagePlacementHealAllocations,MERGED,2019-04-12 00:45:27.000000000,2019-05-30 18:32:45.000000000,2019-05-30 18:32:45.000000000,23,3,0,651948,c00912db51f6af42c8560b0c0981940a41100d63,23,12,3,1,6873,Matt Riedemann,mriedem,"Add BFV wrinkle to TestNovaManagePlacementHealAllocations

The heal_allocations command is using the
nova.scheduler.utils.resources_from_flavor method to build
the dictionary of resource allocations to PUT to placement
and that method has a volume-backed instance check in it to
avoid creating DISK_GB allocations for volume-backed servers.
We weren't testing any volume-backed servers in the
heal_allocations functional tests though so this adds a
wrinkle for that coverage.

Change-Id: I3847567601a5bd38e9774f75914b6dda50c9dd40
"
openstack%2Fnova-specs~master~I085adb4ba8f84b60a5c712693cb79ffb87ac7434,openstack/nova-specs,master,bp/rmd-llc,I085adb4ba8f84b60a5c712693cb79ffb87ac7434,Resource Management Daemon - Last Level Cache,ABANDONED,2019-04-09 13:19:52.000000000,2019-05-30 18:24:23.000000000,,538,0,1,651233,c0e0637e8b76631ecb4fc69b28adc89b5f3e4574,17,8,7,1,29334,Dakshina Ilangovan,dakshinai,"Resource Management Daemon - Last Level Cache

We propose changes required in Nova Compute to leverage RMD and Nova
Compute integration to enable support for LLC allocation to cores
assigned to a VM.

Change-Id: I085adb4ba8f84b60a5c712693cb79ffb87ac7434
Implements: blueprint rmd-llc
Signed-off-by: dakshinai <dakshina.ilangovan@intel.com>
"
openstack%2Fcinder~master~I6be1ca51ba29513fd9b1abe2791a7bb5815e20a3,openstack/cinder,master,bp/generating-sample-files,I6be1ca51ba29513fd9b1abe2791a7bb5815e20a3,Automate generation of volume transfer api-ref samples,MERGED,2019-03-20 10:35:25.000000000,2019-05-30 18:20:18.000000000,2019-05-30 17:47:24.000000000,478,205,2,644818,4e8ed9d5c0a5dc8d2b8f95cb5af1754a494fb360,36,28,1,33,27615,Rajat Dhasmana,whoami-rajat,"Automate generation of volume transfer api-ref samples

This patch adds the following tests:
1) Volume transfer
2) Snapshot manage extensions

Change-Id: I6be1ca51ba29513fd9b1abe2791a7bb5815e20a3
Partially-Implements: blueprint generating-sample-files
"
openstack%2Ftripleo-puppet-elements~master~I0552c7b9f40567a7c55ce502995f5166aa92c092,openstack/tripleo-puppet-elements,master,openldap-clients-package,I0552c7b9f40567a7c55ce502995f5166aa92c092,Add openldap-clients package to overcloud-controller image,ABANDONED,2019-05-30 15:53:27.000000000,2019-05-30 18:00:26.000000000,,2,0,0,662252,00110bc5f8b0198f00e1c53cdd1f34eb3ef827e2,5,4,1,2,9098,Nathan Kinder,nkinder,"Add openldap-clients package to overcloud-controller image

The openldap-clients package is needed in the overcloud-controller
image for use by keystone.  This package is used when keystone is
configured to use an LDAP backend for an identity store.

Change-Id: I0552c7b9f40567a7c55ce502995f5166aa92c092
"
openstack%2Fnetworking-ovn~stable%2Fstein~Ia17ad3476e61a729136622b4356ce59234ab023a,openstack/networking-ovn,stable/stein,bug/1824984-stable/stein,Ia17ad3476e61a729136622b4356ce59234ab023a,metadata: Resync agent when misconfiguration is detected,MERGED,2019-05-23 12:47:04.000000000,2019-05-30 17:54:28.000000000,2019-05-30 17:54:27.000000000,95,32,0,660986,3ecd9618d3da1e99064924997ee090e9d6dbff7d,16,8,1,2,8655,Jakub Libosvar,jlibosva,"metadata: Resync agent when misconfiguration is detected

In case of migration, the metadata agent is kept running with old
br-migration bridge cached in agent's attribute.  Everything else is
configured correctly but agent still uses old value.  This patch adds a
resync mechanism that's triggered by PortBindingChassisEvent in case
agent fails to use currently cached bridge and the bridge doesn't exist
on the system.

Closes-bug: #1824984
Change-Id: Ia17ad3476e61a729136622b4356ce59234ab023a
(cherry picked from commit 2037bfe5626c8d451786feae879cfb7aa80c8123)
"
openstack%2Freleases~master~I84931cebe62d413f77ba0159a415db0ec04a2e7f,openstack/releases,master,os_traits_0_12_0,I84931cebe62d413f77ba0159a415db0ec04a2e7f,Release 0.12.0 of os-traits,MERGED,2019-04-12 14:04:39.000000000,2019-05-30 17:54:13.000000000,2019-04-12 21:11:45.000000000,7,2,10,652079,a3051461784ef36342b8dbb01ff4ba1b8fb5a910,19,9,1,1,11564,Chris Dent,chdent,"Release 0.12.0 of os-traits

os-traits is a library of trait symbols used by the placement
service and clients of that service to represent qualitative
aspects of resource providers.

This change releases a 0.12.0 of the package, under the independent
deliverable style, switching from cycle related, because that's
what the team prefers. Being independent is considered low risk
because the library is made up of a list of strings which can only
be extended.

It also updates the team to be 'placement' and uses storyboard
instead of launchpad.

Change-Id: I84931cebe62d413f77ba0159a415db0ec04a2e7f
"
openstack%2Fproject-config~master~Ia921f0e191c0526be9a102629304034b68054d98,openstack/project-config,master,promote,Ia921f0e191c0526be9a102629304034b68054d98,Update promote pipeline precedence,MERGED,2019-05-30 17:17:18.000000000,2019-05-30 17:47:44.000000000,2019-05-30 17:47:43.000000000,1,1,0,662268,9f18fc8846ffcc4c0c11abac99f7e0207c70a8cd,7,3,1,1,6547,Andreas Jaeger,jaegerandi,"Update promote pipeline precedence

Change I45cb34c29d86ca67e75604f6ac3b8af6758f6242 updated the priorities
of pipelines so that they become progressively higher, this change
is not reflected in promote pipeline. Promote pipeline
should have the same priority as the post pipeline, thus update it and
change promote to high precedence.

Change-Id: Ia921f0e191c0526be9a102629304034b68054d98
"
openstack%2Fopenstack-helm-infra~master~I7c75cd19d62f3dbc3fa4708642119f1781e58677,openstack/openstack-helm-infra,master,use-osh-fluentd-image,I7c75cd19d62f3dbc3fa4708642119f1781e58677,Fluentd: Use OSH Fluentd image with systemd plugin,MERGED,2019-05-28 17:33:31.000000000,2019-05-30 17:47:41.000000000,2019-05-30 17:47:41.000000000,1,1,0,661819,1b5cb4bea286c1bcead40a9d7623fc5486c71f69,13,5,2,1,17591,Steve Wilkerson,srwilkers,"Fluentd: Use OSH Fluentd image with systemd plugin

This updates the default fluentd image to use the fluentd image
built with the systemd input plugin from the openstack-helm-images
repository

Change-Id: I7c75cd19d62f3dbc3fa4708642119f1781e58677
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fopenstack-helm-infra~master~I9c720df9677215bdd2bf18be77959bd5f671c0ca,openstack/openstack-helm-infra,master,curator-job-history,I9c720df9677215bdd2bf18be77959bd5f671c0ca,"Elasticsearch: Add job history to Curator, update schedule key",MERGED,2019-05-21 18:11:36.000000000,2019-05-30 17:47:40.000000000,2019-05-30 17:47:39.000000000,77,49,0,660486,0a8b710083b576e6158cb071210ea73cab0c12e6,24,8,5,5,17591,Steve Wilkerson,srwilkers,"Elasticsearch: Add job history to Curator, update schedule key

This updates the Elastic Curator cron job to include configuration
for successful and failed job history limits, similar to the other
cron jobs we deploy. This also moves the key for configuring the
cron schedule from under .Values.conf.curator to a new top level
jobs key to maintain consistency

This also fixes an indentation issue with the deployment overrides
for Curator as well as adds the overrides for the Armada job

Change-Id: I9c720df9677215bdd2bf18be77959bd5f671c0ca
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fneutron~master~I794e737c30f597519fba873e36f26b82b6f2c799,openstack/neutron,master,bug/1799555,I794e737c30f597519fba873e36f26b82b6f2c799,Add debug information to AutoScheduler and BaseScheduler,MERGED,2019-05-22 16:50:21.000000000,2019-05-30 17:46:56.000000000,2019-05-30 17:46:56.000000000,13,0,7,660785,b3404d900ef142637869e6e8999d29d712185e95,53,10,5,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add debug information to AutoScheduler and BaseScheduler

These new debug lines can be helpful to resolve the mentioned bug.
Sometimes the DHCP agent does not reschedule and the log does not
contain enough information to debug the problem.

Spotted error during fullstack tests:
Traceback (most recent call last):
File ""/opt/stack/new/neutron/neutron/tests/base.py"", line 151, in func
  return f(self, *args, **kwargs)
File ""/opt/stack/new/neutron/neutron/tests/fullstack/test_dhcp_agent.py"",
  line 168, in test_reschedule_network_on_new_agent
  self._wait_until_network_rescheduled(network_dhcp_agents[0])'
File ""/opt/stack/new/neutron/neutron/tests/fullstack/test_dhcp_agent.py"",
  line 137, in _wait_until_network_rescheduled
  common_utils.wait_until_true(_agent_rescheduled)
File ""/opt/stack/new/neutron/neutron/common/utils.py"", line 646,
  in wait_until_true
  raise WaitTimeout(_(""Timed out after %d seconds"") % timeout)
  neutron.common.utils.WaitTimeout: Timed out after 60 seconds

Change-Id: I794e737c30f597519fba873e36f26b82b6f2c799
Related-Bug: #1799555
"
openstack%2Fopenstack-ansible~stable%2Fstein~I0a9e8e86cd1eb40f55d40eb291f49563a433fd82,openstack/openstack-ansible,stable/stein,,I0a9e8e86cd1eb40f55d40eb291f49563a433fd82,Move hosts file management toggle to all group vars,MERGED,2019-05-30 13:19:28.000000000,2019-05-30 17:42:00.000000000,2019-05-30 17:42:00.000000000,3,3,0,662211,ec9baa4458695fe9df0033902c1e2e033a7c28f8,7,3,1,2,17799,Logan V,Logan2211,"Move hosts file management toggle to all group vars

In Queens, the hosts file management began occurring on all hosts
and containers because openstack_hosts role now runs on all inventory
items (prior to Queens, it only ran on 'hosts'). The flag for managing
the /etc/hosts management should now be moved to the 'all' group
vars.

Change-Id: I0a9e8e86cd1eb40f55d40eb291f49563a433fd82
(cherry picked from commit c06e6b5885b4edf074c118f1be8362926e5a6e0c)
"
openstack%2Fnova-specs~master~I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d,openstack/nova-specs,master,,I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d,Spec for API inconsistency cleanup,MERGED,2018-09-20 04:16:51.000000000,2019-05-30 17:20:06.000000000,2019-05-30 17:20:06.000000000,300,0,140,603969,f81524d40e7bc71bef86d5f1f860a7d1c6a9df7d,79,16,17,1,8556,Ghanshyam,ghanshyam,"Spec for API inconsistency cleanup

APIImpact

Change-Id: I7b71f5b3ec00b5f59fca6b1b0e239c1dd9dfa75d
"
openstack%2Fneutron~master~I564857aad930c4d595dd5de7b36b74dbcd9d049b,openstack/neutron,master,bug/1734320,I564857aad930c4d595dd5de7b36b74dbcd9d049b,[WIP] recored ml2 driver bindigns in vif_details,ABANDONED,2019-02-06 01:25:58.000000000,2019-05-30 17:19:50.000000000,,14,2,6,635083,2a400cfeaf0f23eb435984df460dbb247ea57a22,7,4,1,1,11604,sean mooney,sean-k-mooney,"[WIP] recored ml2 driver bindigns in vif_details

- This change intoduces a new _record_binding_driver_names function
  in the ml2 port_context object. This function enumerate the
  the drivers that bound the port and records them in the
  vif_details so they can be consumed by nova.
- Note _record_binding_driver_names will only update the
  vif_details if the port_context binding_levels list is
  not empty.
- This change extends the set_binding function in the ml2
  port_context to invoke _record_binding_driver_names each
  time the bindings are set.

Change-Id: I564857aad930c4d595dd5de7b36b74dbcd9d049b
Related-Bug: #1734320
"
openstack%2Fos-vif~stable%2Frocky~I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc,openstack/os-vif,stable/rocky,bug/1801072,I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc,add isolate_vif config option,ABANDONED,2018-11-07 19:57:10.000000000,2019-05-30 17:13:20.000000000,,81,13,2,616285,47c617ebb969a6c813841e13ce376a5d7939bf28,9,3,2,6,11604,sean mooney,sean-k-mooney,"add isolate_vif config option

- This change add a new isolate_vif config
  option to the OVS plugin.

- The isolate_vif option defaults to False
  for backwards compatiblity with sdn based
  deployments.

- This change is a partial mitigation of bug
  1734320, when isolate_vif is set to True
  os-vif will assign VIFs to the neutron
  l2 agent dead VLAN 4095. This should only
  be set when using the ml2/ovs neutron
  backend.

Conflicts:
    vif_plug_ovs/ovs.py
    vif_plug_ovs/ovsdb/ovsdb_lib.py
    vif_plug_ovs/tests/unit/test_plugin.py

Change-Id: I87ee9626cc6b4a01465a6b1908bc66bc7be0a4bc
Partial-Bug: #1734320
"
openstack%2Fos-vif~stable%2Frocky~Iaf15fa7a678ec2624f7c12f634269c465fbad930,openstack/os-vif,stable/rocky,bug/1801072,Iaf15fa7a678ec2624f7c12f634269c465fbad930,always create ovs port during plug,ABANDONED,2018-10-11 23:09:30.000000000,2019-05-30 17:13:07.000000000,,68,17,1,609850,cb77da8ffa29da9cf3049e520a7d8ef95fcc3911,16,4,4,4,11604,sean mooney,sean-k-mooney,"always create ovs port during plug

- This change modifies the ovs plugin to always
  create the ovs interface in the ovs db.
- This change enables the neutron l2 agent to configure
  the ovs interface by assigning a vlan tag and installing
  openflow rules as appropriate.
- This change will reduce the live migration
  time for kernel ovs ports with hybrid plug false
  by creating the ovs port as part of plug before
  the migration starts.
- This change adds the privsep decorator
  to delete_net_dev to account for it new usage
  via _unplug_vif_generic and address bug #1801072

Conflicts:
    vif_plug_ovs/linux_net.py
    vif_plug_ovs/ovs.py
    vif_plug_ovs/tests/unit/test_plugin.py

Change-Id: Iaf15fa7a678ec2624f7c12f634269c465fbad930
Partial-Bug: #1734320
Closes-Bug: #1801072
"
openstack%2Fos-vif~stable%2Fqueens~Iaf15fa7a678ec2624f7c12f634269c465fbad930,openstack/os-vif,stable/queens,bug/1734320-stable/queens,Iaf15fa7a678ec2624f7c12f634269c465fbad930,always create ovs port during plug,ABANDONED,2018-10-11 23:12:09.000000000,2019-05-30 17:12:45.000000000,,68,17,2,609851,dda5039b0889fa8951349f4348b825cd003305a9,11,3,2,4,11604,sean mooney,sean-k-mooney,"always create ovs port during plug

- This change modifies the ovs plugin to always
  pre plugging the vm interface to the ovs bridge
  by creating an ovs port.
- This change enables the neutron l2 agent to wire up
  the interface before the vm is started.
- This change will reduce the live migration
  time for kernel ovs ports with hybrid plug false
  by creating the ovs port as part of plug before
  the migration starts.
- This change adds the privsep decorator
  to delete_net_dev to account for it new usage
  via _unplug_vif_generic and address bug #1801072

Conflicts:
    vif_plug_ovs/linux_net.py
    vif_plug_ovs/ovs.py
    vif_plug_ovs/tests/unit/test_plugin.py

Change-Id: Iaf15fa7a678ec2624f7c12f634269c465fbad930
Partial-Bug: #1734320
Closes-Bug: #1801072
"
openstack%2Fcinder~master~Ib9c67a4893f34ef96caf1b808617a0a6b4cb8d5e,openstack/cinder,master,bug/1808113,Ib9c67a4893f34ef96caf1b808617a0a6b4cb8d5e,Allow reset-state to detach volume as per policy,MERGED,2019-04-04 18:39:50.000000000,2019-05-30 17:09:59.000000000,2019-05-30 16:28:57.000000000,2,2,0,650094,4ec5c76c8cd5b8ce98fdcb30f47bc5bc8aac1e0f,34,31,1,1,27615,Rajat Dhasmana,whoami-rajat,"Allow reset-state to detach volume as per policy

If the policy for os-reset_state is modified to RULE_ADMIN_OR_OWNER,
the owner(non-admin) is still not able to reset the volume
attach-status to detached because the db changes require admin context.
As seen in other cases (attachment_delete), the context is elevated
to allow it.
This patch adds the same support in-case of reset state.

Change-Id: Ib9c67a4893f34ef96caf1b808617a0a6b4cb8d5e
Closes-Bug: #1808113
"
openstack%2Fnova-specs~master~I6e40b81939e76e9a9a8a8d007c7225302ff570a6,openstack/nova-specs,master,bp/image-metadata-prefiltering,I6e40b81939e76e9a9a8a8d007c7225302ff570a6,Updates to image-metadata-prefiltering spec,MERGED,2019-04-12 15:53:56.000000000,2019-05-30 17:00:51.000000000,2019-05-30 17:00:51.000000000,45,37,1,652101,2fbe267e2680e9302d181d3370c440ec168026fd,20,9,4,1,14070,Eric Fried,efried,"Updates to image-metadata-prefiltering spec

Adds reference links to glance metadata definitions and the companion
os-traits StoryBoard story.

Also fixes some typos and spruces up the formatting in a couple of
places.

Change-Id: I6e40b81939e76e9a9a8a8d007c7225302ff570a6
Blueprint: image-metadata-prefiltering
"
openstack%2Fnetworking-ovn~stable%2Frocky~Ia17ad3476e61a729136622b4356ce59234ab023a,openstack/networking-ovn,stable/rocky,bug/1824984-stable/stein-stable/rocky,Ia17ad3476e61a729136622b4356ce59234ab023a,metadata: Resync agent when misconfiguration is detected,MERGED,2019-05-23 12:50:04.000000000,2019-05-30 16:56:13.000000000,2019-05-30 16:56:13.000000000,95,32,0,660987,09ab1ff1f0c2811ab0b12ceb73492b5f81015ef0,16,7,1,2,8655,Jakub Libosvar,jlibosva,"metadata: Resync agent when misconfiguration is detected

In case of migration, the metadata agent is kept running with old
br-migration bridge cached in agent's attribute.  Everything else is
configured correctly but agent still uses old value.  This patch adds a
resync mechanism that's triggered by PortBindingChassisEvent in case
agent fails to use currently cached bridge and the bridge doesn't exist
on the system.

Closes-bug: #1824984
Change-Id: Ia17ad3476e61a729136622b4356ce59234ab023a
(cherry picked from commit 2037bfe5626c8d451786feae879cfb7aa80c8123)
(cherry picked from commit 3ecd9618d3da1e99064924997ee090e9d6dbff7d)
"
openstack%2Fplacement~master~I7b9e6197037f483ab9d0ee2983e02979a265824c,openstack/placement,master,refactor-classmethod-diaf,I7b9e6197037f483ab9d0ee2983e02979a265824c,Kill RequestGroup @{static|class}methodZ,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:53:15.000000000,,174,174,0,651876,dcb4f3d24a3060bc812923e33539e7e6982ef185,3,1,1,3,14070,Eric Fried,efried,"Kill RequestGroup @{static|class}methodZ

This moves RequestGroup.dict_from_request, which was formerly a
@classmethod, and all the RequestGroup @staticmethod helpers to the
module level.

This was the last remaining use of @classmethod in the placement
project.

Change-Id: I7b9e6197037f483ab9d0ee2983e02979a265824c
"
openstack%2Fplacement~master~Icd21d275494c9934a26a2c5953e1f38c14464e15,openstack/placement,master,refactor-classmethod-diaf,Icd21d275494c9934a26a2c5953e1f38c14464e15,Rename placement.lib to objects.request_group,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:53:09.000000000,,64,64,0,651875,a2095a7ed3a4915f41c4b9e3963326bbe54f2abe,4,2,1,4,14070,Eric Fried,efried,"Rename placement.lib to objects.request_group

placement.lib contained only RequestGroup. In keeping with creating
objects.some_thing to hold class SomeThing and its related methods, this
renames placement.lib to placement.objects.request_group.

This is really so a subsequent patch can refactor away all the
@{class|static}methodZ therein to gel with the design pattern in the
rest of the placement project.

Change-Id: Icd21d275494c9934a26a2c5953e1f38c14464e15
"
openstack%2Fplacement~master~I6513915a8df65bd7ca856239250d42aed5b96bd0,openstack/placement,master,refactor-classmethod-diaf,I6513915a8df65bd7ca856239250d42aed5b96bd0,Kill User @{static|class}methodZ,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:52:26.000000000,,22,27,0,651874,a24061725aa57fecb35cb20201e4ff7eaba00fae,3,1,1,4,14070,Eric Fried,efried,"Kill User @{static|class}methodZ

This moves User.get_by_external_id, formerly a @classmethod, and all
of the formerly-@staticmethod helpers, to the module level. Except for
from_db_object, which is refactored to be a proper instance method.

It also renames internal helper _get_user_by_external_id to remove the
(redundant) user_ bit, since we're already in the .user module.

Change-Id: I6513915a8df65bd7ca856239250d42aed5b96bd0
"
openstack%2Fplacement~master~I5bb25f616e6c1cbc06d55177230b012d54de6856,openstack/placement,master,refactor-classmethod-diaf,I5bb25f616e6c1cbc06d55177230b012d54de6856,Kill Trait @{static|class}methodZ,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:52:20.000000000,,65,72,0,651873,2cf69e7093be1ad53698fb07d43080114f97117b,3,1,1,6,14070,Eric Fried,efried,"Kill Trait @{static|class}methodZ

This moves Trait.get_by_name, formerly a @classmethod, and all
of the formerly-@staticmethod helpers, to the module level. Except for
from_db_object, which is refactored to be a proper instance method.

Change-Id: I5bb25f616e6c1cbc06d55177230b012d54de6856
"
openstack%2Fplacement~master~I9eb72fb2f345bb24446ef890eb76812797580132,openstack/placement,master,refactor-classmethod-diaf,I9eb72fb2f345bb24446ef890eb76812797580132,Kill ResourceClass @{static|class}methodZ,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:52:14.000000000,,86,109,0,651872,32ea4325ba228ddb5ad585fcf26d0b2718c3ddca,3,1,1,3,14070,Eric Fried,efried,"Kill ResourceClass @{static|class}methodZ

This moves ResourceClass.get_by_name, formerly a @classmethod, and all
of the formerly-@staticmethod helpers, to the module level. Except for
from_db_object, which is refactored to be a proper instance method.

Change-Id: I9eb72fb2f345bb24446ef890eb76812797580132
"
openstack%2Fplacement~master~I6bbc7cfadac5f432a985364041ae7d7d57260673,openstack/placement,master,refactor-classmethod-diaf,I6bbc7cfadac5f432a985364041ae7d7d57260673,Kill Project @{static|class}methodZ,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:52:09.000000000,,19,20,0,651871,7e1dc1cdfa5f388d8f119089f92409c8f444a3d5,3,1,1,4,14070,Eric Fried,efried,"Kill Project @{static|class}methodZ

This moves Project.get_by_external_id to the module level and
de-@staticmethod-ifies Project.from_db_object.

Change-Id: I6bbc7cfadac5f432a985364041ae7d7d57260673
"
openstack%2Fplacement~master~Id0ec7766c8fa476d3e1b3d4b2a004ec437513a06,openstack/placement,master,refactor-classmethod-diaf,Id0ec7766c8fa476d3e1b3d4b2a004ec437513a06,Kill Consumer @{static|class}methodZ,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:52:03.000000000,,32,34,0,651870,ac9c62dad8ec21e3a03b8dd37650463213b8b1e6,3,1,1,6,14070,Eric Fried,efried,"Kill Consumer @{static|class}methodZ

This moves Consumer.get_by_uuid to the module level and
de-@staticmethod-ifies Consumer.from_db_object.

Change-Id: Id0ec7766c8fa476d3e1b3d4b2a004ec437513a06
"
openstack%2Fplacement~master~I46c086b48cc29d99a9f04c04b7446cc3a6646b92,openstack/placement,master,refactor-classmethod-diaf,I46c086b48cc29d99a9f04c04b7446cc3a6646b92,Move AllocationCandidates @{static|class}methodZ,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:51:57.000000000,,192,195,0,651869,0593fba242f5d5ba96a91d79a65080796f53183f,3,1,1,4,14070,Eric Fried,efried,"Move AllocationCandidates @{static|class}methodZ

This moves all cases of @staticmethod and @classmethod out of
the AllocationCandidates class and to the module level of
objects.allocation_candidate.

Change-Id: I46c086b48cc29d99a9f04c04b7446cc3a6646b92
"
openstack%2Fplacement~master~I542689e9fd0eae2ecb1947d2cd4576c3cd156edc,openstack/placement,master,refactor-classmethod-diaf,I542689e9fd0eae2ecb1947d2cd4576c3cd156edc,ResourceProvider.get_by_uuid @classmethod=>module,ABANDONED,2019-04-11 16:47:56.000000000,2019-05-30 16:51:33.000000000,,56,79,0,651868,5bc5c1e03ae24444d6e068bb1635f0f4cc926667,4,2,1,13,14070,Eric Fried,efried,"ResourceProvider.get_by_uuid @classmethod=>module

It is the consensus of the placement team that we should have
foo_module.do_a_thing rather than @classmethod
foo_module.FooObject.do_a_thing.

To that end, this commit moves
objects.resource_provider.ResourceProvider.get_by_uuid to
objects.resource_provider.get_by_uuid.

Change-Id: I542689e9fd0eae2ecb1947d2cd4576c3cd156edc
"
openstack%2Ftripleo-heat-templates~master~If4f32d2d591018c71b2dee9c5898a10d78e47c5e,openstack/tripleo-heat-templates,master,bug/1830406,If4f32d2d591018c71b2dee9c5898a10d78e47c5e,Switch to use $NETWORK_uri for memcached,MERGED,2019-05-22 14:54:43.000000000,2019-05-30 16:48:13.000000000,2019-05-30 16:48:13.000000000,34,28,0,660745,30708633dcd87f278142bfad06da6c8d761ba9fa,27,5,6,2,24245,Harald Jenss,harald.jensas,"Switch to use $NETWORK_uri for memcached

When passing connection string for memcached the
address must be in brackets if IP version 6 is
used. The $NETWORK_uri provides the ip address
with/whithout brackets depending on ip version.

Related-Bug: #1830406
Depends-On: https://review.opendev.org/661221
Depends-On: https://review.opendev.org/661220
Depends-On: https://review.opendev.org/661299
Depends-On: https://review.opendev.org/661136
Change-Id: If4f32d2d591018c71b2dee9c5898a10d78e47c5e
"
openstack%2Fproject-config~master~I75a263de5c696a3edf821cb078a0defd99230919,openstack/project-config,master,infra-specs,I75a263de5c696a3edf821cb078a0defd99230919,Update infra-specs URL,ABANDONED,2019-05-30 14:54:31.000000000,2019-05-30 16:47:55.000000000,,1,1,0,662239,adc9ee1632c5d74a72bbbfbd7e4adda64a88a935,4,2,1,1,6547,Andreas Jaeger,jaegerandi,"Update infra-specs URL

infra-specs are now in opendev/infra-specs, the next change
merged will published them on specs.openstack.org/opendev/infra-specs.

Update main index page for this.

Change-Id: I75a263de5c696a3edf821cb078a0defd99230919
"
openstack%2Fpython-tripleoclient~master~If4a82977e2351fd3a9e0241eee60cb3719ef43c0,openstack/python-tripleoclient,master,node-delete-confirm,If4a82977e2351fd3a9e0241eee60cb3719ef43c0,Add a user confirmation to node delete,MERGED,2019-05-20 16:34:17.000000000,2019-05-30 16:46:38.000000000,2019-05-30 16:32:46.000000000,40,4,3,660169,2b3b7f1e1f4b7875ff62a6dca8862678f4589c89,24,6,3,3,14985,Alex Schultz,mwhahaha,"Add a user confirmation to node delete

Node delete is a destructive action and we should prompt a user to
confirm they want to do this action. We also added a --yes parameter to
skip this confirmation prompt.

Change-Id: If4a82977e2351fd3a9e0241eee60cb3719ef43c0
"
openstack%2Fkayobe~master~Ie16354cd01ea7dd83cd3d4058dd8451b8387600b,openstack/kayobe,master,story/2005015,Ie16354cd01ea7dd83cd3d4058dd8451b8387600b,Add commands for database backup and recovery,MERGED,2019-03-22 16:33:16.000000000,2019-05-30 16:40:07.000000000,2019-05-30 16:40:07.000000000,193,0,3,645652,e96179921f572d0f31248dad5c6585de2494e40b,24,4,3,14,14826,Mark Goddard,mgoddard,"Add commands for database backup and recovery

Uses the support [1] for database backups added to Kolla Ansible in the
Stein release.

Adds the following new commands:

kayobe overcloud database backup [--incremental]
kayobe overcloud database recover [--force-recovery-host <host>]

The recovery command is for recovering a clustered database that has
lost quorum.

[1] https://docs.openstack.org/kolla-ansible/latest/admin/mariadb-backup-and-restore.html

Change-Id: Ie16354cd01ea7dd83cd3d4058dd8451b8387600b
Story: 2005015
Task: 29493
"
openstack%2Fcinder~master~I8e59039da78ecc9fb5415a10ff2a7c26ee689171,openstack/cinder,master,bug/1796825,I8e59039da78ecc9fb5415a10ff2a7c26ee689171,VNX: add option vnx_async_migrate,MERGED,2019-02-26 09:25:29.000000000,2019-05-30 16:39:13.000000000,2019-05-30 16:12:17.000000000,66,12,12,639277,3ecdc2bfc827c5ae8003f877bd95ca8c1385c596,178,50,6,8,18742,Ryan Liang,RyanLiang,"VNX: add option vnx_async_migrate

Before this fix, customers can disable async migration only by passing
`--metadata async_migrate=False` in volumes metadata. This fix adds an
option named `vnx_async_migrate` which could help set the default value
of async migration for whole backend. If customers don't pass in the
`async_migrate` in metadata, the value of this option will be used.

Change-Id: I8e59039da78ecc9fb5415a10ff2a7c26ee689171
Closes-bug: #1796825
"
openstack%2Fcharm-ceph-proxy~master~If9e79b22a919997961a23929435450af0883b882,openstack/charm-ceph-proxy,master,bug/1828424,If9e79b22a919997961a23929435450af0883b882,Migrate charm-ceph-proxy testing to Zaza,MERGED,2019-05-16 12:37:33.000000000,2019-05-30 16:35:47.000000000,2019-05-30 16:35:47.000000000,432,336,0,659548,8e08a9c22a41b8df5ddfdb662a2dc9d0965bcfaf,24,6,3,27,27842,Ramon Grullon,ramon_g,"Migrate charm-ceph-proxy testing to Zaza

Change-Id: If9e79b22a919997961a23929435450af0883b882
Closes-Bug: #1828424
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/5
"
openstack%2Fopenstackdocstheme~master~I6cece00bfbbb9b024a5bd93dcc7f0be291c25ac9,openstack/openstackdocstheme,master,update-bootstrap,I6cece00bfbbb9b024a5bd93dcc7f0be291c25ac9,Add reno for recent CSS cleanups,MERGED,2019-05-30 11:06:14.000000000,2019-05-30 16:31:58.000000000,2019-05-30 16:31:58.000000000,5,0,3,662186,e988c786b1ba8f58078e470e222725169199325a,16,4,2,1,15334,Stephen Finucane,sfinucan,"Add reno for recent CSS cleanups

Change-Id: I6cece00bfbbb9b024a5bd93dcc7f0be291c25ac9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpython-cinderclient~master~I355982de70c214bd4929c061507076c98b8ad8d2,openstack/python-cinderclient,master,,I355982de70c214bd4929c061507076c98b8ad8d2,Drop use of git.openstack.org,MERGED,2019-04-17 08:41:07.000000000,2019-05-30 16:27:49.000000000,2019-05-30 16:27:49.000000000,2,2,0,653355,8ff86a1706d4d9d283ab0e674018b2a10e0b5418,6,2,1,1,27615,Rajat Dhasmana,whoami-rajat,"Drop use of git.openstack.org

Our cgit instance will be going away and opendev.org is the new
preferred URL for browsing our git repos. Redirects will exist for the
foreseeable future, but it's more efficient to just go directly to the
new locations.

Cinder patch : https://review.openstack.org/#/c/652774/

Change-Id: I355982de70c214bd4929c061507076c98b8ad8d2
"
openstack%2Fcinder~master~I99a5860e2d62f99468b90888beae8eed4ccd9927,openstack/cinder,master,self_cls,I99a5860e2d62f99468b90888beae8eed4ccd9927,Do not use 'self' in classmethod,MERGED,2019-05-05 03:17:16.000000000,2019-05-30 16:26:40.000000000,2019-05-30 15:59:31.000000000,9,9,0,657190,4a42a5b977de4600eef28a2ed544acfeae9f09bf,29,24,1,5,20190,zhufl,zhufl,"Do not use 'self' in classmethod

'cls' should be used in classmethd, instead of 'self'.
This patch corrects this in the following places:
    - cinder/tests/unit/backup/drivers/test_backup_google.py
    - cinder/tests/unit/backup/fake_google_client.py
    - cinder/tests/unit/backup/fake_google_client2.py
    - cinder/tests/unit/backup/fake_swift_client.py
    - cinder/tests/unit/backup/fake_swift_client2.py

Change-Id: I99a5860e2d62f99468b90888beae8eed4ccd9927
"
openstack%2Ftooz~master~Idb5428d883efa776f0782a543cb7423ae9d4e4b4,openstack/tooz,master,tox,Idb5428d883efa776f0782a543cb7423ae9d4e4b4,Referencing testenv deps now works,MERGED,2019-04-09 02:29:03.000000000,2019-05-30 16:20:18.000000000,2019-05-30 16:20:18.000000000,3,29,0,651057,42672e32884af5ccbf713a34b08328a501793d97,37,4,4,1,26505,wayen,chengkang,"Referencing testenv deps now works

The bug `https://github.com/tox-dev/tox/issues/706` mentioned in the
comments has been resolved since tox version 3.1.0.

Change-Id: Idb5428d883efa776f0782a543cb7423ae9d4e4b4
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~If99ea62b6cefb140a9c918b8f6a774658c52d54b,openstack/tripleo-heat-templates,stable/rocky,bug/1829858,If99ea62b6cefb140a9c918b8f6a774658c52d54b,[Rocky/Queens Only] Remove pre-upgrade validation tasks in cont services.,MERGED,2019-05-21 12:50:46.000000000,2019-05-30 16:12:46.000000000,2019-05-30 16:12:46.000000000,0,396,0,660377,7e0a4d0e5282e5e3bcced9368c724ffd6042643f,13,11,1,80,26343,Jose Luis Franco,jfrancoa,"[Rocky/Queens Only] Remove pre-upgrade validation tasks in cont services.

The pre-upgrade validation tasks in the containerized services made
sense when upgrading from non-containerized to containerized overcloud
(ocata to pike), however we kept them for queens and rocky
release thinking about using them during the undercloud upgrade from
non-containerized to containerized (queens to rocky) but they
were skipped there too [0]. It's beeing observed in the current
upgrades taken place by operators, that these validations are
causing more issues than it was thought, so let's get rid of
them from all the containerized services in Queens and Rocky.

Closes-Bug: #1829858

[0] - https://github.com/openstack/python-tripleoclient/blob/stable/rocky/tripleoclient/v1/tripleo_deploy.py#L833

Change-Id: If99ea62b6cefb140a9c918b8f6a774658c52d54b
"
openstack%2Foslo.cache~stable%2Fstein~I0f6ca974dc3055aad28638ef4b087a19935b4c29,openstack/oslo.cache,stable/stein,stein,I0f6ca974dc3055aad28638ef4b087a19935b4c29,Fix lower-constraints,MERGED,2019-05-22 14:14:00.000000000,2019-05-30 16:12:43.000000000,2019-05-30 16:12:43.000000000,2,2,0,660731,84909155ba66d36acd6fbb4a32dfbe05f8c65503,12,6,1,2,29222,Natal Ngtal,hobbestigrou,"Fix lower-constraints

We require six >= 1.11.0 due to our oslo.log dependency. Fix this. We
won't actually see this fix until we remove the use of 'tox_install.sh'
in I48f31084d595c44114391e046e5fe418c1fb787a.

Change-Id: I0f6ca974dc3055aad28638ef4b087a19935b4c29
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit c8625175022068a71ae7eefd3dbcfcd4eaa1b7b2)
"
openstack%2Fopenstack-zuul-jobs~master~I58a82d7e58ee1d2d8c653e4e92cab8cfc8d834b4,openstack/openstack-zuul-jobs,master,puppet-4,I58a82d7e58ee1d2d8c653e4e92cab8cfc8d834b4,Update puppet jobs to default to puppet 4,MERGED,2019-05-29 21:58:20.000000000,2019-05-30 15:59:40.000000000,2019-05-30 15:59:40.000000000,2,15,2,662100,a0697b63b681c0d215d940c5c9566c6ce8445096,13,4,2,4,8482,Colleen Murphy,krinkle,"Update puppet jobs to default to puppet 4

This change removes the last of the puppet-3 puppet-apply jobs and
changes the default puppet version to '4' for the puppet-apply and
beaker jobs. This change leaves the unversioned base puppet jobs and the
puppet-4 child jobs even though they are now redundant for the sake of
clarity of the job ancestry.

Change-Id: I58a82d7e58ee1d2d8c653e4e92cab8cfc8d834b4
"
openstack%2Fpython-cinderclient~master~I798f826c1da97b20ccf9decd177754a7a0b055fa,openstack/python-cinderclient,master,Bug#sphinx,I798f826c1da97b20ccf9decd177754a7a0b055fa,Update sphinx dependency,MERGED,2019-05-22 06:16:32.000000000,2019-05-30 15:56:10.000000000,2019-05-30 15:56:10.000000000,2,1,0,660568,94d8e773257d33c53d8b78e385f550eeeb7de69d,6,13,1,1,27822,pengyuesheng,pengyuesheng,"Update sphinx dependency

Change-Id: I798f826c1da97b20ccf9decd177754a7a0b055fa
"
openstack%2Fplacement~master~I61fb232ededaec2ba0d65b5879ff91a76e8b9887,openstack/placement,master,test-PlacementFixture,I61fb232ededaec2ba0d65b5879ff91a76e8b9887,Start unit tests for PlacementFixture,ABANDONED,2019-03-21 17:22:40.000000000,2019-05-30 15:52:22.000000000,,41,0,11,645255,bd57e8061acd2223b12a80c6ab99b9efe249e154,13,4,3,1,14070,Eric Fried,efried,"Start unit tests for PlacementFixture

Testing PlacementFixture is hard. The most effective tests are from
things (like nova) trying to use the fixture. But a certain amount of
unit testing is still possible and desirable.

This commit introduces placement.tests.unit.test_fixtures with a
PlacementFixtureTest which initially exercises the register_opts kwarg
added in [1].

[1] I360a306b5d05ada75274733038b73ec2f2bdc4d4

Change-Id: I61fb232ededaec2ba0d65b5879ff91a76e8b9887
"
openstack%2Fmonasca-api~master~I8803e28fe8c2c11e819be44db4ef93cb19b47a1d,openstack/monasca-api,master,cassandra-connection-timeout-support,I8803e28fe8c2c11e819be44db4ef93cb19b47a1d,Support cassandra connection timeout option,MERGED,2019-04-12 07:36:29.000000000,2019-05-30 15:49:56.000000000,2019-05-30 15:49:56.000000000,9,0,0,651993,dbe1ea8b5096068696a571ef670c23460dee346d,30,3,3,3,29970,jianweizhang,zhangjianwei,"Support cassandra connection timeout option

Creating a cassandra connection can be limited by connection_timeout option.

Story: 2005450
Task: 30502

Change-Id: I8803e28fe8c2c11e819be44db4ef93cb19b47a1d
"
openstack%2Fopenstack-helm-infra~master~I44aa0fda59f0d6b7d22600a0d1672a127c2a274d,openstack/openstack-helm-infra,master,update-docker-io,I44aa0fda59f0d6b7d22600a0d1672a127c2a274d,Update docker.io version,ABANDONED,2019-05-30 15:14:15.000000000,2019-05-30 15:45:06.000000000,,2,2,0,662243,92f08798a01005b558a74ab3f1b9f7f4a80e06b0,3,1,1,2,22477,Matt McEuen,mattmceuen,"Update docker.io version

This updates the docker.io version that is currently in the upstream
Ubuntu 16.04 repository.

Change-Id: I44aa0fda59f0d6b7d22600a0d1672a127c2a274d
"
openstack%2Fcharm-ceph-mon~master~Ia0bc15b3b6d7e8a21fda8e2343d70d9a0024a767,openstack/charm-ceph-mon,master,bug/1828630,Ia0bc15b3b6d7e8a21fda8e2343d70d9a0024a767,Add set require-osd-release command to osd hook.,MERGED,2019-05-20 21:04:51.000000000,2019-05-30 15:43:16.000000000,2019-05-30 15:43:15.000000000,364,0,15,660210,63b38bf5ce7080c0c1f7b815efaf41e3c862c309,33,6,6,3,30218,Zachary Zehring,zzehring,"Add set require-osd-release command to osd hook.

 To access all ceph features for a new release,
 require-osd-release must be set to the current
 release. Else, features will not be available
 and ceph health gives a warning on luminous.
 Here, we check to see if an osd has upgraded its
 release and notified mon. If so, we run the
 post-upgrade steps when all osds have reached
 the new release. The one (and only) step
 is to set require-osd-release if and only if
 all osds (and mons) have been upgraded to the
 same version.

Get osd release information from ceph_release key in
relation dict.

Add call to set require-osd-release to current release.

Add execute post-upgrade steps func in osd-relations hook.

Add logic for determinig whether to run set
require-osd-release command.

Add logic for checking if all osds and mons have
converged to same release.

Create func to grab all unique osd releases on each unit.

Change-Id: Ia0bc15b3b6d7e8a21fda8e2343d70d9a0024a767
Closes-Bug: #1828630
"
openstack%2Fnova~master~Ie99d9197331fadfe2dbc6e7700014bb14d01ed88,openstack/nova,master,bug/1773318,Ie99d9197331fadfe2dbc6e7700014bb14d01ed88,Preserve images_type of instance during live migration,ABANDONED,2018-05-25 07:34:07.000000000,2019-05-30 15:42:39.000000000,,64,15,13,570528,c2767b9f1bf5623c9102cad20cd26c06762dcf0d,81,17,5,3,28332,Alexandre arents,aarents,"Preserve images_type of instance during live migration

When a target host is prepraring live-migration, it creates disk
according nova.conf setting CONF.libvirt.images_type
and not from image type disk of source instance.
This change propose to keep original disk type of instance,
in order to use corresponding imagebackend driver during live-migraton
and hard reboot(when re-fetch image cache) even on host with
a different images_type.
This make works live migration of qcow2 instances to host with
CONF.libvirt.images_type= 'raw'

Closes-Bug: #1773318

Change-Id: Ie99d9197331fadfe2dbc6e7700014bb14d01ed88
"
openstack%2Fnova~stable%2Fstein~I28fc8fa00a8402d0cbc738729fb43758524aeb80,openstack/nova,stable/stein,consoleauth-statuscheck-reno,I28fc8fa00a8402d0cbc738729fb43758524aeb80,[stable-only] Improve the reno for consoleauth upgrade check,MERGED,2019-05-23 21:37:07.000000000,2019-05-30 15:39:03.000000000,2019-05-28 12:33:24.000000000,8,2,0,661123,ea71592d7a10e453e648744f290feb593a50114a,12,6,1,1,4690,melanie witt,melwitt,"[stable-only] Improve the reno for consoleauth upgrade check

This adds more information to the release note to make it clear that
the nova-consoleauth service is deprecated and should not be deployed,
except in cases of a live/rolling upgrade.

Change-Id: I28fc8fa00a8402d0cbc738729fb43758524aeb80
"
openstack%2Fnova~master~I3e3a1e646a00d4967cd1535775d9fb980086ffb9,openstack/nova,master,,I3e3a1e646a00d4967cd1535775d9fb980086ffb9,Improved the judgment of the service status in memcache,ABANDONED,2017-01-22 06:13:20.000000000,2019-05-30 15:37:59.000000000,,22,4,1,423754,aa887a174d388fb5f980550da8266303664ad22e,88,23,7,2,22484,gengchc2,gengchc2,"Improved the judgment of the service status in memcache

Improved the judgment of the service status(up or down) in memcache.
In servicegroup/drivers/mc.py, if the key(topic:host) is existed
in memcache,service status is judged as up.This judgment is
not reasonableit.It is more reasonable that the service status
should be based on the CONF.service_down_time :if the period
of the service status reported is more than CONF.service_down_time,
can be considered as down.

Change-Id: I3e3a1e646a00d4967cd1535775d9fb980086ffb9
"
openstack%2Fnova~master~I08898cad2925a4765d467381c8ec711103464bc2,openstack/nova,master,bug/1731850,I08898cad2925a4765d467381c8ec711103464bc2,Use safer ast.literal_eval instead of eval,ABANDONED,2017-11-13 09:04:12.000000000,2019-05-30 15:36:52.000000000,,99,54,1,519268,91e681b69e9f506db7c44b177e4a261369ddf018,12,7,1,3,22056,yushangbin,yushangbin,"Use safer ast.literal_eval instead of eval

Due to https://docs.openstack.org/bandit/latest/blacklists/blacklist_calls.html#b307-eval,
we shoud use safer ast.literal_eval instead of eval.

Closes-Bug: #1731850
Change-Id: I08898cad2925a4765d467381c8ec711103464bc2
"
openstack%2Fopenstack-helm-infra~master~I6e2d10e5ba8c00cea1271ef3f0d5b7af01d5d3ba,openstack/openstack-helm-infra,master,elasticsearch/test_deps,I6e2d10e5ba8c00cea1271ef3f0d5b7af01d5d3ba,WIP: Elasticsearch service updates,ABANDONED,2018-12-03 13:34:00.000000000,2019-05-30 15:30:15.000000000,,2,0,0,621571,fafc0bf0e9eb8f28349d42f71465656a3df789c0,4,1,2,2,17591,Steve Wilkerson,srwilkers,"WIP: Elasticsearch service updates

This updates the data and discovery services to headless services
to align with best practices

Change-Id: I6e2d10e5ba8c00cea1271ef3f0d5b7af01d5d3ba
"
openstack%2Fopenstack-helm~master~I4140f9ef6fa648075b04ea006616a5934cf3cbd9,openstack/openstack-helm,master,gates/releases,I4140f9ef6fa648075b04ea006616a5934cf3cbd9,WIP/DNM: Update single node gate releases,ABANDONED,2018-12-04 18:25:37.000000000,2019-05-30 15:30:08.000000000,,137,18,4,622531,718daea4adb62071a271f170ad196fba586d41ad,13,2,6,3,17591,Steve Wilkerson,srwilkers,"WIP/DNM: Update single node gate releases

Change-Id: I4140f9ef6fa648075b04ea006616a5934cf3cbd9
"
openstack%2Fopenstack-helm-infra~master~Ic0442357f9bf0bf937c54b5d95e008cdceda4867,openstack/openstack-helm-infra,master,update-fluentd-config,Ic0442357f9bf0bf937c54b5d95e008cdceda4867,Fluentd: Add retry_timeout to buffer output configuration,ABANDONED,2019-03-08 17:38:13.000000000,2019-05-30 15:29:54.000000000,,4,0,0,642088,e40dffd15f7159d9f5ab8a0e8bfb567e7d0da371,5,1,2,1,17591,Steve Wilkerson,srwilkers,"Fluentd: Add retry_timeout to buffer output configuration

This adds a default retry_timeout of 60 seconds to Fluentds buffer
output configurations. Fluentd's default for this value is 72
hours, which is extremely high.

Change-Id: Ic0442357f9bf0bf937c54b5d95e008cdceda4867
"
openstack%2Fopenstack-helm-infra~master~I59b1d6723daabc2648154f9aa3123af1d44ff8b3,openstack/openstack-helm-infra,master,aio-update,I59b1d6723daabc2648154f9aa3123af1d44ff8b3,Remove stable helm repository from single node deployment,ABANDONED,2019-04-09 13:58:51.000000000,2019-05-30 15:29:42.000000000,,5,0,0,651246,03f2520b45e2475e998142b86959234b1708c9d2,3,1,1,1,17591,Steve Wilkerson,srwilkers,"Remove stable helm repository from single node deployment

This removes the stable helm repository from the single node
kubernetes deployment step as it's unnecessary

Change-Id: I59b1d6723daabc2648154f9aa3123af1d44ff8b3
"
openstack%2Fopenstack-helm-infra~master~Ia5138fa4d542a0b02c63ec8c7906d15f4fe47a5e,openstack/openstack-helm-infra,master,fluentd-output-reload,Ia5138fa4d542a0b02c63ec8c7906d15f4fe47a5e,Fluentd: Prevent Elasticsearch connection reload,ABANDONED,2019-05-06 20:01:55.000000000,2019-05-30 15:29:19.000000000,,30,0,0,657445,2111aa96c0b82ceb107deed26bcd8d2ae93e8143,5,2,1,2,17591,Steve Wilkerson,srwilkers,"Fluentd: Prevent Elasticsearch connection reload

This adds the required configuration to prevent the elasticsearch
output plugin from reloading connections from fluentd to
elasticsearch after 10,000 requests. This functionality is enabled
by default in the elasticsearch-ruby gem. These settings are
recommended for use when using fluentd and elasticsearch together
in a kubernetes environment.

Change-Id: Ia5138fa4d542a0b02c63ec8c7906d15f4fe47a5e
See: https://github.com/uken/fluent-plugin-elasticsearch
"
openstack%2Fopenstack-helm-infra~master~I30ac93e4a948fa8112105e06fae4610e598e54a8,openstack/openstack-helm-infra,master,update-fluentd-image,I30ac93e4a948fa8112105e06fae4610e598e54a8,Fluentd: Update image reference with newer Fluentd version,ABANDONED,2019-05-10 16:20:14.000000000,2019-05-30 15:29:12.000000000,,1,1,0,658412,a65d3a949b51fa8cf307b1e65af12ac4d2b89424,7,3,2,1,17591,Steve Wilkerson,srwilkers,"Fluentd: Update image reference with newer Fluentd version

This updates the Fluentd image reference to an image with Fluentd
version v1.4.2

Change-Id: I30ac93e4a948fa8112105e06fae4610e598e54a8
"
openstack%2Fcinder~master~Ia46e843ad245cf8263b97b773fac9bc6c6fe6647,openstack/cinder,master,upgradecheck,Ia46e843ad245cf8263b97b773fac9bc6c6fe6647,Add upgrade check for presence of policy.json file,MERGED,2019-03-26 22:11:12.000000000,2019-05-30 15:27:09.000000000,2019-04-09 21:20:44.000000000,131,8,19,647937,8c6355f3ccb64cb949a8280b6cd98a37e13bfaa7,220,40,12,4,11904,Sean McGinnis,SeanM,"Add upgrade check for presence of policy.json file

Correct file is policy.yaml and only needed if overriding defaults. This
only warns if the file is present in case it was left by a previous
version and not actually needed or used.

Also checks for the policy_file being overridden in config, and if so,
warns if the specified file does not exist.

Change-Id: Ia46e843ad245cf8263b97b773fac9bc6c6fe6647
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fneutron~master~I034cad8d5290b416e55acdaeea69c5a130308afe,openstack/neutron,master,bp/enginefacade-switch,I034cad8d5290b416e55acdaeea69c5a130308afe,Switch to new engine facade for QoS,MERGED,2019-05-28 08:13:07.000000000,2019-05-30 15:14:13.000000000,2019-05-30 15:14:13.000000000,6,6,0,661695,51dd91df5bd59d9a0041ca5becdb8ec5d8328658,29,8,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Switch to new engine facade for QoS

* QosCoreResourceExtension
* QoSPlugin

Partially-Implements blueprint: enginefacade-switch

Change-Id: I034cad8d5290b416e55acdaeea69c5a130308afe
"
openstack%2Fmonasca-persister~master~I4443a2b205199d81ab8d05d17e65a47485de8f2f,openstack/monasca-persister,master,test_persister_repo,I4443a2b205199d81ab8d05d17e65a47485de8f2f,Add tests for repositories/persister.py,MERGED,2019-04-12 12:08:51.000000000,2019-05-30 15:09:03.000000000,2019-05-30 15:09:03.000000000,130,0,8,652053,7f2da27a3a0fa56672f25ee3ecd0ef90f0914e45,31,6,5,1,30221,Arseni Lipinski,arseni.lipinski,"Add tests for repositories/persister.py

Change-Id: I4443a2b205199d81ab8d05d17e65a47485de8f2f
"
openstack%2Fnova~master~I1027e4d296a7cdc68b37169dbec556ea666a81a9,openstack/nova,master,bug/1530952,I1027e4d296a7cdc68b37169dbec556ea666a81a9,Fixes exception during a swap to no swap resize,ABANDONED,2016-04-01 18:56:54.000000000,2019-05-30 15:06:13.000000000,,70,27,13,300616,f5548e7e2416e40d30e5da2e281b00a1a774dbbc,126,25,6,3,21109,Kam Nasim,knasim-wrs,"Fixes exception during a swap to no swap resize

The root cause of this failure was that the swap record for an instance
in  the block_device_mapping table in db is being used by
get_disk-mapping() to create the swap disk mapping EVEN if the (new)
flavor has 0 swap. This would subsequently cause the exception as the
disk.swap file didn't exist.

To fix said error, a check is being added to get_disk_mapping() to
ensure that flavor has swap > 0 before accessing db record. The original
swap mapping will stay in the block_device_mapping table in the database
after resizing to flavor with swap = 0 (or another flavor with a
different swap size), but libvirt xml and associated swap disk will now
be based on a new flavor.

Additionally, this commit has to partially revert Matt Riedemann's
<mriedem@us.ibm.com> lazy-loading optimization in the unit test (Bug:
1530952) in the UT to ensure flavor info is only retrieved once. However
as per our change we will always need to retrieve the swap information
from within the instance flavor.

Co-authored-by: Gerry Kopec <gerry.kopec@windriver.com>

Change-Id: I1027e4d296a7cdc68b37169dbec556ea666a81a9
Closes-Bug: #1552777
Signed-off-by: Kam Nasim <kam.nasim@windriver.com>
"
openstack%2Fneutron-lib~master~Ib42bed3c5b293c207a8a81f24bd5016f168706fe,openstack/neutron-lib,master,bug/1830554,Ib42bed3c5b293c207a8a81f24bd5016f168706fe,[api-ref] Update info about internal_ip_address in FIP port forwarding,MERGED,2019-05-30 13:09:44.000000000,2019-05-30 15:04:52.000000000,2019-05-30 15:04:52.000000000,2,3,0,662207,c9773782c36a1d8fd19bd400d22c42e96fb63a61,7,3,1,1,11975,Slawek Kaplonski,slaweq,"[api-ref] Update info about internal_ip_address in FIP port forwarding

Parameter ""internal_ip_address"" used in floating IP port forwarding
was wrongly marked as optional as in api definition it is required.
This patch updates api-ref description to be matched with current
definition in the code.

Change-Id: Ib42bed3c5b293c207a8a81f24bd5016f168706fe
Closes-Bug: #1830554
"
openstack%2Fopenstack-ansible~stable%2Fstein~I125ef9beed1b5c4d959453d20587c8d4c78bbf4d,openstack/openstack-ansible,stable/stein,calico3,I125ef9beed1b5c4d959453d20587c8d4c78bbf4d,Bump os_neutron SHA to pull in fixed Calico,MERGED,2019-05-22 16:54:39.000000000,2019-05-30 15:01:53.000000000,2019-05-30 15:01:53.000000000,1,1,0,660786,d094ebbbc661aa8d80cfa17abb53cc4b16f8e518,7,3,1,1,17799,Logan V,Logan2211,"Bump os_neutron SHA to pull in fixed Calico

Change-Id: I125ef9beed1b5c4d959453d20587c8d4c78bbf4d
"
openstack%2Fnova~master~Ia6944ec86a0990ca3e6798dad819ad26d76b64f4,openstack/nova,master,bug/1707830,Ia6944ec86a0990ca3e6798dad819ad26d76b64f4,Smaller disk flavor check,ABANDONED,2017-08-01 06:04:52.000000000,2019-05-30 14:52:47.000000000,,4,3,7,489484,c46aca8164d95825175db76395ed1ad7ef6a5a19,39,21,3,1,25632,Zhaokun Fu,fuzk,"Smaller disk flavor check

Check for smaller disk flavor and show error message on dashboard.
Closes-Bug:1707830

Change-Id: Ia6944ec86a0990ca3e6798dad819ad26d76b64f4
"
openstack%2Fopenstack-helm-infra~master~I5964b5517b3099fbfe8d574b2ca869d366c9bb17,openstack/openstack-helm-infra,master,fix_typos,I5964b5517b3099fbfe8d574b2ca869d366c9bb17,Elasticsearch: Fix typos in cluster wait script,MERGED,2019-05-29 14:59:23.000000000,2019-05-30 14:51:18.000000000,2019-05-30 14:51:18.000000000,4,4,0,662012,8cb4051fc89f08ad0947933547de9a321a825474,8,4,1,1,17591,Steve Wilkerson,srwilkers,"Elasticsearch: Fix typos in cluster wait script

This fixes typos in the cluster wait script to ensure the messages
reflect the types of nodes being checked

Change-Id: I5964b5517b3099fbfe8d574b2ca869d366c9bb17
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fnova~master~I10ab55dd833049b26bc387fee68164d55328bcc1,openstack/nova,master,bug/1617429,I10ab55dd833049b26bc387fee68164d55328bcc1,PCI: Update MAC address for NICs PF passthrough devices,ABANDONED,2016-08-26 19:43:59.000000000,2019-05-30 14:48:41.000000000,,73,0,2,361438,9a5099473de8dbaaf4d2c36524ac10b8c88d5050,130,25,7,2,17973,Ludovic Beliveau,lbeliveau,"PCI: Update MAC address for NICs PF passthrough devices

Booting a guest with a 'direct-physical' port will allocate and attach a PCI
device to the it.  The neutron port will get updated with the MAC address of
the PF device.

On a resize operation (or a migration), nova will allocate a new PCI device
for the guest.  Therefore the MAC address in the guest will changed.  However
the MAC address is not updated on the neutron port causing DHCP request to
fail.

This patch fix this issue by updating the MAC address of the neutron port
based on the PF MAC address.

Change-Id: I10ab55dd833049b26bc387fee68164d55328bcc1
Depends-On: I179a0fad8d53a324fdbf23fb8bb90acc472b3cee
Closes-bug: #1617429
"
openstack%2Fopenstack-ansible-os_tempest~master~Ic34103e0438c537fd0a6edd142ec2ad9ae29da1f,openstack/openstack-ansible-os_tempest,master,arm64,Ic34103e0438c537fd0a6edd142ec2ad9ae29da1f,Add support for aarch64 images,MERGED,2018-11-26 12:29:45.000000000,2019-05-30 14:40:50.000000000,2019-05-30 14:40:49.000000000,41,14,2,620032,0ad0c29d7a456c2d7b8f6f0f94bc2982aa99fd60,39,10,10,2,25023,Jonathan Rosser,jrosser,"Add support for aarch64 images

Jonathan Rosser <jonathan.rosser@rd.bbc.co.uk>:

This patch introduces a map which allows tempest images to be specified
per CPU architecture. Appropriate images will be uploaded for x86_64 and
aarch64, alternatively tempest_images can be overridden by the deployer.

This change is primarily designed to enable tempest testing via AIO/CI
on architectures other than x86_64.

For aarch64 we must use a cirros 0.4.0 image, as there is no earlier
version available for this architecture.

==

Paul Martin <paul.martin@codethink.co.uk>:

Replace cirros image with one with many updates, including kernel and
grub-uefi.

The Cirros 0.4.0 image contains a combination of kernel and grub-uefi
that doesn't parse the QEMU/KVM device tree information correctly,
leading to an image that fails to have a serial console or an interrupt
controller, so crashes silently at kernel initialization.

Depends-On: https://review.openstack.org/620018
Change-Id: Ic34103e0438c537fd0a6edd142ec2ad9ae29da1f
"
openstack%2Fopenstackdocstheme~master~Icbcbdc647d872956d150f09c37e931944d56ec2c,openstack/openstackdocstheme,master,update-bootstrap,Icbcbdc647d872956d150f09c37e931944d56ec2c,Remove a heap of dead CSS rules,MERGED,2019-05-29 14:47:39.000000000,2019-05-30 14:33:28.000000000,2019-05-30 14:33:28.000000000,38,3407,1,662007,8a82425e6c4419ec7ce0373b505633cf525c93e0,16,4,1,1,15334,Stephen Finucane,sfinucan,"Remove a heap of dead CSS rules

(Pronounced ""hay-p"" in Wesht Clare fashion).

These were discovered by searching for (and not finding) the relevant
class/id attributes in the HTML templates:

  ag -w --ignore bootstrap.min.css --ignore bootstrap.min.js \
    --ignore jquery-3.2.1.js --ignore jquery-3.2.1.min.js \
    --ignore font-awesome.min.css $term

Most of them exist from the original creation of this theme [1] and are
were either used in the past or are used in places other than the Sphinx
theme (e.g. the OpenStack website [2]). They can be removed from here.

[1] https://opendev.org/openstack/openstackdocstheme/commit/cf9c89fa9
[2] https://opendev.org/osf/openstackweb

Change-Id: Icbcbdc647d872956d150f09c37e931944d56ec2c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~I1325171ef60d7a7e3b57373082fcdb5487be939b,openstack/puppet-tripleo,stable/queens,bug/1829338-stable/queens,I1325171ef60d7a7e3b57373082fcdb5487be939b,Fix horizon firewall rules in composable roles,MERGED,2019-05-30 06:31:06.000000000,2019-05-30 14:30:25.000000000,2019-05-30 14:30:25.000000000,28,0,0,662137,ec4b1b6fc4c950958ca976f8c0cadb07cd83439c,7,3,1,2,20172,Michele Baldessari,michele,"Fix horizon firewall rules in composable roles

Atm horizon haproxy firewall rules obfuscate any other rule defined via
the tripleo.haproxy.firewall_rules key.

Things broke with https://review.opendev.org/#/c/625600/.  The reason
that was pushed is that in composable roles, when splitting off horizon
away from where haproxy runs, we would not have the proper iptables rules
on the haproxy role. This was due to the fact that we had
the following code:
      service_config_settings:
        haproxy:
          tripleo.horizon.firewall_rules:
            '127 horizon':
              dport:
                - 80
                - 443

The above code never worked as explained in
3f8ce6fd96bc4f28a052b4c87a19b4b152734091 and so we fixed it by setting
the proper tripleo.haproxy.firewall_rules key. The issue is that rules
for haproxy should just never have been set at all via
service_config_settings keys in the first place. As demonstrated with
this bug, the merging of hiera dictionaries will mess us up and we'll
end up overwriting other keys. Haproxy stats access has this:
outputs:
  role_data:
    description: Role data for the HAproxy role.
    value:
      service_name: haproxy
      monitoring_subscription: {get_param: MonitoringSubscriptionHaproxy}
      config_settings:
        map_merge:
          - tripleo.haproxy.firewall_rules:
              '107 haproxy stats':
                dport: 1993

And since hiera will return the horizon settings for
tripleo.haproxy.firewall_rules which won't be deep merged with the
firewall rules from haproxy stats and so rule '107 haproxy stats' will
never be present.

Rules for haproxy need to happen in puppet-tripleo/manifests/haproxy*.
Normally they do, the exception is horizon which uses a specialized
horizon_endpoint.pp manifest which does not trigger these rules.

Let's create the firewall rules in haproxy/horizon_endpoint.pp like we
do for all other endpoints.

Tested and correctly got:
[root@controller-0 ~]# iptables -nvL |grep hor
    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 80 state NEW /* 100 horizon_haproxy ipv4 */
    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 443 state NEW /* 100 horizon_haproxy_ssl ipv4 */
    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 80,443 state NEW /* 126 horizon ipv4 */

Change-Id: I1325171ef60d7a7e3b57373082fcdb5487be939b
Related-Bug: #1829338
(cherry picked from commit 6c2e164adaa0bf0bbc38a3d69e16db105a5519aa)
(cherry picked from commit f58d8af343c24a709fdfb735534e2dc6b4209338)
(cherry picked from commit b34f02c7fe3acf3fcd33b0284a765268f403a142)
"
openstack%2Fopenstack-ansible~master~I56d40ffa27f42ec68b569dfda13314e9ce4f0cd2,openstack/openstack-ansible,master,ad-zun-support,I56d40ffa27f42ec68b569dfda13314e9ce4f0cd2,Add OpenStack Zun support to OSA,ABANDONED,2018-05-31 07:48:04.000000000,2019-05-30 14:14:32.000000000,,297,1,8,571400,98084e49fe09308cf384a7a3ffc90d4f3504e660,36,6,9,10,7353,Kevin Carter,cloudnull,"Add OpenStack Zun support to OSA

Zun provides for application container compute resources. This change
pulls in a new role and creates a new playbook to implement Zun in an
OSA cloud. The new service follows much of the same pattern as before
running nova compute and has many of the same building blocks. If a
deployer wanted to mix both Zun and Nova on the same host they could
without fear of conflict.

The Zun role will install everything needed for Zun to operate. This
includes ""kuryr"" and ""docker"".

Documentation has been added covering basic operational tasks and image
management with Zun.

Tests have been added ensuring that Zun is compatible with the rest of
the stack when testing most ""full"" scenarios.

Depends-On: https://review.openstack.org/#/c/574139/
Change-Id: I56d40ffa27f42ec68b569dfda13314e9ce4f0cd2
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fopenstack-helm~master~I9b98874ba943f5afb3de5d5bed779daa92e22b4f,openstack/openstack-helm,master,horizon-executable,I9b98874ba943f5afb3de5d5bed779daa92e22b4f,Set the execution flag for 085-horizon.sh script,MERGED,2019-05-29 12:39:34.000000000,2019-05-30 14:13:40.000000000,2019-05-30 14:13:40.000000000,0,0,0,661965,5add8df53255a364fcc3c6f6ff0c641010efb08e,9,5,1,1,9963,Jiri Suchomel,jsuchome,"Set the execution flag for 085-horizon.sh script

Change-Id: I9b98874ba943f5afb3de5d5bed779daa92e22b4f
"
openstack%2Fcharm-swift-proxy~master~I470ea76a543a7a5bef8fb2c4ca9f91c59715d519,openstack/charm-swift-proxy,master,bug/1827356,I470ea76a543a7a5bef8fb2c4ca9f91c59715d519,Allow disabling load balancing,NEW,2019-05-30 13:34:52.000000000,2019-05-30 14:10:01.000000000,,5,0,0,662218,2aa2148968ef5f90ae521eb1a9efe7827968f709,4,3,1,1,24504,Tytus Kurek,tkurek,"Allow disabling load balancing

This patchset implements a logic to control whether HAProxy load
balancing should be enabled or not based on the 'ha-lb-enable' config
option.

Depends-On: https://github.com/juju/charm-helpers/pull/331
Change-Id: I470ea76a543a7a5bef8fb2c4ca9f91c59715d519
Closes-Bug: 1827356
"
openstack%2Fopenstackdocstheme~master~Ie52a2a035edc64f97854e3b2df54e10b56f8e46d,openstack/openstackdocstheme,master,update-bootstrap,Ie52a2a035edc64f97854e3b2df54e10b56f8e46d,Removed 'combined.css' for 'starlingxdocs' theme,MERGED,2019-05-29 14:47:39.000000000,2019-05-30 14:05:30.000000000,2019-05-30 14:05:30.000000000,1,4535,0,662006,4d5e438556bf614dbb65317c264e50347c3e2825,15,3,1,1,15334,Stephen Finucane,sfinucan,"Removed 'combined.css' for 'starlingxdocs' theme

The 'starlingxdocs' theme gets this for free on account of it inheriting
from the 'openstackdocs' theme (in 'theme.conf'). There's no need for
this.

Change-Id: Ie52a2a035edc64f97854e3b2df54e10b56f8e46d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fosc-placement~stable%2Fqueens~I6dfcd4e327ea535fdee3ce740c9b817ed790de7e,openstack/osc-placement,stable/queens,py35-stable/queens,I6dfcd4e327ea535fdee3ce740c9b817ed790de7e,Migrate legacy-osc-placement-dsvm-functional job in-tree,MERGED,2018-03-26 20:05:08.000000000,2019-05-30 14:05:05.000000000,2019-05-29 20:10:11.000000000,139,0,6,556635,32f5199e4039f71ff20b7f178f2d527433eabf94,24,6,5,3,6873,Matt Riedemann,mriedem,"Migrate legacy-osc-placement-dsvm-functional job in-tree

This migrates the legacy-osc-placement-dsvm-functional job
from openstack-zuul-jobs and renames it to drop the legacy part
and branch override stuff.

Note that this has to account for the opendev namespace migration
(see b0af0d98cc81314e73f358de7f2c3d20a56ea043 in stable/rocky).

Change-Id: I6dfcd4e327ea535fdee3ce740c9b817ed790de7e
(cherry picked from commit 2e8b471759ab51c03e00d81c1cd37d2f8a4d7309)
"
openstack%2Fopenstackdocstheme~master~Id84f1e59665026b32f07b230ff2e6be483398521,openstack/openstackdocstheme,master,update-bootstrap,Id84f1e59665026b32f07b230ff2e6be483398521,css: Add symlinks for openstack logos,MERGED,2019-05-29 14:47:39.000000000,2019-05-30 14:04:47.000000000,2019-05-30 14:04:47.000000000,4,2,0,662005,b71661833ffd3576e735117ab0b42f4507714bc1,15,3,1,3,15334,Stephen Finucane,sfinucan,"css: Add symlinks for openstack logos

This helps us eliminate the diff of the 'combined.css' file in the
starlingxdocs and openstackdocs themes.

Change-Id: Id84f1e59665026b32f07b230ff2e6be483398521
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnetworking-bgpvpn~master~I537cdb447953e538302fa9107fa56b1461bfe1c6,openstack/networking-bgpvpn,master,dropping-py35-testing,I537cdb447953e538302fa9107fa56b1461bfe1c6,Dropping the py35 testing,MERGED,2019-04-15 02:09:30.000000000,2019-05-30 13:59:04.000000000,2019-05-30 13:59:03.000000000,2,11,0,652488,cbe0a20e016e685df1a93e806b919bad173d82fb,11,3,2,3,8556,Ghanshyam,ghanshyam,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I537cdb447953e538302fa9107fa56b1461bfe1c6
"
openstack%2Fnova~master~I1b4efe8afb302d94c810389e124c5370cbe72ddf,openstack/nova,master,bug/1830800,I1b4efe8afb302d94c810389e124c5370cbe72ddf,"Fix the server group ""policy"" field type in api-ref",MERGED,2019-05-29 01:19:53.000000000,2019-05-30 13:55:36.000000000,2019-05-29 21:44:49.000000000,1,1,0,661869,961435453552569754cb7801c1e5c366dd9d16a8,16,12,1,1,20722,Yikun Jiang,yikunkero,"Fix the server group ""policy"" field type in api-ref

The server group policy field added in v2.64 is a string but
the API reference says the parameter is an object.

This patch changes it from ""object"" to ""string"".

Change-Id: I1b4efe8afb302d94c810389e124c5370cbe72ddf
Closes-bug: #1830800
"
openstack%2Ffreezer-tempest-plugin~master~I9b06824371c17efee0095a1d329f7d9da6c06903,openstack/freezer-tempest-plugin,master,,I9b06824371c17efee0095a1d329f7d9da6c06903,Change jobs to no-voting,MERGED,2019-05-30 08:36:45.000000000,2019-05-30 13:49:59.000000000,2019-05-30 13:49:59.000000000,13,6,1,662162,b27219b4b998b8cf6cbd2fb8ccf278dd1e8bee02,12,2,2,1,21069,Carl caihui,caihui,"Change jobs to no-voting

Falcon 2.0.0 has an issue [0] with parsing request query parameters that
is causing several blocking tempest jobs  failures for the freezer project.

[0] https://github.com/falconry/falcon/issues/1547

Change-Id: I9b06824371c17efee0095a1d329f7d9da6c06903
"
openstack%2Fnova-specs~master~Ic22019b691faeaedf10a92c7cbbd2a4363b3bfd8,openstack/nova-specs,master,bp/support-move-ops-with-qos-ports,Ic22019b691faeaedf10a92c7cbbd2a4363b3bfd8,Server move operations with ports having resource request,MERGED,2019-04-15 09:47:26.000000000,2019-05-30 13:35:42.000000000,2019-05-30 13:35:42.000000000,303,0,120,652608,7bd0dfc8ce0281d925283e40b62ae6f0af3a0aee,48,10,8,1,9708,Balazs Gibizer,gibi,"Server move operations with ports having resource request

Since microversion 2.72 nova supports creating servers with neutron
ports having resource request. However moving such servers are not
possible due to missing resource handling implementation in nova.

Change-Id: Ic22019b691faeaedf10a92c7cbbd2a4363b3bfd8
Blueprint: support-move-ops-with-qos-ports
"
openstack%2Fpuppet-ovn~master~I7e098075580721dfb7d3fb4b696ca8d33743ef84,openstack/puppet-ovn,master,ovn_dpdk,I7e098075580721dfb7d3fb4b696ca8d33743ef84,Add DPDK support for OVN,MERGED,2019-03-19 11:06:53.000000000,2019-05-30 13:31:46.000000000,2019-04-02 15:20:23.000000000,38,3,0,644542,97132fbf778b3cc0e0957f03cce08d4319de3a9c,19,7,4,2,18575,Saravanan KR,saravanankr,"Add DPDK support for OVN

OvS-DPDK on host requires the datapath type to be set
as netdev and then invoking vswitch::dpdk to apply the
DPDK specific parameters. Exposing those parameters
to be used by the deployer.

Change-Id: I7e098075580721dfb7d3fb4b696ca8d33743ef84
"
openstack%2Fpuppet-neutron~master~Idf81990d4075f4332d99326170ed733452a85cab,openstack/puppet-neutron,master,ovn_dpdk,Idf81990d4075f4332d99326170ed733452a85cab,Add DPDK support for OVN,MERGED,2019-03-19 11:12:48.000000000,2019-05-30 13:31:24.000000000,2019-04-02 18:05:27.000000000,13,0,0,644544,c24b1dd86d54a939ed0a044e1d09eb1afc5dc4c1,26,7,3,2,18575,Saravanan KR,saravanankr,"Add DPDK support for OVN

OvS-DPDK requires the vhostuser socket directory to be
specific directory, which need to be shared between OvS
and qemu. Deployer will create a directory with required
access permissions. OVN should use the provided directory
to create the vhostuser sockets.

Change-Id: Idf81990d4075f4332d99326170ed733452a85cab
"
openstack%2Fopenstack-helm~master~I398596fa65b15cae35e5df5a23bafd8e8db077a2,openstack/openstack-helm,master,fix-nova-volume-mounts,I398596fa65b15cae35e5df5a23bafd8e8db077a2,fix wrong mount key for scheduler and consoleauth,MERGED,2019-05-17 07:35:08.000000000,2019-05-30 13:28:41.000000000,2019-05-30 13:28:41.000000000,2,2,0,659732,8157acc618278f96191108410f81ddc0d11b1ce4,14,6,1,2,1523,SeungjinHan,yongiman,"fix wrong mount key for scheduler and consoleauth

nova-scheduler and consoleauth define wrong
name for value of volume mount.

Change-Id: I398596fa65b15cae35e5df5a23bafd8e8db077a2
"
openstack%2Ftripleo-heat-templates~master~Ic45b74c83b99dc58cd6e0f0f45d421b88c7e97a1,openstack/tripleo-heat-templates,master,leapp,Ic45b74c83b99dc58cd6e0f0f45d421b88c7e97a1,Reintroduce upgrade tasks for stopping pacemaker cluster,MERGED,2019-05-30 07:35:54.000000000,2019-05-30 13:24:55.000000000,2019-05-30 13:24:55.000000000,8,3,5,662150,f8ca0d41add4254401654c89f146d8c38a3d9ac3,11,5,1,1,8042,Ji Strnsk,jistr,"Reintroduce upgrade tasks for stopping pacemaker cluster

It is likely that change I50a1289a864f804d02a2e2bc0ca8738a186beff0
broke upgrade CI, even though the job somehow passed on it. MariaDB
upgrade tasks now cannot remove the container image, because it's
being used by a running container. Let's keep all tasks for stopping
Pacemaker cluster for now, both untagged ones and the ones tagged for
system_upgrade_prepare step.

Change-Id: Ic45b74c83b99dc58cd6e0f0f45d421b88c7e97a1
Closes-Bug: #1831022
"
openstack%2Fopenstack-ansible~master~I0a9e8e86cd1eb40f55d40eb291f49563a433fd82,openstack/openstack-ansible,master,,I0a9e8e86cd1eb40f55d40eb291f49563a433fd82,Move hosts file management toggle to all group vars,MERGED,2019-05-29 17:25:25.000000000,2019-05-30 13:19:49.000000000,2019-05-30 09:04:02.000000000,3,3,0,662050,c06e6b5885b4edf074c118f1be8362926e5a6e0c,12,4,1,2,17799,Logan V,Logan2211,"Move hosts file management toggle to all group vars

In Queens, the hosts file management began occurring on all hosts
and containers because openstack_hosts role now runs on all inventory
items (prior to Queens, it only ran on 'hosts'). The flag for managing
the /etc/hosts management should now be moved to the 'all' group
vars.

Change-Id: I0a9e8e86cd1eb40f55d40eb291f49563a433fd82
"
openstack%2Fmonasca-agent~master~Icbf305435d1bacdeabd1654af5e14b58a3248282,openstack/monasca-agent,master,,Icbf305435d1bacdeabd1654af5e14b58a3248282,Add information about Prometheus plugin to README,MERGED,2019-05-24 11:14:54.000000000,2019-05-30 13:15:49.000000000,2019-05-30 13:15:49.000000000,31,20,2,661256,9854fbc93f1b5d6ec708e4a860d407c25e6878ca,13,5,2,2,16222,witek,witek,"Add information about Prometheus plugin to README

Prometheus plugin support is emphasized in README.rst. Also formating of
the first page is updated to improve readability. Promethes section in
Plugins.md is fixed to be correctly referenced from table of content.

Story: 2005625
Task: 30878
Change-Id: Icbf305435d1bacdeabd1654af5e14b58a3248282
"
openstack%2Fopenstackdocstheme~master~I819b4c398a0910468688115e68a0c4b9c2f74369,openstack/openstackdocstheme,master,update-bootstrap,I819b4c398a0910468688115e68a0c4b9c2f74369,css: Move bootstrap modifications to 'combined.css' (StarlingX),MERGED,2019-05-29 14:47:39.000000000,2019-05-30 13:12:43.000000000,2019-05-30 13:12:42.000000000,9,0,0,662004,8aaeb7aaba1db4db4e4e4e0d5d66f76c8886f3a7,11,3,1,1,15334,Stephen Finucane,sfinucan,"css: Move bootstrap modifications to 'combined.css' (StarlingX)

This was done for the 'openstackdocs' theme in change
Ia4732abfc9ad84e92ccc2beafa37c1a35bc10ef1 but was missed for the
'starlingxdocs' theme. Correct this.

Change-Id: I819b4c398a0910468688115e68a0c4b9c2f74369
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fopenstackdocstheme~master~If132c8edbc49dfb930e2ae49f7bdb1b864bd8692,openstack/openstackdocstheme,master,update-bootstrap,If132c8edbc49dfb930e2ae49f7bdb1b864bd8692,css: Use ellipsis for long titles in sidebar (StarlingX),MERGED,2019-05-29 14:47:39.000000000,2019-05-30 13:12:42.000000000,2019-05-30 13:12:42.000000000,5,1,0,662003,e2393e85ef1a4fe2c4d64ee3fd07efba0f6d83a9,11,3,1,1,15334,Stephen Finucane,sfinucan,"css: Use ellipsis for long titles in sidebar (StarlingX)

This was done for the 'openstackdocs' theme in change
I23bc2f4414b69c1ee4b9552f554423e457571554 but was missed for the
'starlingxdocs' theme. Correct this.

Change-Id: If132c8edbc49dfb930e2ae49f7bdb1b864bd8692
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fopenstackdocstheme~master~Iedc07651ed7a22391a08a517d7d06b339c1a2f74,openstack/openstackdocstheme,master,update-bootstrap,Iedc07651ed7a22391a08a517d7d06b339c1a2f74,css: Use https links (StarlingX),MERGED,2019-05-29 14:47:39.000000000,2019-05-30 13:12:41.000000000,2019-05-30 13:12:41.000000000,2,2,0,662002,ab95ba719e5ea27017652fd81861eb3e07504133,13,5,1,1,15334,Stephen Finucane,sfinucan,"css: Use https links (StarlingX)

This was done for the 'openstackdocs' theme in change
Iec7c7e1d99306c19032377c809bc1772ca036a15 but was missed for the
'starlingxdocs' theme.

Change-Id: Iedc07651ed7a22391a08a517d7d06b339c1a2f74
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~stable%2Frocky~I01c63e685113bf30e687ccb14a4d18e344b306f6,openstack/nova,stable/rocky,bug1821373,I01c63e685113bf30e687ccb14a4d18e344b306f6,Fix retry of instance_update_and_get_original,MERGED,2019-05-15 15:31:36.000000000,2019-05-30 13:12:25.000000000,2019-05-30 13:12:24.000000000,56,21,0,659318,4540cd6ef9731837cf4ed1e56850bcfa3512ae1c,20,8,2,2,9555,Matthew Booth,MatthewBooth,"Fix retry of instance_update_and_get_original

_instance_update modifies its 'values' argument. Consequently if it is
retried due to an update conflict, the second invocation has the wrong
arguments.

A specific issue this causes is that if we called it with
expected_task_state a concurrent modification to task_state will cause
us to fail and retry. However, expected_task_state will have been popped
from values on the first invocation and will not be present for the
second. Consequently the second invocation will fail to perform the
task_state check and therefore succeed, resulting in a race.

We rewrite the old race unit test which wasn't testing the correct
thing for 2 reasons:

1. Due to the bug fixed in this patch, although we were calling
   update_on_match() twice, the second call didn't check the task state.
2. side_effect=iterable returns function items without executing them,
   but we weren't hitting this due to the bug fixed in this patch.

Closes-Bug: #1821373
Change-Id: I01c63e685113bf30e687ccb14a4d18e344b306f6
(cherry picked from commit aae5c7aa3819ad9161fd2effed3872d540099230)
(cherry picked from commit 61fef49b1555c6509398fc47c21319c1b5e50505)
"
openstack%2Fironic~master~Ibffa324ac97395b40a82cee8041d88cd2bef4bc2,openstack/ironic,master,,Ibffa324ac97395b40a82cee8041d88cd2bef4bc2,"Revert ""Drop most of the tests to fix CI""",ABANDONED,2019-04-23 16:51:27.000000000,2019-05-30 12:59:55.000000000,,25,25,0,655196,b171908af9eb9212d0bdb05aaabed73417851ef3,5,3,1,1,11655,Julia Kreger,jkreger,"Revert ""Drop most of the tests to fix CI""

Reverts temporary testing changes.

This reverts commit 9329b88a1e361e9a70b871c8cb61390395a855f6.

Change-Id: Ibffa324ac97395b40a82cee8041d88cd2bef4bc2
"
openstack%2Fproject-config~master~I06dcb09a4825a8e39d2dc000e7425649aea7e6a8,openstack/project-config,master,letsencrypt,I06dcb09a4825a8e39d2dc000e7425649aea7e6a8,Fix mirror hostnames after opendev migration test,MERGED,2019-05-30 12:48:24.000000000,2019-05-30 12:52:30.000000000,2019-05-30 12:52:30.000000000,3,3,0,662201,9023462978134993e2ac7c08cc78b4637f08d6a0,5,3,1,1,5263,Jeremy Stanley,fungi,"Fix mirror hostnames after opendev migration test

Brown bag fix for errors in
I631e3e3592a9be5c7da642cf34eec6d9758bf161 which are causing job
failures.

Change-Id: I06dcb09a4825a8e39d2dc000e7425649aea7e6a8
"
openstack%2Fpaunch~master~Ia0e278bf5731aa5d09739d54f4db64dbaf85d037,openstack/paunch,master,,Ia0e278bf5731aa5d09739d54f4db64dbaf85d037,Introduce the systemctl module to provide simple systemctl commands wrap,MERGED,2019-05-22 17:56:50.000000000,2019-05-30 12:41:28.000000000,2019-05-28 18:17:06.000000000,166,21,0,660794,2567495f158903a9adb6ee1be2fda383103c9416,21,5,6,3,28522,Herv Beraud,hberaud,"Introduce the systemctl module to provide simple systemctl commands wrap

Centralize all the subprocess dedicated to call systemctl in a dedicated
wrapper to ensure straightforward usage and dedicated unit test less
in a functional approach and also reduce the technical debt.

This module can continue to evolve to reflect the real systemctl command
signatures and dedicated parameters and related checks if needed.

Change-Id: Ia0e278bf5731aa5d09739d54f4db64dbaf85d037
"
openstack%2Fnetworking-ovn~master~I4d402f3057490622d368683e8689850d12426430,openstack/networking-ovn,master,bug/1794260,I4d402f3057490622d368683e8689850d12426430,Modify Member operations and Pool status changes,MERGED,2019-02-13 10:52:33.000000000,2019-05-30 12:15:53.000000000,2019-05-30 12:15:53.000000000,92,26,31,636589,c0b2e0bc0071d183c79ad3196a7b54aae70e1719,94,9,30,2,17776,Reedip,Reedip,"Modify Member operations and Pool status changes

The patch handles the following changes:

- Since HealthMonitors are a not a part of OVN Octavia LB Driver,
handle the changes for Member operations.
- Pools should be OFFLINE till a member to it.
- Change the behavior of the Member Update functionality.

Change-Id: I4d402f3057490622d368683e8689850d12426430
"
openstack%2Fnetworking-bgpvpn~master~I728f38a4e43416cb2951d6ae7ca032f769d3666b,openstack/networking-bgpvpn,master,bug/1821676,I728f38a4e43416cb2951d6ae7ca032f769d3666b,Fix sphinx requirements,ABANDONED,2019-05-23 20:29:09.000000000,2019-05-30 12:09:59.000000000,,4,2,0,661112,9f706da9607387e0512776f0d003f56844d3f6b2,3,1,1,2,5367,boden,boden,"Fix sphinx requirements

Fix sphinx requirements for python 3 so that tests work again, this is
needed to fix networking-l2gw-tempest-dummy for
https://review.opendev.org/659960.

This commit includes the following unrelated changes
to pass the gate.
----------------------------------------
Update psycopg2 to fix lower constraint issue

This is a copy and paste from:
    https://review.opendev.org/#/c/645299/

Closes-Bug: #1821676
Change-Id: I728f38a4e43416cb2951d6ae7ca032f769d3666b
----------------------------------------
"
openstack%2Fmonasca-notification~stable%2Fstein~Ife27fed83d28d47cc99ee07c4a8c0c4dac32c2da,openstack/monasca-notification,stable/stein,,Ife27fed83d28d47cc99ee07c4a8c0c4dac32c2da,Fix loading of notification plugins,MERGED,2019-05-02 11:13:28.000000000,2019-05-30 11:47:56.000000000,2019-05-30 11:47:56.000000000,4,4,1,656763,8e36cd14f353aaae69fa4faba7e800100197e241,16,5,3,2,17669,Doug Szumski,DougSzumski,"Fix loading of notification plugins

Inconsistent naming of plugins can cause an import error. This
commit standardises the naming so that all imports are parsed
correctly.

Story: 2005545
Task: 30689

Change-Id: Ife27fed83d28d47cc99ee07c4a8c0c4dac32c2da
(cherry picked from commit 36bf8595c4c718c6250a1b79d4837d83f16cc53a)
"
openstack%2Fnova~master~I4bc81b482380c5778781659c4d167a712316dab4,openstack/nova,master,bug/1724172,I4bc81b482380c5778781659c4d167a712316dab4,cleanup evacuated instances not on hypervisor,MERGED,2017-10-17 13:46:09.000000000,2019-05-30 11:23:13.000000000,2019-05-29 22:41:46.000000000,119,13,16,512623,9cacaad14e8c18e99e85d9dc04308fee91303f8f,233,26,15,2,9708,Balazs Gibizer,gibi,"cleanup evacuated instances not on hypervisor

When the compute host recovers from a failure the compute manager
destroys instances that were evacuated from the host while it was down.
However these code paths only consider evacuated instances that are
still reported by the hypervisor. This means that if the compute
host is recovered in a way that the hypervisor lost the definition
of the instances (for example the compute host was redeployed) then
the allocation of these instances will not be deleted.

This patch makes sure that the instance allocation is cleaned up
even if the driver doesn't return that instance as exists on the
hypervisor.

Note that the functional test coverage will be added on top as it needs
some refactoring that would make the bugfix non backportable.

Change-Id: I4bc81b482380c5778781659c4d167a712316dab4
Closes-Bug: #1724172
"
openstack%2Fopenstackdocstheme~master~I83f72ee18c0700aa11ae50287335fdc3ddeb560e,openstack/openstackdocstheme,master,update-bootstrap,I83f72ee18c0700aa11ae50287335fdc3ddeb560e,css: Don't use bold text in titles (StarlingX),MERGED,2019-05-29 14:47:39.000000000,2019-05-30 11:13:51.000000000,2019-05-30 11:13:51.000000000,11,1,0,662001,65e993935dd54b0aa8f79ee848e97cf0e8f68c9b,7,3,1,1,15334,Stephen Finucane,sfinucan,"css: Don't use bold text in titles (StarlingX)

This was already done for the 'openstackdocs' theme in change
I43d6f4f58e385e189c4f377ba02a6f9294862fe4 but was missed for the
'starlingxdocs' theme. Correct this.

Change-Id: I83f72ee18c0700aa11ae50287335fdc3ddeb560e
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Related-Bug: #1818840
"
openstack%2Ftripleo-upgrade~stable%2Fstein~If50109753d4845357c869986c256186e8e22006d,openstack/tripleo-upgrade,stable/stein,network-data-file-stable/stein,If50109753d4845357c869986c256186e8e22006d,Add support for network-data-file.,MERGED,2019-05-29 12:55:16.000000000,2019-05-30 10:49:46.000000000,2019-05-30 10:49:46.000000000,21,0,0,661972,44810b2a10a712eee64de119a90b02b13360be19,7,4,1,5,21537,Yurii Prokulevych,yprokule,"Add support for network-data-file.

TripleO offers a default network topology when deploying
with network isolation enabled, and this is reflected in
the network_data.yaml file in tripleo-heat-templates.
If this is the case it has to be handled during update/upgrade.

Change-Id: If50109753d4845357c869986c256186e8e22006d
(cherry picked from commit 663d380f6fe0e21d58de3aa55cce3cdf9c849ef1)
"
openstack%2Fcharm-glance~stable%2F19.04~I6e77bba1d66ea08671d45c464d4e76796a4e6ab9,openstack/charm-glance,stable/19.04,,I6e77bba1d66ea08671d45c464d4e76796a4e6ab9,Sync in CephContext fix,MERGED,2019-05-29 15:06:47.000000000,2019-05-30 10:30:45.000000000,2019-05-30 10:30:45.000000000,19,0,0,662015,5297ec1a07d728b689471d561aed18a094e962ec,11,5,1,1,20634,Chris MacNaughton,Chris.MacNaughton,"Sync in CephContext fix

Change-Id: I6e77bba1d66ea08671d45c464d4e76796a4e6ab9
"
openstack%2Fpython-novaclient~master~Ia9a706e7d27f352e50d3c0037fed020fede7d915,openstack/python-novaclient,master,,Ia9a706e7d27f352e50d3c0037fed020fede7d915,pypy is not checked at gate,ABANDONED,2018-03-21 16:27:54.000000000,2019-05-30 10:21:35.000000000,,1,1,0,554983,6a3876fbc0641f64ece980e1d006d3ea7e26c2b4,5,3,1,1,25983,Saju M,sanjufoss,"pypy is not checked at gate

Change-Id: Ia9a706e7d27f352e50d3c0037fed020fede7d915
"
openstack%2Fnova~stable%2Fqueens~I29c5f491ec20a71283190a1599e7732541de736f,openstack/nova,stable/queens,bug/1821594,I29c5f491ec20a71283190a1599e7732541de736f,Delete allocations even if _confirm_resize raises,MERGED,2019-04-12 21:10:39.000000000,2019-05-30 10:13:19.000000000,2019-05-30 10:13:19.000000000,88,56,0,652153,b8435d6001c30e67ac277e414b11708d4d660555,31,14,3,2,6873,Matt Riedemann,mriedem,"Delete allocations even if _confirm_resize raises

When we are confirming a resize, the guest is on the dest
host and the instance host/node values in the database
are pointing at the dest host, so the _confirm_resize method
on the source is really best effort. If something fails, we
should not leak allocations in placement for the source compute
node resource provider since the instance is not actually
consuming the source node provider resources.

This change refactors the error handling around the _confirm_resize
call so the big nesting for _error_out_instance_on_exception is
moved to confirm_resize and then a try/finally is added around
_confirm_resize so we can be sure to try and cleanup the allocations
even if _confirm_resize fails in some obscure way. If _confirm_resize
does fail, the error gets re-raised along with logging a traceback
and hint about how to correct the instance state in the DB by hard
rebooting the server on the dest host.

Change-Id: I29c5f491ec20a71283190a1599e7732541de736f
Closes-Bug: #1821594
(cherry picked from commit 03a6d26691c1f182224d59190b79f48df278099e)
(cherry picked from commit 5f515060f6c79f113f7b8107596e41056445c79f)
(cherry picked from commit 37ac54a42ec91821d62864d63c486c002608491b)
"
openstack%2Fnova~master~Idb4c4380c32f78d639f41cb1b5204578e1a19cd3,openstack/nova,master,debug-domain-caps,Idb4c4380c32f78d639f41cb1b5204578e1a19cd3,Reduce logging of host hypervisor capabilities to DEBUG level,MERGED,2019-05-24 19:05:42.000000000,2019-05-30 09:51:31.000000000,2019-05-29 04:00:18.000000000,2,2,0,661379,ea77b41b66d40a7cff32b23deaea9a9768b705c1,43,17,3,1,2394,Adam Spiers,adam.spiers,"Reduce logging of host hypervisor capabilities to DEBUG level

While the results of invoking libvirt's getCapabilities() API call get
deliberately logged at INFO level[0], doing the same for
getDomainCapabilities() is one bridge too far, because we call it once
per (architecture, default_machine_type) tuple.

So heed the suggestions of Stephen and Eric[1] and reduce it to DEBUG level.

[0] See Ica0dccbfbff89829a7e631adaaf2cde13c449773 at
    https://review.opendev.org/#/c/158334/
[1] https://review.opendev.org/#/c/655268/3/nova/virt/libvirt/host.py@777

Change-Id: Idb4c4380c32f78d639f41cb1b5204578e1a19cd3
"
openstack%2Fcharm-swift-storage~master~I81732c8628cb36af0e5427626ca92275e7b2c98b,openstack/charm-swift-storage,master,bug/1819700,I81732c8628cb36af0e5427626ca92275e7b2c98b,Migrate to safer disk handling,NEW,2019-03-15 14:08:32.000000000,2019-05-30 09:37:08.000000000,,937,117,0,643593,066d93621bab4f44cd071fba0378666b7e592cdb,16,5,5,19,20634,Chris MacNaughton,Chris.MacNaughton,"Migrate to safer disk handling

Previously, it was possible, via a race condition, for
this charm to reformat disks that were used for Swift
backing storage if the charm execution started before
disks were fully setup in Swift after a boot.

This change integrates the solution adopted in the Ceph
charms that alow managing Swift devices via actions
when uncertainty is detected during hook execution.

This change adds new new actions to ease management of
disks:

- list-disks
- add-disk
- blacklist-add-disk
- blacklist-remove-disk

Change-Id: I81732c8628cb36af0e5427626ca92275e7b2c98b
Closes-Bug: #1819700
"
openstack%2Fnetworking-midonet~master~I41a6232452c1e7c770ae6d68e53c35d76dfe7bd1,openstack/networking-midonet,master,python3-train,I41a6232452c1e7c770ae6d68e53c35d76dfe7bd1,Update Python 3 test runtimes for Train,MERGED,2019-05-16 06:23:03.000000000,2019-05-30 09:30:01.000000000,2019-05-30 09:30:01.000000000,17,5,0,659446,a6b890f0e21d3a30c9bfa514820da5dc0926f716,13,5,3,4,6854,YAMAMOTO Takashi,yamamoto,"Update Python 3 test runtimes for Train

Following Neutron: https://review.opendev.org/#/c/657940/

Change-Id: I41a6232452c1e7c770ae6d68e53c35d76dfe7bd1
"
openstack%2Fhorizon~master~Id694cd2ef92ad3c509d1692febfe557c2549492f,openstack/horizon,master,Bug#delete_clean_name,Id694cd2ef92ad3c509d1692febfe557c2549492f,Delete clean_name method,NEW,2019-04-11 06:19:26.000000000,2019-05-30 09:26:21.000000000,,0,47,2,651699,db30e52397da710f79d6945c479b8d58d109d1fc,11,4,4,4,27822,pengyuesheng,pengyuesheng,"Delete clean_name method

Django has checked if the fields are empty,
clean_name is redundant here, so delete them

depend on https://github.com/django/django/blob/54b331451cb22ee354beadf31ee42cbd714877f0/django/forms/fields.py#L221-L229

Change-Id: Id694cd2ef92ad3c509d1692febfe557c2549492f
"
openstack%2Fmistral~master~Ic73f2112406e681ae8a2aa67bcbccebe488fc03c,openstack/mistral,master,rework_finding_joins,Ic73f2112406e681ae8a2aa67bcbccebe488fc03c,Rework finding indirectly affected created joins,MERGED,2019-05-29 22:17:04.000000000,2019-05-30 09:21:50.000000000,2019-05-30 09:21:50.000000000,43,52,0,662102,c52688523ce47f1b58e370768932bf3bc0f7798d,7,6,1,1,11391,Mikhail Fedosin,fedosinme,"Rework finding indirectly affected created joins

Current algorithm of finding the joins requires a recursive search
through the execution graph, which leads to a large number of calls
to the database.

To optimize it we introduce a new algorithm that requires only one db
request. It downloads all potencial join task ids and names, and then
analyzes them without any additional db calls.

Change-Id: Ic73f2112406e681ae8a2aa67bcbccebe488fc03c
"
openstack%2Fcharm-specs~master~I3577098866392016174f7e6a8ca5693f99ffc74c,openstack/charm-specs,master,,I3577098866392016174f7e6a8ca5693f99ffc74c,Update home-page,ABANDONED,2019-01-11 17:12:40.000000000,2019-05-30 09:17:51.000000000,,1,1,0,630344,1bc9cd82c2557acef205b7dfa451bcc8da1831bd,6,3,1,1,26297,pippo,huang.zhiping,"Update home-page

Change-Id: I3577098866392016174f7e6a8ca5693f99ffc74c
"
openstack%2Fmonasca-api~master~I444e7c43ab52206d433cb20339ddf0caecaba61a,openstack/monasca-api,master,change_app_repo,I444e7c43ab52206d433cb20339ddf0caecaba61a,Change repository links usage in Dockerfile and build image,MERGED,2019-05-13 09:09:10.000000000,2019-05-30 09:13:30.000000000,2019-05-30 09:13:30.000000000,6,6,2,658759,54d7da3446bf9f4e4994b9f6932e7e9906fe2bae,32,4,11,2,30221,Arseni Lipinski,arseni.lipinski,"Change repository links usage in Dockerfile and build image

Used to be: git.openstack.org/openstack/monasca-persister?h=stable/pike
Now : opendev.org/openstack/monasca-persister/src/branch/stable/pike

Since the way links to specific branches changed, usage of
those links has to be changed as well.
CONSTRAINTS_BRANCH variable was removed because CONSTRAINTS_FILE
contains link to the upper-requirements file with specified branch.

Story: 2005666
Task: 30967
Depends-On: https://review.opendev.org/#/c/659073/
Change-Id: I444e7c43ab52206d433cb20339ddf0caecaba61a
"
openstack%2Fnetworking-bgpvpn~master~I0a1e0d64bc0df9e5ce6e18cea0463163bc449451,openstack/networking-bgpvpn,master,,I0a1e0d64bc0df9e5ce6e18cea0463163bc449451,fix tox python3 overrides,ABANDONED,2018-06-09 06:22:36.000000000,2019-05-30 09:08:55.000000000,,9,0,0,573903,35056b52dedda3c029cfdf6d23763f2959599f61,10,5,2,1,26297,pippo,huang.zhiping,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I0a1e0d64bc0df9e5ce6e18cea0463163bc449451
"
openstack%2Ftrove-dashboard~master~Icf113315e34e3c9a1fda84c0f03e6348078f6d05,openstack/trove-dashboard,master,,Icf113315e34e3c9a1fda84c0f03e6348078f6d05,In tox.ini the python 3.5 is added,ABANDONED,2019-01-23 03:37:37.000000000,2019-05-30 09:08:07.000000000,,2,1,0,632603,424849cdb493c0ccc67cee3e43853b0d1c722111,6,4,1,1,26297,pippo,huang.zhiping,"In tox.ini the python 3.5 is added

Change-Id: Icf113315e34e3c9a1fda84c0f03e6348078f6d05
"
openstack%2Fkolla-ansible~master~I31c0691e1cf758080a9d911276c8bfa6bda0ee3d,openstack/kolla-ansible,master,bug/1830586,I31c0691e1cf758080a9d911276c8bfa6bda0ee3d,"Fix the incorrect ""ref"" directive",ABANDONED,2019-05-23 10:11:28.000000000,2019-05-30 09:07:08.000000000,,2,6,6,660965,066dd3936642ffbcab5b90c131a2dd16fdffeb4c,20,5,4,1,19779,Chason Chan,chenxing,"Fix the incorrect ""ref"" directive

The "":ref:"" directive doesn't work expertly in this situation. We can
use the other way to redirect this URL.

Closes-Bug: #1830586
Change-Id: I31c0691e1cf758080a9d911276c8bfa6bda0ee3d
"
openstack%2Fneutron~master~I30c2bd4ce3715cde60bc0cd3736bd9c75edc1df3,openstack/neutron,master,bug/1830895,I30c2bd4ce3715cde60bc0cd3736bd9c75edc1df3,Stop OVS agent before starting it again,MERGED,2019-05-29 12:39:46.000000000,2019-05-30 09:03:49.000000000,2019-05-30 09:03:49.000000000,2,0,1,661966,b77c79e5e8ee8127ccfc875e6e260f554694104b,19,10,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Stop OVS agent before starting it again

In TestOVSAgent, there are two tests where the OVS agent is
configured and started twice per test. Before the second call,
the agent should be stopped first.

Change-Id: I30c2bd4ce3715cde60bc0cd3736bd9c75edc1df3
Closes-Bug: #1830895
"
openstack%2Fnetworking-l2gw-tempest-plugin~master~I70c6f4f0a6e776229cb3ef1ec640ddbdba64acea,openstack/networking-l2gw-tempest-plugin,master,agent_job,I70c6f4f0a6e776229cb3ef1ec640ddbdba64acea,WIP: Adding new job with L2GW agent enabled,ABANDONED,2018-03-20 17:33:04.000000000,2019-05-30 08:57:38.000000000,,45,0,0,554643,a14b5a4329315769cb3ef257e1d2e6e7c009101c,15,2,6,2,21626,Ricardo,rnoriega,"WIP: Adding new job with L2GW agent enabled

  This job will launch a new ovsdb instance in the same
  aoi node loading the hardware_vtep schema. The l2gw agent
  will be able to manage this vtep emulator so we will test
  not only the api, but the agent logic.

Change-Id: I70c6f4f0a6e776229cb3ef1ec640ddbdba64acea
Signed-off-by: Ricardo Noriega <rnoriega@redhat.com>
"
openstack%2Fmonasca-api~master~Ifca5768d271a9a074e23aa60721cd9cbca107688,openstack/monasca-api,master,support-mysql-port-option,Ifca5768d271a9a074e23aa60721cd9cbca107688,Fix mysql connection error in docker env,MERGED,2019-04-18 09:12:14.000000000,2019-05-30 08:54:30.000000000,2019-05-30 08:54:30.000000000,2,1,1,653695,f39b1d9b53601af8f53b5184abd3c4bf70e83648,17,2,4,2,29970,jianweizhang,zhangjianwei,"Fix mysql connection error in docker env

Fix mysql connection bug.Support mysql connection port option.

Change-Id: Ifca5768d271a9a074e23aa60721cd9cbca107688
"
openstack%2Fpython-magnumclient~master~Ifcdb0f52cf6766fd8bd0f01771a1432853030c31,openstack/python-magnumclient,master,bug/1801693,Ifcdb0f52cf6766fd8bd0f01771a1432853030c31,Update min tox version to 2.0,ABANDONED,2019-01-22 02:36:26.000000000,2019-05-30 08:52:35.000000000,,1,1,0,632195,26a89bf561b38b171a22b6a4eafcc55183f74518,9,5,2,1,26297,pippo,huang.zhiping,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.  Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: Ifcdb0f52cf6766fd8bd0f01771a1432853030c31
Closes-Bug:  #1801693
"
openstack%2Fcharm-nova-cloud-controller~stable%2F19.04~I7efcf3f39e7dcd632b3d2a4b7b8f3e8befd7f5de,openstack/charm-nova-cloud-controller,stable/19.04,bug/1828085-stable/19.04,I7efcf3f39e7dcd632b3d2a4b7b8f3e8befd7f5de,Fix database parts templates for nova_alchemy_flags.,MERGED,2019-05-29 15:06:26.000000000,2019-05-30 08:33:50.000000000,2019-05-30 08:33:50.000000000,2,2,0,662014,01ba0270fd2939f86c8fce73fe1e9521f90e0a01,12,6,1,2,2276,Jorge Niedbalski,niedbalski,"Fix database parts templates for nova_alchemy_flags.

This commit uses .keys syntax instead of iterkeys
for fixing a traceback when setting nova_alchemy_flags != None.

Change-Id: I7efcf3f39e7dcd632b3d2a4b7b8f3e8befd7f5de
Closes-Bug: #1828085
(cherry picked from commit d491a10a81ce9aa228cab22927565a95a5123a45)
"
openstack%2Fdesignate~master~I21f3ccc74ec8a5fd82c9eacd6e2749586e5998df,openstack/designate,master,,I21f3ccc74ec8a5fd82c9eacd6e2749586e5998df,DNM: Trigger building api-ref,ABANDONED,2019-05-25 10:28:46.000000000,2019-05-30 07:54:18.000000000,,2,0,0,661443,2d6ef6ba27ff711c1e5f0fd2062ca2b803933f52,8,2,2,1,6547,Andreas Jaeger,jaegerandi,"DNM: Trigger building api-ref

the stacked change did not build api-ref, trigger building to show that
it works...

Change-Id: I21f3ccc74ec8a5fd82c9eacd6e2749586e5998df
"
openstack%2Fi18n~master~I628f765afba6ac0f85a3384b3227bfa9b2a261f8,openstack/i18n,master,min-tox-version,I628f765afba6ac0f85a3384b3227bfa9b2a261f8,Update min tox version to 2.0,ABANDONED,2018-11-06 15:47:07.000000000,2019-05-30 07:33:48.000000000,,1,1,2,615914,fcde2c7927d5d1ed3748bfdf8e35e5b6ac36902d,10,5,1,1,28956,Nguyen Hai Truong,truongnh,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0. Update to
reflect reality, which should help with local running of constraints
targets.

Change-Id: I628f765afba6ac0f85a3384b3227bfa9b2a261f8
"
openstack%2Fi18n~master~Idb7b4332f0dcffb789bdae0923373d0c98e2c8fe,openstack/i18n,master,,Idb7b4332f0dcffb789bdae0923373d0c98e2c8fe,Update Python 3 classifiers,ABANDONED,2018-09-29 08:22:01.000000000,2019-05-30 07:32:51.000000000,,7,1,5,606335,b2f03a88e01268bac14059646e1ac68f605387bd,18,4,4,2,17499,Filippo Inzaghi,qingszhao,"Update Python 3 classifiers

This patch removes classifiers for older versions of Python 3 and adds
one for Python 3.5.


Change-Id: Idb7b4332f0dcffb789bdae0923373d0c98e2c8fe
"
openstack%2Fmonasca-agent~master~I733a3081fcf969248fb79687ac04082e61b2e5c2,openstack/monasca-agent,master,github,I733a3081fcf969248fb79687ac04082e61b2e5c2,Replace github.com with opendev.org,MERGED,2019-05-24 11:42:22.000000000,2019-05-30 07:26:55.000000000,2019-05-30 07:26:55.000000000,6,6,12,661260,0c8c2e54f1bfb4cc8a6022e3ba879349805bdcf8,16,4,3,2,16222,witek,witek,"Replace github.com with opendev.org

The change also changes the formatting of the list to definition list.

Change-Id: I733a3081fcf969248fb79687ac04082e61b2e5c2
"
openstack%2Fopenstack-ansible-os_tempest~master~Ib1570e1ad522d8ed2913e6ee9c68b224a305c6c9,openstack/openstack-ansible-os_tempest,master,python3,Ib1570e1ad522d8ed2913e6ee9c68b224a305c6c9,[redhat] Added python3 packages for os_tempest role,ABANDONED,2019-05-30 07:20:08.000000000,2019-05-30 07:22:30.000000000,,26,2,0,662146,8dd7a9a8093ac531d6be50ed9e4059de4e5ded32,2,0,1,1,12393,chandan kumar,chkumar246,"[redhat] Added python3 packages for os_tempest role

It includes _tempest_plugin_distro_packages_python2
and _tempest_plugin_distro_packages_python3 var for including
python2 and python3 sub packages.

Change-Id: Ib1570e1ad522d8ed2913e6ee9c68b224a305c6c9
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fpython-monascaclient~master~Iea51da2f0d3c19ffd5b3204d495d01e4c9b31750,openstack/python-monascaclient,master,change_links,Iea51da2f0d3c19ffd5b3204d495d01e4c9b31750,Change repository links usage in Dockerfile and build image,MERGED,2019-05-14 14:12:38.000000000,2019-05-30 07:17:00.000000000,2019-05-30 07:16:59.000000000,6,6,11,659074,d02db953dc4be270f886b2dacc72251dcb0cf752,37,6,12,2,30221,Arseni Lipinski,arseni.lipinski,"Change repository links usage in Dockerfile and build image

Used to be: git.openstack.org/openstack/monasca-persister?h=stable/pike
Now : opendev.org/openstack/monasca-persister/src/branch/stable/pike

Since the way links to specific branches changed, usage of
those links has to be changed as well.
CONSTRAINTS_BRANCH variable was removed because CONSTRAINTS_FILE
contains link to the upper-requirements file with specified branch.

Story: 2005666
Task: 31056
Depends-On: https://review.opendev.org/659073
Change-Id: Iea51da2f0d3c19ffd5b3204d495d01e4c9b31750
"
openstack%2Fmonasca-notification~stable%2Frocky~Ife27fed83d28d47cc99ee07c4a8c0c4dac32c2da,openstack/monasca-notification,stable/rocky,,Ife27fed83d28d47cc99ee07c4a8c0c4dac32c2da,Fix loading of notification plugins,MERGED,2019-05-02 14:26:22.000000000,2019-05-30 07:05:07.000000000,2019-05-30 07:05:07.000000000,8,4,0,656783,5c007818649382b156bfa48a5a77071d45ce355f,12,3,3,2,17669,Doug Szumski,DougSzumski,"Fix loading of notification plugins

Inconsistent naming of plugins can cause an import error. This
commit standardises the naming so that all imports are parsed
correctly.

It also adds support for using short names for the previously
'built in plugins', which now need to be explictly enabled
when using Oslo config.

If this is confusing, then yes it is, the whole thing is a bit
of a mess.

Story: 2005545
Task: 30689

Change-Id: Ife27fed83d28d47cc99ee07c4a8c0c4dac32c2da
(cherry picked from commit 36bf8595c4c718c6250a1b79d4837d83f16cc53a)
"
openstack%2Fmonasca-notification~stable%2Frocky~I818212344268de5e90e72c5493a8632476ba254b,openstack/monasca-notification,stable/rocky,notification_oslo_config-stable/rocky,I818212344268de5e90e72c5493a8632476ba254b,Bug Fix: Parses notifier configuration options,MERGED,2019-05-02 14:02:12.000000000,2019-05-30 07:05:00.000000000,2019-05-30 07:05:00.000000000,11,0,0,656780,eaf01f35b1d1b906957810363d2a5496e3615bcd,14,4,2,2,17669,Doug Szumski,DougSzumski,"Bug Fix: Parses notifier configuration options

Successfully parses configuration options for enabled notifiers.
IMPORTANT: This requires the built-in notifiers be ""enabled""
in the configuration.

This patch is compliant with `https://review.openstack.org/#/c/435136/`
that in summary makes every notifier pluggable as apposed distinguished
built-in and pluggable notifiers.

Change-Id: I818212344268de5e90e72c5493a8632476ba254b
Story: #2003794
Task: #26507
(cherry picked from commit 2bc16e78347b56cc0f6dd904e7f5c53d031634a5)
"
openstack%2Fmonasca-notification~stable%2Frocky~I21c8a7ef793874a5ab7a4d277c9c3eb13896503d,openstack/monasca-notification,stable/rocky,,I21c8a7ef793874a5ab7a4d277c9c3eb13896503d,Blacklist bandit and update sphinx requirement,MERGED,2019-05-29 16:33:59.000000000,2019-05-30 07:04:54.000000000,2019-05-30 07:04:54.000000000,2,1,0,662033,22b603a63b9976c77b016768ec6a6663c7ff7f70,6,3,1,2,17669,Doug Szumski,DougSzumski,"Blacklist bandit and update sphinx requirement

The change blacklists the buggy version of bandit (1.6.0) and syncs
sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I21c8a7ef793874a5ab7a4d277c9c3eb13896503d
Story: 2005676
Task: 30990
(cherry picked from commit 1837192534436096b82fc82008e799e24398257f)
"
openstack%2Fmonasca-notification~stable%2Fstein~I21c8a7ef793874a5ab7a4d277c9c3eb13896503d,openstack/monasca-notification,stable/stein,,I21c8a7ef793874a5ab7a4d277c9c3eb13896503d,Blacklist bandit and update sphinx requirement,MERGED,2019-05-29 12:00:49.000000000,2019-05-30 07:04:48.000000000,2019-05-30 07:04:48.000000000,5,3,0,661953,95dec8863dd59eb69af18f8666ddcee72ce11b7f,6,2,1,3,16222,witek,witek,"Blacklist bandit and update sphinx requirement

The change blacklists the buggy version of bandit (1.6.0) and syncs
sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I21c8a7ef793874a5ab7a4d277c9c3eb13896503d
Story: 2005676
Task: 30990
(cherry picked from commit 1837192534436096b82fc82008e799e24398257f)
"
openstack%2Fironic-tempest-plugin~master~I341437b42754b08aa251f901b9d8757e0621f6c5,openstack/ironic-tempest-plugin,master,dnm,I341437b42754b08aa251f901b9d8757e0621f6c5,DNM: Just wondering which job runs multitenancy,ABANDONED,2018-12-07 14:30:17.000000000,2019-05-30 06:45:18.000000000,,1,0,0,623500,983c93d8f3f2d90f1bd90169bff98f2cdb4d098b,7,2,1,1,8655,Jakub Libosvar,jlibosva,"DNM: Just wondering which job runs multitenancy

Change-Id: I341437b42754b08aa251f901b9d8757e0621f6c5
"
openstack%2Fnova~master~I7c1ae466a6a6b6d82548396e0c94b1cdab600b5c,openstack/nova,master,bp/count-quota-usage-from-placement,I7c1ae466a6a6b6d82548396e0c94b1cdab600b5c,Add get_counts() to InstanceMappingList,MERGED,2019-02-20 04:14:09.000000000,2019-05-30 06:37:47.000000000,2019-05-30 05:33:39.000000000,71,2,33,638072,85e287d3ef698548c03c635a81d3b60b6ebe9ba8,194,20,20,3,4690,melanie witt,melwitt,"Add get_counts() to InstanceMappingList

This counts instance mappings for the purpopse of counting quota
usage for instances. By counting instances via instance mappings, the
count is resilient to down cells in a multi-cell environment.

Part of blueprint count-quota-usage-from-placement

Change-Id: I7c1ae466a6a6b6d82548396e0c94b1cdab600b5c
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I2f177c930567b3a45f0d95cec4140f478f14a074,openstack/tripleo-heat-templates,stable/rocky,bug/1829338,I2f177c930567b3a45f0d95cec4140f478f14a074,Remove the iptables rules set via service_config_settings,MERGED,2019-05-28 12:25:29.000000000,2019-05-30 06:31:21.000000000,2019-05-29 16:43:41.000000000,0,6,0,661746,ff10e2f6b9968d51f43c95eaf2082d85fe215a34,14,4,1,1,20172,Michele Baldessari,michele,"Remove the iptables rules set via service_config_settings

This breaks the rules for the haproxy stats access because it
shadows them. Let's remove these rules and move the iptables
rules for haproxy in puppet-tripleo where they should have
been in the first place, like for all other services.

NB: Cherry pick is clean but had to be moved to
puppet/services/horizon.yaml instead of the docker/services/horizon.yaml
Depends-On: I1325171ef60d7a7e3b57373082fcdb5487be939b
Change-Id: I2f177c930567b3a45f0d95cec4140f478f14a074
Closes-Bug: #1829338
(cherry picked from commit 114e5778f95d51e518c0ef73b05c54fca160dbe0)
(cherry picked from commit 6b4f03f9ea0e958e75f82040d674f67a6cdcfc87)
"
openstack%2Fpuppet-tripleo~stable%2Frocky~I1325171ef60d7a7e3b57373082fcdb5487be939b,openstack/puppet-tripleo,stable/rocky,bug/1829338,I1325171ef60d7a7e3b57373082fcdb5487be939b,Fix horizon firewall rules in composable roles,MERGED,2019-05-28 12:25:27.000000000,2019-05-30 06:31:06.000000000,2019-05-29 09:32:21.000000000,28,0,0,661745,b34f02c7fe3acf3fcd33b0284a765268f403a142,9,4,1,2,20172,Michele Baldessari,michele,"Fix horizon firewall rules in composable roles

Atm horizon haproxy firewall rules obfuscate any other rule defined via
the tripleo.haproxy.firewall_rules key.

Things broke with https://review.opendev.org/#/c/625600/.  The reason
that was pushed is that in composable roles, when splitting off horizon
away from where haproxy runs, we would not have the proper iptables rules
on the haproxy role. This was due to the fact that we had
the following code:
      service_config_settings:
        haproxy:
          tripleo.horizon.firewall_rules:
            '127 horizon':
              dport:
                - 80
                - 443

The above code never worked as explained in
3f8ce6fd96bc4f28a052b4c87a19b4b152734091 and so we fixed it by setting
the proper tripleo.haproxy.firewall_rules key. The issue is that rules
for haproxy should just never have been set at all via
service_config_settings keys in the first place. As demonstrated with
this bug, the merging of hiera dictionaries will mess us up and we'll
end up overwriting other keys. Haproxy stats access has this:
outputs:
  role_data:
    description: Role data for the HAproxy role.
    value:
      service_name: haproxy
      monitoring_subscription: {get_param: MonitoringSubscriptionHaproxy}
      config_settings:
        map_merge:
          - tripleo.haproxy.firewall_rules:
              '107 haproxy stats':
                dport: 1993

And since hiera will return the horizon settings for
tripleo.haproxy.firewall_rules which won't be deep merged with the
firewall rules from haproxy stats and so rule '107 haproxy stats' will
never be present.

Rules for haproxy need to happen in puppet-tripleo/manifests/haproxy*.
Normally they do, the exception is horizon which uses a specialized
horizon_endpoint.pp manifest which does not trigger these rules.

Let's create the firewall rules in haproxy/horizon_endpoint.pp like we
do for all other endpoints.

Tested and correctly got:
[root@controller-0 ~]# iptables -nvL |grep hor
    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 80 state NEW /* 100 horizon_haproxy ipv4 */
    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 443 state NEW /* 100 horizon_haproxy_ssl ipv4 */
    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 80,443 state NEW /* 126 horizon ipv4 */

Change-Id: I1325171ef60d7a7e3b57373082fcdb5487be939b
Related-Bug: #1829338
(cherry picked from commit 6c2e164adaa0bf0bbc38a3d69e16db105a5519aa)
(cherry picked from commit f58d8af343c24a709fdfb735534e2dc6b4209338)
"
openstack%2Fnova~master~I9fc5a9cc40ceffc450c1fde1df7fb36581e9cc94,openstack/nova,master,bp/cross-cell-resize,I9fc5a9cc40ceffc450c1fde1df7fb36581e9cc94,Fix hard-delete of instance with soft-deleted referential constraints,MERGED,2019-05-24 21:10:35.000000000,2019-05-30 05:55:07.000000000,2019-05-30 05:55:06.000000000,21,3,1,661398,0b92c7e741b5abb1df70cc1d3bb8f0d1989cf2f5,49,17,3,2,6873,Matt Riedemann,mriedem,"Fix hard-delete of instance with soft-deleted referential constraints

When hard-deleting an instance we first delete related records
but the code was not taking into account soft-deleted related
records which will result in the instance delete failing due to
a referential constraint because soft-deleted records are not
really deleted when it comes to table constraints.

This fixes the issue by simply passing read_deleted='yes' to the
related record model query in the hard delete path.

The related unit test is updated to cover this scenario and a
typo in that same test is also fixed here.

Change-Id: I9fc5a9cc40ceffc450c1fde1df7fb36581e9cc94
Closes-Bug: #1830438
"
openstack%2Fopenstack-ansible~master~I25a89ed706cad0ae3376c466807f3ba024941c2a,openstack/openstack-ansible,master,bug/1830028,I25a89ed706cad0ae3376c466807f3ba024941c2a,Utility container venv is missing python libs for ansible openstack modules,MERGED,2019-05-22 16:35:35.000000000,2019-05-30 05:50:33.000000000,2019-05-29 22:59:55.000000000,1,0,1,660779,5567d92c21c567fa30213b3bc6ac6e040cc745cd,23,6,2,1,29865,Georgina Shippey,gshippey,"Utility container venv is missing python libs for ansible openstack modules

Some service set up tasks use ansible modules that require external
python libraries. When using a utility container as a service setup host
these ansible tasks will fail if the required libraries are not present
in the utility venv.

Added openstacksdk to the list of pip packages installed to the container
as required for ansible 2.7 and above.

Change-Id: I25a89ed706cad0ae3376c466807f3ba024941c2a
Closes-Bug: #1830028
"
openstack%2Fpython-freezerclient~master~I0809434c950d3c1127ccc1c4576f434090729aea,openstack/python-freezerclient,master,,I0809434c950d3c1127ccc1c4576f434090729aea,Fix Tempest CI error,ABANDONED,2019-05-29 03:50:38.000000000,2019-05-30 05:27:09.000000000,,1,0,0,661885,f2f57d83781fce5549837c24d68daa1f0196bc4f,3,1,1,1,21069,Carl caihui,caihui,"Fix Tempest CI error

Update 'insecure' from False to True to keystoneauth1.

Change-Id: I0809434c950d3c1127ccc1c4576f434090729aea
"
openstack%2Fnova~stable%2Frocky~I8036dc4351aa4b77f41b44622ae030cc8ae51d2f,openstack/nova,stable/rocky,bp/use-nested-allocation-candidates,I8036dc4351aa4b77f41b44622ae030cc8ae51d2f,Enable nested allocation candidates in scheduler,ABANDONED,2019-05-11 08:43:09.000000000,2019-05-30 04:48:01.000000000,,31,8,3,658533,a2a15e3476550b3a26c4f8e95e862688b8ed6c7a,18,10,2,5,25625,Tetsuro Nakamura,tetsuro0907,"Enable nested allocation candidates in scheduler

This patch changes scheduler client to use 1.29 microversion,
in which nested allocation candidates feature is enabled,
when getting allocation candidates.

NOTE: The nested feature is not needed for the release since none of
the projects including nova had started to model nested resource
providers, but this was backported because of the perfomance issue.

When scheduling an instance, getting allocation candidates were slow.
This was because the scheduler's placement client used older
microversion ``1.25`` where placement had to filter out nested
resource providers from allcation requests and filter out some of the
resource information from provider summaries, which were added in
microversion ``1.26`` and ``1.29`` respectively for the backward
compatibility.

This patch fixes nova side to use microversion ``1.29`` for getting
allocation candidates to skip the filtering process to improve the
performance.

This doesn't break nova API. This is because the additional resource
information placement started to return in provider summaries from
``1.26`` is not used in nova or exposed to end users and from ``1.29``
placement started to return nested providers, but again, in rocky
release, none of the projects including nova had started to model
nested resource providers.

Blueprint: use-nested-allocation-candidates
Change-Id: I8036dc4351aa4b77f41b44622ae030cc8ae51d2f
(cherry picked from commit dc8ff63fe4f9c4d916c1a4aaeed202e186f8090e)
"
openstack%2Fplacement~master~I190c13c61314da172623c7f9fded7e4ed3d83f80,openstack/placement,master,story/2005712,I190c13c61314da172623c7f9fded7e4ed3d83f80,Reuse cache result for sharing providers capacity,MERGED,2019-05-20 08:33:30.000000000,2019-05-30 04:12:45.000000000,2019-05-30 04:12:44.000000000,68,118,3,660052,7b8e2a8a6b8814dbe236f3d0debeea68033c1ae4,24,4,7,4,25625,Tetsuro Nakamura,tetsuro0907,"Reuse cache result for sharing providers capacity

Getting sharing providers in _get_providers_with_shared_capacity() was
heavier than the main function _get_providers_with_resource() to search
the requested resource, but they had similar algorithm being a bit
redundant.

This patch changes _get_providers_with_shared_capacity() to reuse the
result of _get_providers_with_resource() for performance optimization.

Change-Id: I190c13c61314da172623c7f9fded7e4ed3d83f80
Story: 2005712
Task: 31038
"
openstack%2Fplacement~master~I2796c3e93317edd3ae8b02fb038cc39f23b41840,openstack/placement,master,story/2005712,I2796c3e93317edd3ae8b02fb038cc39f23b41840,Move seek providers with resource to context,MERGED,2019-05-20 08:33:30.000000000,2019-05-30 04:10:16.000000000,2019-05-30 04:10:16.000000000,30,11,2,660051,f8bbda15e7d16cd27697fcf6a9d52d8233c77be3,18,3,5,2,25625,Tetsuro Nakamura,tetsuro0907,"Move seek providers with resource to context

This patch moves the resource look up to `RequestGroupSearchContext`
initialization. This enables us to reuse the results for
_get_providers_with_shared_capacity(). That optimization is coming
in a following patch.

Change-Id: I2796c3e93317edd3ae8b02fb038cc39f23b41840
Story: 2005712
Task: 31038
"
openstack%2Fplacement~master~I0c8d61bab848b3833752b213806c494891bf329c,openstack/placement,master,story/2005712,I0c8d61bab848b3833752b213806c494891bf329c,Remove normalize trait map func,MERGED,2019-05-20 08:33:30.000000000,2019-05-30 04:07:48.000000000,2019-05-30 04:07:47.000000000,2,12,1,660050,d75bdbff41806a978cfb562b7c8e18a468adf4d3,21,6,5,1,25625,Tetsuro Nakamura,tetsuro0907,"Remove normalize trait map func

_normalize_trait_map() was used in `GET /resource_providers` to
translate trait names to ids, but the parent patch
https://review.opendev.org/#/c/660049/ changed it to call the
translation, trait_obj.ids_from_names(), on demand.

Since it is no longer used, this patch removes that
_normalize_trait_map function.

Change-Id: I0c8d61bab848b3833752b213806c494891bf329c
"
openstack%2Fplacement~master~I93e1fa81a7345b651ea2d58dfa0d5508e726f43f,openstack/placement,master,story/2005712,I93e1fa81a7345b651ea2d58dfa0d5508e726f43f,Cache provider ids in requested aggregates,MERGED,2019-05-20 08:33:30.000000000,2019-05-30 03:50:41.000000000,2019-05-30 03:50:40.000000000,64,56,4,660049,7f4b79b7e1e028a8f4ce41abe4f2163f6b7e740d,22,4,5,3,25625,Tetsuro Nakamura,tetsuro0907,"Cache provider ids in requested aggregates

Getting allocation candidates for one request group, placement
internally calls provider_ids_matching_aggregates() several times with
the same arguments. This is redundant and can degrade performance.

This patch changes to call it on initialization of
`RequestGroupSearchContext` object and cache the results so that we can
refer the results later on demand.

Change-Id: I93e1fa81a7345b651ea2d58dfa0d5508e726f43f
Story: 2005712
Task: 31038
"
openstack%2Fplacement~master~I7b217cae6db967b1cc7f1885fff67e4148893fc6,openstack/placement,master,story/2005712,I7b217cae6db967b1cc7f1885fff67e4148893fc6,Move search functions to the research context file,MERGED,2019-05-20 08:33:30.000000000,2019-05-30 03:46:22.000000000,2019-05-30 03:46:22.000000000,957,941,1,660048,fb71a6ab71e9e5be4368c83a9ed3a9d74cdbc22b,18,3,5,5,25625,Tetsuro Nakamura,tetsuro0907,"Move search functions to the research context file

To keep `resource_provider.py` file as a pure module for resource
provider object and to avoid circular import that can occur in the
following refactoring, this patch moves functions to search resource
providers for specific conditions from `resource_provider.py` to the
new file, `research_context.py`.

No functional change or optimizaiton is included in this patch.

Change-Id: I7b217cae6db967b1cc7f1885fff67e4148893fc6
Story: 2005712
Task: 31038
"
openstack%2Fplacement~master~Ifbaac9861f86d85a5bff58573c30a4cf957503d8,openstack/placement,master,story/2005712,Ifbaac9861f86d85a5bff58573c30a4cf957503d8,Add RequestGroupSearchContext class,MERGED,2019-05-13 10:06:06.000000000,2019-05-30 03:36:04.000000000,2019-05-30 03:36:04.000000000,292,257,20,658778,daf7285a741515e8d4adb74fbe0ba270b93433cf,27,4,6,5,25625,Tetsuro Nakamura,tetsuro0907,"Add RequestGroupSearchContext class

There are cases where exactly the same database query is issued several
times in a request group, such as provider_ids_matching_aggregates().

This patch creates a new object, `RequestGroupSearchContext` to cache
the results not to ask to issue the same query in a request group.

The main refatctoring to reduce the number of the same query will be
done in following patches.

This patch brings a slight optimzation to skip retrieving sharing
providers for `use_same_provder=True` case.

Change-Id: Ifbaac9861f86d85a5bff58573c30a4cf957503d8
Story: 2005712
Task: 31038
"
openstack%2Fos-vif~stable%2Frocky~I8721b680bbd9f59a67bd8e6855ffb291c208cdb8,openstack/os-vif,stable/rocky,bug/1825888,I8721b680bbd9f59a67bd8e6855ffb291c208cdb8,"Prevent ""qbr"" Linux Bridge from replying to ARP messages",MERGED,2019-04-25 13:35:03.000000000,2019-05-30 02:58:21.000000000,2019-05-30 02:58:21.000000000,64,4,6,655692,ca9963c2944ebfd93757471f99e9185bf34f61d4,25,9,5,5,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Prevent ""qbr"" Linux Bridge from replying to ARP messages

The Linux Bridge in between the VM TAP interface and OVS should [1][2]:
- Reply only if the target IP address is local address configured
  on the incoming interface.
- Always use the best local address.

Conflicts:
      vif_plug_linux_bridge/linux_net.py
      vif_plug_linux_bridge/tests/unit/test_linux_net.py
      vif_plug_ovs/linux_net.py
      vif_plug_ovs/tests/unit/test_linux_net.py

[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP
[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux

Change-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8
Closes-Bug: #1825888
(cherry picked from commit 9ad9b8483913a38345133120b04c4677fab9cb68)
(cherry picked from commit c42e7641f00905ff2dd68096d733929bf84756b5)
"
openstack%2Fnova~stable%2Fstein~Id782d3b11715bc3211e7952fb01b42a659d06e36,openstack/nova,stable/stein,bug/1830926,Id782d3b11715bc3211e7952fb01b42a659d06e36,docs: Don't version links to reno docs,MERGED,2019-05-29 15:52:51.000000000,2019-05-30 02:38:06.000000000,2019-05-30 02:38:06.000000000,9,9,0,662025,dc7eb62c27dca29731c46fed531de3ce36b49308,9,5,1,2,15334,Stephen Finucane,sfinucan,"docs: Don't version links to reno docs

reno doesn't have stable branches and doesn't version its documentation.
There's no point versioning our links to same.

Change-Id: Id782d3b11715bc3211e7952fb01b42a659d06e36
Closes-Bug: #1830926
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit 8b9dad0b636e4f6bdd8e1eee0f1a8a00c1ffd2b7)
"
openstack%2Fcinderlib~master~I53af5de68e021896a2bd940b4a8901dedc1f6a04,openstack/cinderlib,master,opendev,I53af5de68e021896a2bd940b4a8901dedc1f6a04,OpenDev Migration Patch,MERGED,2019-04-22 08:55:18.000000000,2019-05-30 02:38:02.000000000,2019-05-30 02:38:02.000000000,11,11,0,654412,46565c49952c8d2f6311afabbc6c4aa1707a0a20,15,4,2,5,9535,Gorka Eguileor,Gorka,"OpenDev Migration Patch

This patch migrates cinderlib to the new OpenDev code review system as
described in these mailing list messages:

http://lists.openstack.org/pipermail/openstack-discuss/2019-March/003603.html
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004920.html

Change-Id: I53af5de68e021896a2bd940b4a8901dedc1f6a04
"
openstack%2Fpython-watcherclient~master~I235bbd298b7fa8ad9d8b01a94d68376c8ac27e8d,openstack/python-watcherclient,master,bp/add-force-field-to-audit,I235bbd298b7fa8ad9d8b01a94d68376c8ac27e8d,Add force option,MERGED,2019-05-06 11:37:31.000000000,2019-05-30 02:06:14.000000000,2019-05-30 02:06:14.000000000,226,18,0,657375,cde518be3156cb1156b54c895ddebbdce2f37c39,21,4,6,6,21692,licanwei,licanwei,"Add force option

Partially Implements: blueprint add-force-field-to-audit
Depends-on: Ib2d221ea9c994dea396c54cc8d2d32237025a1d4

Change-Id: I235bbd298b7fa8ad9d8b01a94d68376c8ac27e8d
"
openstack%2Fopenstack-helm~master~Ifb8e5050d9fbcd7e5b40b2a5dcb4a2ce384ca195,openstack/openstack-helm,master,glance_storage_pool,Ifb8e5050d9fbcd7e5b40b2a5dcb4a2ce384ca195,glance: allow configuring the rbd app name,MERGED,2019-05-28 11:09:16.000000000,2019-05-30 01:56:10.000000000,2019-05-29 21:08:38.000000000,6,1,1,661722,d1e5fb3f921290ed3da2d7e21f71fa15898a7ebf,14,6,2,3,12281,Itxaka,itxaka,"glance: allow configuring the rbd app name

Instead of hardcoding it, let us override it with
values

Change-Id: Ifb8e5050d9fbcd7e5b40b2a5dcb4a2ce384ca195
"
openstack%2Freleases~master~Iba1df2119592ce5a468d56958019c08692b6b245,openstack/releases,master,oslo-master,Iba1df2119592ce5a468d56958019c08692b6b245,Oslo releases for 2019-05-29,MERGED,2019-05-29 19:47:52.000000000,2019-05-30 01:48:13.000000000,2019-05-30 01:48:12.000000000,16,0,0,662079,f64b7a8246a007321e5e06fe2faaaae7edc51d8a,6,2,1,4,6928,Ben Nemec,bnemec,"Oslo releases for 2019-05-29

Change-Id: Iba1df2119592ce5a468d56958019c08692b6b245
"
openstack%2Freleases~master~Ie6743fa52434abf8ba0f0aa4db741552e6ccfb95,openstack/releases,master,bug/1828265,Ie6743fa52434abf8ba0f0aa4db741552e6ccfb95,Release openstackdocstheme 1.30.0,MERGED,2019-05-29 09:48:26.000000000,2019-05-30 01:34:03.000000000,2019-05-30 01:34:03.000000000,4,0,0,661926,92e8e4373c8cfb8c9d2dbbbeed7157aba1b2e1e9,11,7,1,1,15334,Stephen Finucane,sfinucan,"Release openstackdocstheme 1.30.0

Some minor updates including fixing issues with the HTML5 output
generated by Sphinx 2.0, inlining the OpenStack logo rather than
referencing it from elsewhere, and adding a new SOURCE_DATE_EPOCH option
for use in reproducible builds.

Change-Id: Ie6743fa52434abf8ba0f0aa4db741552e6ccfb95
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Foslo.service~master~I3f86f4867eb0cd5010abadf68620aa3450d3e64d,openstack/oslo.service,master,make-pid-accessible-to-backdoor-socket-path,I3f86f4867eb0cd5010abadf68620aa3450d3e64d,Make PID availabe as formatstring in backdoor path,MERGED,2019-05-14 09:09:59.000000000,2019-05-30 01:29:43.000000000,2019-05-30 01:29:43.000000000,44,3,3,658992,dd174fbfde8c2fa173825d495a724865e3bdc87b,22,6,4,4,30314,Sebastian Lohff,seba,"Make PID availabe as formatstring in backdoor path

When multiple processes are spawned with the same configuration
each process has the same backdoor_socket path configured and
only the first process able to bind to the socket can later be
accessed via the backdoor. To give each process a unique socket path
we now expose the PID of the process as a format string argument,
which can then be used like this:

backdoor_socket = /var/lib/neutron/backdoor-{pid}

Change-Id: I3f86f4867eb0cd5010abadf68620aa3450d3e64d
"
openstack%2Ftripleo-heat-templates~master~I9fed91255f6857ac39a68278fb2c036606d88468,openstack/tripleo-heat-templates,master,bug/1807683,I9fed91255f6857ac39a68278fb2c036606d88468,Run collectd socket cleanup on container start,MERGED,2018-12-10 10:06:16.000000000,2019-05-30 01:28:05.000000000,2019-01-02 20:11:23.000000000,1,0,2,624042,36cfba38f8cf70e56fe039933d0ca844655ba20d,13,5,1,1,5241,Martin Magr,mmagr,"Run collectd socket cleanup on container start

This patch enables collectd deleting /var/run/collect-socket on startup.
It is created for monitoring purposes and on some conditions is created
by health check script sooner than collectd starts, which results on collect
failing to create the socket and listening on it.

Change-Id: I9fed91255f6857ac39a68278fb2c036606d88468
Closes-Bug: #1807683
"
openstack%2Fneutron~stable%2Fqueens~I459ce4b791c27b1e3d977e0de9fbdb21a8a379f5,openstack/neutron,stable/queens,bug/1829889-stable/rocky-stable/queens,I459ce4b791c27b1e3d977e0de9fbdb21a8a379f5,Wait to ipv6 accept_ra be really changed by L3 agent,MERGED,2019-05-27 12:36:15.000000000,2019-05-30 01:09:00.000000000,2019-05-29 16:19:34.000000000,15,4,0,661592,21f150dc5d3f049dfcc3732febbb7f1371caab50,27,7,2,1,11975,Slawek Kaplonski,slaweq,"Wait to ipv6 accept_ra be really changed by L3 agent

In functional tests for L3 HA agent, like e.g.
L3HATestFailover.test_ha_router_failover
it may happen that L3 agent will not change ipv6 accept_ra
knob and test fails because it checks that only once just
after router state is change.

This patch fixes that race by adding wait for 60 seconds to
ipv6 accept_ra change.

Conflicts:
    neutron/tests/functional/agent/l3/framework.py

Change-Id: I459ce4b791c27b1e3d977e0de9fbdb21a8a379f5
Closes-Bug: #1829889
(cherry picked from commit 62b2f2b1b1e2d8c0c2ffc1fd2ae9467eb2c1ef07)
"
openstack%2Fopenstack-ansible-os_zun~master~I6a46d44047b61e5c7dcf2d7b13aeae44b7e03379,openstack/openstack-ansible-os_zun,master,lbaas-removal,I6a46d44047b61e5c7dcf2d7b13aeae44b7e03379,Remove Neutron LBaaS from test inventory,ABANDONED,2019-05-16 20:49:09.000000000,2019-05-30 00:36:42.000000000,,0,4,0,659661,bd9b1200a3e8bf752bc2ff398ef3a828f6606a54,3,1,1,1,17799,Logan V,Logan2211,"Remove Neutron LBaaS from test inventory

Change-Id: I6a46d44047b61e5c7dcf2d7b13aeae44b7e03379
"
openstack%2Fopenstack-ansible-os_magnum~master~Ide72ba5c3481cdb4d45c1d46bd3f7e4aeb251244,openstack/openstack-ansible-os_magnum,master,lbaas-removal,Ide72ba5c3481cdb4d45c1d46bd3f7e4aeb251244,Remove Neutron LBaaS from test inventory,ABANDONED,2019-05-16 20:49:34.000000000,2019-05-30 00:36:39.000000000,,0,4,0,659666,b72b5879e1b50058fd2d2a2a74f7f45036faf796,3,1,1,1,17799,Logan V,Logan2211,"Remove Neutron LBaaS from test inventory

Change-Id: Ide72ba5c3481cdb4d45c1d46bd3f7e4aeb251244
"
openstack%2Frequirements~master~Ida5b084be8b68c0eaa021f548199ad477398e008,openstack/requirements,master,openstack/requirements/constraints/noclob,Ida5b084be8b68c0eaa021f548199ad477398e008,Updated from generate-constraints,MERGED,2019-05-27 06:16:34.000000000,2019-05-30 00:23:55.000000000,2019-05-29 04:00:22.000000000,6,4,0,661539,16fd3c7bab7f6bb6add42ac5a60c1fd6aedaff29,16,4,5,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

-grpcio===1.21.1
+grpcio===1.15.0
taskflow email, needs a release as well to unblock

-pypowervm===1.1.21
+pypowervm===1.1.20
https://github.com/powervm/pypowervm/issues/12
  - will mask the bad version

-tornado===5.1.1;python_version=='2.7'
+tornado===4.5.3;python_version=='2.7'
py27 keeps pulling in too new versions, will need to either maintain a
secondary requirements list for for py27 caps in constraints only
libraries (those not tracked by global-requirements.txt).

-urllib3===1.25.3
+urllib3===1.24.3
-kubernetes===9.0.0
+kubernetes===8.0.1
openshift is capping things, they don't seem to want to change
perhaps we should request that the only two projects using openshift
to not use it anymore.  openstack/kuryr-tempest-plugin x/flame

-jsonschema===3.0.1
+jsonschema===2.6.0
bunch of stuff in openstack still has a cap

-fasteners===0.15
+fasteners===0.14.1
https://github.com/harlowja/fasteners/issues/36

Change-Id: Ida5b084be8b68c0eaa021f548199ad477398e008
"
openstack%2Fmanila-ui~master~If78b4eefb9bb144f65d7be2f6c898a74f5dc150e,openstack/manila-ui,master,,If78b4eefb9bb144f65d7be2f6c898a74f5dc150e,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-05-27 05:38:53.000000000,2019-05-30 00:19:33.000000000,2019-05-30 00:19:32.000000000,7,7,0,661532,e1c48ee266713c94a8925b47b62331b35126c3dd,7,2,2,4,30356,gugug,gujin,"Replace git.openstack.org URLs with opendev.org URLs

1. Replace git.openstack.org URLs with opendev.org URLs
2. Remove unncessary ""==""

Change-Id: If78b4eefb9bb144f65d7be2f6c898a74f5dc150e
"
openstack%2Ftripleo-quickstart-extras~master~Iff3df1cd6e9fcd7782a5b3420f6945715441ba34,openstack/tripleo-quickstart-extras,master,tempest_skip_massupdate,Iff3df1cd6e9fcd7782a5b3420f6945715441ba34,Update skip list for stein,MERGED,2019-05-24 12:26:35.000000000,2019-05-30 00:15:10.000000000,2019-05-30 00:15:10.000000000,0,18,0,661265,4351ace5adafc28c55153d0064dc05107c86517d,37,13,2,1,12393,chandan kumar,chkumar246,"Update skip list for stein

Bugs status:
https://bugs.launchpad.net/tripleo/+bug/1818860
https://bugs.launchpad.net/tripleo/+bug/1810325
https://bugs.launchpad.net/tripleo/+bug/1802971 -> fixed
https://bugs.launchpad.net/keystone/+bug/1660603 -> invalid
https://bugs.launchpad.net/tripleo/+bug/1806075 -> fixed
https://bugs.launchpad.net/tripleo/+bug/1818886
https://bugs.launchpad.net/tripleo/+bug/1818860

https://tree.taiga.io/project/tripleo-ci-board/task/1084

Change-Id: Iff3df1cd6e9fcd7782a5b3420f6945715441ba34
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fmanila-tempest-plugin~master~I1289f82c0f14b27d15f4b41b80dfe9131efb2ed7,openstack/manila-tempest-plugin,master,,I1289f82c0f14b27d15f4b41b80dfe9131efb2ed7,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:33:16.000000000,2019-05-29 23:44:38.000000000,2019-05-29 23:44:38.000000000,7,7,3,654971,ad4507c45bac2b5feacb848ef855e3661ac8637e,14,4,3,3,22165,caoyuan,caoyuan,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I1289f82c0f14b27d15f4b41b80dfe9131efb2ed7
"
openstack%2Fswift~master~Ib1bc4c59ed4c7624782b8b1cdea20847c14c90bf,openstack/swift,master,fix_url,Ib1bc4c59ed4c7624782b8b1cdea20847c14c90bf,Modify the version path URL of the configuration file,MERGED,2019-05-23 03:01:33.000000000,2019-05-29 23:34:44.000000000,2019-05-29 23:32:24.000000000,11,11,0,660869,2c4f284055e1031f17f97229056616017385d8bc,7,2,1,7,26233,zengjia,zengjia87,"Modify the version path URL of the configuration file

In the main branch, I think it is necessary to modify
the configuration file path in the document as the
main branch path, and to change the path to a stable
version when the version is released.

Change-Id: Ib1bc4c59ed4c7624782b8b1cdea20847c14c90bf
"
openstack%2Fswift~master~Ib3124ea079a73a577b86de97657603a64b16f965,openstack/swift,master,,Ib3124ea079a73a577b86de97657603a64b16f965,S3Api: handle non-ASCII markers in v1 listings.,MERGED,2019-05-07 23:17:40.000000000,2019-05-29 23:33:44.000000000,2019-05-29 23:32:19.000000000,47,8,3,657706,dade632b0fbb10ef9419f2f9bcd063f3f962dbbf,10,3,2,4,17363,Timur Alperovich,timuralp,"S3Api: handle non-ASCII markers in v1 listings.

Added a test for S3 v1 listings that use URL encoding and have non-ASCII
characters. In the process discovered that the XML schema for
ListBucketResult had a small problem: Delimiter and EncodingType needed
to be reordered.

Change-Id: Ib3124ea079a73a577b86de97657603a64b16f965
"
openstack%2Fswift~stable%2Fstein~Ic040370d10b05d137c74b4b532f0f73edb172753,openstack/swift,stable/stein,error_url,Ic040370d10b05d137c74b4b532f0f73edb172753,Modifying URL errors in installation deployment documents,MERGED,2019-05-22 06:38:49.000000000,2019-05-29 23:32:27.000000000,2019-05-29 23:32:26.000000000,11,11,2,660575,5ba975cf6962872635ef625fd7d88838f326b6ea,14,5,2,7,26233,zengjia,zengjia87,"Modifying URL errors in installation deployment documents

When installing swift,I encountered URL errors in the document,
so needed to modify the URLs of these errors.

Change-Id: Ic040370d10b05d137c74b4b532f0f73edb172753
"
openstack%2Fkeystone~master~I9a706ac506b0f65402f2433e6fd56097e0830657,openstack/keystone,master,bug/1815771,I9a706ac506b0f65402f2433e6fd56097e0830657,Adds caching of credentials,MERGED,2019-02-13 14:58:31.000000000,2019-05-29 23:32:16.000000000,2019-05-29 23:32:16.000000000,97,4,19,636645,479a2a0afaeb505c371ee97a1f2fbc1b11e3cef1,29,4,7,3,5575,Jose Castro Leon,jose-castro-leon,"Adds caching of credentials

Allows to cache the credentials as they are currently fetched
directly from the database

Change-Id: I9a706ac506b0f65402f2433e6fd56097e0830657
Closes-Bug: #1815771
"
openstack%2Fneutron~master~I3956eeda19ebc93fdb0b13c1cfb3dc64abffee9f,openstack/neutron,master,bug/1829734,I3956eeda19ebc93fdb0b13c1cfb3dc64abffee9f,OVS DPDK port representors support,MERGED,2019-05-13 10:40:44.000000000,2019-05-29 23:32:12.000000000,2019-05-29 23:32:11.000000000,21,3,15,658784,47390226f5c755a083b0f181f7a81b480069c8a9,59,14,8,3,22948,Hamdy Khader,hamdyk,"OVS DPDK port representors support

Adds support for OVS DPDK port representors[1], a direct port on
a netdev datapath is considered a DPDK representor port.

get_vif_type returns OVS VIF type in case of a direct port.

[1] http://docs.openvswitch.org/en/latest/topics/dpdk/phy/#representors

Closes-Bug: #1829734
Change-Id: I3956eeda19ebc93fdb0b13c1cfb3dc64abffee9f
"
openstack%2Ftripleo-validations~stable%2Fstein~I370f314e64e5c359797841fe6804bd26331d8c43,openstack/tripleo-validations,stable/stein,bp/validation-framework-stable/stein,I370f314e64e5c359797841fe6804bd26331d8c43,Clean up some old roles dependencies.,MERGED,2019-05-29 12:57:38.000000000,2019-05-29 23:18:28.000000000,2019-05-29 23:18:27.000000000,4,8,0,661973,904bd27180707c2834cb3918031158453db1e42a,8,5,1,4,11491,Gael Chamoulaud,gchamoul,"Clean up some old roles dependencies.

Change-Id: I370f314e64e5c359797841fe6804bd26331d8c43
Implements: blueprint validation-framework
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit a678cbf2518c6556c18d1b18e4a304d87faad8ae)
"
openstack%2Ftripleo-validations~stable%2Fstein~I73a92caba8a3eef0b77a47eba42898f68e7ef826,openstack/tripleo-validations,stable/stein,bp/validation-framework-stable/stein,I73a92caba8a3eef0b77a47eba42898f68e7ef826,Add collect-flavors-and-verify-profiles role,MERGED,2019-05-29 12:36:59.000000000,2019-05-29 23:18:28.000000000,2019-05-29 23:18:28.000000000,60,0,0,661963,25012a430785a480d2f53c5d1b7e671d4fa8c0f6,8,5,1,4,11491,Gael Chamoulaud,gchamoul,"Add collect-flavors-and-verify-profiles role

This patch adds this role created from
validations/collect-flavors-and-verify-profiles.yaml.

Change-Id: I73a92caba8a3eef0b77a47eba42898f68e7ef826
Implements: blueprint validation-framework
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit ee28ae4dbce94c91032445c1036b1e0c0e28fda6)
"
openstack%2Fneutron-tempest-plugin~master~Iec9dc16b2e37d4f93dd15db314bc3286779489dd,openstack/neutron-tempest-plugin,master,stadium-migration,Iec9dc16b2e37d4f93dd15db314bc3286779489dd,Remove networking-bgpvpn job from template,MERGED,2019-05-29 06:56:53.000000000,2019-05-29 22:53:56.000000000,2019-05-29 22:53:56.000000000,4,2,0,661899,f40b4945c7cb73beab9774791e7819b9abf293d6,9,4,1,1,11975,Slawek Kaplonski,slaweq,"Remove networking-bgpvpn job from template

Job neutron-tempest-plugin-bgpvpn-bagpipe was by mistake added
to the neutron-tempest-plugin-jobs template in [1] and because
of that it was run in check and gate queue for every Neutron
patch.
This isn't necessary so this patch moves this job out of the template
and adds it directly to check and gate queue in neutron-tempest-plugin
repo.

[1] https://review.openstack.org/652991

Change-Id: Iec9dc16b2e37d4f93dd15db314bc3286779489dd
"
openstack%2Frequirements~master~I4216714cad8df18a79f7cd0b8b25d6d4b29a9c3c,openstack/requirements,master,disallow-fasteners-0.15,I4216714cad8df18a79f7cd0b8b25d6d4b29a9c3c,disallow fasteners 0.15,MERGED,2019-05-29 14:47:41.000000000,2019-05-29 22:41:56.000000000,2019-05-29 22:41:55.000000000,1,1,0,662008,3495c06c2a52e2a99fc841f5af027408d0d24679,7,3,1,1,14288,Matthew Thode,prometheanfire,"disallow fasteners 0.15

There is apparently still a race somewhere with eventlet and we are
waiting on a revert of the 'fix' before we can upgrade fasteners.

https://github.com/harlowja/fasteners/pull/37

Change-Id: I4216714cad8df18a79f7cd0b8b25d6d4b29a9c3c
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I294eba826b98c5793336815282f766e3d2e60a51,openstack/tripleo-heat-templates,stable/queens,bug/1776869-stable/queens,I294eba826b98c5793336815282f766e3d2e60a51,Try a timesync as part of first boot,MERGED,2019-05-22 15:45:14.000000000,2019-05-29 22:24:48.000000000,2019-05-29 22:24:47.000000000,109,0,0,660767,35fc35bc1f42b5d868ea2f03fd144f53d717ec8c,16,5,3,3,14985,Alex Schultz,mwhahaha,"Try a timesync as part of first boot

We're running into issues where if someone creates a firstboot script
that touches a file that will eventually be mounted into a container, it
can fail if the time of the file ends up being in the future due to a
later timesync. Let's try a basic timesync bootstrap as part of
cloud-init to address the case of configuration changes occuring prior
to the host_prep_tasks where we traditionally configure chrony/ntp

NOTE: For queens, the overcloud.j2.yaml change lives in
puppet/role.role.j2.yaml. Also we use ntp instead of chrony.

Conflicts:
	overcloud.j2.yaml

Change-Id: I294eba826b98c5793336815282f766e3d2e60a51
Related-Bug: #1776869
(cherry picked from commit eafe3908535ec766866efb74110e057ea2509c45)
"
openstack%2Fswift~master~I4628f3a8947de21abb02f73e50b96e1f60b0bb0b,openstack/swift,master,,I4628f3a8947de21abb02f73e50b96e1f60b0bb0b,DNM: testing lower-constraints job,ABANDONED,2019-05-23 19:16:33.000000000,2019-05-29 22:23:29.000000000,,2,2,0,661091,eb5ca053f6bfbe67e3bb9d44d65d22d55262189f,5,3,1,1,15343,Tim Burke,tburke,"DNM: testing lower-constraints job

Change-Id: I4628f3a8947de21abb02f73e50b96e1f60b0bb0b
"
openstack%2Fneutron~stable%2Frocky~I459ce4b791c27b1e3d977e0de9fbdb21a8a379f5,openstack/neutron,stable/rocky,bug/1829889-stable/rocky,I459ce4b791c27b1e3d977e0de9fbdb21a8a379f5,Wait to ipv6 accept_ra be really changed by L3 agent,MERGED,2019-05-27 12:36:07.000000000,2019-05-29 22:18:13.000000000,2019-05-29 03:20:31.000000000,15,4,0,661591,1559c795944a624cf0ebee1f0895895122c5c6f6,15,6,2,1,11975,Slawek Kaplonski,slaweq,"Wait to ipv6 accept_ra be really changed by L3 agent

In functional tests for L3 HA agent, like e.g.
L3HATestFailover.test_ha_router_failover
it may happen that L3 agent will not change ipv6 accept_ra
knob and test fails because it checks that only once just
after router state is change.

This patch fixes that race by adding wait for 60 seconds to
ipv6 accept_ra change.

Conflicts:
    neutron/tests/functional/agent/l3/framework.py

Change-Id: I459ce4b791c27b1e3d977e0de9fbdb21a8a379f5
Closes-Bug: #1829889
(cherry picked from commit 62b2f2b1b1e2d8c0c2ffc1fd2ae9467eb2c1ef07)
"
openstack%2Fneutron~master~I65a42aa2129bef696906a18d82575461dc02ba21,openstack/neutron,master,bug/1799328,I65a42aa2129bef696906a18d82575461dc02ba21,Only store segmenthostmapping when enable segment plugin,MERGED,2018-10-23 08:02:58.000000000,2019-05-29 22:17:48.000000000,2018-12-07 14:49:13.000000000,63,2,18,612624,06ba6a1aceb8dd2c6df3b243bddb15ef8a8af27d,92,12,9,2,15309,zhaobo,ZhaoBo,"Only store segmenthostmapping when enable segment plugin

This patch adds a check to determine if the 'segments' service plugin is
enabled. The segment-host mapping db table should only be saved and
updated to the db table if the users configure the 'segments' service
plugin in the config file. The data should be available only in a routed
network resource situation.

Change-Id: I65a42aa2129bef696906a18d82575461dc02ba21
Closes-Bug: #1799328
"
openstack%2Fneutron~stable%2Fstein~I459ce4b791c27b1e3d977e0de9fbdb21a8a379f5,openstack/neutron,stable/stein,bug/1829889,I459ce4b791c27b1e3d977e0de9fbdb21a8a379f5,Wait to ipv6 accept_ra be really changed by L3 agent,MERGED,2019-05-27 12:35:41.000000000,2019-05-29 22:10:20.000000000,2019-05-29 03:56:00.000000000,15,4,2,661590,dc80a2c4e6b904ba046918271dcc0ce6ad82b3fd,18,8,2,1,11975,Slawek Kaplonski,slaweq,"Wait to ipv6 accept_ra be really changed by L3 agent

In functional tests for L3 HA agent, like e.g.
L3HATestFailover.test_ha_router_failover
it may happen that L3 agent will not change ipv6 accept_ra
knob and test fails because it checks that only once just
after router state is change.

This patch fixes that race by adding wait for 60 seconds to
ipv6 accept_ra change.

Conflicts:
    neutron/tests/functional/agent/l3/framework.py

Change-Id: I459ce4b791c27b1e3d977e0de9fbdb21a8a379f5
Closes-Bug: #1829889
(cherry picked from commit 62b2f2b1b1e2d8c0c2ffc1fd2ae9467eb2c1ef07)
"
openstack%2Fneutron-tempest-plugin~master~Ice58232b640ea8aa28d7a54aa9cf14e6ad0a2bb0,openstack/neutron-tempest-plugin,master,add-api-port-forwardings-tests,Ice58232b640ea8aa28d7a54aa9cf14e6ad0a2bb0,Add base API tests for port forwarding,MERGED,2019-05-26 20:39:34.000000000,2019-05-29 22:04:34.000000000,2019-05-29 22:04:34.000000000,293,0,8,661501,003fcae7f971685bc9a490cb3e1ea5001f6ff550,22,6,5,4,11975,Slawek Kaplonski,slaweq,"Add base API tests for port forwarding

This patch adds base client support and API tests for port forwarding
feature.

This patch also enable port_forwarding service plugin in
neutron_tempest_plugin CI jobs.

Depends-On: https://review.opendev.org/#/c/661581/

Change-Id: Ice58232b640ea8aa28d7a54aa9cf14e6ad0a2bb0
"
openstack%2Fnetworking-bgpvpn~master~Iaccf6db5c2bd248c2758168340e83f936e9eb8ea,openstack/networking-bgpvpn,master,stadium-migration,Iaccf6db5c2bd248c2758168340e83f936e9eb8ea,Rehome tempest tests to neutron-tempest-plugin repo,MERGED,2019-05-08 13:01:26.000000000,2019-05-29 22:01:52.000000000,2019-05-29 22:01:52.000000000,2,2943,0,657793,44866dadba2595308c5fea41e03bd5d69a6e272e,10,9,1,16,11975,Slawek Kaplonski,slaweq,"Rehome tempest tests to neutron-tempest-plugin repo

This patch removes all tempest tests from networking-bgpvpn repository
as all of them are now moved to neutron-tempest-plugin repo.
It also removes job legacy-tempest-dsvm-networking-bgpvpn-bagpipe which
is now replaced by job neutron-tempest-plugin-bgpvpn-bagpipe defined in
neutron-tempest-plugin repo directly.

Depends-On: https://review.opendev.org/#/c/652991/
Change-Id: Iaccf6db5c2bd248c2758168340e83f936e9eb8ea
"
openstack%2Frequirements~master~Ib7193870baa1cd4f9f3b9ad2d9108758090b8a55,openstack/requirements,master,openstack/requirements/constraints/noclob,Ib7193870baa1cd4f9f3b9ad2d9108758090b8a55,Updated from generate-constraints,MERGED,2019-05-29 06:40:41.000000000,2019-05-29 21:45:18.000000000,2019-05-29 21:45:18.000000000,5,5,0,661895,d6b2f6236fa3e304f0706dcfa409622d24d5d2c1,9,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

-grpcio===1.21.1
+grpcio===1.15.0
taskflow email, needs a release as well to unblock

-tornado===5.1.1;python_version=='2.7'
+tornado===4.5.3;python_version=='2.7'
py27 keeps pulling in too new versions, will need to either maintain a
secondary requirements list for for py27 caps in constraints only
libraries (those not tracked by global-requirements.txt).

-urllib3===1.25.3
+urllib3===1.24.3
-kubernetes===9.0.0
+kubernetes===8.0.1
openshift is capping things, they don't seem to want to change
perhaps we should request that the only two projects using openshift
to not use it anymore.  openstack/kuryr-tempest-plugin x/flame

-jsonschema===3.0.1
+jsonschema===2.6.0
bunch of stuff in openstack still has a cap

-fasteners===0.15
+fasteners===0.14.1
https://github.com/harlowja/fasteners/issues/36
  - will mask bad version

-SQLAlchemy===1.3.4
+SQLAlchemy===1.2.19
waiting on a neutron-lib release
  - waiting on periodic jobs to be fixed then run
updated the old to 1.2.19 from 1.2.18 as we should still update
within the minor release

Change-Id: Ib7193870baa1cd4f9f3b9ad2d9108758090b8a55
"
openstack%2Ftempest~master~I4ea06f28c525f2631a69f759fc96b262d9100f45,openstack/tempest,master,ipv6,I4ea06f28c525f2631a69f759fc96b262d9100f45,Improve ipv6 configuration,MERGED,2019-05-03 19:33:18.000000000,2019-05-29 21:45:15.000000000,2019-05-29 21:45:15.000000000,3,2,1,657018,65c891107b5bb27da21b02961c9215fa6151720e,13,13,1,1,22873,Martin Kopec,mkopec,"Improve ipv6 configuration

The change replaces restarting the network by reloading network
profiles. Restart of the network terminates ssh connection, so
if possible, better to avoid it. This approach is also
compatible with RHEL 8 as there's no network service anymore
and therefore can't be restarted.
The patch also brings the configured interface up by nmcli,
which works better if there already was a network profile
connected to the configured interface. nmcli makes it drop the
existing profile and use the one which was created in the test.

Change-Id: I4ea06f28c525f2631a69f759fc96b262d9100f45
"
openstack%2Fnova~master~Id782d3b11715bc3211e7952fb01b42a659d06e36,openstack/nova,master,bug/1830926,Id782d3b11715bc3211e7952fb01b42a659d06e36,docs: Don't version links to reno docs,MERGED,2019-05-29 12:40:09.000000000,2019-05-29 21:45:03.000000000,2019-05-29 21:45:03.000000000,9,9,5,661967,8b9dad0b636e4f6bdd8e1eee0f1a8a00c1ffd2b7,25,13,2,2,15334,Stephen Finucane,sfinucan,"docs: Don't version links to reno docs

reno doesn't have stable branches and doesn't version its documentation.
There's no point versioning our links to same.

Change-Id: Id782d3b11715bc3211e7952fb01b42a659d06e36
Closes-Bug: #1830926
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fneutron~master~I48d618e35282eb1d1034856cb104ac16b8c29a20,openstack/neutron,master,,I48d618e35282eb1d1034856cb104ac16b8c29a20,Modify comments on some methods,MERGED,2019-05-23 08:39:20.000000000,2019-05-29 21:44:40.000000000,2019-05-29 21:44:39.000000000,8,8,0,660936,54329b8dcb99cd4005def0fe0b8eb19ac1c3da42,33,8,1,1,23314,lidong,lidong,"Modify comments on some methods

Modify comments on some methods in  file:
...\neutron\neutron\plugins\ml2\managers.py

Change-Id: I48d618e35282eb1d1034856cb104ac16b8c29a20
"
openstack%2Ftempest~master~Ia304b81ec60a4fb06730f297e732a6b19a183f7f,openstack/tempest,master,bug/1363986,Ia304b81ec60a4fb06730f297e732a6b19a183f7f,Adds protocol options for test_cross_tenant_traffic,MERGED,2016-10-10 13:58:59.000000000,2019-05-29 21:44:37.000000000,2019-05-29 21:44:37.000000000,108,24,10,384528,33c3e60a3dd3e2de11700bcdc3e6d05e5e5b2c33,86,17,13,4,8213,Claudiu Belu,claudiub,"Adds protocol options for test_cross_tenant_traffic

Hyper-V cannot create stateful ICMP / ICMPv6 rules, but can create
stateful rules for any other protocol, thus, the test
test_cross_tenant_traffic cannot pass in the Hyper-V CI at the moment.
Testing other protocols instead can solve this issue.

Adds configuration option scenario.protocols, which contains the protocols
tested by the mentioned test. Its default option is 'icmp', in order
to maintain existing behaviour.

Change-Id: Ia304b81ec60a4fb06730f297e732a6b19a183f7f
Closes-Bug: #1363986
"
openstack%2Fnova~master~I26d39d0dc43f5551b0b83d7a609c5b2a7666a6df,openstack/nova,master,bp/count-quota-usage-from-placement,I26d39d0dc43f5551b0b83d7a609c5b2a7666a6df,DNM: Test count_usage_from_placement=True with postgresql,ABANDONED,2019-05-29 16:09:57.000000000,2019-05-29 21:24:36.000000000,,1,1,0,662028,6a60134999ef042b78ff79ea085414d752c4b226,11,7,1,1,6873,Matt Riedemann,mriedem,"DNM: Test count_usage_from_placement=True with postgresql

This is to get the tempest-pg-full job in the experimental
queue to run with the new count_usage_from_placement DB
query flows.

Change-Id: I26d39d0dc43f5551b0b83d7a609c5b2a7666a6df
"
openstack%2Ftooz~master~If4b3cc1be30e5d47cc7db9197be81d6790891ff2,openstack/tooz,master,dropping-py35-testing,If4b3cc1be30e5d47cc7db9197be81d6790891ff2,"Remove py35, add py37 classifiers",MERGED,2019-04-16 04:50:14.000000000,2019-05-29 21:23:46.000000000,2019-05-29 21:23:46.000000000,2,1,0,652821,d47b1a7ede15edd89879c4bfb2e2cace2ce479c3,10,3,2,1,8556,Ghanshyam,ghanshyam,"Remove py35, add py37 classifiers

We no longer test with Python 3.5 and we shouldn't claim we somehow
support it. We do support Python 3.7 now though so mark that as such.

Change-Id: If4b3cc1be30e5d47cc7db9197be81d6790891ff2
"
openstack%2Foslo.messaging~stable%2Fstein~I7ab1f9d21ebb807285bf1422bc14cc6e07dcd32a,openstack/oslo.messaging,stable/stein,bug/1822778-stable/stein,I7ab1f9d21ebb807285bf1422bc14cc6e07dcd32a,Retry to declare a queue after internal error,MERGED,2019-04-23 07:51:00.000000000,2019-05-29 21:22:30.000000000,2019-05-29 21:22:30.000000000,22,1,0,654820,99b77c07bee7dc482af03d13b2c454593f153f0c,18,4,1,1,29364,Gabriele Santomaggio,gsantomaggio,"Retry to declare a queue after internal error

Without this commit, the client can lose the messages, because the
client does not handler the 'AMQP internal error 541',
read here [2] for details.
The fix retries to create the queue after a delay.
When the virtual-host is ready the declare does not fail.
This is a rare condiction, please read the bug [1] for details.

Closes-Bug: #1822778

[1] https://bugs.launchpad.net/oslo.messaging/+bug/1822778
[2] https://www.rabbitmq.com/amqp-0-9-1-reference.html

Change-Id: I7ab1f9d21ebb807285bf1422bc14cc6e07dcd32a
(cherry picked from commit 4d2787227b00b973973554f7387e621d2664c0d8)
"
openstack%2Fopenstack-helm~master~I3abb343877abd0436c592a3371372f82ef581790,openstack/openstack-helm,master,cinder_storage_pool_rdb,I3abb343877abd0436c592a3371372f82ef581790,cinder: allow configuring the rbd app name,MERGED,2019-05-28 11:22:26.000000000,2019-05-29 21:12:23.000000000,2019-05-29 21:12:23.000000000,10,2,0,661723,c38443de4c852e86fb9845777bd67657392835fc,11,4,3,5,12281,Itxaka,itxaka,"cinder: allow configuring the rbd app name

Instead of hardcoding it, let us override it with
custom values for normal volumes and backups

Change-Id: I3abb343877abd0436c592a3371372f82ef581790
"
openstack%2Fproject-config~master~Ie4ee3f9350d027f4cf53997aaa46a6099a512107,openstack/project-config,master,castellan-ui-retirement,Ie4ee3f9350d027f4cf53997aaa46a6099a512107,Retire castellan-ui,MERGED,2019-05-29 19:31:18.000000000,2019-05-29 21:05:08.000000000,2019-05-29 21:05:08.000000000,2,21,3,662073,10f74af947e03cbb291aed7a952b2d666fedcc45,14,4,3,4,7973,Douglas Mendizbal,dougmendizabal,"Retire castellan-ui

castellan-ui is being retired. [1]  This patch removes the project
from infrastructure systems (Step 4 in [2]).

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006509.html
[2] https://docs.openstack.org/infra/manual/drivers.html#retiring-a-project

Change-Id: Ie4ee3f9350d027f4cf53997aaa46a6099a512107
"
openstack%2Fproject-config~master~Ia5128d7336c071c192d04cb83433d29e426db687,openstack/project-config,master,pbrx,Ia5128d7336c071c192d04cb83433d29e426db687,Remove pbrx noop jobs,MERGED,2019-05-29 18:35:55.000000000,2019-05-29 21:03:20.000000000,2019-05-29 21:03:20.000000000,0,5,0,662062,26598a6682a22567091236cd437b4887edf419ae,7,3,1,1,6547,Andreas Jaeger,jaegerandi,"Remove pbrx noop jobs

We're not retiring x/pbrx yet, so remove noop-jobs again.

Change-Id: Ia5128d7336c071c192d04cb83433d29e426db687
"
openstack%2Fneutron-lib~master~I1d70c7cf213d8c603aab0ecb12df8d38f875e0d1,openstack/neutron-lib,master,use-opendev-urls,I1d70c7cf213d8c603aab0ecb12df8d38f875e0d1,fix doc periodic log url,MERGED,2019-05-29 14:45:43.000000000,2019-05-29 20:59:40.000000000,2019-05-29 20:59:39.000000000,1,1,3,662000,2f9c9699e58698b310b9e07fae207c64deb57bdc,9,4,1,1,5367,boden,boden,"fix doc periodic log url

In the releasing doc for neutron-lib, the URL to the periodic logs is
wrong as it still points to git.openstack.org URLs. This patch changes
the URL to opendev.org

Change-Id: I1d70c7cf213d8c603aab0ecb12df8d38f875e0d1
"
openstack%2Ftripleo-heat-templates~master~I4473f1dfef9eebb886823fb2f436d14dd5b6d5ad,openstack/tripleo-heat-templates,master,ovn_dpdk,I4473f1dfef9eebb886823fb2f436d14dd5b6d5ad,Add DPDK support for OVN,MERGED,2019-03-19 12:37:52.000000000,2019-05-29 20:50:40.000000000,2019-05-10 21:03:53.000000000,129,1,4,644556,fca09457082c8ae87422f1659b5383fa9528ae43,32,6,6,10,18575,Saravanan KR,saravanankr,"Add DPDK support for OVN

Add a service to enable DPDK on the compute nodes,
along with OVN.

Change-Id: I4473f1dfef9eebb886823fb2f436d14dd5b6d5ad
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I5334ac3e8080700d77e7a1de3330fdad76bc633f,openstack/tripleo-heat-templates,stable/stein,firewall/init-iptables-stable/stein,I5334ac3e8080700d77e7a1de3330fdad76bc633f,"Initialize ip(6)tables ""raw"" table",MERGED,2019-05-28 17:21:32.000000000,2019-05-29 20:46:48.000000000,2019-05-29 20:46:48.000000000,47,0,0,661818,108b8469f6e237b462ec03022e76d4fbd88afab7,17,6,1,1,3153,Emilien Macchi,emilienm,"Initialize ip(6)tables ""raw"" table

With RHEL8, we apparently hit an issue where the ""raw"" table doesn't
exist. While this is worked around during the deploy, we need to ensure
this table does exist upon reboot.

This patch creates 2 systemd unit in order to ensure this table is
present in both iptables and ip6tables. They are to be launched before
the ip(6)tables.service in order to allow the standard rules to be
loaded at boot time.

Those units will probably be removed once we have an updated iptables
package.

Reference: https://bugzilla.redhat.com/show_bug.cgi?id=1673609

Change-Id: I5334ac3e8080700d77e7a1de3330fdad76bc633f
(cherry picked from commit e97d4dcfd245a1e50bd6aaad4d45679898936aa2)
"
openstack%2Fpaunch~master~Ib5d61ed0e3b85dfbc256cb46cbfb611f8a785d71,openstack/paunch,master,systemd/cleanup,Ib5d61ed0e3b85dfbc256cb46cbfb611f8a785d71,Corrected how health check unit and link are removed,MERGED,2019-05-28 10:09:05.000000000,2019-05-29 20:39:00.000000000,2019-05-29 20:39:00.000000000,14,29,7,661715,52d0b2d5f557e199b757826289b06a8951496621,23,6,3,2,28223,Cedric Jeanneret,cjeanner,"Corrected how health check unit and link are removed

I681fa0eb225d43ecbaa1b765f6761dd07031bce1 introduced some logic and
links between main service and its health check. The removal wasn't that
clean, so this patch intends to make things faster and cleaner.

We also remove the ""systemctl daemon-reload"" call, since it's useless:
its only value is for modified units, and here we're stopping, disabling
and deleting units.

This last change allows to get a cleaner, safer removal of the health
check dependency.

Change-Id: Ib5d61ed0e3b85dfbc256cb46cbfb611f8a785d71
"
openstack%2Ftripleo-heat-templates~master~I447ef5241572e31729893cdad1902fe38e92d3e7,openstack/tripleo-heat-templates,master,sensu-fails-again,I447ef5241572e31729893cdad1902fe38e92d3e7,Adapt sensu on refactor,MERGED,2019-05-27 09:53:05.000000000,2019-05-29 20:23:19.000000000,2019-05-29 15:15:11.000000000,1,1,0,661577,a3f5d1282b2f20e48ff43e876d52d36032733236,12,5,1,1,5241,Martin Magr,mmagr,"Adapt sensu on refactor

This patch fixes path containers-common.yaml after it has been moved to deployment dir.

Change-Id: I447ef5241572e31729893cdad1902fe38e92d3e7
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I5ae3bc845b0a6ad6986d44b14ff4b0737a9b033b,openstack/tripleo-heat-templates,stable/queens,bug/1821377,I5ae3bc845b0a6ad6986d44b14ff4b0737a9b033b,Make krb-service-principal metadata per-Role,MERGED,2019-05-29 08:48:04.000000000,2019-05-29 20:21:49.000000000,2019-05-29 20:21:49.000000000,60,12,0,661917,560f8853222378b4516e5ef022865479d8ddd3a9,10,5,1,9,24245,Harald Jenss,harald.jensas,"Make krb-service-principal metadata per-Role

Not all roles are connected to all networks, there is no
need to create metadata for networks not associated with
the role.

In edge/spine-and-leaf deployments the total number of
composable networks used can be high. Passing all the
networks we quickly go beyond the nova metadata fields
size limit (each field cannot exceed 256 bytes).

Also update tools/check-up-to-date.sh script to use the
simple yaml-diff.py instead of diff. The env generator
code will sort data, while jinja rendered environments
are not sorted, thus need to diff the data in yaml not
the text.

Conflicts:
    environments/ssl/enable-internal-tls.j2.yaml
    extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml

Closes-Bug: #1821377
Change-Id: I5ae3bc845b0a6ad6986d44b14ff4b0737a9b033b
(cherry picked from commit d5ecc1f6518d14f1ae6fefebd73533f11762bedf)
"
openstack%2Fneutron-fwaas~master~I4c08367d7e0670b3f8219b281af22632d53fcdae,openstack/neutron-fwaas,master,bug/1804844,I4c08367d7e0670b3f8219b281af22632d53fcdae,Switch neutron-fwaas-fullstack job to zuulv3 syntax,MERGED,2019-03-19 09:47:43.000000000,2019-05-29 20:20:04.000000000,2019-05-29 20:20:04.000000000,13,166,1,644526,9f78072ccc5eb0472a812a46c84ce433f93e68f5,84,5,20,6,11975,Slawek Kaplonski,slaweq,"Switch neutron-fwaas-fullstack job to zuulv3 syntax

This patch switches neutron-fwaas-fullstack to Zuul v3 syntax
and to inherits from neutron-fullstack job definition.

It also removed neutron-fwaas-fullstack-python35 job definition as
this job wasn't run anywhere and now as neutron-fwaas-fullstack will
inherits from neutron-fullstack it will run on python 3.

Depends-On: https://review.opendev.org/#/c/647931/

Change-Id: I4c08367d7e0670b3f8219b281af22632d53fcdae
Related-Bug: #1804844
"
openstack%2Ftripleo-quickstart-extras~master~I83b5dfea9c84d75b033efad577cb1c86647e49e3,openstack/tripleo-quickstart-extras,master,,I83b5dfea9c84d75b033efad577cb1c86647e49e3,"DNM, test osp container update w/o kolla labels",ABANDONED,2019-05-23 16:49:34.000000000,2019-05-29 20:01:47.000000000,,0,2,0,661049,7d3fff1f3a984c8402505686a242896e37c59e91,7,3,2,1,9592,wes hayutin,weshayutin,"DNM, test osp container update w/o kolla labels

Change-Id: I83b5dfea9c84d75b033efad577cb1c86647e49e3
"
openstack%2Fself-healing-sig~master~Ic0cc8965620087eee9c34a76796c2f3267b1b72f,openstack/self-healing-sig,master,template-headers,Ic0cc8965620087eee9c34a76796c2f3267b1b72f,Fix template header,MERGED,2019-05-15 15:32:15.000000000,2019-05-29 19:51:41.000000000,2019-05-29 19:51:40.000000000,12,20,0,659319,982cecd26628f458c6a9948004baf614e5a6f130,9,5,1,2,2394,Adam Spiers,adam.spiers,"Fix template header

The SIG doesn't use Launchpad for blueprints, so don't claim it does.
Also clarify that adherence to the structure is a recommendation not
a strict requirement.

Change-Id: Ic0cc8965620087eee9c34a76796c2f3267b1b72f
"
openstack%2Fdevstack~master~I98b86b0338e859f0a6728200b91dd6295625c08e,openstack/devstack,master,bug/1830002,I98b86b0338e859f0a6728200b91dd6295625c08e,Create Keystone internal endpoint,ABANDONED,2019-05-29 18:43:20.000000000,2019-05-29 19:31:10.000000000,,1,0,0,662063,bc894e93b7aea0238794ef979a39a21a4c8ae394,5,3,2,1,1916,Guang Yee,guang-yee,"Create Keystone internal endpoint

Need to create the Keystone internal endpoint to facilitate the
deprecation of the admin endpoint and the transition to the
internal endpoint. With the removal of Keystone v2 APIs, the admin
endpoint is subsequently deprecated because there's no longer a
distinction between admin and internal endpoints.

Notice that on a typical production environment, the controllers
are running on an internal management network, which is segmented
off from the public network per standard security practice.
Therefore, admin endpoint is really functional equivalent to the
internal endpoint, as opposed to the public endpoint.

TODO: we will need to remove the admin endpoint creation once
the transition is completed.

Change-Id: I98b86b0338e859f0a6728200b91dd6295625c08e
Closes-Bug: 1830002
"
openstack%2Fkeystoneauth~master~Ifd65f93e3ddde4ac06a4f37a41238b81d7e03165,openstack/keystoneauth,master,bug/1827008,Ifd65f93e3ddde4ac06a4f37a41238b81d7e03165,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:38:29.000000000,2019-05-29 18:45:09.000000000,2019-05-29 18:45:09.000000000,6,6,6,655016,068213574952ddd35c81b3e7b9c57d76cea21997,40,9,7,3,22165,caoyuan,caoyuan,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Ifd65f93e3ddde4ac06a4f37a41238b81d7e03165
Closes-Bug: #1827008
"
openstack%2Fopenstackclient~master~I352f0bf646a53d971298cd4ae830b0f4037f2227,openstack/openstackclient,master,retire-repos,I352f0bf646a53d971298cd4ae830b0f4037f2227,Remove pbrx,ABANDONED,2019-05-29 08:39:51.000000000,2019-05-29 18:34:26.000000000,,0,4,0,661914,60260905d1492ec0c3d13d0daff06290eff341af,3,1,1,2,6547,Andreas Jaeger,jaegerandi,"Remove pbrx

We retire pbrx, so cannot use it here anymore. Remove any usage.

Change-Id: I352f0bf646a53d971298cd4ae830b0f4037f2227
Needed-By: https://review.opendev.org/661803
"
openstack%2Fmonasca-api~master~I03bc8d502a333a7a71d9c12b8ddc7c5dc0a4f588,openstack/monasca-api,master,broken_unit_tests_falcon,I03bc8d502a333a7a71d9c12b8ddc7c5dc0a4f588,Add support for using Falcon 2.0.0,MERGED,2019-05-15 10:30:35.000000000,2019-05-29 18:34:03.000000000,2019-05-29 18:34:02.000000000,216,224,5,659264,a9cc4bb4824c8ebcfb9302933fc15fdf69dc82ba,47,5,14,11,17669,Doug Szumski,DougSzumski,"Add support for using Falcon 2.0.0

Falcon 2.0.0 introduces some breaking changes. The relevant ones here are:

- falcon.testing.TestCase.api property was removed
- falcon.testing.TestBase class was removed

Additionally, the default behaviour for handling trailing slashes on
URIs also changed:

https://falcon.readthedocs.io/en/latest/user/faq.html#how-does-falcon-
handle-a-trailing-slash-in-the-request-path

This commit adds support for using the new release. It currently makes
no effort to be backwards compatible with older releases.

The change also updates the requirements for influxdb and sphinx
libraries to match global requirements.

Until monasca-log-api implementation is not updated to support the new
version of Falcon, `monascalog-python3-tempest` is marked to be
non-voting as agreed in the team meeting.

Story: 2005695
Task: 31015
Change-Id: I03bc8d502a333a7a71d9c12b8ddc7c5dc0a4f588
"
openstack%2Fpython-congressclient~master~Iacb4a7c9bd1bb2d83dbbb8a7ddd6a7c7f106c1fa,openstack/python-congressclient,master,657949,Iacb4a7c9bd1bb2d83dbbb8a7ddd6a7c7f106c1fa,Switch python3 versions of test jobs to match Train PTI,MERGED,2019-05-09 07:08:21.000000000,2019-05-29 18:32:24.000000000,2019-05-29 18:32:24.000000000,3,3,0,657949,595b3177017098b442a074e0138799a90310940e,10,3,2,3,25553,Akhil jain,akhil,"Switch python3 versions of test jobs to match Train PTI

In Train, we will use python 3.6 and 3.7 for python3 runtime
in our gate jobs [1]. This commit also adds python 3.7.

[1] https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Iacb4a7c9bd1bb2d83dbbb8a7ddd6a7c7f106c1fa
"
openstack%2Ftripleo-heat-templates~master~I688e6b32703e19df032c86c0f4d04b75a12bfd20,openstack/tripleo-heat-templates,master,nova/cinder,I688e6b32703e19df032c86c0f4d04b75a12bfd20,cinder: set cinder::nova::project_name to service,MERGED,2019-05-28 14:05:31.000000000,2019-05-29 18:22:54.000000000,2019-05-29 18:22:54.000000000,1,0,0,661759,d75aee60f37421d8cfbad8685d2a052ec8f9534a,13,6,1,1,3153,Emilien Macchi,emilienm,"cinder: set cinder::nova::project_name to service

The default is changing in https://review.opendev.org/661413
and in TripleO we use 'service', and not 'services'. So we need to force
cinder::nova::project_name to be 'service'.

Change-Id: I688e6b32703e19df032c86c0f4d04b75a12bfd20
"
openstack%2Floci~master~I0ae1df6a71bbaabd21c2dfcfd1ffe847a811e008,openstack/loci,master,blacklist_m2crypto,I0ae1df6a71bbaabd21c2dfcfd1ffe847a811e008,Remove pywbem to blacklist M2Crypto,MERGED,2019-05-22 08:48:35.000000000,2019-05-29 18:04:19.000000000,2019-05-29 18:04:19.000000000,11,0,0,660607,97ef1b74be8c8fe980a01b504f163b7a15a0d532,32,5,4,1,17068,Jean-Philippe Evrard,evrardjp,"Remove pywbem to blacklist M2Crypto

M2Crypto wheel building (tested on 0.33 and 0.31) requires the openssl
devel libraries. Yet, building the wheel with the default libraries
on CentOS and Ubuntu fails, due to an incompatible version shipped
by default.

M2Crypto is only used for some specific cinder drivers, and
can probably be installed from distro packages as a post build
action, if necessary. Alternatively, using the python3 version of
pywbem doesn't need M2Crypto.

Change-Id: I0ae1df6a71bbaabd21c2dfcfd1ffe847a811e008
"
openstack%2Freleases~master~I2e5d95a42a18f2f131d9b2a7dc3b198af2e626a1,openstack/releases,master,rally_openstack_1.5.0,I2e5d95a42a18f2f131d9b2a7dc3b198af2e626a1,Release rally-openstack 1.5.0,MERGED,2019-05-29 13:44:23.000000000,2019-05-29 17:42:03.000000000,2019-05-29 17:42:03.000000000,4,0,0,661984,d7a0956e0f7bd1163b8c44b52220a739f06c622a,7,3,1,1,9545,Andrey Kurilin,akurilin,"Release rally-openstack 1.5.0

Change-Id: I2e5d95a42a18f2f131d9b2a7dc3b198af2e626a1
"
openstack%2Fpuppet-nova~stable%2Fstein~I2d2934e36fbb5442607693c0c481c1d4c8f59cb0,openstack/puppet-nova,stable/stein,bug/1803839,I2d2934e36fbb5442607693c0c481c1d4c8f59cb0,Adds functionality to modudify the nfs clients mount options,MERGED,2019-05-29 08:04:29.000000000,2019-05-29 17:40:35.000000000,2019-05-29 16:49:08.000000000,20,1,0,661908,f30766c3275c168a15478a1995bced1bd426fa55,8,5,1,3,17216,Martin Schuppert,mcschupp,"Adds functionality to modudify the nfs clients mount options

Change-Id: I2d2934e36fbb5442607693c0c481c1d4c8f59cb0
Closes-Bug: #1803839
(cherry picked from commit 9f12976e5270f580c969476643a2d23b30aea43e)
"
openstack%2Fhorizon~master~Id4c3287f0a572fd14ea93b54bcab8fabda39e583,openstack/horizon,master,bp/ini-based-configuration,Id4c3287f0a572fd14ea93b54bcab8fabda39e583,Define default settings explicitly (openstack_dashboard 1/5),MERGED,2019-04-23 17:33:39.000000000,2019-05-29 17:38:13.000000000,2019-05-29 17:38:13.000000000,299,294,1,655206,9c19b07a263868ec2d0ba8ac6ed4783fac84e063,7,3,1,15,841,Akihiro Motoki,amotoki,"Define default settings explicitly (openstack_dashboard 1/5)

Currently horizon defines default values of settings in the logic
using getattr(settings, <setting name>, <default value>) and
it is not easy to handle the default values of available settings.

This commit starts the effort to define default settings explicitly.
This is a preparation for ini-based-configurations.

It covers settings in openstack_dashboard/api.

Part of blueprint ini-based-configuration
Change-Id: Id4c3287f0a572fd14ea93b54bcab8fabda39e583
"
openstack%2Fheat~stable%2Fpike~Iec6f3606c9fdf8474f393b0990356f34d38bcf75,openstack/heat,stable/pike,story/2002781-stable/queens-stable/pike,Iec6f3606c9fdf8474f393b0990356f34d38bcf75,Support region_name for software deployment,MERGED,2019-02-03 04:33:29.000000000,2019-05-29 17:22:14.000000000,2019-05-29 17:22:14.000000000,8,4,0,634589,7e3a2008f3d8fced520bb14673ecaac4e6d605b2,18,7,1,2,12404,Rico Lin,rico.lin,"Support region_name for software deployment

In magnum, we're running into a problem that the heat-container-agent can't
get the region name. As a result, it can't get the correct Heat endpoint,
which is causing problems. This patch fixes this from heat side.

Task: 22661
Story: 2002781

Change-Id: Iec6f3606c9fdf8474f393b0990356f34d38bcf75
(cherry picked from commit fe7d98bdde01cbf60bbf09bf46c5c6990f6b807e)
(cherry picked from commit 6b7e2585f2e7a39088f74f577ed76f141fe06fe7)
"
openstack%2Fwatcher~stable%2Fstein~I16990afb82019821c443c9df26d3e515e52efa69,openstack/watcher,stable/stein,bug/1828582,I16990afb82019821c443c9df26d3e515e52efa69,Handle no nova CDM in notification code,MERGED,2019-05-22 15:38:49.000000000,2019-05-29 17:15:34.000000000,2019-05-29 08:13:30.000000000,25,2,0,660762,3c75c13f80bfb9d82f043beae6bed97ca72557ff,16,4,1,2,6873,Matt Riedemann,mriedem,"Handle no nova CDM in notification code

As of change Ic4659d1f18af181203439a8bf1b38805ff34c309 the
nova CDM will not be built until an audit is performed.

Instances and services (compute hosts) can be created and
deleted before an audit is performed which will attempt
to use the notification callback function which relies
on the CDM being built already, and if not results in
an AttributeError.

This change side-steps that issue by checking to see that the
nova CDM exists before trying to call the notification
callback function.

An alternative to this is forcefully create the nova CDM when
notifications are received before an audit which is what happend
before change Ic4659d1f18af181203439a8bf1b38805ff34c309.

Change-Id: I16990afb82019821c443c9df26d3e515e52efa69
Closes-Bug: #1828582
(cherry picked from commit 8a206a6ae55220687a240a33062c68d947df3512)
"
openstack%2Fkeystoneauth~master~I6a4ab4076e0a0722fdc1ee3b1685cc242b3dac4c,openstack/keystoneauth,master,bug/1801101,I6a4ab4076e0a0722fdc1ee3b1685cc242b3dac4c,Resolves a typo in a link to use Application Credentials,MERGED,2019-05-23 06:00:53.000000000,2019-05-29 16:59:00.000000000,2019-05-29 16:59:00.000000000,1,1,0,660886,2bb7f120c343774c7e7d27816c3c5eda1e88ccf7,12,4,1,1,30296,Chinmay Naik,chinmayp.99,"Resolves a typo in a link to use Application Credentials

Change-Id: I6a4ab4076e0a0722fdc1ee3b1685cc242b3dac4c
Closes-Bug: #1801101
"
openstack%2Ftripleo-heat-templates~master~Ie9bd482782ff770d90dfc38a585237812ed81c06,openstack/tripleo-heat-templates,master,bug/1830852,Ie9bd482782ff770d90dfc38a585237812ed81c06,Fix custom network.name_lower in krb-service-principals,MERGED,2019-05-29 07:45:33.000000000,2019-05-29 16:55:25.000000000,2019-05-29 16:45:27.000000000,10,3,0,661905,c0fcf8674d5f7c5c0cec1179fa56ef4536d5c5fb,15,7,2,2,24245,Harald Jenss,harald.jensas,"Fix custom network.name_lower in krb-service-principals

The lowercase network names was hardcoded to 'external',
'internal_api' and 'storage_mgmt'. Use jinja to get the
network.name_lower value from network_data.yaml instead
so that users can customize the lowercase network name.

Closes-Bug: #1830852
Change-Id: Ie9bd482782ff770d90dfc38a585237812ed81c06
"
openstack%2Fos-vif~stable%2Fstein~I8721b680bbd9f59a67bd8e6855ffb291c208cdb8,openstack/os-vif,stable/stein,bug/1825888,I8721b680bbd9f59a67bd8e6855ffb291c208cdb8,"Prevent ""qbr"" Linux Bridge from replying to ARP messages",MERGED,2019-04-25 11:36:22.000000000,2019-05-29 16:45:25.000000000,2019-05-29 16:45:25.000000000,70,4,2,655678,c42e7641f00905ff2dd68096d733929bf84756b5,25,15,3,5,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Prevent ""qbr"" Linux Bridge from replying to ARP messages

The Linux Bridge in between the VM TAP interface and OVS should [1][2]:
- Reply only if the target IP address is local address configured
  on the incoming interface.
- Always use the best local address.

[1]http://kb.linuxvirtualserver.org/wiki/Using_arp_announce/arp_ignore_to_disable_ARP
[2]http://linux-ip.net/html/ether-arp.html#ether-arp-flux

Change-Id: I8721b680bbd9f59a67bd8e6855ffb291c208cdb8
Closes-Bug: #1825888
(cherry picked from commit 9ad9b8483913a38345133120b04c4677fab9cb68)
"
openstack%2Fironic-lib~master~Id2bb06d461501048748feccee87ead4241a70179,openstack/ironic-lib,master,story/2005393,Id2bb06d461501048748feccee87ead4241a70179,mdns: allow quoting in the [mdns]params configuration option,MERGED,2019-05-29 13:57:20.000000000,2019-05-29 16:43:13.000000000,2019-05-29 16:43:13.000000000,7,4,0,661990,617056b2a36d039179271cb24fd6157ee2505ef5,7,3,1,1,10239,Dmitry Tantsur,dtantsur,"mdns: allow quoting in the [mdns]params configuration option

Without quoting support it is not possible to use commas in the dict
values. Commas are required for parameters like ipa_inspection_collectors.

Change-Id: Id2bb06d461501048748feccee87ead4241a70179
"
openstack%2Fneutron-lib~master~Ie3ed5ea81e0df50a699174fef95eb32337ed5682,openstack/neutron-lib,master,bug/1793029,Ie3ed5ea81e0df50a699174fef95eb32337ed5682,[api-ref] Add short warning about ANY IP address in allowed address pair,MERGED,2019-05-27 13:30:17.000000000,2019-05-29 16:32:27.000000000,2019-05-29 16:32:27.000000000,7,0,2,661594,e02c4b214b6762823c5e1ae5719f08f5f51910e8,12,8,2,1,11975,Slawek Kaplonski,slaweq,"[api-ref] Add short warning about ANY IP address in allowed address pair

Change-Id: Ie3ed5ea81e0df50a699174fef95eb32337ed5682
Closes-Bug: #1793029
"
openstack%2Ftripleo-common~stable%2Fqueens~Ie6af5908d4b79bad094bce31e8e853678c0e843c,openstack/tripleo-common,stable/queens,bug/1810932,Ie6af5908d4b79bad094bce31e8e853678c0e843c,Workaround ssh_known_hosts changes not being propagated to containers,MERGED,2019-05-22 07:20:05.000000000,2019-05-29 16:29:23.000000000,2019-05-29 16:29:22.000000000,29,6,0,660585,83c08960e88e85100f0ddbe7902fe907a003ee3a,15,11,1,2,17216,Martin Schuppert,mcschupp,"Workaround ssh_known_hosts changes not being propagated to containers

We need an in-place update of /etc/ssh/ssh_known_hosts for the changes to be
visible to running containers. This works around the issue until we have a
better long-term solution - make a copy, update using lineinfile, then
clobber the original file.

Closes-bug: #1810932
Change-Id: Ie6af5908d4b79bad094bce31e8e853678c0e843c
(cherry picked from commit ca60b82be840a91e76a965438f0cdd35c9a2baca)
(cherry picked from commit 0077402bbbb79ca97af19452f8b60a57d2219fc6)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ifc9226c33482c6562c368ed384e9d062384a1817,openstack/tripleo-heat-templates,stable/stein,bug/1830750,Ifc9226c33482c6562c368ed384e9d062384a1817,Fix manila-scheduler-container-puppet.yaml typo,MERGED,2019-05-28 09:53:46.000000000,2019-05-29 16:29:20.000000000,2019-05-29 16:29:20.000000000,1,1,2,661711,ece7858d7b8c2e4ace731058ea6a448f2d6c05db,19,9,2,1,18142,David Sariel,dsariel,"Fix manila-scheduler-container-puppet.yaml typo

Change-Id: Ifc9226c33482c6562c368ed384e9d062384a1817
Closes-Bug: #1830750 
(cherry picked from commit 42798182e8c1b88c78ee68e0c44775909f7d79ea)
"
openstack%2Fpuppet-tripleo~stable%2Fstein~Id2c61fd10df8c5427416fd6e6914e95502c3a714,openstack/puppet-tripleo,stable/stein,bug/1830702-stable/stein,Id2c61fd10df8c5427416fd6e6914e95502c3a714,Fix amphora provider driver description,MERGED,2019-05-28 20:56:48.000000000,2019-05-29 16:29:19.000000000,2019-05-29 16:29:19.000000000,2,2,0,661842,6b4c231c5b3405db69093de65ad2d8b4fe472c86,10,6,1,2,6469,Carlos Gonalves,cgoncalves,"Fix amphora provider driver description

Closes-Bug: #1830702
Change-Id: Id2c61fd10df8c5427416fd6e6914e95502c3a714
(cherry picked from commit c6858e7a1cd15fa0eb8563973ae7e52b406174d8)
"
openstack%2Fnova~master~Ib0e0b708c46e4330e51f8f8fdfbb02d45aaf0f44,openstack/nova,master,bp/remove-cells-v1,Ib0e0b708c46e4330e51f8f8fdfbb02d45aaf0f44,Remove cells code,MERGED,2019-04-09 16:15:52.000000000,2019-05-29 16:29:01.000000000,2019-05-29 03:56:36.000000000,199,12018,7,651306,817dcc89a941fa4e16cc5fff5f08b85ea69bf3fc,144,17,10,45,15334,Stephen Finucane,sfinucan,"Remove cells code

Thankfully the bulk of this is neatly organized in a single directory
and can be removed, now that the bulk of the references to it have been
removed. The only complicated area is the tests, though effort has been
taken to minimise the diff here wherever possible.

Part of blueprint remove-cells-v1

Change-Id: Ib0e0b708c46e4330e51f8f8fdfbb02d45aaf0f44
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fironic~master~I389d0c7722252f001134a7b45006d3be2f371a3d,openstack/ironic,master,fix-stray-reno,I389d0c7722252f001134a7b45006d3be2f371a3d,Move stray reno file,MERGED,2019-05-29 14:38:35.000000000,2019-05-29 16:21:05.000000000,2019-05-29 15:23:14.000000000,0,0,0,661998,73845b3655101efb2511e8bc61c5e7f9f866c8b2,7,3,1,1,26340,Ilya Etingof,etingof,"Move stray reno file

Change-Id: I389d0c7722252f001134a7b45006d3be2f371a3d
"
openstack%2Fneutron~stable%2Fstein~I54f45b8c52fc1ecce811b028f0f92e0d78d3157b,openstack/neutron,stable/stein,bug/1830232-stable/stein,I54f45b8c52fc1ecce811b028f0f92e0d78d3157b,[Functional tests] Test keepalived in namespaces,MERGED,2019-05-25 14:22:51.000000000,2019-05-29 16:18:58.000000000,2019-05-29 16:18:58.000000000,17,3,0,661456,5339544a0d37aa03bff4c1649fa77dac3a602469,22,6,1,1,11975,Slawek Kaplonski,slaweq,"[Functional tests] Test keepalived in namespaces

Functional tests for keepalived should spawn processes in namespaces
where dummy interfaces used in keepalived.conf file exists.
Otherwise keepalived 2.0.10 (this is version used currently in RHEL 8)
fails to start and tests are failing.

On older versions of keepalived, like 1.3.9 used in Ubuntu 18.04,
keepalived is logging warning about not existing interfaces but it's
starting fine thus tests are running properly.

So this patch adds creation of namespace for each test from
neutron.tests.functional.agent.linux.test_keepalived module,
creates dummy interfaces with names used in keepalived config file
and runs keepalive process in this namespace.

Change-Id: I54f45b8c52fc1ecce811b028f0f92e0d78d3157b
Closes-Bug: #1830232
(cherry picked from commit 959af761cb1197bbeaed4ba1f0c3e5ef4aba3ee1)
"
openstack%2Frpm-packaging~master~I714e67ed05f426336f4603f3052eeeaefcdac627,openstack/rpm-packaging,master,oslo_cache,I714e67ed05f426336f4603f3052eeeaefcdac627,Update the oslo.cache to 1.35.0,MERGED,2019-05-29 00:54:53.000000000,2019-05-29 16:16:05.000000000,2019-05-29 16:16:04.000000000,1,1,0,661865,d90308a9a04987f6cf9d0fb8160d937fcdded6f4,9,5,1,1,28613,tony_zhang,tonybrad,"Update the oslo.cache to 1.35.0

Change-Id: I714e67ed05f426336f4603f3052eeeaefcdac627
"
openstack%2Frpm-packaging~master~If26442dcde28b2c91518385ba277540b4b16313b,openstack/rpm-packaging,master,tripleo-common,If26442dcde28b2c91518385ba277540b4b16313b,Update the tripleo-common to 10.7.0,MERGED,2019-05-29 01:10:28.000000000,2019-05-29 16:16:04.000000000,2019-05-29 16:16:03.000000000,1,1,0,661867,fb8c4f9c71c4dfd6e1d3955efd1910921f943fb0,9,5,1,1,28613,tony_zhang,tonybrad,"Update the tripleo-common to 10.7.0

Change-Id: If26442dcde28b2c91518385ba277540b4b16313b
"
openstack%2Fmonasca-log-api~master~I390d891a51750a810d4114272ab3695874e16370,openstack/monasca-log-api,master,broken_unit_tests_falcon,I390d891a51750a810d4114272ab3695874e16370,Constrain Falcon library to fix unit tests,ABANDONED,2019-05-10 13:12:58.000000000,2019-05-29 16:12:13.000000000,,1,1,0,658357,b3894d800e84e4bc617bbcac6634e9b8e7427ceb,5,2,1,1,17669,Doug Szumski,DougSzumski,"Constrain Falcon library to fix unit tests

From the Falcon 2.0.0 release notes:

The deprecated falcon.testing.TestBase class was removed.

Until the tests are updated we can just avoid using this new version.

Change-Id: I390d891a51750a810d4114272ab3695874e16370
"
openstack%2Fcompute-hyperv~master~Id57f462ff4f1fa843051721aa78bb332b8a37fcd,openstack/compute-hyperv,master,obsolete-build-sphinx,Id57f462ff4f1fa843051721aa78bb332b8a37fcd,Update docs jobs,MERGED,2019-05-25 15:52:00.000000000,2019-05-29 16:08:19.000000000,2019-05-29 16:08:19.000000000,15,24,2,661459,f7c98982ad3aa0b4272c4b540fe51f644d9dddc0,19,6,6,6,6547,Andreas Jaeger,jaegerandi,"Update docs jobs

Use tox-docs instead of obsolete build-openstack-sphinx-docs job.

Add readme to index to fix RST building.

Update tox.ini for this change,
disable sphinx's option to tread warnings as errors since nova
autogenerated code contains links to nova documents that do not work
when build here. Note that the previous build-sphinx also disabled
warnings, so this is no change in behaviour in jobs.

Update old pike link to current stein.

Update requirements for global-requirements change.

Remove unneeded json test from doc environment, there are no json files in the
doc directory and thus the test fails.

Change-Id: Id57f462ff4f1fa843051721aa78bb332b8a37fcd
"
openstack%2Foslo.context~master~I07035bfdeb3558eab0de9bb9c9413c70ca5a3426,openstack/oslo.context,master,bug/1660088,I07035bfdeb3558eab0de9bb9c9413c70ca5a3426,"Make ""DeprecationWarning"" warnings show once",ABANDONED,2017-01-30 15:12:16.000000000,2019-05-29 16:06:54.000000000,,26,4,2,426805,33b5312578106aaf59a5c7d5e292912a84978787,27,7,4,2,8099,Graham Hayes,graham,"Make ""DeprecationWarning"" warnings show once

This ensures that the warning is only emitted once per
non compliant usage.

This also resets the stack level so the warning
shows that the olso.context lib has done the
deprecation, not the consuming project.

Change-Id: I07035bfdeb3558eab0de9bb9c9413c70ca5a3426
Closes-Bug: #1660088
"
openstack%2Fcinder~stable%2Frocky~I78c7e0cb076405d37c9bd54576cec735986a0f38,openstack/cinder,stable/rocky,,I78c7e0cb076405d37c9bd54576cec735986a0f38,HPE 3PAR-Added support for multiattach feature in hpe3par cinder driver,ABANDONED,2019-05-22 14:07:31.000000000,2019-05-29 16:02:17.000000000,,6,2,0,660721,f7b85c95020120b625c7174e32038a2dd17696a7,21,16,1,2,20813,Sofia Enriquez,enriquetaso,"HPE 3PAR-Added support for multiattach feature in hpe3par cinder driver

The 3PAR driver has long supported the ability to do
multiattach of volumes. This patch updates the
capability reporting to support multiattach.

Change-Id: I78c7e0cb076405d37c9bd54576cec735986a0f38
(cherry picked from commit 1926a035216ed156cdb28ea27774d4e1115eeee3)
(cherry picked from commit eb2567df193c711f44baf3396fdab4935bc8b8c4)
"
openstack%2Fcinder~stable%2Fstein~I78c7e0cb076405d37c9bd54576cec735986a0f38,openstack/cinder,stable/stein,,I78c7e0cb076405d37c9bd54576cec735986a0f38,HPE 3PAR-Added support for multiattach feature in hpe3par cinder driver,ABANDONED,2019-05-22 13:59:40.000000000,2019-05-29 16:02:05.000000000,,6,2,0,660717,eb2567df193c711f44baf3396fdab4935bc8b8c4,29,17,1,2,20813,Sofia Enriquez,enriquetaso,"HPE 3PAR-Added support for multiattach feature in hpe3par cinder driver

The 3PAR driver has long supported the ability to do
multiattach of volumes. This patch updates the
capability reporting to support multiattach.

Change-Id: I78c7e0cb076405d37c9bd54576cec735986a0f38
(cherry picked from commit 1926a035216ed156cdb28ea27774d4e1115eeee3)
"
openstack%2Ftooz~master~Ice93b3895ae4c9699e3656c6e493b1b368badc0f,openstack/tooz,master,reno-stein,Ice93b3895ae4c9699e3656c6e493b1b368badc0f,Update master for stable/stein,MERGED,2019-03-18 14:57:58.000000000,2019-05-29 15:58:07.000000000,2019-05-29 15:58:06.000000000,7,0,1,644229,d2dec45f287af9ba7db21dd94f2cba42cd9a63b3,10,4,2,2,22816,OpenStack Release Bot,release,"Update master for stable/stein

Add file to the reno documentation build to show release notes for
stable/stein.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/stein.

Change-Id: Ice93b3895ae4c9699e3656c6e493b1b368badc0f
Sem-Ver: feature
"
openstack%2Fironic~master~Iec065e54f0ca50515180fb5f2051380bde329ab0,openstack/ironic,master,story/2005393,Iec065e54f0ca50515180fb5f2051380bde329ab0,Trivial: correct configuration option copy-pased from inspector,MERGED,2019-05-29 06:36:40.000000000,2019-05-29 15:55:20.000000000,2019-05-29 10:48:25.000000000,1,1,0,661894,db7d9bb1f0228b1fc8f7677aba3cf8d8aab3f39b,9,5,1,1,10239,Dmitry Tantsur,dtantsur,"Trivial: correct configuration option copy-pased from inspector

Change-Id: Iec065e54f0ca50515180fb5f2051380bde329ab0
"
openstack%2Fswift~master~Icc583e3545763c9c15da9ce4e0544a3ecf4cb089,openstack/swift,master,fix-hashes-py3,Icc583e3545763c9c15da9ce4e0544a3ecf4cb089,WIP - Fix handling of hashes.invalid file with py3,ABANDONED,2019-05-24 13:59:05.000000000,2019-05-29 15:54:59.000000000,,3,5,4,661296,d889758bd8f4788c50db417fc4ad69c8b47137bb,7,3,2,1,25251,Alexandre Lcuyer,alecuyer,"WIP - Fix handling of hashes.invalid file with py3

With python 3, we would write bytes rather than str to the
hashes.invalid file. This will cause byte keys to appear in
the pickled dict in hashes.pkl, making __get_hashes() fail.

This patch handles hashes.invalid as a text file instead.

Fixes-bug: 1830372

Change-Id: Icc583e3545763c9c15da9ce4e0544a3ecf4cb089
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Id678bbc2127bc3742d3c254ff4f62fc1b0e27daa,openstack/tripleo-heat-templates,stable/stein,bug/1823841-stable/stein,Id678bbc2127bc3742d3c254ff4f62fc1b0e27daa,Ensure we aren't running some dry-run also for Pacemaker case,MERGED,2019-05-16 11:13:11.000000000,2019-05-29 15:54:36.000000000,2019-05-29 15:54:36.000000000,3,1,0,659530,999626d853b7f7483dc03e67afc823ffba873cbc,17,7,1,1,28223,Cedric Jeanneret,cjeanner,"Ensure we aren't running some dry-run also for Pacemaker case

I5851dc7820fdcc4f5790980d94b81622ce3b0c8d corrected the dry-run case
only for non-HA setup.

The HA case was overlooked since it doesn't inherits from the non-HA.

Change-Id: Id678bbc2127bc3742d3c254ff4f62fc1b0e27daa
Closes-Bug: #1823841
(cherry picked from commit cc95b17edbe70f8ab21c86d07edc5898026fc515)
"
openstack%2Fopenstackdocstheme~master~Ia995f461c9880f9d9ab2947afb233a0c58624253,openstack/openstackdocstheme,master,,Ia995f461c9880f9d9ab2947afb233a0c58624253,Do not hide h1's in the body,ABANDONED,2018-06-13 13:52:39.000000000,2019-05-29 15:44:51.000000000,,0,4,0,575118,ccadf689d5ccf9aefd4989ffe277ce5999a0a80a,10,4,1,1,8099,Graham Hayes,graham,"Do not hide h1's in the body

Change-Id: Ia995f461c9880f9d9ab2947afb233a0c58624253
Signed-off-by: Graham Hayes <gr@ham.ie>
"
openstack%2Fneutron-lib~stable%2Frocky~I5a50f81cc03f9b88cab34c3ab562b0df03e271d7,openstack/neutron-lib,stable/rocky,fix_logging_exception,I5a50f81cc03f9b88cab34c3ab562b0df03e271d7,Fix exception logging formatting,ABANDONED,2019-02-01 18:50:11.000000000,2019-05-29 15:43:59.000000000,,1,1,0,634468,718c423d38ec74df6a58a2b8cbbda6366b9bcdfd,9,6,2,1,25618,Pawe Suder,SuderPawel,"Fix exception logging formatting

That change corrects formatting of logging exception.

TrivalFix

Change-Id: I5a50f81cc03f9b88cab34c3ab562b0df03e271d7
(cherry picked from commit 194f775c9c1cddf29a1554b1c5f7d8061fc74fd5)
"
openstack%2Fneutron-lib~stable%2Frocky~If6112bf37153d25848aa0828f1285e9bcefc7991,openstack/neutron-lib,stable/rocky,,If6112bf37153d25848aa0828f1285e9bcefc7991,Fix pep8 E126,ABANDONED,2019-02-01 22:12:12.000000000,2019-05-29 15:43:44.000000000,,7,7,0,634503,5a3a964a3fe9291e02da0a20ebf7d28072026ad8,9,6,1,1,25618,Pawe Suder,SuderPawel,"Fix pep8 E126

Fix pep8 issue ""E126 continuation line over-indented for
hanging indent"".

TrivialFix

Change-Id: If6112bf37153d25848aa0828f1285e9bcefc7991
(cherry picked from commit a50381fbfa019838423ab939a5bd70f52449af4f)
"
openstack%2Foslo-specs~master~Id4ca0b3bf23d3d76484822d2ade27bf3c444afb0,openstack/oslo-specs,master,,Id4ca0b3bf23d3d76484822d2ade27bf3c444afb0,Adding library for encryption and decryption,ABANDONED,2018-11-19 13:50:01.000000000,2019-05-29 15:37:32.000000000,,122,0,31,618754,17652060aa9c8437d025de4c646a3354db7180a7,16,11,2,1,28271,Josephine Seifert,josei,"Adding library for encryption and decryption

This Spec describes a library oslo.encrypt for encryption and decryption
of large files.

For the contribution of Image Encryption it is necessary to have a library
for the encryption of decryption of large binary files, so the code can be
used by projects, which want tu encrypt or decrypt images.

Change-Id: Id4ca0b3bf23d3d76484822d2ade27bf3c444afb0
Co-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>
"
openstack%2Foslo.cache~stable%2Frocky~I4ee88377e7123c165434765a73f27cabec8c8177,openstack/oslo.cache,stable/rocky,rocky,I4ee88377e7123c165434765a73f27cabec8c8177,Cap Bandit below 1.6.0 and update Sphinx requirement,MERGED,2019-05-22 09:39:32.000000000,2019-05-29 15:35:31.000000000,2019-05-29 15:35:30.000000000,3,2,0,660616,77046357bc73704605443a3c0af18a36d9ff7669,6,2,1,2,29222,Natal Ngtal,hobbestigrou,"Cap Bandit below 1.6.0 and update Sphinx requirement

Bandit 1.6.0 accidentally changed how the exclusion list option is
handled and breaks our use of it. Cap to the previous version until
Bandit has fixed the problem.

Sphinx 2.0 no longer works on python 2.7, so we need to start capping
it there as well.

Change-Id: I4ee88377e7123c165434765a73f27cabec8c8177
Reference: https://github.com/PyCQA/bandit/pull/489
(cherry picked from commit 03f18400bb02b61deaa55cc3ae85ff1b1b0c6b24)
"
openstack%2Fcinder~master~Ia1ad1eb5fecba036a1d4386923e13ff30bc15fae,openstack/cinder,master,bug/1784096,Ia1ad1eb5fecba036a1d4386923e13ff30bc15fae,Increase length limit on image metadata content,ABANDONED,2018-07-28 03:07:58.000000000,2019-05-29 15:34:13.000000000,,22,10,2,586737,6111266e1d1ad63244ca64e9a0f73c5df8f5c78b,143,42,7,4,23083,TommyLike,TommyLike,"Increase length limit on image metadata content

volume_glance_metadata table's value column is defined
as TEXT, this patch increase the limit restriction from
255 to 512.

Change-Id: Ia1ad1eb5fecba036a1d4386923e13ff30bc15fae
CLoses-Bug: #1784096
"
openstack%2Fmistral~master~Icd83d0f44c58c402c7382a6de6d4acf4d24f3b33,openstack/mistral,master,bp/s,Icd83d0f44c58c402c7382a6de6d4acf4d24f3b33,Workflow Error Analysis [WIP],ABANDONED,2017-04-10 20:47:30.000000000,2019-05-29 15:28:47.000000000,,340,0,89,455447,2f8773d5843247dd74d4e5a8bfe5d177f2b20904,115,7,37,8,11085,Toure Dunnon,Toure,"Workflow Error Analysis [WIP]

Currently there is not a central way or single command which can be issued to
determine the root cause of an error that has occurred upon failure of a
mistral workflow. The proposed functionality would give the developer and
operator a method which can help debug errors which may stem from syntax errors
within the workbook or reveal actual bugs, by reporting the necessary
information from the execution to the client.

**still working through a couple things but I can see the light**

Implements: mistral-error-analysis

Change-Id: Icd83d0f44c58c402c7382a6de6d4acf4d24f3b33
"
openstack%2Ftripleo-common~master~I38f926deabf535461f01388127d3a4a7fc8a767b,openstack/tripleo-common,master,port_ansible_to_mistral,I38f926deabf535461f01388127d3a4a7fc8a767b,Migrate the ansible actions from tripleo-common to mistral-extra.,ABANDONED,2017-11-28 21:24:33.000000000,2019-05-29 15:28:33.000000000,,50,500,2,523540,f3903f89539ce5b6abca5a6a98f2fce70e730f03,38,7,9,9,11085,Toure Dunnon,Toure,"Migrate the ansible actions from tripleo-common to mistral-extra.

This restructure will allow us to clean up tripleo-common of third
party functionality and place it into the component repo for a
better long term maintainable solution.

Depends-On: Icd8a5c25ce697c871d8c400b82f6f251c136f521
Change-Id: I38f926deabf535461f01388127d3a4a7fc8a767b
"
openstack%2Fproject-config~master~If7d4c0d9a8127187b77454f69fda8bb332c19af9,openstack/project-config,master,project-rename,If7d4c0d9a8127187b77454f69fda8bb332c19af9,Retire x/pbrx and openstack-infra/opendev-website (Step 1),MERGED,2019-05-29 08:23:02.000000000,2019-05-29 15:26:50.000000000,2019-05-29 15:26:50.000000000,10,0,6,661910,164b72a58292c26c1fabd98a85110c96eaf4956a,11,3,3,1,6547,Andreas Jaeger,jaegerandi,"Retire x/pbrx and openstack-infra/opendev-website (Step 1)

Add noop jobs for the repos so that content can be removed.

Announcement:
http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006694.html

Change-Id: If7d4c0d9a8127187b77454f69fda8bb332c19af9
"
openstack%2Fcharm-glance~master~I6e77bba1d66ea08671d45c464d4e76796a4e6ab9,openstack/charm-glance,master,,I6e77bba1d66ea08671d45c464d4e76796a4e6ab9,Sync in CephContext fix,MERGED,2019-05-29 07:41:01.000000000,2019-05-29 15:21:38.000000000,2019-05-29 15:21:38.000000000,19,0,0,661903,b4f24991e512f2bda130abe268d1d8686f97688c,16,4,3,1,20634,Chris MacNaughton,Chris.MacNaughton,"Sync in CephContext fix

Change-Id: I6e77bba1d66ea08671d45c464d4e76796a4e6ab9
"
openstack%2Fbarbican-specs~master~If4a889912fdd971c16ed541a91277e911f473128,openstack/barbican-specs,master,train-update,If4a889912fdd971c16ed541a91277e911f473128,Update for Train,MERGED,2019-05-23 22:02:32.000000000,2019-05-29 15:19:21.000000000,2019-05-29 15:19:21.000000000,0,353,0,661128,5fc1790899c0520a23337e8aeb78316f4eb16318,9,6,2,2,7973,Douglas Mendizbal,dougmendizabal,"Update for Train

Removed empty Stein  directory.

Change-Id: If4a889912fdd971c16ed541a91277e911f473128
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ic928d3562583291f4d640d6ccdc3d9d9b22a7866,openstack/tripleo-heat-templates,stable/stein,octavia-driver-agent-stable/stein,Ic928d3562583291f4d640d6ccdc3d9d9b22a7866,Re-add amphora flavor management settings,MERGED,2019-05-28 21:01:12.000000000,2019-05-29 15:15:14.000000000,2019-05-29 15:15:14.000000000,15,2,0,661844,4514ed6c3444b7569270faf00b72e8e6914375db,8,3,1,1,6469,Carlos Gonalves,cgoncalves,"Re-add amphora flavor management settings

The octavia amphora flavor config was inadvertantly removed during the
flattening stage. This adds it back.

Change-Id: Ic928d3562583291f4d640d6ccdc3d9d9b22a7866
(cherry picked from commit 504f8fc750f18538d98111f2cd4429afc8583acf)
"
openstack%2Ftripleo-quickstart-extras~master~I590c835c70d1e1aa94914b440a344716d136556a,openstack/tripleo-quickstart-extras,master,tempest_skip_massupdate,I590c835c70d1e1aa94914b440a344716d136556a,Updated skip list for queens,MERGED,2019-05-28 08:19:55.000000000,2019-05-29 15:15:09.000000000,2019-05-29 15:15:09.000000000,0,3,0,661697,ce2a4befae27360dfad434dfc4d8cc1c535b6c4c,16,10,1,1,12393,chandan kumar,chkumar246,"Updated skip list for queens

Bugs addressed:
https://bugs.launchpad.net/keystone/+bug/1660603

https://tree.taiga.io/project/tripleo-ci-board/task/1089

Change-Id: I590c835c70d1e1aa94914b440a344716d136556a
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Ftripleo-quickstart-extras~master~I8c986eddfb4ef714bd7a9fa26ca9e460419bfbad,openstack/tripleo-quickstart-extras,master,tempest_skip_massupdate,I8c986eddfb4ef714bd7a9fa26ca9e460419bfbad,Updated skip list for rocky,MERGED,2019-05-28 08:31:29.000000000,2019-05-29 15:15:08.000000000,2019-05-29 15:15:08.000000000,0,6,0,661699,bfbb75203a002f6a554721c8e69083124eec1c73,16,13,1,1,12393,chandan kumar,chkumar246,"Updated skip list for rocky

Bugs related:
https://bugs.launchpad.net/tripleo/+bug/1753211
https://bugs.launchpad.net/keystone/+bug/1660603

https://tree.taiga.io/project/tripleo-ci-board/task/1090

Change-Id: I8c986eddfb4ef714bd7a9fa26ca9e460419bfbad
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Ftripleo-quickstart-extras~master~I291064cc6f7ebb40d5704ee64489dbf77a68475f,openstack/tripleo-quickstart-extras,master,tempest_skip_massupdate,I291064cc6f7ebb40d5704ee64489dbf77a68475f,Update skip list for master,MERGED,2019-05-28 08:00:32.000000000,2019-05-29 15:15:07.000000000,2019-05-29 15:15:06.000000000,5,11,1,661694,85bba9f24a79da8069d5d0b4a7515dd62893e202,17,9,1,1,12393,chandan kumar,chkumar246,"Update skip list for master

Bugs Fixed:
https://bugs.launchpad.net/tripleo/+bug/1806075
https://bugs.launchpad.net/keystone/+bug/1660603
https://bugs.launchpad.net/tripleo/+bug/1753211
https://bugs.launchpad.net/tripleo/+bug/1810325

https://tree.taiga.io/project/tripleo-ci-board/task/1088

Related-Bug: #1753209

Change-Id: I291064cc6f7ebb40d5704ee64489dbf77a68475f
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fpuppet-nova~stable%2Fqueens~Ib58c2ca04dfe6d1e1ff849f600a9a24724205078,openstack/puppet-nova,stable/queens,bug/1734025-stable/queens,Ib58c2ca04dfe6d1e1ff849f600a9a24724205078,Add cinder credentials in nova conf,MERGED,2019-05-23 06:38:43.000000000,2019-05-29 15:14:09.000000000,2019-05-29 15:14:09.000000000,149,0,0,660894,cc137c90a5fbc3ba461ce3d8c0eafccd01235a73,26,8,1,3,20733,Rajesh Tailor,rajesht,"Add cinder credentials in nova conf

Added user/project CONF with admin role at cinder group,
and when determine context is_admin and without token, do
authenticaion with user/project info to call cinder api.

When set reclaim_instance_interval > 0, and then delete an
instance which booted from volume with `delete_on_termination`
set as true. After reclaim_instance_interval time pass,
all volumes boot instance with state: attached and in-use,
even when attached instances was deleted.

This happens because as admin context from
`nova.compute.manager._reclaim_queued_deletes` did not have
any token info, then call cinder api would be failed.

The corresponding nova changes merged in change
https://review.opendev.org/#/c/522112/

Related-Bug: #1734025
Change-Id: Ib58c2ca04dfe6d1e1ff849f600a9a24724205078
(cherry picked from commit 848ac0b5e101850e7c3ad5140ac87e5476603f1b)
(cherry picked from commit b6688cee15a9121aff03fbab7211ce27f0953316)
"
openstack%2Fcharm-nova-cloud-controller~master~I7efcf3f39e7dcd632b3d2a4b7b8f3e8befd7f5de,openstack/charm-nova-cloud-controller,master,bug/1828085,I7efcf3f39e7dcd632b3d2a4b7b8f3e8befd7f5de,Fix database parts templates for nova_alchemy_flags.,MERGED,2019-05-07 17:06:38.000000000,2019-05-29 15:06:26.000000000,2019-05-17 09:11:44.000000000,2,2,0,657649,d491a10a81ce9aa228cab22927565a95a5123a45,13,4,1,2,2276,Jorge Niedbalski,niedbalski,"Fix database parts templates for nova_alchemy_flags.

This commit uses .keys syntax instead of iterkeys
for fixing a traceback when setting nova_alchemy_flags != None.

Change-Id: I7efcf3f39e7dcd632b3d2a4b7b8f3e8befd7f5de
Closes-Bug: #1828085
"
openstack%2Fos-vif~stable%2Fqueens~I2badb5a3cd5f1ab2a66d3ebd97432b77985ada1b,openstack/os-vif,stable/queens,constraints,I2badb5a3cd5f1ab2a66d3ebd97432b77985ada1b,add upper_constraints support,MERGED,2019-05-13 10:24:03.000000000,2019-05-29 15:05:23.000000000,2019-05-29 15:05:23.000000000,6,3,20,658780,e09d87900af33f9db727d79e5d1292827e1a7420,27,9,4,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"add upper_constraints support

- This change enforces the use of upper_constraints
  in tox envs.

NOTE(ralonsoh): Conflicts are because we're missing a number
  of changes, none of which are necessary to include here. In
  addition, the constraints URL is modified to ensure constraints
  for this stable version are used.

Change-Id: I2badb5a3cd5f1ab2a66d3ebd97432b77985ada1b
(cherry picked from commit 96b5a11d35d74faf7c9866dceef66984dbcddae6)
"
openstack%2Fpuppet-barbican~master~I14aa6d2f327b5f0af36ec07c574aa8eeccfdf55e,openstack/puppet-barbican,master,,I14aa6d2f327b5f0af36ec07c574aa8eeccfdf55e,Fix secretstore value to align with python entrypoint.,MERGED,2019-05-28 18:59:17.000000000,2019-05-29 15:03:12.000000000,2019-05-29 15:03:12.000000000,2,2,0,661832,33ab5f763e18b02737d928ce1998991ddbdd9ab2,9,5,2,2,11479,David Gurtner,aldavud,"Fix secretstore value to align with python entrypoint.

The dogtag secretstore entrypoint is `dogtag_crypto`[1], thus the value
configured for secretstore:dogtag/secret_store_plugin needs to be
`dogtag_crypto` as well.

[1] https://github.com/openstack/barbican/blob/master/setup.cfg#L55

Change-Id: I14aa6d2f327b5f0af36ec07c574aa8eeccfdf55e
"
openstack%2Frequirements~master~Iabb4e3c30be27183e2eac5ccd1bfcd8c8edff088,openstack/requirements,master,falcon,Iabb4e3c30be27183e2eac5ccd1bfcd8c8edff088,Blacklist falcon 2.0.0,ABANDONED,2019-05-28 18:52:38.000000000,2019-05-29 15:02:29.000000000,,3,2,0,661826,02ee410bdb10bae4b913702f3562de6ae08c0c93,9,4,2,2,11904,Sean McGinnis,SeanM,"Blacklist falcon 2.0.0

Falcon 2.0.0 has an issue [0] with parsing request query parameters that
is causing several blocking unit test failures for the zaqar project.

[0] https://github.com/falconry/falcon/issues/1547

Change-Id: Iabb4e3c30be27183e2eac5ccd1bfcd8c8edff088
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Ftripleo-quickstart-extras~master~Idf4e7a97005c3fed3d921bf00f96fa5c90c25cc2,openstack/tripleo-quickstart-extras,master,bug/1796710,Idf4e7a97005c3fed3d921bf00f96fa5c90c25cc2,Add failing tempest tests to skip list,ABANDONED,2018-10-08 16:21:56.000000000,2019-05-29 14:48:17.000000000,,12,0,0,608723,1eab78445bab2f462fa76887787ee948364c4903,36,9,3,1,22873,Martin Kopec,mkopec,"Add failing tempest tests to skip list

4 tempest tests are curretnly failing in gates with Read timed
out error:
LP: https://bugs.launchpad.net/tripleo/+bug/1796710
For unblocking the gates, the patch adds them to the skip list.

Related-Bug: #1796710
Change-Id: Idf4e7a97005c3fed3d921bf00f96fa5c90c25cc2
"
openstack%2Fkuryr-kubernetes~master~I04779bbf3b3b2af5090b1b44bb6e72599dba7081,openstack/kuryr-kubernetes,master,,I04779bbf3b3b2af5090b1b44bb6e72599dba7081,Fix interval ignoring by exponential sleep,MERGED,2019-05-20 13:01:42.000000000,2019-05-29 14:47:03.000000000,2019-05-29 14:47:03.000000000,7,7,0,660112,c725f82f1a4b0d594b1dce23e9423e0b087840e7,21,9,1,1,30247,Ilya Maximets,i.maximets,"Fix interval ignoring by exponential sleep

'exponential_sleep' always uses DEFAULT_INTERVAL instead of
'interval' passed in arguments.

Change-Id: I04779bbf3b3b2af5090b1b44bb6e72599dba7081
Signed-off-by: Ilya Maximets <i.maximets@samsung.com>
"
openstack%2Fopenstack-helm~master~I8c5377eda067871db83143bd44219fc0fdf05f74,openstack/openstack-helm,master,mariadb_fix,I8c5377eda067871db83143bd44219fc0fdf05f74,[DNM] mariadb single cluster fix,ABANDONED,2019-05-29 12:09:37.000000000,2019-05-29 14:35:40.000000000,,1,0,0,661957,2e0a424f65a4239ef5e512ef56a1fdda61da345e,3,1,1,1,12281,Itxaka,itxaka,"[DNM] mariadb single cluster fix

Depends-on: https://review.opendev.org/661955
Change-Id: I8c5377eda067871db83143bd44219fc0fdf05f74
"
openstack%2Fglance~master~If5d292bbb4cef1bd21a7e6cd4ef343a767eb91a4,openstack/glance,master,readonly-http-store,If5d292bbb4cef1bd21a7e6cd4ef343a767eb91a4,Mark http store read-only in discovery call,MERGED,2019-05-24 07:17:48.000000000,2019-05-29 14:32:19.000000000,2019-05-29 14:32:19.000000000,38,8,8,661219,f93028812043e82bc596157d176db93a94f66a43,22,7,4,6,9303,Abhishek Kekane,abhishekkekane,"Mark http store read-only in discovery call

Made changes to discovery store to show 'http'
store as 'read-only' if it is configured under
'enabled_backends' cofiguration option.

Change-Id: If5d292bbb4cef1bd21a7e6cd4ef343a767eb91a4
"
openstack%2Fbarbican-specs~master~Ie4c3d86eb4751151409006c817e4da7524d7e39a,openstack/barbican-specs,master,storyboard-update,Ie4c3d86eb4751151409006c817e4da7524d7e39a,Update README and specs/template.rst,MERGED,2019-05-23 21:46:33.000000000,2019-05-29 14:29:12.000000000,2019-05-29 14:29:12.000000000,26,58,2,661125,cb26767dd4622030338b70daac52c47bc62dd5ae,11,6,2,2,7973,Douglas Mendizbal,dougmendizabal,"Update README and specs/template.rst

Updated to remove leftover copy/paste references to Nova, as well
as our use of Storyboard instead of Launchpad.

Change-Id: Ie4c3d86eb4751151409006c817e4da7524d7e39a
"
openstack%2Fneutron-vpnaas~stable%2Frocky~I0a345d1b1815560dc4dd35fa5c9a34055fc9fb08,openstack/neutron-vpnaas,stable/rocky,bug/1822199-stable/stein-stable/rocky,I0a345d1b1815560dc4dd35fa5c9a34055fc9fb08,Execute neutron-vpn-netns-wrapper with rootwrap_config argument,MERGED,2019-05-02 20:11:05.000000000,2019-05-29 14:17:07.000000000,2019-05-29 14:17:06.000000000,13,0,0,656858,af71c17d5153f7cbaba4c4e1e48538728a7d481a,10,6,1,3,6876,stephen-ma,stephen-ma,"Execute neutron-vpn-netns-wrapper with rootwrap_config argument

When neutron uses neutron-rootwrap as the root_helper, add
the --rootwrap_config parameter to neutron-vpn-netns-wrapper
execution to support environments where rootwrap.conf is not
in the default location.

Closes-Bug: #1822199
Change-Id: I0a345d1b1815560dc4dd35fa5c9a34055fc9fb08
(cherry picked from commit 7e9922858fc36cb890b59232d72cf6e7bcb5957c)
"
openstack%2Fneutron-vpnaas~stable%2Fstein~I0a345d1b1815560dc4dd35fa5c9a34055fc9fb08,openstack/neutron-vpnaas,stable/stein,bug/1822199-stable/stein,I0a345d1b1815560dc4dd35fa5c9a34055fc9fb08,Execute neutron-vpn-netns-wrapper with rootwrap_config argument,MERGED,2019-05-02 20:10:46.000000000,2019-05-29 14:17:06.000000000,2019-05-29 14:17:06.000000000,13,0,0,656857,4c2ee078b24bb5e5d4279f09797f25df15b95b4d,22,8,2,3,6876,stephen-ma,stephen-ma,"Execute neutron-vpn-netns-wrapper with rootwrap_config argument

When neutron uses neutron-rootwrap as the root_helper, add
the --rootwrap_config parameter to neutron-vpn-netns-wrapper
execution to support environments where rootwrap.conf is not
in the default location.

Closes-Bug: #1822199
Change-Id: I0a345d1b1815560dc4dd35fa5c9a34055fc9fb08
(cherry picked from commit 7e9922858fc36cb890b59232d72cf6e7bcb5957c)
"
openstack%2Freleases~master~Ib075a6a7aaf096ffa48f38a3784aac724a335f8c,openstack/releases,master,,Ib075a6a7aaf096ffa48f38a3784aac724a335f8c,Release octavia-dashboard 3.0.1,MERGED,2019-05-28 16:39:16.000000000,2019-05-29 14:13:13.000000000,2019-05-29 14:13:13.000000000,4,0,0,661810,0f80d03a2258b6d1aa688f32fd38ab4707339103,7,3,1,1,11628,Michael Johnson,johnsom,"Release octavia-dashboard 3.0.1

This release includes an important fix for the flavors support in
octavia-dashboard[1].

[1] https://storyboard.openstack.org/#!/story/2005759

Change-Id: Ib075a6a7aaf096ffa48f38a3784aac724a335f8c
"
openstack%2Fdevstack-plugin-ceph~master~Icf8d776a648b93b232b83fd4493e00b5f76b3ebf,openstack/devstack-plugin-ceph,master,exclude-network-api-tests,Icf8d776a648b93b232b83fd4493e00b5f76b3ebf,Skip tempest.api.network tests,MERGED,2019-04-24 14:11:21.000000000,2019-05-29 14:12:46.000000000,2019-05-29 14:12:45.000000000,3,0,3,655452,5e118808823b2a38e161b6f74189a26e78a6d362,11,5,1,1,6873,Matt Riedemann,mriedem,"Skip tempest.api.network tests

There is really no point in running the tempest.api.network
tests in the devstack-plugin-ceph-tempest job since a ceph
backend shouldn't make any difference to those tests.

This should speed up the job slightly and more importantly
avoid unnecessarily random failures from tests that don't matter
for this setup.

Change-Id: Icf8d776a648b93b232b83fd4493e00b5f76b3ebf
"
openstack%2Fcinder~master~I639adbad2657ee2cc45261412bbe0e85bf52ef54,openstack/cinder,master,pylint,I639adbad2657ee2cc45261412bbe0e85bf52ef54,inspur: Fix raise,ABANDONED,2018-09-26 17:36:29.000000000,2019-05-29 14:09:04.000000000,,1,2,3,605495,63d31bc9043a48b749cf3ce1f104fae089b1f990,37,34,1,2,24,Chuck Short,zulcss,"inspur: Fix raise

Fix raise when rmlcmap_failed_e is none so we dont
rase a NoneType.

Change-Id: I639adbad2657ee2cc45261412bbe0e85bf52ef54
Signed-off-by: Chuck Short <chucks@redhat.com>
"
openstack%2Fkeystone-specs~master~I2a0eb685532d5d2fcf7a434745d67d365cdac47f,openstack/keystone-specs,master,bug/1816076,I2a0eb685532d5d2fcf7a434745d67d365cdac47f,Update tracking reference for federated attrs spec,MERGED,2019-05-17 20:14:49.000000000,2019-05-29 13:58:55.000000000,2019-05-29 13:58:55.000000000,1,1,0,659876,30701e99dda0125f93e6d0e7f4fae73b90fbac1d,8,4,1,1,8482,Colleen Murphy,krinkle,"Update tracking reference for federated attrs spec

The blueprint was ported to a bug, so update the reference in the spec.

Change-Id: I2a0eb685532d5d2fcf7a434745d67d365cdac47f
"
openstack%2Fcinder~stable%2Fqueens~I78c7e0cb076405d37c9bd54576cec735986a0f38,openstack/cinder,stable/queens,,I78c7e0cb076405d37c9bd54576cec735986a0f38,HPE 3PAR-Added support for multiattach feature in hpe3par cinder driver,ABANDONED,2019-05-22 14:21:06.000000000,2019-05-29 13:58:34.000000000,,6,2,0,660733,9a8ef6e5ef91cf6b65ed13122d9af68e4da0d543,33,19,1,2,20813,Sofia Enriquez,enriquetaso,"HPE 3PAR-Added support for multiattach feature in hpe3par cinder driver

The 3PAR driver has long supported the ability to do
multiattach of volumes. This patch updates the
capability reporting to support multiattach.

Change-Id: I78c7e0cb076405d37c9bd54576cec735986a0f38
(cherry picked from commit 1926a035216ed156cdb28ea27774d4e1115eeee3)
(cherry picked from commit eb2567df193c711f44baf3396fdab4935bc8b8c4)
(cherry picked from commit f7b85c95020120b625c7174e32038a2dd17696a7)
"
openstack%2Foslo.service~master~I578831a20138ecb2746bf61d6dce85e6f7c4b47a,openstack/oslo.service,master,dropping-py35-testing,I578831a20138ecb2746bf61d6dce85e6f7c4b47a,Dropping the py35 testing,MERGED,2019-04-15 01:22:42.000000000,2019-05-29 13:56:08.000000000,2019-05-29 13:56:08.000000000,2,3,0,652458,f16329aa6244e4c9b6c97bc8ecbfb82fa1294f92,20,3,2,3,8556,Ghanshyam,ghanshyam,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I578831a20138ecb2746bf61d6dce85e6f7c4b47a
"
openstack%2Fopenstack-helm~master~Ic5e2613303f04d2bfab1229d3818a2fc9b4263bc,openstack/openstack-helm,master,fix_prometheus-mysql-exporter,Ic5e2613303f04d2bfab1229d3818a2fc9b4263bc,[Fix] Add Prometheus mysql exporter label to network policy,MERGED,2019-04-11 21:36:16.000000000,2019-05-29 13:45:03.000000000,2019-05-29 13:45:03.000000000,3,0,0,651931,ed392356f9399d9228d30fd21a671242d6ac3ce5,26,13,7,1,22713,Sreejith Punnapuzha,sreejith,"[Fix] Add Prometheus mysql exporter label to network policy

Prometheus mysql exporter is failing because of missing label in
network policy for mysql. This is to add the label to the override
yaml

Change-Id: Ic5e2613303f04d2bfab1229d3818a2fc9b4263bc
Signed-off-by: Sreejith Punnapuzha <Sreejith.Punnapuzha@outlook.com>
"
openstack%2Fopenstack-helm-infra~master~Ic454b0b5c48dc8128eccc1b394a578be219b1be1,openstack/openstack-helm-infra,master,story_2004702,Ic454b0b5c48dc8128eccc1b394a578be219b1be1,[DNM] mysql: fix restart on single node mariadb cluster,ABANDONED,2019-05-17 10:59:55.000000000,2019-05-29 13:44:02.000000000,,13,2,0,659777,f89173deae0633f45f892214eaa6e029293baa24,3,1,1,1,12281,Itxaka,itxaka,"[DNM] mysql: fix restart on single node mariadb cluster

Currently if we restart a single node cluster mariadb it will
fail to recover because the script is expecting the /var/lib/mysql
directory to exist with the proper files (grastate.dat)

This happens on clusters > 1 becuase we are mounting a persistent
volume under that dir so the data is saved between pod restarts or
upgrades. Under single node cluster, we do not mount that volume
so all data is lost on restart

This patch makes it so a restart will bootstrap the pod again.

Unfortunately this does not prevent the data missing from the db,
only makes it so the pod is no longer in a chrashloopbackoff state

Change-Id: Ic454b0b5c48dc8128eccc1b394a578be219b1be1
"
openstack%2Fhorizon~master~Ib7d7531a3cdeb6166dd63381901bc4ba2db412e0,openstack/horizon,master,bug/1825952,Ib7d7531a3cdeb6166dd63381901bc4ba2db412e0,Display the error message on create volume group form,MERGED,2019-04-23 09:06:20.000000000,2019-05-29 13:40:16.000000000,2019-05-29 13:40:16.000000000,1,0,0,654889,564fb5aa5babfc16b72a9b1aa95f65b80c663d05,9,4,1,1,27822,pengyuesheng,pengyuesheng,"Display the error message on create volume group form

On create volume group form, if the volume type is not selected,
the creation is not successful, but no prompt message is shown.
This patch display error message when volume type is not selected

Change-Id: Ib7d7531a3cdeb6166dd63381901bc4ba2db412e0
Closes-Bug: #1825952
"
openstack%2Fwatcher-specs~master~I5d200978f2e2c2aa04148109b9252df696bf2132,openstack/watcher-specs,master,bp/support-placement-api,I5d200978f2e2c2aa04148109b9252df696bf2132,Add Placement helper,MERGED,2019-04-30 06:55:31.000000000,2019-05-29 13:26:22.000000000,2019-05-29 03:12:34.000000000,152,0,23,656448,63dfb11e13435c57e5a69721a395920454da80d7,38,8,6,1,21692,licanwei,licanwei,"Add Placement helper

This patch added Placement to Watcher

Change-Id: I5d200978f2e2c2aa04148109b9252df696bf2132
Implements: blueprint support-placement-api
"
openstack%2Fheat-dashboard~stable%2Fqueens~I047cdeccaec8ec8dd2964e29d32e01fde92bf025,openstack/heat-dashboard,stable/queens,fix-local-tests,I047cdeccaec8ec8dd2964e29d32e01fde92bf025,Fix running unit tests locally,MERGED,2019-05-29 08:49:04.000000000,2019-05-29 13:03:43.000000000,2019-05-29 13:03:43.000000000,1,3,0,661918,4b8643f475492182bf2c853004b9494638ad5c3c,7,3,1,2,9542,Pavlo Shchelokovskyy,pshchelo,"Fix running unit tests locally

w/o zuul cloner (used by OpenStack CI) running tests locally fails
as it installs wrong version of horizon

Change-Id: I047cdeccaec8ec8dd2964e29d32e01fde92bf025
"
openstack%2Fkeystone~master~I4e7d5eeb2e48ff354b44196bd11d62d51a73357b,openstack/keystone,master,bug/1804700,I4e7d5eeb2e48ff354b44196bd11d62d51a73357b,Don't throw valueerror on bootstrap,MERGED,2019-05-20 20:22:31.000000000,2019-05-29 13:01:02.000000000,2019-05-29 13:01:02.000000000,2,2,3,660203,295b07cc76c8387adc2fd9a8f3efb769f260ff02,16,5,3,1,21420,Gage Hugo,ghugo,"Don't throw valueerror on bootstrap

When keystone-manage bootstrap is ran without providing a value
to set as the admin password, keystone-manage will throw an
unhandled ValueError while displaying the proper warning
message.

This change removes the ValueError and simply has the CLI
exit out when this condition is met.

Closes-Bug: #1804700

Change-Id: I4e7d5eeb2e48ff354b44196bd11d62d51a73357b
"
openstack%2Fopenstack-helm~master~I11b8f563303c5d8abb5b40e84fc6d83abb0d6b44,openstack/openstack-helm,master,zanata/translations,I11b8f563303c5d8abb5b40e84fc6d83abb0d6b44,Imported Translations from Zanata,MERGED,2019-05-25 08:02:24.000000000,2019-05-29 12:59:38.000000000,2019-05-29 12:59:38.000000000,3178,165,0,661439,b3f8ef561412b2c5c883a31823c168aaa9925a26,9,3,2,10,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I11b8f563303c5d8abb5b40e84fc6d83abb0d6b44
"
openstack%2Ftripleo-validations~master~I370f314e64e5c359797841fe6804bd26331d8c43,openstack/tripleo-validations,master,bp/validation-framework,I370f314e64e5c359797841fe6804bd26331d8c43,Clean up some old roles dependencies.,MERGED,2019-04-18 12:05:53.000000000,2019-05-29 12:57:38.000000000,2019-04-24 17:54:54.000000000,4,8,0,653725,a678cbf2518c6556c18d1b18e4a304d87faad8ae,18,6,2,4,11491,Gael Chamoulaud,gchamoul,"Clean up some old roles dependencies.

Change-Id: I370f314e64e5c359797841fe6804bd26331d8c43
Implements: blueprint validation-framework
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Ftripleo-upgrade~master~If50109753d4845357c869986c256186e8e22006d,openstack/tripleo-upgrade,master,network-data-file,If50109753d4845357c869986c256186e8e22006d,Add support for network-data-file.,MERGED,2019-05-23 06:29:15.000000000,2019-05-29 12:55:16.000000000,2019-05-29 12:33:16.000000000,21,0,5,660891,663d380f6fe0e21d58de3aa55cce3cdf9c849ef1,20,10,3,5,21537,Yurii Prokulevych,yprokule,"Add support for network-data-file.

TripleO offers a default network topology when deploying
with network isolation enabled, and this is reflected in
the network_data.yaml file in tripleo-heat-templates.
If this is the case it has to be handled during update/upgrade.

Change-Id: If50109753d4845357c869986c256186e8e22006d
"
openstack%2Fhorizon~master~I4607b3b6d90ce28ba1b63808fd2028755039dcde,openstack/horizon,master,bug/1825102,I4607b3b6d90ce28ba1b63808fd2028755039dcde,Disable textbox on create image form when submitting,MERGED,2019-04-17 07:38:35.000000000,2019-05-29 12:39:19.000000000,2019-05-29 12:39:19.000000000,15,3,1,653339,f8e5c4ef8e1eb1c55aa380864b1a023f3c4b22ce,8,4,1,1,27822,pengyuesheng,pengyuesheng,"Disable textbox on create image form when submitting

In the process of creating the image,
can still edit the name, description,
Source Type and file.
This patch is Disable textbox when submitting

Change-Id: I4607b3b6d90ce28ba1b63808fd2028755039dcde
Closes-Bug: #1825102
"
openstack%2Ftripleo-validations~master~I73a92caba8a3eef0b77a47eba42898f68e7ef826,openstack/tripleo-validations,master,bp/validation-framework,I73a92caba8a3eef0b77a47eba42898f68e7ef826,Add collect-flavors-and-verify-profiles role,MERGED,2019-03-05 15:06:33.000000000,2019-05-29 12:36:59.000000000,2019-04-18 02:23:10.000000000,60,0,0,641027,ee28ae4dbce94c91032445c1036b1e0c0e28fda6,24,5,8,4,11491,Gael Chamoulaud,gchamoul,"Add collect-flavors-and-verify-profiles role

This patch adds this role created from
validations/collect-flavors-and-verify-profiles.yaml.

Change-Id: I73a92caba8a3eef0b77a47eba42898f68e7ef826
Implements: blueprint validation-framework
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~I2d8c405c1df30ac11cc2286398fe4749694da10e,openstack/tripleo-heat-templates,master,bug/1830406,I2d8c405c1df30ac11cc2286398fe4749694da10e,Use make_url to wrap IPv6 addresses in brackets.,MERGED,2019-05-22 14:54:43.000000000,2019-05-29 12:33:20.000000000,2019-05-29 12:33:20.000000000,74,38,3,660744,824dd9003ade2f6ead216de88bf7e4ba51537369,31,6,4,9,24245,Harald Jenss,harald.jensas,"Use make_url to wrap IPv6 addresses in brackets.

Replace the dependency of network data values for wrapping
'ip_address_uri' in brackets. Instead of using jinja2
variables network.ipv6 or ipv6_override to decide if the
IP need to be wrapped in brackets or not the make_url
function in heat in combination with a str_replace is
used.

Related-Bug: #1830406
Change-Id: I2d8c405c1df30ac11cc2286398fe4749694da10e
"
openstack%2Ftripleo-heat-templates~master~Ifc9226c33482c6562c368ed384e9d062384a1817,openstack/tripleo-heat-templates,master,bug/1830750,Ifc9226c33482c6562c368ed384e9d062384a1817,Fix manila-scheduler-container-puppet.yaml typo,MERGED,2019-05-28 09:52:50.000000000,2019-05-29 12:33:18.000000000,2019-05-29 12:33:18.000000000,1,1,2,661710,f7b8be6ccbcae141505bda337cc07a3971ca3517,29,10,4,1,18142,David Sariel,dsariel,"Fix manila-scheduler-container-puppet.yaml typo

Change-Id: Ifc9226c33482c6562c368ed384e9d062384a1817
Closes-Bug: #1830750
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I10ddb4f79f5c8b69b09622b96e96325ba19d62e0,openstack/tripleo-heat-templates,stable/stein,ceph-ansible-env-variales-stable/stein,I10ddb4f79f5c8b69b09622b96e96325ba19d62e0,Add CephAnsibleEnvironmentVariables to nodes-uuid call,MERGED,2019-05-28 13:47:42.000000000,2019-05-29 12:31:59.000000000,2019-05-29 12:31:59.000000000,3,0,0,661755,e1f51a5f578b7c1b9adbbdaa76cbb4741b0ce31c,11,6,1,1,18002,John Fulton,fultonj,"Add CephAnsibleEnvironmentVariables to nodes-uuid call

CephAnsibleEnvironmentVariables are also useful when running
the nodes-uuid playbook. Users may know ceph-ansible playbook
is run but may not know the nodes-uuid playbook is run too.
If additional Ansible environment variables are useful for
running ceph-ansible it is likely they will be needed for
the nodes-uuid playbook. The altnernative is to create another
parameter like NodesUuidAnsibleEnvironmentVariables.

Change-Id: I10ddb4f79f5c8b69b09622b96e96325ba19d62e0
(cherry picked from commit 6858ef41146d5afdbfe614e6f3d8f9727a5b2563)
"
openstack%2Ftripleo-validations~stable%2Fstein~Ia35abb66b9e61a7154406cf83c6da1e68a2f96b7,openstack/tripleo-validations,stable/stein,bz/1704478-stable/stein,Ia35abb66b9e61a7154406cf83c6da1e68a2f96b7,[Python3] Adds bytes to str conversion management,MERGED,2019-05-28 11:30:54.000000000,2019-05-29 12:31:57.000000000,2019-05-29 12:31:57.000000000,5,0,0,661725,1027a4f54a0874640dfc751d78d92f90dd6ac969,11,4,1,1,11491,Gael Chamoulaud,gchamoul,"[Python3] Adds bytes to str conversion management

On RHEL8 with Python3, the template's contents returned by the Swift
client get_object method is byte object and need to be converted into a
string.

Change-Id: Ia35abb66b9e61a7154406cf83c6da1e68a2f96b7
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit f144be5bcc0e6bbe4f5541f60bab4b513855c826)
"
openstack%2Fhorizon~master~If6f33f1a23ffaddbada614306f9cf9844e8be1e4,openstack/horizon,master,bug/1825954,If6f33f1a23ffaddbada614306f9cf9844e8be1e4,Do not check name duplication when creating a volume group,MERGED,2019-04-23 09:18:48.000000000,2019-05-29 12:18:34.000000000,2019-05-29 12:18:34.000000000,0,32,5,654896,7c77637f7643f5500234b809fce348e3f1d7a80b,16,3,5,2,27822,pengyuesheng,pengyuesheng,"Do not check name duplication when creating a volume group

The cinder service allows to use a same name for multiple groups.
There is no need to check whether the name already is used in
the ""Create Volume Group"" form.

Change-Id: If6f33f1a23ffaddbada614306f9cf9844e8be1e4
Closes-Bug: #1825954
"
openstack%2Fhorizon~master~I3d26b88617a6c4fb177cc9655bab89d23ce72914,openstack/horizon,master,bug/1826510,I3d26b88617a6c4fb177cc9655bab89d23ce72914,Disabled accept transfer when number of volumes equal quota of volumes,MERGED,2019-04-26 06:50:12.000000000,2019-05-29 12:18:31.000000000,2019-05-29 12:18:31.000000000,53,13,2,655834,98c434c199f07831c84bc1cc04b5dfa74821329c,18,4,5,2,27822,pengyuesheng,pengyuesheng,"Disabled accept transfer when number of volumes equal quota of volumes

Change-Id: I3d26b88617a6c4fb177cc9655bab89d23ce72914
Closes-Bug: #1826510
"
openstack%2Ftripleo-heat-templates~master~I50a1289a864f804d02a2e2bc0ca8738a186beff0,openstack/tripleo-heat-templates,master,leapp,I50a1289a864f804d02a2e2bc0ca8738a186beff0,Stop all services before upgrading node's OS.,MERGED,2019-04-10 16:11:37.000000000,2019-05-29 12:18:22.000000000,2019-05-29 12:18:22.000000000,11,0,6,651594,9d5c972d99afbb05713200021bb8b4b1eb17a851,50,10,12,2,26343,Jose Luis Franco,jfrancoa,"Stop all services before upgrading node's OS.

During the system_upgrade_prepare step in the upgrade
workflow, we need to stop all services before starting
the operating system upgrade, we're doing that by stopping
all docker containers at once after stopping the pcmkr
cluster in step 2.

Change-Id: I50a1289a864f804d02a2e2bc0ca8738a186beff0
"
openstack%2Ftripleo-heat-templates~master~Icadd090f027af6f958c25af6bfb09195a4019aa8,openstack/tripleo-heat-templates,master,server_certs_key_passphrase,Icadd090f027af6f958c25af6bfb09195a4019aa8,Configure server_certs_key_passphrase for Octavia,MERGED,2019-03-25 13:31:31.000000000,2019-05-29 12:06:21.000000000,2019-05-28 19:00:57.000000000,29,6,5,647467,4559d3b74f6827e6509f04b158cfbeba26041e22,56,11,11,7,6579,Nir Magnezi,nmagnezi,"Configure server_certs_key_passphrase for Octavia

A recent change[1] to Octavia added a parameter named
server_certs_key_passphrase, which means that TripleO should
generate a password for it to avoid using the default value.

This patch adds OctaviaServerCertsKeyPassphrase to the list
of parameters TripleO configures in Octavia.

Closes-Bug: #1821756
Related-Bug: #1821751

[1] I06d329ca53bc36bd27f7870ae7c7ca0cf18575b2
Depends-On: I9699961faf8b3430e4372e4ff3ae2bf7e7ceea18
Depends-On: Id6c0d156715147c6559dc39098a6eaabf77ac426
Depends-On: I5e60e8fbb7af381b59c6d7b02d5ba8eb47e91720
Change-Id: Icadd090f027af6f958c25af6bfb09195a4019aa8
"
openstack%2Frally-openstack~master~I2ac4fdaa471edf09f89588d9123344fea612ab18,openstack/rally-openstack,master,date-1.5.0,I2ac4fdaa471edf09f89588d9123344fea612ab18,Correct date of proposing release,MERGED,2019-05-29 11:29:15.000000000,2019-05-29 12:03:35.000000000,2019-05-29 12:03:35.000000000,1,1,0,661944,902359a11d1f4d1852327453280bd0938829b70a,6,2,1,1,9545,Andrey Kurilin,akurilin,"Correct date of proposing release

Change-Id: I2ac4fdaa471edf09f89588d9123344fea612ab18
"
openstack%2Fmonasca-notification~master~I21c8a7ef793874a5ab7a4d277c9c3eb13896503d,openstack/monasca-notification,master,,I21c8a7ef793874a5ab7a4d277c9c3eb13896503d,Blacklist bandit and update sphinx requirement,MERGED,2019-05-14 16:23:20.000000000,2019-05-29 12:00:49.000000000,2019-05-16 07:03:54.000000000,5,3,0,659115,1837192534436096b82fc82008e799e24398257f,17,4,4,3,16222,witek,witek,"Blacklist bandit and update sphinx requirement

The change blacklists the buggy version of bandit (1.6.0) and syncs
sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I21c8a7ef793874a5ab7a4d277c9c3eb13896503d
Story: 2005676
Task: 30990
"
openstack%2Fpuppet-octavia~master~Id6c0d156715147c6559dc39098a6eaabf77ac426,openstack/puppet-octavia,master,server_certs_key_passphrase,Id6c0d156715147c6559dc39098a6eaabf77ac426,Configure server_certs_key_passphrase for Octavia,MERGED,2019-03-25 15:09:55.000000000,2019-05-29 12:00:03.000000000,2019-03-28 18:32:09.000000000,65,47,0,647502,e8ae4607b43b2b5f686f7337540837cc024c0b71,20,5,5,3,6579,Nir Magnezi,nmagnezi,"Configure server_certs_key_passphrase for Octavia

A recent change[1] to Octavia added a parameter named
server_certs_key_passphrase, which means that TripleO should
generate a password for it to avoid using the default value.

Closes-Bug: #1821751

[1] I06d329ca53bc36bd27f7870ae7c7ca0cf18575b2

Change-Id: Id6c0d156715147c6559dc39098a6eaabf77ac426
"
openstack%2Ftripleo-common~master~I9699961faf8b3430e4372e4ff3ae2bf7e7ceea18,openstack/tripleo-common,master,server_certs_key_passphrase,I9699961faf8b3430e4372e4ff3ae2bf7e7ceea18,Add passphrase generation for Octavia,MERGED,2019-03-25 12:54:37.000000000,2019-05-29 11:58:42.000000000,2019-04-03 23:02:11.000000000,2,0,0,647413,da967dd80bcca8966581444417ad7cb27d7e60ba,19,7,3,2,6579,Nir Magnezi,nmagnezi,"Add passphrase generation for Octavia

A recent change[1] to Octavia added a parameter named
server_certs_key_passphrase, which means that we should generate a
password for it to avoid using the default value.

This patch adds OctaviaServerCertsKeyPassphrase to the list of
generated password/secrets, similarly to this past change[2].

Closes-Bug: #1821756
Related-Bug: #1821751

[1] I06d329ca53bc36bd27f7870ae7c7ca0cf18575b2
[2] I1dd1873b646e8569ed0a85c5ee7eb3bec3a8b1fa

Change-Id: I9699961faf8b3430e4372e4ff3ae2bf7e7ceea18
"
openstack%2Fkuryr-kubernetes~master~Id014cf49da8d4cbe0c1795e47765fcf2f0684c09,openstack/kuryr-kubernetes,master,namespace-pools,Id014cf49da8d4cbe0c1795e47765fcf2f0684c09,Populate pools upon namespace creation,MERGED,2019-05-03 16:03:37.000000000,2019-05-29 11:43:50.000000000,2019-05-29 11:43:50.000000000,265,28,6,656975,3f9c80e6e6120926e412be127acf069c5d99d01a,38,7,10,11,23567,Luis Tomas Bolivar,ltomasbo,"Populate pools upon namespace creation

When namespace subnet driver is used, a new subnet is created for
each new namespace. As pools are created per subnet, this patch
ensures that new ports are created for each pool for the new subnet
in the nested case.

Note this feature depends on using resource tagging to filter out
trunk ports in case of multiple clusters deployed on the same openstack
project or when other trunks are present. Otherwise it will consider
all the existing trunks no matter if they belong or not to the
kubernetes cluster.

NOTE: this is only for nested case, where pooling shows the greatest
improvements as ports are already ACTIVE.

Change-Id: Id014cf49da8d4cbe0c1795e47765fcf2f0684c09
"
openstack%2Fneutron~master~I35951db91479ace2c1bdc6cc3a20f3f519c89f07,openstack/neutron,master,,I35951db91479ace2c1bdc6cc3a20f3f519c89f07,DNM: test,ABANDONED,2019-05-29 11:22:10.000000000,2019-05-29 11:40:04.000000000,,2,2,0,661942,33628eae7b6dffaee73e6dc7f2ae73a3f2182655,2,0,1,1,8313,Lajos Katona,elajkat,"DNM: test

Change-Id: I35951db91479ace2c1bdc6cc3a20f3f519c89f07
Signed-off-by: elajkat <lajos.katona@est.tech>
"
openstack%2Fnova~master~I4c98cfd6fed6be6d5db2163e9320597d68cefd9d,openstack/nova,master,,I4c98cfd6fed6be6d5db2163e9320597d68cefd9d,DNM:test,ABANDONED,2019-05-29 10:13:05.000000000,2019-05-29 11:36:56.000000000,,1,0,0,661931,8ac86ecfcd2ee4eef440f7518e0eba7f48f70fd5,10,2,4,1,9708,Balazs Gibizer,gibi,"DNM:test

?

Change-Id: I4c98cfd6fed6be6d5db2163e9320597d68cefd9d
Signed-off-by: gibi <balazs.gibizer@est.tech>
"
openstack%2Fironic-specs~master~Iba585aa4e68c80868a02b299765dc070320c076d,openstack/ironic-specs,master,660145,Iba585aa4e68c80868a02b299765dc070320c076d,Quick follow-up change to train priorities,MERGED,2019-05-29 11:12:45.000000000,2019-05-29 11:33:38.000000000,2019-05-29 11:33:38.000000000,2,2,0,661941,0911011f1eaa336446f230bd6a96b56ac8fe6ea1,6,2,1,1,11655,Julia Kreger,jkreger,"Quick follow-up change to train priorities

Just quick follow-up change for the edits raised in
the final review of the train priorites change set[0].

[0]: https://review.opendev.org/#/c/660145

Change-Id: Iba585aa4e68c80868a02b299765dc070320c076d
"
openstack%2Foslo.messaging~master~Icafae894ede54d8e802aef556e4239408cc23bcd,openstack/oslo.messaging,master,add_rabbit_threadname,Icafae894ede54d8e802aef556e4239408cc23bcd,Add thread name to the RabbitMQ heartbeat thread,MERGED,2019-05-24 20:03:42.000000000,2019-05-29 11:31:43.000000000,2019-05-29 11:31:43.000000000,1,1,0,661388,da6caaef0701e46f24869a33c5875b36e0e0f9af,9,4,1,1,29364,Gabriele Santomaggio,gsantomaggio,"Add thread name to the RabbitMQ heartbeat thread

With this information it is easier to debug the application.

Change-Id: Icafae894ede54d8e802aef556e4239408cc23bcd
"
openstack%2Foctavia~master~If529503286eb23ffa80880ae94cca143ae798729,openstack/octavia,master,remove-tempest-plugins-entry,If529503286eb23ffa80880ae94cca143ae798729,Remove tempest.test_plugins from setup.cfg,MERGED,2019-05-16 09:56:28.000000000,2019-05-29 11:25:15.000000000,2019-05-16 14:56:18.000000000,0,2,0,659516,88c4b9bb9dd2019ba75ade3983ed4bcf75fd36d2,9,4,1,1,5689,Masayuki Igawa,igawa,"Remove tempest.test_plugins from setup.cfg

This commit removes tempest.test_plugins entry from setup.cfg since we
already removed it in the past commit[0]. Otherwise, the
plugin-sanity-check job in tempest would be failed and the
plugin-registry page[1] would be incorrect.

[0] https://review.opendev.org/#/c/656707/
[1] https://docs.openstack.org/tempest/latest/plugin-registry.html

Change-Id: If529503286eb23ffa80880ae94cca143ae798729
"
openstack%2Fironic-specs~master~I396395207625d94244e15b627b4dbd0fa491b481,openstack/ironic-specs,master,660145,I396395207625d94244e15b627b4dbd0fa491b481,Add train priorities,MERGED,2019-05-20 15:01:57.000000000,2019-05-29 11:17:30.000000000,2019-05-29 11:17:30.000000000,194,0,60,660145,aa95d5dcd311ce1a1448750615600917292279b2,35,10,3,2,11655,Julia Kreger,jkreger,"Add train priorities

Change-Id: I396395207625d94244e15b627b4dbd0fa491b481
"
openstack%2Fmonasca-notification~master~I704cd025d6ccf7e9769a276d6094c4e2f3fb69ef,openstack/monasca-notification,master,change_app_repo,I704cd025d6ccf7e9769a276d6094c4e2f3fb69ef,Change repository links usage in Dockerfile and build image,MERGED,2019-05-13 09:12:29.000000000,2019-05-29 11:13:25.000000000,2019-05-29 11:13:25.000000000,6,7,6,658761,f708d32bf19dbfd843a6a6f0a05667400856e490,32,4,11,2,30221,Arseni Lipinski,arseni.lipinski,"Change repository links usage in Dockerfile and build image

Used to be: git.openstack.org/openstack/monasca-persister?h=stable/pike
Now : opendev.org/openstack/monasca-persister/src/branch/stable/pike

Since the way links to specific branches changed, usage of
those links has to be changed as well.
CONSTRAINTS_BRANCH variable was removed because CONSTRAINTS_FILE
contains link to the upper-requirements file with specified branch.

Story: 2005666
Task: 30970
Change-Id: I704cd025d6ccf7e9769a276d6094c4e2f3fb69ef
"
openstack%2Fhorizon~master~Ib1a746e2cd6c7ed0c81c10e2767d6f76ad0203b9,openstack/horizon,master,doc-plugin-registry,Ib1a746e2cd6c7ed0c81c10e2767d6f76ad0203b9,Update URLs of horizon plugin registry,MERGED,2019-05-23 13:17:30.000000000,2019-05-29 11:06:51.000000000,2019-05-29 11:06:51.000000000,85,66,0,660999,9790293c2a67a50071d988b813dcce1f0c10f688,6,2,1,2,841,Akihiro Motoki,amotoki,"Update URLs of horizon plugin registry

As result of the recent opendev migration, github repositories
for non-TC-governed OpenStack projects are not synced automatically.
group-based-policy-ui is such repository.
It is a good chance to point repositories on opendev.org.
This commit replaces github links to opendev links.

This commit also updates bug tracker links to more direct links
to the bug trackers.

sphinx extlink is now used to simplify the plugin registry doc.

Change-Id: Ib1a746e2cd6c7ed0c81c10e2767d6f76ad0203b9
"
openstack%2Fironic-python-agent~master~I5ac6428e9769544aafee415ea3f546379049c95c,openstack/ironic-python-agent,master,,I5ac6428e9769544aafee415ea3f546379049c95c,Clean up release notes,MERGED,2019-05-29 08:55:56.000000000,2019-05-29 11:00:50.000000000,2019-05-29 11:00:50.000000000,8,9,0,661919,06aea3649bd2e1e3dcb57e3e963695a57d2a645a,8,4,1,4,10239,Dmitry Tantsur,dtantsur,"Clean up release notes

Change-Id: I5ac6428e9769544aafee415ea3f546379049c95c
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~If1ef8b1ad60151c0dfd0a7804ba7e697fc4ede28,openstack/tripleo-heat-templates,stable/queens,bug/1822080,If1ef8b1ad60151c0dfd0a7804ba7e697fc4ede28,Fix tempest volume tests on queens,MERGED,2019-04-01 16:00:12.000000000,2019-05-29 10:59:59.000000000,2019-04-04 12:07:43.000000000,6,2,0,649084,3bc041b47da5f23c57f97c49a66349b81ccc0740,26,8,2,1,21129,Alan Bishop,ASBishop,"Fix tempest volume tests on queens

With [1], keystone catalog entries are no longer created for cinder's
v1 API. This works fine with the latest version of tempest, but older
versions of tempest assume a service named ""volume"" is present in the
catalog. This patch ensures the service exists, but reuses the endpoints
from cinder's v3 API.

[1] https://review.openstack.org/644550

Closes-Bug: #1822080
Change-Id: If1ef8b1ad60151c0dfd0a7804ba7e697fc4ede28
"
openstack%2Fironic-python-agent~master~I7ec2dbd8c2a0fe18a700906af8800973faf888d5,openstack/ironic-python-agent,master,pep8,I7ec2dbd8c2a0fe18a700906af8800973faf888d5,Do not run bashate on generated TinyIPA files,MERGED,2019-05-29 09:03:45.000000000,2019-05-29 10:48:29.000000000,2019-05-29 10:48:29.000000000,2,0,0,661920,91039672bdef975d17d828d6076814afc2a401cf,7,3,1,1,10239,Dmitry Tantsur,dtantsur,"Do not run bashate on generated TinyIPA files

Change-Id: I7ec2dbd8c2a0fe18a700906af8800973faf888d5
"
openstack%2Fironic~master~I16353fa27f8899502ce033255f87e4523a3b167f,openstack/ironic,master,,I16353fa27f8899502ce033255f87e4523a3b167f,Add note for alternative checksums,MERGED,2019-04-18 19:30:47.000000000,2019-05-29 10:48:27.000000000,2019-05-29 10:48:27.000000000,5,0,4,653840,ada6611858b0c6764b6636f82f3c28e814aedd3e,13,6,1,1,11655,Julia Kreger,jkreger,"Add note for alternative checksums

Change-Id: I16353fa27f8899502ce033255f87e4523a3b167f
"
openstack%2Fhorizon~master~I32aed4f1e27ce53ab9303f470b50145c9715c4ce,openstack/horizon,master,bug/1828195,I32aed4f1e27ce53ab9303f470b50145c9715c4ce,Snapshot Name is optional parameter on create and update snapshot form,MERGED,2019-05-08 09:33:18.000000000,2019-05-29 10:47:52.000000000,2019-05-29 10:47:52.000000000,14,10,5,657765,002c163d562f073ffebbdd23ea0682203da510d8,15,8,4,2,27822,pengyuesheng,pengyuesheng,"Snapshot Name is optional parameter on create and update snapshot form

Change-Id: I32aed4f1e27ce53ab9303f470b50145c9715c4ce
Closes-Bug: #1828195
"
openstack%2Fglance_store~master~I1669b43aa7cfac5802d85668218329f39ff9ebe8,openstack/glance_store,master,store_patch,I1669b43aa7cfac5802d85668218329f39ff9ebe8,Update help text for rbd_ceph_conf,MERGED,2019-02-22 15:17:30.000000000,2019-05-29 10:42:24.000000000,2019-05-29 10:42:24.000000000,12,5,0,638686,54a728ff11f7dab4a9526af7ab8d4135fc510d98,9,3,2,1,5314,Brian Rosmaita,brian-rosmaita,"Update help text for rbd_ceph_conf

Follow up to I49b4c680d9bfc36a98ad8c85775d213e9fbf4e60

Change-Id: I1669b43aa7cfac5802d85668218329f39ff9ebe8
"
openstack%2Fglance_store~master~I49b4c680d9bfc36a98ad8c85775d213e9fbf4e60,openstack/glance_store,master,store_patch,I49b4c680d9bfc36a98ad8c85775d213e9fbf4e60,Change rbd default conf path,MERGED,2018-01-14 12:42:09.000000000,2019-05-29 10:42:24.000000000,2019-05-29 10:42:23.000000000,1,2,3,533413,8564d6c81b3d860cb04b6df11fa42cc6f9a33099,18,5,3,1,25805,Yu Shengzuo,yuc,"Change rbd default conf path

The default ceph.conf file should be determined by librados,
as cinder does [1].

[1] https://github.com/openstack/cinder/blob/a27d0eb32afc32d745de6a3aafb905ea6151813c/cinder/volume/drivers/rbd.py#L62

Change-Id: I49b4c680d9bfc36a98ad8c85775d213e9fbf4e60
"
openstack%2Fpython-magnumclient~stable%2Fqueens~Ib2c17cc0c244a89c700f309dc7dd971596fb0957,openstack/python-magnumclient,stable/queens,659298,Ib2c17cc0c244a89c700f309dc7dd971596fb0957,Conditional hidden arg for backward compatibility,ABANDONED,2019-05-29 10:37:16.000000000,2019-05-29 10:37:58.000000000,,9,1,0,661937,cbd0d307f163f0187e1ca34f591d944498a4edba,2,0,1,3,28022,Bharat Kunwar,brtknr,"Conditional hidden arg for backward compatibility

At the moment, the python-magnumclient supplies the ""hidden"" arg when
creating cluster/cluster templates which is not backward compatible with
pre-Stein Magnum. This patch addresses the issue.

Story: 2005539
Task: 30678

Change-Id: Ib2c17cc0c244a89c700f309dc7dd971596fb0957
"
openstack%2Fironic-inspector~master~Ia9407cb065979aac6761d3e4122d3884e45b559d,openstack/ironic-inspector,master,story/2005393,Ia9407cb065979aac6761d3e4122d3884e45b559d,Expose baremetal-introspection endpoint via mdns,MERGED,2019-04-17 10:39:03.000000000,2019-05-29 10:19:51.000000000,2019-05-29 10:19:51.000000000,92,5,5,653382,258d7388a4493493d3dacd7dd459970c0bd08d61,20,3,6,12,10239,Dmitry Tantsur,dtantsur,"Expose baremetal-introspection endpoint via mdns

This change adds an option to publish the endpoint via mDNS on start
up and clean it up on tear down.

Story: #2005393
Task: #30384
Change-Id: Ia9407cb065979aac6761d3e4122d3884e45b559d
"
openstack%2Fqinling~master~I0e2e84a17952bbd03b670144b906d61680bc1360,openstack/qinling,master,dropping-py35-testing,I0e2e84a17952bbd03b670144b906d61680bc1360,Dropping the py35 testing,MERGED,2019-04-15 01:56:22.000000000,2019-05-29 10:18:25.000000000,2019-05-29 10:18:25.000000000,2,3,0,652482,497feadf0eb7bcfc03c1a710692ab5663dbec774,16,3,3,3,8556,Ghanshyam,ghanshyam,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I0e2e84a17952bbd03b670144b906d61680bc1360
"
openstack%2Foslo-specs~master~I00ba5df2ece7f783830e794affd944f2b48bcf48,openstack/oslo-specs,master,,I00ba5df2ece7f783830e794affd944f2b48bcf48,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:25:42.000000000,2019-05-29 10:15:15.000000000,2019-05-29 10:15:15.000000000,11,13,15,654736,a760439b5a05543ecd57e7033a5aba98192d981c,14,4,3,6,28614,jacky06,jacky06,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I00ba5df2ece7f783830e794affd944f2b48bcf48
"
openstack%2Fwatcher~master~Ib2d221ea9c994dea396c54cc8d2d32237025a1d4,openstack/watcher,master,bp/add-force-field-to-audit,Ib2d221ea9c994dea396c54cc8d2d32237025a1d4,Audit API supports new force option,MERGED,2019-05-09 06:50:30.000000000,2019-05-29 10:01:04.000000000,2019-05-29 10:01:04.000000000,67,3,2,657944,2afd0dfcf5b0113110462331f73c0c843c728a03,17,4,5,7,21692,licanwei,licanwei,"Audit API supports new force option

Depends-on:Ia08694d2fb76907ea14e64116af2e722fe930063

Change-Id: Ib2d221ea9c994dea396c54cc8d2d32237025a1d4
Implements: blueprint add-force-field-to-audit
"
openstack%2Fcharm-neutron-gateway~stable%2F19.04~If2947e7640545cb9a48215afb9b2439fdc33c645,openstack/charm-neutron-gateway,stable/19.04,bug/1825966,If2947e7640545cb9a48215afb9b2439fdc33c645,Enable keepalived VRRP health check,ABANDONED,2019-05-22 06:34:54.000000000,2019-05-29 09:57:13.000000000,,19,0,0,660574,13cf61b5c2e0133783097203e984db1c4fdfc6ad,9,5,1,5,2711,Zhang Hua,zhhuabj,"Enable keepalived VRRP health check

If you want to have vrrp watch the external networking interface
today, the option ha_vrrp_health_check_interval [1] detects a failure
it re-triggers the transitional change - which works if the external
physical interface fails because the ping will fail.

In fact, we've tried to enable it before [2], but then we had to
revert it [3] due to instability issues [4] in previous releases of
OpenStack. Maybe the previous instability issue [4] was caused by
another keepalived issue mentioned in the comment [5], now I have
tested this option again, it works.

This is how neutron allows monitoring southbound network today, so
I would suggest we add this capability into the charm again.

[1] https://docs.openstack.org/ocata/networking-guide/ \
        deploy-ovs-ha-vrrp.html#keepalived-vrrp-health-check
[2] https://review.opendev.org/#/c/601533/
[3] https://review.opendev.org/#/c/603347/
[4] https://bugs.launchpad.net/neutron/+bug/1793102
[5] https://bugs.launchpad.net/neutron/+bug/1793102/comments/5

Change-Id: If2947e7640545cb9a48215afb9b2439fdc33c645
Closes-Bug: 1825966
(cherry picked from commit 4c150529b5725e25bfe53d7db15f2f11410c6111)
Signed-off-by: Zhang Hua <joshua.zhang@canonical.com>
"
openstack%2Fglance~master~Ibb821fabd479af05bd4daf3d68cac16fc5e1b9c4,openstack/glance,master,Bug#sphinx,Ibb821fabd479af05bd4daf3d68cac16fc5e1b9c4,Update sphinx dependency,MERGED,2019-05-28 07:34:51.000000000,2019-05-29 09:27:35.000000000,2019-05-29 09:27:35.000000000,4,2,0,661687,7dea25d8c4cb1cd96777fab43a07138b3b621e2d,9,6,2,2,27822,pengyuesheng,pengyuesheng,"Update sphinx dependency

Sphinx 2.0 no longer works on python 2.7,
so we need to start capping it there as well
depend on https://review.opendev.org/#/c/657890/

Change-Id: Ibb821fabd479af05bd4daf3d68cac16fc5e1b9c4
"
openstack%2Fpython-glanceclient~master~Ic77e0db24ab7d7f068faf3e237beefa8856a710a,openstack/python-glanceclient,master,Bug#sphinx,Ic77e0db24ab7d7f068faf3e237beefa8856a710a,Update sphinx dependency,MERGED,2019-05-28 07:35:55.000000000,2019-05-29 09:19:28.000000000,2019-05-29 09:19:28.000000000,2,1,0,661688,43e6338748d30f761199782c860a18f9013a843a,7,6,1,1,27822,pengyuesheng,pengyuesheng,"Update sphinx dependency

Sphinx 2.0 no longer works on python 2.7, so we need to start capping
it there as well
depend on https://review.opendev.org/#/c/657890/

Change-Id: Ic77e0db24ab7d7f068faf3e237beefa8856a710a
"
openstack%2Fopenstack-manuals~master~I5e7a6ab47a73d6af73b79c6a0cf23e727a07b065,openstack/openstack-manuals,master,bug/1774935,I5e7a6ab47a73d6af73b79c6a0cf23e727a07b065,Set a note to Ubuntu network interface names,MERGED,2019-05-06 05:28:39.000000000,2019-05-29 09:19:07.000000000,2019-05-29 09:19:06.000000000,5,0,4,657315,051348814a5f24829395043b3bb75a8feda7efc3,17,5,2,1,17765,Frank Kloeker,eumel8,"Set a note to Ubuntu network interface names

Change-Id: I5e7a6ab47a73d6af73b79c6a0cf23e727a07b065
Closes-bug: #1774935
"
openstack%2Fmonasca-agent~master~I57c09bb50138bf829f39d4034bbc78356e34f3a6,openstack/monasca-agent,master,change_app_repo,I57c09bb50138bf829f39d4034bbc78356e34f3a6,Change repository links usage in Dockerfile and build image,MERGED,2019-05-13 08:56:46.000000000,2019-05-29 09:19:00.000000000,2019-05-29 09:18:59.000000000,12,12,2,658754,4628c5f5ed30a347eaebab2c4185c9a80dfa52a9,18,3,7,4,30221,Arseni Lipinski,arseni.lipinski,"Change repository links usage in Dockerfile and build image

Used to be: git.openstack.org/openstack/monasca-persister?h=stable/pike
Now : opendev.org/openstack/monasca-persister/src/branch/stable/pike

Since the way links to specific branches changed, usage of
those links has to be changed as well.
CONSTRAINTS_BRANCH variable was removed because CONSTRAINTS_FILE
contains link to the upper-requirements file with specified branch.

Story: 2005666
Task: 30968
Change-Id: I57c09bb50138bf829f39d4034bbc78356e34f3a6
"
openstack%2Fkuryr-kubernetes~master~I5a6fdaa0b5d94b9d2827a1a3889a00fce121cf6d,openstack/kuryr-kubernetes,master,readd-py36,I5a6fdaa0b5d94b9d2827a1a3889a00fce121cf6d,Add py36 to default tox environments,MERGED,2019-05-24 15:39:28.000000000,2019-05-29 09:02:02.000000000,2019-05-29 09:02:01.000000000,3,3,0,661338,4f75760aa4c6843ec63859cff88785e6ae944362,7,3,1,1,11600,Micha Dulko,dulek,"Add py36 to default tox environments

Seems like I46b077f268d3a812e36f3de532ce1bfe7636166c removed py35 from
the default tox environments. This commit adds py36 there instead to
make sure Python 3 is covered.

Also debug-py35 env is updated to debug-py36 to remove py35 completely,
which is what aforementioned commit was intending to do.

Change-Id: I5a6fdaa0b5d94b9d2827a1a3889a00fce121cf6d
"
openstack%2Fcharm-hacluster~master~I16f5d7df44300d542d3614a07acc3c83726b1be1,openstack/charm-hacluster,master,bug/1827356,I16f5d7df44300d542d3614a07acc3c83726b1be1,Allow disabling load balancing,ABANDONED,2019-05-08 12:31:21.000000000,2019-05-29 08:52:13.000000000,,7,0,1,657786,f96c5b644f902dac464223ded99f66a544eff21e,13,5,1,2,24504,Tytus Kurek,tkurek,"Allow disabling load balancing

Thich patchset adds an 'enable_load_balancing' option which can be used
to control whether HAProxy load balancing should be enabled or not.

Change-Id: I16f5d7df44300d542d3614a07acc3c83726b1be1
Partial-Bug: 1827356
"
openstack%2Fpython-ironicclient~stable%2Fqueens~I69dc2c88648ba1d09a9ad3ab3435662e8d1ea6ff,openstack/python-ironicclient,stable/queens,bug/1818295-stable/queens,I69dc2c88648ba1d09a9ad3ab3435662e8d1ea6ff,Use endpoint_override in version negotiation,ABANDONED,2019-04-17 07:38:06.000000000,2019-05-29 08:47:54.000000000,,10,1,0,653338,2d3807a5216a564eb5341a84232c434da2866964,5,4,1,3,10239,Dmitry Tantsur,dtantsur,"Use endpoint_override in version negotiation

Change [1] introduced the usage of endpoint_filter when deciding which
endpoint to use during version negotiation. This requires properly
setting interface/region/service_type in order to properly pick the
endpoint. But, sometimes (for example in Kolla-ansible), the endpoint
url is explicitly defined. In the event of the endpoint being explicitly
defined, it should take priority here.

It should be noted that even though SessionClient extends from
keystoneauth1's adapter.LegacyJsonAdapter, the `request` function within
_make_simple_request is being called on the nested Session object, not
the Adapter itself. If it was called on the Adapter this problem
wouldn't exist, as the `endpoint_override` (or `endpoint`) kwarg passed
in to the constructor of the SessionClient would already take
precedence.

Additionally: Adds a release note to the older branch as this is a
fix that needs to be released and is worthy of change visibility
in release notes.

[1]: I42b66daea1f4397273a3f4eb1638abafb3bb28ce

Change-Id: I69dc2c88648ba1d09a9ad3ab3435662e8d1ea6ff
Related-Bug: #1818295
(cherry picked from commit 8071d5de57c728ce09d25d04c8c9fe48cd7db42e)
"
openstack%2Fplacement~master~Ic2f8f7bdc2984db2011cec329fb6f5b9efec5a0f,openstack/placement,master,cd/check-summary-dict,Ic2f8f7bdc2984db2011cec329fb6f5b9efec5a0f,Avoid traversing summaries in _check_traits_for_alloc_request,MERGED,2019-05-22 11:58:13.000000000,2019-05-29 08:35:33.000000000,2019-05-29 02:53:42.000000000,7,11,6,660691,346509f8fa2f0410aba5db07f75577454502dd28,16,4,4,1,11564,Chris Dent,chdent,"Avoid traversing summaries in _check_traits_for_alloc_request

While doing other work, I noticed that _check_traits_for_alloc_request
traverses a list of summaries multiple time to find the ""right one"".
This is a classic case of a list being the wrong data structure for
the job.

Instead use the request resource resource provider's id to key into
the summaries dict directly to get the relevant summary.

Then, since we know the summary has the trait info we need, we don't
need to pass prov_traits to the method.

Change-Id: Ic2f8f7bdc2984db2011cec329fb6f5b9efec5a0f
"
openstack%2Fplacement~master~Ia9d81ce87111ec3496d10ed254f069c04b9bdf3c,openstack/placement,master,cd/check-summary-dict,Ia9d81ce87111ec3496d10ed254f069c04b9bdf3c,Use trait strings in ProviderSummary objects,MERGED,2019-05-22 11:58:13.000000000,2019-05-29 08:34:13.000000000,2019-05-29 02:53:43.000000000,5,8,4,660692,5f4da5e04099b4eb7da32c57993e8fb187ebe56a,16,4,4,3,11564,Chris Dent,chdent,"Use trait strings in ProviderSummary objects

When ProviderSummary objects are created and then later serialized
to JSON the traits attribute has been a list of Trait objects.

At no point in the processing of that attribute does any caller want
it to be a Trait. They are stored as TraitS but used as strings.

Therefore, this change makes it so it is a list of strings, avoiding
a few different instances of translating one way or the other, keeping
the data in the format the system wants.

Change-Id: Ia9d81ce87111ec3496d10ed254f069c04b9bdf3c
"
openstack%2Fopenstacksdk~master~Ie1fc5b28ea2febd5016bc653e5879b3b705515d6,openstack/openstacksdk,master,fix_exception__attach_ip_to_server,Ie1fc5b28ea2febd5016bc653e5879b3b705515d6,Log OpenStackCloudResourceNotFound exceptions,ABANDONED,2019-02-15 11:01:07.000000000,2019-05-29 08:34:07.000000000,,16,6,6,637169,464315c9d84efd988054f9142a917d7f7da2eb05,21,6,7,1,11090,Sergii Golovatiuk,holser,"Log OpenStackCloudResourceNotFound exceptions

Both Neutron and Nova may fail assiging floating IP. There can be a
reason that needs further debugging from operator. As an example there
may be no connectivity between networks at all. It's a legit error. This
patch logs both neutron and nova messages. Also, it raises
attach_ip_failed flag that helps not to wait for floating ip when both
methods already failed.

Change-Id: Ie1fc5b28ea2febd5016bc653e5879b3b705515d6
"
openstack%2Fironic-python-agent~master~Ia90197416f76ada0422681044a16f1c07d7049a1,openstack/ironic-python-agent,master,checksum,Ia90197416f76ada0422681044a16f1c07d7049a1,Relax checksum fields validation,MERGED,2019-05-24 06:37:33.000000000,2019-05-29 08:32:39.000000000,2019-05-29 08:32:38.000000000,77,6,10,661202,a9cac52190258aff02759f104c60f18ec87823bf,21,4,4,3,24828,Kaifeng Wang,wangkf,"Relax checksum fields validation

In stein, ironic added the new os_hash_algo and os_hash_value checksum
fields provided by glance, but the checksum field is still mandatory,
which is inconvenient for standalone use case.

We could relax the checksum checking and proceed as long as there is at
least one of checksum mechanism available.

Change-Id: Ia90197416f76ada0422681044a16f1c07d7049a1
Story: 2005773
Task: 33490
"
openstack%2Fwatcher~master~I19b7408a98893bc942c32edb09f1b3798ec8dc79,openstack/watcher,master,,I19b7408a98893bc942c32edb09f1b3798ec8dc79,Fix test_metric_file_override metric from backend,MERGED,2019-05-24 13:34:52.000000000,2019-05-29 08:13:31.000000000,2019-05-29 08:13:31.000000000,1,1,2,661292,5c492ea862c3e7922b1308a5d518ec3ddff24b4d,11,6,1,1,29911,Dantali0n,Dantali0n,"Fix test_metric_file_override metric from backend

Fix the list of required metrics from a datasource when testing the
existence of this metric in the metric map.

Change-Id: I19b7408a98893bc942c32edb09f1b3798ec8dc79
"
openstack%2Fwatcher~stable%2Fstein~Ifd9f83c2f399d4c1765b0c520f4d5a62ad0f5fbd,openstack/watcher,stable/stein,compute-cdm-perf,Ifd9f83c2f399d4c1765b0c520f4d5a62ad0f5fbd,Optimize NovaClusterDataModelCollector.add_instance_node,MERGED,2019-05-27 07:07:43.000000000,2019-05-29 08:13:29.000000000,2019-05-29 08:13:29.000000000,71,33,4,661544,fd9c5c85cbb6261e93a79c4b39b99df45eb315e4,12,5,1,4,9373,Vlad Gusev,s10,"Optimize NovaClusterDataModelCollector.add_instance_node

This does two things:

1. Rather than make an API call per server on the host,
   get all of the servers in a single API call by
   filtering on the host. The os-hypervisors API results
   to use make this require a bit of refactoring since
   get_compute_node_by_name does not have the service
   entry in it and get_compute_node_by_id does not have the
   servers entry in it. A TODO is added to clean that up
   with a single call to os-hypervisors once we have the
   support in python-novaclient.

2. Pulls get_node_by_uuid() out of the loop.

A test is added for the nova_helper get_instance_list method
since one did not exist before.

The fake compute node mocks in test_nova_cdmc_execute are
also cleaned up since, as noted above, get_compute_node_by_name
and get_compute_node_by_id don't both return all the details.

Change-Id: Ifd9f83c2f399d4c1765b0c520f4d5a62ad0f5fbd
(cherry picked from commit fdea38fb060e1b48b457332077db4802c49e17f8)
"
openstack%2Ftraining-labs~stable%2Fqueens~I9307d2e0f077539c118f540a9b0a4358e4f3b459,openstack/training-labs,stable/queens,bug/1817584-stable/rocky-stable/queens,I9307d2e0f077539c118f540a9b0a4358e4f3b459,Fix disk multiattach with VirtualBox 6,MERGED,2019-05-25 06:29:34.000000000,2019-05-29 08:10:53.000000000,2019-05-29 08:10:53.000000000,23,1,0,661431,e246560caba3237fd11aa0e992d434a04be4ba1a,8,4,1,2,11109,Roger Luethi,rluethi,"Fix disk multiattach with VirtualBox 6

Starting with version 6.0, the behavior of VirtualBox with regards to
disk multiattach changed.

The result are error messages like:
  VBoxManage: error: Cannot change type for medium '<base_disk_path>':
  the media type 'MultiAttach' can only be used on media registered
  with a machine that was created with VirtualBox 4.0 or later

The new code should work for both VirtualBox 6 and older versions.

The workaround suggests that we may not be using the VirtualBox volumes
the way they are meant to be used, but with scant documentation out
there rewriting the volume logic may result in no improvement at all,
so let's leave it at that for the time being.

backport: rocky queens pike ocata

Closes-Bug: 1817584

Change-Id: I9307d2e0f077539c118f540a9b0a4358e4f3b459
(cherry picked from commit e4dec38469acdac6f9e408ac8612e709405cd998)
"
openstack%2Ftraining-labs~stable%2Focata~I9307d2e0f077539c118f540a9b0a4358e4f3b459,openstack/training-labs,stable/ocata,bug/1817584-stable/ocata,I9307d2e0f077539c118f540a9b0a4358e4f3b459,Fix disk multiattach with VirtualBox 6,MERGED,2019-05-25 06:29:52.000000000,2019-05-29 08:07:59.000000000,2019-05-29 08:07:59.000000000,23,1,0,661432,0d8de0f81fb8e5aa0d5b3500670e434c39a80f20,7,3,1,2,11109,Roger Luethi,rluethi,"Fix disk multiattach with VirtualBox 6

Starting with version 6.0, the behavior of VirtualBox with regards to
disk multiattach changed.

The result are error messages like:
  VBoxManage: error: Cannot change type for medium '<base_disk_path>':
  the media type 'MultiAttach' can only be used on media registered
  with a machine that was created with VirtualBox 4.0 or later

The new code should work for both VirtualBox 6 and older versions.

The workaround suggests that we may not be using the VirtualBox volumes
the way they are meant to be used, but with scant documentation out
there rewriting the volume logic may result in no improvement at all,
so let's leave it at that for the time being.

backport: rocky queens pike ocata

Closes-Bug: 1817584

Change-Id: I9307d2e0f077539c118f540a9b0a4358e4f3b459
(cherry picked from commit e4dec38469acdac6f9e408ac8612e709405cd998)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I88075174dfffe4117c8ccc31f28ed9f43bf8b4e7,openstack/tripleo-heat-templates,stable/rocky,add_domain_option_to_ipaclient-stable/rocky,I88075174dfffe4117c8ccc31f28ed9f43bf8b4e7,Add domain and no-ntp options to ipaclient,MERGED,2019-05-28 14:45:21.000000000,2019-05-29 08:03:23.000000000,2019-05-29 08:03:23.000000000,29,0,0,661774,ebd0c4944825432f879627ed5e9a933a78db62c3,14,5,1,2,14250,Grzegorz Grasza,xek,"Add domain and no-ntp options to ipaclient

Two options have proven useful for deployers.
--domain: To specify the IdM DNS domain in cases where the client is
  not in the same DNS domain as the IdM server
--no-ntp: To ensure that the idm-client-install does not change the
  NTP settings when they have already been set by puppet.

The patch adds both these options.

Change-Id: I88075174dfffe4117c8ccc31f28ed9f43bf8b4e7
(cherry picked from commit edfbeae9182108be15ad020ec26167934525eb57)
"
openstack%2Fwatcher~stable%2Fstein~I8c05f29c3c03aa5897cb182bb492948771c42881,openstack/watcher,stable/stein,compute-cdm-perf,I8c05f29c3c03aa5897cb182bb492948771c42881,Remove dead code from NovaClusterDataModelCollector,MERGED,2019-05-26 23:57:29.000000000,2019-05-29 08:02:34.000000000,2019-05-29 08:02:34.000000000,0,33,0,661507,2132063fd3bf66167ced8266b05b0246cfbba4d6,12,6,3,1,29888,Sergey Slabnov,nwton_ru,"Remove dead code from NovaClusterDataModelCollector

The _add_virtual_layer and _add_virtual_servers methods
have not been used since Ic4659d1f18af181203439a8bf1b38805ff34c309
in Stein so this change removes them.

Change-Id: I8c05f29c3c03aa5897cb182bb492948771c42881
(cherry picked from commit 4cd8a2f46e076143b78a3033b3b1ebbbe399a2fb)
"
openstack%2Ftraining-labs~stable%2Frocky~I9307d2e0f077539c118f540a9b0a4358e4f3b459,openstack/training-labs,stable/rocky,bug/1817584-stable/rocky,I9307d2e0f077539c118f540a9b0a4358e4f3b459,Fix disk multiattach with VirtualBox 6,MERGED,2019-05-25 06:28:52.000000000,2019-05-29 08:00:03.000000000,2019-05-29 08:00:03.000000000,23,1,0,661430,4375f502985514c3ebea48a3f6bd376045111a4f,8,3,1,2,11109,Roger Luethi,rluethi,"Fix disk multiattach with VirtualBox 6

Starting with version 6.0, the behavior of VirtualBox with regards to
disk multiattach changed.

The result are error messages like:
  VBoxManage: error: Cannot change type for medium '<base_disk_path>':
  the media type 'MultiAttach' can only be used on media registered
  with a machine that was created with VirtualBox 4.0 or later

The new code should work for both VirtualBox 6 and older versions.

The workaround suggests that we may not be using the VirtualBox volumes
the way they are meant to be used, but with scant documentation out
there rewriting the volume logic may result in no improvement at all,
so let's leave it at that for the time being.

backport: rocky queens pike ocata

Closes-Bug: 1817584

Change-Id: I9307d2e0f077539c118f540a9b0a4358e4f3b459
(cherry picked from commit e4dec38469acdac6f9e408ac8612e709405cd998)
"
openstack%2Fneutron~stable%2Fstein~Id4413fa0a8da8bce70ed71b747f74a96f4a613a6,openstack/neutron,stable/stein,stein,Id4413fa0a8da8bce70ed71b747f74a96f4a613a6,TEST DNM,ABANDONED,2019-05-27 11:31:12.000000000,2019-05-29 07:57:07.000000000,,48,344,0,661584,1a92725a1ca3e3b67b812655eff9266c1a8106b6,6,4,1,21,20363,Adit Sarfaty,asarfaty,"TEST DNM

This reverts commit 5e0fc3d2da6fbc5154debcc4a98bb8b6419326f9.

Change-Id: Id4413fa0a8da8bce70ed71b747f74a96f4a613a6
"
openstack%2Fneutron~master~Id4413fa0a8da8bce70ed71b747f74a96f4a613a6,openstack/neutron,master,(detached,Id4413fa0a8da8bce70ed71b747f74a96f4a613a6,TEST DNM,ABANDONED,2019-05-27 11:24:59.000000000,2019-05-29 07:57:01.000000000,,48,349,0,661583,1b0210c5ef4bccd065b18c067ce8548b64878802,17,11,3,21,20363,Adit Sarfaty,asarfaty,"TEST DNM

This reverts commit 5e0fc3d2da6fbc5154debcc4a98bb8b6419326f9.

Change-Id: Id4413fa0a8da8bce70ed71b747f74a96f4a613a6
"
openstack%2Ftraining-labs~stable%2Fpike~I9307d2e0f077539c118f540a9b0a4358e4f3b459,openstack/training-labs,stable/pike,bug/1817584-stable/pike,I9307d2e0f077539c118f540a9b0a4358e4f3b459,Fix disk multiattach with VirtualBox 6,MERGED,2019-05-25 06:30:17.000000000,2019-05-29 07:55:12.000000000,2019-05-29 07:55:12.000000000,23,1,0,661433,70eee13c86a01a869d845aa13fe21f2b686781f0,7,3,1,2,11109,Roger Luethi,rluethi,"Fix disk multiattach with VirtualBox 6

Starting with version 6.0, the behavior of VirtualBox with regards to
disk multiattach changed.

The result are error messages like:
  VBoxManage: error: Cannot change type for medium '<base_disk_path>':
  the media type 'MultiAttach' can only be used on media registered
  with a machine that was created with VirtualBox 4.0 or later

The new code should work for both VirtualBox 6 and older versions.

The workaround suggests that we may not be using the VirtualBox volumes
the way they are meant to be used, but with scant documentation out
there rewriting the volume logic may result in no improvement at all,
so let's leave it at that for the time being.

backport: rocky queens pike ocata

Closes-Bug: 1817584

Change-Id: I9307d2e0f077539c118f540a9b0a4358e4f3b459
(cherry picked from commit e4dec38469acdac6f9e408ac8612e709405cd998)
"
openstack%2Fwatcher~stable%2Fstein~Id1e2d98f56d5a95d49e32f98d2910660b9f48ce6,openstack/watcher,stable/stein,live_migration_post,Id1e2d98f56d5a95d49e32f98d2910660b9f48ce6,Update migration notification,MERGED,2019-05-19 18:56:45.000000000,2019-05-29 07:49:55.000000000,2019-05-29 07:49:54.000000000,5,5,0,659979,7fafedbb43768f8daea223b1498eebbc0a96346b,12,4,3,3,9373,Vlad Gusev,s10,"Update migration notification

_post_live_migration[1] runs on the source host and calls
post_live_migration_at_destination on the dest host which
emits the instance.live_migration_post_dest.end notification:[2]
But it's not the last notification for the live migration operation.
so we should use instance.live_migration_post.end instead of
instance.live_migration_post_dest.end notification.

[1]https://github.com/openstack/nova/blob/daa2ac2287df12dfdee532d66ef97a03350ca6af/nova/compute/manager.py#L6907
[2]https://github.com/openstack/nova/blob/daa2ac2287df12dfdee532d66ef97a03350ca6af/nova/compute/manager.py#L7035

Change-Id: Id1e2d98f56d5a95d49e32f98d2910660b9f48ce6
(cherry picked from commit 6d965121880f7d581d5773faa9d6c9c6eb65ce65)
"
openstack%2Fmonasca-analytics~master~I9e7e55a8868eeb5ae4a6fd1a7b7b2bb0dd54f329,openstack/monasca-analytics,master,,I9e7e55a8868eeb5ae4a6fd1a7b7b2bb0dd54f329,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-05-09 12:32:04.000000000,2019-05-29 07:41:52.000000000,2019-05-29 07:41:52.000000000,3,3,0,658067,d546193ed1cd91fa4f1689a00e8dc61e46533085,11,3,1,1,17130,melissaml,malei,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I9e7e55a8868eeb5ae4a6fd1a7b7b2bb0dd54f329
"
openstack%2Fcharm-nova-compute~stable%2F19.04~Icc2d187fa3dd63e0930d57a87e7a60ff386f0032,openstack/charm-nova-compute,stable/19.04,bug/1826467-stable/19.04,Icc2d187fa3dd63e0930d57a87e7a60ff386f0032,Add multipath to nova-compute AppArmor profile,MERGED,2019-05-16 12:09:54.000000000,2019-05-29 07:41:45.000000000,2019-05-29 07:41:45.000000000,10,0,0,659543,15f8a94e080ce4c708dfbfa7b602ebd165e44aa5,9,5,1,1,17097,Tiago Pasqualini da Silva,tiago.pasqualini,"Add multipath to nova-compute AppArmor profile

Deploying nova-compute with apparmor in enforce mode causes it to fail
to attach volumes with multipath. This patch fixes it by updating the
nova-compute apparmor profile to include paths and binaries needed for
multipath.

Change-Id: Icc2d187fa3dd63e0930d57a87e7a60ff386f0032
Closes-bug: #1826467
(cherry picked from commit 40914493c7be88a1c3cd80c937d65e044301c24b)
"
openstack%2Fcharm-nova-compute~master~I23992832a82557f406999427fe8d151f6a2b63af,openstack/charm-nova-compute,master,bug/1816435,I23992832a82557f406999427fe8d151f6a2b63af,Added verification to ensure iscsid is running,MERGED,2019-02-26 18:24:09.000000000,2019-05-29 07:41:44.000000000,2019-05-29 07:41:44.000000000,44,0,2,639411,3b91afa9ce69f838789d6c0c3c671c15b061d813,29,8,2,3,17097,Tiago Pasqualini da Silva,tiago.pasqualini,"Added verification to ensure iscsid is running

Currently, the charm does not verify if iscsid is installed or
running. This patch adds those verifications on install and
update hooks.

Closes-bug: #1816435

Change-Id: I23992832a82557f406999427fe8d151f6a2b63af
"
openstack%2Fwatcher~master~I02326ca2db741bd0daecda5fcdf635f565c013c9,openstack/watcher,master,bp/scheduler-filters,I02326ca2db741bd0daecda5fcdf635f565c013c9,[WiP] Filter manager,ABANDONED,2018-05-21 10:04:46.000000000,2019-05-29 07:41:25.000000000,,858,46,0,569769,8e71a7497c9dabaf630a4a60cd7e4b075512569a,25,2,11,34,19055,Alexander Chadin,joker946,"[WiP] Filter manager

Change-Id: I02326ca2db741bd0daecda5fcdf635f565c013c9
"
openstack%2Fwatcher~master~Ibcebe13c7c6fd5b6833f694c5125df43ebf4a50d,openstack/watcher,master,add-force-field,Ibcebe13c7c6fd5b6833f694c5125df43ebf4a50d,[WiP] Add force optional attribute,ABANDONED,2018-12-24 13:55:15.000000000,2019-05-29 07:36:48.000000000,,43,12,0,627185,4197a585b87dc49094d39c505f95f57e9502b8f7,3,1,1,9,19055,Alexander Chadin,joker946,"[WiP] Add force optional attribute

Change-Id: Ibcebe13c7c6fd5b6833f694c5125df43ebf4a50d
"
openstack%2Fcharm-barbican~master~I72fa2f73041479650a448497bad5ffa7655ce459,openstack/charm-barbican,master,bug/1811067,I72fa2f73041479650a448497bad5ffa7655ce459,Enable Glance image signature verification feature,ABANDONED,2019-01-11 14:15:19.000000000,2019-05-29 07:34:21.000000000,,4,0,0,630238,d5f365a69bcd1645ee85df7b6d3ff141cf68f6d4,7,4,2,1,28608,Nicolas Pochet,npochet,"Enable Glance image signature verification feature

The rationale behind this change is to allow the use of the glance image
signature verification feature.
In order to do so, it is necessary to be able to relate the barbican
charm to the glance charm. This change add a `provides` interface to the
charm.

Change-Id: I72fa2f73041479650a448497bad5ffa7655ce459
Closes-Bug: 1811067
"
openstack%2Fcharm-keystone~stable%2F19.04~I08f0632630d7f0e8d2d7ddb057e02f9febf9ad6f,openstack/charm-keystone,stable/19.04,bug/1828015,I08f0632630d7f0e8d2d7ddb057e02f9febf9ad6f,Use AuthMethod context,MERGED,2019-05-27 05:57:40.000000000,2019-05-29 07:26:14.000000000,2019-05-29 07:26:13.000000000,28,4,0,661537,84dac3c3626e1f434ccc9a88f8301d8b567bad4f,9,5,1,5,24824,Dmitrii Shcherbakov,dmitriis,"Use AuthMethod context

Rather than use hard coded auth methods, use the protocal named passed
over the keystone-fid-service-provider relation.

Also, when using federation do not allow the ""external"" method as they
are mutually exclusive.

Change-Id: I08f0632630d7f0e8d2d7ddb057e02f9febf9ad6f
Closes-Bug: #1828015
Closes-Bug: #1828018
(cherry picked from commit a103c15e40612b4c2c801543896bda4bbd5396f0)
"
openstack%2Fcharm-neutron-gateway~master~I2a802c763f2f4403a6dfb17575aa742ca8072e96,openstack/charm-neutron-gateway,master,bug/1777714,I2a802c763f2f4403a6dfb17575aa742ca8072e96,Replace nova vendor metadata code,MERGED,2019-05-17 15:45:19.000000000,2019-05-29 07:21:36.000000000,2019-05-29 07:21:36.000000000,283,130,0,659827,206970c6c1302f235b569d6b1f194d002a1a2c9b,12,4,3,11,14567,Rodrigo Barbieri,ganso,"Replace nova vendor metadata code

Two generic contexts to handle nova vendor metadata have
been implemented in charm-helpers. So, replace the existing
one here in order to simplify and unify the implementation
across all charms that handle vendor metadata.

Change-Id: I2a802c763f2f4403a6dfb17575aa742ca8072e96
Related-Bug: #1777714
"
openstack%2Fcharm-neutron-api~master~Ia59c2b2402c1ade94c9b4addc4c7b9b8c1569210,openstack/charm-neutron-api,master,,Ia59c2b2402c1ade94c9b4addc4c7b9b8c1569210,Fix change of return type in NeutronAMQPContext.__call__(),MERGED,2019-05-25 16:24:13.000000000,2019-05-29 07:19:57.000000000,2019-05-29 07:19:56.000000000,1,1,0,661464,a82b210c471a7d5b65dc7791818163c58b714f16,12,6,1,1,20870,Alex Kavanagh,ajkavanagh,"Fix change of return type in NeutronAMQPContext.__call__()

A recent change means that a branch returns None for an empty context
when the parent class returns {} for an empty context.  This changes the
return on that branch back to the empty {} returned from the parent.

Change-Id: Ia59c2b2402c1ade94c9b4addc4c7b9b8c1569210
"
openstack%2Fironic-specs~master~Ib97eed363e10e33edf7d5265a78d71ba1c373183,openstack/ironic-specs,master,add-indicators-spec-followup,Ib97eed363e10e33edf7d5265a78d71ba1c373183,Add followup to indicator management,MERGED,2019-05-24 16:13:52.000000000,2019-05-29 07:17:57.000000000,2019-05-29 07:17:57.000000000,7,4,0,661350,7c1651a9485c2fd964a62d67be18e729fdf64c0c,9,3,2,1,26340,Ilya Etingof,etingof,"Add followup to indicator management

Follows up change-Id I43c8dbf485bd54a3617c9193580279a7ffd65fd2

Change-Id: Ib97eed363e10e33edf7d5265a78d71ba1c373183
Story: 2005342
"
openstack%2Fneutron-lib~master~I3e1ed2374125f2ac1e57db70bf206fdbeb3f82e4,openstack/neutron-lib,master,bp/neutronlib-decouple-db,I3e1ed2374125f2ac1e57db70bf206fdbeb3f82e4,sync sql fixtures from neutron,MERGED,2019-05-21 20:19:56.000000000,2019-05-29 06:59:29.000000000,2019-05-29 00:56:13.000000000,21,20,3,660510,96b82602fb4885747989b0914e823773dca5691e,13,5,2,2,5367,boden,boden,"sync sql fixtures from neutron

This patch updates the sql fixtures in neutron_lib.fixtures to
match their implementation in neutron. This is necessary due to some
issues with the existing fixtures in neutron-lib. The fixtures are
still marked private as we'll need to test them again before
making them public for consumption.

Sample consumption patch: https://review.opendev.org/#/c/657887/

Change-Id: I3e1ed2374125f2ac1e57db70bf206fdbeb3f82e4
"
openstack%2Fnova-specs~master~I4f832cc3b872ae658b8d708905fb42573ce9ea1f,openstack/nova-specs,master,bp/in-use-volume-migrate-rbd,I4f832cc3b872ae658b8d708905fb42573ce9ea1f,Add support for volume online-migrate when backend has RBD,ABANDONED,2017-02-07 08:58:04.000000000,2019-05-29 06:57:29.000000000,,147,0,7,430131,54a410fec1f3eff52b33b26d3b7f8dad9934ae0f,11,5,3,1,23006,xianming.mao,Mars,"Add support for volume online-migrate when backend has RBD

Change-Id: I4f832cc3b872ae658b8d708905fb42573ce9ea1f
Implements: blueprint in-use-volume-migrate-rbd
Reference: https://review.openstack.org/#/c/424538/
"
openstack%2Fcinder-specs~master~I4f832cc3b872ae658b8d708905fb42573ce9ea1f,openstack/cinder-specs,master,bp/in-use-volume-migrate-rbd,I4f832cc3b872ae658b8d708905fb42573ce9ea1f,Add support for volume online-migrate when backend has RBD,ABANDONED,2017-01-24 09:38:19.000000000,2019-05-29 06:57:15.000000000,,136,0,5,424538,ff8e3468b676ab4f9cb1506c3bcf5753b02c1437,25,4,8,1,23006,xianming.mao,Mars,"Add support for volume online-migrate when backend has RBD

Change-Id: I4f832cc3b872ae658b8d708905fb42573ce9ea1f
Implements: blueprint in-use-volume-migrate-rbd
"
openstack%2Fironic~master~Id645b23a26d79633c2712d5a9f2d5125b3f3fe52,openstack/ironic,master,,Id645b23a26d79633c2712d5a9f2d5125b3f3fe52,"Revert ""Temporarily mark grenade multinode as non-voting""",ABANDONED,2019-04-09 19:58:51.000000000,2019-05-29 06:49:18.000000000,,2,5,0,651367,ca6bbb77ef43c6fb2245513c00301144b26b6cf6,25,8,1,1,11655,Julia Kreger,jkreger,"Revert ""Temporarily mark grenade multinode as non-voting""

This reverts commit
2bb05fef72cda17831759d2591f840229337e3b9
as the grenade job has hopefully been fixed by now.

Change-Id: Id645b23a26d79633c2712d5a9f2d5125b3f3fe52
"
openstack%2Fproject-config~master~Iaff4bedc0bf0100ea157b37b4a604974d93715f8,openstack/project-config,master,networking-l2gw,Iaff4bedc0bf0100ea157b37b4a604974d93715f8,Remove networking-l2gw jobs,MERGED,2019-05-27 06:31:41.000000000,2019-05-29 06:37:49.000000000,2019-05-29 06:37:49.000000000,0,4,0,661542,3fb679f8e8c359fced809e96462c65ab38ebd0fa,9,4,1,1,6547,Andreas Jaeger,jaegerandi,"Remove networking-l2gw jobs

These jobs have been moved in-tree.

Depends-On: https://review.opendev.org/661541
Change-Id: Iaff4bedc0bf0100ea157b37b4a604974d93715f8
"
openstack%2Fneutron~stable%2Frocky~I3f2905c2c4fca02406dfa3c801c166c14389ba41,openstack/neutron,stable/rocky,bug/1682094-stable/rocky,I3f2905c2c4fca02406dfa3c801c166c14389ba41,Allow first address in an IPv6 subnet as valid unicast,MERGED,2019-05-22 14:13:42.000000000,2019-05-29 06:35:30.000000000,2019-05-29 06:35:30.000000000,106,32,0,660730,663c727f993106f654f8087f9d5122cee94bf466,17,6,2,7,13995,Nate Johnston,natejohnston,"Allow first address in an IPv6 subnet as valid unicast

When looking at the RFC [1], there's no mention that this can't be the
gateway address.  Permit it.

[1] https://tools.ietf.org/html/rfc4291#section-2.6.1

Change-Id: I3f2905c2c4fca02406dfa3c801c166c14389ba41
Fixes-Bug: #1682094
(cherry picked from commit 1916bc5c0627ca24e312ca55ea62c8df7eb8f158)
"
openstack%2Fironic~master~I55d2e7718a23cde111eaac4e431588184cb16bda,openstack/ironic,master,story/2005393,I55d2e7718a23cde111eaac4e431588184cb16bda,Publish baremetal endpoint via mdns,MERGED,2019-04-11 15:08:23.000000000,2019-05-29 06:35:01.000000000,2019-05-28 12:18:41.000000000,68,2,8,651810,c36a01a43994f7f4a8cb0f44bd0859d41cea83cd,75,11,11,7,10239,Dmitry Tantsur,dtantsur,"Publish baremetal endpoint via mdns

This change adds an option to publish the endpoint via mDNS on start
up and clean it up on tear down.

Story: #2005393
Task: #30383
Change-Id: I55d2e7718a23cde111eaac4e431588184cb16bda
"
openstack%2Frequirements~stable%2Focata~I2598503c2d4397d7efbb03a76df9a4e91dd0c1cf,openstack/requirements,stable/ocata,,I2598503c2d4397d7efbb03a76df9a4e91dd0c1cf,Add upper-constraints enforcement for local reqs,MERGED,2019-05-13 08:22:31.000000000,2019-05-29 06:17:57.000000000,2019-05-29 06:17:57.000000000,6,3,0,658748,a82dc23de95429aa0bd96f2e74b831d87bbaa908,22,4,3,1,6593,Dirk Mueller,dmllr,"Add upper-constraints enforcement for local reqs

This adds the use of upper constraints in our tox environments. Jobs
like openstack-tox-py27 have started failing due to trying to install
lib versions that only support Python 3.

The 'generate' target keeps the unconstrained deps since we actually do
need the latest installed for that.

NOTE(dmllr): updated install_command to include local constraints file

Change-Id: I2598503c2d4397d7efbb03a76df9a4e91dd0c1cf
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 8bad9fe19d09eb2e49fd44b92c57ee5acf85b558)
(cherry picked from commit ab0875127bd23cf18c549440b9e0130d5162b73d)
(cherry picked from commit f707d12d81e68a8a7c568a3bda0779b1db8839ba)
(cherry picked from commit 31237956f2512035d992315c58caa9d1df2ca6d2)
"
openstack%2Ftripleo-common~master~I0e56e1d74ef8468f1b89da5329a8f1ced711c0f3,openstack/tripleo-common,master,bp/multiarch-support,I0e56e1d74ef8468f1b89da5329a8f1ced711c0f3,Use a typemap file instead of symlinks for tags,MERGED,2019-04-18 03:43:22.000000000,2019-05-29 05:48:35.000000000,2019-05-29 05:48:35.000000000,184,28,0,653651,35cfa6d36308483be94d65e1fc61ce5d3b9fd3ce,16,4,2,2,4571,Steve Baker,steve-stevebaker,"Use a typemap file instead of symlinks for tags

To support manifest lists, the response for requesting a tagged
manifest will need to return different contents based on the
content-type requested. Representing a tag as a symlink to the
manifest directory is not flexible enough for this need.

This change switches over to a type-map[1] based implementation so
that future changes can add entries to different files based on the
content-type. Whenever any write operation is performed on an image,
any existing symlink based tags will be migrated to a typemap.

[1] https://httpd.apache.org/docs/2.4/mod/mod_negotiation.html#typemaps
Change-Id: I0e56e1d74ef8468f1b89da5329a8f1ced711c0f3
"
openstack%2Foctavia~master~I02b3758e707319489e03a6cd00766b0b9381dc12,openstack/octavia,master,,I02b3758e707319489e03a6cd00766b0b9381dc12,Rename review.openstack.org to review.opendev.org,MERGED,2019-05-11 21:11:21.000000000,2019-05-29 04:38:27.000000000,2019-05-29 04:38:27.000000000,9,9,4,658565,3ee0f52151337057ae9ce6f1fe3f4adfa610b83b,20,4,5,6,17130,melissaml,malei,"Rename review.openstack.org to review.opendev.org

There are many references to review.openstack.org, and while the
redirect should work, we can also go ahead and fix them.

Change-Id: I02b3758e707319489e03a6cd00766b0b9381dc12
"
openstack%2Fmonasca-analytics~master~I4172dd0c905760dd84e5ff60d3fa052aae794edf,openstack/monasca-analytics,master,cap-hacking,I4172dd0c905760dd84e5ff60d3fa052aae794edf,Gate fix: Cap hacking to avoid gate failure,MERGED,2018-05-09 01:03:38.000000000,2019-05-29 04:12:10.000000000,2019-05-29 04:12:09.000000000,1,1,0,567084,b48e43eda628dadd4f789a69ea418e762f113981,15,3,3,1,8556,Ghanshyam,ghanshyam,"Gate fix: Cap hacking to avoid gate failure

hacking is not capped in g-r and it is in
blacklist for requirement as hacking new version
can break the gate jobs.

Hacking can break gate jobs because of various
reasons:
- There might be new rule addition in hacking
- Some rules becomes default from non-default
- Updates in pycodestyle etc

That was the main reason it was not added in g-r
auto sync also. Most of the project maintained the
compatible and cap the hacking version in
test-requirements.txt and update to new version when
project is ready. Bumping new version might need code
fix also on project side depends on what new in that
version.

If project does not have cap the hacking version then,
there is possibility of gate failure whenever new hacking
version is released by QA team.

Example of such failure in recent release of hacking 1.1.0
- http://lists.openstack.org/pipermail/openstack-dev/2018-May/130282.html

Change-Id: I4172dd0c905760dd84e5ff60d3fa052aae794edf
"
openstack%2Fkeystone~master~I546bdc55937948d51154f4a4aecec08b4e4fd58d,openstack/keystone,master,app-cred-rotation,I546bdc55937948d51154f4a4aecec08b4e4fd58d,Add note about application credential ownership,MERGED,2019-05-28 22:06:01.000000000,2019-05-29 04:09:21.000000000,2019-05-29 04:09:21.000000000,15,0,0,661852,81c3202b43ef043175b5d67e6c309337294e2db0,7,3,1,1,8482,Colleen Murphy,krinkle,"Add note about application credential ownership

Some people are still disappointed by the fact that application
credentials are not project-owned. This patch adds a note about why this
decision was made and adds a recommendation to overcome it.

Change-Id: I546bdc55937948d51154f4a4aecec08b4e4fd58d
"
openstack%2Fnova~master~Id0f05bb1275cc816d98b662820e02eae25dc57a3,openstack/nova,master,bug/1829000,Id0f05bb1275cc816d98b662820e02eae25dc57a3,Fix live-migration when glance image deleted,MERGED,2019-05-14 12:29:36.000000000,2019-05-29 04:09:16.000000000,2019-05-29 04:09:16.000000000,23,7,16,659054,c1782bacd8461bdd8c833792864e61228fa451f1,67,17,4,2,28332,Alexandre arents,aarents,"Fix live-migration when glance image deleted

When block live-migration is run on instance with
a deleted glance image, image.cache() is called
without specyfing instance disk size parameter,
preventing the resize of disk on the target host.

Change-Id: Id0f05bb1275cc816d98b662820e02eae25dc57a3
Closes-Bug: #1829000
"
openstack%2Fpython-tripleoclient~stable%2Fstein~I39b6cc330ef3eddf50a031d1d44a21553f4305db,openstack/python-tripleoclient,stable/stein,stein,I39b6cc330ef3eddf50a031d1d44a21553f4305db,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-05-14 17:56:24.000000000,2019-05-29 04:04:59.000000000,2019-05-29 04:04:59.000000000,1,1,1,659130,7c21abb23d0dc01e8d038d4f35d70bac6a1aaf38,27,5,5,1,29222,Natal Ngtal,hobbestigrou,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I39b6cc330ef3eddf50a031d1d44a21553f4305db
(cherry picked from commit d0130ff9a10cd2a52e7ae196504497bc51ddef0b)
"
openstack%2Fnova~master~I3235f38c432f1dbafde167ec0e856abe7a38aa8a,openstack/nova,master,bp/remove-cells-v1,I3235f38c432f1dbafde167ec0e856abe7a38aa8a,Remove 'etc/nova/cells.json',MERGED,2019-05-20 15:12:39.000000000,2019-05-29 03:57:53.000000000,2019-05-29 03:57:53.000000000,0,26,0,660146,ae40a29345a432a0870b3d40ad2bd8e92077eac8,19,13,1,1,15334,Stephen Finucane,sfinucan,"Remove 'etc/nova/cells.json'

This was added in change I7046ce55a0a294293c1b1a5fb0f092aeb891ee01 as an
example for how one could configure a cells v1 deployment via a JSON
file. It can be removed now.

Part of blueprint remove-cells-v1

Change-Id: I3235f38c432f1dbafde167ec0e856abe7a38aa8a
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~master~I9f52b84e00c92d7734690d115e2b5e8f9c788f15,openstack/nova,master,bp/remove-cells-v1,I9f52b84e00c92d7734690d115e2b5e8f9c788f15,Remove conductor_api and _last_host_check from manager.py,MERGED,2019-04-09 02:35:53.000000000,2019-05-29 03:56:48.000000000,2019-05-29 03:56:48.000000000,0,2,2,651059,4ea23952a884397042999f8075bcc9ca504861c7,102,16,8,1,20190,zhufl,zhufl,"Remove conductor_api and _last_host_check from manager.py

conductor_api and _last_host_check are not
used in manager.py, so this is to remove them.

Part of blueprint remove-cells-v1

Change-Id: I9f52b84e00c92d7734690d115e2b5e8f9c788f15
"
openstack%2Fnova~master~I860bd822ec12d9f0df3aca58752446dc95c6dcfd,openstack/nova,master,bp/remove-cells-v1,I860bd822ec12d9f0df3aca58752446dc95c6dcfd,Stop handling cells v1 for instance naming,MERGED,2019-04-09 16:15:52.000000000,2019-05-29 03:56:29.000000000,2019-05-29 03:56:29.000000000,8,21,4,651304,59784cfa6c44d1c330842593809f15c3de3fbad4,99,16,10,4,15334,Stephen Finucane,sfinucan,"Stop handling cells v1 for instance naming

Part of blueprint remove-cells-v1

Change-Id: I860bd822ec12d9f0df3aca58752446dc95c6dcfd
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~master~I27719a2c44ebea90161c3032485581a6d8e4ba68,openstack/nova,master,bp/remove-cells-v1,I27719a2c44ebea90161c3032485581a6d8e4ba68,Stop handling 'update_cells' on 'BandwidthUsage.create',MERGED,2019-04-09 16:15:52.000000000,2019-05-29 03:56:20.000000000,2019-05-29 03:56:20.000000000,6,112,7,651303,14cc25552a52e6898a81b9877c6d2c0423a95d57,97,16,10,11,15334,Stephen Finucane,sfinucan,"Stop handling 'update_cells' on 'BandwidthUsage.create'

Part of blueprint remove-cells-v1

Change-Id: I27719a2c44ebea90161c3032485581a6d8e4ba68
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fnova~master~I4f2ddf523d9ebfbc6f21a64687b2edb33d0ed1df,openstack/nova,master,bp/remove-cells-v1,I4f2ddf523d9ebfbc6f21a64687b2edb33d0ed1df,Remove 'instance_update_from_api',MERGED,2019-04-09 16:15:52.000000000,2019-05-29 03:56:11.000000000,2019-05-29 03:56:11.000000000,9,262,13,651302,8dfc09d467b5a21a7aec847f3c181bedce6c7427,116,18,10,8,15334,Stephen Finucane,sfinucan,"Remove 'instance_update_from_api'

This was being called within the 'Instance' object. Remove it in its
entirety, given that nothing should be calling it now.

This also allows us to remove some special handling of the
'Instance.cell_name' field, given that nothing should be setting this
anymore.

Part of blueprint remove-cells-v1

Change-Id: I4f2ddf523d9ebfbc6f21a64687b2edb33d0ed1df
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fcinder~master~I9d3675af92a23b8bac6bc05b0b480e514c15ae88,openstack/cinder,master,,I9d3675af92a23b8bac6bc05b0b480e514c15ae88,MacroSan Driver test,ABANDONED,2019-05-24 06:34:47.000000000,2019-05-29 03:46:14.000000000,,1907,0,15,661200,67087c42d9e0f47f8625eb688065167ca9535b3a,85,21,6,5,29620,hjy,lol,"MacroSan Driver
test

Change-Id: I9d3675af92a23b8bac6bc05b0b480e514c15ae88
"
openstack%2Ftripleo-ci~master~I1a7ca305a6885c5faeea6db874edf84cf91f6ddd,openstack/tripleo-ci,master,retire_tripleo_ui,I1a7ca305a6885c5faeea6db874edf84cf91f6ddd,Retiring TripleO-UI,MERGED,2019-05-24 22:17:21.000000000,2019-05-29 03:37:55.000000000,2019-05-29 03:37:55.000000000,0,19,0,661410,08dee626294a6376226a78548b1a5dbebf81c4e0,12,5,1,3,10112,Jason E. Rist,jrist,"Retiring TripleO-UI

The TripleO-UI related tripleo-ci stuff is being removed because
of the retirement of TripleO-UI.

Change-Id: I1a7ca305a6885c5faeea6db874edf84cf91f6ddd
"
openstack%2Fnetworking-ovn~stable%2Frocky~I36261701be393584ad4b00ced96273736339b03c,openstack/networking-ovn,stable/rocky,bug/1789686-stable/rocky,I36261701be393584ad4b00ced96273736339b03c,Do not set port addresses on LSP while port not bound,MERGED,2019-05-21 06:45:31.000000000,2019-05-29 03:29:12.000000000,2019-05-29 03:29:12.000000000,103,14,0,660258,f8864483767e0da780a5619a6fd6774ab8702b05,14,5,1,2,24791,Maciej Jozefczyk,maciej.jozefczyk,"Do not set port addresses on LSP while port not bound

FIP that points to VIP port could not have addresses
specified [1]. Router pipeline will try to resolve
ARP requests internally from LSP instead looking for
actual MAC address from LSP where VIP exists at this moment.

Lets not set this address till the port is bound.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1707241

Change-Id: I36261701be393584ad4b00ced96273736339b03c
Closes-Bug: #1789686
(cherry picked from commit 33fd553158a96b4dc40c66acf050fa7f91227dec)
"
openstack%2Fneutron~stable%2Fpike~I459ce4b791c27b1e3d977e0de9fbdb21a8a379f5,openstack/neutron,stable/pike,bug/1829889-stable/rocky-stable/queens-stable/pike,I459ce4b791c27b1e3d977e0de9fbdb21a8a379f5,Wait to ipv6 accept_ra be really changed by L3 agent,MERGED,2019-05-27 12:36:22.000000000,2019-05-29 03:20:28.000000000,2019-05-29 03:20:28.000000000,15,4,0,661593,e222dae2c47b7752494cf1cd3df6fd2834f69d8b,11,4,2,1,11975,Slawek Kaplonski,slaweq,"Wait to ipv6 accept_ra be really changed by L3 agent

In functional tests for L3 HA agent, like e.g.
L3HATestFailover.test_ha_router_failover
it may happen that L3 agent will not change ipv6 accept_ra
knob and test fails because it checks that only once just
after router state is change.

This patch fixes that race by adding wait for 60 seconds to
ipv6 accept_ra change.

Conflicts:
    neutron/tests/functional/agent/l3/framework.py

Change-Id: I459ce4b791c27b1e3d977e0de9fbdb21a8a379f5
Closes-Bug: #1829889
(cherry picked from commit 62b2f2b1b1e2d8c0c2ffc1fd2ae9467eb2c1ef07)
"
openstack%2Fmurano~master~Idc138ff8fff5e6738a1bce1950d132c6bddb9cb4,openstack/murano,master,,Idc138ff8fff5e6738a1bce1950d132c6bddb9cb4,CI TEST,ABANDONED,2019-05-29 01:31:45.000000000,2019-05-29 02:54:26.000000000,,1,0,0,661871,80ee32c45a3d7702235e208271277db6a90e5ed5,3,1,1,1,14107,zhurong,zhurong,"CI TEST

Change-Id: Idc138ff8fff5e6738a1bce1950d132c6bddb9cb4
"
openstack%2Fneutron~stable%2Frocky~If01dd1db1b4a44ba2f7e2d8f8326e331f9dc79e9,openstack/neutron,stable/rocky,port_forwarding-devstack-plugin-stable/rocky,If01dd1db1b4a44ba2f7e2d8f8326e331f9dc79e9,Add port_forwarding to devstack plugin,MERGED,2019-05-27 10:47:32.000000000,2019-05-29 02:53:41.000000000,2019-05-29 02:53:41.000000000,8,0,0,661581,b84b9f2dcc47bdd5a46dfa2fa0f70d9f9e12f482,9,5,1,2,11975,Slawek Kaplonski,slaweq,"Add port_forwarding to devstack plugin

This commit adds possibility to configure fip port_forwarding
service plugin and l3 extension with devstack plugin.

Change-Id: If01dd1db1b4a44ba2f7e2d8f8326e331f9dc79e9
(cherry picked from commit 4d50adb5923896deb2607a5a21d492794c21d8c2)
"
openstack%2Fplacement~master~Ia44b0922d151695d406883262e891bd932536f38,openstack/placement,master,task/2005575-30781,Ia44b0922d151695d406883262e891bd932536f38,"Allow [a-zA-Z0-9_-]{1,64} for request group suffix",MERGED,2019-05-06 17:58:04.000000000,2019-05-29 02:53:34.000000000,2019-05-29 02:53:34.000000000,215,47,51,657419,fb0f6f2608b64546c61fa7aa359e8fdbef83a8a5,47,6,7,11,11564,Chris Dent,chdent,"Allow [a-zA-Z0-9_-]{1,64} for request group suffix

Add a 1.33 microversion to move from numeric suffixes to string
suffixes that can be 64 chars longs made from '-', '_', and
mixed-case alphanumeric. The format is shared between schema
and RequestGroup parsing.

Docs, api-ref, api history and microversion upper limit are updated
to indicate the new form in the new microversion.

A release note is added.

Story: 2005575
Task: 30781
Change-Id: Ia44b0922d151695d406883262e891bd932536f38
"
openstack%2Frequirements~master~I88a21382a147ef79fd773574ec98fd59ba7d198a,openstack/requirements,master,block-bad-pypowervm,I88a21382a147ef79fd773574ec98fd59ba7d198a,Block pypowervm 1.1.21,MERGED,2019-05-28 14:53:47.000000000,2019-05-29 02:53:33.000000000,2019-05-29 02:53:33.000000000,1,1,0,661776,790f2bf704a936c29241a605639343fc91cd0099,8,3,2,1,14288,Matthew Thode,prometheanfire,"Block pypowervm 1.1.21

It includes a cap on taskflow, blocking updates.
https://github.com/powervm/pypowervm/issues/12

Change-Id: I88a21382a147ef79fd773574ec98fd59ba7d198a
"
openstack%2Foctavia~master~I5e8cbe1f4eafd18e67b5b6914f5d459fb157a3a1,openstack/octavia,master,,I5e8cbe1f4eafd18e67b5b6914f5d459fb157a3a1,Enable fail-fast on the gate queue,MERGED,2019-05-16 22:05:21.000000000,2019-05-29 02:53:29.000000000,2019-05-29 02:53:29.000000000,1,0,3,659677,9ecc7abfc53417e8e65b1115102e36af61179698,16,4,2,1,11628,Michael Johnson,johnsom,"Enable fail-fast on the gate queue

Zuul recently added fail-fast[1] as a new option for project
pipelines. With this set, if any one of the voting jobs fails, zuul
will report a build failure immediately and abort the remaining
jobs.

This patch enables fail-fast on the gate pipeline as any one
failing job means the patch will not merge.

[1] https://review.opendev.org/652764

Change-Id: I5e8cbe1f4eafd18e67b5b6914f5d459fb157a3a1
"
openstack%2Fsolum~master~Ic77bb853de03edbf7bf03ba7d0e717df921b0fe6,openstack/solum,master,,Ic77bb853de03edbf7bf03ba7d0e717df921b0fe6,CI TEST,ABANDONED,2019-05-29 01:34:37.000000000,2019-05-29 02:47:09.000000000,,1,0,0,661872,2357391f97e41d5ff8a3e5887e05632bb5d501f6,3,1,1,1,14107,zhurong,zhurong,"CI TEST

Change-Id: Ic77bb853de03edbf7bf03ba7d0e717df921b0fe6
"
openstack%2Ftraining-labs~master~Ia026c815fb05f787ee0ccc8921dee66ded2f6fb3,openstack/training-labs,master,,Ia026c815fb05f787ee0ccc8921dee66ded2f6fb3,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 02:32:27.000000000,2019-05-29 02:41:48.000000000,2019-05-29 02:41:48.000000000,29,29,2,654675,b8efc5f4e034341e04d0f304aa1ed86fb8d3a161,17,4,4,15,28614,jacky06,jacky06,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Ia026c815fb05f787ee0ccc8921dee66ded2f6fb3
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I88075174dfffe4117c8ccc31f28ed9f43bf8b4e7,openstack/tripleo-heat-templates,stable/queens,add_domain_option_to_ipaclient-stable/rocky-stable/queens,I88075174dfffe4117c8ccc31f28ed9f43bf8b4e7,Add domain and no-ntp options to ipaclient,MERGED,2019-05-28 14:45:38.000000000,2019-05-29 01:43:00.000000000,2019-05-29 01:43:00.000000000,29,0,0,661775,67b2ec8416a9cfa99b2f0b4ff73352c09b198584,8,5,1,2,14250,Grzegorz Grasza,xek,"Add domain and no-ntp options to ipaclient

Two options have proven useful for deployers.
--domain: To specify the IdM DNS domain in cases where the client is
  not in the same DNS domain as the IdM server
--no-ntp: To ensure that the idm-client-install does not change the
  NTP settings when they have already been set by puppet.

The patch adds both these options.

Change-Id: I88075174dfffe4117c8ccc31f28ed9f43bf8b4e7
(cherry picked from commit edfbeae9182108be15ad020ec26167934525eb57)
"
openstack%2Fpython-muranoclient~master~I64fbf7ddf6edd44179072332a76c8c1e75bdff61,openstack/python-muranoclient,master,,I64fbf7ddf6edd44179072332a76c8c1e75bdff61,Add irrelevant-files for muranoclient-functional-test-mysql-backend job,MERGED,2019-05-28 11:47:13.000000000,2019-05-29 01:35:55.000000000,2019-05-29 01:35:55.000000000,7,0,0,661734,82e1a43d1c93eea81ad9ff418b64498c410fc21e,6,2,1,1,14107,zhurong,zhurong,"Add irrelevant-files for muranoclient-functional-test-mysql-backend job

Change-Id: I64fbf7ddf6edd44179072332a76c8c1e75bdff61
"
openstack%2Fpython-muranoclient~master~Ia2e50bbdb2d060c9b60fcc0ffa8f5247b6d4e887,openstack/python-muranoclient,master,,Ia2e50bbdb2d060c9b60fcc0ffa8f5247b6d4e887,Fix sphinx requirements,MERGED,2019-05-28 11:34:14.000000000,2019-05-29 01:25:05.000000000,2019-05-29 01:25:05.000000000,2,1,0,661729,931bb124207c316bbeef47dfdd2d32a4b162a2db,7,2,2,1,14107,zhurong,zhurong,"Fix sphinx requirements

Change-Id: Ia2e50bbdb2d060c9b60fcc0ffa8f5247b6d4e887
"
openstack%2Frequirements~master~I4d2fd2d9ef4ce81041963dbcd0d9bbc8ee5ebbbf,openstack/requirements,master,new-release,I4d2fd2d9ef4ce81041963dbcd0d9bbc8ee5ebbbf,update constraint for python-novaclient to new release 14.1.0,MERGED,2019-05-28 15:26:26.000000000,2019-05-29 01:22:57.000000000,2019-05-29 01:22:57.000000000,1,1,0,661785,683cef296a533e3d427b7def34defdc1cf97b989,6,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-novaclient to new release 14.1.0

Change-Id: I4d2fd2d9ef4ce81041963dbcd0d9bbc8ee5ebbbf
meta:version: 14.1.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Surya Seetharaman <suryaseetharaman.9@gmail.com>
meta:release:Commit: Surya Seetharaman <suryaseetharaman.9@gmail.com>
meta:release:Change-Id: Ie3b0e39fecb2244550629f6eacb886e49e20c9df
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fhorizon~master~Ib30b7e9efb4031454f0ba3cd9588ed829953bb67,openstack/horizon,master,Bug#use_required_attribute,Ib30b7e9efb4031454f0ba3cd9588ed829953bb67,Add use_required_attribute = False in some form,NEW,2019-05-28 03:01:09.000000000,2019-05-29 01:21:59.000000000,,9,0,5,661666,d11c15c4e21a464783cbc1126401bf69c15006a9,4,3,1,7,27822,pengyuesheng,pengyuesheng,"Add use_required_attribute = False in some form

When an element is required and hidden,
the browser will report an error when submitting the form.

Here is the code location where Django adds the required attribute to the element:
https://github.com/django/django/blob/master/django/forms/boundfield.py#L221-L222

Change-Id: Ib30b7e9efb4031454f0ba3cd9588ed829953bb67
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I88075174dfffe4117c8ccc31f28ed9f43bf8b4e7,openstack/tripleo-heat-templates,stable/stein,add_domain_option_to_ipaclient-stable/stein,I88075174dfffe4117c8ccc31f28ed9f43bf8b4e7,Add domain and no-ntp options to ipaclient,MERGED,2019-05-28 14:44:54.000000000,2019-05-29 01:04:49.000000000,2019-05-29 01:04:49.000000000,29,0,0,661773,9f3bb796fafb8809c8017996852a537dda20e817,8,5,1,2,14250,Grzegorz Grasza,xek,"Add domain and no-ntp options to ipaclient

Two options have proven useful for deployers.
--domain: To specify the IdM DNS domain in cases where the client is
  not in the same DNS domain as the IdM server
--no-ntp: To ensure that the idm-client-install does not change the
  NTP settings when they have already been set by puppet.

The patch adds both these options.

Change-Id: I88075174dfffe4117c8ccc31f28ed9f43bf8b4e7
(cherry picked from commit edfbeae9182108be15ad020ec26167934525eb57)
"
openstack%2Fmurano-pkg-check~master~Ibd2a7d730c5ef3ab95829a56c6166f4830842c61,openstack/murano-pkg-check,master,,Ibd2a7d730c5ef3ab95829a56c6166f4830842c61,Fix sphinx requirements,MERGED,2019-05-28 11:32:25.000000000,2019-05-29 00:49:04.000000000,2019-05-29 00:49:04.000000000,3,2,0,661728,d5110a306b15b13d3296f62818aebfa79ce2a14d,8,2,3,2,14107,zhurong,zhurong,"Fix sphinx requirements

Change-Id: Ibd2a7d730c5ef3ab95829a56c6166f4830842c61
"
openstack%2Ftempest~master~I05e10af75eb5235d5130f1dec9f0c2b13e418bb9,openstack/tempest,master,tempest,I05e10af75eb5235d5130f1dec9f0c2b13e418bb9,Move to opendev,ABANDONED,2019-04-30 03:36:30.000000000,2019-05-29 00:01:18.000000000,,5,5,6,656437,a74f52ea06442e5a05831c5908fb8088c4f0a0a9,17,7,3,1,28613,tony_zhang,tonybrad,"Move to opendev

Change-Id: I05e10af75eb5235d5130f1dec9f0c2b13e418bb9
"
openstack%2Frpm-packaging~master~I9001e83fff2aa24e95918d20f093c9da0c766a1d,openstack/rpm-packaging,master,python-glareclient,I9001e83fff2aa24e95918d20f093c9da0c766a1d,Update the python-glareclient to 1.0.0,ABANDONED,2019-05-27 03:49:43.000000000,2019-05-28 23:59:30.000000000,,18,17,0,661524,536b3fd9ec72501adfc9125e6be245b5d7b2d9ce,16,5,3,1,28613,tony_zhang,tonybrad,"Update the python-glareclient to 1.0.0

Change-Id: I9001e83fff2aa24e95918d20f093c9da0c766a1d
"
openstack%2Ftripleo-puppet-elements~master~I4bcafb92bd307fe469bcab4db760d4245ceecb76,openstack/tripleo-puppet-elements,master,fix-ci,I4bcafb92bd307fe469bcab4db760d4245ceecb76,Add upper constraints,MERGED,2019-05-20 19:27:24.000000000,2019-05-28 23:39:40.000000000,2019-05-28 23:39:40.000000000,3,1,0,660198,98368f114f9a96c7dbb1284c82042362ea26fc50,7,3,1,1,14985,Alex Schultz,mwhahaha,"Add upper constraints

py27 is currently broken due to a Sphinx failure that is resolved if you
properly include the upper constraints.

Change-Id: I4bcafb92bd307fe469bcab4db760d4245ceecb76
"
openstack%2Fneutron~master~Idd766bd069eda85ab6876a78b8b050ee5ab66cf6,openstack/neutron,master,support-multiple-external-networks,Idd766bd069eda85ab6876a78b8b050ee5ab66cf6,Support multiple external networks in L3 agent,MERGED,2019-05-27 00:29:51.000000000,2019-05-28 23:00:36.000000000,2019-05-28 23:00:36.000000000,8,26,0,661509,0b3f5f429d2e495eb78d78d46186092ac735e0d5,24,9,3,2,4694,Miguel Lavalle,minsel,"Support multiple external networks in L3 agent

Change [1] removed the deprecated option external_network_bridge. Per
commit message in change [2], ""l3 agent can handle any networks by
setting the neutron parameter external_network_bridge and
gateway_external_network_id to empty"". So the consequence of [1] was to
introduce a regression whereby multiple external networks are not
supported by the L3 agent anymore.

This change proposes a new simplified rule. If
gateway_external_network_id is defined, that is the network that the L3
agent will use. If not and multiple external networks exist, the L3
agent will handle any of them.

[1] https://review.opendev.org/#/c/567369/
[2] https://review.opendev.org/#/c/59359

Change-Id: Idd766bd069eda85ab6876a78b8b050ee5ab66cf6
Closes-Bug: #1824571
"
openstack%2Foslo.service~master~I030d79a9fb7639553a9f469b54e1888aa62bcef5,openstack/oslo.service,master,sphinx-reqs,I030d79a9fb7639553a9f469b54e1888aa62bcef5,Stop using pbr to build docs,MERGED,2019-05-13 16:32:09.000000000,2019-05-28 22:40:28.000000000,2019-05-28 22:40:28.000000000,1,1,0,658858,b85818a4180ef97bc800bfea129cd5139047ee10,17,4,2,1,6928,Ben Nemec,bnemec,"Stop using pbr to build docs

We should be calling sphinx-build directly now.

Change-Id: I030d79a9fb7639553a9f469b54e1888aa62bcef5
"
openstack%2Fneutron~master~I9c6651ed192669b91a4683f5f3bd2795e8d8276a,openstack/neutron,master,bug/1798475,I9c6651ed192669b91a4683f5f3bd2795e8d8276a,Set neutron-keepalived-state-change proctitle,MERGED,2019-05-23 07:24:40.000000000,2019-05-28 22:37:41.000000000,2019-05-28 22:37:41.000000000,16,3,2,660905,26388a9952dcd186759b7d63a12d64a60a15ceef,20,7,1,3,9531,liuyulong,LIU-Yulong,"Set neutron-keepalived-state-change proctitle

Then we can count the process correctly.

Related-Bug: #1798475
Change-Id: I9c6651ed192669b91a4683f5f3bd2795e8d8276a
"
openstack%2Fos-net-config~master~Idcf2304f2a6aa02c9d96afc307cdf8dd0d513480,openstack/os-net-config,master,,Idcf2304f2a6aa02c9d96afc307cdf8dd0d513480,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:39:48.000000000,2019-05-28 22:15:46.000000000,2019-05-28 22:15:45.000000000,6,6,0,655058,6d38af73e2ff2892ff63946b1eacfc35cc711694,12,4,3,2,22165,caoyuan,caoyuan,"Replace git.openstack.org URLs with opendev.org URLs

1. Replace git.openstack.org URLs with opendev.org URLs
2. Remove unncessary ""==""

Change-Id: Idcf2304f2a6aa02c9d96afc307cdf8dd0d513480
"
openstack%2Fdesignate~master~Ib31fcbbbd6f3f3eb6f6aed0ec0c8e03da3782189,openstack/designate,master,,Ib31fcbbbd6f3f3eb6f6aed0ec0c8e03da3782189,Fix api-ref building,MERGED,2019-05-25 09:53:53.000000000,2019-05-28 22:11:25.000000000,2019-05-28 22:11:25.000000000,3,4,0,661440,2d091bfdbfe0f7d2857eb7920dfd4cfd6c406d0b,9,3,2,1,6547,Andreas Jaeger,jaegerandi,"Fix api-ref building

The tox environment was missing deps and thus failed, add those in.

Remove outdated comment, -W is used.

Change-Id: Ib31fcbbbd6f3f3eb6f6aed0ec0c8e03da3782189
"
openstack%2Fdesignate~master~I4738793e1f342f992e71f829e886398e1f7b9e67,openstack/designate,master,standardize_unit_tests,I4738793e1f342f992e71f829e886398e1f7b9e67,Removing unused code and updated unit tests readme,MERGED,2019-05-25 20:37:47.000000000,2019-05-28 22:03:41.000000000,2019-05-28 22:03:40.000000000,2,230,0,661469,201d8be1450b20ade0a5edd4a6465d2b147cb09d,8,3,1,5,22623,Erik Olof Gunnar Andersson,eoandersson,"Removing unused code and updated unit tests readme

* Removed unused ipa test.
* Removed redundant resource test.
* Updated README.

Change-Id: I4738793e1f342f992e71f829e886398e1f7b9e67
"
openstack%2Fopenstack-helm-infra~master~I8f4e91a336bc6f4128f69343c820c7cdaa4c4933,openstack/openstack-helm-infra,master,,I8f4e91a336bc6f4128f69343c820c7cdaa4c4933,Add enhancement to mariadb backup,ABANDONED,2019-05-14 15:28:45.000000000,2019-05-28 21:51:16.000000000,,445,83,8,659100,c3cd6145b455753df4883dd30ef1432f17a78899,10,4,2,9,28875,Koffi Nogbe,kn4078,"Add enhancement to mariadb backup

  * Enabling swift remote capability to the backup script
  * Enabling swift remote capability to the restore script

Change-Id: I8f4e91a336bc6f4128f69343c820c7cdaa4c4933
"
openstack%2Fopenstack-helm-infra~master~I721b745017dc1ea7ae05dfd9f8d5dd08d0965985,openstack/openstack-helm-infra,master,644388,I721b745017dc1ea7ae05dfd9f8d5dd08d0965985,Patroni inclusion work for HA Postgres,MERGED,2019-03-18 18:30:04.000000000,2019-05-28 21:51:03.000000000,2019-05-28 21:51:03.000000000,722,73,65,644388,9efb353b83c59e891b1b85dc6567044de0f5ac17,304,19,138,14,28718,Doug Aaser,daaser,"Patroni inclusion work for HA Postgres

This patchset aims to add HA Clustering support for Postgres. HA Clustering
provides automatic failover in the event of the database going down in addition
to keeping replicas of the database for rebuilding in the event of a node
going down. To achieve this clustering we use
[Patroni](https://github.com/zalando/patroni) which offers HA clustering
support for Postgres.

Patroni is a daemon that runs in the background and keeps track of which
node in your cluster is currently the leader node and routes all traffic
on the Postgresql endpoint to that node. If the leader node goes down,
Patroni holds an election to chose a new leader and updates the endpoint
to route traffic accordingly. All communication between nodes is done by
a Patroni created endpoint, seperate from the externally facing Postgres
endpoint.

Note that, although the postgresql helm chart can be upgraded from
non-patroni to patroni clustering, the previous `postgresql`
endpoints object (which is not directly managed by helm) must be
deleted via an out-of-band mechanism so that it may be replaced by the
patroni-managed endpoints.  If Postgres itself is leveraged for the
deployment process, this must be done with careful timing.  Note that
the old endpoints had a port named ""db"", and the new endpoints has
a port named ""postgresql"".

- Picking up patchset: https://review.openstack.org/#/c/591663

Co-authored-by: Tony Sorrentino <as1413@att.com>
Co-authored-by: Randeep Jalli <rj2083@att.com>
Co-authored-by: Pete Birley <pete@port.direct>
Co-authored-by: Matt McEuen <mm9745@att.com>

Change-Id: I721b745017dc1ea7ae05dfd9f8d5dd08d0965985
"
openstack%2Fopenstack-ansible-tests~stable%2Fqueens~I3968602b5ddf8a7d3f4292bbc8744d8d6daf1395,openstack/openstack-ansible-tests,stable/queens,update_for_opendev_queens,I3968602b5ddf8a7d3f4292bbc8744d8d6daf1395,opendev: fix cutover bugs,ABANDONED,2019-04-29 16:02:30.000000000,2019-05-28 21:31:43.000000000,,2,2,0,656363,22eba18dd6a0053ebb59f222cb825c26993c73c7,12,2,1,2,290,Antony Messerli,antonym,"opendev: fix cutover bugs

- Update ZUUL_TESTS_CLONE_LOCATION path to new OpenDev path
- Update location of clones repos

Change-Id: I3968602b5ddf8a7d3f4292bbc8744d8d6daf1395
"
openstack%2Fnetworking-l2gw~master~I52a31d4728b9f656a0263422a00063b027bde0b8,openstack/networking-l2gw,master,655326,I52a31d4728b9f656a0263422a00063b027bde0b8,Use opendev repository,MERGED,2019-04-24 07:01:54.000000000,2019-05-28 21:10:16.000000000,2019-05-28 21:10:15.000000000,5,5,1,655326,e419adee007d08bf61aa86bcc0a15e2027775674,15,4,3,3,26584,hou le,houl7,"Use opendev repository

Change-Id: I52a31d4728b9f656a0263422a00063b027bde0b8
"
openstack%2Ftripleo-heat-templates~master~Ic928d3562583291f4d640d6ccdc3d9d9b22a7866,openstack/tripleo-heat-templates,master,octavia-driver-agent,Ic928d3562583291f4d640d6ccdc3d9d9b22a7866,Re-add amphora flavor management settings,MERGED,2019-03-13 14:14:34.000000000,2019-05-28 21:01:12.000000000,2019-05-28 18:17:08.000000000,15,2,0,643051,504f8fc750f18538d98111f2cd4429afc8583acf,49,9,13,1,6681,Brent Eagles,beagles,"Re-add amphora flavor management settings

The octavia amphora flavor config was inadvertantly removed during the
flattening stage. This adds it back.

Change-Id: Ic928d3562583291f4d640d6ccdc3d9d9b22a7866
"
openstack%2Fpuppet-tripleo~master~Id2c61fd10df8c5427416fd6e6914e95502c3a714,openstack/puppet-tripleo,master,bug/1830702,Id2c61fd10df8c5427416fd6e6914e95502c3a714,Fix amphora provider driver description,MERGED,2019-05-28 09:13:52.000000000,2019-05-28 20:56:48.000000000,2019-05-28 18:39:46.000000000,2,2,0,661703,c6858e7a1cd15fa0eb8563973ae7e52b406174d8,9,5,1,2,6469,Carlos Gonalves,cgoncalves,"Fix amphora provider driver description

Closes-Bug: #1830702
Change-Id: Id2c61fd10df8c5427416fd6e6914e95502c3a714
"
openstack%2Fopenstack-ansible-os_tempest~master~I7058bf708648753981bcd43d7a0ad80067a49b0b,openstack/openstack-ansible-os_tempest,master,osa/el8-support,I7058bf708648753981bcd43d7a0ad80067a49b0b,[redhat] Update variables to be version agnostic,MERGED,2019-05-10 04:50:39.000000000,2019-05-28 20:49:32.000000000,2019-05-28 20:49:32.000000000,0,0,0,658262,d429b800e45472e9d0e3be93e1badba5173abba5,17,7,2,1,1004,Mohammed Naser,mnaser,"[redhat] Update variables to be version agnostic

The RedHat-based operating systems such as CentOS have a pretty
stable list of packages, therefore, we don't need to pin it by
version and we can instead move to a much more generic redhat.yml
which will support a bigger range of systems.

Change-Id: I7058bf708648753981bcd43d7a0ad80067a49b0b
"
openstack%2Fcinder~master~Ie3a6552b7d3b4c2333c913f645a877c4a24f554d,openstack/cinder,master,bug/1813210,Ie3a6552b7d3b4c2333c913f645a877c4a24f554d,NetApp SolidFire: handle DuplicateSfVolumeNames exception,ABANDONED,2019-05-02 13:54:35.000000000,2019-05-28 20:49:32.000000000,,293,48,0,656778,1c28fee65e26b8a897dddf5340e26119dd140026,45,33,1,2,28710,Jay Rubenstein,jarbassaidai,"NetApp SolidFire: handle DuplicateSfVolumeNames exception

    When the cinder SolidFire driver is used in a high availability
    environment that is set to active/active with multiple
    c-volume-solidfire services running, multiple SolidFire template image
    volumes may be created for the same nova-image-uuid.

    When this is happens the DuplicateSfVolumeNames exception is thrown,
    the cinder-scheduler will retry the operation unsuccessfully. The work
    around is to use the SolidFire interface/api and remove the duplicate
    sf-template-cache-volume.

    This fixes the DuplicateSfVolumesName by catching the exception and
    deleting the all older sf-template-cache-volumes leaving the newest.

    ""lock_image_operation_id"" and ""lock_source_operation_id"" are now set
     to be external locks as a default this should help the unsupported
     use in High Availability(HA) Active/Active (AA) configurations

Change-Id: Ie3a6552b7d3b4c2333c913f645a877c4a24f554d
Closes-Bug:1813210
"
openstack%2Fcinder~master~I6204aabcafa3b7b77167238d4344355370dc4567,openstack/cinder,master,bug/1813210,I6204aabcafa3b7b77167238d4344355370dc4567,NetApp SolidFire: handle DuplicateSfVolumeNames exception,ABANDONED,2019-03-27 20:08:29.000000000,2019-05-28 20:48:55.000000000,,253,14,19,648228,7928d31dc46daa6c87a52874a647d793d652dd62,75,37,3,2,28710,Jay Rubenstein,jarbassaidai,"NetApp SolidFire: handle DuplicateSfVolumeNames exception

When the cinder SolidFire driver is used in a high availability
environment that is set to active/active with multiple
c-volume-solidfire services running, multiple SolidFire template image
volumes may be created for the same nova-image-uuid.

When this is happens the DuplicateSfVolumeNames exception is thrown,
the cinder-scheduler will retry the operation unsuccessfully. The work
around is to use the SolidFire interface/api and remove the duplicate
sf-template-cache-volume.

This fixes the DuplicateSfVolumesName by catching the exception and
deleting the all older sf-template-cache-volumes leaving the newest.

Change-Id: I6204aabcafa3b7b77167238d4344355370dc4567
Closes-Bug:1813210
"
openstack%2Fkeystoneauth~master~Id4db764200be068df0dbe96306c2d53f79b49af7,openstack/keystoneauth,master,,Id4db764200be068df0dbe96306c2d53f79b49af7,Blacklist bandit 1.6.0 & cap sphinx for 2.7,MERGED,2019-05-23 09:44:38.000000000,2019-05-28 20:24:13.000000000,2019-05-28 20:24:13.000000000,3,3,2,660956,70720ff33617193c7ba8e1a58110f13726b08fe4,12,4,3,2,27621,Vishakha Agarwal,Vishakha,"Blacklist bandit 1.6.0 & cap sphinx for 2.7

The latest version of bandit has broken directory
exclusion, so multiple test files are getting
flagged. This change blocks version 1.6.0 while
this issue is fixed for 1.6.1.

This change also caps sphinx at <2.0.0 for python version 2.7.

Change-Id: Id4db764200be068df0dbe96306c2d53f79b49af7
"
openstack%2Fnetworking-l2gw~master~I751b716cf22ce91197fc30e44969957acdef7e84,openstack/networking-l2gw,master,bump_lower_constraints,I751b716cf22ce91197fc30e44969957acdef7e84,bump lower-constraints,MERGED,2019-05-22 14:09:59.000000000,2019-05-28 20:13:00.000000000,2019-05-28 20:13:00.000000000,8,4,1,660723,5e73b5b044e305869a9d0332741b95000d15b65c,14,4,2,3,8313,Lajos Katona,elajkat,"bump lower-constraints

bump lower-constraints for neutron, ovs, psycopg2 and SQLAlchemy, and as
extra fix the failing unit test.

Change-Id: I751b716cf22ce91197fc30e44969957acdef7e84
Depends-On: https://review.opendev.org/659960
"
openstack%2Fproject-config~master~I631e3e3592a9be5c7da642cf34eec6d9758bf161,openstack/project-config,master,letsencrypt,I631e3e3592a9be5c7da642cf34eec6d9758bf161,Switch rax.dfw mirror to opendev.org,MERGED,2019-05-24 06:07:33.000000000,2019-05-28 20:05:42.000000000,2019-05-28 20:05:41.000000000,9,1,2,661187,05c0d363df5c1f32338d2da76bb0ba0734401eb5,12,4,2,1,7118,Ian Wienand,iwienand,"Switch rax.dfw mirror to opendev.org

We now have an opendev.org mirror in rax.dfw region (see
I26b9ed1e21e2111f48bc7ecc384880c274eed213 and related changes).

Switch this in for initial testing.  As mentioned, this can grow as we
bring new mirrors online, but will eventually be removed once all
opendev.org mirrors are active.

Change-Id: I631e3e3592a9be5c7da642cf34eec6d9758bf161
"
openstack%2Fkolla~stable%2Frocky~I0a5fc2d47ccb4f64dbf8fca7092240cd40777b28,openstack/kolla,stable/rocky,feature/run_ceph_gates_on_ceph_change-stable/rocky,I0a5fc2d47ccb4f64dbf8fca7092240cd40777b28,Add CI trigger for ceph jobs,MERGED,2019-05-23 09:33:50.000000000,2019-05-28 20:02:32.000000000,2019-05-28 20:02:32.000000000,8,0,0,660955,e4929da14d971a408f0193abcaedb3880459f244,13,4,2,3,14826,Mark Goddard,mgoddard,"Add CI trigger for ceph jobs

Add a trigger for running CI ceph jobs when docker/ceph/.* and
docker/cinder/.* files are being changed.

Change-Id: I0a5fc2d47ccb4f64dbf8fca7092240cd40777b28
(cherry picked from commit 14f1507d2c2002c05cb30196b6650f6a8b23206a)
"
openstack%2Fopenstack-ansible-os_nova~master~I53de65d666a014b23a69b246591fc0445f3ad64d,openstack/openstack-ansible-os_nova,master,osa/db-refactor,I53de65d666a014b23a69b246591fc0445f3ad64d,db_setup: refactor database setup to a common file,MERGED,2019-05-03 20:43:20.000000000,2019-05-28 20:00:36.000000000,2019-05-28 20:00:36.000000000,83,78,0,657038,b9e681cb8f5d4ce21e32246da4f83d96bc22cb7c,20,4,7,3,1004,Mohammed Naser,mnaser,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Change-Id: I53de65d666a014b23a69b246591fc0445f3ad64d
"
openstack%2Fkolla~master~Ic1b25b37d06b429a112f1418a79d385d505bb1e9,openstack/kolla,master,pedro/fluentd-ubuntu-master,Ic1b25b37d06b429a112f1418a79d385d505bb1e9,Install fluentd gem on debian/ubuntu for non x86_64,MERGED,2019-02-22 15:50:10.000000000,2019-05-28 19:04:16.000000000,2019-05-28 19:04:16.000000000,31,7,6,638692,35394e25a33c6bbfdc2e1853adfa8f2a1a5614c1,40,9,5,4,16363,Pedro Alvarez,pedroalvarez,"Install fluentd gem on debian/ubuntu for non x86_64

The package used to install fluentd on debian/ubuntu is not
available for architectures other than x86_64. For those cases
install fluentd as a gem until the package 'td-agent' is available
for more architectures.

Change-Id: Ic1b25b37d06b429a112f1418a79d385d505bb1e9
"
openstack%2Fopenstack-helm-images~master~I9bd653a55cd09df1e1fd2daa45c81a987eec5f73,openstack/openstack-helm-images,master,patroni_image,I9bd653a55cd09df1e1fd2daa45c81a987eec5f73,Add Patroni image,MERGED,2019-05-06 17:49:37.000000000,2019-05-28 18:46:37.000000000,2019-05-28 18:44:43.000000000,102,0,0,657418,1f04055f2f0f82f6b4e3eb3ba14e8f6fc0ddaddf,15,11,3,3,28718,Doug Aaser,daaser,"Add Patroni image

Thie patch adds the Patroni Dockerfile to the
openstack-helm-images repo.

Change-Id: I9bd653a55cd09df1e1fd2daa45c81a987eec5f73
"
openstack%2Fkolla~stable%2Frocky~Ib3953b49247bb36ac8ce25578c05c6bcb2a1905a,openstack/kolla,stable/rocky,bug/1830184-stable/rocky,Ib3953b49247bb36ac8ce25578c05c6bcb2a1905a,Bump Monasca Fluentd plugin version,MERGED,2019-05-23 14:48:03.000000000,2019-05-28 18:44:26.000000000,2019-05-28 18:44:26.000000000,1,1,0,661016,594b0645307432ba007657a135dd8fa34d84c7eb,8,4,1,1,17669,Doug Szumski,DougSzumski,"Bump Monasca Fluentd plugin version

Bump version to include support for setting log message field
name.

Change-Id: Ib3953b49247bb36ac8ce25578c05c6bcb2a1905a
Partial-Bug: #1830184
"
openstack%2Fkolla-ansible~stable%2Frocky~Ie4dbaf54b2fee1ab9a6d5593fe34267dcd4e91db,openstack/kolla-ansible,stable/rocky,pin-ara-1.0,Ie4dbaf54b2fee1ab9a6d5593fe34267dcd4e91db,Pin ARA to <1.0.0 and use stable setup interface to find callback plugin,MERGED,2019-05-24 15:01:36.000000000,2019-05-28 18:39:45.000000000,2019-05-28 18:39:45.000000000,3,3,0,661326,ccd9bb837702539551bd31b425b25217da4f3bbf,7,3,1,1,9061,David Moreau Simard,dmsimard,"Pin ARA to <1.0.0 and use stable setup interface to find callback plugin

ARA 1.0 will be released in the near future and isn't backwards
compatible.
Pin it so it doesn't break things unexpectedly.

ARA ships simple setup modules to help figure out the paths
to where things are located.
These are backwards compatible from ARA 1.0 to 0.x.

Change-Id: Ie4dbaf54b2fee1ab9a6d5593fe34267dcd4e91db
(cherry picked from commit 86e9b0831c89352d062bb828e28af33240b94f89)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I294eba826b98c5793336815282f766e3d2e60a51,openstack/tripleo-heat-templates,stable/stein,bug/1776869-stable/stein,I294eba826b98c5793336815282f766e3d2e60a51,Try a timesync as part of first boot,MERGED,2019-05-22 15:39:18.000000000,2019-05-28 18:36:02.000000000,2019-05-28 18:36:01.000000000,109,0,0,660763,b23fd9f708fb84ee1187a06e2c0bc1c4ca21637f,8,4,1,3,14985,Alex Schultz,mwhahaha,"Try a timesync as part of first boot

We're running into issues where if someone creates a firstboot script
that touches a file that will eventually be mounted into a container, it
can fail if the time of the file ends up being in the future due to a
later timesync. Let's try a basic timesync bootstrap as part of
cloud-init to address the case of configuration changes occuring prior
to the host_prep_tasks where we traditionally configure chrony/ntp

Depends-On: https://review.opendev.org/#/c/659398
Change-Id: I294eba826b98c5793336815282f766e3d2e60a51
Related-Bug: #1776869
(cherry picked from commit eafe3908535ec766866efb74110e057ea2509c45)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I294eba826b98c5793336815282f766e3d2e60a51,openstack/tripleo-heat-templates,stable/rocky,bug/1776869-stable/rocky,I294eba826b98c5793336815282f766e3d2e60a51,Try a timesync as part of first boot,MERGED,2019-05-22 15:39:27.000000000,2019-05-28 18:36:00.000000000,2019-05-28 18:36:00.000000000,109,0,0,660764,45dcd0e5a8334d8bd99c9d9764955e00b707c25d,11,3,3,3,14985,Alex Schultz,mwhahaha,"Try a timesync as part of first boot

We're running into issues where if someone creates a firstboot script
that touches a file that will eventually be mounted into a container, it
can fail if the time of the file ends up being in the future due to a
later timesync. Let's try a basic timesync bootstrap as part of
cloud-init to address the case of configuration changes occuring prior
to the host_prep_tasks where we traditionally configure chrony/ntp

NOTE: For Rocky, we use ntp instead of chrony.

Change-Id: I294eba826b98c5793336815282f766e3d2e60a51
Related-Bug: #1776869
(cherry picked from commit eafe3908535ec766866efb74110e057ea2509c45)
"
openstack%2Ftempest~master~I6ed41b02041d38c2c92c58b0d3dd6613d03da3f7,openstack/tempest,master,,I6ed41b02041d38c2c92c58b0d3dd6613d03da3f7,Add APIMicroversionFixture to library interface,MERGED,2019-04-13 01:23:44.000000000,2019-05-28 18:22:07.000000000,2019-05-28 18:22:06.000000000,149,2,17,652181,ad8737c7f2ce76e8279e34baebd5280e8be723bd,47,7,4,4,8556,Ghanshyam,ghanshyam,"Add APIMicroversionFixture to library interface

APIMicroversionFixture is used to set the microversion on
service clients which will take care of reseting the microversion.

This interface has been added to set the microversion on all supported
service clients which use microverison. User can set multiple
service microversion all together.

Using the new interface in compute tests to make sure it is all
working in serial and parallel testing.

Change-Id: I6ed41b02041d38c2c92c58b0d3dd6613d03da3f7
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ifd8f59bd03c9bab1283e580a64957f201eb8f335,openstack/tripleo-heat-templates,stable/queens,bug/1809313,Ifd8f59bd03c9bab1283e580a64957f201eb8f335,Only add internal_api_virtual_ip if InternalApi in network_data,MERGED,2019-05-23 15:26:01.000000000,2019-05-28 17:59:27.000000000,2019-05-28 17:59:27.000000000,6,0,0,661036,4a377819d88280c6c6fa7b6baa36b42c6778fff3,11,6,1,1,24245,Harald Jenss,harald.jensas,"Only add internal_api_virtual_ip if InternalApi in network_data

Add's a conditional to only include internal_api_virtual_ip if
InternalApi network is defined in custom networks.

According to code comment internal_api_virtual_ip is only used
by Contrail.

Conflicts:
    puppet/all-nodes-config.j2.yaml

Change-Id: Ifd8f59bd03c9bab1283e580a64957f201eb8f335
Closes-Bug: #1772124
(cherry picked from commit 868c7685f19acdfba4aaa29ae1e12522d904f95f)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ifd8f59bd03c9bab1283e580a64957f201eb8f335,openstack/tripleo-heat-templates,stable/rocky,bug/1809313,Ifd8f59bd03c9bab1283e580a64957f201eb8f335,Only add internal_api_virtual_ip if InternalApi in network_data,MERGED,2019-05-23 15:25:36.000000000,2019-05-28 17:59:24.000000000,2019-05-28 17:59:24.000000000,6,0,0,661035,3ed420e8a1df7715ef4f4ba9dc4d4043889a279f,10,5,1,1,24245,Harald Jenss,harald.jensas,"Only add internal_api_virtual_ip if InternalApi in network_data

Add's a conditional to only include internal_api_virtual_ip if
InternalApi network is defined in custom networks.

According to code comment internal_api_virtual_ip is only used
by Contrail.

Change-Id: Ifd8f59bd03c9bab1283e580a64957f201eb8f335
Closes-Bug: #1772124
(cherry picked from commit 868c7685f19acdfba4aaa29ae1e12522d904f95f)
"
openstack%2Fnova-specs~master~I615aa63a4bfe367dc93bf6805ea0038591eebd8b,openstack/nova-specs,master,bp/amd-sev-libvirt-support,I615aa63a4bfe367dc93bf6805ea0038591eebd8b,Update SEV work item to new approach based on MEM_ENCRYPTION_CONTEXT,MERGED,2019-04-25 15:00:13.000000000,2019-05-28 17:58:33.000000000,2019-05-28 17:58:33.000000000,4,3,2,655717,b8d5531fa7f44774aa3778215afef98f6f87905e,13,7,2,1,2394,Adam Spiers,adam.spiers,"Update SEV work item to new approach based on MEM_ENCRYPTION_CONTEXT

Between the Stein and Train versions of the AMD SEV spec, the design
pivoted from using a trait to using a resource class.  However one
work item was missed from the switch, so fix it.

The significant point here is that the original RequestSpec doesn't
necessarily contain the SEV trait, e.g. if the user or operator has no
preference whether to boot the VM using SEV or some competing
technology.  In this case the placement service will ensure that
launch happens on a host which is capable of *some* kind of memory
encryption, and then later at spawn-time the virt driver can figure
out which technology can be used to deliver it.  This work item covers
the latter stage.

Change-Id: I615aa63a4bfe367dc93bf6805ea0038591eebd8b
blueprint: amd-sev-libvirt-support
"
openstack%2Fopenstack-helm-infra~master~I84353a2daa2ce56ff59882a8d33203286ed27e06,openstack/openstack-helm-infra,master,fluentd-daemonset-support,I84353a2daa2ce56ff59882a8d33203286ed27e06,Fluentd: Support Daemonset deployment,MERGED,2019-05-28 13:25:38.000000000,2019-05-28 17:50:43.000000000,2019-05-28 17:50:42.000000000,264,163,0,661753,bdaf866a4e6bd86c9ecad3c5afebad5a24427b76,8,4,1,15,17591,Steve Wilkerson,srwilkers,"Fluentd: Support Daemonset deployment

This adds required changes to the Fluentd chart to allow for
deploying Fluentd as either a deployment or a daemonset. This
follows the pattern laid out by the ingress chart. This also
updates the single and multinode jobs to deploy fluentd as both
a daemonset and a deployment for validation

Change-Id: I84353a2daa2ce56ff59882a8d33203286ed27e06
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fneutron-tempest-plugin~master~I728cd8252d27e27e91bd95e4734d9db470dee35a,openstack/neutron-tempest-plugin,master,bug/1824248,I728cd8252d27e27e91bd95e4734d9db470dee35a,Add API test case to check if SG displays all rules,MERGED,2019-05-20 16:53:04.000000000,2019-05-28 17:43:05.000000000,2019-05-28 17:43:05.000000000,22,1,5,660175,87c3f941a3dd168d64226a4e238545ed69e05383,29,6,5,1,11975,Slawek Kaplonski,slaweq,"Add API test case to check if SG displays all rules

This patch adds new API test which checks if owner of security group
can see rules which belongs to his security group even if rule was
created and belongs to other user (admin).

Patch for master branch:
Depends-On: https://review.opendev.org/660174

Backport to stable/Stein:
Depends-On: https://review.opendev.org/661281

Backport to stable/Rocky:
Depends-On: https://review.opendev.org/661283

Backport to stable/Queens:
Depends-On: https://review.opendev.org/661284

Change-Id: I728cd8252d27e27e91bd95e4734d9db470dee35a
Related-Bug: #1824248
"
openstack%2Fneutron~stable%2Fqueens~I890c81bb6eabc5caa620ed4fcc4dc88ebfa6e1b0,openstack/neutron,stable/queens,bug/1824248,I890c81bb6eabc5caa620ed4fcc4dc88ebfa6e1b0,Show all SG rules belong to SG in group's details,MERGED,2019-05-24 13:16:57.000000000,2019-05-28 17:43:02.000000000,2019-05-28 17:43:02.000000000,3,1,0,661284,e02b66a858b552783d442b52e08f296c849951db,12,8,1,1,11975,Slawek Kaplonski,slaweq,"Show all SG rules belong to SG in group's details

If security group contains rule(s) which were created by different
user (admin), owner of this security group should see such rules
even if those rules don't belong to him.

This patch changes to use admin_context to get security group rules
in get_security_group() method to achieve that.

Test to cover such case is added in neutron-tempest-plugin repo.

Conflicts:
    neutron/db/securitygroups_db.py

Change-Id: I890c81bb6eabc5caa620ed4fcc4dc88ebfa6e1b0
Closes-Bug: #1824248
(cherry picked from commit 1920a37a94b7a9589dcf83f6ff0765068560dbf8)
(cherry picked from commit 252d80058cacc797fbfb970ad42031efe301b0e2)
"
openstack%2Fneutron~stable%2Frocky~I890c81bb6eabc5caa620ed4fcc4dc88ebfa6e1b0,openstack/neutron,stable/rocky,bug/1824248,I890c81bb6eabc5caa620ed4fcc4dc88ebfa6e1b0,Show all SG rules belong to SG in group's details,MERGED,2019-05-24 13:14:48.000000000,2019-05-28 17:41:55.000000000,2019-05-28 17:41:54.000000000,3,1,0,661283,252d80058cacc797fbfb970ad42031efe301b0e2,10,5,1,1,11975,Slawek Kaplonski,slaweq,"Show all SG rules belong to SG in group's details

If security group contains rule(s) which were created by different
user (admin), owner of this security group should see such rules
even if those rules don't belong to him.

This patch changes to use admin_context to get security group rules
in get_security_group() method to achieve that.

Test to cover such case is added in neutron-tempest-plugin repo.

Conflicts:
    neutron/db/securitygroups_db.py

Change-Id: I890c81bb6eabc5caa620ed4fcc4dc88ebfa6e1b0
Closes-Bug: #1824248
(cherry picked from commit 1920a37a94b7a9589dcf83f6ff0765068560dbf8)
"
openstack%2Fglance_store~master~I3c88b1cd8530365c503bf9a3c75b81def931a5e3,openstack/glance_store,master,correct-deprecation-warnings,I3c88b1cd8530365c503bf9a3c75b81def931a5e3,Modify deprecation warning for stores options,MERGED,2019-05-23 05:21:10.000000000,2019-05-28 17:41:11.000000000,2019-05-28 17:41:11.000000000,2,2,0,660880,a6de131ccc1de6c577c35cca9e5ae1fc631fed76,7,4,1,1,9303,Abhishek Kekane,abhishekkekane,"Modify deprecation warning for stores options

Modified deprecation warning message for 'stores' and
'default_store' config options. Both will be removed during
'U' development cycle.

Change-Id: I3c88b1cd8530365c503bf9a3c75b81def931a5e3
"
openstack%2Fopenstack-helm-infra~master~I360989c8eb23065d8e655d4583eb97338244412d,openstack/openstack-helm-infra,master,fix/py3,I360989c8eb23065d8e655d4583eb97338244412d,Fix python template,MERGED,2019-04-14 04:45:49.000000000,2019-05-28 17:39:25.000000000,2019-05-28 17:39:25.000000000,0,1,0,652255,6bae1b020d349ce30cf6e17893c70953d9510a30,21,6,5,1,20466,Tin Lam,tinlam,"Fix python template

This patch set removes an unused import that is not python3 compatible.

Change-Id: I360989c8eb23065d8e655d4583eb97338244412d
Signed-off-by: Tin Lam <tin@irrational.io>
"
