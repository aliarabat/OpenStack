id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fpython-tripleoclient~master~I5de4d68cc2669d37e7a667209423b9ac842136ff,openstack/python-tripleoclient,master,run-ansible-playbook,I5de4d68cc2669d37e7a667209423b9ac842136ff,New function: run_ansible_playbook,MERGED,2018-07-27 12:51:39.000000000,2018-08-03 00:08:29.000000000,2018-08-03 00:08:29.000000000,221,9,8,586538,edc7365c9094c9c84f6df07f39fb76135983bb0a,38,11,11,2,28223,Cedric Jeanneret,cjeanner,"New function: run_ansible_playbook

This new function allows to run ansible playbooks
in a convenient way, taking advantage of already existing
run_command_and_log - that latter method has been modified so
that we can get the process full state instead of just the exit
code.

It implements some checks in order to ensure the playbook exists,
and allows to set a temporary ansible configuration file in order
to avoid unwanted behaviors (like retry file creation, callback for
output, and so on).

Change-Id: I5de4d68cc2669d37e7a667209423b9ac842136ff
"
openstack%2Ftripleo-heat-templates~master~I4193436fdfd05bfd641fc32b58cc9bff24310a80,openstack/tripleo-heat-templates,master,designate-pools,I4193436fdfd05bfd641fc32b58cc9bff24310a80,Disable recursion in Designate-managed BIND,MERGED,2018-06-25 21:53:14.000000000,2018-08-03 00:08:27.000000000,2018-08-03 00:08:26.000000000,11,0,0,577937,c5dc8ef19a2bc3103761d5fc0fb705305c342f19,21,9,2,3,6928,Ben Nemec,bnemec,"Disable recursion in Designate-managed BIND

For security, it is best to split authoritative and recursive
nameservers.  This way a security vulnerability that only affects
one type of server won't provide an exploit for the other too.

For Designate, the managed BIND server is the authoritative one.
We can use Neutron's internal DNS server as the recursive server, or
users can point at their DNS server of choice.  To make sure our
defaults work out of the box, this change enables the Neutron
internal DNS by default and users can change that if they choose.

Since that means we no longer need recursion in BIND, we should shut
it off, which this also does.

Change-Id: I4193436fdfd05bfd641fc32b58cc9bff24310a80
"
openstack%2Ftripleo-heat-templates~master~Ie40af1d9121b0b53a16edd91f4af116b29ad0e9e,openstack/tripleo-heat-templates,master,designate-pools,Ie40af1d9121b0b53a16edd91f4af116b29ad0e9e,Expose dnsmasq_local_resolv option,MERGED,2018-06-25 21:53:14.000000000,2018-08-03 00:08:25.000000000,2018-08-03 00:08:24.000000000,8,0,0,577936,d4862bc7933234a2617c583088a4e56051af9dc1,17,9,2,1,6928,Ben Nemec,bnemec,"Expose dnsmasq_local_resolv option

This option enables the Neutron internal DNS server so instances
can resolve each other by name.  If for no other reason, this is
useful so that the default DNS server announced by neutron-dhcp is
valid.

Change-Id: Ie40af1d9121b0b53a16edd91f4af116b29ad0e9e
"
openstack%2Ftripleo-quickstart-extras~master~Ib728f85a37b976b84b3badb83b0b5e9fbb56fa2e,openstack/tripleo-quickstart-extras,master,clean-skip-pike,Ib728f85a37b976b84b3badb83b0b5e9fbb56fa2e,Cleaning up tempest skip tests for pike,MERGED,2018-08-01 15:05:00.000000000,2018-08-03 00:08:24.000000000,2018-08-03 00:08:24.000000000,0,51,0,587844,9f5558f0b7d557cb3b6d9f1dfb4df39822dd7739,18,13,1,1,8367,Arx Cruz,arxcruz,"Cleaning up tempest skip tests for pike

Mostly of the tests are now passing because it was fixed upstream,
cleaning up the passing ones.
Confirmed the removed tests are passing on periodic job

Change-Id: Ib728f85a37b976b84b3badb83b0b5e9fbb56fa2e
"
openstack%2Fswift~stable%2Fqueens~I619d41e62c16b25bd5f58d300a3dc71aa4dc75c2,openstack/swift,stable/queens,,I619d41e62c16b25bd5f58d300a3dc71aa4dc75c2,Fix SLO delete for accounts with non-ASCII names.,MERGED,2018-07-25 20:19:04.000000000,2018-08-03 00:00:43.000000000,2018-08-03 00:00:43.000000000,42,2,0,585874,207522a00e224f79342c02d91fd8e674e163f54f,7,4,1,2,15343,Tim Burke,tburke,"Fix SLO delete for accounts with non-ASCII names.

If an account contains non-ASCII characters, currently SLO delete code
will fail, as get_slo_segments() method receives a unicode object, but
UTF-8 encoded account name. Attempting to concatenate the strings fails
with a UnicodeError, as it tries to use the ASCII codec to decode the
UTF-8 encoded account name.

This patch allows accounts with non-ASCII characters in their names to
delete SLOs.

Change-Id: I619d41e62c16b25bd5f58d300a3dc71aa4dc75c2
(cherry picked from commit 0aad95005d03651da79071dd24354f0a54122ab6)
"
openstack%2Fcongress~master~I81e515003a3edf443ec1a9f7a35232fc7121207a,openstack/congress,master,enable_z3,I81e515003a3edf443ec1a9f7a35232fc7121207a,Enable Z3 on the gate,MERGED,2018-07-27 11:09:57.000000000,2018-08-02 23:54:06.000000000,2018-08-02 23:54:06.000000000,30,4,0,586511,8f075371e475de84854ca2b6be12b1735f1aaf00,20,5,6,3,23518,Pierre Crégut,pcregut,"Enable Z3 on the gate

Z3 is now enabled on the gate for non ha jobs.
A compiled version of Z3 is used.

This commit also correct installation paths bugs for Z3 and
adds an uninstall to clean.sh.

Change-Id: I81e515003a3edf443ec1a9f7a35232fc7121207a
"
openstack%2Fopenstack-zuul-jobs~master~I3b65813671961d07c0a743685c537ad1df4bf682,openstack/openstack-zuul-jobs,master,readthedocs,I3b65813671961d07c0a743685c537ad1df4bf682,Use webhook update for docs-on-readthedocs,MERGED,2018-07-19 03:28:14.000000000,2018-08-02 23:45:47.000000000,2018-08-02 23:45:47.000000000,27,6,0,583834,55d0c6fc5351e3b16697b82b5d9df5a353b77b27,19,5,3,1,7118,Ian Wienand,iwienand,"Use webhook update for docs-on-readthedocs

Update the docs-on-readthedocs template to use the new
trigger-readthedocs-webhook job.

This new job triggers readthedocs via their authenticated webhook API.
It is not a drop-in replacement; users will have to update with a API
key per the documentation (this will be communicated before merge;
however, note that the old API is not working).

For more details, see the comments in the dependent project-config
change.

The ability to have variables in templates is also new, see the
dependent zuul change.

Change-Id: I3b65813671961d07c0a743685c537ad1df4bf682
Depends-On: https://review.openstack.org/583449
Depends-On: https://review.openstack.org/584230
"
openstack%2Fcongress~master~Ida715517a2e1febc64d87b07b54c02c815eabfce,openstack/congress,master,bug_z3theory,Ida715517a2e1febc64d87b07b54c02c815eabfce,bugfix: order of variables in quantified Z3 terms,MERGED,2018-07-31 06:53:04.000000000,2018-08-02 23:33:31.000000000,2018-08-02 23:33:31.000000000,2,1,0,587300,0be3c4b99ee63793b0b3342dd3a5aed32d639391,8,4,1,1,23518,Pierre Crégut,pcregut,"bugfix: order of variables in quantified Z3 terms

This fix guarantees that variables are quantified in the right order. This
is important for queries otherwise the order of the columns in the answers
may be arbitrary.

The bug was mostly visible on Python 3 due to dictionnary implementation
details.

Change-Id: Ida715517a2e1febc64d87b07b54c02c815eabfce
"
openstack%2Fcongress~master~I02ed664d5a2ca03020a126758937d5f933cb2af5,openstack/congress,master,z3cycle,I02ed664d5a2ca03020a126758937d5f933cb2af5,Do not activate Z3 relaxed cycle detection if no Z3,MERGED,2018-07-27 10:39:44.000000000,2018-08-02 23:33:30.000000000,2018-08-02 23:33:30.000000000,8,7,0,586504,f49e65172873082ebf1e38ce5be00ad05776526f,7,2,1,3,23518,Pierre Crégut,pcregut,"Do not activate Z3 relaxed cycle detection if no Z3

Method name renamed to be more explicit on its purpose.

Change-Id: I02ed664d5a2ca03020a126758937d5f933cb2af5
"
openstack%2Fopenstack-helm-infra~master~I024a555cdb82ee181eb414337b84e7ad62717c97,openstack/openstack-helm-infra,master,fix_ceph_dashboard,I024a555cdb82ee181eb414337b84e7ad62717c97,Grafana: Update Ceph Dashboards,MERGED,2018-08-02 16:12:16.000000000,2018-08-02 23:22:13.000000000,2018-08-02 23:22:13.000000000,2,2,0,588329,c5249317073343531dd50fa514f531e9adff360a,7,3,1,1,17591,Steve Wilkerson,srwilkers,"Grafana: Update Ceph Dashboards

This fixes two issues with the Ceph dashboards in Grafana: the
first fix addresses an incorrect heading for Utilized Capacity in
the ceph cluster dashboard (was reporting utilized as available),
and the second fix addresses the Pool Usage gauge to accurately
reflect the percentage of the pool used (was incorrectly
multiplying the percentage result by 100 a second time, resulting
in large and inaccurate results)

Change-Id: I024a555cdb82ee181eb414337b84e7ad62717c97
"
openstack%2Fneutron~master~I3ce4475643f4f0afed01f2e9956b3bf84714e6f2,openstack/neutron,master,use-callback-payloads,I3ce4475643f4f0afed01f2e9956b3bf84714e6f2,use callback payloads for ROUTER/ROUTER_GATEWAY BEFORE_DELETE events,MERGED,2018-04-19 17:15:37.000000000,2018-08-02 23:19:36.000000000,2018-07-26 07:52:37.000000000,18,14,0,562762,73c7eddb5a0ba2b6e1e06a9acd266bb15283eacd,81,14,8,4,5367,boden,boden,"use callback payloads for ROUTER/ROUTER_GATEWAY BEFORE_DELETE events

This patch switches callbacks over to the payload object style events
[1] for ROUTER and ROUTER_GATEWAY BEFORE_DELETE based notifications. To
do so a DBEventPayload object is used with the publish() method to pass
along the related data.

NeutronLibImpact

[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html#event-payloads

Change-Id: I3ce4475643f4f0afed01f2e9956b3bf84714e6f2
"
openstack%2Fnova~master~Ia46754d8ff65c501545853e6c2909a5a900d45c0,openstack/nova,master,bug/1469179,Ia46754d8ff65c501545853e6c2909a5a900d45c0,Func test for improper cn local DISK_GB reporting,MERGED,2018-07-18 15:18:14.000000000,2018-08-02 23:19:17.000000000,2018-07-23 18:55:03.000000000,22,3,11,583646,ece289fa5a5e5e805cde5dd7189cf05f643d0fd0,41,14,4,2,14070,Eric Fried,efried,"Func test for improper cn local DISK_GB reporting

Change I9c2111f7377df65c1fc3c72323f85483b3295989 fixed it so we stop
allocating the flavor's root_gb if we're booting from volume. However,
we're still reporting it against the compute node's capacity.

Furthermore, we're not reporting swap space at all.

This adds functional test coverage demonstrating these bugs.

Change-Id: Ia46754d8ff65c501545853e6c2909a5a900d45c0
Related-Bug: #1782393
Related-Bug: #1782386
"
openstack%2Fneutron~master~I9d580645131a9f1b8233ea5f6e0378cd98f023f1,openstack/neutron,master,bug/1720727,I9d580645131a9f1b8233ea5f6e0378cd98f023f1,Generic validate_request method for logging,MERGED,2017-12-22 10:11:37.000000000,2018-08-02 23:17:54.000000000,2018-08-02 10:06:37.000000000,290,116,68,529814,cdb973e77dc33dcccfb8c62eed69e4b2318acd8d,199,22,27,9,24441,Cuong Nguyen,cuongnv,"Generic validate_request method for logging

This patch adds a generic validate_request method for logging, So
logging can be extended to other resources like firewall group.

Co-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>
Co-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>

Partial-Bug: #1720727
Change-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1
"
openstack%2Fnova~master~I2e236fbbc3a4cfd3bd66d50198de643e06d62331,openstack/nova,master,bug/1784577,I2e236fbbc3a4cfd3bd66d50198de643e06d62331,Ensure the order of AllocationRequestResources,MERGED,2018-08-01 07:08:46.000000000,2018-08-02 23:17:33.000000000,2018-08-01 14:43:02.000000000,16,2,1,587700,0b7946f5a3dd62003bdfead068dd58bd58ed6d18,21,18,1,1,25625,Tetsuro Nakamura,tetsuro0907,"Ensure the order of AllocationRequestResources

Getting allocation candidates with sharing providers, placement
creates a list of AllocationRequestResources to get all the
possible combinations of resource providers in the same aggregate.

However, the order of the list was arbitrary, which could cause
a bug later in duplicate check of the combination.

This patch ensures that the list is ordered by the resource
class id.

Note:
  This bug is only exposed when it is tested with python3.6,
  where order-preserving aspect is added to the dict object.

Change-Id: I2e236fbbc3a4cfd3bd66d50198de643e06d62331
Closes-Bug: #1784577
"
openstack%2Fneutron~master~I450c674e55ca15e1d9a6a6224138f3305427da68,openstack/neutron,master,bp/port_forwarding,I450c674e55ca15e1d9a6a6224138f3305427da68,Add ext_parent policy check,MERGED,2018-07-25 12:18:09.000000000,2018-08-02 23:17:12.000000000,2018-08-01 11:16:42.000000000,136,20,54,585731,35d945e92f77af1a1051c13158c67ef3c59e8f6b,78,13,8,8,15309,zhaobo,ZhaoBo,"Add ext_parent policy check

Add common parent owner check for the resources which introduced by
service plugin.

Then port forwarding resource will share the same tenant_id with
floatingip. That means only the fip owner can create/update/get/delete
the associated port forwarding resource.

Partially-Implements: blueprint port-forwarding
Partial-Bug: #1491317
Change-Id: I450c674e55ca15e1d9a6a6224138f3305427da68
"
openstack%2Fnova~master~I6d8214c75a67c87ec5a7406f3cc2e8b923aa4d84,openstack/nova,master,trivia,I6d8214c75a67c87ec5a7406f3cc2e8b923aa4d84,Don't poison Host._init_events if it's already mocked,MERGED,2018-07-25 13:35:08.000000000,2018-08-02 23:16:47.000000000,2018-07-31 18:28:53.000000000,8,10,6,585748,2c9fe11e8de9c740615c6036f6d92bb82bba455e,34,13,3,2,9555,Matthew Booth,MatthewBooth,"Don't poison Host._init_events if it's already mocked

PoisonFunctions poisons Host._init_events without checking if it's
already mocked. This creates a proper headscratcher when you try to
use FakeLibvirtFixture with ServersTestBase: if you use
FakeLibvirtFixture before calling super.setUp() PoisonFunctions will
poison the function we already mocked, if we call it in the other
order setUp() will fail when it tries to start nova-compute.

Change-Id: I6d8214c75a67c87ec5a7406f3cc2e8b923aa4d84
"
openstack%2Fnova~master~If52cbfc44234ce94427bd2ba78b79270c3a873d3,openstack/nova,master,config-doc-format,If52cbfc44234ce94427bd2ba78b79270c3a873d3,Fix formatting for vcpu_pin_set and reserved_huge_pages,MERGED,2018-07-30 19:37:25.000000000,2018-08-02 23:15:42.000000000,2018-07-31 15:13:14.000000000,2,2,1,587206,f53d28f9be47150ba0b3f1d25482c72e1170801d,19,15,1,1,6873,Matt Riedemann,mriedem,"Fix formatting for vcpu_pin_set and reserved_huge_pages

This just fixes the rst formatting for the help on
each option. I'm sure there are tons more like this,
but this change isn't an attempt to fix all of the
formatting issues in our config options.

Change-Id: If52cbfc44234ce94427bd2ba78b79270c3a873d3
"
openstack%2Fnova~master~Idfcc6882d7fe5141dcc793f0409f75c51fd26234,openstack/nova,master,bp/placement-extract,Idfcc6882d7fe5141dcc793f0409f75c51fd26234,[placement] Use a simplified WarningsFixture,MERGED,2018-07-30 16:39:40.000000000,2018-08-02 23:15:36.000000000,2018-08-01 13:32:37.000000000,24,2,5,587131,4b1d38e88ae07262846f5efc89fb1a794c83659e,23,13,2,3,11564,Chris Dent,chdent,"[placement] Use a simplified WarningsFixture

Use a WarningsFixture specific to placement that worries about fewer
warnings and is not dependent on nova.

blueprint: placement-extract

Change-Id: Idfcc6882d7fe5141dcc793f0409f75c51fd26234
"
openstack%2Fnova~master~Ic4585ec059ab9a0c372d7a2de7324cddc4778181,openstack/nova,master,cd/update-once,Ic4585ec059ab9a0c372d7a2de7324cddc4778181,Extract _update_to_placement method in resource tracker,MERGED,2018-07-30 17:23:36.000000000,2018-08-02 23:15:31.000000000,2018-08-01 05:02:54.000000000,16,12,0,587171,06ea35e36fd617be7601a652ed8fc75db719e766,47,16,1,1,11564,Chris Dent,chdent,"Extract _update_to_placement method in resource tracker

Pull the placement related code in _update into its own method.

This is a nice refactoring to keep things in conceptual chunks
and will keep the diff of a forthcoming change much much smaller.

Change-Id: Ic4585ec059ab9a0c372d7a2de7324cddc4778181
"
openstack%2Fnova~master~I68d5b062c6963a37a30e0cd7520f658b1fbccd12,openstack/nova,master,,I68d5b062c6963a37a30e0cd7520f658b1fbccd12,Remove superfluous network stubbing in func test,MERGED,2018-07-30 16:46:49.000000000,2018-08-02 23:15:09.000000000,2018-07-31 14:54:39.000000000,0,1,2,587134,25b3e2d69be92efc243c814d8e459356ab0339a2,14,10,1,1,9708,Balazs Gibizer,gibi,"Remove superfluous network stubbing in func test

The fake_network.set_stub_network_methods has been called in
ServersTestBase.setUp() and then in the derived test class
NUMAServersTest._run_build_test() method. The second call is
not needed.

Change-Id: I68d5b062c6963a37a30e0cd7520f658b1fbccd12
"
openstack%2Fnova~master~I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3,openstack/nova,master,bp/numa-aware-vswitches,I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3,Add additional functional tests for NUMA networks,MERGED,2018-07-24 14:39:24.000000000,2018-08-02 23:14:53.000000000,2018-07-30 17:55:12.000000000,332,17,39,585385,45662d77a2da77714f8e792e86ebd64a52270ef5,89,14,15,3,15334,Stephen Finucane,sfinucan,"Add additional functional tests for NUMA networks

Cover the move and move-like operations through cold migration and
rebuild tests. This requires extensive filling of gaps in the
NeutronFixture and fake libvirt driver.

Part of blueprint numa-aware-vswitches

Change-Id: I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3
Co-Authored-By: Sean Mooney <work@seanmooney.info>
Co-Authored-By: Dan Smith <dms@danplanet.com>
"
openstack%2Fnova~master~Id1857abf323c9776ab8fe957202848ff7ab3fbd2,openstack/nova,master,bug/1783380,Id1857abf323c9776ab8fe957202848ff7ab3fbd2,Add description for placement 1.26,MERGED,2018-07-30 13:56:27.000000000,2018-08-02 23:14:49.000000000,2018-07-30 20:53:52.000000000,5,0,0,587067,eec172a017e6de26add6b2172207f48a0f2e98a8,18,14,1,1,7634,Takashi Natsume,natsumet,"Add description for placement 1.26

Add description for placement microversion 1.26
in the following APIs in the placement API reference.

* PUT /resource_providers/{uuid}/inventories
* PUT /resource_providers/{uuid}/inventories/{resource_class}

Up to microversion 1.25, the value of 'reserved' has to be less
than the value of 'total' in the request.
Starting from microversion 1.26, it has to be less than or
equal to the value of 'total'.

Change-Id: Id1857abf323c9776ab8fe957202848ff7ab3fbd2
Closes-Bug: #1783380
"
openstack%2Fneutron~master~I6f93a71c2ae725e3b97d8abc5f57093894792116,openstack/neutron,master,bug/1720727,I6f93a71c2ae725e3b97d8abc5f57093894792116,[log] Generic RPC stuffs for logging in server side,MERGED,2018-01-16 10:25:31.000000000,2018-08-02 23:13:22.000000000,2018-08-01 14:07:58.000000000,224,91,50,534227,a4ffcab4cae23f1f7b3cc31f1ef922af9582ac2c,153,18,16,8,15905,Cao Xuan Hoang,hoangcx,"[log] Generic RPC stuffs for logging in server side

This patch intends to make generic RPC stuffs for logging in server side.
So logging can be extended to be used by other resources like firewall.

Partial-Bug: #1720727
Change-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116
"
openstack%2Fneutron~master~I9016abb6eb650c86c570a0ee78ee12361f4632e4,openstack/neutron,master,bp/port_forwarding,I9016abb6eb650c86c570a0ee78ee12361f4632e4,[server side] Expose port forwardings in FIP API,MERGED,2018-06-14 04:24:32.000000000,2018-08-02 23:12:50.000000000,2018-07-28 04:48:27.000000000,166,1,20,575326,d00a1558a5a51ad8d189ad3d72aabae6447a88b5,205,16,19,3,15309,zhaobo,ZhaoBo,"[server side] Expose port forwardings in FIP API

This patch introduces a new API extension named 'extend-fip-port-forwarding'
for exposing 'port_forwardings' field in floatingip responses.

Partially-Implements: blueprint port-forwarding
Change-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4
Partial-Bug: #1491317
"
openstack%2Fnova~master~I880e9daa6b97d73a0e33ac9a5bdae9bacfa89aaa,openstack/nova,master,bug/1782386,I880e9daa6b97d73a0e33ac9a5bdae9bacfa89aaa,compute node local_gb_used include swap disks,MERGED,2018-07-26 02:18:27.000000000,2018-08-02 23:12:31.000000000,2018-08-01 09:30:09.000000000,13,6,11,585928,e3df049cad2b7a264acbad4d6baecbc813546e5d,103,25,5,3,28708,Xiaohan Zhang,XiaohanZhang,"compute node local_gb_used include swap disks

The ComputeNode.local_gb_used value is set in the ResourceTracker._update_usage() method, based on

1. root_gb in the flavor
2. any disk overhead from the virt driver
3. ephemeral_gb in the flavor

The consideration of swap disk in the flavor was ignored.

This patch adds swap disk to the consideration.

Closes-bug: #1782386

Change-Id: I880e9daa6b97d73a0e33ac9a5bdae9bacfa89aaa
"
openstack%2Fnova~master~I61fe749ef20229744e1420779ae8128192704554,openstack/nova,master,user_data-api-ref,I61fe749ef20229744e1420779ae8128192704554,api-ref: document user_data length restriction,MERGED,2018-07-27 01:57:23.000000000,2018-08-02 23:12:27.000000000,2018-07-30 07:48:25.000000000,4,3,0,586388,ca7030998766ecebabb232b91066bd396cd5fadb,19,16,1,1,6873,Matt Riedemann,mriedem,"api-ref: document user_data length restriction

user_data for server create and rebuild is limited to
65535 bytes in the schema, so we should be clear about
this limit in the API reference.

Change-Id: I61fe749ef20229744e1420779ae8128192704554
"
openstack%2Fnova~master~Ice89e9a25f74caaa53b7df079bd529d172354524,openstack/nova,master,bp/placement-extract,Ice89e9a25f74caaa53b7df079bd529d172354524,[placement] Use base test in placement functional tests,MERGED,2018-07-25 15:01:17.000000000,2018-08-02 23:12:17.000000000,2018-07-27 11:49:16.000000000,68,102,10,585778,f5783d90bcb0b52469d0e0ada3933271afb84e2a,36,11,3,8,11564,Chris Dent,chdent,"[placement] Use base test in placement functional tests

There is now a placement.base.TestCase for placement functional tests
which assembles the necessary configuration and fixtures. This change
uses that base class in the db functional tests and extends the base
class as required to add all the necessary functionality.

In the process issues were exposed in the fixtures.gabbits use of
oslo_config (causing tests to fail based on fallout from changes
elsewhere in the functional tests) so this change also fixes that
and limits the gabbi tests to only caring about the placement database
connection, which is more correct and how it should have been all
along.

This change removes the ConfPatcher fixture in fixtures.placement
because it is no better than using the oslo_config provided
fixture and was in the way while diagnosing difficulties with
getting these changes to work correctly.

The root cause of those problems was that placement changes were
at cross purposes with how the nova.tests.fixtures.Database fixture
expects to work: The goal of these changes was to only configure
and establish those fixtures that were strictly necessary for
placement in the placements tests. However, when _any_ database
is requested from the Database fixture, the context managers for
all of them are configured.

This means, for example, that if a placement fixture, which
originally was not configuring a 'connection' string for the api
or main databases, ran before a later api db fixture, the api db
fixture would fail with no connection string available.

The quick and dirty fix is used here to fix the problem: we set
reasonable configuration for all three databases in the placement
tests that need the placement database fixture.

In the future when placement is extracted, these problems go away
so it does not seem worth the effort (at least not now) to
restructure the nova Database fixture.

blueprint: placement-extract
Change-Id: Ice89e9a25f74caaa53b7df079bd529d172354524
"
openstack%2Fnova~master~Ib3038cfed9f76e396514710f4b4782ee5399ce66,openstack/nova,master,trivia,Ib3038cfed9f76e396514710f4b4782ee5399ce66,Fix signature of _FakeImageService.download,MERGED,2018-07-25 13:35:08.000000000,2018-08-02 23:12:10.000000000,2018-07-30 07:48:18.000000000,2,1,3,585747,be2e5c8a8ea4ce8e3ccf6d986a86c5e0e9abc24c,25,12,2,1,9555,Matthew Booth,MatthewBooth,"Fix signature of _FakeImageService.download

Change-Id: Ib3038cfed9f76e396514710f4b4782ee5399ce66
"
openstack%2Fnova~master~I0116a593c29808a53423cc9bbe098f2661fcb584,openstack/nova,master,bug/1684250,I0116a593c29808a53423cc9bbe098f2661fcb584,Hyper-V + OVS: plug vifs before starting VMs,MERGED,2018-07-25 07:34:40.000000000,2018-08-02 23:11:33.000000000,2018-08-02 19:06:33.000000000,28,6,3,585661,bef7e9a717f3bca45b5edd0ebc65ab1dde5942d9,19,11,2,2,8543,Lucian Petrut,plucian,"Hyper-V + OVS: plug vifs before starting VMs

At the moment, the Hyper-V driver will bind OVS ports only after
starting the VMs. This is because of an old limitation of the OVS
Windows port, which has been addressed in OVS 2.5.

This also means that the Nova driver fails when waiting for neutron
vif plug events, since this step is performed later. So deployers
are forced to set ""vif_plugging_is_fatal"", which means that the
ports will be down, at least for a short time after the instance is
reported as ACTIVE. This also breaks some Tempest tests.

Since the Windows OVS version has been fixed, we can now bind the
ports before actually starting the VMs. Note that this fix has been
merged in the out-of-tree compute-hyperv some time ago.

Co-authored-by: Alin Balutoiu <abalutoiu@cloudbasesolutions.com>

Change-Id: I0116a593c29808a53423cc9bbe098f2661fcb584
Closes-Bug: #1684250
"
openstack%2Fnova~master~I8bf6ab049f15ad24a5fbf0557bd0cd8652101901,openstack/nova,master,ironic-reserved-resources,I8bf6ab049f15ad24a5fbf0557bd0cd8652101901,doc: remove rocky-specific nova-scheduler min placement version,MERGED,2018-07-24 19:16:32.000000000,2018-08-02 23:11:21.000000000,2018-07-26 01:14:22.000000000,0,5,1,585520,dc6cb06021fbfb3d5884fe95f7eef081f349e794,14,10,1,1,6873,Matt Riedemann,mriedem,"doc: remove rocky-specific nova-scheduler min placement version

Per change I97215e94efdd8c05045872fb9ba7d2089dc6efb8, nova
does not perform version discovery or try to deal with backlevel
placement versions, and the upgrade docs say that placement needs
to be upgraded before upgrading any nova services. Because of
this assertion, we can remove the per-release nova-scheduler-specific
note in the placement upgrade notes for Rocky because while it's
accurate for the nova-scheduler service, it might not be accurate
for the nova-api, nova-conductor or nova-compute services which
also use placement. So the best guidance is to just globally say
that placement must be upgraded before *any* nova services, which
our upgrade doc already says.

Change-Id: I8bf6ab049f15ad24a5fbf0557bd0cd8652101901
"
openstack%2Ftripleo-ci~master~Ia25634b565c2ea6d72d095a9b2669dcf71e6e054,openstack/tripleo-ci,master,refstack-support,Ia25634b565c2ea6d72d095a9b2669dcf71e6e054,Add FS055 job as experimental to run refstack tests,MERGED,2018-05-29 10:35:29.000000000,2018-08-02 23:11:15.000000000,2018-08-02 23:11:15.000000000,12,0,6,570892,055ece4ed42fa163c3d2c89dc26b2634631bf6e7,48,9,11,1,12393,chandan kumar,chkumar246,"Add FS055 job as experimental to run refstack tests

* https://review.openstack.org/570719 adds support for running
  refstack tests in TQE and https://review.openstack.org/570884
  adds fs055 to run these tests.
* This patch adds it in check/gate queue.
* It will replace fs021 in future.

Depends-On: https://review.openstack.org/570884

Change-Id: Ia25634b565c2ea6d72d095a9b2669dcf71e6e054
"
openstack%2Fnova~master~Iac67b6bf7e46fbac02b9d3cb59efc3c59b9e56c8,openstack/nova,master,bp/placement-mirror-host-aggregates,Iac67b6bf7e46fbac02b9d3cb59efc3c59b9e56c8,Add nova-manage placement sync_aggregates,MERGED,2018-06-16 13:59:56.000000000,2018-08-02 23:11:10.000000000,2018-07-25 18:56:25.000000000,526,0,56,575912,aa6360d68385f36062034bdd1d982e918ea33c94,93,18,5,7,6873,Matt Riedemann,mriedem,"Add nova-manage placement sync_aggregates

This adds the ""nova-manage placement sync_aggregates""
command which will compare nova host aggregates to
placement resource provider aggregates and add any
missing resource provider aggregates based on the nova
host aggregates.

At this time, it's only additive in that the command
does not remove resource provider aggregates if those
matching nodes are not found in nova host aggregates.
That likely needs to happen in a change that provides
an opt-in option for that behavior since it could be
destructive for externally-managed provider aggregates
for things like ironic nodes or shared storage pools.

Part of blueprint placement-mirror-host-aggregates

Change-Id: Iac67b6bf7e46fbac02b9d3cb59efc3c59b9e56c8
"
openstack%2Fnova~master~I621f5111d1cccf3dc2c2ea6767ce879bc286e42b,openstack/nova,master,bp/numa-aware-vswitches,I621f5111d1cccf3dc2c2ea6767ce879bc286e42b,Add functional tests for numa-aware-vswitches,MERGED,2018-07-17 15:28:22.000000000,2018-08-02 23:11:05.000000000,2018-07-28 12:50:33.000000000,194,19,33,583288,a0de99931bd68847937a6170da0c7da1447aaf2f,103,20,7,2,15334,Stephen Finucane,sfinucan,"Add functional tests for numa-aware-vswitches

Add tests to ensure everything, from the scheduler to the compute node,
works in tandem. Note that some of these are currently passing when they
should be failing. This will be resolved once the final changes land.

Part of blueprint numa-aware-vswitches

Change-Id: I621f5111d1cccf3dc2c2ea6767ce879bc286e42b
"
openstack%2Fnova~master~Ice45f64546cb05db4c6f2928af0efd484f3a6aaf,openstack/nova,master,bp/numa-aware-vswitches,Ice45f64546cb05db4c6f2928af0efd484f3a6aaf,libvirt: Start populating NUMACell.network_metadata field,MERGED,2018-04-26 10:23:51.000000000,2018-08-02 23:11:00.000000000,2018-07-28 12:50:26.000000000,191,1,81,564441,bd334f0048c4bf26380e2ce7fb34b2d461293f2f,394,24,28,6,15334,Stephen Finucane,sfinucan,"libvirt: Start populating NUMACell.network_metadata field

We're basically reading what's stored in config. Nothing too complicated
here, outside of the dynamic option magicness.

Part of blueprint numa-aware-vswitches

Change-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf
"
openstack%2Fnova~master~Ic7a199a1374e6f36c092e5ca6faa435aa5bf4cbd,openstack/nova,master,trivial,Ic7a199a1374e6f36c092e5ca6faa435aa5bf4cbd,tox: Silence psycopg2 warnings,MERGED,2018-07-24 13:29:11.000000000,2018-08-02 23:10:55.000000000,2018-07-30 12:53:52.000000000,2,0,0,585352,be5e6945a79c7e2c78156ee951fc4333a60b115e,18,10,1,1,15334,Stephen Finucane,sfinucan,"tox: Silence psycopg2 warnings

There's nothing we can do to fix this so simply silence it until we no
longer support that version.

Change-Id: Ic7a199a1374e6f36c092e5ca6faa435aa5bf4cbd
"
openstack%2Fnova~master~I4890406c92f538f7a5f270f70567f12e9531a2ad,openstack/nova,master,bp/report-cpu-features-as-traits,I4890406c92f538f7a5f270f70567f12e9531a2ad,FakeLibvirtFixture: mock get_fs_info,MERGED,2018-06-29 15:43:22.000000000,2018-08-02 23:10:50.000000000,2018-07-24 16:42:47.000000000,5,16,4,579201,23fd6c2287f1e68336e7752246999de739b9f7c0,31,12,3,3,14070,Eric Fried,efried,"FakeLibvirtFixture: mock get_fs_info

A couple of recently-written [1][2] functional tests were mocking pieces
of the libvirt driver in ways that the existing FakeLibvirtFixture was
already doing [3].  This patch commonizes those tests to use the
fixture.

In addition, while those tests were being authored, they failed
intermittently with this symptom:

...
  File ""nova/virt/libvirt/driver.py"", line 6405, in get_available_resource
    disk_info_dict = self._get_local_gb_info()
  File ""nova/virt/libvirt/driver.py"", line 5663, in _get_local_gb_info
    info = libvirt_utils.get_fs_info(CONF.instances_path)
  File ""nova/virt/libvirt/utils.py"", line 370, in get_fs_info
    hddinfo = os.statvfs(path)
OSError: [Errno 2] No such file or directory: '/home/zuul/src/git.openstack.org/openstack/nova/instances'
...
Traceback (most recent call last):
  File ""nova/tests/functional/libvirt/test_shared_resource_provider.py"", line 45, in setUp
    self.host_uuid = self._get_provider_uuid_by_host(nodename)
  File ""nova/tests/functional/integrated_helpers.py"", line 410, in _get_provider_uuid_by_host
    'os-hypervisors?hypervisor_hostname_pattern=%s' % host).body
  File ""nova/tests/functional/api/client.py"", line 224, in api_get
    return APIResponse(self.api_request(relative_uri, **kwargs))
  File ""nova/tests/functional/api/client.py"", line 206, in api_request
    raise OpenStackApiNotFoundException(response=response)
nova.tests.functional.api.client.OpenStackApiNotFoundException: Item not found

It was discovered that the fix was mocking get_fs_info; so this patch
also adds that mock to FakeLibvirtFixture to avoid the race in future
tests using the fixture.

[1] https://review.openstack.org/#/c/560459/17/nova/tests/functional/libvirt/test_shared_resource_provider.py
[2] https://review.openstack.org/#/c/560317/17/nova/tests/functional/libvirt/test_report_cpu_traits.py
[3] https://github.com/openstack/nova/blob/162e55d07e98990399d2c595670883ceb2d4f1a9/nova/tests/unit/virt/libvirt/fakelibvirt.py#L1533-L1537

Change-Id: I4890406c92f538f7a5f270f70567f12e9531a2ad
"
openstack%2Fnova~master~I3899a0597c75f19cf55d696790ac31a5103db18f,openstack/nova,master,bp/report-cpu-features-as-traits,I3899a0597c75f19cf55d696790ac31a5103db18f,Blacklist greenlet 0.4.14,MERGED,2018-07-23 19:53:04.000000000,2018-08-02 23:10:41.000000000,2018-07-24 16:06:41.000000000,3,1,0,585016,4aad363fe41725c3267981989d987d6257169a6f,35,19,2,1,6873,Matt Riedemann,mriedem,"Blacklist greenlet 0.4.14

Due to an issue introduced with greenlet 0.4.14 and
gcc on ppc64le systems, we can't run powerkvm or
powervm third party CI, so this change blacklists the
0.4.14 version until the issue [1] is resolved.

The related upper-constraints change is at [2].

[1] https://github.com/python-greenlet/greenlet/issues/136
[2] https://review.openstack.org/584881/

Depends-On: https://review.openstack.org/584881
Change-Id: I3899a0597c75f19cf55d696790ac31a5103db18f
"
openstack%2Fnova~master~I795706a8f78ab4154bd39ce6259901800b34890e,openstack/nova,master,bug/1781573,I795706a8f78ab4154bd39ce6259901800b34890e,Enhance doc to guide user to use nova user,MERGED,2018-07-17 06:31:04.000000000,2018-08-02 23:10:29.000000000,2018-07-24 06:21:56.000000000,3,3,1,583115,e0546870cd667bc54e41cb3c603d6b176a68b56c,25,12,2,3,6062,jichenjc,jichenjc,"Enhance doc to guide user to use nova user

The document doesn't follow previous pattern to guide use
in using nova user to execute command and lead to issue

Change-Id: I795706a8f78ab4154bd39ce6259901800b34890e
Closes-Bug: 1781573
"
openstack%2Fneutron~master~I1cd054edb32e7ccf3bd3a356ed535a4a6003a9a1,openstack/neutron,master,bug/1783095,I1cd054edb32e7ccf3bd3a356ed535a4a6003a9a1,[Fullstack] Use string for global_physnet_mtu config option,MERGED,2018-07-20 15:48:38.000000000,2018-08-02 23:09:42.000000000,2018-07-26 07:34:19.000000000,1,1,3,584431,3d06c63e74a8ded495a064349951097f33d8fb49,28,10,2,1,21798,Bernard Cafarelli,bcafarel,"[Fullstack] Use string for global_physnet_mtu config option

This was added in Ia838d2a661c5098f90b58b2cb31557f2ebf78868 and breaks
config parser with python3

Closes-Bug: #1783095
Change-Id: I1cd054edb32e7ccf3bd3a356ed535a4a6003a9a1
"
openstack%2Fswift~stable%2Fpike~Ibdb9e2bbec1c962d930a3f69fc95a8c562ac13b7,openstack/swift,stable/pike,,Ibdb9e2bbec1c962d930a3f69fc95a8c562ac13b7,py36: Fix test_get_logger_sysloghandler_plumbing,MERGED,2018-07-24 18:32:41.000000000,2018-08-02 23:09:36.000000000,2018-08-02 23:09:36.000000000,9,1,0,585508,6b6940007c587d8aa69471ceda501b9e50105803,8,4,1,1,15343,Tim Burke,tburke,"py36: Fix test_get_logger_sysloghandler_plumbing

Change-Id: Ibdb9e2bbec1c962d930a3f69fc95a8c562ac13b7
(cherry picked from commit 1318bacc177d060f95b244cc2a1075fe43d4699a)
"
openstack%2Fswift~stable%2Fpike~I6582985990e8b5e3a0c65bce5d3bb1e39d58dfb9,openstack/swift,stable/pike,,I6582985990e8b5e3a0c65bce5d3bb1e39d58dfb9,Clean up a couple hand-rolled mocks.,MERGED,2018-07-24 18:32:41.000000000,2018-08-02 23:09:35.000000000,2018-08-02 23:09:35.000000000,8,24,0,585507,1e6645dc9db74d0488628bac36985ced21b4939e,9,5,1,3,15343,Tim Burke,tburke,"Clean up a couple hand-rolled mocks.

Change-Id: I6582985990e8b5e3a0c65bce5d3bb1e39d58dfb9
(cherry picked from commit 9c97c80b2631bedebbd3196e87f0696a6c67b8be)
"
openstack%2Fswift~stable%2Fpike~Idc01970b37d1b77e1d48f9c4f4979f63ee771093,openstack/swift,stable/pike,fix-replication-head-stable/pike,Idc01970b37d1b77e1d48f9c4f4979f63ee771093,Make X-Backend-Replication consistent for HEAD,MERGED,2018-07-30 17:54:48.000000000,2018-08-02 23:09:33.000000000,2018-08-02 23:09:33.000000000,15,9,0,587179,933fbf91539ec485ceca3b29d3623f7c0c77523a,8,4,1,2,9625,Thiago da Silva,thiago,"Make X-Backend-Replication consistent for HEAD

Current an X-Backend-Replication GET request for an expired object will
still open the expired datafile and return the object, but HEAD request
with the same headers will 404.  This can lead to some bad assumptions
in probetests and other places where we make direct HEAD requests

N.B. Because SSYNC replication does not make any HEAD requests this
change is immaterial to the correctness of the consistency engine.

Related-Change-Id: I7f90b732c3268cb852b64f17555c631d668044a8
Change-Id: Idc01970b37d1b77e1d48f9c4f4979f63ee771093
(cherry picked from commit 2e0ca543e8c74fa7e99d79cdd6e8509c58e7dad3)
"
openstack%2Fnova~master~I7f878974fe8bebb8fe5803ca4e2f8839cdc971d0,openstack/nova,master,bug/1755728,I7f878974fe8bebb8fe5803ca4e2f8839cdc971d0,Rename auth_uri to www_authenticate_uri,MERGED,2018-06-20 10:55:51.000000000,2018-08-02 23:09:24.000000000,2018-07-23 18:27:37.000000000,11,9,25,576820,59d5eb125b3ca900dcb666318e9e9f92a7926024,71,21,5,2,25564,yanpuqing,ycx,"Rename auth_uri to www_authenticate_uri

Keystone deprecated 'auth_uri' to bring 'www_authenticate_uri' in
https://review.openstack.org/#/c/508522/, so 'auth_uri'
should be removed from all openstack projects.
The auth_url is the parameter passed to the keystoneauth plugin
and the auth_uri is the parameter specific to keystonemiddleware,
so the auth_url would be appropriate in api/client since that's
going to be passed straight to keystoneauth, and it should be
the same in api/client and in the fixture. So we change the
parameter to auth_url in api/client instead of www_authenticate_uri.

Change-Id: I7f878974fe8bebb8fe5803ca4e2f8839cdc971d0
Related-Bug: 1755728
"
openstack%2Fnova~master~Ibcdc2bc3f08e2fab23b9821feae0f489fb64a8f7,openstack/nova,master,bug/1763039,Ibcdc2bc3f08e2fab23b9821feae0f489fb64a8f7,docs: add nova host-evacuate command to evacuate documentation,MERGED,2018-06-26 09:04:46.000000000,2018-08-02 23:09:11.000000000,2018-07-21 07:56:35.000000000,48,3,39,578040,7b8e8988072306f77fbaaef97a820b0e7c78ef99,112,17,10,1,26693,do3meli,do3meli,"docs: add nova host-evacuate command to evacuate documentation

Split up the evacuate instance documentation into two parts. One
for the existing single instance evacuation and a second new part
for the nova host-evacuate procedure.

Change-Id: Ibcdc2bc3f08e2fab23b9821feae0f489fb64a8f7
Closes-Bug: #1763039
"
openstack%2Fneutron~stable%2Focata~I2acc9c720b39271bde2a89da4a66958f7aba5b7d,openstack/neutron,stable/ocata,bug/1777968,I2acc9c720b39271bde2a89da4a66958f7aba5b7d,Reduce IP address collision during port creating,MERGED,2018-07-20 10:36:07.000000000,2018-08-02 23:08:53.000000000,2018-07-30 17:29:10.000000000,3,2,0,584309,3df69ec9f608e87a551f94e4ba6cc35224fbe5fd,16,9,1,1,11975,Slawek Kaplonski,slaweq,"Reduce IP address collision during port creating

Try to give it a large random chance during generate IP
address.

The DB retry mechanism change moved to neutron-lib:
I5ad139bdfb3ae125658b36d05f85f139a1b47bee

Closes-Bug: #1777968
Change-Id: I2acc9c720b39271bde2a89da4a66958f7aba5b7d
(cherry picked from commit ec5cd0d1b85d56adef836bf1167287993ec35ca6)
"
openstack%2Fnova~master~I077304f4c2d4e50450eb6c6bf4ec427a407bea20,openstack/nova,master,bp/api-extensions-merge-rocky,I077304f4c2d4e50450eb6c6bf4ec427a407bea20,Remove stevedore extensions server_create method,MERGED,2018-07-19 08:20:44.000000000,2018-08-02 23:08:40.000000000,2018-07-26 07:53:14.000000000,0,46,6,583882,ef37ed2c99a7285f022df2400fd88ba63da69629,101,20,2,2,8556,Ghanshyam,ghanshyam,"Remove stevedore extensions server_create method

All the server_create extensions has been merged in
server main controller.

This commit removes the stevedore extensions detection
method from server controller.

This is completion of part-2 of extension merge work.

Remaining part in this BP is to merge the response extensions
which is last part of this work.

Partially implements: blueprint api-extensions-merge-rocky

Change-Id: I077304f4c2d4e50450eb6c6bf4ec427a407bea20
"
openstack%2Fneutron~master~I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1,openstack/neutron,master,bug/1580880,I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1,Add binding activation to the Linuxbridge agent,MERGED,2018-06-24 03:59:41.000000000,2018-08-02 23:08:30.000000000,2018-07-24 06:06:47.000000000,89,3,17,577637,f7064f2b6c6ba1d0ab5f9872b2d5ad7969a64e7b,94,16,13,8,4694,Miguel Lavalle,minsel,"Add binding activation to the Linuxbridge agent

As part of the implementation of multiple port bindings [1], add binding
activation support to the linux bridge agent. This will enable the
execution with linux bridge agents of the complete sequence of steps
outlined in [1] during an instance migration:

1) Create inactive port bindings for destination host
2) Migrate the instance to the destination host and plug its VIFs
3) Activate the port bindings in the destination host
4) Delete the port bindings for the source host

[1] https://review.openstack.org/#/c/309416/

Change-Id: I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1
Partial-Bug: #1580880
"
openstack%2Fnova~master~I411eb17524a44da4f765fd1463e404dc15075e2c,openstack/nova,master,bug/1781710,I411eb17524a44da4f765fd1463e404dc15075e2c,Add regression test for bug 1781710,MERGED,2018-07-17 18:52:58.000000000,2018-08-02 23:08:14.000000000,2018-07-23 02:38:43.000000000,146,0,5,583339,5e262d673b9ec20c33060d2d2ebf9f191f185bcd,44,13,4,1,6873,Matt Riedemann,mriedem,"Add regression test for bug 1781710

Co-Authored-By: Sean Mooney <work@seanmooney.info>

Related-Bug: #1781710
Change-Id: I411eb17524a44da4f765fd1463e404dc15075e2c
"
openstack%2Fnova~master~Id752b539babadd187b4c999039cc4ca655437d47,openstack/nova,master,bug/1782607,Id752b539babadd187b4c999039cc4ca655437d47,Skip test_resize_server_revert_with_volume_attached in nova-lvm,MERGED,2018-07-19 16:22:56.000000000,2018-08-02 23:08:09.000000000,2018-07-21 02:36:34.000000000,2,0,0,584018,c9589ed9509f3ac2188a5a03d9332d29a8e8fbaa,36,17,1,1,6873,Matt Riedemann,mriedem,"Skip test_resize_server_revert_with_volume_attached in nova-lvm

The libvirt driver doesn't support resize for lvm-backed instances
so we need to skip this test to get the nova-lvm job to pass again.

Change-Id: Id752b539babadd187b4c999039cc4ca655437d47
Closes-Bug: #1782607
"
openstack%2Fnova~master~Ie04ded7b0f4edbb98af92f2ce713cf712a83b383,openstack/nova,master,bp/neutron-new-port-binding-api,Ie04ded7b0f4edbb98af92f2ce713cf712a83b383,conductor: use port binding extended API in during live migrate,MERGED,2017-11-23 12:32:01.000000000,2018-08-02 23:08:00.000000000,2018-07-26 19:45:05.000000000,102,4,31,522537,2d5c6fd8eb677e8e223251bc8cdb0427da0f33ba,432,22,35,2,11604,sean mooney,sean-k-mooney,"conductor: use port binding extended API in during live migrate

This adds the changes to the conductor live migrate task such
that if the following conditions are met:

* Using neutron
* Port binding extended extension is available
* Both the source and dest host are new enough

Then port bindings are created in neutron for the destination
host and the information is stored in the migrate_data object
which is passed around the computes during live migration.

This will ""turn on"" the code in the compute service and virt
driver to do things like change vif types between hosts during
a live migration and reduce the network downtime after the
guest is migrated since the port is already bound on the
destination host before we even started migrating the guest.

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Part of blueprint neutron-new-port-binding-api

Change-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383
"
openstack%2Fnova~master~I510e0707b63da98af143448dd46b771f3ef74624,openstack/nova,master,bp/neutron-new-port-binding-api,I510e0707b63da98af143448dd46b771f3ef74624,Implement migrate_instance_start method for neutron,MERGED,2018-03-26 01:12:47.000000000,2018-08-02 23:07:55.000000000,2018-07-19 20:20:37.000000000,171,4,39,556334,d9e04c4ff0b1a9c3383f1848dc846e93030d83cb,310,20,19,2,6873,Matt Riedemann,mriedem,"Implement migrate_instance_start method for neutron

This implements the migrate_instance_start() method for the
neutronv2 API code such that if the neutron port bindings-extended
API extension is available and the ports attached to the instance
have bindings to the destination host, those bindings are activated.

This will make the source compute host port bindings inactive and
also update the port binding:host_id attribute.

This is part of a larger series of changes for live migration where
ComputeManager._post_live_migration calls migrate_instance_start
to activate the bindings on the dest host.

None of this ""turns on"" until the final patch in the series where
conductor creates the destination host port bindings.

Part of blueprint neutron-new-port-binding-api

Change-Id: I510e0707b63da98af143448dd46b771f3ef74624
"
openstack%2Fnova~master~If20ff2c85263aed92308f1fad59a1ab7bbff3e0e,openstack/nova,master,bp/api-extensions-merge-rocky,If20ff2c85263aed92308f1fad59a1ab7bbff3e0e,Merge server create for config_drive extension,MERGED,2018-07-18 10:06:41.000000000,2018-08-02 23:07:31.000000000,2018-07-24 20:57:34.000000000,43,115,5,583538,c21d6fd6ac3ef60bd1684a4caf40133315a8e34e,60,18,2,4,8556,Ghanshyam,ghanshyam,"Merge server create for config_drive extension

As nova extensions has been deprecated already and goal is to
merge all scattered code into main controller side.
Currently schema and request/response extended code are there
among all extensions.

This commit merge the server_create for config_drive extensions.

Partially implements: blueprint api-extensions-merge-rocky

Change-Id: If20ff2c85263aed92308f1fad59a1ab7bbff3e0e
"
openstack%2Fnova~master~I0c4b586292814b8483226aee315f41cbefc86a1e,openstack/nova,master,bp/remove-nova-network,I0c4b586292814b8483226aee315f41cbefc86a1e,Remove support for /os-floating-ip-dns REST API,MERGED,2018-07-16 12:33:34.000000000,2018-08-02 23:07:03.000000000,2018-07-26 01:14:03.000000000,84,958,3,582943,db294b1e33f18e01a3e4a20d537880ffd1b110fe,82,21,4,18,15334,Stephen Finucane,sfinucan,"Remove support for /os-floating-ip-dns REST API

Drop support for the os-floating-ip-dns API which has been deprecated
since Newton:

  Idca478c566f9a7b5b30a3172453ce7c66d9fd8f0

This API now returns a 410 response for all routes.

Unit tests are removed and the functional API sample tests are just
asserting the 410 response now.

The API sample docs are left intact since the API reference still builds
from those and can be considered more or less branchless, so people
looking at the API reference can apply it to older deployments of nova
before os-floating-ip-dns was removed.

The release note added for previous nova-network API removals is
amended to note this additional change.

Part of blueprint remove-nova-network

Change-Id: I0c4b586292814b8483226aee315f41cbefc86a1e
"
openstack%2Fnova~master~Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398,openstack/nova,master,bug/1784705,Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398,Hook resource_tracker to remove stale node information,MERGED,2018-08-01 17:38:16.000000000,2018-08-02 23:06:40.000000000,2018-08-02 12:34:34.000000000,38,1,2,587922,99db9faae5c1e84e5aa8586c32ffcca7a61ae276,36,17,2,4,4393,Dan Smith,danms,"Hook resource_tracker to remove stale node information

When we remove a node from a host due to rebalance or decommission,
we need to tell the resource tracker so it stops keeping track of
the details for that node. This adds a hook for doing that and
calls it from the place in compute manager where we purge the
record from the database.

Change-Id: Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398
Closes-Bug: #1784874
"
openstack%2Fnova~master~I1dbccc2be6ba79bf267edac9208c80e187e6256a,openstack/nova,master,,I1dbccc2be6ba79bf267edac9208c80e187e6256a,Improve NeutronFixture and remove unncessary stubbing,MERGED,2018-07-31 13:10:35.000000000,2018-08-02 23:06:35.000000000,2018-08-02 17:44:55.000000000,47,52,29,587412,acd3216a8beac263aa87d785c21e816d29b1b6bb,47,12,4,13,9708,Balazs Gibizer,gibi,"Improve NeutronFixture and remove unncessary stubbing

With a small improvement on NeutronFixture that allows creating more
than two ports we can let our tests to exercise and therefore cover
most of the neutronv2/api code as well. To do that this path removes a
lot of fake_network.set_stub_network_methods() calls from the tests.
The remaining calls are not that trivial to remove so those are left in
for a later patch.

The numa functional tests uses the libvirt fixture and during the guest
config xml generation it tries to instantiate OVOs from os_vif. To make
this work the libvirt fixture has to make sure that the
os_vif.initialize() is called as that call registers the OVOs.

Change-Id: I1dbccc2be6ba79bf267edac9208c80e187e6256a
"
openstack%2Fnova~master~I048b22b2447b671228a7ba067e06c59b59e81ce5,openstack/nova,master,bug/1776373,I048b22b2447b671228a7ba067e06c59b59e81ce5,Fix all invalid obj_make_compatible test case,MERGED,2018-06-11 12:33:23.000000000,2018-08-02 23:05:57.000000000,2018-08-02 19:55:20.000000000,35,12,22,574240,4729fa819675ca511fe0027950d9aadf0aebef1b,106,17,12,7,20722,Yikun Jiang,yikunkero,"Fix all invalid obj_make_compatible test case

We use obj_to_primitive() to generate the primitive obj, the
origin obj value is primitive['nova_object.data'], so, we need
transfer primitive to obj data before obj_make_compatible
called.

This patch fixed all invalid obj_make_compatible test cases.

Closes-Bug: #1776373

Change-Id: I048b22b2447b671228a7ba067e06c59b59e81ce5
"
openstack%2Fneutron~master~I94d779fcabc64417d4d561c659270501c0651a66,openstack/neutron,master,bug/1720727,I94d779fcabc64417d4d561c659270501c0651a66,[doc] Follow-up logging service for firewall_group,MERGED,2018-07-13 10:27:02.000000000,2018-08-02 23:05:44.000000000,2018-08-01 01:42:51.000000000,323,244,35,582498,e82a17527d0c1a59ee92f53ba5fc6752c5034dc4,32,8,6,2,28174,Kim Bao Long,longkb.fvl,"[doc] Follow-up logging service for firewall_group

This patch updates the networking guide to include 'firewall_group'
as a new resource-type in 'Neutron Packet Logging Framework'

Change-Id: I94d779fcabc64417d4d561c659270501c0651a66
Co-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>
Partial-Bug: #1720727
"
openstack%2Fneutron~master~I3b3862016125303fb227b4ff41420a89bb33c917,openstack/neutron,master,bp/neutronlib-decouple-db,I3b3862016125303fb227b4ff41420a89bb33c917,use sqla functions from neutron-lib,MERGED,2018-07-18 14:33:52.000000000,2018-08-02 23:05:38.000000000,2018-07-26 07:52:42.000000000,29,54,0,583633,c774930aede7aaab1d5d73c41818fecfa8c8f838,35,12,4,11,5367,boden,boden,"use sqla functions from neutron-lib

The public db apis are available in neutron-lib. This patch consumes
the sqla_listen, sqla_remove and sqla_remove_all functions from lib
by removing them from neutron and using lib's version.

There's also a TODO added here so we can eventually rehome the
check_no_sqlalchemy_event_import hacking check to neutron-lib.

NeutronLibImpact

Change-Id: I3b3862016125303fb227b4ff41420a89bb33c917
"
openstack%2Fneutron~master~Ib0361ad5c281f88558e8e048cfec588b9f9b1de4,openstack/neutron,master,bug/1781129,Ib0361ad5c281f88558e8e048cfec588b9f9b1de4,Dont use dict.get() to know certain key is in dict,MERGED,2018-07-11 09:48:54.000000000,2018-08-02 23:05:34.000000000,2018-07-25 15:28:18.000000000,18,1,13,581648,b803195a9979f7b3b0fd9cea41699b33fc8cf2bb,67,15,4,2,14764,Yuki Nishiwaki,ukinau,"Dont use dict.get() to know certain key is in dict

In CommonAgentLoop class, there is logic to detect tap device is changed
locally or not by comparing timestamp with previous.
Sometimes timestamp value could be None depending on the timing (see bug/1781129)

But current _get_devices_locally_modified logic can not detect local
change from None to something because _get_devices_locally_modified
function don't always compare if previous timestamp value was None.

In order not to miss updated device always, better not to use dict.get() to
know previous iteration have timestamp or not.

Change-Id: Ib0361ad5c281f88558e8e048cfec588b9f9b1de4
Closes-Bug: #1781129
"
openstack%2Fnova~master~Ib67826620735f05edc987481af4c07b6d19f3c1d,openstack/nova,master,rocky-summit-videos,Ib67826620735f05edc987481af4c07b6d19f3c1d,doc: link to AZ talk from the Rocky summit,MERGED,2018-07-23 22:25:55.000000000,2018-08-02 23:05:31.000000000,2018-07-30 12:54:10.000000000,3,0,0,585045,f4819f28aa004e7148616d3ee922b0e4f8ef9d7d,19,15,1,1,6873,Matt Riedemann,mriedem,"doc: link to AZ talk from the Rocky summit

This links into the AZ docs a nice video from the Rocky
summit which covers what AZs are and aren't, use cases,
gotchas, and how they are implemented outside of nova
to compare and contrast. Overall it's a nice educational
presentation which is useful for those wishing to learn
more about AZs than what our documentation provides.

Change-Id: Ib67826620735f05edc987481af4c07b6d19f3c1d
"
openstack%2Fnova~master~Ia30405de4bf8e8ac07b942e44b05a868a18eb80a,openstack/nova,master,bp/handling-down-cell,Ia30405de4bf8e8ac07b942e44b05a868a18eb80a,Online migration tool for populating queued-for-delete,ABANDONED,2018-07-13 13:12:40.000000000,2018-08-02 23:05:23.000000000,,143,0,35,582536,da52afc486b774ebc23c5dfa5e4cb5d8ed7f0e4d,65,17,4,3,26936,Surya Seetharaman,tssurya,"Online migration tool for populating queued-for-delete

Introducing a data migration tool for populating the new column
queued_for_delete, for existing instance_mappings. If the vm_state
of the instance in the cell is either ""DELETED"" or ""SOFT_DELETED""
queued_for_delete will be set to True, else it will be in its
default value, False. The tool is not multi-cell aware like most of
the other migration tools and uses a global marker to ensure re-running
of command doesn't iterate over already mapped records.

Related to blueprint handling-down-cell

Change-Id: Ia30405de4bf8e8ac07b942e44b05a868a18eb80a
"
openstack%2Fnova~master~I379678dfdb2609f12a572d4f99c8e9da4deab803,openstack/nova,master,bug/1764883,I379678dfdb2609f12a572d4f99c8e9da4deab803,compute: Ensure pre-migrating instances are destroyed during init_host,MERGED,2018-04-18 13:50:53.000000000,2018-08-02 23:05:15.000000000,2018-07-25 04:38:10.000000000,68,19,31,562284,c4988cdabf311d29cf64af732091068cfabeedaa,128,20,10,4,10135,Lee Yarwood,lyarwood,"compute: Ensure pre-migrating instances are destroyed during init_host

Previously _destroy_evacuated_instances would not remove instances
associated with evacuation migration records in a pre-migrating state.
This could lead to a race between the original source host and the new
destination if the source returned early, calling init_instance during
the evacuation process.

This change now includes pre-migrating migration records when looking
for active evacuations. Additionally the dict of evacuating instances is
then returned to init_host and used to skip running init_instance
against such instances ensuring no race occurs between the two computes.

Closes-bug: #1764883
Change-Id: I379678dfdb2609f12a572d4f99c8e9da4deab803
"
openstack%2Fneutron~master~Ibc9f3093318d92027eaaf81bd08401c0f02ae414,openstack/neutron,master,bug/1760029,Ibc9f3093318d92027eaaf81bd08401c0f02ae414,Fix ml2 hierarchical port binding driver check error.,MERGED,2018-05-21 06:29:14.000000000,2018-08-02 23:05:05.000000000,2018-07-20 19:01:41.000000000,7,7,1,569715,69b83526303329b8239f839b2869acb1128387e5,46,13,3,2,27815,Huang Cheng,pedh,"Fix ml2 hierarchical port binding driver check error.

Avoid binding loop caused by the wrong comparison between
""id"" and ""segmentation_id"" of a ""segment"" object.

Change-Id: Ibc9f3093318d92027eaaf81bd08401c0f02ae414
Closes-Bug: #1760029
"
openstack%2Fneutron~master~I4ed5de9238800c59a8c505e8d94ee508fe193882,openstack/neutron,master,bump-neutronlib-to-1.18.0,I4ed5de9238800c59a8c505e8d94ee508fe193882,bump neutron-lib requirements to 1.18.0,MERGED,2018-07-18 17:20:00.000000000,2018-08-02 23:05:02.000000000,2018-07-20 04:23:48.000000000,2,2,0,583671,02e9f270e913f26a16f40f161c333e54f2dbdef7,17,9,2,2,5367,boden,boden,"bump neutron-lib requirements to 1.18.0

This patch updates the requirements.txt and lower-constraints.txt to
use neutron-lib 1.18.0 that will be our Rocky GM candidate (assuming no
problems crop up).

Change-Id: I4ed5de9238800c59a8c505e8d94ee508fe193882
"
openstack%2Fnova~master~I9af2348cf7dba53e0fef4054bcedcd5b0c626f50,openstack/nova,master,,I9af2348cf7dba53e0fef4054bcedcd5b0c626f50,Fix ServerMigrationSampleJsonTests to use sample files from version dir,MERGED,2018-07-14 02:30:09.000000000,2018-08-02 23:04:59.000000000,2018-07-29 06:36:42.000000000,2,2,2,582702,064f215172b78d18f18699f1cece7f2b61d198ad,54,20,4,6,8556,Ghanshyam,ghanshyam,"Fix ServerMigrationSampleJsonTests to use sample files from version dir

The ServerMigrationSampleJsonTests functional tests set up
``self.api.microversion`` to 2.22 in its' setUp(), which use
sample files from non version dir.

For consistency, this commit makes these tests to use sample
files from versioned dir.

Change-Id: I9af2348cf7dba53e0fef4054bcedcd5b0c626f50
"
openstack%2Fnova~master~I30f3a385565dc31651d136d80e499be181fa436e,openstack/nova,master,trivial-fix,I30f3a385565dc31651d136d80e499be181fa436e,Fix a typo in comment in resource_provider.py,MERGED,2018-08-02 06:26:11.000000000,2018-08-02 23:04:41.000000000,2018-08-02 15:18:20.000000000,1,1,0,588145,6cb1893d58bd5816a569c70dc076fae4134f0ca4,22,18,1,1,15888,Zhenyu Zheng,Kevin_Zheng,"Fix a typo in comment in resource_provider.py

There is a typo in comment, this comment is very
important for readers to understand what the
function is doing, so fix it.

Trivial-fix

Change-Id: I30f3a385565dc31651d136d80e499be181fa436e
"
openstack%2Fneutron~master~I1cb170de1dbb7ac5380d386d850241f3c4a2f225,openstack/neutron,master,bug/1720727,I1cb170de1dbb7ac5380d386d850241f3c4a2f225,Adding resources callback handler,MERGED,2018-07-06 07:52:51.000000000,2018-08-02 23:04:35.000000000,2018-08-02 10:06:40.000000000,203,24,17,580575,00b923ddf37de2176168f5a525b4190dd4e04c4d,105,17,16,5,15471,Nguyen Phuong An,An-FVL,"Adding resources callback handler

This patch allows logging plugin to handle resource callback
events AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security
group, firewall group.

Co-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>
Partial-Bug: #1720727
Change-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225
"
openstack%2Fnova~master~I0b9e5b711878fa47ba90e43c0b41437b57cf8ef6,openstack/nova,master,bug/1784705,I0b9e5b711878fa47ba90e43c0b41437b57cf8ef6,Make ResourceTracker.stats node-specific,MERGED,2018-07-31 21:31:40.000000000,2018-08-02 23:03:44.000000000,2018-08-02 02:30:53.000000000,34,27,12,587636,b5b7d86bb04f92d21cf954cd6b3463c9fcc637e6,73,22,6,3,6873,Matt Riedemann,mriedem,"Make ResourceTracker.stats node-specific

As of change I6827137f35c0cb4f9fc4c6f753d9a035326ed01b in
Ocata, the ResourceTracker manages multiple compute nodes
via its ""compute_nodes"" variable, but the ""stats"" variable
was still being shared across all nodes, which leads to
leaking stats across nodes in an ironic deployment where
a single nova-compute service host is managing multiple
ironic instances (nodes).

This change makes ResourceTracker.stats node-specific
which fixes the ironic leak but also allows us to remove
the stats deepcopy while iterating over instances which
should improve performance for single-node deployments with
potentially a large number of instances, i.e. vCenter.

Change-Id: I0b9e5b711878fa47ba90e43c0b41437b57cf8ef6
Closes-Bug: #1784705
Closes-Bug: #1777422
"
openstack%2Fnova~master~Ib5fc6e4efae29dd88ce92df834700d2121ed8076,openstack/nova,master,bug/1784604,Ib5fc6e4efae29dd88ce92df834700d2121ed8076,Remove redundant join in _anchors_for_sharing_providers,MERGED,2018-07-31 10:31:24.000000000,2018-08-02 23:03:14.000000000,2018-07-31 18:28:38.000000000,12,5,1,587377,1c66a4b029cc9f939f596cd08ae4c20894d3550e,19,17,1,2,20722,Yikun Jiang,yikunkero,"Remove redundant join in _anchors_for_sharing_providers

There is a redundant join when we want to get id from
_anchors_for_sharing_providers. The last outerjoin is used to get the
rp.UUID according rp.id, if we set get_id=True, we no longer need this
outer join.

So, we remove the redundant join in this patch.

Change-Id: Ib5fc6e4efae29dd88ce92df834700d2121ed8076
Closes-bug: #1784604
"
openstack%2Fnova~master~Id614d609fc8f3ed2d2ff29a2b52143f53b3b1b9a,openstack/nova,master,bug/1719933,Id614d609fc8f3ed2d2ff29a2b52143f53b3b1b9a,[placement] Retry allocation writes server side,MERGED,2018-07-26 11:05:49.000000000,2018-08-02 23:03:08.000000000,2018-07-31 18:28:29.000000000,131,4,28,586048,72e4c4c8d7fb146862b899337626485dad10f15b,94,23,5,3,11564,Chris Dent,chdent,"[placement] Retry allocation writes server side

This change adds a fast retry loop around
AllocationList._set_allocations if a resource provider generation
conflict happens. It turns out that under high concurrency of allocation
claims being made on the same resource provider conflicts can be quite
common and client side retries are insufficient.

Because both consumer generation and resource provider generations had
raised the same exception there was no way to distinguish between the
two so a child of ConcurrentUpdateDetected has been created as
ResourceProviderConcurrentUpdateDetected. In the future this will allow
us to send different error codes to the client as well, but that change
is not done here.

When the conflict is detected, all the resource providers in the
AllocationList are reloaded and the list objects refreshed.

Logging is provided to indicate:

* at debug that a retry is going to happen
* at warning that all the retries failed and the client is going to
  see the conflict

The tests for this are a bit funky: Some mocks are used to cause the
conflicts, then the real actions after a couple of iterations.

Change-Id: Id614d609fc8f3ed2d2ff29a2b52143f53b3b1b9a
Closes-Bug: #1719933
"
openstack%2Fnova~master~I32212b4d8180e947fdc958449aebd822f50e97fd,openstack/nova,master,retry_decorator,I32212b4d8180e947fdc958449aebd822f50e97fd,Retry decorator fix for instances which go into ERROR state during bulk delete,MERGED,2018-04-21 12:15:10.000000000,2018-08-02 23:02:38.000000000,2018-07-31 01:20:01.000000000,63,1,54,563418,c6dda9f8064e0fcdf7ac85d08ed68554083be74b,241,25,17,2,27482,MultipleCrashes,MultipleCrashes,"Retry decorator fix for instances which go into ERROR state during bulk delete

During bulk delete, some of the machines go into ERROR state
rather than being deleted. This happens once in a while during
deletion of huge number of machines concurrently. The failure occurs
during deallocation of network. At a later point in time the ERROR
state gets cleared if the user deletes the instance manually later
on. This fix proposes for retries for certain number of
time with variable delay to allow proper deallocation of network.

Change-Id: I32212b4d8180e947fdc958449aebd822f50e97fd
Closes-Bug: #1765942
"
openstack%2Fnova~master~Ieadeb0d736cc83a41093e6f4dfeb75d2396976ec,openstack/nova,master,bug/1684261,Ieadeb0d736cc83a41093e6f4dfeb75d2396976ec,Updated AggregateImagePropertiesIsolation filter illustration,MERGED,2018-07-26 18:29:52.000000000,2018-08-02 23:02:34.000000000,2018-07-30 21:21:53.000000000,8,4,7,586317,a9083d13b0a18fb9832878e19a71d42d206f15f0,61,17,6,1,28171,karim,karimull,"Updated AggregateImagePropertiesIsolation filter illustration

The example given in this section was not matching the explanation
of how the filter works.
Updated the example with right properties and aggregate name

Change-Id: Ieadeb0d736cc83a41093e6f4dfeb75d2396976ec
Closes-Bug: #1684261
"
openstack%2Fnova~master~Iadd32c731ebfb5a62308a4d5f907a69f93590935,openstack/nova,master,bp/placement-extract,Iadd32c731ebfb5a62308a4d5f907a69f93590935,[placement] Use a non-nova log capture fixture,MERGED,2018-07-30 16:39:40.000000000,2018-08-02 23:02:29.000000000,2018-08-01 13:32:31.000000000,65,4,5,587130,1de7ac302a3f7fa4228c661fd6e6eea64293dbd0,25,12,2,4,11564,Chris Dent,chdent,"[placement] Use a non-nova log capture fixture

We want to avoid using the nova StandardLogging fixture, to limit
imports from nova, but it has two useful features that we want:

* always capture
* if the chosen log level is more than DEBUG, format DEBUG message
  anyway, but don't output

blueprint: placement-extract

Change-Id: Iadd32c731ebfb5a62308a4d5f907a69f93590935
"
openstack%2Fopenstack-ansible~stable%2Fqueens~Ia9e2456ce17d23250add00462ea32d03788e0d16,openstack/openstack-ansible,stable/queens,bp/python-build-install-simplification-stable/queens,Ia9e2456ce17d23250add00462ea32d03788e0d16,Replace default pip index check with upper constraints check,MERGED,2018-08-01 15:47:41.000000000,2018-08-02 23:02:26.000000000,2018-08-02 23:02:26.000000000,1,11,0,587860,37bd433a83516543900a4ad638754fbfaaa8a91e,9,4,1,1,6816,Jesse Pretorius,jesse-pretorius,"Replace default pip index check with upper constraints check

Now that the repo container is not reverse proxying pypi, the
default index check passes, but anything that tries to use it
prior to the repo build will fail because the repo server has
no wheels built yet.

Instead of checking whether the index is available we switch
to using the upper constraints file check, because that is
only present once the repo is actually built and there are
therefore wheels available on the pypiserver.

Change-Id: Ia9e2456ce17d23250add00462ea32d03788e0d16
(cherry picked from commit b46f428de92df0cad45333985a111cafb0adbeab)
"
openstack%2Fnova~master~I025a2d14c4126f68e199efa54329797576c50677,openstack/nova,master,bp/placement-extract,I025a2d14c4126f68e199efa54329797576c50677,[placement] Use own set_middleware_defaults,MERGED,2018-07-30 17:59:19.000000000,2018-08-02 23:02:24.000000000,2018-08-01 14:36:02.000000000,24,2,10,587183,45dbccd1fae91a42a69292cb9e708ed14de0a90f,36,17,2,1,11564,Chris Dent,chdent,"[placement] Use own set_middleware_defaults

The CORS middleware needs to have its defaults set to something
reaonable. Placement had been using some code in nova to do so.
This change duplicates that code into the placement WSGI app
which had been calling it.

Change-Id: I025a2d14c4126f68e199efa54329797576c50677
blueprint: placement-extract
"
openstack%2Fneutron~master~Id88ca1a6997d39bf0d14589c0a2725b4ac109cec,openstack/neutron,master,add-exprimental-jobs-with-uwsgi,Id88ca1a6997d39bf0d14589c0a2725b4ac109cec,WSGI: Add experimental jobs with uwsgi,MERGED,2018-07-04 06:40:58.000000000,2018-08-02 23:02:12.000000000,2018-07-30 10:43:25.000000000,354,0,0,580049,b79021378835426acbf9e0e75f6468f825d84b8b,81,15,8,5,15471,Nguyen Phuong An,An-FVL,"WSGI: Add experimental jobs with uwsgi

This patch adds exprimental tempest, functional and fullstack
jobs when neutron-api is served by a webserver as a part of
community goal.

Change-Id: Id88ca1a6997d39bf0d14589c0a2725b4ac109cec
"
openstack%2Fnova~master~I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e,openstack/nova,master,bp/numa-aware-vswitches,I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e,Assorted cleanups from numa-aware-vswitches series,MERGED,2018-07-13 17:41:20.000000000,2018-08-02 23:01:00.000000000,2018-07-29 03:41:15.000000000,12,14,2,582651,24c016ed6cf589c3d46b7d71782a346478b92efa,156,21,15,7,15334,Stephen Finucane,sfinucan,"Assorted cleanups from numa-aware-vswitches series

Resolve open issues from preceding patches.

Part of blueprint numa-aware-vswitches

Change-Id: I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e
"
openstack%2Fnova~master~I7a7cd5ba708433c29757d393efaa8b5ef8948da1,openstack/nova,master,bug/1783917,I7a7cd5ba708433c29757d393efaa8b5ef8948da1,Pass source vifs to driver.cleanup in _post_live_migration,MERGED,2018-07-27 14:12:10.000000000,2018-08-02 23:00:55.000000000,2018-07-27 23:27:08.000000000,31,9,7,586568,64b030ffaf578dee925a6ac2d47264346843ba2d,33,15,1,2,6873,Matt Riedemann,mriedem,"Pass source vifs to driver.cleanup in _post_live_migration

This is a follow up to Ie6439499cc7c6f05eec692dda677caf649dd7c94
where we use the VIFMigrateData.source_vif objects, if available,
to unplug vifs on the source host in _post_live_migration. That
change missed that if driver.post_live_migration_at_source()
fails, the destroy_vifs flag tells driver.cleanup() (if called)
to unplug vifs. Note that the libvirt driver heeds the destroy_vifs
flag but some drivers do not, like the hyper-v driver, and
unconditionally unplug vifs when driver.cleanup() is called.

This change simply passes the same unplug_nw_info variable to
driver.cleanup() as gets passed to post_live_migration_at_source()
and the unit test is updated accordingly.

Change-Id: I7a7cd5ba708433c29757d393efaa8b5ef8948da1
Related-Bug: #1783917
"
openstack%2Fnova~master~Ie5f1ed9e622398b072a6825c4f7413cde4c17c25,openstack/nova,master,trivialfix,Ie5f1ed9e622398b072a6825c4f7413cde4c17c25,Fix create_all() to replace_all() in comments,MERGED,2018-07-27 02:51:09.000000000,2018-08-02 23:00:50.000000000,2018-07-28 03:54:50.000000000,6,6,0,586396,95998b7ba5e3ad09f1670c92abfb7158cdd3f76d,33,15,2,2,25625,Tetsuro Nakamura,tetsuro0907,"Fix create_all() to replace_all() in comments

This patch is a follow-up of the following commit
11c29ae4702ac4f50baa9fe3a29e3e413ad69b09, where
AllocationList.create_all() has been renamed to
AllocationList.replace_all().

Change-Id: Ie5f1ed9e622398b072a6825c4f7413cde4c17c25
"
openstack%2Fnova~master~Iac3f666d53a48cdef26be4d17754fd0a481306a5,openstack/nova,master,bp/complex-anti-affinity-policies,Iac3f666d53a48cdef26be4d17754fd0a481306a5,Change deprecated policies to policy,MERGED,2018-07-18 02:26:57.000000000,2018-08-02 23:00:46.000000000,2018-08-01 09:53:02.000000000,18,19,0,583434,020edde12f66b8e88b3d55859510bd6931d88463,61,23,4,6,20722,Yikun Jiang,yikunkero,"Change deprecated policies to policy

The policies is deprecated in
8fa70e5dfc73e52d52c94ec2781ff185fdcca481, and is replaced with
policy field.

This patch changes deprecated policies to policy.

Change-Id: Iac3f666d53a48cdef26be4d17754fd0a481306a5
"
openstack%2Fnova~master~I163e57f581856b5c14dcd039b7d95f06b9b4019a,openstack/nova,master,bp/neutron-new-port-binding-api,I163e57f581856b5c14dcd039b7d95f06b9b4019a,Fix accumulated nits from port binding for live migration series,MERGED,2018-07-19 15:34:39.000000000,2018-08-02 23:00:41.000000000,2018-07-28 16:51:51.000000000,104,52,9,583994,f0b9d5204f3f3361341f4ee9270c7266447a07c6,52,16,2,9,6873,Matt Riedemann,mriedem,"Fix accumulated nits from port binding for live migration series

Change-Id: I163e57f581856b5c14dcd039b7d95f06b9b4019a
"
openstack%2Fneutron~master~Ibc446f8234bff80d5b16c988f900d3940245ba89,openstack/neutron,master,bp/port_forwarding,Ibc446f8234bff80d5b16c988f900d3940245ba89,[server side] Floating IP port forwarding plugin,MERGED,2018-07-03 16:12:07.000000000,2018-08-02 23:00:14.000000000,2018-07-27 00:49:07.000000000,1086,2,129,579910,21ae99d5b3e287480a2d9cfcfdc2571671d047c4,121,15,12,13,15309,zhaobo,ZhaoBo,"[server side] Floating IP port forwarding plugin

This patch implements the plugin.
This patch introduces an new service plugin for port forwarding resources,
named 'pf_plugin', and supports create/update/delete port forwarding
operation towards a free Floating IP.

This patch including some works below:
* Introduces portforwarding extension and the base class of plugin
* Introduces portforwarding plugin, support CRUD port forwarding
resources
* Add the policy of portforwarding

The race issue fix in:
https://review.openstack.org/#/c/574673/

Fip extend port forwarding field addition in:
https://review.openstack.org/#/c/575326/

Partially-Implements: blueprint port-forwarding
Change-Id: Ibc446f8234bff80d5b16c988f900d3940245ba89
Partial-Bug: #1491317
"
openstack%2Fnova~master~I026b2394e6aa2fef8b1990923f9dcf8b3945175c,openstack/nova,master,bp/s,I026b2394e6aa2fef8b1990923f9dcf8b3945175c,doc: add missing permission for the vCenter service account,MERGED,2018-07-25 08:58:00.000000000,2018-08-02 23:00:04.000000000,2018-07-27 10:52:41.000000000,8,0,0,585683,676a68bb67a1f9baac7f28f228c6a3eda526ee3b,14,9,1,1,9172,Radoslav Gerganov,rgerganov,"doc: add missing permission for the vCenter service account

The service account that is being used by Nova needs ""Profile-driven
storage view"" permission for SPBM[0] to work. It is located under the
""Profile-driven storage"" node in the Privileges tree.
This patch fixes the doc to address this.

[0] https://blueprints.launchpad.net/nova/+spec/vmware-spbm-support

Change-Id: I026b2394e6aa2fef8b1990923f9dcf8b3945175c
"
openstack%2Fnova~master~I1f6e6db6aca7dd160d3e94bb0b6ebf9b4f8dfd7d,openstack/nova,master,cd/placement-context,I1f6e6db6aca7dd160d3e94bb0b6ebf9b4f8dfd7d,Use placement context in placement functional tests,MERGED,2018-07-24 19:56:43.000000000,2018-08-02 22:59:45.000000000,2018-07-25 13:03:25.000000000,10,11,0,585529,13bbe6e891d7fe5ea73c0887db03041a7d61468d,16,10,1,4,11564,Chris Dent,chdent,"Use placement context in placement functional tests

A few placement functional tests were importing and using
nova.context for a RequestContext. Placement has its own
in nova.api.openstack.placement.context so use that instead.

In the process, stop using an 'admin' context. It is not
necessary in placement as we do not do any policy checking
at the database level.

Change-Id: I1f6e6db6aca7dd160d3e94bb0b6ebf9b4f8dfd7d
"
openstack%2Fnova~master~Ide262733ffd7714fdc702b31c61bdd42dbf7acc3,openstack/nova,master,bp/numa-aware-vswitches,Ide262733ffd7714fdc702b31c61bdd42dbf7acc3,scheduler: Start utilizing RequestSpec.network_metadata,MERGED,2018-04-26 10:23:51.000000000,2018-08-02 22:59:41.000000000,2018-07-29 02:42:30.000000000,298,14,57,564452,803f85d7e638c7367db709a93f732f12d81e083a,420,22,30,10,15334,Stephen Finucane,sfinucan,"scheduler: Start utilizing RequestSpec.network_metadata

Now that we have this information, we can use it as a pre-filtering for
suitable hosts.

With this patch we complete the blueprint. As a result, documentation
and release notes are bundled in the patch and previously inactive tests
are now enabled.

Part of blueprint numa-aware-vswitches

Change-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3
"
openstack%2Fnova~master~I393bd58b8fede38af98ded0c7be099ef22b6f75b,openstack/nova,master,bp/numa-aware-vswitches,I393bd58b8fede38af98ded0c7be099ef22b6f75b,Consider network NUMA affinity for move operations,MERGED,2018-07-24 12:49:19.000000000,2018-08-02 22:59:36.000000000,2018-07-28 12:50:41.000000000,165,19,29,585339,7aa9d1c23b8544b276c64316a3539ba5560d3e57,95,20,5,10,15334,Stephen Finucane,sfinucan,"Consider network NUMA affinity for move operations

There are two things required here. Firstly, we need to start
(consistently) storing the physnet and tunneled status of various
networks in 'Instance.info_cache.network_info'. Once we have this
information, we can use it to populate the
'RequestSpec.network_metadata', which can be consumed by later changes
in the series.

Note that live migrations and evacuations with a forced destination
host bypass the scheduler which also means there will be no NUMA
vswitch affinity ""claims"" on the destination host for those force
move operations. This is not a regression since (1) live migration
is not NUMA affinity aware nor does claims anyway (see blueprint
numa-aware-live-migration) and (2) forced host evacuate already does
not perform claims on the compute since the scheduler is bypassed
so the limits passed to compute, used for the claim, are empty.

Part of blueprint numa-aware-vswitches

Change-Id: I393bd58b8fede38af98ded0c7be099ef22b6f75b
"
openstack%2Fnova~master~I5c7dc5aca232a9d330968de29eeee6a55cb035ab,openstack/nova,master,rocky-summit-videos,I5c7dc5aca232a9d330968de29eeee6a55cb035ab,doc: link to CERN summit video about upgrading from cells v1 to v2,MERGED,2018-07-23 22:16:11.000000000,2018-08-02 22:59:23.000000000,2018-07-30 12:54:04.000000000,5,0,0,585044,87691055e339bfcb4700382e43fa915c7fa4b358,20,16,1,1,6873,Matt Riedemann,mriedem,"doc: link to CERN summit video about upgrading from cells v1 to v2

This adds a link to Rocky summit video from CERN about how
they performed their upgrade from cells v1 to cells v2.

Change-Id: I5c7dc5aca232a9d330968de29eeee6a55cb035ab
"
openstack%2Fnova~master~I87f085589bb663c519650f307f25d087c88bbdb1,openstack/nova,master,bug/1766301,I87f085589bb663c519650f307f25d087c88bbdb1,ironic: add instance_uuid before any other spawn activity,MERGED,2018-04-23 17:54:10.000000000,2018-08-02 22:59:18.000000000,2018-07-24 05:21:15.000000000,220,17,52,563722,e45c5ec819cfba3a45367bfe7dd853769c80d816,172,23,11,5,10343,Jim Rollenhagen,jimrollenhagen,"ironic: add instance_uuid before any other spawn activity

In the baremetal use case, it is necessary to allow a remote
source of truth assert information about a physical node,
as opposed to a client asserting desired configuration.

As such, the prepare_networks_before_block_device_mapping virt
driver method was added, however in doing so network VIF attaching
was moved before actual hardware reservation. As ironic only
supports users to have a number of VIFs limited by the number
of network interfaces in the physical node, VIF attach actions
cannot be performed without first asserting control over the node.

Adding an ""instance_uuid"" upfront allows other ironic API consumers
to be aware that a node is now in use. Alternatively it also allows
nova to become aware prior to adding network information on the node
that the node may already be in use by an external user.

Co-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>

Change-Id: I87f085589bb663c519650f307f25d087c88bbdb1
Closes-Bug: #1766301
"
openstack%2Fnova~master~I4d5f26061594fa9863c1110e6152069e44168cc3,openstack/nova,master,bp/add-consumer-generation,I4d5f26061594fa9863c1110e6152069e44168cc3,Use consumer generation in _heal_allocations_for_instance,MERGED,2018-06-25 19:08:42.000000000,2018-08-02 22:59:13.000000000,2018-07-24 03:21:52.000000000,37,27,20,577905,660e328a25cc361881815fb0906ee9ee35c4a645,146,19,11,9,6873,Matt Riedemann,mriedem,"Use consumer generation in _heal_allocations_for_instance

If we're updating existing allocations for an instance due
to the project_id/user_id not matching the instance, we should
use the consumer_generation parameter, new in placement 1.28,
to ensure we don't overwrite the allocations while another
process is updating them.

As a result, the include_project_user kwarg to method
get_allocations_for_consumer is removed since nothing else
is using it now, and the minimum required version of placement
checked by nova-status is updated to 1.28.

Change-Id: I4d5f26061594fa9863c1110e6152069e44168cc3
"
openstack%2Fnova~master~Ic5188d4c5a7e8aa4c79c37e63124fe3a305ef568,openstack/nova,master,bug/1469179,Ic5188d4c5a7e8aa4c79c37e63124fe3a305ef568,Cache is_bfv check in ResourceTracker,MERGED,2018-07-23 16:24:05.000000000,2018-08-02 22:59:03.000000000,2018-08-01 17:09:06.000000000,33,4,4,584962,3a022299c13ff6a0a949c05c54fdc7331416a0b0,24,15,1,2,6873,Matt Riedemann,mriedem,"Cache is_bfv check in ResourceTracker

Whether or not an instance is volume-backed shouldn't
change for the lifetime of the server, so rather than
figure that out during every operation (or periodic task)
for an instance in the resource tracker, get the is_bfv
value once and cache it. The cache entries are removed
when the instance is removed from the host (either deleted,
migrated or shelved offloaded).

Change-Id: Ic5188d4c5a7e8aa4c79c37e63124fe3a305ef568
Related-Bug: #1782393
"
openstack%2Fnova~master~Ica456f2512ebe7814c5d20f205ba89b49c42050a,openstack/nova,master,bug/1469179,Ica456f2512ebe7814c5d20f205ba89b49c42050a,Add shelve/unshelve wrinkle to volume-backed disk func test,MERGED,2018-07-23 15:15:32.000000000,2018-08-02 22:55:47.000000000,2018-08-01 16:05:50.000000000,27,1,2,584931,dc5c69d0d118be838245a18fb636b044249a9863,22,15,2,2,6873,Matt Riedemann,mriedem,"Add shelve/unshelve wrinkle to volume-backed disk func test

This adds a shelve/unshelve scenario to the functional test
which checks that root_gb from the flavor does not show up
in placement for volume-backed servers. Because the shelve
happens after we've cold migrated the server to a new host,
the fake virt driver's finish_migration() method needed to
be implemented to track the instance on the destination host.

Change-Id: Ica456f2512ebe7814c5d20f205ba89b49c42050a
Related-Bug: #1469179
"
openstack%2Freleases~master~I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf,openstack/releases,master,tripleo/ansible,I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf,First release for new Ansible roles in TripleO,MERGED,2018-07-26 12:53:41.000000000,2018-08-02 22:54:22.000000000,2018-08-02 22:54:22.000000000,40,0,5,586202,27e7f183e05d1882343898d36d41220372dcbfe8,31,6,12,3,3153,Emilien Macchi,emilienm,"First release for new Ansible roles in TripleO

First release: 1.0.0

* ansible-role-container-registry
* ansible-role-tripleo-modify-image

Update existing releases for: ansible-role-redhat-subscription

Type: cycle-with-intermediary

These roles are similar to tripleo-ipsec, so we are releasing these new
roles the same way for consistency.

Change-Id: I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf
"
openstack%2Fswift~stable%2Fpike~Ide2edf8c449c97d45f48c2dbbbff7aebefa4b158,openstack/swift,stable/pike,bug/1738804,Ide2edf8c449c97d45f48c2dbbbff7aebefa4b158,Fix socket leak on 416 EC GET responses.,MERGED,2018-07-24 13:05:28.000000000,2018-08-02 22:48:30.000000000,2018-08-02 22:48:30.000000000,49,2,0,585342,8ff69e69bf4be0a0085916339003dc1368b7c703,7,4,1,2,23449,Pavel Kvasnička,PavelK,"Fix socket leak on 416 EC GET responses.

Sometimes, when handling an EC GET request with a Range header, the
object servers reply 206 to the proxy, but the proxy (correctly)
replies 416 to the client[1]. In that case, the connections to the object
servers were not being closed. This was due to improper error handling
in ECAppIter.

Since ECAppIter is intended to be a WSGI iterable, it expects to have
its close() method called when the caller is done with it. In this
particular case, the caller (ECAppIter.kickoff()) was not calling
close() when an exception was raised. Now it is.

[1] consider a 4+2 EC policy with segment size 1024, an 20 byte
object, and a request with ""Range: bytes=21-50"". The proxy needs whole
fragments to decode, so it asks the object server for ""Range:
bytes=0-255"" [2], the object server says 206, and then the proxy
realizes that the client's request is unsatisfiable and tells the
client 416.

[2] segment size 1024 and 4 data fragments means the fragments have
size 1024 / 4 = 256, hence ""bytes=0-255"" asks for the first whole
fragment

Change-Id: Ide2edf8c449c97d45f48c2dbbbff7aebefa4b158
Closes-Bug: 1738804
"
openstack%2Fpython-swiftclient~stable%2Frocky~Icdc3c10779e5a76090fab218e2ef9a143de70eb5,openstack/python-swiftclient,stable/rocky,create-rocky,Icdc3c10779e5a76090fab218e2ef9a143de70eb5,Update .gitreview for stable/rocky,MERGED,2018-07-25 16:51:52.000000000,2018-08-02 22:48:29.000000000,2018-08-02 22:48:29.000000000,1,0,0,585822,f7400b48796414631ceb54e5f162d25620b15679,7,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/rocky

Change-Id: Icdc3c10779e5a76090fab218e2ef9a143de70eb5
"
openstack%2Fswift~stable%2Fpike~I34ed9e1c4b822f700e42fb07937df7be72cbaf4e,openstack/swift,stable/pike,zuulv3-native-stable/pike,I34ed9e1c4b822f700e42fb07937df7be72cbaf4e,Native Zuul v3 tox jobs,MERGED,2018-07-30 16:19:32.000000000,2018-08-02 22:48:28.000000000,2018-08-02 22:48:28.000000000,151,0,0,587108,af6aeb3fbe9d028c148c38fb82b9c65182e3dc4f,8,4,1,2,9625,Thiago da Silva,thiago,"Native Zuul v3 tox jobs

Convert the legacy tox jobs to Zuul v3 native and use the
tools/test_setup.sh script to setup a XFS file like it's done in the
legacy job.

Needed-By: Id2b5cff998ac3a825a8f515c7bae3b433f30d272
Change-Id: I34ed9e1c4b822f700e42fb07937df7be72cbaf4e
(cherry picked from commit dc1c55c9a07c03fe85f4bcc52419a42d75ae30fa)
"
openstack%2Fnova~master~I49c4e87d15e6fb0fda1b4efd7252bc5ca2066fb4,openstack/nova,master,bug/1469179,I49c4e87d15e6fb0fda1b4efd7252bc5ca2066fb4,Fix wonky reqspec handling in conductor.unshelve_instance,MERGED,2018-07-18 20:57:12.000000000,2018-08-02 22:33:54.000000000,2018-07-24 12:53:40.000000000,25,37,0,583739,b537148228a0bbafc618a52af905addd29b2543d,36,16,4,2,6873,Matt Riedemann,mriedem,"Fix wonky reqspec handling in conductor.unshelve_instance

Removes the populate_retry call since we don't reschedule
from failed unshelve calls in the compute. That was added
as a partial fix for bug 1400015 but it was never completed.

The to_legacy/from_primitives stuff in here dropped the is_bfv
setting on the request spec, which means we'd have to
recalculate that every time. Instead, if we're given a valid
RequestSpec, use it, otherwise create a fake one and then we'll
heal the RequestSpec.is_bfv field on that one. Plus all of that
missing request spec compat code should get dropped in Stein
anyway (finally).

Related-Bug: #1469179

Change-Id: I49c4e87d15e6fb0fda1b4efd7252bc5ca2066fb4
"
openstack%2Fnova~master~I8e529ad4d707b2ad012328993892db83ce464c4b,openstack/nova,master,bug/1469179,I8e529ad4d707b2ad012328993892db83ce464c4b,Heal RequestSpec.is_bfv for legacy instances during moves,MERGED,2018-07-18 19:49:25.000000000,2018-08-02 22:24:34.000000000,2018-07-24 06:52:50.000000000,107,0,9,583715,9344c1995a059675af7a8e9cf0de0502bef46c94,46,18,5,9,6873,Matt Riedemann,mriedem,"Heal RequestSpec.is_bfv for legacy instances during moves

Change I9c2111f7377df65c1fc3c72323f85483b3295989 sets the
RequestSpec.is_bfv flag for newly created instances so
that scheduling (using placement) does not allocate DISK_GB
resources for the Flavor's root_gb when booting from volume.

RequestSpecs for old instances created before that change will
not have the is_bfv field set, so this change adds a check for
that in the various move operations (evacuate, unshelve, cold
migrate and live migrate) and sets the RequestSpec.is_bfv flag
accordingly.

The related functional test is updated for the legacy cold
migrate and heal scenario.

Change-Id: I8e529ad4d707b2ad012328993892db83ce464c4b
Closes-Bug: #1469179
"
openstack%2Fnova~master~I0839470c4bcfb16590a0d87b306d683b059bf8a9,openstack/nova,master,bug/1469179,I0839470c4bcfb16590a0d87b306d683b059bf8a9,Report 0 root_gb in resource tracker if instance is bfv.,MERGED,2018-07-20 02:42:00.000000000,2018-08-02 22:04:48.000000000,2018-07-24 06:44:11.000000000,63,20,6,584204,f63fd14975cda83d24121b010cbedfc3a7e5ff1f,72,19,5,4,15888,Zhenyu Zheng,Kevin_Zheng,"Report 0 root_gb in resource tracker if instance is bfv.

hypervisor local_gb_used still reports usage even with volume-backed
instances after fix for bug 1469179.

This is because of some code in the resource tracker that is not
boot-from-volume aware when reporting disk usage, it just gets the
root_gb off the flavor:

https://github.com/openstack/nova/blob/eb4f65a7951e921b1cd8d05713e144e72f2f254f/nova/compute/resource_tracker.py#L1455

This patch simply check if the instance is bfv before returning
the result. If it's a volume-backed instance and report 0 for root_gb if
that's the case.

Change-Id: I0839470c4bcfb16590a0d87b306d683b059bf8a9
Closes-bug: #1782393
"
openstack%2Ftripleo-ci~master~I35b32eb011cb1fe9a882cd25bf3dee2840920d22,openstack/tripleo-ci,master,test-larger-bmc-flavor,I35b32eb011cb1fe9a882cd25bf3dee2840920d22,WIP- DNM - Increase the flavor of BMC node for OVB,ABANDONED,2018-08-02 19:54:55.000000000,2018-08-02 22:03:15.000000000,,1,1,0,588366,743d0b3fa973396ba3f7854873a5580a6839cead,8,4,3,1,9976,Ronelle Landy,rlandy,"WIP- DNM - Increase the flavor of BMC node for OVB

https://bugs.launchpad.net/tripleo/+bug/1784822
details sporadic IPMI failures.
This review increases the size/resources of the bmc flavor
to test if the additional resources get the CI past
the IPMI failures.

Change-Id: I35b32eb011cb1fe9a882cd25bf3dee2840920d22
"
openstack%2Fopenstack-helm~master~Id4c8f805dbc4472f9b49d19d2e0307d722dd7196,openstack/openstack-helm,master,armada_add_nagios,Id4c8f805dbc4472f9b49d19d2e0307d722dd7196,Armada: Add Nagios to armada-lma manifest,MERGED,2018-08-01 13:49:56.000000000,2018-08-02 22:02:35.000000000,2018-08-02 22:02:35.000000000,38,0,0,587825,fe8c56e7789287591c42efb2d560cf309aa3593d,14,4,4,1,17591,Steve Wilkerson,srwilkers,"Armada: Add Nagios to armada-lma manifest

This adds nagios to the armada-lma manifest and includes it in
the monitoring chart group

Depends-On: https://review.openstack.org/#/c/587972/
Change-Id: Id4c8f805dbc4472f9b49d19d2e0307d722dd7196
"
openstack%2Fmanila-ui~master~I49e4756b1701822e1a991a661d9beb2401cdf795,openstack/manila-ui,master,debug,I49e4756b1701822e1a991a661d9beb2401cdf795,mox test,ABANDONED,2018-08-02 21:55:15.000000000,2018-08-02 21:58:23.000000000,,0,0,0,588399,abfd87eca1013ef7d9e41bec2a23d692160a48a4,2,0,1,0,16643,Goutham Pacha Ravi,gouthamr,"mox test

Change-Id: I49e4756b1701822e1a991a661d9beb2401cdf795
"
openstack%2Fnova~master~I3de5c839d212cfab1c69e2c78617c1051b971c38,openstack/nova,master,bp/handling-down-cell,I3de5c839d212cfab1c69e2c78617c1051b971c38,Update queued-for-delete from the ComputeAPI during deletion/restoration,MERGED,2018-05-08 08:29:47.000000000,2018-08-02 21:57:21.000000000,2018-07-27 23:27:16.000000000,51,8,38,566813,2499f616094f63ed0a1a3c201789d14cc61a62c4,191,22,12,4,26936,Surya Seetharaman,tssurya,"Update queued-for-delete from the ComputeAPI during deletion/restoration

This patch updates queued-for-delete column in the instance_mapping
table from the ComputeAPI during normal delete, local delete (when
the compute service is down or instance is shelved offloaded) and
soft-delete operations. Note that as the name of the column suggests,
it is only ""queued"" for deletion and does not guarantee successful
deletion of the instance. Hence the value could be stale which is fine,
considering its use is only during down cell (desperate) situation.
This in no way hampers normal delete operations in nova.

This column is also updated from the ComputeAPI during the
nova restore operation.

Related to blueprint handling-down-cell

Change-Id: I3de5c839d212cfab1c69e2c78617c1051b971c38
"
openstack%2Fos-vif~stable%2Fqueens~Ife09b596d7bb009e623c8b9edbd424b8fc6f2556,openstack/os-vif,stable/queens,fix-tox-stable/queens,Ife09b596d7bb009e623c8b9edbd424b8fc6f2556,fix tox py27 job,MERGED,2018-05-11 20:41:56.000000000,2018-08-02 21:56:35.000000000,2018-08-02 21:56:35.000000000,1,1,0,567942,37da821122d7ea9f761bc4750586571fea239e65,10,6,1,1,11604,sean mooney,sean-k-mooney,"fix tox py27 job

- The current py27 tox env only runs the
  unit tests for core os-vif lib.
- This change removes --test-path=""os_vif/tests""
  to renable the unit tests for all  in tree plugins.

Change-Id: Ife09b596d7bb009e623c8b9edbd424b8fc6f2556
"
openstack%2Foctavia~master~Ib23edb7190ffb777e4a95f45a253e8a632beb046,openstack/octavia,master,udp_support,Ib23edb7190ffb777e4a95f45a253e8a632beb046,UDP jinja template,MERGED,2017-12-05 04:08:02.000000000,2018-08-02 21:49:23.000000000,2018-08-02 21:49:23.000000000,757,15,92,525420,008ccb652dce9a260c5eb90796994dd459a4fcff,130,8,45,10,15309,zhaobo,ZhaoBo,"UDP jinja template

This is the jinja template[1] for keepalived to enable lvs configuration.
And including some transform function from obj to rendered configuration.

These files will split with the current Octavia repo, before other parts are
ok.

Patch List:

[1] Finish keepalived LVS jinja template for UDP support
[2] Extend the ability of amp agent for upload/refresh the keepalived
process
[3] Extend the db model and db table with necessary fields for met the new udp backend
[4] Add logic/workflow elements process in UDP cases
[5] Extend the existing API to access udp parameters in Listener API
[6] Extend the existing pool API to access the new option in
session_persistence fields

Story: 1657091
Task: 23208
Change-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046
"
openstack%2Fos-vif~stable%2Fpike~I03145681e0634ec52663a1ec4f54021e3325a6b1,openstack/os-vif,stable/pike,bug/1736727-stable/pike,I03145681e0634ec52663a1ec4f54021e3325a6b1,Check if interface belongs to a Linux Bridge before removing,MERGED,2018-01-05 18:35:17.000000000,2018-08-02 21:46:00.000000000,2018-08-02 21:46:00.000000000,30,3,0,531465,5f7ad5283ce2d1ae99184e06824d6e6f70b83ae9,10,7,1,2,11604,sean mooney,sean-k-mooney,"Check if interface belongs to a Linux Bridge before removing

Checks if an interface belongs to a Linux Bridge before deleting
the interface and the bridge.

Change-Id: I03145681e0634ec52663a1ec4f54021e3325a6b1
Closes-Bug: #1736727
(cherry picked from commit 72b27d0e8664e3b4055dcf5d2fc191c94b696681)
"
openstack%2Fnova~master~Iebb6974efda6dd5b24bc9ad987b6400455c780b6,openstack/nova,master,bp/handling-down-cell,Iebb6974efda6dd5b24bc9ad987b6400455c780b6,Add queued_for_delete field to InstanceMapping object,MERGED,2018-05-08 07:06:49.000000000,2018-08-02 21:42:41.000000000,2018-07-25 04:59:45.000000000,26,2,5,566795,1c4a3827dab86d816a8596f9159ef8b183b9c390,149,22,9,3,26936,Surya Seetharaman,tssurya,"Add queued_for_delete field to InstanceMapping object

This patch adds a new field queued_for_delete to InstanceMapping
object which would be used to represent the value in the queued_for_delete
column of the instance_mappings table for each record.

This will be set to True if an instance is either deleted or soft_deleted.

Will be adding a data migration tool for filling this field.

Related to blueprint handling-down-cell

Change-Id: Iebb6974efda6dd5b24bc9ad987b6400455c780b6
"
openstack%2Fironic~stable%2Fqueens~I3395063ce6a98e040518a133e7928f6c780f4829,openstack/ironic,stable/queens,story/2003097-stable/queens,I3395063ce6a98e040518a133e7928f6c780f4829,Deprecate xclarity hardware type,MERGED,2018-08-01 12:41:15.000000000,2018-08-02 21:23:51.000000000,2018-08-02 21:23:51.000000000,40,0,0,587806,82fd058a4d071e1bdd4650f3713ccb42bc4e30c3,23,7,1,4,11655,Julia Kreger,jkreger,"Deprecate xclarity hardware type

Lenovo Third Party CI is still being setup,
and while they are making forward progress,
we need to plan ahead for the Stein cycle.

As such, marking the xclarity hardware type
and related interfaces as deprecated.

Once Lenovo has their 3rd party CI operational,
this change can be reverted.

Change-Id: I3395063ce6a98e040518a133e7928f6c780f4829
Story: #2003097
Task: #23190
(cherry picked from commit 7cd960f8e1a10dead6837017e37d0cebd5c29247)
"
openstack%2Fpuppet-nova~master~I9fd52059aea1c944089de0cd02a6400c9d60b3e8,openstack/puppet-nova,master,bug/1779836,I9fd52059aea1c944089de0cd02a6400c9d60b3e8,Fix nova_aggregate parse when multiple metadata,MERGED,2018-07-03 11:55:00.000000000,2018-08-02 21:19:40.000000000,2018-08-02 21:19:40.000000000,4,2,0,579848,92d6a7f717a2087b692a5123057676d955340979,13,5,2,2,28332,Alexandre arents,aarents,"Fix nova_aggregate parse when multiple metadata

Change-Id: I9fd52059aea1c944089de0cd02a6400c9d60b3e8
Closes-Bug: #1779836
"
openstack%2Fopenstack-ansible~stable%2Fqueens~I39f076e01a3acb13966ff9d5a5b23e7c526289b6,openstack/openstack-ansible,stable/queens,bug/1783132,I39f076e01a3acb13966ff9d5a5b23e7c526289b6,Rename designate_galera_database_name,MERGED,2018-08-01 18:05:58.000000000,2018-08-02 21:09:30.000000000,2018-08-02 21:09:30.000000000,3,3,1,587931,4f80bfe34b267da069371ab1c3b901a7d68d4ca6,14,4,3,3,28008,Guilherme,guilhermesp,"Rename designate_galera_database_name

We need to rename this variable to designate_galera_database
as is declared in os_designate role.

Closes-Bug: 1783132
Change-Id: I39f076e01a3acb13966ff9d5a5b23e7c526289b6
"
openstack%2Fopenstack-ansible-os_cinder~master~I1cb10aa591a8262add47e2f5b61cfded9e28241d,openstack/openstack-ansible-os_cinder,master,common-systemd-service,I1cb10aa591a8262add47e2f5b61cfded9e28241d,Convert role to use a common systemd service role,MERGED,2018-06-12 17:10:34.000000000,2018-08-02 21:08:50.000000000,2018-08-02 21:08:50.000000000,71,177,11,574817,12ea9635ff5f4d4dd9eee068e7ce27fb84a52846,48,7,15,14,7353,Kevin Carter,cloudnull,"Convert role to use a common systemd service role

This removes the systemd service templates and tasks from this role and
leverages a common systemd service role instead. This change removes a
lot of code duplication across all roles all without sacrificing features
or functionality. The intention of this change is to ensure uniformity and
reduce the maintenance burden on the community when sweeping changes are
needed.

The systemd journal would normally be populated with the standard out of
a service however with the use of uwsgi this is not actually happening
resulting in us only capturing the logs from the uwsgi process instead
of the service itself. This change implements journal logging in the
service config, which is part of OSLO logging.

OSLO logging docs found here: <https://docs.openstack.org/oslo.log/3.28.1/journal.html>

A new variable `cinder_environment_overrides` has been added to ensure
the correct PATH is set for cinder services.

This reverts commit b219b905367af4dba9936be9591065e76f86bea5.

Change-Id: I1cb10aa591a8262add47e2f5b61cfded9e28241d
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fkayobe~master~I126e500be0b22d65b918a5291cac189425be51b9,openstack/kayobe,master,inspection-store-host-networking-upstream,I126e500be0b22d65b918a5291cac189425be51b9,Use host networking for inspection store,MERGED,2018-08-01 14:38:49.000000000,2018-08-02 20:52:17.000000000,2018-08-02 20:52:17.000000000,3,3,0,587838,2ddcd94cd4bb0102cf184ce22abdb56e788aa2fc,11,4,1,3,28048,Will Szumski,jovial,"Use host networking for inspection store

Change-Id: I126e500be0b22d65b918a5291cac189425be51b9
Story: 2003207
Task:  23365
"
openstack%2Fkayobe~master~Ia200efce040a009bbb35292cf846d36f2edb259b,openstack/kayobe,master,story/2003107,Ia200efce040a009bbb35292cf846d36f2edb259b,Fix path to virtualenv in usage guide,MERGED,2018-07-30 08:21:54.000000000,2018-08-02 20:52:17.000000000,2018-08-02 20:52:17.000000000,1,1,0,586970,c852c59a51a07e1c570cf83ac92218cb3a58d7ae,8,4,1,1,14826,Mark Goddard,mgoddard,"Fix path to virtualenv in usage guide

Change-Id: Ia200efce040a009bbb35292cf846d36f2edb259b
Story: 2003107
Task: 23224
"
openstack%2Fkayobe~master~I280fb8f70eacd31fff0ae5671ddd6608cd02ae6e,openstack/kayobe,master,story/2002914,I280fb8f70eacd31fff0ae5671ddd6608cd02ae6e,Make kolla ansible user and group configurable,MERGED,2018-07-09 14:51:17.000000000,2018-08-02 20:51:08.000000000,2018-08-02 20:51:08.000000000,61,6,2,581053,41740f975235298477ecc9df894ee3197489f4fd,23,5,6,11,14826,Mark Goddard,mgoddard,"Make kolla ansible user and group configurable

In some cases it is useful to use a user other than the default 'kolla'
to perform kolla ansible remote execution. Kolla is adding support for
this in the Rocky release, we should use it.

It is now possible to configure a different user via the
kolla_ansible_user and kolla_ansible_group variables.

Depends-On: https://review.openstack.org/581330

Change-Id: I280fb8f70eacd31fff0ae5671ddd6608cd02ae6e
Story: 2002914
Task: 22892
"
openstack%2Ftrove~master~I6a21ba2ba890a82875f9b6dae3c6b93bc9fdb4b0,openstack/trove,master,bug/1395523,I6a21ba2ba890a82875f9b6dae3c6b93bc9fdb4b0,Fix replication failure when Swift isn't available,MERGED,2018-07-27 12:27:22.000000000,2018-08-02 20:35:27.000000000,2018-08-02 20:35:27.000000000,30,1,28,586528,4d358c8f5de4f7feda17053fb363be033146c9dc,33,11,6,6,28646,Dariusz Krol,dkrol,"Fix replication failure when Swift isn't available

  * add Swift token verification in create instance method in Trove API
    when slave_id is given
  * catch ConnectionError exception in verify_swift_auth_token
  * add Swift token verification to guestagent before backup and restore
  * add new exception representing Swift connection error
  * set missing fault information when replication snapshot fails
  * mock verify auth token method in replication and restore unit tests

Closes-Bug: #1395523

Change-Id: I6a21ba2ba890a82875f9b6dae3c6b93bc9fdb4b0
Signed-off-by: Dariusz Krol <d.krol@samsung.com>
"
openstack%2Fopenstack-ansible-os_zun~master~I80a570ed3deeb02b98daaa02a873b6572ae61e47,openstack/openstack-ansible-os_zun,master,bionic-meta,I80a570ed3deeb02b98daaa02a873b6572ae61e47,Add bionic to galaxy_info metadata,MERGED,2018-08-02 15:24:36.000000000,2018-08-02 20:29:10.000000000,2018-08-02 20:29:10.000000000,1,0,0,588317,1900f2b501033f30d2f9d7a3f44c713ea397df89,6,2,1,1,25023,Jonathan Rosser,jrosser,"Add bionic to galaxy_info metadata

Change-Id: I80a570ed3deeb02b98daaa02a873b6572ae61e47
"
openstack%2Fcharm-cinder~master~I6c4ca52b58de9496e6ab14ee9ff18c17f0b2b325,openstack/charm-cinder,master,bug/nova-compute-relationship,I6c4ca52b58de9496e6ab14ee9ff18c17f0b2b325,Remove `nova-compute:shared-db` relation,MERGED,2018-08-02 15:55:37.000000000,2018-08-02 20:29:09.000000000,2018-08-02 20:29:09.000000000,0,1,0,588323,f8bc692b11e9909a90ea6dafa5831ee8eb3d4426,7,3,1,1,28608,Nicolas Pochet,npochet,"Remove `nova-compute:shared-db` relation

The relation between nova-compute and databases is not needed anymore.

Change-Id: I6c4ca52b58de9496e6ab14ee9ff18c17f0b2b325
See: https://review.openstack.org/499823/
"
openstack%2Fec2-api~stable%2Frocky~Ib3938d73cd178cbb3e714c914667f2645e604898,openstack/ec2-api,stable/rocky,create-rocky,Ib3938d73cd178cbb3e714c914667f2645e604898,Update .gitreview for stable/rocky,MERGED,2018-07-30 20:28:46.000000000,2018-08-02 20:22:46.000000000,2018-08-02 20:22:46.000000000,2,1,0,587213,051959cb05edb92bc0d2dbf3c719885ab2874a31,13,2,2,2,22816,OpenStack Release Bot,release,"Update .gitreview for stable/rocky

and up version

Change-Id: Ib3938d73cd178cbb3e714c914667f2645e604898
"
openstack%2Fpuppet-nova~master~Ic65736cb0e95c400a728cd699ecf06c6aecff832,openstack/puppet-nova,master,bug/1781405,Ic65736cb0e95c400a728cd699ecf06c6aecff832,Introduce nova:metadata and nova::wsgi::apache_metadata,MERGED,2018-07-13 15:18:45.000000000,2018-08-02 20:13:52.000000000,2018-08-02 20:13:52.000000000,689,135,4,582621,e195703b8690845fe8c02a20c6c0fb3caf15321f,48,8,9,7,17216,Martin Schuppert,mcschupp,"Introduce nova:metadata and nova::wsgi::apache_metadata

Classes to configure and serve Nova Metadata API with apache
mod_wsgi in place of eventlet service.
Nova metadata parameters in nova::api get deprecated that we
can remove them later.

See https://review.openstack.org/#/c/549510/ for more details.

Change-Id: Ic65736cb0e95c400a728cd699ecf06c6aecff832
Closes-Bug: 1781405
"
openstack%2Fec2-api~master~I28cc50d4e3a4da8317adfbd8cd4329a21c1defd1,openstack/ec2-api,master,,I28cc50d4e3a4da8317adfbd8cd4329a21c1defd1,up version for next release,MERGED,2018-07-31 17:02:18.000000000,2018-08-02 20:07:19.000000000,2018-08-02 20:07:19.000000000,1,1,0,587525,0243b82bf03d7f54206a96a3ff650faa6a29211d,14,3,2,1,10234,Andrey Pavlov,andrey-mp,"up version for next release

Depends-On: I27b94c5579d5215fdd0fbd6c421aa5f6d9139bd8
Change-Id: I28cc50d4e3a4da8317adfbd8cd4329a21c1defd1
"
openstack%2Fpuppet-ovn~stable%2Fqueens~I8f392c7807c4c6a152dfa4b77c7f4350b44324c0,openstack/puppet-ovn,stable/queens,bug/1779706,I8f392c7807c4c6a152dfa4b77c7f4350b44324c0,Set mac-table-size for provider bridges defined in 'ovn_bridge_mappings',MERGED,2018-08-01 04:01:23.000000000,2018-08-02 20:05:41.000000000,2018-08-02 20:05:41.000000000,33,1,0,587678,ea706ea81c341a0de0349a6eb1ec183f23998fe5,7,3,1,2,10237,Numan Siddique,numansiddique,"Set mac-table-size for provider bridges defined in 'ovn_bridge_mappings'

The default mac table size may not be sufficient for the provider bridges.
If the mac table overflows, it has been observed that ovs-vswitchd clocks
100% CPU. So this patch configures the mac table size of the provider bridges.
It defaults to 50000 if the value is not specified.

This patch also clears the ovn-bridge-mappings property from the OpenvSwitch's
default tables row's external_ids column if 'bridge_interface_mappings' param
is not set.

Change-Id: I8f392c7807c4c6a152dfa4b77c7f4350b44324c0
Closes-bug: #1779706
Closes-bug: #1774847
(cherry picked from commit 88aa5c9184f8f448aed499413cda51188d66c7a6)
"
openstack%2Fpuppet-ovn~master~Id06d91f7accea0f17544e1ca549a77b16dd6cd09,openstack/puppet-ovn,master,,Id06d91f7accea0f17544e1ca549a77b16dd6cd09,Add the project source code repository in README,MERGED,2018-07-26 16:28:47.000000000,2018-08-02 20:05:41.000000000,2018-08-02 20:05:41.000000000,3,0,0,586291,6af8ce1c0d49f300a63a8d94246635ca359342cd,7,3,1,1,28543,shupeng,Vieri,"Add the project source code repository in README

Change-Id: Id06d91f7accea0f17544e1ca549a77b16dd6cd09
"
openstack%2Fproject-config~master~Iefc677c193fa61cbac7803da77433ab0ee0c3fee,openstack/project-config,master,irc-cleanup,Iefc677c193fa61cbac7803da77433ab0ee0c3fee,Add AJaeger to IRC operator list,MERGED,2018-08-01 11:58:30.000000000,2018-08-02 20:03:01.000000000,2018-08-02 20:03:01.000000000,1,0,0,587790,eac57099f7a5b103ff6fd9332f314a13cb4d658f,8,4,1,1,6547,Andreas Jaeger,jaegerandi,"Add AJaeger to IRC operator list

Add myself so that I can help if needed.

Change-Id: Iefc677c193fa61cbac7803da77433ab0ee0c3fee
"
openstack%2Fpuppet-pacemaker~master~If0f28a5f3a420e85957fcf0c11e91ba54eb519b2,openstack/puppet-pacemaker,master,,If0f28a5f3a420e85957fcf0c11e91ba54eb519b2,Add the project source code repository in README,MERGED,2018-07-26 16:25:20.000000000,2018-08-02 20:02:36.000000000,2018-08-02 20:02:36.000000000,1,1,0,586290,8b2c01440bf868ec19eb7e52922b15fa0b37e16e,7,3,1,1,28543,shupeng,Vieri,"Add the project source code repository in README

Change-Id: If0f28a5f3a420e85957fcf0c11e91ba54eb519b2
"
openstack%2Fpuppet-rally~master~If5d9379ce541cb69c51711c18fbe8013c45e3bc5,openstack/puppet-rally,master,,If5d9379ce541cb69c51711c18fbe8013c45e3bc5,Add the project source code repository in README,MERGED,2018-07-26 16:19:40.000000000,2018-08-02 19:55:44.000000000,2018-08-02 19:55:44.000000000,5,0,0,586288,b30ad65c08f1b7668c8df1b6e9beb27148be92a7,8,4,1,1,28543,shupeng,Vieri,"Add the project source code repository in README

Change-Id: If5d9379ce541cb69c51711c18fbe8013c45e3bc5
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I6007c970cf2ed3f28dcce0558a936ac2380e8501,openstack/openstack-ansible-lxc_hosts,master,bionic-meta,I6007c970cf2ed3f28dcce0558a936ac2380e8501,List ubuntu releases in release order,MERGED,2018-08-02 14:20:14.000000000,2018-08-02 19:50:53.000000000,2018-08-02 19:50:53.000000000,1,1,1,588285,3ce4182950e9ce004c26a5c04246c88fa188a3fb,11,2,2,1,25023,Jonathan Rosser,jrosser,"List ubuntu releases in release order

Change-Id: I6007c970cf2ed3f28dcce0558a936ac2380e8501
"
openstack%2Fopenstack-ansible-ceph_client~master~I17b7263d504cc20437bca6f34e16e1138880a3aa,openstack/openstack-ansible-ceph_client,master,bionic-meta,I17b7263d504cc20437bca6f34e16e1138880a3aa,List ubuntu releases in release order,MERGED,2018-08-02 14:13:27.000000000,2018-08-02 19:50:53.000000000,2018-08-02 19:50:53.000000000,1,1,1,588256,e67c08ca99e2f951d517af8e0735a90177f2e3ab,11,2,2,1,25023,Jonathan Rosser,jrosser,"List ubuntu releases in release order

Change-Id: I17b7263d504cc20437bca6f34e16e1138880a3aa
"
openstack%2Fopenstack-ansible-apt_package_pinning~master~Ie33f2d649d6d8fc4c07147c26b840acdb08aafe7,openstack/openstack-ansible-apt_package_pinning,master,bionic-meta,Ie33f2d649d6d8fc4c07147c26b840acdb08aafe7,List ubuntu releases in release order,MERGED,2018-08-02 14:35:24.000000000,2018-08-02 19:44:46.000000000,2018-08-02 19:44:46.000000000,1,1,1,588297,3d940e5fe9aa3daa2f69b9876478891980657d03,11,2,2,1,25023,Jonathan Rosser,jrosser,"List ubuntu releases in release order

Change-Id: Ie33f2d649d6d8fc4c07147c26b840acdb08aafe7
"
openstack%2Fopenstack-ansible-rsyslog_server~master~Idd45715df9824cb9c1d717980f2fcab81b1e18e7,openstack/openstack-ansible-rsyslog_server,master,bionic-meta,Idd45715df9824cb9c1d717980f2fcab81b1e18e7,List ubuntu releases in release order,MERGED,2018-08-02 14:19:25.000000000,2018-08-02 19:44:44.000000000,2018-08-02 19:44:44.000000000,1,1,1,588283,faaf5d748d552e3aeff724a07dad3e0bafe17f9e,11,2,2,1,25023,Jonathan Rosser,jrosser,"List ubuntu releases in release order

Change-Id: Idd45715df9824cb9c1d717980f2fcab81b1e18e7
"
openstack%2Fopenstack-ansible-rsyslog_client~master~I4a085fdd5fdead8733853a2d1168183c16545005,openstack/openstack-ansible-rsyslog_client,master,bionic-meta,I4a085fdd5fdead8733853a2d1168183c16545005,List ubuntu releases in release order,MERGED,2018-08-02 14:18:55.000000000,2018-08-02 19:44:11.000000000,2018-08-02 19:44:10.000000000,1,1,1,588281,7d269c8a1a87dc3a7667b7c835b65facf298b8eb,11,2,2,1,25023,Jonathan Rosser,jrosser,"List ubuntu releases in release order

Change-Id: I4a085fdd5fdead8733853a2d1168183c16545005
"
openstack%2Fopenstack-ansible-memcached_server~master~If41a33b11557ef8c4cde9047a83414e38acb5c42,openstack/openstack-ansible-memcached_server,master,bionic-meta,If41a33b11557ef8c4cde9047a83414e38acb5c42,List ubuntu releases in release order,MERGED,2018-08-02 14:13:45.000000000,2018-08-02 19:43:56.000000000,2018-08-02 19:43:56.000000000,1,1,1,588257,22c15c36d3d3411d7a3e0e3d9c4547ed7904b588,11,2,2,1,25023,Jonathan Rosser,jrosser,"List ubuntu releases in release order

Change-Id: If41a33b11557ef8c4cde9047a83414e38acb5c42
"
openstack%2Freleases~master~Ia0d87526bb7130ee0e4ff9c4d15364d456e9726d,openstack/releases,master,release_osa,Ia0d87526bb7130ee0e4ff9c4d15364d456e9726d,Release M3 for OpenStack-Ansible,MERGED,2018-08-01 16:59:25.000000000,2018-08-02 19:37:11.000000000,2018-08-02 19:37:11.000000000,4,0,0,587917,6a26e204155afe2adad6de3ed6a3779b8c15a1a6,7,3,1,1,17068,Jean-Philippe Evrard,evrardjp,"Release M3 for OpenStack-Ansible

It's long due. After a series of rechecks and long conversations,
the OpenStack-Ansible has decided to publish M3 pointing to
a75af3e6fd6162046fcfc80f5bfc109100cdd25d.

Change-Id: Ia0d87526bb7130ee0e4ff9c4d15364d456e9726d
"
openstack%2Fkuryr-kubernetes~master~I9a79601beae7d58027418e0a9e3c4768606eb15f,openstack/kuryr-kubernetes,master,bug/1785035,I9a79601beae7d58027418e0a9e3c4768606eb15f,Avoid namespace security group overwrite,MERGED,2018-08-02 10:04:06.000000000,2018-08-02 19:36:54.000000000,2018-08-02 19:36:54.000000000,4,3,3,588197,46c609f285bec9d974659210e131804af2774668,24,4,6,2,23567,Luis Tomas Bolivar,ltomasbo,"Avoid namespace security group overwrite

Ensure default security group value does not get overwritten in
subsequent calls to get_security_groups

Closes-Bug: 1785035
Change-Id: I9a79601beae7d58027418e0a9e3c4768606eb15f
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ia92babb6bf80db5e1a06bbf553317d62342481eb,openstack/openstack-ansible-rabbitmq_server,master,bionic-vars,Ia92babb6bf80db5e1a06bbf553317d62342481eb,"Revert ""Use generic vars file for ubuntu""",MERGED,2018-08-02 12:31:04.000000000,2018-08-02 19:34:49.000000000,2018-08-02 19:34:49.000000000,53,0,0,588230,4cd8b7ae599dc16d4e1e27ee07a8a9a34c8e71b8,7,5,1,2,6816,Jesse Pretorius,jesse-pretorius,"Revert ""Use generic vars file for ubuntu""

This reverts commit efd37c53590ad669229b289e1232aa0fbcc3ea15.

As it turns out, my diff skills suck. These files were not the same.

Change-Id: Ia92babb6bf80db5e1a06bbf553317d62342481eb
"
openstack%2Fansible-role-tripleo-cookiecutter~master~I755a9fdaba3d1dbd702063b0b3745230b624ad68,openstack/ansible-role-tripleo-cookiecutter,master,readme,I755a9fdaba3d1dbd702063b0b3745230b624ad68,Document how to run tox to test the cookiecutter,MERGED,2018-08-02 00:21:19.000000000,2018-08-02 19:27:09.000000000,2018-08-02 19:27:08.000000000,4,0,0,588108,34155fd8b06b50615341f57aa437dc356cb2278b,8,3,1,1,3153,Emilien Macchi,emilienm,"Document how to run tox to test the cookiecutter

Change-Id: I755a9fdaba3d1dbd702063b0b3745230b624ad68
"
openstack%2Fcharm-percona-cluster~stable%2F18.05~Ia435069f5df80bfdf0236d14664317990bd06407,openstack/charm-percona-cluster,stable/18.05,bug/1784584,Ia435069f5df80bfdf0236d14664317990bd06407,Check if it's leader before calling leader_set(),MERGED,2018-08-02 13:47:23.000000000,2018-08-02 19:26:55.000000000,2018-08-02 19:26:55.000000000,5,1,0,588247,d749fb08fa0599d8079633385cc99f2aa3a24bb7,10,5,1,1,2424,Felipe Reyes,freyes,"Check if it's leader before calling leader_set()

There may be situations where leader-elected hook is executed without
being the leader and making leader_set() calls fail, this patch verifies
if it's the leader before attempting to use leader_set()

Change-Id: Ia435069f5df80bfdf0236d14664317990bd06407
Closes-Bug: 1784584
(cherry picked from commit 1219f7b2a213af5d5697a1c4cb48486e9c08c81e)
"
openstack%2Fironic-specs~master~I450784e7281e0d251c5f230b2d14be244e6c083f,openstack/ironic-specs,master,584608,I450784e7281e0d251c5f230b2d14be244e6c083f,Cleanup specs for Rocky,MERGED,2018-07-21 22:29:15.000000000,2018-08-02 19:20:57.000000000,2018-08-02 19:20:57.000000000,21,0,6,584608,b78b09f61c0d7693b1d5f9f3a3410ff00d55b5fc,15,4,3,8,11655,Julia Kreger,jkreger,"Cleanup specs for Rocky

We've released 11.0 and about to release 11.1,
and a number of new features landed in that which
means we can close out the specs in our spec
documentation.

As for rescue, we finally managed to get the rescue
patch landed in nova, and as such moved to the 10.1
folder.

Change-Id: I450784e7281e0d251c5f230b2d14be244e6c083f
"
openstack%2Fnetworking-powervm~master~I2e38a02c5d34b2b62241e8a3cb8aafffc3c48d6b,openstack/networking-powervm,master,update_neutron_lib,I2e38a02c5d34b2b62241e8a3cb8aafffc3c48d6b,update requirements for neutron-lib 1.18.0,MERGED,2018-07-24 16:31:06.000000000,2018-08-02 19:16:26.000000000,2018-08-02 19:16:26.000000000,2,2,0,585469,cb46ce3a5bfa024aba7a4eb05dfece33cb739ece,19,5,1,2,10608,Matthew Edmonds,edmondsw,"update requirements for neutron-lib 1.18.0

neutron has bumped the min requirement for neutron-lib to 1.18.0 [1]
and requested that other networking-* projects that depend on master
do the same [2]. This makes that change.

[1] 02e9f270e913f26a16f40f161c333e54f2dbdef7
[2] http://lists.openstack.org/pipermail/openstack-dev/2018-July/132412.html

Change-Id: I2e38a02c5d34b2b62241e8a3cb8aafffc3c48d6b
"
openstack%2Fneutron~stable%2Fqueens~I97356b31af35ef19d02b9f0c0a57cbde16752c65,openstack/neutron,stable/queens,bug/1773420,I97356b31af35ef19d02b9f0c0a57cbde16752c65,Update install doc for ubuntu,MERGED,2018-05-31 06:15:52.000000000,2018-08-02 19:06:48.000000000,2018-08-02 19:06:47.000000000,7,7,10,571384,e211cc204a90747d5562ac18fff9fd8d42e4f0b4,24,9,4,4,26916,Sapana Jadhav,sapana45,"Update install doc for ubuntu

This change updates the auth_url value to match what has changed
in the keystone install guide:

https://review.openstack.org/#/c/541857/

Change-Id: I97356b31af35ef19d02b9f0c0a57cbde16752c65
(cherry picked from commit e1761d2e29cdd93dffe3d39c0b9407b2facaa0c1)
Closes-bug: #1783306
"
openstack%2Fnova~master~I9b7ee5d6da7837901089861d0252f9792a817ce4,openstack/nova,master,,I9b7ee5d6da7837901089861d0252f9792a817ce4,Complete the api-ref of security group rule,MERGED,2018-07-04 09:35:42.000000000,2018-08-02 19:06:39.000000000,2018-08-02 19:06:39.000000000,17,15,6,580109,917d8a41a23860f4e04397340e6d049b6b179af1,49,19,3,2,8556,Ghanshyam,ghanshyam,"Complete the api-ref of security group rule

Adding the correct path of examples in security
group rules api-ref.

Change-Id: I9b7ee5d6da7837901089861d0252f9792a817ce4
"
openstack%2Fnova~master~I9988abfd344d1d3b0b6eaf32b036369b51853965,openstack/nova,master,bug/1784715,I9988abfd344d1d3b0b6eaf32b036369b51853965,doc: fix resize user guide link,MERGED,2018-08-01 22:53:10.000000000,2018-08-02 19:03:54.000000000,2018-08-02 19:03:54.000000000,125,3,4,588097,3cd5198d5a767566e3cbba5a33ac4a7ae3d53aef,24,12,2,3,6873,Matt Riedemann,mriedem,"doc: fix resize user guide link

The admin config resize doc was linking to a now non-existent
user guide doc which was deleted in pike. This change imports
the resize user guide from the openstack-manuals stable/ocata
branch, fixes the link, and updates the resize user doc to
(1) link to our internal shutdown_timeout config option reference
and (2) link to the image properties doc in glance for the
os_shutdown_timeout image property.

Change-Id: I9988abfd344d1d3b0b6eaf32b036369b51853965
Closes-Bug: #1784715
"
openstack%2Fnova~master~Ifbadce909393268b340b7a08c78a6faa2d7888b2,openstack/nova,master,live_migration_wait_for_vif_plug,Ifbadce909393268b340b7a08c78a6faa2d7888b2,Stop setting glance_api_version in cinder.conf in nova-live-migration,MERGED,2018-07-03 13:56:35.000000000,2018-08-02 19:03:44.000000000,2018-08-02 19:03:44.000000000,0,1,0,579871,d1859915ab40b07c63f52da67af18145bf15244a,17,13,1,1,6873,Matt Riedemann,mriedem,"Stop setting glance_api_version in cinder.conf in nova-live-migration

The glance_api_version config option was removed from cinder
in Queens [1] so we can stop setting it during the
nova-live-migration CI job.

[1] https://docs.openstack.org/releasenotes/cinder/queens.html

Change-Id: Ifbadce909393268b340b7a08c78a6faa2d7888b2
"
openstack%2Fnova~master~I3d7770589a1526e851d5764214c26ec1a9a8fd43,openstack/nova,master,live_migration_wait_for_vif_plug,I3d7770589a1526e851d5764214c26ec1a9a8fd43,Wait for vif plugging during live migration job,MERGED,2018-06-27 20:15:06.000000000,2018-08-02 19:03:37.000000000,2018-08-02 19:03:37.000000000,3,0,1,578551,73ad42afbd9153d8d040a58be5b770099062914f,34,14,2,1,6873,Matt Riedemann,mriedem,"Wait for vif plugging during live migration job

The nova-live-migration CI job uses OVS which sends
vif plugged events to the source host during live
migration when the destination host plugs vifs
during pre_live_migration. We can set the
live_migration_wait_for_vif_plug option to True
so that the source host waits for the vif to be
plugged and get the event from neutron before
starting the actual guest transfer in the hypervisor.

This is really just about coverage of this code
in a live environment so we don't regress it.

Change-Id: I3d7770589a1526e851d5764214c26ec1a9a8fd43
"
openstack%2Fcinder~master~I7e1b8d5b399a8dd15bb0dee477090a45c2faa6fa,openstack/cinder,master,bug/1746233,I7e1b8d5b399a8dd15bb0dee477090a45c2faa6fa,Fix remotefs driver report wrong value,MERGED,2018-06-20 20:45:48.000000000,2018-08-02 19:03:33.000000000,2018-08-02 19:03:33.000000000,3,6,11,576975,b629e4eba1aa96ae40e3c5e5a98b00fbcc76eac0,104,37,5,2,19844,Kien Ha,kien.ha,"Fix remotefs driver report wrong value

allocated_capacity_gb should not be reported by drivers and let the
manager handle this.
provisioned_capacity_gb is reporting allocated physical space. Return
provisioned.

Change-Id: I7e1b8d5b399a8dd15bb0dee477090a45c2faa6fa
Closes-Bug: #1746233
Signed-off-by: Kien Ha <kienha9922@gmail.com>
"
openstack%2Fopenstack-helm-infra~master~I47606e5c8db87fac07febb114334ded710f56ed5,openstack/openstack-helm-infra,master,helm-toolkit/tls,I47606e5c8db87fac07febb114334ded710f56ed5,Helm-Toolkit: Update tls secret manifest for non public endpoints,MERGED,2018-08-02 16:16:55.000000000,2018-08-02 18:36:01.000000000,2018-08-02 18:36:01.000000000,9,8,0,588330,aac1c4e8c02680a159235c6097db0ed66cfbe104,7,3,1,1,23928,Pete Birley,portdirect,"Helm-Toolkit: Update tls secret manifest for non public endpoints

This PS updates the tls secret manifest to allow non-public endpoints
to be specified.

Change-Id: I47606e5c8db87fac07febb114334ded710f56ed5
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Frpm-packaging~master~Ibe9352b7fe7c7cba5bd11ae8921b512ca4402607,openstack/rpm-packaging,master,oslo.reports-singlespec,Ibe9352b7fe7c7cba5bd11ae8921b512ca4402607,Convert oslo.reports to singlespec,MERGED,2018-08-02 14:20:47.000000000,2018-08-02 18:33:30.000000000,2018-08-02 18:33:30.000000000,22,19,0,588288,f787ba204ff7789253d063dd75b33e858db6be82,13,5,2,1,12542,Johannes Grassler,jgrassler,"Convert oslo.reports to singlespec

Change-Id: Ibe9352b7fe7c7cba5bd11ae8921b512ca4402607
"
openstack%2Fopenstack-helm~master~Iccae704dadc17eba269e857301654782f64763c9,openstack/openstack-helm,master,585947,Iccae704dadc17eba269e857301654782f64763c9,Keystone: enable external access to admin endpoint,MERGED,2018-07-26 19:06:20.000000000,2018-08-02 18:10:04.000000000,2018-08-02 18:09:11.000000000,82,35,1,586329,dc7008d9a5b72fdd256dd0e5813b9e5fdf14e734,28,7,8,21,23928,Pete Birley,portdirect,"Keystone: enable external access to admin endpoint

This PS moves to use port 80 by default for the keystone
asdmin endpoint, and adjusts paths accordingly.

Change-Id: Iccae704dadc17eba269e857301654782f64763c9
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fneutron~master~Idf16e2460bd434f5eab79745558c55c6579e81e8,openstack/neutron,master,bug/1782141,Idf16e2460bd434f5eab79745558c55c6579e81e8,[QoS] Clear rate limits when default null values are used,MERGED,2018-07-20 09:24:47.000000000,2018-08-02 18:09:25.000000000,2018-07-24 03:24:18.000000000,7,2,0,584297,7e0c1e9e23788fc60b2bf19659a7b513ba330dea,12,7,1,1,21798,Bernard Cafarelli,bcafarel,"[QoS] Clear rate limits when default null values are used

In that case before, tc was called with zero rate and burst values.
Newer iproute versions (>= 4.9) do not allow that anymore, so we send a
clear command instead

This also fixes QoS L3 agent extension functional tests run with such an
iproute version (CentOS 7.5, Ubuntu 18.04)

Change-Id: Idf16e2460bd434f5eab79745558c55c6579e81e8
Closes-Bug: #1782141
"
openstack%2Fironic-specs~master~I24ffdf7162f1a13cf1e0fa04353b65b49cc3d8eb,openstack/ironic-specs,master,story/2001814,I24ffdf7162f1a13cf1e0fa04353b65b49cc3d8eb,Add ownership information field,MERGED,2018-04-10 17:13:58.000000000,2018-08-02 18:07:21.000000000,2018-08-02 14:05:42.000000000,191,0,26,560089,15b27ef6a82a84718473b6cad182d2c7a61a7670,24,9,2,2,11655,Julia Kreger,jkreger,"Add ownership information field

Change-Id: I24ffdf7162f1a13cf1e0fa04353b65b49cc3d8eb
Story: #2001814
Task: #12549
"
openstack%2Fnova~master~I1a18a6357056a3a7bfa729b9fccb288437564937,openstack/nova,master,print_format,I1a18a6357056a3a7bfa729b9fccb288437564937,Fix missing print format error,MERGED,2018-07-20 08:31:59.000000000,2018-08-02 18:01:45.000000000,2018-07-24 02:19:35.000000000,1,1,0,584277,7b8dd399851a6210ecda0734a9d63bfb8585d5ae,36,18,1,1,20190,zhufl,zhufl,"Fix missing print format error

Missing print format will cause 'ValueError: unsupported
format character' error, this is to fix it.

Change-Id: I1a18a6357056a3a7bfa729b9fccb288437564937
"
openstack%2Fkuryr-tempest-plugin~master~Ie72c93564f38bc51a3abd009085beda92430daea,openstack/kuryr-tempest-plugin,master,bp/openshift-project-isolation-support,Ie72c93564f38bc51a3abd009085beda92430daea,Namespace isolation tempest coverage,MERGED,2018-07-06 14:52:15.000000000,2018-08-02 17:56:40.000000000,2018-08-02 12:45:25.000000000,82,3,16,580678,08ba88d048dc218eeb46b787e29576577845de8e,47,8,7,1,23567,Luis Tomas Bolivar,ltomasbo,"Namespace isolation tempest coverage

It creates a new test to ensure proper isolation between namespaces.
It creates different pods in different namespaces and check that
traffic is block between them, unless it is the default namespace,
which can reach all the namespaces and be reached by all of them.

Depends-On: Ibf63841b2a6b0c339c4c76980f1489e26af016d7
Implements: blueprint openshift-project-isolation-support

Change-Id: Ie72c93564f38bc51a3abd009085beda92430daea
"
openstack%2Fkayobe~master~Ib685b0c3e21df01c4dd177771f019fae4bb90e66,openstack/kayobe,master,story/2003277,Ib685b0c3e21df01c4dd177771f019fae4bb90e66,Make installation of epel-release optional,MERGED,2018-08-01 17:51:20.000000000,2018-08-02 17:50:43.000000000,2018-08-02 17:50:43.000000000,49,1,0,587925,f349038b1d1c25af8864f755dc9cf9dc76645cb0,10,4,2,23,14826,Mark Goddard,mgoddard,"Make installation of epel-release optional

The epel-release package provides a yum repository configuration for
EPEL, and points to the upstream EPEL mirrors. In some cases this is
undesirable, such as when a local EPEL mirror is available, or access to
the public repositories is not possible.

This change makes it possible to skip installation of epel-release, by
setting 'yum_install_epel' to 'false'.

Change-Id: Ib685b0c3e21df01c4dd177771f019fae4bb90e66
Story: 2003277
Task: 24218
"
openstack%2Fglance~master~I9cfa066bdce51619a78ce86a8b1f1f8d05e5bfb6,openstack/glance,master,bp/multi-store,I9cfa066bdce51619a78ce86a8b1f1f8d05e5bfb6,Add multi-store support,MERGED,2018-06-12 06:44:29.000000000,2018-08-02 17:44:51.000000000,2018-08-02 17:44:51.000000000,315,80,22,574582,cb45edf5c81f7d09c9ef0b88d40d56b4750beb10,73,7,11,22,9303,Abhishek Kekane,abhishekkekane,"Add multi-store support

Made provision for multi-store support. Added new config option
'enabled_backends' which will be a comma separated Key:Value pair
of store identifier and store type.

DocImpact
Depends-On: https://review.openstack.org/573648
Implements: blueprint multi-store

Change-Id: I9cfa066bdce51619a78ce86a8b1f1f8d05e5bfb6
"
openstack%2Fnova~master~Ifedcd0cd2821b38a7b4f5eae41fcb705e9606687,openstack/nova,master,,Ifedcd0cd2821b38a7b4f5eae41fcb705e9606687,Remove unused stubbing function from test,MERGED,2018-07-30 08:11:06.000000000,2018-08-02 17:44:47.000000000,2018-08-02 17:44:47.000000000,0,5,1,586968,f66d4c98f23116c4917785014f0c56e4440d6c81,26,12,2,1,9708,Balazs Gibizer,gibi,"Remove unused stubbing function from test

The fake_networks.stub_out_network_cleanup is unused since
I0eaa0a9860af7d574a689722785d5d3d614eb0c1 and therefore removed.

Change-Id: Ifedcd0cd2821b38a7b4f5eae41fcb705e9606687
"
openstack%2Fmonasca-ui~stable%2Fpike~I79746010525784de4b66108e9d1fe749bd57675b,openstack/monasca-ui,stable/pike,policy-stable/pike,I79746010525784de4b66108e9d1fe749bd57675b,Modify policy configuration file,ABANDONED,2018-05-17 17:57:42.000000000,2018-08-02 17:43:00.000000000,,1,5,0,569194,aab0d6befe4db37f3dcd24ebdd146dc5d0cc09de,8,7,1,1,11880,Gloria Gu,gugl,"Modify policy configuration file

Only user with monasca-user role should have access to
monitoring panel.

Story: 2001895
Task: 14379
Depends-On: I16091dbd631a5e94d08598a23eeb3bdf97cf0a92
Change-Id: I79746010525784de4b66108e9d1fe749bd57675b
(cherry picked from commit ebe64e0b1478340342e76a7a0279a668ec459c2f)
"
openstack%2Fopenstack-ansible-ops~master~I36016f4733a8800adbcce71abbb290ab4a24798b,openstack/openstack-ansible-ops,master,,I36016f4733a8800adbcce71abbb290ab4a24798b,correct typo,MERGED,2018-08-02 14:43:25.000000000,2018-08-02 17:42:55.000000000,2018-08-02 17:42:55.000000000,2,2,0,588301,393fe9d42a5ec373cb58ace350e5b646ca15b97e,6,2,1,1,7353,Kevin Carter,cloudnull,"correct typo

The fleet env.d config had a typo in it which would causing a failure
within OSA dynamic inventory. This corrects the issue.

Change-Id: I36016f4733a8800adbcce71abbb290ab4a24798b
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fironic-lib~stable%2Frocky~Idf425e393404950a70106e1cfac9f06a11316e54,openstack/ironic-lib,stable/rocky,create-rocky,Idf425e393404950a70106e1cfac9f06a11316e54,Update .gitreview for stable/rocky,MERGED,2018-07-19 21:18:54.000000000,2018-08-02 17:38:39.000000000,2018-08-02 17:38:39.000000000,1,0,0,584114,3a61db5c99bfb71a11d49df5b53fda82344f2a3c,12,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/rocky

Change-Id: Idf425e393404950a70106e1cfac9f06a11316e54
"
openstack%2Fpuppet-nova~master~I6523ed70536e438d38d9165e31d5d4d214bbc62c,openstack/puppet-nova,master,,I6523ed70536e438d38d9165e31d5d4d214bbc62c,Stop logging sensitive data in cell_v2 provider,MERGED,2018-07-31 20:45:59.000000000,2018-08-02 17:28:48.000000000,2018-08-02 17:28:48.000000000,177,0,3,587618,69387100917eb0b59397172c948a4ad4552eaa04,31,6,6,2,23811,Oliver Walsh,owalsh,"Stop logging sensitive data in cell_v2 provider

Parses the nova cell_v2 transport_uri/database_connection and rebuilds with
the password hidden in is_to_s and should_to_s (used for logging the changes).

Change-Id: I6523ed70536e438d38d9165e31d5d4d214bbc62c
"
openstack%2Fnova~master~Iff1b49fe7e6347e3c2bb5992494b2450809719a2,openstack/nova,master,bug/1777591,Iff1b49fe7e6347e3c2bb5992494b2450809719a2,Disable limits if force_hosts or force_nodes is set,MERGED,2018-06-20 03:22:42.000000000,2018-08-02 17:25:30.000000000,2018-07-21 15:51:02.000000000,82,1,23,576693,1d91811ad499af1d291f5c819ced5b1fdf3520c7,171,28,10,2,21914,Remy-xl,xulei,"Disable limits if force_hosts or force_nodes is set

Setting max_placement_results will make force_host invaild sometimes,
especially in large-scale enviroment.
Disable limit param in GET /allocation_candidates if force_hosts
or force_nodes is set.

Change-Id: Iff1b49fe7e6347e3c2bb5992494b2450809719a2
Closes-Bug: #1777591
"
openstack%2Fopenstack-helm-infra~master~Ie4e85f5547df4b1749280acd7ff858005b91eee9,openstack/openstack-helm-infra,master,fix_grafana_dashboards,Ie4e85f5547df4b1749280acd7ff858005b91eee9,Grafana: Fix Ceph pool usage dashboard panel,ABANDONED,2018-04-27 16:11:16.000000000,2018-08-02 17:23:44.000000000,,1,1,0,564824,7988ff59860bc7cce141b67680530aecd92cad6d,5,1,2,1,17591,Steve Wilkerson,srwilkers,"Grafana: Fix Ceph pool usage dashboard panel

This fixes the ceph pool usage panel for displaying the percentage
utilization. As it's a percentage unit, multiplying the expression
by 100 resulted in erroneous values as the true percentage was
being multipled by 100 again

Change-Id: Ie4e85f5547df4b1749280acd7ff858005b91eee9
"
openstack%2Fproject-config~master~I2b1363c5a1e049082892d2f5f775a8309a19a04a,openstack/project-config,master,packethost,I2b1363c5a1e049082892d2f5f775a8309a19a04a,Start running jobs on packethost again,MERGED,2018-08-02 16:54:11.000000000,2018-08-02 17:17:08.000000000,2018-08-02 17:17:08.000000000,1,1,0,588339,71be0eab215d5d53241d181194d436d67493c32d,8,4,1,1,4146,Clark Boylan,cboylan,"Start running jobs on packethost again

Last time we learned things about networking and MTUs, this time we
learned things about disk and not running out of it. We now have many
more terabytes of disk space on our hypervisors so that we crash VMs
(like our mirror) when they run out of disk.

Change-Id: I2b1363c5a1e049082892d2f5f775a8309a19a04a
"
openstack%2Ftripleo-quickstart-extras~master~I27d0350d71cd3319782337936992787329978ee4,openstack/tripleo-quickstart-extras,master,insecure,I27d0350d71cd3319782337936992787329978ee4,undercloud: configure insecure registry with undercloud.conf,ABANDONED,2018-07-16 16:49:54.000000000,2018-08-02 17:15:45.000000000,,3,12,1,582999,4f01cd4535286f8b765b51be6469cdf46bf41f76,33,6,8,2,3153,Emilien Macchi,emilienm,"undercloud: configure insecure registry with undercloud.conf

... and not with the workaround in overcloud-prep-containers.sh.
We have the interface to do it via undercloud.conf, let's use it.

Note: it works fine with both tripleoclient for containerized undercloud
and instack-undercloud for non-containerized undercloud.

Change-Id: I27d0350d71cd3319782337936992787329978ee4
"
openstack%2Fkayobe~master~I2073a7f2b76c0cc064376564e7e47a5fd8530468,openstack/kayobe,master,,I2073a7f2b76c0cc064376564e7e47a5fd8530468,Add support for Dell PowerConnect switches in NGS,MERGED,2018-06-07 18:15:17.000000000,2018-08-02 17:03:13.000000000,2018-08-02 17:03:13.000000000,1,0,0,573396,f27461a9c2ee51be6c0cfa3744f1f3472b29f28b,9,3,2,1,14826,Mark Goddard,mgoddard,"Add support for Dell PowerConnect switches in NGS

This depends on the support for Dell PowerConnect switches in
networking-generic-switch [1].

[1] https://review.openstack.org/573380

Change-Id: I2073a7f2b76c0cc064376564e7e47a5fd8530468
Story: 2002106
Task: 20051
"
openstack%2Fkayobe~master~I86f654c95be05e3a82d6015e4c89093127553408,openstack/kayobe,master,,I86f654c95be05e3a82d6015e4c89093127553408,Add support for Mellanox switches running MLNX-OS,MERGED,2018-06-25 15:25:48.000000000,2018-08-02 17:03:11.000000000,2018-08-02 17:03:11.000000000,30,0,0,577849,abded1e472ed1e6dbb4b77c776eb6c822d34a8a3,12,4,1,4,14826,Mark Goddard,mgoddard,"Add support for Mellanox switches running MLNX-OS

Mellanox switches running MLNX-OS cannot be managed using the Ansible onyx*
modules, as the OS is too old. This change uses the stackhpc.mellanox-switch
Ansible role to configure these devices using the Ansible expect module.

Change-Id: I86f654c95be05e3a82d6015e4c89093127553408
Story: 2002687
Task: 22512
"
openstack%2Fkayobe~master~I042ad8d115cdc0dd57a116e1be9d397ef4d216ae,openstack/kayobe,master,story/2002903,I042ad8d115cdc0dd57a116e1be9d397ef4d216ae,Fix handling of switch_type variable in Ansible 2.5,MERGED,2018-07-09 14:31:12.000000000,2018-08-02 17:03:09.000000000,2018-08-02 17:03:09.000000000,14,7,0,581048,c175b078e551294f7a9d098bb5460066e89cf4a4,7,3,1,2,14826,Mark Goddard,mgoddard,"Fix handling of switch_type variable in Ansible 2.5

In Ansible, playbook group variables take precedence over inventory
group variables. Typically in a kayobe-config we might specify the
switch_type variable for a group containing switches using inventory
group_vars. This seemed to work in Ansible 2.3, but since Ansible 2.4
the default value of None in kayobe's playbook group_vars takes
precedence. This behaviour is as documented, not sure why it worked
previously.

This change removes the default value of None set in the playbook
group_vars.

Change-Id: I042ad8d115cdc0dd57a116e1be9d397ef4d216ae
Story: 2002903
Task: 22870
"
openstack%2Fopenstack-helm-infra~master~Ib681aa8ce1a351102f0bdebdda40d5c3ca69206e,openstack/openstack-helm-infra,master,add-scheme-lookup,Ib681aa8ce1a351102f0bdebdda40d5c3ca69206e,Add endpoint scheme lookup function,ABANDONED,2018-08-02 16:32:06.000000000,2018-08-02 17:02:08.000000000,,46,0,0,588333,fe97d8379e846d0999611300bf564be22f82bc5e,5,4,2,1,20466,Tin Lam,tinlam,"Add endpoint scheme lookup function

This patch set adds gotpl function to lookup the scheme for an endpoint,
similar to the parallel functions to look up the port and host.  The
need for this function is to account for how some httpProbes in the
readiness checks hard code in the scheme of ""HTTP"" (see [0]).  This
will cause problem should the deployer switches this to HTTPS.
This adds in the flexibility to correctly switch to the correct
protocol.

[0] https://github.com/openstack/openstack-helm-infra/blob/bae870c4e060fd765debf4cd14528d50fa931a85/kube-dns/templates/deployment-kube-dns.yaml#L89

Change-Id: Ib681aa8ce1a351102f0bdebdda40d5c3ca69206e
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Fkolla-ansible~master~I33d7f2c7b5597a541a0d104c76520ac4a1cd5026,openstack/kolla-ansible,master,bug/1785066,I33d7f2c7b5597a541a0d104c76520ac4a1cd5026,Extract cinder_iscsi_helper default from role,MERGED,2018-08-02 14:32:56.000000000,2018-08-02 16:57:45.000000000,2018-08-02 16:57:44.000000000,1,1,0,588296,33598f58217cf0446939208abdfba53c9e9e2105,7,3,1,2,20369,Will Miller,w-miller,"Extract cinder_iscsi_helper default from role

The variable `cinder_iscsi_helper` is used not only in the `cinder` role,
but also in the `iscsi` role. It needs to have a default accessible for
both roles.

Change-Id: I33d7f2c7b5597a541a0d104c76520ac4a1cd5026
Closes-Bug: #1785066
"
openstack%2Fnova~master~I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9,openstack/nova,master,bp/neutron-new-port-binding-api,I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9,Annotate flows and handle PortBindingDeletionFailed in ComputeManager,MERGED,2018-03-09 21:20:50.000000000,2018-08-02 16:50:21.000000000,2018-07-26 07:53:02.000000000,155,10,31,551371,e53f46672e0fba2c72c972f3f031281a863d7765,382,20,32,4,6873,Matt Riedemann,mriedem,"Annotate flows and handle PortBindingDeletionFailed in ComputeManager

This change adds comments to the live migration methods about
some of the network API calls since it can get very confusing
trying to trace what is happening with networking during
live migration since the network API has several similar
sounding methods.

This also handles PortBindingDeletionFailed which can be raised
from the neutronv2 API implementation of setup_networks_on_host
when teardown=True. There are three cases that can hit this:

1. post live migration at the destination cleaning up the source
   host port bindings
2. rollback live migration at the source cleaning up the
   destination host port bindings
3. rollback live migration at the destination cleaning up the
   destination host port bindings

Depends-On: https://review.openstack.org/558990/

Co-Authored-By: Sean Mooney <sean.k.mooney@intel.com>

Part of blueprint neutron-new-port-binding-api

Change-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9
"
openstack%2Fnetworking-odl~master~I7edb4c3284a358fba80e4fe68a0cd0f08f809b1a,openstack/networking-odl,master,bug/1781787,I7edb4c3284a358fba80e4fe68a0cd0f08f809b1a,Assure that PeriodicTask passes context as args,MERGED,2018-07-15 11:32:01.000000000,2018-08-02 16:50:03.000000000,2018-08-02 16:50:03.000000000,25,7,0,582762,752f9d650ac48a8c7f2ddbc732ae4341459cf4f1,17,4,5,2,26507,Michel Peterson,mpeterson,"Assure that PeriodicTask passes context as args

Enginefacade expects that the first argument of functions are either
self, cls or the context. At the same time, PeriodicTask was sending
context as a kwargs called context. Because the introspection that
enginefacade does only happens on args this was causing an error with
PeriodicTask.

This patch modifies the behavior of PeriodicTask so it only sends the
context as enginefacade expects it -an args.

Change-Id: I7edb4c3284a358fba80e4fe68a0cd0f08f809b1a
Closes-Bug: #1781787
"
openstack%2Fnetworking-odl~master~I73f39190cac5f17412ff272a1bdfecfa7d7c3f68,openstack/networking-odl,master,fix/master,I73f39190cac5f17412ff272a1bdfecfa7d7c3f68,Consume DB retry decorator from neutron-lib,MERGED,2018-07-23 10:41:31.000000000,2018-08-02 16:50:02.000000000,2018-08-02 16:50:02.000000000,37,36,0,584791,bb5b92c9d3f18ef238c136e2eb47180c154b9dd3,9,2,2,10,26507,Michel Peterson,mpeterson,"Consume DB retry decorator from neutron-lib

In a process of moving common things out of neutron and into neutron-lib
there are patches being issued to gradually move them. The last patch
that dealt with retry decorators [1] was incomplete, but somehow the
gate succeeded and it still succeeds, although it fails locally.

This patch fixes this problem by consuming the retry decorator from
neutron-lib as it was originally intended. In addition, it bumps the
requirements to the version required for this to work.

[1]: https://review.openstack.org/570028

Change-Id: I73f39190cac5f17412ff272a1bdfecfa7d7c3f68
"
openstack%2Fnova~master~I91627412744dad65122240f0aeb7a57ee85ba313,openstack/nova,master,bp/neutron-new-port-binding-api,I91627412744dad65122240f0aeb7a57ee85ba313,libvirt: use dest host vif migrate details for live migration,MERGED,2018-03-09 21:20:50.000000000,2018-08-02 16:49:36.000000000,2018-07-25 01:27:33.000000000,250,4,43,551370,2b52cde565d542c03f004b48ee9c1a6a25f5b7cd,363,20,30,4,6873,Matt Riedemann,mriedem,"libvirt: use dest host vif migrate details for live migration

This takes the vif details from the destination host and uses them
to overwrite the guest xml on the source host prior to starting the
live migration. This allows live migrating between different vif
types on different compute hosts.

Co-Authored-By: Sean Mooney <sean.k.mooney@intel.com>

Part of blueprint neutron-new-port-binding-api

Change-Id: I91627412744dad65122240f0aeb7a57ee85ba313
"
openstack%2Fnova~master~Ia803978401a0a9e8e28af006ffda1f4897ecd9f0,openstack/nova,master,bp/neutron-new-port-binding-api,Ia803978401a0a9e8e28af006ffda1f4897ecd9f0,libvirt: use dest host port bindings during pre_live_migration,MERGED,2018-05-08 16:01:39.000000000,2018-08-02 16:49:14.000000000,2018-07-24 03:21:44.000000000,41,4,7,566933,a81811e1118e61ef3f8bcb96200f9cbbebe8a6bd,92,18,7,2,6873,Matt Riedemann,mriedem,"libvirt: use dest host port bindings during pre_live_migration

This uses the destination host port binding information to plug
vifs on the destination host during pre_live_migration.

This gets ""turned on"" later in the series when conductor sets the
migrate_data.vifs field.

Part of blueprint neutron-new-port-binding-api

Change-Id: Ia803978401a0a9e8e28af006ffda1f4897ecd9f0
"
openstack%2Fnova~master~Iad4edecee9866d4eadd9da2d81b6fba214578c91,openstack/nova,master,bp/neutron-new-port-binding-api,Iad4edecee9866d4eadd9da2d81b6fba214578c91,libvirt: factor out pre_live_migration plug_vifs call,MERGED,2018-05-08 16:01:39.000000000,2018-08-02 16:42:32.000000000,2018-07-24 03:21:39.000000000,22,19,5,566932,5b554ed90dec0a662b8caa74e5f3073cf0e0631b,102,22,7,1,6873,Matt Riedemann,mriedem,"libvirt: factor out pre_live_migration plug_vifs call

The pre_live_migration() method is already large so this
factors out the plug_vifs() call into a separate method
since we're going to build on it in an upcoming patch.

Part of blueprint neutron-new-port-binding-api

Change-Id: Iad4edecee9866d4eadd9da2d81b6fba214578c91
"
openstack%2Fopenstack-helm~master~I3df7e7de583a75234a6bc4a71a32bd0a8d369332,openstack/openstack-helm,master,nova/move-rootwrap-to-value,I3df7e7de583a75234a6bc4a71a32bd0a8d369332,Nova: move rootwrap config to be values.yaml driven,MERGED,2018-08-01 18:50:37.000000000,2018-08-02 16:34:53.000000000,2018-08-02 16:34:44.000000000,422,426,0,587973,758067bded8de13efa3b1487b710f6eaf92b1474,11,4,2,8,23928,Pete Birley,portdirect,"Nova: move rootwrap config to be values.yaml driven

This PS updates the nova rootwrap config to be values.yaml driven,
inline with neutron and cinder.

Change-Id: I3df7e7de583a75234a6bc4a71a32bd0a8d369332
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fproject-config~master~Ib4bfe118e8f39bc9888fbdbff4cbece00106a38d,openstack/project-config,master,,Ib4bfe118e8f39bc9888fbdbff4cbece00106a38d,Remove legacy-muranoclient-dsvm-functional-mysql-backend for muranoclient,MERGED,2018-07-28 05:51:54.000000000,2018-08-02 16:34:43.000000000,2018-08-02 16:34:43.000000000,0,4,0,586748,bd85a02040b336b51ab0beaf558914a39396c5cb,8,14,2,1,14107,zhurong,zhurong,"Remove legacy-muranoclient-dsvm-functional-mysql-backend for muranoclient

We move legacy-muranoclient-dsvm-functional-mysql-backend job to muranoclient,
so remove this job from project-config.

Depends-On: https://review.openstack.org/#/c/586746/
Change-Id: Ib4bfe118e8f39bc9888fbdbff4cbece00106a38d
"
openstack%2Fcinder~master~Idfb04652f148e1f820d76d62395fe7cfcb445057,openstack/cinder,master,fix_ha_devref,Idfb04652f148e1f820d76d62395fe7cfcb445057,docs: Write high availability devref,MERGED,2018-05-30 16:03:11.000000000,2018-08-02 16:34:40.000000000,2018-08-02 16:34:40.000000000,1330,0,70,571242,b4d1ab9d19add6a050047452a1e51c01eef68fae,111,39,6,3,9535,Gorka Eguileor,Gorka,"docs: Write high availability devref

Adds contributor/developer reference for High Availability in Cinder.

Not only related to Active-Active, but also to Active-Passive and
concurrency in general.

Change-Id: Idfb04652f148e1f820d76d62395fe7cfcb445057
"
openstack%2Fcinder~master~I9b13a60adbd283fcc37ee307757605af57a76aa7,openstack/cinder,master,,I9b13a60adbd283fcc37ee307757605af57a76aa7,[doc] Use openstack client commands to replace cinder client,MERGED,2018-07-09 07:03:33.000000000,2018-08-02 16:34:35.000000000,2018-08-02 16:34:35.000000000,4,4,0,580935,3fab55e9ddf592f24c73e5e369245bf0a1f1b502,57,31,2,1,14151,ziyu032,ziyu032,"[doc] Use openstack client commands to replace cinder client

Change-Id: I9b13a60adbd283fcc37ee307757605af57a76aa7
"
openstack%2Fcinder~master~Ifd241a9fa34957a3bfc8b3a768d18a781519eefe,openstack/cinder,master,bug/1742587,Ifd241a9fa34957a3bfc8b3a768d18a781519eefe,NEC driver: Return non-random iscsi portal in initialize,MERGED,2018-06-19 07:09:23.000000000,2018-08-02 16:34:31.000000000,2018-08-02 16:34:31.000000000,9,9,8,576390,b6cf3dd2a630be752f1f2b750c7d26bbf3d2d7b7,111,42,3,2,12860,Dongcan Ye,yedongcan,"NEC driver: Return non-random iscsi portal in initialize

Returns same set of portals in initialize, this will
suits for both single-path and multipath situations.

Change-Id: Ifd241a9fa34957a3bfc8b3a768d18a781519eefe
Closes-Bug: #1742587
"
openstack%2Fnova~master~I4c5b1fee4a4f6b6ab7b0b1bb2c1049e23a981b48,openstack/nova,master,bp/neutron-new-port-binding-api,I4c5b1fee4a4f6b6ab7b0b1bb2c1049e23a981b48,Add VIFMigrateData.get_dest_vif,MERGED,2018-05-08 16:01:39.000000000,2018-08-02 16:31:07.000000000,2018-07-24 03:14:32.000000000,52,0,0,566931,8d3a049507d1ea1edbd7e9c65d7769d9f16676c5,148,21,7,2,6873,Matt Riedemann,mriedem,"Add VIFMigrateData.get_dest_vif

This adds a simple helper function to VIFMigrateData to
get a destination VIF object based on the set source_vif
but updated with destination port binding details. This
will be used by the libvirt driver in later patches in
the series.

Part of blueprint neutron-new-port-binding-api

Change-Id: I4c5b1fee4a4f6b6ab7b0b1bb2c1049e23a981b48
"
openstack%2Fnova~master~I174ae21f143016bb23b8043fa22465dac6c71314,openstack/nova,master,bp/neutron-new-port-binding-api,I174ae21f143016bb23b8043fa22465dac6c71314,Add VIFMigrateData object for live migration,MERGED,2017-10-26 14:19:48.000000000,2018-08-02 16:26:22.000000000,2018-07-23 22:10:22.000000000,154,9,57,515423,0a71a542e02e41ba514984ad49608168b5865696,421,23,30,5,11604,sean mooney,sean-k-mooney,"Add VIFMigrateData object for live migration

- This change adds a new VIFMigrateData object.
- This change adds a new vifs field to the
  base LiveMigrateData object.

Later patches will populate this information during
live migration where nova uses the neutron port
binding extended API to bind the port on the destination
host, and store the destination host binding details
in this object to be leveraged on the source host for
things like defining vif details in the guest before
starting the live migration in the hypervisor.

Note that vif_details and profile must be stored as
serialized dicts similar to
LibvirtLiveMigrateBDMInfo.connection_info_json.

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Part of blueprint neutron-new-port-binding-api

Change-Id: I174ae21f143016bb23b8043fa22465dac6c71314
"
openstack%2Fproject-config~master~Id814295cfe6a59863e58f0a01014fd31f1c38371,openstack/project-config,master,tripleo/update,Id814295cfe6a59863e58f0a01014fd31f1c38371,ansible-role-container-registry: switch to non-pypi jobs,MERGED,2018-08-01 15:20:01.000000000,2018-08-02 16:26:18.000000000,2018-08-02 16:26:17.000000000,1,1,6,587847,4941769dd233b53c4cf5f316f8a41aff98632beb,17,8,2,1,3153,Emilien Macchi,emilienm,"ansible-role-container-registry: switch to non-pypi jobs

Switch the release jobs for ansible-role-container-registry to non-pypi,
this is an Ansible module, we don't want it in pypi.

Change-Id: Id814295cfe6a59863e58f0a01014fd31f1c38371
"
openstack%2Fproject-config~master~Ia64eff3dcca47d023d950faeca82de8d660ab71b,openstack/project-config,master,,Ia64eff3dcca47d023d950faeca82de8d660ab71b,Remove various windmill jobs from projects.yaml,MERGED,2018-08-01 17:58:06.000000000,2018-08-02 16:26:16.000000000,2018-08-02 16:26:16.000000000,0,42,0,587927,bfb7113d4069aeb02d19f578d816e4c4e32f578a,7,3,1,1,4162,Paul Belanger,pabelanger,"Remove various windmill jobs from projects.yaml

All of these projects are in the middle of being converted to in-tree
jobs. It is safe for us to remove these jobs as we plan to land
in-tree changes right away.

Change-Id: Ia64eff3dcca47d023d950faeca82de8d660ab71b
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
"
openstack%2Fkayobe~master~I4b4f0f37b9341d0009b4ea8c77ec014d289cd2af,openstack/kayobe,master,document-release-notes,I4b4f0f37b9341d0009b4ea8c77ec014d289cd2af,Point README and docs to official release notes,MERGED,2018-08-01 17:58:32.000000000,2018-08-02 16:22:44.000000000,2018-08-02 16:22:44.000000000,5,0,0,587928,cc47f7d0d4e807a3150f677a2cad8455e5829c46,9,3,2,2,14826,Mark Goddard,mgoddard,"Point README and docs to official release notes

OpenStack publishes release notes for non-official projects as well as
official projects at https://docs.openstack.org/releasenotes.

Change-Id: I4b4f0f37b9341d0009b4ea8c77ec014d289cd2af
"
openstack%2Fnova~master~Ied464744803864e61a45e03c559760a8a2e2581f,openstack/nova,master,bug/1782340,Ied464744803864e61a45e03c559760a8a2e2581f,[placement] disallow additional fields in allocations,MERGED,2018-07-19 09:46:04.000000000,2018-08-02 16:21:54.000000000,2018-07-23 18:56:26.000000000,16,0,0,583907,0fc4f95914dec7df68e53514771bf3afe1ee9c4f,26,20,2,2,11564,Chris Dent,chdent,"[placement] disallow additional fields in allocations

Back in microversion 1.12, when the allocations structure was extended
to allow project_id and user_id on PUT /allocations/{uuid},
""additionalProperties"" was not set in the JSON schema, so it has been
possible since then to include unused fields in the input. The schema
was then reused in the creation of subsequent schema for new
microversions and for new URIs, such as POST /allocations and the
forthcoming /reshaper.

This change fixes it by fixing the old microversion. This is the ""just
fix it"" option from the discussion on the associated bug. The other
option is to create a new microversion that corrects the behavior. This
is more complex than it might initially sound because of the way in
which the original schema is used to compose new ones.

Change-Id: Ied464744803864e61a45e03c559760a8a2e2581f
Closes-Bug: #1782340
"
openstack%2Fironic~master~I19a9e099ee4d5e9a6b4a6d49d851b5134aa02337,openstack/ironic,master,reno_typo,I19a9e099ee4d5e9a6b4a6d49d851b5134aa02337,Update the reno for the reset_interfaces feature,MERGED,2018-08-02 14:42:15.000000000,2018-08-02 16:19:26.000000000,2018-08-02 15:38:59.000000000,4,3,0,588300,103801a9ad4b6bb3d9db1117a0cd49d09a1ade96,8,4,1,1,6618,Ruby Loo,rloo,"Update the reno for the reset_interfaces feature

This updates the release note for the 'reset_interfaces' query
parameter of a PATCH request to update a node. It clarifies that
it is a query parameter and fixes some grammatical issues.

Change-Id: I19a9e099ee4d5e9a6b4a6d49d851b5134aa02337
"
openstack%2Fnova~master~I47eaf08a9c06e33d707fdfe88f6771e165f377b5,openstack/nova,master,bp/remove-nova-network,I47eaf08a9c06e33d707fdfe88f6771e165f377b5,"Remove ""DEPRECATED"" tag from Obsolete APIs",MERGED,2018-07-17 03:20:56.000000000,2018-08-02 16:19:08.000000000,2018-07-26 01:14:08.000000000,22,22,3,583092,449da032453b0a2f50ac9f2daaa92a193bb35783,68,19,5,7,8556,Ghanshyam,ghanshyam,"Remove ""DEPRECATED"" tag from Obsolete APIs

APIs which are being Obsoleted and return 410 like nova-net
only APIs, have been moved to ""Obsolete API"" section in api-ref.

In favour of moving them in ""Obsolete API"" section, ""DEPRECATED""
tag on those API ref can be removed to avoid confusion whether
these APIs are deprecated or gone.

Part of blueprint remove-nova-network

ref- https://review.openstack.org/#/c/567682/1/api-ref/source/os-fping.inc@4

Change-Id: I47eaf08a9c06e33d707fdfe88f6771e165f377b5
"
openstack%2Fnova~master~I89d081108b398d8efba9636279088c61349b21e6,openstack/nova,master,bp/remove-nova-network,I89d081108b398d8efba9636279088c61349b21e6,Remove support for /os-floating-ips-bulk REST API,MERGED,2018-07-16 10:06:40.000000000,2018-08-02 16:18:47.000000000,2018-07-26 01:11:33.000000000,42,566,4,582912,823c4e840d375209cba17a7f80f80fc89e3c6ce7,103,21,3,17,15334,Stephen Finucane,sfinucan,"Remove support for /os-floating-ips-bulk REST API

Drop support for the os-floating-ips-bulk API which has been deprecated
since Newton:

  Idca478c566f9a7b5b30a3172453ce7c66d9fd8f0

This API now returns a 410 response for all routes.

Unit tests are removed and the functional API sample tests are just
asserting the 410 response now.

The API sample docs are left intact since the API reference still builds
from those and can be considered more or less branchless, so people
looking at the API reference can apply it to older deployments of nova
before os-floating-ips-bulk was removed.

The release note added for previous nova-network API removals is
amended to note this additional change.

Part of blueprint remove-nova-network

Change-Id: I89d081108b398d8efba9636279088c61349b21e6
Depends-On: https://review.openstack.org/582945
"
openstack%2Fnova~master~If12fc7e374c7933bd2f10beb4be3e0a8d8e622e9,openstack/nova,master,cd/placement-coverage-sweep,If12fc7e374c7933bd2f10beb4be3e0a8d8e622e9,[placement] cover bad content-length header,MERGED,2018-07-18 15:01:39.000000000,2018-08-02 16:18:21.000000000,2018-07-18 23:33:55.000000000,11,0,0,583644,6006ccd83b77cd756e1f4f81d4a1db0828ebad9e,15,11,1,1,11564,Chris Dent,chdent,"[placement] cover bad content-length header

The main dispatch handler in placement checks to see if the
content-length header is a valid int and returns a 400 status
code if not. There had been no gabbi coverage for this behavior.
This patch adds that coverage.

Change-Id: If12fc7e374c7933bd2f10beb4be3e0a8d8e622e9
"
openstack%2Fnova~master~I239606f5f354a5536b20b1d31ee81d80b4572106,openstack/nova,master,python3-first,I239606f5f354a5536b20b1d31ee81d80b4572106,tox: Ensure reused envdirs share the same deps,MERGED,2018-08-02 10:37:03.000000000,2018-08-02 16:17:24.000000000,2018-08-02 14:59:53.000000000,9,10,2,588207,a0614472df8ec425ee0133a0419e1a1591b899d8,15,11,1,1,15334,Stephen Finucane,sfinucan,"tox: Ensure reused envdirs share the same deps

In commit df669caf, we modified tox.ini to reuse a shared directory for
environments with the same dependencies. The 'venv' directory was
chosen as this seemed like a suitably generic target. However, the
'venv' target actually uses a non-default values for 'deps' as doc
requirements are included to allow things like reno using this target.
This means switching between the 'venv' target and any of the other
other targets using this directory will result in the virtualenv being
rebuilt each time.

Resolve this by using an explicit directory for these shared
environments. A single setting of 'deps' for one of the targets is
removed to make this clear.

Change-Id: I239606f5f354a5536b20b1d31ee81d80b4572106
"
openstack%2Fcinder~master~I5061fcd2256c24814f0868370d07f8c6dd0ae8e3,openstack/cinder,master,fix-indent,I5061fcd2256c24814f0868370d07f8c6dd0ae8e3,Fix indentation in docs,MERGED,2018-08-02 09:44:57.000000000,2018-08-02 16:10:57.000000000,2018-08-02 14:00:52.000000000,26,26,0,588193,b0e9ee1d501fb83b7ebbc59584aa6255dbaec086,23,19,1,1,23913,David Rabel,rabel,"Fix indentation in docs

cli/cli-manage-volumes.rst
Current indentation is wrongly interpreted as quotation.

Change-Id: I5061fcd2256c24814f0868370d07f8c6dd0ae8e3
"
openstack%2Fcinder~master~I27b94c5579d5215fdd0fbd6c421aa5f6d9139bd8,openstack/cinder,master,bug/1784821,I27b94c5579d5215fdd0fbd6c421aa5f6d9139bd8,Update volume create schema to allow 'null',MERGED,2018-08-01 13:27:59.000000000,2018-08-02 16:06:59.000000000,2018-08-02 16:06:59.000000000,3,1,0,587821,b69e041dd661b46a90650d64e7ac9998fc5c45fa,68,34,2,2,11904,Sean McGinnis,SeanM,"Update volume create schema to allow 'null'

When creating a volume from a source snapshot, size is not a required
parameter since it will be defaulted to the snapshot's original size. We
set it as not required in 8152f6c0cc0950fba33a67e62bf37e9ded7e1424, but
missed that the jsonschema validation also needed to be updated to allow
for the empty value.

Change-Id: I27b94c5579d5215fdd0fbd6c421aa5f6d9139bd8
Closes-bug: #1784821
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fopenstack-health~master~Ieb1b3bf4cc63ad73b210db0275fde284277900a4,openstack/openstack-health,master,metadata,Ieb1b3bf4cc63ad73b210db0275fde284277900a4,docs: add info about subunit2SQL usage,MERGED,2018-07-16 17:22:05.000000000,2018-08-02 16:05:54.000000000,2018-08-01 22:56:46.000000000,93,0,9,583003,ed5e6f1876283d70f0de9193b035150100ce4d36,12,13,3,2,20378,Trevor McCasland,twm2016,"docs: add info about subunit2SQL usage

This document summarizes the required subunit2SQL usage to produce
run metadata, and additional arguments this program uses in code to
display data on test results.

Change-Id: Ieb1b3bf4cc63ad73b210db0275fde284277900a4
"
openstack%2Ftripleo-heat-templates~master~Ib56610e403ac1e3a41cb9b65b57c40f12f7b5d54,openstack/tripleo-heat-templates,master,bug/1783776,Ib56610e403ac1e3a41cb9b65b57c40f12f7b5d54,adding vxlan into Neutuon drivers for networking-ansible,MERGED,2018-07-26 14:19:30.000000000,2018-08-02 16:00:05.000000000,2018-08-02 16:00:05.000000000,2,2,4,586244,f55f4f6f8472ac52be62a83e710daad4f5d72957,35,10,5,2,5792,Dan Radez,dradez,"adding vxlan into Neutuon drivers for networking-ansible

Compute nodes that launch VMs will still need vxlan enabled
vxlan was left out of the enabled driver types in neutron
for the ml2-ansible environment files

Change-Id: Ib56610e403ac1e3a41cb9b65b57c40f12f7b5d54
Closes-Bug: #1783776
"
openstack%2Foslo.messaging~master~I1303d74af7a242edefe774d8f5e12e63614c0158,openstack/oslo.messaging,master,bug/1785048,I1303d74af7a242edefe774d8f5e12e63614c0158,Call listener stop only if listener is initialized,MERGED,2018-08-02 11:28:45.000000000,2018-08-02 15:53:44.000000000,2018-08-02 15:53:44.000000000,4,2,0,588217,d8fa6d5edfa171ae5f36b8d1269f87716830ba7b,8,5,1,1,21970,Andras Kovi,andras.kovi,"Call listener stop only if listener is initialized

Change-Id: I1303d74af7a242edefe774d8f5e12e63614c0158
Closes-Bug: #1785048
"
openstack%2Frpm-packaging~master~Ia4ceed4553ccc92886661b7893384a9b0812fa6c,openstack/rpm-packaging,master,python-saharaclient,Ia4ceed4553ccc92886661b7893384a9b0812fa6c,Update python-saharaclient to 1.6.0 and include patch for newer Sphinx,MERGED,2018-04-20 02:25:42.000000000,2018-08-02 15:48:45.000000000,2018-08-02 15:48:45.000000000,37,3,0,562905,72ff9a3426790d0df39a657f928ec6a1b2530096,30,6,5,2,17130,melissaml,malei,"Update python-saharaclient to 1.6.0 and include patch for newer Sphinx

1.6.0 needs a backport of a fix to build with an already deprecated
part of Sphinx, so to build with Sphinx 1.7.x this patch is required

Depends-on: I0dbf9b9c574bac7b40998c8774e6882b674f3fa5
Change-Id: Ia4ceed4553ccc92886661b7893384a9b0812fa6c
"
openstack%2Fproject-config~master~Id9a88fe6f8abb7aa0ddf38183313484ed3e6c361,openstack/project-config,master,vmware-nsx-tempest-publish,Id9a88fe6f8abb7aa0ddf38183313484ed3e6c361,add publish-to-pypi to vmware-nsx-tempest-plugin,MERGED,2018-07-20 19:36:15.000000000,2018-08-02 15:41:18.000000000,2018-08-02 15:41:18.000000000,1,0,4,584498,2294d628d6b6b6709d1fe8d7b91bc07648141540,18,5,2,1,5367,boden,boden,"add publish-to-pypi to vmware-nsx-tempest-plugin

This patch adds the publish-to-pypi template to the
openstack/vmware-nsx-tempest-plugin project so that we have the ability
to release versions to PYPI.

Change-Id: Id9a88fe6f8abb7aa0ddf38183313484ed3e6c361
"
openstack%2Frpm-packaging~master~I1126a7aab85b55f2931d8b5a235931e8f705d7e8,openstack/rpm-packaging,master,keystone,I1126a7aab85b55f2931d8b5a235931e8f705d7e8,keystone: update requires,MERGED,2018-07-23 12:08:40.000000000,2018-08-02 15:40:01.000000000,2018-08-02 15:40:01.000000000,2,0,0,584847,8dc1ae8513b8dc9ff55158ce87a8073d2ffa4a94,50,8,7,1,6593,Dirk Mueller,dmllr,"keystone: update requires

After I398acad439f4e525df3ca4e17fdd3e3ba90d58cc being merged
keystone now requires flask-restful

Depends-On: https://review.openstack.org/#/c/586458/
Change-Id: I1126a7aab85b55f2931d8b5a235931e8f705d7e8
"
openstack%2Fopenstackdocstheme~master~Ia5e24a9d21ed2a0e51dd81b2cd3e44231c885fcc,openstack/openstackdocstheme,master,ignore-build-files,Ia5e24a9d21ed2a0e51dd81b2cd3e44231c885fcc,ignore files created during packaging,MERGED,2018-07-26 08:01:10.000000000,2018-08-02 15:37:19.000000000,2018-08-02 15:37:18.000000000,5,0,0,585985,e599814bb92438f8f1b7dd76485c0031c9f22c04,7,3,1,1,2472,Doug Hellmann,doug-hellmann,"ignore files created during packaging

The build directory is created by setuptools when a package is created.

The file RELEASENOTES.rst used to exist as a manually managed file,
and is now created when reno is installed and a package is created.

The file releasenotes/notes/reno.cache is created when reno is installed
and a package is created.

None of these files should be tracked by git, so add them to the
.gitignore list.

Change-Id: Ia5e24a9d21ed2a0e51dd81b2cd3e44231c885fcc
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fkolla-ansible~master~I12f7244aa91ccd7e287320e7edb09e0d04c01017,openstack/kolla-ansible,master,bug/prechecks_changed_when,I12f7244aa91ccd7e287320e7edb09e0d04c01017,Stop reporting changed in prechecks,MERGED,2018-08-02 10:34:52.000000000,2018-08-02 15:32:55.000000000,2018-08-02 15:32:55.000000000,1,0,0,588205,6fad16ebb05baeb904b7b817ce699dbd422f9b0b,7,3,1,1,22629,Michal Nasiadka,mnasiadka,"Stop reporting changed in prechecks

Change-Id: I12f7244aa91ccd7e287320e7edb09e0d04c01017
"
openstack%2Fkolla-cli~master~Ic955a6d808dfe9d0f8303b58207e7fbd71be78e2,openstack/kolla-cli,master,,Ic955a6d808dfe9d0f8303b58207e7fbd71be78e2,Bump ansible_version_min to 2.4,MERGED,2018-07-31 05:27:21.000000000,2018-08-02 15:31:51.000000000,2018-08-02 15:31:51.000000000,1,1,0,587281,a79a3930ebada25f65e1ea20b80fb7c4a78fc872,12,6,1,1,22165,caoyuan,caoyuan,"Bump ansible_version_min to 2.4

the include_tasks is the new feature in version 2.4[0], and
kolla use it[1], the ansible_version_min should be updated
to version 2.4

Depend-on: I273ac9e8295bfe3fb97af620c1e48e9fbbf06c6e

[0]: https://docs.ansible.com/ansible/2.4/include_tasks_module.html
[1]: https://review.openstack.org/#/c/584728/

Change-Id: Ic955a6d808dfe9d0f8303b58207e7fbd71be78e2
"
openstack%2Fansible-hardening~master~I7942b301b52247564b5561f9e065f133ae91df28,openstack/ansible-hardening,master,bionic-meta,I7942b301b52247564b5561f9e065f133ae91df28,Add bionic to galaxy_info metadata,MERGED,2018-08-02 14:13:18.000000000,2018-08-02 15:22:00.000000000,2018-08-02 15:21:59.000000000,1,0,0,588254,352b86d36b11c5ef42a1b6818f8feb8e062479b3,6,2,1,1,25023,Jonathan Rosser,jrosser,"Add bionic to galaxy_info metadata

Change-Id: I7942b301b52247564b5561f9e065f133ae91df28
"
openstack%2Fpbr~master~I48407415bf783014a57cd57ad1e521f7d3d6b1ac,openstack/pbr,master,the-great-cleanup,I48407415bf783014a57cd57ad1e521f7d3d6b1ac,builddoc: Remove support for Sphinx < 1.6,ABANDONED,2018-07-05 15:36:44.000000000,2018-08-02 15:17:31.000000000,,16,75,1,580416,848b0d6bf3064876f1ce10cda3229ef2c81e60bc,27,6,12,3,15334,Stephen Finucane,sfinucan,"builddoc: Remove support for Sphinx < 1.6

As noted, we're going to drop this in pbr 4.0. Time to do just that.

Change-Id: I48407415bf783014a57cd57ad1e521f7d3d6b1ac
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I8e20586f058f4f9773f5ef3b1ca3159737d81833,openstack/openstack-ansible-openstack_hosts,master,bionic-meta,I8e20586f058f4f9773f5ef3b1ca3159737d81833,Add bionic to galaxy_info metadata,MERGED,2018-08-02 14:13:50.000000000,2018-08-02 15:15:18.000000000,2018-08-02 15:15:18.000000000,1,1,0,588258,ff8690a52f96416459b631e3113f574bc23cf867,6,2,1,1,25023,Jonathan Rosser,jrosser,"Add bionic to galaxy_info metadata

Change-Id: I8e20586f058f4f9773f5ef3b1ca3159737d81833
"
openstack%2Fopenstack-ansible-os_molteniron~master~I1524dc9ce7fa4e33bff1130792d070bbb1d7dc39,openstack/openstack-ansible-os_molteniron,master,bionic-meta,I1524dc9ce7fa4e33bff1130792d070bbb1d7dc39,Add bionic to galaxy_info metadata,MERGED,2018-08-02 14:14:54.000000000,2018-08-02 15:13:15.000000000,2018-08-02 15:13:15.000000000,1,0,0,588271,b4300841a25765addf9177f0fe8f43bf37cdd781,6,2,1,1,25023,Jonathan Rosser,jrosser,"Add bionic to galaxy_info metadata

Change-Id: I1524dc9ce7fa4e33bff1130792d070bbb1d7dc39
"
openstack%2Fopenstack-ansible-openstack_openrc~master~If47d0cb744a5b9fffa7f5d9eab4002e22ee1aaaa,openstack/openstack-ansible-openstack_openrc,master,bionic-meta,If47d0cb744a5b9fffa7f5d9eab4002e22ee1aaaa,Add bionic to galaxy_info metadata,MERGED,2018-08-02 14:19:47.000000000,2018-08-02 15:13:10.000000000,2018-08-02 15:13:10.000000000,1,1,0,588284,d52721067d6e080c54285015bdff8359677b493c,6,2,1,1,25023,Jonathan Rosser,jrosser,"Add bionic to galaxy_info metadata

Change-Id: If47d0cb744a5b9fffa7f5d9eab4002e22ee1aaaa
"
openstack%2Fpuppet-nova~master~I31f9e58b82564cc35776846f8595adcdf59906ae,openstack/puppet-nova,master,sync_power_state_pool_size,I31f9e58b82564cc35776846f8595adcdf59906ae,Add support for sync_power_state_pool_size param,MERGED,2018-07-20 08:37:44.000000000,2018-08-02 15:07:01.000000000,2018-08-02 15:07:01.000000000,14,0,0,584278,78d5ecad86991badd971a95b7eb99640920933ed,14,5,2,3,11292,Arne Wiebalck,wiebalck,"Add support for sync_power_state_pool_size param

Change-Id: I31f9e58b82564cc35776846f8595adcdf59906ae
"
openstack%2Fpuppet-nova~master~I093a713a4f0ba48686de615aa8cb22b17a56917b,openstack/puppet-nova,master,cron-job-sleep,I093a713a4f0ba48686de615aa8cb22b17a56917b,Add sleep in nova cron jobs,MERGED,2018-07-20 12:05:34.000000000,2018-08-02 15:03:26.000000000,2018-08-02 15:03:26.000000000,74,2,1,584339,316836a08cb76a8995121e9f1e1859295e15c820,28,11,10,4,20733,Rajesh Tailor,rajesht,"Add sleep in nova cron jobs

If many DB cron jobs are executed at the same time, it will
trigger lock contention or DB spike.

Added sleep to induce random delay before running cronjobs to avoid
running all cron jobs at the same time on all hosts where this
job is configured.

Change-Id: I093a713a4f0ba48686de615aa8cb22b17a56917b
"
openstack%2Fvitrage~master~Ib3149d00d63aa67e76dde6fd14ec3d07b87f75e5,openstack/vitrage,master,prometheus_datasource_workaround,Ib3149d00d63aa67e76dde6fd14ec3d07b87f75e5,determine instance id from instance ip in Prometheus datasource,MERGED,2018-08-02 10:11:31.000000000,2018-08-02 14:48:42.000000000,2018-08-02 14:48:42.000000000,41,16,7,588199,454698ff54e6df0c0003f54647af24a1ab3ad8c3,16,4,3,4,26339,Muhamad Najjar,7mode3294,"determine instance id from instance ip in Prometheus datasource

Change-Id: Ib3149d00d63aa67e76dde6fd14ec3d07b87f75e5
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~Ia3a55133f9f11eb8678eeff7a4062d19318aa217,openstack/tripleo-heat-templates,stable/pike,bug/1784624,Ia3a55133f9f11eb8678eeff7a4062d19318aa217,[Pike only] ManilaBackendGeneric nooped to avoid deprecated error.,MERGED,2018-08-01 08:55:17.000000000,2018-08-02 14:48:30.000000000,2018-08-02 14:48:30.000000000,2,0,2,587723,223ff7805057df22eb32dab28d25e95443cf1d8b,18,10,2,1,26343,Jose Luis Franco,jfrancoa,"[Pike only] ManilaBackendGeneric nooped to avoid deprecated error.

ManilaBackendGeneric service has been deprecated
in Pike release. But if pike version prior to the
service deprecation was installed and then a minor
update is performed to latest Pike an error will
be returned as the service is not found anymore.
This patch sets the service to OS::Heat::None to
bypass this issue.

Closes-Bug: #1784624
Change-Id: Ia3a55133f9f11eb8678eeff7a4062d19318aa217
"
openstack%2Fnova~master~I9ff64203db23b50e8feda9cd88de41015f80ffa2,openstack/nova,master,safe_connect,I9ff64203db23b50e8feda9cd88de41015f80ffa2,DNM - example,ABANDONED,2018-08-02 14:31:05.000000000,2018-08-02 14:46:04.000000000,,26,9,0,588295,183830d944ac7bf0795eee932462030cc278fd3c,2,0,1,3,7,Jay Pipes,jaypipes,"DNM - example

Change-Id: I9ff64203db23b50e8feda9cd88de41015f80ffa2
"
openstack%2Fnova~master~I9cf900314d71c44ec51eb190c102ddc60e13a767,openstack/nova,master,bug/1621987,I9cf900314d71c44ec51eb190c102ddc60e13a767,Add sync_power_state_pool_size option,MERGED,2016-09-09 04:47:41.000000000,2018-08-02 14:44:21.000000000,2016-09-12 15:46:33.000000000,21,1,3,367746,386812e287198cd2d340d273753ef06075f7c05d,42,17,3,3,7156,Mathieu Gagné,mgagne,"Add sync_power_state_pool_size option

The sync_power_state_pool_size option allows to set
the number of greenthreads available for use to sync power states.

It can be used to reduce the number of concurrent requests
made to the hypervisor or system with real instance power states
for performance reasons.

Closes-bug: #1621987
Change-Id: I9cf900314d71c44ec51eb190c102ddc60e13a767
"
openstack%2Fpython-tripleoclient~master~I09e5998a355138c02115c3f4a424b37a61fefea1,openstack/python-tripleoclient,master,bug/1785059,I09e5998a355138c02115c3f4a424b37a61fefea1,Set TLS cert path when user cert is provided,ABANDONED,2018-08-02 14:02:40.000000000,2018-08-02 14:34:26.000000000,,2,0,0,588252,1efc9d6e6a9bc7a2072fa89ad5a7190cf8f23fef,2,0,1,1,10873,Juan Antonio Osorio Robles,ejuaoso,"Set TLS cert path when user cert is provided

It was still trying to use the default path.

Change-Id: I09e5998a355138c02115c3f4a424b37a61fefea1
Related-Bug: #1785059
"
openstack%2Fcompute-hyperv~master~Ib2cda086efe5547ad17decfd57b9267d16802139,openstack/compute-hyperv,master,,Ib2cda086efe5547ad17decfd57b9267d16802139,Trivial: Sync renamed driver capability,MERGED,2018-08-01 09:20:29.000000000,2018-08-02 14:32:03.000000000,2018-08-02 14:32:03.000000000,1,1,0,587735,e75804f027c449f9cd92df866da69ce4f59dd331,8,3,1,1,8543,Lucian Petrut,plucian,"Trivial: Sync renamed driver capability

The 'recreate' capability has been renamed to 'evacuate'. We need
to pick up this change.

Change-Id: Ib2cda086efe5547ad17decfd57b9267d16802139
"
openstack%2Fmonasca-api~master~I95e9235556c9e639083482b63398a657c52f6abb,openstack/monasca-api,master,storm_upgrade_1.1.3,I95e9235556c9e639083482b63398a657c52f6abb,Upgrade the storm to 1.1.3,MERGED,2018-07-18 11:58:36.000000000,2018-08-02 14:28:02.000000000,2018-08-02 14:28:02.000000000,6,1,2,583554,054be06860e9b73835e92b524fcf66bf694cec83,23,4,4,2,21922,Dobroslaw Zybort,dobrolaw.zybort,"Upgrade the storm to 1.1.3

Storm 1.1.1 is affected by the security bug CVE-2018-1332 [1].
It is recommended to upgrade to 1.1.3 (latest in the 1.1.x series).

[1]: http://www.securityfocus.com/bid/104399

Story: 2003031
Task: 23059

Change-Id: I95e9235556c9e639083482b63398a657c52f6abb
"
openstack%2Fironic~master~Ibd8c98024658b13637cf38f699463ed9beb8c88f,openstack/ironic,master,,Ibd8c98024658b13637cf38f699463ed9beb8c88f,Improve doc of Node serial console,MERGED,2018-07-25 02:51:59.000000000,2018-08-02 14:26:22.000000000,2018-08-02 14:26:22.000000000,43,0,15,585597,b0084cb872f786fd1c0e9dd2779574068339e46d,22,9,2,1,18320,Dao Cong Tien,TienDC,"Improve doc of Node serial console

According to the response from the cloud deployment team
at Fujitsu, there is lack of documentation for serial console.
This patch adds below details:

- Points out the Nova doc of serial console, so deployer can
refer to.
- Adds some info of case serial console runs under HA config.

The content is provided by the deployment team.

Change-Id: Ibd8c98024658b13637cf38f699463ed9beb8c88f
"
openstack%2Fironic~master~Ia6d5336ee074ac5f44226c09c3b3c239f0e50162,openstack/ironic,master,story/1753128,Ia6d5336ee074ac5f44226c09c3b3c239f0e50162,Deploy steps documentation,MERGED,2018-07-23 08:34:36.000000000,2018-08-02 14:23:37.000000000,2018-08-02 14:23:37.000000000,78,5,54,584767,995b538e6ef98b06d2d1e7eb652afb8b5cc64977,28,9,5,5,14826,Mark Goddard,mgoddard,"Deploy steps documentation

Change-Id: Ia6d5336ee074ac5f44226c09c3b3c239f0e50162
Story: #1753128
Task: #22592
"
openstack%2Fopenstack-ansible-apt_package_pinning~stable%2Fqueens~Ie33f2d649d6d8fc4c07147c26b840acdb08aafe7,openstack/openstack-ansible-apt_package_pinning,stable/queens,bionic-meta,Ie33f2d649d6d8fc4c07147c26b840acdb08aafe7,Add bionic to galaxy_info metadata,ABANDONED,2018-08-02 14:13:23.000000000,2018-08-02 14:14:24.000000000,,1,0,0,588255,caae49e0e5a807d64ec8474b5435c90057a8ffd7,2,0,1,1,25023,Jonathan Rosser,jrosser,"Add bionic to galaxy_info metadata

Change-Id: Ie33f2d649d6d8fc4c07147c26b840acdb08aafe7
"
openstack%2Ftripleo-quickstart-extras~master~I8d38369198bcb2dff67cc760586dc763457a5a2b,openstack/tripleo-quickstart-extras,master,dnm_foo,I8d38369198bcb2dff67cc760586dc763457a5a2b,DO NOT MERGE,ABANDONED,2018-08-01 20:17:55.000000000,2018-08-02 14:06:33.000000000,,1,1,0,588073,2677177b47dcd4d7bfbc54a69308010afec36240,5,3,1,1,21686,Matt Young,myoung,"DO NOT MERGE

Change-Id: I8d38369198bcb2dff67cc760586dc763457a5a2b
"
openstack%2Fironic-python-agent~master~Ia527a5aa48e3daf66d2be190e43935b38b3bd6f9,openstack/ironic-python-agent,master,bug/1744064,Ia527a5aa48e3daf66d2be190e43935b38b3bd6f9,Collect IPv6 address during introspection,MERGED,2018-01-21 14:58:05.000000000,2018-08-02 14:05:14.000000000,2018-08-02 14:05:14.000000000,51,14,16,536136,561be773031ff071b576e5dab2e1d2ded28c1ced,40,7,9,4,18480,zhengy,zhengyong,"Collect IPv6 address during introspection

This patch adds support to retrieve IPv6 address.

A new field ``ipv6_address`` is added to NetworkInterface
and store the assigned IPv6 address (if any).

Co-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>
Change-Id: Ia527a5aa48e3daf66d2be190e43935b38b3bd6f9
Closes-Bug: #1744064
Story: #1744064
Task: #11604
"
openstack%2Fironic-inspector~master~I416e42137e59e04f7fd282aa309f2f89cf574209,openstack/ironic-inspector,master,story/2002977,I416e42137e59e04f7fd282aa309f2f89cf574209,Stop introspection if set boot device failed,MERGED,2018-07-18 09:01:20.000000000,2018-08-02 14:01:55.000000000,2018-08-02 14:01:55.000000000,31,5,3,583519,1ad6f695933b51b5dbd89ae6e03faa7fa071799c,24,7,4,3,24828,Kaifeng Wang,wangkf,"Stop introspection if set boot device failed

At the beginning of introspection, ironic inspector sets boot device and
reboot node through ironic, currently it only stops when reboot the node
is failed. Actually the node is not guaranteed to reboot with pxe in either
case.

This patch eliminates the descripency, so that if anything goes wrong, it
will be exposed early.

Change-Id: I416e42137e59e04f7fd282aa309f2f89cf574209
Story: #2002977
Task: #22985
"
openstack%2Fcompute-hyperv~master~Ic328c6d6f47fabd3a9b8c013e60dfd44e9d38ac1,openstack/compute-hyperv,master,stestr,Ic328c6d6f47fabd3a9b8c013e60dfd44e9d38ac1,Switch to stestr,MERGED,2018-07-10 03:11:30.000000000,2018-08-02 14:00:55.000000000,2018-08-02 14:00:55.000000000,14,17,0,581174,ce3f8b7fc185d8482fa970ce80871747542ec2e5,13,3,2,5,25903,Vu Cong Tuan,tuanvu,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: Ic328c6d6f47fabd3a9b8c013e60dfd44e9d38ac1
"
openstack%2Fnova~stable%2Fqueens~I78c2a34b3d03438457cc968cd0a38b8131e4f6e6,openstack/nova,stable/queens,bug/1757407,I78c2a34b3d03438457cc968cd0a38b8131e4f6e6,Call generate_image_url only for legacy notification,MERGED,2018-07-23 17:05:04.000000000,2018-08-02 14:00:47.000000000,2018-08-02 14:00:47.000000000,54,21,0,584969,59075b8243e869774e29bd3b378723947c0b3a20,11,8,1,3,17685,Elod Illes,elod.illes,"Call generate_image_url only for legacy notification

The legacy instance.exists notification includes the full url of the glance
image of the given instance. But the versioned notification only includes
the image uuid. Generating the full url can be a costly operation as it
needs to talk to Keystone.

So this patch makes sure that generate_image_url only called when the
generated information will be used.

 Conflicts:
	nova/compute/utils.py
	nova/notifications/base.py
	nova/tests/unit/notifications/test_base.py

NOTE(elod.illes): conflict caused by parameter system_metadata which is not
there on master anymore.

Change-Id: I78c2a34b3d03438457cc968cd0a38b8131e4f6e6
Closes-Bug: #1757407
(cherry picked from commit 93b897348bde072969f67e43875ce08e5d420b8a)
"
openstack%2Fironic~master~I78e96df2e6b5daabcaea203ebbc1ecd7939557c0,openstack/ironic,master,version_order,I78e96df2e6b5daabcaea203ebbc1ecd7939557c0,release mappings: first object version must be latest,ABANDONED,2018-08-01 13:05:45.000000000,2018-08-02 13:50:20.000000000,,25,8,0,587814,97ea572c53a874aa042c6ea35a300ee8b42e18c8,21,7,3,3,6618,Ruby Loo,rloo,"release mappings: first object version must be latest

For objects in the release mappings, the first version in the
list must be the latest/highest version. This is due to laziness;
code in objects/base.py, get_target_version() uses the first value
as the desired target version. (We could look for the highest
version there, but this unit test should be sufficient.)

Change-Id: I78e96df2e6b5daabcaea203ebbc1ecd7939557c0
"
openstack%2Fneutron~stable%2Fpike~I6293169d7d7f35e3a9726071e63003ac569dd01e,openstack/neutron,stable/pike,bug/1776459,I6293169d7d7f35e3a9726071e63003ac569dd01e,[Fullstack] HA L3 agent restart only standby agents,MERGED,2018-07-16 11:16:56.000000000,2018-08-02 13:45:55.000000000,2018-08-02 13:45:55.000000000,20,2,0,582922,e5584db43a1764a7baf4d79c590374536d3faba4,105,10,1,2,11975,Slawek Kaplonski,slaweq,"[Fullstack] HA L3 agent restart only standby agents

In fullstack test which is testing if there is no packet lost
during restart of agents there were restarted always all agents
which hosted router.
In case when as first was restarted 'master' agent it might
lead to the case when after restart 'master' node was switched
to second L3 agent and that caused lost of few packets and
failed test.
This test should only check if restart of standby agents will
not cause any packet lost so this patch do it in this way.

Change-Id: I6293169d7d7f35e3a9726071e63003ac569dd01e
Closes-Bug: #1776459
(cherry picked from commit c57a5d9d8aef4a9b89e3d41c293ceb40d7ebad22)
"
openstack%2Fkuryr-kubernetes~master~I67b284c08d11be7ec7c51214405fd03678fae3b5,openstack/kuryr-kubernetes,master,bug/1785046,I67b284c08d11be7ec7c51214405fd03678fae3b5,Ensure project id is returned for DefaultNamespaceProjectDriver,MERGED,2018-08-02 11:16:54.000000000,2018-08-02 13:39:30.000000000,2018-08-02 13:39:30.000000000,36,0,0,588214,9d0918128ce137280abcc20bec225a1f7c2258e6,11,3,2,2,23567,Luis Tomas Bolivar,ltomasbo,"Ensure project id is returned for DefaultNamespaceProjectDriver

It also adds the missing unittest to ensure it does not happen again

Closes-Bug: 1785046
Change-Id: I67b284c08d11be7ec7c51214405fd03678fae3b5
"
openstack%2Fsahara-image-elements~master~I094045a665a4441029fa4930e278e94d0cff50f8,openstack/sahara-image-elements,master,,I094045a665a4441029fa4930e278e94d0cff50f8,"Use the correct ""or"" operator to check the spark version",MERGED,2018-08-02 08:12:20.000000000,2018-08-02 13:33:17.000000000,2018-08-02 13:33:16.000000000,1,1,0,588169,5eeec728593d88bb5a220b43206bf5a071151bbd,6,2,1,1,10459,Luigi Toscano,ltoscano,"Use the correct ""or"" operator to check the spark version

It clearly slipped through the review...

Story: 2003281
Task: 24222
Change-Id: I094045a665a4441029fa4930e278e94d0cff50f8
"
openstack%2Fgovernance~master~I1588eaf7c00d855281f81c88f03366a4a3daf1b5,openstack/governance,master,documentation-change,I1588eaf7c00d855281f81c88f03366a4a3daf1b5,update link from python3-first goal to storyboard,MERGED,2018-08-01 16:56:28.000000000,2018-08-02 13:28:46.000000000,2018-08-02 13:28:46.000000000,2,1,0,587916,96035e1e3d701fb280e93abb67e0e2be6b6a8fc4,12,4,2,1,2472,Doug Hellmann,doug-hellmann,"update link from python3-first goal to storyboard

We are using one story per team rather than a single story, so update
the link in the goal page to point to the query based on the tag
rather than linking to a single story.

Add a second link to the dashboard, which shows the stories in
different lanes based on whether they are completed or not.

Change-Id: I1588eaf7c00d855281f81c88f03366a4a3daf1b5
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fgovernance~master~Ic249596f5cd7c1591d13fd3e9b558845703a1e68,openstack/governance,master,code-change,Ic249596f5cd7c1591d13fd3e9b558845703a1e68,teach check-review-status to report verification failures,MERGED,2018-08-01 16:37:03.000000000,2018-08-02 13:28:45.000000000,2018-08-02 13:28:45.000000000,4,0,0,587879,9be9e468d857be94e98ea7bcf727365aadc5a7b4,8,4,1,1,2472,Doug Hellmann,doug-hellmann,"teach check-review-status to report verification failures

Do not report that a change can be approved if it has failed a
verification job.

Change-Id: Ic249596f5cd7c1591d13fd3e9b558845703a1e68
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fcompute-hyperv~master~If13a465000648dfbf1e229a3b8d765e8b3204db4,openstack/compute-hyperv,master,,If13a465000648dfbf1e229a3b8d765e8b3204db4,tests: uses oslotest as the test base,MERGED,2018-08-01 13:55:34.000000000,2018-08-02 13:28:02.000000000,2018-08-02 13:28:02.000000000,4,3,0,587827,8dd291019570c1a2b4f5b61cbebb50f166accf49,10,3,2,2,8213,Claudiu Belu,claudiub,"tests: uses oslotest as the test base

oslotest's base will add mock.patch.stopall, so we don't have to.

Change-Id: If13a465000648dfbf1e229a3b8d765e8b3204db4
"
openstack%2Fsahara~master~I27d2bc4ad9340440878a2f342549d7fe74ee7e68,openstack/sahara,master,socket-gethostbyname,I27d2bc4ad9340440878a2f342549d7fe74ee7e68,Allow overriding of /etc/hosts entries,MERGED,2018-06-04 19:35:35.000000000,2018-08-02 13:24:53.000000000,2018-08-02 13:24:53.000000000,39,0,0,572191,bf68afba5fd4a31ad924ca088bf123321583f628,10,4,2,3,23078,Jeremy Freudberg,jeremyfreudberg,"Allow overriding of /etc/hosts entries

Sometimes the DNS lookup performed where Sahara services are running
may be inaccurate.

Change-Id: I27d2bc4ad9340440878a2f342549d7fe74ee7e68
Story: 2001737
Task: 12092
"
openstack%2Fpuppet-senlin~master~Iaad63669d2414e01b44d5807b01bc9f410d8eb83,openstack/puppet-senlin,master,,Iaad63669d2414e01b44d5807b01bc9f410d8eb83,Remove the unnecessary _,ABANDONED,2018-08-02 09:29:05.000000000,2018-08-02 13:24:23.000000000,,1,1,0,588188,c5ad04b0bc137c439c1b020c14eef35cba889802,3,1,1,1,28637,caoxufeng,caoxufeng,"Remove the unnecessary _

Change-Id: Iaad63669d2414e01b44d5807b01bc9f410d8eb83
"
openstack%2Fpuppet-openstack-guide~master~Id3d31635bafea7eda29629f01d7e578ff02e96b5,openstack/puppet-openstack-guide,master,,Id3d31635bafea7eda29629f01d7e578ff02e96b5,Update repository to https,ABANDONED,2018-08-01 16:05:52.000000000,2018-08-02 13:23:57.000000000,,46,46,0,587868,7d7556de77d2f80885a63f477c4f96f892024266,3,1,1,1,22165,caoyuan,caoyuan,"Update repository to https

Change-Id: Id3d31635bafea7eda29629f01d7e578ff02e96b5
"
openstack%2Fpuppet-openstack-guide~master~Ifce76cdb00b9c7ef5789a4fe0c753fded7755b4f,openstack/puppet-openstack-guide,master,,Ifce76cdb00b9c7ef5789a4fe0c753fded7755b4f,Update the home-page for setup.cfg,ABANDONED,2018-08-01 15:58:20.000000000,2018-08-02 13:23:55.000000000,,1,1,0,587863,eacf78a626fcd4dcad690ab600fbe2b0598b89e2,3,1,1,1,22165,caoyuan,caoyuan,"Update the home-page for setup.cfg

Change-Id: Ifce76cdb00b9c7ef5789a4fe0c753fded7755b4f
"
openstack%2Fproject-team-guide~master~I72584b21f892826f686e5df2c7c8dd596bd6cf8f,openstack/project-team-guide,master,updated-pti,I72584b21f892826f686e5df2c7c8dd596bd6cf8f,Follow the new PTI for document build,MERGED,2018-08-01 07:46:56.000000000,2018-08-02 13:16:50.000000000,2018-08-02 13:16:50.000000000,8,14,6,587707,671b08455490ead0d426274567a6385672c1d1eb,14,6,1,4,27153,Nguyen Hai,nguyentrihai,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
[1] https://governance.openstack.org/tc/reference/project-testing-interface.html
[2] http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html
[3] http://lists.openstack.org/pipermail/openstack-dev/2018-March/128594.html

This patch also organizes index.rst a little bit.

Change-Id: I72584b21f892826f686e5df2c7c8dd596bd6cf8f
"
openstack%2Fpuppet-gnocchi~master~Ic9c49d853459dbbe2d5127dfd8e1bc66179aae58,openstack/puppet-gnocchi,master,,Ic9c49d853459dbbe2d5127dfd8e1bc66179aae58,Adjust the contributors infomation link,ABANDONED,2018-08-01 16:18:02.000000000,2018-08-02 13:14:40.000000000,,1,1,0,587872,0b0bed31061d23ee1506a463698487c0bc684f1c,4,2,1,1,28614,jacky06,jacky06,"Adjust the contributors infomation link

Change-Id: Ic9c49d853459dbbe2d5127dfd8e1bc66179aae58
"
openstack%2Fpuppet-glance~master~I8158a77f359efb2b8963db5aad6a3820cdbb1d61,openstack/puppet-glance,master,,I8158a77f359efb2b8963db5aad6a3820cdbb1d61,Update the somking test format,ABANDONED,2018-08-01 00:57:50.000000000,2018-08-02 13:14:19.000000000,,12,1,2,587665,1aa3b320b84a72b6e6af8532f9c30333a82fb13e,13,5,2,1,28614,jacky06,jacky06,"Update the somking test format

Change-Id: I8158a77f359efb2b8963db5aad6a3820cdbb1d61
"
openstack%2Fpuppet-ceph~master~I141135ed3d6aee8d2708153b374aeda3376ecb11,openstack/puppet-ceph,master,,I141135ed3d6aee8d2708153b374aeda3376ecb11,Remove the unnecessary _,ABANDONED,2018-08-02 08:34:44.000000000,2018-08-02 13:12:04.000000000,,1,1,0,588180,73148bdb324eca7fc801d145dd257bcbba69728a,4,2,1,1,28637,caoxufeng,caoxufeng,"Remove the unnecessary _

Change-Id: I141135ed3d6aee8d2708153b374aeda3376ecb11
"
openstack%2Fmanila~master~Ied78435ae927c8c1b6b92740aca7596950a244ff,openstack/manila,master,bug/1700169,Ied78435ae927c8c1b6b92740aca7596950a244ff,Docs: glance image-create returns an error issue,MERGED,2018-07-16 04:23:22.000000000,2018-08-02 13:09:45.000000000,2018-08-02 13:09:45.000000000,29,23,0,582828,cfc5edf0ee875b24f8a07eaf17f34246d0c878ab,14,10,1,1,25456,junboli,junboli,"Docs: glance image-create returns an error issue

glance image-create --copy-from command returns an error
--copy-from is not allowed in glance default v2 version.

Change-Id: Ied78435ae927c8c1b6b92740aca7596950a244ff
Closes-bug: #1700169
"
openstack%2Fmanila~stable%2Fpike~If3700e7a18cbd8ae496b8c503c95cf6723485679,openstack/manila,stable/pike,bug/1717392,If3700e7a18cbd8ae496b8c503c95cf6723485679,DB Migration: fix downgrade in 579c267fbb4d,MERGED,2018-07-25 22:43:00.000000000,2018-08-02 13:09:42.000000000,2018-08-02 13:09:42.000000000,116,3,0,585905,0028c6b96436bd0b987ca3abae4aa673b6f3024b,10,6,1,3,16643,Goutham Pacha Ravi,gouthamr,"DB Migration: fix downgrade in 579c267fbb4d

The downgrade incorrectly modifies deleted
share access rules.

Also add a missing unit test for this migration.

Co-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>
Change-Id: If3700e7a18cbd8ae496b8c503c95cf6723485679
Closes-Bug: #1717392
(cherry picked from commit 12841fe01656d2cd4ae1e8b69d02dd7ff9e1a3a4)
(cherry picked from commit 846a1597d342feaa58d4c773eae22c880f031508)
"
openstack%2Fnetworking-hyperv~master~Ibda80fbd17310e13ceb7fe4e6db7f68e6403e87b,openstack/networking-hyperv,master,bug/1747666,Ibda80fbd17310e13ceb7fe4e6db7f68e6403e87b,Removes SG rules on port with SG disabled,MERGED,2018-02-06 13:01:29.000000000,2018-08-02 13:05:03.000000000,2018-02-07 08:38:33.000000000,2,13,0,541261,13a1d75fe79dc05c7822625b29fe07554855d70e,8,3,1,2,8213,Claudiu Belu,claudiub,"Removes SG rules on port with SG disabled

The SecurityGroupsDriver relies on its cache when removing a port's
ACL rules if the port's port_security_enabled field is False.

If the port was updated while the agent was down, the cache will be
empty, and thus skip removing the port's ACLs.

This patch addresses this issue by removing all of the port's ACLs if
the port's port_security_enabled is False.

Change-Id: Ibda80fbd17310e13ceb7fe4e6db7f68e6403e87b
Closes-Bug: #1747666
"
openstack%2Fcompute-hyperv~master~I49a0a83ab34ca0b9da5d589aaa9006d169275b15,openstack/compute-hyperv,master,bug/1773342,I49a0a83ab34ca0b9da5d589aaa9006d169275b15,Avoid cleaning up cached images when configured not to,MERGED,2018-05-25 12:05:30.000000000,2018-08-02 13:02:10.000000000,2018-06-13 13:33:36.000000000,13,4,0,570571,7caef58be03cee448d5845628b59ddd669511b87,10,3,1,2,8543,Lucian Petrut,plucian,"Avoid cleaning up cached images when configured not to

This change ensure that we're honoring the ""remove_unused_base_images""
config option, allowing deployers to disable the auto-removal of
old images.

Change-Id: I49a0a83ab34ca0b9da5d589aaa9006d169275b15
Closes-Bug: #1773342
"
openstack%2Fpython-manilaclient~master~I4e2a4b10dfaa8703525df7d5a6892487698657da,openstack/python-manilaclient,master,unicode,I4e2a4b10dfaa8703525df7d5a6892487698657da,Replace unicode with six.text_type,MERGED,2018-07-05 04:19:52.000000000,2018-08-02 12:58:46.000000000,2018-08-02 12:58:46.000000000,1,1,0,580279,bfeb995fb974779b61dc8e722bf345b18a1411aa,10,11,1,1,25903,Vu Cong Tuan,tuanvu,"Replace unicode with six.text_type

The unicode() built-in does not exist under Python 3 so use
six.text_type, which is set correctly to str or unicode, instead.

Change-Id: I4e2a4b10dfaa8703525df7d5a6892487698657da
"
openstack%2Fironic~master~I6c612b69865565a88f97f7c27795c2838bb70b04,openstack/ironic,master,remove-zeromq,I6c612b69865565a88f97f7c27795c2838bb70b04,Mark the ZeroMQ driver deprecated,MERGED,2018-07-12 02:46:39.000000000,2018-08-02 12:49:16.000000000,2018-08-01 19:40:48.000000000,3,2,2,581936,6ece546281ee7ec7a2824e5c2a87981bd9a58af5,35,10,4,1,16523,ZhangLei,zhang.lei,"Mark the ZeroMQ driver deprecated

ZeroMQ driver is deprecated, as per the Dublin 2018 PTG decision:
http://lists.openstack.org/pipermail/openstack-dev/2018-March/128055.html

Change-Id: I6c612b69865565a88f97f7c27795c2838bb70b04
"
openstack%2Fnetworking-powervm~master~Ida4102427405e17e42ddc463df4a63c2ba7dcb82,openstack/networking-powervm,master,bug/1784950,Ida4102427405e17e42ddc463df4a63c2ba7dcb82,Pass host on get_device_details RPC,MERGED,2018-08-01 22:32:48.000000000,2018-08-02 12:42:46.000000000,2018-08-02 12:42:46.000000000,4,2,0,588096,59fbf0a3b6f14d54a0369408a8bc6bb2ad9df874,11,5,2,2,10608,Matthew Edmonds,edmondsw,"Pass host on get_device_details RPC

Neutron added an optional host argument to the get_device_details RPC
method a long time ago [1] but a recent change [2] has made that no
longer really optional, at least for our usage. This adds host to our
calls so that VIF plug will not timeout with an error in the neutron
logs stating ""Device %s has no active binding in host None"".

[1] f7064f2b6c6ba1d0ab5f9872b2d5ad7969a64e7b
[2] 01bdb47199468805b714ce4c00c7492951267585

Closes-Bug: #1784950
Change-Id: Ida4102427405e17e42ddc463df4a63c2ba7dcb82
"
openstack%2Frpm-packaging~master~I452609d483e7c8daf0b4da4b5a8e99b7a3cf29f3,openstack/rpm-packaging,master,,I452609d483e7c8daf0b4da4b5a8e99b7a3cf29f3,update neutron-lib to 1.18.0,MERGED,2018-08-02 09:46:09.000000000,2018-08-02 12:40:16.000000000,2018-08-02 12:40:16.000000000,1,1,0,588195,bb7df2befb405d059a817f7d27a2877c79d778fa,10,5,2,1,23735,sumitjami,nthforloop,"update neutron-lib to 1.18.0

Depends-On:I57143413cf590fa145872ca2ae3899bae4562310
Change-Id: I452609d483e7c8daf0b4da4b5a8e99b7a3cf29f3
"
openstack%2Frpm-packaging~master~I899247e62d3d6cf30e6126e43911e6f0b81e4045,openstack/rpm-packaging,master,masakari,I899247e62d3d6cf30e6126e43911e6f0b81e4045,masakari-monitors: update filelist,MERGED,2018-07-26 05:48:22.000000000,2018-08-02 12:39:05.000000000,2018-08-02 12:39:05.000000000,29,2,2,585959,309866a6cddab4cc31e39a58af3324e51c8853ed,14,5,3,2,6593,Dirk Mueller,dmllr,"masakari-monitors: update filelist

Split out an openstack-masakari-introspectiveinstancemonitor
subpackage.

Change-Id: I899247e62d3d6cf30e6126e43911e6f0b81e4045
"
openstack%2Fvitrage-dashboard~master~I1f4bf854727031996c16cff35238cf79d3d78607,openstack/vitrage-dashboard,master,admin_panel_templates,I1f4bf854727031996c16cff35238cf79d3d78607,template panel in admin section,MERGED,2018-08-02 12:08:41.000000000,2018-08-02 12:33:38.000000000,2018-08-02 12:33:38.000000000,3,0,0,588228,ac002037a7785d36b86b259fae372864c3b0c02d,8,4,1,1,23133,Yuval Adar,yadar,"template panel in admin section

Change-Id: I1f4bf854727031996c16cff35238cf79d3d78607
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~I8eb073699bbfd441de6703480db7fe7b478f5615,openstack/openstack-ansible-rabbitmq_server,master,bionic-vars,I8eb073699bbfd441de6703480db7fe7b478f5615,Use generic vars file for ubuntu,MERGED,2018-08-01 10:41:05.000000000,2018-08-02 12:31:04.000000000,2018-08-01 14:27:19.000000000,0,53,0,587765,efd37c53590ad669229b289e1232aa0fbcc3ea15,9,4,1,2,6816,Jesse Pretorius,jesse-pretorius,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I8eb073699bbfd441de6703480db7fe7b478f5615
"
openstack%2Fmanila-ui~master~I2b4f35bc2c332767639a78b34de5ebda786cff01,openstack/manila-ui,master,home-page,I2b4f35bc2c332767639a78b34de5ebda786cff01,Update the home-page link,MERGED,2018-07-24 12:46:14.000000000,2018-08-02 12:27:13.000000000,2018-08-02 12:27:13.000000000,1,1,0,585338,54fd03906e6418b5ebc0a64f61d8175cbca3278d,8,4,1,1,17130,melissaml,malei,"Update the home-page link

Change-Id: I2b4f35bc2c332767639a78b34de5ebda786cff01
"
openstack%2Fkuryr-kubernetes~master~I2cb58ab038a619f67462271e2db3ed20e9e51ba3,openstack/kuryr-kubernetes,master,use_tarballed_test_container,I2cb58ab038a619f67462271e2db3ed20e9e51ba3,kuryr-tempest-plugin devstack plugin to build kuryr/demo,MERGED,2018-08-01 16:19:15.000000000,2018-08-02 12:27:12.000000000,2018-08-02 12:27:12.000000000,1,0,0,587873,612296a94fae1041d084486e85f9a38dbef22132,15,6,3,1,14352,Antoni Segura Puimedon,toni,"kuryr-tempest-plugin devstack plugin to build kuryr/demo

Using TEMPEST_PLUGINS only installs the tempest code but does
not run the tempest devstack plugin. The tempest devstack plugin
is where we build kuryr/demo from the rootfs in the repo. If this
is not run, we are depending on dockerhub and potentially running
an older image.

Depends-On: Idf2c781591f938a02991af4b7991da19a92e03f2
Change-Id: I2cb58ab038a619f67462271e2db3ed20e9e51ba3
Signed-off-by: Antoni Segura Puimedon <celebdor@gmail.com>
"
openstack%2Fpuppet-rally~master~I7cb40d355ed518a00078e08c71cfd6f2f3ca4c69,openstack/puppet-rally,master,,I7cb40d355ed518a00078e08c71cfd6f2f3ca4c69,Add the repository of project source in README,ABANDONED,2018-07-28 08:11:24.000000000,2018-08-02 12:27:01.000000000,,5,0,0,586766,c47f1f79b665a45da9b73caf9398fe7952c3d147,4,2,1,1,14320,xuan.mingyi,mingyi,"Add the repository of project source in README

Change-Id: I7cb40d355ed518a00078e08c71cfd6f2f3ca4c69
"
openstack%2Fpuppet-ovn~master~Ib2c6497202701b6408b3749714cba409a5cf58a6,openstack/puppet-ovn,master,,Ib2c6497202701b6408b3749714cba409a5cf58a6,Add the project source code repository in README,ABANDONED,2018-07-28 08:28:04.000000000,2018-08-02 12:26:45.000000000,,3,0,0,586770,004e9fc36b8336a8f089774a71238522cfe9fa06,4,2,1,1,14320,xuan.mingyi,mingyi,"Add the project source code repository in README

Change-Id: Ib2c6497202701b6408b3749714cba409a5cf58a6
"
openstack%2Fkayobe~master~I0c863d46f65de24c04ba9ea445473436b146c424,openstack/kayobe,master,zuul-dependencies,I0c863d46f65de24c04ba9ea445473436b146c424,Add kolla project dependencies to Zuul configuration,MERGED,2018-07-09 14:36:19.000000000,2018-08-02 12:20:40.000000000,2018-08-02 12:20:40.000000000,44,0,0,581050,7ad3be5351e776b17b7af90aee53f1b816957337,20,5,6,5,14826,Mark Goddard,mgoddard,"Add kolla project dependencies to Zuul configuration

This allows us to use the Depends-On syntax in commit messages to depend
on changes in kolla, kolla-ansible, and requirements.

Change-Id: I0c863d46f65de24c04ba9ea445473436b146c424
"
openstack%2Fpython-manilaclient~master~Ic3dc37467b35cba040068a0db646509fe4662b4c,openstack/python-manilaclient,master,reno-rocky,Ic3dc37467b35cba040068a0db646509fe4662b4c,Update reno for stable/rocky,MERGED,2018-07-27 13:13:26.000000000,2018-08-02 12:16:14.000000000,2018-08-02 12:16:13.000000000,7,0,0,586544,443c26596f7eb2c78ebd47b7c039158fa1243f71,8,2,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: Ic3dc37467b35cba040068a0db646509fe4662b4c
"
openstack%2Ftripleo-common~master~Id6593004a7542e590155904775f9ceac02aac81c,openstack/tripleo-common,master,driver_names_fix,Id6593004a7542e590155904775f9ceac02aac81c,"Fix driver name validations for iboot, amt, wol",ABANDONED,2018-04-25 16:30:11.000000000,2018-08-02 12:14:36.000000000,,3,3,0,564274,01a11db13f26d198e32c03534a887fcf4e83818d,7,3,1,1,360,Dan Prince,dan-prince,"Fix driver name validations for iboot, amt, wol

The new entry_points for these drivers is 'staging-'. For example:
staging-iboot, staging-wol, staging-amt. The validations here were
failing to match the dash and instead were looking for an underscore.

This patch resolves the issue by matching on .* with the name appended
instead which should be safe enough to match the old/new version of
these drivers.

Change-Id: Id6593004a7542e590155904775f9ceac02aac81c
"
openstack%2Fmanila~master~I65e54d57caf03bcc23b21bde47f386c487b1e9ba,openstack/manila,master,,I65e54d57caf03bcc23b21bde47f386c487b1e9ba,DNM,ABANDONED,2018-06-12 23:37:16.000000000,2018-08-02 12:06:06.000000000,,0,0,0,574919,fa32edd29b2373f5204a914040b1097cdea45de1,39,12,3,1,9003,Tom Barron,tbarron,"DNM

Change-Id: I65e54d57caf03bcc23b21bde47f386c487b1e9ba
"
openstack%2Fmanila~driverfixes%2Fnewton~I12c85c54c7318592ac0b34efe3624d175d2e6976,openstack/manila,driverfixes/newton,bug/1696000-driverfixes/newton,I12c85c54c7318592ac0b34efe3624d175d2e6976,NetApp cDOT: Fix security style for CIFS shares,MERGED,2018-08-01 04:55:25.000000000,2018-08-02 12:01:12.000000000,2018-08-02 12:01:12.000000000,83,0,0,587686,0aecd7d9943ae435dcb9b95f74292d5debea7ae5,8,4,1,5,16643,Goutham Pacha Ravi,gouthamr,"NetApp cDOT: Fix security style for CIFS shares

If the backing FlexVol security style is configured
incorrectly, end users cannot write to their manila
shares.

Change-Id: I12c85c54c7318592ac0b34efe3624d175d2e6976
Closes-Bug: #1696000
(cherry picked from commit 5e8df296abcc2f08aac085b09aeae202508d5dc7)
(cherry picked from commit 48b5c91ad73e74a8e35b3649b0433ba86d6bdf06)
"
openstack%2Fmanila~stable%2Focata~Ied021b66333f1254cd232bbc38562a4a9b762ad2,openstack/manila,stable/ocata,bug/1721787-stable/pike-stable/ocata,Ied021b66333f1254cd232bbc38562a4a9b762ad2,Fix getting share networks and security services error,MERGED,2018-08-01 04:33:22.000000000,2018-08-02 12:01:11.000000000,2018-08-02 12:01:11.000000000,58,48,0,587684,95aea67f919042fba97d735c4294afed4722f7e6,9,5,1,9,16643,Goutham Pacha Ravi,gouthamr,"Fix getting share networks and security services error

It will fail when non-admin tenants try to get share networks
and security services with option '{all_tenants: 1}'.
The reason is that the policy of 'get_all_share_networks' and
'get_all_security_services' are admin api, they do not allow
the non-admin tenants list the share networks and security
services with all_tenants=1. This patch removes the policy check
of non-admin tenants and allows non-admin tenants to request to
list with 'all_tenants=1', however 'all_tenants' in the request
is just ignored.

Change-Id: Ied021b66333f1254cd232bbc38562a4a9b762ad2
Co-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>
Related-Bug: #1721787
(cherry picked from commit 9f69258cab9baf77384282b67feb390d0487d3b9)
(cherry picked from commit 7a6955dd7fa47b51e5f2a7766061066ffaa0af8d)
"
openstack%2Fkuryr-tempest-plugin~master~Ic2660ebda25ae5be0a1593c24416edc036580503,openstack/kuryr-tempest-plugin,master,docker-service,Ic2660ebda25ae5be0a1593c24416edc036580503,Move image build step to test-config phase,ABANDONED,2018-07-25 10:32:45.000000000,2018-08-02 11:59:00.000000000,,1,2,1,585706,18bf02c0722ca0b1d47415dd6d8dac6d372cb3fc,9,4,1,1,4727,Itzik Brown,itzikb1,"Move image build step to test-config phase

The kuryr/demo image is built during the install phase after
docker is installed but the docker service is stopped.
Moving the build step to the test-config phase should solve this issue.

Change-Id: Ic2660ebda25ae5be0a1593c24416edc036580503
"
openstack%2Fmanila~stable%2Fqueens~I5421433c5de65a450c0264b77bd5c40d72b7b68e,openstack/manila,stable/queens,,I5421433c5de65a450c0264b77bd5c40d72b7b68e,DNM,ABANDONED,2018-06-18 15:52:29.000000000,2018-08-02 11:57:36.000000000,,0,0,0,576186,bc3dea58a9ef446d73c28f802401ee5082a4a1e1,25,5,6,1,9003,Tom Barron,tbarron,"DNM



Change-Id: I5421433c5de65a450c0264b77bd5c40d72b7b68e
"
openstack%2Fmanila~driverfixes%2Fnewton~Id33c0e13d265d50f74f86ab8fb2c533eefa4b783,openstack/manila,driverfixes/newton,bug/1698258-driverfixes/newton,Id33c0e13d265d50f74f86ab8fb2c533eefa4b783,NetApp cDOT: Add gateway information to create static routes,MERGED,2018-08-01 04:49:27.000000000,2018-08-02 11:57:28.000000000,2018-08-02 11:57:28.000000000,179,7,0,587685,546f3c84788bc0448c9afd0dea88c633c1555603,8,4,1,7,16643,Goutham Pacha Ravi,gouthamr,"NetApp cDOT: Add gateway information to create static routes

Add tenant routes/gateway to Vservers created by the driver.

Change-Id: Id33c0e13d265d50f74f86ab8fb2c533eefa4b783
Closes-Bug: #1698258
Closes-Bug: #1612655
(cherry picked from commit f88df34e3188624ed60c69d9e159bfebe17b0f91)
(cherry picked from commit 11c8145b964bf2eecc16b29bf20627b73805ff2c)
"
openstack%2Frpm-packaging~master~Id388f599831be55c276ef3a474fce555e201eb37,openstack/rpm-packaging,master,,Id388f599831be55c276ef3a474fce555e201eb37,generate policy.yaml using oslopolicy-sample-generator,MERGED,2018-08-02 09:19:18.000000000,2018-08-02 11:56:23.000000000,2018-08-02 11:56:23.000000000,2,1,0,588187,004d223e06d6c9333cd4a0e6cf3ffac70eefc6e0,9,5,1,1,23735,sumitjami,nthforloop,"generate policy.yaml using oslopolicy-sample-generator

Depends-On: If885a66d92c31be440d27d6780635800a0b12e3e
Change-Id: Id388f599831be55c276ef3a474fce555e201eb37
"
openstack%2Frpm-packaging~stable%2Fpike~I458a3e5b16d9888ffbab885d50bc0936d64c8277,openstack/rpm-packaging,stable/pike,fix_pike_monasca_ui_packaging,I458a3e5b16d9888ffbab885d50bc0936d64c8277,Fix stable/pike rpm packaging for monasca-ui,ABANDONED,2018-07-18 17:38:49.000000000,2018-08-02 11:53:45.000000000,,0,0,0,583676,1056b1a7949b29c42b460b45c0ba33102f538ba6,14,7,3,0,12156,Jeremy Moffitt,jmoffitt,"Fix stable/pike rpm packaging for monasca-ui

The change at https://review.openstack.org/#/c/566870/ applied
part of the patch changes from allow-raw-grafana-links.patch ,
which is causing the rpm build to fail, since git fails
to apply the patch.

This change removes from the patch file the section of code that
was updated in that commit, leaving the rest of the patch intact

Change-Id: I458a3e5b16d9888ffbab885d50bc0936d64c8277
"
openstack%2Fkolla-ansible~master~I9b5fcc361f0bc0e521302d2df1974aabf6f4a7e7,openstack/kolla-ansible,master,bug/1783456,I9b5fcc361f0bc0e521302d2df1974aabf6f4a7e7,Enable rgw_swift_enforce_content_length,MERGED,2018-08-02 09:13:06.000000000,2018-08-02 11:44:03.000000000,2018-08-02 11:44:03.000000000,1,0,0,588185,815c6b75893dba5395e826f61eea518963c9dbb7,9,8,1,1,22997,xinliang,xinliang.liu,"Enable rgw_swift_enforce_content_length

Currently test_list_containers tempest tests[1] would be failed.
It is becuase accept-ranges header does not exist. See ceph bug[2].

Rgw_swift_enforce_content_length assures Content-Length and
Accept-Ranges in dynamically generated account & container listings.

[1] tempest.api.object_storage.test_account_services.AccountTest.test_list_containers
[2] http://tracker.ceph.com/issues/21554
Related-Bug: #1783456

Change-Id: I9b5fcc361f0bc0e521302d2df1974aabf6f4a7e7
"
openstack%2Fproject-config~master~If818ec84c25815228f0fcf7e94ed4270250077d9,openstack/project-config,master,chg/add_flourine_to_gate,If818ec84c25815228f0fcf7e94ed4270250077d9,Add Fluorine functional to grafana and remove fullstack,MERGED,2018-07-15 09:29:47.000000000,2018-08-02 11:33:19.000000000,2018-08-02 11:33:18.000000000,2,2,3,582749,bb20772ae71790eaf84105d15998c314110b1aa6,16,5,3,1,26507,Michel Peterson,mpeterson,"Add Fluorine functional to grafana and remove fullstack

Until now n-odl only had oxygen in the gate. Now it is adding also
Fluorine to it. In addition, fullstack is failing and we will probably
remove it anyways.

This patch adds monitoring for functional in grafana and removes the
fullstack monitoring.

Depends-On: https://review.openstack.org/582980
Depends-On: https://review.openstack.org/582748
Change-Id: If818ec84c25815228f0fcf7e94ed4270250077d9
"
openstack%2Fkayobe~master~I30f5e0b57d88e457283e70a1b00abff9d4575a04,openstack/kayobe,master,feature/prometheus,I30f5e0b57d88e457283e70a1b00abff9d4575a04,Add support for deploying Prometheus,MERGED,2018-07-31 08:39:09.000000000,2018-08-02 11:30:54.000000000,2018-08-02 11:30:54.000000000,33,0,0,587339,80056749c95009144a2cc8e6b674645b5bcff5d2,11,4,1,3,17669,Doug Szumski,DougSzumski,"Add support for deploying Prometheus

Kolla Ansible already provides support for this and includes quite a few
exporters to scrape.

Change-Id: I30f5e0b57d88e457283e70a1b00abff9d4575a04
Story: 2003175
Task: 23319
"
openstack%2Fkolla-ansible~master~I7e28fdfaff61fc3fae37fdc53b35ae73214a191a,openstack/kolla-ansible,master,check-bifrost,I7e28fdfaff61fc3fae37fdc53b35ae73214a191a,WIP: Add bifrost job for ubuntu,ABANDONED,2018-03-13 10:25:29.000000000,2018-08-02 11:26:23.000000000,,9,0,0,552467,2bd66edc049f55ae04a7f07983ff0342c8b968d4,10,2,3,1,14826,Mark Goddard,mgoddard,"WIP: Add bifrost job for ubuntu

The Ubuntu build is currently failing with: ""MySQL-python module is
required"". Bifrost does seem to be installing python-mysqldb, so I'm not
sure what is wrong.

Change-Id: I7e28fdfaff61fc3fae37fdc53b35ae73214a191a
"
openstack%2Frpm-packaging~master~I7a69d4d1ad195dbe6b45fe100c0552d64e7de42f,openstack/rpm-packaging,master,,I7a69d4d1ad195dbe6b45fe100c0552d64e7de42f,Update neutron to 12.0.1,ABANDONED,2018-03-28 16:51:47.000000000,2018-08-02 11:26:18.000000000,,1,1,0,557435,03e6b6c6060c426f54e5c834b1402ef50dfd7144,9,5,1,1,17130,melissaml,malei,"Update neutron to 12.0.1

Change-Id: I7a69d4d1ad195dbe6b45fe100c0552d64e7de42f
"
openstack%2Fkolla-ansible~master~If89636f77d87bab75e8e7bcf16cc784e83184bc6,openstack/kolla-ansible,master,bug/1729583,If89636f77d87bab75e8e7bcf16cc784e83184bc6,Allow object versioning for ceph-rgw,MERGED,2018-07-30 08:50:04.000000000,2018-08-02 11:22:22.000000000,2018-08-02 11:22:22.000000000,1,0,0,586981,d37d050e60d276811eb779ea4b8f5c8b916e193f,15,10,1,1,22997,xinliang,xinliang.liu,"Allow object versioning for ceph-rgw

Object versioning test[1] is required for RefStack test suite.
Swift has enabled it by default[2].
It is also needed for ceph-rgw.

[1]
tempest.api.object_storage.test_object_version.ContainerTest.test_versioned_container
[2] https://review.openstack.org/#/c/517281/

Related-Bug: #1729583
Change-Id: If89636f77d87bab75e8e7bcf16cc784e83184bc6
"
openstack%2Fnetworking-odl~master~I49f2677c7ec80ddbd6d7355b8b751d84171cf86e,openstack/networking-odl,master,chg/add_flourine_to_gate,I49f2677c7ec80ddbd6d7355b8b751d84171cf86e,Remove fullstack from the gate,MERGED,2018-07-16 15:37:01.000000000,2018-08-02 11:16:18.000000000,2018-08-02 11:16:18.000000000,0,1,0,582980,4e5ac63e945179396bd08aef177cb33b16a76286,6,2,1,1,26507,Michel Peterson,mpeterson,"Remove fullstack from the gate

The test is currently broken and it's using resources needlessly. Also
we are considering their removal altogether, so it makes sense to remove
them from there for now.

This patch removes them from the gate.

Change-Id: I49f2677c7ec80ddbd6d7355b8b751d84171cf86e
"
openstack%2Fnetworking-odl~master~I547ba131c5d5663b696fba5f51e418db11c19f7a,openstack/networking-odl,master,chg/add_flourine_to_gate,I547ba131c5d5663b696fba5f51e418db11c19f7a,Add Fluorine functional to the gate,MERGED,2018-07-15 09:23:30.000000000,2018-08-02 11:16:17.000000000,2018-08-02 11:16:17.000000000,1,1,1,582748,6550c5d58676efbbbe04e02a617ef572d330126b,19,5,4,2,26507,Michel Peterson,mpeterson,"Add Fluorine functional to the gate

Currently it's only checked in the check pipeline. Considering it is the
current version of ODL it should also be checked in the gate pipeline.

This patch adds it to the gate and makes functional voting.

Change-Id: I547ba131c5d5663b696fba5f51e418db11c19f7a
"
openstack%2Fkayobe~master~I8c15cd874e147545b0604427771d412b482e5380,openstack/kayobe,master,story/2003129,I8c15cd874e147545b0604427771d412b482e5380,Fix ironic inspector rule registration,MERGED,2018-07-31 17:26:02.000000000,2018-08-02 11:14:03.000000000,2018-08-01 17:39:29.000000000,3,1,0,587546,f0b84702ee196648325ed90fd3c6a1199f6c0602,14,4,2,1,14826,Mark Goddard,mgoddard,"Fix ironic inspector rule registration

Use a specific inspector API version (1.12, the latest in Queens) to
ensure that new releases of ironic inspector don't break rule
registration.

This was happening because the client object created in the
os_ironic_inspector_rule module uses the maximum API version known to
the client.

Change-Id: I8c15cd874e147545b0604427771d412b482e5380
Story: 2003129
Task: 23250
"
openstack%2Fnova~master~I83536b179000f41f9618a4b6f2a16b4440fd61ba,openstack/nova,master,bug/1781286,I83536b179000f41f9618a4b6f2a16b4440fd61ba,Add note about reschedules and num_attempts in filter_properties,MERGED,2018-07-12 22:28:46.000000000,2018-08-02 10:36:32.000000000,2018-08-02 10:36:32.000000000,7,0,4,582412,276130c6d1637f8e0f39ba274e2619a115a8fa1a,58,22,2,1,6873,Matt Riedemann,mriedem,"Add note about reschedules and num_attempts in filter_properties

The ""retry"" entry in filter_properties is not set if reschedules
are disabled, which happens in these cases:

1. [scheduler]/max_attempts=1
2. The server is forced to a specific host and/or node.

More times than I'd like to admit, I've had to re-learn that
filter_properties['retry']['num_attempts'] will always be >1 in
conductor build_instances during a reschedule because if
reschedules are disabled, the compute service aborts the build
on failure and we don't even get back to conductor.

This change adds a note since it's hard to keep in your head how
the retry logic is all tied together from the API, superconductor,
compute and cell conductor during a reschedule scenario.

Change-Id: I83536b179000f41f9618a4b6f2a16b4440fd61ba
Related-Bug: #1781286
"
openstack%2Fopenstack-ansible~master~Iad80f185aad1ef82d28a4b133e9ac7871f77d1e1,openstack/openstack-ansible,master,release_osa,Iad80f185aad1ef82d28a4b133e9ac7871f77d1e1,Unfreeze roles after M3,ABANDONED,2018-07-25 12:05:19.000000000,2018-08-02 10:22:16.000000000,,56,56,0,585724,585e6970ebc9c26ce82dc7967afd0c0c3d22ba5b,8,4,1,1,17068,Jean-Philippe Evrard,evrardjp,"Unfreeze roles after M3

Now that we have a SHA for milestone 3, we can continue our
development work.

Change-Id: Iad80f185aad1ef82d28a4b133e9ac7871f77d1e1
"
openstack%2Fopenstack-ansible~master~I8e2c7e6fbc6a199a465042e30c98ca29a165a167,openstack/openstack-ansible,master,release_osa,I8e2c7e6fbc6a199a465042e30c98ca29a165a167,Freeze OpenStack-Ansible roles for Milestone 3,ABANDONED,2018-07-25 11:57:16.000000000,2018-08-02 10:22:10.000000000,,477,56,0,585720,d61c751ca8edb789cb2839b9e442da1e82e162d2,61,5,2,29,17068,Jean-Philippe Evrard,evrardjp,"Freeze OpenStack-Ansible roles for Milestone 3

Change-Id: I8e2c7e6fbc6a199a465042e30c98ca29a165a167
"
openstack%2Fkuryr-kubernetes~stable%2Fqueens~I406d0291b17e82dace5a6e707fd538210cb25627,openstack/kuryr-kubernetes,stable/queens,lb_project,I406d0291b17e82dace5a6e707fd538210cb25627,devstack: Fix load balancing project membership,MERGED,2018-08-01 07:38:05.000000000,2018-08-02 10:13:01.000000000,2018-08-02 10:13:01.000000000,33,7,0,587706,4f5f00cc75b8d454fd56af8cf05e4b38ea98f451,15,5,3,2,23567,Luis Tomas Bolivar,ltomasbo,"devstack: Fix load balancing project membership

We had several LB resources not belonging to the k8s project.

Change-Id: I406d0291b17e82dace5a6e707fd538210cb25627
(cherry picked from commit 889a0d969c07a71ae1135ab1ae8803542a0ca6f4)
"
openstack%2Fkuryr-kubernetes~master~I321ca4f2755a61bbacc50bf1cf3936ffd4613ddf,openstack/kuryr-kubernetes,master,bug/1785010,I321ca4f2755a61bbacc50bf1cf3936ffd4613ddf,Ensure no api_root value for containerized deployments,MERGED,2018-08-02 07:03:22.000000000,2018-08-02 10:13:00.000000000,2018-08-02 10:13:00.000000000,1,1,0,588153,500a27b8c3e92bec9a41d36746a5efaf7bb01417,14,5,2,1,23567,Luis Tomas Bolivar,ltomasbo,"Ensure no api_root value for containerized deployments

If api_root value is empty the kuryr-config ConfigMap gets malformed.
This patch ensures api_root gets """" value for the containerized
deployments so that it forces containers to read it from their env vars.

Closes-Bug: 1785010
Change-Id: I321ca4f2755a61bbacc50bf1cf3936ffd4613ddf
"
openstack%2Ftripleo-quickstart~master~I691a1ff894115babbf21a19f35483375d0202440,openstack/tripleo-quickstart,master,3.10,I691a1ff894115babbf21a19f35483375d0202440,Move to openshift-ansible 3.10,MERGED,2018-07-13 09:46:27.000000000,2018-08-02 10:08:20.000000000,2018-07-26 00:40:59.000000000,12,4,0,582493,5af0a56feb8bc1fc3e56f344e94d4b42e2f0e7d5,34,7,6,1,6159,Flavio Percoco Premoli,flaper87,"Move to openshift-ansible 3.10

For now we have to clone openshift-ansible as there are currently no
RPMs available in CentOS. As soon as the packages are available, we'll
revisit this change and switch back to RPMs.

Change-Id: I691a1ff894115babbf21a19f35483375d0202440
"
openstack%2Fsushy-tools~master~I02725332df886fdf6b13c98cb6d80ab3650575b9,openstack/sushy-tools,master,bug/1751134,I02725332df886fdf6b13c98cb6d80ab3650575b9,Split unit tests for driver and flask API,ABANDONED,2018-05-07 20:18:12.000000000,2018-08-02 10:06:07.000000000,,329,181,93,566727,f373eb8e4bb62c1ce92eda40cc1f19da54c9349b,58,5,9,3,10155,Aleksandra Bezborodova,sasha_bezborodova,"Split unit tests for driver and flask API

Unit tests have been split onto multiple files to reflect their
functionality. Flask release breaks 'render_template' mocks, so now
in tests is used real parameters.

Story: 1751134
Task: 12046

Story: 2002745
Task:  22598

Change-Id: I02725332df886fdf6b13c98cb6d80ab3650575b9
"
openstack%2Fkuryr-tempest-plugin~master~Idf2c781591f938a02991af4b7991da19a92e03f2,openstack/kuryr-tempest-plugin,master,test_container_https_support,Idf2c781591f938a02991af4b7991da19a92e03f2,devstack: Move container build to stack extra,MERGED,2018-08-01 20:27:41.000000000,2018-08-02 10:04:21.000000000,2018-08-02 10:04:21.000000000,1,1,0,588074,1cdf234ed5b5239559daeced99ebd614a75161d1,7,3,1,1,14352,Antoni Segura Puimedon,toni,"devstack: Move container build to stack extra

Without this, the devstack container plugin would do the docker
configuration after we build instead of before. This changes the
order into the right one.

Change-Id: Idf2c781591f938a02991af4b7991da19a92e03f2
Signed-off-by: Antoni Segura Puimedon <celebdor@gmail.com>
"
openstack%2Fkuryr-tempest-plugin~master~I5078ba0345999dadd7d3850f07c538a617c54e46,openstack/kuryr-tempest-plugin,master,test_container_https_support,I5078ba0345999dadd7d3850f07c538a617c54e46,Make Port and http/https configurable for the test container,MERGED,2018-08-01 10:03:41.000000000,2018-08-02 09:59:56.000000000,2018-08-02 09:59:55.000000000,36,11,1,587746,a8ff6c4cad36bb954e222070e6adbec822e4de12,19,6,2,2,14352,Antoni Segura Puimedon,toni,"Make Port and http/https configurable for the test container

It introduces env vars:

* HTTP_PORT: choose a port to serve. If not set, uses 8080
* HTTPS_PORT: choose to serve HTTPS and on which port
* HTTPS_CERT_PATH: Path to the cert to use when serving HTTPS
* HTTPS_KEY_PATH: Path to the ssl key to use when serving HTTPS

Change-Id: I5078ba0345999dadd7d3850f07c538a617c54e46
Signed-off-by: Antoni Segura Puimedon <celebdor@gmail.com>
"
openstack%2Ftripleo-heat-templates~master~I3f47fd019ca6b2ccb378c97751a11cb12ffed521,openstack/tripleo-heat-templates,master,bug/1784863,I3f47fd019ca6b2ccb378c97751a11cb12ffed521,ovn: Fix minor update failure with OVN db pacemaker HA resource,MERGED,2018-08-01 14:01:36.000000000,2018-08-02 09:59:29.000000000,2018-08-02 09:59:29.000000000,0,16,0,587829,8a432537d0a568c3dc155b6bf5e2484c2bf73014,11,7,1,1,10237,Numan Siddique,numansiddique,"ovn: Fix minor update failure with OVN db pacemaker HA resource

If an OVN deployment doesn't have this fix [1] in the ovn-northd docker image,
the if the image is not tagged with pcmklatest (see [2]), then during
step 5 of minor update of controllers (on the bootstrap node) the
'pacemaker_resource' ansible module fails for the ""state: disable"" task.

It is observed in my testing that 'pacemaker_resource - state: disable' ansible
tasks fails if the resource is already in stopped state. It also fails
for the task 'pacemaker_resource - state: enable' if the resource is already
enabled. This probably needs a fix in 'pacemaker_resource' ansible module.

To fix the stack update failure issue with OVN, this patch removes these
tasks - disable and enable of ovn-dbs-bundle before and after running the
command ""pcs resource bundle update ovn-dbs-bundle container
image={{ovn_dbs_docker_image_latest}}"". Since updating the bundle triggers
the resource restart, probably we don't need to explicitly disable and
enable the resource.

[1] - https://github.com/openvswitch/ovs/commit/9b46d3f609abf8ad532efb0820753f3a920e2213#diff-9c26550f1dff9ce66cf9c3c510b47864
[2] - See commit with change id - Idbda3bedff57376b74269ab3470d2324b804ffd4

Change-Id: I3f47fd019ca6b2ccb378c97751a11cb12ffed521
Closes-bug: #1784863
"
openstack%2Fkolla~stable%2Fqueens~Ic5ca679c40da3e466433b0e04f762d2bbffbf156,openstack/kolla,stable/queens,bug/1774123,Ic5ca679c40da3e466433b0e04f762d2bbffbf156,Install sensu from centos-opstools,MERGED,2018-07-26 08:05:50.000000000,2018-08-02 09:29:20.000000000,2018-08-02 09:29:20.000000000,34,35,0,585987,3bef3ad814c4cc824795307cfa270edecf3f3dfe,14,7,2,5,22629,Michal Nasiadka,mnasiadka,"Install sensu from centos-opstools

This should help improve stability overall, in exchange for slightly
older package version.

Cap all the sensu plugins to their known major version that works with
the ruby interpreter shipped with the current version of
rhel/centos/oraclelinux -- currently ruby 2.0. All sensu plugins use
semantic versioning so we're assured they don't introduce breaking
changes in the capped major version.

Change-Id: Ic5ca679c40da3e466433b0e04f762d2bbffbf156
Closes-Bug: #1774123
"
openstack%2Fproject-config~master~I133492ad20e535c6c3d44a7160ae17eccea4750b,openstack/project-config,master,rtd-job,I133492ad20e535c6c3d44a7160ae17eccea4750b,Try again with rtd password secret,MERGED,2018-08-02 08:47:12.000000000,2018-08-02 09:03:00.000000000,2018-08-02 09:03:00.000000000,10,10,0,588182,0fde7b2301d854c6a4be2daed7af69fe0151a90e,7,3,1,1,7118,Ian Wienand,iwienand,"Try again with rtd password secret

Debugging suggests that this password is incorrect.  I can't be sure
that I didn't generate it from an input file with a newline and
without using the ""--strip"" argument to encrypt_secret.py.

Try again ... this time I have used --strip ...

Change-Id: I133492ad20e535c6c3d44a7160ae17eccea4750b
"
openstack%2Fnetworking-ovn~master~I132fccc5f87441d807cfe3c64077abadd30c99a9,openstack/networking-ovn,master,infrared_plugin_p2,I132fccc5f87441d807cfe3c64077abadd30c99a9,Migration infrared plugin: Try to measure downtime for migration process,ABANDONED,2018-07-31 10:22:04.000000000,2018-08-02 08:44:00.000000000,,376,44,6,587375,4d54ad9cf5bcf4e90102b7895c829c019a89a8a9,6,3,2,6,10237,Numan Siddique,numansiddique,"Migration infrared plugin: Try to measure downtime for migration process

This patch creates few resources (called as pinger resources) and starts ""ping -i 1 <FIP>""
before starting the migration and stops the ping after the migration is complete.

Right now the user has to inspect the ping log files manually to know the downtime.
These files are stored as ""/home/stack/ovn_migration/<FIP>_ping.out"".

Since this infrared plugin is expected to run on a CI environment, this patch
doesn't bother to delete these pinger resources. These resources are different from the
pre and post migration resources the migration process itself creates.

Please note: Right now this patch makes use of the create_resources.sh.j2 from
the actual migration code. There is some amount of code which can be definitely
optimized and reused. But I think that can be a follow up patch.

Change-Id: I132fccc5f87441d807cfe3c64077abadd30c99a9
"
openstack%2Fwatcher~master~I4030fb2c4ec89c6c653c2882be1052ed5cbd2cd7,openstack/watcher,master,bug/1784758,I4030fb2c4ec89c6c653c2882be1052ed5cbd2cd7,Fix unittest MismatchError,MERGED,2018-08-01 05:48:37.000000000,2018-08-02 08:38:38.000000000,2018-08-02 08:38:38.000000000,4,5,0,587692,927d094907b173565c13771a9492ee0a7b8a6635,12,10,1,1,21692,licanwei,licanwei,"Fix unittest MismatchError

Change-Id: I4030fb2c4ec89c6c653c2882be1052ed5cbd2cd7
Closes-Bug: #1784758
"
openstack%2Fkayobe~master~Ie697b59b48f2b543b3d3bb65566318f2d9a0f46c,openstack/kayobe,master,ironic-neutron-agent,Ie697b59b48f2b543b3d3bb65566318f2d9a0f46c,Add support for the Ironic Neutron agent,MERGED,2018-07-20 14:00:31.000000000,2018-08-02 08:38:33.000000000,2018-08-02 08:38:33.000000000,14,0,4,584382,9c1fa1dc7e0b68e1be806c1e92c20e419868af0d,21,4,3,6,20369,Will Miller,w-miller,"Add support for the Ironic Neutron agent

Change-Id: Ie697b59b48f2b543b3d3bb65566318f2d9a0f46c
"
openstack%2Fnetworking-ovn~master~I23fb85a9dbd8110b76714c7c8f5afa08ca4c2516,openstack/networking-ovn,master,stop-gating-ovs-master,I23fb85a9dbd8110b76714c7c8f5afa08ca4c2516,DO NOT MERGE,ABANDONED,2018-08-01 10:15:29.000000000,2018-08-02 08:36:30.000000000,,21,20,0,587750,5aec0340f3c31cc3c00ac6ed59b6c1fc7b4d06d2,9,3,3,3,6773,Lucas Alvares Gomes,lucasagomes,"DO NOT MERGE

Change-Id: I23fb85a9dbd8110b76714c7c8f5afa08ca4c2516
"
openstack%2Frpm-packaging~master~I241517b408936a9d519a74faca208ff57add618e,openstack/rpm-packaging,master,,I241517b408936a9d519a74faca208ff57add618e,Update oslo.context to 2.21.0,MERGED,2018-07-27 07:32:02.000000000,2018-08-02 08:35:10.000000000,2018-08-02 08:35:10.000000000,1,1,0,586458,9a0f391c366b7f6fb3cfed48ccff552b70052912,16,5,1,1,23735,sumitjami,nthforloop,"Update oslo.context to 2.21.0

Change-Id: I241517b408936a9d519a74faca208ff57add618e
"
openstack%2Fmonasca-persister~master~I6db38500945a96fffab452c5be5b0ef56ff1f6b9,openstack/monasca-persister,master,,I6db38500945a96fffab452c5be5b0ef56ff1f6b9,Fix coverage job configuration,MERGED,2018-07-24 09:27:35.000000000,2018-08-02 08:20:55.000000000,2018-08-02 08:20:54.000000000,6,4,0,585186,26e6d294bcd71caeac91e906830c23db6fe338f3,7,4,1,1,16222,witek,witek,"Fix coverage job configuration

Set up coverage job configuration as recommended in Project Testing
Interface documentation.

https://governance.openstack.org/tc/reference/pti/python.html#coverage-jobs

Change-Id: I6db38500945a96fffab452c5be5b0ef56ff1f6b9
"
openstack%2Fwatcher~master~I85cdb0dd4e8f192181146b99f0416bf777a8279a,openstack/watcher,master,,I85cdb0dd4e8f192181146b99f0416bf777a8279a,remove extra'_' and space,MERGED,2018-07-31 09:17:33.000000000,2018-08-02 08:19:58.000000000,2018-08-02 08:19:58.000000000,4,4,0,587354,abd129002ce424b96d13f97dd4bd5de166caa12c,20,14,2,1,28748,chenker,chenke,"remove extra'_' and space

Change-Id: I85cdb0dd4e8f192181146b99f0416bf777a8279a
"
openstack%2Fopenstack-ansible-os_octavia~master~I1de294cbb8e2b636edd26c9aee13946630cdfb49,openstack/openstack-ansible-os_octavia,master,remove-cruft-in-osa,I1de294cbb8e2b636edd26c9aee13946630cdfb49,Reduce testing tech debt,ABANDONED,2018-07-13 19:24:36.000000000,2018-08-02 08:18:04.000000000,,36,119,0,582668,8deac2f6dbd747ee23a4dbe1f2498c0328abe705,17,2,9,3,6816,Jesse Pretorius,jesse-pretorius,"Reduce testing tech debt

Now that we are using Ansible 2.6, and the clouds.yaml configuration
is on the deployment host, we can eliminate most of the packages we
were installing in tests and simplify several tasks.

Change-Id: I1de294cbb8e2b636edd26c9aee13946630cdfb49
"
openstack%2Ftripleo-heat-templates~master~I004a43c1b6c9cee21c24749bd6589435530e48e0,openstack/tripleo-heat-templates,master,remove-xinetd,I004a43c1b6c9cee21c24749bd6589435530e48e0,Allow to remove xinetd service,MERGED,2018-07-26 12:05:42.000000000,2018-08-02 08:14:58.000000000,2018-08-02 08:14:57.000000000,81,1,5,586057,623790385292acf4cb4f357a8d089e9d08d4d212,30,5,10,8,28223,Cedric Jeanneret,cjeanner,"Allow to remove xinetd service

The xinetd service isn't used anymore on the host - it runs in
containers where it is needed, meaning that service can be dropped
for good, as well as its package.

Change-Id: I004a43c1b6c9cee21c24749bd6589435530e48e0
"
openstack%2Fsahara-image-elements~master~If5401e88210f42f1bd059dd1cfa53fa9fee98f44,openstack/sahara-image-elements,master,,If5401e88210f42f1bd059dd1cfa53fa9fee98f44,add additional Remove yum cache,NEW,2018-08-01 12:28:32.000000000,2018-08-02 08:11:59.000000000,,1,1,0,587799,af8b82ac10fca22e413f0331d26a2c193af27e9f,4,3,1,1,21486,wangqi,wangqi,"add additional Remove yum cache

as a followup to https://review.openstack.org/#/c/505143/
""Remove yum cache""

Change-Id: If5401e88210f42f1bd059dd1cfa53fa9fee98f44
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I7d852f9307232af3c38ec4fa0e6fd37b4b094b61,openstack/openstack-ansible-openstack_hosts,master,bionic-vars,I7d852f9307232af3c38ec4fa0e6fd37b4b094b61,Add Rocky UCA for bionic,MERGED,2018-08-01 18:17:55.000000000,2018-08-02 08:11:08.000000000,2018-08-02 08:11:08.000000000,14,5,1,587944,6fdac130d9bd0eda0d248afdce49470e43a50fd3,10,3,2,3,6816,Jesse Pretorius,jesse-pretorius,"Add Rocky UCA for bionic

Bionic now has UCA for Rocky, so we add it.

Change-Id: I7d852f9307232af3c38ec4fa0e6fd37b4b094b61
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I8e373f6b25b65078f090a09cd612b6a66c865dd9,openstack/openstack-ansible-openstack_hosts,master,bionic-vars,I8e373f6b25b65078f090a09cd612b6a66c865dd9,"Revert ""Use generic vars file for ubuntu""",MERGED,2018-08-01 18:13:24.000000000,2018-08-02 08:11:07.000000000,2018-08-02 08:11:07.000000000,100,0,2,587932,f76d59e3579c28903d14e65bbbfe811450f794cd,9,6,1,2,6816,Jesse Pretorius,jesse-pretorius,"Revert ""Use generic vars file for ubuntu""

This reverts commit 0afc70daf01b23e59868aecfc276405303f1ff50.

As it turns out, my diff skills suck. These files were not the same.

Change-Id: I8e373f6b25b65078f090a09cd612b6a66c865dd9
"
openstack%2Fwatcher-dashboard~master~Idf64e5f0ef9e02e62a769ff80a70f05dade8d332,openstack/watcher-dashboard,master,,Idf64e5f0ef9e02e62a769ff80a70f05dade8d332,fix audit delete failure: add allow func to filter audit,MERGED,2018-07-30 07:10:39.000000000,2018-08-02 08:06:19.000000000,2018-08-02 08:06:19.000000000,3,1,2,586955,4ba319142c2ca72a33b06d6038c2dc8daa0b6e82,10,3,2,1,24872,YumengBao,Yumeng_Bao,"fix audit delete failure: add allow func to filter audit

audits in (""ONGOING"", ""PENDING"") cannot be deleted,
audits in other status can be deleted. This patch adds this func
to filter audits.

Depends-On: https://review.openstack.org/#/c/586754/

Change-Id: Idf64e5f0ef9e02e62a769ff80a70f05dade8d332
"
openstack%2Ftempest~master~I7e2d181f10c44762399fe133b48e42ba81c09300,openstack/tempest,master,bp/full-schema-for-all-microversions,I7e2d181f10c44762399fe133b48e42ba81c09300,Add server schema for microversion 2.6,MERGED,2018-07-27 08:55:48.000000000,2018-08-02 07:30:04.000000000,2018-08-02 07:30:04.000000000,9,0,2,586486,15d756507dee35feae46ccc353b01eef5607cfc7,14,7,2,1,25571,Rajat Sharma,rajat29,"Add server schema for microversion 2.6

This PS adds servers schema for microversion 2.6

partially-implements: blueprint full-schema-for-all-microversions

Change-Id: I7e2d181f10c44762399fe133b48e42ba81c09300
"
openstack%2Ftempest~master~I92e774e19c618b5c5fcf495fbb2de77bfe18904c,openstack/tempest,master,bp/full-schema-for-all-microversions,I92e774e19c618b5c5fcf495fbb2de77bfe18904c,Fill servers schema for microversion 2.3,MERGED,2018-07-26 10:27:22.000000000,2018-08-02 07:21:13.000000000,2018-08-02 07:21:12.000000000,9,0,12,586041,fe2058bdc26b17a0f197017ff1356421ccf000d6,26,8,2,1,19457,aditi sharma,aditi,"Fill servers schema for microversion 2.3

This patch fills servers schema for microversion 2.3

partially-implements: blueprint full-schema-for-all-microversions

Change-Id: I92e774e19c618b5c5fcf495fbb2de77bfe18904c
"
openstack%2Fpuppet-tripleo~stable%2Fpike~Ib9f8f707af57edc5fab30fd5d9ff5578d6083f1f,openstack/puppet-tripleo,stable/pike,pike,Ib9f8f707af57edc5fab30fd5d9ff5578d6083f1f,remove scenario005 from experimental,MERGED,2018-07-30 20:33:16.000000000,2018-08-02 07:03:48.000000000,2018-08-02 07:03:48.000000000,0,6,0,587217,201ca8f7cae32d1738cb2993c9f22f59e044a5f9,7,3,1,1,9592,wes hayutin,weshayutin,"remove scenario005 from experimental

See: https://review.openstack.org/#/c/581376/

Change-Id: Ib9f8f707af57edc5fab30fd5d9ff5578d6083f1f
"
openstack%2Fzun~master~Iaa97afabe72cd436b41d8ca7530a0e84d1888f00,openstack/zun,master,bug/1784177,Iaa97afabe72cd436b41d8ca7530a0e84d1888f00,Add the missing dependency on rootwrap,MERGED,2018-07-28 20:50:13.000000000,2018-08-02 06:31:05.000000000,2018-08-02 06:31:05.000000000,2,0,0,586842,7572495c997a6c5f230f0037b1f1ae36053f8f4e,13,4,3,2,11536,hongbin,hongbin,"Add the missing dependency on rootwrap

Change-Id: Iaa97afabe72cd436b41d8ca7530a0e84d1888f00
Closes-Bug: #1784177
Related-Bug: #1749342
"
openstack%2Fswift~master~Ib00bf6992327f15f271120dc5dbc86a4a235baec,openstack/swift,master,import_docs,Ib00bf6992327f15f271120dc5dbc86a4a235baec,imported some docs from the old user-guide,MERGED,2018-08-01 22:18:57.000000000,2018-08-02 06:01:12.000000000,2018-08-02 06:01:12.000000000,644,0,0,588093,86d78f6667392b2ee0ca017da8f54ff153aca491,6,2,1,7,330,John Dickinson,notmyname,"imported some docs from the old user-guide

These files are imported (and very lightly edited) from the old
ocata user-guide. It has a few other swift-related docs that seemed
more duplacative of what we already have, but these seem to fill
existing gaps in our docs.

Change-Id: Ib00bf6992327f15f271120dc5dbc86a4a235baec
"
openstack%2Fglance~master~I3d394b344492a1f06a4999a3f61cecf5ace30f23,openstack/glance,master,2.7-version,I3d394b344492a1f06a4999a3f61cecf5ace30f23,Bump Imges API version to 2.7,MERGED,2018-08-01 17:59:32.000000000,2018-08-02 06:01:10.000000000,2018-08-02 06:01:10.000000000,33,5,1,587929,8e16e41f4de10541de12cffc7e54d34c895e35e0,14,5,5,5,5202,Erno Kuvaja,jokke,"Bump Imges API version to 2.7

This API version bump contains the extensions for hidden images
and multihash feature support.

Change-Id: I3d394b344492a1f06a4999a3f61cecf5ace30f23
"
openstack%2Fkeystone~master~I2504d4326b8c35fd6d9a0d929afc7e658e9c14f9,openstack/keystone,master,bug/1776504,I2504d4326b8c35fd6d9a0d929afc7e658e9c14f9,Convert OS-REVOKE to flask dispatching,MERGED,2018-07-31 22:06:01.000000000,2018-08-02 06:00:40.000000000,2018-08-02 06:00:39.000000000,87,88,3,587647,a4d9a4f13b21fbdd8feacd07085c77602b4123d9,12,3,4,5,2903,Morgan Fainberg,mdrnstm,"Convert OS-REVOKE to flask dispatching

Convert OS-REVOKE to flask dispatching.

Change-Id: I2504d4326b8c35fd6d9a0d929afc7e658e9c14f9
Partial-Bug: #1776504
"
openstack%2Fpython-senlinclient~master~I3cf6ecbb79575fd3f0315b42fc0df90a20b8ccc8,openstack/python-senlinclient,master,function_check,I3cf6ecbb79575fd3f0315b42fc0df90a20b8ccc8,Zuul enable senlinclient function check,MERGED,2018-08-02 02:12:33.000000000,2018-08-02 05:23:53.000000000,2018-08-02 05:23:53.000000000,3,3,4,588117,93d303304f27c2bf398d1873abd24855452bb5bb,9,5,1,1,23517,chenyb4,Yuanbin.Chen,"Zuul enable senlinclient function check

Change-Id: I3cf6ecbb79575fd3f0315b42fc0df90a20b8ccc8
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
"
openstack%2Fkeystone~master~Ic7bcba148f0a062b144e6dfbe9693f2125008458,openstack/keystone,master,bug/1776504,Ic7bcba148f0a062b144e6dfbe9693f2125008458,Address FIXMEs for listing revoked tokens,MERGED,2018-02-15 15:34:28.000000000,2018-08-02 05:23:05.000000000,2018-08-02 05:23:05.000000000,20,38,4,545009,d42e95520302f3203706993304e024e82f947728,27,5,6,3,5046,Lance Bragstad,ldbragst,"Address FIXMEs for listing revoked tokens

Now that support for sql token storage and uuid tokens has been
removed, it doesn't make sense to still expose an API for listing
revoked tokens. Maintaining this behavior would require keystone to
persist non-persistent tokens, which defeats the purpose.

This change makes the API return either a 410 Gone or a 403 Forbidden
depending on configuration for backwards compatibility. Logic to
list revoked tokens was also removed from the token provider API
since it's no longer called by any controllers.

Change-Id: Ic7bcba148f0a062b144e6dfbe9693f2125008458
"
openstack%2Fkeystone~master~I778cab0a6449184ecf7d5ccfbfa12791be139236,openstack/keystone,master,bug/1778945,I778cab0a6449184ecf7d5ccfbfa12791be139236,Remove KeystoneToken object,MERGED,2018-06-22 22:04:25.000000000,2018-08-02 05:20:31.000000000,2018-08-02 05:20:31.000000000,41,878,6,577567,140a34b439d9aa60712a164b21622e721a60dfc2,40,6,13,9,5046,Lance Bragstad,ldbragst,"Remove KeystoneToken object

This commit removes the original KeystoneToken object in favor of the
new TokenModel object. Since we have a token provider that knows how
to deal with TokenModel object, we don't really need another object
that uses reflection at all.

Closes-Bug: 1778945
Change-Id: I778cab0a6449184ecf7d5ccfbfa12791be139236
"
openstack%2Fpython-tripleoclient~master~Ib61ca0dd9bcb60a19fa589445b426c0bb2fb0d51,openstack/python-tripleoclient,master,revert,Ib61ca0dd9bcb60a19fa589445b426c0bb2fb0d51,"Revert ""Allow operators to override docker_insecure_registries""",MERGED,2018-08-01 23:04:42.000000000,2018-08-02 05:01:04.000000000,2018-08-02 05:01:04.000000000,6,15,1,588098,644366469e31a74d62d7a48b93e7451188af9b61,10,5,1,2,3153,Emilien Macchi,emilienm,"Revert ""Allow operators to override docker_insecure_registries""

It doesn't help our operators since they have to hack in undercloud.conf
to avoid HTTPS errors. Let's revert this patch so the default are good
and we'll configure the insecure registries on the ip of undercloud by
default.

This reverts commit b1a31a70fd27a4dcfcf1a3ec7f4790bf6c3a8b57.

Change-Id: Ib61ca0dd9bcb60a19fa589445b426c0bb2fb0d51
"
openstack%2Fopenstack-manuals~master~I57274006978c40278570c06f02e8c5d4bc3be36a,openstack/openstack-manuals,master,url-fix,I57274006978c40278570c06f02e8c5d4bc3be36a,Fix the missing url,MERGED,2018-08-01 14:06:22.000000000,2018-08-02 04:45:02.000000000,2018-08-02 04:45:02.000000000,1,1,0,587831,7d0f5646466549aa6e95871b72840c5e7fff149f,6,2,1,1,19779,Chason Chan,chenxing,"Fix the missing url

Change-Id: I57274006978c40278570c06f02e8c5d4bc3be36a
"
openstack%2Ftripleo-heat-templates~master~I1353020f874b348afd98e7ed3832033f85a5267f,openstack/tripleo-heat-templates,master,feature/collectd-qdrouterd-integration,I1353020f874b348afd98e7ed3832033f85a5267f,QDR for metrics collection purposes,MERGED,2018-06-05 09:03:15.000000000,2018-08-02 04:29:40.000000000,2018-08-02 04:29:40.000000000,281,7,2,572312,b76d7623ac15c94f80fbbc1a5701331147fee52d,137,11,23,45,5241,Martin Magr,mmagr,"QDR for metrics collection purposes

This patch adds composable new service (QDR) for containerized deployments.
Metrics QDR will run on each overcloud node in 'edge' mode. This basically
means that there is a possibility that there will be two QDRs running
on controllers in case that oslo messaging is deployed. This is a reason why
we need separate composable service for this use case.

Depends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd
Depends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f
Depends-On: I73f988d05840eca44949f13f248f86d094a57c46
Change-Id: I1353020f874b348afd98e7ed3832033f85a5267f
"
openstack%2Ftripleo-common~master~I73f988d05840eca44949f13f248f86d094a57c46,openstack/tripleo-common,master,feature/collectd-qdrouterd-integration,I73f988d05840eca44949f13f248f86d094a57c46,Make MetricsQdr service use qdrouterd image,MERGED,2018-06-28 09:47:58.000000000,2018-08-02 04:29:39.000000000,2018-08-02 04:29:39.000000000,3,0,0,578749,3406cf04803482bf91c2a0ca1ef954f697a90a49,60,9,6,1,5241,Martin Magr,mmagr,"Make MetricsQdr service use qdrouterd image

There is no reason to not have MetricsQdr service use the same image
as Qdrouterd service for Oslo messaging.

Change-Id: I73f988d05840eca44949f13f248f86d094a57c46
"
openstack%2Fpython-zunclient~master~I2965e3a8f4560e78f14f32f7bfc86ad288da5751,openstack/python-zunclient,master,bug/1784972,I2965e3a8f4560e78f14f32f7bfc86ad288da5751,Modify ca certificate parameter in the client,MERGED,2018-08-02 02:12:09.000000000,2018-08-02 04:02:31.000000000,2018-08-02 04:02:30.000000000,11,7,0,588116,a1c64d9fa2f5bebf8bd1213832fd348bbe1ddb4e,6,2,1,3,24115,Xianghui Zeng,XianghuiZeng,"Modify ca certificate parameter in the client

Change-Id: I2965e3a8f4560e78f14f32f7bfc86ad288da5751
Closes-Bug: #1784972
"
openstack%2Fkeystone~master~Ic1d5466bc26c76886333f00b6962886fd2ce32fd,openstack/keystone,master,bug/1776504,Ic1d5466bc26c76886333f00b6962886fd2ce32fd,Move unenforced_api decorator to module function,MERGED,2018-07-25 20:03:38.000000000,2018-08-02 03:47:59.000000000,2018-08-02 03:47:59.000000000,21,20,0,585869,da4eb43f5c74ffc18af3664545c95476c5123d5c,17,4,4,3,2903,Morgan Fainberg,mdrnstm,"Move unenforced_api decorator to module function

Move the unenforced_api decorator off the APIBase object and into
the module. It is likely the code would require calling the decorator
from the module level anyway since the Resource is added to a list
that is a property of the API. Moving the decorator makes it so the
call is more akin to @keystone_flask.unenforced_api instead of
@keystone_flask.APIBase.unenforced_api.

Change-Id: Ic1d5466bc26c76886333f00b6962886fd2ce32fd
Partial-Bug: #1776504
"
openstack%2Fheat~stable%2Focata~If6eeff7d3212d71891311a4506ec6be4a1a30fa2,openstack/heat,stable/ocata,ocata,If6eeff7d3212d71891311a4506ec6be4a1a30fa2,Install guide bug fix: incorrect auth_uri for ec2authtoken,MERGED,2017-09-15 17:51:02.000000000,2018-08-02 03:43:35.000000000,2018-08-02 03:43:35.000000000,3,3,0,504477,475051bcb197698f4643e88b6c453bc53d349618,19,8,2,3,10583,Praveen Yalagandula,ypraveen,"Install guide bug fix: incorrect auth_uri for ec2authtoken

Keystone doesn't expose /ec2tokens path on non-versioned base url. So
when auth_uri under ec2authtoken section in heat.conf is set to
non-versioned keystone url (e.g., http://localhost:5000), heat-api-cfn's
calls for authentication return 404 (Not Found) error.

This fix updates the install guides to specify proper versioned url
for auth_uri param.

Note this is a stable branch only fix due to
e18a523c9960ac5640eb9fefd4f447ae435cd3f4 landing on master

Change-Id: If6eeff7d3212d71891311a4506ec6be4a1a30fa2
(cherry-picked from commit f18788ecd8237ae04158c9d0326d1c0504dd604d)
"
openstack%2Fheat~stable%2Fqueens~I9275610931a174919076330ec443f54f68cc1371,openstack/heat,stable/queens,story/2003015-stable/queens,I9275610931a174919076330ec443f54f68cc1371,Ignore NotFound error in prepare_for_replace,MERGED,2018-07-31 07:42:14.000000000,2018-08-02 03:43:33.000000000,2018-08-02 03:43:32.000000000,26,5,0,587317,36b0108f8e451bbbadf8b255cebc553337405df5,6,2,1,2,8833,Rabi Mishra,rabi,"Ignore NotFound error in prepare_for_replace

If the port is already deleted in neutron, we don't need to do
anything.

Change-Id: I9275610931a174919076330ec443f54f68cc1371
Story: #2003015
Task: 23035
(cherry picked from commit 3d542935fbe7def5e785c26a1b6a8b468cfeaa48)
"
openstack%2Fkeystone~master~Ib668ca18faf42b41bc63558c6634fca96224d195,openstack/keystone,master,bug/1776504,Ib668ca18faf42b41bc63558c6634fca96224d195,Remove direct calls to auth.controllers in some tests,MERGED,2018-07-20 21:56:06.000000000,2018-08-02 03:35:21.000000000,2018-08-02 03:35:21.000000000,84,66,0,584529,6dbd0058421feb9311571b4a921831a7b35bdc72,20,4,5,2,2903,Morgan Fainberg,mdrnstm,"Remove direct calls to auth.controllers in some tests

Tests in keystone.tests.unit.test_v3 and kestone.tests.unit.test_v3_auth
no longer directly instantiate or calls to the auth controllers. The
only exception are test classes that are not used, those have had a
TODO note added to them. This is being done for the conversion to flask
where the auth controllers will no longer exist. All test changes are
done outside of the conversion of webob controller -> flask restful
api.

Change-Id: Ib668ca18faf42b41bc63558c6634fca96224d195
Partial-Bug: #1776504
"
openstack%2Ftempest~master~I0a77350bb0832f0ecf5c50de48b81a8bb9609d2d,openstack/tempest,master,refactor,I0a77350bb0832f0ecf5c50de48b81a8bb9609d2d,refactor: Prepare test_list_projects for pre-prov,MERGED,2018-07-17 21:07:21.000000000,2018-08-02 03:35:19.000000000,2018-08-02 03:35:19.000000000,19,9,1,583385,992237db1b1954923da784f2b411ad2e23b031a3,40,9,5,1,20378,Trevor McCasland,twm2016,"refactor: Prepare test_list_projects for pre-prov

This is part 1 of 2 commits that aim to move tests from only being
executed with the dynamic creds credential provider.

Part 1 does some initial refactoring and Part 2 will move the tests
and finish any other refactoring that's needed.

Change-Id: I0a77350bb0832f0ecf5c50de48b81a8bb9609d2d
"
openstack%2Fkeystone~master~I8a3769d87fdfcf4becd3b6c72ce8d5955102c5f8,openstack/keystone,master,sp-idp-parameters,I8a3769d87fdfcf4becd3b6c72ce8d5955102c5f8,Update parameters in sp and idp,ABANDONED,2017-08-17 09:15:16.000000000,2018-08-02 03:29:14.000000000,,16,10,5,494449,e8302029a1376ec4138f83eca4940bd99236d40f,16,7,3,2,25273,zhengliuyang,zlyqqq,"Update parameters in sp and idp

Some optional parameters in identity provider and service provider
should be not required. This patch correct and add explain about why
the parameters are not required.

Change-Id: I8a3769d87fdfcf4becd3b6c72ce8d5955102c5f8
"
openstack%2Fkeystone~master~Iaee47ab32c4a07c4682024ac8d1bebc30a7fbc5c,openstack/keystone,master,ephemeral-user-domain,Iaee47ab32c4a07c4682024ac8d1bebc30a7fbc5c,Don't need set ephemeral user's domain when mapping,ABANDONED,2017-08-17 07:16:58.000000000,2018-08-02 03:28:30.000000000,,2,16,2,494405,8d14f0ce582c84baf47cb53cda24400170d73c3d,11,4,3,2,25273,zhengliuyang,zlyqqq,"Don't need set ephemeral user's domain when mapping

Not need to set ephemeral user's domain when mapping user,
which will be contructed during mapped token creation.
https://github.com/openstack/keystone/blob/master/keystone
/token/providers/common.py#L504

Change-Id: Iaee47ab32c4a07c4682024ac8d1bebc30a7fbc5c
"
openstack%2Fkeystone~master~I1fd25eec458b86232b17b17d2c8e2dcfbdc2a04e,openstack/keystone,master,bug/1700748,I1fd25eec458b86232b17b17d2c8e2dcfbdc2a04e,Improper handle about building list of token deletion,ABANDONED,2017-06-17 02:59:36.000000000,2018-08-02 03:28:08.000000000,,4,11,10,475100,6c1ad1ae7fad5d743fdafeb0c052a2653358d8e1,20,8,4,1,25273,zhengliuyang,zlyqqq,"Improper handle about building list of token deletion

If deleting a role, we should iterate over the assignments
for this role and build the list of tokens we need to delete.
In order to minimize the number of token list to delete,
remove any redundant user+project deletions.

I think simplify the list for the same user is Improper,
the same user and different project target different tokens.
At the same time, original processing actually doesn't work
due to user_ids is never added to.

Closes-Bug: 1700748
Change-Id: I1fd25eec458b86232b17b17d2c8e2dcfbdc2a04e
"
openstack%2Fnetworking-odl~master~I7234424b3ec4111f283ae4424a17de429c7eff9c,openstack/networking-odl,master,use-callback-payloads,I7234424b3ec4111f283ae4424a17de429c7eff9c,use callback payloads for PRECOMMIT_UPDATE events,MERGED,2017-12-21 15:51:52.000000000,2018-08-02 03:20:56.000000000,2018-03-16 22:07:14.000000000,26,10,0,529631,638f35473b3fb1a399f3fadb303a752ed273fa3a,25,7,5,2,5367,boden,boden,"use callback payloads for PRECOMMIT_UPDATE events

This patch switches callbacks over to the payload object style events
[1] for PRECOMMIT_UPDATE based notifications. To do so a neutron-lib
base payload object must be handled for PRECOMMIT_UPDATE events while
at the same time supporting the existing callback args for other event
types. This requires introducing a few temporary shims to handle both
styles of callback args.

Depends-On: Ie6d27df01cd7b87894efc80946d41eb1ebe25bef

[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html#event-payloads

Change-Id: I7234424b3ec4111f283ae4424a17de429c7eff9c
"
openstack%2Fnetworking-odl~stable%2Fqueens~I49872b5b65372ac333ad759bb506fac7348c3fa9,openstack/networking-odl,stable/queens,sg-rule-precommit-exception-stable/queens,I49872b5b65372ac333ad759bb506fac7348c3fa9,Log exceptions on security group callbacks,MERGED,2018-07-23 02:33:52.000000000,2018-08-02 03:13:12.000000000,2018-08-02 03:13:11.000000000,55,9,0,584692,ea930aee5ec873e154499cfb1ab45388f67283aa,24,11,1,2,28373,Kailun Qin,kailun.qin,"Log exceptions on security group callbacks

This patch adds EXCEPTION-level logging for non-retriable exceptions
during security groups and rules callbacks. The reason is that the
callback manager triggering these callbacks wont do any logging on its
own for precommit events. On situations like [1], it was necessary to
enable debug logging to check the reason behind the error.

Regarding [1], see change [2] for a fix that prevents the exception.

[1] http://jira.opendaylight.org/browse/NETVIRT-896
[2] https://review.openstack.org/#/c/536935

Change-Id: I49872b5b65372ac333ad759bb506fac7348c3fa9
co-authored-by: Jaime Caamaño Ruiz <jcaamano@suse.com>
(cherry picked from commit 496e9a2a7e2827efdf1f060ee4765fc16c1c3e3c)
"
openstack%2Fblazar~master~I04954af4db24bbbe92740152d02619b6e82d1455,openstack/blazar,master,fix-response-code,I04954af4db24bbbe92740152d02619b6e82d1455,Add release note for response code fixes,MERGED,2018-06-25 08:13:27.000000000,2018-08-02 02:55:36.000000000,2018-08-02 02:55:36.000000000,60,0,3,577747,2986471cb8727d5538e391e7d417a6b5aa88ccdb,42,4,15,1,8878,Masahito Muroi,masa,"Add release note for response code fixes

Some Blazar API endpoints were returning response codes that didn't
match the actual error. In the Rocky release, these response codes are
fixed to align with the actual type of error in the code.

This patch adds a summary of these changes happening in Rocky.

Change-Id: I04954af4db24bbbe92740152d02619b6e82d1455
Co-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>
"
openstack%2Fproject-config~master~Ideb8cf44bcd42dd9b9060ad185e24ece972a7baf,openstack/project-config,master,rtd-job,Ideb8cf44bcd42dd9b9060ad185e24ece972a7baf,readthedocs secret : remove prefix,MERGED,2018-08-01 10:52:23.000000000,2018-08-02 02:51:44.000000000,2018-08-02 02:51:44.000000000,2,2,0,587771,e2d183bf0b02f2c13370b0ad6e1ae176c98f34d4,7,3,1,1,7118,Ian Wienand,iwienand,"readthedocs secret : remove prefix

Per the dependent change, the role changed the name of data keys.

Change-Id: Ideb8cf44bcd42dd9b9060ad185e24ece972a7baf
Depends-On: https://review.openstack.org/587767
"
openstack%2Ftripleo-heat-templates~master~I7200f930387406e6cc8e6fee6d5278768074c892,openstack/tripleo-heat-templates,master,bug/1784910,I7200f930387406e6cc8e6fee6d5278768074c892,"Switch deployment_source_hosts default to ""Undercloud""",MERGED,2018-08-01 20:37:06.000000000,2018-08-02 02:49:57.000000000,2018-08-02 02:49:57.000000000,1,1,0,588075,6860fb84f567bcb38a6dc84eae38d361cca52b15,10,5,1,1,3153,Emilien Macchi,emilienm,"Switch deployment_source_hosts default to ""Undercloud""

""undercloud"" host is too opinionated and hostnames can change. We should
rather apply the tasks to the Undercloud HostGroup, which contains one
host for now: the actual undercloud hostname.

So this patch switches ""undercloud"" to ""Undercloud"" so when the hostname
isn't ""undercloud"", the external tasks will run correctly on this host.

Change-Id: I7200f930387406e6cc8e6fee6d5278768074c892
Closes-Bug: #1784910
"
openstack%2Fkolla-ansible~master~Id4c6587d5a9c4d1eebc362acf4d76ab132a0a549,openstack/kolla-ansible,master,fix-conf-err,Id4c6587d5a9c4d1eebc362acf4d76ab132a0a549,Fix error about kibana config,ABANDONED,2018-07-31 06:33:34.000000000,2018-08-02 02:43:28.000000000,,1,1,0,587298,001eb97c30e2e38209e612d9b9f58901aca939db,9,7,1,1,25167,Qi Peng,pengdake,"Fix error about kibana config

Kibana loads its configuration from the /etc/kibana/kibana.yml file by
default. So we need this change

Change-Id: Id4c6587d5a9c4d1eebc362acf4d76ab132a0a549
Signed-off-by: pengdake <19921207pq@gmail.com>
"
openstack%2Fopenstack-zuul-jobs~master~If09aab2e8bdb5c74ff53acfa8bcf1459b1b2ed9d,openstack/openstack-zuul-jobs,master,,If09aab2e8bdb5c74ff53acfa8bcf1459b1b2ed9d,Run a non-voting py36 job for all py35 tox jobs,ABANDONED,2018-06-05 19:44:52.000000000,2018-08-02 01:51:30.000000000,,71,0,8,572535,524c6987b2b62bc622f57e34ed84bf148d209c7b,12,7,1,1,4257,Zane Bitter,zaneb,"Run a non-voting py36 job for all py35 tox jobs

In order to help projects identify any issues with the transition to
Python3.6, augment all voting py35 unit test jobs with non-voting py36
equivalents.

Also create py35_36 templates, so that when projects are ready to make
Python3.6 gating they can switch to this template (thus removing the
non-voting job) rather than simply adding the py36 template. The py36
templates remain in place so that projects can migrate to them in the
future as Python3.5 support is dropped.

Change-Id: If09aab2e8bdb5c74ff53acfa8bcf1459b1b2ed9d
"
openstack%2Fpython-tripleoclient~master~Ia9b3516aa1793cacfd4cc5a15e3cd704ddfe90ea,openstack/python-tripleoclient,master,bp/container-prepare-workflow,Ia9b3516aa1793cacfd4cc5a15e3cd704ddfe90ea,Create docker group and find gid in tripleo deploy,ABANDONED,2018-06-29 04:57:27.000000000,2018-08-02 01:50:44.000000000,,29,0,0,579054,7705fda608a2a466570938cdd87e535ffb42914f,10,3,2,2,4571,Steve Baker,steve-stevebaker,"Create docker group and find gid in tripleo deploy

The docker group needs to be created early in the deploy process so
that the gid can be set as a heat parameter for change
I62a8624c182bd5a9fbd80dc1d4d2f2165db18b4c.

If the docker group already exists then the groupadd has no effect.

Likewise, creating the group here won't affect docker being installed
later in the deployment.

Change-Id: Ia9b3516aa1793cacfd4cc5a15e3cd704ddfe90ea
Blueprint: container-prepare-workflow
"
openstack%2Ftripleo-heat-templates~master~I62a8624c182bd5a9fbd80dc1d4d2f2165db18b4c,openstack/tripleo-heat-templates,master,bp/container-prepare-workflow,I62a8624c182bd5a9fbd80dc1d4d2f2165db18b4c,Add docker group to mistral executor,ABANDONED,2018-06-28 21:21:35.000000000,2018-08-02 01:50:27.000000000,,16,1,2,579018,4f7bbdb4c2fbdfb26cc2cb6d7ce1f6df10857f3d,15,4,2,1,4571,Steve Baker,steve-stevebaker,"Add docker group to mistral executor

This adds the supplied gid to be an additional group so that
mistral-executor can perform docker tasks.

Only the gid works, not the group name. So this must be supplied by
discovering the gid before the undercloud deploy. This is done in the
change Ia9b3516aa1793cacfd4cc5a15e3cd704ddfe90ea.

Depends-On: Ia9b3516aa1793cacfd4cc5a15e3cd704ddfe90ea
Change-Id: I62a8624c182bd5a9fbd80dc1d4d2f2165db18b4c
Blueprint: container-prepare-workflow
"
openstack%2Fheat~master~Ieb6231d6fa0bfb6ceecdbc451c6db83bfed661ec,openstack/heat,master,,Ieb6231d6fa0bfb6ceecdbc451c6db83bfed661ec,Change deprecated url to a correct,ABANDONED,2018-07-05 06:53:31.000000000,2018-08-02 01:45:49.000000000,,1,1,0,580303,cfe28ebd7fb65c2c7cbc826b6ed654219709958e,4,2,1,1,26311,tianhui,tianhui,"Change deprecated url to a correct

The url for the heatclient bugs is deprecated and needs to
change it to a correct one.

Change-Id: Ieb6231d6fa0bfb6ceecdbc451c6db83bfed661ec
"
openstack%2Fheat~master~I014cb403c7c68582d1f3dff158e47ebb309a51ad,openstack/heat,master,,I014cb403c7c68582d1f3dff158e47ebb309a51ad,Change bug url to a correct one,ABANDONED,2018-07-02 09:15:52.000000000,2018-08-02 01:45:29.000000000,,5,5,0,579499,a62d234874dc035f322301ad751950388d8263de,4,2,1,5,26311,tianhui,tianhui,"Change bug url to a correct one

The url for the heat bugs is deprecated and needs to
change it to a correct one.

Change-Id: I014cb403c7c68582d1f3dff158e47ebb309a51ad
"
openstack%2Ftempest~master~I1352e9d559e67510917c2eecd9ecbbb387fdfdb6,openstack/tempest,master,log-vm-console-output-timestamps,I1352e9d559e67510917c2eecd9ecbbb387fdfdb6,Log server console output during create/get timestamp,MERGED,2018-07-30 20:46:58.000000000,2018-08-02 01:34:37.000000000,2018-08-01 01:42:41.000000000,28,15,0,587221,79d8b0ff9bba455184d175dd8aad2909ff1c1b0b,19,8,1,6,11975,Slawek Kaplonski,slaweq,"Log server console output during create/get timestamp

Methods {create,get}_timestamp now have possibility to
pass ""server"" variable to it.
That allows to log instance's console output in case if
SSH to instance would not be available.

Change-Id: I1352e9d559e67510917c2eecd9ecbbb387fdfdb6
"
openstack%2Finstack-undercloud~stable%2Fqueens~Id5a6083f5dc3f8c569e0d0778722c1e52ff7cdef,openstack/instack-undercloud,stable/queens,bug/1781350-stable/queens,Id5a6083f5dc3f8c569e0d0778722c1e52ff7cdef,Restart rsyslog after installing Swift,MERGED,2018-08-01 06:07:34.000000000,2018-08-02 01:18:02.000000000,2018-08-02 01:18:02.000000000,10,0,0,587696,2f32d629d2c43b0f4148b2ef2c40a659233e0baf,6,2,1,2,6968,Christian Schwede,cschwede,"Restart rsyslog after installing Swift

This ensures that Swift logs end up in /var/log/swift/swift.log.

Closes-Bug: 1781350
Change-Id: Id5a6083f5dc3f8c569e0d0778722c1e52ff7cdef
(cherry picked from commit d3c6857a49d37bc63057203ca75c656d2feeb418)
"
openstack%2Fswift~master~Ia5dde619b59ac11fa2c020e06c03a79821ccf589,openstack/swift,master,test_init,Ia5dde619b59ac11fa2c020e06c03a79821ccf589,add test_init case in cli/recon,ABANDONED,2016-10-02 07:19:28.000000000,2018-08-02 01:12:44.000000000,,9,0,0,380813,c6be0d5e730582bd337ac5f55b62e5a8855f4074,10,3,1,1,22059,zheng yin,zy751713126,"add test_init case in cli/recon

add SwiftRecon__init__() test case.

Change-Id: Ia5dde619b59ac11fa2c020e06c03a79821ccf589
"
openstack%2Ftripleo-common~master~I2bd53ac64d6ae7a5bb536fa82b1c70a73d883ba8,openstack/tripleo-common,master,bp/container-prepare-workflow,I2bd53ac64d6ae7a5bb536fa82b1c70a73d883ba8,Create script tripleo-container-image-prepare,MERGED,2018-07-30 22:16:14.000000000,2018-08-02 01:11:42.000000000,2018-08-02 01:11:42.000000000,102,0,4,587239,05532448eea2a60a0156527b51d7b8b4c6b959bc,20,8,2,2,4571,Steve Baker,steve-stevebaker,"Create script tripleo-container-image-prepare

The mistral executor image needs to trigger a container image prepare
via an executable during overcloud stack creation, but adding
python-tripleoclient to the executor image causes significant image
bloat.

This change implements a script equivalent to the command ""openstack
tripleo container image prepare"" with functionality focused only on
the needs of the caller. The script differs to the full command in the
following ways:
- Only one environment file can be specified, so filtering by
  containerized services is not possible (filtering by roles data is
  still done)
- No output files are generated, this script exists only to do actual
  prepare operations
- --dry-run is not supported
- The printed output is just the image parameter values, not a full
  environment file

Change-Id: I2bd53ac64d6ae7a5bb536fa82b1c70a73d883ba8
Blueprint: container-prepare-workflow
"
openstack%2Foslo.policy~master~I3ea2aac73e3c0a4f77f3f4097540de01264cd618,openstack/oslo.policy,master,485646,I3ea2aac73e3c0a4f77f3f4097540de01264cd618,generator: Reimplement wrapping of 'description',MERGED,2017-07-20 14:22:31.000000000,2018-08-02 00:49:03.000000000,2018-08-02 00:49:03.000000000,113,27,5,485646,bc9a91d8b72d32bc23f61c0bb377405a15c859c3,36,8,7,2,15334,Stephen Finucane,sfinucan,"generator: Reimplement wrapping of 'description'

The current implementation of wrapping for the Policy.description field
leaves a lot to be desired. It takes each line in the original
description independently and wraps that, ignoring the fact that the
line may be part of a paragraph, or could be a literal that shouldn't be
wrapped. As an example, imagine that wrapping occurred at 40
characters instead of 70. In this case, the below:

    A sample lines with more than forty characters
    which continues down onto the next line.

would become:

    A sample lines with more than forty
    characters
    which continues down onto the next line.

when clearly, what we want is something like this:

    A sample lines with more than forty
    characters which continues down onto the
    next line.

This is resolved.

In addition, it should be possible to include basic literal blocks and
those should be preserved. For example:

    Here's a sample literal block

        This is a really long literal block but it should not wrap

should be output in the exact same way. This is also resolved.

Note that we're not accounting for things like bullet points. Doing so
would bring us close to rST parser implementation territory, and we
don't want to go there. We can revisit this if someone turns out to want
this feature.

Change-Id: I3ea2aac73e3c0a4f77f3f4097540de01264cd618
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fansible-role-tripleo-cookiecutter~master~If0d65996d171283d18a0c21dafa0fabfd1fe3479,openstack/ansible-role-tripleo-cookiecutter,master,ssh-control-path,If0d65996d171283d18a0c21dafa0fabfd1fe3479,Remove ssh control path setting,MERGED,2018-08-01 16:02:14.000000000,2018-08-02 00:34:18.000000000,2018-08-02 00:34:18.000000000,0,4,0,587866,7820e1ecaa4d532fcf836557db36cef20771adad,13,4,5,1,27253,Sam Doran,sdoran,"Remove ssh control path setting

The only reason to change this in the past was due to the hostname being too
long and causing errors. Ansible changed to a more optimized default control
path that avoids this problem, so now changing this setting is only required
in very rare cases.

Change-Id: If0d65996d171283d18a0c21dafa0fabfd1fe3479
"
openstack%2Fansible-role-tripleo-cookiecutter~master~I76022e580e55094a04ca7ac3c05c025a2894ea1e,openstack/ansible-role-tripleo-cookiecutter,master,cookiecutter-ci-jobs,I76022e580e55094a04ca7ac3c05c025a2894ea1e,"Add zuul config, tox files, and lint script.",MERGED,2018-07-31 22:54:19.000000000,2018-08-02 00:29:59.000000000,2018-08-02 00:29:59.000000000,232,0,6,587654,f98ace7d351580233b9ec90f0c6a59fec3ccbae8,30,3,10,8,20868,Jill Rouleau,jillr,"Add zuul config, tox files, and lint script.

Add ci jobs to generate a role from cookiecutter config and run
ansible-lint against the generated role.  Lint script is called from
tox so that developers can reproduce this locally.

Change-Id: I76022e580e55094a04ca7ac3c05c025a2894ea1e
"
openstack%2Fmurano-tempest-plugin~master~Iad64bbaac517b8e1f53ec7046691a79e63f4f74d,openstack/murano-tempest-plugin,master,remove_nose,Iad64bbaac517b8e1f53ec7046691a79e63f4f74d,Use tempest.lib.decorators instead of nose,MERGED,2018-08-01 19:45:22.000000000,2018-08-02 00:28:36.000000000,2018-08-02 00:28:36.000000000,8,8,0,588057,3788a62b1fb10fb9763767ffb71bc5ea5a63c9f7,8,4,1,3,12393,chandan kumar,chkumar246,"Use tempest.lib.decorators instead of nose

* tempest.lib.decorators provides a better way to handle attrs, let's
  use it instead of using nose from tempest.lib stable api.

Change-Id: Iad64bbaac517b8e1f53ec7046691a79e63f4f74d
"
openstack%2Fproject-config~master~I91b7a1fd8d45bce7e99e376dc020317378a656c4,openstack/project-config,master,ircmeetbots,I91b7a1fd8d45bce7e99e376dc020317378a656c4,"Update meetbot name to ""openstack""",ABANDONED,2018-08-02 00:10:25.000000000,2018-08-02 00:20:58.000000000,,1,1,0,588107,e1346a2a99a2c7162467a7719823ec93cd030753,4,2,1,1,7118,Ian Wienand,iwienand,"Update meetbot name to ""openstack""

I don't think the meetbot is called ""open_stack""

Change-Id: I91b7a1fd8d45bce7e99e376dc020317378a656c4
"
openstack%2Fopenstack-helm-infra~master~I15d03a8893331d043df589f5498aaa965559bacb,openstack/openstack-helm-infra,master,rabbit_disable_bert,I15d03a8893331d043df589f5498aaa965559bacb,Rabbitmq: Disable bert capabilities in exporter,MERGED,2018-08-01 18:48:44.000000000,2018-08-02 00:08:56.000000000,2018-08-02 00:08:56.000000000,0,1,0,587972,580ba12e9d940730d8541f7de41e6560fec0a51c,10,4,1,1,17591,Steve Wilkerson,srwilkers,"Rabbitmq: Disable bert capabilities in exporter

This disables the bert capabilities in the rabbitmq exporter, as
the go routines for bert in the exporter are raising panics.
This capability should remain disabled until these issues are
resolved in the exporter.

References:
http://logs.openstack.org/25/587825/2/check/openstack-helm-armada-fullstack-deploy/0d5ecb6/primary/pod-logs/openstack/osh-heat-rabbitmq-rabbitmq-exporter-55b4548bb6-tgwjr/rabbitmq-exporter.txt
http://logs.openstack.org/25/587825/2/check/openstack-helm-armada-fullstack-deploy/0d5ecb6/primary/pod-logs/openstack/osh-cinder-rabbitmq-rabbitmq-exporter-664945b7c5-rsrmd/rabbitmq-exporter.txt

Change-Id: I15d03a8893331d043df589f5498aaa965559bacb
"
openstack%2Fansible-role-tripleo-cookiecutter~master~Ie9098835d98a65ed54c3657a52372500a2b86edb,openstack/ansible-role-tripleo-cookiecutter,master,test/break,Ie9098835d98a65ed54c3657a52372500a2b86edb,DNM - try to break cookiecutter,ABANDONED,2018-08-01 23:52:46.000000000,2018-08-01 23:58:42.000000000,,2,0,0,588102,20dc65b8ec52628bd99f81deb74979c5386b9521,3,1,1,1,3153,Emilien Macchi,emilienm,"DNM - try to break cookiecutter

Change-Id: Ie9098835d98a65ed54c3657a52372500a2b86edb
"
openstack%2Fneutron~stable%2Fpike~Ic1864f7efbc94db1369ac7f3e2879fda86f95a11,openstack/neutron,stable/pike,bug/1764481,Ic1864f7efbc94db1369ac7f3e2879fda86f95a11,Retry dhcp_release on failures,MERGED,2018-07-30 08:43:32.000000000,2018-08-01 23:55:24.000000000,2018-08-01 23:55:24.000000000,308,69,0,586980,6aada381f4695ccd904c4be7dbfdd95744d32e38,13,9,1,2,11975,Slawek Kaplonski,slaweq,"Retry dhcp_release on failures

Sometimes calls to dhcp_release(6) do not result in removal
of a lease from the leases file, for example, when the release
packet is not received by dnsmasq.  Trying more than once is
recommended in this case.

Instead of blindly trying some number of times, we monitor
the lease file contents, and retry the dhcp_release(6) call
when an entry still remains.  This is possible since
dhcp_release(6) is being run from the DHCP server itself.
We try three times and wait 0.3 seconds between tries.

We also now check for any stale leases in the leases file
that are unknown to neutron, also trying to remove them.

Change-Id: Ic1864f7efbc94db1369ac7f3e2879fda86f95a11
Closes-bug: #1764481
Closes-bug: #1783908
(cherry picked from commit fab032b426e1fa89dc473c61cbf15377fe4aaff3)
"
openstack%2Fcharm-percona-cluster~master~Ia435069f5df80bfdf0236d14664317990bd06407,openstack/charm-percona-cluster,master,bug/1784584,Ia435069f5df80bfdf0236d14664317990bd06407,Check if it's leader before calling leader_set(),MERGED,2018-08-01 16:44:31.000000000,2018-08-01 23:46:27.000000000,2018-08-01 23:46:27.000000000,5,1,0,587899,1219f7b2a213af5d5697a1c4cb48486e9c08c81e,8,4,1,1,2424,Felipe Reyes,freyes,"Check if it's leader before calling leader_set()

There may be situations where leader-elected hook is executed without
being the leader and making leader_set() calls fail, this patch verifies
if it's the leader before attempting to use leader_set()

Change-Id: Ia435069f5df80bfdf0236d14664317990bd06407
Closes-Bug: 1784584
"
openstack%2Fansible-role-container-registry~master~I9b2b29b3a79a89199f7d149673791d1711189913,openstack/ansible-role-container-registry,master,zuul/update,I9b2b29b3a79a89199f7d149673791d1711189913,Use release-openstack-server job-template,MERGED,2018-08-01 14:57:22.000000000,2018-08-01 23:34:28.000000000,2018-08-01 23:34:28.000000000,10,0,1,587843,c41c49db4a5498810638b7f11dbd9db3fac6ffc4,12,4,3,1,3153,Emilien Macchi,emilienm,"Use release-openstack-server job-template

We don't want these roles pushed to pypi, so no need to try uploading them.
This template is the same as publish-to-pypi except it's not pushing the
project to pypy.

Also add jobs from project-config; so we can control here.

Change-Id: I9b2b29b3a79a89199f7d149673791d1711189913
"
openstack%2Fnetworking-odl~stable%2Fpike~Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e,openstack/networking-odl,stable/pike,,Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e,devstack: teach how to handle latest ODL release,MERGED,2018-07-23 13:19:44.000000000,2018-08-01 23:17:59.000000000,2018-08-01 23:17:59.000000000,75,20,0,584872,409a62b09c5fe66c8319cc662a038ab2f8834bfa,38,8,13,11,17685,Elod Illes,elod.illes,"devstack: teach how to handle latest ODL release

This commit is a squash of multiple backported fixes and one workaround
for rally jobs.

------------------------------------------------------------
Pin rally to 0.12.1

Rally plugin after version 0.12.1 installs the new and latest
rally-openstack, which has higher requirements of oslo.db and
oslo.log and is not constrained by upper-constraints.txt during
install. This causes problem on stable/pike and older stable
branches.

The patch set that introduced this bug:
https://review.openstack.org/#/c/575064/4/devstack/lib/rally

------------------------------------------------------------
commit[1] I2b766eb7aef5b4f8183d7213a0be3b605b5092d9

devstack: add nitrogen release definition

ODL nitrogen has been released. So let's add nitrogen release definition.

Also fixes the logic to retrieve release version.

------------------------------------------------------------
commit[2] I4c8471b3a1a0bf94558505a8d6241e68dfdbd912

Use latest ODL version for jobs

All the EOL releases are archived and don't have snapshots anymore, so
use the latest released version for CI.

Also updates pylint because one of the pylint dependencies has updated
to be python3 only; this version of pylint correctly caps things so it
still works with python2.

NOTE(elod.illes): the cause of the conflicts is that zuul jobs were
redesigned in queens. test-requirements.txt should not be changed
because it holds lower version constraints, so no need for capping.

------------------------------------------------------------
commit[3] I3d18beb71f4ecec8db133de39df21c8678a35568

devstack: try metadata in parent dir

When getting metadata file for artifact id, try parent directory
if failed. This is the case when autorelease.

------------------------------------------------------------
commit[4]: I5a8c40d1613f6e9ac3c59a68be7b22fffc37b938

change testrepository to stestr

As testrepository has changed to testr, dumping
logs on fullstack is spitting error.

NOTE(elod.illes): only post_test_hook.sh fix is needed now

Co-Authored-By: Isaku Yamahata <isaku.yamahata@intel.com>

Change-Id: Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e
Co-Authored-By: Michel Peterson <mpeterso@redhat.com>
(cherry picked from commit b447dc302e0c4d686587a79328aa63385f4f92e3)
(cherry picked from commit 2bb439e410204488f6bbb82bff98bb4dd502fc77)
(cherry picked from commit b9fe79d81370b8fb1f6e25597d7fa3e547ce0ff3)
"
openstack%2Finstack-undercloud~master~Id5a6083f5dc3f8c569e0d0778722c1e52ff7cdef,openstack/instack-undercloud,master,bug/1781350,Id5a6083f5dc3f8c569e0d0778722c1e52ff7cdef,Restart rsyslog after installing Swift,MERGED,2018-07-12 07:43:53.000000000,2018-08-01 23:08:47.000000000,2018-07-30 09:46:38.000000000,10,0,1,581990,d3c6857a49d37bc63057203ca75c656d2feeb418,11,3,2,2,6968,Christian Schwede,cschwede,"Restart rsyslog after installing Swift

This ensures that Swift logs end up in /var/log/swift/swift.log.

Closes-Bug: 1781350
Change-Id: Id5a6083f5dc3f8c569e0d0778722c1e52ff7cdef
"
openstack%2Fopenstack-ansible-os_octavia~master~I9d67717bf5b15fa3b38020ed846ed0b5937aadd0,openstack/openstack-ansible-os_octavia,master,remove-cruft-in-osa,I9d67717bf5b15fa3b38020ed846ed0b5937aadd0,Clarify the octavia-neutron event stream config options,MERGED,2018-07-30 16:53:40.000000000,2018-08-01 23:04:10.000000000,2018-08-01 23:04:10.000000000,10,7,0,587140,53771fa6227edca991fc4d9aa2f7c88ecbff5217,19,5,5,1,6816,Jesse Pretorius,jesse-pretorius,"Clarify the octavia-neutron event stream config options

For the sake of clarifying the purpose of the vars from a
different namespace, the description comments are updated.

The default value for the password is removed, as passwords
should never have a default value. Role tests have the value
popoulated, as does the integrated repo test.

Change-Id: I9d67717bf5b15fa3b38020ed846ed0b5937aadd0
"
openstack%2Fopenstack-ansible-os_octavia~master~Idfcf5fb400079eadd080b30992a90cc758e1cac8,openstack/openstack-ansible-os_octavia,master,remove-cruft-in-osa,Idfcf5fb400079eadd080b30992a90cc758e1cac8,Clean up test override vars,MERGED,2018-07-30 12:44:13.000000000,2018-08-01 23:02:41.000000000,2018-08-01 23:02:41.000000000,12,37,0,587046,778385767507973017a5b3c8c6da1f6a79165b45,20,4,6,2,6816,Jesse Pretorius,jesse-pretorius,"Clean up test override vars

Several override vars aren't used, or are only used in one
test playbook will will get revamped to eliminate the need
for them after the service delegation patch merges.

As such, we remove the unnecessary vars and move those to
be cleaned up later into the play to make it simpler to do.

Change-Id: Idfcf5fb400079eadd080b30992a90cc758e1cac8
"
openstack%2Fopenstack-helm-infra~master~I61f28a2ebeecb22eb66e0394417b0af3a9116483,openstack/openstack-helm-infra,master,helm/bootstrapping-user,I61f28a2ebeecb22eb66e0394417b0af3a9116483,Gate: specify user for tiller image used for bootstrapping cluster,MERGED,2018-08-01 16:03:12.000000000,2018-08-01 22:59:56.000000000,2018-08-01 22:59:56.000000000,4,0,0,587867,ac270960026e3ee3e780425effd45e3fbfd21ae4,8,4,1,4,23928,Pete Birley,portdirect,"Gate: specify user for tiller image used for bootstrapping cluster

This PS updates the ansible roles to update the user used with
the tiller image used for bootstrapping to allow access to approprate
config files used. This is required for use with the current master
tiller image, which no longer deffaults to the root user.

Change-Id: I61f28a2ebeecb22eb66e0394417b0af3a9116483
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fnetworking-odl~stable%2Fqueens~I30a7686122a2b4917e7585ac435991a36b1add64,openstack/networking-odl,stable/queens,tests_fix,I30a7686122a2b4917e7585ac435991a36b1add64,Use stable branch for unit tests instead of master,MERGED,2018-07-27 10:37:31.000000000,2018-08-01 22:49:44.000000000,2018-08-01 22:49:44.000000000,3,3,0,586503,3074f1efdc0a9edc0a88f85e117b47b1fd8935bb,19,6,2,2,16771,mpolenchuk,mpolenchuk,"Use stable branch for unit tests instead of master

Change-Id: I30a7686122a2b4917e7585ac435991a36b1add64
"
openstack%2Frequirements~master~I934fd45299ad8df0b625f25eebdcbdc17ccee7da,openstack/requirements,master,new-release,I934fd45299ad8df0b625f25eebdcbdc17ccee7da,Blacklist python-cinderclient 4.0.0,MERGED,2018-08-01 16:29:07.000000000,2018-08-01 22:18:03.000000000,2018-08-01 22:18:03.000000000,1,1,0,587877,171e2a0c5d40ef9eb9ff1e134cb4e60df1e1f8ed,7,3,1,1,11904,Sean McGinnis,SeanM,"Blacklist python-cinderclient 4.0.0

This release of the Cinder client broke support for the v3
volume-transfer APIs unless microversion 3.55 or higher was requested.

Change-Id: I934fd45299ad8df0b625f25eebdcbdc17ccee7da
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fswift~master~I0ab646ad70a1416a734677e11427f281f27b86c6,openstack/swift,master,db-repl-progress-rebase,I0ab646ad70a1416a734677e11427f281f27b86c6,Emit periodic stats from account and container replicators,NEW,2018-04-27 20:17:08.000000000,2018-08-01 22:17:56.000000000,,238,150,3,564875,9aedfd19c0e9650aa9381607024245be316ccc5e,11,4,4,6,2622,Samuel Merritt,torgomatic,"Emit periodic stats from account and container replicators

The object replicator periodically emits a stats line with some
progress numbers, including an estimated completion time. This commit
adds a similar thing to the account and container replicators. It's
not as verbose, but the estimated completion time is in there, and
that's the most important part.

Change-Id: I0ab646ad70a1416a734677e11427f281f27b86c6
"
openstack%2Fcinder~master~Ib0894a606df78112a86d444339db4bb5df81110b,openstack/cinder,master,,Ib0894a606df78112a86d444339db4bb5df81110b,Remove mkdir from volume.filters,MERGED,2018-07-05 15:47:28.000000000,2018-08-01 22:06:21.000000000,2018-07-05 22:33:31.000000000,0,3,0,580427,c96c7556f57bf95e6bcbf3bafb95a86bb794f0d5,28,23,1,1,24,Chuck Short,zulcss,"Remove mkdir from volume.filters

The 'mkdir' command was not being used anywhere
so remove it.

Change-Id: Ib0894a606df78112a86d444339db4bb5df81110b
Signed-off-by: Chuck Short <chucks@redhat.com>
"
openstack%2Fcinder~master~Iafe3e68d6e9c20064a8825848b7b2d33ce7f4cff,openstack/cinder,master,bug/1765182,Iafe3e68d6e9c20064a8825848b7b2d33ce7f4cff,NetApp ONTAP: Remove NFS driver online volume extending support,MERGED,2018-06-26 20:31:38.000000000,2018-08-01 22:05:28.000000000,2018-07-13 20:35:34.000000000,7,0,0,578196,40d50eccdef9cc1b42bb8e24e6b641b20213720d,89,39,2,3,18058,Lucio Seki,lseki,"NetApp ONTAP: Remove NFS driver online volume extending support

Cinder scheduler now checks backend capability online_extend_support
before performing an online volume extend operation. This patch makes
NetApp ONTAP NFS driver report to the scheduler that it doesn't support
this feature, thus avoiding leaving a volume in error_extending state
after an online extending attempt.

Change-Id: Iafe3e68d6e9c20064a8825848b7b2d33ce7f4cff
Depends-On: I2c31b5c171574074a8fc7ba86f94f983fc9658f7
Related-Bug: #1765182
"
openstack%2Fopenstack-ansible-os_designate~master~I7f97e2e9977f1f8c506e6f5f2f71a1b1310ba9d3,openstack/openstack-ansible-os_designate,master,bp/python-build-install-simplification,I7f97e2e9977f1f8c506e6f5f2f71a1b1310ba9d3,[TEST] openstack_hosts/pip_install changes,ABANDONED,2018-08-01 12:35:51.000000000,2018-08-01 22:05:23.000000000,,0,0,0,587803,05dd3a11e771d1394a77079ca0e2e30289ddfce6,5,2,1,1,6816,Jesse Pretorius,jesse-pretorius,"[TEST] openstack_hosts/pip_install changes

Depends-On: https://review.openstack.org/587801
Change-Id: I7f97e2e9977f1f8c506e6f5f2f71a1b1310ba9d3
"
openstack%2Fopenstack-ansible~master~Ic67afe46f0c94a10a62ffa618ae3462765d9f637,openstack/openstack-ansible,master,bp/python-build-install-simplification,Ic67afe46f0c94a10a62ffa618ae3462765d9f637,[TEST] openstack_hosts/pip_install changes,ABANDONED,2018-08-01 12:37:30.000000000,2018-08-01 22:05:02.000000000,,0,0,0,587804,29aebaffd3210111ad3f88033533abe3a4cd9948,5,2,1,1,6816,Jesse Pretorius,jesse-pretorius,"[TEST] openstack_hosts/pip_install changes

Depends-On: https://review.openstack.org/587801
Change-Id: Ic67afe46f0c94a10a62ffa618ae3462765d9f637
"
openstack%2Fcinder~master~I3cff61b4cde16e00ad23d534c5281a2f1afcd29f,openstack/cinder,master,,I3cff61b4cde16e00ad23d534c5281a2f1afcd29f,Port nvmet driver to use privsep,MERGED,2018-07-04 19:39:19.000000000,2018-08-01 22:03:53.000000000,2018-07-06 17:13:55.000000000,99,32,6,580226,5c1b5cbad720b3d309152aaa0f54ad0bedb01aac,74,28,3,4,24,Chuck Short,zulcss,"Port nvmet driver to use privsep

Now that we have privsep support in cinder,
we can start using privsep in various drivers
so we can drop rootwrap support.

Change-Id: I3cff61b4cde16e00ad23d534c5281a2f1afcd29f
Signed-off-by: Chuck Short <chucks@redhat.com>
"
openstack%2Fcinder~master~Idf4e9b966a1b0f9154ca600e088ceb6929a1fb0e,openstack/cinder,master,bug/1776227,Idf4e9b966a1b0f9154ca600e088ceb6929a1fb0e,DS8K: correct behavior and return value for terminate_connection method,MERGED,2018-06-27 06:33:57.000000000,2018-08-01 22:03:00.000000000,2018-07-05 19:36:38.000000000,10,13,10,578290,97f71915d13c9a538e1fc64ab388d27f5a3b39a7,121,37,7,3,26422,Peng Wang,wangpeng,"DS8K: correct behavior and return value for terminate_connection method

In terminate_connection method, if the host can't be found in the
storage and the lun type is non-replication, driver will log an error
instead of raising an exception and the return value should be
lowercase.

Change-Id: Idf4e9b966a1b0f9154ca600e088ceb6929a1fb0e
Closes-Bug: 1776227
"
openstack%2Foslo.messaging~stable%2Frocky~I1950b17bf99ee1ba91334c54b65e746764ae4ea8,openstack/oslo.messaging,stable/rocky,create-rocky,I1950b17bf99ee1ba91334c54b65e746764ae4ea8,Update .gitreview for stable/rocky,MERGED,2018-07-26 12:38:41.000000000,2018-08-01 22:00:27.000000000,2018-08-01 22:00:27.000000000,1,0,0,586137,7b06086f569b6a5e0bb7b2eda60d5d6a657d63ae,7,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/rocky

Change-Id: I1950b17bf99ee1ba91334c54b65e746764ae4ea8
"
openstack%2Fansible-role-tripleo-modify-image~master~I3389f31ed7182d07e72e967e81a8e6afc147508e,openstack/ansible-role-tripleo-modify-image,master,tripleo/update,I3389f31ed7182d07e72e967e81a8e6afc147508e,Use release-openstack-server job-template,MERGED,2018-08-01 15:20:19.000000000,2018-08-01 21:54:25.000000000,2018-08-01 21:54:25.000000000,1,1,0,587848,3b4e2e64e45bfc8363dbb40ba68c52b8fa9b080a,8,4,1,1,3153,Emilien Macchi,emilienm,"Use release-openstack-server job-template

We don't want these roles pushed to pypi, so no need to try uploading
them. This template is the same as publish-to-pypi except it's not
pushing the project to pypy.

Change-Id: I3389f31ed7182d07e72e967e81a8e6afc147508e
"
openstack%2Fcinder~master~Ie5a9753439b7d4d9959e1c59342ad76238276ba1,openstack/cinder,master,bug1783478,Ie5a9753439b7d4d9959e1c59342ad76238276ba1,IBM XIV and DS8K: Update document for Rocky release:,MERGED,2018-07-25 06:26:30.000000000,2018-08-01 21:52:52.000000000,2018-08-01 21:52:51.000000000,581,55,13,585645,1675c91a105c1d4fbc99b68afcae5d10f84cadb1,71,32,3,1,18288,Yu Zhang,ivyzhang,"IBM XIV and DS8K: Update document for Rocky release:

Add detailed configuration information and feature user guide.

Change-Id: Ie5a9753439b7d4d9959e1c59342ad76238276ba1
"
openstack%2Fcinder~master~Ifca9ca04dfa8eca987dc44ec23cda5e0d431cba2,openstack/cinder,master,bootable,Ifca9ca04dfa8eca987dc44ec23cda5e0d431cba2,Set bootable when creating volume from snapshot,MERGED,2018-07-24 07:45:28.000000000,2018-08-01 21:52:47.000000000,2018-08-01 21:52:47.000000000,55,1,1,585162,b622a17e2915f41098462c53e2d94716c1d01115,168,42,6,2,28452,caixiaoyu,caixiaoyu,"Set bootable when creating volume from snapshot

When creating a volume from a snapshot of a bootable volume the
bootable setting is ignored. This changes the creation logic so
when snapshot_id is not None, bootable can be set to be the same
as the snapshot's source_volume.

Change-Id: Ifca9ca04dfa8eca987dc44ec23cda5e0d431cba2
"
openstack%2Fopenstack-ansible~stable%2Fqueens~I853b1adfaf978c103105245287ab42bc8ec007d5,openstack/openstack-ansible,stable/queens,bug/1784369,I853b1adfaf978c103105245287ab42bc8ec007d5,Add retries to collect ID's for nova services,MERGED,2018-07-31 17:45:05.000000000,2018-08-01 21:39:58.000000000,2018-08-01 21:39:58.000000000,3,0,0,587563,122b75b033f89d15fef0620002223707a3f98c3d,7,3,1,1,28008,Guilherme,guilhermesp,"Add retries to collect ID's for nova services

Due to a report of a transient error while collecting
the Id's for the nova services to delete, this patch aims
to add retries in the task referred to avoid eventual errors
during its execution.

Change-Id: I853b1adfaf978c103105245287ab42bc8ec007d5
Closes-Bug: 1784369
"
openstack%2Fopenstack-helm-infra~master~Ie3dd8f3db733b038606379b77858f03650f11577,openstack/openstack-helm-infra,master,helm/2.10.x,Ie3dd8f3db733b038606379b77858f03650f11577,DNM: Helm 2.10.x,ABANDONED,2018-07-16 14:30:16.000000000,2018-08-01 21:34:24.000000000,,8,4,0,582965,52624a1bab47429f4407776862550230703dc778,14,1,7,8,23928,Pete Birley,portdirect,"DNM: Helm 2.10.x

This PS update to use helm 2.10.x

Change-Id: Ie3dd8f3db733b038606379b77858f03650f11577
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Ftripleo-common~master~I67f88c41d75352a7c12e9ce162d5759667b064a1,openstack/tripleo-common,master,bug/1783740,I67f88c41d75352a7c12e9ce162d5759667b064a1,Set trash_output for ceph-ansible playbook run,MERGED,2018-07-26 10:02:29.000000000,2018-08-01 21:28:33.000000000,2018-08-01 21:12:11.000000000,1,0,0,586036,e9b02d10a416c6951bee680ca0d7f6ae4f096712,30,8,3,1,6796,Giulio Fidente,gfidente,"Set trash_output for ceph-ansible playbook run

Prevent Mistral from saving the entire execution output into its
own database.

Change-Id: I67f88c41d75352a7c12e9ce162d5759667b064a1
Closes-Bug: #1783740
"
openstack%2Fopenstack-ansible-os_octavia~master~If7e3712dd70eb083b5dffc98e0c981ec4f513533,openstack/openstack-ansible-os_octavia,master,move-mq-setup-into-roles,If7e3712dd70eb083b5dffc98e0c981ec4f513533,Move MQ vhost/user creation into role,MERGED,2018-07-17 21:08:09.000000000,2018-08-01 21:26:41.000000000,2018-08-01 21:26:41.000000000,79,32,5,583388,b6d495c9c9f7cf6181414c218d5e1cd24615a179,39,5,11,6,6816,Jesse Pretorius,jesse-pretorius,"Move MQ vhost/user creation into role

There is no record for why we implement the MQ vhost/user creation
outside of the role in the playbook, when we could do it inside the
role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we implement two new variables:
- octavia_oslomsg_rpc_setup_host
- octavia_oslomsg_notify_setup_host

These are used in the role to allow delegation of the MQ vhost/user
setup for each type to any host, but they default to using the first
member of the applicable oslomsg host group.

We also adjust some of the defaults to automatically inherit existing
vars set in group_vars form the integrated build so that we do not
need to do the wiring in the integrated build's group vars. We still
default them in the role too for independent role usage.

Finally, we remove the test mq setup tasks and clean up any unused
or unnecessary variables configured in tests.

We also rename the ubuntu-16.04.yml file to ubuntu.yml to cover both
xenial and bionic. This has become necessary because the
'Gather variables for each operating system' task in the galera_client
role is picking up this role's vars file instead of its own.

Change-Id: If7e3712dd70eb083b5dffc98e0c981ec4f513533
"
openstack%2Foslo.cache~master~Ic5d8165be352c990e9595f8b3f455b7e6b179041,openstack/oslo.cache,master,reno-rocky,Ic5d8165be352c990e9595f8b3f455b7e6b179041,Update reno for stable/rocky,MERGED,2018-07-26 12:37:00.000000000,2018-08-01 21:10:42.000000000,2018-08-01 21:10:42.000000000,7,0,0,586118,1cedba0c15a8d2ffbb280c0f4fc5f38ac505a86d,6,2,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: Ic5d8165be352c990e9595f8b3f455b7e6b179041
"
openstack%2Fosc-lib~master~Ia53de701e21359ac96b0569b9da600a58448b03f,openstack/osc-lib,master,reno-rocky,Ia53de701e21359ac96b0569b9da600a58448b03f,Update reno for stable/rocky,MERGED,2018-07-26 12:36:33.000000000,2018-08-01 21:10:25.000000000,2018-08-01 21:10:25.000000000,7,0,0,586112,049a006f15bcac387a2dcdceb5275f04beb4e11e,6,2,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: Ia53de701e21359ac96b0569b9da600a58448b03f
"
openstack%2Fautomaton~master~I3449260fc178c5ae61d0040b0d5bf82b055a37c6,openstack/automaton,master,reno-rocky,I3449260fc178c5ae61d0040b0d5bf82b055a37c6,Update reno for stable/rocky,MERGED,2018-07-26 12:32:33.000000000,2018-08-01 21:10:09.000000000,2018-08-01 21:10:09.000000000,7,0,0,586066,4daf4215b1df7bd70c5f2b2d51b3098991872ef9,6,2,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: I3449260fc178c5ae61d0040b0d5bf82b055a37c6
"
openstack%2Foslo.privsep~master~Idfbeb3d9918304467d6d9d714b6327f3f502945c,openstack/oslo.privsep,master,reno-rocky,Idfbeb3d9918304467d6d9d714b6327f3f502945c,Update reno for stable/rocky,MERGED,2018-07-26 12:39:27.000000000,2018-08-01 21:10:06.000000000,2018-08-01 21:10:06.000000000,7,0,0,586149,aea141ed58eb7e55752e662eaab068566ab4df0c,6,2,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: Idfbeb3d9918304467d6d9d714b6327f3f502945c
"
openstack%2Foslo.service~master~Iccf0a696912986963b0812ae843a8f26872ef528,openstack/oslo.service,master,reno-rocky,Iccf0a696912986963b0812ae843a8f26872ef528,Update reno for stable/rocky,MERGED,2018-07-26 12:40:21.000000000,2018-08-01 21:10:05.000000000,2018-08-01 21:10:05.000000000,7,0,0,586161,9b3e6ad77e8eb281920c25fa549d248646037cc7,6,2,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: Iccf0a696912986963b0812ae843a8f26872ef528
"
openstack%2Foslo.middleware~master~I85c956d727c9bbdb4df2eb89316c248874993c26,openstack/oslo.middleware,master,reno-rocky,I85c956d727c9bbdb4df2eb89316c248874993c26,Update reno for stable/rocky,MERGED,2018-07-26 12:38:59.000000000,2018-08-01 21:09:40.000000000,2018-08-01 21:09:40.000000000,7,0,0,586142,4b138279211f33380c1b85f40784be8fa2e20ec9,7,3,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: I85c956d727c9bbdb4df2eb89316c248874993c26
"
openstack%2Foslo.reports~master~I00f829478576592c1829c8f118e7a2b70ba41ff5,openstack/oslo.reports,master,reno-rocky,I00f829478576592c1829c8f118e7a2b70ba41ff5,Update reno for stable/rocky,MERGED,2018-07-26 12:39:41.000000000,2018-08-01 21:09:34.000000000,2018-08-01 21:09:34.000000000,7,0,0,586152,381f9f15e348959226d4e111477a9df64915782e,7,3,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: I00f829478576592c1829c8f118e7a2b70ba41ff5
"
openstack%2Foslo.serialization~master~Iba4de649c19c1e459af2f6b27fc6356149c131b0,openstack/oslo.serialization,master,reno-rocky,Iba4de649c19c1e459af2f6b27fc6356149c131b0,Update reno for stable/rocky,MERGED,2018-07-26 12:40:07.000000000,2018-08-01 21:09:31.000000000,2018-08-01 21:09:30.000000000,7,0,0,586158,2af0c0e0d97e10d280b222aa47e34c985f33aeab,6,2,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: Iba4de649c19c1e459af2f6b27fc6356149c131b0
"
openstack%2Ftaskflow~master~I183f46e8665149e06978f292a2986393d7d7dc2f,openstack/taskflow,master,reno-rocky,I183f46e8665149e06978f292a2986393d7d7dc2f,Update reno for stable/rocky,MERGED,2018-07-26 12:43:00.000000000,2018-08-01 21:09:22.000000000,2018-08-01 21:09:22.000000000,7,0,0,586193,a456622fac6c4a5e4dd564c8d5280aa8fb0c8147,7,3,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: I183f46e8665149e06978f292a2986393d7d7dc2f
"
openstack%2Foslotest~master~I0fea635e0677c6b06a6ba214d6b3830eb1cc9114,openstack/oslotest,master,reno-rocky,I0fea635e0677c6b06a6ba214d6b3830eb1cc9114,Update reno for stable/rocky,MERGED,2018-07-26 12:41:18.000000000,2018-08-01 21:08:31.000000000,2018-08-01 21:08:31.000000000,7,0,0,586173,5a4841b6c24d980b8bfc65f822606bb8ff84f1d3,7,3,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: I0fea635e0677c6b06a6ba214d6b3830eb1cc9114
"
openstack%2Foslo.i18n~master~Ia386fae51ea6846a04459fe964f6754114578862,openstack/oslo.i18n,master,reno-rocky,Ia386fae51ea6846a04459fe964f6754114578862,Update reno for stable/rocky,MERGED,2018-07-26 12:38:12.000000000,2018-08-01 21:08:28.000000000,2018-08-01 21:08:28.000000000,7,0,0,586133,1e9f9596b2454ee5b1876a2da28af10d8336f302,7,3,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: Ia386fae51ea6846a04459fe964f6754114578862
"
openstack%2Fpython-openstackclient~master~Ieb4130d9f9d420fb3b858b6972a1f2a896fa7fc4,openstack/python-openstackclient,master,reno-rocky,Ieb4130d9f9d420fb3b858b6972a1f2a896fa7fc4,Update reno for stable/rocky,MERGED,2018-07-26 08:58:15.000000000,2018-08-01 21:08:23.000000000,2018-08-01 21:08:23.000000000,7,0,0,586006,2b62b6e6ecb5fbb6d3078a3f7737364e13ec4e6c,6,2,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: Ieb4130d9f9d420fb3b858b6972a1f2a896fa7fc4
"
openstack%2Fdebtcollector~master~If10ef7da6241f8dbe9ec2f1e59368705276b64d3,openstack/debtcollector,master,reno-rocky,If10ef7da6241f8dbe9ec2f1e59368705276b64d3,Update reno for stable/rocky,MERGED,2018-07-26 12:33:12.000000000,2018-08-01 21:07:24.000000000,2018-08-01 21:07:24.000000000,7,0,0,586074,bd14fce1c5801319889eaeb7382aca94aca38519,6,2,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: If10ef7da6241f8dbe9ec2f1e59368705276b64d3
"
openstack%2Foslo.versionedobjects~master~Ib44a6fd8d96481c9c9585e1e0cffadb8f1cb92e4,openstack/oslo.versionedobjects,master,reno-rocky,Ib44a6fd8d96481c9c9585e1e0cffadb8f1cb92e4,Update reno for stable/rocky,MERGED,2018-07-26 12:40:49.000000000,2018-08-01 21:07:15.000000000,2018-08-01 21:07:15.000000000,7,0,0,586167,ab9eb32601b7cb3bc19c9fad2c7d619a3eae3848,7,3,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: Ib44a6fd8d96481c9c9585e1e0cffadb8f1cb92e4
"
openstack%2Foslo.utils~master~I8346274c8dc281f18ae7938334adec6d5dd3780f,openstack/oslo.utils,master,reno-rocky,I8346274c8dc281f18ae7938334adec6d5dd3780f,Update reno for stable/rocky,MERGED,2018-07-26 12:40:35.000000000,2018-08-01 21:06:40.000000000,2018-08-01 21:06:40.000000000,7,0,0,586164,d3ef97c42e81c5429d5516e5eae2dc0d40b2ff84,7,3,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: I8346274c8dc281f18ae7938334adec6d5dd3780f
"
openstack%2Foslo.vmware~master~Iabb08a1fd55e9f31d014479a6584595971734563,openstack/oslo.vmware,master,reno-rocky,Iabb08a1fd55e9f31d014479a6584595971734563,Update reno for stable/rocky,MERGED,2018-07-26 12:41:04.000000000,2018-08-01 21:04:41.000000000,2018-08-01 21:04:41.000000000,7,0,0,586170,a2bcf80fbcfa4f78ea8de9df97649c5b51a166ab,8,4,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: Iabb08a1fd55e9f31d014479a6584595971734563
"
openstack%2Foslo.messaging~master~I1a8834b95487805805395e919e2c6cdc435522b0,openstack/oslo.messaging,master,reno-rocky,I1a8834b95487805805395e919e2c6cdc435522b0,Update reno for stable/rocky,MERGED,2018-07-26 12:38:45.000000000,2018-08-01 20:57:30.000000000,2018-08-01 20:57:30.000000000,7,0,0,586139,59c47233f539a8feaddbc7179d0800cd017571ad,7,3,1,2,22816,OpenStack Release Bot,release,"Update reno for stable/rocky

Change-Id: I1a8834b95487805805395e919e2c6cdc435522b0
"
openstack%2Fheat~master~I7c7dab88d269f92c66b3f68352a6913aa244fdfc,openstack/heat,master,add-doc-for-migrated-to-storyboard,I7c7dab88d269f92c66b3f68352a6913aa244fdfc,Add StoryBoard migration docs and releasenote,MERGED,2018-05-05 04:44:39.000000000,2018-08-01 20:55:32.000000000,2018-08-01 20:55:32.000000000,61,53,27,566428,6f5e393a9bb4f8c1acc8fe90ff1c102b355cd083,27,5,9,8,12404,Rico Lin,rico.lin,"Add StoryBoard migration docs and releasenote

Heat curent bug/bluepint reports are migrated from Launchpad to
StoryBoard [1]. If you like to create a new story(a bug or a bluepint),
please file it under [2]. For more detail, please reference [3]. This
change applied to all heat projects.
This patch Add documents and guideline link to StoryBoard.
Also add releasenote to showing migration message.

[1] https://storyboard.openstack.org/#!/project_group/82
[2] https://storyboard.openstack.org/#!/project/989
[3] https://etherpad.openstack.org/p/Heat-StoryBoard-Migration-Info

Change-Id: I7c7dab88d269f92c66b3f68352a6913aa244fdfc
"
openstack%2Fopenstack-helm~master~I73d71a8d10b99420d3f1c69be476cf7ca4927951,openstack/openstack-helm,master,libvirt/config,I73d71a8d10b99420d3f1c69be476cf7ca4927951,Libvirt: allow the libvirt config to include list params,MERGED,2018-08-01 14:29:59.000000000,2018-08-01 20:49:02.000000000,2018-08-01 20:48:52.000000000,55,3,0,587837,2b20d818a8bbe8c65b97f30b7e066f5253ec18dc,13,6,2,2,23928,Pete Birley,portdirect,"Libvirt: allow the libvirt config to include list params

This PS udpates the libvirt chart to correctly handle listed params.

Change-Id: I73d71a8d10b99420d3f1c69be476cf7ca4927951
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fnova~master~I7e0658e681ead30c241ad39baa0fd4334e5a86a1,openstack/nova,master,delete_orphan_nodes_after_uarfn,I7e0658e681ead30c241ad39baa0fd4334e5a86a1,Delete orphan compute nodes before updating resources,MERGED,2018-07-03 16:55:04.000000000,2018-08-01 20:48:02.000000000,2018-08-01 01:41:39.000000000,3,3,5,579922,16b20e2e6ba3da518949649bd8f6c226ea4e8703,51,25,3,1,14070,Eric Fried,efried,"Delete orphan compute nodes before updating resources

We were previously deleting orphan nodes before running the code path
that hits update_[from_]provider_tree.  This meant that, if there were
nodes that needed to be cleaned up, they would still show up in the
provider tree and we would be trying to update their ancillary info
(aggregates, traits, etc.).

With this change set, we delete these providers before running the
update path, so they should be gone from the provider tree and we won't
try to muck with them.

Existing unit test coverage in
nova.tests.unit.compute.test_compute[_mgr] already validates these code
paths; and we validated that the reorder fixes ironic via [1], PS13-15.

[1] https://review.openstack.org/#/c/514312/

Change-Id: I7e0658e681ead30c241ad39baa0fd4334e5a86a1
"
openstack%2Fkeystone~master~I8363f265faacb9ad5783b12d4a64b570b9af46f0,openstack/keystone,master,bug/1780503,I8363f265faacb9ad5783b12d4a64b570b9af46f0,Expose random uuid bug in cadf notifications,MERGED,2018-07-06 23:15:54.000000000,2018-08-01 20:32:14.000000000,2018-08-01 20:32:14.000000000,19,0,5,580780,fe5cdc6732fc0102c9e55d45da0bb28c248bebca,28,7,7,1,21420,Gage Hugo,ghugo,"Expose random uuid bug in cadf notifications

When enabling CADF notifications and clearing the notification_opt_out
setting[0] (which cause keystone to be more chatty with notifications)
in order to audit identity.authenticate events, keystone emits a
notification for the identity.authentication event where the
initiator's ID is a random UUID that doesn't match up to the user
who authenticated.

This was noticed when users would log into horizon and from the audit
notification, it could not be determined which user was logging in.

This appears to be true for only the authentication event, other
events such as project CRUD appear to work as intended.

[0] https://github.com/openstack/keystone/blob/master/keystone/conf/default.py#L221

Change-Id: I8363f265faacb9ad5783b12d4a64b570b9af46f0
Related-Bug: #1780503
"
openstack%2Fkeystone~master~I97e07cbebb4e97df4b38899037e97ce3f34b9e03,openstack/keystone,master,bug/1776504,I97e07cbebb4e97df4b38899037e97ce3f34b9e03,Move validate_issue_token_auth from controllers,MERGED,2018-07-20 18:38:34.000000000,2018-08-01 20:32:12.000000000,2018-08-01 20:32:12.000000000,60,58,0,584485,f5c9b094af8442219e75265a87551873e058003b,20,6,5,3,2903,Morgan Fainberg,mdrnstm,"Move validate_issue_token_auth from controllers

For the move to flask, and to ensure there are no test changes,
this changeset moves `validate_issue_token_auth` from controllers to
the auth.schema module (as it is clearly about validation).

Change-Id: I97e07cbebb4e97df4b38899037e97ce3f34b9e03
Partial-Bug: #1776504
"
openstack%2Fmanila~stable%2Focata~I95e99b26f416bbf25cfd1c8f7295f3ba6220efb3,openstack/manila,stable/ocata,bug/1776947-stable/queens-stable/pike-stable/ocata,I95e99b26f416bbf25cfd1c8f7295f3ba6220efb3,Remove confusing DB deprecation messages,MERGED,2018-06-23 11:15:35.000000000,2018-08-01 20:18:25.000000000,2018-08-01 20:18:24.000000000,10,12,0,577615,ca0799125ff5a64a7e59772a2edeb4b6242615f0,16,6,1,2,9003,Tom Barron,tbarron,"Remove confusing DB deprecation messages

When share instances were introduced a number of fields
were moved in the database model to the underlying share instance
and proxied back to the share in order to maintain compatability
with APIs that assume these to belong to the share.  A deprecation
warning was added for these.  The warning spams the API log and
confuses end users because it sounds like they or their client
should make a change to get rid of them and that cannot actually
be done.  The API would have to change to expose share instances
to end users rather than just administrators and that is not
something that we plan to do.

Remove these confusing warnings.

Closes-Bug: #1776947

Change-Id: I95e99b26f416bbf25cfd1c8f7295f3ba6220efb3
(cherry picked from commit 8bdbbd86ae8efe05950ad0651c40aa17c8ec71c7)
(cherry picked from commit 0c182bca8671dff0296899eef05ac0c473b1a115)
"
openstack%2Fopenstack-ansible-os_masakari~master~I17d6b412a79da110eeabe545385129baa9ea4d63,openstack/openstack-ansible-os_masakari,master,fix-masakari-role,I17d6b412a79da110eeabe545385129baa9ea4d63,Use masakari_service_* vars consistently,MERGED,2018-07-27 14:39:19.000000000,2018-08-01 20:18:23.000000000,2018-08-01 20:18:23.000000000,5,5,0,586585,853cece39e00b57ae659f677e80bec235c2887df,22,4,2,1,6816,Jesse Pretorius,jesse-pretorius,"Use masakari_service_* vars consistently

The conf file was hard-coded, instead of using the right
vars. We fix that.

Change-Id: I17d6b412a79da110eeabe545385129baa9ea4d63
Co-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>
"
openstack%2Fopenstack-ansible-os_masakari~master~Ibf579b6655ddee5cfc8c32ad6a500b4dc85468a8,openstack/openstack-ansible-os_masakari,master,fix-masakari-role,Ibf579b6655ddee5cfc8c32ad6a500b4dc85468a8,Use masakari_log_dir consistently,MERGED,2018-07-27 14:32:56.000000000,2018-08-01 20:18:22.000000000,2018-08-01 20:18:22.000000000,5,26,0,586580,0f82dd312f8ce53e1f55638723ad94f232cd3f9f,23,4,3,3,6816,Jesse Pretorius,jesse-pretorius,"Use masakari_log_dir consistently

The variable is not used consistently. We fix every reference
to '/var/log/masakari' to refer to masakari_log_dir instead.

We also simplify the task which creates it to work whether
there is a symlink there or not.

Co-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>
Change-Id: Ibf579b6655ddee5cfc8c32ad6a500b4dc85468a8
"
openstack%2Fopenstack-ansible-os_masakari~master~I48eac7ffa55717fc57d0287719edbd56bcf21fac,openstack/openstack-ansible-os_masakari,master,fix-masakari-role,I48eac7ffa55717fc57d0287719edbd56bcf21fac,Use masakari_etc_dir consistently,MERGED,2018-07-27 14:32:56.000000000,2018-08-01 20:18:21.000000000,2018-08-01 20:18:20.000000000,5,5,0,586579,6b3a4e9048fde5955dcf2b8924762f07cdedd31d,23,4,3,3,6816,Jesse Pretorius,jesse-pretorius,"Use masakari_etc_dir consistently

The variable is not used consistently. We fix every reference
to '/etc/masakari' to refer to masakari_etc_dir instead.

Co-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>
Change-Id: I48eac7ffa55717fc57d0287719edbd56bcf21fac
"
openstack%2Fopenstack-ansible-os_masakari~master~I434caf7d40385d481321c19748d91ecdcb6ae12e,openstack/openstack-ansible-os_masakari,master,fix-masakari-role,I434caf7d40385d481321c19748d91ecdcb6ae12e,Use masakari-api group for setup tasks,MERGED,2018-07-27 13:58:09.000000000,2018-08-01 20:18:19.000000000,2018-08-01 20:18:19.000000000,6,5,0,586566,b0c609f90eaabf7211b9d92b2ae50d6b316fd2de,24,4,2,1,6816,Jesse Pretorius,jesse-pretorius,"Use masakari-api group for setup tasks

Rather than use the 'all' group, use the masakari-api group.
This will becoe more important when the role extends to also
apply to compute nodes.

Co-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>
Change-Id: I434caf7d40385d481321c19748d91ecdcb6ae12e
"
openstack%2Fnova~master~I17081666db55e2cca21852bb5f520accb2c807a2,openstack/nova,master,remove-ResourceClass-V1_0,I17081666db55e2cca21852bb5f520accb2c807a2,Nix unused raise_if_custom_resource_class_pre_v1_1,MERGED,2018-06-15 20:49:37.000000000,2018-08-01 20:18:14.000000000,2018-08-01 20:18:14.000000000,0,24,2,575847,8de155f81748f20a9d7aee63d444d1c59e1dda06,85,21,4,2,14070,Eric Fried,efried,"Nix unused raise_if_custom_resource_class_pre_v1_1

The only reference to
nova.db.sqlalchemy.resource_class_cache.raise_if_custom_resource_class_pre_v1_1
was removed in Ideca0f09f5dc4ba6bb194a2413ed93cf592dd963.  This was also the
only place nova.rc_fields.ResourceClass.V1_0 was used.  This patch removes
both.

Change-Id: I17081666db55e2cca21852bb5f520accb2c807a2
"
openstack%2Fansible-role-redhat-subscription~master~I116fcdde7fe0b43ddab15cc9f3240faf130ed537,openstack/ansible-role-redhat-subscription,master,zuul/update,I116fcdde7fe0b43ddab15cc9f3240faf130ed537,Use release-openstack-server job-template,MERGED,2018-08-01 14:55:45.000000000,2018-08-01 20:09:22.000000000,2018-08-01 20:09:22.000000000,1,1,0,587842,f42c8a9a0c0921e6e54d02d2638097cff57dc389,8,4,1,1,3153,Emilien Macchi,emilienm,"Use release-openstack-server job-template

We don't want these roles pushed to pypi, so no need to try uploading
them. This template is the same as publish-to-pypi except it's not
pushing the project to pypy.

Change-Id: I116fcdde7fe0b43ddab15cc9f3240faf130ed537
"
openstack%2Fopenstack-ansible-os_masakari~master~I28ba50fc0b675dcb9241f97f3930e4fb33ac4c2e,openstack/openstack-ansible-os_masakari,master,fix-masakari-role,I28ba50fc0b675dcb9241f97f3930e4fb33ac4c2e,Add missing masakari_venv_download_url default,MERGED,2018-07-27 13:58:09.000000000,2018-08-01 20:06:50.000000000,2018-08-01 20:06:50.000000000,2,1,0,586565,e517634e1ec282733ccfcb4d0b66b364175d70f8,24,4,2,1,6816,Jesse Pretorius,jesse-pretorius,"Add missing masakari_venv_download_url default

There are references to the masakari_venv_download_url var,
but it's not set anywhere.

Change-Id: I28ba50fc0b675dcb9241f97f3930e4fb33ac4c2e
Co-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>
"
openstack%2Fironic-python-agent~master~I70667d43af962b357e6eeccba258f4fa5a91a09e,openstack/ironic-python-agent,master,story/1749057,I70667d43af962b357e6eeccba258f4fa5a91a09e,Install grub to PReP partition when prep_boot_part_uuid is provided,MERGED,2018-07-16 14:16:10.000000000,2018-08-01 20:02:12.000000000,2018-08-01 20:02:11.000000000,124,15,2,582962,b32750f5c4caed282050f7689421579670112b2e,26,5,6,7,11929,Michael Turek,mjturek,"Install grub to PReP partition when prep_boot_part_uuid is provided

Installs the grub bootloader to the PreP Boot partition when the
prep_boot_partition_uuid is provided. This is required when
booting a partition image locally on ppc64* systems.

This change also passes the cpu_arch along to work_on_disk so
that the PReP partition is created when partitioning disks for
local boot on ppc64* systems,

Change-Id: I70667d43af962b357e6eeccba258f4fa5a91a09e
Depends-On: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc
Story: #1749057
Task: #22999
"
openstack%2Fironic~master~I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc,openstack/ironic,master,story/1749057,I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc,Pass prep_boot_part_uuid to install_bootloader for ppc64* partition images,MERGED,2018-06-29 13:36:31.000000000,2018-08-01 20:02:09.000000000,2018-08-01 20:02:09.000000000,199,36,14,579159,8f89954f9a3edab71db1157578e9d029a395d2d9,78,11,9,13,11929,Michael Turek,mjturek,"Pass prep_boot_part_uuid to install_bootloader for ppc64* partition images

This patch gets the PReP Boot partition UUID when performing a local boot
partition image deployment on ppc64* hardware.

Depends-On: I8f9748dd58146bfb2411c229b02969e0faf18222
Change-Id: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc
Story: #1749057
Task: #22995
"
openstack%2Fopenstack-ansible-os_octavia~master~Ie4bfbdb7b13e05179ffab38242a74c18bb5203b2,openstack/openstack-ansible-os_octavia,master,bionic-vars,Ie4bfbdb7b13e05179ffab38242a74c18bb5203b2,Use generic vars file for ubuntu,ABANDONED,2018-07-27 21:32:51.000000000,2018-08-01 20:00:16.000000000,,0,0,0,586705,7b751b3142d638bb6029f5ef8f1ed0aab3fbf650,11,4,2,1,25023,Jonathan Rosser,jrosser,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: Ie4bfbdb7b13e05179ffab38242a74c18bb5203b2
"
openstack%2Frequirements~master~If1c968af9638b39ca9d7f949de0ff4ff1346f981,openstack/requirements,master,new-release,If1c968af9638b39ca9d7f949de0ff4ff1346f981,update constraint for python-cinderclient to new release 4.0.1,MERGED,2018-08-01 16:23:17.000000000,2018-08-01 19:58:33.000000000,2018-08-01 19:58:32.000000000,1,1,0,587875,5c3d0e1395ea56d661029aefa00d710dff52adb0,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for python-cinderclient to new release 4.0.1

Change-Id: If1c968af9638b39ca9d7f949de0ff4ff1346f981
meta:version: 4.0.1
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Jay S. Bryant <jungleboyj@electronicjungle.net>
meta:release:Commit: Jay S. Bryant <jungleboyj@electronicjungle.net>
meta:release:Change-Id: Iaa44388a19c5a09d9363fe7175552ea6ac813a09
meta:release:Code-Review+1: Ivan Kolodyazhny <e0ne@e0ne.info>
meta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fpython-dracclient~master~Ia1f02fd2f8a25efa8bb924bd9d50394cbf5d2034,openstack/python-dracclient,master,schedule_job,Ia1f02fd2f8a25efa8bb924bd9d50394cbf5d2034,Add ability to schedule jobs,MERGED,2018-06-25 20:39:23.000000000,2018-08-01 19:54:27.000000000,2018-08-01 19:54:27.000000000,447,32,32,577925,dcf4e2d2801ebb0b8e617d0bccd46c72810ce353,27,7,5,7,28370,Mark Beierl,mbeierl,"Add ability to schedule jobs

Adds an optional start time to allow configuration changes
to be scheduled for a future time.

Co-Authored-By: Christopher Dearborn <christopher.dearborn@dell.com>
Co-Authored-By: Richard G. Pioso <richard.pioso@dell.com>
Change-Id: Ia1f02fd2f8a25efa8bb924bd9d50394cbf5d2034
"
openstack%2Fopenstack-ansible-os_nova~master~I7c885974295fa6df3005b68210fc9e3442296ac1,openstack/openstack-ansible-os_nova,master,bp/python-build-install-simplification,I7c885974295fa6df3005b68210fc9e3442296ac1,Remove python-keystoneclient package install,MERGED,2018-08-01 09:07:03.000000000,2018-08-01 19:37:02.000000000,2018-08-01 19:37:02.000000000,0,3,0,587733,b18668360c88abb100b2d223c00fcda97dfd4b4c,11,4,1,3,6816,Jesse Pretorius,jesse-pretorius,"Remove python-keystoneclient package install

Now that we no longer use our own keystone module, but
instead make use of the ansible runtime venv's shade
library and upstream ansible modules, we can eliminate
this package/library being installed on the host.

Change-Id: I7c885974295fa6df3005b68210fc9e3442296ac1
"
openstack%2Fgoal-tools~master~I99e4b7670319a9d554ee6f2535f36b20dda486db,openstack/goal-tools,master,python3-first,I99e4b7670319a9d554ee6f2535f36b20dda486db,ensure all commits refer to the goal document,MERGED,2018-08-01 18:28:49.000000000,2018-08-01 19:36:28.000000000,2018-08-01 19:36:28.000000000,4,1,0,587970,1d9a34c1da899ce2a53a111691c0a12d85b1a680,6,2,1,2,2472,Doug Hellmann,doug-hellmann,"ensure all commits refer to the goal document

Link to the published version of the document instead of the change
proposing the goal.

Change-Id: I99e4b7670319a9d554ee6f2535f36b20dda486db
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fgoal-tools~master~I70484f06a205dbed0d22f38805fc26e909c7c0fa,openstack/goal-tools,master,python3-first,I70484f06a205dbed0d22f38805fc26e909c7c0fa,improve summary in propose.sh,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:44.000000000,2018-08-01 19:34:44.000000000,25,16,0,587943,e4fdb3b0710e725ea28a7fd3c3d95dc729b62afe,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"improve summary in propose.sh

Change-Id: I70484f06a205dbed0d22f38805fc26e909c7c0fa
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fgoal-tools~master~Ib9cc122abfac23bff6ac2a45b939de8deffdfcdc,openstack/goal-tools,master,python3-first,Ib9cc122abfac23bff6ac2a45b939de8deffdfcdc,change log file names,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:44.000000000,2018-08-01 19:34:43.000000000,21,11,0,587942,dbc9e761605138bef5e460c3bb82116a2a65a252,6,2,1,2,2472,Doug Hellmann,doug-hellmann,"change log file names

log inside the team output directory to make cleanup easier

Change-Id: Ib9cc122abfac23bff6ac2a45b939de8deffdfcdc
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fgoal-tools~master~I384c358846a5719a125138012f6aa4116bf678da,openstack/goal-tools,master,python3-first,I384c358846a5719a125138012f6aa4116bf678da,use published goal URL,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:43.000000000,2018-08-01 19:34:43.000000000,5,9,0,587941,2b975c0e03044ebc199b6f54907def876b239d24,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"use published goal URL

There is no need to make the goal URL an argument to do_team, since it
will not change.

Change-Id: I384c358846a5719a125138012f6aa4116bf678da
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fgoal-tools~master~I6be51a0d50b7d82fa1921fc3ff35bac8048435b3,openstack/goal-tools,master,python3-first,I6be51a0d50b7d82fa1921fc3ff35bac8048435b3,include story ids in commit messages,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:42.000000000,2018-08-01 19:34:42.000000000,56,17,0,587940,9115f1e0894fe4e9c510af274fea2f2bb619f497,6,2,1,5,2472,Doug Hellmann,doug-hellmann,"include story ids in commit messages

Include the ID of the story in storyboard in the commit messages to
assist with tracking.

We do not include task IDs because there is only going to be one task
per repository and completing a goal for a repository will likely mean
several patches.

Change-Id: I6be51a0d50b7d82fa1921fc3ff35bac8048435b3
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fgoal-tools~master~I8378aeea06ff3b323caa15c7c7a67217e15d2d4a,openstack/goal-tools,master,python3-first,I8378aeea06ff3b323caa15c7c7a67217e15d2d4a,report the repo used when adding a task to a story,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:42.000000000,2018-08-01 19:34:41.000000000,2,1,0,587939,e39c405a0f66f907985b8d0996e90789d0340fcc,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"report the repo used when adding a task to a story

Change-Id: I8378aeea06ff3b323caa15c7c7a67217e15d2d4a
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fgoal-tools~master~Ifa37bd47ecb4fa14650df67f33ee0a3905ced337,openstack/goal-tools,master,python3-first,Ifa37bd47ecb4fa14650df67f33ee0a3905ced337,add find-story cli tool,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:36.000000000,2018-08-01 19:34:35.000000000,90,0,0,587938,ba01fefe6aa9ee9f2a94148430f88c5db7165206,6,2,1,2,2472,Doug Hellmann,doug-hellmann,"add find-story cli tool

Change-Id: Ifa37bd47ecb4fa14650df67f33ee0a3905ced337
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fgoal-tools~master~Ieb03dced4d614ab784869f1d83a4767e13eaa8e4,openstack/goal-tools,master,python3-first,Ieb03dced4d614ab784869f1d83a4767e13eaa8e4,move story functions to their own module,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:35.000000000,2018-08-01 19:34:35.000000000,24,18,0,587937,5e9ca4d108a2b463f43fd960876c8b92e27d9932,6,2,1,2,2472,Doug Hellmann,doug-hellmann,"move story functions to their own module

Move find_or_create_story and refactor it to let us have a find_story
function.

Change-Id: Ieb03dced4d614ab784869f1d83a4767e13eaa8e4
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fgoal-tools~master~Ic69f7b39f096d9c0a9cc5a2eb434a00048b88adc,openstack/goal-tools,master,python3-first,Ic69f7b39f096d9c0a9cc5a2eb434a00048b88adc,make tag handling more robust,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:34.000000000,2018-08-01 19:34:34.000000000,8,1,0,587936,4fbf1078eb30fbabb7298f6bcfb0c3ec7d255e44,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"make tag handling more robust

If no tag is set, do not add anything. If None was accidentally
included in the set of tags before, remove it now. If proposing the
tags results in an error, log it and keep moving.

Change-Id: Ic69f7b39f096d9c0a9cc5a2eb434a00048b88adc
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fgoal-tools~master~I128e8bd1395713f1daa233751a25487cc0fff153,openstack/goal-tools,master,python3-first,I128e8bd1395713f1daa233751a25487cc0fff153,move some goal parsing code into sharable module,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:34.000000000,2018-08-01 19:34:34.000000000,40,25,0,587935,78ce36575853c11b8374d6bcb7c28ac39619babe,6,2,1,2,2472,Doug Hellmann,doug-hellmann,"move some goal parsing code into sharable module

The code for extracting data from a goal document can be reused.

Change-Id: I128e8bd1395713f1daa233751a25487cc0fff153
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fgoal-tools~master~Ic85e947fdbf74b4799e92acda2f8e389fa97d232,openstack/goal-tools,master,python3-first,Ic85e947fdbf74b4799e92acda2f8e389fa97d232,show the changes to be proposed before submitting the patches,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:33.000000000,2018-08-01 19:34:33.000000000,28,0,0,587934,3c6601d1f26f4cd288e1e11d7b1897d204804e86,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"show the changes to be proposed before submitting the patches

Change-Id: Ic85e947fdbf74b4799e92acda2f8e389fa97d232
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fgoal-tools~master~Ibcbc84d1465e1ab87a62884e7076fbade406fb06,openstack/goal-tools,master,python3-first,Ibcbc84d1465e1ab87a62884e7076fbade406fb06,automatically create a log file,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:17.000000000,2018-08-01 19:34:17.000000000,7,0,0,587933,d44c04bd8ea62690f07e7e5fe6e8c379584f63c5,6,2,1,1,2472,Doug Hellmann,doug-hellmann,"automatically create a log file

Log output to a file in the working directory.

Change-Id: Ibcbc84d1465e1ab87a62884e7076fbade406fb06
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fopenstack-ansible-os_masakari~master~Ibf05d527b6dbed8a10ecf0b64cfb161b66295d35,openstack/openstack-ansible-os_masakari,master,move-mq-setup-into-roles,Ibf05d527b6dbed8a10ecf0b64cfb161b66295d35,Move MQ vhost/user creation into role,MERGED,2018-07-17 21:06:09.000000000,2018-08-01 19:27:03.000000000,2018-08-01 19:27:03.000000000,79,32,0,583380,8585cb3d3a7599a0f3b29626e8df45a92b259995,28,4,3,6,6816,Jesse Pretorius,jesse-pretorius,"Move MQ vhost/user creation into role

There is no record for why we implement the MQ vhost/user creation
outside of the role in the playbook, when we could do it inside the
role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we implement two new variables:
- masakari_oslomsg_rpc_setup_host
- masakari_oslomsg_notify_setup_host

These are used in the role to allow delegation of the MQ vhost/user
setup for each type to any host, but they default to using the first
member of the applicable oslomsg host group.

We also adjust some of the defaults to automatically inherit existing
vars set in group_vars form the integrated build so that we do not
need to do the wiring in the integrated build's group vars. We still
default them in the role too for independent role usage.

Finally, we remove the test mq setup tasks and clean up any unused
or unnecessary variables configured in tests.

We also rename the ubuntu-16.04.yml file to ubuntu.yml to cover both
xenial and bionic. This has become necessary because the
'Gather variables for each operating system' task in the galera_client
role is picking up this role's vars file instead of its own.

Change-Id: Ibf05d527b6dbed8a10ecf0b64cfb161b66295d35
"
openstack%2Fopenstack-helm~master~I479bcda89b0be0056717864e79269b8d071d98ec,openstack/openstack-helm,master,policy-fix,I479bcda89b0be0056717864e79269b8d071d98ec,Fix invalid policy rule,MERGED,2018-07-31 22:08:50.000000000,2018-08-01 19:12:15.000000000,2018-08-01 19:12:07.000000000,1,1,0,587648,f57aba1fabc079f0e3cd6e86251935f215f534ae,9,4,1,1,21420,Gage Hugo,ghugo,"Fix invalid policy rule

As reported in OSSN-0083[0], ""get_identity_providers"" is invalid
and should be singular ""get_identity_provider"". The former rule
is ignored, this change to make the rule singular fixes this
issue.

[0] https://wiki.openstack.org/wiki/OSSN/OSSN-0083

Change-Id: I479bcda89b0be0056717864e79269b8d071d98ec
"
openstack%2Fcharm-ceph-mon~master~I34cd8ba1e45b90e60bd9c49d7d3973008bd95559,openstack/charm-ceph-mon,master,bug/1783526,I34cd8ba1e45b90e60bd9c49d7d3973008bd95559,Fix ceph-mon can not print log due to incorrect permission on log file,MERGED,2018-07-25 14:21:22.000000000,2018-08-01 19:05:33.000000000,2018-08-01 19:05:33.000000000,32,0,0,585759,af6478c4b49331e707dc8280cf3f241295164027,19,6,3,1,28759,dondong tao,taodd,"Fix ceph-mon can not print log due to incorrect permission on log file

Change-Id: I34cd8ba1e45b90e60bd9c49d7d3973008bd95559
Signed-off-by: dongdong tao <dongdong.tao@canonical.com>
Closes-Bug: #1783526
"
openstack%2Fnetworking-sfc~master~Ice140536d55042049e7c2fcb129543c4431e0761,openstack/networking-sfc,master,,Ice140536d55042049e7c2fcb129543c4431e0761,Use i18n from the project,MERGED,2018-05-28 14:32:32.000000000,2018-08-01 19:02:44.000000000,2018-08-01 19:02:44.000000000,1,0,0,570792,437af85a59e252e78c37f870a98aea9502f933b4,41,14,2,1,26507,Michel Peterson,mpeterson,"Use i18n from the project

The usage of a global built-in i18n function has been deprecated in
OpenStack.

This patch adapts networking_sfc.extensions.tap to use the in-project
i18n function.

Change-Id: Ice140536d55042049e7c2fcb129543c4431e0761
"
openstack%2Fopenstack-helm-infra~master~If7867c3b3cb31d0af8fb1b968f32de5e1dafb09b,openstack/openstack-helm-infra,master,update_apache_proxies,If7867c3b3cb31d0af8fb1b968f32de5e1dafb09b,WIP: Override elasticsearch vhost with values template,ABANDONED,2018-07-03 20:40:57.000000000,2018-08-01 18:59:41.000000000,,21,18,0,579978,4928121a79003330f79e40820c2850c60bcfaac9,3,1,1,3,17591,Steve Wilkerson,srwilkers,"WIP: Override elasticsearch vhost with values template

Change-Id: If7867c3b3cb31d0af8fb1b968f32de5e1dafb09b
"
openstack%2Fnova~master~I629a9e5f08bc4007ad6fcf6fbd499bf262aeaab1,openstack/nova,master,bug/1777422,I629a9e5f08bc4007ad6fcf6fbd499bf262aeaab1,WIP: Add functional scale test for Stats.__deepcopy__ time,ABANDONED,2018-07-31 19:19:26.000000000,2018-08-01 18:51:07.000000000,,80,0,4,587606,5b67750304a8679cd277949c4ff2478d0c1e5040,12,9,1,1,6873,Matt Riedemann,mriedem,"WIP: Add functional scale test for Stats.__deepcopy__ time

This adds a functional test using the FakeDriver which
creates 100 instances then runs the ResourceTracker's
update_available_resource() routine before and after
using Stats.__deepcopy__ to see the difference.

Change-Id: I629a9e5f08bc4007ad6fcf6fbd499bf262aeaab1
Related-Bug: #1777422
"
openstack%2Ftripleo-heat-templates~master~I575cfa5591d0fb4b3a33f707db0f738840f6cbdf,openstack/tripleo-heat-templates,master,bug/1783520,I575cfa5591d0fb4b3a33f707db0f738840f6cbdf,Set CephX user for Ganesha,MERGED,2018-07-25 09:49:11.000000000,2018-08-01 18:49:29.000000000,2018-08-01 14:17:22.000000000,6,11,1,585695,3ce08a8c605e5c09c20379219be6383afc4fb5b4,20,7,2,1,6796,Giulio Fidente,gfidente,"Set CephX user for Ganesha

Previously Ganesha was assuming client.admin would be available
locally as we did not configure which keyring to use.

Change-Id: I575cfa5591d0fb4b3a33f707db0f738840f6cbdf
Closes-Bug: #1783520
"
openstack%2Fvirtualbmc~master~If49fd2d3c012a1792fe978c77a216a52fc52f6bf,openstack/virtualbmc,master,fix-log-msgs-interpolation,If49fd2d3c012a1792fe978c77a216a52fc52f6bf,Fix log message interpolation bugs,MERGED,2018-08-01 10:49:20.000000000,2018-08-01 18:42:18.000000000,2018-08-01 18:42:18.000000000,37,30,2,587769,9ebc73b63bdae3749565661524d70f530aa7cf75,11,6,3,4,26340,Ilya Etingof,etingof,"Fix log message interpolation bugs

Apparently, variable interpolation in the log
messages turned out to be buggy and inconsistent.
This patch hopefully fixes all such issues and unifies
interpolation code across the project.

Change-Id: If49fd2d3c012a1792fe978c77a216a52fc52f6bf
"
openstack%2Fpuppet-tripleo~stable%2Fpike~Ia3df0d89459cda6cb648cd6dc97bca3492ca04e0,openstack/puppet-tripleo,stable/pike,bug/1746514-stable/pike,Ia3df0d89459cda6cb648cd6dc97bca3492ca04e0,Add panko expirer to configure cron tasks,MERGED,2018-08-01 12:47:50.000000000,2018-08-01 18:36:34.000000000,2018-08-01 18:36:34.000000000,8,0,0,587810,dc7c5a1a2c2f7090a5d82eee273eabc911b3ed4a,8,4,1,1,6924,Pradeep Kilambi,pkilambi,"Add panko expirer to configure cron tasks

Partial-Bug: #1746514

Depends-On:  I23359239008105cd77a599d2c08c067f132099b7

Change-Id: Ia3df0d89459cda6cb648cd6dc97bca3492ca04e0
(cherry picked from commit 9b0ff39ad59a0b7d81fe5ea2c5bd413bb8ab4bf0)
"
openstack%2Ftripleo-upgrade~stable%2Fqueens~I50ca550d225e52ba44b76a70b1db1c34088b77d9,openstack/tripleo-upgrade,stable/queens,,I50ca550d225e52ba44b76a70b1db1c34088b77d9,Fix issue with failed OOO upgrade,MERGED,2018-08-01 10:16:46.000000000,2018-08-01 18:36:34.000000000,2018-08-01 18:36:34.000000000,6,6,0,587751,8445ce8ad5e57931a02b2d8bbd16461583e3b47b,10,7,2,2,28847,Ruslan Usichenko,ruslanloman,"Fix issue with failed OOO upgrade

The reason of issue is in the structure of variables in plugins.spec. Since
infrared converts varibles from plugin.spec to dict, there is some limitations
and following example won't work.

For example:
  example-key: value
  example-key-foo: value1
  example-key-bar: value2

Change-Id: I50ca550d225e52ba44b76a70b1db1c34088b77d9
(cherry picked from commit aa2e40eb25d5c51af6be13d26607bf1091ced91f)
"
openstack%2Fnetworking-sfc~master~I5783d5402f8dc73c41b56b6765960a6231adf0b3,openstack/networking-sfc,master,switch-to-stestr,I5783d5402f8dc73c41b56b6765960a6231adf0b3,Switch to stestr,MERGED,2018-05-30 09:46:53.000000000,2018-08-01 18:33:01.000000000,2018-08-01 18:33:01.000000000,14,24,0,571157,22e13c4c17454f25392b58c4b51362cc2270f2f1,28,9,5,6,21798,Bernard Cafarelli,bcafarel,"Switch to stestr

This updates the test runner to conform to current PTI:
https://governance.openstack.org/tc/reference/pti/python.html#python-test-running

Change-Id: I5783d5402f8dc73c41b56b6765960a6231adf0b3
"
openstack%2Fironic~master~I0ceea38a782798e87ad003eefbeec5995c16753c,openstack/ironic,master,583555,I0ceea38a782798e87ad003eefbeec5995c16753c,Remove redundant swift vars,MERGED,2018-07-31 09:45:14.000000000,2018-08-01 18:25:03.000000000,2018-08-01 18:25:03.000000000,0,2,0,587364,065a10c4293cf6d333a72801a95391c9c74a4eb8,10,6,1,1,1926,Derek Higgins,derekh,"Remove redundant swift vars

These are defined further up.

Change-Id: I0ceea38a782798e87ad003eefbeec5995c16753c
"
openstack%2Fironic~master~I11ad26c354bcbc2a0ed8e2bc78c9403dbcf85326,openstack/ironic,master,583555,I11ad26c354bcbc2a0ed8e2bc78c9403dbcf85326,Switch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3,MERGED,2018-07-18 12:00:45.000000000,2018-08-01 18:25:01.000000000,2018-08-01 18:25:01.000000000,9,105,1,583555,253ce25ef2e35822878c96e97016e22fafe64d29,46,9,8,3,1926,Derek Higgins,derekh,"Switch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3

Switch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3
to zuulv3 native.

Also ensure phygmi and virtualbmc are always installed with python2
as pyghmi is still not compatible with python3.

Depends-On: I413ea7ec5db3316f985c38900aa46b8cdfd5d138
Change-Id: I11ad26c354bcbc2a0ed8e2bc78c9403dbcf85326
"
openstack%2Ftripleo-quickstart~master~Ie94b1d1570b302248e42c2b89e64b6723ebd3cb4,openstack/tripleo-quickstart,master,add-browbeat-settings,Ie94b1d1570b302248e42c2b89e64b6723ebd3cb4,Add Browbeat enable settings to fs053,MERGED,2018-07-18 13:43:51.000000000,2018-08-01 18:19:19.000000000,2018-08-01 18:19:19.000000000,8,8,2,583578,c657bad131907ee057f49032ec602300aed7a578,45,10,5,2,9976,Ronelle Landy,rlandy,"Add Browbeat enable settings to fs053

For CI running Browbeat, data collection needs to be
disabled. These settings are not env specific.

Change-Id: Ie94b1d1570b302248e42c2b89e64b6723ebd3cb4
"
openstack%2Ftripleo-heat-templates~master~I82eb39b1184958bf834dc8726a6ec0c4b9d44846,openstack/tripleo-heat-templates,master,bug/1784851,I82eb39b1184958bf834dc8726a6ec0c4b9d44846,Use RPCPassword instead of RabbitPassword for novajoin,MERGED,2018-08-01 13:09:38.000000000,2018-08-01 18:19:17.000000000,2018-08-01 18:19:17.000000000,3,3,0,587817,2c88645ec6a32a0fdc91da40bab63f855bf942d3,10,8,1,1,10873,Juan Antonio Osorio Robles,ejuaoso,"Use RPCPassword instead of RabbitPassword for novajoin

RabbitPassword is no longer in use and was causing issues.

Change-Id: I82eb39b1184958bf834dc8726a6ec0c4b9d44846
Closes-Bug: #1784851
"
openstack%2Fopenstack-ansible-openstack_hosts~master~Ie52c3e513943da46d08344feb538ea4c570e60d3,openstack/openstack-ansible-openstack_hosts,master,bionic-vars,Ie52c3e513943da46d08344feb538ea4c570e60d3,Use generic vars file for ubuntu,MERGED,2018-08-01 10:41:23.000000000,2018-08-01 18:13:24.000000000,2018-08-01 14:11:41.000000000,0,100,0,587766,0afc70daf01b23e59868aecfc276405303f1ff50,9,4,1,2,6816,Jesse Pretorius,jesse-pretorius,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: Ie52c3e513943da46d08344feb538ea4c570e60d3
"
openstack%2Fcharm-neutron-dynamic-routing~master~I7a9c6fe6ff83a7dd2f37b52f98652953d89a6375,openstack/charm-neutron-dynamic-routing,master,functest-remove-passwords,I7a9c6fe6ff83a7dd2f37b52f98652953d89a6375,Remove passwords from functional test bundles,MERGED,2018-08-01 14:15:48.000000000,2018-08-01 18:11:53.000000000,2018-08-01 18:11:53.000000000,1,10,0,587834,abfb804b6e0ddb2f8880574ae22552f04025cc26,11,4,1,6,13686,Frode Nordahl,fnordahl,"Remove passwords from functional test bundles

Let keystone charm autogenerate admin-password and admin-token.

Let zaza retrieve password from leader settings.

Depends-On: https://github.com/openstack-charmers/zaza/pull/88

Change-Id: I7a9c6fe6ff83a7dd2f37b52f98652953d89a6375
"
openstack%2Fcinder~master~I8d77b9b172df963063b38ccbd32e805dd7db1e00,openstack/cinder,master,bug/1780095,I8d77b9b172df963063b38ccbd32e805dd7db1e00,DS8K: correct the behavior for get_pools method,MERGED,2018-07-04 14:20:34.000000000,2018-08-01 17:59:56.000000000,2018-07-06 17:12:30.000000000,20,10,0,580169,f16987466e78098cc903c694b00f74b21d4a7b67,32,29,1,2,26422,Peng Wang,wangpeng,"DS8K: correct the behavior for get_pools method

If the pools defined in the config file but these can't be queried
from the storage. The driver should catch this exception and ignore
it to support the Report Backend status feature.

Change-Id: I8d77b9b172df963063b38ccbd32e805dd7db1e00
Closes-Bug: 1780095
"
openstack%2Fpuppet-tripleo~master~I98b72d70f826f12004af73d5bdc88f652b57d598,openstack/puppet-tripleo,master,,I98b72d70f826f12004af73d5bdc88f652b57d598,Add the missing smoke testing,ABANDONED,2018-07-30 16:56:25.000000000,2018-08-01 17:42:07.000000000,,12,0,0,587155,0663cd4c32040ea9c4d68a6b4dd7c147eb0890f5,19,8,2,1,28614,jacky06,jacky06,"Add the missing smoke testing

Change-Id: I98b72d70f826f12004af73d5bdc88f652b57d598
"
openstack%2Fpuppet-tripleo~master~I91f7ebdf17ecf8d7618800df8a33c4aef50c7a09,openstack/puppet-tripleo,master,,I91f7ebdf17ecf8d7618800df8a33c4aef50c7a09,Update the links to https,ABANDONED,2018-07-30 16:14:52.000000000,2018-08-01 17:42:01.000000000,,2,2,0,587102,bdaffc04df385a1c86a28f907bd6ae79f4a8e380,12,5,2,1,28614,jacky06,jacky06,"Update the links to https

Change-Id: I91f7ebdf17ecf8d7618800df8a33c4aef50c7a09
"
openstack%2Fmurano-agent~master~Ib74083ee19381fc6b3ac7ee26cf1216737fa4588,openstack/murano-agent,master,typo-fix,Ib74083ee19381fc6b3ac7ee26cf1216737fa4588,typo fix for inline comment,ABANDONED,2018-07-23 17:40:55.000000000,2018-08-01 17:35:21.000000000,,1,1,1,584982,981855da0a3ee7d147f1d084a8567f839de860c1,5,3,1,1,15685,Praveen N,praveen,"typo fix for inline comment

Change-Id: Ib74083ee19381fc6b3ac7ee26cf1216737fa4588
"
openstack%2Fopenstack-ansible~master~Ic5b528bcdad1753aa912cf0a6a1899045784aa07,openstack/openstack-ansible,master,typo,Ic5b528bcdad1753aa912cf0a6a1899045784aa07,typo correction,ABANDONED,2017-10-12 06:27:36.000000000,2018-08-01 17:35:00.000000000,,16,16,0,511394,4c78e06dac107ca0255ec23a1cba5e00afe2d3d5,8,5,1,16,15685,Praveen N,praveen,"typo correction

polute -> pollute

Change-Id: Ic5b528bcdad1753aa912cf0a6a1899045784aa07
"
openstack%2Freleases~master~Ibc5c4f006d264e2f0a4c1b8186b5e313d2905561,openstack/releases,master,bashate,Ibc5c4f006d264e2f0a4c1b8186b5e313d2905561,Fix bashate errors,MERGED,2018-07-30 19:56:51.000000000,2018-08-01 17:28:44.000000000,2018-08-01 17:28:44.000000000,38,24,0,587210,1aa9607e0af3b87ff87dcc14edf62e7056d3e576,7,3,1,9,11904,Sean McGinnis,SeanM,"Fix bashate errors

A few errors were causing the bashate job to fail. This corrects those
errors and also addresses the reported warnings for a clean build.

Change-Id: Ibc5c4f006d264e2f0a4c1b8186b5e313d2905561
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fpymod2pkg~master~I433b971f1440a4c638023877c6a4bf96a015b90e,openstack/pymod2pkg,master,project-rename,I433b971f1440a4c638023877c6a4bf96a015b90e,Rename python-openstacksdk to openstacksdk,ABANDONED,2018-03-23 13:50:18.000000000,2018-08-01 17:22:48.000000000,,1,2,0,555783,7ff1af78478c94577d4ca1b58e5477bde7d930a6,7,3,1,2,2,Monty Taylor,mordred,"Rename python-openstacksdk to openstacksdk

Depends-On: https://review.openstack.org/554662
Change-Id: I433b971f1440a4c638023877c6a4bf96a015b90e
"
openstack%2Fneutron~master~Ia6c707756ec0142f9e95610ea4e21d7269934d9c,openstack/neutron,master,bp/run-in-wsgi-server,Ia6c707756ec0142f9e95610ea4e21d7269934d9c,Add a guide to deploy Neutron API under WSGI server,MERGED,2018-07-20 07:15:44.000000000,2018-08-01 17:18:27.000000000,2018-08-01 17:18:27.000000000,130,0,65,584257,eafcc08455ae9d9e78dec38f27cd0613704f23be,63,12,10,2,15471,Nguyen Phuong An,An-FVL,"Add a guide to deploy Neutron API under WSGI server

Change-Id: Ia6c707756ec0142f9e95610ea4e21d7269934d9c
Partially-implements: blueprint run-in-wsgi-server
"
openstack%2Fnova~master~Icc5f615baa1042347ec1699eb84ba0670445b995,openstack/nova,master,bug/1784705,Icc5f615baa1042347ec1699eb84ba0670445b995,Add recreate test for RT.stats bug 1784705,MERGED,2018-07-31 20:04:16.000000000,2018-08-01 17:18:23.000000000,2018-08-01 17:18:23.000000000,99,2,6,587614,fc05626d43571733da0803df0fd9a7c69766b8fd,30,12,4,1,6873,Matt Riedemann,mriedem,"Add recreate test for RT.stats bug 1784705

With change I6827137f35c0cb4f9fc4c6f753d9a035326ed01b in
Ocata, we changed the ComputeManager to manage a single
ResourceTracker and that single ResourceTracker will
manage multiple compute nodes. The only time a single
nova-compute service hosts multiple compute nodes is for
ironic where there is a compute node per instance. The
problem is the ResourceTracker.stats variable, unlike the
ResourceTracker.compute_nodes variable, is not node-specific
so it's possible for node stats to leak across nodes based
on how the stats are used (and copied).

This change adds a functional recreate test to show the issue
before it's fixed. The fixture setup had to be tweaked a
bit to avoid modifying class variables by reference between
test cases.

Change-Id: Icc5f615baa1042347ec1699eb84ba0670445b995
Related-Bug: #1784705
"
openstack%2Fheat~stable%2Fpike~I3361ad90e303d24a16a943408fe0f6c406cf785f,openstack/heat,stable/pike,story/2001974-stable/pike,I3361ad90e303d24a16a943408fe0f6c406cf785f,Reset resource replaced_by field for rollback,MERGED,2018-08-01 08:48:00.000000000,2018-08-01 17:11:23.000000000,2018-08-01 17:11:23.000000000,63,2,0,587718,258d22c411eafd12bc648ba33988fb89d774488a,9,3,1,3,8833,Rabi Mishra,rabi,"Reset resource replaced_by field for rollback

We seem to leave replaced_by field of a resource after rollback
(if a stack cancel is issued before the replacement
resource is added to the stack). This in turn results in the
stack getting stuck in IN_PROGRESS for further updates.

Change-Id: I3361ad90e303d24a16a943408fe0f6c406cf785f
Co-Authored-By: Zane Bitter <zbitter@redhat.com>
Task: #19582
Story: #2001974
(cherry picked from commit a544ce43dc8e1bcdaf7657d7f35e03464f85241e)
"
openstack%2Fopenstack-ansible-os_designate~master~I9764f557007d97cfcbe02abf7166cce423b39a31,openstack/openstack-ansible-os_designate,master,common-systemd-service,I9764f557007d97cfcbe02abf7166cce423b39a31,Convert role to use a common systemd service role,MERGED,2018-07-30 19:08:08.000000000,2018-08-01 17:00:32.000000000,2018-08-01 17:00:32.000000000,129,139,0,587196,49ea5b4ea966f04fd6597a93e5fca443f7ba2405,34,6,11,15,7353,Kevin Carter,cloudnull,"Convert role to use a common systemd service role

This removes the systemd service templates and tasks from this role and
leverages a common systemd service role instead. This change removes a
lot of code duplication across all roles all without sacrificing features
or functionality. The intention of this change is to ensure uniformity and
reduce the maintenance burden on the community when sweeping changes are
needed.

The systemd journal would normally be populated with the standard out of
a service however with the use of uwsgi this is not actually happening
resulting in us only capturing the logs from the uwsgi process instead
of the service itself. This change implements journal logging in the
service config, which is part of OSLO logging.

OSLO logging docs found here: <https://docs.openstack.org/oslo.log/3.28.1/journal.html>

Change-Id: I9764f557007d97cfcbe02abf7166cce423b39a31
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
"
openstack%2Fopenstack-ansible-os_designate~master~Ieaf2c0201426e48784631ac7e6c4fe21ab095ff2,openstack/openstack-ansible-os_designate,master,common-systemd-service,Ieaf2c0201426e48784631ac7e6c4fe21ab095ff2,"Revert ""Disable functional tests temporarily""",MERGED,2018-07-31 22:02:16.000000000,2018-08-01 17:00:31.000000000,2018-08-01 17:00:31.000000000,11,2,0,587646,41951f83cb6619ca76ba72c1e68bf5ba8c6e8eaa,22,4,2,1,6816,Jesse Pretorius,jesse-pretorius,"Revert ""Disable functional tests temporarily""

This reverts commit af39e5b060ba402c017bb6a8487894942d4577a1.

Now that we have everything together, we can enable functional
tests again.

Change-Id: Ieaf2c0201426e48784631ac7e6c4fe21ab095ff2
"
openstack%2Fkeystone~master~I6f069c8c94e625ae553e9b41f0c54fd25bad9408,openstack/keystone,master,bug/1778945,I6f069c8c94e625ae553e9b41f0c54fd25bad9408,Cleanup keystone.token.providers.common,MERGED,2018-06-22 18:58:38.000000000,2018-08-01 16:57:13.000000000,2018-08-01 16:57:13.000000000,43,717,1,577507,3dbf4be06f674f132608b7a18da2f44d40e9953a,23,4,8,9,5046,Lance Bragstad,ldbragst,"Cleanup keystone.token.providers.common

This module was a hodge-podge of common utility methods and a basic
implementation of the token provider API interface. In theory, if
something should be done for all providers, we should try and pull
it into a higher layer, like the token provider Manager. This makes
things easier to share without having to worry about reimplementing
something if we override a specific method of the interface. This is
the pattern we're working towards with the TokenModel object.

It was also home to the V3TokenDataHelper, which was ultimately
responsible for making sure the token API contracts were honored. Now
that we've moved token behavior into the TokenModel and the
representation of a token into the controllers, we don't need this
anymore. We should be able to make this much more clear and clean up
the interfaces for people providing their own token providers.

Partial-Bug: 1778945
Change-Id: I6f069c8c94e625ae553e9b41f0c54fd25bad9408
"
openstack%2Fkeystone~master~I6db60077d829ef78baca80eb79a96d0032ad62be,openstack/keystone,master,bug/1778945,I6db60077d829ef78baca80eb79a96d0032ad62be,Remove remnants of token bind,MERGED,2018-06-27 15:10:05.000000000,2018-08-01 16:57:12.000000000,2018-08-01 16:57:12.000000000,0,25,0,578435,7ba3be57a11f9ade1845621d466e2d76717f4cf1,21,4,7,4,5046,Lance Bragstad,ldbragst,"Remove remnants of token bind

With the removal of token binding, we can clean up some of the logic
in other parts of the token provider API that accounted for it.

Change-Id: I6db60077d829ef78baca80eb79a96d0032ad62be
"
openstack%2Fmanila~stable%2Focata~I67602bae1f928769d768008deca7bd0f2fef1ac2,openstack/manila,stable/ocata,bug/1639662,I67602bae1f928769d768008deca7bd0f2fef1ac2,Fix share-service VM restart problem,MERGED,2018-08-01 02:24:48.000000000,2018-08-01 16:53:50.000000000,2018-08-01 16:53:50.000000000,73,38,2,587672,891d2deeee82a2f4e391e687d1dd1cfbb32da838,14,6,2,4,27173,shuaili.wang,shuaili.wang,"Fix share-service VM restart problem

The /etc/mtab file may have mount information such as 'nfsd'
that if copied to /etc/fstab will cause the share server to
hang when rebooted.

Update /etc/fstab with exactly the newly mounted or unmounted
shares rather than simply overwriting /etc/fstab with /etc/mtab.

Change-Id: I67602bae1f928769d768008deca7bd0f2fef1ac2
Close-Bug: #1639662
(cherry picked from commit b76934770b0f42950cad35a3e2a5a8e060462332)
(cherry picked from commit 344d4aa91c848447002d1b297884d52060d274b2)
(cherry picked from commit 7b306c0676c90a484230afb5fff6f1d02ec3a285)
"
openstack%2Fopenstack-ansible-os_zun~master~I62b6cfefea64880f4c8bbd86f4667c73d3e93f52,openstack/openstack-ansible-os_zun,master,bionic-vars,I62b6cfefea64880f4c8bbd86f4667c73d3e93f52,Use generic vars file for ubuntu,MERGED,2018-08-01 10:39:25.000000000,2018-08-01 16:51:24.000000000,2018-08-01 16:51:24.000000000,0,33,0,587759,32ca60647926f6bccf8816cb6ce5edb9ed6476f2,11,4,1,2,6816,Jesse Pretorius,jesse-pretorius,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I62b6cfefea64880f4c8bbd86f4667c73d3e93f52
"
openstack%2Fopenstack-helm-infra~master~Ie1745629b90795e4d888d85f35565e6d6350e09b,openstack/openstack-helm-infra,master,fix_ingress_controller_node_selector_value,Ie1745629b90795e4d888d85f35565e6d6350e09b,Quoting node_select_value in Ingress Controller,MERGED,2018-07-30 07:04:44.000000000,2018-08-01 16:50:08.000000000,2018-08-01 16:50:08.000000000,35,35,0,586954,a430533e6a0300b03f9621e16d161875e50a3db4,11,4,2,35,16513,Seungkyu Ahn,seungkyu,"Quoting node_select_value in Ingress Controller

In most cases, the ingress controller's nodeSelector key and value
are ""node-role.kubernetes.io/ingress"" and ""true"".
Using quote to treat the nodeSelector value as a string.

Change-Id: Ie1745629b90795e4d888d85f35565e6d6350e09b
"
openstack%2Fkeystone~master~If9ded94e65bacb0d06f5225bb36f659dc7bb8355,openstack/keystone,master,bug/1778945,If9ded94e65bacb0d06f5225bb36f659dc7bb8355,Simplify the token provider API,MERGED,2018-02-16 20:35:54.000000000,2018-08-01 16:44:47.000000000,2018-08-01 16:44:47.000000000,630,609,42,545450,b47e84dac185adcc3e068237fb4cd285c1ae5583,72,8,20,21,5046,Lance Bragstad,ldbragst,"Simplify the token provider API

Since we're no longer supporting persistent tokens in tree and we
removed the uuid token provider, it's the perfect time to clean up a
good amount of confusing technical debt.

The token provider API is historically known for being confusing.
This is mainly because the reference that is intended to be returned
to the user is modified all up and down the API. Different parts of
the API use the reference to invoke call hooks in other method making
the code hard to debug. In order to fully understand how tokens are
built, you need to understand where and how tokens are modified by
different layers of the API according to a specific contract of the
authentication API. Another big problem is that it couples the actual
reference of how a token looks too closely to the business logic for
tokens. Which means you have to write a ton of code if you ever want a
token to look differently, like you would if you wanted to support a
new API version.

A token should be an object that the managers and controllers can
query and reason about. From there they should be able to build token
responses accordingly. This will make the actual token provider API
much simpler because it needs to know less about API contracts that
are the responsibility of the controllers. This should lead to simpler
interfaces when new token providers are added, or maintained out of
tree. This also makes it less likely for APIs to behave differently
based on what token provider is configured by being explicitly
building the token reference in one place.

This commit ports the token business logic out of the
keystone.token.providers.common module and into a dedicated token
object, or model. This will result in a cleaner interface between the
token providers and the token provider API. A subsequent patch will
remove the unused code across the token provider API.

Partial-Bug: 1778945
Change-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355
"
openstack%2Fglance~master~Ib28ea1f6c431db6434dbab2a234018e82d5a6d1a,openstack/glance,master,bp/multihash,Ib28ea1f6c431db6434dbab2a234018e82d5a6d1a,Multihash implementation for Glance,MERGED,2018-07-30 20:59:59.000000000,2018-08-01 16:44:45.000000000,2018-08-01 16:44:45.000000000,511,35,0,587225,0b24dbd620f88b4d36bf6e0f8975f10aa8709b86,20,6,3,32,5314,Brian Rosmaita,brian-rosmaita,"Multihash implementation for Glance

Partially implements blueprint multihash.

Requires glance_store 0.26.1

Co-authored-by: Scott McClymont <scott.mcclymont@verizonwireless.com>
Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: Ib28ea1f6c431db6434dbab2a234018e82d5a6d1a
"
openstack%2Fgovernance~master~I2424a9957a60ba7858d37da46d4fb86a2e6c6b48,openstack/governance,master,formal-vote,I2424a9957a60ba7858d37da46d4fb86a2e6c6b48,write up the python3-first goal,MERGED,2018-06-16 21:24:28.000000000,2018-08-01 16:39:56.000000000,2018-08-01 16:39:56.000000000,397,0,27,575933,1116e6bc386ac7d89b8ae21c8174e08fcaaebec8,101,20,15,3,2472,Doug Hellmann,doug-hellmann,"write up the python3-first goal

Change-Id: I2424a9957a60ba7858d37da46d4fb86a2e6c6b48
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
"
openstack%2Fkolla~stable%2Fqueens~I191f3e073d14e9ba5419a8a9b043e8afaa565e2a,openstack/kolla,stable/queens,,I191f3e073d14e9ba5419a8a9b043e8afaa565e2a,build with --template-only to not require running docker service,MERGED,2018-07-27 12:01:08.000000000,2018-08-01 16:36:50.000000000,2018-08-01 16:36:50.000000000,6,1,0,586519,f2330730b0b46962c25d8372ffc71cd837f5442a,12,3,1,1,16282,YaZug,yazug,"build with --template-only to not require running docker service

Add a try/except check and raise excpetion if not --template-only

Reason for this is so that you can run kolla_build --template-only
on a system with a user that doesn't have permissions to access
docker or system may not have docker service running.  The template
only generation is ok because it doesn't specifically need the docker
context

Change-Id: I191f3e073d14e9ba5419a8a9b043e8afaa565e2a
(cherry picked from commit 9cc7667a5110c59c1ffda4b75d7667ca4628e4bb)
"
openstack%2Fopenstack-manuals~master~Ie16998d73221259aeb14583445331561f425573e,openstack/openstack-manuals,master,,Ie16998d73221259aeb14583445331561f425573e,Drop use port 35357,MERGED,2018-07-19 04:12:03.000000000,2018-08-01 16:23:23.000000000,2018-08-01 16:23:23.000000000,3,13,0,583839,a359d5a71a5031a4a17d5a8443d54d8b3c6395dd,11,3,3,3,28278,Duc Nguyen,ducnv,"Drop use port 35357

With Keystone v3, the admin (35357) and public (5000) ports are
the same and use the same keystone code paths for authentication.

This patch set drops 35357 and only uses port 5000.

Change-Id: Ie16998d73221259aeb14583445331561f425573e
"
openstack%2Fopenstack-helm~master~Ie50ae5692dbf67c19f55521a5cb46308480f737a,openstack/openstack-helm,master,ovs-privs,Ie50ae5692dbf67c19f55521a5cb46308480f737a,OVS: update container privs,MERGED,2018-07-30 22:44:12.000000000,2018-08-01 16:19:43.000000000,2018-08-01 16:19:35.000000000,3,2,0,587243,108d9606d7b2737813ac115d0bbff2f055ee8b92,13,5,3,2,23928,Pete Birley,portdirect,"OVS: update container privs

This PS updates the privs granted to the OvS containers.

Change-Id: Ie50ae5692dbf67c19f55521a5cb46308480f737a
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fironic~master~I480fa50540764079e5d13cfbf4ed6afbac648799,openstack/ironic,master,,I480fa50540764079e5d13cfbf4ed6afbac648799,Remove rabbit_max_retries option,MERGED,2018-08-01 11:53:28.000000000,2018-08-01 16:19:20.000000000,2018-08-01 16:19:20.000000000,0,1,0,587785,f78ebd0dce523d7eba5c83d719261cdaf5118e72,8,4,1,1,21486,wangqi,wangqi,"Remove rabbit_max_retries option

The rabbit_max_retries parameter has been deprecated

Change-Id: I480fa50540764079e5d13cfbf4ed6afbac648799
"
openstack%2Ftripleo-upgrade~master~I1e1fc6471525855fb09280131e7847f21b1a74d8,openstack/tripleo-upgrade,master,bug/1784624,I1e1fc6471525855fb09280131e7847f21b1a74d8,Adjust roles_data also for updates.,MERGED,2018-07-31 13:10:38.000000000,2018-08-01 16:18:28.000000000,2018-08-01 16:18:28.000000000,6,1,5,587413,ba9879a93209ba25fdb9a5dd1d00aa3a5f33a9bf,19,8,3,3,26343,Jose Luis Franco,jfrancoa,"Adjust roles_data also for updates.

During the update prepare process, if
some of the services defined in the roles
data where deprecated in the version to
update to, an error will be retrieved during
container image downloading as the service
is not present anymore. This patch enables
the roles_data adjusting, which was run in
upgrades, also in updates.

Change-Id: I1e1fc6471525855fb09280131e7847f21b1a74d8
Related-Bug: #1784624
"
openstack%2Freleases~master~Iaa44388a19c5a09d9363fe7175552ea6ac813a09,openstack/releases,master,python-cinderclient,Iaa44388a19c5a09d9363fe7175552ea6ac813a09,Release python-cinderclient 4.0.1,MERGED,2018-08-01 15:24:19.000000000,2018-08-01 16:03:29.000000000,2018-08-01 16:03:29.000000000,4,0,0,587852,2b3dcb05952b218cf6a5589d275b3591e4446688,9,4,1,1,7198,Jay Bryant,jsbryant,"Release python-cinderclient 4.0.1

In testing close to the end of Rocky we have found
some bugs in cinderclient.  One of those bugs broke
the Horizon's volume interface and left volume_transfer
functionality broken.  This release is being done to
fix those issues along with some other minor bugs.

Change-Id: Iaa44388a19c5a09d9363fe7175552ea6ac813a09
"
openstack%2Fkuryr-kubernetes~stable%2Fqueens~I6d229c92f6de9b9827db7fec4a3765b634d1b57d,openstack/kuryr-kubernetes,stable/queens,bug/1784683-stable/queens,I6d229c92f6de9b9827db7fec4a3765b634d1b57d,Services: Fix service connectivity after service port edit procedure,MERGED,2018-07-31 18:31:38.000000000,2018-08-01 16:01:51.000000000,2018-08-01 16:01:51.000000000,2,0,0,587583,495b7882f69be067bcf9d6b9a67728725ad982c7,11,5,2,1,21041,Yossi Boaron,yboaron,"Services: Fix service connectivity after service port edit procedure

Kubernetes supports edit operation for API resources.
This patch updates LBaaS handler to add members as expected
to the new Pool after service port edit procedure.

Change-Id: I6d229c92f6de9b9827db7fec4a3765b634d1b57d
Closes-Bug: 1784683
(cherry picked from commit 85f0617e2020e38cf54d1c58681109016aa3bcd7)
"
openstack%2Fkuryr-kubernetes~master~Ibf63841b2a6b0c339c4c76980f1489e26af016d7,openstack/kuryr-kubernetes,master,namespace-project,Ibf63841b2a6b0c339c4c76980f1489e26af016d7,Ensure isolation between namespaces,MERGED,2018-06-29 14:46:39.000000000,2018-08-01 16:01:50.000000000,2018-08-01 16:01:50.000000000,640,241,15,579181,f02b2e99e910db4b9cbff3cf14d7472fdc44dcca,75,7,22,13,23567,Luis Tomas Bolivar,ltomasbo,"Ensure isolation between namespaces

This patch ensures that a different security group is attached to
each newly created namespace. Thus providing extra isolation
between the pods allocated on the different namespaces.

Implements: blueprint openshift-project-isolation-support
Change-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7
"
openstack%2Fopenstack-helm~master~I609455b1a58e576644b8a6cfb8b273d5aeb94c58,openstack/openstack-helm,master,nova/configs,I609455b1a58e576644b8a6cfb8b273d5aeb94c58,Nova: Move nova sudoers file to be drive fully by values.yaml,MERGED,2018-07-30 23:25:40.000000000,2018-08-01 15:56:26.000000000,2018-08-01 15:56:12.000000000,6,24,0,587250,5d9519b396e89501b8a4204a0fef4a5533434506,9,4,1,3,23928,Pete Birley,portdirect,"Nova: Move nova sudoers file to be drive fully by values.yaml

This PS brings novas sudoers file config to be in line with neutron
and other osh charts.

Change-Id: I609455b1a58e576644b8a6cfb8b273d5aeb94c58
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Ftripleo-upgrade~master~I50ca550d225e52ba44b76a70b1db1c34088b77d9,openstack/tripleo-upgrade,master,,I50ca550d225e52ba44b76a70b1db1c34088b77d9,Fix issue with failed OOO upgrade,MERGED,2018-08-01 10:14:57.000000000,2018-08-01 15:52:28.000000000,2018-08-01 15:52:28.000000000,6,6,0,587749,aa2e40eb25d5c51af6be13d26607bf1091ced91f,11,9,1,2,28847,Ruslan Usichenko,ruslanloman,"Fix issue with failed OOO upgrade

The reason of issue is in the structure of variables in plugins.spec. Since
infrared converts varibles from plugin.spec to dict, there is some limitations
and following example won't work.

For example:
  example-key: value
  example-key-foo: value1
  example-key-bar: value2

Change-Id: I50ca550d225e52ba44b76a70b1db1c34088b77d9
"
openstack%2Fpuppet-tripleo~stable%2Fpike~I1570f59be977773ba8a0ff1222b57f88a9954ca8,openstack/puppet-tripleo,stable/pike,bug/1782720-stable/pike,I1570f59be977773ba8a0ff1222b57f88a9954ca8,Remove notification_driver parameter from heat profile,MERGED,2018-07-25 03:54:20.000000000,2018-08-01 15:52:27.000000000,2018-08-01 15:52:27.000000000,0,6,0,585617,e958ecf38b2ebfa0e9e7a9b0f330f8a34cb806e7,11,6,1,1,8833,Rabi Mishra,rabi,"Remove notification_driver parameter from heat profile

The service profile has a default that overrides the one set either
by 'NotificationDriver' parameter or 'heat::notification_driver' in
ExtraConfig.

This parameter is not there in any other service profile and can
be removed as it's not used by the service.

Change-Id: I1570f59be977773ba8a0ff1222b57f88a9954ca8
Closes-Bug: #1782720
(cherry picked from commit 77a158bdd8ce13800d61b262a27b00e91945dba2)
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I8648dc3dd3ee04ac31a9497bf6a8c677374f1afc,openstack/openstack-ansible-openstack_hosts,master,bp/python-build-install-simplification,I8648dc3dd3ee04ac31a9497bf6a8c677374f1afc,"Revert ""Revert ""Install virtualenv for CentOS via distro packages""""",MERGED,2018-08-01 12:31:31.000000000,2018-08-01 15:50:48.000000000,2018-08-01 15:50:48.000000000,2,1,0,587801,dd7d498fd4a5402159d7b12e803c279bbcc88537,15,6,2,1,6816,Jesse Pretorius,jesse-pretorius,"Revert ""Revert ""Install virtualenv for CentOS via distro packages""""

This reverts commit fd585081adff0f7885413f270b2de73e721a8996.

The failures when trying to install pip for CentOS were not due to
the pip/setuptools/wheel packages, but instead due to the
inclusion of the virtualenv package in the list. With the dependent
patch, that is removed, so pip/setuptools/wheel should install
just fine.

Change-Id: I8648dc3dd3ee04ac31a9497bf6a8c677374f1afc
Depends-On: https://review.openstack.org/587798
"
openstack%2Fheat~stable%2Fpike~Ic25c35098cff8b68e184a336b21f2e8df70bb1ee,openstack/heat,stable/pike,fix_translation-stable/pike,Ic25c35098cff8b68e184a336b21f2e8df70bb1ee,Ignore RESOLVE translation errors when translating before_props,MERGED,2018-07-31 07:44:45.000000000,2018-08-01 15:48:56.000000000,2018-08-01 15:48:56.000000000,57,14,0,587322,123976539ccb687c53998f2d68e54d4a25fd0c8d,8,3,1,4,8833,Rabi Mishra,rabi,"Ignore RESOLVE translation errors when translating before_props

When translating name to id, if we don't find the resource it's
better to ignore the error and return the non-translated value
for before properties.

Change-Id: Ic25c35098cff8b68e184a336b21f2e8df70bb1ee
Story: #2003015
Task: 23103
(cherry picked from commit 8c39f3bb8b08ad37cb5411b448ef2acde6345d55)
"
openstack%2Fopenstack-ansible-os_tempest~master~I905c13066e49cbbce232de2fc04f0977e2548bb8,openstack/openstack-ansible-os_tempest,master,bionic-vars,I905c13066e49cbbce232de2fc04f0977e2548bb8,Use generic vars file for ubuntu,MERGED,2018-08-01 10:37:30.000000000,2018-08-01 15:29:23.000000000,2018-08-01 15:29:23.000000000,0,31,0,587755,da8f2b354603e9b7b20e5f10c6c501ac676c192f,7,3,1,2,6816,Jesse Pretorius,jesse-pretorius,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I905c13066e49cbbce232de2fc04f0977e2548bb8
"
openstack%2Fopenstack-ansible-pip_install~master~I26046ab20cef0012a2d6c52c29827908f2d9f81c,openstack/openstack-ansible-pip_install,master,bp/python-build-install-simplification,I26046ab20cef0012a2d6c52c29827908f2d9f81c,"Revert ""defaults: Add virtualenv to default pip packages""",MERGED,2018-08-01 12:26:27.000000000,2018-08-01 15:25:38.000000000,2018-08-01 15:25:38.000000000,1,2,0,587798,889b1248ea2050b7db4281c8ce7d76b79a2da8b5,11,5,2,1,6816,Jesse Pretorius,jesse-pretorius,"Revert ""defaults: Add virtualenv to default pip packages""

This reverts commit d14847189419d479373c3734cbfebd3fdc9c1e15.

In order to install the virtualenv package using a distribution package
in the openstack_hosts role, we need to remove it from being installed
here.

Change-Id: I26046ab20cef0012a2d6c52c29827908f2d9f81c
"
openstack%2Fsolum~master~Ia78a9bc915e1ebda1d5cd11a73595dc08d624415,openstack/solum,master,,Ia78a9bc915e1ebda1d5cd11a73595dc08d624415,Remove the unuesd sample conf,MERGED,2018-08-01 13:18:46.000000000,2018-08-01 15:16:43.000000000,2018-08-01 15:16:43.000000000,0,1729,0,587820,ed8555b4302d8b4790857c8a0ba74e6f6ec01ac1,7,3,1,1,14107,zhurong,zhurong,"Remove the unuesd sample conf

Change-Id: Ia78a9bc915e1ebda1d5cd11a73595dc08d624415
"
openstack%2Frally-openstack~master~Ie0920b4a6a0a357404329a38d2d87ff3c345c940,openstack/rally-openstack,master,trival,Ie0920b4a6a0a357404329a38d2d87ff3c345c940,[trival] fix the indent of roles key,MERGED,2018-07-31 02:11:36.000000000,2018-08-01 15:10:00.000000000,2018-08-01 15:09:59.000000000,9,9,0,587265,1d689ab5f7a8d72aab4008efef90b57a27ca7c78,18,3,4,2,21528,chenhb,chenhb,"[trival] fix the indent of roles key

Change-Id: Ie0920b4a6a0a357404329a38d2d87ff3c345c940
"
openstack%2Fbarbican~master~I4dc552587391ad2245ee2fdfa20ce178da2efbe0,openstack/barbican,master,barbican_aes_xts_512_bit_addon,I4dc552587391ad2245ee2fdfa20ce178da2efbe0,Adding support for 512-Bit-Secret-Creation when using xts-mode,MERGED,2018-06-21 09:04:30.000000000,2018-08-01 15:07:04.000000000,2018-08-01 15:07:03.000000000,26,6,2,577096,abd65a1e5097a14a537b6c09cf5db66ab7c4e08e,25,7,5,2,28271,Josephine Seifert,josei,"Adding support for 512-Bit-Secret-Creation when using xts-mode

By default barbican checks only the algorithm and the bit_length when
creating a new secret. The xts-mode cuts the key in half for aes, so
for using aes-256 with xts, you have to use a 512 bit key, but
barbican allows only a maximum of 256 bit.
For this reason, it was necessary to add a check for the mode within
the _is_algorithm_supported method of the class SimpleCryptoPlugin.
When mode xts is set, it now checks, if the half of the key-length is
in the list of supported bit-length. So when using xts-mode, 512 bit
keys are now supported, but 64 bit keys are not because they would
result in a 32 bit aes key, which would be too short. Maybe there are
other modes too, which change the effective key-length, so the new
length_factor was added, to make it easier to add other modes like xts
too.
In the future their could be a list of supported modes together with
its key changing factor.

Change-Id: I4dc552587391ad2245ee2fdfa20ce178da2efbe0
Story: 2002612
"
openstack%2Fopenstack-ansible-nspawn_hosts~master~Id36db9f678eebeb8d035a5448fe9c040781ce020,openstack/openstack-ansible-nspawn_hosts,master,bionic-vars,Id36db9f678eebeb8d035a5448fe9c040781ce020,Use generic vars file for ubuntu,ABANDONED,2018-08-01 10:40:06.000000000,2018-08-01 15:04:22.000000000,,0,62,0,587761,4cbee0231816b7a5d05af30cdd867348ec5bb11c,8,4,1,2,6816,Jesse Pretorius,jesse-pretorius,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: Id36db9f678eebeb8d035a5448fe9c040781ce020
"
openstack%2Fopenstack-ansible-nspawn_container_create~master~I0e238ea8786c41c10c2f5a8dc69876cb7b0b8e9f,openstack/openstack-ansible-nspawn_container_create,master,bionic-vars,I0e238ea8786c41c10c2f5a8dc69876cb7b0b8e9f,Use generic vars file for ubuntu,ABANDONED,2018-08-01 10:38:25.000000000,2018-08-01 15:04:07.000000000,,0,33,0,587756,11edf18ece6949b9c723900078f7abcecf8f4713,8,4,1,2,6816,Jesse Pretorius,jesse-pretorius,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I0e238ea8786c41c10c2f5a8dc69876cb7b0b8e9f
"
openstack%2Fmistral~master~Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc,openstack/mistral,master,req-projects,Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc,Add user creds trusts to db,ABANDONED,2017-05-03 09:43:49.000000000,2018-08-01 15:02:18.000000000,,179,1,0,462056,24c5e5f886f480d2442feb6762b721efb21356a9,52,4,19,6,14025,luong tuan,tuantuluong,"Add user creds trusts to db

A new table is created to store the user creds trusts.

Change-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc
Closes-Bug: #1595084
Closes-Bug: #1761050
Depends-On: If6ff496fe562c1f7ec76cb7e38e89300b4880034
"
openstack%2Fopenstack-ansible-galera_client~master~Ib1d78b5f2a22c52d4ab6612b1214ecbfe1428bc4,openstack/openstack-ansible-galera_client,master,bionic,Ib1d78b5f2a22c52d4ab6612b1214ecbfe1428bc4,Remove bionic workaround,MERGED,2018-07-21 22:52:30.000000000,2018-08-01 15:00:06.000000000,2018-08-01 15:00:06.000000000,0,33,0,584610,7eca83de1f34021a532c9a92e3392dad159b6f29,10,3,3,2,17799,Logan V,Logan2211,"Remove bionic workaround

There is no need to use the artful release since bionic packages
are present in the repo now.

Change-Id: Ib1d78b5f2a22c52d4ab6612b1214ecbfe1428bc4
"
openstack%2Floci~master~I7ac98db6538fbc49392b6f385645298bc1c6addd,openstack/loci,master,583253,I7ac98db6538fbc49392b6f385645298bc1c6addd,Sort bindep.txt,MERGED,2018-07-17 14:00:59.000000000,2018-08-01 15:00:05.000000000,2018-08-01 15:00:05.000000000,9,1,0,583253,3193983c1c3abba7e9df78befc2d84557f3ff872,21,6,7,2,1390,Paul Bourke,pauldbourke,"Sort bindep.txt

Sort bindep.txt alphabetically to more easily allow new additions. Also
add a small check to the gate to make sure it and pydep.txt stay this
way.

Change-Id: I7ac98db6538fbc49392b6f385645298bc1c6addd
"
openstack%2Fsushy-tools~master~If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0,openstack/sushy-tools,master,fix-nova-tests-assertions,If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0,Fix nova unit tests,MERGED,2018-07-27 09:50:01.000000000,2018-08-01 15:00:04.000000000,2018-08-01 15:00:04.000000000,30,30,4,586496,2d8cec3d68f45d0b0e3c515cf33e603dd3705ce7,16,5,3,1,26340,Ilya Etingof,etingof,"Fix nova unit tests

Somehow some of the mocks in the mocking harness
escaped to the wild and lived their own life. They
got away with that just because of the accidental loss
of `assert_` piece of the function name that is supposed
to nail those loose mocks down.

Specifically, in nova unit tests:

* Moved `openstack.connect` mocking to the class level
* Fixed improper `power_state` value
* Set up proper chain of mocks to address `.compute`
* Fixed mocks assertions

This is a follow-up of change ID:

    I82032fd13a74d9aa77616dac3802d506b4a9c1cf

Change-Id: If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0
"
openstack%2Fsushy-tools~master~I66a372973f71c4265b47eacb5098d8a900680ba0,openstack/sushy-tools,master,update-libvirt-tests,I66a372973f71c4265b47eacb5098d8a900680ba0,Clean up unit tests,MERGED,2018-07-26 09:38:56.000000000,2018-08-01 15:00:04.000000000,2018-08-01 15:00:04.000000000,22,43,2,586029,7ae738a980697cae6c10b42a71e499dcb0bfa105,18,7,3,2,26340,Ilya Etingof,etingof,"Clean up unit tests

* Fix non-functional libvirt test
* Make sure to initialize libvirt backend
* Do not serialize json samples explicitly in libvirt test suite
* Drop unittest stub file

This is a follow-up of change ID:

    I82032fd13a74d9aa77616dac3802d506b4a9c1cf

Change-Id: I66a372973f71c4265b47eacb5098d8a900680ba0
"
openstack%2Fopenstack-ansible-os_swift~master~I68f3a0bf2b7a3a12cbf40d7d6a853d5b4c6dd0f3,openstack/openstack-ansible-os_swift,master,bp/python-build-install-simplification,I68f3a0bf2b7a3a12cbf40d7d6a853d5b4c6dd0f3,Execute service setup against a delegated host using Ansible built-in modules,MERGED,2018-07-12 19:41:38.000000000,2018-08-01 15:00:03.000000000,2018-08-01 15:00:03.000000000,130,177,0,582354,fc6c1935d751dd6636e51cbddfbbd27d556a9a4a,41,4,11,5,6816,Jesse Pretorius,jesse-pretorius,"Execute service setup against a delegated host using Ansible built-in modules

In order to reduce the packages required to pip install on to the hosts,
we allow the service setup to be delegated to a specific host, defaulting
to the deploy host. We also switch as many tasks as possible to using the
built-in Ansible modules which make use of the shade library.

The 'virtualenv' package is now installed appropriately by the openstack_hosts
role, so there's no need to install it any more. The 'httplib2' package is a
legacy Ansible requirement for the get_url/get_uri module which is no longer
needed. The keystone client library is not required any more now that we're
using the upstream modules. As there are no required packages left, the task
to install them is also removed.

Depends-On: https://review.openstack.org/582359
Depends-On: https://review.openstack.org/587376
Change-Id: I68f3a0bf2b7a3a12cbf40d7d6a853d5b4c6dd0f3
"
openstack%2Foctavia~master~Ib8677d2b85e352b19abf5fd0b79c1b8653819301,openstack/octavia,master,,Ib8677d2b85e352b19abf5fd0b79c1b8653819301,Fix the bionic gate to actually run Ubuntu bionic,MERGED,2018-07-29 22:13:55.000000000,2018-08-01 14:53:18.000000000,2018-08-01 14:53:18.000000000,3,3,0,586906,97017bf3b6712eb7ac58235e6f50e5d9e9a5f029,16,5,2,2,11628,Michael Johnson,johnsom,"Fix the bionic gate to actually run Ubuntu bionic

Change-Id: Ib8677d2b85e352b19abf5fd0b79c1b8653819301
"
openstack%2Fopenstack-ansible-os_keystone~master~I3b5066ef0f3f650beb9e057771d8636991d2bce2,openstack/openstack-ansible-os_keystone,master,bp/python-build-install-simplification,I3b5066ef0f3f650beb9e057771d8636991d2bce2,Remove python-keystoneclient package install,MERGED,2018-08-01 08:59:08.000000000,2018-08-01 14:48:50.000000000,2018-08-01 14:48:50.000000000,35,38,0,587728,e8508d43767ebcf2f25fa5970af4dd097ce57a6a,14,3,5,4,6816,Jesse Pretorius,jesse-pretorius,"Remove python-keystoneclient package install

The tests were using our keystone module, and therefore
required the keystone client present. This patch changes
the tests to remove that requirement.

Now that we no longer use our own keystone module, but
instead make use of the ansible runtime venv's shade
library and upstream ansible modules, we can eliminate
this package/library being installed on the host.

Change-Id: I3b5066ef0f3f650beb9e057771d8636991d2bce2
"
openstack%2Fopenstack-ansible-os_keystone~master~I597526761fbededbd69f524f19f3a66a5cd923a7,openstack/openstack-ansible-os_keystone,master,bionic-vars,I597526761fbededbd69f524f19f3a66a5cd923a7,Use generic vars file for ubuntu,MERGED,2018-08-01 09:00:43.000000000,2018-08-01 14:45:17.000000000,2018-08-01 14:45:17.000000000,0,93,0,587729,0f95ab0ab17787e8b1cd3ae653d1a218a914e803,9,3,2,2,6816,Jesse Pretorius,jesse-pretorius,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I597526761fbededbd69f524f19f3a66a5cd923a7
"
openstack%2Fnova~master~Idb1e5243d6d072e020e1532bec603e5cd219702e,openstack/nova,master,bug/1737854,Idb1e5243d6d072e020e1532bec603e5cd219702e,Fix the incorrect description and sample,MERGED,2017-12-15 07:25:54.000000000,2018-08-01 14:43:08.000000000,2018-08-01 14:43:08.000000000,2,33,7,528180,22ab1b62b311f238e91c48253b2c8fa9ad9fa328,49,21,3,1,19779,Chason Chan,chenxing,"Fix the incorrect description and sample

This patch fixes the following:
 * The description says, ""Here, a subset of metadata items
   are presented within the image."" This is a server sample,
   not an image.

 * The sample itself has the wrong id in the ""self"" link and
   there are no metadata_links with a server object (probably
   a carry over from an image docs sample).

Change-Id: Idb1e5243d6d072e020e1532bec603e5cd219702e
Closes-Bug: #1737854
"
openstack%2Fopenstack-ansible-repo_build~master~I57d1814d20a92a08d4d5bcaf673fbbee25593cf4,openstack/openstack-ansible-repo_build,master,bionic-vars,I57d1814d20a92a08d4d5bcaf673fbbee25593cf4,Use generic vars file for ubuntu,MERGED,2018-08-01 10:40:25.000000000,2018-08-01 14:36:25.000000000,2018-08-01 14:36:25.000000000,0,42,0,587763,83c689dfbcdab90f2b5371d1a1338928f5d96a02,8,4,1,2,6816,Jesse Pretorius,jesse-pretorius,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I57d1814d20a92a08d4d5bcaf673fbbee25593cf4
"
openstack%2Fsahara~master~I56a94d9045284259b0f0a8b3998106b754187c4f,openstack/sahara,master,,I56a94d9045284259b0f0a8b3998106b754187c4f,Fixing cluster creation on APIv2,MERGED,2018-07-31 17:39:23.000000000,2018-08-01 14:33:32.000000000,2018-08-01 14:33:32.000000000,1,1,1,587561,76549404c4d79a779774d1e64c1a113002e29c19,7,3,1,1,8932,Telles Mota Vidal Nóbrega,tellesnobrega,"Fixing cluster creation on APIv2

We missed this detail on the review. Right now the creation of a single cluster
fails.

Change-Id: I56a94d9045284259b0f0a8b3998106b754187c4f
"
openstack%2Ftripleo-ha-utils~master~I3d0f9cc3301ba6be893919b58473f3f4135ea789,openstack/tripleo-ha-utils,master,add_ability_to_apply_latency_before_ha_validation,I3d0f9cc3301ba6be893919b58473f3f4135ea789,Apply/Delete latency during HA validation,MERGED,2018-07-25 10:36:49.000000000,2018-08-01 14:27:11.000000000,2018-08-01 14:27:11.000000000,49,0,0,585707,534970198b596327e9fabf3a96b75552693a95bd,12,5,2,4,20936,Raoul Scarazzini,rasca,"Apply/Delete latency during HA validation

This commit adds the latency management into the HA validation process.
If a user wants to go trough the HA validation with a specific latency
applied on all the nodes he will pass the ""latency_ms"" variable with a
value greater than zero and a ""latency_eth_interface"" variable with the
value related to the device chose for the test.

Change-Id: I3d0f9cc3301ba6be893919b58473f3f4135ea789
"
openstack%2Ftripleo-ha-utils~master~I552ac093df0da25ae198cc99b19102643fe202ce,openstack/tripleo-ha-utils,master,introduce_latency_test,I552ac093df0da25ae198cc99b19102643fe202ce,Introduce latency test,ABANDONED,2018-07-23 18:00:30.000000000,2018-08-01 14:26:35.000000000,,70,0,0,584987,95d6be5e97c992a614badd25319f5ce5c89705b2,11,6,3,4,20936,Raoul Scarazzini,rasca,"Introduce latency test

This commit creates a new test related to latency between the nodes
(actually only controllers), user is required to pass the interface on
which to add latency (test_latency_eth_interface) and also the number of
latency tests can be overridden by passing test_latency_latencies
variable which, by default, test these latencies (in milliseconds): 2,
5, 8, 10, 12, 14, 16.

Change-Id: I552ac093df0da25ae198cc99b19102643fe202ce
"
openstack%2Fneutron~master~Iac3246d0eb59709749e0b7e857091447d11a0133,openstack/neutron,master,bp/live-migration-portbinding,Iac3246d0eb59709749e0b7e857091447d11a0133,use get_port_binding_by_status_and_host from lib,MERGED,2018-07-24 21:52:50.000000000,2018-08-01 14:20:56.000000000,2018-08-01 14:20:56.000000000,26,93,0,585559,d7942945c9447e5171f979c69c7af6a9623e305d,43,12,3,9,5367,boden,boden,"use get_port_binding_by_status_and_host from lib

The get_port_binding_by_status_and_host function was rehomed into
neutron-lib with https://review.openstack.org/#/c/580786/ and released
in neutron-lib 1.18.0. This patch consumes the function by removing it
in neutron and replacing all uses with lib's version.

NeutronLibImpact

Change-Id: Iac3246d0eb59709749e0b7e857091447d11a0133
"
openstack%2Fkolla~stable%2Fqueens~Ifaaead6f6efe35808ebf79ea0d4474fbb60c8994,openstack/kolla,stable/queens,yum_cache_cleanup-stable/queens,Ifaaead6f6efe35808ebf79ea0d4474fbb60c8994,add additional Remove yum cache,MERGED,2018-07-27 12:01:52.000000000,2018-08-01 14:14:04.000000000,2018-08-01 14:14:04.000000000,7,4,0,586520,48b09bbe362ee27ad35ef7f9d0da0e380a756348,7,3,1,2,16282,YaZug,yazug,"add additional Remove yum cache

as a followup to https://review.openstack.org/#/c/505143/
""Remove yum cache""

Change-Id: Ifaaead6f6efe35808ebf79ea0d4474fbb60c8994
(cherry picked from commit b50aec68215353c65e145d490452c8300dbf5252)
"
openstack%2Fpython-novaclient~master~Id6cbb4d78817ff4993b73538935cc4cc61b64a72,openstack/python-novaclient,master,use_jsonutils,Id6cbb4d78817ff4993b73538935cc4cc61b64a72,Use jsonutils of oslo.serialization,MERGED,2018-07-31 04:20:46.000000000,2018-08-01 14:13:26.000000000,2018-08-01 14:13:26.000000000,8,8,0,587278,1f75c7662d6759354210a63ab7cdc06ba4237a2d,7,3,1,4,7634,Takashi Natsume,natsumet,"Use jsonutils of oslo.serialization

Both standard json library and jsonutils of oslo.serialization are used.
Replace standard json library with jsonutils for consistency.

Change-Id: Id6cbb4d78817ff4993b73538935cc4cc61b64a72
"
openstack%2Fironic~master~Ic592b5fa39f0d19d5676906ecd5c8fcbebf8e25f,openstack/ironic,master,,Ic592b5fa39f0d19d5676906ecd5c8fcbebf8e25f,Add documentation for BIOS settings,MERGED,2018-07-24 11:42:11.000000000,2018-08-01 14:12:30.000000000,2018-08-01 14:12:30.000000000,157,0,13,585322,95a449357cbbaf5c34b810a470a5bfda447a15f5,33,7,9,6,6133,yolanda.robla,yolanda.robla,"Add documentation for BIOS settings

Update api-ref documentation, to add the BIOS
settings.

Change-Id: Ic592b5fa39f0d19d5676906ecd5c8fcbebf8e25f
"
openstack%2Fopenstack-ansible-galera_client~master~I761580fb37ee0d9a4fed5fb0c6c423be8fa5fd3f,openstack/openstack-ansible-galera_client,master,bionic-vars,I761580fb37ee0d9a4fed5fb0c6c423be8fa5fd3f,Use generic vars file for ubuntu,MERGED,2018-08-01 10:39:43.000000000,2018-08-01 14:11:52.000000000,2018-08-01 14:11:52.000000000,0,33,0,587760,c2ac9b5ff07966100c741aa183120fe1c8feec3f,7,3,1,2,6816,Jesse Pretorius,jesse-pretorius,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I761580fb37ee0d9a4fed5fb0c6c423be8fa5fd3f
"
openstack%2Fmonasca-api~master~Ibdd877a23ab5d6d1bbf8d83515c0197554098526,openstack/monasca-api,master,alembic_cmd,Ibdd877a23ab5d6d1bbf8d83515c0197554098526,Add monasca_db command line tool,MERGED,2018-07-04 14:36:32.000000000,2018-08-01 14:10:29.000000000,2018-08-01 14:10:29.000000000,337,25,20,580174,0250f81cdcb9e49361f24b52e76e1597a0674739,33,4,8,9,12542,Johannes Grassler,jgrassler,"Add monasca_db command line tool

This commit adds a schema management tool for the Monasca
configuration database. Apart from the usual OpenStack schema
management tool subcommands (stamp, upgrade, version) it has
two extra subcommands:

* fingerprint: for computing a SHA1 fingerprint of the
               currently currently active database schema.
* detect-revision: for identifiying the Alembic revision
                   (if any) corresponding to a database
                   schema that was created with one of the
                   legacy SQL scripts.

The data provided by the detect-revision subcommand can be
used for stamping the database with Alembic version metadata
when transitioning an existing Monasca configuration database
to Alembic based database migrations.

Story: 2001654
Task: 14341

Change-Id: Ibdd877a23ab5d6d1bbf8d83515c0197554098526
"
openstack%2Fsolum~master~Ibeb4a10eff0ec5a3e0600eb49b194a3b73fed8dc,openstack/solum,master,,Ibeb4a10eff0ec5a3e0600eb49b194a3b73fed8dc,Remove rabbit_max_retries option,ABANDONED,2018-08-01 11:54:53.000000000,2018-08-01 14:09:59.000000000,,0,6,0,587786,8db6a964d2c3cc0588463634192046fcbdf20ade,4,2,1,1,21486,wangqi,wangqi,"Remove rabbit_max_retries option

The rabbit_max_retries parameter has been deprecated

Change-Id: Ibeb4a10eff0ec5a3e0600eb49b194a3b73fed8dc
"
openstack%2Fopenstack-ansible-ceph_client~master~I387f212e785435fa59130c9689dd1a398cbd0da2,openstack/openstack-ansible-ceph_client,master,bionic-vars,I387f212e785435fa59130c9689dd1a398cbd0da2,Use generic vars file for ubuntu,MERGED,2018-08-01 10:39:04.000000000,2018-08-01 14:08:42.000000000,2018-08-01 14:08:42.000000000,0,52,0,587758,20b7b3cff53b78e0f0dbc6a26efcc9a6c3063e89,7,3,1,2,6816,Jesse Pretorius,jesse-pretorius,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I387f212e785435fa59130c9689dd1a398cbd0da2
"
openstack%2Fopenstack-ansible-os_molteniron~master~I937e429ef6ed673e750dd889d8d2034fd6ce463d,openstack/openstack-ansible-os_molteniron,master,bp/python-build-install-simplification,I937e429ef6ed673e750dd889d8d2034fd6ce463d,Move playbooks/config files into role examples,MERGED,2018-07-31 18:45:24.000000000,2018-08-01 14:08:29.000000000,2018-08-01 14:08:29.000000000,96,0,1,587587,f912c482c03ef09ea58cf8dd1806b98bb4e9a050,12,4,2,4,6816,Jesse Pretorius,jesse-pretorius,"Move playbooks/config files into role examples

As we're removing this role from the integrated build in
https://review.openstack.org/587586 we should keep the
playbook and example configs in the role as we do for
other roles not integrated.

Change-Id: I937e429ef6ed673e750dd889d8d2034fd6ce463d
"
openstack%2Fkolla-ansible~master~I4deea65876d0852ba2b48a8cf9bad94f4df2a18d,openstack/kolla-ansible,master,ironic-dnsmasq-gateway,I4deea65876d0852ba2b48a8cf9bad94f4df2a18d,Allow configuring a gateway for the inspection network,MERGED,2018-07-09 18:29:43.000000000,2018-08-01 13:53:29.000000000,2018-08-01 13:53:29.000000000,19,0,0,581102,69c1bf2d82460b5e483099bf695ace20ef31a0aa,9,3,2,4,14826,Mark Goddard,mgoddard,"Allow configuring a gateway for the inspection network

This is configured via the ironic_dnsmasq_default_gateway variable, and
is not set by default.

Change-Id: I4deea65876d0852ba2b48a8cf9bad94f4df2a18d
"
openstack%2Frally-openstack~master~I22d8585dafeeca50d625cafe05a7c0833e1b3c1e,openstack/rally-openstack,master,retore.cover,I22d8585dafeeca50d625cafe05a7c0833e1b3c1e,Restore coverage job,MERGED,2018-07-31 02:45:34.000000000,2018-08-01 13:53:28.000000000,2018-08-01 13:53:28.000000000,32,4,1,587268,96062c99da68e96b36738ff8b02e114c4b74ea53,18,4,6,3,21528,chenhb,chenhb,"Restore coverage job

Change-Id: I22d8585dafeeca50d625cafe05a7c0833e1b3c1e
"
openstack%2Fironic~master~Ief730a8bd9750a9ed6828506c3642f4dd7246c46,openstack/ironic,master,story/1753842,Ief730a8bd9750a9ed6828506c3642f4dd7246c46,Follow-up patch to ramdisk interface,MERGED,2018-07-26 18:55:17.000000000,2018-08-01 13:53:26.000000000,2018-08-01 13:53:26.000000000,34,40,4,586327,154d97b6345f5b5e46f375153daf89e0abc64b29,22,7,3,4,11655,Julia Kreger,jkreger,"Follow-up patch to ramdisk interface

* Breaks up and updates a few tests
* Switches some checks to be capability based
* Add decoratores to ramdisk deploy interface
* Switches ramdisk deploy interface to use deploy_steps.

Change-Id: Ief730a8bd9750a9ed6828506c3642f4dd7246c46
"
openstack%2Fos-net-config~master~Ibd9b28128900d9e959b82eb8673b8380bf20606a,openstack/os-net-config,master,bug/1783206,Ibd9b28128900d9e959b82eb8673b8380bf20606a,Fix numbered NIC mapping when using dotted VLAN notation,MERGED,2018-07-27 10:50:54.000000000,2018-08-01 13:52:30.000000000,2018-07-30 11:47:02.000000000,20,3,0,586507,e12837353dc3668da7cfc575777ef197df4b0497,9,7,1,2,12398,Dan Sneddon,dsneddon,"Fix numbered NIC mapping when using dotted VLAN notation

When declaring VLANs using dotted notation (such as em1.10
for VLAN 10 on interface em1), numbered NICs are not
properly mapped to real interface names. This patch fixes
the handling of the mapped NIC names inside the BaseOpts
object that is the base class for all interface types.
This allows an interface name of ""nic1.10"" to be mapped
to, e.g. ""em1.10""

Closes-bug: #1783206

Change-Id: Ibd9b28128900d9e959b82eb8673b8380bf20606a
"
openstack%2Freleases~master~Ic211dabcc903dde8848c4f9be9ed9a3f8806c23a,openstack/releases,master,jobs,Ic211dabcc903dde8848c4f9be9ed9a3f8806c23a,Move zuul jobs in-repo,MERGED,2018-07-20 21:09:36.000000000,2018-08-01 13:46:58.000000000,2018-08-01 13:46:58.000000000,18,1,0,584516,1a06e3de79ea50284e685e3da7e4d10ece7df129,10,3,2,1,11904,Sean McGinnis,SeanM,"Move zuul jobs in-repo

This moves the openstack-tox-py35 and openstack-tox-pep8 zuul jobs to be
defined in-repo.

Also, no need to run mnay of these jobs on patches that are only changing
documentation.

Change-Id: Ic211dabcc903dde8848c4f9be9ed9a3f8806c23a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fnova~master~I923c39d3115b595b8de94e85d2977eb7782d98e2,openstack/nova,master,sphinx-extensions-ftw,I923c39d3115b595b8de94e85d2977eb7782d98e2,Convert 'placement_api_docs' into a Sphinx extension,MERGED,2018-06-28 14:44:22.000000000,2018-08-01 13:45:35.000000000,2018-08-01 13:45:34.000000000,14,14,0,578826,a34731dad1df53d9c5102161363a4bef46b62e52,28,13,3,4,15334,Stephen Finucane,sfinucan,"Convert 'placement_api_docs' into a Sphinx extension

This ensures it will get run in the gate.

Change-Id: I923c39d3115b595b8de94e85d2977eb7782d98e2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
