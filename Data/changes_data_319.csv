id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fmistral~master~I8f2054c820f7774eb84155f1843cc871c87ca823,openstack/mistral,master,bug/manual,I8f2054c820f7774eb84155f1843cc871c87ca823,ref:https://specs.openstack.org/openstack/mistral-specs/specs/pike/approved/advanced_publishing.html,ABANDONED,2019-08-01 14:35:39.000000000,2019-08-02 02:10:59.000000000,,0,0,0,674053,cbf6356b869a6e96c598785176950fc306c6ff25,3,1,1,0,29811,"WEN-SHENG,LI",TitanLi,"ref:https://specs.openstack.org/openstack/mistral-specs/specs/pike/approved/advanced_publishing.html

Change-Id: I8f2054c820f7774eb84155f1843cc871c87ca823
"
openstack%2Ftripleo-validations~stable%2Fstein~Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da,openstack/tripleo-validations,stable/stein,molecule/dns-stable/stein,Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da,Adds molecule testing for DNS validation,MERGED,2019-08-01 11:05:34.000000000,2019-08-02 02:00:27.000000000,2019-08-02 02:00:27.000000000,130,0,0,674000,8ac7e8d392a76f1712c554822ba3e22d52f173df,7,4,2,3,11491,Gael Chamoulaud,gchamoul,"Adds molecule testing for DNS validation

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da
(cherry picked from commit 647e9afc264fab5a0672d372d7244a171104486e)
"
openstack%2Fnetworking-midonet~master~I68e2f333e1de3856bd1cfa4873c6f9dd8f1e8769,openstack/networking-midonet,master,use-callback-payloads,I68e2f333e1de3856bd1cfa4873c6f9dd8f1e8769,use payloads for NETWORK callback events,NEW,2019-07-12 20:06:18.000000000,2019-08-02 01:59:44.000000000,,11,3,0,670633,18c73c744c7d4ac5a8d3353dc011faa4da394ece,9,5,2,2,5367,boden,boden,"use payloads for NETWORK callback events

This patch switches over to the payload style of callbacks for
NETWORK based events.

It also updates the py35 zuul config to ensure neutron is used from
the master branch of git.

Depends-On: https://review.opendev.org/#/c/670611/

Change-Id: I68e2f333e1de3856bd1cfa4873c6f9dd8f1e8769
"
openstack%2Ftripleo-validations~stable%2Fstein~I20b55dc55b833a87930a4d9efd9fe81d4759ccb5,openstack/tripleo-validations,stable/stein,molecule/undercloud-disk-space-stable/stein,I20b55dc55b833a87930a4d9efd9fe81d4759ccb5,Adds molecule tests for undercloud-disk-space,MERGED,2019-08-01 11:06:03.000000000,2019-08-02 01:45:39.000000000,2019-08-02 01:45:38.000000000,127,0,0,674001,110d27f4e702aa9e7a4658defc68455674ee013e,7,4,2,3,11491,Gael Chamoulaud,gchamoul,"Adds molecule tests for undercloud-disk-space

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: I20b55dc55b833a87930a4d9efd9fe81d4759ccb5
(cherry picked from commit 5adfef9d9a61402617591ef58315b9cd62f60907)
"
openstack%2Ftripleo-validations~stable%2Fstein~Ie3226b708665b1733891d592a54cc6f2398899df,openstack/tripleo-validations,stable/stein,molecule/controller-token-stable/stein,Ie3226b708665b1733891d592a54cc6f2398899df,Adds molecule testing for controller-token,MERGED,2019-08-01 11:05:06.000000000,2019-08-02 01:45:39.000000000,2019-08-02 01:45:39.000000000,137,0,0,673999,0386bc224ab3a921cee56ef1372a038aa90a528e,7,4,2,3,11491,Gael Chamoulaud,gchamoul,"Adds molecule testing for controller-token

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: Ie3226b708665b1733891d592a54cc6f2398899df
(cherry picked from commit 1ace29c69400173e05346dbc4906e003f72899b6)
"
openstack%2Ftempest~master~Ia9f271ead6a6e3fb90afc935771e8da4d8990c3c,openstack/tempest,master,fix-indent,Ia9f271ead6a6e3fb90afc935771e8da4d8990c3c,Fix indentation in releasenotes,MERGED,2019-07-29 05:11:50.000000000,2019-08-02 01:28:11.000000000,2019-08-02 01:28:11.000000000,63,63,0,673208,4f6538e01868bca1a2b1df6688d4828fd9e8dbd5,8,4,1,14,5689,Masayuki Igawa,igawa,"Fix indentation in releasenotes

This commit fixes indentations in releasenotes. Due to the indentations,
the html contents are rendered as block quotes which is awkward.

Change-Id: Ia9f271ead6a6e3fb90afc935771e8da4d8990c3c
"
openstack%2Fneutron~master~I33bd17c723b3e8d409415bda008440f8ed9cfa68,openstack/neutron,master,bp/subnets-different-pools-same-net,I33bd17c723b3e8d409415bda008440f8ed9cfa68,Relax subnet pool network affinity constraints,MERGED,2019-06-26 05:34:52.000000000,2019-08-02 01:28:09.000000000,2019-08-02 01:28:09.000000000,325,10,63,667511,32182010c2c2050f37221824788a91d762081a0f,107,14,12,7,4187,Ryan Tidwell,ryan-tidwell,"Relax subnet pool network affinity constraints

This change relaxes the constraint that all subnets of the same
address family on a network must be allocated from the same subnet
pool. It allows subnets that share the same address scope to
co-exist on a network. If there is no address scope involved the
subnet pool / network affinity constraints continue to  enforced
as done previously.

Change-Id: I33bd17c723b3e8d409415bda008440f8ed9cfa68
Closes: 1830240
Implements: subnets-different-pools-same-net
"
openstack%2Ftripleo-validations~stable%2Fstein~I7009a4ae534a6ad437ca46f0d3d3505360dc21dc,openstack/tripleo-validations,stable/stein,molecule/haproxy-stable/stein,I7009a4ae534a6ad437ca46f0d3d3505360dc21dc,Adds Molecule to haproxy validation role,MERGED,2019-08-01 11:04:00.000000000,2019-08-02 01:21:11.000000000,2019-08-02 01:21:11.000000000,154,0,0,673997,f8366f746033317faeed18cc3f74ead62b4a9695,7,4,2,3,11491,Gael Chamoulaud,gchamoul,"Adds Molecule to haproxy validation role

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: I7009a4ae534a6ad437ca46f0d3d3505360dc21dc
(cherry picked from commit 06bb613979a4c4e1c297c3f8feed244af1142046)
"
openstack%2Ffreezer-api~master~I3d580b4422826d02cbced24df8fa688890557dcb,openstack/freezer-api,master,,I3d580b4422826d02cbced24df8fa688890557dcb,Replace git.openstack.org with opendev.org,ABANDONED,2019-04-23 03:01:47.000000000,2019-08-02 01:19:16.000000000,,1,1,0,654683,f9d3c588f63439f9d3cd11b88d1dca3fdb2a6221,7,5,1,1,28614,jacky06,jacky06,"Replace git.openstack.org with opendev.org

Change-Id: I3d580b4422826d02cbced24df8fa688890557dcb
"
openstack%2Fcongress-dashboard~master~If22ab1fffe3edec4795d29e4f74ca8776f62bfd9,openstack/congress-dashboard,master,,If22ab1fffe3edec4795d29e4f74ca8776f62bfd9,Update json module to jsonutils,ABANDONED,2019-03-01 02:48:49.000000000,2019-08-02 01:17:35.000000000,,5,4,3,640249,04025c24142d7cf7cd95d8c1875466654a5eb852,22,11,6,3,28614,jacky06,jacky06,"Update json module to jsonutils

oslo project provide jsonutils, and congress use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/congress/search?utf8=%E2%9C%93&q=jsonutils&type=

Change-Id: If22ab1fffe3edec4795d29e4f74ca8776f62bfd9
"
openstack%2Ftripleo-validations~stable%2Fstein~I2fc48005c91dd5e4cf81a3b3eb2f1f73a2bca92c,openstack/tripleo-validations,stable/stein,molecule-stable-stein,I2fc48005c91dd5e4cf81a3b3eb2f1f73a2bca92c,Make Verify the RAM requirements task failing again,MERGED,2019-07-16 12:43:46.000000000,2019-08-02 01:15:34.000000000,2019-08-02 01:15:34.000000000,1,16,0,671020,23dd988ac3c85891f3b2998d3625952e46b79908,8,5,2,2,11491,Gael Chamoulaud,gchamoul,"Make Verify the RAM requirements task failing again

Commit 5bd41653b6bf097bc505b56ff539c26e440cdadb changes the tasks to use
the debug module instead of fail module.

This patch makes that task failing again and removes the useless
verify.yml file.

Change-Id: I2fc48005c91dd5e4cf81a3b3eb2f1f73a2bca92c
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 4e6c26df546ee24903352f66d4a2e5d95fff10ad)
"
openstack%2Ftripleo-validations~stable%2Fstein~If1658d887aaa8559df919d787223ddff295bac50,openstack/tripleo-validations,stable/stein,molecule-stable-stein,If1658d887aaa8559df919d787223ddff295bac50,Add Molecule tests for the role xfs-check-ftype.,MERGED,2019-07-10 10:37:34.000000000,2019-08-02 01:15:34.000000000,2019-08-02 01:15:34.000000000,182,1,0,670028,c7923e06ae367b280ad290bf763bec347f9173ef,10,6,2,6,11491,Gael Chamoulaud,gchamoul,"Add Molecule tests for the role xfs-check-ftype.

Change-Id: If1658d887aaa8559df919d787223ddff295bac50
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 3619fe33e98a136f232fcfb26045594a0a3081b9)
"
openstack%2Ftripleo-validations~stable%2Fstein~I0551ab56324ede7f1d33e0e9a680c26ea164023c,openstack/tripleo-validations,stable/stein,molecule-stable-stein,I0551ab56324ede7f1d33e0e9a680c26ea164023c,Add Molecule tests for the role undercloud-ram.,MERGED,2019-07-09 15:55:59.000000000,2019-08-02 01:15:32.000000000,2019-08-02 01:15:32.000000000,184,7,1,669898,ee5b42e8d32e6409252ba9a1ea6f5967760643fd,20,5,5,7,11491,Gael Chamoulaud,gchamoul,"Add Molecule tests for the role undercloud-ram.

Change-Id: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Signed-off-by: Luke Short <ekultails@gmail.com>
Co-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>
(cherry picked from commit 5bd41653b6bf097bc505b56ff539c26e440cdadb)
"
openstack%2Fdesignate-dashboard~master~I2c6d07c80d9a4af225a20ccd466240809788b390,openstack/designate-dashboard,master,,I2c6d07c80d9a4af225a20ccd466240809788b390,Fix py35/py36 gate jobs,ABANDONED,2019-07-04 14:23:54.000000000,2019-08-02 01:13:53.000000000,,1,1,1,669189,910db2ab4aa7906c86f435f6b11b9a1f5dd1ec9c,5,2,2,1,28614,jacky06,jacky06,"Fix py35/py36 gate jobs

py35/py36 jobs are failing
python 3.6 pycache also includes links - so those also
need to be removed by tox testenv

Change-Id: I2c6d07c80d9a4af225a20ccd466240809788b390
"
openstack%2Fdesignate-dashboard~master~I97ed4bc0e722180315eb992233ac7829f0f7bbe7,openstack/designate-dashboard,master,,I97ed4bc0e722180315eb992233ac7829f0f7bbe7,Sync Sphinx requirement,ABANDONED,2019-06-18 15:11:44.000000000,2019-08-02 01:13:29.000000000,,8,7,0,666018,5fa57dc887dc478632c31f1cf56f7a1adbe6b0f3,10,5,2,4,28614,jacky06,jacky06,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Remove unncessary ""==""

Change-Id: I97ed4bc0e722180315eb992233ac7829f0f7bbe7
"
openstack%2Ftripleo-common~master~I5829addb715c4836dd27750daa67f2e472084b34,openstack/tripleo-common,master,bug/1838272,I5829addb715c4836dd27750daa67f2e472084b34,Add docker/podman packages to nova_libvirt container,MERGED,2019-07-29 15:00:57.000000000,2019-08-02 01:08:54.000000000,2019-08-02 01:08:54.000000000,18,4,9,673307,f6eb3c8db7f72acc54e80531b8f083ed084679f6,27,9,4,1,17216,Martin Schuppert,mcschupp,"Add docker/podman packages to nova_libvirt container

The nova_libvirt containers need to be able to launch containers for
the virtlogd process to be not managed by paunch.

We only add docker if distro_python_version.startswith('2') . This
applies to
- nova_libvirt_packages_append
- neutron_metadata_agent_ovn_packages_append
- neutron_l3_agent_packages_append
- neutron_dhcp_agent_packages

Related-Bug: #1838272

Change-Id: I5829addb715c4836dd27750daa67f2e472084b34
"
openstack%2Fopenstack-helm-infra~master~I29608cd8b6ce1e30615a0f92853939d7bbae9972,openstack/openstack-helm-infra,master,,I29608cd8b6ce1e30615a0f92853939d7bbae9972,Ceph-Client: update configmap name for defragosds cronjob,MERGED,2019-08-01 15:11:48.000000000,2019-08-02 00:21:41.000000000,2019-08-02 00:21:41.000000000,3,8,4,674070,acd5d11bc22a38eac88fb2b9ea647053d9e78180,25,7,8,2,28372,chinasubbareddy mallavarapu,chinasubbareddy,"Ceph-Client: update configmap name for defragosds cronjob

This is to update configmap names using by defragosds cronjob.

Change-Id: I29608cd8b6ce1e30615a0f92853939d7bbae9972
"
openstack%2Fneutron-lib~master~I53c6538dfbeea9691d95c6c555f0c56ae13d1a33,openstack/neutron-lib,master,ethertype_validator_fix,I53c6538dfbeea9691d95c6c555f0c56ae13d1a33,Ensure that extended ethertypes still work by name,MERGED,2019-07-30 21:18:46.000000000,2019-08-02 00:20:52.000000000,2019-08-02 00:20:52.000000000,30,6,0,673692,24aef1398b5b69967696aa8cb6598ab1be37c626,10,5,2,4,13995,Nate Johnston,natejohnston,"Ensure that extended ethertypes still work by name

When the change to add support for extended ethertypes was introduced,
one scenario for backwards compatibility was not addressed in the
validator: using the canonical string names for ethertypes.  This was
previously supported in the original implementation, using 'IPv4' or
'IPv6' for example.

Since the list of canonical ethertype names is available from os-ken we
consume it from there, which adds an additional dependency for
neutron-lib.

Related-Bug: #1838473
Change-Id: I53c6538dfbeea9691d95c6c555f0c56ae13d1a33
"
openstack%2Fmagnum~master~I0ddfd7fde55302809a98bb8a6d745de4079b9a87,openstack/magnum,master,python3-train,I0ddfd7fde55302809a98bb8a6d745de4079b9a87,Add Python 3 Train unit tests,MERGED,2019-07-02 02:42:08.000000000,2019-08-01 23:46:15.000000000,2019-08-01 23:46:15.000000000,3,3,0,668570,58230546272e698d3390b9b2f7aedd09fdea7808,20,7,2,3,27822,pengyuesheng,pengyuesheng,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I0ddfd7fde55302809a98bb8a6d745de4079b9a87
Story: #2005924
Task: #34219
"
openstack%2Fironic~master~I55b85d52ec905150322633b07ecdacd293bf1a57,openstack/ironic,master,story_2006218,I55b85d52ec905150322633b07ecdacd293bf1a57,Creation of UEFI ISO fails with efiboot.img,MERGED,2019-07-13 15:38:36.000000000,2019-08-01 23:27:29.000000000,2019-08-01 23:27:28.000000000,22,5,9,670698,13dcb33faaf38a3ae97174eda1b8cfc1800b2b9b,76,12,5,3,11076,Shivanand Tendulker,stendulker,"Creation of UEFI ISO fails with efiboot.img

Creation for UEFI boot mode when efiboot.img file is provided and
the directory of location of grub.cfg file set using config
``[DEFAULT]/grub_config_path`` is not same as that of efiboot.img
file.

Change-Id: I55b85d52ec905150322633b07ecdacd293bf1a57
Story: 2006218
Task: 35811
"
openstack%2Fopenstack-ansible-os_ironic~master~I429cffc8782c19fb2522520238ac356ab3c0a038,openstack/openstack-ansible-os_ironic,master,,I429cffc8782c19fb2522520238ac356ab3c0a038,redhat: add qemu-img-ev to dependencies,MERGED,2019-07-31 20:06:04.000000000,2019-08-01 23:09:04.000000000,2019-08-01 23:09:04.000000000,1,0,0,673905,5d74ab936af32bdf5f00f6e96b3f0708aac90ce5,12,3,1,1,1004,Mohammed Naser,mnaser,"redhat: add qemu-img-ev to dependencies

Ironic needs qemu-img in order to be able to convert images so this
commit adds it to the list of dependencies.

Change-Id: I429cffc8782c19fb2522520238ac356ab3c0a038
"
openstack%2Fmagnum~master~I9a167c082d685f02766349ba9e301afd52d0d284,openstack/magnum,master,sphinx,I9a167c082d685f02766349ba9e301afd52d0d284,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-02 02:45:27.000000000,2019-08-01 22:56:53.000000000,2019-08-01 22:56:53.000000000,2,2,1,668572,5438a3c6e306b41fdef69de5772f7d682a32a55c,13,5,3,2,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I9a167c082d685f02766349ba9e301afd52d0d284
"
openstack%2Fopenstack-helm~master~I23b35aee298e2e414e93ff34cd0a7012a9099e3d,openstack/openstack-helm,master,rm-priv,I23b35aee298e2e414e93ff34cd0a7012a9099e3d,Allow allowPrivilegeEscalation,MERGED,2019-08-01 00:22:18.000000000,2019-08-01 22:45:19.000000000,2019-08-01 22:45:19.000000000,0,1,0,673930,50c982eab03a0d04487479680c02f74bc6ef3e29,10,6,1,1,20466,Tin Lam,tinlam,"Allow allowPrivilegeEscalation

Cinder requires rootwrap functionality that we cannot disable
allowPrivilegeEscalation. This patch set removes the line
that disables it by default.

Change-Id: I23b35aee298e2e414e93ff34cd0a7012a9099e3d
Signed-off-by: Tin Lam <tin@irrational.io>
"
openstack%2Fmagnum-ui~master~Ia622efbbf222a3a0d58e1582976b4a45b4b1da23,openstack/magnum-ui,master,Bug#1,Ia622efbbf222a3a0d58e1582976b4a45b4b1da23,Update sphinx dependency,MERGED,2019-06-21 05:53:58.000000000,2019-08-01 22:25:56.000000000,2019-08-01 22:25:56.000000000,2,1,0,666775,baccaeb7939e5183dbd69e4936d4ef2e6a151e5e,7,5,1,1,27822,pengyuesheng,pengyuesheng,"Update sphinx dependency

Sphinx 2.0 no longer works on python 2.7,
so we need to start capping it there as well
depend on https://review.opendev.org/#/c/657890/

Change-Id: Ia622efbbf222a3a0d58e1582976b4a45b4b1da23
"
openstack%2Fmagnum~master~Iec43df292dbd6a7e7ee33a0d4b8670b653a7ebbd,openstack/magnum,master,heat-container-agent-train-dev,Iec43df292dbd6a7e7ee33a0d4b8670b653a7ebbd,Set train-dev as the default tag for heat-container-agent,MERGED,2019-07-25 22:02:50.000000000,2019-08-01 22:22:53.000000000,2019-08-01 22:22:52.000000000,7,3,0,672832,c6bf1da085383795d4f412c6af78693ee395badf,10,4,1,4,6484,Feilong Wang,flwang,"Set train-dev as the default tag for heat-container-agent

Based on the policy of heat-container-agent tag, now it's updated
as train-dev and as long as we release Train, it will be updated
with train-stable.

Change-Id: Iec43df292dbd6a7e7ee33a0d4b8670b653a7ebbd
"
openstack%2Fopenstacksdk~master~I5e3b4c70bc0875a1dfcc587b60a95258a61b4407,openstack/openstacksdk,master,retire-api-site,I5e3b4c70bc0875a1dfcc587b60a95258a61b4407,Update links,MERGED,2019-07-30 05:06:52.000000000,2019-08-01 22:07:23.000000000,2019-08-01 22:07:23.000000000,39,27,0,673401,7d25db261094d32c01e63f645ef4c8a7b195c431,16,5,2,27,6547,Andreas Jaeger,jaegerandi,"Update links

The openstacksdk docs are published at docs.o.o, not developer.o.o since
quite some time. Fix links to point to current version of docs.

Add missing links, thus removing some TODOs.

Change-Id: I5e3b4c70bc0875a1dfcc587b60a95258a61b4407
"
openstack%2Fpython-openstackclient~master~I52891fe36c84d0df3e868ab4f3c8e2357e9ba529,openstack/python-openstackclient,master,forced_down,I52891fe36c84d0df3e868ab4f3c8e2357e9ba529,Mention compute service set --up|--down requires 2.11 or greater,MERGED,2019-07-24 16:03:39.000000000,2019-08-01 21:56:42.000000000,2019-08-01 21:56:41.000000000,7,4,1,672554,b52a831f6b92daaba100e09299ec967679adf308,9,3,1,2,6873,Matt Riedemann,mriedem,"Mention compute service set --up|--down requires 2.11 or greater

This simply updates the docs for the compute service set --up
and --down options to mention that --os-compute-api-version 2.11
or greater is required to use those options.

Change-Id: I52891fe36c84d0df3e868ab4f3c8e2357e9ba529
"
openstack%2Fpython-openstackclient~master~Ic396fc23caa66b6b0034c5d30b27c6ed499de5a6,openstack/python-openstackclient,master,bug/1735575,Ic396fc23caa66b6b0034c5d30b27c6ed499de5a6,Support IPv6 addresses better,MERGED,2017-11-30 22:57:29.000000000,2019-08-01 21:54:02.000000000,2019-08-01 21:54:02.000000000,79,15,0,524420,969e6abd20570ae64b3d1fd049da1521fa148b5c,36,7,6,5,1131,Brian Haley,brian-haley,"Support IPv6 addresses better

When adding a security group rule, if no IP address is given
we will use '0.0.0.0/0', but if the ethertype is IPv6 we will
leave it as None.  Change this to be '::/0' to match what we
do for IPv4 - use the ""any"" address.  The neutron server
treats them both the same when checking for duplicates.

Because there are most likely entries in the DB using None
for the IP, print them as '0.0.0.0/0' or '::/0' so it is more
obvious what address they are actually referring to.

Also change to display the Ethertype column by default
instead of with --long, since easily knowing IPv4 or IPv6
is useful.

Change-Id: Ic396fc23caa66b6b0034c5d30b27c6ed499de5a6
Closes-bug: #1735575
"
openstack%2Fkeystone~master~I5de14b5bd2d96c2f78152eda48842d388109e02b,openstack/keystone,master,bug/1838037,I5de14b5bd2d96c2f78152eda48842d388109e02b,Deprecate keystone.conf.memcache socket_timeout,MERGED,2019-07-25 05:56:02.000000000,2019-08-01 21:47:09.000000000,2019-08-01 21:47:09.000000000,18,0,7,672629,4b747fa083ad09ae8ba92dadc63ac0b830c7e562,17,5,3,2,19779,Chason Chan,chenxing,"Deprecate keystone.conf.memcache socket_timeout

Change-Id: I5de14b5bd2d96c2f78152eda48842d388109e02b
Partial-Bug: #1838037
Closes-Bug: #1837407
"
openstack%2Fnetworking-bgpvpn~master~I95fd291ef583145e8549650b870247d306da8b95,openstack/networking-bgpvpn,master,retire-api-site,I95fd291ef583145e8549650b870247d306da8b95,Update api-ref location,MERGED,2019-07-22 18:55:00.000000000,2019-08-01 21:42:37.000000000,2019-08-01 21:42:37.000000000,5,5,0,672137,9ec426c0c5257735d7d6da6fda5fe508515d4dc8,9,5,1,2,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I95fd291ef583145e8549650b870247d306da8b95
"
openstack%2Frequirements~master~I16496f325858094862d99b568dd01c0b65f8db2e,openstack/requirements,master,new-release,I16496f325858094862d99b568dd01c0b65f8db2e,update constraint for openstacksdk to new release 0.32.0,MERGED,2019-08-01 09:44:25.000000000,2019-08-01 21:32:20.000000000,2019-08-01 21:32:19.000000000,1,1,0,673987,e021ce6144933d0443eb6342ebe8accd9066daa9,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for openstacksdk to new release 0.32.0

Change-Id: I16496f325858094862d99b568dd01c0b65f8db2e
meta:version: 0.32.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: Ifb045ea76a79d91c7d6d6bfe312cb9ca821868d2
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Code-Review+1: David Shrewsbury <dshrewsb@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
"
openstack%2Fneutron~master~I769a5a59926cc42dcf0cdda5964bd42c8a864a34,openstack/neutron,master,use-callback-payloads,I769a5a59926cc42dcf0cdda5964bd42c8a864a34,use callback payloads for PROVISIONING_COMPLETE,MERGED,2019-07-31 15:18:23.000000000,2019-08-01 21:32:15.000000000,2019-08-01 21:32:14.000000000,25,15,0,673843,e124f5b6478735d3bcd63305de69dd55ca90ac79,13,9,1,4,5367,boden,boden,"use callback payloads for PROVISIONING_COMPLETE

This patch switches over to callback payloads for PROVISIONING_COMPLETE
events.

NeutronLibImpact

Change-Id: I769a5a59926cc42dcf0cdda5964bd42c8a864a34
"
openstack%2Fneutron~stable%2Frocky~Ie581809f24f9547b55a87423dac7db933862d66a,openstack/neutron,stable/rocky,bug/1828375,Ie581809f24f9547b55a87423dac7db933862d66a,Retry trunk status updates failing with StaleDataError,MERGED,2019-07-31 07:24:29.000000000,2019-08-01 21:32:05.000000000,2019-08-01 21:32:05.000000000,95,5,0,673744,80389bb4ee8a9cd52401187b278e339c69d9f295,15,5,1,2,11975,Slawek Kaplonski,slaweq,"Retry trunk status updates failing with StaleDataError

This is an approximate partial fix to #1828375.

update_trunk_status and update_subport_bindings rpc messages are
processed concurrently and possibly out of order on the server side.
Therefore they may race with each other.

The status update race combined with
1) the versioning feature of sqlalchemy used in the standardattributes
   table and
2) the less than serializable isolation level of some DB backends (like
   MySQL InnoDB)
does raise StaleDataErrors and by that leaves some trunk subports in
DOWN status.

This change retries the trunk status update (to BUILD) blindly when
StaleDataError was caught. In my local testbed this practically
fixes #1828375.

However theoretically the retry may cover up other real errors (when the
cause of the StaleDataError was a different status not just a different
revision count).

To the best of my understanding a proper fix would entail guaranteeing
the in order processing of the above rpc messages - which likely won't
ever happen.

I'm not sure at all if this change is worth merging - let me know what
you think.

Conflicts:
    neutron/services/trunk/rpc/server.py
    neutron/tests/unit/services/trunk/rpc/test_server.py

Change-Id: Ie581809f24f9547b55a87423dac7db933862d66a
Partial-Bug: #1828375
(cherry picked from commit 618e24e241241c7323702a815542f11e91fd32a1)
(cherry picked from commit d090fb9a3cbad6c4c3f5c524907a94cb5f95b205)
"
openstack%2Fneutron~stable%2Fqueens~Ie581809f24f9547b55a87423dac7db933862d66a,openstack/neutron,stable/queens,bug/1828375-stable/queens,Ie581809f24f9547b55a87423dac7db933862d66a,Retry trunk status updates failing with StaleDataError,MERGED,2019-07-31 07:24:46.000000000,2019-08-01 21:32:02.000000000,2019-08-01 21:32:02.000000000,95,5,0,673745,10191fd81706f302f2114c8a196d5e0a0cd1b5db,14,5,1,2,11975,Slawek Kaplonski,slaweq,"Retry trunk status updates failing with StaleDataError

This is an approximate partial fix to #1828375.

update_trunk_status and update_subport_bindings rpc messages are
processed concurrently and possibly out of order on the server side.
Therefore they may race with each other.

The status update race combined with
1) the versioning feature of sqlalchemy used in the standardattributes
   table and
2) the less than serializable isolation level of some DB backends (like
   MySQL InnoDB)
does raise StaleDataErrors and by that leaves some trunk subports in
DOWN status.

This change retries the trunk status update (to BUILD) blindly when
StaleDataError was caught. In my local testbed this practically
fixes #1828375.

However theoretically the retry may cover up other real errors (when the
cause of the StaleDataError was a different status not just a different
revision count).

To the best of my understanding a proper fix would entail guaranteeing
the in order processing of the above rpc messages - which likely won't
ever happen.

I'm not sure at all if this change is worth merging - let me know what
you think.

Conflicts:
    neutron/services/trunk/rpc/server.py
    neutron/tests/unit/services/trunk/rpc/test_server.py

Change-Id: Ie581809f24f9547b55a87423dac7db933862d66a
Partial-Bug: #1828375
(cherry picked from commit 618e24e241241c7323702a815542f11e91fd32a1)
(cherry picked from commit d090fb9a3cbad6c4c3f5c524907a94cb5f95b205)
"
openstack%2Fdevstack~stable%2Fpike~I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4,openstack/devstack,stable/pike,,I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4,zuul: new variable to easily populate TEMPEST_PLUGINS,MERGED,2019-07-30 07:45:44.000000000,2019-08-01 21:32:00.000000000,2019-08-01 21:32:00.000000000,94,42,0,673433,5a16a376a5b747096799bab2aea8510f21c8cb06,19,3,1,4,10459,Luigi Toscano,ltoscano,"zuul: new variable to easily populate TEMPEST_PLUGINS

TEMPEST_PLUGINS contains the list of the tempest plugins installed
alongside tempest by lib/tempest.
If TEMPEST_PLUGINS is not explicitly set, the new tempest_plugins
variable is used to fill it by combining its items with
the base devstack path.

Change-Id: I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4
(cherry picked from commit 70d043dd6039fb55aa9d40d593839037bb8c43cf)
"
openstack%2Fnova~stable%2Frocky~I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4,openstack/nova,stable/rocky,bug/1195361,I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4,Avoid crashing while getting libvirt capabilities with unknown arch names,MERGED,2019-07-25 14:35:08.000000000,2019-08-01 21:31:54.000000000,2019-08-01 21:31:54.000000000,19,5,0,672746,2b86a9caccb37c1800f3b5e6f4b29218a7539479,10,6,1,2,6873,Matt Riedemann,mriedem,"Avoid crashing while getting libvirt capabilities with unknown arch names

In _get_instance_capabilities() we get a list of host capabilities and then
build a list of arches supported by the virt type of an instance to arrive
at the list of possibilities for the instance. We check each of those
against our enum, but fail to gracefully skip unsupported values should we
encounter one.

This patch makes that graceful, and also introduces an unsupported arch to
the test stub to make sure we always skip it. Note that we do not warn
because this happens once per instance in a periodic task, and since the
situation is caused by a (somewhat permanent) mismatch of libvirt and
nova version support, isn't something that needs to be remedied by an
operator.

Closes-Bug: #1820125
Change-Id: I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4
(cherry picked from commit 71df650d0a390d2b6b19928db4379e723e9f5cde)
"
openstack%2Fnova~stable%2Frocky~Id14993db6ea33b2da14caa4b58671fc57c182706,openstack/nova,stable/rocky,bug/1829506,Id14993db6ea33b2da14caa4b58671fc57c182706,Fix type error on call to mount device,MERGED,2019-07-08 13:25:40.000000000,2019-08-01 21:31:47.000000000,2019-08-01 21:31:47.000000000,3,1,0,669664,e3cd1d9baa74181cbac1765291ad67654b35721d,12,7,1,2,6873,Matt Riedemann,mriedem,"Fix type error on call to mount device

The call in nova.virt.disk.mount.api.Mount.mnt_dev() to
nova.privsep.fs.mount() should include the `options` argument to
fulfill with the method signature.

The test test_do_mount_need_to_specify_fs_type has been modified to
check that the caller use the correct signature.

Closes-Bug: 1829506

Change-Id: Id14993db6ea33b2da14caa4b58671fc57c182706
Signed-off-by: Miguel Herranz <miguel@midokura.com>
(cherry picked from commit d2ef1ce309c28a5416af4cc00662ad6925574004)
(cherry picked from commit 8371073ac7a3439ea5b6ce9091a91e77cf88020e)
"
openstack%2Fnova~stable%2Frocky~I58a4038b04d5a9c28927d914e71609e4deea3d9f,openstack/nova,stable/rocky,bug/1837075,I58a4038b04d5a9c28927d914e71609e4deea3d9f,libvirt: move checking CONF.my_ip to init_host(),MERGED,2019-07-22 19:47:43.000000000,2019-08-01 21:31:38.000000000,2019-08-01 21:31:38.000000000,24,7,0,672155,65d2e455e323a627ef228ed57a1f0c86d8252665,13,6,2,4,8864,Artom Lifshitz,artom,"libvirt: move checking CONF.my_ip to init_host()

Migrations use the libvirt driver's get_host_ip_addr() method to
determine the dest_host field of the migration object.
get_host_ip_addr() checks whether CONF.my_ip is actually assigned to
one of the host's interfaces. It does so by calling
get_machine_ips(), which iterates over all of the host's interfaces.
If the host has many interfaces, this can take a long time, and
introduces needless delays in processing the migration.
get_machine_ips() is only used to print a warning, so this patch moves
the get_machine_ips() call to a single method in init_host(). This
way, a warning is still emitted at compute service startup, and
migration progress is not needlessly slowed down.

NOTE(artom) While the following paragraph still applies, the poison
patch will not be backported. Stubbing out use of
netifaces.interfaces() is still a good thing to do, however.

This patch also has a chicken and egg problem with the patch on top of
it, which poisons use of netifaces.interfaces() in tests. While this
patch fixes all the tests that break with that poison, it starts
breaking different tests because of the move of get_machine_ips() into
init_host(). Therefore, while not directly related to the bug, this
patch also preventatively mocks or stubs out any use of
get_machine_ips() that will get poisoned with the subsequent patch.

Closes-bug: 1837075
Change-Id: I58a4038b04d5a9c28927d914e71609e4deea3d9f
(cherry picked from commit 30d8159d4ee51a26a03de1cb134ea64c6c07ffb2)
(cherry picked from commit 560317c766afc4a4c4c5017ecfc9ce432fe63ea7)
"
openstack%2Fnova~stable%2Frocky~I51673e58fc8d5f051df911630f6d7a928d123a5b,openstack/nova,stable/rocky,bug/1832028,I51673e58fc8d5f051df911630f6d7a928d123a5b,Revert resize: wait for events according to hybrid plug,MERGED,2019-07-12 20:22:09.000000000,2019-08-01 21:31:31.000000000,2019-08-01 21:31:30.000000000,351,44,0,670648,d9892abd2f096c05a2885a4902128941a24f5670,16,5,2,9,8864,Artom Lifshitz,artom,"Revert resize: wait for events according to hybrid plug

Since 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a
resized instance back to the source host, the libvirt driver waits for
vif-plugged events when spawning the instance. When called from
finish_revert_resize() in the source compute manager, libvirt's
finish_revert_migration() does not pass vifs_already_plugged to
_create_domain_and_network(), making the latter use the default False
value.

When the source compute manager calls
network_api.migrate_instance_finish() in finish_revert_resize(), this
updates the port binding back to the source host. If Neutron is
configured to use OVS hybrid plug, it will send the vif-plugged event
immediately after completing this request. This happens before the
virt driver's finish_revert_migration() method is called. This causes
the wait in the libvirt driver to time out because the event is
received before Nova starts waiting for it.

The neutron ovs l2 agent sends vif-plugged events when two conditions
are met. First the port must be bound to the host managed by the
l2 agent and second, the agent must have completed configuring the
port on ovs. This involves assigning the port a local VLAN for tenant
isolation, applying security group rules if required and applying
QoS policies or other agent extensions like service function chaining.

During the boot process, we bind the port first to the host
then plug the interface into ovs which triggers the l2 agent to
configure it resulting in the emission of the vif-plugged event.
In the revert case, as noted above, since the vif is already plugged
on the source node when hybrid-plug is used, binding the port to the
source node fulfils the second condition to send the vif-plugged event.

Events sent immediately after port binding update are hereafter known
as ""bind-time"" events. For ports that do not use OVS hybrid plug,
Neutron will continue to send vif-plugged events only when Nova
actually plugs the VIF. These types of events are hereafter known as
""plug-time"" events. OVS hybrid plug is a per agent setting, so for
a particular host, bind-time events are an all-or-nothing thing for the
ovs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports
have them. In general, a host will only have one network backend.
The only exception to this is SR-IOV. SR-IOV is commonly deployed on
the same host as other network backends such as OVS or linuxbridge.
SR-IOV ports with VNIC_TYPE=direct-physical will always have only
bind-time events. If an instance mixes OVS ports with hybrid-plug=False
with direct physical ports, it will have both kinds of events.

For same host resize reverts we do not update the binding host as the
host does not change, as such for same host resize we do not receive
bind time events. For same host revert we therefore do not wait for
bind time events in the compute manager.

This patch adds functions to the NetworkInfo model that return what
kinds of events each VIF has. These are then used in the migration
revert logic to decide when to wait for external events: in the
compute manager, when binding the port, for bind-time events,
and/or in libvirt, when plugging the VIFs, for plug-time events.

(cherry picked from commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b)
Conflicts in nova/tests/unit/objects/test_migration.py due to
1cf3da87027d87251920c2df665b850abb31178e's addition of
test_obj_make_compatible() and test_get_by_uuid().

(cherry picked from commit 7a3a8f325ef6eaa97de1cf74efbaa0079f61a9e6)
NOTE(artom) uuidsentinel was moved to oslo_utils.fixture in Stein, in
Rocky it was still in nova.tests.

Closes-bug: #1832028
Closes-Bug: #1833902
Co-Authored-By: Sean Mooney <work@seanmooney.info>
Change-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b
"
openstack%2Foctavia~master~I9bdd6f2913c0da2b0772b4b694309ef993289360,openstack/octavia,master,bug/2005947,I9bdd6f2913c0da2b0772b4b694309ef993289360,Add failover logging to show the amphora details.,MERGED,2019-06-25 09:52:00.000000000,2019-08-01 21:30:29.000000000,2019-08-01 21:30:29.000000000,50,2,6,667316,93e06a9239a0f4b2bcdcdca9e13e800e75b1f237,42,8,5,2,9057,Noboru Iwamatsu,r0ckpine,"Add failover logging to show the amphora details.

When failover occurs, Octavia health-manager doesn't log any
information about the loadbalancer.  Due to this, operators can't
specify which loadbalancer got failed and which user was affected
by the failover.

This commit fix this issue by logging not only amphora_id but also
the linking information (e.g. loadbalancer_id, compute_id, ..)
when performing/completed the failover.

Change-Id: I9bdd6f2913c0da2b0772b4b694309ef993289360
Task: 34312
Story: 2005947
"
openstack%2Fnetworking-midonet~master~I714bcb81d9446f14c909707f09eda44f60c651c1,openstack/networking-midonet,master,use-callback-payloads,I714bcb81d9446f14c909707f09eda44f60c651c1,use callback payloads for SECURITY_GROUP,NEW,2019-08-01 20:39:03.000000000,2019-08-01 21:04:19.000000000,,5,5,0,674132,739e80766c8ebbb36ff12f415d95f79035f88b11,2,1,1,1,5367,boden,boden,"use callback payloads for SECURITY_GROUP

This patch switches over to callback payloads for SECURITY_GROUP
events.

Depends-On: https://review.opendev.org/#/c/674044/
Change-Id: I714bcb81d9446f14c909707f09eda44f60c651c1
"
openstack%2Freleases~master~I608e09d219379e00cca15c5ff165bb63aecfe9f2,openstack/releases,master,ruamel,I608e09d219379e00cca15c5ff165bb63aecfe9f2,Raise YAML compliance to 1.2,MERGED,2019-07-08 19:33:57.000000000,2019-08-01 20:49:25.000000000,2019-08-01 20:49:25.000000000,928,929,3,669746,1704aa624ae3220a5ed550d379ac6a5633d9650a,23,5,3,919,11904,Sean McGinnis,SeanM,"Raise YAML compliance to 1.2

The YAML 1.2 spec was released in 2009. It's probably been enough time
that it's safe to move to it.

The only issue for out YAML usage was 1.2 dropped the use of Yes, No, On,
and Off as valid boolean values.

Change-Id: I608e09d219379e00cca15c5ff165bb63aecfe9f2
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Ftempest~master~I91cd10b1b3cd5c825dec34fcb814f6b9dc4460c8,openstack/tempest,master,bug/1836642,I91cd10b1b3cd5c825dec34fcb814f6b9dc4460c8,"Revert ""Use memcached based cache in nova in all devstack-tempest jobs""",MERGED,2019-07-31 11:07:31.000000000,2019-08-01 20:43:06.000000000,2019-08-01 14:01:52.000000000,0,10,0,673784,924a035886da43cd51cd5763c1f5ed9f44a502b6,25,21,1,1,13252,Dr. Jens Harbott,jrosenboom,"Revert ""Use memcached based cache in nova in all devstack-tempest jobs""

This reverts commit eb0a2cc5f240d52efa3a58c5a1ba8821bae3147e.

This break jobs that do not deploy nova, like ironic, see e.g. http://logs.openstack.org/98/670698/5/check/ironic-standalone/d9d3d0e/job-output.txt.gz#_2019-07-31_03_56_36_492216

Change-Id: I91cd10b1b3cd5c825dec34fcb814f6b9dc4460c8
"
openstack%2Fansible-role-thales-hsm~master~I054ad78fedde279a056808e4abf1256ad80cb92e,openstack/ansible-role-thales-hsm,master,,I054ad78fedde279a056808e4abf1256ad80cb92e,Fix typo in client playbook,MERGED,2019-08-01 20:17:16.000000000,2019-08-01 20:35:21.000000000,2019-08-01 20:35:21.000000000,1,1,0,674128,93f475c08d2538220fb78015bd66d135e2b73bc2,6,2,1,1,7973,Douglas Mendiz√°bal,dougmendizabal,"Fix typo in client playbook

Change-Id: I054ad78fedde279a056808e4abf1256ad80cb92e
"
openstack%2Ftripleo-ansible~master~I2923b06665342f3f565d52748bf50d1a66ed9950,openstack/tripleo-ansible,master,,I2923b06665342f3f565d52748bf50d1a66ed9950,Updates old references to ceph_docker_* ansible variables,MERGED,2019-07-30 10:48:54.000000000,2019-08-01 20:06:06.000000000,2019-08-01 20:06:06.000000000,4,5,1,673478,edac939ae23b44c60ab0a58d8de8905a1bacb946,21,9,2,1,6796,Giulio Fidente,gfidente,"Updates old references to ceph_docker_* ansible variables

Replaces some ceph-ansible variables name to match the changes
introduced with PR #4002

Change-Id: I2923b06665342f3f565d52748bf50d1a66ed9950
"
openstack%2Freleases~master~I2f6414d0f71baad58335702743f2180f8da3273f,openstack/releases,master,stable-branch-mode-none,I2f6414d0f71baad58335702743f2180f8da3273f,Add stable-branch-mode:none option,MERGED,2019-07-15 10:30:13.000000000,2019-08-01 20:02:59.000000000,2019-08-01 20:02:59.000000000,37,1,0,670808,3f7c9e782f57af9318551db799d60a6800e03f79,11,5,1,4,308,Thierry Carrez,ttx,"Add stable-branch-mode:none option

Some ""other"" deliverables like tempest and patrole never
create stable branches. This allows to clearly mark such
deliverables and add a corner case in validation tests.

Change-Id: I2f6414d0f71baad58335702743f2180f8da3273f
"
openstack%2Fnova~stable%2Frocky~I5dc65924fee65f6340d1495a9b1b992001c30731,openstack/nova,stable/rocky,bug/1834057,I5dc65924fee65f6340d1495a9b1b992001c30731,docs: Correct issues with 'openstack quota set' commands,MERGED,2019-07-10 15:26:02.000000000,2019-08-01 19:49:31.000000000,2019-08-01 19:49:31.000000000,107,57,0,670097,5982c92fa883e40cf01faf58b84e5f93fd7ebdbb,13,4,3,1,15334,Stephen Finucane,sfinucan,"docs: Correct issues with 'openstack quota set' commands

Change Ic857918b15496049b5ccacde9515f130cc0bd7e9 against
openstack-manuals updated the quotas document to use openstackclient
commands in place of novaclient commands. It missed the fact that you
need to pass the '--class' parameter if you wish to set a quota for a
class rather than a project. Correct this.

Change-Id: I5dc65924fee65f6340d1495a9b1b992001c30731
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1834057
(cherry picked from commit 426790237e75eb184191bee1de50ee493252a717)
(cherry picked from commit 75a3ae933759fb89abd7ee9847fb6685c22a862c)
"
openstack%2Fnova~stable%2Frocky~Ie217523a8969326b27930d7f74e50e9b352ab7a1,openstack/nova,stable/rocky,bug/1835070,Ie217523a8969326b27930d7f74e50e9b352ab7a1,Stabilize unshelve notification sample tests,MERGED,2019-07-04 09:20:13.000000000,2019-08-01 19:49:24.000000000,2019-08-01 19:49:24.000000000,2,0,0,669118,a85ce04fa39e60e672e4fa2d7912f6880079c6ef,13,6,2,1,9708,Balazs Gibizer,gibi,"Stabilize unshelve notification sample tests

The notification sample test for unshelve waits for the instance to
reach ACTIVE state and then asserts if unshelve.end notification is
emitted properly. However the instance.vm_state is set to ACTIVE earlier[1]
than emitting the unshelve.end notification[2]. This can cause two
different test case failure.

1) _test_unshelve_server() fails with no ushelve.end notification
received.

2) _test_shelve_and_shelve_offload_server() also has a unshelve action
at the end and that test step also only waits for the the ACTIVE state.
So the unshelve.end notification from the end of
_test_shelve_and_shelve_offload_server() can bleed into the
_test_unshelve_server() step causing that it receive one more
notifications.

So this patch adds an extra
self._wait_for_notification('instance.unshelve.end') call to each test
step to prevent the instability.

[1] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5322-L5326
[2] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5329
[3] https://github.com/openstack/nova/blob/5c6c1f8f/nova/tests/functional/notification_sample_tests/test_instance.py#L836

Conflicts:
      nova/tests/functional/notification_sample_tests/test_instance.py
Conflicts due to:
* I019e88fabd1d386c0d6395a7b1969315873485fd

Closes-Bug: #1835070

Change-Id: Ie217523a8969326b27930d7f74e50e9b352ab7a1
(cherry picked from commit 40f1e7c4c22dc6023614b34f28bb7fc416b668a8)
(cherry picked from commit 3bc6ff029ff24083844db363010988d8d08cff00)
"
openstack%2Fnova~stable%2Frocky~I141c90ac27d16f2e9c033bcd2f95ac08904a2f52,openstack/nova,stable/rocky,bug/1836005,I141c90ac27d16f2e9c033bcd2f95ac08904a2f52,doc: Fix a parameter of NotificationPublisher,MERGED,2019-07-11 04:03:36.000000000,2019-08-01 19:49:17.000000000,2019-08-01 19:49:16.000000000,1,1,1,670225,7793f4d759d35841848597e27faadb1903df21e9,10,4,1,1,7634,Takashi Natsume,natsumet,"doc: Fix a parameter of NotificationPublisher

The 'binary' parameter has been changed to the 'source'
since I95b5b0826190d396efe7bfc017f6081a6356da65.
But the notification document has not been updated yet.

Replace the 'binary' parameter with the 'source' parameter.

Conflicts:
    doc/source/reference/notifications.rst

    A conflict is due to not including
    Icfebf894185fc83f5fa77e8e10a42ba9dbb37755
    in stable/rocky

Change-Id: I141c90ac27d16f2e9c033bcd2f95ac08904a2f52
Closes-Bug: #1836005
(cherry picked from commit de31466fdb09dd367b23660f71b4ca06f83271a2)
(cherry picked from commit 5ba20d128cd0dee8b9b2a429a71e1bac5b0220df)
"
openstack%2Fnova~stable%2Frocky~Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2,openstack/nova,stable/rocky,bug/1816086,Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2,Perf: Use dicts for ProviderTree roots,MERGED,2019-07-10 20:22:47.000000000,2019-08-01 19:49:09.000000000,2019-08-01 19:49:09.000000000,23,4,3,670182,00e5e3a7443dd31720244497013b040729490dcd,14,6,1,1,14070,Eric Fried,efried,"Perf: Use dicts for ProviderTree roots

ProviderTree used to keep track of root providers in a list. Since we
don't yet have sharing providers, this would always be a list of one for
non-ironic deployments, or N for ironic deployments of N nodes.

To find a provider (by name or UUID), we would iterate over this list,
an O(N) operation. For large ironic deployments, this added up fast -
see the referenced bug.

With this change, we store roots in two dicts: one keyed by UUID, one
keyed by name. To find a provider, we first check these dicts. If the
provider we're looking for is a root, this is now O(1). (If it's a
child, it would still be O(N), because we iterate over all the roots
looking for a descendant that matches. But ironic deployments don't have
child providers (yet?) (right?) so that should be n/a. For non-ironic
deployments it's unchanged: O(M) where M is the number of descendants,
which should be very small for the time being.)

Test note: Existing tests in nova.tests.unit.compute.test_provider_tree
thoroughly cover all the affected code paths. There was one usage of
ProviderTree.roots that was untested and broken (even before this
change) which is now fixed.

Conflicts (rocky backport):
  nova/compute/provider_tree.py
     The return_root kwarg to _find_with_lock was added in stein.
  nova/tests/unit/virt/libvirt/test_driver.py
     and
  nova/virt/libvirt/driver.py
     are n/a because the code iterating over the provider tree roots was
     added in stein (for vgpu handling)

Change-Id: Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2
Closes-Bug: #1816086
(cherry picked from commit 8c797450cbff5194fb6791cd0a07fa060dc8af72)
(cherry picked from commit 754d8eb76c6fcd539fc2c32f0e2f90f6503b9f0c)
"
openstack%2Fmagnum~master~If61efbde56e1d7dd0ed88d76fa42dd00501cc938,openstack/magnum,master,dbmanage-log-options,If61efbde56e1d7dd0ed88d76fa42dd00501cc938,Add oslo_log command options to magnum-db-manage,MERGED,2017-10-13 14:38:10.000000000,2019-08-01 19:46:06.000000000,2019-08-01 19:46:06.000000000,2,0,0,511882,f553558e53827bf0c2859e04d31267dffd339a25,14,7,2,1,27066,bismog,bismog,"Add oslo_log command options to magnum-db-manage

As we all know, 'command magnum-api' and 'magnum-conductor' have
many options such as 'log-file' and 'use-syslog'. But as for
magnum-db-magnum, these are not available.
Add oslo_log command options will help.

Change-Id: If61efbde56e1d7dd0ed88d76fa42dd00501cc938
"
openstack%2Fmagnum~master~I1e6e570d4db575d611212198d11ee4b84884ab23,openstack/magnum,master,openstackdocstheme,I1e6e570d4db575d611212198d11ee4b84884ab23,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-02 03:33:17.000000000,2019-08-01 19:46:05.000000000,2019-08-01 19:46:04.000000000,5,54,0,668585,749a792eb4e6a3c1db5cb49181a4085c3bd544fa,14,5,3,5,27822,pengyuesheng,pengyuesheng,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I1e6e570d4db575d611212198d11ee4b84884ab23
"
openstack%2Fmagnum~master~I2355733fc45554b7c1f14df51b40dede811b5518,openstack/magnum,master,missing_ws,I2355733fc45554b7c1f14df51b40dede811b5518,Add missing ws separator between words,MERGED,2019-04-02 06:01:35.000000000,2019-08-01 19:46:03.000000000,2019-08-01 19:46:03.000000000,3,3,3,649225,1e8d5a73957e15826e3eaae0406ab90ff63a4aab,17,6,3,1,20190,zhufl,zhufl,"Add missing ws separator between words

This is to add missing ws separator between words.

Change-Id: I2355733fc45554b7c1f14df51b40dede811b5518
"
openstack%2Fmagnum~master~I115b5788d60f48b2e4adc5947bf5fda0652c5ebb,openstack/magnum,master,missing_print_format,I115b5788d60f48b2e4adc5947bf5fda0652c5ebb,Fix missing print format error,MERGED,2019-04-12 07:00:49.000000000,2019-08-01 19:46:02.000000000,2019-08-01 19:46:02.000000000,2,2,0,651985,b1d359e6b2175de54082b1ea90d25ff46ff0b41b,10,6,1,1,20190,zhufl,zhufl,"Fix missing print format error

Missing print format will cause 'ValueError: unsupported
format character' error, this is to fix it.

Change-Id: I115b5788d60f48b2e4adc5947bf5fda0652c5ebb
"
openstack%2Fmagnum~master~Ie8044316bb1ba64a37c54f5f75ced1d47b35a3aa,openstack/magnum,master,story/2002210-35949,Ie8044316bb1ba64a37c54f5f75ced1d47b35a3aa,Update current k8s version after upgrade,MERGED,2019-07-22 21:46:20.000000000,2019-08-01 19:45:57.000000000,2019-08-01 19:45:57.000000000,2,1,0,672182,903c8a4de7451b93408aa59c56402117176ff3c9,12,5,2,1,6484,Feilong Wang,flwang,"Update current k8s version after upgrade

After a k8s version upgrade, the initial KUBE_TAG in heat-params will be
out of date. The patch will append a new KUBE_TAG to log and update
the current k8s version to make sure it's always consistent.

Story: 2002210
Task: 35949

Change-Id: Ie8044316bb1ba64a37c54f5f75ced1d47b35a3aa
"
openstack%2Fmagnum~master~Iaf6ab7172367bc96d19f2d1236cc038460a7d461,openstack/magnum,master,story/2006283-36024,Iaf6ab7172367bc96d19f2d1236cc038460a7d461,Support py3.x for make cert scripts,MERGED,2019-07-30 00:14:38.000000000,2019-08-01 19:44:59.000000000,2019-08-01 19:44:59.000000000,6,6,0,673376,fb8d018501f42c9a4db79ece817d358a07174b5f,9,5,1,2,6484,Feilong Wang,flwang,"Support py3.x for make cert scripts

Instead of using ""print xxx"", it'd better to use ""print(xxx)""
to make it supports both py2.x and py3.x for make-cert.sh and
make-cert-client.sh

Task: 36024
Story: 2006283

Change-Id: Iaf6ab7172367bc96d19f2d1236cc038460a7d461
"
openstack%2Ftripleo-validations~stable%2Fstein~Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf,openstack/tripleo-validations,stable/stein,validate/containers-stable/stein,Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf,New validation: ensure services status,MERGED,2019-08-01 11:01:17.000000000,2019-08-01 19:42:53.000000000,2019-08-01 19:42:53.000000000,58,0,0,673995,87c293917e081f106b202eeb986a0316139752e0,8,4,1,3,11491,Gael Chamoulaud,gchamoul,"New validation: ensure services status

This new validation ensures we don't have any failed systemd unit.

Failed units might lead to unexpected errors when we want to update
or upgrade the system, so we have to ensure we don't have anything
in a failed state.

Since this check is pretty generic and useful, it can also be called
as a post-deploy, post-upgrade task. This ensures we have a corret
state AFTER such actions as well.

Change-Id: Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf
(cherry picked from commit 1265e2f6675b95bf7487fe041066d8de3164e39e)
"
openstack%2Fpython-tripleoclient~stable%2Fstein~I3ac295d2e2f86fbb2120f9491d4103434b6ac3da,openstack/python-tripleoclient,stable/stein,,I3ac295d2e2f86fbb2120f9491d4103434b6ac3da,Mock deployment action in upgrade tests,MERGED,2019-08-01 09:42:29.000000000,2019-08-01 19:20:45.000000000,2019-08-01 19:20:45.000000000,9,2,0,673986,38070104592d6ad6e15a184df64bbb0d48858f25,9,7,1,1,11491,Gael Chamoulaud,gchamoul,"Mock deployment action in upgrade tests

Without properly mocking the deployment action, these tests are trying
to execute deployment code including temp file creation which can lead
to package build failures. This change mocks out the deployment take
action for the UpgradeRun so we're only testing the upgrade code
itself.

Change-Id: I3ac295d2e2f86fbb2120f9491d4103434b6ac3da
Closes-Bug: #1838506
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit e1cb3042c8fe25d7fe28bc7d1d38f5a3ae90fa1d)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ic2c4dcabe3754727806d2a4248e1ba182e83309a,openstack/tripleo-heat-templates,stable/queens,fix_task_name-queens,Ic2c4dcabe3754727806d2a4248e1ba182e83309a,[rocky/queens] fix task name nova_api -> nova_compute,MERGED,2019-08-01 08:20:25.000000000,2019-08-01 19:14:13.000000000,2019-08-01 19:14:13.000000000,1,1,0,673952,c7b15693dba043503876e486cf372c5ddcb21181,11,6,1,1,17216,Martin Schuppert,mcschupp,"[rocky/queens] fix task name nova_api -> nova_compute

Change-Id: Ic2c4dcabe3754727806d2a4248e1ba182e83309a
(cherry picked from commit 65e48b0c1e3edcafee29ad6cc753637c14bd9acd)
"
openstack%2Fopenstack-helm-infra~master~Ie3c7bbc46d87960e3d62badc6b766145b651b8fe,openstack/openstack-helm-infra,master,,Ie3c7bbc46d87960e3d62badc6b766145b651b8fe,This change is to fix the index pattern in kibana for syslog to match what is currently the default for elasticsearch. ,ABANDONED,2019-08-01 19:03:17.000000000,2019-08-01 19:11:54.000000000,,0,0,0,674109,bec6e07d61a26652f1ff5ec9cd8bdbe4ae66c0b3,3,1,1,0,28025,Randeep Jalli,randeep.jalli,"This change is to fix the index pattern in kibana for syslog
to match what is currently the default for elasticsearch. 

Currently the pattern in elasticsearch is kernel_syslog, however
the index pattern set in kibana is kernel-*

Change-Id: Ie3c7bbc46d87960e3d62badc6b766145b651b8fe
"
openstack%2Fopenstack-zuul-jobs~master~If8bc020f2dfc0f374aad8086963739d995b88236,openstack/openstack-zuul-jobs,master,zuul_work_dir,If8bc020f2dfc0f374aad8086963739d995b88236,Use absolute zuul_work_dir,ABANDONED,2019-08-01 18:52:54.000000000,2019-08-01 19:02:31.000000000,,1,1,0,674108,a2bf75b5456407dbbf4e99bc365b6ea4bab56e54,2,0,1,1,6547,Andreas Jaeger,jaegerandi,"Use absolute zuul_work_dir

zuul_work_dir should be an absolute directory, update tox-py35-on-zuul
with using a variable.

Change-Id: If8bc020f2dfc0f374aad8086963739d995b88236
"
openstack%2Fpython-magnumclient~master~I24f981b3d0205112709944279665d50fc64b29ce,openstack/python-magnumclient,master,,I24f981b3d0205112709944279665d50fc64b29ce,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 02:55:38.000000000,2019-08-01 18:48:53.000000000,2019-08-01 18:48:53.000000000,1,1,0,621887,d942ce5f26ca4f539861d2b284bd99bc8d8204e9,11,6,1,1,26490,Jason SUN,sunjia,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I24f981b3d0205112709944279665d50fc64b29ce
"
openstack%2Fpython-magnumclient~master~I6bed1f2df2c50234657112869b585439afa1b550,openstack/python-magnumclient,master,python3-train,I6bed1f2df2c50234657112869b585439afa1b550,Add Python 3 Train unit tests,MERGED,2019-07-05 15:51:53.000000000,2019-08-01 18:46:04.000000000,2019-08-01 18:46:04.000000000,3,3,0,669380,a19d01355fc0af787c328b1eedac332652c78921,9,5,1,3,11805,Corey Bryant,coreycb,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I6bed1f2df2c50234657112869b585439afa1b550
Story: #2005924
Task: #34219
"
openstack%2Fpython-magnumclient~master~Ia4f1ce4be215262fc89ceac30a2edb878ebd9937,openstack/python-magnumclient,master,story/2006208-36027,Ia4f1ce4be215262fc89ceac30a2edb878ebd9937,"Support network, subnet and FIP when creating cluster",MERGED,2019-07-30 03:45:19.000000000,2019-08-01 18:43:33.000000000,2019-08-01 18:43:33.000000000,43,0,0,673395,5ad8b7dcf7b8d6b8f78612219d5b8240ff55aded,8,3,1,2,6484,Feilong Wang,flwang,"Support network, subnet and FIP when creating cluster

Change-Id: Ia4f1ce4be215262fc89ceac30a2edb878ebd9937
Task: 36027
Story: 2006208
"
openstack%2Fopenstack-helm-infra~master~I6e5386386e2b79b1cb0f41fc1f9b78817695f8f3,openstack/openstack-helm-infra,master,verify-snapshot-repositories,I6e5386386e2b79b1cb0f41fc1f9b78817695f8f3,Elasticsearch: Manually verify snapshot repositories,MERGED,2019-07-24 18:54:38.000000000,2019-08-01 18:36:37.000000000,2019-08-01 18:36:37.000000000,6,0,0,672578,8130e6bdc5ffb85f93ce7858cbc65f1f8f055a43,13,4,3,1,17591,Steve Wilkerson,srwilkers,"Elasticsearch: Manually verify snapshot repositories

This updates the script for registering snapshot repositories to
include a manual verification of the repositories created. This
simply allows for inspection of all master and data nodes the
repository is verified with to provide additional visibility into
the state of all repositories

Change-Id: I6e5386386e2b79b1cb0f41fc1f9b78817695f8f3
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fcharm-percona-cluster~master~I5fc4b7822a4550e53e97655771938a903f92fcb1,openstack/charm-percona-cluster,master,bug/1838648,I5fc4b7822a4550e53e97655771938a903f92fcb1,Do not add former leader to hosts,MERGED,2019-08-01 14:56:47.000000000,2019-08-01 18:35:50.000000000,2019-08-01 18:35:50.000000000,23,1,0,674059,475b889020271dd09003fafc5459d1a2617ce0a5,11,5,1,2,20805,David Ames,thedac,"Do not add former leader to hosts

After a cold boot, the leader has likely changed. Do not add this node
as a former leader to the hosts list. This may cause changes to
mysqld.cnf and an unwanted attempted restart of mysql.

Change-Id: I5fc4b7822a4550e53e97655771938a903f92fcb1
Close-Bug: #1838648
"
openstack%2Fcharm-deployment-guide~master~I51048f043d3b97bf1274f904d98eda534451deef,openstack/charm-deployment-guide,master,rewrite-deployment-section-of-ceph-rbd-mirror-appendix,I51048f043d3b97bf1274f904d98eda534451deef,re-write of deployment section,MERGED,2019-07-31 21:16:51.000000000,2019-08-01 18:26:32.000000000,2019-08-01 18:26:32.000000000,173,32,9,673918,f7cb3beaf9a3006b5ae64353443e48d346b92793,13,3,3,1,30561,Peter Matulis,pmatulis,"re-write of deployment section

Change-Id: I51048f043d3b97bf1274f904d98eda534451deef
"
openstack%2Ftripleo-ansible~master~I4e28be86e28dd227a682362af56833fe97035a88,openstack/tripleo-ansible,master,tripleo-config,I4e28be86e28dd227a682362af56833fe97035a88,Introduce tripleo-config role,MERGED,2019-07-08 14:12:21.000000000,2019-08-01 18:13:28.000000000,2019-08-01 18:13:28.000000000,302,10,20,669672,96b9fc6540a0aedfebfe96553fc5cd834fde27a8,55,5,19,15,3153,Emilien Macchi,emilienm,"Introduce tripleo-config role

This basic role will provide an interface to TripleO so we can consume the
ansible-config_template action plugin to generate configuration files.

Change-Id: I4e28be86e28dd227a682362af56833fe97035a88
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fproject-config~master~I4e7c4d646334b7e7207d02e86a25768335cae123,openstack/project-config,master,674091,I4e7c4d646334b7e7207d02e86a25768335cae123,Adding another pool to FN for expanded memory test,MERGED,2019-08-01 17:02:49.000000000,2019-08-01 18:13:06.000000000,2019-08-01 18:13:06.000000000,21,0,4,674091,f2f32b8d55c7661acf94c1ccd49d744dc0bbc78f,14,4,3,1,20754,Donny Davis,donnydavis,"Adding another pool to FN for expanded memory test

Change-Id: I4e7c4d646334b7e7207d02e86a25768335cae123
"
openstack%2Frpm-packaging~master~Ieea000d29858d289159b13c681b99d132a5ef2ef,openstack/rpm-packaging,master,nova-cells,Ieea000d29858d289159b13c681b99d132a5ef2ef,Remove nova-consoleauth service,ABANDONED,2019-08-01 17:11:37.000000000,2019-08-01 18:05:36.000000000,,0,52,0,674095,db934f4a4ae9760d0bd6ea7aed6f10e46e96e639,5,3,1,2,8482,Colleen Murphy,krinkle,"Remove nova-consoleauth service

It was removed upstream[1] and now the missing binary breaks the build,
so remove it from the package.

[1] https://review.opendev.org/652969

Change-Id: Ieea000d29858d289159b13c681b99d132a5ef2ef
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I886f2b8ac7092d9b3da38852e92a615d5666eea7,openstack/tripleo-heat-templates,stable/queens,OctaviaServerCertsKeyPassphrase-32chars,I886f2b8ac7092d9b3da38852e92a615d5666eea7,Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long,MERGED,2019-07-09 11:17:40.000000000,2019-08-01 18:01:28.000000000,2019-08-01 18:01:27.000000000,11,2,0,669848,b2065e2be485c756d4bdd868c9594e47d5b80373,22,5,4,3,6579,Nir Magnezi,nmagnezi,"Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long

Conflicts:
      deployment/octavia/octavia-base.yaml

Closes-bug: #1833942

Depends-On: https://review.opendev.org/#/c/669824/
Depends-On: https://review.opendev.org/#/c/669829/
Change-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7
(cherry picked from commit a6fef3aad6f6f3171eb38b7d25c62a5bb485e67f)
(cherry picked from commit cfb8e97867e2cd546efcb46303ae8583765d3876)
(cherry picked from commit 992ad5437cf21696958ca86f6675d23848f7c547)
"
openstack%2Ftripleo-common~stable%2Fqueens~Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989,openstack/tripleo-common,stable/queens,OctaviaServerCertsKeyPassphrase-32chars,Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989,Ensure that OctaviaServerCertsKeyPassphrase is 32-byte long,MERGED,2019-07-09 09:40:53.000000000,2019-08-01 18:01:26.000000000,2019-08-01 18:01:26.000000000,9,0,0,669829,32d7bb44ab61cb0fcca1a78dfa822511d1d640d4,18,4,3,3,6579,Nir Magnezi,nmagnezi,"Ensure that OctaviaServerCertsKeyPassphrase is 32-byte long

Conflicts:
      tripleo_common/utils/passwords.py

Related-Bug: #1833942

Change-Id: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989
(cherry picked from commit de2ab55824cf96a96ac0ba9ec2a1eaccbb0f6fa2)
(cherry picked from commit 94620dd5e67fa3a0775b2df1ae312533e392a7f9)
(cherry picked from commit 35913d62664424075392dcaca6324164fb19380a)
"
openstack%2Fpython-tripleoclient~master~I993fc09fd571fb93d78ffdbecf1823e806f744f4,openstack/python-tripleoclient,master,bug/1838540,I993fc09fd571fb93d78ffdbecf1823e806f744f4,Pass deployment_options to config download,MERGED,2019-07-31 16:23:34.000000000,2019-08-01 18:01:25.000000000,2019-08-01 18:01:25.000000000,11,3,1,673868,ac7ae9e8d638676196c4897a30c978d51a091900,15,10,2,2,13861,yatin,yatinkarel,"Pass deployment_options to config download

https://review.opendev.org/673862 allows config_download
workflow to take deployment_options as a input, this patch
passes it to the workflow so ansible_python_interpreter
is set correctly in generated inventory and thus used
during ansible deployment.

Depends-On: https://review.opendev.org/#/c/673862/
Closes-Bug: #1838540
Change-Id: I993fc09fd571fb93d78ffdbecf1823e806f744f4
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I69e0cf06d96389201258e8fb2f112aec15f64013,openstack/tripleo-heat-templates,stable/queens,saf_client_side,I69e0cf06d96389201258e8fb2f112aec15f64013,Fix logging for metrics_qdr,MERGED,2019-03-15 13:32:10.000000000,2019-08-01 18:01:24.000000000,2019-08-01 18:01:24.000000000,3,1,0,643584,f2366ae6eba44d9bf3986ef00e8dbfd820dc0b04,21,5,4,1,5241,Martin Magr,mmagr,"Fix logging for metrics_qdr

- metrics_qdr logs in debug mode which makes it the log file to grow quickly
- current log file path does not match with the path fluentd is tailing
- current log file patch conflicts with general purpose QDR composable service

This patch fixes all avove mentioned issues.

Change-Id: I69e0cf06d96389201258e8fb2f112aec15f64013
Resolves-Bug: #1804464
(cherry picked from commit d69e3afe3b73d687809250bf89133e0e500483c8)
(cherry picked from commit ad9712b60397b3f652e375874b84c8ab0075bdd3)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I0ad395b3417be4354e04ebed977a278abbc3a664,openstack/tripleo-heat-templates,stable/stein,651786-stable/stein,I0ad395b3417be4354e04ebed977a278abbc3a664,Clean docker and podman after executing an update or upgrade,MERGED,2019-07-12 09:16:15.000000000,2019-08-01 18:01:22.000000000,2019-08-01 18:01:22.000000000,63,0,0,670478,463576dc6aae8f8c425d372ced12d6c70101576b,24,7,1,2,20775,Carlos Camacho,ccamacho,"Clean docker and podman after executing an update or upgrade

After running a major upgrade or minor update we will
have in the nodes some leftover containers data
that might not be used anymore.

Resolves: rhbz#1677535

Change-Id: I0ad395b3417be4354e04ebed977a278abbc3a664
(cherry picked from commit 4070b62e8c1318ab878a916114fb8252e3a952cb)
"
openstack%2Fcyborg~master~Ie32e1a820e7847517a3e1a6027f3a47c709cd82e,openstack/cyborg,master,nova-integ,Ie32e1a820e7847517a3e1a6027f3a47c709cd82e,P4: Basic changes for objects layer.,MERGED,2019-07-12 08:15:00.000000000,2019-08-01 17:23:37.000000000,2019-08-01 17:23:37.000000000,3,282,0,670465,be36ee9d2da5aa521626a210231777c5faf6291b,19,5,5,4,21672,Sundar Nadathur,nsundar,"P4: Basic changes for objects layer.

Change-Id: Ie32e1a820e7847517a3e1a6027f3a47c709cd82e
"
openstack%2Fpuppet-tripleo~stable%2Fstein~I3adaa442b8c53ff902761d1dba283a79494c8ae6,openstack/puppet-tripleo,stable/stein,bug/1837099-stable/stein,I3adaa442b8c53ff902761d1dba283a79494c8ae6,Allow for customization of the Manila CephFS pool name,MERGED,2019-07-31 23:16:47.000000000,2019-08-01 17:06:59.000000000,2019-08-01 09:40:36.000000000,2,1,0,673927,3c4748b46238002acda87a65c4150f0ce3d579cb,11,4,1,1,16643,Goutham Pacha Ravi,gouthamr,"Allow for customization of the Manila CephFS pool name

Manila needs to know the CephFS pool name, which the deployer
might want to customize when the Ceph cluster is externally managed.

Change-Id: I3adaa442b8c53ff902761d1dba283a79494c8ae6
Partial-Bug: 1837099
(cherry picked from commit e3b39a8d67466ff6ccebaf95fa1ed527582e6389)
"
openstack%2Fheat~stable%2Frocky~I04e7ad90944c2d03ce0e59ba16af9d60d6e01222,openstack/heat,stable/rocky,,I04e7ad90944c2d03ce0e59ba16af9d60d6e01222,Allow update of previously-replaced resources,MERGED,2019-07-29 03:09:51.000000000,2019-08-01 17:00:26.000000000,2019-08-01 17:00:26.000000000,1,9,0,673197,c86cfa6e8358046ce2b9064a3d2b2cb634a0ae4f,7,2,1,2,8833,Rabi Mishra,rabi,"Allow update of previously-replaced resources

The convergence prototype ignored checks of resources that had previously
been replaced by another resource. However, it turns out that this was
unnecessary in the final version of the prototype:

https://github.com/zaneb/heat-convergence-prototype/commit/e9d2f833a53de1ab09e7d936a4826d36ed7bb68d

Keeping this limitation prevents us from allowing users to roll back to a
previously-existing resource if creating the replacement fails, other than
by using the automated rollback mechanism (which is special-cased).

Since the graph for the traversal is calculated at the start of the update,
there's no need to limit which nodes are allowed to be checked. Only the
selected resource will have an is_update=True node in the traversal graph.
Removing this additional restriction allows us to improve the algorithm
that chooses which resource to update. Since a new traversal ID is stored
before we calculate the traversal graph, we can guarantee that no new
resource checks will start (though some may still be happening) while the
algorithm is choosing, so there's no danger of it picking a resource that
later gets replaced.

Since we're no longer treating automatic rollback as a special case, reset
the replaced_by field whenever we update a previously-replaced resource.

Change-Id: I04e7ad90944c2d03ce0e59ba16af9d60d6e01222
Story: #2003579
Task: 26197
(cherry picked from commit e34da892901dbba709d3854f8979eee32594d916)
"
openstack%2Fpython-openstackclient~master~Id37f86ce5a2142737e7280fcb8335449621fdd2f,openstack/python-openstackclient,master,bug/1821584,Id37f86ce5a2142737e7280fcb8335449621fdd2f,WIP - Compute 'force_service_down' API returns 400 with latest version,ABANDONED,2019-06-25 04:58:13.000000000,2019-08-01 16:56:23.000000000,,147,31,20,667264,7c847ae6d9d43af4eb17b7ff1b048f3f04573d2a,14,9,2,1,29238,jayashri bidwe,jayashrib,"WIP - Compute 'force_service_down' API returns 400 with latest version

Presently, you can update service state/status if the
--os-compute-api-version is <= 2.52 but if --os-compute-api-version
is >=2.53, then it returns an error.

 $openstack --os-compute-api-version 2.53 compute service set
 <service_id>  --up

 Output:
 openstack compute service set: error: too few arguments

This patch fixes this issue by checking os-compute-api-version by
allowing to use service-id if os-compute-api-version is >=2.53.

Closes-Bug: #1821584

Change-Id: Id37f86ce5a2142737e7280fcb8335449621fdd2f
"
openstack%2Fneutron-fwaas~stable%2Fstein~Ie3c0538ca31af9abb1b8c1cc5e4f6c3df9b16a1c,openstack/neutron-fwaas,stable/stein,,Ie3c0538ca31af9abb1b8c1cc5e4f6c3df9b16a1c,Fix removing non-last port from the group,MERGED,2019-06-26 05:29:36.000000000,2019-08-01 16:47:45.000000000,2019-08-01 16:47:45.000000000,27,4,0,667510,df11d0b932ee2d518a180dfa0dac8b5205b67f84,14,9,1,3,20363,Adit Sarfaty,asarfaty,"Fix removing non-last port from the group

When a firewall group has few ports, and some of those are removed
the status of the firewall group should not become INACTIVE

Change-Id: Ie3c0538ca31af9abb1b8c1cc5e4f6c3df9b16a1c
Closes-Bug: #1832450
(cherry picked from commit fbea371e652b6aa634c5c974b0a9c6ee4066e90a)
"
openstack%2Fpatrole~master~Ib854afe939791180153cccc4b0313e5b25842f7e,openstack/patrole,master,retire-api-site,Ib854afe939791180153cccc4b0313e5b25842f7e,Update api-ref location,MERGED,2019-07-25 15:32:20.000000000,2019-08-01 16:40:15.000000000,2019-08-01 16:40:15.000000000,17,17,0,672759,ee00c05e9a2727a081318f540c7670d15fd134fc,14,4,1,14,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ib854afe939791180153cccc4b0313e5b25842f7e
"
openstack%2Fcharm-ceph-rbd-mirror~master~Idff68a51ec858a79d99668dbb6396bf6045f5c82,openstack/charm-ceph-rbd-mirror,master,add-link-to-deploy-guide,Idff68a51ec858a79d99668dbb6396bf6045f5c82,add link to charms deployment guide,MERGED,2019-07-30 22:07:49.000000000,2019-08-01 16:36:26.000000000,2019-08-01 16:36:26.000000000,7,1,3,673702,625a804178c491ca48f06f162180e4870e74a27c,15,5,2,1,30561,Peter Matulis,pmatulis,"add link to charms deployment guide

Change-Id: Idff68a51ec858a79d99668dbb6396bf6045f5c82
"
openstack%2Freviewstats~master~I316a5b937f854accb01506ba960b2b532b38c9c5,openstack/reviewstats,master,,I316a5b937f854accb01506ba960b2b532b38c9c5,Mailing lists change openstack-dev to openstack-discuss,MERGED,2019-07-01 11:38:36.000000000,2019-08-01 16:23:03.000000000,2019-08-01 16:23:03.000000000,1,1,0,668446,905c2da520ee285a2b6f5059bd5e831c60640fd4,7,3,1,1,27565,inspurericzhang,inspurericzhang,"Mailing lists change openstack-dev to openstack-discuss

Change-Id: I316a5b937f854accb01506ba960b2b532b38c9c5
"
openstack%2Fopenstack-helm-infra~master~Id24c4a0cca64674890dae3599edc0c90d9534e90,openstack/openstack-helm-infra,master,ceph-osd,Id24c4a0cca64674890dae3599edc0c90d9534e90,Nagios: Updated the alert for Ceph OSD Down,MERGED,2019-07-11 20:18:22.000000000,2019-08-01 16:15:51.000000000,2019-08-01 16:15:51.000000000,1,1,2,670389,47565d2d191f22ad3c09340c9d393d0561b164eb,24,11,3,1,30582,RADHIKA PAI,rp592h,"Nagios: Updated the alert for Ceph OSD Down

Earlier the Nagios alert monitor was percent based as in when the percent of OSD
down is greater than 80, it will send alert.
>check_prom_alert!ceph_osd_down_pct_high!CRITICAL- CEPH OSDs down is
more than 80 percent!OK- CEPH OSDs down is less than 80 percent

Updated the code in nagios values.yaml to send alert when even 1 OSD is
down:
>check_prom_alert!ceph_osd_down!CRITICAL- One or more CEPH OSDs are down
>for more than 5 minutes!OK- All the CEPH OSDs are up

Change-Id: Id24c4a0cca64674890dae3599edc0c90d9534e90
"
openstack%2Ftripleo-heat-templates~master~Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0,openstack/tripleo-heat-templates,master,bug/1837099,Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0,Transport ManilaCephFSDataPoolName to Manila CephFS template,MERGED,2019-07-18 18:17:23.000000000,2019-08-01 16:00:42.000000000,2019-08-01 09:40:39.000000000,4,0,0,671541,dbac7cf92c8739ae5bf1de9f9238e7a6d354e65f,26,8,2,1,6796,Giulio Fidente,gfidente,"Transport ManilaCephFSDataPoolName to Manila CephFS template

This is necessary to configure the Manila CephFS backend
correctly when user customizes the CephFS pool name.

Change-Id: Ie7ac4567b5d6d10df558b15927bfc2f9ba6cdfe0
Depends-On: I3adaa442b8c53ff902761d1dba283a79494c8ae6
Closes-Bug: 1837099
"
openstack%2Fironic~master~Idea529476107b8520bfe5e812711587c06145514,openstack/ironic,master,,Idea529476107b8520bfe5e812711587c06145514,Update ironic installation,ABANDONED,2019-06-11 07:46:59.000000000,2019-08-01 15:50:43.000000000,,5,4,2,664518,7b4e0b8fe5d41c8225517e7f8fd440c9dea4fdc7,21,7,5,3,12860,Dongcan Ye,yedongcan,"Update ironic installation

Made the following changes:
1. We need to config keystone_authtoken in ironic config, this needs
ironic user created firstly. Add a note and link for KeyStone config,
this will helpful for user deployment.
2. IRONIC_NODE is a legacy config.
3. HTTPs needs extra config, otherwise if will raise warnning.

TrivialFix
Change-Id: Idea529476107b8520bfe5e812711587c06145514
"
openstack%2Fcinder~master~Iaebfd31bc2c4fd304a11c49da23f5f5efc513757,openstack/cinder,master,fix-environment-spell,Iaebfd31bc2c4fd304a11c49da23f5f5efc513757,Correcting typo in environment spelling,MERGED,2019-07-31 06:24:30.000000000,2019-08-01 15:48:36.000000000,2019-07-31 15:57:42.000000000,1,1,0,673740,f2b0de24c6b87681d9eba47fac313bbc2009a580,29,25,1,1,29775,Sandeep Yadav,sandeepyadav93,"Correcting typo in environment spelling

There is a typographical error in tempest-and-cinderlib-run.yaml.
Correcting spelling from enviroment to environment.

Change-Id: Iaebfd31bc2c4fd304a11c49da23f5f5efc513757
"
openstack%2Foslo.log~master~Ifcb555c8f4ccb813b48c613c79dceb4bf23318eb,openstack/oslo.log,master,opendev-u-c,Ifcb555c8f4ccb813b48c613c79dceb4bf23318eb,Use upper constraints from opendev.org,ABANDONED,2019-04-25 09:45:46.000000000,2019-08-01 15:19:25.000000000,,1,1,0,655645,6eceb160eaaebbc6ea04768f62876738aa61c2d1,7,4,1,1,9542,Pavlo Shchelokovskyy,pshchelo,"Use upper constraints from opendev.org

oslo.cache uses a simple curl command in its tox_install.sh
to fetch the upper-constraints, and curl does not follow redirects
that are now in place due to move to opendev.org.

This breaks running tox-based tests w/o overriding the
UPPER_CONSTRAINTS_FILE which upstream CI does,
for example running tox locally.

Change-Id: Ifcb555c8f4ccb813b48c613c79dceb4bf23318eb
"
openstack%2Ftripleo-heat-templates~master~I0d28bb54ddf9e0c5b94ea08860487861c7f70ef3,openstack/tripleo-heat-templates,master,puppet2ansible,I0d28bb54ddf9e0c5b94ea08860487861c7f70ef3,Add deployment notice,ABANDONED,2019-05-31 13:59:03.000000000,2019-08-01 15:17:39.000000000,,107,84,1,662473,2a51aafdb0c75b13f49849564ca7396b7db1ad8e,8,3,2,1,7353,Kevin Carter,cloudnull,"Add deployment notice

This change adds a deployment notice to the task list which will
provide a warning to the end user when the current configuration
could lead to an inconsistent deployment experience.

Change-Id: I0d28bb54ddf9e0c5b94ea08860487861c7f70ef3
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~I5d702a2f59cc5c6fb9e4956bcdf27fd29fba207e,openstack/tripleo-heat-templates,master,puppet2ansible,I5d702a2f59cc5c6fb9e4956bcdf27fd29fba207e,Add deployment notice,ABANDONED,2019-05-31 13:48:43.000000000,2019-08-01 15:17:28.000000000,,10,0,3,662468,f133ff3505989c388a984f1df6e161b4183a03be,16,6,2,1,7353,Kevin Carter,cloudnull,"Add deployment notice

This change adds a deployment notice to the task list which will
provide a warning to the end user when the current configuration
could lead to an inconsistent deployment experience.

Change-Id: I5d702a2f59cc5c6fb9e4956bcdf27fd29fba207e
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fos-client-config~master~I756f1276304029365fb893c12974b2314f2b1286,openstack/os-client-config,master,retire-api-site,I756f1276304029365fb893c12974b2314f2b1286,Fix broken link to openstacksdk,MERGED,2019-07-30 17:58:21.000000000,2019-08-01 15:12:11.000000000,2019-08-01 15:12:11.000000000,1,1,0,673603,65db8609e1ad6c611c79bd204c4eb78c3aa41721,7,3,1,1,6547,Andreas Jaeger,jaegerandi,"Fix broken link to openstacksdk

The openstackdocsdk has moved to docs.o.o and moved the linked page
around, fix the link.

Change-Id: I756f1276304029365fb893c12974b2314f2b1286
"
openstack%2Fnova~stable%2Fstein~Icce1e31fe3ebcbf9e4897bbfa57b7f3d1fba67a3,openstack/nova,stable/stein,bug/1836212,Icce1e31fe3ebcbf9e4897bbfa57b7f3d1fba67a3,Avoid logging traceback when detach device not found,MERGED,2019-07-25 22:15:50.000000000,2019-08-01 15:07:15.000000000,2019-08-01 12:56:05.000000000,10,1,0,672833,d83342226470e1957525978d7bec7d98db9bb695,12,6,1,2,4690,melanie witt,melwitt,"Avoid logging traceback when detach device not found

We use the oslo.utils save_and_reraise_exception context manager in our
detach device code and catch specific exceptions that mean 'not found'
and raise DeviceNotFound instead. When we do that, the
save_and_reraise_exception context manager logs an ERROR traceback of
the original exception, for informational purposes. This is misleading
when trying to debug other issues, as it makes it look like the caught
exception caused a problem.

This passes the reraise=False keyword arg to the context manager and
sets the 'reraise' attribute to True only if we are not going to raise
a different exception.

Related-Bug: #1836212

Change-Id: Icce1e31fe3ebcbf9e4897bbfa57b7f3d1fba67a3
(cherry picked from commit 738774b942dab21d8c03c70b4e74b6a487515ff5)
"
openstack%2Ftripleo-heat-templates~master~Iadde822bf362c90098394930bf158ba905fb32de,openstack/tripleo-heat-templates,master,ceph_ansible_pr_4002,Iadde822bf362c90098394930bf158ba905fb32de,Matches updates for ceph-ansible variables name change,MERGED,2019-05-29 07:59:08.000000000,2019-08-01 14:47:56.000000000,2019-08-01 10:45:50.000000000,4,5,1,661907,1a194079f0d5a79d620bb39d126f0bfe8cad2d58,19,8,3,2,6796,Giulio Fidente,gfidente,"Matches updates for ceph-ansible variables name change

Replaces some ceph-ansible variables name to match the changes
introduced with PR #4002

Change-Id: Iadde822bf362c90098394930bf158ba905fb32de
"
openstack%2Fneutron~master~I74d9f449fb24f64548b0f6db4d5562f7447efb25,openstack/neutron,master,bug/1834176,I74d9f449fb24f64548b0f6db4d5562f7447efb25,Pass get_networks() callback to interface driver,MERGED,2019-07-14 13:25:38.000000000,2019-08-01 14:45:18.000000000,2019-07-31 23:53:46.000000000,57,29,9,670723,0e80d2251e6b1cf8521418a703cff7cb149cb8e1,39,9,6,7,28714,Adrian Chiris,adrianc,"Pass get_networks() callback to interface driver

In order to support out of tree interface drivers it is required
to pass a callback to allow the drivers to query information about
the network.

- Allow passing **kwargs to interface drivers
- Pass get_networks() as `get_networks_cb` kw arg
  `get_networks_cb` has the same API as
  `neutron.neutron_plugin_base_v2.NeutronPluginBaseV2.get_networks()`
   minus the the request context which will be embeded in the callback
   itself.

The out of tree interface drivers in question are:

MultiInterfaceDriver - a per-physnet interface driver that delegates
                       operations on a per-physnet basis.
IPoIBInterfaceDriver - an interface driver for IPoIB (IP over Infiniband)
                       networks.

Those drivers are a part of networking-mlnx[1], Their implementation
is vendor agnostic so they can later be moved to a more common place
if desired.

[1] https://github.com/openstack/networking-mlnx

Change-Id: I74d9f449fb24f64548b0f6db4d5562f7447efb25
Closes-Bug: #1834176
"
openstack%2Fsahara-tests~master~Ic72c0cd85d3d42a62071825c242df599d2442f99,openstack/sahara-tests,master,retire-api-site,Ic72c0cd85d3d42a62071825c242df599d2442f99,Update api-ref location and some links,MERGED,2019-07-30 17:25:39.000000000,2019-08-01 14:36:49.000000000,2019-08-01 14:36:49.000000000,11,9,0,673585,20f56dc725e44fbb40ddfd161eaebd1fc1ede78a,9,4,2,6,6547,Andreas Jaeger,jaegerandi,"Update api-ref location and some links

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

At the same time, fix the links that have been broken by
the separation between API v1.1 and v2.

Change-Id: Ic72c0cd85d3d42a62071825c242df599d2442f99
"
openstack%2Ftripleo-quickstart-extras~master~I58082b307cb5b3f9ff908c29c8e24b9b970561de,openstack/tripleo-quickstart-extras,master,os_tempest_fix,I58082b307cb5b3f9ff908c29c8e24b9b970561de,Move os_tempest role var at the top of play level,MERGED,2019-07-26 17:05:21.000000000,2019-08-01 14:19:15.000000000,2019-08-01 14:19:15.000000000,14,7,8,673021,02548d8c939947fbf2829fcc4ef1ce0da6f627fc,46,12,5,2,12393,chandan kumar,chkumar246,"Move os_tempest role var at the top of play level

Once tempest run finishes using os_tempest role,
python_venv_build noop handler[1.] is called and the playbook
fails with tempest_install_method undefined var as it's scope
is only for that task when role is called.

Moving the var at the top of the play keeps the scope of the
var for the whole play.

Closes-Bug: #https://bugs.launchpad.net/tripleo/+bug/1838496

Change-Id: I58082b307cb5b3f9ff908c29c8e24b9b970561de
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fnova~stable%2Fstein~I6a2c63a4c33e783100208fd3f45eb52aad49e3d6,openstack/nova,stable/stein,bug/1837955,I6a2c63a4c33e783100208fd3f45eb52aad49e3d6,Cleanup when hitting MaxRetriesExceeded from no host_available,MERGED,2019-07-30 14:16:07.000000000,2019-08-01 13:41:27.000000000,2019-08-01 13:41:27.000000000,33,37,0,673533,fcc2b9e33ed2b3d9f469b458e0f46011fe9883ac,9,5,1,3,6873,Matt Riedemann,mriedem,"Cleanup when hitting MaxRetriesExceeded from no host_available

Prior to this patch there was a condition when no
host_available was true and an exception would get
raised without first cleaning up the instance.
This causes instances to get indefinitely stuck in
a scheduling state.

This patch fixes this by calling the clean up function
and then exits build_instances using a return statement.

The related functional regression recreate test is updated
to show this fixes the bug.

Change-Id: I6a2c63a4c33e783100208fd3f45eb52aad49e3d6
Closes-bug: #1837955
(cherry picked from commit b98d4ba6d54f5ca2999a8fe6b6d7dfcc134061df)
"
openstack%2Fnova~stable%2Fstein~I4ca64dd60d883356880680fb1f04cee4136c2e00,openstack/nova,stable/stein,bug/1837955,I4ca64dd60d883356880680fb1f04cee4136c2e00,Add functional regression test for bug 1837955,MERGED,2019-07-30 14:16:07.000000000,2019-08-01 13:41:20.000000000,2019-08-01 13:41:19.000000000,114,0,0,673532,0d2e27fd018e08617964dc38321ebfa8f1a5a4f9,7,3,1,1,6873,Matt Riedemann,mriedem,"Add functional regression test for bug 1837955

This adds a functional regression recreate test for
bug 1837955 which was introduced with change
Iae904afb6cb4fcea8bb27741d774ffbe986a5fb4 in the Queens
release.

In this scenario, the primary (and potentially alternate)
hosts for a server build fail and reschedule to conductor.
Eventually all alternate hosts are exhausted and specifically
trying to claim allocations against the alternates fails,
probably because between the time of initial scheduling and
rescheduling something else took up the spare capacity on the
alternate host.

When this happens, MaxRetriesExceeded is raised but the
instance is stuck in BUILD status rather than set to ERROR
status with a fault message.

Change-Id: I4ca64dd60d883356880680fb1f04cee4136c2e00
Related-Bug: #1837955
(cherry picked from commit 5cc39fc51eee6e39f584394283f009aa6809d17b)
"
openstack%2Fnova~stable%2Fstein~I927ff1d8c8f45405833d6012b7d7af37b98b10a0,openstack/nova,stable/stein,bug/1823198,I927ff1d8c8f45405833d6012b7d7af37b98b10a0,Handle Invalid exceptions as expected in attach_interface,MERGED,2019-07-23 22:49:49.000000000,2019-08-01 13:41:13.000000000,2019-08-01 13:41:13.000000000,21,4,0,672384,e9261764c90403d1b2e33790be96efea89068427,11,6,1,3,6873,Matt Riedemann,mriedem,"Handle Invalid exceptions as expected in attach_interface

The bug prompting this is a tempest test which is requesting
a port attachment to a server but not specifying a port or
network to use, so nova-compute looks for a valid network
and finds there are two and raises NetworkAmbiguous. This
is treated as a 400 error in the API but because this is a
synchronous RPC call from nova-api to nova-compute,
oslo.messaging logs an exception traceback for the unexpected
error. That traceback is pretty gross in the compute logs for
something that is a user error and the cloud operator has
nothing to do to fix it.

We can handle the traceback by registering our expected
exceptions for the attach_interface method with oslo.messaging,
which is what this change does.

While looking to just add NetworkAmbiguous it became clear that
lots of different user errors can be raised from this method
and none of those should result in a traceback, so this change
just expects Invalid and its subclasses.

The one exception is InterfaceAttachFailed which is raised when
something in allocate_port_for_instance or driver.attach_interface
fails. That is an unexpected situation so the parent class for
InterfaceAttachFailed is changed from Invalid to NovaException so
it continues to be traced in the logs as an exception.
InterfaceAttachFailedNoNetwork is kept as Invalid since it is a
user error (trying to attach an interface when the user has no
access to any networks).

test_tagged_attach_interface_raises is adjusted to show the
ExpectedException handling for one of the Invalid cases.

Change-Id: I927ff1d8c8f45405833d6012b7d7af37b98b10a0
Closes-Bug: #1823198
(cherry picked from commit ade6c9393632e830c2368825568769853fce3b99)
"
openstack%2Ftripleo-quickstart-extras~master~Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb,openstack/tripleo-quickstart-extras,master,bp/undercloud-minion,Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb,Undercloud minion role,MERGED,2019-05-30 22:02:51.000000000,2019-08-01 13:29:03.000000000,2019-07-31 20:47:06.000000000,608,0,9,662343,89128aed0afc9de1dd345246c4f0eee824bb8055,118,8,31,15,14985,Alex Schultz,mwhahaha,"Undercloud minion role

Provide a playbook and undercloud minion deploy role

Depends-On: https://review.opendev.org/#/c/672318/
Change-Id: Ia63561b9b7e8638e2d1869d4ad608a9b00da4deb
"
openstack%2Fnova~stable%2Fstein~I8278d4ea993ed1600919e34c9759600c8c7dbb41,openstack/nova,stable/stein,bug/1830260,I8278d4ea993ed1600919e34c9759600c8c7dbb41,Fix GET /servers/detail host_status performance regression,MERGED,2019-07-10 00:59:38.000000000,2019-08-01 13:06:21.000000000,2019-08-01 13:06:21.000000000,41,8,1,669958,ef10d8d9a67855895f4ea9f9c49e1976b84e1547,19,8,3,2,6873,Matt Riedemann,mriedem,"Fix GET /servers/detail host_status performance regression

Change I82b11b8866ac82b05eae04351605d52fa8b91453 moved the
host_status extended server attribute processing from an
extension to the main servers view builder. This, however,
caused a regression in the detailed listing of servers because
it didn't incorporate the caching mechanism used previously
by the extension so now for each server with details when
microversion 2.16 or greater is used (and the request passes
the policy check), we get the host status per server even if
we have multiple servers on the same host.

This moves the host_status processing out of the show() method
when listing servers with details and processes them in aggregate
similar to security groups and attached volumes.

One catch is the show() method handles instances from down cells
for us so we have to handle that separately in the new host_status
processing, but it's trivial (just don't get host_status for
instances without a host field set).

NOTE(mriedem): This backport does not revert commit
0cecd2ac324dc9a20e7d60987b9ef6e5082c426d since that
change was only in Train.

Change-Id: I8278d4ea993ed1600919e34c9759600c8c7dbb41
Closes-Bug: #1830260
(cherry picked from commit ab7d923ae7ed4d7525649bc16ff012c1bedca0f5)
"
openstack%2Fnova~stable%2Fstein~Id3c847be32d8a1037722d08bf52e4b88dc5adc97,openstack/nova,stable/stein,bug/1834712,Id3c847be32d8a1037722d08bf52e4b88dc5adc97,Restore RT.old_resources if ComputeNode.save() fails,MERGED,2019-07-22 13:14:10.000000000,2019-08-01 13:06:14.000000000,2019-08-01 13:06:14.000000000,40,1,0,672038,39ed79ea09fbab590092ef6b1bd4899270f19c9b,15,8,1,2,6873,Matt Riedemann,mriedem,"Restore RT.old_resources if ComputeNode.save() fails

When starting nova-compute for the first time with a new node,
the ResourceTracker will create a new ComputeNode record in
_init_compute_node but without all of the fields set on the
ComputeNode, for example ""free_disk_gb"".

Later _update_usage_from_instances will set some fields on the
ComputeNode record (even if there are no instances on the node,
why - I don't know) like free_disk_gb.

This will make the eventual call from _update() to _resource_change()
update the value in the old_resouces dict and return True, and then
_update() will try to update those ComputeNode changes to the database.
If that update fails, for example due to a DBConnectionError, the
value in old_resources will still be for the current version of the node
in memory but not what is actually in the database.

Note that this failure does not result in the compute service failing
to start because ComputeManager._update_available_resource_for_node
traps the Exception and just logs it.

A subsequent trip through the RT._update() method - because of the
update_available_resource periodic task - will call _resource_change
but because old_resource matches the current state of the node, it
returns False and the RT does not attempt to persist the changes to
the DB. _update() will then go on to call _update_to_placement
which will create the resource provider in placement along with its
inventory, making it potentially a candidate for scheduling.

This can be a problem later in the scheduler because the
HostState._update_from_compute_node method may skip setting fields
on the HostState object if free_disk_gb is not set in the
ComputeNode record - which can then break filters and weighers
later in the scheduling process (see bug 1834691 and bug 1834694).

The fix proposed here is simple: if the ComputeNode.save() in
RT._update() fails, restore the previous value in old_resources
so that the subsequent run through _resource_change will compare the
correct state of the object and retry the update.

An alternative to this would be killing the compute service on startup
if there is a DB error but that could have unintended side effects,
especially if the DB error is transient and can be fixed on the next
try.

Obviously the scheduler code needs to be more robust also, but those
improvements are left for separate changes related to the other bugs
mentioned above.

Also, ComputeNode.update_from_virt_driver could be updated to set
free_disk_gb if possible to workaround the tight coupling in the
HostState._update_from_compute_node code, but that's also sort of
a whack-a-mole type change best made separately.

Change-Id: Id3c847be32d8a1037722d08bf52e4b88dc5adc97
Closes-Bug: #1834712
(cherry picked from commit 11cb42f396fdbc1d973e1a1b592c00896f646015)
"
openstack%2Fnova~stable%2Fstein~I76163c46b1f01ba7ff592d162b106ea2e5bb34cb,openstack/nova,stable/stein,bug/1829914,I76163c46b1f01ba7ff592d162b106ea2e5bb34cb,Fix no propagation of nova context request_id,MERGED,2019-07-13 12:15:46.000000000,2019-08-01 13:00:07.000000000,2019-08-01 13:00:07.000000000,41,23,0,670694,bb551ddd74fafa3be1c168e9e49e052d2ff75a4b,16,8,2,3,7634,Takashi Natsume,natsumet,"Fix no propagation of nova context request_id

Nova context request_id is not propagated for
port binding operations in neutron.
So fix it.

Conflicts:
  nova/tests/unit/network/test_neutronv2.py

  The conflict is due to not including
  I1788389d11a9f3b6b0bd0b75d2184be9e90983bb in stable/stein

Change-Id: I76163c46b1f01ba7ff592d162b106ea2e5bb34cb
Closes-Bug: #1829914
(cherry picked from commit e11b589474e6e469442277d1e17d3140e8bf0d6b)
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ic2c4dcabe3754727806d2a4248e1ba182e83309a,openstack/tripleo-heat-templates,stable/rocky,fix_task_name,Ic2c4dcabe3754727806d2a4248e1ba182e83309a,[rocky/queens] fix task name nova_api -> nova_compute,MERGED,2019-07-26 07:30:37.000000000,2019-08-01 12:38:32.000000000,2019-08-01 12:38:32.000000000,1,1,0,672900,65e48b0c1e3edcafee29ad6cc753637c14bd9acd,16,7,1,1,17216,Martin Schuppert,mcschupp,"[rocky/queens] fix task name nova_api -> nova_compute

Change-Id: Ic2c4dcabe3754727806d2a4248e1ba182e83309a
"
openstack%2Fcharm-masakari-monitors~master~I3326067da7f36779462e951447ad61d2a8ccdd3c,openstack/charm-masakari-monitors,master,bug/1838578,I3326067da7f36779462e951447ad61d2a8ccdd3c,"Add gitreview, zuul config, fix coverage, fix lint",MERGED,2019-07-31 21:16:49.000000000,2019-08-01 12:11:26.000000000,2019-08-01 12:11:26.000000000,24,7,0,673917,5a66794cca1d9d9ad74cf99b712fce52951fec88,20,4,5,5,20635,Ryan Beisner,ryan-beisner,"Add gitreview, zuul config, fix coverage, fix lint

Partial-bug: #1838578

Change-Id: I3326067da7f36779462e951447ad61d2a8ccdd3c
"
openstack%2Ftripleo-heat-templates~master~I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32,openstack/tripleo-heat-templates,master,podman-drop-in,I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32,Generate addition drop-in dependencies for podman containers,MERGED,2019-07-09 16:57:36.000000000,2019-08-01 11:48:51.000000000,2019-08-01 11:48:50.000000000,22,0,0,669910,a06cc5f93f79d8dc0f65f1f42f4277310e2e24cb,28,6,5,1,20778,Damien Ciabrini,dciabrin,"Generate addition drop-in dependencies for podman containers

Adding a new parameter: SystemdDropInDependencies (true by default).
Which when set to True will create /etc/sysconfig/podman_drop_in on the
host; to tell paunch to use paunch-start-podman-container script to
start the containers.

This file makes paunch generate additional systemd
dependencies for containers that have special
start/stop ordering constraints. It ensures that
those constraints are enforced on reboot/shutdown.

Depends-On: Idaf5d4871ad1231f2592238a7925857af8f40548
Change-Id: I4f8cd5ba4f747b0169ae0bddf6a14048fa782f32
"
openstack%2Fpaunch~master~Idaf5d4871ad1231f2592238a7925857af8f40548,openstack/paunch,master,podman-drop-in,Idaf5d4871ad1231f2592238a7925857af8f40548,Generate addition drop-in dependencies for podman containers,MERGED,2019-07-09 20:25:48.000000000,2019-08-01 11:48:49.000000000,2019-08-01 11:48:49.000000000,14,1,2,669941,b33aeea9728233aca852a3e132f23fca71ac42df,24,7,3,1,20778,Damien Ciabrini,dciabrin,"Generate addition drop-in dependencies for podman containers

If a container managed by Paunch and has the drop-in file enabled, we
want to start the containers with the script provided by the Paunch rpm:
paunch-start-podman-container

The script will take care of proper ordering when creating systemd scope
files.

Change-Id: Idaf5d4871ad1231f2592238a7925857af8f40548
"
openstack%2Ftripleo-validations~master~Ib8ae41451f245d4e2d40864cc36515a07a1878bf,openstack/tripleo-validations,master,molecule/ctlplane-ip-range,Ib8ae41451f245d4e2d40864cc36515a07a1878bf,Adds molecule tests for ctlplane-ip-range validation,MERGED,2019-07-23 06:03:13.000000000,2019-08-01 11:07:25.000000000,2019-07-23 18:12:52.000000000,167,0,0,672205,49aa25278db5031d0543169ad2e12676ca89fc7d,11,6,2,3,28223,Cedric Jeanneret,cjeanner,"Adds molecule tests for ctlplane-ip-range validation

Change-Id: Ib8ae41451f245d4e2d40864cc36515a07a1878bf
"
openstack%2Ftripleo-validations~master~I20b55dc55b833a87930a4d9efd9fe81d4759ccb5,openstack/tripleo-validations,master,molecule/undercloud-disk-space,I20b55dc55b833a87930a4d9efd9fe81d4759ccb5,Adds molecule tests for undercloud-disk-space,MERGED,2019-07-22 14:05:30.000000000,2019-08-01 11:06:03.000000000,2019-07-23 15:26:11.000000000,127,0,0,672050,5adfef9d9a61402617591ef58315b9cd62f60907,9,9,1,3,28223,Cedric Jeanneret,cjeanner,"Adds molecule tests for undercloud-disk-space

Change-Id: I20b55dc55b833a87930a4d9efd9fe81d4759ccb5
"
openstack%2Ftripleo-validations~master~Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da,openstack/tripleo-validations,master,molecule/dns,Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da,Adds molecule testing for DNS validation,MERGED,2019-07-22 09:48:30.000000000,2019-08-01 11:05:34.000000000,2019-07-23 17:42:50.000000000,130,0,0,672003,647e9afc264fab5a0672d372d7244a171104486e,8,5,1,3,28223,Cedric Jeanneret,cjeanner,"Adds molecule testing for DNS validation

Change-Id: Ia1dba94328e885864233ca4eff0fb9aa7e7ce2da
"
openstack%2Ftripleo-validations~master~Ie3226b708665b1733891d592a54cc6f2398899df,openstack/tripleo-validations,master,molecule/controller-token,Ie3226b708665b1733891d592a54cc6f2398899df,Adds molecule testing for controller-token,MERGED,2019-07-23 08:56:02.000000000,2019-08-01 11:05:06.000000000,2019-07-23 17:42:51.000000000,137,0,0,672229,1ace29c69400173e05346dbc4906e003f72899b6,10,6,1,3,28223,Cedric Jeanneret,cjeanner,"Adds molecule testing for controller-token

Change-Id: Ie3226b708665b1733891d592a54cc6f2398899df
"
openstack%2Ftripleo-validations~master~I2e94b72080b73dc37eefd072217392f34e1291f0,openstack/tripleo-validations,master,molecule/controller-ulimits,I2e94b72080b73dc37eefd072217392f34e1291f0,Adds molecule testing for controller-ulimits,MERGED,2019-07-23 09:25:53.000000000,2019-08-01 11:04:33.000000000,2019-07-23 17:42:53.000000000,129,0,0,672242,e1d0bde7dd120f42fe1d6301cbdc65e3327615af,8,5,1,3,28223,Cedric Jeanneret,cjeanner,"Adds molecule testing for controller-ulimits

Change-Id: I2e94b72080b73dc37eefd072217392f34e1291f0
"
openstack%2Ftripleo-validations~master~I7009a4ae534a6ad437ca46f0d3d3505360dc21dc,openstack/tripleo-validations,master,molecule/haproxy,I7009a4ae534a6ad437ca46f0d3d3505360dc21dc,Adds Molecule to haproxy validation role,MERGED,2019-07-22 13:21:53.000000000,2019-08-01 11:04:00.000000000,2019-07-23 17:42:54.000000000,154,0,0,672041,06bb613979a4c4e1c297c3f8feed244af1142046,8,5,1,3,28223,Cedric Jeanneret,cjeanner,"Adds Molecule to haproxy validation role

Change-Id: I7009a4ae534a6ad437ca46f0d3d3505360dc21dc
"
openstack%2Ftripleo-validations~master~I8abe0b2fc8b3619c227da01d145355c2d8d1d15d,openstack/tripleo-validations,master,molecule/undercloud-debug,I8abe0b2fc8b3619c227da01d145355c2d8d1d15d,Add molecule testing on undercloud-debug role,MERGED,2019-07-22 12:36:12.000000000,2019-08-01 11:03:33.000000000,2019-07-23 17:42:55.000000000,142,0,0,672030,95e9eabaa6d4218550278f4b05116bf2de7629d7,10,6,2,3,28223,Cedric Jeanneret,cjeanner,"Add molecule testing on undercloud-debug role

Change-Id: I8abe0b2fc8b3619c227da01d145355c2d8d1d15d
"
openstack%2Ftripleo-validations~master~Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf,openstack/tripleo-validations,master,validate/containers,Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf,New validation: ensure services status,MERGED,2019-05-02 14:41:56.000000000,2019-08-01 11:01:17.000000000,2019-07-29 21:09:38.000000000,58,0,7,656784,1265e2f6675b95bf7487fe041066d8de3164e39e,20,10,3,3,28223,Cedric Jeanneret,cjeanner,"New validation: ensure services status

This new validation ensures we don't have any failed systemd unit.

Failed units might lead to unexpected errors when we want to update
or upgrade the system, so we have to ensure we don't have anything
in a failed state.

Since this check is pretty generic and useful, it can also be called
as a post-deploy, post-upgrade task. This ensures we have a corret
state AFTER such actions as well.

Change-Id: Id5bb2cce6b4ba41b6c1d860303d9e655ef23f1cf
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I9eb274071f3fc2258addd9d2f0c1a5406a702573,openstack/tripleo-heat-templates,stable/stein,bug/1832588,I9eb274071f3fc2258addd9d2f0c1a5406a702573,Upgrade fixes for RabbitMQ and Pacemaker,MERGED,2019-07-12 13:40:56.000000000,2019-08-01 10:45:52.000000000,2019-08-01 10:45:52.000000000,39,11,3,670555,6e329424f238ae36d582b1010866a5da4837a078,16,6,3,2,11090,Sergii Golovatiuk,holser,"Upgrade fixes for RabbitMQ and Pacemaker

Override also RabbitMQ long node names (FQDNs) in addition to the
short node names we've been already overriding. This allows RabbitMQ
to start correctly.

Also remove a superfluous when condition in the pacemaker validation
task.

Depends-On: Ia152aed696be15119ba5b75177ef82bc786c4b05
Change-Id: I9eb274071f3fc2258addd9d2f0c1a5406a702573
Closes-Bug: #1832588
(cherry-picked from 47d1430da57e757f8234d1cce65ad5fee46fa21c)
"
openstack%2Ftripleo-validations~master~Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed,openstack/tripleo-validations,master,optimization/no-fact-gathering,Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed,Enable fact gathering for needed validations,MERGED,2019-07-18 11:26:44.000000000,2019-08-01 10:34:06.000000000,2019-07-31 17:40:36.000000000,5,0,11,671460,2affbb11f82afcdfcd77c282f718c92595cad291,24,7,6,5,28223,Cedric Jeanneret,cjeanner,"Enable fact gathering for needed validations

Implicit fact gathering is disabled since
https://review.opendev.org/672278

This means, for some validations, we must explicitly enable fact
gathering.

Depends-On: https://review.opendev.org/672278
Change-Id: Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed
"
openstack%2Ftripleo-validations~master~Ib46f5993eeac6ec39a603da3b8e943c960d7c52d,openstack/tripleo-validations,master,molecule/repos,Ib46f5993eeac6ec39a603da3b8e943c960d7c52d,"Correct ""repos"" validation and adds Molecule tests",MERGED,2019-07-25 13:26:50.000000000,2019-08-01 10:31:47.000000000,2019-07-26 01:44:36.000000000,184,14,0,672722,fa974b9fb9f1e9d3d2ebe5ec5d95095ea018703e,12,5,1,5,28223,Cedric Jeanneret,cjeanner,"Correct ""repos"" validation and adds Molecule tests

The way `yum repolist' works isn't consistent on CentOS-7 and Fedora. On
the first, it does fail on a broken repository, spitting an error on
STDERR and exiting with 1.

On Fedora, it sadly just ignores the failing repository with a single
line, and exits with 0.

This patch intends to make the validation more resilient, and adds
Molecule testing in order to ensure it's actually working as expected.

Change-Id: Ib46f5993eeac6ec39a603da3b8e943c960d7c52d
"
openstack%2Fmagnum~master~I820fbe0659222ba31baf43ca09d2bbb0030ed61f,openstack/magnum,master,add-cluster-information-in-event-notifications,I820fbe0659222ba31baf43ca09d2bbb0030ed61f,Add information about the cluster in magnum event notifications,MERGED,2019-07-11 14:02:00.000000000,2019-08-01 10:26:30.000000000,2019-08-01 10:26:30.000000000,100,24,0,670312,e5eade03dc36f74f57dba756f43d15a198155b2d,22,5,4,6,30678,Emanuel Andrecut,andrecutm,"Add information about the cluster in magnum event notifications

Magnum is sending notifications like cluster create but has no
details regarding the cluster, like cluster UUID. Notifications
from other OpenStack projects contain full detailed information
(e.g. instance UUID in Nova instance create notification).
Detailed notifications are important for other OpenStack
projects like Searchlight or third party projects that cache
information regarding OpenStack objects or have custom actions
running on notification. Caching systems can efficiently update
one single object (e.g. cluster), while without notifications
they need to periodically retrieve object list, which is
inefficient.

Change-Id: I820fbe0659222ba31baf43ca09d2bbb0030ed61f
Story: #2006297
Task: 36009
"
openstack%2Fmagnum~stable%2Fstein~If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5,openstack/magnum,stable/stein,feature/fix-openstack_cloud_controller_manager-restarts-stable/stein,If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5,Fix openstack-cloud-controller-manager restarts,MERGED,2019-06-19 14:36:22.000000000,2019-08-01 10:26:29.000000000,2019-08-01 10:26:29.000000000,1,0,0,666308,1ce4b7e7b9774df5897aa7a7382ad01e592b28cc,18,8,3,1,9995,Ricardo Rocha,rocha,"Fix openstack-cloud-controller-manager restarts

Openstack-cloud-controller-manager restarts several times during
cluster creation.

This happens because cloud-controller-manager starts running before
needed secrets exist in kubernetes. Cloud-controller-manager lists secrets
and if the secrets exists it uses it and moves on, but if the secret
doesn't exist it starts a watch until it does. As this is not allowed the
pod fails.

This is triggered by Issue 
https://github.com/kubernetes/cloud-provider-openstack/issues/545

Story: 2005270

Change-Id: If8f34dc45b3b8a76e3d561ed41b4d0a783ceecb5
Signed-off-by: Diogo Guerra <dy090.guerra@gmail.com>
(cherry picked from commit 21acb8dc9afbc3c1b2a786c4041213fa7e8761dc)
"
openstack%2Fmagnum~master~I23056513dcc6f0cb0c7d41aa529f6a2e77679db9,openstack/magnum,master,story/2006283-35989,I23056513dcc6f0cb0c7d41aa529f6a2e77679db9,Fix py3 issue of heat-container-agent,MERGED,2019-07-26 04:56:07.000000000,2019-08-01 10:25:41.000000000,2019-08-01 10:25:41.000000000,18,15,4,672865,bd23e58825cdcbbbc573ae37a59372f0f5157551,21,4,5,5,6484,Feilong Wang,flwang,"Fix py3 issue of heat-container-agent

Now the default python version of rawhide has been upgraded to
python 3.7.4, this patch fixes those py2->py3 issues which followed
from the origin heat-agent commits[1][2].

[1] https://github.com/openstack/heat-agents/commit/25cd394bbe5c371dd60328643f2e18b7bfb3d1a2
[2] https://github.com/openstack/heat-agents/commit/73e2125532a6d68dbd5d8a4e64a043de859eb853

Task: 35989
Story: 2006283

Change-Id: I23056513dcc6f0cb0c7d41aa529f6a2e77679db9
"
openstack%2Fmagnum~master~I11579ff6b83d133c71c2cbf49ee4b20996dfb918,openstack/magnum,master,story/2006208,I11579ff6b83d133c71c2cbf49ee4b20996dfb918,"Allow setting network, subnet and FIP when creating cluster",MERGED,2019-07-17 03:58:18.000000000,2019-08-01 10:25:37.000000000,2019-08-01 10:25:37.000000000,128,34,0,671182,32989b4f7b1fdee40768188289bce4a8baf624b7,23,5,6,20,6484,Feilong Wang,flwang,"Allow setting network, subnet and FIP when creating cluster

When using a public cluster template, user still need the capability
to reuse their existing network/subnet, and they also need to be
able to turn of/off the floatingip to overwrite the setting in the
public template. This patch supports that by adding those three
items as parameters when creating cluster.

Story: 2006208
Task: 35797

Change-Id: I11579ff6b83d133c71c2cbf49ee4b20996dfb918
"
openstack%2Fneutron-lbaas~stable%2Fqueens~If1a8017260f2c17f6b63cf2029fcc16d8b178a18,openstack/neutron-lbaas,stable/queens,story/2001946-stable/queens,If1a8017260f2c17f6b63cf2029fcc16d8b178a18,Allow to create loadbalancer with chinese character,MERGED,2019-06-04 15:37:59.000000000,2019-08-01 10:14:29.000000000,2019-08-01 10:14:29.000000000,8,9,0,663067,2d49d9954a738c5942b0d0a15ffe3595dae5c137,27,6,1,4,6469,Carlos Gon√ßalves,cgoncalves,"Allow to create loadbalancer with chinese character

Because loadbalancer's name will be written in haproxy configuration,
but chinese character can't be written correctly.
The patch use replaces loadbalancer's name with loadbalancer's id
in the templates.

Change-Id: If1a8017260f2c17f6b63cf2029fcc16d8b178a18
Story: 2001946
Task: 15064
(cherry picked from commit 1502dc16f5ffa76211e5ab88cf1e67fe2c9b8245)
"
openstack%2Fkolla-ansible~stable%2Fstein~Iea6d12c07a2f4152f2038d3de2ef589479b3332b,openstack/kolla-ansible,stable/stein,cp2,Iea6d12c07a2f4152f2038d3de2ef589479b3332b,Format internal Fluentd logs,MERGED,2019-07-16 15:19:54.000000000,2019-08-01 10:00:19.000000000,2019-08-01 10:00:19.000000000,21,0,0,671078,7b3eca856b07cd2ea9e934084875bd3fe725d39e,15,6,1,1,28048,Will Szumski,jovial,"Format internal Fluentd logs

This change formats internal Fluent logs in a similar way to other
logs. It makes it easier for a user to identify issues with Fluent
parsing logs. Any failure to parse a log will be ingested into the
logging framework and can easily be located by searching for
'pattern not match' or by filtering for Fluent log warnings.

Change-Id: Iea6d12c07a2f4152f2038d3de2ef589479b3332b
(cherry picked from commit d89a89c26bd0348e48049f9cddfeb5219dce9282)
"
openstack%2Fcyborg~master~I7ddb2ad1c345070feeb6ad74fa1399d78933b15e,openstack/cyborg,master,nova-integ,I7ddb2ad1c345070feeb6ad74fa1399d78933b15e,P3: Changes for services.,MERGED,2019-07-12 08:15:00.000000000,2019-08-01 09:47:19.000000000,2019-08-01 09:47:19.000000000,106,2187,6,670464,d582f73fead09cef380c49059c19ad3297c33bd4,23,5,5,7,21672,Sundar Nadathur,nsundar,"P3: Changes for services.

Change-Id: I7ddb2ad1c345070feeb6ad74fa1399d78933b15e
"
openstack%2Fpython-tripleoclient~master~I3ac295d2e2f86fbb2120f9491d4103434b6ac3da,openstack/python-tripleoclient,master,,I3ac295d2e2f86fbb2120f9491d4103434b6ac3da,Mock deployment action in upgrade tests,MERGED,2019-07-31 14:08:21.000000000,2019-08-01 09:42:29.000000000,2019-07-31 23:43:33.000000000,9,2,0,673828,e1cb3042c8fe25d7fe28bc7d1d38f5a3ae90fa1d,13,8,1,1,11491,Gael Chamoulaud,gchamoul,"Mock deployment action in upgrade tests

Without properly mocking the deployment action, these tests are trying
to execute deployment code including temp file creation which can lead
to package build failures. This change mocks out the deployment take
action for the UpgradeRun so we're only testing the upgrade code
itself.

Change-Id: I3ac295d2e2f86fbb2120f9491d4103434b6ac3da
Closes-Bug: #1838506
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Ftripleo-common~master~I86b914f8e20704da2d566d137718b4b7fb02ad95,openstack/tripleo-common,master,bug/1838540,I86b914f8e20704da2d566d137718b4b7fb02ad95,Add deployment_options input to config_download workflow,MERGED,2019-07-31 16:04:20.000000000,2019-08-01 09:41:10.000000000,2019-08-01 09:41:10.000000000,2,0,0,673862,71b285b345bd3240450cacc7047d0184dc415102,10,7,1,1,13861,yatin,yatinkarel,"Add deployment_options input to config_download workflow

Inventory is generated as a part of config_download_deploy
workflow but 'deployment_options' input needed to set
'ansible_python_interpreter' input for 'ansible-generate-inventory'
action is missing as a input to the workflow.
This patch adds it.

Partial-Bug: #1838540
Change-Id: I86b914f8e20704da2d566d137718b4b7fb02ad95
"
openstack%2Ftripleo-upgrade~stable%2Fstein~I6725bdc2eff5a367b46075c2bf8baa8f2edbabe5,openstack/tripleo-upgrade,stable/stein,,I6725bdc2eff5a367b46075c2bf8baa8f2edbabe5,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-07-31 11:54:21.000000000,2019-08-01 09:40:47.000000000,2019-08-01 09:40:46.000000000,9,9,0,673795,0f237f36a013079f698d9ce63ab271a3381f954b,8,7,1,7,26343,Jose Luis Franco,jfrancoa,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I6725bdc2eff5a367b46075c2bf8baa8f2edbabe5
(cherry picked from commit b8232161c02828f71388904c14ba1f4396ecbb79)
"
openstack%2Ftripleo-upgrade~stable%2Fstein~I542b82b0bec05faf320861027f2f51572fe931c2,openstack/tripleo-upgrade,stable/stein,,I542b82b0bec05faf320861027f2f51572fe931c2,Remove check for openvswitch package.,MERGED,2019-07-31 11:44:08.000000000,2019-08-01 09:40:45.000000000,2019-08-01 09:40:44.000000000,0,5,0,673791,43ca4a2c2bac5efc51230c3c0fe56be5bdcfc266,8,6,1,1,26343,Jose Luis Franco,jfrancoa,"Remove check for openvswitch package.

The package task does ensure that a package is installed,
when the intention of this task was to simply check if
the openvswitch package was installed. However, if it's
installed, Ansible will try to install the latest available
version and that update needs to be handled in the Undercloud
upgrade itself, not in the previous steps. For that reason,
this patch removes the task and relies on the following one
which checks that the OpenVSwitch service is running to fail
if the package wasn't installed.

Change-Id: I542b82b0bec05faf320861027f2f51572fe931c2
(cherry picked from commit b5f00e5c3e663b0ebcfe3277e38a71a3bf91e7d9)
"
openstack%2Ftripleo-upgrade~stable%2Fstein~Ife7cc6e6ca261ccfd2ea50a145ef26092f543b1f,openstack/tripleo-upgrade,stable/stein,,Ife7cc6e6ca261ccfd2ea50a145ef26092f543b1f,Drop MongoDB service from custom roles_data.,MERGED,2019-07-31 11:10:59.000000000,2019-08-01 09:40:44.000000000,2019-08-01 09:40:43.000000000,7,1,0,673786,589dfcaeece5985aa12d7b748cada77f1a4a1cdb,8,6,1,2,26343,Jose Luis Franco,jfrancoa,"Drop MongoDB service from custom roles_data.

As documented in the Stein upgrades guide [0], we need to
remove the MongDB service from the roles_data in the case
a custom one was appended during upgrade prepare step.

[0] - https://gitlab.cee.redhat.com/osp15/osp-upgrade-el8/tree/master#only-for-composable-roles-deployments-skip-this-line-in-monolithic-setup

Change-Id: Ife7cc6e6ca261ccfd2ea50a145ef26092f543b1f
(cherry picked from commit 359db7c0006c13e4f754003e911ce861f577b3e8)
"
openstack%2Ftripleo-upgrade~stable%2Fstein~Ib83e508950df729901fffa072402b581be95c746,openstack/tripleo-upgrade,stable/stein,adapt-tripleo-upgrade-stable/stein,Ib83e508950df729901fffa072402b581be95c746,Upgrade undercloud.conf with the right parameters,MERGED,2019-07-31 11:50:07.000000000,2019-08-01 09:40:43.000000000,2019-08-01 09:40:42.000000000,66,5,0,673794,5d41b46d0b07cf748082cf314479847e99fff609,7,6,1,2,26343,Jose Luis Franco,jfrancoa,"Upgrade undercloud.conf with the right parameters

This patch adds the new parameters required for the OSP15 major
upgrades workflow.  This patch also adds the undercloud_hiera file
if the hieradata_override is not defined in undercloud.conf, if it
is then it will append the needed hiera configuration into the existing
file.
If the docker_insecure_registries option exists in the file, it's
value is merged with new namespace values and set as
container_insecure_registries.  The docker_insecure_registries is
removed after the value is used.

Change-Id: Ib83e508950df729901fffa072402b581be95c746
(cherry picked from commit 3a97b561fa3becea25d0c2385850c1139358228d)
"
openstack%2Ftripleo-upgrade~stable%2Fstein~I70d387b381b6ce297507cbfe669ea7be902df605,openstack/tripleo-upgrade,stable/stein,refactor_flatten-stable/stein,I70d387b381b6ce297507cbfe669ea7be902df605,Migrate from with_X loop.,MERGED,2019-07-31 11:47:52.000000000,2019-08-01 09:40:41.000000000,2019-08-01 09:40:41.000000000,79,99,0,673792,954653a8613f0b97ec661abbeef32922c751e8a6,9,6,1,24,26343,Jose Luis Franco,jfrancoa,"Migrate from with_X loop.

With the release of Ansible 2.5, the recommended way to perform
 loops is the use the new loop keyword instead of with_X style loops.
This review addresses aforementioned change for common tasks
within tripleo-upgrade role.

Change-Id: I70d387b381b6ce297507cbfe669ea7be902df605
(cherry picked from commit b25817a233bcb5f836319cce10bb04bbb732c4f7)
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I2b8fc3fcf757e5a24696f2d3575fe696b9cdfdf0,openstack/tripleo-heat-templates,stable/stein,,I2b8fc3fcf757e5a24696f2d3575fe696b9cdfdf0,ceph-base: Disable ceph-ansible firewall tasks,MERGED,2019-07-31 18:38:35.000000000,2019-08-01 09:40:37.000000000,2019-08-01 09:40:37.000000000,1,0,0,673894,954abc8e9b0920ef5cb7b0c997af3af0409d72b8,10,6,1,1,25402,Francesco Pantano,fmount,"ceph-base: Disable ceph-ansible firewall tasks

TripleO already manages firewall rules so we don't need to have both
enabled in the same time.
It's currently not an issue because the firewall rules aren't apply by
ceph-ansible on containerized deployment but it will be enabled soon.

Change-Id: I2b8fc3fcf757e5a24696f2d3575fe696b9cdfdf0
Co-Authored-By: Dimitri Savineau <dsavinea@redhat.com>
"
openstack%2Fmagnum~master~I77d4de731b366e9c92fbf44b6e808a093cc39427,openstack/magnum,master,,I77d4de731b366e9c92fbf44b6e808a093cc39427,Remove extra spaces,ABANDONED,2018-07-28 19:37:03.000000000,2019-08-01 09:34:39.000000000,,1,1,0,586838,2292933e5559e2a7f09598b925c07f9c020a8e14,11,9,1,1,28543,shupeng,Vieri,"Remove extra spaces

Change-Id: I77d4de731b366e9c92fbf44b6e808a093cc39427
"
openstack%2Fnetworking-midonet~master~I702c506ee89e1336eea06a53cf8ca1239606ccbd,openstack/networking-midonet,master,cover,I702c506ee89e1336eea06a53cf8ca1239606ccbd,Add cover job to gate queue,ABANDONED,2019-06-06 10:27:36.000000000,2019-08-01 09:33:12.000000000,,7,0,0,663589,b1e7930a962ee823d016b35e85a92079b112c897,6,3,1,1,6854,YAMAMOTO Takashi,yamamoto,"Add cover job to gate queue

All voting jobs should be on gate queue as well.

Change-Id: I702c506ee89e1336eea06a53cf8ca1239606ccbd
"
openstack%2Freleases~master~I623d359fe133d930d4ba994fbb59f92d09a80a96,openstack/releases,master,ironic-inspector-stein,I623d359fe133d930d4ba994fbb59f92d09a80a96,Release ironic-inspector 8.2.3 for Stein,MERGED,2019-07-24 07:19:14.000000000,2019-08-01 09:30:38.000000000,2019-08-01 09:30:38.000000000,4,0,0,672410,cc0e7e0a14b33deecdc1a560698a3a4a32a9531c,8,4,1,1,10239,Dmitry Tantsur,dtantsur,"Release ironic-inspector 8.2.3 for Stein

Change-Id: I623d359fe133d930d4ba994fbb59f92d09a80a96
"
openstack%2Foctavia~master~I776063356177254420f748ffa3c272d160ad60a5,openstack/octavia,master,,I776063356177254420f748ffa3c272d160ad60a5,DNM: test centos-minimal++,ABANDONED,2019-07-23 17:11:02.000000000,2019-08-01 09:29:39.000000000,,1,0,0,672332,d3f5a56ecffb9d2135596dc26a684115eed86d31,5,1,2,1,6469,Carlos Gon√ßalves,cgoncalves,"DNM: test centos-minimal++

Depends-On: https://review.opendev.org/#/c/672329/
Change-Id: I776063356177254420f748ffa3c272d160ad60a5
"
openstack%2Freleases~master~Ifb045ea76a79d91c7d6d6bfe312cb9ca821868d2,openstack/releases,master,,Ifb045ea76a79d91c7d6d6bfe312cb9ca821868d2,Release 0.32.0 of openstacksdk,MERGED,2019-07-30 17:16:11.000000000,2019-08-01 09:29:08.000000000,2019-08-01 09:29:07.000000000,4,0,0,673581,218779fa8f307ecd61c2cfa3d981fe45a96e5be2,9,5,1,1,2,Monty Taylor,mordred,"Release 0.32.0 of openstacksdk

Change-Id: Ifb045ea76a79d91c7d6d6bfe312cb9ca821868d2
"
openstack%2Fpuppet-tripleo~master~I3deb3e944ed4911962d204357bb3134569f153f6,openstack/puppet-tripleo,master,bug/1829062,I3deb3e944ed4911962d204357bb3134569f153f6,Allow to configure Apache MPM module,MERGED,2019-07-17 15:35:05.000000000,2019-08-01 09:25:42.000000000,2019-07-22 18:51:14.000000000,25,1,1,671321,6fb9d8e6cd48283b551f3580072669622da2006c,18,6,1,3,6926,Bogdan Dobrelya,bogdando,"Allow to configure Apache MPM module

Defaults to 'prefork', which ensures there is no upgrade/update impact.

Related-bug: #1829062

Change-Id: I3deb3e944ed4911962d204357bb3134569f153f6
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fmagnum~master~Ie4c3d26404a22791a9cbd2e6f14f822e7e5a6d13,openstack/magnum,master,retire-api-site,Ie4c3d26404a22791a9cbd2e6f14f822e7e5a6d13,Update api-ref location,MERGED,2019-07-22 16:30:31.000000000,2019-08-01 09:22:54.000000000,2019-08-01 09:22:54.000000000,1,1,0,672089,b43c0a32c049d056db07bd79f8063515925fd9f8,9,7,1,1,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ie4c3d26404a22791a9cbd2e6f14f822e7e5a6d13
"
openstack%2Fmagnum~master~Ibcee41efca92f07799008abb344f4241bc05563f,openstack/magnum,master,update_auth_url,Ibcee41efca92f07799008abb344f4241bc05563f,"Update ""auth_uri"" and ""auth_url"" in install docs",ABANDONED,2019-07-16 11:30:52.000000000,2019-08-01 09:18:18.000000000,,2,2,0,671012,cef02033fd7e1188a44e1e865c6e3241277c1123,8,6,1,1,26233,zengjia,zengjia87,"Update ""auth_uri"" and ""auth_url"" in install docs

Beginning with the Queens release, the keystone install guide
recommends running all interfaces on the same port[1]

In addition, update deprecated ""auth_uri"" to ""www_authenticate_uri"",
according to [2] and [3]

[1] https://review.openstack.org/#/c/541857
[2] https://review.opendev.org/#/c/508522
[3] https://review.opendev.org/#/c/614082/

Change-Id: Ibcee41efca92f07799008abb344f4241bc05563f
"
openstack%2Fnetworking-ovn~master~I1ba5926575564eb5a2c0e01423d920e824c83a9b,openstack/networking-ovn,master,,I1ba5926575564eb5a2c0e01423d920e824c83a9b,DNM Replace default ipv6 gw router,ABANDONED,2019-07-30 08:48:47.000000000,2019-08-01 09:17:40.000000000,,1,4,0,673454,fd65c15269e02dd1e3e244b7e33a885ac94e4f32,4,2,1,1,24791,Maciej Jozefczyk,maciej.jozefczyk,"DNM Replace default ipv6 gw router

Testing only.

Change-Id: I1ba5926575564eb5a2c0e01423d920e824c83a9b
"
openstack%2Fkolla-ansible~stable%2Fstein~I0a2484d878d5c86977fb232a57c52f874ca7a34c,openstack/kolla-ansible,stable/stein,cp2,I0a2484d878d5c86977fb232a57c52f874ca7a34c,Don't drop unmatched Kolla service logs,MERGED,2019-07-16 15:06:08.000000000,2019-08-01 09:12:25.000000000,2019-08-01 09:12:25.000000000,6,0,0,671076,32fbd49ad6ae7c52581dee0a34b7a64618767f34,14,6,2,2,28048,Will Szumski,jovial,"Don't drop unmatched Kolla service logs

Kolla service logs which don't match a Fluentd rewriterule get dropped.
This change prevents that by tagging them with 'unmatched'.

Change-Id: I0a2484d878d5c86977fb232a57c52f874ca7a34c
(cherry picked from commit cfeb9dd9ef1d891904c9112c35b2189d5032815c)
"
openstack%2Fmanila~master~I421db5b8ed56fecc90ac7e6d32078d443a3eaa2e,openstack/manila,master,,I421db5b8ed56fecc90ac7e6d32078d443a3eaa2e,Add manila-ui config instructions,MERGED,2019-07-19 07:09:46.000000000,2019-08-01 09:01:58.000000000,2019-07-31 16:53:28.000000000,33,13,20,671663,25506de0e477afc3bd499847530f76bb3f9e7635,73,13,6,2,26458,Brin Zhang,zhangbailin,"Add manila-ui config instructions

In Devstack, even though horizon and manila plugins are enabled, if the
manila ui plugin is not explicitly enabled it won't show up.

This change adds config instructions in the readme and in the manila
contributor docs to enable Manila UI when deploying with Devstack.

Change-Id: I421db5b8ed56fecc90ac7e6d32078d443a3eaa2e
"
openstack%2Fnetworking-ovn~master~If6b150f2e817296b7ee94d30736247aae4727615,openstack/networking-ovn,master,limit-idls,If6b150f2e817296b7ee94d30736247aae4727615,DO NOT REVIEW: Ignore unnecessary Neutron Workers,ABANDONED,2019-06-14 15:22:23.000000000,2019-08-01 08:57:14.000000000,,4,0,0,665417,221638431dd0763929c1885b0952474f3c346601,3,1,1,1,6773,Lucas Alvares Gomes,lucasagomes,"DO NOT REVIEW: Ignore unnecessary Neutron Workers

Change-Id: If6b150f2e817296b7ee94d30736247aae4727615
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fironic-inspector~master~I634e75ab04253edffb6f19394d3943e9ffe56d13,openstack/ironic-inspector,master,gate,I634e75ab04253edffb6f19394d3943e9ffe56d13,CI: clean up the required projects list for grenade,MERGED,2019-07-30 08:22:07.000000000,2019-08-01 08:56:20.000000000,2019-08-01 08:54:09.000000000,0,10,2,673439,da69fca0f8c32880604be14100598a1e1da4c7f2,16,7,2,2,10239,Dmitry Tantsur,dtantsur,"CI: clean up the required projects list for grenade

We don't need to install libraries from git in this job.
ironic-python-agent is also not needed since we download the ramdisk.

Change-Id: I634e75ab04253edffb6f19394d3943e9ffe56d13
"
openstack%2Fsushy~master~Ie9c2f37062b8a8c9a1a082217dc22c79c5327fba,openstack/sushy,master,03-add-vmedia-eject-param,Ie9c2f37062b8a8c9a1a082217dc22c79c5327fba,Retry Virtual Media eject action on HTTP 400 response,MERGED,2019-07-17 14:17:59.000000000,2019-08-01 08:46:25.000000000,2019-08-01 08:46:25.000000000,17,2,0,671306,219d93aecd534b7a75dba49507523127dbde45b6,17,5,3,2,26340,Ilya Etingof,etingof,"Retry Virtual Media eject action on HTTP 400 response

When attempting to eject virtual media and HTTP server responds
with HTTP error 400, retry the same HTTP query with empty
JSON document.

This change simply extends HTTP error code list when this
retry should happen to account for Dell server(s) - unlike
HPE ones (which return error 415), Dell returns 400.

See also: https://review.opendev.org/#/c/636845/

Change-Id: Ie9c2f37062b8a8c9a1a082217dc22c79c5327fba
Story: 2004995
Task: 35845
"
openstack%2Foctavia-tempest-plugin~master~I6e7ff85f4c05efe73c839350463c853877559ca4,openstack/octavia-tempest-plugin,master,,I6e7ff85f4c05efe73c839350463c853877559ca4,DNM: Create two listeners in scenario test,ABANDONED,2019-06-27 12:04:03.000000000,2019-08-01 08:35:07.000000000,,26,0,2,667908,b86ba60672e846ff57d9650368183ad18a1cec61,9,3,2,1,6469,Carlos Gon√ßalves,cgoncalves,"DNM: Create two listeners in scenario test

This is expected to fail on amphorae with HAProxy >1.6

Change-Id: I6e7ff85f4c05efe73c839350463c853877559ca4
"
openstack%2Fkolla-ansible~master~Ibefa20ed6d812e6774e962d991deda417e0c1ac5,openstack/kolla-ansible,master,bug/ceph_nfs_dbus,Ibefa20ed6d812e6774e962d991deda417e0c1ac5,Configure ganesha policy when ceph-nfs enabled,ABANDONED,2019-07-19 08:56:47.000000000,2019-08-01 08:28:38.000000000,,50,0,2,671684,7893a93feccc30538c38cdcac82deb29c9f504c2,30,3,7,6,22629,Michal Nasiadka,mnasiadka,"Configure ganesha policy when ceph-nfs enabled

ceph-nfs uses nfs-ganesha, when using dbus integration
ganesha needs to have it's dbus policy configured correctly.

Change-Id: Ibefa20ed6d812e6774e962d991deda417e0c1ac5
"
openstack%2Fmagnum~master~I70b165a8170dc52b9e763d828b2f6d4ee6ced41d,openstack/magnum,master,fix-auth-uri,I70b165a8170dc52b9e763d828b2f6d4ee6ced41d,Update keystone_authtoken config reference,MERGED,2019-06-12 22:21:03.000000000,2019-08-01 08:25:20.000000000,2019-08-01 08:25:19.000000000,4,4,0,665025,720f56944493855b1131923cd0a44648a4292a83,10,6,1,2,8482,Colleen Murphy,krinkle,"Update keystone_authtoken config reference

The auth_uri parameter of keystonemiddleware was renamed to
'www_authenticate_uri'[1], so update the documentation accordingly.

[1] https://review.opendev.org/508522

Change-Id: I70b165a8170dc52b9e763d828b2f6d4ee6ced41d
"
openstack%2Fopenstack-helm~master~I6cc80c81b2742edad57359e7ba90c71dd8fa561f,openstack/openstack-helm,master,,I6cc80c81b2742edad57359e7ba90c71dd8fa561f,Support bond port with auto_bridge_add,ABANDONED,2019-08-01 06:51:10.000000000,2019-08-01 07:50:49.000000000,,21,22,0,673946,b6c2438af36617661c072655710515a6a1d3dc8e,3,0,2,2,30752,Qianshui Jiang,qianshui,"Support bond port with auto_bridge_add

In neutron chart, ovs bridges are created and ports are added to some of the ovs bridges according to auto_bridge_add.
For now, we only support the ethernet port. This commition is to proposal bond port support. bond port is useful for network HA.
For bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl add-port

Change-Id: I6cc80c81b2742edad57359e7ba90c71dd8fa561f
"
openstack%2Fcinder~master~Ic2463338b698c5cf805c0ae06d0229f54f64b3fc,openstack/cinder,master,bug/1833736,Ic2463338b698c5cf805c0ae06d0229f54f64b3fc,Prevent double-attachment race in attachment_reserve,MERGED,2019-07-17 22:33:39.000000000,2019-08-01 07:45:49.000000000,2019-07-31 18:10:24.000000000,111,13,28,671370,7f3a77b66f9aa1b185310c8cbe33b358da6cc39a,161,37,8,5,4523,Eric Harney,eharney,"Prevent double-attachment race in attachment_reserve

If multiple attachments are requested simultaneously,
a volume can be attached to an instance more than once.

This fixes this problem by detecting that a race has
occurred in _attachment_reserve, and backing out one of
the invalid attachment records.

This means that if the attachment API is called
repeatedly and quickly for the same volume, some requests
may fail, but this is much better than incorrectly
creating multiple attachments.

Closes-Bug: #1833736

Change-Id: Ic2463338b698c5cf805c0ae06d0229f54f64b3fc
"
openstack%2Fneutron~master~Ia65ecaf7b48926b74505226a5922b85e2cb593a6,openstack/neutron,master,bug/1837529,Ia65ecaf7b48926b74505226a5922b85e2cb593a6,Initialize modifiable list of resources in CacheBackedPluginApi.,MERGED,2019-07-23 10:45:33.000000000,2019-08-01 07:45:26.000000000,2019-08-01 05:50:49.000000000,41,17,7,672261,2db02023eec96d825749490d40c750a37b97daec,22,9,3,2,13692,Roman Dobosz,gryf,"Initialize modifiable list of resources in CacheBackedPluginApi.

Currently, if one wanted to add any other resources (including custom
objects), there is no simple way to achieve that, since list of defined
resource types is hardcoded in create_cache_for_l2_agent function,
which is called in __init__ of the CacheBackedPluginApi. Even if we
derive from it, we must call super() on descendant, otherwise we end up
with uninitialized PluginApi part. But if we do the super() on it, we
end up on having hardcoded resources only, and creating a new remote
resource cache object will make a new set of listeners, while the
listeners for the old object still exist, and may cause memory leaks.
RemoteResourceWatcher class have only initializers for those listeners,
and there is no obvious way to stop/clean them.

In this patch we propose to move create_cache_for_l2_agent function to
CacheBackedPluginApi class, and make resource list to be class
attribute, so that it can be easily modified.

Change-Id: Ia65ecaf7b48926b74505226a5922b85e2cb593a6
Closes-Bug: 1837529
"
openstack%2Ftripleo-docs~master~If42152e768b590f14716e38f65d8f9ce2a94c46f,openstack/tripleo-docs,master,fix-acheive-spell,If42152e768b590f14716e38f65d8f9ce2a94c46f,Correcting typo in achieve spelling,MERGED,2019-07-31 03:08:13.000000000,2019-08-01 07:17:12.000000000,2019-08-01 07:17:11.000000000,1,1,0,673719,130aa09fdba2e8dd99ef192e70fd6bf3146bbd65,6,2,1,1,29775,Sandeep Yadav,sandeepyadav93,"Correcting typo in achieve spelling

There is a typographical errors in baremetal_overcloud.rst. Correcting
spelling from acheive to achieve.

Change-Id: If42152e768b590f14716e38f65d8f9ce2a94c46f
"
openstack%2Fopenstack-helm~master~I85d85c5ab0a5111fde11a1b2a4b1fa15aca57e51,openstack/openstack-helm,master,,I85d85c5ab0a5111fde11a1b2a4b1fa15aca57e51,"In neutron chart, ovs bridges are created and ports are added to some of the ovs bridges according to auto_bridge_add. For now, we only support the ethernet port. This commition is to proposal bond port support. bond port is useful for network HA. For bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl add-port",ABANDONED,2019-07-27 11:48:12.000000000,2019-08-01 07:16:04.000000000,,44,10,4,673135,84528f5efea549592857d83ac89b881c02ac35d4,6,3,1,2,30752,Qianshui Jiang,qianshui,"In neutron chart, ovs bridges are created and ports are added to some of the ovs bridges according to auto_bridge_add.
For now, we only support the ethernet port. This commition is to proposal bond port support. bond port is useful for network HA.
For bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl add-port

Change-Id: I85d85c5ab0a5111fde11a1b2a4b1fa15aca57e51
"
openstack%2Fdevstack~master~Ie66f721757c05c671448ca350a5b137768599f68,openstack/devstack,master,only-create,Ie66f721757c05c671448ca350a5b137768599f68,[dnm] testing shortcutting some osc calls for gate,NEW,2019-08-01 01:47:15.000000000,2019-08-01 06:57:12.000000000,,29,67,0,673936,e5e25def5ed6dd67a740c1fc340a7087b7bbc8e8,4,1,2,1,7118,Ian Wienand,iwienand,"[dnm] testing shortcutting some osc calls for gate

Change-Id: Ie66f721757c05c671448ca350a5b137768599f68
"
openstack%2Ftripleo-ansible~master~I3e56810e8dca7611e7b336df4cb73e62bf161dc8,openstack/tripleo-ansible,master,ceph_ansible_disable_firewall,I3e56810e8dca7611e7b336df4cb73e62bf161dc8,Disable ceph-ansible firewall tasks,MERGED,2019-07-30 10:37:32.000000000,2019-08-01 06:17:32.000000000,2019-07-30 16:25:07.000000000,2,0,2,673470,89e8ee8d2a8c3294f17b5330f31d89e5cb822834,16,6,4,1,25402,Francesco Pantano,fmount,"Disable ceph-ansible firewall tasks

TripleO already manages firewall rules so we don't need to have both
enabled in the same time.
It's currently not an issue because the firewall rules aren't apply by
ceph-ansible on containerized deployment but it will be enabled soon.

Co-Authored-By: Dimitri Savineau <dsavinea@redhat.com>
Change-Id: I3e56810e8dca7611e7b336df4cb73e62bf161dc8
"
openstack%2Foctavia~master~Iffc4a9725bff41618edbf246dd5a167b4e0ef6d3,openstack/octavia,master,612309,Iffc4a9725bff41618edbf246dd5a167b4e0ef6d3,Build amphora image using centos-minimal element,MERGED,2018-10-22 10:30:53.000000000,2019-08-01 06:13:37.000000000,2019-08-01 06:13:37.000000000,17,13,0,612309,262ffaa9d71feb1b79b59f7c6a9ea8b7f977415e,24,4,6,2,6469,Carlos Gon√ßalves,cgoncalves,"Build amphora image using centos-minimal element

This patch changes CentOS amphora images to be built using the
centos-minimal DIB element. The generated image size is reduce from
approximately 702 MB to 520 MB. Compatibility with 'centos' AMP_BASEOS
is kept.

Change-Id: Iffc4a9725bff41618edbf246dd5a167b4e0ef6d3
"
openstack%2Fcyborg~master~Ibb556055afc9c5a8b73a7cc1262c4e6afada8343,openstack/cyborg,master,nova-integ,Ibb556055afc9c5a8b73a7cc1262c4e6afada8343,"P2: Changes for db layer, constants and exceptions.",MERGED,2019-07-12 08:15:00.000000000,2019-08-01 05:59:10.000000000,2019-08-01 05:59:10.000000000,256,40,15,670463,1b3d9688d8e46691412efa9f652122f063b94af6,20,6,4,6,21672,Sundar Nadathur,nsundar,"P2: Changes for db layer, constants and exceptions.

Change-Id: Ibb556055afc9c5a8b73a7cc1262c4e6afada8343
"
openstack%2Fkolla-ansible~stable%2Fstein~I9e3436a8f946873867900eed5ff0643d84584358,openstack/kolla-ansible,stable/stein,cp2,I9e3436a8f946873867900eed5ff0643d84584358,Increase log coverage for Monasca,MERGED,2019-07-16 14:57:31.000000000,2019-08-01 05:57:46.000000000,2019-08-01 05:57:46.000000000,3,2,0,671070,81a5ce0927904c47f3d766cb6c7951bd3e0fa42f,9,5,2,3,28048,Will Szumski,jovial,"Increase log coverage for Monasca

Monasca Python service logs prior to this change were being dropped
due to missing entries in the Fluent record_transformer config file.
This change adds support for ingesting those logs, and explicitly
removes support for ingesting Monasca Log API logs to reduce the risk
of feedback, for example if debug logging is turned on in the Monasca
Log API.

(cherry picked from commit cb404743be54e8364f061da3e7caf5586c316008)
Change-Id: I9e3436a8f946873867900eed5ff0643d84584358
"
openstack%2Fkolla-ansible~stable%2Fstein~Ie3cbb51424989b01727b5ebaaeba032767073462,openstack/kolla-ansible,stable/stein,cp5,Ie3cbb51424989b01727b5ebaaeba032767073462,Ingest non-standard Monasca logs,MERGED,2019-07-16 15:12:56.000000000,2019-08-01 05:52:11.000000000,2019-08-01 05:52:11.000000000,32,1,0,671077,10d6c8d3a68f3f5875c75f5725132134ba3663d6,8,5,1,5,28048,Will Szumski,jovial,"Ingest non-standard Monasca logs

Presently, errors can appear in Fluentd and Monasca Log API logs due
to log output from some Monasca services, which do not use Oslo log,
being processed alongside other OpenStack logs which do.

This change parses these log files separately to prevent these errors.

Change-Id: Ie3cbb51424989b01727b5ebaaeba032767073462
(cherry picked from commit 4b31fdcf35d83a9ad04173657ba5d228bbc9183d)
"
openstack%2Frequirements~master~I7949ac17d6777b9ba5e403c135ca74be066d4553,openstack/requirements,master,new-release,I7949ac17d6777b9ba5e403c135ca74be066d4553,update constraint for os-traits to new release 0.16.0,MERGED,2019-07-31 20:36:26.000000000,2019-08-01 05:50:53.000000000,2019-08-01 05:50:53.000000000,1,1,0,673908,3c5dc68616e8974295e0fd7a2137b97819b2532c,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os-traits to new release 0.16.0

Change-Id: I7949ac17d6777b9ba5e403c135ca74be066d4553
meta:version: 0.16.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Eric Fried <openstack@fried.cc>
meta:release:Commit: Eric Fried <openstack@fried.cc>
meta:release:Change-Id: Ia421ed500fbc15bf0088a8436ddeb5d8d1196256
meta:release:Code-Review+1: Chris Dent <cdent@anticdent.org>
meta:release:Code-Review+1: ya.wang <wang.ya@99cloud.net>
meta:release:Code-Review+2: Kendall Nelson <kennelson11@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Frequirements~master~I13f64539f51f255f54ecd17691107d8b592ddbe7,openstack/requirements,master,openstack/requirements/constraints/noclob,I13f64539f51f255f54ecd17691107d8b592ddbe7,Updated from generate-constraints,MERGED,2019-07-28 06:20:32.000000000,2019-08-01 05:50:52.000000000,2019-08-01 05:50:51.000000000,20,32,0,673160,883f90206d2d2afeef9007342f4a6f5e27190dda,19,2,4,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

holding back lxml for possible nova impacting issues

Change-Id: I13f64539f51f255f54ecd17691107d8b592ddbe7
"
openstack%2Ftripleo-ci~master~I7902c285bcf4574624b7ad50bb953aeb2af74a9e,openstack/tripleo-ci,master,bp/undercloud-minion,I7902c285bcf4574624b7ad50bb953aeb2af74a9e,Add multinode minion job,MERGED,2019-05-30 22:42:20.000000000,2019-08-01 05:47:43.000000000,2019-08-01 05:47:42.000000000,21,0,1,662350,a9feeae6b2fc2c402fae7f9c2a5e12a0b49b6268,52,9,9,4,14985,Alex Schultz,mwhahaha,"Add multinode minion job

Depends-On: https://review.opendev.org/#/c/662343/
Depends-On: https://review.opendev.org/#/c/662349/
Depends-On: https://review.opendev.org/#/c/672380/
Change-Id: I7902c285bcf4574624b7ad50bb953aeb2af74a9e
"
openstack%2Fpython-tripleoclient~master~I510457333aadcabe0f02c05a39c7c10b221410ae,openstack/python-tripleoclient,master,bug/1837623,I510457333aadcabe0f02c05a39c7c10b221410ae,Write minion preflight checks,MERGED,2019-07-26 19:41:50.000000000,2019-08-01 05:12:13.000000000,2019-08-01 05:12:13.000000000,47,8,2,673099,d242ad7cfefdb2494b11752791764bd7cedbe2a8,14,5,3,3,14985,Alex Schultz,mwhahaha,"Write minion preflight checks

There are some basics we should check before running the install.

Change-Id: I510457333aadcabe0f02c05a39c7c10b221410ae
Blueprint: undercloud-minion
"
openstack%2Fpython-tripleoclient~master~Ib1444f8b21d90a00dd1d775f5eac633c43f39741,openstack/python-tripleoclient,master,rhel-reg-removal,Ib1444f8b21d90a00dd1d775f5eac633c43f39741,Remove rhsm cli options,MERGED,2019-07-31 15:25:09.000000000,2019-08-01 05:02:17.000000000,2019-08-01 05:02:17.000000000,6,276,0,673847,1be46111e68d79f8e172a31f24ddd776c743a0a5,8,3,1,4,14985,Alex Schultz,mwhahaha,"Remove rhsm cli options

The code behind these options has been removed in tripleo-heat-templates
so we no longer need these cli options. Additionally we do not want
folks using them since they do nothing.

https://review.opendev.org/#/c/669951/

Change-Id: Ib1444f8b21d90a00dd1d775f5eac633c43f39741
"
openstack%2Fnova~master~Ibea4f6e47898f4868fead1f3c94785101e0950fd,openstack/nova,master,,Ibea4f6e47898f4868fead1f3c94785101e0950fd,fixed merge conflict,ABANDONED,2019-08-01 03:30:56.000000000,2019-08-01 04:50:13.000000000,,116,1,0,673938,80ec97f71b704e8f02e1e80ccd08aa98a00ae66e,3,1,1,7,27458,Li Liu,liliu,"fixed merge conflict

Change-Id: Ibea4f6e47898f4868fead1f3c94785101e0950fd
"
openstack%2Fsushy~master~I6609e5613e7657cf1f9772cea7cfb48923aac05e,openstack/sushy,master,02-cache-registries,I6609e5613e7657cf1f9772cea7cfb48923aac05e,Cache message registries,MERGED,2019-07-16 15:48:31.000000000,2019-08-01 04:25:04.000000000,2019-08-01 04:25:04.000000000,49,15,4,671091,ba1b8220e7d2de2f689ab014284e938ee8190709,14,4,3,2,26340,Ilya Etingof,etingof,"Cache message registries

Redfish message registries can be quite bulky. Depending on BMC's
versatility, fishing message registries can become expensive.

This patch caches once downloaded message registries for all
resources consuming them.

Change-Id: I6609e5613e7657cf1f9772cea7cfb48923aac05e
"
openstack%2Foctavia~master~I276188530a83598ed75560f02ed9d80ce9afca2f,openstack/octavia,master,http_proxy_to_wsgi,I276188530a83598ed75560f02ed9d80ce9afca2f,Add support for oslo_middleware http_proxy_to_wsgi,MERGED,2019-02-27 16:34:29.000000000,2019-08-01 04:21:52.000000000,2019-08-01 04:21:52.000000000,15,0,0,639736,ec83c69372d647aaeec02fea6eea29c7ee11115a,23,9,8,3,9373,Vlad Gusev,s10,"Add support for oslo_middleware http_proxy_to_wsgi

This sets up the HTTPProxyToWSGI middleware in front of Octavia API. The
purpose of this middleware is to set up the request URL correctly in
the case there is a proxy (For instance, a loadbalancer such as HAProxy)
in front of Octavia API.

So, when TLS connections are terminated at the proxy, and one tries to
get the versions from the '/' resource from Octavia API, one will notice
that the protocol is incorrect; It will show 'http' instead of 'https'.
So this middleware handles such cases.

The HTTPProxyToWSGI is off by default and needs to be enabled via a
configuration value.

It can be enabled with the option in octavia.conf:
[oslo_middleware]
enable_proxy_headers_parsing=True

Story: 2005105
Task: 29732
Change-Id: I276188530a83598ed75560f02ed9d80ce9afca2f
"
openstack%2Fbarbican~master~Ie9a9f7262b6909c919de68f3159422f7efd8ee8f,openstack/barbican,master,bugfix001,Ie9a9f7262b6909c919de68f3159422f7efd8ee8f,fix secret_type_doc,ABANDONED,2019-07-23 07:38:21.000000000,2019-08-01 02:44:09.000000000,,1,1,0,672211,82b1bd23c0be4520d4129528b1dd0ea28b9786f7,10,4,3,1,30736,HYSong,Shy,"fix secret_type_doc

The example to create secret type in offcial document by using single POST request is failed, because the RSA keypair created by OpenSSL is separated with '\n'.
It is necessary to remove '\n' before creating PUB_BASE64.

Change-Id: Ie9a9f7262b6909c919de68f3159422f7efd8ee8f
"
openstack%2Ftripleo-heat-templates~master~I8a20ce8785077824d7e6c8d851716f622e77788f,openstack/tripleo-heat-templates,master,bug/1838196,I8a20ce8785077824d7e6c8d851716f622e77788f,Change NeutronMechanismDrivers in ml2-ansible environments,MERGED,2019-07-28 15:22:35.000000000,2019-08-01 02:41:08.000000000,2019-08-01 02:41:07.000000000,5,4,0,673180,afcd787deb0223bf875183bdcc8160e76c2e7af2,29,6,2,2,8833,Rabi Mishra,rabi,"Change NeutronMechanismDrivers in ml2-ansible environments

This should have been done when we moved to ovn as the
default.

Note: Not sure why we maintain two different environments.
Probably should remove one in a subsequent patch.

Change-Id: I8a20ce8785077824d7e6c8d851716f622e77788f
Closes-Bug: #1838196
"
openstack%2Fneutron~master~I8daf498fa5ad29c088b90ece0e8971febad1877d,openstack/neutron,master,oslo_context,I8daf498fa5ad29c088b90ece0e8971febad1877d,Fix init of RequestConstructor in test_rpc.py,MERGED,2019-07-20 04:01:00.000000000,2019-08-01 02:17:41.000000000,2019-08-01 02:17:41.000000000,1,1,0,671880,e394c06de15c52976ecdcc6d60ba6e361a8f4531,15,8,2,1,1131,Brian Haley,brian-haley,"Fix init of RequestConstructor in test_rpc.py

test_rpc.py:348:15: E1123: Unexpected keyword argument 'tenant'
in constructor call (unexpected-keyword-arg)

'project_id' is the preferred name now.

Change-Id: I8daf498fa5ad29c088b90ece0e8971febad1877d
"
openstack%2Fpuppet-openstack-integration~master~If2f2d987b5857244d4bfb2e81144286b17dcb42f,openstack/puppet-openstack-integration,master,fix-zuul-cloner,If2f2d987b5857244d4bfb2e81144286b17dcb42f,"Revert ""Reparent puppet-openstack-base to legacy-base""",MERGED,2019-06-28 07:29:55.000000000,2019-08-01 01:39:46.000000000,2019-08-01 01:39:46.000000000,0,2,0,668105,8fa926cdc7434ab0855da65f999ec263f80a47c8,19,5,2,1,16137,Tobias Urdin,tobasco,"Revert ""Reparent puppet-openstack-base to legacy-base""

Let's see if it works after removing all zuul-cloner usage, need to do a DNM patch to test module unit jobs as well.

This reverts commit 2bb40bb6fea5978c24a6e98149176567c4ce9dd1.

Change-Id: If2f2d987b5857244d4bfb2e81144286b17dcb42f
"
openstack%2Fpuppet-octavia~stable%2Fqueens~I5c2629d9e7700fe1dd6f915bc257b1f058e40617,openstack/puppet-octavia,stable/queens,OctaviaServerCertsKeyPassphrase-32chars,I5c2629d9e7700fe1dd6f915bc257b1f058e40617,Configure 32 chars length server_certs_key_passphrase for Octavia,MERGED,2019-07-09 09:23:06.000000000,2019-08-01 01:13:44.000000000,2019-08-01 01:13:44.000000000,42,11,0,669824,4967222fc785f899e80c4c96b50d47d26625db35,15,4,2,3,6579,Nir Magnezi,nmagnezi,"Configure 32 chars length server_certs_key_passphrase for Octavia

This change is related to I886f2b8ac7092d9b3da38852e92a615d5666eea7
and Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989.

Related-Bug: #1833942

Change-Id: I5c2629d9e7700fe1dd6f915bc257b1f058e40617
(cherry picked from commit d9564d7c235bc3073ef6eb444a6f1561fb6dffc5)
(cherry picked from commit 381f1a34daec7001b4a7825bc708a4314619806a)
(cherry picked from commit 39b9d44e47309a485fdcdd35b5862159d58f9f1d)
"
openstack%2Ftripleo-ci~master~Ib305207dcd2b4626a7d7d340bc383dd176b11633,openstack/tripleo-ci,master,,Ib305207dcd2b4626a7d7d340bc383dd176b11633,Add conditional periodic-ness to tripleo jobs,MERGED,2019-07-24 13:55:20.000000000,2019-08-01 00:32:36.000000000,2019-08-01 00:32:36.000000000,3,1,8,672528,f8da1ddb7dcc657fa9df13b21b8286f3d9c62338,30,7,4,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add conditional periodic-ness to tripleo jobs

Sometimes we need to run a periodic job with repositories like
it's in regular check jobs, for example periodic jobs in tripleo-ci
which are forced currently to run with promotion repos:
""force_non_periodic"" variable in job shall force job to run as
""check"" and use regular repositories as any check job.

Sometimes we need to run a check job with promotion repositories
to debug it or to try it, instead of depending on some patch
let's use a job variable for that:
""force_periodic"" will force job to run as promotion job, using the
same repositories as any promotion job uses.

Change-Id: Ib305207dcd2b4626a7d7d340bc383dd176b11633
"
openstack%2Fpython-neutronclient~master~I7aa4566b8f2c81da6a00e664908506f5628cd0a1,openstack/python-neutronclient,master,switch-to-py3,I7aa4566b8f2c81da6a00e664908506f5628cd0a1,Switch functional job to python3,MERGED,2019-07-24 14:01:03.000000000,2019-07-31 23:52:31.000000000,2019-07-31 23:52:30.000000000,2,0,0,672532,1a8fdf355de233ccbc7aa0beb588fb02d436aa5c,8,4,1,2,841,Akihiro Motoki,amotoki,"Switch functional job to python3

Change-Id: I7aa4566b8f2c81da6a00e664908506f5628cd0a1
"
openstack%2Fpython-neutronclient~master~I714efd1bc14cbba85f7b4caf6834ce375ff89547,openstack/python-neutronclient,master,switch-to-py3,I714efd1bc14cbba85f7b4caf6834ce375ff89547,Convert legacy functional jobs to zuulv3,MERGED,2019-07-18 12:10:51.000000000,2019-07-31 23:52:30.000000000,2019-07-31 23:52:30.000000000,24,18,0,671468,6330cc1980958f57cb95684c8d7a1aaa89a7fbf6,14,5,4,2,841,Akihiro Motoki,amotoki,"Convert legacy functional jobs to zuulv3

This commit merges the legacy functional test jobs (core and adv-svcs)
into neutronclient-functional. FWaaS v1 was dropped in Stein and
adv-svcs job now checks only VPNaaS, so it looks too much to have
a separate job for VPNaaS.

Note that tls-proxy is disabled as the base class for functional tests
(neutronclient.tests.functional.base.ClientTestBase) does not support
HTTPS endpoints. This can be tackled separately.

Change-Id: I714efd1bc14cbba85f7b4caf6834ce375ff89547
"
openstack%2Foctavia-lib~master~I9b601fe2294de2536127a6856f101f4dd0bf4e91,openstack/octavia-lib,master,,I9b601fe2294de2536127a6856f101f4dd0bf4e91,Add constants to octavia-lib,MERGED,2019-07-30 20:29:08.000000000,2019-07-31 23:52:22.000000000,2019-07-31 23:52:22.000000000,90,0,0,673681,c467bf04858c8e059a9ed8c126083f5980bfbcf5,12,4,3,2,11628,Michael Johnson,johnsom,"Add constants to octavia-lib

This patch adds some missing constants to octavia-lib for the
provider driver API fields.

Change-Id: I9b601fe2294de2536127a6856f101f4dd0bf4e91
"
openstack%2Fpython-tripleoclient~master~Icd48438719d6e0e07df0cacdf68df0fc00e19fb7,openstack/python-tripleoclient,master,bug/1768036,Icd48438719d6e0e07df0cacdf68df0fc00e19fb7,Refactor overcloudrc location,ABANDONED,2018-05-02 13:10:25.000000000,2019-07-31 23:46:06.000000000,,20,22,0,565750,9576d1cebfd6b8662f201500b621c9dd05fb6010,5,4,1,9,20775,Carlos Camacho,ccamacho,"Refactor overcloudrc location

We are using deployment.overcloudrc
on both deployment and upgrade
workflows, we move the overcloudrc
generation to a common library.

Change-Id: Icd48438719d6e0e07df0cacdf68df0fc00e19fb7
Closes-Bug: 1768036
"
openstack%2Fpython-tripleoclient~master~I2d63b2ced361acd9f8f816af397188c124f36291,openstack/python-tripleoclient,master,bug/1768901,I2d63b2ced361acd9f8f816af397188c124f36291,Fixes ssh admin enablement,ABANDONED,2018-05-09 22:08:54.000000000,2019-07-31 23:45:59.000000000,,121,21,0,567436,4987d211668d491497fb5a95cf3ab76926c4378c,15,5,3,3,17280,Tim Rozet,trozet,"Fixes ssh admin enablement

Rather than using subprocess to call a bash script in THT to configure
ssh access, this patch converts the logic to be done in python.  This
gives better error handling and explicit messages upon failure.

Closes-Bug: 1768901

Change-Id: I2d63b2ced361acd9f8f816af397188c124f36291
Signed-off-by: Tim Rozet <trozet@redhat.com>
"
openstack%2Fpython-tripleoclient~master~I4f37cba56d756b7d7565e5951b46067b924a8b1e,openstack/python-tripleoclient,master,582088,I4f37cba56d756b7d7565e5951b46067b924a8b1e,Integrate the pre-upgrade and post-upgrade validations in upgrades CLI,ABANDONED,2018-07-12 08:15:49.000000000,2019-07-31 23:45:52.000000000,,93,0,3,582088,a2a96969731a1311c8cfa38f2ff69d9cc615751e,23,6,9,4,20775,Carlos Camacho,ccamacho,"Integrate the pre-upgrade and post-upgrade validations in upgrades CLI

This patch enables the execution of the pre-upgrade and post-upgrade
validations in the upgrades workflow.

The validations executions are added before the Undercloud upgrade
and after the converge step in both Overcloud upgrades and fast forward upgrades.

Depends-On: I81ba3a8c287712e0248476e64da0136fc09e26d5
Change-Id: I4f37cba56d756b7d7565e5951b46067b924a8b1e
"
openstack%2Fpython-tripleoclient~master~I2468511c7fb99a2d782f825e0cbf96b3c83fc928,openstack/python-tripleoclient,master,export-config-container,I2468511c7fb99a2d782f825e0cbf96b3c83fc928,[WIP] Export overcloud config to container,ABANDONED,2018-09-08 04:27:21.000000000,2019-07-31 23:45:50.000000000,,163,1,0,600895,7ffcc2a0d551d2feaf26b3130ec41022c868ca54,16,4,5,4,20868,Jill Rouleau,jillr,"[WIP] Export overcloud config to container

This change exports the overcloud config, from config-download, and
all dependencies, to allow the overcloud deployment to be run independant
of an undercloud node.

Additionally supports inclusion of an extra_vars file which will be layered
into the config-download project directory, to allow overriding of ansible
vars.

Depends-On: I09fca4ea80ae8246f136ea6998dfc7ad1c6bb4d2
Change-Id: I2468511c7fb99a2d782f825e0cbf96b3c83fc928
"
openstack%2Fpython-tripleoclient~master~I91a592f4cd17cf247d444b39d8a2a53ba99a00dc,openstack/python-tripleoclient,master,,I91a592f4cd17cf247d444b39d8a2a53ba99a00dc,Add some client libraries as requirements,ABANDONED,2018-09-17 15:01:26.000000000,2019-07-31 23:45:49.000000000,,4,0,0,603162,4913f8fcd418a61ad6038f0e8eb7e8e8d717d6ce,11,8,2,1,2813,Mehdi Abaakouk,sileht,"Add some client libraries as requirements

Since we use containers, client libraries are not installed anymore on
Undercloud host because nothing depends on them anymore outside
containers.

Commands like ""openstack metric ..."", ""openstack event ..."" no longuer
work by default. We have to manually install them, this have been
considered as a regression.

This change adds them to requirements, so when tripleoclient is
installed, all clients will be there.

Change-Id: I91a592f4cd17cf247d444b39d8a2a53ba99a00dc
"
openstack%2Fpython-tripleoclient~master~Ied2335f6c4d1fbdc4dd41d8bb11bee5c49c7e5d1,openstack/python-tripleoclient,master,poc/remove/heat,Ied2335f6c4d1fbdc4dd41d8bb11bee5c49c7e5d1,WIP PoC that initiate the work to deploy tripleo w/o heat,ABANDONED,2018-12-07 21:10:47.000000000,2019-07-31 23:45:47.000000000,,147,17,0,623581,bd322e289dff89fb80a46a33c6ce6d39c9831909,5,4,1,2,16515,mbu,matbu,"WIP PoC that initiate the work to deploy tripleo w/o heat

This first draft experiment the way to not use heat to deploy
TripleO.

The starting point of this work is to have the THT files
and agregate the informations and datas from it to deploy
TripleO.

There is several ways to proceed:
* 1st could be: to use heat engine to generate and handle
the templates files, to render and feed all the datas
and then just build playbook from the outputs with the
config download library.
* 2nd could be: to not use heat engine, but just create
a parser that render the template values and then give
a Stack object the config library (that what the code
does in this review)
* 3rd could be: To create the basic Openstack objects
(network & nova server) from the network_data and role_data,
and then call a stack.preview that can render and feed
all the templates with the right. The cons of this method is
that we are still linked with the heat stack code but the Pros
is that Heat manage really well the HOT functions rendering.

This PoC explore those 3 ways to avoid the used of Heat.
In the tripleo_deploy.py file, the code gets from the
THT rendered the parameters, resources and services config
feed the values, build the output and return a stack object
that can be used by the Config download library.
Then the normal code of config download runs and create
the playbook and files.

There is a distinction between the Openstack objects creation
and the Services outputs.
The openstack objects creation can be:
* 1 handle by feeding the required data in the network_data file
and role_data
* 2 handle by parsing the templates and map the heat resources to
Openstack Ansible syntax.
The result would be to generate from THT, a set of Ansible tasks
that creates the required neutron networks and subnets, nova
server and so on.
The code for this is not in this review, but I have build a POC
and a resource mapping with a simple stack. (not present here)

The PROs of this approach is to decrease the layer and complexity
, to get flexibility on how tripleo is built
The Cons (the major one that i see) is for the deletion of TripleO,
since each openstack objects is creation via ansible or shade,
each deletion should be operate by them.

Change-Id: Ied2335f6c4d1fbdc4dd41d8bb11bee5c49c7e5d1
"
openstack%2Fpython-tripleoclient~master~Ie69ba77413885698326fabf82a6b7c1ad98109fa,openstack/python-tripleoclient,master,bug/1635409,Ie69ba77413885698326fabf82a6b7c1ad98109fa,Remove merging environment files during deploy,ABANDONED,2018-12-12 10:24:47.000000000,2019-07-31 23:45:45.000000000,,111,83,0,624625,14a6a6840f4f34100f9d7e9c3168c94afe2e1ebe,5,4,1,2,11082,Kamil Sambor,ksambor,"Remove merging environment files during deploy

Remove merging files and replace it by copying
them into user-environment. This will enable
merging params by heat instead doing this inside
client.

Change-Id: Ie69ba77413885698326fabf82a6b7c1ad98109fa
Closes-Bug: #1635409
Co-Authored-By: Steven Hardy <shardy@redhat.com>
"
openstack%2Fpython-tripleoclient~master~Idde8a92808b2a00283f1937885c1a9fcf9b28c7a,openstack/python-tripleoclient,master,bp/all-in-one,Idde8a92808b2a00283f1937885c1a9fcf9b28c7a,WIP: Handle config loading in tripleo deploy,ABANDONED,2018-05-18 23:13:36.000000000,2019-07-31 23:45:35.000000000,,36,1,0,569535,174632622f985a2c81c5a224ebc4583ed8a3fb24,29,6,7,2,14985,Alex Schultz,mwhahaha,"WIP: Handle config loading in tripleo deploy

Change-Id: Idde8a92808b2a00283f1937885c1a9fcf9b28c7a
"
openstack%2Ftripleo-quickstart~master~I24ef3b9e13dfe805847b59f90c903e2e6859e835,openstack/tripleo-quickstart,master,rhel8,I24ef3b9e13dfe805847b59f90c903e2e6859e835,[RHEL8] Fixed rdo_dlrn in release file,MERGED,2019-07-31 06:21:03.000000000,2019-07-31 23:43:32.000000000,2019-07-31 23:43:32.000000000,1,1,2,673738,e6ed118bba71bc0952c5bd2661f49b5ba82a7ce6,16,9,3,1,12393,chandan kumar,chkumar246,"[RHEL8] Fixed rdo_dlrn in release file

dlrn_hash_path_newest is used in the master release config
but promotion-testing-hash should use dlrn_hash_path.

It fixes the RHEL-8 promotion pipeline.

Change-Id: I24ef3b9e13dfe805847b59f90c903e2e6859e835
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
"
openstack%2Fpython-tripleoclient~stable%2Frocky~I40ee028366222f38f5ba1db58d171f98be75d009,openstack/python-tripleoclient,stable/rocky,,I40ee028366222f38f5ba1db58d171f98be75d009,Remove execution from workflow message send,MERGED,2019-06-06 13:22:22.000000000,2019-07-31 23:43:32.000000000,2019-07-31 23:43:32.000000000,197,56,0,663657,99ac7f9e119c5366ed0b1ebb112c7ee90be863ec,17,7,1,12,9712,Dougal Matthews,dougal,"Remove execution from workflow message send

Serializing all the execution in a message can make the message too big.
This change was done in tripleo-common. this supports that change
This change still supports the old format and is backwards compatible.

Partial-Bug: #1812172
Change-Id: I40ee028366222f38f5ba1db58d171f98be75d009
(cherry picked from commit cad7916ce8d21295992c2efe0e18657c6e56604d)
"
openstack%2Fpython-tripleoclient~stable%2Frocky~Ie6473d6a1044cdf76552d62645b4d63da2df9398,openstack/python-tripleoclient,stable/rocky,,Ie6473d6a1044cdf76552d62645b4d63da2df9398,Filter messages not from waiting execution,MERGED,2019-06-06 13:22:22.000000000,2019-07-31 23:21:33.000000000,2019-07-31 23:21:33.000000000,145,22,0,663656,e9849d04c7d234b7289e387f9acee0aa1fbac028,23,6,1,15,9712,Dougal Matthews,dougal,"Filter messages not from waiting execution

The convention is to use the same queue name (""tripleo"") for all
workflows. This can lead to messages showing from other tripleoclient
triggered workflows showing up during message polling if multiple
workflows are running at the same time.

This patch adds a check that will filter out any messages that do not
belong to the execution that is being waited on by comparing the
execution id with the root_execution_id returned in the execution
payload.

Depends-On: Icbe80c338d69efc6ce8fceb0f73f833bec588536
Change-Id: Ie6473d6a1044cdf76552d62645b4d63da2df9398
Related-Bug: #1794277
(cherry picked from commit 339c1f334c5b4dba7a95740e35b63aab931601a1)
"
openstack%2Fpuppet-tripleo~master~I3adaa442b8c53ff902761d1dba283a79494c8ae6,openstack/puppet-tripleo,master,bug/1837099,I3adaa442b8c53ff902761d1dba283a79494c8ae6,Allow for customization of the Manila CephFS pool name,MERGED,2019-07-18 18:14:00.000000000,2019-07-31 23:16:47.000000000,2019-07-31 22:51:30.000000000,2,1,0,671538,e3b39a8d67466ff6ccebaf95fa1ed527582e6389,19,8,2,1,6796,Giulio Fidente,gfidente,"Allow for customization of the Manila CephFS pool name

Manila needs to know the CephFS pool name, which the deployer
might want to customize when the Ceph cluster is externally managed.

Change-Id: I3adaa442b8c53ff902761d1dba283a79494c8ae6
Partial-Bug: 1837099
"
openstack%2Frequirements~master~Id3d711b5aadb504eea8bac9b356ffecfb2de553e,openstack/requirements,master,new-release,Id3d711b5aadb504eea8bac9b356ffecfb2de553e,update constraint for ironic-lib to new release 2.19.0,MERGED,2019-07-31 15:01:20.000000000,2019-07-31 22:45:56.000000000,2019-07-31 22:45:56.000000000,1,1,0,673839,468e3a3b74aee8b46260b909354e2c0ec38ab88c,7,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for ironic-lib to new release 2.19.0

Change-Id: Id3d711b5aadb504eea8bac9b356ffecfb2de553e
meta:version: 2.19.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Change-Id: I00cd63593ad2bb7243cf12789983d73c200b4f14
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~I798304a472df41b86a88611c97c2c99131faa0ad,openstack/puppet-tripleo,stable/queens,add_dateext-stable/stein-stable/rocky-stable/queens,I798304a472df41b86a88611c97c2c99131faa0ad,Add dateext and related parameters for logrotate,MERGED,2019-07-16 00:50:02.000000000,2019-07-31 22:35:25.000000000,2019-07-31 22:35:25.000000000,29,0,0,670929,c939f4e61d67f535390f2ce30700e9210f84fe86,27,6,1,3,25613,Keigo Noha,knoha,"Add dateext and related parameters for logrotate

logrotate.pp should support dateext and related parameters.
By this change, a filename of a rotated file can be easily distinguished
by rotated date.

Change-Id: I798304a472df41b86a88611c97c2c99131faa0ad
(cherry picked from commit 1eafeb67bf6d613d891fc26ee4452cded8115741)
(cherry picked from commit 964fe8cc62192e180a93f215e8bf038cf7ba0ad8)
(cherry picked from commit 9d62bf52a4e3b3d095a6a8231cd0508d80a301ad)
"
openstack%2Fnova~master~I6dfa0b226ab0b99864fc27209ebb7b73e3f73512,openstack/nova,master,bp/request-spec-use-by-compute,I6dfa0b226ab0b99864fc27209ebb7b73e3f73512,Remove Request Spec Migration upgrade status check,MERGED,2019-07-30 17:01:09.000000000,2019-07-31 22:24:27.000000000,2019-07-31 22:24:27.000000000,2,174,0,673580,2e57826a7767a0af8e2c8dbc3f4af6ac4325f01b,25,11,1,4,6873,Matt Riedemann,mriedem,"Remove Request Spec Migration upgrade status check

The ""Request Spec Migration"" upgrade status check was added
in Rocky [1] and the related online data migration was removed
in Stein [2]. Now that we're in Train we should be able to
remove the upgrade status check.

The verify install docs are updated to remove the now-removed
check along with ""Console Auths"" which were removed in Train [3].

[1] I1fb63765f0b0e8f35d6a66dccf9d12cc20e9c661
[2] Ib0de49b3c0d6b3d807c4eb321976848773c1a9e8
[3] I5c7e54259857d9959f5a2dfb99102602a0cf9bb7

Change-Id: I6dfa0b226ab0b99864fc27209ebb7b73e3f73512
"
openstack%2Fneutron~stable%2Fstein~Ie581809f24f9547b55a87423dac7db933862d66a,openstack/neutron,stable/stein,bug/1828375,Ie581809f24f9547b55a87423dac7db933862d66a,Retry trunk status updates failing with StaleDataError,MERGED,2019-07-30 21:37:40.000000000,2019-07-31 22:09:20.000000000,2019-07-31 22:09:20.000000000,95,5,0,673696,d090fb9a3cbad6c4c3f5c524907a94cb5f95b205,17,7,1,2,11975,Slawek Kaplonski,slaweq,"Retry trunk status updates failing with StaleDataError

This is an approximate partial fix to #1828375.

update_trunk_status and update_subport_bindings rpc messages are
processed concurrently and possibly out of order on the server side.
Therefore they may race with each other.

The status update race combined with
1) the versioning feature of sqlalchemy used in the standardattributes
   table and
2) the less than serializable isolation level of some DB backends (like
   MySQL InnoDB)
does raise StaleDataErrors and by that leaves some trunk subports in
DOWN status.

This change retries the trunk status update (to BUILD) blindly when
StaleDataError was caught. In my local testbed this practically
fixes #1828375.

However theoretically the retry may cover up other real errors (when the
cause of the StaleDataError was a different status not just a different
revision count).

To the best of my understanding a proper fix would entail guaranteeing
the in order processing of the above rpc messages - which likely won't
ever happen.

I'm not sure at all if this change is worth merging - let me know what
you think.

Conflicts:
    neutron/services/trunk/rpc/server.py
    neutron/tests/unit/services/trunk/rpc/test_server.py

Change-Id: Ie581809f24f9547b55a87423dac7db933862d66a
Partial-Bug: #1828375
(cherry picked from commit 618e24e241241c7323702a815542f11e91fd32a1)
"
openstack%2Fnova~master~Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943,openstack/nova,master,my-own-personal-alternative-universe,Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943,Move adding vlans to interfaces to privsep.,MERGED,2019-02-07 06:18:20.000000000,2019-07-31 21:56:10.000000000,2019-07-31 21:56:10.000000000,30,17,9,635436,90f98b8447950ce60632c864d5b221825153bd10,205,19,25,7,2271,Michael Still,mikalstill,"Move adding vlans to interfaces to privsep.

Rinse, repeat.

Change-Id: Ied1980d1cb0a17dd51c6e6c7eeae393c6739c943
"
openstack%2Fhorizon~master~I987b39d620a037834cb2d05a234a1ad089276108,openstack/horizon,master,cleanup-utils,I987b39d620a037834cb2d05a234a1ad089276108,Cleanup unused util functions,MERGED,2019-06-21 14:55:42.000000000,2019-07-31 21:48:05.000000000,2019-07-01 10:47:59.000000000,0,305,0,666858,26eebd4abbbabc1475bae61c51d1cfcf14dba770,12,4,3,7,1736,Ivan Kolodyazhny,e0ne,"Cleanup unused util functions

There are a lot of util funtions that are not used neither in Horizon,
nor in plugins. This patch removes them.

Change-Id: I987b39d620a037834cb2d05a234a1ad089276108
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I01a95be975011d2419a523da572503e0ebcfa49b,openstack/tripleo-heat-templates,stable/stein,,I01a95be975011d2419a523da572503e0ebcfa49b,Move the Hiera symlink task from post configuration to deployment steps.,MERGED,2019-07-31 12:35:43.000000000,2019-07-31 21:46:06.000000000,2019-07-31 21:46:06.000000000,7,30,0,673804,eb2cfcdb4dde474b8d98890a9241a04b57423660,8,4,1,3,25877,Luke Short,ekultails,"Move the Hiera symlink task from post configuration to deployment steps.

This helps to consolidate the Undercloud and Standalone deployments. It
also avoids an issue where the Ansible Python interperter cannot be
found.

Conflicts:
    common/deploy-steps.j2
    extraconfig/post_deploy/standalone_post.yaml

Change-Id: I01a95be975011d2419a523da572503e0ebcfa49b
Resolves: rhbz#1733608
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 3b813d845cba18977afea00ca62ea6e6d6d5ba45)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I1353020f874b348afd98e7ed3832033f85a5267f,openstack/tripleo-heat-templates,stable/queens,saf_client_side,I1353020f874b348afd98e7ed3832033f85a5267f,QDR for metrics collection purposes,MERGED,2019-03-15 13:32:10.000000000,2019-07-31 21:46:04.000000000,2019-07-31 21:46:04.000000000,281,7,1,643582,ed9797c9a8f6260c3626224cc1139d611955323c,31,5,6,45,5241,Martin Magr,mmagr,"QDR for metrics collection purposes

This patch adds composable new service (QDR) for containerized deployments.
Metrics QDR will run on each overcloud node in 'edge' mode. This basically
means that there is a possibility that there will be two QDRs running
on controllers in case that oslo messaging is deployed. This is a reason why
we need separate composable service for this use case.

Partial-Bug: #1822054
Depends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd
Depends-On: I73f988d05840eca44949f13f248f86d094a57c46
Change-Id: I1353020f874b348afd98e7ed3832033f85a5267f
(cherry picked from commit b76d7623ac15c94f80fbbc1a5701331147fee52d)
"
openstack%2Ftripleo-common~stable%2Fqueens~I73f988d05840eca44949f13f248f86d094a57c46,openstack/tripleo-common,stable/queens,qdr-collectd-queens,I73f988d05840eca44949f13f248f86d094a57c46,Make MetricsQdr service use qdrouterd image,MERGED,2019-03-15 13:42:28.000000000,2019-07-31 21:46:03.000000000,2019-07-31 21:46:03.000000000,3,0,0,643586,1bcb125384ee2f270c9a3e705fe50d911ceb6cd3,10,4,1,1,5241,Martin Magr,mmagr,"Make MetricsQdr service use qdrouterd image

There is no reason to not have MetricsQdr service use the same image
as Qdrouterd service for Oslo messaging.

Change-Id: I73f988d05840eca44949f13f248f86d094a57c46
(cherry picked from commit 3406cf04803482bf91c2a0ca1ef954f697a90a49)
"
openstack%2Fopenstack-helm~master~Id3cda737895451c2261bf9adfe54995db28c2f63,openstack/openstack-helm,master,,Id3cda737895451c2261bf9adfe54995db28c2f63,Cinder: Make image conversion dir an emptydir,MERGED,2019-07-31 20:06:21.000000000,2019-07-31 21:43:35.000000000,2019-07-31 21:43:35.000000000,4,0,0,673906,d4cf8f8c71ac21ccb12fdf6776398d0d7da0c4c8,12,8,1,1,23928,Pete Birley,portdirect,"Cinder: Make image conversion dir an emptydir

This PS makes the image conversion directory an emptydir, so that
we can use read only containers and sill convert images from glance
into volumes.

Change-Id: Id3cda737895451c2261bf9adfe54995db28c2f63
Signed-off-by: Pete Birley <pete@port.direct>
"
openstack%2Fpuppet-ceph~stable%2Fmimic~If78f60687f8979cc53a69718318d5d3aa9fed777,openstack/puppet-ceph,stable/mimic,fix-mimic-spec-helper,If78f60687f8979cc53a69718318d5d3aa9fed777,Use stable/rocky spec helper,MERGED,2019-06-26 19:31:50.000000000,2019-07-31 21:38:03.000000000,2019-07-31 21:38:03.000000000,1,0,0,667714,021cc6425e31921fec3ed11fc7ffb6a2691b04cb,11,3,3,1,14985,Alex Schultz,mwhahaha,"Use stable/rocky spec helper

Depends-On: https://review.opendev.org/#/c/673876/
Change-Id: If78f60687f8979cc53a69718318d5d3aa9fed777
"
openstack%2Fpuppet-ceph~stable%2Fmimic~I1a0016a330daee98b79124190e8d0e069d1bd01e,openstack/puppet-ceph,stable/mimic,create-mimic,I1a0016a330daee98b79124190e8d0e069d1bd01e,Update .gitreview for stable/mimic,MERGED,2019-03-25 21:21:06.000000000,2019-07-31 21:38:03.000000000,2019-07-31 21:38:03.000000000,1,0,0,647612,7c99266d828edf1f87cc63b077e0baedd7ceabc2,32,4,12,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/mimic

Depends-On: https://review.opendev.org/#/c/667387/
Change-Id: I1a0016a330daee98b79124190e8d0e069d1bd01e
"
openstack%2Ftripleo-common~master~I77f98455ebf402dbeea955c6d8203ebbddf4c051,openstack/tripleo-common,master,bp/multiarch-support,I77f98455ebf402dbeea955c6d8203ebbddf4c051,Import image name functions and update_nodes_deploy_data from tripleoclient,ABANDONED,2018-01-25 07:00:47.000000000,2019-07-31 21:14:41.000000000,,308,0,0,537768,9f59831b5376cb6e70a74917d8de06627a903506,17,5,3,4,12898,Tony Breeds,tonyb,"Import image name functions and update_nodes_deploy_data from tripleoclient

These functions were developed in tripleoclient but belong in
tripleo-common duplicated them here.  Once this review is released and
tripleoclient can rely on these function being available here we can
remove them from tripleoclient.

Change-Id: I77f98455ebf402dbeea955c6d8203ebbddf4c051
"
openstack%2Ftripleo-common~master~I69c4aa082e019099b6d70d201153b55e988635a6,openstack/tripleo-common,master,bp/multiarch-support,I69c4aa082e019099b6d70d201153b55e988635a6,WiP: Use update_nodes_deploy_data,ABANDONED,2018-01-25 07:00:47.000000000,2019-07-31 21:14:39.000000000,,55,0,0,537769,c95d56ffb9ba74aebd913317e4d772f2dd74ff1f,18,4,3,2,12898,Tony Breeds,tonyb,"WiP: Use update_nodes_deploy_data

Change-Id: I69c4aa082e019099b6d70d201153b55e988635a6
"
openstack%2Ftripleo-common~master~Ib0072f8f43af4df998b69f80263dd77bed186fae,openstack/tripleo-common,master,,Ib0072f8f43af4df998b69f80263dd77bed186fae,Remove ignore_errors for deployment run,ABANDONED,2018-03-22 07:47:54.000000000,2019-07-31 21:14:36.000000000,,0,1,2,555184,a471b67a9393b8b333563bee0f7716eb8736b35e,8,7,1,1,21151,zenghui.shi,zshi,"Remove ignore_errors for deployment run

Errors from this deployment task shall be
considered as fatal since it includes
SoftwareDeploymentGroup resources that are
not from deploy-steps.j2, such as:

Pre_deployments:

  - NetworkDeployment
  - NovaComputeUpgradeInitDeployment
  - UpdateDeployment
  - NovaComputeDeployment
  - SshHostPubKeyDeployment
  - ComputeHostsDeployment
  - ComputeSshKnownHostsDeployment
  - ComputeAllNodesDeployment
  - ComputeAllNodesValidationDeployment
  - ComputeHostPrepDeployment
  - ComputeArtifactsDeplo

Post_deployments:

  - ExtraDeployments

Any failure from above resources may cause
unexpected results. and the outer loop of
these tasks in deploy-steps.j2 has
any_errors_fatal flag set to yes.

Change-Id: Ib0072f8f43af4df998b69f80263dd77bed186fae
"
openstack%2Ftripleo-common~master~I2c656ec15c60aee58e3b21f515b4137ebbd29ac8,openstack/tripleo-common,master,change-put-by-upload,I2c656ec15c60aee58e3b21f515b4137ebbd29ac8,WIP Change put_object by upload,ABANDONED,2018-04-09 18:24:25.000000000,2019-07-31 21:14:35.000000000,,75,7,0,559809,0ffc1abdeafb1e500f7dd71c8ddcf7862e3d0a1a,5,3,1,2,20775,Carlos Camacho,ccamacho,"WIP Change put_object by upload

Changing the client implementation for the
service implementation for the swift
upload files.

This will allow uploading big files (+5GB)

Change-Id: I2c656ec15c60aee58e3b21f515b4137ebbd29ac8
"
openstack%2Ftripleo-common~master~If81e26af9fa3053947d544985dbbe2b0c5d8b957,openstack/tripleo-common,master,,If81e26af9fa3053947d544985dbbe2b0c5d8b957,WIP: add mistral action to list next index for each role,ABANDONED,2018-05-04 18:03:00.000000000,2019-07-31 21:14:33.000000000,,38,0,0,566374,17af5216902fb02640e3b9347ef7bd0dffcf1a7c,7,5,1,2,23811,Oliver Walsh,owalsh,"WIP: add mistral action to list next index for each role

Change-Id: If81e26af9fa3053947d544985dbbe2b0c5d8b957
"
openstack%2Ftripleo-common~master~Id86088a4703e59bff663a0238673d3df9a02efb5,openstack/tripleo-common,master,bug/1782344,Id86088a4703e59bff663a0238673d3df9a02efb5,WIP - Group sudoers by aliases,ABANDONED,2018-07-19 13:09:23.000000000,2019-07-31 21:14:31.000000000,,12,8,0,583956,d4dfa660220a844703c505dc0f3597c58606361f,3,3,1,1,20775,Carlos Camacho,ccamacho,"WIP - Group sudoers by aliases

Group the sudoers file by aliases for better understanding
and readability.

Change-Id: Id86088a4703e59bff663a0238673d3df9a02efb5
Closes-Bug: 1782344
Co-Authored-By: Sergii Golovatiuk <sgolovat@redhat.com>
"
openstack%2Ftripleo-common~master~I6afa91cbc5e351c7fc3e47f2bd4b04079709f555,openstack/tripleo-common,master,user-plan-management,I6afa91cbc5e351c7fc3e47f2bd4b04079709f555,:Update user plan with env and settings informations,ABANDONED,2018-07-13 09:08:42.000000000,2019-07-31 21:14:14.000000000,,111,0,0,582473,02f542ca7ebfc4e9aee6a3b7a8fcc9fe96a03ed8,10,3,4,3,16515,mbu,matbu,":Update user plan with env and settings informations

Commit message in WIP
The goal of this review is stored and update the
env files provided by the user, stored the settings
to then used it for the life cycle management of
the plan.

A refactoring change will be pushed in the client
side, to remove useless code and add the keep_env
behavior to true

Change-Id: I6afa91cbc5e351c7fc3e47f2bd4b04079709f555
"
openstack%2Ftripleo-common~master~I883056f770f0ae3789fef8a0a1f4c3be1a376510,openstack/tripleo-common,master,rocky-os-volume-api-version,I883056f770f0ae3789fef8a0a1f4c3be1a376510,Update OS_VOLUME_API_VERSION for Rocky,ABANDONED,2018-08-09 20:52:47.000000000,2019-07-31 21:14:12.000000000,,1,1,0,590511,1b014163fc9e354f295868061b9cbd3035ceed94,12,5,1,1,21129,Alan Bishop,ASBishop,"Update OS_VOLUME_API_VERSION for Rocky

Update OS_VOLUME_API_VERSION to highest microversion supported in Rocky
per [1].

[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/rest_api_version_history.rst#355-maximum-in-rocky

Change-Id: I883056f770f0ae3789fef8a0a1f4c3be1a376510
"
openstack%2Ftripleo-common~master~I04966bd28a6ca32bda7b416374e9550f79b0483d,openstack/tripleo-common,master,remove/heat,I04966bd28a6ca32bda7b416374e9550f79b0483d,WIP Part of remove heat POC,ABANDONED,2018-12-07 20:53:04.000000000,2019-07-31 21:14:10.000000000,,5,1,0,623577,da8164b739133146a99a7fdf1bbb6844062649f1,4,3,1,1,16515,mbu,matbu,"WIP Part of remove heat POC

Change-Id: I04966bd28a6ca32bda7b416374e9550f79b0483d
"
openstack%2Ftripleo-common~master~Ifbcafff2d0a6b8c6ce2bb8a9d62fd737b78c8988,openstack/tripleo-common,master,modify-playbook,Ifbcafff2d0a6b8c6ce2bb8a9d62fd737b78c8988,Tweak modify playbook,ABANDONED,2018-09-10 21:04:50.000000000,2019-07-31 21:14:08.000000000,,6,2,1,601426,79ed289a96a023482eac39a3ac4cf850baed819e,36,9,6,2,4571,Steve Baker,steve-stevebaker,"Tweak modify playbook

This change does the following:
- uses the recommended approach for a local connection to
  avoid a warning about localhost
- switches off fact gathering for a saving of 5 seconds per play

Change-Id: Ifbcafff2d0a6b8c6ce2bb8a9d62fd737b78c8988
"
openstack%2Ftripleo-common~master~Ib37466e78242f43f72a05bb32a6ce5ad9da743e5,openstack/tripleo-common,master,,Ib37466e78242f43f72a05bb32a6ce5ad9da743e5,WIP: Add unit test for upload with 404 http code,ABANDONED,2019-02-12 16:17:17.000000000,2019-07-31 21:14:07.000000000,,11,0,0,636369,d8a74ab615c8afcb88e6a14bc56c55aec59c7154,4,3,1,1,27898,Quique Llorente,quiquell,"WIP: Add unit test for upload with 404 http code

Change-Id: Ib37466e78242f43f72a05bb32a6ce5ad9da743e5
"
openstack%2Ftripleo-common~master~I3d5eac900afc72e79d1e342e000240d377d13c07,openstack/tripleo-common,master,,I3d5eac900afc72e79d1e342e000240d377d13c07,"WIP, opendaylight container failed to build stein",ABANDONED,2019-04-09 21:02:53.000000000,2019-07-31 21:14:05.000000000,,1,35,0,651379,895bf8fa182072f5f56346a6a9bda88084d55a5e,4,3,1,3,9592,wes hayutin,weshayutin,"WIP, opendaylight container failed to build stein

Getting container build issues on opendaylight.
Wondering how to proceed here.

Change-Id: I3d5eac900afc72e79d1e342e000240d377d13c07
"
openstack%2Ftripleo-common~master~I50f33b0074b147ad3c902b372f8c747fa88811b4,openstack/tripleo-common,master,plan_speedup,I50f33b0074b147ad3c902b372f8c747fa88811b4,WIP: Use process-templates.py and cache templates to speed up plan ops.,ABANDONED,2018-07-09 22:53:41.000000000,2019-07-31 21:14:03.000000000,,762,781,20,581153,f6c90d5e57aa0b77955e6ea7a6f39889db48ff42,61,14,18,14,2011,Ian Main,imain,"WIP: Use process-templates.py and cache templates to speed up plan ops.

Instead of storing the templates in the swift container we store
the whole tarball as a single file.  We also have a local cache of
the templates that we use for some operations.  Also templates are
now processed using process-templates.py instead of the code here.
This speeds up template processing functions drastically which makes
the UI experience much better.

Depends-On: I21caef1a3e6206d6c427140fd28b5f2ea6c68ef0
Co-Authored-By: Dan Prince <dprince@redhat.com>
Co-Authored-By: Brad P. Crochet <brad@redhat.com>

Change-Id: I50f33b0074b147ad3c902b372f8c747fa88811b4
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I070f9e95d1dc0c617da82ddaf1ba854be7624117,openstack/tripleo-heat-templates,stable/pike,keystone-only-stable/pike,I070f9e95d1dc0c617da82ddaf1ba854be7624117,Match Net:SoftwareConfig resource in scenario000 to other scenarios,ABANDONED,2018-04-05 19:19:13.000000000,2019-07-31 21:07:19.000000000,,2,2,0,559155,94053b26bf04364818c28e4c2cc1de26264ff807,5,4,1,1,12715,John Trowbridge,trown,"Match Net:SoftwareConfig resource in scenario000 to other scenarios

Change-Id: I070f9e95d1dc0c617da82ddaf1ba854be7624117
"
openstack%2Ftripleo-heat-templates~master~Ica59111b2299739660e2634d3cee3b3285b0b579,openstack/tripleo-heat-templates,master,,Ica59111b2299739660e2634d3cee3b3285b0b579,WIP DNR pre_update non-rolling task,ABANDONED,2018-07-16 21:24:38.000000000,2019-07-31 21:07:17.000000000,,51,0,0,583048,1208740d82e9d678935fb915113174b9fcfde068,5,5,1,4,20172,Michele Baldessari,michele,"WIP DNR pre_update non-rolling task

Some cases seem to be cropping up where doing a node-by-node rolling
update just does not cut it anymore:
- certain minor versions of rabbitmq are incompatible and need a global
  stop, update, start
- pacemaker rebases need a special ""update core cluster on all hosts
  before any bundles""

Change-Id: Ica59111b2299739660e2634d3cee3b3285b0b579
"
openstack%2Ftripleo-heat-templates~master~I3bb1017dead37ec638125be9268ddfcb934ffafd,openstack/tripleo-heat-templates,master,,I3bb1017dead37ec638125be9268ddfcb934ffafd,Deploy RGW's Swift compatibility API on / in scenario004,ABANDONED,2018-07-18 14:14:55.000000000,2019-07-31 21:07:15.000000000,,3,0,0,583587,1cda97d6de8ea2b8ad3b4f3b609d641c3a4d1271,7,8,1,1,6796,Giulio Fidente,gfidente,"Deploy RGW's Swift compatibility API on / in scenario004

Change-Id: I3bb1017dead37ec638125be9268ddfcb934ffafd
"
openstack%2Ftripleo-heat-templates~master~I74efb8bdb2f14bdd86a40d806adab5b205249221,openstack/tripleo-heat-templates,master,client-local-queues,I74efb8bdb2f14bdd86a40d806adab5b205249221,Switch back to client-local queue masters,ABANDONED,2018-07-30 13:46:16.000000000,2019-07-31 21:07:14.000000000,,14,1,2,587064,b58c7c09510fe40f6fd014351dc8630164e9736d,23,8,4,1,9257,John Eckersberg,jeckersb,"Switch back to client-local queue masters

Although min-masters is preferrable in theory, sometimes it doesn't
work correctly. So until min-masters can be more reliable, we need to
go back to client-local so queue declarations don't fail.

While we're at it, we add a RabbitQueueMasterLocator parameter in order
to make the changing of this setting simpler for the operator.

Closes-Bug: #1789373
Resolves: rhbz#1585032

Change-Id: I74efb8bdb2f14bdd86a40d806adab5b205249221
"
openstack%2Ftripleo-heat-templates~master~Ie3976653a1f947de974cfddd51023ef13c47d969,openstack/tripleo-heat-templates,master,designate,Ie3976653a1f947de974cfddd51023ef13c47d969,Configure coordination backend for Designate,ABANDONED,2018-12-05 22:52:49.000000000,2019-07-31 21:07:04.000000000,,10,0,0,623094,0fb3aeb285a4d2c2b46e1713d3c286425d463ae6,5,4,1,1,6928,Ben Nemec,bnemec,"Configure coordination backend for Designate

This will prevent duplicate processing when Designate is deployed
in HA.

Change-Id: Ie3976653a1f947de974cfddd51023ef13c47d969
"
openstack%2Ftripleo-heat-templates~master~I3ef9c6e98cb63da6ca272bee9806fb743df74045,openstack/tripleo-heat-templates,master,pci_passthrough_whitelist_regex,I3ef9c6e98cb63da6ca272bee9806fb743df74045,Regex pci passthrough whitelist automation,ABANDONED,2019-01-03 04:24:04.000000000,2019-07-31 21:07:03.000000000,,33,7,0,628098,66e5b9e0803a114d6686efa38bc420c8255b8f62,5,4,1,1,22865,Jaganathan Palanisamy,jaganathancse,"Regex pci passthrough whitelist automation

This change is used to convert the derived pci_passthrough_whitelist
parameters as regex format for all the SR-IOV nodes.

Change-Id: I3ef9c6e98cb63da6ca272bee9806fb743df74045
"
openstack%2Ftripleo-heat-templates~master~I07943244d9b5059a6ebdc32c2a5f76a75559da94,openstack/tripleo-heat-templates,master,bug/1806976,I07943244d9b5059a6ebdc32c2a5f76a75559da94,Fix incorrect location of Tenant VLAN in DPDK NIC configs,ABANDONED,2019-01-24 20:57:54.000000000,2019-07-31 21:07:01.000000000,,105,22,2,633057,b8cefab1243270776282e9e5a2edbb4cce13e16b,10,8,3,2,12398,Dan Sneddon,dsneddon,"Fix incorrect location of Tenant VLAN in DPDK NIC configs

In DPDK Compute nodes, there is an OVS user bridge that takes the
place of the OVS kernel bridge that is usually used. The Tenant
network was originally placed directly on a Linux bond using a
VLAN interface, but this causes traffic to go through the kernel.

By placing the Tenant VLAN directly on the OVS user bridge, the
tunneled traffic is handled by OVS in userspace, without having
to go through the kernel. This change applies to the
bond-with-vlans and 2-linux-bonds-vlans NIC config templates,
which have special handling for DPDK Compute nodes.

Placing the Tenant VLAN on the DPDK user bridge/bond has
implications for MTU. The underlying MTU on the bridge and
bond and NIC has to be at least as large as the Tenant
VLAN. This change adds the DpdkInterfaceMinMtu parameter
which specifies a minimum MTU for the underlying ports
and interfaces, which may be larger than the Tenant MTU.
If unspecified, it will default to 1500 or the Tenant MTU,
whichever is larger.

Closes-bug: 1806976
Change-Id: I07943244d9b5059a6ebdc32c2a5f76a75559da94
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9af1028314859b63cab9f55d2c906b1344ca2300,openstack/tripleo-heat-templates,stable/queens,,I9af1028314859b63cab9f55d2c906b1344ca2300,GATE CHECK for TripleO,ABANDONED,2018-04-11 14:42:15.000000000,2019-07-31 21:06:52.000000000,,0,0,0,560452,64ee34ca315b9923a10dd5c58d1cd21be02ec922,64,4,12,1,8652,Attila Darazs,adarazs,"GATE CHECK for TripleO

This change is used to check the health of our stable branch gate jobs
in the most direct way possible, by running the real gates on a noop
change.

Change-Id: I9af1028314859b63cab9f55d2c906b1344ca2300
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~Ib2aa91afd415c19d06570a0dba073f5d6282c814,openstack/tripleo-heat-templates,stable/pike,,Ib2aa91afd415c19d06570a0dba073f5d6282c814,DNM: test compute extraconfig,ABANDONED,2018-08-29 21:00:38.000000000,2019-07-31 21:06:51.000000000,,21,1,0,597705,c10393eac1d44856833b51dd736ea8154efc78f3,4,3,1,1,23811,Oliver Walsh,owalsh,"DNM: test compute extraconfig

Change-Id: Ib2aa91afd415c19d06570a0dba073f5d6282c814
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9fd3b54279b8449c62f2b5d4f6a8ec72c11b3134,openstack/tripleo-heat-templates,stable/queens,,I9fd3b54279b8449c62f2b5d4f6a8ec72c11b3134,DNM: Test Gnocchi Upgrades P->Q.,ABANDONED,2018-04-30 14:38:19.000000000,2019-07-31 21:06:49.000000000,,4,0,0,565231,11691651d2efad9e134d6b36b71aa210c484c7d2,15,3,4,2,26343,Jose Luis Franco,jfrancoa,"DNM: Test Gnocchi Upgrades P->Q.

Change-Id: I9fd3b54279b8449c62f2b5d4f6a8ec72c11b3134
"
openstack%2Ftripleo-heat-templates~master~I8c9e9a434db48ee28677dcec0842e8438053f7dd,openstack/tripleo-heat-templates,master,upstream-rabbitmq-ra,I8c9e9a434db48ee28677dcec0842e8438053f7dd,WIP/DNR Add support for the new rabbitmqra bundle,ABANDONED,2018-09-04 20:09:39.000000000,2019-07-31 21:06:48.000000000,,438,0,0,599828,1bcd2e510a583c1b23b91423467c4612ee65bfc3,5,5,1,1,20172,Michele Baldessari,michele,"WIP/DNR Add support for the new rabbitmqra bundle

Change-Id: I8c9e9a434db48ee28677dcec0842e8438053f7dd
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I9c40e97a9fbc850962605b2a46420e6c645d5c23,openstack/tripleo-heat-templates,stable/rocky,,I9c40e97a9fbc850962605b2a46420e6c645d5c23,GATE CHECK for TripleO,ABANDONED,2018-09-06 08:57:47.000000000,2019-07-31 21:06:46.000000000,,1,0,0,600387,a9e1458c60a348ce0a0553f2decda3f425863a78,3,3,1,1,27898,Quique Llorente,quiquell,"GATE CHECK for TripleO

This change is used to check the health of our stable branch gate jobs
in the most direct way possible, by running the real gates on a noop
change.

Change-Id: I9c40e97a9fbc850962605b2a46420e6c645d5c23
"
openstack%2Ftripleo-heat-templates~master~I684ed6f88bb2bfb322ccbf3d19ccffcbb85c3bc5,openstack/tripleo-heat-templates,master,CI-test,I684ed6f88bb2bfb322ccbf3d19ccffcbb85c3bc5,DNM -- CI Test,ABANDONED,2018-09-17 12:37:36.000000000,2019-07-31 21:06:45.000000000,,2,0,0,603116,6ee9e1954ae80ce35165acbe70ac2267ad68d8fd,4,3,1,1,16515,mbu,matbu,"DNM -- CI Test

Change-Id: I684ed6f88bb2bfb322ccbf3d19ccffcbb85c3bc5
"
openstack%2Ftripleo-heat-templates~master~I449dbf663d54228f5d03a7571f980ce137f2e00e,openstack/tripleo-heat-templates,master,,I449dbf663d54228f5d03a7571f980ce137f2e00e,Add missing services in baremetal-services,ABANDONED,2018-08-02 07:23:55.000000000,2019-07-31 21:06:43.000000000,,3,0,1,588162,205af82ac4ba66be2f99800a8dff06c7a4a87360,12,12,1,1,28523,wajdi mousa,wajdimousa,"Add missing services in baremetal-services

Change-Id: I449dbf663d54228f5d03a7571f980ce137f2e00e
"
openstack%2Ftripleo-heat-templates~master~Ie6364fb57524cff09f4dab99512980b091fcf8e3,openstack/tripleo-heat-templates,master,bp/global-database,Ie6364fb57524cff09f4dab99512980b091fcf8e3,Implement Global Galera database,ABANDONED,2018-10-11 15:14:14.000000000,2019-07-31 21:06:41.000000000,,686,5,0,609738,1231e398a14159cf7c14dc2e22913abf37a539b4,18,5,8,13,11816,mike_mp@zzzcomputing.com,zzzeek,"Implement Global Galera database

WIP: This is the patch used from the proof of concept so far.
Changes will include that we might want to no longer use
the term ""stretch"" in favor of ""global"".

Also includes some KeystoneRegion additions.  this may be
better as a separate patch, and it needs to be determined where
this attribute needs to be set up and where it does not.
for the moment this gerrit is used as a single source for the
proof of concept.

Change-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3
Partial: blueprint global-database
"
openstack%2Ftripleo-heat-templates~master~Ifa3dc1393439527ab2833a7e05f8cb90f0522ce9,openstack/tripleo-heat-templates,master,ml2_vpp_agent,Ifa3dc1393439527ab2833a7e05f8cb90f0522ce9,Update of vpp-agent,ABANDONED,2018-11-09 07:50:04.000000000,2019-07-31 21:06:40.000000000,,261,5,0,616842,afff0381f101bde07c180722aa1179e72dfd3aef,4,4,1,4,23618,Christophe Fontaine,christophefontaine,"Update of vpp-agent

- the service is now in a container
- add support for vpp driver/agent extensions

Depends-On: I0c466e941573a00f1ed2f73e9f2c9ec4fd2309e3
Change-Id: Ifa3dc1393439527ab2833a7e05f8cb90f0522ce9
"
openstack%2Ftripleo-heat-templates~master~Ide534bc29a6cd0b6128525b0c58141b591eb1f6c,openstack/tripleo-heat-templates,master,ansible-extra-config,Ide534bc29a6cd0b6128525b0c58141b591eb1f6c,WIP turn NodeExtraConfig to ansible,ABANDONED,2018-12-10 11:08:32.000000000,2019-07-31 21:06:38.000000000,,11,2,0,624054,d7eb974a62cb210c5f5e245ee107ae5e0abbe4f3,10,4,3,2,7385,Thomas Herve,therve,"WIP turn NodeExtraConfig to ansible

Change-Id: Ide534bc29a6cd0b6128525b0c58141b591eb1f6c
"
openstack%2Ftripleo-heat-templates~master~I82b92e3bfddfc6542d1940050378454f3db10e25,openstack/tripleo-heat-templates,master,,I82b92e3bfddfc6542d1940050378454f3db10e25,Escalate privilege the ansible way,ABANDONED,2018-11-22 12:35:30.000000000,2019-07-31 21:06:37.000000000,,2,1,0,619555,75d3dc188e66f225b8e76d8ea792c5ccf828d894,10,6,2,1,8833,Rabi Mishra,rabi,"Escalate privilege the ansible way

At present it gives a warning:

""[WARNING]: Consider using 'become', 'become_method',
and 'become_user' rather than running sudo"".

Change-Id: I82b92e3bfddfc6542d1940050378454f3db10e25
"
openstack%2Ftripleo-heat-templates~master~I12994957eeba93f015c5f00e3136dc7b3ab664f9,openstack/tripleo-heat-templates,master,,I12994957eeba93f015c5f00e3136dc7b3ab664f9,DNM: test include_role adoption,ABANDONED,2019-01-15 12:50:44.000000000,2019-07-31 21:06:35.000000000,,0,0,0,630962,6ba952d8ed76120cde39ac64c64f0588e7423fe0,4,3,1,1,24162,Sorin Sb√¢rnea,ssbarnea,"DNM: test include_role adoption

Depends-On: https://review.openstack.org/#/c/620146/
Change-Id: I12994957eeba93f015c5f00e3136dc7b3ab664f9
"
openstack%2Ftripleo-heat-templates~stable%2Fpike~I868a368161f4a529e5e7dc3593dc6862e3196247,openstack/tripleo-heat-templates,stable/pike,,I868a368161f4a529e5e7dc3593dc6862e3196247,Add a way to override base path when file driver is used,ABANDONED,2018-09-10 15:05:57.000000000,2019-07-31 21:06:34.000000000,,43,7,0,601286,d249ecf3d1817c0936b1a254bb7acbaf623cd5c6,46,8,6,4,2813,Mehdi Abaakouk,sileht,"Add a way to override base path when file driver is used

The goal is to be able to point the Gnocchi file driver directory
to an NFS share.

A new parameter GnocchiFileBasePath allows to customize
the bind mount to /var/lib/gnocchi.

Change-Id: I868a368161f4a529e5e7dc3593dc6862e3196247
(cherry picked from commit b3b027e731ddef17c857326409f680b9245516c4)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ib6d2e19febdff00fb1a92302e2777948332dfa42,openstack/tripleo-heat-templates,stable/queens,,Ib6d2e19febdff00fb1a92302e2777948332dfa42,Add parameter to set amp_secgroup_allowed_projects,ABANDONED,2019-04-01 12:44:54.000000000,2019-07-31 21:06:32.000000000,,5,0,0,648965,d7b76ade41e902f6262c5eea11f7eb48970e3965,5,4,1,1,6469,Carlos Gon√ßalves,cgoncalves,"Add parameter to set amp_secgroup_allowed_projects

Enables admins/installers to set amp_secgroup_allowed_projects for those
who have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their
Octavia code base.

Depends-On: https://review.openstack.org/#/c/648955/

Change-Id: Ib6d2e19febdff00fb1a92302e2777948332dfa42
(cherry picked from commit 285f2f6684a147003b27b1354d54106ef95ccc50)
(cherry picked from commit 4188f060197da648e6760c0d3e22446bfdc2b5e4)
"
openstack%2Ftripleo-heat-templates~master~Id136e6910fbb7d3b38916b1f365357a702c034da,openstack/tripleo-heat-templates,master,,Id136e6910fbb7d3b38916b1f365357a702c034da,[DNM] Hack br-ex to test scenario001-standalone for Nautilus,ABANDONED,2019-04-09 13:13:46.000000000,2019-07-31 21:06:31.000000000,,8,0,0,651231,7bf6a2c78e0d700ba61de73f069ef155542f476f,7,3,2,1,25402,Francesco Pantano,fmount,"[DNM] Hack br-ex to test scenario001-standalone for Nautilus

Change-Id: Id136e6910fbb7d3b38916b1f365357a702c034da
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Id96b1913c03850b3839d22208578a473900ffd21,openstack/tripleo-heat-templates,stable/queens,metrics_qdr_ceph_role,Id96b1913c03850b3839d22208578a473900ffd21,Include InternalApi network for Ceph role.,ABANDONED,2019-04-25 20:07:03.000000000,2019-07-31 21:06:29.000000000,,1,0,0,655785,a430d16c949b050ee79b25e226b0950dfb3e87db,7,5,1,1,28504,Vinay Kapalavai,vkapalav,"Include InternalApi network for Ceph role.

We need to include InternalApi network for
Ceph role. Otherwise this could break the
deployment as MetricsQdr is running on InternalApi
network, and tls_everywhere couldn't get any
certificate for metrics_qdr.

Change-Id: Id96b1913c03850b3839d22208578a473900ffd21
"
openstack%2Fpuppet-tripleo~master~I8f075a5ad869ef0dc72a700dcb7be0b6efca787a,openstack/puppet-tripleo,master,bug/1763322,I8f075a5ad869ef0dc72a700dcb7be0b6efca787a,Make host param for nova/neutron/ceilometer immutable during upgrade,ABANDONED,2018-03-23 10:40:02.000000000,2019-07-31 21:00:59.000000000,,74,5,27,555732,fa6630abf8c802ecaff02373a3b38d4657da79a3,73,15,14,10,23811,Oliver Walsh,owalsh,"Make host param for nova/neutron/ceilometer immutable during upgrade

We used to set the host value of those three services to whatever is
returned by $fdqn during upgrade/update.

This is no longer the case[1] but we have to handle stack deployed
before that patch as well.  Furthermore that very patch may break
current deployment if the new default is different than the current
value.

As a matter of fact this parameter can change because of system change
on the host[1] and in Mitaka to Newton upgrade we explicitly change
its value (from not set to $fqdn).

The main impact for neutron are l3-agents.  They are set in an HA
configuration, so the new agents are not taking over the previous
workload.  The impact is a complete lost of FIP connectivity.

For nova, we lose the ability to manipulate vm after the upgrade.

We can't set this host_real to undef as puppet will then fall back to
the hiera value, which is exactly what we don't want in this case.

That's why we use the '$::os_immutable' fact value, that in the same
vein as os_service_default, will just keep the current value
untouched.

[1] See https://review.openstack.org/#/c/555278/ for further explanation.

Depends-On: Iaea44309db9b1b075425fa15890ba592d8bc9b7e
Co-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>
Partial-Bug: #1763322

Change-Id: I8f075a5ad869ef0dc72a700dcb7be0b6efca787a
"
openstack%2Fpuppet-tripleo~master~Ia3fd1f465b389ff01a5dfd6845d782d24aaf4c16,openstack/puppet-tripleo,master,bug/1790526,Ia3fd1f465b389ff01a5dfd6845d782d24aaf4c16,Update VPP ML2 and Agent parameters,ABANDONED,2018-09-03 20:08:30.000000000,2019-07-31 21:00:58.000000000,,57,5,0,599455,2d9f98f55c621c75ea8d71e6decd1f8db670ec6c,5,4,1,3,20971,Feng Pan,fpan,"Update VPP ML2 and Agent parameters

The latest release of networking-vpp ML2 drvier/agent requires the
following addtional configs:
- For ML2 driver, we need to configure L3 vpp-routing hosts
- For VPP agent, we need to configure type_drivers and serivce_plugins
- Also add phynet_mapping parameter to make deployment easier when the
  user specifies a kernel device name like eth1 instead of a VPP interface
  name like GigabitEthernet0/1/0

Closes-Bug: #1790526

Change-Id: Ia3fd1f465b389ff01a5dfd6845d782d24aaf4c16
Signed-off-by: Feng Pan <fpan@redhat.com>
"
openstack%2Fpuppet-tripleo~master~Ia222d767bfca462bed03d546a942adf473fdb6b2,openstack/puppet-tripleo,master,,Ia222d767bfca462bed03d546a942adf473fdb6b2,Nothing to see here,ABANDONED,2018-12-06 14:04:56.000000000,2019-07-31 21:00:48.000000000,,1,0,0,623214,63916091d978a46c801882a0f19daea628a68e9c,6,5,1,1,6928,Ben Nemec,bnemec,"Nothing to see here

Just testing the Designate coordination backend patch since the
puppet repo doesn't run the tripleo job.

Change-Id: Ia222d767bfca462bed03d546a942adf473fdb6b2
Depends-On: https://review.openstack.org/623095/
"
openstack%2Fpuppet-tripleo~master~Ifeaae3ea5e703d50b2b48cd1be13210bd44587c0,openstack/puppet-tripleo,master,tacker_conductor,Ifeaae3ea5e703d50b2b48cd1be13210bd44587c0,WIP: Adding Tacker conductor puppet class,ABANDONED,2018-04-24 16:19:03.000000000,2019-07-31 21:00:46.000000000,,1,0,0,564021,338dc56e94e92efff79f7a88c95cb487c3ebdcdf,3,3,1,1,21626,Ricardo,rnoriega,"WIP: Adding Tacker conductor puppet class

Depends-On: I6286cd57af8d0d3416903f71de995fd7cb667614
Change-Id: Ifeaae3ea5e703d50b2b48cd1be13210bd44587c0
Signed-off-by: Ricardo Noriega <rnoriega@redhat.com>
"
openstack%2Fpuppet-tripleo~master~Ie8c0900687b71bc8fbbfbbe5750c6bb7278e3019,openstack/puppet-tripleo,master,iha-fqdn-compute-hostnames,Ie8c0900687b71bc8fbbfbbe5750c6bb7278e3019,WIP Use the non-fqdn name when creating stonith levels,ABANDONED,2018-05-16 17:43:52.000000000,2019-07-31 21:00:44.000000000,,1,1,0,568913,22af7f3687d779e6d1bd2f18964e97e606661927,4,3,1,1,20172,Michele Baldessari,michele,"WIP Use the non-fqdn name when creating stonith levels

Cluster nodes are always non-fqdn. When an operator configures
hostnames to be fqdn, they will still be short hostnames in the
cluster and in pacemaker remote. The exception to this is crm_node -n
which will end up returning the `hostname`.

Let's replace $(crm_node -n) which returns an FQDN in this case
with $::hostname which gives always the short hostname.

This way we will avoid errors like this:
""Error: pcs -f
/var/lib/pacemaker/cib/puppet-cib-backup20180516-27473-xsh5h create
failed: Error: Node 'overcloud-novacomputeiha-0.redhat.local' does not
appear to exist in configuration, use --force to override"",

Change-Id: Ie8c0900687b71bc8fbbfbbe5750c6bb7278e3019
"
openstack%2Fpuppet-tripleo~master~Ie796d67ef84821b485f938307c3be1a51936b02e,openstack/puppet-tripleo,master,,Ie796d67ef84821b485f938307c3be1a51936b02e,WIP use rabbitmq directly with rabbit bundle,ABANDONED,2018-07-29 12:27:05.000000000,2019-07-31 21:00:43.000000000,,1,1,0,586876,8f4f919e12b60b7987593ec9b62a7a1ad637c91e,4,3,1,1,20172,Michele Baldessari,michele,"WIP use rabbitmq directly with rabbit bundle

Change-Id: Ie796d67ef84821b485f938307c3be1a51936b02e
"
openstack%2Fpuppet-tripleo~master~I521a8ed26a4532728d41cd9f79001c3a29a1ce00,openstack/puppet-tripleo,master,upstream-rabbitmq-ra,I521a8ed26a4532728d41cd9f79001c3a29a1ce00,WIP/DNR Add a new bundle that uses upstream rabbitmqRA,ABANDONED,2018-09-04 20:08:21.000000000,2019-07-31 21:00:41.000000000,,263,0,0,599827,8c2aee84864425edd344473314bd2b933878b7fb,8,5,2,1,20172,Michele Baldessari,michele,"WIP/DNR Add a new bundle that uses upstream rabbitmqRA

Nothing to see

Change-Id: I521a8ed26a4532728d41cd9f79001c3a29a1ce00
"
openstack%2Fpuppet-tripleo~master~Ie6364fb57524cff09f4dab99512980b091fcf8e3,openstack/puppet-tripleo,master,bp/global-database,Ie6364fb57524cff09f4dab99512980b091fcf8e3,Implement Global Galera database,ABANDONED,2018-10-11 15:07:16.000000000,2019-07-31 21:00:40.000000000,,690,77,3,609734,1d3f8a331dc8ec054c3258c2517739ba6ffe14be,20,6,6,4,11816,mike_mp@zzzcomputing.com,zzzeek,"Implement Global Galera database

WIP: This is the patch used from the proof of concept so far.
Changes will include that we might want to no longer use
the term ""stretch"" in favor of ""global"".

Change-Id: Ie6364fb57524cff09f4dab99512980b091fcf8e3
Partial: blueprint global-database
"
openstack%2Fpuppet-tripleo~master~I13b7eb52f27e0ebaefc783526c002857c1dbf4af,openstack/puppet-tripleo,master,bug/1803557,I13b7eb52f27e0ebaefc783526c002857c1dbf4af,Updates OpenDaylight websocket haproxy healthcheck,ABANDONED,2018-10-23 20:29:42.000000000,2019-07-31 21:00:38.000000000,,17,0,0,612794,c0ca378810e21b57da5d20fdfd68ee092ee68010,11,7,2,2,17280,Tim Rozet,trozet,"Updates OpenDaylight websocket haproxy healthcheck

There is an issue where OpenDaylight may be up on port 8185, but it is
unable to accept websocket connections on that port. This creates a
false positive for the current health check as it only checks if the TCP
port is open. This adds a more robust check to ensure a websocket
connection can be made.

Closes-Bug: #1803557

Change-Id: I13b7eb52f27e0ebaefc783526c002857c1dbf4af
Signed-off-by: Tim Rozet <trozet@redhat.com>
"
openstack%2Fpuppet-tripleo~master~Iaf50fc13f103f832567f3ed12225d38a113c3291,openstack/puppet-tripleo,master,unify-ha-bindmounts,Iaf50fc13f103f832567f3ed12225d38a113c3291,WIP DNR Unify rabbitmq bind mounts,ABANDONED,2018-09-27 06:48:28.000000000,2019-07-31 21:00:26.000000000,,91,70,0,605599,25fb5b04d7ae290addbb33a9eb367b6dac391b44,37,4,9,1,20172,Michele Baldessari,michele,"WIP DNR Unify rabbitmq bind mounts

We eventually want to avoid hard-coding the list of bind mounts used in
the rabbitmq bundle. In the same spirit as done for the cinder services,
we add two class parameters that can override volumes and environment
variable. If unset nothing will change as to the current status. A THT
patch will set those parameters so volumes can be defined and overridden
(and customized) via THT.

Change-Id: Iaf50fc13f103f832567f3ed12225d38a113c3291
"
openstack%2Fpuppet-tripleo~master~I9b32890717d7ddebcc282736bee60360834930d4,openstack/puppet-tripleo,master,bundles-nonroot,I9b32890717d7ddebcc282736bee60360834930d4,WIP cinder-* bundles and manila-share to not need to be run as root,ABANDONED,2018-07-04 10:36:18.000000000,2019-07-31 20:57:00.000000000,,7,7,0,580127,2a00928b8993aa965472074f3e32b1f5b43c9875,28,13,6,5,20172,Michele Baldessari,michele,"WIP cinder-* bundles and manila-share to not need to be run as root

Cinder bundles do not need to be run as root as they already
user the cinder user by default. This change should be fine
even in an update because we explicitely chown the logs to the
cinder-user inside the container:
- cinder-volume [1]
- cinder-backup [2]
- manila-share [3]

Note that other bundles like (redis/rabbit/galera drop their privileges
automatically so this is not needed)

[1] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-volume.yaml#L176
[2] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/cinder-backup.yaml#L182
[3] https://github.com/openstack/tripleo-heat-templates/blob/master/docker/services/pacemaker/manila-share.yaml#L152

WIP as this needs some testing and discussion around ovn bundles

The depends-on will take care of changing ownership at the start of
the bundle (via kolla_start) mechanism.

Closes-Bug: #582456

Depends-On: Ia8a87b7dad3b0c2932d8f770d5d76842609a377f
Change-Id: I9b32890717d7ddebcc282736bee60360834930d4
Co-Authored-By: Alan Bishop <abishop@redhat.com>
"
openstack%2Fpuppet-manila~master~I99fe50cb5e112bcad85494dc755725d3444f717b,openstack/puppet-manila,master,CephFS-NFS-IPv6,I99fe50cb5e112bcad85494dc755725d3444f717b,Support cephfs_ganesha_export_ips parameter,MERGED,2019-07-22 19:22:26.000000000,2019-07-31 20:55:53.000000000,2019-07-31 20:55:53.000000000,17,1,2,672148,97e1dab0dd15f3be02b12008019c94a6b4ee9312,20,5,4,3,9003,Tom Barron,tbarron,"Support cephfs_ganesha_export_ips parameter

Manila now [1] supports configuring a list of IP addresses
or hostnames on which NFS-ganesha will listen for mounts and
provide NFS service.

Expose this parameter in the backend manifests for manila with
CephFS.

[1] https://review.opendev.org/#/c/670510
Change-Id: I99fe50cb5e112bcad85494dc755725d3444f717b
"
openstack%2Ftripleo-quickstart~master~Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3,openstack/tripleo-quickstart,master,bp/undercloud-minion,Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3,Add single minion node config,MERGED,2019-05-30 22:42:04.000000000,2019-07-31 20:47:05.000000000,2019-07-31 20:47:05.000000000,113,0,3,662349,831cc07dd97f2e3466749f2df6eb6a670761487b,44,11,11,2,14985,Alex Schultz,mwhahaha,"Add single minion node config

Change-Id: Ia35d16e59db2565accc4d6ba2a25ab607d70a4f3
Related-Blueprint: undercloud-minion
"
openstack%2Fdevstack~stable%2Fpike~Ia001badca179c3f3436d5ecd26b0755a3f3a3078,openstack/devstack,stable/pike,,Ia001badca179c3f3436d5ecd26b0755a3f3a3078,zuul job: write the enable_plugin lines last,MERGED,2019-07-30 07:45:44.000000000,2019-07-31 20:45:17.000000000,2019-07-31 20:45:17.000000000,5,2,0,673432,38edaa3ba60b3500e2f3199cf16dcfc8c7c89fe8,15,3,1,1,10459,Luigi Toscano,ltoscano,"zuul job: write the enable_plugin lines last

Plugins must be the last items in the local.conf file
otherwise the configuration set in the rest of the file
is not applied to them (for example a different value of DEST.)

Change-Id: Ia001badca179c3f3436d5ecd26b0755a3f3a3078
(cherry picked from commit 610927f4255f0ed4877a3e85d628202e4af2f7d4)
"
openstack%2Fnova~master~Iccda422a3900821ca5476d8888e935568884f321,openstack/nova,master,_get_instance_nw_info,Iccda422a3900821ca5476d8888e935568884f321,neutron: log something more useful in _get_instance_nw_info,MERGED,2019-07-30 21:24:50.000000000,2019-07-31 20:45:13.000000000,2019-07-31 20:45:13.000000000,9,1,0,673694,72b979f92cb71b4b417e7be03e2377cacc449ea9,15,11,1,1,6873,Matt Riedemann,mriedem,"neutron: log something more useful in _get_instance_nw_info

This method is currently logging something like this:

  Jul 30 20:47:58 devstack nova-compute[23811]: DEBUG \
  nova.network.neutronv2.api [None req-1bba63ae-86d8-4a97-be63-18f18c9ae662 \
  None None] [instance: 3e0a7f65-34ac-4d73-83ed-96d36fdefd54] \
  _get_instance_nw_info() {{(pid=23811) _get_instance_nw_info \
  /opt/stack/nova/nova/network/neutronv2/api.py:1751}}

Logging the method name, which already gets logged, is not very
useful.

This change uses the parameters to the method to add some more useful
log messages.

Currently the only time force_refresh is True is when the
_heal_instance_info_cache periodic task runs.

Currently refresh_vif_id is only ever not None when a network-changed
event is received with a particular port id in the event tag parameter.

Change-Id: Iccda422a3900821ca5476d8888e935568884f321
"
openstack%2Ftripleo-heat-templates~master~If6b4f9de29a9826921f81faef3688719b0ee9c25,openstack/tripleo-heat-templates,master,,If6b4f9de29a9826921f81faef3688719b0ee9c25,Add ANSIBLE_CONFIG to Octavia Ansible playbook run,MERGED,2019-07-28 13:11:41.000000000,2019-07-31 20:41:36.000000000,2019-07-31 20:41:36.000000000,1,1,0,673170,3036ba174401dfb8d730d22271af3667e1bcb46c,11,8,1,1,6469,Carlos Gon√ßalves,cgoncalves,"Add ANSIBLE_CONFIG to Octavia Ansible playbook run

Change-Id: If6b4f9de29a9826921f81faef3688719b0ee9c25
"
openstack%2Fopenstack-helm-infra~master~Ia2c53556be650899fdd67c1ec06f5c68ae63c9d4,openstack/openstack-helm-infra,master,,Ia2c53556be650899fdd67c1ec06f5c68ae63c9d4,Provide option to switch between dpdk and non-dpdk,MERGED,2019-07-18 11:50:05.000000000,2019-07-31 20:38:22.000000000,2019-07-31 20:38:22.000000000,10,0,1,671462,a71f1b4d3312cd281bf612d7934fa531441f8698,37,15,5,2,21883,Manuel Buil,mbuil,"Provide option to switch between dpdk and non-dpdk

We can select if we want an image with dpdk support by adding:

FEATURE_GATES=dpdk

That way we can reuse the same script for different distros by using
openstack-helm/tools/deployment/common/get-values-overrides.sh

Change-Id: Ia2c53556be650899fdd67c1ec06f5c68ae63c9d4
Signed-off-by: Manuel Buil <mbuil@suse.com>
"
openstack%2Fpuppet-tripleo~master~Ic8ef0bcb3c9b789ef35bf82a60ed85785f0665f1,openstack/puppet-tripleo,master,ipv6-prov,Ic8ef0bcb3c9b789ef35bf82a60ed85785f0665f1,Wrap bind IP for docker registry if IPv6,ABANDONED,2018-03-20 16:04:01.000000000,2019-07-31 20:33:42.000000000,,1,1,4,554608,f79c7025203a24b0694d4eaa4124c3b7545c1f77,41,8,4,1,1926,Derek Higgins,derekh,"Wrap bind IP for docker registry if IPv6

Change-Id: Ic8ef0bcb3c9b789ef35bf82a60ed85785f0665f1
Closes-Bug: #1755455
"
openstack%2Fpuppet-openstack-integration~stable%2Frocky~I3f3bf2b13186d8f3708de0cc7221605d8fc56450,openstack/puppet-openstack-integration,stable/rocky,fix-mimic-ci,I3f3bf2b13186d8f3708de0cc7221605d8fc56450,Fix checkout for stable/mimic,MERGED,2019-07-31 16:51:22.000000000,2019-07-31 20:27:39.000000000,2019-07-31 20:27:39.000000000,42,0,0,673876,aaf659f9d2754580fc0e2efe1f29cd0915db2f98,7,2,1,1,14985,Alex Schultz,mwhahaha,"Fix checkout for stable/mimic

Since puppet-ceph stable/mimic and puppet-pacemaker stable/0.7.x don't
follow the standard openstack conventions. So when the jobs try and
checkout the code, it is currently getting the master version which
doesn't work as expected. In order to fix this we need to specific the
rocky/mimic branches explicitly in the zuul job config. We did something
similar for stable/jewel in Ie11af4944178fa057a189f4e0c7e4809dc694b86

Change-Id: I3f3bf2b13186d8f3708de0cc7221605d8fc56450
"
openstack%2Freleases~master~Ia421ed500fbc15bf0088a8436ddeb5d8d1196256,openstack/releases,master,os-traits_0.16.0,Ia421ed500fbc15bf0088a8436ddeb5d8d1196256,Release os-traits 0.16.0,MERGED,2019-07-29 13:52:48.000000000,2019-07-31 20:13:40.000000000,2019-07-31 20:13:40.000000000,5,1,0,673294,11df3a66f32ceacd36174f72cd291da9d645e4c6,15,7,2,1,14070,Eric Fried,efried,"Release os-traits 0.16.0

...to pick up AVX512-VNNI trait from [1] and live migrate flags from [2].

[1] Id12ed38c1648b006c20cf5875a9b2ffe1690ecd6
[2] I6afd7ef33edd5187c6242d0e0e58c871cb83250e

Change-Id: Ia421ed500fbc15bf0088a8436ddeb5d8d1196256
"
openstack%2Fironic~master~I56c54e110bdacc9c4b8ab19b8a3a38b1b4e8ee66,openstack/ironic,master,bp/nova-support-instance-power-update,I56c54e110bdacc9c4b8ab19b8a3a38b1b4e8ee66,DNM: test nova power-update event,ABANDONED,2019-07-23 16:46:43.000000000,2019-07-31 20:01:57.000000000,,7,6,1,672327,f421d5f88e0bd4ab5ccca6280bc0dccc26887145,9,5,2,3,6873,Matt Riedemann,mriedem,"DNM: test nova power-update event

Tests I6d105524e1645d9a40dfeae2850c33cf2d110826 with
the nova 2.75 microversion where ironic sends the power-update
event. This is needed to test the series of changes before
the novaclient change is released.

Change-Id: I56c54e110bdacc9c4b8ab19b8a3a38b1b4e8ee66
"
openstack%2Fopenstack-ansible-os_ironic~master~Ibc4859326c39e07411a55c03b95d106a5a563130,openstack/openstack-ansible-os_ironic,master,use-integrated-repo-for-all-tests,Ibc4859326c39e07411a55c03b95d106a5a563130,Add integrated coverage,MERGED,2019-05-20 10:33:22.000000000,2019-07-31 20:00:40.000000000,2019-07-12 17:09:43.000000000,4,57,0,660083,1388c2abd06f29a91a7e575d92ccd0570a1d4fd2,38,5,14,2,17068,Jean-Philippe Evrard,evrardjp,"Add integrated coverage

Currently this role doesn't test the integrated jobs.

This is a problem because it's not consistent with other jobs.

Change-Id: Ibc4859326c39e07411a55c03b95d106a5a563130
"
openstack%2Ftripleo-quickstart~master~I387c43d7c16628f11327c80b0ff0ca17ba92a6c1,openstack/tripleo-quickstart,master,Ôªøoooq/ansible26,I387c43d7c16628f11327c80b0ff0ca17ba92a6c1,Bump ansible version to 2.6.x,ABANDONED,2019-02-07 09:17:28.000000000,2019-07-31 19:50:12.000000000,,1,1,2,635459,9a3afc7b578e0d22e810cbf7c116dedca76aa88d,31,10,7,1,21537,Yurii Prokulevych,yprokule,"Bump ansible version to 2.6.x

Ansible filter dict2items is introduced in ansible-2.6.
Update version to unblock multinode-oooq-container-updates job that
fails with next error msg:
  template error while templating string: no filter named 'dict2items'.

Other notable fixes:
- blockinfile
- lineinfile
- docker modules
- loop

Full list of fixes: https://github.com/ansible/ansible/blob/v2.6.13/changelogs/CHANGELOG-v2.6.rst

Change-Id: I387c43d7c16628f11327c80b0ff0ca17ba92a6c1
Story: https://tree.taiga.io/project/tripleo-ci-board/task/386
"
openstack%2Ftripleo-heat-templates~master~Ieed65a755b8c5f1ce0ee1727f65cb6cbe76d68ea,openstack/tripleo-heat-templates,master,,Ieed65a755b8c5f1ce0ee1727f65cb6cbe76d68ea,Change name of former openshift files in Heat templates,MERGED,2019-07-30 12:18:39.000000000,2019-07-31 19:46:38.000000000,2019-07-31 19:46:38.000000000,3,3,0,673494,163fc6d783cfc2f5996486bd57b72ea003e237b6,18,7,2,3,10969,Shnaidman Sagi (Sergey),sergsh,"Change name of former openshift files in Heat templates

While renaming files in https://review.opendev.org/#/c/671140/
we should rename them in Heat templates too.
Rename previous openshift-*.yaml to openshift-*-baremetal-ansible.yaml
Change-Id: Ieed65a755b8c5f1ce0ee1727f65cb6cbe76d68ea
"
openstack%2Ftripleo-quickstart~master~Icf28ecc6fcf28cedcf319817baebccf6d9a91fba,openstack/tripleo-quickstart,master,ansible-2.8,Icf28ecc6fcf28cedcf319817baebccf6d9a91fba,Add dependency validation check to quickstart.sh,ABANDONED,2019-05-28 07:37:47.000000000,2019-07-31 19:45:13.000000000,,2,0,0,661692,175e2971e6b4b2a12c71a17868ec32401fa2afb8,4,5,1,1,24162,Sorin Sb√¢rnea,ssbarnea,"Add dependency validation check to quickstart.sh

This should avoid case where people run quickstart with unsupported
version of dependencies (like ansible 2.8).

Our code should fail fast instead of creating bad user experience and
additional bug requests. Compatibility ranges should be introduced in
requirements.txt in follow-ups.

Capping maximum version should be added when we discover that newer
version does not work with quickstart.

Change-Id: Icf28ecc6fcf28cedcf319817baebccf6d9a91fba
"
openstack%2Ftripleo-quickstart-extras~master~Ice95c916dc614c73df42507ab70f846b190255c0,openstack/tripleo-quickstart-extras,master,bug/1795009,Ice95c916dc614c73df42507ab70f846b190255c0,Test undercloud_ara enablement,ABANDONED,2018-11-26 20:01:01.000000000,2019-07-31 19:39:27.000000000,,1,1,13,620146,badc5ef7f29655f2f6afe29a65023923fbf2134b,42,8,9,1,24162,Sorin Sb√¢rnea,ssbarnea,"Test undercloud_ara enablement

Mainly for testing previous patch.

Change-Id: Ice95c916dc614c73df42507ab70f846b190255c0
Partial-Bug: https://bugs.launchpad.net/tripleo/+bug/1811778
"
openstack%2Ftripleo-quickstart-extras~master~Ia1245a423e608273120b2c6b9668e2126073cccc,openstack/tripleo-quickstart-extras,master,,Ia1245a423e608273120b2c6b9668e2126073cccc,Allow creating Stack for non centos images,MERGED,2019-07-30 07:29:01.000000000,2019-07-31 19:00:43.000000000,2019-07-31 19:00:43.000000000,7,5,2,673418,cf6b8259ba275f434d1ce717f8eb2ea962844858,10,9,1,3,13861,yatin,yatinkarel,"Allow creating Stack for non centos images

This patch updates nodepool-setup and multinodes
roles to work with non centos images. It updates following:-

- Add a role variable: ""default_image_user"" which defaults to
  'centos'. It can be used to configure image_user like 'fedora'.
- Use 'package' module instead of 'yum' so it can work with non
  yum systems.
- yum_contentdir is not needed for Fedora, so skipped.
- centos-release-openstack and epel repos are not needed for
  Fedora, so skipped.

Change-Id: Ia1245a423e608273120b2c6b9668e2126073cccc
"
openstack%2Fkolla~master~I17a25633a0df3547cce59ad00730b0cab0018253,openstack/kolla,master,,I17a25633a0df3547cce59ad00730b0cab0018253,Enable support for fedora distro in kolla,ABANDONED,2019-02-07 13:53:29.000000000,2019-07-31 18:50:07.000000000,,11,2,2,635512,ebe2ef40ddb179b2595f42b83e20acac147aa122,18,6,4,2,24162,Sorin Sb√¢rnea,ssbarnea,"Enable support for fedora distro in kolla

Change-Id: I17a25633a0df3547cce59ad00730b0cab0018253
"
openstack%2Fmanila-specs~master~Id51ff66105ef72b263904eb0f5279654b588bcf9,openstack/manila-specs,master,,Id51ff66105ef72b263904eb0f5279654b588bcf9,Add a new mv to the share type API,MERGED,2019-07-23 09:46:58.000000000,2019-07-31 18:48:53.000000000,2019-07-31 18:48:53.000000000,2,0,0,672244,19d03629eeed1c5dce021c0e6aa858fff0cd3de8,7,3,1,1,30407,haixin,haixin,"Add a new mv to the share type API

Bump up the API Microversion.

Change-Id: Id51ff66105ef72b263904eb0f5279654b588bcf9
"
openstack%2Fpython-manilaclient~master~I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366,openstack/python-manilaclient,master,bug/1822815,I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366,Fix `manila list --count True` command,ABANDONED,2019-06-26 22:38:34.000000000,2019-07-31 18:45:46.000000000,,22,4,17,667744,c852f9f44af36d80c36f7af3e7d8bd635b9cd875,39,7,9,3,29958,Soledad Kuczala,SolKuczala,"Fix `manila list --count True` command

When doing `manila list --count True` without shares, the user gets
an error. This happens because there is no control of the retrieving
and showing of shares when the `--count` param is used. This patch-set
adds a fix for this case.

Closes-bug: #1822815
Change-Id: I4e3ba86c38a58c8fa56b5fd23839551f4b6c2366
"
openstack%2Fopenstack-ansible~stable%2Fstein~Id582f85f1390ad96bc003c774b2ec8f4dfeb1edb,openstack/openstack-ansible,stable/stein,osa-update-ansible,Id582f85f1390ad96bc003c774b2ec8f4dfeb1edb,Update ansible to 2.7.12,MERGED,2019-07-30 12:54:02.000000000,2019-07-31 18:27:01.000000000,2019-07-31 18:27:01.000000000,1,1,0,673507,780cade40d00b82c07f9e74e8f634c93fdae6af9,7,3,1,1,25023,Jonathan Rosser,jrosser,"Update ansible to 2.7.12

Change-Id: Id582f85f1390ad96bc003c774b2ec8f4dfeb1edb
"
openstack%2Frequirements~master~Id633d3f591e86483cc23d26423ace581e8a977ce,openstack/requirements,master,cinder_extras,Id633d3f591e86483cc23d26423ace581e8a977ce,Add cinder extras python-lefthandclient,ABANDONED,2019-05-09 14:20:07.000000000,2019-07-31 18:23:51.000000000,,2,0,0,658103,7c7c8d62a35bb0d4f9e2f3eb65adec2f7f7cea44,11,4,1,2,5997,Walt,walter-boring,"Add cinder extras python-lefthandclient

This patch adds the cinder lefthandclient driver's library.

active: yes
good code: mostly, bunch of open, simple pull requests
py3: kinda? only states py34...
license compat: yes
packaged: eh?
covered by other libs: no
needed by: cinder
managed by openstack: no

Change-Id: Id633d3f591e86483cc23d26423ace581e8a977ce
"
openstack%2Fopenstack-helm-infra~master~I3886c792fe28bc8b80504d8c91e9524039131b15,openstack/openstack-helm-infra,master,pod_log_fix,I3886c792fe28bc8b80504d8c91e9524039131b15,Removing deprecated option usage in gatther pod logs logic,MERGED,2019-07-29 23:31:49.000000000,2019-07-31 18:22:34.000000000,2019-07-31 18:22:33.000000000,1,1,0,673372,7a8bb7058beb75a690a35e3d4998d1338aea9a58,18,8,2,1,1091,Arun Kant,arunkant-uws,"Removing deprecated option usage in gatther pod logs logic

As per PR, https://github.com/kubernetes/kubernetes/pull/60210,
in kubectl get show-all option is deprecated and no longer needed.
Presumably now that's the default behavior.

Also in current logs gathering logic, we are interested in capturing
only pod names, so removing that option is harmless.

We are seeing related failures in local CI when kubectl version is
1.15.x. So removing this option.

Change-Id: I3886c792fe28bc8b80504d8c91e9524039131b15
"
openstack%2Fnetworking-ovn~stable%2Fstein~Ie4a4bbcdd1e2619fc6830bf86eeb37604d91c49a,openstack/networking-ovn,stable/stein,ovn_driver_stein_cherry_picks,Ie4a4bbcdd1e2619fc6830bf86eeb37604d91c49a,TrivialFixes to networking-ovn repo,MERGED,2019-07-25 07:20:29.000000000,2019-07-31 18:21:06.000000000,2019-07-31 18:21:06.000000000,3,2,0,672644,75b9f3f309d3778153454ed9affdbad11f32d09e,11,4,2,3,24791,Maciej Jozefczyk,maciej.jozefczyk,"TrivialFixes to networking-ovn repo

- Debug logging information is added to
get_candidates_for_scheduling() to provide more information when no
chassis information is available for a physnet.
- Use the chassisredirect constant from networking_ovn.common.constants

Change-Id: Ie4a4bbcdd1e2619fc6830bf86eeb37604d91c49a
(cherry picked from commit 8bb5e7ec20e107a3440f405c41d1b301a325cc2f)
"
openstack%2Fkayobe~stable%2Frocky~Id090348a6f22f251555fa286a7d24923087122a9,openstack/kayobe,stable/rocky,,Id090348a6f22f251555fa286a7d24923087122a9,Provide keystone.conf to kolla-ansible by default,MERGED,2019-07-17 16:57:22.000000000,2019-07-31 18:17:40.000000000,2019-07-31 18:17:40.000000000,5,4,0,671332,d2bf18f1873125a0ea8ec95417a13862ac495939,7,3,1,3,17669,Doug Szumski,DougSzumski,"Provide keystone.conf to kolla-ansible by default

Commit d8ee0fa027140fb8a7504bd6685b6dcdfe3ac8fe introduced the variable
kolla_enable_keystone without setting a default value and used it to
check whether to template and provide keystone.conf to kolla-ansible,
unlike the extended keystone configuration which was always copied. This
resulted in non-intuitive behaviour if kolla_enable_keystone wasn't
explicitly set by the operator.

This commit sets kolla_enable_keystone to true by default, which matches
the default in kolla-ansible, and uses it instead of hardcoded true
values.

Conflicts:
	ansible/roles/kolla-openstack/vars/main.yml

Change-Id: Id090348a6f22f251555fa286a7d24923087122a9
Story: 2005930
Task: 34273
(cherry picked from commit ec9b4826515f28dab43846cb80dcb58b9a5b0a6e)
"
openstack%2Fkayobe~stable%2Frocky~Iaa304221b8093ac71f9cdbb23edc84d1517578da,openstack/kayobe,stable/rocky,,Iaa304221b8093ac71f9cdbb23edc84d1517578da,Multiple updates for Kayobe,MERGED,2019-06-26 16:17:36.000000000,2019-07-31 18:17:40.000000000,2019-07-31 18:17:40.000000000,49,12,0,667672,0a133818016fbc11eed26554817b6e65f358a756,10,4,1,16,14826,Mark Goddard,mgoddard,"Multiple updates for Kayobe

---

1. Gather facts for localhost in kolla-ansible.yml
2. Don't include unconfigured networks in network_interfaces
3. Added Keystone configuration extra config merge

---

1. Facts are necessary for the kolla-ansible role,
which references the ansible_user_uid fact

2. It is possible to skip configuring a network,
by setting its name to None

This is done in networks.yml as follows:

admin_oc_net_name:

Currently, these networks may still be included in the 'network_interfaces'
list for each host, despite the fact that they are not in use.

A classic example is when ironic is not enabled, it is currently still
necessary to define provisioning and cleaning networks.

This change avoids including any networks that have their name set to None
in network_interfaces.

3. Added support for Keystone custom configuration

Added tests and documentation to add support for keystone extra configuration

Co-Authored-By: Mark Goddard <mark@stackhpc.com

Change-Id: Iaa304221b8093ac71f9cdbb23edc84d1517578da
(cherry picked from commit d8ee0fa027140fb8a7504bd6685b6dcdfe3ac8fe)
"
openstack%2Ftripleo-quickstart~master~I9d14a4a7db93bffd2cb54fda1082ce4c24e3fa33,openstack/tripleo-quickstart,master,ara,I9d14a4a7db93bffd2cb54fda1082ce4c24e3fa33,Remove ARA install from ci-scripts,ABANDONED,2018-10-28 15:52:19.000000000,2019-07-31 18:16:11.000000000,,0,4,2,613795,32b462bb4d6ca89ef8eafff73b8d89793cd6154e,22,10,4,1,24162,Sorin Sb√¢rnea,ssbarnea,"Remove ARA install from ci-scripts

ARA is called from collect-logs role and we should not install it
ourselves in ci code.

Change-Id: I9d14a4a7db93bffd2cb54fda1082ce4c24e3fa33
"
openstack%2Fdevstack~stable%2Fpike~I91093a424f8d5e8007f140083e1ea36a81fe849f,openstack/devstack,stable/pike,,I91093a424f8d5e8007f140083e1ea36a81fe849f,Allow plugin names to contain non-letter characters,MERGED,2019-07-30 07:45:44.000000000,2019-07-31 18:10:26.000000000,2019-07-31 18:10:26.000000000,8,8,0,673431,ab661a25f11cf6818da94d5e1db31a6023e9ac59,14,4,1,2,10459,Luigi Toscano,ltoscano,"Allow plugin names to contain non-letter characters

There are already devstack plugins that contain a hyphen in the name,
like `networking-baremetal`. In order to allow ordering for these to
work properly, amend the regexes we are using to match any
non-whitespace characters instead of only alphanumerics.

Amend the test to cover this use case.

Change-Id: I91093a424f8d5e8007f140083e1ea36a81fe849f
Closes-Bug: 1809016
(cherry picked from commit 0b855007f8d44662ad4fd52bda7df85f94b241c2)
"
openstack%2Fnova~master~I361af845d6a733618ecd056aa7df973191184ae9,openstack/nova,master,nix-RBDDriver-init-args,I361af845d6a733618ecd056aa7df973191184ae9,Get rid of args to RBDDriver.__init__(),MERGED,2019-07-01 22:11:41.000000000,2019-07-31 18:10:19.000000000,2019-07-31 18:10:19.000000000,41,52,5,668564,45026cb5c1b0d40324a6183006b4a397c2d9342c,91,16,7,6,14070,Eric Fried,efried,"Get rid of args to RBDDriver.__init__()

While reviewing [1] I noticed an annoying and unnecessary
coupling/duplication of references to the CONF variables for RBD. This
commit consolidates them down to a single source, the guts of
RBDDriver.__init__().

As part of this a workaround is also removed concerning the passing of
conffile=None to RADOS via python-rbd. The following change merged in
2014 so we can now return None when ``[libvirt]/images_rbd_ceph_conf``
is not set:

Make python rados.Rados accept conffile=None
https://github.com/ceph/ceph/pull/1787

[1] https://review.opendev.org/667421

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Change-Id: I361af845d6a733618ecd056aa7df973191184ae9
"
openstack%2Fkolla-ansible~master~I6d205fe327f198e699519ebe9d589b9ee77a62d2,openstack/kolla-ansible,master,bug/1837274,I6d205fe327f198e699519ebe9d589b9ee77a62d2,Fix fluentd monasca pos path for Debian/Ubuntu x86_64,MERGED,2019-07-30 10:50:09.000000000,2019-07-31 18:09:53.000000000,2019-07-31 18:09:53.000000000,3,3,0,673479,19b345de3eae2266f13dcb3c3efa1b3c49fe892a,10,5,1,1,30491,Rados≈Çaw Piliszek,yoctozepto,"Fix fluentd monasca pos path for Debian/Ubuntu x86_64

Change-Id: I6d205fe327f198e699519ebe9d589b9ee77a62d2
Closes-Bug: #1837274
Signed-off-by: Rados≈Çaw Piliszek <radoslaw.piliszek@gmail.com>
"
openstack%2Fopenstack-ansible-os_nova~master~Id2f266def07e0ba6967746738efd07cff628a19a,openstack/openstack-ansible-os_nova,master,620026,Id2f266def07e0ba6967746738efd07cff628a19a,Ensure that UEFI firmware is present for aarch64,MERGED,2018-11-26 12:18:16.000000000,2019-07-31 17:48:54.000000000,2019-07-31 17:48:54.000000000,1,0,0,620026,999e1b91a0a0f8e8a78203ffdce7b55d93c3a74c,23,5,5,1,25023,Jonathan Rosser,jrosser,"Ensure that UEFI firmware is present for aarch64

The qemu-efi package will pull in the x86_64 and aarch64 uefi firmware
ensuring both architectures are supported on debian/ubuntu

Change-Id: Id2f266def07e0ba6967746738efd07cff628a19a
"
openstack%2Fnetworking-sfc~master~I799b976d1e8764de344e7dc8efe27767800611e0,openstack/networking-sfc,master,,I799b976d1e8764de344e7dc8efe27767800611e0,Update the constraints url,MERGED,2019-07-03 09:40:33.000000000,2019-07-31 17:46:48.000000000,2019-07-31 17:46:48.000000000,1,1,0,668848,7fb02079435f3963c95da3514e3f19d04fdea2e4,12,7,2,1,18955,dharmendra,dharmendra,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I799b976d1e8764de344e7dc8efe27767800611e0
"
openstack%2Ftripleo-heat-templates~master~I657bfa8ed565c9283d8736dd078f5efe316472fd,openstack/tripleo-heat-templates,master,THT2TA,I657bfa8ed565c9283d8736dd078f5efe316472fd,Convert THT file to use new role,MERGED,2019-07-16 16:46:33.000000000,2019-07-31 17:40:37.000000000,2019-07-31 17:40:37.000000000,56,100,8,671107,8b0b12e77d638e67c847ae7f2ad38394e0db024f,25,7,3,1,7353,Kevin Carter,cloudnull,"Convert THT file to use new role

The THT file has been converted to use a newly created role found within
TripleO-Ansible. The THT process will now run all tasks through the role
using ""include_role"". To ensure we're keeping things separated, all of
the data transformations will still be taken care of in the heat template.
This ensures we have clean lines of separation allowing both services to
work as expected, without nuance or confusion.

Change-Id: I657bfa8ed565c9283d8736dd078f5efe316472fd
Story: 2006017
Task: 34602
Depends-On: Ia7fd611320d2f29b330a04484dca3146d74d8d82
Signed-off-by: Kevin Carter <kecarter@redhat.com>
"
openstack%2Fpython-tripleoclient~master~I0668241a1675dd4e344cc24b6ff2cbb8f93b7a45,openstack/python-tripleoclient,master,bp/validation-framework,I0668241a1675dd4e344cc24b6ff2cbb8f93b7a45,Add gathering_policy parameter to run_ansible_playbook function,MERGED,2019-07-23 12:33:23.000000000,2019-07-31 17:40:34.000000000,2019-07-31 17:40:34.000000000,64,3,0,672278,d7793ce1a5eef8b076318aecc17ecbe5dcb418d6,13,6,3,4,11491,Gael Chamoulaud,gchamoul,"Add gathering_policy parameter to run_ansible_playbook function

This patch adds a new parameter called 'gathering_policy' (Defaults to
None) to the 'run_ansible_playbook' function. This parameter will
control the default policy of the Ansible fact gathering. Sets to None
by default, it will use the default policy for Ansible (ie. 'implicit').

Change-Id: I0668241a1675dd4e344cc24b6ff2cbb8f93b7a45
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fpython-tripleoclient~master~Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780,openstack/python-tripleoclient,master,bp/validation-framework,Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780,Use static inventory YAML file for saving execution time,MERGED,2019-07-19 08:50:29.000000000,2019-07-31 17:40:33.000000000,2019-07-31 17:40:33.000000000,43,11,4,671683,4f55cdf59ad871dccf107e191c9c738c22fe26f4,28,6,8,3,11491,Gael Chamoulaud,gchamoul,"Use static inventory YAML file for saving execution time

The validations execution will use now a static inventory file to speed
up things a bit. Note that this file will be removed after execution.

Change-Id: Ibdc3fc7ea9d3dec9531a2ce29ec8a1477c33c780
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fpython-tripleoclient~master~I188604f7767b51a0f485bd79ff3497af56586b13,openstack/python-tripleoclient,master,bp/validation-framework,I188604f7767b51a0f485bd79ff3497af56586b13,Don't use local connection by default for the validations,MERGED,2019-07-18 13:44:47.000000000,2019-07-31 17:40:32.000000000,2019-07-31 17:40:32.000000000,0,2,0,671491,82887ef228659c7494f51b7e37eb177ff98b69bc,21,9,3,2,11491,Gael Chamoulaud,gchamoul,"Don't use local connection by default for the validations

When using local connection, all the validations targeting the overcloud
nodes are failing. Let's use the connection mode from the Ansible
inventory.

Change-Id: I188604f7767b51a0f485bd79ff3497af56586b13
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fpython-tripleoclient~master~I6f8f55963f3f5261ec1497b650e0ca509d31dd32,openstack/python-tripleoclient,master,bp/validation-framework,I6f8f55963f3f5261ec1497b650e0ca509d31dd32,Add plan parameter to run_ansible_playbook function,MERGED,2019-07-17 13:33:24.000000000,2019-07-31 17:40:31.000000000,2019-07-31 17:40:31.000000000,24,11,3,671289,17e56a01d5d1efbb9307addb80a92fe242595412,32,9,7,4,11491,Gael Chamoulaud,gchamoul,"Add plan parameter to run_ansible_playbook function

This patch adds a new parameter called 'plan' (Defaults to ""overcloud"")
to the 'run_ansible_playbook' function. It will allow to execute
Validations with Ansible in a different plan or stack that the default
one through the TripleO CLI. Note That it was already possible only
while using Mistral but not for Ansible.

This patch also brings:
- Change the default values of the 'tags' and 'skip_tags' arguments
  to 'None' and fixes their non Pythonic tests.
- Add '--stack' alias to the '--plan' argument for 'validator run'
  command.

Change-Id: I6f8f55963f3f5261ec1497b650e0ca509d31dd32
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fpython-tripleoclient~stable%2Fstein~I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20,openstack/python-tripleoclient,stable/stein,bp/validation-framework-stable/stein,I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20,Add --parameters and --create-vars-file arguments to the list subcommand,MERGED,2019-07-31 08:40:14.000000000,2019-07-31 17:40:30.000000000,2019-07-31 17:40:30.000000000,185,12,0,673759,55fe3842a347f628a91dfd1d8343b0f6afc01a42,8,6,1,5,11491,Gael Chamoulaud,gchamoul,"Add --parameters and --create-vars-file arguments to the list subcommand

The 'openstack tripleo validator list' subcommand can now get only the
available parameters for the validations using the new --parameters
argument.

```
$ openstack tripleo validator list \
    --parameters                   \
    [--validation-name <validation_id>[,<validation_id>,...] |
     --group <group>[,<group>,...]]
```

Here is an output example:

```
Waiting for messages on queue 'tripleo' with no timeout.
{
    ""undercloud-cpu"": {
        ""parameters"": {
            ""min_undercloud_cpu_count"": 8
        }
    },
    ""undercloud-ram"": {
        ""parameters"": {
            ""min_undercloud_ram_gb"": 24
        }
    }
}
```

The --create-vars-file allow the operator to generate either a JSON or a
YAML file containing only the parameters of one or multiple validations.
This file will be available to pass as extra vars to the validations
execution.

```
$ openstack tripleo validator list \
    --parameters                   \
    --create-vars-file [json|yaml] /home/stack/myvars \
    [--validation-name <validation_id>[,<validation_id>,...] |
     --group <group>[,<group>,...]]
```

Change-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit d1084193f6d60559f28b8b71fc0f0f6c032b09c7)
"
openstack%2Fpython-tripleoclient~stable%2Fstein~Idff6bcebc041db483d64396249b040e6bdd778bd,openstack/python-tripleoclient,stable/stein,bp/validation-framework-stable/stein,Idff6bcebc041db483d64396249b040e6bdd778bd,Allow running validations with custom extra variables,MERGED,2019-07-31 08:35:52.000000000,2019-07-31 17:40:30.000000000,2019-07-31 17:40:29.000000000,142,84,0,673756,f42e42629a0e1aa55ac82eb6486e34987e414ac2,7,7,1,3,11491,Gael Chamoulaud,gchamoul,"Allow running validations with custom extra variables

This patch adds the ability to pass extra variables to the validations
execution through Mistral and 'ansible-playbook'.

By default, the CLI is running the validations through
'ansible-playbook', then the operator will have two possible ways to
process it;

Either passing a Dict with the new --extra-vars argument

```
$ openstack tripleo validator run \
    --extra-vars '{""min_undercloud_ram_gb"": 2}'
    --validation-name undercloud-ram
```

or passing the absolute path of a JSON/YAML file using --extra-vars-file
argument.

```
$ cat /home/stack/vars.json
{
  ""volumes"": [
    {""min_size"": 10, ""mount"": ""/var/lib/docker""},
    {""min_size"": 3,  ""mount"": ""/var/lib/config-data""},
    {""min_size"": 3,  ""mount"": ""/var/log""},
    {""min_size"": 5,  ""mount"": ""/usr""},
    {""min_size"": 20, ""mount"": ""/var""},
    {""min_size"": 25, ""mount"": ""/""}
  ]
}
$ openstack tripleo validator run \
    --extra-vars-file /home/stack/vars.json
    --validation-name undercloud-disk-space
```

If the operator wants to use Mistral, she/he will just need to add the
--use-mistral argument to the command line in the previous
examples.

Note that Mistral will only support a valid JSON file as input.

Change-Id: Idff6bcebc041db483d64396249b040e6bdd778bd
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit d13a7d501eba4b25091f16cb9edc374b40ceb8ce)
"
openstack%2Ftripleo-heat-templates~master~I34dcc5d5c918c9ae3df14f8434225e4a0835fc27,openstack/tripleo-heat-templates,master,bp/reduce-deployment-resources,I34dcc5d5c918c9ae3df14f8434225e4a0835fc27,Drop HeatApiCfn service from undercloud,MERGED,2019-07-30 04:40:44.000000000,2019-07-31 17:30:32.000000000,2019-07-31 17:30:32.000000000,1,0,0,673398,65c7f166f75a08a12eaa932165a00de79cf782b4,11,6,1,1,8833,Rabi Mishra,rabi,"Drop HeatApiCfn service from undercloud

We don't use heat-api-cfn service on the undercloud. In
pre config-download times it was used for default deployment
signaling.

Change-Id: I34dcc5d5c918c9ae3df14f8434225e4a0835fc27
"
openstack%2Fnova-powervm~master~I97907720925901b2c789d3da38fdd62772e0a6a8,openstack/nova-powervm,master,,I97907720925901b2c789d3da38fdd62772e0a6a8,Updated Libraries:,MERGED,2019-07-22 18:16:56.000000000,2019-07-31 17:24:06.000000000,2019-07-22 18:57:24.000000000,34,26,1,672125,5de7a5ebdca34ba56407c9e8cece6953278ce27f,8,2,1,2,28063,VEDA,VedaAnnayappa,"Updated Libraries:

Added/Updated the versions of libraris used to be in sync with
openstack-nova

Change-Id: I97907720925901b2c789d3da38fdd62772e0a6a8
"
openstack%2Fopenstack-ansible~master~I4bd706cfc58034a3d8052ad44cea7c8ad6e2fd2c,openstack/openstack-ansible,master,make-centos-great,I4bd706cfc58034a3d8052ad44cea7c8ad6e2fd2c,doc: stop marking CentOS as experimental,MERGED,2019-07-25 14:09:30.000000000,2019-07-31 17:12:40.000000000,2019-07-25 20:08:12.000000000,1,1,0,672735,1db702d0e99bf72c8e9b724212ca9476002f5be3,8,3,1,1,1004,Mohammed Naser,mnaser,"doc: stop marking CentOS as experimental

Change-Id: I4bd706cfc58034a3d8052ad44cea7c8ad6e2fd2c
"
openstack%2Fopenstack-ansible-os_nova~master~Ic5548f08d200402538a0334f801834ee7ef8a39b,openstack/openstack-ansible-os_nova,master,fix-ironic,Ic5548f08d200402538a0334f801834ee7ef8a39b,tasks: add conditionals for ironic,MERGED,2019-07-29 15:48:13.000000000,2019-07-31 17:12:28.000000000,2019-07-29 21:30:38.000000000,4,10,0,673316,efe094aa674c1444473e55a178dfc98ea80e59ad,10,5,1,4,1004,Mohammed Naser,mnaser,"tasks: add conditionals for ironic

This patch avoids running the nova_compute.yml playbook
entirely because we already skip the setup portion and we
don't need to setup SSH keys (as there's no live migration)
nor setting up NFS.

It also gets rid of the set_fact inside nova_virt_detect.yml
because it was non-functional in the first place.  This is
because the nova_virt_type was set to 'ironic' in the
group_vars which meant that the autodetect code was
skipped and therefore that portion never ran.

Change-Id: Ic5548f08d200402538a0334f801834ee7ef8a39b
"
openstack%2Fopenstack-ansible-tests~stable%2Fstein~I335e0cefa7b97c0a1ada2d8c54d03e031af823c5,openstack/openstack-ansible-tests,stable/stein,osa-update-ansible,I335e0cefa7b97c0a1ada2d8c54d03e031af823c5,Update ansible to 2.7.12,MERGED,2019-07-30 12:55:47.000000000,2019-07-31 17:06:22.000000000,2019-07-31 17:06:22.000000000,1,1,0,673508,eb4c04a9e1c00610210f508cac84ceade8c95df9,7,3,1,1,25023,Jonathan Rosser,jrosser,"Update ansible to 2.7.12

Change-Id: I335e0cefa7b97c0a1ada2d8c54d03e031af823c5
"
openstack%2Fdevstack~master~If7f43ac32da46c95e02b77241ad56d8bd22be378,openstack/devstack,master,ironic/skip-libvirt-config,If7f43ac32da46c95e02b77241ad56d8bd22be378,"When deploying to hardware in ironic, do not configure libvirt",ABANDONED,2019-04-17 15:12:21.000000000,2019-07-31 17:02:30.000000000,,4,2,0,653463,c7beec70095a77db2b860e6913fd640e6f37899c,8,6,1,1,11929,Michael Turek,mjturek,"When deploying to hardware in ironic, do not configure libvirt

When deploying to hardware in ironic, devstack will skip the install
of libvirt, as it is not used. [0] Currently the hypervisor-ironic
nova plugin configures libvirt even if libvirt install is skipped. This
causes failures in environments that deploys to hardware targets rather
than VM targets. [1]

[0] https://github.com/openstack-dev/devstack/blob/master/lib/nova_plugins/hypervisor-ironic#L60-L62
[1] https://dal05.objectstorage.softlayer.net/v1/AUTH_3d8e6ecb-f597-448c-8ec2-164e9f710dd6/pkvmci/ironic/82/648382/4/check-ironic/tempest-dsvm-ironic-agent_ipmitool/e84c583/devstacklog.txt.gz

Change-Id: If7f43ac32da46c95e02b77241ad56d8bd22be378
"
openstack%2Fpuppet-ceph~stable%2Fjewel~I0a1adb01f9cd2d154581102b8b62df067cd7b845,openstack/puppet-ceph,stable/jewel,meh,I0a1adb01f9cd2d154581102b8b62df067cd7b845,DNM trying to fix mimic ci,ABANDONED,2019-07-31 16:34:46.000000000,2019-07-31 16:55:53.000000000,,1,0,0,673869,d8ee7f5cd4d9265461a681c91dcf00b98f040380,2,0,1,1,14985,Alex Schultz,mwhahaha,"DNM trying to fix mimic ci

Change-Id: I0a1adb01f9cd2d154581102b8b62df067cd7b845
"
openstack%2Fcinderlib~master~I5a4663b286a5181924c0c1eab62fdf2e52863f80,openstack/cinderlib,master,allow-overwrite-test-config,I5a4663b286a5181924c0c1eab62fdf2e52863f80,Allow overriding CL_FTEST_CFG,ABANDONED,2019-07-30 15:27:02.000000000,2019-07-31 16:54:05.000000000,,2,2,0,673558,4bad953a43b905bdc8ffc75209ddc08a8fae81ed,7,2,2,2,10459,Luigi Toscano,ltoscano,"Allow overriding CL_FTEST_CFG

Otherwise it is not possible for tests to set a full path.

Change-Id: I5a4663b286a5181924c0c1eab62fdf2e52863f80
"
openstack%2Fmanila-ui~master~I5dbf20a04afea7db1fbff93b8584db853d4a1a6d,openstack/manila-ui,master,,I5dbf20a04afea7db1fbff93b8584db853d4a1a6d,Replace the old-operator in installation docs,MERGED,2019-07-31 11:59:13.000000000,2019-07-31 16:47:17.000000000,2019-07-31 16:47:16.000000000,1,1,0,673796,09dd8bc773623606f4d341c1a5dad8aca0606939,6,2,1,1,26458,Brin Zhang,zhangbailin,"Replace the old-operator in installation docs

Now the *Shares* in Horizon Dashboard under the 'Project' -> 'Share',
not under the 'Compute'.

Change-Id: I5dbf20a04afea7db1fbff93b8584db853d4a1a6d
"
openstack%2Fplacement~master~I2809c6be60ac102b40c942483a6cdbc0d113117f,openstack/placement,master,sphinx,I2809c6be60ac102b40c942483a6cdbc0d113117f,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-31 08:42:35.000000000,2019-07-31 16:45:51.000000000,2019-07-31 16:45:50.000000000,1,1,0,673760,835081ac363a122153323df26c173ddee305801c,8,4,1,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I2809c6be60ac102b40c942483a6cdbc0d113117f
"
openstack%2Fkeystone~master~I63e3715032cd8edb11fbff7651f5ba1af506dc9d,openstack/keystone,master,utf8-decode,I63e3715032cd8edb11fbff7651f5ba1af506dc9d,Fix python3 compatibility on LDAP search DN from id,MERGED,2019-07-24 13:24:28.000000000,2019-07-31 16:45:49.000000000,2019-07-31 16:45:49.000000000,2,3,0,672519,03531a56910b12922afde32b40e270b7d68a334b,18,7,1,1,8866,Raildo Mascena de Sousa Filho,raildo,"Fix python3 compatibility on LDAP search DN from id

In Python 3, python-ldap no longer allows bytes for some fields (DNs,
RDNs, attribute names, queries). Instead, text values are represented
as str, the Unicode text type.

[1] More details about byte/str usage in python-ldap can be found at:
http://www.python-ldap.org/en/latest/bytes_mode.html#bytes-mode

Change-Id: I63e3715032cd8edb11fbff7651f5ba1af506dc9d
Related-Bug: #1798184
"
openstack%2Fcinder~master~I8d46acade9d3e7b9e5f959f6591ec276183e6fd7,openstack/cinder,master,,I8d46acade9d3e7b9e5f959f6591ec276183e6fd7,Update json module to jsonutils,ABANDONED,2019-02-17 14:42:27.000000000,2019-07-31 16:43:51.000000000,,79,89,4,637428,d2ff8da8d6974e261c954f637402d12e421731a4,88,30,6,75,27781,zhulingjie,zhulingjie,"Update json module to jsonutils

oslo project provide jsonutils, and cinder use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/cinder/search?q=jsonutils&unscoped_q=jsonutils

Change-Id: I8d46acade9d3e7b9e5f959f6591ec276183e6fd7
"
openstack%2Fkeystone-tempest-plugin~master~I7ec5b27c2f9c40fc85f63fc94eff8f12d83e91ce,openstack/keystone-tempest-plugin,master,,I7ec5b27c2f9c40fc85f63fc94eff8f12d83e91ce,fix the url in doc,NEW,2018-12-26 07:21:08.000000000,2019-07-31 16:42:41.000000000,,1,1,2,627357,3cbb97318880512ae572ee14373fe0181c747508,10,7,2,1,28543,shupeng,Vieri,"fix the url in doc

Change-Id: I7ec5b27c2f9c40fc85f63fc94eff8f12d83e91ce
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I4f2f69f00cad54c3c767f54de54dc9a061b02b8d,openstack/tripleo-heat-templates,stable/rocky,libvirt-guests_started-rocky,I4f2f69f00cad54c3c767f54de54dc9a061b02b8d,Make sure libvirt-guests get started,MERGED,2019-07-29 10:04:54.000000000,2019-07-31 16:41:08.000000000,2019-07-31 16:41:08.000000000,1,0,0,673254,c93ea353f01312c62f581c68958dea1533634855,11,8,1,1,17216,Martin Schuppert,mcschupp,"Make sure libvirt-guests get started

Right now the libvirt-guests gets enabled, but not started during
initial deploy. Make sure we start the service.

 Conflicts:
	deployment/nova/nova-compute-container-puppet.yaml

Change-Id: I4f2f69f00cad54c3c767f54de54dc9a061b02b8d
(cherry picked from commit cf2e5926e480a36246c912ff7ff4ab58095fe7cd)
(cherry picked from commit 5b681900cbacdb2e30ba2833b0e8719e802d50e6)
"
openstack%2Frally-openstack~master~I6b1d0e97ecdf9a2befa2a052a1743916d662d136,openstack/rally-openstack,master,manila,I6b1d0e97ecdf9a2befa2a052a1743916d662d136,Add vars and enable manila jobs,MERGED,2019-07-29 23:41:27.000000000,2019-07-31 16:38:54.000000000,2019-07-31 16:38:54.000000000,96,7,6,673374,68f86c94473c32d4798869346b8ac88d971ffe91,17,3,6,2,16643,Goutham Pacha Ravi,gouthamr,"Add vars and enable manila jobs

Manila needs a ""backend"" to be configured; the
one provided by default is unsuitable to test
performance of the API since we may have too many
false positives if tests fail.

Add a ""rally-task-manila-ss"" job alongside
""rally-task-manila-no-ss"" job to cover both driver
modes supported by manila.

Change-Id: I6b1d0e97ecdf9a2befa2a052a1743916d662d136
"
openstack%2Fopenstack-ansible-os_placement~master~I342dd945b823b2b8134d759df2e2e2dd06a74ad4,openstack/openstack-ansible-os_placement,master,example_playbook,I342dd945b823b2b8134d759df2e2e2dd06a74ad4,Add example playbbok,MERGED,2019-07-31 08:43:30.000000000,2019-07-31 16:32:31.000000000,2019-07-31 16:32:31.000000000,12,0,0,673761,67f77de713324a8b83dffb9d5d3da5e05d6dc6a8,7,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add example playbbok

Add playbook as an example, since it was included in docs,
but was empty.

Change-Id: I342dd945b823b2b8134d759df2e2e2dd06a74ad4
"
openstack%2Ftripleo-validations~master~Id1f37466134b6506582bcea319fdbabc266cca5f,openstack/tripleo-validations,master,,Id1f37466134b6506582bcea319fdbabc266cca5f,Update tox requirements for Molecule tests.,ABANDONED,2019-07-30 21:02:35.000000000,2019-07-31 16:26:12.000000000,,28,4,0,673691,89cdb99f90fa2a3c016d6c67fe2b401724c3f5ed,6,1,3,1,25877,Luke Short,ekultails,"Update tox requirements for Molecule tests.

This puts tripleo-validations in-line with how tripleo-common
handles Molecule tests. It also helps address dependency
issues encountered in CI with the Stein branch.

Change-Id: Id1f37466134b6506582bcea319fdbabc266cca5f
Signed-off-by: Luke Short <ekultails@gmail.com>
"
openstack%2Fnova~master~I14314ea73c60317ebd2e091631411f26d2f7c550,openstack/nova,master,,I14314ea73c60317ebd2e091631411f26d2f7c550,rt: remove misleading log in _remove_deleted_instances_allocations,ABANDONED,2019-07-30 22:27:43.000000000,2019-07-31 16:22:18.000000000,,2,3,8,673706,b4c478c77c9712c8fddd2d476363900d5668fadf,13,10,1,1,6873,Matt Riedemann,mriedem,"rt: remove misleading log in _remove_deleted_instances_allocations

The ResourceTracker has not ""healed"" allocations since ironic
driver specific support was removed [1] and before that Ocata
compute compat was removed [2]. This change simply removes the
part of the log message saying allocation healing will be skipped
when there is an instance with allocations against the compute but
the instance.host is not yet set, e.g. if the instance build is
waiting to acquire the COMPUTE_RESOURCE_SEMAPHORE lock.

[1] If272365e58a583e2831a15a5c2abad2d77921729
[2] I39d93dbf8552605e34b9f146e3613e6af62a1774

Change-Id: I14314ea73c60317ebd2e091631411f26d2f7c550
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I4f2f69f00cad54c3c767f54de54dc9a061b02b8d,openstack/tripleo-heat-templates,stable/stein,libvirt-guests_started-stein,I4f2f69f00cad54c3c767f54de54dc9a061b02b8d,Make sure libvirt-guests get started,MERGED,2019-07-29 10:02:28.000000000,2019-07-31 16:16:04.000000000,2019-07-31 16:16:03.000000000,2,0,0,673253,5b681900cbacdb2e30ba2833b0e8719e802d50e6,14,9,1,1,17216,Martin Schuppert,mcschupp,"Make sure libvirt-guests get started

Right now the libvirt-guests gets enabled, but not started during
initial deploy. Make sure we start the service.

Change-Id: I4f2f69f00cad54c3c767f54de54dc9a061b02b8d
(cherry picked from commit cf2e5926e480a36246c912ff7ff4ab58095fe7cd)
"
openstack%2Ftripleo-ci~master~I6d4f68f26b8b541bb79ae17f08015d5f27c9b7c3,openstack/tripleo-ci,master,rhel8-build-images,I6d4f68f26b8b541bb79ae17f08015d5f27c9b7c3,Fix python shebang to match python3,MERGED,2019-07-25 14:53:02.000000000,2019-07-31 16:16:02.000000000,2019-07-31 16:16:02.000000000,34,0,10,672750,91292bca8299bb9c301d2784a614bfbeee561242,26,8,3,2,10969,Shnaidman Sagi (Sergey),sergsh,"Fix python shebang to match python3

In some of scripts we still have python shebang ""#!/usr/bin/env python""
which fails in python3 hosts.
In packages it's fixed by adding pathfix.py tasks to spec files.
Add the same behavior here as we build from source, not packages.

Change-Id: I6d4f68f26b8b541bb79ae17f08015d5f27c9b7c3
"
openstack%2Fironic~master~I33b99bc7fc1033b693a3748322c1878e4c9231d7,openstack/ironic,master,ci,I33b99bc7fc1033b693a3748322c1878e4c9231d7,CI Documentation,MERGED,2019-07-25 16:15:44.000000000,2019-07-31 16:14:30.000000000,2019-07-31 10:21:29.000000000,234,0,58,672778,083cd44604005fefc03647f49d0c719857b76097,33,6,5,4,15519,Iury Gregory Melo Ferreira,iurygregory,"CI Documentation

- Jobs description: Help people understand
what each job does in our CI.
- How to add a new Job
- How to initially debug failures in jobs.

Change-Id: I33b99bc7fc1033b693a3748322c1878e4c9231d7
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~Icac13112655cd1d51170829fb0ac897473d30eaf,openstack/tripleo-heat-templates,stable/stein,,Icac13112655cd1d51170829fb0ac897473d30eaf,Updates the cephfs_pools format to match that of openstack_pools,MERGED,2019-07-30 15:49:15.000000000,2019-07-31 16:13:59.000000000,2019-07-31 16:13:59.000000000,19,13,0,673569,3746b91335397ba9dd6f1e3b305f474b069001fa,8,4,1,1,6796,Giulio Fidente,gfidente,"Updates the cephfs_pools format to match that of openstack_pools

We did not keep the cephfs_pools format updated as we did with
openstack_pools; ceph-ansible rc11 has a backward incompat issue
with the old format.

Change-Id: Icac13112655cd1d51170829fb0ac897473d30eaf
Closes-Bug: 1837195
(cherry picked from commit 51624fa82da3daa5b4cdce664648f9d736bbc4ab)
"
openstack%2Ftripleo-quickstart~master~I507414a4df0a011a6babb784d7db64ace3cb36f3,openstack/tripleo-quickstart,master,,I507414a4df0a011a6babb784d7db64ace3cb36f3,DNM: step by step repos,ABANDONED,2019-07-31 13:35:40.000000000,2019-07-31 16:09:59.000000000,,11,17,0,673811,fccc0c356c4acaf5c413f42baab24c597961ebc4,2,0,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM: step by step repos

Change-Id: I507414a4df0a011a6babb784d7db64ace3cb36f3
"
openstack%2Frequirements~master~I5af1190650048c2afec43feb08f2f5486fcfca26,openstack/requirements,master,pyghmi,I5af1190650048c2afec43feb08f2f5486fcfca26,Exclude pyghmi 1.4.0,MERGED,2019-07-29 14:42:29.000000000,2019-07-31 15:57:45.000000000,2019-07-31 15:57:44.000000000,1,1,0,673305,f7b60f6b3261bb6fb4e23ae217fc2c0d886e86ee,11,4,2,1,10239,Dmitry Tantsur,dtantsur,"Exclude pyghmi 1.4.0

It seems to break virtualbmc, and thus ironic. It hasn't hit
upper-constraints yet, but for some reason ironic jobs use pyghmi
from git.

Change-Id: I5af1190650048c2afec43feb08f2f5486fcfca26
Story: #2006301
Task: #36015
"
openstack%2Fnova~master~I1641cbe06b7fd3f773a0a9779c94f3efb0c8dac8,openstack/nova,master,bp/openstacksdk-in-nova,I1641cbe06b7fd3f773a0a9779c94f3efb0c8dac8,Use OpenStack SDK for placement,MERGED,2019-04-26 21:38:21.000000000,2019-07-31 15:57:36.000000000,2019-07-31 15:57:36.000000000,17,19,3,656023,2a2379a63cab4414676882c068d25163874cf08e,162,22,11,2,14070,Eric Fried,efried,"Use OpenStack SDK for placement

This swaps the SchedulerReportClient's raw KSA Adapter for the placement
Proxy (which is an Adapter subclass) from an OpenStack SDK Connection.

Part of blueprint openstacksdk-in-nova

Change-Id: I1641cbe06b7fd3f773a0a9779c94f3efb0c8dac8
"
openstack%2Fnova~master~I49f364e01e2a18de0c95674654fc72acea019e76,openstack/nova,master,bp/openstacksdk-in-nova,I49f364e01e2a18de0c95674654fc72acea019e76,Introduces the openstacksdk to nova,MERGED,2019-03-15 19:21:55.000000000,2019-07-31 15:57:29.000000000,2019-07-31 15:57:29.000000000,259,46,37,643664,9f64b9900e705e040aadb07ec3b9db140b4fc11b,258,22,23,6,14070,Eric Fried,efried,"Introduces the openstacksdk to nova

Enables the use of the sdk instead of ksa adapter or python-*client.
It is provided by a get_sdk_adapter method which constructs an
authenticated SDK Connection object using provided service configuration.
This change should be transparent to operators of services which already
use ksa as get_sdk_adapter uses the same conf options from keystoneauth1.

Blueprint: openstacksdk-in-nova
Co-Authored-By: Dustin Cowles <dustin.cowles@intel.com>
Change-Id: I49f364e01e2a18de0c95674654fc72acea019e76
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I630a4a65c30928a8dd8cca59c39792afd7302ca6,openstack/tripleo-heat-templates,stable/stein,,I630a4a65c30928a8dd8cca59c39792afd7302ca6,Prefer CephPoolDefaultPgNum over counterintuitive Manila specific params,MERGED,2019-07-30 15:49:15.000000000,2019-07-31 15:52:30.000000000,2019-07-31 15:52:30.000000000,34,9,0,673568,3719af16661c118ef810dd4b5b4b01cac5b0dba0,10,6,1,1,6796,Giulio Fidente,gfidente,"Prefer CephPoolDefaultPgNum over counterintuitive Manila specific params

We used to look at CephPoolDefaultPgNum to set the pg_num of all but
the Manila pools. This seems counterintuitive, especially because specific
pools pg_num can be overridden using the CephPools parameter. This
change deprecates the old Manila specific parameters.

Change-Id: I630a4a65c30928a8dd8cca59c39792afd7302ca6
(cherry picked from commit 634be405da07195dc7e107c575e715cf3960a250)
"
openstack%2Fnova~master~I43e34b3ff1424d42632a3e8f842c93508905aa1a,openstack/nova,master,bug/1834349,I43e34b3ff1424d42632a3e8f842c93508905aa1a,Fix AttributeError in RT._update_usage_from_migration,MERGED,2019-06-26 17:38:25.000000000,2019-07-31 15:45:48.000000000,2019-07-31 15:04:47.000000000,31,2,1,667687,818419c9d313bd6151d1a05b3a087a15116f61b8,26,13,1,2,6873,Matt Riedemann,mriedem,"Fix AttributeError in RT._update_usage_from_migration

Change Ieb539c9a0cfbac743c579a1633234537a8e3e3ee in Stein
added some logging in _update_usage_from_migration to log
the flavor for an inbound and outbound migration.

If an instance is resized and then the resize is immediately
confirmed, it's possible to race with ComputeManager._confirm_resize
setting the instance.old_flavor to None before the migration
status is changed to ""confirmed"" while the update_available_resource
periodic is running which will result in _update_usage_from_migration
hitting an AttributeError when trying to log instance.old_flavor.flavorid
since instance.old_flavor is None.

There are a few key points there:

- We get into _update_usage_from_migration because the
  _update_available_resource method gets in-progress migrations
  related to the host (in this case the source compute) and the
  migration is consider in-progress until its status is ""confirmed"".

- The instance is not in the tracked_instances dict when
  _update_usage_from_migration runs because RT only tracks instances
  where the instance.host matches the RT.host and in this case the
  instance has been resized to another compute and the instance.host
  is pointing at the dest compute.

The fix here is to simply check if we got the instance.old_flavor and
not log the message if we do not have it, which gets us back to the old
behavior.

This bug was found by noticing it in CI job logs - there is a link to
hits in logstash in the bug report.

As for the ""incoming and not tracked"" case in _update_usage_from_migration
I have not modified that since I am not sure we have the same race nor
have I seen it in CI logs.

Change-Id: I43e34b3ff1424d42632a3e8f842c93508905aa1a
Closes-Bug: #1834349
"
openstack%2Fironic-python-agent~master~I855e6e02a33bcf146497089319445d76652f0691,openstack/ironic-python-agent,master,gate,I855e6e02a33bcf146497089319445d76652f0691,CI: stop using pyghmi from git master,MERGED,2019-07-30 08:34:27.000000000,2019-07-31 15:43:49.000000000,2019-07-31 02:31:39.000000000,0,5,0,673450,e1b630dd841363d1e1d322628ce667705f309467,12,6,1,5,10239,Dmitry Tantsur,dtantsur,"CI: stop using pyghmi from git master

Change-Id: I855e6e02a33bcf146497089319445d76652f0691
"
openstack%2Fproject-config~master~I515ef671541456927bf914d2ff0b8fc6521228ab,openstack/project-config,master,fortnebula-fip,I515ef671541456927bf914d2ff0b8fc6521228ab,Set auto-floating-ip to False for fortnebula,ABANDONED,2019-07-31 15:37:41.000000000,2019-07-31 15:39:21.000000000,,1,0,0,673852,d840e9187cbb3142d0f3cfcbdb0f066f7ac28992,2,0,1,1,3099,David Shrewsbury,dshrews,"Set auto-floating-ip to False for fortnebula

Change-Id: I515ef671541456927bf914d2ff0b8fc6521228ab
"
openstack%2Fopenstack-helm-images~master~I16326bcecf6f5c89229d2904027c795af08d8f17,openstack/openstack-helm-images,master,nagios-version-update,I16326bcecf6f5c89229d2904027c795af08d8f17,Nagios: Update Nagios Core version to 4.4.3,MERGED,2019-07-16 13:17:51.000000000,2019-07-31 15:36:10.000000000,2019-07-31 15:33:24.000000000,1,1,0,671030,1b7da480c49353bc3050d514729c49e4bf953690,17,8,3,1,17591,Steve Wilkerson,srwilkers,"Nagios: Update Nagios Core version to 4.4.3

Change-Id: I16326bcecf6f5c89229d2904027c795af08d8f17
Signed-off-by: Steve Wilkerson <sw5822@att.com>
"
openstack%2Fkolla-cli~master~I764599673d44c33ce6622bf97988f372a7a26285,openstack/kolla-cli,master,,I764599673d44c33ce6622bf97988f372a7a26285,Add service and host check for API,MERGED,2019-07-30 14:26:57.000000000,2019-07-31 15:31:25.000000000,2019-07-31 15:31:25.000000000,56,0,3,673537,679824b687e8dddc5d7f964a4d833cc4133eb373,28,3,9,3,30356,gugug,gujin,"Add service and host check for API

now, the action will run even though the service or the host are
invaild, this PS to check them before the action executed.

Change-Id: I764599673d44c33ce6622bf97988f372a7a26285
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I718cd33513607efefb2cef3ebe110c523f6c6c6a,openstack/tripleo-heat-templates,stable/stein,bug/1838460,I718cd33513607efefb2cef3ebe110c523f6c6c6a,Disable ceph-dashboard by default in Stein,MERGED,2019-07-30 20:11:48.000000000,2019-07-31 15:11:13.000000000,2019-07-31 15:11:13.000000000,1,0,0,673675,d89fe28b3ede2b02066de66fb4555423993827fc,9,5,1,1,18002,John Fulton,fultonj,"Disable ceph-dashboard by default in Stein

ceph-ansible 4 recently changed defaults and now
deploys dashboard by default. This will cause a
TripleO Stein deployment to fail unless additional
parameters are added which Stein does not support.
Opt to override this new ceph-ansible default in
Stein (master, the future Train) will support it
however.

This patch is going directly into Stein instead of
being added to master and then being backported,
since master has a CephEnableDashboard parameter
in addition to plenty of code to correctly set up
the dashboard which would be too much to backport.
Instead of misleading the user with a non-working
CephEnableDashboard parameter, we just directly
pass a flag to ceph-ansible to disable it.

Closes-Bug: #1838460

Change-Id: I718cd33513607efefb2cef3ebe110c523f6c6c6a
"
openstack%2Fnova~master~I56b145dd9ac8896c14a054125d178a7b3578e54e,openstack/nova,master,bug/1834349,I56b145dd9ac8896c14a054125d178a7b3578e54e,Fix RT init arg order in test_unsupported_move_type,MERGED,2019-06-26 17:38:25.000000000,2019-07-31 15:04:57.000000000,2019-07-31 15:04:57.000000000,2,2,0,667688,7460f267418ee4ba35427e80c673483900ea818a,13,9,1,1,6873,Matt Riedemann,mriedem,"Fix RT init arg order in test_unsupported_move_type

The RT init args are (host, driver) so this fixes the
simple, and apparently doesn't really matter, args
in the test. I'm fixing here so those copying and building
on that test don't make the same mistake where it does matter.

Change-Id: I56b145dd9ac8896c14a054125d178a7b3578e54e
"
openstack%2Fcinder~master~I12b868f9ce3f5c723dc14f3b1cc4a8e8a2ab7f5c,openstack/cinder,master,653649,I12b868f9ce3f5c723dc14f3b1cc4a8e8a2ab7f5c,Correct the exception msg of ImageUnacceptable,NEW,2019-04-18 03:20:28.000000000,2019-07-31 15:02:20.000000000,,42,36,7,653649,dde40d1a650d38718f91618ef26d4d127f70801b,121,40,5,2,25837,yenai,yenai2008,"Correct the exception msg of ImageUnacceptable

1. The qemu-img of cinder-volume node is not installed.
2. Create a boot-volume from a qcow2 image.
3. It will fail, and raise ImageUnacceptable exception. The output
   is like this: qemu-img is not installed and image is of type
   False. Only RAW images can be used if qemu-img is not installed.

Obviously, the description in step3 should be [... and image is of
type qcow2 ...], qcow2 is the disk format of the image.
This patch fix this.

Change-Id: I12b868f9ce3f5c723dc14f3b1cc4a8e8a2ab7f5c
Closes-Bug: #1825277
"
openstack%2Fmonasca-transform~master~I9786d49d9fa21e13fbfc81265e12af046dfb59dd,openstack/monasca-transform,master,python3-train,I9786d49d9fa21e13fbfc81265e12af046dfb59dd,Add Python 3 Train unit tests,MERGED,2019-07-05 17:16:05.000000000,2019-07-31 14:51:19.000000000,2019-07-31 14:51:18.000000000,5,3,0,669407,0184fd27cd9e7aa8ffdc71fa59e8ab9eac91e165,12,4,2,3,11805,Corey Bryant,coreycb,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I9786d49d9fa21e13fbfc81265e12af046dfb59dd
Story: #2005924
Task: #34223
"
openstack%2Fironic-prometheus-exporter~master~Ia70aa2b2476f2b3f2a35c8e9bd2add2345c3f985,openstack/ironic-prometheus-exporter,master,timestamp_metric,Ia70aa2b2476f2b3f2a35c8e9bd2add2345c3f985,Payload Timestamp Metric,MERGED,2019-07-18 15:45:39.000000000,2019-07-31 14:50:12.000000000,2019-07-29 18:58:05.000000000,29,0,22,671514,80e6fc9c867b4d8a5e285536637a1c0136c11d38,21,5,2,3,15519,Iury Gregory Melo Ferreira,iurygregory,"Payload Timestamp Metric

Adds a metric that shows when was the last collection
of the sensor data

Change-Id: Ia70aa2b2476f2b3f2a35c8e9bd2add2345c3f985
"
openstack%2Freleases~master~I00cd63593ad2bb7243cf12789983d73c200b4f14,openstack/releases,master,ironic-lib,I00cd63593ad2bb7243cf12789983d73c200b4f14,Release ironic-lib 2.19.0 for Train,MERGED,2019-07-31 14:03:02.000000000,2019-07-31 14:31:58.000000000,2019-07-31 14:31:58.000000000,5,1,0,673826,2c9de5d689c85f1762e6c886f0ea91d7ba8ad19e,6,2,1,1,10239,Dmitry Tantsur,dtantsur,"Release ironic-lib 2.19.0 for Train

Change-Id: I00cd63593ad2bb7243cf12789983d73c200b4f14
"
openstack%2Ftripleo-common~master~I1190888e6016e7c6b1fcdad7b87b6e433b0f0019,openstack/tripleo-common,master,mistral-removal,I1190888e6016e7c6b1fcdad7b87b6e433b0f0019,Remove the tripleo.plan_management.v1.select_roles workflow,MERGED,2019-07-04 12:25:41.000000000,2019-07-31 14:16:28.000000000,2019-07-31 14:16:28.000000000,0,90,0,669164,9483cd7f4dfae76436931f997cd4d1fe6f02857e,18,6,4,1,9712,Dougal Matthews,dougal,"Remove the tripleo.plan_management.v1.select_roles workflow

This was only used by tripleo-ui and is no longer needed.

Related-bug: #1835242
Change-Id: I1190888e6016e7c6b1fcdad7b87b6e433b0f0019
"
openstack%2Fironic-lib~master~Ic3963e5c4a1886aeabed6c5994599e72040a251e,openstack/ironic-lib,master,p-scheme,Ic3963e5c4a1886aeabed6c5994599e72040a251e,Use last digit to determine paritition naming scheme,MERGED,2019-07-04 11:46:23.000000000,2019-07-31 13:58:04.000000000,2019-07-04 17:16:40.000000000,14,6,3,669153,cd51319528bb2333139c7cefb68e7e6e27df740a,17,5,2,3,28048,Will Szumski,jovial,"Use last digit to determine paritition naming scheme

This matches the behaviour of the linux kernel, see:

https://github.com/torvalds/linux/blob/d3511f53bb2475f2a4e8460bee5a1ae6dea2a433/block/partition-generic.c#L39

Change-Id: Ic3963e5c4a1886aeabed6c5994599e72040a251e
Story: 2006154
Task: 35656
"
openstack%2Fpuppet-tripleo~master~Ib385c75dc9efe4832a43e8143bd70fcacb7411f6,openstack/puppet-tripleo,master,bug/1829062,Ib385c75dc9efe4832a43e8143bd70fcacb7411f6,Apache MPM event for better TCP keep alive in WSGI,ABANDONED,2019-07-03 10:52:11.000000000,2019-07-31 13:56:11.000000000,,13,0,6,668862,dec62a3341cfeca0ed3904e778095dfaf63b7f47,80,9,10,2,6926,Bogdan Dobrelya,bogdando,"Apache MPM event for better TCP keep alive in WSGI

We are used to tune httpd MPM for mod_wsgi, like:
WSGIDaemonProcess ... processes=<api workers> threads=1
See [2] for details.

Tune it further for using event [0] MPM instead of the default
prefork [1] in order to w/a multithreading issues with nova-api with
eventlet monkey patching enabled.

[0] https://httpd.apache.org/docs/current/mod/event.html
[1] https://httpd.apache.org/docs/current/mod/prefork.html
[2] https://bugs.launchpad.net/tripleo/+bug/1829062/comments/7

Depends-On: https://review.opendev.org/669178
Change-Id: Ib385c75dc9efe4832a43e8143bd70fcacb7411f6
Related-Bug: #1829062
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Ftripleo-docs~master~Iba7d977c47dc1d584a7fb799c93dc9e8b2b75c70,openstack/tripleo-docs,master,cellv2_docs_fix,Iba7d977c47dc1d584a7fb799c93dc9e8b2b75c70,[Docs] Make cell_v2 docs better,ABANDONED,2019-07-16 21:53:24.000000000,2019-07-31 13:51:22.000000000,,38,25,10,671161,889d7f0ccc6b878ea53d902a549633170fba8356,10,4,2,1,30133,Piotr Kopec,pkopec,"[Docs] Make cell_v2 docs better

There are some inconsistencies in the cell_v2 docs deployment

Change-Id: Iba7d977c47dc1d584a7fb799c93dc9e8b2b75c70
"
openstack%2Fheat~master~Ifdfe8dc074f7e3bb4ea0df4cd78e95842fc322ab,openstack/heat,master,sphinx,Ifdfe8dc074f7e3bb4ea0df4cd78e95842fc322ab,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-02 06:15:42.000000000,2019-07-31 13:49:37.000000000,2019-07-31 13:49:37.000000000,1,1,1,668603,e08a81100f68bd5850c4f3baa0d7fc2a41f93ad9,9,3,2,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Ifdfe8dc074f7e3bb4ea0df4cd78e95842fc322ab
"
openstack%2Fdevstack~stable%2Frocky~I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4,openstack/devstack,stable/rocky,,I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4,zuul: new variable to easily populate TEMPEST_PLUGINS,MERGED,2019-07-30 07:40:47.000000000,2019-07-31 13:44:20.000000000,2019-07-31 13:44:20.000000000,96,43,0,673423,f0d1896d0acdf0aa9198442f0642e8a7fd3ff422,10,3,1,5,10459,Luigi Toscano,ltoscano,"zuul: new variable to easily populate TEMPEST_PLUGINS

TEMPEST_PLUGINS contains the list of the tempest plugins installed
alongside tempest by lib/tempest.
If TEMPEST_PLUGINS is not explicitly set, the new tempest_plugins
variable is used to fill it by combining its items with
the base devstack path.

Change-Id: I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4
(cherry picked from commit 70d043dd6039fb55aa9d40d593839037bb8c43cf)
"
openstack%2Fpuppet-openstack-integration~master~Idc68600a8730da300df273ac8e2946fb2841ec95,openstack/puppet-openstack-integration,master,openstack/puppet/constraints,Idc68600a8730da300df273ac8e2946fb2841ec95,Updated from Puppet OpenStack modules constraints,MERGED,2019-07-31 06:08:11.000000000,2019-07-31 13:35:02.000000000,2019-07-31 13:35:02.000000000,2,2,0,673736,74dca2636d5c5a9bf97ef23582b80275870c5d50,7,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from Puppet OpenStack modules constraints

Change-Id: Idc68600a8730da300df273ac8e2946fb2841ec95
"
openstack%2Fdevstack~stable%2Frocky~Ia001badca179c3f3436d5ecd26b0755a3f3a3078,openstack/devstack,stable/rocky,,Ia001badca179c3f3436d5ecd26b0755a3f3a3078,zuul job: write the enable_plugin lines last,MERGED,2019-07-30 07:40:47.000000000,2019-07-31 13:33:24.000000000,2019-07-31 13:33:24.000000000,5,2,0,673422,b89e9d211188acb824677b42d27e870a82ee77cf,11,3,1,1,10459,Luigi Toscano,ltoscano,"zuul job: write the enable_plugin lines last

Plugins must be the last items in the local.conf file
otherwise the configuration set in the rest of the file
is not applied to them (for example a different value of DEST.)

Change-Id: Ia001badca179c3f3436d5ecd26b0755a3f3a3078
(cherry picked from commit 610927f4255f0ed4877a3e85d628202e4af2f7d4)
"
openstack%2Ftripleo-quickstart-extras~master~I4ba8506260171975e32f5561e3ceee4f6ca6db58,openstack/tripleo-quickstart-extras,master,update-to-build-role-vars,I4ba8506260171975e32f5561e3ceee4f6ca6db58,Replace old ZUUL* vars with zuul v3 native vars in to_build check,ABANDONED,2019-05-17 15:30:20.000000000,2019-07-31 12:59:38.000000000,,8,11,0,659822,811af648ca91e1726e37277d00adfb0146618706,7,6,1,1,9976,Ronelle Landy,rlandy,"Replace old ZUUL* vars with zuul v3 native vars in to_build check

The image build check was moved into a role.
As a follow on to that change, this review updates the role
to use the zuul v3 native variables.

Change-Id: I4ba8506260171975e32f5561e3ceee4f6ca6db58
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~I886f2b8ac7092d9b3da38852e92a615d5666eea7,openstack/tripleo-heat-templates,stable/rocky,OctaviaServerCertsKeyPassphrase-32chars,I886f2b8ac7092d9b3da38852e92a615d5666eea7,Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long,MERGED,2019-07-09 11:53:15.000000000,2019-07-31 12:58:56.000000000,2019-07-31 12:58:56.000000000,11,2,0,669856,992ad5437cf21696958ca86f6675d23848f7c547,37,6,3,3,6579,Nir Magnezi,nmagnezi,"Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long

Conflicts:
      deployment/octavia/octavia-base.yaml

Closes-bug: #1833942

Depends-On: https://review.opendev.org/#/c/669822/
Depends-On: https://review.opendev.org/#/c/669825/
Change-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7
(cherry picked from commit a6fef3aad6f6f3171eb38b7d25c62a5bb485e67f)
(cherry picked from commit cfb8e97867e2cd546efcb46303ae8583765d3876)
"
openstack%2Fmonasca-agent~master~I744e2f029df54410394341e60a46b56658e4175c,openstack/monasca-agent,master,retire-api-site,I744e2f029df54410394341e60a46b56658e4175c,Update api-ref location,MERGED,2019-07-30 17:51:11.000000000,2019-07-31 12:57:49.000000000,2019-07-31 12:57:48.000000000,1,1,0,673596,ea9f2ebc15c35a72f57c614a4b0501a08b8e66eb,7,3,1,1,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I744e2f029df54410394341e60a46b56658e4175c
"
openstack%2Ftempest~master~Iaff1e01dd7ffab238ec73668ae4eee0683f70ffd,openstack/tempest,master,unskip-stamp,Iaff1e01dd7ffab238ec73668ae4eee0683f70ffd,Unskip test_stamp_pattern,MERGED,2018-11-04 12:56:46.000000000,2019-07-31 12:55:39.000000000,2019-07-31 12:55:39.000000000,12,1,6,615434,ba18426fd990fad19f429e0aa1673f549f2c77e8,41,10,4,1,5803,Attila Fazekas,afazekas,"Unskip test_stamp_pattern

test_stamp_pattern had issues before because the test attached volumes
in VM state when it does not detects hotplug events.

This change have the test to ssh the machine first,
alternativly a pci rescan could be forced.

Notes:
https://docs.google.com/presentation/d/1Im-iYVzroKwXKP23p12Q5vsUGdk2V26SPpLWF3I5dbA/edit#slide=id.p

Closes-bug: #1664793
Change-Id: Iaff1e01dd7ffab238ec73668ae4eee0683f70ffd
"
openstack%2Ftripleo-heat-templates~stable%2Fstein~I3ffd1c11a1851e62992a6a63e8abb130db82856f,openstack/tripleo-heat-templates,stable/stein,bug/1838159,I3ffd1c11a1851e62992a6a63e8abb130db82856f,Enable VFIO module on boot for SR-IOV deployments,MERGED,2019-07-30 07:43:30.000000000,2019-07-31 12:22:13.000000000,2019-07-31 12:22:13.000000000,17,0,0,673429,ac5001004da5214d92fbac64904d824375854416,11,8,1,2,30133,Piotr Kopec,pkopec,"Enable VFIO module on boot for SR-IOV deployments

On SR-IOV capable deployments when rebooting a compute node,
vfio_iommu_type1 will not be loaded which will cause guest
instances with VF/PF fail to start/spawn.

Manually loading the kernel module will allow to spawn guest
instances successfully.

Change-Id: I3ffd1c11a1851e62992a6a63e8abb130db82856f
Closes-Bug: 1838159
(cherry picked from commit 3878bd3e47c500f90d3c5cb110162b39a0d7e870)
"
openstack%2Fpuppet-tripleo~master~If1a111662203896ee51fd61183f720a4cef18a3e,openstack/puppet-tripleo,master,ceph_dashboard,If1a111662203896ee51fd61183f720a4cef18a3e,Add ceph grafana dashboard endpoint to haproxy,MERGED,2019-07-24 14:24:23.000000000,2019-07-31 12:11:44.000000000,2019-07-31 12:11:44.000000000,34,0,4,672538,548b966aa04b1d339453a2c50d7dbbb67c664391,34,6,8,2,25402,Francesco Pantano,fmount,"Add ceph grafana dashboard endpoint to haproxy

This review adds the ceph grafana endpoint to
haproxy.

Depends-On: https://review.opendev.org/#/c/672536
Change-Id: If1a111662203896ee51fd61183f720a4cef18a3e
"
openstack%2Ftripleo-heat-templates~master~I19d660168c98887a5e352b3413235888c800760d,openstack/tripleo-heat-templates,master,remove_cni0,I19d660168c98887a5e352b3413235888c800760d,Create /run/netns if does not exist,MERGED,2019-01-15 11:22:06.000000000,2019-07-31 12:00:15.000000000,2019-01-22 16:18:36.000000000,24,0,14,630936,9b284e74cbdcf43253edaf424534b71a483fdb69,52,11,6,3,8833,Rabi Mishra,rabi,"Create /run/netns if does not exist

Unlike docker with podman you can't mount a host directory
that does not exist. We did some work as part of bug 1799638
take care of this for reboots. However, we need it to be created
for fresh installations, as nodes are not necessarily rebooted
after installing paunch. The real issue without reboots did not
surface before the next patch in this series, as we were using
cni0 bridge network for some containers and that resulted in
namespace being created and the directory existing for
neutron_dhcp and neutron_l3 containers in step 4 to mount them.

This patch creates/removes a temp namespace in host_prep_tasks
to ensure that the directory exists.

Change-Id: I19d660168c98887a5e352b3413235888c800760d
Related-Bug: #1799638
"
openstack%2Ftripleo-upgrade~master~Ib83e508950df729901fffa072402b581be95c746,openstack/tripleo-upgrade,master,adapt-tripleo-upgrade,Ib83e508950df729901fffa072402b581be95c746,Upgrade undercloud.conf with the right parameters,MERGED,2019-04-23 15:15:19.000000000,2019-07-31 11:50:07.000000000,2019-06-07 10:20:54.000000000,66,5,9,655182,3a97b561fa3becea25d0c2385850c1139358228d,34,7,9,2,8532,Ryan Brady,rbrady,"Upgrade undercloud.conf with the right parameters

This patch adds the new parameters required for the OSP15 major
upgrades workflow.  This patch also adds the undercloud_hiera file
if the hieradata_override is not defined in undercloud.conf, if it
is then it will append the needed hiera configuration into the existing
file.
If the docker_insecure_registries option exists in the file, it's
value is merged with new namespace values and set as
container_insecure_registries.  The docker_insecure_registries is
removed after the value is used.

Change-Id: Ib83e508950df729901fffa072402b581be95c746
"
openstack%2Ftripleo-upgrade~master~I70d387b381b6ce297507cbfe669ea7be902df605,openstack/tripleo-upgrade,master,refactor_flatten,I70d387b381b6ce297507cbfe669ea7be902df605,Migrate from with_X loop.,MERGED,2019-01-29 13:23:43.000000000,2019-07-31 11:47:52.000000000,2019-05-30 15:50:07.000000000,79,99,24,633731,b25817a233bcb5f836319cce10bb04bbb732c4f7,46,10,13,24,21537,Yurii Prokulevych,yprokule,"Migrate from with_X loop.

With the release of Ansible 2.5, the recommended way to perform
 loops is the use the new loop keyword instead of with_X style loops.
This review addresses aforementioned change for common tasks
within tripleo-upgrade role.

Change-Id: I70d387b381b6ce297507cbfe669ea7be902df605
"
openstack%2Ftripleo-upgrade~master~I542b82b0bec05faf320861027f2f51572fe931c2,openstack/tripleo-upgrade,master,,I542b82b0bec05faf320861027f2f51572fe931c2,Remove check for openvswitch package.,MERGED,2019-06-28 11:10:44.000000000,2019-07-31 11:44:08.000000000,2019-06-28 17:24:26.000000000,0,5,0,668143,b5f00e5c3e663b0ebcfe3277e38a71a3bf91e7d9,8,8,1,1,26343,Jose Luis Franco,jfrancoa,"Remove check for openvswitch package.

The package task does ensure that a package is installed,
when the intention of this task was to simply check if
the openvswitch package was installed. However, if it's
installed, Ansible will try to install the latest available
version and that update needs to be handled in the Undercloud
upgrade itself, not in the previous steps. For that reason,
this patch removes the task and relies on the following one
which checks that the OpenVSwitch service is running to fail
if the package wasn't installed.

Change-Id: I542b82b0bec05faf320861027f2f51572fe931c2
"
openstack%2Fnetworking-ovn~stable%2Fstein~I0faa19ef48f2dc5591c0337ae5a0599abc2e4168,openstack/networking-ovn,stable/stein,bug/1837003,I0faa19ef48f2dc5591c0337ae5a0599abc2e4168,Maintenance task: Enhance debug logging,MERGED,2019-07-26 15:06:25.000000000,2019-07-31 11:41:05.000000000,2019-07-31 11:41:05.000000000,84,5,0,673000,4232a2fabdefb124f9abdfa0b399a01aba14299a,8,4,1,2,6773,Lucas Alvares Gomes,lucasagomes,"Maintenance task: Enhance debug logging

This patch is enhancing the maintenance task debug logs by:

* Logging a summary with the number of failures on each resource type
* Logging the UUID and type of the resource being fixed at that time
* Changing the prefix of the maintenance logs for easy grepping

Conflicts:
	networking_ovn/common/maintenance.py

Closes-Bug: #1837003
Change-Id: I0faa19ef48f2dc5591c0337ae5a0599abc2e4168
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit f59acf38968ce9c6129f1a1bffd277af8406a2d0)
"
openstack%2Ftripleo-quickstart~master~I21400f36d4599be76b56e448459523c5a66a2e5c,openstack/tripleo-quickstart,master,,I21400f36d4599be76b56e448459523c5a66a2e5c,Add dlrn_hash_tag_newest to RHEL-8 repo file,MERGED,2019-07-30 23:01:06.000000000,2019-07-31 11:36:08.000000000,2019-07-31 11:36:08.000000000,17,10,2,673709,d268d31b6a6909ed024ba636a7489367298c936a,12,5,3,1,10969,Shnaidman Sagi (Sergey),sergsh,"Add dlrn_hash_tag_newest to RHEL-8 repo file

Also enable rhui repos.

Change-Id: I21400f36d4599be76b56e448459523c5a66a2e5c
"
openstack%2Fneutron~master~I11d82380aad8655a4fdc9656737b912b16e2859b,openstack/neutron,master,bug/1834176,I11d82380aad8655a4fdc9656737b912b16e2859b,Add RPC method to get networks for L3 and DHCP agents,MERGED,2019-07-14 13:25:38.000000000,2019-07-31 11:33:35.000000000,2019-07-31 11:33:35.000000000,51,2,6,670722,c62c67f413865c4fa5a8d07fb8033d587e730a85,35,8,5,4,28714,Adrian Chiris,adrianc,"Add RPC method to get networks for L3 and DHCP agents

- Added get_networks() RPC call for DHCP agent
- Added get_networks() RPC call for L3 agent

This change is required in order to support out of tree
MultiInterfaceDriver and IPoIBInterfaceDriver interface drivers
as they require information on the network a port is being plugged
to.

These RPCs will be passed as kwargs when loading the relevant
interface driver.

get_networks() keyword args map to the keyword arguments of:
neutron.neutron_plugin_base_v2.NeutronPluginBaseV2.get_networks()

Change-Id: I11d82380aad8655a4fdc9656737b912b16e2859b
Partial-Bug: #1834176
"
openstack%2Fmasakari~master~I69bcd33e76d4847229abcf55f659d7218fa4c6c2,openstack/masakari,master,resolve_functional_gate_job_failure,I69bcd33e76d4847229abcf55f659d7218fa4c6c2,Resolve functional gate job failure,MERGED,2019-07-30 12:55:56.000000000,2019-07-31 11:31:53.000000000,2019-07-31 11:31:53.000000000,10,10,0,673509,9a2ce34e64fff16f806b23d5a9bd575026d1094a,7,4,1,3,27302,Shilpa Devharakar,shilpa.devharakar,"Resolve functional gate job failure

With switch to resource layer in openstacksdk [1], a wrong hypervisor
attribute 'hypervisor_hostname' disappeared. Used a proper 'name'
attribute instead.

[1]: https://github.com/openstack/openstacksdk/commit/10447761405c7a4bab263d2b30b80641f54a36be

Change-Id: I69bcd33e76d4847229abcf55f659d7218fa4c6c2
"
openstack%2Fmurano-dashboard~master~I9f2b640b1d58bc4f3f559458d9eed92c9594e686,openstack/murano-dashboard,master,,I9f2b640b1d58bc4f3f559458d9eed92c9594e686,Fix py27 UT gate,MERGED,2019-07-29 01:59:07.000000000,2019-07-31 11:15:03.000000000,2019-07-31 11:15:03.000000000,2,5,0,673193,3cb13c6c261aa75dad69faff4465f416870b25d5,10,2,3,2,14107,zhurong,zhurong,"Fix py27 UT gate

1.Fix TypeError: 'Mock' object is not iterable error
2.import openstack_dashboard.test.settings

Change-Id: I9f2b640b1d58bc4f3f559458d9eed92c9594e686
"
openstack%2Fnova~master~I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7,openstack/nova,master,bp/virtual-persistent-memory,I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7,libvirt: Enable driver configures PMEM namespace,ABANDONED,2019-02-02 10:45:32.000000000,2019-07-31 11:13:54.000000000,,175,0,104,634549,3bbf0b01f1d4553934d0dae065862c58eec20f52,130,16,16,5,23598,Zhong Luyao,ZhongLuyao,"libvirt: Enable driver configures PMEM namespace

Add one configuration option CONF.libvirt.pmem_namespaces:
""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""

e.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""

Add related functions to enable libvirt driver to get PMEM
namespaces info from host and config file.

Change-Id: I146cc9d4caafd0abd6b2642edb6eb59cd7e339b7
Partially-Implements: blueprint virtual-persistent-memory
Co-Authored-By: He Jie Xu <hejie.xu@intel.com>
"
openstack%2Ftripleo-upgrade~master~Ife7cc6e6ca261ccfd2ea50a145ef26092f543b1f,openstack/tripleo-upgrade,master,,Ife7cc6e6ca261ccfd2ea50a145ef26092f543b1f,Drop MongoDB service from custom roles_data.,MERGED,2019-07-10 09:19:35.000000000,2019-07-31 11:10:59.000000000,2019-07-30 14:18:47.000000000,7,1,2,670019,359db7c0006c13e4f754003e911ce861f577b3e8,15,7,1,2,26343,Jose Luis Franco,jfrancoa,"Drop MongoDB service from custom roles_data.

As documented in the Stein upgrades guide [0], we need to
remove the MongDB service from the roles_data in the case
a custom one was appended during upgrade prepare step.

[0] - https://gitlab.cee.redhat.com/osp15/osp-upgrade-el8/tree/master#only-for-composable-roles-deployments-skip-this-line-in-monolithic-setup

Change-Id: Ife7cc6e6ca261ccfd2ea50a145ef26092f543b1f
"
openstack%2Ftempest~master~I8efedb8c5ae073bd2cb4034369bfcff4b67eb868,openstack/tempest,master,bug/1836642,I8efedb8c5ae073bd2cb4034369bfcff4b67eb868,Use memcached based cache in nova in all devstack-tempest jobs,MERGED,2019-07-25 12:49:07.000000000,2019-07-31 11:07:31.000000000,2019-07-30 10:02:03.000000000,10,0,11,672715,eb0a2cc5f240d52efa3a58c5a1ba8821bae3147e,30,15,2,1,11975,Slawek Kaplonski,slaweq,"Use memcached based cache in nova in all devstack-tempest jobs

Using memcached based cache for metadata api to cache data for
instance always after firts metadata request is send can solve
problems with unable to ssh to instance due to not configured
public-key on instance.

In Nova metadata api service data related to one instance should
be cached after it is collected first time. So e.g. CirrOS based
image first sends request to get instance-id and next request is
to get public-key.
If those two requests will be processed by 2 different workers on
Nova's side, it will collect all data for instance twice. And if
this will take more than 10 seconds in case of request to get
public-keys, CirrOS script will fail and not configure public-key
on guest VM.

Using memcached based script will make this cached data available
for each worker so it will be cached always during processing
instance-id request. And this request for instance-id is retried
by CirrOS image in case of failure so this shoudn't cause problems.

Change-Id: I8efedb8c5ae073bd2cb4034369bfcff4b67eb868
Closes-bug: #1836642
Closes-bug: #1808010
"
openstack%2Fopenstack-helm-images~master~I678cdaf4a7f2072d5dd9bb8618e0beb8f3a05655,openstack/openstack-helm-images,master,add_jq,I678cdaf4a7f2072d5dd9bb8618e0beb8f3a05655,Add jq package for neutron image,MERGED,2019-07-19 09:45:50.000000000,2019-07-31 10:33:10.000000000,2019-07-31 10:27:07.000000000,3,0,4,671696,ab9cc8a78a3f3aeddd0e5daf1be4bd414f30b9f4,24,12,3,2,29668,cheng li,chengli3,"Add jq package for neutron image

In neutron-openvswitch-init.sh script, auto_bridge_add json file is
parsed. As of now the json file is very simple, we parse it with command
'sed' and 'tr'[1]. While we are working on ovs-dpdk support, which makes
the auto_bridge_add json file more complicated(pci_id, n_rxq, etc.).

This patch is to include jq package to parse json.

[1]
https://github.com/openstack/openstack-helm/blob/dadf9946e076df2b09556f4a18107dc487788cdd/neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl#L40

Change-Id: I678cdaf4a7f2072d5dd9bb8618e0beb8f3a05655
"
openstack%2Ftripleo-upgrade~master~Ic5289010ad874037c779a573e2baef0709b7c900,openstack/tripleo-upgrade,master,,Ic5289010ad874037c779a573e2baef0709b7c900,Adapt nic templates play for Rocky to Stein upgrade.,MERGED,2019-07-08 13:09:32.000000000,2019-07-31 10:21:07.000000000,2019-07-31 10:21:07.000000000,5,4,3,669659,4a0ec40b192b1b6d7cf7027ccec358fd8d00cad3,18,7,3,2,26343,Jose Luis Franco,jfrancoa,"Adapt nic templates play for Rocky to Stein upgrade.

As well as in the rocky upgrade, some NIC parameters have been modified [0]
and a nic templates adaptation is needed. As this upgrade covers the
Rocky to Stein upgrade, we'll simply reuse (and adapt) the tasks existing
in the Rocky upgrade.

[0] - https://review.opendev.org/#/c/604943/

Change-Id: Ic5289010ad874037c779a573e2baef0709b7c900
"
openstack%2Fneutron-lib~master~Ia756506e25d7b74030f55d1032b5cb71f5e1925b,openstack/neutron-lib,master,retire-api-site,Ia756506e25d7b74030f55d1032b5cb71f5e1925b,Update api-ref location,MERGED,2019-07-30 17:41:22.000000000,2019-07-31 10:03:54.000000000,2019-07-31 10:03:54.000000000,2,2,0,673589,d27313f42588c397fd8d8f6d84e199404385eb54,8,4,1,2,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ia756506e25d7b74030f55d1032b5cb71f5e1925b
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I4f2f69f00cad54c3c767f54de54dc9a061b02b8d,openstack/tripleo-heat-templates,stable/queens,bug/1778216-4,I4f2f69f00cad54c3c767f54de54dc9a061b02b8d,Make sure libvirt-guests get started,MERGED,2019-07-29 10:07:47.000000000,2019-07-31 09:38:33.000000000,2019-07-31 09:38:32.000000000,1,0,0,673256,55f64af267cd13de2ee6adfa25e53c47a51a1738,13,6,1,1,17216,Martin Schuppert,mcschupp,"Make sure libvirt-guests get started

Right now the libvirt-guests gets enabled, but not started during
initial deploy. Make sure we start the service.

 Conflicts:
	deployment/nova/nova-compute-container-puppet.yaml

Change-Id: I4f2f69f00cad54c3c767f54de54dc9a061b02b8d
(cherry picked from commit cf2e5926e480a36246c912ff7ff4ab58095fe7cd)
(cherry picked from commit 5b681900cbacdb2e30ba2833b0e8719e802d50e6)
(cherry picked from commit c93ea353f01312c62f581c68958dea1533634855)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9e13491b6f86143f507d2b56fa1eed83204418d0,openstack/tripleo-heat-templates,stable/queens,bug/1837731,I9e13491b6f86143f507d2b56fa1eed83204418d0,Fix resume_guests_state_on_host_boot_enabled fact,MERGED,2019-07-26 11:36:51.000000000,2019-07-31 09:38:31.000000000,2019-07-31 09:38:30.000000000,2,1,0,672959,2fac9b80f5ea135a5a2e7c50c80fa93e420e8afa,8,6,1,1,17216,Martin Schuppert,mcschupp,"Fix resume_guests_state_on_host_boot_enabled fact

NovaResumeGuestsStateOnHostBoot is a role parameter so we
need to get the value from there.

Conflicts:
      deployment/nova/nova-compute-container-puppet.yaml

Change-Id: I9e13491b6f86143f507d2b56fa1eed83204418d0
Closes-Bug: 1837731
(cherry picked from commit 835dcd56c95c304830ed14c8393a99ce2881ed5e)
(cherry picked from commit 8fe366434d622f446babc0d62acd65d44efce50d)
(cherry picked from commit 28fb474e7880135649b3cac70e4dc286d9ee4ab4)
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ic4b7b427827114fcec0f4973a200461e811ee53a,openstack/tripleo-heat-templates,stable/queens,bug/1778216,Ic4b7b427827114fcec0f4973a200461e811ee53a,Add customized libvirt-guests unit file to properly shutdown instances,MERGED,2019-07-24 09:02:10.000000000,2019-07-31 09:38:29.000000000,2019-07-31 09:38:29.000000000,57,0,3,672474,74660dd93df0dfd4460a59ea2d4e6793d93c9240,21,7,4,2,17216,Martin Schuppert,mcschupp,"Add customized libvirt-guests unit file to properly shutdown instances

If resume_guests_state_on_host_boot is set in nova.conf instances
need to be shutdown using libvirt-guests after nova_compute container
is shut down. Therefore we need a customized libvirt-guests unit file
which:
1) removes the dependency to libvirt (non container) that it don't
   get started as a dependency and make the nova_libvirt container
   to fail.
2) adds a dependency to docker related services that a shutdown of
   nova_compute container is possible on system reboot.
3) stops nova_compute container
4) shutdown VMs

This is a missing part of Bug 1778216.

Depends-On: https://review.opendev.org/672472

Change-Id: Ic4b7b427827114fcec0f4973a200461e811ee53a
Related-bug: 1778216
(cherry picked from commit 9f478ee18e15696822a014b9ffe31638b7bc89fb)
(cherry picked from commit 959aa9d9a5b7d9d9d921c8c545dd173368328420)
"
openstack%2Fosc-placement~master~Ib9e2658f123e1d4a12261f54cf91415c2c339dda,openstack/osc-placement,master,retire-api-site,Ib9e2658f123e1d4a12261f54cf91415c2c339dda,Update api-ref location,MERGED,2019-07-25 16:08:41.000000000,2019-07-31 09:37:52.000000000,2019-07-31 09:37:51.000000000,1,1,0,672769,f40eb5047a59f0cb525fcd1201eabf373a0cad13,6,2,1,1,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ib9e2658f123e1d4a12261f54cf91415c2c339dda
"
openstack%2Fopenstack-helm~master~Ief7244bf134ccd64bf47a9978abff8c68177e5e3,openstack/openstack-helm,master,zanata/translations,Ief7244bf134ccd64bf47a9978abff8c68177e5e3,Imported Translations from Zanata,MERGED,2019-07-27 08:18:41.000000000,2019-07-31 09:35:18.000000000,2019-07-31 09:35:17.000000000,18,3,0,673130,c3e727410d90f1b08f420c62e6f750e14733b774,11,2,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ief7244bf134ccd64bf47a9978abff8c68177e5e3
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I946600ebbc3afd88385ca89015e8f6a6c46f46ef,openstack/tripleo-heat-templates,stable/queens,bug/1778216,I946600ebbc3afd88385ca89015e8f6a6c46f46ef,Add NovaResumeGuestsStateOnHostBoot and NovaResumeGuestsShutdownTimeout,MERGED,2019-07-24 08:55:24.000000000,2019-07-31 09:28:40.000000000,2019-07-31 09:28:39.000000000,112,0,0,672472,c611f04e0fd1705238a7ccdac3bdf96569c7542a,17,7,3,22,17216,Martin Schuppert,mcschupp,"Add NovaResumeGuestsStateOnHostBoot and NovaResumeGuestsShutdownTimeout

NovaResumeGuestsStateOnHostBoot (true/false) parameter which
configures whether or not to start again instances which were running at
the time of a compute reboot.
This will set the resume_guests_state_on_host_boot parameter in nova.conf
and configures and enables libvirt-guests with a dependency to the
docker service to shutdown instances before the libvirt container gets
stopped.
NovaResumeGuestsShutdownTimeout specifies the number in seconds for an
instance to allow to shutdown.

Conflicts:
  puppet/services/nova-compute.yaml

Change-Id: I946600ebbc3afd88385ca89015e8f6a6c46f46ef
Closes-Bug: 1778216
Depends-On: I2766cdd66ff17756daaf1a75ad516a7af6eebddc
Depends-On: Id1cc2e75af316b864cebf601395f1111b7fb049a
(cherry picked from commit 9654393f24a33c768f7a4e6e77cf40b099cfb2ff)
"
openstack%2Fpuppet-tripleo~stable%2Fqueens~Id1cc2e75af316b864cebf601395f1111b7fb049a,openstack/puppet-tripleo,stable/queens,bug/1778216-stable/queens,Id1cc2e75af316b864cebf601395f1111b7fb049a,New profile to configure libvirt-guests on compute host,MERGED,2019-07-24 08:43:14.000000000,2019-07-31 09:28:38.000000000,2019-07-31 09:28:38.000000000,66,0,0,672470,d7508d2a54016b7706345b41e7522bed9bb5a52b,16,8,1,2,17216,Martin Schuppert,mcschupp,"New profile to configure libvirt-guests on compute host

On compute shutdown we might want to gracefully shutdown instances
using libvirt-guests. If it gets configured is managed via a tht
parameter NovaResumeGuestsStateOnHostBoot. This triggers config
of /etc/sysconfig/libvirt-guests via puppet-nova, configures a
dependency for virt-guest-shutdown.target to
paunch-container-shutdown.service that instances get shutdown
before the libvirt container gets stopped.

Change-Id: Id1cc2e75af316b864cebf601395f1111b7fb049a
Closes-Bug: 1778216
Depends-On: I2766cdd66ff17756daaf1a75ad516a7af6eebddc
(cherry picked from commit c482a3ce5a9ab4074c61903c5b9e8e2af7d39bfe)
"
openstack%2Ftrove~master~I7a522b1f6d421ecbed0cedcdb2edd1f90b9b672b,openstack/trove,master,fix-api,I7a522b1f6d421ecbed0cedcdb2edd1f90b9b672b,Re-define the 'nics' parameter for creating database,MERGED,2019-07-29 03:22:29.000000000,2019-07-31 09:25:02.000000000,2019-07-31 09:25:02.000000000,5,4,0,673200,dae5bc1bc7922ee35dffe5e283fc8529299b3081,6,2,1,1,6732,Lingxian Kong,kong,"Re-define the 'nics' parameter for creating database

Change-Id: I7a522b1f6d421ecbed0cedcdb2edd1f90b9b672b
"
openstack%2Fcharm-percona-cluster~master~I5da6da4ddde25219e06ef47bba5f3004ccf678ee,openstack/charm-percona-cluster,master,bug/1837401,I5da6da4ddde25219e06ef47bba5f3004ccf678ee,Ensure ocf file is installed,MERGED,2019-07-27 12:15:08.000000000,2019-07-31 08:56:34.000000000,2019-07-31 08:56:34.000000000,3,3,0,673137,9391662e19ad3bde997258d9f665d238692c971c,17,5,2,1,12549,gnuoy,gnuoy,"Ensure ocf file is installed

Ensure ocf file is installed early so that mysql monitor resource can
start as soon as it is defined. Otherwise it will be down and may
not come backup without manual intervention.

Change-Id: I5da6da4ddde25219e06ef47bba5f3004ccf678ee
Closes-Bug: #1837401
"
openstack%2Fpython-tripleoclient~master~Idff6bcebc041db483d64396249b040e6bdd778bd,openstack/python-tripleoclient,master,bp/validation-framework,Idff6bcebc041db483d64396249b040e6bdd778bd,Allow running validations with custom extra variables,MERGED,2019-07-10 15:19:17.000000000,2019-07-31 08:35:52.000000000,2019-07-31 03:43:35.000000000,142,84,1,670091,d13a7d501eba4b25091f16cb9edc374b40ceb8ce,49,9,12,3,11491,Gael Chamoulaud,gchamoul,"Allow running validations with custom extra variables

This patch adds the ability to pass extra variables to the validations
execution through Mistral and 'ansible-playbook'.

By default, the CLI is running the validations through
'ansible-playbook', then the operator will have two possible ways to
process it;

Either passing a Dict with the new --extra-vars argument

```
$ openstack tripleo validator run \
    --extra-vars '{""min_undercloud_ram_gb"": 2}'
    --validation-name undercloud-ram
```

or passing the absolute path of a JSON/YAML file using --extra-vars-file
argument.

```
$ cat /home/stack/vars.json
{
  ""volumes"": [
    {""min_size"": 10, ""mount"": ""/var/lib/docker""},
    {""min_size"": 3,  ""mount"": ""/var/lib/config-data""},
    {""min_size"": 3,  ""mount"": ""/var/log""},
    {""min_size"": 5,  ""mount"": ""/usr""},
    {""min_size"": 20, ""mount"": ""/var""},
    {""min_size"": 25, ""mount"": ""/""}
  ]
}
$ openstack tripleo validator run \
    --extra-vars-file /home/stack/vars.json
    --validation-name undercloud-disk-space
```

If the operator wants to use Mistral, she/he will just need to add the
--use-mistral argument to the command line in the previous
examples.

Note that Mistral will only support a valid JSON file as input.

Change-Id: Idff6bcebc041db483d64396249b040e6bdd778bd
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fkolla-cli~master~I3e754f4e7594eb23f73b8da6bee3af0b91f44ad4,openstack/kolla-cli,master,,I3e754f4e7594eb23f73b8da6bee3af0b91f44ad4,Add pull action functional test,MERGED,2019-07-31 07:41:28.000000000,2019-07-31 08:31:23.000000000,2019-07-31 08:31:23.000000000,15,0,0,673747,6b63c009670b85d1675c568dc3ee8f6c1e4c7879,11,3,5,1,28614,jacky06,jacky06,"Add pull action functional test

Change-Id: I3e754f4e7594eb23f73b8da6bee3af0b91f44ad4
"
openstack%2Fproject-config~master~I0e67fdc5a2079b6bc4aa282217b5654c169fb65d,openstack/project-config,master,update-neutron-dashboard,I0e67fdc5a2079b6bc4aa282217b5654c169fb65d,"Add new job ""tempest-ipv6-only"" to neutron CI dashboard",MERGED,2019-07-31 07:37:26.000000000,2019-07-31 08:30:04.000000000,2019-07-31 08:30:03.000000000,4,0,0,673746,68270d90738433a6195045830d4d5650c9d238dd,7,3,1,1,11975,Slawek Kaplonski,slaweq,"Add new job ""tempest-ipv6-only"" to neutron CI dashboard

New job was added to neutron CI queues in [1]

[1] https://review.opendev.org/#/c/671899/

Change-Id: I0e67fdc5a2079b6bc4aa282217b5654c169fb65d
"
openstack%2Fproject-config~master~I2a93ab39b28e89679b4f24e7d090059da4f97471,openstack/project-config,master,tc-as-a-service,I2a93ab39b28e89679b4f24e7d090059da4f97471,Finish retiring tc-as-a-service,MERGED,2019-07-30 15:35:31.000000000,2019-07-31 08:30:02.000000000,2019-07-31 08:30:02.000000000,2,22,0,673563,d5b1537891d6285b4e3c3dfd372cba4df6aa014f,7,3,1,4,6547,Andreas Jaeger,jaegerandi,"Finish retiring tc-as-a-service

This removes the repo from Zuul and retires it.

Depends-On: https://review.opendev.org/673560
Change-Id: I2a93ab39b28e89679b4f24e7d090059da4f97471
"
openstack%2Fmurano~master~I222964e47eebed6b3593b1954766a0691802ffef,openstack/murano,master,retire-api-site,I222964e47eebed6b3593b1954766a0691802ffef,Update api-ref location,MERGED,2019-07-30 17:52:09.000000000,2019-07-31 08:28:54.000000000,2019-07-31 08:28:54.000000000,1,1,0,673597,f83cbd4a388af486513de30e2dba9191bbbba7e9,6,2,1,1,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I222964e47eebed6b3593b1954766a0691802ffef
"
openstack%2Fnova~master~I347096a527c257075cefe7b81210622f6cd87daf,openstack/nova,master,bug/1764556,I347096a527c257075cefe7b81210622f6cd87daf,Don't generate service UUID for deleted services,MERGED,2018-07-12 22:05:33.000000000,2019-07-31 08:25:45.000000000,2019-07-31 08:25:45.000000000,13,26,6,582408,16e163053ca39886f11fdb8a3af10a28619fc105,81,20,8,3,4690,melanie witt,melwitt,"Don't generate service UUID for deleted services

In Pike, we added a UUID field to services and during an upgrade from
Ocata => Pike, when instances are accessed joined with their associated
services, we generate a UUID for the services on-the-fly.

This causes a problem in the scenario where an operator upgrades their
cluster and has old, deleted services with hostnames matching existing
services associated with instances. When we go to generate the service
UUID for the old, deleted service, we hit a ServiceTooOld exception.

This addresses the problem by not bothering to generate a UUID for a
deleted service. One alternative would be to exclude deleted services
when we join the 'instances' and 'services' tables, but I'm not sure
whether that approach might cause unintended effects where service
information that used to be viewable for instances becomes hidden.

Closes-Bug: #1778305
Closes-Bug: #1764556

Change-Id: I347096a527c257075cefe7b81210622f6cd87daf
"
openstack%2Fneutron-vpnaas~master~If5ecd53888b339701ee162b66ae988c9cd9efd36,openstack/neutron-vpnaas,master,retire-api-site,If5ecd53888b339701ee162b66ae988c9cd9efd36,Update api-ref location,MERGED,2019-07-30 17:55:19.000000000,2019-07-31 08:20:31.000000000,2019-07-31 08:20:31.000000000,2,2,0,673601,66dfa3f57c2a4747b81b25bd4c2e3ecf30134b8b,7,3,1,1,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: If5ecd53888b339701ee162b66ae988c9cd9efd36
"
openstack%2Fpython-glanceclient~master~I63be5a18a8221f0ca2b1f2a96367288833e4a096,openstack/python-glanceclient,master,Bug#2,I63be5a18a8221f0ca2b1f2a96367288833e4a096,Modify the url of upper_constraints_file,MERGED,2019-06-19 04:41:49.000000000,2019-07-31 08:12:49.000000000,2019-07-31 08:12:49.000000000,1,1,0,666216,69ef9d81ced4db4acac225ad81288c9f4d78c77b,7,6,1,1,27822,pengyuesheng,pengyuesheng,"Modify the url of upper_constraints_file

Depends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I63be5a18a8221f0ca2b1f2a96367288833e4a096
"
openstack%2Fpython-glanceclient~master~I392f25b3ee0ee9ac6024e1670053191e4bba937a,openstack/python-glanceclient,master,,I392f25b3ee0ee9ac6024e1670053191e4bba937a,Trivial: fix image format typo,MERGED,2019-07-30 10:42:21.000000000,2019-07-31 08:10:10.000000000,2019-07-31 08:10:10.000000000,1,1,0,673472,a56106092e521f811034041a4e2ee6f8f1295be1,7,3,1,1,8543,Lucian Petrut,plucian,"Trivial: fix image format typo

The Glance V1 image format list contains ""VDHX"", which is a typo.
This change fixes it, using the correct format name, which is ""VHDX"".

Luckily, this seems to be used only as part of a help string.

Change-Id: I392f25b3ee0ee9ac6024e1670053191e4bba937a
"
openstack%2Fmistral~master~Id5f629085e0ecfb4fc75ff82c1ed0283f3d2c490,openstack/mistral,master,retire-api-site,Id5f629085e0ecfb4fc75ff82c1ed0283f3d2c490,Update api-ref location,MERGED,2019-07-30 17:50:44.000000000,2019-07-31 08:04:26.000000000,2019-07-31 08:04:26.000000000,1,1,0,673595,2c3c3b1b117c3d198ca0af2c25d8fab6d27b36c0,10,3,1,1,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Id5f629085e0ecfb4fc75ff82c1ed0283f3d2c490
"
openstack%2Fcinder~stable%2Fqueens~Ie5195bba0515f4f390cca1d763f428cbe769f80c,openstack/cinder,stable/queens,new-branch,Ie5195bba0515f4f390cca1d763f428cbe769f80c,ds,ABANDONED,2019-07-31 02:36:54.000000000,2019-07-31 07:49:39.000000000,,1,1,0,673718,45dcd34afdf411195f607c56b0b9c35da6008304,3,1,1,1,30754,FengJiankui,FengJiankui,"ds

Change-Id: Ie5195bba0515f4f390cca1d763f428cbe769f80c
"
openstack%2Fcharm-deployment-guide~master~I0f5dfab62860adbb5189171efa55a9a78cd22079,openstack/charm-deployment-guide,master,broken-links,I0f5dfab62860adbb5189171efa55a9a78cd22079,Fix reference name,MERGED,2019-07-30 17:21:38.000000000,2019-07-31 07:42:46.000000000,2019-07-31 07:42:46.000000000,1,1,0,673583,bf72ebfcc43cb58246068b97d7454e1cc69a3dce,6,2,1,1,6547,Andreas Jaeger,jaegerandi,"Fix reference name

The document is called ""from a bundle"", update name of link.

Change-Id: I0f5dfab62860adbb5189171efa55a9a78cd22079
"
openstack%2Fneutron~master~I6a1d8e40a8cb606b60ebede99bac7e570f761a5a,openstack/neutron,master,ipv6-only-deployment-and-testing,I6a1d8e40a8cb606b60ebede99bac7e570f761a5a,Run 'tempest-ipv6-only' job in gate,MERGED,2019-07-20 17:37:23.000000000,2019-07-31 07:37:55.000000000,2019-07-31 02:00:17.000000000,6,0,3,671899,f4bdcb0031c155aec75aca8db5f34eabc79e2026,26,8,3,2,8556,Ghanshyam,ghanshyam,"Run 'tempest-ipv6-only' job in gate

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
Tempest has defined the new job 'tempest-ipv6-only'(adding
in Depends-On patch) which will deploy services on IPv6 and run smoke
tests and IPv6 related tests present in Tempest.

This job will be part of Nova, Neutron, Cinder, Keystone, Glance, Swift
gate.

Verification structure will be:
- 'devstack-IPv6' deploy the service on IPv6
- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address
- 'tempest-ipv6-only' will run the smoke + IPv6 related test case.

This commit adds the new job 'tempest-ipv6-only' run on gate.

Story: #2005477
Task: #35908

Depends-On: https://review.opendev.org/#/c/671231/

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: I6a1d8e40a8cb606b60ebede99bac7e570f761a5a
"
openstack%2Fkolla~master~I85dbea0debb3ef97ef7dd679964c9888f4775a3f,openstack/kolla,master,fedora-py3,I85dbea0debb3ef97ef7dd679964c9888f4775a3f,[DO NOT MERGE] Build Fedora28 based images with python3 only,ABANDONED,2018-07-12 15:57:07.000000000,2019-07-31 07:26:38.000000000,,21,17,0,582290,68d024724d8e4a533006b84272c102bea42a1018,3,1,1,3,13039,Martin Andr√©,mandre,"[DO NOT MERGE] Build Fedora28 based images with python3 only

This patch demonstrates how to build fedora 28 based images with
minimal code change by pretending it is centos based.

This will be used to test python3 packages.

Change-Id: I85dbea0debb3ef97ef7dd679964c9888f4775a3f
"
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ic674aca2dfac22e948c967eb30cffc5a8ddda663,openstack/tripleo-heat-templates,stable/rocky,,Ic674aca2dfac22e948c967eb30cffc5a8ddda663,[DNM] Check scenario009,ABANDONED,2019-03-15 07:39:39.000000000,2019-07-31 07:26:01.000000000,,1,0,0,643518,1742482e22123b941ab4d4d834fcccdad0fc6505,4,2,1,1,13039,Martin Andr√©,mandre,"[DNM] Check scenario009

Change-Id: Ic674aca2dfac22e948c967eb30cffc5a8ddda663
Depends-On: If692291d50118f38ec6657938f87d21bcda257ab
"
openstack%2Ftripleo-heat-templates~master~Ic674aca2dfac22e948c967eb30cffc5a8ddda663,openstack/tripleo-heat-templates,master,check-tripleo-openshift,Ic674aca2dfac22e948c967eb30cffc5a8ddda663,[DNM] Check scenario009,ABANDONED,2019-03-14 09:36:56.000000000,2019-07-31 07:25:48.000000000,,2,0,0,643261,02342e5243e406ad9f4561762324dfa5e63e1e62,13,3,3,1,13039,Martin Andr√©,mandre,"[DNM] Check scenario009

Change-Id: Ic674aca2dfac22e948c967eb30cffc5a8ddda663
"
openstack%2Fpython-mistralclient~master~I5715d0602758cb4a0129ce2fc4c35d3e3f46cb70,openstack/python-mistralclient,master,eyalb/test_names,I5715d0602758cb4a0129ce2fc4c35d3e3f46cb70,Rename the test class so it will be PyCharm friendly,MERGED,2019-07-30 14:37:30.000000000,2019-07-31 06:48:37.000000000,2019-07-31 06:48:37.000000000,1,1,0,673541,345e0706e595005fd215e21dcb773b6dccbaeba1,6,2,1,1,19134,Eyal,eyalb,"Rename the test class so it will be PyCharm friendly

In order to run from PyCharm test classed need to end or start
with the word test

Change-Id: I5715d0602758cb4a0129ce2fc4c35d3e3f46cb70
"
openstack%2Fnova~master~I1c62a0a5be6c44176b5714af00cc181eb5437585,openstack/nova,master,bug/1764556,I1c62a0a5be6c44176b5714af00cc181eb5437585,Add functional regression test for bug 1778305,MERGED,2018-07-12 22:05:33.000000000,2019-07-31 06:31:58.000000000,2019-07-31 06:31:58.000000000,67,0,0,582407,1d9aaef3d1c880b02d6b7c186e8de79cbaac9ae0,67,13,8,1,4690,melanie witt,melwitt,"Add functional regression test for bug 1778305

This tests the scenario where an operator has upgraded from Ocata =>
Pike but has old, deleted services that share the same hostname with
currently existing, running services. The current behavior is that
ServiceTooOld is raised when we try to generate a UUID for the old,
deleted service while querying for a list of instances. After the bug
is fixed, we should be able to successfully query for a list of
instances.

Related-Bug: #1778305

Change-Id: I1c62a0a5be6c44176b5714af00cc181eb5437585
"
openstack%2Fmistral~master~I69ca615ed446214463f8fa7a3e303ff0bf32b460,openstack/mistral,master,eyalb/devstack,I69ca615ed446214463f8fa7a3e303ff0bf32b460,When installing devstack enable the bash completion,MERGED,2019-07-21 05:38:52.000000000,2019-07-31 06:27:45.000000000,2019-07-31 06:27:45.000000000,10,13,2,671914,90a9a48f21cbbf9ccf270799d0fc2aa25895636f,20,5,6,2,19134,Eyal,eyalb,"When installing devstack enable the bash completion

In devstack if we install the client then copy the bash
completion script to its folder.
also use the standart devstack function to install the
mistral client

Change-Id: I69ca615ed446214463f8fa7a3e303ff0bf32b460
"
openstack%2Fcinder~stable%2Fqueens~Id04c49006ce0a13a149b080956a3456db1c44099,openstack/cinder,stable/queens,new-branch,Id04c49006ce0a13a149b080956a3456db1c44099,function supplement,ABANDONED,2019-07-31 02:10:57.000000000,2019-07-31 06:16:02.000000000,,44,0,0,673715,b441fd3bd6ad42055fad63bf0a772e9c502a36cb,3,1,1,1,30754,FengJiankui,FengJiankui,"function supplement

Change-Id: Id04c49006ce0a13a149b080956a3456db1c44099
"
openstack%2Fmistral~master~I85b9cc76ad7c10a9ffac7ae61232460381723b8f,openstack/mistral,master,eyalb/test_names,I85b9cc76ad7c10a9ffac7ae61232460381723b8f,Rename the test class so it will be PyCharm friendly,MERGED,2019-07-30 14:44:01.000000000,2019-07-31 05:48:17.000000000,2019-07-31 05:48:17.000000000,32,32,0,673544,77118d3bb90fd7a27f4eafd1da569a73e7b6acb1,7,3,1,14,19134,Eyal,eyalb,"Rename the test class so it will be PyCharm friendly

In order to run from PyCharm test classed need to end or start
with the word 'Test'

Change-Id: I85b9cc76ad7c10a9ffac7ae61232460381723b8f
"
openstack%2Fproject-config~master~I571afd0557f52ec9bf470c9ede46b9e3a0bb308f,openstack/project-config,master,update-neutron-dashboard,I571afd0557f52ec9bf470c9ede46b9e3a0bb308f,"Rename ""tripleo-ci-centos-7-scenario007-standalone"" in Neutron",MERGED,2019-07-23 13:43:09.000000000,2019-07-31 05:45:55.000000000,2019-07-31 05:45:55.000000000,2,2,3,672290,003a174f37e75f5d63030eecbbbb157ebc96149e,12,4,2,1,11975,Slawek Kaplonski,slaweq,"Rename ""tripleo-ci-centos-7-scenario007-standalone"" in Neutron

Job ""tripleo-ci-centos-7-scenario007-standalone"" defined in Neutron
repo had to be renamed to not conflict with same job proposed in
Tripleo-ci repo.
Now this job in Neutron is called
""neutron-centos-7-tripleo-standalone"".

Change-Id: I571afd0557f52ec9bf470c9ede46b9e3a0bb308f
"
openstack%2Fpuppet-cinder~master~I02786009cf59cc113c390aa59a9297575ceb328c,openstack/puppet-cinder,master,customized-user-role,I02786009cf59cc113c390aa59a9297575ceb328c,Customize roles assigned to cinder user,MERGED,2019-06-25 00:12:19.000000000,2019-07-31 05:40:15.000000000,2019-07-31 05:40:15.000000000,82,33,0,667252,0e78a0faaef9e9a75b1a6607cddcc3e657f29cf1,30,5,5,5,9816,Takashi Kajinami,kajinamit,"Customize roles assigned to cinder user

This patch introduces a new hieradata cinder::keystone::auth::roles,
to configure customized role assigned to cinder user.

This is required to configure service token feature, as it requires
special role is assigned to the user who uses the feature.

Change-Id: I02786009cf59cc113c390aa59a9297575ceb328c
"
openstack%2Fpython-tripleoclient~master~I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20,openstack/python-tripleoclient,master,bp/validation-framework,I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20,Add --parameters and --create-vars-file arguments to the list subcommand,MERGED,2019-07-11 16:44:35.000000000,2019-07-31 05:21:56.000000000,2019-07-31 05:21:56.000000000,185,12,7,670352,d1084193f6d60559f28b8b71fc0f0f6c032b09c7,51,8,17,5,11491,Gael Chamoulaud,gchamoul,"Add --parameters and --create-vars-file arguments to the list subcommand

The 'openstack tripleo validator list' subcommand can now get only the
available parameters for the validations using the new --parameters
argument.

```
$ openstack tripleo validator list \
    --parameters                   \
    [--validation-name <validation_id>[,<validation_id>,...] |
     --group <group>[,<group>,...]]
```

Here is an output example:

```
Waiting for messages on queue 'tripleo' with no timeout.
{
    ""undercloud-cpu"": {
        ""parameters"": {
            ""min_undercloud_cpu_count"": 8
        }
    },
    ""undercloud-ram"": {
        ""parameters"": {
            ""min_undercloud_ram_gb"": 24
        }
    }
}
```

The --create-vars-file allow the operator to generate either a JSON or a
YAML file containing only the parameters of one or multiple validations.
This file will be available to pass as extra vars to the validations
execution.

```
$ openstack tripleo validator list \
    --parameters                   \
    --create-vars-file [json|yaml] /home/stack/myvars \
    [--validation-name <validation_id>[,<validation_id>,...] |
     --group <group>[,<group>,...]]
```

Change-Id: I6e2255c0d490ee8105f0757d02f5d8fba1d4fa20
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
"
openstack%2Fplacement~master~I82cf1aec44e251b30295b6119949a5995c0b6e3f,openstack/placement,master,nested-magic,I82cf1aec44e251b30295b6119949a5995c0b6e3f,Extra gabbi tests for same_subtree,MERGED,2019-07-09 19:30:12.000000000,2019-07-31 04:42:41.000000000,2019-07-31 04:42:41.000000000,127,0,14,669930,3b484c80d50a3d9a418535dc8b488b2f9c0f2a28,30,4,5,1,14070,Eric Fried,efried,"Extra gabbi tests for same_subtree

This is a followon for test gaps in the same_subtree patch [1].

[1] https://review.opendev.org/#/c/668376/8/placement/tests/functional/gabbits/granular-same-subtree.yaml

Change-Id: I82cf1aec44e251b30295b6119949a5995c0b6e3f
"
openstack%2Fdevstack~master~I8a6c3403192d1416cb66cc9e92ec827b339f1270,openstack/devstack,master,retire-api-site,I8a6c3403192d1416cb66cc9e92ec827b339f1270,Update api-ref location,MERGED,2019-07-30 15:53:12.000000000,2019-07-31 04:42:40.000000000,2019-07-31 04:42:40.000000000,1,1,0,673573,0fc6b2c5a87a1884bf3cff086081b3a253cd9302,6,2,1,1,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I8a6c3403192d1416cb66cc9e92ec827b339f1270
"
openstack%2Fdevstack~stable%2Fqueens~I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4,openstack/devstack,stable/queens,,I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4,zuul: new variable to easily populate TEMPEST_PLUGINS,MERGED,2019-07-30 07:41:42.000000000,2019-07-31 04:42:39.000000000,2019-07-31 04:42:39.000000000,94,42,0,673428,b3a817956af9c383635475ae690f346b6a0821c4,6,2,1,4,10459,Luigi Toscano,ltoscano,"zuul: new variable to easily populate TEMPEST_PLUGINS

TEMPEST_PLUGINS contains the list of the tempest plugins installed
alongside tempest by lib/tempest.
If TEMPEST_PLUGINS is not explicitly set, the new tempest_plugins
variable is used to fill it by combining its items with
the base devstack path.

Change-Id: I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4
(cherry picked from commit 70d043dd6039fb55aa9d40d593839037bb8c43cf)
"
openstack%2Fdevstack~stable%2Fqueens~Ia001badca179c3f3436d5ecd26b0755a3f3a3078,openstack/devstack,stable/queens,,Ia001badca179c3f3436d5ecd26b0755a3f3a3078,zuul job: write the enable_plugin lines last,MERGED,2019-07-30 07:41:42.000000000,2019-07-31 04:42:38.000000000,2019-07-31 04:42:38.000000000,5,2,0,673427,9219134cb0bc8563bd66843be03dea4877847c6c,6,2,1,1,10459,Luigi Toscano,ltoscano,"zuul job: write the enable_plugin lines last

Plugins must be the last items in the local.conf file
otherwise the configuration set in the rest of the file
is not applied to them (for example a different value of DEST.)

Change-Id: Ia001badca179c3f3436d5ecd26b0755a3f3a3078
(cherry picked from commit 610927f4255f0ed4877a3e85d628202e4af2f7d4)
"
openstack%2Fironic~stable%2Fqueens~I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f,openstack/ironic,stable/queens,story/2006256-stable/queens,I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f,Filter security group list on the ID's we expect,MERGED,2019-07-30 10:46:03.000000000,2019-07-31 04:36:05.000000000,2019-07-30 15:20:25.000000000,32,17,0,673475,4f95c2fd0ef33f41e24866dbb54135d4a98c9938,9,6,1,3,10239,Dmitry Tantsur,dtantsur,"Filter security group list on the ID's we expect

Filter the list of security groups based on the security
group IDs we plan on using for the network. Also only
get the id field as this is all we need to compare.

Fixes an issue where deployment fail on systems with a
high number of security groups.

Story: 2006256
Task: 35871
Change-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f
(cherry picked from commit 59787768cbf1d757611be27406777a088fb16659)
"
openstack%2Fdevstack~stable%2Fqueens~I91093a424f8d5e8007f140083e1ea36a81fe849f,openstack/devstack,stable/queens,,I91093a424f8d5e8007f140083e1ea36a81fe849f,Allow plugin names to contain non-letter characters,MERGED,2019-07-30 07:41:42.000000000,2019-07-31 04:14:38.000000000,2019-07-31 04:14:38.000000000,8,8,0,673426,b80c66e730d120e1988d1e09a7cbf9aadb3f959d,6,3,1,2,10459,Luigi Toscano,ltoscano,"Allow plugin names to contain non-letter characters

There are already devstack plugins that contain a hyphen in the name,
like `networking-baremetal`. In order to allow ordering for these to
work properly, amend the regexes we are using to match any
non-whitespace characters instead of only alphanumerics.

Amend the test to cover this use case.

Change-Id: I91093a424f8d5e8007f140083e1ea36a81fe849f
Closes-Bug: 1809016
(cherry picked from commit 0b855007f8d44662ad4fd52bda7df85f94b241c2)
"
openstack%2Fdevstack~stable%2Fqueens~I125870b13d2581cdec0dede11157b19b702565cd,openstack/devstack,stable/queens,,I125870b13d2581cdec0dede11157b19b702565cd,Fix testing for the write-devstack-local-conf role,MERGED,2019-07-30 07:41:42.000000000,2019-07-31 04:14:37.000000000,2019-07-31 04:14:37.000000000,16,0,0,673425,7b001f5d6c4eb95a27c73aa7eb45970167ce5c1a,6,3,1,1,10459,Luigi Toscano,ltoscano,"Fix testing for the write-devstack-local-conf role

The test_plugin_deps function in the test code for the
write-devstack-local-conf role was missing the import part of actually
executing the code under test and asserting the expected result.

Change-Id: I125870b13d2581cdec0dede11157b19b702565cd
(cherry picked from commit 6d103a7ff845076da984afbd317cd8cf4504fb7a)
"
openstack%2Ftempest-lib~master~I8e64c7d8c46e81d0ec59a167ef587c1c61762cc6,openstack/tempest-lib,master,,I8e64c7d8c46e81d0ec59a167ef587c1c61762cc6,Update api-ref location,ABANDONED,2019-07-30 17:17:55.000000000,2019-07-31 04:10:28.000000000,,132,133,0,673582,0224cb58e323a6d29884132b326f9110c78e999f,4,2,1,23,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that the links here were for ancient versions of the API reference,
they have all been replaced by current ones.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I8e64c7d8c46e81d0ec59a167ef587c1c61762cc6
"
openstack%2Foctavia-lib~master~I4573e3465fcdfb90c53480e5eddcf7091318fbfb,openstack/octavia-lib,master,sphinx,I4573e3465fcdfb90c53480e5eddcf7091318fbfb,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-26 06:31:57.000000000,2019-07-31 04:00:20.000000000,2019-07-31 04:00:20.000000000,1,1,1,672878,e0769bac21993a9e4764da9a437172f65e48ac96,15,5,3,1,27822,pengyuesheng,pengyuesheng,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I4573e3465fcdfb90c53480e5eddcf7091318fbfb
"
openstack%2Foctavia~master~I1cbf4dff958a36d2af2883cb2596fab53741cef1,openstack/octavia,master,,I1cbf4dff958a36d2af2883cb2596fab53741cef1,"Add missing test requirement ""fixtures""",MERGED,2019-07-23 19:53:00.000000000,2019-07-31 04:00:19.000000000,2019-07-31 04:00:19.000000000,1,0,0,672349,a84352af56f922f85c31fba5863d330ef1f1c033,7,3,1,1,11628,Michael Johnson,johnsom,"Add missing test requirement ""fixtures""

Change-Id: I1cbf4dff958a36d2af2883cb2596fab53741cef1
"
openstack%2Finstack-undercloud~stable%2Frocky~I96f5e4e51947da6919724d8ffb8531b8ecf87ff8,openstack/instack-undercloud,stable/rocky,bug/1831253-stable/rocky,I96f5e4e51947da6919724d8ffb8531b8ecf87ff8,[queens-only] Rename the systemctl-daemon-reload exec,MERGED,2019-07-30 23:41:34.000000000,2019-07-31 03:43:36.000000000,2019-07-31 03:43:36.000000000,3,3,0,673711,764aaf6a5cfc6906e673322fac82d7b58419907e,7,4,1,1,14985,Alex Schultz,mwhahaha,"[queens-only] Rename the systemctl-daemon-reload exec

While rebasing puppet-rabbitmq due to other reasons, I noticed that the
undercloud (re) deploy would fail with:

2019-05-31 09:59:00,919 INFO: Error: Evaluation Error: Error while evaluating a Resource Statement, Evaluation Error: Error while evaluating a Resource Statement, Duplicate declaration: Exec[systemctl-daemon-reload] is already declared in file /etc/puppet/manifests/puppet-stack-config.pp:99; cannot redeclare at /etc/puppet/modules/systemd/manifests/systemctl/daemon_reload.pp:5 at /etc/puppet/modules/systemd/manifests/systemctl/daemon_reload.pp:5:3 at /etc/puppet/modules/rabbitmq/manifests/config.pp:231 on node undercloud-0.redhat.local
2019-05-31 09:59:00,982 INFO: + rc=1

This is because a newer puppet-rabbitmq introduced:
+
+ if $::facts['systemd'] {
+ Class['systemd::systemctl::daemon_reload'] -> Service['rabbitmq-server']
+ }
   }

Which then pulls in the exec called 'systemctl-daemon-reload' from the
systemd module which conflicts with the same call we do in undercloud
puppet manifest.
Let's just rename this exact to 'systemctl-daemon-undercloud' so we do
not duplicate this resource ever. Tested this on a queens undercloud
with a puppet-rabbitmq that triggers the problematic exec and got a
correctly redeployed undercloud.

We could have used the systemd module instead but that might require
other backports and this seems the smallest possible approach to solve
this.

Change-Id: I96f5e4e51947da6919724d8ffb8531b8ecf87ff8
Closes-Bug: #1831253
(cherry picked from commit d12465b4a0134a2ecc0d5e5d9fb96cf55a730b6e)
"
openstack%2Ftripleo-heat-templates~master~I0e2429dc22a4ed03619b9c3f52b0dd1108aea56b,openstack/tripleo-heat-templates,master,bug/1838099,I0e2429dc22a4ed03619b9c3f52b0dd1108aea56b,"Fix misspelling of ""errors"" in deploy-steps.j2",MERGED,2019-07-26 19:52:05.000000000,2019-07-31 03:23:53.000000000,2019-07-31 03:23:53.000000000,1,1,0,673102,efae2298ad58779f4ba074e3a920b2745c012751,18,7,1,1,18002,John Fulton,fultonj,"Fix misspelling of ""errors"" in deploy-steps.j2

Change-Id: I0e2429dc22a4ed03619b9c3f52b0dd1108aea56b
Closes-Bug: #1838099
"
openstack%2Fdevstack~stable%2Frocky~I91093a424f8d5e8007f140083e1ea36a81fe849f,openstack/devstack,stable/rocky,,I91093a424f8d5e8007f140083e1ea36a81fe849f,Allow plugin names to contain non-letter characters,MERGED,2019-07-30 07:40:47.000000000,2019-07-31 03:23:49.000000000,2019-07-31 03:23:49.000000000,8,8,0,673421,03d90d452c5b44d89733f247a7cd322b1f9bb22c,6,3,1,2,10459,Luigi Toscano,ltoscano,"Allow plugin names to contain non-letter characters

There are already devstack plugins that contain a hyphen in the name,
like `networking-baremetal`. In order to allow ordering for these to
work properly, amend the regexes we are using to match any
non-whitespace characters instead of only alphanumerics.

Amend the test to cover this use case.

Change-Id: I91093a424f8d5e8007f140083e1ea36a81fe849f
Closes-Bug: 1809016
(cherry picked from commit 0b855007f8d44662ad4fd52bda7df85f94b241c2)
"
openstack%2Fdevstack~stable%2Frocky~I125870b13d2581cdec0dede11157b19b702565cd,openstack/devstack,stable/rocky,,I125870b13d2581cdec0dede11157b19b702565cd,Fix testing for the write-devstack-local-conf role,MERGED,2019-07-30 07:40:47.000000000,2019-07-31 03:23:48.000000000,2019-07-31 03:23:48.000000000,16,0,0,673420,d86f3dbc89d8594c32cb4d20f527a8ffb2ed0cd6,6,3,1,1,10459,Luigi Toscano,ltoscano,"Fix testing for the write-devstack-local-conf role

The test_plugin_deps function in the test code for the
write-devstack-local-conf role was missing the import part of actually
executing the code under test and asserting the expected result.

Change-Id: I125870b13d2581cdec0dede11157b19b702565cd
(cherry picked from commit 6d103a7ff845076da984afbd317cd8cf4504fb7a)
"
openstack%2Fmanila-tempest-plugin~master~I960b6bf8f283ea928fd512811f8d88268b0945d2,openstack/manila-tempest-plugin,master,,I960b6bf8f283ea928fd512811f8d88268b0945d2,Comment test tags,MERGED,2019-07-29 21:09:51.000000000,2019-07-31 03:15:49.000000000,2019-07-31 03:15:49.000000000,4,0,0,673365,69f9696b0a2450b2664298be7b4af06159e68916,19,4,1,1,9003,Tom Barron,tbarron,"Comment test tags

Add comments to the definitions of the test tags related
to service involvement matching the documentation on
running a subset of manila tempest tests based on
service involvement [1].

[1] https://docs.openstack.org/manila/latest/contributor/tempest_tests.html#running-a-subset-of-tests-based-on-service-involvement
Change-Id: I960b6bf8f283ea928fd512811f8d88268b0945d2
"
openstack%2Ftripleo-heat-templates~master~I01a95be975011d2419a523da572503e0ebcfa49b,openstack/tripleo-heat-templates,master,bz_1733608,I01a95be975011d2419a523da572503e0ebcfa49b,Move the Hiera symlink task from post configuration to deployment steps.,MERGED,2019-07-29 16:08:43.000000000,2019-07-31 02:27:36.000000000,2019-07-31 02:27:36.000000000,7,30,2,673328,3b813d845cba18977afea00ca62ea6e6d6d5ba45,20,5,5,3,25877,Luke Short,ekultails,"Move the Hiera symlink task from post configuration to deployment steps.

This helps to consolidate the Undercloud and Standalone deployments. It
also avoids an issue where the Ansible Python interperter cannot be
found.

Change-Id: I01a95be975011d2419a523da572503e0ebcfa49b
Resolves: rhbz#1733608
Signed-off-by: Luke Short <ekultails@gmail.com>
"
openstack%2Fdevstack~stable%2Fpike~I125870b13d2581cdec0dede11157b19b702565cd,openstack/devstack,stable/pike,,I125870b13d2581cdec0dede11157b19b702565cd,Fix testing for the write-devstack-local-conf role,MERGED,2019-07-30 07:45:44.000000000,2019-07-31 02:09:44.000000000,2019-07-31 02:09:44.000000000,16,0,0,673430,a069e496023528e4ee0de62bbcde10f9691cdcef,6,3,1,1,10459,Luigi Toscano,ltoscano,"Fix testing for the write-devstack-local-conf role

The test_plugin_deps function in the test code for the
write-devstack-local-conf role was missing the import part of actually
executing the code under test and asserting the expected result.

Change-Id: I125870b13d2581cdec0dede11157b19b702565cd
(cherry picked from commit 6d103a7ff845076da984afbd317cd8cf4504fb7a)
"
openstack%2Fnova~master~I4d60da26fcf0a77628d1fdf4e818884614fa4f02,openstack/nova,master,bug/1764556,I4d60da26fcf0a77628d1fdf4e818884614fa4f02,Add functional recreate test for bug 1764556,MERGED,2018-04-17 20:21:54.000000000,2019-07-31 02:00:11.000000000,2019-07-31 02:00:11.000000000,159,2,10,562041,81f05f53d357a546c7f9a53cae6ef45b92e28bc1,106,21,10,2,6873,Matt Riedemann,mriedem,"Add functional recreate test for bug 1764556

This attempts to recreate the following scenario:

1) boot instance on ocata host where the compute service
   does not have a uuid
2) migrate instance
3) delete the ocata service (thus deleting the compute node)
4) start compute service with the same name
5) migrate instance to newly-created compute node
6) upgrade to pike where services.uuid data migration happens
7) list instances as admin to join on the services table

The failure occurs when listing instances because the deleted
service with the same name as the compute host that the instance
is running on gets pulled from the DB and the Service object
attempts to set a uuid on it, which fails since it's not using
a read_deleted=""yes"" context.

While working on this, the service_get_all_by_binary DB API
method had to be fixed to not hard-code read_deleted=""no"" since
the test needs to be able to read deleted services, which it can
control via its own context object (note that
RequestContext.read_deleted already defaults to ""no"" so the
hard-coding in the DB API is unnecessarily restrictive).

Change-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02
Related-Bug: #1764556
"
openstack%2Fkarbor~master~Ib43e63ffdc58615f1ea2d273306c7170a1f97f1b,openstack/karbor,master,retire-api-site,Ib43e63ffdc58615f1ea2d273306c7170a1f97f1b,Update api-ref location,MERGED,2019-07-22 16:32:20.000000000,2019-07-31 01:47:56.000000000,2019-07-31 01:47:56.000000000,1,1,0,672091,e8199ce65fa0293c769e726df8f5e802f31675c5,11,9,2,1,6547,Andreas Jaeger,jaegerandi,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ib43e63ffdc58615f1ea2d273306c7170a1f97f1b
"
openstack%2Fpuppet-openstack_spec_helper~master~I40cb2a5b855236bdf74e495415ccfddb79813840,openstack/puppet-openstack_spec_helper,master,revert,I40cb2a5b855236bdf74e495415ccfddb79813840,"Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""",MERGED,2019-07-30 12:15:30.000000000,2019-07-31 01:30:02.000000000,2019-07-31 01:30:02.000000000,0,4,0,673492,d646e76d5a4185c373f6dce673e09ca0eaa9e627,27,3,8,1,3153,Emilien Macchi,emilienm,"Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""

This reverts commit 15c70194db831d25f13a49098159289bad05bac9.

Change-Id: I40cb2a5b855236bdf74e495415ccfddb79813840
"
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Idc3328658a4c5c21fd011c6c4f791e7993559f1a,openstack/tripleo-heat-templates,stable/queens,bug/1822571,Idc3328658a4c5c21fd011c6c4f791e7993559f1a,OVS Revalidator and handler threads,MERGED,2019-06-11 14:08:14.000000000,2019-07-31 00:57:19.000000000,2019-07-31 00:57:19.000000000,21,0,1,664600,87ba89813397bad46b9b7ce377b4452033a36874,29,5,3,2,30229,Haresh,hakhande,"OVS Revalidator and handler threads

Revalidator and handler threads are not coherent with lcore
Configure these threads accoding to confgiure lcores

Conflicts:
        puppet/services/openvswitch.yaml

Change-Id: Idc3328658a4c5c21fd011c6c4f791e7993559f1a
Closes-Bug: #1822571
Depends-On: https://review.opendev.org/#/c/664239/
(cherry picked from commit 3c5ad2aab98fa9a1ab26cc6c348a64806276e8b9)
"
openstack%2Fironic~stable%2Fqueens~Ib1b1e32bc60d7ec271098dcd17086f79518c09df,openstack/ironic,stable/queens,,Ib1b1e32bc60d7ec271098dcd17086f79518c09df,CI: stop using pyghmi from git master,MERGED,2019-07-30 08:32:05.000000000,2019-07-31 00:50:21.000000000,2019-07-30 14:47:58.000000000,0,18,0,673448,9bba2ca165fb75db1191eb0ba5e64d335b5725ff,9,5,1,14,10239,Dmitry Tantsur,dtantsur,"CI: stop using pyghmi from git master

It's just a library we consume, there is no reason to use its
git head. Currently 1.4.0 is breaking us.

The stable version of this patch was reworked to cover legacy jobs.

Story: #2006301
Task: #36014
Change-Id: Ib1b1e32bc60d7ec271098dcd17086f79518c09df
(cherry picked from commit 3dfce5f2de6377d74632bb2a7fe3d382ccc629b0)
"
openstack%2Fpuppet-nova~stable%2Fqueens~I2766cdd66ff17756daaf1a75ad516a7af6eebddc,openstack/puppet-nova,stable/queens,bug/1778216-stable/queens,I2766cdd66ff17756daaf1a75ad516a7af6eebddc,Add functionality to manage /etc/sysconfig/libvirt-guests,MERGED,2019-07-24 08:41:58.000000000,2019-07-31 00:06:50.000000000,2019-07-31 00:06:50.000000000,181,0,0,672469,88cff3858f331e2a88c4f3d8ce838aeaf6e6e46e,16,7,1,4,17216,Martin Schuppert,mcschupp,"Add functionality to manage /etc/sysconfig/libvirt-guests

If resume_guests_state_on_host_boot is set in nova.conf also
libvirt-guests need to be configured in the right way to shutdown
running instances on a compute reboot.

Closes-bug: 1778216
Change-Id: I2766cdd66ff17756daaf1a75ad516a7af6eebddc
(cherry picked from commit df325e8f6db80b4ef65d88a9a0369b6802c44a86)
"
openstack%2Fproject-config~master~I691e2bd676816884f732601229c98b578efc46b3,openstack/project-config,master,kafs-iad,I691e2bd676816884f732601229c98b578efc46b3,"Revert ""Enable IAD opendev.org mirror""",MERGED,2019-07-30 23:38:17.000000000,2019-07-31 00:03:09.000000000,2019-07-31 00:03:08.000000000,1,1,0,673710,644805b7b6589cd29c29dc3ce6044d51ed731e72,7,3,1,1,7118,Ian Wienand,iwienand,"Revert ""Enable IAD opendev.org mirror""

This reverts commit 3e5df9727f246f6504fc41bf5d9354b6fec67b2b.

We have been testing with the kernel referenced in the original for
several days and have enough data.  There is an open issue with oops
in fscache which we need to resolve for this to be stable.

Change-Id: I691e2bd676816884f732601229c98b578efc46b3
"
openstack%2Fopenstack-ansible~master~I77b7e090aa4331e6a9547e0526a0f291f06a57c0,openstack/openstack-ansible,master,nova_console_httpchk,I77b7e090aa4331e6a9547e0526a0f291f06a57c0,Change haproxy http-check expect for nova_console,MERGED,2019-07-23 07:47:33.000000000,2019-07-30 23:59:30.000000000,2019-07-30 19:47:41.000000000,1,1,0,672215,dc409a98e3d8b3c28cc884442776bd9b525cc851,11,5,1,1,14805,Jimmy McCrory,jimmy-mccrory,"Change haproxy http-check expect for nova_console

Change the haproxy_backend_httpcheck_options to expect an 'OK' string
rather than a 200 response to avoid constant logging of broken pipe
errors in the console proxy services' logs.

Change-Id: I77b7e090aa4331e6a9547e0526a0f291f06a57c0
"
openstack%2Finstack-undercloud~stable%2Fqueens~I96f5e4e51947da6919724d8ffb8531b8ecf87ff8,openstack/instack-undercloud,stable/queens,bug/1831253,I96f5e4e51947da6919724d8ffb8531b8ecf87ff8,[queens-only] Rename the systemctl-daemon-reload exec,MERGED,2019-05-31 14:37:51.000000000,2019-07-30 23:41:34.000000000,2019-05-31 22:38:19.000000000,3,3,0,662488,d12465b4a0134a2ecc0d5e5d9fb96cf55a730b6e,8,3,1,1,20172,Michele Baldessari,michele,"[queens-only] Rename the systemctl-daemon-reload exec

While rebasing puppet-rabbitmq due to other reasons, I noticed that the
undercloud (re) deploy would fail with:

2019-05-31 09:59:00,919 INFO: Error: Evaluation Error: Error while evaluating a Resource Statement, Evaluation Error: Error while evaluating a Resource Statement, Duplicate declaration: Exec[systemctl-daemon-reload] is already declared in file /etc/puppet/manifests/puppet-stack-config.pp:99; cannot redeclare at /etc/puppet/modules/systemd/manifests/systemctl/daemon_reload.pp:5 at /etc/puppet/modules/systemd/manifests/systemctl/daemon_reload.pp:5:3 at /etc/puppet/modules/rabbitmq/manifests/config.pp:231 on node undercloud-0.redhat.local
2019-05-31 09:59:00,982 INFO: + rc=1

This is because a newer puppet-rabbitmq introduced:
+
+ if $::facts['systemd'] {
+ Class['systemd::systemctl::daemon_reload'] -> Service['rabbitmq-server']
+ }
   }

Which then pulls in the exec called 'systemctl-daemon-reload' from the
systemd module which conflicts with the same call we do in undercloud
puppet manifest.
Let's just rename this exact to 'systemctl-daemon-undercloud' so we do
not duplicate this resource ever. Tested this on a queens undercloud
with a puppet-rabbitmq that triggers the problematic exec and got a
correctly redeployed undercloud.

We could have used the systemd module instead but that might require
other backports and this seems the smallest possible approach to solve
this.

Change-Id: I96f5e4e51947da6919724d8ffb8531b8ecf87ff8
Closes-Bug: #1831253
"
openstack%2Fproject-config~master~I012b49f4d1ecc58ad6483cb6a2ab2e6ea9067e98,openstack/project-config,master,add-monitoring,I012b49f4d1ecc58ad6483cb6a2ab2e6ea9067e98,projects: add vexxhost/openstack-monitoring,MERGED,2019-07-30 22:57:54.000000000,2019-07-30 23:37:09.000000000,2019-07-30 23:37:09.000000000,4,0,0,673708,505137fa5af1722c04f760b79ad71be01fe1711e,7,3,1,2,1004,Mohammed Naser,mnaser,"projects: add vexxhost/openstack-monitoring

This will be used for a set of playbooks that can be used to deploy
OpenStack monitoring on Sensu infrastructure.

Change-Id: I012b49f4d1ecc58ad6483cb6a2ab2e6ea9067e98
"
openstack%2Fpython-tripleoclient~master~I9faee9ab133e34466a79aa1176a16106bda1f15d,openstack/python-tripleoclient,master,bug/1836976,I9faee9ab133e34466a79aa1176a16106bda1f15d,Add --concurrency argument to introspect commands,MERGED,2019-07-24 01:15:17.000000000,2019-07-30 23:17:41.000000000,2019-07-30 23:17:41.000000000,51,17,0,672392,3e03e3b78cce8a6babe75bc99c5142232f8a07c2,17,6,2,4,4571,Steve Baker,steve-stevebaker,"Add --concurrency argument to introspect commands

The default concurrency of 20 may be too high for small underclouds
(especially CI environments), so this change adds a --concurrency
argument so callers can control the maximum number of nodes
to introspect concurrently.

Depends-On: https://review.opendev.org/#/c/672389/
Change-Id: I9faee9ab133e34466a79aa1176a16106bda1f15d
Closes-Bug: #1836976
"
openstack%2Fneutron-tempest-plugin~master~I5ce1a34f7d5d635002baa1e5b14c288e6d2bc43e,openstack/neutron-tempest-plugin,master,bug/1838068,I5ce1a34f7d5d635002baa1e5b14c288e6d2bc43e,Refactor the test_qos.QoSTestMixin._check_bw function,MERGED,2019-07-26 17:20:37.000000000,2019-07-30 23:06:19.000000000,2019-07-30 23:06:19.000000000,41,28,4,673023,fa5ebc4b98e4964b73210e38772af50e2524be3b,14,4,3,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Refactor the test_qos.QoSTestMixin._check_bw function

Improved the robustness of this function:
- The remote process (""nc""), will be stopped both at the beginning and
  the end of this function, just to ensure the process is not left
  running at the beginning of the next check.
- The socket connection is closed when the file is received (or in case
  of exception). This will close the client socket and will end the ""nc""
  process in the remote VM.
- Set a socket timeout. This timeout, specifically defined for each
  iteration, depending on the expected bandwidth, will force a quick
  timeout while receiving from the remote VM. The check will fail and it
  will be tested again, if the ""FILE_DOWNLOAD_TIMEOUT"" didn't happen yet.

Change-Id: I5ce1a34f7d5d635002baa1e5b14c288e6d2bc43e
Closes-Bug: #1838068
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Fstein~I40cb2a5b855236bdf74e495415ccfddb79813840,openstack/puppet-openstack_spec_helper,stable/stein,revert-stable/stein,I40cb2a5b855236bdf74e495415ccfddb79813840,"Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""",MERGED,2019-07-30 20:50:30.000000000,2019-07-30 23:03:37.000000000,2019-07-30 23:03:37.000000000,0,4,0,673684,1cb40c73c93ed6b24ee03ed02080f0ca7c2af370,9,2,3,1,3153,Emilien Macchi,emilienm,"Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""

This reverts commit 15c70194db831d25f13a49098159289bad05bac9.

Change-Id: I40cb2a5b855236bdf74e495415ccfddb79813840
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Frocky~I50ac9b7df74200a199743f46a7cb5d7de0f1962f,openstack/puppet-openstack_spec_helper,stable/rocky,rocky/revert,I50ac9b7df74200a199743f46a7cb5d7de0f1962f,"Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""",MERGED,2019-07-30 20:51:44.000000000,2019-07-30 22:48:04.000000000,2019-07-30 22:48:04.000000000,0,8,0,673685,762ae6ad14291ea5c781c173e9d06cb49122eb7b,7,2,1,1,3153,Emilien Macchi,emilienm,"Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""

Change-Id: I50ac9b7df74200a199743f46a7cb5d7de0f1962f
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Fqueens~I50ac9b7df74200a199743f46a7cb5d7de0f1962f,openstack/puppet-openstack_spec_helper,stable/queens,rocky/revert-stable/queens,I50ac9b7df74200a199743f46a7cb5d7de0f1962f,"Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""",MERGED,2019-07-30 20:52:07.000000000,2019-07-30 22:30:54.000000000,2019-07-30 22:30:54.000000000,0,8,0,673686,e3034ac209dba4aa7cc88ff3a12c684a6bd8d349,6,2,1,1,3153,Emilien Macchi,emilienm,"Revert ""Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7""

Change-Id: I50ac9b7df74200a199743f46a7cb5d7de0f1962f
"
openstack%2Fcharm-vault~master~I2d7a100b77c8fa6a5302ed0b453b420dd3c89dc1,openstack/charm-vault,master,bug/1833502,I2d7a100b77c8fa6a5302ed0b453b420dd3c89dc1,Add missing repo to layers.yaml,ABANDONED,2019-07-30 04:57:16.000000000,2019-07-30 22:18:23.000000000,,2,0,0,673399,800f1ca31443d3bf22d8cde54d939d1cc09bf70d,6,4,1,1,8097,Haw Loeung,hloeung,"Add missing repo to layers.yaml

Without it, it will inherit from other layers and display incorrectly
in the charm store, see LP: #1833502

Change-Id: I2d7a100b77c8fa6a5302ed0b453b420dd3c89dc1
Closes-Bug: 1833502
"
openstack%2Fmurano~stable%2Focata~I37d64aca485eb81ac16d7d85d5b695e573c8793c,openstack/murano,stable/ocata,bindep-fallback,I37d64aca485eb81ac16d7d85d5b695e573c8793c,Add local bindep.txt,MERGED,2019-06-28 14:03:33.000000000,2019-07-30 22:07:47.000000000,2019-07-30 22:07:46.000000000,21,0,1,668181,54aa55c6da1b5bdd1270e12f5a15bc54859ed2ad,19,3,1,2,17685,Elod Illes,elod.illes,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I37d64aca485eb81ac16d7d85d5b695e573c8793c
(cherry picked from commit ddd5378ac8535b48e5ae2885b3187a5b1b88b766)
(cherry picked from commit 61f8206c45d18872782dbcedbc99bd26ecfbeaba)
(cherry picked from commit 83cbcc50f5d10aa52ea1762a196f214f80bbb058)
(cherry picked from commit 1f2d572cfa82a426360b1611040d7330ecc48634)
"
openstack%2Fcharm-percona-cluster~master~I00fe3c7c32a000c6b697263a9ad32273515952a7,openstack/charm-percona-cluster,master,bug/1838124,I00fe3c7c32a000c6b697263a9ad32273515952a7,Switch to using DDL for root password update,MERGED,2019-07-30 16:33:31.000000000,2019-07-30 21:47:51.000000000,2019-07-30 21:47:51.000000000,61,31,0,673577,e27006e98b9d0c090c2b07ead0ef12cd1630fe03,14,4,2,4,12549,gnuoy,gnuoy,"Switch to using DDL for root password update

Using DDL for the root password update triggers the cluster to
replicate the password rather than relying on the charm to apply it
to each unit. This means that only the leader should update the
password.

To avoid a password update via config being missed the implicit save
of config data is turned off on update-status hooks.

Change-Id: I00fe3c7c32a000c6b697263a9ad32273515952a7
Closes-Bug: #1838124
Closes-Bug: #1838125
"
openstack%2Fheat~stable%2Frocky~I0f6a30e06bb214bb673930b31a2db946600926b0,openstack/heat,stable/rocky,,I0f6a30e06bb214bb673930b31a2db946600926b0,Show an engine as down if service record is not updated twice,MERGED,2019-07-29 04:53:33.000000000,2019-07-30 21:44:13.000000000,2019-07-30 21:44:13.000000000,10,14,0,673206,ead38da7d12a7530bfee4d103e63af7501209e76,8,3,1,2,8833,Rabi Mishra,rabi,"Show an engine as down if service record is not updated twice

We use the same periodic_interval to update the service record
and compare it with current time when doing 'service list'. So, It's
possible there will be a small window where 'service list' would show
the engine as down. Tools that use service list for monitoring would
wrongly assume the service as down. Let's change service list to
report the service as down if it's not updated in 2*periodic_interval.

Change-Id: I0f6a30e06bb214bb673930b31a2db946600926b0
Task: 35946
(cherry picked from commit fd23308f6ec20e4441d8da486a4f6930a2ba366d)
"
openstack%2Fneutron~master~Iac38e915baeef4eab42c6bbca68304b6d195699f,openstack/neutron,master,bug/1830763,Iac38e915baeef4eab42c6bbca68304b6d195699f,[DVR] Add gateway port to subscribers list after it is configured,ABANDONED,2019-07-26 15:07:24.000000000,2019-07-30 21:43:21.000000000,,3,6,0,673004,4ffc97abd2e42f7e4f2064065b39d4be04c4ba9d,5,3,1,1,11975,Slawek Kaplonski,slaweq,"[DVR] Add gateway port to subscribers list after it is configured

In case of DVR and FIP namespace for external network, FipNamespace
object is storing IDs of gateway ports for various routers which are
using same fip namespace.
This patch changes order when new port is added to subsribers list.
It is now added after namespace is configured to avoid race condition
when 2 different routers are configuring gateway which is from same
network and one of them can fail as namespace of interface in this
namespace don't exists yet.

Change-Id: Iac38e915baeef4eab42c6bbca68304b6d195699f
Closes-Bug: #1830763
"
openstack%2Fopenstack-ansible-lxc_container_create~master~Iba966b14c97cc3bfc0d6effe7a3df7b588639cfb,openstack/openstack-ansible-lxc_container_create,master,pre-up-service-file,Iba966b14c97cc3bfc0d6effe7a3df7b588639cfb,Fix path of pre-up-down oneshot service file,MERGED,2019-07-25 01:38:14.000000000,2019-07-30 21:34:58.000000000,2019-07-30 17:42:24.000000000,3,3,0,672616,605bfb83fec3edd338c4be15626630deca00612a,9,3,1,1,14805,Jimmy McCrory,jimmy-mccrory,"Fix path of pre-up-down oneshot service file

The pre-up-down oneshot service template was mistakenly being written to
the same path as the post-up-down oneshot service file.

Change-Id: Iba966b14c97cc3bfc0d6effe7a3df7b588639cfb
"
openstack%2Ftripleo-heat-templates~master~Ifffaff6f044e334491b8f00cc6c6c8779d7bf7e5,openstack/tripleo-heat-templates,master,bp/reduce-deployment-resources,Ifffaff6f044e334491b8f00cc6c6c8779d7bf7e5,Remove DeploymentSwiftDataMap parameter,MERGED,2019-07-22 08:09:58.000000000,2019-07-30 21:08:49.000000000,2019-07-30 21:08:49.000000000,5,39,0,671981,7c1599a4131ebaed026bc18b636bcaf4bcf489d0,14,6,2,4,8833,Rabi Mishra,rabi,"Remove DeploymentSwiftDataMap parameter

Now that we do all node configurations using config-download,
this interface is not useful anymore.

Change-Id: Ifffaff6f044e334491b8f00cc6c6c8779d7bf7e5
"
openstack%2Fopenstack-ansible~master~Ib7f2fde163a3d3b965a61fee1dd456a186b84e23,openstack/openstack-ansible,master,use_journalctl,Ib7f2fde163a3d3b965a61fee1dd456a186b84e23,Drop creation of log directories,MERGED,2019-07-19 17:49:59.000000000,2019-07-30 21:06:27.000000000,2019-07-30 21:06:27.000000000,42,411,0,671783,aa2607f85c395a134080a59e573c9843f7d69397,40,4,9,36,28619,Dmitriy Rabotyagov,noonedeadpunk,"Drop creation of log directories

This patch finalizes migration to journald with cleanup of
unnecesary tasks, like mapping log directories or launching
rsyslog_client role.

Depends-On: https://review.opendev.org/672059
Depends-On: https://review.opendev.org/672506
Change-Id: Ib7f2fde163a3d3b965a61fee1dd456a186b84e23
"
openstack%2Fopenstack-ansible-repo_server~master~I2791656f04bd5c814dd89ca0d39366bc50e77a25,openstack/openstack-ansible-repo_server,master,openstack/openstack-ansible-tests/sync-tests,I2791656f04bd5c814dd89ca0d39366bc50e77a25,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:46:20.000000000,2019-07-30 20:51:05.000000000,2019-07-30 20:51:05.000000000,1,1,0,673664,0b3147252dcb4994981ac636dc25090bc0896ff5,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I2791656f04bd5c814dd89ca0d39366bc50e77a25
"
openstack%2Fansible-role-openstack-operations~master~Ib4c4abaff35776c6b4e254ca16fda43b44de7072,openstack/ansible-role-openstack-operations,master,,Ib4c4abaff35776c6b4e254ca16fda43b44de7072,Mailing lists change openstack-dev to openstack-discuss,MERGED,2019-07-01 10:56:14.000000000,2019-07-30 20:45:31.000000000,2019-07-30 20:45:31.000000000,1,1,0,668419,ddccab09062bbf1bdf650fc659254ca87c32dcc0,6,2,1,1,27565,inspurericzhang,inspurericzhang,"Mailing lists change openstack-dev to openstack-discuss

Change-Id: Ib4c4abaff35776c6b4e254ca16fda43b44de7072
"
openstack%2Ftripleo-ci~master~Ie4d48b76a79ff66bb799341c77741d8789f4a038,openstack/tripleo-ci,master,bp/automated-ui-testing,Ie4d48b76a79ff66bb799341c77741d8789f4a038,Add selenium job,ABANDONED,2018-10-02 17:19:03.000000000,2019-07-30 20:45:10.000000000,,10,0,7,607327,cf6dfdd5eef762febb920ecb2c6ebc77878a3380,32,7,6,1,20970,Honza Pokorny,hpokorny,"Add selenium job

Change-Id: Ie4d48b76a79ff66bb799341c77741d8789f4a038
Partially-implements: blueprint automated-ui-testing
"
openstack%2Fopenstack-ansible-plugins~master~I00d14427984e4636066f165b55f5e84c618a7742,openstack/openstack-ansible-plugins,master,openstack/openstack-ansible-tests/sync-tests,I00d14427984e4636066f165b55f5e84c618a7742,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:45:40.000000000,2019-07-30 20:41:40.000000000,2019-07-30 20:41:40.000000000,1,1,0,673661,f76632232dfea521aae52fa2945132f717b380c1,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I00d14427984e4636066f165b55f5e84c618a7742
"
openstack%2Fansible-role-systemd_networkd~master~Idf1bd29ba1aafbfed2ca654ae6decff46000d873,openstack/ansible-role-systemd_networkd,master,openstack/openstack-ansible-tests/sync-tests,Idf1bd29ba1aafbfed2ca654ae6decff46000d873,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:48:07.000000000,2019-07-30 20:40:12.000000000,2019-07-30 20:40:12.000000000,1,1,0,673669,f35908ef963e21dee67159f8f140694892e2d5f3,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Idf1bd29ba1aafbfed2ca654ae6decff46000d873
"
openstack%2Fopenstack-ansible-pip_install~master~I14649f867f6953c24e9db0990290913dfbcea294,openstack/openstack-ansible-pip_install,master,openstack/openstack-ansible-tests/sync-tests,I14649f867f6953c24e9db0990290913dfbcea294,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:45:27.000000000,2019-07-30 20:37:50.000000000,2019-07-30 20:37:50.000000000,1,1,0,673660,89facfacc37c69ecddc83bca57805df0ae27590c,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I14649f867f6953c24e9db0990290913dfbcea294
"
openstack%2Fansible-role-systemd_service~master~I85746f7f3e66646930d4c33f60ac3a6370d8eba9,openstack/ansible-role-systemd_service,master,openstack/openstack-ansible-tests/sync-tests,I85746f7f3e66646930d4c33f60ac3a6370d8eba9,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:48:20.000000000,2019-07-30 20:34:56.000000000,2019-07-30 20:34:55.000000000,1,1,0,673670,44066f4c6f0fe2f23f11e74d88899facf995969c,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I85746f7f3e66646930d4c33f60ac3a6370d8eba9
"
openstack%2Fopenstack-ansible-rsyslog_client~master~Id5d7ebcfbc8f1832a981f897ed82e36c83666b94,openstack/openstack-ansible-rsyslog_client,master,openstack/openstack-ansible-tests/sync-tests,Id5d7ebcfbc8f1832a981f897ed82e36c83666b94,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:46:34.000000000,2019-07-30 20:33:16.000000000,2019-07-30 20:33:15.000000000,1,1,0,673665,bc170a8a3f591f4c9a0f77bc69238dd07b3c58a6,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Id5d7ebcfbc8f1832a981f897ed82e36c83666b94
"
openstack%2Fopenstack-ansible-os_glance~master~I11d724580533cb6df709317d2cac800b99fcbf4a,openstack/openstack-ansible-os_glance,master,openstack/openstack-ansible-tests/sync-tests,I11d724580533cb6df709317d2cac800b99fcbf4a,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:39:07.000000000,2019-07-30 20:32:57.000000000,2019-07-30 20:32:57.000000000,1,1,0,673639,02d12f3da837b0c5997e3e0fc530b8ba7b311744,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I11d724580533cb6df709317d2cac800b99fcbf4a
"
openstack%2Fopenstack-ansible-os_glance~master~I55162bc2bf3cbb8858950e4abcf60a3de9929008,openstack/openstack-ansible-os_glance,master,bug/1833725,I55162bc2bf3cbb8858950e4abcf60a3de9929008,Add missing pre-reqs for glance cinder store,MERGED,2019-06-26 18:40:09.000000000,2019-07-30 20:32:56.000000000,2019-07-30 20:32:56.000000000,75,1,35,667704,2636d7eaea6a22ccde8510b2de3d52de269a6445,25,7,5,4,30204,Craig McIntyre,ceemac,"Add missing pre-reqs for glance cinder store

There are a number of missing dependencies in the role when using cinder
store with glance. Specifically rootwrap is required for elevating access
when using os-brick to connect to cinder iscsi/fc volume back end storage.
This patch addresses the following:

 - olso.rootwrap is not included in glance_pip_packages

 - files/rootwrap.d/glance_cinder_store.filters is missing

 - glance user is not added to sudoers

glance_pip_packages updated, missing rootwrap.d and sudoer files now dropped in to
Their required locations by glance_post_install.yml task

Change-Id: I55162bc2bf3cbb8858950e4abcf60a3de9929008
Closes-Bug: #1833725
"
openstack%2Fopenstack-ansible-os_rally~master~I97e13961b284461f61da702a31a4da914d190b06,openstack/openstack-ansible-os_rally,master,openstack/openstack-ansible-tests/sync-tests,I97e13961b284461f61da702a31a4da914d190b06,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:43:26.000000000,2019-07-30 20:27:01.000000000,2019-07-30 20:27:00.000000000,1,1,0,673653,08bae09cb9791d105fedefb499c6a0ed019b12fb,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I97e13961b284461f61da702a31a4da914d190b06
"
openstack%2Fopenstack-ansible-os_ironic~master~I484f637124471e3c16346da228cf8b46246b7199,openstack/openstack-ansible-os_ironic,master,openstack/openstack-ansible-tests/sync-tests,I484f637124471e3c16346da228cf8b46246b7199,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:40:05.000000000,2019-07-30 20:25:26.000000000,2019-07-30 20:25:26.000000000,1,1,0,673642,ed43b3d570c1137ab2b94625c7ce6073b8d68747,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I484f637124471e3c16346da228cf8b46246b7199
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Fqueens~Ieb0d994e9430e5bbb7d9c305e824c14397015807,openstack/puppet-openstack_spec_helper,stable/queens,ci/rocky-stable/queens,Ieb0d994e9430e5bbb7d9c305e824c14397015807,Align stars to fix CI,MERGED,2019-07-30 18:09:23.000000000,2019-07-30 20:25:25.000000000,2019-07-30 20:25:24.000000000,12,2,0,673610,d54fbede62839748ca9a5a83ffe4c1b2faf39b1b,6,2,1,2,3153,Emilien Macchi,emilienm,"Align stars to fix CI

Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7

The job is failing because we removed the usage of zuul cloner and it's
looking for the old location of p-o-i. We need to update the zuul job
definition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.

Add upper limit for rspec-puppet-facts

1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement
which doesn't work on centos7. This change add a upper limit if the ruby
version doesn't meat this 2.1.0 limit.

Change-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807
(cherry picked from commit a06a32d09d6d8925fe4afbf3371ebcd4c80429e3)
"
openstack%2Fopenstack-ansible-os_octavia~master~Ic44e30b259539b5e1dd0817639211722570f62a9,openstack/openstack-ansible-os_octavia,master,openstack/openstack-ansible-tests/sync-tests,Ic44e30b259539b5e1dd0817639211722570f62a9,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:42:46.000000000,2019-07-30 20:25:24.000000000,2019-07-30 20:25:23.000000000,1,1,0,673650,a18639c4e84fd978d3be3629986847accc7bdaf7,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ic44e30b259539b5e1dd0817639211722570f62a9
"
openstack%2Fopenstack-ansible-os_octavia~stable%2Fstein~I750d117086ee0c9b7756e8079379a5aa7705063c,openstack/openstack-ansible-os_octavia,stable/stein,,I750d117086ee0c9b7756e8079379a5aa7705063c,Save iptables rules for all Debian derivative operating systems,MERGED,2019-07-24 16:06:06.000000000,2019-07-30 20:25:23.000000000,2019-07-30 20:25:23.000000000,2,2,0,672555,5ed3ed7e8fe977a3566455a61b5529707b979435,9,4,1,1,25023,Jonathan Rosser,jrosser,"Save iptables rules for all Debian derivative operating systems

This task was previously restricted to Ubuntu 16.04 and would be skipped
on other debian derivative OS.

Change-Id: I750d117086ee0c9b7756e8079379a5aa7705063c
(cherry picked from commit 9c4e9cbe2c81f98b9a4b4f9347b1108a955f7b75)
"
openstack%2Fopenstack-ansible-os_octavia~stable%2Fstein~I26f838490d1f6ed08028d9c70d5202fe27ec0a74,openstack/openstack-ansible-os_octavia,stable/stein,,I26f838490d1f6ed08028d9c70d5202fe27ec0a74,Fixed octavia-health-manager group name,MERGED,2019-07-25 21:03:56.000000000,2019-07-30 20:25:22.000000000,2019-07-30 20:25:22.000000000,1,1,0,672825,0cfcadf0a81911b848cf69171505a54ce778e920,8,4,1,1,25023,Jonathan Rosser,jrosser,"Fixed octavia-health-manager group name

Change-Id: I26f838490d1f6ed08028d9c70d5202fe27ec0a74
(cherry picked from commit f28f02e96ccf5d0a57607ab4c04c75c2cd9bd964)
"
openstack%2Fopenstack-ansible-os_nova~master~I4af1f97e086758248502456dbc149b15339a1844,openstack/openstack-ansible-os_nova,master,openstack/openstack-ansible-tests/sync-tests,I4af1f97e086758248502456dbc149b15339a1844,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:42:33.000000000,2019-07-30 20:25:20.000000000,2019-07-30 20:25:19.000000000,1,1,0,673649,54befc8f239e4cf8cc7bebf2c80b0db2679cf0b1,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I4af1f97e086758248502456dbc149b15339a1844
"
openstack%2Fopenstack-ansible-os_zun~master~Ib640ec1c12cdde8bd805d3af76a54bab89fa4660,openstack/openstack-ansible-os_zun,master,openstack/openstack-ansible-tests/sync-tests,Ib640ec1c12cdde8bd805d3af76a54bab89fa4660,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:45:13.000000000,2019-07-30 20:25:18.000000000,2019-07-30 20:25:18.000000000,1,1,0,673659,ed5ece944a53634a820c60748d27ee5b76e5ae88,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ib640ec1c12cdde8bd805d3af76a54bab89fa4660
"
openstack%2Fopenstack-ansible-rsyslog_server~master~I098123fbaf9967559e031780a4637cf45c6a031a,openstack/openstack-ansible-rsyslog_server,master,openstack/openstack-ansible-tests/sync-tests,I098123fbaf9967559e031780a4637cf45c6a031a,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:46:47.000000000,2019-07-30 20:23:47.000000000,2019-07-30 20:23:46.000000000,1,1,0,673666,cd782be5cccff0f9fbb0fd9a61ffb10ada95f597,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I098123fbaf9967559e031780a4637cf45c6a031a
"
openstack%2Fopenstack-ansible-rabbitmq_server~master~I3b2bcb1758b29f91af66d9bd0c64ab640ecbcd37,openstack/openstack-ansible-rabbitmq_server,master,openstack/openstack-ansible-tests/sync-tests,I3b2bcb1758b29f91af66d9bd0c64ab640ecbcd37,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:45:54.000000000,2019-07-30 20:23:45.000000000,2019-07-30 20:23:45.000000000,1,1,0,673662,4104374d63f6efb37fc4ea2b34b38e18245a3800,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I3b2bcb1758b29f91af66d9bd0c64ab640ecbcd37
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Frocky~Ieb0d994e9430e5bbb7d9c305e824c14397015807,openstack/puppet-openstack_spec_helper,stable/rocky,ci/rocky,Ieb0d994e9430e5bbb7d9c305e824c14397015807,Align stars to fix CI,MERGED,2019-07-30 18:09:03.000000000,2019-07-30 20:23:41.000000000,2019-07-30 20:23:41.000000000,12,2,0,673609,6a4994b54b2e212f35b5a23021a142c81e65aca8,7,2,1,2,3153,Emilien Macchi,emilienm,"Align stars to fix CI

Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7

The job is failing because we removed the usage of zuul cloner and it's
looking for the old location of p-o-i. We need to update the zuul job
definition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.

Add upper limit for rspec-puppet-facts

1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement
which doesn't work on centos7. This change add a upper limit if the ruby
version doesn't meat this 2.1.0 limit.

Change-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807
(cherry picked from commit a06a32d09d6d8925fe4afbf3371ebcd4c80429e3)
"
openstack%2Fpuppet-openstack_spec_helper~stable%2Fstein~Ieb0d994e9430e5bbb7d9c305e824c14397015807,openstack/puppet-openstack_spec_helper,stable/stein,ci/stein,Ieb0d994e9430e5bbb7d9c305e824c14397015807,Align stars to fix CI,MERGED,2019-07-30 18:03:31.000000000,2019-07-30 20:23:41.000000000,2019-07-30 20:23:40.000000000,7,1,0,673607,63d4e601a99aee006ccbfc5ffdfaedc5a90bdbcf,6,2,1,2,3153,Emilien Macchi,emilienm,"Align stars to fix CI

Disable voting on puppet-openstack-libraries-puppet-beaker-rspec-centos-7

The job is failing because we removed the usage of zuul cloner and it's
looking for the old location of p-o-i. We need to update the zuul job
definition in p-o-i, but first we'll need Ieb0d994e9430e5bbb7d9c305e824c14397015807.

Add upper limit for rspec-puppet-facts

1.9.5 of rspect-puppet-facts introduces a ruby >= 2.1.0 requirement
which doesn't work on centos7. This change add a upper limit if the ruby
version doesn't meat this 2.1.0 limit.

Change-Id: Ieb0d994e9430e5bbb7d9c305e824c14397015807
(cherry picked from commit a06a32d09d6d8925fe4afbf3371ebcd4c80429e3)
"
openstack%2Fansible-role-python_venv_build~master~I05043ef481080b465002e51570c4cc3e0dc5dd3e,openstack/ansible-role-python_venv_build,master,openstack/openstack-ansible-tests/sync-tests,I05043ef481080b465002e51570c4cc3e0dc5dd3e,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:47:42.000000000,2019-07-30 20:23:17.000000000,2019-07-30 20:23:17.000000000,1,1,0,673667,6aacb52e88f616d5f2722936ef13668ffc3ee55c,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I05043ef481080b465002e51570c4cc3e0dc5dd3e
"
openstack%2Fopenstack-ansible-os_masakari~master~I33345e56c29b9f7d3fe3bcb905e4e4546033b262,openstack/openstack-ansible-os_masakari,master,openstack/openstack-ansible-tests/sync-tests,I33345e56c29b9f7d3fe3bcb905e4e4546033b262,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:41:19.000000000,2019-07-30 20:23:07.000000000,2019-07-30 20:23:06.000000000,1,1,0,673646,8218d12339774bc9460afbae49e3b155b1c3cd4c,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I33345e56c29b9f7d3fe3bcb905e4e4546033b262
"
openstack%2Fansible-role-systemd_mount~master~I1d4dd85fd6840420884857ed40af7d665ad26fba,openstack/ansible-role-systemd_mount,master,openstack/openstack-ansible-tests/sync-tests,I1d4dd85fd6840420884857ed40af7d665ad26fba,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:47:54.000000000,2019-07-30 20:23:04.000000000,2019-07-30 20:23:04.000000000,1,1,0,673668,98a83ad3bfce244348dd2d155c51ac4c32f0e493,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I1d4dd85fd6840420884857ed40af7d665ad26fba
"
openstack%2Fopenstack-ansible-os_mistral~master~I11ffcad8479470945f17dbd01b2220d5ecc5008a,openstack/openstack-ansible-os_mistral,master,openstack/openstack-ansible-tests/sync-tests,I11ffcad8479470945f17dbd01b2220d5ecc5008a,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:41:32.000000000,2019-07-30 20:22:57.000000000,2019-07-30 20:22:57.000000000,1,1,0,673647,dd5008154e03a1de4d7376ec732c5bb6707dea7e,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I11ffcad8479470945f17dbd01b2220d5ecc5008a
"
openstack%2Fopenstack-ansible-os_trove~master~Idc16ea8d6e8bd415db4aef180f958ca86492b83e,openstack/openstack-ansible-os_trove,master,openstack/openstack-ansible-tests/sync-tests,Idc16ea8d6e8bd415db4aef180f958ca86492b83e,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:44:44.000000000,2019-07-30 20:21:39.000000000,2019-07-30 20:21:39.000000000,1,1,0,673658,d8822dcc8c9e9ab6fac71b86a2b526c222d2a4bb,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Idc16ea8d6e8bd415db4aef180f958ca86492b83e
"
openstack%2Fopenstack-ansible-os_placement~master~I35fcfca99851182e0b71a0e1237af33f2e856834,openstack/openstack-ansible-os_placement,master,openstack/openstack-ansible-tests/sync-tests,I35fcfca99851182e0b71a0e1237af33f2e856834,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:43:12.000000000,2019-07-30 20:21:04.000000000,2019-07-30 20:21:04.000000000,1,1,0,673652,d9e04c6c08959f43c7d6f90599f3c73b1280ee7b,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I35fcfca99851182e0b71a0e1237af33f2e856834
"
openstack%2Fopenstack-ansible-repo_build~master~I4c7ff9b0de0aaaab72aa8705edf7db60139480c0,openstack/openstack-ansible-repo_build,master,openstack/openstack-ansible-tests/sync-tests,I4c7ff9b0de0aaaab72aa8705edf7db60139480c0,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:46:07.000000000,2019-07-30 20:20:59.000000000,2019-07-30 20:20:59.000000000,1,1,0,673663,23bbbab45a50c7af43c431fd0544fce21036dce1,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I4c7ff9b0de0aaaab72aa8705edf7db60139480c0
"
openstack%2Fopenstack-ansible-os_tempest~master~Ie3b58b3773ef63d28d134c650bb08a3fc2e9e899,openstack/openstack-ansible-os_tempest,master,openstack/openstack-ansible-tests/sync-tests,Ie3b58b3773ef63d28d134c650bb08a3fc2e9e899,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:44:31.000000000,2019-07-30 20:20:03.000000000,2019-07-30 20:20:03.000000000,1,1,0,673657,6f5e0518dd055678b94df995ac7f841faa4359b4,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ie3b58b3773ef63d28d134c650bb08a3fc2e9e899
"
openstack%2Fopenstack-ansible-os_panko~master~I45051c5de526ab83014e4e2c8408d3b365f5ba1a,openstack/openstack-ansible-os_panko,master,openstack/openstack-ansible-tests/sync-tests,I45051c5de526ab83014e4e2c8408d3b365f5ba1a,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:42:59.000000000,2019-07-30 20:19:44.000000000,2019-07-30 20:19:44.000000000,1,1,0,673651,46bb2417ea8bc8c62f75b0e48b58aac1ee1150c0,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I45051c5de526ab83014e4e2c8408d3b365f5ba1a
"
openstack%2Fopenstack-ansible-os_tacker~master~I6214ef8fd6f590e424e9a0cfa5286fd3e808af2c,openstack/openstack-ansible-os_tacker,master,openstack/openstack-ansible-tests/sync-tests,I6214ef8fd6f590e424e9a0cfa5286fd3e808af2c,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:44:16.000000000,2019-07-30 20:19:32.000000000,2019-07-30 20:19:31.000000000,1,1,0,673656,7d854c91d47e6383fbd6526502e6bc72d1bb68a7,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I6214ef8fd6f590e424e9a0cfa5286fd3e808af2c
"
openstack%2Fopenstack-ansible-os_swift~master~Ie8feb2e0a0d229aed75461257199bc4af20abbfc,openstack/openstack-ansible-os_swift,master,openstack/openstack-ansible-tests/sync-tests,Ie8feb2e0a0d229aed75461257199bc4af20abbfc,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:44:03.000000000,2019-07-30 20:18:55.000000000,2019-07-30 20:18:54.000000000,1,1,0,673655,94870a6c67e0cd3fdd9b3695d47e0b261523fe38,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ie8feb2e0a0d229aed75461257199bc4af20abbfc
"
openstack%2Fopenstack-ansible-os_neutron~master~Ic455dbc369f1ecab5f1bd9f42875991c82bc9441,openstack/openstack-ansible-os_neutron,master,openstack/openstack-ansible-tests/sync-tests,Ic455dbc369f1ecab5f1bd9f42875991c82bc9441,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:42:19.000000000,2019-07-30 20:18:28.000000000,2019-07-30 20:18:27.000000000,1,1,0,673648,8f08a8c52bcfead99d4365b2a9f1892a72e106b9,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ic455dbc369f1ecab5f1bd9f42875991c82bc9441
"
openstack%2Fopenstack-ansible-os_horizon~master~Iefd32ea8d264ff70623b30e8bce898060b0476cd,openstack/openstack-ansible-os_horizon,master,openstack/openstack-ansible-tests/sync-tests,Iefd32ea8d264ff70623b30e8bce898060b0476cd,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:39:51.000000000,2019-07-30 20:17:54.000000000,2019-07-30 20:17:54.000000000,1,1,0,673641,adcb328348568c8a519bd6f6f305003e4a3f182c,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Iefd32ea8d264ff70623b30e8bce898060b0476cd
"
openstack%2Fopenstack-ansible-os_keystone~master~I04f938ead0be6a3ea62a14dfd5d6c4244dda88ef,openstack/openstack-ansible-os_keystone,master,openstack/openstack-ansible-tests/sync-tests,I04f938ead0be6a3ea62a14dfd5d6c4244dda88ef,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:40:27.000000000,2019-07-30 20:16:51.000000000,2019-07-30 20:16:51.000000000,1,1,0,673643,3fc75ea13d3e5dff5d6a5f3a1fc4e7c1849800ed,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I04f938ead0be6a3ea62a14dfd5d6c4244dda88ef
"
openstack%2Fopenstack-ansible-os_heat~master~Iba9576ab47db61e54ed0f466a14f0e02ac864c45,openstack/openstack-ansible-os_heat,master,openstack/openstack-ansible-tests/sync-tests,Iba9576ab47db61e54ed0f466a14f0e02ac864c45,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:39:38.000000000,2019-07-30 20:16:50.000000000,2019-07-30 20:16:50.000000000,1,1,0,673640,0179a68aaa0c9a4a8d3b09d4dd6f2d3ac93a3344,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Iba9576ab47db61e54ed0f466a14f0e02ac864c45
"
openstack%2Fopenstack-ansible-os_sahara~master~Ie2f5e562908d90638436a6a6f3da1062ff2f621d,openstack/openstack-ansible-os_sahara,master,openstack/openstack-ansible-tests/sync-tests,Ie2f5e562908d90638436a6a6f3da1062ff2f621d,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:43:39.000000000,2019-07-30 20:16:42.000000000,2019-07-30 20:16:42.000000000,1,1,0,673654,cf8df2f2d850ab704fe67b64651974fe558f5170,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ie2f5e562908d90638436a6a6f3da1062ff2f621d
"
openstack%2Fopenstack-ansible-os_cloudkitty~master~I808042f2518b2ee89663763e17b2c07be6f7d13a,openstack/openstack-ansible-os_cloudkitty,master,openstack/openstack-ansible-tests/sync-tests,I808042f2518b2ee89663763e17b2c07be6f7d13a,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:38:26.000000000,2019-07-30 20:16:31.000000000,2019-07-30 20:16:30.000000000,1,1,0,673636,140deda53b5804fdd5d6a8ac275ad7978c9b34d4,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I808042f2518b2ee89663763e17b2c07be6f7d13a
"
openstack%2Fopenstack-ansible-memcached_server~master~I07edccec818c2f2e1969026c058a804d50f59b67,openstack/openstack-ansible-memcached_server,master,openstack/openstack-ansible-tests/sync-tests,I07edccec818c2f2e1969026c058a804d50f59b67,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:35:41.000000000,2019-07-30 20:15:55.000000000,2019-07-30 20:15:54.000000000,1,1,0,673628,f3027df769e523fb691fe29121a0c9db98991afe,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I07edccec818c2f2e1969026c058a804d50f59b67
"
openstack%2Fopenstack-ansible-os_magnum~master~Icbc584b442824fa46682ee9935a87b55f76f5dcc,openstack/openstack-ansible-os_magnum,master,openstack/openstack-ansible-tests/sync-tests,Icbc584b442824fa46682ee9935a87b55f76f5dcc,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:40:40.000000000,2019-07-30 20:15:47.000000000,2019-07-30 20:15:47.000000000,1,1,0,673644,8d0ebd57a24bc8c655216b24988ac2a6146a2b66,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Icbc584b442824fa46682ee9935a87b55f76f5dcc
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I7af695c45d4a556e7695efaecb3fa1f21db405df,openstack/openstack-ansible-openstack_hosts,master,openstack/openstack-ansible-tests/sync-tests,I7af695c45d4a556e7695efaecb3fa1f21db405df,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:36:19.000000000,2019-07-30 20:15:17.000000000,2019-07-30 20:15:17.000000000,1,1,0,673631,5ec996021cd694016b98c30a19fcc710aa18696c,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I7af695c45d4a556e7695efaecb3fa1f21db405df
"
openstack%2Fopenstack-ansible-os_designate~master~Idf62e041939b25fb767bfa710652ba8a8992ee82,openstack/openstack-ansible-os_designate,master,openstack/openstack-ansible-tests/sync-tests,Idf62e041939b25fb767bfa710652ba8a8992ee82,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:38:52.000000000,2019-07-30 20:14:57.000000000,2019-07-30 20:14:57.000000000,1,1,0,673638,6d24a51730d50c49603703353973fee605da3b6b,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Idf62e041939b25fb767bfa710652ba8a8992ee82
"
openstack%2Fopenstack-ansible-os_cinder~master~Ie644626e01fdd0e62bc72ac89a5e27edee50d2c4,openstack/openstack-ansible-os_cinder,master,openstack/openstack-ansible-tests/sync-tests,Ie644626e01fdd0e62bc72ac89a5e27edee50d2c4,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:38:13.000000000,2019-07-30 20:14:31.000000000,2019-07-30 20:14:31.000000000,1,1,0,673635,0dec7b8dedb8a349289c56b1daea1166b24fcfca,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ie644626e01fdd0e62bc72ac89a5e27edee50d2c4
"
openstack%2Fopenstack-ansible-os_manila~master~I91aaef5e95035718897b5d4c8cb923139700ee71,openstack/openstack-ansible-os_manila,master,openstack/openstack-ansible-tests/sync-tests,I91aaef5e95035718897b5d4c8cb923139700ee71,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:40:53.000000000,2019-07-30 20:13:25.000000000,2019-07-30 20:13:25.000000000,1,1,0,673645,0293d596bbe07bc9d147e13bdab0338ef53b5115,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I91aaef5e95035718897b5d4c8cb923139700ee71
"
openstack%2Fansible-role-python_venv_build~master~I10d85fa08af6ac4034a50e1a679cef0c52bf75ce,openstack/ansible-role-python_venv_build,master,,I10d85fa08af6ac4034a50e1a679cef0c52bf75ce,Update to opendev,MERGED,2019-04-23 02:48:50.000000000,2019-07-30 20:11:55.000000000,2019-07-30 20:11:55.000000000,9,9,0,654682,593c6b309919d821487d9b6fe07ba9bbf9b36827,15,3,4,3,26584,hou le,houl7,"Update to opendev

Change-Id: I10d85fa08af6ac4034a50e1a679cef0c52bf75ce
"
openstack%2Fopenstack-ansible-os_congress~master~Id773ed7c7a07f2733f4d0fde8d437fe6132bd67b,openstack/openstack-ansible-os_congress,master,openstack/openstack-ansible-tests/sync-tests,Id773ed7c7a07f2733f4d0fde8d437fe6132bd67b,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:38:39.000000000,2019-07-30 20:11:24.000000000,2019-07-30 20:11:24.000000000,1,1,0,673637,8273d5ec2c7edacb4ee0cfc2622fe39d05098721,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Id773ed7c7a07f2733f4d0fde8d437fe6132bd67b
"
openstack%2Fopenstack-ansible-galera_server~master~I5b5e514f8ffb2037e3a88b5b23f16e33f8062d64,openstack/openstack-ansible-galera_server,master,openstack/openstack-ansible-tests/sync-tests,I5b5e514f8ffb2037e3a88b5b23f16e33f8062d64,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:34:47.000000000,2019-07-30 20:11:21.000000000,2019-07-30 20:11:21.000000000,1,1,0,673624,5f1115cee968e6b93ca80d2b7a127d5c75857278,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I5b5e514f8ffb2037e3a88b5b23f16e33f8062d64
"
openstack%2Fopenstack-ansible-galera_server~master~I0e530e67238a42e63f25ce0d59eefca2b7a2099a,openstack/openstack-ansible-galera_server,master,,I0e530e67238a42e63f25ce0d59eefca2b7a2099a,Use a private namespaced var for cluster name check,MERGED,2019-05-30 21:27:29.000000000,2019-07-30 20:11:20.000000000,2019-07-30 20:11:20.000000000,6,6,0,662338,13598110846ce8e34c7e59c90ef8aff0539f99af,12,4,2,1,17799,Logan V,Logan2211,"Use a private namespaced var for cluster name check

The galera cluster check uses ""cluster_name"" as a task return variable
when pulling the cluster name from an existing cluster. As one
might imagine, the cluster_name variable is very ambiguous and could
exist in a user's user_variables or inventory somewhere, which breaks
this check and fails the role execution. Instead of using 'cluster_name'
we can just return the task result to a private namespaced var
'_cluster_name' and use that for the assertion instead.

'node_status' is a similar check, also changed to '_node_status'

Change-Id: I0e530e67238a42e63f25ce0d59eefca2b7a2099a
"
openstack%2Fopenstack-ansible-os_blazar~master~Ia91bf1a2dd2c2d9c83dfb75d9417efa1702f38b3,openstack/openstack-ansible-os_blazar,master,openstack/openstack-ansible-tests/sync-tests,Ia91bf1a2dd2c2d9c83dfb75d9417efa1702f38b3,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:37:41.000000000,2019-07-30 20:10:33.000000000,2019-07-30 20:10:33.000000000,1,1,0,673634,4eccd1b0900591217e8e98c69e3d4cb54c50c2db,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ia91bf1a2dd2c2d9c83dfb75d9417efa1702f38b3
"
openstack%2Fopenstack-ansible-galera_client~master~I099614f666312c1a27d77bb2e8be8b33a5db1cbf,openstack/openstack-ansible-galera_client,master,openstack/openstack-ansible-tests/sync-tests,I099614f666312c1a27d77bb2e8be8b33a5db1cbf,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:34:33.000000000,2019-07-30 20:09:26.000000000,2019-07-30 20:09:25.000000000,1,1,0,673623,fc0e88c1d5e81928b511703d948e3b0ec1be4580,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I099614f666312c1a27d77bb2e8be8b33a5db1cbf
"
openstack%2Fnova~master~I29a1faa53eabb270785369d6da908484f18adbb0,openstack/nova,master,bug/1778305,I29a1faa53eabb270785369d6da908484f18adbb0,Add functional regression test for bug 1764556,ABANDONED,2018-07-13 01:34:42.000000000,2019-07-30 20:09:17.000000000,,65,0,0,582435,c3fc6b56a10598de8b61431a0abb16154d541d7e,13,10,1,1,4690,melanie witt,melwitt,"Add functional regression test for bug 1764556

This tests the scenario where an operator has upgraded from Ocata =>
Pike but has deleted services that share the same hostname with
currently existing, running services. The current behavior is that
ServiceNotFound is raised when we try to generate a UUID for the
deleted service while querying for a list of instances. After the bug
is fixed, we should be able to successfully query for a list of
instances.

Related-Bug: #1764556

Change-Id: I29a1faa53eabb270785369d6da908484f18adbb0
"
openstack%2Fopenstack-ansible-ops~master~I1cd74c31bf76a248835ebc3d5ab4b115b554cf7b,openstack/openstack-ansible-ops,master,openstack/openstack-ansible-tests/sync-tests,I1cd74c31bf76a248835ebc3d5ab4b115b554cf7b,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:36:47.000000000,2019-07-30 20:07:40.000000000,2019-07-30 20:07:40.000000000,1,1,0,673633,4e9c5c5c3949959201db54138974b88a51435777,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I1cd74c31bf76a248835ebc3d5ab4b115b554cf7b
"
openstack%2Fopenstack-ansible-nspawn_container_create~master~Ia044eb3118eeffbe5c2facb9c9f921959427c27b,openstack/openstack-ansible-nspawn_container_create,master,openstack/openstack-ansible-tests/sync-tests,Ia044eb3118eeffbe5c2facb9c9f921959427c27b,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:35:53.000000000,2019-07-30 20:07:36.000000000,2019-07-30 20:07:35.000000000,1,1,0,673629,bb0fc86e19578d97937b095dc9015f660b53409f,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ia044eb3118eeffbe5c2facb9c9f921959427c27b
"
openstack%2Fopenstack-ansible-nspawn_hosts~master~Ie6f8586f4aed79f923dd87e2f3b972ddfdfd2f08,openstack/openstack-ansible-nspawn_hosts,master,openstack/openstack-ansible-tests/sync-tests,Ie6f8586f4aed79f923dd87e2f3b972ddfdfd2f08,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:36:06.000000000,2019-07-30 20:07:12.000000000,2019-07-30 20:07:12.000000000,1,1,0,673630,51e792f590af65d44cd51d5451efcfaa9db34b1f,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ie6f8586f4aed79f923dd87e2f3b972ddfdfd2f08
"
openstack%2Fopenstack-ansible-haproxy_server~master~I04d66fd8668497786718d785e8bccaf6abddffc9,openstack/openstack-ansible-haproxy_server,master,openstack/openstack-ansible-tests/sync-tests,I04d66fd8668497786718d785e8bccaf6abddffc9,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:35:01.000000000,2019-07-30 20:06:01.000000000,2019-07-30 20:06:01.000000000,1,1,0,673625,979c303388f048612696e73d09d1c12217cf53ed,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I04d66fd8668497786718d785e8bccaf6abddffc9
"
openstack%2Fopenstack-ansible-os_nova~master~I052f50cd527ea222e74fdc3684613499f2b55d8e,openstack/openstack-ansible-os_nova,master,,I052f50cd527ea222e74fdc3684613499f2b55d8e,rbd: add var for inuse and enable setting secret,MERGED,2019-07-30 16:36:57.000000000,2019-07-30 20:05:46.000000000,2019-07-30 20:05:46.000000000,8,4,2,673578,12a5bc7a9f0bb4bfef4b6d5fc565e9dfeba17690,10,4,1,3,1004,Mohammed Naser,mnaser,"rbd: add var for inuse and enable setting secret

This patch refactors a variable to determine if we RBD is in
use (either directly or via cinder-volume).

It also uses this to make sure to always set rbd_user and the
rbd_secret_uuid both are set so booting from Cinder with local
storage works.

Change-Id: I052f50cd527ea222e74fdc3684613499f2b55d8e
"
openstack%2Fopenstack-ansible-lxc_container_create~master~Ic2baf362b53d2c1e71ef98a712be33bf086ac566,openstack/openstack-ansible-lxc_container_create,master,openstack/openstack-ansible-tests/sync-tests,Ic2baf362b53d2c1e71ef98a712be33bf086ac566,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:35:14.000000000,2019-07-30 20:05:14.000000000,2019-07-30 20:05:14.000000000,1,1,0,673626,ac0ea6bf1b48dd46477b924ff55c276f19377c35,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Ic2baf362b53d2c1e71ef98a712be33bf086ac566
"
openstack%2Fopenstack-ansible-openstack_openrc~master~I465cd760471016c92227ab89926e813157e8ebf1,openstack/openstack-ansible-openstack_openrc,master,openstack/openstack-ansible-tests/sync-tests,I465cd760471016c92227ab89926e813157e8ebf1,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:36:32.000000000,2019-07-30 20:04:51.000000000,2019-07-30 20:04:50.000000000,1,1,0,673632,53fcf7994ab786226729d16111e0c34596ced13f,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I465cd760471016c92227ab89926e813157e8ebf1
"
openstack%2Fopenstack-ansible-lxc_hosts~master~I5432f09a28cdbe66b60910188327da9a9fe3255b,openstack/openstack-ansible-lxc_hosts,master,openstack/openstack-ansible-tests/sync-tests,I5432f09a28cdbe66b60910188327da9a9fe3255b,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:35:28.000000000,2019-07-30 20:03:38.000000000,2019-07-30 20:03:38.000000000,1,1,0,673627,9a1a57d99b7621ca43119b6f61121f76446608b6,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I5432f09a28cdbe66b60910188327da9a9fe3255b
"
openstack%2Fopenstack-ansible-ceph_client~master~Iba67e40659b459676c9cba55b4334d2e45be0252,openstack/openstack-ansible-ceph_client,master,openstack/openstack-ansible-tests/sync-tests,Iba67e40659b459676c9cba55b4334d2e45be0252,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:34:20.000000000,2019-07-30 20:02:54.000000000,2019-07-30 20:02:53.000000000,1,1,0,673622,cbc3ed12165c6be9813b3a7b99a50e7aa868cf18,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: Iba67e40659b459676c9cba55b4334d2e45be0252
"
openstack%2Fopenstack-ansible-apt_package_pinning~master~I490a4edae8ad05297e8cd0303353caa5103f8b23,openstack/openstack-ansible-apt_package_pinning,master,openstack/openstack-ansible-tests/sync-tests,I490a4edae8ad05297e8cd0303353caa5103f8b23,Updated from OpenStack Ansible Tests,MERGED,2019-07-30 19:34:06.000000000,2019-07-30 20:02:51.000000000,2019-07-30 20:02:51.000000000,1,1,0,673621,f51ba20ae7cd0fabcf26fc31cbb2ee4385cae69a,6,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from OpenStack Ansible Tests

Change-Id: I490a4edae8ad05297e8cd0303353caa5103f8b23
"
openstack%2Fopenstack-ansible~master~I4f79aae844f4ca0a508a887f915072635feb9283,openstack/openstack-ansible,master,,I4f79aae844f4ca0a508a887f915072635feb9283,Bump sha of heat,MERGED,2019-07-26 10:15:35.000000000,2019-07-30 20:01:41.000000000,2019-07-30 20:01:41.000000000,1,1,0,672943,37f0008f73265a240b6198c7321cd65b31f0ca74,14,4,1,1,25023,Jonathan Rosser,jrosser,"Bump sha of heat

This brings in https://review.opendev.org/#/c/650967/ as a required
bugfix

Change-Id: I4f79aae844f4ca0a508a887f915072635feb9283
"
openstack%2Fopenstack-ansible~master~I1b1432c0fccae7a6a1718f2849bb9f3c089c4703,openstack/openstack-ansible,master,bug/1829900,I1b1432c0fccae7a6a1718f2849bb9f3c089c4703,[DOCS] Replace env.d with conf.d in provnet_groups docs,MERGED,2019-05-22 11:30:29.000000000,2019-07-30 20:01:40.000000000,2019-07-30 20:01:39.000000000,1,1,0,660684,9be0ff0bcebc2e11483fed4018760cd66a26e32a,10,4,2,1,16011,James Denton,busterswt,"[DOCS] Replace env.d with conf.d in provnet_groups docs

This patch corrects a typo related to the provider network groups
documentation, replacing env.d with conf.d in the appropriate place.

Change-Id: I1b1432c0fccae7a6a1718f2849bb9f3c089c4703
Closes-Bug: #1829900
"
openstack%2Fopenstack-ansible~stable%2Fstein~I59e259e749be8932d03886831904cc7085fa40d4,openstack/openstack-ansible,stable/stein,utility-placement-client-stable/stein,I59e259e749be8932d03886831904cc7085fa40d4,Install placement osc plugin on utility machines,MERGED,2019-07-20 23:49:42.000000000,2019-07-30 20:01:38.000000000,2019-07-30 20:01:38.000000000,4,1,0,671911,85f6ee42f18a7f174719758696e63010bb88435d,8,4,1,1,14805,Jimmy McCrory,jimmy-mccrory,"Install placement osc plugin on utility machines

Include the placement OpenStack client plugin in the list of OpenStack
clients to be installed on utility machines.

Change-Id: I59e259e749be8932d03886831904cc7085fa40d4
(cherry picked from commit f1aa51b20e04def439f6a37983e7ba099fc50d84)
"
openstack%2Fopenstack-ansible~master~If082340fad330f70786ff9a7e847caee9a88a3ca,openstack/openstack-ansible,master,,If082340fad330f70786ff9a7e847caee9a88a3ca,Update static inventory example,MERGED,2019-07-22 21:36:10.000000000,2019-07-30 20:01:37.000000000,2019-07-30 20:01:37.000000000,11,0,0,672180,439bf4a1513a9b1cde54c587f19ac336cb6433a3,7,3,1,1,25023,Jonathan Rosser,jrosser,"Update static inventory example

The example static inventory did not contain the required child
groups so was not a valid inventory file.

Change-Id: If082340fad330f70786ff9a7e847caee9a88a3ca
"
openstack%2Fopenstack-ansible~stable%2Frocky~Ie5c8d65aee11d6dba18a0388467783cc6e9e5d36,openstack/openstack-ansible,stable/rocky,,Ie5c8d65aee11d6dba18a0388467783cc6e9e5d36,Set nodepool mirror PIP_OPTS consistently,MERGED,2019-07-17 08:19:08.000000000,2019-07-30 20:01:36.000000000,2019-07-30 20:01:36.000000000,13,10,1,671207,117fe2b17e9e77156528fe1a786f62eeca30ab04,13,4,2,3,25023,Jonathan Rosser,jrosser,"Set nodepool mirror PIP_OPTS consistently

The bootstrap-ansible script does not always run as a child of the
gate-check-commit, so bootstrap-ansible should be prepared to load
the nodepool PIP mirrors itself. Move the nodepool mirror detection
into a common function so it can be used in both bootstrap-ansible
and gate-check-commit.

Change-Id: Ie5c8d65aee11d6dba18a0388467783cc6e9e5d36
(cherry picked from commit bd36689c2ce122ffd35b74187bd4b9feb5fde5d6)
"
openstack%2Fopenstack-ansible~master~I9ba2915bedda9271682e7dac912a0e70ebfd80fc,openstack/openstack-ansible,master,,I9ba2915bedda9271682e7dac912a0e70ebfd80fc,Switch nova console type from spice to novnc,MERGED,2019-07-19 19:21:13.000000000,2019-07-30 20:01:34.000000000,2019-07-30 20:01:34.000000000,1,1,3,671848,2b0c3ef053c6b172eaecde711d900cffb8cc68c1,23,4,4,1,25023,Jonathan Rosser,jrosser,"Switch nova console type from spice to novnc

This patch switches the integrated repo override selecing spice as the
console type to novnc.
See https://review.opendev.org/662302

Change-Id: I9ba2915bedda9271682e7dac912a0e70ebfd80fc
"
openstack%2Fheat~stable%2Fqueens~Ibee3382887cffebd8a368dc5d411b168be6e7c97,openstack/heat,stable/queens,,Ibee3382887cffebd8a368dc5d411b168be6e7c97,DNM Testing sdk bump,ABANDONED,2019-03-20 18:12:16.000000000,2019-07-30 19:59:51.000000000,,0,1,0,644961,c43f1d1ed1b1c61b53374208256e2b3ae89fe350,4,2,1,1,2,Monty Taylor,mordred,"DNM Testing sdk bump

Change-Id: Ibee3382887cffebd8a368dc5d411b168be6e7c97
Depends-On: https://review.openstack.org/644960
"
openstack%2Fdiskimage-builder~master~Ib7a7756c2835dfdeb28b2d7305f8597c80dc13fc,openstack/diskimage-builder,master,add-docker-images,Ib7a7756c2835dfdeb28b2d7305f8597c80dc13fc,WIP Build Docker image of diskimage-builder,NEW,2019-02-08 18:06:53.000000000,2019-07-30 19:51:09.000000000,,88,0,0,635908,fa6e2c23661cea69b599c3ddcf63e77426412461,15,3,6,3,2,Monty Taylor,mordred,"WIP Build Docker image of diskimage-builder

Use python-builder to build a docker image of diskimage builder.

This should potentially go in openstackinfra/diskimage-builder, but
we'll need to do secrets for that. For now, just make sure it works
at all.

We also pull down the stretch-backports repository in order to install
the latest version of debootstrap which has support for building
bionic images.

Also, build backport packages of zypper.

Change-Id: Ib7a7756c2835dfdeb28b2d7305f8597c80dc13fc
"
openstack%2Fopenstack-ansible~stable%2Frocky~I156e0143991c79cc2f664a98b6cd22353c01b55d,openstack/openstack-ansible,stable/rocky,skip_bootstrap_if_ran-stable/rocky,I156e0143991c79cc2f664a98b6cd22353c01b55d,Skip boostrap-ansible on upgrades if already run,MERGED,2019-04-25 14:15:08.000000000,2019-07-30 19:47:40.000000000,2019-07-30 19:47:40.000000000,17,5,0,655703,81701f80d26495261acfa5a6338bb164f259b55a,22,5,1,1,290,Antony Messerli,antonym,"Skip boostrap-ansible on upgrades if already run

Skips bootstrap-ansible on a rerun if it has already run
previously.

Moves the working directory creation to it's own function
so that the lock directory is created earlier.

Change-Id: I156e0143991c79cc2f664a98b6cd22353c01b55d
(cherry picked from commit e4ae0931f19242f947e463b41132826f83c5c278)
"
openstack%2Fopenstack-ansible~master~I6f251e1d0af23f865e68b0bf89e1a16c9d25d358,openstack/openstack-ansible,master,osa-update-ansible,I6f251e1d0af23f865e68b0bf89e1a16c9d25d358,Update ansible to 2.8.3,MERGED,2019-07-25 21:01:46.000000000,2019-07-30 19:47:39.000000000,2019-07-30 19:47:38.000000000,1,1,0,672824,3f8a484f18d700ebe5c3bbdcc59326a26f1def0d,14,4,1,1,25023,Jonathan Rosser,jrosser,"Update ansible to 2.8.3

Change-Id: I6f251e1d0af23f865e68b0bf89e1a16c9d25d358
"
openstack%2Fopenstack-ansible-os_ironic~master~I7adcd474091c02556772f4358d95abc5c9e558b1,openstack/openstack-ansible-os_ironic,master,bug/1826250,I7adcd474091c02556772f4358d95abc5c9e558b1,Adding ironic_service_timeout,ABANDONED,2019-04-24 20:03:53.000000000,2019-07-30 19:46:26.000000000,,12,0,0,655545,3d6018ef2fd94c179634deec3d57de6640f35186,5,3,1,3,14552,Bjoern Teipel,bjoern,"Adding ironic_service_timeout

The override `ironic_service_timeout` is introduced to allow
multiple service components to use the same frontend/backend
timeouts. The default value is 60 (seconds).

Change-Id: I7adcd474091c02556772f4358d95abc5c9e558b1
Closes-Bug: 1826250
"
