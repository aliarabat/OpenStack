id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fpython-tripleoclient~master~I256d74216947c3551620e1ce9cb4587ceb80c41d,openstack/python-tripleoclient,master,test,I256d74216947c3551620e1ce9cb4587ceb80c41d,DNM test sc007,ABANDONED,2021-02-04 01:27:09.000000000,2021-04-27 10:23:27.000000000,,3,0,0,774027,8e1ed427ca9072f86f48fac049bbc4d1825fd498,3,1,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM test sc007

Change-Id: I256d74216947c3551620e1ce9cb4587ceb80c41d
"
openstack%2Ftripleo-common~stable%2Fussuri~I072edaf232004a6118b956614490460efb40fbfc,openstack/tripleo-common,stable/ussuri,refactor_buildah_log-stable/ussuri,I072edaf232004a6118b956614490460efb40fbfc,Refactor buildah logging,ABANDONED,2020-11-06 19:29:56.000000000,2021-04-27 10:23:19.000000000,,19,13,24,761787,06a0e2be7ed4e40574a4d4027670f5c5810673de,51,6,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"Refactor buildah logging

- Add .BuildahBuilder to logging for easier identification
- move log instance creation to class
- Add logging configuration
- Replace a few prints with log

Old Log in containers-build-errors.log:
Processing containers: ['base']
Building base image with:

New Log in containers-build-errors.log
2020-10-30 18:50:10.847 865001 INFO tripleo_common.image.builder.buildah.BuildahBuilder [-] Processing containers: ['cinder-cooldriver2', 'cinder-cooldriver']
2020-10-30 18:50:10.848 865001 INFO tripleo_common.image.builder.buildah.BuildahBuilder [-] Building cinder-cooldriver2 image with: sudo buildah

Depends-On: https://review.opendev.org/#/c/760980/
Change-Id: I072edaf232004a6118b956614490460efb40fbfc
"
openstack%2Ftripleo-ci~master~I6d5b28d8c7362706532fde402233cd6abf9c9c17,openstack/tripleo-ci,master,c8stream-test,I6d5b28d8c7362706532fde402233cd6abf9c9c17,DNM test CI jobs,ABANDONED,2021-03-07 15:56:41.000000000,2021-04-27 10:20:12.000000000,,13,0,0,779102,023bd9fd58d22ed0d63954c1845bdc3e1f65305f,9,2,2,13,10969,Shnaidman Sagi (Sergey),sergsh,"DNM test CI jobs

Change-Id: I6d5b28d8c7362706532fde402233cd6abf9c9c17
"
openstack%2Ftripleo-common~master~I919a63d7572a875d354ebe1d9b4a2f60ae455ba9,openstack/tripleo-common,master,c8stream-test,I919a63d7572a875d354ebe1d9b4a2f60ae455ba9,DNM centos8 stream tests,ABANDONED,2021-03-08 07:36:02.000000000,2021-04-27 10:20:10.000000000,,26,15,6,779166,fcafc1f136cd6ce25d838086863bbb70ac2118ef,6,2,1,14,10969,Shnaidman Sagi (Sergey),sergsh,"DNM centos8 stream tests

Change-Id: I919a63d7572a875d354ebe1d9b4a2f60ae455ba9
"
openstack%2Ftripleo-quickstart~master~If7bcef036a50bf1afc68ff8d595c1c761eacddab,openstack/tripleo-quickstart,master,,If7bcef036a50bf1afc68ff8d595c1c761eacddab,DNM test branch OVB,ABANDONED,2021-03-08 07:24:37.000000000,2021-04-27 10:20:04.000000000,,1,0,0,779162,e01eb5d1fe94ad37dcbaef77c5b03d172318f016,4,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM test branch OVB

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/767070
Change-Id: If7bcef036a50bf1afc68ff8d595c1c761eacddab
"
openstack%2Ftripleo-heat-templates~master~I507999fe624732517df73ef87c84c8cd8d701566,openstack/tripleo-heat-templates,master,c8stream-test,I507999fe624732517df73ef87c84c8cd8d701566,DNM test master 8 stream,ABANDONED,2021-03-08 07:30:55.000000000,2021-04-27 10:20:02.000000000,,87,6,0,779165,9811d057f1b2469b2fa815f036ffb0939d2a0146,6,2,2,43,10969,Shnaidman Sagi (Sergey),sergsh,"DNM test master 8 stream

Change-Id: I507999fe624732517df73ef87c84c8cd8d701566
"
openstack%2Ftripleo-common~stable%2Fussuri~I40813ca2ffd6bf2b2b808e72607822f1f2fdbe7f,openstack/tripleo-common,stable/ussuri,c8stream-test,I40813ca2ffd6bf2b2b808e72607822f1f2fdbe7f,DNM centos8 stream tests - ussuri,ABANDONED,2021-03-08 08:05:55.000000000,2021-04-27 10:19:58.000000000,,25,0,0,779171,a10e9ebc9f83b70b89e73b54a98009719b64e7ca,6,2,1,13,10969,Shnaidman Sagi (Sergey),sergsh,"DNM centos8 stream tests - ussuri

Change-Id: I40813ca2ffd6bf2b2b808e72607822f1f2fdbe7f
"
openstack%2Ftripleo-common~stable%2Ftrain~I84730035ef01289f1022ed61094ce686775279e0,openstack/tripleo-common,stable/train,c8stream-test,I84730035ef01289f1022ed61094ce686775279e0,DNM centos8 stream tests - train,ABANDONED,2021-03-08 08:03:25.000000000,2021-04-27 10:19:55.000000000,,10,0,0,779169,5caa115f84cad632ee0b4b7b5290754470e56de6,6,2,1,7,10969,Shnaidman Sagi (Sergey),sergsh,"DNM centos8 stream tests - train

Change-Id: I84730035ef01289f1022ed61094ce686775279e0
"
openstack%2Ftripleo-quickstart~master~I1157334e41a58c7985b185b16383ede3ba8929e2,openstack/tripleo-quickstart,master,,I1157334e41a58c7985b185b16383ede3ba8929e2,DNM testing 3party jobs with patch,ABANDONED,2021-03-03 12:58:41.000000000,2021-04-27 10:19:51.000000000,,4,4,2,778455,c470828d0b78166debb26a6a12be314d07db4184,9,2,1,4,10969,Shnaidman Sagi (Sergey),sergsh,"DNM testing 3party jobs with patch

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/777952
Change-Id: I1157334e41a58c7985b185b16383ede3ba8929e2
"
openstack%2Ftripleo-ci~master~I0aee555987fb0b3920e29c00c91f26697f4a2753,openstack/tripleo-ci,master,,I0aee555987fb0b3920e29c00c91f26697f4a2753,DNM test ansible 2.10 for CI,ABANDONED,2020-10-15 09:01:01.000000000,2021-04-27 10:19:46.000000000,,3,1,0,758369,2f4f23c318c181dfa08a50c746a1d47f4a446f97,13,4,1,3,10969,Shnaidman Sagi (Sergey),sergsh,"DNM test ansible 2.10 for CI

Depends-On: https://review.opendev.org/#/c/758128/
Change-Id: I0aee555987fb0b3920e29c00c91f26697f4a2753
"
openstack%2Fpuppet-manila~master~I540ed926ca7adcc1663f3814ba29492eb777701b,openstack/puppet-manila,master,healthcheck,I540ed926ca7adcc1663f3814ba29492eb777701b,Add support for healthcheck middleware options,MERGED,2021-04-20 16:14:52.000000000,2021-04-27 10:19:36.000000000,2021-04-27 10:18:12.000000000,101,0,0,787259,626b4a03f989e8eafee668dbbc62080279d3d6df,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: I540ed926ca7adcc1663f3814ba29492eb777701b
"
openstack%2Ftripleo-ansible~master~I495ca5296e7c2e3d5e8fa650e2fd2dd9d19c0f81,openstack/tripleo-ansible,master,,I495ca5296e7c2e3d5e8fa650e2fd2dd9d19c0f81,DNM test containers w/o no_log,ABANDONED,2021-04-06 13:05:53.000000000,2021-04-27 10:19:23.000000000,,1,1,0,784948,007cb0b7779348e99e125cbbdfa43fe798ce04fa,5,3,2,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM test containers w/o no_log

Change-Id: I495ca5296e7c2e3d5e8fa650e2fd2dd9d19c0f81
"
openstack%2Fpuppet-sahara~master~Ib772b44cc7a3c944ac44efe692253b3215af59c8,openstack/puppet-sahara,master,,Ib772b44cc7a3c944ac44efe692253b3215af59c8,Do not include sahara::policy in base class,MERGED,2021-04-22 03:02:54.000000000,2021-04-27 10:18:05.000000000,2021-04-27 10:18:05.000000000,0,2,0,787467,a9b46a3e94c7663ff8e87d636dd572454bae5928,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Do not include sahara::policy in base class

... because oslo_policy parameters are only used in api and the class
is already included in sahara::service::api.

Change-Id: Ib772b44cc7a3c944ac44efe692253b3215af59c8
"
openstack%2Fpuppet-ceilometer~stable%2Fstein~I9dcf128951cc23a0c8c8e589c42a352a94b3c8df,openstack/puppet-ceilometer,stable/stein,bug/1911852-stable/victoria-stable/ussuri-stable/train-stable/stein,I9dcf128951cc23a0c8c8e589c42a352a94b3c8df,Replace disk.* meters by disk.device.* meters,MERGED,2021-02-01 13:28:32.000000000,2021-04-27 10:17:13.000000000,2021-04-27 10:15:56.000000000,15,14,0,773213,ec536b2cbdcc2f19c7c91a4942167f1177c4abdc,8,3,1,4,9816,Takashi Kajinami,kajinamit,"Replace disk.* meters by disk.device.* meters

The disk.* meters have already removed from ceilometer[1] and we
should use the disk.device.* meters instead.

[1] f7b1218b8e26a0f9a5924a15b029a961413cc40a

Closes-Bug: #1911852
Change-Id: I9dcf128951cc23a0c8c8e589c42a352a94b3c8df
(cherry picked from commit 682ef848b7ecfd417f1160a7da496742fff4d9f3)
(cherry picked from commit a3511cbed6ca4bfa00d766f60344ed44655d81d7)
(cherry picked from commit 90ef42ef6e4be9594c709f249572f5c8e8a285de)
(cherry picked from commit d502884411343c862cf056fc2bf25ec6342548dc)
"
openstack%2Ftooz~master~Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b,openstack/tooz,master,redis_connection,Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b,Retry on redis connection errors,MERGED,2021-03-05 10:34:58.000000000,2021-04-27 10:17:04.000000000,2021-04-27 10:15:38.000000000,79,53,10,778878,a025b4d4ee9fe1bd722960ea03445034580bec6f,26,4,5,2,4264,Matthias Runge,mrunge,"Retry on redis connection errors

Sometimes, connections get closed by the server. This change
adds retrying to the code.

Change-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b
"
openstack%2Ftripleo-quickstart~master~Ice9ec44edc7c65b075800fc2c0924b188aed488e,openstack/tripleo-quickstart,master,col,Ice9ec44edc7c65b075800fc2c0924b188aed488e,DNM install RPM of ansible-collections-openstack,ABANDONED,2021-04-06 14:19:09.000000000,2021-04-27 10:13:28.000000000,,1,0,0,784966,6ee2b0c227e1af82baaa7ff79086d3128eda2694,4,2,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"DNM install RPM of ansible-collections-openstack

testing...
Change-Id: Ice9ec44edc7c65b075800fc2c0924b188aed488e
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0a57374c5b58f5953b079b6690ecc77887ec8751,openstack/tripleo-heat-templates,stable/train,change-782753-2,I0a57374c5b58f5953b079b6690ecc77887ec8751,Add OVN chassis macs to hieradata,MERGED,2021-03-24 14:06:06.000000000,2021-04-27 10:11:09.000000000,2021-04-27 10:11:09.000000000,1,0,0,782753,2445de761e2b4255f99f79de3992b4d2e2330939,25,7,3,1,11082,Kamil Sambor,ksambor,"Add OVN chassis macs to hieradata

Add the tempalte in tripleo-ansible to the list of
hieradata_templates in common/hiera-steps-tasks.yaml

Depends-On: https://review.opendev.org/782741
Related-Bug: #1881593
Change-Id: I0a57374c5b58f5953b079b6690ecc77887ec8751
(cherry picked from commit 77e56441f1a9ef62feea59109f3574d00fbb9694)
(cherry picked from commit 02e2fbada5d7c8988ea9992f170f53b828261614)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I9e53187f37d41d7180e66db1239b5f9c8846addd,openstack/tripleo-heat-templates,stable/victoria,fix_hosts_entries-stable/victora,I9e53187f37d41d7180e66db1239b5f9c8846addd,Add RootStackName to group_vars,MERGED,2021-04-23 14:01:36.000000000,2021-04-27 10:10:53.000000000,2021-04-27 10:10:53.000000000,5,0,0,787746,50c089a1f6bb125be19d4a80c666ee8089684006,12,5,2,1,30073,Brendan Shephard,bshephar,"Add RootStackName to group_vars

After a Overcloud deployment, /etc/hosts on the undercloud
will be populated with entries for each overcloud node. Since
we use the same tripleo_ansible roles for both the undercloud
and overcloud deployment, the /etc/hosts file on the Director
will be removed by undercloud install / upgrade operations.

This is outlined here:
https://bugzilla.redhat.com/show_bug.cgi?id=1933528

This change adds the RootStackName to the group_vars,
this is then used by the tripleo_host_entries role in
tripleo-ansible to write host entries per stack.

Closes-Bug: #1924751
Resolves: rhbz#1933528
Change-Id: I9e53187f37d41d7180e66db1239b5f9c8846addd
"
openstack%2Ftripleo-heat-templates~master~If29d8ad8e1658f2d4f320deaca038579a7115dd8,openstack/tripleo-heat-templates,master,nova-cron-params,If29d8ad8e1658f2d4f320deaca038579a7115dd8,Migrate nova cron parameters to NovaApi service,MERGED,2021-04-21 13:50:25.000000000,2021-04-27 10:10:32.000000000,2021-04-27 10:10:32.000000000,154,154,5,787370,0e30ed962460f532d97eeff3007a34544386f433,23,8,2,2,9816,Takashi Kajinami,kajinamit,"Migrate nova cron parameters to NovaApi service

... beucause these parameters are associated with cron containers
defined in the NovaApi service.

Change-Id: If29d8ad8e1658f2d4f320deaca038579a7115dd8
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I73a2a54afdf9739bd4c08406645809c9b47c3e01,openstack/tripleo-ansible,stable/train,,I73a2a54afdf9739bd4c08406645809c9b47c3e01,Compute VIPs using net_vip_map instead of hiera,MERGED,2021-04-22 07:26:53.000000000,2021-04-27 10:10:27.000000000,2021-04-27 10:10:27.000000000,14,11,0,787496,bfd32e74ee95f57fb9e7f6856ed409b937f10846,9,7,1,1,25402,Francesco Pantano,fmount,"Compute VIPs using net_vip_map instead of hiera

This change provides two improvements:
1. VIPs are computed using the existing net_vip_map instead of running
   hiera commands;
2. the monitoring_stack_vip (on the storage network) is provided for
   both prometheus and alertmanager: these two services are not exposed
   but we need the ceph_mgr being aware about the vip.

Depends-On: I0dbcde302a3abdfccc3dd996b1c238e25064dd12

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/785574/

Change-Id: I73a2a54afdf9739bd4c08406645809c9b47c3e01
(cherry picked from commit 9c4254c2bca6e910cd8312538946e40d5be77516)
"
openstack%2Fpuppet-aodh~master~I8beee8a794b6607875fbc7a46ccc1e58c0c344b5,openstack/puppet-aodh,master,notifier-opts,I8beee8a794b6607875fbc7a46ccc1e58c0c344b5,Support batch_* parameters of notifier,MERGED,2021-04-23 14:00:44.000000000,2021-04-27 10:10:12.000000000,2021-04-27 10:08:46.000000000,39,1,0,787745,86aa1e34e9853ff731d45ed92327c1b4df0ae771,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Support batch_* parameters of notifier

This change introduces support for batch_* parameters in notifier,
which are tunable parameters about batch processing of alarms.

Change-Id: I8beee8a794b6607875fbc7a46ccc1e58c0c344b5
"
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I57f84757a229feb4e7d94ec912d723bf02392c88,openstack/puppet-openstack-integration,stable/train,,I57f84757a229feb4e7d94ec912d723bf02392c88,Ubuntu: Install neutron-tempest-plugin from source,MERGED,2021-03-28 12:24:59.000000000,2021-04-27 10:05:58.000000000,2021-04-27 10:05:58.000000000,6,1,2,783571,94c55e67c8acab8cdf2c4b046a786f02007c0d31,13,6,1,1,9816,Takashi Kajinami,kajinamit,"Ubuntu: Install neutron-tempest-plugin from source

It seems the current latest version of neutron-tempest-plugin available
in pip is not compatible with the latest tempest. Let's install it
from source so that we can always install the version compatible with
tempest.

Note:
Added version pin for stable backports.

Conflicts:
	run_tests.sh

Resolved conflict caused by the version pin implemented with pip.

Change-Id: I57f84757a229feb4e7d94ec912d723bf02392c88
(cherry picked from commit 7b8b11a8cfe98e6b2f08c3edc6b9b9222edeb937)
(cherry picked from commit 2e4793c0707274e90d7d8ebf7c2b4a01d432f2b7)
(cherry picked from commit c325bcf568d6f0dfeaa9dfca92782e88ec4eed5a)
"
openstack%2Fmistral-extra~stable%2Fwallaby~If2f3fb78481227442a0d6820a9654690d9a37db8,openstack/mistral-extra,stable/wallaby,create-wallaby,If2f3fb78481227442a0d6820a9654690d9a37db8,Update .gitreview for stable/wallaby,MERGED,2021-03-19 18:05:47.000000000,2021-04-27 09:47:35.000000000,2021-04-27 09:46:07.000000000,1,0,0,781832,d34df63c3aa88e9cade80a8bfc99a594ede043f1,9,2,2,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/wallaby

Change-Id: If2f3fb78481227442a0d6820a9654690d9a37db8
"
openstack%2Fpuppet-octavia~master~I05bff1f2c9c40dad6e5bfb5ef988f6859638378b,openstack/puppet-octavia,master,hc-typo,I05bff1f2c9c40dad6e5bfb5ef988f6859638378b,Fix a typo in file header,MERGED,2021-04-20 16:09:53.000000000,2021-04-27 09:28:47.000000000,2021-04-27 09:28:47.000000000,1,1,0,787256,cba4a35d8b0549add28c0716e0cdddd2a77a1eb0,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix a typo in file header

Change-Id: I05bff1f2c9c40dad6e5bfb5ef988f6859638378b
"
openstack%2Ftripleo-heat-templates~master~I58da2c214c5a9cf013bc7719649e0d0d4f3a6f74,openstack/tripleo-heat-templates,master,,I58da2c214c5a9cf013bc7719649e0d0d4f3a6f74,Run update tasks with become,MERGED,2021-04-14 08:42:44.000000000,2021-04-27 09:19:40.000000000,2021-04-27 09:19:40.000000000,1,0,0,786179,dc52f3c9498e4f0fb8dcc685f2ebd14b43d2f992,9,6,1,1,6926,Bogdan Dobrelya,bogdando,"Run update tasks with become

Make it aligned with the upgrade tasks, what uses become as well

Change-Id: I58da2c214c5a9cf013bc7719649e0d0d4f3a6f74
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
"
openstack%2Fpuppet-openstack-cookiecutter~master~I9ddd46e3b6f2dc9abd36ad7e821e6598ab71689c,openstack/puppet-openstack-cookiecutter,master,policy,I9ddd46e3b6f2dc9abd36ad7e821e6598ab71689c,Add support for oslo_policy/policy_dirs,MERGED,2021-04-22 02:57:55.000000000,2021-04-27 09:18:57.000000000,2021-04-27 09:18:57.000000000,9,1,0,787466,f21b7007d03023b6367ebf61f003fa7d3f73ea2d,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Add support for oslo_policy/policy_dirs

Change-Id: I9ddd46e3b6f2dc9abd36ad7e821e6598ab71689c
"
openstack%2Fkolla-ansible~master~I758b803251d42d7555421af1086f3e58a5669128,openstack/kolla-ansible,master,,I758b803251d42d7555421af1086f3e58a5669128,CI: cephadm: retry OSD tasks,ABANDONED,2021-04-13 12:53:20.000000000,2021-04-27 09:18:30.000000000,,2,0,2,786043,4fecf7dc47299ed6f53387c431d99b8d49fe7d76,10,2,3,1,22629,Michal Nasiadka,mnasiadka,"CI: cephadm: retry OSD tasks

In some cases the task that applies OSDs is running too fast after the apply
spec task - which results in cephadm container not cleaning up after itself.
This change adds retries to that task.

Example:

2021-04-13 12:40:07.796208 | LOOP [cephadm : Add osds]
2021-04-13 12:40:17.117011 | primary | Inferring fsid 3c301e8c-9c55-11eb-b7d6-fa163efc0d96
2021-04-13 12:40:17.117662 | primary | Inferring config /var/lib/ceph/3c301e8c-9c55-11eb-b7d6-fa163efc0d96/mon.primary/config
2021-04-13 12:40:17.117852 | primary | Using recent ceph image ceph/ceph@sha256:030e84addad8f3a7d26ea49b180660f1a9b33ef06d691759f320a58e892fb535
2021-04-13 12:40:17.117998 | primary | Created osd(s) 0 on host 'primary'
2021-04-13 12:40:17.118244 | primary | ok: Item: primary:/dev/cephvg/cephlv Runtime: 0:00:08.636089
2021-04-13 12:40:24.158371 | primary | Inferring fsid 3c301e8c-9c55-11eb-b7d6-fa163efc0d96
2021-04-13 12:40:24.158579 | primary | Inferring config /var/lib/ceph/3c301e8c-9c55-11eb-b7d6-fa163efc0d96/mon.primary/config
2021-04-13 12:40:24.158676 | primary | Using recent ceph image ceph/ceph@sha256:030e84addad8f3a7d26ea49b180660f1a9b33ef06d691759f320a58e892fb535
2021-04-13 12:40:24.158770 | primary | Error EINVAL: Traceback (most recent call last):
2021-04-13 12:40:24.158861 | primary |   File ""/usr/share/ceph/mgr/mgr_module.py"", line 1204, in _handle_command
2021-04-13 12:40:24.158950 | primary |     return self.handle_command(inbuf, cmd)
2021-04-13 12:40:24.159039 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 140, in handle_command
2021-04-13 12:40:24.159127 | primary |     return dispatch[cmd['prefix']].call(self, cmd, inbuf)
2021-04-13 12:40:24.159215 | primary |   File ""/usr/share/ceph/mgr/mgr_module.py"", line 320, in call
2021-04-13 12:40:24.159303 | primary |     return self.func(mgr, **kwargs)
2021-04-13 12:40:24.159392 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 102, in <lambda>
2021-04-13 12:40:24.159481 | primary |     wrapper_copy = lambda *l_args, **l_kwargs: wrapper(*l_args, **l_kwargs)
2021-04-13 12:40:24.159624 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 91, in wrapper
2021-04-13 12:40:24.159752 | primary |     return func(*args, **kwargs)
2021-04-13 12:40:24.159843 | primary |   File ""/usr/share/ceph/mgr/orchestrator/module.py"", line 781, in _daemon_add_osd
2021-04-13 12:40:24.159931 | primary |     raise_if_exception(completion)
2021-04-13 12:40:24.160019 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 642, in raise_if_exception
2021-04-13 12:40:24.160107 | primary |     raise e
2021-04-13 12:40:24.160195 | primary | RuntimeError: cephadm exited with an error code: 1, stderr:Traceback (most recent call last):
2021-04-13 12:40:24.160286 | primary |   File ""<stdin>"", line 6153, in <module>
2021-04-13 12:40:24.160399 | primary |   File ""<stdin>"", line 1311, in _infer_fsid
2021-04-13 12:40:24.160489 | primary |   File ""<stdin>"", line 1394, in _infer_image
2021-04-13 12:40:24.160577 | primary |   File ""<stdin>"", line 3605, in command_ceph_volume
2021-04-13 12:40:24.160665 | primary |   File ""<stdin>"", line 781, in __init__
2021-04-13 12:40:24.160758 | primary | FileExistsError: [Errno 17] File exists: '/run/cephadm'
2021-04-13 12:40:24.160848 | primary | Exception ignored in: <bound method FileLock.__del__ of <__main__.FileLock object at 0x7f50db923320>>
2021-04-13 12:40:24.160936 | primary | Traceback (most recent call last):
2021-04-13 12:40:24.161024 | primary |   File ""<stdin>"", line 899, in __del__
2021-04-13 12:40:24.161112 | primary |   File ""<stdin>"", line 876, in release
2021-04-13 12:40:24.161200 | primary |   File ""<stdin>"", line 798, in is_locked
2021-04-13 12:40:24.161288 | primary | AttributeError: 'FileLock' object has no attribute '_lock_file_fd'

Change-Id: I758b803251d42d7555421af1086f3e58a5669128
"
openstack%2Fpuppet-openstack-cookiecutter~master~Id2f7990cd9743db38b4991f67f2de6b9636cb528,openstack/puppet-openstack-cookiecutter,master,policy,Id2f7990cd9743db38b4991f67f2de6b9636cb528,Add support for oslo_policy/enforce_new_defaults,MERGED,2021-04-22 02:57:55.000000000,2021-04-27 09:18:05.000000000,2021-04-27 09:18:05.000000000,19,10,0,787465,952503a3c2c43f6098be4645e71e23fa7ff024a3,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Add support for oslo_policy/enforce_new_defaults

Change-Id: Id2f7990cd9743db38b4991f67f2de6b9636cb528
"
openstack%2Ftenks~master~I3499944939aa717a382d87f5c90236499539de60,openstack/tenks,master,,I3499944939aa717a382d87f5c90236499539de60,Fix ansible lint,MERGED,2021-03-24 10:35:37.000000000,2021-04-27 09:08:34.000000000,2021-04-27 09:05:47.000000000,2,2,0,782682,945a79bc0b7123d8195c64320eaea5c0ac436470,7,3,1,1,14826,Mark Goddard,mgoddard,"Fix ansible lint

Ansible-lint is failing on physical-network.yml, which is a tasks file
rather than a playbook. Specify the two top-level playbooks only, and
ansible-lint will follow the includes.

Change-Id: I3499944939aa717a382d87f5c90236499539de60
"
openstack%2Fkolla~stable%2Fussuri~I499251d13ca77aea2215f8a879b7bb8dd51f1c9f,openstack/kolla,stable/ussuri,,I499251d13ca77aea2215f8a879b7bb8dd51f1c9f,rabbitmq: Move to packagecloud,MERGED,2021-04-26 16:57:34.000000000,2021-04-27 08:58:05.000000000,2021-04-27 08:56:05.000000000,25,36,2,787984,c366a5ca1799d5c85df60fdda21167806bcca6e6,16,4,3,7,30491,Radosław Piliszek,yoctozepto,"rabbitmq: Move to packagecloud

bintray is being shut down 1st of May 2021, rabbitmq docs direct
users to packagecloud - so let's move.

For Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340
(base: drop Linaro OBS key for CentOS and Ubuntu)

Change-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f
(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)
"
openstack%2Fswift~master~Ic36827397b0e607cc9962ac6b1428b3434202049,openstack/swift,master,relinker_extra_stats_ptg,Ic36827397b0e607cc9962ac6b1428b3434202049,relinker: add aggregate data to recon drop,NEW,2021-04-27 07:04:00.000000000,2021-04-27 08:35:44.000000000,,187,11,0,788177,a85f062e6685a36aaa33704cded66ed3d48c2de1,2,1,1,4,7233,Matthew Oliver,mattoliverau,"relinker: add aggregate data to recon drop

This patch starts a new collate process to intermittently collate the
device stats into overall and per policy stats. And places this under
'aggregate':
  {
      ""aggregate"": {
          ""parts_done"": 1029,
          ""policies"": {
              ""1"": {
                  ""parts_done"": 1029,
                  ""start_time"": 1618998724.845616,
                  ""stats"": {
                      ""errors"": 0,
                      ""files"": 1630,
                      ""hash_dirs"": 1630,
                      ""linked"": 1630,
                      ""removed"": 0
                  },
                  ""timestamp"": 1618998730.24672,
                  ""total_parts"": 1029,
                  ""total_time"": 5.400741815567017
              }
          },
          ""start_time"": 1618998724.845616,
          ""stats"": {
              ""errors"": 0,
              ""files"": 1630,
              ""hash_dirs"": 1630,
              ""linked"": 1630,
              ""policies"": 1,
              ""removed"": 0
          },
          ""timestamp"": 1618998730.24672,
          ""total_parts"": 1029,
          ""total_time"": 5.400741815567017
      },
      'devices': {...},
      'workers: {}
  }

Change-Id: Ic36827397b0e607cc9962ac6b1428b3434202049
"
openstack%2Fswift~master~I74adda0385ad4e30cb09fa2604d070694707293b,openstack/swift,master,,I74adda0385ad4e30cb09fa2604d070694707293b,Recommend setting recon_cache_path in [DEFAULT] section,NEW,2021-04-26 19:33:34.000000000,2021-04-27 08:05:31.000000000,,12,19,0,788067,d54b432c296acca46afd3411ca2a772cd3006d62,3,2,1,3,15343,Tim Burke,tburke,"Recommend setting recon_cache_path in [DEFAULT] section

You can still set it per-daemon, of course, but most of the time
operators seem to want all daemons for a layer dumping to the same
location.

Change-Id: I74adda0385ad4e30cb09fa2604d070694707293b
"
openstack%2Fswift~master~I61e63bd66ffd8207599b61721e7f0e4dc45d2e01,openstack/swift,master,,I61e63bd66ffd8207599b61721e7f0e4dc45d2e01,docs: Get rid of useless page,MERGED,2021-04-26 21:24:34.000000000,2021-04-27 08:00:12.000000000,2021-04-27 07:58:17.000000000,0,11,0,788086,8823b45b931287f704e8a977898d0d500690218e,7,2,1,2,15343,Tim Burke,tburke,"docs: Get rid of useless page

I think this was mostly an artifact of the old admin-guide getting
pushed in-tree.

Change-Id: I61e63bd66ffd8207599b61721e7f0e4dc45d2e01
"
openstack%2Fmistral~stable%2Fwallaby~Ief9c13b3ee222aeb60644726cec653e65a8b3605,openstack/mistral,stable/wallaby,create-wallaby,Ief9c13b3ee222aeb60644726cec653e65a8b3605,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-26 18:42:20.000000000,2021-04-27 07:43:29.000000000,2021-04-27 07:42:11.000000000,3,3,0,783453,c2a0205d56642ad920d94953079c98e17c7b3536,13,2,1,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ief9c13b3ee222aeb60644726cec653e65a8b3605
"
openstack%2Fpuppet-neutron~stable%2Fussuri~I0650085d2aa2c3492b175c565976705c977fd806,openstack/puppet-neutron,stable/ussuri,fix-l3-agent-extensions-list-stable/wallaby-stable/victoria-stable/ussuri,I0650085d2aa2c3492b175c565976705c977fd806,Fix L3 agent's extensions list,MERGED,2021-04-20 00:20:43.000000000,2021-04-27 07:32:00.000000000,2021-04-27 07:32:00.000000000,22,2,0,786993,82324318ca5af337c4878588554965872d458ce4,15,4,2,2,9816,Takashi Kajinami,kajinamit,"Fix L3 agent's extensions list

L3 agent's extensions list should be passed as an array
to the neutron::agents::l3 class and then it should be converted
to the comma separated string in the L3 agent's config.
This patch changes expected type of the variable and
adds that such conversion from an array to string.

Conflicts:
	manifests/agents/l3.pp

Change-Id: I0650085d2aa2c3492b175c565976705c977fd806
(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)
(cherry picked from commit db151245184f2188e8e4ef8be6b5418eba4e926b)
(cherry picked from commit 9029fe04cc2f504930613000f2169befc3540255)
"
openstack%2Fmistral-lib~master~I5aec8ad5fda23e3ffbb16a08a0b4626c3fc8db96,openstack/mistral-lib,master,787058,I5aec8ad5fda23e3ffbb16a08a0b4626c3fc8db96,Use py3 as the default runtime for tox,MERGED,2021-04-20 03:22:13.000000000,2021-04-27 07:18:54.000000000,2021-04-27 07:17:27.000000000,1,1,0,787058,b49b6e468494a15ebee4e9cc8702c72695d8d17c,28,2,5,1,31412,Wenping Song,songwenping,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I5aec8ad5fda23e3ffbb16a08a0b4626c3fc8db96
"
openstack%2Fpuppet-vswitch~master~Ie7e05985ac06c5536490d48de109d8de7b7c5722,openstack/puppet-vswitch,master,,Ie7e05985ac06c5536490d48de109d8de7b7c5722,Remove old workaround to check service status in Ubuntu,MERGED,2021-04-25 12:48:12.000000000,2021-04-27 07:15:25.000000000,2021-04-27 07:15:25.000000000,3,16,0,787880,1f63cee543d725e4a7d6de7f2f3eda235c85b564,9,3,1,2,9816,Takashi Kajinami,kajinamit,"Remove old workaround to check service status in Ubuntu

Change-Id: Ie7e05985ac06c5536490d48de109d8de7b7c5722
"
openstack%2Fwhereto~master~I0fb5cb8db4c666241569a5e2b0fa2fcef72a056c,openstack/whereto,master,,I0fb5cb8db4c666241569a5e2b0fa2fcef72a056c,Use py3 as the default runtime for tox,ABANDONED,2021-04-27 07:11:47.000000000,2021-04-27 07:13:02.000000000,,1,1,0,788181,21eb4163914184fda4e4f37212c89c44b1a028b5,2,0,1,1,32921,Reason li,liyou01,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this version isn't longer officially supported.

Change-Id: I0fb5cb8db4c666241569a5e2b0fa2fcef72a056c
"
openstack%2Fopenstack-helm-infra~master~Iff99ebe78554197db4d459bef0dda01b6b2710b7,openstack/openstack-helm-infra,master,update-mariadb,Iff99ebe78554197db4d459bef0dda01b6b2710b7,Uplift mariadb version and ubuntu release,MERGED,2021-04-15 19:53:12.000000000,2021-04-27 07:07:08.000000000,2021-04-27 07:05:48.000000000,5,4,0,786496,44947cc80b91510da6f68a434c847af2d260cabd,15,4,3,3,21420,Gage Hugo,ghugo,"Uplift mariadb version and ubuntu release

This change updates the default images for mariadb, both the version
to 10.5.9 and the ubuntu release to focal.

Change-Id: Iff99ebe78554197db4d459bef0dda01b6b2710b7
"
openstack%2Fheat~stable%2Fvictoria~Iaa2c05b4155d93f44de60b6f98a69450c1512817,openstack/heat,stable/victoria,,Iaa2c05b4155d93f44de60b6f98a69450c1512817,Preserve order in list_concat_unique,MERGED,2021-04-26 14:50:47.000000000,2021-04-27 06:58:55.000000000,2021-04-27 06:56:52.000000000,8,6,0,787983,0833daa3f77dd2267a6068eeafcf9d9af8da1a17,11,2,1,2,8833,Rabi Mishra,rabi,"Preserve order in list_concat_unique

Also, we should not modify a list when iterating
over it.

Task: 42359
Closes-Bug: #1925373
Change-Id: Iaa2c05b4155d93f44de60b6f98a69450c1512817
(cherry picked from commit a8f8528d1ea1952cf76bd09fd27cbd65a978af65)
"
openstack%2Fmistral-extra~stable%2Fwallaby~I2b533d9942c823582122036fc85637faa2743d72,openstack/mistral-extra,stable/wallaby,create-wallaby,I2b533d9942c823582122036fc85637faa2743d72,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-19 18:05:53.000000000,2021-04-27 06:57:08.000000000,2021-04-27 06:51:48.000000000,1,1,0,781834,803c19b4028c10915fa36c9f0b2a83fb0451d287,12,2,3,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I2b533d9942c823582122036fc85637faa2743d72
"
openstack%2Fmasakari~stable%2Ftrain~I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95,openstack/masakari,stable/train,bug/1839715,I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95,Search in nova services instead of hypervisors,MERGED,2021-04-25 19:29:44.000000000,2021-04-27 06:56:49.000000000,2021-04-27 06:55:22.000000000,71,61,0,787900,9eff08c7a8041c28a5f9c5ecb2b9915e7f42ce8c,8,5,1,8,30491,Radosław Piliszek,yoctozepto,"Search in nova services instead of hypervisors

Nova services and hypervisor naming can differ, as they retireve node
names in different way.
In the meanwhile we operate with nova.services while enabling/disabling
nodes duringh the incident. So we're supposed to have in database record
matching to what we have in service list, but not in hypervisor list.

Closes-Bug: #1839715
Change-Id: I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95
(cherry picked from commit 4322968b893b242f229912c2b70e3895f0227402)
(cherry picked from commit 35519c0ce02092aaef6b802817b74d017a84b08b)
"
openstack%2Fmasakari~stable%2Fussuri~I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95,openstack/masakari,stable/ussuri,bug/1839715,I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95,Search in nova services instead of hypervisors,MERGED,2021-04-25 19:25:02.000000000,2021-04-27 06:55:49.000000000,2021-04-27 06:53:56.000000000,71,61,0,787899,35519c0ce02092aaef6b802817b74d017a84b08b,8,5,1,8,30491,Radosław Piliszek,yoctozepto,"Search in nova services instead of hypervisors

Nova services and hypervisor naming can differ, as they retireve node
names in different way.
In the meanwhile we operate with nova.services while enabling/disabling
nodes duringh the incident. So we're supposed to have in database record
matching to what we have in service list, but not in hypervisor list.

Closes-Bug: #1839715
Change-Id: I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95
(cherry picked from commit 4322968b893b242f229912c2b70e3895f0227402)
"
openstack%2Fmistral-extra~stable%2Fwallaby~I2f33a01a2e928e440c4ebb001dc4e24b5bd89145,openstack/mistral-extra,stable/wallaby,fix_hacking_version-stable/wallaby,I2f33a01a2e928e440c4ebb001dc4e24b5bd89145,Fix hacking version,MERGED,2021-04-27 06:19:37.000000000,2021-04-27 06:54:33.000000000,2021-04-27 06:51:45.000000000,2,2,0,788143,a4f4d65f35b6394e771cf86bf18a0381864fda75,7,2,1,2,8731,Renat Akhmerov,rakhmerov,"Fix hacking version

Change-Id: I2f33a01a2e928e440c4ebb001dc4e24b5bd89145
"
openstack%2Fmistral-extra~master~I2f33a01a2e928e440c4ebb001dc4e24b5bd89145,openstack/mistral-extra,master,fix_hacking_version,I2f33a01a2e928e440c4ebb001dc4e24b5bd89145,Fix hacking version,MERGED,2021-04-27 04:59:40.000000000,2021-04-27 06:41:22.000000000,2021-04-27 06:39:46.000000000,2,2,0,788129,1b36297f3a58ae20eabd190ac15a58a5a499ee70,10,2,3,2,8731,Renat Akhmerov,rakhmerov,"Fix hacking version

Change-Id: I2f33a01a2e928e440c4ebb001dc4e24b5bd89145
"
openstack%2Fmasakari~master~Ib24be88c9f33889d5ed705537b0d4c167cad5b3f,openstack/masakari,master,http-status,Ib24be88c9f33889d5ed705537b0d4c167cad5b3f,Finish switch from http.client to HTTPStatus,MERGED,2020-11-11 10:50:22.000000000,2021-04-27 06:13:59.000000000,2021-04-27 06:11:10.000000000,137,130,2,762328,77464a138531e2b542e9bfca931d038c1498feeb,20,5,4,15,30491,Radosław Piliszek,yoctozepto,"Finish switch from http.client to HTTPStatus

Follow-up on [1]:
We don't need an HTTP client for this, we only
need status codes. Just load that instead.

[1] https://review.opendev.org/762308

Change-Id: Ib24be88c9f33889d5ed705537b0d4c167cad5b3f
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I3b252854a0dbf121d69bab79543561da6be781f4,openstack/tripleo-heat-templates,stable/train,nova_qemu_client_tls_verify,I3b252854a0dbf121d69bab79543561da6be781f4,Missing client certificate for live-migration with TLS,MERGED,2021-04-26 14:39:59.000000000,2021-04-27 05:58:59.000000000,2021-04-27 05:29:17.000000000,19,0,1,787979,ac1584a44f951b24f6379c235ffb07e3b0dbee2e,10,8,2,2,27419,David Vallee Delisle,dvd,"Missing client certificate for live-migration with TLS

TLS client verification used to be accidentally disabled in libvirt.
This was fixed in libvirt-6.10.0-1[1].
Which means, once you're using libvirt-6.10.0-1 or higher, a client
certificate is mandatory during live migration with TLS.

In this case, the server certificate generated by TripleO is valid
for client _and_ server:

                 Key Purpose (not critical):
                         TLS WWW Server.
                         TLS WWW Client.

So most deployments can re-use the same certificate for client and
server.  Why?  Because if both migration ends points are located
on the same infrastructure, it is reasonable to use the same
certificate for both client and server roles.

Introducing QemuDefaultTLSVerify parameter

This parameter will allow operators to enable or disable TLS client
certificate verification. Enabling this option will reject any client
who does not have a certificate signed by the CA in
/etc/pki/qemu/ca-cert.pem.

The default is true and matches libvirt's. We will want to disable this
by default in train.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/787249
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1945760
Change-Id: I3b252854a0dbf121d69bab79543561da6be781f4
(cherry picked from commit e7d37585ac38cfef5f1d1f2c54b357c38757536a)
(cherry picked from commit d0d4f25f3df418fab2ea8a3cc79b731cf398dfc0)
(cherry picked from commit dfb282b50306a6a68c52da530818fce425da7b41)
"
openstack%2Fldappool~master~I3c323d21cb3dc9054d24f53c87632255ec4de5fd,openstack/ldappool,master,,I3c323d21cb3dc9054d24f53c87632255ec4de5fd,Add py38 package metadata,ABANDONED,2021-01-03 03:00:06.000000000,2021-04-27 05:48:46.000000000,,1,0,0,768927,667809f2f3a7ba501e5470b7af3a1ee56e9badcc,5,1,1,1,31027,MaAoyu,maaoyu,"Add py38 package metadata

Now that we are running the Wallaby tests that include a
voting py38 job from victoria release, we can now add the
Python 3.8 metadata to the package information to reflect
that support.

Change-Id: I3c323d21cb3dc9054d24f53c87632255ec4de5fd
"
openstack%2Fpython-karborclient~master~I689c3f58e29c0017eac96c7c6211121e23b8bc9a,openstack/python-karborclient,master,,I689c3f58e29c0017eac96c7c6211121e23b8bc9a,bump py37 to py38 in tox.ini,ABANDONED,2020-10-12 08:11:04.000000000,2021-04-27 05:47:16.000000000,,1,1,0,757470,52bd285547152d2fd807209507d0e1511cc9270c,7,2,1,1,31027,MaAoyu,maaoyu,"bump py37 to py38 in tox.ini

in 'victoria' cycle, we should test py38 by default.

ref:
  https://governance.openstack.org/tc/reference/runtimes/victoria.html

Change-Id: I689c3f58e29c0017eac96c7c6211121e23b8bc9a
"
openstack%2Fzaqar~master~I08be0ba678f8fb12f699323d01009c2b52528e2d,openstack/zaqar,master,,I08be0ba678f8fb12f699323d01009c2b52528e2d,Use unittest.mock instead of mock,ABANDONED,2021-01-03 01:17:14.000000000,2021-04-27 05:46:54.000000000,,27,27,22,768890,6038e6c5e1a9f7c202b66c63d44e0709f45b2b52,5,1,2,27,31027,MaAoyu,maaoyu,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I08be0ba678f8fb12f699323d01009c2b52528e2d
"
openstack%2Fpython-swiftclient~master~Iaee5e1a7df3d3122738bed0c618a56af834b6ec3,openstack/python-swiftclient,master,,Iaee5e1a7df3d3122738bed0c618a56af834b6ec3,Use unittest.mock instead of mock,ABANDONED,2021-01-02 06:18:10.000000000,2021-04-27 05:39:11.000000000,,8,10,0,768856,27781f8df559c29562c0adf939b92fbd6f1e419c,6,1,3,10,31027,MaAoyu,maaoyu,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Iaee5e1a7df3d3122738bed0c618a56af834b6ec3
"
openstack%2Fpython-manilaclient~master~I8d3ec5b22e2fa57085d939900ab3668b81c6b5c5,openstack/python-manilaclient,master,unittest.mock,I8d3ec5b22e2fa57085d939900ab3668b81c6b5c5,Use unittest.mock instead of mock,ABANDONED,2021-01-02 03:13:51.000000000,2021-04-27 05:38:54.000000000,,3,13,0,768848,1b1545e7deaadacfd6f2678663200651823736f8,13,3,4,3,31027,MaAoyu,maaoyu,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Also increase the version of python-openstackclient
in test-requirements to a version that doesn't need mock
for its own testing.

Change-Id: I8d3ec5b22e2fa57085d939900ab3668b81c6b5c5
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fpython-freezerclient~master~I28a941ae668f310a40b559e0691d63a33ee08fef,openstack/python-freezerclient,master,,I28a941ae668f310a40b559e0691d63a33ee08fef,Remove install unnecessary packages,ABANDONED,2020-09-24 01:19:49.000000000,2021-04-27 05:38:31.000000000,,0,1,0,753874,353a5a2f8a3a4387f832e8d552764d16120b7d08,12,2,1,1,31027,MaAoyu,maaoyu,"Remove install unnecessary packages

The docs requirements migrated to doc/requirements.txt
we need not install things from requirements.txt.

Change-Id: I28a941ae668f310a40b559e0691d63a33ee08fef
"
openstack%2Ftripleo-image-elements~stable%2Fvictoria~Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,openstack/tripleo-image-elements,stable/victoria,fix-ci,Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,Drop pbr version ceiling,MERGED,2021-04-26 13:58:30.000000000,2021-04-27 05:34:38.000000000,2021-04-27 05:30:27.000000000,8,8,0,788003,b73f4154cab14ed635f2ab25fad528360b509a21,16,4,6,8,14985,Alex Schultz,mwhahaha,"Drop pbr version ceiling

- Ceiling of pbr version can create installation conflicts with pip.
- Fixes tox default env list to be python version agnostic
- Includes hacking version bump to fix dependencies

NOTE: Partial backport of the master fix. This patch excludes the py39
job updates.

Bug: #1921679
Change-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d
(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)
"
openstack%2Ftripleo-ansible~master~I22b93cc1057b5894e2c8342c578a3b8080b542ae,openstack/tripleo-ansible,master,cephadm_rgw_tls,I22b93cc1057b5894e2c8342c578a3b8080b542ae,Allow tripleo_cephadm to process tls info when provided,MERGED,2021-04-09 12:04:19.000000000,2021-04-27 05:34:35.000000000,2021-04-27 05:30:35.000000000,28,4,6,785629,417588a58967c533f6a4af0f97e298cb9df56c3b,34,5,5,5,25402,Francesco Pantano,fmount,"Allow tripleo_cephadm to process tls info when provided

When internal_tls is true, step1 runs the linux-system-roles.certificate
which is able to produce the ceph_rgw.pem file [1].
When this info is available, we need to make sure that cephadm is able
to process it using the spec, and it's included in the deployed rgw(s)
instances.
If the rgw_frontend_ssl_certificate is empty, then this key can be
ignored (this means tls is not enabled). The ceph_spec module is now
able to filter and drop empty keys if the value is not provided when
the spec dict is built.

[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/cephadm/ceph-rgw.yaml#L169

Change-Id: I22b93cc1057b5894e2c8342c578a3b8080b542ae
"
openstack%2Ftripleo-heat-templates~master~Icbdee2a30e2bc6fcf0dc7774e622e27b5cc15270,openstack/tripleo-heat-templates,master,cinder-backup-compression-algorithm,Icbdee2a30e2bc6fcf0dc7774e622e27b5cc15270,Add CinderBackupCompressionAlgorithm parameter,MERGED,2021-04-16 19:27:37.000000000,2021-04-27 05:34:34.000000000,2021-04-27 05:31:01.000000000,24,0,0,786709,d29e1b249b118d55e59c675fd2ec226ade2afb40,17,5,2,2,21129,Alan Bishop,ASBishop,"Add CinderBackupCompressionAlgorithm parameter

The CinderBackupCompressionAlgorithm supports specifying the compression
algorithm for cinder backup drivers that support the feature (most of
the drivers do, but the ceph backup driver doesn't).

Change-Id: Icbdee2a30e2bc6fcf0dc7774e622e27b5cc15270
"
openstack%2Fopenstack-ansible-specs~master~Ib8d8274ea930c48be1fbb81206461c9ff221affc,openstack/openstack-ansible-specs,master,,Ib8d8274ea930c48be1fbb81206461c9ff221affc,Add Root CA spec,MERGED,2020-10-19 12:28:54.000000000,2021-04-27 05:34:17.000000000,2021-04-27 05:31:30.000000000,239,1,52,758805,4a27daf736e489c90474dadcb7cea2b042eeafec,28,3,7,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add Root CA spec

Change-Id: Ib8d8274ea930c48be1fbb81206461c9ff221affc
"
openstack%2Ftripleo-validations~master~I09ef0d13e27eeac5334a0bec25f9abe79aa4b1ff,openstack/tripleo-validations,master,swift/purge/servicestats,I09ef0d13e27eeac5334a0bec25f9abe79aa4b1ff,Removes retired services from service status validation,MERGED,2021-03-23 10:11:56.000000000,2021-04-27 05:34:15.000000000,2021-04-27 05:30:11.000000000,6,4,0,782397,cd99e125e24104e45676f678073a036b8cc059e8,11,7,2,2,32926,Jiri Podivin,jpodivin,"Removes retired services from service status validation

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I09ef0d13e27eeac5334a0bec25f9abe79aa4b1ff
"
openstack%2Ftripleo-image-elements~stable%2Fvictoria~I0dc1f98865e6d134ccd4c4f27ccc179722054abb,openstack/tripleo-image-elements,stable/victoria,create-victoria,I0dc1f98865e6d134ccd4c4f27ccc179722054abb,Update .gitreview for stable/victoria,MERGED,2021-04-01 09:20:41.000000000,2021-04-27 05:30:32.000000000,2021-04-27 05:30:32.000000000,1,0,0,784259,3f7f9eedd975974d9d08aacfebc645bea0551c2e,13,3,2,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/victoria

Change-Id: I0dc1f98865e6d134ccd4c4f27ccc179722054abb
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I785400969efba0062aabdca9af2726a7603ef840,openstack/puppet-tripleo,stable/train,change-782773-2,I785400969efba0062aabdca9af2726a7603ef840,Set ovn_chassis_mac_map in ovn::controller,MERGED,2021-03-24 14:57:59.000000000,2021-04-27 05:30:05.000000000,2021-04-27 05:30:05.000000000,17,5,0,782773,9cabed9d27bc7e91878814a21a889e416fc2ebd3,30,5,3,1,11082,Kamil Sambor,ksambor,"Set ovn_chassis_mac_map in ovn::controller

For distributed vlan in ovn we need to add support of
creating mac addresses per compute and seting them in
external_ids:ovn-chassis-mac-mappings.

Depends-On: https://review.opendev.org/782765
Related-Bug: #1881593
Change-Id: I785400969efba0062aabdca9af2726a7603ef840
(cherry picked from commit ef44eebdc56b839bfbdcb7190c1c1e1ce4fe46d6)
(cherry picked from commit 06f2a09393d00dcc87cb3ce73d56dabd94782ce0)
(cherry picked from commit 15d65f57dacd93228767b03f3931b44b2caf3384)
"
openstack%2Fpuppet-tripleo~master~I4131fcd5bb39dc09527f17b5d149fe18be3f2fd5,openstack/puppet-tripleo,master,vrts,I4131fcd5bb39dc09527f17b5d149fe18be3f2fd5,cinder: remove support for the Veritas HyperScale Driver,MERGED,2021-04-22 15:40:43.000000000,2021-04-27 05:29:49.000000000,2021-04-27 05:29:49.000000000,1,144,2,787590,52a9396acfbde11a9dc592cedd9f8768ff49ee06,21,5,4,6,9816,Takashi Kajinami,kajinamit,"cinder: remove support for the Veritas HyperScale Driver

Following the change in tripleo-heat-templates, this change removes
all implementation to support the Veritas HyperScale Driver, since
the driver itself has been removed from cinder.

Depends-on: https://review.opendev.org/787587
Change-Id: I4131fcd5bb39dc09527f17b5d149fe18be3f2fd5
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I21d2b8f2e267a6f330cc423572b068e3910cacc4,openstack/puppet-tripleo,stable/ussuri,zuul-ut,I21d2b8f2e267a6f330cc423572b068e3910cacc4,Use puppet-openstack-module-unit-jobs to define unit test jobs,MERGED,2021-04-23 14:34:29.000000000,2021-04-27 05:29:45.000000000,2021-04-27 05:29:45.000000000,1,15,0,787761,c04b6b52e6f63eacc8ed62a7566722de01dd1e03,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Use puppet-openstack-module-unit-jobs to define unit test jobs

This patch replaces puppet-tripleo-module-unit-jobs by the common
job definition, puppet-openstack-module-unit-jobs, so that we run
unit test jobs which is consistent with the other puppet modules.

By merging this changes, we expect that the following change is made
to the current job definitions
- Remove CentOS7 job because we don't support CentOS7 anymore
- Replace puppet 6.0 job by puppet 6.11 job

Backport note:
The above descriptions were adjusted to reflect status of Ussuri.

Conflicts:
	zuul.d/layout.yaml

Change-Id: I21d2b8f2e267a6f330cc423572b068e3910cacc4
(cherry picked from commit ef254f7dc7ea257060042eb6ac7c8f6731d2e52b)
"
openstack%2Fos-collect-config~stable%2Fussuri~I7d01ce77918d60de1c4eb942044255b42c7fc9f5,openstack/os-collect-config,stable/ussuri,create-ussuri,I7d01ce77918d60de1c4eb942044255b42c7fc9f5,Update TOX_CONSTRAINTS_FILE for stable/ussuri,MERGED,2021-02-02 12:40:43.000000000,2021-04-27 05:29:42.000000000,2021-04-27 05:29:42.000000000,1,1,0,773654,1bdb36136a052dddc3299c2775916aeb6ad3648b,9,3,2,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7d01ce77918d60de1c4eb942044255b42c7fc9f5
"
openstack%2Fos-collect-config~stable%2Fussuri~I06546ff9fdd24fb07a90758f882edeacccc4ebf3,openstack/os-collect-config,stable/ussuri,create-ussuri,I06546ff9fdd24fb07a90758f882edeacccc4ebf3,Update .gitreview for stable/ussuri,MERGED,2021-02-02 12:40:14.000000000,2021-04-27 05:29:26.000000000,2021-04-27 05:29:26.000000000,1,0,0,773653,385ad808fd66cd5a45412712c125d7726c9cb4b3,9,3,2,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/ussuri

Change-Id: I06546ff9fdd24fb07a90758f882edeacccc4ebf3
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~Ib3e2d9c93221dfc2e15974142f30e8c84e7afd63,openstack/puppet-tripleo,stable/ussuri,stonith-step-stable/victoria-stable/ussuri,Ib3e2d9c93221dfc2e15974142f30e8c84e7afd63,Move stonith resource creation to step2,MERGED,2021-04-14 11:52:37.000000000,2021-04-27 05:29:22.000000000,2021-04-27 05:29:22.000000000,8,1,0,786115,d9857e6f97157b3b4e0080d08fd407f92484d66f,32,5,2,1,20172,Michele Baldessari,michele,"Move stonith resource creation to step2

With the merging of the pcs on host patchset for train we are seeing a
problem with FFUs on Instance HA environments.

Preamble:
Tripleo keeps the stonith-enabled cluster property set to false until the puppet step 5

With the pcs on host patchset the enablement happens still at step 5 but
it gets triggered during tripleo_ha_wrapper deployment task of
cinder-volume which tries to restart the cinder-volume service (during
the leapp of the first controller) and this hangs forever because
pacemaker is in the following transition:
- stonith-fence_compute-fence-nova is configured
- pacemaker wants to call stonith on for controller-0 (which is probably
  dumb, but it is unlikely we'll be able to change that in the right
  timeframe as it seems a potentially involved change in behaviour)
- Any other action, like cinder-volume restart in this case, is stuck
  and the FFU fails.

If we simply move the stonith resource creation (and change nothing else
in the stonith-enabled property being set at step 5) to step 2, we
fix this.

Tested and with the injection of this puppet-tripleo review into the
FFU queens->train upgrade on an IHA system, now the FFU passes.
Also applied this patch to a Train based IHA deployment and verified
that deployment, redeploy, minor update and scaleup all keep on working.

Closes-Bug: #1923723

Change-Id: Ib3e2d9c93221dfc2e15974142f30e8c84e7afd63
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I3b252854a0dbf121d69bab79543561da6be781f4,openstack/tripleo-heat-templates,stable/ussuri,nova_qemu_client_tls_verify,I3b252854a0dbf121d69bab79543561da6be781f4,Missing client certificate for live-migration with TLS,MERGED,2021-04-26 14:34:15.000000000,2021-04-27 05:03:09.000000000,2021-04-27 05:02:00.000000000,19,0,0,787978,dfb282b50306a6a68c52da530818fce425da7b41,11,8,3,2,27419,David Vallee Delisle,dvd,"Missing client certificate for live-migration with TLS

TLS client verification used to be accidentally disabled in libvirt.
This was fixed in libvirt-6.10.0-1[1].
Which means, once you're using libvirt-6.10.0-1 or higher, a client
certificate is mandatory during live migration with TLS.

In this case, the server certificate generated by TripleO is valid
for client _and_ server:

                 Key Purpose (not critical):
                         TLS WWW Server.
                         TLS WWW Client.

So most deployments can re-use the same certificate for client and
server.  Why?  Because if both migration ends points are located
on the same infrastructure, it is reasonable to use the same
certificate for both client and server roles.

Introducing QemuDefaultTLSVerify parameter

This parameter will allow operators to enable or disable TLS client
certificate verification. Enabling this option will reject any client
who does not have a certificate signed by the CA in
/etc/pki/qemu/ca-cert.pem.

The default is true and matches libvirt's. We will want to disable this
by default in train.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/787248
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1945760
Change-Id: I3b252854a0dbf121d69bab79543561da6be781f4
(cherry picked from commit e7d37585ac38cfef5f1d1f2c54b357c38757536a)
(cherry picked from commit d0d4f25f3df418fab2ea8a3cc79b731cf398dfc0)
"
openstack%2Fmistral-lib~master~Iccaf7cfb8051ec1b01fde0786489855013297703,openstack/mistral-lib,master,,Iccaf7cfb8051ec1b01fde0786489855013297703,Dropping lower constraints testing,MERGED,2021-04-25 03:03:46.000000000,2021-04-27 04:32:57.000000000,2021-04-27 04:30:01.000000000,0,58,0,787864,83b2d7ec4eea8ca07d5c8209a311b9779c702201,8,3,1,3,31412,Wenping Song,songwenping,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Iccaf7cfb8051ec1b01fde0786489855013297703
"
openstack%2Fpython-vitrageclient~master~I387ccef324ebc989da9fa5731472a26baa917a85,openstack/python-vitrageclient,master,stestr,I387ccef324ebc989da9fa5731472a26baa917a85,Add find to allowlist_externals and use vitrageclient in place of python_vitrageclient,ABANDONED,2021-04-26 08:59:18.000000000,2021-04-27 04:27:35.000000000,,2,1,0,787944,76d25dd5b68954265d9dd0c390a933e2373adbe0,5,2,1,1,33370,Hitesh Kumar,heroichitesh,"Add find to allowlist_externals and use
vitrageclient in place of python_vitrageclient

Signed-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>
Change-Id: I387ccef324ebc989da9fa5731472a26baa917a85
"
openstack%2Fpuppet-neutron~stable%2Fvictoria~I0650085d2aa2c3492b175c565976705c977fd806,openstack/puppet-neutron,stable/victoria,fix-l3-agent-extensions-list-stable/wallaby-stable/victoria,I0650085d2aa2c3492b175c565976705c977fd806,Fix L3 agent's extensions list,MERGED,2021-04-20 00:18:23.000000000,2021-04-27 04:12:38.000000000,2021-04-27 04:12:38.000000000,22,2,0,786961,9029fe04cc2f504930613000f2169befc3540255,17,4,2,2,9816,Takashi Kajinami,kajinamit,"Fix L3 agent's extensions list

L3 agent's extensions list should be passed as an array
to the neutron::agents::l3 class and then it should be converted
to the comma separated string in the L3 agent's config.
This patch changes expected type of the variable and
adds that such conversion from an array to string.

Change-Id: I0650085d2aa2c3492b175c565976705c977fd806
(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)
(cherry picked from commit db151245184f2188e8e4ef8be6b5418eba4e926b)
"
openstack%2Ftempest-lib~master~Iac5d5ff30671f3d4bbcafa8ad03f8d503011e7a6,openstack/tempest-lib,master,,Iac5d5ff30671f3d4bbcafa8ad03f8d503011e7a6,Use unittest.mock instead of mock,ABANDONED,2021-01-02 06:29:21.000000000,2021-04-27 03:52:45.000000000,,2,2,0,768859,0926314d8ba2529f57caf2e1adb523fe9f030876,4,2,1,2,31027,MaAoyu,maaoyu,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Iac5d5ff30671f3d4bbcafa8ad03f8d503011e7a6
"
openstack%2Foslo.utils~master~I48d3d121c2e3e34ab4ebb426b7cf57f9c86c924d,openstack/oslo.utils,master,,I48d3d121c2e3e34ab4ebb426b7cf57f9c86c924d,Remove references to 'sys.version_info',ABANDONED,2021-04-27 01:53:54.000000000,2021-04-27 02:12:07.000000000,,0,0,0,788136,0a36c25e1aed5b4a25ab06041f80e3bb8fbb8686,2,0,1,0,31827,Jorhson Deng,dengzhaosen,"Remove references to 'sys.version_info'

We support Python 3.6 as a minimum now, making these checks no-ops.

Change-Id: I48d3d121c2e3e34ab4ebb426b7cf57f9c86c924d
"
openstack%2Fvalidations-common~master~I21de23aab15d742c0e46b6b37d8ad85c18b3b08c,openstack/validations-common,master,,I21de23aab15d742c0e46b6b37d8ad85c18b3b08c,ConfigParser exeption message should be returned,ABANDONED,2021-04-27 01:56:30.000000000,2021-04-27 01:58:17.000000000,,2,2,0,788118,11d07be89c51312e8f00672b9293ac49b431545c,2,0,1,1,27419,David Vallee Delisle,dvd,"ConfigParser exeption message should be returned

When we fail to parse config file it would be good to know why instead
of having a generic message. When we print the exception, the message is
pretty clear.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1950544
Change-Id: I21de23aab15d742c0e46b6b37d8ad85c18b3b08c
"
openstack%2Ftripleo-image-elements~stable%2Fussuri~Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,openstack/tripleo-image-elements,stable/ussuri,fix-ci-ussuri,Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,Drop pbr version ceiling,MERGED,2021-04-26 14:00:11.000000000,2021-04-27 01:47:05.000000000,2021-04-27 01:45:41.000000000,8,8,0,788004,2b5e3aaefdeb3e1de5d47efdba5e5d82952b89b3,11,4,3,8,14985,Alex Schultz,mwhahaha,"Drop pbr version ceiling

- Ceiling of pbr version can create installation conflicts with pip.
- Fixes tox default env list to be python version agnostic
- Includes hacking version bump to fix dependencies

NOTE: Partial backport of the master fix. This patch excludes the py39
job updates.

Bug: #1921679
Change-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d
(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)
(cherry picked from commit 55b2437394abddc23be5781aa495ffabf24f2f31)
"
openstack%2Ftripleo-image-elements~stable%2Ftrain~Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,openstack/tripleo-image-elements,stable/train,fix-ci-train,Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,Drop pbr version ceiling,MERGED,2021-04-26 14:01:12.000000000,2021-04-27 01:46:50.000000000,2021-04-27 01:45:25.000000000,8,8,0,788005,44c79f626b3a66d07b71fb12cf416286b55d614b,11,4,2,8,14985,Alex Schultz,mwhahaha,"Drop pbr version ceiling

- Ceiling of pbr version can create installation conflicts with pip.
- Fixes tox default env list to be python version agnostic
- Includes hacking version bump to fix dependencies

NOTE: Partial backport of the master fix. This patch excludes the py39
job updates.

Bug: #1921679
Change-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d
(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)
(cherry picked from commit 55b2437394abddc23be5781aa495ffabf24f2f31)
(cherry picked from commit 2b5e3aaefdeb3e1de5d47efdba5e5d82952b89b3)
"
openstack%2Ftripleo-image-elements~stable%2Ftrain~I29d632814577db0b720b07d4497983e267d46a4e,openstack/tripleo-image-elements,stable/train,ens3-1,I29d632814577db0b720b07d4497983e267d46a4e,ensure any ens3 interface is nuked during image build,MERGED,2021-04-23 18:18:31.000000000,2021-04-27 01:45:49.000000000,2021-04-27 01:45:49.000000000,2,2,0,787797,c6d24542ab16019d643fa42ba7f5834e53d8d087,19,7,3,1,9592,wes hayutin,weshayutin,"ensure any ens3 interface is nuked during image build

It seems as though w/ CentOS-8.3 ens3 has crept
back into play.  Ensure it's not in the overcloud
images.  See bug for details.

Closes-Bug: #1910107
Change-Id: I29d632814577db0b720b07d4497983e267d46a4e
(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)
"
openstack%2Ftripleo-image-elements~stable%2Fussuri~I29d632814577db0b720b07d4497983e267d46a4e,openstack/tripleo-image-elements,stable/ussuri,ens3-1,I29d632814577db0b720b07d4497983e267d46a4e,ensure any ens3 interface is nuked during image build,MERGED,2021-04-23 18:17:45.000000000,2021-04-27 01:45:45.000000000,2021-04-27 01:45:45.000000000,2,2,0,787796,49c16a368ee4e1f1ba99a04883f7342f964ab7a9,20,7,3,1,9592,wes hayutin,weshayutin,"ensure any ens3 interface is nuked during image build

It seems as though w/ CentOS-8.3 ens3 has crept
back into play.  Ensure it's not in the overcloud
images.  See bug for details.

Closes-Bug: #1910107
Change-Id: I29d632814577db0b720b07d4497983e267d46a4e
(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)
"
openstack%2Ftripleo-heat-templates~master~I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592,openstack/tripleo-heat-templates,master,logging-fix,I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592,Correct metrics_qdr logging path and regex parsing,MERGED,2021-04-12 18:55:41.000000000,2021-04-27 01:45:11.000000000,2021-04-27 01:45:11.000000000,5,5,1,785956,cda21df470cb801608fa7cf625100e754bc8e161,27,7,4,3,31510,Paul Leimer,pleimer,"Correct metrics_qdr logging path and regex parsing

Change-Id: I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592
Resolves: rhbz#1945075
"
openstack%2Fpuppet-vswitch~master~I6110cd9a62f33e2d046fc2c835aaec73c4532889,openstack/puppet-vswitch,master,untested-distro,I6110cd9a62f33e2d046fc2c835aaec73c4532889,Drop support for FreeBSD and Solaris,MERGED,2021-04-25 12:55:41.000000000,2021-04-27 01:43:48.000000000,2021-04-27 01:43:48.000000000,4,215,0,787881,b91243937e53d23970cddb19b9883be3773b5fb0,11,3,1,5,9816,Takashi Kajinami,kajinamit,"Drop support for FreeBSD and Solaris

These two distros are never tested in gate, and there are almost no
activities to keep these support updated for a while.

Change-Id: I6110cd9a62f33e2d046fc2c835aaec73c4532889
"
openstack%2Fneutron~master~Iffd1deb977e92b9a600ab2603408ddf2eb387e18,openstack/neutron,master,bug/1925836-md-chassis-monitoring,Iffd1deb977e92b9a600ab2603408ddf2eb387e18,[OVN] MetadataProxyHandler to conditionally monitor both Chassis's tables,MERGED,2021-04-23 16:34:44.000000000,2021-04-27 01:12:50.000000000,2021-04-26 12:26:17.000000000,3,3,0,787780,ce2c0010b93680bdcb6619940a84f8602769b837,14,6,1,1,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] MetadataProxyHandler to conditionally monitor both Chassis's tables

If both Chassis and Chassis_Private tables are passed to the
MetadataProxyHandler class we should conditionally monitor both of them.

Change-Id: Iffd1deb977e92b9a600ab2603408ddf2eb387e18
Co-Authored-By: Terry Wilson <twilson@redhat.com>
Closes-Bug: #1925836
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Fmasakari-monitors~master~Ic1b19423f7a9d93e9bc76bf94b5d5e3101f8341d,openstack/masakari-monitors,master,,Ic1b19423f7a9d93e9bc76bf94b5d5e3101f8341d,Replaces yaml.load() with yaml.safe_load(),MERGED,2018-02-13 07:07:12.000000000,2021-04-27 01:03:05.000000000,2021-04-27 01:01:58.000000000,1,1,3,543815,1087a38cc2f77dd7a4b02a34daae9bc4b77dc624,22,8,3,1,19853,Nguyen Hung Phuong,phuongnh,"Replaces yaml.load() with yaml.safe_load()

Yaml.load() return Python object may be dangerous if you receive a YAML
document from an untrusted source such as the Internet. The function
yaml.safe_load() limits this ability to simple Python objects like
integers or lists.

Reference:
https://security.openstack.org/guidelines/dg_avoid-dangerous-input-parsing-libraries.html

Change-Id: Ic1b19423f7a9d93e9bc76bf94b5d5e3101f8341d
"
openstack%2Fkayobe~master~I3d85b341cf541cfb9b486021e66b316833fe9130,openstack/kayobe,master,,I3d85b341cf541cfb9b486021e66b316833fe9130,Use released version of mrlesmithjr.mdadm,MERGED,2021-04-26 08:10:35.000000000,2021-04-27 00:33:51.000000000,2021-04-27 00:32:30.000000000,1,2,0,787934,7411e624dea77a1b94d91bd37c9a388aa5011bb4,15,6,1,1,15197,Pierre Riteau,priteau,"Use released version of mrlesmithjr.mdadm

An initial version of the mrlesmithjr.mdadm role was released 2 days
ago. There are only minimal changes compared to the commit we were
using. This should avoid the following issue seen in CI:

[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified
version (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not
found in the list of available versions ([{'id': 152374, 'url': '', 'related':
{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':
'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',
'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':
'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':
'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':
None}]).
ERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.

Change-Id: I3d85b341cf541cfb9b486021e66b316833fe9130
"
openstack%2Fneutron~stable%2Fussuri~Ia90f2ee435b0a3476dbea028d3200cefe11e35e4,openstack/neutron,stable/ussuri,bug/1883089-stable/ussuri,Ia90f2ee435b0a3476dbea028d3200cefe11e35e4,[L3] Check agent gateway port robustly,MERGED,2021-03-10 14:31:56.000000000,2021-04-27 00:14:39.000000000,2021-04-27 00:12:47.000000000,38,1,0,779613,4093727ae9c751cce8c39dd0eb022b2c9b90d624,24,5,3,2,9531,liuyulong,LIU-Yulong,"[L3] Check agent gateway port robustly

In patch [1] it introduced a binding of DB uniq constraint for L3
agent gateway. In some extreme case the DvrFipGatewayPortAgentBinding
is in DB while the gateway port not. The current code path only checks
the binding existence which will pass a ""None"" port to the following
code path that results an AttributeError. This patch adds a simple check
for that gateway port, if it is not created, new one.

[1] https://review.opendev.org/#/c/702547/

Closes-Bug: #1883089
Change-Id: Ia90f2ee435b0a3476dbea028d3200cefe11e35e4
(cherry picked from commit 5fdfd4cbfc56425c56b4a5702d92a97da56ab6e8)
"
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~Icaebf1f72a1655883c54c730e5c6976c5fbc6989,openstack/puppet-openstack-integration,stable/train,,Icaebf1f72a1655883c54c730e5c6976c5fbc6989,Train-only: Add Puppet 5 syntax job on CentOS8 Stream,ABANDONED,2021-04-23 07:18:42.000000000,2021-04-27 00:11:31.000000000,,9,0,0,787671,9eb7ac3effe9293a353eeb8200570ba3a524bc67,3,1,1,2,9816,Takashi Kajinami,kajinamit,"Train-only: Add Puppet 5 syntax job on CentOS8 Stream

Change-Id: Icaebf1f72a1655883c54c730e5c6976c5fbc6989
"
openstack%2Ftripleo-validations~master~If23c41d343678dcbbd0b4aae10ca6281a33e385f,openstack/tripleo-validations,master,fqdn,If23c41d343678dcbbd0b4aae10ca6281a33e385f,Make tls_everywhere validations compatible with ansible_facts,MERGED,2021-04-24 09:18:32.000000000,2021-04-26 23:49:13.000000000,2021-04-26 23:49:13.000000000,3,3,0,787835,b63d45a2c6d108c3ad62b098a07af72736650755,10,11,2,2,20172,Michele Baldessari,michele,"Make tls_everywhere validations compatible with ansible_facts

Via [1] we cannot rely on ansible_* vars anymore. So let's switch to
ansible_facts. This should fix the following error:

  2021-04-22 22:08:36,708 p=36100 u=mistral n=ansible | fatal:
  [undercloud]: FAILED! => {""msg"": ""The task includes an option with an
  undefined variable. The error was: {{ tls_everywhere_undercloud_fqdn |
  default(ansible_fqdn) }}: 'ansible_fqdn' is undefined\n\nThe error
  appears to be in
  '/usr/share/ansible/roles/tls_everywhere/tasks/ipa-server-check.yaml':
  line 59, column 7, but may\nbe elsewhere in the file depending on the
  exact syntax problem.\n\nThe offending line appears to be:\n\n\n    -
  name: kinit as the host entity\n      ^ here\n""}

Closes-Bug: #1925999

[1] https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e6b7fa4b026922bac7953bafeee96d

Change-Id: If23c41d343678dcbbd0b4aae10ca6281a33e385f
"
openstack%2Ftripleo-ansible~master~I274fa5e2a4dcd0501f4b40ce38b5480c2f88002d,openstack/tripleo-ansible,master,jobs,I274fa5e2a4dcd0501f4b40ce38b5480c2f88002d,Fix molecule jobs to work with stream nodes,MERGED,2021-04-26 09:02:36.000000000,2021-04-26 23:49:08.000000000,2021-04-26 23:49:08.000000000,22,4,0,787946,7e29933d41f0de6b0697a17ea88a5bfcee72103b,10,6,2,12,10969,Shnaidman Sagi (Sergey),sergsh,"Fix molecule jobs to work with stream nodes

Change-Id: I274fa5e2a4dcd0501f4b40ce38b5480c2f88002d
"
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I29e3e8b5dab256816ea108d23ccb1f0558e43e82,openstack/puppet-tripleo,stable/victoria,bug/1915800,I29e3e8b5dab256816ea108d23ccb1f0558e43e82,Add ports filtering support to XtremIO Cinder driver,MERGED,2021-03-06 21:54:59.000000000,2021-04-26 23:35:41.000000000,2021-04-26 23:34:37.000000000,8,0,0,779005,f363602ba075141a87296bf83c828cdb8919b439,15,6,1,3,31016,Ivan Pchelintsev,pcheli,"Add ports filtering support to XtremIO Cinder driver

If there are some iSCSI or FC targets (ESXi for example) that
are not connected to the OpenStack host,
attach volume operation waits until timeout.
The XtremIO Cinder driver needs a new option to support ports
filtering.

Depends-On: https://review.opendev.org/#/c/779000
Related-Bug: #1915800
Change-Id: I29e3e8b5dab256816ea108d23ccb1f0558e43e82
(cherry picked from commit 4c981b570210a10eac3f88c44570629d04eded64)
"
openstack%2Ftripleo-common~master~I2c3e9088bf92146b07d46288c2264368e15aa63b,openstack/tripleo-common,master,ephemeral-heat,I2c3e9088bf92146b07d46288c2264368e15aa63b,Add utils for local_orchestration_client,MERGED,2021-04-23 20:39:28.000000000,2021-04-26 23:10:51.000000000,2021-04-26 23:09:31.000000000,97,0,1,787819,ebe43cd8db4140469b70858276e38fcbdf91b885,15,4,1,1,7144,James Slagle,slagle,"Add utils for local_orchestration_client

Add a utils/heat.py which can be used by both tripleoclient and
tripleo-ansible to launch and configure a heatclient for ephemeral Heat.

Change-Id: I2c3e9088bf92146b07d46288c2264368e15aa63b
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fopenstack-helm-infra~master~I1f07d8308d7f92f88149f63e8ea128f7038c58de,openstack/openstack-helm-infra,master,mariadb-pvc,I1f07d8308d7f92f88149f63e8ea128f7038c58de,DNM - Alternate Mariadb Chart,ABANDONED,2021-04-26 20:31:33.000000000,2021-04-26 21:26:17.000000000,,358,16,0,788078,5c27eb700ddde2d050b8dfa7bbc69c3cbf09ee10,4,1,2,9,21420,Gage Hugo,ghugo,"DNM - Alternate Mariadb Chart

Change-Id: I1f07d8308d7f92f88149f63e8ea128f7038c58de
"
openstack%2Fpuppet-aodh~master~Ifece49e145c57b9b04312536ac771a55d791e4ab,openstack/puppet-aodh,master,gnocchi_external_domain_name,Ifece49e145c57b9b04312536ac771a55d791e4ab,Add support for api/gnocchi_external_domain_name,MERGED,2021-04-23 13:38:42.000000000,2021-04-26 21:19:11.000000000,2021-04-26 21:18:08.000000000,22,4,0,787738,2b382776ad6cd73facb444c1e134b37649c06d8a,10,3,2,3,9816,Takashi Kajinami,kajinamit,"Add support for api/gnocchi_external_domain_name

Change-Id: Ifece49e145c57b9b04312536ac771a55d791e4ab
"
openstack%2Ftripleo-common~master~Id881bda7389b3c3ce40637ba5eedae4ff2b14dab,openstack/tripleo-common,master,zz,Id881bda7389b3c3ce40637ba5eedae4ff2b14dab,WIP: Changed retry logic on buildah build,ABANDONED,2020-12-15 14:49:42.000000000,2021-04-26 21:17:46.000000000,,24,22,0,767168,06339a2014d659adcd2d967ba400b9baae837ec3,14,5,4,1,24162,Sorin Sbârnea,ssbarnea,"WIP: Changed retry logic on buildah build

- Refactored logging
- Enables logging of retries, so we know how often it happens
- Increase number of retries to 5
- Switched delay from 1s to exponential, capping at 60s

Change-Id: Id881bda7389b3c3ce40637ba5eedae4ff2b14dab
Tested-By: https://review.rdoproject.org/r/#/c/31369/
"
openstack%2Frpm-packaging~stable%2Fwallaby~I5e6e925632f8152a4fe0f7ba6cce86050395080c,openstack/rpm-packaging,stable/wallaby,,I5e6e925632f8152a4fe0f7ba6cce86050395080c,Update .gitreview and tox.ini to stable/wallaby,MERGED,2021-04-26 14:39:03.000000000,2021-04-26 21:10:47.000000000,2021-04-26 21:10:47.000000000,2,1,0,788012,d88c3e0cd6a62bfc4ee56d8f943b1e5a19b47692,6,4,1,2,13294,Javier Peña,jpena,"Update .gitreview and tox.ini to stable/wallaby

This will direct reviews to use the right branches.

Change-Id: I5e6e925632f8152a4fe0f7ba6cce86050395080c
"
openstack%2Fkayobe~stable%2Fvictoria~I3d85b341cf541cfb9b486021e66b316833fe9130,openstack/kayobe,stable/victoria,,I3d85b341cf541cfb9b486021e66b316833fe9130,Use released version of mrlesmithjr.mdadm,MERGED,2021-04-26 08:26:23.000000000,2021-04-26 21:03:04.000000000,2021-04-26 21:01:46.000000000,1,2,0,787939,bf10fce87a47c3ee732c6fd8c8a4d2951ba805ee,12,3,1,1,15197,Pierre Riteau,priteau,"Use released version of mrlesmithjr.mdadm

An initial version of the mrlesmithjr.mdadm role was released 2 days
ago. There are only minimal changes compared to the commit we were
using. This should avoid the following issue seen in CI:

[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified
version (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not
found in the list of available versions ([{'id': 152374, 'url': '', 'related':
{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':
'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',
'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':
'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':
'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':
None}]).
ERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.

Change-Id: I3d85b341cf541cfb9b486021e66b316833fe9130
Depends-On: https://review.opendev.org/c/openstack/kayobe/+/787938
(cherry picked from commit 7411e624dea77a1b94d91bd37c9a388aa5011bb4)
"
openstack%2Ftripleo-image-elements~stable%2Fvictoria~I82e73dc9d592d360e545a66b3f0b4d3252e5a4fc,openstack/tripleo-image-elements,stable/victoria,victoria,I82e73dc9d592d360e545a66b3f0b4d3252e5a4fc,add default branch to .gitreview,ABANDONED,2021-04-26 17:17:27.000000000,2021-04-26 20:20:54.000000000,,1,0,0,788049,ca9a466ef24d241bce481e8f72f51bac0b639cba,6,1,3,1,9592,wes hayutin,weshayutin,"add default branch to .gitreview

Change-Id: I82e73dc9d592d360e545a66b3f0b4d3252e5a4fc
"
openstack%2Fpuppet-ovn~master~I9cd3105d13e02a7bbd5ef6ad4befed7bae9d488d,openstack/puppet-ovn,master,hw_offload,I9cd3105d13e02a7bbd5ef6ad4befed7bae9d488d,Remove deprecated ovn::controller::enable_hw_offload,MERGED,2021-04-25 11:49:45.000000000,2021-04-26 20:18:08.000000000,2021-04-26 20:16:43.000000000,5,24,0,787877,bbfc138c287c8a0e97711fa70e05e60a3c3fc981,12,3,2,3,9816,Takashi Kajinami,kajinamit,"Remove deprecated ovn::controller::enable_hw_offload

Change-Id: I9cd3105d13e02a7bbd5ef6ad4befed7bae9d488d
"
openstack%2Ftripleo-docs~master~I93a524f210045bc0ac291f3a2be8cc8dead9a223,openstack/tripleo-docs,master,,I93a524f210045bc0ac291f3a2be8cc8dead9a223,Add scale up/down example for cephadm integration,MERGED,2021-04-23 22:04:13.000000000,2021-04-26 20:17:48.000000000,2021-04-26 20:16:22.000000000,168,6,17,787825,1ccdfbfafae369d83356b2596b2f30a86d60567f,15,5,3,1,18002,John Fulton,fultonj,"Add scale up/down example for cephadm integration

Change-Id: I93a524f210045bc0ac291f3a2be8cc8dead9a223
"
openstack%2Fnova~stable%2Fwallaby~I1c12b2903c1e5bf3a88394493456ad33233f3cd8,openstack/nova,stable/wallaby,bug/1882421,I1c12b2903c1e5bf3a88394493456ad33233f3cd8,guestfs: With libguestfs >= v1.41.1 decode returned bytes to string,MERGED,2021-04-24 15:55:18.000000000,2021-04-26 19:53:56.000000000,2021-04-26 19:52:20.000000000,11,4,1,787839,e98935f705a931e3ae666820387a419be1622b64,11,3,1,3,10135,Lee Yarwood,lyarwood,"guestfs: With libguestfs >= v1.41.1 decode returned bytes to string

libguestfs >= v1.41.1 and commit 0ee02e0117527 changed the return type
of read_file from string to bytes.

https://github.com/libguestfs/libguestfs/commit/0ee02e0117527b86a31b2a88a14994ce7f15571f

As we don't check the version of libguestfs installed this change
handles both the original behaviour where a string is returned and the
newer behaviour by decoding any returned bytes to a string.

Closes-Bug: #1882421
Change-Id: I1c12b2903c1e5bf3a88394493456ad33233f3cd8
(cherry picked from commit 606d588e3eca1d88ad26b4c2cfa3f2e1d5ed553e)
"
openstack%2Fnova~stable%2Fwallaby~I212a2db8d71702d330b146dc6f871b402a309e74,openstack/nova,stable/wallaby,bug/1919487,I212a2db8d71702d330b146dc6f871b402a309e74,compute: Reject requests to commit intermediary snapshot of an inactive instance,MERGED,2021-04-09 09:06:19.000000000,2021-04-26 19:33:36.000000000,2021-04-26 19:31:53.000000000,66,9,0,785576,200c743400ed3fd5240fd25d0396eb6180b3f26a,16,4,1,2,10135,Lee Yarwood,lyarwood,"compute: Reject requests to commit intermediary snapshot of an inactive instance

Introduced by I76eb2e4da027a13525314bd58264f482374d270d the
os-assisted-volume-snapshots API is only implemented by the libvirt virt
driver and should only be called by c-vol as part of an orchestrated
remotefs based volume snapshot creation or deletion workflow.

While not documented clearly in the current api-ref there are code
comments within the compute API suggesting that this API can be called
against a volume attached to an instance that is in *any* vm_state.

This however is not correct when deleting and in turn committing an
intermediary volume snapshot of an instance that is not running given
the current implementation within the libvirt driver. With a request to
virDomainBlockCommit being made that fails if the instance and
underlying domain is not running.

Adding support for an offline commit isn't trivial and would be
considered a new feature and not something we could backport on the
stable branches. As such this change seeks to ensure requests to commit
an intermediary volume snapshot from an inactive instance are rejected
quickly and clearly by the compute API to the caller before we cast to
the compute.

Closes-Bug: #1919487
Change-Id: I212a2db8d71702d330b146dc6f871b402a309e74
(cherry picked from commit 99409375a03e6f923a8b6b00a5dd653bab74caaf)
"
openstack%2Frequirements~master~Ifb092290664a38724c84e70ffb22eb0020cffdb6,openstack/requirements,master,new-release,Ifb092290664a38724c84e70ffb22eb0020cffdb6,update constraint for openstacksdk to new release 0.56.0,MERGED,2021-04-26 14:47:47.000000000,2021-04-26 19:16:00.000000000,2021-04-26 19:13:22.000000000,1,1,0,788016,a5c80a52265931156de34b1b2ab490a0d6335ba4,8,2,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for openstacksdk to new release 0.56.0

meta: version: 0.56.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Commit: Jens Harbott <j.harbott@x-ion.de>
meta: release:Change-Id: Icc386a9fe36ddae4edbc15603e745b14d1861271
meta: release:Code-Review+1: Dr. Jens Harbott <j.harbott@x-ion.de>
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ifb092290664a38724c84e70ffb22eb0020cffdb6
"
openstack%2Fneutron~master~I7c20fec08e5dc9f67b34100c925ea6724bbd25f0,openstack/neutron,master,unittest2,I7c20fec08e5dc9f67b34100c925ea6724bbd25f0,Replace assertItemsEqual with assertCountEqual,MERGED,2020-07-12 03:24:20.000000000,2021-04-26 19:15:20.000000000,2021-04-26 19:12:38.000000000,164,154,0,740569,62729d4e74f615fff36ba7be6662fa7dda562ef2,191,6,2,36,30356,gugug,gujin,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

NOTE(dmllr): added hacking check

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I7c20fec08e5dc9f67b34100c925ea6724bbd25f0
"
openstack%2Fnova~stable%2Fwallaby~I0e068043d8267ab91535413d950a3e154c2234f7,openstack/nova,stable/wallaby,bug/1923206,I0e068043d8267ab91535413d950a3e154c2234f7,libvirt: Ignore device already in the process of unplug errors,MERGED,2021-04-15 18:55:52.000000000,2021-04-26 19:15:15.000000000,2021-04-26 19:13:04.000000000,59,2,0,786483,972a86d61f6b6f0f3d1af549b081854e6ff016bc,16,3,1,2,10135,Lee Yarwood,lyarwood,"libvirt: Ignore device already in the process of unplug errors

At present QEMU will raise an error to libvirt when a device_del request
is made for a device that has already partially detached through a
previous request. This is outlined in more detail in the following
downstream Red Hat QEMU bug report:

Get libvirtError ""Device XX is already in the process of unplug"" [..]
https://bugzilla.redhat.com/show_bug.cgi?id=1878659

Within Nova we can actually ignore this error and allow our existing
retry logic to attempt again after a short wait, hopefully allowing the
original request to complete removing the device from the domain.

This change does this and should result in one of the following
device_del requests raising a VIR_ERR_DEVICE_MISSING error from libvirt.
_try_detach_device should then translate that libvirt error into a
DeviceNotFound exception which is itself then ignored by all
detach_device_with_retry callers and taken to mean that the device has
detached successfully.

Closes-Bug: #1923206
Change-Id: I0e068043d8267ab91535413d950a3e154c2234f7
(cherry picked from commit 0a7d3794c6dc39976b4cbfe12b1688230ac895a8)
"
openstack%2Fswift~master~Id7e828a56c8a62a1f3e9a1dbbff5a56c928ac6b8,openstack/swift,master,,Id7e828a56c8a62a1f3e9a1dbbff5a56c928ac6b8,Include sharding cycle time in recon,MERGED,2021-04-23 23:14:26.000000000,2021-04-26 19:15:08.000000000,2021-04-26 19:13:31.000000000,5,3,1,787831,f2a4c50dce4f8e3322b1a016f7b15afee53f04a0,13,2,2,2,15343,Tim Burke,tburke,"Include sharding cycle time in recon

Change-Id: Id7e828a56c8a62a1f3e9a1dbbff5a56c928ac6b8
"
openstack%2Frequirements~master~I1da8af4c5524f921485b9b01fa91c676bb172bcf,openstack/requirements,master,new-release,I1da8af4c5524f921485b9b01fa91c676bb172bcf,update constraint for pbr to new release 5.6.0,MERGED,2021-04-26 15:28:08.000000000,2021-04-26 19:14:56.000000000,2021-04-26 19:13:12.000000000,1,1,0,788030,cd72f2ea8e6404d1a06a89e90dc2cb9113c79de9,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for pbr to new release 5.6.0

meta: version: 5.6.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Stephen Finucane <sfinucan@redhat.com>
meta: release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta: release:Change-Id: Ibc0257c052aa0e60293c37a6990dce18e97e7730
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I1da8af4c5524f921485b9b01fa91c676bb172bcf
"
openstack%2Fopenstack-ansible-os_trove~master~Ia5c92f312a773c88563c61bba327f07ef369d62c,openstack/openstack-ansible-os_trove,master,,Ia5c92f312a773c88563c61bba327f07ef369d62c,Adjust service restart handlers,MERGED,2021-04-26 09:39:56.000000000,2021-04-26 19:03:59.000000000,2021-04-26 19:02:53.000000000,9,18,0,787950,21619ca389f197979f9b40b2c7732aa03343606d,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Adjust service restart handlers

We should make service restart handlers more universal, since
there might be cases where api and taskmanager are placed on different
hosts. So we should restart services only when they are present, and
filtered_trove_services helps us here as defines only services that
should exist on the host.

This also align handler with other services and fix taskmanager restart
as it is missing now but conductor is restarted twice instead.

Change-Id: Ia5c92f312a773c88563c61bba327f07ef369d62c
"
openstack%2Fopenstack-ansible-os_octavia~master~I22c56f32d7308803e9363f9375d7f6206ccecd41,openstack/openstack-ansible-os_octavia,master,,I22c56f32d7308803e9363f9375d7f6206ccecd41,Set octavia_amp_image_owner_id by default,MERGED,2021-04-23 07:13:57.000000000,2021-04-26 19:02:24.000000000,2021-04-26 19:01:11.000000000,30,1,0,787670,9ef492e3b2663d035061745b23b471f3c8d5da27,16,3,3,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Set octavia_amp_image_owner_id by default

This patch sets the octavia_amp_image_owner_id default so that the
Octavia configuration file has amp_image_owner_id populated.
That is important security setting for production deployments that helps
to avoid faked images being used

Change-Id: I22c56f32d7308803e9363f9375d7f6206ccecd41
"
openstack%2Fansible-role-python_venv_build~master~If27a6e57c56a0b294442b71aa777d759bc401868,openstack/ansible-role-python_venv_build,master,,If27a6e57c56a0b294442b71aa777d759bc401868,Fix facts gathering when run with tags,MERGED,2021-04-23 07:48:34.000000000,2021-04-26 19:01:04.000000000,2021-04-26 18:59:35.000000000,2,0,0,787680,53db970168dd3847e244173c740470c493f2760e,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix facts gathering when run with tags

Currently facts are not gathered when role is run with tags
This patch fixes that behaviour and prevents role failure.

Change-Id: If27a6e57c56a0b294442b71aa777d759bc401868
"
openstack%2Fopenstack-ansible-os_octavia~master~I4b51290b94b5b4b54b111d197688f65129a4f5ad,openstack/openstack-ansible-os_octavia,master,,I4b51290b94b5b4b54b111d197688f65129a4f5ad,Use dynamic import for conditional task imports,MERGED,2021-04-23 07:25:02.000000000,2021-04-26 19:00:25.000000000,2021-04-26 18:59:15.000000000,37,16,0,787673,53870c390e213b4a655de5922d22d3fa8873f17e,8,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use dynamic import for conditional task imports

When task import condition is false, we need to use include instead
of import, since this allows not running through all tasks and
reduce amount of skipped tasks for such deployments.

Change-Id: I4b51290b94b5b4b54b111d197688f65129a4f5ad
"
openstack%2Fopenstack-ansible-os_keystone~master~I33a88f3782d7cf334ad878e57b07d09dcd77842c,openstack/openstack-ansible-os_keystone,master,,I33a88f3782d7cf334ad878e57b07d09dcd77842c,Use common name for service project description,MERGED,2021-04-23 07:41:03.000000000,2021-04-26 18:52:38.000000000,2021-04-26 18:51:27.000000000,2,1,0,787676,700730dfd93bed24d03a33794ea47148e113a2ef,8,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use common name for service project description

Since `service` project is shared, it's confusing to have same naming as
for service_catalog. We add variable
`keystone_service_project_description` that will be used specifically
for `service` project description

Change-Id: I33a88f3782d7cf334ad878e57b07d09dcd77842c
"
openstack%2Ftripleo-quickstart~master~I42ce75997b0f9eeec2f51b0ac0449cde7971cbdc,openstack/tripleo-quickstart,master,wallaby-branching,I42ce75997b0f9eeec2f51b0ac0449cde7971cbdc,Addl wallaby release file for centosci,MERGED,2021-04-26 07:01:33.000000000,2021-04-26 18:41:05.000000000,2021-04-26 18:39:33.000000000,117,31,0,787921,7ceaa0c0a5d0e528c71fc130573fef10677ca71f,9,8,1,5,13861,yatin,yatinkarel,"Addl wallaby release file for centosci

Also update other centosci release files to centos8-stream
and container-tools:3.0 like other non centosci release files.

Change-Id: I42ce75997b0f9eeec2f51b0ac0449cde7971cbdc
"
openstack%2Ftripleo-common~stable%2Ftrain~Ica1b5c0a165cc06fac668513114eef2b4ba73f56,openstack/tripleo-common,stable/train,mistral-ansible-log-stable/ussuri-stable/train,Ica1b5c0a165cc06fac668513114eef2b4ba73f56,[Victoria and bellow] Ensure rights on the ansible.log file,MERGED,2021-04-20 12:13:21.000000000,2021-04-26 18:41:01.000000000,2021-04-26 18:39:30.000000000,5,0,0,786971,32e2249e41c637e8f6362a4d459b1418d2a3324e,14,3,1,1,28223,Cedric Jeanneret,cjeanner,"[Victoria and bellow] Ensure rights on the ansible.log file

When mistral starts the Ansible action, a log file is created runtime.
But nothing takes care of its access right, leading to potential data
leaks to unprivileged users (default mode is 0644).

This patch creates the logfile beforehands, and sets the needed rights
on it.

Change-Id: Ica1b5c0a165cc06fac668513114eef2b4ba73f56
Closes-Bug: #1918138
(cherry picked from commit d485407159ea6cb2c7abf6d5788d85147f433996)
(cherry picked from commit fdd5c0c09161c69975c0b62a02cbf256295c0c48)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I73a2a54afdf9739bd4c08406645809c9b47c3e01,openstack/tripleo-ansible,stable/ussuri,ceph_dashboard_ha-stable/ussuri,I73a2a54afdf9739bd4c08406645809c9b47c3e01,Compute VIPs using net_vip_map instead of hiera,MERGED,2021-04-22 07:25:00.000000000,2021-04-26 18:39:38.000000000,2021-04-26 18:39:38.000000000,14,11,0,787477,f25499a2932be44f3852136a6d723c1b8cd95c42,9,6,1,1,25402,Francesco Pantano,fmount,"Compute VIPs using net_vip_map instead of hiera

This change provides two improvements:
1. VIPs are computed using the existing net_vip_map instead of running
   hiera commands;
2. the monitoring_stack_vip (on the storage network) is provided for
   both prometheus and alertmanager: these two services are not exposed
   but we need the ceph_mgr being aware about the vip.

Depends-On: I0dbcde302a3abdfccc3dd996b1c238e25064dd12

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/785574/

Change-Id: I73a2a54afdf9739bd4c08406645809c9b47c3e01
(cherry picked from commit 9c4254c2bca6e910cd8312538946e40d5be77516)
"
openstack%2Fcharm-guide~master~I820835e53e22deefacb74200fb26a4fc09c7c365,openstack/charm-guide,master,compute-nodes-az-sync,I820835e53e22deefacb74200fb26a4fc09c7c365,Add sync-compute-availability-zones release note,MERGED,2021-04-23 02:07:54.000000000,2021-04-26 18:36:17.000000000,2021-04-26 18:35:04.000000000,15,0,6,787659,696f809604f67d8b6a3c812e3eff0d056d50552d,15,2,3,1,8992,Billy Olsen,billy-olsen,"Add sync-compute-availability-zones release note

Add a release note regarding the sync-compute-availability-zones
action.

Depends-On: Ibd71cd61e51b04599eadf21b3ef46e47544b8814
Change-Id: I820835e53e22deefacb74200fb26a4fc09c7c365
"
openstack%2Fswift~master~I2a5021c4833ff713fb6d0d39f16a6d0e523e3697,openstack/swift,master,p-relinker-log,I2a5021c4833ff713fb6d0d39f16a6d0e523e3697,relinker: Add start/end logs to parallel_process,MERGED,2021-04-12 16:29:28.000000000,2021-04-26 18:33:49.000000000,2021-04-26 18:32:06.000000000,68,15,0,785936,e76ba21077a97543a11c2c0a1b65424d581bb265,9,2,1,2,7847,Alistair Coles,acoles,"relinker: Add start/end logs to parallel_process

Change-Id: I2a5021c4833ff713fb6d0d39f16a6d0e523e3697
"
openstack%2Fopenstack-helm-infra~master~I26d43e1734a98a4d298df69114d6bfb3b2d1334a,openstack/openstack-helm-infra,master,,I26d43e1734a98a4d298df69114d6bfb3b2d1334a,[WIP] Enable Elasticsearch TLS on the transport layer,ABANDONED,2021-04-16 21:32:49.000000000,2021-04-26 18:33:06.000000000,,17,1,0,786736,6542ebc12af9496ce244211a7147e95ef79f8ade,9,1,4,5,19391,Chi Lo,cl566n,"[WIP] Enable Elasticsearch TLS on the transport layer

Change-Id: I26d43e1734a98a4d298df69114d6bfb3b2d1334a
"
openstack%2Fmasakari~master~I88df10d648616eab635e30562de630b4e35badf6,openstack/masakari,master,drop-external-ci,I88df10d648616eab635e30562de630b4e35badf6,[CI] Drop external CI,MERGED,2021-04-26 17:33:06.000000000,2021-04-26 18:25:59.000000000,2021-04-26 18:22:10.000000000,0,9,0,788052,4227d23ac6111884cf15e7ae8be445cbb12381aa,7,2,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Drop external CI

NTT no longer provides their CI. [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/022024.html

Change-Id: I88df10d648616eab635e30562de630b4e35badf6
"
openstack%2Frequirements~master~Ic98e7b9b2f7eeb15a2eabc2792ba9b0792277d71,openstack/requirements,master,openstack/requirements/constraints/noclob,Ic98e7b9b2f7eeb15a2eabc2792ba9b0792277d71,Updated from generate-constraints,MERGED,2021-04-20 06:29:48.000000000,2021-04-26 18:07:11.000000000,2021-04-26 18:05:52.000000000,15,15,1,787100,4793be53f6fc3b4c3f81ec8b4860793678d8a746,28,2,7,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: Ic98e7b9b2f7eeb15a2eabc2792ba9b0792277d71
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fkayobe~stable%2Fussuri~I3d85b341cf541cfb9b486021e66b316833fe9130,openstack/kayobe,stable/ussuri,,I3d85b341cf541cfb9b486021e66b316833fe9130,Use released version of mrlesmithjr.mdadm,MERGED,2021-04-26 08:25:41.000000000,2021-04-26 18:01:34.000000000,2021-04-26 18:00:00.000000000,1,2,0,787938,d633f938dddde58f5504663616f71dbb207aeb0a,12,3,1,1,15197,Pierre Riteau,priteau,"Use released version of mrlesmithjr.mdadm

An initial version of the mrlesmithjr.mdadm role was released 2 days
ago. There are only minimal changes compared to the commit we were
using. This should avoid the following issue seen in CI:

[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified
version (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not
found in the list of available versions ([{'id': 152374, 'url': '', 'related':
{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':
'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',
'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':
'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':
'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':
None}]).
ERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.

Change-Id: I3d85b341cf541cfb9b486021e66b316833fe9130
Depends-On: https://review.opendev.org/c/openstack/kayobe/+/787937
(cherry picked from commit 7411e624dea77a1b94d91bd37c9a388aa5011bb4)
"
openstack%2Fcharm-nova-cloud-controller~master~Ibd71cd61e51b04599eadf21b3ef46e47544b8814,openstack/charm-nova-cloud-controller,master,compute-nodes-az-sync,Ibd71cd61e51b04599eadf21b3ef46e47544b8814,Add sync-compute-availability-zones Juju action,MERGED,2021-02-03 15:35:32.000000000,2021-04-26 17:54:49.000000000,2021-04-26 17:54:49.000000000,234,3,13,773929,b56572cf6bde1cbc91af1f0bab0aab25a1648efd,69,7,9,6,13178,Ionut-Madalin Balutoiu,ibalutoiu,"Add sync-compute-availability-zones Juju action

This action should be used to sync the Juju availability zones,
from the nova-compute units, with the OpenStack availability zones.
The action is meant to be used post-deployment by the operator.

It will setup OpenStack aggregates for each availability zone, and
add the proper compute hosts to them.

Co-Authored-By: Billy Olsen <billy.olsen@canonical.com>
Change-Id: Ibd71cd61e51b04599eadf21b3ef46e47544b8814
"
openstack%2Fmasakari-monitors~master~Iacec7d04a188c20454c9e504f1df04e816aae5dc,openstack/masakari-monitors,master,,Iacec7d04a188c20454c9e504f1df04e816aae5dc,Fix yaml load warning,ABANDONED,2021-04-19 07:53:26.000000000,2021-04-26 17:51:09.000000000,,1,1,1,786825,c54c70acc3f70e3aa9977ad5232543fa992c1a8d,7,2,3,1,23182,kourosh vivan,KouroshVivan,"Fix yaml load warning

see: https://github.com/yaml/pyyaml/wiki/PyYAML-yaml.load(input)-Deprecation
Change-Id: Iacec7d04a188c20454c9e504f1df04e816aae5dc
"
openstack%2Fnova~stable%2Ftrain~I212a2db8d71702d330b146dc6f871b402a309e74,openstack/nova,stable/train,bug/1919487,I212a2db8d71702d330b146dc6f871b402a309e74,compute: Reject requests to commit intermediary snapshot of an inactive instance,NEW,2021-04-09 09:17:06.000000000,2021-04-26 17:43:56.000000000,,66,9,0,785583,97e78d0b66c9246acb077749eea2a79f0709371b,5,1,1,2,10135,Lee Yarwood,lyarwood,"compute: Reject requests to commit intermediary snapshot of an inactive instance

Introduced by I76eb2e4da027a13525314bd58264f482374d270d the
os-assisted-volume-snapshots API is only implemented by the libvirt virt
driver and should only be called by c-vol as part of an orchestrated
remotefs based volume snapshot creation or deletion workflow.

While not documented clearly in the current api-ref there are code
comments within the compute API suggesting that this API can be called
against a volume attached to an instance that is in *any* vm_state.

This however is not correct when deleting and in turn committing an
intermediary volume snapshot of an instance that is not running given
the current implementation within the libvirt driver. With a request to
virDomainBlockCommit being made that fails if the instance and
underlying domain is not running.

Adding support for an offline commit isn't trivial and would be
considered a new feature and not something we could backport on the
stable branches. As such this change seeks to ensure requests to commit
an intermediary volume snapshot from an inactive instance are rejected
quickly and clearly by the compute API to the caller before we cast to
the compute.

Closes-Bug: #1919487
Change-Id: I212a2db8d71702d330b146dc6f871b402a309e74
(cherry picked from commit 99409375a03e6f923a8b6b00a5dd653bab74caaf)
(cherry picked from commit 200c743400ed3fd5240fd25d0396eb6180b3f26a)
(cherry picked from commit 8a41605a78173207746a38350d7fb554f2701b7a)
(cherry picked from commit 57a810c0bddb2d5fb8c8e97bba07a1c4eeb2a11a)
"
openstack%2Fnova~stable%2Fussuri~I212a2db8d71702d330b146dc6f871b402a309e74,openstack/nova,stable/ussuri,bug/1919487,I212a2db8d71702d330b146dc6f871b402a309e74,compute: Reject requests to commit intermediary snapshot of an inactive instance,NEW,2021-04-09 09:16:32.000000000,2021-04-26 17:43:46.000000000,,66,9,0,785582,57a810c0bddb2d5fb8c8e97bba07a1c4eeb2a11a,5,1,1,2,10135,Lee Yarwood,lyarwood,"compute: Reject requests to commit intermediary snapshot of an inactive instance

Introduced by I76eb2e4da027a13525314bd58264f482374d270d the
os-assisted-volume-snapshots API is only implemented by the libvirt virt
driver and should only be called by c-vol as part of an orchestrated
remotefs based volume snapshot creation or deletion workflow.

While not documented clearly in the current api-ref there are code
comments within the compute API suggesting that this API can be called
against a volume attached to an instance that is in *any* vm_state.

This however is not correct when deleting and in turn committing an
intermediary volume snapshot of an instance that is not running given
the current implementation within the libvirt driver. With a request to
virDomainBlockCommit being made that fails if the instance and
underlying domain is not running.

Adding support for an offline commit isn't trivial and would be
considered a new feature and not something we could backport on the
stable branches. As such this change seeks to ensure requests to commit
an intermediary volume snapshot from an inactive instance are rejected
quickly and clearly by the compute API to the caller before we cast to
the compute.

 Conflicts:
	nova/tests/unit/compute/test_compute_api.py

NOTE(lyarwood): Test conflict caused by
I3862a06ca28b383d525bcc9dcbc6fb1d4062f193 renaming test_compute_api.py
to test_api.py during Victoria.

Closes-Bug: #1919487
Change-Id: I212a2db8d71702d330b146dc6f871b402a309e74
(cherry picked from commit 99409375a03e6f923a8b6b00a5dd653bab74caaf)
(cherry picked from commit 200c743400ed3fd5240fd25d0396eb6180b3f26a)
(cherry picked from commit 8a41605a78173207746a38350d7fb554f2701b7a)
"
openstack%2Foctavia-dashboard~master~I1c69f34d70604db0de1e78e8c32716f8744b9e93,openstack/octavia-dashboard,master,,I1c69f34d70604db0de1e78e8c32716f8744b9e93,Look for load-balancer endpoints in catalog,ABANDONED,2021-04-26 17:28:32.000000000,2021-04-26 17:41:06.000000000,,10,0,0,788050,879135b99397d9cf9a2046b8bbc1b8d9a9550205,3,1,1,2,27442,Quentin GROLLEAU,QG,"Look for load-balancer endpoints in catalog

Load-Blancer tabs should only be enabled when load-balancer endpoint is registered.
When you enable Octavia only on one region and switch to another region which don't have,
It will show you some infinite Error popup : ""Error: Unable to retrieve load balancers.""

Story 2008853
Task 42372

Change-Id: I1c69f34d70604db0de1e78e8c32716f8744b9e93
"
openstack%2Ftripleo-heat-templates~master~I6c239065d4c92c9afc62ff4e513e6d097a06e218,openstack/tripleo-heat-templates,master,horizon-tmp-glance,I6c239065d4c92c9afc62ff4e513e6d097a06e218,Stop using (and breaking) /var/tmp for horizon temporary things,MERGED,2021-04-21 09:27:57.000000000,2021-04-26 17:39:34.000000000,2021-04-26 17:39:34.000000000,21,2,12,787332,bafd6aba099678846083989ce5fbdd0d09654db5,36,11,6,1,28223,Cedric Jeanneret,cjeanner,"Stop using (and breaking) /var/tmp for horizon temporary things

Until now, /var/tmp label was globally changed to another value than the
default, moving from tmp_t to container_file_t due to the "":z"" flag in
the horizon container mount.

This patch creates a subdirectory in /var/tmp, and mounts this location
directly in horizon's /var/tmp - this allows to NOT change anything in
horizon, while preventing potential leaks from other apps using this
location. It also prevents issues with SELinux denials on that location.

The special 1777 mode allows to ensure we get the right ""tmp"" mode on
the directory, meaning: drwxrwxrwt.

This patch also ensures we reset the label on /var/tmp during update and
upgrade.

Change-Id: I6c239065d4c92c9afc62ff4e513e6d097a06e218
Resolves: rhbz#1947532
Closes-Bug: #1925316
"
openstack%2Fkayobe~stable%2Ftrain~I3d85b341cf541cfb9b486021e66b316833fe9130,openstack/kayobe,stable/train,,I3d85b341cf541cfb9b486021e66b316833fe9130,Use released version of mrlesmithjr.mdadm,MERGED,2021-04-26 08:25:04.000000000,2021-04-26 17:33:08.000000000,2021-04-26 17:31:18.000000000,1,2,0,787937,f8b4d2b1eccc2f6d2bd2a2df276333ece127ad3e,12,3,1,1,15197,Pierre Riteau,priteau,"Use released version of mrlesmithjr.mdadm

An initial version of the mrlesmithjr.mdadm role was released 2 days
ago. There are only minimal changes compared to the commit we were
using. This should avoid the following issue seen in CI:

[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified
version (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not
found in the list of available versions ([{'id': 152374, 'url': '', 'related':
{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':
'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',
'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':
'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':
'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':
None}]).
ERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.

Change-Id: I3d85b341cf541cfb9b486021e66b316833fe9130
Depends-On: https://review.opendev.org/c/openstack/kayobe/+/787936
(cherry picked from commit 7411e624dea77a1b94d91bd37c9a388aa5011bb4)
"
openstack%2Ftripleo-heat-templates~master~Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,openstack/tripleo-heat-templates,master,,Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,Moving nova-consoleauth to step4,MERGED,2021-04-09 14:02:59.000000000,2021-04-26 17:30:56.000000000,2021-04-26 17:30:56.000000000,5,14,1,785648,755084b5285f71dfa17c0abc310d4d797193b317,22,9,2,1,27419,David Vallee Delisle,dvd,"Moving nova-consoleauth to step4

Since this is part of the post_upgrade_tasks and post_upgrade_tasks is
maxed to 4 steps, we need to move this from step5 to step4 otherwise
it's not being executed.

Also applying Alex's recommendation of using OS_CLOUD instead of havng
all the credentials here.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1825849
Change-Id: Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b
"
openstack%2Fopenstack-helm-infra~master~I3373c0c350b30c175be4a34d25a403b9caf74294,openstack/openstack-helm-infra,master,change-785504-10,I3373c0c350b30c175be4a34d25a403b9caf74294,Enable TLS between Elasticsearch and Kibana,MERGED,2021-04-08 19:38:02.000000000,2021-04-26 17:03:43.000000000,2021-04-26 17:02:20.000000000,326,46,0,785504,9a719e2a18bfd4f1daa57d1a4397d89966653b18,122,12,29,30,19391,Chi Lo,cl566n,"Enable TLS between Elasticsearch and Kibana

This change enables TLS between Elasticsearch and Kibana
data path. Note that TLS terminates at apache-proxy container
of the Elasticsearch-client pod, not directly to port 9200 of
elasticsearch-client container.

Since all data traffic goes through apache-proxy container,
fluentd output to Elasticsearch are configured to have TLS
enabled as well.

In additon, other Elasticsearch pods that communicate with
Elasticsearch-client endpoint are modified to provide
the cacert option with curl.

Change-Id: I3373c0c350b30c175be4a34d25a403b9caf74294
"
openstack%2Fproject-config~master~I92fdf717e955098cbd60a57137c747875823ae2b,openstack/project-config,master,fix-nl02-config,I92fdf717e955098cbd60a57137c747875823ae2b,Fix nl02's provider config list,MERGED,2021-04-26 16:32:30.000000000,2021-04-26 16:58:59.000000000,2021-04-26 16:50:36.000000000,0,1,0,788044,916bf66714360679d241ed805d4cae9fc0a933bb,8,3,1,1,4146,Clark Boylan,cboylan,"Fix nl02's provider config list

We specified the provider config list twice in the nl02 config which
caused the second one to win when reserialized on nl02. Fix this by
removing the stray providers: specification.

Change-Id: I92fdf717e955098cbd60a57137c747875823ae2b
"
openstack%2Fkayobe~stable%2Fstein~I3d85b341cf541cfb9b486021e66b316833fe9130,openstack/kayobe,stable/stein,,I3d85b341cf541cfb9b486021e66b316833fe9130,Use released version of mrlesmithjr.mdadm,MERGED,2021-04-26 08:22:58.000000000,2021-04-26 16:47:39.000000000,2021-04-26 16:46:24.000000000,1,2,0,787936,b826104b0a10fc75f777b7510e397cf00cf09bf7,22,4,2,1,15197,Pierre Riteau,priteau,"Use released version of mrlesmithjr.mdadm

An initial version of the mrlesmithjr.mdadm role was released 2 days
ago. There are only minimal changes compared to the commit we were
using. This should avoid the following issue seen in CI:

[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified
version (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not
found in the list of available versions ([{'id': 152374, 'url': '', 'related':
{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':
'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',
'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':
'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':
'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':
None}]).
ERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.

Change-Id: I3d85b341cf541cfb9b486021e66b316833fe9130
(cherry picked from commit 7411e624dea77a1b94d91bd37c9a388aa5011bb4)
"
openstack%2Fnova~stable%2Fwallaby~Iba40c2df72228b461767d5734d5a62403d9f2cfa,openstack/nova,stable/wallaby,bug/1917619,Iba40c2df72228b461767d5734d5a62403d9f2cfa,libvirt: Simplify device_path check in _detach_encryptor,MERGED,2021-04-09 09:06:54.000000000,2021-04-26 16:38:05.000000000,2021-04-26 16:36:31.000000000,37,24,0,785577,f99f667a96a357adc0070d75b5940e76726f9664,13,4,1,2,10135,Lee Yarwood,lyarwood,"libvirt: Simplify device_path check in _detach_encryptor

Introduced by Id670f13a7f197e71c77dc91276fc2fba2fc5f314 to resolve bug
 #1821696 this check was put in place to ensure _detach_encryptor did not
attempt to use the os-brick encryptors with an unsupported volume type
after libvirt secrets had been removed outside the control of Nova.

With the introduction of the [workarounds]disable_native_luksv1 via
Ia500eb614cf575ab846f64f4b69c9068274c8c1f however the use of
_allow_native_luksv1 as part of this check is no longer valid. As this
helper was updated to return False when the workaround is enabled,
regardless of the underlying volume being attached natively or not.

If an admin had enabled the workaround after users had launched
instances with natively attached encrypted volumes *and* the libvirt
secrets had gone missing _detach_encryptor would attempt to use the
os-brick encryptors. This would fail when the underlying volume type is
unsupported, for example rbd. See bug #1917619 for an example.

This change resolves this corner case by dropping the use of
_allow_native_luksv1 from the check and just asserting that a
device_path is present for an encrypted volume before allowing the use
of the os-brick encryptors. As noted this is safe as calls to the
encryptors are idempotent, ignoring failures to detach when the
underlying volume type is supported.

Closes-Bug: #1917619
Change-Id: Iba40c2df72228b461767d5734d5a62403d9f2cfa
(cherry picked from commit 4908daed96ddda492ced6cbb084abe8f33a8b1f7)
"
openstack%2Fkolla~master~Ia4d326601d14c5d55e8f67d8996458fc796583ea,openstack/kolla,master,,Ia4d326601d14c5d55e8f67d8996458fc796583ea,Disable trove for Debian/binary,MERGED,2021-04-26 11:17:46.000000000,2021-04-26 16:31:03.000000000,2021-04-26 16:29:38.000000000,1,0,0,787958,51c3c90af9a0c4ed27b4af5e0650b4e3a9eaeb53,14,5,1,1,24072,Marcin Juszkiewicz,hrw,"Disable trove for Debian/binary

Package installation fails:

Setting up trove-common (1:14.0.0-2~bpo10+1) ...
install: cannot stat '/usr/share/trove-common/api-paste.ini': No such file or directory
dpkg: error processing package trove-common (--configure):
 installed trove-common package post-installation script subprocess returned error exit status 1

Change-Id: Ia4d326601d14c5d55e8f67d8996458fc796583ea
"
openstack%2Fpuppet-nova~master~I2bd2a61263db8d7e54397ab85b4c51b79644adf2,openstack/puppet-nova,master,init-settings-no-openstack-settings,I2bd2a61263db8d7e54397ab85b4c51b79644adf2,Debian api_uwsgi_config: Switch to :ini_setting,MERGED,2021-04-20 15:05:24.000000000,2021-04-26 16:27:21.000000000,2021-04-26 16:27:21.000000000,14,36,0,787212,98f286cd7b8a8f15615f75b71343387e3414f476,11,3,1,5,6476,Thomas Goirand,thomas-goirand,"Debian api_uwsgi_config: Switch to :ini_setting

On each puppet run, I'm seeing:
value changed ['12'] to '12' (corrective)

Therefore, this patch switches from :openstackconfig to :ini_setting
to make runs indenpotant.

Change-Id: I2bd2a61263db8d7e54397ab85b4c51b79644adf2
"
openstack%2Fswift~master~I5d22278a2be5bc1b4a9e97e3cf12b5e630ea7893,openstack/swift,master,ec-resume-logging,I5d22278a2be5bc1b4a9e97e3cf12b5e630ea7893,Add more detail to ECFragGetter logging,MERGED,2021-04-21 19:21:58.000000000,2021-04-26 16:18:37.000000000,2021-04-26 14:23:24.000000000,108,34,4,787435,5516bf46c01da80b2baedd00c22c4d822b569634,13,2,3,3,1179,Clay Gerrard,clay-gerrard,"Add more detail to ECFragGetter logging

 * Add new useful log messages at appropriate levels for development and
   production logging.
 * Remove more i18n translations.
 * Differentiate EC errors from replicated object controller messages.

Related-Change-Id: I0654815543be3df059eb2875d9b3669dbd97f5b4
Change-Id: I5d22278a2be5bc1b4a9e97e3cf12b5e630ea7893
"
openstack%2Fdebtcollector~master~Ib10180732042bda254b058b94c9ff41f5c31c3cb,openstack/debtcollector,master,no-pbr,Ib10180732042bda254b058b94c9ff41f5c31c3cb,Remove runtime dependency on pbr,MERGED,2021-04-26 07:25:25.000000000,2021-04-26 16:16:57.000000000,2021-04-26 15:40:03.000000000,8,3,3,787926,75487624e771a63b3c43188610e39a2ce701742a,11,3,1,2,10239,Dmitry Tantsur,dtantsur,"Remove runtime dependency on pbr

Pbr is a very heavy package to depend on. It requires git-core, which is
16 MiB on my Fedora. We only use it to detect the version, which can be
done without pbr using a much lighter importlib_metadata.

Copied from https://review.opendev.org/c/openstack/osprofiler/+/739379

Change-Id: Ib10180732042bda254b058b94c9ff41f5c31c3cb
"
openstack%2Fironic~master~I334d6d5d7a35557a57ba118bed0a6beedba934d3,openstack/ironic,master,change-784775-4,I334d6d5d7a35557a57ba118bed0a6beedba934d3,Follow up to add iDRAC management via Redfish,MERGED,2021-04-05 14:13:27.000000000,2021-04-26 16:12:03.000000000,2021-04-26 16:09:46.000000000,54,15,25,784775,266be4eb4cdd0b3145838b52b73f106cdbd3f805,42,7,5,2,31871,Dhuldev Valekar,dhuldev30,"Follow up to add iDRAC management via Redfish

Add unit tests to redfish utils method wait_until_get_system_ready.

Followup to change: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4

Change-Id: I334d6d5d7a35557a57ba118bed0a6beedba934d3
"
openstack%2Foslo.config~master~Ie947803f61ba0ef080018e0447de894a400d7975,openstack/oslo.config,master,add-missing-opt,Ie947803f61ba0ef080018e0447de894a400d7975,Adding the missing HostDomain config option,MERGED,2021-04-15 12:03:04.000000000,2021-04-26 15:53:22.000000000,2021-04-26 15:51:48.000000000,61,0,1,786394,bb5e4cbeb973c6341bf51eea2ebe5d38366167e8,22,4,6,4,28522,Hervé Beraud,hberaud,"Adding the missing HostDomain config option

The ``HostDomain`` config type have been added few months ago [1]
however the config option have been forgotten and this new type
isn't importable.

When we try to import this type without defining a new related cfg
option we get the following issue:

```
AttributeError: module 'oslo_config.cfg' has no attribute 'HostDomain'
```

These changes allow us to import this new type and allow us to use
it in our configs:

```
>>> from oslo_config import cfg
>>> foo = cfg.HostDomain('foo')
>>> foo.type.__call__(""1"")
...
During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""~/oslo.config/oslo_config/types.py"", line 893, in __call__
     raise ValueError(
ValueError: 1 is not a valid host address
>>> foo.type.__call__(""host_name"")
'host_name'
```

Also properly initialize HostDomain because The HostDomain class wasn't
calling super in it's __init__() method, which resulted in the type_name not
being set properly for instances of that class.

[1] https://opendev.org/openstack/oslo.config/commit/6480356928c9ae6169ea1e5a5b5f1df3d6e0dc75

Change-Id: Ie947803f61ba0ef080018e0447de894a400d7975
Closes-Bug: 1924283
"
openstack%2Fpython-novaclient~master~Icad6d0d0d375d1995baa603b091be50797210215,openstack/python-novaclient,master,,Icad6d0d0d375d1995baa603b091be50797210215,Use py3 as the default runtime for tox,MERGED,2021-04-20 01:36:35.000000000,2021-04-26 15:41:08.000000000,2021-04-26 15:39:12.000000000,1,1,0,787008,b5faf37f1b9f8cd6c065327309c8290c211d13d2,11,5,1,1,30384,zhangboye,zhangboye,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Change-Id: Icad6d0d0d375d1995baa603b091be50797210215
"
openstack%2Fbashate~master~Ib66ceb8791158a6938b921a143907bd8db24bebf,openstack/bashate,master,ci-bashate-devstack-voting-and-gating,Ib66ceb8791158a6938b921a143907bd8db24bebf,[CI] Make bashate-devstack job voting and gating,MERGED,2021-04-26 15:08:55.000000000,2021-04-26 15:39:31.000000000,2021-04-26 15:34:20.000000000,4,2,0,788023,189aadde8b2a973b083842f2293833b9ad77bb30,8,2,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Make bashate-devstack job voting and gating

Change-Id: Ib66ceb8791158a6938b921a143907bd8db24bebf
"
openstack%2Fdevstack~master~Ic3be22aeaa0eb354fa5d880e2f0f1e1c871a73b1,openstack/devstack,master,ovn-dvr,Ic3be22aeaa0eb354fa5d880e2f0f1e1c871a73b1,[OVN] Add DVR configuration support,NEW,2020-10-02 15:44:46.000000000,2021-04-26 15:17:42.000000000,,12,1,3,755830,ecfc318317186e14e4723ff262ac591dd2d5e692,13,8,3,1,6773,Lucas Alvares Gomes,lucasagomes,"[OVN] Add DVR configuration support

This patch allows users to configure OVN DVR via DevStack. A new
OVN_ENABLE_DVR variable was added, defaults to False.

Change-Id: Ic3be22aeaa0eb354fa5d880e2f0f1e1c871a73b1
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
"
openstack%2Freleases~master~Ibc0257c052aa0e60293c37a6990dce18e97e7730,openstack/releases,master,pbr,Ibc0257c052aa0e60293c37a6990dce18e97e7730,pbr 5.6.0,MERGED,2021-04-23 09:08:58.000000000,2021-04-26 15:11:48.000000000,2021-04-26 15:11:48.000000000,4,0,0,787693,fb3b2c0ff32c8dac542439feefceb34eb5b1f99b,10,3,1,1,15334,Stephen Finucane,sfinucan,"pbr 5.6.0

Fix issues with 'requires-python' and 'python-requires', plus some other
trivial clean up.

Change-Id: Ibc0257c052aa0e60293c37a6990dce18e97e7730
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fbifrost~stable%2Fwallaby~Ibb9cf61fa1de6f8f131f10c3a841efddb1bc6670,openstack/bifrost,stable/wallaby,fix-the-kolla-job-stable/wallaby,Ibb9cf61fa1de6f8f131f10c3a841efddb1bc6670,[CI] Make Kolla job running again,MERGED,2021-04-23 06:55:06.000000000,2021-04-26 15:11:09.000000000,2021-04-26 15:06:26.000000000,1,1,0,787605,d28cc542b96bc7cb9ea9479b7feae0a8dc81c1d6,23,4,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Make Kolla job running again

Kolla renamed the CentOS 8 Stream jobs recently.

Change-Id: Ibb9cf61fa1de6f8f131f10c3a841efddb1bc6670
(cherry picked from commit e3d16ab416c7dfb94a55fe60858b4d01b8a77c60)
"
openstack%2Fpuppet-placement~master~I56a9d9534be8aaee74b1da0c7633359578c74769,openstack/puppet-placement,master,init-settings-no-openstack-settings,I56a9d9534be8aaee74b1da0c7633359578c74769,Debian api_uwsgi_config: Switch to :ini_setting,MERGED,2021-04-20 16:22:16.000000000,2021-04-26 15:09:18.000000000,2021-04-26 15:09:18.000000000,3,14,0,787260,924dce105a61571ad6db042f89c9666ea4d54dab,7,3,1,2,6476,Thomas Goirand,thomas-goirand,"Debian api_uwsgi_config: Switch to :ini_setting

On each puppet run, I'm seeing:
value changed ['12'] to '12' (corrective)

Therefore, this patch switches from :openstackconfig to :ini_setting
to make the 2nd run not changing anything.

Change-Id: I56a9d9534be8aaee74b1da0c7633359578c74769
"
openstack%2Fopenstack-ansible~master~Ib3015442eb4633fb208eb10af1f4150f189c3e14,openstack/openstack-ansible,master,bug/1925525,Ib3015442eb4633fb208eb10af1f4150f189c3e14,Fix manila ceph caps,MERGED,2021-04-22 15:52:50.000000000,2021-04-26 15:03:38.000000000,2021-04-26 15:01:19.000000000,1,1,1,787591,9f8c83f663b39cfbba72809f92f7eb894d96c1d0,17,5,3,1,6413,Victoria Martinez de la Cruz,vkmc,"Fix manila ceph caps

Now that we issue mgr/volume commands and rados
get/put on pool with ""ganesha_rados_store_pool_name""
name via a rados client, the auth ID used by the
driver/rados client would need different capabilities.

The auth ID will now require:

mon 'allow r'
mgr 'allow rw'
osd 'allow rw pool=<ganesha_rados_store_pool_name>""

The driver's auth ID does not need any MDS capability,
requires reduced MON and OSD capability, and extra write
capability for MGR.

Closes-Bug: #1925525
Change-Id: Ib3015442eb4633fb208eb10af1f4150f189c3e14
"
openstack%2Fneutron~master~Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61,openstack/neutron,master,bug/1923423,Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61,trivial: Make driver_controller's _attrs_to_driver py3 compatible,MERGED,2021-04-12 08:49:14.000000000,2021-04-26 15:00:08.000000000,2021-04-26 14:58:21.000000000,14,1,3,785830,109faeac7e2e37da3bb7d5014a37ef18ed8cb80a,59,5,1,2,8313,Lajos Katona,elajkat,"trivial: Make driver_controller's _attrs_to_driver py3 compatible

In python3 dict.values() doesn't return list but instead dict_values,
it must be converted to list to ""enjoy"" list operations like insert.
Add unit tests to be sure.

Closes-Bug: #1923423
Change-Id: Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61
"
openstack%2Fkolla-ansible~master~Ie08877e339455bed45ee467a87de9648678e88c5,openstack/kolla-ansible,master,typo,Ie08877e339455bed45ee467a87de9648678e88c5,[doc] fix a typo,MERGED,2021-04-26 13:40:33.000000000,2021-04-26 14:58:32.000000000,2021-04-26 14:56:59.000000000,1,1,0,787998,fc406d035dbe0c2b088efe80a828b70e5ca69de6,8,3,1,1,26285,wu.chunyang,wu.chunyang,"[doc] fix a typo

Trivial Fix

Change-Id: Ie08877e339455bed45ee467a87de9648678e88c5
"
openstack%2Fpuppet-panko~master~Iadf4f00adbb35b832fce7e539e8d76aaecab9acd,openstack/puppet-panko,master,init-settings-no-openstack-settings,Iadf4f00adbb35b832fce7e539e8d76aaecab9acd,Debian api_uwsgi_config: Switch to :ini_setting,MERGED,2021-04-20 17:20:26.000000000,2021-04-26 14:54:55.000000000,2021-04-26 14:54:55.000000000,13,22,0,787272,84bba8a866df95455dcd7ee7df37a692847553f4,10,3,3,4,6476,Thomas Goirand,thomas-goirand,"Debian api_uwsgi_config: Switch to :ini_setting

On each puppet run, I'm seeing:
value changed ['12'] to '12' (corrective)

Therefore, this patch switches from :openstackconfig to :ini_setting
to make the 2nd run not changing anything.

Change-Id: Iadf4f00adbb35b832fce7e539e8d76aaecab9acd
"
openstack%2Fpuppet-gnocchi~master~Ib674673edec143841aa88d754ea2e9b0cb13be1a,openstack/puppet-gnocchi,master,init-settings-no-openstack-settings,Ib674673edec143841aa88d754ea2e9b0cb13be1a,Debian api_uwsgi_config: Switch to :ini_setting,MERGED,2021-04-22 13:20:09.000000000,2021-04-26 14:53:45.000000000,2021-04-26 14:53:45.000000000,13,22,0,787556,e986276b7751a99aadd9dd02be9d2a9ed270f82d,9,3,1,4,6476,Thomas Goirand,thomas-goirand,"Debian api_uwsgi_config: Switch to :ini_setting

On each puppet run, I'm seeing:
value changed ['12'] to '12' (corrective)

Therefore, this patch switches from :openstackconfig to :ini_setting
to make the 2nd run not changing anything.

Change-Id: Ib674673edec143841aa88d754ea2e9b0cb13be1a
"
openstack%2Fnova~stable%2Fussuri~Iba40c2df72228b461767d5734d5a62403d9f2cfa,openstack/nova,stable/ussuri,bug/1917619,Iba40c2df72228b461767d5734d5a62403d9f2cfa,libvirt: Simplify device_path check in _detach_encryptor,NEW,2021-04-09 09:19:10.000000000,2021-04-26 14:50:19.000000000,,37,24,0,785585,6ec67d01b0f45815ed08bce49e36fc38b6e23ec4,5,1,1,2,10135,Lee Yarwood,lyarwood,"libvirt: Simplify device_path check in _detach_encryptor

Introduced by Id670f13a7f197e71c77dc91276fc2fba2fc5f314 to resolve bug
 #1821696 this check was put in place to ensure _detach_encryptor did not
attempt to use the os-brick encryptors with an unsupported volume type
after libvirt secrets had been removed outside the control of Nova.

With the introduction of the [workarounds]disable_native_luksv1 via
Ia500eb614cf575ab846f64f4b69c9068274c8c1f however the use of
_allow_native_luksv1 as part of this check is no longer valid. As this
helper was updated to return False when the workaround is enabled,
regardless of the underlying volume being attached natively or not.

If an admin had enabled the workaround after users had launched
instances with natively attached encrypted volumes *and* the libvirt
secrets had gone missing _detach_encryptor would attempt to use the
os-brick encryptors. This would fail when the underlying volume type is
unsupported, for example rbd. See bug #1917619 for an example.

This change resolves this corner case by dropping the use of
_allow_native_luksv1 from the check and just asserting that a
device_path is present for an encrypted volume before allowing the use
of the os-brick encryptors. As noted this is safe as calls to the
encryptors are idempotent, ignoring failures to detach when the
underlying volume type is supported.

Closes-Bug: #1917619
Change-Id: Iba40c2df72228b461767d5734d5a62403d9f2cfa
(cherry picked from commit 4908daed96ddda492ced6cbb084abe8f33a8b1f7)
(cherry picked from commit f99f667a96a357adc0070d75b5940e76726f9664)
(cherry picked from commit 67de26776c23dddf906eab30daaecdf401abbdc4)
"
openstack%2Frelease-test~stable%2Focata~If1de23d7ae4ad62be42d34553d8dd5d8dab0779c,openstack/release-test,stable/ocata,,If1de23d7ae4ad62be42d34553d8dd5d8dab0779c,Update .gitreview for stable/ocata,ABANDONED,2021-04-16 20:02:03.000000000,2021-04-26 14:30:08.000000000,,1,0,0,786721,3f5ad7bde047828bfd12f0bcb6b1b8d11d29906a,3,1,1,1,17685,Elod Illes,elod.illes,"Update .gitreview for stable/ocata

Change-Id: If1de23d7ae4ad62be42d34553d8dd5d8dab0779c
"
openstack%2Fironic-specs~master~I69a03f2ad94e14e3c28adcf042c8b79e9f8260fc,openstack/ironic-specs,master,conf_molds,I69a03f2ad94e14e3c28adcf042c8b79e9f8260fc,Followup pre-defined system hw conf in single step,MERGED,2021-03-15 18:19:08.000000000,2021-04-26 14:29:53.000000000,2021-04-26 14:28:33.000000000,24,23,7,780645,fd3dd8f9ea110e2e365e8e7edd562ce8575e60b0,22,6,4,1,27909,Aija Jauntēva,ajya,"Followup pre-defined system hw conf in single step

Change-Id: I69a03f2ad94e14e3c28adcf042c8b79e9f8260fc
"
openstack%2Freleases~master~Icc386a9fe36ddae4edbc15603e745b14d1861271,openstack/releases,master,new-sdk-release,Icc386a9fe36ddae4edbc15603e745b14d1861271,New OpenStack SDK release 0.56.0,MERGED,2021-04-16 08:28:03.000000000,2021-04-26 14:28:14.000000000,2021-04-26 14:28:14.000000000,5,0,0,786598,87693389a531ab89fad59b15f819604d60d6e390,17,6,2,1,11975,Slawek Kaplonski,slaweq,"New OpenStack SDK release 0.56.0

Change-Id: Icc386a9fe36ddae4edbc15603e745b14d1861271
"
openstack%2Fproject-config~master~I5b4298f9ece360dd735b606f5c82fcb6c7968c97,openstack/project-config,master,gerritbot-kolla-extra,I5b4298f9ece360dd735b606f5c82fcb6c7968c97,Make gerritbot notify about V-2 on kolla,MERGED,2021-04-25 14:59:17.000000000,2021-04-26 14:26:52.000000000,2021-04-26 14:18:44.000000000,2,0,10,787887,95dad4c0811d1b55add07ce33229d82a6c45fd0c,28,6,4,1,30491,Radosław Piliszek,yoctozepto,"Make gerritbot notify about V-2 on kolla

Change-Id: I5b4298f9ece360dd735b606f5c82fcb6c7968c97
"
openstack%2Fneutron~master~I29a39108d9fddb30050ec63a1cdf6bba0400e136,openstack/neutron,master,ovn-migration,I29a39108d9fddb30050ec63a1cdf6bba0400e136,ovn-migration: Introduce migrate mode to DB sync tool,MERGED,2021-04-01 09:40:44.000000000,2021-04-26 14:26:16.000000000,2021-04-26 14:22:47.000000000,266,45,1,784352,ae78e812d13aa5d0c820397b4b633123b6ff0e34,174,6,2,9,8655,Jakub Libosvar,jlibosva,"ovn-migration: Introduce migrate mode to DB sync tool

The new ""migrate"" mode for the DB sync utility changes DB contents as
follows:

 - it changes vxlan networks to Geneve, including its allocation in
   order to avoid future collisions when creating new geneve networks
 - it removes settings from ports' vif_details that are no longer
   needed, such as hybrid plugging or bridge_name for the trunk bridges
 - it sets profile for subports - OVN doesn't use trunk_details but port
   profile to store data about trunk. Subports have tag and parent_name
   fileds.

Previously, the vxlan to Geneve change was done via ansible role. The
tasks in the role were replaced by the script therefore the role is
removed.

Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
Change-Id: I29a39108d9fddb30050ec63a1cdf6bba0400e136
"
openstack%2Frequirements~master~Ia6e31031801db629e156ff40e81a1289e0601e8b,openstack/requirements,master,new-release,Ia6e31031801db629e156ff40e81a1289e0601e8b,update constraint for neutron-lib to new release 2.11.0,MERGED,2021-04-26 10:12:20.000000000,2021-04-26 14:25:13.000000000,2021-04-26 14:23:13.000000000,1,1,0,787951,beb486c35dde9fa6fd884a0057fac1754b92c701,10,5,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for neutron-lib to new release 2.11.0

meta: version: 2.11.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Change-Id: I58b718c5a97f0cf61df4fb7640fa0a7c1eb6131b
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ia6e31031801db629e156ff40e81a1289e0601e8b
"
openstack%2Fansible-role-redhat-subscription~master~I5477f4e85f5bf7f84b9c9dc7a9d043972615a019,openstack/ansible-role-redhat-subscription,master,bug/1915761,I5477f4e85f5bf7f84b9c9dc7a9d043972615a019,Fix service fact reference,MERGED,2021-04-26 13:50:31.000000000,2021-04-26 14:17:17.000000000,2021-04-26 14:17:17.000000000,1,1,0,787999,4178cf561b90ceed29977b3bf9a4ffe75423b60d,6,2,1,1,14985,Alex Schultz,mwhahaha,"Fix service fact reference

Update the reference to use ansible_facts.

Change-Id: I5477f4e85f5bf7f84b9c9dc7a9d043972615a019
Related-Bug: #1915761
"
openstack%2Fnetworking-odl~master~I84ad49d32edcb37a8608f023b030e8b3f0c4753b,openstack/networking-odl,master,trunk_callback,I84ad49d32edcb37a8608f023b030e8b3f0c4753b,Use payloads for TRUNK and SUBPORTS callbacks,ABANDONED,2021-04-26 14:08:19.000000000,2021-04-26 14:11:53.000000000,,29,28,0,788007,60b0b7bcc3a65154d0e9eb5a61e6f4716cd1799f,3,0,2,2,8313,Lajos Katona,elajkat,"Use payloads for TRUNK and SUBPORTS callbacks

Change-Id: I84ad49d32edcb37a8608f023b030e8b3f0c4753b
Depends-On: https://review.opendev.org/c/openstack/neutron/+/635060
"
openstack%2Fbashate~master~I716e7c05baf8183fdd9a500e15d614ef0492ad41,openstack/bashate,master,,I716e7c05baf8183fdd9a500e15d614ef0492ad41,setup.cfg: Replace dashes with underscores,MERGED,2021-04-26 06:39:42.000000000,2021-04-26 14:10:12.000000000,2021-04-26 14:08:49.000000000,4,4,3,787917,ceea4801fdcce13c6914f14cfc8706e16701646c,18,3,5,1,30092,Xuan Yandong,xuanyandong,"setup.cfg: Replace dashes with underscores

Resolves pip warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Also, updates the url to docs.

Change-Id: I716e7c05baf8183fdd9a500e15d614ef0492ad41
"
openstack%2Fpuppet-octavia~master~I89e2bb5bb127020adcaabe26e62f68123fab3990,openstack/puppet-octavia,master,debian-uwsgi-support,I89e2bb5bb127020adcaabe26e62f68123fab3990,Add support for octavia_api_uwsgi_config in Debian,MERGED,2021-04-07 21:35:37.000000000,2021-04-26 13:46:33.000000000,2021-04-26 13:45:22.000000000,253,0,0,785283,da8ed8acc64769e3253d90e07cd77eef77a0bfab,24,8,4,8,6476,Thomas Goirand,thomas-goirand,"Add support for octavia_api_uwsgi_config in Debian

This patch is adding the configuration of the number of workers,
threads, and the size of the listen queue in Debian, which uses
uwsgi to run Octavia API. Therefore, this patch adds a new
octavia_api_uwsgi_config provider as well as a new
octavia::wsgi::uwsgi class.

Change-Id: I89e2bb5bb127020adcaabe26e62f68123fab3990
"
openstack%2Fpuppet-cloudkitty~master~Ie388eb22a0c75d590c0e853064ed2f6f34e3abeb,openstack/puppet-cloudkitty,master,init-settings-no-openstack-settings,Ie388eb22a0c75d590c0e853064ed2f6f34e3abeb,Debian api_uwsgi_config: Switch to :ini_setting,MERGED,2021-04-20 18:54:04.000000000,2021-04-26 13:37:53.000000000,2021-04-26 13:37:53.000000000,5,14,0,787280,4c43a1e29b790185ccc7e70624f30388e8e26ccf,10,3,3,3,6476,Thomas Goirand,thomas-goirand,"Debian api_uwsgi_config: Switch to :ini_setting

On each puppet run, I'm seeing:
value changed ['12'] to '12' (corrective)

Therefore, this patch switches from :openstackconfig to :ini_setting
to make the 2nd run not changing anything.

Change-Id: Ie388eb22a0c75d590c0e853064ed2f6f34e3abeb
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I73a2a54afdf9739bd4c08406645809c9b47c3e01,openstack/tripleo-ansible,stable/victoria,ceph_dashboard_ha-stable/victoria,I73a2a54afdf9739bd4c08406645809c9b47c3e01,Compute VIPs using net_vip_map instead of hiera,MERGED,2021-04-22 07:24:41.000000000,2021-04-26 13:24:06.000000000,2021-04-26 13:24:06.000000000,14,11,0,787476,671fd4e44161c947277d51d89f1972c2ccd2e154,10,6,1,1,25402,Francesco Pantano,fmount,"Compute VIPs using net_vip_map instead of hiera

This change provides two improvements:
1. VIPs are computed using the existing net_vip_map instead of running
   hiera commands;
2. the monitoring_stack_vip (on the storage network) is provided for
   both prometheus and alertmanager: these two services are not exposed
   but we need the ceph_mgr being aware about the vip.

Depends-On: I0dbcde302a3abdfccc3dd996b1c238e25064dd12

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/785574/

Change-Id: I73a2a54afdf9739bd4c08406645809c9b47c3e01
(cherry picked from commit 9c4254c2bca6e910cd8312538946e40d5be77516)
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I0dbcde302a3abdfccc3dd996b1c238e25064dd12,openstack/puppet-tripleo,stable/train,ceph_dashboard_ha-stable/train,I0dbcde302a3abdfccc3dd996b1c238e25064dd12,Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard,MERGED,2021-04-22 07:24:14.000000000,2021-04-26 13:24:03.000000000,2021-04-26 13:24:03.000000000,32,0,0,787395,9c298733518b3014f1139eaa531e9ff686921fc4,9,6,1,1,25402,Francesco Pantano,fmount,"Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard

This change adds the prometheus and alertmanager endpoints which
are on the same grafana network and allow us to just use a single
vip to access the prometheus and alertmanager instances from the
ceph dashboard when enabled.
We already did it for grafana [1] and we would like to do the same
for prometheus and alertmanager.

[1] https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-dashboard/tasks/configure_dashboard.yml#L192

Change-Id: I0dbcde302a3abdfccc3dd996b1c238e25064dd12
(cherry picked from commit 92c76046a8da94375ce626226b7e3cefec879639)
"
openstack%2Fkeystone~master~I333eb15c66f37207e6937d0cb3a80f26cf9bebfc,openstack/keystone,master,bug/1854041,I333eb15c66f37207e6937d0cb3a80f26cf9bebfc,Propagate redirect exceptions to the client,NEW,2020-09-28 11:38:54.000000000,2021-04-26 13:12:53.000000000,,19,0,0,754694,05bbc64497cdd0603235ff12bb714a6184c61e45,5,1,2,2,91,Alvaro,aloga,"Propagate redirect exceptions to the client

When a developer is implementing an Authentication plugin, in some cases
(like an OpenID Connect plugin) it is needed to perform a redirect to
the provider to complete the flow. This was possible in the past (before
moving to Flask) by raising an exception with the proper HTTP code set,
but the framework change made this possibility not available anymore.

Closes-Bug: #1854041
Co-authored-by: Alvaro Lopez Garcia <aloga@ifca.unican.es>
Change-Id: I333eb15c66f37207e6937d0cb3a80f26cf9bebfc
"
openstack%2Fironic-python-agent~stable%2Fvictoria~I6105192a16fcb7f6898910e8d0ab824d731d491d,openstack/ironic-python-agent,stable/victoria,,I6105192a16fcb7f6898910e8d0ab824d731d491d,"Add a call to ""udevadm settle"" in write_image.sh",MERGED,2021-04-26 09:01:18.000000000,2021-04-26 13:07:47.000000000,2021-04-26 13:06:39.000000000,8,0,0,787848,bc13adfa49294ae4411ee241af91075dd585d6b8,7,3,1,2,10239,Dmitry Tantsur,dtantsur,"Add a call to ""udevadm settle"" in write_image.sh

After GPT and MBR are destroyed systemd-udevd gets triggered
which may hold /dev/sda open preventing qemu-img from writting
its image.

Story: 2008830
Task: 42312
Change-Id: I6105192a16fcb7f6898910e8d0ab824d731d491d
(cherry picked from commit 9c3fbfd000a323db4d57bf57cf50e83c3fb6681b)
"
openstack%2Fpython-manilaclient~master~Id845f6e9c95ac96da642029c28540c6067351fa3,openstack/python-manilaclient,master,bp/openstack-client-support,Id845f6e9c95ac96da642029c28540c6067351fa3,[OSC] Implement Share Replica Commands,ABANDONED,2021-04-17 12:56:19.000000000,2021-04-26 13:06:12.000000000,,993,0,0,786756,03a4f4f6bde52cd9422edd36098f1d5e85e3b6ed,3,1,1,6,31213,Maari Tamm,maaritamm,"[OSC] Implement Share Replica Commands

In this patch we add the following openstack share commands:
share replica create
share replica delete
share replica list
share replica show
share replica set
share replica promote
share replica resync

Partially-implements bp openstack-client-support
Change-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6

Change-Id: Id845f6e9c95ac96da642029c28540c6067351fa3
"
openstack%2Fkolla~master~Ic65c838af8a432ac02f3141fc9665b9ccd59877f,openstack/kolla,master,495148,Ic65c838af8a432ac02f3141fc9665b9ccd59877f,Add RHEL subscription registration,ABANDONED,2017-08-18 10:00:41.000000000,2021-04-26 13:05:38.000000000,,55,6,32,495148,7cfc8f3aa4b73ec612af964f2cffe952f01a1f7e,294,28,79,5,22745,Heetae Ahn,heetae82.ahn,"Add RHEL subscription registration

This patch enables to register RHEL subscription of each containers
for all RHEL builds. We would use some variables in kolla-build.conf
to register RHEL subscription as follows.

  [DEFAULT]
  rhel_username = your_username
  rhel_password = your_password
  rhel_poolid = your_poolid

We can also use as parameters in the kolla-build.

  kolla-build --rhel-username your_username \
    --rhel-password your_password \
    --rhel-poolid your_poolid

If pool id is not specifed then auto attach option will be applied.

  kolla-build --rhel-username your_username \
    --rhel-password your_password

Change-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f
Signed-off-by: Taeha Kim <kthguru@gmail.com>
Signed-off-by: heetae82.ahn <heetae82.ahn@samsung.com>
"
openstack%2Fkolla~stable%2Fwallaby~I4bd385b53257a60cc55a190138e5d7078f8b64bf,openstack/kolla,stable/wallaby,prepare-for-kolla-wallaby-release-stable/wallaby,I4bd385b53257a60cc55a190138e5d7078f8b64bf,docs: deprecate ppc64le in Wallaby,MERGED,2021-04-26 11:45:14.000000000,2021-04-26 13:05:30.000000000,2021-04-26 13:04:16.000000000,5,0,0,787855,b85b63ec9a603550e87f293b7278208667e9cca9,8,3,1,1,14826,Mark Goddard,mgoddard,"docs: deprecate ppc64le in Wallaby

Change-Id: I4bd385b53257a60cc55a190138e5d7078f8b64bf
(cherry picked from commit f00961da2251ad2c374a03f081db4bf0f089cf73)
"
openstack%2Fmagnum~master~Ic91c58aaf3e6ada92fe9fbdd3474b905ca9f08cb,openstack/magnum,master,,Ic91c58aaf3e6ada92fe9fbdd3474b905ca9f08cb,Add /opt/cni/bin to allowed hostdir,ABANDONED,2021-04-23 13:58:26.000000000,2021-04-26 13:00:08.000000000,,1,0,0,787744,13e066496ccb09653301e29428e9be8990f5ef30,8,1,1,1,16137,Tobias Urdin,tobasco,"Add /opt/cni/bin to allowed hostdir

One positive thing about the now reverted commit
that broke deployments is this misconfiguration caught [1].

[1] https://review.opendev.org/c/openstack/magnum/+/786430

Change-Id: Ic91c58aaf3e6ada92fe9fbdd3474b905ca9f08cb
"
openstack%2Fbashate~master~Ib8da29ca2156aafd89fec69db7910360efe266a2,openstack/bashate,master,ensure-tox-patch1,Ib8da29ca2156aafd89fec69db7910360efe266a2,Add ensure-tox role to test job,MERGED,2021-04-26 07:26:56.000000000,2021-04-26 12:59:02.000000000,2021-04-26 12:57:50.000000000,2,0,0,787927,421af4bca83ec9f00e27b36755bc2058fe680f0c,15,2,3,1,13252,Dr. Jens Harbott,jrosenboom,"Add ensure-tox role to test job

The CI no longer provides us with preinstalled tox, we have to ensure that
it is present ourselves.

Change-Id: Ib8da29ca2156aafd89fec69db7910360efe266a2
"
openstack%2Fneutron~stable%2Fwallaby~Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61,openstack/neutron,stable/wallaby,bug/1923423-stable/wallaby,Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61,trivial: Make driver_controller's _attrs_to_driver py3 compatible,MERGED,2021-04-20 11:11:06.000000000,2021-04-26 12:53:59.000000000,2021-04-26 12:52:31.000000000,14,1,2,786967,3ec596f9ef0b539ea3868960bc3bfa145d4b6e21,30,4,2,2,8313,Lajos Katona,elajkat,"trivial: Make driver_controller's _attrs_to_driver py3 compatible

In python3 dict.values() doesn't return list but instead dict_values,
it must be converted to list to ""enjoy"" list operations like insert.
Add unit tests to be sure.

Closes-Bug: #1923423
Change-Id: Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61
(cherry picked from commit e270ac2ee65c02bdb099d11af7f1d2fb62ad0f61)
"
openstack%2Fnova~stable%2Fussuri~Iebf678c229da4f455459d068cafeee5f241aea1f,openstack/nova,stable/ussuri,bug/1896496,Iebf678c229da4f455459d068cafeee5f241aea1f,libvirt: 'video.vram' property must be an integer,MERGED,2020-10-12 16:17:45.000000000,2021-04-26 12:47:18.000000000,2021-04-26 12:45:45.000000000,11,7,0,757617,121e481a880b48ce800aafdeca0b8b086e2cddf3,43,7,1,2,15334,Stephen Finucane,sfinucan,"libvirt: 'video.vram' property must be an integer

The 'vram' property of the 'video' device must be an integer else
libvirt will spit the dummy out, e.g.

  libvirt.libvirtError: XML error: cannot parse video vram '8192.0'

The division operator in Python 3 results in a float, not an integer
like in Python 2. Use the truncation division operator instead.

Change-Id: Iebf678c229da4f455459d068cafeee5f241aea1f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1896496
(cherry picked from commit f2ca089bce842127e7d0644b38a11da9278db8ea)
(cherry picked from commit fd7c66f61c0b07cff82d93e0f884777949170857)
"
openstack%2Ftripleo-heat-templates~master~I3b252854a0dbf121d69bab79543561da6be781f4,openstack/tripleo-heat-templates,master,nova_qemu_client_tls_verify,I3b252854a0dbf121d69bab79543561da6be781f4,Missing client certificate for live-migration with TLS,MERGED,2021-04-08 15:56:01.000000000,2021-04-26 12:36:45.000000000,2021-04-26 12:35:04.000000000,19,0,8,785438,e7d37585ac38cfef5f1d1f2c54b357c38757536a,30,8,6,2,27419,David Vallee Delisle,dvd,"Missing client certificate for live-migration with TLS

TLS client verification used to be accidentally disabled in libvirt.
This was fixed in libvirt-6.10.0-1[1].
Which means, once you're using libvirt-6.10.0-1 or higher, a client
certificate is mandatory during live migration with TLS.

In this case, the server certificate generated by TripleO is valid
for client _and_ server:

                 Key Purpose (not critical):
                         TLS WWW Server.
                         TLS WWW Client.

So most deployments can re-use the same certificate for client and
server.  Why?  Because if both migration ends points are located
on the same infrastructure, it is reasonable to use the same
certificate for both client and server roles.

Introducing QemuDefaultTLSVerify parameter

This parameter will allow operators to enable or disable TLS client
certificate verification. Enabling this option will reject any client
who does not have a certificate signed by the CA in
/etc/pki/qemu/ca-cert.pem.

The default is true and matches libvirt's. We will want to disable this
by default in train.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/785957/
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1945760
Change-Id: I3b252854a0dbf121d69bab79543561da6be781f4
"
openstack%2Fpuppet-nova~master~I06fcef45cd06657d8e7796573181bd05ffff0324,openstack/puppet-nova,master,scheduler_driver,I06fcef45cd06657d8e7796573181bd05ffff0324,Remove support for [scheduler] driver,ABANDONED,2021-04-26 12:27:23.000000000,2021-04-26 12:33:22.000000000,,4,28,0,787961,df9270d9f16272c28d29557342227f41055eff89,2,0,1,3,9816,Takashi Kajinami,kajinamit,"Remove support for [scheduler] driver

... because the parameter has been removed from nova[1].

[1] 5aeb3a387494c4559d183d1290db3c92a96dfb90

Change-Id: I06fcef45cd06657d8e7796573181bd05ffff0324
"
openstack%2Fneutron~master~Ia9e23113fdeebf0b99085da200c3d61b71567d36,openstack/neutron,master,787310,Ia9e23113fdeebf0b99085da200c3d61b71567d36,Don't ever give up trying to connect to OVN DBs,MERGED,2021-04-21 03:09:01.000000000,2021-04-26 12:29:51.000000000,2021-04-26 12:26:29.000000000,24,0,2,787310,39ccc0d6d6995b8d50baecc523dd30be034669a9,103,7,3,2,5756,Terry Wilson,otherwiseguy,"Don't ever give up trying to connect to OVN DBs

It doesn't really make since to give up connectimg to the OVN DBs
since we can't do anything without them. If ovsdb-server is slow
and takes more than timeout seconds, everything reconnecting after
partial downloads and starting over is not going to make things
better.

We can change the behavior in ovsdbapp, but doing it without
making non-backportable API changes isn't easily doable.
The plan would be, after merging this back through stable, to
modify ovsdbapp to allow setting different connection and txn
timeouts and being able to disable the timeout in wait_for_change
with a value of -1. Then in the main branch of neutron we can
use that going forward.

Change-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36
"
openstack%2Fbifrost~stable%2Fwallaby~I3cba11ac02a09d142637e2169a7b901a5b41bd59,openstack/bifrost,stable/wallaby,,I3cba11ac02a09d142637e2169a7b901a5b41bd59,Install squashfs-tools for Ubuntu image builds,MERGED,2021-04-26 10:07:51.000000000,2021-04-26 12:17:50.000000000,2021-04-26 12:16:22.000000000,6,0,0,787853,e629573ccc6d73ca9e3a3e1e52509fb8fd6d2b1a,7,3,1,2,10239,Dmitry Tantsur,dtantsur,"Install squashfs-tools for Ubuntu image builds

Ubuntu cloud images are distributed in a squashfs file system. Using the
ubuntu DIB element requires unpacking the image, which requires the
squashfs-tools package. This change ensures it is installed.

Story: 2008838
Task: 42345

Change-Id: I3cba11ac02a09d142637e2169a7b901a5b41bd59
(cherry picked from commit b166a0629bafdc0b18de3835e9210dfeaf811322)
"
openstack%2Fneutron~stable%2Ftrain~I6a40e6e3f937fa30bbb29768211ec8e689d4f82a,openstack/neutron,stable/train,delete_net_fip_opt-stable/train,I6a40e6e3f937fa30bbb29768211ec8e689d4f82a,Get only FIP ID on network delete,MERGED,2021-04-22 08:45:59.000000000,2021-04-26 12:15:28.000000000,2021-04-26 12:13:36.000000000,13,5,0,787490,3e9a7876890174d535a14329e2a6de4b01396601,56,3,3,2,5948,Oleg Bondarev,obondarev,"Get only FIP ID on network delete

Get FloatingIP object results in a quite heavy DB request.
delete_disassociated_floatingips() only needs IDs.

Change-Id: I6a40e6e3f937fa30bbb29768211ec8e689d4f82a
(cherry picked from commit 282dc73e129b84b828d9d1d815b0b95afe093e11)
"
openstack%2Fneutron~master~I708904b982d243359f2eeda809beae0321f1a7db,openstack/neutron,master,,I708904b982d243359f2eeda809beae0321f1a7db,[OVN] Only account for bound ports in metadata agent,MERGED,2021-04-21 09:46:36.000000000,2021-04-26 12:14:59.000000000,2021-04-26 12:13:21.000000000,37,22,43,787337,32e938e698f260af6896f6179a5ffc0838677124,49,8,5,4,23804,Daniel Alvarez,dalvarez,"[OVN] Only account for bound ports in metadata agent

Due to bug #1922934 there might be situations with stale ports
in the OVN database. When instances request metadata, the agent
will try to fetch all ports for that particular network with the
same IP address and there should be only one.

However, when there are stale ports in OVN database but not in
Neutron, those ports may have the same IP address and the result
is that metadata won't work. As the stale ports will never be
bound to any hypervisor, this patch is accounting only for
bound ports so that those ports don't interfere until they
eventually get fixed by the maintenance task.

Related-Bug: #1922934
Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: I708904b982d243359f2eeda809beae0321f1a7db
"
openstack%2Fcharm-magnum-dashboard~master~Ie11080800aaec441785976308f2d0712fd277266,openstack/charm-magnum-dashboard,master,zosci,Ie11080800aaec441785976308f2d0712fd277266,Add zOSCI config,MERGED,2021-04-01 13:57:28.000000000,2021-04-26 12:12:33.000000000,2021-04-26 12:12:33.000000000,12,0,0,784418,493153112189205dcf7b20270a7f3a586ae7468b,21,4,2,1,31289,Aurelien Lourot,lourot,"Add zOSCI config

Change-Id: Ie11080800aaec441785976308f2d0712fd277266
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I03953059f96079fbb61899d16147007b2fe023ad,openstack/tripleo-ansible,stable/ussuri,tripleo_timemaster-stable/ussuri,I03953059f96079fbb61899d16147007b2fe023ad,Support for timemaster service with tripleo-ansible role,MERGED,2021-03-30 13:42:35.000000000,2021-04-26 12:12:30.000000000,2021-04-26 12:12:30.000000000,409,0,0,783863,60339f758076aa6e046536cdd5d9f737c1d7a37a,10,8,1,10,30229,Haresh,hakhande,"Support for timemaster service with tripleo-ansible role

timemaster service provides provides HA between different
time service i.e chrony, PTP. When timemaster service runs,
it spwans instances/child processes of chronyd, ptp4l and
phy2sys. Look at below output.

[root@hareshcomputesriov-0 heat-admin]# systemctl status timemaster
● timemaster.service - Synchronize system clock to NTP and PTP time
                       sources
   Loaded: loaded (/usr/lib/systemd/system/timemaster.service; disabled;
                   vendor preset: disabled)
   Active: active (running) since Tue 2020-08-11 17:24:45 UTC; 3s ago
 Main PID: 544428 (timemaster)
    Tasks: 4 (limit: 357097)
   Memory: 2.4M
   CGroup: /system.slice/timemaster.service
           ├─544428 /usr/sbin/timemaster -f /etc/timemaster.conf
           ├─544429 /usr/sbin/chronyd -n
                                      -f /var/run/timemaster/chrony.conf
           ├─544430 /usr/sbin/ptp4l -l 5
                                    -f /var/run/timemaster/ptp4l.0.conf
                                    -H -i eno1
           └─544431 /usr/sbin/phc2sys -l 5 -a -r -R 1.00
                                   -z /var/run/timemaster/ptp4l.0.socket
                                   -t [0:eno1] -n 0 -E ntpshm -M 0

Timemaster service uses /etc/chrony.conf and /etc/ptp4l.conf to create
runtime instance for these 2 timeservices. These 2 time services sync to
their respective time source. Timemaster provides HA between chrony
and PTP (between different PTP domains as well which is not part of
this patch).Timemaster compares all time sources and use the best
sources to synchronize the system clock. if chronyd commuication breaks
then timemaster will set system time with PTP grand master's provided
time and vice a versa.

Change-Id: I03953059f96079fbb61899d16147007b2fe023ad
(cherry picked from commit c4950ce46e28fa87c7dcb0971ae3582a04d83021)
"
openstack%2Fneutron~stable%2Ftrain~I0ab836ac09225f4f3ad435e9ceaf315018855d52,openstack/neutron,stable/train,bug/1923161-stable/train,I0ab836ac09225f4f3ad435e9ceaf315018855d52,DHCP notification optimization,MERGED,2021-04-20 12:09:08.000000000,2021-04-26 12:03:14.000000000,2021-04-26 12:01:39.000000000,41,19,0,787194,8d7cc27532a5da64382cbd7258d8ce3dcecbda0d,28,4,4,4,5948,Oleg Bondarev,obondarev,"DHCP notification optimization

DHCP notification is done after each create/update/delete for
network, subnet and port.
This notification currently has to retrieve network from DB almost
every time, which is a quite heavy DB request and hence affects
performance of port and subnet CRUD.

This patch suggests 2 optimizations:
- do not fetch network if not needed (only fetch when schedule needed)
- for port and subnet AFTER_CREATE event pass network dict from plugin

According to Rally tests these changes improve performance:
- port create ~20%
- port update ~20%
- subnet create ~15%
- port delete and subnet update/delete - not tested

Conflicts:
     neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py

Closes-Bug: #1923161
Change-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52
(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)
"
openstack%2Fneutron~stable%2Fussuri~I0ab836ac09225f4f3ad435e9ceaf315018855d52,openstack/neutron,stable/ussuri,bug/1923161-stable/ussuri,I0ab836ac09225f4f3ad435e9ceaf315018855d52,DHCP notification optimization,MERGED,2021-04-20 12:06:46.000000000,2021-04-26 12:03:05.000000000,2021-04-26 12:01:30.000000000,41,19,0,787193,48b30783c0d550b4fb23c5886090c4f57b88ad53,19,4,4,4,5948,Oleg Bondarev,obondarev,"DHCP notification optimization

DHCP notification is done after each create/update/delete for
network, subnet and port.
This notification currently has to retrieve network from DB almost
every time, which is a quite heavy DB request and hence affects
performance of port and subnet CRUD.

This patch suggests 2 optimizations:
- do not fetch network if not needed (only fetch when schedule needed)
- for port and subnet AFTER_CREATE event pass network dict from plugin

According to Rally tests these changes improve performance:
- port create ~20%
- port update ~20%
- subnet create ~15%
- port delete and subnet update/delete - not tested

Conflicts:
     neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py

Closes-Bug: #1923161
Change-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52
(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)
"
openstack%2Fneutron~stable%2Fvictoria~I0ab836ac09225f4f3ad435e9ceaf315018855d52,openstack/neutron,stable/victoria,bug/1923161-stable/victoria,I0ab836ac09225f4f3ad435e9ceaf315018855d52,DHCP notification optimization,MERGED,2021-04-20 12:02:17.000000000,2021-04-26 12:03:02.000000000,2021-04-26 12:01:22.000000000,41,19,2,787191,342814db723dd60800539e72629d5c6de47af960,24,4,3,4,5948,Oleg Bondarev,obondarev,"DHCP notification optimization

DHCP notification is done after each create/update/delete for
network, subnet and port.
This notification currently has to retrieve network from DB almost
every time, which is a quite heavy DB request and hence affects
performance of port and subnet CRUD.

This patch suggests 2 optimizations:
- do not fetch network if not needed (only fetch when schedule needed)
- for port and subnet AFTER_CREATE event pass network dict from plugin

According to Rally tests these changes improve performance:
- port create ~20%
- port update ~20%
- subnet create ~15%
- port delete and subnet update/delete - not tested

Conflicts:
     neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py

Closes-Bug: #1923161
Change-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52
(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)
"
openstack%2Fkuryr-kubernetes~master~Ie2f6ec8b193e5a90216f3ff925188ad367826e4c,openstack/kuryr-kubernetes,master,bp/configure-lb-listeners-timeout,Ie2f6ec8b193e5a90216f3ff925188ad367826e4c,Enable Listener data timeouts test in tempest.conf,MERGED,2021-04-07 10:36:59.000000000,2021-04-26 11:51:01.000000000,2021-04-26 11:49:55.000000000,1,0,0,785140,fae12d9be2d1b213c029d925859ad00ec90591b2,40,4,2,1,32533,Tabitha Fasoyin,tabbie-fash,"Enable Listener data timeouts test in tempest.conf

This patch enables the tempest test that checks that listener timeout
value is configurable.

Depends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/783966
Implements: blueprint configure-lb-listeners-timeout
Change-Id: Ie2f6ec8b193e5a90216f3ff925188ad367826e4c
"
openstack%2Fkolla~master~Ie3bb0ffe6bd647e71e35f5f3d01c512704ea0df7,openstack/kolla,master,,Ie3bb0ffe6bd647e71e35f5f3d01c512704ea0df7,Drop Ubuntu/AArch64 support,ABANDONED,2021-04-19 17:11:26.000000000,2021-04-26 11:38:27.000000000,,5,29,0,786937,5029cfead3e5f487290e7de00dd4f6d1a63cee27,7,7,1,2,24072,Marcin Juszkiewicz,hrw,"Drop Ubuntu/AArch64 support

There are no known users for Ubuntu based Kolla containers on AArch64
architecture. Images are buildable but due to lack of Erlang 23 packages
RabbitMQ does not start breaking whole deployment.

Change-Id: Ie3bb0ffe6bd647e71e35f5f3d01c512704ea0df7
"
openstack%2Fbifrost~stable%2Fvictoria~I3cba11ac02a09d142637e2169a7b901a5b41bd59,openstack/bifrost,stable/victoria,,I3cba11ac02a09d142637e2169a7b901a5b41bd59,Install squashfs-tools for Ubuntu image builds,MERGED,2021-04-26 10:08:10.000000000,2021-04-26 11:25:44.000000000,2021-04-26 11:24:33.000000000,6,0,0,787854,a2b16602363c7c48fcc50bd83bacd48561f74550,7,3,1,2,10239,Dmitry Tantsur,dtantsur,"Install squashfs-tools for Ubuntu image builds

Ubuntu cloud images are distributed in a squashfs file system. Using the
ubuntu DIB element requires unpacking the image, which requires the
squashfs-tools package. This change ensures it is installed.

Story: 2008838
Task: 42345

Change-Id: I3cba11ac02a09d142637e2169a7b901a5b41bd59
(cherry picked from commit b166a0629bafdc0b18de3835e9210dfeaf811322)
"
openstack%2Fbarbican~master~I52838cfe63d5a0b81757c278b9bfad516a442274,openstack/barbican,master,,I52838cfe63d5a0b81757c278b9bfad516a442274,Fix Vault functional test,MERGED,2020-11-25 14:47:03.000000000,2021-04-26 11:17:52.000000000,2021-04-26 11:14:23.000000000,3,1,0,764202,21661bebd93e3e78755becd542ed8e0fffbde64d,23,6,3,1,14826,Mark Goddard,mgoddard,"Fix Vault functional test

It was previously using the wrong Devstack service name.

Change-Id: I52838cfe63d5a0b81757c278b9bfad516a442274
"
openstack%2Fpuppet-neutron~stable%2Fwallaby~I0650085d2aa2c3492b175c565976705c977fd806,openstack/puppet-neutron,stable/wallaby,fix-l3-agent-extensions-list-stable/wallaby,I0650085d2aa2c3492b175c565976705c977fd806,Fix L3 agent's extensions list,MERGED,2021-04-20 00:17:58.000000000,2021-04-26 10:58:52.000000000,2021-04-26 10:58:52.000000000,22,2,0,786960,db151245184f2188e8e4ef8be6b5418eba4e926b,11,4,2,2,9816,Takashi Kajinami,kajinamit,"Fix L3 agent's extensions list

L3 agent's extensions list should be passed as an array
to the neutron::agents::l3 class and then it should be converted
to the comma separated string in the L3 agent's config.
This patch changes expected type of the variable and
adds that such conversion from an array to string.

Change-Id: I0650085d2aa2c3492b175c565976705c977fd806
(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)
"
openstack%2Ftelemetry-tempest-plugin~master~I2c3fb918c559b892865287a3363e090cad9e9b98,openstack/telemetry-tempest-plugin,master,,I2c3fb918c559b892865287a3363e090cad9e9b98,Switch telemetry-tempest-dsvm to non-voting for now,MERGED,2021-04-23 13:41:09.000000000,2021-04-26 10:43:16.000000000,2021-04-26 10:43:16.000000000,2,1,0,787739,657804a7cff5cd0100e1a4a7b868e4bc3c78cd86,8,2,2,1,4264,Matthias Runge,mrunge,"Switch telemetry-tempest-dsvm to non-voting for now

The job is apparently broken in cleanup phase.

Change-Id: I2c3fb918c559b892865287a3363e090cad9e9b98
"
openstack%2Fkolla-ansible~stable%2Fvictoria~Iede747ceaafa54a00186761943fe2f4ac13f9559,openstack/kolla-ansible,stable/victoria,,Iede747ceaafa54a00186761943fe2f4ac13f9559,docs: Improve policy documentation,MERGED,2021-04-26 09:11:52.000000000,2021-04-26 10:38:59.000000000,2021-04-26 10:37:02.000000000,21,14,0,787850,466e4cc7c700db947c6fe26703beeb98b347a161,8,3,1,1,14826,Mark Goddard,mgoddard,"docs: Improve policy documentation

Change-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559
(cherry picked from commit 030a9a28d74f98831cce2cd48c08e09102ae7cf0)
"
openstack%2Fkolla-ansible~master~Ifaf64e3d9d89b2ec36a883fb7458556745b64802,openstack/kolla-ansible,master,hacluster-quirk-followup,Ifaf64e3d9d89b2ec36a883fb7458556745b64802,Avoid an Ansible quirk in hacluster role,MERGED,2021-04-24 18:39:52.000000000,2021-04-26 10:38:55.000000000,2021-04-26 10:36:41.000000000,1,3,0,787858,f3da3d8e1920473154d239e6ef5a254dbde438f2,11,5,1,1,30491,Radosław Piliszek,yoctozepto,"Avoid an Ansible quirk in hacluster role

Followup on I91e5c1840ace8f567daf462c4eb3ec1f0c503823

When+run_once do not play nicely. [1]
The general workaround is to use include_tasks. [2]
However, it is very unlikely user wishes to run this role
without having any pacemaker nodes so the simplification that we
use throughout the Kolla Ansible code should be enough.

[1] https://github.com/ansible/ansible/issues/11496
[2] https://github.com/ansible/ansible/issues/11496#issuecomment-412936547

Change-Id: Ifaf64e3d9d89b2ec36a883fb7458556745b64802
"
openstack%2Fkolla-ansible~stable%2Ftrain~Iede747ceaafa54a00186761943fe2f4ac13f9559,openstack/kolla-ansible,stable/train,,Iede747ceaafa54a00186761943fe2f4ac13f9559,docs: Improve policy documentation,MERGED,2021-04-26 09:13:27.000000000,2021-04-26 10:38:54.000000000,2021-04-26 10:37:10.000000000,21,14,0,787852,26760b63933217b5beab427d921ef2b73d53a5d0,8,3,1,1,14826,Mark Goddard,mgoddard,"docs: Improve policy documentation

Change-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559
(cherry picked from commit 030a9a28d74f98831cce2cd48c08e09102ae7cf0)
"
openstack%2Fkolla-ansible~stable%2Fussuri~Iede747ceaafa54a00186761943fe2f4ac13f9559,openstack/kolla-ansible,stable/ussuri,,Iede747ceaafa54a00186761943fe2f4ac13f9559,docs: Improve policy documentation,MERGED,2021-04-26 09:13:20.000000000,2021-04-26 10:38:52.000000000,2021-04-26 10:37:06.000000000,21,14,0,787851,55ffe1f8fbe81f6bd8ba3134942338e40fc595ba,8,3,1,1,14826,Mark Goddard,mgoddard,"docs: Improve policy documentation

Change-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559
(cherry picked from commit 030a9a28d74f98831cce2cd48c08e09102ae7cf0)
"
openstack%2Fkolla~master~I4bd385b53257a60cc55a190138e5d7078f8b64bf,openstack/kolla,master,prepare-for-kolla-wallaby-release,I4bd385b53257a60cc55a190138e5d7078f8b64bf,docs: deprecate ppc64le in Wallaby,MERGED,2021-04-26 09:14:59.000000000,2021-04-26 10:38:48.000000000,2021-04-26 10:37:25.000000000,5,0,0,787947,f00961da2251ad2c374a03f081db4bf0f089cf73,12,4,2,1,24072,Marcin Juszkiewicz,hrw,"docs: deprecate ppc64le in Wallaby

Change-Id: I4bd385b53257a60cc55a190138e5d7078f8b64bf
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Iede747ceaafa54a00186761943fe2f4ac13f9559,openstack/kolla-ansible,stable/wallaby,,Iede747ceaafa54a00186761943fe2f4ac13f9559,docs: Improve policy documentation,MERGED,2021-04-26 09:11:46.000000000,2021-04-26 10:38:39.000000000,2021-04-26 10:37:20.000000000,21,14,0,787849,3f7e027651d7e96bd4e74d11f3f3477ee6bcecf5,8,3,1,1,14826,Mark Goddard,mgoddard,"docs: Improve policy documentation

Change-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559
(cherry picked from commit 030a9a28d74f98831cce2cd48c08e09102ae7cf0)
"
openstack%2Ftripleo-validations~master~Ib90a48e9a12a5c5d2c5220eceaa38107d233e467,openstack/tripleo-validations,master,requirementsfix,Ib90a48e9a12a5c5d2c5220eceaa38107d233e467,Removal of osc-lib,MERGED,2021-04-21 16:15:57.000000000,2021-04-26 10:32:48.000000000,2021-04-26 10:31:05.000000000,0,2,0,787416,8c785e4b9f14c439a68f34baccedbf50ae2eca68,23,10,5,2,32926,Jiri Podivin,jpodivin,"Removal of osc-lib

osc-lib removed from requirements.txt

Resolves: BZ#1952113

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/787567
Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ib90a48e9a12a5c5d2c5220eceaa38107d233e467
"
openstack%2Fopenstacksdk~master~I32b7d6861ed9b15bb0fac1af4acde50c1f3f847a,openstack/openstacksdk,master,782013,I32b7d6861ed9b15bb0fac1af4acde50c1f3f847a,Add support for the GroupType resource,MERGED,2021-03-31 22:33:09.000000000,2021-04-26 10:26:51.000000000,2021-04-26 10:24:04.000000000,241,0,8,784178,6327052ef0a3e0c4096dc09d673dd1d40dbcc3ed,15,5,4,5,33032,Dylan Zapzalka,dylanzapzalka,"Add support for the GroupType resource

Introduce the GroupType resource, fill in its
resources, and implement API calls to support the
Cinder v3 API

Task: 41856
Story: 2008619
Task: 42191
Story: 2008621
Change-Id: I32b7d6861ed9b15bb0fac1af4acde50c1f3f847a
"
openstack%2Fbifrost~master~I3cba11ac02a09d142637e2169a7b901a5b41bd59,openstack/bifrost,master,,I3cba11ac02a09d142637e2169a7b901a5b41bd59,Install squashfs-tools for Ubuntu image builds,MERGED,2021-04-22 08:38:57.000000000,2021-04-26 10:07:16.000000000,2021-04-26 10:05:52.000000000,6,0,0,787505,b166a0629bafdc0b18de3835e9210dfeaf811322,11,3,2,2,14826,Mark Goddard,mgoddard,"Install squashfs-tools for Ubuntu image builds

Ubuntu cloud images are distributed in a squashfs file system. Using the
ubuntu DIB element requires unpacking the image, which requires the
squashfs-tools package. This change ensures it is installed.

Story: 2008838
Task: 42345

Change-Id: I3cba11ac02a09d142637e2169a7b901a5b41bd59
"
openstack%2Freleases~master~I58b718c5a97f0cf61df4fb7640fa0a7c1eb6131b,openstack/releases,master,neutron-lib_2.11.0,I58b718c5a97f0cf61df4fb7640fa0a7c1eb6131b,Release neutron-lib 2.11.0,MERGED,2021-04-23 11:43:30.000000000,2021-04-26 09:55:08.000000000,2021-04-26 09:55:08.000000000,5,0,0,787717,545a87db3f8282c5b32d2ebf624360c1d94e7aab,10,6,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Release neutron-lib 2.11.0

Change-Id: I58b718c5a97f0cf61df4fb7640fa0a7c1eb6131b
"
openstack%2Fmanila-tempest-plugin~master~I040a799fb2afd64536516e4caeaa737e19e67062,openstack/manila-tempest-plugin,master,share_type_cleanup,I040a799fb2afd64536516e4caeaa737e19e67062,Fix share type cleanup,ABANDONED,2020-08-23 11:20:51.000000000,2021-04-26 09:34:20.000000000,,51,59,7,747571,38d24f43a3238add02015cae3d8a12831b240f67,31,11,5,3,19262,Liron Kuchlani,lkuchlan,"Fix share type cleanup

Currently, there is a bug [1] causing the test ""test_manage_share_duplicate""
to fail. This failure leaves behind a share type. Other test cases are
attempting to cleanup that share type that was left behind.
This causes to authentication failures in the other test cases since they
are on other projects.
This patch creates a separated share type for each test and delete it at
the end of the test to avoid cascade like this.

This patch also move skipping conditions under skip_checks method.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1849843

Change-Id: I040a799fb2afd64536516e4caeaa737e19e67062
"
openstack%2Fironic~stable%2Fwallaby~I8d13df5db9654b0c2ea24489f7df75cdc5bae0e2,openstack/ironic,stable/wallaby,redfish-fast-track-stable/wallaby,I8d13df5db9654b0c2ea24489f7df75cdc5bae0e2,Fix fast track with redfish-virtual-media,MERGED,2021-04-23 14:06:51.000000000,2021-04-26 09:32:37.000000000,2021-04-26 09:29:34.000000000,168,5,0,787613,7151e81b1820acf9f65aec9c6188c261f6add286,11,3,1,2,10239,Dmitry Tantsur,dtantsur,"Fix fast track with redfish-virtual-media

During cleaning prepare_ramdisk is always called, even with fast track.
However, the redfish-virtual-media boot interface ignores fast track and
always reboots the node. This change makes fast track work if we can
detect that a CD device is connected.

Change-Id: I8d13df5db9654b0c2ea24489f7df75cdc5bae0e2
(cherry picked from commit 65e2e190981942b83b3a1eef99183b8128e833a2)
"
openstack%2Fironic~stable%2Fwallaby~I9ff2d726cb75317fe09bd43342541db0e721f2b8,openstack/ironic,stable/wallaby,cleaning-token-stable/wallaby,I9ff2d726cb75317fe09bd43342541db0e721f2b8,Remove temporary cleaning information on starting cleaning,MERGED,2021-04-25 15:17:11.000000000,2021-04-26 09:31:19.000000000,2021-04-26 09:29:29.000000000,16,40,0,787844,53535efb6285a3a69557ef61d30544ae9612ca8b,10,2,1,5,10239,Dmitry Tantsur,dtantsur,"Remove temporary cleaning information on starting cleaning

Currently we only remove the URL, which may leave a stale token.

Change-Id: I9ff2d726cb75317fe09bd43342541db0e721f2b8
(cherry picked from commit f4a7002023ddbd41505342bbad43fb6e0f963ef4)
"
openstack%2Fconstellations~master~Ia57aa41dd923d1fbc53512f5e10580d5575a4e5e,openstack/constellations,master,,Ia57aa41dd923d1fbc53512f5e10580d5575a4e5e,Add Compute Starter constellation,NEW,2018-07-26 13:23:04.000000000,2021-04-26 09:23:46.000000000,,122,0,16,586212,08962f9b514652903c04edcca3a8b108c55073b0,18,8,3,3,5638,Davanum Srinivas,dims-v,"Add Compute Starter constellation

Entirely based on sdague's work here -
Ie4aefe54a88aff9cebdf44e0e6c3f8ed95aa0d0e

and template from johnthetubaguy's Scientific Computing constellation:
Ia57aa41dd923d1fbc53512f5e10580d5575a4e5f

proposes a new constellation to specify a small number of
projects that are targeted at initial compute deploys by new
operators.

Change-Id: Ia57aa41dd923d1fbc53512f5e10580d5575a4e5e
"
openstack%2Fcliff~master~I5d419e881a42e627fd0699cb2ab68b66e7295cee,openstack/cliff,master,,I5d419e881a42e627fd0699cb2ab68b66e7295cee,Use py3 as the default runtime for tox,MERGED,2021-04-20 02:37:35.000000000,2021-04-26 09:17:35.000000000,2021-04-26 09:16:08.000000000,1,1,0,787034,fa0535a88831cb7b91c0bf9568679a21c77f9e7c,7,2,1,1,31412,Wenping Song,songwenping,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I5d419e881a42e627fd0699cb2ab68b66e7295cee
"
openstack%2Foswin-tempest-plugin~master~Id9f0c4322204212a814d79f01769e07a3ff942db,openstack/oswin-tempest-plugin,master,,Id9f0c4322204212a814d79f01769e07a3ff942db,Use py3 as the default runtime for tox,MERGED,2021-04-20 08:58:40.000000000,2021-04-26 09:15:04.000000000,2021-04-26 09:15:04.000000000,1,1,0,787171,59e6a14d01dda304c7d11fda1d35198f25799d6c,6,2,1,1,30384,zhangboye,zhangboye,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: Id9f0c4322204212a814d79f01769e07a3ff942db
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I0dbcde302a3abdfccc3dd996b1c238e25064dd12,openstack/puppet-tripleo,stable/ussuri,ceph_dashboard_ha-stable/ussuri,I0dbcde302a3abdfccc3dd996b1c238e25064dd12,Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard,MERGED,2021-04-22 07:23:54.000000000,2021-04-26 08:51:38.000000000,2021-04-26 08:51:38.000000000,32,0,0,787394,86d357cdddb0862652460a94e8b2915a2cd5782c,15,6,2,1,25402,Francesco Pantano,fmount,"Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard

This change adds the prometheus and alertmanager endpoints which
are on the same grafana network and allow us to just use a single
vip to access the prometheus and alertmanager instances from the
ceph dashboard when enabled.
We already did it for grafana [1] and we would like to do the same
for prometheus and alertmanager.

[1] https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-dashboard/tasks/configure_dashboard.yml#L192

Change-Id: I0dbcde302a3abdfccc3dd996b1c238e25064dd12
(cherry picked from commit 92c76046a8da94375ce626226b7e3cefec879639)
"
openstack%2Ftacker~master~I245cd2626fac1112d6a9fef3c51bf5ef6b679e05,openstack/tacker,master,bug/1923360,I245cd2626fac1112d6a9fef3c51bf5ef6b679e05,Updated vnflcm api output with host-path,MERGED,2021-04-11 17:03:28.000000000,2021-04-26 08:20:57.000000000,2021-04-26 08:18:57.000000000,121,79,4,785798,2c68a0a84d2a62598b9379529008c2ae1c849ca6,40,8,6,5,16308,Sheel Rana,sheel.rana,"Updated vnflcm api output with host-path

Currently vnflcm api operations do not return host-path
in their output inside '_links' href field.
For ex,
""_links"": {
""self"": {
""href"":
    ""/vnflcm/v1/vnf_instances/<vnf-instance>""
}
}

This patch updates '_links' href field in vnflcm api output
with host-path.
For ex,
""_links"": {
""self"": {
""href"":
    ""http://localhost:9890/vnflcm/v1/vnf_instances/<vnf-instance>""
}
}

*here ""http://localhost:9890/"" is just an example of host-path.

Related operations:
1. Creates a new VNF instance.
2. Show VNF Instance.
3. List VNF Instances.
4. Show VNF LCM operation occurrence.
5. List VNF LCM operation occurrences.

Co-Authored-By: Navum Gupta <navum.gupta@india.nec.com>

Closes-Bug: #1923360
Change-Id: I245cd2626fac1112d6a9fef3c51bf5ef6b679e05
"
openstack%2Fproject-config~master~Ic323a436bfc057a919ece48f578f6626f87ae03c,openstack/project-config,master,ara-irc,Ic323a436bfc057a919ece48f578f6626f87ae03c,Remove IRC bots from #ara,MERGED,2021-04-25 15:40:50.000000000,2021-04-26 08:15:21.000000000,2021-04-26 07:53:10.000000000,0,15,0,787892,27056169a767b491c7233c752ddc22b75930653a,9,3,1,2,5263,Jeremy Stanley,fungi,"Remove IRC bots from #ara

The #ara channel no longer grants founder access to the
openstackinfra bot account, so we should not continue to operate our
bots in it.

Change-Id: Ic323a436bfc057a919ece48f578f6626f87ae03c
Depends-on: https://review.opendev.org/787891
"
openstack%2Fneutron~master~I16e2e331d2d50c879f57367c6c80a23f6b651cfe,openstack/neutron,master,secure-rbac,I16e2e331d2d50c879f57367c6c80a23f6b651cfe,Allow SYSTEM_ADMIN to create floating IP for any project,ABANDONED,2021-04-12 11:40:31.000000000,2021-04-26 08:08:35.000000000,,2,2,2,785858,e3d20b68e56e312108ed04329b6054211cdfe436,15,3,1,1,11975,Slawek Kaplonski,slaweq,"Allow SYSTEM_ADMIN to create floating IP for any project

Related-blueprint: bp/secure-rbac-roles
Change-Id: I16e2e331d2d50c879f57367c6c80a23f6b651cfe
"
openstack%2Fproject-config~master~Ie649ee9373954bde98ece5d164cfa11fc961ffee,openstack/project-config,master,gerritbot-more-events,Ie649ee9373954bde98ece5d164cfa11fc961ffee,Make gerritbot linter know all the supported events,MERGED,2021-04-25 17:28:02.000000000,2021-04-26 07:53:14.000000000,2021-04-26 07:53:14.000000000,11,2,0,787894,79c298f51de4ca428232fae43d3d807fec8a9bd0,7,3,1,1,30491,Radosław Piliszek,yoctozepto,"Make gerritbot linter know all the supported events

So that it does not mark them as errors.

Change-Id: Ie649ee9373954bde98ece5d164cfa11fc961ffee
"
openstack%2Fkolla-ansible~master~Iede747ceaafa54a00186761943fe2f4ac13f9559,openstack/kolla-ansible,master,,Iede747ceaafa54a00186761943fe2f4ac13f9559,docs: Improve policy documentation,MERGED,2021-03-30 09:04:33.000000000,2021-04-26 07:48:09.000000000,2021-04-26 07:43:51.000000000,21,14,5,783809,030a9a28d74f98831cce2cd48c08e09102ae7cf0,17,5,2,1,14826,Mark Goddard,mgoddard,"docs: Improve policy documentation

Change-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559
"
openstack%2Fkayobe~master~I59a9d7ef2769dc630455c00dd507a740fcfa58ff,openstack/kayobe,master,,I59a9d7ef2769dc630455c00dd507a740fcfa58ff,zuul: add more irrelevant files,MERGED,2021-03-30 09:21:16.000000000,2021-04-26 07:48:04.000000000,2021-04-26 07:44:09.000000000,5,0,0,783819,2f0bb96c9f20f5cd58090570f1d31fd6f8d716ee,8,3,1,1,14826,Mark Goddard,mgoddard,"zuul: add more irrelevant files

zuul.d/* means we can change zuul config and not run all jobs. Zuul will
run jobs whose configuration has changed.

Change-Id: I59a9d7ef2769dc630455c00dd507a740fcfa58ff
"
openstack%2Fkolla-ansible~master~Ie5e2ea2cab853b4f389c944863d9d2df542856ad,openstack/kolla-ansible,master,image-tags,Ie5e2ea2cab853b4f389c944863d9d2df542856ad,Add global tag variables for Panko and Skydive,MERGED,2021-03-23 13:49:42.000000000,2021-04-26 07:46:24.000000000,2021-04-26 07:43:38.000000000,7,3,0,782525,aa9ac3320f050fc90fb8bf695b2d4e86add4df0c,12,6,1,2,15197,Pierre Riteau,priteau,"Add global tag variables for Panko and Skydive

This follows the pattern used in other roles.

Change-Id: Ie5e2ea2cab853b4f389c944863d9d2df542856ad
"
openstack%2Fkayobe~master~I46ea01ef9a3f6e322489e6d2a28f99d05656e0f2,openstack/kayobe,master,multiple-environments,I46ea01ef9a3f6e322489e6d2a28f99d05656e0f2,Add release note for multiple environments,MERGED,2021-04-13 09:06:11.000000000,2021-04-26 07:25:54.000000000,2021-04-26 07:24:28.000000000,13,0,0,786023,079704ab829d5a7cbdee78d463d0e814b121b920,10,3,2,2,15197,Pierre Riteau,priteau,"Add release note for multiple environments

Warn in the documentation that it is an experimental feature.

Change-Id: I46ea01ef9a3f6e322489e6d2a28f99d05656e0f2
"
openstack%2Fnova~master~Ic408c80ad5dff4162ac8519b049ed7311c15fb5b,openstack/nova,master,,Ic408c80ad5dff4162ac8519b049ed7311c15fb5b,os-assisted-volume-snapshots: mention Hyper-V usage,ABANDONED,2021-04-21 16:15:24.000000000,2021-04-26 07:22:55.000000000,,2,2,2,787415,3022715f0e45eb973b68d7ae3b768c7893939bb5,9,4,2,1,8543,Lucian Petrut,plucian,"os-assisted-volume-snapshots: mention Hyper-V usage

The docs state that this API is only implemented by the libvirt
driver, but it's also used by the out of tree Hyper-V driver.

We're adding a note about Hyper-V, which will be useful as this
API is about to become supersededed.

[1] https://github.com/openstack/compute-hyperv/blob/12.0.0/compute_hyperv/nova/driver.py#L250-L253

Change-Id: Ic408c80ad5dff4162ac8519b049ed7311c15fb5b
"
openstack%2Fneutron~stable%2Fvictoria~Ic53f44ceb82c86ca72565ceda75a251339d5cc4e,openstack/neutron,stable/victoria,fix_todo-stable/victoria,Ic53f44ceb82c86ca72565ceda75a251339d5cc4e,Use exceptions and resources from neutron-lib,ABANDONED,2021-04-26 06:28:00.000000000,2021-04-26 07:20:12.000000000,,83,0,0,787846,728a5b2a9a3c70e36eb14e4594d196392a4692f1,3,1,1,2,30858,zhen,zhen,"Use exceptions and resources from neutron-lib

Exceptions and resources were released in neutron-lib 2.7.0

Change-Id: Ic53f44ceb82c86ca72565ceda75a251339d5cc4e
(cherry picked from commit cd4d96a4f7c7e8430477402928f64e6ac8b657a7)
"
openstack%2Fdiskimage-builder~master~I14499b5ebaaa30126aaa6b3d1bd86ed64f110fda,openstack/diskimage-builder,master,profiledir-cleanup,I14499b5ebaaa30126aaa6b3d1bd86ed64f110fda,dib-run-parts: stop leaving PROFILE_DIR behind,MERGED,2021-04-21 00:42:43.000000000,2021-04-26 07:03:04.000000000,2021-04-26 07:00:04.000000000,10,5,0,787303,7c8e9f87330f96562ce74b37b598543462df774e,40,4,1,1,7118,Ian Wienand,iwienand,"dib-run-parts: stop leaving PROFILE_DIR behind

When a build fails, we can exit and leave ${PROFILE_DIR} behind.  Make
sure this is cleaned up with an exit trap.

While we're adding a function, update the syntax of the others for
consistency.

Change-Id: I14499b5ebaaa30126aaa6b3d1bd86ed64f110fda
"
openstack%2Fneutron~master~Ic53f44ceb82c86ca72565ceda75a251339d5cc4e,openstack/neutron,master,fix_todo,Ic53f44ceb82c86ca72565ceda75a251339d5cc4e,Use exceptions and resources from neutron-lib,MERGED,2021-04-20 08:20:43.000000000,2021-04-26 05:51:27.000000000,2021-04-26 05:49:25.000000000,8,26,0,787152,cd4d96a4f7c7e8430477402928f64e6ac8b657a7,183,6,2,2,32667,Mamatisa Nurmatov,isabek,"Use exceptions and resources from neutron-lib

Exceptions and resources were released in neutron-lib 2.7.0

Change-Id: Ic53f44ceb82c86ca72565ceda75a251339d5cc4e
"
openstack%2Fswift~master~I7d5c19304a5c5f83558e91624de356caaf0ab4d5,openstack/swift,master,,I7d5c19304a5c5f83558e91624de356caaf0ab4d5,auditors: Log and dump recon *before* sleeping,MERGED,2021-04-25 05:22:11.000000000,2021-04-26 05:51:20.000000000,2021-04-26 05:49:37.000000000,2,2,0,787868,9d6006f6463c24404a8b80ed5535a1eff63d39ad,8,2,1,1,15343,Tim Burke,tburke,"auditors: Log and dump recon *before* sleeping

No good reason to delay getting the info about a completed run out there.

Change-Id: I7d5c19304a5c5f83558e91624de356caaf0ab4d5
"
openstack%2Ftripleo-ansible~master~Ib69f8b5931e846ca012bee8a2bc24dc2a614e274,openstack/tripleo-ansible,master,part12,Ib69f8b5931e846ca012bee8a2bc24dc2a614e274,Use centos-8 stream for molecule jobs,MERGED,2021-04-21 17:17:02.000000000,2021-04-26 04:00:51.000000000,2021-04-26 03:57:51.000000000,91,16,0,787423,8f9a141bf9f735927209c6683e6b222500afd816,55,9,16,82,10969,Shnaidman Sagi (Sergey),sergsh,"Use centos-8 stream for molecule jobs

Set containers module to 3.0.
Mount dnf vars for evaluating $stream var.
Set --no-stream for ubi container images.
Mark 2 jobs unvoting to fix later.

Change-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274
"
openstack%2Fswift~master~I47f895ab44d2be768b707ab772d66249a5bf0c83,openstack/swift,master,relinker_dump_num_procs_started,I47f895ab44d2be768b707ab772d66249a5bf0c83,Relinker: Log the number of child workers started,NEW,2021-04-26 00:15:29.000000000,2021-04-26 01:39:03.000000000,,11,1,1,787908,f4951c6d4bfac701cc5597edc06c9e192a52946b,4,1,2,2,7233,Matthew Oliver,mattoliverau,"Relinker: Log the number of child workers started

When the relinker is started with multiple workers. It wont always start
with whatever is passed into --workers. Because it can also depend on
the amount of disks.

This patch adds an extra log line for the number of workers which will
be emitted from the parent process after its started all the workers.

  Number of workers started: <num> (<pid>, <pid>, ...)

If there is only 1 device or workers is set to 0 or 1, no line is
emitted as we don't start up worker processes.

Change-Id: I47f895ab44d2be768b707ab772d66249a5bf0c83
"
openstack%2Fkolla-ansible~master~I5c2bc45d4801e8a28ecd5922783ba7414672ce2a,openstack/kolla-ansible,master,ADD_TAG,I5c2bc45d4801e8a28ecd5922783ba7414672ce2a,Add tags for common tasks,ABANDONED,2021-02-25 13:48:58.000000000,2021-04-26 01:29:18.000000000,,2,0,0,777592,a2718c2b5ac511b894f9c5e89a694a7f595c39b4,17,3,3,2,26285,wu.chunyang,wu.chunyang,"Add tags for common tasks

this chage adds two tags: register and bootstrap.
1. register tag : service endpoint register.
2. bootstrap tag : bootstrap container.
we can use --skip-tags to skip those tasks.

Change-Id: I5c2bc45d4801e8a28ecd5922783ba7414672ce2a
"
openstack%2Fdiskimage-builder~master~Ia197feea34f43bd870fed30829b740596e6b2f48,openstack/diskimage-builder,master,grub-efi-arch,Ia197feea34f43bd870fed30829b740596e6b2f48,Ensure redhat efi packages are reinstalled during finalise,MERGED,2021-04-18 21:41:07.000000000,2021-04-26 01:09:16.000000000,2021-04-26 01:08:04.000000000,12,10,0,786804,5caeba0c684aa43f70edcecb0a1c45ba6f0fbb6f,35,4,2,3,4571,Steve Baker,steve-stevebaker,"Ensure redhat efi packages are reinstalled during finalise

The rhel-8.4 qcow2 base image already has the grub2-efi-x64 package
installed on its single partition which has files installed to
/boot/efi..., however a partitioned image will have an empty /boot/efi
partition when running 50-bootloader. This means dnf will not install
grub2-efi-x64 when requested and /boot/efi will remain empty.

This commit makes the following changes:
- Refactors redhat bootloader pkg-map for the following:
  - Make x86_64/amd64, arm64/aarch64 adjancent so they don't diverge
  - Map grub-efi to packages installed to /usr
  - Map grub-efi-{arch} to packages installed to /boot/efi
- Removes packages grub-efi-{arch} before installing grub-efi and
  grub-efi-{arch}

Change-Id: Ia197feea34f43bd870fed30829b740596e6b2f48
"
openstack%2Fneutron~stable%2Fussuri~I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,openstack/neutron,stable/ussuri,def_sg_opt-stable/ussuri,I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,Remove redundant _ensure_default_security_group,MERGED,2021-04-22 08:35:21.000000000,2021-04-25 23:42:57.000000000,2021-04-25 23:41:13.000000000,0,3,0,787483,8c1266cba1ae590ce86cf30b4d35e32c85ecccc7,48,4,1,1,32667,Mamatisa Nurmatov,isabek,"Remove redundant _ensure_default_security_group

_ensure_default_security_group() is done in
_ensure_default_security_group_handler [1] on each port BEFORE_CREATE
event. No need to ensure once again right after sending this event.

[1] https://github.com/openstack/neutron/blob/084fa99874e882649aa6895941fa913b2b852868/neutron/db/securitygroups_db.py#L894

TrivialFix

Change-Id: I1bfe2a50b52502b5ab3631c016a617f7a9756cc6
(cherry picked from commit bdf1416958f79e8076397fcbf2fbbc920f964b37)
"
openstack%2Ftripleo-common~master~Ia6de5fc45cdcc5725b1177092e9acf00abf7ab1c,openstack/tripleo-common,master,ephemeral-heat,Ia6de5fc45cdcc5725b1177092e9acf00abf7ab1c,Also catch keystoneauth1.exceptions.catalog.EndpointNotFound,MERGED,2021-04-21 02:16:44.000000000,2021-04-25 19:43:37.000000000,2021-04-25 19:42:30.000000000,7,3,0,787309,b6e5fbcbad6febfc5de7d33311ae8d623d760f36,19,4,2,1,7144,James Slagle,slagle,"Also catch keystoneauth1.exceptions.catalog.EndpointNotFound

When generating the ansible inventory and querying for heat or neutron
data, keystoneauth1.exceptions.catalog.EndpointNotFound also needs to be
caught as an exception in the case either service is not installed and
the endpoints do not exist.

Change-Id: Ia6de5fc45cdcc5725b1177092e9acf00abf7ab1c
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fpuppet-nova~master~Iee8f8557e8b38e6bed1a6b4519c39382784063da,openstack/puppet-nova,master,long_rpc_timeout,Iee8f8557e8b38e6bed1a6b4519c39382784063da,Add support for the long_rpc_timeout parameter,MERGED,2021-04-21 14:35:02.000000000,2021-04-25 17:32:44.000000000,2021-04-25 17:31:34.000000000,17,0,0,787403,b1a3a7a2dbde79936ae6227b89df1a18061bf0e6,19,4,2,3,9816,Takashi Kajinami,kajinamit,"Add support for the long_rpc_timeout parameter

Now nova provides the additional long_rpc_timeout parmaeter in addition
to the conventional rpc_response_timeout parameter, which defines
rpc response timeout for potential long running tasks.
This introduces support for that parameter.

Change-Id: Iee8f8557e8b38e6bed1a6b4519c39382784063da
"
openstack%2Fneutron~stable%2Fussuri~I75db7c713a17a0f1b1b5aecc6eec93e636a71827,openstack/neutron,stable/ussuri,bug/1917866-stable/ussuri,I75db7c713a17a0f1b1b5aecc6eec93e636a71827,Check for existence instead of fetching the whole net object,MERGED,2021-04-22 08:29:30.000000000,2021-04-25 14:34:03.000000000,2021-04-25 14:32:27.000000000,8,2,0,787481,5e4a8fbb0ee95239d1221726a559e40aaa290be5,33,5,2,2,32667,Mamatisa Nurmatov,isabek,"Check for existence instead of fetching the whole net object

There is no need to fetch the whole net object
(which leads to several heavy DB requests according
to OSProfiler stats) when only need to check net existence

This speeds up port creation up to 15%

Closes-Bug: #1917866
Change-Id: I75db7c713a17a0f1b1b5aecc6eec93e636a71827
(cherry picked from commit 4bb3c92917cdf19b18c7481786050241218e8df7)
"
openstack%2Fcinder~master~Ie12ecf09c30b1b53228882ba252813cd87dfa251,openstack/cinder,master,bp/alembic-migration,Ie12ecf09c30b1b53228882ba252813cd87dfa251,setup.cfg: Replace dashes with underscores,MERGED,2021-04-20 16:35:37.000000000,2021-04-25 13:33:04.000000000,2021-04-21 02:31:31.000000000,4,4,0,787263,ea7ae8e65598290c317717f290c9db09edd9daf4,26,3,1,1,15334,Stephen Finucane,sfinucan,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: Ie12ecf09c30b1b53228882ba252813cd87dfa251
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fpuppet-glance~master~Ib8c808ee1d7c7241eab994af327143a04c35950a,openstack/puppet-glance,master,secure-rbac,Ib8c808ee1d7c7241eab994af327143a04c35950a,Update policy manifest to support setting new default policies,ABANDONED,2021-03-19 21:06:03.000000000,2021-04-25 13:12:12.000000000,,21,1,0,781913,46f4436559f623e09971e8fb317cf59ff1de3ec3,4,1,1,1,5046,Lance Bragstad,ldbragst,"Update policy manifest to support setting new default policies

Change-Id: Ib8c808ee1d7c7241eab994af327143a04c35950a
"
openstack%2Fpuppet-keystone~master~I3b9eb259ac075e41f94e2fa56add0d03fb942f2a,openstack/puppet-keystone,master,secure-rbac,I3b9eb259ac075e41f94e2fa56add0d03fb942f2a,Update policy manifest to support setting new defaults,ABANDONED,2021-03-19 20:09:38.000000000,2021-04-25 13:11:44.000000000,,6,0,0,781901,988712d595b99be76bfb0b4f96c6ecdf20dc57dd,4,1,1,1,5046,Lance Bragstad,ldbragst,"Update policy manifest to support setting new defaults

Change-Id: I3b9eb259ac075e41f94e2fa56add0d03fb942f2a
"
openstack%2Fpuppet-nova~master~I35d5f10995131105193e7d0beb8aa39070d5e91f,openstack/puppet-nova,master,secure-rbac,I35d5f10995131105193e7d0beb8aa39070d5e91f,Update policy manifest to support setting new default policies,ABANDONED,2021-03-19 20:56:05.000000000,2021-04-25 13:11:26.000000000,,15,1,0,781910,737d3057aba72c967611be978598f0c30c7c16b0,4,1,1,1,5046,Lance Bragstad,ldbragst,"Update policy manifest to support setting new default policies

Change-Id: I35d5f10995131105193e7d0beb8aa39070d5e91f
"
openstack%2Fpuppet-cinder~master~Id2fa564e51904aa29411c0aa6a337bfd97365a5d,openstack/puppet-cinder,master,secure-rbac,Id2fa564e51904aa29411c0aa6a337bfd97365a5d,Update policy manifest to support setting new default policies,ABANDONED,2021-03-19 21:01:20.000000000,2021-04-25 13:11:18.000000000,,15,1,0,781912,d25c9c06bc6472b3c27c3d552103d89697fc907d,4,1,1,1,5046,Lance Bragstad,ldbragst,"Update policy manifest to support setting new default policies

Change-Id: Id2fa564e51904aa29411c0aa6a337bfd97365a5d
"
openstack%2Fpuppet-neutron~master~I8fde00c5f0397ede82b3aa86cc80e7cc054e742c,openstack/puppet-neutron,master,secure-rbac,I8fde00c5f0397ede82b3aa86cc80e7cc054e742c,Update policy manifests to support setting new default policies,ABANDONED,2021-03-19 20:58:39.000000000,2021-04-25 13:11:00.000000000,,15,1,0,781911,278ffd875fdd107486858e0f0b1943911d029a54,4,1,1,1,5046,Lance Bragstad,ldbragst,"Update policy manifests to support setting new default policies

Change-Id: I8fde00c5f0397ede82b3aa86cc80e7cc054e742c
"
openstack%2Fdevstack~master~If5c860d1e69aaef9a9236303c370479a7714ad43,openstack/devstack,master,lioadm,If5c860d1e69aaef9a9236303c370479a7714ad43,cinder: Default CINDER_ISCSI_HELPER to lioadm,MERGED,2021-03-09 22:37:57.000000000,2021-04-25 08:10:19.000000000,2021-04-25 08:07:02.000000000,8,5,8,779624,c062792709def9ef10ddac68867e1b7bf9009435,36,10,9,2,10135,Lee Yarwood,lyarwood,"cinder: Default CINDER_ISCSI_HELPER to lioadm

As outlined in bug #1917750 the use of tgtadm in multinode environments
with multiple c-vol services can cause volumes to use duplicate WWNs.

This has been shown to cause some encrypted volume test failures as
os-brick returns a /dev/disk/by-id path to n-cpu that can point to the
wrong underlying volume when multiple volumes with the same WWN are
connected to a host.

There is also some speculation that the duplicate WWNs are also causing
libvirt to fail to detach volumes from instances but as yet this has not
been proven.

This change aims to avoid all of the above by switching the default of
CINDER_ISCSI_HELPER to lioadm for all deployments instead of just EL and
SUSE based deployments.

The Bionic platform job however is pinned to tgtadm as there issues
installing python3-rtslib-fb.

Closes-Bug: #1917750
Change-Id: If5c860d1e69aaef9a9236303c370479a7714ad43
"
openstack%2Fheat~stable%2Fwallaby~Iaa2c05b4155d93f44de60b6f98a69450c1512817,openstack/heat,stable/wallaby,,Iaa2c05b4155d93f44de60b6f98a69450c1512817,Preserve order in list_concat_unique,MERGED,2021-04-24 06:10:15.000000000,2021-04-25 08:02:16.000000000,2021-04-25 08:00:49.000000000,8,6,0,787837,7b9ffc5bed4555a8eb26b954d454aa172773417a,11,2,1,2,8833,Rabi Mishra,rabi,"Preserve order in list_concat_unique

Also, we should not modify a list when iterating
over it.

Task: 42359
Closes-Bug: #1925373
Change-Id: Iaa2c05b4155d93f44de60b6f98a69450c1512817
(cherry picked from commit a8f8528d1ea1952cf76bd09fd27cbd65a978af65)
"
openstack%2Fvitrage-tempest-plugin~master~I38a488598b9ecbeb2dfae42cb7279c7f4710bb31,openstack/vitrage-tempest-plugin,master,,I38a488598b9ecbeb2dfae42cb7279c7f4710bb31,Use py3 as the default runtime for tox,MERGED,2021-04-20 02:48:11.000000000,2021-04-25 07:07:52.000000000,2021-04-25 07:06:35.000000000,1,1,0,787044,50b34efa11db1e760b050cf361202e96e2f5f3db,9,2,1,1,30384,zhangboye,zhangboye,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I38a488598b9ecbeb2dfae42cb7279c7f4710bb31
"
openstack%2Fmanila-tempest-plugin~master~I3ba1d5400e51fc475bbe4ea120f0c9f6fa7fa49c,openstack/manila-tempest-plugin,master,old_microversion,I3ba1d5400e51fc475bbe4ea120f0c9f6fa7fa49c,Stop supporting microversion 2.23 and less,ABANDONED,2021-03-17 10:40:56.000000000,2021-04-25 06:33:56.000000000,,138,327,0,781074,2f480de999dc0b3aa53339d5bd798fe0ff302546,26,5,10,38,19262,Liron Kuchlani,lkuchlan,"Stop supporting microversion 2.23 and less

This patch makes a cleanup for all stuff related
to 2.23 microversion and less.

Change-Id: I3ba1d5400e51fc475bbe4ea120f0c9f6fa7fa49c
"
openstack%2Fmanila~master~I9380599a6ee3f32f1a7a779b9ba5757a422604b2,openstack/manila,master,,I9380599a6ee3f32f1a7a779b9ba5757a422604b2,Dropping lower constraints testing,NEW,2021-04-25 02:57:14.000000000,2021-04-25 05:28:49.000000000,,0,141,0,787862,7c3e4b84a93c3d75042aa916c6437972d8875bac,5,1,1,2,31412,Wenping Song,songwenping,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I9380599a6ee3f32f1a7a779b9ba5757a422604b2
"
openstack%2Fpuppet-nova~master~Ib109175b2e1a9f9f6b96355d29f9f9a95c303957,openstack/puppet-nova,master,no-multi-thread,Ib109175b2e1a9f9f6b96355d29f9f9a95c303957,Debian: uwsgi/threads with 1 as default,MERGED,2021-04-19 17:01:20.000000000,2021-04-25 04:00:44.000000000,2021-04-25 03:59:28.000000000,16,7,6,786934,f7be71fd20becc492ca2855cdf0b93e2908e8ba2,29,3,3,5,6476,Thomas Goirand,thomas-goirand,"Debian: uwsgi/threads with 1 as default

We should not tweak the number of threads, nova-api is only
mono-threaded and will currently refuse to work with anything
else than 1.

So this patch sets 1 by default, and warns if wsgi::uwsgi is
called with something else.

Change-Id: Ib109175b2e1a9f9f6b96355d29f9f9a95c303957
"
openstack%2Fbarbican~master~Ib780fe16282ea338e98c9c34b31d80bebafdcf52,openstack/barbican,master,fix/keylengthmatch,Ib780fe16282ea338e98c9c34b31d80bebafdcf52,Fix symmetric algorithms and key lengths matching,NEW,2021-03-31 02:50:50.000000000,2021-04-25 01:38:36.000000000,,8,2,0,783994,7c0f0579184b02441c0cc301aa75a5ef719e3d27,3,4,1,2,32948,liukai02,liukai02,"Fix symmetric algorithms and key lengths matching

This patch fixes an error key length check. For example,
DES only supports 64 length.

Without this patch Barbican can generate the wrong length keys.

Change-Id: Ib780fe16282ea338e98c9c34b31d80bebafdcf52
"
openstack%2Fcinder-tempest-plugin~master~If8c4f2290c08b38a88d02cbf361c999e3c4f8fbd,openstack/cinder-tempest-plugin,master,,If8c4f2290c08b38a88d02cbf361c999e3c4f8fbd,remove unicode from code,ABANDONED,2021-03-01 09:22:07.000000000,2021-04-25 01:24:19.000000000,,2,2,0,777943,e73864b320e94ea8cbb419a3fc7d7c427a8497f3,4,2,1,1,32291,wushiming,wushiming,"remove unicode from code

In Python 3, all strings are represented in Unicode. In Python 2 are
stored internally as 8-bit ASCII, hence it is required to attach 'u'
to make it Unicode. It is no longer necessary now.

Change-Id: If8c4f2290c08b38a88d02cbf361c999e3c4f8fbd
"
openstack%2Fkarbor-dashboard~master~I89d406324ff739c1988e171b9c3e148069b74715,openstack/karbor-dashboard,master,,I89d406324ff739c1988e171b9c3e148069b74715,Bump hacking min version to 3.0.1,ABANDONED,2020-09-22 08:06:01.000000000,2021-04-25 01:23:47.000000000,,1,1,0,753244,da32fed60f4297844be81242a316c7bb9d289f8f,3,1,1,1,32291,wushiming,wushiming,"Bump hacking min version to 3.0.1

hacking 3.0.1 fix the pinning of flake8 to avoid bringing in a new
version with new checks.

bumping the min version for hacking so that any older hacking versions
which auto adopt the new checks are not used.

Change-Id: I89d406324ff739c1988e171b9c3e148069b74715
"
openstack%2Fmurano~master~If9f7e5a52f09c47ff1c8684194af38014a92dc46,openstack/murano,master,,If9f7e5a52f09c47ff1c8684194af38014a92dc46,Remove the unused coding style modules,ABANDONED,2020-09-29 09:53:30.000000000,2021-04-25 01:23:28.000000000,,0,7,0,754954,5d0e8cc2e2597cb20f2455d88eea446e0e65d6cd,3,1,1,1,32291,wushiming,wushiming,"Remove the unused coding style modules

Python modules related to coding style checks (listed in blacklist.txt in
openstack/requirements repo) are dropped from lower-constraints.txt
as they are not actually used in tests (other than pep8).

more info: https://github.com/openstack/requirements/blob/master/blacklist.txt

Change-Id: If9f7e5a52f09c47ff1c8684194af38014a92dc46
"
openstack%2Fpython-openstackclient~master~I09567f7044c5fee59531a85a367c91654960d393,openstack/python-openstackclient,master,,I09567f7044c5fee59531a85a367c91654960d393,Drop lower-constraints job,ABANDONED,2021-01-15 09:29:35.000000000,2021-04-25 01:23:04.000000000,,0,1,0,770915,20c215797ae72784f76f9321c2e8fb8bb10da6bf,4,2,1,1,32291,wushiming,wushiming,"Drop lower-constraints job

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: I09567f7044c5fee59531a85a367c91654960d393
"
openstack%2Fopenstacksdk~master~Ifb50be8eb41c8bad53e4b6e9462dfad2496d0d0f,openstack/openstacksdk,master,,Ifb50be8eb41c8bad53e4b6e9462dfad2496d0d0f,Drop lower-constraints job,ABANDONED,2021-01-13 02:19:19.000000000,2021-04-25 01:22:29.000000000,,0,1,1,770527,ba75f9ed0b109cadedf73e3ac0b532baad649b5f,9,4,2,1,32291,wushiming,wushiming,"Drop lower-constraints job

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: Ifb50be8eb41c8bad53e4b6e9462dfad2496d0d0f
"
openstack%2Fmanila~master~I8598f8a00f4fb8d1cbd912db73d9baa7cbaf9eab,openstack/manila,master,,I8598f8a00f4fb8d1cbd912db73d9baa7cbaf9eab,DNM: Testing ...,ABANDONED,2021-03-25 11:25:09.000000000,2021-04-24 21:46:20.000000000,,0,0,0,782954,dc5b2b4d7fb7880963713e6b071a69fc7873d371,12,1,1,1,9003,Tom Barron,tbarron,"DNM: Testing ...

Testing with create share from snapshot in CephFS patch
plus tempest changes to enable corresponding tests,
to skip a broken test.  Also use a proposed devstack-plugin
patch that adjusts auth ID caps for manila running  with
the newer version CephFS cluster.

Depends-on: https://review.opendev.org/c/openstack/manila/+/741560
Depends-on: https://review.opendev.org/c/openstack/manila-tempest-plugin/+/778188
Depends-on: https://review.opendev.org/c/openstack/manila-tempest-plugin/+/782947
Depends-on: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/782855

Change-Id: I8598f8a00f4fb8d1cbd912db73d9baa7cbaf9eab
"
openstack%2Fansible-role-collect-logs~master~Icc852641c654294e6ac4da18d2cc608ad8dddb9b,openstack/ansible-role-collect-logs,master,,Icc852641c654294e6ac4da18d2cc608ad8dddb9b,add cephadm.log to logstash for indexing,MERGED,2021-04-13 01:48:49.000000000,2021-04-24 21:32:19.000000000,2021-04-24 21:32:19.000000000,1,0,0,786000,a7397018be9a8cbf8e2b71d0bd77ac5d0a86feb1,33,6,1,1,9592,wes hayutin,weshayutin,"add cephadm.log to logstash for indexing

new ceph deployments log the install
to /var/log/ceph/cephadm.log

Change-Id: Icc852641c654294e6ac4da18d2cc608ad8dddb9b
"
openstack%2Fneutron~stable%2Fussuri~I6a40e6e3f937fa30bbb29768211ec8e689d4f82a,openstack/neutron,stable/ussuri,delete_net_fip_opt-stable/ussuri,I6a40e6e3f937fa30bbb29768211ec8e689d4f82a,Get only FIP ID on network delete,MERGED,2021-04-22 08:44:02.000000000,2021-04-24 21:18:42.000000000,2021-04-24 21:17:10.000000000,13,5,0,787487,d9047ec5dbe30e11a63ab6cfa007b062759c7633,38,3,1,2,5948,Oleg Bondarev,obondarev,"Get only FIP ID on network delete

Get FloatingIP object results in a quite heavy DB request.
delete_disassociated_floatingips() only needs IDs.

Change-Id: I6a40e6e3f937fa30bbb29768211ec8e689d4f82a
(cherry picked from commit 282dc73e129b84b828d9d1d815b0b95afe093e11)
"
openstack%2Fneutron~stable%2Ftrain~I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,openstack/neutron,stable/train,def_sg_opt-stable/train,I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,Remove redundant _ensure_default_security_group,MERGED,2021-04-22 08:36:43.000000000,2021-04-24 21:18:39.000000000,2021-04-24 21:17:17.000000000,0,3,0,787484,ff946b9d51dc5642e58af0c33a663cdfbf6c77d5,35,4,1,1,32667,Mamatisa Nurmatov,isabek,"Remove redundant _ensure_default_security_group

_ensure_default_security_group() is done in
_ensure_default_security_group_handler [1] on each port BEFORE_CREATE
event. No need to ensure once again right after sending this event.

[1] https://github.com/openstack/neutron/blob/084fa99874e882649aa6895941fa913b2b852868/neutron/db/securitygroups_db.py#L894

TrivialFix

Change-Id: I1bfe2a50b52502b5ab3631c016a617f7a9756cc6
(cherry picked from commit bdf1416958f79e8076397fcbf2fbbc920f964b37)
"
openstack%2Fkolla-ansible~master~I91e5c1840ace8f567daf462c4eb3ec1f0c503823,openstack/kolla-ansible,master,bp/ansible-pacemaker-support,I91e5c1840ace8f567daf462c4eb3ec1f0c503823,Add HAcluster Ansible role,MERGED,2019-07-10 15:41:54.000000000,2021-04-24 18:51:50.000000000,2021-04-09 17:59:51.000000000,627,14,25,670104,9f578c85e0b4e498e9bfb7d3795a9db1c545a611,161,7,50,34,16006,goldyfruit,goldyfruit,"Add HAcluster Ansible role

Adds HAcluster Ansible role. This role contains High Availability
clustering solution composed of Corosync, Pacemaker and Pacemaker Remote.

HAcluster is added as a helper role for Masakari which requires it for
its host monitoring, allowing to provide HA to instances on a failed
compute host.

Kolla hacluster images merged in [1].

[1] https://review.opendev.org/#/c/668765/

Change-Id: I91e5c1840ace8f567daf462c4eb3ec1f0c503823
Implements: blueprint ansible-pacemaker-support
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
Co-Authored-By: Mark Goddard <mark@stackhpc.com>
"
openstack%2Ftripleo-quickstart-extras~master~I1349ea5f32bb6a9746fd56a72ac9957814a21086,openstack/tripleo-quickstart-extras,master,,I1349ea5f32bb6a9746fd56a72ac9957814a21086,use quiet mode for repolist,MERGED,2021-04-19 19:51:07.000000000,2021-04-24 18:19:39.000000000,2021-04-24 18:19:39.000000000,5,1,2,786949,28ed26003c5902fb7fe28128f5cafe9a85335450,40,5,9,2,9592,wes hayutin,weshayutin,"use quiet mode for repolist

* use quiet mode
* also add new errors to skip w/ ceph

Change-Id: I1349ea5f32bb6a9746fd56a72ac9957814a21086
"
openstack%2Fnova~master~I7ef2a2e29704c365241f70347b53cbb7a13c458d,openstack/nova,master,bug/1882521,I7ef2a2e29704c365241f70347b53cbb7a13c458d,Move instance power state check to _detach_with_retry,MERGED,2021-03-05 13:41:05.000000000,2021-04-24 17:49:57.000000000,2021-04-24 17:48:28.000000000,73,82,9,778918,257b4d83d9c7c91ac2dc5b1523a58becd9d1dd41,71,5,6,2,9708,Balazs Gibizer,gibi,"Move instance power state check to _detach_with_retry

Based on comments in I7f2b6330decb92e2838aa7cee47fb228f00f47da the power
state check now can be moved to be in a common place, in
_detach_with_retry, instead of being at multiple places on the caller
side. So this patch moves the that logic.

Change-Id: I7ef2a2e29704c365241f70347b53cbb7a13c458d
"
openstack%2Fnetworking-ovn~stable%2Ftrain~Ib6eb02100cedc152ce589e67c0e7da74b26a6218,openstack/networking-ovn,stable/train,bug/1904871,Ib6eb02100cedc152ce589e67c0e7da74b26a6218,[OVN] Ensure metadata checksum,MERGED,2021-04-14 11:09:58.000000000,2021-04-24 17:42:08.000000000,2021-04-24 17:40:57.000000000,52,2,3,786203,2a606734d598e598eb6f7851c971469f19429428,37,4,3,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[OVN] Ensure metadata checksum

Ensure the TCP traffic leaving the OVN metadata namespace has
the checksum correctly populated. This is necessary when the
OVS datapath is ""netdev"".

Because the overhead added is minimal and only applies to the
metadata traffic inside the metadata namespace, this rule is
always set.

NOTE: this patch also includes [1], that fixes a bug introduced
by the original patch.

[1]https://review.opendev.org/c/openstack/neutron/+/772286

Manually cherry-picked from
https://review.opendev.org/c/openstack/neutron/+/763745/12

Closes-Bug: #1904871

Change-Id: Ib6eb02100cedc152ce589e67c0e7da74b26a6218
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Icef2481b65b41b524ad44eeecfbee4451006e1d2,openstack/tripleo-heat-templates,stable/train,1917719-train,Icef2481b65b41b524ad44eeecfbee4451006e1d2,Use single NovaLibvirtNetwork to configure instance console components,MERGED,2021-03-19 10:14:24.000000000,2021-04-24 15:07:01.000000000,2021-04-24 15:05:14.000000000,19,16,0,781614,860a68a4a9e31df4c9224833b094d1ef8173c0f4,31,10,2,5,17216,Martin Schuppert,mcschupp,"Use single NovaLibvirtNetwork to configure instance console components

Nova vnc configuration right now uses NovaVncProxyNetwork,
NovaLibvirtNetwork and NovaApiNetwork to configure the different
components (novnc proxy, nova-compute and libvirt) for vnc.
If one of the networks get changed from internal_api, the service
configuration between libvirt, nova-compute and novnc proxy gets
inconsistent and the console is broken.
This changed to just use NovaLibvirtNetwork for configuring the vnc
endpoints and removes NovaVncProxyNetwork completely.

Conflicts:
 deployment/nova/nova-vnc-proxy-container-puppet.yaml

Added missing change from https://review.opendev.org/c/openstack/tripleo-heat-templates/+/786082

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/781613

Change-Id: Icef2481b65b41b524ad44eeecfbee4451006e1d2
Closes-Bug: #1917719
(cherry picked from commit dadf71fcae73825888b8ed4850de5a6ecf2fc29d)
(cherry picked from commit 05b191d3e6254fcd6ded4fd8161456f3d5d89632)
(cherry picked from commit 6c80882f9f52a442400646785def50f5bb8ec4ee)
"
openstack%2Ftripleo-validations~master~I94393de4a71a92c12f8d427748853d7ff2ce5a02,openstack/tripleo-validations,master,,I94393de4a71a92c12f8d427748853d7ff2ce5a02,More detail in arg validation,MERGED,2021-01-29 23:12:20.000000000,2021-04-24 15:06:01.000000000,2021-04-24 15:06:01.000000000,10,3,6,773193,040fd0486e123e5490fe42007194bb9c11a4087f,23,8,5,1,27419,David Vallee Delisle,dvd,"More detail in arg validation

There's no reason to forbid --list and --static-yaml-inventory
Also, we should return an error if both --list and --host are
defined.

Change-Id: I94393de4a71a92c12f8d427748853d7ff2ce5a02
"
openstack%2Ftripleo-heat-templates~master~I5a0743ef9ef1d5ab63e87bce2d47c1999974a0e7,openstack/tripleo-heat-templates,master,,I5a0743ef9ef1d5ab63e87bce2d47c1999974a0e7,Don't create/configure swift_temp_url_key,MERGED,2021-04-20 04:53:47.000000000,2021-04-24 15:05:45.000000000,2021-04-24 15:05:45.000000000,2,0,0,787068,59e4788ab9fcd1f13a58741570a54de73412cc13,28,5,2,2,8833,Rabi Mishra,rabi,"Don't create/configure swift_temp_url_key

Now that we've disabled swift on the undercloud by default, there
is no need to create and configure Temp-Url-Key.

Enable it when enabling nova, as it's required by ironic.

Change-Id: I5a0743ef9ef1d5ab63e87bce2d47c1999974a0e7
"
openstack%2Ftripleo-heat-templates~master~I0bd6da56605d2699f1bcda5ea24848296b380d25,openstack/tripleo-heat-templates,master,aodh-at-params,I0bd6da56605d2699f1bcda5ea24848296b380d25,Aodh: define authtoken parameters in AodhApi service,MERGED,2021-04-21 14:01:17.000000000,2021-04-24 15:05:28.000000000,2021-04-24 15:05:28.000000000,8,8,0,787373,23434faf920dc4760c38553bd7cc74cf61dc4172,21,5,1,2,9816,Takashi Kajinami,kajinamit,"Aodh: define authtoken parameters in AodhApi service

... because these parameters are used in aodh-api service only.

Change-Id: I0bd6da56605d2699f1bcda5ea24848296b380d25
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Id6fc08bce5673a41fd9fa5cb27f41c9786f560da,openstack/tripleo-heat-templates,stable/victoria,bug/1918418-stable/victoria,Id6fc08bce5673a41fd9fa5cb27f41c9786f560da,Set vlan-limit value depending on vlan_transparent setting,MERGED,2021-03-31 07:10:28.000000000,2021-04-24 15:05:04.000000000,2021-04-24 15:05:04.000000000,12,0,0,783930,4260d30eae0b83789d0bdb9b027be7e88176e187,15,3,1,1,11975,Slawek Kaplonski,slaweq,"Set vlan-limit value depending on vlan_transparent setting

In case when vlan_transparent in Neutron is enabled,
other_config:vlan-limit should be set to value ""0"" in the openvswitch on
all nodes.

Related-Bug: #1918418

Depends-On: https://review.opendev.org/c/openstack/puppet-vswitch/+/783215
Change-Id: Id6fc08bce5673a41fd9fa5cb27f41c9786f560da
(cherry picked from commit e6801cebc81f25b6198cf29b4a5ab7308e16d5fd)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Icd950dc54a13a2a82820c23b27fedcf3c353403e,openstack/tripleo-heat-templates,stable/victoria,,Icd950dc54a13a2a82820c23b27fedcf3c353403e,Correct spelling mistake,MERGED,2021-03-31 05:15:02.000000000,2021-04-24 15:04:59.000000000,2021-04-24 15:04:59.000000000,1,1,0,783926,c2e62032b1346accf10b196112e54519fe063a23,14,5,1,1,19138,Pranali Deore,PranaliD,"Correct spelling mistake

Ref: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/774201

Change-Id: Icd950dc54a13a2a82820c23b27fedcf3c353403e
(cherry picked from commit 6373ebf9b14c1bb8ad2c326b14964c97d104d65d)
"
openstack%2Fnova~master~I7ecbedb467b08859cbc784a0f2e949092bdb84ad,openstack/nova,master,trivial,I7ecbedb467b08859cbc784a0f2e949092bdb84ad,network: Remove 'kwargs' from 'get_instance_nw_info',NEW,2020-08-05 09:49:53.000000000,2021-04-24 13:28:20.000000000,,29,10,0,744872,65dcbc0224b25802aa133d56834c7f1cd7664c79,50,14,5,2,15334,Stephen Finucane,sfinucan,"network: Remove 'kwargs' from 'get_instance_nw_info'

We know what the parameters are going to be. This is unnecessary now.

Change-Id: I7ecbedb467b08859cbc784a0f2e949092bdb84ad
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Ftripleo-common~stable%2Ftrain~I0e45090f8db1c1737e69ce906a12027bfe5c3ef0,openstack/tripleo-common,stable/train,bug/1907214,I0e45090f8db1c1737e69ce906a12027bfe5c3ef0,Add host_vars to define tasks executed before network configurations,MERGED,2021-04-19 15:23:11.000000000,2021-04-24 13:19:10.000000000,2021-04-24 13:17:56.000000000,23,0,0,786902,f86958465cc342a7b1b5947b586467a1f2ff3d80,10,3,1,6,9816,Takashi Kajinami,kajinamit,"Add host_vars to define tasks executed before network configurations

This change is a prep work to ensure tasks defined in ExtraConfigPre
and NodeExtraConfig are executed after network configurations.

Related-Bug: #1907214
Change-Id: I0e45090f8db1c1737e69ce906a12027bfe5c3ef0
(cherry picked from commit f19f451f88141c656c18a1c2a96b49874cfb1b0d)
(cherry picked from commit adfee2e68d9efaac7b7b3f24f428ee1d366003cb)
(cherry picked from commit 8a3a319492b82034b0e3515b5c4fa9c032148511)
"
openstack%2Ftripleo-common~stable%2Fussuri~I0e45090f8db1c1737e69ce906a12027bfe5c3ef0,openstack/tripleo-common,stable/ussuri,bug/1907214,I0e45090f8db1c1737e69ce906a12027bfe5c3ef0,Add host_vars to define tasks executed before network configurations,MERGED,2021-04-19 15:22:33.000000000,2021-04-24 12:02:41.000000000,2021-04-24 12:01:11.000000000,23,0,0,786901,8a3a319492b82034b0e3515b5c4fa9c032148511,13,3,1,6,9816,Takashi Kajinami,kajinamit,"Add host_vars to define tasks executed before network configurations

This change is a prep work to ensure tasks defined in ExtraConfigPre
and NodeExtraConfig are executed after network configurations.

Related-Bug: #1907214
Change-Id: I0e45090f8db1c1737e69ce906a12027bfe5c3ef0
(cherry picked from commit f19f451f88141c656c18a1c2a96b49874cfb1b0d)
(cherry picked from commit adfee2e68d9efaac7b7b3f24f428ee1d366003cb)
"
openstack%2Ftripleo-common~master~I23157ad3a96553047a52f10ed203f71366da49ef,openstack/tripleo-common,master,drop-skopeo,I23157ad3a96553047a52f10ed203f71366da49ef,Drop SkopeoImageUploader,MERGED,2021-04-20 21:48:18.000000000,2021-04-24 11:20:26.000000000,2021-04-24 11:19:20.000000000,5,448,9,787292,5ab57a4dce8431a67155d3525861b1566b18f2aa,12,5,2,3,14985,Alex Schultz,mwhahaha,"Drop SkopeoImageUploader

This removes the skopeo based container image uploader which was
deprecated back in stein. It doesn't work with our image-serve registry
so let's drop this code and dependency.

Change-Id: I23157ad3a96553047a52f10ed203f71366da49ef
"
openstack%2Fopenstacksdk~master~I2c6a42d481a533b522198127dc6d318d1d2d3752,openstack/openstacksdk,master,,I2c6a42d481a533b522198127dc6d318d1d2d3752,Switch to openstack-python3-xena-jobs template,MERGED,2021-04-23 14:29:29.000000000,2021-04-24 10:58:42.000000000,2021-04-24 10:55:14.000000000,1,1,0,787758,60ed1fa5e0fdc99634ebdc12933ebd76226645ac,7,2,1,1,27900,Artem Goncharov,gtema,"Switch to openstack-python3-xena-jobs template

We somehow missed to update the template jobs. Do this now and switch
directly to xena.

Change-Id: I2c6a42d481a533b522198127dc6d318d1d2d3752
"
openstack%2Fnova~master~I4f2d01a4cf443f9c539158e77032cd3d8ce24ad7,openstack/nova,master,inclusive_jargon,I4f2d01a4cf443f9c539158e77032cd3d8ce24ad7,Switch to new rolevar for run-tempest role,MERGED,2021-02-10 23:11:18.000000000,2021-04-24 09:55:13.000000000,2021-04-24 09:37:23.000000000,8,8,4,775040,9d285e0bb4447038d231d70d0dac0f4d7d5b689a,85,8,3,2,8556,Ghanshyam,ghanshyam,"Switch to new rolevar for run-tempest role

Tempest replaced the below rolevar for run-tempest role
- tempest_test_blacklist is replaced by tempest_test_exclude_list
- tempest_black_regex is replaced by tempest_exclude_regex

old name are still supported for compatiblity but we recommend
to switch to new one.

Change-Id: I4f2d01a4cf443f9c539158e77032cd3d8ce24ad7
"
openstack%2Fnova~master~I1c12b2903c1e5bf3a88394493456ad33233f3cd8,openstack/nova,master,,I1c12b2903c1e5bf3a88394493456ad33233f3cd8,guestfs: With libguestfs >= v1.41.1 decode returned bytes to string,MERGED,2021-04-23 11:30:41.000000000,2021-04-24 09:41:35.000000000,2021-04-24 09:36:58.000000000,11,4,11,787712,606d588e3eca1d88ad26b4c2cfa3f2e1d5ed553e,27,5,2,3,10135,Lee Yarwood,lyarwood,"guestfs: With libguestfs >= v1.41.1 decode returned bytes to string

libguestfs >= v1.41.1 and commit 0ee02e0117527 changed the return type
of read_file from string to bytes.

https://github.com/libguestfs/libguestfs/commit/0ee02e0117527b86a31b2a88a14994ce7f15571f

As we don't check the version of libguestfs installed this change
handles both the original behaviour where a string is returned and the
newer behaviour by decoding any returned bytes to a string.

Closes-Bug: #1882421
Change-Id: I1c12b2903c1e5bf3a88394493456ad33233f3cd8
"
openstack%2Fneutron~stable%2Fwallaby~Icd69bca23d781bace580b3937bc8bd25b586e852,openstack/neutron,stable/wallaby,bug/1923870-stable/wallaby,Icd69bca23d781bace580b3937bc8bd25b586e852,Initialize privsep library in Neutron commands,MERGED,2021-04-22 15:26:50.000000000,2021-04-24 09:41:14.000000000,2021-04-24 09:38:03.000000000,3,0,0,787495,de78aaec9d2f477fab4fa3ac1061a050a515bdaf,32,4,1,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Initialize privsep library in Neutron commands

Since the migration to privsep, some Neutron commands execute methods
under a privsep context. The privsep library must be initialized first.

Change-Id: Icd69bca23d781bace580b3937bc8bd25b586e852
Closes-Bug: #1923870
(cherry picked from commit 088f1298f26ac04da0ebea2a905378690677ff70)
"
openstack%2Fneutron~master~I8a851b17f3a398f1318800b5a97eb66330c91ce5,openstack/neutron,master,secure-rbac,I8a851b17f3a398f1318800b5a97eb66330c91ce5,Allow system_scope personas (SYSTEM_ADMIN) to create router,MERGED,2021-04-12 13:17:59.000000000,2021-04-24 09:17:05.000000000,2021-04-24 09:15:22.000000000,1,1,0,785872,26e0d47cc59f88941d7e7fa46bff5f06ef437ee4,49,6,1,1,11975,Slawek Kaplonski,slaweq,"Allow system_scope personas (SYSTEM_ADMIN) to create router

Related-blueprint: bp/secure-rbac-roles
Change-Id: I8a851b17f3a398f1318800b5a97eb66330c91ce5
"
openstack%2Fdesignate~stable%2Fstein~I9dddd4130a0cbb29311eeb52e077e216c8c03f3a,openstack/designate,stable/stein,bug/1879798,I9dddd4130a0cbb29311eeb52e077e216c8c03f3a,Update zones masters using pool target masters.,MERGED,2020-08-04 22:18:35.000000000,2021-04-24 08:14:22.000000000,2021-04-24 08:12:59.000000000,135,0,0,744796,0b5634643b4b69cd0a7d5499f258602604741d22,37,5,5,4,2276,Jorge Niedbalski,niedbalski,"Update zones masters using pool target masters.

This change enforces the update of the zone masters
for all zones that belongs to a particular pool, using
the pool's defined target(s) masters and forcing a update_zone
call.

This change also, moves the backend base class update_zone
method as an abstract method, allowing to each backend
implementation to create its own update logic. For the
case of bind9 its extended to allow running a rndc modzone
with the new given masters for the zone fixing the behavior
exposed on LP: #1879798.

Fixes-Bug: #1879798

Change-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
(cherry picked from commit 3756fc51e71aaf0ba7cfb9155ca5d1de26ab78bc)
"
openstack%2Fdiskimage-builder~master~Ie9f5c9ed06954cbe51f23fe8cca0655a931a5201,openstack/diskimage-builder,master,install-pbr-for-glean,Ie9f5c9ed06954cbe51f23fe8cca0655a931a5201,Install pbr before glean to address SNI issues,MERGED,2021-04-23 22:05:28.000000000,2021-04-24 07:08:12.000000000,2021-04-24 07:06:55.000000000,6,0,0,787827,da674c4e5b3a18b6d15e377f98c685c9a7632a47,14,3,1,2,4146,Clark Boylan,cboylan,"Install pbr before glean to address SNI issues

Some older distros (like centos8 and xenial) don't support SNI in their
easy_install implementations which are used to install setup_requires
for python packages. PBR is a setup_requires for glean. We work around
this problem when installing glean by preinstalling PBR with pip.

Change-Id: Ie9f5c9ed06954cbe51f23fe8cca0655a931a5201
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I9953ed63ea58440008ddf7408696cfd0e722341a,openstack/python-tripleoclient,stable/train,,I9953ed63ea58440008ddf7408696cfd0e722341a,[train-only] Trap empty role data,MERGED,2021-04-21 13:08:41.000000000,2021-04-24 06:47:23.000000000,2021-04-24 06:45:04.000000000,12,8,6,787363,73d1ee2707c61dc495030c8cccb0ca60d46a9213,27,8,5,1,27419,David Vallee Delisle,dvd,"[train-only] Trap empty role data

If there's no config_settings for a node during initial deployment,
tripleoclient breaks.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1952017
Change-Id: I9953ed63ea58440008ddf7408696cfd0e722341a
"
openstack%2Ftripleo-ci~master~Id37015c1fa3a3a4f4cfdede06671c5bb96450e78,openstack/tripleo-ci,master,ci/validation/repo,Id37015c1fa3a3a4f4cfdede06671c5bb96450e78,"Revert ""Add VF roles as external repos for tripleo ci""",MERGED,2021-04-22 06:55:42.000000000,2021-04-24 06:45:07.000000000,2021-04-24 06:45:07.000000000,1,3,0,787392,174cdfa2667eea3d3a38d6a36c9725db3b3a3a4e,15,12,2,2,29775,Sandeep Yadav,sandeepyadav93,"Revert ""Add VF roles as external repos for tripleo ci""

This reverts commit 4bc33eec623095100d5b2e78dd682c6d36d36723.

Reason for revert: 
This was needed earlier when tripleo-validations and 
validations-common was added as tqe requirements[1].

We have removed tripleo-validations and validations-common
as tqe requirement in [2] and this is not needed anymore.
After [2] tripleo-validations and validations-common is coming
from rpm.

[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/756328
[2] https://review.opendev.org/c/openstack/tripleo-quickstart/+/787443

Change-Id: Id37015c1fa3a3a4f4cfdede06671c5bb96450e78
"
openstack%2Ftripleo-quickstart~master~I02dcd4a92fb491c2c6b2752c281a0b5de2d3cbb7,openstack/tripleo-quickstart,master,wallaby-branching,I02dcd4a92fb491c2c6b2752c281a0b5de2d3cbb7,Add CloudSIG wallaby release file,MERGED,2021-04-23 09:32:09.000000000,2021-04-24 06:32:40.000000000,2021-04-24 06:30:30.000000000,130,0,0,787697,57635ad24821eeeaa92f6028145120ba71af3e18,11,7,1,1,13861,yatin,yatinkarel,"Add CloudSIG wallaby release file

Add release file for Testing CloudSIG wallaby repo [1].
This will be used to run a scenario001 job in RDO which
will build containers using CloudSIG repo and then deploy
those containers.

[1] http://mirror.centos.org/centos/8-stream/cloud/x86_64/openstack-wallaby/

Change-Id: I02dcd4a92fb491c2c6b2752c281a0b5de2d3cbb7
"
openstack%2Ftripleo-ansible~master~I3657169a3b519869f7f3594c8c6a6072a058e0c8,openstack/tripleo-ansible,master,tmpfix,I3657169a3b519869f7f3594c8c6a6072a058e0c8,Add --no-stream to all tripleo-repos in molecule jobs,MERGED,2021-04-22 09:03:54.000000000,2021-04-24 06:30:35.000000000,2021-04-24 06:30:35.000000000,6,6,9,787510,2aecb0131c4b1394ea37e4a01fcc47db84a2c2cf,29,10,3,6,10969,Shnaidman Sagi (Sergey),sergsh,"Add --no-stream to all tripleo-repos in molecule jobs

After --stream added as default in [1] molecule jobs fail when they
don't have stream nodes.

[1] https://review.opendev.org/c/openstack/tripleo-repos/+/786485

Change-Id: I3657169a3b519869f7f3594c8c6a6072a058e0c8
"
openstack%2Fheat~master~Iaa2c05b4155d93f44de60b6f98a69450c1512817,openstack/heat,master,,Iaa2c05b4155d93f44de60b6f98a69450c1512817,Preserve order in list_concat_unique,MERGED,2021-04-23 04:33:48.000000000,2021-04-24 05:55:39.000000000,2021-04-24 05:54:20.000000000,8,6,0,787662,a8f8528d1ea1952cf76bd09fd27cbd65a978af65,28,5,3,2,8833,Rabi Mishra,rabi,"Preserve order in list_concat_unique

Also, we should not modify a list when iterating
over it.

Task: 42359
Closes-Bug: #1925373
Change-Id: Iaa2c05b4155d93f44de60b6f98a69450c1512817
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I1046148da87712934184373a10fa3d2a46e620e4,openstack/python-tripleoclient,stable/train,,I1046148da87712934184373a10fa3d2a46e620e4,Replace exception with LOG.info,MERGED,2021-04-14 16:18:22.000000000,2021-04-24 05:15:11.000000000,2021-04-24 05:14:04.000000000,2,2,1,786278,83b2493358042a89526245c102b7833cf451c322,11,8,2,1,8297,Sofer Athlan-Guyot,chem,"Replace exception with LOG.info

This is a backport of [1] but in between now and then the code in
tripleo_validation was move back into python-tripleoclient[2] and the
review in [1] was included.

This means that we cannot have a review in master as it's already
there.

[1] https://review.opendev.org/c/openstack/tripleo-validations/+/777220
[2] https://review.opendev.org/c/openstack/python-tripleoclient/+/782776

Original commit message:

Updated _run_validator_run to no longer raise an execption if/when a group is empty

Using a log vs. exception is useful when we want to run an automated set of validations
within our Update CI pipeline.

Co-authored-by: Owen McGonagle <omcgonag@redhat.com>
Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I1046148da87712934184373a10fa3d2a46e620e4
(cherry picked from commit 0debcde236a75a501eb47f11b31508a28d795271)
"
openstack%2Ftripleo-common~stable%2Ftrain~If85ca7a92152e834bffb7fad69d71668f7ed362b,openstack/tripleo-common,stable/train,,If85ca7a92152e834bffb7fad69d71668f7ed362b,Fix neutron driver detection for containers params,MERGED,2021-04-19 07:32:20.000000000,2021-04-24 04:48:11.000000000,2021-04-24 04:47:00.000000000,2,0,0,786822,e28d539d985cf7ee9a882662b0e68765f22156a6,9,4,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Fix neutron driver detection for containers params

If neutorn driver is set, use it for container parameters.

Close-Bug: rhbz#1930438
Change-Id: If85ca7a92152e834bffb7fad69d71668f7ed362b
(cherry picked from commit 5104fdf58941f57b00beb05a8d3253b6b3a6e0d7)
"
openstack%2Ftripleo-quickstart~master~I59f0a50a88d4f770712e34c943b71b9379d8e2a2,openstack/tripleo-quickstart,master,bug/1925470,I59f0a50a88d4f770712e34c943b71b9379d8e2a2,"Add ""/usr/share/ansible/roles"" in role_path",MERGED,2021-04-22 13:54:31.000000000,2021-04-24 04:48:09.000000000,2021-04-24 04:47:03.000000000,1,1,1,787567,acabae48be4cc049e9010097d2835bc7aa21f305,21,5,2,1,29775,Sandeep Yadav,sandeepyadav93,"Add ""/usr/share/ansible/roles"" in role_path

We have removed tripleo-validations and validations-common
as tqe requirement in [1]. These package now comes via rpm, The role
is present in ""/usr/share/ansible/roles"" and not via oooq virtualenv.

Closes-Bug: #1925470
[1]  https://review.opendev.org/c/openstack/tripleo-quickstart/+/787443

Change-Id: I59f0a50a88d4f770712e34c943b71b9379d8e2a2
"
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I14be16052677bf3426a88ec4b5299f9502007472,openstack/puppet-tripleo,stable/victoria,bug/1917868-stable/victoria,I14be16052677bf3426a88ec4b5299f9502007472,HA: inject public certificates without blocking container,MERGED,2021-03-30 15:57:43.000000000,2021-04-24 04:47:07.000000000,2021-04-24 04:47:07.000000000,34,7,0,783901,f6c88d0146a0ac35944433b11673f0bc036051ff,17,5,2,2,20778,Damien Ciabrini,dciabrin,"HA: inject public certificates without blocking container

Do not inject public certificates in pacemaker bundles by means
of ""podman cp"", as this pauses the container for a short amount
of time and can make pacemaker operation fail during that time
window and impact cluster for no reason.

Keep ""podman cp"" for non-HA containers, as the freeze is short
and doesn't seem to impact podman monitoring anyway.

The new certificate injection only works for podman 1.9+, lower
version won't overwrite the existing certificate.

Adapted from Id7308f028f33716be5e3df6699c3f2c12e33e344, as the
same behaviour is implemented in puppet-tripleo before wallaby.

Change-Id: I14be16052677bf3426a88ec4b5299f9502007472
Related-Bug: #1917868
"
openstack%2Fneutron~stable%2Fvictoria~I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,openstack/neutron,stable/victoria,def_sg_opt-stable/victoria,I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,Remove redundant _ensure_default_security_group,MERGED,2021-04-22 08:28:36.000000000,2021-04-24 04:23:41.000000000,2021-04-24 04:22:13.000000000,0,3,0,787480,8553127bac4d021704ae334759bb0f49aa7e14f8,27,4,1,1,32667,Mamatisa Nurmatov,isabek,"Remove redundant _ensure_default_security_group

_ensure_default_security_group() is done in
_ensure_default_security_group_handler [1] on each port BEFORE_CREATE
event. No need to ensure once again right after sending this event.

[1] https://github.com/openstack/neutron/blob/084fa99874e882649aa6895941fa913b2b852868/neutron/db/securitygroups_db.py#L894

TrivialFix

Change-Id: I1bfe2a50b52502b5ab3631c016a617f7a9756cc6
(cherry picked from commit bdf1416958f79e8076397fcbf2fbbc920f964b37)
"
openstack%2Ftripleo-heat-templates~master~I9c08189aaa4c8d8b3e4dcde38b1b2cd4146ac8e5,openstack/tripleo-heat-templates,master,bug/1925531,I9c08189aaa4c8d8b3e4dcde38b1b2cd4146ac8e5,Fix random redeploy failure during certificate extraction,MERGED,2021-04-22 16:56:23.000000000,2021-04-24 03:12:26.000000000,2021-04-24 03:12:26.000000000,2,1,3,787618,0419c90064b52037a16c78b3498a006da5eb0fd6,16,5,2,1,20778,Damien Ciabrini,dciabrin,"Fix random redeploy failure during certificate extraction

During the extraction of the local certificate, the ansible
task uses the output of an unregistered variable, so it
passes based on a random input.

Change-Id: I9c08189aaa4c8d8b3e4dcde38b1b2cd4146ac8e5
Closes-Bug: #1925531
"
openstack%2Fswift~master~I9765d65f12afec295d9eaae52858e4e7272c9c4c,openstack/swift,master,db_auditor_refactor,I9765d65f12afec295d9eaae52858e4e7272c9c4c,Refactor db auditors into a db_auditor base class,MERGED,2018-11-02 00:58:00.000000000,2021-04-24 02:40:03.000000000,2021-04-24 02:38:13.000000000,340,479,10,614895,4cb52b44dd490b6493798dc3c8188a1da7667559,21,2,5,7,7233,Matthew Oliver,mattoliverau,"Refactor db auditors into a db_auditor base class

The container and account auditors, and their tests are almost
identical. This patch reduces the code duplication by refactoring
into a base class called DatabaseAuditor.

This also means the container and account auditor tests have also mostly
been refactored.

Change-Id: I9765d65f12afec295d9eaae52858e4e7272c9c4c
"
openstack%2Fnova~stable%2Ftrain~Ib9ed7069cef5b73033351f7a78a3fb566753970d,openstack/nova,stable/train,bug/1882521,Ib9ed7069cef5b73033351f7a78a3fb566753970d,libvirt: Increase incremental and max sleep time during device detach,MERGED,2020-10-10 18:44:28.000000000,2021-04-24 02:40:01.000000000,2021-04-24 02:38:04.000000000,2,2,0,757307,618103db9bff9341a90342b372d8a77419e085f4,24,5,2,1,10135,Lee Yarwood,lyarwood,"libvirt: Increase incremental and max sleep time during device detach

Bug #1894804 outlines how DEVICE_DELETED events were often missing from
QEMU on Focal based OpenStack CI hosts as originally seen in bug
 #1882521. This has eventually been tracked down to some undefined QEMU
behaviour when a new device_del QMP command is received while another is
still being processed, causing the original attempt to be aborted.

We hit this race in slower OpenStack CI envs as n-cpu rather crudely
retries attempts to detach devices using the RetryDecorator from
oslo.service. The default incremental sleep time currently being tight
enough to ensure QEMU is still processing the first device_del request
on these slower CI hosts when n-cpu asks libvirt to retry the detach,
sending another device_del to QEMU hitting the above behaviour.

Additionally we have also seen the following check being hit when
testing with QEMU >= v5.0.0. This check now rejects overlapping
device_del requests in QEMU rather than aborting the original:

https://github.com/qemu/qemu/commit/cce8944cc9efab47d4bf29cfffb3470371c3541b

This change aims to avoid this situation entirely by raising the default
incremental sleep time between detach requests from 2 seconds to 10,
leaving enough time for the first attempt to complete. The overall
maximum sleep time is also increased from 30 to 60 seconds.

Future work will aim to entirely remove this retry logic with a libvirt
event driven approach, polling for the the
VIR_DOMAIN_EVENT_ID_DEVICE_REMOVED and
VIR_DOMAIN_EVENT_ID_DEVICE_REMOVAL_FAILED events before retrying.

Finally, the cleanup of unused arguments in detach_device_with_retry is
left for a follow up change in order to keep this initial change small
enough to quickly backport.

Closes-Bug: #1882521
Related-Bug: #1894804
Change-Id: Ib9ed7069cef5b73033351f7a78a3fb566753970d
(cherry picked from commit dd1e6d4b0cee465fd89744e306fcd25228b3f7cc)
(cherry picked from commit 4819f694b2e2d5688fdac7e850f1a6c592253d6b)
(cherry picked from commit f32286c62e11d43f6b01bc82caacf588447862e5)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~Ief089f699341d6ba4f33568a71e744a4f8106bc9,openstack/tripleo-ansible,stable/train,train_fix,Ief089f699341d6ba4f33568a71e744a4f8106bc9,Fix the way of calling firewalld,MERGED,2021-04-15 07:30:19.000000000,2021-04-24 00:51:49.000000000,2021-04-24 00:51:49.000000000,2,2,0,786364,74438cf03ec369f345021623a024a5a97dba41d3,28,9,2,1,32968,Juan Larriba,jlarriba,"Fix the way of calling firewalld

Firewalld was exported to the ansible.posix collection. However
 this collection notation will fail in ansible 2.9.

Change-Id: Ief089f699341d6ba4f33568a71e744a4f8106bc9
Closes-Bug: #1925446
"
openstack%2Fopenstacksdk~master~I99abe18e3d91d52fc580a3d75146d04ec3de775a,openstack/openstacksdk,master,,I99abe18e3d91d52fc580a3d75146d04ec3de775a,Drop jobs failing for too long,MERGED,2021-04-23 14:19:58.000000000,2021-04-24 00:05:37.000000000,2021-04-24 00:01:45.000000000,0,4,0,787754,ad82856beaab76e6cce2a446cedef75320233afd,8,3,1,1,27900,Artem Goncharov,gtema,"Drop jobs failing for too long

There are 2 jobs failing for a very long time and nobody taking care of
fixing them. Disable them for now while still keeping job definitions.

Change-Id: I99abe18e3d91d52fc580a3d75146d04ec3de775a
"
openstack%2Fcharm-guide~master~Icad0c415f324e818cb18d5abe61b475ce903ca11,openstack/charm-guide,master,bug/1921371,Icad0c415f324e818cb18d5abe61b475ce903ca11,Refresh intro pages,MERGED,2021-04-21 21:23:09.000000000,2021-04-23 23:25:50.000000000,2021-04-23 23:24:30.000000000,203,194,0,787445,d0a1199cf9ffd631bb7f3f7590099ab22813e38e,10,3,2,10,30561,Peter Matulis,pmatulis,"Refresh intro pages

Remove deployment page and merge contents with the
getting-started page.

Enhance the charm-store page and rename it to the
charms-and-bundles page. When ubuntu.com/openstack/docs
is ready the contents of this page will be moved to it
(and linked from getting-started).

Remove mailing-list page and merge contents with the
find-us page.

Remove meetings page as per team consensus.

Changes necessary on a few pages to compensate for
the above two changes/lines.

A few minor drive-by spelling and format fixes.

Closes-Bug: #1921371
Change-Id: Icad0c415f324e818cb18d5abe61b475ce903ca11
"
openstack%2Fcharm-guide~master~Icca5b1e1e228f38f1463c5fcdbbe46294bd0aac2,openstack/charm-guide,master,add-deferred-restarts,Icca5b1e1e228f38f1463c5fcdbbe46294bd0aac2,Add deferred event section,MERGED,2021-04-20 08:02:51.000000000,2021-04-23 22:54:11.000000000,2021-04-23 22:53:00.000000000,21,0,5,787142,9167d071c1542b841ad607c2fbe7715ee3282447,17,4,3,1,12549,gnuoy,gnuoy,"Add deferred event section

The main text has been moved to the CDG.

Depends-On: I612e34436bea4db2fbf213aa02e7a6b52ca8f0cb
Change-Id: Icca5b1e1e228f38f1463c5fcdbbe46294bd0aac2
"
openstack%2Foctavia~master~I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7,openstack/octavia,master,,I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7,Fix rsyslog configuration when disabling logs,MERGED,2021-03-29 07:26:13.000000000,2021-04-23 22:49:56.000000000,2021-04-23 22:48:08.000000000,35,13,0,783608,e26664de59eb872a85520c24b5701dae31cd75e9,14,5,2,3,29244,Gregory Thiemonge,gthiemonge,"Fix rsyslog configuration when disabling logs

Fix an invalid rsyslog configuration when disabling both log offloading
and local log storage.

Story 2008782
Task 42173

Change-Id: I3125cfc7b3bd12eed139b058fc2bb7f23f12abc7
"
openstack%2Foctavia~master~I27b54b5b2e93665aad771438e618ac02900ab123,openstack/octavia,master,jobboard,I27b54b5b2e93665aad771438e618ac02900ab123,Fix jobboard_enabled setting in devstack,MERGED,2021-04-23 14:29:31.000000000,2021-04-23 22:41:01.000000000,2021-04-23 22:39:33.000000000,1,0,0,787759,190d6a33dcb63b32551a46bdc02763dc8855499d,10,4,1,1,29244,Gregory Thiemonge,gthiemonge,"Fix jobboard_enabled setting in devstack

When OCTAVIA_ENABLE_AMPHORAV2_JOBBOARD is True in devstack,
jobboard_enabled must be set to True.

Change-Id: I27b54b5b2e93665aad771438e618ac02900ab123
"
openstack%2Ftripleo-heat-templates~master~I09c62af87481e131c26c9d5f9faa16be349347b0,openstack/tripleo-heat-templates,master,rabbitmq-management,I09c62af87481e131c26c9d5f9faa16be349347b0,Allow access to RabbitMQ management plugin over network,MERGED,2021-04-16 15:04:54.000000000,2021-04-23 22:21:31.000000000,2021-04-23 22:21:31.000000000,23,5,0,786676,31674339d82ccbb882c50e1fe5c2e4536b277640,10,6,1,2,9816,Takashi Kajinami,kajinamit,"Allow access to RabbitMQ management plugin over network

This change introduces the new RabbitmqEnableManagementAccess parameter
so that operators can expose management plugin to specific network to
monitor status over network.

Change-Id: I09c62af87481e131c26c9d5f9faa16be349347b0
"
openstack%2Fironic~master~I9ff2d726cb75317fe09bd43342541db0e721f2b8,openstack/ironic,master,cleaning-token,I9ff2d726cb75317fe09bd43342541db0e721f2b8,Remove temporary cleaning information on starting cleaning,MERGED,2021-04-22 11:55:31.000000000,2021-04-23 21:25:15.000000000,2021-04-23 21:23:21.000000000,16,40,1,787536,f4a7002023ddbd41505342bbad43fb6e0f963ef4,21,3,2,5,10239,Dmitry Tantsur,dtantsur,"Remove temporary cleaning information on starting cleaning

Currently we only remove the URL, which may leave a stale token.

Change-Id: I9ff2d726cb75317fe09bd43342541db0e721f2b8
"
openstack%2Foctavia~master~I6a45d1256d24876923f82460beb7eae2511fa2f7,openstack/octavia,master,,I6a45d1256d24876923f82460beb7eae2511fa2f7,Fix ifup if the VIP secondary IP is already up,ABANDONED,2020-10-23 21:46:38.000000000,2021-04-23 20:48:09.000000000,,17,3,3,759527,1e9cd48add7284dd7a00b9fa1a54e965e64f48fd,4,2,1,2,11628,Michael Johnson,johnsom,"Fix ifup if the VIP secondary IP is already up

In some cases, when we call ifup on the secondary IP for the VIP
interface, we get an ""RTNETLINK answers: File exists"" error because
the interface has already been brought up.
This patch will log and ignore this error as the interface is already
up.

Change-Id: I6a45d1256d24876923f82460beb7eae2511fa2f7
Story: 2008272
Task: 41140
"
openstack%2Fneutron~stable%2Fvictoria~I44e573bd55e3631901d782d6d65987a58ca3e4fb,openstack/neutron,stable/victoria,bug/1925433,I44e573bd55e3631901d782d6d65987a58ca3e4fb,Remove SRIOV attach limitation from the doc,MERGED,2021-04-23 13:11:02.000000000,2021-04-23 19:54:26.000000000,2021-04-23 19:52:42.000000000,1,2,0,787610,d013a6bbbc5a2f2c64b2e3e93b3d4e090a05dd73,12,4,1,1,9708,Balazs Gibizer,gibi,"Remove SRIOV attach limitation from the doc

Since I67504a37b0fe2ae5da3cba2f3122d9d0e18b9481 Nova supports attaching
neutron ports backed by PCI devices. So the limitation can be removed
from the doc.

Closes-Bug: #1925433
Change-Id: I44e573bd55e3631901d782d6d65987a58ca3e4fb
(cherry picked from commit 947e8a041c22c97bf342b1498b837a5c3f553d95)
(cherry picked from commit d614e9dac7dd794a7fb02d37d090268f80f695b3)
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I5d1d891474e4d7b47f497c5bd0144ce24e291260,openstack/puppet-tripleo,stable/train,pin-puppetlabs-haproxy,I5d1d891474e4d7b47f497c5bd0144ce24e291260,stable-only: Pin puppetlabs-haproxy,MERGED,2021-04-22 12:56:03.000000000,2021-04-23 19:54:09.000000000,2021-04-23 19:54:09.000000000,1,1,0,787549,16f1acb9c295bab74f8e0f92270bc1643a3056a9,16,5,2,1,9816,Takashi Kajinami,kajinamit,"stable-only: Pin puppetlabs-haproxy

The puppetlabs-haproxy repo no longer has the master branch and
the master branch has been replaced by the main branch.
While we switched the branch in use in master[1], for stable branches
it is better to pin it to a specific version to avoid issue caused by
any future change in puppetlabs-haproxy.

The version is determined based on the version currently provided in
RDO.

Note for Train backport:
Resolved conflict caused by the following train-only patch.
        45b91c3f09b20dcdbf685ff265919a7a8906698d

Conflicts:
	Puppetfile_extras

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/786018/4/Puppetfile_extras
Change-Id: I5d1d891474e4d7b47f497c5bd0144ce24e291260
(cherry picked from commit f6852abbfb8caa2aa6376074b4ddf91c35b396f9)
(cherry picked from commit 379895e743f647839847a7f6968385f7e01a3613)
"
openstack%2Ftripleo-heat-templates~master~Id54a640f7a29d11d8b4bb54f4429fddf44d41946,openstack/tripleo-heat-templates,master,simplify_tht,Id54a640f7a29d11d8b4bb54f4429fddf44d41946,"Simplify horizon, ipservices templates",MERGED,2021-04-15 08:19:06.000000000,2021-04-23 19:53:48.000000000,2021-04-23 19:53:48.000000000,18,36,2,786370,6889ac2b3a3ee4f233de01be2ae12609bc3bef00,23,5,5,2,8833,Rabi Mishra,rabi,"Simplify horizon, ipservices templates

Change-Id: Id54a640f7a29d11d8b4bb54f4429fddf44d41946
"
openstack%2Ftripleo-heat-templates~master~I9992a4d2b0e2d3efe4e1622cb8ae3023be30624b,openstack/tripleo-heat-templates,master,simplify_tht,I9992a4d2b0e2d3efe4e1622cb8ae3023be30624b,Simplify haproxy service templates,MERGED,2021-04-15 07:03:34.000000000,2021-04-23 19:53:28.000000000,2021-04-23 19:53:28.000000000,30,63,2,786362,15ce9b6a255225af5bea80d4d86bac227114f017,25,5,4,5,8833,Rabi Mishra,rabi,"Simplify haproxy service templates

Change-Id: I9992a4d2b0e2d3efe4e1622cb8ae3023be30624b
"
openstack%2Ftripleo-heat-templates~master~I8235220cc0d1d699ac2abf993d6c49494613bdac,openstack/tripleo-heat-templates,master,,I8235220cc0d1d699ac2abf993d6c49494613bdac,Add DefaultRoute to deployed_port.j2,MERGED,2021-04-22 21:50:07.000000000,2021-04-23 19:53:19.000000000,2021-04-23 19:53:19.000000000,5,0,0,787644,9d9f0ed7442a0c037617e5b428579afdf7969a83,9,4,1,1,7144,James Slagle,slagle,"Add DefaultRoute to deployed_port.j2

Commit cea78ad4fd84984528e990694342ba2dc38b6959 added DefaultRoute as a
property of the port resources, but it was missed adding it as a
parameter of deployed_port.j2.

Change-Id: I8235220cc0d1d699ac2abf993d6c49494613bdac
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Fironic~stable%2Fvictoria~I73aaa803d3eb84ddac59a778e998836a645217eb,openstack/ironic,stable/victoria,inspection-token-stable/victoria,I73aaa803d3eb84ddac59a778e998836a645217eb,Wipe agent tokens on inspection start and abort,MERGED,2021-04-21 12:15:54.000000000,2021-04-23 19:38:30.000000000,2021-04-23 18:26:52.000000000,21,7,0,787376,c9425f9950fc850d74ec8050ddbc94f60363cf93,23,2,1,4,10239,Dmitry Tantsur,dtantsur,"Wipe agent tokens on inspection start and abort

Also make sure the pregenerated flag is always reset.

Change-Id: I73aaa803d3eb84ddac59a778e998836a645217eb
(cherry picked from commit c6e8281f85f52d2708eb369e2c2fcf395443afdc)
"
openstack%2Fpuppet-cinder~master~I7355909e15e3ce3f8c9ee6dd81241bb776c4e2a7,openstack/puppet-cinder,master,hc-typo,I7355909e15e3ce3f8c9ee6dd81241bb776c4e2a7,Fix a typo in file header,MERGED,2021-04-20 16:05:23.000000000,2021-04-23 18:45:08.000000000,2021-04-23 18:45:08.000000000,1,1,0,787230,5e6922076d2723cba7267eb3669f8e6e854bc667,18,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix a typo in file header

Change-Id: I7355909e15e3ce3f8c9ee6dd81241bb776c4e2a7
"
openstack%2Fopenstacksdk~master~Ibf5f01b842e6fc79eb95c2c21bd69732de849597,openstack/openstacksdk,master,placement-in-sdk,Ibf5f01b842e6fc79eb95c2c21bd69732de849597,placement: Add support for resource providers,MERGED,2020-08-07 16:52:43.000000000,2021-04-23 18:43:30.000000000,2021-04-23 18:41:27.000000000,401,1,19,745375,c1a475cae0a67636dcb48e9f5006b2ce0dd5293e,34,8,7,19,15334,Stephen Finucane,sfinucan,"placement: Add support for resource providers

We want some functionality in osc-placement. Add it here rather than
there.

Initially only the resource providers resource type is supported.
Additional resources will be added in future patches.

We're skipping the tests for the broken placement API versions, pending
discussions with keystone folks on how to resolve this long-term.

Change-Id: Ibf5f01b842e6fc79eb95c2c21bd69732de849597
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fswift~master~I4d538859f278ac26a6b6d6845df103ebd4c49da3,openstack/swift,master,,I4d538859f278ac26a6b6d6845df103ebd4c49da3,Use underscores instead of dashes in setup.cfg,MERGED,2021-04-22 20:08:06.000000000,2021-04-23 18:43:21.000000000,2021-04-23 18:41:07.000000000,3,3,0,787636,bacef722a32d1a19b00391053f7157b82553df0c,11,3,2,1,15343,Tim Burke,tburke,"Use underscores instead of dashes in setup.cfg

We've been seeing warnings like

    UserWarning: Usage of dash-separated 'home-page' will not be supported
    in future versions. Please use the underscore name 'home_page' instead

for a while in our pep8 jobs; this ought to clean them up. As best I can
tell, setuptools has supported either format for several years.

Change-Id: I4d538859f278ac26a6b6d6845df103ebd4c49da3
"
openstack%2Fneutron~stable%2Ftrain~I75db7c713a17a0f1b1b5aecc6eec93e636a71827,openstack/neutron,stable/train,bug/1917866-stable/train,I75db7c713a17a0f1b1b5aecc6eec93e636a71827,Check for existence instead of fetching the whole net object,MERGED,2021-04-22 08:33:18.000000000,2021-04-23 18:43:16.000000000,2021-04-23 18:41:20.000000000,8,2,0,787482,863a6d1f7c641c9aeaa7802bd64a314c3b970779,26,4,2,2,32667,Mamatisa Nurmatov,isabek,"Check for existence instead of fetching the whole net object

There is no need to fetch the whole net object
(which leads to several heavy DB requests according
to OSProfiler stats) when only need to check net existence

This speeds up port creation up to 15%

Closes-Bug: #1917866
Change-Id: I75db7c713a17a0f1b1b5aecc6eec93e636a71827
(cherry picked from commit 4bb3c92917cdf19b18c7481786050241218e8df7)
"
openstack%2Fpuppet-cinder~master~I86a4e6e14f39a5bdb70d5443764f946b3f26130e,openstack/puppet-cinder,master,hpelefthand,I86a4e6e14f39a5bdb70d5443764f946b3f26130e,Remove support for HPE Lefthand driver,MERGED,2021-04-22 11:14:12.000000000,2021-04-23 18:39:58.000000000,2021-04-23 18:38:36.000000000,4,151,0,787532,51ef949abf7fcdb71b9c9f4ccc92a079f8732938,15,3,1,3,9816,Takashi Kajinami,kajinamit,"Remove support for HPE Lefthand driver

... because it was deprecated during the previous cycle[1], and
the driver implementation has been removed from cinder.

[1] c5927c42afa8f73bcd7890a28446c1308901cfbc

Change-Id: I86a4e6e14f39a5bdb70d5443764f946b3f26130e
"
openstack%2Fswift~master~I1d6cc0faa3a43852c46089e509d48cc3ee9f9cf8,openstack/swift,master,bug/1911811,I1d6cc0faa3a43852c46089e509d48cc3ee9f9cf8,fix not clear cause for invalid username,MERGED,2021-04-21 20:42:29.000000000,2021-04-23 17:56:56.000000000,2021-04-23 17:55:15.000000000,13,1,3,787440,717d21ccbd84794444a9f8cbcc5864ae46a2ffbb,22,4,4,2,33384,Tiago Octaviano Primini,tiago-primini,"fix not clear cause for invalid username

 - add a message saying the reason for the value error exception
 - add a unit test to validate the expected message

Change-Id: I1d6cc0faa3a43852c46089e509d48cc3ee9f9cf8
Closes-Bug: #1911811
"
openstack%2Fkolla-ansible~stable%2Fussuri~I0141abf0dd83e3a567ea6dcca945f86db129becf,openstack/kolla-ansible,stable/ussuri,,I0141abf0dd83e3a567ea6dcca945f86db129becf,Apply Zun configuration for Docker based on inventory,MERGED,2021-04-23 12:43:29.000000000,2021-04-23 17:56:48.000000000,2021-04-23 17:54:44.000000000,18,6,0,787609,9164cad1c8c95c25a13c2e99654f005a9a9f64f6,9,3,1,4,14826,Mark Goddard,mgoddard,"Apply Zun configuration for Docker based on inventory

If docker_configure_for_zun is set to true, then Zun-specific
configuration for Docker is applied to all nodes. It should only be
applied based on the relevant inventory groups. In some cases this can
cause Docker to fail to start. See
https://storyboard.openstack.org/#!/story/2008544 for details.

This change applies the configuration based on the zun-compute and
zun-cni-daemon groups. It also modifies the expression to not assume
that these groups exist in the inventory.

Change-Id: I0141abf0dd83e3a567ea6dcca945f86db129becf
Closes-Bug: #1914378
Story: 2008544
Task: 41645
Co-Authored-By: Buddhika Sanjeewa <bsanjeewa@kln.ac.lk>
(cherry picked from commit 5c39810de27063992a45df57b49c2cd7332912d0)
(cherry picked from commit 15eea3ee6b971ddf92609a68cbdf336c1f97427c)
"
openstack%2Fkolla-ansible~master~I6750cf0f2f6941b6b47bad1246e2eae887ae9ee8,openstack/kolla-ansible,master,add-xena-python-jobtemplates,I6750cf0f2f6941b6b47bad1246e2eae887ae9ee8,Add Python3 xena unit tests,MERGED,2021-04-23 12:40:57.000000000,2021-04-23 17:33:58.000000000,2021-04-23 17:21:42.000000000,1,1,0,787728,51134fb3115b123f0c392190362f620c455f3f6e,9,3,1,1,22816,OpenStack Release Bot,release,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I6750cf0f2f6941b6b47bad1246e2eae887ae9ee8
"
openstack%2Fkolla~master~Idc6829c6411b5a27e44a172893276b9a26aca805,openstack/kolla,master,add-xena-python-jobtemplates,Idc6829c6411b5a27e44a172893276b9a26aca805,Add Python3 xena unit tests,MERGED,2021-04-23 12:42:22.000000000,2021-04-23 17:33:24.000000000,2021-04-23 17:22:22.000000000,1,1,0,787732,5f2eb06b89bd11f7b8ae001f6ede17a452a502ba,9,3,1,1,22816,OpenStack Release Bot,release,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Idc6829c6411b5a27e44a172893276b9a26aca805
"
openstack%2Frpm-packaging~master~Icf4705c542ea74853e095469287cb44715a67da7,openstack/rpm-packaging,master,,Icf4705c542ea74853e095469287cb44715a67da7,Update oslo libraries to wallaby versions,MERGED,2021-04-21 12:35:00.000000000,2021-04-23 17:32:20.000000000,2021-04-23 13:06:17.000000000,5,5,0,787360,818f2ea672564097bd7d3f1640dda5cd76d1b1e8,24,6,3,5,13294,Javier Peña,jpena,"Update oslo libraries to wallaby versions

Change-Id: Icf4705c542ea74853e095469287cb44715a67da7
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I9a0825d4325eae81f0362f443ce990b737124502,openstack/kolla-ansible,stable/wallaby,create-wallaby,I9a0825d4325eae81f0362f443ce990b737124502,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-04-23 12:40:46.000000000,2021-04-23 17:32:13.000000000,2021-04-23 17:21:12.000000000,4,4,0,787726,6bcbaf235fdbd922fdc60bca4fd18971f1da69b4,9,3,1,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I9a0825d4325eae81f0362f443ce990b737124502
"
openstack%2Fkolla-ansible~master~I34e6b2e1b9411e360994684f62414703f3bb2299,openstack/kolla-ansible,master,reno-wallaby,I34e6b2e1b9411e360994684f62414703f3bb2299,Update master for stable/wallaby,MERGED,2021-04-23 12:40:51.000000000,2021-04-23 17:31:53.000000000,2021-04-23 17:21:16.000000000,7,0,0,787727,9cfd4f5d05203e686978ee39a827a8e80e6b5f31,9,3,1,2,22816,OpenStack Release Bot,release,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I34e6b2e1b9411e360994684f62414703f3bb2299
"
openstack%2Fkolla~stable%2Fwallaby~I023e39687dc1bbe0a91600f1493e8cb732bb7365,openstack/kolla,stable/wallaby,create-wallaby,I023e39687dc1bbe0a91600f1493e8cb732bb7365,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-04-23 12:42:04.000000000,2021-04-23 17:31:21.000000000,2021-04-23 17:22:01.000000000,3,3,0,787730,de9e3cc3b8e66bb82c67c65843194d13c6c230f4,9,3,1,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I023e39687dc1bbe0a91600f1493e8cb732bb7365
"
openstack%2Fkolla~master~I72f42de739166c089895b4f24b52bde25a82a2d6,openstack/kolla,master,reno-wallaby,I72f42de739166c089895b4f24b52bde25a82a2d6,Update master for stable/wallaby,MERGED,2021-04-23 12:42:09.000000000,2021-04-23 17:31:13.000000000,2021-04-23 17:22:06.000000000,7,0,0,787731,7e778d6597b3b216582309e7bd8230b90868a3f0,9,3,1,2,22816,OpenStack Release Bot,release,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I72f42de739166c089895b4f24b52bde25a82a2d6
"
openstack%2Fkolla-ansible~stable%2Fwallaby~Ib09608f76eb279f1806d95df0b9732b3b15ef850,openstack/kolla-ansible,stable/wallaby,create-wallaby,Ib09608f76eb279f1806d95df0b9732b3b15ef850,Update .gitreview for stable/wallaby,MERGED,2021-04-23 12:40:32.000000000,2021-04-23 17:30:55.000000000,2021-04-23 17:21:08.000000000,1,0,0,787725,e80783f1df0ac50066ba167a27a7874b905cb2f3,9,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/wallaby

Change-Id: Ib09608f76eb279f1806d95df0b9732b3b15ef850
"
openstack%2Fkayobe~stable%2Ftrain~I5eef8dd726b500e4dd73291dcab74c319473da3c,openstack/kayobe,stable/train,,I5eef8dd726b500e4dd73291dcab74c319473da3c,Update setuptools before installing kayobe,MERGED,2021-04-23 14:26:02.000000000,2021-04-23 16:33:52.000000000,2021-04-23 16:32:19.000000000,4,2,0,787757,b57f536e62f2e876b2835cf872bd4fcc1b054a8b,9,3,1,1,15197,Pierre Riteau,priteau,"Update setuptools before installing kayobe

This is sometimes necessary on Python 2 to avoid issues installing pbr.

Change-Id: I5eef8dd726b500e4dd73291dcab74c319473da3c
"
openstack%2Foslo.privsep~master~Ida7c5c0a7723c64ebc74ab857fd8bd730d788e85,openstack/oslo.privsep,master,reset,Ida7c5c0a7723c64ebc74ab857fd8bd730d788e85,Add functional test for sighup behavior,NEW,2019-08-26 20:34:18.000000000,2021-04-23 16:25:49.000000000,,31,2,3,678653,5ba0e4c4877ef29dfa4dd7f69ba95555fd6abfa9,9,3,4,3,6928,Ben Nemec,bnemec,"Add functional test for sighup behavior

Change-Id: Ida7c5c0a7723c64ebc74ab857fd8bd730d788e85
"
openstack%2Fkolla~stable%2Fwallaby~I2d43897b707b020ca6ae8877dde418ac2810f3b1,openstack/kolla,stable/wallaby,create-wallaby,I2d43897b707b020ca6ae8877dde418ac2810f3b1,Update .gitreview for stable/wallaby,MERGED,2021-04-23 12:41:57.000000000,2021-04-23 16:25:15.000000000,2021-04-23 15:46:53.000000000,1,0,0,787729,21f1fd8ee3cc49e91bcf3b8461ab2f3f16807414,8,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/wallaby

Change-Id: I2d43897b707b020ca6ae8877dde418ac2810f3b1
"
openstack%2Foslo.privsep~master~Iaa8ea970564f5ee728a2aee3c5acaf84e2240dd7,openstack/oslo.privsep,master,sysctl,Iaa8ea970564f5ee728a2aee3c5acaf84e2240dd7,Add functional test for calling sysctl,ABANDONED,2020-06-04 14:44:00.000000000,2021-04-23 15:59:10.000000000,,11,1,0,733633,a34f46a322fbf9084d35347610da414960466393,5,2,1,1,6928,Ben Nemec,bnemec,"Add functional test for calling sysctl

Change-Id: Iaa8ea970564f5ee728a2aee3c5acaf84e2240dd7
"
openstack%2Fopenstack-helm-infra~master~I75b4b5a335b75a52f4efbd4ba4ed007106aba4fa,openstack/openstack-helm-infra,master,ovs-probes,I75b4b5a335b75a52f4efbd4ba4ed007106aba4fa,Support override of ovs probes,MERGED,2021-04-13 17:11:48.000000000,2021-04-23 15:52:18.000000000,2021-04-23 15:50:32.000000000,21,4,0,786080,a671d40a521c154668f6db9e7c2bd93538b2a920,17,4,3,4,18250,Roy Tang,rt7380,"Support override of ovs probes

Currently ovs liveness and readiness probes commands are statically
defined in the templates, this change allow them to be change
as needed.  This helps with debuging and making quick adjustment.

Change-Id: I75b4b5a335b75a52f4efbd4ba4ed007106aba4fa
"
openstack%2Fkayobe-config~stable%2Frocky~Idfa72dc9e7730899939d8bc237ee7f111d609477,openstack/kayobe-config,stable/rocky,,Idfa72dc9e7730899939d8bc237ee7f111d609477,Synchronise with latest kayobe for rocky,MERGED,2021-04-23 10:03:50.000000000,2021-04-23 15:35:10.000000000,2021-04-23 15:35:10.000000000,33,7,0,787699,8b0fbf9a529092741448a447865ee85780f1169c,8,2,2,5,15197,Pierre Riteau,priteau,"Synchronise with latest kayobe for rocky

Synchronised with kayobe @ 5de53a58f525503774326493265eb2132b3e3d53,
with the exception of the seed-hypervisor.yml change which fails on
yamllint (line too long).

Change-Id: Idfa72dc9e7730899939d8bc237ee7f111d609477
"
openstack%2Fkayobe-config~stable%2Fstein~I748e25c470199b349c3fd2dd33719dac9fba8b78,openstack/kayobe-config,stable/stein,,I748e25c470199b349c3fd2dd33719dac9fba8b78,Synchronise with latest kayobe for stein,MERGED,2021-04-23 11:10:30.000000000,2021-04-23 15:35:07.000000000,2021-04-23 15:35:07.000000000,42,1,0,787707,d0644c926eb9689041554a6549ddcac3d055cab1,6,2,1,4,15197,Pierre Riteau,priteau,"Synchronise with latest kayobe for stein

Synchronised with kayobe @ 125d399bdae572ab06fe5fb633a7a0cad9f72ce0

Change-Id: I748e25c470199b349c3fd2dd33719dac9fba8b78
"
openstack%2Fkayobe-config~stable%2Ftrain~Ie68ec581170be7ddcad3c70e5202932097faeb2a,openstack/kayobe-config,stable/train,,Ie68ec581170be7ddcad3c70e5202932097faeb2a,Synchronise with latest kayobe for train,MERGED,2021-04-23 11:11:29.000000000,2021-04-23 15:35:04.000000000,2021-04-23 15:35:04.000000000,26,0,0,787708,fa9b73a54d22955ffbd132bb37fedfd69b985538,6,2,1,2,15197,Pierre Riteau,priteau,"Synchronise with latest kayobe for train

Synchronised with kayobe @ c12192c18a31c1a9e3223deff5c0862910da8258

Change-Id: Ie68ec581170be7ddcad3c70e5202932097faeb2a
"
openstack%2Fnetworking-ovn~stable%2Ftrain~I6a7ff14057d80196feb5fd9d47a6a73b29bc768d,openstack/networking-ovn,stable/train,bug/1906311-stable/train,I6a7ff14057d80196feb5fd9d47a6a73b29bc768d,Disable dns-integration API extension if it's not enabled in ML2,MERGED,2021-04-09 10:53:11.000000000,2021-04-23 15:34:34.000000000,2021-04-23 15:32:36.000000000,17,1,0,785617,2c09d373fb0f21c07cfd970fe15880df98683d8d,12,4,1,1,11975,Slawek Kaplonski,slaweq,"Disable dns-integration API extension if it's not enabled in ML2

In case when dns-integration ML2 extension driver isn't enabled,
ovn_l 3 service plugin will now not load ""dns-integration""
API extension to list it as supported.

This patch also adds method supported_extension_aliases() which was
originally introduced in patch [1] but it can't be backported.

Conflicts:
    networking_ovn/l3/l3_ovn.py

Original Neutron backport to stable/ussuri is [2].

[1] https://review.opendev.org/c/openstack/neutron/+/722415
[2] https://review.opendev.org/c/openstack/neutron/+/767822

Closes-bug: #1906311
Change-Id: I6a7ff14057d80196feb5fd9d47a6a73b29bc768d
(cherry picked from commit e70e3ab4558a2e7c448bac475041d436d7348816)
"
openstack%2Fkayobe-config~stable%2Fussuri~I68bbf75921172a3c1285d72b6e23d5a998b71e1e,openstack/kayobe-config,stable/ussuri,,I68bbf75921172a3c1285d72b6e23d5a998b71e1e,Synchronise with latest kayobe for ussuri,MERGED,2021-04-23 11:12:38.000000000,2021-04-23 15:32:04.000000000,2021-04-23 15:32:04.000000000,8,1,0,787709,5359d8c2d5dca52ba85f1d707b93bd56eb5b51e6,6,2,1,2,15197,Pierre Riteau,priteau,"Synchronise with latest kayobe for ussuri

Synchronised with kayobe @ 5d41d2ea8ed7a4e55e8899d7c0f011fb654e4cc7

Change-Id: I68bbf75921172a3c1285d72b6e23d5a998b71e1e
"
openstack%2Fkayobe-config~stable%2Fvictoria~I8d6603426bebf838b62977df810c7b0a97b96bed,openstack/kayobe-config,stable/victoria,,I8d6603426bebf838b62977df810c7b0a97b96bed,Synchronise with latest kayobe for victoria,MERGED,2021-04-23 11:13:19.000000000,2021-04-23 15:25:33.000000000,2021-04-23 15:25:33.000000000,5,1,0,787710,a483c49469ed71206bc30e1384c105506ac1e667,6,2,1,2,15197,Pierre Riteau,priteau,"Synchronise with latest kayobe for victoria

Synchronised with kayobe @ 7130772296ca2174b2eb49a0f33cba1c6a5d87bb

Change-Id: I8d6603426bebf838b62977df810c7b0a97b96bed
"
openstack%2Ftripleo-ci~master~I058a24f71f9658b3da02cbed7f8cfdce6d51be55,openstack/tripleo-ci,master,,I058a24f71f9658b3da02cbed7f8cfdce6d51be55,Explicitly pass --no-stream when not stream node,MERGED,2021-04-23 04:42:40.000000000,2021-04-23 15:18:34.000000000,2021-04-23 15:18:34.000000000,2,1,0,787663,e37db08b034a9b2893e1436dfbed68fb5238e242,9,9,1,1,13861,yatin,yatinkarel,"Explicitly pass --no-stream when not stream node

With [1] stream is set to True by default, so
we need to pass --no-stream when not running with
stream nodes.

[1] https://review.opendev.org/c/openstack/tripleo-repos/+/786485

Related-Bug: #1925224
Change-Id: I058a24f71f9658b3da02cbed7f8cfdce6d51be55
"
openstack%2Ftripleo-heat-templates~master~I5dd448ac0a7c9a786b9239290d1690d51f50f71c,openstack/tripleo-heat-templates,master,vrts,I5dd448ac0a7c9a786b9239290d1690d51f50f71c,cinder: remove support for the Veritas HyperScale driver,MERGED,2021-04-22 15:32:41.000000000,2021-04-23 15:17:31.000000000,2021-04-23 15:15:31.000000000,12,253,0,787587,2da8297c86c3965280db6a957b2fafb7c608ad82,15,4,1,18,9816,Takashi Kajinami,kajinamit,"cinder: remove support for the Veritas HyperScale driver

The Veritas HyperScale driver has been removed from cinder[1], thus
we should remove its support from TripleO as well.

[1] 9aca21f5cec8f03a3bb410acb21399955144fe0f

Because the implementation was removed a while ago, this change doesn't
deprecate the feature but directly remove it.

Change-Id: I5dd448ac0a7c9a786b9239290d1690d51f50f71c
"
openstack%2Frpm-packaging~master~I0baf45bae84b530c044fbcefc4ed25ed5230c414,openstack/rpm-packaging,master,,I0baf45bae84b530c044fbcefc4ed25ed5230c414,Remaining wallaby updates,MERGED,2021-04-22 19:47:58.000000000,2021-04-23 14:57:28.000000000,2021-04-23 14:57:28.000000000,3,3,0,787635,699ce73453bdc375b5144748783dbb2511e4d667,22,5,3,3,6593,Dirk Mueller,dmllr,"Remaining wallaby updates

Change-Id: I0baf45bae84b530c044fbcefc4ed25ed5230c414
"
openstack%2Fcharm-deployment-guide~master~I20f57f6814baaf812b8fca09b9f0da03e2d86c0a,openstack/charm-deployment-guide,master,improve-install-from-bundle,I20f57f6814baaf812b8fca09b9f0da03e2d86c0a,Improve install from bundle page,MERGED,2021-04-23 02:12:12.000000000,2021-04-23 14:47:59.000000000,2021-04-23 14:46:35.000000000,17,16,0,787660,6ad724bb26f8fea3961f53df4e16496781def381,9,2,2,1,30561,Peter Matulis,pmatulis,"Improve install from bundle page

Improve the overall text.

Consistency. Use terminology used elsewhere.

Change-Id: I20f57f6814baaf812b8fca09b9f0da03e2d86c0a
"
openstack%2Fneutron~stable%2Fvictoria~I75db7c713a17a0f1b1b5aecc6eec93e636a71827,openstack/neutron,stable/victoria,bug/1917866-stable/victoria,I75db7c713a17a0f1b1b5aecc6eec93e636a71827,Check for existence instead of fetching the whole net object,MERGED,2021-04-22 08:27:54.000000000,2021-04-23 14:41:41.000000000,2021-04-23 14:39:18.000000000,8,2,0,787479,29e36009bbb25a2e3d66b3746d590e4046626d2c,10,4,1,2,32667,Mamatisa Nurmatov,isabek,"Check for existence instead of fetching the whole net object

There is no need to fetch the whole net object
(which leads to several heavy DB requests according
to OSProfiler stats) when only need to check net existence

This speeds up port creation up to 15%

Closes-Bug: #1917866
Change-Id: I75db7c713a17a0f1b1b5aecc6eec93e636a71827
(cherry picked from commit 4bb3c92917cdf19b18c7481786050241218e8df7)
"
openstack%2Fneutron~stable%2Fwallaby~Ie91ab1c359955a2911e558ab5a4bc8b0ff28bada,openstack/neutron,stable/wallaby,,Ie91ab1c359955a2911e558ab5a4bc8b0ff28bada,Initialize privsep library for neutron-ovs-cleanup,MERGED,2021-04-22 15:27:25.000000000,2021-04-23 14:41:35.000000000,2021-04-23 14:39:28.000000000,1,0,0,787596,85faee6cd4e206be57801dd8b2d52cb174035a3d,12,5,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Initialize privsep library for neutron-ovs-cleanup

Closes-Bug: #1923453
Change-Id: Ie91ab1c359955a2911e558ab5a4bc8b0ff28bada
(cherry picked from commit 1dfbf5b3455391c849dc5ab7b61df86f6e0c8c16)
"
openstack%2Ftripleo-heat-templates~master~Id488db4bd60b1c35704e24a0a85d61853bfd7038,openstack/tripleo-heat-templates,master,nova-scheduler-tunables,Id488db4bd60b1c35704e24a0a85d61853bfd7038,Add some tunable parameters for nova-scheduler,MERGED,2021-01-18 12:04:30.000000000,2021-04-23 14:14:37.000000000,2021-04-23 14:12:41.000000000,20,0,0,771189,915bf046ee3af5429237ed124713f876630b7ae7,19,6,3,2,9816,Takashi Kajinami,kajinamit,"Add some tunable parameters for nova-scheduler

Since placement service was introduced, there have been several
conditions where instances are not well distributed among multiple
compute nodes. For example with the default configurations if a user
creates multiple instances concurrently, these instances might be
packed into a single compute node because placement returns the same
results until any instance is actually launched at compute nodes.

This change introdices two tunable parameters about nova-scheduler
so that we can implement better distribution of nova instances in some
usecases.

Change-Id: Id488db4bd60b1c35704e24a0a85d61853bfd7038
"
openstack%2Ftripleo-heat-templates~master~I8222c39925a3ba3172fa03ae8931a6de3fb021a1,openstack/tripleo-heat-templates,master,missing-rear,I8222c39925a3ba3172fa03ae8931a6de3fb021a1,Add ReaR service to all roles,MERGED,2020-08-14 02:40:23.000000000,2021-04-23 14:12:19.000000000,2021-04-23 14:12:19.000000000,22,0,0,746260,6ff238199dced03c11772bc0586bac841d1e423b,13,5,2,22,9816,Takashi Kajinami,kajinamit,"Add ReaR service to all roles

This patch adds ReaR service to some roles currently without it,
because this service is expected to be added to all roles when rear
service templates were introduced initially[1].

[1] 79bd7c447b11cc8d2eee9ed20e14dc575fd070a7

Note that this patch doesn't add ReaR service to Ceph roles because
generally we don't expect taking backup of Ceph nodes by ReaR.

Change-Id: I8222c39925a3ba3172fa03ae8931a6de3fb021a1
"
openstack%2Ftripleo-heat-templates~master~I12929413959cdd684790017e86328d5f2d8dff8b,openstack/tripleo-heat-templates,master,ovn-hw-offload,I12929413959cdd684790017e86328d5f2d8dff8b,ovn: Set enable_hw_offload by puppet-vswitch,MERGED,2021-03-31 00:50:07.000000000,2021-04-23 14:08:27.000000000,2021-04-23 14:08:27.000000000,1,1,0,783987,1c7bac21f6456de6115ea5297b90c6ad39e4d78d,8,4,1,1,9816,Takashi Kajinami,kajinamit,"ovn: Set enable_hw_offload by puppet-vswitch

The enable_hw_offload parameter in puppet-ovn was deprecated[1] in
favor of the same parameter in puppet-vswitch.

[1] c60fdb9540bc5dfc60cf05d56ad9d8fe45164343

Change-Id: I12929413959cdd684790017e86328d5f2d8dff8b
"
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I0dbcde302a3abdfccc3dd996b1c238e25064dd12,openstack/puppet-tripleo,stable/victoria,ceph_dashboard_ha-stable/victoria,I0dbcde302a3abdfccc3dd996b1c238e25064dd12,Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard,MERGED,2021-04-22 07:23:28.000000000,2021-04-23 14:08:18.000000000,2021-04-23 14:08:18.000000000,32,0,0,787393,0bc10e5b7c6930a8bc076894f701677654d0dd78,12,6,2,1,25402,Francesco Pantano,fmount,"Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard

This change adds the prometheus and alertmanager endpoints which
are on the same grafana network and allow us to just use a single
vip to access the prometheus and alertmanager instances from the
ceph dashboard when enabled.
We already did it for grafana [1] and we would like to do the same
for prometheus and alertmanager.

[1] https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-dashboard/tasks/configure_dashboard.yml#L192

Change-Id: I0dbcde302a3abdfccc3dd996b1c238e25064dd12
(cherry picked from commit 92c76046a8da94375ce626226b7e3cefec879639)
"
openstack%2Ftripleo-quickstart-extras~master~I33f0e4567565e47acb323fda8ab56a2785819d35,openstack/tripleo-quickstart-extras,master,,I33f0e4567565e47acb323fda8ab56a2785819d35,ensure tripleo-validations is installed where it's consumed,NEW,2021-04-22 13:06:39.000000000,2021-04-23 13:57:14.000000000,,4,0,1,787551,e6ffe940d97a9b95c5d86e44cc63dfde93244b5c,10,5,2,1,9592,wes hayutin,weshayutin,"ensure tripleo-validations is installed where it's consumed

validations source was removed from ci in:
tripleo-quickstart/+/787443

The above requirements were designed for the
first version of validations.

To properly check and gate changes to validations
the rpm must be used so that dlrn and the content
provider can update the rpm.

Change-Id: I33f0e4567565e47acb323fda8ab56a2785819d35
"
openstack%2Fpuppet-pacemaker~master~I8d1e28b90c4a498e0efaf46b78293b5a98a97ea9,openstack/puppet-pacemaker,master,new-deps,I8d1e28b90c4a498e0efaf46b78293b5a98a97ea9,Bump dependency in metadata.json,ABANDONED,2021-04-08 19:06:29.000000000,2021-04-23 13:46:24.000000000,,1,1,0,785485,87661aca119deb4dfb26f2f5dcc8c92f912ca9f7,4,2,1,1,16137,Tobias Urdin,tobasco,"Bump dependency in metadata.json

This bumps the dependency in metadata.json based on
then new major versions that is tested when [1] is merged.

[1]
https://review.opendev.org/c/openstack/puppet-openstack-integration/+/778138

Change-Id: I8d1e28b90c4a498e0efaf46b78293b5a98a97ea9
"
openstack%2Fironic-inspector~stable%2Frocky~Ibdfed9545a26e752ab7aeed2db122a368c3c06fb,openstack/ironic-inspector,stable/rocky,remove-grenade,Ibdfed9545a26e752ab7aeed2db122a368c3c06fb,Remove grenade jobs from old stable branches,MERGED,2021-04-22 08:43:31.000000000,2021-04-23 13:43:33.000000000,2021-04-23 13:43:33.000000000,13,21,0,787506,fa5f7fe7bfe66a000a38dfc699a6073f905f57b6,7,3,1,3,23851,Riccardo Pittau,elfosardo,"Remove grenade jobs from old stable branches

As discussed and approved during the ironic wallaby midcycle, the grenade
jobs in old stable branches.
And remove lower-constraints job.

Also replace subprocess with processutils to fix the dsvm-python3 job.

Change-Id: Ibdfed9545a26e752ab7aeed2db122a368c3c06fb
(cherry picked from commit 1ef55e3603fd7bffebaf308a4ae3868de76172ce)
"
openstack%2Fneutron~stable%2Fvictoria~I1213f59fe643807f303e3ad7f24925fa333a5512,openstack/neutron,stable/victoria,small_opt-stable/victoria,I1213f59fe643807f303e3ad7f24925fa333a5512,Pass existing DB obj to save DB requests,MERGED,2021-04-22 08:43:41.000000000,2021-04-23 13:34:46.000000000,2021-04-23 13:32:45.000000000,12,8,0,787486,1865255246e78d827c81bb9413a248b4365b1713,10,3,1,2,5948,Oleg Bondarev,obondarev,"Pass existing DB obj to save DB requests

On port and network update ML2 plugin gets a db object
and can pass it to db_base_plugin_v2 when doing super call.

Change-Id: I1213f59fe643807f303e3ad7f24925fa333a5512
(cherry picked from commit 02f4eca1ae43b89775171f4f70be54075b95c9dd)
"
openstack%2Fcharm-deployment-guide~master~I612e34436bea4db2fbf213aa02e7a6b52ca8f0cb,openstack/charm-deployment-guide,master,deferred-restarts,I612e34436bea4db2fbf213aa02e7a6b52ca8f0cb,Add Deferred service events,MERGED,2021-04-22 16:55:39.000000000,2021-04-23 13:25:39.000000000,2021-04-23 13:24:20.000000000,178,0,0,787617,9009de5660583663d056e8d96fc9cc5d008920c5,10,2,2,2,30561,Peter Matulis,pmatulis,"Add Deferred service events

This is a new feature for 21.04. It gets a new page.

The feature was not tested during the writing of this
documentation.

Some text was commented out as it depends on changes
to charms (READMEs), which are frozen at this time.

Change-Id: I612e34436bea4db2fbf213aa02e7a6b52ca8f0cb
"
openstack%2Fpython-magnumclient~stable%2Fwallaby~I7306d167a17284c7f478ec1c1599a8d4b32040c2,openstack/python-magnumclient,stable/wallaby,,I7306d167a17284c7f478ec1c1599a8d4b32040c2,Fix failing to parse json error msg,MERGED,2021-04-11 16:27:23.000000000,2021-04-23 13:04:22.000000000,2021-04-23 13:02:53.000000000,3,0,0,785602,280acd2dff27d49d7606877edc3f17482f7444f6,8,3,1,1,16137,Tobias Urdin,tobasco,"Fix failing to parse json error msg

It assumes its a requests response but could
be a HTTPResponse from urllib.

Story: 2008789
Task: 42183

Change-Id: I7306d167a17284c7f478ec1c1599a8d4b32040c2
(cherry picked from commit f7551a6bac103070ff456098fe2631409620d492)
"
openstack%2Fpython-magnumclient~stable%2Fvictoria~I7306d167a17284c7f478ec1c1599a8d4b32040c2,openstack/python-magnumclient,stable/victoria,,I7306d167a17284c7f478ec1c1599a8d4b32040c2,Fix failing to parse json error msg,MERGED,2021-04-11 16:28:52.000000000,2021-04-23 13:01:09.000000000,2021-04-23 12:59:45.000000000,3,0,0,785603,fc941022c5690edf80544678530b741cdd983ea9,8,3,1,1,16137,Tobias Urdin,tobasco,"Fix failing to parse json error msg

It assumes its a requests response but could
be a HTTPResponse from urllib.

Story: 2008789
Task: 42183

Change-Id: I7306d167a17284c7f478ec1c1599a8d4b32040c2
(cherry picked from commit f7551a6bac103070ff456098fe2631409620d492)
(cherry picked from commit 280acd2dff27d49d7606877edc3f17482f7444f6)
"
openstack%2Fcharms.openstack~master~I9038c9785a4f36b854a1fb7e8d5baaf91a99c70e,openstack/charms.openstack,master,,I9038c9785a4f36b854a1fb7e8d5baaf91a99c70e,Use openstack-release package to determine codename,MERGED,2021-04-22 21:25:49.000000000,2021-04-23 13:00:58.000000000,2021-04-23 13:00:58.000000000,22,0,2,787641,8960e070f2ffdc514b949b3e4c2d59a6f93dfc15,13,3,2,2,11805,Corey Bryant,coreycb,"Use openstack-release package to determine codename

The use of package versions to look up OpenStack codenames is
deprecated for in favor of using the openstack-release package.
The openstack-release package is available for Wallaby onward.

Change-Id: I9038c9785a4f36b854a1fb7e8d5baaf91a99c70e
"
openstack%2Fneutron~stable%2Fwallaby~I44e573bd55e3631901d782d6d65987a58ca3e4fb,openstack/neutron,stable/wallaby,bug/1925433,I44e573bd55e3631901d782d6d65987a58ca3e4fb,Remove SRIOV attach limitation from the doc,MERGED,2021-04-22 12:58:46.000000000,2021-04-23 12:50:52.000000000,2021-04-23 12:44:11.000000000,1,2,0,787493,d614e9dac7dd794a7fb02d37d090268f80f695b3,11,3,1,1,9708,Balazs Gibizer,gibi,"Remove SRIOV attach limitation from the doc

Since I67504a37b0fe2ae5da3cba2f3122d9d0e18b9481 Nova supports attaching
neutron ports backed by PCI devices. So the limitation can be removed
from the doc.

Closes-Bug: #1925433
Change-Id: I44e573bd55e3631901d782d6d65987a58ca3e4fb
(cherry picked from commit 947e8a041c22c97bf342b1498b837a5c3f553d95)
"
openstack%2Fneutron~stable%2Fvictoria~I6a40e6e3f937fa30bbb29768211ec8e689d4f82a,openstack/neutron,stable/victoria,delete_net_fip_opt-stable/victoria,I6a40e6e3f937fa30bbb29768211ec8e689d4f82a,Get only FIP ID on network delete,MERGED,2021-04-22 08:43:28.000000000,2021-04-23 12:50:43.000000000,2021-04-23 12:43:56.000000000,13,5,0,787485,a9cd1132ca391ebc43631a81b5c231defd5e376e,16,3,1,2,5948,Oleg Bondarev,obondarev,"Get only FIP ID on network delete

Get FloatingIP object results in a quite heavy DB request.
delete_disassociated_floatingips() only needs IDs.

Change-Id: I6a40e6e3f937fa30bbb29768211ec8e689d4f82a
(cherry picked from commit 282dc73e129b84b828d9d1d815b0b95afe093e11)
"
openstack%2Freleases~master~Ie972d247c0ff019a53f7ed63f07879a6bb0eb4a2,openstack/releases,master,kolla_wallaby,Ie972d247c0ff019a53f7ed63f07879a6bb0eb4a2,Create 'stable/wallaby' for Kolla and Kolla-Ansible,MERGED,2021-04-19 07:50:28.000000000,2021-04-23 12:30:19.000000000,2021-04-23 12:30:19.000000000,18,2,2,786824,a841d05cda04b17dac710479727b33bfe0a797fe,21,7,4,2,22629,Michal Nasiadka,mnasiadka,"Create 'stable/wallaby' for Kolla and Kolla-Ansible

Change-Id: Ie972d247c0ff019a53f7ed63f07879a6bb0eb4a2
"
openstack%2Freleases~master~I446061df0474ba36e39d44a4a70017b742856c11,openstack/releases,master,xena-init-series,I446061df0474ba36e39d44a4a70017b742856c11,Add Xena deliverable files,MERGED,2021-04-15 10:02:57.000000000,2021-04-23 12:29:56.000000000,2021-04-23 12:29:56.000000000,2263,0,1,786382,56ada0a1639a72d20fd2418a8e9658b5c128300f,11,6,1,276,28522,Hervé Beraud,hberaud,"Add Xena deliverable files

Only few projects have been detected as unreleased during Wallaby:

- deliverables/xena/cinderlib.yaml
- deliverables/xena/release-test.yaml
- deliverables/xena/openstack-ansible-roles.yaml
- deliverables/xena/kolla-ansible.yaml
- deliverables/xena/kayobe.yaml

They are mostly trailing projects, so, at this point they hadn't yet
been released.

Only our testing project remain really undelivered during Wallaby, however,
I decided to keep it around during Xena, either to allow us to test
urgent things or to convert it to JS testing project for example (to
catch the yarn/nodejs issues proactively by example).

Change-Id: I446061df0474ba36e39d44a4a70017b742856c11
"
openstack%2Fironic~master~I8d13df5db9654b0c2ea24489f7df75cdc5bae0e2,openstack/ironic,master,redfish-fast-track,I8d13df5db9654b0c2ea24489f7df75cdc5bae0e2,Fix fast track with redfish-virtual-media,MERGED,2021-04-08 12:52:15.000000000,2021-04-23 12:29:00.000000000,2021-04-23 12:07:38.000000000,168,5,0,785407,65e2e190981942b83b3a1eef99183b8128e833a2,57,4,2,2,10239,Dmitry Tantsur,dtantsur,"Fix fast track with redfish-virtual-media

During cleaning prepare_ramdisk is always called, even with fast track.
However, the redfish-virtual-media boot interface ignores fast track and
always reboots the node. This change makes fast track work if we can
detect that a CD device is connected.

Change-Id: I8d13df5db9654b0c2ea24489f7df75cdc5bae0e2
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If75b1df0e26a7a3f87be1de9026836a2aa590fe7,openstack/tripleo-heat-templates,stable/train,,If75b1df0e26a7a3f87be1de9026836a2aa590fe7,Expose max_concurrent_builds as a Heat parameter,MERGED,2020-09-22 14:50:06.000000000,2021-04-23 12:00:12.000000000,2021-04-23 11:56:56.000000000,15,0,0,753368,37263ee179a1abf2ad7e5b12c9b6b8c001800559,18,5,1,2,25877,Luke Short,ekultails,"Expose max_concurrent_builds as a Heat parameter

It can now be set via the use of 'NovaMaxConcurrentBuilds'.

Change-Id: If75b1df0e26a7a3f87be1de9026836a2aa590fe7
Co-authored-By: David J Peacock <david.j.peacock@gmail.com>
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit efe179190d85229f20b8b1b004e1d7bf13ac1349)
(cherry picked from commit 9d2f689f63709888ee3b6e374a5d8526cdd5fccd)
"
openstack%2Ftripleo-ansible~master~I7396ad4d25fec44000ead88b24e818abc107b5f8,openstack/tripleo-ansible,master,fix_hosts_entries,I7396ad4d25fec44000ead88b24e818abc107b5f8,Write hosts entries per environment,MERGED,2021-04-16 10:58:16.000000000,2021-04-23 11:58:12.000000000,2021-04-23 11:58:12.000000000,5,0,2,786623,9879d3b5db84e25853f4968314a6843f7fd41353,28,8,5,2,30073,Brendan Shephard,bshephar,"Write hosts entries per environment

This change will write /etc/hosts entries per plan
rather than stomping the hosts entries every time
the role is used for different stacks / plans.

We achieve this by differentiating the blocks of IP
addresses to ensure they are not modified by unrelated
executions of the role.

Closes-Bug: #1924751
RHBZ: 1933528
Depends-On: I9e53187f37d41d7180e66db1239b5f9c8846addd
Change-Id: I7396ad4d25fec44000ead88b24e818abc107b5f8
"
openstack%2Fpuppet-tripleo~stable%2Fussuri~I5d1d891474e4d7b47f497c5bd0144ce24e291260,openstack/puppet-tripleo,stable/ussuri,pin-puppetlabs-haproxy,I5d1d891474e4d7b47f497c5bd0144ce24e291260,stable-only: Pin puppetlabs-haproxy,MERGED,2021-04-22 12:41:39.000000000,2021-04-23 11:58:08.000000000,2021-04-23 11:58:08.000000000,1,1,0,787547,379895e743f647839847a7f6968385f7e01a3613,16,5,3,1,9816,Takashi Kajinami,kajinamit,"stable-only: Pin puppetlabs-haproxy

The puppetlabs-haproxy repo no longer has the master branch and
the master branch has been replaced by the main branch.
While we switched the branch in use in master[1], for stable branches
it is better to pin it to a specific version to avoid issue caused by
any future change in puppetlabs-haproxy.

The version is determined based on the version currently provided in
RDO.

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/786018/4/Puppetfile_extras
Change-Id: I5d1d891474e4d7b47f497c5bd0144ce24e291260
(cherry picked from commit f6852abbfb8caa2aa6376074b4ddf91c35b396f9)
"
openstack%2Fansible-role-tripleo-modify-image~master~I5746a7230f307e59d93401372033ae45a65ba191,openstack/ansible-role-tripleo-modify-image,master,fix-dev,I5746a7230f307e59d93401372033ae45a65ba191,Fix git lookup,MERGED,2021-04-07 19:33:45.000000000,2021-04-23 11:57:36.000000000,2021-04-23 11:57:36.000000000,1,1,0,785259,9f3298c75e88b54e56997321e2fd8c5abc7c48a4,15,3,2,1,14985,Alex Schultz,mwhahaha,"Fix git lookup

In CentOS8, git-core is the package instead of just git.

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/786053
Change-Id: I5746a7230f307e59d93401372033ae45a65ba191
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I649b2a1f7babd86d1fb6a2ebd68b22a3560eb885,openstack/tripleo-heat-templates,stable/train,bug/1922168,I649b2a1f7babd86d1fb6a2ebd68b22a3560eb885,"Remove ovn-cms-options from OVS when OVNCMSOptions is set to """"",MERGED,2021-04-14 01:49:21.000000000,2021-04-23 11:56:47.000000000,2021-04-23 11:56:47.000000000,1,1,0,786102,6c62cf789e25cccbe53bb20c46961a5bc392feab,12,3,1,1,16347,Purandhar Sairam Mannidi,mpsairam,"Remove ovn-cms-options from OVS when OVNCMSOptions is set to """"

This patch resolves issue where ovn-cms-options is left when OVNCMSOptions
is changed to """" in RoleParameters on an existing OVN+DVR+HA environment.

Closes-Bug: #1922168
Change-Id: I649b2a1f7babd86d1fb6a2ebd68b22a3560eb885
(cherry picked from commit 180fcf18bfaf5c433902b6dd0d738e5f6523dd98)
"
openstack%2Fkayobe~master~I77aec0160eb7e4dd763326bfe6e3d9a44b248108,openstack/kayobe,master,systemd-networkd,I77aec0160eb7e4dd763326bfe6e3d9a44b248108,Ubuntu: support policy-based routing in systemd-networkd,MERGED,2021-04-06 18:55:30.000000000,2021-04-23 11:52:50.000000000,2021-04-23 11:50:29.000000000,166,16,0,785032,181352f13a52ea947bf3a45e10462e4f3c3ab4c0,24,3,8,7,14826,Mark Goddard,mgoddard,"Ubuntu: support policy-based routing in systemd-networkd

This change adds support for policy-based routing via systemd-networkd.
Due to differences in the configuration mechanism, routing policy
rules are configured via dicts for Ubuntu, while remaining as strings
on CentOS. Ideally we would support both formats.

Story: 2004960
Task: 42217

Change-Id: I77aec0160eb7e4dd763326bfe6e3d9a44b248108
"
openstack%2Fopenstack-ansible~master~I06d5ef5eacb9448c8d039e165354694aa152d5d5,openstack/openstack-ansible,master,bug/1923181,I06d5ef5eacb9448c8d039e165354694aa152d5d5,Bump manila service,MERGED,2021-04-22 12:12:50.000000000,2021-04-23 11:52:03.000000000,2021-04-23 11:49:48.000000000,1,1,0,787540,66fd6c1483746a1e786da97263cbaaed774c6bf7,10,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Bump manila service

Update manila SHA to include fix of the bug we're facing during
tempest jobs

Change-Id: I06d5ef5eacb9448c8d039e165354694aa152d5d5
Related-Bug: #1923181
"
openstack%2Fkayobe~master~I248b5bb9ce5a80a07a2a311cb3aca6daca920720,openstack/kayobe,master,systemd-networkd,I248b5bb9ce5a80a07a2a311cb3aca6daca920720,Ubuntu: support systemd-networkd,MERGED,2021-02-18 17:14:51.000000000,2021-04-23 11:51:54.000000000,2021-04-23 11:50:20.000000000,1412,112,6,776500,3bbf736d8d4672460ab42576d1679b2465b06810,43,3,15,14,14826,Mark Goddard,mgoddard,"Ubuntu: support systemd-networkd

This change adds support for network configuration via systemd-networkd
on Ubuntu systems.

This is implemented via an Ansible Galaxy role,
stackhpc.systemd_networkd which was forked from
aruhier.systemd_networkd. Several improvements were made in
https://github.com/stackhpc/ansible-role-systemd-networkd/pull/1,
including:

* Add support for removing unexpected config files
* Use become where necessary
* Refactor config generation into a single task to improve performance

The systemd_networkd role does not add much abstraction on top of the
systemd-networkd configuration file format, which provides a lot of
flexibility at the expense of additional code in Kayobe. This code is
implemented as filter plugins, similarly to the existing
MichaelRigart.interfaces role.

This patch includes support for:

* Ethernet interfaces
* bridges
* bonds
* VLANs
* virtual Ethernet pairs (to connect Linux bridges and OVS bridges)
* static IP addresses
* static routes
* MTU

Some network attributes are currently not supported for
systemd-networkd:

* rules
* route options
* ethtool_opts
* zone
* allowed addresses

Story: 2004960
Task: 41881

Change-Id: I248b5bb9ce5a80a07a2a311cb3aca6daca920720
"
openstack%2Ftripleo-ansible~master~I4119fc91e02715b72b90aa09009a9211bec7aa20,openstack/tripleo-ansible,master,,I4119fc91e02715b72b90aa09009a9211bec7aa20,Add --no-stream to all tripleo-repos in molecule jobs,ABANDONED,2021-04-23 11:43:03.000000000,2021-04-23 11:46:20.000000000,,6,6,0,787716,47b491428146a3678c637bb0748ac69d1ab44df0,2,1,1,6,7144,James Slagle,slagle,"Add --no-stream to all tripleo-repos in molecule jobs

After --stream added as default in [1] molecule jobs fail when they
don't have stream nodes.

This is a reupload of:
https://review.opendev.org/c/openstack/tripleo-ansible/+/787510
so that we can unblock tripleo-ansible.

[1] https://review.opendev.org/c/openstack/tripleo-repos/+/786485

Change-Id: I4119fc91e02715b72b90aa09009a9211bec7aa20
"
openstack%2Fkayobe~master~Iaa69e5303e554e6b30a23a3e84e36d09972888c9,openstack/kayobe,master,systemd-networkd,Iaa69e5303e554e6b30a23a3e84e36d09972888c9,Ubuntu: refactor network.yml playbook,MERGED,2021-04-06 18:55:30.000000000,2021-04-23 11:36:51.000000000,2021-04-23 11:35:17.000000000,105,49,4,785031,ae2ed2215aeb6daee037d7376c883ae2830bce2e,16,4,2,3,14826,Mark Goddard,mgoddard,"Ubuntu: refactor network.yml playbook

The network.yml playbook is reduced in complexity, now performing
validation before including a role specific to the OS family of the host
(network-redhat or network-debian). This will allow the network
configuration to diverge between OS families without adding excessive
conditionals.  Currently the content of the roles is identical.

Story: 2004960

Change-Id: Iaa69e5303e554e6b30a23a3e84e36d09972888c9
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I649b2a1f7babd86d1fb6a2ebd68b22a3560eb885,openstack/tripleo-heat-templates,stable/ussuri,bug/1922168,I649b2a1f7babd86d1fb6a2ebd68b22a3560eb885,"Remove ovn-cms-options from OVS when OVNCMSOptions is set to """"",MERGED,2021-04-14 01:46:47.000000000,2021-04-23 11:19:08.000000000,2021-04-23 11:19:08.000000000,1,1,0,786100,59fcd220fd83904f6003ab2076ca321ca0f7812a,12,3,1,1,16347,Purandhar Sairam Mannidi,mpsairam,"Remove ovn-cms-options from OVS when OVNCMSOptions is set to """"

This patch resolves issue where ovn-cms-options is left when OVNCMSOptions
is changed to """" in RoleParameters on an existing OVN+DVR+HA environment.

Closes-Bug: #1922168
Change-Id: I649b2a1f7babd86d1fb6a2ebd68b22a3560eb885
(cherry picked from commit 180fcf18bfaf5c433902b6dd0d738e5f6523dd98)
"
openstack%2Fneutron-lib~master~I7d4324260318a75b5e3bcf95e5f697536d020b34,openstack/neutron-lib,master,bug/1923700,I7d4324260318a75b5e3bcf95e5f697536d020b34,[api-ref] Add new 409 response entry of floating IP creation error,MERGED,2021-04-23 05:04:59.000000000,2021-04-23 11:14:58.000000000,2021-04-23 11:11:47.000000000,2,0,0,787664,ac2898479f83e3b0c3d50f35b4ef9126fa00f5b4,9,5,1,1,32919,kiran pawar,kpdev,"[api-ref] Add new 409 response entry of floating IP creation error

When floating IP is created and the recordset quota value of the
external dns service (e.g. designate) exceeds limit, the recordset
creation fails. This throws ExternalDNSOverQuota 409 error.

Related-Bug: #1923700
Change-Id: I7d4324260318a75b5e3bcf95e5f697536d020b34
"
openstack%2Fneutron-lib~master~Ia2f02ed576fda9d91367619de35d7c0900336a4e,openstack/neutron-lib,master,bug/1925528,Ia2f02ed576fda9d91367619de35d7c0900336a4e,"Return one single model field in ""get_collection_query""",MERGED,2021-04-23 07:23:46.000000000,2021-04-23 11:13:40.000000000,2021-04-23 11:11:43.000000000,4,2,0,787672,e2a0f7008d4ed3edea32c8b6e083ef3044154848,9,3,1,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Return one single model field in ""get_collection_query""

Added a new input parameter, ""field"". This parameter represents a
column from the model DB register. The ""query_with_hooks"" method
will return a SQL query that retrieves only the selected field
instead of the full DB model, that implies all register back
references (that implies JOIN clauses for each child DB register
related to the parent DB model).

The goal of this patch is to reduce the query complexity and thus
reduce the DB execution time.

This new parameter is a string.

Related-Bug: #1925528

Change-Id: Ia2f02ed576fda9d91367619de35d7c0900336a4e
"
openstack%2Ftacker~master~I5a470557083f2f9c570107b3506755ceca189486,openstack/tacker,master,only_for_bindep,I5a470557083f2f9c570107b3506755ceca189486,unchanged bindep,ABANDONED,2021-04-23 11:07:44.000000000,2021-04-23 11:10:53.000000000,,2,3,0,787706,1dc7903968ceb652de8b51caa6995e81b8703d9f,2,0,1,2,33295,Shanu Pandit,spandit1511,"unchanged bindep

Change-Id: I5a470557083f2f9c570107b3506755ceca189486
"
openstack%2Ftacker~master~I452adc9d52bed50823a7823a27e43327f1d4b0eb,openstack/tacker,master,only_for_bindep,I452adc9d52bed50823a7823a27e43327f1d4b0eb,Untracked changes,ABANDONED,2021-04-23 11:07:44.000000000,2021-04-23 11:10:13.000000000,,9,3,0,787705,a9b6ef9a1b3ad2a11ab3075edec304f29bba3b86,2,0,1,3,33295,Shanu Pandit,spandit1511,"Untracked changes

Change-Id: I452adc9d52bed50823a7823a27e43327f1d4b0eb
"
openstack%2Ftripleo-ci-health-queries~master~Ia878d594bb9625556c8f937f3c40697d30af1a1f,openstack/tripleo-ci-health-queries,master,,Ia878d594bb9625556c8f937f3c40697d30af1a1f,Adding query for bug https://bugs.launchpad.net/tripleo/+bug/1449136,MERGED,2021-04-22 13:59:15.000000000,2021-04-23 10:50:31.000000000,2021-04-23 10:50:31.000000000,19,1,0,787569,ab0f9550d93b02f0ca28e75c4726f1b10ef65689,16,2,6,5,32458,Ananya,frenzyfriday,"Adding query for bug https://bugs.launchpad.net/tripleo/+bug/1449136

Change-Id: Ia878d594bb9625556c8f937f3c40697d30af1a1f
"
openstack%2Fneutron-lib~master~I9bbf9ebe4252b2aa4b2a185bdc040ac8bf9753c7,openstack/neutron-lib,master,bug/1920001,I9bbf9ebe4252b2aa4b2a185bdc040ac8bf9753c7,Set system_scope='all' in elevated context,MERGED,2021-03-19 11:05:40.000000000,2021-04-23 10:12:17.000000000,2021-04-23 10:10:44.000000000,15,0,0,781625,ff96659ef0e5cbbad9812a79896cf9c22b984e77,9,3,1,2,11975,Slawek Kaplonski,slaweq,"Set system_scope='all' in elevated context

In case when enforce_new_defaults is set to True and new policy rules
are used, context.is_admin flag isn't really working as it was with old
rules.
But in case when elevated context is needed, it means that we need
context which has full rights to the system. So we should also set
""system_scope"" parameter to ""all"" to be sure that system scope queries
can be done with such elevated context always.

It is needed e.g. when elevated context is used to get some data from
db. In such case we need to have db query which will not be scoped to
the single project_id and with new defaults to achieve that system_scope
has to be set to ""all"".

Closes-Bug: #1920001
Change-Id: I9bbf9ebe4252b2aa4b2a185bdc040ac8bf9753c7
"
openstack%2Fironic-python-agent~stable%2Fvictoria~Ibdaad62b39c239d4f3fb3111c2fae9e31e877b28,openstack/ironic-python-agent,stable/victoria,no-mac-stable/victoria,Ibdaad62b39c239d4f3fb3111c2fae9e31e877b28,Do not fail network interface collection on unsupported interface,MERGED,2021-04-22 16:41:38.000000000,2021-04-23 10:10:55.000000000,2021-04-23 10:09:19.000000000,19,6,0,787598,b3f489caf39fc23b77d8f0eb58d6cf5381de797f,7,2,1,3,10239,Dmitry Tantsur,dtantsur,"Do not fail network interface collection on unsupported interface

Currently if one interface cannot be handled (e.g. it has empty MAC),
the whole collection fails. Ignore unsupported interfaces instead.

Change-Id: Ibdaad62b39c239d4f3fb3111c2fae9e31e877b28
(cherry picked from commit 1ab405b5095975c3cf1334477fd40f738f7105b8)
"
openstack%2Fironic-python-agent~stable%2Fwallaby~Ibdaad62b39c239d4f3fb3111c2fae9e31e877b28,openstack/ironic-python-agent,stable/wallaby,no-mac-stable/wallaby,Ibdaad62b39c239d4f3fb3111c2fae9e31e877b28,Do not fail network interface collection on unsupported interface,MERGED,2021-04-22 16:40:49.000000000,2021-04-23 10:10:41.000000000,2021-04-23 10:09:16.000000000,19,6,0,787597,48c39dc8a9413e723d67a987cb90145b3627a392,7,2,1,3,10239,Dmitry Tantsur,dtantsur,"Do not fail network interface collection on unsupported interface

Currently if one interface cannot be handled (e.g. it has empty MAC),
the whole collection fails. Ignore unsupported interfaces instead.

Change-Id: Ibdaad62b39c239d4f3fb3111c2fae9e31e877b28
(cherry picked from commit 1ab405b5095975c3cf1334477fd40f738f7105b8)
"
openstack%2Fmanila~stable%2Fwallaby~I31fabebc6a60814a4cfc04ae0deb49dcb66cab0f,openstack/manila,stable/wallaby,bug/1923566,I31fabebc6a60814a4cfc04ae0deb49dcb66cab0f,Reuse _set_instances_share_data for replicas.,MERGED,2021-04-19 18:37:55.000000000,2021-04-23 09:57:44.000000000,2021-04-23 09:55:54.000000000,10,16,0,786904,5bd8e46da56a6caa54634bf369ec7a9a335e73e4,28,5,1,2,16643,Goutham Pacha Ravi,gouthamr,"Reuse _set_instances_share_data for replicas.

Replicas are just special instances after all, no need for
duplicate code and missing on improvements like exception handling
on NotFound error.

Change-Id: I31fabebc6a60814a4cfc04ae0deb49dcb66cab0f
Closes-Bug: #1923566
(cherry picked from commit 29a943fde726f3c667532079eee7297f0579d951)
"
openstack%2Fcharm-pacemaker-remote~master~Ied6ecf99feec70585494f8aa0d47cf8c67c3e81e,openstack/charm-pacemaker-remote,master,wallaby-bundles,Ied6ecf99feec70585494f8aa0d47cf8c67c3e81e,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 18:15:53.000000000,2021-04-23 09:31:53.000000000,2021-04-23 09:31:53.000000000,53,3,3,779022,5437d7dd032e5ba4cbb4a41767a3085e49522a3e,37,4,5,3,20870,Alex Kavanagh,ajkavanagh,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: Ied6ecf99feec70585494f8aa0d47cf8c67c3e81e
"
openstack%2Fcharm-vault~master~I49b06d194933a8e611a30d03d2548c14045b6e35,openstack/charm-vault,master,wallaby-bundles,I49b06d194933a8e611a30d03d2548c14045b6e35,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 18:53:37.000000000,2021-04-23 09:30:51.000000000,2021-04-23 09:30:51.000000000,117,3,0,779031,28ad14a4d834512f027e792f6b2dd36fe33da4c5,27,3,3,3,20870,Alex Kavanagh,ajkavanagh,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I49b06d194933a8e611a30d03d2548c14045b6e35
"
openstack%2Fcharm-mysql-innodb-cluster~master~Icc574387103d1fdb83836041e346cd2223c2a465,openstack/charm-mysql-innodb-cluster,master,wallaby-bundles,Icc574387103d1fdb83836041e346cd2223c2a465,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 12:41:16.000000000,2021-04-23 09:23:59.000000000,2021-04-23 09:23:59.000000000,232,9,0,778902,8950259b2798411e7ab1c2d343e434ee5af41d1e,25,3,3,6,20870,Alex Kavanagh,ajkavanagh,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: Icc574387103d1fdb83836041e346cd2223c2a465
"
openstack%2Fcharm-octavia-dashboard~master~I91fc84a52d64aebc219707368632f01ee001867b,openstack/charm-octavia-dashboard,master,wallaby-bundles,I91fc84a52d64aebc219707368632f01ee001867b,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 17:22:57.000000000,2021-04-23 09:22:20.000000000,2021-04-23 09:22:20.000000000,286,2,0,778992,b65ad85a2931458a383a8ad942cb24fa918d14d1,25,3,3,4,20870,Alex Kavanagh,ajkavanagh,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I91fc84a52d64aebc219707368632f01ee001867b
"
openstack%2Fneutron~master~I7e9454091236c6e91886a387b7db0d00098bbde1,openstack/neutron,master,test_lb_without_ipset,I7e9454091236c6e91886a387b7db0d00098bbde1,[DNM] Testing: linux bridge firewall without ipset,ABANDONED,2021-03-25 20:20:18.000000000,2021-04-23 08:41:30.000000000,,122,103,0,783103,e50500caa63eb7965f73a961496ba18c5d1e1308,41,2,7,3,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[DNM] Testing: linux bridge firewall without ipset

Error found: http://paste.openstack.org/show/804078/

Change-Id: I7e9454091236c6e91886a387b7db0d00098bbde1
"
openstack%2Fironic~stable%2Fwallaby~Ib779d29930f0b8a993aae5fe707e9c7e6d9fc930,openstack/ironic,stable/wallaby,test-ci-wallaby,Ib779d29930f0b8a993aae5fe707e9c7e6d9fc930,[DNM] test CI wallaby,ABANDONED,2021-04-13 15:22:10.000000000,2021-04-23 08:36:48.000000000,,3,0,0,786063,e018a69a810c0701bf9bd9cd60144c80e6cf14a6,6,1,1,1,23851,Riccardo Pittau,elfosardo,"[DNM] test CI wallaby

Change-Id: Ib779d29930f0b8a993aae5fe707e9c7e6d9fc930
"
openstack%2Fironic~stable%2Fussuri~Ibbcdc8462cb4d8e7664076af195ed8892b0f3b1b,openstack/ironic,stable/ussuri,test-ci-ussuri,Ibbcdc8462cb4d8e7664076af195ed8892b0f3b1b,[DNM] test CI ussuri,ABANDONED,2021-04-13 15:24:13.000000000,2021-04-23 08:36:34.000000000,,3,0,0,786065,f6552d2a9172db648bcd904163769f26de2c0e2a,6,1,1,1,23851,Riccardo Pittau,elfosardo,"[DNM] test CI ussuri

Change-Id: Ibbcdc8462cb4d8e7664076af195ed8892b0f3b1b
"
openstack%2Fironic~master~I79fa1cf07531e453de7ec72b91797725537c00e1,openstack/ironic,master,test-ci-master,I79fa1cf07531e453de7ec72b91797725537c00e1,[DNM] test CI master,ABANDONED,2021-04-13 15:25:22.000000000,2021-04-23 08:36:17.000000000,,3,0,0,786066,99757ab705bb1120c279cb11efcdfe181d6f1aeb,7,1,1,1,23851,Riccardo Pittau,elfosardo,"[DNM] test CI master

Change-Id: I79fa1cf07531e453de7ec72b91797725537c00e1
"
openstack%2Fironic~stable%2Fvictoria~I5204554c85d7fd476c26abc9c11daf4651fd4a90,openstack/ironic,stable/victoria,test-ci-victoria,I5204554c85d7fd476c26abc9c11daf4651fd4a90,[DNM] test CI victoria,ABANDONED,2021-04-13 15:23:05.000000000,2021-04-23 08:36:05.000000000,,3,0,0,786064,542619bb2081314b60d513ecfbe943c50e3801bd,6,1,1,1,23851,Riccardo Pittau,elfosardo,"[DNM] test CI victoria

Change-Id: I5204554c85d7fd476c26abc9c11daf4651fd4a90
"
openstack%2Ftripleo-heat-templates~master~Iacf5e6147f7ef02ba514b7dddc65383faa440826,openstack/tripleo-heat-templates,master,,Iacf5e6147f7ef02ba514b7dddc65383faa440826,Update undercloud TLS template with proper keytab group,MERGED,2020-07-09 13:09:56.000000000,2021-04-23 08:35:05.000000000,2021-04-23 08:35:05.000000000,1,2,0,740275,9cb9618dc96130f716314625aa3fce4cf2a34ef4,29,9,3,1,5046,Lance Bragstad,ldbragst,"Update undercloud TLS template with proper keytab group

The undercloud supports enrolling itself as a FreeIPA client when
configured to use TLS-everywhere. However, we recently hit a bug where
the group permissions of the keytab were set to the old mistral user
(tripleo-admin). This causes issues because more or what mistral did is
being handled by ansible and the deployment user.

This commit updates the group for the keytab to root, which the
deployment users is already a member of. This keeps permission of the
keytab strict but doesn't compromise usability by modifying the group in
a way that requires the deployment user to re-authenticate to access it.

Change-Id: Iacf5e6147f7ef02ba514b7dddc65383faa440826
Closes-Bug: 1886870
"
openstack%2Ftripleo-heat-templates~master~I244ecc4a286a451a14d23d5879f3d5aa2a52dd64,openstack/tripleo-heat-templates,master,bug/1891886,I244ecc4a286a451a14d23d5879f3d5aa2a52dd64,Remove EXPERIMENTAL from ovn/sriov env file,MERGED,2020-08-17 11:51:03.000000000,2021-04-23 08:34:43.000000000,2021-04-23 08:34:43.000000000,0,3,0,746487,550ad722b1ed8e1ff1f310a2b041eb42d2338edf,25,6,2,1,6681,Brent Eagles,beagles,"Remove EXPERIMENTAL from ovn/sriov env file

SRIOV/OVN deployments have been supported since somepoint in
stable/train.

Change-Id: I244ecc4a286a451a14d23d5879f3d5aa2a52dd64
Closes-Bug: #1891886
"
openstack%2Ftripleo-heat-templates~master~I8acd10b2d5624066af3a9426081f9a0679890b3e,openstack/tripleo-heat-templates,master,,I8acd10b2d5624066af3a9426081f9a0679890b3e,Removing duplicate mount point in metrics_qdr,MERGED,2021-04-16 18:20:05.000000000,2021-04-23 08:01:27.000000000,2021-04-23 08:01:27.000000000,0,5,0,786696,1a95607b821c45d663d4e831130f542295a3f5c7,13,4,1,1,30893,Chris Sibbitt,csibbitt,"Removing duplicate mount point in metrics_qdr

The metrics_qdr container fails to start when tls-everywhere is enabled
due to a duplicate mount point for /etc/ipa/ca.crt already configured in
containers-common[1]

[1] https://review.opendev.org/plugins/gitiles/openstack/tripleo-heat-templates/+/refs/heads/master/deployment/containers-common.yaml#146

Change-Id: I8acd10b2d5624066af3a9426081f9a0679890b3e
Resolves: rhbz#1947116
"
openstack%2Ftripleo-validations~master~I5f5861e46adc8ff1e9012086330dd5acc3864736,openstack/tripleo-validations,master,VALIDATION_DEVELOPMENT_WORKFLOW,I5f5861e46adc8ff1e9012086330dd5acc3864736,Make tripleo-ci-centos-8-content-provider dependent of the molecule jobs,ABANDONED,2021-04-23 07:42:41.000000000,2021-04-23 07:50:24.000000000,,5,1,0,787678,3fc94e3ff0cddd860d48792d2441c31fb3d81493,3,1,1,1,11491,Gael Chamoulaud,gchamoul,"Make tripleo-ci-centos-8-content-provider dependent of the molecule jobs

This patch adds the molecule jobs template as a dependency to the
content provide jobs in order to save time and resources.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I5f5861e46adc8ff1e9012086330dd5acc3864736
"
openstack%2Fpatrole~master~Ifad316364eaa9ad0d2885a9fbc7a81024d1b13c8,openstack/patrole,master,retry_create_test_server,Ifad316364eaa9ad0d2885a9fbc7a81024d1b13c8,Retrying create_test_server,NEW,2019-03-12 17:15:06.000000000,2021-04-23 07:48:49.000000000,,28,2,0,642829,bcae6e089d1f6a3b32f9ae3efd57dd38c692e598,16,3,6,4,8911,Sergey Vilgelm,sergey.vilgelm,"Retrying create_test_server

Zuul jobs fails very often with errors at creating an object,
presumably this can be resolved by retry a call.

Add `retry` function to RbaccUtils class.
Add `retry` config option.
Override the `create_test_server` function to use `retry`.

Change-Id: Ifad316364eaa9ad0d2885a9fbc7a81024d1b13c8
Story: 2004369
Task: 27972
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I0141abf0dd83e3a567ea6dcca945f86db129becf,openstack/kolla-ansible,stable/victoria,,I0141abf0dd83e3a567ea6dcca945f86db129becf,Apply Zun configuration for Docker based on inventory,MERGED,2021-04-22 13:00:41.000000000,2021-04-23 07:45:45.000000000,2021-04-23 07:44:01.000000000,18,6,0,787494,15eea3ee6b971ddf92609a68cbdf336c1f97427c,13,3,2,4,14826,Mark Goddard,mgoddard,"Apply Zun configuration for Docker based on inventory

If docker_configure_for_zun is set to true, then Zun-specific
configuration for Docker is applied to all nodes. It should only be
applied based on the relevant inventory groups. In some cases this can
cause Docker to fail to start. See
https://storyboard.openstack.org/#!/story/2008544 for details.

This change applies the configuration based on the zun-compute and
zun-cni-daemon groups. It also modifies the expression to not assume
that these groups exist in the inventory.

Change-Id: I0141abf0dd83e3a567ea6dcca945f86db129becf
Closes-Bug: #1914378
Story: 2008544
Task: 41645
Co-Authored-By: Buddhika Sanjeewa <bsanjeewa@kln.ac.lk>
(cherry picked from commit 5c39810de27063992a45df57b49c2cd7332912d0)
"
openstack%2Fneutron~master~Idd8bfd7075bb537cb8f0398a1e513e74f4ac5eef,openstack/neutron,master,secure-rbac,Idd8bfd7075bb537cb8f0398a1e513e74f4ac5eef,Fix new API policies for RBAC,MERGED,2021-04-06 16:12:55.000000000,2021-04-23 07:44:55.000000000,2021-04-23 04:37:00.000000000,2,2,3,785011,de69a5537830ee685ad8c3c7809d4410c9488903,54,5,1,1,11975,Slawek Kaplonski,slaweq,"Fix new API policies for RBAC

During the migration to the new policies we set policy for
{create,update}_rbac_policy:target_tenant was allowed for all admin
users. That means that PROJECT_ADMIN was able to e.g. create RBAC policy
for the object which belongs to different tenant.
This patch fixes it as PROJECT_ADMIN should be only able to create or
update RBAC for own objects.

Related-blueprint: bp/secure-rbac-roles
Change-Id: Idd8bfd7075bb537cb8f0398a1e513e74f4ac5eef
"
openstack%2Fkuryr-kubernetes~master~I87ca2354ff83c2e7940d2c810d08d030bf26d26e,openstack/kuryr-kubernetes,master,k8s-upgrade,I87ca2354ff83c2e7940d2c810d08d030bf26d26e,Upgrade K8s to v1.20,ABANDONED,2020-12-15 12:17:51.000000000,2021-04-23 07:32:45.000000000,,34,15,2,767123,1201a11059ff4eaa7fcf5f0856b4d4157d77660e,18,6,4,2,32533,Tabitha Fasoyin,tabbie-fash,"Upgrade K8s to v1.20

Upgrades k8s to v1.20 to enable sctp in k8s cluster, since sctp
support is stable in v1.20.

Change-Id: I87ca2354ff83c2e7940d2c810d08d030bf26d26e
"
openstack%2Fkuryr-kubernetes~master~I9dd02a9b9f04740c2c86309d17d327442c112c19,openstack/kuryr-kubernetes,master,Bug-#1901721,I9dd02a9b9f04740c2c86309d17d327442c112c19,Test upgrade method to convert annotations to CRD,ABANDONED,2020-10-31 08:03:51.000000000,2021-04-23 07:32:19.000000000,,32,0,15,760683,e84f1211ed16b39d573bea4d051a5d063802d79e,21,5,6,1,32493,Kafilat Adeleke,kafilat-adeleke,"Test upgrade method to convert annotations to CRD

The _move_annotations_to_crd method on the EndpointsHandler
is missing unit tests coverage.

Change-Id: I9dd02a9b9f04740c2c86309d17d327442c112c19
Closes-Bug: #1901721
"
openstack%2Fmagnum~master~Idb46559ab8f2c9d44bb7bd241db78f4799c44bc2,openstack/magnum,master,,Idb46559ab8f2c9d44bb7bd241db78f4799c44bc2,DNM: Test OVN devstack module,ABANDONED,2021-04-22 13:21:13.000000000,2021-04-23 07:29:00.000000000,,1,0,0,787558,6fc68d1e728e2c7b27e656e8ed7e28ac74bc0655,3,1,1,1,22629,Michal Nasiadka,mnasiadka,"DNM: Test OVN devstack module

Depends-On: https://review.opendev.org/#/c/735097
Change-Id: Idb46559ab8f2c9d44bb7bd241db78f4799c44bc2
"
openstack%2Ftelemetry-tempest-plugin~master~I76627c4f188af057981c43c5a156ac8c14ea4518,openstack/telemetry-tempest-plugin,master,toxupdate,I76627c4f188af057981c43c5a156ac8c14ea4518,Bump python to use 3.6 and 3.8,ABANDONED,2021-03-10 10:48:04.000000000,2021-04-23 07:19:28.000000000,,1,1,0,779711,43cd7fbcfb0baf7f904fd5fd88ebc073e67822e3,3,1,1,1,4264,Matthias Runge,mrunge,"Bump python to use 3.6 and 3.8

Change-Id: I76627c4f188af057981c43c5a156ac8c14ea4518
"
openstack%2Fopenstack-ansible-os_octavia~master~Ia86d96911ce7419afd691c84b47ac67b73098b9d,openstack/openstack-ansible-os_octavia,master,bug/1822348,Ia86d96911ce7419afd691c84b47ac67b73098b9d,Set octavia_amp_image_owner_id by default,ABANDONED,2019-03-29 17:29:19.000000000,2021-04-23 07:14:16.000000000,,4,0,5,648744,852c0fe1e27c051fda8e746506a9b7f341a2732e,11,4,3,1,11628,Michael Johnson,johnsom,"Set octavia_amp_image_owner_id by default

This patch sets the octavia_amp_image_owner_id default so that the
Octavia configuration file has amp_image_owner_id populated.

Change-Id: Ia86d96911ce7419afd691c84b47ac67b73098b9d
Closes-Bug: 1822348
"
openstack%2Fceilometer~master~Id4b984933af71eea5492c5ac66c23b8649433b0a,openstack/ceilometer,master,gate_test,Id4b984933af71eea5492c5ac66c23b8649433b0a,[DNM] gate check,ABANDONED,2021-03-22 09:35:35.000000000,2021-04-23 06:48:10.000000000,,2,1,0,782112,48e29bc5ffdb007c0cf2d25bc497274161257a55,12,1,3,2,4264,Matthias Runge,mrunge,"[DNM] gate check

Change-Id: Id4b984933af71eea5492c5ac66c23b8649433b0a
"
openstack%2Ftempest~master~Ia2f990ce8182f2ab090e77fe4bf420284f48ebfe,openstack/tempest,master,,Ia2f990ce8182f2ab090e77fe4bf420284f48ebfe,Use py3 as the default runtime for tox,NEW,2021-04-20 01:57:38.000000000,2021-04-23 06:11:52.000000000,,1,1,0,787014,2649d4857edc6c9d112f9855a5c041ad1e4b634c,6,1,1,1,31412,Wenping Song,songwenping,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Ia2f990ce8182f2ab090e77fe4bf420284f48ebfe
"
openstack%2Fvalidations-libs~master~I2d27651661af8dd4052e53d6b09a9cbf2ba0267a,openstack/validations-libs,master,unittest/importrevision,I2d27651661af8dd4052e53d6b09a9cbf2ba0267a,Mocking or removing extra imports.,ABANDONED,2021-04-12 13:13:31.000000000,2021-04-23 06:00:24.000000000,,70,35,0,785870,e2dabb0b3a227f345cc60d92197d266c28751780,9,1,3,7,32926,Jiri Podivin,jpodivin,"Mocking or removing extra imports.

Tested modules import various other, often external,
modules as dependencies. With few exceptions these are
not needed during testing, and may in fact introduce
unwanted noise.

Furthermore, the imports have to be taken into account when
describing requirements of the package, in both *.spec files,
and in *requirements.txt files.

This can lead to dependency bloat and various issues
stemming from dependency mismanagement.

This patch replaces specific imported modules with instances
of MagicMock class, using sys.modules API.

The replacement is only in effect if the fakes submodule,
of the test module, is imported before the module introducing
mocked dependency.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I2d27651661af8dd4052e53d6b09a9cbf2ba0267a
"
openstack%2Ftripleo-heat-templates~master~Iae7e0ec1ee964c2c23a3bf0c64c0387e82733a4e,openstack/tripleo-heat-templates,master,bug/1891890,Iae7e0ec1ee964c2c23a3bf0c64c0387e82733a4e,Add manila db purge job,MERGED,2020-08-17 01:09:06.000000000,2021-04-23 05:44:12.000000000,2021-04-23 05:40:37.000000000,89,0,0,746428,a453f1b5999da76eb16b0679bcdd711ffd19faaa,37,6,7,2,9816,Takashi Kajinami,kajinamit,"Add manila db purge job

This patch introduces manila_api_cron container to run manila db purge
job periodically, so that soft-deleted records are removed from Manila
database.

Closes-Bug: #1891890
Depends-on: https://review.opendev.org/#/c/746131/
Depends-on: https://review.opendev.org/#/c/746427/
Change-Id: Iae7e0ec1ee964c2c23a3bf0c64c0387e82733a4e
"
openstack%2Fansible-role-collect-logs~master~I92dc70077f31432afdc62f17c024478a03b0e22a,openstack/ansible-role-collect-logs,master,,I92dc70077f31432afdc62f17c024478a03b0e22a,dump all the shell variables from the system,MERGED,2021-03-02 21:00:12.000000000,2021-04-23 05:42:31.000000000,2021-04-23 05:42:31.000000000,3,0,0,778306,ce97a99cfe0be5dc4aff0443bb1dbe4a915a3164,11,4,2,1,9592,wes hayutin,weshayutin,"dump all the shell variables from the system

We see some deploy failures due to the shell
lang being set to latin-1.
e.g https://bugzilla.redhat.com/show_bug.cgi?id=1910416

Change-Id: I92dc70077f31432afdc62f17c024478a03b0e22a
"
openstack%2Ftripleo-heat-templates~master~I400db08b832ef4e99eefeb934a6a92ec23c92289,openstack/tripleo-heat-templates,master,scaleio-wring-path,I400db08b832ef4e99eefeb934a6a92ec23c92289,ScaleIO: Fix outdate template path,MERGED,2021-04-22 15:10:01.000000000,2021-04-23 05:41:35.000000000,2021-04-23 05:41:35.000000000,1,1,0,787583,99eb1671ae766d4a6f6d9a4be728059d0a77589d,9,4,1,1,9816,Takashi Kajinami,kajinamit,"ScaleIO: Fix outdate template path

This change fixes one outdated template path left when Scale IO
templates were deprecated[1].

[1] 5e4f319edca2d9ee567c94794a47d6516ea1db26

Change-Id: I400db08b832ef4e99eefeb934a6a92ec23c92289
"
openstack%2Ftripleo-heat-templates~master~I4ad67c82d770e39becca0b61693d07cef1f1fff8,openstack/tripleo-heat-templates,master,keystone_cron,I4ad67c82d770e39becca0b61693d07cef1f1fff8,Reintroduce keystone_cron container,MERGED,2020-07-06 00:35:41.000000000,2021-04-23 05:41:10.000000000,2021-04-23 05:41:10.000000000,109,0,2,739383,9e6893cb8651d718f148df219874edfbbfa60798,33,8,6,2,9816,Takashi Kajinami,kajinamit,"Reintroduce keystone_cron container

This patch reintroduces keystone_cron container, which was previously
removed when useless token_flush cron job was removed, so that we can
run trust_flush cron job to purge expired or soft-deleted trusts from
keystone database.

Depends-on: https://review.opendev.org/#/c/739378/
Depends-on: https://review.opendev.org/#/c/739382/
Change-Id: I4ad67c82d770e39becca0b61693d07cef1f1fff8
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9,openstack/tripleo-heat-templates,stable/train,,Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9,Expose mistral::rpc_response_timeout as Heat parameter,MERGED,2020-09-22 14:47:48.000000000,2021-04-23 05:40:28.000000000,2021-04-23 05:40:28.000000000,5,1,0,753365,5ecafca640b7dd47dd2c7cfc7d35f6988d4149e3,12,6,2,1,25877,Luke Short,ekultails,"Expose mistral::rpc_response_timeout as Heat parameter

It can now be set via the use of 'MistralRpcResponseTimeout'.

Conflicts:
    deployment/mistral/mistral-base.yaml

Change-Id: Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9
Related-Change-Id: I1fb16e6db72316dae7143e77c1508e7e091feb6a
(cherry picked from commit 1890ab0fb9f037ac2d32897da8340ffeabff1504)
(cherry picked from commit 530230abd36cea7c8269c10c27b7c079cd5b5b45)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~If75b1df0e26a7a3f87be1de9026836a2aa590fe7,openstack/tripleo-heat-templates,stable/ussuri,,If75b1df0e26a7a3f87be1de9026836a2aa590fe7,Expose max_concurrent_builds as a Heat parameter,MERGED,2020-09-22 14:49:33.000000000,2021-04-23 05:34:53.000000000,2021-04-23 05:33:27.000000000,15,0,0,753367,dd24b3133c32f52788cc1830f5649ccb8c596c7f,26,5,3,2,25877,Luke Short,ekultails,"Expose max_concurrent_builds as a Heat parameter

It can now be set via the use of 'NovaMaxConcurrentBuilds'.

Change-Id: If75b1df0e26a7a3f87be1de9026836a2aa590fe7
Co-authored-By: David J Peacock <david.j.peacock@gmail.com>
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit efe179190d85229f20b8b1b004e1d7bf13ac1349)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9,openstack/tripleo-heat-templates,stable/ussuri,Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9,Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9,Expose mistral::rpc_response_timeout as a Heat parameter,MERGED,2020-09-22 14:46:34.000000000,2021-04-23 05:33:33.000000000,2021-04-23 05:33:33.000000000,5,1,3,753364,b17267791a2583e67649998c12e1430b692d06d1,39,9,3,1,25877,Luke Short,ekultails,"Expose mistral::rpc_response_timeout as a Heat parameter

It can now be set via the use of 'MistralRpcResponseTimeout'.

Note: the original commit into Victoria and master used 'RPC'
in the name instead of 'Rpc'. Refer to the Related-Change-Id
below. This slightly altered patch now has the same naming
convention as used elsewhere for other RPC service
configurations.

Change-Id: Ie2ecfcc054238bb3780f3052de4b4e12c09fa7d9
Related-Change-Id: I1fb16e6db72316dae7143e77c1508e7e091feb6a
(cherry picked from commit 1890ab0fb9f037ac2d32897da8340ffeabff1504)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I59e74a76d8467bd49c95da5031a23cda0cc6f52d,openstack/tripleo-heat-templates,stable/ussuri,,I59e74a76d8467bd49c95da5031a23cda0cc6f52d,Expose Innodb_buffer_pool_size,MERGED,2020-09-22 14:53:53.000000000,2021-04-23 05:10:24.000000000,2021-04-23 05:09:00.000000000,17,0,0,753372,96d50af58cf2bd59ccdb067b2586a0814c4c25ef,24,7,3,2,25877,Luke Short,ekultails,"Expose Innodb_buffer_pool_size

This can now be set via 'MysqlInnodbBufferPoolSize'.

Change-Id: I59e74a76d8467bd49c95da5031a23cda0cc6f52d
Related-Change-Id: I4e4d4ded28846a68b2ac6f993d9adaca11bf18ce
(cherry picked from commit 05d943107feef20f5c64f376e688478447d2d226)
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I59e74a76d8467bd49c95da5031a23cda0cc6f52d,openstack/tripleo-heat-templates,stable/train,,I59e74a76d8467bd49c95da5031a23cda0cc6f52d,Expose Innodb_buffer_pool_size,MERGED,2020-09-22 14:55:02.000000000,2021-04-23 05:10:21.000000000,2021-04-23 05:09:07.000000000,17,0,0,753373,489aab582cf469859810432c1747da0bf2430d15,19,5,3,2,25877,Luke Short,ekultails,"Expose Innodb_buffer_pool_size

This can now be set via 'MysqlInnodbBufferPoolSize'.

Change-Id: I59e74a76d8467bd49c95da5031a23cda0cc6f52d
Related-Change-Id: I4e4d4ded28846a68b2ac6f993d9adaca11bf18ce
(cherry picked from commit 05d943107feef20f5c64f376e688478447d2d226)
(cherry picked from commit 1662512a37d684e40c35f23d957a8a508e996255)
"
openstack%2Fironic~stable%2Fwallaby~I11b92612d6686b7133ddef67068664c9b81df30e,openstack/ironic,stable/wallaby,fix-wsman-factory-reset-stable/wallaby,I11b92612d6686b7133ddef67068664c9b81df30e,Fix idrac-wsman BIOS factory_reset result finding,MERGED,2021-04-08 21:06:01.000000000,2021-04-23 04:44:45.000000000,2021-04-22 07:29:00.000000000,389,29,2,785513,38cb6148798b03a36d0b8aabffefe51a72efb922,20,7,2,6,23847,Richard G. Pioso,richard.pioso,"Fix idrac-wsman BIOS factory_reset result finding

This change fixes the idrac-wsman BIOS hardware interface
implementation's determination of the result of its factory_reset
cleaning/deploy step, and, on success, updating of the cached BIOS
settings to their defaults. It uses a deterministic means of identifying
when the reset has successfully completed and the default BIOS settings
are available to be read.

The time when the iDRAC last performed a system inventory is referred to
as Collect System Inventory on Restart (CSIOR). CSIOR updates the values
of BIOS settings that can be read from the iDRAC. The interface reads
the CSIOR and records it on the ironic bare metal node before requesting
the factory reset and rebooting the system to process the request.
Following the system reboot, the CSIOR is periodically read until its
value changes from its recorded value. If that occurs before the
configured amount of time has passed, the step succeeds and the cached
BIOS settings are updated. Otherwise, the step fails and the node is
placed in the failed state.

Story: 2008058
Task: 40739
Depends-On: https://review.opendev.org/c/openstack/python-dracclient/+/748571
Change-Id: I11b92612d6686b7133ddef67068664c9b81df30e
(cherry picked from commit 82627acadc635f32b5d06ab4c97029e2a3551e35)
(cherry picked from commit df368cbd8a2f4975a5efea355e8cd9ba101c0cb9)
"
openstack%2Fneutron~master~Iac103fc3a8c7d3a56e82d55bbbbdc66d89f6cd6a,openstack/neutron,master,secure-rbac,Iac103fc3a8c7d3a56e82d55bbbbdc66d89f6cd6a,Add tests for RBAC API's new policy rules,MERGED,2021-04-06 16:12:55.000000000,2021-04-23 04:40:11.000000000,2021-04-23 04:37:14.000000000,268,0,3,785012,ba8aff630769a219219c59eb45ed769f1bb1a703,38,5,1,1,11975,Slawek Kaplonski,slaweq,"Add tests for RBAC API's new policy rules

Related-blueprint: bp/secure-rbac-roles
Change-Id: Iac103fc3a8c7d3a56e82d55bbbbdc66d89f6cd6a
"
openstack%2Fwhitebox-tempest-plugin~master~Idc8f0de7ca6d36abe236c3fe699c4bf8755ede49,openstack/whitebox-tempest-plugin,master,bp/allow-disabling-cpu-flag,Idc8f0de7ca6d36abe236c3fe699c4bf8755ede49,Test allow disabling CPU flags,MERGED,2021-02-17 11:28:40.000000000,2021-04-23 03:36:59.000000000,2021-04-23 03:36:59.000000000,20,8,25,776112,5cfd4237ac3606b913066028d9d72203cbe7f629,54,9,13,3,8864,Artom Lifshitz,artom,"Test allow disabling CPU flags

Implements test logic that validates disabling cpu flags within the
guest.

Related blueprint allow-disabling-cpu-flags
Depends-on: https://review.opendev.org/c/openstack/nova/+/774240
Change-Id: Idc8f0de7ca6d36abe236c3fe699c4bf8755ede49
"
openstack%2Fneutron~stable%2Ftrain~Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,openstack/neutron,stable/train,bug/1907695-stable/ussuri-stable/train,Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,Stop metadata proxy gracefully,MERGED,2021-02-19 08:07:48.000000000,2021-04-23 00:53:34.000000000,2021-04-23 00:51:50.000000000,62,5,2,776451,d8d9c1c7e8f5bbf002542411478677d83113cd3d,70,3,7,3,11975,Slawek Kaplonski,slaweq,"Stop metadata proxy gracefully

HAProxy supports hard stop [1] via SIGTERM signal. From the
documentation:

  """"""
  ... when the SIGTERM signal is sent to the haproxy process,
  it immediately quits and all established connections are
  closed.
  """"""

In case the process does not finish, the SIGKILL signal is sent.
The PID file created by the process is deleted.

[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4

Closes-Bug: #1910691

Conflicts:
    neutron/agent/metadata/driver.py
    neutron/tests/unit/agent/dhcp/test_agent.py
    neutron/tests/unit/agent/metadata/test_driver.py

Change-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb
(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)
"
openstack%2Fneutron~stable%2Fvictoria~If815965f538b764cca4cc31b83ef5f4d4a50fc20,openstack/neutron,stable/victoria,,If815965f538b764cca4cc31b83ef5f4d4a50fc20,[OVN] Fix FDB table not registered in OvnSbIdl,MERGED,2021-04-18 21:01:42.000000000,2021-04-23 00:17:28.000000000,2021-04-23 00:15:38.000000000,2,0,0,786798,ae7a0567ef680970b3f7b65c7fcf721cb51898b2,52,3,1,1,32586,Elvira García Ruiz,elvira,"[OVN] Fix FDB table not registered in OvnSbIdl

With MAC learning a new table FDB has been added to OVN [0]. It needs to
be registered into OvnSbIdl so that it is recognized.

[0] https://github.com/ovn-org/ovn/commit/6ec3b12590f9193659d549e30d96b1a22bbb1288

Related-Bug: #1904412
Change-Id: If815965f538b764cca4cc31b83ef5f4d4a50fc20
Signed-off-by: Elvira García <egarciar@redhat.com>
(cherry picked from commit 662cd600753476a4f64df64361a0d31ecf54a1ec)
"
openstack%2Fopenstack-helm~master~Ibc06d00f659c9ae7a1a14d1b2aa70607842b2f53,openstack/openstack-helm,master,,Ibc06d00f659c9ae7a1a14d1b2aa70607842b2f53,Keystone: Fix error - wrong number of args for set,MERGED,2021-04-22 13:20:55.000000000,2021-04-23 00:05:01.000000000,2021-04-23 00:03:22.000000000,4,3,3,787557,f498f203cfad40c6a4f59dae07fa597087659712,24,8,1,3,24780,Sangeet Gupta,sgupta,"Keystone: Fix error - wrong number of args for set

Change-Id: Ibc06d00f659c9ae7a1a14d1b2aa70607842b2f53
"
openstack%2Fopenstack-ansible-os_gnocchi~master~I9f1339b0b592e18a227b9a53cad9ef4af7fa82c0,openstack/openstack-ansible-os_gnocchi,master,,I9f1339b0b592e18a227b9a53cad9ef4af7fa82c0,Use ceph_client symlinking process,MERGED,2021-04-21 18:38:05.000000000,2021-04-22 23:45:13.000000000,2021-04-22 23:44:00.000000000,11,36,0,787433,b5c233cdad067dcf831e9fd63cea2f43b8b62892,16,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Use ceph_client symlinking process

This moves ceph_client include from the playbook
into the role itself to leverage libraries symlinking
inside venv and to align with other roles

Change-Id: I9f1339b0b592e18a227b9a53cad9ef4af7fa82c0
Needed-By: https://review.opendev.org/c/openstack/openstack-ansible/+/769974
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Id7308f028f33716be5e3df6699c3f2c12e33e344,openstack/tripleo-heat-templates,stable/victoria,bug/1917868-stable/victoria,Id7308f028f33716be5e3df6699c3f2c12e33e344,HA: inject public certificates without blocking container,MERGED,2021-03-30 18:25:29.000000000,2021-04-22 23:14:02.000000000,2021-04-22 23:14:02.000000000,5,1,0,783942,63001263ad011d5a1dcca42fc7c79599fe6c78c8,26,5,2,1,20778,Damien Ciabrini,dciabrin,"HA: inject public certificates without blocking container

Do not inject public certificates in pacemaker bundles by means
of ""podman cp"", as this pauses the container for a short amount
of time and can make pacemaker operation fail during that time
window and impact cluster for no reason.

Keep ""podman cp"" for non-HA containers, as the freeze is short
and doesn't seem to impact podman monitoring anyway.

The new certificate injection only works for podman 1.9+, lower
version won't overwrite the existing certificate.

(cherry-picked from 93e53b74293cb4478ea415255fee96e7fddda004)
(squashed with Ic6e4264c5ad46bd2589cc907c365af2d42fde63d)
(removed a part that should stay in puppet-tripleo before wallaby)

Closes-Bug: #1917868

Change-Id: Id7308f028f33716be5e3df6699c3f2c12e33e344
"
openstack%2Fironic~stable%2Fwallaby~Ie5f735e077f4cee89d7ae59c414909eb4e0c734b,openstack/ironic,stable/wallaby,pregenerated-stable/wallaby,Ie5f735e077f4cee89d7ae59c414909eb4e0c734b,Do not use pregenerated tokens with a pre-built ISO,MERGED,2021-04-22 09:03:27.000000000,2021-04-22 22:28:37.000000000,2021-04-22 22:11:49.000000000,89,14,0,787491,953b8e89502cf3924c0afe7bd05fa578d7aff3f1,14,2,1,3,10239,Dmitry Tantsur,dtantsur,"Do not use pregenerated tokens with a pre-built ISO

If an ISO is provided by a user and removable configuration is not used,
we cannot embed the token. Retrieve it normally instead.

Change-Id: Ie5f735e077f4cee89d7ae59c414909eb4e0c734b
(cherry picked from commit 8647aeca658a55a7fec67f6397d9eda8fcfe2341)
"
openstack%2Fironic-lib~master~I83237b5ca29ce1bec73e659381b134cc5c9844e0,openstack/ironic-lib,master,add-xena-python-jobtemplates,I83237b5ca29ce1bec73e659381b134cc5c9844e0,Add Python3 xena unit tests,MERGED,2021-03-18 10:22:01.000000000,2021-04-22 22:15:25.000000000,2021-04-22 22:11:45.000000000,1,1,0,781247,fb8b6c1c1e1872c30f97483297bdd39f7cb75627,9,3,1,1,22816,OpenStack Release Bot,release,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I83237b5ca29ce1bec73e659381b134cc5c9844e0
"
openstack%2Ftripleo-heat-templates~master~Ie453fcdbb8eb42bbf718506b0b9b443ccd84543a,openstack/tripleo-heat-templates,master,,Ie453fcdbb8eb42bbf718506b0b9b443ccd84543a,Add dependency on OVNMacAddressNetwork for role ResourceGroup,MERGED,2021-03-31 18:43:52.000000000,2021-04-22 21:54:09.000000000,2021-04-22 21:54:09.000000000,3,1,1,784155,7a4a43d55d8437cb154d1ae715b50a586080ff0a,11,4,1,1,7144,James Slagle,slagle,"Add dependency on OVNMacAddressNetwork for role ResourceGroup

The role ResourceGroup (puppet/role.role.j2.yaml template) tries to
create a port on the OVNMacAddressNetwork, as such we need a dependency
in the top level stack, otherwise the network may not exist before Heat
attempts to create the port.

Change-Id: Ie453fcdbb8eb42bbf718506b0b9b443ccd84543a
Signed-off-by: James Slagle <jslagle@redhat.com>
"
openstack%2Ftripleo-heat-templates~master~I1e5cd62f7009e7bc02724e73b5c0ba5e5fa5d112,openstack/tripleo-heat-templates,master,ceilo-service_credentials,I1e5cd62f7009e7bc02724e73b5c0ba5e5fa5d112,Set hieradata for the ceilometer::agent::service_credentials class,MERGED,2021-04-06 13:15:51.000000000,2021-04-22 21:47:58.000000000,2021-04-22 21:47:58.000000000,7,0,0,784952,a7c593325d0c85dded19b54e43463eb5dc767b0b,13,5,1,1,9816,Takashi Kajinami,kajinamit,"Set hieradata for the ceilometer::agent::service_credentials class

This is a prep work to replace the deperecated ceilometer::agent::auth
class by the new ceilometer::agent::service_credentials class.
The remaining hieradata for the ceilometer::agent::auth class will be
removed later.

Depends-on: https://review.opendev.org/775730
Change-Id: I1e5cd62f7009e7bc02724e73b5c0ba5e5fa5d112
"
openstack%2Fopenstack-ansible-openstack_hosts~master~I4f82bb1a08d01f30c45444f52db357e47245fe31,openstack/openstack-ansible-openstack_hosts,master,osa-user-agent,I4f82bb1a08d01f30c45444f52db357e47245fe31,Add custom user-agent for git clones from opendev.org,MERGED,2021-04-19 10:54:15.000000000,2021-04-22 21:39:23.000000000,2021-04-22 21:38:14.000000000,45,0,1,786864,f2220c4fe05ac41c512280b9be2c586acdb9ddd3,10,3,1,3,25023,Jonathan Rosser,jrosser,"Add custom user-agent for git clones from opendev.org

There has been one confirmed denial-of-service against the opendev
git servers due to an openstack-ansible deployment failing to
correctly use cached wheels from the repo server and instead clone
and build the source code for each openstack service on each target
host.

Whilst we wait for further information to understand the root cause
of that DOS, it is possible to adjust the user-agent that git uses
on a per-domain basis.

A previous patch [1] creates a user-agent string very early during
the setup of a deployment host, or all-in-one environment, but not
any other nodes in a multinode environment. This patch addresses
creating /etc/gitconfig for all hosts in a multinode environment.

If git is not installed on a host (which would be the default state
for hosts other than the deploy host and repo server) a placeholder
/etc/gitconfig is written in case later in the deployment the
python_venv_build role installs git and clones openstack services
from source code to install into a venv without use of the repo
server container. The repo server should normally clone once for
each service deployed for the whole environment.

The user-agent, where possible, contains the git version string,
the openstack-ansible version string and the OSA 'component' to
aid understanding traffic patterns seen at the opendev.org git servers.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/786596

Change-Id: I4f82bb1a08d01f30c45444f52db357e47245fe31
"
openstack%2Fopenstack-ansible-os_gnocchi~master~I93c48cd15443f5959224d7560077b52263a5ea38,openstack/openstack-ansible-os_gnocchi,master,781513,I93c48cd15443f5959224d7560077b52263a5ea38,Fix gnocchi installation for new pip resolver,MERGED,2021-03-18 16:50:00.000000000,2021-04-22 21:32:53.000000000,2021-04-22 21:31:34.000000000,16,7,0,781513,01f88ffaa331c770552b71d58244e9d36ca358bf,30,3,8,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix gnocchi installation for new pip resolver

Change-Id: I93c48cd15443f5959224d7560077b52263a5ea38
"
openstack%2Fkuryr-tempest-plugin~master~Ida82b70aedd3979697ef7e5760ea389ab99c4a5b,openstack/kuryr-tempest-plugin,master,bp/configure-lb-listeners-timeout,Ida82b70aedd3979697ef7e5760ea389ab99c4a5b,Adds tests for making listener timeouts configurable,MERGED,2021-03-30 20:01:50.000000000,2021-04-22 21:29:48.000000000,2021-04-22 21:28:30.000000000,81,0,16,783966,bb32e5064472facc2156b99094d9f2b92ca67e32,51,5,9,3,32533,Tabitha Fasoyin,tabbie-fash,"Adds tests for making listener timeouts configurable

Change-Id: Ida82b70aedd3979697ef7e5760ea389ab99c4a5b
"
openstack%2Foctavia~master~I5c11c892ca1184624d6d8e111f69ec30cab2a0d8,openstack/octavia,master,,I5c11c892ca1184624d6d8e111f69ec30cab2a0d8,Gate-Fix: Replace Octavia hacking O349 with H216,MERGED,2021-04-21 22:25:40.000000000,2021-04-22 21:28:15.000000000,2021-04-22 21:26:27.000000000,0,18,0,787453,beccbb17e2be3272d6acf86f06b5da4da3afd694,13,4,1,2,11628,Michael Johnson,johnsom,"Gate-Fix: Replace Octavia hacking O349 with H216

The new flake8 includes check H216 to encourage the use of unittest.mock
instead of third party mock modules. Octavia had a hacking check, O349,
for the same purpose. Unfortunately, H216 is flagging that check as
an improper use.
This patch removes O349, in favor of H216, for the Octaiva hacking checks.

Change-Id: I5c11c892ca1184624d6d8e111f69ec30cab2a0d8
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I542956aef6da63a376790ec87d4767196ff85067,openstack/tripleo-heat-templates,stable/victoria,remove_nova_nfs_enabled-stable/victoria,I542956aef6da63a376790ec87d4767196ff85067,Remove no longer used NovaNfsEnabled parameter and condtion,MERGED,2021-04-13 07:09:14.000000000,2021-04-22 21:28:07.000000000,2021-04-22 21:28:07.000000000,0,46,0,785927,df04e951812dc7affefbb2fe122c252cc07e8d11,13,4,1,4,17216,Martin Schuppert,mcschupp,"Remove no longer used NovaNfsEnabled parameter and condtion

With Id5503ed274bd5dc0c5365cc994de7e5cdcbc2fb6 the handling of
/var/lib/nova on NFS changed and NovaNfsEnabled and nova_nfs_enabled
condition is no longer used in most of the deployment files.

This cleans up the no longer used parameter and condition in
nova-compute-container-puppet.yaml, nova-ironic-container-puppet.yaml
nova-libvirt-container-puppet.yaml and nova-migration-target-container-puppet.yaml

Change-Id: I542956aef6da63a376790ec87d4767196ff85067
(cherry picked from commit d2f6a3be26b2de2bb6aabf9e5bd3accfacc01916)
"
openstack%2Fopenstack-ansible-os_cloudkitty~master~Iec5c24d38f492af064968b2b621bba8b507d56f5,openstack/openstack-ansible-os_cloudkitty,master,,Iec5c24d38f492af064968b2b621bba8b507d56f5,Test using integrated build,MERGED,2021-03-26 07:33:31.000000000,2021-04-22 21:16:57.000000000,2021-04-22 21:12:46.000000000,3,2,0,783219,e2aa965ff38b68a0d95bb3eb1016cca3c2c3971b,18,4,3,1,18279,Jonathan Herlin,Jonher937,"Test using integrated build

In order to do a more complete verification of any patches,
we add a full uncontainerised OpenStack deployment to the
functional testing using the integrated repo.
This replaces the previous role functional test mechanism.

Depends-On: Id191e07eab2bef84dad30e55f59fd914b0358bfe
Change-Id: Iec5c24d38f492af064968b2b621bba8b507d56f5
"
openstack%2Fpbr~master~Ic7b71f1093671533c9f17fd621e02299bfbd7a6d,openstack/pbr,master,fix-python_requires-support,Ic7b71f1093671533c9f17fd621e02299bfbd7a6d,Reverse ordering of 'D1_D2_SETUP_ARGS',MERGED,2021-03-15 19:09:49.000000000,2021-04-22 21:07:36.000000000,2021-04-22 21:06:16.000000000,38,45,1,780659,607b4e0547234f70e2048904256a0d4dd4e4b894,16,6,4,1,15334,Stephen Finucane,sfinucan,"Reverse ordering of 'D1_D2_SETUP_ARGS'

The previous ordering was confusing and placed new values before old
ones. Switch this order, making it more obvious what we're going *from*
and what we're going *to*. With this reordering, the old name no longer
makes sense so we rename the attribute.

Change-Id: Ic7b71f1093671533c9f17fd621e02299bfbd7a6d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fneutron~master~Iab5ed8a57aaf68f626e5b386f72d941ef7b22227,openstack/neutron,master,port_del_opt,Iab5ed8a57aaf68f626e5b386f72d941ef7b22227,Improve port delete performance,MERGED,2021-04-12 14:34:39.000000000,2021-04-22 21:04:02.000000000,2021-04-22 21:01:22.000000000,24,24,2,785889,b221a4af337acef2de3deb561493a932cc123fc7,80,5,3,5,5948,Oleg Bondarev,obondarev,"Improve port delete performance

Pass existing port dict to IPAM delete and l3 callback handler
to save 2 port DB requests.
This gives ~10-15% improvement.

Change-Id: Iab5ed8a57aaf68f626e5b386f72d941ef7b22227
"
openstack%2Fopenstack-helm~master~I3b0ef5a8547d7f155cb7afa6dee1d8e9eb8100e4,openstack/openstack-helm,master,keystone-hook,I3b0ef5a8547d7f155cb7afa6dee1d8e9eb8100e4,"Revert ""[keystone] Fix fernet secret reset""",ABANDONED,2021-01-20 22:03:52.000000000,2021-04-22 21:01:59.000000000,,1,5,0,771730,ff5a0a8a88a77579a75d6ed70018a801f03934de,4,2,1,3,21420,Gage Hugo,ghugo,"Revert ""[keystone] Fix fernet secret reset""

This reverts commit f5a757b1065d26593bdf6fca55ed70772d5ff722.

Reason for revert: This breaks the upgrade path for helm2, the
secrets are deleted since they have changed and not recreated
upon upgrade.

Adding the pre-upgrade hook does not work as intended with helm2,
the problem was never fixed in helm2 due to it reaching EOL.

Change-Id: I3b0ef5a8547d7f155cb7afa6dee1d8e9eb8100e4
"
openstack%2Fopenstack-helm-infra~master~I2add0a7fa668a59fafdcd939c5830f7d78094bdc,openstack/openstack-helm-infra,master,change-784819-2,I2add0a7fa668a59fafdcd939c5830f7d78094bdc,Updated mysqld-exporter image,MERGED,2021-04-05 19:38:15.000000000,2021-04-22 20:43:37.000000000,2021-04-22 20:42:08.000000000,3,2,0,784819,fbc95640162cd3096520c2fa595300deb71fc325,16,9,3,3,19391,Chi Lo,cl566n,"Updated mysqld-exporter image

Updated mysqld-exporter image version to v0.12.1.

Change-Id: I2add0a7fa668a59fafdcd939c5830f7d78094bdc
"
openstack%2Ftripleo-heat-templates~master~Ic94025f51083da77f4ba6ee934ebcf32bcb9909f,openstack/tripleo-heat-templates,master,cinder-backup-active-active,Ic94025f51083da77f4ba6ee934ebcf32bcb9909f,Support removing cinder-backup from pcmk control,MERGED,2021-04-16 20:04:08.000000000,2021-04-22 20:33:43.000000000,2021-04-22 20:31:38.000000000,43,2,1,786722,f08ed8036b677ffffab11be320317e2167e84edd,9,7,1,4,21129,Alan Bishop,ASBishop,"Support removing cinder-backup from pcmk control

TripleO traditionally deploys the cinder-backup service to run
A/P (active/passive) under pacemaker, but cinder itself supports
running A/A. This patch adds deploy_steps_tasks to remove the
service from pcmk control (essentially deleting the pcs resource)
prior to deploying it as a regular containerized (non-pcmk) service.

A new cinder-backup-active-active.yaml environment file helps the
user clarify their intent. The legacy cinder-backup.yaml file
continues to deploy the service under pacemaker (to preserve the
default deployment behavior), but rather than encouraging users to
edit the file to switch deployment modes (as a comment in the file
used to advise), users can proactively deploy the A/A mode (or switch
from A/P to A/A) by including the new environment file.

Change-Id: Ic94025f51083da77f4ba6ee934ebcf32bcb9909f
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I649b2a1f7babd86d1fb6a2ebd68b22a3560eb885,openstack/tripleo-heat-templates,stable/victoria,bug/1922168,I649b2a1f7babd86d1fb6a2ebd68b22a3560eb885,"Remove ovn-cms-options from OVS when OVNCMSOptions is set to """"",MERGED,2021-04-14 01:45:00.000000000,2021-04-22 20:31:48.000000000,2021-04-22 20:31:48.000000000,1,1,0,786099,b276cb24b079795051dc1f4af55ed53de72bb9bd,9,3,1,1,16347,Purandhar Sairam Mannidi,mpsairam,"Remove ovn-cms-options from OVS when OVNCMSOptions is set to """"

This patch resolves issue where ovn-cms-options is left when OVNCMSOptions
is changed to """" in RoleParameters on an existing OVN+DVR+HA environment.

Closes-Bug: #1922168
Change-Id: I649b2a1f7babd86d1fb6a2ebd68b22a3560eb885
(cherry picked from commit 180fcf18bfaf5c433902b6dd0d738e5f6523dd98)
"
openstack%2Ftripleo-heat-templates~master~I807466bbeeaae950286c20be148a0366d0382f30,openstack/tripleo-heat-templates,master,simplify_tht,I807466bbeeaae950286c20be148a0366d0382f30,Simplify ironic service templates,MERGED,2021-04-19 07:01:17.000000000,2021-04-22 20:31:13.000000000,2021-04-22 20:31:13.000000000,119,156,2,786820,66534f0b4a80f8131ac433ec118c7a7ddb95b906,10,4,1,6,8833,Rabi Mishra,rabi,"Simplify ironic service templates

Change-Id: I807466bbeeaae950286c20be148a0366d0382f30
"
openstack%2Ftripleo-heat-templates~master~I5e841ea76575eed28f1c8fc9a95cd4d3fd62dbc4,openstack/tripleo-heat-templates,master,rgw_by_default,I5e841ea76575eed28f1c8fc9a95cd4d3fd62dbc4,Deploy RGW by default when cephadm environment is included,MERGED,2021-04-19 07:55:55.000000000,2021-04-22 20:30:40.000000000,2021-04-22 20:30:40.000000000,28,6,1,786827,faf71068b0adf427b545ef0f9f1873bb638637bb,30,5,5,4,25402,Francesco Pantano,fmount,"Deploy RGW by default when cephadm environment is included

This patch just includes the content of ceph-rgw.yaml in the common
cephadm environment file. This means that when Ceph is deployed by
TripleO, the RGW component will be applied using cephadm.
The cephadm-rbd-only environment file is also added and can be applied
for all the use cases where swift is used and rgw shouldn't replace
it.

Change-Id: I5e841ea76575eed28f1c8fc9a95cd4d3fd62dbc4
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I2e54771f0a01d22ce95530bef146ea368189db24,openstack/tripleo-heat-templates,stable/train,,I2e54771f0a01d22ce95530bef146ea368189db24,Add systemd dependency to openvswitch to ovn-controller,MERGED,2021-04-20 11:22:02.000000000,2021-04-22 20:30:31.000000000,2021-04-22 20:30:31.000000000,2,0,0,786970,c9fa94dd52cc20855586fb13e3ba51c2c2662f06,8,3,1,1,11082,Kamil Sambor,ksambor,"Add systemd dependency to openvswitch to ovn-controller

Ovn controller need openvswitch to be running properly. This
patch adds the required depends_on so paunch can add the dependency to
the systemd service file.

Closes-bug: #1921097
Change-Id: I2e54771f0a01d22ce95530bef146ea368189db24
(cherry picked from commit 51059676b6b6d73648a6ffb3c6364a6f3b5ed42f)
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I2e54771f0a01d22ce95530bef146ea368189db24,openstack/tripleo-heat-templates,stable/ussuri,ovs-ovn-controller-stable/victoria-stable/ussuri,I2e54771f0a01d22ce95530bef146ea368189db24,Add systemd dependency to openvswitch to ovn-controller,MERGED,2021-04-20 11:17:56.000000000,2021-04-22 20:30:25.000000000,2021-04-22 20:30:25.000000000,2,0,0,786969,d81c5544d24b6567f1615f6065d340278f317604,7,3,1,1,11082,Kamil Sambor,ksambor,"Add systemd dependency to openvswitch to ovn-controller

Ovn controller need openvswitch to be running properly. This
patch adds the required depends_on so paunch can add the dependency to
the systemd service file.

Closes-bug: #1921097
Change-Id: I2e54771f0a01d22ce95530bef146ea368189db24
(cherry picked from commit 51059676b6b6d73648a6ffb3c6364a6f3b5ed42f)
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I2e54771f0a01d22ce95530bef146ea368189db24,openstack/tripleo-heat-templates,stable/victoria,ovs-ovn-controller-stable/victoria,I2e54771f0a01d22ce95530bef146ea368189db24,Add systemd dependency to openvswitch to ovn-controller,MERGED,2021-04-20 11:16:46.000000000,2021-04-22 20:10:33.000000000,2021-04-22 20:10:33.000000000,2,0,0,786968,48c44479616b5a2a971b27c5b4d196397d8ea58d,7,3,1,1,11082,Kamil Sambor,ksambor,"Add systemd dependency to openvswitch to ovn-controller

Ovn controller need openvswitch to be running properly. This
patch adds the required depends_on so paunch can add the dependency to
the systemd service file.

Closes-bug: #1921097
Change-Id: I2e54771f0a01d22ce95530bef146ea368189db24
(cherry picked from commit 51059676b6b6d73648a6ffb3c6364a6f3b5ed42f)
"
openstack%2Ftripleo-heat-templates~master~If93deb5c522f541de69ff6fc5e23a83fd42b625a,openstack/tripleo-heat-templates,master,rhel-enforcement,If93deb5c522f541de69ff6fc5e23a83fd42b625a,Make SkipRhelEnforcement boolean,MERGED,2021-04-22 00:25:37.000000000,2021-04-22 20:08:46.000000000,2021-04-22 20:08:46.000000000,5,5,5,787462,210560d01876793a620d9b3d1dbe9e226b912908,13,6,3,2,9816,Takashi Kajinami,kajinamit,"Make SkipRhelEnforcement boolean

The SkipRhelEnforcement parameter is supposed to take boolean value,
thus should be typed as boolean so that its type is validated as part
of template validations.

Change-Id: If93deb5c522f541de69ff6fc5e23a83fd42b625a
"
openstack%2Ftripleo-heat-templates~master~I323e21743feba125a2785bbc45130510a40ca708,openstack/tripleo-heat-templates,master,,I323e21743feba125a2785bbc45130510a40ca708,Glance: Fix wrong indent about healthcheck key,MERGED,2021-04-21 15:44:27.000000000,2021-04-22 20:08:31.000000000,2021-04-22 20:08:31.000000000,1,1,0,787412,0b04407d0227ebd9ba1bca6a123b23569a2cd7ec,15,4,2,1,9816,Takashi Kajinami,kajinamit,"Glance: Fix wrong indent about healthcheck key

This change fixes one wrong indent introduced by the template
refactoring[1].

[1] 84cdac6274168ea3221125631930ffeff53cf974

Change-Id: I323e21743feba125a2785bbc45130510a40ca708
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I89dccbac7c450b16956edf6a136aed6f4a21214d,openstack/tripleo-ansible,stable/train,,I89dccbac7c450b16956edf6a136aed6f4a21214d,Do not log ssh keys by default,MERGED,2021-04-20 10:47:16.000000000,2021-04-22 20:08:24.000000000,2021-04-22 20:08:24.000000000,21,0,0,787183,2dc2e7c78b69e3dd679a0f4471bb3f7821b6bad0,7,4,1,2,6469,Carlos Gonçalves,cgoncalves,"Do not log ssh keys by default

This patch adds a no_log clause to tasks that might dump ssh key
information to the ansible logs on deployment. Logging can be re-enabled
by setting hide_sensitive_logs to false.

Conflicts:
    tripleo_ansible/roles/octavia_undercloud/tasks/main.yml

Related-bug: #1918138
Change-Id: I89dccbac7c450b16956edf6a136aed6f4a21214d
(cherry picked from commit 06db51b27df1864078fa9950acb52e5976a3142c)
(cherry picked from commit fb2fd1a58bfbe216b630f276528b1f6d7addac76)
(cherry picked from commit f87e93544ff7919df54b990b2e6e5b9e07479b67)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I89dccbac7c450b16956edf6a136aed6f4a21214d,openstack/tripleo-ansible,stable/ussuri,,I89dccbac7c450b16956edf6a136aed6f4a21214d,Do not log ssh keys by default,MERGED,2021-04-20 10:43:44.000000000,2021-04-22 20:08:07.000000000,2021-04-22 20:08:07.000000000,21,0,0,787182,f87e93544ff7919df54b990b2e6e5b9e07479b67,7,4,1,2,6469,Carlos Gonçalves,cgoncalves,"Do not log ssh keys by default

This patch adds a no_log clause to tasks that might dump ssh key
information to the ansible logs on deployment. Logging can be re-enabled
by setting hide_sensitive_logs to false.

Conflicts:
    tripleo_ansible/roles/octavia_undercloud/tasks/main.yml

Related-bug: #1918138
Change-Id: I89dccbac7c450b16956edf6a136aed6f4a21214d
(cherry picked from commit 06db51b27df1864078fa9950acb52e5976a3142c)
(cherry picked from commit fb2fd1a58bfbe216b630f276528b1f6d7addac76)
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I89dccbac7c450b16956edf6a136aed6f4a21214d,openstack/tripleo-ansible,stable/victoria,,I89dccbac7c450b16956edf6a136aed6f4a21214d,Do not log ssh keys by default,MERGED,2021-04-20 10:43:10.000000000,2021-04-22 20:08:04.000000000,2021-04-22 20:08:04.000000000,21,0,0,787181,fb2fd1a58bfbe216b630f276528b1f6d7addac76,7,4,1,2,6469,Carlos Gonçalves,cgoncalves,"Do not log ssh keys by default

This patch adds a no_log clause to tasks that might dump ssh key
information to the ansible logs on deployment. Logging can be re-enabled
by setting hide_sensitive_logs to false.

Conflicts:
    tripleo_ansible/roles/octavia_undercloud/tasks/main.yml

Related-bug: #1918138
Change-Id: I89dccbac7c450b16956edf6a136aed6f4a21214d
(cherry picked from commit 06db51b27df1864078fa9950acb52e5976a3142c)
"
openstack%2Frpm-packaging~master~Id4c920e300ce933c15e33932cff44eb5a37e0e4d,openstack/rpm-packaging,master,,Id4c920e300ce933c15e33932cff44eb5a37e0e4d,nova: add nova-policy man page,MERGED,2021-04-22 15:53:38.000000000,2021-04-22 19:57:15.000000000,2021-04-22 19:57:15.000000000,1,0,0,787592,10b98b4315cde5ce2055a409229b3b50abf8ea6d,9,4,1,1,13294,Javier Peña,jpena,"nova: add nova-policy man page

This was added by https://review.opendev.org/c/openstack/nova/+/729918

Change-Id: Id4c920e300ce933c15e33932cff44eb5a37e0e4d
"
openstack%2Fbifrost~master~Ibb9cf61fa1de6f8f131f10c3a841efddb1bc6670,openstack/bifrost,master,fix-the-kolla-job,Ibb9cf61fa1de6f8f131f10c3a841efddb1bc6670,[CI] Make Kolla job running again,MERGED,2021-04-22 14:50:28.000000000,2021-04-22 19:51:28.000000000,2021-04-22 19:44:42.000000000,1,1,0,787581,e3d16ab416c7dfb94a55fe60858b4d01b8a77c60,12,6,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Make Kolla job running again

Kolla renamed the CentOS 8 Stream jobs recently.

Change-Id: Ibb9cf61fa1de6f8f131f10c3a841efddb1bc6670
"
openstack%2Fpython-tripleoclient~master~Id9b5c621c25158bb72559c3d3c52a62c840b3a6a,openstack/python-tripleoclient,master,network-data-v2,Id9b5c621c25158bb72559c3d3c52a62c840b3a6a,Add commands to extract|provision net vips,MERGED,2021-03-10 00:50:26.000000000,2021-04-22 19:48:05.000000000,2021-04-22 19:40:55.000000000,121,0,0,779634,d24b41c62b47ad4786424da790d397c6ce399257,14,5,2,2,24245,Harald Jensås,harald.jensas,"Add commands to extract|provision net vips

Add command to extract Virtual IPs information from
a deployed overcloud. This writes a 'vip_data' file
that should be used when managing neutron Virtual IP
resources ""outside"" the overcloud Heat stack.

Add command to provision Virtual IPs using 'vip_data'
file as input. This command will output a
'vip_environment' file with the resource_registry and
paramters to replace the neutron resources in the
overcloud Heat stack.

Depends-On: https://review.opendev.org/774857
Partial-Implements: blueprint network-data-v2-ports
Change-Id: Id9b5c621c25158bb72559c3d3c52a62c840b3a6a
"
openstack%2Fpython-tripleoclient~master~I09c886fe6bada721caac61d25d9a0915cf9aff02,openstack/python-tripleoclient,master,network-data-v2,I09c886fe6bada721caac61d25d9a0915cf9aff02,overcloud node extract add network info,MERGED,2021-02-26 13:39:29.000000000,2021-04-22 19:43:22.000000000,2021-04-22 19:40:37.000000000,271,21,3,777748,7570bdf52eca5fe3283e1d62745ef6c7fe8528b2,25,5,3,3,24245,Harald Jensås,harald.jensas,"overcloud node extract add network info

Extend the command which extract overcloud node
information to also include network information.

The command now requires the --roles-file used
when deploying the overcloud to be passed because
this is the source for these options:
 * default_route_networks
 * networks_skip_config

Partial-Implements: blueprint network-data-v2-ports
Depends-On: https://review.opendev.org/772359
Change-Id: I09c886fe6bada721caac61d25d9a0915cf9aff02
"
openstack%2Fpython-tripleoclient~stable%2Fvictoria~I1046148da87712934184373a10fa3d2a46e620e4,openstack/python-tripleoclient,stable/victoria,,I1046148da87712934184373a10fa3d2a46e620e4,Replace exception with LOG.info,MERGED,2021-04-14 16:11:58.000000000,2021-04-22 19:43:04.000000000,2021-04-22 19:40:34.000000000,1,1,0,786276,2fc55afe1ce54a826af928ace880de61e37c9217,7,2,1,1,8297,Sofer Athlan-Guyot,chem,"Replace exception with LOG.info

This is a backport of [1] but in between now and then the code in
tripleo_validation was move back into python-tripleoclient[2] and the
review in [1] was included.

This means that we cannot have a review in master as it's already
there.

[1] https://review.opendev.org/c/openstack/tripleo-validations/+/777220
[2] https://review.opendev.org/c/openstack/python-tripleoclient/+/782776

Original commit message:

Updated _run_validator_run to no longer raise an execption if/when a group is empty

Using a log vs. exception is useful when we want to run an automated set of validations
within our Update CI pipeline.

Co-authored-by: Owen McGonagle <omcgonag@redhat.com>
Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I1046148da87712934184373a10fa3d2a46e620e4
"
openstack%2Fpython-tripleoclient~stable%2Fussuri~I1046148da87712934184373a10fa3d2a46e620e4,openstack/python-tripleoclient,stable/ussuri,,I1046148da87712934184373a10fa3d2a46e620e4,Replace exception with LOG.info,MERGED,2021-04-14 16:13:08.000000000,2021-04-22 19:42:45.000000000,2021-04-22 19:40:31.000000000,1,1,0,786226,0debcde236a75a501eb47f11b31508a28d795271,8,2,2,1,8297,Sofer Athlan-Guyot,chem,"Replace exception with LOG.info

This is a backport of [1] but in between now and then the code in
tripleo_validation was move back into python-tripleoclient[2] and the
review in [1] was included.

This means that we cannot have a review in master as it's already
there.

[1] https://review.opendev.org/c/openstack/tripleo-validations/+/777220
[2] https://review.opendev.org/c/openstack/python-tripleoclient/+/782776

Original commit message:

Updated _run_validator_run to no longer raise an execption if/when a group is empty

Using a log vs. exception is useful when we want to run an automated set of validations
within our Update CI pipeline.

Co-authored-by: Owen McGonagle <omcgonag@redhat.com>
Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Change-Id: I1046148da87712934184373a10fa3d2a46e620e4
(cherry picked from commit 2fc55afe1ce54a826af928ace880de61e37c9217)
"
openstack%2Fopenstacksdk~master~Ie63d8232fa86d93f0ae71d2e1bd808c80c8c93cf,openstack/openstacksdk,master,node_passthru,Ie63d8232fa86d93f0ae71d2e1bd808c80c8c93cf,Adds Node Vendor passthru,MERGED,2021-04-08 16:51:45.000000000,2021-04-22 19:20:43.000000000,2021-04-22 19:16:10.000000000,119,0,22,785445,bf73fd91ad5896f43e5d645a55b2661ed5bace4e,44,4,10,4,33321,Kajal Sah,kajalsah,"Adds Node Vendor passthru

Implements: Adds node vendor passthru
Task: #40959
Story: #2008193
Change-Id: Ie63d8232fa86d93f0ae71d2e1bd808c80c8c93cf
"
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I5d1d891474e4d7b47f497c5bd0144ce24e291260,openstack/puppet-tripleo,stable/victoria,pin-puppetlabs-haproxy,I5d1d891474e4d7b47f497c5bd0144ce24e291260,stable-only: Pin puppetlabs-haproxy,MERGED,2021-04-22 12:38:36.000000000,2021-04-22 19:04:28.000000000,2021-04-22 19:04:28.000000000,1,1,2,787546,f6852abbfb8caa2aa6376074b4ddf91c35b396f9,14,2,4,1,9816,Takashi Kajinami,kajinamit,"stable-only: Pin puppetlabs-haproxy

The puppetlabs-haproxy repo no longer has the master branch and
the master branch has been replaced by the main branch.
While we switched the branch in use in master[1], for stable branches
it is better to pin it to a specific version to avoid issue caused by
any future change in puppetlabs-haproxy.

The version is determined based on the version currently provided in
RDO.

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/786018/4/Puppetfile_extras
Change-Id: I5d1d891474e4d7b47f497c5bd0144ce24e291260
"
openstack%2Fpuppet-tripleo~master~I6e1a144cd3e449491b61d060a3df5355a405e67a,openstack/puppet-tripleo,master,barbican-authtoken,I6e1a144cd3e449491b61d060a3df5355a405e67a,Remove redundant import of barbican::keystone::authtoken,MERGED,2021-04-20 14:29:52.000000000,2021-04-22 19:04:24.000000000,2021-04-22 19:04:24.000000000,0,1,0,787204,7486679c9766e50d40b94798d76b8aaa8cbfcd73,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Remove redundant import of barbican::keystone::authtoken

The barbican::keystone::authtoken class in imported by
the barbican::authtoken class thus we don't need to include it in
the barbican::api class.

Change-Id: I6e1a144cd3e449491b61d060a3df5355a405e67a
"
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0b588aad746f9c3e715eac61dfc58712d45fce38,openstack/tripleo-heat-templates,stable/train,,I0b588aad746f9c3e715eac61dfc58712d45fce38,[ffwd] Rework WA#1925078,MERGED,2021-04-14 09:13:43.000000000,2021-04-22 19:04:18.000000000,2021-04-22 19:04:18.000000000,19,17,0,786183,3b763ab2e253ec2279f6e1d464c6c7b32d93db1c,19,5,1,1,11166,Lukas Bezdicka,xbezdick,"[ffwd] Rework WA#1925078

Copying grubenv file before running leapp can result with
grubenv containing old saved entry and attempting to boot
from wrong grub entry instead of leapp.

Workaround for booting next entry can fail if BootOrder
is changed during the leapp. Instead of picking first
entry from BootOrder we actually look for redhat record
and grab it's bootnum.

Change-Id: I0b588aad746f9c3e715eac61dfc58712d45fce38
Resolves: rhbz#1942446
"
openstack%2Fopenstack-ansible-os_nova~master~Ieb7e1081cf307720bb9d78002ca10a8deaadffb5,openstack/openstack-ansible-os_nova,master,osa-facts,Ieb7e1081cf307720bb9d78002ca10a8deaadffb5,Do not use service_facts,MERGED,2021-02-25 18:09:41.000000000,2021-04-22 19:00:17.000000000,2021-04-22 18:58:47.000000000,33,3,2,777644,f0d865ea6f9bb6d1ee56b8d81edb105ea4a3abd1,18,3,4,1,25023,Jonathan Rosser,jrosser,"Do not use service_facts

This module collects a very large number of facts, 5x more than
data the 'minimum' set collected by the setup module.

To increase performance by minimising the facts per host, we
can avoid using the service_facts module and use systemd to
return the service status.

Change-Id: Ieb7e1081cf307720bb9d78002ca10a8deaadffb5
"
openstack%2Fnova~master~I66f2771fc4bf5f211d40bdbde963d3c7e6049463,openstack/nova,master,,I66f2771fc4bf5f211d40bdbde963d3c7e6049463,glance: Improve [glance]enable_rbd_download and associated options help text,MERGED,2021-04-09 14:29:07.000000000,2021-04-22 18:38:05.000000000,2021-04-22 13:32:29.000000000,22,14,3,785656,3125d4c99c2f033184ab4b1aa768b8bc7f6ac1b6,52,4,3,1,10135,Lee Yarwood,lyarwood,"glance: Improve [glance]enable_rbd_download and associated options help text

The previous text was slightly misleading and didn't clearly highlight
the need to avoid enabling this option when a compute uses Ceph as a
backing store.

Change-Id: I66f2771fc4bf5f211d40bdbde963d3c7e6049463
"
openstack%2Ftripleo-quickstart~master~I81d098822af34f16f532aa48fa57025d29c511da,openstack/tripleo-quickstart,master,,I81d098822af34f16f532aa48fa57025d29c511da,Provision networks prior to heat stack  in fs002,MERGED,2021-04-22 03:35:55.000000000,2021-04-22 18:06:33.000000000,2021-04-22 18:05:03.000000000,12,0,1,787469,b12659df86c820d634926a66bb151d31ca6dcfd3,16,7,3,1,8833,Rabi Mishra,rabi,"Provision networks prior to heat stack  in fs002

Related-Bug: #1925367
Change-Id: I81d098822af34f16f532aa48fa57025d29c511da
"
openstack%2Fironic~master~I98233646472b6a5150bf1bd6fd42d364a71bd830,openstack/ironic,master,token_diagram_typo,I98233646472b6a5150bf1bd6fd42d364a71bd830,[doc][trivial] Fix diagram in agent token admin docs,MERGED,2021-04-22 10:14:19.000000000,2021-04-22 18:01:20.000000000,2021-04-22 11:11:09.000000000,1,1,0,787522,7fecedad2485eddd8fe0e739b8e0cb52f1053b4e,8,2,1,1,11292,Arne Wiebalck,wiebalck,"[doc][trivial] Fix diagram in agent token admin docs

Change-Id: I98233646472b6a5150bf1bd6fd42d364a71bd830
"
openstack%2Fos-refresh-config~master~I56f8dd1be31697db6cc0e9d63211727fbcc86047,openstack/os-refresh-config,master,,I56f8dd1be31697db6cc0e9d63211727fbcc86047,Remove tripleo-multinode-container-minimal jobs,ABANDONED,2021-02-03 22:04:17.000000000,2021-04-22 17:51:24.000000000,,0,1,0,774006,17caa91a054fcedfa4ae1138a6a55511dfe81fe8,3,1,1,1,7144,James Slagle,slagle,"Remove tripleo-multinode-container-minimal jobs

os-refresh-config is no longer used in TripleO wallaby, so we can remove
our functional jobs.

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: I56f8dd1be31697db6cc0e9d63211727fbcc86047
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~I2dd9f8d066b25053d1a7acfe228ec72c58132c45,openstack/openstack-ansible,stable/victoria,,I2dd9f8d066b25053d1a7acfe228ec72c58132c45,Install neutron components on Zun compute hosts without Nova,MERGED,2021-04-22 05:20:16.000000000,2021-04-22 17:42:32.000000000,2021-04-22 17:40:32.000000000,3,0,0,787391,3e3820f465386b6ab331efe72a0ee7cef4cd9401,12,3,1,1,25023,Jonathan Rosser,jrosser,"Install neutron components on Zun compute hosts without Nova

At present Zun will only work on hosts with Nova present as these
receive the relevant Neutron components. This patch adds the
Neutron components to the Zun compute group so they can be
installed in environments where Nova and Zun are kept separate.

Change-Id: I2dd9f8d066b25053d1a7acfe228ec72c58132c45
(cherry picked from commit 82bf6306ceb8c68688b712ead99eaae9156885ac)
"
openstack%2Fopenstack-helm~master~I02ba6c5a934a9b598e3cab0bddb86b2337e4337f,openstack/openstack-helm,master,zanata/translations,I02ba6c5a934a9b598e3cab0bddb86b2337e4337f,Imported Translations from Zanata,MERGED,2021-04-21 07:45:23.000000000,2021-04-22 17:27:20.000000000,2021-04-22 17:25:49.000000000,38,5,0,787318,5db968334d7f6ec7f6125803e9e443f7250d6c3e,7,2,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I02ba6c5a934a9b598e3cab0bddb86b2337e4337f
"
openstack%2Fopenstack-ansible~master~Ic6ab0155cfcf7f40aa8d569f0ba2604218094642,openstack/openstack-ansible,master,osa-facts,Ic6ab0155cfcf7f40aa8d569f0ba2604218094642,Gather minimum facts,MERGED,2021-03-08 08:24:25.000000000,2021-04-22 17:23:18.000000000,2021-04-22 17:16:19.000000000,1,1,0,779174,2b5e48526fe3680dc4a15a8bea7792cd30e9d54e,24,3,6,1,25023,Jonathan Rosser,jrosser,"Gather minimum facts

Switch to gathering minimum facts to increase deployment performance

Change-Id: Ic6ab0155cfcf7f40aa8d569f0ba2604218094642
"
openstack%2Fopenstack-ansible~master~Ia1b7a3d53e6a3be064acabb6c6dd2e921c85ca94,openstack/openstack-ansible,master,,Ia1b7a3d53e6a3be064acabb6c6dd2e921c85ca94,Remove keepalived haproxy notification script,MERGED,2021-03-23 08:31:13.000000000,2021-04-22 17:21:42.000000000,2021-04-22 17:15:37.000000000,0,45,0,782373,a929302c8e7392a83767761fb2b5be11a4bb29ac,12,3,1,2,31542,Andrew Bonney,andrewbonney,"Remove keepalived haproxy notification script

This script triggers a restart of HAProxy when any keepalived
instance enters the fault state. This can cause an unnecessary
restart of HAProxy, dropping internal connections, if the external
instance fails.

An alternative approach would be to associate this notification
with the internal instance only, but given the nature of the
existing HAProxy liveness check and the use of systemd across all
deployments this appears to be covered by service restart policy.

Change-Id: Ia1b7a3d53e6a3be064acabb6c6dd2e921c85ca94
"
openstack%2Fopenstack-ansible~master~Id191e07eab2bef84dad30e55f59fd914b0358bfe,openstack/openstack-ansible,master,cloudkitty,Id191e07eab2bef84dad30e55f59fd914b0358bfe,Integrate cloudkitty,MERGED,2021-03-26 09:36:39.000000000,2021-04-22 17:15:50.000000000,2021-04-22 17:15:50.000000000,169,0,7,783236,77068780b2de1734148549e3260240ecb58ddbe9,28,3,7,13,18279,Jonathan Herlin,Jonher937,"Integrate cloudkitty

Integrate the required bits to make Cloudkitty deploy without having
to hand-pick files from the os_cloudkitty repo

Change-Id: Id191e07eab2bef84dad30e55f59fd914b0358bfe
"
openstack%2Fpuppet-glance~master~If0aa39e31bd59a0a14c24f4835a2c355305798b3,openstack/puppet-glance,master,healthcheck,If0aa39e31bd59a0a14c24f4835a2c355305798b3,Add support for healthcheck middleware options,MERGED,2021-04-20 14:49:40.000000000,2021-04-22 17:11:00.000000000,2021-04-22 17:09:38.000000000,101,0,8,787207,dd731f5d600ac15c1e74068cb267e5421ddd53c5,14,3,2,3,9816,Takashi Kajinami,kajinamit,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: If0aa39e31bd59a0a14c24f4835a2c355305798b3
"
openstack%2Fopenstack-ansible~master~Ida12ddf0ffb59dbe3b93f57ef25c7c15351e0273,openstack/openstack-ansible,master,782376,Ida12ddf0ffb59dbe3b93f57ef25c7c15351e0273,"Revert ""Set buster jobs to NV""",MERGED,2021-04-22 07:58:04.000000000,2021-04-22 16:49:27.000000000,2021-04-22 16:43:53.000000000,7,9,0,787478,e99c9e51c5a98187db84bc06f41c3bba25e3a3fc,8,4,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Revert ""Set buster jobs to NV""

Since libvirt 7 has been backported to osbpo Victoria repo, we still
can offer Buster support to Wallaby and make W Buster -> Bullseye
release. However, distro path won't be available for Buster on W.

This reverts commit 87da457895736285c3061d78205de55864ff9b79.

Change-Id: Ida12ddf0ffb59dbe3b93f57ef25c7c15351e0273
"
openstack%2Fironic-python-agent~master~Ibdaad62b39c239d4f3fb3111c2fae9e31e877b28,openstack/ironic-python-agent,master,no-mac,Ibdaad62b39c239d4f3fb3111c2fae9e31e877b28,Do not fail network interface collection on unsupported interface,MERGED,2021-04-07 15:17:00.000000000,2021-04-22 16:37:40.000000000,2021-04-22 16:35:25.000000000,19,6,1,785220,1ab405b5095975c3cf1334477fd40f738f7105b8,13,3,1,3,10239,Dmitry Tantsur,dtantsur,"Do not fail network interface collection on unsupported interface

Currently if one interface cannot be handled (e.g. it has empty MAC),
the whole collection fails. Ignore unsupported interfaces instead.

Change-Id: Ibdaad62b39c239d4f3fb3111c2fae9e31e877b28
"
openstack%2Ftripleo-docs~master~I83204f0dd2cf9f46767ff48f4f2dfab97f31518d,openstack/tripleo-docs,master,network-data-v2,I83204f0dd2cf9f46767ff48f4f2dfab97f31518d,Service VIPs examples in deployed server,MERGED,2021-03-25 23:26:18.000000000,2021-04-22 16:36:01.000000000,2021-04-22 16:32:45.000000000,82,30,0,783121,4f40676dab7a91bbf707fb8ed69e5f1692070d83,10,4,2,1,24245,Harald Jensås,harald.jensas,"Service VIPs examples in deployed server

In change I4794418546363888e7a555a16b45b7a4417f1ef8 the
interfaces used in the deploed server guide to override
the Redis and OVNDBs service virtual IPs are removed.

Update the doc to show an example using the new interface
that must be used after re-factoring the service VIPs out
of the heat stack, moving it to external deploy step tasks.

Change-Id: I83204f0dd2cf9f46767ff48f4f2dfab97f31518d
Related: blueprint network-data-v2-ports
Depends-On: https://review.opendev.org/777259
"
openstack%2Fopenstacksdk~master~Ia3fd1052f438aedc6bc89bcca71834bcbafec9b9,openstack/openstacksdk,master,neutron-osc-migration,Ia3fd1052f438aedc6bc89bcca71834bcbafec9b9,Allow unknown attributes to be included in request body,MERGED,2020-12-22 14:31:20.000000000,2021-04-22 16:35:49.000000000,2021-04-22 16:30:58.000000000,176,5,15,768208,e5381d1296bba744ef77dcd86d3bea32327b5c17,51,6,11,36,11975,Slawek Kaplonski,slaweq,"Allow unknown attributes to be included in request body

It is optional for resources to send in request's body attributes
which aren't included in mapping.
This is needed for Neutron to allow sending extra arguments in
POST/PUT requests to Neutron.

If that will be possible in SDK and OSC, Neutron team should be finally
able to deprecate (and drop) support for neutronclient CLI.

Change-Id: Ia3fd1052f438aedc6bc89bcca71834bcbafec9b9
"
openstack%2Fnova~master~I0b93bdc12cdce591c7e642ab8830e92445467b9a,openstack/nova,master,bug/1882521,I0b93bdc12cdce591c7e642ab8830e92445467b9a,libvirt: Remove dead error handling code,MERGED,2021-03-10 10:15:07.000000000,2021-04-22 16:34:15.000000000,2021-04-22 16:29:29.000000000,44,105,24,779704,dc814a6822c98e0f3ec9d652d48f523d0f76b96f,50,3,5,2,15334,Stephen Finucane,sfinucan,"libvirt: Remove dead error handling code

We removed calls to configure the libvirt-based firewall driver in
'_create_guest_with_network' as part of change
I5a9e5532c46a5f7064441ae644125d21efe5fda1. Since then, there only other
way we can successfully create a guest and still end up in an exception
handler is if the plugging of VIFs fails. Despite this, all three code
paths still contained references to a 'guest' attribute that would never
be set.

Clarify things by removing the use of the 'guest' attribute from the
other code paths. This means the '_cleanup_failed_start' helper only has
one caller and some unnecessary logic itself, so we can fold that into
its caller. We also take this opportunity to remove an unnecessary
error handler - 'nova.exception.VirtualInterfaceCreateException' is
derived from 'Exception' and doesn't need its own handler - and add the
type hints for the function. The heavy lifting for the latter was
already done in change I2489bf16dabc8a83b2044139247f4245ae29adb1 so this
is pretty easy to grok.

Next up, we really need to stop passing around dicts of block device
mapping info, but that's another change for another day.

Change-Id: I0b93bdc12cdce591c7e642ab8830e92445467b9a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fopenstacksdk~master~I9bc1d42cfb0cb6574a9f765b21a50e338a98f2b6,openstack/openstacksdk,master,apply-import-order,I9bc1d42cfb0cb6574a9f765b21a50e338a98f2b6,Fix import order in network unit tests,MERGED,2021-04-19 13:42:54.000000000,2021-04-22 16:34:01.000000000,2021-04-22 16:30:25.000000000,40,38,0,786877,d1676c24d317e7ee4115582cdfc28279ea910e2b,12,3,1,36,23851,Riccardo Pittau,elfosardo,"Fix import order in network unit tests

Change-Id: I9bc1d42cfb0cb6574a9f765b21a50e338a98f2b6
"
openstack%2Fopenstack-ansible~master~I70776e25369db6f7d82ab065aa4591f5549a506c,openstack/openstack-ansible,master,,I70776e25369db6f7d82ab065aa4591f5549a506c,Do not generate subunit report,MERGED,2021-04-21 12:17:30.000000000,2021-04-22 16:21:05.000000000,2021-04-22 16:14:35.000000000,0,10,0,787358,574d9c338f36a61d5ea9b2c44682a02bd249c024,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Do not generate subunit report

Modern ARA does not support generation of the subunit reports.
Despite that being pretty nice feature, we should remove it's support

Change-Id: I70776e25369db6f7d82ab065aa4591f5549a506c
"
openstack%2Fopenstack-ansible~master~I2801f857d15bd5fa1b0bc925e33522007bc990e8,openstack/openstack-ansible,master,osa-uc-cache,I2801f857d15bd5fa1b0bc925e33522007bc990e8,Use the cached copy of the u-c file from the repo server,MERGED,2021-02-08 17:28:31.000000000,2021-04-22 16:18:41.000000000,2021-04-22 16:14:06.000000000,30,0,0,774523,d575b658ab1fefeeb2e72b69190949eeb66abb83,36,3,10,2,25023,Jonathan Rosser,jrosser,"Use the cached copy of the u-c file from the repo server

Depends-On: I2a28a180e0bb947da2b091ec0671a48ef857e8e5
Change-Id: I2801f857d15bd5fa1b0bc925e33522007bc990e8
"
openstack%2Fironic~master~Id40e9ed39c051a6988745a624ec4f755dc79cd41,openstack/ironic,master,token_doc_typo,Id40e9ed39c051a6988745a624ec4f755dc79cd41,[doc][trivial] Fix typo in agent token admin docs,MERGED,2021-04-22 10:08:46.000000000,2021-04-22 16:15:49.000000000,2021-04-22 11:10:12.000000000,1,1,0,787521,cf98a468ea202d847e232f6ee77836d23086387d,8,2,1,1,11292,Arne Wiebalck,wiebalck,"[doc][trivial] Fix typo in agent token admin docs

Change-Id: Id40e9ed39c051a6988745a624ec4f755dc79cd41
"
openstack%2Fopenstack-ansible-os_trove~master~Ibbc6faa2a5d5b3af39db9ae214ba9087a777a0eb,openstack/openstack-ansible-os_trove,master,784571,Ibbc6faa2a5d5b3af39db9ae214ba9087a777a0eb,[doc] Document how to use separate RabbitMQ cluster,MERGED,2021-04-05 14:52:17.000000000,2021-04-22 16:04:54.000000000,2021-04-22 16:01:33.000000000,92,0,0,784781,9b8e916d19e84bfd698e46bd924c3fbce0aa6a95,35,4,14,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"[doc] Document how to use separate RabbitMQ cluster

Since Trove requires guest network to be passed to the rabbitmq it makes
sense to use standalone rabbitmq cluster and instruction about how to do
might be useful

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/784780
Change-Id: Ibbc6faa2a5d5b3af39db9ae214ba9087a777a0eb
"
openstack%2Fopenstack-ansible-os_trove~master~I2ba758de38ed3fee10fe1485aa25621eddbf9046,openstack/openstack-ansible-os_trove,master,784571,I2ba758de38ed3fee10fe1485aa25621eddbf9046,Update trove configuration,MERGED,2021-04-02 14:06:55.000000000,2021-04-22 16:02:51.000000000,2021-04-22 16:01:27.000000000,213,398,2,784571,c92b99d3f431eddc51e85457c8e214a601f77f1c,63,4,30,12,28619,Dmitriy Rabotyagov,noonedeadpunk,"Update trove configuration

We haven't payed attention to the trove for a while and we need to
align configuration with current state of the service.
trove-conductor and trove-taskmanager configs are not
loaded by trove services anymore (at least by default), so we merge all
options into trove.conf

Also defaults and deprecated options are dropped from the config.

We implement bunch of new variables to cover missed logic and
some usecases.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/784565
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/784113
Change-Id: I2ba758de38ed3fee10fe1485aa25621eddbf9046
"
openstack%2Fproject-config~master~I3d0d79bb13aebbaacc55c2b57d264f5832eb3951,openstack/project-config,master,add-inmotion-nodepool-config,I3d0d79bb13aebbaacc55c2b57d264f5832eb3951,Add InMotion cloud to nodepool,MERGED,2021-04-21 17:56:48.000000000,2021-04-22 16:02:30.000000000,2021-04-22 15:45:32.000000000,287,0,0,787428,48515a5fcc0ddc47f6f13947b3bf64eacf25d57d,10,3,1,4,4146,Clark Boylan,cboylan,"Add InMotion cloud to nodepool

This adds the new inmotion cloud to nodepool. We will upload images then
use a max server count of 8. There is potential to grow this number if
we can run an executor in this cloud that can hit node private addresses
or if we can get IPv6.

Depends-On: https://review.opendev.org/c/opendev/system-config/+/787425
Change-Id: I3d0d79bb13aebbaacc55c2b57d264f5832eb3951
"
openstack%2Fopenstack-helm-images~master~Idcc4cd1e8568c7e5db4f4a68840fa5889860aa38,openstack/openstack-helm-images,master,,Idcc4cd1e8568c7e5db4f4a68840fa5889860aa38,Neutron add package for ironic-neutron-agent,MERGED,2021-04-21 11:25:37.000000000,2021-04-22 15:55:38.000000000,2021-04-22 15:46:24.000000000,5,5,0,787355,d67563a7e9171d929718ed82b1aa8bbd51ae7d3f,15,6,1,5,30449,jinyuanliu,jinyuanliu,"Neutron add package for ironic-neutron-agent

When ironic-neutron-agent enabled, an error will be reported that the ""ironic-neutron-agent"" cannot be found, because networking-baremetal needs to be installed.

Change-Id: Idcc4cd1e8568c7e5db4f4a68840fa5889860aa38
"
openstack%2Fopenstack-ansible-os_octavia~master~Ia099a30f19329d78a77edd32b9c58a4313a4112a,openstack/openstack-ansible-os_octavia,master,,Ia099a30f19329d78a77edd32b9c58a4313a4112a,Remove unused handlers,MERGED,2021-03-22 16:19:51.000000000,2021-04-22 15:51:39.000000000,2021-04-22 15:49:57.000000000,0,12,0,782287,8fbf733103f99c42578a741f1da48ec30c45ee64,14,3,3,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove unused handlers

Change-Id: Ia099a30f19329d78a77edd32b9c58a4313a4112a
"
openstack%2Fopenstack-ansible-os_octavia~master~I80f3e3093f58f3f1fba6af0ddc48ace0a1165e7b,openstack/openstack-ansible-os_octavia,master,,I80f3e3093f58f3f1fba6af0ddc48ace0a1165e7b,Remove shade from octavia_pip_packages,MERGED,2021-03-23 11:34:47.000000000,2021-04-22 15:50:29.000000000,2021-04-22 15:46:31.000000000,0,1,0,782437,999ef470220297b69be49ae0a334ef9176cbff34,13,3,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Remove shade from octavia_pip_packages

Shade has been superceded by openstacksdk and should not be required
at the moment

Change-Id: I80f3e3093f58f3f1fba6af0ddc48ace0a1165e7b
"
openstack%2Fheat~stable%2Ftrain~Id7f9be610e99cac9cf1f097066cc8748752d92dd,openstack/heat,stable/train,,Id7f9be610e99cac9cf1f097066cc8748752d92dd,Add native grenade zuul v3 jobs,MERGED,2021-04-04 09:42:16.000000000,2021-04-22 15:47:26.000000000,2021-04-22 15:41:16.000000000,17,89,0,784711,664cab8857f24a38f622a499e4390a4539e47ef3,16,3,1,3,8833,Rabi Mishra,rabi,"Add native grenade zuul v3 jobs

Moved from https://review.opendev.org/#/c/639774/

Task: 40166
Change-Id: Id7f9be610e99cac9cf1f097066cc8748752d92dd
(cherry picked from commit 86fc1740c405e73c094012e8d341cf9d1e71e347)
"
openstack%2Fnova~master~I4cc375fca3df24dfa3f67d38d7c92e092fa7d65a,openstack/nova,master,756261,I4cc375fca3df24dfa3f67d38d7c92e092fa7d65a,WIP: Add support of blockCommit when VM is down,NEW,2020-10-06 11:10:39.000000000,2021-04-22 15:46:20.000000000,,33,8,6,756261,c404b4d4dea53be59bdaee35afdfe5f12fb12e38,20,9,2,1,27615,Rajat Dhasmana,whoami-rajat,"WIP: Add support of blockCommit when VM is down

Change-Id: I4cc375fca3df24dfa3f67d38d7c92e092fa7d65a
"
openstack%2Ftripleo-ci-health-queries~master~Ie7998d722ea4a7d4106d106c1476b3f1255d656a,openstack/tripleo-ci-health-queries,master,er_converter,Ie7998d722ea4a7d4106d106c1476b3f1255d656a,"Add black, isort and flake8",MERGED,2021-04-22 12:01:21.000000000,2021-04-22 15:39:07.000000000,2021-04-22 15:39:07.000000000,137,65,0,787538,3cfc6361f479e1bcb4d8af5751867c763bda6efa,15,5,2,6,24162,Sorin Sbârnea,ssbarnea,"Add black, isort and flake8

All changes includes were either made by black
and isort or requested by flake8.

Change-Id: Ie7998d722ea4a7d4106d106c1476b3f1255d656a
"
openstack%2Fopenstack-ansible-lxc_hosts~master~Ia5a62cee7ab493857df16f7ae906796d22ba616c,openstack/openstack-ansible-lxc_hosts,master,osa-facts,Ia5a62cee7ab493857df16f7ae906796d22ba616c,Switch all base images to be built locally rather than downloaded,MERGED,2021-03-04 14:50:23.000000000,2021-04-22 15:34:29.000000000,2021-04-22 15:31:01.000000000,22,122,0,778713,786c4fcf186f968d4d80de8a84e24d43d4190561,29,4,9,10,25023,Jonathan Rosser,jrosser,"Switch all base images to be built locally rather than downloaded

This patch switches the debian/ubuntu OS to build their lxc base
images locally using debootstrap rather than download a pre-built
lxc image. This unifies the approach with Centos-8 which is already
building a local image using dnf.

The LXC cache prestage tasks are removed, and all variables
associated with the download of the lxc image are removed from
defaults/main.yml.

A new variable lxc_apt_mirror is introduced, which is passed to
debootstrap to provide the apt source that the container rootfs
should be built from.

Depends-On: https://review.opendev.org/786396
Change-Id: Ia5a62cee7ab493857df16f7ae906796d22ba616c
"
openstack%2Fkolla~master~I83fe9f5ab2be44a3e448227246d0742dc603296c,openstack/kolla,master,,I83fe9f5ab2be44a3e448227246d0742dc603296c,DNM: test bifrost,ABANDONED,2021-04-22 13:49:33.000000000,2021-04-22 15:28:33.000000000,,2,134,0,787566,ce231c10fdd4884c503fa99a50475e26d2f82a98,3,1,1,5,14826,Mark Goddard,mgoddard,"DNM: test bifrost

Change-Id: I83fe9f5ab2be44a3e448227246d0742dc603296c
Depends-On: https://review.opendev.org/c/openstack/bifrost/+/756005
"
openstack%2Fpbr~master~I176dc6a2c6d8f37717e1e17ba41ee72bef9536fb,openstack/pbr,master,fix-python_requires-support,I176dc6a2c6d8f37717e1e17ba41ee72bef9536fb,Add test for cfg -> py transformation,MERGED,2021-03-15 19:09:49.000000000,2021-04-22 15:26:10.000000000,2021-04-22 15:24:30.000000000,104,3,1,780658,f40c41d28fadcbbfd4f3325e0358f36468563f17,17,3,4,2,15334,Stephen Finucane,sfinucan,"Add test for cfg -> py transformation

Change-Id: I176dc6a2c6d8f37717e1e17ba41ee72bef9536fb
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fopenstack-helm-infra~master~I4b5bed345d10aff575905bdddf0acd74f6c661f0,openstack/openstack-helm-infra,master,,I4b5bed345d10aff575905bdddf0acd74f6c661f0,[Update] Upgrade mysqld-exporter to v0.12.1,ABANDONED,2021-04-21 17:38:34.000000000,2021-04-22 15:17:54.000000000,,3,2,0,787424,fe3cfbf73fac058b54509573778371ccc6f16831,5,3,1,3,30582,RADHIKA PAI,rp592h,"[Update] Upgrade mysqld-exporter to v0.12.1

This ps upgrades the exporter used by mariadb to latest one with aim to
get newly added metrics required for the mariadb monitoring

Change-Id: I4b5bed345d10aff575905bdddf0acd74f6c661f0
"
openstack%2Fpuppet-cinder~master~Ib398397e45b9bc1154443b98f3b26633c4776051,openstack/puppet-cinder,master,volume-driver-cleanup-xena,Ib398397e45b9bc1154443b98f3b26633c4776051,Clean up deprecated volume drivers,ABANDONED,2021-04-22 11:25:23.000000000,2021-04-22 15:11:59.000000000,,8,446,0,787534,10510abf3913c1a7e633c5c548c1b21c5c088752,3,1,1,7,9816,Takashi Kajinami,kajinamit,"Clean up deprecated volume drivers

This change cleans up support for some volume drivers which has been
deprecated during old cycles.

Change-Id: Ib398397e45b9bc1154443b98f3b26633c4776051
"
openstack%2Fkayobe~master~I10d80713c4bac21b6aed6f4b6b15919d490b753c,openstack/kayobe,master,systemd-networkd,I10d80713c4bac21b6aed6f4b6b15919d490b753c,Refactor veth configuration role variable generation,MERGED,2021-02-23 17:42:14.000000000,2021-04-22 15:03:39.000000000,2021-04-22 15:01:32.000000000,349,39,1,777176,97f2f3b5c7159c05f33268f01a9e10c10a68c82a,21,4,4,4,14826,Mark Goddard,mgoddard,"Refactor veth configuration role variable generation

Move veth logic to the new networks filter plugin module.

This is in preparation for addition of filters for systemd-networkd.

Story: 2004960
Task: 41920

Change-Id: I10d80713c4bac21b6aed6f4b6b15919d490b753c
"
openstack%2Fcharm-nova-compute~master~Ie68ecd808a60baf0d5bfe526f4355ce3c7ae5c77,openstack/charm-nova-compute,master,bug/1925412,Ie68ecd808a60baf0d5bfe526f4355ce3c7ae5c77,Use get_availability_zone() on cloud-compute relation,MERGED,2021-04-22 03:51:09.000000000,2021-04-22 14:45:34.000000000,2021-04-22 12:41:56.000000000,9,11,0,787470,bfc3436a32b7f5d82e662a4fc46083e2b76f6209,16,4,1,2,8992,Billy Olsen,billy-olsen,"Use get_availability_zone() on cloud-compute relation

Commit 9f4369d9 added a feature to set the availability zone of
the nova-compute unit on the cloud-compute relation. This uses the
value of the JUJU_AVAILABILITY_ZONE environment variable, which is
not consistent with how the nova-compute service sets its availability
zone.

Use the nova_compute_utils.get_availability_zone() method instead.

Closes-Bug #1925412

Change-Id: Ie68ecd808a60baf0d5bfe526f4355ce3c7ae5c77
"
openstack%2Fkayobe~master~Idf5419d9020d491c310d2c09c495b0a420578214,openstack/kayobe,master,typo-fix,Idf5419d9020d491c310d2c09c495b0a420578214,Fix typo in CI playbook,MERGED,2021-04-14 09:30:55.000000000,2021-04-22 14:45:32.000000000,2021-04-22 14:43:45.000000000,1,1,0,786190,c6adcf3639e1cd3de106b37a145299c4bdd67903,13,2,1,1,15197,Pierre Riteau,priteau,"Fix typo in CI playbook

Change-Id: Idf5419d9020d491c310d2c09c495b0a420578214
"
openstack%2Fopenstack-helm-deployments~master~I7d13b498cd50f9d6e19595df5f7971b55ccf8de4,openstack/openstack-helm-deployments,master,,I7d13b498cd50f9d6e19595df5f7971b55ccf8de4,Upate Gate for phase patch issues,MERGED,2021-04-21 15:45:05.000000000,2021-04-22 14:20:07.000000000,2021-04-22 14:20:07.000000000,0,29,0,787413,8b7b39e4fca402fb67c3e72305e4e25cfaf9f5af,19,5,6,2,29585,Jeremy Houser,jh629g,"Upate Gate for phase patch issues

Method for patching phases was incorrect
according to airship teams. This change
reflects that discussion.

Change-Id: I7d13b498cd50f9d6e19595df5f7971b55ccf8de4
"
openstack%2Fmagnum~stable%2Fvictoria~I5a05cdebe59178d4e9362ce6e6f026d397c93725,openstack/magnum,stable/victoria,,I5a05cdebe59178d4e9362ce6e6f026d397c93725,Fix Fedora CoreOS 31 Cinder volume on virtio-scsi disk,ABANDONED,2021-04-22 14:07:03.000000000,2021-04-22 14:16:17.000000000,,2,2,0,787573,b43b6b84c51311bc1da94969cf5f92a977e3f675,2,0,1,2,16137,Tobias Urdin,tobasco,"Fix Fedora CoreOS 31 Cinder volume on virtio-scsi disk

When using a >= Victoria release with Fedora CoreOS 31
using Cinder and overlay2 with the instance being spawned
on disk using virtio-scsi the name of the disk in by-id is
different.

[root@test-x7kpb2b2lm5j-master-0 ~]# ls /dev/disk/by-id | grep 'c7ba029d-1c6a-4392-9'
scsi-0QEMU_QEMU_HARDDISK_c7ba029d-1c6a-4392-992d-dbff27214740
[root@test-x7kpb2b2lm5j-master-0 ~]# ls /dev/disk/by-id | grep 'c7ba029d-1c6a-4392-9$'
[root@test-x7kpb2b2lm5j-master-0 ~]# cat /etc/fedora-release
Fedora release 31 (Thirty One)

Change-Id: I5a05cdebe59178d4e9362ce6e6f026d397c93725
(cherry picked from commit 3f802c1a0d5bc8f87bfa17c90b2a3a3ccf4a9edd)
"
openstack%2Fmagnum~stable%2Fwallaby~I5a05cdebe59178d4e9362ce6e6f026d397c93725,openstack/magnum,stable/wallaby,,I5a05cdebe59178d4e9362ce6e6f026d397c93725,Fix Fedora CoreOS 31 Cinder volume on virtio-scsi disk,ABANDONED,2021-04-22 14:14:47.000000000,2021-04-22 14:16:15.000000000,,2,2,0,787577,7c91e3e18b693de1384813f475cd8a879d0005c5,2,0,1,2,16137,Tobias Urdin,tobasco,"Fix Fedora CoreOS 31 Cinder volume on virtio-scsi disk

When using a >= Victoria release with Fedora CoreOS 31
using Cinder and overlay2 with the instance being spawned
on disk using virtio-scsi the name of the disk in by-id is
different.

[root@test-x7kpb2b2lm5j-master-0 ~]# ls /dev/disk/by-id | grep 'c7ba029d-1c6a-4392-9'
scsi-0QEMU_QEMU_HARDDISK_c7ba029d-1c6a-4392-992d-dbff27214740
[root@test-x7kpb2b2lm5j-master-0 ~]# ls /dev/disk/by-id | grep 'c7ba029d-1c6a-4392-9$'
[root@test-x7kpb2b2lm5j-master-0 ~]# cat /etc/fedora-release
Fedora release 31 (Thirty One)

Change-Id: I5a05cdebe59178d4e9362ce6e6f026d397c93725
(cherry picked from commit 3f802c1a0d5bc8f87bfa17c90b2a3a3ccf4a9edd)
(cherry picked from commit 5eb38a2454fb69d8f2106f71255e93a6dd0d2bff)
"
openstack%2Fmagnum~master~I5a05cdebe59178d4e9362ce6e6f026d397c93725,openstack/magnum,master,,I5a05cdebe59178d4e9362ce6e6f026d397c93725,Fix Fedora CoreOS 31 Cinder volume on virtio-scsi disk,ABANDONED,2021-04-22 13:58:30.000000000,2021-04-22 14:16:04.000000000,,2,2,0,787568,04ab48e8cfbbaed08253b4ed350a95cce1349bc9,5,0,3,2,16137,Tobias Urdin,tobasco,"Fix Fedora CoreOS 31 Cinder volume on virtio-scsi disk

When using a >= Victoria release with Fedora CoreOS 31
using Cinder and overlay2 with the instance being spawned
on disk using virtio-scsi the name of the disk in by-id is
different.

[root@test-x7kpb2b2lm5j-master-0 ~]# ls /dev/disk/by-id | grep 'c7ba029d-1c6a-4392-9'
scsi-0QEMU_QEMU_HARDDISK_c7ba029d-1c6a-4392-992d-dbff27214740
[root@test-x7kpb2b2lm5j-master-0 ~]# ls /dev/disk/by-id | grep 'c7ba029d-1c6a-4392-9$'
[root@test-x7kpb2b2lm5j-master-0 ~]# cat /etc/fedora-release
Fedora release 31 (Thirty One)

Change-Id: I5a05cdebe59178d4e9362ce6e6f026d397c93725
"
openstack%2Fmagnum~stable%2Fussuri~I5a05cdebe59178d4e9362ce6e6f026d397c93725,openstack/magnum,stable/ussuri,,I5a05cdebe59178d4e9362ce6e6f026d397c93725,Fix Fedora CoreOS 31 Cinder volume on virtio-scsi disk,ABANDONED,2021-04-22 14:04:48.000000000,2021-04-22 14:05:26.000000000,,2,2,0,787572,7bf58fbc66a55a1580041755ea5a5cbe9b1dfe27,2,0,1,2,16137,Tobias Urdin,tobasco,"Fix Fedora CoreOS 31 Cinder volume on virtio-scsi disk

When using a >= Victoria release with Fedora CoreOS 31
using Cinder and overlay2 with the instance being spawned
on disk using virtio-scsi the name of the disk in by-id is
different.

[root@test-x7kpb2b2lm5j-master-0 ~]# ls /dev/disk/by-id | grep 'c7ba029d-1c6a-4392-9'
scsi-0QEMU_QEMU_HARDDISK_c7ba029d-1c6a-4392-992d-dbff27214740
[root@test-x7kpb2b2lm5j-master-0 ~]# ls /dev/disk/by-id | grep 'c7ba029d-1c6a-4392-9$'
[root@test-x7kpb2b2lm5j-master-0 ~]# cat /etc/fedora-release
Fedora release 31 (Thirty One)

Change-Id: I5a05cdebe59178d4e9362ce6e6f026d397c93725
(cherry picked from commit 3f802c1a0d5bc8f87bfa17c90b2a3a3ccf4a9edd)
"
openstack%2Fhorizon~master~I437e716fbaae5b4713a71790ad644b8494c11637,openstack/horizon,master,zanata/translations,I437e716fbaae5b4713a71790ad644b8494c11637,Imported Translations from Zanata,MERGED,2021-04-22 06:57:07.000000000,2021-04-22 14:03:04.000000000,2021-04-22 14:01:11.000000000,12,9,0,787472,be505aefaa6ad985eff0e82c984dd5845ebd98a9,8,3,1,2,11131,OpenStack Proposal Bot,proposal-bot,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I437e716fbaae5b4713a71790ad644b8494c11637
"
openstack%2Fmanila~stable%2Fwallaby~Ie6d16c925640351b74a4ed67bf649f844d347b1e,openstack/manila,stable/wallaby,policy-desc-stable/wallaby,Ie6d16c925640351b74a4ed67bf649f844d347b1e,Document policy rule using the description parameter,MERGED,2021-04-08 16:50:41.000000000,2021-04-22 14:01:35.000000000,2021-04-22 13:59:56.000000000,17,15,0,785387,af91420c5420b8bed47ba06f3a669094886a1263,12,5,1,1,16643,Goutham Pacha Ravi,gouthamr,"Document policy rule using the description parameter

The RuleDefault class provides the description parameter so that
description of a rule is also implemented in code. This allows us
to render these descriptions by the oslopolicy-sample-generator
command.

Change-Id: Ie6d16c925640351b74a4ed67bf649f844d347b1e
(cherry picked from commit dede92d734df8971b88435c00cdf8ef48c385f88)
"
openstack%2Fopenstack-ansible~master~I37811d66eedf7aa781d4365024b7181ba44081bc,openstack/openstack-ansible,master,782569,I37811d66eedf7aa781d4365024b7181ba44081bc,Remove support for nspawn containers.,MERGED,2021-03-23 17:16:46.000000000,2021-04-22 13:52:40.000000000,2021-04-22 13:47:09.000000000,20,762,0,782569,24b8ea0ba679121a192521749db7a4b535dcd4ee,24,3,3,27,25023,Jonathan Rosser,jrosser,"Remove support for nspawn containers.

Support for nspawn was previously deprecated, and is now removed.

Change-Id: I37811d66eedf7aa781d4365024b7181ba44081bc
"
openstack%2Fneutron~master~If5fc1c83aec5f6694abd22f127f1720acad82498,openstack/neutron,master,bug/1922892,If5fc1c83aec5f6694abd22f127f1720acad82498,[WIP][DNM] Use nft alternative binaries,ABANDONED,2021-02-12 16:34:11.000000000,2021-04-22 13:39:20.000000000,,0,102,116,775413,e40c72617efb21ec2770d3fb21ff7db0f1024bc0,68,3,16,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"[WIP][DNM] Use nft alternative binaries

TODO: well, this is not a patch to be merged because we cannot
      change the binaries to *-nft. We should provide an configuration
      option and, if possible, a migrating strategy.

This patch will make use of ""iptables-nft"" and all related commands.
That will make use of netfilter ""nftables"", replacing ""iptables"",
""ip6tables"", ""ebtables"" and ""arptables"".

Because ""ipset"" does not have a migrating tool, the code is entirely
migrated to nftables.

Related-Bug: #1508155
Related-Bug: #1915341
Related-Bug: #1922892

Change-Id: If5fc1c83aec5f6694abd22f127f1720acad82498
"
openstack%2Fproject-config~master~Ia43306e47dc9e70f3b26593765210abfbd8ec6fe,openstack/project-config,master,review-priority,Ia43306e47dc9e70f3b26593765210abfbd8ec6fe,Copy placement acls to all placement repos,ABANDONED,2021-04-22 10:19:12.000000000,2021-04-22 13:30:42.000000000,,87,0,0,787524,4f1a5365f7b907375a77a8f22532048733f6c7ea,5,2,1,3,11604,sean mooney,sean-k-mooney,"Copy placement acls to all placement repos

This adds the same acl configuration used by the main placement
repo to its related projects. namely os-resource-classes,
os-traits and osc-placement.

Change-Id: Ia43306e47dc9e70f3b26593765210abfbd8ec6fe
"
openstack%2Ftripleo-docs~master~Icf1cf88c7c76dbd65afa62974650376c1352cc37,openstack/tripleo-docs,master,cephadm_integration,Icf1cf88c7c76dbd65afa62974650376c1352cc37,Document Ceph deployment cephadm,MERGED,2021-03-12 22:26:00.000000000,2021-04-22 13:23:37.000000000,2021-04-22 13:21:21.000000000,506,52,9,780389,0c8a3e9e78f692fe9f5a567524311cdb7aee11dc,29,3,9,5,18002,John Fulton,fultonj,"Document Ceph deployment cephadm

Change-Id: Icf1cf88c7c76dbd65afa62974650376c1352cc37
"
openstack%2Fopenstacksdk~master~I9c3342161a257603f3cfd26bd03f6b71ffbfdd0d,openstack/openstacksdk,master,override-stats,I9c3342161a257603f3cfd26bd03f6b71ffbfdd0d,Allow for override of statsd/influxdb settings per cloud,MERGED,2021-04-19 04:43:33.000000000,2021-04-22 13:23:33.000000000,2021-04-22 13:20:57.000000000,155,33,0,786814,239565142975bfa5fa9a1ebd62feead8c9bb27f8,16,3,3,4,7118,Ian Wienand,iwienand,"Allow for override of statsd/influxdb settings per cloud

There is currently no way to separate out statsd settings per cloud.
While you can set a prefix other than 'openstack.api', this applies to
all clouds and groups all the stats together.

While this may be what you want, it may also be not what you want :)
For example in nodepool, we have multiple cloud providers who each
have their own grafana page, so we'd like them all to log themselves
to different stats buckets (i.e. set individual prefixes).

This allows setting a ""metrics"" field in each individual cloud entry
that overrides the global settings.  TBH I don't know if this is
important for InfluxDB as well, but I've implemented it for that too
for consistency.

Test cases are added for the global and merged settings.

I've also updated the documentation page a bit.  I've separated it
into subsections for the three types of stats available.  I removed
some of the in-depth stuff about logging types which wasn't that clear
(I think we can just present what we support and let people decide).

Change-Id: I9c3342161a257603f3cfd26bd03f6b71ffbfdd0d
"
openstack%2Fneutron-dynamic-routing~master~I81b25470a7aab81e950301f8d38ae20bb722a255,openstack/neutron-dynamic-routing,master,,I81b25470a7aab81e950301f8d38ae20bb722a255,Use py3 as the default runtime for tox,MERGED,2021-04-20 07:44:59.000000000,2021-04-22 13:01:21.000000000,2021-04-22 12:59:55.000000000,1,1,0,787137,f9288d7f300fcaa64e008d623230f00062cf5b5c,7,2,1,1,30384,zhangboye,zhangboye,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I81b25470a7aab81e950301f8d38ae20bb722a255
"
openstack%2Fcharm-barbican-vault~master~I218b3da58865add03ef1fd39988127f7ca0a2666,openstack/charm-barbican-vault,master,wallaby-bundles,I218b3da58865add03ef1fd39988127f7ca0a2666,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-03 19:28:24.000000000,2021-04-22 12:48:15.000000000,2021-04-22 12:48:15.000000000,215,3,0,778558,841fbcdebcb4e2992a7586bb8f404f51ae24ae21,19,3,2,4,20870,Alex Kavanagh,ajkavanagh,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby supporto.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I218b3da58865add03ef1fd39988127f7ca0a2666
"
openstack%2Ftripleo-heat-templates~master~I9e53187f37d41d7180e66db1239b5f9c8846addd,openstack/tripleo-heat-templates,master,fix_hosts_entries,I9e53187f37d41d7180e66db1239b5f9c8846addd,Add RootStackName to group_vars,MERGED,2021-04-21 08:56:22.000000000,2021-04-22 12:41:06.000000000,2021-04-22 12:41:06.000000000,5,0,1,787327,0f1230d0b5535959a53fbe04a0ec31441eae29f8,12,4,2,1,30073,Brendan Shephard,bshephar,"Add RootStackName to group_vars

After a Overcloud deployment, /etc/hosts on the undercloud
will be populated with entries for each overcloud node. Since
we use the same tripleo_ansible roles for both the undercloud
and overcloud deployment, the /etc/hosts file on the Director
will be removed by undercloud install / upgrade operations.

This is outlined here:
https://bugzilla.redhat.com/show_bug.cgi?id=1933528

This change adds the RootStackName to the group_vars,
this is then used by the tripleo_host_entries role in
tripleo-ansible to write host entries per stack.

Closes-Bug: #1924751
RHBZ: 1933528
Change-Id: I9e53187f37d41d7180e66db1239b5f9c8846addd
"
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I1f634303411a9c3ad6f231e7b951acf4c7729600,openstack/puppet-tripleo,stable/victoria,haproxy-main,I1f634303411a9c3ad6f231e7b951acf4c7729600,stable-only: Update branch of puppetlabs-haproxy,ABANDONED,2021-04-20 23:25:42.000000000,2021-04-22 12:35:24.000000000,,1,1,0,787299,d64a810edd587b0a9218fe354ee3412f6334bb52,4,1,2,1,9816,Takashi Kajinami,kajinamit,"stable-only: Update branch of puppetlabs-haproxy

This is a partial backport of 1afa7f5ae112a9af34f5602cbaae567d03f40863
and update the branch name of puppetlabs-haproxy because the repo
no longer provides the master branch and it was replaced by the main
branch.

Change-Id: I1f634303411a9c3ad6f231e7b951acf4c7729600
"
openstack%2Fkolla~master~If6da19b44d4c13149fa0ad8ddb53b8bd22bd96f4,openstack/kolla,master,prepare-for-kolla-wallaby-release,If6da19b44d4c13149fa0ad8ddb53b8bd22bd96f4,[release] Use RDO's Wallaby Delorean packages,MERGED,2021-04-21 10:17:57.000000000,2021-04-22 12:35:23.000000000,2021-04-22 10:43:21.000000000,2,2,0,787339,389bff440fab19e539db5df4c3cf471fe252e770,14,4,1,1,14826,Mark Goddard,mgoddard,"[release] Use RDO's Wallaby Delorean packages

This is a temporary solution until centos-release-openstack-wallaby is
available.

Change-Id: If6da19b44d4c13149fa0ad8ddb53b8bd22bd96f4
"
openstack%2Fpuppet-tripleo~master~I6b3cd630519cb78d082d18d166d1d9b505cbf09d,openstack/puppet-tripleo,master,haproxy-main,I6b3cd630519cb78d082d18d166d1d9b505cbf09d,Switch branch name of puppetlabs-haproxy,ABANDONED,2021-04-19 14:01:11.000000000,2021-04-22 12:32:25.000000000,,1,1,0,786879,e2e02f9bd192e4f4df8537892102d7398e6eb337,4,1,2,1,9816,Takashi Kajinami,kajinamit,"Switch branch name of puppetlabs-haproxy

It seems the master branch no longer exists in puppetlabs-haproxy repo
and it was replaced by the main branch[1].

This change replaces the branch name used accordingly.

[1] https://github.com/puppetlabs/puppetlabs-haproxy

Change-Id: I6b3cd630519cb78d082d18d166d1d9b505cbf09d
"
openstack%2Fpbr~master~Ib32b5fb5da84215376c8e372470b2ff08eb47908,openstack/pbr,master,fix-python_requires-support,Ib32b5fb5da84215376c8e372470b2ff08eb47908,Don't pass empty 'long_description',MERGED,2021-03-15 19:09:49.000000000,2021-04-22 12:13:13.000000000,2021-04-22 12:11:51.000000000,15,17,0,780657,16a8553e9f7630951b5a21b74a1d39063ccb9689,18,5,2,1,15334,Stephen Finucane,sfinucan,"Don't pass empty 'long_description'

Correct a small logic error that would result in us passing an empty
'long_description' value to 'setup' if 'description_file' pointed to a
file that was empty. Fixing this also makes it a little more obvious
that we are only setting values that are present in 'setup.cfg', since
that wasn't totally clear before.

A small, unrelated typo is addressed.

Change-Id: Ib32b5fb5da84215376c8e372470b2ff08eb47908
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
"
openstack%2Fsushy~master~I63319561d88c4226401157c8ea78edcc7e3e58de,openstack/sushy,master,update-venv,I63319561d88c4226401157c8ea78edcc7e3e58de,Update venv entry in tox.ini,MERGED,2021-04-12 14:48:46.000000000,2021-04-22 12:05:51.000000000,2021-04-22 12:04:32.000000000,6,0,2,785894,24cf92f333a499acb78c2e74757464c790a2c08c,14,3,2,1,23851,Riccardo Pittau,elfosardo,"Update venv entry in tox.ini

Needed to run test commands or reno relying on versions installed in the
virtualenv.

Change-Id: I63319561d88c4226401157c8ea78edcc7e3e58de
"
openstack%2Ftripleo-ci-health-queries~master~Iea8e6a37b80a95b28ad6e09d041802b7e660d76b,openstack/tripleo-ci-health-queries,master,er_converter,Iea8e6a37b80a95b28ad6e09d041802b7e660d76b,Adding script to convert queries to er format,MERGED,2021-04-16 13:38:34.000000000,2021-04-22 11:50:29.000000000,2021-04-22 11:50:29.000000000,377,12,3,786656,939ca8ac23e761e040cf69bf00f0f8adeea563c0,39,5,17,11,32458,Ananya,frenzyfriday,"Adding script to convert queries to er format

1. The source is src/data/queries.yml. This is the human readable file updated by user.
2. ^ this is converted to files which ER can understand by er_converter.py
3. If there is a bug url in the query entry the corresponding ER file is named <bug_id>.yaml - else the file is named after the query id and shows up as ""private bug"" in ER dashboard.
4. As a test the playbook er.yml checks if all query files generated can be parsed by ER.
5. Added docstrings for er and sova converters and removed ER specific comments from sova converter.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci-health-queries/+/780282/

Change-Id: Iea8e6a37b80a95b28ad6e09d041802b7e660d76b
"
openstack%2Fnova~master~Id157e3614bfe9adca44e6ca0adc56e3ae9efee59,openstack/nova,master,docs,Id157e3614bfe9adca44e6ca0adc56e3ae9efee59,docs: Correct typos in 'nova-manage db' docs,MERGED,2021-03-31 10:38:06.000000000,2021-04-22 11:47:22.000000000,2021-04-22 11:45:31.000000000,2,2,0,784067,96bf8a0ab5c80c332ac8eeaadca7c3f56dd602fa,10,5,1,1,15334,Stephen Finucane,sfinucan,"docs: Correct typos in 'nova-manage db' docs

Per review feedback.

Change-Id: Id157e3614bfe9adca44e6ca0adc56e3ae9efee59
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fneutron~master~I44e573bd55e3631901d782d6d65987a58ca3e4fb,openstack/neutron,master,bug/1925433,I44e573bd55e3631901d782d6d65987a58ca3e4fb,Remove SRIOV attach limitation from the doc,MERGED,2021-04-22 07:41:47.000000000,2021-04-22 11:45:53.000000000,2021-04-22 11:43:25.000000000,1,2,3,787500,947e8a041c22c97bf342b1498b837a5c3f553d95,20,6,2,1,9708,Balazs Gibizer,gibi,"Remove SRIOV attach limitation from the doc

Since I67504a37b0fe2ae5da3cba2f3122d9d0e18b9481 Nova supports attaching
neutron ports backed by PCI devices. So the limitation can be removed
from the doc.

Closes-Bug: #1925433
Change-Id: I44e573bd55e3631901d782d6d65987a58ca3e4fb
"
