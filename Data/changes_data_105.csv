id,project,branch,topic,change_id,subject,status,created,updated,submitted,insertions,deletions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,files_count,owner_account_id,owner_name,owner_username,commit_message
openstack%2Fironic~master~I44f92d329e1bd6fdba2ed038ee94753aeb349659,openstack/ironic,master,power_sync_crossref,I44f92d329e1bd6fdba2ed038ee94753aeb349659,[doc] Cross-reference the updated power sync docs from tuning,MERGED,2021-08-24 13:02:12.000000000,2021-08-25 06:49:49.000000000,2021-08-25 06:46:19.000000000,12,0,1,805847,e52a13cca915eb48ee55e23bf8fc6d80a680400a,12,3,2,1,11292,Arne Wiebalck,wiebalck,"[doc] Cross-reference the updated power sync docs from tuning

Change-Id: I44f92d329e1bd6fdba2ed038ee94753aeb349659
"
openstack%2Fswift~master~Ie6476747a7cc06f7db0848de9adb194ce21de32a,openstack/swift,master,middleware_trace,Ie6476747a7cc06f7db0848de9adb194ce21de32a,WIP: trace: Add some extra tracing to middlewares,ABANDONED,2021-07-09 07:43:59.000000000,2021-08-25 06:44:55.000000000,,42,19,0,800164,d81cccdf26a96b34346ebaf4196a51f28d4bbad2,13,1,4,12,7233,Matthew Oliver,mattoliverau,"WIP: trace: Add some extra tracing to middlewares

Change-Id: Ie6476747a7cc06f7db0848de9adb194ce21de32a
"
openstack%2Fswift~master~I862aa40542456f968614c5c6f3b8afbc67d0fd98,openstack/swift,master,middleware_trace,I862aa40542456f968614c5c6f3b8afbc67d0fd98,WIP: trace: add basic HMAC trac_sig signature,ABANDONED,2021-06-28 03:35:24.000000000,2021-08-25 06:44:33.000000000,,115,19,38,798238,96b0cf2f4269c984451c4caead9a25dcad0bbaed,19,1,6,5,7233,Matthew Oliver,mattoliverau,"WIP: trace: add basic HMAC trac_sig signature

Change-Id: I862aa40542456f968614c5c6f3b8afbc67d0fd98
"
openstack%2Fglance~master~I18a5187d80bf76c0dc6f22dd8c96a8ffa0f46dc1,openstack/glance,master,policy-refactor,I18a5187d80bf76c0dc6f22dd8c96a8ffa0f46dc1,Check policies for image import operation in API,MERGED,2021-08-15 20:08:42.000000000,2021-08-25 06:24:54.000000000,2021-08-25 06:20:44.000000000,205,54,17,804590,6c87a18d4cb43aa4af6e953af19f1655f7bb3bf9,55,5,9,7,9303,Abhishek Kekane,abhishekkekane,"Check policies for image import operation in API

This patch enforces policy checks required for importing/copying image
data to store in API layer.

Partially-Implements: blueprint policy-refactor

Change-Id: I18a5187d80bf76c0dc6f22dd8c96a8ffa0f46dc1
"
openstack%2Fcinder~stable%2Ftrain~I62fcef3169dcb9f4363a5344af4b2711edfef632,openstack/cinder,stable/train,nfs-fix-online-snapshot,I62fcef3169dcb9f4363a5344af4b2711edfef632,NFS: Update connection info on online snap create,MERGED,2021-07-23 15:37:13.000000000,2021-08-25 06:24:03.000000000,2021-08-25 06:20:40.000000000,32,2,0,802048,3df6646364ce0aaee514b9cddd79b68ba47634e1,18,4,1,3,10459,Luigi Toscano,ltoscano,"NFS: Update connection info on online snap create

The NFS snapshot creation for an attached volume requires interaction
between Nova and Cinder, and a new qcow2 file is used after the
attachment completes.

This means that the connection properties stored in the Attachment is no
longer valid, as it is pointing to the old qcow2 file, so if Nova tries
to use that attachment it will start writing on the old qcow2 file.

A flow showing this issue is:

- Attach NFS volume
- Create snapshot
- Hard reboot

After that the VM will start using the base image, breaking the qcow2
chain.

If we delete the snapshot in the meantime, then the VM will fail to
reboot.

This patch fixes this inconsistency by updating the connection info
field inside the remotefs driver.

We usually prefer that drivers don't to touch the DB, directly or
indirectly (using OVOs), but in this case we are using OVOs methods
instead of the usual model update on the volume manager because there
are cases in the driver where a snapshot is created (cloning via
snapshot) and we have to update the attachment without the manager, as
it is unaware that a temporary snapshot is being created.

Besides that main reason there are other less critical reasons to do the
attachment update in the driver:

- Smaller code change
- Easier to backport
- Limit change impact on other areas (better for backport)
- The snapshot_create model update code in the manager does not support
  updating attachments.
- There are cases in the cinder volume manager where the model update
  values returned by snapshot_create are not being applied.

Snapshot deletion belonging to in-use volumes are not affected by this
issue because we only do block commit when the snapshot file we are
deleting is not the active file.  In _delete_snapshot_online:

        if utils.paths_normcase_equal(info['active_file'],
                                      info['snapshot_file']):

Conflicts:
    cinder/tests/unit/volume/drivers/test_remotefs.py
Resolved conflict introduced mainly by the encryption support fixes
(see I896f70d204ad103e968ab242ba9045ca984827c4)

Closes-Bug: #1860913
Change-Id: I62fcef3169dcb9f4363a5344af4b2711edfef632
(cherry picked from commit 25eb0a7d76922e3a1a289d26c36b96a91c4059db)
(cherry picked from commit d4960fd597aad8502cad46b38cdb50c6b88f7c63)
(cherry picked from commit e7c5e7a7f6f35b2db043cc5ed4a0ef1f77e1f830)
(cherry picked from commit a5e44127ffceec55c3e98a46ebe3686e34b0c971)
"
openstack%2Fironic~bugfix%2F18.0~I4a169b42d516a7ae2adcee9b69d71723fdefcd95,openstack/ironic,bugfix/18.0,bp/policy-defaults-refresh-bugfix/18.0,I4a169b42d516a7ae2adcee9b69d71723fdefcd95,Suppress policy deprecation and default change warnings,MERGED,2021-07-05 13:20:00.000000000,2021-08-25 06:00:49.000000000,2021-08-25 05:58:30.000000000,11,0,0,799479,714560436affa5efbe4b98cd5c8c17fd9ce79e7d,10,4,1,2,23851,Riccardo Pittau,elfosardo,"Suppress policy deprecation and default change warnings

As part of the policy defaults refresh work, all of the defaults for
policies were changed and warnings about it are being emitted
constantly in the logs. We can suppress these for now until we are
enforcing new defaults [1].

This also suppresses policy deprecation warnings during tests to avoid
filling the console with warning messages.

Related to blueprint policy-defaults-refresh

[1]https://docs.openstack.org/nova/latest/configuration/config.html#oslo_policy.enforce_new_defaults

Change-Id: I4a169b42d516a7ae2adcee9b69d71723fdefcd95
(cherry picked from commit 67ff5ff2b4ad4a12965142ffb1ff7fb11c07d337)
"
openstack%2Fironic~master~I991d2af7eb6987830a5fa449026f43ac7a09fcff,openstack/ironic,master,policy-log,I991d2af7eb6987830a5fa449026f43ac7a09fcff,Silence debug logging from oslo_policy,MERGED,2021-08-24 18:02:20.000000000,2021-08-25 06:00:48.000000000,2021-08-25 05:58:28.000000000,2,0,0,805875,7748b154b0477e42cd0937c9f52cbed33e7b7c8e,11,3,1,1,10239,Dmitry Tantsur,dtantsur,"Silence debug logging from oslo_policy

While it's not entirely useless, it's extremely verbose and account
for 2/3 of ironic-api logs even when keystone is disabled.

Change-Id: I991d2af7eb6987830a5fa449026f43ac7a09fcff
"
openstack%2Fskyline-console~master~I3ec80b38d7b4f330c7e65d4e54d6b70668bc6e0d,openstack/skyline-console,master,master2,I3ec80b38d7b4f330c7e65d4e54d6b70668bc6e0d,fix: Fix display currectly after jumping from the error page,MERGED,2021-08-25 05:16:16.000000000,2021-08-25 05:21:32.000000000,2021-08-25 05:21:32.000000000,18,0,0,805942,1d4952cf60b30c44fcaf4e30df5ec152a6e961e6,6,2,1,1,30434,Jingwei.Zhang,jwzhang,"fix: Fix display currectly after jumping from the error page

Fix display currectly after jumping from the error page

Change-Id: I3ec80b38d7b4f330c7e65d4e54d6b70668bc6e0d
"
openstack%2Fskyline-console~master~I4d736c3b30ff718a8dd00d05890cb67cdbabec94,openstack/skyline-console,master,master2,I4d736c3b30ff718a8dd00d05890cb67cdbabec94,fix: Fix unique name when create/edit volume type,MERGED,2021-08-25 05:07:43.000000000,2021-08-25 05:12:25.000000000,2021-08-25 05:12:25.000000000,20,8,0,805940,8dac045ee24525afc700b45cd10df97a61efc892,6,2,1,3,30434,Jingwei.Zhang,jwzhang,"fix: Fix unique name when create/edit volume type

1. Check unique name when create volume type
2. Check unique name when edit volume type

Change-Id: I4d736c3b30ff718a8dd00d05890cb67cdbabec94
"
openstack%2Fskyline-console~master~I6e6f482f13c891313a9ef853fb76699efffa1fea,openstack/skyline-console,master,master2,I6e6f482f13c891313a9ef853fb76699efffa1fea,fix: Fix copy volume id in backup detail page && error hint,MERGED,2021-08-25 04:26:56.000000000,2021-08-25 05:03:09.000000000,2021-08-25 05:03:09.000000000,13,6,0,805937,9d438cdb77bc6455828464c992a54029fa08e9d0,6,2,1,4,30434,Jingwei.Zhang,jwzhang,"fix: Fix copy volume id in backup detail page && error hint

1. Fix copy volume id in backup detail page
2. Fix error hint display

Change-Id: I6e6f482f13c891313a9ef853fb76699efffa1fea
"
openstack%2Fmanila-tempest-plugin~master~I66f0944af58b5d1892be4d3b4eb9fa6d92fd1ac5,openstack/manila-tempest-plugin,master,rbac,I66f0944af58b5d1892be4d3b4eb9fa6d92fd1ac5,[WIP] Add RBAC tests for manila,ABANDONED,2021-08-25 04:49:52.000000000,2021-08-25 05:02:43.000000000,,5,5,0,805939,75d30c52f5f8d76ef0029ffacb88159f603e2b45,2,0,1,2,19262,Liron Kuchlani,lkuchlan,"[WIP] Add RBAC tests for manila

Change-Id: I66f0944af58b5d1892be4d3b4eb9fa6d92fd1ac5
"
openstack%2Fskyline-console~master~I398610e52c4638be4b01d03fa026107cc39735bf,openstack/skyline-console,master,open-35054,I398610e52c4638be4b01d03fa026107cc39735bf,fix: Fix the configured memory in detail page,MERGED,2021-08-24 02:18:52.000000000,2021-08-25 05:01:36.000000000,2021-08-25 05:01:36.000000000,1,1,0,805774,f0b260dd90f8548bfdf74e3c120aea34615ffd1e,11,2,3,1,33689,xusongfu,xusongfu,"fix: Fix the configured memory in detail page

Change the unit of configured memory to GB to match list info

Change-Id: I398610e52c4638be4b01d03fa026107cc39735bf
"
openstack%2Fheat~master~I23475185671c52b02eb57f1aa537f206b51c384a,openstack/heat,master,story/2008951,I23475185671c52b02eb57f1aa537f206b51c384a,Allow arbitrary image properties,MERGED,2021-06-07 05:40:27.000000000,2021-08-25 04:06:45.000000000,2021-08-25 04:05:03.000000000,137,6,37,795023,3eaeda68bad45d57588f1600518a1b6794b076b2,108,4,30,3,30073,Brendan Shephard,bshephar,"Allow arbitrary image properties

In some circumstances, it is necessary to have
arbitrary image properties on Glance images.
An example is described here:
https://storyboard.openstack.org/#!/story/2008951

This patch adds the ability to specify those
properties using the WebImage resource.

Story: 2008951
Task: 42575
Change-Id: I23475185671c52b02eb57f1aa537f206b51c384a
"
openstack%2Fskyline-console~master~I2227a9cb84ed87b5d1eedaea206004498ef0fab9,openstack/skyline-console,master,master2,I2227a9cb84ed87b5d1eedaea206004498ef0fab9,feat: Support network port_security_enabled,MERGED,2021-08-25 03:15:06.000000000,2021-08-25 03:39:53.000000000,2021-08-25 03:39:53.000000000,72,44,1,805931,608d9ef5f4406ff634397ccbf122dccc49f9a515,11,2,3,12,30434,Jingwei.Zhang,jwzhang,"feat: Support network port_security_enabled

1. Update create instance with `port_security_enabled = false` network:
if one of selected networks is disable port security, disable select security group
2. Update create ironic with `port_security_enabled = false` network:
if one of selected networks is disable port security, disable select
security group
3. Update instance manage security group in instance detail page:
disable manage security group for disable security group interface
4. Update create network with port_security_enabled prop:
can change port_security_enabled prop value
5. Update edit network with port_security_enabled prop:
can change port_security_enabled prop value
6. Add port_security_enabled prop in network detail page:
show network port_security_enabled value

Change-Id: I2227a9cb84ed87b5d1eedaea206004498ef0fab9
"
openstack%2Fpuppet-keystone~master~Iaba4926adde192383e174fe8890a69ece089663e,openstack/puppet-keystone,master,oslo-cache-ut,Iaba4926adde192383e174fe8890a69ece089663e,cache: Migrate parsing of memcache_server to puppet-oslo,MERGED,2021-08-23 07:49:08.000000000,2021-08-25 03:22:53.000000000,2021-08-25 03:22:53.000000000,2,7,0,805591,a087173cbeebf30099f373c35e681289f49ae215,9,3,1,2,9816,Takashi Kajinami,kajinamit,"cache: Migrate parsing of memcache_server to puppet-oslo

... to avoid duplicate handling.

Depends-on: https://review.opendev.org/805588
Change-Id: Iaba4926adde192383e174fe8890a69ece089663e
"
openstack%2Fskyline-apiserver~master~I4833547f4bc70844daeb408606f06947d06c739b,openstack/skyline-apiserver,master,,I4833547f4bc70844daeb408606f06947d06c739b,feature: Add x-openstack-request-id into header,ABANDONED,2021-08-23 09:01:23.000000000,2021-08-25 03:13:21.000000000,,236,41,4,805606,e2995c0a0754a0d8882ea0c6fbd953c7f1b789c6,6,4,2,12,33898,chenliufeiyang,CLFY,"feature: Add x-openstack-request-id into header

1. Add x-openstack-request-id into header
2. Remove some invalid functions which have not been used

Change-Id: I4833547f4bc70844daeb408606f06947d06c739b
"
openstack%2Fskyline-console~master~I3b3cf4b2a76aad13ebe79fc1a02d036ed163b9c4,openstack/skyline-console,master,open-35002,I3b3cf4b2a76aad13ebe79fc1a02d036ed163b9c4,fix: Fix the prompts in batch deletion,MERGED,2021-08-24 01:41:57.000000000,2021-08-25 03:11:53.000000000,2021-08-25 03:11:53.000000000,23,45,0,805747,e504f7e3c6c8f301a351b113f7728fc69f1f3580,9,2,2,2,33689,xusongfu,xusongfu,"fix: Fix the prompts in batch deletion

When batch deletion error, the error message will pop up according to the queue

Change-Id: I3b3cf4b2a76aad13ebe79fc1a02d036ed163b9c4
"
openstack%2Fskyline-apiserver~master~I658d76a04f26d3bc88fccadb5d01699440021c28,openstack/skyline-apiserver,master,,I658d76a04f26d3bc88fccadb5d01699440021c28,fix:Fix the use str is blank for HTTPException,ABANDONED,2021-08-23 06:16:43.000000000,2021-08-25 03:00:16.000000000,,83,57,0,805579,e27979ea6924b68eee0704ee66650db7f9fec116,4,4,1,15,33898,chenliufeiyang,CLFY,"fix:Fix the use str is blank for HTTPException

1. Add __str__ to SkylineHTTPException to fix the issue.

Change-Id: I658d76a04f26d3bc88fccadb5d01699440021c28
"
openstack%2Fskyline-console~master~I54a2f6c3e1062231992d5926b34a955141963c89,openstack/skyline-console,master,open-34968,I54a2f6c3e1062231992d5926b34a955141963c89,fix: Fix attach & detach iso volume permission,MERGED,2021-08-24 01:05:00.000000000,2021-08-25 02:59:25.000000000,2021-08-25 02:59:25.000000000,12,11,0,805744,caf0429302fbdc979136df805a90a450e1c0e5cf,11,2,3,2,33689,xusongfu,xusongfu,"fix: Fix attach & detach iso volume permission

1. Instance can attach iso volume if status is shutoff and it is not ironic
2. Instance can detach iso volume if status is shutoff

Change-Id: I54a2f6c3e1062231992d5926b34a955141963c89
"
openstack%2Fskyline-console~master~If6d24acf2140fd90b72a1123cd7aeec2ea6192a1,openstack/skyline-console,master,open-34892,If6d24acf2140fd90b72a1123cd7aeec2ea6192a1,fix: Fix snapshot revert for volume,MERGED,2021-08-24 09:41:47.000000000,2021-08-25 02:41:27.000000000,2021-08-25 02:41:27.000000000,8,7,0,805799,66cd6d5a45493bf44dd92936bcef43995e18cc42,6,2,1,5,33689,xusongfu,xusongfu,"fix: Fix snapshot revert for volume

1. Change modal size to large to get better showing
2. Prevent revert when the status is not available
3. Add powerStatus to instanceStatus for instanceResult.server

Change-Id: If6d24acf2140fd90b72a1123cd7aeec2ea6192a1
"
openstack%2Fnova~master~I61fded6f513c18dbd0248ed54fc58a318dc05416,openstack/nova,master,,I61fded6f513c18dbd0248ed54fc58a318dc05416,fup: Increase service_down_time beyond INITIAL_REPORTING_DELAY in test,MERGED,2021-08-23 17:19:18.000000000,2021-08-25 02:29:28.000000000,2021-08-25 02:25:51.000000000,1,1,1,805667,5e8267f703d040b6e8b56d5c0f3ed669170cbb2d,15,3,2,1,10135,Lee Yarwood,lyarwood,"fup: Increase service_down_time beyond INITIAL_REPORTING_DELAY in test

With service_down_time set to 5 seconds we could easily race the initial
report from the service that is controlled by
nova.servicegroup.api.INITIAL_REPORTING_DELAY which also defaults to 5
seconds.

This change simply increases service_down_time to 6 seconds to avoid
this race, ensuring disabled but alive computes are able to initially
report in and continue to be marked as up by the servicegroup API.

Closes-Bug: #1940741
Change-Id: I61fded6f513c18dbd0248ed54fc58a318dc05416
"
openstack%2Fnova~stable%2Fstein~Ie62d3566230aa3e2786d129adbb2e3570b06e4c6,openstack/nova,stable/stein,bug/1899541,Ie62d3566230aa3e2786d129adbb2e3570b06e4c6,Prevent archiving of pci_devices records because of 'instance_uuid',MERGED,2020-11-02 18:15:37.000000000,2021-08-25 02:27:50.000000000,2021-08-25 02:25:33.000000000,21,2,0,760984,da91b19d8be3b9cad8f713a3218a08e2d50238c8,19,6,1,2,4690,melanie witt,melwitt,"Prevent archiving of pci_devices records because of 'instance_uuid'

Currently in the archive_deleted_rows code, we will attempt to clean up
""residue"" of deleted instance records by assuming any table with a
'instance_uuid' column represents data tied to an instance's lifecycle
and delete such records.

This behavior poses a problem in the case where an instance has a PCI
device allocated and someone deletes the instance. The 'instance_uuid'
column in the pci_devices table is used to track the allocation
association of a PCI with an instance. There is a small time window
during which the instance record has been deleted but the PCI device
has not yet been freed from a database record perspective as PCI
devices are freed during the _complete_deletion method in the compute
manager as part of the resource tracker update call.

Records in the pci_devices table are anyway not related to the
lifecycle of instances so they should not be considered residue to
clean up if an instance is deleted. This adds a condition to avoid
archiving pci_devices on the basis of an instance association.

Closes-Bug: #1899541

Conflicts:
    nova/db/sqlalchemy/api.py
    nova/tests/functional/db/test_archive.py

NOTE(melwitt): The conflicts are because change
I9725f752f8aef8066f7c9705e87610cad887bf8e (refactor nova-manage
archive_deleted_rows) and change
Id16c3d91d9ce5db9ffd125b59fffbfedf4a6843d (nova-manage db
archive_deleted_rows is not multi-cell aware) are not in Stein.

Change-Id: Ie62d3566230aa3e2786d129adbb2e3570b06e4c6
(cherry picked from commit 1c256cf774693e2395ae8fe4a7a2f416a7aeb03a)
(cherry picked from commit 09784db62fcd01124a101c4c69cab6e71e1ac781)
(cherry picked from commit 79df36fecf8c8be5ae9d59397882ac844852043e)
(cherry picked from commit e3bb6119cf2d0a503768979312aea4d10cf85cda)
"
openstack%2Fneutron-tempest-plugin~master~I624f53e39c4bcdd988900aca375ee5e4ddd445fe,openstack/neutron-tempest-plugin,master,,I624f53e39c4bcdd988900aca375ee5e4ddd445fe,Check if advanced image flavor already exists,MERGED,2021-08-24 14:42:47.000000000,2021-08-25 02:25:37.000000000,2021-08-25 02:25:37.000000000,3,1,0,805864,d30297b7d4ae050e5f027ca083d7a98598ea25a6,12,5,1,1,21798,Bernard Cafarelli,bcafarel,"Check if advanced image flavor already exists

Flavor added in 79c679683dd93c1df412f81533af6bf72e2395d0 fails in
at least stable/wallaby neutron-ovn-tempest-slow job, as the flavor
already exists.

This checks if a flavor with this name already exists before trying to
create it

Change-Id: I624f53e39c4bcdd988900aca375ee5e4ddd445fe
Related-Bug: #1940243
"
openstack%2Fpuppet-gnocchi~master~I9998d1351ec656fd2e4c0eee8de16f4c65d1aeb8,openstack/puppet-gnocchi,master,coordination,I9998d1351ec656fd2e4c0eee8de16f4c65d1aeb8,Use oslo::coordination to manage coordination backend packages,MERGED,2021-05-22 05:05:28.000000000,2021-08-25 02:23:01.000000000,2021-08-25 02:23:01.000000000,13,30,0,792716,f0371cecf205f011781c14780f6d029e0e217ae6,24,3,6,4,9816,Takashi Kajinami,kajinamit,"Use oslo::coordination to manage coordination backend packages

This change replaces current implementation to manage packages for
coordination backend by oslo::coordination resource type, so that we
can gather all logics related to coordination in a single place.

Because Gnocchi is not using a common parameter name, configuration
is still managed by gnocchi class.

Depends-on: https://review.opendev.org/792535
Change-Id: I9998d1351ec656fd2e4c0eee8de16f4c65d1aeb8
"
openstack%2Fnova~stable%2Fstein~Id3e4452883f6a3cf44ff58b39ded82e882e28c23,openstack/nova,stable/stein,cherry-pick-in-gate-queue,Id3e4452883f6a3cf44ff58b39ded82e882e28c23,"Move 'check-cherry-picks' test to gate, n-v check",MERGED,2021-08-16 08:47:12.000000000,2021-08-25 01:50:49.000000000,2021-08-25 01:46:41.000000000,23,1,0,804615,1960b50f0d9646e12a8e8849579fab8c047885a8,8,3,1,2,17685,Elod Illes,elod.illes,"Move 'check-cherry-picks' test to gate, n-v check

This currently runs in the 'check' pipeline, as part of the pep8 job,
which causes otherwise perfectly valid backports to report as failing
CI. There's no reason a stable core shouldn't be encouraged to review
these patches: we simply want to prevent them *merging* before their
parent(s). Resolve this conflict by moving the check to separate voting
job in the 'gate' pipeline as well as a non-voting job in the 'check'
pipeline to catch more obvious issues.

Conflicts:
    .zuul.yaml

NOTE(elod.illes): conflict is due to train related zuul job updates,
like Ia1289f038b92c36dbdd79bcdf12d7cb95a3e5aa9 that is not present in
stein.

Change-Id: Id3e4452883f6a3cf44ff58b39ded82e882e28c23
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 98b01c9a59df4912f5a162c2c52d1f00c84d24c2)
(cherry picked from commit fef0305abefbf165fecb883f03bce97f525a790a)
(cherry picked from commit b7677ae08ae151858ecb0e67039e54bb3df89700)
(cherry picked from commit 91314f7fbba312d4438fa446804f692d316512a8)
(cherry picked from commit de94f429474713a68d5efc53677bc468f02dc112)
"
openstack%2Fkeystone~master~I9d4c08fa234989cb0ab9fb4fe7a0533485c899b0,openstack/keystone,master,,I9d4c08fa234989cb0ab9fb4fe7a0533485c899b0,Add a missing parameter auth,ABANDONED,2021-08-21 12:09:35.000000000,2021-08-25 01:49:32.000000000,,1,0,0,805480,e1b1c381363c6a4e2d273b37ec6522beccb8a606,3,1,1,1,33899,test,bingdian,"Add a missing parameter auth

Change-Id: I9d4c08fa234989cb0ab9fb4fe7a0533485c899b0
"
openstack%2Ftripleo-heat-templates~master~I0adfcdbbba971a1991caecfcdc3087e2a679e69a,openstack/tripleo-heat-templates,master,bug/1940729,I0adfcdbbba971a1991caecfcdc3087e2a679e69a,Adjust HAProxy script to allow for ID change,ABANDONED,2021-08-25 01:16:32.000000000,2021-08-25 01:17:15.000000000,,7,6,0,805920,39d360c4d360953c6c2161dfaeda22d3ef1d0bf9,2,0,1,1,30073,Brendan Shephard,bshephar,"Adjust HAProxy script to allow for ID change

It is possible that the UID of the container
changes between our first parse and the script
we execute to copy the TLS Cert. We can re-check
the container ID in the script to be safe.

Also, we need to fail appropriately if we can't
find the container, or can't restart it.

Related rhbz#1973674
Closes-Bug: #1940729
Change-Id: Ifafb2e71da1a921eeba8d8c6197cfb74d1ee045e

Change-Id: I0adfcdbbba971a1991caecfcdc3087e2a679e69a
"
openstack%2Fpython-tripleoclient~master~Iba653b7990d26041bde2f725b99a68c96c803ff1,openstack/python-tripleoclient,master,bug/1939624,Iba653b7990d26041bde2f725b99a68c96c803ff1,Restore kernel and ramdisk arguments to node configure,MERGED,2021-08-12 06:19:04.000000000,2021-08-25 01:07:46.000000000,2021-08-25 01:06:25.000000000,5,5,6,804331,a3c726c2267c505e1d8f7e69b9f08c906cc9cdf6,31,5,4,1,16690,Noam Angel,noama,"Restore kernel and ramdisk arguments to node configure

this change fixing a bug with ""openstack overcloud node configure"" cli. running the mentioned
command with or without ""--deploy-kernel"" ""--deploy-ramdisk"" will result with baremetals which does
not have any kernel and ramdisk setted

Change-Id: Iba653b7990d26041bde2f725b99a68c96c803ff1
Closes-Bug: #1939624
"
openstack%2Fopenstack-ansible~master~Ia487529a3bed7646ae04a376a5133121fa01fe93,openstack/openstack-ansible,master,,Ia487529a3bed7646ae04a376a5133121fa01fe93,Set bullseye jobs to voting,MERGED,2021-08-19 09:33:52.000000000,2021-08-25 00:59:26.000000000,2021-08-25 00:55:31.000000000,7,9,0,805172,afebcb984818a0179da7aba2466290318b800c8a,12,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Set bullseye jobs to voting

Debian Bullseye has been released and we were able to bump MariaDB
version for it, which was original reason for setting it as NV.

Change-Id: Ia487529a3bed7646ae04a376a5133121fa01fe93
"
openstack%2Fpuppet-aodh~stable%2Fwallaby~I887c7605eca21cb7269d4c0188378aabaeb03721,openstack/puppet-aodh,stable/wallaby,auth-wrong-param,I887c7605eca21cb7269d4c0188378aabaeb03721,Fix ignored parameters of aodh::auth,MERGED,2021-08-24 13:37:21.000000000,2021-08-25 00:41:41.000000000,2021-08-25 00:41:41.000000000,2,2,0,805817,4551518ae1c7a7cac94016f46c9ba05605570ddc,13,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix ignored parameters of aodh::auth

The aodh::auth class has been deprecated in favor of the new
aodh::service_credentials class but some of its parameters are ignored
because of the wrong parameter name.
This change fixes it and ensure all parameters are used even when
the deprecated class is used.

Change-Id: I887c7605eca21cb7269d4c0188378aabaeb03721
(cherry picked from commit 8c2a3a43222b5fbd016f11c7c00c514b86b7ead0)
"
openstack%2Freleases~master~Ic7893c314bb5b90a991e047206c505a62c383ede,openstack/releases,master,,Ic7893c314bb5b90a991e047206c505a62c383ede,Tag governance 0.9.0 for march 2021 elections,MERGED,2021-08-20 16:32:15.000000000,2021-08-25 00:19:59.000000000,2021-08-23 08:08:51.000000000,5,0,0,805437,4fa99e53daa2d8a4e6bd7ab6a2ff8e10fd09fb20,12,6,1,1,8556,Ghanshyam,ghanshyam,"Tag governance 0.9.0 for march 2021 elections

this tag is missing for old electrion march 2021.

hash as per the march election email deadline is taken:
2021-03-08

Change-Id: Ic7893c314bb5b90a991e047206c505a62c383ede
"
openstack%2Felection~master~I01e41728375f2b6c9a241ec6b27ecb8429a6cd00,openstack/election,master,,I01e41728375f2b6c9a241ec6b27ecb8429a6cd00,Tim Burke candidacy for Swift PTL (Yoga),MERGED,2021-08-24 22:57:57.000000000,2021-08-25 00:01:46.000000000,2021-08-24 23:59:17.000000000,26,0,0,805915,9043c6c9ec3280194b71fd697b54a9e18391634e,8,2,1,1,15343,Tim Burke,tburke,"Tim Burke candidacy for Swift PTL (Yoga)

Change-Id: I01e41728375f2b6c9a241ec6b27ecb8429a6cd00
"
openstack%2Felection~master~I206a8a2549e75476b52e42135c26634f00c33201,openstack/election,master,flwang-magnum-yoga,I206a8a2549e75476b52e42135c26634f00c33201,Adding Feilong Wang candidacy for Magnum,MERGED,2021-08-24 22:43:23.000000000,2021-08-25 00:00:39.000000000,2021-08-24 23:59:16.000000000,41,0,0,805914,a479b300d5c38e444df611b3eef3c79e9d27f1a1,9,2,2,1,6484,Feilong Wang,flwang,"Adding Feilong Wang candidacy for Magnum

Change-Id: I206a8a2549e75476b52e42135c26634f00c33201
"
openstack%2Foctavia-tempest-plugin~master~I6eb81eafce5c3bdd95b23c41497a8622d8432735,openstack/octavia-tempest-plugin,master,,I6eb81eafce5c3bdd95b23c41497a8622d8432735,DNM - Testing devstack debug,ABANDONED,2021-04-14 16:01:10.000000000,2021-08-24 22:22:57.000000000,,1,1,1,786275,4c296863ab35fb4b5fb2f021cd6ec27df6026da4,16,1,2,1,11628,Michael Johnson,johnsom,"DNM - Testing devstack debug

Depends-On: https://review.opendev.org/c/openstack/devstack/+/786250
Change-Id: I6eb81eafce5c3bdd95b23c41497a8622d8432735
"
openstack%2Fnova~master~I89d742ae01d65ab4e16fd8bd86b761f4c5d54d54,openstack/nova,master,bp/pci-socket-affinity,I89d742ae01d65ab4e16fd8bd86b761f4c5d54d54,Follow up from bp/pci-socket-affinity series,MERGED,2021-03-09 18:39:28.000000000,2021-08-24 22:10:04.000000000,2021-08-24 22:08:29.000000000,13,4,3,779556,e19f6fda58dc8f76dc5fe79165e5d18292af2842,33,7,3,5,8864,Artom Lifshitz,artom,"Follow up from bp/pci-socket-affinity series

This patch addresses outstanding nits from the bp/pci-socket-affinity
series. The most important is how the libvirt driver handles reporting
the new COMPUTE_SOCKET_PCI_NUMA_AFFINITY trait. Previously, this was
done by directly adding the trait in static_traits(). This patch
switches it to use driver capabilities.

Change-Id: I89d742ae01d65ab4e16fd8bd86b761f4c5d54d54
"
openstack%2Fnova~master~I977c3fd9bbb1e1d42e6979222137e7366d2815e8,openstack/nova,master,bp/add-attachmentid-to-responses-of-the-os-volume-attachments-api,I977c3fd9bbb1e1d42e6979222137e7366d2815e8,api: Introduce microversion 2.89 adjusting os-volume_attachments,MERGED,2021-08-11 16:17:57.000000000,2021-08-24 21:40:45.000000000,2021-08-24 21:38:48.000000000,334,54,41,804275,ac21c6674c8444edc5afd25b7d63936182fe3580,86,5,10,21,10135,Lee Yarwood,lyarwood,"api: Introduce microversion 2.89 adjusting os-volume_attachments

This microversion adds attachment_id and bdm_uuid as stored in the
underlying bdm record while also removing the duplicate id field from
the responses of ``GET /servers/{server_id}/os-volume_attachments`` and
``GET /servers/{server_id}/os-volume_attachments/{volume_id}``.

To accomidate this within the _translate_attachment_summary_view helper
is folded into _translate_attachment_detail_view with the remaining
caller in the now deprecated os-volumes API now replaced with a static
dictionary.

Blueprint: add-attachmentid-to-responses-of-the-os-volume-attachments-api
Change-Id: I977c3fd9bbb1e1d42e6979222137e7366d2815e8
"
openstack%2Fcinder~master~I2f52cc8e42c487c04ddb54cd2d7afe4b35d20eea,openstack/cinder,master,bug/1920890,I2f52cc8e42c487c04ddb54cd2d7afe4b35d20eea,[SVF]:Retype in-use hyperswap volume,MERGED,2021-03-23 10:01:10.000000000,2021-08-24 21:05:47.000000000,2021-08-24 21:03:56.000000000,302,18,21,782390,91c7f040ada08be2eaf0bc59dced6d48b7cb6fe6,265,10,10,4,32171,Girish Chilukuri,GirishChilukuri,"[SVF]:Retype in-use hyperswap volume

[Spectrum Virtualize Family] During HyperSwap volume retype,
adding site and io group information to host if not already
added to host.

Closes-Bug: #1920890
Change-Id: I2f52cc8e42c487c04ddb54cd2d7afe4b35d20eea
"
openstack%2Fnova~stable%2Fwallaby~Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55,openstack/nova,stable/wallaby,bug/1893263,Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55,Fix 1vcpu error with multiqueue and vif_type=tap,MERGED,2021-08-19 20:57:39.000000000,2021-08-24 20:54:38.000000000,2021-08-24 20:52:34.000000000,43,13,0,805304,aa5b8d12bcacc01e5f9be45cc1eef24ac9efd2fc,18,3,1,3,14567,Rodrigo Barbieri,ganso,"Fix 1vcpu error with multiqueue and vif_type=tap

Fix for bug #1893263 introduced a regression where
1 vcpu instances would fail to build when paired with
multiqueue-enabled images, in the scenario vif_type=tap.

Solution is to not pass multiqueue parameter when
instances.get_flavor().vcpus = 1.

Conflicts:
    nova/tests/unit/virt/libvirt/test_vif.py

NOTE: Conflicts are because commit
9d037f7d199443da0f2c6c1755704e589d52e730
is not in the tree for this branch.

Closes-bug: #1939604
Change-Id: Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55
(cherry picked from commit 7fc6fe6fae891eae42b36ccb9d69cd0f6d6db21d)
"
openstack%2Fnova~master~Ief2914201cb28060ed85f7cb6d6f202ad96db991,openstack/nova,master,bug/1940535,Ief2914201cb28060ed85f7cb6d6f202ad96db991,Fix documentation about cpu topologies,MERGED,2021-08-24 11:55:17.000000000,2021-08-24 20:40:30.000000000,2021-08-24 20:38:37.000000000,3,3,0,805833,1d62485472573b8634f23df93c7b28f1c74bf9a5,12,4,1,1,9708,Balazs Gibizer,gibi,"Fix documentation about cpu topologies

There was a copy paste error about requesting host without SMT enabled.

Change-Id: Ief2914201cb28060ed85f7cb6d6f202ad96db991
Closes-Bug: #1940535
"
openstack%2Fneutron~stable%2Fstein~I99a50725a514b324d3f886db9fd2d3dd37efd031,openstack/neutron,stable/stein,bug/1939125,I99a50725a514b324d3f886db9fd2d3dd37efd031,Fix notify listener syntax for SEGMENT_HOST_MAPPING,MERGED,2021-08-06 12:08:40.000000000,2021-08-24 20:40:14.000000000,2021-08-24 20:38:24.000000000,11,11,0,803738,66bc64155a2a2aeb923b4174c39fb9388ef8a4b1,25,5,2,2,12825,Szymon Wróblewski,bluex,"Fix notify listener syntax for SEGMENT_HOST_MAPPING

Change auto_schedule_new_network_segments call to use old notification
listener syntax in old stable branches of Neutron that still use
notify instead of publish.
Fix only needed for stable/stein, stable/rocky, stable/queens

Closes-Bug: #1939125
Change-Id: I99a50725a514b324d3f886db9fd2d3dd37efd031
"
openstack%2Fdevstack~master~Ifd0a5ef0bc5f3647f43b169df1f7176393971853,openstack/devstack,master,bug/1940742,Ifd0a5ef0bc5f3647f43b169df1f7176393971853,swift: Fix the empty gid option in rsyncd.conf,MERGED,2021-08-21 12:56:22.000000000,2021-08-24 20:40:11.000000000,2021-08-24 20:38:27.000000000,1,2,0,805484,25f84277eab5291aa0fa8c12ac39a69594611e08,10,3,3,1,9816,Takashi Kajinami,kajinamit,"swift: Fix the empty gid option in rsyncd.conf

This change fixes the empty value set to the gid option in rsyncd.conf,
which was caused by reference to the invalid USER_GROUP variable, and
ensures the option is set to the group which STACK_USER belongs to.

This also fixes duplicate declaration of the local user_group variable.

Closes-Bug: #1940742
Change-Id: Ifd0a5ef0bc5f3647f43b169df1f7176393971853
"
openstack%2Frequirements~master~I9826c22e82e1f5f0957c2bc4e5baf4bf224a7739,openstack/requirements,master,openstack/requirements/constraints/noclob,I9826c22e82e1f5f0957c2bc4e5baf4bf224a7739,Updated from generate-constraints,MERGED,2021-08-22 06:36:37.000000000,2021-08-24 20:39:53.000000000,2021-08-24 20:38:29.000000000,5,5,0,805501,26d7e48ee0e585eab06043894d8c202123ace701,15,2,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I9826c22e82e1f5f0957c2bc4e5baf4bf224a7739
"
openstack%2Fcinder~master~I0d65ebd01f415be2eb3bbfa627323959812a8158,openstack/cinder,master,bp/sizing-encrypted-volumes,I0d65ebd01f415be2eb3bbfa627323959812a8158,Sizing encrypted volumes,ABANDONED,2021-03-07 21:46:37.000000000,2021-08-24 20:33:07.000000000,,132,8,13,779114,5c59d1e2727a649e30f69b841c3b60bdf5dda1fd,41,2,2,10,20813,Sofia Enriquez,enriquetaso,"Sizing encrypted volumes

The manager.py will create a destination volume bigger
<source-volume-size+1> GB size if the flag 'allow-resize==on_demand'
and the destination volume-type is encrypted.

Driver-specific method '_copy_volume_data' for copy volume data when
using block devices. This method will be called after
_before_volume_copy during volume migration.

RPC minor version for a new param 3.x - Add allow_resize to retype
method and increase_size to migrate method.

Add a new optional field, 'allow_resize', to the os-retype action.
Possible values will be 'on-demand' or 'never' (which are the same
as the current 'migration_policy' field). If not specified, the
default is 'never'.

Add a new optional field, 'increase_size', to the os-migrate action.
The operator specifies how many GB to grow the volume (so the final
size is current size + increase_size).

Depends-On:
https: //review.opendev.org/c/openstack/python-cinderclient/+/779110
Partial-Bug: #1687880
Implements: blueprint sizing-encrypted-volumes
Change-Id: I0d65ebd01f415be2eb3bbfa627323959812a8158
"
openstack%2Felection~master~I5eb64c66fdecb5a21845573e7401272a7f2a9a70,openstack/election,master,,I5eb64c66fdecb5a21845573e7401272a7f2a9a70,Adding Alex Kavanagh candidacy for OpenStack_Charms,MERGED,2021-08-24 19:26:31.000000000,2021-08-24 20:18:25.000000000,2021-08-24 20:17:04.000000000,24,0,0,805881,dbbf96a0ef2f0d87623acc7971aca2a09223bef9,8,3,1,1,20870,Alex Kavanagh,ajkavanagh,"Adding Alex Kavanagh candidacy for OpenStack_Charms

Change-Id: I5eb64c66fdecb5a21845573e7401272a7f2a9a70
"
openstack%2Fpython-manilaclient~master~Iadce9d910370246f83f56f27039d9f5585642fbc,openstack/python-manilaclient,master,bug/1821945,Iadce9d910370246f83f56f27039d9f5585642fbc,Fix incorrect dict member lookup,MERGED,2021-08-24 05:32:48.000000000,2021-08-24 19:26:06.000000000,2021-08-24 19:24:44.000000000,1,1,0,805779,2fc21c3e0c751622182c4832f375066640a4cc9a,8,4,1,1,16643,Goutham Pacha Ravi,gouthamr,"Fix incorrect dict member lookup

Lookup by 'id' was missing quotes
causing sporadic functional test
failures - sporadic because the test
gets into this code section only when
it runs in parallel to some migration
tests.

Change-Id: Iadce9d910370246f83f56f27039d9f5585642fbc
Related-Bug: #1821945
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I4310b5fd0229f413f5b102ce73c537b41b6857b4,openstack/tripleo-heat-templates,stable/ussuri,test-ipa-voting-stable/ussuri,I4310b5fd0229f413f5b102ce73c537b41b6857b4,DNM - Testing multinode-ipa stability,ABANDONED,2020-09-17 16:08:17.000000000,2021-08-24 19:07:43.000000000,,1,28,0,752496,bc80377a9e16f64836cd1de5eaaddcb6020ee7bc,27,3,7,2,9976,Ronelle Landy,rlandy,"DNM - Testing multinode-ipa stability

Change-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4
"
openstack%2Felection~master~Iaec8da1a046326eb725eda3b5eecd2eeacda9849,openstack/election,master,,Iaec8da1a046326eb725eda3b5eecd2eeacda9849,Adding Rafael Weingartner candidacy for CloudKitty PTL,MERGED,2021-08-24 16:29:51.000000000,2021-08-24 19:00:48.000000000,2021-08-24 18:59:16.000000000,13,0,0,805870,180c24ffa8da2306faaf8a5611d4b4cbb60f050d,8,3,1,1,28356,Rafael Weingartner,rafaelweingartner,"Adding Rafael Weingartner candidacy for CloudKitty PTL

Change-Id: Iaec8da1a046326eb725eda3b5eecd2eeacda9849
"
openstack%2Felection~master~I7eeac788f390de8ced205ee5ba327aaaec060b5b,openstack/election,master,yoga,I7eeac788f390de8ced205ee5ba327aaaec060b5b,Adding Elod Illes candidacy for Release Management PTL for Yoga,MERGED,2021-08-24 15:54:59.000000000,2021-08-24 18:59:01.000000000,2021-08-24 18:57:32.000000000,21,0,0,805868,b41a6dffb46fd4887191fe561c1eaa4f1bf04e00,9,4,1,1,17685,Elod Illes,elod.illes,"Adding Elod Illes candidacy for Release Management PTL for Yoga

Change-Id: I7eeac788f390de8ced205ee5ba327aaaec060b5b
"
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I8acd10b2d5624066af3a9426081f9a0679890b3e,openstack/tripleo-heat-templates,stable/ussuri,,I8acd10b2d5624066af3a9426081f9a0679890b3e,Removing duplicate mount point in metrics_qdr,ABANDONED,2021-04-16 18:24:28.000000000,2021-08-24 18:57:34.000000000,,0,5,0,786699,f0abf2287855015cef8a8a091585a4f47a048bff,9,3,1,1,30893,Chris Sibbitt,csibbitt,"Removing duplicate mount point in metrics_qdr

The metrics_qdr container fails to start when tls-everywhere is enabled
due to a duplicate mount point for /etc/ipa/ca.crt already configured in
containers-common[1]

[1] https://review.opendev.org/plugins/gitiles/openstack/tripleo-heat-templates/+/refs/heads/master/deployment/containers-common.yaml#146

Change-Id: I8acd10b2d5624066af3a9426081f9a0679890b3e
Resolves: rhbz#1947116
"
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I8acd10b2d5624066af3a9426081f9a0679890b3e,openstack/tripleo-heat-templates,stable/victoria,,I8acd10b2d5624066af3a9426081f9a0679890b3e,Removing duplicate mount point in metrics_qdr,ABANDONED,2021-04-16 18:23:25.000000000,2021-08-24 18:57:30.000000000,,0,5,0,786697,30e5ab437743a33bacf4c7bb7cdba71b35fe3dd1,13,4,1,1,30893,Chris Sibbitt,csibbitt,"Removing duplicate mount point in metrics_qdr

The metrics_qdr container fails to start when tls-everywhere is enabled
due to a duplicate mount point for /etc/ipa/ca.crt already configured in
containers-common[1]

[1] https://review.opendev.org/plugins/gitiles/openstack/tripleo-heat-templates/+/refs/heads/master/deployment/containers-common.yaml#146

Change-Id: I8acd10b2d5624066af3a9426081f9a0679890b3e
Resolves: rhbz#1947116
"
openstack%2Felection~master~Ifb86d6550de6a4ff2894cb1a31c81103d482871c,openstack/election,master,cinder-rosmaita-y,Ifb86d6550de6a4ff2894cb1a31c81103d482871c,Adding Brian Rosmaita candidacy for Cinder PTL,MERGED,2021-08-24 15:21:22.000000000,2021-08-24 18:56:59.000000000,2021-08-24 18:55:43.000000000,64,0,0,805867,fb2e14ca3d2ab8832907c712bef78c967c41f048,8,3,1,1,5314,Brian Rosmaita,brian-rosmaita,"Adding Brian Rosmaita candidacy for Cinder PTL

Change-Id: Ifb86d6550de6a4ff2894cb1a31c81103d482871c
"
openstack%2Fpython-tripleoclient~master~Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4,openstack/python-tripleoclient,master,deployed_ceph,Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4,"Introduce ""openstack overcloud ceph deploy""",MERGED,2021-07-11 20:42:13.000000000,2021-08-24 18:52:56.000000000,2021-08-24 18:51:25.000000000,483,0,23,800341,61e4f4c7889b44979cd56fe5b5a24b0965151bfa,74,7,24,7,18002,John Fulton,fultonj,"Introduce ""openstack overcloud ceph deploy""

The new ""openstack overcloud ceph deploy"" is used to deploy
Ceph after the hardware has been provisioned with networking
and before the overcloud is deployed. The command takes the
output of ""openstack overcloud node provision"" as input and
returns a Heat enviornment file, e.g. deployed_ceph.yaml,
as output. The deployed_ceph.yaml file may then be passed
to the ""openstack overcloud deploy"" command as input.

Change-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4
"
openstack%2Fnova~master~I2339cc62698fe39ddb6be48d021b9211223dbf41,openstack/nova,master,remove-custom-schedulers,I2339cc62698fe39ddb6be48d021b9211223dbf41,conf: Remove deprecated aliases,MERGED,2021-02-02 11:28:48.000000000,2021-08-24 18:52:55.000000000,2021-08-24 18:31:49.000000000,17,22,0,773647,50a7a3050a2fb746a35330f0544320382373bded,76,3,8,2,15334,Stephen Finucane,sfinucan,"conf: Remove deprecated aliases

These have been around since the beginning of time. Let's clean them up.

Change-Id: I2339cc62698fe39ddb6be48d021b9211223dbf41
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fmanila~master~Id62bbfe23319f6941f37ce5eb72b511ee1bf4ebf,openstack/manila,master,honor_template_name,Id62bbfe23319f6941f37ce5eb72b511ee1bf4ebf,[Pure Storage] Honour the share_name_template parameter,MERGED,2021-08-12 14:34:16.000000000,2021-08-24 18:42:47.000000000,2021-08-24 18:11:04.000000000,4,2,0,804393,e6e4ac26b7a40db543b16cf73d67f50eb08fc018,29,3,1,1,13425,Simon Dodsley,sdodsley,"[Pure Storage] Honour the share_name_template parameter

No release notes required as this driver has not yet been included
in a release and all we are doing here is honouring the standard
share naming template that is documented elsewhere.

Change-Id: Id62bbfe23319f6941f37ce5eb72b511ee1bf4ebf
"
openstack%2Fglance~master~Icff756606429ecfd9183bdceba33aaff347bb0b7,openstack/glance,master,policy-refactor,Icff756606429ecfd9183bdceba33aaff347bb0b7,Move metadef resource type association policy checks in the API,MERGED,2021-07-06 10:51:18.000000000,2021-08-24 18:33:59.000000000,2021-08-24 18:31:55.000000000,354,25,20,799637,e92c664df1cf0845ea04101c1085149fad324360,82,6,21,5,9303,Abhishek Kekane,abhishekkekane,"Move metadef resource type association policy checks in the API

Moved policy checks for metadef resource typpe associations in
the API layer. Added additional functional tests for coverage.

Partially implements: blueprint policy-refactor

Change-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7
Depends-On: https://review.opendev.org/c/openstack/grenade/+/803317
"
openstack%2Fnova~master~I609df5b707e05ea70c8a738701423ca751682575,openstack/nova,master,remove-custom-schedulers,I609df5b707e05ea70c8a738701423ca751682575,scheduler: Merge driver into manager,MERGED,2021-02-02 11:28:48.000000000,2021-08-24 18:33:55.000000000,2021-08-24 18:31:27.000000000,1670,1747,2,773644,665299949494d78d88ff8c22caa2a4f3978c054b,67,3,8,9,15334,Stephen Finucane,sfinucan,"scheduler: Merge driver into manager

There's only one driver now, which means there isn't really a driver at
all. Move the code into the manager altogether and avoid a useless layer
of abstraction.

Change-Id: I609df5b707e05ea70c8a738701423ca751682575
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fnova~master~Ia15dd168a911135732f87dbf94b40046e5578cb0,openstack/nova,master,remove-custom-schedulers,Ia15dd168a911135732f87dbf94b40046e5578cb0,"tests: Merge 'test_utils', 'test_scheduler_utils'",MERGED,2021-02-02 11:28:48.000000000,2021-08-24 18:31:38.000000000,2021-08-24 18:31:38.000000000,483,521,0,773646,62e112461f63d19572c7b8e60a48c6b9fcaf4204,48,3,8,2,15334,Stephen Finucane,sfinucan,"tests: Merge 'test_utils', 'test_scheduler_utils'

No need for these to live in separate places.

Change-Id: Ia15dd168a911135732f87dbf94b40046e5578cb0
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcinder~stable%2Ftrain~Icd7a929e7cbce0c74f6b340f4e09f74a8098d752,openstack/cinder,stable/train,netapp-qos,Icd7a929e7cbce0c74f6b340f4e09f74a8098d752,NetApp ONTAP: Fix QoS lost after moving volume,MERGED,2021-07-09 13:17:08.000000000,2021-08-24 17:29:49.000000000,2021-08-24 17:27:54.000000000,44,13,0,800231,bfa754c0700a5100ca0fecbfead21692c0aed710,16,5,1,6,10459,Luigi Toscano,ltoscano,"NetApp ONTAP: Fix QoS lost after moving volume

When a Cinder volume is created with a volume-type associated to a QoS
entity, the driver creates a QoS policy group at the ONTAP back end, and
associates it to the entity representing the Cinder volume (either a LUN
or a file within an NFS share).

On NetApp NFS, when a migrate operation is issued and it completes, the
resulting volume ends up without a QoS.  That happens because the file
is being renamed while the QoS refers to the now non-existent file.

This patch makes it so that the file is not renamed when finishing a
migration and the driver code uses the ``name_id`` attribute instead of
the ``id`` one to refer to the right UUID.

Conflicts:
    cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py
    cinder/volume/drivers/netapp/dataontap/nfs_base.py
Both conflicts are caused by the new code added by
I507083c3e34e5a5cf1db9a3d1f6bef47bd51a9f8

Closes-Bug: #1906291
Change-Id: Icd7a929e7cbce0c74f6b340f4e09f74a8098d752
(cherry picked from commit da100e1fca610cefb7e77079ab3170b068e328a2)
(cherry picked from commit ee49b67414ef990dd4963f3a4a18d8d3784d8626)
(cherry picked from commit 7eff1a4d7fae410c9c7840519b23e3f724b2d026)
(cherry picked from commit 652ab0aff96a6e6e0aa83c49b20fcce2d1c1cde7)
"
openstack%2Fkolla~stable%2Fwallaby~I01356184b8e0ef2b5341ec74a2c434b09a50766d,openstack/kolla,stable/wallaby,debuntu-binary-cloudkitty-stable/wallaby,I01356184b8e0ef2b5341ec74a2c434b09a50766d,Allow build debian/ubuntu-binary cloudkitty images,MERGED,2021-08-24 09:00:15.000000000,2021-08-24 17:28:16.000000000,2021-08-24 17:25:26.000000000,13,8,0,805762,333f02a0725adfeb000e2fe99b2c07749c9186ad,16,4,2,5,14826,Mark Goddard,mgoddard,"Allow build debian/ubuntu-binary cloudkitty images

Change-Id: I01356184b8e0ef2b5341ec74a2c434b09a50766d
(cherry picked from commit 11b445126093cc323e90cade9435f0467737b85d)
"
openstack%2Fkolla~stable%2Fwallaby~I61623748d1149adb1b096adf2fffb5a902df3181,openstack/kolla,stable/wallaby,debuntu-ironic-neutron-agent-stable/wallaby,I61623748d1149adb1b096adf2fffb5a902df3181,ironic-neutron-agent: enable for Debuntu binary,MERGED,2021-08-24 08:57:57.000000000,2021-08-24 17:27:04.000000000,2021-08-24 17:25:22.000000000,10,8,0,805761,3567cffb2ed0b3079570c058c764fc8c9f58ec21,16,3,2,6,14826,Mark Goddard,mgoddard,"ironic-neutron-agent: enable for Debuntu binary

Packages are available for focal and bullseye.

Change-Id: I61623748d1149adb1b096adf2fffb5a902df3181
(cherry picked from commit 928c4648a4c2cf08c616d74f340c675418ba3385)
"
openstack%2Fcinder~stable%2Fwallaby~I0c0cb5308246a3dce736eade67b40be063aa78bb,openstack/cinder,stable/wallaby,,I0c0cb5308246a3dce736eade67b40be063aa78bb,LVM: Retry lvextend commands on code 139,MERGED,2021-08-19 12:24:15.000000000,2021-08-24 17:03:04.000000000,2021-08-24 17:01:18.000000000,2,3,0,805144,2425f3ef590524c357622748df79d87edebd17f3,22,5,1,2,4523,Eric Harney,eharney,"LVM: Retry lvextend commands on code 139

Retry lvextend commands upon segfault, similar to other
LVM calls.  This affects the volume extend path.

Change-Id: I0c0cb5308246a3dce736eade67b40be063aa78bb
Related-Bug: #1901783
Related-Bug: #1932188
Closes-Bug: #1940436
(cherry picked from commit c4b8956763c2759bd2b9fe511efac5b3edfb226d)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I4c16d988f898f7a85513fbd06d162d04f65c2c36,openstack/tripleo-ansible,stable/wallaby,,I4c16d988f898f7a85513fbd06d162d04f65c2c36,Don't pass None to neutron for ipv6_address_mode/ipv6_ra_mode,MERGED,2021-08-24 10:47:13.000000000,2021-08-24 16:54:16.000000000,2021-08-24 16:53:00.000000000,16,19,0,805811,1a654e9a5f26df4a3114e11076907ba0b51df365,8,3,1,4,24245,Harald Jensås,harald.jensas,"Don't pass None to neutron for ipv6_address_mode/ipv6_ra_mode

Neutron does not accept None values for these attributes.

[1] https://github.com/openstack/neutron-lib/blob/master/neutron_lib/api/definitions/subnet.py#L125

Closes-Bug: #1939595
Change-Id: I4c16d988f898f7a85513fbd06d162d04f65c2c36
(cherry picked from commit 72590b9da0eb2f9745c4c269ab8fe60ea6f90593)
"
openstack%2Faodh~master~I4cfcb3e12012075eb56c6f69200825f0b597803f,openstack/aodh,master,add_fips_job,I4cfcb3e12012075eb56c6f69200825f0b597803f,Adding FIPS job,MERGED,2021-08-11 18:47:47.000000000,2021-08-24 16:51:59.000000000,2021-08-24 16:47:46.000000000,8,0,0,804291,a236b07d3d75292ebbaabe905acfcb213a2705ab,27,3,5,1,30893,Chris Sibbitt,csibbitt,"Adding FIPS job

Change-Id: I4cfcb3e12012075eb56c6f69200825f0b597803f
Depends-On: I05713ed77b79e583ad1073ff80ccd7a031e34c26
"
openstack%2Fswift~master~I3f7bfc2877355b7cb433af77c4e2dfdfa94ff14d,openstack/swift,master,probez,I3f7bfc2877355b7cb433af77c4e2dfdfa94ff14d,Band-aid and test the crash of the account server,MERGED,2020-07-29 16:26:55.000000000,2021-08-24 16:50:35.000000000,2021-08-24 16:47:22.000000000,196,34,21,743797,bcff1282b579f48efdc9bfcdde5b666b9ab23d3a,35,3,8,6,597,Pete Zaitcev,zaitcev,"Band-aid and test the crash of the account server

We have a better fix in the works, see the change
Ic53068867feb0c18c88ddbe029af83a970336545. But it is
taking too long to coalesce and users are unhappy right now.

Related: rhbz#1838242, rhbz#1965348
Change-Id: I3f7bfc2877355b7cb433af77c4e2dfdfa94ff14d
"
openstack%2Fopenstack-helm-infra~master~Id1be29773224ea496a3550642d7ba194fd1e83c2,openstack/openstack-helm-infra,master,attribute_error,Id1be29773224ea496a3550642d7ba194fd1e83c2,Fix an attribute error,MERGED,2021-08-23 14:42:57.000000000,2021-08-24 16:50:25.000000000,2021-08-24 16:46:35.000000000,2,2,0,805653,e81a86d57407062610b6f969616f8565dd3564ae,8,3,1,1,30696,zhaoleilc,zhaoleilc,"Fix an attribute error

The corresponding attribute in roles/build-images/defaults/main.yml
is helm_repo instead of google_helm_repo.

Change-Id: Id1be29773224ea496a3550642d7ba194fd1e83c2
"
openstack%2Fnova~master~Ib2308653e1894e1ab9462eec01b19f1a038552f0,openstack/nova,master,server-groups-use-right-log-variable,Ib2308653e1894e1ab9462eec01b19f1a038552f0,api: Log actual number of UUIDs queried,MERGED,2021-08-24 06:57:26.000000000,2021-08-24 16:42:17.000000000,2021-08-24 13:37:03.000000000,1,1,0,805786,b6ab1cb467c7fb45f49e44323047eb27023452c1,14,3,1,1,26250,Johannes Kulik,jkulik,"api: Log actual number of UUIDs queried

When retrieving a server group, we log in debug log how many instances
we query each cell for. This used the wrong variable, always showing the
same number for all cells - the number of members in the server group -
instead of showing the number of UUIDs we query the cell for.

Change-Id: Ib2308653e1894e1ab9462eec01b19f1a038552f0
"
openstack%2Fopenstack-ansible~master~I81b55961bce3bb664f4450ef14327c1634a9e8e1,openstack/openstack-ansible,master,,I81b55961bce3bb664f4450ef14327c1634a9e8e1,Add heat service when scenario includes sahara,MERGED,2021-07-27 15:11:52.000000000,2021-08-24 16:38:33.000000000,2021-08-24 16:31:31.000000000,1,1,1,802535,2dc1611f1b9f1b55e9bfc5251468e6dd7c6b3294,13,3,3,1,25023,Jonathan Rosser,jrosser,"Add heat service when scenario includes sahara

Change-Id: I81b55961bce3bb664f4450ef14327c1634a9e8e1
"
openstack%2Fopenstack-ansible~master~I6f434c73176dc2d5e6852ab3232a0b63522f0210,openstack/openstack-ansible,master,,I6f434c73176dc2d5e6852ab3232a0b63522f0210,Move galera tasks to pre_tasks,MERGED,2021-08-19 12:04:41.000000000,2021-08-24 16:35:48.000000000,2021-08-24 16:31:26.000000000,2,11,0,805193,5451778f466e10cd4dbebd1bfe737434bb7334bd,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Move galera tasks to pre_tasks

There's no reason to launch tasks independently since this can be done
with pre_tasks.

Change-Id: I6f434c73176dc2d5e6852ab3232a0b63522f0210
"
openstack%2Fopenstack-helm-infra~master~I3f2c6ffe3168ba738181115b175e971e67fba2e8,openstack/openstack-helm-infra,master,autoscaler,I3f2c6ffe3168ba738181115b175e971e67fba2e8,Set initial pg_num to pg_num_min with autoscaler,ABANDONED,2021-08-24 14:18:27.000000000,2021-08-24 16:11:50.000000000,,3,3,0,805862,c18b003ee4edab1f98a01659a06ca1559575dff0,4,1,1,1,32190,Frank Ritchie,fr801x,"Set initial pg_num to pg_num_min with autoscaler

This PS to to ensure a new pool will be created with pg_num set to
pg_num_min when the autoscaler is enabled. manage_pool will call
create_pool with pg_num set to 0 when the autoscaler is enabled.

Change-Id: I3f2c6ffe3168ba738181115b175e971e67fba2e8
"
openstack%2Fneutron-vpnaas~stable%2Fvictoria~I47f6d39379b68c4d71fc4d85ebb06d97cb5a6ce2,openstack/neutron-vpnaas,stable/victoria,,I47f6d39379b68c4d71fc4d85ebb06d97cb5a6ce2,Fix inconsistency in requirements,MERGED,2021-08-04 09:56:46.000000000,2021-08-24 16:08:05.000000000,2021-08-24 16:03:43.000000000,48,200,0,803455,0922764db697760a2c8a5d7016ff82200fd1d0d0,12,4,2,11,21798,Bernard Cafarelli,bcafarel,"Fix inconsistency in requirements

The latest pip resolver started to check requirements strictly
and it detects many inconsistencies in neutron-vpnaas requirements.
Also applies the practices discussed in the mailing list [1][2].

* Drop pyflakes from requirements.txt as it is not used.
* Move document dependencies to doc/requirements.txt [1]
  and drop them from lower-constriants.txt.
* Bump MarkupSafe lower-constraint to 1.1.1
  to make it work with newer setuptools.
* Bump the minimum neutron requirement to 17.0.0 (victoria release)
  as the previous min version 13.0.0.0b2 is too old.
  Wallaby and Victoria neutron are not different much, so I think
  it is no problem to use the latest released version here.
* Dependenicy related to neutron min version bump are updated
  in requirements and lower-constraints.
  Note that eventlet 0.22.0 is used as lower-constraints as 0.21.0
  (the min requirement in neutron 17.0.0) is blocked in several libs.
* Move linter dependencies to tox.ini and drop them from
  lower-constraints.txt (pylint, pyflakes, astroid, isort)
* Drop psutil from neutron_vpnaas/tests/functional/requirements.txt
  as the specified version of psutil is too old and psutil is a dependency
  of neutron so we don't need to install it explicitly here.

In addition, hacking version is updated as hacking 0.12.0 is not compatible
with python 3.8. W504 and I202 are ignored as we do in the neutron repo.
Other new flake8 violations are fixed.

[stable/victoria only] To fully fix gates, this also drops
lower-constraints testing from this stable branch, as decided in Neutron
CI meeting [3].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019362.html
[3] http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html

Change-Id: I47f6d39379b68c4d71fc4d85ebb06d97cb5a6ce2
(cherry picked from commit 7c8262cf50daabc9afd3f45137c101a3b1c805c4)
"
openstack%2Fneutron-vpnaas~stable%2Fussuri~Ia117cf55cf07fc599c5a9251a49032b30a40c312,openstack/neutron-vpnaas,stable/ussuri,gates_ussuri,Ia117cf55cf07fc599c5a9251a49032b30a40c312,[stable/ussuri] Fix gates,MERGED,2020-08-13 08:41:28.000000000,2021-08-24 16:07:37.000000000,2021-08-24 16:01:04.000000000,0,159,0,746024,6ef2444dc2535a7e7b31a8945a6ac14d15983be2,15,5,2,4,17685,Elod Illes,elod.illes,"[stable/ussuri] Fix gates

Drop psutil from neutron_vpnaas/tests/functional/requirements.txt as the
specified version of psutil is too old and psutil is a dependency of
neutron so we don't need to install it explicitly here.

To fully fix gates, this also drops lower-constraints testing from this
stable branch, as decided in Neutron CI meeting [0].

[0] http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html

Change-Id: Ia117cf55cf07fc599c5a9251a49032b30a40c312
"
openstack%2Frequirements~master~I820f80b0c423a952f6625375c7ded50296476b49,openstack/requirements,master,new-release,I820f80b0c423a952f6625375c7ded50296476b49,update constraint for oslo.messaging to new release 12.9.0,MERGED,2021-08-23 21:10:53.000000000,2021-08-24 15:50:14.000000000,2021-08-24 15:48:34.000000000,1,1,0,805710,d66f48d27fda931958693c42780d070c44f4ff5b,12,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for oslo.messaging to new release 12.9.0

meta: version: 12.9.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: If894ff6d4cddcc7aec3ef9254113469e2c92b099
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I820f80b0c423a952f6625375c7ded50296476b49
"
openstack%2Foslo.metrics~master~I2382b22dd287c39e32b5c35399faa965e921255f,openstack/oslo.metrics,master,move_flake8_local,I2382b22dd287c39e32b5c35399faa965e921255f,Move flake8 as a pre-commit local target.,NEW,2021-03-23 12:01:50.000000000,2021-08-24 15:44:08.000000000,,39,0,1,782448,f1fcbaef30d312fdb9b560810c922e7033348294,5,3,1,1,31245,Daniel Bengtsson,damani42,"Move flake8 as a pre-commit local target.

The goal here is to avoid conflicts between flake8 and hacking version each
2 days.

Inspired from nova's approach[1].

The flake8 version to install will be determined by hacking and
requirements[2] will stay aligned instead of relying on different versions.

[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35
[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1

Change-Id: I2382b22dd287c39e32b5c35399faa965e921255f
"
openstack%2Frequirements~master~I8b043520d129024cace1a666c34a0f4d5ee566d9,openstack/requirements,master,new-release,I8b043520d129024cace1a666c34a0f4d5ee566d9,update constraint for os-brick to new release 5.0.0,MERGED,2021-08-23 21:00:02.000000000,2021-08-24 15:39:53.000000000,2021-08-24 15:38:30.000000000,1,1,0,805709,a3d614764d714a988dc738291fca9916b388c637,12,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os-brick to new release 5.0.0

meta: version: 5.0.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ib225dd8ed32fbd609152cf01a1260060fda1e5b2
meta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I8b043520d129024cace1a666c34a0f4d5ee566d9
"
openstack%2Fpuppet-horizon~stable%2Fussuri~Ie1442d34b6837ced5f44018d038d4d716d568655,openstack/puppet-horizon,stable/ussuri,puppet-horizon-dashboards-stable/victoria-stable/ussuri,Ie1442d34b6837ced5f44018d038d4d716d568655,Add support for independent manila-dashboard configurations,MERGED,2021-07-25 23:47:41.000000000,2021-08-24 15:36:54.000000000,2021-08-24 15:35:26.000000000,222,0,0,802204,c7fd4ad4bbcdc6c169716b25aeabde5d9659ac34,14,3,2,5,9816,Takashi Kajinami,kajinamit,"Add support for independent manila-dashboard configurations

This change introduces the new horizon::dashboards::manila class,
which allows users to manage the independent configuration file for
manila dashboard (_90_manila_shares.py).

Conflicts:
        manifests/params.pp

Backport note to Ussuri:
- The log_handlers option is not available in Ussuri so it is replaced
  by the old log_handler option.
- This change includes what was fixed by follow-up commit[1] in
  Victoria.
  [1] 23ebe3bf02f903abbba885f17dc56590fcf6a51e

Change-Id: Ie1442d34b6837ced5f44018d038d4d716d568655
(cherry picked from commit a7d71fb37d7638d19f9ba22650a49c93b2be9142)
(cherry picked from commit fd8db39d8dd66b4895a181a1d187a7c555fbfe83)
(cherry picked from commit c99e9fdb46531d2e0d8ffc57ca72fe65703932fb)
"
openstack%2Fpuppet-horizon~stable%2Fussuri~I54f7fb778bc2487bf977e23e193773d627d91dd9,openstack/puppet-horizon,stable/ussuri,puppet-horizon-dashboards-stable/victoria-stable/ussuri,I54f7fb778bc2487bf977e23e193773d627d91dd9,Add support for independent octavia-dashboard configurations,MERGED,2021-07-25 23:47:26.000000000,2021-08-24 15:35:44.000000000,2021-08-24 15:34:15.000000000,207,33,0,802203,7f3cf8d500a3ae7d65f0fbbb7856744bc1712871,14,3,2,5,9816,Takashi Kajinami,kajinamit,"Add support for independent octavia-dashboard configurations

This change introduces the new horizon::dashboards::octavia class,
which allows users to manage the independent configuration file for
octavia dashboard (_1499_load_balancer_settings.py).

Conflicts:
	manifests/params.pp

Backport note to Ussuri:
- The log_handlers option is not available in Ussuri so it is replaced
  by the old log_handler option.
- This change includes what was fixed by follow-up commit[1] in
  Victoria.
  [1] 23ebe3bf02f903abbba885f17dc56590fcf6a51e

Change-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9
(cherry picked from commit c29622ee456494e6a34f62ded5747585a7ec5e62)
(cherry picked from commit d61cf671ee738ecaece14eaa3377c38274b366c7)
(cherry picked from commit 1d55da706899bf37baa38ef04e3296d6a26714c9)
"
openstack%2Fglance~master~I5e2d15e861f751031208d2cc36167bacdf91f5a0,openstack/glance,master,policy-refactor,I5e2d15e861f751031208d2cc36167bacdf91f5a0,Add missing forbidden to not found case for GET namespace API,MERGED,2021-08-12 08:21:22.000000000,2021-08-24 15:33:46.000000000,2021-08-24 15:29:15.000000000,6,2,2,804358,f33504c39b5e829c7dccae133ea63017dd942999,13,5,2,3,9303,Abhishek Kekane,abhishekkekane,"Add missing forbidden to not found case for GET namespace API

Covered missing forbidden to not found conversion scenario for
GET namespace API.

Related: blueprint policy-refactor
Change-Id: I5e2d15e861f751031208d2cc36167bacdf91f5a0
"
openstack%2Fdevstack~master~I95c67ad69e6eae6a72d25a851a71b7de85e56fd2,openstack/devstack,master,devstack-gate,I95c67ad69e6eae6a72d25a851a71b7de85e56fd2,Make Ironic job as voting,MERGED,2021-08-11 17:43:48.000000000,2021-08-24 15:33:35.000000000,2021-08-24 15:29:13.000000000,2,2,0,804287,31f0418bad5a9542a38e8200131adf4ace08e01a,22,4,2,1,8556,Ghanshyam,ghanshyam,"Make Ironic job as voting

ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa
job is voting on Ironic and neutron gate which mean it is
stable enough and make sense to make it voting on devstack gate too.

ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa is alias
job of ironic-tempest-bios-ipmi-direct-tinyipa so using the original
job instead of alias
- https://opendev.org/openstack/ironic/src/branch/master/zuul.d/ironic-jobs.yaml#L784

Change-Id: I95c67ad69e6eae6a72d25a851a71b7de85e56fd2
"
openstack%2Fdevstack~master~I58847f74306194eaad132680815101a134fb4022,openstack/devstack,master,devstack-gate-jobs,I58847f74306194eaad132680815101a134fb4022,make swift-dsvm-functional job as voting,MERGED,2021-08-11 17:29:12.000000000,2021-08-24 15:28:25.000000000,2021-08-24 15:23:40.000000000,2,8,0,804282,ed323805f26e51438fd08d6d51882d758551924c,17,3,2,1,8556,Ghanshyam,ghanshyam,"make swift-dsvm-functional job as voting

swift-dsvm-functional job test swift under python3 and
voting on swift gate whihc means this is a stable job now,
let's make this voting to devstack gate too.

Removing swift-dsvm-functional-py3 job as it does not exist anymore
after- https://review.opendev.org/c/openstack/swift/+/731318

swift-dsvm-functional itself is py3 job now.

Change-Id: I58847f74306194eaad132680815101a134fb4022
"
openstack%2Fpuppet-openstack-integration~master~Ic245b30b2c18d3d12fd38af703e24875201b76c3,openstack/puppet-openstack-integration,master,openstack/puppet/constraints,Ic245b30b2c18d3d12fd38af703e24875201b76c3,Updated from Puppet OpenStack modules constraints,MERGED,2021-08-21 06:13:13.000000000,2021-08-24 15:21:57.000000000,2021-08-24 15:21:57.000000000,1,1,0,805473,b9cd9ff301a359fa03fc0af7004f757e172d1a80,13,3,3,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from Puppet OpenStack modules constraints

Change-Id: Ic245b30b2c18d3d12fd38af703e24875201b76c3
"
openstack%2Fmanila-tempest-plugin~master~Ib39cb2bda862758f575262647e068dd9deaf1459,openstack/manila-tempest-plugin,master,bug/1940324,Ib39cb2bda862758f575262647e068dd9deaf1459,[CI] Temporarily disable IPv6 scenario tests,MERGED,2021-08-20 00:01:32.000000000,2021-08-24 15:17:17.000000000,2021-08-24 15:17:17.000000000,9,1,4,805319,8ccbbebe6d424265ff717197b9a323917518e8c5,26,6,7,2,16643,Goutham Pacha Ravi,gouthamr,"[CI] Temporarily disable IPv6 scenario tests

We're experiencing failures to SSH into test
VMs over IPv6 IP addresses from private tenant
networks in the LVM driver job when testing
main branch code. It's possible this is a regression
in nova, neutron, neutron dynamic routing or bgp. We'll
drop this test exclusion when the bug has been
identified and fixed.

Change-Id: Ib39cb2bda862758f575262647e068dd9deaf1459
Partial-Bug: #1940324
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
"
openstack%2Fopenstack-ansible-os_neutron~stable%2Fwallaby~Ifdb773f9f539469e21d37075f6b88259eb1ffa3e,openstack/openstack-ansible-os_neutron,stable/wallaby,osa/neutron-ovn-stable/wallaby,Ifdb773f9f539469e21d37075f6b88259eb1ffa3e,Add support of OVN for CentOS-8-Stream,MERGED,2021-08-16 11:36:03.000000000,2021-08-24 15:11:20.000000000,2021-08-24 15:09:41.000000000,22,17,0,804717,40e99aea192b50192ea888ad2640f33ad98da00f,24,4,2,5,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add support of OVN for CentOS-8-Stream

This patch will adjust some variable for C8-Stream job to fix
OVN deployment for CentOS-8-Stream. Renamed ovn-central with
ovn-northd for more generic name.

Change-Id: Ifdb773f9f539469e21d37075f6b88259eb1ffa3e
(cherry picked from commit 97d409a911b5aaaa1bcc2c069da2d3c277236b47)
"
openstack%2Fopenstack-ansible-galera_server~master~I0e293583a8b4952740398177f5fb1ee5bb5197b4,openstack/openstack-ansible-galera_server,master,804370,I0e293583a8b4952740398177f5fb1ee5bb5197b4,Update galera to 10.6.4,MERGED,2021-08-12 09:45:03.000000000,2021-08-24 15:10:29.000000000,2021-08-19 12:58:32.000000000,2,2,0,804370,88b6fd10f5ab238de8e8c3ec5e68bc8ea69f685b,25,3,3,1,25023,Jonathan Rosser,jrosser,"Update galera to 10.6.4

Also delete vars/debian-11.yml so that debian bullseye installs from the official repo
rather than using the distro packages.

Change-Id: I0e293583a8b4952740398177f5fb1ee5bb5197b4
"
openstack%2Fopenstack-helm-infra~master~I300907c87e601a5c64e7766a6e51b87fa8d3cbed,openstack/openstack-helm-infra,master,nolock,I300907c87e601a5c64e7766a6e51b87fa8d3cbed,[WIP] Remove locked aliases,ABANDONED,2021-07-29 15:23:25.000000000,2021-08-24 14:08:55.000000000,,35,35,0,802906,90f348e52916bc722a7e24888c0f39455a431133,3,1,1,3,32190,Frank Ritchie,fr801x,"[WIP] Remove locked aliases

Change-Id: I300907c87e601a5c64e7766a6e51b87fa8d3cbed
"
openstack%2Fopenstack-helm-infra~master~I71cd052a253f2dd85b657b6048e5a46012ac0f45,openstack/openstack-helm-infra,master,osd-time,I71cd052a253f2dd85b657b6048e5a46012ac0f45,[WIP][DNM] Test osd times,ABANDONED,2021-08-03 18:09:25.000000000,2021-08-24 14:08:47.000000000,,3,0,0,803389,794c343e76433bdcb2642ab73d9cda09b59efce3,5,1,3,1,32190,Frank Ritchie,fr801x,"[WIP][DNM] Test osd times

Change-Id: I71cd052a253f2dd85b657b6048e5a46012ac0f45
"
openstack%2Fansible-role-python_venv_build~stable%2Fwallaby~I7418d285ea052f67febee31038d92c772b72593b,openstack/ansible-role-python_venv_build,stable/wallaby,,I7418d285ea052f67febee31038d92c772b72593b,Improve speed of permissions changes,MERGED,2021-08-24 09:32:26.000000000,2021-08-24 14:06:39.000000000,2021-08-24 14:04:29.000000000,3,2,0,805766,a54e13cb4b846459e434f15ea09fe5c93887883e,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Improve speed of permissions changes

The previous patch was very slow given the number of files
which required permissions changes. This targets the entire
temporary directory recursively.

Change-Id: I7418d285ea052f67febee31038d92c772b72593b
"
openstack%2Fpython-ironicclient~master~I2937ea924ccc4ca6e9ab5599aa02e3c078c166b3,openstack/python-ironicclient,master,ironic_boot_mode_status,I2937ea924ccc4ca6e9ab5599aa02e3c078c166b3,Add support for changing 'boot_mode' and 'secure_boot' states,MERGED,2021-08-09 17:36:12.000000000,2021-08-24 13:50:09.000000000,2021-08-24 13:48:24.000000000,267,1,7,803970,00808631c1ffa3a9ec2cecafd5ea9f7447f440a8,21,4,5,7,33344,cenne,cenne.d,"Add support for changing 'boot_mode' and 'secure_boot' states

Story: 2008567
Task: 41709
depends-on: https://review.opendev.org/c/openstack/ironic/+/800084
Change-Id: I2937ea924ccc4ca6e9ab5599aa02e3c078c166b3
"
openstack%2Fnova~master~I135bce7bd557cd5067897486e91c97c1dc61aa2b,openstack/nova,master,bug/1940733,I135bce7bd557cd5067897486e91c97c1dc61aa2b,Add missing [oslo_reports] options,MERGED,2021-08-14 14:23:01.000000000,2021-08-24 13:44:41.000000000,2021-08-24 13:41:16.000000000,1,0,0,804568,9bae5f2ca5f5780beb09130ece9ea77da1f6ab83,23,4,2,1,9816,Takashi Kajinami,kajinamit,"Add missing [oslo_reports] options

The oslo.reports library provides some options under the [oslo_reports]
section. This change ensures these parameters are rendered by
the oslo-config-generator command.

Closes-Bug: #1940733
Change-Id: I135bce7bd557cd5067897486e91c97c1dc61aa2b
"
openstack%2Fdevstack~master~Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b,openstack/devstack,master,workaround-disable-apic,Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b,nova: Enable apic removal workaround for bug #1939108 when using QEMU,MERGED,2021-08-19 13:27:38.000000000,2021-08-24 13:43:17.000000000,2021-08-21 02:51:24.000000000,5,0,0,805219,1e86a25cc28e34d7f73a4c6ccbbc3fc667598d50,17,4,1,1,10135,Lee Yarwood,lyarwood,"nova: Enable apic removal workaround for bug #1939108 when using QEMU

This change enables [workarounds]libvirt_disable_apic when devstack is
deployed using the libvirt virt driver and qemu virt type in an effort
to avoid issues outlined in bug #1939108 caused by the older kernel
currently used in Cirros 0.5.2.

Depends-On: https://review.opendev.org/c/openstack/nova/+/766043
Closes-Bug: #1939108
Change-Id: Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b
"
openstack%2Fnova~master~Id6e2be2b407eb08e269c35e0f89d235c67a1ab99,openstack/nova,master,vmware_retry,Id6e2be2b407eb08e269c35e0f89d235c67a1ab99,Retry on vmware create_vm when it fails,MERGED,2020-11-29 10:28:59.000000000,2021-08-24 13:43:15.000000000,2021-08-24 13:40:43.000000000,7,1,2,764586,9f260f1e6e636c991ac6252f40ff580d66b3081e,68,6,9,2,20363,Adit Sarfaty,asarfaty,"Retry on vmware create_vm when it fails

In some cases the logical switch is not ready when the VM is booted,
so retry can help avoid the error.

Closes-Bug: #1908408
Change-Id: Id6e2be2b407eb08e269c35e0f89d235c67a1ab99
"
openstack%2Fopenstack-ansible~master~Icb058900103e072fee63d5ea4a315a2d97e8cb3e,openstack/openstack-ansible,master,,Icb058900103e072fee63d5ea4a315a2d97e8cb3e,Update pip version,MERGED,2021-08-23 07:15:07.000000000,2021-08-24 13:40:17.000000000,2021-08-24 13:38:12.000000000,2,2,0,805583,6e50398f084b9a112944a0773bfcedd65ecd6772,10,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Update pip version

Change-Id: Icb058900103e072fee63d5ea4a315a2d97e8cb3e
"
openstack%2Felection~master~Ia681c559773e217acaeac3e72150df76dc24cb55,openstack/election,master,,Ia681c559773e217acaeac3e72150df76dc24cb55,Adding James Slagle candidacy for TripleO PTL for Yoga,MERGED,2021-08-24 12:10:24.000000000,2021-08-24 13:25:09.000000000,2021-08-24 13:11:45.000000000,17,0,0,805840,18080143b3ccd7ef34609fad84eb54722b334311,18,13,1,1,7144,James Slagle,slagle,"Adding James Slagle candidacy for TripleO PTL for Yoga

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: Ia681c559773e217acaeac3e72150df76dc24cb55
"
openstack%2Felection~master~I322d444db686603545bed6bc2a2036924dc9ce2c,openstack/election,master,,I322d444db686603545bed6bc2a2036924dc9ce2c,Adding Takashi Kajinami candidacy for Storlets PTL,MERGED,2021-08-24 05:07:33.000000000,2021-08-24 13:18:45.000000000,2021-08-24 13:17:07.000000000,17,0,0,805778,fb21f8182ab019a8b69e9086913050e85338e4ee,10,3,3,1,9816,Takashi Kajinami,kajinamit,"Adding Takashi Kajinami candidacy for Storlets PTL

Change-Id: I322d444db686603545bed6bc2a2036924dc9ce2c
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Iac6c0acb49582aeddead718834a8fe9d84babb15,openstack/tripleo-ansible,stable/wallaby,frr-custom-entries-stable/wallaby,Iac6c0acb49582aeddead718834a8fe9d84babb15,frr: Add entry points to be able to customize the config,MERGED,2021-08-24 05:20:05.000000000,2021-08-24 13:18:07.000000000,2021-08-24 13:18:07.000000000,8,0,0,805755,14ad90bb1b2d372e01afd83bc761842223977bcf,8,4,1,2,20172,Michele Baldessari,michele,"frr: Add entry points to be able to customize the config

For example, this can be useful to inject some custom lines
at different points. Tested with increasing debug level for frr:
  ControllerExtraGroupVars:
    tripleo_frr_conf_custom_globals: |
      debug bfd peer
      debug bfd network
      debug bfd zebra
      debug bgp graceful-restart
      debug bgp neighbor-events
      debug bgp updates
      debug bgp update-groups

And correctly got the lines in frr.conf:
[root@ctrl-1-0 frr]# grep -B2 ^debug /var/lib/config-data/ansible-generated/frr/etc/frr/frr.conf |head -n5
service integrated-vtysh-config
line vty
debug bfd peer
debug bfd network
debug bfd zebra

Change-Id: Iac6c0acb49582aeddead718834a8fe9d84babb15
(cherry picked from commit 43ad812e60b303456af6ee2bb604402cc70ca0a5)
"
openstack%2Felection~master~I672280d62831455e2a1ed30fe7c3e16a8ce135d3,openstack/election,master,yoga,I672280d62831455e2a1ed30fe7c3e16a8ce135d3,Add Goutham Pacha Ravi candidacy for Manila PTL,MERGED,2021-08-24 06:43:11.000000000,2021-08-24 13:14:51.000000000,2021-08-24 13:11:49.000000000,32,0,0,805784,5c4605b8ac47d4a4bd1980f7c15a63dd1b339866,8,3,1,2,16643,Goutham Pacha Ravi,gouthamr,"Add Goutham Pacha Ravi candidacy for Manila PTL

Change-Id: I672280d62831455e2a1ed30fe7c3e16a8ce135d3
"
openstack%2Fopenstack-helm-infra~master~I9b93c86e3747f2e768956898a27dd6d63469a8ee,openstack/openstack-helm-infra,master,rm/tiller,I9b93c86e3747f2e768956898a27dd6d63469a8ee,"Revert ""chore(tiller): removes tiller chart""",MERGED,2021-08-20 15:00:01.000000000,2021-08-24 13:13:48.000000000,2021-08-24 13:12:00.000000000,351,0,0,805279,1062d68eed011a4822b481a5bf97b886ba4585b0,14,5,4,9,21420,Gage Hugo,ghugo,"Revert ""chore(tiller): removes tiller chart""

This reverts commit b2adfeadd8adbf5d99187106cf5d2956f0afeeab.

Reason for revert: This breaks the kubeadm jobs, lets add this
back until a proper fix is implemented.

Change-Id: I9b93c86e3747f2e768956898a27dd6d63469a8ee
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I8ff745be02b476bcfeac1bfd162902d6fffdd6cb,openstack/tripleo-ansible,stable/wallaby,bfd-customize-stable/wallaby,I8ff745be02b476bcfeac1bfd162902d6fffdd6cb,Allow BFD timeouts to be customized,MERGED,2021-08-24 05:20:34.000000000,2021-08-24 13:07:30.000000000,2021-08-24 13:07:30.000000000,19,0,0,805756,1d9d586bb47a299eeab98b730237de718301ce63,8,4,1,2,20172,Michele Baldessari,michele,"Allow BFD timeouts to be customized

Especially in virtual environments the default rfc-specified BFD timeouts are quite
aggressive. A small overload on the control plane has the chances of
making us miss heartbeat and declaring a link down.

Let's add some parameters (set to the RFC-defined defaults) in order to
be able to customize them.

Tested with:
  ControllerRack1ExtraGroupVars:
    tripleo_frr_bfd_detect_multiplier: 10
    tripleo_frr_bfd_transmit_interval: 500
    tripleo_frr_bfd_receive_interval: 500

Obtained the following in the config:
router bgp 64999
  bgp router-id 172.30.1.1
  bgp log-neighbor-changes
  bgp graceful-shutdown
...
  neighbor uplink peer-group
  neighbor uplink bfd
  neighbor uplink bfd profile tripleo
...
bfd
  profile tripleo
    detect-multiplier 10
    transmit-interval 500
    receive-interval 500

vtysh confirms that the config is applied correctly:
[root@ctrl-1-0 ~]# podman exec -it frr vtysh -c 'show running-config' |grep -A4 bfd
router bgp 64999
 bgp router-id 172.30.1.1
 bgp log-neighbor-changes
--
   neighbor uplink bfd
 neighbor uplink bfd profile tripleo
 neighbor uplink ttl-security hops 1
 neighbor enp2s0 interface peer-group uplink
 neighbor enp3s0 interface peer-group uplink
 !
--
  bfd
 profile tripleo
  detect-multiplier 10
  transmit-interval 500
  receive-interval 500

Change-Id: I8ff745be02b476bcfeac1bfd162902d6fffdd6cb
(cherry picked from commit 25ca766fabd479cb7898c49f8d504929ae0e21d7)
"
openstack%2Fpython-manilaclient~master~Id3e163de48bdd918ae55438d812187ba4d5461c9,openstack/python-manilaclient,master,bug/1898318,Id3e163de48bdd918ae55438d812187ba4d5461c9,Add --wait flag to the create share group operation,MERGED,2021-07-08 09:25:17.000000000,2021-08-24 13:06:12.000000000,2021-08-24 13:04:31.000000000,65,16,28,799997,376429ec1d848dcb1e49c63370ab07be89dec2b4,36,4,9,3,33380,Archana Kumari,archanaserver,"Add --wait flag to the create share group operation

This patch set adds the --wait flag to the share group
operation. This will make the CLI to wait for the
operation to be completed before returning to the prompt.

Updated test_share_group_create to be test_share_group_create_wait
and included the waiter flag

Partial-Bug: #1898318
Change-Id: Id3e163de48bdd918ae55438d812187ba4d5461c9
"
openstack%2Fironic~master~I2d72389edf546b99c536c6b130ca85ababf80591,openstack/ironic,master,ironic_boot_mode_status,I2d72389edf546b99c536c6b130ca85ababf80591,Add api endpoints for changing boot_mode and secure_boot state,MERGED,2021-07-08 16:57:58.000000000,2021-08-24 12:57:26.000000000,2021-08-24 09:49:56.000000000,1248,11,90,800084,bc95c92f7c122b1217459a1d7a125fae47749e6e,131,5,22,22,33344,cenne,cenne.d,"Add api endpoints for changing boot_mode and secure_boot state

Done:
  - Node API endpoints expose
  - RPC methods
  - Conductor Manager methods
  - Conductor utils new methods
  - RBAC new policies
  - Node API tests
  - Manager Tests (+ some testing for utils methods)
  - RBAC tests
  - Docs (api-ref)
  - REST API version history
  - Releasenotes

Story: 2008567
Task: 41709

Change-Id: I2d72389edf546b99c536c6b130ca85ababf80591
"
openstack%2Fneutron-lib~master~I4fa575f726fc0a7b7066f749e3b3f90ecc520087,openstack/neutron-lib,master,bug/1940518,I4fa575f726fc0a7b7066f749e3b3f90ecc520087,Add network_ip_availability pagging and sorting support,MERGED,2021-07-30 15:14:34.000000000,2021-08-24 12:41:41.000000000,2021-08-24 12:39:13.000000000,7,1,2,803050,4c9bfc15b7c8ae3bf7091223f97fe8c714da3311,19,4,6,2,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add network_ip_availability pagging and sorting support

Add ""network_ip_availability"" pagging and sorting support, defining
""network_id"" as primary key. This primary key is unique per register
retrieved and is needed by ``neutron.api.v2.base.Controller`` to
create the pagination helper.

This patch modifies an existing API extension instead of creating a new
one. However:
- This modification does not affect the Neutron behaviour without a code
  change in the ""network_ip_availability"" extension enabling the pagging
  support. The Neutron code change implies a bump in the neutron-lib
  version.
- Adding a new extension to modify the current one is overengineering.

Partial-Bug: #1940518

Change-Id: I4fa575f726fc0a7b7066f749e3b3f90ecc520087
"
openstack%2Fnova~master~Ia72d39b4774d93793b381359b554c717dc9a6994,openstack/nova,master,remove-custom-schedulers,Ia72d39b4774d93793b381359b554c717dc9a6994,docs: Drop references to non-filter scheduler drivers,MERGED,2021-02-02 11:28:48.000000000,2021-08-24 11:50:14.000000000,2021-08-24 11:48:09.000000000,1434,1740,12,773645,289438b4c28267c8556fe7c69cf52ad9281fd9d0,40,3,8,17,15334,Stephen Finucane,sfinucan,"docs: Drop references to non-filter scheduler drivers

Take the opportunity to clean up the docs quite a bit, ultimately
combining two disparate guides on the scheduler into one.

Change-Id: Ia72d39b4774d93793b381359b554c717dc9a6994
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Fcinder~stable%2Fussuri~I62fcef3169dcb9f4363a5344af4b2711edfef632,openstack/cinder,stable/ussuri,nfs-fix-online-snapshot,I62fcef3169dcb9f4363a5344af4b2711edfef632,NFS: Update connection info on online snap create,MERGED,2021-07-23 15:36:20.000000000,2021-08-24 11:50:08.000000000,2021-08-24 11:48:03.000000000,32,2,0,802045,a5e44127ffceec55c3e98a46ebe3686e34b0c971,19,3,1,3,10459,Luigi Toscano,ltoscano,"NFS: Update connection info on online snap create

The NFS snapshot creation for an attached volume requires interaction
between Nova and Cinder, and a new qcow2 file is used after the
attachment completes.

This means that the connection properties stored in the Attachment is no
longer valid, as it is pointing to the old qcow2 file, so if Nova tries
to use that attachment it will start writing on the old qcow2 file.

A flow showing this issue is:

- Attach NFS volume
- Create snapshot
- Hard reboot

After that the VM will start using the base image, breaking the qcow2
chain.

If we delete the snapshot in the meantime, then the VM will fail to
reboot.

This patch fixes this inconsistency by updating the connection info
field inside the remotefs driver.

We usually prefer that drivers don't to touch the DB, directly or
indirectly (using OVOs), but in this case we are using OVOs methods
instead of the usual model update on the volume manager because there
are cases in the driver where a snapshot is created (cloning via
snapshot) and we have to update the attachment without the manager, as
it is unaware that a temporary snapshot is being created.

Besides that main reason there are other less critical reasons to do the
attachment update in the driver:

- Smaller code change
- Easier to backport
- Limit change impact on other areas (better for backport)
- The snapshot_create model update code in the manager does not support
  updating attachments.
- There are cases in the cinder volume manager where the model update
  values returned by snapshot_create are not being applied.

Snapshot deletion belonging to in-use volumes are not affected by this
issue because we only do block commit when the snapshot file we are
deleting is not the active file.  In _delete_snapshot_online:

        if utils.paths_normcase_equal(info['active_file'],
                                      info['snapshot_file']):

Conflicts:
    cinder/tests/unit/volume/drivers/test_remotefs.py
Resolved conflict introduced mainly by the encryption support fixes
(see I896f70d204ad103e968ab242ba9045ca984827c4)

Closes-Bug: #1860913
Change-Id: I62fcef3169dcb9f4363a5344af4b2711edfef632
(cherry picked from commit 25eb0a7d76922e3a1a289d26c36b96a91c4059db)
(cherry picked from commit d4960fd597aad8502cad46b38cdb50c6b88f7c63)
(cherry picked from commit e7c5e7a7f6f35b2db043cc5ed4a0ef1f77e1f830)
"
openstack%2Fsenlin-tempest-plugin~master~Id518fe93f5b17b5809db5f385f270da0e2722372,openstack/senlin-tempest-plugin,master,oftc,Id518fe93f5b17b5809db5f385f270da0e2722372,Moving IRC network reference to OFTC,MERGED,2021-07-08 00:39:33.000000000,2021-08-24 11:20:27.000000000,2021-08-24 11:20:27.000000000,1,1,0,799934,f71166b2c6619746ac24614ed151e4befdb1f495,8,4,1,1,8556,Ghanshyam,ghanshyam,"Moving IRC network reference to OFTC

Change-Id: Id518fe93f5b17b5809db5f385f270da0e2722372
"
openstack%2Fansible-role-python_venv_build~master~I7418d285ea052f67febee31038d92c772b72593b,openstack/ansible-role-python_venv_build,master,,I7418d285ea052f67febee31038d92c772b72593b,Improve speed of permissions changes,MERGED,2021-08-20 14:56:50.000000000,2021-08-24 11:14:45.000000000,2021-08-24 11:12:45.000000000,3,2,0,805402,b59fd648c2953f37df8b5c4a04733e9314f406f1,10,4,1,1,31542,Andrew Bonney,andrewbonney,"Improve speed of permissions changes

The previous patch was very slow given the number of files
which required permissions changes. This targets the entire
temporary directory recursively.

Change-Id: I7418d285ea052f67febee31038d92c772b72593b
"
openstack%2Fcinder~stable%2Fvictoria~I98f1c60810d675a51ce1cae8bcce51c6d88e6cd2,openstack/cinder,stable/victoria,bug/1912564-stable/victoria,I98f1c60810d675a51ce1cae8bcce51c6d88e6cd2,[SVF]:Storwize hyperswap volume is not deleting.,MERGED,2021-06-28 05:13:36.000000000,2021-08-24 10:35:03.000000000,2021-08-24 10:33:15.000000000,84,1,3,798104,983d8b28eea863ecc72070323294d4699d3efeb1,27,6,1,3,32036,katari manoj kumar,katarimanojkumar,"[SVF]:Storwize hyperswap volume is not deleting.

[Spectrum Virtualize Family] During hyperswap volume delete operation
check_vdisk_fc_mappings is trying to delete the remote copy controlled
fcmaps which are created for hyperswap volumes.

This patch fixes the issue by ignoring the remote copy controlled fcmaps.

Closes-Bug: #1912564
Change-Id: I98f1c60810d675a51ce1cae8bcce51c6d88e6cd2
(cherry picked from commit fd77dfa223a9da7428003b8e1c95f45c932f6e02)
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I647f8615e9fd0cc0db7c737ce4afbd1bdd0d40d4,openstack/kolla-ansible,stable/wallaby,haproxy-precheck-fix-externally-manager-cert-stable/wallaby,I647f8615e9fd0cc0db7c737ce4afbd1bdd0d40d4,Fix haproxy precheck when kolla_externally_managed_cert is used,MERGED,2021-08-23 08:32:35.000000000,2021-08-24 10:34:12.000000000,2021-08-24 10:32:42.000000000,8,4,0,805560,30117a04ad449addf9ee20eb5a0e00ca1d7126e2,9,4,1,2,14826,Mark Goddard,mgoddard,"Fix haproxy precheck when kolla_externally_managed_cert is used

Signed-off-by: Marc 'risson' Schmitt <marc.schmitt@risson.space>
Closes-Bug: #1940286
Change-Id: I647f8615e9fd0cc0db7c737ce4afbd1bdd0d40d4
(cherry picked from commit 0858d5487e0cb2928278ee2fac66e8ad661b3f32)
"
openstack%2Ftempest~master~I37b9397834fbb7f4ebf540dc5f8aece356ddf749,openstack/tempest,master,loggable_resource,I37b9397834fbb7f4ebf540dc5f8aece356ddf749,Add loggable resource client,MERGED,2021-07-07 12:50:55.000000000,2021-08-24 10:30:58.000000000,2021-08-24 10:29:23.000000000,93,1,3,799815,5a3de3e4984336ada58b231cbb752d40e7966364,21,3,4,6,30742,Soniya Murlidhar Vyas,svyas,"Add loggable resource client

This patch creates the network v2.0 loggable-resource client.

https://docs.openstack.org/api-ref/network/v2/index.html#list-loggable-resources
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: I37b9397834fbb7f4ebf540dc5f8aece356ddf749
"
openstack%2Fneutron~stable%2Fvictoria~If947581b90ced42981c4611c32de8f428a052c69,openstack/neutron,stable/victoria,,If947581b90ced42981c4611c32de8f428a052c69,Add wait for the post-fork event to nb/sb objects,ABANDONED,2021-08-24 10:18:08.000000000,2021-08-24 10:22:13.000000000,,352,207,0,805769,bebce90d9fbf9e06751aa927f5e72bb7490aa276,2,1,1,14,14826,Mark Goddard,mgoddard,"Add wait for the post-fork event to nb/sb objects

It is possible for events from the nb/sb to fire before the opposite
db connection is made. These events can call back into driver code
which tries to access the other db before it is connected.

Closes-Bug: #1929197
Closes-Bug: #1928794
Closes-Bug: #1929633
Change-Id: If947581b90ced42981c4611c32de8f428a052c69
(cherry picked from commit 90980f496cfa3cc5df1c93cf834a44f33d3f1f6f)
"
openstack%2Fkolla-ansible~master~I65b6e322fa11a870f32099bbfd62150cbea4feb5,openstack/kolla-ansible,master,remove-cruft,I65b6e322fa11a870f32099bbfd62150cbea4feb5,Remove an unused file,MERGED,2021-08-19 13:25:19.000000000,2021-08-24 10:19:13.000000000,2021-08-24 10:17:47.000000000,0,6,0,805218,16a4a9e5ac391e58413b7927dfcf53b377cc0754,10,3,1,1,30491,Radosław Piliszek,yoctozepto,"Remove an unused file

It seems to have been mistakenly introduced by
de00bf491dfbabc8e11009fce4410bce5c2110ed
""Simplify handler conditionals""

Change-Id: I65b6e322fa11a870f32099bbfd62150cbea4feb5
"
openstack%2Fopenstack-ansible-os_horizon~master~I7099a5b11390d3296c7b4bb74d69670c7fe64f58,openstack/openstack-ansible-os_horizon,master,horizon_policies,I7099a5b11390d3296c7b4bb74d69670c7fe64f58,Add option to override horizon policies,MERGED,2020-08-26 15:47:00.000000000,2021-08-24 10:13:47.000000000,2021-08-24 10:11:44.000000000,31,0,2,748264,2447deec622a716abfa4495108e71f9c75c3c2fe,29,4,4,3,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add option to override horizon policies

In case policies are overriden for services,
horizon maintain and ship it's own set of policies that should be
separatelly overriden.

Depends-On: https://review.opendev.org/754382
Change-Id: I7099a5b11390d3296c7b4bb74d69670c7fe64f58
"
openstack%2Fneutron~master~If947581b90ced42981c4611c32de8f428a052c69,openstack/neutron,master,,If947581b90ced42981c4611c32de8f428a052c69,Add wait for the post-fork event to nb/sb objects,MERGED,2021-03-18 20:03:24.000000000,2021-08-24 10:13:17.000000000,2021-07-19 13:48:52.000000000,221,233,1,781555,90980f496cfa3cc5df1c93cf834a44f33d3f1f6f,44,6,8,14,5756,Terry Wilson,otherwiseguy,"Add wait for the post-fork event to nb/sb objects

It is possible for events from the nb/sb to fire before the opposite
db connection is made. These events can call back into driver code
which tries to access the other db before it is connected.

Closes-Bug: #1929197
Closes-Bug: #1928794
Closes-Bug: #1929633
Change-Id: If947581b90ced42981c4611c32de8f428a052c69
"
openstack%2Ftripleo-ansible~master~I4c16d988f898f7a85513fbd06d162d04f65c2c36,openstack/tripleo-ansible,master,,I4c16d988f898f7a85513fbd06d162d04f65c2c36,Don't pass None to neutron for ipv6_address_mode/ipv6_ra_mode,MERGED,2021-08-12 06:27:11.000000000,2021-08-24 10:10:26.000000000,2021-08-24 10:07:55.000000000,16,19,4,804353,72590b9da0eb2f9745c4c269ab8fe60ea6f90593,26,6,1,4,8833,Rabi Mishra,rabi,"Don't pass None to neutron for ipv6_address_mode/ipv6_ra_mode

Neutron does not accept None values for these attributes.

[1] https://github.com/openstack/neutron-lib/blob/master/neutron_lib/api/definitions/subnet.py#L125

Closes-Bug: #1939595
Change-Id: I4c16d988f898f7a85513fbd06d162d04f65c2c36
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ib34130c15324f197eca275f97c18f24f17d8ced2,openstack/tripleo-heat-templates,stable/wallaby,collectd-options-stable/wallaby,Ib34130c15324f197eca275f97c18f24f17d8ced2,Example configurable cap add,MERGED,2021-08-23 08:23:00.000000000,2021-08-24 10:07:53.000000000,2021-08-24 10:07:53.000000000,17,3,0,805559,65e827e5bf60d72d3c7f9b35d21fbe9e65a38988,13,3,1,2,4264,Matthias Runge,mrunge,"Example configurable cap add

Change-Id: Ib34130c15324f197eca275f97c18f24f17d8ced2
(cherry picked from commit a94ff466c860549cd5fa7aa6f77a94cc4b0e67e3)
"
openstack%2Fos-brick~master~I10a22f47adab2d7e88b6a584edbefc3fb2f4458d,openstack/os-brick,master,add-yoga-python-jobtemplates,I10a22f47adab2d7e88b6a584edbefc3fb2f4458d,Add Python3 yoga unit tests,MERGED,2021-08-23 20:49:03.000000000,2021-08-24 10:04:44.000000000,2021-08-24 00:42:45.000000000,1,1,0,805705,4f63dd045ca07f66003d1ccbbb19423ee91cf926,15,2,1,1,22816,OpenStack Release Bot,release,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I10a22f47adab2d7e88b6a584edbefc3fb2f4458d
"
openstack%2Fpuppet-glance~stable%2Fwallaby~If0aa39e31bd59a0a14c24f4835a2c355305798b3,openstack/puppet-glance,stable/wallaby,healthcheck-stable/wallaby,If0aa39e31bd59a0a14c24f4835a2c355305798b3,Add support for healthcheck middleware options,MERGED,2021-07-12 02:24:47.000000000,2021-08-24 09:58:15.000000000,2021-08-24 09:55:31.000000000,101,0,0,800376,8a91ada1e149e17c11740bebc17682c59936de37,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: If0aa39e31bd59a0a14c24f4835a2c355305798b3
(cherry picked from commit dd731f5d600ac15c1e74068cb267e5421ddd53c5)
"
openstack%2Fpuppet-glance~stable%2Fwallaby~I48ca661a1cd9e7000d24984a8f2586aac4d15e93,openstack/puppet-glance,stable/wallaby,,I48ca661a1cd9e7000d24984a8f2586aac4d15e93,Fix wrong parameter name in deprecation warning,MERGED,2021-08-23 23:28:57.000000000,2021-08-24 09:55:30.000000000,2021-08-24 09:55:30.000000000,1,1,0,805750,9e1bba314bb6d17c012964c0b0baf20da4c52743,6,2,1,1,9816,Takashi Kajinami,kajinamit,"Fix wrong parameter name in deprecation warning

Change-Id: I48ca661a1cd9e7000d24984a8f2586aac4d15e93
(cherry picked from commit ef245de8704392e61e7b9d730554595a6a7d429f)
"
openstack%2Fpuppet-glance~stable%2Fvictoria~I48ca661a1cd9e7000d24984a8f2586aac4d15e93,openstack/puppet-glance,stable/victoria,,I48ca661a1cd9e7000d24984a8f2586aac4d15e93,Fix wrong parameter name in deprecation warning,MERGED,2021-08-23 23:29:26.000000000,2021-08-24 09:55:29.000000000,2021-08-24 09:55:29.000000000,1,1,0,805751,eeb24743f208d0c3974e4c5a97e5b00f2b6a1aad,6,2,1,1,9816,Takashi Kajinami,kajinamit,"Fix wrong parameter name in deprecation warning

Change-Id: I48ca661a1cd9e7000d24984a8f2586aac4d15e93
(cherry picked from commit ef245de8704392e61e7b9d730554595a6a7d429f)
(cherry picked from commit 9e1bba314bb6d17c012964c0b0baf20da4c52743)
"
openstack%2Fdiskimage-builder~master~Ic1430df06b9090688ef07037af5d50be16935558,openstack/diskimage-builder,master,feat/add-rocky-linux,Ic1430df06b9090688ef07037af5d50be16935558,Add new element rocky,ABANDONED,2021-08-24 08:26:09.000000000,2021-08-24 09:51:31.000000000,,149,4,0,805793,212a52bc76c717f1d9e997a26c7d8e40dc5aaa1d,4,0,1,19,33811,Jing Li,fooxlj,"Add new element rocky

This patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky linux

Change-Id: Ic1430df06b9090688ef07037af5d50be16935558
"
openstack%2Fpuppet-heat~master~I57a8e8b9643d999c8ed379895f998ee1d09fb1a8,openstack/puppet-heat,master,engine-param,I57a8e8b9643d999c8ed379895f998ee1d09fb1a8,Migrate max_stacks_per_tenant to heat::engine,MERGED,2021-08-06 13:56:00.000000000,2021-08-24 09:48:59.000000000,2021-08-24 09:46:26.000000000,38,11,0,803751,e79e74cd089622bc33ebcc0ceb2bb17c398e216f,9,3,2,5,9816,Takashi Kajinami,kajinamit,"Migrate max_stacks_per_tenant to heat::engine

... because the max_stacks_per_tenant parameter is used by heat-engine,
and the very similar max_resources_per_stack parameter is implemented
in heat::engine.

Change-Id: I57a8e8b9643d999c8ed379895f998ee1d09fb1a8
"
openstack%2Fpuppet-neutron~stable%2Fwallaby~I0921a1d7012a76b9e6523715ea569f2476426d6a,openstack/puppet-neutron,stable/wallaby,bug/1939088-stable/wallaby,I0921a1d7012a76b9e6523715ea569f2476426d6a,Get rid of deprecated is_array method,MERGED,2021-08-17 14:32:45.000000000,2021-08-24 09:47:28.000000000,2021-08-24 09:47:28.000000000,5,8,0,804860,4b5e10094dbfda974f3ee26fb3eb8dc69761b007,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Get rid of deprecated is_array method

... and update the logic to handle neutron::service_plugins to follow
existing implementations to handle ListOpt. The updated logic allows
using a flat string which is useful when only one item is used. Also,
it is enforced the actual parameter is removed from conf file when
the puppet parameter is set to $::os_service_default.

Closes-Bug: #1939088
Change-Id: I0921a1d7012a76b9e6523715ea569f2476426d6a
(cherry picked from commit a60669b6e46e4f00570a0c39bf3dfd286e28f5a3)
"
openstack%2Fpuppet-horizon~stable%2Fussuri~I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9,openstack/puppet-horizon,stable/ussuri,puppet-horizon-dashboards-stable/victoria-stable/ussuri,I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9,Add support for independent heat-dashboard configurations,MERGED,2021-07-25 23:46:29.000000000,2021-08-24 09:47:22.000000000,2021-08-24 09:44:54.000000000,237,2,2,802202,bf021098cc262097fd7945f284d04b46c69a2b66,12,3,2,8,9816,Takashi Kajinami,kajinamit,"Add support for independent heat-dashboard configurations

Currently horizon supports per-dashboard configurations in
/etc/openstack-dashboard/local_settings.d. Each dashboard plugin
provides a specific file to define its parameters, and any parameters
used in dashboard plugins have been removed from the base
local_settings(.py) in horizon repo.

To follow how each plugin is supposed to have its configurations
managed, this change introduces an independent file for heat-dashboard.
Support for the other dashboards like manila-ui, octavia-ui, and etc
will be added later.

Conflicts:
	manifests/init.pp
	manifests/params.pp
	spec/classes/horizon_init_spec.rb
	templates/local_settings.py.erb

Backport note:
To minimize effect of this backport, the following change was made.
- The enable_user_pass parameter is not deprecated by this patch.

- Users can set the enable_user_pass parameter to undef to remove
  OPENSTACK_HEAT_STACK from local_settings.

- heatclient logging setting is left in local_settings, because
  consistent configuration is added.

Backport note to Ussuri:
- The log_handlers option is not available in Ussuri so it is replaced
  by the old log_handler option.
- This change includes what was fixed by follow-up commit[1] in
  Victoria.
  [1] 23ebe3bf02f903abbba885f17dc56590fcf6a51e

Change-Id: I5999c2eaf8d7788d3c0d76e69a56a0b10058dfe9
(cherry picked from commit 382877dd4c8ee321eff1846c7c7afe4104dbd58f)
(cherry picked from commit 655e0df25e40b401d2daa5d673a416215ccd17b7)
(cherry picked from commit 80acdcca4dcbd058d72b5099054cc6b1b8b798b1)
"
openstack%2Fpuppet-glance~stable%2Fussuri~I48ca661a1cd9e7000d24984a8f2586aac4d15e93,openstack/puppet-glance,stable/ussuri,,I48ca661a1cd9e7000d24984a8f2586aac4d15e93,Fix wrong parameter name in deprecation warning,MERGED,2021-08-23 23:30:08.000000000,2021-08-24 09:43:25.000000000,2021-08-24 09:43:25.000000000,1,1,0,805752,5abcb57014b44e48384677294e21ea1ca8775a7e,6,2,1,1,9816,Takashi Kajinami,kajinamit,"Fix wrong parameter name in deprecation warning

Change-Id: I48ca661a1cd9e7000d24984a8f2586aac4d15e93
(cherry picked from commit ef245de8704392e61e7b9d730554595a6a7d429f)
(cherry picked from commit 9e1bba314bb6d17c012964c0b0baf20da4c52743)
(cherry picked from commit eeb24743f208d0c3974e4c5a97e5b00f2b6a1aad)
"
openstack%2Fpuppet-neutron~master~Ie13e4af376e52b4da88c208819706bf574d08fb1,openstack/puppet-neutron,master,oslo-cache,Ie13e4af376e52b4da88c208819706bf574d08fb1,Add support for oslo.cache options,MERGED,2021-08-23 05:05:39.000000000,2021-08-24 09:37:34.000000000,2021-08-24 09:35:41.000000000,265,0,0,805570,05f2520946d745bcf1c4f09642b89a1bc96472fe,11,3,4,3,9816,Takashi Kajinami,kajinamit,"Add support for oslo.cache options

Neutron uses oslo.cache options for caching. This change adds support
for the options implemented in the library.

Change-Id: Ie13e4af376e52b4da88c208819706bf574d08fb1
"
openstack%2Fpuppet-neutron~master~I4126746162bc2c95ee7669d89140692f82234cc7,openstack/puppet-neutron,master,bz/1990357,I4126746162bc2c95ee7669d89140692f82234cc7,Remove unnecessary array casting,MERGED,2021-08-11 11:37:05.000000000,2021-08-24 09:35:43.000000000,2021-08-24 09:35:43.000000000,7,7,0,804227,510c77b40abb87ed7db4856911293d9d8d588f4b,8,3,2,1,9816,Takashi Kajinami,kajinamit,"Remove unnecessary array casting

Change-Id: I4126746162bc2c95ee7669d89140692f82234cc7
"
openstack%2Fpuppet-nova~master~I5abd8d7f667a4863ae9c26d3936c845585d3d896,openstack/puppet-nova,master,,I5abd8d7f667a4863ae9c26d3936c845585d3d896,Remove deprecated max_concurrent_builds from nova::compute::ironic,MERGED,2021-08-19 00:52:38.000000000,2021-08-24 09:32:31.000000000,2021-08-24 09:30:36.000000000,6,17,0,805092,0cba8bc924ea5bd25f55540faa737678a768bf27,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Remove deprecated max_concurrent_builds from nova::compute::ironic

... because the parameter was migrated to base nova::compute during
Victoria cycle and has been deprecated since then.

Change-Id: I5abd8d7f667a4863ae9c26d3936c845585d3d896
"
openstack%2Fopenstack-ansible-repo_server~master~I983bdc86f61768b1e1cfb713a220c75ddf8ec5ec,openstack/openstack-ansible-repo_server,master,,I983bdc86f61768b1e1cfb713a220c75ddf8ec5ec,Cleanup CentOS 7 vars file,MERGED,2021-08-20 14:52:38.000000000,2021-08-24 09:31:22.000000000,2021-08-24 09:29:21.000000000,0,35,0,805401,28b2f59e3520980a5edf1595ce4d688a5ec1feac,10,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Cleanup CentOS 7 vars file

Change-Id: I983bdc86f61768b1e1cfb713a220c75ddf8ec5ec
"
openstack%2Fpuppet-openstacklib~master~I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5,openstack/puppet-openstacklib,master,policy-purge,I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5,Re-implement openstacklib::policy,MERGED,2021-07-26 12:31:20.000000000,2021-08-24 09:24:34.000000000,2021-08-24 09:22:44.000000000,382,108,8,802305,2a53c66ed3e4ae6b1907d824915a59c175eb0258,39,5,13,8,9816,Takashi Kajinami,kajinamit,"Re-implement openstacklib::policy

openstacklib::policy has never been used in any other modules because
it was implemented as a class not reusable for each service.
This change re-implements openstacklib::policy as a defined resource
type so that we can use this implementation from each puppet modules.

The openstacklib::policy resource type provides the purge_config
parameter. When this parameter is set to true, a policy file is cleared
during configuration process. This allows users to remove any existing
rules before applying their own (no) rules.

Change-Id: I9bb486c9191c50c11717dcb9c6af00d17c3aa8f5
"
openstack%2Fpuppet-cinder~master~I20e6952d215d4d1886f09021a12d6c57c59a5d66,openstack/puppet-cinder,master,v2-api-removal,I20e6952d215d4d1886f09021a12d6c57c59a5d66,Clean up v2 API support,MERGED,2021-08-09 05:29:43.000000000,2021-08-24 09:19:08.000000000,2021-08-24 09:17:43.000000000,18,119,0,803874,40885d15bb92faa3e3902e7505da24c5e7c5fc5e,10,3,2,4,9816,Takashi Kajinami,kajinamit,"Clean up v2 API support

This change removes the remaining parameters for v2 API support, which
were deprecated during the previous Wallaby cycle.
Also, enable_v3_api parameter is deprecated because the parameter was
deprecated in cinder[1] as part of removal of volume v2 API.

[1] e05b261af7dcd24096b229860df65dff1d385910

Change-Id: I20e6952d215d4d1886f09021a12d6c57c59a5d66
"
openstack%2Fpuppet-oslo~master~I6dc1b1bd1f49ffa6e49e5e08e2462974c89309f5,openstack/puppet-oslo,master,basic-auth,I6dc1b1bd1f49ffa6e49e5e08e2462974c89309f5,[oslo.middleware] Add support for basic auth middleware options,MERGED,2021-08-21 11:13:43.000000000,2021-08-24 09:15:12.000000000,2021-08-24 09:13:42.000000000,19,1,0,805478,ce716972b96ab6eafbada54da205dcdfda2af90b,9,3,1,3,9816,Takashi Kajinami,kajinamit,"[oslo.middleware] Add support for basic auth middleware options

This change introduces support for options of basic auth middleware[1],
which was implemented during the Xena cycle.

[1] da7987ca926e9bd82ff2989a920ea9740da24f95

Change-Id: I6dc1b1bd1f49ffa6e49e5e08e2462974c89309f5
"
openstack%2Fpuppet-horizon~master~Ic87edc4235221ac4d5c6b624f5e3230e11abd57b,openstack/puppet-horizon,master,,Ic87edc4235221ac4d5c6b624f5e3230e11abd57b,Configure logging for oslo_policy module,MERGED,2021-07-20 00:22:15.000000000,2021-08-24 09:14:05.000000000,2021-08-24 09:14:05.000000000,7,0,0,801404,a1393cc56528a573bca76044079b1099f76f2879,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Configure logging for oslo_policy module

Change-Id: Ic87edc4235221ac4d5c6b624f5e3230e11abd57b
"
openstack%2Fpuppet-openstack-integration~master~I71c057694f153c720b99f877c7760234b3a4ddc6,openstack/puppet-openstack-integration,master,,I71c057694f153c720b99f877c7760234b3a4ddc6,Doc: Fix position of scenario001 column,MERGED,2021-07-23 06:29:01.000000000,2021-08-24 09:11:31.000000000,2021-08-24 09:11:31.000000000,1,1,0,801937,4e870e3efe03bff1acfc681d162afc42aef1fef1,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Doc: Fix position of scenario001 column

Change-Id: I71c057694f153c720b99f877c7760234b3a4ddc6
"
openstack%2Fpuppet-openstack-integration~master~I9ec2f03d1b83642d9fea11a21af29efc305b5743,openstack/puppet-openstack-integration,master,,I9ec2f03d1b83642d9fea11a21af29efc305b5743,Replace deprecated memcached::listen_ip,MERGED,2021-08-06 11:40:21.000000000,2021-08-24 09:11:30.000000000,2021-08-24 09:11:30.000000000,2,2,0,803735,5692684444539c341cd6a015d5b11bf8354c4f5b,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Replace deprecated memcached::listen_ip

The memcached::listen_ip parameter is deprecated since puppet-memcached
v6.0.0[1] in favor of the new listen parameter.

[1] https://github.com/saz/puppet-memcached/commit/0e99f857

Change-Id: I9ec2f03d1b83642d9fea11a21af29efc305b5743
"
openstack%2Fpuppet-nova~master~I3187f4561f9aae31b04a1858ef912dc25fce0fcb,openstack/puppet-nova,master,nova-network,I3187f4561f9aae31b04a1858ef912dc25fce0fcb,Remove nova-network parameters left,MERGED,2021-08-19 00:46:54.000000000,2021-08-24 09:11:18.000000000,2021-08-24 09:09:37.000000000,8,19,0,805091,c222bb0aa758747e360b88be0ce524a4d80be7f6,9,3,2,2,9816,Takashi Kajinami,kajinamit,"Remove nova-network parameters left

... because these were already deprecated by [1] during Train cycle.

[1] 5a633e8c60413d68f1c4f831e78ea48068115dec

Change-Id: I3187f4561f9aae31b04a1858ef912dc25fce0fcb
"
openstack%2Fpuppet-horizon~master~I87dd39ca4e84dd400a686f5acb3a782f036dd5c4,openstack/puppet-horizon,master,,I87dd39ca4e84dd400a686f5acb3a782f036dd5c4,Import log suppression from example local_settings,MERGED,2021-07-20 00:28:18.000000000,2021-08-24 09:05:13.000000000,2021-08-24 09:05:13.000000000,26,10,0,801405,08efad2b84f1484f8dcdbded48b5feadcae9bd89,8,4,1,1,9816,Takashi Kajinami,kajinamit,"Import log suppression from example local_settings

This change imports logger definitions to stop verbose logs from
the example local_settings file in Horizon, to follow recommendation
by the Horizon project itself.

Change-Id: I87dd39ca4e84dd400a686f5acb3a782f036dd5c4
"
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I7742120758057b5a00f1d093f355fda3791f4e02,openstack/puppet-openstack-integration,stable/wallaby,bug/1929073-stable/wallaby,I7742120758057b5a00f1d093f355fda3791f4e02,Ubuntu: Use utf8mb3 charset in MySQL,MERGED,2021-08-18 13:45:46.000000000,2021-08-24 08:59:47.000000000,2021-08-24 08:59:47.000000000,32,1,0,805001,3771872b87b28030bbbcf8bb18ef8f97fde09106,7,3,1,22,9816,Takashi Kajinami,kajinamit,"Ubuntu: Use utf8mb3 charset in MySQL

We are observing the failure in Ubuntu integration job caused by
broken idempotency. It seems current mysql/mariadb in Ubuntu replaces
utf8 with uft8mb3 automatically and this behavior results in unexpected
change in second run.

This change ensures that we use utf8mb3 in Ubuntu to avoid such
mismatch caused by internal translation. Note this change is intended
to be a quick gate fix and the charset would be updated to utf8mb4
later.

Closes-Bug: #1929073
Change-Id: I7742120758057b5a00f1d093f355fda3791f4e02
(cherry picked from commit 085d3569021441810c1dff7c8f4396003c690805)
"
openstack%2Fpuppet-oslo~master~I93fa4179f6f6ff9aac9197b62e5b4cc75911e22f,openstack/puppet-oslo,master,,I93fa4179f6f6ff9aac9197b62e5b4cc75911e22f,cache: Simplify handling of list parameters,MERGED,2021-08-23 07:44:32.000000000,2021-08-24 08:59:30.000000000,2021-08-24 08:59:30.000000000,2,14,0,805589,85571a5e23889af188d3fedbbff5543d2fdce544,9,3,3,1,9816,Takashi Kajinami,kajinamit,"cache: Simplify handling of list parameters

Change-Id: I93fa4179f6f6ff9aac9197b62e5b4cc75911e22f
"
openstack%2Fpuppet-oslo~master~If1f8b1a07d86fe477a6ea5275417278a442b90dc,openstack/puppet-oslo,master,,If1f8b1a07d86fe477a6ea5275417278a442b90dc,cache: Parse memcache_server if it's string,MERGED,2021-08-23 07:44:32.000000000,2021-08-24 08:59:28.000000000,2021-08-24 08:59:28.000000000,8,4,0,805588,69db796158af8f9fa1cc080e6af6bf3c6dbcf272,8,3,2,1,9816,Takashi Kajinami,kajinamit,"cache: Parse memcache_server if it's string

This change imports implementation from puppet-keystone and allows
passing a string, which contains a comma-separated list of servers,
to the memcache_server parameter.

Change-Id: If1f8b1a07d86fe477a6ea5275417278a442b90dc
"
openstack%2Fpuppet-oslo~stable%2Ftrain~Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2,openstack/puppet-oslo,stable/train,idle_timeout-stable/victoria-stable/ussuri-stable/train,Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2,Fix the wrong default value of idle_timeout,MERGED,2021-08-21 18:40:50.000000000,2021-08-24 08:59:27.000000000,2021-08-24 08:59:27.000000000,2,2,0,805491,b4f87e89cd5376343cb35c00366629abfa28325a,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix the wrong default value of idle_timeout

Currently we always get the following warnings because of the wrong
default value of idle_timeout.

The idle_timeout parameter is deprecated.
Please use connection_recycle_time instead.

This change fixes the default and ensures that the warning message
is shown only when the deprecated parameter is set.

Conflicts:
	manifests/db.pp

Change-Id: Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2
(cherry picked from commit 12e2f4a886f7a97d1f34bce22254ea114f829bbd)
(cherry picked from commit 69263d76c1e9d925b96a36beba521dde756863e8)
(cherry picked from commit 06766e8789f411e6e135f041a6b264bb70d48ab8)
"
openstack%2Fpuppet-oslo~stable%2Fussuri~Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2,openstack/puppet-oslo,stable/ussuri,idle_timeout-stable/victoria-stable/ussuri,Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2,Fix the wrong default value of idle_timeout,MERGED,2021-08-21 18:39:28.000000000,2021-08-24 08:59:26.000000000,2021-08-24 08:59:26.000000000,2,2,0,805510,06766e8789f411e6e135f041a6b264bb70d48ab8,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix the wrong default value of idle_timeout

Currently we always get the following warnings because of the wrong
default value of idle_timeout.

The idle_timeout parameter is deprecated.
Please use connection_recycle_time instead.

This change fixes the default and ensures that the warning message
is shown only when the deprecated parameter is set.

Change-Id: Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2
(cherry picked from commit 12e2f4a886f7a97d1f34bce22254ea114f829bbd)
(cherry picked from commit 69263d76c1e9d925b96a36beba521dde756863e8)
"
openstack%2Fpuppet-oslo~master~I9eccb6b727f67d1e7b74f886e8c08562f1824aba,openstack/puppet-oslo,master,coordination,I9eccb6b727f67d1e7b74f886e8c08562f1824aba,coordination: disable config management,MERGED,2021-05-21 08:16:28.000000000,2021-08-24 08:59:25.000000000,2021-08-24 08:59:25.000000000,27,3,0,792535,09ece82775b9fef17bd5ae0d7991c8972431bd31,7,3,1,2,9816,Takashi Kajinami,kajinamit,"coordination: disable config management

It turned out that Gnocchi uses the different parameter name to
define coordination backend. This change introduces a flag to disable
managmeent of coordination parameters so that we can implement that
management in specific manifets.

Change-Id: I9eccb6b727f67d1e7b74f886e8c08562f1824aba
"
openstack%2Fpuppet-swift~stable%2Fwallaby~I59717abeb5ef120e811511a771f5c3cd491b850f,openstack/puppet-swift,stable/wallaby,bug/1939088-stable/wallaby,I59717abeb5ef120e811511a771f5c3cd491b850f,Replace deprecated is_array method,MERGED,2021-08-10 08:24:33.000000000,2021-08-24 08:54:14.000000000,2021-08-24 08:54:14.000000000,4,11,0,804016,c4c80d1f183d1a1ece9dc935b6cc651b77421bc2,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Replace deprecated is_array method

Closes-Bug: #1939088
Change-Id: I59717abeb5ef120e811511a771f5c3cd491b850f
(cherry picked from commit 7d7d8679d6dc249e85ceb90f82d9017414414c0b)
"
openstack%2Fnova~master~I95f68be76330ff09e5eabb5ef8dd9a18f5547866,openstack/nova,master,bug/1927677,I95f68be76330ff09e5eabb5ef8dd9a18f5547866,address open redirect with 3 forward slashes,MERGED,2021-08-23 14:48:12.000000000,2021-08-24 08:53:30.000000000,2021-08-24 08:50:44.000000000,35,6,0,805654,6fbd0b758dcac71323f3be179b1a9d1c17a4acc5,19,3,2,2,11604,sean mooney,sean-k-mooney,"address open redirect with 3 forward slashes

Ie36401c782f023d1d5f2623732619105dc2cfa24 was intended
to address OSSA-2021-002 (CVE-2021-3654) however after its
release it was discovered that the fix only worked
for urls with 2 leading slashes or more then 4.

This change adresses the missing edgecase for 3 leading slashes
and also maintian support for rejecting 2+.

Change-Id: I95f68be76330ff09e5eabb5ef8dd9a18f5547866
co-authored-by: Matteo Pozza
Closes-Bug: #1927677
"
openstack%2Fpuppet-magnum~master~I372ccbc835bc740113936b46ce84ab5e7e341107,openstack/puppet-magnum,master,healthcheck,I372ccbc835bc740113936b46ce84ab5e7e341107,Add support for healthcheck middleware options,MERGED,2021-07-12 02:35:28.000000000,2021-08-24 08:47:29.000000000,2021-08-24 08:45:40.000000000,101,0,0,800362,cea3a570463461e7d236d50e64a0712950ff5ba6,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: I372ccbc835bc740113936b46ce84ab5e7e341107
"
openstack%2Fpuppet-manila~stable%2Fwallaby~I540ed926ca7adcc1663f3814ba29492eb777701b,openstack/puppet-manila,stable/wallaby,healthcheck-stable/wallaby,I540ed926ca7adcc1663f3814ba29492eb777701b,Add support for healthcheck middleware options,MERGED,2021-07-12 02:24:55.000000000,2021-08-24 08:40:12.000000000,2021-08-24 08:38:29.000000000,101,0,0,800377,c3bfa596420ae261facec889eb63fa6c328f7361,8,3,1,3,9816,Takashi Kajinami,kajinamit,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: I540ed926ca7adcc1663f3814ba29492eb777701b
(cherry picked from commit 626b4a03f989e8eafee668dbbc62080279d3d6df)
"
openstack%2Fpuppet-designate~master~Ib23a9cd3586342ed69d960e43dcc2070ac1cad0d,openstack/puppet-designate,master,listopts,Ib23a9cd3586342ed69d960e43dcc2070ac1cad0d,producer: Convert enabled_tasks to comma separated list,MERGED,2021-07-20 04:30:54.000000000,2021-08-24 08:40:10.000000000,2021-08-24 08:40:10.000000000,8,8,0,801415,fc113562ab398fe2d9cc4dbadf9eedcd400e7514,7,3,1,2,9816,Takashi Kajinami,kajinamit,"producer: Convert enabled_tasks to comma separated list

... because the parameter is ListOpt.

Change-Id: Ib23a9cd3586342ed69d960e43dcc2070ac1cad0d
"
openstack%2Fpuppet-manila~master~I83c24b1683c4d13ebdb079d29d8a2164e8c1a154,openstack/puppet-manila,master,manila-cleanup,I83c24b1683c4d13ebdb079d29d8a2164e8c1a154,Remove deprecated support for cephfs_enable_snapshots,MERGED,2021-07-19 11:08:58.000000000,2021-08-24 08:40:00.000000000,2021-08-24 08:38:27.000000000,5,20,0,801287,618cd3d4ded0bda2e2551d7fa3b7edb1b7fe2170,9,4,1,3,9816,Takashi Kajinami,kajinamit,"Remove deprecated support for cephfs_enable_snapshots

... because the parameter was removed from Manila during Wallaby cycle
and has no effect now.

Change-Id: I83c24b1683c4d13ebdb079d29d8a2164e8c1a154
"
openstack%2Fskyline-console~master~Ib31ea4b0f1394a5fff05747f7c696aeccf541d80,openstack/skyline-console,master,open-34860,Ib31ea4b0f1394a5fff05747f7c696aeccf541d80,feat: Add float ip address column,MERGED,2021-08-24 07:11:43.000000000,2021-08-24 08:39:06.000000000,2021-08-24 08:39:06.000000000,9,1,0,805787,095006b426296f59ea13325291d0c1b6c272b7f3,8,2,2,1,33689,xusongfu,xusongfu,"feat: Add float ip address column

Add float ip address column in virtualAdapter

Change-Id: Ib31ea4b0f1394a5fff05747f7c696aeccf541d80
"
openstack%2Fpuppet-openstack-integration~master~I688e3f44bbae454ab9614c099242df80a792f1b7,openstack/puppet-openstack-integration,master,keymgr-opts,I688e3f44bbae454ab9614c099242df80a792f1b7,Use independent key_manager classes for castellan options,MERGED,2021-08-06 01:23:25.000000000,2021-08-24 08:38:18.000000000,2021-08-24 08:38:18.000000000,14,22,0,803662,a8d7fc5416c0ab4c77b35d6d11f2c17812bad0ef,11,3,3,2,9816,Takashi Kajinami,kajinamit,"Use independent key_manager classes for castellan options

Depends-on: https://review.opendev.org/c/openstack/puppet-nova/+/772142
Depends-on: https://review.opendev.org/c/openstack/puppet-cinder/+/772139
Change-Id: I688e3f44bbae454ab9614c099242df80a792f1b7
"
openstack%2Fpuppet-openstack-integration~master~I158211cb927c3dbb19a930c10923ca0d1199a525,openstack/puppet-openstack-integration,master,retire-puppet-monasca,I158211cb927c3dbb19a930c10923ca0d1199a525,Remove monasca from module list,MERGED,2021-08-23 14:42:37.000000000,2021-08-24 08:38:16.000000000,2021-08-24 08:38:16.000000000,0,1,0,805652,238ab35020433d7b78ad642d3aecdb44928273e1,7,3,1,1,14985,Alex Schultz,mwhahaha,"Remove monasca from module list

Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd removed monasca from the
Puppet module dependencies, however the bot that keeps them up to day
reads this file to ensure they are correctly listed in the Puppetfile.

Change-Id: I158211cb927c3dbb19a930c10923ca0d1199a525
"
openstack%2Fpuppet-watcher~master~Iab36bc2ab6bb065035dbf4c88dbfabf6f5b4349e,openstack/puppet-watcher,master,service_client,Iab36bc2ab6bb065035dbf4c88dbfabf6f5b4349e,Support more <service>_client options,MERGED,2021-08-19 12:20:13.000000000,2021-08-24 08:35:01.000000000,2021-08-24 08:33:34.000000000,320,0,0,805197,0f17f7553071d0c8abbcdf89ea4cd85aece7113a,13,3,4,9,9816,Takashi Kajinami,kajinamit,"Support more <service>_client options

Change-Id: Iab36bc2ab6bb065035dbf4c88dbfabf6f5b4349e
"
openstack%2Fpuppet-manila~stable%2Fwallaby~I89f7da9255b307fe80750f01c4508d52ac5b1904,openstack/puppet-manila,stable/wallaby,bug/1931711,I89f7da9255b307fe80750f01c4508d52ac5b1904,Fix nfs client package name in Ubuntu/Debian,MERGED,2021-07-21 06:43:34.000000000,2021-08-24 08:30:47.000000000,2021-08-24 08:30:47.000000000,27,17,0,801597,c8f487fe63c2390593b7e29cf6e96f9da1e9a725,8,3,1,7,9816,Takashi Kajinami,kajinamit,"Fix nfs client package name in Ubuntu/Debian

nfs-utils is specific to CentOS/RHEL and in Ubuntu/Debian nfs-common
should be used instead.

Conflicts:
	manifests/backend/flashblade.pp

Resolved conflict caused by support for the Pure Storage flashBlade
driver which was introduced during the Xena cycle.

Closes-Bug: #1931711
Change-Id: I89f7da9255b307fe80750f01c4508d52ac5b1904
(cherry picked from commit 5e92666e086eb13b270a73b711c389376bb54439)
"
openstack%2Fpuppet-vswitch~master~I614e488eb38dd27c57ed80f0608a98a2f4163bfb,openstack/puppet-vswitch,master,,I614e488eb38dd27c57ed80f0608a98a2f4163bfb,Apply vs_config after openvswitch service is started,MERGED,2021-08-23 04:44:03.000000000,2021-08-24 08:30:43.000000000,2021-08-24 08:30:43.000000000,3,0,0,805549,96dd49f1ae979d479ccb69b8e5f5dccd030cf7ff,7,3,1,2,9816,Takashi Kajinami,kajinamit,"Apply vs_config after openvswitch service is started

The vs_config resource requires access to ovs-db thus openvswitch
service should be started before triggering the resource.

Change-Id: I614e488eb38dd27c57ed80f0608a98a2f4163bfb
"
openstack%2Fpuppet-zaqar~master~I8d9930c80c65867ebd220153c20d06cdab0a47b5,openstack/puppet-zaqar,master,oslo-cache,I8d9930c80c65867ebd220153c20d06cdab0a47b5,Add support for oslo.cache options,MERGED,2021-08-23 05:17:03.000000000,2021-08-24 08:29:58.000000000,2021-08-24 08:28:24.000000000,265,0,0,805574,dfe0e42f86faf2f6da298a349e8dfdd375e6a161,9,3,2,3,9816,Takashi Kajinami,kajinamit,"Add support for oslo.cache options

Neutron uses oslo.cache options for caching. This change adds support
for the options implemented in the library.

Change-Id: I8d9930c80c65867ebd220153c20d06cdab0a47b5
"
openstack%2Fpuppet-aodh~master~I887c7605eca21cb7269d4c0188378aabaeb03721,openstack/puppet-aodh,master,auth-wrong-param,I887c7605eca21cb7269d4c0188378aabaeb03721,Fix ignored parameters of aodh::auth,MERGED,2021-08-22 23:37:17.000000000,2021-08-24 08:24:54.000000000,2021-08-24 08:24:54.000000000,2,2,0,805537,8c2a3a43222b5fbd016f11c7c00c514b86b7ead0,7,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix ignored parameters of aodh::auth

The aodh::auth class has been deprecated in favor of the new
aodh::service_credentials class but some of its parameters are ignored
because of the wrong parameter name.
This change fixes it and ensure all parameters are used even when
the deprecated class is used.

Change-Id: I887c7605eca21cb7269d4c0188378aabaeb03721
"
openstack%2Fpuppet-watcher~master~If0e06e6c1364f45cfa3a42428cd8e043a5a1b369,openstack/puppet-watcher,master,service_client,If0e06e6c1364f45cfa3a42428cd8e043a5a1b369,Split out <service>_client configurations,MERGED,2021-08-19 12:11:22.000000000,2021-08-24 08:17:41.000000000,2021-08-24 08:15:42.000000000,386,27,0,805194,8118ce9a4bd3c9ba942a69fd348f9d6ec133b3d0,13,3,5,10,9816,Takashi Kajinami,kajinamit,"Split out <service>_client configurations

This change introduces the independent classes to manage parameters
in the <service>_client sections. These classes provides support for
endpoint_type and region_name.

Change-Id: If0e06e6c1364f45cfa3a42428cd8e043a5a1b369
"
openstack%2Fpuppet-watcher~master~If54b617b7509e95734d4574840d2074fe9291c2a,openstack/puppet-watcher,master,api_version,If54b617b7509e95734d4574840d2074fe9291c2a,Do not redefine defaults for <service>_client/api_version,MERGED,2021-08-19 11:52:21.000000000,2021-08-24 08:15:34.000000000,2021-08-24 08:15:34.000000000,6,6,0,805192,d94431de6ed40f97a7237d9f01d583844c886ffc,9,3,2,1,9816,Takashi Kajinami,kajinamit,"Do not redefine defaults for <service>_client/api_version

and rely on the defaults defined in Watcher itself.

Change-Id: If54b617b7509e95734d4574840d2074fe9291c2a
"
openstack%2Fskyline-console~master~I5daff7da387be212d380d0d7b844086c912f005e,openstack/skyline-console,master,open-34858,I5daff7da387be212d380d0d7b844086c912f005e,fix: Fix route name to get better format,MERGED,2021-08-24 06:26:05.000000000,2021-08-24 08:08:45.000000000,2021-08-24 08:08:45.000000000,2,2,0,805782,bec7b84845f53ba53632cd9c586274eda150c691,10,2,3,2,33689,xusongfu,xusongfu,"fix: Fix route name to get better format

Change route from `auth/changepassword` to `auth/change-password`

Change-Id: I5daff7da387be212d380d0d7b844086c912f005e
"
openstack%2Fskyline-console~master~I5657cfd8cf142dbacce8716991f805bbbb4a9222,openstack/skyline-console,master,,I5657cfd8cf142dbacce8716991f805bbbb4a9222,feat: Support client module,MERGED,2021-08-24 06:30:25.000000000,2021-08-24 08:08:02.000000000,2021-08-24 08:08:02.000000000,3632,3181,0,805783,c960f06c1a63a492372579bf9eee2a443d5c47df,10,2,3,140,30434,Jingwei.Zhang,jwzhang,"feat: Support client module

1. Add client module to request openstack api
2. Remove window.request, stores use client to request api
3. Remove window.globals, use globalRootStore to deal with user info

Change-Id: I5657cfd8cf142dbacce8716991f805bbbb4a9222
"
openstack%2Fpuppet-watcher~master~I443432c6bc92673bd9b2607272ecc4257fc5d444,openstack/puppet-watcher,master,api_version,I443432c6bc92673bd9b2607272ecc4257fc5d444,Deprecate support for ceilometer_client/api_version,MERGED,2021-08-19 11:48:34.000000000,2021-08-24 08:07:53.000000000,2021-08-24 08:07:53.000000000,13,10,0,805191,a156f689ab1fe5e41b293ab67398a20f22398e80,10,3,1,1,9816,Takashi Kajinami,kajinamit,"Deprecate support for ceilometer_client/api_version

... because the parameter was already deprecated in Watcher[1].

[1] 92894237f3514365ee1aea31579afe47254ccd11

Change-Id: I443432c6bc92673bd9b2607272ecc4257fc5d444
"
openstack%2Fkolla~master~I46b77978926fc2b578a68d1aaa944b2198af0685,openstack/kolla,master,,I46b77978926fc2b578a68d1aaa944b2198af0685,Unify curl options,MERGED,2020-12-02 17:48:25.000000000,2021-08-24 08:03:45.000000000,2020-12-04 13:04:42.000000000,25,23,0,765185,22c32a30e62d42c3631306775c0cd029eb659e9a,16,6,1,22,22629,Michal Nasiadka,mnasiadka,"Unify curl options

Currently we use couple of curl options throughout Dockerfiles, this change
adds all common options to curlrc (-sSLf) and removes usage of those in
Dockerfiles.

Change-Id: I46b77978926fc2b578a68d1aaa944b2198af0685
"
openstack%2Fpuppet-octavia~master~I38cb0015fc88079d26cff779b7d9b99c641a9fa1,openstack/puppet-octavia,master,driver-agent-list,I38cb0015fc88079d26cff779b7d9b99c641a9fa1,Convert enabled_provider_agents to proper list format,MERGED,2021-06-29 03:16:12.000000000,2021-08-24 07:59:03.000000000,2021-08-24 07:59:03.000000000,2,2,0,798406,c868430ae327dcc3d708ce48598a49091a93a838,10,4,2,2,9816,Takashi Kajinami,kajinamit,"Convert enabled_provider_agents to proper list format

The driver_agent/enabled_provider_agents is not a MultiOpt but ListOpt
so should look like comma-seprated list. We should not pass puppet list
directly which leaves only the first element written in octavia.conf .

Change-Id: I38cb0015fc88079d26cff779b7d9b99c641a9fa1
"
openstack%2Fpuppet-cloudkitty~master~I0752ab51a282f0ef691aafe999b1906c1fd71f30,openstack/puppet-cloudkitty,master,healthcheck,I0752ab51a282f0ef691aafe999b1906c1fd71f30,Add support for healthcheck middleware options,MERGED,2021-07-12 02:28:16.000000000,2021-08-24 07:50:03.000000000,2021-08-24 07:48:06.000000000,101,0,0,800361,e5b0257554b45230c00d8c863cdcafae98d64642,9,3,2,3,9816,Takashi Kajinami,kajinamit,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: I0752ab51a282f0ef691aafe999b1906c1fd71f30
"
openstack%2Fskyline-console~master~I2e65474d3805b919552fbc16869a8bffda0edd08,openstack/skyline-console,master,open-34373,I2e65474d3805b919552fbc16869a8bffda0edd08,feat: Restore volume use snapshot,MERGED,2021-08-23 07:15:22.000000000,2021-08-24 07:49:42.000000000,2021-08-24 07:49:42.000000000,161,44,3,805584,0061ce4f15016ed286225422ce83e2c6c5ec88bf,21,2,7,9,33689,xusongfu,xusongfu,"feat: Restore volume use snapshot

Restore volume based on its own snapshot

Change-Id: I2e65474d3805b919552fbc16869a8bffda0edd08
"
openstack%2Fpuppet-tacker~master~Ie932b2e924d5c63e5d980b688ce5afc7244c2f07,openstack/puppet-tacker,master,acceptance,Ie932b2e924d5c63e5d980b688ce5afc7244c2f07,Re-enable installation of Tacker during acceptance tests.,MERGED,2021-07-06 05:01:11.000000000,2021-08-24 07:43:37.000000000,2021-08-24 07:43:37.000000000,22,25,0,799559,15fa74472058c474ea7f7928ff856e95c89a0ca1,9,5,3,1,9816,Takashi Kajinami,kajinamit,"Re-enable installation of Tacker during acceptance tests.

This change re-enables installation of tacker which was disabled
by 98be9843fcd6a999f509686d3e8c214ac49188f3 .

Change-Id: Ie932b2e924d5c63e5d980b688ce5afc7244c2f07
"
openstack%2Fpuppet-tacker~master~I5a6c295bb30141eed2949bdd198b91b7865e7f96,openstack/puppet-tacker,master,conductor,I5a6c295bb30141eed2949bdd198b91b7865e7f96,Add support for the tacker-conductor service,MERGED,2021-07-06 02:46:05.000000000,2021-08-24 07:42:18.000000000,2021-08-24 07:40:39.000000000,134,15,0,799553,64c557c32dd4917f0021f591b77a50936a39d237,11,5,3,6,9816,Takashi Kajinami,kajinamit,"Add support for the tacker-conductor service

Change-Id: I5a6c295bb30141eed2949bdd198b91b7865e7f96
"
openstack%2Fpuppet-cloudkitty~master~I21f41d72fcd12339724a14c1eec178e60a7870b3,openstack/puppet-cloudkitty,master,cloudkitty,I21f41d72fcd12339724a14c1eec178e60a7870b3,Add max_workers for cloudkitty processor,MERGED,2021-08-03 00:14:20.000000000,2021-08-24 07:37:57.000000000,2021-08-24 07:35:49.000000000,13,1,0,803297,e461edee6d18e715e267c9185364d9682d053e4a,12,3,2,3,26721,Rocky,Rocky,"Add max_workers for cloudkitty processor

Change-Id: I21f41d72fcd12339724a14c1eec178e60a7870b3
"
openstack%2Fpuppet-heat~master~Ic84202156f487e1b4605b665d02a1ebbecc509aa,openstack/puppet-heat,master,oslo-cache-ut,Ic84202156f487e1b4605b665d02a1ebbecc509aa,Do not test details of oslo::cache,MERGED,2021-08-23 05:10:28.000000000,2021-08-24 07:28:21.000000000,2021-08-24 07:28:21.000000000,46,46,0,805573,b362f4e026ab0ccd436f310173a60622b4f17524,11,3,4,1,9816,Takashi Kajinami,kajinamit,"Do not test details of oslo::cache

... but test interface of oslo::cache, to make these test cases robust
for any change in oslo::cache.

Change-Id: Ic84202156f487e1b4605b665d02a1ebbecc509aa
"
openstack%2Fpuppet-keystone~master~I9fae84582c1f96ab324527f1efafec1669c08693,openstack/puppet-keystone,master,oslo-cache-ut,I9fae84582c1f96ab324527f1efafec1669c08693,Do not test details of oslo::cache,MERGED,2021-08-23 05:32:07.000000000,2021-08-24 07:26:24.000000000,2021-08-24 07:26:24.000000000,58,58,0,805576,068564b6c79d847ae928473263771ab98b68c78c,11,3,4,1,9816,Takashi Kajinami,kajinamit,"Do not test details of oslo::cache

... but test interface of oslo::cache, to make these test cases robust
for any change in oslo::cache.

Change-Id: I9fae84582c1f96ab324527f1efafec1669c08693
"
openstack%2Fpuppet-nova~master~I63dbdf8d6295724bc1008ff06486d6de068af18c,openstack/puppet-nova,master,oslo-cache-ut,I63dbdf8d6295724bc1008ff06486d6de068af18c,Do not test details of oslo::cache,MERGED,2021-08-23 05:08:23.000000000,2021-08-24 07:26:20.000000000,2021-08-24 07:26:20.000000000,47,49,0,805572,488a03e51f1d728b8592ffb323c3e3fbdc3f804c,10,3,3,1,9816,Takashi Kajinami,kajinamit,"Do not test details of oslo::cache

... but test interface of oslo::cache, to make these test cases robust
for any change in oslo::cache.

Change-Id: I63dbdf8d6295724bc1008ff06486d6de068af18c
"
openstack%2Fopenstack-ansible~master~If28cffee118d63335fa44989e7d22c6d41f76556,openstack/openstack-ansible,master,,If28cffee118d63335fa44989e7d22c6d41f76556,DNM - test galera 10.6.4,ABANDONED,2021-08-12 09:46:05.000000000,2021-08-24 07:24:49.000000000,,0,0,0,804372,01b060766abca1c66bfe0464cc49e77c8856cb5a,7,1,1,1,25023,Jonathan Rosser,jrosser,"DNM - test galera 10.6.4

Depends-On: I0e293583a8b4952740398177f5fb1ee5bb5197b4
Change-Id: If28cffee118d63335fa44989e7d22c6d41f76556
"
openstack%2Fcharms.openstack~master~I780820d63cf3cbb5ef968c02da033e57294cd26c,openstack/charms.openstack,master,stable/21.04,I780820d63cf3cbb5ef968c02da033e57294cd26c,Use openstack-release package to determine codename,ABANDONED,2021-08-23 13:51:49.000000000,2021-08-24 06:13:36.000000000,,22,0,2,805645,52e35632e225c805e2817c6d549a54eb22bfbdd1,9,3,2,2,13686,Frode Nordahl,fnordahl,"Use openstack-release package to determine codename

The use of package versions to look up OpenStack codenames is
deprecated for in favor of using the openstack-release package.
The openstack-release package is available for Wallaby onward.

Change-Id: I780820d63cf3cbb5ef968c02da033e57294cd26c
"
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I41ebb5c84db3cffa897c259729caa6b5247dd0e9,openstack/puppet-tripleo,stable/wallaby,,I41ebb5c84db3cffa897c259729caa6b5247dd0e9,"Revert ""Deprecate warnings for Ceilometer and Gnocchi""",MERGED,2021-08-22 09:40:49.000000000,2021-08-24 06:09:01.000000000,2021-08-24 06:09:01.000000000,0,3,0,805526,fdb8ee10ba2550037152bcad5f1060e153edc5d9,11,2,1,2,9816,Takashi Kajinami,kajinamit,"Revert ""Deprecate warnings for Ceilometer and Gnocchi""

This reverts commit 88ef2afcbf9670fdd5bffced4564f2107ba06699.

Reason for revert:
Ceilometer and Gnocchi are not deprecated in tripleo-heat-templates.
The current warning in puppet-tripleo gives a wrong notice to users.
Deprecation should happen in a consistent manner within all TripleO
repos.

Conflicts:
	manifests/profile/base/gnocchi.pp

Change-Id: I41ebb5c84db3cffa897c259729caa6b5247dd0e9
(cherry picked from commit 8a2dd483942675622c90d04fb36fe607564e1d30)
"
openstack%2Fpython-manilaclient~master~I5be047d6c81556b45773497f55323d1611c1eb48,openstack/python-manilaclient,master,bp/openstack-client-support,I5be047d6c81556b45773497f55323d1611c1eb48,[OSC] Implement Share Pools List command,MERGED,2021-08-20 14:59:07.000000000,2021-08-24 05:21:02.000000000,2021-08-24 05:19:44.000000000,318,0,2,805403,d566ecc09a2540a9ae19082692e299d8b6a41821,25,4,4,5,31213,Maari Tamm,maaritamm,"[OSC] Implement Share Pools List command

This commit implements the following openstack share command:

openstack share pool list

Partially-implements: bp openstack-client-support
Change-Id: I5be047d6c81556b45773497f55323d1611c1eb48
"
openstack%2Fskyline-console~master~I6de5a95360b2cbe4ad35162a6f83decd2ba506c1,openstack/skyline-console,master,,I6de5a95360b2cbe4ad35162a6f83decd2ba506c1,fix: Fix pass props from layout,MERGED,2021-08-24 03:30:52.000000000,2021-08-24 03:39:27.000000000,2021-08-24 03:39:27.000000000,11,11,0,805776,ae3b0fa5796a851ddf67382553fa63852aac0db3,6,2,1,11,30434,Jingwei.Zhang,jwzhang,"fix: Fix pass props from layout

1. Fix pass props from layout
2. Fix space to tab in Makefile

Change-Id: I6de5a95360b2cbe4ad35162a6f83decd2ba506c1
"
openstack%2Fskyline-console~master~Ie14b4cde7f0e4ac347b1fc108c648fef91b8e0c9,openstack/skyline-console,master,open-33635,Ie14b4cde7f0e4ac347b1fc108c648fef91b8e0c9,fix: Fix white screen problem,MERGED,2021-08-23 08:57:18.000000000,2021-08-24 03:05:50.000000000,2021-08-24 03:05:50.000000000,203,108,0,805604,42a5e8331d47f990f37ec6018832b2418c6bfb53,10,2,3,30,33689,xusongfu,xusongfu,"fix: Fix white screen problem

Change layouts stack to avoid the white screen problem when route change

Change-Id: Ie14b4cde7f0e4ac347b1fc108c648fef91b8e0c9
"
openstack%2Fpython-tackerclient~master~I57be2d06efe8913805069150bd3f884322a78a42,openstack/python-tackerclient,master,,I57be2d06efe8913805069150bd3f884322a78a42,Remove use of testtools.helpers.safe_hasattr,MERGED,2021-08-05 07:42:03.000000000,2021-08-24 02:48:59.000000000,2021-08-24 02:47:41.000000000,2,3,0,803540,6325127c03fd1b2748411b1e4e787d4f8bcba060,10,5,1,1,13294,Javier Peña,jpena,"Remove use of testtools.helpers.safe_hasattr

The testtools package removed safe_hasattr in version 2.5.0 [1].
Since it is only used in two unit tests, let's replace it with the
built-in hasattr.

[1] - https://github.com/testing-cabal/testtools/blob/2.5.0/NEWS#L31-L34

Change-Id: I57be2d06efe8913805069150bd3f884322a78a42
"
openstack%2Ftacker~master~I37d61805bf492d28362183e91f21e18cf95cc0c6,openstack/tacker,master,bug/1940230,I37d61805bf492d28362183e91f21e18cf95cc0c6,Doc:Fix misspelled word in Legacy User Guide,MERGED,2021-08-17 08:45:07.000000000,2021-08-24 02:48:31.000000000,2021-08-24 02:46:57.000000000,3,3,0,804835,70bfbe43139448c519b5e5612709f1d07bba7728,9,5,1,1,32102,Manpreet Kaur,manpreet,"Doc:Fix misspelled word in Legacy User Guide

This patch fixes misspelled words such as parameter name
""cert_verify"" and ""instance"" found incorrect in Tacker
Legacy User Guide.

Closes-Bug: #1940230
Change-Id: I37d61805bf492d28362183e91f21e18cf95cc0c6
"
openstack%2Fos-brick~master~Ia92a0a3bb448f1de77038d83ca81056589a05cbc,openstack/os-brick,master,reno-xena,Ia92a0a3bb448f1de77038d83ca81056589a05cbc,Update master for stable/xena,MERGED,2021-08-23 20:49:01.000000000,2021-08-24 02:45:19.000000000,2021-08-23 21:17:33.000000000,7,0,0,805704,5c311d1acaf611a24071db616ab85ec14a1d7286,14,3,1,2,22816,OpenStack Release Bot,release,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: Ia92a0a3bb448f1de77038d83ca81056589a05cbc
"
openstack%2Ftacker-specs~master~Ieaef65650b7026aca1672af15e8550f04a2a8623,openstack/tacker-specs,master,change-786581-5,Ieaef65650b7026aca1672af15e8550f04a2a8623,Support Helm chart for Kubernetes VIM,MERGED,2021-04-16 06:59:23.000000000,2021-08-24 02:28:49.000000000,2021-08-24 02:27:31.000000000,870,0,39,786581,5a421e841d295f4d422629e426ca4341e87bc6f2,36,9,6,1,27880,Yoshito Ito,yoshito-ito,"Support Helm chart for Kubernetes VIM

This specification proposes new interface for Kubernetes VIM
with Helm chart. It enable Users to include Helm chart files
as MCIOP in their VNF Packages and to instantiate, scale-out/in,
heal CNF with them.

To support Helm chart as interface for Kubernetes VIM,
Helm related packages should be installed and configured.
When the Kubernetes VIM is a VNF managed with VNF Lifecycle
Management interface, MgmtDriver helps those process as
preamble/postamble of VNF LCM interface.

Implements: blueprint helmchart-k8s-vim
Change-Id: Ieaef65650b7026aca1672af15e8550f04a2a8623
"
openstack%2Ftacker~master~Ifd916c96e8f90d7abb411d3eb0669e8ac3b0cf84,openstack/tacker,master,revise-doc,Ifd916c96e8f90d7abb411d3eb0669e8ac3b0cf84,Add hardware requirements,MERGED,2021-07-26 01:20:29.000000000,2021-08-24 02:26:36.000000000,2021-08-24 02:24:53.000000000,34,3,4,802224,ecbc80c0a0b0576aa0543ef8a9ebd0955729fcfa,14,7,2,1,33455,Hiromu Asahina,h_asahina,"Add hardware requirements

The current `Install via Devstack` page doesn't have a hardware
requirement which may cause installation failure or poor performance.

Added a table that shows hardware requirements.

Also, the current document mentioned `ussuri` in sentences, but it's too
old. Updated the version referred in sentences from `ussuri` to the
latest release `wallaby`.

Change-Id: Ifd916c96e8f90d7abb411d3eb0669e8ac3b0cf84
Signed-off-by: Hiromu Asahina <hiromu.asahina.az@hco.ntt.co.jp>
"
openstack%2Fopenstack-tempest-skiplist~master~Ie99701ef67150a71509ff57fe4471b6e544ee486,openstack/openstack-tempest-skiplist,master,tempest-allow,Ie99701ef67150a71509ff57fe4471b6e544ee486,Add featureset001 group into tempest-allow,MERGED,2021-08-12 14:49:58.000000000,2021-08-24 01:33:44.000000000,2021-08-24 01:32:30.000000000,21,0,2,804396,86441fd3929d8e772fc24a62b149cad49553b5b4,11,7,2,1,8367,Arx Cruz,arxcruz,"Add featureset001 group into tempest-allow

This add featureset001 and featureset001_periodic groups in
tempest-allow to be used with featureset001 jobs

Change-Id: Ie99701ef67150a71509ff57fe4471b6e544ee486
"
openstack%2Fpython-manilaclient~master~Ib7ae453da665ae17b40c7b91b3563bc301769410,openstack/python-manilaclient,master,bp/openstack-client-support,Ib7ae453da665ae17b40c7b91b3563bc301769410,[OSC] Implement Replica Export Locations commands,MERGED,2021-08-20 12:53:41.000000000,2021-08-24 01:14:41.000000000,2021-08-24 01:13:18.000000000,215,0,10,805377,ca0079803090d4c0ea6a492dbd076277e71134de,14,3,2,4,31213,Maari Tamm,maaritamm,"[OSC] Implement Replica Export Locations commands

In this patch we add the following openstack share commands:
share replica export location list
share replica export location show

Partially-implements: bp openstack-client-support
Change-Id: Ib7ae453da665ae17b40c7b91b3563bc301769410
"
openstack%2Fopenstacksdk~stable%2Fwallaby~I623eef83227a5c1be50f0a62909377a4b13fb633,openstack/openstacksdk,stable/wallaby,story/2009127-stable/wallaby,I623eef83227a5c1be50f0a62909377a4b13fb633,"Fix ""400 error when create image with protected parameter""",ABANDONED,2021-08-19 09:59:11.000000000,2021-08-24 01:08:49.000000000,,1,1,0,805136,c4b3f1fd2bd5eb731acb3a901fca3b1c8eb66bfd,6,7,1,1,31525,chimeng,MengChi,"Fix ""400 error when create image with protected parameter""

Story: 2009127
Task: 43041
Change-Id: I623eef83227a5c1be50f0a62909377a4b13fb633
"
openstack%2Fglance~master~I6d0b6bdef924a63f61f4a4df32fc2187f84a8c3f,openstack/glance,master,bp/policy-refactor,I6d0b6bdef924a63f61f4a4df32fc2187f84a8c3f,Check add_image policy in the API,MERGED,2021-08-16 19:37:07.000000000,2021-08-24 01:08:30.000000000,2021-08-24 01:05:48.000000000,182,6,12,804800,de560b19e6bcc6e3eb7bbc94b42710c4ca8819ce,32,5,3,6,4393,Dan Smith,danms,"Check add_image policy in the API

Change-Id: I6d0b6bdef924a63f61f4a4df32fc2187f84a8c3f
Partially-Implements: blueprint policy-refactor
"
openstack%2Fglance~master~I0b7abde12cb04ff38c950cb68d7ab903430c8f67,openstack/glance,master,policy-refactor,I0b7abde12cb04ff38c950cb68d7ab903430c8f67,Avoid reinitialization of image repo,MERGED,2021-08-23 08:01:01.000000000,2021-08-24 01:07:24.000000000,2021-08-24 01:05:46.000000000,21,1,2,805593,505b08a9bba6a51026b10ce495c8a6a937266d68,18,3,3,2,9303,Abhishek Kekane,abhishekkekane,"Avoid reinitialization of image repo

Partially-Implements: blueprint policy-refactor

Change-Id: I0b7abde12cb04ff38c950cb68d7ab903430c8f67
"
openstack%2Fswift~master~I3f42fbaae5f246836024f95b549b487b41bd6f1d,openstack/swift,master,fix-docker-image-builds,I3f42fbaae5f246836024f95b549b487b41bd6f1d,Fix docker image builds,MERGED,2021-08-23 21:22:52.000000000,2021-08-24 01:07:21.000000000,2021-08-24 01:05:51.000000000,71,2,0,805711,930ac1114b9d2c91c2d6c277202a80b729ff9903,9,2,2,3,4146,Clark Boylan,cboylan,"Fix docker image builds

The image builds are trying to fetch a gpg pubkey from keybase which
does not exist. This causes the builds to fail. Fix this by vendoring
the key in the swift repo directly. This should be more reliable.

Upstream bug at https://github.com/just-containers/s6-overlay/issues/352

Note I looked up the pubkey given the hash on that issue and copied its
contents into this change. I can't vouch for the validity of this key
beyond that. However, if it is listed in that issue and validates the
packages from s6 then it is probably good.

Change-Id: I3f42fbaae5f246836024f95b549b487b41bd6f1d
"
openstack%2Fcinder~master~Ief710f5f337671c4aaf21899c69e3ccd62743d9e,openstack/cinder,master,bug/1935670,Ief710f5f337671c4aaf21899c69e3ccd62743d9e,[SVF] Fixed update_rep_properties for empty values,MERGED,2021-07-21 12:21:23.000000000,2021-08-24 01:07:18.000000000,2021-08-24 01:05:42.000000000,45,2,6,801617,da172417fffdf1d162319319fa34a73f2a597de1,173,9,5,3,32425,saikrishnagk,gksk,"[SVF] Fixed update_rep_properties for empty values

[Spectrum Virtualize Family] During
_update_replication_properties, some empty value
volume relationship attributes of mirror volumes
are not updated in volume metadata.

Fixed the above issue by removing the check that filters
only non-empty values of volume relationship properties.

Closes-Bug: #1935670
Change-Id: Ief710f5f337671c4aaf21899c69e3ccd62743d9e
"
openstack%2Fopenstacksdk~stable%2Fvictoria~I623eef83227a5c1be50f0a62909377a4b13fb633,openstack/openstacksdk,stable/victoria,story/2009127-stable/ussuri-stable/victoria,I623eef83227a5c1be50f0a62909377a4b13fb633,"Fix ""400 error when create image with protected parameter""",ABANDONED,2021-08-19 05:57:05.000000000,2021-08-24 01:05:04.000000000,,1,1,0,805131,8893512b12d2fad2c379835bebf60b87f036a033,5,2,1,1,31525,chimeng,MengChi,"Fix ""400 error when create image with protected parameter""

Story: 2009127
Task: 43041
Change-Id: I623eef83227a5c1be50f0a62909377a4b13fb633
"
openstack%2Fopenstacksdk~stable%2Fussuri~I623eef83227a5c1be50f0a62909377a4b13fb633,openstack/openstacksdk,stable/ussuri,story/2009127-stable/ussuri,I623eef83227a5c1be50f0a62909377a4b13fb633,"Fix ""400 error when create image with protected parameter""",ABANDONED,2021-08-19 05:55:58.000000000,2021-08-24 01:04:49.000000000,,1,1,0,805130,e95ab05f97213d0db58101457786796bba9eefc4,4,2,1,1,31525,chimeng,MengChi,"Fix ""400 error when create image with protected parameter""

Story: 2009127
Task: 43041
Change-Id: I623eef83227a5c1be50f0a62909377a4b13fb633
"
openstack%2Ftripleo-heat-templates~master~I3ec4703f61fbfd1133d28aa327b7f2374670b613,openstack/tripleo-heat-templates,master,placement-policies,I3ec4703f61fbfd1133d28aa327b7f2374670b613,Allow customizing policy rules for Placement Api,MERGED,2021-07-11 03:38:11.000000000,2021-08-24 00:55:16.000000000,2021-08-24 00:53:54.000000000,11,0,0,800329,cbd2842dbcd72a696aa0a4677365dd5e7db6f691,11,6,1,2,9816,Takashi Kajinami,kajinamit,"Allow customizing policy rules for Placement Api

Depends-on: https://review.opendev.org/800328
Change-Id: I3ec4703f61fbfd1133d28aa327b7f2374670b613
"
openstack%2Fneutron-lib~master~I8624be69f36fc1ce9af11c270c94798ed48545a0,openstack/neutron-lib,master,context-attr,I8624be69f36fc1ce9af11c270c94798ed48545a0,Do not use deprecated attributes of RequestContext,MERGED,2021-08-21 18:18:52.000000000,2021-08-24 00:55:05.000000000,2021-08-24 00:53:51.000000000,5,8,0,805488,101791fed530e4d51d710009bda474effc9cb7cc,18,3,1,1,9816,Takashi Kajinami,kajinamit,"Do not use deprecated attributes of RequestContext

The following attributes of RequestContext class has been depecated
since oslo.context 2.18.
 user          : renamed to user_id
 tenant        : renamed to project_id
 domain        : renamed to domain_id
 user_domain   : renamed to user_domain_id
 project_domain: renamed to project_domain_id

This change updates remaining usage in unit tests to get rid of
some deprecation warnings like the example below.

DeprecationWarning: Property 'user' has moved to 'user_id' in version
'2.6' and will be removed in version '3.0'

Change-Id: I8624be69f36fc1ce9af11c270c94798ed48545a0
"
openstack%2Felection~master~Iae245d1d3703921aa781ca6b2dce67637dd96ac5,openstack/election,master,yoga-candidacy,Iae245d1d3703921aa781ca6b2dce67637dd96ac5,Add Iury Gregory candidacy for Ironic PTL (Yoga),MERGED,2021-08-23 20:38:51.000000000,2021-08-24 00:35:42.000000000,2021-08-24 00:34:07.000000000,20,0,0,805701,79845c8a7d095dc95bce5562c882d82a976c05b7,10,5,1,1,15519,Iury Gregory Melo Ferreira,iurygregory,"Add Iury Gregory candidacy for Ironic PTL (Yoga)

Change-Id: Iae245d1d3703921aa781ca6b2dce67637dd96ac5
"
openstack%2Felection~master~I3914624687b2d856ad47def0276cdf78ea8c2dad,openstack/election,master,ramereth-yoga,I3914624687b2d856ad47def0276cdf78ea8c2dad,Add Lance Albertson candidancy for Openstack Chef PTL,MERGED,2021-08-23 20:34:19.000000000,2021-08-24 00:32:11.000000000,2021-08-24 00:29:54.000000000,20,0,0,805699,6a963d2b4935dfae5a3f7b7fa11a7c6509665d0d,8,3,1,1,21961,Lance Albertson,ramereth,"Add Lance Albertson candidancy for Openstack Chef PTL

Change-Id: I3914624687b2d856ad47def0276cdf78ea8c2dad
Signed-off-by: Lance Albertson <lance@osuosl.org>
"
openstack%2Felection~master~If6ec0cf0a9207b66b941571737a42034134b0cf4,openstack/election,master,,If6ec0cf0a9207b66b941571737a42034134b0cf4,Adding Michael Johnson candidacy for Designate PTL,MERGED,2021-08-23 20:07:56.000000000,2021-08-24 00:31:10.000000000,2021-08-24 00:29:53.000000000,13,0,0,805697,419256a50be9b5c398bfd0f0420aec2fd695504f,9,4,1,1,11628,Michael Johnson,johnsom,"Adding Michael Johnson candidacy for Designate PTL

Change-Id: If6ec0cf0a9207b66b941571737a42034134b0cf4
"
openstack%2Felection~master~I8539fa25ab978d08477f6a4817ad2bab185dc75b,openstack/election,master,requirements-yoga,I8539fa25ab978d08477f6a4817ad2bab185dc75b,Adding Matthew Thode candidacy for Requirements PTL,MERGED,2021-08-23 19:12:31.000000000,2021-08-24 00:26:37.000000000,2021-08-24 00:25:20.000000000,25,0,0,805695,040db87f43fde56d8fc806d48780301056487356,8,3,1,1,14288,Matthew Thode,prometheanfire,"Adding Matthew Thode candidacy for Requirements PTL

Change-Id: I8539fa25ab978d08477f6a4817ad2bab185dc75b
"
openstack%2Fneutron~master~Id0c4bacb076da08c430276945e856c793ef662e5,openstack/neutron,master,pf_callback,Id0c4bacb076da08c430276945e856c793ef662e5,Use neutron-lib payloads for PORT_FORWARDING,MERGED,2021-07-30 06:50:02.000000000,2021-08-24 00:15:32.000000000,2021-08-19 01:56:22.000000000,116,138,5,802990,eb430e052dba24bfca5397afec789e5aa556d654,115,6,6,6,32667,Mamatisa Nurmatov,isabek,"Use neutron-lib payloads for PORT_FORWARDING

This patch switches the code over to the payload style of callbacks [1]
for PORT_FORWARDING events.

[1]https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html

Change-Id: Id0c4bacb076da08c430276945e856c793ef662e5
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ib179fa3cfe057ed67b8b791a3ff62dbcc12ed257,openstack/tripleo-ansible,stable/wallaby,bug/1940294-stable/wallaby,Ib179fa3cfe057ed67b8b791a3ff62dbcc12ed257,tripleo_push_artifacts: fix argument parsing,MERGED,2021-08-20 17:31:11.000000000,2021-08-23 23:54:37.000000000,2021-08-23 23:53:12.000000000,1,1,0,805282,a4afaa27adb9ea675fdbb035301da44e188f21b2,15,4,1,1,20778,Damien Ciabrini,dciabrin,"tripleo_push_artifacts: fix argument parsing

Fix a logic inversion during argument checking which
causes push_artifacts to fail if only one argument is passed
to the module.

Closes-Bug: #1940294
Change-Id: Ib179fa3cfe057ed67b8b791a3ff62dbcc12ed257
(cherry picked from commit 1946d5b00850d6309aecf2884a540c20776a099b)
"
openstack%2Ftripleo-upgrade~master~I36e7d177e50ddd56d2d254941f0ebf181765e304,openstack/tripleo-upgrade,master,improve_node_upgrade,I36e7d177e50ddd56d2d254941f0ebf181765e304,Improve node_upgrade_pre.sh,MERGED,2021-08-19 14:25:45.000000000,2021-08-23 23:53:19.000000000,2021-08-23 23:53:19.000000000,6,2,0,805231,53861a47ddbd984343f62e5fa8039c5ee37996f3,7,6,1,1,11090,Sergii Golovatiuk,holser,"Improve node_upgrade_pre.sh

Some CI jobs failed with the following message in computehci-2_upgrade_pre.log

2021-08-17 23:26:32 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:37 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:42 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:48 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:53 | FAILURE: Could not quiesce compute node computehci-2.redhat.local

* increase timeout as 60 seconds is not enough for some CI
  hypervisors on large environments such as 3cont_3db_3msg_2net_3hci.
* add instances to migrate to the log

Change-Id: I36e7d177e50ddd56d2d254941f0ebf181765e304
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I062f82a001c3edeade13912ed9b044695143de85,openstack/tripleo-heat-templates,stable/wallaby,ovn_bgp_agent-stable/wallaby,I062f82a001c3edeade13912ed9b044695143de85,Add BGP EVPN support to the FRR service,MERGED,2021-08-23 15:14:49.000000000,2021-08-23 23:53:17.000000000,2021-08-23 23:53:17.000000000,30,0,0,805671,8dc09df288c63daeb3e85b52278dc8d839a03e72,12,5,2,1,20172,Michele Baldessari,michele,"Add BGP EVPN support to the FRR service

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/805670
Change-Id: I062f82a001c3edeade13912ed9b044695143de85
(cherry picked from commit f11b5edc286afa63f9eab7fa2b9ffaff65ceea45)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I3a5ab01c6cdd17a00edd333b8519f4c35dffcb2a,openstack/tripleo-ansible,stable/wallaby,bgpsupport-stable/wallaby,I3a5ab01c6cdd17a00edd333b8519f4c35dffcb2a,Add BGP EVPN support to tripleo_frr,MERGED,2021-08-23 15:13:34.000000000,2021-08-23 23:53:15.000000000,2021-08-23 23:53:15.000000000,25,0,0,805670,caa948bfb73aca774135f7d8efa57b3b2b266a90,8,5,1,2,20172,Michele Baldessari,michele,"Add BGP EVPN support to tripleo_frr

Configure FRR to enable L2VPN EVPN address family. A few variables are
available for advanced configuration:

- tripleo_frr_bgp_l2vpn: enable/disable L2VPN EVPN address family
- tripleo_frr_bgp_l2vpn_ebgp_multihop: allows sessions with eBGP
  neighbors to establish when they are multiple hops away.
- tripleo_frr_bgp_l2vpn_uplink_activate: enable/disable the 'uplink'
  peer group in the L2VPN EVPN address family.
- tripleo_frr_bgp_l2vpn_peers: list of EVPN neighbor peers.
- tripleo_frr_bgp_l2vpn_peers_scope: internal, external or AS number.

Change-Id: I3a5ab01c6cdd17a00edd333b8519f4c35dffcb2a
(cherry picked from commit 12663ff02296260e9e781341727b058c8aea7486)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ie09c7ed93ec38cff63abe69bf1c2b60132982cfc,openstack/tripleo-ansible,stable/wallaby,bgpsupport-stable/wallaby,Ie09c7ed93ec38cff63abe69bf1c2b60132982cfc,tripleo_frr: set default version and profile,MERGED,2021-08-23 14:31:08.000000000,2021-08-23 23:53:13.000000000,2021-08-23 23:53:13.000000000,4,0,0,805569,ac9bf88f2746ffaab1879552957cd384e7c7d3c7,9,5,1,2,20172,Michele Baldessari,michele,"tripleo_frr: set default version and profile

Pin FRR version and profile to known, tested values.

For more detailed information, please refer to
https://docs.frrouting.org/en/latest/basic.html#configuration-versioning-profiles-and-upgrade-behavior

Change-Id: Ie09c7ed93ec38cff63abe69bf1c2b60132982cfc
(cherry picked from commit 913da0e1e0a279d987ee343a56a87e68d230c12d)
"
openstack%2Ftripleo-ansible~stable%2Ftrain~I670b31a921a163f286a8267b808d6d97cc5a61c1,openstack/tripleo-ansible,stable/train,ovs_dpdk_mlockall,I670b31a921a163f286a8267b808d6d97cc5a61c1,Disable mlockall if postcopy is enabled,MERGED,2021-08-11 09:26:28.000000000,2021-08-23 23:53:09.000000000,2021-08-23 23:53:09.000000000,29,14,0,804217,4e02c4927ee6e4d00f759d615f24260c3240bbed,11,8,1,2,17216,Martin Schuppert,mcschupp,"Disable mlockall if postcopy is enabled

If postcopy is enabled, live migration fails with:
2021-07-26 10:37:15.563 7 ERROR nova.virt.libvirt.driver [-] [instance: 5bd7e565-8744-4965-85f9-61f1e2bb6b8d] Live Migration failure: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported: libvirt.libvirtError: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported

The root cause is that ovs gets started per default with --mlockall=yes.
As a result postcopy gets disabled and live migration fails.

2021-08-04T12:18:10.737Z|00011|dpdk|WARN|vhost-postcopy-support and mlockall are not compatible.
2021-08-04T12:18:10.737Z|00012|dpdk|INFO|POSTCOPY support for vhost-user-client disabled.

This change adds --mlockall=no to /etc/sysconfig/openvswitch
to have live migration working.

Conflicts:
    tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml

Change-Id: I670b31a921a163f286a8267b808d6d97cc5a61c1
Closes-Bug: #1939028
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567
(cherry picked from commit 8f8cefa3fd000d0bcf3b1223b2470215fbda135a)
(cherry picked from commit 561a674bfd89fb95d47063fdb297c3e50f59e246)
(cherry picked from commit b076e682b77503c1907d2f0cd3698b55d28052e6)
(cherry picked from commit 109c07c9734a7ee89a4b68c13b8630f026ded6d2)
"
openstack%2Ftripleo-ansible~stable%2Fussuri~I670b31a921a163f286a8267b808d6d97cc5a61c1,openstack/tripleo-ansible,stable/ussuri,ovs_dpdk_mlockall,I670b31a921a163f286a8267b808d6d97cc5a61c1,Disable mlockall if postcopy is enabled,MERGED,2021-08-11 09:25:38.000000000,2021-08-23 23:44:05.000000000,2021-08-23 23:44:05.000000000,29,14,0,804216,109c07c9734a7ee89a4b68c13b8630f026ded6d2,11,8,1,2,17216,Martin Schuppert,mcschupp,"Disable mlockall if postcopy is enabled

If postcopy is enabled, live migration fails with:
2021-07-26 10:37:15.563 7 ERROR nova.virt.libvirt.driver [-] [instance: 5bd7e565-8744-4965-85f9-61f1e2bb6b8d] Live Migration failure: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported: libvirt.libvirtError: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported

The root cause is that ovs gets started per default with --mlockall=yes.
As a result postcopy gets disabled and live migration fails.

2021-08-04T12:18:10.737Z|00011|dpdk|WARN|vhost-postcopy-support and mlockall are not compatible.
2021-08-04T12:18:10.737Z|00012|dpdk|INFO|POSTCOPY support for vhost-user-client disabled.

This change adds --mlockall=no to /etc/sysconfig/openvswitch
to have live migration working.

Conflicts:
    tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml

Change-Id: I670b31a921a163f286a8267b808d6d97cc5a61c1
Closes-Bug: #1939028
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567
(cherry picked from commit 8f8cefa3fd000d0bcf3b1223b2470215fbda135a)
(cherry picked from commit 561a674bfd89fb95d47063fdb297c3e50f59e246)
(cherry picked from commit b076e682b77503c1907d2f0cd3698b55d28052e6)
"
openstack%2Ftripleo-ansible~stable%2Fvictoria~I670b31a921a163f286a8267b808d6d97cc5a61c1,openstack/tripleo-ansible,stable/victoria,ovs_dpdk_mlockall,I670b31a921a163f286a8267b808d6d97cc5a61c1,Disable mlockall if postcopy is enabled,MERGED,2021-08-11 09:16:25.000000000,2021-08-23 23:44:03.000000000,2021-08-23 23:44:03.000000000,29,14,0,804215,b076e682b77503c1907d2f0cd3698b55d28052e6,11,8,1,2,17216,Martin Schuppert,mcschupp,"Disable mlockall if postcopy is enabled

If postcopy is enabled, live migration fails with:
2021-07-26 10:37:15.563 7 ERROR nova.virt.libvirt.driver [-] [instance: 5bd7e565-8744-4965-85f9-61f1e2bb6b8d] Live Migration failure: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported: libvirt.libvirtError: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported

The root cause is that ovs gets started per default with --mlockall=yes.
As a result postcopy gets disabled and live migration fails.

2021-08-04T12:18:10.737Z|00011|dpdk|WARN|vhost-postcopy-support and mlockall are not compatible.
2021-08-04T12:18:10.737Z|00012|dpdk|INFO|POSTCOPY support for vhost-user-client disabled.

This change adds --mlockall=no to /etc/sysconfig/openvswitch
to have live migration working.

Change-Id: I670b31a921a163f286a8267b808d6d97cc5a61c1
Closes-Bug: #1939028
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567
(cherry picked from commit 8f8cefa3fd000d0bcf3b1223b2470215fbda135a)
(cherry picked from commit 561a674bfd89fb95d47063fdb297c3e50f59e246)
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~I670b31a921a163f286a8267b808d6d97cc5a61c1,openstack/tripleo-ansible,stable/wallaby,ovs_dpdk_mlockall,I670b31a921a163f286a8267b808d6d97cc5a61c1,Disable mlockall if postcopy is enabled,MERGED,2021-08-11 09:15:24.000000000,2021-08-23 23:44:02.000000000,2021-08-23 23:44:02.000000000,29,14,0,804214,561a674bfd89fb95d47063fdb297c3e50f59e246,11,8,1,2,17216,Martin Schuppert,mcschupp,"Disable mlockall if postcopy is enabled

If postcopy is enabled, live migration fails with:
2021-07-26 10:37:15.563 7 ERROR nova.virt.libvirt.driver [-] [instance: 5bd7e565-8744-4965-85f9-61f1e2bb6b8d] Live Migration failure: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported: libvirt.libvirtError: internal error: unable to execute QEMU command 'migrate-set-capabilities': Postcopy is not supported

The root cause is that ovs gets started per default with --mlockall=yes.
As a result postcopy gets disabled and live migration fails.

2021-08-04T12:18:10.737Z|00011|dpdk|WARN|vhost-postcopy-support and mlockall are not compatible.
2021-08-04T12:18:10.737Z|00012|dpdk|INFO|POSTCOPY support for vhost-user-client disabled.

This change adds --mlockall=no to /etc/sysconfig/openvswitch
to have live migration working.

Change-Id: I670b31a921a163f286a8267b808d6d97cc5a61c1
Closes-Bug: #1939028
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567
(cherry picked from commit 8f8cefa3fd000d0bcf3b1223b2470215fbda135a)
"
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I41ebb5c84db3cffa897c259729caa6b5247dd0e9,openstack/puppet-tripleo,stable/victoria,,I41ebb5c84db3cffa897c259729caa6b5247dd0e9,"Revert ""Deprecate warnings for Ceilometer and Gnocchi""",MERGED,2021-08-22 09:41:10.000000000,2021-08-23 23:44:00.000000000,2021-08-23 23:44:00.000000000,0,3,0,805527,8e60fc7058ec79dbe96167ba7d52f5bae8f7c413,7,2,2,2,9816,Takashi Kajinami,kajinamit,"Revert ""Deprecate warnings for Ceilometer and Gnocchi""

This reverts commit 88ef2afcbf9670fdd5bffced4564f2107ba06699.

Reason for revert:
Ceilometer and Gnocchi are not deprecated in tripleo-heat-templates.
The current warning in puppet-tripleo gives a wrong notice to users.
Deprecation should happen in a consistent manner within all TripleO
repos.

Conflicts:
	manifests/profile/base/gnocchi.pp

Change-Id: I41ebb5c84db3cffa897c259729caa6b5247dd0e9
(cherry picked from commit 8a2dd483942675622c90d04fb36fe607564e1d30)
(cherry picked from commit fdb8ee10ba2550037152bcad5f1060e153edc5d9)
(cherry picked from commit fdb8ee10ba2550037152bcad5f1060e153edc5d9)
"
openstack%2Fglance~master~I670c076527b7bce55696b294d2283121dab5c707,openstack/glance,master,policy-refactor,I670c076527b7bce55696b294d2283121dab5c707,Move Tasks policy checks in the API,MERGED,2021-07-26 09:12:02.000000000,2021-08-23 23:42:11.000000000,2021-08-23 23:40:29.000000000,170,37,9,802245,32ea21f3fa45e7ba48920060d37cd01318ac6f7c,60,5,14,7,9303,Abhishek Kekane,abhishekkekane,"Move Tasks policy checks in the API

This change uses new policy module to enforce tasks_api_access
policy check and excludes policy enforcement from the policy layer.

NOTE: Since we are excluding policy enforcement at policy layer, removed
below unit tests as those were checking controller methods and we no longer
enforcing policies at policy layer.
test_create_task_unauthorized
test_index_unauthorized
test_get_unauthorized

Partially implements: blueprint policy-refactor

Change-Id: I670c076527b7bce55696b294d2283121dab5c707
"
openstack%2Fglance~master~If390f04aef00fa4e6dc792658ae5fee9917c7d1f,openstack/glance,master,policy-refactor,If390f04aef00fa4e6dc792658ae5fee9917c7d1f,Check policies for delete image for store in API,MERGED,2021-08-15 12:31:40.000000000,2021-08-23 23:35:17.000000000,2021-08-23 23:33:40.000000000,127,1,33,804585,434f881d8c462c314e2ef160823bee651e7de496,56,4,8,4,9303,Abhishek Kekane,abhishekkekane,"Check policies for delete image for store in API

These change enforce policies required for deleting image from store
in API layer.

Partially-Implements: blueprint policy-refactor
Closes-Bug: #1939977

Change-Id: If390f04aef00fa4e6dc792658ae5fee9917c7d1f
"
openstack%2Fcinder~stable%2Fwallaby~Iec111ab83e9ed8182c9679c911e3d90927d5a7c3,openstack/cinder,stable/wallaby,rbd-use-correct-stripe-unit-in-clone,Iec111ab83e9ed8182c9679c911e3d90927d5a7c3,RBD: use correct stripe unit in clone operation,MERGED,2021-08-11 15:36:35.000000000,2021-08-23 23:35:17.000000000,2021-08-23 23:33:34.000000000,58,21,3,804265,5db58159feec3d2d39d1abf3637310f5ac60a3cf,22,4,1,3,10459,Luigi Toscano,ltoscano,"RBD: use correct stripe unit in clone operation

The recent release of Ceph Pacific saw a change to the clone() logic
where invalid values of stripe unit would cause an error to be returned
where previous versions would correct the value at runtime.  This
becomes a problem when creating a volume from an image, where the source
RBD image may have a larger stripe unit than cinder's RBD driver is
configured for.  When this happens, clone() is called with a stripe unit
that is too small given that of the source image and the clone fails.

The RBD driver in Cinder has a configuration parameter
'rbd_store_chunk_size' that stores the preferred object size for cloned
images.  If clone() is called without a stripe_unit passed in, the
stripe unit defaults to the object size, which is 4MB by default.  The
issue arises when creating a volume from a Glance image, where Glance is
creating images with a default stripe unit of 8MB (distinctly larger
than that of Cinder).  If we do not consider the incoming stripe unit
and select the larger of the two, Ceph cannot clone an RBD image with a
smaller stripe unit and raises an error.

This patch adds a function in our driver's clone logic to select the
larger of the two stripe unit values so that the appropriate stripe unit
is chosen.

It should also be noted that we're determining the correct stripe unit,
but using the 'order' argument to clone().  Ceph will set the stripe
unit equal to the object size (order) by default and we rely on this
behaviour for the following reason: passing stripe-unit alone or with
an order argument causes an invalid argument exception to be raised in
pre-pacific releases of Ceph, as it's argument parsing appears to have
limitations.

Closes-Bug: #1931004
Change-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3
(cherry picked from commit 49a2c85eda9fd3cddc75fd904fe62c87a6b50735)
"
openstack%2Fswift~master~I98582732ca5ccb2e7d2369b53abf9aa8c0ede00c,openstack/swift,master,reconstructor-recon,I98582732ca5ccb2e7d2369b53abf9aa8c0ede00c,Add and pipe reconstructor stats through recon,MERGED,2018-02-06 06:27:24.000000000,2021-08-23 23:35:14.000000000,2021-08-23 23:33:37.000000000,216,53,3,541141,7a105b5ef01e990d52ef2111b23707904cd41867,16,4,4,6,7233,Matthew Oliver,mattoliverau,"Add and pipe reconstructor stats through recon

This patch plumbs the object-reconstructor stats that are dropped
into recon cache out through the middleware and swift-recon tool.

This adds a '/recon/reconstruction/object' to the middleware. As such
the swift-recon tool has grown a '-R' or '--reconstruction' option
access this data from each node.

Plus some tests and documentation updates.

Change-Id: I98582732ca5ccb2e7d2369b53abf9aa8c0ede00c
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I41ebb5c84db3cffa897c259729caa6b5247dd0e9,openstack/puppet-tripleo,stable/train,,I41ebb5c84db3cffa897c259729caa6b5247dd0e9,"Revert ""Deprecate warnings for Ceilometer and Gnocchi""",MERGED,2021-08-22 09:47:59.000000000,2021-08-23 23:08:26.000000000,2021-08-23 23:08:26.000000000,0,4,0,805508,fb2457d141ae04ce332d0861fc9fa51030df2ce6,6,2,1,2,9816,Takashi Kajinami,kajinamit,"Revert ""Deprecate warnings for Ceilometer and Gnocchi""

This reverts commit 88ef2afcbf9670fdd5bffced4564f2107ba06699.

Reason for revert:
Ceilometer and Gnocchi are not deprecated in tripleo-heat-templates.
The current warning in puppet-tripleo gives a wrong notice to users.
Deprecation should happen in a consistent manner within all TripleO
repos.

Conflicts:
	manifests/profile/base/gnocchi.pp

(backport to stable/train)
Conflicts:
	manifests/profile/base/gnocchi.pp

Change-Id: I41ebb5c84db3cffa897c259729caa6b5247dd0e9
(cherry picked from commit 8a2dd483942675622c90d04fb36fe607564e1d30)
(cherry picked from commit fdb8ee10ba2550037152bcad5f1060e153edc5d9)
(cherry picked from commit fdb8ee10ba2550037152bcad5f1060e153edc5d9)
(cherry picked from commit 8e60fc7058ec79dbe96167ba7d52f5bae8f7c413)
(cherry picked from commit b10b896fc8381371b8063ee69adc0c8134217ab1)
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~Ie9c21146bea41dbbf1115534aeeff14810e369a0,openstack/puppet-tripleo,stable/train,uc-memcache,Ie9c21146bea41dbbf1115534aeeff14810e369a0,[Train only] Update the authtoken class for undercloud services,MERGED,2021-08-20 03:32:34.000000000,2021-08-23 23:08:25.000000000,2021-08-23 23:08:25.000000000,84,12,0,805327,cec416f76b6470ac5dd631600d8de5802380b52b,18,5,3,3,9816,Takashi Kajinami,kajinamit,"[Train only] Update the authtoken class for undercloud services

These classes were recently backported[1] and skipped during
the following two backports.

17fdf05badae6f4ceb3b131e62232a97889973b0
Add authtoken security options

f7d0ff5f5b435afafea957f3393b8af052e57061
Add ability to specify memcached port

This change manually applies the change which should have done in
these backports.

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/805324

Change-Id: Ie9c21146bea41dbbf1115534aeeff14810e369a0
"
openstack%2Fos-brick~stable%2Fxena~If02c2608a082a5ef9ddee34ac534ba4abbe10311,openstack/os-brick,stable/xena,create-xena,If02c2608a082a5ef9ddee34ac534ba4abbe10311,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-08-23 20:48:59.000000000,2021-08-23 22:56:29.000000000,2021-08-23 21:45:14.000000000,3,3,0,805703,4c9317e2b2493da98be00477fb44aec8590d2d21,10,3,1,1,22816,OpenStack Release Bot,release,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: If02c2608a082a5ef9ddee34ac534ba4abbe10311
"
openstack%2Fos-brick~stable%2Fxena~Ie86547b0fd8a9422cfb16606a752436260072e72,openstack/os-brick,stable/xena,create-xena,Ie86547b0fd8a9422cfb16606a752436260072e72,Update .gitreview for stable/xena,MERGED,2021-08-23 20:48:57.000000000,2021-08-23 22:51:41.000000000,2021-08-23 21:15:41.000000000,1,0,0,805702,e61ad9d57b92d901aa08f1b39f7d6cfe0316d0af,10,3,1,1,22816,OpenStack Release Bot,release,"Update .gitreview for stable/xena

Change-Id: Ie86547b0fd8a9422cfb16606a752436260072e72
"
openstack%2Fnova~master~If71620e808744736cb4fe3abda76d81a6335311b,openstack/nova,master,bug/1936849,If71620e808744736cb4fe3abda76d81a6335311b,Avoid modifying the Mock class in test,MERGED,2021-08-23 15:41:16.000000000,2021-08-23 22:23:57.000000000,2021-08-23 22:21:59.000000000,21,21,0,805657,930b7c992156733fbb4f598488605825d62ebc0c,13,3,1,1,9708,Balazs Gibizer,gibi,"Avoid modifying the Mock class in test

The rdb unit test defines a shutdown field on the Mock class
unintentionally. This causes that a later test in the same
executor expecting that mock.Mock().shutdown is a newly auto
generated mock.Mock() but it founds that is an already used
(called) object. This causes that the later test fails when
asserting the number of calls on that mock.

The original intention of the rbd unit test was to catch the
instantiation of the Rados object in test so it set Rados = mock.Mock()
so when the code under test called Rados() it actually called Mock().
It worked but it has that huge side effect. Instead of this a proper
mocking of the constructor can be done in two steps:

rados_inst = mock.Mock()
Rados = mock.Mock(return_value=rados_inst)

This makes sure that every Rados() call will return rados_inst that is a
mock without causing Mock class level side effect.

Change-Id: If71620e808744736cb4fe3abda76d81a6335311b
Closes-Bug: #1936849
"
openstack%2Fnova~stable%2Fvictoria~Iac0e634e66cd4e150a50935cf635f626fc11b70e,openstack/nova,stable/victoria,bug/1934770,Iac0e634e66cd4e150a50935cf635f626fc11b70e,api: Align availability zone info with forced host,NEW,2021-07-26 08:32:00.000000000,2021-08-23 22:05:20.000000000,,217,25,0,802237,bf235c0ed0a1a867ab1b6e5ff34eaf7a8dee6c55,8,2,1,4,15334,Stephen Finucane,sfinucan,"api: Align availability zone info with forced host

Users can create a server like so:

  $ openstack server create --availability-zone az:host ...

This is a historical way to request that an instance be scheduled to a
specific host and it causes the scheduler to be bypassed. However, no
validation of this availability zone-host combo takes place. The host
could in fact belong to a different availability zone. If it does, we'll
end up in a very odd situation whereby the RequestSpec record for the
instance will record the availability zone requested by the user at
create time, but the Instance record itself will record the availability
zone of the host on which the instance was scheduled. This leads to even
more confusing behavior when we attempt to do something like live
migrate the instance since the RequestSpec record, with its original and
possibly invalid availability zone information, is used. The
'AvailabilityZoneFilter' will fail an error message like the following:

  Availability Zone 'foo' requested. ... has AZs: bar

but the 'openstack server list --long' command will show a non-foo value
for the availability zone column.

The solution is simple: when given an availability zone-host combo, make
sure the availability zone requested matches that of the host (or, more
specifically, the host is a member of the host aggregates that form the
availability zone [1]). If not, simply ignore the requested availability
zone information in favour of using the availability zone of the host,
logging a warning just for record keeping purposes. This is deemed
preferable to failing with HTTP 400 (Bad Request) since what users are
really requesting by using this was to schedule to a specific host: the
availability zone portion of the request is really irrelevant and just
an artifact of this legacy mechanism to request hosts. If users wish to
truly validate a host-availability zone combo, they can use the 'host'
field introduced in microversion 2.74 along with the 'availability_zone'
field:

  $ openstack server create --availability-zone az --host host ...

[1] https://docs.openstack.org/nova/latest/admin/aggregates.html

Change-Id: Iac0e634e66cd4e150a50935cf635f626fc11b70e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1934770
(cherry picked from commit 8f21ee42bd66b62e75e14acf4e91b786d78b9168)
(cherry picked from commit 58782403cdaad33856fd59715525cee3c63ee3cf)
"
openstack%2Fpython-manilaclient~master~I41852e93fce356549ca0600b02d972742a105a38,openstack/python-manilaclient,master,bp/openstack-client-support,I41852e93fce356549ca0600b02d972742a105a38,[OSC] Implement Share Services Commands,MERGED,2021-08-18 16:53:54.000000000,2021-08-23 22:04:06.000000000,2021-08-23 22:02:43.000000000,405,0,21,805058,fcbcf7521fd1e323c4bc2f528c7654fd9fb02f78,20,5,4,5,31213,Maari Tamm,maaritamm,"[OSC] Implement Share Services Commands

In this patch we add the following openstack share commands:
share service list
share sevice set

manila service-enable command is implemented as:
openstack share service set <hostname> <binary> --enable

manila service-disable command is implemented as:
openstack share service set <hostname> <binary> --disable

Partially-implements: bp openstack-client-support
Change-Id: I41852e93fce356549ca0600b02d972742a105a38
"
openstack%2Fneutron~master~I2bd386e9aaa4d1cf994943b59f82bc24f6424199,openstack/neutron,master,bug/1915255,I2bd386e9aaa4d1cf994943b59f82bc24f6424199,Add limitation about QoS min bw for PF less SRIOV platforms,MERGED,2021-06-28 13:00:46.000000000,2021-08-23 21:57:18.000000000,2021-08-23 21:52:59.000000000,8,0,16,798294,db7887cafd39f3f4d2d634a8ea3732bf4f9bb7dc,20,7,2,1,9708,Balazs Gibizer,gibi,"Add limitation about QoS min bw for PF less SRIOV platforms

Related-Bug: #1915255
Change-Id: I2bd386e9aaa4d1cf994943b59f82bc24f6424199
"
openstack%2Fneutron-tempest-plugin~master~I267a848d57183ddc39128f12d40b076360dfd3bc,openstack/neutron-tempest-plugin,master,bug/1940243,I267a848d57183ddc39128f12d40b076360dfd3bc,Create a 384MB flavor for advance image,MERGED,2021-08-18 16:36:59.000000000,2021-08-23 21:52:52.000000000,2021-08-23 21:52:52.000000000,14,3,4,805057,79c679683dd93c1df412f81533af6bf72e2395d0,22,4,3,5,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Create a 384MB flavor for advance image

In order to reduce the CI memory consuption, this patch creates a 384MB
flavor to replace the 512MB previously used for the advance image
(Ubuntu 18.04).

Flavor specs:
- 384MB RAM: aroung 100MB are used when the VM is started.
- 4GB disk: around 1,1GB are used when the VM is started.
- 1 VCPU.

Change-Id: I267a848d57183ddc39128f12d40b076360dfd3bc
Partial-Bug: #1940243
"
openstack%2Fneutron~stable%2Fussuri~I3caf131041a852671a556b064c641fe34f8f5ed0,openstack/neutron,stable/ussuri,,I3caf131041a852671a556b064c641fe34f8f5ed0,Trivial: check if ipv6 is available for IptablesManager,MERGED,2021-08-13 08:32:39.000000000,2021-08-23 21:37:47.000000000,2021-08-23 21:36:06.000000000,6,4,0,804496,b6a6065f9f90f83f80e3a3a997bf382b38763b29,14,4,2,2,33673,Alin-Gabriel Serdean,alins,"Trivial: check if ipv6 is available for IptablesManager

Conflicts:
	neutron/agent/ovn/metadata/agent.py

To resolve conflict, rearrange alphabetically the imports from
oslo_utils.

Change-Id: I3caf131041a852671a556b064c641fe34f8f5ed0
Closes-Bug: #1915480
(cherry picked from commit 6cf71cbd6a71b4849470874379877c7ca2a8fc25)
"
openstack%2Fneutron~stable%2Fwallaby~I9f4763efc02e5cacca3a00e9f101f83d3f3fb1e7,openstack/neutron,stable/wallaby,bug/1940009,I9f4763efc02e5cacca3a00e9f101f83d3f3fb1e7,Add missing options to generated neutron.conf,MERGED,2021-08-21 08:14:12.000000000,2021-08-23 21:21:54.000000000,2021-08-23 21:19:59.000000000,4,0,0,805289,fb1682a3e1fe0621c6e7205d658344873905e5e0,12,3,1,1,9816,Takashi Kajinami,kajinamit,"Add missing options to generated neutron.conf

This change adds missing oslo.config.opts endpoints to the config file
to generated neutron.conf, so that the following options are included
in the neutron.conf generated by the oslo-config-generator command.

1) Some options of the oslo.service library, related to periodic tasks
   and base service implementation

2) Options of the oslo.reports library

3) Options of the healthcheck middleware from oslo.middleware

Closes-Bug: #1940009
Change-Id: I9f4763efc02e5cacca3a00e9f101f83d3f3fb1e7
(cherry picked from commit c75df16e5021e28aaa9961ed0977f30fa278a1dc)
"
openstack%2Fglance~master~Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1,openstack/glance,master,policy-refactor,Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1,"Check deactivate, reactivate policy in the API",MERGED,2021-06-28 09:06:27.000000000,2021-08-23 21:21:43.000000000,2021-08-23 21:20:12.000000000,327,6,10,798266,82111150d603d8a445876afbfce67b47aee39bf7,84,4,30,5,9303,Abhishek Kekane,abhishekkekane,"Check deactivate, reactivate policy in the API

Move deactivate/reactivate policy changes in API layer.

Partially-Implements: blueprint policy-refactor

Change-Id: Ia6e51228aee1ddf09734f922c5f6f3eb4ece60c1
"
openstack%2Fopenstacksdk~master~Ia4e71a5ab02516a8ef40a94590b5c9092eab5fa5,openstack/openstacksdk,master,adapt-decorate,Ia4e71a5ab02516a8ef40a94590b5c9092eab5fa5,Fix key generation for caching,MERGED,2021-08-13 14:49:43.000000000,2021-08-23 21:21:40.000000000,2021-08-23 21:20:02.000000000,2,1,2,804530,d0d4d8bc64da62dc8338e307b4f736cd0b1f5f49,17,6,2,1,13252,Dr. Jens Harbott,jrosenboom,"Fix key generation for caching

With a new major version of decorate, the list of args may be non-empty
for the first time, exposing some issue in our handling. Ignore them
for now in order to unblock gating.

Task: 43007
Change-Id: Ia4e71a5ab02516a8ef40a94590b5c9092eab5fa5
"
openstack%2Fpython-openstackclient~master~I0bbffbec8889b8b3067cfe17d258f5cb16624f38,openstack/python-openstackclient,master,,I0bbffbec8889b8b3067cfe17d258f5cb16624f38,Replace assertItemsEqual with assertCountEqual,MERGED,2021-05-03 20:08:01.000000000,2021-08-23 21:21:38.000000000,2021-08-23 21:20:16.000000000,292,292,0,789410,e82a05864f482acc485d1bd35a4db23452f8b2ac,15,5,1,32,6593,Dirk Mueller,dmllr,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I0bbffbec8889b8b3067cfe17d258f5cb16624f38
"
openstack%2Fopenstack-tempest-skiplist~master~Ib175637391e57a5cb56e6b4cbe70e09cbfe4b516,openstack/openstack-tempest-skiplist,master,skip_volume_boot_pattern,Ib175637391e57a5cb56e6b4cbe70e09cbfe4b516,Skip TestSnapshotPattern and TestVolumeBootPattern,MERGED,2021-08-23 20:58:33.000000000,2021-08-23 21:14:38.000000000,2021-08-23 21:13:16.000000000,28,0,0,805708,b3aabb3d7beb63a5e67ea776fadd8f1cf470927f,8,3,1,1,30002,Douglas Viroel,dviroel,"Skip TestSnapshotPattern and TestVolumeBootPattern

As described in bug #1940866, these tests are frequently failing,
so we are moving them to skiplist to unblock the following jobs:
 - tripleo-ci-centos-8-scenario001-standalone
 - periodic-tripleo-ci-centos-8-scenario001-standalone-master
 - periodic-tripleo-ci-centos-8-scenario001-standalone-wallaby

Related-Bug: #1940866
Change-Id: Ib175637391e57a5cb56e6b4cbe70e09cbfe4b516
"
openstack%2Freleases~master~Icad356b7c9df113989f8a38c3905f9954b1d3748,openstack/releases,master,ocata-eol,Icad356b7c9df113989f8a38c3905f9954b1d3748,[oslo] Transition Ocata to End of Life,MERGED,2021-08-13 08:11:15.000000000,2021-08-23 20:58:24.000000000,2021-08-23 20:58:24.000000000,12,0,0,804492,ad5816f2060e9567ac207575029f202670e78b70,8,3,1,1,17685,Elod Illes,elod.illes,"[oslo] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Icad356b7c9df113989f8a38c3905f9954b1d3748
"
openstack%2Freleases~master~If894ff6d4cddcc7aec3ef9254113469e2c92b099,openstack/releases,master,xena-final-non-client-libs,If894ff6d4cddcc7aec3ef9254113469e2c92b099,Release final oslo.messaging for Xena,MERGED,2021-08-16 09:53:19.000000000,2021-08-23 20:53:14.000000000,2021-08-23 20:53:14.000000000,4,0,0,804677,4fd9c444ca57917341d775b948f1821db3236905,11,3,1,1,28522,Hervé Beraud,hberaud,"Release final oslo.messaging for Xena

This proposed a release for oslo.messaging to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 12.8.0..ee5eed86
bdbb6d62 Add Support For oslo.metrics
3e589edd Changed minversion in tox to 3.18.0
c1f9fbea Upgrade the pre-commit-hooks version
daca2549 setup.cfg: Replace dashes with underscores
39826f06 Remove the oslo_utils.fnmatch

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: If894ff6d4cddcc7aec3ef9254113469e2c92b099
"
openstack%2Freleases~master~Ia50cd1dd931e2ab21899f40dc1d30c346f0f1ed0,openstack/releases,master,not-yet-released,Ia50cd1dd931e2ab21899f40dc1d30c346f0f1ed0,[barbican] Propose to switch the release model,MERGED,2021-08-02 14:35:45.000000000,2021-08-23 20:51:34.000000000,2021-08-23 20:51:34.000000000,3,3,0,803216,93679be2fd985ad7a9f6b7f5072e4c9013b0531c,11,5,1,3,28522,Hervé Beraud,hberaud,"[barbican] Propose to switch the release model

Intermediary-released deliverables that did release only once during
the last cycle, and have not done a release yet are good candidates
to switch to the cycle-with-rc model, which is much more suitable for
deliverables that are only released once per cycle.

These changes are not mandatory and this patch is a conveniences to
highlight this point and open the discussion.

PTLs and release liaisons please decide to:
- immediately release an intermediary release (and -1 the proposed change)
- confirm the release model change (+1 the proposed change)
- stay uncertain for this cycle of how many releases will be made, but
  acknowledge that they need to do a release before RC1 (-1 the proposed
  change)

Change-Id: Ia50cd1dd931e2ab21899f40dc1d30c346f0f1ed0
"
openstack%2Fnova~stable%2Fwallaby~I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea,openstack/nova,stable/wallaby,bug/1928063,I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea,image_meta: Provide image_ref as the id when fetching from instance,NEW,2021-05-27 09:54:41.000000000,2021-08-23 20:44:12.000000000,,149,105,0,793354,a2791fb5d2ae30d2861c2f04627eb48df01a30e7,13,2,1,12,10135,Lee Yarwood,lyarwood,"image_meta: Provide image_ref as the id when fetching from instance

At present various users of instance.image_meta expect it to be a fully
populated ImageMeta object. However when the instance is pulled from the
database the ImageMeta object is only partially populated via
instance.system_metadata with a limited set of attributes such as
min_ram, min_disk, disk_format and container_format. This can result in
NotImplementedErrors being raised by o.vo as seen in bug #1928063 when
an attempt is made to access common attributes such as id or name.

To avoid this the id is now provided by instance.image_ref when
available.

The majority of the change is test fallout and ensuring that valid UUIDs
are provided as instance.image_ref and used by instance.image_meta.

Related-Bug: #1928063
Change-Id: I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea
(cherry picked from commit 9d037f7d199443da0f2c6c1755704e589d52e730)
"
openstack%2Freleases~master~Ib225dd8ed32fbd609152cf01a1260060fda1e5b2,openstack/releases,master,xena-final-non-client-libs,Ib225dd8ed32fbd609152cf01a1260060fda1e5b2,Release final os-brick for Xena,MERGED,2021-08-16 09:41:41.000000000,2021-08-23 20:41:52.000000000,2021-08-23 20:41:52.000000000,7,0,1,804670,498dcdb217d1cb9b6d77f8e3befc9ea2e6a3d4ac,18,4,3,1,28522,Hervé Beraud,hberaud,"Release final os-brick for Xena

Release os-brick 5.0.0 and cut the stable/xena branch.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ib225dd8ed32fbd609152cf01a1260060fda1e5b2
"
openstack%2Freleases~master~I0af4b15e95d2b2cbcec01bd3f99ca578d0006740,openstack/releases,master,train-last,I0af4b15e95d2b2cbcec01bd3f99ca578d0006740,[barbican-tempest-plugin] Tag train-last,MERGED,2021-07-17 00:06:39.000000000,2021-08-23 20:41:50.000000000,2021-08-23 20:41:50.000000000,9,0,1,801167,e2ac58fb1fe4d6c0c26a8ace9ab6f6d912a64839,13,5,1,2,8556,Ghanshyam,ghanshyam,"[barbican-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I0af4b15e95d2b2cbcec01bd3f99ca578d0006740
"
openstack%2Ftempest~master~I8bec628a07a4e555a95d542c87fa76f6c464f1d9,openstack/tempest,master,,I8bec628a07a4e555a95d542c87fa76f6c464f1d9,Updating NON_ACTIVE_LIST,MERGED,2021-06-16 15:23:19.000000000,2021-08-23 20:30:22.000000000,2021-08-23 20:28:54.000000000,19,14,15,796698,f36272029ece166254acc2221fb678ac5e09b19e,47,3,20,1,33379,Anand Bhat,anandgvb,"Updating NON_ACTIVE_LIST

*vmware-nsx-tempest-plugin,networking-l2gw-tempest-plugin
 x/tap-as-a-service are removed from the list

*Updating comments for required projects

Change-Id: I8bec628a07a4e555a95d542c87fa76f6c464f1d9
"
openstack%2Fopenstack-helm~master~Idb4b992b4061f4a014570b7933a585df1a096299,openstack/openstack-helm,master,glance-annotations,Idb4b992b4061f4a014570b7933a585df1a096299,Added helm.sh/hook annotations for jobs in glance chart.,MERGED,2021-03-17 12:46:25.000000000,2021-08-23 20:02:35.000000000,2021-08-23 20:01:01.000000000,76,1,3,781091,30fbdb6748c5b19d4b4d1ff7124598113aab1cc6,33,10,5,13,33130,Susanta gautam,sgautam,"Added helm.sh/hook annotations for jobs in glance chart.

Chart upgrading was failing due to some immutable fields in job are needed to upgrade. So, we have added the helm.sh/hook annotations with post-install and post-upgrade values. As for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like, db-init jobs need to run before db-sync and so on. Also helm3_hook value is introduced in values.yaml, which can be used to disable helm hook if needed.

Change-Id: Idb4b992b4061f4a014570b7933a585df1a096299
"
openstack%2Ftripleo-ansible~master~Id12c0971fd1c52d92a0983917fe12d42f27364f8,openstack/tripleo-ansible,master,remove_stack_action,Id12c0971fd1c52d92a0983917fe12d42f27364f8,Remove stack_action from Octavia deployment,MERGED,2021-07-19 12:54:07.000000000,2021-08-23 20:02:15.000000000,2021-08-23 20:02:15.000000000,0,3,1,801299,b26666e9f942eb2e63e06abb0fcb426b4b332e69,26,9,4,2,30073,Brendan Shephard,bshephar,"Remove stack_action from Octavia deployment

Due to ephemeral Heat, the stack_action will now
always be CREATE. This breaks certain jobs relying on
the UPDATE action. In the case of Octavia, relying
on generate_certs alone should be enough.

Partial-Bug: #1936138
Change-Id: Id12c0971fd1c52d92a0983917fe12d42f27364f8
"
openstack%2Fpython-tripleoclient~master~I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295,openstack/python-tripleoclient,master,validationlogpath/override,I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295,Overriding the log path argument for tripleoclient cli,MERGED,2021-06-03 12:33:33.000000000,2021-08-23 19:55:32.000000000,2021-08-23 19:53:58.000000000,8,1,14,794577,812681dc6bdfb212076dd3b6dfce2eeabffeb0f1,54,9,15,2,32926,Jiri Podivin,jpodivin,"Overriding the log path argument for tripleoclient cli

Depends-On: https://review.opendev.org/c/openstack/cliff/+/794792
Depends-On: https://review.opendev.org/c/openstack/requirements/+/803761

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I0d1f5f7fbd35d69ec9f0e44aab0831e0de875295
"
openstack%2Fnova~stable%2Ftrain~I2bd360dcc6501feea7baf02d4510b282205fc061,openstack/nova,stable/train,bug/1882094,I2bd360dcc6501feea7baf02d4510b282205fc061,Initialize global data separately and run_once in WSGI app init,NEW,2021-04-06 22:28:45.000000000,2021-08-23 19:44:34.000000000,,113,2,1,785064,809c60704f983c0e5ebb73d0ff2d4393bda189e2,20,3,4,3,4690,melanie witt,melwitt,"Initialize global data separately and run_once in WSGI app init

NOTE(melwitt): This is a combination of two changes to avoid
intermittent test failure that was introduced by the original bug fix,
and was fixed by change I2bd360dcc6501feea7baf02d4510b282205fc061.

We have discovered that if an exception is raised at any point during
the running of the init_application WSGI script in an apache/mod_wsgi
Daemon Mode environment, it will prompt apache/mod_wsgi to re-run the
script without starting a fresh python process. Because we initialize
global data structures during app init, subsequent runs of the script
blow up as some global data do *not* support re-initialization. It is
anyway not safe to assume that init of global data is safe to run
multiple times.

This mod_wsgi behavior appears to be a special situation that does not
behave the same as a normal reload in Daemon Mode as the script file is
being reloaded upon failure instead of the daemon process being
shutdown and restarted as described in the documentation [1].

In order to handle this situation, we can move the initialization of
global data structures to a helper method that is decorated to run only
once per python interpreter instance. This way, we will not attempt to
re-initialize global data that are not safe to init more than once.

Co-Authored-By: Michele Baldessari <michele@redhat.com>
Co-Authored-By: melanie witt <melwittt@gmail.com>

Closes-Bug: #1882094

NOTE(melwitt): The differences from the original change are because
the following changes are not in Train:

  * Ie15ec8299ae52ae8f5334d591ed3944e9585cf71 (Prevent starting services
    with older than N-1 computes)
  * If5808075d853341bf274f35b7fcf0e0712f8f77a (trivial: Remove
    'run_once' helper)

[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode

Reset global wsgi app state in unit test

Since I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state
set during the wsgi_app init making our unit test cases
non-deterministic based on the order of them. This patch makes sure
that the global state is reset for each test case.

Closes-Bug: #1921098
(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)

Change-Id: I2bd360dcc6501feea7baf02d4510b282205fc061
(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)
(cherry picked from commit e3085fa6310ddeaafa493c3f718aab0ce64f0994)
(cherry picked from commit 59249697bf09ca1a560defdd550be7e3c439b5b7)
"
openstack%2Fnova~master~I8283c3e76c595cb32527d1b8745933d044e22734,openstack/nova,master,vmware_with_retrieval,I8283c3e76c595cb32527d1b8745933d044e22734,VMWare: Use WithRetrieval to get all results,MERGED,2021-08-18 08:54:54.000000000,2021-08-23 19:34:56.000000000,2021-08-23 19:32:50.000000000,93,109,5,804968,d31b26e09d469748f2ae2cc1e5f6f57401834adc,20,3,1,6,24434,Fabian Wiesel,fwiesel,"VMWare: Use WithRetrieval to get all results

In various places, own version of iterating over the results are implemented,
sometimes even faulty.
The following functions where only getting up to vmware.maximum_objects objects (100 by default)
vm_util.get_all_cluster_mors, vm_util.get_stats_from_cluster.

Previously, the results were fetched in batches of up to vmware.maximum_objects items.
Using WithRetrieval yields an iterator to the results, which pages transparently to
the next request.
Consumers of the output of the results where changed to work on an iterator, where easily
possible.

Replaced the quadratic algorithm in `ds_util._filter_datastores_matching_storage_policy`
with one of O(n log(n)) runtime

Closes-Bug: #1940399
Change-Id: I8283c3e76c595cb32527d1b8745933d044e22734
"
openstack%2Frequirements~master~Ibb14983265f510ca09bb4f76c1d807e787b6b4a4,openstack/requirements,master,new-release,Ibb14983265f510ca09bb4f76c1d807e787b6b4a4,update constraint for os-traits to new release 2.6.0,MERGED,2021-08-23 10:41:43.000000000,2021-08-23 19:34:21.000000000,2021-08-23 19:32:55.000000000,1,1,0,805612,5f97046379c3978a65a8e1ca60164d771c2847b0,10,4,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for os-traits to new release 2.6.0

meta: version: 2.6.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Előd Illés <elod.illes@est.tech>
meta: release:Commit: Előd Illés <elod.illes@est.tech>
meta: release:Change-Id: Ib7ea3283180820bac345802912488ec508b78d47
meta: release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ibb14983265f510ca09bb4f76c1d807e787b6b4a4
"
openstack%2Fpuppet-ironic~stable%2Fvictoria~I27fa53700c1b44f14725bc66b929732553da58f8,openstack/puppet-ironic,stable/victoria,,I27fa53700c1b44f14725bc66b929732553da58f8,Fix ppc64le support to coexist with PXE preference,MERGED,2021-08-12 16:46:40.000000000,2021-08-23 18:54:29.000000000,2021-08-23 18:53:05.000000000,60,11,1,804348,91e2b2a96ccb7e926f527a09302ec9ff898ba885,19,4,1,4,11655,Julia Kreger,jkreger,"Fix ppc64le support to coexist with PXE preference

In essence, the pxe preference doesn't apply to ppc64le.

This is because PXE data loading is part of the firmware and
does not use an intermediate boot loader like ipxe, syslinux,
or even grub.

Changes the logic to always set the stage for PXE based
deployments and enables boot setting awareness for ppc64le
based on the TFTP defaults. This allows ppc64le to coexist
with an environment preferring HTTP transport like those
used with iPXE.

Change-Id: I27fa53700c1b44f14725bc66b929732553da58f8
(cherry picked from commit da503fd5ceabb5bd466e45f1da51442ef66d8ce7)
(cherry picked from commit 08dbff6c537628d40798a07c7a21e76f8e171944)
"
openstack%2Fcharm-ceph-dashboard~master~I6a90d7afde2266e2dfa535d05e022a544914124a,openstack/charm-ceph-dashboard,master,gate-on-mons,I6a90d7afde2266e2dfa535d05e022a544914124a,Watch for config changed and gate on mons,MERGED,2021-08-19 13:23:51.000000000,2021-08-23 18:54:02.000000000,2021-08-23 18:54:02.000000000,57,7,1,805216,765c7cfd58e6faf813ed5558c4f0b2d9ef43ae7e,17,3,3,5,12549,gnuoy,gnuoy,"Watch for config changed and gate on mons

Setup observer for config-changed events and get configuring the
dashboard on all the mons reporting ready.

Change-Id: I6a90d7afde2266e2dfa535d05e022a544914124a
"
openstack%2Fopenstack-helm~master~I0fb1203f22ddd6e707eeb80f72a3685c3b9c350f,openstack/openstack-helm,master,,I0fb1203f22ddd6e707eeb80f72a3685c3b9c350f,Fix enable password retrieve config value,MERGED,2021-08-19 14:19:34.000000000,2021-08-23 18:49:32.000000000,2021-08-23 18:47:58.000000000,3,2,0,805229,764affd1ebbcd6db2f7532e34e25d1e9b2607c5f,9,4,1,3,31746,Oleksandr Kozachenko,okozachenko,"Fix enable password retrieve config value

Now OPENSTACK_ENABLE_PASSWORD_RETRIEVE value is string so always
get true regardless of the config value.

Change-Id: I0fb1203f22ddd6e707eeb80f72a3685c3b9c350f
"
openstack%2Fdesignate~master~I4bcd159555907bea9d111147a0d23726acb62eb4,openstack/designate,master,,I4bcd159555907bea9d111147a0d23726acb62eb4,DNM: Gate test - designate-manage failure,ABANDONED,2021-07-27 23:29:52.000000000,2021-08-23 18:44:52.000000000,,1,0,0,802635,4b96fd6b75daaefde393f5d5f0313b357b7dda26,8,2,2,1,11628,Michael Johnson,johnsom,"DNM: Gate test - designate-manage failure

Change-Id: I4bcd159555907bea9d111147a0d23726acb62eb4
"
openstack%2Fcharms.openstack~stable%2F21.04~I9038c9785a4f36b854a1fb7e8d5baaf91a99c70e,openstack/charms.openstack,stable/21.04,openstack-release-package,I9038c9785a4f36b854a1fb7e8d5baaf91a99c70e,Use openstack-release package to determine codename,MERGED,2021-04-23 13:14:19.000000000,2021-08-23 18:12:32.000000000,2021-08-23 18:12:32.000000000,22,0,0,787611,9b4972667e7dd4b09d5fd5d0d8acb9497c7d0639,26,7,3,2,31289,Aurelien Lourot,lourot,"Use openstack-release package to determine codename

The use of package versions to look up OpenStack codenames is
deprecated for in favor of using the openstack-release package.
The openstack-release package is available for Wallaby onward.

Change-Id: I9038c9785a4f36b854a1fb7e8d5baaf91a99c70e
(cherry picked from commit 8960e070f2ffdc514b949b3e4c2d59a6f93dfc15)
"
openstack%2Fcinder~master~Icf2cfa555e3e0fe740d203c23090c31cf4ba4a0d,openstack/cinder,master,bug/1938457,Icf2cfa555e3e0fe740d203c23090c31cf4ba4a0d,[svf] Fix rccg_name based on group display_name,NEW,2021-05-24 10:49:21.000000000,2021-08-23 17:53:17.000000000,,31,3,2,792800,6d4f031ec72359fcea23b43862d7a2f0c9c56a92,383,6,5,3,32266,Venkata krishna Thumu,venkatakrishnathumu,"[svf] Fix rccg_name based on group display_name

[Spectrum Virtualize Family] Updating rccg_name with the combination of the
display_name of a group given by an user and a few characters from group id.
The new format of rccg_name solves the customer issue to identify the
display_name of a group easily based on the resulted rccg_name. At present,
putting more effort to identify the group display_name as rccg_name contains
a part of group id but not display_name.

Closes-Bug: #1938457

Change-Id: Icf2cfa555e3e0fe740d203c23090c31cf4ba4a0d
"
openstack%2Fnova~stable%2Ftrain~I8296e4be9f0706fab043451b856efadbb7bd41f6,openstack/nova,stable/train,bug/1929886,I8296e4be9f0706fab043451b856efadbb7bd41f6,Honor [neutron]http_retries in the manual client,NEW,2021-06-07 20:20:53.000000000,2021-08-23 17:46:40.000000000,,3,0,0,795177,74e6c821fcb8f686a9b91c093b1db834b59c2856,8,2,1,2,4690,melanie witt,melwitt,"Honor [neutron]http_retries in the manual client

Change Ifb3afb13aff7e103c2e80ade817d0e63b624604a added a nova side
config option for specifying neutron client retries that maps to the
ksa connect_retries config option to provide parity with the cinder and
glance clients that have nova side config options.

That change missed passing CONF.neutron.http_retries to the manual
client used for calling the port binding API. This sets the
connect_retries attribute on the manual ksa client so http_retries
will be honored.

Closes-Bug: #1929886
Related-Bug: #1866937

Change-Id: I8296e4be9f0706fab043451b856efadbb7bd41f6
(cherry picked from commit 56eb253e9febccf721df6bca4eb851ad26cb70a6)
(cherry picked from commit 46aa3f4ec769e948d9eb73604bf9b66f4b0230b0)
(cherry picked from commit f20346bc00a30c914cbefb48009db776f8e00b09)
(cherry picked from commit b96f93ed8633d6fd0725c4a11366ffbf38056e65)
"
openstack%2Ftripleo-ci~master~I5d01bda89d7e80c1ff3d1718fa88351825a02302,openstack/tripleo-ci,master,,I5d01bda89d7e80c1ff3d1718fa88351825a02302,add tripleo-common checkout to content-provider,MERGED,2021-08-18 16:54:57.000000000,2021-08-23 17:42:31.000000000,2021-08-23 17:42:31.000000000,2,0,0,805061,5493582fc91af83dba5bfd75d9973c1074be5d1a,15,4,1,1,9592,wes hayutin,weshayutin,"add tripleo-common checkout to content-provider

Let's ensure tc is on the local filesystem
for the content provider so we can read in
tripleo-containers.yml for container image builds

Change-Id: I5d01bda89d7e80c1ff3d1718fa88351825a02302
"
openstack%2Fneutron-lib~master~Icd66a4ce29fd3bdf3610157006a42416bb12cd54,openstack/neutron-lib,master,bug/1922237,Icd66a4ce29fd3bdf3610157006a42416bb12cd54,"Add missing default ""direction"" value to ""qos-pps-minimum""",MERGED,2021-08-20 14:31:49.000000000,2021-08-23 17:26:32.000000000,2021-08-23 17:24:58.000000000,1,1,2,805395,e8b398ed6b09e733a7c228766cb6744868402432,14,4,2,1,16688,Rodolfo Alonso,rodolfo-alonso-hernandez,"Add missing default ""direction"" value to ""qos-pps-minimum""

All QoS rule types with ""direction"" parameter have ""egress"" as default
value.

Change-Id: Icd66a4ce29fd3bdf3610157006a42416bb12cd54
Related-Bug: #1922237
"
openstack%2Fpuppet-ironic~master~I549d2217668d84f170b5c7a989c2acf2b9a0e16a,openstack/puppet-ironic,master,ensure-tftp-root,I549d2217668d84f170b5c7a989c2acf2b9a0e16a,Ensure tftp root directory is created,MERGED,2021-08-22 12:50:14.000000000,2021-08-23 17:18:36.000000000,2021-08-23 17:18:36.000000000,12,5,0,805530,01124971611486a8cc255bd8cde6423a8c44f427,8,3,2,1,9816,Takashi Kajinami,kajinamit,"Ensure tftp root directory is created

... before creating any file under the directory.

Change-Id: I549d2217668d84f170b5c7a989c2acf2b9a0e16a
"
openstack%2Fopenstack-helm-addons~master~I75ecd13540db846dd700ff0b6c611c74f462ad72,openstack/openstack-helm-addons,master,,I75ecd13540db846dd700ff0b6c611c74f462ad72,Remove shaker residue,MERGED,2021-06-29 02:35:21.000000000,2021-08-23 17:16:37.000000000,2021-08-23 17:09:06.000000000,0,286,0,798403,275ff716423baccbaf52f610a1e6f1c5c6de87a8,8,4,1,1,30449,jinyuanliu,jinyuanliu,"Remove shaker residue

About shaker chart, It's been removed.

Change-Id: I75ecd13540db846dd700ff0b6c611c74f462ad72
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~Ifdbac876013068855cd4405ca1bbacd262ec4d74,openstack/openstack-ansible,stable/victoria,,Ifdbac876013068855cd4405ca1bbacd262ec4d74,Fix permissions for files created on repo server,MERGED,2021-08-16 10:32:34.000000000,2021-08-23 17:15:51.000000000,2021-08-23 17:13:46.000000000,6,0,0,804693,1c4dd4967bafa2afbe6c0980044770649c3bb9f9,17,3,1,1,31542,Andrew Bonney,andrewbonney,"Fix permissions for files created on repo server

If wheels or requirements files are created on a secondary
repo server these cannot be modified/deleted by the primary
repo server when it comes back online as this uses rsync as the
'nginx' user. This patch allows the owner of the created files
to be set explicitly to avoid this issue.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/804073
Change-Id: Ifdbac876013068855cd4405ca1bbacd262ec4d74
"
openstack%2Felection~master~I4e696ed130da77c7d6edad8b16aca31e79310810,openstack/election,master,,I4e696ed130da77c7d6edad8b16aca31e79310810,Adding Gregory Thiemonge candidacy for Octavia PTL,MERGED,2021-08-23 16:35:56.000000000,2021-08-23 17:06:18.000000000,2021-08-23 17:02:06.000000000,14,0,0,805662,dd1c5b7652f6c1c7fe04b3c33e055a3f84458b0a,8,3,1,1,29244,Gregory Thiemonge,gthiemonge,"Adding Gregory Thiemonge candidacy for Octavia PTL

Change-Id: I4e696ed130da77c7d6edad8b16aca31e79310810
"
openstack%2Fnova~stable%2Fussuri~I66299e97bdb5b95e149b1780231a1c1bbdbd9865,openstack/nova,stable/ussuri,bug/1928063,I66299e97bdb5b95e149b1780231a1c1bbdbd9865,hardware: Use image_meta.id within get_mem_encryption_constraint,NEW,2021-06-01 12:17:07.000000000,2021-08-23 17:04:04.000000000,,10,15,0,793958,fcec038c3b6e8cc457c4b7476d3ab06a1c569e93,9,1,2,3,10135,Lee Yarwood,lyarwood,"hardware: Use image_meta.id within get_mem_encryption_constraint

This change resolves bug #1928063 by replacing the use of
image_meta.name with image_meta.id as
I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea should ensure it is always
available. The removal of other references to image_meta.name within
virt.hardware is left for follow ups to keep this change small and
backportable.

NOTE(lyarwood): A simple func test conflict caused by
I921c812ac03f7d32eec31200772020c17f292851 not being present in
stable/wallaby. An additional change is made to the test to ensure
_has_uefi_support passes regardless of the underlying host running the
tests.

Conflicts:
    nova/tests/functional/regressions/test_bug_1928063.py

Closes-Bug: #1928063
Change-Id: I66299e97bdb5b95e149b1780231a1c1bbdbd9865
(cherry picked from commit e98994027f0af0b22277bcfaed4ab6e6f4a2c74e)
(cherry picked from commit 625e4e0fab5a34aa9f0b2f4a94f1559362821a37)
(cherry picked from commit 880a7d77a66f89ff9e95029c5f1f4a22bb5777b3)
"
openstack%2Fnova~stable%2Fvictoria~I66299e97bdb5b95e149b1780231a1c1bbdbd9865,openstack/nova,stable/victoria,bug/1928063,I66299e97bdb5b95e149b1780231a1c1bbdbd9865,hardware: Use image_meta.id within get_mem_encryption_constraint,NEW,2021-06-01 12:16:25.000000000,2021-08-23 17:04:00.000000000,,7,15,0,793957,880a7d77a66f89ff9e95029c5f1f4a22bb5777b3,5,1,1,3,10135,Lee Yarwood,lyarwood,"hardware: Use image_meta.id within get_mem_encryption_constraint

This change resolves bug #1928063 by replacing the use of
image_meta.name with image_meta.id as
I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea should ensure it is always
available. The removal of other references to image_meta.name within
virt.hardware is left for follow ups to keep this change small and
backportable.

NOTE(lyarwood): A simple func test conflict caused by
I921c812ac03f7d32eec31200772020c17f292851 not being present in
stable/wallaby.

Conflicts:
    nova/tests/functional/regressions/test_bug_1928063.py

Closes-Bug: #1928063
Change-Id: I66299e97bdb5b95e149b1780231a1c1bbdbd9865
(cherry picked from commit e98994027f0af0b22277bcfaed4ab6e6f4a2c74e)
(cherry picked from commit 625e4e0fab5a34aa9f0b2f4a94f1559362821a37)
"
openstack%2Fnova~stable%2Fwallaby~I66299e97bdb5b95e149b1780231a1c1bbdbd9865,openstack/nova,stable/wallaby,bug/1928063,I66299e97bdb5b95e149b1780231a1c1bbdbd9865,hardware: Use image_meta.id within get_mem_encryption_constraint,NEW,2021-06-01 12:15:15.000000000,2021-08-23 17:03:52.000000000,,7,15,0,793956,625e4e0fab5a34aa9f0b2f4a94f1559362821a37,10,2,1,3,10135,Lee Yarwood,lyarwood,"hardware: Use image_meta.id within get_mem_encryption_constraint

This change resolves bug #1928063 by replacing the use of
image_meta.name with image_meta.id as
I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea should ensure it is always
available. The removal of other references to image_meta.name within
virt.hardware is left for follow ups to keep this change small and
backportable.

NOTE(lyarwood): A simple func test conflict caused by
I921c812ac03f7d32eec31200772020c17f292851 not being present in
stable/wallaby.

Conflicts:
    nova/tests/functional/regressions/test_bug_1928063.py

Closes-Bug: #1928063
Change-Id: I66299e97bdb5b95e149b1780231a1c1bbdbd9865
(cherry picked from commit e98994027f0af0b22277bcfaed4ab6e6f4a2c74e)
"
openstack%2Fnova~stable%2Ftrain~I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea,openstack/nova,stable/train,bug/1928063,I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea,image_meta: Provide image_ref as the id when fetching from instance,NEW,2021-06-01 20:50:26.000000000,2021-08-23 17:03:13.000000000,,125,91,0,794042,97ca8a8728250fe612f6fc9ecd29caa0e78e36c7,5,1,1,11,10135,Lee Yarwood,lyarwood,"image_meta: Provide image_ref as the id when fetching from instance

At present various users of instance.image_meta expect it to be a fully
populated ImageMeta object. However when the instance is pulled from the
database the ImageMeta object is only partially populated via
instance.system_metadata with a limited set of attributes such as
min_ram, min_disk, disk_format and container_format. This can result in
NotImplementedErrors being raised by o.vo as seen in bug #1928063 when
an attempt is made to access common attributes such as id or name.

To avoid this the id is now provided by instance.image_ref when
available.

The majority of the change is test fallout and ensuring that valid UUIDs
are provided as instance.image_ref and used by instance.image_meta.

NOTE(lyarwood): Conflicts caused by
I3eac9ac0a2a698a3c72b4e646cdcaf293ec4b057,
I25eff0271c856a8d3e83867b448e1dec6f6732ab and
I0b81282eba8238d8b64a67e38cf9d6392de1f85c not being present on
stable/train.

Conflicts:
  nova/tests/unit/api/openstack/compute/test_serversV21.py
  nova/tests/unit/compute/test_compute_api.py
  nova/tests/unit/virt/libvirt/test_driver.py

Related-Bug: #1928063
Change-Id: I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea
(cherry picked from commit 9d037f7d199443da0f2c6c1755704e589d52e730)
(cherry picked from commit a2791fb5d2ae30d2861c2f04627eb48df01a30e7)
(cherry picked from commit bc579db23a259dd0061fbba3f56655eea2b798e7)
(cherry picked from commit b383f17dfbc2e7ff3fc099a5f276ae646ce0ece3)
"
openstack%2Fnova~stable%2Fussuri~I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea,openstack/nova,stable/ussuri,bug/1928063,I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea,image_meta: Provide image_ref as the id when fetching from instance,NEW,2021-05-27 10:49:02.000000000,2021-08-23 17:03:08.000000000,,145,102,0,793374,b383f17dfbc2e7ff3fc099a5f276ae646ce0ece3,5,1,1,11,10135,Lee Yarwood,lyarwood,"image_meta: Provide image_ref as the id when fetching from instance

At present various users of instance.image_meta expect it to be a fully
populated ImageMeta object. However when the instance is pulled from the
database the ImageMeta object is only partially populated via
instance.system_metadata with a limited set of attributes such as
min_ram, min_disk, disk_format and container_format. This can result in
NotImplementedErrors being raised by o.vo as seen in bug #1928063 when
an attempt is made to access common attributes such as id or name.

To avoid this the id is now provided by instance.image_ref when
available.

The majority of the change is test fallout and ensuring that valid UUIDs
are provided as instance.image_ref and used by instance.image_meta.

NOTE(lyarwood): Conflicts as I67504a37b0fe2ae5da3cba2f3122d9d0e18b9481
and I1ff51f608b85dbb621814e70079ecfdd3d1a1d22 are not present in
stable/ussuri.

Conflicts:
  nova/tests/unit/compute/test_compute.py
  nova/tests/unit/virt/libvirt/test_driver.py

Related-Bug: #1928063
Change-Id: I55d66c3a6cbd50da90065f4a58f77b5cd29ce9ea
(cherry picked from commit 9d037f7d199443da0f2c6c1755704e589d52e730)
(cherry picked from commit a2791fb5d2ae30d2861c2f04627eb48df01a30e7)
(cherry picked from commit bc579db23a259dd0061fbba3f56655eea2b798e7)
"
openstack%2Fnova~stable%2Fvictoria~Ieb19b4e5ffde56b7f72805aa231f595f45989e60,openstack/nova,stable/victoria,bug/1928063,Ieb19b4e5ffde56b7f72805aa231f595f45989e60,Add regression test for bug #1928063,NEW,2021-05-25 08:03:14.000000000,2021-08-23 17:02:13.000000000,,69,0,0,792903,464e5a3dd8a823fc0efa4e2d630fb66179b2ddf5,4,1,1,1,10135,Lee Yarwood,lyarwood,"Add regression test for bug #1928063

Related-Bug: #1928063
Change-Id: Ieb19b4e5ffde56b7f72805aa231f595f45989e60
(cherry picked from commit e1cc0ed978d40596d368ba19063fb5b51e96421e)
(cherry picked from commit 75f223097f9744edb93db0fedb0b16a0e4860c01)
"
openstack%2Fnova~stable%2Fussuri~Ieb19b4e5ffde56b7f72805aa231f595f45989e60,openstack/nova,stable/ussuri,bug/1928063,Ieb19b4e5ffde56b7f72805aa231f595f45989e60,Add regression test for bug #1928063,NEW,2021-05-27 10:49:02.000000000,2021-08-23 17:02:08.000000000,,78,0,0,793372,8ff1ccfba542e9ffb027aa5fb91e7c9080264f9a,4,1,1,1,10135,Lee Yarwood,lyarwood,"Add regression test for bug #1928063

NOTE(lyarwood): The following changes were required on stable/ussuri:

* We no longer use the latest microversion as the base ServersTestBase
  class inherits from nova.tests.functional.test_servers.base instead of
  integrated_helpers._IntegratedTestBase as introduced by
  I999fc4aaf14cca02e4ed730afb844a043b59530c in stable/victoria.

* start_computes is used to launch the libvirt based compute service as
  I79a16a0a62c6060cd3062174ce68fd8cbde9f3fc is not present on
  stable/ussuri.

* The fake_image_service is now used as
  I6daea47988181dfa6dde3d9c42004c0ecf6ae87a is not present on
  stable/ussuri. This includes switching to calling .show to deepcopy
  an original image from the fixture.

* _reboot_server is inlined from
  I03bcd6753ed776d2ee216dcdca48514e5da8c43e.

Related-Bug: #1928063
Change-Id: Ieb19b4e5ffde56b7f72805aa231f595f45989e60
(cherry picked from commit e1cc0ed978d40596d368ba19063fb5b51e96421e)
(cherry picked from commit 75f223097f9744edb93db0fedb0b16a0e4860c01)
(cherry picked from commit 464e5a3dd8a823fc0efa4e2d630fb66179b2ddf5)
"
openstack%2Fnova~stable%2Fwallaby~Ieb19b4e5ffde56b7f72805aa231f595f45989e60,openstack/nova,stable/wallaby,bug/1928063,Ieb19b4e5ffde56b7f72805aa231f595f45989e60,Add regression test for bug #1928063,NEW,2021-05-25 08:01:35.000000000,2021-08-23 17:02:04.000000000,,69,0,0,792902,75f223097f9744edb93db0fedb0b16a0e4860c01,9,2,1,1,10135,Lee Yarwood,lyarwood,"Add regression test for bug #1928063

Related-Bug: #1928063
Change-Id: Ieb19b4e5ffde56b7f72805aa231f595f45989e60
(cherry picked from commit e1cc0ed978d40596d368ba19063fb5b51e96421e)
"
openstack%2Felection~master~Ib0aacad26694e0f2e439833e27fedd1326469520,openstack/election,master,,Ib0aacad26694e0f2e439833e27fedd1326469520,Remove projects with DPL model,MERGED,2021-08-23 16:24:36.000000000,2021-08-23 16:51:58.000000000,2021-08-23 16:50:39.000000000,0,0,0,805660,feb425a988c4cf58a3b006bb081402b3ff115b99,9,4,1,3,8556,Ghanshyam,ghanshyam,"Remove projects with DPL model

Projects with DPL model does not need
PTL candidacy so removing those from
the placeholder directories.

Change-Id: Ib0aacad26694e0f2e439833e27fedd1326469520
"
openstack%2Felection~master~I8e0d65b0fe24df3996fafcb089822dc12731d0fb,openstack/election,master,yoga-candidacy,I8e0d65b0fe24df3996fafcb089822dc12731d0fb,Adding Maysa de Macedo Souza candidacy for Kuryr PTL,MERGED,2021-08-23 16:11:52.000000000,2021-08-23 16:41:53.000000000,2021-08-23 16:39:16.000000000,28,0,0,805658,0aa351b107deac40d83673b91ffee39b025f7b6e,8,3,1,1,27032,Maysa de Macedo Souza,maysa,"Adding Maysa de Macedo Souza candidacy for Kuryr PTL

Change-Id: I8e0d65b0fe24df3996fafcb089822dc12731d0fb
"
openstack%2Felection~master~I23fa47835267a1d0fb2aba8b515a9ec7d5c5d797,openstack/election,master,jsb-Yoga-TC-Nomination,I23fa47835267a1d0fb2aba8b515a9ec7d5c5d797,Add Jay Bryant Yoga TC Candidacy,MERGED,2021-08-23 16:13:51.000000000,2021-08-23 16:40:41.000000000,2021-08-23 16:39:14.000000000,23,0,0,805659,7381f90682edad14eeee62c9593e2889160710b9,8,3,1,1,7198,Jay Bryant,jsbryant,"Add Jay Bryant Yoga TC Candidacy

I am announcing my Technical Committee
candidacy for the Yoga cycle.

Change-Id: I23fa47835267a1d0fb2aba8b515a9ec7d5c5d797
"
openstack%2Fpython-tripleoclient~master~Id20ea18518080a502a4ccd9b54f6f153b2001c46,openstack/python-tripleoclient,master,enable_py38_test,Id20ea18518080a502a4ccd9b54f6f153b2001c46,Enable py38 test,MERGED,2021-08-19 05:40:06.000000000,2021-08-23 16:40:28.000000000,2021-08-23 16:36:08.000000000,2,2,4,805113,86381b4b6cfbdb0922e77e8c8020e96c5dc054e0,16,6,3,1,30073,Brendan Shephard,bshephar,"Enable py38 test

At some point in the near future we'll need to move
away from Python 3.6. We should probably ensure
everything is working for newer versions of python
as well.

Change-Id: Id20ea18518080a502a4ccd9b54f6f153b2001c46
"
openstack%2Fpuppet-glance~master~I48ca661a1cd9e7000d24984a8f2586aac4d15e93,openstack/puppet-glance,master,,I48ca661a1cd9e7000d24984a8f2586aac4d15e93,Fix wrong parameter name in deprecation warning,MERGED,2021-08-22 23:44:21.000000000,2021-08-23 16:27:27.000000000,2021-08-23 16:27:27.000000000,1,1,0,805539,ef245de8704392e61e7b9d730554595a6a7d429f,9,3,1,1,9816,Takashi Kajinami,kajinamit,"Fix wrong parameter name in deprecation warning

Change-Id: I48ca661a1cd9e7000d24984a8f2586aac4d15e93
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ie0aef47ca0900ad4ad8222ea0c4454a83e4b7c59,openstack/tripleo-heat-templates,stable/wallaby,frr-8.0-stable/wallaby,Ie0aef47ca0900ad4ad8222ea0c4454a83e4b7c59,Support both frr 7.x and frr-8.0 concurrently,MERGED,2021-08-23 07:36:57.000000000,2021-08-23 16:23:09.000000000,2021-08-23 16:23:09.000000000,2,1,0,805557,d8e252b031a24641c68a45f9d311e7d6ec7829fe,8,4,1,1,20172,Michele Baldessari,michele,"Support both frr 7.x and frr-8.0 concurrently

frr 7.x rpms use /usr/lib/frr/frr to start the FRR daemons.
frr 8.x rpms use /usr/libexec/frr/frrinit.sh

Let's support both for the time being.

Tested on a tripleo master environment with frr 8.x rpms.

Change-Id: Ie0aef47ca0900ad4ad8222ea0c4454a83e4b7c59
(cherry picked from commit c4bdaea3dc93092353ef7d21a17bed72d42ad840)
"
openstack%2Fopenstack-ansible~stable%2Fwallaby~I8017a01853e8f8950e6e8c7c2337e384af8d7689,openstack/openstack-ansible,stable/wallaby,,I8017a01853e8f8950e6e8c7c2337e384af8d7689,Add shallow_since to parallel git clone,MERGED,2021-08-18 09:35:27.000000000,2021-08-23 16:21:15.000000000,2021-08-23 16:19:24.000000000,49,20,0,804868,9c062982bc434d267b0a53dbfe60ee2ea7514ebd,12,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add shallow_since to parallel git clone

shallow_since controls from which date history repo will be shallowed.
It has prescedence over depth, so when shallow_since is set for the repo
depth won't be used. This is handy
for some repos, like ceph-ansible, that
merge a lot of changes in bunches, which results in bootstrap issues.

Later, shallow_since will be managed with osa CLI and bump will
update this date for the repos in a-r-r.

Change-Id: I8017a01853e8f8950e6e8c7c2337e384af8d7689
(cherry picked from commit ed035fb275f8a296bfe29918931cbde2ff6da438)
"
openstack%2Fironic-python-agent~master~I996aba47bc54309e15e7d56e4a96b23b8deb5c9c,openstack/ironic-python-agent,master,bmc-mac-address-introspection,I996aba47bc54309e15e7d56e4a96b23b8deb5c9c,Move loading of IPMI module loading to a single point,MERGED,2021-08-06 08:35:05.000000000,2021-08-23 16:15:56.000000000,2021-08-23 16:14:14.000000000,60,66,0,803710,6441db61ce0892c4e9c54ad720152b2ed41886e4,22,4,3,3,33742,Jonas Schäfer,jssfr,"Move loading of IPMI module loading to a single point

This means we do not have to rely on modprobe idempotency as
much and it's less code duplication, which is always nice.

Signed-off-by: Jonas Schäfer <jonas.schaefer@cloudandheat.com>

Change-Id: I996aba47bc54309e15e7d56e4a96b23b8deb5c9c
"
openstack%2Fgovernance~master~Ic365d05bdccaa9d9ea76a2314084eb34fa79f5ed,openstack/governance,master,formal-vote,Ic365d05bdccaa9d9ea76a2314084eb34fa79f5ed,Select secure RBAC community-wide goal for Yoga cycle,MERGED,2021-08-06 16:21:24.000000000,2021-08-23 16:11:31.000000000,2021-08-23 16:09:39.000000000,9,0,0,803783,922699aadeb7ca04a1a999a876c1e7288858f62b,14,8,1,2,8556,Ghanshyam,ghanshyam,"Select secure RBAC community-wide goal for Yoga cycle

Change-Id: Ic365d05bdccaa9d9ea76a2314084eb34fa79f5ed
"
openstack%2Felection~master~I4ab08ed61d74c40f3688a84c8d089f40e5137c0b,openstack/election,master,,I4ab08ed61d74c40f3688a84c8d089f40e5137c0b,Add Yasufumi Ogawa candidacy for Tacker PTL,MERGED,2021-08-23 14:58:17.000000000,2021-08-23 16:08:38.000000000,2021-08-23 16:07:15.000000000,13,0,0,805656,f3e7f12ffe30608d6cd0a15bde35b779fb7336e2,8,3,1,1,25701,Yasufumi Ogawa,yasufum,"Add Yasufumi Ogawa candidacy for Tacker PTL

Change-Id: I4ab08ed61d74c40f3688a84c8d089f40e5137c0b
"
openstack%2Felection~master~I7cc81dbc990685ae3ae9eb18a76a7fd64b79c28a,openstack/election,master,yoga,I7cc81dbc990685ae3ae9eb18a76a7fd64b79c28a,Set up empty directories for Yoga elections,MERGED,2021-08-18 13:27:14.000000000,2021-08-23 16:07:06.000000000,2021-08-23 16:05:29.000000000,0,0,0,805021,dad9d634e685ede46612d5c957e95338155c1ebe,12,7,1,46,14482,Ian Y. Choi,ianychoi,"Set up empty directories for Yoga elections

This is the result of ""tox -evenv -- create-directories""
from current configuration.yaml configuration
reflected from Ic58a85b83f8178086a3f1721009ddd4af3594e50

Change-Id: I7cc81dbc990685ae3ae9eb18a76a7fd64b79c28a
"
openstack%2Felection~master~I0946ad04fe5be411b5b5e5ed3810873cf50c3b90,openstack/election,master,y-election-dates,I0946ad04fe5be411b5b5e5ed3810873cf50c3b90,Modify Setup Yoga Elections configuration,MERGED,2021-06-29 17:02:33.000000000,2021-08-23 16:05:04.000000000,2021-08-23 16:01:46.000000000,9,3,18,798719,25508aa7268298529a8f0662a10540ed7a980bd1,43,9,6,1,16708,Kendall Nelson,kjnelson,"Modify Setup Yoga Elections configuration

- Change tag with correct format
- Nomination period for TC & PTL needs to be separated in yaml

Change-Id: I0946ad04fe5be411b5b5e5ed3810873cf50c3b90
"
openstack%2Felection~master~I3818010487f0016865742337ed42e86d7fe7f609,openstack/election,master,yoga_rally,I3818010487f0016865742337ed42e86d7fe7f609,[Rally] Andrey Kurilin candidacy,MERGED,2021-08-23 13:33:31.000000000,2021-08-23 16:03:15.000000000,2021-08-23 16:01:44.000000000,1,0,0,805642,24cf294861d7fdded7304f6ed5dffb31efa03c85,8,3,1,1,9545,Andrey Kurilin,akurilin,"[Rally] Andrey Kurilin candidacy

Change-Id: I3818010487f0016865742337ed42e86d7fe7f609
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ia0df205ea568f089c7cb7e5464bde76d294f4c36,openstack/python-tripleoclient,stable/wallaby,network-data-v2-backports,Ia0df205ea568f089c7cb7e5464bde76d294f4c36,"Deprecate --network-ports, enable it by default",MERGED,2021-08-09 17:10:34.000000000,2021-08-23 16:02:02.000000000,2021-08-23 15:58:58.000000000,26,19,0,803946,2c5b1cc5f6d69bcbc3aa65aa4a882a0c20e35852,9,5,1,4,24245,Harald Jensås,harald.jensas,"Deprecate --network-ports, enable it by default

The argument to enable disable node port management
when provisioning or unprovisioning baremetal nodes can
be enabled by default.

It is needed to have an ansible inventory generated,
which is required for whole-disk-image growpart execution
in change: I085ab9da30e1e1a7d2b9a9f230dd0275bd40480d.
Growpart should always run.

Conflicts:
  tripleoclient/v1/overcloud_deploy.py

Change-Id: Ia0df205ea568f089c7cb7e5464bde76d294f4c36
(cherry picked from commit b3bcf63fa51c2f9a1f6485fb19173b2329c12a45)
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I8e0f2762d744b21ec1555faa1e9bbe6e2d00f67b,openstack/python-tripleoclient,stable/wallaby,network-data-v2-backports,I8e0f2762d744b21ec1555faa1e9bbe6e2d00f67b,Implement protected resource types,MERGED,2021-08-09 17:10:34.000000000,2021-08-23 16:00:34.000000000,2021-08-23 15:58:55.000000000,200,32,0,803945,40e6f60c1c350177989bf71cf0736cf23b4c9424,24,5,1,4,24245,Harald Jensås,harald.jensas,"Implement protected resource types

When using the oc deploy command with the options
--baremetal-provision, --vip-file and network-v2
version networks definition the heat environment
files are added to user environments internally.
Including the legacy environment files, such as
`network-isolation.yaml` would result in overriding
the internally defined resource types and a failed
deployment.

This patch implements a check that will detect
resource type conflicts and raise error if a
protected resource type is overriden.

For users that may still want/need to override the
resource types, the protection can be disabled by
setting: `--disable-protected-resource-types`

NOTE: Parameter's are left unprotected since
  traditionally THT interfaces always allowed
  overriding anything and everything.

Also refactor the process_multiple_environments
method by splitting part of method to the new
rewrite_env_path method, so that it can be used
also when checking for prohibited overrides.

Conflicts:
  tripleoclient/tests/test_utils.py
  tripleoclient/utils.py
  tripleoclient/v1/overcloud_deploy.py

Depends-On: I8008344f215be6a54e00d7d27b697375b7f88f0f
Change-Id: I8e0f2762d744b21ec1555faa1e9bbe6e2d00f67b
(cherry picked from commit 86522255e3763cbecf93328a94b4d888d9d4928d)
"
openstack%2Felection~master~Ieaf8c81760ef0b23d91c1381042f46964cf8551e,openstack/election,master,,Ieaf8c81760ef0b23d91c1381042f46964cf8551e,Add TC candidacy for Ghanshyam Mann,MERGED,2021-08-20 17:56:51.000000000,2021-08-23 15:48:52.000000000,2021-08-23 15:46:53.000000000,27,0,0,805445,f69cec3a223fa32882d269d7364beb0181ddf521,8,3,1,1,8556,Ghanshyam,ghanshyam,"Add TC candidacy for Ghanshyam Mann

Change-Id: Ieaf8c81760ef0b23d91c1381042f46964cf8551e
"
openstack%2Felection~master~Iacd434701e5cfcbe081ab3399d8385c69fb39977,openstack/election,master,,Iacd434701e5cfcbe081ab3399d8385c69fb39977,Adding Dmitriy Rabotyagov candidacy for OpenStack-Ansible in Yoga,MERGED,2021-08-23 06:36:37.000000000,2021-08-23 15:47:38.000000000,2021-08-23 15:45:59.000000000,11,0,0,805580,0e795edd4a166f80d71ebccfe23c080aa76c2a46,8,3,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Adding Dmitriy Rabotyagov candidacy for OpenStack-Ansible in Yoga

Change-Id: Iacd434701e5cfcbe081ab3399d8385c69fb39977
"
openstack%2Felection~master~I55138ccd685218268c1d126c3b2dee536faa2f5b,openstack/election,master,,I55138ccd685218268c1d126c3b2dee536faa2f5b,Add Rong Zhu's candidacy for Solum PTL (Yoga),MERGED,2021-08-22 03:02:36.000000000,2021-08-23 15:46:52.000000000,2021-08-23 15:46:52.000000000,9,0,0,805512,1fad79aaa7d1a81f5834c48ce91a5872d3a76e7d,9,3,2,1,14107,zhurong,zhurong,"Add Rong Zhu's candidacy for Solum PTL (Yoga)

Change-Id: I55138ccd685218268c1d126c3b2dee536faa2f5b
"
openstack%2Felection~master~Ifb0229558205d612b720bb1870ba6db5bbf5a9b1,openstack/election,master,,Ifb0229558205d612b720bb1870ba6db5bbf5a9b1,Add Rong Zhu's candidacy for Murano PTL (Yoga),MERGED,2021-08-22 02:58:34.000000000,2021-08-23 15:46:50.000000000,2021-08-23 15:46:50.000000000,11,0,0,805511,6a23542c0db29798c074c955b1ad00d11d724f35,13,4,3,1,14107,zhurong,zhurong,"Add Rong Zhu's candidacy for Murano PTL (Yoga)

Change-Id: Ifb0229558205d612b720bb1870ba6db5bbf5a9b1
"
openstack%2Felection~master~Icee4d8d7f6036a932ce18b05e4637691df4ae968,openstack/election,master,,Icee4d8d7f6036a932ce18b05e4637691df4ae968,Add Cong Ge's candidacy for Freezer PTL (Yoga),MERGED,2021-08-23 03:02:41.000000000,2021-08-23 15:46:48.000000000,2021-08-23 15:46:48.000000000,23,0,0,805553,a68d56ed43ba0fbaeefbfe42e689400e34d714be,10,3,2,1,21387,gecong,gecong,"Add Cong Ge's candidacy for Freezer PTL (Yoga)

Change-Id: Icee4d8d7f6036a932ce18b05e4637691df4ae968
"
openstack%2Felection~master~Ic58db00dab8358c01f12e4ceb0dce25addb90d8e,openstack/election,master,,Ic58db00dab8358c01f12e4ceb0dce25addb90d8e,Adding Abhishek Kekane candidacy for Glance PTL,MERGED,2021-08-23 08:43:38.000000000,2021-08-23 15:46:25.000000000,2021-08-23 15:44:54.000000000,24,0,0,805603,cdd21417a2bda00787029d2e1bd53ad52af13039,8,3,1,1,9303,Abhishek Kekane,abhishekkekane,"Adding Abhishek Kekane candidacy for Glance PTL

Change-Id: Ic58db00dab8358c01f12e4ceb0dce25addb90d8e
"
openstack%2Felection~master~Ia277ae2997d4bbc38b468774d69e368d3793e261,openstack/election,master,mrunge_yoga,Ia277ae2997d4bbc38b468774d69e368d3793e261,Adding Matthias Runge candidacy for Telemetry,MERGED,2021-08-23 08:21:11.000000000,2021-08-23 15:45:58.000000000,2021-08-23 15:45:58.000000000,18,0,0,805597,5b946b2aad0da7158f7f9a76a41214ab9badb21f,7,3,1,2,4264,Matthias Runge,mrunge,"Adding Matthias Runge candidacy for Telemetry

Change-Id: Ia277ae2997d4bbc38b468774d69e368d3793e261
"
openstack%2Felection~master~If440e806c04fa89f70af4601cc83b625513b6b12,openstack/election,master,,If440e806c04fa89f70af4601cc83b625513b6b12,Add XueFeng Liu candidacy for Senlin PTL in Yoga,MERGED,2021-08-23 03:16:21.000000000,2021-08-23 15:44:22.000000000,2021-08-23 15:43:05.000000000,30,0,0,805554,6d98427824a73be0aad7c14dcf7f19be1947ce6d,15,4,3,1,22998,XueFengLiu,sgfeng,"Add XueFeng Liu candidacy for Senlin PTL in Yoga

Change-Id: If440e806c04fa89f70af4601cc83b625513b6b12
"
openstack%2Felection~master~I1bca31536211bebf591d56e9ed6b2516c2584b03,openstack/election,master,,I1bca31536211bebf591d56e9ed6b2516c2584b03,Add Ke Chen candidacy for Watcher,MERGED,2021-08-19 14:28:08.000000000,2021-08-23 15:40:29.000000000,2021-08-23 15:39:08.000000000,10,0,0,805232,db3f1b4ba4c90326a509fe94ddce66b0e9d4732f,22,6,1,1,28748,chenker,chenke,"Add Ke Chen candidacy for Watcher

Change-Id: I1bca31536211bebf591d56e9ed6b2516c2584b03
"
openstack%2Felection~master~Idaea3f0b9c38e68a314c38b9ae574fd9de1ab369,openstack/election,master,diablo_rojo_candidacy,Idaea3f0b9c38e68a314c38b9ae574fd9de1ab369,Add Kendall Nelson's Candidacy for TC,MERGED,2021-08-22 22:24:35.000000000,2021-08-23 15:36:14.000000000,2021-08-23 15:34:52.000000000,20,0,0,805536,5c524227dae29c9f917a80c6b69a78b862074340,8,3,1,1,16708,Kendall Nelson,kjnelson,"Add Kendall Nelson's Candidacy for TC

Change-Id: Idaea3f0b9c38e68a314c38b9ae574fd9de1ab369
"
openstack%2Fneutron-specs~master~If9f137a839b37f8262f4842b34401a13967ed43e,openstack/neutron-specs,master,local_ip,If9f137a839b37f8262f4842b34401a13967ed43e,Add Node-Local Virtual IP Spec,MERGED,2021-06-24 03:38:57.000000000,2021-08-23 15:21:22.000000000,2021-08-23 15:19:55.000000000,390,0,50,797798,31e452c6ea047ff5413371bfaa7f44c0d1cc86bd,47,5,12,3,21273,Ilya Chukhnakov,ichukhnakov,"Add Node-Local Virtual IP Spec

Adding the spec to support Node-Local Virtual IP for the RFE
https://bugs.launchpad.net/neutron/+bug/1930200

Partial-Bug: #1930200
Co-Authored-By: obondarev <oleg.bondarev@huawei.com>
Change-Id: If9f137a839b37f8262f4842b34401a13967ed43e
"
openstack%2Ftripleo-heat-templates~master~I0fdbe66dd2f0dff14620147c08f516ae7e8143d2,openstack/tripleo-heat-templates,master,rsyslog-clean-fluentd,I0fdbe66dd2f0dff14620147c08f516ae7e8143d2,Fluentd cleanup in rsyslog implementation,ABANDONED,2020-10-12 14:09:20.000000000,2021-08-23 15:18:54.000000000,,21,0,5,757579,68de50f3d7e0b2ec2bcfe0ea3eebec53aad3d0bf,35,5,8,1,5241,Martin Magr,mmagr,"Fluentd cleanup in rsyslog implementation

This patch adds upgrade_tasks which removes fluentd service or container.

Change-Id: I0fdbe66dd2f0dff14620147c08f516ae7e8143d2
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ib67107271e727e361a870c66072e7f439b5e29fc,openstack/tripleo-ansible,stable/wallaby,bgpsupport-stable/wallaby,Ib67107271e727e361a870c66072e7f439b5e29fc,Fix BGP IPv4 unicast disablement,MERGED,2021-08-23 07:38:07.000000000,2021-08-23 15:09:37.000000000,2021-08-23 15:09:37.000000000,2,0,0,805558,cab25d288cf80d1159f1f160fe89066e1d7f7975,9,5,1,1,20172,Michele Baldessari,michele,"Fix BGP IPv4 unicast disablement

By default in FRR, only the IPv4 unicast address family is announced to
all neighbors. Using the ‘no bgp default ipv4-unicast’ configuration
overrides this default so that all address families need to be enabled
explicitly whereas prior to this patch IPv4 unicast was always enabled
regardless of the value of Ansible variable tripleo_frr_bgp_ipv4.

Change-Id: Ib67107271e727e361a870c66072e7f439b5e29fc
(cherry picked from commit 723c2caa550c6c67bf2cd54d43531aa3823cf0e3)
"
openstack%2Fironic~master~I4bc9a8f6f7f4da7f719a65f76ae97b1244701ee9,openstack/ironic,master,doc_power_sync,I4bc9a8f6f7f4da7f719a65f76ae97b1244701ee9,[doc] Update power sync documentation,MERGED,2021-08-19 09:04:10.000000000,2021-08-23 15:09:34.000000000,2021-08-23 15:07:36.000000000,22,6,1,805168,28b97db915b0773e368889f97aa121588b588cda,13,3,2,2,11292,Arne Wiebalck,wiebalck,"[doc] Update power sync documentation

Add some notes on potential UDP packet loss during conductor/BMC
power sync with IPMI, the corresponding increase in retries and
how to mitigate.

Change-Id: I4bc9a8f6f7f4da7f719a65f76ae97b1244701ee9
"
openstack%2Ftripleo-docs~master~Ib6d4a6ff06e9b29a1c72e1b8a06c61fd30fb882b,openstack/tripleo-docs,master,deployed_ceph,Ib6d4a6ff06e9b29a1c72e1b8a06c61fd30fb882b,"Document ""deployed ceph""",MERGED,2021-08-11 14:10:52.000000000,2021-08-23 15:03:48.000000000,2021-08-23 15:01:39.000000000,437,26,6,804245,51a1d3e645dddd787d6c1a84ac54a2f76ce9ff93,25,4,8,4,18002,John Fulton,fultonj,"Document ""deployed ceph""

Change-Id: Ib6d4a6ff06e9b29a1c72e1b8a06c61fd30fb882b
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I073d04319b510182f5c1478e728c0c5bcc8799f1,openstack/kolla-ansible,stable/victoria,ovn-neutron-dhcp-agent-stable/victoria,I073d04319b510182f5c1478e728c0c5bcc8799f1,Add Neutron DHCP agent to OVN networking setup,MERGED,2021-08-23 11:39:42.000000000,2021-08-23 14:56:45.000000000,2021-08-23 14:55:07.000000000,28,2,0,805561,9428e44dc69a64f565b3d7dbd0f9bf468b9d9307,9,4,1,5,14826,Mark Goddard,mgoddard,"Add Neutron DHCP agent to OVN networking setup

This commit adds possibility to deploy Neutron's DHCP agents in OVN
networking scenario.

Co-Authored-By: Michał Nasiadka <mnasiadka@gmail.com>

Change-Id: I073d04319b510182f5c1478e728c0c5bcc8799f1
(cherry picked from commit fc72887d319227ee37f56379661cb6965e684e5a)
"
openstack%2Fskyline-apiserver~master~I82dc76ed286376d2c388e1dab95d4c24743d02f2,openstack/skyline-apiserver,master,,I82dc76ed286376d2c388e1dab95d4c24743d02f2,fix: Re-generate the poetry.lock,MERGED,2021-08-23 05:36:55.000000000,2021-08-23 14:48:33.000000000,2021-08-23 14:48:33.000000000,16,0,0,805577,f3ee9d3b8cb4efebff21183f895fcd10fa19554d,6,2,1,1,28706,Boxiang Zhu,ZhuBoxiang,"fix: Re-generate the poetry.lock

The skyline-nginx is dependent on skyline-apiserver.
From the patch[0], we add aiosqlite into tool.poetry.dependencies.
So we need to re-generate the poetry.lock of skyline-nginx.

[0]: https://review.opendev.org/c/skyline/skyline-apiserver/+/803539

Change-Id: I82dc76ed286376d2c388e1dab95d4c24743d02f2
"
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ib9ca7e1f56cf4fe6d63807cd4e5e58ee91501a5f,openstack/tripleo-heat-templates,stable/wallaby,ovn_bgp_agent-stable/wallaby,Ib9ca7e1f56cf4fe6d63807cd4e5e58ee91501a5f,Add /run/frr volume mount,MERGED,2021-08-23 07:36:19.000000000,2021-08-23 14:44:40.000000000,2021-08-23 14:44:40.000000000,5,0,0,805556,dd66ed6a7ceb29e25a08985d3970ea4b22e3909d,9,5,1,1,20172,Michele Baldessari,michele,"Add /run/frr volume mount

Having /var/frr mounted between the host and the FRR container enables
the host as well as adjacent containers (e.g. OVN BGP agent) to control
FRR with the vtysh CLI through the vty socket.

  $ vtysh --vty_socket /run/frr

Change-Id: Ib9ca7e1f56cf4fe6d63807cd4e5e58ee91501a5f
(cherry picked from commit dadb112a50795a21c3fc2df1c8872c4eab3ad6ea)
"
openstack%2Fkolla~master~I01356184b8e0ef2b5341ec74a2c434b09a50766d,openstack/kolla,master,debuntu-binary-cloudkitty,I01356184b8e0ef2b5341ec74a2c434b09a50766d,Allow build debian/ubuntu-binary cloudkitty images,MERGED,2021-06-22 11:36:47.000000000,2021-08-23 14:26:00.000000000,2021-08-23 14:22:14.000000000,13,8,3,797433,11b445126093cc323e90cade9435f0467737b85d,32,6,5,5,27339,Michal Arbet,michalarbet,"Allow build debian/ubuntu-binary cloudkitty images

Change-Id: I01356184b8e0ef2b5341ec74a2c434b09a50766d
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ib22700a80bf96e595103e68a51b2bbdf951892bb,openstack/tripleo-ansible,stable/wallaby,bgpsupport-stable/wallaby,Ib22700a80bf96e595103e68a51b2bbdf951892bb,Add BGP router-id and resolve-via-default options,MERGED,2021-08-23 07:31:05.000000000,2021-08-23 14:24:11.000000000,2021-08-23 14:24:11.000000000,6,0,0,805555,12eb0133427c903b3deca2b6944f96077fb1be40,9,5,1,2,20172,Michele Baldessari,michele,"Add BGP router-id and resolve-via-default options

The BGP Router Identifier is automatically set as the highest IPv4
address configured on the loopback interface or alternatively from a
physical interface. Thus the router ID may be set to an undesired value.
We are better of explicitely, predictably setting it to the main host
IPv4 address.

In addition, allow the nexthop tracking to resolve via the default
route. This is useful when e.g. you want to allow BGP to peer across the
default route, and MP-BGP EVPN use cases.

Change-Id: Ib22700a80bf96e595103e68a51b2bbdf951892bb
(cherry picked from commit 29d575cc5d48ede026f47532e24e3761137032b1)
"
openstack%2Fkolla~master~I61623748d1149adb1b096adf2fffb5a902df3181,openstack/kolla,master,debuntu-ironic-neutron-agent,I61623748d1149adb1b096adf2fffb5a902df3181,ironic-neutron-agent: enable for Debuntu binary,MERGED,2021-07-06 08:57:15.000000000,2021-08-23 14:24:07.000000000,2021-08-23 14:22:11.000000000,10,8,0,799611,928c4648a4c2cf08c616d74f340c675418ba3385,30,5,9,6,14826,Mark Goddard,mgoddard,"ironic-neutron-agent: enable for Debuntu binary

Packages are available for focal and bullseye.

Change-Id: I61623748d1149adb1b096adf2fffb5a902df3181
"
openstack%2Fswift~master~I1552a58398c45182a3508dce65da46b86c155e7e,openstack/swift,master,fix-update-shard-spi,I1552a58398c45182a3508dce65da46b86c155e7e,sharder: try to be more consistent when updating policy index,NEW,2021-08-23 12:10:24.000000000,2021-08-23 14:23:23.000000000,,148,23,0,805623,4caed0607a732bbbf6b0e72f4789db1fee7b5bff,4,2,1,2,7847,Alistair Coles,acoles,"sharder: try to be more consistent when updating policy index

Change-Id: I1552a58398c45182a3508dce65da46b86c155e7e
"
openstack%2Fsushy~master~I3fe00d115e1ae8bade92ed1ad2841d74187fd11d,openstack/sushy,master,BZ1986238-stage1-2,I3fe00d115e1ae8bade92ed1ad2841d74187fd11d,Change default value: insert_media write_protected,MERGED,2021-08-23 12:16:32.000000000,2021-08-23 14:13:47.000000000,2021-08-23 14:12:09.000000000,8,1,0,805624,e8c29ccad2b4fd71ed25532c055af697b16a5c35,10,3,1,2,32177,Jacob Anders,janders,"Change default value: insert_media write_protected

Updating default value of 'write_protected' attribute in
VirtualMedia::insert_media() to True. This is to match the default
value in the Redfish schema 2021.1 and VirtualMedia.v1_3_0:
https://redfish.dmtf.org/schemas/v1/VirtualMedia.v1_3_0.json

Story: 2009086
Task: 42907
rhbz#1986238

Change-Id: I3fe00d115e1ae8bade92ed1ad2841d74187fd11d
"
openstack%2Fopenstack-ansible-os_ceilometer~master~Iab9729ee65571a45b5e50bb6a593386b1e238944,openstack/openstack-ansible-os_ceilometer,master,fix_bad_var-master,Iab9729ee65571a45b5e50bb6a593386b1e238944,Fix wrong variable name in ceilometer.conf.j2 template.,MERGED,2021-07-16 15:02:55.000000000,2021-08-23 13:40:56.000000000,2021-08-23 13:38:25.000000000,1,1,0,800869,65f22a2951dda28dac7dfcf2f5d6bd1bd792fe1d,17,4,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix wrong variable name in ceilometer.conf.j2 template.

ceilometer_rpc_ssl_ca_file was used instead of ceilometer_oslomsg_rpc_ssl_ca_file
in the RPC transport_url.

Change-Id: Iab9729ee65571a45b5e50bb6a593386b1e238944
"
openstack%2Fopenstack-ansible-galera_server~stable%2Fwallaby~Ia8881d0c247fc53ed24836eaa11fc5b5243f9e3f,openstack/openstack-ansible-galera_server,stable/wallaby,,Ia8881d0c247fc53ed24836eaa11fc5b5243f9e3f,"Partial Revert ""Bump MariaDB version to 10.5.9""",MERGED,2021-08-19 09:48:47.000000000,2021-08-23 13:34:57.000000000,2021-08-23 13:33:08.000000000,0,49,0,805135,1180c38dc300d251e39b0717d6283c5a100ecbe4,9,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Partial Revert ""Bump MariaDB version to 10.5.9""

This revert removes the workarounds needed for 10.5.9 due to
root user losing ability to grant privs.

This reverts commit 1db0ef2efbd22b3491e1cf57e172a3d87b6f62a9.

Change-Id: Ia8881d0c247fc53ed24836eaa11fc5b5243f9e3f
(cherry picked from commit f240cc916f2104ea6836437672e347a95b8014ab)
"
openstack%2Fneutron~stable%2Fvictoria~I4bcba0ae82d99fac962d758b48b1727f344ec7bb,openstack/neutron,stable/victoria,bug/1933234-stable/victoria,I4bcba0ae82d99fac962d758b48b1727f344ec7bb,Add extra logs to the network update callback in L3 agent,MERGED,2021-08-05 10:36:31.000000000,2021-08-23 13:33:43.000000000,2021-08-23 13:30:02.000000000,3,0,0,803573,7de9aa109a343c83fe6ae0dbfd9fb7e38a99cf31,10,3,1,1,11975,Slawek Kaplonski,slaweq,"Add extra logs to the network update callback in L3 agent

It may be useful during debugging some L3 and events related issues.

Related-bug: #1933234
Change-Id: I4bcba0ae82d99fac962d758b48b1727f344ec7bb
(cherry picked from commit 5c9a7fe1b400c3549ee1cdd8ffd53895d6db1e86)
(cherry picked from commit 25f4864d1206bd087ac98b4806111701bc96cf77)
"
openstack%2Fneutron~stable%2Ftrain~I4bcba0ae82d99fac962d758b48b1727f344ec7bb,openstack/neutron,stable/train,bug/1933234-stable/train,I4bcba0ae82d99fac962d758b48b1727f344ec7bb,Add extra logs to the network update callback in L3 agent,MERGED,2021-08-05 10:40:15.000000000,2021-08-23 13:33:34.000000000,2021-08-23 13:30:44.000000000,3,0,0,803577,85c33d4ec9fa81df2d058eacbf6bb1a37039358f,13,5,1,1,11975,Slawek Kaplonski,slaweq,"Add extra logs to the network update callback in L3 agent

It may be useful during debugging some L3 and events related issues.

Related-bug: #1933234
Change-Id: I4bcba0ae82d99fac962d758b48b1727f344ec7bb
(cherry picked from commit 5c9a7fe1b400c3549ee1cdd8ffd53895d6db1e86)
(cherry picked from commit 25f4864d1206bd087ac98b4806111701bc96cf77)
(cherry picked from commit 7de9aa109a343c83fe6ae0dbfd9fb7e38a99cf31)
(cherry picked from commit 5dfd2e561556fc187d28e65039898d472e50b61d)
"
openstack%2Fneutron~stable%2Fussuri~I4bcba0ae82d99fac962d758b48b1727f344ec7bb,openstack/neutron,stable/ussuri,bug/1933234-stable/ussuri,I4bcba0ae82d99fac962d758b48b1727f344ec7bb,Add extra logs to the network update callback in L3 agent,MERGED,2021-08-05 10:37:40.000000000,2021-08-23 13:33:17.000000000,2021-08-23 13:30:21.000000000,3,0,0,803575,5dfd2e561556fc187d28e65039898d472e50b61d,10,3,1,1,11975,Slawek Kaplonski,slaweq,"Add extra logs to the network update callback in L3 agent

It may be useful during debugging some L3 and events related issues.

Related-bug: #1933234
Change-Id: I4bcba0ae82d99fac962d758b48b1727f344ec7bb
(cherry picked from commit 5c9a7fe1b400c3549ee1cdd8ffd53895d6db1e86)
(cherry picked from commit 25f4864d1206bd087ac98b4806111701bc96cf77)
(cherry picked from commit 7de9aa109a343c83fe6ae0dbfd9fb7e38a99cf31)
"
openstack%2Fopenstack-ansible-os_neutron~stable%2Fwallaby~I4431a7723a21351fbf8ec77c90a6f1c4a3b0bace,openstack/openstack-ansible-os_neutron,stable/wallaby,,I4431a7723a21351fbf8ec77c90a6f1c4a3b0bace,Switch calico job from bionic to focal,MERGED,2021-08-16 10:28:45.000000000,2021-08-23 13:30:33.000000000,2021-08-23 13:25:00.000000000,4,4,0,804710,acf081af62779c818da14bdce61433b2cbb143c6,19,3,2,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Switch calico job from bionic to focal

Change-Id: I4431a7723a21351fbf8ec77c90a6f1c4a3b0bace
(cherry picked from commit 0400310c68b377620de951be4f9edb65003b6c9e)
"
openstack%2Fdiskimage-builder~master~I7f7ff0e52d67f82ae7dd9e7bd17aca6a918fc99b,openstack/diskimage-builder,master,feat/add-rocky-linux,I7f7ff0e52d67f82ae7dd9e7bd17aca6a918fc99b,Add new element rocky,ABANDONED,2021-08-23 09:50:39.000000000,2021-08-23 13:28:51.000000000,,148,2,1,805609,09401b83374afab4d73a55e8ba447a55a11034df,6,2,1,19,33811,Jing Li,fooxlj,"Add new element rocky

This patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky linux

Change-Id: I7f7ff0e52d67f82ae7dd9e7bd17aca6a918fc99b
"
openstack%2Fdiskimage-builder~master~Ib3482adf27ae179005c1704dca0305d1255f40be,openstack/diskimage-builder,master,feat/add-rocky-linux,Ib3482adf27ae179005c1704dca0305d1255f40be,Add new element rocky,ABANDONED,2021-08-23 13:27:17.000000000,2021-08-23 13:27:59.000000000,,3,4,0,805639,79887dba695c175313441bd6b0ab24bcac6c1ffa,2,0,1,1,33811,Jing Li,fooxlj,"Add new element rocky

This patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky link

Change-Id: Ib3482adf27ae179005c1704dca0305d1255f40be
"
openstack%2Fkolla-ansible~master~I81ad7d8642654f8474f11084c6934aab40243d35,openstack/kolla-ansible,master,image-pull-retries,I81ad7d8642654f8474f11084c6934aab40243d35,Add ability to retry image pulling,MERGED,2021-08-07 14:37:28.000000000,2021-08-23 13:25:01.000000000,2021-08-23 13:22:31.000000000,50,0,17,803828,cbb567cb868b3681b82d325cfb712ef4601c91a9,43,5,6,5,30491,Radosław Piliszek,yoctozepto,"Add ability to retry image pulling

Sometimes, the registries may intermittently fail to deliver the
images. This is often seen in the CI, though it also happens with
production deployments, even those with internal registries and/or
registry mirrors - due to sheer load when trying to pull the
images from many hosts.

This patchs adds two new vars to control retry behaviour.
The default has been set to make users happier by default. :-)

Change-Id: I81ad7d8642654f8474f11084c6934aab40243d35
"
openstack%2Fcinder~master~I0c0cb5308246a3dce736eade67b40be063aa78bb,openstack/cinder,master,,I0c0cb5308246a3dce736eade67b40be063aa78bb,LVM: Retry lvextend commands on code 139,MERGED,2021-08-18 13:52:08.000000000,2021-08-23 13:19:31.000000000,2021-08-18 22:29:50.000000000,2,3,3,805026,c4b8956763c2759bd2b9fe511efac5b3edfb226d,36,5,2,2,4523,Eric Harney,eharney,"LVM: Retry lvextend commands on code 139

Retry lvextend commands upon segfault, similar to other
LVM calls.  This affects the volume extend path.

Change-Id: I0c0cb5308246a3dce736eade67b40be063aa78bb
Related-Bug: #1901783
Related-Bug: #1932188
Closes-Bug: #1940436
"
openstack%2Fkolla-ansible~master~I073d04319b510182f5c1478e728c0c5bcc8799f1,openstack/kolla-ansible,master,ovn-neutron-dhcp-agent,I073d04319b510182f5c1478e728c0c5bcc8799f1,Add Neutron DHCP agent to OVN networking setup,MERGED,2021-02-05 10:37:53.000000000,2021-08-23 12:59:48.000000000,2021-03-09 20:15:28.000000000,28,2,5,774222,fc72887d319227ee37f56379661cb6965e684e5a,27,5,4,5,32657,Piotr Parczewski,piotrp,"Add Neutron DHCP agent to OVN networking setup

This commit adds possibility to deploy Neutron's DHCP agents in OVN
networking scenario.

Co-Authored-By: Michał Nasiadka <mnasiadka@gmail.com>

Change-Id: I073d04319b510182f5c1478e728c0c5bcc8799f1
"
openstack%2Fceilometer~master~I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127,openstack/ceilometer,master,,I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127,Fix CA file for Swift pollster,MERGED,2021-08-20 13:25:47.000000000,2021-08-23 12:40:41.000000000,2021-08-23 12:38:08.000000000,40,17,0,805383,ed404c5f66e874779d58d3ac81f28ae22c55cf09,8,3,1,3,14826,Mark Goddard,mgoddard,"Fix CA file for Swift pollster

Most OpenStack API communication uses the cafile option in the
service_credentials config. For swift the client is created differently,
and does not get this option. When TLS is used, we may get an error like
the following:

exceptions.SSLError: HTTPSConnectionPool(host='1.2.3.4', port=443): Max
retries exceeded with url: /swift/v1/AUTH_XXXX (Caused by
SSLError(SSLError(""bad handshake: Error([('SSL routines',
'tls_process_server_certificate', 'certificate verify failed')],)"",),))

This change fixes the issue by creating an HTTP connection for the Swift
client that uses the configured CA file.

Closes-Bug: #1940660
Change-Id: I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127
"
openstack%2Fceilometer~master~Iba2180a4a4b939c0763b5867fc603f875c39d1ea,openstack/ceilometer,master,bug/1940733,Iba2180a4a4b939c0763b5867fc603f875c39d1ea,Add missing [oslo_reports] options,MERGED,2021-08-14 14:24:58.000000000,2021-08-23 12:39:18.000000000,2021-08-23 12:37:05.000000000,1,0,0,804570,7742fe062bd8222b3a385d2d2f9c34a63a24008a,10,3,2,1,9816,Takashi Kajinami,kajinamit,"Add missing [oslo_reports] options

The oslo.reports library provides some options under the [oslo_reports]
section. This change ensures these parameters are rendered by
the oslo-config-generator command.

Closes-Bug: #1940733
Change-Id: Iba2180a4a4b939c0763b5867fc603f875c39d1ea
"
openstack%2Fkolla~stable%2Fwallaby~I614548b43de316d86bd53cec5e6b563204f9eff0,openstack/kolla,stable/wallaby,bug/1934753-stable/wallaby,I614548b43de316d86bd53cec5e6b563204f9eff0,Add some system users to fix user uid inconsistencies,MERGED,2021-08-19 09:25:55.000000000,2021-08-23 12:35:08.000000000,2021-08-23 12:33:26.000000000,11,0,0,805134,571572a2537344186d8b14465c396183b9ccc5a7,15,4,1,2,30491,Radosław Piliszek,yoctozepto,"Add some system users to fix user uid inconsistencies

This patch is fixing user uids inconsistency between
base and openstack-base images.

Closes-Bug: #1934753
Change-Id: I614548b43de316d86bd53cec5e6b563204f9eff0
(cherry picked from commit 0799569109007beb6c24dce1ee906c7c8779a560)
"
openstack%2Fsushy~stable%2Fwallaby~I3fe00d115e1ae8bade92ed1ad2841d74187fd11d,openstack/sushy,stable/wallaby,BZ1986238-stage1,I3fe00d115e1ae8bade92ed1ad2841d74187fd11d,Change default value: insert_media write_protected,ABANDONED,2021-08-23 11:19:38.000000000,2021-08-23 12:19:38.000000000,,8,1,0,805614,cca16b1f54bbff0b7f2c6af5523768a298c4c79c,5,1,2,2,32177,Jacob Anders,janders,"Change default value: insert_media write_protected

Updating default value of 'write_protected' attribute in
VirtualMedia::insert_media() to True. This is to match the default
value in the Redfish schema 2021.1 and VirtualMedia.v1_3_0:
https://redfish.dmtf.org/schemas/v1/VirtualMedia.v1_3_0.json

Story: 2009086
Task: 42907
rhbz#1986238

Change-Id: I3fe00d115e1ae8bade92ed1ad2841d74187fd11d
"
openstack%2Fkolla-ansible~stable%2Fwallaby~I32e247a6cb34d7f6763b544f247fd408dce2b3a2,openstack/kolla-ansible,stable/wallaby,rmq-even-less-busy-wait-stable/wallaby,I32e247a6cb34d7f6763b544f247fd408dce2b3a2,Use more RMQ flags for less busy wait,MERGED,2021-08-19 18:31:43.000000000,2021-08-23 12:04:44.000000000,2021-08-23 12:02:48.000000000,8,7,0,805271,a26e73005f9eb113ecca913a14234026a71cf274,10,4,1,4,30491,Radosław Piliszek,yoctozepto,"Use more RMQ flags for less busy wait

As mentioned in the Iced014acee7e590c10848e73feca166f48b622dc
commit message, in Ussuri+ we can use ``+sbwtdcpu none
+sbwtdio none`` as well. This is due to relying on RMQ-provided
erlang in version 23.x.

This change adds the extra arguments by default.
It should be backported down to Ussuri before we do a release with
Iced014acee7e590c10848e73feca166f48b622dc.

Change-Id: I32e247a6cb34d7f6763b544f247fd408dce2b3a2
(cherry picked from commit d7cdad5325180c5502fdfd742abcde0df9d5ac90)
"
openstack%2Fkolla-ansible~stable%2Fussuri~I32e247a6cb34d7f6763b544f247fd408dce2b3a2,openstack/kolla-ansible,stable/ussuri,rmq-even-less-busy-wait-stable/wallaby-stable/victoria-stable/ussuri,I32e247a6cb34d7f6763b544f247fd408dce2b3a2,Use more RMQ flags for less busy wait,MERGED,2021-08-19 18:32:04.000000000,2021-08-23 12:02:55.000000000,2021-08-23 12:00:38.000000000,8,7,0,805273,3279637a7f6602ee620743adf18a5a20cd89f32a,12,4,2,4,30491,Radosław Piliszek,yoctozepto,"Use more RMQ flags for less busy wait

As mentioned in the Iced014acee7e590c10848e73feca166f48b622dc
commit message, in Ussuri+ we can use ``+sbwtdcpu none
+sbwtdio none`` as well. This is due to relying on RMQ-provided
erlang in version 23.x.

This change adds the extra arguments by default.
It should be backported down to Ussuri before we do a release with
Iced014acee7e590c10848e73feca166f48b622dc.

Change-Id: I32e247a6cb34d7f6763b544f247fd408dce2b3a2
(cherry picked from commit d7cdad5325180c5502fdfd742abcde0df9d5ac90)
"
openstack%2Fkolla-ansible~stable%2Fvictoria~I32e247a6cb34d7f6763b544f247fd408dce2b3a2,openstack/kolla-ansible,stable/victoria,rmq-even-less-busy-wait-stable/wallaby-stable/victoria,I32e247a6cb34d7f6763b544f247fd408dce2b3a2,Use more RMQ flags for less busy wait,MERGED,2021-08-19 18:31:50.000000000,2021-08-23 11:58:57.000000000,2021-08-23 11:57:08.000000000,8,7,0,805272,d81a36215566d1b217547ba8b47931edd793e235,9,3,1,4,30491,Radosław Piliszek,yoctozepto,"Use more RMQ flags for less busy wait

As mentioned in the Iced014acee7e590c10848e73feca166f48b622dc
commit message, in Ussuri+ we can use ``+sbwtdcpu none
+sbwtdio none`` as well. This is due to relying on RMQ-provided
erlang in version 23.x.

This change adds the extra arguments by default.
It should be backported down to Ussuri before we do a release with
Iced014acee7e590c10848e73feca166f48b622dc.

Change-Id: I32e247a6cb34d7f6763b544f247fd408dce2b3a2
(cherry picked from commit d7cdad5325180c5502fdfd742abcde0df9d5ac90)
"
openstack%2Fswift~master~Ib1d6197caa15d0974334be3d7eff24d4342ac378,openstack/swift,master,fix-update-shard-spi,Ib1d6197caa15d0974334be3d7eff24d4342ac378,sharder: update shard storage_policy_index if roots changes,NEW,2021-07-14 06:28:29.000000000,2021-08-23 11:49:46.000000000,,467,31,65,800748,e743ecc81a2160df5817547bb20b5a67cf03c565,82,3,20,5,7233,Matthew Oliver,mattoliverau,"sharder: update shard storage_policy_index if roots changes

If there is a change to the root container's storage_policy_index (e.g.
after it's deleted and recreated), the reconciler will kick in and
migrate objects (or tombstone rows) to the new/correct storage policy.

To ensure this works correctly on sharded containers, we must propagate
a policy_index change on the root to it's shards.

Turns out when we go and fetch the shard range from the root container
in the shard container audit, the response includes the roots policy
index. So in this patch, if it sees that the roots is different from the
shards it'll migrate to the new storage policy. This will kick off the
reconciler on the next container-replication run as it enqueues objects
to reconcile.

Change-Id: Ib1d6197caa15d0974334be3d7eff24d4342ac378
"
openstack%2Fneutron-tempest-plugin~master~I390584681f630d897ef97e32c9b5bd3cc8e1c0a8,openstack/neutron-tempest-plugin,master,ping_global_ip_from_fip,I390584681f630d897ef97e32c9b5bd3cc8e1c0a8,Ping external resource in the neutron tests,ABANDONED,2020-06-04 13:36:55.000000000,2021-08-23 11:48:35.000000000,,1,0,3,733614,86a817e2492a5ede116682546403a1f864ec27a1,12,5,3,1,11975,Slawek Kaplonski,slaweq,"Ping external resource in the neutron tests

In patch [1] a new test, which tests connectivity from the VM to
the outside world was introduced.
This test is skipped by default, unless ""global_ip_address"" will
be set.
So this patch sets global_ip_address to be the A record that
""zuul_site_mirror_fqdn"" resolves to.

[1] https://review.opendev.org/#/c/727764/

Change-Id: I390584681f630d897ef97e32c9b5bd3cc8e1c0a8
"
openstack%2Fswift~master~I9bf2aa3c36818950d165531af61a9f6f25233827,openstack/swift,master,fix-update-shard-spi,I9bf2aa3c36818950d165531af61a9f6f25233827,use reconciler stuff to fix shards,NEW,2021-08-20 18:37:35.000000000,2021-08-23 11:33:49.000000000,,21,66,2,805450,7ba8915fbcd636bfebbd3ad73f8c558a52ac3eb3,13,3,3,2,1179,Clay Gerrard,clay-gerrard,"use reconciler stuff to fix shards

Change-Id: I9bf2aa3c36818950d165531af61a9f6f25233827
"
openstack%2Fopenstack-ansible-galera_server~stable%2Fwallaby~I084f63d071394022b4b2dd6ad1433e4036adc978,openstack/openstack-ansible-galera_server,stable/wallaby,,I084f63d071394022b4b2dd6ad1433e4036adc978,Update galera to 10.5.12,MERGED,2021-08-18 09:34:40.000000000,2021-08-23 11:16:04.000000000,2021-08-23 11:14:28.000000000,1,86,0,804867,14613c8ad79cdc43f88522436ee030b21c4b5e5a,15,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Update galera to 10.5.12

Also remove vars/debian-11.yml so that bullseye takes packages from the official mariadb repo
rather than using the distro provided package.

Change-Id: I084f63d071394022b4b2dd6ad1433e4036adc978
(cherry picked from commit 2ad823eafd55bfbbe049a52b8ed410d22cf8e085)
"
openstack%2Fironic~master~I256e42b8aa736b278bab6b4aa145a859aca10e17,openstack/ironic,master,rfc3986,I256e42b8aa736b278bab6b4aa145a859aca10e17,rfc3986: Replace deprecated URIReference.is_valid,MERGED,2021-08-20 16:49:36.000000000,2021-08-23 11:00:45.000000000,2021-08-23 10:58:37.000000000,16,4,0,805440,197e07d3de36895f506abb43b19001e9c63b8329,11,3,1,2,9816,Takashi Kajinami,kajinamit,"rfc3986: Replace deprecated URIReference.is_valid

The URIReference.is_valid method has been deprecated since rfc3986
1.1.0[1] and triggers the following deprecation warning.

DeprecationWarning: Please use rfc3986.validators.Validator instead.
This method will be eventually removed.

[1] https://github.com/python-hyper/rfc3986/commit/fd19bd90

Change-Id: I256e42b8aa736b278bab6b4aa145a859aca10e17
"
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ia1e1faaa8389c4b943632820deff8f0a919bcdd8,openstack/tripleo-ansible,stable/wallaby,bug/1940301-stable/wallaby,Ia1e1faaa8389c4b943632820deff8f0a919bcdd8,tripleo_push_artifacts: ensure destination exists,MERGED,2021-08-20 17:26:29.000000000,2021-08-23 10:45:40.000000000,2021-08-23 10:44:21.000000000,7,0,0,805281,9e83d978c7173eff1fb7c0f611bee1f4db731f42,8,3,1,1,20778,Damien Ciabrini,dciabrin,"tripleo_push_artifacts: ensure destination exists

Before transferring a tarball, ensure that the destination
directory exists, like we do for transferring rpms.

Closes-Bug: #1940301
Change-Id: Ia1e1faaa8389c4b943632820deff8f0a919bcdd8
(cherry picked from commit 83d4795cdf0141af53f8dd6f37b05360eabdbacc)
"
openstack%2Ftripleo-heat-templates~master~I1ad51e948d981f39237f7a23a1ebf765996a4993,openstack/tripleo-heat-templates,master,qdr-ssl-for-review,I1ad51e948d981f39237f7a23a1ebf765996a4993,qdr: Add SSL support for oslo.messaging RPC,MERGED,2021-06-18 16:37:43.000000000,2021-08-23 10:44:23.000000000,2021-08-23 10:44:23.000000000,97,1,0,797139,b921b185fbf0a28805c9a72e0fc474ea30df68fa,30,5,10,1,9257,John Eckersberg,jeckersb,"qdr: Add SSL support for oslo.messaging RPC

Change-Id: I1ad51e948d981f39237f7a23a1ebf765996a4993
"
openstack%2Fkayobe~master~I0c41d59123aba3351ac3b0a5a76cff517cca93e4,openstack/kayobe,master,inspector-port-desc,I0c41d59123aba3351ac3b0a5a76cff517cca93e4,Add twentyFiveGigE to port descriptions in inspector rules,MERGED,2021-07-28 13:16:52.000000000,2021-08-23 10:42:34.000000000,2021-08-23 10:41:10.000000000,9,0,0,802709,91b2dddc415e1a5ca6aa66fdd65d7f97f5781cc3,15,3,2,2,15197,Pierre Riteau,priteau,"Add twentyFiveGigE to port descriptions in inspector rules

Change-Id: I0c41d59123aba3351ac3b0a5a76cff517cca93e4
"
openstack%2Fpython-cyborgclient~master~I24999d0f39cbd027ef5c797ed2e9bf0bbfe8a793,openstack/python-cyborgclient,master,bug/1936877,I24999d0f39cbd027ef5c797ed2e9bf0bbfe8a793,Add checks for showing dp with name,MERGED,2021-07-24 07:43:28.000000000,2021-08-23 10:38:48.000000000,2021-08-23 10:37:25.000000000,23,0,2,802140,83c099d014b5970588be19cb37e72d79a378115d,21,4,2,2,23950,Eric Xie,ericxie,"Add checks for showing dp with name

This patch adds checking input arg. If not uuid, raise CommandError with
 output like 'Only UUID of device_profile allowed'.

Closes-Bug: #1936877
Change-Id: I24999d0f39cbd027ef5c797ed2e9bf0bbfe8a793
"
openstack%2Freleases~master~Id37a268e9bbdc919a33df980e0150f2911d271a9,openstack/releases,master,fix-yoga-schedule,Id37a268e9bbdc919a33df980e0150f2911d271a9,Move yoga final release for non client lib to R-6,MERGED,2021-08-20 12:47:02.000000000,2021-08-23 10:24:10.000000000,2021-08-23 10:24:10.000000000,4,3,0,805376,8e73feb7e67a50b993113e98ad9bc38aa7f2a035,7,3,1,1,28522,Hervé Beraud,hberaud,"Move yoga final release for non client lib to R-6

Also move oslo's feature freeze to R-7

Change-Id: Id37a268e9bbdc919a33df980e0150f2911d271a9
"
openstack%2Freleases~master~Ib7ea3283180820bac345802912488ec508b78d47,openstack/releases,master,os-traits-xena,Ib7ea3283180820bac345802912488ec508b78d47,Release os-traits 2.6.0,MERGED,2021-08-19 14:56:08.000000000,2021-08-23 10:24:08.000000000,2021-08-23 10:24:08.000000000,4,0,1,805241,c66e27933bbcd81c74b9862691484625d708ff69,10,6,1,1,17685,Elod Illes,elod.illes,"Release os-traits 2.6.0

Change-Id: Ib7ea3283180820bac345802912488ec508b78d47
"
openstack%2Ftripleo-heat-templates~master~I5185ad92d52256ddf305a7f46a6f9453e9d40241,openstack/tripleo-heat-templates,master,bug/1929927,I5185ad92d52256ddf305a7f46a6f9453e9d40241,Fix podman on the host configuration,ABANDONED,2021-06-01 02:22:46.000000000,2021-08-23 10:23:11.000000000,,2,12,4,793871,0220fe0f0341838afef9915e80f5d5a3d28cd018,14,2,2,1,24245,Harald Jensås,harald.jensas,"Fix podman on the host configuration

Remove the conditional checking if insecure registry
is set. Always set the parameter, the parameter default
[] is required for the playbook to run.

Closes-Bug: #1929927
Change-Id: I5185ad92d52256ddf305a7f46a6f9453e9d40241
"
openstack%2Freleases~master~Icc048cb736d1e73737b98f6134e955d22bf46cf7,openstack/releases,master,xena-final-non-client-libs,Icc048cb736d1e73737b98f6134e955d22bf46cf7,Release final oslo.db for Xena,MERGED,2021-08-16 09:50:13.000000000,2021-08-23 10:20:06.000000000,2021-08-23 10:20:06.000000000,4,0,0,804676,7484d9c84801751a9ffd2f47fd5752e4140f046a,23,6,3,1,28522,Hervé Beraud,hberaud,"Release final oslo.db for Xena

This proposed a release for oslo.db to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 10.0.0..75661fbc4d
ad4729d requirements: Bump sqlalchemy lower constraint
8e7454c Don't use plain string SQL statements
0816efc Update import of declarative_base()
6a013c6 Replace use of Table.autoload parameter
38c2eff Replace use of update.values parameter
d2f101c Replace use of update.whereclause parameter
6dc4b1c Replace use of insert.values parameter
d949861 Add missing bind argument to calls
872bc1d Don't pass strings to Connection.execute()
22b44ee Remove use of MetaData.bind argument
8d76072 Remove legacy calling style of select()
4c1eb96 tests: Enable SQLAlchemy 2.0 deprecation warnings
da002a8 utils: Deprecate sqlalchemy-migrate-related functions
40bce5a tests: Enable SADeprecationWarning warnings
a6007a9 tests: Use common base class
538e0a2 tests: Enfeeble 'oslo_db.tests.utils.BaseTestCase'
73e376d tests: Clean up base test
bd69e86 Drop checks for IBM DB2
f048068 tox: Simplify test running
4f9df08 (HEAD -> review/stephen_finucane/cleanup) tests: Remove
'ModelsMigrationsSync.check_foreign_keys'
74c6bf2 concurrency: Deprecate 'TpoolDbapiWrapper'
a778f2d sqlalchemy: Remove checks for older deps

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Icc048cb736d1e73737b98f6134e955d22bf46cf7
"
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Idc9e36563854b7e6590f74f14774d506c5dbc4c3,openstack/python-tripleoclient,stable/wallaby,2.11-stable/wallaby,Idc9e36563854b7e6590f74f14774d506c5dbc4c3,Use 'all' for ANSIBLE_VARS_PLUGIN_STAGE,MERGED,2021-08-18 10:50:44.000000000,2021-08-23 10:18:23.000000000,2021-08-23 10:16:45.000000000,1,1,0,804992,7e490d4f8129807031366899b9b9db8716980d33,13,6,1,1,10969,Shnaidman Sagi (Sergey),sergsh,"Use 'all' for ANSIBLE_VARS_PLUGIN_STAGE

ANSIBLE_VARS_PLUGIN_STAGE=inventory doesn't work with implicit
localhost in Ansible 2.11, use 'all' instead.
See https://github.com/ansible/ansible/issues/72590

Change-Id: Idc9e36563854b7e6590f74f14774d506c5dbc4c3
(cherry picked from commit 26213f3a115004471d404a9161b8b03a6887a843)
"
openstack%2Ftripleo-common~stable%2Fvictoria~I2cc79caeabd9d1b85f54320a83e5f36a64003303,openstack/tripleo-common,stable/victoria,victoria/no-all-dhcp,I2cc79caeabd9d1b85f54320a83e5f36a64003303,Don't install dhcp-all-interfaces for redhat 8 onwards,MERGED,2021-04-27 21:57:17.000000000,2021-08-23 10:18:08.000000000,2021-08-23 10:16:43.000000000,12,10,3,788371,a575fd8d639e4e37819e5bc1d7352902119df996,28,4,1,18,4571,Steve Baker,steve-stevebaker,"Don't install dhcp-all-interfaces for redhat 8 onwards

This element was needed for centos-7 and earlier because by default
only the first interface had dhcp enabled. This is no longer the case
with centos-8, every interface has dhcp enabled. Additionally this
element is causing issues in some environments.

This change removes the element from all *-8 images since it no longer
serves a useful purpose and is causing problems in some cases.

Change-Id: I2cc79caeabd9d1b85f54320a83e5f36a64003303
(cherry picked from commit af9329599bec35e241db8466ec172e7d498ad6ea)
"
openstack%2Fpuppet-tripleo~master~Ia878bc4a877753bc4784b13bf1c22c22e8324c1f,openstack/puppet-tripleo,master,qdr-ssl-for-review,Ia878bc4a877753bc4784b13bf1c22c22e8324c1f,qdr: Add SSL support,MERGED,2021-06-17 19:43:38.000000000,2021-08-23 10:16:46.000000000,2021-08-23 10:16:46.000000000,85,13,0,796945,423046a6a42911a7f0fc6a14874fbbae5d624d7d,21,5,5,2,9257,John Eckersberg,jeckersb,"qdr: Add SSL support

Change-Id: Ia878bc4a877753bc4784b13bf1c22c22e8324c1f
"
openstack%2Freleases~master~Ie296ceccd7de7074582e83896ca4e9758782e114,openstack/releases,master,train-last,Ie296ceccd7de7074582e83896ca4e9758782e114,[solum-tempest-plugin] Tag train-last,MERGED,2021-07-17 00:21:57.000000000,2021-08-23 10:05:44.000000000,2021-08-23 10:05:44.000000000,4,0,2,801171,9a4370c4be05ff34f900705ab400f404675fbc2a,17,4,2,1,8556,Ghanshyam,ghanshyam,"[solum-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] with the current/latest hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: Ie296ceccd7de7074582e83896ca4e9758782e114
"
openstack%2Fdiskimage-builder~master~Ia950170103a7c1ed054cc3e5c9ace6e928b32cfd,openstack/diskimage-builder,master,feat/add-rocky-linux,Ia950170103a7c1ed054cc3e5c9ace6e928b32cfd,Add new element rocky,ABANDONED,2021-08-23 08:27:32.000000000,2021-08-23 09:57:47.000000000,,148,2,0,805601,d6649619e0e6debcfe9b39d55d384ef942eff9a4,4,0,1,19,33811,Jing Li,fooxlj,"Add new element rocky

This patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky linux

Change-Id: Ia950170103a7c1ed054cc3e5c9ace6e928b32cfd
"
openstack%2Fdiskimage-builder~master~I0b14750e3feb82ee39bd6e7b1a5653c17d332956,openstack/diskimage-builder,master,feat/add-rocky-linux,I0b14750e3feb82ee39bd6e7b1a5653c17d332956,Add new element rocky,ABANDONED,2021-07-29 15:04:57.000000000,2021-08-23 09:55:25.000000000,,147,2,1,802902,42aa4cfbb9988f6fafe2e8dce6f7cabe4bde24f6,12,1,2,19,33811,Jing Li,fooxlj,"Add new element rocky

This patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky linux

Change-Id: I0b14750e3feb82ee39bd6e7b1a5653c17d332956
"
openstack%2Fcinder~master~If465bc719cea2d4e85b37527f3f7ac916b5de638,openstack/cinder,master,allow-for-None,If465bc719cea2d4e85b37527f3f7ac916b5de638,PowerMax Driver - Fix for create snapshot,MERGED,2021-03-25 12:57:28.000000000,2021-08-23 09:41:44.000000000,2021-08-18 15:38:09.000000000,33,3,4,782995,672a0e97988755012ff87fb85bddc1cd125f1898,136,5,5,4,12670,Helen Walsh,walshh2,"PowerMax Driver - Fix for create snapshot

Payload response change from REST means that the
Device Label no longer exists in the format expected and
causes an IndexError exception. This is the case in PowerMaxOS
5978.711 and later.

Closes-Bug: #1939139

Change-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638
"
openstack%2Fskyline-apiserver~master~Ie310114f53981451b50a366a0869be72bbfb4e01,openstack/skyline-apiserver,master,,Ie310114f53981451b50a366a0869be72bbfb4e01,fix: Fix params' default value of function,MERGED,2021-08-20 07:12:11.000000000,2021-08-23 09:19:15.000000000,2021-08-23 09:19:15.000000000,3,2,0,805342,ebf89092fd19a7363d6c1190d836c133a669df06,7,4,1,2,33898,chenliufeiyang,CLFY,"fix: Fix params' default value of function

1. Do not use mutable types as method parameter defaults

Change-Id: Ie310114f53981451b50a366a0869be72bbfb4e01
"
openstack%2Fnova~master~I03cf285ad83e09d88cdb702a88dfed53c01610f8,openstack/nova,master,bug/1914777,I03cf285ad83e09d88cdb702a88dfed53c01610f8,Handle instance = None in _local_delete_cleanup,MERGED,2021-02-12 02:34:33.000000000,2021-08-23 09:10:16.000000000,2021-02-23 19:38:16.000000000,29,36,8,775308,123f6262f63477d3f50dfad09688978e044bd9e0,31,5,3,3,4690,melanie witt,melwitt,"Handle instance = None in _local_delete_cleanup

Change I4d3193d8401614311010ed0e055fcb3aaeeebaed added some
additional local delete cleanup to prevent leaking of placement
allocations. The change introduced a regression in our ""delete while
booting"" handling as the _local_delete_cleanup required a valid
instance object to do its work and in two cases, we could have
instance = None from _lookup_instance if we are racing with a create
request and the conductor has deleted the instance record while we
are in the middle of processing the delete request.

This handles those scenarios by doing two things:

  (1) Changing the _local_delete_cleanup and
      _update_queued_for_deletion methods to take an instance UUID
      instead of a full instance object as they really only need the
      UUID to do their work
  (2) Saving a copy of the instance UUID before doing another instance
      lookup which might return None and passing that UUID to the
      _local_delete_cleanup and _update_queued_for_deletion methods

Closes-Bug: #1914777

Change-Id: I03cf285ad83e09d88cdb702a88dfed53c01610f8
"
openstack%2Fneutron~stable%2Fvictoria~I3caf131041a852671a556b064c641fe34f8f5ed0,openstack/neutron,stable/victoria,,I3caf131041a852671a556b064c641fe34f8f5ed0,Trivial: check if ipv6 is available for IptablesManager,MERGED,2021-08-13 08:43:30.000000000,2021-08-23 09:04:04.000000000,2021-08-23 09:02:25.000000000,6,4,1,804499,6adfdd74f4ae4ca2426602c8041eab354975b3ac,35,3,1,2,33673,Alin-Gabriel Serdean,alins,"Trivial: check if ipv6 is available for IptablesManager

Conflicts:
        neutron/agent/ovn/metadata/agent.py

To resolve conflict, rearrange alphabetically the imports from
oslo_utils.

Change-Id: I3caf131041a852671a556b064c641fe34f8f5ed0
Closes-Bug: #1915480
(cherry picked from commit 6cf71cbd6a71b4849470874379877c7ca2a8fc25)
"
openstack%2Fneutron~stable%2Fussuri~Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956,openstack/neutron,stable/ussuri,,Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956,[ovn][metadata] Remove metadata readiness mechanism,NEW,2021-08-19 23:11:02.000000000,2021-08-23 08:56:43.000000000,,7,221,0,805317,dada1d8d1345f3263e21e09e7749cc07ae9bbb44,7,3,1,7,16036,Krzysztof Klimonda,kklimonda,"[ovn][metadata] Remove metadata readiness mechanism

Prior to this patch, the metadata agent was writing into SB
database when a network had been provisioned with metadata
on a particular chassis.

Then, neutron-server would wait for that event to happen with
a 15s timeout before sending the vif-plugged event to Nova.

By removing this mechanism:

1) We'll save writes to OVN SB database which, in highly loaded
systems and at scale reduces significantly the load on ovsdb-server.

2) Ignoring healthchecks (that still requires write to the SB DB),
we can make OVN metadata agent to connect to slave instances when
using active-backup OVN databases since writes are not needed.

3) There's a chance that the VM boots very fast and requests
metadata before the service is ready but since the timeout was
15 seconds, we can safely rely on the the cloud-init retries.

Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Closes-Bug: #1940541
(cherry picked from commit 36ba1cc3196148850263c8a8c8058e6f7ced3958)

Conflicts:
	neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py
	neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py
	neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py
	neutron/tests/unit/agent/ovn/metadata/test_agent.py
	neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py

Change-Id: Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956
"
openstack%2Ftripleo-ansible~master~I24eb7014cc657f50be63767af439208eb854dfb6,openstack/tripleo-ansible,master,bug/1903786,I24eb7014cc657f50be63767af439208eb854dfb6,Reimplement os_tripleo_baremetal_node_introspection,MERGED,2020-11-25 03:20:06.000000000,2021-08-23 08:29:46.000000000,2021-08-23 08:28:06.000000000,432,230,15,764115,e54faf1e102545d083e45b227167a8de4459994a,55,8,6,3,4571,Steve Baker,steve-stevebaker,"Reimplement os_tripleo_baremetal_node_introspection

Triggering introspection via the introspection API is discouraged when
also using the Ironic API, because Ironic will be out of sync with
introspection state. This is suspected to be causing occasional errors
in CI and with end users.

This module was one of the very first to be converted from mistral, so
hasn't benefited from the concurrency and logging patterns in later
modules.

The internal implementation of this module has been rewritten, and now
does the following:

- Concurrency uses a ThreadPoolExecutor instead of a custom pool with
  async calls
- Waiting for state changes uses existing openstacksdk wait functions
- Logging ends up in a 'logging' result value instead of calling
  module.log which ansible does not pass back to the caller
- Introspection is triggered by setting the node provision state to
  'inspect'
- Node is powered off after a successful introspection
- Auth configuration relies on environment, as for other modules
- Debug tasks are added to the playbook to print the logging

This was reverted previously due to a 50% failure rate in the periodic
featureset001, the locking interaction between inspector and ironic
has now been fixed so the root cause of these failures is now
resolved.

Change-Id: I24eb7014cc657f50be63767af439208eb854dfb6
Closes-Bug: 1903786
Depends-On: https://review.opendev.org/c/openstack/ironic-inspector/+/803935
"
openstack%2Fkolla-ansible~master~I513ad1a0ad770a249f573be8dd47e9ada6787a7a,openstack/kolla-ansible,master,bug/1833737,I513ad1a0ad770a249f573be8dd47e9ada6787a7a,Set any_errors_fatal for all plays,ABANDONED,2019-06-21 15:42:13.000000000,2021-08-23 08:25:36.000000000,,80,0,1,666876,5141ac968c7d08a7e52e4d4a8b02c7b204ff8003,15,4,4,8,14826,Mark Goddard,mgoddard,"Set any_errors_fatal for all plays

Currently we are using the default value of 'false' for
'any_errors_fatal'.  This means that plays will execute until the end or
all hosts have failed. A host can fail and others may continue. This can
lead to odd situations, and makes errors harder to diagnose.

One specific example of where this can be an issue is during upgrade. If
one host fails early on, then it will not be upgraded. For clustered
services such as RabbitMQ or MariaDB this can cause problems. Many
OpenStack services have specific instructions for rolling upgrades which
would not work well if one or more hosts are not involved.

This change sets any_errors_fatal to true for all plays that are not
just executing against localhost (in which case there is only one host).

Change-Id: I513ad1a0ad770a249f573be8dd47e9ada6787a7a
Closes-Bug: #1833737
"
openstack%2Foctavia~master~I616b5442a01275b26cfcafd262560cdaba65ad4e,openstack/octavia,master,story/2008920,I616b5442a01275b26cfcafd262560cdaba65ad4e,fix an issue where batch update member will lead to in_use_member error,ABANDONED,2021-05-25 09:05:52.000000000,2021-08-23 07:46:16.000000000,,1,10,0,792911,787ce387f8eee695ea1124b4524af4b05358a448,5,1,1,3,31525,chimeng,MengChi,"fix an issue where batch update member will lead to in_use_member error

After calling the batch update members API regarding the usage amount of Members does not correspond to the actual Members

Story: 2008920
Task: 42513
Change-Id: I616b5442a01275b26cfcafd262560cdaba65ad4e
"
openstack%2Foctavia~master~I6c237619cfe641bfe3cfbe4bfe54dc53f3d8d32b,openstack/octavia,master,story/2008192,I6c237619cfe641bfe3cfbe4bfe54dc53f3d8d32b,Modify named method of NIC in the amphora namespace,ABANDONED,2020-09-27 10:44:45.000000000,2021-08-23 07:45:52.000000000,,26,18,0,754605,3c49970f72137a6cbfc4f4c4161f3a57662a606f,4,1,1,2,31525,chimeng,MengChi,"Modify named method of NIC in the amphora namespace

The original Octavia codes will name the NIC in the amphora
namespace according to the number of current NICs. In some
scenarios, it will result in conflict.
The patch modify the named method of NIC to avoid the issue.

Change-Id: I6c237619cfe641bfe3cfbe4bfe54dc53f3d8d32b
Story: #2008192
"
openstack%2Fpython-openstackclient~master~Ie886a24256b74a78930427e98fd54298504d193c,openstack/python-openstackclient,master,story/2009098,Ie886a24256b74a78930427e98fd54298504d193c,Ignore not installed services when performing quota operations,NEW,2021-08-04 10:19:52.000000000,2021-08-23 07:41:19.000000000,,254,30,0,803457,c1b123d9b272426ee1a69961e7c0da37b235b70f,11,7,3,2,31525,chimeng,MengChi,"Ignore not installed services when performing quota operations

Fixed the following bug:
""internal endpoint for compute service in RegionOne region not found"".
it seems like that the way the original code works is not
flexibles as limits the invocation of quotas about single service.

Story: 2009098
Task: 42940
Change-Id: Ie886a24256b74a78930427e98fd54298504d193c
"
openstack%2Fswift~master~Id67707b2fe69b4a8284c4c8adbe337727f13ba33,openstack/swift,master,container-migrate,Id67707b2fe69b4a8284c4c8adbe337727f13ba33,sharder _update_storage_policy_index: coerce policy index to int,ABANDONED,2021-08-20 14:09:36.000000000,2021-08-23 07:31:51.000000000,,46,25,0,805388,45fcb06c161f029656c73809a1c60024a4c24f49,4,1,1,3,7847,Alistair Coles,acoles,"sharder _update_storage_policy_index: coerce policy index to int

Change-Id: Id67707b2fe69b4a8284c4c8adbe337727f13ba33
"
openstack%2Fswift~master~I7c8a521c28738e784d0e81c2d8ea9bf8245068d6,openstack/swift,master,container-migrate,I7c8a521c28738e784d0e81c2d8ea9bf8245068d6,migrate_to_storage_policy: reset _storage_policy_index after migrating,ABANDONED,2021-08-20 14:09:36.000000000,2021-08-23 07:31:42.000000000,,57,36,0,805387,7a116bf8c9c2f12300c308e11cc8a43a8a1baab2,4,1,1,2,7847,Alistair Coles,acoles,"migrate_to_storage_policy: reset _storage_policy_index after migrating

Change-Id: I7c8a521c28738e784d0e81c2d8ea9bf8245068d6
"
openstack%2Fnova~master~I70efe60995568d71d184eadd27adf8918d1909e2,openstack/nova,master,,I70efe60995568d71d184eadd27adf8918d1909e2,fup: Move _migrate_stub into LibvirtMigrationMixin,MERGED,2021-08-11 12:19:22.000000000,2021-08-23 07:27:59.000000000,2021-08-23 07:26:20.000000000,40,29,5,804232,78cace1ce485b2fccb66288eef5d0a13f0f84bde,33,4,5,3,10135,Lee Yarwood,lyarwood,"fup: Move _migrate_stub into LibvirtMigrationMixin

Change-Id: I70efe60995568d71d184eadd27adf8918d1909e2
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I073fc3f35441f4ce11216f27d3363e4365c887be,openstack/puppet-tripleo,stable/train,uc-memcache,I073fc3f35441f4ce11216f27d3363e4365c887be,Set authtoken memcached_servers in undercloud services,MERGED,2021-08-20 03:00:15.000000000,2021-08-23 06:50:46.000000000,2021-08-23 06:50:46.000000000,372,15,4,805324,a4c7f216545736c0fa4bd9e2e4d269a6a20ac5c5,28,4,6,11,8833,Rabi Mishra,rabi,"Set authtoken memcached_servers in undercloud services

Currently we set memcached_servers in authtoken middlware by
puppet-tripleo for most of services, while we set it for undercloud
services(Mistral, Zaqar, Novajoin) by environments/undercloud.yaml.

This patch makes puppet-tripleo configure memcached_servers also for
these undercloud services, so that we can have all implementations
related to memcache in one place.

Backport note:
In stable/train, all classes are included by absolute names so this
patch is updated accordingly.

Change-Id: I073fc3f35441f4ce11216f27d3363e4365c887be
(cherry picked from commit b07672aedb0edda634a563c61a76c633ad5803cd)
"
openstack%2Fskyline-console~master~I87ae129d5adc8649787d6a3626abd3bf9b9e7c67,openstack/skyline-console,master,open-34328,I87ae129d5adc8649787d6a3626abd3bf9b9e7c67,feat: Add cache setting for table list,MERGED,2021-08-23 02:06:39.000000000,2021-08-23 06:41:37.000000000,2021-08-23 06:41:37.000000000,24,6,0,805544,8eb796e9c7f5be01fc2ba8d6f19eba9ab05f6c59,8,2,2,1,33689,xusongfu,xusongfu,"feat: Add cache setting for table list

Realize the caching of the table list through loacalstorage function

Change-Id: I87ae129d5adc8649787d6a3626abd3bf9b9e7c67
"
openstack%2Fskyline-console~master~I509e854102f4e6f90f59b78dbe75953f5c17b4c1,openstack/skyline-console,master,open-vname,I509e854102f4e6f90f59b78dbe75953f5c17b4c1,fix: Fix the user's real name field to real_name,MERGED,2021-08-23 06:09:28.000000000,2021-08-23 06:17:08.000000000,2021-08-23 06:17:08.000000000,26,26,0,805578,a5e03f36cb2fee037af9d1158149fa40523f290c,6,2,1,11,33689,xusongfu,xusongfu,"fix: Fix the user's real name field to real_name

For better readability, change the user's real name field to real_name

Change-Id: I509e854102f4e6f90f59b78dbe75953f5c17b4c1
"
openstack%2Fpuppet-tripleo~stable%2Ftrain~I9eb9123c4480a6882ac7af76afa0f75cfe23b470,openstack/puppet-tripleo,stable/train,uc-memcache,I9eb9123c4480a6882ac7af76afa0f75cfe23b470,[train-only] Use tripleo-undercloud-jobs-pipeline,MERGED,2021-08-21 14:47:03.000000000,2021-08-23 05:53:16.000000000,2021-08-23 05:53:16.000000000,1,1,0,805485,c0335851101becf690f9af46b9f2d80865ad3365,13,4,2,1,8833,Rabi Mishra,rabi,"[train-only] Use tripleo-undercloud-jobs-pipeline

Don't use deprecated tripleo-undercloud-jobs which
does not leverage the content provider.

Change-Id: I9eb9123c4480a6882ac7af76afa0f75cfe23b470
"
openstack%2Fcyborg~stable%2Fwallaby~I810cf892545eccd6255b01813a44e2c069ae5a7a,openstack/cyborg,stable/wallaby,,I810cf892545eccd6255b01813a44e2c069ae5a7a,update oslo.db version to 8.0.19 for cyborg,ABANDONED,2021-08-15 01:10:05.000000000,2021-08-23 05:36:38.000000000,,1,1,0,804441,af3d43481100bbf3f880eba8f9436abc40517752,8,4,3,1,28748,chenker,chenke,"update oslo.db version to 8.0.19 for cyborg

because[1] fix the oslo.db error.

[1]. https://review.opendev.org/c/openstack/oslo.db/+/792124

Change-Id: I810cf892545eccd6255b01813a44e2c069ae5a7a
"
openstack%2Fcyborg-tempest-plugin~master~Ie8b4f3f2ec55b83de03106c1930eee3d0ecec66c,openstack/cyborg-tempest-plugin,master,,Ie8b4f3f2ec55b83de03106c1930eee3d0ecec66c,[Test] Use a spaceline to check tempest ok or not,ABANDONED,2021-08-15 00:17:35.000000000,2021-08-23 05:36:25.000000000,,1,0,0,804583,a5ffe764aa10c2dba10c19c0e066fbc4c72ee3e6,5,14,2,1,28748,chenker,chenke,"[Test] Use a spaceline to check tempest ok or not

Depends-On: I810cf892545eccd6255b01813a44e2c069ae5a7a
Depends-On: I810cf892545eccd6255b01813a44e2c069ae5a7a

Change-Id: Ie8b4f3f2ec55b83de03106c1930eee3d0ecec66c
"
openstack%2Fpython-tripleoclient~master~Ie860b8a31a77e247680389bf3ae46ab6a64f208c,openstack/python-tripleoclient,master,ephemeral_heat,Ie860b8a31a77e247680389bf3ae46ab6a64f208c,Fix update run for Ephemeral Heat,ABANDONED,2021-08-22 03:26:08.000000000,2021-08-23 05:18:01.000000000,,34,93,0,805493,0e6e3b345df9e5ea1aae5be93b5c1e40da04c54e,8,3,2,4,30073,Brendan Shephard,bshephar,"Fix update run for Ephemeral Heat

With Ephemeral Heat, we can't call Heat during the
update run. As such, we will call config-download-only
with our update_steps_playbook.yaml.

Change-Id: Ie860b8a31a77e247680389bf3ae46ab6a64f208c
"
openstack%2Fcinder~stable%2Fvictoria~If465bc719cea2d4e85b37527f3f7ac916b5de638,openstack/cinder,stable/victoria,,If465bc719cea2d4e85b37527f3f7ac916b5de638,PowerMax Driver - Fix for create snapshot,MERGED,2021-08-20 14:47:33.000000000,2021-08-23 05:08:25.000000000,2021-08-20 23:19:11.000000000,37,5,1,805398,37be715cc7fd20878bbcd77965d2b9a902a25a99,26,5,3,6,12670,Helen Walsh,walshh2,"PowerMax Driver - Fix for create snapshot

Payload response change from REST means that the
Device Label no longer exists in the format expected and
causes an IndexError exception. This is the case in PowerMaxOS
5978.711 and later.

Closes-Bug: #1939139

Change-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638
(cherry picked from commit 672a0e97988755012ff87fb85bddc1cd125f1898)
(cherry picked from commit a366ed53b1ea17d0be266a4fca56785410b376cf)
"
openstack%2Fnova~master~I33641d19f72beba94540255a684679f6574ac931,openstack/nova,master,bp/cyborg-rebuild-and-evacuate,I33641d19f72beba94540255a684679f6574ac931,Refactor check and exception,NEW,2020-08-31 13:13:00.000000000,2021-08-23 05:03:46.000000000,,49,55,6,749052,3195304c34db3143c4b5d0543d9ee4a3f2112266,59,14,7,2,26458,Brin Zhang,zhangbailin,"Refactor check and exception

Move check and exception into '_get_bound_arq_resources'. As this is identical
to '_build_resources'.
Follow up the comment:
https://review.opendev.org/#/c/715326/27/nova/compute/manager.py@3281

Co-Authored-By: Wenping Song <songwenping@inspur.com>

Change-Id: I33641d19f72beba94540255a684679f6574ac931
"
openstack%2Fskyline-console~master~I7a6807aeb5ca6d6c508d8bdf8dfdbd7e507705d9,openstack/skyline-console,master,,I7a6807aeb5ca6d6c508d8bdf8dfdbd7e507705d9,fix: Fix for 5xx error & errorWithDetail params,MERGED,2021-08-23 03:45:54.000000000,2021-08-23 04:36:49.000000000,2021-08-23 04:36:49.000000000,88,39,0,805548,15128f67e31a1ec3b48b406f6d072df1776e6aa1,16,2,6,11,33636,zhu yue,zhu.yue,"fix: Fix for 5xx error & errorWithDetail params

1. fix for 5xx error
2. change the order of errorWithDetail params

Change-Id: I7a6807aeb5ca6d6c508d8bdf8dfdbd7e507705d9
"
openstack%2Fskyline-console~master~I90288dc87afea6402f4663ba0b8100458615fa89,openstack/skyline-console,master,,I90288dc87afea6402f4663ba0b8100458615fa89,fix: Fix getSinceTime when param is null/undefined,MERGED,2021-08-20 07:46:52.000000000,2021-08-23 04:29:39.000000000,2021-08-23 04:29:39.000000000,3,0,0,805346,6e86749e94f721d2cd649346608a5ea8d3fe8fd9,11,2,2,1,33636,zhu yue,zhu.yue,"fix: Fix getSinceTime when param is null/undefined

fix getSinceTime when param is null/undefined

Change-Id: I90288dc87afea6402f4663ba0b8100458615fa89
"
openstack%2Fwatcher~master~Ifa5dca06f07220512579e4fe3c5c741aeffc71cc,openstack/watcher,master,,Ifa5dca06f07220512579e4fe3c5c741aeffc71cc,BugFix:  Prevent float type variables from being passed to random,MERGED,2021-08-23 01:56:08.000000000,2021-08-23 03:54:03.000000000,2021-08-23 03:52:48.000000000,2,2,0,805551,6dd2f2a9c100e8620d33855e3438e9c00976006a,10,3,2,1,28748,chenker,chenke,"BugFix:  Prevent float type variables from being passed to random

>>> random.sample([5,10], 1.3)
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/usr/lib64/python3.6/random.py"", line 321, in sample
    result = [None] * k
TypeError: can't multiply sequence by non-int of type 'float'

Change-Id: Ifa5dca06f07220512579e4fe3c5c741aeffc71cc
"
openstack%2Fzaqar~master~I57b9a7f74cfa9026bd6c94d400ce832c05b57389,openstack/zaqar,master,reno-wallaby,I57b9a7f74cfa9026bd6c94d400ce832c05b57389,Update master for stable/wallaby,MERGED,2021-03-29 08:25:09.000000000,2021-08-23 03:34:29.000000000,2021-08-23 03:33:14.000000000,7,0,0,783619,7564be731e06ee44a748e27347c230a3ff487ae2,7,2,1,2,22816,OpenStack Release Bot,release,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I57b9a7f74cfa9026bd6c94d400ce832c05b57389
"
openstack%2Fskyline-console~master~I0350d9ef021d6ac05c62e0a19cebf0fe3a289a10,openstack/skyline-console,master,open-34161,I0350d9ef021d6ac05c62e0a19cebf0fe3a289a10,feat: Add roles column in projcet detail user list,MERGED,2021-08-23 01:47:02.000000000,2021-08-23 03:32:07.000000000,2021-08-23 03:32:07.000000000,42,32,4,805543,ad4ef3c9fa41db9ab32d2c06a785231d1459f322,9,3,2,2,33689,xusongfu,xusongfu,"feat: Add roles column in projcet detail user list

Add roles column in project detail user list

Change-Id: I0350d9ef021d6ac05c62e0a19cebf0fe3a289a10
"
openstack%2Fskyline-console~master~I1d66ff584fea3ffb312e000d46d8481eee623227,openstack/skyline-console,master,doc,I1d66ff584fea3ffb312e000d46d8481eee623227,docs: Update en test docs,MERGED,2021-07-09 03:53:22.000000000,2021-08-23 03:14:36.000000000,2021-08-23 03:14:36.000000000,65,65,0,800153,63ef5d01e368ba537c00d06ee0dafe61220f9b2b,10,3,3,7,30474,wuduochao,Duochao,"docs: Update en test docs

Update en test docs

Change-Id: I1d66ff584fea3ffb312e000d46d8481eee623227
"
openstack%2Fswift~master~I09c55a3ff323d36d513b6f01fa5cf14b32f3d976,openstack/swift,master,p-lonely-frags-v2,I09c55a3ff323d36d513b6f01fa5cf14b32f3d976,ring: store actual ring replica count to better deserialize,NEW,2021-08-06 01:40:17.000000000,2021-08-23 03:09:09.000000000,,202,23,50,803665,ac9d129bbe560803afb948b5ed9be61d8003f5a4,27,3,4,5,7233,Matthew Oliver,mattoliverau,"ring: store actual ring replica count to better deserialize

The current ring deserialize code when dealing with fractional replicas
only works because a read past the end of the ring file is truncated,
giving us the correct fractional replica. This is because we always
store the number of replicas in the ring dict on disk as
len(replica2part2dev_id) rather then the actual replica count, which in
the case of fractional could be something like 2.5.

This currently works, but if we ever want to store anything beyond the
replica2part2dev_id structure on disk, deserialize with a ring with
fractional replicas will pull extra data into the last replica,
potentially crashing deserialization.

This patch corrects serialization and deserialization by storing the
correct replica count and correctly pulling the right amount of data off
without over reading the file.

This also becomes a benefit, for if we ever put data at the end of the
file, and old version of Swift running this patch will still be able to
load a newer ring.

Change-Id: I09c55a3ff323d36d513b6f01fa5cf14b32f3d976
"
openstack%2Fskyline-console~master~I710c86c7930df6a39734aa9ce21bc3f8dbc7affb,openstack/skyline-console,master,,I710c86c7930df6a39734aa9ce21bc3f8dbc7affb,fix: Fix manage metadata,MERGED,2021-08-20 08:16:25.000000000,2021-08-23 03:03:34.000000000,2021-08-23 03:03:34.000000000,3,0,0,805351,dfe6bb4e9e41ed1060f0de4cff245bac337ed343,6,2,1,1,33636,zhu yue,zhu.yue,"fix: Fix manage metadata

make it can't select rows when clicking on the input box

Change-Id: I710c86c7930df6a39734aa9ce21bc3f8dbc7affb
"
openstack%2Fsolum~master~I0f629b1140e28c0bc1bc60edba4758a5b5f3ca50,openstack/solum,master,,I0f629b1140e28c0bc1bc60edba4758a5b5f3ca50,[TEST] CI TEST,ABANDONED,2021-08-23 02:58:25.000000000,2021-08-23 03:00:29.000000000,,0,0,0,805552,ddd62a3bd9d8d7f56da01954daa16067eab98aca,2,0,1,0,14107,zhurong,zhurong,"[TEST] CI TEST

Change-Id: I0f629b1140e28c0bc1bc60edba4758a5b5f3ca50
"
openstack%2Fskyline-console~master~Id19f9e154841e64a9d468b90fee26e86cd06417e,openstack/skyline-console,master,open-34622,Id19f9e154841e64a9d468b90fee26e86cd06417e,fix: Fix the stack log is not showed completely,MERGED,2021-08-23 01:46:37.000000000,2021-08-23 02:34:51.000000000,2021-08-23 02:34:51.000000000,11,0,1,805542,4ce4746058588baa78b8f0623fdffa1f4bcac867,11,3,3,1,33689,xusongfu,xusongfu,"fix: Fix the stack log is not showed completely

1. The name of the stack is too long to showed completely
2. Add css style with workbreak & wordwrap to fix this problem

Change-Id: Id19f9e154841e64a9d468b90fee26e86cd06417e
"
openstack%2Fskyline-console~master~I4cc4e489a81847f0c3b6190576141b9c39d9075e,openstack/skyline-console,master,,I4cc4e489a81847f0c3b6190576141b9c39d9075e,feature: Support tips at top in StepForm component,MERGED,2021-08-20 08:28:57.000000000,2021-08-23 02:26:41.000000000,2021-08-23 02:26:41.000000000,35,14,0,805356,9a955f280b10333d35b9073fb4e89e00b59c09fe,10,2,3,6,30434,Jingwei.Zhang,jwzhang,"feature: Support tips at top in StepForm component

Support tips at top in StepForm component

Change-Id: I4cc4e489a81847f0c3b6190576141b9c39d9075e
"
openstack%2Ftripleo-common~master~Iffae5828807fed31111527edcbe5e3fb480415c4,openstack/tripleo-common,master,bp/whole-disk-default,Iffae5828807fed31111527edcbe5e3fb480415c4,DNM: DO NOT MERGE (don't merge),ABANDONED,2021-07-19 04:06:01.000000000,2021-08-23 02:24:24.000000000,,1,1,0,801226,d3d4b4b870551bdac6af0445d2bd94d75503de85,4,2,1,1,4571,Steve Baker,steve-stevebaker,"DNM: DO NOT MERGE (don't merge)

This change triggers featureset001 to build
overcloud-hardened-uefi-full.qcow2 until it is published for download.

Change-Id: Iffae5828807fed31111527edcbe5e3fb480415c4
"
openstack%2Fskyline-console~master~I6ec0c021b3c66d03f3d8520f57b80eb18d237162,openstack/skyline-console,master,patch-dev,I6ec0c021b3c66d03f3d8520f57b80eb18d237162,fix: Fix redirect to overview page,MERGED,2021-08-20 08:19:23.000000000,2021-08-23 02:23:48.000000000,2021-08-23 02:23:48.000000000,1,1,0,805354,3093a201edb332d2536f8316a69265975c6631ac,7,3,1,1,33689,xusongfu,xusongfu,"fix: Fix redirect to overview page

Fix redirect to overview page when user already logged in

Change-Id: I6ec0c021b3c66d03f3d8520f57b80eb18d237162
"
openstack%2Fkuryr-kubernetes~master~I2e18c6af63ce1c1eb139dce40e2f021c08944fdd,openstack/kuryr-kubernetes,master,move-vif_pool_cfg-to-config,I2e18c6af63ce1c1eb139dce40e2f021c08944fdd,move vif_pool oslo_cfg to config,ABANDONED,2021-08-20 04:52:08.000000000,2021-08-23 01:49:18.000000000,,70,72,3,805331,4a43121def527fa24a98e847ef2280a5bc735f61,4,1,1,2,19521,Robin Cernin,rcernin,"move vif_pool oslo_cfg to config

Move the relevant configuration from vif_pool to config
where the rest of the opts are.

Change-Id: I2e18c6af63ce1c1eb139dce40e2f021c08944fdd
"
openstack%2Fpython-cyborgclient~master~I7b7900ebb9f67024b1393d35cc3ed90a89a5f7c6,openstack/python-cyborgclient,master,,I7b7900ebb9f67024b1393d35cc3ed90a89a5f7c6,Add doc/requirements.txt to releasenotes tox environment,ABANDONED,2019-01-09 18:14:52.000000000,2021-08-23 00:05:00.000000000,,3,0,1,629615,2e0957545b545f2b715c85665ff4ac0af420ac65,4,2,1,1,28935,98k,98k,"Add doc/requirements.txt to releasenotes tox environment

Without these dependencies, the releasenotes build does not actually
work.

Change-Id: I7b7900ebb9f67024b1393d35cc3ed90a89a5f7c6
"
openstack%2Fpuppet-glance~stable%2Fvictoria~Ie721a6501c94b818a6148dec8e8677fb6eca5fdf,openstack/puppet-glance,stable/victoria,tripleo-image-builde,Ie721a6501c94b818a6148dec8e8677fb6eca5fdf,Fix wrong parameter name in deprecation warning,ABANDONED,2021-08-22 23:43:03.000000000,2021-08-22 23:43:44.000000000,,1,1,0,805538,c46fee65285c220d7476585f54c097e71aa48776,2,0,1,1,9816,Takashi Kajinami,kajinamit,"Fix wrong parameter name in deprecation warning

Change-Id: Ie721a6501c94b818a6148dec8e8677fb6eca5fdf
"
openstack%2Fneutron-tempest-plugin~master~Ied226dec9923f021d8f26f1e59b01602d4b1ae82,openstack/neutron-tempest-plugin,master,,Ied226dec9923f021d8f26f1e59b01602d4b1ae82,Configure a NetworkManager profile with ipv6 supported format,MERGED,2021-03-05 23:29:42.000000000,2021-08-22 16:58:51.000000000,2021-08-22 16:58:51.000000000,25,17,2,779062,dfca7c12dc4862c6feedc66f2fa645d9e42e9628,31,6,3,1,29088,Candido Campos Rivas,ccamposr,"Configure a NetworkManager profile with ipv6 supported format

This test was unstable due to the default ipv6 format in NM isn't
supported by neutron

Change-Id: Ied226dec9923f021d8f26f1e59b01602d4b1ae82
"
openstack%2Fopenstack-helm~master~I2f5c6f5387929f59dc2209681373859700a10d16,openstack/openstack-helm,master,,I2f5c6f5387929f59dc2209681373859700a10d16,[WIP] Fix cinder privileged issues,ABANDONED,2021-07-28 19:20:39.000000000,2021-08-22 14:09:18.000000000,,2,2,0,802797,d3ef43c2b3d0f37f9344e26d7b8969cbcaf17743,3,1,1,1,29298,Jagan Mohan Kavva,jk330k,"[WIP] Fix cinder privileged issues

Change-Id: I2f5c6f5387929f59dc2209681373859700a10d16
"
openstack%2Fpuppet-octavia~stable%2Fvictoria~I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7,openstack/puppet-octavia,stable/victoria,tripleo-tempest,I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7,TripleO: Reduce tempest test scope,MERGED,2021-08-22 05:12:07.000000000,2021-08-22 12:38:42.000000000,2021-08-22 12:38:42.000000000,7,0,0,805518,427f3b6568c453c6401f051f3197ccd7e97e7dc6,11,2,1,1,9816,Takashi Kajinami,kajinamit,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests executed in TripleO job
so that we run the same set of Octavia tests as the ones used in
tripleo-ci-centos-N-scenario010-standalone job in TripleO repos which
enables Octavia with Amphora driver.

Change-Id: I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7
(cherry picked from commit 5565bb60a0a3de5263a0f8bbeb701305c0696e82)
(cherry picked from commit 7658c66ad36072fa3c265ce5d0f95cf1510cbb68)
"
openstack%2Fpuppet-neutron~stable%2Fussuri~I9c3e45adb2b969f498313cfb739f174d148c2c7d,openstack/puppet-neutron,stable/ussuri,tripleo-tempest,I9c3e45adb2b969f498313cfb739f174d148c2c7d,TripleO: Reduce tempest test scope,MERGED,2021-08-22 05:15:35.000000000,2021-08-22 12:28:48.000000000,2021-08-22 12:28:48.000000000,1,3,0,805521,5864e305273470a2b3a36be56a217c6df5f04018,11,2,1,1,9816,Takashi Kajinami,kajinamit,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests in tripleo job, so that we
run only subset of test cases used in TripleO repos.

Change-Id: I9c3e45adb2b969f498313cfb739f174d148c2c7d
(cherry picked from commit c6fc2e417f07d91e6d818af2a9b3fc4dc13abe58)
(cherry picked from commit 57919b4fb1f0712a3732dc23b218046f50f2cfc1)
(cherry picked from commit 449f9ce128d6afac222b5943dfcfe1cbb3d27780)
"
openstack%2Fnova~master~I0377d04043130e1acb4f4e8e9b54fbe3ec86e073,openstack/nova,master,,I0377d04043130e1acb4f4e8e9b54fbe3ec86e073,Remove the redundant code for attach interface,MERGED,2021-06-13 08:47:09.000000000,2021-08-22 12:02:11.000000000,2021-08-22 10:15:58.000000000,0,6,1,796208,faa9de93d143ca8216c8774eed3397a4e9c2ae1f,84,6,4,1,31827,Jorhson Deng,dengzhaosen,"Remove the redundant code for attach interface

The 'pci_request_id' attribute of the 'nova.objects.NetworkRequest'
object is already populated by the preceeding call to
'create_resource_requests' [1].

[1] https://opendev.org/openstack/nova/src/tag/22.0.0/nova/network/neutron.py#L2149

Change-Id: I0377d04043130e1acb4f4e8e9b54fbe3ec86e073
"
openstack%2Fcinder~stable%2Fwallaby~If465bc719cea2d4e85b37527f3f7ac916b5de638,openstack/cinder,stable/wallaby,,If465bc719cea2d4e85b37527f3f7ac916b5de638,PowerMax Driver - Fix for create snapshot,MERGED,2021-08-18 16:54:13.000000000,2021-08-22 11:46:28.000000000,2021-08-20 12:34:02.000000000,33,3,0,805060,a366ed53b1ea17d0be266a4fca56785410b376cf,32,4,1,4,12670,Helen Walsh,walshh2,"PowerMax Driver - Fix for create snapshot

Payload response change from REST means that the
Device Label no longer exists in the format expected and
causes an IndexError exception. This is the case in PowerMaxOS
5978.711 and later.

Closes-Bug: #1939139

Change-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638
(cherry picked from commit 672a0e97988755012ff87fb85bddc1cd125f1898)
"
openstack%2Fpuppet-nova~stable%2Ftrain~Idecb41c3cd78e6cc87f324f41ed77b981c3025ce,openstack/puppet-nova,stable/train,tripleo-tempest,Idecb41c3cd78e6cc87f324f41ed77b981c3025ce,TripleO: Reduce tempest test scope,MERGED,2021-08-22 08:07:12.000000000,2021-08-22 10:40:20.000000000,2021-08-22 10:40:20.000000000,0,1,0,805523,9cc35d58b412a5a5fac44181754fecfd3d6efaaa,8,2,1,1,9816,Takashi Kajinami,kajinamit,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests in tripleo job, so that we
run only subset of test cases used in TripleO repos.

Change-Id: Idecb41c3cd78e6cc87f324f41ed77b981c3025ce
(cherry picked from commit a73d22babd41a67510cea48747fe95b3330ec1bc)
(cherry picked from commit 5d581f04389cda0ece093fcc599e8e4b1d13cd6e)
(cherry picked from commit 37558d657f6893c0925650a86b09336ef098b946)
(cherry picked from commit 9102d328f63b278b2edfd2152016b7171af1769c)
"
openstack%2Fpuppet-glance~stable%2Fussuri~If1ab96a8b78f47e3316c0a05b27f7827a27ab559,openstack/puppet-glance,stable/ussuri,tripleo-tempest,If1ab96a8b78f47e3316c0a05b27f7827a27ab559,TripleO: Reduce tempest test scope,MERGED,2021-08-22 05:14:32.000000000,2021-08-22 10:32:41.000000000,2021-08-22 10:32:41.000000000,0,1,0,805519,62e1e904f7b0850f848e7496835b37d1cff467c1,9,2,1,1,9816,Takashi Kajinami,kajinamit,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests in tripleo job, so that we
run only subset of test cases used in TripleO repos.

Change-Id: If1ab96a8b78f47e3316c0a05b27f7827a27ab559
(cherry picked from commit 07d0fa7ab8f1a44e044ea2796f126c463cf59765)
(cherry picked from commit da08bab24cbb2106adad434f92cca1577d4adc24)
(cherry picked from commit ee851c2360daaacab506339b7b68c85072ebbf2a)
"
openstack%2Fpuppet-swift~stable%2Fussuri~Ia28f458ac84e4f46dcda0dd800276bbd5721a568,openstack/puppet-swift,stable/ussuri,tripleo-tempest,Ia28f458ac84e4f46dcda0dd800276bbd5721a568,TripleO: Reduce tempest test scope,MERGED,2021-08-22 05:15:57.000000000,2021-08-22 10:21:46.000000000,2021-08-22 10:21:46.000000000,1,1,0,805522,efee875a95dcb12626507e7c3395407d002f84b1,9,2,1,1,9816,Takashi Kajinami,kajinamit,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests in tripleo job, so that we
run only subset of test cases used in TripleO repos.

Change-Id: Ia28f458ac84e4f46dcda0dd800276bbd5721a568
(cherry picked from commit 56c1954629b78921ca9e8347ca7fd77f1d588062)
(cherry picked from commit 5e0cb3c89b7ae4a78ffcc9c665442dd31a920e35)
(cherry picked from commit eb93f97fbe39851711f46872d4dcb8be99f7be21)
"
openstack%2Fpuppet-cinder~stable%2Fussuri~Ib913f0fe20af74c9a21875c6a7b497dfa2c30880,openstack/puppet-cinder,stable/ussuri,tripleo-tempest,Ib913f0fe20af74c9a21875c6a7b497dfa2c30880,TripleO: Reduce tempest test scope,MERGED,2021-07-14 15:38:10.000000000,2021-08-22 09:48:19.000000000,2021-08-22 09:48:19.000000000,2,3,0,800649,9cb3fc5f8a2d288f7f5f807c76d5c7fae4631403,12,2,2,1,9816,Takashi Kajinami,kajinamit,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests in tripleo job, so that we
run only subset of test cases used in TripleO repos.

Change-Id: Ib913f0fe20af74c9a21875c6a7b497dfa2c30880
(cherry picked from commit 6bb2ecec0f0226fb7e9b57b37fc63ca4e544fdd3)
(cherry picked from commit 8b2b7212e2388b199c28ca3b36e7d5be1bbd3e14)
(cherry picked from commit b1f706d7abed341d775d02e6ac4a41899e4eb7c8)
"
openstack%2Fpuppet-keystone~stable%2Fussuri~Ice33a872b371c0b1ea9de94e111c9157ad5c4750,openstack/puppet-keystone,stable/ussuri,tripleo-tempest,Ice33a872b371c0b1ea9de94e111c9157ad5c4750,TripleO: Reduce tempest test scope,MERGED,2021-08-22 05:15:02.000000000,2021-08-22 09:27:07.000000000,2021-08-22 09:27:07.000000000,1,2,0,805520,7cd34da55b1e3b944bd7826e7a97312a7f0c5bd0,9,2,1,1,9816,Takashi Kajinami,kajinamit,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests in tripleo job, so that we
run only subset of test cases used in TripleO repos.

Change-Id: Ice33a872b371c0b1ea9de94e111c9157ad5c4750
(cherry picked from commit f591e24a8e9b0257a7fbba7fa8d0c3672f2ab99d)
(cherry picked from commit 7afaa30f2b626ed06c6b7995e733449da784b042)
(cherry picked from commit ca7213ae008a0d56b77873ac9d22dcc0c20a6e35)
"
openstack%2Fpuppet-octavia~stable%2Fwallaby~I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7,openstack/puppet-octavia,stable/wallaby,tripleo-tempest,I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7,TripleO: Reduce tempest test scope,MERGED,2021-08-22 05:11:43.000000000,2021-08-22 09:06:08.000000000,2021-08-22 09:06:08.000000000,7,0,0,805517,7658c66ad36072fa3c265ce5d0f95cf1510cbb68,9,2,1,1,9816,Takashi Kajinami,kajinamit,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests executed in TripleO job
so that we run the same set of Octavia tests as the ones used in
tripleo-ci-centos-N-scenario010-standalone job in TripleO repos which
enables Octavia with Amphora driver.

Change-Id: I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7
(cherry picked from commit 5565bb60a0a3de5263a0f8bbeb701305c0696e82)
"
openstack%2Fpuppet-neutron~stable%2Fvictoria~Ie8e668e4660228d0aa9798f894ffa6a7826850ea,openstack/puppet-neutron,stable/victoria,tripleo-undercloud-stable/wallaby-stable/victoria,Ie8e668e4660228d0aa9798f894ffa6a7826850ea,Add  tripleo-undercloud job,ABANDONED,2021-08-22 08:30:14.000000000,2021-08-22 08:31:54.000000000,,7,1,0,805524,c5df5dbcaca965b8441c76f10d9a3510a2c54047,3,0,1,1,9816,Takashi Kajinami,kajinamit,"Add  tripleo-undercloud job

TripleO uses ironic + networking-baremetal in undercloud while it does
not use ironic in overcloud. This change adds tripleo-undercloud so
that code specific to networking-baremetal is tested.

Change-Id: Ie8e668e4660228d0aa9798f894ffa6a7826850ea
(cherry picked from commit ccf6b4912ebe48d11d3b8d3cb1162a29fae1e026)
(cherry picked from commit febbc382fd7bc2905a1a823b477b7e10c6a54a90)
"
openstack%2Fpuppet-nova~stable%2Fussuri~Idecb41c3cd78e6cc87f324f41ed77b981c3025ce,openstack/puppet-nova,stable/ussuri,tripleo-tempest,Idecb41c3cd78e6cc87f324f41ed77b981c3025ce,TripleO: Reduce tempest test scope,MERGED,2021-05-27 05:57:09.000000000,2021-08-22 07:49:15.000000000,2021-08-22 07:49:15.000000000,0,1,0,793192,9102d328f63b278b2edfd2152016b7171af1769c,12,3,1,1,9816,Takashi Kajinami,kajinamit,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests in tripleo job, so that we
run only subset of test cases used in TripleO repos.

Change-Id: Idecb41c3cd78e6cc87f324f41ed77b981c3025ce
(cherry picked from commit a73d22babd41a67510cea48747fe95b3330ec1bc)
(cherry picked from commit 5d581f04389cda0ece093fcc599e8e4b1d13cd6e)
(cherry picked from commit 37558d657f6893c0925650a86b09336ef098b946)
"
openstack%2Fneutron~master~I28a4a5fef20d5049f4887d43006947b434de3d78,openstack/neutron,master,bug/1939704,I28a4a5fef20d5049f4887d43006947b434de3d78,ovn: Don't fail db-sync if port binding changes,MERGED,2021-08-12 15:04:06.000000000,2021-08-22 06:47:02.000000000,2021-08-16 14:02:04.000000000,33,1,0,804405,9e0c075bf169ed6f3d768cf23be6f47aeae0f98e,15,6,2,2,8655,Jakub Libosvar,jlibosva,"ovn: Don't fail db-sync if port binding changes

During migration from OVS to OVN it can happen that gateway ports are
scheduled to a different gateway chassis when Neutron is running. This
patch doesn't fail in such case. The migration procedure runs the db
sync twice in a row so it should be good to not perform any action when
this happens and let the next migration handle that.

Change-Id: I28a4a5fef20d5049f4887d43006947b434de3d78
Closes-Bug: #1939704
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
"
openstack%2Fmurano~master~I61c593a627b7b55b77beb77abb3cafd4ba4371e5,openstack/murano,master,exame-tls-proxy,I61c593a627b7b55b77beb77abb3cafd4ba4371e5,Enable tls-proxy support for test jobs,MERGED,2021-06-17 08:12:27.000000000,2021-08-22 05:51:29.000000000,2021-08-22 05:47:56.000000000,0,2,0,796790,5ccb44139f215f10e45d1b0883ceb76009164d15,9,2,1,1,12404,Rico Lin,rico.lin,"Enable tls-proxy support for test jobs

Change-Id: I61c593a627b7b55b77beb77abb3cafd4ba4371e5
"
openstack%2Fpuppet-octavia~master~I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7,openstack/puppet-octavia,master,tripleo-tempest,I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7,TripleO: Reduce tempest test scope,MERGED,2021-07-19 23:28:29.000000000,2021-08-22 05:44:35.000000000,2021-08-22 05:44:35.000000000,7,0,9,801400,5565bb60a0a3de5263a0f8bbeb701305c0696e82,36,8,7,1,9816,Takashi Kajinami,kajinamit,"TripleO: Reduce tempest test scope

This change reduces scope of tempest tests executed in TripleO job
so that we run the same set of Octavia tests as the ones used in
tripleo-ci-centos-N-scenario010-standalone job in TripleO repos which
enables Octavia with Amphora driver.

Change-Id: I3d879b2b8dd6110dfc1949d377c36c9cc3686ed7
"
openstack%2Fmurano~master~I5425f96ef4a8817d493cfd583bb0ae2c9520f866,openstack/murano,master,project-ptl-and-contrib-docs,I5425f96ef4a8817d493cfd583bb0ae2c9520f866,[community goal] Update contributor documentation,MERGED,2021-05-17 23:03:37.000000000,2021-08-22 05:32:06.000000000,2021-08-22 05:29:15.000000000,60,47,0,791837,70dc64e7c56b4b369ac9dbdc52db8237f83dd285,19,4,3,3,8556,Ghanshyam,ghanshyam,"[community goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38539
Change-Id: I5425f96ef4a8817d493cfd583bb0ae2c9520f866
"
openstack%2Fmurano~master~Ia57b4ce4aa996e61346eae0f4b6a6599f8555652,openstack/murano,master,missing-tgtermes.sty,Ia57b4ce4aa996e61346eae0f4b6a6599f8555652,Add missing font for PDF doc generation,MERGED,2021-06-04 12:44:25.000000000,2021-08-22 05:30:39.000000000,2021-08-22 05:29:14.000000000,2,0,0,794797,d36954704d1e327686596024aeb4c21a370b4d45,13,2,1,1,17685,Elod Illes,elod.illes,"Add missing font for PDF doc generation

openstack-tox-docs job started to fail with the following error:

! LaTeX Error: File `tgtermes.sty' not found.

This patch adds the required font package to bindep doc profile.

Change-Id: Ia57b4ce4aa996e61346eae0f4b6a6599f8555652
"
openstack%2Fcinder~master~I4a6e93ea98cfd4988d38bedca6e5538391c1f74d,openstack/cinder,master,,I4a6e93ea98cfd4988d38bedca6e5538391c1f74d,Add releasenote for schema validation fix,MERGED,2021-08-16 08:25:06.000000000,2021-08-22 04:53:54.000000000,2021-08-19 18:13:45.000000000,10,0,0,804611,f179df0864a770d727d0b249aa51285aefe80bef,41,3,3,1,27615,Rajat Dhasmana,whoami-rajat,"Add releasenote for schema validation fix

With change I5108fd51effa4d72581654ed450d191a13e0e964, we changed
schema validation for attachment create API to make the instance uuid
parameter optional and also add validation for mode parameter.
This is a followup patch to add a releasenote for the same.

Change-Id: I4a6e93ea98cfd4988d38bedca6e5538391c1f74d
"
openstack%2Fsolum~master~Iabe5066c82ee222caf609667b4acbfc48d28429c,openstack/solum,master,,Iabe5066c82ee222caf609667b4acbfc48d28429c,TEST CI,NEW,2021-08-22 03:43:07.000000000,2021-08-22 04:45:21.000000000,,1,0,0,805515,849f0e455cac143c8cf7743e6d2a6b0161eb2868,4,1,2,1,14107,zhurong,zhurong,"TEST CI

Change-Id: Iabe5066c82ee222caf609667b4acbfc48d28429c
"
openstack%2Fmurano~stable%2Fwallaby~I5268132018e0a283bd35b5599cf8ca41968dde93,openstack/murano,stable/wallaby,bug/1938676-stable/wallaby,I5268132018e0a283bd35b5599cf8ca41968dde93,Fix broken unit test,MERGED,2021-08-22 03:39:02.000000000,2021-08-22 04:12:39.000000000,2021-08-22 04:11:25.000000000,4,1,0,805513,623d6b49a086fd4fe2d4bdc40720522905ca3a47,7,3,1,1,14107,zhurong,zhurong,"Fix broken unit test

This change mocks sqlalchemy.update during unit tests properly to avoid
the following error.

sqlalchemy.exc.ArgumentError: subject table for an INSERT, UPDATE or
DELETE expected, got <MagicMock name='models.Instance' id='...'>

Closes-Bug: #1938676
Change-Id: I5268132018e0a283bd35b5599cf8ca41968dde93
(cherry picked from commit 2800f0b62c2936cd68c35623010c3f57d58b975d)
"
openstack%2Fmurano~master~Ifb983fa478120a95760bf0cb78994210acdbe8e8,openstack/murano,master,collections-abc,Ifb983fa478120a95760bf0cb78994210acdbe8e8,Replace deprecated import of ABCs from collections,MERGED,2021-07-27 00:04:42.000000000,2021-08-22 04:10:55.000000000,2021-08-22 04:09:36.000000000,3,3,2,802410,181d09d05fa1f7ad9f2b07f973959208c61e5552,13,3,2,1,9816,Takashi Kajinami,kajinamit,"Replace deprecated import of ABCs from collections

ABCs in collections should be imported from collections.abc and direct
import from collections is deprecated since Python 3.3.

Change-Id: Ifb983fa478120a95760bf0cb78994210acdbe8e8
"
openstack%2Fmurano~master~Ic35ab4936d82e07493ecd5f81e6e46a84dc6546c,openstack/murano,master,fnmatch,Ic35ab4936d82e07493ecd5f81e6e46a84dc6546c,"Revert ""Use fnmatch from oslo.utils""",MERGED,2021-07-06 12:31:10.000000000,2021-08-22 03:34:47.000000000,2021-08-22 03:32:24.000000000,1,1,0,799586,4193e28ddd24bac8f89f20d6032df40d6cb55742,11,7,2,1,9816,Takashi Kajinami,kajinamit,"Revert ""Use fnmatch from oslo.utils""

This reverts commit 4fbe4ee43354091dfdcbbaf9d8876f4f2c4cfd8d.

Reason for revert:
The oslo_utils.fnmatch module was added to solve an issue in py2.7 but
it is no longer required because py2.7 is no longer supported.
The module was deprecated since oslo.utils 4.9.1[1] and the stdlib's
fnmatch module should be used instead.

[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b

Change-Id: Ic35ab4936d82e07493ecd5f81e6e46a84dc6546c
"
openstack%2Fmurano~master~I5268132018e0a283bd35b5599cf8ca41968dde93,openstack/murano,master,bug/1938676,I5268132018e0a283bd35b5599cf8ca41968dde93,Fix broken unit test,MERGED,2021-08-02 08:22:59.000000000,2021-08-22 03:33:42.000000000,2021-08-22 03:32:22.000000000,4,1,0,803151,2800f0b62c2936cd68c35623010c3f57d58b975d,8,2,1,1,9816,Takashi Kajinami,kajinamit,"Fix broken unit test

This change mocks sqlalchemy.update during unit tests properly to avoid
the following error.

sqlalchemy.exc.ArgumentError: subject table for an INSERT, UPDATE or
DELETE expected, got <MagicMock name='models.Instance' id='...'>

Closes-Bug: #1938676
Change-Id: I5268132018e0a283bd35b5599cf8ca41968dde93
"
openstack%2Fmurano-dashboard~master~Id5ab97349f702be1afc536c154cf0e35197150b8,openstack/murano-dashboard,master,,Id5ab97349f702be1afc536c154cf0e35197150b8,Fix horizon compilemessages with murano ui enabled,MERGED,2021-08-20 15:52:22.000000000,2021-08-22 03:17:23.000000000,2021-08-22 03:17:23.000000000,11,3,0,805421,fb7d081bc89d9d2a80f0d49a32413c81f2d04289,6,2,1,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix horizon compilemessages with murano ui enabled

Currently if you enable murano UI and try to compile messages you will be
thrown `NameError: name 'HORIZON_CONFIG' is not defined

So we explicitly import HORIZON_CONFIG along with POLICY_FILES
to make horizon successfully compile when murano-ui
was enabled.

Change-Id: Id5ab97349f702be1afc536c154cf0e35197150b8
"
openstack%2Fnova~master~I92b0386432444fc8bdf852de4bdb6cebb370a8ca,openstack/nova,master,remove-deprecated-filters,I92b0386432444fc8bdf852de4bdb6cebb370a8ca,Deprecate filters that have been replaced by placement filters,MERGED,2020-08-10 23:51:51.000000000,2021-08-21 20:28:26.000000000,2021-08-21 02:51:28.000000000,59,21,90,745605,7c7a2a142d74a7deeda2a79baf21b689fe32cd08,69,17,6,6,11604,sean mooney,sean-k-mooney,"Deprecate filters that have been replaced by placement filters

This change deprecates the AZ filters which is no longer required.

This also enable the use of placement for AZ enforcement by default and
deprecates the config option for removal.

Change-Id: I92b0386432444fc8bdf852de4bdb6cebb370a8ca
"
openstack%2Fstorlets~master~Ic9d24ba0b2bfee402552d7658f7ddb3db9e50c20,openstack/storlets,master,docker-nosuid,Ic9d24ba0b2bfee402552d7658f7ddb3db9e50c20,Dynamically detect the user to run agent processes,NEW,2021-08-21 07:59:01.000000000,2021-08-21 19:45:59.000000000,,16,22,1,805476,c72f6b655105fc34d4f355198d70f3f40ba6db41,12,1,6,5,9816,Takashi Kajinami,kajinamit,"Dynamically detect the user to run agent processes

Previously the user to run agent processes are hard-coded to 'swift'
but this doesn't work in the deployment where a different user is used
to run swift processes.

With this change, now the user to run agent processes is determined
automatically based on the user used to run swift processes.
Because now swift services and agent processes are running by the same
user, 0777 permission is no longer required about unix domain sockets.

Change-Id: Ic9d24ba0b2bfee402552d7658f7ddb3db9e50c20
"
openstack%2Frequirements~master~I4cee198cb4262aa2d7b2c2b519bbf830942d261c,openstack/requirements,master,openstack/requirements/constraints/noclob,I4cee198cb4262aa2d7b2c2b519bbf830942d261c,Updated from generate-constraints,MERGED,2021-08-21 06:24:51.000000000,2021-08-21 19:08:32.000000000,2021-08-21 19:07:16.000000000,3,3,0,805474,4bc55806a987e0b3257936294a18a5409c4f6b48,12,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I4cee198cb4262aa2d7b2c2b519bbf830942d261c
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fneutron~master~I90a130830a6a76cd68adfb6503bb268a60d7de20,openstack/neutron,master,bug/1938766,I90a130830a6a76cd68adfb6503bb268a60d7de20,functional: Add debug messages around OVN services,MERGED,2021-08-09 15:27:25.000000000,2021-08-21 17:24:03.000000000,2021-08-21 17:22:23.000000000,4,0,3,803936,c267125e20d78f3d9eaedf743049432cf6c3dc23,103,4,1,1,8655,Jakub Libosvar,jlibosva,"functional: Add debug messages around OVN services

This patch is to help understand LP bug 1938766.

Change-Id: I90a130830a6a76cd68adfb6503bb268a60d7de20
"
openstack%2Fproject-config~master~I7ee16ea4d7109639a3f258143d2f6495d5b5462f,openstack/project-config,master,matrix,I7ee16ea4d7109639a3f258143d2f6495d5b5462f,Remove gerritbot from #zuul,MERGED,2021-08-20 21:43:50.000000000,2021-08-21 16:20:02.000000000,2021-08-21 14:47:13.000000000,0,11,0,805463,aae2c9ed101d7172fa2acd1316d83e32217e3fe7,13,5,1,1,1,James E. Blair,corvus,"Remove gerritbot from #zuul

Zuul is moving to an unbridged Matrix room.

Change-Id: I7ee16ea4d7109639a3f258143d2f6495d5b5462f
"
openstack%2Fpuppet-tripleo~master~I3056e1767928f9e7232ec50616e7c4f342216fe5,openstack/puppet-tripleo,master,setup-cfg,I3056e1767928f9e7232ec50616e7c4f342216fe5,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 11:43:49.000000000,2021-08-21 14:02:48.000000000,2021-08-21 14:02:48.000000000,3,3,0,790666,e0993e504c614e329a91b23282dac909616558aa,16,4,1,1,9816,Takashi Kajinami,kajinamit,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I3056e1767928f9e7232ec50616e7c4f342216fe5
"
openstack%2Foslo.middleware~master~I3d80d86afd063af9fa2f411885dbd0dc65a7bbc7,openstack/oslo.middleware,master,basic_auth,I3d80d86afd063af9fa2f411885dbd0dc65a7bbc7,Add new basic auth middleware,MERGED,2021-07-26 06:53:44.000000000,2021-08-21 13:56:14.000000000,2021-08-03 13:50:12.000000000,390,0,20,802234,da7987ca926e9bd82ff2989a920ea9740da24f95,19,6,2,4,8833,Rabi Mishra,rabi,"Add new basic auth middleware

This adds a middleware that can be used as an alternative to noauth in
standalone environments.

This middleware uses a password file which supports the Apache htpasswd
syntax. This file is read for every request, so no service restart is
required when changes are made.

The only password digest supported is bcrypt, and the ``bcrypt``
python library is used for password checks since it supports ``$2y$``
prefixed bcrypt passwords as generated by the Apache htpasswd utility.

Adapted from I874783b8ece0eedf27a94dfed5163d0c82f8b9de.

Change-Id: I3d80d86afd063af9fa2f411885dbd0dc65a7bbc7
"
openstack%2Fnova~master~I2da867f2734b590a884b1fe1200c402cbf7e9e1c,openstack/nova,master,workaround-disable-apic,I2da867f2734b590a884b1fe1200c402cbf7e9e1c,workarounds: Add libvirt_disable_apic,MERGED,2020-12-08 16:49:30.000000000,2021-08-21 13:49:20.000000000,2021-08-21 02:51:18.000000000,56,1,17,766043,ec48e1523dfdd0f1031e1a70c28c56962db66e8a,48,5,3,4,11604,sean mooney,sean-k-mooney,"workarounds: Add libvirt_disable_apic

This change adds a new workaround config option to allow disabling the
guest apic.

Co-authored-by: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1939108
Change-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c
"
openstack%2Fdevstack~master~Idf3721969ed59a5cc449588367ad96ef48ba32f3,openstack/devstack,master,user_group,Idf3721969ed59a5cc449588367ad96ef48ba32f3,swift: Fix usage of uninitialized USER_GROUP,ABANDONED,2021-08-21 12:50:51.000000000,2021-08-21 12:54:35.000000000,,1,2,0,805483,56245509e0b3e617972e7bf21720cce2d104a4ed,2,0,1,1,9816,Takashi Kajinami,kajinamit,"swift: Fix usage of uninitialized USER_GROUP

This change fixes the wrong usage of the USER_GROUP variable, which is
not either declared or initialized. Currently this results  in an empty
value set to the group option in rsync.conf.

This also fixes duplicate declaration of the local user_group variable.

Change-Id: Idf3721969ed59a5cc449588367ad96ef48ba32f3
"
openstack%2Fkolla-ansible~master~I8b7f0c76d55cd31311285ce746acb6335e044470,openstack/kolla-ansible,master,ci-fix-debian-upgrade,I8b7f0c76d55cd31311285ce746acb6335e044470,[CI] Fix Debian upgrade,MERGED,2021-08-12 19:15:24.000000000,2021-08-21 11:28:08.000000000,2021-08-21 11:26:46.000000000,7,2,1,804455,b6d9cf7685b79418905bc9cf6f3ccf0763053c06,10,4,1,1,30491,Radosław Piliszek,yoctozepto,"[CI] Fix Debian upgrade

Debian upgrades failed on using the ansible command to remove
chrony service because of broken python autodetection.
This patch uses the same workaround we have in globals-default.j2.
This is not nice long-term but there is no reason to keep the two
out of sync. We should remove this workaround from both places
when the situation fixes itself (possibly with newer Ansible).

Change-Id: I8b7f0c76d55cd31311285ce746acb6335e044470
"
openstack%2Fcinder~master~I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e,openstack/cinder,master,mypy,I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e,"mypy: continued manager, scheduler, rpcapi",MERGED,2021-04-01 17:56:30.000000000,2021-08-21 10:32:40.000000000,2021-08-20 17:17:51.000000000,317,159,14,784453,b5ac2af0c2910b5d8c87a2b6dbd9b6f5f23a7bca,306,7,15,8,4523,Eric Harney,eharney,"mypy: continued manager, scheduler, rpcapi

Change-Id: I9a8d24ac27af8fe4864934d1b9bc5b66da6d2c1e
"
openstack%2Fkolla-ansible~stable%2Fussuri~Ie92c26783a8f1c0ff95b261226c6f445d387442b,openstack/kolla-ansible,stable/ussuri,dnm-test-upgrade,Ie92c26783a8f1c0ff95b261226c6f445d387442b,[DNM] Test Ussuri upgrade,ABANDONED,2021-08-19 19:10:13.000000000,2021-08-21 10:13:32.000000000,,2,49,0,805266,407f488fec7e617bbb40adb27a344bdda9133b23,28,1,1,3,30491,Radosław Piliszek,yoctozepto,"[DNM] Test Ussuri upgrade

Because it fails on Neutron.
Too often.
Permanently in some environments.
Need to collect data.

Change-Id: Ie92c26783a8f1c0ff95b261226c6f445d387442b
"
openstack%2Fpuppet-openstack-integration~stable%2Fqueens~Ieba1856f60479b04db6f93a26a22e720c0179ba5,openstack/puppet-openstack-integration,stable/queens,retire-puppet-monasca,Ieba1856f60479b04db6f93a26a22e720c0179ba5,Remove dependency on puppet-monasca,MERGED,2021-08-20 16:00:03.000000000,2021-08-21 09:43:24.000000000,2021-08-21 09:43:24.000000000,0,6,0,805429,0630bddeccac6633c8459d83336653dfc49ffe16,9,2,2,2,9816,Takashi Kajinami,kajinamit,"Remove dependency on puppet-monasca

... because puppet-monasca is being retired.

Conflicts:
        Puppetfile
	zuul.d/base.yaml

Backport note:
- Resolved conflict caused by branch overrides.
- This backport includes the follow-up commit[1] to remove leftover.
- (Rocky and older) Resolved conflict caused by centralized .zuul.yaml
  used in older branches.

[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c

Change-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5
(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)
(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)
(cherry picked from commit 370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d)
(cherry picked from commit 9ea47a0b834b25765d7c3c4a1a0bd86834166294)
(cherry picked from commit cd1cf9a2e8fe3c1dccdf4d821a1328e7ad823958)
(cherry picked from commit 52d4f205c22d559f6adcf83e88eb9e73cfc774d5)
(cherry picked from commit d3b37b5697d955843d4b4780d9b6a379cdaaac85)
"
openstack%2Fpuppet-openstack-integration~stable%2Frocky~Ieba1856f60479b04db6f93a26a22e720c0179ba5,openstack/puppet-openstack-integration,stable/rocky,retire-puppet-monasca,Ieba1856f60479b04db6f93a26a22e720c0179ba5,Remove dependency on puppet-monasca,MERGED,2021-08-20 15:58:25.000000000,2021-08-21 09:43:22.000000000,2021-08-21 09:43:22.000000000,0,6,0,805426,d3b37b5697d955843d4b4780d9b6a379cdaaac85,9,2,2,2,9816,Takashi Kajinami,kajinamit,"Remove dependency on puppet-monasca

... because puppet-monasca is being retired.

Conflicts:
        Puppetfile
	zuul.d/base.yaml

Backport note:
- Resolved conflict caused by branch overrides.
- This backport includes the follow-up commit[1] to remove leftover.
- (Rocky and older) Resolved conflict caused by centralized .zuul.yaml
  used in older branches.

[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c

Change-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5
(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)
(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)
(cherry picked from commit 370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d)
(cherry picked from commit 9ea47a0b834b25765d7c3c4a1a0bd86834166294)
(cherry picked from commit cd1cf9a2e8fe3c1dccdf4d821a1328e7ad823958)
(cherry picked from commit 52d4f205c22d559f6adcf83e88eb9e73cfc774d5)
"
openstack%2Fpuppet-openstack-integration~stable%2Fstein~Ieba1856f60479b04db6f93a26a22e720c0179ba5,openstack/puppet-openstack-integration,stable/stein,retire-puppet-monasca,Ieba1856f60479b04db6f93a26a22e720c0179ba5,Remove dependency on puppet-monasca,MERGED,2021-08-20 15:55:47.000000000,2021-08-21 09:43:21.000000000,2021-08-21 09:43:21.000000000,0,6,0,805424,52d4f205c22d559f6adcf83e88eb9e73cfc774d5,9,2,2,2,9816,Takashi Kajinami,kajinamit,"Remove dependency on puppet-monasca

... because puppet-monasca is being retired.

Conflicts:
        Puppetfile
	zuul.d/base.yaml

Backport note:
- Resolved conflict caused by branch overrides.
- This backport includes the follow-up commit[1] to remove leftover.

[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c

Change-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5
(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)
(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)
(cherry picked from commit 370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d)
(cherry picked from commit 9ea47a0b834b25765d7c3c4a1a0bd86834166294)
(cherry picked from commit cd1cf9a2e8fe3c1dccdf4d821a1328e7ad823958)
"
openstack%2Fcinder~master~Iebb002cba51fc0f5e42565151a1687da20bd5a24,openstack/cinder,master,mypy,Iebb002cba51fc0f5e42565151a1687da20bd5a24,mypy: image cache,MERGED,2021-04-27 21:46:11.000000000,2021-08-21 08:31:42.000000000,2021-08-18 22:29:41.000000000,67,20,8,788363,8c46c09ad5d4ae6b87400b678a2bd7afc4af6631,319,7,12,4,4523,Eric Harney,eharney,"mypy: image cache

Change-Id: Iebb002cba51fc0f5e42565151a1687da20bd5a24
"
openstack%2Fnova-specs~master~Id631978adec7bc6bf9d196652fbe1e6dfbfac37d,openstack/nova-specs,master,bp/add-attachmentid-to-responses-of-the-os-volume-attachments-api,Id631978adec7bc6bf9d196652fbe1e6dfbfac37d,Update attachment_id spec to include implementation changes,MERGED,2021-08-20 12:43:33.000000000,2021-08-21 07:31:57.000000000,2021-08-21 07:29:56.000000000,13,6,0,805374,e0f91d141c3b8f84261eddec4f3d8462c3aec047,8,3,1,1,10135,Lee Yarwood,lyarwood,"Update attachment_id spec to include implementation changes

These include the removal of the id field that duplicates the volumeId
field and inclusion of the BlockDeviceMapping UUID under a few bdm_uuid
field.

Blueprint: add-attachmentid-to-responses-of-the-os-volume-attachments-api
Change-Id: Id631978adec7bc6bf9d196652fbe1e6dfbfac37d
"
openstack%2Fglance~master~Iba990e59c454a2e9f37a0c659d8634583d3a8bf7,openstack/glance,master,policy-refactor,Iba990e59c454a2e9f37a0c659d8634583d3a8bf7,Check policies for staging operation in API,MERGED,2021-08-14 10:40:55.000000000,2021-08-21 05:45:20.000000000,2021-08-21 00:31:05.000000000,144,4,21,804558,fa6f871e2031505ccb420dc436f293815b87088c,53,4,7,4,9303,Abhishek Kekane,abhishekkekane,"Check policies for staging operation in API

This patch enforces policy checks required for staging image data
in API layer. Image mutability check is maintained if secure RBAC
is not enabled in deployments.

Partially-Implements: blueprint policy-refactor

Change-Id: Iba990e59c454a2e9f37a0c659d8634583d3a8bf7
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f,openstack/python-tripleoclient,stable/train,bug/1923612-stable/train,I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f,Fix network environment validation,MERGED,2021-08-18 12:15:32.000000000,2021-08-21 04:45:22.000000000,2021-08-21 04:43:52.000000000,7,3,0,804997,76c509ee6b105c984a7fe1084006cd1051750b33,8,3,1,2,24245,Harald Jensås,harald.jensas,"Fix network environment validation

Network environment validation fails when accessing value
with the key 'os_net_config' from the nic-config files.
Fix the dictionary keys needed to fetch the network
config from nic_data.

Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
Change-Id: I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f
(cherry picked from commit 930abb12b355fa6fcf2dded780e2031be24c2964)
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I3a154dbedd115d121bfc826513141c2d8be98508,openstack/python-tripleoclient,stable/train,,I3a154dbedd115d121bfc826513141c2d8be98508,Fetch stack after updating it,MERGED,2021-08-19 10:48:53.000000000,2021-08-21 04:02:16.000000000,2021-08-21 04:00:33.000000000,3,7,0,805185,ef82b87bc8b3bb1dd5e935da9a1d4bbdaede6e01,7,2,1,1,8833,Rabi Mishra,rabi,"Fetch stack after updating it

We update the stack assuming that there would be no change
during upgrades. This does not allow blacklisting nodes
during upgrades.

This probably won't be relevant for master/wallaby with
ephemeral heat. Only proposed for backport to older branches.

Change-Id: I3a154dbedd115d121bfc826513141c2d8be98508
(cherry picked from commit 7dd1f6e26fa1e6ed587896a7ad2131397eb45024)
"
openstack%2Ftripleo-heat-templates~master~Ib34130c15324f197eca275f97c18f24f17d8ced2,openstack/tripleo-heat-templates,master,collectd-options,Ib34130c15324f197eca275f97c18f24f17d8ced2,Example configurable cap add,MERGED,2021-07-20 16:12:04.000000000,2021-08-21 04:00:35.000000000,2021-08-21 04:00:35.000000000,17,3,1,801511,a94ff466c860549cd5fa7aa6f77a94cc4b0e67e3,21,5,3,2,14985,Alex Schultz,mwhahaha,"Example configurable cap add

Change-Id: Ib34130c15324f197eca275f97c18f24f17d8ced2
"
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~Ieba1856f60479b04db6f93a26a22e720c0179ba5,openstack/puppet-openstack-integration,stable/train,retire-puppet-monasca,Ieba1856f60479b04db6f93a26a22e720c0179ba5,Remove dependency on puppet-monasca,MERGED,2021-08-20 15:52:44.000000000,2021-08-21 03:56:09.000000000,2021-08-21 03:56:09.000000000,0,6,0,805422,cd1cf9a2e8fe3c1dccdf4d821a1328e7ad823958,9,2,2,2,9816,Takashi Kajinami,kajinamit,"Remove dependency on puppet-monasca

... because puppet-monasca is being retired.

Conflicts:
        Puppetfile
	zuul.d/base.yaml

Backport note:
- Resolved conflict caused by branch overrides.
- This backport includes the follow-up commit[1] to remove leftover.

[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c

Change-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5
(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)
(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)
(cherry picked from commit 370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d)
(cherry picked from commit 9ea47a0b834b25765d7c3c4a1a0bd86834166294)
"
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~Ieba1856f60479b04db6f93a26a22e720c0179ba5,openstack/puppet-openstack-integration,stable/ussuri,retire-puppet-monasca,Ieba1856f60479b04db6f93a26a22e720c0179ba5,Remove dependency on puppet-monasca,MERGED,2021-08-20 15:51:37.000000000,2021-08-21 03:56:08.000000000,2021-08-21 03:56:08.000000000,0,6,0,805419,9ea47a0b834b25765d7c3c4a1a0bd86834166294,9,2,2,2,9816,Takashi Kajinami,kajinamit,"Remove dependency on puppet-monasca

... because puppet-monasca is being retired.

Conflicts:
        Puppetfile
	zuul.d/base.yaml

Backport note:
- Resolved conflict caused by branch overrides.
- This backport includes the follow-up commit[1] to remove leftover.

[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c

Change-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5
(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)
(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)
(cherry picked from commit 370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d)
"
openstack%2Fpuppet-openstack-integration~stable%2Fvictoria~Ieba1856f60479b04db6f93a26a22e720c0179ba5,openstack/puppet-openstack-integration,stable/victoria,retire-puppet-monasca,Ieba1856f60479b04db6f93a26a22e720c0179ba5,Remove dependency on puppet-monasca,MERGED,2021-08-20 15:49:11.000000000,2021-08-21 03:56:07.000000000,2021-08-21 03:56:07.000000000,0,6,0,805417,370d3724ffbe377bfbb58c5cad6a5bd0ed716f1d,9,2,3,2,9816,Takashi Kajinami,kajinamit,"Remove dependency on puppet-monasca

... because puppet-monasca is being retired.

Conflicts:
        Puppetfile
	zuul.d/base.yaml

Backport note:
- Resolved conflict caused by branch overrides.
- This backport includes the follow-up commit[1] to remove leftover.

[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c

Change-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5
(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)
(cherry picked from commit 7c2355740b72d023be44bd9ac31f952b1267666d)
"
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~Ieba1856f60479b04db6f93a26a22e720c0179ba5,openstack/puppet-openstack-integration,stable/wallaby,retire-puppet-monasca,Ieba1856f60479b04db6f93a26a22e720c0179ba5,Remove dependency on puppet-monasca,MERGED,2021-08-20 15:40:54.000000000,2021-08-21 03:56:05.000000000,2021-08-21 03:56:05.000000000,0,6,0,805412,7c2355740b72d023be44bd9ac31f952b1267666d,13,2,5,2,9816,Takashi Kajinami,kajinamit,"Remove dependency on puppet-monasca

... because puppet-monasca is being retired.

Conflicts:
        Puppetfile
	zuul.d/base.yaml

Backport note:
- Resolved conflict caused by branch overrides.
- This backport includes the follow-up commit[1] to remove leftover.

[1] f45e67023c0fde517dffd1251cb9dcd57bb1cb7c

Change-Id: Ieba1856f60479b04db6f93a26a22e720c0179ba5
(cherry picked from commit 25009d7f3ad04490989c713fee9d3fe72f7a0934)
"
openstack%2Fpython-tripleoclient~master~I68ada9c2e28a1c81bc89cb46e26acdb7df45e81e,openstack/python-tripleoclient,master,,I68ada9c2e28a1c81bc89cb46e26acdb7df45e81e,Remove reference to --network-ports,MERGED,2021-08-19 05:05:45.000000000,2021-08-21 03:30:05.000000000,2021-08-21 03:28:48.000000000,1,1,0,805111,d3e63bc302bcf38d1ca9970e781cdd7fcde17139,9,4,1,1,8833,Rabi Mishra,rabi,"Remove reference to --network-ports

We dropped the option in Ia0df205ea568f089c7cb7e5464bde76d294f4c36.

Change-Id: I68ada9c2e28a1c81bc89cb46e26acdb7df45e81e
"
openstack%2Fnova~stable%2Fussuri~I2bd360dcc6501feea7baf02d4510b282205fc061,openstack/nova,stable/ussuri,bug/1882094,I2bd360dcc6501feea7baf02d4510b282205fc061,Initialize global data separately and run_once in WSGI app init,MERGED,2021-04-06 22:20:24.000000000,2021-08-21 02:52:50.000000000,2021-08-21 02:51:12.000000000,256,2,0,785061,59249697bf09ca1a560defdd550be7e3c439b5b7,27,5,2,5,4690,melanie witt,melwitt,"Initialize global data separately and run_once in WSGI app init

NOTE(melwitt): This is a combination of two changes to avoid
intermittent test failure that was introduced by the original bug fix,
and was fixed by change I2bd360dcc6501feea7baf02d4510b282205fc061.

We have discovered that if an exception is raised at any point during
the running of the init_application WSGI script in an apache/mod_wsgi
Daemon Mode environment, it will prompt apache/mod_wsgi to re-run the
script without starting a fresh python process. Because we initialize
global data structures during app init, subsequent runs of the script
blow up as some global data do *not* support re-initialization. It is
anyway not safe to assume that init of global data is safe to run
multiple times.

This mod_wsgi behavior appears to be a special situation that does not
behave the same as a normal reload in Daemon Mode as the script file is
being reloaded upon failure instead of the daemon process being
shutdown and restarted as described in the documentation [1].

In order to handle this situation, we can move the initialization of
global data structures to a helper method that is decorated to run only
once per python interpreter instance. This way, we will not attempt to
re-initialize global data that are not safe to init more than once.

Co-Authored-By: Michele Baldessari <michele@redhat.com>
Co-Authored-By: melanie witt <melwittt@gmail.com>

Conflicts:
  nova/test.py

NOTE(melwitt): The conflict is because change
I1fea14d5be10bb4e884f52e0ae8be722519ddd3f (Poison
netifaces.interfaces() in tests) is not in Ussuri.

Closes-Bug: #1882094

[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode

Reset global wsgi app state in unit test

Since I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state
set during the wsgi_app init making our unit test cases
non-deterministic based on the order of them. This patch makes sure
that the global state is reset for each test case.

Closes-Bug: #1921098
(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)

Change-Id: I2bd360dcc6501feea7baf02d4510b282205fc061
(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)
(cherry picked from commit e3085fa6310ddeaafa493c3f718aab0ce64f0994)
"
openstack%2Fopenstack-ansible~stable%2Fwallaby~Ifdbac876013068855cd4405ca1bbacd262ec4d74,openstack/openstack-ansible,stable/wallaby,,Ifdbac876013068855cd4405ca1bbacd262ec4d74,Fix permissions for files created on repo server,MERGED,2021-08-16 10:30:12.000000000,2021-08-21 01:57:37.000000000,2021-08-21 01:56:02.000000000,6,0,0,804711,7d82fc5749a534df55f017cac41ea10190dfa43f,9,3,1,1,31542,Andrew Bonney,andrewbonney,"Fix permissions for files created on repo server

If wheels or requirements files are created on a secondary
repo server these cannot be modified/deleted by the primary
repo server when it comes back online as this uses rsync as the
'nginx' user. This patch allows the owner of the created files
to be set explicitly to avoid this issue.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/804073
Change-Id: Ifdbac876013068855cd4405ca1bbacd262ec4d74
(cherry picked from commit a332bda378e19e742d80519f6a1cfa6e748010b9)
"
openstack%2Fironic~stable%2Ftrain~Icd5df674970de8302c47393a4317b12e4bb3139d,openstack/ironic,stable/train,syntax-warning,Icd5df674970de8302c47393a4317b12e4bb3139d,"Fix ""is not"" used to compare strings",ABANDONED,2021-08-20 16:13:49.000000000,2021-08-21 01:47:37.000000000,,3,3,0,805434,4bc8bed7544d1277cdc614a01318a0dd3b700983,5,0,2,2,9816,Takashi Kajinami,kajinamit,"Fix ""is not"" used to compare strings

Currently the following SyntxWarning is observed in unit tests, and it
seems ""is not"" is used to compare strings.

 SyntaxWarning: ""is not"" with a literal. Did you mean ""!=""?

This change fixes that incorrect usage by != , which is the correct
way to compare strings.

Change-Id: Icd5df674970de8302c47393a4317b12e4bb3139d
"
openstack%2Frequirements~master~If963c4a937bc20f07c9b34ace6f9028bb086f4db,openstack/requirements,master,new-release,If963c4a937bc20f07c9b34ace6f9028bb086f4db,update constraint for heat-translator to new release 2.4.1,MERGED,2021-08-20 14:12:57.000000000,2021-08-21 01:29:37.000000000,2021-08-21 01:28:21.000000000,1,1,0,805390,b04da0dd1d673067c5788d8ab5dcfaafa5f97d74,12,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for heat-translator to new release 2.4.1

meta: version: 2.4.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ieb5b7c3e8bcf8a92a07b10cb11f78729ea94deaf
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Rico Lin <ricolin@ricolky.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: If963c4a937bc20f07c9b34ace6f9028bb086f4db
"
openstack%2Ftripleo-ansible~master~Ifff10a19da35a4dd747efb581c54142481138631,openstack/tripleo-ansible,master,setup-cfg,Ifff10a19da35a4dd747efb581c54142481138631,setup.cfg: Replace dashes with underscores,MERGED,2021-05-12 01:18:13.000000000,2021-08-21 00:31:51.000000000,2021-08-21 00:31:51.000000000,3,3,0,790874,f5369922a4be2c309105b62cf0d660d026a07d29,8,3,1,1,32029,likui,likui,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ifff10a19da35a4dd747efb581c54142481138631
"
openstack%2Ftripleo-heat-templates~master~I554d8677156934c4d49acb1346afea16339ad5c2,openstack/tripleo-heat-templates,master,,I554d8677156934c4d49acb1346afea16339ad5c2,Drop CollectdAmqpInstances from collectd-write-qdr.yaml,MERGED,2021-07-08 21:03:47.000000000,2021-08-21 00:17:25.000000000,2021-08-21 00:16:12.000000000,16,8,0,800113,591f2aa2d8b68234c63fbdd4f59a9232a67b7b2f,13,8,1,2,7294,Leif Madsen,leifmadsen,"Drop CollectdAmqpInstances from collectd-write-qdr.yaml

Drop the CollectdAmqpInstances parameter from collectd-write-qdr.yaml in
order to allow an administrator to override the default specified
topics. If the administrator of the cloud used collectd-write-qdr.yaml
and then needed to override the topics, a merge of the defaults and
custom topics would be added to the 10-amqp.conf for collectd, resulting
in data being published to unused topics.

Change-Id: I554d8677156934c4d49acb1346afea16339ad5c2
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
"
openstack%2Fpuppet-tripleo~master~I41ebb5c84db3cffa897c259729caa6b5247dd0e9,openstack/puppet-tripleo,master,,I41ebb5c84db3cffa897c259729caa6b5247dd0e9,"Revert ""Deprecate warnings for Ceilometer and Gnocchi""",MERGED,2021-08-07 17:47:27.000000000,2021-08-21 00:03:43.000000000,2021-08-21 00:03:43.000000000,0,3,0,803852,8a2dd483942675622c90d04fb36fe607564e1d30,10,5,1,2,9816,Takashi Kajinami,kajinamit,"Revert ""Deprecate warnings for Ceilometer and Gnocchi""

This reverts commit 88ef2afcbf9670fdd5bffced4564f2107ba06699.

Reason for revert:
Ceilometer and Gnocchi are not deprecated in tripleo-heat-templates.
The current warning in puppet-tripleo gives a wrong notice to users.
Deprecation should happen in a consistent manner within all TripleO
repos.

Conflicts:
	manifests/profile/base/gnocchi.pp

Change-Id: I41ebb5c84db3cffa897c259729caa6b5247dd0e9
"
openstack%2Fneutron~stable%2Fussuri~I1f5af36b8c3d5650f890edfed3c33dc206869824,openstack/neutron,stable/ussuri,,I1f5af36b8c3d5650f890edfed3c33dc206869824,[ovn]: Create neutron_pg_drop Port Group on init,MERGED,2021-07-27 13:42:33.000000000,2021-08-20 23:30:55.000000000,2021-08-20 23:29:14.000000000,259,17,0,802528,a6106ac2bd4ab38a0e3a5e80e44da6f02d5322ce,19,4,1,7,5756,Terry Wilson,otherwiseguy,"[ovn]: Create neutron_pg_drop Port Group on init

The patch adds a short living connection in pre-fork routine that
creates neutron_pg_drop Port Group. Later after workers are spawned,
each worker also creates a short living connection and waits for an
event that the Port Group was created.

The short living IDLs limit its tables only for relevant tables so it
doesn't fetch the whole OVS DB to the local copy.

Closes-bug: #1866068

 Conflicts:
	neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py
	neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py
	neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py

Change-Id: I1f5af36b8c3d5650f890edfed3c33dc206869824
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit d7c23431ad3959eb5fd74e42ea95d446e4e7566d)
"
openstack%2Fnova~master~I168d75da5c04270459ce80d913206910f79bacb6,openstack/nova,master,,I168d75da5c04270459ce80d913206910f79bacb6,[ironic] correct capabilities for disk images supported,MERGED,2021-02-02 14:26:48.000000000,2021-08-20 23:20:53.000000000,2021-08-20 23:19:16.000000000,1,1,0,773691,2c19946d0652ee635415c31003d8547165fe450f,14,4,1,1,11655,Julia Kreger,jkreger,"[ironic] correct capabilities for disk images supported

Generally ironic users use whole disk images or partition images,
and ironic identifies the difference between the two by checking
if a kernel and ramdisk are in use for the system.

Turns out that an AMI is a partition image, where a kernel and
ramdisk is paired with the desired disk image. So in essence
we appear to have supported it all along. Just different names were
used.

It *appears* that this should work just fine in most cases unless
someone has somewhat weird settings on their ironic deployment,
and realistically those should be considered bugs if they are
encountered.

Change-Id: I168d75da5c04270459ce80d913206910f79bacb6
"
openstack%2Fopenstack-ansible-os_neutron~stable%2Fwallaby~Ia9189adae01d8515e392abdbede7fd7b3f89e02e,openstack/openstack-ansible-os_neutron,stable/wallaby,osa/neutron-ovn-stable/wallaby,Ia9189adae01d8515e392abdbede7fd7b3f89e02e,Fix OVN metadata protocol to point https,MERGED,2021-08-16 10:27:59.000000000,2021-08-20 23:18:35.000000000,2021-08-20 23:16:09.000000000,3,0,0,804449,f6d9c54a921c1e5f18d5ce300e0cbeb73ddfcc49,10,4,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Fix OVN metadata protocol to point https

In OSA recently we moved all our LB endpoint vips to https or all SSL
and that break ovn metadata which was default using http. This patch
will fix that and allow us to override variable.

Change-Id: Ia9189adae01d8515e392abdbede7fd7b3f89e02e
(cherry picked from commit e5e3ccfae6dbbb164802d3b50c806783c3bd7362)
"
openstack%2Fopenstack-ansible-os_neutron~stable%2Fwallaby~I585f73551c5a90841dcf2d1dd94a3e1fc90b04ac,openstack/openstack-ansible-os_neutron,stable/wallaby,osa/neutron-ovn-stable/wallaby,I585f73551c5a90841dcf2d1dd94a3e1fc90b04ac,Set ovn hostname using nodename facts,MERGED,2021-08-16 10:27:33.000000000,2021-08-20 23:17:26.000000000,2021-08-20 23:16:08.000000000,1,1,0,804448,df35816daa06ab5c5e832758f091afebad85301a,10,4,2,1,28619,Dmitriy Rabotyagov,noonedeadpunk,"Set ovn hostname using nodename facts

Ansible hostname facts using short hostname which may not work for
other senario where compute hostname is set to FQDN. OVN required
ovs set hostname and compute hostname should be same.

Change-Id: I585f73551c5a90841dcf2d1dd94a3e1fc90b04ac
(cherry picked from commit 1403c6308bd99e1bb413186600e4693451c79be5)
"
openstack%2Frequirements~master~I0c2e2bc0bc67a7f1f6d12fdc60c96b46d12e0fb3,openstack/requirements,master,openstack/requirements/constraints/noclob,I0c2e2bc0bc67a7f1f6d12fdc60c96b46d12e0fb3,Updated from generate-constraints,MERGED,2021-08-20 06:34:50.000000000,2021-08-20 23:13:32.000000000,2021-08-20 23:12:15.000000000,8,8,0,805339,72a895f4c020dd97c74d97b8dcbe2247dfd7bc3e,13,2,2,1,11131,OpenStack Proposal Bot,proposal-bot,"Updated from generate-constraints

Change-Id: I0c2e2bc0bc67a7f1f6d12fdc60c96b46d12e0fb3
Signed-off-by: Matthew Thode <mthode@mthode.org>
"
openstack%2Fnova~stable%2Fwallaby~Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,openstack/nova,stable/wallaby,bug/1910466,Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,Fix max cpu topologies with numa affinity,MERGED,2021-06-23 13:51:08.000000000,2021-08-20 23:10:10.000000000,2021-08-20 23:08:36.000000000,59,306,0,797653,c9826ca6eb10fc36fb563a42f55715ff5ac51684,13,4,1,6,15334,Stephen Finucane,sfinucan,"Fix max cpu topologies with numa affinity

Nova has never supported specifying per numa node
cpu toplogies. Logically the  cpu toplogy of a guest
is independent of its numa toplogy and there is no
way to model different cpu toplogies per numa node
or implement that in hardware.

The presence of the code in nova that allowed the generation
of these invalid configuration has now been removed as it
broke the automatic selection of cpu topologies based
on hw:max_[cpus|sockets|threads] flavor and image properties.

This change removed the incorrect code and related unit
tests with assert nova could generate invalid topologies.

Closes-Bug: #1910466
Change-Id: Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b
(cherry picked from commit 387823b36d091abbaa37efb930fc98b94a5bbb93)
"
openstack%2Fdevstack~stable%2Fwallaby~I57910b5fde5ddf2bd37d93e06c1aff77c6e231e9,openstack/devstack,stable/wallaby,bug/1938914-stable/wallaby,I57910b5fde5ddf2bd37d93e06c1aff77c6e231e9,Set swap size to 4G for c8 jobs,ABANDONED,2021-08-19 14:42:35.000000000,2021-08-20 23:05:59.000000000,,2,0,0,805147,e82076bf60a0f96a81b61d18a0684f74674ec648,8,0,1,1,13861,yatin,yatinkarel,"Set swap size to 4G for c8 jobs

Tempest is failing randomly with different reasons
as mentioned in the bug, updating swap size those
issues are not seen.

Before [1] default swap size used to be 8GB but was dropped
to 1G so need to configure it in required job itself.

Did couple of tests in [2] and with 4GB+ swap jobs are
running green. On investigation found that with qemu-5
both Ubuntu and CentOS jobs have memory crunch, currently
Ubuntu jobs are not impacted as they are running with
qemu-4.

[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/750941
[2] https://review.opendev.org/c/openstack/devstack/+/803144

Closes-Bug: #1938914
Change-Id: I57910b5fde5ddf2bd37d93e06c1aff77c6e231e9
"
openstack%2Fnova~master~I016773b6d6750db4f34ef6faac6d272c4177d883,openstack/nova,master,bp/generic-mdevs,I016773b6d6750db4f34ef6faac6d272c4177d883,Change the admin-visible logs for mdev support,MERGED,2021-08-03 16:50:33.000000000,2021-08-20 23:00:43.000000000,2021-08-20 22:57:21.000000000,23,23,4,803378,9cf07d5aaacf8c61a45b6342d7e7471bab422c12,23,5,2,4,7166,Sylvain Bauza,sbauza,"Change the admin-visible logs for mdev support

Now that we want to support generic stateless mdev devices, we can't
really tell of pGPUs and vGPUs in our logs and we need to be more
generic.

Change-Id: I016773b6d6750db4f34ef6faac6d272c4177d883
Partially-Implements: blueprint generic-mdevs
"
openstack%2Fnova~stable%2Fwallaby~I333b3d85deed971678141307dd06545e308cf989,openstack/nova,stable/wallaby,bug/1910466,I333b3d85deed971678141307dd06545e308cf989,Test numa and vcpu topologies bug: #1910466,MERGED,2021-06-23 13:51:08.000000000,2021-08-20 22:59:19.000000000,2021-08-20 22:57:41.000000000,37,2,0,797652,5f994a18b3105047a2231231815d09f96c920958,12,4,1,1,15334,Stephen Finucane,sfinucan,"Test numa and vcpu topologies bug: #1910466

This change reproduces bug #1910466
When hw:cpu_max_[sockets|cores|threads] is configured
in addition to an explict numa topologies and cpu pinning
nova is currently incapable of generating the correct
virtual CPU topology resulting in an index out of range
error as we attempt to retrieve the first topology
from an empty list.

This change reproduces the error via a new functional
test.

Related-Bug: #1910466
Change-Id: I333b3d85deed971678141307dd06545e308cf989
(cherry picked from commit fe25fa13e0572aafb62b28bf7fa843a1860e5010)
"
openstack%2Fnova~master~Idba094f6366a24965804b88da0bc1b9754549c99,openstack/nova,master,bp/generic-mdevs,Idba094f6366a24965804b88da0bc1b9754549c99,Rename vgpu options to mdev,MERGED,2021-07-21 09:14:15.000000000,2021-08-20 22:59:15.000000000,2021-08-20 22:57:10.000000000,122,105,27,801607,ff4d0d002a35022df1cb71029ad82ad8f3b327df,77,5,6,8,7166,Sylvain Bauza,sbauza,"Rename vgpu options to mdev

As a prerequisite for blueprint generic-mdevs we need to rename the
existing enabled_vgpu_types options and dynamically generated groups
into enabled_mdev_types.
There is no upgrade impact for existing users, as the original
options are still accepted.

NOTE(sbauza): As we have a lot of methods and objects named gpu-ish
let's just change what we need here and provide followups for
fixing internal tech debt later.

Change-Id: Idba094f6366a24965804b88da0bc1b9754549c99
Partially-Implements: blueprint generic-mdevs
"
openstack%2Fnova~stable%2Fussuri~I8296e4be9f0706fab043451b856efadbb7bd41f6,openstack/nova,stable/ussuri,bug/1929886,I8296e4be9f0706fab043451b856efadbb7bd41f6,Honor [neutron]http_retries in the manual client,MERGED,2021-06-07 20:19:36.000000000,2021-08-20 22:54:42.000000000,2021-08-20 22:52:57.000000000,3,0,0,795176,b96f93ed8633d6fd0725c4a11366ffbf38056e65,16,4,1,2,4690,melanie witt,melwitt,"Honor [neutron]http_retries in the manual client

Change Ifb3afb13aff7e103c2e80ade817d0e63b624604a added a nova side
config option for specifying neutron client retries that maps to the
ksa connect_retries config option to provide parity with the cinder and
glance clients that have nova side config options.

That change missed passing CONF.neutron.http_retries to the manual
client used for calling the port binding API. This sets the
connect_retries attribute on the manual ksa client so http_retries
will be honored.

Closes-Bug: #1929886
Related-Bug: #1866937

Change-Id: I8296e4be9f0706fab043451b856efadbb7bd41f6
(cherry picked from commit 56eb253e9febccf721df6bca4eb851ad26cb70a6)
(cherry picked from commit 46aa3f4ec769e948d9eb73604bf9b66f4b0230b0)
(cherry picked from commit f20346bc00a30c914cbefb48009db776f8e00b09)
"
openstack%2Fopenstack-ansible-os_neutron~stable%2Fwallaby~I89bcf25dfad355c52f1f7d8efee16b20c584da53,openstack/openstack-ansible-os_neutron,stable/wallaby,osa/neutron-ovn-stable/wallaby,I89bcf25dfad355c52f1f7d8efee16b20c584da53,Replace centos-8.x jobs with centos-8-stream,MERGED,2021-08-16 10:27:18.000000000,2021-08-20 22:54:15.000000000,2021-08-20 22:50:28.000000000,34,12,0,804447,ead864ba6e413dac4e68c0ccd501fc23a288671b,11,4,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Replace centos-8.x jobs with centos-8-stream

CentOS-8.x is EOL in end of 2021. It has some broken repo causing
failures. This patch will drop centos-8 jobs and replace with new
centos-8-stream.

Set all OVN jobs to non voting to merge required patches to fix OVN.

Change-Id: I89bcf25dfad355c52f1f7d8efee16b20c584da53
(cherry picked from commit e2f22f7b794698892a640281418765dc8597403d)
"
openstack%2Fopenstack-ansible-os_neutron~master~Icb490225ff34354b3f5821c5f7a54a039091c924,openstack/openstack-ansible-os_neutron,master,osa/neutron-ovn,Icb490225ff34354b3f5821c5f7a54a039091c924,Use list of cluster member for ovn ml2 agent to directly connect,MERGED,2021-08-09 20:42:22.000000000,2021-08-20 22:54:12.000000000,2021-08-20 22:50:27.000000000,5,4,4,803990,454866176f6444c60471ab2c34dc53203a7dbb95,28,3,6,3,28752,Satish Patel,spatel,"Use list of cluster member for ovn ml2 agent to directly connect

Use list of cluster member in ovn/ml2 agent to directly talk to nb/sb
central services instead of using haproxy lb. ovn-controller agent
automatically monitor cluster member and remove them from list if
they are dead or not reachable. This is better approch then using
haproxy lb.

Change-Id: Icb490225ff34354b3f5821c5f7a54a039091c924
"
openstack%2Fnetworking-generic-switch~master~Ic674d30d2e04a67ca01377bf4985e4ff933c9322,openstack/networking-generic-switch,master,lower-constraints-revamp,Ic674d30d2e04a67ca01377bf4985e4ff933c9322,Add lower-constraints job to current development branch,MERGED,2021-08-09 15:48:13.000000000,2021-08-20 22:18:12.000000000,2021-08-20 22:14:27.000000000,91,1,0,803939,6b8b7b5a96ab3480b1d81bdbcc49d230247e35d9,11,3,2,3,23851,Riccardo Pittau,elfosardo,"Add lower-constraints job to current development branch

The lower-constraints test was removed because of an issue where pip
could not correctly determine the required packages versions to install,
ending in an almost infinite loop that would end up in timeout, failure,
and general mayhem.
Recently the issue has been fixed and, if properly configured, the
lower-constraints test can provide good indication of which minimum
versions are required to support the current code.
This patch adds the test back to the current development branch, and it
runs only on master.
The lower-constraints file will stay in the future stable branches.

Adjust minimum requirements and test-requirements as consequence of
compatibility test.

Change-Id: Ic674d30d2e04a67ca01377bf4985e4ff933c9322
"
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fwallaby~I8bd010cba13946c9c46c3792624841e41e3c2eaf,openstack/openstack-ansible-rabbitmq_server,stable/wallaby,,I8bd010cba13946c9c46c3792624841e41e3c2eaf,Fix erlang upgrades for rabbitmq external_repo installs,MERGED,2021-08-17 14:41:53.000000000,2021-08-20 22:06:37.000000000,2021-08-20 22:05:20.000000000,3,8,0,804861,5a22d53bff67a1697e09070246679d0d385c5bd9,9,3,1,2,31542,Andrew Bonney,andrewbonney,"Fix erlang upgrades for rabbitmq external_repo installs

Upgrading only the 'erlang' package does not pull in updated
dependencies which can cause rabbitmq to fail to start during an
upgrade.

The external and distro dependencies appear to match, so these
are conformed to ensure that all packages are updated during an
upgrade.

This patch additionally switches deployments to the 'erlang-base'
rather than 'erlang-base-hipe' package which appears to have been
discontinued.

Change-Id: I8bd010cba13946c9c46c3792624841e41e3c2eaf
(cherry picked from commit bf53f24dd40b9938ba3d10ba35cc87489d285980)
"
openstack%2Fnova~stable%2Fwallaby~Iac0e634e66cd4e150a50935cf635f626fc11b70e,openstack/nova,stable/wallaby,bug/1934770,Iac0e634e66cd4e150a50935cf635f626fc11b70e,api: Align availability zone info with forced host,MERGED,2021-07-26 08:28:21.000000000,2021-08-20 22:06:28.000000000,2021-08-20 22:03:44.000000000,217,25,0,802236,58782403cdaad33856fd59715525cee3c63ee3cf,12,3,1,4,15334,Stephen Finucane,sfinucan,"api: Align availability zone info with forced host

Users can create a server like so:

  $ openstack server create --availability-zone az:host ...

This is a historical way to request that an instance be scheduled to a
specific host and it causes the scheduler to be bypassed. However, no
validation of this availability zone-host combo takes place. The host
could in fact belong to a different availability zone. If it does, we'll
end up in a very odd situation whereby the RequestSpec record for the
instance will record the availability zone requested by the user at
create time, but the Instance record itself will record the availability
zone of the host on which the instance was scheduled. This leads to even
more confusing behavior when we attempt to do something like live
migrate the instance since the RequestSpec record, with its original and
possibly invalid availability zone information, is used. The
'AvailabilityZoneFilter' will fail an error message like the following:

  Availability Zone 'foo' requested. ... has AZs: bar

but the 'openstack server list --long' command will show a non-foo value
for the availability zone column.

The solution is simple: when given an availability zone-host combo, make
sure the availability zone requested matches that of the host (or, more
specifically, the host is a member of the host aggregates that form the
availability zone [1]). If not, simply ignore the requested availability
zone information in favour of using the availability zone of the host,
logging a warning just for record keeping purposes. This is deemed
preferable to failing with HTTP 400 (Bad Request) since what users are
really requesting by using this was to schedule to a specific host: the
availability zone portion of the request is really irrelevant and just
an artifact of this legacy mechanism to request hosts. If users wish to
truly validate a host-availability zone combo, they can use the 'host'
field introduced in microversion 2.74 along with the 'availability_zone'
field:

  $ openstack server create --availability-zone az --host host ...

Conflicts:
  nova/compute/api.py

NOTE(stephenfin): Conflicts are trivial and due to the absence of change
I81fec10535034f3a81d46713a6eda813f90561cf (""Remove references to
'instance_type'"") which we don't want to backport here.

[1] https://docs.openstack.org/nova/latest/admin/aggregates.html

Change-Id: Iac0e634e66cd4e150a50935cf635f626fc11b70e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1934770
(cherry picked from commit 8f21ee42bd66b62e75e14acf4e91b786d78b9168)
"
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fvictoria~I8bd010cba13946c9c46c3792624841e41e3c2eaf,openstack/openstack-ansible-rabbitmq_server,stable/victoria,,I8bd010cba13946c9c46c3792624841e41e3c2eaf,Fix erlang upgrades for rabbitmq external_repo installs,MERGED,2021-08-17 14:46:24.000000000,2021-08-20 22:06:10.000000000,2021-08-20 22:04:49.000000000,2,7,0,804884,911f6a7bf86aa856ebad8af063fceba4a299c1ad,10,4,1,1,31542,Andrew Bonney,andrewbonney,"Fix erlang upgrades for rabbitmq external_repo installs

Upgrading only the 'erlang' package does not pull in updated
dependencies which can cause rabbitmq to fail to start during an
upgrade.

The external and distro dependencies appear to match, so these
are conformed to ensure that all packages are updated during an
upgrade.

This patch additionally switches deployments to the 'erlang-base'
rather than 'erlang-base-hipe' package which appears to have been
discontinued.

Change-Id: I8bd010cba13946c9c46c3792624841e41e3c2eaf
"
openstack%2Fnova~stable%2Fwallaby~I2f9ad3df25306e070c8c3538bfed1212d6d8682f,openstack/nova,stable/wallaby,bug/1860312,I2f9ad3df25306e070c8c3538bfed1212d6d8682f,Allow deletion of compute service with no compute nodes,MERGED,2021-07-29 08:45:57.000000000,2021-08-20 22:05:14.000000000,2021-08-20 22:03:37.000000000,20,9,0,802841,df5158bf3f80fd4362725dc280de67b88ece9952,30,3,1,2,8864,Artom Lifshitz,artom,"Allow deletion of compute service with no compute nodes

Consider the following situation:

- Using the Ironic virt driver
- Replacing (so removing and re-adding) all baremetal nodes
  associated with a single nova-compute service

The update resources periodic will have destroyed the compute node
records because they're no longer being reported by the virt driver.
If we then attempt to manually delete the compute service record, the
datbase layer will raise an exception, as there are no longer any
compute node records for the host. Previously, this exception would
get bubbled up as an error 500 in the API. This patch catches it and
allows service deletion to complete succefully.

Closes bug: 1860312
Change-Id: I2f9ad3df25306e070c8c3538bfed1212d6d8682f
(cherry picked from commit 880611df0b6b967adabd3f08886e385d0a100c5c)
"
openstack%2Fnova~stable%2Fwallaby~I03eec634b25582ec9643cacf3e5868c101176983,openstack/nova,stable/wallaby,bug/1860312,I03eec634b25582ec9643cacf3e5868c101176983,Reproducer unit test for bug 1860312,MERGED,2021-07-29 08:45:57.000000000,2021-08-20 21:59:15.000000000,2021-08-20 21:56:09.000000000,19,0,0,802840,e6cd23c3b4928b421b8c706f9cc218020779e367,12,3,1,1,8864,Artom Lifshitz,artom,"Reproducer unit test for bug 1860312

Consider the following situation:

- Using the Ironic virt driver
- Replacing (so removing and re-adding) all baremetal nodes
  associated with a single nova-compute service

The update resources periodic will have destroyed the compute node
records because they're no longer being reported by the virt driver.
If we then attempt to manually delete the compute service record, the
datbase layer will raise an exception, as there are no longer any
compute node records for the host. This exception gets bubbled up as
an error 500 in the API. This patch adds a unit test to demonstrate
this.

Related bug: 1860312
Change-Id: I03eec634b25582ec9643cacf3e5868c101176983
(cherry picked from commit 32257a2a6d159406577c885a9d7e366cbf0c72b9)
"
openstack%2Fnova~stable%2Fwallaby~I2ae7e9782316e3662e4e51e3f5ba0ef597bf281b,openstack/nova,stable/wallaby,bug/1936278,I2ae7e9782316e3662e4e51e3f5ba0ef597bf281b,Fix request path to query a resource provider by uuid,MERGED,2021-07-30 16:40:03.000000000,2021-08-20 21:57:58.000000000,2021-08-20 21:56:03.000000000,1,1,0,803070,62a3fa4fff70a1d03998626406a71b7dc09da733,20,4,1,1,9816,Takashi Kajinami,kajinamit,"Fix request path to query a resource provider by uuid

To query a resource provider by uuid, request path should look like
 /resource_providers?uuid=<uuid>
istead of
 /resource_providers&uuid=<uuid>

This change fixes the wrong path so that ""nova-manage placement audit""
command can look up the target resource provider properly.

Closes-Bug: #1936278
Change-Id: I2ae7e9782316e3662e4e51e3f5ba0ef597bf281b
(cherry picked from commit 1d3373dcf0a05d4a2c5b51fc1b74d41ec1bb1175)
"
openstack%2Ftripleo-docs~master~I89bde6703f2661a1ed2305a3c846c1269a965fdd,openstack/tripleo-docs,master,,I89bde6703f2661a1ed2305a3c846c1269a965fdd,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 08:23:18.000000000,2021-08-20 21:57:20.000000000,2021-08-20 21:55:44.000000000,3,3,0,788204,bbf6e4b29a37a95166ab91277e51f155e64e141f,8,3,1,1,31027,MaAoyu,maaoyu,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I89bde6703f2661a1ed2305a3c846c1269a965fdd
"
openstack%2Ftripleo-ha-utils~master~I553278217772a4f87d053b2632baf485cac5bfad,openstack/tripleo-ha-utils,master,,I553278217772a4f87d053b2632baf485cac5bfad,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 08:24:40.000000000,2021-08-20 21:47:32.000000000,2021-08-20 21:47:32.000000000,3,3,0,788205,73af2b0f64c109f1a502e677238a3c6fec31fd00,7,3,1,1,31027,MaAoyu,maaoyu,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I553278217772a4f87d053b2632baf485cac5bfad
"
openstack%2Fpython-ironicclient~master~I3678c29fb090244f5e00208e4dcc8f1ad8a54ff5,openstack/python-ironicclient,master,lower-constraints-revamp,I3678c29fb090244f5e00208e4dcc8f1ad8a54ff5,Add lower-constraints job to current development branch,MERGED,2021-08-12 09:59:07.000000000,2021-08-20 21:47:24.000000000,2021-08-20 21:36:30.000000000,33,1,0,804374,61b46c3401fc3382b9d0daaee4f84dac70d50bab,9,3,1,4,23851,Riccardo Pittau,elfosardo,"Add lower-constraints job to current development branch

The lower-constraints test was removed because of an issue where pip
could not correctly determine the required packages versions to install,
ending in an almost infinite loop that would end up in timeout, failure,
and general mayhem.
Recently the issue has been fixed and, if properly configured, the
lower-constraints test can provide good indication of which minimum
versions are required to support the current code.
This patch adds the test back to the current development branch, and it
runs only on master.
The lower-constraints file will stay in the future stable branches.

Adjust min versions in requirements.txt accordingly.

Change-Id: I3678c29fb090244f5e00208e4dcc8f1ad8a54ff5
"
openstack%2Fbifrost~stable%2Fwallaby~I261dc97f878a9a8e8bba8f59a4c2886832c68ce9,openstack/bifrost,stable/wallaby,fix_redeploy-stable/wallaby,I261dc97f878a9a8e8bba8f59a4c2886832c68ce9,Fix Redeploy Playbook,MERGED,2021-07-12 08:15:59.000000000,2021-08-20 21:31:13.000000000,2021-08-20 21:29:12.000000000,11,11,0,800379,a645ff65ff6a802066b51243b17c364a5ec09b68,10,4,1,1,23851,Riccardo Pittau,elfosardo,"Fix Redeploy Playbook

This commit fixes 2 issues in redeploy playbook

- Default value of ironic_url is not set, added default(omit) to use
environment variable for connecting to ironic

- provision_state and maintenance is actually not set when pulling
ironic facts. This commit changes the playbook to refer to the value
registered in node_info.

Change-Id: I261dc97f878a9a8e8bba8f59a4c2886832c68ce9
(cherry picked from commit 43062e2fe7eb20202c67ec9253909a8f599ee643)
"
openstack%2Fbifrost~master~I2995f744996ea36e9e1004332de158acb62a9965,openstack/bifrost,master,document-fix,I2995f744996ea36e9e1004332de158acb62a9965,Changes made to install documentation,MERGED,2021-08-13 21:01:50.000000000,2021-08-20 21:30:45.000000000,2021-08-20 21:29:14.000000000,5,0,0,804548,a79892ca23d5efa2c983e4fbd7e922b627f47b0e,8,3,1,1,33512,Kam Killsfirst,kkillsfirst,"Changes made to install documentation

* Added developer mode parameter to Quick start with bifrost-cli

Change-Id: I2995f744996ea36e9e1004332de158acb62a9965
"
openstack%2Fbifrost~stable%2Fwallaby~I3b65db9ce57e53b8696e417bcfbd52c67ddb0b89,openstack/bifrost,stable/wallaby,,I3b65db9ce57e53b8696e417bcfbd52c67ddb0b89,Improve main function,MERGED,2021-08-09 08:06:20.000000000,2021-08-20 21:29:56.000000000,2021-08-20 21:26:08.000000000,3,2,0,803833,164bfc9b2da8adc02f62fa1c951a6efffc7d9041,9,4,1,1,23851,Riccardo Pittau,elfosardo,"Improve main function

The main function is wrapped with a sys.exit function[1] which has an optional
argument but the current implementation doesn't return a value in case of a
successful execution. This change ensures that main function returns a value
consumed by sys.exit function.

[1] https://docs.python.org/3/library/sys.html#sys.exit

Change-Id: I3b65db9ce57e53b8696e417bcfbd52c67ddb0b89
"
openstack%2Fsushy-tools~master~Ib28a19a930bb95a328f5b2d4c80a84126cb8b963,openstack/sushy-tools,master,lower-constraints-revamp,Ib28a19a930bb95a328f5b2d4c80a84126cb8b963,Add lower-constraints job to current development branch,MERGED,2021-08-12 10:07:58.000000000,2021-08-20 21:16:58.000000000,2021-08-20 21:12:35.000000000,17,2,0,804376,9a7cd1effaa1906428137a3b5eb8dd935ec648f1,16,3,2,2,23851,Riccardo Pittau,elfosardo,"Add lower-constraints job to current development branch

The lower-constraints test was removed because of an issue where pip
could not correctly determine the required packages versions to install,
ending in an almost infinite loop that would end up in timeout, failure,
and general mayhem.
Recently the issue has been fixed and, if properly configured, the
lower-constraints test can provide good indication of which minimum
versions are required to support the current code.
This patch adds the test back to the current development branch, and it
runs only on master.
The lower-constraints file will stay in the future stable branches.

Change-Id: Ib28a19a930bb95a328f5b2d4c80a84126cb8b963
"
openstack%2Ftripleo-docs~master~Ia36d42a7162da741ba11558bacea7c9a7e44f0cd,openstack/tripleo-docs,master,,Ia36d42a7162da741ba11558bacea7c9a7e44f0cd,ovs-dpdk: fixing deploy command,MERGED,2021-07-29 23:25:37.000000000,2021-08-20 21:06:44.000000000,2021-08-20 21:05:09.000000000,1,2,0,802970,e7390d5a88c4f9ce791526b4338ab489114c9ed1,10,6,1,1,27419,David Vallee Delisle,dvd,"ovs-dpdk: fixing deploy command

The neutron-ovs-dpdk environment file is now under services.

Also, the host-config-and-reboot template is not required anymore.

Change-Id: Ia36d42a7162da741ba11558bacea7c9a7e44f0cd
"
openstack%2Fironic~master~Ida7adb3c02db6279ef934797614eaa7be1f35daa,openstack/ironic,master,,Ida7adb3c02db6279ef934797614eaa7be1f35daa,Allow reboot to hard disk following iso ramdisk deploy.,MERGED,2021-07-09 19:07:18.000000000,2021-08-20 20:16:13.000000000,2021-07-12 09:11:14.000000000,79,1,1,800300,3bad548ce3d34207aa70fde8342082fe243bee31,17,4,2,4,1926,Derek Higgins,derekh,"Allow reboot to hard disk following iso ramdisk deploy.

Re-uses the force_persistent_boot_device driver_info option
which can be set to ``Never`` in order to set the virtual
media to one time boot.

Story: 2009042
Task: 42805

Change-Id: Ida7adb3c02db6279ef934797614eaa7be1f35daa
"
openstack%2Fopenstack-ansible~stable%2Fwallaby~I13903aed7863d311cf7bc7f7784222785608b3dc,openstack/openstack-ansible,stable/wallaby,,I13903aed7863d311cf7bc7f7784222785608b3dc,Add guide for distribution upgrades to docs,MERGED,2021-08-19 11:10:26.000000000,2021-08-20 19:41:59.000000000,2021-08-20 19:39:14.000000000,282,0,0,805140,2d39e392821d11cfbdb77277cf83efd7a5b70e85,8,4,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add guide for distribution upgrades to docs

This builds upon a guide which was only included in the docs for
the rocky release.

This has been tested against two deployments running the victoria
release with ubuntu bionic, moving to ubuntu focal.

Change-Id: I13903aed7863d311cf7bc7f7784222785608b3dc
(cherry picked from commit e48485b83d1fece5018debb89bb3048c0c323cd3)
"
openstack%2Fopenstack-ansible~stable%2Fvictoria~I13903aed7863d311cf7bc7f7784222785608b3dc,openstack/openstack-ansible,stable/victoria,,I13903aed7863d311cf7bc7f7784222785608b3dc,Add guide for distribution upgrades to docs,MERGED,2021-08-19 11:10:41.000000000,2021-08-20 19:41:30.000000000,2021-08-20 19:39:15.000000000,282,0,0,805141,897d2c5d1668859bb5204af3a52ae203a773dd72,8,3,1,2,28619,Dmitriy Rabotyagov,noonedeadpunk,"Add guide for distribution upgrades to docs

This builds upon a guide which was only included in the docs for
the rocky release.

This has been tested against two deployments running the victoria
release with ubuntu bionic, moving to ubuntu focal.

Change-Id: I13903aed7863d311cf7bc7f7784222785608b3dc
(cherry picked from commit e48485b83d1fece5018debb89bb3048c0c323cd3)
"
openstack%2Fpython-tripleoclient~stable%2Ftrain~I7072617770d258b2ba790fa274d2153c01bfe650,openstack/python-tripleoclient,stable/train,,I7072617770d258b2ba790fa274d2153c01bfe650,[train-only] Honour DeploymentServerBlacklist,MERGED,2021-08-18 05:02:25.000000000,2021-08-20 19:32:24.000000000,2021-08-20 19:29:46.000000000,28,10,0,804946,935c6592cdf9a324ad0775d26681bb004ed667a9,8,3,1,3,8833,Rabi Mishra,rabi,"[train-only] Honour DeploymentServerBlacklist

With external-update/upgrade run, --limit is not mandatory,
as it can be run on all nodes. However, we don't seem to honor
blacklisted hosts.

This is fine from ussuri onwards after we dropped mistral[1] and
used deployment.config_download() for all these.

[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/707894
Change-Id: I7072617770d258b2ba790fa274d2153c01bfe650
"
openstack%2Fglance~master~I1beb5f18d4f7663bfb25d28d0db7ebd02a3af0ba,openstack/glance,master,timeout-test,I1beb5f18d4f7663bfb25d28d0db7ebd02a3af0ba,DNM [Master] functional-py36 timeout test,ABANDONED,2021-08-17 21:45:43.000000000,2021-08-20 19:20:51.000000000,,14,54,0,804921,80856edcb38878cafc9aa4dd207c0a8ba8ba70f2,23,2,1,1,9303,Abhishek Kekane,abhishekkekane,"DNM [Master] functional-py36 timeout test

Change-Id: I1beb5f18d4f7663bfb25d28d0db7ebd02a3af0ba
"
openstack%2Foslo.utils~master~I000dcc5db4e19e24f824a271c78e24529a8dd61a,openstack/oslo.utils,master,,I000dcc5db4e19e24f824a271c78e24529a8dd61a,setup.cfg: Replace dashes with underscores,MERGED,2021-08-11 03:04:06.000000000,2021-08-20 19:07:28.000000000,2021-08-20 19:05:54.000000000,4,4,0,804187,cf45c2cf8a9ac7308cf425a8c5263314cc398dc9,10,3,2,1,32238,wdd,wangzihao,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].

Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages like the following
on new enough versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I000dcc5db4e19e24f824a271c78e24529a8dd61a
"
openstack%2Fswift~master~I39306fa2109516855931a9850dac3e25188f3cad,openstack/swift,master,fix-bind-logs,I39306fa2109516855931a9850dac3e25188f3cad,Exit if server_per_port fails to bind all children,NEW,2021-08-20 17:21:46.000000000,2021-08-20 19:06:48.000000000,,5,0,3,805441,8349d0518699e70c4ba11d8c4a1e03252bf60c81,4,2,1,1,1179,Clay Gerrard,clay-gerrard,"Exit if server_per_port fails to bind all children

Because server_per_port can change with a ring reload we have to be
careful about shutting down.

TODO: what if just a single port fails over and over again?

Closes-Bug: #1940694
Change-Id: I39306fa2109516855931a9850dac3e25188f3cad
"
openstack%2Fpuppet-openstack-integration~master~Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,openstack/puppet-openstack-integration,master,retire-puppet-monasca,Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,Remove remaining reference to puppet-monasca,MERGED,2021-08-20 15:43:16.000000000,2021-08-20 19:05:37.000000000,2021-08-20 19:05:37.000000000,0,4,0,805413,f45e67023c0fde517dffd1251cb9dcd57bb1cb7c,8,2,2,1,9816,Takashi Kajinami,kajinamit,"Remove remaining reference to puppet-monasca

... which should have been deleted by the previous change[1].

[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934

Change-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd
"
openstack%2Fcinder~master~Iaa03e417727e97011e421e1f45ac2ac5b8e6af6a,openstack/cinder,master,bug/1926286,Iaa03e417727e97011e421e1f45ac2ac5b8e6af6a,[SVF] Fix issue to get volume relationship details,MERGED,2021-04-27 11:50:11.000000000,2021-08-20 19:05:01.000000000,2021-08-17 19:09:25.000000000,152,1,5,788253,eaafd81e9a121830ce430123a1651b33e7cfff41,196,5,7,3,32266,Venkata krishna Thumu,venkatakrishnathumu,"[SVF] Fix issue to get volume relationship details

[Spectrum Virtualize Family] Fix the issue while fetching
relationship details of a volume with replication enabled.

During some bulk cinder operations such as volume create,
retype and clone for a volume with replication enabled,
replication properties to metadata are not being updated
properly due to an error response from the storage backend
while trying to fetch volume-relationship details. Users will
feel that the operation is successful but have no idea that
volume metadata is partially updated or not updated correctly.
So, given a fix by applying a retry mechanism to get
volume-relationship details and raising an exception if that
backend call still gives an error response.

Closes-Bug: #1926286

Change-Id: Iaa03e417727e97011e421e1f45ac2ac5b8e6af6a
"
openstack%2Fcinder~master~I4ca2d2bb8dd4dbf8f8d8918bf51001f10049f6a7,openstack/cinder,master,,I4ca2d2bb8dd4dbf8f8d8918bf51001f10049f6a7,conditional_update(): disable false pylint error message,MERGED,2021-08-10 17:00:34.000000000,2021-08-20 19:00:49.000000000,2021-08-20 18:58:40.000000000,1,0,0,804118,d613ce06cc02b3599c6154662a9a714fe43a2856,48,4,1,1,4523,Eric Harney,eharney,"conditional_update(): disable false pylint error message

Disable an E1137 that pylint generates in
conditional_update().  The ""order"" variable is always
a list and not a tuple when it contains keys.

Change-Id: I4ca2d2bb8dd4dbf8f8d8918bf51001f10049f6a7
"
openstack%2Fnova~master~I221013216c4bdd241a894fb0a68c95d98d649c33,openstack/nova,master,vmwareapi_dry_get_hardware_devices,I221013216c4bdd241a894fb0a68c95d98d649c33,VMWare: Use get_hardware_devices throughout,MERGED,2021-08-18 13:01:49.000000000,2021-08-20 19:00:22.000000000,2021-08-20 18:58:32.000000000,18,69,0,805017,1f2aa3e9d83219a2f504907c2ff02a04aefde7d6,12,3,1,5,24434,Fabian Wiesel,fwiesel,"VMWare: Use get_hardware_devices throughout

Instead of retrieving the hardware devices
through a get_object_property directly,
and then inconsistently handling the normalisation
in the called function or in the caller,
use get_hardware_devices everywhere and handle
the normalisation there.

Change-Id: I221013216c4bdd241a894fb0a68c95d98d649c33
"
openstack%2Fswift~master~Iad6a3bcc99a26550048346dffec9aee432828f3a,openstack/swift,master,p-shard-repair,Iad6a3bcc99a26550048346dffec9aee432828f3a,use a context manager to apply --no-auto-shard option,MERGED,2020-12-18 11:58:18.000000000,2021-08-20 19:00:17.000000000,2021-08-20 18:58:43.000000000,30,23,3,767703,9f9360833cd3d84cb9f483ce1a2ddc42c33a0b7f,14,3,1,1,7847,Alistair Coles,acoles,"use a context manager to apply --no-auto-shard option

...so that it gets unapplied at end of the run_* methods

This is probably overkill, but does guard against unforeseen
side-effects if the daemon run_* methods were ever called more than
once with different kwargs.

Change-Id: Iad6a3bcc99a26550048346dffec9aee432828f3a
"
openstack%2Frequirements~master~I8f2233b8d19978c6a12a260960948e4ec3297b95,openstack/requirements,master,new-release,I8f2233b8d19978c6a12a260960948e4ec3297b95,update constraint for metalsmith to new release 1.5.1,MERGED,2021-08-20 13:51:22.000000000,2021-08-20 19:00:16.000000000,2021-08-20 18:58:37.000000000,1,1,0,805385,421a799c24616cbfea311d7ca3965ce268365905,9,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for metalsmith to new release 1.5.1

meta: version: 1.5.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I5e2ada4bd525d9568d53eea58e1264adcc81dd84
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I8f2233b8d19978c6a12a260960948e4ec3297b95
"
openstack%2Fopenstack-tempest-skiplist~master~Iaa22816430cad5b2d163b920b2d5db830cc275a4,openstack/openstack-tempest-skiplist,master,bug/1940568,Iaa22816430cad5b2d163b920b2d5db830cc275a4,Update FloatingIpMultipleRoutersTest in skiplist,MERGED,2021-08-20 14:25:43.000000000,2021-08-20 18:49:36.000000000,2021-08-20 18:48:00.000000000,4,0,1,805393,88ee6527a93c92927205731933bbc23ad3afedf0,11,3,2,1,30002,Douglas Viroel,dviroel,"Update FloatingIpMultipleRoutersTest in skiplist

As described in bug #1940568, the test is frequently failing so
we are moving it to skiplist to unblock jobs.
Adding job:
 - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-wallaby

Related-Bug: #1940568
Change-Id: Iaa22816430cad5b2d163b920b2d5db830cc275a4
"
openstack%2Foslo.messaging~master~I0c8dc447f4dc8d0d08c312a1f3e6fa1745fb69fd,openstack/oslo.messaging,master,amqp1-fix-tls-failover,I0c8dc447f4dc8d0d08c312a1f3e6fa1745fb69fd,amqp1: Do not reuse _socket_connection on reconnect,MERGED,2021-08-04 19:09:10.000000000,2021-08-20 18:12:24.000000000,2021-08-20 18:09:40.000000000,37,8,0,803508,f9de265f392dca5386491120593d57b124342c5f,12,6,2,2,9257,John Eckersberg,jeckersb,"amqp1: Do not reuse _socket_connection on reconnect

Each _SocketConnection object is unique per-peer.  For example, the
properties attribute may contain keys such as 'x-ssl-peer-name'.
Reusing the existing _socket_connection during failover will cause the
TLS handshake to fail since the peer name will not match.  There is
potential for other similar-yet-unexplored bad things to happen as
well.

Instead, reconnect by waking up the eventloop via the _do_reconnect
method, which reconstructs the connection properties to reflect the
new (failed-over-to) host and ultimately crates a new
_SocketConnection (or re-uses a *valid* old one) in
eventloop.Thread.connect().

Closes-Bug: #1938945
Change-Id: I0c8dc447f4dc8d0d08c312a1f3e6fa1745fb69fd
"
openstack%2Foslo.messaging~master~Ia2f977795abc2e81a996e299867e05d41057f33f,openstack/oslo.messaging,master,amqp1-fix-tls-failover,Ia2f977795abc2e81a996e299867e05d41057f33f,amqp1: re-organize TestFailover to be reused by TestSSL,MERGED,2021-08-10 21:04:38.000000000,2021-08-20 18:11:02.000000000,2021-08-20 18:09:38.000000000,13,7,0,804141,01f5b3787494f0402c22c9e1fe78d293154dac6a,8,3,1,1,9257,John Eckersberg,jeckersb,"amqp1: re-organize TestFailover to be reused by TestSSL

This breaks out the generation of brokers and transport_url into
separate methods.  These methods are used in the next patch in this
series, where TestSSL is updated to inherit from TestFailover, and
TestSSL overrides the _gen_brokers and _gen_transport_url methods to
supply the necessary SSL-aware options.

Change-Id: Ia2f977795abc2e81a996e299867e05d41057f33f
"
openstack%2Fnova~master~Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8,openstack/nova,master,bp/sriov-smartnic-support,Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8,smartnic support - reject server move and suspend,MERGED,2021-03-11 07:46:21.000000000,2021-08-20 18:03:59.000000000,2021-08-19 18:13:22.000000000,307,42,32,779913,1f53176d2f4303b909ecad18cb0f027bfcd0b7ae,212,6,32,19,7543,Yongli He,yongli.he,"smartnic support - reject server move and suspend

Server with ARQ in the port does not support move and suspend,
reject these operations in API stage:

	- resize
	- shelve
	- live_migrate
	- evacuate
	- suspend
	- attach/detach a smartnic port

Reject create server with smartnic in port if minimal compute
service version less than 57

Reject create server with port which have a malformed device
profile that request multi devices, like:
  {
      ""resources:CUSTOM_ACCELERATOR_FPGA"": ""2"",
      ""trait:CUSTOM_INTEL_PAC_ARRIA10"": ""required"",
  }

Implements: blueprint sriov-smartnic-support
Change-Id: Ia705a0341fb067e746a3b91ec4fc6d149bcaffb8
"
openstack%2Fcinder~stable%2Fstein~Iaeeb7745335a81419ef4d49fc996c566d68690ba,openstack/cinder,stable/stein,pin-stein-last,Iaeeb7745335a81419ef4d49fc996c566d68690ba,DNM Dummy change to test a cinder-tempest-plugin/stein fix,ABANDONED,2021-06-28 15:47:55.000000000,2021-08-20 18:01:25.000000000,,3,1,0,798347,572ae3c674c84360491cf8715e90da3a242878eb,19,2,3,3,10459,Luigi Toscano,ltoscano,"DNM Dummy change to test a cinder-tempest-plugin/stein fix

Depends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/798344
Change-Id: Iaeeb7745335a81419ef4d49fc996c566d68690ba
"
openstack%2Foslo.db~stable%2Fussuri~Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346,openstack/oslo.db,stable/ussuri,releasenote-mysql-duplicate-key-error-update-handler-stable/ussuri,Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346,"Followup of ""Added handler for mysql 8.0.19 duplicate key error update""",MERGED,2021-06-30 08:18:34.000000000,2021-08-20 18:00:22.000000000,2021-08-20 17:57:08.000000000,8,0,0,798765,a051545781d8ce9604b52bbe6dacde55a5e51629,15,3,4,1,33244,kamlesh chauvhan,kamlesh.chauvhan,"Followup of ""Added handler for mysql 8.0.19 duplicate key error update""

Followup of change: Ic78059b625e73cece355541cb4d89e641abc1103

Change-Id: Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346
(cherry picked from commit be2cc6a2ce40f6666d1e2b0f13054e7be7bc792e)
(cherry picked from commit 698e909bc22e3568e11959ed3cff64aa94a39922)
(cherry picked from commit 81e55722dc83744c7cc5fc6a062248843519db69)
"
openstack%2Foslo.db~stable%2Fussuri~Ic78059b625e73cece355541cb4d89e641abc1103,openstack/oslo.db,stable/ussuri,handle_duplicate_mysql_key_error-stable/ussuri,Ic78059b625e73cece355541cb4d89e641abc1103,Added handler for mysql 8.0.19 duplicate key error update,MERGED,2021-06-30 08:15:36.000000000,2021-08-20 17:58:38.000000000,2021-08-20 17:57:06.000000000,35,0,0,798762,79bfbd6ec7705ca558c34b6e368f95d93ddf94b0,14,3,3,2,33244,kamlesh chauvhan,kamlesh.chauvhan,"Added handler for mysql 8.0.19 duplicate key error update

In mysql 8.0.19 , Duplicate key error information is extended to
include the table name of the key.Previously, duplicate key error
information included only the key value and key name.

Unit tests are provided for updated changes.

Change-Id: Ic78059b625e73cece355541cb4d89e641abc1103
Closes-Bug: #1896916
(cherry picked from commit 2c2e6d48ace2d91dce94d2e62fb0bdda904bc2bd)
(cherry picked from commit b32b643acc0528099a88504d4d824cdc002a85df)
(cherry picked from commit 8867e335da5451779d54a05e3f6194a3361582af)
"
openstack%2Fdebtcollector~master~Ifc98b578c4cb6f917e1fc62177fd09ff4d25b6d4,openstack/debtcollector,master,getargspec,Ifc98b578c4cb6f917e1fc62177fd09ff4d25b6d4,Replace deprecated inspect.getargspec,MERGED,2021-07-15 11:53:00.000000000,2021-08-20 17:51:15.000000000,2021-08-20 17:49:51.000000000,10,10,0,800927,0bf5bf5f2a4775d6cbd634594757dac3524e5f23,8,3,1,1,9816,Takashi Kajinami,kajinamit,"Replace deprecated inspect.getargspec

inspect.getargspec was deprecated since Python 3.0 and
inspect.getfullargspec is its replacement with correct handling of
function annotations and keyword-only parameters[1].

[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Change-Id: Ifc98b578c4cb6f917e1fc62177fd09ff4d25b6d4
"
openstack%2Foslo.config~master~Ie7971577aeba299aaf9406fc97793d946342eaeb,openstack/oslo.config,master,TOX_CONSTRAINTS_FILE,Ie7971577aeba299aaf9406fc97793d946342eaeb,Replace deprecated UPPER_CONSTRAINTS_FILE variable,MERGED,2020-12-01 10:02:49.000000000,2021-08-20 17:50:44.000000000,2021-08-20 17:49:21.000000000,1,1,0,764919,807d9c5ca4369ca75a8a4fedbf45d252457ca573,15,3,2,1,32029,likui,likui,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

UPPER_CONSTRAINTS_FILE is old name and deprecated

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: Ie7971577aeba299aaf9406fc97793d946342eaeb
"
openstack%2Foslo.privsep~master~I2eed242e0c796b8a2aa3d1b21bd1da4c497f624d,openstack/oslo.privsep,master,,I2eed242e0c796b8a2aa3d1b21bd1da4c497f624d,Add except path with exception debug to send_recv,MERGED,2021-08-02 15:59:23.000000000,2021-08-20 17:46:42.000000000,2021-08-20 17:45:19.000000000,4,0,3,803225,4f1450677ff7c6b22496c391ab87dc79c86c3ef4,12,3,4,1,11805,Corey Bryant,coreycb,"Add except path with exception debug to send_recv

The related bug resulted when an exception occurred within the
future.result() call. This caused the finally block to be executed,
and therefore myid to be deleted from self.outstanding_msgs prior
to _reader_main() checking if the msgid not in self.outstanding_msgs.
This caused _reader_main() to raise an AssertionError because the
msgid was no longer in outstanding_msgs. This is a small step forward
to log a warning when this siutation occurs.

Related-Bug: #1927868
Change-Id: I2eed242e0c796b8a2aa3d1b21bd1da4c497f624d
"
openstack%2Foslo.messaging~master~I4f286cf3af0d578f472b84fe355c812910c7a121,openstack/oslo.messaging,master,amqp1-fix-tls-failover,I4f286cf3af0d578f472b84fe355c812910c7a121,"Revert ""Disable AMQP 1.0 SSL unit tests""",MERGED,2021-08-05 20:33:06.000000000,2021-08-20 17:43:35.000000000,2021-08-20 17:41:57.000000000,1,2,0,803670,fc49e04e6df4f3245ae8a313d8ba4a54d48c42a0,10,7,2,1,9257,John Eckersberg,jeckersb,"Revert ""Disable AMQP 1.0 SSL unit tests""

This reverts commit 8f5cfda6642ea7f75206d3183c2507e2e83c5693.

Reason for revert: This was supposed to be temporary to unblock the gate.  Whatever broke SSL cert generation in the first place appears to be fixed because I can run SSL tests now.

Change-Id: I4f286cf3af0d578f472b84fe355c812910c7a121
"
openstack%2Fnova~master~Iadcc1944b43cc11d5e9d4c27e4949d811c2dcdfb,openstack/nova,master,,Iadcc1944b43cc11d5e9d4c27e4949d811c2dcdfb,Improve prep_resize reschedule unit test,MERGED,2021-07-09 18:53:42.000000000,2021-08-20 17:24:54.000000000,2021-08-20 17:22:01.000000000,7,2,0,800297,be9fe5ce6154ef116e631a11589bf60c9ecc4b71,14,3,1,1,14567,Rodrigo Barbieri,ganso,"Improve prep_resize reschedule unit test

Unit test test_prep_resize_errors_migration was
failing on _get_scheduler_hints instead of
_prep_resize. This change fixes the unit test
to raise the error in the proper statement and
validate the intended code path.

Change-Id: Iadcc1944b43cc11d5e9d4c27e4949d811c2dcdfb
"
openstack%2Fpuppet-ironic~master~I48e3f36115825f620dfc924fe097cdce92deb80d,openstack/puppet-ironic,master,sync_power_state_workers,I48e3f36115825f620dfc924fe097cdce92deb80d,Expose sync_power_state_workers,MERGED,2021-08-20 08:32:27.000000000,2021-08-20 17:24:09.000000000,2021-08-20 17:22:23.000000000,14,0,0,805357,9e2422cc4ee8168ba64b68f8a33010c166beeb12,8,3,1,3,11292,Arne Wiebalck,wiebalck,"Expose sync_power_state_workers

The sync_power_state_workers parameter allows to tune the parallelism
in BMC connections when getting the power state. This may be needed to
cope with misbehaving BMCs or IPMI power status failures due to UDP
packet loss.

Change-Id: I48e3f36115825f620dfc924fe097cdce92deb80d
"
openstack%2Fcinder~master~Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5,openstack/cinder,master,bug/1842088,Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5,Allow removing NFS snapshots in error status,MERGED,2019-08-28 20:40:03.000000000,2021-08-20 17:23:49.000000000,2021-08-20 17:18:30.000000000,3,1,19,679138,5714bdb8447a38440585116f784a322143711959,298,50,12,2,20813,Sofia Enriquez,enriquetaso,"Allow removing NFS snapshots in error status

The NFS driver doesn't allow to delete snapshots in error state when
snapshot support is disable.

I'm facing some scenarios where snapshots are enabled then a snapshot
is created and after that then snapshots are disabled. This results
in error state snapshots that can't be deleted.  Another scenario is
- with nfs snapshot support disable from the beginning- the API layer
allows the snapshot to be created but the NFS driver sets the status
to ""error"" leaving the snapshot in the DB with error state.
Because of that, I have snapshots in error state that I'm not able
to delete.

The purpose of this fix allow deleting snapshots in error state.
It makes sense to block creating snapshots when snapshot support is
False. However, when deleting snapshot we don't want to block
attempts to delete a broken snapshot DB entry, which is necessary to
clean up a failed snapshot create.

Closes-Bug: #1842088
Change-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5
"
openstack%2Fnova~master~Ib4950728d461a12ddfb8794c3c5be7ea07167fbb,openstack/nova,master,list_equal,Ib4950728d461a12ddfb8794c3c5be7ea07167fbb,tests: Remove 'stub_out_trusted_certs',MERGED,2020-12-04 02:30:14.000000000,2021-08-20 17:23:06.000000000,2021-08-20 17:17:45.000000000,0,25,0,765432,48f35058fe6f821644b4b188a1273a4d8e547d78,27,5,2,2,20190,zhufl,zhufl,"tests: Remove 'stub_out_trusted_certs'

We don't fetch TrustedCert objects like this. Instead, we simply access
'instance.trusted_certs', which has already been configured earlier in
the '_action_rebuild' method in 'nova.api.openstack.compute.servers'.

Change-Id: Ib4950728d461a12ddfb8794c3c5be7ea07167fbb
"
openstack%2Frequirements~master~I78f9c066d853def41d35a6db536922f9bd49f392,openstack/requirements,master,new-release,I78f9c066d853def41d35a6db536922f9bd49f392,update constraint for glance_store to new release 2.7.0,MERGED,2021-08-19 13:27:39.000000000,2021-08-20 17:22:44.000000000,2021-08-20 17:18:23.000000000,1,1,0,805220,351976550c476c1fb24ae85f2947438dee918ce1,30,3,1,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for glance_store to new release 2.7.0

meta: version: 2.7.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ib13cbe6e35c83d89216ad24958c4004affba13cb
meta: release:Code-Review+1: Abhishek Kekane <akekane@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I78f9c066d853def41d35a6db536922f9bd49f392
"
openstack%2Fnova~master~Iff44abf002aac548340ffab0a6f85bc4906738a3,openstack/nova,master,change-798187-2,Iff44abf002aac548340ffab0a6f85bc4906738a3,Add logs when cannot fit numa,MERGED,2021-06-26 09:58:14.000000000,2021-08-20 17:21:50.000000000,2021-08-20 17:21:50.000000000,2,0,15,798187,97a566ad9c3a6ab059dc94d154fb747e4b7d9ccd,49,5,4,1,23950,Eric Xie,ericxie,"Add logs when cannot fit numa

When 'host_topology' can not be satified with 'requested_topology',
nova-compute returns the msg to nova-conductor but there is no logs
in nova-compute.log. So this patch adds some info log.

Closes-Bug: #1934412
Change-Id: Iff44abf002aac548340ffab0a6f85bc4906738a3
"
openstack%2Fcinder~stable%2Fwallaby~I179f23d3e6c62d02c069be0dd3d60968a2119568,openstack/cinder,stable/wallaby,bug/1931049-stable/wallaby,I179f23d3e6c62d02c069be0dd3d60968a2119568,Add libcgroup related packages in bindep.txt,MERGED,2021-07-19 00:22:03.000000000,2021-08-20 17:21:30.000000000,2021-08-20 17:18:42.000000000,2,0,0,801236,ba4dc6f937821451e476a8e6bd2fcb01c21542e2,23,6,1,1,25613,Keigo Noha,knoha,"Add libcgroup related packages in bindep.txt

To use volume_copy_bps_limit option, libcgroup package is required.
This change adds cgroup-tools for dpkg based distros and libcgroup-tools
for rpm based distros.

Closes-Bug: #1931049
Change-Id: I179f23d3e6c62d02c069be0dd3d60968a2119568
(cherry picked from commit ca1e0bd76beafa20a2240260b1a5116b6ea6bfcd)
"
openstack%2Fnova~master~Id08dafa72d617ca85e66d50b3c91045e0e8723d0,openstack/nova,master,remove-custom-schedulers,Id08dafa72d617ca85e66d50b3c91045e0e8723d0,scheduler: Merge 'FilterScheduler' into base class,MERGED,2021-02-02 11:28:48.000000000,2021-08-20 17:21:10.000000000,2021-08-20 17:17:37.000000000,589,681,0,773643,e0534cc2893dbe7bf844f7223cfbba84a2a4e782,52,3,5,11,15334,Stephen Finucane,sfinucan,"scheduler: Merge 'FilterScheduler' into base class

There are no longer any custom filters. We don't need the abstract base
class. Merge the code in and give it a more useful 'SchedulerDriver'
name.

Change-Id: Id08dafa72d617ca85e66d50b3c91045e0e8723d0
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
"
openstack%2Frequirements~master~I4337bb27399cd49f87fd2e68a9ea917d3ebde44d,openstack/requirements,master,new-release,I4337bb27399cd49f87fd2e68a9ea917d3ebde44d,update constraint for castellan to new release 3.9.1,MERGED,2021-08-19 12:52:20.000000000,2021-08-20 17:20:56.000000000,2021-08-20 17:18:10.000000000,1,1,0,805208,d004ffd815ada96370640614e612ced40d2d1da7,34,3,2,1,11131,OpenStack Proposal Bot,proposal-bot,"update constraint for castellan to new release 3.9.1

meta: version: 3.9.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I63492f11606983f672011cafb03b21fe14fb0214
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I4337bb27399cd49f87fd2e68a9ea917d3ebde44d
"
openstack%2Fnova~stable%2Fwallaby~I93da6cb1675d77bcdcd1075641dea9e2afc0ee1a,openstack/nova,stable/wallaby,bug/1931710,I93da6cb1675d77bcdcd1075641dea9e2afc0ee1a,Retry lvm volume and volume group query,MERGED,2021-06-16 16:31:31.000000000,2021-08-20 17:20:55.000000000,2021-08-20 17:17:57.000000000,15,6,0,796707,2b2434c173959aa728de8bfc1a0f1e1027ee0466,15,5,1,2,15334,Stephen Finucane,sfinucan,"Retry lvm volume and volume group query

We observed that the vgs and lvs queries the our lvm driver uses can
intermittently fail with error code 11 (EAGAIN). So this patch enabled
the retry in oslo_concurrency.processutils for these calls.

Change-Id: I93da6cb1675d77bcdcd1075641dea9e2afc0ee1a
Closes-Bug: #1931710
(cherry picked from commit e59fc77c3d924cfab6ddcd780ae0604a84e64c30)
"
openstack%2Fcinder~master~I48a5572052cd2cf1dd984f0e4be5703f1e6bc558,openstack/cinder,master,retrying-call,I48a5572052cd2cf1dd984f0e4be5703f1e6bc558,Replace deprecated tenacity.Retrying.call,MERGED,2021-07-22 18:11:31.000000000,2021-08-20 17:18:17.000000000,2021-08-20 17:18:17.000000000,1,1,1,801916,bd0e409b7a1a51ef87336420a2bf32f842f1e7c0,54,4,2,1,9816,Takashi Kajinami,kajinamit,"Replace deprecated tenacity.Retrying.call

... by the __call__ method following the deprecation in the tenacity
library[1].

[1] https://github.com/jd/tenacity/commit/d66af82a70dd9af24a7953c6ae5f02d8f198d10f

Change-Id: I48a5572052cd2cf1dd984f0e4be5703f1e6bc558
"
openstack%2Fcinder~master~I485e87b9a80bb4acec7f9bfde188e601663becb7,openstack/cinder,master,,I485e87b9a80bb4acec7f9bfde188e601663becb7,Doc: api-ref doc update,MERGED,2021-05-27 11:48:36.000000000,2021-08-20 17:18:06.000000000,2021-08-20 17:18:06.000000000,3,1,1,793386,98de5e08bf38cc09e4923a8f7d56f2b8136bcdeb,32,8,2,1,30615,Tushar Trambak Gite,tushargite96,"Doc: api-ref doc update

Volume multi-attach support was added in cinder and
nova in queens release.

Change-Id: I485e87b9a80bb4acec7f9bfde188e601663becb7
"
openstack%2Fcinder~master~I49e0adea8fbd97d49f4386b8240320ea2baf3661,openstack/cinder,master,,I49e0adea8fbd97d49f4386b8240320ea2baf3661,Doc: Remove backup_id from backup import url and parameter,MERGED,2021-08-09 10:06:38.000000000,2021-08-20 17:18:02.000000000,2021-08-20 17:18:02.000000000,1,2,0,803896,7b9143fae980f118c6e439a7f09184b571d9567f,23,4,1,1,33830,Stephan Pampel,stephanpampel,"Doc: Remove backup_id from backup import url and parameter

In the documentation for importing backups the backup_id is removed
because the backup_id is generated after the upload and the user
does not need to provide it. Therefore the request parameter
backup_id has also been removed.

Closes-Bug: #1930526
Change-Id: I49e0adea8fbd97d49f4386b8240320ea2baf3661
"
openstack%2Fpuppet-nova~stable%2Fwallaby~I35b964d96e6a558f1a10daa2391a398db60ea800,openstack/puppet-nova,stable/wallaby,,I35b964d96e6a558f1a10daa2391a398db60ea800,Allow for a more permissible regex,MERGED,2021-08-18 08:15:19.000000000,2021-08-20 17:09:16.000000000,2021-08-20 17:09:16.000000000,1,1,0,804862,7ff77f8225f3974c04fdb6f3a9a6ddd2ff8a926a,9,3,1,1,25600,Ebbex,ebbex,"Allow for a more permissible regex

Some openstack installations use characters that are not in \w, the
old regex, now moved to string2hash was more permissible, and
there's probably no reason the regex in pythondict2hash can't be
just as permissible.

Change-Id: I35b964d96e6a558f1a10daa2391a398db60ea800
(cherry picked from commit 7111aa75f98b9038824d2a47e36dfd6d5043c80e)
"
openstack%2Fkolla-ansible~stable%2Fussuri~I6aa8db2214e07906f1f3e035411fc80ba911a274,openstack/kolla-ansible,stable/ussuri,,I6aa8db2214e07906f1f3e035411fc80ba911a274,nova: Use cinder user for Ceph,MERGED,2021-08-09 08:55:04.000000000,2021-08-20 16:59:08.000000000,2021-08-20 16:56:50.000000000,23,8,0,803840,fcad47657a280949a81053d65cc10a24fc2f242e,10,3,1,3,14826,Mark Goddard,mgoddard,"nova: Use cinder user for Ceph

In Ussuri, nova stopped using separate Ceph keys for the volumes and vms
pools by default. Instead, we set ceph_nova_keyring to the value of
ceph_cinder_keyring by default, which is ceph.client.cinder.keyring.
This is in line with the Ceph OpenStack integration guide [1]. However,
the user used by nova to access the vms pool (ceph_nova_user) defaults
to nova, meaning that nova will still try to use a
ceph.client.nova.keyring, which probably does not exist. We did not see
this issue in CI, because we set ceph_nova_user to cinder.

This change fixes the issue by setting ceph_nova_user to the value of
ceph_cinder_user by default, which is cinder.

Closes-Bug: #1934145
Related-Bug: #1928690

[1] https://docs.ceph.com/en/latest/rbd/rbd-openstack/

Change-Id: I6aa8db2214e07906f1f3e035411fc80ba911a274
"
openstack%2Fpuppet-openstack-integration~stable%2Fvictoria~Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,openstack/puppet-openstack-integration,stable/victoria,retire-puppet-monasca,Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,Remove remaining reference to puppet-monasca,ABANDONED,2021-08-20 15:49:11.000000000,2021-08-20 16:58:57.000000000,,0,4,0,805418,a91a2d527fdbe8c30041ba962f72295bc8deeeae,4,1,2,1,9816,Takashi Kajinami,kajinamit,"Remove remaining reference to puppet-monasca

... which should have been deleted by the previous change[1].

[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934

Conflicts:
	Puppetfile

Resolved conflict caused by branch overrides.

Change-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd
(cherry picked from commit f45e67023c0fde517dffd1251cb9dcd57bb1cb7c)
(cherry picked from commit 0fec0a3f72a99abf318656068dee3ff714489fef)
"
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,openstack/puppet-openstack-integration,stable/ussuri,retire-puppet-monasca,Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd,Remove remaining reference to puppet-monasca,ABANDONED,2021-08-20 15:51:37.000000000,2021-08-20 16:58:55.000000000,,0,4,0,805420,f9bf139206332539dc22009557acdf7251b09c01,3,1,1,1,9816,Takashi Kajinami,kajinamit,"Remove remaining reference to puppet-monasca

... which should have been deleted by the previous change[1].

[1] 25009d7f3ad04490989c713fee9d3fe72f7a0934

Conflicts:
	Puppetfile

Resolved conflict caused by branch overrides.

Change-Id: Ieb189e85b4cd49d3635e5ee1fd8081de3f0a68bd
(cherry picked from commit f45e67023c0fde517dffd1251cb9dcd57bb1cb7c)
(cherry picked from commit 0fec0a3f72a99abf318656068dee3ff714489fef)
(cherry picked from commit a91a2d527fdbe8c30041ba962f72295bc8deeeae)
"
